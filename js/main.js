var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&(c=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+c+"$"+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};
$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(f,g){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,e=function(f){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+d++,f)};return e},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.polyfill("Symbol.asyncIterator",function(a){return a?a:Symbol("Symbol.asyncIterator")},"es9","es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};
(function(){
shadow$provide[0]=function(Eb,ob,Dc,Wa){function u(ca){if(null===ca||"object"!==typeof ca)return null;ca=fa&&ca[fa]||ca["@@iterator"];return"function"===typeof ca?ca:null}function h(ca,ha,La){this.props=ca;this.context=ha;this.refs=Xa;this.updater=La||za}function ia(){}function ab(ca,ha,La){this.props=ca;this.context=ha;this.refs=Xa;this.updater=La||za}function zb(ca,ha,La){var oa,pa={},m=null,D=null;if(null!=ha)for(oa in void 0!==ha.ref&&(D=ha.ref),void 0!==ha.key&&(m=""+ha.key),ha)bb.call(ha,oa)&&
!Qb.hasOwnProperty(oa)&&(pa[oa]=ha[oa]);var L=arguments.length-2;if(1===L)pa.children=La;else if(1<L){for(var w=Array(L),P=0;P<L;P++)w[P]=arguments[P+2];pa.children=w}if(ca&&ca.defaultProps)for(oa in L=ca.defaultProps,L)void 0===pa[oa]&&(pa[oa]=L[oa]);return{$$typeof:Za,type:ca,key:m,ref:D,props:pa,_owner:tb.current}}function Yb(ca,ha){return{$$typeof:Za,type:ca.type,key:ha,ref:ca.ref,props:ca.props,_owner:ca._owner}}function ac(ca){return"object"===typeof ca&&null!==ca&&ca.$$typeof===Za}function Xb(ca){var ha=
{"\x3d":"\x3d0",":":"\x3d2"};return"$"+ca.replace(/[=:]/g,function(La){return ha[La]})}function mc(ca,ha){return"object"===typeof ca&&null!==ca&&null!=ca.key?Xb(""+ca.key):ha.toString(36)}function Cb(ca,ha,La,oa,pa){var m=typeof ca;if("undefined"===m||"boolean"===m)ca=null;var D=!1;if(null===ca)D=!0;else switch(m){case "string":case "number":D=!0;break;case "object":switch(ca.$$typeof){case Za:case wb:D=!0}}if(D)return D=ca,pa=pa(D),ca=""===oa?"."+mc(D,0):oa,ib(pa)?(La="",null!=ca&&(La=ca.replace(eb,
"$\x26/")+"/"),Cb(pa,ha,La,"",function(P){return P})):null!=pa&&(ac(pa)&&(pa=Yb(pa,La+(!pa.key||D&&D.key===pa.key?"":(""+pa.key).replace(eb,"$\x26/")+"/")+ca)),ha.push(pa)),1;D=0;oa=""===oa?".":oa+":";if(ib(ca))for(var L=0;L<ca.length;L++){m=ca[L];var w=oa+mc(m,L);D+=Cb(m,ha,La,w,pa)}else if(w=u(ca),"function"===typeof w)for(ca=w.call(ca),L=0;!(m=ca.next()).done;)m=m.value,w=oa+mc(m,L++),D+=Cb(m,ha,La,w,pa);else if("object"===m)throw ha=String(ca),Error("Objects are not valid as a React child (found: "+
("[object Object]"===ha?"object with keys {"+Object.keys(ca).join(", ")+"}":ha)+"). If you meant to render a collection of children, use an array instead.");return D}function Vb(ca,ha,La){if(null==ca)return ca;var oa=[],pa=0;Cb(ca,oa,"","",function(m){return ha.call(La,m,pa++)});return oa}function jc(ca){if(-1===ca._status){var ha=ca._result;ha=ha();ha.then(function(La){if(0===ca._status||-1===ca._status)ca._status=1,ca._result=La},function(La){if(0===ca._status||-1===ca._status)ca._status=2,ca._result=
La});-1===ca._status&&(ca._status=0,ca._result=ha)}if(1===ca._status)return ca._result.default;throw ca._result;}function Ba(){throw Error("act(...) is not supported in production builds of React.");}var Za=Symbol.for("react.element"),wb=Symbol.for("react.portal");Eb=Symbol.for("react.fragment");ob=Symbol.for("react.strict_mode");Dc=Symbol.for("react.profiler");var ub=Symbol.for("react.provider"),sb=Symbol.for("react.context"),xb=Symbol.for("react.forward_ref"),hb=Symbol.for("react.suspense"),ec=
Symbol.for("react.memo"),ra=Symbol.for("react.lazy"),fa=Symbol.iterator,za={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ra=Object.assign,Xa={};h.prototype.isReactComponent={};h.prototype.setState=function(ca,ha){if("object"!==typeof ca&&"function"!==typeof ca&&null!=ca)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,
ca,ha,"setState")};h.prototype.forceUpdate=function(ca){this.updater.enqueueForceUpdate(this,ca,"forceUpdate")};ia.prototype=h.prototype;var Ia=ab.prototype=new ia;Ia.constructor=ab;Ra(Ia,h.prototype);Ia.isPureReactComponent=!0;var ib=Array.isArray,bb=Object.prototype.hasOwnProperty,tb={current:null},Qb={key:!0,ref:!0,__self:!0,__source:!0},eb=/\/+/g,T={current:null},Z={transition:null};Ia={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:Z,ReactCurrentOwner:tb};Wa.Children={map:Vb,forEach:function(ca,
ha,La){Vb(ca,function(){ha.apply(this,arguments)},La)},count:function(ca){var ha=0;Vb(ca,function(){ha++});return ha},toArray:function(ca){return Vb(ca,function(ha){return ha})||[]},only:function(ca){if(!ac(ca))throw Error("React.Children.only expected to receive a single React element child.");return ca}};Wa.Component=h;Wa.Fragment=Eb;Wa.Profiler=Dc;Wa.PureComponent=ab;Wa.StrictMode=ob;Wa.Suspense=hb;Wa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ia;Wa.act=Ba;Wa.cloneElement=function(ca,ha,
La){if(null===ca||void 0===ca)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ca+".");var oa=Ra({},ca.props),pa=ca.key,m=ca.ref,D=ca._owner;if(null!=ha){void 0!==ha.ref&&(m=ha.ref,D=tb.current);void 0!==ha.key&&(pa=""+ha.key);if(ca.type&&ca.type.defaultProps)var L=ca.type.defaultProps;for(w in ha)bb.call(ha,w)&&!Qb.hasOwnProperty(w)&&(oa[w]=void 0===ha[w]&&void 0!==L?L[w]:ha[w])}var w=arguments.length-2;if(1===w)oa.children=La;else if(1<w){L=Array(w);for(var P=
0;P<w;P++)L[P]=arguments[P+2];oa.children=L}return{$$typeof:Za,type:ca.type,key:pa,ref:m,props:oa,_owner:D}};Wa.createContext=function(ca){ca={$$typeof:sb,_currentValue:ca,_currentValue2:ca,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};ca.Provider={$$typeof:ub,_context:ca};return ca.Consumer=ca};Wa.createElement=zb;Wa.createFactory=function(ca){var ha=zb.bind(null,ca);ha.type=ca;return ha};Wa.createRef=function(){return{current:null}};Wa.forwardRef=function(ca){return{$$typeof:xb,
render:ca}};Wa.isValidElement=ac;Wa.lazy=function(ca){return{$$typeof:ra,_payload:{_status:-1,_result:ca},_init:jc}};Wa.memo=function(ca,ha){return{$$typeof:ec,type:ca,compare:void 0===ha?null:ha}};Wa.startTransition=function(ca){var ha=Z.transition;Z.transition={};try{ca()}finally{Z.transition=ha}};Wa.unstable_act=Ba;Wa.useCallback=function(ca,ha){return T.current.useCallback(ca,ha)};Wa.useContext=function(ca){return T.current.useContext(ca)};Wa.useDebugValue=function(){};Wa.useDeferredValue=function(ca){return T.current.useDeferredValue(ca)};
Wa.useEffect=function(ca,ha){return T.current.useEffect(ca,ha)};Wa.useId=function(){return T.current.useId()};Wa.useImperativeHandle=function(ca,ha,La){return T.current.useImperativeHandle(ca,ha,La)};Wa.useInsertionEffect=function(ca,ha){return T.current.useInsertionEffect(ca,ha)};Wa.useLayoutEffect=function(ca,ha){return T.current.useLayoutEffect(ca,ha)};Wa.useMemo=function(ca,ha){return T.current.useMemo(ca,ha)};Wa.useReducer=function(ca,ha,La){return T.current.useReducer(ca,ha,La)};Wa.useRef=function(ca){return T.current.useRef(ca)};
Wa.useState=function(ca){return T.current.useState(ca)};Wa.useSyncExternalStore=function(ca,ha,La){return T.current.useSyncExternalStore(ca,ha,La)};Wa.useTransition=function(){return T.current.useTransition()};Wa.version="18.3.1"};
shadow$provide[2]=function(Eb,ob,Dc,Wa){Dc.exports=ob(0)};
shadow$provide[3]=function(Eb,ob,Dc,Wa){function u(Z,ca){var ha=Z.length;Z.push(ca);a:for(;0<ha;){var La=ha-1>>>1,oa=Z[La];if(0<ab(oa,ca))Z[La]=ca,Z[ha]=oa,ha=La;else break a}}function h(Z){return 0===Z.length?null:Z[0]}function ia(Z){if(0===Z.length)return null;var ca=Z[0],ha=Z.pop();if(ha!==ca){Z[0]=ha;var La=0,oa=Z.length,pa=oa>>>1;a:for(;La<pa;){var m=2*(La+1)-1,D=Z[m],L=m+1,w=Z[L];if(0>ab(D,ha))L<oa&&0>ab(w,D)?(Z[La]=w,Z[L]=ha,La=L):(Z[La]=D,Z[m]=ha,La=m);else if(L<oa&&0>ab(w,ha))Z[La]=w,Z[L]=
ha,La=L;else break a}}return ca}function ab(Z,ca){var ha=Z.sortIndex-ca.sortIndex;return 0!==ha?ha:Z.id-ca.id}function zb(Z){for(var ca=h(ub);null!==ca;){if(null===ca.callback)ia(ub);else if(ca.startTime<=Z)ia(ub),ca.sortIndex=ca.expirationTime,u(wb,ca);else break;ca=h(ub)}}function Yb(Z){fa=!1;zb(Z);if(!ra)if(null!==h(wb))ra=!0,Cb(ac);else{var ca=h(ub);null!==ca&&Vb(Yb,ca.startTime-Z)}}function ac(Z,ca){ra=!1;fa&&(fa=!1,Ra(bb),bb=-1);ec=!0;var ha=hb;try{zb(ca);for(xb=h(wb);null!==xb&&(!(xb.expirationTime>
ca)||Z&&!Xb());){var La=xb.callback;if("function"===typeof La){xb.callback=null;hb=xb.priorityLevel;var oa=La(xb.expirationTime<=ca);ca=Wa.unstable_now();"function"===typeof oa?xb.callback=oa:xb===h(wb)&&ia(wb);zb(ca)}else ia(wb);xb=h(wb)}if(null!==xb)var pa=!0;else{var m=h(ub);null!==m&&Vb(Yb,m.startTime-ca);pa=!1}return pa}finally{xb=null,hb=ha,ec=!1}}function Xb(){return Wa.unstable_now()-Qb<tb?!1:!0}function mc(){if(null!==ib){var Z=Wa.unstable_now();Qb=Z;var ca=!0;try{ca=ib(!0,Z)}finally{ca?
eb():(Ia=!1,ib=null)}}else Ia=!1}function Cb(Z){ib=Z;Ia||(Ia=!0,eb())}function Vb(Z,ca){bb=za(function(){Z(Wa.unstable_now())},ca)}if("object"===typeof performance&&"function"===typeof performance.now){var jc=performance;Wa.unstable_now=function(){return jc.now()}}else{var Ba=Date,Za=Ba.now();Wa.unstable_now=function(){return Ba.now()-Za}}var wb=[],ub=[],sb=1,xb=null,hb=3,ec=!1,ra=!1,fa=!1,za="function"===typeof setTimeout?setTimeout:null,Ra="function"===typeof clearTimeout?clearTimeout:null,Xa="undefined"!==
typeof setImmediate?setImmediate:null;"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var Ia=!1,ib=null,bb=-1,tb=5,Qb=-1;if("function"===typeof Xa)var eb=function(){Xa(mc)};else if("undefined"!==typeof MessageChannel){Eb=new MessageChannel;var T=Eb.port2;Eb.port1.onmessage=mc;eb=function(){T.postMessage(null)}}else eb=function(){za(mc,0)};Wa.unstable_IdlePriority=5;Wa.unstable_ImmediatePriority=
1;Wa.unstable_LowPriority=4;Wa.unstable_NormalPriority=3;Wa.unstable_Profiling=null;Wa.unstable_UserBlockingPriority=2;Wa.unstable_cancelCallback=function(Z){Z.callback=null};Wa.unstable_continueExecution=function(){ra||ec||(ra=!0,Cb(ac))};Wa.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):tb=0<Z?Math.floor(1E3/Z):5};Wa.unstable_getCurrentPriorityLevel=function(){return hb};
Wa.unstable_getFirstCallbackNode=function(){return h(wb)};Wa.unstable_next=function(Z){switch(hb){case 1:case 2:case 3:var ca=3;break;default:ca=hb}var ha=hb;hb=ca;try{return Z()}finally{hb=ha}};Wa.unstable_pauseExecution=function(){};Wa.unstable_requestPaint=function(){};Wa.unstable_runWithPriority=function(Z,ca){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ha=hb;hb=Z;try{return ca()}finally{hb=ha}};Wa.unstable_scheduleCallback=function(Z,ca,ha){var La=Wa.unstable_now();"object"===
typeof ha&&null!==ha?(ha=ha.delay,ha="number"===typeof ha&&0<ha?La+ha:La):ha=La;switch(Z){case 1:var oa=-1;break;case 2:oa=250;break;case 5:oa=1073741823;break;case 4:oa=1E4;break;default:oa=5E3}oa=ha+oa;Z={id:sb++,callback:ca,priorityLevel:Z,startTime:ha,expirationTime:oa,sortIndex:-1};ha>La?(Z.sortIndex=ha,u(ub,Z),null===h(wb)&&Z===h(ub)&&(fa?(Ra(bb),bb=-1):fa=!0,Vb(Yb,ha-La))):(Z.sortIndex=oa,u(wb,Z),ra||ec||(ra=!0,Cb(ac)));return Z};Wa.unstable_shouldYield=Xb;Wa.unstable_wrapCallback=function(Z){var ca=
hb;return function(){var ha=hb;hb=ca;try{return Z.apply(this,arguments)}finally{hb=ha}}}};
shadow$provide[5]=function(Eb,ob,Dc,Wa){Dc.exports=ob(3)};
shadow$provide[6]=function(Eb,ob,Dc,Wa){function u(c){for(var d="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+c,k=1;k<arguments.length;k++)d+="\x26args[]\x3d"+encodeURIComponent(arguments[k]);return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(c,d){ia(c,d);ia(c+"Capture",d)}function ia(c,d){Wh[c]=d;for(c=0;c<d.length;c++)hi.add(d[c])}function ab(c){if(hj.call(ij,c))return!0;
if(hj.call(Hj,c))return!1;if(jj.test(c))return ij[c]=!0;Hj[c]=!0;return!1}function zb(c,d,k,v){if(null!==k&&0===k.type)return!1;switch(typeof d){case "function":case "symbol":return!0;case "boolean":if(v)return!1;if(null!==k)return!k.acceptsBooleans;c=c.toLowerCase().slice(0,5);return"data-"!==c&&"aria-"!==c;default:return!1}}function Yb(c,d,k,v){if(null===d||"undefined"===typeof d||zb(c,d,k,v))return!0;if(v)return!1;if(null!==k)switch(k.type){case 3:return!d;case 4:return!1===d;case 5:return isNaN(d);
case 6:return isNaN(d)||1>d}return!1}function ac(c,d,k,v,R,da,Ta){this.acceptsBooleans=2===d||3===d||4===d;this.attributeName=v;this.attributeNamespace=R;this.mustUseProperty=k;this.propertyName=c;this.type=d;this.sanitizeURL=da;this.removeEmptyString=Ta}function Xb(c){return c[1].toUpperCase()}function mc(c,d,k,v){var R=ag.hasOwnProperty(d)?ag[d]:null;if(null!==R?0!==R.type:v||!(2<d.length)||"o"!==d[0]&&"O"!==d[0]||"n"!==d[1]&&"N"!==d[1])Yb(d,k,R,v)&&(k=null),v||null===R?ab(d)&&(null===k?c.removeAttribute(d):
c.setAttribute(d,""+k)):R.mustUseProperty?c[R.propertyName]=null===k?3===R.type?!1:"":k:(d=R.attributeName,v=R.attributeNamespace,null===k?c.removeAttribute(d):(R=R.type,k=3===R||4===R&&!0===k?"":""+k,v?c.setAttributeNS(v,d,k):c.setAttribute(d,k)))}function Cb(c){if(null===c||"object"!==typeof c)return null;c=md&&c[md]||c["@@iterator"];return"function"===typeof c?c:null}function Vb(c){if(void 0===zd)try{throw Error();}catch(k){var d=k.stack.trim().match(/\n( *(at )?)/);zd=d&&d[1]||""}return"\n"+zd+
c}function jc(c,d){if(!c||Xd)return"";Xd=!0;var k=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error();},Object.defineProperty(d.prototype,"props",{set:function(){throw Error();}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(d,[])}catch(Uc){var v=Uc}Reflect.construct(c,[],d)}else{try{d.call()}catch(Uc){v=Uc}c.call(d.prototype)}else{try{throw Error();}catch(Uc){v=Uc}c()}}catch(Uc){if(Uc&&v&&"string"===typeof Uc.stack){for(var R=Uc.stack.split("\n"),
da=v.stack.split("\n"),Ta=R.length-1,Wb=da.length-1;1<=Ta&&0<=Wb&&R[Ta]!==da[Wb];)Wb--;for(;1<=Ta&&0<=Wb;Ta--,Wb--)if(R[Ta]!==da[Wb]){if(1!==Ta||1!==Wb){do if(Ta--,Wb--,0>Wb||R[Ta]!==da[Wb]){var lc="\n"+R[Ta].replace(" at new "," at ");c.displayName&&lc.includes("\x3canonymous\x3e")&&(lc=lc.replace("\x3canonymous\x3e",c.displayName));return lc}while(1<=Ta&&0<=Wb)}break}}}finally{Xd=!1,Error.prepareStackTrace=k}return(c=c?c.displayName||c.name:"")?Vb(c):""}function Ba(c){switch(c.tag){case 5:return Vb(c.type);
case 16:return Vb("Lazy");case 13:return Vb("Suspense");case 19:return Vb("SuspenseList");case 0:case 2:case 15:return c=jc(c.type,!1),c;case 11:return c=jc(c.type.render,!1),c;case 1:return c=jc(c.type,!0),c;default:return""}}function Za(c){if(null==c)return null;if("function"===typeof c)return c.displayName||c.name||null;if("string"===typeof c)return c;switch(c){case ii:return"Fragment";case ji:return"Portal";case H:return"Profiler";case n:return"StrictMode";case db:return"Suspense";case rb:return"SuspenseList"}if("object"===
typeof c)switch(c.$$typeof){case ka:return(c.displayName||"Context")+".Consumer";case M:return(c._context.displayName||"Context")+".Provider";case Va:var d=c.render;(c=c.displayName)||(c=d.displayName||d.name||"",c=""!==c?"ForwardRef("+c+")":"ForwardRef");return c;case Lb:return d=c.displayName||null,null!==d?d:Za(c.type)||"Memo";case tc:d=c._payload;c=c._init;try{return Za(c(d))}catch(k){}}return null}function wb(c){var d=c.type;switch(c.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+
".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=d.render,c=c.displayName||c.name||"",d.displayName||(""!==c?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Za(d);case 8:return d===n?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";
case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof d)return d.displayName||d.name||null;if("string"===typeof d)return d}return null}function ub(c){switch(typeof c){case "boolean":case "number":case "string":case "undefined":return c;case "object":return c;default:return""}}function sb(c){var d=c.type;return(c=c.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===d||"radio"===d)}function xb(c){var d=sb(c)?"checked":"value",k=Object.getOwnPropertyDescriptor(c.constructor.prototype,
d),v=""+c[d];if(!c.hasOwnProperty(d)&&"undefined"!==typeof k&&"function"===typeof k.get&&"function"===typeof k.set){var R=k.get,da=k.set;Object.defineProperty(c,d,{configurable:!0,get:function(){return R.call(this)},set:function(Ta){v=""+Ta;da.call(this,Ta)}});Object.defineProperty(c,d,{enumerable:k.enumerable});return{getValue:function(){return v},setValue:function(Ta){v=""+Ta},stopTracking:function(){c._valueTracker=null;delete c[d]}}}}function hb(c){c._valueTracker||(c._valueTracker=xb(c))}function ec(c){if(!c)return!1;
var d=c._valueTracker;if(!d)return!0;var k=d.getValue(),v="";c&&(v=sb(c)?c.checked?"true":"false":c.value);c=v;return c!==k?(d.setValue(c),!0):!1}function ra(c){c=c||("undefined"!==typeof document?document:void 0);if("undefined"===typeof c)return null;try{return c.activeElement||c.body}catch(d){return c.body}}function fa(c,d){var k=d.checked;return sc({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=k?k:c._wrapperState.initialChecked})}function za(c,d){var k=null==d.defaultValue?
"":d.defaultValue,v=null!=d.checked?d.checked:d.defaultChecked;k=ub(null!=d.value?d.value:k);c._wrapperState={initialChecked:v,initialValue:k,controlled:"checkbox"===d.type||"radio"===d.type?null!=d.checked:null!=d.value}}function Ra(c,d){d=d.checked;null!=d&&mc(c,"checked",d,!1)}function Xa(c,d){Ra(c,d);var k=ub(d.value),v=d.type;if(null!=k)if("number"===v){if(0===k&&""===c.value||c.value!=k)c.value=""+k}else c.value!==""+k&&(c.value=""+k);else if("submit"===v||"reset"===v){c.removeAttribute("value");
return}d.hasOwnProperty("value")?ib(c,d.type,k):d.hasOwnProperty("defaultValue")&&ib(c,d.type,ub(d.defaultValue));null==d.checked&&null!=d.defaultChecked&&(c.defaultChecked=!!d.defaultChecked)}function Ia(c,d,k){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var v=d.type;if(!("submit"!==v&&"reset"!==v||void 0!==d.value&&null!==d.value))return;d=""+c._wrapperState.initialValue;k||d===c.value||(c.value=d);c.defaultValue=d}k=c.name;""!==k&&(c.name="");c.defaultChecked=!!c._wrapperState.initialChecked;
""!==k&&(c.name=k)}function ib(c,d,k){if("number"!==d||ra(c.ownerDocument)!==c)null==k?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+k&&(c.defaultValue=""+k)}function bb(c,d,k,v){c=c.options;if(d){d={};for(var R=0;R<k.length;R++)d["$"+k[R]]=!0;for(k=0;k<c.length;k++)R=d.hasOwnProperty("$"+c[k].value),c[k].selected!==R&&(c[k].selected=R),R&&v&&(c[k].defaultSelected=!0)}else{k=""+ub(k);d=null;for(R=0;R<c.length;R++){if(c[R].value===k){c[R].selected=!0;v&&(c[R].defaultSelected=!0);
return}null!==d||c[R].disabled||(d=c[R])}null!==d&&(d.selected=!0)}}function tb(c,d){if(null!=d.dangerouslySetInnerHTML)throw Error(u(91));return sc({},d,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function Qb(c,d){var k=d.value;if(null==k){k=d.children;d=d.defaultValue;if(null!=k){if(null!=d)throw Error(u(92));if(xe(k)){if(1<k.length)throw Error(u(93));k=k[0]}d=k}null==d&&(d="");k=d}c._wrapperState={initialValue:ub(k)}}function eb(c,d){var k=ub(d.value),v=ub(d.defaultValue);
null!=k&&(k=""+k,k!==c.value&&(c.value=k),null==d.defaultValue&&c.defaultValue!==k&&(c.defaultValue=k));null!=v&&(c.defaultValue=""+v)}function T(c){var d=c.textContent;d===c._wrapperState.initialValue&&""!==d&&null!==d&&(c.value=d)}function Z(c){switch(c){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ca(c,d){return null==c||"http://www.w3.org/1999/xhtml"===c?Z(d):"http://www.w3.org/2000/svg"===
c&&"foreignObject"===d?"http://www.w3.org/1999/xhtml":c}function ha(c,d){if(d){var k=c.firstChild;if(k&&k===c.lastChild&&3===k.nodeType){k.nodeValue=d;return}}c.textContent=d}function La(c,d,k){return null==d||"boolean"===typeof d||""===d?"":k||"number"!==typeof d||0===d||Ef.hasOwnProperty(c)&&Ef[c]?(""+d).trim():d+"px"}function oa(c,d){c=c.style;for(var k in d)if(d.hasOwnProperty(k)){var v=0===k.indexOf("--"),R=La(k,d[k],v);"float"===k&&(k="cssFloat");v?c.setProperty(k,R):c[k]=R}}function pa(c,d){if(d){if(ug[c]&&
(null!=d.children||null!=d.dangerouslySetInnerHTML))throw Error(u(137,c));if(null!=d.dangerouslySetInnerHTML){if(null!=d.children)throw Error(u(60));if("object"!==typeof d.dangerouslySetInnerHTML||!("__html"in d.dangerouslySetInnerHTML))throw Error(u(61));}if(null!=d.style&&"object"!==typeof d.style)throw Error(u(62));}}function m(c,d){if(-1===c.indexOf("-"))return"string"===typeof d.is;switch(c){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;
default:return!0}}function D(c){c=c.target||c.srcElement||window;c.correspondingUseElement&&(c=c.correspondingUseElement);return 3===c.nodeType?c.parentNode:c}function L(c){if(c=Nc(c)){if("function"!==typeof Kf)throw Error(u(280));var d=c.stateNode;d&&(d=ce(d),Kf(c.stateNode,c.type,d))}}function w(c){ye?yf?yf.push(c):yf=[c]:ye=c}function P(){if(ye){var c=ye,d=yf;yf=ye=null;L(c);if(d)for(c=0;c<d.length;c++)L(d[c])}}function A(c,d){return c(d)}function V(){}function G(c,d,k){if(Xh)return c(d,k);Xh=
!0;try{return A(c,d,k)}finally{if(Xh=!1,null!==ye||null!==yf)V(),P()}}function x(c,d){var k=c.stateNode;if(null===k)return null;var v=ce(k);if(null===v)return null;k=v[d];a:switch(d){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(v=!v.disabled)||(c=c.type,v=!("button"===c||"input"===c||"select"===c||"textarea"===
c));c=!v;break a;default:c=!1}if(c)return null;if(k&&"function"!==typeof k)throw Error(u(231,d,typeof k));return k}function z(c,d,k,v,R,da,Ta,Wb,lc){var Uc=Array.prototype.slice.call(arguments,3);try{d.apply(k,Uc)}catch(ud){this.onError(ud)}}function F(c,d,k,v,R,da,Ta,Wb,lc){Od=!1;Ed=null;z.apply(Ff,arguments)}function U(c,d,k,v,R,da,Ta,Wb,lc){F.apply(this,arguments);if(Od){if(Od){var Uc=Ed;Od=!1;Ed=null}else throw Error(u(198));af||(af=!0,Sf=Uc)}}function sa(c){var d=c,k=c;if(c.alternate)for(;d.return;)d=
d.return;else{c=d;do d=c,0!==(d.flags&4098)&&(k=d.return),c=d.return;while(c)}return 3===d.tag?k:null}function N(c){if(13===c.tag){var d=c.memoizedState;null===d&&(c=c.alternate,null!==c&&(d=c.memoizedState));if(null!==d)return d.dehydrated}return null}function la(c){if(sa(c)!==c)throw Error(u(188));}function wa(c){var d=c.alternate;if(!d){d=sa(c);if(null===d)throw Error(u(188));return d!==c?null:c}for(var k=c,v=d;;){var R=k.return;if(null===R)break;var da=R.alternate;if(null===da){v=R.return;if(null!==
v){k=v;continue}break}if(R.child===da.child){for(da=R.child;da;){if(da===k)return la(R),c;if(da===v)return la(R),d;da=da.sibling}throw Error(u(188));}if(k.return!==v.return)k=R,v=da;else{for(var Ta=!1,Wb=R.child;Wb;){if(Wb===k){Ta=!0;k=R;v=da;break}if(Wb===v){Ta=!0;v=R;k=da;break}Wb=Wb.sibling}if(!Ta){for(Wb=da.child;Wb;){if(Wb===k){Ta=!0;k=da;v=R;break}if(Wb===v){Ta=!0;v=da;k=R;break}Wb=Wb.sibling}if(!Ta)throw Error(u(189));}}if(k.alternate!==v)throw Error(u(190));}if(3!==k.tag)throw Error(u(188));
return k.stateNode.current===k?c:d}function Ma(c){c=wa(c);return null!==c?Pa(c):null}function Pa(c){if(5===c.tag||6===c.tag)return c;for(c=c.child;null!==c;){var d=Pa(c);if(null!==d)return d;c=c.sibling}return null}function Ya(c){if(Yh&&"function"===typeof Yh.onCommitFiberRoot)try{Yh.onCommitFiberRoot(Ij,c,void 0,128===(c.current.flags&128))}catch(d){}}function vb(c){c>>>=0;return 0===c?32:31-(kl(c)/Ll|0)|0}function jb(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;
case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Ub(c,d){var k=c.pendingLanes;if(0===
k)return 0;var v=0,R=c.suspendedLanes,da=c.pingedLanes,Ta=k&268435455;if(0!==Ta){var Wb=Ta&~R;0!==Wb?v=jb(Wb):(da&=Ta,0!==da&&(v=jb(da)))}else Ta=k&~R,0!==Ta?v=jb(Ta):0!==da&&(v=jb(da));if(0===v)return 0;if(0!==d&&d!==v&&0===(d&R)&&(R=v&-v,da=d&-d,R>=da||16===R&&0!==(da&4194240)))return d;0!==(v&4)&&(v|=k&16);d=c.entangledLanes;if(0!==d)for(c=c.entanglements,d&=v;0<d;)k=31-Nh(d),R=1<<k,v|=c[k],d&=~R;return v}function W(c,d){switch(c){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+
5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ea(c,d){for(var k=c.suspendedLanes,v=c.pingedLanes,R=c.expirationTimes,da=c.pendingLanes;0<da;){var Ta=31-Nh(da),Wb=1<<Ta,lc=R[Ta];if(-1===lc){if(0===(Wb&k)||0!==(Wb&v))R[Ta]=W(Wb,d)}else lc<=d&&(c.expiredLanes|=Wb);da&=~Wb}}function Mb(c){c=c.pendingLanes&-1073741825;return 0!==c?c:c&1073741824?1073741824:0}function oc(){var c=
Jj;Jj<<=1;0===(Jj&4194240)&&(Jj=64);return c}function $b(c){for(var d=[],k=0;31>k;k++)d.push(c);return d}function Nb(c,d,k){c.pendingLanes|=d;536870912!==d&&(c.suspendedLanes=0,c.pingedLanes=0);c=c.eventTimes;d=31-Nh(d);c[d]=k}function Rb(c,d){var k=c.pendingLanes&~d;c.pendingLanes=d;c.suspendedLanes=0;c.pingedLanes=0;c.expiredLanes&=d;c.mutableReadLanes&=d;c.entangledLanes&=d;d=c.entanglements;var v=c.eventTimes;for(c=c.expirationTimes;0<k;){var R=31-Nh(k),da=1<<R;d[R]=0;v[R]=-1;c[R]=-1;k&=~da}}
function xc(c,d){var k=c.entangledLanes|=d;for(c=c.entanglements;k;){var v=31-Nh(k),R=1<<v;R&d|c[v]&d&&(c[v]|=d);k&=~R}}function dd(c){c&=-c;return 1<c?4<c?0!==(c&268435455)?16:536870912:4:1}function qa(c,d){switch(c){case "focusin":case "focusout":Ci=null;break;case "dragenter":case "dragleave":ki=null;break;case "mouseover":case "mouseout":Di=null;break;case "pointerover":case "pointerout":kj.delete(d.pointerId);break;case "gotpointercapture":case "lostpointercapture":lj.delete(d.pointerId)}}function Db(c,
d,k,v,R,da){if(null===c||c.nativeEvent!==da)return c={blockedOn:d,domEventName:k,eventSystemFlags:v,nativeEvent:da,targetContainers:[R]},null!==d&&(d=Nc(d),null!==d&&Fk(d)),c;c.eventSystemFlags|=v;d=c.targetContainers;null!==R&&-1===d.indexOf(R)&&d.push(R);return c}function Ua(c,d,k,v,R){switch(d){case "focusin":return Ci=Db(Ci,c,d,k,v,R),!0;case "dragenter":return ki=Db(ki,c,d,k,v,R),!0;case "mouseover":return Di=Db(Di,c,d,k,v,R),!0;case "pointerover":var da=R.pointerId;kj.set(da,Db(kj.get(da)||
null,c,d,k,v,R));return!0;case "gotpointercapture":return da=R.pointerId,lj.set(da,Db(lj.get(da)||null,c,d,k,v,R)),!0}return!1}function yb(c){var d=$c(c.target);if(null!==d){var k=sa(d);if(null!==k)if(d=k.tag,13===d){if(d=N(k),null!==d){c.blockedOn=d;ll(c.priority,function(){Ml(k)});return}}else if(3===d&&k.stateNode.current.memoizedState.isDehydrated){c.blockedOn=3===k.tag?k.stateNode.containerInfo:null;return}}c.blockedOn=null}function Hb(c){if(null!==c.blockedOn)return!1;for(var d=c.targetContainers;0<
d.length;){var k=Ha(c.domEventName,c.eventSystemFlags,d[0],c.nativeEvent);if(null===k){k=c.nativeEvent;var v=new k.constructor(k.type,k);zg=v;k.target.dispatchEvent(v);zg=null}else return d=Nc(k),null!==d&&Fk(d),c.blockedOn=k,!1;d.shift()}return!0}function Ob(c,d,k){Hb(c)&&k.delete(d)}function Zb(){Zj=!1;null!==Ci&&Hb(Ci)&&(Ci=null);null!==ki&&Hb(ki)&&(ki=null);null!==Di&&Hb(Di)&&(Di=null);kj.forEach(Ob);lj.forEach(Ob)}function ic(c,d){c.blockedOn===d&&(c.blockedOn=null,Zj||(Zj=!0,Ag.unstable_scheduleCallback(Ag.unstable_NormalPriority,
Zb)))}function Bc(c){function d(R){return ic(R,c)}if(0<ak.length){ic(ak[0],c);for(var k=1;k<ak.length;k++){var v=ak[k];v.blockedOn===c&&(v.blockedOn=null)}}null!==Ci&&ic(Ci,c);null!==ki&&ic(ki,c);null!==Di&&ic(Di,c);kj.forEach(d);lj.forEach(d);for(k=0;k<li.length;k++)v=li[k],v.blockedOn===c&&(v.blockedOn=null);for(;0<li.length&&(k=li[0],null===k.blockedOn);)yb(k),null===k.blockedOn&&li.shift()}function jd(c,d,k,v){var R=sf,da=mj.transition;mj.transition=null;try{sf=1,ma(c,d,k,v)}finally{sf=R,mj.transition=
da}}function Vc(c,d,k,v){var R=sf,da=mj.transition;mj.transition=null;try{sf=4,ma(c,d,k,v)}finally{sf=R,mj.transition=da}}function ma(c,d,k,v){if(bk){var R=Ha(c,d,k,v);if(null===R)Ie(c,d,v,ck,k),qa(c,v);else if(Ua(R,c,d,k,v))v.stopPropagation();else if(qa(c,v),d&4&&-1<ml.indexOf(c)){for(;null!==R;){var da=Nc(R);null!==da&&Nl(da);da=Ha(c,d,k,v);null===da&&Ie(c,d,v,ck,k);if(da===R)break;R=da}null!==R&&v.stopPropagation()}else Ie(c,d,v,null,k)}}function Ha(c,d,k,v){ck=null;c=D(v);c=$c(c);if(null!==c)if(d=
sa(c),null===d)c=null;else if(k=d.tag,13===k){c=N(d);if(null!==c)return c;c=null}else if(3===k){if(d.stateNode.current.memoizedState.isDehydrated)return 3===d.tag?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null);ck=c;return null}function gb(c){switch(c){case "cancel":case "click":case "close":case "contextmenu":case "copy":case "cut":case "auxclick":case "dblclick":case "dragend":case "dragstart":case "drop":case "focusin":case "focusout":case "input":case "invalid":case "keydown":case "keypress":case "keyup":case "mousedown":case "mouseup":case "paste":case "pause":case "play":case "pointercancel":case "pointerdown":case "pointerup":case "ratechange":case "reset":case "resize":case "seeked":case "submit":case "touchcancel":case "touchend":case "touchstart":case "volumechange":case "change":case "selectionchange":case "textInput":case "compositionstart":case "compositionend":case "compositionupdate":case "beforeblur":case "afterblur":case "beforeinput":case "blur":case "fullscreenchange":case "focus":case "hashchange":case "popstate":case "select":case "selectstart":return 1;
case "drag":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "mousemove":case "mouseout":case "mouseover":case "pointermove":case "pointerout":case "pointerover":case "scroll":case "toggle":case "touchmove":case "wheel":case "mouseenter":case "mouseleave":case "pointerenter":case "pointerleave":return 4;case "message":switch(Gk()){case Hk:return 1;case dk:return 4;case Ui:case nl:return 16;case Ik:return 536870912;default:return 16}default:return 16}}function Q(){if(ek)return ek;
var c,d=Jk,k=d.length,v,R="value"in Ei?Ei.value:Ei.textContent,da=R.length;for(c=0;c<k&&d[c]===R[c];c++);var Ta=k-c;for(v=1;v<=Ta&&d[k-v]===R[da-v];v++);return ek=R.slice(c,1<v?1-v:void 0)}function t(c){var d=c.keyCode;"charCode"in c?(c=c.charCode,0===c&&13===d&&(c=13)):c=d;10===c&&(c=13);return 32<=c||13===c?c:0}function ba(){return!0}function xa(){return!1}function Da(c){function d(k,v,R,da,Ta){this._reactName=k;this._targetInst=R;this.type=v;this.nativeEvent=da;this.target=Ta;this.currentTarget=
null;for(var Wb in c)c.hasOwnProperty(Wb)&&(k=c[Wb],this[Wb]=k?k(da):da[Wb]);this.isDefaultPrevented=(null!=da.defaultPrevented?da.defaultPrevented:!1===da.returnValue)?ba:xa;this.isPropagationStopped=xa;return this}sc(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var k=this.nativeEvent;k&&(k.preventDefault?k.preventDefault():"unknown"!==typeof k.returnValue&&(k.returnValue=!1),this.isDefaultPrevented=ba)},stopPropagation:function(){var k=this.nativeEvent;k&&(k.stopPropagation?k.stopPropagation():
"unknown"!==typeof k.cancelBubble&&(k.cancelBubble=!0),this.isPropagationStopped=ba)},persist:function(){},isPersistent:ba});return d}function Sa(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=Ol[c])?!!d[c]:!1}function kb(){return Sa}function Sb(c,d){switch(c){case "keyup":return-1!==De.indexOf(d.keyCode);case "keydown":return 229!==d.keyCode;case "keypress":case "mousedown":case "focusout":return!0;default:return!1}}function Fb(c){c=c.detail;return"object"===typeof c&&
"data"in c?c.data:null}function Kb(c,d){switch(c){case "compositionend":return Fb(d);case "keypress":if(32!==d.which)return null;fk=!0;return Kk;case "textInput":return c=d.data,c===Kk&&fk?null:c;default:return null}}function Cc(c,d){if(mi)return"compositionend"===c||!sd&&Sb(c,d)?(c=Q(),ek=Jk=Ei=null,mi=!1,c):null;switch(c){case "paste":return null;case "keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;
case "compositionend":return Lk&&"ko"!==d.locale?null:d.data;default:return null}}function Ec(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return"input"===d?!!Pl[c.type]:"textarea"===d?!0:!1}function Sc(c,d,k,v){w(v);d=tf(d,"onChange");0<d.length&&(k=new Lf("onChange","change",null,k,v),c.push({event:k,listeners:d}))}function vd(c){xd(c,0)}function pd(c){var d=Nd(c);if(ec(d))return c}function fd(c,d){if("change"===c)return d}function Cd(){Vi&&(Vi.detachEvent("onpropertychange",Dd),nj=Vi=null)}
function Dd(c){if("value"===c.propertyName&&pd(nj)){var d=[];Sc(d,nj,c,D(c));G(vd,d)}}function rd(c,d,k){"focusin"===c?(Cd(),Vi=d,nj=k,Vi.attachEvent("onpropertychange",Dd)):"focusout"===c&&Cd()}function we(c){if("selectionchange"===c||"keyup"===c||"keydown"===c)return pd(nj)}function Bd(c,d){if("click"===c)return pd(d)}function y(c,d){if("input"===c||"change"===c)return pd(d)}function J(c,d){return c===d&&(0!==c||1/c===1/d)||c!==c&&d!==d}function va(c,d){if(Oh(c,d))return!0;if("object"!==typeof c||
null===c||"object"!==typeof d||null===d)return!1;var k=Object.keys(c),v=Object.keys(d);if(k.length!==v.length)return!1;for(v=0;v<k.length;v++){var R=k[v];if(!hj.call(d,R)||!Oh(c[R],d[R]))return!1}return!0}function Ka(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function lb(c,d){var k=Ka(c);c=0;for(var v;k;){if(3===k.nodeType){v=c+k.textContent.length;if(c<=d&&v>=d)return{node:k,offset:d-c};c=v}a:{for(;k;){if(k.nextSibling){k=k.nextSibling;break a}k=k.parentNode}k=void 0}k=Ka(k)}}function Bb(c,
d){return c&&d?c===d?!0:c&&3===c.nodeType?!1:d&&3===d.nodeType?Bb(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function bc(){for(var c=window,d=ra();d instanceof c.HTMLIFrameElement;){try{var k="string"===typeof d.contentWindow.location.href}catch(v){k=!1}if(k)c=d.contentWindow;else break;d=ra(c.document)}return d}function Tb(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&("input"===d&&("text"===c.type||"search"===c.type||
"tel"===c.type||"url"===c.type||"password"===c.type)||"textarea"===d||"true"===c.contentEditable)}function nc(c){var d=bc(),k=c.focusedElem,v=c.selectionRange;if(d!==k&&k&&k.ownerDocument&&Bb(k.ownerDocument.documentElement,k)){if(null!==v&&Tb(k))if(d=v.start,c=v.end,void 0===c&&(c=d),"selectionStart"in k)k.selectionStart=d,k.selectionEnd=Math.min(c,k.value.length);else if(c=(d=k.ownerDocument||document)&&d.defaultView||window,c.getSelection){c=c.getSelection();var R=k.textContent.length,da=Math.min(v.start,
R);v=void 0===v.end?da:Math.min(v.end,R);!c.extend&&da>v&&(R=v,v=da,da=R);R=lb(k,da);var Ta=lb(k,v);R&&Ta&&(1!==c.rangeCount||c.anchorNode!==R.node||c.anchorOffset!==R.offset||c.focusNode!==Ta.node||c.focusOffset!==Ta.offset)&&(d=d.createRange(),d.setStart(R.node,R.offset),c.removeAllRanges(),da>v?(c.addRange(d),c.extend(Ta.node,Ta.offset)):(d.setEnd(Ta.node,Ta.offset),c.addRange(d)))}d=[];for(c=k;c=c.parentNode;)1===c.nodeType&&d.push({element:c,left:c.scrollLeft,top:c.scrollTop});"function"===typeof k.focus&&
k.focus();for(k=0;k<d.length;k++)c=d[k],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}function Jc(c,d,k){var v=k.window===k?k.document:9===k.nodeType?k:k.ownerDocument;Lg||null==oj||oj!==ra(v)||(v=oj,"selectionStart"in v&&Tb(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Kj&&va(Kj,v)||(Kj=v,v=tf(Mk,"onSelect"),
0<v.length&&(d=new Lf("onSelect","select",null,d,k),c.push({event:d,listeners:v}),d.target=oj)))}function Ac(c,d){var k={};k[c.toLowerCase()]=d.toLowerCase();k["Webkit"+c]="webkit"+d;k["Moz"+c]="moz"+d;return k}function Xc(c){if(Nk[c])return Nk[c];if(!Fi[c])return c;var d=Fi[c],k;for(k in d)if(d.hasOwnProperty(k)&&k in gk)return Nk[c]=d[k];return c}function kd(c,d){Zh.set(c,d);h(d,[c])}function qd(c,d,k){var v=c.type||"unknown-event";c.currentTarget=k;U(v,d,void 0,c);c.currentTarget=null}function xd(c,
d){d=0!==(d&4);for(var k=0;k<c.length;k++){var v=c[k],R=v.event;v=v.listeners;a:{var da=void 0;if(d)for(var Ta=v.length-1;0<=Ta;Ta--){var Wb=v[Ta],lc=Wb.instance,Uc=Wb.currentTarget;Wb=Wb.listener;if(lc!==da&&R.isPropagationStopped())break a;qd(R,Wb,Uc);da=lc}else for(Ta=0;Ta<v.length;Ta++){Wb=v[Ta];lc=Wb.instance;Uc=Wb.currentTarget;Wb=Wb.listener;if(lc!==da&&R.isPropagationStopped())break a;qd(R,Wb,Uc);da=lc}}}if(af)throw c=Sf,af=!1,Sf=null,c;}function nd(c,d){var k=d[Ok];void 0===k&&(k=d[Ok]=new Set);
var v=c+"__bubble";k.has(v)||(Oe(d,c,2,!1),k.add(v))}function Id(c,d,k){var v=0;d&&(v|=4);Oe(k,c,v,d)}function me(c){if(!c[hk]){c[hk]=!0;hi.forEach(function(k){"selectionchange"!==k&&(Ql.has(k)||Id(k,!1,c),Id(k,!0,c))});var d=9===c.nodeType?c:c.ownerDocument;null===d||d[hk]||(d[hk]=!0,Id("selectionchange",!1,d))}}function Oe(c,d,k,v){switch(gb(d)){case 1:var R=jd;break;case 4:R=Vc;break;default:R=ma}k=R.bind(null,d,k,c);R=void 0;!Wd||"touchstart"!==d&&"touchmove"!==d&&"wheel"!==d||(R=!0);v?void 0!==
R?c.addEventListener(d,k,{capture:!0,passive:R}):c.addEventListener(d,k,!0):void 0!==R?c.addEventListener(d,k,{passive:R}):c.addEventListener(d,k,!1)}function Ie(c,d,k,v,R){var da=v;if(0===(d&1)&&0===(d&2)&&null!==v)a:for(;;){if(null===v)return;var Ta=v.tag;if(3===Ta||4===Ta){var Wb=v.stateNode.containerInfo;if(Wb===R||8===Wb.nodeType&&Wb.parentNode===R)break;if(4===Ta)for(Ta=v.return;null!==Ta;){var lc=Ta.tag;if(3===lc||4===lc)if(lc=Ta.stateNode.containerInfo,lc===R||8===lc.nodeType&&lc.parentNode===
R)return;Ta=Ta.return}for(;null!==Wb;){Ta=$c(Wb);if(null===Ta)return;lc=Ta.tag;if(5===lc||6===lc){v=da=Ta;continue a}Wb=Wb.parentNode}}v=v.return}G(function(){var Uc=da,ud=D(k),yd=[];a:{var td=Zh.get(c);if(void 0!==td){var Sd=Lf,de=c;switch(c){case "keypress":if(0===t(k))break a;case "keydown":case "keyup":Sd=Rl;break;case "focusin":de="focus";Sd=Pk;break;case "focusout":de="blur";Sd=Pk;break;case "beforeblur":case "afterblur":Sd=Pk;break;case "click":if(2===k.button)break a;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":Sd=
Qk;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":Sd=Rk;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":Sd=Sl;break;case Ph:case ik:case ol:Sd=pl;break;case Wi:Sd=Sk;break;case "scroll":Sd=Tk;break;case "wheel":Sd=Tl;break;case "copy":case "cut":case "paste":Sd=jk;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":Sd=
ql}var ke=0!==(d&4),bg=!ke&&"scroll"===c,Ic=ke?null!==td?td+"Capture":null:td;ke=[];for(var uc=Uc,Qc;null!==uc;){Qc=uc;var Gd=Qc.stateNode;5===Qc.tag&&null!==Gd&&(Qc=Gd,null!==Ic&&(Gd=x(uc,Ic),null!=Gd&&ke.push(Je(uc,Gd,Qc))));if(bg)break;uc=uc.return}0<ke.length&&(td=new Sd(td,de,null,k,ud),yd.push({event:td,listeners:ke}))}}if(0===(d&7)){td="mouseover"===c||"pointerover"===c;Sd="mouseout"===c||"pointerout"===c;if(!td||k===zg||!(de=k.relatedTarget||k.fromElement)||!$c(de)&&!de[$h])if(Sd||td){td=
ud.window===ud?ud:(td=ud.ownerDocument)?td.defaultView||td.parentWindow:window;if(Sd){if(de=k.relatedTarget||k.toElement,Sd=Uc,de=de?$c(de):null,null!==de&&(bg=sa(de),de!==bg||5!==de.tag&&6!==de.tag))de=null}else Sd=null,de=Uc;if(Sd!==de){ke=Qk;Gd="onMouseLeave";Ic="onMouseEnter";uc="mouse";if("pointerout"===c||"pointerover"===c)ke=ql,Gd="onPointerLeave",Ic="onPointerEnter",uc="pointer";bg=null==Sd?td:Nd(Sd);Qc=null==de?td:Nd(de);td=new ke(Gd,uc+"leave",Sd,k,ud);td.target=bg;td.relatedTarget=Qc;Gd=
null;$c(ud)===Uc&&(ke=new ke(Ic,uc+"enter",de,k,ud),ke.target=Qc,ke.relatedTarget=bg,Gd=ke);bg=Gd;if(Sd&&de)b:{ke=Sd;Ic=de;uc=0;for(Qc=ke;Qc;Qc=bf(Qc))uc++;Qc=0;for(Gd=Ic;Gd;Gd=bf(Gd))Qc++;for(;0<uc-Qc;)ke=bf(ke),uc--;for(;0<Qc-uc;)Ic=bf(Ic),Qc--;for(;uc--;){if(ke===Ic||null!==Ic&&ke===Ic.alternate)break b;ke=bf(ke);Ic=bf(Ic)}ke=null}else ke=null;null!==Sd&&E(yd,td,Sd,ke,!1);null!==de&&null!==bg&&E(yd,bg,de,ke,!0)}}td=Uc?Nd(Uc):window;Sd=td.nodeName&&td.nodeName.toLowerCase();if("select"===Sd||"input"===
Sd&&"file"===td.type)var be=fd;else if(Ec(td))if(qh)be=y;else{be=we;var pe=rd}else(Sd=td.nodeName)&&"input"===Sd.toLowerCase()&&("checkbox"===td.type||"radio"===td.type)&&(be=Bd);be&&(be=be(c,Uc))?Sc(yd,be,k,ud):(pe&&pe(c,td,Uc),"focusout"===c&&(pe=td._wrapperState)&&pe.controlled&&"number"===td.type&&ib(td,"number",td.value));pe=Uc?Nd(Uc):window;switch(c){case "focusin":if(Ec(pe)||"true"===pe.contentEditable)oj=pe,Mk=Uc,Kj=null;break;case "focusout":Kj=Mk=oj=null;break;case "mousedown":Lg=!0;break;
case "contextmenu":case "mouseup":case "dragend":Lg=!1;Jc(yd,k,ud);break;case "selectionchange":if(kk)break;case "keydown":case "keyup":Jc(yd,k,ud)}var te;if(sd)a:{switch(c){case "compositionstart":var ee="onCompositionStart";break a;case "compositionend":ee="onCompositionEnd";break a;case "compositionupdate":ee="onCompositionUpdate";break a}ee=void 0}else mi?Sb(c,k)&&(ee="onCompositionEnd"):"keydown"===c&&229===k.keyCode&&(ee="onCompositionStart");ee&&(Lk&&"ko"!==k.locale&&(mi||"onCompositionStart"!==
ee?"onCompositionEnd"===ee&&mi&&(te=Q()):(Ei=ud,Jk="value"in Ei?Ei.value:Ei.textContent,mi=!0)),pe=tf(Uc,ee),0<pe.length&&(ee=new rl(ee,c,null,k,ud),yd.push({event:ee,listeners:pe}),te?ee.data=te:(te=Fb(k),null!==te&&(ee.data=te))));if(te=Gi?Kb(c,k):Cc(c,k))Uc=tf(Uc,"onBeforeInput"),0<Uc.length&&(ud=new rl("onBeforeInput","beforeinput",null,k,ud),yd.push({event:ud,listeners:Uc}),ud.data=te)}xd(yd,d)})}function Je(c,d,k){return{instance:c,listener:d,currentTarget:k}}function tf(c,d){for(var k=d+"Capture",
v=[];null!==c;){var R=c,da=R.stateNode;5===R.tag&&null!==da&&(R=da,da=x(c,k),null!=da&&v.unshift(Je(c,da,R)),da=x(c,d),null!=da&&v.push(Je(c,da,R)));c=c.return}return v}function bf(c){if(null===c)return null;do c=c.return;while(c&&5!==c.tag);return c?c:null}function E(c,d,k,v,R){for(var da=d._reactName,Ta=[];null!==k&&k!==v;){var Wb=k,lc=Wb.alternate,Uc=Wb.stateNode;if(null!==lc&&lc===v)break;5===Wb.tag&&null!==Uc&&(Wb=Uc,R?(lc=x(k,da),null!=lc&&Ta.unshift(Je(k,lc,Wb))):R||(lc=x(k,da),null!=lc&&Ta.push(Je(k,
lc,Wb))));k=k.return}0!==Ta.length&&c.push({event:d,listeners:Ta})}function aa(c){return("string"===typeof c?c:""+c).replace(Ul,"\n").replace(Vl,"")}function Fa(c,d,k){d=aa(d);if(aa(c)!==d&&k)throw Error(u(425));}function fb(){}function Gb(c,d){return"textarea"===c||"noscript"===c||"string"===typeof d.children||"number"===typeof d.children||"object"===typeof d.dangerouslySetInnerHTML&&null!==d.dangerouslySetInnerHTML&&null!=d.dangerouslySetInnerHTML.__html}function qc(c){setTimeout(function(){throw c;
})}function Ib(c,d){var k=d,v=0;do{var R=k.nextSibling;c.removeChild(k);if(R&&8===R.nodeType)if(k=R.data,"/$"===k){if(0===v){c.removeChild(R);Bc(d);return}v--}else"$"!==k&&"$?"!==k&&"$!"!==k||v++;k=R}while(k);Bc(d)}function Oc(c){for(;null!=c;c=c.nextSibling){var d=c.nodeType;if(1===d||3===d)break;if(8===d){d=c.data;if("$"===d||"$!"===d||"$?"===d)break;if("/$"===d)return null}}return c}function od(c){c=c.previousSibling;for(var d=0;c;){if(8===c.nodeType){var k=c.data;if("$"===k||"$!"===k||"$?"===
k){if(0===d)return c;d--}else"/$"===k&&d++}c=c.previousSibling}return null}function $c(c){var d=c[Qh];if(d)return d;for(var k=c.parentNode;k;){if(d=k[$h]||k[Qh]){k=d.alternate;if(null!==d.child||null!==k&&null!==k.child)for(c=od(c);null!==c;){if(k=c[Qh])return k;c=od(c)}return d}c=k;k=c.parentNode}return null}function Nc(c){c=c[Qh]||c[$h];return!c||5!==c.tag&&6!==c.tag&&13!==c.tag&&3!==c.tag?null:c}function Nd(c){if(5===c.tag||6===c.tag)return c.stateNode;throw Error(u(33));}function ce(c){return c[Lj]||
null}function Kd(c){return{current:c}}function Jd(c){0>pj||(c.current=Uk[pj],Uk[pj]=null,pj--)}function $d(c,d){pj++;Uk[pj]=c.current;c.current=d}function Aa(c,d){var k=c.type.contextTypes;if(!k)return gg;var v=c.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===d)return v.__reactInternalMemoizedMaskedChildContext;var R={},da;for(da in k)R[da]=d[da];v&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=d,c.__reactInternalMemoizedMaskedChildContext=R);return R}function Oa(c){c=
c.childContextTypes;return null!==c&&void 0!==c}function cc(){Jd(ah);Jd(Bg)}function gd(c,d,k){if(Bg.current!==gg)throw Error(u(168));$d(Bg,d);$d(ah,k)}function rc(c,d,k){var v=c.stateNode;d=d.childContextTypes;if("function"!==typeof v.getChildContext)return k;v=v.getChildContext();for(var R in v)if(!(R in d))throw Error(u(108,wb(c)||"Unknown",R));return sc({},k,v)}function Pc(c){c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||gg;ni=Bg.current;$d(Bg,c);$d(ah,ah.current);return!0}function Hc(c,
d,k){var v=c.stateNode;if(!v)throw Error(u(169));k?(c=rc(c,d,ni),v.__reactInternalMemoizedMergedChildContext=c,Jd(ah),Jd(Bg),$d(Bg,c)):Jd(ah);$d(ah,k)}function Tc(c){null===lg?lg=[c]:lg.push(c)}function Yc(c){ai=!0;Tc(c)}function id(){if(!Vk&&null!==lg){Vk=!0;var c=0,d=sf;try{var k=lg;for(sf=1;c<k.length;c++){var v=k[c];do v=v(!0);while(null!==v)}lg=null;ai=!1}catch(R){throw null!==lg&&(lg=lg.slice(c+1)),Tf(Hk,id),R;}finally{sf=d,Vk=!1}}return null}function ld(c,d){qj[Ah++]=lk;qj[Ah++]=mk;mk=c;lk=
d}function fe(c,d,k){Gf[rh++]=Bh;Gf[rh++]=oi;Gf[rh++]=bi;bi=c;var v=Bh;c=oi;var R=32-Nh(v)-1;v&=~(1<<R);k+=1;var da=32-Nh(d)+R;if(30<da){var Ta=R-R%5;da=(v&(1<<Ta)-1).toString(32);v>>=Ta;R-=Ta;Bh=1<<32-Nh(d)+R|k<<R|v;oi=da+c}else Bh=1<<da|k<<R|v,oi=c}function Re(c){null!==c.return&&(ld(c,1),fe(c,1,0))}function Ee(c){for(;c===mk;)mk=qj[--Ah],qj[Ah]=null,lk=qj[--Ah],qj[Ah]=null;for(;c===bi;)bi=Gf[--rh],Gf[rh]=null,oi=Gf[--rh],Gf[rh]=null,Bh=Gf[--rh],Gf[rh]=null}function ne(c,d){var k=hg(5,null,null,
0);k.elementType="DELETED";k.stateNode=d;k.return=c;d=c.deletions;null===d?(c.deletions=[k],c.flags|=16):d.push(k)}function ef(c,d){switch(c.tag){case 5:var k=c.type;d=1!==d.nodeType||k.toLowerCase()!==d.nodeName.toLowerCase()?null:d;return null!==d?(c.stateNode=d,Rg=c,Sg=Oc(d.firstChild),!0):!1;case 6:return d=""===c.pendingProps||3!==d.nodeType?null:d,null!==d?(c.stateNode=d,Rg=c,Sg=null,!0):!1;case 13:return d=8!==d.nodeType?null:d,null!==d?(k=null!==bi?{id:Bh,overflow:oi}:null,c.memoizedState=
{dehydrated:d,treeContext:k,retryLane:1073741824},k=hg(18,null,null,0),k.stateNode=d,k.return=c,c.child=k,Rg=c,Sg=null,!0):!1;default:return!1}}function kf(c){return 0!==(c.mode&1)&&0===(c.flags&128)}function Ke(c){if(Pf){var d=Sg;if(d){var k=d;if(!ef(c,d)){if(kf(c))throw Error(u(418));d=Oc(k.nextSibling);var v=Rg;d&&ef(c,d)?ne(v,k):(c.flags=c.flags&-4097|2,Pf=!1,Rg=c)}}else{if(kf(c))throw Error(u(418));c.flags=c.flags&-4097|2;Pf=!1;Rg=c}}}function Ye(c){for(c=c.return;null!==c&&5!==c.tag&&3!==c.tag&&
13!==c.tag;)c=c.return;Rg=c}function Ze(c){if(c!==Rg)return!1;if(!Pf)return Ye(c),Pf=!0,!1;var d;(d=3!==c.tag)&&!(d=5!==c.tag)&&(d=c.type,d="head"!==d&&"body"!==d&&!Gb(c.type,c.memoizedProps));if(d&&(d=Sg)){if(kf(c))throw ue(),Error(u(418));for(;d;)ne(c,d),d=Oc(d.nextSibling)}Ye(c);if(13===c.tag){c=c.memoizedState;c=null!==c?c.dehydrated:null;if(!c)throw Error(u(317));a:{c=c.nextSibling;for(d=0;c;){if(8===c.nodeType){var k=c.data;if("/$"===k){if(0===d){Sg=Oc(c.nextSibling);break a}d--}else"$"!==k&&
"$!"!==k&&"$?"!==k||d++}c=c.nextSibling}Sg=null}}else Sg=Rg?Oc(c.stateNode.nextSibling):null;return!0}function ue(){for(var c=Sg;c;)c=Oc(c.nextSibling)}function oe(){Sg=Rg=null;Pf=!1}function Ae(c){null===hh?hh=[c]:hh.push(c)}function na(c,d,k){c=k.ref;if(null!==c&&"function"!==typeof c&&"object"!==typeof c){if(k._owner){if(k=k._owner){if(1!==k.tag)throw Error(u(309));var v=k.stateNode}if(!v)throw Error(u(147,c));var R=v,da=""+c;if(null!==d&&null!==d.ref&&"function"===typeof d.ref&&d.ref._stringRef===
da)return d.ref;d=function(Ta){var Wb=R.refs;null===Ta?delete Wb[da]:Wb[da]=Ta};d._stringRef=da;return d}if("string"!==typeof c)throw Error(u(284));if(!k._owner)throw Error(u(290,c));}return c}function l(c,d){c=Object.prototype.toString.call(d);throw Error(u(31,"[object Object]"===c?"object with keys {"+Object.keys(d).join(", ")+"}":c));}function q(c){var d=c._init;return d(c._payload)}function K(c){function d(Ic,uc){if(c){var Qc=Ic.deletions;null===Qc?(Ic.deletions=[uc],Ic.flags|=16):Qc.push(uc)}}
function k(Ic,uc){if(!c)return null;for(;null!==uc;)d(Ic,uc),uc=uc.sibling;return null}function v(Ic,uc){for(Ic=new Map;null!==uc;)null!==uc.key?Ic.set(uc.key,uc):Ic.set(uc.index,uc),uc=uc.sibling;return Ic}function R(Ic,uc){Ic=cg(Ic,uc);Ic.index=0;Ic.sibling=null;return Ic}function da(Ic,uc,Qc){Ic.index=Qc;if(!c)return Ic.flags|=1048576,uc;Qc=Ic.alternate;if(null!==Qc)return Qc=Qc.index,Qc<uc?(Ic.flags|=2,uc):Qc;Ic.flags|=2;return uc}function Ta(Ic){c&&null===Ic.alternate&&(Ic.flags|=2);return Ic}
function Wb(Ic,uc,Qc,Gd){if(null===uc||6!==uc.tag)return uc=rj(Qc,Ic.mode,Gd),uc.return=Ic,uc;uc=R(uc,Qc);uc.return=Ic;return uc}function lc(Ic,uc,Qc,Gd){var be=Qc.type;if(be===ii)return ud(Ic,uc,Qc.props.children,Gd,Qc.key);if(null!==uc&&(uc.elementType===be||"object"===typeof be&&null!==be&&be.$$typeof===tc&&q(be)===uc.type))return Gd=R(uc,Qc.props),Gd.ref=na(Ic,uc,Qc),Gd.return=Ic,Gd;Gd=Af(Qc.type,Qc.key,Qc.props,null,Ic.mode,Gd);Gd.ref=na(Ic,uc,Qc);Gd.return=Ic;return Gd}function Uc(Ic,uc,Qc,
Gd){if(null===uc||4!==uc.tag||uc.stateNode.containerInfo!==Qc.containerInfo||uc.stateNode.implementation!==Qc.implementation)return uc=sj(Qc,Ic.mode,Gd),uc.return=Ic,uc;uc=R(uc,Qc.children||[]);uc.return=Ic;return uc}function ud(Ic,uc,Qc,Gd,be){if(null===uc||7!==uc.tag)return uc=Cg(Qc,Ic.mode,Gd,be),uc.return=Ic,uc;uc=R(uc,Qc);uc.return=Ic;return uc}function yd(Ic,uc,Qc){if("string"===typeof uc&&""!==uc||"number"===typeof uc)return uc=rj(""+uc,Ic.mode,Qc),uc.return=Ic,uc;if("object"===typeof uc&&
null!==uc){switch(uc.$$typeof){case Xi:return Qc=Af(uc.type,uc.key,uc.props,null,Ic.mode,Qc),Qc.ref=na(Ic,null,uc),Qc.return=Ic,Qc;case ji:return uc=sj(uc,Ic.mode,Qc),uc.return=Ic,uc;case tc:var Gd=uc._init;return yd(Ic,Gd(uc._payload),Qc)}if(xe(uc)||Cb(uc))return uc=Cg(uc,Ic.mode,Qc,null),uc.return=Ic,uc;l(Ic,uc)}return null}function td(Ic,uc,Qc,Gd){var be=null!==uc?uc.key:null;if("string"===typeof Qc&&""!==Qc||"number"===typeof Qc)return null!==be?null:Wb(Ic,uc,""+Qc,Gd);if("object"===typeof Qc&&
null!==Qc){switch(Qc.$$typeof){case Xi:return Qc.key===be?lc(Ic,uc,Qc,Gd):null;case ji:return Qc.key===be?Uc(Ic,uc,Qc,Gd):null;case tc:return be=Qc._init,td(Ic,uc,be(Qc._payload),Gd)}if(xe(Qc)||Cb(Qc))return null!==be?null:ud(Ic,uc,Qc,Gd,null);l(Ic,Qc)}return null}function Sd(Ic,uc,Qc,Gd,be){if("string"===typeof Gd&&""!==Gd||"number"===typeof Gd)return Ic=Ic.get(Qc)||null,Wb(uc,Ic,""+Gd,be);if("object"===typeof Gd&&null!==Gd){switch(Gd.$$typeof){case Xi:return Ic=Ic.get(null===Gd.key?Qc:Gd.key)||
null,lc(uc,Ic,Gd,be);case ji:return Ic=Ic.get(null===Gd.key?Qc:Gd.key)||null,Uc(uc,Ic,Gd,be);case tc:var pe=Gd._init;return Sd(Ic,uc,Qc,pe(Gd._payload),be)}if(xe(Gd)||Cb(Gd))return Ic=Ic.get(Qc)||null,ud(uc,Ic,Gd,be,null);l(uc,Gd)}return null}function de(Ic,uc,Qc,Gd){for(var be=null,pe=null,te=uc,ee=uc=0,vg=null;null!==te&&ee<Qc.length;ee++){te.index>ee?(vg=te,te=null):vg=te.sibling;var ff=td(Ic,te,Qc[ee],Gd);if(null===ff){null===te&&(te=vg);break}c&&te&&null===ff.alternate&&d(Ic,te);uc=da(ff,uc,
ee);null===pe?be=ff:pe.sibling=ff;pe=ff;te=vg}if(ee===Qc.length)return k(Ic,te),Pf&&ld(Ic,ee),be;if(null===te){for(;ee<Qc.length;ee++)te=yd(Ic,Qc[ee],Gd),null!==te&&(uc=da(te,uc,ee),null===pe?be=te:pe.sibling=te,pe=te);Pf&&ld(Ic,ee);return be}for(te=v(Ic,te);ee<Qc.length;ee++)vg=Sd(te,Ic,ee,Qc[ee],Gd),null!==vg&&(c&&null!==vg.alternate&&te.delete(null===vg.key?ee:vg.key),uc=da(vg,uc,ee),null===pe?be=vg:pe.sibling=vg,pe=vg);c&&te.forEach(function(pi){return d(Ic,pi)});Pf&&ld(Ic,ee);return be}function ke(Ic,
uc,Qc,Gd){var be=Cb(Qc);if("function"!==typeof be)throw Error(u(150));Qc=be.call(Qc);if(null==Qc)throw Error(u(151));for(var pe=be=null,te=uc,ee=uc=0,vg=null,ff=Qc.next();null!==te&&!ff.done;ee++,ff=Qc.next()){te.index>ee?(vg=te,te=null):vg=te.sibling;var pi=td(Ic,te,ff.value,Gd);if(null===pi){null===te&&(te=vg);break}c&&te&&null===pi.alternate&&d(Ic,te);uc=da(pi,uc,ee);null===pe?be=pi:pe.sibling=pi;pe=pi;te=vg}if(ff.done)return k(Ic,te),Pf&&ld(Ic,ee),be;if(null===te){for(;!ff.done;ee++,ff=Qc.next())ff=
yd(Ic,ff.value,Gd),null!==ff&&(uc=da(ff,uc,ee),null===pe?be=ff:pe.sibling=ff,pe=ff);Pf&&ld(Ic,ee);return be}for(te=v(Ic,te);!ff.done;ee++,ff=Qc.next())ff=Sd(te,Ic,ee,ff.value,Gd),null!==ff&&(c&&null!==ff.alternate&&te.delete(null===ff.key?ee:ff.key),uc=da(ff,uc,ee),null===pe?be=ff:pe.sibling=ff,pe=ff);c&&te.forEach(function(Wl){return d(Ic,Wl)});Pf&&ld(Ic,ee);return be}function bg(Ic,uc,Qc,Gd){"object"===typeof Qc&&null!==Qc&&Qc.type===ii&&null===Qc.key&&(Qc=Qc.props.children);if("object"===typeof Qc&&
null!==Qc){switch(Qc.$$typeof){case Xi:a:{for(var be=Qc.key,pe=uc;null!==pe;){if(pe.key===be){be=Qc.type;if(be===ii){if(7===pe.tag){k(Ic,pe.sibling);uc=R(pe,Qc.props.children);uc.return=Ic;Ic=uc;break a}}else if(pe.elementType===be||"object"===typeof be&&null!==be&&be.$$typeof===tc&&q(be)===pe.type){k(Ic,pe.sibling);uc=R(pe,Qc.props);uc.ref=na(Ic,pe,Qc);uc.return=Ic;Ic=uc;break a}k(Ic,pe);break}else d(Ic,pe);pe=pe.sibling}Qc.type===ii?(uc=Cg(Qc.props.children,Ic.mode,Gd,Qc.key),uc.return=Ic,Ic=uc):
(Gd=Af(Qc.type,Qc.key,Qc.props,null,Ic.mode,Gd),Gd.ref=na(Ic,uc,Qc),Gd.return=Ic,Ic=Gd)}return Ta(Ic);case ji:a:{for(pe=Qc.key;null!==uc;){if(uc.key===pe)if(4===uc.tag&&uc.stateNode.containerInfo===Qc.containerInfo&&uc.stateNode.implementation===Qc.implementation){k(Ic,uc.sibling);uc=R(uc,Qc.children||[]);uc.return=Ic;Ic=uc;break a}else{k(Ic,uc);break}else d(Ic,uc);uc=uc.sibling}uc=sj(Qc,Ic.mode,Gd);uc.return=Ic;Ic=uc}return Ta(Ic);case tc:return pe=Qc._init,bg(Ic,uc,pe(Qc._payload),Gd)}if(xe(Qc))return de(Ic,
uc,Qc,Gd);if(Cb(Qc))return ke(Ic,uc,Qc,Gd);l(Ic,Qc)}return"string"===typeof Qc&&""!==Qc||"number"===typeof Qc?(Qc=""+Qc,null!==uc&&6===uc.tag?(k(Ic,uc.sibling),uc=R(uc,Qc),uc.return=Ic,Ic=uc):(k(Ic,uc),uc=rj(Qc,Ic.mode,Gd),uc.return=Ic,Ic=uc),Ta(Ic)):k(Ic,uc)}return bg}function ja(c){var d=tj.current;Jd(tj);c._currentValue=d}function Ca(c,d,k){for(;null!==c;){var v=c.alternate;(c.childLanes&d)!==d?(c.childLanes|=d,null!==v&&(v.childLanes|=d)):null!==v&&(v.childLanes&d)!==d&&(v.childLanes|=d);if(c===
k)break;c=c.return}}function Qa(c,d){Hi=c;Mj=qi=null;c=c.dependencies;null!==c&&null!==c.firstContext&&(0!==(c.lanes&d)&&(bh=!0),c.firstContext=null)}function Ga(c){var d=c._currentValue;if(Mj!==c)if(c={context:c,memoizedValue:d,next:null},null===qi){if(null===Hi)throw Error(u(308));qi=c;Hi.dependencies={lanes:0,firstContext:c}}else qi=qi.next=c;return d}function qb(c){null===Yi?Yi=[c]:Yi.push(c)}function nb(c,d,k,v){var R=d.interleaved;null===R?(k.next=k,qb(d)):(k.next=R.next,R.next=k);d.interleaved=
k;return wc(c,v)}function wc(c,d){c.lanes|=d;var k=c.alternate;null!==k&&(k.lanes|=d);k=c;for(c=c.return;null!==c;)c.childLanes|=d,k=c.alternate,null!==k&&(k.childLanes|=d),k=c,c=c.return;return 3===k.tag?k.stateNode:null}function vc(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zc(c,d){c=c.updateQueue;d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,
lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function yc(c,d){return{eventTime:c,lane:d,tag:0,payload:null,callback:null,next:null}}function Rc(c,d,k){var v=c.updateQueue;if(null===v)return null;v=v.shared;if(0!==(cf&2)){var R=v.pending;null===R?d.next=d:(d.next=R.next,R.next=d);v.pending=d;return wc(c,k)}R=v.interleaved;null===R?(d.next=d,qb(v)):(d.next=R.next,R.next=d);v.interleaved=d;return wc(c,k)}function ed(c,d,k){d=d.updateQueue;if(null!==d&&(d=d.shared,0!==(k&4194240))){var v=
d.lanes;v&=c.pendingLanes;k|=v;d.lanes=k;xc(c,k)}}function Td(c,d){var k=c.updateQueue,v=c.alternate;if(null!==v&&(v=v.updateQueue,k===v)){var R=null,da=null;k=k.firstBaseUpdate;if(null!==k){do{var Ta={eventTime:k.eventTime,lane:k.lane,tag:k.tag,payload:k.payload,callback:k.callback,next:null};null===da?R=da=Ta:da=da.next=Ta;k=k.next}while(null!==k);null===da?R=da=d:da=da.next=d}else R=da=d;k={baseState:v.baseState,firstBaseUpdate:R,lastBaseUpdate:da,shared:v.shared,effects:v.effects};c.updateQueue=
k}else c=k.lastBaseUpdate,null===c?k.firstBaseUpdate=d:c.next=d,k.lastBaseUpdate=d}function Ad(c,d,k,v){var R=c.updateQueue;ri=!1;var da=R.firstBaseUpdate,Ta=R.lastBaseUpdate,Wb=R.shared.pending;if(null!==Wb){R.shared.pending=null;var lc=Wb,Uc=lc.next;lc.next=null;null===Ta?da=Uc:Ta.next=Uc;var ud=c.alternate;null!==ud&&(ud=ud.updateQueue,Wb=ud.lastBaseUpdate,Wb!==lc&&(null===Wb?ud.firstBaseUpdate=Uc:Wb.next=Uc,ud.lastBaseUpdate=lc))}if(null!==da){var yd=R.baseState;Ta=0;ud=Uc=lc=null;Wb=da;do{var td=
Wb.lane,Sd=Wb.eventTime;if((v&td)===td){null!==ud&&(ud=ud.next={eventTime:Sd,lane:0,tag:Wb.tag,payload:Wb.payload,callback:Wb.callback,next:null});a:{var de=c,ke=Wb;td=d;Sd=k;switch(ke.tag){case 1:de=ke.payload;if("function"===typeof de){yd=de.call(Sd,yd,td);break a}yd=de;break a;case 3:de.flags=de.flags&-65537|128;case 0:de=ke.payload;td="function"===typeof de?de.call(Sd,yd,td):de;if(null===td||void 0===td)break a;yd=sc({},yd,td);break a;case 2:ri=!0}}null!==Wb.callback&&0!==Wb.lane&&(c.flags|=64,
td=R.effects,null===td?R.effects=[Wb]:td.push(Wb))}else Sd={eventTime:Sd,lane:td,tag:Wb.tag,payload:Wb.payload,callback:Wb.callback,next:null},null===ud?(Uc=ud=Sd,lc=yd):ud=ud.next=Sd,Ta|=td;Wb=Wb.next;if(null===Wb)if(Wb=R.shared.pending,null===Wb)break;else td=Wb,Wb=td.next,td.next=null,R.lastBaseUpdate=td,R.shared.pending=null}while(1);null===ud&&(lc=yd);R.baseState=lc;R.firstBaseUpdate=Uc;R.lastBaseUpdate=ud;d=R.shared.interleaved;if(null!==d){R=d;do Ta|=R.lane,R=R.next;while(R!==d)}else null===
da&&(R.shared.lanes=0);nf|=Ta;c.lanes=Ta;c.memoizedState=yd}}function Md(c,d,k){c=d.effects;d.effects=null;if(null!==c)for(d=0;d<c.length;d++){var v=c[d],R=v.callback;if(null!==R){v.callback=null;v=k;if("function"!==typeof R)throw Error(u(191,R));R.call(v)}}}function Ud(c){if(c===uj)throw Error(u(174));return c}function pc(c,d){$d(vj,d);$d(wj,c);$d(ci,uj);c=d.nodeType;switch(c){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:ca(null,"");break;default:c=8===c?d.parentNode:d,d=c.namespaceURI||
null,c=c.tagName,d=ca(d,c)}Jd(ci);$d(ci,d)}function Hd(){Jd(ci);Jd(wj);Jd(vj)}function Be(c){Ud(vj.current);var d=Ud(ci.current),k=ca(d,c.type);d!==k&&($d(wj,c),$d(ci,k))}function Vd(c){wj.current===c&&(Jd(ci),Jd(wj))}function le(c){for(var d=c;null!==d;){if(13===d.tag){var k=d.memoizedState;if(null!==k&&(k=k.dehydrated,null===k||"$?"===k.data||"$!"===k.data))return d}else if(19===d.tag&&void 0!==d.memoizedProps.revealOrder){if(0!==(d.flags&128))return d}else if(null!==d.child){d.child.return=d;d=
d.child;continue}if(d===c)break;for(;null===d.sibling;){if(null===d.return||d.return===c)return null;d=d.return}d.sibling.return=d.return;d=d.sibling}return null}function Pd(){for(var c=0;c<Ii.length;c++)Ii[c]._workInProgressVersionPrimary=null;Ii.length=0}function Qd(){throw Error(u(321));}function Ne(c,d){if(null===d)return!1;for(var k=0;k<d.length&&k<c.length;k++)if(!Oh(c[k],d[k]))return!1;return!0}function Fe(c,d,k,v,R,da){Zi=da;uf=d;d.memoizedState=null;d.updateQueue=null;d.lanes=0;Nj.current=
null===c||null===c.memoizedState?Xl:sl;c=k(v,R);if(Oj){da=0;do{Oj=!1;Pj=0;if(25<=da)throw Error(u(301));da+=1;wg=mg=null;d.updateQueue=null;Nj.current=tl;c=k(v,R)}while(Oj)}Nj.current=Qj;d=null!==mg&&null!==mg.next;Zi=0;wg=mg=uf=null;$i=!1;if(d)throw Error(u(300));return c}function re(){var c=0!==Pj;Pj=0;return c}function Me(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===wg?uf.memoizedState=wg=c:wg=wg.next=c;return wg}function hd(){if(null===mg){var c=uf.alternate;
c=null!==c?c.memoizedState:null}else c=mg.next;var d=null===wg?uf.memoizedState:wg.next;if(null!==d)wg=d,mg=c;else{if(null===c)throw Error(u(310));mg=c;c={memoizedState:mg.memoizedState,baseState:mg.baseState,baseQueue:mg.baseQueue,queue:mg.queue,next:null};null===wg?uf.memoizedState=wg=c:wg=wg.next=c}return wg}function ve(c,d){return"function"===typeof d?d(c):d}function gf(c){var d=hd(),k=d.queue;if(null===k)throw Error(u(311));k.lastRenderedReducer=c;var v=mg,R=v.baseQueue,da=k.pending;if(null!==
da){if(null!==R){var Ta=R.next;R.next=da.next;da.next=Ta}v.baseQueue=R=da;k.pending=null}if(null!==R){da=R.next;v=v.baseState;var Wb=Ta=null,lc=null,Uc=da;do{var ud=Uc.lane;if((Zi&ud)===ud)null!==lc&&(lc=lc.next={lane:0,action:Uc.action,hasEagerState:Uc.hasEagerState,eagerState:Uc.eagerState,next:null}),v=Uc.hasEagerState?Uc.eagerState:c(v,Uc.action);else{var yd={lane:ud,action:Uc.action,hasEagerState:Uc.hasEagerState,eagerState:Uc.eagerState,next:null};null===lc?(Wb=lc=yd,Ta=v):lc=lc.next=yd;uf.lanes|=
ud;nf|=ud}Uc=Uc.next}while(null!==Uc&&Uc!==da);null===lc?Ta=v:lc.next=Wb;Oh(v,d.memoizedState)||(bh=!0);d.memoizedState=v;d.baseState=Ta;d.baseQueue=lc;k.lastRenderedState=v}c=k.interleaved;if(null!==c){R=c;do da=R.lane,uf.lanes|=da,nf|=da,R=R.next;while(R!==c)}else null===R&&(k.lanes=0);return[d.memoizedState,k.dispatch]}function lf(c){var d=hd(),k=d.queue;if(null===k)throw Error(u(311));k.lastRenderedReducer=c;var v=k.dispatch,R=k.pending,da=d.memoizedState;if(null!==R){k.pending=null;var Ta=R=
R.next;do da=c(da,Ta.action),Ta=Ta.next;while(Ta!==R);Oh(da,d.memoizedState)||(bh=!0);d.memoizedState=da;null===d.baseQueue&&(d.baseState=da);k.lastRenderedState=da}return[da,v]}function Dg(){}function vf(c,d){var k=uf,v=hd(),R=d(),da=!Oh(v.memoizedState,R);da&&(v.memoizedState=R,bh=!0);v=v.queue;Ch(mf.bind(null,k,v,c),[c]);if(v.getSnapshot!==d||da||null!==wg&&wg.memoizedState.tag&1){k.flags|=2048;Uf(9,Vf.bind(null,k,v,R,d),void 0,null);if(null===ng)throw Error(u(349));0!==(Zi&30)||Mf(k,d,R)}return R}
function Mf(c,d,k){c.flags|=16384;c={getSnapshot:d,value:k};d=uf.updateQueue;null===d?(d={lastEffect:null,stores:null},uf.updateQueue=d,d.stores=[c]):(k=d.stores,null===k?d.stores=[c]:k.push(c))}function Vf(c,d,k,v){d.value=k;d.getSnapshot=v;Se(d)&&Wf(c)}function mf(c,d,k){return k(function(){Se(d)&&Wf(c)})}function Se(c){var d=c.getSnapshot;c=c.value;try{var k=d();return!Oh(c,k)}catch(v){return!0}}function Wf(c){var d=wc(c,1);null!==d&&r(d,c,1,-1)}function og(c){var d=Me();"function"===typeof c&&
(c=c());d.memoizedState=d.baseState=c;c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ve,lastRenderedState:c};d.queue=c;c=c.dispatch=ze.bind(null,uf,c);return[d.memoizedState,c]}function Uf(c,d,k,v){c={tag:c,create:d,destroy:k,deps:v,next:null};d=uf.updateQueue;null===d?(d={lastEffect:null,stores:null},uf.updateQueue=d,d.lastEffect=c.next=c):(k=d.lastEffect,null===k?d.lastEffect=c.next=c:(v=k.next,k.next=c,c.next=v,d.lastEffect=c));return c}function ig(){return hd().memoizedState}
function Bf(c,d,k,v){var R=Me();uf.flags|=c;R.memoizedState=Uf(1|d,k,void 0,void 0===v?null:v)}function Tg(c,d,k,v){var R=hd();v=void 0===v?null:v;var da=void 0;if(null!==mg){var Ta=mg.memoizedState;da=Ta.destroy;if(null!==v&&Ne(v,Ta.deps)){R.memoizedState=Uf(d,k,da,v);return}}uf.flags|=c;R.memoizedState=Uf(1|d,k,da,v)}function Eg(c,d){return Bf(8390656,8,c,d)}function Ch(c,d){return Tg(2048,8,c,d)}function Fg(c,d){return Tg(4,2,c,d)}function Ug(c,d){return Tg(4,4,c,d)}function ch(c,d){if("function"===
typeof d)return c=c(),d(c),function(){d(null)};if(null!==d&&void 0!==d)return c=c(),d.current=c,function(){d.current=null}}function S(c,d,k){k=null!==k&&void 0!==k?k.concat([c]):null;return Tg(4,4,ch.bind(null,d,c),k)}function Ja(){}function mb(c,d){var k=hd();d=void 0===d?null:d;var v=k.memoizedState;if(null!==v&&null!==d&&Ne(d,v[1]))return v[0];k.memoizedState=[c,d];return c}function Fc(c,d){var k=hd();d=void 0===d?null:d;var v=k.memoizedState;if(null!==v&&null!==d&&Ne(d,v[1]))return v[0];c=c();
k.memoizedState=[c,d];return c}function Gc(c,d,k){if(0===(Zi&21))return c.baseState&&(c.baseState=!1,bh=!0),c.memoizedState=k;Oh(k,d)||(k=oc(),uf.lanes|=k,nf|=k,c.baseState=!0);return d}function Ld(c,d){var k=sf;sf=0!==k&&4>k?k:4;c(!0);var v=nk.transition;nk.transition={};try{c(!1),d()}finally{sf=k,nk.transition=v}}function ge(){return hd().memoizedState}function Ge(c,d,k){var v=dc(c);k={lane:v,action:k,hasEagerState:!1,eagerState:null,next:null};if(Hf(c))Xf(d,k);else if(k=nb(c,d,k,v),null!==k){var R=
Ab();r(k,c,v,R);ih(k,d,v)}}function ze(c,d,k){var v=dc(c),R={lane:v,action:k,hasEagerState:!1,eagerState:null,next:null};if(Hf(c))Xf(d,R);else{var da=c.alternate;if(0===c.lanes&&(null===da||0===da.lanes)&&(da=d.lastRenderedReducer,null!==da))try{var Ta=d.lastRenderedState,Wb=da(Ta,k);R.hasEagerState=!0;R.eagerState=Wb;if(Oh(Wb,Ta)){var lc=d.interleaved;null===lc?(R.next=R,qb(d)):(R.next=lc.next,lc.next=R);d.interleaved=R;return}}catch(Uc){}finally{}k=nb(c,d,R,v);null!==k&&(R=Ab(),r(k,c,v,R),ih(k,
d,v))}}function Hf(c){var d=c.alternate;return c===uf||null!==d&&d===uf}function Xf(c,d){Oj=$i=!0;var k=c.pending;null===k?d.next=d:(d.next=k.next,k.next=d);c.pending=d}function ih(c,d,k){if(0!==(k&4194240)){var v=d.lanes;v&=c.pendingLanes;k|=v;d.lanes=k;xc(c,k)}}function Qf(c,d){if(c&&c.defaultProps){d=sc({},d);c=c.defaultProps;for(var k in c)void 0===d[k]&&(d[k]=c[k])}return d}function Vg(c,d,k,v){d=c.memoizedState;k=k(v,d);k=null===k||void 0===k?d:sc({},d,k);c.memoizedState=k;0===c.lanes&&(c.updateQueue.baseState=
k)}function dg(c,d,k,v,R,da,Ta){c=c.stateNode;return"function"===typeof c.shouldComponentUpdate?c.shouldComponentUpdate(v,da,Ta):d.prototype&&d.prototype.isPureReactComponent?!va(k,v)||!va(R,da):!0}function sh(c,d,k){var v=!1,R=gg,da=d.contextType;"object"===typeof da&&null!==da?da=Ga(da):(R=Oa(d)?ni:Bg.current,v=d.contextTypes,da=(v=null!==v&&void 0!==v)?Aa(c,R):gg);d=new d(k,da);c.memoizedState=null!==d.state&&void 0!==d.state?d.state:null;d.updater=ok;c.stateNode=d;d._reactInternals=c;v&&(c=c.stateNode,
c.__reactInternalMemoizedUnmaskedChildContext=R,c.__reactInternalMemoizedMaskedChildContext=da);return d}function Dh(c,d,k,v){c=d.state;"function"===typeof d.componentWillReceiveProps&&d.componentWillReceiveProps(k,v);"function"===typeof d.UNSAFE_componentWillReceiveProps&&d.UNSAFE_componentWillReceiveProps(k,v);d.state!==c&&ok.enqueueReplaceState(d,d.state,null)}function Yd(c,d,k,v){var R=c.stateNode;R.props=k;R.state=c.memoizedState;R.refs={};vc(c);var da=d.contextType;"object"===typeof da&&null!==
da?R.context=Ga(da):(da=Oa(d)?ni:Bg.current,R.context=Aa(c,da));R.state=c.memoizedState;da=d.getDerivedStateFromProps;"function"===typeof da&&(Vg(c,d,da,k),R.state=c.memoizedState);"function"===typeof d.getDerivedStateFromProps||"function"===typeof R.getSnapshotBeforeUpdate||"function"!==typeof R.UNSAFE_componentWillMount&&"function"!==typeof R.componentWillMount||(d=R.state,"function"===typeof R.componentWillMount&&R.componentWillMount(),"function"===typeof R.UNSAFE_componentWillMount&&R.UNSAFE_componentWillMount(),
d!==R.state&&ok.enqueueReplaceState(R,R.state,null),Ad(c,k,R,v),R.state=c.memoizedState);"function"===typeof R.componentDidMount&&(c.flags|=4194308)}function he(c,d){try{var k="",v=d;do k+=Ba(v),v=v.return;while(v)}catch(R){k="\nError generating stack: "+R.message+"\n"+R.stack}return{value:c,source:d,stack:k,digest:null}}function of(c,d,k){return{value:c,source:null,stack:null!=k?k:null,digest:null!=d?d:null}}function He(c,d){try{console.error(d.value)}catch(k){setTimeout(function(){throw k;})}}function hf(c,
d,k){k=yc(-1,k);k.tag=3;k.payload={element:null};var v=d.value;k.callback=function(){pk||(pk=!0,qk=v);He(c,d)};return k}function Ve(c,d,k){k=yc(-1,k);k.tag=3;var v=c.type.getDerivedStateFromError;if("function"===typeof v){var R=d.value;k.payload=function(){return v(R)};k.callback=function(){He(c,d)}}var da=c.stateNode;null!==da&&"function"===typeof da.componentDidCatch&&(k.callback=function(){He(c,d);"function"!==typeof v&&(null===si?si=new Set([this]):si.add(this));var Ta=d.stack;this.componentDidCatch(d.value,
{componentStack:null!==Ta?Ta:""})});return k}function pf(c,d,k){var v=c.pingCache;if(null===v){v=c.pingCache=new Yl;var R=new Set;v.set(d,R)}else R=v.get(d),void 0===R&&(R=new Set,v.set(d,R));R.has(k)||(R.add(k),c=zf.bind(null,c,d,k),d.then(c,c))}function Yf(c){do{var d;if(d=13===c.tag)d=c.memoizedState,d=null!==d?null!==d.dehydrated?!0:!1:!0;if(d)return c;c=c.return}while(null!==c);return null}function Nf(c,d,k,v,R){if(0===(c.mode&1))return c===d?c.flags|=65536:(c.flags|=128,k.flags|=131072,k.flags&=
-52805,1===k.tag&&(null===k.alternate?k.tag=17:(d=yc(-1,1),d.tag=2,Rc(k,d,1))),k.lanes|=1),c;c.flags|=65536;c.lanes=R;return c}function $e(c,d,k,v){d.child=null===c?ul(d,null,k,v):Ji(d,c.child,k,v)}function Wg(c,d,k,v,R){k=k.render;var da=d.ref;Qa(d,R);v=Fe(c,d,k,v,da,R);k=re();if(null!==c&&!bh)return d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~R,Gg(c,d,R);Pf&&k&&Re(d);d.flags|=1;$e(c,d,v,R);return d.child}function xg(c,d,k,v,R){if(null===c){var da=k.type;if("function"===typeof da&&!Eh(da)&&
void 0===da.defaultProps&&null===k.compare&&void 0===k.defaultProps)return d.tag=15,d.type=da,jh(c,d,da,v,R);c=Af(k.type,null,v,d,d.mode,R);c.ref=d.ref;c.return=d;return d.child=c}da=c.child;if(0===(c.lanes&R)){var Ta=da.memoizedProps;k=k.compare;k=null!==k?k:va;if(k(Ta,v)&&c.ref===d.ref)return Gg(c,d,R)}d.flags|=1;c=cg(da,v);c.ref=d.ref;c.return=d;return d.child=c}function jh(c,d,k,v,R){if(null!==c){var da=c.memoizedProps;if(va(da,v)&&c.ref===d.ref)if(bh=!1,d.pendingProps=v=da,0!==(c.lanes&R))0!==
(c.flags&131072)&&(bh=!0);else return d.lanes=c.lanes,Gg(c,d,R)}return pg(c,d,k,v,R)}function Of(c,d,k){var v=d.pendingProps,R=v.children,da=null!==c?c.memoizedState:null;if("hidden"===v.mode)if(0===(d.mode&1))d.memoizedState={baseLanes:0,cachePool:null,transitions:null},$d(xj,th),th|=k;else{if(0===(k&1073741824))return c=null!==da?da.baseLanes|k:k,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:c,cachePool:null,transitions:null},d.updateQueue=null,$d(xj,th),th|=c,null;d.memoizedState=
{baseLanes:0,cachePool:null,transitions:null};v=null!==da?da.baseLanes:k;$d(xj,th);th|=v}else null!==da?(v=da.baseLanes|k,d.memoizedState=null):v=k,$d(xj,th),th|=v;$e(c,d,R,k);return d.child}function Rh(c,d){var k=d.ref;if(null===c&&null!==k||null!==c&&c.ref!==k)d.flags|=512,d.flags|=2097152}function pg(c,d,k,v,R){var da=Oa(k)?ni:Bg.current;da=Aa(d,da);Qa(d,R);k=Fe(c,d,k,v,da,R);v=re();if(null!==c&&!bh)return d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~R,Gg(c,d,R);Pf&&v&&Re(d);d.flags|=1;
$e(c,d,k,R);return d.child}function uh(c,d,k,v,R){if(Oa(k)){var da=!0;Pc(d)}else da=!1;Qa(d,R);if(null===d.stateNode)Fh(c,d),sh(d,k,v),Yd(d,k,v,R),v=!0;else if(null===c){var Ta=d.stateNode,Wb=d.memoizedProps;Ta.props=Wb;var lc=Ta.context,Uc=k.contextType;"object"===typeof Uc&&null!==Uc?Uc=Ga(Uc):(Uc=Oa(k)?ni:Bg.current,Uc=Aa(d,Uc));var ud=k.getDerivedStateFromProps,yd="function"===typeof ud||"function"===typeof Ta.getSnapshotBeforeUpdate;yd||"function"!==typeof Ta.UNSAFE_componentWillReceiveProps&&
"function"!==typeof Ta.componentWillReceiveProps||(Wb!==v||lc!==Uc)&&Dh(d,Ta,v,Uc);ri=!1;var td=d.memoizedState;Ta.state=td;Ad(d,v,Ta,R);lc=d.memoizedState;Wb!==v||td!==lc||ah.current||ri?("function"===typeof ud&&(Vg(d,k,ud,v),lc=d.memoizedState),(Wb=ri||dg(d,k,Wb,v,td,lc,Uc))?(yd||"function"!==typeof Ta.UNSAFE_componentWillMount&&"function"!==typeof Ta.componentWillMount||("function"===typeof Ta.componentWillMount&&Ta.componentWillMount(),"function"===typeof Ta.UNSAFE_componentWillMount&&Ta.UNSAFE_componentWillMount()),
"function"===typeof Ta.componentDidMount&&(d.flags|=4194308)):("function"===typeof Ta.componentDidMount&&(d.flags|=4194308),d.memoizedProps=v,d.memoizedState=lc),Ta.props=v,Ta.state=lc,Ta.context=Uc,v=Wb):("function"===typeof Ta.componentDidMount&&(d.flags|=4194308),v=!1)}else{Ta=d.stateNode;zc(c,d);Wb=d.memoizedProps;Uc=d.type===d.elementType?Wb:Qf(d.type,Wb);Ta.props=Uc;yd=d.pendingProps;td=Ta.context;lc=k.contextType;"object"===typeof lc&&null!==lc?lc=Ga(lc):(lc=Oa(k)?ni:Bg.current,lc=Aa(d,lc));
var Sd=k.getDerivedStateFromProps;(ud="function"===typeof Sd||"function"===typeof Ta.getSnapshotBeforeUpdate)||"function"!==typeof Ta.UNSAFE_componentWillReceiveProps&&"function"!==typeof Ta.componentWillReceiveProps||(Wb!==yd||td!==lc)&&Dh(d,Ta,v,lc);ri=!1;td=d.memoizedState;Ta.state=td;Ad(d,v,Ta,R);var de=d.memoizedState;Wb!==yd||td!==de||ah.current||ri?("function"===typeof Sd&&(Vg(d,k,Sd,v),de=d.memoizedState),(Uc=ri||dg(d,k,Uc,v,td,de,lc)||!1)?(ud||"function"!==typeof Ta.UNSAFE_componentWillUpdate&&
"function"!==typeof Ta.componentWillUpdate||("function"===typeof Ta.componentWillUpdate&&Ta.componentWillUpdate(v,de,lc),"function"===typeof Ta.UNSAFE_componentWillUpdate&&Ta.UNSAFE_componentWillUpdate(v,de,lc)),"function"===typeof Ta.componentDidUpdate&&(d.flags|=4),"function"===typeof Ta.getSnapshotBeforeUpdate&&(d.flags|=1024)):("function"!==typeof Ta.componentDidUpdate||Wb===c.memoizedProps&&td===c.memoizedState||(d.flags|=4),"function"!==typeof Ta.getSnapshotBeforeUpdate||Wb===c.memoizedProps&&
td===c.memoizedState||(d.flags|=1024),d.memoizedProps=v,d.memoizedState=de),Ta.props=v,Ta.state=de,Ta.context=lc,v=Uc):("function"!==typeof Ta.componentDidUpdate||Wb===c.memoizedProps&&td===c.memoizedState||(d.flags|=4),"function"!==typeof Ta.getSnapshotBeforeUpdate||Wb===c.memoizedProps&&td===c.memoizedState||(d.flags|=1024),v=!1)}return jg(c,d,k,v,da,R)}function jg(c,d,k,v,R,da){Rh(c,d);var Ta=0!==(d.flags&128);if(!v&&!Ta)return R&&Hc(d,k,!1),Gg(c,d,da);v=d.stateNode;vl.current=d;var Wb=Ta&&"function"!==
typeof k.getDerivedStateFromError?null:v.render();d.flags|=1;null!==c&&Ta?(d.child=Ji(d,c.child,null,da),d.child=Ji(d,null,Wb,da)):$e(c,d,Wb,da);d.memoizedState=v.state;R&&Hc(d,k,!0);return d.child}function Sh(c){var d=c.stateNode;d.pendingContext?gd(c,d.pendingContext,d.pendingContext!==d.context):d.context&&gd(c,d.context,!1);pc(c,d.containerInfo)}function aj(c){return{baseLanes:c,cachePool:null,transitions:null}}function Hg(c,d,k){var v=d.pendingProps,R=Cf.current,da=!1,Ta=0!==(d.flags&128),Wb;
(Wb=Ta)||(Wb=null!==c&&null===c.memoizedState?!1:0!==(R&2));if(Wb)da=!0,d.flags&=-129;else if(null===c||null!==c.memoizedState)R|=1;$d(Cf,R&1);if(null===c){Ke(d);c=d.memoizedState;if(null!==c&&(c=c.dehydrated,null!==c))return 0===(d.mode&1)?d.lanes=1:"$!"===c.data?d.lanes=8:d.lanes=1073741824,null;Ta=v.children;c=v.fallback;return da?(v=d.mode,da=d.child,Ta={mode:"hidden",children:Ta},0===(v&1)&&null!==da?(da.childLanes=0,da.pendingProps=Ta):da=Ki(Ta,v,0,null),c=Cg(c,v,k,null),da.return=d,c.return=
d,da.sibling=c,d.child=da,d.child.memoizedState=aj(k),d.memoizedState=Wk,c):ti(d,Ta)}R=c.memoizedState;if(null!==R&&(Wb=R.dehydrated,null!==Wb))return bj(c,d,Ta,v,Wb,R,k);if(da){da=v.fallback;Ta=d.mode;R=c.child;Wb=R.sibling;var lc={mode:"hidden",children:v.children};0===(Ta&1)&&d.child!==R?(v=d.child,v.childLanes=0,v.pendingProps=lc,d.deletions=null):(v=cg(R,lc),v.subtreeFlags=R.subtreeFlags&14680064);null!==Wb?da=cg(Wb,da):(da=Cg(da,Ta,k,null),da.flags|=2);da.return=d;v.return=d;v.sibling=da;d.child=
v;v=da;da=d.child;Ta=c.child.memoizedState;Ta=null===Ta?aj(k):{baseLanes:Ta.baseLanes|k,cachePool:null,transitions:Ta.transitions};da.memoizedState=Ta;da.childLanes=c.childLanes&~k;d.memoizedState=Wk;return v}da=c.child;c=da.sibling;v=cg(da,{mode:"visible",children:v.children});0===(d.mode&1)&&(v.lanes=k);v.return=d;v.sibling=null;null!==c&&(k=d.deletions,null===k?(d.deletions=[c],d.flags|=16):k.push(c));d.child=v;d.memoizedState=null;return v}function ti(c,d){d=Ki({mode:"visible",children:d},c.mode,
0,null);d.return=c;return c.child=d}function di(c,d,k,v){null!==v&&Ae(v);Ji(d,c.child,null,k);c=ti(d,d.pendingProps.children);c.flags|=2;d.memoizedState=null;return c}function bj(c,d,k,v,R,da,Ta){if(k){if(d.flags&256)return d.flags&=-257,v=of(Error(u(422))),di(c,d,Ta,v);if(null!==d.memoizedState)return d.child=c.child,d.flags|=128,null;da=v.fallback;R=d.mode;v=Ki({mode:"visible",children:v.children},R,0,null);da=Cg(da,R,Ta,null);da.flags|=2;v.return=d;da.return=d;v.sibling=da;d.child=v;0!==(d.mode&
1)&&Ji(d,c.child,null,Ta);d.child.memoizedState=aj(Ta);d.memoizedState=Wk;return da}if(0===(d.mode&1))return di(c,d,Ta,null);if("$!"===R.data){if(v=R.nextSibling&&R.nextSibling.dataset)var Wb=v.dgst;v=Wb;da=Error(u(419));v=of(da,v,void 0);return di(c,d,Ta,v)}Wb=0!==(Ta&c.childLanes);if(bh||Wb){v=ng;if(null!==v){switch(Ta&-Ta){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=
32;break;case 536870912:R=268435456;break;default:R=0}R=0!==(R&(v.suspendedLanes|Ta))?0:R;0!==R&&R!==da.retryLane&&(da.retryLane=R,wc(c,R),r(v,c,R,-1))}Le();v=of(Error(u(421)));return di(c,d,Ta,v)}if("$?"===R.data)return d.flags|=128,d.child=c.child,d=kh.bind(null,c),R._reactRetry=d,null;c=da.treeContext;Sg=Oc(R.nextSibling);Rg=d;Pf=!0;hh=null;null!==c&&(Gf[rh++]=Bh,Gf[rh++]=oi,Gf[rh++]=bi,Bh=c.id,oi=c.overflow,bi=d);d=ti(d,v.children);d.flags|=4096;return d}function ui(c,d,k){c.lanes|=d;var v=c.alternate;
null!==v&&(v.lanes|=d);Ca(c.return,d,k)}function vh(c,d,k,v,R){var da=c.memoizedState;null===da?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:v,tail:k,tailMode:R}:(da.isBackwards=d,da.rendering=null,da.renderingStartTime=0,da.last=v,da.tail=k,da.tailMode=R)}function Li(c,d,k){var v=d.pendingProps,R=v.revealOrder,da=v.tail;$e(c,d,v.children,k);v=Cf.current;if(0!==(v&2))v=v&1|2,d.flags|=128;else{if(null!==c&&0!==(c.flags&128))a:for(c=d.child;null!==c;){if(13===c.tag)null!==
c.memoizedState&&ui(c,k,d);else if(19===c.tag)ui(c,k,d);else if(null!==c.child){c.child.return=c;c=c.child;continue}if(c===d)break a;for(;null===c.sibling;){if(null===c.return||c.return===d)break a;c=c.return}c.sibling.return=c.return;c=c.sibling}v&=1}$d(Cf,v);if(0===(d.mode&1))d.memoizedState=null;else switch(R){case "forwards":k=d.child;for(R=null;null!==k;)c=k.alternate,null!==c&&null===le(c)&&(R=k),k=k.sibling;k=R;null===k?(R=d.child,d.child=null):(R=k.sibling,k.sibling=null);vh(d,!1,R,k,da);
break;case "backwards":k=null;R=d.child;for(d.child=null;null!==R;){c=R.alternate;if(null!==c&&null===le(c)){d.child=R;break}c=R.sibling;R.sibling=k;k=R;R=c}vh(d,!0,k,null,da);break;case "together":vh(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Fh(c,d){0===(d.mode&1)&&null!==c&&(c.alternate=null,d.alternate=null,d.flags|=2)}function Gg(c,d,k){null!==c&&(d.dependencies=c.dependencies);nf|=d.lanes;if(0===(k&d.childLanes))return null;if(null!==c&&d.child!==c.child)throw Error(u(153));
if(null!==d.child){c=d.child;k=cg(c,c.pendingProps);d.child=k;for(k.return=d;null!==c.sibling;)c=c.sibling,k=k.sibling=cg(c,c.pendingProps),k.return=d;k.sibling=null}return d.child}function Gh(c,d,k){switch(d.tag){case 3:Sh(d);oe();break;case 5:Be(d);break;case 1:Oa(d.type)&&Pc(d);break;case 4:pc(d,d.stateNode.containerInfo);break;case 10:var v=d.type._context,R=d.memoizedProps.value;$d(tj,v._currentValue);v._currentValue=R;break;case 13:v=d.memoizedState;if(null!==v){if(null!==v.dehydrated)return $d(Cf,
Cf.current&1),d.flags|=128,null;if(0!==(k&d.child.childLanes))return Hg(c,d,k);$d(Cf,Cf.current&1);c=Gg(c,d,k);return null!==c?c.sibling:null}$d(Cf,Cf.current&1);break;case 19:v=0!==(k&d.childLanes);if(0!==(c.flags&128)){if(v)return Li(c,d,k);d.flags|=128}R=d.memoizedState;null!==R&&(R.rendering=null,R.tail=null,R.lastEffect=null);$d(Cf,Cf.current);if(v)break;else return null;case 22:case 23:return d.lanes=0,Of(c,d,k)}return Gg(c,d,k)}function Hh(c,d){if(!Pf)switch(c.tailMode){case "hidden":d=c.tail;
for(var k=null;null!==d;)null!==d.alternate&&(k=d),d=d.sibling;null===k?c.tail=null:k.sibling=null;break;case "collapsed":k=c.tail;for(var v=null;null!==k;)null!==k.alternate&&(v=k),k=k.sibling;null===v?d||null===c.tail?c.tail=null:c.tail.sibling=null:v.sibling=null}}function eg(c){var d=null!==c.alternate&&c.alternate.child===c.child,k=0,v=0;if(d)for(var R=c.child;null!==R;)k|=R.lanes|R.childLanes,v|=R.subtreeFlags&14680064,v|=R.flags&14680064,R.return=c,R=R.sibling;else for(R=c.child;null!==R;)k|=
R.lanes|R.childLanes,v|=R.subtreeFlags,v|=R.flags,R.return=c,R=R.sibling;c.subtreeFlags|=v;c.childLanes=k;return d}function cj(c,d,k){var v=d.pendingProps;Ee(d);switch(d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return eg(d),null;case 1:return Oa(d.type)&&cc(),eg(d),null;case 3:v=d.stateNode;Hd();Jd(ah);Jd(Bg);Pd();v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null);if(null===c||null===c.child)Ze(d)?d.flags|=4:null===c||c.memoizedState.isDehydrated&&
0===(d.flags&256)||(d.flags|=1024,null!==hh&&($a(hh),hh=null));ei(c,d);eg(d);return null;case 5:Vd(d);var R=Ud(vj.current);k=d.type;if(null!==c&&null!=d.stateNode)wl(c,d,k,v,R),c.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!v){if(null===d.stateNode)throw Error(u(166));eg(d);return null}c=Ud(ci.current);if(Ze(d)){v=d.stateNode;k=d.type;var da=d.memoizedProps;v[Qh]=d;v[Lj]=da;c=0!==(d.mode&1);switch(k){case "dialog":nd("cancel",v);nd("close",v);break;case "iframe":case "object":case "embed":nd("load",
v);break;case "video":case "audio":for(R=0;R<yj.length;R++)nd(yj[R],v);break;case "source":nd("error",v);break;case "img":case "image":case "link":nd("error",v);nd("load",v);break;case "details":nd("toggle",v);break;case "input":za(v,da);nd("invalid",v);break;case "select":v._wrapperState={wasMultiple:!!da.multiple};nd("invalid",v);break;case "textarea":Qb(v,da),nd("invalid",v)}pa(k,da);R=null;for(var Ta in da)if(da.hasOwnProperty(Ta)){var Wb=da[Ta];"children"===Ta?"string"===typeof Wb?v.textContent!==
Wb&&(!0!==da.suppressHydrationWarning&&Fa(v.textContent,Wb,c),R=["children",Wb]):"number"===typeof Wb&&v.textContent!==""+Wb&&(!0!==da.suppressHydrationWarning&&Fa(v.textContent,Wb,c),R=["children",""+Wb]):Wh.hasOwnProperty(Ta)&&null!=Wb&&"onScroll"===Ta&&nd("scroll",v)}switch(k){case "input":hb(v);Ia(v,da,!0);break;case "textarea":hb(v);T(v);break;case "select":case "option":break;default:"function"===typeof da.onClick&&(v.onclick=fb)}v=R;d.updateQueue=v;null!==v&&(d.flags|=4)}else{Ta=9===R.nodeType?
R:R.ownerDocument;"http://www.w3.org/1999/xhtml"===c&&(c=Z(k));"http://www.w3.org/1999/xhtml"===c?"script"===k?(c=Ta.createElement("div"),c.innerHTML="\x3cscript\x3e\x3c/script\x3e",c=c.removeChild(c.firstChild)):"string"===typeof v.is?c=Ta.createElement(k,{is:v.is}):(c=Ta.createElement(k),"select"===k&&(Ta=c,v.multiple?Ta.multiple=!0:v.size&&(Ta.size=v.size))):c=Ta.createElementNS(c,k);c[Qh]=d;c[Lj]=v;Zl(c,d,!1,!1);d.stateNode=c;a:{Ta=m(k,v);switch(k){case "dialog":nd("cancel",c);nd("close",c);R=
v;break;case "iframe":case "object":case "embed":nd("load",c);R=v;break;case "video":case "audio":for(R=0;R<yj.length;R++)nd(yj[R],c);R=v;break;case "source":nd("error",c);R=v;break;case "img":case "image":case "link":nd("error",c);nd("load",c);R=v;break;case "details":nd("toggle",c);R=v;break;case "input":za(c,v);R=fa(c,v);nd("invalid",c);break;case "option":R=v;break;case "select":c._wrapperState={wasMultiple:!!v.multiple};R=sc({},v,{value:void 0});nd("invalid",c);break;case "textarea":Qb(c,v);
R=tb(c,v);nd("invalid",c);break;default:R=v}pa(k,R);Wb=R;for(da in Wb)if(Wb.hasOwnProperty(da)){var lc=Wb[da];"style"===da?oa(c,lc):"dangerouslySetInnerHTML"===da?(lc=lc?lc.__html:void 0,null!=lc&&Ue(c,lc)):"children"===da?"string"===typeof lc?("textarea"!==k||""!==lc)&&ha(c,lc):"number"===typeof lc&&ha(c,""+lc):"suppressContentEditableWarning"!==da&&"suppressHydrationWarning"!==da&&"autoFocus"!==da&&(Wh.hasOwnProperty(da)?null!=lc&&"onScroll"===da&&nd("scroll",c):null!=lc&&mc(c,da,lc,Ta))}switch(k){case "input":hb(c);
Ia(c,v,!1);break;case "textarea":hb(c);T(c);break;case "option":null!=v.value&&c.setAttribute("value",""+ub(v.value));break;case "select":c.multiple=!!v.multiple;da=v.value;null!=da?bb(c,!!v.multiple,da,!1):null!=v.defaultValue&&bb(c,!!v.multiple,v.defaultValue,!0);break;default:"function"===typeof R.onClick&&(c.onclick=fb)}switch(k){case "button":case "input":case "select":case "textarea":v=!!v.autoFocus;break a;case "img":v=!0;break a;default:v=!1}}v&&(d.flags|=4)}null!==d.ref&&(d.flags|=512,d.flags|=
2097152)}eg(d);return null;case 6:if(c&&null!=d.stateNode)xl(c,d,c.memoizedProps,v);else{if("string"!==typeof v&&null===d.stateNode)throw Error(u(166));k=Ud(vj.current);Ud(ci.current);if(Ze(d)){v=d.stateNode;k=d.memoizedProps;v[Qh]=d;if(da=v.nodeValue!==k)if(c=Rg,null!==c)switch(c.tag){case 3:Fa(v.nodeValue,k,0!==(c.mode&1));break;case 5:!0!==c.memoizedProps.suppressHydrationWarning&&Fa(v.nodeValue,k,0!==(c.mode&1))}da&&(d.flags|=4)}else v=(9===k.nodeType?k:k.ownerDocument).createTextNode(v),v[Qh]=
d,d.stateNode=v}eg(d);return null;case 13:Jd(Cf);v=d.memoizedState;if(null===c||null!==c.memoizedState&&null!==c.memoizedState.dehydrated){if(Pf&&null!==Sg&&0!==(d.mode&1)&&0===(d.flags&128))ue(),oe(),d.flags|=98560,da=!1;else if(da=Ze(d),null!==v&&null!==v.dehydrated){if(null===c){if(!da)throw Error(u(318));da=d.memoizedState;da=null!==da?da.dehydrated:null;if(!da)throw Error(u(317));da[Qh]=d}else oe(),0===(d.flags&128)&&(d.memoizedState=null),d.flags|=4;eg(d);da=!1}else null!==hh&&($a(hh),hh=null),
da=!0;if(!da)return d.flags&65536?d:null}if(0!==(d.flags&128))return d.lanes=k,d;v=null!==v;v!==(null!==c&&null!==c.memoizedState)&&v&&(d.child.flags|=8192,0!==(d.mode&1)&&(null===c||0!==(Cf.current&1)?0===If&&(If=3):Le()));null!==d.updateQueue&&(d.flags|=4);eg(d);return null;case 4:return Hd(),ei(c,d),null===c&&me(d.stateNode.containerInfo),eg(d),null;case 10:return ja(d.type._context),eg(d),null;case 17:return Oa(d.type)&&cc(),eg(d),null;case 19:Jd(Cf);da=d.memoizedState;if(null===da)return eg(d),
null;v=0!==(d.flags&128);Ta=da.rendering;if(null===Ta)if(v)Hh(da,!1);else{if(0!==If||null!==c&&0!==(c.flags&128))for(c=d.child;null!==c;){Ta=le(c);if(null!==Ta){d.flags|=128;Hh(da,!1);v=Ta.updateQueue;null!==v&&(d.updateQueue=v,d.flags|=4);d.subtreeFlags=0;v=k;for(k=d.child;null!==k;)da=k,c=v,da.flags&=14680066,Ta=da.alternate,null===Ta?(da.childLanes=0,da.lanes=c,da.child=null,da.subtreeFlags=0,da.memoizedProps=null,da.memoizedState=null,da.updateQueue=null,da.dependencies=null,da.stateNode=null):
(da.childLanes=Ta.childLanes,da.lanes=Ta.lanes,da.child=Ta.child,da.subtreeFlags=0,da.deletions=null,da.memoizedProps=Ta.memoizedProps,da.memoizedState=Ta.memoizedState,da.updateQueue=Ta.updateQueue,da.type=Ta.type,c=Ta.dependencies,da.dependencies=null===c?null:{lanes:c.lanes,firstContext:c.firstContext}),k=k.sibling;$d(Cf,Cf.current&1|2);return d.child}c=c.sibling}null!==da.tail&&fg()>zj&&(d.flags|=128,v=!0,Hh(da,!1),d.lanes=4194304)}else{if(!v)if(c=le(Ta),null!==c){if(d.flags|=128,v=!0,k=c.updateQueue,
null!==k&&(d.updateQueue=k,d.flags|=4),Hh(da,!0),null===da.tail&&"hidden"===da.tailMode&&!Ta.alternate&&!Pf)return eg(d),null}else 2*fg()-da.renderingStartTime>zj&&1073741824!==k&&(d.flags|=128,v=!0,Hh(da,!1),d.lanes=4194304);da.isBackwards?(Ta.sibling=d.child,d.child=Ta):(k=da.last,null!==k?k.sibling=Ta:d.child=Ta,da.last=Ta)}if(null!==da.tail)return d=da.tail,da.rendering=d,da.tail=d.sibling,da.renderingStartTime=fg(),d.sibling=null,k=Cf.current,$d(Cf,v?k&1|2:k&1),d;eg(d);return null;case 22:case 23:return Wc(),
v=null!==d.memoizedState,null!==c&&null!==c.memoizedState!==v&&(d.flags|=8192),v&&0!==(d.mode&1)?0!==(th&1073741824)&&(eg(d),d.subtreeFlags&6&&(d.flags|=8192)):eg(d),null;case 24:return null;case 25:return null}throw Error(u(156,d.tag));}function fi(c,d){Ee(d);switch(d.tag){case 1:return Oa(d.type)&&cc(),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return Hd(),Jd(ah),Jd(Bg),Pd(),c=d.flags,0!==(c&65536)&&0===(c&128)?(d.flags=c&-65537|128,d):null;case 5:return Vd(d),null;case 13:Jd(Cf);c=
d.memoizedState;if(null!==c&&null!==c.dehydrated){if(null===d.alternate)throw Error(u(340));oe()}c=d.flags;return c&65536?(d.flags=c&-65537|128,d):null;case 19:return Jd(Cf),null;case 4:return Hd(),null;case 10:return ja(d.type._context),null;case 22:case 23:return Wc(),null;case 24:return null;default:return null}}function dh(c,d){var k=c.ref;if(null!==k)if("function"===typeof k)try{k(null)}catch(v){wf(c,d,v)}else k.current=null}function vi(c,d,k){try{k()}catch(v){wf(c,d,v)}}function Aj(c,d){Xk=
bk;c=bc();if(Tb(c)){if("selectionStart"in c)var k={start:c.selectionStart,end:c.selectionEnd};else a:{k=(k=c.ownerDocument)&&k.defaultView||window;var v=k.getSelection&&k.getSelection();if(v&&0!==v.rangeCount){k=v.anchorNode;var R=v.anchorOffset,da=v.focusNode;v=v.focusOffset;try{k.nodeType,da.nodeType}catch(Gd){k=null;break a}var Ta=0,Wb=-1,lc=-1,Uc=0,ud=0,yd=c,td=null;b:for(;;){for(var Sd;;){yd!==k||0!==R&&3!==yd.nodeType||(Wb=Ta+R);yd!==da||0!==v&&3!==yd.nodeType||(lc=Ta+v);3===yd.nodeType&&(Ta+=
yd.nodeValue.length);if(null===(Sd=yd.firstChild))break;td=yd;yd=Sd}for(;;){if(yd===c)break b;td===k&&++Uc===R&&(Wb=Ta);td===da&&++ud===v&&(lc=Ta);if(null!==(Sd=yd.nextSibling))break;yd=td;td=yd.parentNode}yd=Sd}k=-1===Wb||-1===lc?null:{start:Wb,end:lc}}else k=null}k=k||{start:0,end:0}}else k=null;Yk={focusedElem:c,selectionRange:k};bk=!1;for(ae=d;null!==ae;)if(d=ae,c=d.child,0!==(d.subtreeFlags&1028)&&null!==c)c.return=d,ae=c;else for(;null!==ae;){d=ae;try{var de=d.alternate;if(0!==(d.flags&1024))switch(d.tag){case 0:case 11:case 15:break;
case 1:if(null!==de){var ke=de.memoizedProps,bg=de.memoizedState,Ic=d.stateNode,uc=Ic.getSnapshotBeforeUpdate(d.elementType===d.type?ke:Qf(d.type,ke),bg);Ic.__reactInternalSnapshotBeforeUpdate=uc}break;case 3:var Qc=d.stateNode.containerInfo;1===Qc.nodeType?Qc.textContent="":9===Qc.nodeType&&Qc.documentElement&&Qc.removeChild(Qc.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(u(163));}}catch(Gd){wf(d,d.return,Gd)}c=d.sibling;if(null!==c){c.return=d.return;ae=c;break}ae=
d.return}de=rk;rk=!1;return de}function eh(c,d,k){var v=d.updateQueue;v=null!==v?v.lastEffect:null;if(null!==v){var R=v=v.next;do{if((R.tag&c)===c){var da=R.destroy;R.destroy=void 0;void 0!==da&&vi(d,k,da)}R=R.next}while(R!==v)}}function lh(c,d){d=d.updateQueue;d=null!==d?d.lastEffect:null;if(null!==d){var k=d=d.next;do{if((k.tag&c)===c){var v=k.create;k.destroy=v()}k=k.next}while(k!==d)}}function Ig(c){var d=c.ref;if(null!==d){var k=c.stateNode;switch(c.tag){case 5:c=k;break;default:c=k}"function"===
typeof d?d(c):d.current=c}}function Te(c){var d=c.alternate;null!==d&&(c.alternate=null,Te(d));c.child=null;c.deletions=null;c.sibling=null;5===c.tag&&(d=c.stateNode,null!==d&&(delete d[Qh],delete d[Lj],delete d[Ok],delete d[yl],delete d[Zk]));c.stateNode=null;c.return=null;c.dependencies=null;c.memoizedProps=null;c.memoizedState=null;c.pendingProps=null;c.stateNode=null;c.updateQueue=null}function Ih(c){return 5===c.tag||3===c.tag||4===c.tag}function Mg(c){a:for(;;){for(;null===c.sibling;){if(null===
c.return||Ih(c.return))return null;c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.flags&2)continue a;if(null===c.child||4===c.tag)continue a;else c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function xf(c,d,k){var v=c.tag;if(5===v||6===v)c=c.stateNode,d?8===k.nodeType?k.parentNode.insertBefore(c,d):k.insertBefore(c,d):(8===k.nodeType?(d=k.parentNode,d.insertBefore(c,k)):(d=k,d.appendChild(c)),k=k._reactRootContainer,null!==k&&void 0!==
k||null!==d.onclick||(d.onclick=fb));else if(4!==v&&(c=c.child,null!==c))for(xf(c,d,k),c=c.sibling;null!==c;)xf(c,d,k),c=c.sibling}function Mi(c,d,k){var v=c.tag;if(5===v||6===v)c=c.stateNode,d?k.insertBefore(c,d):k.appendChild(c);else if(4!==v&&(c=c.child,null!==c))for(Mi(c,d,k),c=c.sibling;null!==c;)Mi(c,d,k),c=c.sibling}function qg(c,d,k){for(k=k.child;null!==k;)Ng(c,d,k),k=k.sibling}function Ng(c,d,k){if(Yh&&"function"===typeof Yh.onCommitFiberUnmount)try{Yh.onCommitFiberUnmount(Ij,k)}catch(Wb){}switch(k.tag){case 5:Xg||
dh(k,d);case 6:var v=Og,R=Th;Og=null;qg(c,d,k);Og=v;Th=R;null!==Og&&(Th?(c=Og,k=k.stateNode,8===c.nodeType?c.parentNode.removeChild(k):c.removeChild(k)):Og.removeChild(k.stateNode));break;case 18:null!==Og&&(Th?(c=Og,k=k.stateNode,8===c.nodeType?Ib(c.parentNode,k):1===c.nodeType&&Ib(c,k),Bc(c)):Ib(Og,k.stateNode));break;case 4:v=Og;R=Th;Og=k.stateNode.containerInfo;Th=!0;qg(c,d,k);Og=v;Th=R;break;case 0:case 11:case 14:case 15:if(!Xg&&(v=k.updateQueue,null!==v&&(v=v.lastEffect,null!==v))){R=v=v.next;
do{var da=R,Ta=da.destroy;da=da.tag;void 0!==Ta&&(0!==(da&2)?vi(k,d,Ta):0!==(da&4)&&vi(k,d,Ta));R=R.next}while(R!==v)}qg(c,d,k);break;case 1:if(!Xg&&(dh(k,d),v=k.stateNode,"function"===typeof v.componentWillUnmount))try{v.props=k.memoizedProps,v.state=k.memoizedState,v.componentWillUnmount()}catch(Wb){wf(k,d,Wb)}qg(c,d,k);break;case 21:qg(c,d,k);break;case 22:k.mode&1?(Xg=(v=Xg)||null!==k.memoizedState,qg(c,d,k),Xg=v):qg(c,d,k);break;default:qg(c,d,k)}}function mh(c){var d=c.updateQueue;if(null!==
d){c.updateQueue=null;var k=c.stateNode;null===k&&(k=c.stateNode=new $l);d.forEach(function(v){var R=Df.bind(null,c,v);k.has(v)||(k.add(v),v.then(R,R))})}}function Yg(c,d){var k=d.deletions;if(null!==k)for(var v=0;v<k.length;v++){var R=k[v];try{var da=c,Ta=d,Wb=Ta;a:for(;null!==Wb;){switch(Wb.tag){case 5:Og=Wb.stateNode;Th=!1;break a;case 3:Og=Wb.stateNode.containerInfo;Th=!0;break a;case 4:Og=Wb.stateNode.containerInfo;Th=!0;break a}Wb=Wb.return}if(null===Og)throw Error(u(160));Ng(da,Ta,R);Og=null;
Th=!1;var lc=R.alternate;null!==lc&&(lc.return=null);R.return=null}catch(Uc){wf(R,d,Uc)}}if(d.subtreeFlags&12854)for(d=d.child;null!==d;)Jh(d,c),d=d.sibling}function Jh(c,d){var k=c.alternate,v=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Yg(d,c);Zg(c);if(v&4){try{eh(3,c,c.return),lh(3,c)}catch(ke){wf(c,c.return,ke)}try{eh(5,c,c.return)}catch(ke){wf(c,c.return,ke)}}break;case 1:Yg(d,c);Zg(c);v&512&&null!==k&&dh(k,k.return);break;case 5:Yg(d,c);Zg(c);v&512&&null!==k&&dh(k,k.return);if(c.flags&
32){var R=c.stateNode;try{ha(R,"")}catch(ke){wf(c,c.return,ke)}}if(v&4&&(R=c.stateNode,null!=R)){var da=c.memoizedProps,Ta=null!==k?k.memoizedProps:da,Wb=c.type,lc=c.updateQueue;c.updateQueue=null;if(null!==lc)try{"input"===Wb&&"radio"===da.type&&null!=da.name&&Ra(R,da);m(Wb,Ta);var Uc=m(Wb,da);for(Ta=0;Ta<lc.length;Ta+=2){var ud=lc[Ta],yd=lc[Ta+1];"style"===ud?oa(R,yd):"dangerouslySetInnerHTML"===ud?Ue(R,yd):"children"===ud?ha(R,yd):mc(R,ud,yd,Uc)}switch(Wb){case "input":Xa(R,da);break;case "textarea":eb(R,
da);break;case "select":var td=R._wrapperState.wasMultiple;R._wrapperState.wasMultiple=!!da.multiple;var Sd=da.value;null!=Sd?bb(R,!!da.multiple,Sd,!1):td!==!!da.multiple&&(null!=da.defaultValue?bb(R,!!da.multiple,da.defaultValue,!0):bb(R,!!da.multiple,da.multiple?[]:"",!1))}R[Lj]=da}catch(ke){wf(c,c.return,ke)}}break;case 6:Yg(d,c);Zg(c);if(v&4){if(null===c.stateNode)throw Error(u(162));R=c.stateNode;da=c.memoizedProps;try{R.nodeValue=da}catch(ke){wf(c,c.return,ke)}}break;case 3:Yg(d,c);Zg(c);if(v&
4&&null!==k&&k.memoizedState.isDehydrated)try{Bc(d.containerInfo)}catch(ke){wf(c,c.return,ke)}break;case 4:Yg(d,c);Zg(c);break;case 13:Yg(d,c);Zg(c);R=c.child;R.flags&8192&&(da=null!==R.memoizedState,R.stateNode.isHidden=da,!da||null!==R.alternate&&null!==R.alternate.memoizedState||(Uh=fg()));v&4&&mh(c);break;case 22:ud=null!==k&&null!==k.memoizedState;c.mode&1?(Xg=(Uc=Xg)||ud,Yg(d,c),Xg=Uc):Yg(d,c);Zg(c);if(v&8192){Uc=null!==c.memoizedState;if((c.stateNode.isHidden=Uc)&&!ud&&0!==(c.mode&1))for(ae=
c,ud=c.child;null!==ud;){for(yd=ae=ud;null!==ae;){td=ae;Sd=td.child;switch(td.tag){case 0:case 11:case 14:case 15:eh(4,td,td.return);break;case 1:dh(td,td.return);var de=td.stateNode;if("function"===typeof de.componentWillUnmount){v=td;k=td.return;try{d=v,de.props=d.memoizedProps,de.state=d.memoizedState,de.componentWillUnmount()}catch(ke){wf(v,k,ke)}}break;case 5:dh(td,td.return);break;case 22:if(null!==td.memoizedState){Na(yd);continue}}null!==Sd?(Sd.return=td,ae=Sd):Na(yd)}ud=ud.sibling}ud=null;
yd=c;a:for(;;){if(5===yd.tag){if(null===ud){ud=yd;try{R=yd.stateNode,Uc?(da=R.style,"function"===typeof da.setProperty?da.setProperty("display","none","important"):da.display="none"):(Wb=yd.stateNode,lc=yd.memoizedProps.style,Ta=void 0!==lc&&null!==lc&&lc.hasOwnProperty("display")?lc.display:null,Wb.style.display=La("display",Ta))}catch(ke){wf(c,c.return,ke)}}}else if(6===yd.tag){if(null===ud)try{yd.stateNode.nodeValue=Uc?"":yd.memoizedProps}catch(ke){wf(c,c.return,ke)}}else if((22!==yd.tag&&23!==
yd.tag||null===yd.memoizedState||yd===c)&&null!==yd.child){yd.child.return=yd;yd=yd.child;continue}if(yd===c)break a;for(;null===yd.sibling;){if(null===yd.return||yd.return===c)break a;ud===yd&&(ud=null);yd=yd.return}ud===yd&&(ud=null);yd.sibling.return=yd.return;yd=yd.sibling}}break;case 19:Yg(d,c);Zg(c);v&4&&mh(c);break;case 21:break;default:Yg(d,c),Zg(c)}}function Zg(c){var d=c.flags;if(d&2){try{a:{for(var k=c.return;null!==k;){if(Ih(k))break a;k=k.return}throw Error(u(160));}switch(k.tag){case 5:var v=
k.stateNode;k.flags&32&&(ha(v,""),k.flags&=-33);var R=Mg(c);Mi(c,R,v);break;case 3:case 4:var da=k.stateNode.containerInfo,Ta=Mg(c);xf(c,Ta,da);break;default:throw Error(u(161));}}catch(Wb){wf(c,c.return,Wb)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function C(c,d,k){ae=c;Y(c,d,k)}function Y(c,d,k){for(var v=0!==(c.mode&1);null!==ae;){var R=ae,da=R.child;if(22===R.tag&&v){var Ta=null!==R.memoizedState||sk;if(!Ta){var Wb=R.alternate,lc=null!==Wb&&null!==Wb.memoizedState||Xg;Wb=sk;var Uc=Xg;sk=Ta;if((Xg=
lc)&&!Uc)for(ae=R;null!==ae;)Ta=ae,lc=Ta.child,22===Ta.tag&&null!==Ta.memoizedState?Jb(R):null!==lc?(lc.return=Ta,ae=lc):Jb(R);for(;null!==da;)ae=da,Y(da,d,k),da=da.sibling;ae=R;sk=Wb;Xg=Uc}ya(c,d,k)}else 0!==(R.subtreeFlags&8772)&&null!==da?(da.return=R,ae=da):ya(c,d,k)}}function ya(c){for(;null!==ae;){var d=ae;if(0!==(d.flags&8772)){var k=d.alternate;try{if(0!==(d.flags&8772))switch(d.tag){case 0:case 11:case 15:Xg||lh(5,d);break;case 1:var v=d.stateNode;if(d.flags&4&&!Xg)if(null===k)v.componentDidMount();
else{var R=d.elementType===d.type?k.memoizedProps:Qf(d.type,k.memoizedProps);v.componentDidUpdate(R,k.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var da=d.updateQueue;null!==da&&Md(d,da,v);break;case 3:var Ta=d.updateQueue;if(null!==Ta){k=null;if(null!==d.child)switch(d.child.tag){case 5:k=d.child.stateNode;break;case 1:k=d.child.stateNode}Md(d,Ta,k)}break;case 5:var Wb=d.stateNode;if(null===k&&d.flags&4){k=Wb;var lc=d.memoizedProps;switch(d.type){case "button":case "input":case "select":case "textarea":lc.autoFocus&&
k.focus();break;case "img":lc.src&&(k.src=lc.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===d.memoizedState){var Uc=d.alternate;if(null!==Uc){var ud=Uc.memoizedState;if(null!==ud){var yd=ud.dehydrated;null!==yd&&Bc(yd)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(u(163));}Xg||d.flags&512&&Ig(d)}catch(td){wf(d,d.return,td)}}if(d===c){ae=null;break}k=d.sibling;if(null!==k){k.return=d.return;ae=k;break}ae=d.return}}function Na(c){for(;null!==
ae;){var d=ae;if(d===c){ae=null;break}var k=d.sibling;if(null!==k){k.return=d.return;ae=k;break}ae=d.return}}function Jb(c){for(;null!==ae;){var d=ae;try{switch(d.tag){case 0:case 11:case 15:var k=d.return;try{lh(4,d)}catch(lc){wf(d,k,lc)}break;case 1:var v=d.stateNode;if("function"===typeof v.componentDidMount){var R=d.return;try{v.componentDidMount()}catch(lc){wf(d,R,lc)}}var da=d.return;try{Ig(d)}catch(lc){wf(d,da,lc)}break;case 5:var Ta=d.return;try{Ig(d)}catch(lc){wf(d,Ta,lc)}}}catch(lc){wf(d,
d.return,lc)}if(d===c){ae=null;break}var Wb=d.sibling;if(null!==Wb){Wb.return=d.return;ae=Wb;break}ae=d.return}}function Ab(){return 0!==(cf&6)?fg():-1!==Ni?Ni:Ni=fg()}function dc(c){if(0===(c.mode&1))return 1;if(0!==(cf&2)&&0!==Pg)return Pg&-Pg;if(null!==zl.transition)return 0===Bj&&(Bj=oc()),Bj;c=sf;if(0!==c)return c;c=window.event;return c=void 0===c?16:gb(c.type)}function r(c,d,k,v){if(50<wi)throw wi=0,tk=null,Error(u(185));Nb(c,k,v);if(0===(cf&2)||c!==ng)c===ng&&(0===(cf&2)&&(jf|=k),4===If&&
hc(c,Pg)),I(c,v),1===k&&0===cf&&0===(d.mode&1)&&(zj=fg()+500,ai&&id())}function I(c,d){var k=c.callbackNode;Ea(c,d);var v=Ub(c,c===ng?Pg:0);if(0===v)null!==k&&rg(k),c.callbackNode=null,c.callbackPriority=0;else if(d=v&-v,c.callbackPriority!==d){null!=k&&rg(k);if(1===d)0===c.tag?Yc(Kc.bind(null,c)):Tc(Kc.bind(null,c)),Al(function(){0===(cf&6)&&id()}),k=null;else{switch(dd(v)){case 1:k=Hk;break;case 4:k=dk;break;case 16:k=Ui;break;case 536870912:k=Ik;break;default:k=Ui}k=qf(k,ea.bind(null,c))}c.callbackPriority=
d;c.callbackNode=k}}function ea(c,d){Ni=-1;Bj=0;if(0!==(cf&6))throw Error(u(327));var k=c.callbackNode;if(nh()&&c.callbackNode!==k)return null;var v=Ub(c,c===ng?Pg:0);if(0===v)return null;if(0!==(v&30)||0!==(v&c.expiredLanes)||d)d=rf(c,v);else{d=v;var R=cf;cf|=2;var da=se();if(ng!==c||Pg!==d)xi=null,zj=fg()+500,Fd(c,d);do try{for(;null!==sg&&!Vh();)df(sg);break}catch(Wb){ie(c,Wb)}while(1);Mj=qi=Hi=null;uk.current=da;cf=R;null!==sg?d=0:(ng=null,Pg=0,d=If)}if(0!==d){2===d&&(R=Mb(c),0!==R&&(v=R,d=ta(c,
R)));if(1===d)throw k=Rj,Fd(c,0),hc(c,v),I(c,fg()),k;if(6===d)hc(c,v);else{R=c.current.alternate;if(0===(v&30)&&!Pb(R)&&(d=rf(c,v),2===d&&(da=Mb(c),0!==da&&(v=da,d=ta(c,da))),1===d))throw k=Rj,Fd(c,0),hc(c,v),I(c,fg()),k;c.finishedWork=R;c.finishedLanes=v;switch(d){case 0:case 1:throw Error(u(345));case 2:qe(c,oh,xi);break;case 3:hc(c,v);if((v&130023424)===v&&(d=Uh+500-fg(),10<d)){if(0!==Ub(c,0))break;R=c.suspendedLanes;if((R&v)!==v){Ab();c.pingedLanes|=c.suspendedLanes&R;break}c.timeoutHandle=$k(qe.bind(null,
c,oh,xi),d);break}qe(c,oh,xi);break;case 4:hc(c,v);if((v&4194240)===v)break;d=c.eventTimes;for(R=-1;0<v;){var Ta=31-Nh(v);da=1<<Ta;Ta=d[Ta];Ta>R&&(R=Ta);v&=~da}v=R;v=fg()-v;v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3E3>v?3E3:4320>v?4320:1960*am(v/1960))-v;if(10<v){c.timeoutHandle=$k(qe.bind(null,c,oh,xi),v);break}qe(c,oh,xi);break;case 5:qe(c,oh,xi);break;default:throw Error(u(329));}}}I(c,fg());return c.callbackNode===k?ea.bind(null,c):null}function ta(c,d){var k=wh;c.current.memoizedState.isDehydrated&&
(Fd(c,d).flags|=256);c=rf(c,d);2!==c&&(d=oh,oh=k,null!==d&&$a(d));return c}function $a(c){null===oh?oh=c:oh.push.apply(oh,c)}function Pb(c){for(var d=c;;){if(d.flags&16384){var k=d.updateQueue;if(null!==k&&(k=k.stores,null!==k))for(var v=0;v<k.length;v++){var R=k[v],da=R.getSnapshot;R=R.value;try{if(!Oh(da(),R))return!1}catch(Ta){return!1}}}k=d.child;if(d.subtreeFlags&16384&&null!==k)k.return=d,d=k;else{if(d===c)break;for(;null===d.sibling;){if(null===d.return||d.return===c)return!0;d=d.return}d.sibling.return=
d.return;d=d.sibling}}return!0}function hc(c,d){d&=~Qg;d&=~jf;c.suspendedLanes|=d;c.pingedLanes&=~d;for(c=c.expirationTimes;0<d;){var k=31-Nh(d),v=1<<k;c[k]=-1;d&=~v}}function Kc(c){if(0!==(cf&6))throw Error(u(327));nh();var d=Ub(c,0);if(0===(d&1))return I(c,fg()),null;var k=rf(c,d);if(0!==c.tag&&2===k){var v=Mb(c);0!==v&&(d=v,k=ta(c,v))}if(1===k)throw k=Rj,Fd(c,0),hc(c,d),I(c,fg()),k;if(6===k)throw Error(u(345));c.finishedWork=c.current.alternate;c.finishedLanes=d;qe(c,oh,xi);I(c,fg());return null}
function fc(c,d){var k=cf;cf|=1;try{return c(d)}finally{cf=k,0===cf&&(zj=fg()+500,ai&&id())}}function ad(c){null!==yi&&0===yi.tag&&0===(cf&6)&&nh();var d=cf;cf|=1;var k=Kh.transition,v=sf;try{if(Kh.transition=null,sf=1,c)return c()}finally{sf=v,Kh.transition=k,cf=d,0===(cf&6)&&id()}}function Wc(){th=xj.current;Jd(xj)}function Fd(c,d){c.finishedWork=null;c.finishedLanes=0;var k=c.timeoutHandle;-1!==k&&(c.timeoutHandle=-1,bm(k));if(null!==sg)for(k=sg.return;null!==k;){var v=k;Ee(v);switch(v.tag){case 1:v=
v.type.childContextTypes;null!==v&&void 0!==v&&cc();break;case 3:Hd();Jd(ah);Jd(Bg);Pd();break;case 5:Vd(v);break;case 4:Hd();break;case 13:Jd(Cf);break;case 19:Jd(Cf);break;case 10:ja(v.type._context);break;case 22:case 23:Wc()}k=k.return}ng=c;sg=c=cg(c.current,null);Pg=th=d;If=0;Rj=null;Qg=jf=nf=0;oh=wh=null;if(null!==Yi){for(d=0;d<Yi.length;d++)if(k=Yi[d],v=k.interleaved,null!==v){k.interleaved=null;var R=v.next,da=k.pending;if(null!==da){var Ta=da.next;da.next=R;v.next=Ta}k.pending=v}Yi=null}return c}
function ie(c,d){do{var k=sg;try{Mj=qi=Hi=null;Nj.current=Qj;if($i){for(var v=uf.memoizedState;null!==v;){var R=v.queue;null!==R&&(R.pending=null);v=v.next}$i=!1}Zi=0;wg=mg=uf=null;Oj=!1;Pj=0;al.current=null;if(null===k||null===k.return){If=1;Rj=d;sg=null;break}a:{var da=c,Ta=k.return,Wb=k,lc=d;d=Pg;Wb.flags|=32768;if(null!==lc&&"object"===typeof lc&&"function"===typeof lc.then){var Uc=lc,ud=Wb,yd=ud.tag;if(0===(ud.mode&1)&&(0===yd||11===yd||15===yd)){var td=ud.alternate;td?(ud.updateQueue=td.updateQueue,
ud.memoizedState=td.memoizedState,ud.lanes=td.lanes):(ud.updateQueue=null,ud.memoizedState=null)}var Sd=Yf(Ta);if(null!==Sd){Sd.flags&=-257;Nf(Sd,Ta,Wb,da,d);Sd.mode&1&&pf(da,Uc,d);d=Sd;lc=Uc;var de=d.updateQueue;if(null===de){var ke=new Set;ke.add(lc);d.updateQueue=ke}else de.add(lc);break a}else{if(0===(d&1)){pf(da,Uc,d);Le();break a}lc=Error(u(426))}}else if(Pf&&Wb.mode&1){var bg=Yf(Ta);if(null!==bg){0===(bg.flags&65536)&&(bg.flags|=256);Nf(bg,Ta,Wb,da,d);Ae(he(lc,Wb));break a}}da=lc=he(lc,Wb);
4!==If&&(If=2);null===wh?wh=[da]:wh.push(da);da=Ta;do{switch(da.tag){case 3:da.flags|=65536;d&=-d;da.lanes|=d;var Ic=hf(da,lc,d);Td(da,Ic);break a;case 1:Wb=lc;var uc=da.type,Qc=da.stateNode;if(0===(da.flags&128)&&("function"===typeof uc.getDerivedStateFromError||null!==Qc&&"function"===typeof Qc.componentDidCatch&&(null===si||!si.has(Qc)))){da.flags|=65536;d&=-d;da.lanes|=d;var Gd=Ve(da,Wb,d);Td(da,Gd);break a}}da=da.return}while(null!==da)}$g(k)}catch(be){d=be;sg===k&&null!==k&&(sg=k.return);continue}break}while(1)}
function se(){var c=uk.current;uk.current=Qj;return null===c?Qj:c}function Le(){if(0===If||3===If||2===If)If=4;null===ng||0===(nf&268435455)&&0===(jf&268435455)||hc(ng,Pg)}function rf(c,d){var k=cf;cf|=2;var v=se();if(ng!==c||Pg!==d)xi=null,Fd(c,d);do try{for(;null!==sg;)df(sg);break}catch(R){ie(c,R)}while(1);Mj=qi=Hi=null;cf=k;uk.current=v;if(null!==sg)throw Error(u(261));ng=null;Pg=0;return If}function df(c){var d=bl(c.alternate,c,th);c.memoizedProps=c.pendingProps;null===d?$g(c):sg=d;al.current=
null}function $g(c){var d=c;do{var k=d.alternate;c=d.return;if(0===(d.flags&32768)){if(k=cj(k,d,th),null!==k){sg=k;return}}else{k=fi(k,d);if(null!==k){k.flags&=32767;sg=k;return}if(null!==c)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{If=6;sg=null;return}}d=d.sibling;if(null!==d){sg=d;return}sg=d=c}while(null!==d);0===If&&(If=5)}function qe(c,d,k){var v=sf,R=Kh.transition;try{Kh.transition=null,sf=1,Qe(c,d,k,v)}finally{Kh.transition=R,sf=v}return null}function Qe(c,d,k,v){do nh();while(null!==
yi);if(0!==(cf&6))throw Error(u(327));k=c.finishedWork;var R=c.finishedLanes;if(null===k)return null;c.finishedWork=null;c.finishedLanes=0;if(k===c.current)throw Error(u(177));c.callbackNode=null;c.callbackPriority=0;var da=k.lanes|k.childLanes;Rb(c,da);c===ng&&(sg=ng=null,Pg=0);0===(k.subtreeFlags&2064)&&0===(k.flags&2064)||Sj||(Sj=!0,qf(Ui,function(){nh();return null}));da=0!==(k.flags&15990);if(0!==(k.subtreeFlags&15990)||da){da=Kh.transition;Kh.transition=null;var Ta=sf;sf=1;var Wb=cf;cf|=4;al.current=
null;Aj(c,k);Jh(k,c);nc(Yk);bk=!!Xk;Yk=Xk=null;c.current=k;C(k,c,R);cm();cf=Wb;sf=Ta;Kh.transition=da}else c.current=k;Sj&&(Sj=!1,yi=c,dj=R);da=c.pendingLanes;0===da&&(si=null);Ya(k.stateNode,v);I(c,fg());if(null!==d)for(v=c.onRecoverableError,k=0;k<d.length;k++)R=d[k],v(R.value,{componentStack:R.stack,digest:R.digest});if(pk)throw pk=!1,c=qk,qk=null,c;0!==(dj&1)&&0!==c.tag&&nh();da=c.pendingLanes;0!==(da&1)?c===tk?wi++:(wi=0,tk=c):wi=0;id();return null}function nh(){if(null!==yi){var c=dd(dj),d=
Kh.transition,k=sf;try{Kh.transition=null;sf=16>c?16:c;if(null===yi)var v=!1;else{c=yi;yi=null;dj=0;if(0!==(cf&6))throw Error(u(331));var R=cf;cf|=4;for(ae=c.current;null!==ae;){var da=ae,Ta=da.child;if(0!==(ae.flags&16)){var Wb=da.deletions;if(null!==Wb){for(var lc=0;lc<Wb.length;lc++){var Uc=Wb[lc];for(ae=Uc;null!==ae;){var ud=ae;switch(ud.tag){case 0:case 11:case 15:eh(8,ud,da)}var yd=ud.child;if(null!==yd)yd.return=ud,ae=yd;else for(;null!==ae;){ud=ae;var td=ud.sibling,Sd=ud.return;Te(ud);if(ud===
Uc){ae=null;break}if(null!==td){td.return=Sd;ae=td;break}ae=Sd}}}var de=da.alternate;if(null!==de){var ke=de.child;if(null!==ke){de.child=null;do{var bg=ke.sibling;ke.sibling=null;ke=bg}while(null!==ke)}}ae=da}}if(0!==(da.subtreeFlags&2064)&&null!==Ta)Ta.return=da,ae=Ta;else a:for(;null!==ae;){da=ae;if(0!==(da.flags&2048))switch(da.tag){case 0:case 11:case 15:eh(9,da,da.return)}var Ic=da.sibling;if(null!==Ic){Ic.return=da.return;ae=Ic;break a}ae=da.return}}var uc=c.current;for(ae=uc;null!==ae;){Ta=
ae;var Qc=Ta.child;if(0!==(Ta.subtreeFlags&2064)&&null!==Qc)Qc.return=Ta,ae=Qc;else a:for(Ta=uc;null!==ae;){Wb=ae;if(0!==(Wb.flags&2048))try{switch(Wb.tag){case 0:case 11:case 15:lh(9,Wb)}}catch(be){wf(Wb,Wb.return,be)}if(Wb===Ta){ae=null;break a}var Gd=Wb.sibling;if(null!==Gd){Gd.return=Wb.return;ae=Gd;break a}ae=Wb.return}}cf=R;id();if(Yh&&"function"===typeof Yh.onPostCommitFiberRoot)try{Yh.onPostCommitFiberRoot(Ij,c)}catch(be){}v=!0}return v}finally{sf=k,Kh.transition=d}}return!1}function ph(c,
d,k){d=he(k,d);d=hf(c,d,1);c=Rc(c,d,1);d=Ab();null!==c&&(Nb(c,1,d),I(c,d))}function wf(c,d,k){if(3===c.tag)ph(c,c,k);else for(;null!==d;){if(3===d.tag){ph(d,c,k);break}else if(1===d.tag){var v=d.stateNode;if("function"===typeof d.type.getDerivedStateFromError||"function"===typeof v.componentDidCatch&&(null===si||!si.has(v))){c=he(k,c);c=Ve(d,c,1);d=Rc(d,c,1);c=Ab();null!==d&&(Nb(d,1,c),I(d,c));break}}d=d.return}}function zf(c,d,k){var v=c.pingCache;null!==v&&v.delete(d);d=Ab();c.pingedLanes|=c.suspendedLanes&
k;ng===c&&(Pg&k)===k&&(4===If||3===If&&(Pg&130023424)===Pg&&500>fg()-Uh?Fd(c,0):Qg|=k);I(c,d)}function yg(c,d){0===d&&(0===(c.mode&1)?d=1:(d=Tj,Tj<<=1,0===(Tj&130023424)&&(Tj=4194304)));var k=Ab();c=wc(c,d);null!==c&&(Nb(c,d,k),I(c,k))}function kh(c){var d=c.memoizedState,k=0;null!==d&&(k=d.retryLane);yg(c,k)}function Df(c,d){var k=0;switch(c.tag){case 13:var v=c.stateNode,R=c.memoizedState;null!==R&&(k=R.retryLane);break;case 19:v=c.stateNode;break;default:throw Error(u(314));}null!==v&&v.delete(d);
yg(c,k)}function qf(c,d){return Tf(c,d)}function Jg(c,d,k,v){this.tag=c;this.key=k;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=d;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=v;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function hg(c,d,k,v){return new Jg(c,d,k,v)}function Eh(c){c=c.prototype;return!(!c||!c.isReactComponent)}
function gi(c){if("function"===typeof c)return Eh(c)?1:0;if(void 0!==c&&null!==c){c=c.$$typeof;if(c===Va)return 11;if(c===Lb)return 14}return 2}function cg(c,d){var k=c.alternate;null===k?(k=hg(c.tag,d,c.key,c.mode),k.elementType=c.elementType,k.type=c.type,k.stateNode=c.stateNode,k.alternate=c,c.alternate=k):(k.pendingProps=d,k.type=c.type,k.flags=0,k.subtreeFlags=0,k.deletions=null);k.flags=c.flags&14680064;k.childLanes=c.childLanes;k.lanes=c.lanes;k.child=c.child;k.memoizedProps=c.memoizedProps;
k.memoizedState=c.memoizedState;k.updateQueue=c.updateQueue;d=c.dependencies;k.dependencies=null===d?null:{lanes:d.lanes,firstContext:d.firstContext};k.sibling=c.sibling;k.index=c.index;k.ref=c.ref;return k}function Af(c,d,k,v,R,da){var Ta=2;v=c;if("function"===typeof c)Eh(c)&&(Ta=1);else if("string"===typeof c)Ta=5;else a:switch(c){case ii:return Cg(k.children,R,da,d);case n:Ta=8;R|=8;break;case H:return c=hg(12,k,d,R|2),c.elementType=H,c.lanes=da,c;case db:return c=hg(13,k,d,R),c.elementType=db,
c.lanes=da,c;case rb:return c=hg(19,k,d,R),c.elementType=rb,c.lanes=da,c;case bd:return Ki(k,R,da,d);default:if("object"===typeof c&&null!==c)switch(c.$$typeof){case M:Ta=10;break a;case ka:Ta=9;break a;case Va:Ta=11;break a;case Lb:Ta=14;break a;case tc:Ta=16;v=null;break a}throw Error(u(130,null==c?c:typeof c,""));}d=hg(Ta,k,d,R);d.elementType=c;d.type=v;d.lanes=da;return d}function Cg(c,d,k,v){c=hg(7,c,v,d);c.lanes=k;return c}function Ki(c,d,k,v){c=hg(22,c,v,d);c.elementType=bd;c.lanes=k;c.stateNode=
{isHidden:!1};return c}function rj(c,d,k){c=hg(6,c,null,d);c.lanes=k;return c}function sj(c,d,k){d=hg(4,null!==c.children?c.children:[],c.key,d);d.lanes=k;d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation};return d}function vk(c,d,k,v,R){this.tag=d;this.containerInfo=c;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=0;this.eventTimes=
$b(0);this.expirationTimes=$b(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=$b(0);this.identifierPrefix=v;this.onRecoverableError=R;this.mutableSourceEagerHydrationData=null}function ej(c,d,k,v,R,da,Ta,Wb,lc){c=new vk(c,d,k,Wb,lc);1===d?(d=1,!0===da&&(d|=8)):d=0;da=hg(3,null,null,d);c.current=da;da.stateNode=c;da.memoizedState={element:v,isDehydrated:k,cache:null,transitions:null,pendingSuspenseBoundaries:null};
vc(da);return c}function Zf(c,d,k){var v=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ji,key:null==v?null:""+v,children:c,containerInfo:d,implementation:k}}function wk(c){if(!c)return gg;c=c._reactInternals;a:{if(sa(c)!==c||1!==c.tag)throw Error(u(170));var d=c;do{switch(d.tag){case 3:d=d.stateNode.context;break a;case 1:if(Oa(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break a}}d=d.return}while(null!==d);throw Error(u(171));}if(1===c.tag){var k=
c.type;if(Oa(k))return rc(c,k,d)}return d}function Cj(c,d,k,v,R,da,Ta,Wb,lc){c=ej(k,v,!0,c,R,da,Ta,Wb,lc);c.context=wk(null);k=c.current;v=Ab();R=dc(k);da=yc(v,R);da.callback=void 0!==d&&null!==d?d:null;Rc(k,da,R);c.current.lanes=R;Nb(c,R,v);I(c,v);return c}function fh(c,d,k,v){var R=d.current,da=Ab(),Ta=dc(R);k=wk(k);null===d.context?d.context=k:d.pendingContext=k;d=yc(da,Ta);d.payload={element:c};v=void 0===v?null:v;null!==v&&(d.callback=v);c=Rc(R,d,Ta);null!==c&&(r(c,R,Ta,da),ed(c,R,Ta));return Ta}
function Oi(c){c=c.current;if(!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function Uj(c,d){c=c.memoizedState;if(null!==c&&null!==c.dehydrated){var k=c.retryLane;c.retryLane=0!==k&&k<d?k:d}}function Dj(c,d){Uj(c,d);(c=c.alternate)&&Uj(c,d)}function cl(){return null}function Pi(c){this._internalRoot=c}function zi(c){this._internalRoot=c}function Vj(c){return!(!c||1!==c.nodeType&&9!==c.nodeType&&11!==c.nodeType)}function Qi(c){return!(!c||
1!==c.nodeType&&9!==c.nodeType&&11!==c.nodeType&&(8!==c.nodeType||" react-mount-point-unstable "!==c.nodeValue))}function Wj(){}function xk(c,d,k,v,R){if(R){if("function"===typeof v){var da=v;v=function(){var Uc=Oi(Ta);da.call(Uc)}}var Ta=Cj(d,v,c,0,null,!1,!1,"",Wj);c._reactRootContainer=Ta;c[$h]=Ta.current;me(8===c.nodeType?c.parentNode:c);ad();return Ta}for(;R=c.lastChild;)c.removeChild(R);if("function"===typeof v){var Wb=v;v=function(){var Uc=Oi(lc);Wb.call(Uc)}}var lc=ej(c,0,!1,null,null,!1,
!1,"",Wj);c._reactRootContainer=lc;c[$h]=lc.current;me(8===c.nodeType?c.parentNode:c);ad(function(){fh(d,lc,k,v)});return lc}function fj(c,d,k,v,R){var da=k._reactRootContainer;if(da){var Ta=da;if("function"===typeof R){var Wb=R;R=function(){var lc=Oi(Ta);Wb.call(lc)}}fh(d,Ta,c,R)}else Ta=xk(k,d,c,R,v);return Oi(Ta)}var Ri=ob(2),Ag=ob(5),hi=new Set,Wh={},Lh=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),hj=Object.prototype.hasOwnProperty,
jj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hj={},ij={},ag={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){ag[c]=
new ac(c,0,!1,c,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var d=c[0];ag[d]=new ac(d,1,!1,c[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(c){ag[c]=new ac(c,2,!1,c.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){ag[c]=new ac(c,2,!1,c,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){ag[c]=
new ac(c,3,!1,c.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(c){ag[c]=new ac(c,3,!0,c,null,!1,!1)});["capture","download"].forEach(function(c){ag[c]=new ac(c,4,!1,c,null,!1,!1)});["cols","rows","size","span"].forEach(function(c){ag[c]=new ac(c,6,!1,c,null,!1,!1)});["rowSpan","start"].forEach(function(c){ag[c]=new ac(c,5,!1,c.toLowerCase(),null,!1,!1)});var Si=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var d=
c.replace(Si,Xb);ag[d]=new ac(d,1,!1,c,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var d=c.replace(Si,Xb);ag[d]=new ac(d,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(c){var d=c.replace(Si,Xb);ag[d]=new ac(d,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(c){ag[c]=new ac(c,1,!1,c.toLowerCase(),null,!1,!1)});ag.xlinkHref=
new ac("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(c){ag[c]=new ac(c,1,!1,c.toLowerCase(),null,!0,!0)});var xh=Ri.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xi=Symbol.for("react.element"),ji=Symbol.for("react.portal"),ii=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),ka=Symbol.for("react.context"),Va=Symbol.for("react.forward_ref"),db=
Symbol.for("react.suspense"),rb=Symbol.for("react.suspense_list"),Lb=Symbol.for("react.memo"),tc=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var bd=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var md=Symbol.iterator,sc=Object.assign,zd,Xd=!1,xe=Array.isArray,Rd,Ue=function(c){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(d,k,v,R){MSApp.execUnsafeLocalFunction(function(){return c(d,
k,v,R)})}:c}(function(c,d){if("http://www.w3.org/2000/svg"!==c.namespaceURI||"innerHTML"in c)c.innerHTML=d;else{Rd=Rd||document.createElement("div");Rd.innerHTML="\x3csvg\x3e"+d.valueOf().toString()+"\x3c/svg\x3e";for(d=Rd.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;d.firstChild;)c.appendChild(d.firstChild)}}),Ef={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,
flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tg=["Webkit","ms","Moz","O"];Object.keys(Ef).forEach(function(c){tg.forEach(function(d){d=
d+c.charAt(0).toUpperCase()+c.substring(1);Ef[d]=Ef[c]})});var ug=sc({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),zg=null,Kf=null,ye=null,yf=null,Xh=!1,Wd=!1;if(Lh)try{var wd={};Object.defineProperty(wd,"passive",{get:function(){Wd=!0}});window.addEventListener("test",wd,wd);window.removeEventListener("test",wd,wd)}catch(c){Wd=!1}var Od=!1,Ed=null,af=!1,Sf=null,Ff={onError:function(c){Od=!0;Ed=c}},Tf=Ag.unstable_scheduleCallback,
rg=Ag.unstable_cancelCallback,Vh=Ag.unstable_shouldYield,cm=Ag.unstable_requestPaint,fg=Ag.unstable_now,Gk=Ag.unstable_getCurrentPriorityLevel,Hk=Ag.unstable_ImmediatePriority,dk=Ag.unstable_UserBlockingPriority,Ui=Ag.unstable_NormalPriority,nl=Ag.unstable_LowPriority,Ik=Ag.unstable_IdlePriority,Ij=null,Yh=null,Nh=Math.clz32?Math.clz32:vb,kl=Math.log,Ll=Math.LN2,Jj=64,Tj=4194304,sf=0,Zj=!1,ak=[],Ci=null,ki=null,Di=null,kj=new Map,lj=new Map,li=[],ml="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),
mj=xh.ReactCurrentBatchConfig,bk=!0,ck=null,Ei=null,Jk=null,ek=null,gj={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lf=Da(gj),gh=sc({},gj,{view:0,detail:0}),Tk=Da(gh),Ti,yk,Xj,zk=sc({},gh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kb,button:0,buttons:0,relatedTarget:function(c){return void 0===c.relatedTarget?c.fromElement===c.srcElement?c.toElement:
c.fromElement:c.relatedTarget},movementX:function(c){if("movementX"in c)return c.movementX;c!==Xj&&(Xj&&"mousemove"===c.type?(Ti=c.screenX-Xj.screenX,yk=c.screenY-Xj.screenY):yk=Ti=0,Xj=c);return Ti},movementY:function(c){return"movementY"in c?c.movementY:yk}}),Qk=Da(zk),Bl=sc({},zk,{dataTransfer:0}),Rk=Da(Bl),Ak=sc({},gh,{relatedTarget:0}),Pk=Da(Ak),dl=sc({},gj,{animationName:0,elapsedTime:0,pseudoElement:0}),pl=Da(dl),dm=sc({},gj,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:
window.clipboardData}}),jk=Da(dm),em=sc({},gj,{data:0}),rl=Da(em),fm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",
45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ol={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},hm=sc({},gh,{key:function(c){if(c.key){var d=fm[c.key]||c.key;if("Unidentified"!==d)return d}return"keypress"===c.type?(c=t(c),13===c?"Enter":String.fromCharCode(c)):"keydown"===c.type||"keyup"===c.type?gm[c.keyCode]||"Unidentified":""},code:0,location:0,
ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kb,charCode:function(c){return"keypress"===c.type?t(c):0},keyCode:function(c){return"keydown"===c.type||"keyup"===c.type?c.keyCode:0},which:function(c){return"keypress"===c.type?t(c):"keydown"===c.type||"keyup"===c.type?c.keyCode:0}}),Rl=Da(hm),el=sc({},zk,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ql=Da(el),im=sc({},gh,{touches:0,targetTouches:0,changedTouches:0,
altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kb}),Sl=Da(im),jm=sc({},gj,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sk=Da(jm),fl=sc({},zk,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Tl=Da(fl),De=[9,13,27,32],sd=Lh&&"CompositionEvent"in window,kg=null;Lh&&"documentMode"in document&&(kg=document.documentMode);
var Gi=Lh&&"TextEvent"in window&&!kg,Lk=Lh&&(!sd||kg&&8<kg&&11>=kg),Kk=String.fromCharCode(32),fk=!1,mi=!1,Pl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Vi=null,nj=null,qh=!1;if(Lh){if(Lh){var Ej="oninput"in document;if(!Ej){var Cl=document.createElement("div");Cl.setAttribute("oninput","return;");Ej="function"===typeof Cl.oninput}var Yj=Ej}else Yj=!1;qh=Yj&&(!document.documentMode||9<document.documentMode)}var Oh=
"function"===typeof Object.is?Object.is:J,kk=Lh&&"documentMode"in document&&11>=document.documentMode,oj=null,Mk=null,Kj=null,Lg=!1,Fi={animationend:Ac("Animation","AnimationEnd"),animationiteration:Ac("Animation","AnimationIteration"),animationstart:Ac("Animation","AnimationStart"),transitionend:Ac("Transition","TransitionEnd")},Nk={},gk={};Lh&&(gk=document.createElement("div").style,"AnimationEvent"in window||(delete Fi.animationend.animation,delete Fi.animationiteration.animation,delete Fi.animationstart.animation),
"TransitionEvent"in window||delete Fi.transitionend.transition);for(var Ph=Xc("animationend"),ik=Xc("animationiteration"),ol=Xc("animationstart"),Wi=Xc("transitionend"),Zh=new Map,gl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" "),
hl=0;hl<gl.length;hl++){var Mh=gl[hl],Bk=Mh.toLowerCase(),Dl=Mh[0].toUpperCase()+Mh.slice(1);kd(Bk,"on"+Dl)}kd(Ph,"onAnimationEnd");kd(ik,"onAnimationIteration");kd(ol,"onAnimationStart");kd("dblclick","onDoubleClick");kd("focusin","onFocus");kd("focusout","onBlur");kd(Wi,"onTransitionEnd");ia("onMouseEnter",["mouseout","mouseover"]);ia("onMouseLeave",["mouseout","mouseover"]);ia("onPointerEnter",["pointerout","pointerover"]);ia("onPointerLeave",["pointerout","pointerover"]);h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));
h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));h("onBeforeInput",["compositionend","keypress","textInput","paste"]);h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yj="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),
Ql=new Set("cancel close invalid load scroll toggle".split(" ").concat(yj)),hk="_reactListening"+Math.random().toString(36).slice(2),Ul=/\r\n?/g,Vl=/\u0000|\uFFFD/g,Xk=null,Yk=null,$k="function"===typeof setTimeout?setTimeout:void 0,bm="function"===typeof clearTimeout?clearTimeout:void 0,Ck="function"===typeof Promise?Promise:void 0,Al="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Ck?function(c){return Ck.resolve(null).then(c).catch(qc)}:$k,Ai=Math.random().toString(36).slice(2),
Qh="__reactFiber$"+Ai,Lj="__reactProps$"+Ai,$h="__reactContainer$"+Ai,Ok="__reactEvents$"+Ai,yl="__reactListeners$"+Ai,Zk="__reactHandles$"+Ai,Uk=[],pj=-1,gg={},Bg=Kd(gg),ah=Kd(!1),ni=gg,lg=null,ai=!1,Vk=!1,qj=[],Ah=0,mk=null,lk=0,Gf=[],rh=0,bi=null,Bh=1,oi="",Rg=null,Sg=null,Pf=!1,hh=null,zl=xh.ReactCurrentBatchConfig,Ji=K(!0),ul=K(!1),tj=Kd(null),Hi=null,qi=null,Mj=null,Yi=null,ri=!1,uj={},ci=Kd(uj),wj=Kd(uj),vj=Kd(uj),Cf=Kd(0),Ii=[],Nj=xh.ReactCurrentDispatcher,nk=xh.ReactCurrentBatchConfig,Zi=
0,uf=null,mg=null,wg=null,$i=!1,Oj=!1,Pj=0,km=0,Qj={readContext:Ga,useCallback:Qd,useContext:Qd,useEffect:Qd,useImperativeHandle:Qd,useInsertionEffect:Qd,useLayoutEffect:Qd,useMemo:Qd,useReducer:Qd,useRef:Qd,useState:Qd,useDebugValue:Qd,useDeferredValue:Qd,useTransition:Qd,useMutableSource:Qd,useSyncExternalStore:Qd,useId:Qd,unstable_isNewReconciler:!1},Xl={readContext:Ga,useCallback:function(c,d){Me().memoizedState=[c,void 0===d?null:d];return c},useContext:Ga,useEffect:Eg,useImperativeHandle:function(c,
d,k){k=null!==k&&void 0!==k?k.concat([c]):null;return Bf(4194308,4,ch.bind(null,d,c),k)},useLayoutEffect:function(c,d){return Bf(4194308,4,c,d)},useInsertionEffect:function(c,d){return Bf(4,2,c,d)},useMemo:function(c,d){var k=Me();d=void 0===d?null:d;c=c();k.memoizedState=[c,d];return c},useReducer:function(c,d,k){var v=Me();d=void 0!==k?k(d):d;v.memoizedState=v.baseState=d;c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:d};v.queue=c;c=c.dispatch=Ge.bind(null,
uf,c);return[v.memoizedState,c]},useRef:function(c){var d=Me();c={current:c};return d.memoizedState=c},useState:og,useDebugValue:Ja,useDeferredValue:function(c){return Me().memoizedState=c},useTransition:function(){var c=og(!1),d=c[0];c=Ld.bind(null,c[1]);Me().memoizedState=c;return[d,c]},useMutableSource:function(){},useSyncExternalStore:function(c,d,k){var v=uf,R=Me();if(Pf){if(void 0===k)throw Error(u(407));k=k()}else{k=d();if(null===ng)throw Error(u(349));0!==(Zi&30)||Mf(v,d,k)}R.memoizedState=
k;var da={value:k,getSnapshot:d};R.queue=da;Eg(mf.bind(null,v,da,c),[c]);v.flags|=2048;Uf(9,Vf.bind(null,v,da,k,d),void 0,null);return k},useId:function(){var c=Me(),d=ng.identifierPrefix;if(Pf){var k=oi,v=Bh;k=(v&~(1<<32-Nh(v)-1)).toString(32)+k;d=":"+d+"R"+k;k=Pj++;0<k&&(d+="H"+k.toString(32));d+=":"}else k=km++,d=":"+d+"r"+k.toString(32)+":";return c.memoizedState=d},unstable_isNewReconciler:!1},sl={readContext:Ga,useCallback:mb,useContext:Ga,useEffect:Ch,useImperativeHandle:S,useInsertionEffect:Fg,
useLayoutEffect:Ug,useMemo:Fc,useReducer:gf,useRef:ig,useState:function(){return gf(ve)},useDebugValue:Ja,useDeferredValue:function(c){var d=hd();return Gc(d,mg.memoizedState,c)},useTransition:function(){var c=gf(ve)[0],d=hd().memoizedState;return[c,d]},useMutableSource:Dg,useSyncExternalStore:vf,useId:ge,unstable_isNewReconciler:!1},tl={readContext:Ga,useCallback:mb,useContext:Ga,useEffect:Ch,useImperativeHandle:S,useInsertionEffect:Fg,useLayoutEffect:Ug,useMemo:Fc,useReducer:lf,useRef:ig,useState:function(){return lf(ve)},
useDebugValue:Ja,useDeferredValue:function(c){var d=hd();return null===mg?d.memoizedState=c:Gc(d,mg.memoizedState,c)},useTransition:function(){var c=lf(ve)[0],d=hd().memoizedState;return[c,d]},useMutableSource:Dg,useSyncExternalStore:vf,useId:ge,unstable_isNewReconciler:!1},ok={isMounted:function(c){return(c=c._reactInternals)?sa(c)===c:!1},enqueueSetState:function(c,d,k){c=c._reactInternals;var v=Ab(),R=dc(c),da=yc(v,R);da.payload=d;void 0!==k&&null!==k&&(da.callback=k);d=Rc(c,da,R);null!==d&&(r(d,
c,R,v),ed(d,c,R))},enqueueReplaceState:function(c,d,k){c=c._reactInternals;var v=Ab(),R=dc(c),da=yc(v,R);da.tag=1;da.payload=d;void 0!==k&&null!==k&&(da.callback=k);d=Rc(c,da,R);null!==d&&(r(d,c,R,v),ed(d,c,R))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var k=Ab(),v=dc(c),R=yc(k,v);R.tag=2;void 0!==d&&null!==d&&(R.callback=d);d=Rc(c,R,v);null!==d&&(r(d,c,v,k),ed(d,c,v))}},Yl="function"===typeof WeakMap?WeakMap:Map,vl=xh.ReactCurrentOwner,bh=!1,Wk={dehydrated:null,treeContext:null,retryLane:0};
var Zl=function(c,d){for(var k=d.child;null!==k;){if(5===k.tag||6===k.tag)c.appendChild(k.stateNode);else if(4!==k.tag&&null!==k.child){k.child.return=k;k=k.child;continue}if(k===d)break;for(;null===k.sibling;){if(null===k.return||k.return===d)return;k=k.return}k.sibling.return=k.return;k=k.sibling}};var ei=function(){};var wl=function(c,d,k,v){var R=c.memoizedProps;if(R!==v){c=d.stateNode;Ud(ci.current);var da=null;switch(k){case "input":R=fa(c,R);v=fa(c,v);da=[];break;case "select":R=sc({},R,{value:void 0});
v=sc({},v,{value:void 0});da=[];break;case "textarea":R=tb(c,R);v=tb(c,v);da=[];break;default:"function"!==typeof R.onClick&&"function"===typeof v.onClick&&(c.onclick=fb)}pa(k,v);var Ta;k=null;for(Uc in R)if(!v.hasOwnProperty(Uc)&&R.hasOwnProperty(Uc)&&null!=R[Uc])if("style"===Uc){var Wb=R[Uc];for(Ta in Wb)Wb.hasOwnProperty(Ta)&&(k||(k={}),k[Ta]="")}else"dangerouslySetInnerHTML"!==Uc&&"children"!==Uc&&"suppressContentEditableWarning"!==Uc&&"suppressHydrationWarning"!==Uc&&"autoFocus"!==Uc&&(Wh.hasOwnProperty(Uc)?
da||(da=[]):(da=da||[]).push(Uc,null));for(Uc in v){var lc=v[Uc];Wb=null!=R?R[Uc]:void 0;if(v.hasOwnProperty(Uc)&&lc!==Wb&&(null!=lc||null!=Wb))if("style"===Uc)if(Wb){for(Ta in Wb)!Wb.hasOwnProperty(Ta)||lc&&lc.hasOwnProperty(Ta)||(k||(k={}),k[Ta]="");for(Ta in lc)lc.hasOwnProperty(Ta)&&Wb[Ta]!==lc[Ta]&&(k||(k={}),k[Ta]=lc[Ta])}else k||(da||(da=[]),da.push(Uc,k)),k=lc;else"dangerouslySetInnerHTML"===Uc?(lc=lc?lc.__html:void 0,Wb=Wb?Wb.__html:void 0,null!=lc&&Wb!==lc&&(da=da||[]).push(Uc,lc)):"children"===
Uc?"string"!==typeof lc&&"number"!==typeof lc||(da=da||[]).push(Uc,""+lc):"suppressContentEditableWarning"!==Uc&&"suppressHydrationWarning"!==Uc&&(Wh.hasOwnProperty(Uc)?(null!=lc&&"onScroll"===Uc&&nd("scroll",c),da||Wb===lc||(da=[])):(da=da||[]).push(Uc,lc))}k&&(da=da||[]).push("style",k);var Uc;if(d.updateQueue=da)d.flags|=4}};var xl=function(c,d,k,v){k!==v&&(d.flags|=4)};var sk=!1,Xg=!1,$l="function"===typeof WeakSet?WeakSet:Set,ae=null,rk=!1,Og=null,Th=!1,am=Math.ceil,uk=xh.ReactCurrentDispatcher,
al=xh.ReactCurrentOwner,Kh=xh.ReactCurrentBatchConfig,cf=0,ng=null,sg=null,Pg=0,th=0,xj=Kd(0),If=0,Rj=null,nf=0,jf=0,Qg=0,wh=null,oh=null,Uh=0,zj=Infinity,xi=null,pk=!1,qk=null,si=null,Sj=!1,yi=null,dj=0,wi=0,tk=null,Ni=-1,Bj=0;var bl=function(c,d,k){if(null!==c)if(c.memoizedProps!==d.pendingProps||ah.current)bh=!0;else{if(0===(c.lanes&k)&&0===(d.flags&128))return bh=!1,Gh(c,d,k);bh=0!==(c.flags&131072)?!0:!1}else bh=!1,Pf&&0!==(d.flags&1048576)&&fe(d,lk,d.index);d.lanes=0;switch(d.tag){case 2:var v=
d.type;Fh(c,d);c=d.pendingProps;var R=Aa(d,Bg.current);Qa(d,k);R=Fe(null,d,v,c,R,k);var da=re();d.flags|=1;"object"===typeof R&&null!==R&&"function"===typeof R.render&&void 0===R.$$typeof?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Oa(v)?(da=!0,Pc(d)):da=!1,d.memoizedState=null!==R.state&&void 0!==R.state?R.state:null,vc(d),R.updater=ok,d.stateNode=R,R._reactInternals=d,Yd(d,v,c,k),d=jg(null,d,v,!0,da,k)):(d.tag=0,Pf&&da&&Re(d),$e(null,d,R,k),d=d.child);return d;case 16:v=d.elementType;a:{Fh(c,
d);c=d.pendingProps;R=v._init;v=R(v._payload);d.type=v;R=d.tag=gi(v);c=Qf(v,c);switch(R){case 0:d=pg(null,d,v,c,k);break a;case 1:d=uh(null,d,v,c,k);break a;case 11:d=Wg(null,d,v,c,k);break a;case 14:d=xg(null,d,v,Qf(v.type,c),k);break a}throw Error(u(306,v,""));}return d;case 0:return v=d.type,R=d.pendingProps,R=d.elementType===v?R:Qf(v,R),pg(c,d,v,R,k);case 1:return v=d.type,R=d.pendingProps,R=d.elementType===v?R:Qf(v,R),uh(c,d,v,R,k);case 3:a:{Sh(d);if(null===c)throw Error(u(387));v=d.pendingProps;
da=d.memoizedState;R=da.element;zc(c,d);Ad(d,v,null,k);var Ta=d.memoizedState;v=Ta.element;if(da.isDehydrated)if(da={element:v,isDehydrated:!1,cache:Ta.cache,pendingSuspenseBoundaries:Ta.pendingSuspenseBoundaries,transitions:Ta.transitions},d.updateQueue.baseState=da,d.memoizedState=da,d.flags&256){R=he(Error(u(423)),d);oe();Ae(R);d.flags|=256;$e(c,d,v,k);d=d.child;break a}else if(v!==R){R=he(Error(u(424)),d);oe();Ae(R);d.flags|=256;$e(c,d,v,k);d=d.child;break a}else for(Sg=Oc(d.stateNode.containerInfo.firstChild),
Rg=d,Pf=!0,hh=null,k=ul(d,null,v,k),d.child=k;k;)k.flags=k.flags&-3|4096,k=k.sibling;else{oe();if(v===R){d=Gg(c,d,k);break a}$e(c,d,v,k)}d=d.child}return d;case 5:return Be(d),null===c&&Ke(d),v=d.type,R=d.pendingProps,da=null!==c?c.memoizedProps:null,Ta=R.children,Gb(v,R)?Ta=null:null!==da&&Gb(v,da)&&(d.flags|=32),Rh(c,d),$e(c,d,Ta,k),d.child;case 6:return null===c&&Ke(d),null;case 13:return Hg(c,d,k);case 4:return pc(d,d.stateNode.containerInfo),v=d.pendingProps,null===c?d.child=Ji(d,null,v,k):$e(c,
d,v,k),d.child;case 11:return v=d.type,R=d.pendingProps,R=d.elementType===v?R:Qf(v,R),Wg(c,d,v,R,k);case 7:return $e(c,d,d.pendingProps,k),d.child;case 8:return $e(c,d,d.pendingProps.children,k),d.child;case 12:return $e(c,d,d.pendingProps.children,k),d.child;case 10:a:{v=d.type._context;R=d.pendingProps;da=d.memoizedProps;Ta=R.value;$d(tj,v._currentValue);v._currentValue=Ta;if(null!==da)if(Oh(da.value,Ta)){if(da.children===R.children&&!ah.current){d=Gg(c,d,k);break a}}else for(da=d.child,null!==
da&&(da.return=d);null!==da;){var Wb=da.dependencies;if(null!==Wb){Ta=da.child;for(var lc=Wb.firstContext;null!==lc;){if(lc.context===v){if(1===da.tag){lc=yc(-1,k&-k);lc.tag=2;var Uc=da.updateQueue;if(null!==Uc){Uc=Uc.shared;var ud=Uc.pending;null===ud?lc.next=lc:(lc.next=ud.next,ud.next=lc);Uc.pending=lc}}da.lanes|=k;lc=da.alternate;null!==lc&&(lc.lanes|=k);Ca(da.return,k,d);Wb.lanes|=k;break}lc=lc.next}}else if(10===da.tag)Ta=da.type===d.type?null:da.child;else if(18===da.tag){Ta=da.return;if(null===
Ta)throw Error(u(341));Ta.lanes|=k;Wb=Ta.alternate;null!==Wb&&(Wb.lanes|=k);Ca(Ta,k,d);Ta=da.sibling}else Ta=da.child;if(null!==Ta)Ta.return=da;else for(Ta=da;null!==Ta;){if(Ta===d){Ta=null;break}da=Ta.sibling;if(null!==da){da.return=Ta.return;Ta=da;break}Ta=Ta.return}da=Ta}$e(c,d,R.children,k);d=d.child}return d;case 9:return R=d.type,v=d.pendingProps.children,Qa(d,k),R=Ga(R),v=v(R),d.flags|=1,$e(c,d,v,k),d.child;case 14:return v=d.type,R=Qf(v,d.pendingProps),R=Qf(v.type,R),xg(c,d,v,R,k);case 15:return jh(c,
d,d.type,d.pendingProps,k);case 17:return v=d.type,R=d.pendingProps,R=d.elementType===v?R:Qf(v,R),Fh(c,d),d.tag=1,Oa(v)?(c=!0,Pc(d)):c=!1,Qa(d,k),sh(d,v,R),Yd(d,v,R,k),jg(null,d,v,!0,c,k);case 19:return Li(c,d,k);case 22:return Of(c,d,k)}throw Error(u(156,d.tag));};var El="function"===typeof reportError?reportError:function(c){console.error(c)};zi.prototype.render=Pi.prototype.render=function(c){var d=this._internalRoot;if(null===d)throw Error(u(409));fh(c,d,null,null)};zi.prototype.unmount=Pi.prototype.unmount=
function(){var c=this._internalRoot;if(null!==c){this._internalRoot=null;var d=c.containerInfo;ad(function(){fh(null,c,null,null)});d[$h]=null}};zi.prototype.unstable_scheduleHydration=function(c){if(c){var d=Fl();c={blockedOn:null,target:c,priority:d};for(var k=0;k<li.length&&0!==d&&d<li[k].priority;k++);li.splice(k,0,c);0===k&&yb(c)}};var Nl=function(c){switch(c.tag){case 3:var d=c.stateNode;if(d.current.memoizedState.isDehydrated){var k=jb(d.pendingLanes);0!==k&&(xc(d,k|1),I(d,fg()),0===(cf&6)&&
(zj=fg()+500,id()))}break;case 13:ad(function(){var v=wc(c,1);if(null!==v){var R=Ab();r(v,c,1,R)}}),Dj(c,1)}};var Fk=function(c){if(13===c.tag){var d=wc(c,134217728);if(null!==d){var k=Ab();r(d,c,134217728,k)}Dj(c,134217728)}};var Ml=function(c){if(13===c.tag){var d=dc(c),k=wc(c,d);if(null!==k){var v=Ab();r(k,c,d,v)}Dj(c,d)}};var Fl=function(){return sf};var ll=function(c,d){var k=sf;try{return sf=c,d()}finally{sf=k}};Kf=function(c,d,k){switch(d){case "input":Xa(c,k);d=k.name;if("radio"===k.type&&
null!=d){for(k=c;k.parentNode;)k=k.parentNode;k=k.querySelectorAll("input[name\x3d"+JSON.stringify(""+d)+'][type\x3d"radio"]');for(d=0;d<k.length;d++){var v=k[d];if(v!==c&&v.form===c.form){var R=ce(v);if(!R)throw Error(u(90));ec(v);Xa(v,R)}}}break;case "textarea":eb(c,k);break;case "select":d=k.value,null!=d&&bb(c,!!k.multiple,d,!1)}};A=fc;V=ad;var lm={usingClientEntryPoint:!1,Events:[Nc,Nd,ce,w,P,fc]},Fj={findFiberByHostInstance:$c,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bi=
{bundleType:Fj.bundleType,version:Fj.version,rendererPackageName:Fj.rendererPackageName,rendererConfig:Fj.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xh.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){c=Ma(c);return null===c?null:c.stateNode},findFiberByHostInstance:Fj.findFiberByHostInstance||
cl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yh.isDisabled&&yh.supportsFiber)try{Ij=yh.inject(Bi),Yh=yh}catch(c){}}Wa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lm;Wa.createPortal=function(c,d){var k=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Vj(d))throw Error(u(200));
return Zf(c,d,null,k)};Wa.createRoot=function(c,d){if(!Vj(c))throw Error(u(299));var k=!1,v="",R=El;null!==d&&void 0!==d&&(!0===d.unstable_strictMode&&(k=!0),void 0!==d.identifierPrefix&&(v=d.identifierPrefix),void 0!==d.onRecoverableError&&(R=d.onRecoverableError));d=ej(c,1,!1,null,null,k,!1,v,R);c[$h]=d.current;me(8===c.nodeType?c.parentNode:c);return new Pi(d)};Wa.findDOMNode=function(c){if(null==c)return null;if(1===c.nodeType)return c;var d=c._reactInternals;if(void 0===d){if("function"===typeof c.render)throw Error(u(188));
c=Object.keys(c).join(",");throw Error(u(268,c));}c=Ma(d);return c=null===c?null:c.stateNode};Wa.flushSync=function(c){return ad(c)};Wa.hydrate=function(c,d,k){if(!Qi(d))throw Error(u(200));return fj(null,c,d,!0,k)};Wa.hydrateRoot=function(c,d,k){if(!Vj(c))throw Error(u(405));var v=null!=k&&k.hydratedSources||null,R=!1,da="",Ta=El;null!==k&&void 0!==k&&(!0===k.unstable_strictMode&&(R=!0),void 0!==k.identifierPrefix&&(da=k.identifierPrefix),void 0!==k.onRecoverableError&&(Ta=k.onRecoverableError));
d=Cj(d,null,c,1,null!=k?k:null,R,!1,da,Ta);c[$h]=d.current;me(c);if(v)for(c=0;c<v.length;c++)k=v[c],R=k._getVersion,R=R(k._source),null==d.mutableSourceEagerHydrationData?d.mutableSourceEagerHydrationData=[k,R]:d.mutableSourceEagerHydrationData.push(k,R);return new zi(d)};Wa.render=function(c,d,k){if(!Qi(d))throw Error(u(200));return fj(null,c,d,!1,k)};Wa.unmountComponentAtNode=function(c){if(!Qi(c))throw Error(u(40));return c._reactRootContainer?(ad(function(){fj(null,null,c,!1,function(){c._reactRootContainer=
null;c[$h]=null})}),!0):!1};Wa.unstable_batchedUpdates=fc;Wa.unstable_renderSubtreeIntoContainer=function(c,d,k,v){if(!Qi(k))throw Error(u(200));if(null==c||void 0===c._reactInternals)throw Error(u(38));return fj(c,d,k,!1,v)};Wa.version="18.3.1-next-f1338f8080-20240426"};
shadow$provide[8]=function(Eb,ob,Dc,Wa){function u(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(h){console.error(h)}}u();Dc.exports=ob(6)};
shadow$provide[9]=function(Eb,ob,Dc,Wa){Eb=ob(8);Wa.createRoot=Eb.createRoot;Wa.hydrateRoot=Eb.hydrateRoot};
shadow$provide[14]=function(Eb,ob,Dc,Wa){Dc.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"};
shadow$provide[18]=function(Eb,ob,Dc,Wa){function u(){}function h(){}var ia=ob(14);h.resetWarningCache=u;Dc.exports=function(){function ab(ac,Xb,mc,Cb,Vb,jc){if(jc!==ia)throw ac=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"),ac.name="Invariant Violation",ac;}function zb(){return ab}ab.isRequired=ab;var Yb={array:ab,bigint:ab,bool:ab,func:ab,number:ab,object:ab,
string:ab,symbol:ab,any:ab,arrayOf:zb,element:ab,elementType:ab,instanceOf:zb,node:ab,objectOf:zb,oneOf:zb,oneOfType:zb,shape:zb,exact:zb,checkPropTypes:h,resetWarningCache:u};return Yb.PropTypes=Yb}};
shadow$provide[19]=function(Eb,ob,Dc,Wa){Dc.exports=ob(18)()};
shadow$provide[20]=function(Eb,ob,Dc,Wa){Wa.__esModule=!0;Wa.default=function(h,ia){void 0===h&&(h=u);void 0===ia&&(ia=u);const ab=Object.keys(h),zb=Object.keys(ia);return h===ia||ab.length===zb.length&&ab.every(Yb=>h[Yb]===ia[Yb])};const u={}};
shadow$provide[21]=function(Eb,ob,Dc,Wa){(function(u,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa):"function"===typeof define&&define.amd?define(["exports"],h):(u="undefined"!==typeof globalThis?globalThis:u||self,h(u.vega={}))})(this,function(u){function h(G,x,z){G.fields=x||[];G.fname=z;return G}function ia(G){return null==G?null:G.fields}function ab(G){return 1===G.length?Xa(G[0]):Ia(G)}function zb(G){throw Error(G);}function Yb(G){function x(){z.push(N+G.substring(la,wa));N="";la=wa+
1}const z=[],F=G.length;let U=null,sa=0,N="",la,wa,Ma;G+="";for(la=wa=0;wa<F;++wa)(Ma=G[wa],"\\"===Ma)?(N+=G.substring(la,wa++),la=wa):Ma===U?(x(),U=null,sa=-1):U||(la===sa&&'"'===Ma?(la=wa+1,U=Ma):la===sa&&"'"===Ma?(la=wa+1,U=Ma):"."!==Ma||sa?"["===Ma?(wa>la&&x(),sa=la=wa+1):"]"===Ma&&(sa||zb("Access path missing open bracket: "+G),0<sa&&x(),sa=0,la=wa+1):wa>la?x():la=wa+1);sa&&zb("Access path missing closing bracket: "+G);U&&zb("Access path missing closing quote: "+G);wa>la&&(wa++,x());return z}
function ac(G,x,z){const F=Yb(G);G=1===F.length?F[0]:G;return h((z&&z.get||ab)(F),[G],x||G)}function Xb(G,x,z){x=[x].concat([].slice.call(z));console[G].apply(console,x)}function mc(G){return G===Object(G)}function Cb(G,x,z,F){if("__proto__"!==x){var U;if(mc(z)&&!Z(z))for(U in G=mc(G[x])?G[x]:G[x]={},z)F&&(!0===F||F[U])?Cb(G,U,z[U]):"__proto__"!==U&&(G[U]=z[U]);else G[x]=z}}function Vb(G,x){function z(sa){F[sa.name]||(F[sa.name]=1,U.push(sa))}if(null==G)return x;const F={},U=[];x.forEach(z);G.forEach(z);
return U}function jc(G){return G[G.length-1]}function Ba(G){return null==G||""===G?null:+G}function Za(G,x,z,F){const U=z(G[0]);G=z(jc(G));x*=G-U;return[F(U-x),F(G-x)]}function wb(G,x,z,F,U){const sa=F(G[0]);G=F(jc(G));x=null!=x?F(x):(sa+G)/2;return[U(x+(sa-x)*z),U(x+(G-x)*z)]}function ub(G){return null!=G?Z(G)?G:[G]:[]}function sb(G){return"function"===typeof G}function xb(G){for(let x,z,F=1,U=arguments.length;F<U;++F)for(z in x=arguments[F],x)G[z]=x[z];return G}function hb(G,x){return P.call(G,
x)}function ec(G){return"[object Date]"===Object.prototype.toString.call(G)}function ra(G){return"number"===typeof G}function fa(G){return"string"===typeof G}function za(G,x){let z="";for(;0<=--x;)z+=G;return z}function Ra(G){return Z(G)?"["+G.map(Ra)+"]":mc(G)||fa(G)?JSON.stringify(G).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):G}const Xa=G=>function(x){return x[G]},Ia=G=>{const x=G.length;return function(z){for(let F=0;F<x;++F)z=z[G[F]];return z}},ib=ac("id"),bb=h(G=>G,[],"identity"),
tb=h(()=>0,[],"zero"),Qb=h(()=>1,[],"one"),eb=h(()=>!0,[],"true"),T=h(()=>!1,[],"false");var Z=Array.isArray;const ca=G=>x=>G*Math.exp(x),ha=G=>x=>Math.log(G*x),La=G=>x=>Math.sign(x)*Math.log1p(Math.abs(x/G)),oa=G=>x=>Math.sign(x)*Math.expm1(Math.abs(x))*G,pa=G=>x=>0>x?-Math.pow(-x,G):Math.pow(x,G),m=(G,x)=>(G<x||null==G)&&null!=x?-1:(G>x||null==x)&&null!=G?1:(x=x instanceof Date?+x:x,G=G instanceof Date?+G:G)!==G&&x===x?-1:x!==x&&G===G?1:0,D=(G,x)=>1===G.length?L(G[0],x[0]):w(G,x,G.length),L=(G,
x)=>function(z,F){return m(G(z),G(F))*x},w=(G,x,z)=>{x.push(0);return function(F,U){var sa=0;let N=-1;for(;0===sa&&++N<z;)sa=G[N],sa=m(sa(F),sa(U));return sa*x[N]}},P=Object.prototype.hasOwnProperty,A={},V=G=>ra(G)?G:ec(G)?G:Date.parse(G);u.Debug=4;u.Error=1;u.Info=3;u.None=0;u.Warn=2;u.accessor=h;u.accessorFields=ia;u.accessorName=function(G){return null==G?null:G.fname};u.array=ub;u.ascending=m;u.clampRange=function(G,x,z){let F=G[0];G=G[1];let U;G<F&&(U=G,G=F,F=U);U=G-F;return U>=z-x?[x,z]:[F=
Math.min(Math.max(F,x),z-U),F+U]};u.compare=function(G,x,z){z=z||{};x=ub(x)||[];const F=[],U=[],sa={},N=z.comparator||D;ub(G).forEach((la,wa)=>{null!=la&&(F.push("descending"===x[wa]?-1:1),U.push(la=sb(la)?la:ac(la,null,z)),(ia(la)||[]).forEach(Ma=>sa[Ma]=1))});return 0===U.length?null:h(N(U,F),Object.keys(sa))};u.constant=function(G){return sb(G)?G:()=>G};u.debounce=function(G,x){let z;return F=>{z&&clearTimeout(z);z=setTimeout(()=>(x(F),z=null),G)}};u.error=zb;u.extend=xb;u.extent=function(G,x){let z=
0,F,U,sa,N;if(G&&(F=G.length))if(null==x){for(U=G[z];z<F&&(null==U||U!==U);U=G[++z]);for(sa=N=U;z<F;++z)U=G[z],null!=U&&(U<sa&&(sa=U),U>N&&(N=U))}else{for(U=x(G[z]);z<F&&(null==U||U!==U);U=x(G[++z]));for(sa=N=U;z<F;++z)U=x(G[z]),null!=U&&(U<sa&&(sa=U),U>N&&(N=U))}return[sa,N]};u.extentIndex=function(G,x){const z=G.length;let F=-1,U,sa,N,la,wa;if(null==x){for(;++F<z;)if(sa=G[F],null!=sa&&sa>=sa){U=N=sa;break}if(F===z)return[-1,-1];for(la=wa=F;++F<z;)sa=G[F],null!=sa&&(U>sa&&(U=sa,la=F),N<sa&&(N=sa,
wa=F))}else{for(;++F<z;)if(sa=x(G[F],F,G),null!=sa&&sa>=sa){U=N=sa;break}if(F===z)return[-1,-1];for(la=wa=F;++F<z;)sa=x(G[F],F,G),null!=sa&&(U>sa&&(U=sa,la=F),N<sa&&(N=sa,wa=F))}return[la,wa]};u.falsy=T;u.fastmap=function(G){function x(sa){return hb(z,sa)&&z[sa]!==A}let z={},F;const U={size:0,empty:0,object:z,has:x,get(sa){return x(sa)?z[sa]:void 0},set(sa,N){x(sa)||(++U.size,z[sa]===A&&--U.empty);z[sa]=N;return this},delete(sa){x(sa)&&(--U.size,++U.empty,z[sa]=A);return this},clear(){U.size=U.empty=
0;U.object=z={}},test(sa){return arguments.length?(F=sa,U):F},clean(){const sa={};let N=0;for(const la in z){const wa=z[la];wa===A||F&&F(wa)||(sa[la]=wa,++N)}U.size=N;U.empty=0;U.object=z=sa}};G&&Object.keys(G).forEach(sa=>{U.set(sa,G[sa])});return U};u.field=ac;u.flush=function(G,x,z,F,U,sa){if(!z&&0!==z)return sa;z=+z;let N=G[0],la=jc(G);la<N&&(G=N,N=la,la=G);G=Math.abs(x-N);x=Math.abs(la-x);return G<x&&G<=z?F:x<=z?U:sa};u.hasOwnProperty=hb;u.id=ib;u.identity=bb;u.inherits=function(G,x,z){x=G.prototype=
Object.create(x.prototype);Object.defineProperty(x,"constructor",{value:G,writable:!0,enumerable:!0,configurable:!0});return xb(x,z)};u.inrange=function(G,x,z,F){let U=x[0];x=x[x.length-1];let sa;U>x&&(sa=U,U=x,x=sa);return(void 0===z||z?U<=G:U<G)&&(void 0===F||F?G<=x:G<x)};u.isArray=Z;u.isBoolean=function(G){return"boolean"===typeof G};u.isDate=ec;u.isFunction=sb;u.isIterable=function(G){return G&&sb(G[Symbol.iterator])};u.isNumber=ra;u.isObject=mc;u.isRegExp=function(G){return"[object RegExp]"===
Object.prototype.toString.call(G)};u.isString=fa;u.key=function(G,x,z){G&&(G=x?ub(G).map(sa=>sa.replace(/\\(.)/g,"$1")):ub(G));const F=G&&G.length,U=z&&z.get||ab;z=sa=>U(x?[sa]:Yb(sa));if(F)if(1===F){const sa=z(G[0]);z=function(N){return""+sa(N)}}else{const sa=G.map(z);z=function(N){let la=""+sa[0](N),wa=0;for(;++wa<F;)la+="|"+sa[wa](N);return la}}else z=function(){return""};return h(z,G,"key")};u.lerp=function(G,x){const z=G[0];G=jc(G);return(x=+x)?1===x?G:z+x*(G-z):z};u.logger=function(G,x,z=Xb){let F=
G||0;return{level(U){return arguments.length?(F=+U,this):F},error(){1<=F&&z(x||"error","ERROR",arguments);return this},warn(){2<=F&&z(x||"warn","WARN",arguments);return this},info(){3<=F&&z(x||"log","INFO",arguments);return this},debug(){4<=F&&z(x||"log","DEBUG",arguments);return this}}};u.lruCache=function(G){G=+G||1E4;let x,z,F;const U=()=>{x={};z={};F=0},sa=(N,la)=>{++F>G&&(z=x,x={},F=1);return x[N]=la};U();return{clear:U,has:N=>hb(x,N)||hb(z,N),get:N=>hb(x,N)?x[N]:hb(z,N)?sa(N,z[N]):void 0,set:(N,
la)=>hb(x,N)?x[N]=la:sa(N,la)}};u.merge=function(G,x,z,F){const U=x.length,sa=z.length;if(!sa)return x;if(!U)return z;F=F||new x.constructor(U+sa);let N=0,la=0,wa=0;for(;N<U&&la<sa;++wa)F[wa]=0<G(x[N],z[la])?z[la++]:x[N++];for(;N<U;++N,++wa)F[wa]=x[N];for(;la<sa;++la,++wa)F[wa]=z[la];return F};u.mergeConfig=function(...G){return G.reduce((x,z)=>{for(const F in z)"signals"===F?x.signals=Vb(x.signals,z.signals):Cb(x,F,z[F],"legend"===F?{layout:1}:"style"===F?!0:null);return x},{})};u.one=Qb;u.pad=function(G,
x,z,F){z=z||" ";G+="";x-=G.length;return 0>=x?G:"left"===F?za(z,x)+G:"center"===F?za(z,~~(x/2))+G+za(z,Math.ceil(x/2)):G+za(z,x)};u.panLinear=function(G,x){return Za(G,x,Ba,bb)};u.panLog=function(G,x){var z=Math.sign(G[0]);return Za(G,x,ha(z),ca(z))};u.panPow=function(G,x,z){return Za(G,x,pa(z),pa(1/z))};u.panSymlog=function(G,x,z){return Za(G,x,La(z),oa(z))};u.peek=jc;u.quarter=function(G){return 1+~~((new Date(G)).getMonth()/3)};u.repeat=za;u.span=function(G){return G&&jc(G)-G[0]||0};u.splitAccessPath=
Yb;u.stringValue=Ra;u.toBoolean=function(G){return null==G||""===G?null:G&&"false"!==G&&"0"!==G?!!G:!1};u.toDate=function(G,x){x=x||V;return null==G||""===G?null:x(G)};u.toNumber=Ba;u.toSet=function(G){const x={},z=G.length;for(let F=0;F<z;++F)x[G[F]]=!0;return x};u.toString=function(G){return null==G||""===G?null:G+""};u.truncate=function(G,x,z,F){F=null!=F?F:"…";G+="";const U=G.length,sa=Math.max(0,x-F.length);return U<=x?G:"left"===z?F+G.slice(U-sa):"center"===z?G.slice(0,Math.ceil(sa/2))+F+G.slice(U-
~~(sa/2)):G.slice(0,sa)+F};u.truthy=eb;u.utcquarter=function(G){return 1+~~((new Date(G)).getUTCMonth()/3)};u.visitArray=function(G,x,z){if(G)if(x){const F=G.length;for(let U=0;U<F;++U){const sa=x(G[U]);sa&&z(sa,U,G)}}else G.forEach(z)};u.writeConfig=Cb;u.zero=tb;u.zoomLinear=function(G,x,z){return wb(G,x,z,Ba,bb)};u.zoomLog=function(G,x,z){const F=Math.sign(G[0]);return wb(G,x,z,ha(F),ca(F))};u.zoomPow=function(G,x,z,F){return wb(G,x,z,pa(F),pa(1/F))};u.zoomSymlog=function(G,x,z,F){return wb(G,x,
z,La(F),oa(F))}})};
shadow$provide[22]=function(Eb,ob,Dc,Wa){(function(u,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa):"function"===typeof define&&define.amd?define(["exports"],h):(u=u||self,h(u.topojson=u.topojson||{}))})(this,function(u){function h(Ba){return Ba}function ia(Ba){if(null==Ba)return h;var Za,wb,ub=Ba.scale[0],sb=Ba.scale[1],xb=Ba.translate[0],hb=Ba.translate[1];return function(ec,ra){ra||(Za=wb=0);ra=2;var fa=ec.length,za=Array(fa);za[0]=(Za+=ec[0])*ub+xb;for(za[1]=(wb+=ec[1])*sb+hb;ra<fa;)za[ra]=
ec[ra],++ra;return za}}function ab(Ba){function Za(fa){fa=ub(fa);fa[0]<xb&&(xb=fa[0]);fa[0]>ec&&(ec=fa[0]);fa[1]<hb&&(hb=fa[1]);fa[1]>ra&&(ra=fa[1])}function wb(fa){switch(fa.type){case "GeometryCollection":fa.geometries.forEach(wb);break;case "Point":Za(fa.coordinates);break;case "MultiPoint":fa.coordinates.forEach(Za)}}var ub=ia(Ba.transform),sb,xb=Infinity,hb=xb,ec=-xb,ra=-xb;Ba.arcs.forEach(function(fa){for(var za=-1,Ra=fa.length,Xa;++za<Ra;)Xa=ub(fa[za],za),Xa[0]<xb&&(xb=Xa[0]),Xa[0]>ec&&(ec=
Xa[0]),Xa[1]<hb&&(hb=Xa[1]),Xa[1]>ra&&(ra=Xa[1])});for(sb in Ba.objects)wb(Ba.objects[sb]);return[xb,hb,ec,ra]}function zb(Ba,Za){var wb=Za.id,ub=Za.bbox,sb=null==Za.properties?{}:Za.properties;Ba=Yb(Ba,Za);return null==wb&&null==ub?{type:"Feature",properties:sb,geometry:Ba}:null==ub?{type:"Feature",id:wb,properties:sb,geometry:Ba}:{type:"Feature",id:wb,bbox:ub,properties:sb,geometry:Ba}}function Yb(Ba,Za){function wb(fa){return ec(fa)}function ub(fa){for(var za=[],Ra=0,Xa=fa.length;Ra<Xa;++Ra){var Ia=
fa[Ra],ib=za;ib.length&&ib.pop();for(var bb=ra[0>Ia?~Ia:Ia],tb=0,Qb=bb.length;tb<Qb;++tb)ib.push(ec(bb[tb],tb));if(0>Ia)for(Ia=ib,ib=Ia.length,bb=ib-Qb;bb<--ib;)Qb=Ia[bb],Ia[bb++]=Ia[ib],Ia[ib]=Qb}2>za.length&&za.push(za[0]);return za}function sb(fa){for(fa=ub(fa);4>fa.length;)fa.push(fa[0]);return fa}function xb(fa){return fa.map(sb)}function hb(fa){var za=fa.type;switch(za){case "GeometryCollection":return{type:za,geometries:fa.geometries.map(hb)};case "Point":fa=ec(fa.coordinates);break;case "MultiPoint":fa=
fa.coordinates.map(wb);break;case "LineString":fa=ub(fa.arcs);break;case "MultiLineString":fa=fa.arcs.map(ub);break;case "Polygon":fa=xb(fa.arcs);break;case "MultiPolygon":fa=fa.arcs.map(xb);break;default:return null}return{type:za,coordinates:fa}}var ec=ia(Ba.transform),ra=Ba.arcs;return hb(Za)}function ac(Ba,Za){function wb(fa){var za=Ba.arcs[0>fa?~fa:fa],Ra=za[0];if(Ba.transform){var Xa=[0,0];za.forEach(function(Ia){Xa[0]+=Ia[0];Xa[1]+=Ia[1]})}else Xa=za[za.length-1];return 0>fa?[Xa,Ra]:[Ra,Xa]}
function ub(fa,za){for(var Ra in fa){var Xa=fa[Ra];delete za[Xa.start];delete Xa.start;delete Xa.end;Xa.forEach(function(Ia){sb[0>Ia?~Ia:Ia]=1});ec.push(Xa)}}var sb={},xb={},hb={},ec=[],ra=-1;Za.forEach(function(fa,za){var Ra=Ba.arcs[0>fa?~fa:fa];3>Ra.length&&!Ra[1][0]&&!Ra[1][1]&&(Ra=Za[++ra],Za[ra]=fa,Za[za]=Ra)});Za.forEach(function(fa){var za=wb(fa),Ra=za[0],Xa=za[1];(za=hb[Ra])?(delete hb[za.end],za.push(fa),za.end=Xa,(fa=xb[Xa])?(delete xb[fa.start],Ra=fa===za?za:za.concat(fa),xb[Ra.start=za.start]=
hb[Ra.end=fa.end]=Ra):xb[za.start]=hb[za.end]=za):(za=xb[Xa])?(delete xb[za.start],za.unshift(fa),za.start=Ra,(fa=hb[Ra])?(delete hb[fa.end],Ra=fa===za?za:fa.concat(za),xb[Ra.start=fa.start]=hb[Ra.end=za.end]=Ra):xb[za.start]=hb[za.end]=za):(za=[fa],xb[za.start=Ra]=hb[za.end=Xa]=za)});ub(hb,xb);ub(xb,hb);Za.forEach(function(fa){sb[0>fa?~fa:fa]||ec.push([fa])});return ec}function Xb(Ba,Za,wb){var ub;if(1<arguments.length)var sb=mc(Ba,Za,wb);else{var xb=0;for(sb=Array(ub=Ba.arcs.length);xb<ub;++xb)sb[xb]=
xb}return{type:"MultiLineString",arcs:ac(Ba,sb)}}function mc(Ba,Za,wb){function ub(za){var Ra=0>za?~za:za;(ra[Ra]||(ra[Ra]=[])).push({i:za,g:fa})}function sb(za){za.forEach(ub)}function xb(za){za.forEach(sb)}function hb(za){switch(fa=za,za.type){case "GeometryCollection":za.geometries.forEach(hb);break;case "LineString":sb(za.arcs);break;case "MultiLineString":case "Polygon":xb(za.arcs);break;case "MultiPolygon":za.arcs.forEach(xb)}}var ec=[],ra=[],fa;hb(Za);ra.forEach(null==wb?function(za){ec.push(za[0].i)}:
function(za){wb(za[0].g,za[za.length-1].g)&&ec.push(za[0].i)});return ec}function Cb(Ba,Za){function wb(ra){switch(ra.type){case "GeometryCollection":ra.geometries.forEach(wb);break;case "Polygon":ub(ra.arcs);break;case "MultiPolygon":ra.arcs.forEach(ub)}}function ub(ra){ra.forEach(function(fa){fa.forEach(function(za){(xb[za=0>za?~za:za]||(xb[za]=[])).push(ra)})});hb.push(ra)}function sb(ra){ra=Yb(Ba,{type:"Polygon",arcs:[ra]}).coordinates[0];for(var fa=-1,za=ra.length,Ra,Xa=ra[za-1],Ia=0;++fa<za;)Ra=
Xa,Xa=ra[fa],Ia+=Ra[0]*Xa[1]-Ra[1]*Xa[0];return Math.abs(Ia)}var xb={},hb=[],ec=[];Za.forEach(wb);hb.forEach(function(ra){if(!ra._){var fa=[],za=[ra];ra._=1;for(ec.push(fa);ra=za.pop();)fa.push(ra),ra.forEach(function(Ra){Ra.forEach(function(Xa){xb[0>Xa?~Xa:Xa].forEach(function(Ia){Ia._||(Ia._=1,za.push(Ia))})})})}});hb.forEach(function(ra){delete ra._});return{type:"MultiPolygon",arcs:ec.map(function(ra){var fa=[];ra.forEach(function(Ia){Ia.forEach(function(ib){ib.forEach(function(bb){2>xb[0>bb?
~bb:bb].length&&fa.push(bb)})})});fa=ac(Ba,fa);if(1<(ra=fa.length))for(var za=1,Ra=sb(fa[0]),Xa;za<ra;++za)(Xa=sb(fa[za]))>Ra&&(Ra=fa[0],fa[0]=fa[za],fa[za]=Ra,Ra=Xa);return fa}).filter(function(ra){return 0<ra.length})}}function Vb(Ba,Za){for(var wb=0,ub=Ba.length;wb<ub;){var sb=wb+ub>>>1;Ba[sb]<Za?wb=sb+1:ub=sb}return wb}function jc(Ba){if(null==Ba)return h;var Za,wb,ub=Ba.scale[0],sb=Ba.scale[1],xb=Ba.translate[0],hb=Ba.translate[1];return function(ec,ra){ra||(Za=wb=0);ra=2;var fa=ec.length,za=
Array(fa),Ra=Math.round((ec[0]-xb)/ub),Xa=Math.round((ec[1]-hb)/sb);za[0]=Ra-Za;Za=Ra;za[1]=Xa-wb;for(wb=Xa;ra<fa;)za[ra]=ec[ra],++ra;return za}}u.bbox=ab;u.feature=function(Ba,Za){"string"===typeof Za&&(Za=Ba.objects[Za]);return"GeometryCollection"===Za.type?{type:"FeatureCollection",features:Za.geometries.map(function(wb){return zb(Ba,wb)})}:zb(Ba,Za)};u.merge=function(Ba){return Yb(Ba,Cb.apply(this,arguments))};u.mergeArcs=Cb;u.mesh=function(Ba){return Yb(Ba,Xb.apply(this,arguments))};u.meshArcs=
Xb;u.neighbors=function(Ba){function Za(ib,bb){ib.forEach(function(tb){0>tb&&(tb=~tb);var Qb=sb[tb];Qb?Qb.push(bb):sb[tb]=[bb]})}function wb(ib,bb){ib.forEach(function(tb){Za(tb,bb)})}function ub(ib,bb){if("GeometryCollection"===ib.type)ib.geometries.forEach(function(tb){ub(tb,bb)});else if(ib.type in hb)hb[ib.type](ib.arcs,bb)}var sb={},xb=Ba.map(function(){return[]}),hb={LineString:Za,MultiLineString:wb,Polygon:wb,MultiPolygon:function(ib,bb){ib.forEach(function(tb){wb(tb,bb)})}};Ba.forEach(ub);
for(var ec in sb){Ba=sb[ec];for(var ra=Ba.length,fa=0;fa<ra;++fa)for(var za=fa+1;za<ra;++za){var Ra=Ba[fa],Xa=Ba[za],Ia;(Ia=xb[Ra])[ec=Vb(Ia,Xa)]!==Xa&&Ia.splice(ec,0,Xa);(Ia=xb[Xa])[ec=Vb(Ia,Ra)]!==Ra&&Ia.splice(ec,0,Ra)}}return xb};u.quantize=function(Ba,Za){function wb(Ra){return fa(Ra)}function ub(Ra){switch(Ra.type){case "GeometryCollection":var Xa={type:"GeometryCollection",geometries:Ra.geometries.map(ub)};break;case "Point":Xa={type:"Point",coordinates:fa(Ra.coordinates)};break;case "MultiPoint":Xa=
{type:"MultiPoint",coordinates:Ra.coordinates.map(wb)};break;default:return Ra}null!=Ra.id&&(Xa.id=Ra.id);null!=Ra.bbox&&(Xa.bbox=Ra.bbox);null!=Ra.properties&&(Xa.properties=Ra.properties);return Xa}if(Ba.transform)throw Error("already quantized");if(Za&&Za.scale)var sb=Ba.bbox;else{if(!(2<=(ra=Math.floor(Za))))throw Error("n must be ≥2");sb=Ba.bbox||ab(Ba);Za=sb[0];var xb=sb[1],hb=sb[2],ec=sb[3],ra;Za={scale:[hb-Za?(hb-Za)/(ra-1):1,ec-xb?(ec-xb)/(ra-1):1],translate:[Za,xb]}}var fa=jc(Za),za;xb=
Ba.objects;hb={};for(za in xb)hb[za]=ub(xb[za]);return{type:"Topology",bbox:sb,transform:Za,objects:hb,arcs:Ba.arcs.map(function(Ra){var Xa=0,Ia=1,ib=Ra.length,bb,tb=Array(ib);for(tb[0]=fa(Ra[0],0);++Xa<ib;)if((bb=fa(Ra[Xa],Xa))[0]||bb[1])tb[Ia++]=bb;1===Ia&&(tb[Ia++]=[0,0]);tb.length=Ia;return tb})}};u.transform=ia;u.untransform=jc;Object.defineProperty(u,"__esModule",{value:!0})})};
shadow$provide[23]=function(Eb,ob,Dc,Wa){(function(u,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,ob(21)):"function"===typeof define&&define.amd?define(["exports","vega-util"],h):(u="undefined"!==typeof globalThis?globalThis:u||self,h(u.vega={},u.vega))})(this,function(u,h){function ia(W){const Ea=h.array(W).slice(),Mb={};Ea.length||h.error("Missing time unit.");Ea.forEach(oc=>{h.hasOwnProperty(Ia,oc)?Mb[oc]=1:h.error(`Invalid time unit: ${oc}.`)});1<(Mb.week||Mb.day?1:0)+(Mb.quarter||Mb.month||
Mb.date?1:0)+(Mb.dayofyear?1:0)&&h.error(`Incompatible time units: ${W}`);Ea.sort((oc,$b)=>Ia[oc]-Ia[$b]);return Ea}function ab(W,Ea,Mb,oc){function $b(Nb){return W(Nb=0===arguments.length?new Date:new Date(+Nb)),Nb}$b.floor=Nb=>(W(Nb=new Date(+Nb)),Nb);$b.ceil=Nb=>(W(Nb=new Date(Nb-1)),Ea(Nb,1),W(Nb),Nb);$b.round=Nb=>{const Rb=$b(Nb),xc=$b.ceil(Nb);return Nb-Rb<xc-Nb?Rb:xc};$b.offset=(Nb,Rb)=>(Ea(Nb=new Date(+Nb),null==Rb?1:Math.floor(Rb)),Nb);$b.range=(Nb,Rb,xc)=>{const dd=[];Nb=$b.ceil(Nb);xc=
null==xc?1:Math.floor(xc);if(!(Nb<Rb&&0<xc))return dd;let qa;do dd.push(qa=new Date(+Nb)),Ea(Nb,xc),W(Nb);while(qa<Nb&&Nb<Rb);return dd};$b.filter=Nb=>ab(Rb=>{if(Rb>=Rb)for(;W(Rb),!Nb(Rb);)Rb.setTime(Rb-1)},(Rb,xc)=>{if(Rb>=Rb)if(0>xc)for(;0>=++xc;)for(;Ea(Rb,-1),!Nb(Rb););else for(;0<=--xc;)for(;Ea(Rb,1),!Nb(Rb););});Mb&&($b.count=(Nb,Rb)=>{bb.setTime(+Nb);tb.setTime(+Rb);W(bb);W(tb);return Math.floor(Mb(bb,tb))},$b.every=Nb=>{Nb=Math.floor(Nb);return isFinite(Nb)&&0<Nb?1<Nb?$b.filter(oc?Rb=>0===
oc(Rb)%Nb:Rb=>0===$b.count(0,Rb)%Nb):$b:null});return $b}function zb(W){return ab(Ea=>{Ea.setDate(Ea.getDate()-(Ea.getDay()+7-W)%7);Ea.setHours(0,0,0,0)},(Ea,Mb)=>{Ea.setDate(Ea.getDate()+7*Mb)},(Ea,Mb)=>(Mb-Ea-6E4*(Mb.getTimezoneOffset()-Ea.getTimezoneOffset()))/eb)}function Yb(W){return ab(Ea=>{Ea.setUTCDate(Ea.getUTCDate()-(Ea.getUTCDay()+7-W)%7);Ea.setUTCHours(0,0,0,0)},(Ea,Mb)=>{Ea.setUTCDate(Ea.getUTCDate()+7*Mb)},(Ea,Mb)=>(Mb-Ea)/eb)}function ac(W,Ea){return null==W||null==Ea?NaN:W<Ea?-1:W>
Ea?1:W>=Ea?0:NaN}function Xb(W,Ea){return null==W||null==Ea?NaN:Ea<W?-1:Ea>W?1:Ea>=W?0:NaN}function mc(W){function Ea(Nb,Rb,xc=0,dd=Nb.length){if(xc<dd){if(0!==Mb(Rb,Rb))return dd;do{const qa=xc+dd>>>1;0>oc(Nb[qa],Rb)?xc=qa+1:dd=qa}while(xc<dd)}return xc}let Mb,oc,$b;2!==W.length?(Mb=ac,oc=(Nb,Rb)=>ac(W(Nb),Rb),$b=(Nb,Rb)=>W(Nb)-Rb):(Mb=W===ac||W===Xb?W:Cb,$b=oc=W);return{left:Ea,center:function(Nb,Rb,xc=0,dd=Nb.length){dd=Ea(Nb,Rb,xc,dd-1);return dd>xc&&$b(Nb[dd-1],Rb)>-$b(Nb[dd],Rb)?dd-1:dd},right:function(Nb,
Rb,xc=0,dd=Nb.length){if(xc<dd){if(0!==Mb(Rb,Rb))return dd;do{const qa=xc+dd>>>1;0>=oc(Nb[qa],Rb)?xc=qa+1:dd=qa}while(xc<dd)}return xc}}}function Cb(){return 0}function Vb(W,Ea,Mb){var oc=(Ea-W)/Math.max(0,Mb),$b=Math.floor(Math.log10(oc));oc/=Math.pow(10,$b);oc=oc>=x?10:oc>=z?5:oc>=F?2:1;let Nb;0>$b?(Nb=Math.pow(10,-$b)/oc,$b=Math.round(W*Nb),oc=Math.round(Ea*Nb),$b/Nb<W&&++$b,oc/Nb>Ea&&--oc,Nb=-Nb):(Nb=Math.pow(10,$b)*oc,$b=Math.round(W/Nb),oc=Math.round(Ea/Nb),$b*Nb<W&&++$b,oc*Nb>Ea&&--oc);return oc<
$b&&.5<=Mb&&2>Mb?Vb(W,Ea,2*Mb):[$b,oc,Nb]}function jc(W,Ea,Mb){return Vb(+W,+Ea,+Mb)[2]}function Ba(W,Ea,Mb){Ea=+Ea;W=+W;Mb=+Mb;const oc=Ea<W;W=oc?jc(Ea,W,Mb):jc(W,Ea,Mb);return(oc?-1:1)*(0>W?1/-W:W)}function Za(W){U.setFullYear(W);U.setMonth(0);U.setDate(1);U.setHours(0,0,0,0);return U}function wb(W){return oa.count(Za(W.getFullYear())-1,W)}function ub(W){return D.count(Za(W.getFullYear())-1,W)}function sb(W,Ea,Mb,oc,$b,Nb,Rb){return 0<=W&&100>W?(Ea=new Date(-1,Ea,Mb,oc,$b,Nb,Rb),Ea.setFullYear(W),
Ea):new Date(W,Ea,Mb,oc,$b,Nb,Rb)}function xb(W){const Ea=Date.UTC(W.getUTCFullYear(),0,1);return pa.count(Ea-1,W)}function hb(W){const Ea=Date.UTC(W.getUTCFullYear(),0,1);return G.count(Ea-1,W)}function ec(W){U.setTime(Date.UTC(W,0,1));return U.getUTCDay()}function ra(W,Ea,Mb,oc,$b,Nb,Rb){return 0<=W&&100>W?(W=new Date(Date.UTC(-1,Ea,Mb,oc,$b,Nb,Rb)),W.setUTCFullYear(Mb.y),W):new Date(Date.UTC(W,Ea,Mb,oc,$b,Nb,Rb))}function fa(W,Ea,Mb,oc,$b){const Nb=Ea||1,Rb=h.peek(W);Ea=(Zb,ic,Bc)=>{Bc=Bc||Zb;
return za(Mb[Bc],oc[Bc],Zb===Rb&&Nb,ic)};const xc=new Date;W=h.toSet(W);const dd=W.year?Ea("year"):h.constant(2012),qa=W.month?Ea("month"):W.quarter?Ea("quarter"):h.zero,Db=W.week&&W.day?Ea("day",1,"weekday"):W.week?Ea("week",1):W.day?Ea("day",1):W.date?Ea("date",1):W.dayofyear?Ea("dayofyear",1):h.one,Ua=W.hours?Ea("hours"):h.zero,yb=W.minutes?Ea("minutes"):h.zero,Hb=W.seconds?Ea("seconds"):h.zero,Ob=W.milliseconds?Ea("milliseconds"):h.zero;return function(Zb){xc.setTime(+Zb);Zb=dd(xc);return $b(Zb,
qa(xc),Db(xc,Zb),Ua(xc),yb(xc),Hb(xc),Ob(xc))}}function za(W,Ea,Mb,oc){const $b=1>=Mb?W:oc?(Nb,Rb)=>oc+Mb*Math.floor((W(Nb,Rb)-oc)/Mb):(Nb,Rb)=>Mb*Math.floor(W(Nb,Rb)/Mb);return Ea?(Nb,Rb)=>Ea($b(Nb,Rb),Rb):$b}function Ra(W,Ea,Mb){return Ea+7*W-(Mb+6)%7}const Xa="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),Ia=Xa.reduce((W,Ea,Mb)=>(W[Ea]=1+Mb,W),{}),ib={year:"%Y ",quarter:"Q%q ",month:"%b ",date:"%d ",week:"W%U ",day:"%a ",dayofyear:"%j ",hours:"%H:00",
minutes:"00:%M",seconds:":%S",milliseconds:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"},bb=new Date,tb=new Date,Qb=ab(()=>{},(W,Ea)=>{W.setTime(+W+Ea)},(W,Ea)=>Ea-W);Qb.every=W=>{W=Math.floor(W);return isFinite(W)&&0<W?1<W?ab(Ea=>{Ea.setTime(Math.floor(Ea/W)*W)},(Ea,Mb)=>{Ea.setTime(+Ea+Mb*W)},(Ea,Mb)=>(Mb-Ea)/W):Qb:null};Qb.range;const eb=6048E5;var T=ab(W=>{W.setTime(W-W.getMilliseconds())},(W,Ea)=>{W.setTime(+W+1E3*Ea)},(W,Ea)=>(Ea-W)/1E3,W=>W.getUTCSeconds());
T.range;var Z=ab(W=>{W.setTime(W-W.getMilliseconds()-1E3*W.getSeconds())},(W,Ea)=>{W.setTime(+W+6E4*Ea)},(W,Ea)=>(Ea-W)/6E4,W=>W.getMinutes());Z.range;var ca=ab(W=>{W.setUTCSeconds(0,0)},(W,Ea)=>{W.setTime(+W+6E4*Ea)},(W,Ea)=>(Ea-W)/6E4,W=>W.getUTCMinutes());ca.range;var ha=ab(W=>{W.setTime(W-W.getMilliseconds()-1E3*W.getSeconds()-6E4*W.getMinutes())},(W,Ea)=>{W.setTime(+W+36E5*Ea)},(W,Ea)=>(Ea-W)/36E5,W=>W.getHours());ha.range;var La=ab(W=>{W.setUTCMinutes(0,0,0)},(W,Ea)=>{W.setTime(+W+36E5*Ea)},
(W,Ea)=>(Ea-W)/36E5,W=>W.getUTCHours());La.range;const oa=ab(W=>W.setHours(0,0,0,0),(W,Ea)=>W.setDate(W.getDate()+Ea),(W,Ea)=>(Ea-W-6E4*(Ea.getTimezoneOffset()-W.getTimezoneOffset()))/864E5,W=>W.getDate()-1);oa.range;const pa=ab(W=>{W.setUTCHours(0,0,0,0)},(W,Ea)=>{W.setUTCDate(W.getUTCDate()+Ea)},(W,Ea)=>(Ea-W)/864E5,W=>W.getUTCDate()-1);pa.range;var m=ab(W=>{W.setUTCHours(0,0,0,0)},(W,Ea)=>{W.setUTCDate(W.getUTCDate()+Ea)},(W,Ea)=>(Ea-W)/864E5,W=>Math.floor(W/864E5));m.range;const D=zb(0);m=zb(1);
var L=zb(2),w=zb(3),P=zb(4),A=zb(5),V=zb(6);D.range;m.range;L.range;w.range;P.range;A.range;V.range;const G=Yb(0);m=Yb(1);L=Yb(2);w=Yb(3);P=Yb(4);A=Yb(5);V=Yb(6);G.range;m.range;L.range;w.range;P.range;A.range;V.range;m=ab(W=>{W.setDate(1);W.setHours(0,0,0,0)},(W,Ea)=>{W.setMonth(W.getMonth()+Ea)},(W,Ea)=>Ea.getMonth()-W.getMonth()+12*(Ea.getFullYear()-W.getFullYear()),W=>W.getMonth());m.range;L=ab(W=>{W.setUTCDate(1);W.setUTCHours(0,0,0,0)},(W,Ea)=>{W.setUTCMonth(W.getUTCMonth()+Ea)},(W,Ea)=>Ea.getUTCMonth()-
W.getUTCMonth()+12*(Ea.getUTCFullYear()-W.getUTCFullYear()),W=>W.getUTCMonth());L.range;w=ab(W=>{W.setMonth(0,1);W.setHours(0,0,0,0)},(W,Ea)=>{W.setFullYear(W.getFullYear()+Ea)},(W,Ea)=>Ea.getFullYear()-W.getFullYear(),W=>W.getFullYear());w.every=W=>isFinite(W=Math.floor(W))&&0<W?ab(Ea=>{Ea.setFullYear(Math.floor(Ea.getFullYear()/W)*W);Ea.setMonth(0,1);Ea.setHours(0,0,0,0)},(Ea,Mb)=>{Ea.setFullYear(Ea.getFullYear()+Mb*W)}):null;w.range;P=ab(W=>{W.setUTCMonth(0,1);W.setUTCHours(0,0,0,0)},(W,Ea)=>{W.setUTCFullYear(W.getUTCFullYear()+
Ea)},(W,Ea)=>Ea.getUTCFullYear()-W.getUTCFullYear(),W=>W.getUTCFullYear());P.every=W=>isFinite(W=Math.floor(W))&&0<W?ab(Ea=>{Ea.setUTCFullYear(Math.floor(Ea.getUTCFullYear()/W)*W);Ea.setUTCMonth(0,1);Ea.setUTCHours(0,0,0,0)},(Ea,Mb)=>{Ea.setUTCFullYear(Ea.getUTCFullYear()+Mb*W)}):null;P.range;const x=Math.sqrt(50),z=Math.sqrt(10),F=Math.sqrt(2),U=new Date,sa={year:W=>W.getFullYear(),quarter:W=>Math.floor(W.getMonth()/3),month:W=>W.getMonth(),date:W=>W.getDate(),hours:W=>W.getHours(),minutes:W=>W.getMinutes(),
seconds:W=>W.getSeconds(),milliseconds:W=>W.getMilliseconds(),dayofyear:W=>wb(W),week:W=>ub(W),weekday:(W,Ea)=>Ra(ub(W),W.getDay(),Za(Ea).getDay()),day:(W,Ea)=>Ra(1,W.getDay(),Za(Ea).getDay())},N={quarter:W=>3*W,week:(W,Ea)=>Ra(W,0,Za(Ea).getDay())},la={year:W=>W.getUTCFullYear(),quarter:W=>Math.floor(W.getUTCMonth()/3),month:W=>W.getUTCMonth(),date:W=>W.getUTCDate(),hours:W=>W.getUTCHours(),minutes:W=>W.getUTCMinutes(),seconds:W=>W.getUTCSeconds(),milliseconds:W=>W.getUTCMilliseconds(),dayofyear:W=>
xb(W),week:W=>hb(W),day:(W,Ea)=>Ra(1,W.getUTCDay(),ec(Ea)),weekday:(W,Ea)=>Ra(hb(W),W.getUTCDay(),ec(Ea))},wa={quarter:W=>3*W,week:(W,Ea)=>Ra(W,0,ec(Ea))},Ma={year:w,quarter:m.every(3),month:m,week:D,date:oa,day:oa,dayofyear:oa,hours:ha,minutes:Z,seconds:T,milliseconds:Qb},Pa={year:P,quarter:L.every(3),month:L,week:G,date:pa,day:pa,dayofyear:pa,hours:La,minutes:ca,seconds:T,milliseconds:Qb};T=6048E5;Z=2592E6;const Ya=31536E6,vb="year month date hours minutes seconds milliseconds".split(" ");ca=vb.slice(0,
-1);ha=ca.slice(0,-1);La=ha.slice(0,-1);m=La.slice(0,-1);L=["year","month"];const jb=["year"],Ub=[[ca,1,1E3],[ca,5,5E3],[ca,15,15E3],[ca,30,3E4],[ha,1,6E4],[ha,5,3E5],[ha,15,9E5],[ha,30,18E5],[La,1,36E5],[La,3,108E5],[La,6,216E5],[La,12,432E5],[m,1,864E5],[["year","week"],1,T],[L,1,Z],[L,3,3*Z],[jb,1,Ya]];u.DATE="date";u.DAY="day";u.DAYOFYEAR="dayofyear";u.HOURS="hours";u.MILLISECONDS="milliseconds";u.MINUTES="minutes";u.MONTH="month";u.QUARTER="quarter";u.SECONDS="seconds";u.TIME_UNITS=Xa;u.WEEK=
"week";u.YEAR="year";u.dayofyear=function(W){return wb(new Date(W))};u.timeBin=function(W){var Ea=W.extent;W=W.maxbins||40;var Mb=Math.abs(h.span(Ea))/W;let oc=mc($b=>$b[2]).right(Ub,Mb);oc===Ub.length?(Mb=jb,Ea=Ba(Ea[0]/Ya,Ea[1]/Ya,W)):oc?(oc=Ub[Mb/Ub[oc-1][2]<Ub[oc][2]/Mb?oc-1:oc],Mb=oc[0],Ea=oc[1]):(Mb=vb,Ea=Math.max(Ba(Ea[0],Ea[1],W),1));return{units:Mb,step:Ea}};u.timeFloor=function(W,Ea){return fa(W,Ea||1,sa,N,sb)};u.timeInterval=function(W){return Ma[W]};u.timeOffset=function(W,Ea,Mb){return(W=
Ma[W])?W.offset(Ea,Mb):void 0};u.timeSequence=function(W,Ea,Mb,oc){return(W=Ma[W])?W.range(Ea,Mb,oc):void 0};u.timeUnitSpecifier=function(W,Ea){Ea=h.extend({},ib,Ea);W=ia(W);const Mb=W.length;let oc="",$b,Nb,Rb;for($b=0;$b<Mb;)for(Nb=W.length;Nb>$b;--Nb)if(Rb=W.slice($b,Nb).join("-"),null!=Ea[Rb]){oc+=Ea[Rb];$b=Nb;break}return oc.trim()};u.timeUnits=ia;u.utcFloor=function(W,Ea){return fa(W,Ea||1,la,wa,ra)};u.utcInterval=function(W){return Pa[W]};u.utcOffset=function(W,Ea,Mb){return(W=Pa[W])?W.offset(Ea,
Mb):void 0};u.utcSequence=function(W,Ea,Mb,oc){return(W=Pa[W])?W.range(Ea,Mb,oc):void 0};u.utcdayofyear=function(W){return xb(new Date(W))};u.utcweek=function(W){return hb(new Date(W))};u.week=function(W){return ub(new Date(W))}})};
shadow$provide[24]=function(Eb,ob,Dc,Wa){(function(u,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,ob(23),ob(21)):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],h):(u="undefined"!==typeof globalThis?globalThis:u||self,h(u.vega={},u.vega,u.vega))})(this,function(u,h,ia){function ab(Aa){const Oa={};return cc=>Oa[cc]||(Oa[cc]=Aa(cc))}function zb(Aa,Oa,cc){var gd=(Oa-Aa)/Math.max(0,cc),rc=Math.floor(Math.log10(gd));gd/=Math.pow(10,rc);gd=gd>=Dd?10:gd>=rd?5:gd>=
we?2:1;let Pc;0>rc?(Pc=Math.pow(10,-rc)/gd,rc=Math.round(Aa*Pc),gd=Math.round(Oa*Pc),rc/Pc<Aa&&++rc,gd/Pc>Oa&&--gd,Pc=-Pc):(Pc=Math.pow(10,rc)*gd,rc=Math.round(Aa/Pc),gd=Math.round(Oa/Pc),rc*Pc<Aa&&++rc,gd*Pc>Oa&&--gd);return gd<rc&&.5<=cc&&2>cc?zb(Aa,Oa,2*cc):[rc,gd,Pc]}function Yb(Aa,Oa,cc){return zb(+Aa,+Oa,+cc)[2]}function ac(Aa,Oa){if(0>(Oa=(Aa=Oa?Aa.toExponential(Oa-1):Aa.toExponential()).indexOf("e")))return null;var cc=Aa.slice(0,Oa);return[1<cc.length?cc[0]+cc.slice(2):cc,+Aa.slice(Oa+1)]}
function Xb(Aa){return Aa=ac(Math.abs(Aa)),Aa?Aa[1]:NaN}function mc(Aa,Oa){return function(cc,gd){for(var rc=cc.length,Pc=[],Hc=0,Tc=Aa[0],Yc=0;0<rc&&0<Tc;){Yc+Tc+1>gd&&(Tc=Math.max(1,gd-Yc));Pc.push(cc.substring(rc-=Tc,rc+Tc));if((Yc+=Tc+1)>gd)break;Tc=Aa[Hc=(Hc+1)%Aa.length]}return Pc.reverse().join(Oa)}}function Cb(Aa){return function(Oa){return Oa.replace(/[0-9]/g,function(cc){return Aa[+cc]})}}function Vb(Aa){if(!(Oa=Bd.exec(Aa)))throw Error("invalid format: "+Aa);var Oa;return new jc({fill:Oa[1],
align:Oa[2],sign:Oa[3],symbol:Oa[4],zero:Oa[5],width:Oa[6],comma:Oa[7],precision:Oa[8]&&Oa[8].slice(1),trim:Oa[9],type:Oa[10]})}function jc(Aa){this.fill=void 0===Aa.fill?" ":Aa.fill+"";this.align=void 0===Aa.align?"\x3e":Aa.align+"";this.sign=void 0===Aa.sign?"-":Aa.sign+"";this.symbol=void 0===Aa.symbol?"":Aa.symbol+"";this.zero=!!Aa.zero;this.width=void 0===Aa.width?void 0:+Aa.width;this.comma=!!Aa.comma;this.precision=void 0===Aa.precision?void 0:+Aa.precision;this.trim=!!Aa.trim;this.type=void 0===
Aa.type?"":Aa.type+""}function Ba(Aa,Oa){Oa=ac(Aa,Oa);if(!Oa)return Aa+"";Aa=Oa[0];Oa=Oa[1];return 0>Oa?"0."+Array(-Oa).join("0")+Aa:Aa.length>Oa+1?Aa.slice(0,Oa+1)+"."+Aa.slice(Oa+1):Aa+Array(Oa-Aa.length+2).join("0")}function Za(Aa){return Aa}function wb(Aa){function Oa(ld){function fe(K){var ja=Ae,Ca=na,Qa,Ga;if("c"===oe)Ca=l(K)+Ca,K="";else{K=+K;var qb=0>K||0>1/K;K=isNaN(K)?id:l(Math.abs(K),Ze);if(ue){var nb=K.length,wc=1,vc=-1;a:for(;wc<nb;++wc)switch(K[wc]){case ".":vc=Qa=wc;break;case "0":0===
vc&&(vc=wc);Qa=wc;break;default:if(!+K[wc])break a;0<vc&&(vc=0)}K=0<vc?K.slice(0,vc)+K.slice(Qa+1):K}qb&&0===+K&&"+"!==ne&&(qb=!1);ja=(qb?"("===ne?ne:Yc:"-"===ne||"("===ne?"":ne)+ja;Ca=("s"===oe?Ka[8+y/3]:"")+Ca+(qb&&"("===ne?")":"");if(q)for(qb=-1,Qa=K.length;++qb<Qa;)if(Ga=K.charCodeAt(qb),48>Ga||57<Ga){Ca=(46===Ga?Pc+K.slice(qb+1):K.slice(qb))+Ca;K=K.slice(0,qb);break}}Ye&&!kf&&(K=cc(K,Infinity));Ga=ja.length+K.length+Ca.length;qb=Ga<Ke?Array(Ke-Ga+1).join(Re):"";Ye&&kf&&(K=cc(qb+K,qb.length?Ke-
Ca.length:Infinity),qb="");switch(Ee){case "\x3c":K=ja+K+Ca+qb;break;case "\x3d":K=ja+qb+K+Ca;break;case "^":K=qb.slice(0,Ga=qb.length>>1)+ja+K+Ca+qb.slice(Ga);break;default:K=qb+ja+K+Ca}return Hc(K)}ld=Vb(ld);var Re=ld.fill,Ee=ld.align,ne=ld.sign,ef=ld.symbol,kf=ld.zero,Ke=ld.width,Ye=ld.comma,Ze=ld.precision,ue=ld.trim,oe=ld.type;"n"===oe?(Ye=!0,oe="g"):J[oe]||(void 0===Ze&&(Ze=12),ue=!0,oe="g");if(kf||"0"===Re&&"\x3d"===Ee)kf=!0,Re="0",Ee="\x3d";var Ae="$"===ef?gd:"#"===ef&&/[boxX]/.test(oe)?"0"+
oe.toLowerCase():"",na="$"===ef?rc:/[%p]/.test(oe)?Tc:"",l=J[oe],q=/[defgprs%]/.test(oe);Ze=void 0===Ze?6:/[gprs]/.test(oe)?Math.max(1,Math.min(21,Ze)):Math.max(0,Math.min(20,Ze));fe.toString=function(){return ld+""};return fe}var cc=void 0===Aa.grouping||void 0===Aa.thousands?Za:mc(va.call(Aa.grouping,Number),Aa.thousands+""),gd=void 0===Aa.currency?"":Aa.currency[0]+"",rc=void 0===Aa.currency?"":Aa.currency[1]+"",Pc=void 0===Aa.decimal?".":Aa.decimal+"",Hc=void 0===Aa.numerals?Za:Cb(va.call(Aa.numerals,
String)),Tc=void 0===Aa.percent?"%":Aa.percent+"",Yc=void 0===Aa.minus?"−":Aa.minus+"",id=void 0===Aa.nan?"NaN":Aa.nan+"";return{format:Oa,formatPrefix:function(ld,fe){var Re=Oa((ld=Vb(ld),ld.type="f",ld));ld=3*Math.max(-8,Math.min(8,Math.floor(Xb(fe)/3)));var Ee=Math.pow(10,-ld),ne=Ka[8+ld/3];return function(ef){return Re(Ee*ef)+ne}}}}function ub(Aa,Oa){return cc=>{cc=Aa(cc);const gd=cc.indexOf(Oa);if(0>gd)return cc;a:{var rc=cc.lastIndexOf("e");if(!(0<rc)){for(rc=cc.length;--rc>gd;){var Pc=cc.charCodeAt(rc);
if(48<=Pc&&57>=Pc){rc+=1;break a}}rc=void 0}}for(Pc=rc<cc.length?cc.slice(rc):"";--rc>gd;)if("0"!==cc[rc]){++rc;break}return cc.slice(0,rc)+Pc}}function sb(Aa){const Oa=ab(Aa.format),cc=Aa.formatPrefix;return{format:Oa,formatPrefix:cc,formatFloat(gd){gd=Vb(gd||",");if(null==gd.precision){gd.precision=12;switch(gd.type){case "%":gd.precision-=2;break;case "e":--gd.precision}return ub(Oa(gd),Oa(".1f")(1)[1])}return Oa(gd)},formatSpan(gd,rc,Pc,Hc){Hc=Vb(null==Hc?",f":Hc);var Tc=+rc;var Yc=+gd;var id=
+Pc;Yc=(Pc=Tc<Yc)?Yb(Tc,Yc,id):Yb(Yc,Tc,id);Yc=(Pc?-1:1)*(0>Yc?1/-Yc:Yc);gd=Math.max(Math.abs(gd),Math.abs(rc));if(null==Hc.precision)switch(Hc.type){case "s":return rc=isNaN,Yc=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Xb(gd)/3)))-Xb(Math.abs(Yc))),rc(rc=Yc)||(Hc.precision=rc),cc(Hc,gd);case "":case "e":case "g":case "p":case "r":rc=isNaN;Yc=Math.abs(Yc);gd=Math.abs(gd)-Yc;gd=Math.max(0,Xb(gd)-Xb(Yc))+1;rc(rc=gd)||(Hc.precision=rc-("e"===Hc.type));break;case "f":case "%":isNaN(rc=Math.max(0,
-Xb(Math.abs(Yc))))||(Hc.precision=rc-2*("%"===Hc.type))}return Oa(Hc)}}}function xb(){return Tb=sb({format:Bb,formatPrefix:bc})}function hb(Aa){return sb(wb(Aa))}function ec(Aa){return arguments.length?Tb=hb(Aa):Tb}function ra(Aa,Oa,cc,gd){function rc(Pc){return Aa(Pc=0===arguments.length?new Date:new Date(+Pc)),Pc}rc.floor=Pc=>(Aa(Pc=new Date(+Pc)),Pc);rc.ceil=Pc=>(Aa(Pc=new Date(Pc-1)),Oa(Pc,1),Aa(Pc),Pc);rc.round=Pc=>{const Hc=rc(Pc),Tc=rc.ceil(Pc);return Pc-Hc<Tc-Pc?Hc:Tc};rc.offset=(Pc,Hc)=>
(Oa(Pc=new Date(+Pc),null==Hc?1:Math.floor(Hc)),Pc);rc.range=(Pc,Hc,Tc)=>{const Yc=[];Pc=rc.ceil(Pc);Tc=null==Tc?1:Math.floor(Tc);if(!(Pc<Hc&&0<Tc))return Yc;let id;do Yc.push(id=new Date(+Pc)),Oa(Pc,Tc),Aa(Pc);while(id<Pc&&Pc<Hc);return Yc};rc.filter=Pc=>ra(Hc=>{if(Hc>=Hc)for(;Aa(Hc),!Pc(Hc);)Hc.setTime(Hc-1)},(Hc,Tc)=>{if(Hc>=Hc)if(0>Tc)for(;0>=++Tc;)for(;Oa(Hc,-1),!Pc(Hc););else for(;0<=--Tc;)for(;Oa(Hc,1),!Pc(Hc););});cc&&(rc.count=(Pc,Hc)=>{nc.setTime(+Pc);Jc.setTime(+Hc);Aa(nc);Aa(Jc);return Math.floor(cc(nc,
Jc))},rc.every=Pc=>{Pc=Math.floor(Pc);return isFinite(Pc)&&0<Pc?1<Pc?rc.filter(gd?Hc=>0===gd(Hc)%Pc:Hc=>0===rc.count(0,Hc)%Pc):rc:null});return rc}function fa(Aa){return ra(Oa=>{Oa.setDate(Oa.getDate()-(Oa.getDay()+7-Aa)%7);Oa.setHours(0,0,0,0)},(Oa,cc)=>{Oa.setDate(Oa.getDate()+7*cc)},(Oa,cc)=>(cc-Oa-6E4*(cc.getTimezoneOffset()-Oa.getTimezoneOffset()))/6048E5)}function za(Aa){return ra(Oa=>{Oa.setUTCDate(Oa.getUTCDate()-(Oa.getUTCDay()+7-Aa)%7);Oa.setUTCHours(0,0,0,0)},(Oa,cc)=>{Oa.setUTCDate(Oa.getUTCDate()+
7*cc)},(Oa,cc)=>(cc-Oa)/6048E5)}function Ra(Aa){if(0<=Aa.y&&100>Aa.y){var Oa=new Date(-1,Aa.m,Aa.d,Aa.H,Aa.M,Aa.S,Aa.L);Oa.setFullYear(Aa.y);return Oa}return new Date(Aa.y,Aa.m,Aa.d,Aa.H,Aa.M,Aa.S,Aa.L)}function Xa(Aa){if(0<=Aa.y&&100>Aa.y){var Oa=new Date(Date.UTC(-1,Aa.m,Aa.d,Aa.H,Aa.M,Aa.S,Aa.L));Oa.setUTCFullYear(Aa.y);return Oa}return new Date(Date.UTC(Aa.y,Aa.m,Aa.d,Aa.H,Aa.M,Aa.S,Aa.L))}function Ia(Aa,Oa,cc){return{y:Aa,m:Oa,d:cc,H:0,M:0,S:0,L:0}}function ib(Aa){function Oa(q,K){return function(ja){var Ca=
[],Qa=-1,Ga=0,qb=q.length,nb,wc;for(ja instanceof Date||(ja=new Date(+ja));++Qa<qb;)if(37===q.charCodeAt(Qa)){Ca.push(q.slice(Ga,Qa));null!=(Ga=Ib[nb=q.charAt(++Qa)])?nb=q.charAt(++Qa):Ga="e"===nb?" ":"0";if(wc=K[nb])nb=wc(ja,Ga);Ca.push(nb);Ga=Qa+1}Ca.push(q.slice(Ga,Qa));return Ca.join("")}}function cc(q,K){return function(ja){var Ca=Ia(1900,void 0,1);if(gd(Ca,q,ja+="",0)!=ja.length)return null;if("Q"in Ca)return new Date(Ca.Q);if("s"in Ca)return new Date(1E3*Ca.s+("L"in Ca?Ca.L:0));!K||"Z"in Ca||
(Ca.Z=0);"p"in Ca&&(Ca.H=Ca.H%12+12*Ca.p);void 0===Ca.m&&(Ca.m="q"in Ca?Ca.q:0);if("V"in Ca){if(1>Ca.V||53<Ca.V)return null;"w"in Ca||(Ca.w=1);if("Z"in Ca){ja=Xa(Ia(Ca.y,0,1));var Qa=ja.getUTCDay();ja=4<Qa||0===Qa?tf.ceil(ja):tf(ja);ja=Xc.offset(ja,7*(Ca.V-1));Ca.y=ja.getUTCFullYear();Ca.m=ja.getUTCMonth();Ca.d=ja.getUTCDate()+(Ca.w+6)%7}else ja=Ra(Ia(Ca.y,0,1)),Qa=ja.getDay(),ja=4<Qa||0===Qa?xd.ceil(ja):xd(ja),ja=Ac.offset(ja,7*(Ca.V-1)),Ca.y=ja.getFullYear(),Ca.m=ja.getMonth(),Ca.d=ja.getDate()+
(Ca.w+6)%7}else if("W"in Ca||"U"in Ca)"w"in Ca||(Ca.w="u"in Ca?Ca.u%7:"W"in Ca?1:0),Qa="Z"in Ca?Xa(Ia(Ca.y,0,1)).getUTCDay():Ra(Ia(Ca.y,0,1)).getDay(),Ca.m=0,Ca.d="W"in Ca?(Ca.w+6)%7+7*Ca.W-(Qa+5)%7:Ca.w+7*Ca.U-(Qa+6)%7;return"Z"in Ca?(Ca.H+=Ca.Z/100|0,Ca.M+=Ca.Z%100,Xa(Ca)):Ra(Ca)}}function gd(q,K,ja,Ca){for(var Qa=0,Ga=K.length,qb=ja.length,nb;Qa<Ga;){if(Ca>=qb)return-1;nb=K.charCodeAt(Qa++);if(37===nb){if(nb=K.charAt(Qa++),nb=l[nb in Ib?K.charAt(Qa++):nb],!nb||0>(Ca=nb(q,ja,Ca)))return-1}else if(nb!=
ja.charCodeAt(Ca++))return-1}return Ca}var rc=Aa.dateTime,Pc=Aa.date,Hc=Aa.time,Tc=Aa.periods,Yc=Aa.days,id=Aa.shortDays,ld=Aa.months,fe=Aa.shortMonths,Re=Qb(Tc),Ee=eb(Tc),ne=Qb(Yc),ef=eb(Yc),kf=Qb(id),Ke=eb(id),Ye=Qb(ld),Ze=eb(ld),ue=Qb(fe),oe=eb(fe),Ae={a:function(q){return id[q.getDay()]},A:function(q){return Yc[q.getDay()]},b:function(q){return fe[q.getMonth()]},B:function(q){return ld[q.getMonth()]},c:null,d:N,e:N,f:Ya,g:xc,G:qa,H:la,I:wa,j:Ma,L:Pa,m:vb,M:jb,p:function(q){return Tc[+(12<=q.getHours())]},
q:function(q){return 1+~~(q.getMonth()/3)},Q:Kb,s:Cc,S:Ub,u:W,U:Ea,V:oc,w:$b,W:Nb,x:null,X:null,y:Rb,Y:dd,Z:Db,"%":Fb},na={a:function(q){return id[q.getUTCDay()]},A:function(q){return Yc[q.getUTCDay()]},b:function(q){return fe[q.getUTCMonth()]},B:function(q){return ld[q.getUTCMonth()]},c:null,d:Ua,e:Ua,f:ic,g:Da,G:kb,H:yb,I:Hb,j:Ob,L:Zb,m:Bc,M:jd,p:function(q){return Tc[+(12<=q.getUTCHours())]},q:function(q){return 1+~~(q.getUTCMonth()/3)},Q:Kb,s:Cc,S:Vc,u:ma,U:Ha,V:Q,w:t,W:ba,x:null,X:null,y:xa,
Y:Sa,Z:Sb,"%":Fb},l={a:function(q,K,ja){return(K=kf.exec(K.slice(ja)))?(q.w=Ke.get(K[0].toLowerCase()),ja+K[0].length):-1},A:function(q,K,ja){return(K=ne.exec(K.slice(ja)))?(q.w=ef.get(K[0].toLowerCase()),ja+K[0].length):-1},b:function(q,K,ja){return(K=ue.exec(K.slice(ja)))?(q.m=oe.get(K[0].toLowerCase()),ja+K[0].length):-1},B:function(q,K,ja){return(K=Ye.exec(K.slice(ja)))?(q.m=Ze.get(K[0].toLowerCase()),ja+K[0].length):-1},c:function(q,K,ja){return gd(q,rc,K,ja)},d:w,e:w,f:z,g:pa,G:oa,H:A,I:A,j:P,
L:x,m:L,M:V,p:function(q,K,ja){return(K=Re.exec(K.slice(ja)))?(q.p=Ee.get(K[0].toLowerCase()),ja+K[0].length):-1},q:D,Q:U,s:sa,S:G,u:Z,U:ca,V:ha,w:T,W:La,x:function(q,K,ja){return gd(q,Pc,K,ja)},X:function(q,K,ja){return gd(q,Hc,K,ja)},y:pa,Y:oa,Z:m,"%":F};Ae.x=Oa(Pc,Ae);Ae.X=Oa(Hc,Ae);Ae.c=Oa(rc,Ae);na.x=Oa(Pc,na);na.X=Oa(Hc,na);na.c=Oa(rc,na);return{format:function(q){var K=Oa(q+="",Ae);K.toString=function(){return q};return K},parse:function(q){var K=cc(q+="",!1);K.toString=function(){return q};
return K},utcFormat:function(q){var K=Oa(q+="",na);K.toString=function(){return q};return K},utcParse:function(q){var K=cc(q+="",!0);K.toString=function(){return q};return K}}}function bb(Aa,Oa,cc){var gd=0>Aa?"-":"";Aa=(gd?-Aa:Aa)+"";var rc=Aa.length;return gd+(rc<cc?Array(cc-rc+1).join(Oa)+Aa:Aa)}function tb(Aa){return Aa.replace($c,"\\$\x26")}function Qb(Aa){return new RegExp("^(?:"+Aa.map(tb).join("|")+")","i")}function eb(Aa){return new Map(Aa.map((Oa,cc)=>[Oa.toLowerCase(),cc]))}function T(Aa,
Oa,cc){return(Oa=Oc.exec(Oa.slice(cc,cc+1)))?(Aa.w=+Oa[0],cc+Oa[0].length):-1}function Z(Aa,Oa,cc){return(Oa=Oc.exec(Oa.slice(cc,cc+1)))?(Aa.u=+Oa[0],cc+Oa[0].length):-1}function ca(Aa,Oa,cc){return(Oa=Oc.exec(Oa.slice(cc,cc+2)))?(Aa.U=+Oa[0],cc+Oa[0].length):-1}function ha(Aa,Oa,cc){return(Oa=Oc.exec(Oa.slice(cc,cc+2)))?(Aa.V=+Oa[0],cc+Oa[0].length):-1}function La(Aa,Oa,cc){return(Oa=Oc.exec(Oa.slice(cc,cc+2)))?(Aa.W=+Oa[0],cc+Oa[0].length):-1}function oa(Aa,Oa,cc){return(Oa=Oc.exec(Oa.slice(cc,
cc+4)))?(Aa.y=+Oa[0],cc+Oa[0].length):-1}function pa(Aa,Oa,cc){return(Oa=Oc.exec(Oa.slice(cc,cc+2)))?(Aa.y=+Oa[0]+(68<+Oa[0]?1900:2E3),cc+Oa[0].length):-1}function m(Aa,Oa,cc){return(Oa=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Oa.slice(cc,cc+6)))?(Aa.Z=Oa[1]?0:-(Oa[2]+(Oa[3]||"00")),cc+Oa[0].length):-1}function D(Aa,Oa,cc){return(Oa=Oc.exec(Oa.slice(cc,cc+1)))?(Aa.q=3*Oa[0]-3,cc+Oa[0].length):-1}function L(Aa,Oa,cc){return(Oa=Oc.exec(Oa.slice(cc,cc+2)))?(Aa.m=Oa[0]-1,cc+Oa[0].length):-1}function w(Aa,
Oa,cc){return(Oa=Oc.exec(Oa.slice(cc,cc+2)))?(Aa.d=+Oa[0],cc+Oa[0].length):-1}function P(Aa,Oa,cc){return(Oa=Oc.exec(Oa.slice(cc,cc+3)))?(Aa.m=0,Aa.d=+Oa[0],cc+Oa[0].length):-1}function A(Aa,Oa,cc){return(Oa=Oc.exec(Oa.slice(cc,cc+2)))?(Aa.H=+Oa[0],cc+Oa[0].length):-1}function V(Aa,Oa,cc){return(Oa=Oc.exec(Oa.slice(cc,cc+2)))?(Aa.M=+Oa[0],cc+Oa[0].length):-1}function G(Aa,Oa,cc){return(Oa=Oc.exec(Oa.slice(cc,cc+2)))?(Aa.S=+Oa[0],cc+Oa[0].length):-1}function x(Aa,Oa,cc){return(Oa=Oc.exec(Oa.slice(cc,
cc+3)))?(Aa.L=+Oa[0],cc+Oa[0].length):-1}function z(Aa,Oa,cc){return(Oa=Oc.exec(Oa.slice(cc,cc+6)))?(Aa.L=Math.floor(Oa[0]/1E3),cc+Oa[0].length):-1}function F(Aa,Oa,cc){return(Aa=od.exec(Oa.slice(cc,cc+1)))?cc+Aa[0].length:-1}function U(Aa,Oa,cc){return(Oa=Oc.exec(Oa.slice(cc)))?(Aa.Q=+Oa[0],cc+Oa[0].length):-1}function sa(Aa,Oa,cc){return(Oa=Oc.exec(Oa.slice(cc)))?(Aa.s=+Oa[0],cc+Oa[0].length):-1}function N(Aa,Oa){return bb(Aa.getDate(),Oa,2)}function la(Aa,Oa){return bb(Aa.getHours(),Oa,2)}function wa(Aa,
Oa){return bb(Aa.getHours()%12||12,Oa,2)}function Ma(Aa,Oa){return bb(1+Ac.count(Gb(Aa),Aa),Oa,3)}function Pa(Aa,Oa){return bb(Aa.getMilliseconds(),Oa,3)}function Ya(Aa,Oa){return Pa(Aa,Oa)+"000"}function vb(Aa,Oa){return bb(Aa.getMonth()+1,Oa,2)}function jb(Aa,Oa){return bb(Aa.getMinutes(),Oa,2)}function Ub(Aa,Oa){return bb(Aa.getSeconds(),Oa,2)}function W(Aa){Aa=Aa.getDay();return 0===Aa?7:Aa}function Ea(Aa,Oa){return bb(qd.count(Gb(Aa)-1,Aa),Oa,2)}function Mb(Aa){var Oa=Aa.getDay();return 4<=Oa||
0===Oa?me(Aa):me.ceil(Aa)}function oc(Aa,Oa){Aa=Mb(Aa);return bb(me.count(Gb(Aa),Aa)+(4===Gb(Aa).getDay()),Oa,2)}function $b(Aa){return Aa.getDay()}function Nb(Aa,Oa){return bb(xd.count(Gb(Aa)-1,Aa),Oa,2)}function Rb(Aa,Oa){return bb(Aa.getFullYear()%100,Oa,2)}function xc(Aa,Oa){Aa=Mb(Aa);return bb(Aa.getFullYear()%100,Oa,2)}function dd(Aa,Oa){return bb(Aa.getFullYear()%1E4,Oa,4)}function qa(Aa,Oa){var cc=Aa.getDay();Aa=4<=cc||0===cc?me(Aa):me.ceil(Aa);return bb(Aa.getFullYear()%1E4,Oa,4)}function Db(Aa){Aa=
Aa.getTimezoneOffset();return(0<Aa?"-":(Aa*=-1,"+"))+bb(Aa/60|0,"0",2)+bb(Aa%60,"0",2)}function Ua(Aa,Oa){return bb(Aa.getUTCDate(),Oa,2)}function yb(Aa,Oa){return bb(Aa.getUTCHours(),Oa,2)}function Hb(Aa,Oa){return bb(Aa.getUTCHours()%12||12,Oa,2)}function Ob(Aa,Oa){return bb(1+Xc.count(qc(Aa),Aa),Oa,3)}function Zb(Aa,Oa){return bb(Aa.getUTCMilliseconds(),Oa,3)}function ic(Aa,Oa){return Zb(Aa,Oa)+"000"}function Bc(Aa,Oa){return bb(Aa.getUTCMonth()+1,Oa,2)}function jd(Aa,Oa){return bb(Aa.getUTCMinutes(),
Oa,2)}function Vc(Aa,Oa){return bb(Aa.getUTCSeconds(),Oa,2)}function ma(Aa){Aa=Aa.getUTCDay();return 0===Aa?7:Aa}function Ha(Aa,Oa){return bb(Je.count(qc(Aa)-1,Aa),Oa,2)}function gb(Aa){var Oa=Aa.getUTCDay();return 4<=Oa||0===Oa?aa(Aa):aa.ceil(Aa)}function Q(Aa,Oa){Aa=gb(Aa);return bb(aa.count(qc(Aa),Aa)+(4===qc(Aa).getUTCDay()),Oa,2)}function t(Aa){return Aa.getUTCDay()}function ba(Aa,Oa){return bb(tf.count(qc(Aa)-1,Aa),Oa,2)}function xa(Aa,Oa){return bb(Aa.getUTCFullYear()%100,Oa,2)}function Da(Aa,
Oa){Aa=gb(Aa);return bb(Aa.getUTCFullYear()%100,Oa,2)}function Sa(Aa,Oa){return bb(Aa.getUTCFullYear()%1E4,Oa,4)}function kb(Aa,Oa){var cc=Aa.getUTCDay();Aa=4<=cc||0===cc?aa(Aa):aa.ceil(Aa);return bb(Aa.getUTCFullYear()%1E4,Oa,4)}function Sb(){return"+0000"}function Fb(){return"%"}function Kb(Aa){return+Aa}function Cc(Aa){return Math.floor(+Aa/1E3)}function Ec(Aa,Oa,cc){cc=cc||{};ia.isObject(cc)||ia.error(`Invalid time multi-format specifier: ${cc}`);const gd=Oa(h.SECONDS),rc=Oa(h.MINUTES),Pc=Oa(h.HOURS),
Hc=Oa(h.DATE),Tc=Oa(h.WEEK),Yc=Oa(h.MONTH),id=Oa(h.QUARTER),ld=Oa(h.YEAR),fe=Aa(cc[h.MILLISECONDS]||".%L"),Re=Aa(cc[h.SECONDS]||":%S"),Ee=Aa(cc[h.MINUTES]||"%I:%M"),ne=Aa(cc[h.HOURS]||"%I %p"),ef=Aa(cc[h.DATE]||cc[h.DAY]||"%a %d"),kf=Aa(cc[h.WEEK]||"%b %d"),Ke=Aa(cc[h.MONTH]||"%B"),Ye=Aa(cc[h.QUARTER]||"%B"),Ze=Aa(cc[h.YEAR]||"%Y");return ue=>(gd(ue)<ue?fe:rc(ue)<ue?Re:Pc(ue)<ue?Ee:Hc(ue)<ue?ne:Yc(ue)<ue?Tc(ue)<ue?ef:kf:ld(ue)<ue?id(ue)<ue?Ke:Ye:Ze)(ue)}function Sc(Aa){const Oa=ab(Aa.format),cc=ab(Aa.utcFormat);
return{timeFormat:gd=>ia.isString(gd)?Oa(gd):Ec(Oa,h.timeInterval,gd),utcFormat:gd=>ia.isString(gd)?cc(gd):Ec(cc,h.utcInterval,gd),timeParse:ab(Aa.parse),utcParse:ab(Aa.utcParse)}}function vd(){return $d=Sc({format:Nd,parse:ce,utcFormat:Kd,utcParse:Jd})}function pd(Aa){return Sc(ib(Aa))}function fd(Aa){return arguments.length?$d=pd(Aa):$d}function Cd(Aa,Oa){var cc=arguments.length;cc&&2!==cc&&ia.error("defaultLocale expects either zero or two arguments.");if(cc){cc=ec(Aa);var gd=fd(Oa);cc=ia.extend({},
cc,gd)}else cc=ec(),gd=fd(),cc=ia.extend({},cc,gd);return cc}const Dd=Math.sqrt(50),rd=Math.sqrt(10),we=Math.sqrt(2);var Bd=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Vb.prototype=jc.prototype;jc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var y,J={"%":(Aa,
Oa)=>(100*Aa).toFixed(Oa),b:Aa=>Math.round(Aa).toString(2),c:Aa=>Aa+"",d:function(Aa){return 1E21<=Math.abs(Aa=Math.round(Aa))?Aa.toLocaleString("en").replace(/,/g,""):Aa.toString(10)},e:(Aa,Oa)=>Aa.toExponential(Oa),f:(Aa,Oa)=>Aa.toFixed(Oa),g:(Aa,Oa)=>Aa.toPrecision(Oa),o:Aa=>Math.round(Aa).toString(8),p:(Aa,Oa)=>Ba(100*Aa,Oa),r:Ba,s:function(Aa,Oa){var cc=ac(Aa,Oa);if(!cc)return Aa+"";var gd=cc[0];cc=cc[1];cc=cc-(y=3*Math.max(-8,Math.min(8,Math.floor(cc/3))))+1;var rc=gd.length;return cc===rc?
gd:cc>rc?gd+Array(cc-rc+1).join("0"):0<cc?gd.slice(0,cc)+"."+gd.slice(cc):"0."+Array(1-cc).join("0")+ac(Aa,Math.max(0,Oa+cc-1))[0]},X:Aa=>Math.round(Aa).toString(16).toUpperCase(),x:Aa=>Math.round(Aa).toString(16)},va=Array.prototype.map,Ka="y z a f p n µ m  k M G T P E Z Y".split(" "),lb,Bb,bc;(function(Aa){lb=wb(Aa);Bb=lb.format;bc=lb.formatPrefix;return lb})({thousands:",",grouping:[3],currency:["$",""]});let Tb;xb();const nc=new Date,Jc=new Date,Ac=ra(Aa=>Aa.setHours(0,0,0,0),(Aa,Oa)=>Aa.setDate(Aa.getDate()+
Oa),(Aa,Oa)=>(Oa-Aa-6E4*(Oa.getTimezoneOffset()-Aa.getTimezoneOffset()))/864E5,Aa=>Aa.getDate()-1);Ac.range;const Xc=ra(Aa=>{Aa.setUTCHours(0,0,0,0)},(Aa,Oa)=>{Aa.setUTCDate(Aa.getUTCDate()+Oa)},(Aa,Oa)=>(Oa-Aa)/864E5,Aa=>Aa.getUTCDate()-1);Xc.range;const kd=ra(Aa=>{Aa.setUTCHours(0,0,0,0)},(Aa,Oa)=>{Aa.setUTCDate(Aa.getUTCDate()+Oa)},(Aa,Oa)=>(Oa-Aa)/864E5,Aa=>Math.floor(Aa/864E5));kd.range;const qd=fa(0),xd=fa(1),nd=fa(2),Id=fa(3),me=fa(4),Oe=fa(5),Ie=fa(6);qd.range;xd.range;nd.range;Id.range;me.range;
Oe.range;Ie.range;const Je=za(0),tf=za(1),bf=za(2),E=za(3),aa=za(4),Fa=za(5),fb=za(6);Je.range;tf.range;bf.range;E.range;aa.range;Fa.range;fb.range;const Gb=ra(Aa=>{Aa.setMonth(0,1);Aa.setHours(0,0,0,0)},(Aa,Oa)=>{Aa.setFullYear(Aa.getFullYear()+Oa)},(Aa,Oa)=>Oa.getFullYear()-Aa.getFullYear(),Aa=>Aa.getFullYear());Gb.every=Aa=>isFinite(Aa=Math.floor(Aa))&&0<Aa?ra(Oa=>{Oa.setFullYear(Math.floor(Oa.getFullYear()/Aa)*Aa);Oa.setMonth(0,1);Oa.setHours(0,0,0,0)},(Oa,cc)=>{Oa.setFullYear(Oa.getFullYear()+
cc*Aa)}):null;Gb.range;const qc=ra(Aa=>{Aa.setUTCMonth(0,1);Aa.setUTCHours(0,0,0,0)},(Aa,Oa)=>{Aa.setUTCFullYear(Aa.getUTCFullYear()+Oa)},(Aa,Oa)=>Oa.getUTCFullYear()-Aa.getUTCFullYear(),Aa=>Aa.getUTCFullYear());qc.every=Aa=>isFinite(Aa=Math.floor(Aa))&&0<Aa?ra(Oa=>{Oa.setUTCFullYear(Math.floor(Oa.getUTCFullYear()/Aa)*Aa);Oa.setUTCMonth(0,1);Oa.setUTCHours(0,0,0,0)},(Oa,cc)=>{Oa.setUTCFullYear(Oa.getUTCFullYear()+cc*Aa)}):null;qc.range;var Ib={"-":"",_:" ",0:"0"},Oc=/^\s*\d+/,od=/^%/,$c=/[\\^$*+?|[\]().{}]/g,
Nc,Nd,ce,Kd,Jd;(function(Aa){Nc=ib(Aa);Nd=Nc.format;ce=Nc.parse;Kd=Nc.utcFormat;Jd=Nc.utcParse;return Nc})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});let $d;vd();
u.defaultLocale=Cd;u.locale=function(Aa,Oa){Aa=Aa?hb(Aa):ec();Oa=Oa?pd(Oa):fd();return ia.extend({},Aa,Oa)};u.numberFormatDefaultLocale=ec;u.numberFormatLocale=hb;u.resetDefaultLocale=function(){xb();vd();return Cd()};u.resetNumberFormatDefaultLocale=xb;u.resetTimeFormatDefaultLocale=vd;u.timeFormatDefaultLocale=fd;u.timeFormatLocale=pd})};
shadow$provide[25]=function(Eb,ob,Dc,Wa){function u(zb){var Yb=zb.length;if(0<Yb%4)throw Error("Invalid string. Length must be a multiple of 4");zb=zb.indexOf("\x3d");-1===zb&&(zb=Yb);return[zb,zb===Yb?0:4-zb%4]}Wa.byteLength=function(zb){zb=u(zb);var Yb=zb[1];return 3*(zb[0]+Yb)/4-Yb};Wa.toByteArray=function(zb){var Yb=u(zb);var ac=Yb[0];Yb=Yb[1];var Xb=new ab(3*(ac+Yb)/4-Yb),mc=0,Cb=0<Yb?ac-4:ac,Vb;for(Vb=0;Vb<Cb;Vb+=4)ac=ia[zb.charCodeAt(Vb)]<<18|ia[zb.charCodeAt(Vb+1)]<<12|ia[zb.charCodeAt(Vb+
2)]<<6|ia[zb.charCodeAt(Vb+3)],Xb[mc++]=ac>>16&255,Xb[mc++]=ac>>8&255,Xb[mc++]=ac&255;2===Yb&&(ac=ia[zb.charCodeAt(Vb)]<<2|ia[zb.charCodeAt(Vb+1)]>>4,Xb[mc++]=ac&255);1===Yb&&(ac=ia[zb.charCodeAt(Vb)]<<10|ia[zb.charCodeAt(Vb+1)]<<4|ia[zb.charCodeAt(Vb+2)]>>2,Xb[mc++]=ac>>8&255,Xb[mc++]=ac&255);return Xb};Wa.fromByteArray=function(zb){for(var Yb=zb.length,ac=Yb%3,Xb=[],mc=0,Cb=Yb-ac;mc<Cb;mc+=16383){for(var Vb=Xb,jc=Vb.push,Ba,Za=zb,wb=mc+16383>Cb?Cb:mc+16383,ub=[],sb=mc;sb<wb;sb+=3)Ba=(Za[sb]<<16&
16711680)+(Za[sb+1]<<8&65280)+(Za[sb+2]&255),ub.push(h[Ba>>18&63]+h[Ba>>12&63]+h[Ba>>6&63]+h[Ba&63]);Ba=ub.join("");jc.call(Vb,Ba)}1===ac?(zb=zb[Yb-1],Xb.push(h[zb>>2]+h[zb<<4&63]+"\x3d\x3d")):2===ac&&(zb=(zb[Yb-2]<<8)+zb[Yb-1],Xb.push(h[zb>>10]+h[zb>>4&63]+h[zb<<2&63]+"\x3d"));return Xb.join("")};var h=[],ia=[],ab="undefined"!==typeof Uint8Array?Uint8Array:Array;for(Eb=0;64>Eb;++Eb)h[Eb]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Eb],ia["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(Eb)]=
Eb;ia[45]=62;ia[95]=63};
shadow$provide[26]=function(Eb,ob,Dc,Wa){Wa.read=function(u,h,ia,ab,zb){var Yb=8*zb-ab-1;var ac=(1<<Yb)-1,Xb=ac>>1,mc=-7;zb=ia?zb-1:0;var Cb=ia?-1:1,Vb=u[h+zb];zb+=Cb;ia=Vb&(1<<-mc)-1;Vb>>=-mc;for(mc+=Yb;0<mc;ia=256*ia+u[h+zb],zb+=Cb,mc-=8);Yb=ia&(1<<-mc)-1;ia>>=-mc;for(mc+=ab;0<mc;Yb=256*Yb+u[h+zb],zb+=Cb,mc-=8);if(0===ia)ia=1-Xb;else{if(ia===ac)return Yb?NaN:Infinity*(Vb?-1:1);Yb+=Math.pow(2,ab);ia-=Xb}return(Vb?-1:1)*Yb*Math.pow(2,ia-ab)};Wa.write=function(u,h,ia,ab,zb,Yb){var ac,Xb=8*Yb-zb-1,
mc=(1<<Xb)-1,Cb=mc>>1,Vb=23===zb?Math.pow(2,-24)-Math.pow(2,-77):0;Yb=ab?0:Yb-1;var jc=ab?1:-1,Ba=0>h||0===h&&0>1/h?1:0;h=Math.abs(h);isNaN(h)||Infinity===h?(h=isNaN(h)?1:0,ab=mc):(ab=Math.floor(Math.log(h)/Math.LN2),1>h*(ac=Math.pow(2,-ab))&&(ab--,ac*=2),h=1<=ab+Cb?h+Vb/ac:h+Vb*Math.pow(2,1-Cb),2<=h*ac&&(ab++,ac/=2),ab+Cb>=mc?(h=0,ab=mc):1<=ab+Cb?(h=(h*ac-1)*Math.pow(2,zb),ab+=Cb):(h=h*Math.pow(2,Cb-1)*Math.pow(2,zb),ab=0));for(;8<=zb;u[ia+Yb]=h&255,Yb+=jc,h/=256,zb-=8);ab=ab<<zb|h;for(Xb+=zb;0<
Xb;u[ia+Yb]=ab&255,Yb+=jc,ab/=256,Xb-=8);u[ia+Yb-jc]|=128*Ba}};
shadow$provide[27]=function(Eb,ob,Dc,Wa){function u(m){if(2147483647<m)throw new RangeError('The value "'+m+'" is invalid for option "size"');m=new Uint8Array(m);Object.setPrototypeOf(m,h.prototype);return m}function h(m,D,L){if("number"===typeof m){if("string"===typeof D)throw new TypeError('The "string" argument must be of type string. Received type number');return zb(m)}return ia(m,D,L)}function ia(m,D,L){if("string"===typeof m){var w=D;if("string"!==typeof w||""===w)w="utf8";if(!h.isEncoding(w))throw new TypeError("Unknown encoding: "+
w);D=Cb(m,w)|0;L=u(D);m=L.write(m,w);m!==D&&(L=L.slice(0,m));return L}if(ArrayBuffer.isView(m))return eb(m,Uint8Array)?(m=new Uint8Array(m),m=ac(m.buffer,m.byteOffset,m.byteLength)):m=Yb(m),m;if(null==m)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m);if(eb(m,ArrayBuffer)||m&&eb(m.buffer,ArrayBuffer)||"undefined"!==typeof SharedArrayBuffer&&(eb(m,SharedArrayBuffer)||m&&eb(m.buffer,SharedArrayBuffer)))return ac(m,
D,L);if("number"===typeof m)throw new TypeError('The "value" argument must not be of type number. Received type number');w=m.valueOf&&m.valueOf();if(null!=w&&w!==m)return h.from(w,D,L);if(w=Xb(m))return w;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof m[Symbol.toPrimitive])return h.from(m[Symbol.toPrimitive]("string"),D,L);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m);}
function ab(m){if("number"!==typeof m)throw new TypeError('"size" argument must be of type number');if(0>m)throw new RangeError('The value "'+m+'" is invalid for option "size"');}function zb(m){ab(m);return u(0>m?0:mc(m)|0)}function Yb(m){const D=0>m.length?0:mc(m.length)|0,L=u(D);for(let w=0;w<D;w+=1)L[w]=m[w]&255;return L}function ac(m,D,L){if(0>D||m.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(m.byteLength<D+(L||0))throw new RangeError('"length" is outside of buffer bounds');
m=void 0===D&&void 0===L?new Uint8Array(m):void 0===L?new Uint8Array(m,D):new Uint8Array(m,D,L);Object.setPrototypeOf(m,h.prototype);return m}function Xb(m){if(h.isBuffer(m)){var D=mc(m.length)|0;const L=u(D);if(0===L.length)return L;m.copy(L,0,0,D);return L}if(void 0!==m.length)return(D="number"!==typeof m.length)||(D=m.length,D=D!==D),D?u(0):Yb(m);if("Buffer"===m.type&&Array.isArray(m.data))return Yb(m.data)}function mc(m){if(2147483647<=m)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+
(2147483647).toString(16)+" bytes");return m|0}function Cb(m,D){if(h.isBuffer(m))return m.length;if(ArrayBuffer.isView(m)||eb(m,ArrayBuffer))return m.byteLength;if("string"!==typeof m)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof m);const L=m.length,w=2<arguments.length&&!0===arguments[2];if(!w&&0===L)return 0;let P=!1;for(;;)switch(D){case "ascii":case "latin1":case "binary":return L;case "utf8":case "utf-8":return bb(m).length;
case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*L;case "hex":return L>>>1;case "base64":return tb(m).length;default:if(P)return w?-1:bb(m).length;D=(""+D).toLowerCase();P=!0}}function Vb(m,D,L){let w=!1;if(void 0===D||0>D)D=0;if(D>this.length)return"";if(void 0===L||L>this.length)L=this.length;if(0>=L)return"";L>>>=0;D>>>=0;if(L<=D)return"";for(m||(m="utf8");;)switch(m){case "hex":m=D;D=this.length;if(!m||0>m)m=0;if(!L||0>L||L>D)L=D;for(D="";m<L;++m)D+=pa[this[m]];return D;case "utf8":case "utf-8":return wb(this,
D,L);case "ascii":m=D;D="";for(L=Math.min(this.length,L);m<L;++m)D+=String.fromCharCode(this[m]&127);return D;case "latin1":case "binary":m=D;D="";for(L=Math.min(this.length,L);m<L;++m)D+=String.fromCharCode(this[m]);return D;case "base64":return m=D,L=0===m&&L===this.length?ca.fromByteArray(this):ca.fromByteArray(this.slice(m,L)),L;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":L=this.slice(D,L);m="";for(D=0;D<L.length-1;D+=2)m+=String.fromCharCode(L[D]+256*L[D+1]);return m;default:if(w)throw new TypeError("Unknown encoding: "+
m);m=(m+"").toLowerCase();w=!0}}function jc(m,D,L){const w=m[D];m[D]=m[L];m[L]=w}function Ba(m,D,L,w,P){if(0===m.length)return-1;"string"===typeof L?(w=L,L=0):2147483647<L?L=2147483647:-2147483648>L&&(L=-2147483648);L=+L;L!==L&&(L=P?0:m.length-1);0>L&&(L=m.length+L);if(L>=m.length){if(P)return-1;L=m.length-1}else if(0>L)if(P)L=0;else return-1;"string"===typeof D&&(D=h.from(D,w));if(h.isBuffer(D))return 0===D.length?-1:Za(m,D,L,w,P);if("number"===typeof D)return D&=255,"function"===typeof Uint8Array.prototype.indexOf?
P?Uint8Array.prototype.indexOf.call(m,D,L):Uint8Array.prototype.lastIndexOf.call(m,D,L):Za(m,[D],L,w,P);throw new TypeError("val must be string, number or Buffer");}function Za(m,D,L,w,P){function A(z,F){return 1===V?z[F]:z.readUInt16BE(F*V)}let V=1;var G=m.length;let x=D.length;if(void 0!==w&&(w=String(w).toLowerCase(),"ucs2"===w||"ucs-2"===w||"utf16le"===w||"utf-16le"===w)){if(2>m.length||2>D.length)return-1;V=2;G/=2;x/=2;L/=2}if(P)for(w=-1;L<G;L++)if(A(m,L)===A(D,-1===w?0:L-w)){if(-1===w&&(w=L),
L-w+1===x)return w*V}else-1!==w&&(L-=L-w),w=-1;else for(L+x>G&&(L=G-x);0<=L;L--){G=!0;for(w=0;w<x;w++)if(A(m,L+w)!==A(D,w)){G=!1;break}if(G)return L}return-1}function wb(m,D,L){L=Math.min(m.length,L);for(var w=[];D<L;){var P=m[D];let A=null,V=239<P?4:223<P?3:191<P?2:1;if(D+V<=L){let G,x,z;switch(V){case 1:128>P&&(A=P);break;case 2:G=m[D+1];128===(G&192)&&(P=(P&31)<<6|G&63,127<P&&(A=P));break;case 3:G=m[D+1];x=m[D+2];128===(G&192)&&128===(x&192)&&(P=(P&15)<<12|(G&63)<<6|x&63,2047<P&&(55296>P||57343<
P)&&(A=P));break;case 4:G=m[D+1],x=m[D+2],z=m[D+3],128===(G&192)&&128===(x&192)&&128===(z&192)&&(P=(P&15)<<18|(G&63)<<12|(x&63)<<6|z&63,65535<P&&1114112>P&&(A=P))}}null===A?(A=65533,V=1):65535<A&&(A-=65536,w.push(A>>>10&1023|55296),A=56320|A&1023);w.push(A);D+=V}D=w.length;if(4096>=D)w=String.fromCharCode.apply(String,w);else{m="";for(L=0;L<D;)m+=String.fromCharCode.apply(String,w.slice(L,L+=4096));w=m}return w}function ub(m,D,L){if(0!==m%1||0>m)throw new RangeError("offset is not uint");if(m+D>L)throw new RangeError("Trying to access beyond buffer length");
}function sb(m,D,L,w,P,A){if(!h.isBuffer(m))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>P||D<A)throw new RangeError('"value" argument is out of bounds');if(L+w>m.length)throw new RangeError("Index out of range");}function xb(m,D,L,w,P){Xa(D,w,P,m,L,7);w=Number(D&BigInt(4294967295));m[L++]=w;w>>=8;m[L++]=w;w>>=8;m[L++]=w;m[L++]=w>>8;D=Number(D>>BigInt(32)&BigInt(4294967295));m[L++]=D;D>>=8;m[L++]=D;D>>=8;m[L++]=D;m[L++]=D>>8;return L}function hb(m,D,L,w,P){Xa(D,w,P,m,L,
7);w=Number(D&BigInt(4294967295));m[L+7]=w;w>>=8;m[L+6]=w;w>>=8;m[L+5]=w;m[L+4]=w>>8;D=Number(D>>BigInt(32)&BigInt(4294967295));m[L+3]=D;D>>=8;m[L+2]=D;D>>=8;m[L+1]=D;m[L]=D>>8;return L+8}function ec(m,D,L,w,P,A){if(L+w>m.length)throw new RangeError("Index out of range");if(0>L)throw new RangeError("Index out of range");}function ra(m,D,L,w,P){D=+D;L>>>=0;P||ec(m,D,L,4,3.4028234663852886E38,-3.4028234663852886E38);ha.write(m,D,L,w,23,4);return L+4}function fa(m,D,L,w,P){D=+D;L>>>=0;P||ec(m,D,L,8,
1.7976931348623157E308,-1.7976931348623157E308);ha.write(m,D,L,w,52,8);return L+8}function za(m,D,L){La[m]=class extends L{constructor(){super();Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0});this.name=`${this.name} [${m}]`;this.stack;delete this.name}get code(){return m}set code(w){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:w,writable:!0})}toString(){return`${this.name} [${m}]: ${this.message}`}}}function Ra(m){let D=
"",L=m.length;const w="-"===m[0]?1:0;for(;L>=w+4;L-=3)D=`_${m.slice(L-3,L)}${D}`;return`${m.slice(0,L)}${D}`}function Xa(m,D,L,w,P,A){if(m>L||m<D)throw w="bigint"===typeof D?"n":"",new La.ERR_OUT_OF_RANGE("value",3<A?0===D||D===BigInt(0)?`>= 0${w} and < 2${w} ** ${8*(A+1)}${w}`:`>= -(2${w} ** ${8*(A+1)-1}${w}) and < 2 ** `+`${8*(A+1)-1}${w}`:`>= ${D}${w} and <= ${L}${w}`,m);Ia(P,"offset");void 0!==w[P]&&void 0!==w[P+A]||ib(P,w.length-(A+1))}function Ia(m,D){if("number"!==typeof m)throw new La.ERR_INVALID_ARG_TYPE(D,
"number",m);}function ib(m,D,L){if(Math.floor(m)!==m)throw Ia(m,L),new La.ERR_OUT_OF_RANGE(L||"offset","an integer",m);if(0>D)throw new La.ERR_BUFFER_OUT_OF_BOUNDS;throw new La.ERR_OUT_OF_RANGE(L||"offset",`>= ${L?1:0} and <= ${D}`,m);}function bb(m,D){D=D||Infinity;let L;const w=m.length;let P=null;const A=[];for(let V=0;V<w;++V){L=m.charCodeAt(V);if(55295<L&&57344>L){if(!P){if(56319<L){-1<(D-=3)&&A.push(239,191,189);continue}else if(V+1===w){-1<(D-=3)&&A.push(239,191,189);continue}P=L;continue}if(56320>
L){-1<(D-=3)&&A.push(239,191,189);P=L;continue}L=(P-55296<<10|L-56320)+65536}else P&&-1<(D-=3)&&A.push(239,191,189);P=null;if(128>L){if(0>--D)break;A.push(L)}else if(2048>L){if(0>(D-=2))break;A.push(L>>6|192,L&63|128)}else if(65536>L){if(0>(D-=3))break;A.push(L>>12|224,L>>6&63|128,L&63|128)}else if(1114112>L){if(0>(D-=4))break;A.push(L>>18|240,L>>12&63|128,L>>6&63|128,L&63|128)}else throw Error("Invalid code point");}return A}function tb(m){var D=ca,L=D.toByteArray;m=m.split("\x3d")[0];m=m.trim().replace(oa,
"");if(2>m.length)m="";else for(;0!==m.length%4;)m+="\x3d";return L.call(D,m)}function Qb(m,D,L,w){let P;for(P=0;P<w&&!(P+L>=D.length||P>=m.length);++P)D[P+L]=m[P];return P}function eb(m,D){return m instanceof D||null!=m&&null!=m.constructor&&null!=m.constructor.name&&m.constructor.name===D.name}function T(m){return"undefined"===typeof BigInt?Z:m}function Z(){throw Error("BigInt not supported");}const ca=ob(25),ha=ob(26);Eb="function"===typeof Symbol&&"function"===typeof Symbol["for"]?Symbol["for"]("nodejs.util.inspect.custom"):
null;Wa.Buffer=h;Wa.SlowBuffer=function(m){+m!=m&&(m=0);return h.alloc(+m)};Wa.INSPECT_MAX_BYTES=50;Wa.kMaxLength=2147483647;h.TYPED_ARRAY_SUPPORT=function(){try{const m=new Uint8Array(1),D={foo:function(){return 42}};Object.setPrototypeOf(D,Uint8Array.prototype);Object.setPrototypeOf(m,D);return 42===m.foo()}catch(m){return!1}}();h.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");
Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}});Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});h.poolSize=8192;h.from=function(m,D,L){return ia(m,D,L)};Object.setPrototypeOf(h.prototype,Uint8Array.prototype);Object.setPrototypeOf(h,Uint8Array);h.alloc=function(m,D,L){ab(m);m=0>=m?u(m):void 0!==D?"string"===typeof L?u(m).fill(D,L):u(m).fill(D):u(m);return m};h.allocUnsafe=
function(m){return zb(m)};h.allocUnsafeSlow=function(m){return zb(m)};h.isBuffer=function(m){return null!=m&&!0===m._isBuffer&&m!==h.prototype};h.compare=function(m,D){eb(m,Uint8Array)&&(m=h.from(m,m.offset,m.byteLength));eb(D,Uint8Array)&&(D=h.from(D,D.offset,D.byteLength));if(!h.isBuffer(m)||!h.isBuffer(D))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===D)return 0;let L=m.length,w=D.length;for(let P=0,A=Math.min(L,w);P<A;++P)if(m[P]!==D[P]){L=
m[P];w=D[P];break}return L<w?-1:w<L?1:0};h.isEncoding=function(m){switch(String(m).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};h.concat=function(m,D){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(0===m.length)return h.alloc(0);let L;if(void 0===D)for(L=D=0;L<m.length;++L)D+=m[L].length;D=h.allocUnsafe(D);let w=
0;for(L=0;L<m.length;++L){let P=m[L];if(eb(P,Uint8Array))w+P.length>D.length?(h.isBuffer(P)||(P=h.from(P)),P.copy(D,w)):Uint8Array.prototype.set.call(D,P,w);else if(h.isBuffer(P))P.copy(D,w);else throw new TypeError('"list" argument must be an Array of Buffers');w+=P.length}return D};h.byteLength=Cb;h.prototype._isBuffer=!0;h.prototype.swap16=function(){const m=this.length;if(0!==m%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let D=0;D<m;D+=2)jc(this,D,D+1);return this};
h.prototype.swap32=function(){const m=this.length;if(0!==m%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let D=0;D<m;D+=4)jc(this,D,D+3),jc(this,D+1,D+2);return this};h.prototype.swap64=function(){const m=this.length;if(0!==m%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let D=0;D<m;D+=8)jc(this,D,D+7),jc(this,D+1,D+6),jc(this,D+2,D+5),jc(this,D+3,D+4);return this};h.prototype.toString=function(){const m=this.length;return 0===m?"":0===arguments.length?
wb(this,0,m):Vb.apply(this,arguments)};h.prototype.toLocaleString=h.prototype.toString;h.prototype.equals=function(m){if(!h.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m?!0:0===h.compare(this,m)};h.prototype.inspect=function(){let m;const D=Wa.INSPECT_MAX_BYTES;m=this.toString("hex",0,D).replace(/(.{2})/g,"$1 ").trim();this.length>D&&(m+=" ... ");return"\x3cBuffer "+m+"\x3e"};Eb&&(h.prototype[Eb]=h.prototype.inspect);h.prototype.compare=function(m,D,L,w,P){eb(m,Uint8Array)&&
(m=h.from(m,m.offset,m.byteLength));if(!h.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);void 0===D&&(D=0);void 0===L&&(L=m?m.length:0);void 0===w&&(w=0);void 0===P&&(P=this.length);if(0>D||L>m.length||0>w||P>this.length)throw new RangeError("out of range index");if(w>=P&&D>=L)return 0;if(w>=P)return-1;if(D>=L)return 1;D>>>=0;L>>>=0;w>>>=0;P>>>=0;if(this===m)return 0;let A=P-w,V=L-D;const G=Math.min(A,V);w=this.slice(w,P);
m=m.slice(D,L);for(D=0;D<G;++D)if(w[D]!==m[D]){A=w[D];V=m[D];break}return A<V?-1:V<A?1:0};h.prototype.includes=function(m,D,L){return-1!==this.indexOf(m,D,L)};h.prototype.indexOf=function(m,D,L){return Ba(this,m,D,L,!0)};h.prototype.lastIndexOf=function(m,D,L){return Ba(this,m,D,L,!1)};h.prototype.write=function(m,D,L,w){if(void 0===D)w="utf8",L=this.length,D=0;else if(void 0===L&&"string"===typeof D)w=D,L=this.length,D=0;else if(isFinite(D))D>>>=0,isFinite(L)?(L>>>=0,void 0===w&&(w="utf8")):(w=L,
L=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var P=this.length-D;if(void 0===L||L>P)L=P;if(0<m.length&&(0>L||0>D)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");w||(w="utf8");for(P=!1;;)switch(w){case "hex":a:{D=Number(D)||0;w=this.length-D;L?(L=Number(L),L>w&&(L=w)):L=w;w=m.length;L>w/2&&(L=w/2);for(w=0;w<L;++w){P=parseInt(m.substr(2*w,2),16);if(P!==P){m=w;break a}this[D+w]=P}m=w}return m;case "utf8":case "utf-8":return Qb(bb(m,
this.length-D),this,D,L);case "ascii":case "latin1":case "binary":w=[];for(P=0;P<m.length;++P)w.push(m.charCodeAt(P)&255);return Qb(w,this,D,L);case "base64":return Qb(tb(m),this,D,L);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":var A=void 0;w=this.length-D;const V=[];for(let G=0;G<m.length&&!(0>(w-=2));++G)A=m.charCodeAt(G),P=A>>8,A%=256,V.push(A),V.push(P);return Qb(V,this,D,L);default:if(P)throw new TypeError("Unknown encoding: "+w);w=(""+w).toLowerCase();P=!0}};h.prototype.toJSON=function(){return{type:"Buffer",
data:Array.prototype.slice.call(this._arr||this,0)}};h.prototype.slice=function(m,D){const L=this.length;m=~~m;D=void 0===D?L:~~D;0>m?(m+=L,0>m&&(m=0)):m>L&&(m=L);0>D?(D+=L,0>D&&(D=0)):D>L&&(D=L);D<m&&(D=m);m=this.subarray(m,D);Object.setPrototypeOf(m,h.prototype);return m};h.prototype.readUintLE=h.prototype.readUIntLE=function(m,D,L){m>>>=0;D>>>=0;L||ub(m,D,this.length);L=this[m];let w=1,P=0;for(;++P<D&&(w*=256);)L+=this[m+P]*w;return L};h.prototype.readUintBE=h.prototype.readUIntBE=function(m,D,
L){m>>>=0;D>>>=0;L||ub(m,D,this.length);L=this[m+--D];let w=1;for(;0<D&&(w*=256);)L+=this[m+--D]*w;return L};h.prototype.readUint8=h.prototype.readUInt8=function(m,D){m>>>=0;D||ub(m,1,this.length);return this[m]};h.prototype.readUint16LE=h.prototype.readUInt16LE=function(m,D){m>>>=0;D||ub(m,2,this.length);return this[m]|this[m+1]<<8};h.prototype.readUint16BE=h.prototype.readUInt16BE=function(m,D){m>>>=0;D||ub(m,2,this.length);return this[m]<<8|this[m+1]};h.prototype.readUint32LE=h.prototype.readUInt32LE=
function(m,D){m>>>=0;D||ub(m,4,this.length);return(this[m]|this[m+1]<<8|this[m+2]<<16)+16777216*this[m+3]};h.prototype.readUint32BE=h.prototype.readUInt32BE=function(m,D){m>>>=0;D||ub(m,4,this.length);return 16777216*this[m]+(this[m+1]<<16|this[m+2]<<8|this[m+3])};h.prototype.readBigUInt64LE=T(function(m){m>>>=0;Ia(m,"offset");var D=this[m];const L=this[m+7];void 0!==D&&void 0!==L||ib(m,this.length-8);D=D+this[++m]*Math.pow(2,8)+this[++m]*Math.pow(2,16)+this[++m]*Math.pow(2,24);m=this[++m]+this[++m]*
Math.pow(2,8)+this[++m]*Math.pow(2,16)+L*Math.pow(2,24);return BigInt(D)+(BigInt(m)<<BigInt(32))});h.prototype.readBigUInt64BE=T(function(m){m>>>=0;Ia(m,"offset");var D=this[m];const L=this[m+7];void 0!==D&&void 0!==L||ib(m,this.length-8);D=D*Math.pow(2,24)+this[++m]*Math.pow(2,16)+this[++m]*Math.pow(2,8)+this[++m];m=this[++m]*Math.pow(2,24)+this[++m]*Math.pow(2,16)+this[++m]*Math.pow(2,8)+L;return(BigInt(D)<<BigInt(32))+BigInt(m)});h.prototype.readIntLE=function(m,D,L){m>>>=0;D>>>=0;L||ub(m,D,this.length);
L=this[m];let w=1,P=0;for(;++P<D&&(w*=256);)L+=this[m+P]*w;L>=128*w&&(L-=Math.pow(2,8*D));return L};h.prototype.readIntBE=function(m,D,L){m>>>=0;D>>>=0;L||ub(m,D,this.length);L=D;let w=1,P=this[m+--L];for(;0<L&&(w*=256);)P+=this[m+--L]*w;P>=128*w&&(P-=Math.pow(2,8*D));return P};h.prototype.readInt8=function(m,D){m>>>=0;D||ub(m,1,this.length);return this[m]&128?-1*(255-this[m]+1):this[m]};h.prototype.readInt16LE=function(m,D){m>>>=0;D||ub(m,2,this.length);m=this[m]|this[m+1]<<8;return m&32768?m|4294901760:
m};h.prototype.readInt16BE=function(m,D){m>>>=0;D||ub(m,2,this.length);m=this[m+1]|this[m]<<8;return m&32768?m|4294901760:m};h.prototype.readInt32LE=function(m,D){m>>>=0;D||ub(m,4,this.length);return this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24};h.prototype.readInt32BE=function(m,D){m>>>=0;D||ub(m,4,this.length);return this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]};h.prototype.readBigInt64LE=T(function(m){m>>>=0;Ia(m,"offset");const D=this[m],L=this[m+7];void 0!==D&&void 0!==L||ib(m,this.length-
8);return(BigInt(this[m+4]+this[m+5]*Math.pow(2,8)+this[m+6]*Math.pow(2,16)+(L<<24))<<BigInt(32))+BigInt(D+this[++m]*Math.pow(2,8)+this[++m]*Math.pow(2,16)+this[++m]*Math.pow(2,24))});h.prototype.readBigInt64BE=T(function(m){m>>>=0;Ia(m,"offset");var D=this[m];const L=this[m+7];void 0!==D&&void 0!==L||ib(m,this.length-8);D=(D<<24)+this[++m]*Math.pow(2,16)+this[++m]*Math.pow(2,8)+this[++m];return(BigInt(D)<<BigInt(32))+BigInt(this[++m]*Math.pow(2,24)+this[++m]*Math.pow(2,16)+this[++m]*Math.pow(2,8)+
L)});h.prototype.readFloatLE=function(m,D){m>>>=0;D||ub(m,4,this.length);return ha.read(this,m,!0,23,4)};h.prototype.readFloatBE=function(m,D){m>>>=0;D||ub(m,4,this.length);return ha.read(this,m,!1,23,4)};h.prototype.readDoubleLE=function(m,D){m>>>=0;D||ub(m,8,this.length);return ha.read(this,m,!0,52,8)};h.prototype.readDoubleBE=function(m,D){m>>>=0;D||ub(m,8,this.length);return ha.read(this,m,!1,52,8)};h.prototype.writeUintLE=h.prototype.writeUIntLE=function(m,D,L,w){m=+m;D>>>=0;L>>>=0;w||sb(this,
m,D,L,Math.pow(2,8*L)-1,0);w=1;let P=0;for(this[D]=m&255;++P<L&&(w*=256);)this[D+P]=m/w&255;return D+L};h.prototype.writeUintBE=h.prototype.writeUIntBE=function(m,D,L,w){m=+m;D>>>=0;L>>>=0;w||sb(this,m,D,L,Math.pow(2,8*L)-1,0);w=L-1;let P=1;for(this[D+w]=m&255;0<=--w&&(P*=256);)this[D+w]=m/P&255;return D+L};h.prototype.writeUint8=h.prototype.writeUInt8=function(m,D,L){m=+m;D>>>=0;L||sb(this,m,D,1,255,0);this[D]=m&255;return D+1};h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(m,D,L){m=
+m;D>>>=0;L||sb(this,m,D,2,65535,0);this[D]=m&255;this[D+1]=m>>>8;return D+2};h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(m,D,L){m=+m;D>>>=0;L||sb(this,m,D,2,65535,0);this[D]=m>>>8;this[D+1]=m&255;return D+2};h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(m,D,L){m=+m;D>>>=0;L||sb(this,m,D,4,4294967295,0);this[D+3]=m>>>24;this[D+2]=m>>>16;this[D+1]=m>>>8;this[D]=m&255;return D+4};h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(m,D,L){m=+m;D>>>=0;L||sb(this,
m,D,4,4294967295,0);this[D]=m>>>24;this[D+1]=m>>>16;this[D+2]=m>>>8;this[D+3]=m&255;return D+4};h.prototype.writeBigUInt64LE=T(function(m,D=0){return xb(this,m,D,BigInt(0),BigInt("0xffffffffffffffff"))});h.prototype.writeBigUInt64BE=T(function(m,D=0){return hb(this,m,D,BigInt(0),BigInt("0xffffffffffffffff"))});h.prototype.writeIntLE=function(m,D,L,w){m=+m;D>>>=0;w||(w=Math.pow(2,8*L-1),sb(this,m,D,L,w-1,-w));w=0;let P=1,A=0;for(this[D]=m&255;++w<L&&(P*=256);)0>m&&0===A&&0!==this[D+w-1]&&(A=1),this[D+
w]=(m/P>>0)-A&255;return D+L};h.prototype.writeIntBE=function(m,D,L,w){m=+m;D>>>=0;w||(w=Math.pow(2,8*L-1),sb(this,m,D,L,w-1,-w));w=L-1;let P=1,A=0;for(this[D+w]=m&255;0<=--w&&(P*=256);)0>m&&0===A&&0!==this[D+w+1]&&(A=1),this[D+w]=(m/P>>0)-A&255;return D+L};h.prototype.writeInt8=function(m,D,L){m=+m;D>>>=0;L||sb(this,m,D,1,127,-128);0>m&&(m=255+m+1);this[D]=m&255;return D+1};h.prototype.writeInt16LE=function(m,D,L){m=+m;D>>>=0;L||sb(this,m,D,2,32767,-32768);this[D]=m&255;this[D+1]=m>>>8;return D+
2};h.prototype.writeInt16BE=function(m,D,L){m=+m;D>>>=0;L||sb(this,m,D,2,32767,-32768);this[D]=m>>>8;this[D+1]=m&255;return D+2};h.prototype.writeInt32LE=function(m,D,L){m=+m;D>>>=0;L||sb(this,m,D,4,2147483647,-2147483648);this[D]=m&255;this[D+1]=m>>>8;this[D+2]=m>>>16;this[D+3]=m>>>24;return D+4};h.prototype.writeInt32BE=function(m,D,L){m=+m;D>>>=0;L||sb(this,m,D,4,2147483647,-2147483648);0>m&&(m=4294967295+m+1);this[D]=m>>>24;this[D+1]=m>>>16;this[D+2]=m>>>8;this[D+3]=m&255;return D+4};h.prototype.writeBigInt64LE=
T(function(m,D=0){return xb(this,m,D,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});h.prototype.writeBigInt64BE=T(function(m,D=0){return hb(this,m,D,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});h.prototype.writeFloatLE=function(m,D,L){return ra(this,m,D,!0,L)};h.prototype.writeFloatBE=function(m,D,L){return ra(this,m,D,!1,L)};h.prototype.writeDoubleLE=function(m,D,L){return fa(this,m,D,!0,L)};h.prototype.writeDoubleBE=function(m,D,L){return fa(this,m,D,!1,L)};h.prototype.copy=
function(m,D,L,w){if(!h.isBuffer(m))throw new TypeError("argument should be a Buffer");L||(L=0);w||0===w||(w=this.length);D>=m.length&&(D=m.length);D||(D=0);0<w&&w<L&&(w=L);if(w===L||0===m.length||0===this.length)return 0;if(0>D)throw new RangeError("targetStart out of bounds");if(0>L||L>=this.length)throw new RangeError("Index out of range");if(0>w)throw new RangeError("sourceEnd out of bounds");w>this.length&&(w=this.length);m.length-D<w-L&&(w=m.length-D+L);const P=w-L;this===m&&"function"===typeof Uint8Array.prototype.copyWithin?
this.copyWithin(D,L,w):Uint8Array.prototype.set.call(m,this.subarray(L,w),D);return P};h.prototype.fill=function(m,D,L,w){if("string"===typeof m){"string"===typeof D?(w=D,D=0,L=this.length):"string"===typeof L&&(w=L,L=this.length);if(void 0!==w&&"string"!==typeof w)throw new TypeError("encoding must be a string");if("string"===typeof w&&!h.isEncoding(w))throw new TypeError("Unknown encoding: "+w);if(1===m.length){var P=m.charCodeAt(0);if("utf8"===w&&128>P||"latin1"===w)m=P}}else"number"===typeof m?
m&=255:"boolean"===typeof m&&(m=Number(m));if(0>D||this.length<D||this.length<L)throw new RangeError("Out of range index");if(L<=D)return this;D>>>=0;L=void 0===L?this.length:L>>>0;m||(m=0);if("number"===typeof m)for(w=D;w<L;++w)this[w]=m;else{P=h.isBuffer(m)?m:h.from(m,w);const A=P.length;if(0===A)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(w=0;w<L-D;++w)this[w+D]=P[w%A]}return this};const La={};za("ERR_BUFFER_OUT_OF_BOUNDS",function(m){return m?`${m} is outside of buffer bounds`:
"Attempt to access memory outside buffer bounds"},RangeError);za("ERR_INVALID_ARG_TYPE",function(m,D){return`The "${m}" argument must be of type number. Received type ${typeof D}`},TypeError);za("ERR_OUT_OF_RANGE",function(m,D,L){m=`The value of "${m}" is out of range.`;let w=L;if(Number.isInteger(L)&&Math.abs(L)>Math.pow(2,32))w=Ra(String(L));else if("bigint"===typeof L){w=String(L);if(L>Math.pow(BigInt(2),BigInt(32))||L<-Math.pow(BigInt(2),BigInt(32)))w=Ra(w);w+="n"}return m+` It must be ${D}. Received ${w}`},
RangeError);const oa=/[^+/0-9A-Za-z-_]/g,pa=function(){const m=Array(256);for(let D=0;16>D;++D){const L=16*D;for(let w=0;16>w;++w)m[L+w]="0123456789abcdef"[D]+"0123456789abcdef"[w]}return m}()};
shadow$provide[28]=function(Eb,ob,Dc,Wa){var u=ob(27).Buffer;(function(h,ia){"object"===typeof Wa&&"undefined"!==typeof Dc?ia(Wa,ob(21),ob(22),ob(24)):"function"===typeof define&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],ia):(h="undefined"!==typeof globalThis?globalThis:h||self,ia(h.vega={},h.vega,h.topojson,h.vega))})(this,function(h,ia,ab,zb){function Yb(oa,pa){const m=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const D=yield m.sanitize(oa,
pa),L=D.href;return D.localFile?m.file(L):m.http(L,pa)})}function ac(oa,pa){const m=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){pa=ia.extend({},m.options,pa);const D=m.fileAccess,L={href:null};var w;let P;var A=Ia.test(oa.replace(ib,""));null!=oa&&"string"===typeof oa&&A||ia.error("Sanitize failure, invalid URI: "+ia.stringValue(oa));A=Xa.test(oa);(w=pa.baseURL)&&!A&&(oa.startsWith("/")||w.endsWith("/")||(oa="/"+oa),oa=w+oa);P=(w=oa.startsWith("file://"))||"file"===pa.mode||
"http"!==pa.mode&&!A&&D;w?oa=oa.slice(7):oa.startsWith("//")&&("file"===pa.defaultProtocol?(oa=oa.slice(2),P=!0):oa=(pa.defaultProtocol||"http")+":"+oa);Object.defineProperty(L,"localFile",{value:!!P});L.href=oa;pa.target&&(L.target=pa.target+"");pa.rel&&(L.rel=pa.rel+"");"image"===pa.context&&pa.crossOrigin&&(L.crossOrigin=pa.crossOrigin+"");return L})}function Xb(oa){return oa?pa=>new Promise((m,D)=>{oa.readFile(pa,(L,w)=>{L?D(L):m(w)})}):mc}function mc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ia.error("No file system access.")})}
function Cb(oa){return oa?function(pa,m){const D=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var L=ia.extend({},D.options.http,m);const w=m&&m.response;L=yield oa(pa,L);return L.ok?ia.isFunction(L[w])?L[w]():L.text():ia.error(L.status+""+L.statusText)})}:Vb}function Vb(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ia.error("No HTTP fetch method available.")})}function jc(oa,pa){if(!oa||!oa.length)return"unknown";const m=oa.length,D=Qb.length,L=Qb.map((w,
P)=>P+1);for(let w=0,P=0,A,V;w<m;++w)for(V=pa?oa[w][pa]:oa[w],A=0;A<D;++A)if(L[A]&&null!=V&&V===V&&!Qb[A](V)&&(L[A]=0,++P,P===Qb.length))return"string";return eb[L.reduce((w,P)=>0===w?P:w,0)-1]}function Ba(oa,pa){return pa.reduce((m,D)=>{m[D]=jc(oa,D);return m},{})}function Za(oa){return new Function("d","return {"+oa.map(function(pa,m){return JSON.stringify(pa)+": d["+m+'] || ""'}).join(",")+"}")}function wb(oa,pa){var m=Za(oa);return function(D,L){return pa(m(D),L,oa)}}function ub(oa){var pa=Object.create(null),
m=[];oa.forEach(function(D){for(var L in D)L in pa||m.push(pa[L]=L)});return m}function sb(oa,pa){oa+="";var m=oa.length;return m<pa?Array(pa-m+1).join(0)+oa:oa}function xb(oa){function pa(A,V){function G(){if(N)return Z;if(la)return la=!1,T;var Ma,Pa=F,Ya;if(34===A.charCodeAt(Pa)){for(;F++<z&&34!==A.charCodeAt(F)||34===A.charCodeAt(++F););(Ma=F)>=z?N=!0:10===(Ya=A.charCodeAt(F++))?la=!0:13===Ya&&(la=!0,10===A.charCodeAt(F)&&++F);return A.slice(Pa+1,Ma-1).replace(/""/g,'"')}for(;F<z;){if(10===(Ya=
A.charCodeAt(Ma=F++)))la=!0;else if(13===Ya)la=!0,10===A.charCodeAt(F)&&++F;else if(Ya!==P)continue;return A.slice(Pa,Ma)}return N=!0,A.slice(Pa,z)}var x=[],z=A.length,F=0,U=0,sa,N=0>=z,la=!1;10===A.charCodeAt(z-1)&&--z;for(13===A.charCodeAt(z-1)&&--z;(sa=G())!==Z;){for(var wa=[];sa!==T&&sa!==Z;)wa.push(sa),sa=G();V&&null==(wa=V(wa,U++))||x.push(wa)}return x}function m(A,V){return A.map(function(G){return V.map(function(x){return L(G[x])}).join(oa)})}function D(A){return A.map(L).join(oa)}function L(A){if(null==
A)A="";else{if(A instanceof Date){var V=A.getUTCHours();var G=A.getUTCMinutes(),x=A.getUTCSeconds(),z=A.getUTCMilliseconds();if(isNaN(A))A="Invalid Date";else{var F=A.getUTCFullYear();A=(0>F?"-"+sb(-F,6):9999<F?"+"+sb(F,6):sb(F,4))+"-"+sb(A.getUTCMonth()+1,2)+"-"+sb(A.getUTCDate(),2)+(z?"T"+sb(V,2)+":"+sb(G,2)+":"+sb(x,2)+"."+sb(z,3)+"Z":x?"T"+sb(V,2)+":"+sb(G,2)+":"+sb(x,2)+"Z":G||V?"T"+sb(V,2)+":"+sb(G,2)+"Z":"")}V=A}else V=w.test(A+="")?'"'+A.replace(/"/g,'""')+'"':A;A=V}return A}var w=new RegExp('["'+
oa+"\n\r]"),P=oa.charCodeAt(0);return{parse:function(A,V){var G,x;A=pa(A,function(z,F){if(G)return G(z,F-1);x=z;G=V?wb(z,V):Za(z)});A.columns=x||[];return A},parseRows:pa,format:function(A,V){null==V&&(V=ub(A));return[V.map(L).join(oa)].concat(m(A,V)).join("\n")},formatBody:function(A,V){null==V&&(V=ub(A));return m(A,V).join("\n")},formatRows:function(A){return A.map(D).join("\n")},formatRow:D,formatValue:L}}function hb(oa){const pa=function(m,D){const L={delimiter:oa};return ec(m,D?ia.extend(D,L):
L)};pa.responseType="text";return pa}function ec(oa,pa){pa.header&&(oa=pa.header.map(ia.stringValue).join(pa.delimiter)+"\n"+oa);return xb(pa.delimiter).parse(oa+"")}function ra(oa,pa){const m=pa&&pa.property?ia.field(pa.property):ia.identity;var D;if(D=ia.isObject(oa))D=!("function"===typeof u&&ia.isFunction(u.isBuffer)&&u.isBuffer(oa));D?(oa=m(oa),!ia.isArray(oa)&&ia.isIterable(oa)&&(oa=[...oa]),pa=pa&&pa.copy?JSON.parse(JSON.stringify(oa)):oa):pa=m(JSON.parse(oa));return pa}function fa(oa,pa){let m,
D,L,w;oa=ra(oa,pa);pa&&pa.feature?(m=ab.feature,L=pa.feature):pa&&pa.mesh?(m=ab.mesh,L=pa.mesh,w=ca[pa.filter]):ia.error("Missing TopoJSON feature or mesh parameter.");return(D=(D=oa.objects[L])?m(oa,D,w):ia.error("Invalid TopoJSON object: "+L))&&D.features||[D]}function za(oa,pa){return 1<arguments.length?(ha[oa]=pa,this):ia.hasOwnProperty(ha,oa)?ha[oa]:null}function Ra(oa,pa,m,D){if(oa.length){var L=zb.timeFormatDefaultLocale();m=m||L.timeParse;D=D||L.utcParse;L=oa.columns||Object.keys(oa[0]);var w,
P;"auto"===pa&&(pa=Ba(oa,L));L=Object.keys(pa);var A=L.map(F=>{var U=pa[F];if(U&&(U.startsWith("date:")||U.startsWith("utc:"))){F=U.split(/:(.+)?/,2);U=F[1];if("'"===U[0]&&"'"===U[U.length-1]||'"'===U[0]&&'"'===U[U.length-1])U=U.slice(1,-1);return("utc"===F[0]?D:m)(U)}if(!tb[U])throw Error("Illegal format pattern: "+F+":"+U);return tb[U]});var V=0;var G=oa.length;for(P=L.length;V<G;++V){var x=oa[V];for(w=0;w<P;++w){var z=L[w];x[z]=A[w](x[z])}}}}const Xa=/^(data:|([A-Za-z]+:)?\/\/)/,Ia=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
ib=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,bb=oa=>!Number.isNaN(+oa)&&!(oa instanceof Date),tb={boolean:ia.toBoolean,integer:ia.toNumber,number:ia.toNumber,date:ia.toDate,string:ia.toString,unknown:ia.identity},Qb=[oa=>"true"===oa||"false"===oa||!0===oa||!1===oa,oa=>bb(oa)&&Number.isInteger(+oa),bb,oa=>!Number.isNaN(Date.parse(oa))],eb=["boolean","integer","number","date"];var T={},Z={};ec.responseType="text";ra.responseType="json";const ca={interior:(oa,pa)=>oa!==pa,exterior:(oa,
pa)=>oa===pa};fa.responseType="json";const ha={dsv:ec,csv:hb(","),tsv:hb("\t"),json:ra,topojson:fa},La=function(oa,pa){return m=>({options:m||{},sanitize:ac,load:Yb,fileAccess:!!pa,file:Xb(pa),http:Cb(oa)})}("undefined"!==typeof fetch&&fetch,null);h.format=ha;h.formats=za;h.inferType=jc;h.inferTypes=Ba;h.loader=La;h.read=function(oa,pa,m,D){pa=pa||{};const L=za(pa.type||"json");L||ia.error("Unknown data format type: "+pa.type);oa=L(oa,pa);pa.parse&&Ra(oa,pa.parse,m,D);ia.hasOwnProperty(oa,"columns")&&
delete oa.columns;return oa};h.responseType=function(oa){return(oa=za(oa))&&oa.responseType||"text"};h.typeParsers=tb})};
shadow$provide[29]=function(Eb,ob,Dc,Wa){(function(u,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,ob(21),ob(28),ob(24)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],h):(u="undefined"!==typeof globalThis?globalThis:u||self,h(u.vega={},u.vega,u.vega,u.vega))})(this,function(u,h,ia,ab){function zb(w){const P=w||h.identity,A=[],V={};A.add=G=>{const x=P(G);V[x]||(V[x]=1,A.push(G));return A};A.remove=G=>{const x=P(G);V[x]&&(V[x]=0,G=A.indexOf(G),
0<=G&&A.splice(G,1));return A};return A}function Yb(w,P){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield P(w)}catch(A){w.error(A)}})}function ac(w){w=w===Object(w)?w:{data:w};if(!w[Z]){var P=ca++;w[Z]=P}return w}function Xb(w,P){for(const A in w)P[A]=w[A];return P}function mc(w){return w&&w.constructor===Cb}function Cb(){const w=[],P=[],A=[],V=[],G=[];let x=null,z=!1;return{constructor:Cb,insert(F){F=h.array(F);const U=F.length;for(let sa=0;sa<U;++sa)w.push(F[sa]);return this},
remove(F){const U=h.isFunction(F)?V:P;F=h.array(F);const sa=F.length;for(let N=0;N<sa;++N)U.push(F[N]);return this},modify(F,U,sa){U={field:U,value:h.constant(sa)};h.isFunction(F)?(U.filter=F,G.push(U)):(U.tuple=F,A.push(U));return this},encode(F,U){h.isFunction(F)?G.push({filter:F,field:U}):A.push({tuple:F,field:U});return this},clean(F){x=F;return this},reflow(){z=!0;return this},pulse(F,U){function sa(Ub,W,Ea){Ea?Ub[W]=Ea(Ub):F.encode=W;z||(la[Ub[Z]]=Ub)}const N={},la={};let wa,Ma,Pa,Ya,vb,jb;
wa=0;for(Ma=U.length;wa<Ma;++wa)N[U[wa][Z]]=1;wa=0;for(Ma=P.length;wa<Ma;++wa)vb=P[wa],N[vb[Z]]=-1;wa=0;for(Ma=V.length;wa<Ma;++wa)Ya=V[wa],U.forEach(Ub=>{Ya(Ub)&&(N[Ub[Z]]=-1)});wa=0;for(Ma=w.length;wa<Ma;++wa)vb=w[wa],jb=vb[Z],N[jb]?N[jb]=1:F.add.push(ac(w[wa]));wa=0;for(Ma=U.length;wa<Ma;++wa)vb=U[wa],0>N[vb[Z]]&&F.rem.push(vb);wa=0;for(Ma=A.length;wa<Ma;++wa)Pa=A[wa],vb=Pa.tuple,Ya=Pa.field,jb=N[vb[Z]],0<jb&&(sa(vb,Ya,Pa.value),F.modifies(Ya));wa=0;for(Ma=G.length;wa<Ma;++wa)Pa=G[wa],Ya=Pa.filter,
U.forEach(Ub=>{Ya(Ub)&&0<N[Ub[Z]]&&sa(Ub,Pa.field,Pa.value)}),F.modifies(Pa.field);if(z)F.mod=P.length||V.length?U.filter(Ub=>0<N[Ub[Z]]):U.slice();else for(jb in la)F.mod.push(la[jb]);(x||null==x&&(P.length||V.length))&&F.clean(!0);return F}}}function Vb(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function jc(w,P,A,V){this.id=++ha;this.value=w;this.qrank=this.rank=this.stamp=-1;this.flags=0;P&&(this._update=P);A&&this.parameters(A,V)}function Ba(w){return function(P){const A=this.flags;
if(0===arguments.length)return!!(A&w);this.flags=P?A|w:A&~w;return this}}function Za(w,P,A){this.id=++oa;this.value=null;A&&(this.receive=A);w&&(this._filter=w);P&&(this._apply=P)}function wb(w,P,A){return new Za(w,P,A)}function ub(w){let P;const A=new Promise(V=>P=V);A.requests=0;A.done=()=>{0===--A.requests&&(w._pending=null,P(w))};return w._pending=A}function sb(w,P,A,V,G,x){const z=h.extend({},x,pa);let F;h.isFunction(A)||(A=h.constant(A));void 0===V?G=U=>w.touch(A(U)):h.isFunction(V)?(F=new jc(null,
V,G,!1),G=U=>{F.evaluate(U);U=A(U);const sa=F.value;mc(sa)?w.pulse(U,sa,x):w.update(U,sa,z)}):G=U=>w.update(A(U),V,z);P.apply(G)}function xb(w,P,A,V,G,x){void 0===V?P.targets().add(A):(x=x||{},V=new jc(null,hb(A,V),G,!1),V.modified(x.force),V.rank=P.rank,P.targets().add(V),A&&(V.skip(!0),V.value=A.value,V.targets().add(A),w.connect(A,[V])))}function hb(w,P){P=h.isFunction(P)?P:h.constant(P);return w?function(A,V){A=P(A,V);w.skip()||(w.skip(A!==this.value).value=A);return A}:P}function ec(w,P,A){this.dataflow=
w;this.stamp=null==P?-1:P;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=A||null}function ra(w,P){const A=[];h.visitArray(w,P,V=>A.push(V));return A}function fa(w,P){const A={};w.visit(P,V=>{A[V[Z]]=1});return V=>A[V[Z]]?null:V}function za(w,P){return w?(A,V)=>w(A,V)&&P(A,V):P}function Ra(w,P,A,V){let G=0;this.dataflow=w;this.stamp=P;this.fields=null;this.encode=V||null;this.pulses=A;for(const x of A)if(x.stamp===P){if(x.fields){w=this.fields||(this.fields={});for(const z in x.fields)w[z]=
1}x.changed(this.ADD)&&(G|=this.ADD);x.changed(this.REM)&&(G|=this.REM);x.changed(this.MOD)&&(G|=this.MOD)}this.changes=G}function Xa(w){w.error("Dataflow already running. Use runAsync() to chain invocations.");return w}function Ia(w,P){if(P&&P.stamp===w.stamp)return P;w=w.fork();P&&P!==m&&(w.source=P.source);return w}function ib(w){let P=[];return{clear:()=>P=[],size:()=>P.length,peek:()=>P[0],push:A=>{P.push(A);return bb(P,0,P.length-1,w)},pop:()=>{var A=P.pop();let V;if(P.length){V=P[0];P[0]=A;
A=P;var G=0;const x=G,z=A.length,F=A[G];let U=(G<<1)+1,sa;for(;U<z;)sa=U+1,sa<z&&0<=w(A[U],A[sa])&&(U=sa),A[G]=A[U],G=U,U=(G<<1)+1;A[G]=F;bb(A,x,G,w)}else V=A;return V}}}function bb(w,P,A,V){let G,x;const z=w[A];for(;A>P;)if(x=A-1>>1,G=w[x],0>V(z,G))w[A]=G,A=x;else break;return w[A]=z}function tb(){this.logger(h.logger());this.logLevel(h.Error);this._rank=this._clock=0;this._locale=ab.defaultLocale();try{this._loader=ia.loader()}catch(w){}this._touched=zb(h.id);this._input={};this._pulse=null;this._heap=
ib((w,P)=>w.qrank-P.qrank);this._postrun=[]}function Qb(w){return function(){return this._log[w].apply(this,arguments)}}function eb(w,P){jc.call(this,w,null,P)}function T(w){w=w&&w.toLowerCase();return h.hasOwnProperty(L,w)?L[w]:null}const Z=Symbol("vega_id");let ca=1;Vb.prototype={set(w,P,A,V){const G=this[w],x=this["_:mod:_"];if(null!=P&&0<=P){if(G[P]!==A||V)G[P]=A,x[P+":"+w]=-1,x[w]=-1}else if(G!==A||V)this[w]=A,x[w]=h.isArray(A)?1+A.length:-1;return this},modified(w,P){const A=this["_:mod:_"];
if(!arguments.length){for(var V in A)if(A[V])return!0;return!1}if(h.isArray(w)){for(V=0;V<w.length;++V)if(A[w[V]])return!0;return!1}return null!=P&&0<=P?P+1<A[w]||!!A[P+":"+w]:!!A[w]},clear(){this["_:mod:_"]={};return this}};let ha=0;const La=new Vb;jc.prototype={targets(){return this._targets||(this._targets=zb(h.id))},set(w){return this.value!==w?(this.value=w,1):0},skip:Ba(1),modified:Ba(2),parameters(w,P,A){P=!1!==P;const V=this._argval=this._argval||new Vb,G=this._argops=this._argops||[],x=[];
let z,F,U,sa;const N=(la,wa,Ma)=>{Ma instanceof jc?(Ma!==this&&(P&&Ma.targets().add(this),x.push(Ma)),G.push({op:Ma,name:la,index:wa})):V.set(la,wa,Ma)};for(z in w)if(F=w[z],"pulse"===z)h.array(F).forEach(la=>{la instanceof jc?la!==this&&(la.targets().add(this),x.push(la)):h.error("Pulse parameters must be operator instances.")}),this.source=F;else if(h.isArray(F))for(V.set(z,-1,Array(U=F.length)),sa=0;sa<U;++sa)N(z,sa,F[sa]);else N(z,-1,F);this.marshall().clear();A&&(G.initonly=!0);return x},marshall(w){const P=
this._argval||La,A=this._argops;let V,G,x,z;if(A){const F=A.length;for(G=0;G<F;++G)V=A[G],x=V.op,z=x.modified()&&x.stamp===w,P.set(V.name,V.index,x.value,z);if(A.initonly){for(G=0;G<F;++G)V=A[G],V.op.targets().remove(this);this._update=this._argops=null}}return P},detach(){const w=this._argops;let P,A;if(w)for(P=0,A=w.length;P<A;++P){var V=w[P];V=V.op;V._targets&&V._targets.remove(this)}this.source=this.pulse=null},evaluate(w){var P=this._update;if(P){const A=this.marshall(w.stamp);P=P.call(this,
A,w);A.clear();if(P!==this.value)this.value=P;else if(!this.modified())return w.StopPropagation}},run(w){if(w.stamp<this.stamp)return w.StopPropagation;let P;this.skip()?(this.skip(!1),P=0):P=this.evaluate(w);return this.pulse=P||w}};let oa=0;Za.prototype={_filter:h.truthy,_apply:h.identity,targets(){return this._targets||(this._targets=zb(h.id))},consume(w){if(!arguments.length)return!!this._consume;this._consume=!!w;return this},receive(w){if(this._filter(w)){const P=this.value=this._apply(w),A=
this._targets,V=A?A.length:0;for(let G=0;G<V;++G)A[G].receive(P);this._consume&&(w.preventDefault(),w.stopPropagation())}},filter(w){w=wb(w);this.targets().add(w);return w},apply(w){w=wb(null,w);this.targets().add(w);return w},merge(){const w=wb();this.targets().add(w);for(let P=0,A=arguments.length;P<A;++P)arguments[P].targets().add(w);return w},throttle(w){let P=-1;return this.filter(()=>{const A=Date.now();return A-P>w?(P=A,1):0})},debounce(w){const P=wb();this.targets().add(wb(null,null,h.debounce(w,
A=>{const V=A.dataflow;P.receive(A);V&&V.run&&V.run()})));return P},between(w,P){let A=!1;w.targets().add(wb(null,null,()=>A=!0));P.targets().add(wb(null,null,()=>A=!1));return this.filter(()=>A)},detach(){this._filter=h.truthy;this._targets=null}};const pa={skip:!0},m={};ec.prototype={StopPropagation:m,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(w){return(new ec(this.dataflow)).init(this,w)},clone(){const w=this.fork(7);w.add=w.add.slice();w.rem=
w.rem.slice();w.mod=w.mod.slice();w.source&&(w.source=w.source.slice());return w.materialize(23)},addAll(){let w=this;w.source&&w.add!==w.rem&&(w.rem.length||w.source.length!==w.add.length)&&(w=(new ec(this.dataflow)).init(this),w.add=w.source,w.rem=[]);return w},init(w,P){this.stamp=w.stamp;this.encode=w.encode;!w.fields||P&64||(this.fields=w.fields);P&1?(this.addF=w.addF,this.add=w.add):(this.addF=null,this.add=[]);P&2?(this.remF=w.remF,this.rem=w.rem):(this.remF=null,this.rem=[]);P&4?(this.modF=
w.modF,this.mod=w.mod):(this.modF=null,this.mod=[]);P&32?this.source=this.srcF=null:(this.srcF=w.srcF,this.source=w.source,w.cleans&&(this.cleans=w.cleans));return this},runAfter(w){this.dataflow.runAfter(w)},changed(w){w=w||7;return w&1&&this.add.length||w&2&&this.rem.length||w&4&&this.mod.length},reflow(w){if(w)return this.fork(7).reflow();w=this.add.length;const P=this.source&&this.source.length;P&&P!==w&&(this.mod=this.source,w&&this.filter(4,fa(this,1)));return this},clean(w){return arguments.length?
(this.cleans=!!w,this):this.cleans},modifies(w){const P=this.fields||(this.fields={});h.isArray(w)?w.forEach(A=>P[A]=!0):P[w]=!0;return this},modified(w,P){const A=this.fields;return(P||this.mod.length)&&A?arguments.length?h.isArray(w)?w.some(V=>A[V]):A[w]:!!A:!1},filter(w,P){w&1&&(this.addF=za(this.addF,P));w&2&&(this.remF=za(this.remF,P));w&4&&(this.modF=za(this.modF,P));w&16&&(this.srcF=za(this.srcF,P));return this},materialize(w){w=w||7;w&1&&this.addF&&(this.add=ra(this.add,this.addF),this.addF=
null);w&2&&this.remF&&(this.rem=ra(this.rem,this.remF),this.remF=null);w&4&&this.modF&&(this.mod=ra(this.mod,this.modF),this.modF=null);w&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(w,P){if(w&16)return h.visitArray(this.source,this.srcF,P),this;w&1&&h.visitArray(this.add,this.addF,P);w&2&&h.visitArray(this.rem,this.remF,P);w&4&&h.visitArray(this.mod,this.modF,P);const A=this.source;w&8&&A&&(w=this.add.length+this.mod.length,w!==A.length&&(w?h.visitArray(A,
fa(this,5),P):h.visitArray(A,this.srcF,P)));return this}};h.inherits(Ra,ec,{fork(w){const P=(new ec(this.dataflow)).init(this,w&this.NO_FIELDS);void 0!==w&&(w&P.ADD&&this.visit(P.ADD,A=>P.add.push(A)),w&P.REM&&this.visit(P.REM,A=>P.rem.push(A)),w&P.MOD&&this.visit(P.MOD,A=>P.mod.push(A)));return P},changed(w){return this.changes&w},modified(w){const P=this.fields;return P&&this.changes&this.MOD?h.isArray(w)?w.some(A=>P[A]):P[w]:0},filter(){h.error("MultiPulse does not support filtering.")},materialize(){h.error("MultiPulse does not support materialization.")},
visit(w,P){const A=this.pulses,V=A.length;let G=0;if(w&this.SOURCE)for(;G<V;++G)A[G].visit(w,P);else for(;G<V;++G)A[G].stamp===this.stamp&&A[G].visit(w,P);return this}});const D={skip:!1,force:!1};tb.prototype={stamp(){return this._clock},loader(w){return arguments.length?(this._loader=w,this):this._loader},locale(w){return arguments.length?(this._locale=w,this):this._locale},logger(w){return arguments.length?(this._log=w,this):this._log},error:Qb("error"),warn:Qb("warn"),info:Qb("info"),debug:Qb("debug"),
logLevel:Qb("level"),cleanThreshold:1E4,add:function(w,P,A,V){let G=1;w instanceof jc||(w&&w.prototype instanceof jc?w=new w:h.isFunction(w)?w=new jc(null,w):(G=0,w=new jc(w,P)));this.rank(w);G&&(V=A,A=P);A&&this.connect(w,w.parameters(A,V));this.touch(w);return w},connect:function(w,P){const A=w.rank,V=P.length;for(let G=0;G<V;++G)if(A<P[G].rank){this.rerank(w);break}},rank:function(w){w.rank=++this._rank},rerank:function(w){const P=[w];let A,V,G;for(;P.length;)if(this.rank(A=P.pop()),V=A._targets)for(G=
V.length;0<=--G;)P.push(A=V[G]),A===w&&h.error("Cycle detected in dataflow graph.")},pulse:function(w,P,A){this.touch(w,A||D);A=new ec(this,this._clock+(this._pulse?0:1));const V=w.pulse&&w.pulse.source||[];A.target=w;this._input[w.id]=P.pulse(A,V);return this},touch:function(w,P){P=P||D;this._pulse?this._enqueue(w):this._touched.add(w);P.skip&&w.skip(!0);return this},update:function(w,P,A){A=A||D;(w.set(P)||A.force)&&this.touch(w,A);return this},changeset:Cb,ingest:function(w,P,A){P=this.parse(P,
A);return this.pulse(w,this.changeset().insert(P))},parse:function(w,P){const A=this.locale();return ia.read(w,P,A.timeParse,A.utcParse)},preload:function(w,P,A){const V=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const G=V._pending||ub(V);G.requests+=1;const x=yield V.request(P,A);V.pulse(w,V.changeset().remove(h.truthy).insert(x.data||[]));G.done();return x})},request:function(w,P){const A=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let V=0,G;try{G=
yield A.loader().load(w,{context:"dataflow",response:ia.responseType(P&&P.type)});try{G=A.parse(G,P)}catch(x){V=-2,A.warn("Data ingestion failed",w,x)}}catch(x){V=-1,A.warn("Loading failed",w,x)}return{data:G,status:V}})},events:function(w,P,A,V){const G=this,x=wb(A,V);A=function(z){z.dataflow=G;try{x.receive(z)}catch(F){G.error(F)}finally{G.run()}};w="string"===typeof w&&"undefined"!==typeof document?document.querySelectorAll(w):h.array(w);V=w.length;for(let z=0;z<V;++z)w[z].addEventListener(P,A);
return x},on:function(w,P,A,V,G){(w instanceof jc?xb:sb)(this,w,P,A,V,G);return this},evaluate:function(w,P,A){const V=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const G=[];if(V._pulse)return Xa(V);V._pending&&(yield V._pending);P&&(yield Yb(V,P));if(!V._touched.length)return V.debug("Dataflow invoked, but nothing to do."),V;var x=++V._clock;V._pulse=new ec(V,x,w);V._touched.forEach(N=>V._enqueue(N,!0));V._touched=zb(h.id);var z=0;let F,U,sa;try{for(;0<V._heap.size();)F=
V._heap.pop(),F.rank!==F.qrank?V._enqueue(F,!0):(U=F.run(V._getPulse(F,w)),U.then?U=yield U:U.async&&(G.push(U.async),U=m),U!==m&&F._targets&&F._targets.forEach(N=>V._enqueue(N)),++z)}catch(N){V._heap.clear(),sa=N}V._input={};V._pulse=null;V.debug(`Pulse ${x}: ${z} operators`);sa&&(V._postrun=[],V.error(sa));if(V._postrun.length)for(x=V._postrun.sort((N,la)=>la.priority-N.priority),V._postrun=[],z=0;z<x.length;++z)yield Yb(V,x[z].callback);A&&(yield Yb(V,A));G.length&&Promise.all(G).then(N=>V.runAsync(null,
()=>{N.forEach(la=>{try{la(V)}catch(wa){V.error(wa)}})}));return V})},run:function(w,P,A){return this._pulse?Xa(this):(this.evaluate(w,P,A),this)},runAsync:function(w,P,A){const V=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;V._running;)yield V._running;const G=()=>V._running=null;(V._running=V.evaluate(w,P,A)).then(G,G);return V._running})},runAfter:function(w,P,A){if(this._pulse||P)this._postrun.push({priority:A||0,callback:w});else try{w(this)}catch(V){this.error(V)}},
_enqueue:function(w,P){const A=w.stamp<this._clock;A&&(w.stamp=this._clock);if(A||P)w.qrank=w.rank,this._heap.push(w)},_getPulse:function(w,P){const A=w.source,V=this._clock;return A&&h.isArray(A)?new Ra(this,V,A.map(G=>G.pulse),P):this._input[w.id]||Ia(this._pulse,A&&A.pulse)}};h.inherits(eb,jc,{run(w){if(w.stamp<this.stamp)return w.StopPropagation;let P;this.skip()?this.skip(!1):P=this.evaluate(w);P=P||w;P.then?P=P.then(A=>this.pulse=A):P!==w.StopPropagation&&(this.pulse=P);return P},evaluate(w){const P=
this.marshall(w.stamp);w=this.transform(P,w);P.clear();return w},transform(){}});const L={};u.Dataflow=tb;u.EventStream=Za;u.MultiPulse=Ra;u.Operator=jc;u.Parameters=Vb;u.Pulse=ec;u.Transform=eb;u.UniqueList=zb;u.asyncCallback=Yb;u.changeset=Cb;u.definition=function(w){return(w=T(w))&&w.Definition||null};u.derive=function(w){return Xb(w,ac({}))};u.ingest=ac;u.isChangeSet=mc;u.isTuple=function(w){return!(!w||!w[Z])};u.rederive=Xb;u.replace=function(w,P){P[Z]=w[Z];return P};u.stableCompare=function(w,
P){return w?P?(A,V)=>w(A,V)||P(A)[Z]-P(V)[Z]:(A,V)=>w(A,V)||A[Z]-V[Z]:null};u.transform=T;u.transforms=L;u.tupleid=function(w){return w[Z]}})};
shadow$provide[30]=function(Eb,ob,Dc,Wa){(function(u,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa):"function"===typeof define&&define.amd?define(["exports"],h):(u="undefined"!==typeof globalThis?globalThis:u||self,h(u.vega={}))})(this,function(u){function*h(A,V){if(null==V)for(var G of A)null!=G&&""!==G&&(G=+G)>=G&&(yield G);else{G=-1;for(let x of A)x=V(x,++G,A),null!=x&&""!==x&&(x=+x)>=x&&(yield x)}}function ia(A,V){return null==A||null==V?NaN:A<V?-1:A>V?1:A>=V?0:NaN}function ab(A){return null===
A?NaN:+A}function*zb(A,V){if(void 0===V)for(var G of A)null!=G&&(G=+G)>=G&&(yield G);else{G=-1;for(let x of A)null!=(x=V(x,++G,A))&&(x=+x)>=x&&(yield x)}}function Yb(A=ia){if(A===ia)return ac;if("function"!==typeof A)throw new TypeError("compare is not a function");return(V,G)=>{const x=A(V,G);return x||0===x?x:(0===A(G,G))-(0===A(V,V))}}function ac(A,V){return(null==A||!(A>=A))-(null==V||!(V>=V))||(A<V?-1:A>V?1:0)}function Xb(A,V){let G;if(void 0===V)for(var x of A)null!=x&&(G<x||void 0===G&&x>=
x)&&(G=x);else{x=-1;for(let z of A)null!=(z=V(z,++x,A))&&(G<z||void 0===G&&z>=z)&&(G=z)}return G}function mc(A,V){let G;if(void 0===V)for(var x of A)null!=x&&(G>x||void 0===G&&x>=x)&&(G=x);else{x=-1;for(let z of A)null!=(z=V(z,++x,A))&&(G>z||void 0===G&&z>=z)&&(G=z)}return G}function Cb(A,V,G=0,x=Infinity,z){V=Math.floor(V);G=Math.floor(Math.max(0,G));x=Math.floor(Math.min(A.length-1,x));if(!(G<=V&&V<=x))return A;for(z=void 0===z?ac:Yb(z);x>G;){if(600<x-G){var F=x-G+1,U=V-G+1,sa=Math.log(F),N=.5*
Math.exp(2*sa/3);sa=.5*Math.sqrt(sa*N*(F-N)/F)*(0>U-F/2?-1:1);Cb(A,V,Math.max(G,Math.floor(V-U*N/F+sa)),Math.min(x,Math.floor(V+(F-U)*N/F+sa)),z)}F=A[V];U=G;N=x;Vb(A,G,V);for(0<z(A[x],F)&&Vb(A,G,x);U<N;){Vb(A,U,N);++U;for(--N;0>z(A[U],F);)++U;for(;0<z(A[N],F);)--N}0===z(A[G],F)?Vb(A,G,N):(++N,Vb(A,N,x));N<=V&&(G=N+1);V<=N&&(x=N-1)}return A}function Vb(A,V,G){const x=A[V];A[V]=A[G];A[G]=x}function jc(A,V,G){A=Float64Array.from(zb(A,G));if((G=A.length)&&!isNaN(V=+V)){if(0>=V||2>G)return mc(A);if(1<=
V)return Xb(A);V*=G-1;G=Math.floor(V);var x=Xb(Cb(A,G).subarray(0,G+1));A=mc(A.subarray(G+1));return x+(A-x)*(V-G)}}function Ba(A,V,G=ab){if((x=A.length)&&!isNaN(V=+V)){if(0>=V||2>x)return+G(A[0],0,A);if(1<=V)return+G(A[x-1],x-1,A);var x;V*=x-1;x=Math.floor(V);var z=+G(A[x],x,A);A=+G(A[x+1],x+1,A);return z+(A-z)*(V-x)}}function Za(A,V,G){const x=Float64Array.from(h(A,G));x.sort(ia);return V.map(z=>Ba(x,z))}function wb(A,V){return Za(A,[.25,.5,.75],V)}function ub(A,V){const G=A.length;{var x=0;let F,
U=0,sa=0;if(void 0===V)for(var z of A)null!=z&&(z=+z)>=z&&(F=z-U,U+=F/++x,sa+=F*(z-U));else{z=-1;for(let N of A)null!=(N=V(N,++z,A))&&(N=+N)>=N&&(F=N-U,U+=F/++x,sa+=F*(N-U))}x=1<x?sa/(x-1):void 0}x=x?Math.sqrt(x):x;A=wb(A,V);return 1.06*(Math.min(x,(A[2]-A[0])/1.34)||x||Math.abs(A[0])||1)*Math.pow(G,-.2)}function sb(A,V){const G=A.length;let x=0,z=1,F,U;for(;A[x]===A[z];)++z;for(;z<G;){for(F=z+1;A[z]===A[F];)++F;if(A[z]-A[z-1]<V){for(U=z+(x+F-z-z>>1);U<z;)A[U++]=A[z];for(;U>z;)A[U--]=A[x]}x=z;z=F}return A}
function xb(A,V){A=A||0;V=null==V?1:V;let G,x;if(w===w)G=w,w=NaN;else{do{G=2*u.random()-1;x=2*u.random()-1;var z=G*G+x*x}while(0===z||1<z);z=Math.sqrt(-2*Math.log(z)/z);G*=z;w=x*z}return A+G*V}function hb(A,V,G){G=null==G?1:G;A=(A-(V||0))/G;return Math.exp(-.5*A*A)/(G*D)}function ec(A,V,G){A=(A-(V||0))/(null==G?1:G);V=Math.abs(A);37<V?G=0:(G=Math.exp(-V*V/2),7.07106781186547>V?(G*=(((((.0352624965998911*V+.700383064443688)*V+6.37396220353165)*V+33.912866078383)*V+112.079291497871)*V+221.213596169931)*
V+220.206867912376,G/=((((((.0883883476483184*V+1.75566716318264)*V+16.064177579207)*V+86.7807322029461)*V+296.564248779674)*V+637.333633378831)*V+793.826512519948)*V+440.413735824752):G=G/(V+1/(V+2/(V+3/(V+4/(V+.65)))))/2.506628274631);return 0<A?1-G:G}function ra(A,V,G){if(0>A||1<A)return NaN;A=2*A-1;var x=-Math.log((1-A)*(1+A));6.25>x?(x-=3.125,x=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+
(4.2347877827932404E-7+(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*x)*x)*x)*x)*x)*x)*x)*x)*x)*x)*x)*x)*x)*x)*x)*x)*x)*x)*x)*x)*x)*x):16>x?(x=Math.sqrt(x)-3.25,x=3.0838856104922208+(1.0052589676941592+
(.005370914553590064+(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*x)*x)*x)*x)*x)*x)*x)*x)*x)*x)*x)*x)*x)*x)*x)*x)*x)*x):Number.isFinite(x)?(x=Math.sqrt(x)-5,x=4.849906401408584+(1.0103004648645344+
(-1.3871931833623122E-4+(-2.1503011930044477E-4+(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*x)*x)*x)*x)*x)*x)*x)*x)*x)*x)*x)*x)*x)*x)*x)*x):x=Infinity;return(V||0)+(null==G?1:G)*L*x*A}function fa(A,V){let G,x;const z={mean(F){return arguments.length?(G=
F||0,z):G},stdev(F){return arguments.length?(x=null==F?1:F,z):x},sample:()=>xb(G,x),pdf:F=>hb(F,G,x),cdf:F=>ec(F,G,x),icdf:F=>ra(F,G,x)};return z.mean(A).stdev(V)}function za(A,V){V=null==V?1:V;return Math.exp((A||0)+xb()*V)}function Ra(A,V,G){if(0>=A)return 0;G=null==G?1:G;V=(Math.log(A)-(V||0))/G;return Math.exp(-.5*V*V)/(G*D*A)}function Xa(A,V,G){return ec(Math.log(A),V,G)}function Ia(A,V,G){return Math.exp(ra(A,V,G))}function ib(A,V){null==V&&(V=null==A?1:A,A=0);return A+(V-A)*u.random()}function bb(A,
V,G){null==G&&(G=null==V?1:V,V=0);return A>=V&&A<=G?1/(G-V):0}function tb(A,V,G){null==G&&(G=null==V?1:V,V=0);return A<V?0:A>G?1:(A-V)/(G-V)}function Qb(A,V,G){null==G&&(G=null==V?1:V,V=0);return 0<=A&&1>=A?V+A*(G-V):NaN}function eb(A,V,G){let x=0,z=0;for(const F of A)A=G(F),null==V(F)||null==A||isNaN(A)||(x+=(A-x)/++z);return{coef:[x],predict:()=>x,rSquared:0}}function T(A,V,G,x){x-=A*A;G=1E-24>Math.abs(x)?0:(G-A*V)/x;return[V-G*A,G]}function Z(A,V,G,x){A=A.filter(Ma=>{let Pa=V(Ma);Ma=G(Ma);return null!=
Pa&&(Pa=+Pa)>=Pa&&null!=Ma&&(Ma=+Ma)>=Ma});x&&A.sort((Ma,Pa)=>V(Ma)-V(Pa));x=A.length;const z=new Float64Array(x),F=new Float64Array(x);let U=0,sa=0,N=0,la,wa;for(wa of A)z[U]=A=+V(wa),F[U]=la=+G(wa),++U,sa+=(A-sa)/U,N+=(la-N)/U;for(U=0;U<x;++U)z[U]-=sa,F[U]-=N;return[z,F,sa,N]}function ca(A,V,G,x){let z=-1,F;for(const U of A)A=V(U),F=G(U),null!=A&&(A=+A)>=A&&null!=F&&(F=+F)>=F&&x(A,F,++z)}function ha(A,V,G,x,z){let F=0,U=0;ca(A,V,G,(sa,N)=>{sa=N-z(sa);N-=x;F+=sa*sa;U+=N*N});return 1-F/U}function La(A,
V,G){let x=0,z=0,F=0,U=0,sa=0;ca(A,V,G,(wa,Ma)=>{++sa;x+=(wa-x)/sa;z+=(Ma-z)/sa;F+=(wa*Ma-F)/sa;U+=(wa*wa-U)/sa});const N=T(x,z,F,U),la=wa=>N[0]+N[1]*wa;return{coef:N,predict:la,rSquared:ha(A,V,G,z,la)}}function oa(A,V,G){const [x,z,F,U]=Z(A,V,G);var sa=x.length,N=0;let la=0;var wa=0;let Ma=0,Pa=0,Ya,vb,jb,Ub;for(Ya=0;Ya<sa;)vb=x[Ya],jb=z[Ya++],Ub=vb*vb,N+=(Ub-N)/Ya,la+=(Ub*vb-la)/Ya,wa+=(Ub*Ub-wa)/Ya,Ma+=(vb*jb-Ma)/Ya,Pa+=(Ub*jb-Pa)/Ya;sa=wa-N*N;wa=N*sa-la*la;const W=(Pa*N-Ma*la)/wa,Ea=(Ma*sa-Pa*
la)/wa,Mb=-W*N;N=oc=>{oc-=F;return W*oc*oc+Ea*oc+Mb+U};return{coef:[Mb-Ea*F+W*F*F+U,Ea-2*W*F,W],predict:N,rSquared:ha(A,V,G,U,N)}}function pa(A,V,G,x){const z=Array(A);let F,U,sa;for(F=0;F<A;++F)z[F]=0;for(F=A-1;0<=F;--F)for(U=V[F],sa=1,z[F]+=U,A=1;A<=F;++A)sa*=(F+1-A)/A,z[F-A]+=U*Math.pow(G,A)*sa;z[0]+=x;return z}function m(A){const V=A.length-1,G=[];let x,z,F,U,sa;for(x=0;x<V;++x){U=x;for(z=x+1;z<V;++z)Math.abs(A[x][z])>Math.abs(A[x][U])&&(U=z);for(F=x;F<V+1;++F)sa=A[F][x],A[F][x]=A[F][U],A[F][U]=
sa;for(z=x+1;z<V;++z)for(F=V;F>=x;F--)A[F][z]-=A[F][x]*A[x][z]/A[x][x]}for(z=V-1;0<=z;--z){sa=0;for(F=z+1;F<V;++F)sa+=A[F][z]*G[F];G[z]=(A[V][z]-sa)/A[z][z]}return G}u.random=Math.random;const D=Math.sqrt(2*Math.PI),L=Math.SQRT2;let w=NaN;const P=.5*Math.PI/180;u.bandwidthNRD=ub;u.bin=function(A){var V=A.maxbins||20;const G=A.base||10,x=Math.log(G),z=A.divide||[5,2];let F=A.extent[0],U=A.extent[1];let sa,N,la,wa;const Ma=A.span||U-F||Math.abs(F)||1;if(A.step)var Pa=A.step;else if(A.steps){N=Ma/V;
la=0;for(wa=A.steps.length;la<wa&&A.steps[la]<N;++la);Pa=A.steps[Math.max(0,la-1)]}else{Pa=Math.ceil(Math.log(V)/x);sa=A.minstep||0;for(Pa=Math.max(sa,Math.pow(G,Math.round(Math.log(Ma)/x)-Pa));Math.ceil(Ma/Pa)>V;)Pa*=G;la=0;for(wa=z.length;la<wa;++la)N=Pa/z[la],N>=sa&&Ma/N<=V&&(Pa=N)}N=Math.log(Pa);V=Math.pow(G,-(0<=N?0:~~(-N/x)+1)-1);if(A.nice||void 0===A.nice)N=Math.floor(F/Pa+V)*Pa,F=F<N?N-Pa:N,U=Math.ceil(U/Pa)*Pa;return{start:F,stop:U===F?F+Pa:U,step:Pa}};u.bootstrapCI=function(A,V,G,x){if(!A.length)return[void 0,
void 0];A=Float64Array.from(h(A,x));x=A.length;let z,F,U,sa;U=0;for(sa=Array(V);U<V;++U){for(F=z=0;F<x;++F)z+=A[~~(u.random()*x)];sa[U]=z/x}sa.sort(ia);return[jc(sa,G/2),jc(sa,1-G/2)]};u.cumulativeLogNormal=Xa;u.cumulativeNormal=ec;u.cumulativeUniform=tb;u.densityLogNormal=Ra;u.densityNormal=hb;u.densityUniform=bb;u.dotbin=function(A,V,G,x){x=x||(Pa=>Pa);const z=A.length,F=new Float64Array(z);let U=0,sa=1,N=x(A[0]),la=N,wa=N+V,Ma;for(;sa<z;++sa){Ma=x(A[sa]);if(Ma>=wa){for(la=(N+la)/2;U<sa;++U)F[U]=
la;wa=Ma+V;N=Ma}la=Ma}for(la=(N+la)/2;U<sa;++U)F[U]=la;return G?sb(F,V+V/4):F};u.quantileLogNormal=Ia;u.quantileNormal=ra;u.quantileUniform=Qb;u.quantiles=Za;u.quartiles=wb;u.randomInteger=function(A,V){null==V&&(V=A,A=0);let G,x,z;const F={min(U){return arguments.length?(G=U||0,z=x-G,F):G},max(U){return arguments.length?(x=U||0,z=x-G,F):x},sample(){return G+Math.floor(z*u.random())},pdf(U){return U===Math.floor(U)&&U>=G&&U<x?1/z:0},cdf(U){U=Math.floor(U);return U<G?0:U>=x?1:(U-G+1)/z},icdf(U){return 0<=
U&&1>=U?G-1+Math.floor(U*z):NaN}};return F.min(A).max(V)};u.randomKDE=function(A,V){const G=fa();let x=0;const z={data(F){return arguments.length?(x=(A=F)?F.length:0,z.bandwidth(V)):A},bandwidth(F){if(!arguments.length)return V;V=F;!V&&A&&(V=ub(A));return z},sample(){return A[~~(u.random()*x)]+V*G.sample()},pdf(F){let U=0,sa=0;for(;sa<x;++sa)U+=G.pdf((F-A[sa])/V);return U/V/x},cdf(F){let U=0,sa=0;for(;sa<x;++sa)U+=G.cdf((F-A[sa])/V);return U/x},icdf(){throw Error("KDE icdf not supported.");}};return z.data(A)};
u.randomLCG=function(A){return function(){A=(1103515245*A+12345)%2147483647;return A/2147483647}};u.randomLogNormal=function(A,V){let G,x;const z={mean(F){return arguments.length?(G=F||0,z):G},stdev(F){return arguments.length?(x=null==F?1:F,z):x},sample:()=>za(G,x),pdf:F=>Ra(F,G,x),cdf:F=>Xa(F,G,x),icdf:F=>Ia(F,G,x)};return z.mean(A).stdev(V)};u.randomMixture=function(A,V){let G=0,x;const z={weights(F){if(arguments.length){var U=V=F||[];const sa=[];let N=0,la;for(la=0;la<G;++la)N+=sa[la]=null==U[la]?
1:+U[la];for(la=0;la<G;++la)sa[la]/=N;x=sa;return z}return V},distributions(F){return arguments.length?(F?(G=F.length,A=F):(G=0,A=[]),z.weights(V)):A},sample(){const F=u.random();let U=A[G-1],sa=x[0],N=0;for(;N<G-1;sa+=x[++N])if(F<sa){U=A[N];break}return U.sample()},pdf(F){let U=0,sa=0;for(;sa<G;++sa)U+=x[sa]*A[sa].pdf(F);return U},cdf(F){let U=0,sa=0;for(;sa<G;++sa)U+=x[sa]*A[sa].cdf(F);return U},icdf(){throw Error("Mixture icdf not supported.");}};return z.distributions(A).weights(V)};u.randomNormal=
fa;u.randomUniform=function(A,V){let G,x;const z={min(F){return arguments.length?(G=F||0,z):G},max(F){return arguments.length?(x=null==F?1:F,z):x},sample:()=>ib(G,x),pdf:F=>bb(F,G,x),cdf:F=>tb(F,G,x),icdf:F=>Qb(F,G,x)};null==V&&(V=null==A?1:A,A=0);return z.min(A).max(V)};u.regressionConstant=eb;u.regressionExp=function(A,V,G){const [x,,z,F]=Z(A,V,G);let U=0,sa=0,N=0,la=0,wa=0,Ma,Pa,Ya;ca(A,V,G,(W,Ea)=>{Ma=x[wa++];Pa=Math.log(Ea);Ya=Ma*Ea;U+=(Ea*Pa-U)/wa;sa+=(Ya-sa)/wa;N+=(Ya*Pa-N)/wa;la+=(Ma*Ya-la)/
wa});const [vb,jb]=T(sa/F,U/F,N/F,la/F),Ub=W=>Math.exp(vb+jb*(W-z));return{coef:[Math.exp(vb-jb*z),jb],predict:Ub,rSquared:ha(A,V,G,F,Ub)}};u.regressionLinear=La;u.regressionLoess=function(A,V,G,x){const [z,F,U,sa]=Z(A,V,G,!0);A=z.length;V=Math.max(2,~~(x*A));x=new Float64Array(A);G=new Float64Array(A);var N=(new Float64Array(A)).fill(1);for(var la=-1;2>=++la;){var wa=[0,V-1];for(let Mb=0;Mb<A;++Mb){var Ma=z[Mb],Pa=wa[0],Ya=wa[1],vb=0,jb=0,Ub=0,W=0;let oc=0;const $b=1/Math.abs(z[Ma-z[Pa]>z[Ya]-Ma?
Pa:Ya]-Ma||1);for(;Pa<=Ya;++Pa){const xc=z[Pa],dd=F[Pa];var Ea=Math.abs(Ma-xc)*$b;const qa=(Ea=1-Ea*Ea*Ea)*Ea*Ea*N[Pa];Ea=xc*qa;vb+=qa;jb+=Ea;Ub+=dd*qa;W+=dd*Ea;oc+=xc*Ea}const [Nb,Rb]=T(jb/vb,Ub/vb,W/vb,oc/vb);x[Mb]=Nb+Rb*Ma;G[Mb]=Math.abs(F[Mb]-x[Mb]);Ma=z;Ya=Mb+1;vb=wa;jb=Ma[Ya];Ub=vb[0];W=vb[1]+1;if(!(W>=Ma.length))for(;Ya>Ub&&Ma[W]-jb<=jb-Ma[Ub];)vb[0]=++Ub,vb[1]=W,++W}if(2===la)break;wa=jc(G,.5,void 0);if(1E-12>Math.abs(wa))break;for(let Mb=0,oc,$b;Mb<A;++Mb)oc=G[Mb]/(6*wa),N[Mb]=1<=oc?1E-12:
($b=1-oc*oc)*$b}A=z.length;V=[];N=G=0;for(la=[];G<A;++G)wa=z[G]+U,la[0]===wa?la[1]+=(x[G]-la[1])/++N:(N=0,la[1]+=sa,la=[wa,x[G]],V.push(la));la[1]+=sa;return V};u.regressionLog=function(A,V,G){let x=0,z=0,F=0,U=0,sa=0;ca(A,V,G,(wa,Ma)=>{++sa;wa=Math.log(wa);x+=(wa-x)/sa;z+=(Ma-z)/sa;F+=(wa*Ma-F)/sa;U+=(wa*wa-U)/sa});const N=T(x,z,F,U),la=wa=>N[0]+N[1]*Math.log(wa);return{coef:N,predict:la,rSquared:ha(A,V,G,z,la)}};u.regressionPoly=function(A,V,G,x){if(0===x)return eb(A,V,G);if(1===x)return La(A,V,
G);if(2===x)return oa(A,V,G);const [z,F,U,sa]=Z(A,V,G);var N=z.length;const la=[],wa=[],Ma=x+1;let Pa,Ya,vb,jb;for(Pa=0;Pa<Ma;++Pa){for(vb=Ya=0;Ya<N;++Ya)vb+=Math.pow(z[Ya],Pa)*F[Ya];la.push(vb);jb=new Float64Array(Ma);for(x=0;x<Ma;++x){for(vb=Ya=0;Ya<N;++Ya)vb+=Math.pow(z[Ya],Pa+x);jb[x]=vb}wa.push(jb)}wa.push(la);const Ub=m(wa);N=W=>{W-=U;let Ea=sa+Ub[0]+Ub[1]*W+Ub[2]*W*W;for(Pa=3;Pa<Ma;++Pa)Ea+=Ub[Pa]*Math.pow(W,Pa);return Ea};return{coef:pa(Ma,Ub,-U,sa),predict:N,rSquared:ha(A,V,G,sa,N)}};u.regressionPow=
function(A,V,G){let x=0,z=0,F=0,U=0,sa=0,N=0;ca(A,V,G,(Ma,Pa)=>{Ma=Math.log(Ma);const Ya=Math.log(Pa);++N;x+=(Ma-x)/N;z+=(Ya-z)/N;F+=(Ma*Ya-F)/N;U+=(Ma*Ma-U)/N;sa+=(Pa-sa)/N});const la=T(x,z,F,U),wa=Ma=>la[0]*Math.pow(Ma,la[1]);la[0]=Math.exp(la[0]);return{coef:la,predict:wa,rSquared:ha(A,V,G,sa,wa)}};u.regressionQuad=oa;u.sampleCurve=function(A,V,G,x){G=G||25;x=Math.max(G,x||200);var z=V[0],F=V[1],U=F-z,sa=U/x;V=[[z,A(z)]];var N=[];if(G===x){for(var la=1;la<x;++la){sa=V;N=sa.push;var wa=z+la/G*U;
wa=[wa,A(wa)];N.call(sa,wa)}V.push([F,A(F)]);return V}N.push([F,A(F)]);for(la=G;0<--la;)x=N,F=x.push,wa=z+la/G*U,wa=[wa,A(wa)],F.call(x,wa);G=V[0];z=N[N.length-1];U=1/U;x=F=G[1];la=N.length;for(wa=0;wa<la;++wa){const Ma=N[wa][1];Ma<x&&(x=Ma);Ma>F&&(F=Ma)}for(x=1/(F-x);z;)F=(G[0]+z[0])/2,F=[F,A(F)],F[0]-G[0]>=sa&&Math.abs(Math.atan2(x*(z[1]-G[1]),U*(z[0]-G[0]))-Math.atan2(x*(F[1]-G[1]),U*(F[0]-G[0])))>P?N.push(F):(G=z,V.push(z),N.pop()),z=N[N.length-1];return V};u.sampleLogNormal=za;u.sampleNormal=
xb;u.sampleUniform=ib;u.setRandom=function(A){u.random=A}})};
shadow$provide[31]=function(Eb,ob,Dc,Wa){(function(u,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,ob(21),ob(29),ob(30),ob(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow","vega-statistics","vega-time"],h):(u="undefined"!==typeof globalThis?globalThis:u||self,h(u.vega={},u.vega,u.vega,u.vega,u.vega))})(this,function(u,h,ia,ab,zb){function Yb(y){return J=>{const va=y.length;let Ka=1,lb=String(y[0](J));for(;Ka<va;++Ka)lb+="|"+y[Ka](J);return lb}}function ac(y){return y&&
y.length?1===y.length?y[0]:Yb(y):function(){return""}}function Xb(y,J){return(va,Ka)=>h.extend({name:y,aggregate_param:Ka,out:va||y},Kb,J)}function mc(y,J){return y.idx-J.idx}function Cb(y){const J={};y.forEach(Ka=>J[Ka.name]=Ka);const va=Ka=>{Ka.req&&Ka.req.forEach(lb=>{J[lb]||va(J[lb]=Cc[lb]())})};y.forEach(va);return Object.values(J).sort(mc)}function Vb(){this.missing=this.valid=0;this._ops.forEach(y=>null==y.aggregate_param?y.init(this):y.init(this,y.aggregate_param))}function jc(y,J){null==
y||""===y?++this.missing:y===y&&(++this.valid,this._ops.forEach(va=>va.add(this,y,J)))}function Ba(y,J){null==y||""===y?--this.missing:y===y&&(--this.valid,this._ops.forEach(va=>va.rem(this,y,J)))}function Za(y){this._out.forEach(J=>y[J.out]=J.value(this));return y}function wb(y,J){function va(Bb){this._ops=Ka;this._out=lb;this.cell=Bb;this.init()}J=J||h.identity;const Ka=Cb(y),lb=y.slice().sort(mc);va.prototype.init=Vb;va.prototype.add=jc;va.prototype.rem=Ba;va.prototype.set=Za;va.prototype.get=
J;va.fields=y.map(Bb=>Bb.out);return va}function ub(y){this._key=y?h.field(y):ia.tupleid;this.reset()}function sb(y){ia.Transform.call(this,null,y);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function xb(y){ia.Transform.call(this,null,y)}function hb(y,J,va){let Ka=J||[],lb=va||[],Bb={},bc=0;return{add:Tb=>lb.push(Tb),remove:Tb=>Bb[y(Tb)]=++bc,
size:()=>Ka.length,data:(Tb,nc)=>{bc&&(Ka=Ka.filter(Jc=>!Bb[y(Jc)]),Bb={},bc=0);nc&&Tb&&Ka.sort(Tb);lb.length&&(Ka=Tb?h.merge(Tb,Ka,lb.sort(Tb)):Ka.concat(lb),lb=[]);return Ka}}}function ec(y){ia.Transform.call(this,[],y)}function ra(y){ia.Operator.call(this,null,fa,y)}function fa(y){return this.value&&!y.modified()?this.value:h.compare(y.fields,y.orders)}function za(y){ia.Transform.call(this,null,y)}function Ra(y){ia.Transform.call(this,null,y)}function Xa(y,J){var va=y["function"];h.hasOwnProperty(vd,
va)||h.error("Unknown distribution function: "+va);va=vd[va]();for(const Ka in y)if("field"===Ka)va.data((y.from||J()).map(y[Ka]));else if("distributions"===Ka)va[Ka](y[Ka].map(lb=>Xa(lb,J)));else if("function"===typeof va[Ka])va[Ka](y[Ka]);return va}function Ia(y){ia.Transform.call(this,null,y)}function ib(y){return()=>y.materialize(y.SOURCE).source}function bb(y,J){return y?y.map((va,Ka)=>J[Ka]||h.accessorName(va)):null}function tb(y,J,va){const Ka=[],lb=Xc=>Xc(nc);let Bb,bc,Tb,nc,Jc,Ac;if(null==
J)Ka.push(y.map(va));else for(Bb={},bc=0,Tb=y.length;bc<Tb;++bc)nc=y[bc],Jc=J.map(lb),Ac=Bb[Jc],Ac||(Bb[Jc]=Ac=[],Ac.dims=Jc,Ka.push(Ac)),Ac.push(va(nc));return Ka}function Qb(y){ia.Transform.call(this,null,y)}function eb(y){ia.Operator.call(this,null,T,y);this.modified(!0)}function T(y){const J=y.expr;return this.value&&!y.modified("expr")?this.value:h.accessor(va=>J(va,y),h.accessorFields(J),h.accessorName(J))}function Z(y){ia.Transform.call(this,[void 0,void 0],y)}function ca(y,J){ia.Operator.call(this,
y);this.parent=J;this.count=0}function ha(y){ia.Transform.call(this,{},y);this._keys=h.fastmap();const J=this._targets=[];J.active=0;J.forEach=va=>{for(let Ka=0,lb=J.active;Ka<lb;++Ka)va(J[Ka],Ka,J)}}function La(y){ia.Operator.call(this,null,oa,y)}function oa(y){return this.value&&!y.modified()?this.value:h.isArray(y.name)?h.array(y.name).map(J=>h.field(J)):h.field(y.name,y.as)}function pa(y){ia.Transform.call(this,h.fastmap(),y)}function m(y){ia.Transform.call(this,[],y)}function D(y){ia.Transform.call(this,
[],y)}function L(y){ia.Transform.call(this,null,y)}function w(y){ia.Transform.call(this,[],y)}function P(y,J){return null==y||null==J?NaN:y<J?-1:y>J?1:y>=J?0:NaN}function A(y,J){return null==y||null==J?NaN:J<y?-1:J>y?1:J>=y?0:NaN}function V(y){function J(Bb,bc,Tb=0,nc=Bb.length){if(Tb<nc){if(0!==va(bc,bc))return nc;do{const Jc=Tb+nc>>>1;0>Ka(Bb[Jc],bc)?Tb=Jc+1:nc=Jc}while(Tb<nc)}return Tb}let va,Ka,lb;2!==y.length?(va=P,Ka=(Bb,bc)=>P(y(Bb),bc),lb=(Bb,bc)=>y(Bb)-bc):(va=y===P||y===A?y:G,lb=Ka=y);return{left:J,
center:function(Bb,bc,Tb=0,nc=Bb.length){nc=J(Bb,bc,Tb,nc-1);return nc>Tb&&lb(Bb[nc-1],bc)>-lb(Bb[nc],bc)?nc-1:nc},right:function(Bb,bc,Tb=0,nc=Bb.length){if(Tb<nc){if(0!==va(bc,bc))return nc;do{const Jc=Tb+nc>>>1;0>=Ka(Bb[Jc],bc)?Tb=Jc+1:nc=Jc}while(Tb<nc)}return Tb}}}function G(){return 0}function*x(y,J){if(void 0===J)for(var va of y)null!=va&&(va=+va)>=va&&(yield va);else{va=-1;for(let Ka of y)null!=(Ka=J(Ka,++va,y))&&(Ka=+Ka)>=Ka&&(yield Ka)}}function z(y=P){if(y===P)return F;if("function"!==
typeof y)throw new TypeError("compare is not a function");return(J,va)=>{const Ka=y(J,va);return Ka||0===Ka?Ka:(0===y(va,va))-(0===y(J,J))}}function F(y,J){return(null==y||!(y>=y))-(null==J||!(J>=J))||(y<J?-1:y>J?1:0)}function U(y,J){let va;if(void 0===J)for(var Ka of y)null!=Ka&&(va<Ka||void 0===va&&Ka>=Ka)&&(va=Ka);else{Ka=-1;for(let lb of y)null!=(lb=J(lb,++Ka,y))&&(va<lb||void 0===va&&lb>=lb)&&(va=lb)}return va}function sa(y,J){let va;if(void 0===J)for(var Ka of y)null!=Ka&&(va>Ka||void 0===va&&
Ka>=Ka)&&(va=Ka);else{Ka=-1;for(let lb of y)null!=(lb=J(lb,++Ka,y))&&(va>lb||void 0===va&&lb>=lb)&&(va=lb)}return va}function N(y,J,va=0,Ka=Infinity,lb){J=Math.floor(J);va=Math.floor(Math.max(0,va));Ka=Math.floor(Math.min(y.length-1,Ka));if(!(va<=J&&J<=Ka))return y;for(lb=void 0===lb?F:z(lb);Ka>va;){if(600<Ka-va){var Bb=Ka-va+1,bc=J-va+1,Tb=Math.log(Bb),nc=.5*Math.exp(2*Tb/3);Tb=.5*Math.sqrt(Tb*nc*(Bb-nc)/Bb)*(0>bc-Bb/2?-1:1);N(y,J,Math.max(va,Math.floor(J-bc*nc/Bb+Tb)),Math.min(Ka,Math.floor(J+(Bb-
bc)*nc/Bb+Tb)),lb)}Bb=y[J];bc=va;nc=Ka;la(y,va,J);for(0<lb(y[Ka],Bb)&&la(y,va,Ka);bc<nc;){la(y,bc,nc);++bc;for(--nc;0>lb(y[bc],Bb);)++bc;for(;0<lb(y[nc],Bb);)--nc}0===lb(y[va],Bb)?la(y,va,nc):(++nc,la(y,nc,Ka));nc<=J&&(va=nc+1);J<=nc&&(Ka=nc-1)}return y}function la(y,J,va){const Ka=y[J];y[J]=y[va];y[va]=Ka}function wa(y,J,va){y=+y;J=+J;va=2>(lb=arguments.length)?(J=y,y=0,1):3>lb?1:+va;for(var Ka=-1,lb=Math.max(0,Math.ceil((J-y)/va))|0,Bb=Array(lb);++Ka<lb;)Bb[Ka]=y+Ka*va;return Bb}function Ma(y){ia.Transform.call(this,
[],y)}function Pa(y){var J=y.method||fd.value;if(null==fd[J])h.error("Unrecognized imputation method: "+J);else{if(J===fd.value){var va=void 0!==y.value?y.value:0;return()=>va}return fd[J]}}function Ya(y){const J=y.field;return va=>va?J(va):NaN}function vb(y,J,va,Ka){var lb=nd=>nd(Xc),Bb=[];Ka=Ka?Ka.slice():[];var bc={},Tb={},nc,Jc;Ka.forEach((nd,Id)=>bc[nd]=Id+1);var Ac=0;for(Jc=y.length;Ac<Jc;++Ac){var Xc=y[Ac];var kd=va(Xc);var qd=bc[kd]||(bc[kd]=Ka.push(kd));var xd=(kd=J?J.map(lb):Cd)+"";(nc=
Tb[xd])||(nc=Tb[xd]=[],Bb.push(nc),nc.values=kd);nc[qd-1]=Xc}Bb.domain=Ka;return Bb}function jb(y){sb.call(this,y)}function Ub(y){ia.Transform.call(this,null,y)}function W(y){ia.Operator.call(this,null,Ea,y)}function Ea(y){return this.value&&!y.modified()?this.value:h.key(y.fields,y.flat)}function Mb(y){ia.Transform.call(this,[],y);this._pending=null}function oc(y){return y.modified("async")&&!(y.modified("values")||y.modified("url")||y.modified("format"))}function $b(y,J,va){va.forEach(ia.ingest);
J=J.fork(J.NO_FIELDS&J.NO_SOURCE);J.rem=y.value;y.value=J.source=J.add=va;y._pending=null;J.rem.length&&J.clean(!0);return J}function Nb(y){ia.Transform.call(this,{},y)}function Rb(y){ia.Operator.call(this,null,xc,y)}function xc(y){if(this.value&&!y.modified())return this.value;y=y.extents;const J=y.length;let va=Infinity,Ka=-Infinity,lb,Bb;for(lb=0;lb<J;++lb)Bb=y[lb],Bb[0]<va&&(va=Bb[0]),Bb[1]>Ka&&(Ka=Bb[1]);return[va,Ka]}function dd(y){ia.Operator.call(this,null,qa,y)}function qa(y){return this.value&&
!y.modified()?this.value:y.values.reduce((J,va)=>J.concat(va),[])}function Db(y){ia.Transform.call(this,null,y)}function Ua(y){sb.call(this,y)}function yb(y,J){const va=y.field,Ka=y.value,lb=("count"===y.op?"__count__":y.op)||"sum",Bb=h.accessorFields(va).concat(h.accessorFields(Ka)),bc=Ob(va,y.limit||0,J);J.changed()&&y.set("__pivot__",null,null,!0);return{key:y.key,groupby:y.groupby,ops:bc.map(()=>lb),fields:bc.map(Tb=>Hb(Tb,va,Ka,Bb)),as:bc.map(Tb=>Tb+""),modified:y.modified.bind(y)}}function Hb(y,
J,va,Ka){return h.accessor(lb=>J(lb)===y?va(lb):NaN,Ka,y+"")}function Ob(y,J,va){const Ka={},lb=[];va.visit(va.SOURCE,Bb=>{Bb=y(Bb);Ka[Bb]||(Ka[Bb]=1,lb.push(Bb))});lb.sort(h.ascending);return J?lb.slice(0,J):lb}function Zb(y){ha.call(this,y)}function ic(y){ia.Transform.call(this,null,y)}function Bc(y){ia.Transform.call(this,null,y)}function jd(y){ia.Transform.call(this,null,y)}function Vc(y){ia.Transform.call(this,null,y)}function ma(y){ia.Transform.call(this,[],y);this.count=0}function Ha(y){ia.Transform.call(this,
null,y)}function gb(y){ia.Transform.call(this,null,y);this.modified(!0)}function Q(y){ia.Transform.call(this,null,y)}function t(y){ia.Transform.call(this,h.fastmap(),y)}function ba(y){ia.Transform.call(this,null,y)}function xa(y,J,va,Ka){const lb=rd[y](J,va);return{init:lb.init||h.zero,update:function(Bb,bc){bc[Ka]=lb.next(Bb)}}}function Da(y){function J(xd){h.array(h.accessorFields(xd)).forEach(nd=>Jc[nd]=1)}const va=h.array(y.ops),Ka=h.array(y.fields),lb=h.array(y.params),Bb=h.array(y.aggregate_params),
bc=h.array(y.as),Tb=this.outputs=[],nc=this.windows=[],Jc={},Ac={},Xc=[],kd=[];let qd=!0;J(y.sort);va.forEach((xd,nd)=>{const Id=Ka[nd];var me=lb[nd];const Oe=Bb[nd]||null,Ie=h.accessorName(Id);nd=bc[nd]||xd+(Ie?"_"+Ie:"");J(Id);Tb.push(nd);h.hasOwnProperty(rd,xd)?nc.push(xa(xd,Id,me,nd)):(null==Id&&"count"!==xd&&h.error("Null aggregate field specified."),"count"===xd?Xc.push(nd):(qd=!1,me=Ac[Ie],me||(me=Ac[Ie]=[],me.field=Id,kd.push(me)),me.push(Cc[xd](nd,Oe))))});if(Xc.length||kd.length)this.cell=
Sa(kd,Xc,qd);this.inputs=Object.keys(Jc)}function Sa(y,J,va){y=y.map(nc=>wb(nc,nc.field));const Ka={num:0,agg:null,store:!1,count:J};if(!va)for(var lb=y.length,Bb=Ka.agg=Array(lb),bc=0;bc<lb;++bc)Bb[bc]=new y[bc](Ka);if(Ka.store)var Tb=Ka.data=new ub;Ka.add=function(nc){Ka.num+=1;if(!va){Tb&&Tb.add(nc);for(let Jc=0;Jc<lb;++Jc)Bb[Jc].add(Bb[Jc].get(nc),nc)}};Ka.rem=function(nc){--Ka.num;if(!va){Tb&&Tb.rem(nc);for(let Jc=0;Jc<lb;++Jc)Bb[Jc].rem(Bb[Jc].get(nc),nc)}};Ka.set=function(nc){let Jc,Ac;Tb&&
Tb.values();Jc=0;for(Ac=J.length;Jc<Ac;++Jc)nc[J[Jc]]=Ka.num;if(!va)for(Jc=0,Ac=Bb.length;Jc<Ac;++Jc)Bb[Jc].set(nc)};Ka.init=function(){Ka.num=0;Tb&&Tb.reset();for(let nc=0;nc<lb;++nc)Bb[nc].init()};return Ka}function kb(y){ia.Transform.call(this,{},y);this._mlen=0;this._mods=[]}function Sb(y,J,va,Ka){var lb=Ka.sort;const Bb=lb&&!Ka.ignorePeers;Ka=Ka.frame||[null,0];y=y.data(va);va=y.length;const bc=Bb?V(lb):null;lb={i0:0,i1:0,p0:0,p1:0,index:0,data:y,compare:lb||h.constant(-1)};J.init();for(let Xc=
0;Xc<va;++Xc){var Tb=lb,nc=Ka,Jc=Xc,Ac=va;Tb.p0=Tb.i0;Tb.p1=Tb.i1;Tb.i0=null==nc[0]?0:Math.max(0,Jc-Math.abs(nc[0]));Tb.i1=null==nc[1]?Ac:Math.min(Ac,Jc+Math.abs(nc[1])+1);Tb.index=Jc;if(Bb){Tb=lb;nc=bc;Jc=Tb.i0;Ac=Tb.i1-1;const kd=Tb.compare,qd=Tb.data,xd=qd.length-1;0<Jc&&!kd(qd[Jc],qd[Jc-1])&&(Tb.i0=nc.left(qd,qd[Jc]));Ac<xd&&!kd(qd[Ac],qd[Ac+1])&&(Tb.i1=nc.right(qd,qd[Ac]))}J.update(lb,y[Xc])}}const Fb=()=>{},Kb={init:Fb,add:Fb,rem:Fb,idx:0},Cc={values:{init:y=>y.cell.store=!0,value:y=>y.cell.data.values(),
idx:-1},count:{value:y=>y.cell.num},__count__:{value:y=>y.missing+y.valid},missing:{value:y=>y.missing},valid:{value:y=>y.valid},sum:{init:y=>y.sum=0,value:y=>y.valid?y.sum:void 0,add:(y,J)=>y.sum+=+J,rem:(y,J)=>y.sum-=J},product:{init:y=>y.product=1,value:y=>y.valid?y.product:void 0,add:(y,J)=>y.product*=J,rem:(y,J)=>y.product/=J},mean:{init:y=>y.mean=0,value:y=>y.valid?y.mean:void 0,add:(y,J)=>(y.mean_d=J-y.mean,y.mean+=y.mean_d/y.valid),rem:(y,J)=>(y.mean_d=J-y.mean,y.mean-=y.valid?y.mean_d/y.valid:
y.mean)},average:{value:y=>y.valid?y.mean:void 0,req:["mean"],idx:1},variance:{init:y=>y.dev=0,value:y=>1<y.valid?y.dev/(y.valid-1):void 0,add:(y,J)=>y.dev+=y.mean_d*(J-y.mean),rem:(y,J)=>y.dev-=y.mean_d*(J-y.mean),req:["mean"],idx:1},variancep:{value:y=>1<y.valid?y.dev/y.valid:void 0,req:["variance"],idx:2},stdev:{value:y=>1<y.valid?Math.sqrt(y.dev/(y.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:y=>1<y.valid?Math.sqrt(y.dev/y.valid):void 0,req:["variance"],idx:2},stderr:{value:y=>1<y.valid?
Math.sqrt(y.dev/(y.valid*(y.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:y=>y.cell.data.distinct(y.get),req:["values"],idx:3},ci0:{value:y=>y.cell.data.ci0(y.get),req:["values"],idx:3},ci1:{value:y=>y.cell.data.ci1(y.get),req:["values"],idx:3},median:{value:y=>y.cell.data.q2(y.get),req:["values"],idx:3},q1:{value:y=>y.cell.data.q1(y.get),req:["values"],idx:3},q3:{value:y=>y.cell.data.q3(y.get),req:["values"],idx:3},min:{init:y=>y.min=void 0,value:y=>y.min=Number.isNaN(y.min)?y.cell.data.min(y.get):
y.min,add:(y,J)=>{if(J<y.min||void 0===y.min)y.min=J},rem:(y,J)=>{J<=y.min&&(y.min=NaN)},req:["values"],idx:4},max:{init:y=>y.max=void 0,value:y=>y.max=Number.isNaN(y.max)?y.cell.data.max(y.get):y.max,add:(y,J)=>{if(J>y.max||void 0===y.max)y.max=J},rem:(y,J)=>{J>=y.max&&(y.max=NaN)},req:["values"],idx:4},argmin:{init:y=>y.argmin=void 0,value:y=>y.argmin||y.cell.data.argmin(y.get),add:(y,J,va)=>{J<y.min&&(y.argmin=va)},rem:(y,J)=>{J<=y.min&&(y.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:y=>
y.argmax=void 0,value:y=>y.argmax||y.cell.data.argmax(y.get),add:(y,J,va)=>{J>y.max&&(y.argmax=va)},rem:(y,J)=>{J>=y.max&&(y.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(y,J)=>{y.exp=0;y.exp_r=J},value:y=>y.valid?y.exp*(1-y.exp_r)/(1-Math.pow(y.exp_r,y.valid)):void 0,add:(y,J)=>y.exp=y.exp_r*y.exp+J,rem:(y,J)=>y.exp=(y.exp-J/Math.pow(y.exp_r,y.valid-1))/y.exp_r},exponentialb:{value:y=>y.valid?y.exp*(1-y.exp_r):void 0,req:["exponential"],idx:1}},Ec=Object.keys(Cc).filter(y=>"__count__"!==
y);[...Ec,"__count__"].forEach(y=>{Cc[y]=Xb(y,Cc[y])});const Sc=ub.prototype;Sc.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};Sc.add=function(y){this._add.push(y)};Sc.rem=function(y){this._rem.push(y)};Sc.values=function(){this._get=null;if(0===this._rem.length)return this._add;const y=this._add;var J=this._rem;const va=this._key,Ka=y.length,lb=J.length,Bb=Array(Ka-lb),bc={};let Tb,nc;for(Tb=0;Tb<lb;++Tb)bc[va(J[Tb])]=1;for(J=Tb=0;Tb<Ka;++Tb)bc[va(nc=y[Tb])]?bc[va(nc)]=
0:Bb[J++]=nc;this._rem=[];return this._add=Bb};Sc.distinct=function(y){const J=this.values(),va={};let Ka=J.length,lb=0,Bb;for(;0<=--Ka;)Bb=y(J[Ka])+"",h.hasOwnProperty(va,Bb)||(va[Bb]=1,++lb);return lb};Sc.extent=function(y){if(this._get!==y||!this._ext){const J=this.values(),va=h.extentIndex(J,y);this._ext=[J[va[0]],J[va[1]]];this._get=y}return this._ext};Sc.argmin=function(y){return this.extent(y)[0]||{}};Sc.argmax=function(y){return this.extent(y)[1]||{}};Sc.min=function(y){const J=this.extent(y)[0];
return null!=J?y(J):void 0};Sc.max=function(y){const J=this.extent(y)[1];return null!=J?y(J):void 0};Sc.quartile=function(y){this._get===y&&this._q||(this._q=ab.quartiles(this.values(),y),this._get=y);return this._q};Sc.q1=function(y){return this.quartile(y)[0]};Sc.q2=function(y){return this.quartile(y)[1]};Sc.q3=function(y){return this.quartile(y)[2]};Sc.ci=function(y){this._get===y&&this._ci||(this._ci=ab.bootstrapCI(this.values(),1E3,.05,y),this._get=y);return this._ci};Sc.ci0=function(y){return this.ci(y)[0]};
Sc.ci1=function(y){return this.ci(y)[1]};sb.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Ec},{name:"aggregate_params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean","default":!1},{name:"key",type:"field"}]};h.inherits(sb,ia.Transform,{transform(y,
J){const va=this,Ka=J.fork(J.NO_SOURCE|J.NO_FIELDS),lb=y.modified();va.stamp=Ka.stamp;va.value&&(lb||J.modified(va._inputs,!0))?(va._prev=va.value,va.value=lb?va.init(y):Object.create(null),J.visit(J.SOURCE,Bb=>va.add(Bb))):(va.value=va.value||va.init(y),J.visit(J.REM,Bb=>va.rem(Bb)),J.visit(J.ADD,Bb=>va.add(Bb)));Ka.modifies(va._outputs);va._drop=!1!==y.drop;y.cross&&1<va._dims.length&&(va._drop=!1,va.cross());J.clean()&&va._drop&&Ka.clean(!0).runAfter(()=>this.clean());return va.changes(Ka)},cross(){function y(Tb){let nc,
Jc,Ac,Xc;for(nc in Tb)for(Ac=Tb[nc].tuple,Jc=0;Jc<bc;++Jc)Bb[Jc][Xc=Ac[lb[Jc]]]=Xc}function J(Tb,nc,Jc){const Ac=lb[Jc],Xc=Bb[Jc++];for(const kd in Xc){const qd=Tb?Tb+"|"+kd:kd;nc[Ac]=Xc[kd];Jc<bc?J(qd,nc,Jc):Ka[qd]||va.cell(qd,nc)}}const va=this,Ka=va.value,lb=va._dnames,Bb=lb.map(()=>({})),bc=lb.length;y(va._prev);y(Ka);J("",{},0)},init(y){function J(me){me=h.array(h.accessorFields(me));const Oe=me.length;let Ie=0,Je;for(;Ie<Oe;++Ie)lb[Je=me[Ie]]||(lb[Je]=1,va.push(Je))}const va=this._inputs=[],
Ka=this._outputs=[],lb={};this._dims=h.array(y.groupby);this._dnames=this._dims.map(me=>{const Oe=h.accessorName(me);J(me);Ka.push(Oe);return Oe});this.cellkey=y.key?y.key:ac(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];const Bb=y.fields||[null],bc=y.ops||["count"],Tb=y.aggregate_params||[null];y=y.as||[];const nc=Bb.length,Jc={};let Ac,Xc,kd,qd,xd,nd,Id;nc!==bc.length&&h.error("Unmatched number of fields and aggregate ops.");for(Id=0;Id<nc;++Id)Ac=Bb[Id],Xc=bc[Id],kd=Tb[Id]||
null,null==Ac&&"count"!==Xc&&h.error("Null aggregate field specified."),xd=h.accessorName(Ac),nd=y[Id]||Xc+(xd?"_"+xd:""),Ka.push(nd),"count"===Xc?this._counts.push(nd):(qd=Jc[xd],qd||(J(Ac),qd=Jc[xd]=[],qd.field=Ac,this._measures.push(qd)),"count"!==Xc&&(this._countOnly=!1),qd.push(Cc[Xc](nd,kd)));this._measures=this._measures.map(me=>wb(me,me.field));return Object.create(null)},cellkey:ac(),cell(y,J){let va=this.value[y];va?0===va.num&&this._drop&&va.stamp<this.stamp?(va.stamp=this.stamp,this._adds[this._alen++]=
va):va.stamp<this.stamp&&(va.stamp=this.stamp,this._mods[this._mlen++]=va):(va=this.value[y]=this.newcell(y,J),this._adds[this._alen++]=va);return va},newcell(y,J){y={key:y,num:0,agg:null,tuple:this.newtuple(J,this._prev&&this._prev[y]),stamp:this.stamp,store:!1};if(!this._countOnly){J=this._measures;const va=J.length;y.agg=Array(va);for(let Ka=0;Ka<va;++Ka)y.agg[Ka]=new J[Ka](y)}y.store&&(y.data=new ub);return y},newtuple(y,J){const va=this._dnames,Ka=this._dims,lb=Ka.length,Bb={};for(let bc=0;bc<
lb;++bc)Bb[va[bc]]=Ka[bc](y);return J?ia.replace(J.tuple,Bb):ia.ingest(Bb)},clean(){const y=this.value;for(const J in y)0===y[J].num&&delete y[J]},add(y){var J=this.cellkey(y);J=this.cell(J,y);J.num+=1;if(!this._countOnly){J.store&&J.data.add(y);J=J.agg;for(let va=0,Ka=J.length;va<Ka;++va)J[va].add(J[va].get(y),y)}},rem(y){var J=this.cellkey(y);J=this.cell(J,y);--J.num;if(!this._countOnly){J.store&&J.data.rem(y);J=J.agg;for(let va=0,Ka=J.length;va<Ka;++va)J[va].rem(J[va].get(y),y)}},celltuple(y){const J=
y.tuple,va=this._counts;y.store&&y.data.values();for(let Ka=0,lb=va.length;Ka<lb;++Ka)J[va[Ka]]=y.num;if(!this._countOnly){y=y.agg;for(let Ka=0,lb=y.length;Ka<lb;++Ka)y[Ka].set(J)}return J},changes(y){const J=this._adds,va=this._mods;var Ka=this._prev;const lb=this._drop,Bb=y.add,bc=y.rem,Tb=y.mod;let nc;var Jc;if(Ka)for(Jc in Ka)nc=Ka[Jc],lb&&!nc.num||bc.push(nc.tuple);Ka=0;for(Jc=this._alen;Ka<Jc;++Ka)Bb.push(this.celltuple(J[Ka])),J[Ka]=null;Ka=0;for(Jc=this._mlen;Ka<Jc;++Ka)nc=va[Ka],(0===nc.num&&
lb?bc:Tb).push(this.celltuple(nc)),va[Ka]=null;this._alen=this._mlen=0;this._prev=null;return y}});xb.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",
type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};h.inherits(xb,ia.Transform,{transform(y,J){const va=!1!==y.interval,Ka=this._bins(y),lb=Ka.start,Bb=Ka.step,bc=y.as||["bin0","bin1"],Tb=bc[0],nc=bc[1];y.modified()?(J=J.reflow(!0),y=J.SOURCE):y=J.modified(h.accessorFields(y.field))?J.ADD_MOD:J.ADD;J.visit(y,va?Jc=>
{const Ac=Ka(Jc);Jc[Tb]=Ac;Jc[nc]=null==Ac?null:lb+Bb*(1+(Ac-lb)/Bb)}:Jc=>Jc[Tb]=Ka(Jc));return J.modifies(va?bc:Tb)},_bins(y){if(this.value&&!y.modified())return this.value;const J=y.field,va=ab.bin(y),Ka=va.step;let lb=va.start,Bb=lb+Math.ceil((va.stop-lb)/Ka)*Ka;var bc;null!=(bc=y.anchor)&&(bc-=lb+Ka*Math.floor((bc-lb)/Ka),lb+=bc,Bb+=bc);bc=function(Tb){Tb=h.toNumber(J(Tb));return null==Tb?null:Tb<lb?-Infinity:Tb>Bb?Infinity:(Tb=Math.max(lb,Math.min(Tb,Bb-Ka)),lb+Ka*Math.floor(1E-14+(Tb-lb)/Ka))};
bc.start=lb;bc.stop=va.stop;bc.step=Ka;return this.value=h.accessor(bc,h.accessorFields(J),y.name||"bin_"+h.accessorName(J))}});ec.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};h.inherits(ec,ia.Transform,{transform(y,J){const va=J.fork(J.ALL),Ka=hb(ia.tupleid,this.value,va.materialize(va.ADD).add),lb=y.sort;y=J.changed()||lb&&(y.modified("sort")||J.modified(lb.fields));va.visit(va.REM,Ka.remove);this.modified(y);this.value=va.source=Ka.data(ia.stableCompare(lb),
y);J.source&&J.source.root&&(this.value.root=J.source.root);return va}});h.inherits(ra,ia.Operator);za.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};h.inherits(za,ia.Transform,{transform(y,
J){var va=Ac=>Xc=>{Xc=Tb(Xc);var kd=Bb;switch(y.case){case "upper":Xc=Xc.toUpperCase();break;case "lower":Xc=Xc.toLowerCase()}Xc=Xc.match(kd)||[];var qd;kd=0;for(var xd=Xc.length;kd<xd;++kd)bc.test(qd=Xc[kd])||Ac(qd)};const Ka=this._parameterCheck(y,J),lb=this._counts,Bb=this._match,bc=this._stop,Tb=y.field,nc=y.as||["text","count"],Jc=va(Ac=>lb[Ac]=1+(lb[Ac]||0));va=va(Ac=>--lb[Ac]);Ka?J.visit(J.SOURCE,Jc):(J.visit(J.ADD,Jc),J.visit(J.REM,va));return this._finish(J,nc)},_parameterCheck(y,J){let va=
!1;if(y.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(y.stopwords||"")+"$","i"),va=!0;if(y.modified("pattern")||!this._match)this._match=new RegExp(y.pattern||"[\\w']+","g"),va=!0;if(y.modified("field")||J.modified(y.field.fields))va=!0;va&&(this._counts={});return va},_finish(y,J){const va=this._counts,Ka=this._tuples||(this._tuples={}),lb=J[0],Bb=J[1];y=y.fork(y.NO_SOURCE|y.NO_FIELDS);let bc,Tb,nc;for(bc in va)Tb=Ka[bc],nc=va[bc]||0,!Tb&&nc?(Ka[bc]=Tb=ia.ingest({}),Tb[lb]=bc,Tb[Bb]=
nc,y.add.push(Tb)):0===nc?(Tb&&y.rem.push(Tb),va[bc]=null,Ka[bc]=null):Tb[Bb]!==nc&&(Tb[Bb]=nc,y.mod.push(Tb));return y.modifies(J)}});Ra.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,"default":["a","b"]}]};h.inherits(Ra,ia.Transform,{transform(y,J){const va=J.fork(J.NO_SOURCE),Ka=y.as||["a","b"],lb=Ka[0],Bb=Ka[1];var bc=!this.value||J.changed(J.ADD_REM)||y.modified("as")||y.modified("filter"),Tb=this.value;if(bc){Tb&&
(va.rem=Tb);J=Tb=J.materialize(J.SOURCE).source;y=y.filter||h.truthy;bc=[];Tb={};for(var nc=J.length,Jc=0,Ac,Xc;Jc<nc;++Jc)for(Tb[lb]=Xc=J[Jc],Ac=0;Ac<nc;++Ac)Tb[Bb]=J[Ac],y(Tb)&&(bc.push(ia.ingest(Tb)),Tb={},Tb[lb]=Xc);va.add=this.value=bc}else va.mod=Tb;va.source=this.value;return va.modifies(Ka)}});const vd={kde:ab.randomKDE,mixture:ab.randomMixture,normal:ab.randomNormal,lognormal:ab.randomLogNormal,uniform:ab.randomUniform},pd=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},
{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];Ia.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",
type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:pd.concat({key:{"function":"mixture"},params:[{name:"distributions",type:"param",array:!0,params:pd},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};h.inherits(Ia,ia.Transform,{transform(y,
J){const va=J.fork(J.NO_SOURCE|J.NO_FIELDS);if(!this.value||J.changed()||y.modified()){const Ka=Xa(y.distribution,ib(J));J=y.steps||y.minsteps||25;const lb=y.steps||y.maxsteps||200;let Bb=y.method||"pdf";"pdf"!==Bb&&"cdf"!==Bb&&h.error("Invalid density method: "+Bb);y.extent||Ka.data||h.error("Missing density extent parameter.");Bb=Ka[Bb];const bc=y.as||["value","density"];y=y.extent||h.extent(Ka.data());y=ab.sampleCurve(Bb,y,J,lb).map(Tb=>{const nc={};nc[bc[0]]=Tb[0];nc[bc[1]]=Tb[1];return ia.ingest(nc)});
this.value&&(va.rem=this.value);this.value=va.add=va.source=y}return va}});Qb.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};h.inherits(Qb,ia.Transform,{transform(y,J){if(this.value&&!y.modified()&&!J.changed())return J;var va=J.materialize(J.SOURCE).source;const Ka=tb(J.source,y.groupby,h.identity),
lb=y.smooth||!1,Bb=y.field;va=y.step||h.span(h.extent(va,Bb))/30;const bc=ia.stableCompare((kd,qd)=>Bb(kd)-Bb(qd));y=y.as||"bin";const Tb=Ka.length;let nc=Infinity,Jc=-Infinity,Ac=0,Xc;for(;Ac<Tb;++Ac){const kd=Ka[Ac].sort(bc);Xc=-1;for(const qd of ab.dotbin(kd,va,lb,Bb))qd<nc&&(nc=qd),qd>Jc&&(Jc=qd),kd[++Xc][y]=qd}this.value={start:nc,stop:Jc,step:va};return J.reflow(!0).modifies(y)}});h.inherits(eb,ia.Operator);Z.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};
h.inherits(Z,ia.Transform,{transform(y,J){var va=this.value;const Ka=y.field;y=J.changed()||J.modified(Ka.fields)||y.modified("field");let lb=va[0],Bb=va[1];if(y||null==lb)lb=Infinity,Bb=-Infinity;J.visit(y?J.SOURCE:J.ADD,bc=>{bc=h.toNumber(Ka(bc));null!=bc&&(bc<lb&&(lb=bc),bc>Bb&&(Bb=bc))});Number.isFinite(lb)&&Number.isFinite(Bb)||((va=h.accessorName(Ka))&&(va=` for field "${va}"`),J.dataflow.warn(`Infinite extent${va}: [${lb}, ${Bb}]`),lb=Bb=void 0);this.value=[lb,Bb]}});h.inherits(ca,ia.Operator,
{connect(y){this.detachSubflow=y.detachSubflow;this.targets().add(y);return y.source=this},add(y){this.count+=1;this.value.add.push(y)},rem(y){--this.count;this.value.rem.push(y)},mod(y){this.value.mod.push(y)},init(y){this.value.init(y,y.NO_SOURCE)},evaluate(){return this.value}});h.inherits(ha,ia.Transform,{activate(y){this._targets[this._targets.active++]=y},subflow(y,J,va,Ka){const lb=this.value;let Bb=h.hasOwnProperty(lb,y)&&lb[y],bc;Bb?Bb.value.stamp<va.stamp&&(Bb.init(va),this.activate(Bb)):
(bc=Ka||(bc=this._group[y])&&bc.tuple,Ka=va.dataflow,Bb=new ca(va.fork(va.NO_SOURCE),this),Ka.add(Bb).connect(J(Ka,y,bc)),lb[y]=Bb,this.activate(Bb));return Bb},clean(){var y=this.value;let J=0;for(const va in y)if(0===y[va].count){const Ka=y[va].detachSubflow;Ka&&Ka();delete y[va];++J}J&&(y=this._targets.filter(va=>va&&0<va.count),this.initTargets(y))},initTargets(y){const J=this._targets,va=J.length,Ka=y?y.length:0;let lb=0;for(;lb<Ka;++lb)J[lb]=y[lb];for(;lb<va&&null!=J[lb];++lb)J[lb]=null;J.active=
Ka},transform(y,J){const va=J.dataflow,Ka=y.key,lb=y.subflow,Bb=this._keys,bc=y.modified("key"),Tb=nc=>this.subflow(nc,lb,J);this._group=y.group||{};this.initTargets();J.visit(J.REM,nc=>{const Jc=ia.tupleid(nc),Ac=Bb.get(Jc);void 0!==Ac&&(Bb.delete(Jc),Tb(Ac).rem(nc))});J.visit(J.ADD,nc=>{const Jc=Ka(nc);Bb.set(ia.tupleid(nc),Jc);Tb(Jc).add(nc)});bc||J.modified(Ka.fields)?J.visit(J.MOD,nc=>{const Jc=ia.tupleid(nc),Ac=Bb.get(Jc),Xc=Ka(nc);Ac===Xc?Tb(Xc).mod(nc):(Bb.set(Jc,Xc),Tb(Ac).rem(nc),Tb(Xc).add(nc))}):
J.changed(J.MOD)&&J.visit(J.MOD,nc=>{Tb(Bb.get(ia.tupleid(nc))).mod(nc)});bc&&J.visit(J.REFLOW,nc=>{const Jc=ia.tupleid(nc),Ac=Bb.get(Jc),Xc=Ka(nc);Ac!==Xc&&(Bb.set(Jc,Xc),Tb(Ac).rem(nc),Tb(Xc).add(nc))});J.clean()?va.runAfter(()=>{this.clean();Bb.clean()}):Bb.empty>va.cleanThreshold&&va.runAfter(Bb.clean);return J}});h.inherits(La,ia.Operator);pa.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};h.inherits(pa,ia.Transform,{transform(y,J){function va(Xc){const kd=
ia.tupleid(Xc),qd=Jc(Xc,y),xd=lb.get(kd);qd&&xd?(lb.delete(kd),bc.push(Xc)):qd||xd?Ac&&qd&&!xd&&nc.push(Xc):(lb.set(kd,1),Tb.push(Xc))}const Ka=J.dataflow,lb=this.value,Bb=J.fork(),bc=Bb.add,Tb=Bb.rem,nc=Bb.mod,Jc=y.expr;let Ac=!0;J.visit(J.REM,Xc=>{const kd=ia.tupleid(Xc);lb.has(kd)?lb.delete(kd):Tb.push(Xc)});J.visit(J.ADD,Xc=>{Jc(Xc,y)?bc.push(Xc):lb.set(ia.tupleid(Xc),1)});J.visit(J.MOD,va);y.modified()&&(Ac=!1,J.visit(J.REFLOW,va));lb.empty>Ka.cleanThreshold&&Ka.runAfter(lb.clean);return Bb}});
m.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};h.inherits(m,ia.Transform,{transform(y,J){const va=J.fork(J.NO_SOURCE),Ka=y.fields,lb=bb(Ka,y.as||[]),Bb=y.index||null,bc=lb.length;va.rem=this.value;J.visit(J.SOURCE,Tb=>{const nc=Ka.map(xd=>xd(Tb)),Jc=nc.reduce((xd,nd)=>Math.max(xd,nd.length),0);let Ac=0,Xc,kd,qd;for(;Ac<Jc;++Ac){kd=ia.derive(Tb);for(Xc=0;Xc<bc;++Xc)kd[lb[Xc]]=
null==(qd=nc[Xc][Ac])?null:qd;Bb&&(kd[Bb]=Ac);va.add.push(kd)}});this.value=va.source=va.add;Bb&&va.modifies(Bb);return va.modifies(lb)}});D.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};h.inherits(D,ia.Transform,{transform(y,J){const va=J.fork(J.NO_SOURCE),Ka=y.fields,lb=Ka.map(h.accessorName);y=y.as||["key","value"];const Bb=y[0],bc=y[1],Tb=Ka.length;va.rem=this.value;
J.visit(J.SOURCE,nc=>{for(let Jc=0,Ac;Jc<Tb;++Jc)Ac=ia.derive(nc),Ac[Bb]=lb[Jc],Ac[bc]=Ka[Jc](nc),va.add.push(Ac)});this.value=va.source=va.add;return va.modifies(y)}});L.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};h.inherits(L,ia.Transform,{transform(y,J){const va=y.expr,Ka=y.as,lb=y.modified(),Bb=y.initonly?J.ADD:lb?J.SOURCE:J.modified(va.fields)||J.modified(Ka)?J.ADD_MOD:
J.ADD;lb&&(J=J.materialize().reflow(!0));y.initonly||J.modifies(Ka);return J.visit(Bb,bc=>bc[Ka]=va(bc,y))}});h.inherits(w,ia.Transform,{transform(y,J){J=J.fork(J.ALL);const va=y.generator;let Ka=this.value,lb=y.size-Ka.length,Bb,bc;if(0<lb){for(Bb=[];0<=--lb;)Bb.push(bc=ia.ingest(va(y))),Ka.push(bc);J.add=J.add.length?J.materialize(J.ADD).add.concat(Bb):Bb}else y=Ka.slice(0,-lb),J.rem=J.rem.length?J.materialize(J.REM).rem.concat(y):y,Ka=Ka.slice(-lb);J.source=this.value=Ka;return J}});const fd={value:"value",
median:function(y,J){var va=.5;y=Float64Array.from(x(y,J));if((J=y.length)&&!isNaN(va=+va))if(0>=va||2>J)y=sa(y);else if(1<=va)y=U(y);else{va*=J-1;J=Math.floor(va);var Ka=U(N(y,J).subarray(0,J+1));y=sa(y.subarray(J+1));y=Ka+(y-Ka)*(va-J)}else y=void 0;return y},mean:function(y,J){let va=0,Ka=0;if(void 0===J)for(var lb of y)null!=lb&&(lb=+lb)>=lb&&(++va,Ka+=lb);else{lb=-1;for(let Bb of y)null!=(Bb=J(Bb,++lb,y))&&(Bb=+Bb)>=Bb&&(++va,Ka+=Bb)}if(va)return Ka/va},min:sa,max:U},Cd=[];Ma.Definition={type:"Impute",
metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median","max","min"]},{name:"value","default":0}]};h.inherits(Ma,ia.Transform,{transform(y,J){var va=J.fork(J.ALL),Ka=Pa(y),lb=Ya(y),Bb=h.accessorName(y.field),bc=h.accessorName(y.key),Tb=(y.groupby||[]).map(h.accessorName);y=vb(J.source,y.groupby,y.key,y.keyvals);
J=[];var nc=this.value,Jc=y.domain.length,Ac,Xc,kd;var qd=0;for(Xc=y.length;qd<Xc;++qd){var xd=y[qd];var nd=xd.values;var Id=NaN;for(Ac=0;Ac<Jc;++Ac)if(null==xd[Ac]){var me=y.domain[Ac];var Oe={_impute:!0};var Ie=0;for(kd=nd.length;Ie<kd;++Ie)Oe[Tb[Ie]]=nd[Ie];Oe[bc]=me;Oe[Bb]=Number.isNaN(Id)?Id=Ka(xd,lb):Id;J.push(ia.ingest(Oe))}}J.length&&(va.add=va.materialize(va.ADD).add.concat(J));nc.length&&(va.rem=va.materialize(va.REM).rem.concat(nc));this.value=J;return va}});jb.Definition={type:"JoinAggregate",
metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:Ec},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};h.inherits(jb,sb,{transform(y,J){const va=this,Ka=y.modified();let lb;va.value&&(Ka||J.modified(va._inputs,!0))?(lb=va.value=Ka?va.init(y):{},J.visit(J.SOURCE,Bb=>va.add(Bb))):(lb=va.value=va.value||this.init(y),J.visit(J.REM,Bb=>va.rem(Bb)),J.visit(J.ADD,Bb=>va.add(Bb)));
va.changes();J.visit(J.SOURCE,Bb=>{h.extend(Bb,lb[va.cellkey(Bb)].tuple)});return J.reflow(Ka).modifies(this._outputs)},changes(){const y=this._adds,J=this._mods;let va,Ka;va=0;for(Ka=this._alen;va<Ka;++va)this.celltuple(y[va]),y[va]=null;va=0;for(Ka=this._mlen;va<Ka;++va)this.celltuple(J[va]),J[va]=null;this._alen=this._mlen=0}});Ub.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",
"default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};h.inherits(Ub,ia.Transform,{transform(y,J){const va=J.fork(J.NO_SOURCE|J.NO_FIELDS);
if(!this.value||J.changed()||y.modified()){J=J.materialize(J.SOURCE).source;const Ka=tb(J,y.groupby,y.field),lb=(y.groupby||[]).map(h.accessorName),Bb=y.bandwidth,bc=y.cumulative?"cdf":"pdf",Tb=y.as||["value","density"],nc=[];let Jc=y.extent,Ac=y.steps||y.minsteps||25,Xc=y.steps||y.maxsteps||200;"pdf"!==bc&&"cdf"!==bc&&h.error("Invalid density method: "+bc);"shared"===y.resolve&&(Jc||(Jc=h.extent(J,y.field)),Ac=Xc=y.steps||Xc);Ka.forEach(kd=>{const qd=ab.randomKDE(kd,Bb)[bc],xd=y.counts?kd.length:
1,nd=Jc||h.extent(kd);ab.sampleCurve(qd,nd,Ac,Xc).forEach(Id=>{const me={};for(let Oe=0;Oe<lb.length;++Oe)me[lb[Oe]]=kd.dims[Oe];me[Tb[0]]=Id[0];me[Tb[1]]=Id[1]*xd;nc.push(ia.ingest(me))})});this.value&&(va.rem=this.value);this.value=va.add=va.source=nc}return va}});h.inherits(W,ia.Operator);h.inherits(Mb,ia.Transform,{transform(y,J){const va=J.dataflow;return this._pending?$b(this,J,this._pending):oc(y)?J.StopPropagation:y.values?$b(this,J,va.parse(y.values,y.format)):y.async?{async:va.request(y.url,
y.format).then(Ka=>{this._pending=h.array(Ka.data);return lb=>lb.touch(this)})}:va.request(y.url,y.format).then(Ka=>$b(this,J,h.array(Ka.data)))}});Nb.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};h.inherits(Nb,ia.Transform,
{transform(y,J){const va=y.fields,Ka=y.index,lb=y.values,Bb=null==y.default?null:y.default;var bc=y.modified();const Tb=va.length;let nc=bc?J.SOURCE:J.ADD,Jc=J,Ac=y.as,Xc;lb?(Xc=lb.length,1<Tb&&!Ac&&h.error('Multi-field lookup requires explicit "as" parameter.'),Ac&&Ac.length!==Tb*Xc&&h.error('The "as" parameter has too few output field names.'),Ac=Ac||lb.map(h.accessorName),y=function(kd){for(var qd=0,xd=0,nd,Id;qd<Tb;++qd)if(Id=Ka.get(va[qd](kd)),null==Id)for(nd=0;nd<Xc;++nd,++xd)kd[Ac[xd]]=Bb;
else for(nd=0;nd<Xc;++nd,++xd)kd[Ac[xd]]=lb[nd](Id)}):(Ac||h.error("Missing output field names."),y=function(kd){for(var qd=0,xd;qd<Tb;++qd)xd=Ka.get(va[qd](kd)),kd[Ac[qd]]=null==xd?Bb:xd});bc?Jc=J.reflow(!0):(bc=va.some(kd=>J.modified(kd.fields)),nc|=bc?J.MOD:0);J.visit(nc,y);return Jc.modifies(Ac)}});h.inherits(Rb,ia.Operator);h.inherits(dd,ia.Operator);h.inherits(Db,ia.Transform,{transform(y,J){this.modified(y.modified());this.value=y;return J.fork(J.NO_SOURCE|J.NO_FIELDS)}});Ua.Definition={type:"Pivot",
metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Ec,"default":"sum"},{name:"limit",type:"number","default":0},{name:"key",type:"field"}]};h.inherits(Ua,sb,{_transform:sb.prototype.transform,transform(y,J){return this._transform(yb(y,J),J)}});h.inherits(Zb,ha,{transform(y,J){const va=y.subflow,Ka=y.field,lb=Bb=>this.subflow(ia.tupleid(Bb),va,J,Bb);(y.modified("field")||
Ka&&J.modified(h.accessorFields(Ka)))&&h.error("PreFacet does not support field modification.");this.initTargets();Ka?(J.visit(J.MOD,Bb=>{const bc=lb(Bb);Ka(Bb).forEach(Tb=>bc.mod(Tb))}),J.visit(J.ADD,Bb=>{const bc=lb(Bb);Ka(Bb).forEach(Tb=>bc.add(ia.ingest(Tb)))}),J.visit(J.REM,Bb=>{const bc=lb(Bb);Ka(Bb).forEach(Tb=>bc.rem(Tb))})):(J.visit(J.MOD,Bb=>lb(Bb).mod(Bb)),J.visit(J.ADD,Bb=>lb(Bb).add(Bb)),J.visit(J.REM,Bb=>lb(Bb).rem(Bb)));J.clean()&&J.runAfter(()=>this.clean());return J}});ic.Definition=
{type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string","null":!0,array:!0}]};h.inherits(ic,ia.Transform,{transform(y,J){const va=J.fork(J.NO_SOURCE),Ka=y.fields,lb=bb(y.fields,y.as||[]),Bb=Ka?(Tb,nc)=>{for(let Jc=0,Ac=Ka.length;Jc<Ac;++Jc)nc[lb[Jc]]=Ka[Jc](Tb);return nc}:ia.rederive;let bc;this.value?bc=this.value:(J=J.addAll(),bc=this.value={});J.visit(J.REM,Tb=>{Tb=ia.tupleid(Tb);va.rem.push(bc[Tb]);bc[Tb]=null});J.visit(J.ADD,Tb=>
{const nc=Bb(Tb,ia.ingest({}));bc[ia.tupleid(Tb)]=nc;va.add.push(nc)});J.visit(J.MOD,Tb=>{va.mod.push(Bb(Tb,bc[ia.tupleid(Tb)]))});return va}});h.inherits(Bc,ia.Transform,{transform(y,J){this.value=y.value;return y.modified("value")?J.fork(J.NO_SOURCE|J.NO_FIELDS):J.StopPropagation}});jd.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",
"default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};h.inherits(jd,ia.Transform,{transform(y,J){const va=J.fork(J.NO_SOURCE|J.NO_FIELDS),Ka=y.as||["prob","value"];if(this.value&&!y.modified()&&!J.changed())return va.source=this.value,va;J=J.materialize(J.SOURCE).source;J=tb(J,y.groupby,y.field);const lb=(y.groupby||[]).map(h.accessorName),Bb=[],bc=y.step||.01,Tb=y.probs||wa(bc/2,1-1E-14,bc),nc=Tb.length;J.forEach(Jc=>{const Ac=ab.quantiles(Jc,Tb);for(let Xc=0;Xc<nc;++Xc){const kd=
{};for(let qd=0;qd<lb.length;++qd)kd[lb[qd]]=Jc.dims[qd];kd[Ka[0]]=Tb[Xc];kd[Ka[1]]=Ac[Xc];Bb.push(ia.ingest(kd))}});this.value&&(va.rem=this.value);this.value=va.add=va.source=Bb;return va}});h.inherits(Vc,ia.Transform,{transform(y,J){let va,Ka;this.value?Ka=this.value:(va=J=J.addAll(),Ka=this.value={});y.derive&&(va=J.fork(J.NO_SOURCE),J.visit(J.REM,lb=>{lb=ia.tupleid(lb);va.rem.push(Ka[lb]);Ka[lb]=null}),J.visit(J.ADD,lb=>{const Bb=ia.derive(lb);Ka[ia.tupleid(lb)]=Bb;va.add.push(Bb)}),J.visit(J.MOD,
lb=>{const Bb=Ka[ia.tupleid(lb)];for(const bc in lb)Bb[bc]=lb[bc],va.modifies(bc);va.mod.push(Bb)}));return va}});ma.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};h.inherits(ma,ia.Transform,{transform(y,J){function va(Ac){let Xc,kd;Tb.length<Bb?Tb.push(Ac):(kd=~~((nc+1)*ab.random()),kd<Tb.length&&kd>=Jc&&(Xc=Tb[kd],bc[ia.tupleid(Xc)]&&Ka.rem.push(Xc),Tb[kd]=Ac));++nc}const Ka=J.fork(J.NO_SOURCE);var lb=y.modified("size");const Bb=y.size,bc=this.value.reduce((Ac,
Xc)=>(Ac[ia.tupleid(Xc)]=1,Ac),{});let Tb=this.value,nc=this.count,Jc=0;J.rem.length&&(J.visit(J.REM,Ac=>{const Xc=ia.tupleid(Ac);bc[Xc]&&(bc[Xc]=-1,Ka.rem.push(Ac));--nc}),Tb=Tb.filter(Ac=>-1!==bc[ia.tupleid(Ac)]));(J.rem.length||lb)&&Tb.length<Bb&&J.source&&(Jc=nc=Tb.length,J.visit(J.SOURCE,Ac=>{bc[ia.tupleid(Ac)]||va(Ac)}),Jc=-1);if(lb&&Tb.length>Bb){y=Tb.length-Bb;for(lb=0;lb<y;++lb)bc[ia.tupleid(Tb[lb])]=-1,Ka.rem.push(Tb[lb]);Tb=Tb.slice(y)}J.mod.length&&J.visit(J.MOD,Ac=>{bc[ia.tupleid(Ac)]&&
Ka.mod.push(Ac)});J.add.length&&J.visit(J.ADD,va);if(J.add.length||0>Jc)Ka.add=Tb.filter(Ac=>!bc[ia.tupleid(Ac)]);this.count=nc;this.value=Ka.source=Tb;return Ka}});Ha.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};h.inherits(Ha,ia.Transform,{transform(y,J){if(!this.value||y.modified()){var va=J.materialize().fork(J.MOD),
Ka=y.as||"data";va.rem=this.value?J.rem.concat(this.value):J.rem;this.value=wa(y.start,y.stop,y.step||1).map(lb=>{const Bb={};Bb[Ka]=lb;return ia.ingest(Bb)});va.add=J.add.concat(this.value);return va}}});h.inherits(gb,ia.Transform,{transform(y,J){this.value=J.source;return J.changed()?J.fork(J.NO_SOURCE|J.NO_FIELDS):J.StopPropagation}});const Dd=["unit0","unit1"];Q.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},
{name:"units",type:"enum",values:zb.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum","default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":Dd}]};h.inherits(Q,ia.Transform,{transform(y,J){const va=y.field,Ka=!1!==y.interval;var lb="utc"===y.timezone;const Bb=this._floor(y,J),bc=(lb?zb.utcInterval:zb.timeInterval)(Bb.unit).offset;lb=y.as||
Dd;const Tb=lb[0],nc=lb[1],Jc=Bb.step;let Ac=Bb.start||Infinity,Xc=Bb.stop||-Infinity,kd=J.ADD;if(y.modified()||J.changed(J.REM)||J.modified(h.accessorFields(va)))J=J.reflow(!0),kd=J.SOURCE,Ac=Infinity,Xc=-Infinity;J.visit(kd,qd=>{var xd=va(qd);let nd;null==xd?(qd[Tb]=null,Ka&&(qd[nc]=null)):(qd[Tb]=xd=nd=Bb(xd),Ka&&(qd[nc]=nd=bc(xd,Jc)),xd<Ac&&(Ac=xd),nd>Xc&&(Xc=nd))});Bb.start=Ac;Bb.stop=Xc;return J.modifies(Ka?lb:Tb)},_floor(y,J){var va="utc"===y.timezone;const {units:Ka,step:lb}=y.units?{units:y.units,
step:y.step||1}:zb.timeBin({extent:y.extent||h.extent(J.materialize(J.SOURCE).source,y.field),maxbins:y.maxbins});y=zb.timeUnits(Ka);J=this.value||{};va=(va?zb.utcFloor:zb.timeFloor)(y,lb);va.unit=h.peek(y);va.units=y;va.step=lb;va.start=J.start;va.stop=J.stop;return this.value=va}});h.inherits(t,ia.Transform,{transform(y,J){const va=J.dataflow,Ka=y.field,lb=this.value,Bb=Tb=>lb.set(Ka(Tb),Tb);let bc=!0;y.modified("field")||J.modified(Ka.fields)?(lb.clear(),J.visit(J.SOURCE,Bb)):J.changed()?(J.visit(J.REM,
Tb=>lb.delete(Ka(Tb))),J.visit(J.ADD,Bb)):bc=!1;this.modified(bc);lb.empty>va.cleanThreshold&&va.runAfter(lb.clean);return J.fork()}});h.inherits(ba,ia.Transform,{transform(y,J){if(!this.value||y.modified("field")||y.modified("sort")||J.changed()||y.sort&&J.modified(y.sort.fields))this.value=(y.sort?J.source.slice().sort(ia.stableCompare(y.sort)):J.source).map(y.field)}});const rd={row_number:function(){return{next:y=>y.index+1}},rank:function(){let y;return{init:()=>y=1,next:J=>{const va=J.index,
Ka=J.data;return va&&J.compare(Ka[va-1],Ka[va])?y=va+1:y}}},dense_rank:function(){let y;return{init:()=>y=1,next:J=>{const va=J.index,Ka=J.data;return va&&J.compare(Ka[va-1],Ka[va])?++y:y}}},percent_rank:function(){const y=rd.rank(),J=y.next;return{init:y.init,next:va=>(J(va)-1)/(va.data.length-1)}},cume_dist:function(){let y;return{init:()=>y=0,next:J=>{const va=J.data,Ka=J.compare;J=J.index;if(y<J){for(;J+1<va.length&&!Ka(va[J],va[J+1]);)++J;y=J}return(1+y)/va.length}}},ntile:function(y,J){J=+J;
0<J||h.error("ntile num must be greater than zero.");y=rd.cume_dist();const va=y.next;return{init:y.init,next:Ka=>Math.ceil(J*va(Ka))}},lag:function(y,J){J=+J||1;return{next:va=>{const Ka=va.index-J;return 0<=Ka?y(va.data[Ka]):null}}},lead:function(y,J){J=+J||1;return{next:va=>{const Ka=va.index+J;va=va.data;return Ka<va.length?y(va[Ka]):null}}},first_value:function(y){return{next:J=>y(J.data[J.i0])}},last_value:function(y){return{next:J=>y(J.data[J.i1-1])}},nth_value:function(y,J){J=+J;0<J||h.error("nth_value nth must be greater than zero.");
return{next:va=>{const Ka=va.i0+(J-1);return Ka<va.i1?y(va.data[Ka]):null}}},prev_value:function(y){let J;return{init:()=>J=null,next:va=>{va=y(va.data[va.index]);return null!=va?J=va:J}}},next_value:function(y){let J,va;return{init:()=>(J=null,va=-1),next:Ka=>{var lb=Ka.data;if(Ka.index<=va)lb=J;else{a:{Ka=Ka.index;for(let Bb=lb.length;Ka<Bb;++Ka)if(null!=y(lb[Ka]))break a;Ka=-1}lb=0>(va=Ka)?(va=lb.length,J=null):J=y(lb[va])}return lb}}}},we=Object.keys(rd),Bd=Da.prototype;Bd.init=function(){this.windows.forEach(y=>
y.init());this.cell&&this.cell.init()};Bd.update=function(y,J){const va=this.cell,Ka=this.windows,lb=y.data,Bb=Ka&&Ka.length;let bc;if(va){for(bc=y.p0;bc<y.i0;++bc)va.rem(lb[bc]);for(bc=y.p1;bc<y.i1;++bc)va.add(lb[bc]);va.set(J)}for(bc=0;bc<Bb;++bc)Ka[bc].update(y,J)};kb.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:we.concat(Ec)},{name:"params",type:"number","null":!0,array:!0},
{name:"aggregate_params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};h.inherits(kb,ia.Transform,{transform(y,J){this.stamp=J.stamp;const va=y.modified(),Ka=ia.stableCompare(y.sort),lb=ac(y.groupby),Bb=Tb=>this.group(lb(Tb));let bc=this.state;if(!bc||va)bc=this.state=new Da(y);va||J.modified(bc.inputs)?
(this.value={},J.visit(J.SOURCE,Tb=>Bb(Tb).add(Tb))):(J.visit(J.REM,Tb=>Bb(Tb).remove(Tb)),J.visit(J.ADD,Tb=>Bb(Tb).add(Tb)));for(let Tb=0,nc=this._mlen;Tb<nc;++Tb)Sb(this._mods[Tb],bc,Ka,y);this._mlen=0;this._mods=[];return J.reflow(va).modifies(bc.outputs)},group(y){let J=this.value[y];J||(J=this.value[y]=hb(ia.tupleid),J.stamp=-1);J.stamp<this.stamp&&(J.stamp=this.stamp,this._mods[this._mlen++]=J);return J}});u.aggregate=sb;u.bin=xb;u.collect=ec;u.compare=ra;u.countpattern=za;u.cross=Ra;u.density=
Ia;u.dotbin=Qb;u.expression=eb;u.extent=Z;u.facet=ha;u.field=La;u.filter=pa;u.flatten=m;u.fold=D;u.formula=L;u.generate=w;u.impute=Ma;u.joinaggregate=jb;u.kde=Ub;u.key=W;u.load=Mb;u.lookup=Nb;u.multiextent=Rb;u.multivalues=dd;u.params=Db;u.pivot=Ua;u.prefacet=Zb;u.project=ic;u.proxy=Bc;u.quantile=jd;u.relay=Vc;u.sample=ma;u.sequence=Ha;u.sieve=gb;u.subflow=ca;u.timeunit=Q;u.tupleindex=t;u.values=ba;u.window=kb})};
shadow$provide[32]=function(Eb,ob,Dc,Wa){(function(u,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa):"function"===typeof define&&define.amd?define(["exports"],h):(u="undefined"!==typeof globalThis?globalThis:u||self,h(u.vega={}))})(this,function(u){function h(ia,ab){if("undefined"!==typeof document&&document.createElement){const zb=document.createElement("canvas");if(zb&&zb.getContext)return zb.width=ia,zb.height=ab,zb}return null}u.canvas=h;u.domCanvas=h;u.image=()=>"undefined"!==typeof Image?
Image:null})};
shadow$provide[33]=function(Eb,ob,Dc,Wa){(function(u,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,ob(21),ob(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-time"],h):(u="undefined"!==typeof globalThis?globalThis:u||self,h(u.vega={},u.vega,u.vega))})(this,function(u,h,ia){function ab(n,H,M){H=n-H+2*M;return n?0<H?H:1:0}function zb(n){return function(H){let M=H[0];H=H[1];let ka;H<M&&(ka=M,M=H,H=ka);return[n.invert(M),n.invert(H)]}}function Yb(n){return function(H){const M=
n.range();let ka=H[0];H=H[1];let Va=-1,db;let rb;if(H<ka){var Lb=ka;ka=H;H=Lb}Lb=0;for(rb=M.length;Lb<rb;++Lb)M[Lb]>=ka&&M[Lb]<=H&&(0>Va&&(Va=Lb),db=Lb);if(!(0>Va))return ka=n.invertExtent(M[Va]),H=n.invertExtent(M[db]),[void 0===ka[0]?ka[1]:ka[0],void 0===H[1]?H[0]:H[1]]}}function ac(n,H){return null==n||null==H?NaN:n<H?-1:n>H?1:n>=H?0:NaN}function Xb(n,H){return null==n||null==H?NaN:H<n?-1:H>n?1:H>=n?0:NaN}function mc(n){function H(db,rb,Lb=0,tc=db.length){if(Lb<tc){if(0!==M(rb,rb))return tc;do{const bd=
Lb+tc>>>1;0>ka(db[bd],rb)?Lb=bd+1:tc=bd}while(Lb<tc)}return Lb}let M,ka,Va;2!==n.length?(M=ac,ka=(db,rb)=>ac(n(db),rb),Va=(db,rb)=>n(db)-rb):(M=n===ac||n===Xb?n:Cb,Va=ka=n);return{left:H,center:function(db,rb,Lb=0,tc=db.length){tc=H(db,rb,Lb,tc-1);return tc>Lb&&Va(db[tc-1],rb)>-Va(db[tc],rb)?tc-1:tc},right:function(db,rb,Lb=0,tc=db.length){if(Lb<tc){if(0!==M(rb,rb))return tc;do{const bd=Lb+tc>>>1;0>=ka(db[bd],rb)?Lb=bd+1:tc=bd}while(Lb<tc)}return Lb}}}function Cb(){return 0}function Vb(n){return null===
n?NaN:+n}function jc({_intern:n,_key:H},M){H=H(M);return n.has(H)?n.get(H):M}function Ba({_intern:n,_key:H},M){H=H(M);if(n.has(H))return n.get(H);n.set(H,M);return M}function Za({_intern:n,_key:H},M){H=H(M);n.has(H)&&(M=n.get(H),n.delete(H));return M}function wb(n){return null!==n&&"object"===typeof n?n.valueOf():n}function ub(n,H,M){var ka=(H-n)/Math.max(0,M),Va=Math.floor(Math.log10(ka));ka/=Math.pow(10,Va);ka=ka>=Of?10:ka>=Rh?5:ka>=pg?2:1;let db;0>Va?(db=Math.pow(10,-Va)/ka,Va=Math.round(n*db),
ka=Math.round(H*db),Va/db<n&&++Va,ka/db>H&&--ka,db=-db):(db=Math.pow(10,Va)*ka,Va=Math.round(n/db),ka=Math.round(H/db),Va*db<n&&++Va,ka*db>H&&--ka);return ka<Va&&.5<=M&&2>M?ub(n,H,2*M):[Va,ka,db]}function sb(n,H,M){H=+H;n=+n;M=+M;if(!(0<M))return[];if(n===H)return[n];var ka=H<n;const [Va,db,rb]=ka?ub(H,n,M):ub(n,H,M);if(!(db>=Va))return[];n=db-Va+1;H=Array(n);if(ka)if(0>rb)for(ka=0;ka<n;++ka)H[ka]=(db-ka)/-rb;else for(ka=0;ka<n;++ka)H[ka]=(db-ka)*rb;else if(0>rb)for(ka=0;ka<n;++ka)H[ka]=(Va+ka)/-rb;
else for(ka=0;ka<n;++ka)H[ka]=(Va+ka)*rb;return H}function xb(n,H,M){return ub(+n,+H,+M)[2]}function hb(n,H,M){H=+H;n=+n;M=+M;const ka=H<n;n=ka?xb(H,n,M):xb(n,H,M);return(ka?-1:1)*(0>n?1/-n:n)}function ec(n,H,M=Vb){if((ka=n.length)&&!isNaN(H=+H)){if(0>=H||2>ka)return+M(n[0],0,n);if(1<=H)return+M(n[ka-1],ka-1,n);var ka;H*=ka-1;ka=Math.floor(H);var Va=+M(n[ka],ka,n);n=+M(n[ka+1],ka+1,n);return Va+(n-Va)*(H-ka)}}function ra(n,H,M){n=+n;H=+H;M=2>(Va=arguments.length)?(H=n,n=0,1):3>Va?1:+M;for(var ka=
-1,Va=Math.max(0,Math.ceil((H-n)/M))|0,db=Array(Va);++ka<Va;)db[ka]=n+ka*M;return db}function fa(n,H){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(H).domain(n)}return this}function za(n,H){switch(arguments.length){case 0:break;case 1:"function"===typeof n?this.interpolator(n):this.range(n);break;default:this.domain(n),"function"===typeof H?this.interpolator(H):this.range(H)}return this}function Ra(){function n(db){let rb=H.get(db);if(void 0===rb){if(Va!==uh)return Va;
H.set(db,rb=M.push(db)-1)}return ka[rb%ka.length]}var H=new jh,M=[],ka=[],Va=uh;n.domain=function(db){if(!arguments.length)return M.slice();M=[];H=new jh;for(const rb of db)H.has(rb)||H.set(rb,M.push(rb)-1);return n};n.range=function(db){return arguments.length?(ka=Array.from(db),n):ka.slice()};n.unknown=function(db){return arguments.length?(Va=db,n):Va};n.copy=function(){return Ra(M,ka).unknown(Va)};fa.apply(n,arguments);return n}function Xa(n,H,M){n.prototype=H.prototype=M;M.constructor=n}function Ia(n,
H){n=Object.create(n.prototype);for(var M in H)n[M]=H[M];return n}function ib(){}function bb(){return this.rgb().formatHex()}function tb(){return this.rgb().formatRgb()}function Qb(n){var H,M;n=(n+"").trim().toLowerCase();return(H=Sh.exec(n))?(M=H[1].length,H=parseInt(H[1],16),6===M?eb(H):3===M?new ha(H>>8&15|H>>4&240,H>>4&15|H&240,(H&15)<<4|H&15,1):8===M?T(H>>24&255,H>>16&255,H>>8&255,(H&255)/255):4===M?T(H>>12&15|H>>8&240,H>>8&15|H>>4&240,H>>4&15|H&240,((H&15)<<4|H&15)/255):null):(H=aj.exec(n))?
new ha(H[1],H[2],H[3],1):(H=Hg.exec(n))?new ha(255*H[1]/100,255*H[2]/100,255*H[3]/100,1):(H=ti.exec(n))?T(H[1],H[2],H[3],H[4]):(H=di.exec(n))?T(255*H[1]/100,255*H[2]/100,255*H[3]/100,H[4]):(H=bj.exec(n))?L(H[1],H[2]/100,H[3]/100,1):(H=ui.exec(n))?L(H[1],H[2]/100,H[3]/100,H[4]):vh.hasOwnProperty(n)?eb(vh[n]):"transparent"===n?new ha(NaN,NaN,NaN,0):null}function eb(n){return new ha(n>>16&255,n>>8&255,n&255,1)}function T(n,H,M,ka){0>=ka&&(n=H=M=NaN);return new ha(n,H,M,ka)}function Z(n){n instanceof
ib||(n=Qb(n));if(!n)return new ha;n=n.rgb();return new ha(n.r,n.g,n.b,n.opacity)}function ca(n,H,M,ka){return 1===arguments.length?Z(n):new ha(n,H,M,null==ka?1:ka)}function ha(n,H,M,ka){this.r=+n;this.g=+H;this.b=+M;this.opacity=+ka}function La(){return`#${D(this.r)}${D(this.g)}${D(this.b)}`}function oa(){const n=pa(this.opacity);return`${1===n?"rgb(":"rgba("}${m(this.r)}, ${m(this.g)}, ${m(this.b)}${1===n?")":`, ${n})`}`}function pa(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function m(n){return Math.max(0,
Math.min(255,Math.round(n)||0))}function D(n){n=m(n);return(16>n?"0":"")+n.toString(16)}function L(n,H,M,ka){0>=ka?n=H=M=NaN:0>=M||1<=M?n=H=NaN:0>=H&&(n=NaN);return new A(n,H,M,ka)}function w(n){if(n instanceof A)return new A(n.h,n.s,n.l,n.opacity);n instanceof ib||(n=Qb(n));if(!n)return new A;if(n instanceof A)return n;n=n.rgb();var H=n.r/255,M=n.g/255,ka=n.b/255,Va=Math.min(H,M,ka),db=Math.max(H,M,ka),rb=NaN,Lb=db-Va,tc=(db+Va)/2;Lb?(rb=H===db?(M-ka)/Lb+6*(M<ka):M===db?(ka-H)/Lb+2:(H-M)/Lb+4,Lb/=
.5>tc?db+Va:2-db-Va,rb*=60):Lb=0<tc&&1>tc?0:rb;return new A(rb,Lb,tc,n.opacity)}function P(n,H,M,ka){return 1===arguments.length?w(n):new A(n,H,M,null==ka?1:ka)}function A(n,H,M,ka){this.h=+n;this.s=+H;this.l=+M;this.opacity=+ka}function V(n){n=(n||0)%360;return 0>n?n+360:n}function G(n){return Math.max(0,Math.min(1,n||0))}function x(n,H,M){return 255*(60>n?H+(M-H)*n/60:180>n?M:240>n?H+(M-H)*(240-n)/60:H)}function z(n){if(n instanceof U)return new U(n.l,n.a,n.b,n.opacity);if(n instanceof Ya)return vb(n);
n instanceof ha||(n=Z(n));var H=wa(n.r),M=wa(n.g),ka=wa(n.b),Va=sa(.2225045*H+.7168786*M+.0606169*ka);if(H===M&&M===ka)var db=H=Va;else db=sa((.4360747*H+.3850649*M+.1430804*ka)/.96422),H=sa((.0139322*H+.0971045*M+.7141733*ka)/.82521);return new U(116*Va-16,500*(db-Va),200*(Va-H),n.opacity)}function F(n,H,M,ka){return 1===arguments.length?z(n):new U(n,H,M,null==ka?1:ka)}function U(n,H,M,ka){this.l=+n;this.a=+H;this.b=+M;this.opacity=+ka}function sa(n){return n>eg?Math.pow(n,1/3):n/Hh+Gg}function N(n){return n>
Gh?n*n*n:Hh*(n-Gg)}function la(n){return 255*(.0031308>=n?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function wa(n){return.04045>=(n/=255)?n/12.92:Math.pow((n+.055)/1.055,2.4)}function Ma(n){if(n instanceof Ya)return new Ya(n.h,n.c,n.l,n.opacity);n instanceof U||(n=z(n));if(0===n.a&&0===n.b)return new Ya(NaN,0<n.l&&100>n.l?0:NaN,n.l,n.opacity);var H=Math.atan2(n.b,n.a)*Fh;return new Ya(0>H?H+360:H,Math.sqrt(n.a*n.a+n.b*n.b),n.l,n.opacity)}function Pa(n,H,M,ka){return 1===arguments.length?Ma(n):new Ya(n,
H,M,null==ka?1:ka)}function Ya(n,H,M,ka){this.h=+n;this.c=+H;this.l=+M;this.opacity=+ka}function vb(n){if(isNaN(n.h))return new U(n.l,0,0,n.opacity);var H=n.h*Li;return new U(n.l,Math.cos(H)*n.c,Math.sin(H)*n.c,n.opacity)}function jb(n,H,M,ka){if(1===arguments.length){var Va=n;if(Va instanceof Ub)Va=new Ub(Va.h,Va.s,Va.l,Va.opacity);else{Va instanceof ha||(Va=Z(Va));var db=Va.g/255,rb=Va.b/255,Lb=(cj*rb+Va.r/255*-1.7884503806-3.5172982438*db)/(cj+-1.7884503806-3.5172982438);rb-=Lb;var tc=(1.97294*
(db-Lb)- -.29227*rb)/-.90649;rb=(db=Math.sqrt(tc*tc+rb*rb)/(1.97294*Lb*(1-Lb)))?Math.atan2(tc,rb)*Fh-120:NaN;Va=new Ub(0>rb?rb+360:rb,db,Lb,Va.opacity)}}else Va=new Ub(n,H,M,null==ka?1:ka);return Va}function Ub(n,H,M,ka){this.h=+n;this.s=+H;this.l=+M;this.opacity=+ka}function W(n,H,M,ka,Va){var db=n*n,rb=db*n;return((1-3*n+3*db-rb)*H+(4-6*db+3*rb)*M+(1+3*n+3*db-3*rb)*ka+rb*Va)/6}function Ea(n){var H=n.length-1;return function(M){var ka=0>=M?M=0:1<=M?(M=1,H-1):Math.floor(M*H),Va=n[ka],db=n[ka+1];return W((M-
ka/H)*H,0<ka?n[ka-1]:2*Va-db,Va,db,ka<H-1?n[ka+2]:2*db-Va)}}function Mb(n){var H=n.length;return function(M){var ka=Math.floor((0>(M%=1)?++M:M)*H);return W((M-ka/H)*H,n[(ka+H-1)%H],n[ka%H],n[(ka+1)%H],n[(ka+2)%H])}}function oc(n,H){return function(M){return n+M*H}}function $b(n,H,M){return n=Math.pow(n,M),H=Math.pow(H,M)-n,M=1/M,function(ka){return Math.pow(n+ka*H,M)}}function Nb(n,H){var M=H-n;return M?oc(n,180<M||-180>M?M-360*Math.round(M/360):M):fi(isNaN(n)?H:n)}function Rb(n){return 1===(n=+n)?
xc:function(H,M){return M-H?$b(H,M,n):fi(isNaN(H)?M:H)}}function xc(n,H){var M=H-n;return M?oc(n,M):fi(isNaN(n)?H:n)}function dd(n){return function(H){var M=H.length,ka=Array(M),Va=Array(M),db=Array(M),rb;for(rb=0;rb<M;++rb){var Lb=ca(H[rb]);ka[rb]=Lb.r||0;Va[rb]=Lb.g||0;db[rb]=Lb.b||0}ka=n(ka);Va=n(Va);db=n(db);Lb.opacity=1;return function(tc){Lb.r=ka(tc);Lb.g=Va(tc);Lb.b=db(tc);return Lb+""}}}function qa(n,H){H||(H=[]);var M=n?Math.min(H.length,n.length):0,ka=H.slice(),Va;return function(db){for(Va=
0;Va<M;++Va)ka[Va]=n[Va]*(1-db)+H[Va]*db;return ka}}function Db(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Ua(n,H){var M=H?H.length:0,ka=n?Math.min(M,n.length):0,Va=Array(ka),db=Array(M),rb;for(rb=0;rb<ka;++rb)Va[rb]=jd(n[rb],H[rb]);for(;rb<M;++rb)db[rb]=H[rb];return function(Lb){for(rb=0;rb<ka;++rb)db[rb]=Va[rb](Lb);return db}}function yb(n,H){var M=new Date;return n=+n,H=+H,function(ka){return M.setTime(n*(1-ka)+H*ka),M}}function Hb(n,H){return n=+n,H=+H,function(M){return n*
(1-M)+H*M}}function Ob(n,H){var M={},ka={},Va;if(null===n||"object"!==typeof n)n={};if(null===H||"object"!==typeof H)H={};for(Va in H)Va in n?M[Va]=jd(n[Va],H[Va]):ka[Va]=H[Va];return function(db){for(Va in M)ka[Va]=M[Va](db);return ka}}function Zb(n){return function(){return n}}function ic(n){return function(H){return n(H)+""}}function Bc(n,H){var M=eh.lastIndex=lh.lastIndex=0,ka,Va,db,rb=-1,Lb=[],tc=[];n+="";for(H+="";(ka=eh.exec(n))&&(Va=lh.exec(H));)(db=Va.index)>M&&(db=H.slice(M,db),Lb[rb]?Lb[rb]+=
db:Lb[++rb]=db),(ka=ka[0])===(Va=Va[0])?Lb[rb]?Lb[rb]+=Va:Lb[++rb]=Va:(Lb[++rb]=null,tc.push({i:rb,x:Hb(ka,Va)})),M=lh.lastIndex;M<H.length&&(db=H.slice(M),Lb[rb]?Lb[rb]+=db:Lb[++rb]=db);return 2>Lb.length?tc[0]?ic(tc[0].x):Zb(H):(H=tc.length,function(bd){for(var md=0,sc;md<H;++md)Lb[(sc=tc[md]).i]=sc.x(bd);return Lb.join("")})}function jd(n,H){var M=typeof H,ka;return null==H||"boolean"===M?fi(H):("number"===M?Hb:"string"===M?(ka=Qb(H))?(H=ka,dh):Bc:H instanceof Qb?dh:H instanceof Date?yb:Db(H)?
qa:Array.isArray(H)?Ua:"function"!==typeof H.valueOf&&"function"!==typeof H.toString||isNaN(H)?Ob:Hb)(n,H)}function Vc(n,H){return n=+n,H=+H,function(M){return Math.round(n*(1-M)+H*M)}}function ma(n,H,M,ka,Va,db){var rb,Lb,tc;if(rb=Math.sqrt(n*n+H*H))n/=rb,H/=rb;if(tc=n*M+H*ka)M-=n*tc,ka-=H*tc;if(Lb=Math.sqrt(M*M+ka*ka))M/=Lb,ka/=Lb,tc/=Lb;n*ka<H*M&&(n=-n,H=-H,tc=-tc,rb=-rb);return{translateX:Va,translateY:db,rotate:Math.atan2(H,n)*Ig,skewX:Math.atan(tc)*Ig,scaleX:rb,scaleY:Lb}}function Ha(n,H,M,
ka){function Va(bd){return bd.length?bd.pop()+" ":""}function db(bd,md,sc,zd,Xd,xe){bd!==sc||md!==zd?(Xd=Xd.push("translate(",null,H,null,M),xe.push({i:Xd-4,x:Hb(bd,sc)},{i:Xd-2,x:Hb(md,zd)})):(sc||zd)&&Xd.push("translate("+sc+H+zd+M)}function rb(bd,md,sc,zd){bd!==md?(180<bd-md?md+=360:180<md-bd&&(bd+=360),zd.push({i:sc.push(Va(sc)+"rotate(",null,ka)-2,x:Hb(bd,md)})):md&&sc.push(Va(sc)+"rotate("+md+ka)}function Lb(bd,md,sc,zd){bd!==md?zd.push({i:sc.push(Va(sc)+"skewX(",null,ka)-2,x:Hb(bd,md)}):md&&
sc.push(Va(sc)+"skewX("+md+ka)}function tc(bd,md,sc,zd,Xd,xe){bd!==sc||md!==zd?(Xd=Xd.push(Va(Xd)+"scale(",null,",",null,")"),xe.push({i:Xd-4,x:Hb(bd,sc)},{i:Xd-2,x:Hb(md,zd)})):1===sc&&1===zd||Xd.push(Va(Xd)+"scale("+sc+","+zd+")")}return function(bd,md){var sc=[],zd=[];bd=n(bd);md=n(md);db(bd.translateX,bd.translateY,md.translateX,md.translateY,sc,zd);rb(bd.rotate,md.rotate,sc,zd);Lb(bd.skewX,md.skewX,sc,zd);tc(bd.scaleX,bd.scaleY,md.scaleX,md.scaleY,sc,zd);bd=md=null;return function(Xd){for(var xe=
-1,Rd=zd.length,Ue;++xe<Rd;)sc[(Ue=zd[xe]).i]=Ue.x(Xd);return sc.join("")}}}function gb(n){return((n=Math.exp(n))+1/n)/2}function Q(n){return function(H,M){var ka=n((H=P(H)).h,(M=P(M)).h),Va=xc(H.s,M.s),db=xc(H.l,M.l),rb=xc(H.opacity,M.opacity);return function(Lb){H.h=ka(Lb);H.s=Va(Lb);H.l=db(Lb);H.opacity=rb(Lb);return H+""}}}function t(n){return function(H,M){var ka=n((H=Pa(H)).h,(M=Pa(M)).h),Va=xc(H.c,M.c),db=xc(H.l,M.l),rb=xc(H.opacity,M.opacity);return function(Lb){H.h=ka(Lb);H.c=Va(Lb);H.l=
db(Lb);H.opacity=rb(Lb);return H+""}}}function ba(n){return function ka(M){function Va(db,rb){var Lb=n((db=jb(db)).h,(rb=jb(rb)).h),tc=xc(db.s,rb.s),bd=xc(db.l,rb.l),md=xc(db.opacity,rb.opacity);return function(sc){db.h=Lb(sc);db.s=tc(sc);db.l=bd(Math.pow(sc,M));db.opacity=md(sc);return db+""}}M=+M;Va.gamma=ka;return Va}(1)}function xa(n,H){void 0===H&&(H=n,n=jd);for(var M=0,ka=H.length-1,Va=H[0],db=Array(0>ka?0:ka);M<ka;)db[M]=n(Va,Va=H[++M]);return function(rb){var Lb=Math.max(0,Math.min(ka-1,Math.floor(rb*=
ka)));return db[Lb](rb-Lb)}}function Da(n){return function(){return n}}function Sa(n){return+n}function kb(n){return n}function Sb(n,H){return(H-=n=+n)?function(M){return(M-n)/H}:Da(isNaN(H)?NaN:.5)}function Fb(n,H){if(n>H){var M=n;n=H;H=M}return function(ka){return Math.max(n,Math.min(H,ka))}}function Kb(n,H,M){var ka=n[0];n=n[1];var Va=H[0];H=H[1];n<ka?(ka=Sb(n,ka),Va=M(H,Va)):(ka=Sb(ka,n),Va=M(Va,H));return function(db){return Va(ka(db))}}function Cc(n,H,M){var ka=Math.min(n.length,H.length)-1,
Va=Array(ka),db=Array(ka),rb=-1;n[ka]<n[0]&&(n=n.slice().reverse(),H=H.slice().reverse());for(;++rb<ka;)Va[rb]=Sb(n[rb],n[rb+1]),db[rb]=M(H[rb],H[rb+1]);return function(Lb){var tc=xg(n,Lb,1,ka)-1;return db[tc](Va[tc](Lb))}}function Ec(n,H){return H.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Sc(){function n(){var zd=Math.min(M.length,ka.length);tc!==kb&&(tc=Fb(M[0],M[zd-1]));bd=2<zd?Cc:Kb;md=sc=null;return H}function H(zd){return null==
zd||isNaN(zd=+zd)?Lb:(md||(md=bd(M.map(db),ka,Va)))(db(tc(zd)))}var M=Y,ka=Y,Va=jd,db,rb,Lb,tc=kb,bd,md,sc;H.invert=function(zd){return tc(rb((sc||(sc=bd(ka,M.map(db),Hb)))(zd)))};H.domain=function(zd){return arguments.length?(M=Array.from(zd,Sa),n()):M.slice()};H.range=function(zd){return arguments.length?(ka=Array.from(zd),n()):ka.slice()};H.rangeRound=function(zd){return ka=Array.from(zd),Va=Vc,n()};H.clamp=function(zd){return arguments.length?(tc=zd?!0:kb,n()):tc!==kb};H.interpolate=function(zd){return arguments.length?
(Va=zd,n()):Va};H.unknown=function(zd){return arguments.length?(Lb=zd,H):Lb};return function(zd,Xd){db=zd;rb=Xd;return n()}}function vd(n,H){if(0>(H=(n=H?n.toExponential(H-1):n.toExponential()).indexOf("e")))return null;var M=n.slice(0,H);return[1<M.length?M[0]+M.slice(2):M,+n.slice(H+1)]}function pd(n){return n=vd(Math.abs(n)),n?n[1]:NaN}function fd(n,H){return function(M,ka){for(var Va=M.length,db=[],rb=0,Lb=n[0],tc=0;0<Va&&0<Lb;){tc+Lb+1>ka&&(Lb=Math.max(1,ka-tc));db.push(M.substring(Va-=Lb,Va+
Lb));if((tc+=Lb+1)>ka)break;Lb=n[rb=(rb+1)%n.length]}return db.reverse().join(H)}}function Cd(n){return function(H){return H.replace(/[0-9]/g,function(M){return n[+M]})}}function Dd(n){if(!(H=ya.exec(n)))throw Error("invalid format: "+n);var H;return new rd({fill:H[1],align:H[2],sign:H[3],symbol:H[4],zero:H[5],width:H[6],comma:H[7],precision:H[8]&&H[8].slice(1),trim:H[9],type:H[10]})}function rd(n){this.fill=void 0===n.fill?" ":n.fill+"";this.align=void 0===n.align?"\x3e":n.align+"";this.sign=void 0===
n.sign?"-":n.sign+"";this.symbol=void 0===n.symbol?"":n.symbol+"";this.zero=!!n.zero;this.width=void 0===n.width?void 0:+n.width;this.comma=!!n.comma;this.precision=void 0===n.precision?void 0:+n.precision;this.trim=!!n.trim;this.type=void 0===n.type?"":n.type+""}function we(n,H){H=vd(n,H);if(!H)return n+"";n=H[0];H=H[1];return 0>H?"0."+Array(-H).join("0")+n:n.length>H+1?n.slice(0,H+1)+"."+n.slice(H+1):n+Array(H-n.length+2).join("0")}function Bd(n){return n}function y(n){function H(md){function sc(wd){var Od=
ye,Ed=yf,af,Sf;if("c"===Kf)Ed=Xh(wd)+Ed,wd="";else{wd=+wd;var Ff=0>wd||0>1/wd;wd=isNaN(wd)?bd:Xh(Math.abs(wd),ug);if(zg){var Tf=wd.length,rg=1,Vh=-1;a:for(;rg<Tf;++rg)switch(wd[rg]){case ".":Vh=af=rg;break;case "0":0===Vh&&(Vh=rg);af=rg;break;default:if(!+wd[rg])break a;0<Vh&&(Vh=0)}wd=0<Vh?wd.slice(0,Vh)+wd.slice(af+1):wd}Ff&&0===+wd&&"+"!==xe&&(Ff=!1);Od=(Ff?"("===xe?xe:tc:"-"===xe||"("===xe?"":xe)+Od;Ed=("s"===Kf?dc[8+Na/3]:"")+Ed+(Ff&&"("===xe?")":"");if(Wd)for(Ff=-1,af=wd.length;++Ff<af;)if(Sf=
wd.charCodeAt(Ff),48>Sf||57<Sf){Ed=(46===Sf?db+wd.slice(Ff+1):wd.slice(Ff))+Ed;wd=wd.slice(0,Ff);break}}tg&&!Ue&&(wd=M(wd,Infinity));Sf=Od.length+wd.length+Ed.length;Ff=Sf<Ef?Array(Ef-Sf+1).join(zd):"";tg&&Ue&&(wd=M(Ff+wd,Ff.length?Ef-Ed.length:Infinity),Ff="");switch(Xd){case "\x3c":wd=Od+wd+Ed+Ff;break;case "\x3d":wd=Od+Ff+wd+Ed;break;case "^":wd=Ff.slice(0,Sf=Ff.length>>1)+Od+wd+Ed+Ff.slice(Sf);break;default:wd=Ff+Od+wd+Ed}return rb(wd)}md=Dd(md);var zd=md.fill,Xd=md.align,xe=md.sign,Rd=md.symbol,
Ue=md.zero,Ef=md.width,tg=md.comma,ug=md.precision,zg=md.trim,Kf=md.type;"n"===Kf?(tg=!0,Kf="g"):Jb[Kf]||(void 0===ug&&(ug=12),zg=!0,Kf="g");if(Ue||"0"===zd&&"\x3d"===Xd)Ue=!0,zd="0",Xd="\x3d";var ye="$"===Rd?ka:"#"===Rd&&/[boxX]/.test(Kf)?"0"+Kf.toLowerCase():"",yf="$"===Rd?Va:/[%p]/.test(Kf)?Lb:"",Xh=Jb[Kf],Wd=/[defgprs%]/.test(Kf);ug=void 0===ug?6:/[gprs]/.test(Kf)?Math.max(1,Math.min(21,ug)):Math.max(0,Math.min(20,ug));sc.toString=function(){return md+""};return sc}var M=void 0===n.grouping||
void 0===n.thousands?Bd:fd(Ab.call(n.grouping,Number),n.thousands+""),ka=void 0===n.currency?"":n.currency[0]+"",Va=void 0===n.currency?"":n.currency[1]+"",db=void 0===n.decimal?".":n.decimal+"",rb=void 0===n.numerals?Bd:Cd(Ab.call(n.numerals,String)),Lb=void 0===n.percent?"%":n.percent+"",tc=void 0===n.minus?"−":n.minus+"",bd=void 0===n.nan?"NaN":n.nan+"";return{format:H,formatPrefix:function(md,sc){var zd=H((md=Dd(md),md.type="f",md));md=3*Math.max(-8,Math.min(8,Math.floor(pd(sc)/3)));var Xd=Math.pow(10,
-md),xe=dc[8+md/3];return function(Rd){return zd(Xd*Rd)+xe}}}}function J(n,H,M,ka){M=hb(n,H,M);ka=Dd(null==ka?",f":ka);switch(ka.type){case "s":n=Math.max(Math.abs(n),Math.abs(H));if(H=null==ka.precision){var Va=isNaN;M=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(pd(n)/3)))-pd(Math.abs(M)));H=!Va(Va=M)}H&&(ka.precision=Va);return ea(ka,n);case "":case "e":case "g":case "p":case "r":var db;if(db=null==ka.precision)Va=isNaN,n=Math.max(Math.abs(n),Math.abs(H)),M=Math.abs(M),n=Math.abs(n)-M,M=Math.max(0,
pd(n)-pd(M))+1,db=!Va(Va=M);db&&(ka.precision=Va-("e"===ka.type));break;case "f":case "%":null!=ka.precision||isNaN(Va=Math.max(0,-pd(Math.abs(M))))||(ka.precision=Va-2*("%"===ka.type))}return I(ka)}function va(n){var H=n.domain;n.ticks=function(M){var ka=H();return sb(ka[0],ka[ka.length-1],null==M?10:M)};n.tickFormat=function(M,ka){var Va=H();return J(Va[0],Va[Va.length-1],null==M?10:M,ka)};n.nice=function(M){null==M&&(M=10);var ka=H(),Va=0,db=ka.length-1,rb=ka[Va],Lb=ka[db],tc=10;if(Lb<rb){var bd=
rb;rb=Lb;Lb=bd;bd=Va;Va=db;db=bd}for(;0<tc--;){bd=xb(rb,Lb,M);if(bd===md)return ka[Va]=rb,ka[db]=Lb,H(ka);if(0<bd)rb=Math.floor(rb/bd)*bd,Lb=Math.ceil(Lb/bd)*bd;else if(0>bd)rb=Math.ceil(rb*bd)/bd,Lb=Math.floor(Lb*bd)/bd;else break;var md=bd}return n};return n}function Ka(){var n=Sc()(kb,kb);n.copy=function(){return Ec(n,Ka())};fa.apply(n,arguments);return va(n)}function lb(n){function H(ka){return null==ka||isNaN(ka=+ka)?M:ka}var M;H.invert=H;H.domain=H.range=function(ka){return arguments.length?
(n=Array.from(ka,Sa),H):n.slice()};H.unknown=function(ka){return arguments.length?(M=ka,H):M};H.copy=function(){return lb(n).unknown(M)};n=arguments.length?Array.from(n,Sa):[0,1];return va(H)}function Bb(n,H){n=n.slice();var M=0,ka=n.length-1,Va=n[M],db=n[ka];if(db<Va){var rb=M;M=ka;ka=rb;rb=Va;Va=db;db=rb}n[M]=H.floor(Va);n[ka]=H.ceil(db);return n}function bc(n){return Math.log(n)}function Tb(n){return Math.exp(n)}function nc(n){return-Math.log(-n)}function Jc(n){return-Math.exp(-n)}function Ac(n){return isFinite(n)?
+("1e"+n):0>n?0:n}function Xc(n){return 10===n?Ac:n===Math.E?Math.exp:H=>Math.pow(n,H)}function kd(n){return n===Math.E?Math.log:10===n&&Math.log10||2===n&&Math.log2||(n=Math.log(n),H=>Math.log(H)/n)}function qd(n){return(H,M)=>-n(-H,M)}function xd(n){function H(){db=kd(Va);rb=Xc(Va);0>ka()[0]?(db=qd(db),rb=qd(rb),n(nc,Jc)):n(bc,Tb);return M}const M=n(bc,Tb),ka=M.domain;let Va=10,db,rb;M.base=function(Lb){return arguments.length?(Va=+Lb,H()):Va};M.domain=function(Lb){return arguments.length?(ka(Lb),
H()):ka()};M.ticks=Lb=>{var tc=ka();let bd=tc[0];tc=tc[tc.length-1];const md=tc<bd;md&&([bd,tc]=[tc,bd]);let sc=db(bd),zd=db(tc),Xd;const xe=null==Lb?10:+Lb;let Rd=[];if(!(Va%1)&&zd-sc<xe){sc=Math.floor(sc);zd=Math.ceil(zd);if(0<bd)for(;sc<=zd;++sc)for(Lb=1;Lb<Va;++Lb){if(Xd=0>sc?Lb/rb(-sc):Lb*rb(sc),!(Xd<bd)){if(Xd>tc)break;Rd.push(Xd)}}else for(;sc<=zd;++sc)for(Lb=Va-1;1<=Lb;--Lb)if(Xd=0<sc?Lb/rb(-sc):Lb*rb(sc),!(Xd<bd)){if(Xd>tc)break;Rd.push(Xd)}2*Rd.length<xe&&(Rd=sb(bd,tc,xe))}else Rd=sb(sc,
zd,Math.min(zd-sc,xe)).map(rb);return md?Rd.reverse():Rd};M.tickFormat=(Lb,tc)=>{null==Lb&&(Lb=10);null==tc&&(tc=10===Va?"s":",");"function"!==typeof tc&&(Va%1||null!=(tc=Dd(tc)).precision||(tc.trim=!0),tc=I(tc));if(Infinity===Lb)return tc;const bd=Math.max(1,Va*Lb/M.ticks().length);return md=>{let sc=md/rb(Math.round(db(md)));sc*Va<Va-.5&&(sc*=Va);return sc<=bd?tc(md):""}};M.nice=()=>ka(Bb(ka(),{floor:Lb=>rb(Math.floor(db(Lb))),ceil:Lb=>rb(Math.ceil(db(Lb)))}));return M}function nd(){const n=xd(Sc()).domain([1,
10]);n.copy=()=>Ec(n,nd()).base(n.base());fa.apply(n,arguments);return n}function Id(n){return function(H){return Math.sign(H)*Math.log1p(Math.abs(H/n))}}function me(n){return function(H){return Math.sign(H)*Math.expm1(Math.abs(H))*n}}function Oe(n){var H=1,M=n(Id(H),me(H));M.constant=function(ka){return arguments.length?n(Id(H=+ka),me(H)):H};return va(M)}function Ie(){var n=Oe(Sc());n.copy=function(){return Ec(n,Ie()).constant(n.constant())};return fa.apply(n,arguments)}function Je(n){return function(H){return 0>
H?-Math.pow(-H,n):Math.pow(H,n)}}function tf(n){return 0>n?-Math.sqrt(-n):Math.sqrt(n)}function bf(n){return 0>n?-n*n:n*n}function E(n){var H=n(kb,kb),M=1;H.exponent=function(ka){return arguments.length?(M=+ka,1===M?n(kb,kb):.5===M?n(tf,bf):n(Je(M),Je(1/M))):M};return va(H)}function aa(){var n=E(Sc());n.copy=function(){return Ec(n,aa()).exponent(n.exponent())};fa.apply(n,arguments);return n}function Fa(){function n(){var rb=0,Lb=Math.max(1,ka.length);for(Va=Array(Lb-1);++rb<Lb;)Va[rb-1]=ec(M,rb/Lb);
return H}function H(rb){return null==rb||isNaN(rb=+rb)?db:ka[xg(Va,rb)]}var M=[],ka=[],Va=[],db;H.invertExtent=function(rb){rb=ka.indexOf(rb);return 0>rb?[NaN,NaN]:[0<rb?Va[rb-1]:M[0],rb<Va.length?Va[rb]:M[M.length-1]]};H.domain=function(rb){if(!arguments.length)return M.slice();M=[];for(let Lb of rb)null==Lb||isNaN(Lb=+Lb)||M.push(Lb);M.sort(ac);return n()};H.range=function(rb){return arguments.length?(ka=Array.from(rb),n()):ka.slice()};H.unknown=function(rb){return arguments.length?(db=rb,H):db};
H.quantiles=function(){return Va.slice()};H.copy=function(){return Fa().domain(M).range(ka).unknown(db)};return fa.apply(H,arguments)}function fb(){function n(tc){return null!=tc&&tc<=tc?rb[xg(db,tc,0,Va)]:Lb}function H(){var tc=-1;for(db=Array(Va);++tc<Va;)db[tc]=((tc+1)*ka-(tc-Va)*M)/(Va+1);return n}var M=0,ka=1,Va=1,db=[.5],rb=[0,1],Lb;n.domain=function(tc){return arguments.length?([M,ka]=tc,M=+M,ka=+ka,H()):[M,ka]};n.range=function(tc){return arguments.length?(Va=(rb=Array.from(tc)).length-1,
H()):rb.slice()};n.invertExtent=function(tc){tc=rb.indexOf(tc);return 0>tc?[NaN,NaN]:1>tc?[M,db[0]]:tc>=Va?[db[Va-1],ka]:[db[tc-1],db[tc]]};n.unknown=function(tc){return arguments.length?(Lb=tc,n):n};n.thresholds=function(){return db.slice()};n.copy=function(){return fb().domain([M,ka]).range(rb).unknown(Lb)};return fa.apply(va(n),arguments)}function Gb(){function n(db){return null!=db&&db<=db?M[xg(H,db,0,Va)]:ka}var H=[.5],M=[0,1],ka,Va=1;n.domain=function(db){return arguments.length?(H=Array.from(db),
Va=Math.min(H.length,M.length-1),n):H.slice()};n.range=function(db){return arguments.length?(M=Array.from(db),Va=Math.min(H.length,M.length-1),n):M.slice()};n.invertExtent=function(db){db=M.indexOf(db);return[H[db-1],H[db]]};n.unknown=function(db){return arguments.length?(ka=db,n):ka};n.copy=function(){return Gb().domain(H).range(M).unknown(ka)};return fa.apply(n,arguments)}function qc(n,H,M,ka){function Va(db){return n(db=0===arguments.length?new Date:new Date(+db)),db}Va.floor=db=>(n(db=new Date(+db)),
db);Va.ceil=db=>(n(db=new Date(db-1)),H(db,1),n(db),db);Va.round=db=>{const rb=Va(db),Lb=Va.ceil(db);return db-rb<Lb-db?rb:Lb};Va.offset=(db,rb)=>(H(db=new Date(+db),null==rb?1:Math.floor(rb)),db);Va.range=(db,rb,Lb)=>{const tc=[];db=Va.ceil(db);Lb=null==Lb?1:Math.floor(Lb);if(!(db<rb&&0<Lb))return tc;let bd;do tc.push(bd=new Date(+db)),H(db,Lb),n(db);while(bd<db&&db<rb);return tc};Va.filter=db=>qc(rb=>{if(rb>=rb)for(;n(rb),!db(rb);)rb.setTime(rb-1)},(rb,Lb)=>{if(rb>=rb)if(0>Lb)for(;0>=++Lb;)for(;H(rb,
-1),!db(rb););else for(;0<=--Lb;)for(;H(rb,1),!db(rb););});M&&(Va.count=(db,rb)=>{ta.setTime(+db);$a.setTime(+rb);n(ta);n($a);return Math.floor(M(ta,$a))},Va.every=db=>{db=Math.floor(db);return isFinite(db)&&0<db?1<db?Va.filter(ka?rb=>0===ka(rb)%db:rb=>0===Va.count(0,rb)%db):Va:null});return Va}function Ib(n){return qc(H=>{H.setDate(H.getDate()-(H.getDay()+7-n)%7);H.setHours(0,0,0,0)},(H,M)=>{H.setDate(H.getDate()+7*M)},(H,M)=>(M-H-6E4*(M.getTimezoneOffset()-H.getTimezoneOffset()))/hc)}function Oc(n){return qc(H=>
{H.setUTCDate(H.getUTCDate()-(H.getUTCDay()+7-n)%7);H.setUTCHours(0,0,0,0)},(H,M)=>{H.setUTCDate(H.getUTCDate()+7*M)},(H,M)=>(M-H)/hc)}function od(n,H,M,ka,Va,db){function rb(tc,bd,md){const sc=Math.abs(bd-tc)/md,zd=mc(([,,Rd])=>Rd).right(Lb,sc);if(zd===Lb.length)return n.every(hb(tc/fc,bd/fc,md));if(0===zd)return Pb.every(Math.max(hb(tc,bd,md),1));const [Xd,xe]=Lb[sc/Lb[zd-1][2]<Lb[zd][2]/sc?zd-1:zd];return Xd.every(xe)}const Lb=[[ad,1,1E3],[ad,5,5E3],[ad,15,15E3],[ad,30,3E4],[db,1,6E4],[db,5,3E5],
[db,15,9E5],[db,30,18E5],[Va,1,36E5],[Va,3,108E5],[Va,6,216E5],[Va,12,432E5],[ka,1,864E5],[ka,2,1728E5],[M,1,hc],[H,1,Kc],[H,3,3*Kc],[n,1,fc]];return[function(tc,bd,md){const sc=bd<tc;sc&&([tc,bd]=[bd,tc]);tc=(md=md&&"function"===typeof md.range?md:rb(tc,bd,md))?md.range(tc,+bd+1):[];return sc?tc.reverse():tc},rb]}function $c(n){if(0<=n.y&&100>n.y){var H=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);H.setFullYear(n.y);return H}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function Nc(n){if(0<=n.y&&100>n.y){var H=
new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));H.setUTCFullYear(n.y);return H}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function Nd(n,H,M){return{y:n,m:H,d:M,H:0,M:0,S:0,L:0}}function ce(n){function H(Wd,wd){return function(Od){var Ed=[],af=-1,Sf=0,Ff=Wd.length,Tf,rg;for(Od instanceof Date||(Od=new Date(+Od));++af<Ff;)if(37===Wd.charCodeAt(af)){Ed.push(Wd.slice(Sf,af));null!=(Sf=ej[Tf=Wd.charAt(++af)])?Tf=Wd.charAt(++af):Sf="e"===Tf?" ":"0";if(rg=wd[Tf])Tf=rg(Od,Sf);Ed.push(Tf);Sf=af+
1}Ed.push(Wd.slice(Sf,af));return Ed.join("")}}function M(Wd,wd){return function(Od){var Ed=Nd(1900,void 0,1);if(ka(Ed,Wd,Od+="",0)!=Od.length)return null;if("Q"in Ed)return new Date(Ed.Q);if("s"in Ed)return new Date(1E3*Ed.s+("L"in Ed?Ed.L:0));!wd||"Z"in Ed||(Ed.Z=0);"p"in Ed&&(Ed.H=Ed.H%12+12*Ed.p);void 0===Ed.m&&(Ed.m="q"in Ed?Ed.q:0);if("V"in Ed){if(1>Ed.V||53<Ed.V)return null;"w"in Ed||(Ed.w=1);if("Z"in Ed){Od=Nc(Nd(Ed.y,0,1));var af=Od.getUTCDay();Od=4<af||0===af?kh.ceil(Od):kh(Od);Od=rf.offset(Od,
7*(Ed.V-1));Ed.y=Od.getUTCFullYear();Ed.m=Od.getUTCMonth();Ed.d=Od.getUTCDate()+(Ed.w+6)%7}else Od=$c(Nd(Ed.y,0,1)),af=Od.getDay(),Od=4<af||0===af?qe.ceil(Od):qe(Od),Od=Le.offset(Od,7*(Ed.V-1)),Ed.y=Od.getFullYear(),Ed.m=Od.getMonth(),Ed.d=Od.getDate()+(Ed.w+6)%7}else if("W"in Ed||"U"in Ed)"w"in Ed||(Ed.w="u"in Ed?Ed.u%7:"W"in Ed?1:0),af="Z"in Ed?Nc(Nd(Ed.y,0,1)).getUTCDay():$c(Nd(Ed.y,0,1)).getDay(),Ed.m=0,Ed.d="W"in Ed?(Ed.w+6)%7+7*Ed.W-(af+5)%7:Ed.w+7*Ed.U-(af+6)%7;return"Z"in Ed?(Ed.H+=Ed.Z/100|
0,Ed.M+=Ed.Z%100,Nc(Ed)):$c(Ed)}}function ka(Wd,wd,Od,Ed){for(var af=0,Sf=wd.length,Ff=Od.length,Tf;af<Sf;){if(Ed>=Ff)return-1;Tf=wd.charCodeAt(af++);if(37===Tf){if(Tf=wd.charAt(af++),Tf=Xh[Tf in ej?wd.charAt(af++):Tf],!Tf||0>(Ed=Tf(Wd,Od,Ed)))return-1}else if(Tf!=Od.charCodeAt(Ed++))return-1}return Ed}var Va=n.dateTime,db=n.date,rb=n.time,Lb=n.periods,tc=n.days,bd=n.shortDays,md=n.months,sc=n.shortMonths,zd=$d(Lb),Xd=Aa(Lb),xe=$d(tc),Rd=Aa(tc),Ue=$d(bd),Ef=Aa(bd),tg=$d(md),ug=Aa(md),zg=$d(sc),Kf=
Aa(sc),ye={a:function(Wd){return bd[Wd.getDay()]},A:function(Wd){return tc[Wd.getDay()]},b:function(Wd){return sc[Wd.getMonth()]},B:function(Wd){return md[Wd.getMonth()]},c:null,d:oe,e:oe,f:K,g:Rc,G:Td,H:Ae,I:na,j:l,L:q,m:ja,M:Ca,p:function(Wd){return Lb[+(12<=Wd.getHours())]},q:function(Wd){return 1+~~(Wd.getMonth()/3)},Q:mf,s:Se,S:Qa,u:Ga,U:qb,V:wc,w:vc,W:zc,x:null,X:null,y:yc,Y:ed,Z:Ad,"%":Vf},yf={a:function(Wd){return bd[Wd.getUTCDay()]},A:function(Wd){return tc[Wd.getUTCDay()]},b:function(Wd){return sc[Wd.getUTCMonth()]},
B:function(Wd){return md[Wd.getUTCMonth()]},c:null,d:Md,e:Md,f:Vd,g:lf,G:vf,H:Ud,I:pc,j:Hd,L:Be,m:le,M:Pd,p:function(Wd){return Lb[+(12<=Wd.getUTCHours())]},q:function(Wd){return 1+~~(Wd.getUTCMonth()/3)},Q:mf,s:Se,S:Qd,u:Ne,U:Fe,V:Me,w:hd,W:ve,x:null,X:null,y:gf,Y:Dg,Z:Mf,"%":Vf},Xh={a:function(Wd,wd,Od){return(wd=Ue.exec(wd.slice(Od)))?(Wd.w=Ef.get(wd[0].toLowerCase()),Od+wd[0].length):-1},A:function(Wd,wd,Od){return(wd=xe.exec(wd.slice(Od)))?(Wd.w=Rd.get(wd[0].toLowerCase()),Od+wd[0].length):-1},
b:function(Wd,wd,Od){return(wd=zg.exec(wd.slice(Od)))?(Wd.m=Kf.get(wd[0].toLowerCase()),Od+wd[0].length):-1},B:function(Wd,wd,Od){return(wd=tg.exec(wd.slice(Od)))?(Wd.m=ug.get(wd[0].toLowerCase()),Od+wd[0].length):-1},c:function(Wd,wd,Od){return ka(Wd,Va,wd,Od)},d:fe,e:fe,f:Ke,g:Tc,G:Hc,H:Ee,I:Ee,j:Re,L:kf,m:ld,M:ne,p:function(Wd,wd,Od){return(wd=zd.exec(wd.slice(Od)))?(Wd.p=Xd.get(wd[0].toLowerCase()),Od+wd[0].length):-1},q:id,Q:Ze,s:ue,S:ef,u:cc,U:gd,V:rc,w:Oa,W:Pc,x:function(Wd,wd,Od){return ka(Wd,
db,wd,Od)},X:function(Wd,wd,Od){return ka(Wd,rb,wd,Od)},y:Tc,Y:Hc,Z:Yc,"%":Ye};ye.x=H(db,ye);ye.X=H(rb,ye);ye.c=H(Va,ye);yf.x=H(db,yf);yf.X=H(rb,yf);yf.c=H(Va,yf);return{format:function(Wd){var wd=H(Wd+="",ye);wd.toString=function(){return Wd};return wd},parse:function(Wd){var wd=M(Wd+="",!1);wd.toString=function(){return Wd};return wd},utcFormat:function(Wd){var wd=H(Wd+="",yf);wd.toString=function(){return Wd};return wd},utcParse:function(Wd){var wd=M(Wd+="",!0);wd.toString=function(){return Wd};
return wd}}}function Kd(n,H,M){var ka=0>n?"-":"";n=(ka?-n:n)+"";var Va=n.length;return ka+(Va<M?Array(M-Va+1).join(H)+n:n)}function Jd(n){return n.replace(Cj,"\\$\x26")}function $d(n){return new RegExp("^(?:"+n.map(Jd).join("|")+")","i")}function Aa(n){return new Map(n.map((H,M)=>[H.toLowerCase(),M]))}function Oa(n,H,M){return(H=Zf.exec(H.slice(M,M+1)))?(n.w=+H[0],M+H[0].length):-1}function cc(n,H,M){return(H=Zf.exec(H.slice(M,M+1)))?(n.u=+H[0],M+H[0].length):-1}function gd(n,H,M){return(H=Zf.exec(H.slice(M,
M+2)))?(n.U=+H[0],M+H[0].length):-1}function rc(n,H,M){return(H=Zf.exec(H.slice(M,M+2)))?(n.V=+H[0],M+H[0].length):-1}function Pc(n,H,M){return(H=Zf.exec(H.slice(M,M+2)))?(n.W=+H[0],M+H[0].length):-1}function Hc(n,H,M){return(H=Zf.exec(H.slice(M,M+4)))?(n.y=+H[0],M+H[0].length):-1}function Tc(n,H,M){return(H=Zf.exec(H.slice(M,M+2)))?(n.y=+H[0]+(68<+H[0]?1900:2E3),M+H[0].length):-1}function Yc(n,H,M){return(H=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(H.slice(M,M+6)))?(n.Z=H[1]?0:-(H[2]+(H[3]||"00")),M+H[0].length):
-1}function id(n,H,M){return(H=Zf.exec(H.slice(M,M+1)))?(n.q=3*H[0]-3,M+H[0].length):-1}function ld(n,H,M){return(H=Zf.exec(H.slice(M,M+2)))?(n.m=H[0]-1,M+H[0].length):-1}function fe(n,H,M){return(H=Zf.exec(H.slice(M,M+2)))?(n.d=+H[0],M+H[0].length):-1}function Re(n,H,M){return(H=Zf.exec(H.slice(M,M+3)))?(n.m=0,n.d=+H[0],M+H[0].length):-1}function Ee(n,H,M){return(H=Zf.exec(H.slice(M,M+2)))?(n.H=+H[0],M+H[0].length):-1}function ne(n,H,M){return(H=Zf.exec(H.slice(M,M+2)))?(n.M=+H[0],M+H[0].length):
-1}function ef(n,H,M){return(H=Zf.exec(H.slice(M,M+2)))?(n.S=+H[0],M+H[0].length):-1}function kf(n,H,M){return(H=Zf.exec(H.slice(M,M+3)))?(n.L=+H[0],M+H[0].length):-1}function Ke(n,H,M){return(H=Zf.exec(H.slice(M,M+6)))?(n.L=Math.floor(H[0]/1E3),M+H[0].length):-1}function Ye(n,H,M){return(n=wk.exec(H.slice(M,M+1)))?M+n[0].length:-1}function Ze(n,H,M){return(H=Zf.exec(H.slice(M)))?(n.Q=+H[0],M+H[0].length):-1}function ue(n,H,M){return(H=Zf.exec(H.slice(M)))?(n.s=+H[0],M+H[0].length):-1}function oe(n,
H){return Kd(n.getDate(),H,2)}function Ae(n,H){return Kd(n.getHours(),H,2)}function na(n,H){return Kd(n.getHours()%12||12,H,2)}function l(n,H){return Kd(1+Le.count(Af(n),n),H,3)}function q(n,H){return Kd(n.getMilliseconds(),H,3)}function K(n,H){return q(n,H)+"000"}function ja(n,H){return Kd(n.getMonth()+1,H,2)}function Ca(n,H){return Kd(n.getMinutes(),H,2)}function Qa(n,H){return Kd(n.getSeconds(),H,2)}function Ga(n){n=n.getDay();return 0===n?7:n}function qb(n,H){return Kd($g.count(Af(n)-1,n),H,2)}
function nb(n){var H=n.getDay();return 4<=H||0===H?ph(n):ph.ceil(n)}function wc(n,H){n=nb(n);return Kd(ph.count(Af(n),n)+(4===Af(n).getDay()),H,2)}function vc(n){return n.getDay()}function zc(n,H){return Kd(qe.count(Af(n)-1,n),H,2)}function yc(n,H){return Kd(n.getFullYear()%100,H,2)}function Rc(n,H){n=nb(n);return Kd(n.getFullYear()%100,H,2)}function ed(n,H){return Kd(n.getFullYear()%1E4,H,4)}function Td(n,H){var M=n.getDay();n=4<=M||0===M?ph(n):ph.ceil(n);return Kd(n.getFullYear()%1E4,H,4)}function Ad(n){n=
n.getTimezoneOffset();return(0<n?"-":(n*=-1,"+"))+Kd(n/60|0,"0",2)+Kd(n%60,"0",2)}function Md(n,H){return Kd(n.getUTCDate(),H,2)}function Ud(n,H){return Kd(n.getUTCHours(),H,2)}function pc(n,H){return Kd(n.getUTCHours()%12||12,H,2)}function Hd(n,H){return Kd(1+rf.count(Cg(n),n),H,3)}function Be(n,H){return Kd(n.getUTCMilliseconds(),H,3)}function Vd(n,H){return Be(n,H)+"000"}function le(n,H){return Kd(n.getUTCMonth()+1,H,2)}function Pd(n,H){return Kd(n.getUTCMinutes(),H,2)}function Qd(n,H){return Kd(n.getUTCSeconds(),
H,2)}function Ne(n){n=n.getUTCDay();return 0===n?7:n}function Fe(n,H){return Kd(yg.count(Cg(n)-1,n),H,2)}function re(n){var H=n.getUTCDay();return 4<=H||0===H?Jg(n):Jg.ceil(n)}function Me(n,H){n=re(n);return Kd(Jg.count(Cg(n),n)+(4===Cg(n).getUTCDay()),H,2)}function hd(n){return n.getUTCDay()}function ve(n,H){return Kd(kh.count(Cg(n)-1,n),H,2)}function gf(n,H){return Kd(n.getUTCFullYear()%100,H,2)}function lf(n,H){n=re(n);return Kd(n.getUTCFullYear()%100,H,2)}function Dg(n,H){return Kd(n.getUTCFullYear()%
1E4,H,4)}function vf(n,H){var M=n.getUTCDay();n=4<=M||0===M?Jg(n):Jg.ceil(n);return Kd(n.getUTCFullYear()%1E4,H,4)}function Mf(){return"+0000"}function Vf(){return"%"}function mf(n){return+n}function Se(n){return Math.floor(+n/1E3)}function Wf(n){return new Date(n)}function og(n){return n instanceof Date?+n:+new Date(+n)}function Uf(n,H,M,ka,Va,db,rb,Lb,tc,bd){function md(ye){return(tc(ye)<ye?xe:Lb(ye)<ye?Rd:rb(ye)<ye?Ue:db(ye)<ye?Ef:ka(ye)<ye?Va(ye)<ye?tg:ug:M(ye)<ye?zg:Kf)(ye)}var sc=Sc()(kb,kb),
zd=sc.invert,Xd=sc.domain,xe=bd(".%L"),Rd=bd(":%S"),Ue=bd("%I:%M"),Ef=bd("%I %p"),tg=bd("%a %d"),ug=bd("%b %d"),zg=bd("%B"),Kf=bd("%Y");sc.invert=function(ye){return new Date(zd(ye))};sc.domain=function(ye){return arguments.length?Xd(Array.from(ye,og)):Xd().map(Wf)};sc.ticks=function(ye){var yf=Xd();return n(yf[0],yf[yf.length-1],null==ye?10:ye)};sc.tickFormat=function(ye,yf){return null==yf?md:bd(yf)};sc.nice=function(ye){var yf=Xd();ye&&"function"===typeof ye.range||(ye=H(yf[0],yf[yf.length-1],
null==ye?10:ye));return ye?Xd(Bb(yf,ye)):sc};sc.copy=function(){return Ec(sc,Uf(n,H,M,ka,Va,db,rb,Lb,tc,bd))};return sc}function ig(){function n(sc){return null==sc||isNaN(sc=+sc)?md:tc(0===rb?.5:(sc=(Lb(sc)-Va)*rb,bd?Math.max(0,Math.min(1,sc)):sc))}function H(sc){return function(zd){var Xd,xe;return arguments.length?([Xd,xe]=zd,tc=sc(Xd,xe),n):[tc(0),tc(1)]}}var M=0,ka=1,Va,db,rb,Lb,tc=kb,bd=!1,md;n.domain=function(sc){return arguments.length?([M,ka]=sc,Va=Lb(M=+M),db=Lb(ka=+ka),rb=Va===db?0:1/(db-
Va),n):[M,ka]};n.clamp=function(sc){return arguments.length?(bd=!!sc,n):bd};n.interpolator=function(sc){return arguments.length?(tc=sc,n):tc};n.range=H(jd);n.rangeRound=H(Vc);n.unknown=function(sc){return arguments.length?(md=sc,n):md};return function(sc){Lb=sc;Va=sc(M);db=sc(ka);rb=Va===db?0:1/(db-Va);return n}}function Bf(n,H){return H.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function Tg(){var n=va(ig()(kb));n.copy=function(){return Bf(n,Tg())};return za.apply(n,
arguments)}function Eg(){var n=xd(ig()).domain([1,10]);n.copy=function(){return Bf(n,Eg()).base(n.base())};return za.apply(n,arguments)}function Ch(){var n=Oe(ig());n.copy=function(){return Bf(n,Ch()).constant(n.constant())};return za.apply(n,arguments)}function Fg(){var n=E(ig());n.copy=function(){return Bf(n,Fg()).exponent(n.exponent())};return za.apply(n,arguments)}function Ug(){function n(Rd){return isNaN(Rd=+Rd)?xe:(Rd=.5+((Rd=+zd(Rd))-Lb)*(db*Rd<db*Lb?bd:md),sc(Xd?Math.max(0,Math.min(1,Rd)):
Rd))}function H(Rd){return function(Ue){var Ef,tg,ug;return arguments.length?([Ef,tg,ug]=Ue,sc=xa(Rd,[Ef,tg,ug]),n):[sc(0),sc(.5),sc(1)]}}var M=0,ka=.5,Va=1,db=1,rb,Lb,tc,bd,md,sc=kb,zd,Xd=!1,xe;n.domain=function(Rd){return arguments.length?([M,ka,Va]=Rd,rb=zd(M=+M),Lb=zd(ka=+ka),tc=zd(Va=+Va),bd=rb===Lb?0:.5/(Lb-rb),md=Lb===tc?0:.5/(tc-Lb),db=Lb<rb?-1:1,n):[M,ka,Va]};n.clamp=function(Rd){return arguments.length?(Xd=!!Rd,n):Xd};n.interpolator=function(Rd){return arguments.length?(sc=Rd,n):sc};n.range=
H(jd);n.rangeRound=H(Vc);n.unknown=function(Rd){return arguments.length?(xe=Rd,n):xe};return function(Rd){zd=Rd;rb=Rd(M);Lb=Rd(ka);tc=Rd(Va);bd=rb===Lb?0:.5/(Lb-rb);md=Lb===tc?0:.5/(tc-Lb);db=Lb<rb?-1:1;return n}}function ch(){var n=va(Ug()(kb));n.copy=function(){return Bf(n,ch())};return za.apply(n,arguments)}function S(){var n=xd(Ug()).domain([.1,1,10]);n.copy=function(){return Bf(n,S()).base(n.base())};return za.apply(n,arguments)}function Ja(){var n=Oe(Ug());n.copy=function(){return Bf(n,Ja()).constant(n.constant())};
return za.apply(n,arguments)}function mb(){var n=E(Ug());n.copy=function(){return Bf(n,mb()).exponent(n.exponent())};return za.apply(n,arguments)}function Fc(){function n(){var sc=M().length;const zd=Va[1]<Va[0],Xd=Va[1-zd],xe=ab(sc,tc,bd);let Rd=Va[zd-0];db=(Xd-Rd)/(xe||1);Lb&&(db=Math.floor(db));Rd+=(Xd-Rd-db*(sc-tc))*md;rb=db*(1-tc);Lb&&(Rd=Math.round(Rd),rb=Math.round(rb));sc=ra(sc).map(Ue=>Rd+db*Ue);return ka(zd?sc.reverse():sc)}const H=Ra().unknown(void 0),M=H.domain,ka=H.range;let Va=[0,1],
db,rb,Lb=!1,tc=0,bd=0,md=.5;delete H.unknown;H.domain=function(sc){return arguments.length?(M(sc),n()):M()};H.range=function(sc){return arguments.length?(Va=[+sc[0],+sc[1]],n()):Va.slice()};H.rangeRound=function(sc){Va=[+sc[0],+sc[1]];Lb=!0;return n()};H.bandwidth=function(){return rb};H.step=function(){return db};H.round=function(sc){return arguments.length?(Lb=!!sc,n()):Lb};H.padding=function(sc){return arguments.length?(tc=bd=Math.max(0,Math.min(1,sc)),n()):tc};H.paddingInner=function(sc){return arguments.length?
(tc=Math.max(0,Math.min(1,sc)),n()):tc};H.paddingOuter=function(sc){return arguments.length?(bd=Math.max(0,Math.min(1,sc)),n()):bd};H.align=function(sc){return arguments.length?(md=Math.max(0,Math.min(1,sc)),n()):md};H.invertRange=function(sc){if(null!=sc[0]&&null!=sc[1]){var zd=Va[1]<Va[0],Xd=zd?ka().reverse():ka(),xe=Xd.length-1,Rd=+sc[0],Ue=+sc[1];if(Rd===Rd&&Ue===Ue){if(Ue<Rd){var Ef=Rd;Rd=Ue;Ue=Ef}if(!(Ue<Xd[0]||Rd>Va[1-zd]))return sc=Math.max(0,xg(Xd,Rd)-1),Ue=Rd===Ue?sc:xg(Xd,Ue)-1,Rd-Xd[sc]>
rb+1E-10&&++sc,zd&&(Ef=sc,sc=xe-Ue,Ue=xe-Ef),sc>Ue?void 0:M().slice(sc,Ue+1)}}};H.invert=function(sc){return(sc=H.invertRange([sc,sc]))?sc[0]:sc};H.copy=function(){return Fc().domain(M()).range(Va).round(Lb).paddingInner(tc).paddingOuter(bd).align(md)};return n()}function Gc(n){const H=n.copy;n.padding=n.paddingOuter;delete n.paddingInner;n.copy=function(){return Gc(H())};return n}function Ld(){function n(ka){return null==ka||ka!==ka?void 0:M[(xg(H,ka)-1)%M.length]}let H=[],M=[];n.domain=function(ka){return arguments.length?
(H=Dj.call(ka,h.toNumber),n):H.slice()};n.range=function(ka){return arguments.length?(M=cl.call(ka),n):M.slice()};n.tickFormat=function(ka,Va){return J(H[0],h.peek(H),null==ka?10:ka,Va)};n.copy=function(){return Ld().domain(n.domain()).range(n.range())};return n}function ge(n){n[zi]=!0;return n}function Ge(n,H,M){const ka=function(){const Va=H();Va.invertRange||(Va.invertRange=Va.invert?zb(Va):Va.invertExtent?Yb(Va):void 0);Va.type=n;return ge(Va)};ka.metadata=h.toSet(h.array(M));return ka}function ze(n,
H,M){return 1<arguments.length?(Pi.set(n,Ge(n,H,M)),this):Hf(n)?Pi.get(n):void 0}function Hf(n){return Pi.has(n)}function Xf(n,H){return(n=Pi.get(n))&&n.metadata[H]}function ih(n){return Xf(n,"discrete")}function Qf(n){return Xf(n,"discretizing")}function Vg(n){return Xf(n,"log")}function dg(n){return Xf(n,"temporal")}function sh(n,H,M){return xa(Dh(H||"rgb",M),n)}function Dh(n,H){n=C[Yd(n)];return null!=H&&n&&n.gamma?n.gamma(H):n}function Yd(n){return"interpolate"+n.toLowerCase().split("-").map(H=>
H[0].toUpperCase()+H.slice(1)).join("")}function he(n){for(var H=n.length/6|0,M=Array(H),ka=0;ka<H;)M[ka]="#"+n.slice(6*ka,6*++ka);return M}function of(n){if(h.isArray(n))return n;const H=n.length/6|0,M=Array(H);for(let ka=0;ka<H;)M[ka]="#"+n.slice(6*ka,6*++ka);return M}function He(n,H){for(const M in n)hf(M,H(n[M]))}function hf(n,H){n=n&&n.toLowerCase();return 1<arguments.length?(jj[n]=H,this):jj[n]}function Ve(n,H,M){var ka=n.range();let Va=ka[0],db=h.peek(ka);ka=ij;Va>db&&(ka=db,db=Va,Va=ka,ka=
ag);Va=Math.floor(Va);db=Math.ceil(db);H=H.map(rb=>[rb,n(rb)]).filter(rb=>Va<=rb[1]&&rb[1]<=db).sort(ka).map(rb=>rb[0]);if(0<M&&1<H.length){for(ka=[H[0],h.peek(H)];H.length>M&&3<=H.length;)H=H.filter((rb,Lb)=>!(Lb%2));3>H.length&&(H=ka)}return H}function pf(n,H){return n.bins?Ve(n,n.bins,H):n.ticks?n.ticks(H):n.domain()}function Yf(n,H,M,ka,Va,db){const rb=H.type;let Lb=Hj;if("time"===rb||"time"===Va)Lb=n.timeFormat(ka);else if("utc"===rb||"utc"===Va)Lb=n.utcFormat(ka);else if(Vg(rb)){const tc=n.formatFloat(ka);
if(db||H.bins)Lb=tc;else{const bd=Nf(H,M,!1);Lb=md=>bd(md)?tc(md):""}}else H.tickFormat?(H=H.domain(),Lb=n.formatSpan(H[0],H[H.length-1],M,ka)):ka&&(Lb=n.format(ka));return Lb}function Nf(n,H,M){const ka=pf(n,H),Va=n.base(),db=Math.log(Va),rb=Math.max(1,Va*H/ka.length);n=Lb=>{Lb/=Math.pow(Va,Math.round(Math.log(Lb)/db));Lb*Va<Va-.5&&(Lb*=Va);return Lb<=rb};return M?ka.filter(n):n}function $e(n,H){n.bins?(n=n.bins,H=n.slice(0,-1),H.max=h.peek(n),n=H):"log"===n.type?n=Nf(n,H,!0):Si[n.type]?(n=n[Si[n.type]](),
n=[-Infinity].concat(n),n.max=Infinity):n=pf(n,H);return n}function Wg(n,H,M,ka,Va,db,rb){if(xh[H.type]&&"time"!==db&&"utc"!==db){M=H[xh[H.type]]();db=M.length;rb=1<db?M[1]-M[0]:M[0];let Lb;for(Lb=1;Lb<db;++Lb)rb=Math.min(rb,M[Lb]-M[Lb-1]);n=n.formatSpan(0,rb,30,Va)}else n=Yf(n,H,M,Va,db,rb);return"symbol"===ka&&(Si[H.type]||H.bins)?Xi(n):"discrete"===ka?ji(n):ii(n)}const xg=mc(ac).right;mc(Vb).center;class jh extends Map{constructor(n,H=wb){super();Object.defineProperties(this,{_intern:{value:new Map},
_key:{value:H}});if(null!=n)for(const [M,ka]of n)this.set(M,ka)}get(n){return super.get(jc(this,n))}has(n){return super.has(jc(this,n))}set(n,H){return super.set(Ba(this,n),H)}delete(n){return super.delete(Za(this,n))}}const Of=Math.sqrt(50),Rh=Math.sqrt(10),pg=Math.sqrt(2),uh=Symbol("implicit");var jg=1/.7,Sh=/^#([0-9a-f]{3,8})$/,aj=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),Hg=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
ti=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),di=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),bj=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
ui=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),vh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,
cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,
dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,
lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,
mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,
seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xa(ib,Qb,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:bb,formatHex:bb,
formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return w(this).formatHsl()},formatRgb:tb,toString:tb});Xa(ha,ca,Ia(ib,{brighter(n){n=null==n?jg:Math.pow(jg,n);return new ha(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){n=null==n?.7:Math.pow(.7,n);return new ha(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new ha(m(this.r),m(this.g),m(this.b),pa(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=
this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:La,formatHex:La,formatHex8:function(){return`#${D(this.r)}${D(this.g)}${D(this.b)}${D(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:oa,toString:oa}));Xa(A,P,Ia(ib,{brighter(n){n=null==n?jg:Math.pow(jg,n);return new A(this.h,this.s,this.l*n,this.opacity)},darker(n){n=null==n?.7:Math.pow(.7,n);return new A(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+360*(0>this.h),H=isNaN(n)||isNaN(this.s)?0:this.s,M=this.l;H=M+(.5>
M?M:1-M)*H;M=2*M-H;return new ha(x(240<=n?n-240:n+120,M,H),x(n,M,H),x(120>n?n+240:n-120,M,H),this.opacity)},clamp(){return new A(V(this.h),G(this.s),G(this.l),pa(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const n=pa(this.opacity);return`${1===n?"hsl(":"hsla("}${V(this.h)}, ${100*G(this.s)}%, ${100*G(this.l)}%${1===n?")":`, ${n})`}`}}));const Li=Math.PI/180,Fh=180/Math.PI,Gg=4/29,Gh=6/29,Hh=3*Gh*Gh,
eg=Gh*Gh*Gh;Xa(U,F,Ia(ib,{brighter(n){return new U(this.l+18*(null==n?1:n),this.a,this.b,this.opacity)},darker(n){return new U(this.l-18*(null==n?1:n),this.a,this.b,this.opacity)},rgb(){var n=(this.l+16)/116,H=isNaN(this.a)?n:n+this.a/500,M=isNaN(this.b)?n:n-this.b/200;H=.96422*N(H);n=1*N(n);M=.82521*N(M);return new ha(la(3.1338561*H-1.6168667*n-.4906146*M),la(-.9787684*H+1.9161415*n+.033454*M),la(.0719453*H-.2289914*n+1.4052427*M),this.opacity)}}));Xa(Ya,Pa,Ia(ib,{brighter(n){return new Ya(this.h,
this.c,this.l+18*(null==n?1:n),this.opacity)},darker(n){return new Ya(this.h,this.c,this.l-18*(null==n?1:n),this.opacity)},rgb(){return vb(this).rgb()}}));var cj=1.78277*-.29227-.1347134789;Xa(Ub,jb,Ia(ib,{brighter(n){n=null==n?jg:Math.pow(jg,n);return new Ub(this.h,this.s,this.l*n,this.opacity)},darker(n){n=null==n?.7:Math.pow(.7,n);return new Ub(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=isNaN(this.h)?0:(this.h+120)*Li,H=+this.l,M=isNaN(this.s)?0:this.s*H*(1-H),ka=Math.cos(n);n=Math.sin(n);
return new ha(255*(H+M*(-.14861*ka+1.78277*n)),255*(H+M*(-.29227*ka+-.90649*n)),255*(H+1.97294*M*ka),this.opacity)}}));var fi=n=>()=>n,dh=function M(H){function ka(db,rb){var Lb=Va((db=ca(db)).r,(rb=ca(rb)).r),tc=Va(db.g,rb.g),bd=Va(db.b,rb.b),md=xc(db.opacity,rb.opacity);return function(sc){db.r=Lb(sc);db.g=tc(sc);db.b=bd(sc);db.opacity=md(sc);return db+""}}var Va=Rb(H);ka.gamma=M;return ka}(1),vi=dd(Ea),Aj=dd(Mb),eh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lh=new RegExp(eh.source,"g"),Ig=180/
Math.PI,Te={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Ih,Mg=Ha(function(H){H=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(H+"");return H.isIdentity?Te:ma(H.a,H.b,H.c,H.d,H.e,H.f)},"px, ","px)","deg)"),xf=Ha(function(H){if(null==H)return Te;Ih||(Ih=document.createElementNS("http://www.w3.org/2000/svg","g"));Ih.setAttribute("transform",H);if(!(H=Ih.transform.baseVal.consolidate()))return Te;H=H.matrix;return ma(H.a,H.b,H.c,H.d,H.e,H.f)},", ",")",")"),Mi=function db(M,
ka,Va){function rb(Lb,tc){var bd=Lb[0],md=Lb[1],sc=Lb[2];Lb=tc[2];var zd=tc[0]-bd,Xd=tc[1]-md,xe=zd*zd+Xd*Xd;if(1E-12>xe){var Rd=Math.log(Lb/sc)/M;Lb=function(tg){return[bd+tg*zd,md+tg*Xd,sc*Math.exp(M*tg*Rd)]}}else{var Ue=Math.sqrt(xe);tc=(Lb*Lb-sc*sc+Va*xe)/(2*sc*ka*Ue);Lb=(Lb*Lb-sc*sc-Va*xe)/(2*Lb*ka*Ue);var Ef=Math.log(Math.sqrt(tc*tc+1)-tc);Rd=(Math.log(Math.sqrt(Lb*Lb+1)-Lb)-Ef)/M;Lb=function(tg){tg*=Rd;var ug=gb(Ef),zg=M*tg+Ef;var Kf=((zg=Math.exp(2*zg))-1)/(zg+1);var ye=Ef;zg=((ye=Math.exp(ye))-
1/ye)/2;Kf=sc/(ka*Ue)*(ug*Kf-zg);return[bd+Kf*zd,md+Kf*Xd,sc*ug/gb(M*tg+Ef)]}}Lb.duration=1E3*Rd*M/Math.SQRT2;return Lb}rb.rho=function(Lb){Lb=Math.max(.001,+Lb);var tc=Lb*Lb;return db(Lb,tc,tc*tc)};return rb}(Math.SQRT2,2,4),qg=Q(Nb),Ng=Q(xc),mh=t(Nb),Yg=t(xc),Jh=ba(Nb),Zg=ba(xc),C=Object.freeze({__proto__:null,interpolate:jd,interpolateArray:function(M,ka){return(Db(ka)?qa:Ua)(M,ka)},interpolateBasis:Ea,interpolateBasisClosed:Mb,interpolateCubehelix:Jh,interpolateCubehelixLong:Zg,interpolateDate:yb,
interpolateDiscrete:function(M){var ka=M.length;return function(Va){return M[Math.max(0,Math.min(ka-1,Math.floor(Va*ka)))]}},interpolateHcl:mh,interpolateHclLong:Yg,interpolateHsl:qg,interpolateHslLong:Ng,interpolateHue:function(M,ka){var Va=Nb(+M,+ka);return function(db){db=Va(db);return db-360*Math.floor(db/360)}},interpolateLab:function(M,ka){var Va=xc((M=F(M)).l,(ka=F(ka)).l),db=xc(M.a,ka.a),rb=xc(M.b,ka.b),Lb=xc(M.opacity,ka.opacity);return function(tc){M.l=Va(tc);M.a=db(tc);M.b=rb(tc);M.opacity=
Lb(tc);return M+""}},interpolateNumber:Hb,interpolateNumberArray:qa,interpolateObject:Ob,interpolateRgb:dh,interpolateRgbBasis:vi,interpolateRgbBasisClosed:Aj,interpolateRound:Vc,interpolateString:Bc,interpolateTransformCss:Mg,interpolateTransformSvg:xf,interpolateZoom:Mi,piecewise:xa,quantize:function(M,ka){for(var Va=Array(ka),db=0;db<ka;++db)Va[db]=M(db/(ka-1));return Va}}),Y=[0,1],ya=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Dd.prototype=rd.prototype;rd.prototype.toString=
function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var Na,Jb={"%":(M,ka)=>(100*M).toFixed(ka),b:M=>Math.round(M).toString(2),c:M=>M+"",d:function(M){return 1E21<=Math.abs(M=Math.round(M))?M.toLocaleString("en").replace(/,/g,""):M.toString(10)},e:(M,ka)=>M.toExponential(ka),f:(M,ka)=>M.toFixed(ka),g:(M,ka)=>M.toPrecision(ka),
o:M=>Math.round(M).toString(8),p:(M,ka)=>we(100*M,ka),r:we,s:function(M,ka){var Va=vd(M,ka);if(!Va)return M+"";var db=Va[0];Va=Va[1];Va=Va-(Na=3*Math.max(-8,Math.min(8,Math.floor(Va/3))))+1;var rb=db.length;return Va===rb?db:Va>rb?db+Array(Va-rb+1).join("0"):0<Va?db.slice(0,Va)+"."+db.slice(Va):"0."+Array(1-Va).join("0")+vd(M,Math.max(0,ka+Va-1))[0]},X:M=>Math.round(M).toString(16).toUpperCase(),x:M=>Math.round(M).toString(16)},Ab=Array.prototype.map,dc="y z a f p n µ m  k M G T P E Z Y".split(" "),
r,I,ea;(function(M){r=y(M);I=r.format;ea=r.formatPrefix;return r})({thousands:",",grouping:[3],currency:["$",""]});const ta=new Date,$a=new Date,Pb=qc(()=>{},(M,ka)=>{M.setTime(+M+ka)},(M,ka)=>ka-M);Pb.every=M=>{M=Math.floor(M);return isFinite(M)&&0<M?1<M?qc(ka=>{ka.setTime(Math.floor(ka/M)*M)},(ka,Va)=>{ka.setTime(+ka+Va*M)},(ka,Va)=>(Va-ka)/M):Pb:null};Pb.range;const hc=6048E5,Kc=2592E6,fc=31536E6,ad=qc(M=>{M.setTime(M-M.getMilliseconds())},(M,ka)=>{M.setTime(+M+1E3*ka)},(M,ka)=>(ka-M)/1E3,M=>M.getUTCSeconds());
ad.range;const Wc=qc(M=>{M.setTime(M-M.getMilliseconds()-1E3*M.getSeconds())},(M,ka)=>{M.setTime(+M+6E4*ka)},(M,ka)=>(ka-M)/6E4,M=>M.getMinutes());Wc.range;const Fd=qc(M=>{M.setUTCSeconds(0,0)},(M,ka)=>{M.setTime(+M+6E4*ka)},(M,ka)=>(ka-M)/6E4,M=>M.getUTCMinutes());Fd.range;const ie=qc(M=>{M.setTime(M-M.getMilliseconds()-1E3*M.getSeconds()-6E4*M.getMinutes())},(M,ka)=>{M.setTime(+M+36E5*ka)},(M,ka)=>(ka-M)/36E5,M=>M.getHours());ie.range;const se=qc(M=>{M.setUTCMinutes(0,0,0)},(M,ka)=>{M.setTime(+M+
36E5*ka)},(M,ka)=>(ka-M)/36E5,M=>M.getUTCHours());se.range;const Le=qc(M=>M.setHours(0,0,0,0),(M,ka)=>M.setDate(M.getDate()+ka),(M,ka)=>(ka-M-6E4*(ka.getTimezoneOffset()-M.getTimezoneOffset()))/864E5,M=>M.getDate()-1);Le.range;const rf=qc(M=>{M.setUTCHours(0,0,0,0)},(M,ka)=>{M.setUTCDate(M.getUTCDate()+ka)},(M,ka)=>(ka-M)/864E5,M=>M.getUTCDate()-1);rf.range;const df=qc(M=>{M.setUTCHours(0,0,0,0)},(M,ka)=>{M.setUTCDate(M.getUTCDate()+ka)},(M,ka)=>(ka-M)/864E5,M=>Math.floor(M/864E5));df.range;const $g=
Ib(0),qe=Ib(1),Qe=Ib(2),nh=Ib(3),ph=Ib(4),wf=Ib(5),zf=Ib(6);$g.range;qe.range;Qe.range;nh.range;ph.range;wf.range;zf.range;const yg=Oc(0),kh=Oc(1),Df=Oc(2),qf=Oc(3),Jg=Oc(4),hg=Oc(5),Eh=Oc(6);yg.range;kh.range;Df.range;qf.range;Jg.range;hg.range;Eh.range;const gi=qc(M=>{M.setDate(1);M.setHours(0,0,0,0)},(M,ka)=>{M.setMonth(M.getMonth()+ka)},(M,ka)=>ka.getMonth()-M.getMonth()+12*(ka.getFullYear()-M.getFullYear()),M=>M.getMonth());gi.range;const cg=qc(M=>{M.setUTCDate(1);M.setUTCHours(0,0,0,0)},(M,
ka)=>{M.setUTCMonth(M.getUTCMonth()+ka)},(M,ka)=>ka.getUTCMonth()-M.getUTCMonth()+12*(ka.getUTCFullYear()-M.getUTCFullYear()),M=>M.getUTCMonth());cg.range;const Af=qc(M=>{M.setMonth(0,1);M.setHours(0,0,0,0)},(M,ka)=>{M.setFullYear(M.getFullYear()+ka)},(M,ka)=>ka.getFullYear()-M.getFullYear(),M=>M.getFullYear());Af.every=M=>isFinite(M=Math.floor(M))&&0<M?qc(ka=>{ka.setFullYear(Math.floor(ka.getFullYear()/M)*M);ka.setMonth(0,1);ka.setHours(0,0,0,0)},(ka,Va)=>{ka.setFullYear(ka.getFullYear()+Va*M)}):
null;Af.range;const Cg=qc(M=>{M.setUTCMonth(0,1);M.setUTCHours(0,0,0,0)},(M,ka)=>{M.setUTCFullYear(M.getUTCFullYear()+ka)},(M,ka)=>ka.getUTCFullYear()-M.getUTCFullYear(),M=>M.getUTCFullYear());Cg.every=M=>isFinite(M=Math.floor(M))&&0<M?qc(ka=>{ka.setUTCFullYear(Math.floor(ka.getUTCFullYear()/M)*M);ka.setUTCMonth(0,1);ka.setUTCHours(0,0,0,0)},(ka,Va)=>{ka.setUTCFullYear(ka.getUTCFullYear()+Va*M)}):null;Cg.range;const [Ki,rj]=od(Cg,cg,yg,df,se,Fd),[sj,vk]=od(Af,gi,$g,Le,ie,Wc);var ej={"-":"",_:" ",
0:"0"},Zf=/^\s*\d+/,wk=/^%/,Cj=/[\\^$*+?|[\]().{}]/g,fh,Oi,Uj;(function(M){fh=ce(M);Oi=fh.format;fh.parse;Uj=fh.utcFormat;fh.utcParse;return fh})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});
var Dj=Array.prototype.map;const cl=Array.prototype.slice,Pi=new Map,zi=Symbol("vega_scale");ze("identity",lb);ze("linear",Ka,"continuous");ze("log",nd,["continuous","log"]);ze("pow",aa,"continuous");ze("sqrt",function(){return aa.apply(null,arguments).exponent(.5)},"continuous");ze("symlog",Ie,"continuous");ze("time",function(){return fa.apply(Uf(sj,vk,Af,gi,$g,Le,ie,Wc,ad,Oi).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)},["continuous","temporal"]);ze("utc",function(){return fa.apply(Uf(Ki,
rj,Cg,cg,yg,rf,se,Fd,ad,Uj).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)},["continuous","temporal"]);ze("sequential",Tg,["continuous","interpolating"]);ze("sequential-linear",Tg,["continuous","interpolating"]);ze("sequential-log",Eg,["continuous","interpolating","log"]);ze("sequential-pow",Fg,["continuous","interpolating"]);ze("sequential-sqrt",function(){return Fg.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);ze("sequential-symlog",Ch,["continuous","interpolating"]);
ze("diverging-linear",ch,["continuous","interpolating"]);ze("diverging-log",S,["continuous","interpolating","log"]);ze("diverging-pow",mb,["continuous","interpolating"]);ze("diverging-sqrt",function(){return mb.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);ze("diverging-symlog",Ja,["continuous","interpolating"]);ze("quantile",Fa,["discretizing","quantile"]);ze("quantize",fb,"discretizing");ze("threshold",Gb,"discretizing");ze("bin-ordinal",Ld,["discrete","discretizing"]);ze("ordinal",
Ra,"discrete");ze("band",Fc,"discrete");ze("point",function(){return Gc(Fc().paddingInner(1))},"discrete");const Vj=["clamp","base","constant","exponent"];var Qi=he("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Wj=he("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),xk=he("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),fj=he("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),Ri=he("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Ag=he("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),
hi=he("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Wh=he("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Lh=he("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),hj=he("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");const jj={};He({accent:Wj,category10:Qi,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",
category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:xk,observable10:fj,paired:Ri,pastel1:Ag,pastel2:hi,set1:Wh,set2:Lh,set3:hj,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"},of);He({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",
greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",
greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",
yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",
redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},M=>sh(of(M)));const Hj=M=>h.isArray(M)?M.map(ka=>String(ka)):String(M),ij=(M,ka)=>M[1]-ka[1],ag=(M,ka)=>ka[1]-M[1],Si={quantile:"quantiles",quantize:"thresholds",threshold:"domain"},xh={quantile:"quantiles",quantize:"domain"},Xi=M=>(ka,Va,db)=>{Va=db[Va+1];db=db.max;db=null!=db?db:Infinity;Va=null!=Va?Va:db;
ka=Number.isFinite(ka)?M(ka):null;Va=Number.isFinite(Va)?M(Va):null;return ka&&Va?ka+" – "+Va:Va?"\x3c "+Va:"≥ "+ka},ji=M=>(ka,Va)=>Va?M(ka):null,ii=M=>ka=>M(ka);u.Band="band";u.BinOrdinal="bin-ordinal";u.DiscreteLegend="discrete";u.Diverging="diverging";u.GradientLegend="gradient";u.Identity="identity";u.Linear="linear";u.Log="log";u.Ordinal="ordinal";u.Point="point";u.Pow="pow";u.Quantile="quantile";u.Quantize="quantize";u.Sequential="sequential";u.Sqrt="sqrt";u.SymbolLegend="symbol";u.Symlog="symlog";
u.Threshold="threshold";u.Time="time";u.UTC="utc";u.bandSpace=ab;u.domainCaption=function(M,ka,Va){Va=Va||{};var db=Math.max(3,Va.maxlen||7),rb=Va.format;const Lb=(Va=Va.formatType)||ka.type;h.isString(rb)&&dg(Lb)&&(rb=rb.replace(/%a/g,"%A").replace(/%b/g,"%B"));M=rb||"time"!==Lb?rb||"utc"!==Lb?Wg(M,ka,5,null,rb,Va,!0):M.utcFormat("%A, %d %B %Y, %X UTC"):M.timeFormat("%A, %d %B %Y, %X");if(Qf(ka.type))return db=$e(ka).slice(1).map(M),ka=db.length,`${ka} boundar${1===ka?"y":"ies"}: ${db.join(", ")}`;
if(ih(ka.type))return rb=ka.domain(),ka=rb.length,db=ka>db?rb.slice(0,db-2).map(M).join(", ")+", ending with "+rb.slice(-1).map(M):rb.map(M).join(", "),`${ka} value${1===ka?"":"s"}: ${db}`;db=ka.domain();return`values from ${M(db[0])} to ${M(h.peek(db))}`};u.interpolate=Dh;u.interpolateColors=sh;u.interpolateRange=function(M,ka){const Va=ka[0],db=h.peek(ka)-Va;return function(rb){return M(Va+rb*db)}};u.isContinuous=function(M){return Xf(M,"continuous")};u.isDiscrete=ih;u.isDiscretizing=Qf;u.isInterpolating=
function(M){return Xf(M,"interpolating")};u.isLogarithmic=Vg;u.isQuantile=function(M){return Xf(M,"quantile")};u.isRegisteredScale=function(M){return M&&!0===M[zi]};u.isTemporal=dg;u.isValidScaleType=Hf;u.labelFormat=Wg;u.labelFraction=function(M){var ka=M.domain();const Va=ka.length-1;let db=+ka[0];ka=+h.peek(ka);let rb=ka-db;"threshold"===M.type&&(M=Va?rb/Va:.1,db-=M,ka+=M,rb=ka-db);return Lb=>(Lb-db)/rb};u.labelValues=$e;u.quantizeInterpolator=function(M,ka){const Va=Array(ka),db=ka+1;for(let rb=
0;rb<ka;)Va[rb]=M(++rb/db);return Va};u.registerScale=ge;u.scale=ze;u.scaleCopy=function(M){const ka=M.type;M=M.copy();M.type=ka;return M};u.scaleFraction=function(M,ka,Va){var db=Va-ka;let rb,Lb;return db&&Number.isFinite(db)?(db=(rb=M.type).indexOf("-"),rb=0>db?rb:rb.slice(db+1),Lb=ze(rb)().domain([ka,Va]).range([0,1]),Vj.forEach(tc=>M[tc]?Lb[tc](M[tc]()):0),Lb):h.constant(.5)};u.scaleImplicit=uh;u.scheme=hf;u.tickCount=function(M,ka,Va){let db;h.isNumber(ka)&&(M.bins&&(ka=Math.max(ka,M.bins.length)),
null!=Va&&(ka=Math.min(ka,Math.floor(h.span(M.domain())/Va||1)+1)));h.isObject(ka)&&(db=ka.step,ka=ka.interval);h.isString(ka)&&(ka="time"===M.type?ia.timeInterval(ka):"utc"==M.type?ia.utcInterval(ka):h.error("Only time and utc scales accept interval strings."),db&&(ka=ka.every(db)));return ka};u.tickFormat=Yf;u.tickValues=pf;u.validTicks=Ve})};
shadow$provide[34]=function(Eb,ob,Dc,Wa){(function(u,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,ob(21),ob(32),ob(28),ob(33)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-canvas","vega-loader","vega-scale"],h):(u="undefined"!==typeof globalThis?globalThis:u||self,h(u.vega={},u.vega,u.vega,u.vega,u.vega))})(this,function(u,h,ia,ab,zb){function Yb(C,Y,ya){const Na=C.gradient;let Jb=C.id,Ab="radial"===Na?"p_":"";Jb||(Jb=C.id="gradient_"+na++,"radial"===Na?(C.x1=
ac(C.x1,.5),C.y1=ac(C.y1,.5),C.r1=ac(C.r1,0),C.x2=ac(C.x2,.5),C.y2=ac(C.y2,.5),C.r2=ac(C.r2,.5),Ab="p_"):(C.x1=ac(C.x1,0),C.y1=ac(C.y1,0),C.x2=ac(C.x2,1),C.y2=ac(C.y2,0)));Y[Jb]=C;return"url("+(ya||"")+"#"+Ab+Jb+")"}function ac(C,Y){return null!=C?C:Y}function Xb(C){return function(){return C}}function mc(C){return 1<=C?nb:-1>=C?-nb:Math.asin(C)}function Cb(C){this._+=C[0];for(let Y=1,ya=C.length;Y<ya;++Y)this._+=arguments[Y]+C[Y]}function Vb(C){let Y=Math.floor(C);if(!(0<=Y))throw Error(`invalid digits: ${C}`);
if(15<Y)return Cb;const ya=Math.pow(10,Y);return function(Na){this._+=Na[0];for(let Jb=1,Ab=Na.length;Jb<Ab;++Jb)this._+=Math.round(arguments[Jb]*ya)/ya+Na[Jb]}}function jc(){return new Rc}function Ba(C){let Y=3;C.digits=function(ya){if(!arguments.length)return Y;if(null==ya)Y=null;else{const Na=Math.floor(ya);if(!(0<=Na))throw new RangeError(`invalid digits: ${ya}`);Y=Na}return C};return()=>new Rc(Y)}function Za(C){return C.innerRadius}function wb(C){return C.outerRadius}function ub(C){return C.startAngle}
function sb(C){return C.endAngle}function xb(C){return C&&C.padAngle}function hb(C,Y,ya,Na,Jb,Ab,dc){var r=C-ya,I=Y-Na;dc=(dc?Ab:-Ab)/Ga(r*r+I*I);I*=dc;r*=-dc;var ea=C+I,ta=Y+r,$a=ya+I,Pb=Na+r;ya=(ea+$a)/2;Na=(ta+Pb)/2;Y=$a-ea;C=Pb-ta;dc=Y*Y+C*C;Ab=Jb-Ab;Pb=ea*Pb-$a*ta;var hc=(0>C?-1:1)*Ga(ja(0,Ab*Ab*dc-Pb*Pb));ea=(Pb*C-Y*hc)/dc;ta=(-Pb*Y-C*hc)/dc;$a=(Pb*C+Y*hc)/dc;Y=(-Pb*Y+C*hc)/dc;C=ea-ya;dc=ta-Na;ya=$a-ya;Na=Y-Na;C*C+dc*dc>ya*ya+Na*Na&&(ea=$a,ta=Y);return{cx:ea,cy:ta,x01:-I,y01:-r,x11:ea*(Jb/Ab-
1),y11:ta*(Jb/Ab-1)}}function ec(C){return"object"===typeof C&&"length"in C?C:Array.from(C)}function ra(C){this._context=C}function fa(C){return new ra(C)}function za(C){return C[0]}function Ra(C){return C[1]}function Xa(C,Y){function ya(I){var ea,ta=(I=ec(I)).length,$a,Pb=!1,hc;null==Jb&&(dc=Ab(hc=r()));for(ea=0;ea<=ta;++ea)!(ea<ta&&Na($a=I[ea],ea,I))===Pb&&((Pb=!Pb)?dc.lineStart():dc.lineEnd()),Pb&&dc.point(+C($a,ea,I),+Y($a,ea,I));if(hc)return dc=null,hc+""||null}var Na=Xb(!0),Jb=null,Ab=fa,dc=
null,r=Ba(ya);C="function"===typeof C?C:void 0===C?za:Xb(C);Y="function"===typeof Y?Y:void 0===Y?Ra:Xb(Y);ya.x=function(I){return arguments.length?(C="function"===typeof I?I:Xb(+I),ya):C};ya.y=function(I){return arguments.length?(Y="function"===typeof I?I:Xb(+I),ya):Y};ya.defined=function(I){return arguments.length?(Na="function"===typeof I?I:Xb(!!I),ya):Na};ya.curve=function(I){return arguments.length?(Ab=I,null!=Jb&&(dc=Ab(Jb)),ya):Ab};ya.context=function(I){return arguments.length?(null==I?Jb=
dc=null:dc=Ab(Jb=I),ya):Jb};return ya}function Ia(C,Y,ya){function Na($a){var Pb,hc,Kc=($a=ec($a)).length,fc,ad=!1,Wc,Fd=Array(Kc),ie=Array(Kc);null==r&&(ea=I(Wc=ta()));for(Pb=0;Pb<=Kc;++Pb){if(!(Pb<Kc&&dc(fc=$a[Pb],Pb,$a))===ad)if(ad=!ad){var se=Pb;ea.areaStart();ea.lineStart()}else{ea.lineEnd();ea.lineStart();for(hc=Pb-1;hc>=se;--hc)ea.point(Fd[hc],ie[hc]);ea.lineEnd();ea.areaEnd()}ad&&(Fd[Pb]=+C(fc,Pb,$a),ie[Pb]=+Y(fc,Pb,$a),ea.point(Ab?+Ab(fc,Pb,$a):Fd[Pb],ya?+ya(fc,Pb,$a):ie[Pb]))}if(Wc)return ea=
null,Wc+""||null}function Jb(){return Xa().defined(dc).curve(I).context(r)}var Ab=null,dc=Xb(!0),r=null,I=fa,ea=null,ta=Ba(Na);C="function"===typeof C?C:void 0===C?za:Xb(+C);Y="function"===typeof Y?Y:void 0===Y?Xb(0):Xb(+Y);ya="function"===typeof ya?ya:void 0===ya?Ra:Xb(+ya);Na.x=function($a){return arguments.length?(C="function"===typeof $a?$a:Xb(+$a),Ab=null,Na):C};Na.x0=function($a){return arguments.length?(C="function"===typeof $a?$a:Xb(+$a),Na):C};Na.x1=function($a){return arguments.length?(Ab=
null==$a?null:"function"===typeof $a?$a:Xb(+$a),Na):Ab};Na.y=function($a){return arguments.length?(Y="function"===typeof $a?$a:Xb(+$a),ya=null,Na):Y};Na.y0=function($a){return arguments.length?(Y="function"===typeof $a?$a:Xb(+$a),Na):Y};Na.y1=function($a){return arguments.length?(ya=null==$a?null:"function"===typeof $a?$a:Xb(+$a),Na):ya};Na.lineX0=Na.lineY0=function(){return Jb().x(C).y(Y)};Na.lineY1=function(){return Jb().x(C).y(ya)};Na.lineX1=function(){return Jb().x(Ab).y(Y)};Na.defined=function($a){return arguments.length?
(dc="function"===typeof $a?$a:Xb(!!$a),Na):dc};Na.curve=function($a){return arguments.length?(I=$a,null!=r&&(ea=I(r)),Na):I};Na.context=function($a){return arguments.length?(null==$a?r=ea=null:ea=I(r=$a),Na):r};return Na}function ib(){}function bb(C,Y,ya){C._context.bezierCurveTo((2*C._x0+C._x1)/3,(2*C._y0+C._y1)/3,(C._x0+2*C._x1)/3,(C._y0+2*C._y1)/3,(C._x0+4*C._x1+Y)/6,(C._y0+4*C._y1+ya)/6)}function tb(C){this._context=C}function Qb(C){this._context=C}function eb(C){this._context=C}function T(C,
Y){this._basis=new tb(C);this._beta=Y}function Z(C,Y,ya){C._context.bezierCurveTo(C._x1+C._k*(C._x2-C._x0),C._y1+C._k*(C._y2-C._y0),C._x2+C._k*(C._x1-Y),C._y2+C._k*(C._y1-ya),C._x2,C._y2)}function ca(C,Y){this._context=C;this._k=(1-Y)/6}function ha(C,Y){this._context=C;this._k=(1-Y)/6}function La(C,Y){this._context=C;this._k=(1-Y)/6}function oa(C,Y,ya){var Na=C._x1,Jb=C._y1,Ab=C._x2,dc=C._y2;if(1E-12<C._l01_a){var r=2*C._l01_2a+3*C._l01_a*C._l12_a+C._l12_2a,I=3*C._l01_a*(C._l01_a+C._l12_a);Na=(Na*
r-C._x0*C._l12_2a+C._x2*C._l01_2a)/I;Jb=(Jb*r-C._y0*C._l12_2a+C._y2*C._l01_2a)/I}1E-12<C._l23_a&&(r=2*C._l23_2a+3*C._l23_a*C._l12_a+C._l12_2a,I=3*C._l23_a*(C._l23_a+C._l12_a),Ab=(Ab*r+C._x1*C._l23_2a-Y*C._l12_2a)/I,dc=(dc*r+C._y1*C._l23_2a-ya*C._l12_2a)/I);C._context.bezierCurveTo(Na,Jb,Ab,dc,C._x2,C._y2)}function pa(C,Y){this._context=C;this._alpha=Y}function m(C,Y){this._context=C;this._alpha=Y}function D(C,Y){this._context=C;this._alpha=Y}function L(C){this._context=C}function w(C,Y,ya){var Na=
C._x1-C._x0;Y-=C._x1;var Jb=(C._y1-C._y0)/(Na||0>Y&&-0);C=(ya-C._y1)/(Y||0>Na&&-0);return((0>Jb?-1:1)+(0>C?-1:1))*Math.min(Math.abs(Jb),Math.abs(C),.5*Math.abs((Jb*Y+C*Na)/(Na+Y)))||0}function P(C,Y){var ya=C._x1-C._x0;return ya?(3*(C._y1-C._y0)/ya-Y)/2:Y}function A(C,Y,ya){var Na=C._x0,Jb=C._x1,Ab=C._y1,dc=(Jb-Na)/3;C._context.bezierCurveTo(Na+dc,C._y0+dc*Y,Jb-dc,Ab-dc*ya,Jb,Ab)}function V(C){this._context=C}function G(C){this._context=new x(C)}function x(C){this._context=C}function z(C){this._context=
C}function F(C){var Y,ya=C.length-1,Na=Array(ya),Jb=Array(ya),Ab=Array(ya);Na[0]=0;Jb[0]=2;Ab[0]=C[0]+2*C[1];for(Y=1;Y<ya-1;++Y)Na[Y]=1,Jb[Y]=4,Ab[Y]=4*C[Y]+2*C[Y+1];Na[ya-1]=2;Jb[ya-1]=7;Ab[ya-1]=8*C[ya-1]+C[ya];for(Y=1;Y<ya;++Y){var dc=Na[Y]/Jb[Y-1];Jb[Y]-=dc;Ab[Y]-=dc*Ab[Y-1]}Na[ya-1]=Ab[ya-1]/Jb[ya-1];for(Y=ya-2;0<=Y;--Y)Na[Y]=(Ab[Y]-Na[Y+1])/Jb[Y];Jb[ya-1]=(C[ya]+Na[ya-1])/2;for(Y=0;Y<ya-1;++Y)Jb[Y]=2*C[Y+1]-Na[Y+1];return[Na,Jb]}function U(C,Y){this._context=C;this._t=Y}function sa(C,Y,ya){C=
h.hasOwnProperty(Vd,C)&&Vd[C];var Na=null;C&&(Na=C.curve||C[Y||"vertical"],C.tension&&null!=ya&&(Na=Na[C.tension](ya)));return Na}function N(C){const Y=[];(C.match(Pd)||[]).forEach(ya=>{let Na=ya[0];var Jb=Na.toLowerCase();const Ab=le[Jb];var dc=ya.slice(1).trim();ya=[];for(let I=0;Ab&&I<dc.length;)for(let ea=0;ea<Ab;++ea){var r="a"!==Jb||3!==ea&&4!==ea?Qd:Fe;r=dc.slice(I).match(r);if(null===r)throw Error("Invalid SVG path, incorrect parameter type");I+=r[0].length;ya.push(+r[0]);r=dc.slice(I).match(Ne);
null!==r&&(I+=r[0].length)}dc=ya.length;if(dc<Ab||dc&&0!==dc%Ab)throw Error("Invalid SVG path, incorrect parameter count");Y.push([Na,...ya.slice(0,Ab)]);if(dc!==Ab)for("m"===Jb&&(Na="M"===Na?"L":"l"),Jb=Ab;Jb<dc;Jb+=Ab)Y.push([Na,...ya.slice(Jb,Jb+Ab)])});return Y}function la(C,Y,ya,Na,Jb,Ab,dc,r,I){const ea=Dg.call(arguments);if(gf[ea])return gf[ea];var ta=dc*re;const $a=Math.sin(ta);ta=Math.cos(ta);ya=Math.abs(ya);Na=Math.abs(Na);var Pb=ta*(r-C)*.5+$a*(I-Y)*.5,hc=ta*(I-Y)*.5-$a*(r-C)*.5;Pb=Pb*
Pb/(ya*ya)+hc*hc/(Na*Na);1<Pb&&(Pb=Math.sqrt(Pb),ya*=Pb,Na*=Pb);var Kc=ta/ya,fc=$a/ya,ad=-$a/Na,Wc=ta/Na;Pb=Kc*r+fc*I;hc=ad*r+Wc*I;Kc=Kc*C+fc*Y;fc=ad*C+Wc*Y;ad=1/((Kc-Pb)*(Kc-Pb)+(fc-hc)*(fc-hc))-.25;0>ad&&(ad=0);Wc=Math.sqrt(ad);Ab==Jb&&(Wc=-Wc);ad=.5*(Pb+Kc)-Wc*(fc-hc);Wc=.5*(hc+fc)+Wc*(Kc-Pb);Pb=Math.atan2(hc-Wc,Pb-ad);hc=Math.atan2(fc-Wc,Kc-ad)-Pb;0>hc&&1===Ab?hc+=hd:0<hc&&0===Ab&&(hc-=hd);Kc=Math.ceil(Math.abs(hc/(Me+.001)));fc=[];for(let Fd=0;Fd<Kc;++Fd)fc[Fd]=[ad,Wc,Pb+Fd*hc/Kc,Pb+(Fd+1)*hc/
Kc,ya,Na,$a,ta];return gf[ea]=fc}function wa(C,Y,ya,Na,Jb,Ab){var dc=null,r=0,I=0,ea=0,ta=0,$a=0,Pb=0;null==ya&&(ya=0);null==Na&&(Na=0);null==Jb&&(Jb=1);null==Ab&&(Ab=Jb);C.beginPath&&C.beginPath();for(var hc=0,Kc=Y.length;hc<Kc;++hc){var fc=Y[hc];if(1!==Jb||1!==Ab){var ad=Jb;var Wc=Ab;var Fd=vf[0]=fc[0];if("a"===Fd||"A"===Fd)vf[1]=ad*fc[1],vf[2]=Wc*fc[2],vf[3]=fc[3],vf[4]=fc[4],vf[5]=fc[5],vf[6]=ad*fc[6],vf[7]=Wc*fc[7];else if("h"===Fd||"H"===Fd)vf[1]=ad*fc[1];else if("v"===Fd||"V"===Fd)vf[1]=Wc*
fc[1];else{Fd=1;for(var ie=fc.length;Fd<ie;++Fd)vf[Fd]=(1==Fd%2?ad:Wc)*fc[Fd]}fc=vf}switch(fc[0]){case "l":r+=fc[1];I+=fc[2];C.lineTo(r+ya,I+Na);break;case "L":r=fc[1];I=fc[2];C.lineTo(r+ya,I+Na);break;case "h":r+=fc[1];C.lineTo(r+ya,I+Na);break;case "H":r=fc[1];C.lineTo(r+ya,I+Na);break;case "v":I+=fc[1];C.lineTo(r+ya,I+Na);break;case "V":I=fc[1];C.lineTo(r+ya,I+Na);break;case "m":r+=fc[1];I+=fc[2];$a=r;Pb=I;C.moveTo(r+ya,I+Na);break;case "M":r=fc[1];I=fc[2];$a=r;Pb=I;C.moveTo(r+ya,I+Na);break;case "c":ad=
r+fc[5];Wc=I+fc[6];ea=r+fc[3];ta=I+fc[4];C.bezierCurveTo(r+fc[1]+ya,I+fc[2]+Na,ea+ya,ta+Na,ad+ya,Wc+Na);r=ad;I=Wc;break;case "C":r=fc[5];I=fc[6];ea=fc[3];ta=fc[4];C.bezierCurveTo(fc[1]+ya,fc[2]+Na,ea+ya,ta+Na,r+ya,I+Na);break;case "s":ad=r+fc[3];Wc=I+fc[4];ea=2*r-ea;ta=2*I-ta;C.bezierCurveTo(ea+ya,ta+Na,r+fc[1]+ya,I+fc[2]+Na,ad+ya,Wc+Na);ea=r+fc[1];ta=I+fc[2];r=ad;I=Wc;break;case "S":ad=fc[3];Wc=fc[4];ea=2*r-ea;ta=2*I-ta;C.bezierCurveTo(ea+ya,ta+Na,fc[1]+ya,fc[2]+Na,ad+ya,Wc+Na);r=ad;I=Wc;ea=fc[1];
ta=fc[2];break;case "q":ad=r+fc[3];Wc=I+fc[4];ea=r+fc[1];ta=I+fc[2];C.quadraticCurveTo(ea+ya,ta+Na,ad+ya,Wc+Na);r=ad;I=Wc;break;case "Q":ad=fc[3];Wc=fc[4];C.quadraticCurveTo(fc[1]+ya,fc[2]+Na,ad+ya,Wc+Na);r=ad;I=Wc;ea=fc[1];ta=fc[2];break;case "t":ad=r+fc[1];Wc=I+fc[2];null===dc[0].match(/[QqTt]/)?(ea=r,ta=I):"t"===dc[0]?(ea=2*r-se,ta=2*I-Le):"q"===dc[0]&&(ea=2*r-ea,ta=2*I-ta);var se=ea;var Le=ta;C.quadraticCurveTo(ea+ya,ta+Na,ad+ya,Wc+Na);r=ad;I=Wc;ea=r+fc[1];ta=I+fc[2];break;case "T":ad=fc[1];Wc=
fc[2];ea=2*r-ea;ta=2*I-ta;C.quadraticCurveTo(ea+ya,ta+Na,ad+ya,Wc+Na);r=ad;I=Wc;break;case "a":Ma(C,r+ya,I+Na,[fc[1],fc[2],fc[3],fc[4],fc[5],fc[6]+r+ya,fc[7]+I+Na]);r+=fc[6];I+=fc[7];break;case "A":Ma(C,r+ya,I+Na,[fc[1],fc[2],fc[3],fc[4],fc[5],fc[6]+ya,fc[7]+Na]);r=fc[6];I=fc[7];break;case "z":case "Z":r=$a,I=Pb,C.closePath()}dc=fc}}function Ma(C,Y,ya,Na){Y=la(Na[5],Na[6],Na[0],Na[1],Na[3],Na[4],Na[2],Y,ya);for(ya=0;ya<Y.length;++ya){a:{var Jb=Y[ya];Na=Dg.call(Jb);if(lf[Na]){Na=lf[Na];break a}var Ab=
Jb[0],dc=Jb[1],r=Jb[2],I=Jb[3],ea=Jb[4],ta=Jb[5],$a=Jb[6],Pb=Jb[7];Jb=Pb*ea;const Kc=-$a*ta;ea*=$a;ta*=Pb;var hc=Math.cos(r);const fc=Math.sin(r);$a=Math.cos(I);Pb=Math.sin(I);r=.5*(I-r);I=Math.sin(.5*r);I=8/3*I*I/Math.sin(r);r=Ab+hc-I*fc;hc=dc+fc+I*hc;Ab+=$a;dc+=Pb;Pb=Ab+I*Pb;$a=dc-I*$a;Na=lf[Na]=[Jb*r+Kc*hc,ea*r+ta*hc,Jb*Pb+Kc*$a,ea*Pb+ta*$a,Jb*Ab+Kc*dc,ea*Ab+ta*dc]}C.bezierCurveTo(Na[0],Na[1],Na[2],Na[3],Na[4],Na[5])}}function Pa(C){return h.hasOwnProperty(Mf,C)?Mf[C]:Ya(C)}function Ya(C){if(!h.hasOwnProperty(Vf,
C)){const Y=N(C);Vf[C]={draw:function(ya,Na){wa(ya,Y,0,0,Math.sqrt(Na)/2)}}}return Vf[C]}function vb(C){return C.x}function jb(C){return C.y}function Ub(C){return C.width}function W(C){return C.height}function Ea(C){return"function"===typeof C?C:()=>+C}function Mb(C,Y,ya){return Math.max(Y,Math.min(C,ya))}function oc(){function C(ta,$a,Pb){var hc;$a=null!=$a?$a:+Y.call(this,ta);Pb=null!=Pb?Pb:+ya.call(this,ta);var Kc=+Na.call(this,ta),fc=+Jb.call(this,ta),ad=Math.min(Kc,fc)/2,Wc=Mb(+Ab.call(this,
ta),0,ad),Fd=Mb(+dc.call(this,ta),0,ad),ie=Mb(+r.call(this,ta),0,ad);ta=Mb(+I.call(this,ta),0,ad);ea||(ea=hc=jc());0>=Wc&&0>=Fd&&0>=ie&&0>=ta?ea.rect($a,Pb,Kc,fc):(Kc=$a+Kc,fc=Pb+fc,ea.moveTo($a+Wc,Pb),ea.lineTo(Kc-Fd,Pb),ea.bezierCurveTo(Kc-.448084975506*Fd,Pb,Kc,Pb+.448084975506*Fd,Kc,Pb+Fd),ea.lineTo(Kc,fc-ta),ea.bezierCurveTo(Kc,fc-.448084975506*ta,Kc-.448084975506*ta,fc,Kc-ta,fc),ea.lineTo($a+ie,fc),ea.bezierCurveTo($a+.448084975506*ie,fc,$a,fc-.448084975506*ie,$a,fc-ie),ea.lineTo($a,Pb+Wc),
ea.bezierCurveTo($a,Pb+.448084975506*Wc,$a+.448084975506*Wc,Pb,$a+Wc,Pb),ea.closePath());if(hc)return ea=null,hc+""||null}var Y=vb,ya=jb,Na=Ub,Jb=W,Ab=Ea(0),dc=Ab,r=Ab,I=Ab,ea=null;C.x=function(ta){return arguments.length?(Y=Ea(ta),C):Y};C.y=function(ta){return arguments.length?(ya=Ea(ta),C):ya};C.width=function(ta){return arguments.length?(Na=Ea(ta),C):Na};C.height=function(ta){return arguments.length?(Jb=Ea(ta),C):Jb};C.cornerRadius=function(ta,$a,Pb,hc){return arguments.length?(Ab=Ea(ta),dc=null!=
$a?Ea($a):Ab,I=null!=Pb?Ea(Pb):Ab,r=null!=hc?Ea(hc):dc,C):Ab};C.context=function(ta){return arguments.length?(ea=null==ta?null:ta,C):ea};return C}function $b(){function C(ta){var $a,Pb=ta.length,hc,Kc=!1,fc;null==Ab&&(Ab=fc=jc());for($a=0;$a<=Pb;++$a)if(!($a<Pb&&Jb(hc=ta[$a],$a,ta))===Kc&&(Kc=!Kc)&&(dc=0),Kc){var ad=+Y(hc,$a,ta),Wc=+ya(hc,$a,ta);const df=+Na(hc,$a,ta)/2;if(dc){var Fd=I-Wc,ie=ad-r;if(Fd||ie){var se=Math.hypot(Fd,ie),Le=(Fd/=se)*ea;se=(ie/=se)*ea;var rf=Math.atan2(ie,Fd);Ab.moveTo(r-
Le,I-se);Ab.lineTo(ad-Fd*df,Wc-ie*df);Ab.arc(ad,Wc,df,rf-Math.PI,rf);Ab.lineTo(r+Le,I+se);Ab.arc(r,I,ea,rf,rf+Math.PI)}else Ab.arc(ad,Wc,df,0,hd);Ab.closePath()}else dc=1;r=ad;I=Wc;ea=df}if(fc)return Ab=null,fc+""||null}var Y,ya,Na,Jb,Ab=null,dc,r,I,ea;C.x=function(ta){return arguments.length?(Y=ta,C):Y};C.y=function(ta){return arguments.length?(ya=ta,C):ya};C.size=function(ta){return arguments.length?(Na=ta,C):Na};C.defined=function(ta){return arguments.length?(Jb=ta,C):Jb};C.context=function(ta){return arguments.length?
(Ab=null==ta?null:ta,C):Ab};return C}function Nb(C,Y){return null!=C?C:Y}function Rb(C){return C.cornerRadius||C.cornerRadiusTopLeft||C.cornerRadiusTopRight||C.cornerRadiusBottomRight||C.cornerRadiusBottomLeft}function xc(C,Y,ya,Na){return Tg.context(C)(Y,ya,Na)}function dd(C,Y,ya){var Na=Y.clip;C=C._defs;Y=Y.clip_id||(Y.clip_id="clip"+Fg++);C=C.clipping[Y]||(C.clipping[Y]={id:Y});h.isFunction(Na)?C.path=Na(null):Rb(ya)?C.path=xc(null,ya,0,0):(C.width=ya.width||0,C.height=ya.height||0);return"url(#"+
Y+")"}function qa(C){this.clear();C&&this.union(C)}function Db(C){this.mark=C;this.bounds=this.bounds||new qa}function Ua(C){Db.call(this,C);this.items=this.items||[]}function yb(C,Y,ya){if(Y.stroke&&0!==Y.opacity&&0!==Y.strokeOpacity){const Na=null!=Y.strokeWidth?+Y.strokeWidth:1;C.expand(Na+(ya?Y.strokeJoin&&"miter"!==Y.strokeJoin?0:Na:0))}return C}function Hb(C,Y){S=C;Y?(Fc=Y*re,Gc=Ge=Math.cos(Fc),Ld=Math.sin(Fc),ge=-Ld):(Gc=Ge=1,Fc=Ld=ge=0);return Vg}function Ob(C,Y,ya,Na){ya=(C-Y)/(C+ya-2*Y);
0<ya&&1>ya&&Na(C+(Y-C)*ya)}function Zb(C,Y,ya,Na,Jb){const Ab=Na-C+3*Y-3*ya,dc=C+ya-2*Y;var r=C-Y;let I=0,ea=0;1E-14<Math.abs(Ab)?(r=dc*dc+r*Ab,0<=r&&(r=Math.sqrt(r),I=(-dc+r)/Ab,ea=(-dc-r)/Ab)):I=.5*r/dc;0<I&&1>I&&Jb(ic(I,C,Y,ya,Na));0<ea&&1>ea&&Jb(ic(ea,C,Y,ya,Na))}function ic(C,Y,ya,Na,Jb){const Ab=1-C,dc=Ab*Ab,r=C*C;return dc*Ab*Y+3*dc*C*ya+3*Ab*r*Na+r*C*Jb}function Bc(C){return function(Y,ya){if(!dg)return!0;C(dg,Y);sh.clear().union(Y.bounds).intersect(ya).round();const {x1:Na,y1:Jb,x2:Ab,y2:dc}=
sh;for(Y=Jb;Y<=dc;++Y)for(ya=Na;ya<=Ab;++ya)if(dg.isPointInPath(ya,Y))return!0;return!1}}function jd(C,Y){return Y.contains(C.x||0,C.y||0)}function Vc(C,Y){const ya=C.x||0,Na=C.y||0;return Y.intersects(sh.set(ya,Na,ya+(C.width||0),Na+(C.height||0)))}function ma(C,Y){const ya=C.x||0,Na=C.y||0;return Ha(Y,ya,Na,null!=C.x2?C.x2:ya,null!=C.y2?C.y2:Na)}function Ha(C,Y,ya,Na,Jb){const {x1:Ab,y1:dc,x2:r,y2:I}=C;C=Na-Y;Jb-=ya;Na=0;let ea=1,ta,$a,Pb,hc;for(hc=0;4>hc;++hc){0===hc&&(ta=-C,$a=-(Ab-Y));1===hc&&
(ta=C,$a=r-Y);2===hc&&(ta=-Jb,$a=-(dc-ya));3===hc&&(ta=Jb,$a=I-ya);if(1E-10>Math.abs(ta)&&0>$a)return!1;Pb=$a/ta;if(0>ta){if(Pb>ea)return!1;Pb>Na&&(Na=Pb)}else if(0<ta){if(Pb<Na)return!1;Pb<ea&&(ea=Pb)}}return!0}function gb(C,Y){C.globalCompositeOperation=Y.blend||"source-over"}function Q(C,Y){return null==C?Y:C}function t(C,Y){const ya=Y.length;for(let Na=0;Na<ya;++Na)C.addColorStop(Y[Na].offset,Y[Na].color);return C}function ba(C,Y,ya){const Na=ya.width(),Jb=ya.height();if("radial"===Y.gradient)C=
C.createRadialGradient(ya.x1+Q(Y.x1,.5)*Na,ya.y1+Q(Y.y1,.5)*Jb,Math.max(Na,Jb)*Q(Y.r1,0),ya.x1+Q(Y.x2,.5)*Na,ya.y1+Q(Y.y2,.5)*Jb,Math.max(Na,Jb)*Q(Y.r2,.5));else{const Ab=Q(Y.x1,0),dc=Q(Y.y1,0),r=Q(Y.x2,1),I=Q(Y.y2,0);if(Ab===r||dc===I||Na===Jb)C=C.createLinearGradient(ya.x1+Ab*Na,ya.y1+dc*Jb,ya.x1+r*Na,ya.y1+I*Jb);else{ya=ia.canvas(Math.ceil(Na),Math.ceil(Jb));const ea=ya.getContext("2d");ea.scale(Na,Jb);ea.fillStyle=t(ea.createLinearGradient(Ab,dc,r,I),Y.stops);ea.fillRect(0,0,Na,Jb);return C.createPattern(ya,
"no-repeat")}}return t(C,Y.stops)}function xa(C,Y,ya){ya*=null==Y.fillOpacity?1:Y.fillOpacity;return 0<ya?(C.globalAlpha=ya,Y=(ya=Y.fill)&&ya.gradient?ba(C,ya,Y.bounds):ya,C.fillStyle=Y,!0):!1}function Da(C,Y,ya){var Na=null!=(Na=Y.strokeWidth)?Na:1;if(0>=Na)return!1;ya*=null==Y.strokeOpacity?1:Y.strokeOpacity;return 0<ya?(C.globalAlpha=ya,ya=(ya=Y.stroke)&&ya.gradient?ba(C,ya,Y.bounds):ya,C.strokeStyle=ya,C.lineWidth=Na,C.lineCap=Y.strokeCap||"butt",C.lineJoin=Y.strokeJoin||"miter",C.miterLimit=
Y.strokeMiterLimit||10,C.setLineDash&&(C.setLineDash(Y.strokeDash||Dh),C.lineDashOffset=Y.strokeDashOffset||0),!0):!1}function Sa(C,Y){return C.zindex-Y.zindex||C.index-Y.index}function kb(C){if(!C.zdirty)return C.zitems;var Y=C.items,ya=[],Na;var Jb=0;for(Na=Y.length;Jb<Na;++Jb){var Ab=Y[Jb];Ab.index=Jb;Ab.zindex&&ya.push(Ab)}C.zdirty=!1;return C.zitems=ya.sort(Sa)}function Sb(C,Y){var ya=C.items,Na;if(ya&&ya.length){var Jb=kb(C);if(Jb&&Jb.length){C=0;for(Na=ya.length;C<Na;++C)ya[C].zindex||Y(ya[C]);
ya=Jb}C=0;for(Na=ya.length;C<Na;++C)Y(ya[C])}}function Fb(C,Y){var ya=C.items,Na,Jb;if(!ya||!ya.length)return null;const Ab=kb(C);Ab&&Ab.length&&(ya=Ab);for(Jb=ya.length;0<=--Jb;)if(Na=Y(ya[Jb]))return Na;if(ya===Ab)for(ya=C.items,Jb=ya.length;0<=--Jb;)if(!ya[Jb].zindex&&(Na=Y(ya[Jb])))return Na;return null}function Kb(C){return function(Y,ya,Na){Sb(ya,Jb=>{Na&&!Na.intersects(Jb.bounds)||Ec(C,Y,Jb,Jb)})}}function Cc(C){return function(Y,ya,Na){!ya.items.length||Na&&!Na.intersects(ya.bounds)||Ec(C,
Y,ya.items[0],ya.items)}}function Ec(C,Y,ya,Na){var Jb=null==ya.opacity?1:ya.opacity;0===Jb||C(Y,Na)||(gb(Y,ya),ya.fill&&xa(Y,ya,Jb)&&Y.fill(),ya.stroke&&Da(Y,ya,Jb)&&Y.stroke())}function Sc(C){C=C||h.truthy;return function(Y,ya,Na,Jb,Ab,dc){Na*=Y.pixelRatio;Jb*=Y.pixelRatio;return Fb(ya,r=>{const I=r.bounds;if((!I||I.contains(Ab,dc))&&I&&C(Y,r,Na,Jb,Ab,dc))return r})}}function vd(C,Y){return function(ya,Na,Jb,Ab){var dc=Array.isArray(Na)?Na[0]:Na,r=null==Y?dc.fill:Y,I=dc.stroke&&ya.isPointInStroke;
if(I){var ea=dc.strokeWidth;dc=dc.strokeCap;ya.lineWidth=null!=ea?ea:1;ya.lineCap=null!=dc?dc:"butt"}return C(ya,Na)?!1:r&&ya.isPointInPath(Jb,Ab)||I&&ya.isPointInStroke(Jb,Ab)}}function pd(C,Y){return"translate("+C+","+Y+")"}function fd(C,Y,ya){function Na(Jb,Ab){var dc=Ab.x||0,r=Ab.y||0,I=Ab.angle||0;Jb.translate(dc,r);I&&Jb.rotate(I*=re);Jb.beginPath();Y(Jb,Ab);I&&Jb.rotate(-I);Jb.translate(-dc,-r)}return{type:C,tag:"path",nested:!1,attr:function(Jb,Ab){var dc=pd(Ab.x||0,Ab.y||0)+(Ab.angle?" rotate("+
(Ab.angle+")"):"");Jb("transform",dc);Jb("d",Y(null,Ab))},bound:function(Jb,Ab){Y(Hb(Jb,Ab.angle),Ab);return yb(Jb,Ab).translate(Ab.x||0,Ab.y||0)},draw:Kb(Na),pick:Sc(vd(Na)),isect:ya||Bc(Na)}}function Cd(C,Y,ya){function Na(Ab,dc){Ab.beginPath();Y(Ab,dc)}const Jb=vd(Na);return{type:C,tag:"path",nested:!0,attr:function(Ab,dc){dc=dc.mark.items;dc.length&&Ab("d",Y(null,dc))},bound:function(Ab,dc){dc=dc.items;if(0===dc.length)return Ab;Y(Hb(Ab),dc);return yb(Ab,dc[0])},draw:Cc(Na),pick:function(Ab,dc,
r,I,ea,ta){var $a=dc.items;dc=dc.bounds;if(!$a||!$a.length||dc&&!dc.contains(ea,ta))return null;r*=Ab.pixelRatio;I*=Ab.pixelRatio;return Jb(Ab,$a,r,I)?$a[0]:null},isect:jd,tip:ya}}function Dd(C,Y){C.beginPath();Rb(Y)?xc(C,Y,0,0):C.rect(0,0,Y.width||0,Y.height||0);C.clip()}function rd(C){const Y=Q(C.strokeWidth,1);return null!=C.strokeOffset?C.strokeOffset:C.stroke&&.5<Y&&1.5>Y?.5-Math.abs(Y-1):0}function we(C,Y,ya,Na){const Jb=rd(Y);C.beginPath();xc(C,Y,(ya||0)+Jb,(Na||0)+Jb)}function Bd(C,Y){var ya=
C.image;if(!ya||C.url&&C.url!==ya.url)ya={complete:!1,width:0,height:0},Y.loadImage(C.url).then(Na=>{C.image=Na;C.image.url=C.url});return ya}function y(C,Y){return null!=C.width?C.width:Y&&Y.width?!1!==C.aspect&&C.height?C.height*Y.width/Y.height:Y.width:0}function J(C,Y){return null!=C.height?C.height:Y&&Y.height?!1!==C.aspect&&C.width?C.width*Y.height/Y.width:Y.height:0}function va(C,Y){return"center"===C?Y/2:"right"===C?Y:0}function Ka(C,Y){return"middle"===C?Y/2:"bottom"===C?Y:0}function lb(C,
Y){var ya=Y.path;if(null==ya)return!0;var Na=Y.x||0,Jb=Y.y||0,Ab=Y.scaleX||1,dc=Y.scaleY||1,r=(Y.angle||0)*re,I=Y.pathCache;I&&I.path===ya||((Y.pathCache=I=N(ya)).path=ya);r&&C.rotate&&C.translate?(C.translate(Na,Jb),C.rotate(r),wa(C,I,0,0,Ab,dc),C.rotate(-r),C.translate(-Na,-Jb)):wa(C,I,Na,Jb,Ab,dc)}function Bb(C,Y){C.beginPath();xc(C,Y)}function bc(C,Y,ya){if(Y.stroke&&Da(C,Y,ya)){ya=Y.x||0;var Na=Y.y||0;var Jb=null!=Y.x2?Y.x2:ya;Y=null!=Y.y2?Y.y2:Na;C.beginPath();C.moveTo(ya,Na);C.lineTo(Jb,Y);
return!0}return!1}function Tb(C){pg.width=C&&dg?Jc:nc}function nc(C,Y){Y=xd(C,Y);C=Xc(C);return~~(.8*Y.length*C)}function Jc(C,Y){return 0>=Xc(C)||!(Y=xd(C,Y))?0:Ac(Y,me(C))}function Ac(C,Y){const ya=`(${Y}) ${C}`;let Na=Rh.get(ya);void 0===Na&&(dg.font=Y,Na=dg.measureText(C).width,Rh.set(ya,Na));return Na}function Xc(C){return null!=C.fontSize?+C.fontSize||0:11}function kd(C){return null!=C.lineHeight?C.lineHeight:Xc(C)+2}function qd(C){C=C.lineBreak&&C.text&&!h.isArray(C.text)?C.text.split(C.lineBreak):
C.text;return h.isArray(C)?1<C.length?C:C[0]:C}function xd(C,Y){Y=null==Y?"":(Y+"").trim();if(0<C.limit&&Y.length){var ya=+C.limit,Na=nd(C);if(!(Na(Y)<ya)){var Jb=C.ellipsis||"…",Ab="rtl"===C.dir;C=0;var dc=Y.length;ya-=Na(Jb);if(Ab){for(;C<dc;)Ab=C+dc>>>1,Na(Y.slice(Ab))>ya?C=Ab+1:dc=Ab;Y=Jb+Y.slice(C)}else{for(;C<dc;)Ab=1+(C+dc>>>1),Na(Y.slice(0,Ab))<ya?C=Ab:dc=Ab-1;Y=Y.slice(0,C)+Jb}}}return Y}function nd(C){if(pg.width===Jc){const Y=me(C);return ya=>Ac(ya,Y)}if(pg.width===nc){const Y=Xc(C);return ya=>
~~(.8*ya.length*Y)}return Y=>pg.width(C,Y)}function Id(C,Y){C=C.font;return(Y&&C?String(C).replace(/"/g,"'"):C)||"sans-serif"}function me(C,Y){return(C.fontStyle?C.fontStyle+" ":"")+(C.fontVariant?C.fontVariant+" ":"")+(C.fontWeight?C.fontWeight+" ":"")+Xc(C)+"px "+Id(C,Y)}function Oe(C){var Y=C.baseline,ya=Xc(C);return Math.round("top"===Y?.79*ya:"middle"===Y?.3*ya:"bottom"===Y?-.21*ya:"line-top"===Y?.29*ya+.5*kd(C):"line-bottom"===Y?.29*ya-.5*kd(C):0)}function Ie(C){var Y=C.x||0,ya=C.y||0,Na=C.radius||
0;Na&&(C=(C.theta||0)-Me,Y+=Na*Math.cos(C),ya+=Na*Math.sin(C));jg.x1=Y;jg.y1=ya;return jg}function Je(C,Y,ya){var Na=pg.height(Y),Jb=Y.align,Ab=Ie(Y),dc=Ab.x1;Ab=Ab.y1;var r=Y.dx||0,I=(Y.dy||0)+Oe(Y)-Math.round(.8*Na),ea=qd(Y);h.isArray(ea)?(Na+=kd(Y)*(ea.length-1),ea=ea.reduce((ta,$a)=>Math.max(ta,pg.width(Y,$a)),0)):ea=pg.width(Y,ea);"center"===Jb?r-=ea/2:"right"===Jb&&(r-=ea);C.set(r+=dc,I+=Ab,r+ea,I+Na);if(Y.angle&&!ya)C.rotate(Y.angle*re,dc,Ab);else if(2===ya)return C.rotatedPoints(Y.angle*re,
dc,Ab);return C}function tf(C,Y,ya){var Na=Hg[C.mark.marktype];Y=Y||Na.bound;Na.nested&&(C=C.mark);return Y(C.bounds||(C.bounds=new qa),C,ya)}function bf(C,Y,ya){var Na=Hg[C.marktype],Jb=Na.bound,Ab=C.items,dc=Ab&&Ab.length;if(Na.nested)return dc?C=Ab[0]:(ti.mark=C,C=ti),ya=tf(C,Jb,ya),Y=Y&&Y.union(ya)||ya;Y=Y||C.bounds&&C.bounds.clear()||new qa;if(dc)for(Na=0,dc=Ab.length;Na<dc;++Na)Y.union(tf(Ab[Na],Jb,ya));return C.bounds=Y}function E(C,Y){return JSON.stringify(C,di,Y)}function aa(C){C="string"===
typeof C?JSON.parse(C):C;return Fa(C)}function Fa(C){var Y=C.marktype,ya=C.items,Na;if(ya){var Jb=0;for(Na=ya.length;Jb<Na;++Jb){var Ab=Y?"mark":"group";ya[Jb][Ab]=C;ya[Jb].zindex&&(ya[Jb][Ab].zdirty=!0);"group"===(Y||Ab)&&Fa(ya[Jb])}}Y&&bf(C);return C}function fb(C,Y){Y={bounds:new qa,clip:!!C.clip,group:Y,interactive:!1===C.interactive?!1:!0,items:[],marktype:C.marktype,name:C.name||void 0,role:C.role||void 0,zindex:C.zindex||0};null!=C.aria&&(Y.aria=C.aria);C.description&&(Y.description=C.description);
return Y}function Gb(C,Y,ya){!C&&"undefined"!==typeof document&&document.createElement&&(C=document);return C?ya?C.createElementNS(ya,Y):C.createElement(Y):null}function qc(C,Y){Y=Y.toLowerCase();C=C.childNodes;for(var ya=0,Na=C.length;ya<Na;++ya)if(C[ya].tagName.toLowerCase()===Y)return C[ya]}function Ib(C,Y,ya,Na){Y=C.childNodes[Y];if(!Y||Y.tagName.toLowerCase()!==ya.toLowerCase()){var Jb=Y||null;Y=Gb(C.ownerDocument,ya,Na);C.insertBefore(Y,Jb)}return Y}function Oc(C,Y){for(var ya=C.childNodes,
Na=ya.length;Na>Y;)C.removeChild(ya[--Na]);return C}function od(C){return"mark-"+C.marktype+(C.role?" role-"+C.role:"")+(C.name?" "+C.name:"")}function $c(C,Y){const ya=Y.getBoundingClientRect();return[C.clientX-ya.left-(Y.clientLeft||0),C.clientY-ya.top-(Y.clientTop||0)]}function Nc(C,Y,ya,Na){C.element().setAttribute("title",Na||"")}function Nd(C,Y){("touchstart"===Y||"touchmove"===Y||"touchend"===Y?["touchstart","touchmove","touchend"]:[Y]).forEach(ya=>ce(C,ya))}function ce(C,Y){const ya=C.canvas();
ya&&!C._events[Y]&&(C._events[Y]=1,ya.addEventListener(Y,C[Y]?Na=>C[Y](Na):Na=>C.fire(Y,Na)))}function Kd(C,Y,ya){Y.forEach(Na=>C.fire(Na,ya))}function Jd(C,Y,ya){return function(Na){const Jb=this._active,Ab=this.pickEvent(Na);Ab!==Jb&&(Jb&&Jb.exit||Kd(this,ya,Na),this._active=Ab,Kd(this,Y,Na));Kd(this,C,Na)}}function $d(C){return function(Y){Kd(this,C,Y);this._active=null}}function Aa(C,Y){var ya=!1===Y.aria;C("aria-hidden",ya||void 0);if(ya||null==Y.description)for(const Na in dh)C(dh[Na],void 0);
else ya=Y.mark.marktype,C("aria-label",Y.description),C("role",Y.ariaRole||("group"===ya?"graphics-object":"graphics-symbol")),C("aria-roledescription",Y.ariaRoleDescription||`${ya} mark`)}function Oa(C){return!1===C.aria?{["aria-hidden"]:!0}:cj[C.role]?null:fi[C.role]?gd(C,fi[C.role]):cc(C)}function cc(C){const Y=C.marktype,ya="group"===Y||"text"===Y||C.items.some(Na=>null!=Na.description&&!1!==Na.aria);return eg(ya?"graphics-object":"graphics-symbol",`${Y} mark container`,C.description)}function gd(C,
Y){try{const ya=C.items[0],Na=Y.caption||(()=>"");return eg(Y.role||"graphics-symbol",Y.desc,ya.description||Na(ya))}catch(ya){return null}}function rc(C){try{return h.array(h.peek(C.items).items[0].text).join(" ")}catch(Y){return null}}function Pc(C){C=C.map(Y=>Y+("fill"===Y||"stroke"===Y?" color":""));return 2>C.length?C[0]:C.slice(0,-1).join(", ")+" and "+h.peek(C)}function Hc(){let C="",Y="",ya="";const Na=[],Jb=(dc,r)=>{null!=r&&(Y+=` ${dc}="${vi(r).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,
"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return Ab},Ab={open(dc,...r){Y&&(C+=`${Y}>${ya}`,Y=ya="");Na.push(dc);Y="\x3c"+dc;for(const I of r)for(const ea in I)Jb(ea,I[ea]);return Ab},close(){const dc=Na.pop();C=Y?C+(Y+(ya?`>${ya}</${dc}>`:"/\x3e")):C+`</${dc}>`;Y=ya="";return Ab},attr:Jb,text:dc=>(ya+=vi(dc),Ab),toString:()=>C};return Ab}function Tc(C,Y){C.open(Y.tagName);if(Y.hasAttributes()){const ya=Y.attributes,Na=ya.length;for(let Jb=0;Jb<Na;++Jb)C.attr(ya[Jb].name,ya[Jb].value)}if(Y.hasChildNodes()){Y=
Y.childNodes;for(const ya of Y)3===ya.nodeType?C.text(ya.nodeValue):Tc(C,ya)}return C.close()}function Yc(C,Y){for(;C&&C.dirty!==Y;C=C.mark.group)if(C.dirty=Y,C.mark&&C.mark.dirty!==Y)C.mark.dirty=Y;else break}function id(C,Y,ya,Na){Y=Y.lastChild.previousSibling;let Jb,Ab=0;Sb(ya,dc=>{Jb=C.mark(Y,dc,Jb,Na);++Ab});Oc(Y,1+Ab)}function ld(C,Y,ya,Na,Jb){let Ab=C._svg;if(!Ab){var dc=Y.ownerDocument;Ab=Gb(dc,Na,Te);C._svg=Ab;C.mark&&(Ab.__data__=C,Ab.__values__={fill:"default"},"g"===Na&&(Na=Gb(dc,"path",
Te),Ab.appendChild(Na),Na.__data__=C,Na=Gb(dc,"g",Te),Ab.appendChild(Na),Na.__data__=C,dc=Gb(dc,"path",Te),Ab.appendChild(dc),dc.__data__=C,dc.__values__={fill:"default"}))}(Ab.ownerSVGElement!==Jb||Ab.parentNode&&1<Ab.parentNode.childNodes.length&&Ab.previousSibling!=ya)&&Y.insertBefore(Ab,ya?ya.nextSibling:Y.firstChild);return Ab}function fe(C,Y,ya){if(Y!==xf[C]){if(ya){var Na=Mg;null!=Y?Na.setAttributeNS(ya,C,Y):Na.removeAttributeNS(ya,C)}else ne(Mg,C,Y);xf[C]=Y}}function Re(C,Y,ya){ya!==xf[Y]&&
(null==ya?C.style.removeProperty(Y):C.style.setProperty(Y,ya+""),xf[Y]=ya)}function Ee(C,Y){for(const ya in Y)ne(C,ya,Y[ya])}function ne(C,Y,ya){null!=ya?C.setAttribute(Y,ya):C.removeAttribute(Y)}function ef(){let C;return"undefined"===typeof window?"":(C=window.location).hash?C.href.slice(0,-C.hash.length):C.href}function kf(C,Y,ya,Na,Jb){let Ab;if(null==Y)return C;"bgrect"===Na&&!1===ya.interactive&&(C["pointer-events"]="none");if("bgfore"===Na&&(!1===ya.interactive&&(C["pointer-events"]="none"),
C.display="none",null!==Y.fill))return C;"image"===Na&&!1===Y.smooth&&(Ab=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]);"text"===Na&&(C["font-family"]=Id(Y),C["font-size"]=Xc(Y)+"px",C["font-style"]=Y.fontStyle,C["font-variant"]=Y.fontVariant,C["font-weight"]=Y.fontWeight);for(const dc in eh)ya=Y[dc],Na=eh[dc],("transparent"!==ya||"fill"!==Na&&"stroke"!==Na)&&null!=ya&&(ya&&ya.gradient&&(ya=Yb(ya,Jb.gradient,"")),C[Na]=ya);for(const dc in lh)Jb=Y[dc],null!=Jb&&(Ab=Ab||[],Ab.push(`${lh[dc]}: ${Jb};`));
Ab&&(C.style=Ab.join(" "));return C}function Ke(C,Y,ya,Na){if(C.bounds&&Y.intersects(C.bounds)&&("group"===C.marktype||!1!==C.interactive&&(!ya||ya(C)))){const Ab=C.items;var Jb=C.marktype;C=Ab.length;let dc=0;if("group"===Jb)for(;dc<C;++dc)Ye(Ab[dc],Y,ya,Na);else for(ya=Hg[Jb].isect;dc<C;++dc)Jb=Ab[dc],Ze(Jb,Y,ya)&&Na.push(Jb)}return Na}function Ye(C,Y,ya,Na){ya&&ya(C.mark)&&Ze(C,Y,Hg.group.isect)&&Na.push(C);const Jb=C.items,Ab=Jb&&Jb.length;if(Ab){const dc=C.x||0;C=C.y||0;Y.translate(-dc,-C);for(let r=
0;r<Ab;++r)Ke(Jb[r],Y,ya,Na);Y.translate(dc,C)}return Na}function Ze(C,Y,ya){const Na=C.bounds;return Y.encloses(Na)||Y.intersects(Na)&&ya(C,Y)}function ue(C,Y,ya){return C===Y?!0:"path"===ya?oe(C,Y):C instanceof Date&&Y instanceof Date?+C===+Y:h.isNumber(C)&&h.isNumber(Y)?1E-9>=Math.abs(C-Y):C&&Y&&(h.isObject(C)||h.isObject(Y))?Ae(C,Y):C==Y}function oe(C,Y){return ue(N(C),N(Y))}function Ae(C,Y){var ya=Object.keys(C),Na=Object.keys(Y),Jb;if(ya.length!==Na.length)return!1;ya.sort();Na.sort();for(Jb=
ya.length-1;0<=Jb;Jb--)if(ya[Jb]!=Na[Jb])return!1;for(Jb=ya.length-1;0<=Jb;Jb--)if(Na=ya[Jb],!ue(C[Na],Y[Na],Na))return!1;return typeof C===typeof Y}let na=0;const l=Math.abs,q=Math.atan2,K=Math.cos,ja=Math.max,Ca=Math.min,Qa=Math.sin,Ga=Math.sqrt,qb=Math.PI,nb=qb/2,wc=2*qb,vc=Math.PI,zc=2*vc,yc=zc-1E-6;class Rc{constructor(C){this._x0=this._y0=this._x1=this._y1=null;this._="";this._append=null==C?Cb:Vb(C)}moveTo(C,Y){this._append`M${this._x0=this._x1=+C},${this._y0=this._y1=+Y}`}closePath(){null!==
this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(C,Y){this._append`L${this._x1=+C},${this._y1=+Y}`}quadraticCurveTo(C,Y,ya,Na){this._append`Q${+C},${+Y},${this._x1=+ya},${this._y1=+Na}`}bezierCurveTo(C,Y,ya,Na,Jb,Ab){this._append`C${+C},${+Y},${+ya},${+Na},${this._x1=+Jb},${this._y1=+Ab}`}arcTo(C,Y,ya,Na,Jb){C=+C;Y=+Y;ya=+ya;Na=+Na;Jb=+Jb;if(0>Jb)throw Error(`negative radius: ${Jb}`);var Ab=this._x1,dc=this._y1;let r=ya-C,I=Na-Y,ea=Ab-C,ta=dc-Y;var $a=ea*ea+ta*ta;if(null===this._x1)this._append`M${this._x1=
C},${this._y1=Y}`;else if(1E-6<$a)if(1E-6<Math.abs(ta*r-I*ea)&&Jb){ya-=Ab;Na-=dc;let Pb=r*r+I*I;dc=Math.sqrt(Pb);Ab=Math.sqrt($a);$a=Jb*Math.tan((vc-Math.acos((Pb+$a-(ya*ya+Na*Na))/(2*dc*Ab)))/2);Ab=$a/Ab;$a/=dc;1E-6<Math.abs(Ab-1)&&this._append`L${C+Ab*ea},${Y+Ab*ta}`;this._append`A${Jb},${Jb},0,0,${+(ta*ya>ea*Na)},${this._x1=C+$a*r},${this._y1=Y+$a*I}`}else this._append`L${this._x1=C},${this._y1=Y}`}arc(C,Y,ya,Na,Jb,Ab){C=+C;Y=+Y;ya=+ya;Ab=!!Ab;if(0>ya)throw Error(`negative radius: ${ya}`);let dc=
ya*Math.cos(Na),r=ya*Math.sin(Na),I=C+dc,ea=Y+r,ta=1^Ab;Na=Ab?Na-Jb:Jb-Na;null===this._x1?this._append`M${I},${ea}`:(1E-6<Math.abs(this._x1-I)||1E-6<Math.abs(this._y1-ea))&&this._append`L${I},${ea}`;ya&&(0>Na&&(Na=Na%zc+zc),Na>yc?this._append`A${ya},${ya},0,1,${ta},${C-dc},${Y-r}A${ya},${ya},0,1,${ta},${this._x1=I},${this._y1=ea}`:1E-6<Na&&this._append`A${ya},${ya},0,${+(Na>=vc)},${ta},${this._x1=C+ya*Math.cos(Jb)},${this._y1=Y+ya*Math.sin(Jb)}`)}rect(C,Y,ya,Na){this._append`M${this._x0=this._x1=
+C},${this._y0=this._y1=+Y}h${ya=+ya}v${+Na}h${-ya}Z`}toString(){return this._}}jc.prototype=Rc.prototype;ra.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(C,Y){C=+C;Y=+Y;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(C,Y):this._context.moveTo(C,Y);break;case 1:this._point=
2;default:this._context.lineTo(C,Y)}}};var ed={draw(C,Y){Y=Ga(Y/qb);C.moveTo(Y,0);C.arc(0,0,Y,0,wc)}};tb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:bb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(C,Y){C=
+C;Y=+Y;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(C,Y):this._context.moveTo(C,Y);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bb(this,C,Y)}this._x0=this._x1;this._x1=C;this._y0=this._y1;this._y1=Y}};Qb.prototype={areaStart:ib,areaEnd:ib,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,
this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(C,Y){C=+C;Y=+Y;switch(this._point){case 0:this._point=1;this._x2=C;this._y2=Y;break;case 1:this._point=2;this._x3=C;this._y3=Y;break;case 2:this._point=3;this._x4=C;this._y4=
Y;this._context.moveTo((this._x0+4*this._x1+C)/6,(this._y0+4*this._y1+Y)/6);break;default:bb(this,C,Y)}this._x0=this._x1;this._x1=C;this._y0=this._y1;this._y1=Y}};eb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(C,Y){C=+C;Y=+Y;switch(this._point){case 0:this._point=
1;break;case 1:this._point=2;break;case 2:this._point=3;var ya=(this._x0+4*this._x1+C)/6,Na=(this._y0+4*this._y1+Y)/6;this._line?this._context.lineTo(ya,Na):this._context.moveTo(ya,Na);break;case 3:this._point=4;default:bb(this,C,Y)}this._x0=this._x1;this._x1=C;this._y0=this._y1;this._y1=Y}};T.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var C=this._x,Y=this._y,ya=C.length-1;if(0<ya)for(var Na=C[0],Jb=Y[0],Ab=C[ya]-Na,dc=Y[ya]-Jb,r=-1,I;++r<=ya;)I=
r/ya,this._basis.point(this._beta*C[r]+(1-this._beta)*(Na+I*Ab),this._beta*Y[r]+(1-this._beta)*(Jb+I*dc));this._x=this._y=null;this._basis.lineEnd()},point:function(C,Y){this._x.push(+C);this._y.push(+Y)}};var Td=function ya(Y){function Na(Jb){return 1===Y?new tb(Jb):new T(Jb,Y)}Na.beta=function(Jb){return ya(+Jb)};return Na}(.85);ca.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=
0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Z(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Y,ya){Y=+Y;ya=+ya;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Y,ya):this._context.moveTo(Y,ya);break;case 1:this._point=2;this._x1=Y;this._y1=ya;break;case 2:this._point=3;default:Z(this,Y,ya)}this._x0=this._x1;this._x1=this._x2;this._x2=
Y;this._y0=this._y1;this._y1=this._y2;this._y2=ya}};var Ad=function Na(ya){function Jb(Ab){return new ca(Ab,ya)}Jb.tension=function(Ab){return Na(+Ab)};return Jb}(0);ha.prototype={areaStart:ib,areaEnd:ib,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,
this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(ya,Na){ya=+ya;Na=+Na;switch(this._point){case 0:this._point=1;this._x3=ya;this._y3=Na;break;case 1:this._point=2;this._context.moveTo(this._x4=ya,this._y4=Na);break;case 2:this._point=3;this._x5=ya;this._y5=Na;break;default:Z(this,ya,Na)}this._x0=this._x1;this._x1=this._x2;this._x2=ya;this._y0=this._y1;this._y1=this._y2;this._y2=Na}};var Md=function Jb(Na){function Ab(dc){return new ha(dc,
Na)}Ab.tension=function(dc){return Jb(+dc)};return Ab}(0);La.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Na,Jb){Na=+Na;Jb=+Jb;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,
this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Z(this,Na,Jb)}this._x0=this._x1;this._x1=this._x2;this._x2=Na;this._y0=this._y1;this._y1=this._y2;this._y2=Jb}};var Ud=function Ab(Jb){function dc(r){return new La(r,Jb)}dc.tension=function(r){return Ab(+r)};return dc}(0);pa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=
this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Jb,Ab){Jb=+Jb;Ab=+Ab;if(this._point){var dc=this._x2-Jb,r=this._y2-Ab;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(dc*dc+r*r,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Jb,
Ab):this._context.moveTo(Jb,Ab);break;case 1:this._point=2;break;case 2:this._point=3;default:oa(this,Jb,Ab)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Jb;this._y0=this._y1;this._y1=this._y2;this._y2=Ab}};var pc=function dc(Ab){function r(I){return Ab?new pa(I,Ab):new ca(I,0)}r.alpha=function(I){return dc(+I)};return r}(.5);m.prototype={areaStart:ib,areaEnd:ib,lineStart:function(){this._x0=this._x1=
this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Ab,dc){Ab=
+Ab;dc=+dc;if(this._point){var r=this._x2-Ab,I=this._y2-dc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+I*I,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=Ab;this._y3=dc;break;case 1:this._point=2;this._context.moveTo(this._x4=Ab,this._y4=dc);break;case 2:this._point=3;this._x5=Ab;this._y5=dc;break;default:oa(this,Ab,dc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Ab;this._y0=this._y1;
this._y1=this._y2;this._y2=dc}};var Hd=function r(dc){function I(ea){return dc?new m(ea,dc):new ha(ea,0)}I.alpha=function(ea){return r(+ea)};return I}(.5);D.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=
1-this._line},point:function(dc,r){dc=+dc;r=+r;if(this._point){var I=this._x2-dc,ea=this._y2-r;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(I*I+ea*ea,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:oa(this,dc,r)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=
this._x1;this._x1=this._x2;this._x2=dc;this._y0=this._y1;this._y1=this._y2;this._y2=r}};var Be=function I(r){function ea(ta){return r?new D(ta,r):new La(ta,0)}ea.alpha=function(ta){return I(+ta)};return ea}(.5);L.prototype={areaStart:ib,areaEnd:ib,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(r,I){r=+r;I=+I;this._point?this._context.lineTo(r,I):(this._point=1,this._context.moveTo(r,I))}};V.prototype={areaStart:function(){this._line=0},
areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:A(this,this._t0,P(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(r,I){var ea=NaN;r=+r;I=+I;if(r!==this._x1||I!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(r,I):
this._context.moveTo(r,I);break;case 1:this._point=2;break;case 2:this._point=3;A(this,P(this,ea=w(this,r,I)),ea);break;default:A(this,this._t0,ea=w(this,r,I))}this._x0=this._x1;this._x1=r;this._y0=this._y1;this._y1=I;this._t0=ea}}};(G.prototype=Object.create(V.prototype)).point=function(r,I){V.prototype.point.call(this,I,r)};x.prototype={moveTo:function(r,I){this._context.moveTo(I,r)},closePath:function(){this._context.closePath()},lineTo:function(r,I){this._context.lineTo(I,r)},bezierCurveTo:function(r,
I,ea,ta,$a,Pb){this._context.bezierCurveTo(I,r,ta,ea,Pb,$a)}};z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var r=this._x,I=this._y,ea=r.length;if(ea)if(this._line?this._context.lineTo(r[0],I[0]):this._context.moveTo(r[0],I[0]),2===ea)this._context.lineTo(r[1],I[1]);else for(var ta=F(r),$a=F(I),Pb=0,hc=1;hc<ea;++Pb,++hc)this._context.bezierCurveTo(ta[0][Pb],$a[0][Pb],ta[1][Pb],$a[1][Pb],r[hc],I[hc]);
(this._line||0!==this._line&&1===ea)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(r,I){this._x.push(+r);this._y.push(+I)}};U.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,
this._line=1-this._line)},point:function(r,I){r=+r;I=+I;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(r,I):this._context.moveTo(r,I);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,I),this._context.lineTo(r,I);else{var ea=this._x*(1-this._t)+r*this._t;this._context.lineTo(ea,this._y);this._context.lineTo(ea,I)}}this._x=r;this._y=I}};const Vd={basis:{curve:function(r){return new tb(r)}},"basis-closed":{curve:function(r){return new Qb(r)}},"basis-open":{curve:function(r){return new eb(r)}},
bundle:{curve:Td,tension:"beta",value:.85},cardinal:{curve:Ad,tension:"tension",value:0},"cardinal-open":{curve:Ud,tension:"tension",value:0},"cardinal-closed":{curve:Md,tension:"tension",value:0},"catmull-rom":{curve:pc,tension:"alpha",value:.5},"catmull-rom-closed":{curve:Hd,tension:"alpha",value:.5},"catmull-rom-open":{curve:Be,tension:"alpha",value:.5},linear:{curve:fa},"linear-closed":{curve:function(r){return new L(r)}},monotone:{horizontal:function(r){return new G(r)},vertical:function(r){return new V(r)}},
natural:{curve:function(r){return new z(r)}},step:{curve:function(r){return new U(r,.5)}},"step-after":{curve:function(r){return new U(r,1)}},"step-before":{curve:function(r){return new U(r,0)}}},le={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},Pd=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,Qd=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,Ne=/^((\s+,?\s*)|(,\s*))/,Fe=/^[01]/,re=Math.PI/180,Me=Math.PI/2,hd=2*Math.PI,ve=Math.sqrt(3)/2;var gf={},lf={},Dg=[].join;const vf=["l",0,0,0,0,0,0,0],Mf=
{circle:{draw:function(r,I){I=Math.sqrt(I)/2;r.moveTo(I,0);r.arc(0,0,I,0,hd)}},cross:{draw:function(r,I){I=Math.sqrt(I)/2;var ea=I/2.5;r.moveTo(-I,-ea);r.lineTo(-I,ea);r.lineTo(-ea,ea);r.lineTo(-ea,I);r.lineTo(ea,I);r.lineTo(ea,ea);r.lineTo(I,ea);r.lineTo(I,-ea);r.lineTo(ea,-ea);r.lineTo(ea,-I);r.lineTo(-ea,-I);r.lineTo(-ea,-ea);r.closePath()}},diamond:{draw:function(r,I){I=Math.sqrt(I)/2;r.moveTo(-I,0);r.lineTo(0,-I);r.lineTo(I,0);r.lineTo(0,I);r.closePath()}},square:{draw:function(r,I){I=Math.sqrt(I);
var ea=-I/2;r.rect(ea,ea,I,I)}},arrow:{draw:function(r,I){I=Math.sqrt(I)/2;var ea=I/7,ta=I/2.5,$a=I/8;r.moveTo(-ea,I);r.lineTo(ea,I);r.lineTo(ea,-$a);r.lineTo(ta,-$a);r.lineTo(0,-I);r.lineTo(-ta,-$a);r.lineTo(-ea,-$a);r.closePath()}},wedge:{draw:function(r,I){var ea=Math.sqrt(I)/2;I=ve*ea;var ta=I-.5773502691896257*ea;ea/=4;r.moveTo(0,-I-ta);r.lineTo(-ea,I-ta);r.lineTo(ea,I-ta);r.closePath()}},triangle:{draw:function(r,I){I=Math.sqrt(I)/2;var ea=ve*I,ta=ea-.5773502691896257*I;r.moveTo(0,-ea-ta);r.lineTo(-I,
ea-ta);r.lineTo(I,ea-ta);r.closePath()}},"triangle-up":{draw:function(r,I){I=Math.sqrt(I)/2;var ea=ve*I;r.moveTo(0,-ea);r.lineTo(-I,ea);r.lineTo(I,ea);r.closePath()}},"triangle-down":{draw:function(r,I){I=Math.sqrt(I)/2;var ea=ve*I;r.moveTo(0,ea);r.lineTo(-I,-ea);r.lineTo(I,-ea);r.closePath()}},"triangle-right":{draw:function(r,I){I=Math.sqrt(I)/2;var ea=ve*I;r.moveTo(ea,0);r.lineTo(-ea,-I);r.lineTo(-ea,I);r.closePath()}},"triangle-left":{draw:function(r,I){I=Math.sqrt(I)/2;var ea=ve*I;r.moveTo(-ea,
0);r.lineTo(ea,-I);r.lineTo(ea,I);r.closePath()}},stroke:{draw:function(r,I){I=Math.sqrt(I)/2;r.moveTo(-I,0);r.lineTo(I,0)}}};var Vf={};const mf=r=>r.x||0,Se=r=>r.y||0,Wf=r=>!1!==r.defined,og=function(){function r(){var Wc,Fd=+I.apply(this,arguments),ie=+ea.apply(this,arguments),se=Pb.apply(this,arguments)-nb,Le=hc.apply(this,arguments)-nb,rf=l(Le-se),df=Le>se;fc||(fc=Wc=ad());if(ie<Fd){var $g=ie;ie=Fd;Fd=$g}if(1E-12<ie)if(rf>wc-1E-12)fc.moveTo(ie*K(se),ie*Qa(se)),fc.arc(0,0,ie,se,Le,!df),1E-12<Fd&&
(fc.moveTo(Fd*K(Le),Fd*Qa(Le)),fc.arc(0,0,Fd,Le,se,df));else{var qe=se,Qe=Le;$g=se;var nh=Le,ph=rf,wf=rf,zf=Kc.apply(this,arguments)/2,yg=1E-12<zf&&($a?+$a.apply(this,arguments):Ga(Fd*Fd+ie*ie)),kh=Ca(l(ie-Fd)/2,+ta.apply(this,arguments)),Df=kh,qf=kh;if(1E-12<yg){var Jg=mc(yg/Fd*Qa(zf));zf=mc(yg/ie*Qa(zf));1E-12<(ph-=2*Jg)?(Jg*=df?1:-1,$g+=Jg,nh-=Jg):(ph=0,$g=nh=(se+Le)/2);1E-12<(wf-=2*zf)?(zf*=df?1:-1,qe+=zf,Qe-=zf):(wf=0,qe=Qe=(se+Le)/2)}se=ie*K(qe);Le=ie*Qa(qe);Jg=Fd*K(nh);zf=Fd*Qa(nh);if(1E-12<
kh){var hg=ie*K(Qe),Eh=ie*Qa(Qe),gi=Fd*K($g),cg=Fd*Qa($g);if(rf<qb){Df=gi-se;qf=cg-Le;rf=Jg-hg;yg=zf-Eh;var Af=yg*Df-rf*qf;1E-12>Af*Af?Df=void 0:(Af=(rf*(Le-Eh)-yg*(se-hg))/Af,Df=[se+Af*Df,Le+Af*qf]);Df?(qf=se-Df[0],rf=Le-Df[1],yg=hg-Df[0],Af=Eh-Df[1],qf=(qf*yg+rf*Af)/(Ga(qf*qf+rf*rf)*Ga(yg*yg+Af*Af)),qf=1/Qa((1<qf?0:-1>qf?qb:Math.acos(qf))/2),rf=Ga(Df[0]*Df[0]+Df[1]*Df[1]),Df=Ca(kh,(Fd-rf)/(qf-1)),qf=Ca(kh,(ie-rf)/(qf+1))):Df=qf=0}}1E-12<wf?1E-12<qf?(qe=hb(gi,cg,se,Le,ie,qf,df),Qe=hb(hg,Eh,Jg,zf,
ie,qf,df),fc.moveTo(qe.cx+qe.x01,qe.cy+qe.y01),qf<kh?fc.arc(qe.cx,qe.cy,qf,q(qe.y01,qe.x01),q(Qe.y01,Qe.x01),!df):(fc.arc(qe.cx,qe.cy,qf,q(qe.y01,qe.x01),q(qe.y11,qe.x11),!df),fc.arc(0,0,ie,q(qe.cy+qe.y11,qe.cx+qe.x11),q(Qe.cy+Qe.y11,Qe.cx+Qe.x11),!df),fc.arc(Qe.cx,Qe.cy,qf,q(Qe.y11,Qe.x11),q(Qe.y01,Qe.x01),!df))):(fc.moveTo(se,Le),fc.arc(0,0,ie,qe,Qe,!df)):fc.moveTo(se,Le);1E-12<Fd&&1E-12<ph?1E-12<Df?(qe=hb(Jg,zf,hg,Eh,Fd,-Df,df),Qe=hb(se,Le,gi,cg,Fd,-Df,df),fc.lineTo(qe.cx+qe.x01,qe.cy+qe.y01),
Df<kh?fc.arc(qe.cx,qe.cy,Df,q(qe.y01,qe.x01),q(Qe.y01,Qe.x01),!df):(fc.arc(qe.cx,qe.cy,Df,q(qe.y01,qe.x01),q(qe.y11,qe.x11),!df),fc.arc(0,0,Fd,q(qe.cy+qe.y11,qe.cx+qe.x11),q(Qe.cy+Qe.y11,Qe.cx+Qe.x11),df),fc.arc(Qe.cx,Qe.cy,Df,q(Qe.y11,Qe.x11),q(Qe.y01,Qe.x01),!df))):fc.arc(0,0,Fd,nh,$g,df):fc.lineTo(Jg,zf)}else fc.moveTo(0,0);fc.closePath();if(Wc)return fc=null,Wc+""||null}var I=Za,ea=wb,ta=Xb(0),$a=null,Pb=ub,hc=sb,Kc=xb,fc=null,ad=Ba(r);r.centroid=function(){var Wc=(+I.apply(this,arguments)+ +ea.apply(this,
arguments))/2,Fd=(+Pb.apply(this,arguments)+ +hc.apply(this,arguments))/2-qb/2;return[K(Fd)*Wc,Qa(Fd)*Wc]};r.innerRadius=function(Wc){return arguments.length?(I="function"===typeof Wc?Wc:Xb(+Wc),r):I};r.outerRadius=function(Wc){return arguments.length?(ea="function"===typeof Wc?Wc:Xb(+Wc),r):ea};r.cornerRadius=function(Wc){return arguments.length?(ta="function"===typeof Wc?Wc:Xb(+Wc),r):ta};r.padRadius=function(Wc){return arguments.length?($a=null==Wc?null:"function"===typeof Wc?Wc:Xb(+Wc),r):$a};
r.startAngle=function(Wc){return arguments.length?(Pb="function"===typeof Wc?Wc:Xb(+Wc),r):Pb};r.endAngle=function(Wc){return arguments.length?(hc="function"===typeof Wc?Wc:Xb(+Wc),r):hc};r.padAngle=function(Wc){return arguments.length?(Kc="function"===typeof Wc?Wc:Xb(+Wc),r):Kc};r.context=function(Wc){return arguments.length?(fc=null==Wc?null:Wc,r):fc};return r}().startAngle(r=>r.startAngle||0).endAngle(r=>r.endAngle||0).padAngle(r=>r.padAngle||0).innerRadius(r=>r.innerRadius||0).outerRadius(r=>
r.outerRadius||0).cornerRadius(r=>r.cornerRadius||0),Uf=Ia().x(mf).y1(Se).y0(r=>(r.y||0)+(r.height||0)).defined(Wf),ig=Ia().y(Se).x1(mf).x0(r=>(r.x||0)+(r.width||0)).defined(Wf),Bf=Xa().x(mf).y(Se).defined(Wf),Tg=oc().x(mf).y(Se).width(r=>r.width||0).height(r=>r.height||0).cornerRadius(r=>Nb(r.cornerRadiusTopLeft,r.cornerRadius)||0,r=>Nb(r.cornerRadiusTopRight,r.cornerRadius)||0,r=>Nb(r.cornerRadiusBottomRight,r.cornerRadius)||0,r=>Nb(r.cornerRadiusBottomLeft,r.cornerRadius)||0),Eg=function(r,I){function ea(){let Pb;
ta||(ta=Pb=$a());r.apply(this,arguments).draw(ta,+I.apply(this,arguments));if(Pb)return ta=null,Pb+""||null}let ta=null,$a=Ba(ea);r="function"===typeof r?r:Xb(r||ed);I="function"===typeof I?I:Xb(void 0===I?64:+I);ea.type=function(Pb){return arguments.length?(r="function"===typeof Pb?Pb:Xb(Pb),ea):r};ea.size=function(Pb){return arguments.length?(I="function"===typeof Pb?Pb:Xb(+Pb),ea):I};ea.context=function(Pb){return arguments.length?(ta=null==Pb?null:Pb,ea):ta};return ea}().type(r=>Pa(r.shape||"circle")).size(r=>
Nb(r.size,64)),Ch=$b().x(mf).y(Se).defined(Wf).size(r=>r.size||1);var Fg=1;qa.prototype={clone(){return new qa(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(r){return this.x1===r.x1&&this.y1===r.y1&&this.x2===r.x2&&this.y2===r.y2},set(r,I,ea,ta){ea<r?(this.x2=r,this.x1=ea):(this.x1=
r,this.x2=ea);ta<I?(this.y2=I,this.y1=ta):(this.y1=I,this.y2=ta);return this},add(r,I){r<this.x1&&(this.x1=r);I<this.y1&&(this.y1=I);r>this.x2&&(this.x2=r);I>this.y2&&(this.y2=I);return this},expand(r){this.x1-=r;this.y1-=r;this.x2+=r;this.y2+=r;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(r){this.x1*=r;this.y1*=r;this.x2*=r;this.y2*=r;return this},translate(r,I){this.x1+=r;this.x2+=r;this.y1+=
I;this.y2+=I;return this},rotate(r,I,ea){r=this.rotatedPoints(r,I,ea);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(r,I,ea){var {x1:ta,y1:$a,x2:Pb,y2:hc}=this,Kc=Math.cos(r);r=Math.sin(r);var fc=I-I*Kc+ea*r;I=ea-I*r-ea*Kc;return[Kc*ta-r*$a+fc,r*ta+Kc*$a+I,Kc*ta-r*hc+fc,r*ta+Kc*hc+I,Kc*Pb-r*$a+fc,r*Pb+Kc*$a+I,Kc*Pb-r*hc+fc,r*Pb+Kc*hc+I]},union(r){r.x1<this.x1&&(this.x1=r.x1);r.y1<this.y1&&(this.y1=r.y1);r.x2>this.x2&&(this.x2=r.x2);r.y2>this.y2&&(this.y2=
r.y2);return this},intersect(r){r.x1>this.x1&&(this.x1=r.x1);r.y1>this.y1&&(this.y1=r.y1);r.x2<this.x2&&(this.x2=r.x2);r.y2<this.y2&&(this.y2=r.y2);return this},encloses(r){return r&&this.x1<=r.x1&&this.x2>=r.x2&&this.y1<=r.y1&&this.y2>=r.y2},alignsWith(r){return r&&(this.x1==r.x1||this.x2==r.x2||this.y1==r.y1||this.y2==r.y2)},intersects(r){return r&&!(this.x2<r.x1||this.x1>r.x2||this.y2<r.y1||this.y1>r.y2)},contains(r,I){return!(r<this.x1||r>this.x2||I<this.y1||I>this.y2)},width(){return this.x2-
this.x1},height(){return this.y2-this.y1}};h.inherits(Ua,Db);class Ug{constructor(r){this._pending=0;this._loader=r||ab.loader()}pending(){return this._pending}sanitizeURL(r){const I=this;I._pending+=1;return I._loader.sanitize(r,{context:"href"}).then(ea=>{--I._pending;return ea}).catch(()=>{--I._pending;return null})}loadImage(r){const I=this,ea=ia.image();I._pending+=1;return I._loader.sanitize(r,{context:"image"}).then(ta=>{const $a=ta.href;if(!$a||!ea)throw{url:$a};const Pb=new ea;ta=h.hasOwnProperty(ta,
"crossOrigin")?ta.crossOrigin:"anonymous";null!=ta&&(Pb.crossOrigin=ta);Pb.onload=()=>{--I._pending};Pb.onerror=()=>{--I._pending};Pb.src=$a;return Pb}).catch(ta=>{--I._pending;return{complete:!1,width:0,height:0,src:ta&&ta.url||""}})}ready(){const r=this;return new Promise(I=>{function ea(ta){r.pending()?setTimeout(()=>{ea(!0)},10):I(ta)}ea(!1)})}}const ch=hd-1E-8;let S,Ja,mb,Fc,Gc,Ld,ge,Ge;const ze=(r,I)=>{r=Ja=r;I=mb=I;return S.add(r,I)},Hf=r=>S.add(r,S.y1),Xf=r=>S.add(S.x1,r),ih=(r,I)=>S.add(Gc*
r+ge*I,Ld*r+Ge*I),Qf=(r,I)=>ze(Gc*r+ge*I,Ld*r+Ge*I),Vg={beginPath(){},closePath(){},moveTo:Qf,lineTo:Qf,rect(r,I,ea,ta){Fc?(ih(r+ea,I),ih(r+ea,I+ta),ih(r,I+ta),Qf(r,I)):(S.add(r+ea,I+ta),ze(r,I))},quadraticCurveTo(r,I,ea,ta){const $a=Ld*r+Ge*I,Pb=Gc*ea+ge*ta;ea=Ld*ea+Ge*ta;Ob(Ja,Gc*r+ge*I,Pb,Hf);Ob(mb,$a,ea,Xf);ze(Pb,ea)},bezierCurveTo(r,I,ea,ta,$a,Pb){const hc=Ld*r+Ge*I,Kc=Ld*ea+Ge*ta,fc=Gc*$a+ge*Pb;$a=Ld*$a+Ge*Pb;Zb(Ja,Gc*r+ge*I,Gc*ea+ge*ta,fc,Hf);Zb(mb,hc,Kc,$a,Xf);ze(fc,$a)},arc(r,I,ea,ta,$a,
Pb){ta+=Fc;$a+=Fc;Ja=ea*Math.cos($a)+r;mb=ea*Math.sin($a)+I;if(Math.abs($a-ta)>ch)S.add(r-ea,I-ea),S.add(r+ea,I+ea);else{const hc=fc=>S.add(ea*Math.cos(fc)+r,ea*Math.sin(fc)+I);let Kc;hc(ta);hc($a);if($a!==ta)if(ta%=hd,0>ta&&(ta+=hd),$a%=hd,0>$a&&($a+=hd),$a<ta&&(Pb=!Pb,Kc=ta,ta=$a,$a=Kc),Pb)for($a-=hd,Kc=ta-ta%Me,ta=0;4>ta&&Kc>$a;++ta,Kc-=Me)hc(Kc);else for(Kc=ta-ta%Me+Me,ta=0;4>ta&&Kc<$a;++ta,Kc+=Me)hc(Kc)}}};var dg=(dg=ia.canvas(1,1))?dg.getContext("2d"):null;const sh=new qa;var Dh=[],Yd=fd("arc",
function(r,I){return og.context(r)(I)}),he=Cd("area",function(r,I){const ea=I[0];return("horizontal"===ea.orient?ig:Uf).curve(sa(ea.interpolate||"linear",ea.orient,ea.tension)).context(r)(I)},function(r,I){I="horizontal"===r[0].orient?I[1]:I[0];for(var ea="horizontal"===r[0].orient?"y":"x",ta=r.length,$a=Infinity,Pb,hc;0<=--ta;)!1!==r[ta].defined&&(hc=Math.abs(r[ta][ea]-I),hc<$a&&($a=hc,Pb=r[ta]));return Pb});const of=vd(we),He=vd(we,!1),hf=vd(we,!0);var Ve={type:"group",tag:"g",nested:!1,attr:function(r,
I){r("transform",pd(I.x||0,I.y||0))},bound:function(r,I){if(!I.clip&&I.items){const ea=I.items,ta=ea.length;for(let $a=0;$a<ta;++$a)r.union(ea[$a].bounds)}(I.clip||I.width||I.height)&&!I.noBound&&r.add(0,0).add(I.width||0,I.height||0);yb(r,I);return r.translate(I.x||0,I.y||0)},draw:function(r,I,ea,ta){Sb(I,$a=>{const Pb=$a.x||0,hc=$a.y||0,Kc=$a.strokeForeground,fc=null==$a.opacity?1:$a.opacity;($a.stroke||$a.fill)&&fc&&(we(r,$a,Pb,hc),gb(r,$a),$a.fill&&xa(r,$a,fc)&&r.fill(),$a.stroke&&!Kc&&Da(r,$a,
fc)&&r.stroke());r.save();r.translate(Pb,hc);$a.clip&&Dd(r,$a);ea&&ea.translate(-Pb,-hc);Sb($a,ad=>{("group"===ad.marktype||null==ta||ta.includes(ad.marktype))&&this.draw(r,ad,ea,ta)});ea&&ea.translate(Pb,hc);r.restore();Kc&&$a.stroke&&fc&&(we(r,$a,Pb,hc),gb(r,$a),Da(r,$a,fc)&&r.stroke())})},pick:function(r,I,ea,ta,$a,Pb){if(I.bounds&&!I.bounds.contains($a,Pb)||!I.items)return null;const hc=ea*r.pixelRatio,Kc=ta*r.pixelRatio;return Fb(I,fc=>{let ad,Wc;var Fd=fc.bounds;if(!Fd||Fd.contains($a,Pb)){ad=
fc.x||0;Wc=fc.y||0;Fd=ad+(fc.width||0);var ie=Wc+(fc.height||0),se=fc.clip;if(!se||!($a<ad||$a>Fd||Pb<Wc||Pb>ie)){r.save();r.translate(ad,Wc);ad=$a-ad;Wc=Pb-Wc;if(se&&Rb(fc)&&!hf(r,fc,hc,Kc))return r.restore(),null;ie=fc.strokeForeground;if((se=!1!==I.interactive)&&ie&&fc.stroke&&He(r,fc,hc,Kc))return r.restore(),fc;Fd=Fb(fc,Le=>(!1!==Le.interactive||"group"===Le.marktype)&&Le.bounds&&Le.bounds.contains(ad,Wc)?this.pick(Le,ea,ta,ad,Wc):null);!Fd&&se&&(fc.fill||!ie&&fc.stroke)&&of(r,fc,hc,Kc)&&(Fd=
fc);r.restore();return Fd||null}}})},isect:Vc,content:function(r,I,ea){I=I.clip?dd(ea,I,I):null;r("clip-path",I)},background:function(r,I){r("class","background");r("aria-hidden",!0);const ea=rd(I);r("d",xc(null,I,ea,ea))},foreground:function(r,I){r("class","foreground");r("aria-hidden",!0);if(I.strokeForeground){const ea=rd(I);r("d",xc(null,I,ea,ea))}else r("d","")}},pf={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},Yf={type:"image",tag:"image",nested:!1,
attr:function(r,I,ea){var ta=Bd(I,ea);ea=y(I,ta);const $a=J(I,ta),Pb=(I.x||0)-va(I.align,ea),hc=(I.y||0)-Ka(I.baseline,$a);ta=!ta.src&&ta.toDataURL?ta.toDataURL():ta.src||"";r("href",ta,pf["xmlns:xlink"],"xlink:href");r("transform",pd(Pb,hc));r("width",ea);r("height",$a);r("preserveAspectRatio",!1===I.aspect?"none":"xMidYMid")},bound:function(r,I){var ea=I.image;const ta=y(I,ea);ea=J(I,ea);const $a=(I.x||0)-va(I.align,ta);I=(I.y||0)-Ka(I.baseline,ea);return r.set($a,I,$a+ta,I+ea)},draw:function(r,
I,ea){Sb(I,ta=>{if(!ea||ea.intersects(ta.bounds)){var $a=Bd(ta,this),Pb=y(ta,$a),hc=J(ta,$a);if(0!==Pb&&0!==hc){var Kc=(ta.x||0)-va(ta.align,Pb),fc=(ta.y||0)-Ka(ta.baseline,hc),ad;if(!1!==ta.aspect){var Wc=$a.width/$a.height;var Fd=ta.width/ta.height;Wc===Wc&&Fd===Fd&&Wc!==Fd&&(Fd<Wc?(Wc=Pb/Wc,fc+=(hc-Wc)/2,hc=Wc):(Wc*=hc,Kc+=(Pb-Wc)/2,Pb=Wc))}if($a.complete||$a.toDataURL)gb(r,ta),r.globalAlpha=null!=(ad=ta.opacity)?ad:1,r.imageSmoothingEnabled=!1!==ta.smooth,r.drawImage($a,Kc,fc,Pb,hc)}}})},pick:Sc(),
isect:h.truthy,get:Bd,xOffset:va,yOffset:Ka},Nf=Cd("line",function(r,I){const ea=I[0];return Bf.curve(sa(ea.interpolate||"linear",ea.orient,ea.tension)).context(r)(I)},function(r,I){for(var ea=Math.pow(r[0].strokeWidth||1,2),ta=r.length,$a,Pb;0<=--ta;)if(!1!==r[ta].defined&&($a=r[ta].x-I[0],Pb=r[ta].y-I[1],$a=$a*$a+Pb*Pb,$a<ea))return r[ta];return null}),$e={type:"path",tag:"path",nested:!1,attr:function(r,I){var ea=I.scaleY||1;1===(I.scaleX||1)&&1===ea||r("vector-effect","non-scaling-stroke");ea=
pd(I.x||0,I.y||0)+(I.angle?" rotate("+(I.angle+")"):"")+(I.scaleX||I.scaleY?" scale("+((I.scaleX||1)+","+(I.scaleY||1)+")"):"");r("transform",ea);r("d",I.path)},bound:function(r,I){return lb(Hb(r,I.angle),I)?r.set(0,0,0,0):yb(r,I,!0)},draw:Kb(lb),pick:Sc(vd(lb)),isect:Bc(lb)},Wg={type:"rect",tag:"path",nested:!1,attr:function(r,I){r("d",xc(null,I))},bound:function(r,I){var ea,ta;return yb(r.set(ea=I.x||0,ta=I.y||0,ea+I.width||0,ta+I.height||0),I)},draw:Kb(Bb),pick:Sc(vd(Bb)),isect:Vc},xg={type:"rule",
tag:"line",nested:!1,attr:function(r,I){r("transform",pd(I.x||0,I.y||0));r("x2",null!=I.x2?I.x2-(I.x||0):0);r("y2",null!=I.y2?I.y2-(I.y||0):0)},bound:function(r,I){var ea,ta;return yb(r.set(ea=I.x||0,ta=I.y||0,null!=I.x2?I.x2:ea,null!=I.y2?I.y2:ta),I)},draw:function(r,I,ea){Sb(I,ta=>{if(!ea||ea.intersects(ta.bounds)){var $a=null==ta.opacity?1:ta.opacity;$a&&bc(r,ta,$a)&&(gb(r,ta),r.stroke())}})},pick:Sc(function(r,I,ea,ta){return r.isPointInStroke?bc(r,I,1)&&r.isPointInStroke(ea,ta):!1}),isect:ma},
jh=fd("shape",function(r,I){return(I.mark.shape||I.shape).context(r)(I)}),Of=fd("symbol",function(r,I){return Eg.context(r)(I)},jd);const Rh=h.lruCache();var pg={height:Xc,measureWidth:Jc,estimateWidth:nc,width:nc,canvas:Tb};Tb(!0);const uh={left:"start",center:"middle",right:"end"},jg=new qa;var Sh={type:"text",tag:"text",nested:!1,attr:function(r,I){var ea=I.dx||0,ta=(I.dy||0)+Oe(I),$a=Ie(I),Pb=$a.x1;$a=$a.y1;var hc=I.angle||0;r("text-anchor",uh[I.align]||"start");if(hc){if(I=pd(Pb,$a)+" rotate("+
(hc+")"),ea||ta)I+=" "+pd(ea,ta)}else I=pd(Pb+ea,$a+ta);r("transform",I)},bound:Je,draw:function(r,I,ea){Sb(I,ta=>{var $a=null==ta.opacity?1:ta.opacity,Pb;if(!(ea&&!ea.intersects(ta.bounds)||0===$a||0>=ta.fontSize||null==ta.text||0===ta.text.length)){r.font=me(ta);r.textAlign=ta.align||"left";var hc=Ie(ta);var Kc=hc.x1;hc=hc.y1;ta.angle&&(r.save(),r.translate(Kc,hc),r.rotate(ta.angle*re),Kc=hc=0);Kc+=ta.dx||0;hc+=(ta.dy||0)+Oe(ta);var fc=qd(ta);gb(r,ta);if(h.isArray(fc)){var ad=kd(ta);for(Pb=0;Pb<
fc.length;++Pb){var Wc=xd(ta,fc[Pb]);ta.fill&&xa(r,ta,$a)&&r.fillText(Wc,Kc,hc);ta.stroke&&Da(r,ta,$a)&&r.strokeText(Wc,Kc,hc);hc+=ad}}else Wc=xd(ta,fc),ta.fill&&xa(r,ta,$a)&&r.fillText(Wc,Kc,hc),ta.stroke&&Da(r,ta,$a)&&r.strokeText(Wc,Kc,hc);ta.angle&&r.restore()}})},pick:Sc(function(r,I,ea,ta,$a,Pb){if(0>=I.fontSize)return!1;if(!I.angle)return!0;ea=Ie(I);r=ea.x1;ea=ea.y1;ta=Je(jg,I,1);var hc=-I.angle*re;I=Math.cos(hc);hc=Math.sin(hc);return ta.contains(I*$a-hc*Pb+(r-I*r+hc*ea),hc*$a+I*Pb+(ea-hc*
r-I*ea))}),isect:function(r,I){r=Je(jg,r,2);return Ha(I,r[0],r[1],r[2],r[3])||Ha(I,r[0],r[1],r[4],r[5])||Ha(I,r[4],r[5],r[6],r[7])||Ha(I,r[2],r[3],r[6],r[7])}},aj=Cd("trail",function(r,I){return Ch.context(r)(I)},function(r,I){for(var ea=r.length,ta,$a;0<=--ea;)if(!1!==r[ea].defined&&(ta=r[ea].x-I[0],$a=r[ea].y-I[1],$a=ta*ta+$a*$a,ta=r[ea].size||1,$a<ta*ta))return r[ea];return null}),Hg={arc:Yd,area:he,group:Ve,image:Yf,line:Nf,path:$e,rect:Wg,rule:xg,shape:jh,symbol:Of,text:Sh,trail:aj},ti={mark:null};
const di="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
class bj{constructor(r){arguments.length?this.root=aa(r):(this.root=fb({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Ua(this.root)])}toJSON(r){return E(this.root,r||0)}mark(r,I,ea){I=I||this.root.items[0];r=fb(r,I);I.items[ea]=r;r.zindex&&(r.group.zdirty=!0);return r}}class ui{constructor(r,I){this._active=null;this._handlers={};this._loader=r||ab.loader();this._tooltip=I||Nc}initialize(r,I,ea){this._el=r;this._obj=ea||null;return this.origin(I)}element(){return this._el}canvas(){return this._el&&
this._el.firstChild}origin(r){return arguments.length?(this._origin=r||[0,0],this):this._origin.slice()}scene(r){if(!arguments.length)return this._scene;this._scene=r;return this}on(){}off(){}_handlerIndex(r,I,ea){for(let ta=r?r.length:0;0<=--ta;)if(r[ta].type===I&&(!ea||r[ta].handler===ea))return ta;return-1}handlers(r){const I=this._handlers,ea=[];if(r)ea.push(...I[this.eventName(r)]);else for(const ta in I)ea.push(...I[ta]);return ea}eventName(r){const I=r.indexOf(".");return 0>I?r:r.slice(0,I)}handleHref(r,
I,ea){this._loader.sanitize(ea,{context:"href"}).then(ta=>{const $a=new MouseEvent(r.type,r),Pb=Gb(null,"a");for(const hc in ta)Pb.setAttribute(hc,ta[hc]);Pb.dispatchEvent($a)}).catch(()=>{})}handleTooltip(r,I,ea){if(I&&null!=I.tooltip){var ta=this.canvas(),$a=this._origin,Pb=I&&I.mark,hc;if(Pb&&(hc=Hg[Pb.marktype]).tip){ta=$c(r,ta);ta[0]-=$a[0];for(ta[1]-=$a[1];I=I.mark.group;)ta[0]-=I.x||0,ta[1]-=I.y||0;I=hc.tip(Pb.items,ta)}this._tooltip.call(this._obj,this,r,I,ea&&I&&I.tooltip||null)}}getItemBoundingClientRect(r){var I=
this.canvas();if(I){var ea=I.getBoundingClientRect(),ta=this._origin,$a=r.bounds;I=$a.width();var Pb=$a.height(),hc=$a.x1+ta[0]+ea.left;for(ea=$a.y1+ta[1]+ea.top;r.mark&&(r=r.mark.group);)hc+=r.x||0,ea+=r.y||0;return{x:hc,y:ea,width:I,height:Pb,left:hc,top:ea,right:hc+I,bottom:ea+Pb}}}}class vh{constructor(r){this._bgcolor=this._el=null;this._loader=new Ug(r)}initialize(r,I,ea,ta,$a){this._el=r;return this.resize(I,ea,ta,$a)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(r){if(0===
arguments.length)return this._bgcolor;this._bgcolor=r;return this}resize(r,I,ea,ta){this._width=r;this._height=I;this._origin=ea||[0,0];this._scale=ta||1;return this}dirty(){}render(r,I){const ea=this;ea._call=function(){ea._render(r,I)};ea._call();ea._call=null;return ea}_render(){}renderAsync(r,I){const ea=this.render(r,I);return this._ready?this._ready.then(()=>ea):Promise.resolve(ea)}_load(r,I){var ea=this;r=ea._loader[r](I);if(!ea._ready){const ta=ea._call;ea._ready=ea._loader.ready().then($a=>
{$a&&ta();ea._ready=null})}return r}sanitizeURL(r){return this._load("sanitizeURL",r)}loadImage(r){return this._load("loadImage",r)}}const Li="keydown keypress keyup dragenter dragleave dragover pointerdown pointerup pointermove pointerout pointerover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" ");class Fh extends ui{constructor(r,I){super(r,I);this._touch=this._down=null;this._first=!0;this._events={};this.events=Li;this.pointermove=
Jd(["pointermove","mousemove"],["pointerover","mouseover"],["pointerout","mouseout"]);this.dragover=Jd(["dragover"],["dragenter"],["dragleave"]);this.pointerout=$d(["pointerout","mouseout"]);this.dragleave=$d(["dragleave"])}initialize(r,I,ea){this._canvas=r&&qc(r,"canvas");"click mousedown pointerdown pointermove pointerout dragleave".split(" ").forEach(ta=>Nd(this,ta));return super.initialize(r,I,ea)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(r){this.fire("mousewheel",
r)}pointerdown(r){this._down=this._active;this.fire("pointerdown",r)}mousedown(r){this._down=this._active;this.fire("mousedown",r)}click(r){this._down===this._active&&(this.fire("click",r),this._down=null)}touchstart(r){this._touch=this.pickEvent(r.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",r,!0)}touchmove(r){this.fire("touchmove",r,!0)}touchend(r){this.fire("touchend",r,!0);this._touch=null}fire(r,I,ea){ea=ea?this._touch:this._active;const ta=
this._handlers[r];I.vegaType=r;"click"===r&&ea&&ea.href?this.handleHref(I,ea,ea.href):("pointermove"===r||"mouseout"===r)&&this.handleTooltip(I,ea,"mouseout"!==r);if(ta)for(let $a=0,Pb=ta.length;$a<Pb;++$a)ta[$a].handler.call(this._obj,I,ea)}on(r,I){const ea=this.eventName(r),ta=this._handlers;0>this._handlerIndex(ta[ea],r,I)&&(Nd(this,r),(ta[ea]||(ta[ea]=[])).push({type:r,handler:I}));return this}off(r,I){var ea=this.eventName(r);ea=this._handlers[ea];r=this._handlerIndex(ea,r,I);0<=r&&ea.splice(r,
1);return this}pickEvent(r){r=$c(r,this._canvas);const I=this._origin;return this.pick(this._scene,r[0],r[1],r[0]-I[0],r[1]-I[1])}pick(r,I,ea,ta,$a){const Pb=this.context();return Hg[r.marktype].pick.call(this,Pb,r,I,ea,ta,$a)}}class Gg extends vh{constructor(r){super(r);this._options={};this._redraw=!1;this._dirty=new qa;this._tempb=new qa}initialize(r,I,ea,ta,$a,Pb){this._options=Pb||{};this._canvas=this._options.externalContext?null:ia.canvas(1,1,this._options.type);r&&this._canvas&&(Oc(r,0).appendChild(this._canvas),
this._canvas.setAttribute("class","marks"));return super.initialize(r,I,ea,ta,$a)}resize(r,I,ea,ta){super.resize(r,I,ea,ta);if(this._canvas){r=this._canvas;I=this._width;ea=this._height;ta=this._origin;var $a=this._scale,Pb=this._options.context;const Kc="undefined"!==typeof HTMLElement&&r instanceof HTMLElement&&null!=r.parentNode,fc=r.getContext("2d");$a=Kc?"undefined"!==typeof window?window.devicePixelRatio||1:1:$a;r.width=I*$a;r.height=ea*$a;for(var hc in Pb)fc[hc]=Pb[hc];Kc&&1!==$a&&(r.style.width=
I+"px",r.style.height=ea+"px");fc.pixelRatio=$a;fc.setTransform($a,0,0,$a,$a*ta[0],$a*ta[1])}else(hc=this._options.externalContext)||h.error("CanvasRenderer is missing a valid canvas or context"),hc.scale(this._scale,this._scale),hc.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(r){const I=this._tempb.clear().union(r.bounds);for(r=r.mark.group;r;)I.translate(r.x||
0,r.y||0),r=r.mark.group;this._dirty.union(I)}_render(r,I){const ea=this.context(),ta=this._origin,$a=this._width,Pb=this._height,hc=this._dirty;var Kc=(new qa).set(0,0,$a,Pb).translate(-ta[0],-ta[1]);ea.save();this._redraw||hc.empty()?Kc=(this._redraw=!1,Kc.expand(1)):(Kc=Kc.intersect(hc),Kc.expand(1).round(),ea.pixelRatio%1&&Kc.scale(ea.pixelRatio).round().scale(1/ea.pixelRatio),Kc.translate(-(ta[0]%1),-(ta[1]%1)),ea.beginPath(),ea.rect(Kc.x1,Kc.y1,Kc.width(),Kc.height()),ea.clip());this.clear(-ta[0],
-ta[1],$a,Pb);this.draw(ea,r,Kc,I);ea.restore();hc.clear();return this}draw(r,I,ea,ta){if("group"===I.marktype||null==ta||ta.includes(I.marktype)){var $a=Hg[I.marktype];if(I.clip){var Pb=I.clip;r.save();h.isFunction(Pb)?(r.beginPath(),Pb(r),r.clip()):Dd(r,I.group)}$a.draw.call(this,r,I,ea,ta);I.clip&&r.restore()}}clear(r,I,ea,ta){const $a=this._options,Pb=this.context();"pdf"===$a.type||$a.externalContext||Pb.clearRect(r,I,ea,ta);null!=this._bgcolor&&(Pb.fillStyle=this._bgcolor,Pb.fillRect(r,I,ea,
ta))}}class Gh extends ui{constructor(r,I){super(r,I);const ea=this;ea._hrefHandler=Hh(ea,(ta,$a)=>{$a&&$a.href&&ea.handleHref(ta,$a,$a.href)});ea._tooltipHandler=Hh(ea,(ta,$a)=>{ea.handleTooltip(ta,$a,"mouseout"!==ta.type)})}initialize(r,I,ea){let ta=this._svg;ta&&(ta.removeEventListener("click",this._hrefHandler),ta.removeEventListener("pointermove",this._tooltipHandler),ta.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=ta=r&&qc(r,"svg"))ta.addEventListener("click",this._hrefHandler),
ta.addEventListener("pointermove",this._tooltipHandler),ta.addEventListener("mouseout",this._tooltipHandler);return super.initialize(r,I,ea)}canvas(){return this._svg}on(r,I){const ea=this.eventName(r),ta=this._handlers;0>this._handlerIndex(ta[ea],r,I)&&(r={type:r,handler:I,listener:Hh(this,I)},(ta[ea]||(ta[ea]=[])).push(r),this._svg&&this._svg.addEventListener(ea,r.listener));return this}off(r,I){const ea=this.eventName(r),ta=this._handlers[ea];r=this._handlerIndex(ta,r,I);0<=r&&(this._svg&&this._svg.removeEventListener(ea,
ta[r].listener),ta.splice(r,1));return this}}const Hh=(r,I)=>ea=>{let ta=ea.target.__data__;ta=Array.isArray(ta)?ta[0]:ta;ea.vegaType=ea.type;I.call(r._obj,ea,ta)},eg=(r,I,ea)=>({role:r,["aria-roledescription"]:I,["aria-label"]:ea||void 0}),cj=h.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),fi={axis:{desc:"axis",caption:function(r){var I=r.datum;const ea=r.orient,ta=I.title?rc(r):null;
var $a=r.context;I=$a.scales[I.scale].value;$a=$a.dataflow.locale();const Pb=I.type;return`${"left"===ea||"right"===ea?"Y":"X"}-axis`+(ta?` titled '${ta}'`:"")+` for a ${zb.isDiscrete(Pb)?"discrete":Pb} scale`+` with ${zb.domainCaption($a,I,r)}`}},legend:{desc:"legend",caption:function(r){var I=r.datum;const ea=I.title?rc(r):null,ta=`${I.type||""} legend`.trim();var $a=I.scales;I=Object.keys($a);var Pb=r.context;$a=Pb.scales[$a[I[0]]].value;Pb=Pb.dataflow.locale();return(ta.length?ta[0].toUpperCase()+
ta.slice(1):ta)+(ea?` titled '${ea}'`:"")+` for ${Pc(I)}`+` with ${zb.domainCaption(Pb,$a,r)}`}},"title-text":{desc:"title",caption:r=>`Title text '${h.array(r.text).join(" ")}'`},"title-subtitle":{desc:"subtitle",caption:r=>`Subtitle text '${h.array(r.text).join(" ")}'`}},dh={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},vi=r=>(r+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"),Aj=r=>Tc(Hc(),r)+"",eh={fill:"fill",fillOpacity:"fill-opacity",
stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},lh={blend:"mix-blend-mode"},Ig={fill:"none","stroke-miterlimit":10},Te=pf.xmlns;class Ih extends vh{constructor(r){super(r);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}initialize(r,I,ea,ta,$a){this._defs={};this._clearDefs();
r&&(this._svg=Ib(r,0,"svg",Te),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns",Te),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",pf["xmlns:xlink"]),this._svg.setAttribute("version",pf.version),this._svg.setAttribute("class","marks"),Oc(r,1),this._root=Ib(this._svg,0,"g",Te),Ee(this._root,Ig),Oc(this._svg,1));this.background(this._bgcolor);return super.initialize(r,I,ea,ta,$a)}background(r){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",
r);return super.background(...arguments)}resize(r,I,ea,ta){super.resize(r,I,ea,ta);this._svg&&(Ee(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this}canvas(){return this._svg}svg(){const r=this._svg,I=this._bgcolor;if(!r)return null;let ea;I&&(r.removeAttribute("style"),ea=Ib(r,0,"rect",Te),Ee(ea,{width:this._width,height:this._height,fill:I}));
const ta=Aj(r);I&&(r.removeChild(ea),this._svg.style.setProperty("background-color",I));return ta}_render(r,I){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,r,void 0,I),Oc(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this}dirty(r){r.dirty!==this._dirtyID&&(r.dirty=this._dirtyID,this._dirty.push(r))}isDirty(r){return this._dirtyAll||!r._svg||!r._svg.ownerSVGElement||r.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const r=this._dirty;if(!r.length||
!this._dirtyID)return!0;const I=++this._dirtyID;let ea;let ta,$a,Pb,hc;Pb=0;for(hc=r.length;Pb<hc;++Pb){ea=r[Pb];var Kc=ea.mark;Kc.marktype!==ta&&(ta=Kc.marktype,$a=Hg[ta]);Kc.zdirty&&Kc.dirty!==I&&(this._dirtyAll=!1,Yc(ea,I),Kc.items.forEach(fc=>{fc.dirty=I}));Kc.zdirty||(ea.exit?($a.nested&&Kc.items.length?(Kc=Kc.items[0],Kc._svg&&this._update($a,Kc._svg,Kc)):ea._svg&&(Kc=ea._svg.parentNode)&&Kc.removeChild(ea._svg),ea._svg=null):(ea=$a.nested?Kc.items[0]:ea,ea._update!==I&&(ea._svg&&ea._svg.ownerSVGElement?
this._update($a,ea._svg,ea):(this._dirtyAll=!1,Yc(ea,I)),ea._update=I)))}return!this._dirtyAll}mark(r,I,ea,ta){if(!this.isDirty(I))return I._svg;const $a=this._svg,Pb=I.marktype,hc=Hg[Pb];var Kc=!1===I.interactive?"none":null;const fc="g"===hc.tag,ad=ld(I,r,ea,"g",$a);if("group"!==Pb&&null!=ta&&!ta.includes(Pb))return Oc(ad,0),I._svg;ad.setAttribute("class",od(I));r=Oa(I);for(const ie in r)ne(ad,ie,r[ie]);fc||ne(ad,"pointer-events",Kc);ne(ad,"clip-path",I.clip?dd(this,I,I.group):null);let Wc=null,
Fd=0;Kc=ie=>{const se=this.isDirty(ie),Le=ld(ie,ad,Wc,hc.tag,$a);se&&(this._update(hc,Le,ie),fc&&id(this,Le,ie,ta));Wc=Le;++Fd};hc.nested?I.items.length&&Kc(I.items[0]):Sb(I,Kc);Oc(ad,Fd);return ad}_update(r,I,ea){Mg=I;xf=I.__values__;Aa(fe,ea);r.attr(fe,ea,this);const ta=Mi[r.type];ta&&ta.call(this,r,I,ea);Mg&&this.style(Mg,ea)}style(r,I){if(null!=I){for(const ea in eh){let ta="font"===ea?Id(I):I[ea];if(ta===xf[ea])continue;const $a=eh[ea];null==ta?r.removeAttribute($a):(ta&&ta.gradient&&(ta=Yb(ta,
this._defs.gradient,ef())),r.setAttribute($a,ta+""));xf[ea]=ta}for(const ea in lh)Re(r,lh[ea],I[ea])}}defs(){const r=this._svg,I=this._defs;let ea=I.el;var ta=0;for(var $a in I.gradient){ea||(I.el=ea=Ib(r,1,"defs",Te));var Pb=void 0;let fc,ad;var hc=ea,Kc=I.gradient[$a];"radial"===Kc.gradient?(Pb=Ib(hc,ta++,"pattern",Te),Ee(Pb,{id:"p_"+Kc.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Pb=Ib(Pb,0,"rect",Te),Ee(Pb,{width:1,height:1,fill:`url(${ef()}#${Kc.id})`}),
hc=Ib(hc,ta++,"radialGradient",Te),Ee(hc,{id:Kc.id,fx:Kc.x1,fy:Kc.y1,fr:Kc.r1,cx:Kc.x2,cy:Kc.y2,r:Kc.r2})):(hc=Ib(hc,ta++,"linearGradient",Te),Ee(hc,{id:Kc.id,x1:Kc.x1,x2:Kc.x2,y1:Kc.y1,y2:Kc.y2}));ad=0;for(fc=Kc.stops.length;ad<fc;++ad)Pb=Ib(hc,ad,"stop",Te),Pb.setAttribute("offset",Kc.stops[ad].offset),Pb.setAttribute("stop-color",Kc.stops[ad].color);Oc(hc,ad)}for(const fc in I.clipping)ea||(I.el=ea=Ib(r,1,"defs",Te)),hc=ea,Kc=I.clipping[fc],$a=ta,hc=Ib(hc,$a,"clipPath",Te),hc.setAttribute("id",
Kc.id),Kc.path?(ta=Ib(hc,0,"path",Te),ta.setAttribute("d",Kc.path)):(ta=Ib(hc,0,"rect",Te),Ee(ta,{x:0,y:0,width:Kc.width,height:Kc.height})),Oc(hc,1),ta=$a+1;ea&&(0===ta?(r.removeChild(ea),I.el=null):Oc(ea,ta))}_clearDefs(){const r=this._defs;r.gradient={};r.clipping={}}}let Mg=null,xf=null;const Mi={group(r,I,ea){const ta=Mg=I.childNodes[2];xf=ta.__values__;r.foreground(fe,ea,this);xf=I.__values__;Mg=I.childNodes[1];r.content(fe,ea,this);I=Mg=I.childNodes[0];r.background(fe,ea,this);r=!1===ea.mark.interactive?
"none":null;r!==xf.events&&(ne(ta,"pointer-events",r),ne(I,"pointer-events",r),xf.events=r);ea.strokeForeground&&ea.stroke?(r=ea.fill,ne(ta,"display",null),this.style(I,ea),ne(I,"stroke",null),r&&(ea.fill=null),xf=ta.__values__,this.style(ta,ea),r&&(ea.fill=r),Mg=null):ne(ta,"display","none")},image(r,I,ea){!1===ea.smooth?(Re(I,"image-rendering","optimizeSpeed"),Re(I,"image-rendering","pixelated")):Re(I,"image-rendering",null)},text(r,I,ea){r=qd(ea);let ta,$a,Pb;h.isArray(r)?(ta=r.map(hc=>xd(ea,hc)),
r=ta.join("\n"),r!==xf.text&&(Oc(I,0),$a=I.ownerDocument,Pb=kd(ea),ta.forEach((hc,Kc)=>{const fc=Gb($a,"tspan",Te);fc.__data__=ea;fc.textContent=hc;Kc&&(fc.setAttribute("x",0),fc.setAttribute("dy",Pb));I.appendChild(fc)}),xf.text=r)):(ta=xd(ea,r),ta!==xf.text&&(I.textContent=ta,xf.text=ta));ne(I,"font-family",Id(ea));ne(I,"font-size",Xc(ea)+"px");ne(I,"font-style",ea.fontStyle);ne(I,"font-variant",ea.fontVariant);ne(I,"font-weight",ea.fontWeight)}};class qg extends vh{constructor(r){super(r);this._text=
null;this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(r){const I=Hc();I.open("svg",h.extend({},pf,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const ea=this._bgcolor;ea&&"transparent"!==ea&&"none"!==ea&&I.open("rect",{width:this._width,height:this._height,fill:ea}).close();I.open("g",Ig,{transform:"translate("+this._origin+")"});this.mark(I,r);I.close();this.defs(I);this._text=I.close()+"";return this}mark(r,
I){const ea=Hg[I.marktype],ta=ea.tag,$a=[Aa,ea.attr];r.open("g",{"class":od(I),"clip-path":I.clip?dd(this,I,I.group):null},Oa(I),{"pointer-events":"g"!==ta&&!1===I.interactive?"none":null});const Pb=hc=>{const Kc=this.href(hc);Kc&&r.open("a",Kc);r.open(ta,this.attr(I,hc,$a,"g"!==ta?ta:null));if("text"===ta){var fc=qd(hc);if(h.isArray(fc)){var ad={x:0,dy:kd(hc)};for(var Wc=0;Wc<fc.length;++Wc)r.open("tspan",Wc?ad:null).text(xd(hc,fc[Wc])).close()}else r.text(xd(hc,fc))}else"g"===ta&&(fc=hc.strokeForeground,
ad=hc.fill,Wc=hc.stroke,fc&&Wc&&(hc.stroke=null),r.open("path",this.attr(I,hc,ea.background,"bgrect")).close(),r.open("g",this.attr(I,hc,ea.content)),Sb(hc,Fd=>this.mark(r,Fd)),r.close(),fc&&Wc?(ad&&(hc.fill=null),hc.stroke=Wc,r.open("path",this.attr(I,hc,ea.foreground,"bgrect")).close(),ad&&(hc.fill=ad)):r.open("path",this.attr(I,hc,ea.foreground,"bgfore")).close());r.close();Kc&&r.close()};ea.nested?I.items&&I.items.length&&Pb(I.items[0]):Sb(I,Pb);return r.close()}href(r){const I=r.href;if(I){if(r=
this._hrefs&&this._hrefs[I])return r;this.sanitizeURL(I).then(ea=>{ea["xlink:href"]=ea.href;ea.href=null;(this._hrefs||(this._hrefs={}))[I]=ea})}return null}attr(r,I,ea,ta){const $a={},Pb=(hc,Kc,fc,ad)=>{$a[ad||hc]=Kc};Array.isArray(ea)?ea.forEach(hc=>hc(Pb,I,this)):ea(Pb,I,this);ta&&kf($a,I,r,ta,this._defs);return $a}defs(r){var I=this._defs.gradient;const ea=this._defs.clipping;if(0!==Object.keys(I).length+Object.keys(ea).length){r.open("defs");for(const $a in I){var ta=I[$a];const Pb=ta.stops;
"radial"===ta.gradient?(r.open("pattern",{id:"p_"+$a,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),r.open("rect",{width:"1",height:"1",fill:"url(#"+$a+")"}).close(),r.close(),r.open("radialGradient",{id:$a,fx:ta.x1,fy:ta.y1,fr:ta.r1,cx:ta.x2,cy:ta.y2,r:ta.r2})):r.open("linearGradient",{id:$a,x1:ta.x1,x2:ta.x2,y1:ta.y1,y2:ta.y2});for(ta=0;ta<Pb.length;++ta)r.open("stop",{offset:Pb[ta].offset,"stop-color":Pb[ta].color}).close();r.close()}for(const $a in ea)I=ea[$a],
r.open("clipPath",{id:$a}),I.path?r.open("path",{d:I.path}).close():r.open("rect",{x:0,y:0,width:I.width,height:I.height}).close(),r.close();r.close()}}}const Ng={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};class mh extends vh{constructor(r){super(r);this._svgRenderer=new Ih(r);this._canvasRenderer=new Gg(r)}initialize(r,I,ea,ta,$a){this._root_el=Ib(r,0,"div");const Pb=Ib(this._root_el,0,"div"),hc=Ib(this._root_el,1,"div");this._root_el.style.position="relative";Ng.debug||(Pb.style.height="100%",
hc.style.position="absolute",hc.style.top="0",hc.style.left="0",hc.style.height="100%",hc.style.width="100%");this._svgEl=Ng.svgOnTop?hc:Pb;this._canvasEl=Ng.svgOnTop?Pb:hc;this._svgEl.style.pointerEvents="none";this._canvasRenderer.initialize(this._canvasEl,I,ea,ta,$a);this._svgRenderer.initialize(this._svgEl,I,ea,ta,$a);return super.initialize(r,I,ea,ta,$a)}dirty(r){Ng.svgMarkTypes.includes(r.mark.marktype)?this._svgRenderer.dirty(r):this._canvasRenderer.dirty(r);return this}_render(r,I){I=(null!=
I?I:"arc area image line path rect rule shape symbol text trail".split(" ")).filter(ea=>!Ng.svgMarkTypes.includes(ea));this._svgRenderer.render(r,Ng.svgMarkTypes);this._canvasRenderer.render(r,I)}resize(r,I,ea,ta){super.resize(r,I,ea,ta);this._svgRenderer.resize(r,I,ea,ta);this._canvasRenderer.resize(r,I,ea,ta);return this}background(r){Ng.svgOnTop?this._canvasRenderer.background(r):this._svgRenderer.background(r);return this}}class Yg extends Fh{constructor(r,I){super(r,I)}initialize(r,I,ea){r=Ib(Ib(r,
0,"div"),Ng.svgOnTop?0:1,"div");return super.initialize(r,I,ea)}}const Jh={};Jh.canvas=Jh.png={renderer:Gg,headless:Gg,handler:Fh};Jh.svg={renderer:Ih,headless:qg,handler:Gh};Jh.hybrid={renderer:mh,headless:mh,handler:Yg};Jh.none={};const Zg=new qa;u.Bounds=qa;u.CanvasHandler=Fh;u.CanvasRenderer=Gg;u.Gradient=function(r,I){var ea=[],ta;return ta={gradient:"linear",x1:r?r[0]:0,y1:r?r[1]:0,x2:I?I[0]:1,y2:I?I[1]:0,stops:ea,stop:function($a,Pb){ea.push({offset:$a,color:Pb});return ta}}};u.GroupItem=Ua;
u.Handler=ui;u.HybridHandler=Yg;u.HybridRenderer=mh;u.Item=Db;u.Marks=Hg;u.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",Hybrid:"hybrid",None:"none"};u.Renderer=vh;u.ResourceLoader=Ug;u.SVGHandler=Gh;u.SVGRenderer=Ih;u.SVGStringRenderer=qg;u.Scenegraph=bj;u.boundClip=function(r){const I=r.clip;if(h.isFunction(I))I(Hb(Zg.clear()));else if(I)Zg.set(0,0,r.group.width,r.group.height);else return;r.bounds.intersect(Zg)};u.boundContext=Hb;u.boundItem=tf;u.boundMark=bf;u.boundStroke=yb;u.domChild=Ib;u.domClear=
Oc;u.domCreate=Gb;u.domFind=qc;u.font=me;u.fontFamily=Id;u.fontSize=Xc;u.intersect=function(r,I,ea){const ta=[];I=(new qa).union(I);const $a=r.marktype;return $a?Ke(r,I,ea,ta):"group"===$a?Ye(r,I,ea,ta):h.error("Intersect scene must be mark node or group item.")};u.intersectBoxLine=Ha;u.intersectPath=Bc;u.intersectPoint=jd;u.intersectRule=ma;u.lineHeight=kd;u.markup=Hc;u.multiLineOffset=function(r){const I=qd(r);return(h.isArray(I)?I.length-1:0)*kd(r)};u.path=jc;u.pathCurves=sa;u.pathEqual=oe;u.pathParse=
N;u.pathRectangle=oc;u.pathRender=wa;u.pathSymbols=Pa;u.pathTrail=$b;u.point=$c;u.renderModule=function(r,I){r=String(r||"").toLowerCase();return 1<arguments.length?(Jh[r]=I,this):Jh[r]};u.resetSVGClipId=function(){Fg=1};u.resetSVGDefIds=function(){Fg=1;na=0};u.sceneEqual=ue;u.sceneFromJSON=aa;u.scenePickVisit=Fb;u.sceneToJSON=E;u.sceneVisit=Sb;u.sceneZOrder=kb;u.serializeXML=Aj;u.setHybridRendererOptions=function(r){let I;Ng.svgMarkTypes=null!=(I=r.svgMarkTypes)?I:["text"];let ea;Ng.svgOnTop=null!=
(ea=r.svgOnTop)?ea:!0;let ta;Ng.debug=null!=(ta=r.debug)?ta:!1};u.textMetrics=pg})};
shadow$provide[35]=function(Eb,ob,Dc,Wa){(function(u,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,ob(29),ob(34),ob(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],h):(u="undefined"!==typeof globalThis?globalThis:u||self,h((u.vega=u.vega||{},u.vega.transforms={}),u.vega,u.vega,u.vega))})(this,function(u,h,ia,ab){function zb(z){h.Transform.call(this,null,z)}function Yb(z,F,U){return F(z.bounds.clear(),z,U)}function ac(z){h.Transform.call(this,
0,z)}function Xb(z){return z._signals[":vega_identifier:"]||(z._signals[":vega_identifier:"]=z.add(0))}function mc(z){h.Transform.call(this,null,z)}function Cb(z){const F=z.groups;z=z.parent;return F&&1===F.size?F.get(Object.keys(F.object)[0]):F&&z?F.lookup(z):null}function Vb(z){h.Transform.call(this,null,z)}function jc(z){h.Transform.call(this,null,z)}function Ba(z,F,U){return z[F]===U?0:(z[F]=U,1)}function Za(z){z=z.items[0].orient;return"left"===z||"right"===z}function wb(z,F,U,sa){F=F.items[0];
var N=F.datum,la=null!=F.translate?F.translate:.5,wa=F.orient,Ma=+N.grid;var Pa=[N.ticks?Ma++:-1,N.labels?Ma++:-1,Ma+ +N.domain];Ma=F.range;var Ya=F.offset,vb=F.position,jb=F.minExtent,Ub=F.maxExtent;N=N.title&&F.items[Pa[2]].items[0];var W=F.titlePadding,Ea=F.bounds,Mb=N&&ia.multiLineOffset(N),oc;V.clear().union(Ea);Ea.clear();-1<(oc=Pa[0])&&Ea.union(F.items[oc].bounds);-1<(oc=Pa[1])&&Ea.union(F.items[oc].bounds);switch(wa){case "top":U=vb||0;sa=-Ya;jb=Math.max(jb,Math.min(Ub,-Ea.y1));Ea.add(0,-jb).add(Ma,
0);N&&ub(z,N,jb,W,Mb,0,-1,Ea);break;case "left":U=-Ya;sa=vb||0;jb=Math.max(jb,Math.min(Ub,-Ea.x1));Ea.add(-jb,0).add(0,Ma);N&&ub(z,N,jb,W,Mb,1,-1,Ea);break;case "right":U+=Ya;sa=vb||0;jb=Math.max(jb,Math.min(Ub,Ea.x2));Ea.add(0,0).add(jb,Ma);N&&ub(z,N,jb,W,Mb,1,1,Ea);break;case "bottom":U=vb||0;sa+=Ya;jb=Math.max(jb,Math.min(Ub,Ea.y2));Ea.add(0,0).add(Ma,jb);N&&ub(z,N,jb,W,0,0,1,Ea);break;default:U=F.x,sa=F.y}ia.boundStroke(Ea.translate(U,sa),F);Ba(F,"x",U+la)|Ba(F,"y",sa+la)&&(F.bounds=V,z.dirty(F),
F.bounds=Ea,z.dirty(F));return F.mark.bounds.clear().union(Ea)}function ub(z,F,U,sa,N,la,wa,Ma){const Pa=F.bounds;F.auto&&(U=wa*(U+N+sa),N=sa=0,z.dirty(F),la?sa=(F.x||0)-(F.x=U):N=(F.y||0)-(F.y=U),F.mark.bounds.clear().union(Pa.translate(-sa,-N)),z.dirty(F));Ma.union(Pa)}function sb(z){return(new ia.Bounds).set(0,0,z.width||0,z.height||0)}function xb(z){const F=z.bounds.clone();return F.empty()?F.set(0,0,0,0):F.translate(-(z.x||0),-(z.y||0))}function hb(z,F,U){z=ab.isObject(z)?z[F]:z;return null!=
z?z:void 0!==U?U:0}function ec(z){return 0>z?Math.ceil(-z):0}function ra(z,F,U){var sa=!U.nodirty,N="flush"===U.bounds?sb:xb,la=V.set(0,0,0,0),wa=hb(U.align,"column"),Ma=hb(U.align,"row"),Pa=hb(U.padding,"column"),Ya=hb(U.padding,"row"),vb=U.columns||F.length,jb=0>=vb?1:Math.ceil(F.length/vb),Ub=F.length,W=Array(Ub),Ea=Array(vb),Mb=0,oc=Array(Ub),$b=Array(jb),Nb=0,Rb=Array(Ub),xc=Array(Ub),dd=Array(Ub),qa,Db,Ua;for(qa=0;qa<vb;++qa)Ea[qa]=0;for(qa=0;qa<jb;++qa)$b[qa]=0;for(qa=0;qa<Ub;++qa){var yb=
F[qa];var Hb=dd[qa]=N(yb);yb.x=yb.x||0;Rb[qa]=0;yb.y=yb.y||0;xc[qa]=0;yb=qa%vb;var Ob=~~(qa/vb);Mb=Math.max(Mb,Db=Math.ceil(Hb.x2));Nb=Math.max(Nb,Ua=Math.ceil(Hb.y2));Ea[yb]=Math.max(Ea[yb],Db);$b[Ob]=Math.max($b[Ob],Ua);W[qa]=Pa+ec(Hb.x1);oc[qa]=Ya+ec(Hb.y1);sa&&z.dirty(F[qa])}for(qa=0;qa<Ub;++qa)0===qa%vb&&(W[qa]=0),qa<vb&&(oc[qa]=0);if("each"===wa)for(yb=1;yb<vb;++yb){N=0;for(qa=yb;qa<Ub;qa+=vb)N<W[qa]&&(N=W[qa]);for(qa=yb;qa<Ub;qa+=vb)W[qa]=N+Ea[yb-1]}else if("all"===wa){for(qa=N=0;qa<Ub;++qa)qa%
vb&&N<W[qa]&&(N=W[qa]);for(qa=0;qa<Ub;++qa)qa%vb&&(W[qa]=N+Mb)}else for(wa=!1,yb=1;yb<vb;++yb)for(qa=yb;qa<Ub;qa+=vb)W[qa]+=Ea[yb-1];if("each"===Ma)for(Ob=1;Ob<jb;++Ob){N=0;qa=Ob*vb;for(yb=qa+vb;qa<yb;++qa)N<oc[qa]&&(N=oc[qa]);for(qa=Ob*vb;qa<yb;++qa)oc[qa]=N+$b[Ob-1]}else if("all"===Ma){N=0;for(qa=vb;qa<Ub;++qa)N<oc[qa]&&(N=oc[qa]);for(qa=vb;qa<Ub;++qa)oc[qa]=N+Nb}else for(Ma=!1,Ob=1;Ob<jb;++Ob)for(qa=Ob*vb,yb=qa+vb;qa<yb;++qa)oc[qa]+=$b[Ob-1];for(qa=Ob=0;qa<Ub;++qa)Ob=W[qa]+(qa%vb?Ob:0),Rb[qa]+=
Ob-F[qa].x;for(yb=0;yb<vb;++yb)for(W=0,qa=yb;qa<Ub;qa+=vb)W+=oc[qa],xc[qa]+=W-F[qa].y;if(wa&&hb(U.center,"column")&&1<jb)for(qa=0;qa<Ub;++qa)Hb="all"===wa?Mb:Ea[qa%vb],Ob=Hb-dd[qa].x2-F[qa].x-Rb[qa],0<Ob&&(Rb[qa]+=Ob/2);if(Ma&&hb(U.center,"row")&&1!==vb)for(qa=0;qa<Ub;++qa)Hb="all"===Ma?Nb:$b[~~(qa/vb)],W=Hb-dd[qa].y2-F[qa].y-xc[qa],0<W&&(xc[qa]+=W/2);for(qa=0;qa<Ub;++qa)la.union(dd[qa].translate(Rb[qa],xc[qa]));Ob=hb(U.anchor,"x");W=hb(U.anchor,"y");switch(hb(U.anchor,"column")){case "end":Ob-=la.width();
break;case "middle":Ob-=la.width()/2}switch(hb(U.anchor,"row")){case "end":W-=la.height();break;case "middle":W-=la.height()/2}Ob=Math.round(Ob);W=Math.round(W);la.clear();for(qa=0;qa<Ub;++qa)F[qa].mark.bounds.clear();for(qa=0;qa<Ub;++qa)yb=F[qa],yb.x+=Rb[qa]+=Ob,yb.y+=xc[qa]+=W,la.union(yb.mark.bounds.union(yb.bounds.translate(Rb[qa],xc[qa]))),sa&&z.dirty(yb);return la}function fa(z,F){return"x1"===F?z.x||0:"y1"===F?z.y||0:"x2"===F?(z.x||0)+(z.width||0):"y2"===F?(z.y||0)+(z.height||0):void 0}function za(z,
F){return z.bounds[F]}function Ra(z,F,U,sa,N,la,wa,Ma,Pa,Ya,vb,jb,Ub,W){var Ea=U.length,Mb=sa=0,oc,$b;if(!Ea)return sa;for(oc=vb;oc<Ea;oc+=jb)U[oc]&&(sa=wa(sa,Pa(U[oc],Ya)));if(!F.length)return sa;F.length>N&&(z.warn("Grid headers exceed limit: "+N),F=F.slice(0,N));sa+=la;N=0;for(la=F.length;N<la;++N)z.dirty(F[N]),F[N].mark.bounds.clear();oc=vb;N=0;for(la=F.length;N<la;++N,oc+=jb){Pa=F[N];vb=Pa.mark.bounds;for(Ea=oc;0<=Ea&&null==($b=U[Ea]);Ea-=Ub);if(Ma){Ea=null==W?$b.x:Math.round($b.bounds.x1+W*
$b.bounds.width());var Nb=sa}else Ea=sa,Nb=null==W?$b.y:Math.round($b.bounds.y1+W*$b.bounds.height());vb.union(Pa.bounds.translate(Ea-(Pa.x||0),Nb-(Pa.y||0)));Pa.x=Ea;Pa.y=Nb;z.dirty(Pa);Mb=wa(Mb,vb[Ya])}return Mb}function Xa(z,F,U,sa,N,la){if(F){z.dirty(F);var wa=U;sa?wa=Math.round(N.x1+la*N.width()):U=Math.round(N.y1+la*N.height());F.bounds.translate(wa-(F.x||0),U-(F.y||0));F.mark.bounds.clear().union(F.bounds);F.x=wa;F.y=U;z.dirty(F)}}function Ia(z,F){const U=z[F]||{};return(sa,N)=>null!=U[sa]?
U[sa]:null!=z[sa]?z[sa]:N}function ib(z,F){let U=-Infinity;z.forEach(sa=>{null!=sa.offset&&(U=Math.max(U,sa.offset))});return-Infinity<U?U:F}function bb(z,F,U,sa,N,la,wa){const Ma=Ia(U,F);U=ib(z,Ma("offset",0));const Pa=Ma("anchor","start"),Ya="end"===Pa?1:"middle"===Pa?.5:0;z={align:"each",bounds:Ma("bounds","flush"),columns:"vertical"===Ma("direction")?1:z.length,padding:Ma("margin",8),center:Ma("center"),nodirty:!0};switch(F){case "left":z.anchor={x:Math.floor(sa.x1)-U,column:"end",y:Ya*(wa||sa.height()+
2*sa.y1),row:Pa};break;case "right":z.anchor={x:Math.ceil(sa.x2)+U,y:Ya*(wa||sa.height()+2*sa.y1),row:Pa};break;case "top":z.anchor={y:Math.floor(N.y1)-U,row:"end",x:Ya*(la||N.width()+2*N.x1),column:Pa};break;case "bottom":z.anchor={y:Math.ceil(N.y2)+U,x:Ya*(la||N.width()+2*N.x1),column:Pa};break;case "top-left":z.anchor={x:U,y:U};break;case "top-right":z.anchor={x:la-U,y:U,column:"end"};break;case "bottom-left":z.anchor={x:U,y:wa-U,row:"end"};break;case "bottom-right":z.anchor={x:la-U,y:wa-U,column:"end",
row:"end"}}return z}function tb(z,F){F=F.items[0];var U=F.datum,sa=F.orient,N=F.bounds,la=F.x,wa=F.y;F._bounds?F._bounds.clear().union(N):F._bounds=N.clone();N.clear();var Ma=F.items[0].items[0];var Pa=F.padding,Ya=Pa-Ma.x,vb=Pa-Ma.y;if(F.datum.title){var jb=F.items[1].items[0],Ub=jb.anchor,W=F.titlePadding||0,Ea=Pa-jb.x,Mb=Pa-jb.y;switch(jb.orient){case "left":Ya+=Math.ceil(jb.bounds.width())+W;break;case "right":case "bottom":break;default:vb+=jb.bounds.height()+W}(Ya||vb)&&T(z,Ma,Ya,vb);switch(jb.orient){case "left":Mb+=
eb(F,Ma,jb,Ub,1,1);break;case "right":Ea+=eb(F,Ma,jb,"end",0,0)+W;Mb+=eb(F,Ma,jb,Ub,1,1);break;case "bottom":Ea+=eb(F,Ma,jb,Ub,0,0);Mb+=eb(F,Ma,jb,"end",-1,0,1)+W;break;default:Ea+=eb(F,Ma,jb,Ub,0,0)}(Ea||Mb)&&T(z,jb,Ea,Mb);0>(Ea=Math.round(jb.bounds.x1-Pa))&&(T(z,Ma,-Ea,0),T(z,jb,-Ea,0))}else(Ya||vb)&&T(z,Ma,Ya,vb);N=Qb(F,N);z=2*F.padding;Ma=2*F.padding;N.empty()||(z=Math.ceil(N.width()+z),Ma=Math.ceil(N.height()+Ma));"symbol"===U.type&&Z(F.items[0].items[0].items[0].items);"none"!==sa&&(F.x=la=
0,F.y=wa=0);F.width=z;F.height=Ma;ia.boundStroke(N.set(la,wa,la+z,wa+Ma),F);F.mark.bounds.clear().union(N);return F}function Qb(z,F){z.items.forEach(U=>F.union(U.bounds));F.x1=z.padding;F.y1=z.padding;return F}function eb(z,F,U,sa,N,la,wa){const Ma=U.datum.vgrad;z=("symbol"===z.datum.type||!la&&Ma||wa?F:F.items[0]).bounds[N?"y2":"x2"]-z.padding;F=Ma&&la?z:0;la=Ma&&la?0:z;U=0>=N?0:ia.multiLineOffset(U);return Math.round("start"===sa?F:"end"===sa?la-U:.5*(z-U))}function T(z,F,U,sa){F.x+=U;F.y+=sa;F.bounds.translate(U,
sa);F.mark.bounds.translate(U,sa);z.dirty(F)}function Z(z){const F=z.reduce((U,sa)=>{U[sa.column]=Math.max(sa.bounds.x2-sa.x,U[sa.column]||0);return U},{});z.forEach(U=>{U.width=F[U.column];U.height=U.bounds.y2-U.y})}function ca(z,F,U,sa,N){var la=F.items[0],wa=la.orient,Ma=la.anchor,Pa=la.offset,Ya=la.padding,vb=la.items[0].items[0],jb=la.items[1]&&la.items[1].items[0],Ub="left"===wa||"right"===wa?sa:U,W=0,Ea=U=0;"group"!==la.frame?"left"===wa?(W=N.y2,Ub=N.y1):"right"===wa?(W=N.y1,Ub=N.y2):(W=N.x1,
Ub=N.x2):"left"===wa&&(W=sa,Ub=0);sa="start"===Ma?W:"end"===Ma?Ub:(W+Ub)/2;if(jb&&jb.text){switch(wa){case "top":case "bottom":Ea=vb.bounds.height()+Ya;break;case "left":U=vb.bounds.width()+Ya;break;case "right":U=-vb.bounds.width()-Ya}V.clear().union(jb.bounds);V.translate(U-(jb.x||0),Ea-(jb.y||0));Ba(jb,"x",U)|Ba(jb,"y",Ea)&&(z.dirty(jb),jb.bounds.clear().union(V),jb.mark.bounds.clear().union(V),z.dirty(jb));V.clear().union(jb.bounds)}else V.clear();V.union(vb.bounds);switch(wa){case "top":wa=sa;
N=N.y1-V.height()-Pa;break;case "left":wa=N.x1-V.width()-Pa;N=sa;break;case "right":wa=N.x2+V.width()+Pa;N=sa;break;case "bottom":wa=sa;N=N.y2+Pa;break;default:wa=la.x,N=la.y}Ba(la,"x",wa)|Ba(la,"y",N)&&(V.translate(wa,N),z.dirty(la),la.bounds.clear().union(V),F.bounds.clear().union(V),z.dirty(la));return la.bounds}function ha(z){h.Transform.call(this,null,z)}function La(z){return z&&"legend-entry"!==z.mark.role}function oa(z,F,U){var sa=F.items,N=Math.max(0,F.width||0),la=Math.max(0,F.height||0),
wa=(new ia.Bounds).set(0,0,N,la),Ma=wa.clone(),Pa=wa.clone(),Ya=[],vb,jb;var Ub=0;for(jb=sa.length;Ub<jb;++Ub){var W=sa[Ub];switch(W.role){case "axis":var Ea=Za(W)?Ma:Pa;Ea.union(wb(z,W,N,la));break;case "title":var Mb=W;break;case "legend":Ya.push(tb(z,W));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":Ma.union(W.bounds);Pa.union(W.bounds);break;default:wa.union(W.bounds)}}if(Ya.length){const oc={};
Ya.forEach($b=>{vb=$b.orient||"right";"none"!==vb&&(oc[vb]||(oc[vb]=[])).push($b)});for(const $b in oc)sa=oc[$b],ra(z,sa,bb(sa,$b,U.legends,Ma,Pa,N,la));Ya.forEach($b=>{const Nb=$b.bounds;Nb.equals($b._bounds)||($b.bounds=$b._bounds,z.dirty($b),$b.bounds=Nb,z.dirty($b));if(!U.autosize||"fit"!==U.autosize.type&&"fit-x"!==U.autosize.type&&"fit-y"!==U.autosize.type)wa.union(Nb);else switch($b.orient){case "left":case "right":wa.add(Nb.x1,0).add(Nb.x2,0);break;case "top":case "bottom":wa.add(0,Nb.y1).add(0,
Nb.y2)}})}wa.union(Ma).union(Pa);Mb&&wa.union(ca(z,Mb,N,la,wa));F.clip&&wa.set(0,0,F.width||0,F.height||0);pa(z,F,wa,U)}function pa(z,F,U,sa){sa=sa.autosize||{};const N=sa.type;if(!(1>z._autosize)&&N){var la=z._width,wa=z._height,Ma=Math.max(0,F.width||0),Pa=Math.max(0,Math.ceil(-U.x1));F=Math.max(0,F.height||0);var Ya=Math.max(0,Math.ceil(-U.y1)),vb=Math.max(0,Math.ceil(U.x2-Ma));U=Math.max(0,Math.ceil(U.y2-F));if("padding"===sa.contains){const jb=z.padding();la-=jb.left+jb.right;wa-=jb.top+jb.bottom}"none"===
N?(Ya=Pa=0,Ma=la,F=wa):"fit"===N?(Ma=Math.max(0,la-Pa-vb),F=Math.max(0,wa-Ya-U)):"fit-x"===N?(Ma=Math.max(0,la-Pa-vb),wa=F+Ya+U):"fit-y"===N?(la=Ma+Pa+vb,F=Math.max(0,wa-Ya-U)):"pad"===N&&(la=Ma+Pa+vb,wa=F+Ya+U);z._resizeView(la,wa,Ma,F,[Pa,Ya],sa.resize)}}ab.inherits(zb,h.Transform,{transform(z,F){const U=F.dataflow,sa=z.mark,N=sa.marktype,la=ia.Marks[N],wa=la.bound;let Ma=sa.bounds,Pa;if(la.nested)sa.items.length&&U.dirty(sa.items[0]),Ma=Yb(sa,wa),sa.items.forEach(Ya=>{Ya.bounds.clear().union(Ma)});
else if("group"===N||z.modified())switch(F.visit(F.MOD,Ya=>U.dirty(Ya)),Ma.clear(),sa.items.forEach(Ya=>Ma.union(Yb(Ya,wa))),sa.role){case "axis":case "legend":case "title":F.reflow()}else Pa=F.changed(F.REM),F.visit(F.ADD,Ya=>{Ma.union(Yb(Ya,wa))}),F.visit(F.MOD,Ya=>{Pa=Pa||Ma.alignsWith(Ya.bounds);U.dirty(Ya);Ma.union(Yb(Ya,wa))}),Pa&&(Ma.clear(),sa.items.forEach(Ya=>Ma.union(Ya.bounds)));ia.boundClip(sa);return F.modifies("bounds")}});ac.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",
type:"string",required:!0}]};ab.inherits(ac,h.Transform,{transform(z,F){const U=Xb(F.dataflow),sa=z.as;let N=U.value;F.visit(F.ADD,la=>la[sa]=la[sa]||++N);U.set(this.value=N);return F}});ab.inherits(mc,h.Transform,{transform(z,F){let U=this.value;U||(U=F.dataflow.scenegraph().mark(z.markdef,Cb(z),z.index),U.group.context=z.context,z.context.group||(z.context.group=U.group),U.source=this.source,U.clip=z.clip,U.interactive=z.interactive,this.value=U);const sa="group"===U.marktype?ia.GroupItem:ia.Item;
F.visit(F.ADD,N=>sa.call(N,U));if(z.modified("clip")||z.modified("interactive"))U.clip=z.clip,U.interactive=!!z.interactive,U.zdirty=!0,F.reflow();U.items=F.source;return F}});const m={parity:z=>z.filter((F,U)=>U%2?F.opacity=0:1),greedy:(z,F)=>{let U;return z.filter((sa,N)=>N&&D(U.bounds,sa.bounds,F)?sa.opacity=0:(U=sa,1))}},D=(z,F,U)=>U>Math.max(F.x1-z.x2,z.x1-F.x2,F.y1-z.y2,z.y1-F.y2),L=(z,F)=>{for(var U=1,sa=z.length,N=z[0].bounds;U<sa;++U)if(D(N,N=z[U].bounds,F))return!0},w=z=>{z=z.bounds;return 1<
z.width()&&1<z.height()},P=(z,F,U)=>{z=z.range();var sa=new ia.Bounds;"top"===F||"bottom"===F?sa.set(z[0],-Infinity,z[1],Infinity):sa.set(-Infinity,z[0],Infinity,z[1]);sa.expand(U||1);return N=>sa.encloses(N.bounds)},A=z=>{z.forEach(F=>F.opacity=1);return z};ab.inherits(Vb,h.Transform,{transform(z,F){const U=m[z.method]||m.parity,sa=z.separation||0;let N=F.materialize(F.SOURCE).source,la,wa;if(N&&N.length){if(!z.method)return z.modified("method")&&(A(N),F=F.reflow(z.modified()).modifies("opacity")),
F;N=N.filter(w);if(N.length){z.sort&&(N=N.slice().sort(z.sort));la=A(N);F=F.reflow(z.modified()).modifies("opacity");if(3<=la.length&&L(la,sa)){do la=U(la,sa);while(3<=la.length&&L(la,sa));3>la.length&&!ab.peek(N).opacity&&(1<la.length&&(ab.peek(la).opacity=0),ab.peek(N).opacity=1)}z.boundScale&&0<=z.boundTolerance&&(wa=P(z.boundScale,z.boundOrient,+z.boundTolerance),N.forEach(Pa=>{wa(Pa)||(Pa.opacity=0)}));var Ma=la[0].mark.bounds.clear();N.forEach(Pa=>{Pa.opacity&&Ma.union(Pa.bounds)});return F}}}});
ab.inherits(jc,h.Transform,{transform(z,F){const U=F.dataflow;F.visit(F.ALL,sa=>U.dirty(sa));F.fields&&F.fields.zindex&&(z=F.source&&F.source[0])&&(z.mark.zdirty=!0)}});const V=new ia.Bounds,G=(z,F)=>Math.floor(Math.min(z,F)),x=(z,F)=>Math.ceil(Math.max(z,F));ab.inherits(ha,h.Transform,{transform(z,F){const U=F.dataflow;z.mark.items.forEach(sa=>{if(z.layout){var N=z.layout;var la=sa.items;for(var wa=la.length,Ma=0,Pa,Ya,vb={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,
coltitle:null};Ma<wa;++Ma)if(Pa=la[Ma],Ya=Pa.items,"group"===Pa.marktype)switch(Pa.role){case "axis":case "legend":case "title":break;case "row-header":vb.rowheaders.push(...Ya);break;case "row-footer":vb.rowfooters.push(...Ya);break;case "column-header":vb.colheaders.push(...Ya);break;case "column-footer":vb.colfooters.push(...Ya);break;case "row-title":vb.rowtitle=Ya[0];break;case "column-title":vb.coltitle=Ya[0];break;default:vb.marks.push(...Ya)}la=vb;Ya=la.marks;vb="flush"===N.bounds?fa:za;wa=
N.offset;var jb=N.columns||Ya.length,Ub=0>=jb?1:Math.ceil(Ya.length/jb),W=Ub*jb;Ma=ra(U,Ya,N);Ma.empty()&&Ma.set(0,0,0,0);if(la.rowheaders){Pa=hb(N.headerBand,"row",null);var Ea=Ra(U,la.rowheaders,Ya,jb,Ub,-hb(wa,"rowHeader"),G,0,vb,"x1",0,jb,1,Pa)}if(la.colheaders){Pa=hb(N.headerBand,"column",null);var Mb=Ra(U,la.colheaders,Ya,jb,jb,-hb(wa,"columnHeader"),G,1,vb,"y1",0,1,jb,Pa)}if(la.rowfooters){Pa=hb(N.footerBand,"row",null);var oc=Ra(U,la.rowfooters,Ya,jb,Ub,hb(wa,"rowFooter"),x,0,vb,"x2",jb-1,
jb,1,Pa)}if(la.colfooters){Pa=hb(N.footerBand,"column",null);var $b=Ra(U,la.colfooters,Ya,jb,jb,hb(wa,"columnFooter"),x,1,vb,"y2",W-jb,1,jb,Pa)}la.rowtitle&&(Pa=hb(N.titleAnchor,"row"),Ya=hb(wa,"rowTitle"),Ya="end"===Pa?oc+Ya:Ea-Ya,Pa=hb(N.titleBand,"row",.5),Xa(U,la.rowtitle,Ya,0,Ma,Pa));la.coltitle&&(Pa=hb(N.titleAnchor,"column"),Ya=hb(wa,"columnTitle"),Ya="end"===Pa?$b+Ya:Mb-Ya,Pa=hb(N.titleBand,"column",.5),Xa(U,la.coltitle,Ya,1,Ma,Pa))}oa(U,sa,z)});return La(z.mark.group)?F.reflow():F}});u.bound=
zb;u.identifier=ac;u.mark=mc;u.overlap=Vb;u.render=jc;u.viewlayout=ha})};
shadow$provide[36]=function(Eb,ob,Dc,Wa){(function(u,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,ob(29),ob(33),ob(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scale","vega-util"],h):(u="undefined"!==typeof globalThis?globalThis:u||self,h(u.vega={},u.vega,u.vega,u.vega))})(this,function(u,h,ia,ab){function zb(Q){h.Transform.call(this,null,Q)}function Yb(Q){h.Transform.call(this,null,Q)}function ac(){return h.ingest({})}function Xb(Q){const t=ab.fastmap().test(ba=>
ba.exit);t.lookup=ba=>t.get(Q(ba));return t}function mc(Q){h.Transform.call(this,null,Q)}function Cb(Q){h.Transform.call(this,[],Q)}function Vb(Q){h.Transform.call(this,{},Q)}function jc(Q,t,ba){Q=+Q;t=+t;ba=2>(Da=arguments.length)?(t=Q,Q=0,1):3>Da?1:+ba;for(var xa=-1,Da=Math.max(0,Math.ceil((t-Q)/ba))|0,Sa=Array(Da);++xa<Da;)Sa[xa]=Q+xa*ba;return Sa}function Ba(Q,t){t=0;for(let ba of Q)if(ba=+ba)t+=ba;return t}function Za(Q){h.Transform.call(this,null,Q)}function wb(Q,t,ba){Q.prototype=t.prototype=
ba;ba.constructor=Q}function ub(Q,t){Q=Object.create(Q.prototype);for(var ba in t)Q[ba]=t[ba];return Q}function sb(){}function xb(){return this.rgb().formatHex()}function hb(){return this.rgb().formatRgb()}function ec(Q){var t,ba;Q=(Q+"").trim().toLowerCase();return(t=qa.exec(Q))?(ba=t[1].length,t=parseInt(t[1],16),6===ba?ra(t):3===ba?new Ra(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):8===ba?fa(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):4===ba?fa(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,
((t&15)<<4|t&15)/255):null):(t=Db.exec(Q))?new Ra(t[1],t[2],t[3],1):(t=Ua.exec(Q))?new Ra(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=yb.exec(Q))?fa(t[1],t[2],t[3],t[4]):(t=Hb.exec(Q))?fa(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Ob.exec(Q))?Qb(t[1],t[2]/100,t[3]/100,1):(t=Zb.exec(Q))?Qb(t[1],t[2]/100,t[3]/100,t[4]):ic.hasOwnProperty(Q)?ra(ic[Q]):"transparent"===Q?new Ra(NaN,NaN,NaN,0):null}function ra(Q){return new Ra(Q>>16&255,Q>>8&255,Q&255,1)}function fa(Q,t,ba,xa){0>=xa&&(Q=t=ba=NaN);
return new Ra(Q,t,ba,xa)}function za(Q,t,ba,xa){if(1===arguments.length){var Da=Q;Da instanceof sb||(Da=ec(Da));Da?(Da=Da.rgb(),Da=new Ra(Da.r,Da.g,Da.b,Da.opacity)):Da=new Ra}else Da=new Ra(Q,t,ba,null==xa?1:xa);return Da}function Ra(Q,t,ba,xa){this.r=+Q;this.g=+t;this.b=+ba;this.opacity=+xa}function Xa(){return`#${tb(this.r)}${tb(this.g)}${tb(this.b)}`}function Ia(){const Q=ib(this.opacity);return`${1===Q?"rgb(":"rgba("}${bb(this.r)}, ${bb(this.g)}, ${bb(this.b)}${1===Q?")":`, ${Q})`}`}function ib(Q){return isNaN(Q)?
1:Math.max(0,Math.min(1,Q))}function bb(Q){return Math.max(0,Math.min(255,Math.round(Q)||0))}function tb(Q){Q=bb(Q);return(16>Q?"0":"")+Q.toString(16)}function Qb(Q,t,ba,xa){0>=xa?Q=t=ba=NaN:0>=ba||1<=ba?Q=t=NaN:0>=t&&(Q=NaN);return new T(Q,t,ba,xa)}function eb(Q){if(Q instanceof T)return new T(Q.h,Q.s,Q.l,Q.opacity);Q instanceof sb||(Q=ec(Q));if(!Q)return new T;if(Q instanceof T)return Q;Q=Q.rgb();var t=Q.r/255,ba=Q.g/255,xa=Q.b/255,Da=Math.min(t,ba,xa),Sa=Math.max(t,ba,xa),kb=NaN,Sb=Sa-Da,Fb=(Sa+
Da)/2;Sb?(kb=t===Sa?(ba-xa)/Sb+6*(ba<xa):ba===Sa?(xa-t)/Sb+2:(t-ba)/Sb+4,Sb/=.5>Fb?Sa+Da:2-Sa-Da,kb*=60):Sb=0<Fb&&1>Fb?0:kb;return new T(kb,Sb,Fb,Q.opacity)}function T(Q,t,ba,xa){this.h=+Q;this.s=+t;this.l=+ba;this.opacity=+xa}function Z(Q){Q=(Q||0)%360;return 0>Q?Q+360:Q}function ca(Q){return Math.max(0,Math.min(1,Q||0))}function ha(Q,t,ba){return 255*(60>Q?t+(ba-t)*Q/60:180>Q?ba:240>Q?t+(ba-t)*(240-Q)/60:t)}function La(Q,t){return function(ba){return Q+ba*t}}function oa(Q,t,ba){return Q=Math.pow(Q,
ba),t=Math.pow(t,ba)-Q,ba=1/ba,function(xa){return Math.pow(Q+xa*t,ba)}}function pa(Q){return 1===(Q=+Q)?m:function(t,ba){return ba-t?oa(t,ba,Q):Bc(isNaN(t)?ba:t)}}function m(Q,t){var ba=t-Q;return ba?La(Q,ba):Bc(isNaN(Q)?t:Q)}function D(Q,t){t||(t=[]);var ba=Q?Math.min(t.length,Q.length):0,xa=t.slice(),Da;return function(Sa){for(Da=0;Da<ba;++Da)xa[Da]=Q[Da]*(1-Sa)+t[Da]*Sa;return xa}}function L(Q,t){var ba=t?t.length:0,xa=Q?Math.min(ba,Q.length):0,Da=Array(xa),Sa=Array(ba),kb;for(kb=0;kb<xa;++kb)Da[kb]=
z(Q[kb],t[kb]);for(;kb<ba;++kb)Sa[kb]=t[kb];return function(Sb){for(kb=0;kb<xa;++kb)Sa[kb]=Da[kb](Sb);return Sa}}function w(Q,t){var ba=new Date;return Q=+Q,t=+t,function(xa){return ba.setTime(Q*(1-xa)+t*xa),ba}}function P(Q,t){return Q=+Q,t=+t,function(ba){return Q*(1-ba)+t*ba}}function A(Q,t){var ba={},xa={},Da;if(null===Q||"object"!==typeof Q)Q={};if(null===t||"object"!==typeof t)t={};for(Da in t)Da in Q?ba[Da]=z(Q[Da],t[Da]):xa[Da]=t[Da];return function(Sa){for(Da in ba)xa[Da]=ba[Da](Sa);return xa}}
function V(Q){return function(){return Q}}function G(Q){return function(t){return Q(t)+""}}function x(Q,t){var ba=Vc.lastIndex=ma.lastIndex=0,xa,Da,Sa,kb=-1,Sb=[],Fb=[];Q+="";for(t+="";(xa=Vc.exec(Q))&&(Da=ma.exec(t));)(Sa=Da.index)>ba&&(Sa=t.slice(ba,Sa),Sb[kb]?Sb[kb]+=Sa:Sb[++kb]=Sa),(xa=xa[0])===(Da=Da[0])?Sb[kb]?Sb[kb]+=Da:Sb[++kb]=Da:(Sb[++kb]=null,Fb.push({i:kb,x:P(xa,Da)})),ba=ma.lastIndex;ba<t.length&&(Sa=t.slice(ba),Sb[kb]?Sb[kb]+=Sa:Sb[++kb]=Sa);return 2>Sb.length?Fb[0]?G(Fb[0].x):V(t):
(t=Fb.length,function(Kb){for(var Cc=0,Ec;Cc<t;++Cc)Sb[(Ec=Fb[Cc]).i]=Ec.x(Kb);return Sb.join("")})}function z(Q,t){var ba=typeof t;if(null==t||"boolean"===ba)Q=Bc(t);else{if("number"===ba)var xa=P;else"string"===ba?ba=(xa=ec(t))?(t=xa,jd):x:(t instanceof ec?xa=jd:t instanceof Date?xa=w:(xa=t,xa=!ArrayBuffer.isView(xa)||xa instanceof DataView?Array.isArray(t)?L:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?A:P:D),ba=xa),xa=ba;Q=xa(Q,t)}return Q}function F(Q,t){return Q=+Q,
t=+t,function(ba){return Math.round(Q*(1-ba)+t*ba)}}function U(Q){return ia.isContinuous(Q)&&Q!==ia.Sequential}function sa(Q){h.Transform.call(this,null,Q);this.modified(!0)}function N(Q,t,ba){ia.isLogarithmic(Q)&&Math.abs(t.reduce((xa,Da)=>xa+(0>Da?-1:0<Da?1:0),0))!==t.length&&ba.warn("Log scale domain includes zero: "+ab.stringValue(t));return t}function la(Q,t,ba){return ab.isFunction(Q)&&(t||ba)?ia.interpolateRange(Q,wa(t||[0,1],ba)):Q}function wa(Q,t){return t?Q.slice().reverse():Q}function Ma(Q){h.Transform.call(this,
null,Q)}function Pa(Q){h.Transform.call(this,null,Q)}function Ya(Q,t,ba,xa,Da){t=(t-Q.sum)/2;for(var Sa=Q.length,kb=0,Sb;kb<Sa;++kb)Sb=Q[kb],Sb[xa]=t,Sb[Da]=t+=Math.abs(ba(Sb))}function vb(Q,t,ba,xa,Da){t=1/Q.sum;for(var Sa=0,kb=Q.length,Sb=0,Fb=0,Kb;Sb<kb;++Sb)Kb=Q[Sb],Kb[xa]=Sa,Kb[Da]=Sa=t*(Fb+=Math.abs(ba(Kb)))}function jb(Q,t,ba,xa,Da){for(var Sa=t=0,kb=Q.length,Sb=0,Fb,Kb;Sb<kb;++Sb)Kb=Q[Sb],Fb=+ba(Kb),0>Fb?(Kb[xa]=Sa,Kb[Da]=Sa+=Fb):(Kb[xa]=t,Kb[Da]=t+=Fb)}function Ub(Q,t,ba,xa){var Da=[],Sa=
Sc=>Sc(Kb),kb;if(null==t)Da.push(Q.slice());else{var Sb={};var Fb=0;for(kb=Q.length;Fb<kb;++Fb){var Kb=Q[Fb];var Cc=t.map(Sa);var Ec=Sb[Cc];Ec||(Sb[Cc]=Ec=[],Da.push(Ec));Ec.push(Kb)}}Sa=Cc=0;for(Q=Da.length;Cc<Q;++Cc){Ec=Da[Cc];t=Fb=0;for(kb=Ec.length;Fb<kb;++Fb)t+=Math.abs(xa(Ec[Fb]));Ec.sum=t;t>Sa&&(Sa=t);ba&&Ec.sort(ba)}Da.max=Sa;return Da}ab.inherits(zb,h.Transform,{transform(Q,t){if(this.value&&!Q.modified())return t.StopPropagation;var ba=t.dataflow.locale();t=t.fork(t.NO_SOURCE|t.NO_FIELDS);
var xa=this.value,Da=Q.scale,Sa=ia.tickCount(Da,null==Q.count?Q.values?Q.values.length:10:Q.count,Q.minstep),kb=Q.format||ia.tickFormat(ba,Da,Sa,Q.formatSpecifier,Q.formatType,!!Q.values),Sb=Q.values?ia.validTicks(Da,Q.values,Sa):ia.tickValues(Da,Sa);xa&&(t.rem=xa);xa=Sb.map((Fb,Kb)=>h.ingest({index:Kb/(Sb.length-1||1),value:Fb,label:kb(Fb)}));Q.extra&&xa.length&&xa.push(h.ingest({index:-1,extra:{value:xa[0].value},label:""}));t.source=xa;this.value=t.add=xa;return t}});ab.inherits(Yb,h.Transform,
{transform(Q,t){var ba=t.dataflow,xa=t.fork(t.NO_SOURCE|t.NO_FIELDS),Da=Q.item||ac,Sa=Q.key||h.tupleid,kb=this.value;ab.isArray(xa.encode)&&(xa.encode=null);kb&&(Q.modified("key")||t.modified(Sa))&&ab.error("DataJoin does not support modified key function or fields.");kb||(t=t.addAll(),this.value=kb=Xb(Sa));t.visit(t.ADD,Sb=>{const Fb=Sa(Sb);let Kb=kb.get(Fb);Kb?Kb.exit?(kb.empty--,xa.add.push(Kb)):xa.mod.push(Kb):(Kb=Da(Sb),kb.set(Fb,Kb),xa.add.push(Kb));Kb.datum=Sb;Kb.exit=!1});t.visit(t.MOD,Sb=>
{var Fb=Sa(Sb);if(Fb=kb.get(Fb))Fb.datum=Sb,xa.mod.push(Fb)});t.visit(t.REM,Sb=>{var Fb=Sa(Sb);Fb=kb.get(Fb);Sb!==Fb.datum||Fb.exit||(xa.rem.push(Fb),Fb.exit=!0,++kb.empty)});t.changed(t.ADD_MOD)&&xa.modifies("datum");(t.clean()||Q.clean&&kb.empty>ba.cleanThreshold)&&ba.runAfter(kb.clean);return xa}});ab.inherits(mc,h.Transform,{transform(Q,t){var ba=t.fork(t.ADD_REM),xa=Q.mod||!1,Da=Q.encoders,Sa=t.encode;if(ab.isArray(Sa))if(ba.changed()||Sa.every(Ec=>Da[Ec]))Sa=Sa[0],ba.encode=null;else return t.StopPropagation;
var kb="enter"===Sa,Sb=Da.update||ab.falsy,Fb=Da.enter||ab.falsy,Kb=Da.exit||ab.falsy,Cc=(Sa&&!kb?Da[Sa]:Sb)||ab.falsy;t.changed(t.ADD)&&(t.visit(t.ADD,Ec=>{Fb(Ec,Q);Sb(Ec,Q)}),ba.modifies(Fb.output),ba.modifies(Sb.output),Cc!==ab.falsy&&Cc!==Sb&&(t.visit(t.ADD,Ec=>{Cc(Ec,Q)}),ba.modifies(Cc.output)));t.changed(t.REM)&&Kb!==ab.falsy&&(t.visit(t.REM,Ec=>{Kb(Ec,Q)}),ba.modifies(Kb.output));if(kb||Cc!==ab.falsy)Sa=t.MOD|(Q.modified()?t.REFLOW:0),kb?(t.visit(Sa,Ec=>{const Sc=Fb(Ec,Q)||xa;(Cc(Ec,Q)||Sc)&&
ba.mod.push(Ec)}),ba.mod.length&&ba.modifies(Fb.output)):t.visit(Sa,Ec=>{(Cc(Ec,Q)||xa)&&ba.mod.push(Ec)}),ba.mod.length&&ba.modifies(Cc.output);return ba.changed()?ba:t.StopPropagation}});ab.inherits(Cb,h.Transform,{transform(Q,t){if(null!=this.value&&!Q.modified())return t.StopPropagation;var ba=t.dataflow.locale(),xa=t.fork(t.NO_SOURCE|t.NO_FIELDS),Da=this.value,Sa=Q.type||ia.SymbolLegend,kb=Q.scale,Sb=+Q.limit,Fb=ia.tickCount(kb,null==Q.count?5:Q.count,Q.minstep),Kb=!!Q.values||Sa===ia.SymbolLegend,
Cc=Q.format||ia.labelFormat(ba,kb,Fb,Sa,Q.formatSpecifier,Q.formatType,Kb),Ec=Q.values||ia.labelValues(kb,Fb),Sc;Da&&(xa.rem=Da);if(Sa===ia.SymbolLegend){if(Sb&&Ec.length>Sb){t.dataflow.warn("Symbol legend count exceeds limit, filtering items.");Da=Ec.slice(0,Sb-1);var vd=!0}else Da=Ec;if(ab.isFunction(Sc=Q.size)){Q.values||0!==kb(Da[0])||(Da=Da.slice(1));var pd=Da.reduce((Cd,Dd)=>Math.max(Cd,Sc(Dd,Q)),0)}else Sc=ab.constant(pd=Sc||8);Da=Da.map((Cd,Dd)=>h.ingest({index:Dd,label:Cc(Cd,Dd,Da),value:Cd,
offset:pd,size:Sc(Cd,Q)}));vd&&(vd=Ec[Da.length],Da.push(h.ingest({index:Da.length,label:`\u2026${Ec.length-Da.length} entries`,value:vd,offset:pd,size:Sc(vd,Q)})))}else if(Sa===ia.GradientLegend){t=kb.domain();var fd=ia.scaleFraction(kb,t[0],ab.peek(t));3>Ec.length&&!Q.values&&t[0]!==ab.peek(t)&&(Ec=[t[0],ab.peek(t)]);Da=Ec.map((Cd,Dd)=>h.ingest({index:Dd,label:Cc(Cd,Dd,Ec),value:Cd,perc:fd(Cd)}))}else Sc=Ec.length-1,fd=ia.labelFraction(kb),Da=Ec.map((Cd,Dd)=>h.ingest({index:Dd,label:Cc(Cd,Dd,Ec),
value:Cd,perc:Dd?fd(Cd):0,perc2:Dd===Sc?1:fd(Ec[Dd+1])}));xa.source=Da;this.value=xa.add=Da;return xa}});const W=Q=>Q.source.x,Ea=Q=>Q.source.y,Mb=Q=>Q.target.x,oc=Q=>Q.target.y;Vb.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal",
"vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string","default":"path"}]};ab.inherits(Vb,h.Transform,{transform(Q,t){var ba=Q.sourceX||W,xa=Q.sourceY||Ea,Da=Q.targetX||Mb,Sa=Q.targetY||oc,kb=Q.as||"path",Sb=Q.shape||"line",Fb=xc.get(Sb+"-"+(Q.orient||"vertical"))||xc.get(Sb);Fb||ab.error("LinkPath unsupported type: "+Q.shape+(Q.orient?"-"+Q.orient:""));t.visit(t.SOURCE,Kb=>{Kb[kb]=
Fb(ba(Kb),xa(Kb),Da(Kb),Sa(Kb))});return t.reflow(Q.modified()).modifies(kb)}});const $b=(Q,t,ba,xa)=>"M"+Q+","+t+"L"+ba+","+xa,Nb=(Q,t,ba,xa)=>{var Da=ba-Q,Sa=xa-t,kb=Math.hypot(Da,Sa)/2;return"M"+Q+","+t+"A"+kb+","+kb+" "+180*Math.atan2(Sa,Da)/Math.PI+" 0 1 "+ba+","+xa},Rb=(Q,t,ba,xa)=>{var Da=ba-Q;const Sa=xa-t,kb=.2*(Da+Sa);Da=.2*(Sa-Da);return"M"+Q+","+t+"C"+(Q+kb)+","+(t+Da)+" "+(ba+Da)+","+(xa-kb)+" "+ba+","+xa},xc=ab.fastmap({line:$b,"line-radial":(Q,t,ba,xa)=>$b(t*Math.cos(Q),t*Math.sin(Q),
xa*Math.cos(ba),xa*Math.sin(ba)),arc:Nb,"arc-radial":(Q,t,ba,xa)=>Nb(t*Math.cos(Q),t*Math.sin(Q),xa*Math.cos(ba),xa*Math.sin(ba)),curve:Rb,"curve-radial":(Q,t,ba,xa)=>Rb(t*Math.cos(Q),t*Math.sin(Q),xa*Math.cos(ba),xa*Math.sin(ba)),"orthogonal-horizontal":(Q,t,ba,xa)=>"M"+Q+","+t+"V"+xa+"H"+ba,"orthogonal-vertical":(Q,t,ba,xa)=>"M"+Q+","+t+"H"+ba+"V"+xa,"orthogonal-radial":(Q,t,ba,xa)=>{const Da=Math.cos(ba),Sa=Math.sin(ba);return"M"+t*Math.cos(Q)+","+t*Math.sin(Q)+"A"+t+","+t+" 0 0,"+((Math.abs(ba-
Q)>Math.PI?ba<=Q:ba>Q)?1:0)+" "+t*Da+","+t*Sa+"L"+xa*Da+","+xa*Sa},"diagonal-horizontal":(Q,t,ba,xa)=>{const Da=(Q+ba)/2;return"M"+Q+","+t+"C"+Da+","+t+" "+Da+","+xa+" "+ba+","+xa},"diagonal-vertical":(Q,t,ba,xa)=>{const Da=(t+xa)/2;return"M"+Q+","+t+"C"+Q+","+Da+" "+ba+","+Da+" "+ba+","+xa},"diagonal-radial":(Q,t,ba,xa)=>{const Da=Math.cos(Q);Q=Math.sin(Q);const Sa=Math.cos(ba);ba=Math.sin(ba);const kb=(t+xa)/2;return"M"+t*Da+","+t*Q+"C"+kb*Da+","+kb*Q+" "+kb*Sa+","+kb*ba+" "+xa*Sa+","+xa*ba}});
Za.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};ab.inherits(Za,h.Transform,{transform(Q,t){var ba=Q.as||["startAngle","endAngle"],xa=ba[0],Da=ba[1],Sa=Q.startAngle||0,kb=null!=Q.endAngle?Q.endAngle:2*Math.PI,Sb=t.source,Fb=Sb.map(Q.field||
ab.one),Kb=Fb.length,Cc=Sa;Sa=(kb-Sa)/Ba(Fb);kb=jc(Kb);var Ec;Q.sort&&kb.sort((pd,fd)=>Fb[pd]-Fb[fd]);for(Ec=0;Ec<Kb;++Ec){var Sc=Fb[kb[Ec]];var vd=Sb[kb[Ec]];vd[xa]=Cc;vd[Da]=Cc+=Sc*Sa}this.value=Fb;return t.reflow(Q.modified()).modifies(ba)}});var dd=1/.7,qa=/^#([0-9a-f]{3,8})$/,Db=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),Ua=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
yb=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Hb=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Ob=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
Zb=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),ic={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,
cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,
dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,
lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,
mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,
seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wb(sb,ec,{copy(Q){return Object.assign(new this.constructor,this,Q)},displayable(){return this.rgb().displayable()},hex:xb,formatHex:xb,
formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return eb(this).formatHsl()},formatRgb:hb,toString:hb});wb(Ra,za,ub(sb,{brighter(Q){Q=null==Q?dd:Math.pow(dd,Q);return new Ra(this.r*Q,this.g*Q,this.b*Q,this.opacity)},darker(Q){Q=null==Q?.7:Math.pow(.7,Q);return new Ra(this.r*Q,this.g*Q,this.b*Q,this.opacity)},rgb(){return this},clamp(){return new Ra(bb(this.r),bb(this.g),bb(this.b),ib(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&
-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Xa,formatHex:Xa,formatHex8:function(){return`#${tb(this.r)}${tb(this.g)}${tb(this.b)}${tb(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ia,toString:Ia}));wb(T,function(Q,t,ba,xa){return 1===arguments.length?eb(Q):new T(Q,t,ba,null==xa?1:xa)},ub(sb,{brighter(Q){Q=null==Q?dd:Math.pow(dd,Q);return new T(this.h,this.s,this.l*Q,this.opacity)},darker(Q){Q=null==Q?.7:Math.pow(.7,Q);return new T(this.h,this.s,this.l*Q,this.opacity)},
rgb(){var Q=this.h%360+360*(0>this.h),t=isNaN(Q)||isNaN(this.s)?0:this.s,ba=this.l;t=ba+(.5>ba?ba:1-ba)*t;ba=2*ba-t;return new Ra(ha(240<=Q?Q-240:Q+120,ba,t),ha(Q,ba,t),ha(120>Q?Q+240:Q-120,ba,t),this.opacity)},clamp(){return new T(Z(this.h),ca(this.s),ca(this.l),ib(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const Q=ib(this.opacity);return`${1===Q?"hsl(":"hsla("}${Z(this.h)}, ${100*ca(this.s)}%, ${100*
ca(this.l)}%${1===Q?")":`, ${Q})`}`}}));var Bc=Q=>()=>Q,jd=function ba(t){function xa(Sa,kb){var Sb=Da((Sa=za(Sa)).r,(kb=za(kb)).r),Fb=Da(Sa.g,kb.g),Kb=Da(Sa.b,kb.b),Cc=m(Sa.opacity,kb.opacity);return function(Ec){Sa.r=Sb(Ec);Sa.g=Fb(Ec);Sa.b=Kb(Ec);Sa.opacity=Cc(Ec);return Sa+""}}var Da=pa(t);xa.gamma=ba;return xa}(1),Vc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ma=new RegExp(Vc.source,"g");const Ha=ab.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));
ab.inherits(sa,h.Transform,{transform(t,ba){var xa=ba.dataflow,Da=this.value;var Sa=t.type;var kb="";if(Sa===ia.Sequential)Sa=ia.Sequential+"-"+ia.Linear;else{var Sb=t.type;ia.isContinuous(Sb)&&Sb!==ia.Time&&Sb!==ia.UTC&&(t.scheme||t.range&&t.range.length&&t.range.every(ab.isString))&&(kb=t.rawDomain?t.rawDomain.length:t.domain?t.domain.length+ +(null!=t.domainMid):0,kb=2===kb?ia.Sequential+"-":3===kb?ia.Diverging+"-":"");Sa=(kb+Sa||ia.Linear).toLowerCase()}Da&&Sa===Da.type||(this.value=Da=ia.scale(Sa)());
for(Sa in t)Ha[Sa]||"padding"===Sa&&U(Da.type)||(ab.isFunction(Da[Sa])?Da[Sa](t[Sa]):xa.warn("Unsupported scale property: "+Sa));kb=Sa=Da;(Sb=t.domainRaw)?(Da.domain(N(Da.type,Sb,xa)),Sb=Sb.length):Sb=-1;if(-1<Sb)xa=Sb;else{var Fb=t.domain;Sb=Da.type;var Kb;!(Kb=t.zero)&&(Kb=void 0===t.zero)&&(Kb=Da.type,Kb=!Da.bins&&(Kb===ia.Linear||Kb===ia.Pow||Kb===ia.Sqrt));var Cc=Kb;if(Fb){if(Cc||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)if(Kb=(Fb=Fb.slice()).length-1||1,Cc&&(0<Fb[0]&&(Fb[0]=0),
0>Fb[Kb]&&(Fb[Kb]=0)),null!=t.domainMin&&(Fb[0]=t.domainMin),null!=t.domainMax&&(Fb[Kb]=t.domainMax),null!=t.domainMid){Cc=t.domainMid;var Ec=Cc>Fb[Kb]?Kb+1:Cc<Fb[0]?0:Kb;Ec!==Kb&&xa.warn("Scale domainMid exceeds domain min or max.",Cc);Fb.splice(Ec,0,Cc)}if(U(Sb)&&t.padding&&Fb[0]!==ab.peek(Fb)){var Sc=t.range;Ec=t.padding;Kb=t.exponent;Cc=t.constant;Sc=Math.abs(ab.peek(Sc)-Sc[0]);Ec=Sc/(Sc-2*Ec);Kb=Sb===ia.Log?ab.zoomLog(Fb,null,Ec):Sb===ia.Sqrt?ab.zoomPow(Fb,null,Ec,.5):Sb===ia.Pow?ab.zoomPow(Fb,
null,Ec,Kb||1):Sb===ia.Symlog?ab.zoomSymlog(Fb,null,Ec,Cc||1):ab.zoomLinear(Fb,null,Ec);Fb=Fb.slice();Fb[0]=Kb[0];Fb[Fb.length-1]=Kb[1]}Da.domain(N(Sb,Fb,xa));Sb===ia.Ordinal&&Da.unknown(t.domainImplicit?ia.scaleImplicit:void 0);t.nice&&Da.nice&&Da.nice(!0!==t.nice&&ia.tickCount(Da,t.nice)||null);xa=Fb.length}else xa=0}(Sb=t.bins)&&!ab.isArray(Sb)&&(Fb=kb.domain(),Da=Fb[0],Fb=ab.peek(Fb),Kb=Sb.step,Cc=null==Sb.start?Da:Sb.start,Sb=null==Sb.stop?Fb:Sb.stop,Kb||ab.error("Scale bins parameter missing step property."),
Cc<Da&&(Cc=Kb*Math.ceil(Da/Kb)),Sb>Fb&&(Sb=Kb*Math.floor(Fb/Kb)),Sb=jc(Cc,Sb+Kb/2,Kb));Sb?kb.bins=Sb:kb.bins&&delete kb.bins;kb.type===ia.BinOrdinal&&(Sb?t.domain||t.domainRaw||(kb.domain(Sb),xa=Sb.length):kb.bins=kb.domain());Da=xa;a:{kb=Sa.type;xa=t.round||!1;Sb=t.range;if(null!=t.rangeStep)kb!==ia.Band&&kb!==ia.Point&&ab.error("Only band and point scales support rangeStep."),Sb=[0,t.rangeStep*ia.bandSpace(Da,kb===ia.Point?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0,(null!=t.paddingOuter?
t.paddingOuter:t.padding)||0)];else if(t.scheme&&(Sb=t.schemeExtent,ab.isArray(t.scheme)?Fb=ia.interpolateColors(t.scheme,t.interpolate,t.interpolateGamma):(Fb=t.scheme.toLowerCase(),(Fb=ia.scheme(Fb))||ab.error(`Unrecognized scheme name: ${t.scheme}`)),Da=kb===ia.Threshold?Da+1:kb===ia.BinOrdinal?Da-1:kb===ia.Quantile||kb===ia.Quantize?+t.schemeCount||5:Da,Sb=ia.isInterpolating(kb)?la(Fb,Sb,t.reverse):ab.isFunction(Fb)?ia.quantizeInterpolator(la(Fb,Sb),Da):kb===ia.Ordinal?Fb:Fb.slice(0,Da),ab.isFunction(Sb)))if(Sa.interpolator){Sa.interpolator(Sb);
break a}else ab.error(`Scale type ${kb} does not support interpolating color schemes.`);Sb&&ia.isInterpolating(kb)?Sa.interpolator(ia.interpolateColors(wa(Sb,t.reverse),t.interpolate,t.interpolateGamma)):(Sb&&t.interpolate&&Sa.interpolate?Sa.interpolate(ia.interpolate(t.interpolate,t.interpolateGamma)):ab.isFunction(Sa.round)?Sa.round(xa):ab.isFunction(Sa.rangeRound)&&Sa.interpolate(xa?F:z),Sb&&Sa.range(wa(Sb,t.reverse)))}return ba.fork(ba.NO_SOURCE|ba.NO_FIELDS)}});ab.inherits(Ma,h.Transform,{transform(t,
ba){const xa=t.modified("sort")||ba.changed(ba.ADD)||ba.modified(t.sort.fields)||ba.modified("datum");xa&&ba.source.sort(h.stableCompare(t.sort));this.modified(xa);return ba}});const gb=["y0","y1"];Pa.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":gb}]};ab.inherits(Pa,
h.Transform,{transform(t,ba){var xa=t.as||gb,Da=xa[0],Sa=xa[1],kb=h.stableCompare(t.sort),Sb=t.field||ab.one,Fb="center"===t.offset?Ya:"normalize"===t.offset?vb:jb,Kb;kb=Ub(ba.source,t.groupby,kb,Sb);var Cc=0;var Ec=kb.length;for(Kb=kb.max;Cc<Ec;++Cc)Fb(kb[Cc],Kb,Sb,Da,Sa);return ba.reflow(t.modified()).modifies(xa)}});u.axisticks=zb;u.datajoin=Yb;u.encode=mc;u.legendentries=Cb;u.linkpath=Vb;u.pie=Za;u.scale=sa;u.sortitems=Ma;u.stack=Pa})};
shadow$provide[37]=function(Eb,ob,Dc,Wa){(function(u,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,ob(33)):"function"===typeof define&&define.amd?define(["exports","vega-scale"],h):(u="undefined"!==typeof globalThis?globalThis:u||self,h(u.vega={},u.vega))})(this,function(u,h){function*ia(na){for(const l of na)yield*l}function ab(na){return 1<na?0:-1>na?Kb:Math.acos(na)}function zb(na){return 1<na?Cc:-1>na?-Cc:Math.asin(na)}function Yb(){}function ac(na,l){if(na&&bc.hasOwnProperty(na.type))bc[na.type](na,
l)}function Xb(na,l,q){var K=-1;q=na.length-q;for(l.lineStart();++K<q;){var ja=na[K];l.point(ja[0],ja[1],ja[2])}l.lineEnd()}function mc(na,l){var q=-1,K=na.length;for(l.polygonStart();++q<K;)Xb(na[q],l,1);l.polygonEnd()}function Cb(na,l){if(na&&Bb.hasOwnProperty(na.type))Bb[na.type](na,l);else ac(na,l)}function Vb(na){return[Dd(na[1],na[0]),zb(na[2])]}function jc(na){var l=na[0];na=na[1];var q=rd(na);return[q*rd(l),q*J(l),J(na)]}function Ba(na,l){return na[0]*l[0]+na[1]*l[1]+na[2]*l[2]}function Za(na,
l){return[na[1]*l[2]-na[2]*l[1],na[2]*l[0]-na[0]*l[2],na[0]*l[1]-na[1]*l[0]]}function wb(na,l){na[0]+=l[0];na[1]+=l[1];na[2]+=l[2]}function ub(na,l){return[na[0]*l,na[1]*l,na[2]*l]}function sb(na){var l=Ka(na[0]*na[0]+na[1]*na[1]+na[2]*na[2]);na[0]/=l;na[1]/=l;na[2]/=l}function xb(na,l){function q(K,ja){return K=na(K,ja),l(K[0],K[1])}na.invert&&l.invert&&(q.invert=function(K,ja){return K=l.invert(K,ja),K&&na.invert(K[0],K[1])});return q}function hb(na,l){fd(na)>Kb&&(na-=Math.round(na/Sc)*Sc);return[na,
l]}function ec(na,l,q){return(na%=Sc)?l||q?xb(fa(na),za(l,q)):fa(na):l||q?za(l,q):hb}function ra(na){return function(l,q){l+=na;fd(l)>Kb&&(l-=Math.round(l/Sc)*Sc);return[l,q]}}function fa(na){var l=ra(na);l.invert=ra(-na);return l}function za(na,l){function q(Ga,qb){var nb=rd(qb),wc=rd(Ga)*nb;Ga=J(Ga)*nb;qb=J(qb);nb=qb*K+wc*ja;return[Dd(Ga*Ca-nb*Qa,wc*K-qb*ja),zb(nb*Ca+Ga*Qa)]}var K=rd(na),ja=J(na),Ca=rd(l),Qa=J(l);q.invert=function(Ga,qb){var nb=rd(qb),wc=rd(Ga)*nb;Ga=J(Ga)*nb;qb=J(qb);nb=qb*Ca-
Ga*Qa;return[Dd(Ga*Ca+qb*Qa,wc*K+nb*ja),zb(nb*K-wc*ja)]};return q}function Ra(na){function l(q){q=na(q[0]*pd,q[1]*pd);return q[0]*=vd,q[1]*=vd,q}na=ec(na[0]*pd,na[1]*pd,2<na.length?na[2]*pd:0);l.invert=function(q){q=na.invert(q[0]*pd,q[1]*pd);return q[0]*=vd,q[1]*=vd,q};return l}function Xa(na,l){l=jc(l);l[0]-=na;sb(l);na=ab(-l[1]);return((0>-l[2]?-na:na)+Sc-1E-6)%Sc}function Ia(){var na=[],l;return{point:function(q,K,ja){l.push([q,K,ja])},lineStart:function(){na.push(l=[])},lineEnd:Yb,rejoin:function(){1<
na.length&&na.push(na.pop().concat(na.shift()))},result:function(){var q=na;na=[];l=null;return q}}}function ib(na,l){return 1E-6>fd(na[0]-l[0])&&1E-6>fd(na[1]-l[1])}function bb(na,l,q,K){this.x=na;this.z=l;this.o=q;this.e=K;this.v=!1;this.n=this.p=null}function tb(na,l,q,K,ja){var Ca=[],Qa=[];na.forEach(function(vc){if(!(0>=(zc=vc.length-1))){var zc,yc=vc[0],Rc=vc[zc];if(ib(yc,Rc)){if(!yc[2]&&!Rc[2]){ja.lineStart();for(Ga=0;Ga<zc;++Ga)ja.point((yc=vc[Ga])[0],yc[1]);ja.lineEnd();return}Rc[0]+=2E-6}Ca.push(zc=
new bb(yc,vc,null,!0));Qa.push(zc.o=new bb(yc,null,zc,!1));Ca.push(zc=new bb(Rc,vc,null,!1));Qa.push(zc.o=new bb(Rc,null,zc,!0))}});if(Ca.length){Qa.sort(l);Qb(Ca);Qb(Qa);var Ga=0;for(na=Qa.length;Ga<na;++Ga)Qa[Ga].e=q=!q;q=Ca[0];for(var qb;;){for(var nb=q,wc=!0;nb.v;)if((nb=nb.n)===q)return;l=nb.z;ja.lineStart();do{nb.v=nb.o.v=!0;if(nb.e){if(wc)for(Ga=0,na=l.length;Ga<na;++Ga)ja.point((qb=l[Ga])[0],qb[1]);else K(nb.x,nb.n.x,1,ja);nb=nb.n}else{if(wc)for(l=nb.p.z,Ga=l.length-1;0<=Ga;--Ga)ja.point((qb=
l[Ga])[0],qb[1]);else K(nb.x,nb.p.x,-1,ja);nb=nb.p}nb=nb.o;l=nb.z;wc=!wc}while(!nb.v);ja.lineEnd()}}}function Qb(na){if(l=na.length){for(var l,q=0,K=na[0],ja;++q<l;)K.n=ja=na[q],ja.p=K,K=ja;K.n=ja=na[0];ja.p=K}}function eb(na){return fd(na[0])<=Kb?na[0]:va(na[0])*((fd(na[0])+Kb)%Sc-Kb)}function T(na,l,q,K){return function(ja){function Ca(pc,Hd){na(pc,Hd)&&ja.point(pc,Hd)}function Qa(pc,Hd){zc.point(pc,Hd)}function Ga(){Ud.point=Qa;zc.lineStart()}function qb(){Ud.point=Ca;zc.lineEnd()}function nb(pc,
Hd){Md.push([pc,Hd]);Rc.point(pc,Hd)}function wc(){Rc.lineStart();Md=[]}function vc(){nb(Md[0][0],Md[0][1]);Rc.lineEnd();var pc=Rc.clean(),Hd=yc.result(),Be=Hd.length,Vd;Md.pop();Td.push(Md);Md=null;if(Be)if(pc&1){if(Be=Hd[0],0<(Hd=Be.length-1)){ed||(ja.polygonStart(),ed=!0);ja.lineStart();for(pc=0;pc<Hd;++pc)ja.point((Vd=Be[pc])[0],Vd[1]);ja.lineEnd()}}else 1<Be&&pc&2&&Hd.push(Hd.pop().concat(Hd.shift())),Ad.push(Hd.filter(Z))}var zc=l(ja),yc=Ia(),Rc=l(yc),ed=!1,Td,Ad,Md,Ud={point:Ca,lineStart:Ga,
lineEnd:qb,polygonStart:function(){Ud.point=nb;Ud.lineStart=wc;Ud.lineEnd=vc;Ad=[];Td=[]},polygonEnd:function(){Ud.point=Ca;Ud.lineStart=Ga;Ud.lineEnd=qb;Ad=Array.from(ia(Ad));var pc=Td;var Hd=eb(K),Be=K[1],Vd=J(Be),le=[J(Hd),-rd(Hd),0],Pd=0,Qd=0,Ne=new Fb;1===Vd?Be=Cc+1E-6:-1===Vd&&(Be=-Cc-1E-6);Vd=0;for(var Fe=pc.length;Vd<Fe;++Vd)if(Me=(re=pc[Vd]).length){var re,Me,hd=re[Me-1],ve=eb(hd),gf=hd[1]/2+Ec,lf=J(gf),Dg=rd(gf);for(gf=0;gf<Me;++gf,ve=Mf,lf=Vf,Dg=mf,hd=vf){var vf=re[gf],Mf=eb(vf);mf=vf[1]/
2+Ec;var Vf=J(mf),mf=rd(mf),Se=Mf-ve,Wf=0<=Se?1:-1,og=Wf*Se,Uf=og>Kb;lf*=Vf;Ne.add(Dd(lf*Wf*J(og),Dg*mf+lf*rd(og)));Pd+=Uf?Se+Wf*Sc:Se;Uf^ve>=Hd^Mf>=Hd&&(hd=Za(jc(hd),jc(vf)),sb(hd),ve=Za(le,hd),sb(ve),ve=(Uf^0<=Se?-1:1)*zb(ve[2]),Be>ve||Be===ve&&(hd[0]||hd[1]))&&(Qd+=Uf^0<=Se?1:-1)}}pc=(-1E-6>Pd||1E-6>Pd&&-1E-12>Ne)^Qd&1;Ad.length?(ed||(ja.polygonStart(),ed=!0),tb(Ad,ca,pc,q,ja)):pc&&(ed||(ja.polygonStart(),ed=!0),ja.lineStart(),q(null,null,1,ja),ja.lineEnd());ed&&(ja.polygonEnd(),ed=!1);Ad=Td=null},
sphere:function(){ja.polygonStart();ja.lineStart();q(null,null,1,ja);ja.lineEnd();ja.polygonEnd()}};return Ud}}function Z(na){return 1<na.length}function ca(na,l){return(0>(na=na.x)[0]?na[1]-Cc-1E-6:Cc-na[1])-(0>(l=l.x)[0]?l[1]-Cc-1E-6:Cc-l[1])}function ha(na){function l(qb,nb){return rd(qb)*rd(nb)>ja}function q(qb,nb,wc){var vc=jc(qb),zc=jc(nb),yc=[1,0,0];zc=Za(vc,zc);var Rc=Ba(zc,zc);vc=zc[0];var ed=Rc-vc*vc;if(!ed)return!wc&&qb;Rc=ja*Rc/ed;ed=-ja*vc/ed;vc=Za(yc,zc);yc=ub(yc,Rc);zc=ub(zc,ed);wb(yc,
zc);zc=Ba(yc,vc);Rc=Ba(vc,vc);ed=zc*zc-Rc*(Ba(yc,yc)-1);if(!(0>ed)){var Td=Ka(ed);ed=ub(vc,(-zc-Td)/Rc);wb(ed,yc);ed=Vb(ed);if(!wc)return ed;wc=qb[0];var Ad=nb[0];qb=qb[1];nb=nb[1];if(Ad<wc){var Md=wc;wc=Ad;Ad=Md}var Ud=Ad-wc,pc=1E-6>fd(Ud-Kb);!pc&&nb<qb&&(Md=qb,qb=nb,nb=Md);if(pc||1E-6>Ud?pc?0<qb+nb^ed[1]<(1E-6>fd(ed[0]-wc)?qb:nb):qb<=ed[1]&&ed[1]<=nb:Ud>Kb^(wc<=ed[0]&&ed[0]<=Ad))return nb=ub(vc,(-zc+Td)/Rc),wb(nb,yc),[ed,Vb(nb)]}}function K(qb,nb){var wc=Qa?na:Kb-na,vc=0;qb<-wc?vc|=1:qb>wc&&(vc|=
2);nb<-wc?vc|=4:nb>wc&&(vc|=8);return vc}var ja=rd(na),Ca=6*pd,Qa=0<ja,Ga=1E-6<fd(ja);return T(l,function(qb){var nb,wc,vc,zc,yc;return{lineStart:function(){zc=vc=!1;yc=1},point:function(Rc,ed){var Td=[Rc,ed],Ad=l(Rc,ed);ed=Qa?Ad?0:K(Rc,ed):Ad?K(Rc+(0>Rc?Kb:-Kb),ed):0;!nb&&(zc=vc=Ad)&&qb.lineStart();Ad!==vc&&(Rc=q(nb,Td),!Rc||ib(nb,Rc)||ib(Td,Rc))&&(Td[2]=1);if(Ad!==vc)yc=0,Ad?(qb.lineStart(),Rc=q(Td,nb),qb.point(Rc[0],Rc[1])):(Rc=q(nb,Td),qb.point(Rc[0],Rc[1],2),qb.lineEnd()),nb=Rc;else if(Ga&&nb&&
Qa^Ad){var Md;ed&wc||!(Md=q(Td,nb,!0))||(yc=0,Qa?(qb.lineStart(),qb.point(Md[0][0],Md[0][1]),qb.point(Md[1][0],Md[1][1]),qb.lineEnd()):(qb.point(Md[1][0],Md[1][1]),qb.lineEnd(),qb.lineStart(),qb.point(Md[0][0],Md[0][1],3)))}!Ad||nb&&ib(nb,Td)||qb.point(Td[0],Td[1]);nb=Td;vc=Ad;wc=ed},lineEnd:function(){vc&&qb.lineEnd();nb=null},clean:function(){return yc|(zc&&vc)<<1}}},function(qb,nb,wc,vc){var zc=qb;if(Ca){qb=rd(na);var yc=J(na),Rc=wc*Ca;if(null==zc)zc=na+wc*Sc,nb=na-Rc/2;else if(zc=Xa(qb,zc),nb=
Xa(qb,nb),0<wc?zc<nb:zc>nb)zc+=wc*Sc;for(var ed=zc;0<wc?ed>nb:ed<nb;ed-=Rc)zc=Vb([qb,-yc*rd(ed),-yc*J(ed)]),vc.point(zc[0],zc[1])}},Qa?[0,-na]:[-Kb,na-Kb])}function La(na,l,q,K,ja,Ca){var Qa=na[0],Ga=na[1],qb=0,nb=1,wc=l[0]-Qa,vc=l[1]-Ga;q-=Qa;if(wc||!(0<q)){q/=wc;if(0>wc){if(q<qb)return;q<nb&&(nb=q)}else if(0<wc){if(q>nb)return;q>qb&&(qb=q)}q=ja-Qa;if(wc||!(0>q)){q/=wc;if(0>wc){if(q>nb)return;q>qb&&(qb=q)}else if(0<wc){if(q<qb)return;q<nb&&(nb=q)}q=K-Ga;if(vc||!(0<q)){q/=vc;if(0>vc){if(q<qb)return;
q<nb&&(nb=q)}else if(0<vc){if(q>nb)return;q>qb&&(qb=q)}q=Ca-Ga;if(vc||!(0>q)){q/=vc;if(0>vc){if(q>nb)return;q>qb&&(qb=q)}else if(0<vc){if(q<qb)return;q<nb&&(nb=q)}0<qb&&(na[0]=Qa+qb*wc,na[1]=Ga+qb*vc);1>nb&&(l[0]=Qa+nb*wc,l[1]=Ga+nb*vc);return!0}}}}}function oa(na,l,q,K){function ja(qb,nb,wc,vc){var zc=0,yc=0;if(null==qb||(zc=Ca(qb,wc))!==(yc=Ca(nb,wc))||0>Ga(qb,nb)^0<wc){do vc.point(0===zc||3===zc?na:q,1<zc?K:l);while((zc=(zc+wc+4)%4)!==yc)}else vc.point(nb[0],nb[1])}function Ca(qb,nb){return 1E-6>
fd(qb[0]-na)?0<nb?0:3:1E-6>fd(qb[0]-q)?0<nb?2:1:1E-6>fd(qb[1]-l)?0<nb?1:0:0<nb?3:2}function Qa(qb,nb){return Ga(qb.x,nb.x)}function Ga(qb,nb){var wc=Ca(qb,1),vc=Ca(nb,1);return wc!==vc?wc-vc:0===wc?nb[1]-qb[1]:1===wc?qb[0]-nb[0]:2===wc?qb[1]-nb[1]:nb[0]-qb[0]}return function(qb){function nb(Pd,Qd){na<=Pd&&Pd<=q&&l<=Qd&&Qd<=K&&vc.point(Pd,Qd)}function wc(Pd,Qd){var Ne=na<=Pd&&Pd<=q&&l<=Qd&&Qd<=K;Rc&&ed.push([Pd,Qd]);if(Be)Td=Pd,Ad=Qd,Md=Ne,Be=!1,Ne&&(vc.lineStart(),vc.point(Pd,Qd));else if(Ne&&Hd)vc.point(Pd,
Qd);else{var Fe=[Ud=Math.max(-1E9,Math.min(1E9,Ud)),pc=Math.max(-1E9,Math.min(1E9,pc))],re=[Pd=Math.max(-1E9,Math.min(1E9,Pd)),Qd=Math.max(-1E9,Math.min(1E9,Qd))];La(Fe,re,na,l,q,K)?(Hd||(vc.lineStart(),vc.point(Fe[0],Fe[1])),vc.point(re[0],re[1]),Ne||vc.lineEnd(),Vd=!1):Ne&&(vc.lineStart(),vc.point(Pd,Qd),Vd=!1)}Ud=Pd;pc=Qd;Hd=Ne}var vc=qb,zc=Ia(),yc,Rc,ed,Td,Ad,Md,Ud,pc,Hd,Be,Vd,le={point:nb,lineStart:function(){le.point=wc;Rc&&Rc.push(ed=[]);Be=!0;Hd=!1;Ud=pc=NaN},lineEnd:function(){yc&&(wc(Td,
Ad),Md&&Hd&&zc.rejoin(),yc.push(zc.result()));le.point=nb;Hd&&vc.lineEnd()},polygonStart:function(){vc=zc;yc=[];Rc=[];Vd=!0},polygonEnd:function(){for(var Pd,Qd=Pd=0,Ne=Rc.length;Qd<Ne;++Qd){var Fe=Rc[Qd],re=1,Me=Fe.length,hd=Fe[0],ve=hd[0];for(hd=hd[1];re<Me;++re){var gf=ve;var lf=hd;hd=Fe[re];ve=hd[0];hd=hd[1];lf<=K?hd>K&&(ve-gf)*(K-lf)>(hd-lf)*(na-gf)&&++Pd:hd<=K&&(ve-gf)*(K-lf)<(hd-lf)*(na-gf)&&--Pd}}Qd=Vd&&Pd;Ne=(yc=Array.from(ia(yc))).length;if(Qd||Ne)qb.polygonStart(),Qd&&(qb.lineStart(),ja(null,
null,1,qb),qb.lineEnd()),Ne&&tb(yc,Qa,Pd,ja,qb),qb.polygonEnd();vc=qb;yc=Rc=ed=null}};return le}}function pa(){nd.point=m}function m(na,l){nd.point=D;Xc=qd=na;kd=xd=l}function D(na,l){Ac.add(xd*na-qd*l);qd=na;xd=l}function L(){D(Xc,kd)}function w(na,l){tf+=na;bf+=l;++E}function P(){Nd.point=A}function A(na,l){Nd.point=V;w($c=na,Nc=l)}function V(na,l){var q=na-$c,K=l-Nc;q=Ka(q*q+K*K);aa+=q*($c+na)/2;Fa+=q*(Nc+l)/2;fb+=q;w($c=na,Nc=l)}function G(){Nd.point=w}function x(){Nd.point=F}function z(){U(Oc,
od)}function F(na,l){Nd.point=U;w(Oc=$c=na,od=Nc=l)}function U(na,l){var q=na-$c,K=l-Nc;q=Ka(q*q+K*K);aa+=q*($c+na)/2;Fa+=q*(Nc+l)/2;fb+=q;q=Nc*na-$c*l;Gb+=q*($c+na);qc+=q*(Nc+l);Ib+=3*q;w($c=na,Nc=l)}function sa(na){this._context=na}function N(na,l){cc.point=la;Jd=Aa=na;$d=Oa=l}function la(na,l){Aa-=na;Oa-=l;ce.add(Ka(Aa*Aa+Oa*Oa));Aa=na;Oa=l}function wa(na){let l=1;this._+=na[0];for(const q=na.length;l<q;++l)this._+=arguments[l]+na[l]}function Ma(na){const l=Math.floor(na);if(!(0<=l))throw new RangeError(`invalid digits: ${na}`);
if(15<l)return wa;if(l!==gd){const q=Math.pow(10,l);gd=l;rc=function(K){let ja=1;this._+=K[0];for(const Ca=K.length;ja<Ca;++ja)this._+=Math.round(arguments[ja]*q)/q+K[ja]}}return rc}function Pa(na,l){function q(Ga){Ga&&("function"===typeof ja&&Qa.pointRadius(+ja.apply(this,arguments)),Cb(Ga,Ca(Qa)));return Qa.result()}let K=3,ja=4.5,Ca,Qa;q.area=function(Ga){Cb(Ga,Ca(nd));return nd.result()};q.measure=function(Ga){Cb(Ga,Ca(cc));return cc.result()};q.bounds=function(Ga){Cb(Ga,Ca(Je));return Je.result()};
q.centroid=function(Ga){Cb(Ga,Ca(Nd));return Nd.result()};q.projection=function(Ga){if(!arguments.length)return na;Ca=null==Ga?(na=null,nc):(na=Ga).stream;return q};q.context=function(Ga){if(!arguments.length)return l;Qa=null==Ga?(l=null,new Tc(K)):new sa(l=Ga);"function"!==typeof ja&&Qa.pointRadius(ja);return q};q.pointRadius=function(Ga){if(!arguments.length)return ja;ja="function"===typeof Ga?Ga:(Qa.pointRadius(+Ga),+Ga);return q};q.digits=function(Ga){if(!arguments.length)return K;if(null==Ga)K=
null;else{const qb=Math.floor(Ga);if(!(0<=qb))throw new RangeError(`invalid digits: ${Ga}`);K=qb}null===l&&(Qa=new Tc(K));return q};return q.projection(na).digits(K).context(l)}function Ya(na){return function(l){var q=new vb,K;for(K in na)q[K]=na[K];q.stream=l;return q}}function vb(){}function jb(na,l,q){var K=na.clipExtent&&na.clipExtent();na.scale(150).translate([0,0]);null!=K&&na.clipExtent(null);Cb(q,na.stream(Je));l(Je.result());null!=K&&na.clipExtent(K);return na}function Ub(na,l,q){return jb(na,
function(K){var ja=l[1][0]-l[0][0],Ca=l[1][1]-l[0][1],Qa=Math.min(ja/(K[1][0]-K[0][0]),Ca/(K[1][1]-K[0][1]));ja=+l[0][0]+(ja-Qa*(K[1][0]+K[0][0]))/2;K=+l[0][1]+(Ca-Qa*(K[1][1]+K[0][1]))/2;na.scale(150*Qa).translate([ja,K])},q)}function W(na,l,q){return jb(na,function(K){var ja=+l,Ca=ja/(K[1][0]-K[0][0]);ja=(ja-Ca*(K[1][0]+K[0][0]))/2;K=-Ca*K[0][1];na.scale(150*Ca).translate([ja,K])},q)}function Ea(na,l,q){return jb(na,function(K){var ja=+l,Ca=ja/(K[1][1]-K[0][1]),Qa=-Ca*K[0][0];K=(ja-Ca*(K[1][1]+
K[0][1]))/2;na.scale(150*Ca).translate([Qa,K])},q)}function Mb(na){return Ya({point:function(l,q){l=na(l,q);this.stream.point(l[0],l[1])}})}function oc(na,l){function q(K,ja,Ca,Qa,Ga,qb,nb,wc,vc,zc,yc,Rc,ed,Td){var Ad=nb-K,Md=wc-ja,Ud=Ad*Ad+Md*Md;if(Ud>4*l&&ed--){var pc=Qa+zc,Hd=Ga+yc,Be=qb+Rc,Vd=Ka(pc*pc+Hd*Hd+Be*Be),le=zb(Be/=Vd),Pd=1E-6>fd(fd(Be)-1)||1E-6>fd(Ca-vc)?(Ca+vc)/2:Dd(Hd,pc),Qd=na(Pd,le);le=Qd[0];Qd=Qd[1];var Ne=le-K,Fe=Qd-ja,re=Md*Ne-Ad*Fe;if(re*re/Ud>l||.3<fd((Ad*Ne+Md*Fe)/Ud-.5)||
Qa*zc+Ga*yc+qb*Rc<Yc)q(K,ja,Ca,Qa,Ga,qb,le,Qd,Pd,pc/=Vd,Hd/=Vd,Be,ed,Td),Td.point(le,Qd),q(le,Qd,Pd,pc,Hd,Be,nb,wc,vc,zc,yc,Rc,ed,Td)}}return function(K){function ja(le,Pd){le=na(le,Pd);K.point(le[0],le[1])}function Ca(){Md=NaN;Vd.point=Qa;K.lineStart()}function Qa(le,Pd){var Qd=jc([le,Pd]);Pd=na(le,Pd);q(Md,Ud,Ad,pc,Hd,Be,Md=Pd[0],Ud=Pd[1],Ad=le,pc=Qd[0],Hd=Qd[1],Be=Qd[2],16,K);K.point(Md,Ud)}function Ga(){Vd.point=ja;K.lineEnd()}function qb(){Ca();Vd.point=nb;Vd.lineEnd=wc}function nb(le,Pd){Qa(vc=
le,Pd);zc=Md;yc=Ud;Rc=pc;ed=Hd;Td=Be;Vd.point=Qa}function wc(){q(Md,Ud,Ad,pc,Hd,Be,zc,yc,vc,Rc,ed,Td,16,K);Vd.lineEnd=Ga;Ga()}var vc,zc,yc,Rc,ed,Td,Ad,Md,Ud,pc,Hd,Be,Vd={point:ja,lineStart:Ca,lineEnd:Ga,polygonStart:function(){K.polygonStart();Vd.lineStart=qb},polygonEnd:function(){K.polygonEnd();Vd.lineStart=Ca}};return Vd}}function $b(na){return Ya({point:function(l,q){l=na(l,q);return this.stream.point(l[0],l[1])}})}function Nb(na,l,q,K,ja){function Ca(Qa,Ga){Qa*=K;Ga*=ja;return[l+na*Qa,q-na*Ga]}
Ca.invert=function(Qa,Ga){return[(Qa-l)/na*K,(q-Ga)/na*ja]};return Ca}function Rb(na,l,q,K,ja,Ca){function Qa(Rc,ed){Rc*=K;ed*=ja;return[qb*Rc-nb*ed+l,q-nb*Rc-qb*ed]}if(!Ca)return Nb(na,l,q,K,ja);var Ga=rd(Ca);Ca=J(Ca);var qb=Ga*na,nb=Ca*na,wc=Ga/na,vc=Ca/na,zc=(Ca*q-Ga*l)/na,yc=(Ca*l+Ga*q)/na;Qa.invert=function(Rc,ed){return[K*(wc*Rc-vc*ed+zc),ja*(yc-vc*Rc-wc*ed)]};return Qa}function xc(na){return dd(function(){return na})()}function dd(na){function l(hd){return Fe(hd[0]*pd,hd[1]*pd)}function q(hd){return(hd=
Fe.invert(hd[0],hd[1]))&&[hd[0]*vd,hd[1]*vd]}function K(){var hd=Rb(Qa,0,0,Td,Ad,ed).apply(null,Ca(nb,wc));hd=Rb(Qa,Ga-hd[0],qb-hd[1],Td,Ad,ed);Rc=ec(vc,zc,yc);Ne=xb(Ca,hd);Fe=xb(Rc,Ne);hd=Ne;Qd=+Pd?oc(hd,Pd):Mb(hd);return ja()}function ja(){re=Me=null;return l}var Ca,Qa=150,Ga=480,qb=250,nb=0,wc=0,vc=0,zc=0,yc=0,Rc,ed=0,Td=1,Ad=1,Md=null,Ud=Tb,pc=null,Hd,Be,Vd,le=nc,Pd=.5,Qd,Ne,Fe,re,Me;l.stream=function(hd){return re&&Me===hd?re:re=id($b(Rc)(Ud(Qd(le(Me=hd)))))};l.preclip=function(hd){return arguments.length?
(Ud=hd,Md=void 0,ja()):Ud};l.postclip=function(hd){return arguments.length?(le=hd,pc=Hd=Be=Vd=null,ja()):le};l.clipAngle=function(hd){return arguments.length?(Ud=+hd?ha(Md=hd*pd):(Md=null,Tb),ja()):Md*vd};l.clipExtent=function(hd){return arguments.length?(le=null==hd?(pc=Hd=Be=Vd=null,nc):oa(pc=+hd[0][0],Hd=+hd[0][1],Be=+hd[1][0],Vd=+hd[1][1]),ja()):null==pc?null:[[pc,Hd],[Be,Vd]]};l.scale=function(hd){return arguments.length?(Qa=+hd,K()):Qa};l.translate=function(hd){return arguments.length?(Ga=+hd[0],
qb=+hd[1],K()):[Ga,qb]};l.center=function(hd){return arguments.length?(nb=hd[0]%360*pd,wc=hd[1]%360*pd,K()):[nb*vd,wc*vd]};l.rotate=function(hd){return arguments.length?(vc=hd[0]%360*pd,zc=hd[1]%360*pd,yc=2<hd.length?hd[2]%360*pd:0,K()):[vc*vd,zc*vd,yc*vd]};l.angle=function(hd){return arguments.length?(ed=hd%360*pd,K()):ed*vd};l.reflectX=function(hd){return arguments.length?(Td=hd?-1:1,K()):0>Td};l.reflectY=function(hd){return arguments.length?(Ad=hd?-1:1,K()):0>Ad};l.precision=function(hd){if(arguments.length){var ve=
Ne;var gf=Pd=hd*hd;ve=(Qd=+gf?oc(ve,gf):Mb(ve),ja())}else ve=Ka(Pd);return ve};l.fitExtent=function(hd,ve){return Ub(l,hd,ve)};l.fitSize=function(hd,ve){return Ub(l,[[0,0],hd],ve)};l.fitWidth=function(hd,ve){return W(l,hd,ve)};l.fitHeight=function(hd,ve){return Ea(l,hd,ve)};return function(){Ca=na.apply(this,arguments);l.invert=Ca.invert&&q;return K()}}function qa(na){var l=0,q=Kb/3,K=dd(na);na=K(l,q);na.parallels=function(ja){return arguments.length?K(l=ja[0]*pd,q=ja[1]*pd):[l*vd,q*vd]};return na}
function Db(na){function l(K,ja){return[K*q,J(ja)/q]}var q=rd(na);l.invert=function(K,ja){return[K/q,zb(ja*q)]};return l}function Ua(na,l){function q(Ga,qb){qb=Ka(Ca-2*ja*J(qb))/ja;return[qb*J(Ga*=ja),Qa-qb*rd(Ga)]}var K=J(na),ja=(K+J(l))/2;if(1E-6>fd(ja))return Db(na);var Ca=1+K*(2*ja-K),Qa=Ka(Ca)/ja;q.invert=function(Ga,qb){qb=Qa-qb;var nb=Dd(Ga,fd(qb))*va(qb);0>qb*ja&&(nb-=Kb*va(Ga)*va(qb));return[nb/ja,zb((Ca-(Ga*Ga+qb*qb)*ja*ja)/(2*ja))]};return q}function yb(){return qa(Ua).scale(155.424).center([0,
33.6442])}function Hb(){return yb().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Ob(na){var l=na.length;return{point:function(q,K){for(var ja=-1;++ja<l;)na[ja].point(q,K)},sphere:function(){for(var q=-1;++q<l;)na[q].sphere()},lineStart:function(){for(var q=-1;++q<l;)na[q].lineStart()},lineEnd:function(){for(var q=-1;++q<l;)na[q].lineEnd()},polygonStart:function(){for(var q=-1;++q<l;)na[q].polygonStart()},polygonEnd:function(){for(var q=-1;++q<
l;)na[q].polygonEnd()}}}function Zb(na){return function(l,q){var K=rd(l),ja=rd(q);K=na(K*ja);return Infinity===K?[2,0]:[K*ja*J(l),K*J(q)]}}function ic(na){return function(l,q){var K=Ka(l*l+q*q),ja=na(K),Ca=J(ja);ja=rd(ja);return[Dd(l*Ca,K*ja),zb(K&&q*Ca/K)]}}function Bc(na,l){return[na,Bd(lb((Cc+l)/2))]}function jd(na){function l(){var vc=Kb*ja(),zc=q(Ra(q.rotate()).invert([0,0]));return Qa(null==Ga?[[zc[0]-vc,zc[1]-vc],[zc[0]+vc,zc[1]+vc]]:na===Bc?[[Math.max(zc[0]-vc,Ga),qb],[Math.min(zc[0]+vc,nb),
wc]]:[[Ga,Math.max(zc[1]-vc,qb)],[nb,Math.min(zc[1]+vc,wc)]])}var q=xc(na),K=q.center,ja=q.scale,Ca=q.translate,Qa=q.clipExtent,Ga=null,qb,nb,wc;q.scale=function(vc){return arguments.length?(ja(vc),l()):ja()};q.translate=function(vc){return arguments.length?(Ca(vc),l()):Ca()};q.center=function(vc){return arguments.length?(K(vc),l()):K()};q.clipExtent=function(vc){return arguments.length?(null==vc?Ga=qb=nb=wc=null:(Ga=+vc[0][0],qb=+vc[0][1],nb=+vc[1][0],wc=+vc[1][1]),l()):null==Ga?null:[[Ga,qb],[nb,
wc]]};return l()}function Vc(na,l){function q(Qa,Ga){0<Ca?Ga<-Cc+1E-6&&(Ga=-Cc+1E-6):Ga>Cc-1E-6&&(Ga=Cc-1E-6);Ga=Ca/y(lb((Cc+Ga)/2),ja);return[Ga*J(ja*Qa),Ca-Ga*rd(ja*Qa)]}var K=rd(na),ja=na===l?J(na):Bd(K/rd(l))/Bd(lb((Cc+l)/2)/lb((Cc+na)/2)),Ca=K*y(lb((Cc+na)/2),ja)/ja;if(!ja)return Bc;q.invert=function(Qa,Ga){Ga=Ca-Ga;var qb=va(ja)*Ka(Qa*Qa+Ga*Ga),nb=Dd(Qa,fd(Ga))*va(Ga);0>Ga*ja&&(nb-=Kb*va(Qa)*va(Ga));return[nb/ja,2*Cd(y(Ca/qb,1/ja))-Cc]};return q}function ma(na,l){return[na,l]}function Ha(na,
l){function q(Qa,Ga){Ga=Ca-Ga;Qa*=ja;return[Ga*J(Qa),Ca-Ga*rd(Qa)]}var K=rd(na),ja=na===l?J(na):(K-rd(l))/(l-na),Ca=K/ja+na;if(1E-6>fd(ja))return ma;q.invert=function(Qa,Ga){Ga=Ca-Ga;var qb=Dd(Qa,fd(Ga))*va(Ga);0>Ga*ja&&(qb-=Kb*va(Qa)*va(Ga));return[qb/ja,Ca-va(ja)*Ka(Qa*Qa+Ga*Ga)]};return q}function gb(na,l){l=zb(Re*J(l));var q=l*l,K=q*q*q;return[na*rd(l)/(Re*(1.340264+3*-.081106*q+K*(7*8.93E-4+.034164*q))),l*(1.340264+-.081106*q+K*(8.93E-4+.003796*q))]}function Q(na,l){var q=rd(l),K=rd(na)*q;return[q*
J(na)/K,J(l)/K]}function t(na,l){var q=l*l,K=q*q;return[na*(.8707-.131979*q+K*(-.013791+K*(.003971*q-.001529*K))),l*(1.007226+q*(.015085+K*(-.044475+.028874*q-.005916*K)))]}function ba(na,l){return[rd(l)*J(na),J(l)]}function xa(na,l){var q=rd(l),K=1+rd(na)*q;return[q*J(na)/K,J(l)/K]}function Da(na,l){return[Bd(lb((Cc+l)/2)),-na]}function Sa(na){return 1<na?Ke:-1>na?-Ke:Math.asin(na)}function kb(na,l){return function K(){const ja=l();ja.type=na;ja.path=Pa().projection(ja);ja.copy=ja.copy||function(){const Ca=
K();oe.forEach(Qa=>{if(ja[Qa])Ca[Qa](ja[Qa]())});Ca.path.pointRadius(ja.path.pointRadius());return Ca};return h.registerScale(ja)}}function Sb(na,l){if(!na||"string"!==typeof na)throw Error("Projection type must be a name string.");na=na.toLowerCase();return 1<arguments.length?(Ae[na]=kb(na,l),this):Ae[na]||null}class Fb{constructor(){this._partials=new Float64Array(32);this._n=0}add(na){const l=this._partials;let q=0;for(let K=0;K<this._n&&32>K;K++){const ja=l[K],Ca=na+ja;(na=Math.abs(na)<Math.abs(ja)?
na-(Ca-ja):ja-(Ca-na))&&(l[q++]=na);na=Ca}l[q]=na;this._n=q+1;return this}valueOf(){const na=this._partials;let l=this._n;let q,K=0;if(0<l){for(K=na[--l];0<l;){var ja=K;q=na[--l];K=ja+q;if(ja=q-(K-ja))break}0<l&&(0>ja&&0>na[l-1]||0<ja&&0<na[l-1])&&(q=2*ja,ja=K+q,q==ja-K&&(K=ja))}return K}}var Kb=Math.PI,Cc=Kb/2,Ec=Kb/4,Sc=2*Kb,vd=180/Kb,pd=Kb/180,fd=Math.abs,Cd=Math.atan,Dd=Math.atan2,rd=Math.cos,we=Math.exp,Bd=Math.log,y=Math.pow,J=Math.sin,va=Math.sign||function(na){return 0<na?1:0>na?-1:0},Ka=
Math.sqrt,lb=Math.tan,Bb={Feature:function(na,l){ac(na.geometry,l)},FeatureCollection:function(na,l){na=na.features;for(var q=-1,K=na.length;++q<K;)ac(na[q].geometry,l)}},bc={Sphere:function(na,l){l.sphere()},Point:function(na,l){na=na.coordinates;l.point(na[0],na[1],na[2])},MultiPoint:function(na,l){for(var q=na.coordinates,K=-1,ja=q.length;++K<ja;)na=q[K],l.point(na[0],na[1],na[2])},LineString:function(na,l){Xb(na.coordinates,l,0)},MultiLineString:function(na,l){na=na.coordinates;for(var q=-1,K=
na.length;++q<K;)Xb(na[q],l,0)},Polygon:function(na,l){mc(na.coordinates,l)},MultiPolygon:function(na,l){na=na.coordinates;for(var q=-1,K=na.length;++q<K;)mc(na[q],l)},GeometryCollection:function(na,l){na=na.geometries;for(var q=-1,K=na.length;++q<K;)ac(na[q],l)}};hb.invert=hb;var Tb=T(function(){return!0},function(na){var l=NaN,q=NaN,K=NaN,ja;return{lineStart:function(){na.lineStart();ja=1},point:function(Ca,Qa){var Ga=0<Ca?Kb:-Kb,qb=fd(Ca-l);if(1E-6>fd(qb-Kb))na.point(l,q=0<(q+Qa)/2?Cc:-Cc),na.point(K,
q),na.lineEnd(),na.lineStart(),na.point(Ga,q),na.point(Ca,q),ja=0;else if(K!==Ga&&qb>=Kb){1E-6>fd(l-K)&&(l-=1E-6*K);1E-6>fd(Ca-Ga)&&(Ca-=1E-6*Ga);qb=l;var nb=q,wc=Ca,vc,zc,yc=J(qb-wc);q=1E-6<fd(yc)?Cd((J(nb)*(zc=rd(Qa))*J(wc)-J(Qa)*(vc=rd(nb))*J(qb))/(vc*zc*yc)):(nb+Qa)/2;na.point(K,q);na.lineEnd();na.lineStart();na.point(Ga,q);ja=0}na.point(l=Ca,q=Qa);K=Ga},lineEnd:function(){na.lineEnd();l=q=NaN},clean:function(){return 2-ja}}},function(na,l,q,K){null==na?(q*=Cc,K.point(-Kb,q),K.point(0,q),K.point(Kb,
q),K.point(Kb,0),K.point(Kb,-q),K.point(0,-q),K.point(-Kb,-q),K.point(-Kb,0),K.point(-Kb,q)):1E-6<fd(na[0]-l[0])?(na=na[0]<l[0]?Kb:-Kb,q=q*na/2,K.point(-na,q),K.point(0,q),K.point(na,q)):K.point(l[0],l[1])},[-Kb,-Cc]),nc=na=>na,Jc=new Fb,Ac=new Fb,Xc,kd,qd,xd,nd={point:Yb,lineStart:Yb,lineEnd:Yb,polygonStart:function(){nd.lineStart=pa;nd.lineEnd=L},polygonEnd:function(){nd.lineStart=nd.lineEnd=nd.point=Yb;Jc.add(fd(Ac));Ac=new Fb},result:function(){var na=Jc/2;Jc=new Fb;return na}},Id=Infinity,me=
Id,Oe=-Id,Ie=Oe,Je={point:function(na,l){na<Id&&(Id=na);na>Oe&&(Oe=na);l<me&&(me=l);l>Ie&&(Ie=l)},lineStart:Yb,lineEnd:Yb,polygonStart:Yb,polygonEnd:Yb,result:function(){var na=[[Id,me],[Oe,Ie]];Oe=Ie=-(me=Id=Infinity);return na}},tf=0,bf=0,E=0,aa=0,Fa=0,fb=0,Gb=0,qc=0,Ib=0,Oc,od,$c,Nc,Nd={point:w,lineStart:P,lineEnd:G,polygonStart:function(){Nd.lineStart=x;Nd.lineEnd=z},polygonEnd:function(){Nd.point=w;Nd.lineStart=P;Nd.lineEnd=G},result:function(){var na=Ib?[Gb/Ib,qc/Ib]:fb?[aa/fb,Fa/fb]:E?[tf/
E,bf/E]:[NaN,NaN];tf=bf=E=aa=Fa=fb=Gb=qc=Ib=0;return na}};sa.prototype={_radius:4.5,pointRadius:function(na){return this._radius=na,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(na,l){switch(this._point){case 0:this._context.moveTo(na,l);this._point=1;break;case 1:this._context.lineTo(na,l);break;default:this._context.moveTo(na+this._radius,
l),this._context.arc(na,l,this._radius,0,Sc)}},result:Yb};var ce=new Fb,Kd,Jd,$d,Aa,Oa,cc={point:Yb,lineStart:function(){cc.point=N},lineEnd:function(){Kd&&la(Jd,$d);cc.point=Yb},polygonStart:function(){Kd=!0},polygonEnd:function(){Kd=null},result:function(){var na=+ce;ce=new Fb;return na}};let gd,rc,Pc,Hc;class Tc{constructor(na){this._append=null==na?wa:Ma(na);this._radius=4.5;this._=""}pointRadius(na){this._radius=+na;return this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=
0}lineEnd(){0===this._line&&(this._+="Z");this._point=NaN}point(na,l){switch(this._point){case 0:this._append`M${na},${l}`;this._point=1;break;case 1:this._append`L${na},${l}`;break;default:this._append`M${na},${l}`;if(this._radius!==Pc||this._append!==rc)na=this._radius,l=this._,this._="",this._append`m0,${na}a${na},${na} 0 1,1 0,${-2*na}a${na},${na} 0 1,1 0,${2*na}z`,Pc=na,rc=this._append,Hc=this._,this._=l;this._+=Hc}}result(){const na=this._;this._="";return na.length?na:null}}vb.prototype={constructor:vb,
point:function(na,l){this.stream.point(na,l)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Yc=rd(30*pd),id=Ya({point:function(na,l){this.stream.point(na*pd,l*pd)}}),ld=Zb(function(na){return Ka(2/(1+na))});ld.invert=ic(function(na){return 2*zb(na/2)});var fe=Zb(function(na){return(na=ab(na))&&na/J(na)});fe.invert=
ic(function(na){return na});Bc.invert=function(na,l){return[na,2*Cd(we(l))-Cc]};ma.invert=ma;var Re=Ka(3)/2;gb.invert=function(na,l){for(var q=l,K=q*q,ja=K*K*K,Ca=0,Qa;12>Ca&&!(Qa=q*(1.340264+-.081106*K+ja*(8.93E-4+.003796*K))-l,K=1.340264+3*-.081106*K+ja*(7*8.93E-4+.034164*K),q-=Qa/=K,K=q*q,ja=K*K*K,1E-12>fd(Qa));++Ca);return[Re*na*(1.340264+3*-.081106*K+ja*(7*8.93E-4+.034164*K))/rd(q),zb(J(q)/Re)]};Q.invert=ic(Cd);t.invert=function(na,l){var q=l,K=25;do{var ja=q*q;var Ca=ja*ja;q-=Ca=(q*(1.007226+
ja*(.015085+Ca*(-.044475+.028874*ja-.005916*Ca)))-l)/(1.007226+ja*(.045255+Ca*(-.311325+.259866*ja-.005916*11*Ca)))}while(1E-6<fd(Ca)&&0<--K);return[na/(.8707+(ja=q*q)*(-.131979+ja*(-.013791+ja*ja*ja*(.003971-.001529*ja)))),q]};ba.invert=ic(zb);xa.invert=ic(function(na){return 2*Cd(na)});Da.invert=function(na,l){return[-l,2*Cd(we(na))-Cc]};var Ee=Math.abs,ne=Math.cos,ef=Math.sin,kf=Math.PI,Ke=kf/2,Ye=Math.sqrt(2),Ze=function(na,l,q){function K(ja,Ca){var Qa=Ca,Ga=q*ef(Qa),qb=30,nb;do Qa-=nb=(Qa+ef(Qa)-
Ga)/(1+ne(Qa));while(1E-6<Ee(nb)&&0<--qb);return[na*ja*ne(Ca=Qa/2),l*ef(Ca)]}K.invert=function(ja,Ca){return Ca=Sa(Ca/l),[ja/(na*ne(Ca)),Sa((2*Ca+ef(2*Ca))/q)]};return K}(Ye/Ke,Ye,kf);const ue=Pa(),oe="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),Ae={albers:Hb,albersusa:function(){function na(zc){var yc=zc[0];zc=zc[1];return wc=null,(Ca.point(yc,zc),wc)||(Ga.point(yc,zc),
wc)||(nb.point(yc,zc),wc)}function l(){q=K=null;return na}var q,K,ja=Hb(),Ca,Qa=yb().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Ga,qb=yb().rotate([157,0]).center([-3,19.9]).parallels([8,18]),nb,wc,vc={point:function(zc,yc){wc=[zc,yc]}};na.invert=function(zc){var yc=ja.scale(),Rc=ja.translate(),ed=(zc[0]-Rc[0])/yc;yc=(zc[1]-Rc[1])/yc;return(.12<=yc&&.234>yc&&-.425<=ed&&-.214>ed?Qa:.166<=yc&&.234>yc&&-.214<=ed&&-.115>ed?qb:ja).invert(zc)};na.stream=function(zc){return q&&K===zc?q:q=Ob([ja.stream(K=
zc),Qa.stream(zc),qb.stream(zc)])};na.precision=function(zc){if(!arguments.length)return ja.precision();ja.precision(zc);Qa.precision(zc);qb.precision(zc);return l()};na.scale=function(zc){if(!arguments.length)return ja.scale();ja.scale(zc);Qa.scale(.35*zc);qb.scale(zc);return na.translate(ja.translate())};na.translate=function(zc){if(!arguments.length)return ja.translate();var yc=ja.scale(),Rc=+zc[0],ed=+zc[1];Ca=ja.translate(zc).clipExtent([[Rc-.455*yc,ed-.238*yc],[Rc+.455*yc,ed+.238*yc]]).stream(vc);
Ga=Qa.translate([Rc-.307*yc,ed+.201*yc]).clipExtent([[Rc-.425*yc+1E-6,ed+.12*yc+1E-6],[Rc-.214*yc-1E-6,ed+.234*yc-1E-6]]).stream(vc);nb=qb.translate([Rc-.205*yc,ed+.212*yc]).clipExtent([[Rc-.214*yc+1E-6,ed+.166*yc+1E-6],[Rc-.115*yc-1E-6,ed+.234*yc-1E-6]]).stream(vc);return l()};na.fitExtent=function(zc,yc){return Ub(na,zc,yc)};na.fitSize=function(zc,yc){return Ub(na,[[0,0],zc],yc)};na.fitWidth=function(zc,yc){return W(na,zc,yc)};na.fitHeight=function(zc,yc){return Ea(na,zc,yc)};return na.scale(1070)},
azimuthalequalarea:function(){return xc(ld).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return xc(fe).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return qa(Vc).scale(109.5).parallels([30,30])},conicequalarea:yb,conicequidistant:function(){return qa(Ha).scale(131.154).center([0,13.9389])},equalEarth:function(){return xc(gb).scale(177.158)},equirectangular:function(){return xc(ma).scale(152.63)},gnomonic:function(){return xc(Q).scale(144.049).clipAngle(60)},identity:function(){function na(){Rc=
q*Ca;ed=q*Qa;Md=Ud=null;return l}function l(pc){var Hd=pc[0]*Rc;pc=pc[1]*ed;if(Ga){var Be=pc*qb-Hd*nb;Hd=Hd*qb+pc*nb;pc=Be}return[Hd+K,pc+ja]}var q=1,K=0,ja=0,Ca=1,Qa=1,Ga=0,qb,nb,wc=null,vc,zc,yc,Rc=1,ed=1,Td=Ya({point:function(pc,Hd){pc=l([pc,Hd]);this.stream.point(pc[0],pc[1])}}),Ad=nc,Md,Ud;l.invert=function(pc){var Hd=pc[0]-K;pc=pc[1]-ja;if(Ga){var Be=pc*qb+Hd*nb;Hd=Hd*qb-pc*nb;pc=Be}return[Hd/Rc,pc/ed]};l.stream=function(pc){return Md&&Ud===pc?Md:Md=Td(Ad(Ud=pc))};l.postclip=function(pc){return arguments.length?
(Ad=pc,wc=vc=zc=yc=null,na()):Ad};l.clipExtent=function(pc){return arguments.length?(Ad=null==pc?(wc=vc=zc=yc=null,nc):oa(wc=+pc[0][0],vc=+pc[0][1],zc=+pc[1][0],yc=+pc[1][1]),na()):null==wc?null:[[wc,vc],[zc,yc]]};l.scale=function(pc){return arguments.length?(q=+pc,na()):q};l.translate=function(pc){return arguments.length?(K=+pc[0],ja=+pc[1],na()):[K,ja]};l.angle=function(pc){return arguments.length?(Ga=pc%360*pd,nb=J(Ga),qb=rd(Ga),na()):Ga*vd};l.reflectX=function(pc){return arguments.length?(Ca=
pc?-1:1,na()):0>Ca};l.reflectY=function(pc){return arguments.length?(Qa=pc?-1:1,na()):0>Qa};l.fitExtent=function(pc,Hd){return Ub(l,pc,Hd)};l.fitSize=function(pc,Hd){return Ub(l,[[0,0],pc],Hd)};l.fitWidth=function(pc,Hd){return W(l,pc,Hd)};l.fitHeight=function(pc,Hd){return Ea(l,pc,Hd)};return l},mercator:function(){return jd(Bc).scale(961/Sc)},mollweide:function(){return xc(Ze).scale(169.529)},naturalEarth1:function(){return xc(t).scale(175.295)},orthographic:function(){return xc(ba).scale(249.5).clipAngle(90.000001)},
stereographic:function(){return xc(xa).scale(250).clipAngle(142)},transversemercator:function(){var na=jd(Da),l=na.center,q=na.rotate;na.center=function(K){return arguments.length?l([-K[1],K[0]]):(K=l(),[K[1],-K[0]])};na.rotate=function(K){return arguments.length?q([K[0],K[1],2<K.length?K[2]+90:90]):(K=q(),[K[0],K[1],K[2]-90])};return q([0,0,90]).scale(159.155)}};for(const na in Ae)Sb(na,Ae[na]);u.getProjectionPath=function(na){return na&&na.path||ue};u.projection=Sb;u.projectionProperties=oe})};
shadow$provide[38]=function(Eb,ob,Dc,Wa){(function(u,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,ob(29),ob(21),ob(30),ob(37),ob(32)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util vega-statistics vega-projection vega-canvas".split(" "),h):(u="undefined"!==typeof globalThis?globalThis:u||self,h((u.vega=u.vega||{},u.vega.transforms={}),u.vega,u.vega,u.vega,u.vega,u.vega))})(this,function(u,h,ia,ab,zb,Yb){function ac(t,ba,xa){var Da=(ba-t)/Math.max(0,xa),Sa=
Math.floor(Math.log10(Da));Da/=Math.pow(10,Sa);Da=Da>=dd?10:Da>=qa?5:Da>=Db?2:1;let kb;0>Sa?(kb=Math.pow(10,-Sa)/Da,Sa=Math.round(t*kb),Da=Math.round(ba*kb),Sa/kb<t&&++Sa,Da/kb>ba&&--Da,kb=-kb):(kb=Math.pow(10,Sa)*Da,Sa=Math.round(t/kb),Da=Math.round(ba/kb),Sa*kb<t&&++Sa,Da*kb>ba&&--Da);return Da<Sa&&.5<=xa&&2>xa?ac(t,ba,2*xa):[Sa,Da,kb]}function Xb(t,ba,xa){return ac(+t,+ba,+xa)[2]}function mc(t,ba){let xa;for(const Da of t)null!=Da&&(xa<Da||void 0===xa&&Da>=Da)&&(xa=Da);return xa}function Cb(t,
ba,xa){t=+t;ba=+ba;xa=2>(Sa=arguments.length)?(ba=t,t=0,1):3>Sa?1:+xa;for(var Da=-1,Sa=Math.max(0,Math.ceil((ba-t)/xa))|0,kb=Array(Sa);++Da<Sa;)kb[Da]=t+Da*xa;return kb}function Vb(t,ba){ba=0;for(let xa of t)if(xa=+xa)ba+=xa;return ba}function jc(){}function Ba(){function t(Fb,Kb){return Kb.map(Cc=>ba(Fb,Cc))}function ba(Fb,Kb){var Cc=[],Ec=[];xa(Fb,Kb,Sc=>{Sb(Sc,Fb,Kb);for(var vd=0,pd=Sc.length,fd=Sc[pd-1][1]*Sc[0][0]-Sc[pd-1][0]*Sc[0][1];++vd<pd;)fd+=Sc[vd-1][1]*Sc[vd][0]-Sc[vd-1][0]*Sc[vd][1];
0<fd?Cc.push([Sc]):Ec.push(Sc)});Ec.forEach(Sc=>{for(var vd=0,pd=Cc.length,fd;vd<pd;++vd){a:{var Cd=(fd=Cc[vd])[0];for(var Dd=Sc,rd=-1,we=Dd.length;++rd<we;){b:{var Bd=Cd;for(var y=Dd[rd],J=y[0],va=y[1],Ka=-1,lb=0,Bb=Bd.length,bc=Bb-1;lb<Bb;bc=lb++){var Tb=Bd[lb],nc=Tb[0],Jc=Tb[1],Ac=Bd[bc];bc=Ac[0];var Xc=Ac[1],kd,qd=Tb;Tb=Ac;Ac=y;if(kd=(Tb[0]-qd[0])*(Ac[1]-qd[1])===(Ac[0]-qd[0])*(Tb[1]-qd[1]))qd=qd[kd=+(qd[0]===Tb[0])],Ac=Ac[kd],Tb=Tb[kd],kd=qd<=Ac&&Ac<=Tb||Tb<=Ac&&Ac<=qd;if(kd){Bd=0;break b}Jc>
va!==Xc>va&&J<(bc-nc)*(va-Jc)/(Xc-Jc)+nc&&(Ka=-Ka)}Bd=Ka}if(Bd){Cd=Bd;break a}}Cd=0}if(-1!==Cd){fd.push(Sc);break}}});return{type:"MultiPolygon",value:Kb,coordinates:Cc}}function xa(Fb,Kb,Cc){function Ec(Bd){var y=[Bd[0][0]+fd,Bd[0][1]+pd];Bd=[Bd[1][0]+fd,Bd[1][1]+pd];var J=2*y[0]+y[1]*(Sa+1)*4,va=2*Bd[0]+Bd[1]*(Sa+1)*4,Ka,lb;(Ka=vd[J])?(lb=Sc[va])?(delete vd[Ka.end],delete Sc[lb.start],Ka===lb?(Ka.ring.push(Bd),Cc(Ka.ring)):Sc[Ka.start]=vd[lb.end]={start:Ka.start,end:lb.end,ring:Ka.ring.concat(lb.ring)}):
(delete vd[Ka.end],Ka.ring.push(Bd),vd[Ka.end=va]=Ka):(Ka=Sc[va])?(lb=vd[J])?(delete Sc[Ka.start],delete vd[lb.end],Ka===lb?(Ka.ring.push(Bd),Cc(Ka.ring)):Sc[lb.start]=vd[Ka.end]={start:lb.start,end:Ka.end,ring:lb.ring.concat(Ka.ring)}):(delete Sc[Ka.start],Ka.ring.unshift(y),Sc[Ka.start=J]=Ka):Sc[J]=vd[va]={start:J,end:va,ring:[y,Bd]}}var Sc=[],vd=[],pd;var fd=pd=-1;var Cd=Fb[0]>=Kb;for(Ua[Cd<<1].forEach(Ec);++fd<Sa-1;){var Dd=Cd;Cd=Fb[fd+1]>=Kb;Ua[Dd|Cd<<1].forEach(Ec)}for(Ua[Cd<<0].forEach(Ec);++pd<
kb-1;){fd=-1;Cd=Fb[pd*Sa+Sa]>=Kb;var rd=Fb[pd*Sa]>=Kb;for(Ua[Cd<<1|rd<<2].forEach(Ec);++fd<Sa-1;){Dd=Cd;Cd=Fb[pd*Sa+Sa+fd+1]>=Kb;var we=rd;rd=Fb[pd*Sa+fd+1]>=Kb;Ua[Dd|Cd<<1|rd<<2|we<<3].forEach(Ec)}Ua[Cd|rd<<3].forEach(Ec)}fd=-1;rd=Fb[pd*Sa]>=Kb;for(Ua[rd<<2].forEach(Ec);++fd<Sa-1;)we=rd,rd=Fb[pd*Sa+fd+1]>=Kb,Ua[rd<<2|we<<3].forEach(Ec);Ua[rd<<3].forEach(Ec)}function Da(Fb,Kb,Cc){Fb.forEach(Ec=>{var Sc=Ec[0],vd=Ec[1],pd=Sc|0,fd=vd|0,Cd=Kb[fd*Sa+pd];if(0<Sc&&Sc<Sa&&pd===Sc){var Dd=Kb[fd*Sa+pd-1];Ec[0]=
Sc+(Cc-Dd)/(Cd-Dd)-.5}0<vd&&vd<kb&&fd===vd&&(Dd=Kb[(fd-1)*Sa+pd],Ec[1]=vd+(Cc-Dd)/(Cd-Dd)-.5)})}var Sa=1,kb=1,Sb=Da;t.contour=ba;t.size=function(Fb){if(!arguments.length)return[Sa,kb];var Kb=Math.floor(Fb[0]),Cc=Math.floor(Fb[1]);0<=Kb&&0<=Cc||ia.error("invalid size");return Sa=Kb,kb=Cc,t};t.smooth=function(Fb){return arguments.length?(Sb=Fb?Da:jc,t):Sb===Da};return t}function Za(t,ba,xa){return function(Da){var Sa=ia.extent(Da);Da=xa?Math.min(Sa[0],0):Sa[0];Sa=Sa[1];var kb=Sa-Da;if(ba){var Sb=t;
var Fb=+Sa;var Kb=+Da;Sb=+Sb;Kb=(kb=Fb<Kb)?Xb(Fb,Kb,Sb):Xb(Kb,Fb,Sb);kb=(kb?-1:1)*(0>Kb?1/-Kb:Kb)}else kb/=t+1;return Cb(Da+kb,Sa,kb)}}function wb(t){h.Transform.call(this,null,t)}function ub(t,ba,xa){const Da=Za(xa.levels||10,xa.nice,!1!==xa.zero);return"shared"!==xa.resolve?Da:Da(t.map(Sa=>mc(ba(Sa).values)))}function sb(t,ba,xa,Da){var Sa=Da.scale||ba.scale;let kb=Da.translate||ba.translate;ia.isFunction(Sa)&&(Sa=Sa(xa,Da));ia.isFunction(kb)&&(kb=kb(xa,Da));if(1!==Sa&&null!=Sa||kb)xa=(ia.isNumber(Sa)?
Sa:Sa[0])||1,Sa=(ia.isNumber(Sa)?Sa:Sa[1])||1,t.forEach(xb(ba,xa,Sa,kb&&kb[0]||0,kb&&kb[1]||0))}function xb(t,ba,xa,Da,Sa){function kb(Sc){Sc.forEach(Sb)}function Sb(Sc){Ec&&Sc.reverse();Sc.forEach(Fb)}function Fb(Sc){Sc[0]=(Sc[0]-Kb)*ba+Da;Sc[1]=(Sc[1]-Cc)*xa+Sa}const Kb=t.x1||0,Cc=t.y1||0,Ec=0>ba*xa;return function(Sc){Sc.coordinates.forEach(kb);return Sc}}function hb(t,ba,xa){t=0<=t?t:ab.bandwidthNRD(ba,xa);return Math.round((Math.sqrt(4*t*t+1)-1)/2)}function ec(t){return ia.isFunction(t)?t:ia.constant(+t)}
function ra(){function t(Kb,Cc){const Ec=hb(Sa[0],Kb,ba)>>Fb,Sc=hb(Sa[1],Kb,xa)>>Fb,vd=Ec?Ec+2:0,pd=Sc?Sc+2:0,fd=2*vd+(kb>>Fb),Cd=2*pd+(Sb>>Fb),Dd=new Float32Array(fd*Cd),rd=new Float32Array(fd*Cd);let we=Dd;Kb.forEach(Bd=>{const y=vd+(+ba(Bd)>>Fb),J=pd+(+xa(Bd)>>Fb);0<=y&&y<fd&&0<=J&&J<Cd&&(Dd[y+J*fd]+=+Da(Bd))});0<Ec&&0<Sc?(fa(fd,Cd,Dd,rd,Ec),za(fd,Cd,rd,Dd,Sc),fa(fd,Cd,Dd,rd,Ec),za(fd,Cd,rd,Dd,Sc),fa(fd,Cd,Dd,rd,Ec),za(fd,Cd,rd,Dd,Sc)):0<Ec?(fa(fd,Cd,Dd,rd,Ec),fa(fd,Cd,rd,Dd,Ec),fa(fd,Cd,Dd,rd,
Ec),we=rd):0<Sc&&(za(fd,Cd,Dd,rd,Sc),za(fd,Cd,rd,Dd,Sc),za(fd,Cd,Dd,rd,Sc),we=rd);Kb=Cc?Math.pow(2,-2*Fb):1/Vb(we);for(let Bd=0,y=fd*Cd;Bd<y;++Bd)we[Bd]*=Kb;return{values:we,scale:1<<Fb,width:fd,height:Cd,x1:vd,y1:pd,x2:vd+(kb>>Fb),y2:pd+(Sb>>Fb)}}var ba=Kb=>Kb[0],xa=Kb=>Kb[1],Da=ia.one,Sa=[-1,-1],kb=960,Sb=500,Fb=2;t.x=function(Kb){return arguments.length?(ba=ec(Kb),t):ba};t.y=function(Kb){return arguments.length?(xa=ec(Kb),t):xa};t.weight=function(Kb){return arguments.length?(Da=ec(Kb),t):Da};t.size=
function(Kb){if(!arguments.length)return[kb,Sb];var Cc=+Kb[0],Ec=+Kb[1];0<=Cc&&0<=Ec||ia.error("invalid size");return kb=Cc,Sb=Ec,t};t.cellSize=function(Kb){if(!arguments.length)return 1<<Fb;1<=(Kb=+Kb)||ia.error("invalid cell size");Fb=Math.floor(Math.log(Kb)/Math.LN2);return t};t.bandwidth=function(Kb){if(!arguments.length)return Sa;Kb=ia.array(Kb);1===Kb.length&&(Kb=[+Kb[0],+Kb[0]]);2!==Kb.length&&ia.error("invalid bandwidth");return Sa=Kb,t};return t}function fa(t,ba,xa,Da,Sa){const kb=(Sa<<1)+
1;for(let Sb=0;Sb<ba;++Sb)for(let Fb=0,Kb=0;Fb<t+Sa;++Fb)Fb<t&&(Kb+=xa[Fb+Sb*t]),Fb>=Sa&&(Fb>=kb&&(Kb-=xa[Fb-kb+Sb*t]),Da[Fb-Sa+Sb*t]=Kb/Math.min(Fb+1,t-1+kb-Fb,kb))}function za(t,ba,xa,Da,Sa){const kb=(Sa<<1)+1;for(let Sb=0;Sb<t;++Sb)for(let Fb=0,Kb=0;Fb<ba+Sa;++Fb)Fb<ba&&(Kb+=xa[Sb+Fb*t]),Fb>=Sa&&(Fb>=kb&&(Kb-=xa[Sb+(Fb-kb)*t]),Da[Sb+(Fb-Sa)*t]=Kb/Math.min(Fb+1,ba-1+kb-Fb,kb))}function Ra(t){h.Transform.call(this,null,t)}function Xa(t,ba){yb.forEach(xa=>null!=ba[xa]?t[xa](ba[xa]):0);return t}function Ia(t,
ba){var xa=[],Da=Ec=>Ec(Fb),Sa;if(null==ba)xa.push(t);else{var kb={};var Sb=0;for(Sa=t.length;Sb<Sa;++Sb){var Fb=t[Sb];var Kb=ba.map(Da);var Cc=kb[Kb];Cc||(kb[Kb]=Cc=[],Cc.dims=Kb,xa.push(Cc));Cc.push(Fb)}}return xa}function ib(t){h.Transform.call(this,null,t)}function bb(t){h.Transform.call(this,null,t)}function tb(t){h.Transform.call(this,null,t)}function Qb(t,ba){const xa=t.pointRadius();t.context(null);null!=ba&&t.pointRadius(ba);return xa}function eb(t){h.Transform.call(this,null,t)}function T(t){h.Transform.call(this,
null,t)}function Z(t,ba,xa){const Da=null==xa?Sa=>t(ba(Sa)):Sa=>{var kb=t.pointRadius();Sa=t.pointRadius(xa)(ba(Sa));t.pointRadius(kb);return Sa};Da.context=Sa=>{t.context(Sa);return Da};return Da}function ca(t,ba,xa){var Da=Cb(t,ba-1E-6,xa).concat(ba);return function(Sa){return Da.map(function(kb){return[Sa,kb]})}}function ha(t,ba,xa){var Da=Cb(t,ba-1E-6,xa).concat(ba);return function(Sa){return Da.map(function(kb){return[kb,Sa]})}}function La(){function t(){return{type:"MultiLineString",coordinates:ba()}}
function ba(){return Cb(Ob(kb/vd)*vd,Sa,vd).map(Dd).concat(Cb(Ob(Cc/pd)*pd,Kb,pd).map(rd)).concat(Cb(Ob(Da/Ec)*Ec,xa,Ec).filter(function(Bd){return 1E-6<Hb(Bd%vd)}).map(fd)).concat(Cb(Ob(Fb/Sc)*Sc,Sb,Sc).filter(function(Bd){return 1E-6<Hb(Bd%pd)}).map(Cd))}var xa,Da,Sa,kb,Sb,Fb,Kb,Cc,Ec=10,Sc=Ec,vd=90,pd=360,fd,Cd,Dd,rd,we=2.5;t.lines=function(){return ba().map(function(Bd){return{type:"LineString",coordinates:Bd}})};t.outline=function(){return{type:"Polygon",coordinates:[Dd(kb).concat(rd(Kb).slice(1),
Dd(Sa).reverse().slice(1),rd(Cc).reverse().slice(1))]}};t.extent=function(Bd){return arguments.length?t.extentMajor(Bd).extentMinor(Bd):t.extentMinor()};t.extentMajor=function(Bd){if(!arguments.length)return[[kb,Cc],[Sa,Kb]];kb=+Bd[0][0];Sa=+Bd[1][0];Cc=+Bd[0][1];Kb=+Bd[1][1];kb>Sa&&(Bd=kb,kb=Sa,Sa=Bd);Cc>Kb&&(Bd=Cc,Cc=Kb,Kb=Bd);return t.precision(we)};t.extentMinor=function(Bd){if(!arguments.length)return[[Da,Fb],[xa,Sb]];Da=+Bd[0][0];xa=+Bd[1][0];Fb=+Bd[0][1];Sb=+Bd[1][1];Da>xa&&(Bd=Da,Da=xa,xa=
Bd);Fb>Sb&&(Bd=Fb,Fb=Sb,Sb=Bd);return t.precision(we)};t.step=function(Bd){return arguments.length?t.stepMajor(Bd).stepMinor(Bd):t.stepMinor()};t.stepMajor=function(Bd){if(!arguments.length)return[vd,pd];vd=+Bd[0];pd=+Bd[1];return t};t.stepMinor=function(Bd){if(!arguments.length)return[Ec,Sc];Ec=+Bd[0];Sc=+Bd[1];return t};t.precision=function(Bd){if(!arguments.length)return we;we=+Bd;fd=ca(Fb,Sb,90);Cd=ha(Da,xa,we);Dd=ca(Cc,Kb,90);rd=ha(kb,Sa,we);return t};return t.extentMajor([[-180,-89.999999],
[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function oa(t){h.Transform.call(this,[],t);this.generator=La()}function pa(t,ba,xa){t.prototype=ba.prototype=xa;xa.constructor=t}function m(t,ba){t=Object.create(t.prototype);for(var xa in ba)t[xa]=ba[xa];return t}function D(){}function L(){return this.rgb().formatHex()}function w(){return this.rgb().formatRgb()}function P(t){var ba,xa;t=(t+"").trim().toLowerCase();return(ba=ic.exec(t))?(xa=ba[1].length,ba=parseInt(ba[1],16),6===xa?
A(ba):3===xa?new x(ba>>8&15|ba>>4&240,ba>>4&15|ba&240,(ba&15)<<4|ba&15,1):8===xa?V(ba>>24&255,ba>>16&255,ba>>8&255,(ba&255)/255):4===xa?V(ba>>12&15|ba>>8&240,ba>>8&15|ba>>4&240,ba>>4&15|ba&240,((ba&15)<<4|ba&15)/255):null):(ba=Bc.exec(t))?new x(ba[1],ba[2],ba[3],1):(ba=jd.exec(t))?new x(255*ba[1]/100,255*ba[2]/100,255*ba[3]/100,1):(ba=Vc.exec(t))?V(ba[1],ba[2],ba[3],ba[4]):(ba=ma.exec(t))?V(255*ba[1]/100,255*ba[2]/100,255*ba[3]/100,ba[4]):(ba=Ha.exec(t))?la(ba[1],ba[2]/100,ba[3]/100,1):(ba=gb.exec(t))?
la(ba[1],ba[2]/100,ba[3]/100,ba[4]):Q.hasOwnProperty(t)?A(Q[t]):"transparent"===t?new x(NaN,NaN,NaN,0):null}function A(t){return new x(t>>16&255,t>>8&255,t&255,1)}function V(t,ba,xa,Da){0>=Da&&(t=ba=xa=NaN);return new x(t,ba,xa,Da)}function G(t,ba,xa,Da){if(1===arguments.length){var Sa=t;Sa instanceof D||(Sa=P(Sa));Sa?(Sa=Sa.rgb(),Sa=new x(Sa.r,Sa.g,Sa.b,Sa.opacity)):Sa=new x}else Sa=new x(t,ba,xa,null==Da?1:Da);return Sa}function x(t,ba,xa,Da){this.r=+t;this.g=+ba;this.b=+xa;this.opacity=+Da}function z(){return`#${N(this.r)}${N(this.g)}${N(this.b)}`}
function F(){const t=U(this.opacity);return`${1===t?"rgb(":"rgba("}${sa(this.r)}, ${sa(this.g)}, ${sa(this.b)}${1===t?")":`, ${t})`}`}function U(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function sa(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function N(t){t=sa(t);return(16>t?"0":"")+t.toString(16)}function la(t,ba,xa,Da){0>=Da?t=ba=xa=NaN:0>=xa||1<=xa?t=ba=NaN:0>=ba&&(t=NaN);return new Ma(t,ba,xa,Da)}function wa(t){if(t instanceof Ma)return new Ma(t.h,t.s,t.l,t.opacity);t instanceof
D||(t=P(t));if(!t)return new Ma;if(t instanceof Ma)return t;t=t.rgb();var ba=t.r/255,xa=t.g/255,Da=t.b/255,Sa=Math.min(ba,xa,Da),kb=Math.max(ba,xa,Da),Sb=NaN,Fb=kb-Sa,Kb=(kb+Sa)/2;Fb?(Sb=ba===kb?(xa-Da)/Fb+6*(xa<Da):xa===kb?(Da-ba)/Fb+2:(ba-xa)/Fb+4,Fb/=.5>Kb?kb+Sa:2-kb-Sa,Sb*=60):Fb=0<Kb&&1>Kb?0:Sb;return new Ma(Sb,Fb,Kb,t.opacity)}function Ma(t,ba,xa,Da){this.h=+t;this.s=+ba;this.l=+xa;this.opacity=+Da}function Pa(t){t=(t||0)%360;return 0>t?t+360:t}function Ya(t){return Math.max(0,Math.min(1,t||
0))}function vb(t,ba,xa){return 255*(60>t?ba+(xa-ba)*t/60:180>t?xa:240>t?ba+(xa-ba)*(240-t)/60:ba)}function jb(t){h.Transform.call(this,null,t)}function Ub(t,ba){let xa;ia.isFunction(t)?(xa=Da=>G(t(Da,ba)),xa.dep=Ea(t)):xa=ia.constant(G(t||"#888"));return xa}function W(t,ba){let xa;ia.isFunction(t)?(xa=Da=>t(Da,ba),xa.dep=Ea(t)):t?xa=ia.constant(t):(xa=Da=>Da.$value/Da.$max||0,xa.dep=!0);return xa}function Ea(t){if(!ia.isFunction(t))return!1;t=ia.toSet(ia.accessorFields(t));return t.$x||t.$y||t.$value||
t.$max}function Mb(t,ba,xa,Da){const Sa=t.width;var kb=t.height;const Sb=t.x1||0,Fb=t.y1||0,Kb=t.x2||Sa;kb=t.y2||kb;const Cc=t.values;t=Cc?fd=>Cc[fd]:ia.zero;const Ec=Yb.canvas(Kb-Sb,kb-Fb),Sc=Ec.getContext("2d"),vd=Sc.getImageData(0,0,Kb-Sb,kb-Fb),pd=vd.data;for(let fd=Fb,Cd=0;fd<kb;++fd){ba.$y=fd-Fb;for(let Dd=Sb,rd=fd*Sa;Dd<Kb;++Dd,Cd+=4){ba.$x=Dd-Sb;ba.$value=t(Dd+rd);const we=xa(ba);pd[Cd+0]=we.r;pd[Cd+1]=we.g;pd[Cd+2]=we.b;pd[Cd+3]=~~(255*Da(ba))}}Sc.putImageData(vd,0,0);return Ec}function oc(t){h.Transform.call(this,
null,t);this.modified(!0)}function $b(t,ba){const xa=Rb(ba.fit);ba.extent?t.fitExtent(ba.extent,xa):ba.size?t.fitSize(ba.size,xa):0}function Nb(t){const ba=zb.projection((t||"mercator").toLowerCase());ba||ia.error("Unrecognized projection type: "+t);return ba()}function Rb(t){t=ia.array(t);return 1===t.length?t[0]:{type:"FeatureCollection",features:t.reduce((ba,xa)=>ba.concat(xc(xa)),[])}}function xc(t){return"FeatureCollection"===t.type?t.features:ia.array(t).filter(ba=>null!=ba).map(ba=>"Feature"===
ba.type?ba:{type:"Feature",geometry:ba})}const dd=Math.sqrt(50),qa=Math.sqrt(10),Db=Math.sqrt(2),Ua=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];wb.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},
{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};ia.inherits(wb,h.Transform,{transform(t,ba){if(this.value&&!ba.changed()&&
!t.modified())return ba.StopPropagation;var xa=ba.fork(ba.NO_SOURCE|ba.NO_FIELDS);ba=ba.materialize(ba.SOURCE).source;var Da=t.field||ia.identity,Sa=Ba().smooth(!1!==t.smooth),kb=t.thresholds||ub(ba,Da,t),Sb=null===t.as?null:t.as||"contour",Fb=[];ba.forEach(Kb=>{const Cc=Da(Kb),Ec=Sa.size([Cc.width,Cc.height])(Cc.values,ia.isArray(kb)?kb:kb(Cc.values));sb(Ec,Cc,Kb,t);Ec.forEach(Sc=>{Fb.push(h.rederive(Kb,h.ingest(null!=Sb?{[Sb]:Sc}:Sc)))})});this.value&&(xa.rem=this.value);this.value=xa.source=xa.add=
Fb;return xa}});Ra.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const yb="x y weight size cellSize bandwidth".split(" ");
ia.inherits(Ra,h.Transform,{transform(t,ba){if(this.value&&!ba.changed()&&!t.modified())return ba.StopPropagation;var xa=ba.fork(ba.NO_SOURCE|ba.NO_FIELDS);ba=ba.materialize(ba.SOURCE).source;ba=Ia(ba,t.groupby);var Da=(t.groupby||[]).map(ia.accessorName),Sa=Xa(ra(),t),kb=t.as||"grid",Sb=[];Sb=ba.map(Fb=>{var Kb=h.ingest,Cc={[kb]:Sa(Fb,t.counts)};Fb=Fb.dims;for(let Ec=0;Ec<Da.length;++Ec)Cc[Da[Ec]]=Fb[Ec];return Kb.call(h,Cc)});this.value&&(xa.rem=this.value);this.value=xa.source=xa.add=Sb;return xa}});
ib.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};ia.inherits(ib,h.Transform,{transform(t,
ba){if(this.value&&!ba.changed()&&!t.modified())return ba.StopPropagation;var xa=ba.fork(ba.NO_SOURCE|ba.NO_FIELDS),Da=Ba().smooth(!1!==t.smooth),Sa=t.values,kb=t.thresholds||Za(t.count||10,t.nice,!!Sa),Sb=t.size;if(!Sa){Sa=ba.materialize(ba.SOURCE).source;t=Xa(ra(),t)(Sa,!0);var Fb=xb(t,t.scale||1,t.scale||1,0,0);Sb=[t.width,t.height];Sa=t.values}kb=ia.isArray(kb)?kb:kb(Sa);Sa=Da.size(Sb)(Sa,kb);Fb&&Sa.forEach(Fb);this.value&&(xa.rem=this.value);this.value=xa.source=xa.add=(Sa||[]).map(h.ingest);
return xa}});bb.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};ia.inherits(bb,h.Transform,{transform(t,ba){var xa=this._features,Da=this._points,Sa=t.fields,kb=Sa&&Sa[0],Sb=Sa&&Sa[1],Fb=t.geojson||!Sa&&ia.identity;Sa=ba.ADD;t=t.modified()||ba.changed(ba.REM)||ba.modified(ia.accessorFields(Fb))||kb&&ba.modified(ia.accessorFields(kb))||Sb&&ba.modified(ia.accessorFields(Sb));if(!this.value||t)Sa=ba.SOURCE,this._features=xa=
[],this._points=Da=[];Fb&&ba.visit(Sa,Kb=>xa.push(Fb(Kb)));kb&&Sb&&(ba.visit(Sa,Kb=>{var Cc=kb(Kb);Kb=Sb(Kb);null!=Cc&&null!=Kb&&(Cc=+Cc)===Cc&&(Kb=+Kb)===Kb&&Da.push([Cc,Kb])}),xa=xa.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:Da}}));this.value={type:"FeatureCollection",features:xa}}});tb.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",
"default":"path"}]};ia.inherits(tb,h.Transform,{transform(t,ba){var xa=ba.fork(ba.ALL),Da=this.value,Sa=t.field||ia.identity,kb=t.as||"path",Sb=xa.SOURCE;!Da||t.modified()?(this.value=Da=zb.getProjectionPath(t.projection),xa.materialize().reflow()):Sb=Sa===ia.identity||ba.modified(Sa.fields)?xa.ADD_MOD:xa.ADD;t=Qb(Da,t.pointRadius);xa.visit(Sb,Fb=>Fb[kb]=Da(Sa(Fb)));Da.pointRadius(t);return xa.modifies(kb)}});eb.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",
required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};ia.inherits(eb,h.Transform,{transform(t,ba){function xa(Cc){const Ec=Da([Sa(Cc),kb(Cc)]);Ec?(Cc[Fb]=Ec[0],Cc[Kb]=Ec[1]):(Cc[Fb]=void 0,Cc[Kb]=void 0)}var Da=t.projection,Sa=t.fields[0],kb=t.fields[1],Sb=t.as||["x","y"],Fb=Sb[0],Kb=Sb[1];t.modified()?ba=ba.materialize().reflow(!0).visit(ba.SOURCE,xa):(t=ba.modified(Sa.fields)||ba.modified(kb.fields),ba.visit(t?ba.ADD_MOD:
ba.ADD,xa));return ba.modifies(Sb)}});T.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};ia.inherits(T,h.Transform,{transform(t,ba){ba=ba.fork(ba.ALL);var xa=this.value,Da=t.as||"shape",Sa=ba.ADD;if(!xa||t.modified())this.value=xa=Z(zb.getProjectionPath(t.projection),t.field||ia.field("datum"),t.pointRadius),
ba.materialize().reflow(),Sa=ba.SOURCE;ba.visit(Sa,kb=>kb[Da]=xa);return ba.modifies(Da)}});var Hb=Math.abs,Ob=Math.ceil;oa.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,
length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};ia.inherits(oa,h.Transform,{transform(t,ba){var xa=this.value,Da=this.generator;if(!xa.length||t.modified())for(const Sa in t)if(ia.isFunction(Da[Sa]))Da[Sa](t[Sa]);t=Da();xa.length?ba.mod.push(h.replace(xa[0],t)):ba.add.push(h.ingest(t));xa[0]=t;return ba}});var Zb=1/.7,ic=/^#([0-9a-f]{3,8})$/,Bc=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),
jd=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Vc=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),ma=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
Ha=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),gb=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Q={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,
bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,
darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,
lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,
mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,
plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,
yellow:16776960,yellowgreen:10145074};pa(D,P,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:L,formatHex:L,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return wa(this).formatHsl()},formatRgb:w,toString:w});pa(x,G,m(D,{brighter(t){t=null==t?Zb:Math.pow(Zb,t);return new x(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){t=null==t?.7:Math.pow(.7,t);return new x(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},
clamp(){return new x(sa(this.r),sa(this.g),sa(this.b),U(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:z,formatHex:z,formatHex8:function(){return`#${N(this.r)}${N(this.g)}${N(this.b)}${N(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:F,toString:F}));pa(Ma,function(t,ba,xa,Da){return 1===arguments.length?wa(t):new Ma(t,ba,xa,null==Da?1:Da)},m(D,{brighter(t){t=null==t?Zb:Math.pow(Zb,t);
return new Ma(this.h,this.s,this.l*t,this.opacity)},darker(t){t=null==t?.7:Math.pow(.7,t);return new Ma(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(0>this.h),ba=isNaN(t)||isNaN(this.s)?0:this.s,xa=this.l;ba=xa+(.5>xa?xa:1-xa)*ba;xa=2*xa-ba;return new x(vb(240<=t?t-240:t+120,xa,ba),vb(t,xa,ba),vb(120>t?t+240:t-120,xa,ba),this.opacity)},clamp(){return new Ma(Pa(this.h),Ya(this.s),Ya(this.l),U(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&
1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const t=U(this.opacity);return`${1===t?"hsl(":"hsla("}${Pa(this.h)}, ${100*Ya(this.s)}%, ${100*Ya(this.l)}%${1===t?")":`, ${t})`}`}}));jb.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"as",type:"string","default":"image"}]};ia.inherits(jb,
h.Transform,{transform(t,ba){if(!ba.changed()&&!t.modified())return ba.StopPropagation;var xa=ba.materialize(ba.SOURCE).source,Da="shared"===t.resolve,Sa=t.field||ia.identity,kb=W(t.opacity,t),Sb=Ub(t.color,t),Fb=t.as||"image",Kb={$x:0,$y:0,$value:0,$max:Da?mc(xa.map(Cc=>mc(Sa(Cc).values))):0};xa.forEach(Cc=>{const Ec=Sa(Cc),Sc=ia.extend({},Cc,Kb);Da||(Sc.$max=mc(Ec.values||[]));Cc[Fb]=Mb(Ec,Sc,Sb.dep?Sb:ia.constant(Sb(Sc)),kb.dep?kb:ia.constant(kb(Sc)))});return ba.reflow(!0).modifies(Fb)}});ia.inherits(oc,
h.Transform,{transform(t,ba){let xa=this.value;!xa||t.modified("type")?(this.value=xa=Nb(t.type),zb.projectionProperties.forEach(Da=>{if(null!=t[Da]){var Sa=xa,kb=t[Da];if(ia.isFunction(Sa[Da]))Sa[Da](kb)}})):zb.projectionProperties.forEach(Da=>{if(t.modified(Da)){var Sa=xa,kb=t[Da];if(ia.isFunction(Sa[Da]))Sa[Da](kb)}});null!=t.pointRadius&&xa.path.pointRadius(t.pointRadius);t.fit&&$b(xa,t);return ba.fork(ba.NO_SOURCE|ba.NO_FIELDS)}});u.contour=ib;u.geojson=bb;u.geopath=tb;u.geopoint=eb;u.geoshape=
T;u.graticule=oa;u.heatmap=jb;u.isocontour=wb;u.kde2d=Ra;u.projection=oc})};
shadow$provide[39]=function(Eb,ob,Dc,Wa){(function(u,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,ob(29),ob(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],h):(u="undefined"!==typeof globalThis?globalThis:u||self,h((u.vega=u.vega||{},u.vega.transforms={}),u.vega,u.vega))})(this,function(u,h,ia){function ab(N,la,wa,Ma){if(isNaN(la)||isNaN(wa))return N;var Pa,Ya=N._root;Ma={data:Ma};var vb=N._x0,jb=N._y0,Ub=N._x1,W=N._y1,Ea,Mb,oc,$b,Nb;if(!Ya)return N._root=
Ma,N;for(;Ya.length;)if((oc=la>=(Ea=(vb+Ub)/2))?vb=Ea:Ub=Ea,($b=wa>=(Mb=(jb+W)/2))?jb=Mb:W=Mb,Pa=Ya,!(Ya=Ya[Nb=$b<<1|oc]))return Pa[Nb]=Ma,N;var Rb=+N._x.call(null,Ya.data);var xc=+N._y.call(null,Ya.data);if(la===Rb&&wa===xc)return Ma.next=Ya,Pa?Pa[Nb]=Ma:N._root=Ma,N;do Pa=Pa?Pa[Nb]=Array(4):N._root=Array(4),(oc=la>=(Ea=(vb+Ub)/2))?vb=Ea:Ub=Ea,($b=wa>=(Mb=(jb+W)/2))?jb=Mb:W=Mb;while((Nb=$b<<1|oc)===(oc=(xc>=Mb)<<1|Rb>=Ea));return Pa[oc]=Ya,Pa[Nb]=Ma,N}function zb(N,la,wa,Ma,Pa){this.node=N;this.x0=
la;this.y0=wa;this.x1=Ma;this.y1=Pa}function Yb(N){return N[0]}function ac(N){return N[1]}function Xb(N,la,wa){la=new mc(null==la?Yb:la,null==wa?ac:wa,NaN,NaN,NaN,NaN);return null==N?la:la.addAll(N)}function mc(N,la,wa,Ma,Pa,Ya){this._x=N;this._y=la;this._x0=wa;this._y0=Ma;this._x1=Pa;this._y1=Ya;this._root=void 0}function Cb(N){for(var la={data:N.data},wa=la;N=N.next;)wa=wa.next={data:N.data};return la}function Vb(N){return function(){return N}}function jc(N){return N.x+N.vx}function Ba(N){return N.y+
N.vy}function Za(N){return N.index}function wb(N,la){N=N.get(la);if(!N)throw Error("node not found: "+la);return N}function ub(){for(var N=0,la=arguments.length,wa={},Ma;N<la;++N){if(!(Ma=arguments[N]+"")||Ma in wa||/[\s.]/.test(Ma))throw Error("illegal type: "+Ma);wa[Ma]=[]}return new sb(wa)}function sb(N){this._=N}function xb(N,la){return N.trim().split(/^|\s+/).map(function(wa){var Ma="",Pa=wa.indexOf(".");0<=Pa&&(Ma=wa.slice(Pa+1),wa=wa.slice(0,Pa));if(wa&&!la.hasOwnProperty(wa))throw Error("unknown type: "+
wa);return{type:wa,name:Ma}})}function hb(N,la,wa){for(var Ma=0,Pa=N.length;Ma<Pa;++Ma)if(N[Ma].name===la){N[Ma]=La;N=N.slice(0,Ma).concat(N.slice(Ma+1));break}null!=wa&&N.push({name:la,value:wa});return N}function ec(){P=0}function ra(){this._call=this._time=this._next=null}function fa(N,la,wa){var Ma=new ra;Ma.restart(N,la,wa);return Ma}function za(){P=(w=V.now())+A;oa=pa=0;try{P||(G(ec),P=V.now()+A);++oa;for(var N=D,la;N;)0<=(la=P-N._time)&&N._call.call(void 0,la),N=N._next;--oa}finally{oa=0;N=
D;for(var wa=Infinity;N;)if(N._call){wa>N._time&&(wa=N._time);var Ma=N;N=N._next}else la=N._next,N._next=null,N=Ma?Ma._next=la:D=la;L=Ma;Xa(wa);P=0}}function Ra(){var N=V.now(),la=N-w;1E3<la&&(A-=la,w=N)}function Xa(N){oa||(pa&&(pa=clearTimeout(pa)),24<N-P?(Infinity>N&&(pa=setTimeout(za,N-V.now()-A)),m&&(m=clearInterval(m))):(m||(w=V.now(),m=setInterval(Ra,1E3)),oa=1,G(za)))}function Ia(){let N=1;return()=>(N=(1664525*N+1013904223)%4294967296)/4294967296}function ib(N){return N.x}function bb(N){return N.y}
function tb(N){function la(){wa();$b.call("tick",Ya);vb<jb&&(oc.stop(),$b.call("end",Ya))}function wa(Rb){var xc,dd=N.length;void 0===Rb&&(Rb=1);for(var qa=0;qa<Rb;++qa)for(vb+=(W-vb)*Ub,Mb.forEach(function(Ua){Ua(vb)}),xc=0;xc<dd;++xc){var Db=N[xc];null==Db.fx?Db.x+=Db.vx*=Ea:(Db.x=Db.fx,Db.vx=0);null==Db.fy?Db.y+=Db.vy*=Ea:(Db.y=Db.fy,Db.vy=0)}return Ya}function Ma(){for(var Rb=0,xc=N.length,dd;Rb<xc;++Rb){dd=N[Rb];dd.index=Rb;null!=dd.fx&&(dd.x=dd.fx);null!=dd.fy&&(dd.y=dd.fy);if(isNaN(dd.x)||
isNaN(dd.y)){var qa=10*Math.sqrt(.5+Rb),Db=Rb*x;dd.x=qa*Math.cos(Db);dd.y=qa*Math.sin(Db)}if(isNaN(dd.vx)||isNaN(dd.vy))dd.vx=dd.vy=0}}function Pa(Rb){Rb.initialize&&Rb.initialize(N,Nb);return Rb}var Ya,vb=1,jb=.001,Ub=1-Math.pow(jb,1/300),W=0,Ea=.6,Mb=new Map,oc=fa(la),$b=ub("tick","end"),Nb=Ia();null==N&&(N=[]);Ma();return Ya={tick:wa,restart:function(){return oc.restart(la),Ya},stop:function(){return oc.stop(),Ya},nodes:function(Rb){return arguments.length?(N=Rb,Ma(),Mb.forEach(Pa),Ya):N},alpha:function(Rb){return arguments.length?
(vb=+Rb,Ya):vb},alphaMin:function(Rb){return arguments.length?(jb=+Rb,Ya):jb},alphaDecay:function(Rb){return arguments.length?(Ub=+Rb,Ya):+Ub},alphaTarget:function(Rb){return arguments.length?(W=+Rb,Ya):W},velocityDecay:function(Rb){return arguments.length?(Ea=1-Rb,Ya):1-Ea},randomSource:function(Rb){return arguments.length?(Nb=Rb,Mb.forEach(Pa),Ya):Nb},force:function(Rb,xc){return 1<arguments.length?(null==xc?Mb.delete(Rb):Mb.set(Rb,Pa(xc)),Ya):Mb.get(Rb)},find:function(Rb,xc,dd){var qa,Db=N.length;
dd=null==dd?Infinity:dd*dd;for(qa=0;qa<Db;++qa){var Ua=N[qa];var yb=Rb-Ua.x;var Hb=xc-Ua.y;yb=yb*yb+Hb*Hb;if(yb<dd){var Ob=Ua;dd=yb}}return Ob},on:function(Rb,xc){return 1<arguments.length?($b.on(Rb,xc),Ya):$b.on(Rb)}}}function Qb(N){h.Transform.call(this,null,N)}function eb(N,la){return()=>N.touch(la).run()}function T(N,la){N=tb(N);const wa=N.stop,Ma=N.restart;let Pa=!1;N.stopped=()=>Pa;N.restart=()=>(Pa=!1,Ma());N.stop=()=>(Pa=!0,wa());return Z(N,la,!0).on("end",()=>Pa=!0)}function Z(N,la,wa,Ma){var Pa=
ia.array(la.forces),Ya;var vb=0;for(Ya=F.length;vb<Ya;++vb){var jb=F[vb];if("forces"!==jb&&la.modified(jb))N[jb](la[jb])}vb=0;for(Ya=Pa.length;vb<Ya;++vb){var Ub="forces"+vb;if(wa||la.modified("forces",vb)){jb=void 0;var W=Pa[vb];ia.hasOwnProperty(z,W.force)||ia.error("Unrecognized force: "+W.force);var Ea=z[W.force]();for(jb in W)ia.isFunction(Ea[jb])&&ca(Ea[jb],W[jb],W);jb=Ea}else{if(jb=Ma)a:{Ea=jb=void 0;W=Pa[vb];var Mb=Ma;for(Ea in W)if(ia.isFunction(jb=W[Ea])&&Mb.modified(ia.accessorFields(jb))){jb=
1;break a}jb=0}jb=jb?N.force(Ub):null}jb&&N.force(Ub,jb)}for(Ya=N.numForces||0;vb<Ya;++vb)N.force("forces"+vb,null);N.numForces=Pa.length;return N}function ca(N,la,wa){N(ia.isFunction(la)?Ma=>la(Ma,wa):la)}var ha=Xb.prototype=mc.prototype;ha.copy=function(){var N=new mc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),la=this._root,wa,Ma;if(!la)return N;if(!la.length)return N._root=Cb(la),N;for(wa=[{source:la,target:N._root=Array(4)}];la=wa.pop();)for(var Pa=0;4>Pa;++Pa)if(Ma=la.source[Pa])Ma.length?
wa.push({source:Ma,target:la.target[Pa]=Array(4)}):la.target[Pa]=Cb(Ma);return N};ha.add=function(N){const la=+this._x.call(null,N),wa=+this._y.call(null,N);return ab(this.cover(la,wa),la,wa,N)};ha.addAll=function(N){var la,wa,Ma=N.length,Pa,Ya,vb=Array(Ma),jb=Array(Ma),Ub=Infinity,W=Infinity,Ea=-Infinity,Mb=-Infinity;for(wa=0;wa<Ma;++wa)isNaN(Pa=+this._x.call(null,la=N[wa]))||isNaN(Ya=+this._y.call(null,la))||(vb[wa]=Pa,jb[wa]=Ya,Pa<Ub&&(Ub=Pa),Pa>Ea&&(Ea=Pa),Ya<W&&(W=Ya),Ya>Mb&&(Mb=Ya));if(Ub>Ea||
W>Mb)return this;this.cover(Ub,W).cover(Ea,Mb);for(wa=0;wa<Ma;++wa)ab(this,vb[wa],jb[wa],N[wa]);return this};ha.cover=function(N,la){if(isNaN(N=+N)||isNaN(la=+la))return this;var wa=this._x0,Ma=this._y0,Pa=this._x1,Ya=this._y1;if(isNaN(wa))Pa=(wa=Math.floor(N))+1,Ya=(Ma=Math.floor(la))+1;else{for(var vb=Pa-wa||1,jb=this._root,Ub,W;wa>N||N>=Pa||Ma>la||la>=Ya;)switch(W=(la<Ma)<<1|N<wa,Ub=Array(4),Ub[W]=jb,jb=Ub,vb*=2,W){case 0:Pa=wa+vb;Ya=Ma+vb;break;case 1:wa=Pa-vb;Ya=Ma+vb;break;case 2:Pa=wa+vb;Ma=
Ya-vb;break;case 3:wa=Pa-vb,Ma=Ya-vb}this._root&&this._root.length&&(this._root=jb)}this._x0=wa;this._y0=Ma;this._x1=Pa;this._y1=Ya;return this};ha.data=function(){var N=[];this.visit(function(la){if(!la.length){do N.push(la.data);while(la=la.next)}});return N};ha.extent=function(N){return arguments.length?this.cover(+N[0][0],+N[0][1]).cover(+N[1][0],+N[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};ha.find=function(N,la,wa){var Ma=this._x0,Pa=this._y0,Ya,vb,jb,Ub,W=this._x1,
Ea=this._y1,Mb=[],oc=this._root,$b;oc&&Mb.push(new zb(oc,Ma,Pa,W,Ea));null==wa?wa=Infinity:(Ma=N-wa,Pa=la-wa,W=N+wa,Ea=la+wa,wa*=wa);for(;$b=Mb.pop();)if(!(!(oc=$b.node)||(Ya=$b.x0)>W||(vb=$b.y0)>Ea||(jb=$b.x1)<Ma||(Ub=$b.y1)<Pa))if(oc.length){$b=(Ya+jb)/2;var Nb=(vb+Ub)/2;Mb.push(new zb(oc[3],$b,Nb,jb,Ub),new zb(oc[2],Ya,Nb,$b,Ub),new zb(oc[1],$b,vb,jb,Nb),new zb(oc[0],Ya,vb,$b,Nb));if(oc=(la>=Nb)<<1|N>=$b)$b=Mb[Mb.length-1],Mb[Mb.length-1]=Mb[Mb.length-1-oc],Mb[Mb.length-1-oc]=$b}else if($b=N-+this._x.call(null,
oc.data),Nb=la-+this._y.call(null,oc.data),$b=$b*$b+Nb*Nb,$b<wa){var Rb=Math.sqrt(wa=$b);Ma=N-Rb;Pa=la-Rb;W=N+Rb;Ea=la+Rb;Rb=oc.data}return Rb};ha.remove=function(N){if(isNaN(Ub=+this._x.call(null,N))||isNaN(W=+this._y.call(null,N)))return this;var la,wa=this._root,Ma,Pa=this._x0,Ya=this._y0,vb=this._x1,jb=this._y1,Ub,W,Ea,Mb,oc,$b,Nb;if(!wa)return this;if(wa.length)for(;;){(oc=Ub>=(Ea=(Pa+vb)/2))?Pa=Ea:vb=Ea;($b=W>=(Mb=(Ya+jb)/2))?Ya=Mb:jb=Mb;if(!(la=wa,wa=wa[Nb=$b<<1|oc]))return this;if(!wa.length)break;
if(la[Nb+1&3]||la[Nb+2&3]||la[Nb+3&3]){var Rb=la;var xc=Nb}}for(;wa.data!==N;)if(!(Ma=wa,wa=wa.next))return this;(N=wa.next)&&delete wa.next;if(Ma)return N?Ma.next=N:delete Ma.next,this;if(!la)return this._root=N,this;N?la[Nb]=N:delete la[Nb];(wa=la[0]||la[1]||la[2]||la[3])&&wa===(la[3]||la[2]||la[1]||la[0])&&!wa.length&&(Rb?Rb[xc]=wa:this._root=wa);return this};ha.removeAll=function(N){for(var la=0,wa=N.length;la<wa;++la)this.remove(N[la]);return this};ha.root=function(){return this._root};ha.size=
function(){var N=0;this.visit(function(la){if(!la.length){do++N;while(la=la.next)}});return N};ha.visit=function(N){var la=[],wa,Ma=this._root,Pa,Ya,vb,jb,Ub;for(Ma&&la.push(new zb(Ma,this._x0,this._y0,this._x1,this._y1));wa=la.pop();)if(!N(Ma=wa.node,Ya=wa.x0,vb=wa.y0,jb=wa.x1,Ub=wa.y1)&&Ma.length){wa=(Ya+jb)/2;var W=(vb+Ub)/2;(Pa=Ma[3])&&la.push(new zb(Pa,wa,W,jb,Ub));(Pa=Ma[2])&&la.push(new zb(Pa,Ya,W,wa,Ub));(Pa=Ma[1])&&la.push(new zb(Pa,wa,vb,jb,W));(Pa=Ma[0])&&la.push(new zb(Pa,Ya,vb,wa,W))}return this};
ha.visitAfter=function(N){var la=[],wa=[],Ma;for(this._root&&la.push(new zb(this._root,this._x0,this._y0,this._x1,this._y1));Ma=la.pop();){var Pa=Ma.node;if(Pa.length){var Ya,vb=Ma.x0,jb=Ma.y0,Ub=Ma.x1,W=Ma.y1,Ea=(vb+Ub)/2,Mb=(jb+W)/2;(Ya=Pa[0])&&la.push(new zb(Ya,vb,jb,Ea,Mb));(Ya=Pa[1])&&la.push(new zb(Ya,Ea,jb,Ub,Mb));(Ya=Pa[2])&&la.push(new zb(Ya,vb,Mb,Ea,W));(Ya=Pa[3])&&la.push(new zb(Ya,Ea,Mb,Ub,W))}wa.push(Ma)}for(;Ma=wa.pop();)N(Ma.node,Ma.x0,Ma.y0,Ma.x1,Ma.y1);return this};ha.x=function(N){return arguments.length?
(this._x=N,this):this._x};ha.y=function(N){return arguments.length?(this._y=N,this):this._y};var La={value:()=>{}};sb.prototype=ub.prototype={constructor:sb,on:function(N,la){var wa=this._,Ma=xb(N+"",wa),Pa,Ya=-1,vb=Ma.length;if(2>arguments.length)for(;++Ya<vb;){var jb;if(jb=Pa=(N=Ma[Ya]).type){a:{jb=wa[Pa];for(var Ub=0,W=jb.length;Ub<W;++Ub)if((Pa=jb[Ub]).name===N.name){Pa=Pa.value;break a}Pa=void 0}jb=Pa}if(jb)return Pa}else{if(null!=la&&"function"!==typeof la)throw Error("invalid callback: "+la);
for(;++Ya<vb;)if(Pa=(N=Ma[Ya]).type)wa[Pa]=hb(wa[Pa],N.name,la);else if(null==la)for(Pa in wa)wa[Pa]=hb(wa[Pa],N.name,null);return this}},copy:function(){var N={},la=this._,wa;for(wa in la)N[wa]=la[wa].slice();return new sb(N)},call:function(N,la){if(0<(Pa=arguments.length-2))for(var wa=Array(Pa),Ma=0,Pa,Ya;Ma<Pa;++Ma)wa[Ma]=arguments[Ma+2];if(!this._.hasOwnProperty(N))throw Error("unknown type: "+N);Ya=this._[N];Ma=0;for(Pa=Ya.length;Ma<Pa;++Ma)Ya[Ma].value.apply(la,wa)},apply:function(N,la,wa){if(!this._.hasOwnProperty(N))throw Error("unknown type: "+
N);N=this._[N];for(var Ma=0,Pa=N.length;Ma<Pa;++Ma)N[Ma].value.apply(la,wa)}};var oa=0,pa=0,m=0,D,L,w=0,P=0,A=0,V="object"===typeof performance&&performance.now?performance:Date,G="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(N){setTimeout(N,17)};ra.prototype=fa.prototype={constructor:ra,restart:function(N,la,wa){if("function"!==typeof N)throw new TypeError("callback is not a function");wa=(null==wa?P||(G(ec),P=V.now()+A):+wa)+(null==la?
0:+la);this._next||L===this||(L?L._next=this:D=this,L=this);this._call=N;this._time=wa;Xa()},stop:function(){this._call&&(this._call=null,this._time=Infinity,Xa())}};var x=Math.PI*(3-Math.sqrt(5));const z={center:function(N,la){function wa(){var Ya,vb=Ma.length,jb=0,Ub=0;for(Ya=0;Ya<vb;++Ya){var W=Ma[Ya];jb+=W.x;Ub+=W.y}jb=(jb/vb-N)*Pa;Ub=(Ub/vb-la)*Pa;for(Ya=0;Ya<vb;++Ya)W=Ma[Ya],W.x-=jb,W.y-=Ub}var Ma,Pa=1;null==N&&(N=0);null==la&&(la=0);wa.initialize=function(Ya){Ma=Ya};wa.x=function(Ya){return arguments.length?
(N=+Ya,wa):N};wa.y=function(Ya){return arguments.length?(la=+Ya,wa):la};wa.strength=function(Ya){return arguments.length?(Pa=+Ya,wa):Pa};return wa},collide:function(N){function la(){function W(Db,Ua,yb,Hb,Ob){var Zb=Db.data;Db=Db.r;var ic=xc+Db;if(Zb)Zb.index>$b.index&&(Ua=Nb-Zb.x-Zb.vx,yb=Rb-Zb.y-Zb.vy,Hb=Ua*Ua+yb*yb,Hb<ic*ic&&(0===Ua&&(Ua=1E-6*(vb()-.5),Hb+=Ua*Ua),0===yb&&(yb=1E-6*(vb()-.5),Hb+=yb*yb),Hb=(ic-(Hb=Math.sqrt(Hb)))/Hb*jb,$b.vx+=(Ua*=Hb)*(ic=(Db*=Db)/(dd+Db)),$b.vy+=(yb*=Hb)*ic,Zb.vx-=
Ua*(ic=1-ic),Zb.vy-=yb*ic));else return Ua>Nb+ic||Hb<Nb-ic||yb>Rb+ic||Ob<Rb-ic}for(var Ea,Mb=Pa.length,oc,$b,Nb,Rb,xc,dd,qa=0;qa<Ub;++qa)for(oc=Xb(Pa,jc,Ba).visitAfter(wa),Ea=0;Ea<Mb;++Ea)$b=Pa[Ea],xc=Ya[$b.index],dd=xc*xc,Nb=$b.x+$b.vx,Rb=$b.y+$b.vy,oc.visit(W)}function wa(W){if(W.data)return W.r=Ya[W.data.index];for(var Ea=W.r=0;4>Ea;++Ea)W[Ea]&&W[Ea].r>W.r&&(W.r=W[Ea].r)}function Ma(){if(Pa){var W,Ea=Pa.length;Ya=Array(Ea);for(W=0;W<Ea;++W){var Mb=Pa[W];Ya[Mb.index]=+N(Mb,W,Pa)}}}var Pa,Ya,vb,
jb=1,Ub=1;"function"!==typeof N&&(N=Vb(null==N?1:+N));la.initialize=function(W,Ea){Pa=W;vb=Ea;Ma()};la.iterations=function(W){return arguments.length?(Ub=+W,la):Ub};la.strength=function(W){return arguments.length?(jb=+W,la):jb};la.radius=function(W){return arguments.length?(N="function"===typeof W?W:Vb(+W),Ma(),la):N};return la},nbody:function(){function N($b){var Nb=Pa.length,Rb=Xb(Pa,ib,bb).visitAfter(wa);jb=$b;for($b=0;$b<Nb;++$b)Ya=Pa[$b],Rb.visit(Ma)}function la(){if(Pa){var $b,Nb=Pa.length;
W=Array(Nb);for($b=0;$b<Nb;++$b){var Rb=Pa[$b];W[Rb.index]=+Ub(Rb,$b,Pa)}}}function wa($b){var Nb=0,Rb,xc,dd=0,qa,Db,Ua;if($b.length){for(qa=Db=Ua=0;4>Ua;++Ua)(Rb=$b[Ua])&&(xc=Math.abs(Rb.value))&&(Nb+=Rb.value,dd+=xc,qa+=xc*Rb.x,Db+=xc*Rb.y);$b.x=qa/dd;$b.y=Db/dd}else{Rb=$b;Rb.x=Rb.data.x;Rb.y=Rb.data.y;do Nb+=W[Rb.data.index];while(Rb=Rb.next)}$b.value=Nb}function Ma($b,Nb,Rb,xc){if(!$b.value)return!0;Rb=$b.x-Ya.x;var dd=$b.y-Ya.y;Nb=xc-Nb;xc=Rb*Rb+dd*dd;if(Nb*Nb/oc<xc)return xc<Mb&&(0===Rb&&(Rb=
1E-6*(vb()-.5),xc+=Rb*Rb),0===dd&&(dd=1E-6*(vb()-.5),xc+=dd*dd),xc<Ea&&(xc=Math.sqrt(Ea*xc)),Ya.vx+=Rb*$b.value*jb/xc,Ya.vy+=dd*$b.value*jb/xc),!0;if(!($b.length||xc>=Mb)){if($b.data!==Ya||$b.next)0===Rb&&(Rb=1E-6*(vb()-.5),xc+=Rb*Rb),0===dd&&(dd=1E-6*(vb()-.5),xc+=dd*dd),xc<Ea&&(xc=Math.sqrt(Ea*xc));do $b.data!==Ya&&(Nb=W[$b.data.index]*jb/xc,Ya.vx+=Rb*Nb,Ya.vy+=dd*Nb);while($b=$b.next)}}var Pa,Ya,vb,jb,Ub=Vb(-30),W,Ea=1,Mb=Infinity,oc=.81;N.initialize=function($b,Nb){Pa=$b;vb=Nb;la()};N.strength=
function($b){return arguments.length?(Ub="function"===typeof $b?$b:Vb(+$b),la(),N):Ub};N.distanceMin=function($b){return arguments.length?(Ea=$b*$b,N):Math.sqrt(Ea)};N.distanceMax=function($b){return arguments.length?(Mb=$b*$b,N):Math.sqrt(Mb)};N.theta=function($b){return arguments.length?(oc=$b*$b,N):Math.sqrt(oc)};return N},link:function(N){function la(Rb){for(var xc=0,dd=N.length;xc<Nb;++xc)for(var qa=0,Db,Ua,yb,Hb,Ob;qa<dd;++qa)Db=N[qa],Ua=Db.source,Db=Db.target,yb=Db.x+Db.vx-Ua.x-Ua.vx||1E-6*
($b()-.5),Hb=Db.y+Db.vy-Ua.y-Ua.vy||1E-6*($b()-.5),Ob=Math.sqrt(yb*yb+Hb*Hb),Ob=(Ob-W[qa])/Ob*Rb*jb[qa],yb*=Ob,Hb*=Ob,Db.vx-=yb*(Ob=oc[qa]),Db.vy-=Hb*Ob,Ua.vx+=yb*(Ob=1-Ob),Ua.vy+=Hb*Ob}function wa(){if(Ea){var Rb=Ea.length,xc=N.length,dd=new Map(Ea.map((Db,Ua)=>[Ya(Db,Ua,Ea),Db]));var qa=0;for(Mb=Array(Rb);qa<xc;++qa)Rb=N[qa],Rb.index=qa,"object"!==typeof Rb.source&&(Rb.source=wb(dd,Rb.source)),"object"!==typeof Rb.target&&(Rb.target=wb(dd,Rb.target)),Mb[Rb.source.index]=(Mb[Rb.source.index]||0)+
1,Mb[Rb.target.index]=(Mb[Rb.target.index]||0)+1;qa=0;for(oc=Array(xc);qa<xc;++qa)Rb=N[qa],oc[qa]=Mb[Rb.source.index]/(Mb[Rb.source.index]+Mb[Rb.target.index]);jb=Array(xc);Ma();W=Array(xc);Pa()}}function Ma(){if(Ea)for(var Rb=0,xc=N.length;Rb<xc;++Rb)jb[Rb]=+vb(N[Rb],Rb,N)}function Pa(){if(Ea)for(var Rb=0,xc=N.length;Rb<xc;++Rb)W[Rb]=+Ub(N[Rb],Rb,N)}var Ya=Za,vb=function(Rb){return 1/Math.min(Mb[Rb.source.index],Mb[Rb.target.index])},jb,Ub=Vb(30),W,Ea,Mb,oc,$b,Nb=1;null==N&&(N=[]);la.initialize=
function(Rb,xc){Ea=Rb;$b=xc;wa()};la.links=function(Rb){return arguments.length?(N=Rb,wa(),la):N};la.id=function(Rb){return arguments.length?(Ya=Rb,la):Ya};la.iterations=function(Rb){return arguments.length?(Nb=+Rb,la):Nb};la.strength=function(Rb){return arguments.length?(vb="function"===typeof Rb?Rb:Vb(+Rb),Ma(),la):vb};la.distance=function(Rb){return arguments.length?(Ub="function"===typeof Rb?Rb:Vb(+Rb),Pa(),la):Ub};return la},x:function(N){function la(jb){for(var Ub=0,W=Pa.length,Ea;Ub<W;++Ub)Ea=
Pa[Ub],Ea.vx+=(vb[Ub]-Ea.x)*Ya[Ub]*jb}function wa(){if(Pa){var jb,Ub=Pa.length;Ya=Array(Ub);vb=Array(Ub);for(jb=0;jb<Ub;++jb)Ya[jb]=isNaN(vb[jb]=+N(Pa[jb],jb,Pa))?0:+Ma(Pa[jb],jb,Pa)}}var Ma=Vb(.1),Pa,Ya,vb;"function"!==typeof N&&(N=Vb(null==N?0:+N));la.initialize=function(jb){Pa=jb;wa()};la.strength=function(jb){return arguments.length?(Ma="function"===typeof jb?jb:Vb(+jb),wa(),la):Ma};la.x=function(jb){return arguments.length?(N="function"===typeof jb?jb:Vb(+jb),wa(),la):N};return la},y:function(N){function la(jb){for(var Ub=
0,W=Pa.length,Ea;Ub<W;++Ub)Ea=Pa[Ub],Ea.vy+=(vb[Ub]-Ea.y)*Ya[Ub]*jb}function wa(){if(Pa){var jb,Ub=Pa.length;Ya=Array(Ub);vb=Array(Ub);for(jb=0;jb<Ub;++jb)Ya[jb]=isNaN(vb[jb]=+N(Pa[jb],jb,Pa))?0:+Ma(Pa[jb],jb,Pa)}}var Ma=Vb(.1),Pa,Ya,vb;"function"!==typeof N&&(N=Vb(null==N?0:+N));la.initialize=function(jb){Pa=jb;wa()};la.strength=function(jb){return arguments.length?(Ma="function"===typeof jb?jb:Vb(+jb),wa(),la):Ma};la.y=function(jb){return arguments.length?(N="function"===typeof jb?jb:Vb(+jb),wa(),
la):N};return la}},F=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],U=["static","iterations"],sa=["x","y","vx","vy"];Qb.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number","default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},
{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30,expr:!0},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",
type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number","default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":sa}]};ia.inherits(Qb,
h.Transform,{transform(N,la){var wa=this.value,Ma=la.changed(la.ADD_REM),Pa=N.modified(F),Ya=N.iterations||300;wa?(Ma&&(la.modifies("index"),wa.nodes(la.source)),(Pa||la.changed(la.MOD))&&Z(wa,N,0,la)):(this.value=wa=T(la.source,N),wa.on("tick",eb(la.dataflow,this)),N.static||(Ma=!0,wa.tick()),la.modifies("index"));if(Pa||Ma||N.modified(U)||la.changed()&&N.restart)if(wa.alpha(Math.max(wa.alpha(),N.alpha||1)).alphaDecay(1-Math.pow(wa.alphaMin(),1/Ya)),N.static)for(wa.stop();0<=--Ya;)wa.tick();else if(wa.stopped()&&
wa.restart(),!Ma)return la.StopPropagation;return this.finish(N,la)},finish(N,la){const wa=la.dataflow;for(let jb=this._argops,Ub=0,W=jb.length,Ea;Ub<W;++Ub)if(Ea=jb[Ub],"forces"===Ea.name&&"link"===Ea.op._argval.force)for(var Ma=Ea.op._argops,Pa=0,Ya=Ma.length,vb;Pa<Ya;++Pa)if("links"===Ma[Pa].name&&(vb=Ma[Pa].op.source)){wa.pulse(vb,wa.changeset().reflow());break}return la.reflow(N.modified()).modifies(sa)}});u.force=Qb})};
shadow$provide[40]=function(Eb,ob,Dc,Wa){(function(u,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,ob(29),ob(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],h):(u="undefined"!==typeof globalThis?globalThis:u||self,h(u.vega={},u.vega,u.vega))})(this,function(u,h,ia){function ab(qa,Db,Ua){const yb={};qa.each(Hb=>{const Ob=Hb.data;Ua(Ob)&&(yb[Db(Ob)]=Hb)});qa.lookup=yb;return qa}function zb(qa,Db){return qa.parent===Db.parent?1:2}function Yb(qa,Db){return qa+
Db.x}function ac(qa,Db){return Math.max(qa,Db.y)}function Xb(qa){for(var Db;Db=qa.children;)qa=Db[0];return qa}function mc(qa){for(var Db;Db=qa.children;)qa=Db[Db.length-1];return qa}function Cb(qa){var Db=0,Ua=qa.children,yb=Ua&&Ua.length;if(yb)for(;0<=--yb;)Db+=Ua[yb].value;else Db=1;qa.value=Db}function Vb(qa,Db){qa instanceof Map?(qa=[void 0,qa],void 0===Db&&(Db=Ba)):void 0===Db&&(Db=jc);qa=new ub(qa);for(var Ua,yb=[qa],Hb,Ob,Zb,ic;Ua=yb.pop();)if((Ob=Db(Ua.data))&&(ic=(Ob=Array.from(Ob)).length))for(Ua.children=
Ob,Zb=ic-1;0<=Zb;--Zb)yb.push(Hb=Ob[Zb]=new ub(Ob[Zb])),Hb.parent=Ua,Hb.depth=Ua.depth+1;return qa.eachBefore(wb)}function jc(qa){return qa.children}function Ba(qa){return Array.isArray(qa)?qa[1]:null}function Za(qa){void 0!==qa.data.value&&(qa.value=qa.data.value);qa.data=qa.data.data}function wb(qa){var Db=0;do qa.height=Db;while((qa=qa.parent)&&qa.height<++Db)}function ub(qa){this.data=qa;this.depth=this.height=0;this.parent=null}function sb(qa){if("function"!==typeof qa)throw Error();return qa}
function xb(){return 0}function hb(qa){return function(){return qa}}function ec(){let qa=1;return()=>(qa=(1664525*qa+1013904223)%4294967296)/4294967296}function ra(qa,Db){var Ua=qa.r-Db.r,yb=Db.x-qa.x;qa=Db.y-qa.y;return 0>Ua||Ua*Ua<yb*yb+qa*qa}function fa(qa,Db){var Ua=qa.r-Db.r+1E-9*Math.max(qa.r,Db.r,1),yb=Db.x-qa.x;qa=Db.y-qa.y;return 0<Ua&&Ua*Ua>yb*yb+qa*qa}function za(qa,Db){for(var Ua=0;Ua<Db.length;++Ua)if(!fa(qa,Db[Ua]))return!1;return!0}function Ra(qa,Db){var Ua=qa.x,yb=qa.y;qa=qa.r;var Hb=
Db.x,Ob=Db.y;Db=Db.r;var Zb=Hb-Ua,ic=Ob-yb,Bc=Db-qa,jd=Math.sqrt(Zb*Zb+ic*ic);return{x:(Ua+Hb+Zb/jd*Bc)/2,y:(yb+Ob+ic/jd*Bc)/2,r:(jd+qa+Db)/2}}function Xa(qa,Db,Ua){var yb=qa.x,Hb=qa.y;qa=qa.r;var Ob=Db.x,Zb=Db.y,ic=Db.r,Bc=Ua.x,jd=Ua.y,Vc=Ua.r;Ua=yb-Ob;Db=yb-Bc;var ma=Hb-Zb,Ha=Hb-jd,gb=ic-qa,Q=Vc-qa,t=yb*yb+Hb*Hb-qa*qa;Zb=t-Ob*Ob-Zb*Zb+ic*ic;jd=t-Bc*Bc-jd*jd+Vc*Vc;Bc=Db*ma-Ua*Ha;Ob=(ma*jd-Ha*Zb)/(2*Bc)-yb;ma=(Ha*gb-ma*Q)/Bc;Ha=(Db*Zb-Ua*jd)/(2*Bc)-Hb;Ua=(Ua*Q-Db*gb)/Bc;Db=ma*ma+Ua*Ua-1;gb=2*(qa+
Ob*ma+Ha*Ua);qa=Ob*Ob+Ha*Ha-qa*qa;qa=-(1E-6<Math.abs(Db)?(gb+Math.sqrt(gb*gb-4*Db*qa))/(2*Db):qa/gb);return{x:yb+Ob+ma*qa,y:Hb+Ha+Ua*qa,r:qa}}function Ia(qa,Db,Ua){var yb=qa.x-Db.x,Hb=qa.y-Db.y,Ob=yb*yb+Hb*Hb;if(Ob){var Zb=Db.r+Ua.r;Zb*=Zb;var ic=qa.r+Ua.r;ic*=ic;if(Zb>ic){var Bc=(Ob+ic-Zb)/(2*Ob);Zb=Math.sqrt(Math.max(0,ic/Ob-Bc*Bc));Ua.x=qa.x-Bc*yb-Zb*Hb;Ua.y=qa.y-Bc*Hb+Zb*yb}else Bc=(Ob+Zb-ic)/(2*Ob),Zb=Math.sqrt(Math.max(0,Zb/Ob-Bc*Bc)),Ua.x=Db.x+Bc*yb-Zb*Hb,Ua.y=Db.y+Bc*Hb+Zb*yb}else Ua.x=Db.x+
Ua.r,Ua.y=Db.y}function ib(qa,Db){var Ua=qa.r+Db.r-1E-6,yb=Db.x-qa.x;qa=Db.y-qa.y;return 0<Ua&&Ua*Ua>yb*yb+qa*qa}function bb(qa){var Db=qa._,Ua=qa.next._,yb=Db.r+Ua.r;qa=(Db.x*Ua.r+Ua.x*Db.r)/yb;Db=(Db.y*Ua.r+Ua.y*Db.r)/yb;return qa*qa+Db*Db}function tb(qa){this._=qa;this.previous=this.next=null}function Qb(qa,Db){if(!(yb=(qa="object"===typeof qa&&"length"in qa?qa:Array.from(qa)).length))return 0;var Ua,yb;var Hb=qa[0];Hb.x=0;Hb.y=0;if(!(1<yb))return Hb.r;var Ob=qa[1];Hb.x=-Ob.r;Ob.x=Hb.r;Ob.y=0;
if(!(2<yb))return Hb.r+Ob.r;Ia(Ob,Hb,Ua=qa[2]);Hb=new tb(Hb);Ob=new tb(Ob);Ua=new tb(Ua);Hb.next=Ua.previous=Ob;Ob.next=Hb.previous=Ua;Ua.next=Ob.previous=Hb;var Zb=3;a:for(;Zb<yb;++Zb){Ia(Hb._,Ob._,Ua=qa[Zb]);Ua=new tb(Ua);var ic=Ob.next;var Bc=Hb.previous;var jd=Ob._.r;var Vc=Hb._.r;do if(jd<=Vc){if(ib(ic._,Ua._)){Ob=ic;Hb.next=Ob;Ob.previous=Hb;--Zb;continue a}jd+=ic._.r;ic=ic.next}else{if(ib(Bc._,Ua._)){Hb=Bc;Hb.next=Ob;Ob.previous=Hb;--Zb;continue a}Vc+=Bc._.r;Bc=Bc.previous}while(ic!==Bc.next);
Ua.previous=Hb;Ua.next=Ob;Hb.next=Ob.previous=Ob=Ua;for(ic=bb(Hb);(Ua=Ua.next)!==Ob;)(Bc=bb(Ua))<ic&&(Hb=Ua,ic=Bc);Ob=Hb.next}Hb=[Ob._];for(Ua=Ob;(Ua=Ua.next)!==Ob;)Hb.push(Ua._);Ob=0;Hb=Array.from(Hb);for(Ua=Hb.length;Ua;)ic=Db()*Ua--|0,Zb=Hb[Ua],Hb[Ua]=Hb[ic],Hb[ic]=Zb;Hb=(Db=Hb).length;Ua=[];for(var ma;Ob<Hb;)if(Zb=Db[Ob],ma&&fa(ma,Zb))++Ob;else{a:if(ma=Ua,za(Zb,ma))ma=[Zb];else{for(Ua=0;Ua<ma.length;++Ua)if(ra(Zb,ma[Ua])&&za(Ra(ma[Ua],Zb),ma)){ma=[ma[Ua],Zb];break a}for(Ua=0;Ua<ma.length-1;++Ua)for(Ob=
Ua+1;Ob<ma.length;++Ob)if(ra(Ra(ma[Ua],ma[Ob]),Zb)&&ra(Ra(ma[Ua],Zb),ma[Ob])&&ra(Ra(ma[Ob],Zb),ma[Ua])&&za(Xa(ma[Ua],ma[Ob],Zb),ma)){ma=[ma[Ua],ma[Ob],Zb];break a}throw Error();}a:{ma=Ua=ma;switch(ma.length){case 1:ma=ma[0];ma={x:ma.x,y:ma.y,r:ma.r};break a;case 2:ma=Ra(ma[0],ma[1]);break a;case 3:ma=Xa(ma[0],ma[1],ma[2]);break a}ma=void 0}Ob=0}Ua=ma;for(Zb=0;Zb<yb;++Zb)Hb=qa[Zb],Hb.x-=Ua.x,Hb.y-=Ua.y;return Ua.r}function eb(qa){return Math.sqrt(qa.value)}function T(qa){return function(Db){Db.children||
(Db.r=Math.max(0,+qa(Db)||0))}}function Z(qa,Db,Ua){return function(yb){if(Hb=yb.children){var Hb,Ob,Zb=Hb.length,ic=qa(yb)*Db||0;if(ic)for(Ob=0;Ob<Zb;++Ob)Hb[Ob].r+=ic;var Bc=Qb(Hb,Ua);if(ic)for(Ob=0;Ob<Zb;++Ob)Hb[Ob].r-=ic;yb.r=Bc+ic}}}function ca(qa){return function(Db){var Ua=Db.parent;Db.r*=qa;Ua&&(Db.x=Ua.x+qa*Db.x,Db.y=Ua.y+qa*Db.y)}}function ha(qa){qa.x0=Math.round(qa.x0);qa.y0=Math.round(qa.y0);qa.x1=Math.round(qa.x1);qa.y1=Math.round(qa.y1)}function La(qa,Db,Ua,yb,Hb){var Ob=qa.children,
Zb=-1,ic=Ob.length;for(yb=qa.value&&(yb-Db)/qa.value;++Zb<ic;)qa=Ob[Zb],qa.y0=Ua,qa.y1=Hb,qa.x0=Db,qa.x1=Db+=qa.value*yb}function oa(qa){return qa.id}function pa(qa){return qa.parentId}function m(){function qa(Hb){var Ob=Array.from(Hb),Zb=Db,ic=Ua,Bc,jd,Vc=new Map;if(null!=yb){const ba=Ob.map((Da,Sa)=>{Da=yb(Da,Sa,Hb);Da=`${Da}`;Sa=Da.length;L(Da,Sa-1)&&!L(Da,Sa-2)&&(Da=Da.slice(0,-1));return"/"===Da[0]?Da:`/${Da}`}),xa=ba.map(D);Zb=(new Set(ba)).add("");for(gb of xa)Zb.has(gb)||(Zb.add(gb),ba.push(gb),
xa.push(D(gb)),Ob.push(Ea));Zb=(Da,Sa)=>ba[Sa];ic=(Da,Sa)=>xa[Sa]}var ma=0;for(Bc=Ob.length;ma<Bc;++ma){var Ha=Ob[ma];var gb=Ob[ma]=new ub(Ha);if(null!=(jd=Zb(Ha,ma,Hb))&&(jd+="")){var Q=gb.id=jd;Vc.set(Q,Vc.has(Q)?W:gb)}null!=(jd=ic(Ha,ma,Hb))&&(jd+="")&&(gb.parent=jd)}for(ma=0;ma<Bc;++ma)if(gb=Ob[ma],jd=gb.parent){Zb=Vc.get(jd);if(!Zb)throw Error("missing: "+jd);if(Zb===W)throw Error("ambiguous: "+jd);Zb.children?Zb.children.push(gb):Zb.children=[gb];gb.parent=Zb}else{if(t)throw Error("multiple roots");
var t=gb}if(!t)throw Error("no root");if(null!=yb){for(;t.data===Ea&&1===t.children.length;)t=t.children[0],--Bc;for(jd=Ob.length-1;0<=jd;--jd){gb=Ob[jd];if(gb.data!==Ea)break;gb.data=null}}t.parent=Ub;t.eachBefore(function(ba){ba.depth=ba.parent.depth+1;--Bc}).eachBefore(wb);t.parent=null;if(0<Bc)throw Error("cycle");return t}var Db=oa,Ua=pa,yb;qa.id=function(Hb){return arguments.length?(Db=null==Hb?null:sb(Hb),qa):Db};qa.parentId=function(Hb){return arguments.length?(Ua=null==Hb?null:sb(Hb),qa):
Ua};qa.path=function(Hb){return arguments.length?(yb=null==Hb?null:sb(Hb),qa):yb};return qa}function D(qa){let Db=qa.length;if(2>Db)return"";for(;1<--Db&&!L(qa,Db););return qa.slice(0,Db)}function L(qa,Db){if("/"===qa[Db]){let Ua=0;for(;0<Db&&"\\"===qa[--Db];)++Ua;if(0===(Ua&1))return!0}return!1}function w(qa,Db){return qa.parent===Db.parent?1:2}function P(qa){var Db=qa.children;return Db?Db[0]:qa.t}function A(qa){var Db=qa.children;return Db?Db[Db.length-1]:qa.t}function V(qa,Db){this._=qa;this.A=
this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=Db}function G(qa){qa=new V(qa,0);for(var Db,Ua=[qa],yb,Hb,Ob;Db=Ua.pop();)if(Hb=Db._.children)for(Db.children=Array(yb=Hb.length),Ob=yb-1;0<=Ob;--Ob)Ua.push(yb=Db.children[Ob]=new V(Hb[Ob],Ob)),yb.parent=Db;(qa.parent=new V(null,0)).children=[qa];return qa}function x(qa,Db,Ua,yb,Hb){var Ob=qa.children,Zb=-1,ic=Ob.length;for(Hb=qa.value&&(Hb-Ua)/qa.value;++Zb<ic;)qa=Ob[Zb],qa.x0=Db,qa.x1=yb,qa.y0=Ua,qa.y1=Ua+=
qa.value*Hb}function z(qa,Db,Ua,yb,Hb,Ob){for(var Zb=[],ic=Db.children,Bc,jd,Vc=Bc=0,ma=ic.length,Ha,gb=Db.value,Q,t,ba,xa,Da,Sa;Bc<ma;){Db=Hb-Ua;Ha=Ob-yb;do Q=ic[Vc++].value;while(!Q&&Vc<ma);t=ba=Q;Sa=Math.max(Ha/Db,Db/Ha)/(gb*qa);xa=Q*Q*Sa;for(Da=Math.max(ba/xa,xa/t);Vc<ma;++Vc){Q+=jd=ic[Vc].value;jd<t&&(t=jd);jd>ba&&(ba=jd);xa=Q*Q*Sa;xa=Math.max(ba/xa,xa/t);if(xa>Da){Q-=jd;break}Da=xa}Zb.push(Bc={value:Q,dice:Db<Ha,children:ic.slice(Bc,Vc)});Bc.dice?La(Bc,Ua,yb,Hb,gb?yb+=Ha*Q/gb:Ob):x(Bc,Ua,yb,
gb?Ua+=Db*Q/gb:Hb,Ob);gb-=Q;Bc=Vc}return Zb}function F(){function qa(Ha){Ha.x0=Ha.y0=0;Ha.x1=Hb;Ha.y1=Ob;Ha.eachBefore(Db);Zb=[0];yb&&Ha.eachBefore(ha);return Ha}function Db(Ha){var gb=Zb[Ha.depth],Q=Ha.x0+gb,t=Ha.y0+gb,ba=Ha.x1-gb,xa=Ha.y1-gb;ba<Q&&(Q=ba=(Q+ba)/2);xa<t&&(t=xa=(t+xa)/2);Ha.x0=Q;Ha.y0=t;Ha.x1=ba;Ha.y1=xa;Ha.children&&(gb=Zb[Ha.depth+1]=ic(Ha)/2,Q+=ma(Ha)-gb,t+=Bc(Ha)-gb,ba-=jd(Ha)-gb,xa-=Vc(Ha)-gb,ba<Q&&(Q=ba=(Q+ba)/2),xa<t&&(t=xa=(t+xa)/2),Ua(Ha,Q,t,ba,xa))}var Ua=oc,yb=!1,Hb=1,Ob=
1,Zb=[0],ic=xb,Bc=xb,jd=xb,Vc=xb,ma=xb;qa.round=function(Ha){return arguments.length?(yb=!!Ha,qa):yb};qa.size=function(Ha){return arguments.length?(Hb=+Ha[0],Ob=+Ha[1],qa):[Hb,Ob]};qa.tile=function(Ha){return arguments.length?(Ua=sb(Ha),qa):Ua};qa.padding=function(Ha){return arguments.length?qa.paddingInner(Ha).paddingOuter(Ha):qa.paddingInner()};qa.paddingInner=function(Ha){return arguments.length?(ic="function"===typeof Ha?Ha:hb(+Ha),qa):ic};qa.paddingOuter=function(Ha){return arguments.length?
qa.paddingTop(Ha).paddingRight(Ha).paddingBottom(Ha).paddingLeft(Ha):qa.paddingTop()};qa.paddingTop=function(Ha){return arguments.length?(Bc="function"===typeof Ha?Ha:hb(+Ha),qa):Bc};qa.paddingRight=function(Ha){return arguments.length?(jd="function"===typeof Ha?Ha:hb(+Ha),qa):jd};qa.paddingBottom=function(Ha){return arguments.length?(Vc="function"===typeof Ha?Ha:hb(+Ha),qa):Vc};qa.paddingLeft=function(Ha){return arguments.length?(ma="function"===typeof Ha?Ha:hb(+Ha),qa):ma};return qa}function U(qa){h.Transform.call(this,
null,qa)}function sa(){function qa(Hb,Ob){if(Ob>=Ua.length)return Hb;const Zb=Hb.length,ic=Ua[Ob++],Bc={},jd={};let Vc=-1,ma,Ha,gb;for(;++Vc<Zb;)ma=ic(Ha=Hb[Vc])+"",(gb=Bc[ma])?gb.push(Ha):Bc[ma]=[Ha];for(ma in Bc)jd[ma]=qa(Bc[ma],Ob);return jd}function Db(Hb,Ob){if(++Ob>Ua.length)return Hb;const Zb=[];for(const ic in Hb)Zb.push({key:ic,values:Db(Hb[ic],Ob)});return Zb}const Ua=[],yb={entries:Hb=>Db(qa(Hb,0),0),key:Hb=>(Ua.push(Hb),yb)};return yb}function N(qa){h.Transform.call(this,null,qa)}function la(qa,
Db,Ua){for(let yb,Hb=0,Ob=Db.length;Hb<Ob;++Hb)if(yb=Db[Hb],yb in Ua)qa[yb](Ua[yb])}function wa(qa){N.call(this,qa)}function Ma(qa){N.call(this,qa)}function Pa(qa){h.Transform.call(this,null,qa)}function Ya(qa){N.call(this,qa)}function vb(qa){h.Transform.call(this,[],qa)}function jb(qa){N.call(this,qa)}ub.prototype=Vb.prototype={constructor:ub,count:function(){return this.eachAfter(Cb)},each:function(qa,Db){let Ua=-1;for(const yb of this)qa.call(Db,yb,++Ua,this);return this},eachAfter:function(qa,
Db){for(var Ua,yb=[this],Hb=[],Ob,Zb,ic=-1;Ua=yb.pop();)if(Hb.push(Ua),Ua=Ua.children)for(Ob=0,Zb=Ua.length;Ob<Zb;++Ob)yb.push(Ua[Ob]);for(;Ua=Hb.pop();)qa.call(Db,Ua,++ic,this);return this},eachBefore:function(qa,Db){for(var Ua,yb=[this],Hb,Ob=-1;Ua=yb.pop();)if(qa.call(Db,Ua,++Ob,this),Ua=Ua.children)for(Hb=Ua.length-1;0<=Hb;--Hb)yb.push(Ua[Hb]);return this},find:function(qa,Db){let Ua=-1;for(const yb of this)if(qa.call(Db,yb,++Ua,this))return yb},sum:function(qa){return this.eachAfter(function(Db){for(var Ua=
+qa(Db.data)||0,yb=Db.children,Hb=yb&&yb.length;0<=--Hb;)Ua+=yb[Hb].value;Db.value=Ua})},sort:function(qa){return this.eachBefore(function(Db){Db.children&&Db.children.sort(qa)})},path:function(qa){var Db=this;var Ua=Db;var yb=qa;if(Ua!==yb){var Hb=Ua.ancestors(),Ob=yb.ancestors(),Zb=null;Ua=Hb.pop();for(yb=Ob.pop();Ua===yb;)Zb=Ua,Ua=Hb.pop(),yb=Ob.pop();Ua=Zb}for(yb=[Db];Db!==Ua;)Db=Db.parent,yb.push(Db);for(Db=yb.length;qa!==Ua;)yb.splice(Db,0,qa),qa=qa.parent;return yb},ancestors:function(){for(var qa=
this,Db=[qa];qa=qa.parent;)Db.push(qa);return Db},descendants:function(){return Array.from(this)},leaves:function(){var qa=[];this.eachBefore(function(Db){Db.children||qa.push(Db)});return qa},links:function(){var qa=this,Db=[];qa.each(function(Ua){Ua!==qa&&Db.push({source:Ua.parent,target:Ua})});return Db},copy:function(){return Vb(this).eachBefore(Za)},[Symbol.iterator]:function*(){var qa,Db=[this],Ua;do{var yb=Db.reverse();for(Db=[];qa=yb.pop();)if(yield qa,qa=qa.children){var Hb=0;for(Ua=qa.length;Hb<
Ua;++Hb)Db.push(qa[Hb])}}while(Db.length)}};var Ub={depth:-1},W={},Ea={};V.prototype=Object.create(ub.prototype);var Mb=(1+Math.sqrt(5))/2,oc=function Ua(Db){function yb(Hb,Ob,Zb,ic,Bc){z(Db,Hb,Ob,Zb,ic,Bc)}yb.ratio=function(Hb){return Ua(1<(Hb=+Hb)?Hb:1)};return yb}(Mb);Mb=function yb(Ua){function Hb(Ob,Zb,ic,Bc,jd){if((Vc=Ob._squarify)&&Vc.ratio===Ua)for(var Vc,ma,Ha,gb=-1,Q,t=Vc.length,ba=Ob.value;++gb<t;){Ob=Vc[gb];ma=Ob.children;Ha=Ob.value=0;for(Q=ma.length;Ha<Q;++Ha)Ob.value+=ma[Ha].value;
Ob.dice?La(Ob,Zb,ic,Bc,ba?ic+=(jd-ic)*Ob.value/ba:jd):x(Ob,Zb,ic,ba?Zb+=(Bc-Zb)*Ob.value/ba:Bc,jd);ba-=Ob.value}else Ob._squarify=Vc=z(Ua,Ob,Zb,ic,Bc,jd),Vc.ratio=Ua}Hb.ratio=function(Ob){return yb(1<(Ob=+Ob)?Ob:1)};return Hb}(Mb);U.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const $b=Ua=>Ua.values;ia.inherits(U,h.Transform,{transform(Ua,yb){yb.source||ia.error("Nest transform requires an upstream data source.");
var Hb=Ua.generate,Ob=Ua.modified(),Zb=yb.clone(),ic=this.value;if(!ic||Ob||yb.changed())ic&&ic.each(Bc=>{Bc.children&&h.isTuple(Bc.data)&&Zb.rem.push(Bc.data)}),this.value=ic=Vb({values:ia.array(Ua.keys).reduce((Bc,jd)=>{Bc.key(jd);return Bc},sa()).entries(Zb.source)},$b),Hb&&ic.each(Bc=>{Bc.children&&(Bc=h.ingest(Bc.data),Zb.add.push(Bc),Zb.source.push(Bc))}),ab(ic,h.tupleid,h.tupleid);Zb.source.root=ic;return Zb}});const Nb=(Ua,yb)=>Ua.parent===yb.parent?1:2;ia.inherits(N,h.Transform,{transform(Ua,
yb){yb.source&&yb.source.root||ia.error(this.constructor.name+" transform requires a backing tree data source.");const Hb=this.layout(Ua.method),Ob=this.fields,Zb=yb.source.root,ic=Ua.as||Ob;Ua.field?Zb.sum(Ua.field):Zb.count();Ua.sort&&Zb.sort(h.stableCompare(Ua.sort,Bc=>Bc.data));la(Hb,this.params,Ua);Hb.separation&&Hb.separation(!1!==Ua.separation?Nb:ia.one);try{this.value=Hb(Zb)}catch(Bc){ia.error(Bc)}Zb.each(Bc=>{const jd=Bc.data,Vc=Ob.length-1;for(let ma=0;ma<Vc;++ma)jd[ic[ma]]=Bc[Ob[ma]];jd[ic[Vc]]=
Bc.children?Bc.children.length:0});return yb.reflow(Ua.modified()).modifies(ic).modifies("leaf")}});var Rb=["x","y","r","depth","children"];wa.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Rb.length,"default":Rb}]};ia.inherits(wa,N,{layout:function(){function Ua(ic){const Bc=
ec();ic.x=Hb/2;ic.y=Ob/2;yb?ic.eachBefore(T(yb)).eachAfter(Z(Zb,.5,Bc)).eachBefore(ca(1)):ic.eachBefore(T(eb)).eachAfter(Z(xb,1,Bc)).eachAfter(Z(Zb,ic.r/Math.min(Hb,Ob),Bc)).eachBefore(ca(Math.min(Hb,Ob)/(2*ic.r)));return ic}var yb=null,Hb=1,Ob=1,Zb=xb;Ua.radius=function(ic){return arguments.length?(yb=null==ic?null:sb(ic),Ua):yb};Ua.size=function(ic){return arguments.length?(Hb=+ic[0],Ob=+ic[1],Ua):[Hb,Ob]};Ua.padding=function(ic){return arguments.length?(Zb="function"===typeof ic?ic:hb(+ic),Ua):
Zb};return Ua},params:["radius","size","padding"],fields:Rb});Rb="x0 y0 x1 y1 depth children".split(" ");Ma.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Rb.length,"default":Rb}]};ia.inherits(Ma,N,{layout:function(){function Ua(Bc){var jd=Bc.height+
1;Bc.x0=Bc.y0=Zb;Bc.x1=Hb;Bc.y1=Ob/jd;Bc.eachBefore(yb(Ob,jd));ic&&Bc.eachBefore(ha);return Bc}function yb(Bc,jd){return function(Vc){Vc.children&&La(Vc,Vc.x0,Bc*(Vc.depth+1)/jd,Vc.x1,Bc*(Vc.depth+2)/jd);var ma=Vc.x0,Ha=Vc.y0,gb=Vc.x1-Zb,Q=Vc.y1-Zb;gb<ma&&(ma=gb=(ma+gb)/2);Q<Ha&&(Ha=Q=(Ha+Q)/2);Vc.x0=ma;Vc.y0=Ha;Vc.x1=gb;Vc.y1=Q}}var Hb=1,Ob=1,Zb=0,ic=!1;Ua.round=function(Bc){return arguments.length?(ic=!!Bc,Ua):ic};Ua.size=function(Bc){return arguments.length?(Hb=+Bc[0],Ob=+Bc[1],Ua):[Hb,Ob]};Ua.padding=
function(Bc){return arguments.length?(Zb=+Bc,Ua):Zb};return Ua},params:["size","round","padding"],fields:Rb});Pa.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};ia.inherits(Pa,h.Transform,{transform(Ua,yb){yb.source||ia.error("Stratify transform requires an upstream data source.");let Hb=this.value;const Ob=Ua.modified(),Zb=yb.fork(yb.ALL).materialize(yb.SOURCE);yb=!Hb||Ob||yb.changed(yb.ADD_REM)||yb.modified(Ua.key.fields)||
yb.modified(Ua.parentKey.fields);Zb.source=Zb.source.slice();yb&&(Hb=Zb.source.length?ab(m().id(Ua.key).parentId(Ua.parentKey)(Zb.source),Ua.key,ia.truthy):ab(m()([{}]),Ua.key,Ua.key));Zb.source.root=this.value=Hb;return Zb}});const xc={tidy:function(){function Ua(Vc){var ma=G(Vc);ma.eachAfter(yb);ma.parent.m=-ma.z;ma.eachBefore(Hb);if(jd)Vc.eachBefore(Ob);else{var Ha=Vc,gb=Vc,Q=Vc;Vc.eachBefore(function(Da){Da.x<Ha.x&&(Ha=Da);Da.x>gb.x&&(gb=Da);Da.depth>Q.depth&&(Q=Da)});ma=Ha===gb?1:Zb(Ha,gb)/2;
var t=ma-Ha.x,ba=ic/(gb.x+ma+t),xa=Bc/(Q.depth||1);Vc.eachBefore(function(Da){Da.x=(Da.x+t)*ba;Da.y=Da.depth*xa})}return Vc}function yb(Vc){var ma=Vc.children,Ha=Vc.parent.children,gb=Vc.i?Ha[Vc.i-1]:null;if(ma){for(var Q=0,t=0,ba=Vc.children,xa=ba.length,Da;0<=--xa;)Da=ba[xa],Da.z+=Q,Da.m+=Q,Q+=Da.s+(t+=Da.c);ma=(ma[0].z+ma[ma.length-1].z)/2;gb?(Vc.z=gb.z+Zb(Vc._,gb._),Vc.m=Vc.z-ma):Vc.z=ma}else gb&&(Vc.z=gb.z+Zb(Vc._,gb._));ma=Vc.parent;Ha=Vc.parent.A||Ha[0];if(gb){t=Q=Vc;ba=Q.parent.children[0];
xa=Q.m;Da=t.m;for(var Sa=gb.m,kb=ba.m,Sb;gb=A(gb),Q=P(Q),gb&&Q;){ba=P(ba);t=A(t);t.a=Vc;Sb=gb.z+Sa-Q.z-xa+Zb(gb._,Q._);if(0<Sb){var Fb=gb.a.parent===Vc.parent?gb.a:Ha,Kb=Vc,Cc=Sb,Ec=Cc/(Kb.i-Fb.i);Kb.c-=Ec;Kb.s+=Cc;Fb.c+=Ec;Kb.z+=Cc;Kb.m+=Cc;xa+=Sb;Da+=Sb}Sa+=gb.m;xa+=Q.m;kb+=ba.m;Da+=t.m}gb&&!A(t)&&(t.t=gb,t.m+=Sa-Da);Q&&!P(ba)&&(ba.t=Q,ba.m+=xa-kb,Ha=Vc)}ma.A=Ha}function Hb(Vc){Vc._.x=Vc.z+Vc.parent.m;Vc.m+=Vc.parent.m}function Ob(Vc){Vc.x*=ic;Vc.y=Vc.depth*Bc}var Zb=w,ic=1,Bc=1,jd=null;Ua.separation=
function(Vc){return arguments.length?(Zb=Vc,Ua):Zb};Ua.size=function(Vc){return arguments.length?(jd=!1,ic=+Vc[0],Bc=+Vc[1],Ua):jd?null:[ic,Bc]};Ua.nodeSize=function(Vc){return arguments.length?(jd=!0,ic=+Vc[0],Bc=+Vc[1],Ua):jd?[ic,Bc]:null};return Ua},cluster:function(){function Ua(ic){var Bc,jd=0;ic.eachAfter(function(Q){var t=Q.children;if(t){var ba=t.reduce(Yb,0)/t.length;Q.x=ba;Q.y=1+t.reduce(ac,0)}else Q.x=Bc?jd+=yb(Q,Bc):0,Q.y=0,Bc=Q});var Vc=Xb(ic),ma=mc(ic),Ha=Vc.x-yb(Vc,ma)/2,gb=ma.x+yb(ma,
Vc)/2;return ic.eachAfter(Zb?function(Q){Q.x=(Q.x-ic.x)*Hb;Q.y=(ic.y-Q.y)*Ob}:function(Q){Q.x=(Q.x-Ha)/(gb-Ha)*Hb;Q.y=(1-(ic.y?Q.y/ic.y:1))*Ob})}var yb=zb,Hb=1,Ob=1,Zb=!1;Ua.separation=function(ic){return arguments.length?(yb=ic,Ua):yb};Ua.size=function(ic){return arguments.length?(Zb=!1,Hb=+ic[0],Ob=+ic[1],Ua):Zb?null:[Hb,Ob]};Ua.nodeSize=function(ic){return arguments.length?(Zb=!0,Hb=+ic[0],Ob=+ic[1],Ua):Zb?[Hb,Ob]:null};return Ua}};Rb=["x","y","depth","children"];Ya.Definition={type:"Tree",metadata:{tree:!0,
modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:Rb.length,"default":Rb}]};ia.inherits(Ya,N,{layout(Ua){Ua=Ua||"tidy";if(ia.hasOwnProperty(xc,Ua))return xc[Ua]();ia.error("Unrecognized Tree layout method: "+Ua)},params:["size",
"nodeSize"],fields:Rb});vb.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};ia.inherits(vb,h.Transform,{transform(Ua,yb){Ua=this.value;const Hb=yb.source&&yb.source.root,Ob=yb.fork(yb.NO_SOURCE),Zb={};Hb||ia.error("TreeLinks transform requires a tree data source.");yb.changed(yb.ADD_REM)?(Ob.rem=Ua,yb.visit(yb.SOURCE,ic=>Zb[h.tupleid(ic)]=1),Hb.each(ic=>{const Bc=ic.data;(ic=ic.parent&&ic.parent.data)&&Zb[h.tupleid(Bc)]&&Zb[h.tupleid(ic)]&&Ob.add.push(h.ingest({source:ic,
target:Bc}))}),this.value=Ob.add):yb.changed(yb.MOD)&&(yb.visit(yb.MOD,ic=>Zb[h.tupleid(ic)]=1),Ua.forEach(ic=>{(Zb[h.tupleid(ic.source)]||Zb[h.tupleid(ic.target)])&&Ob.mod.push(ic)}));return Ob}});const dd={binary:function(Ua,yb,Hb,Ob,Zb){function ic(gb,Q,t,ba,xa,Da,Sa){if(gb>=Q-1)gb=Bc[gb],gb.x0=ba,gb.y0=xa,gb.x1=Da,gb.y1=Sa;else{for(var kb=Ha[gb],Sb=t/2+kb,Fb=gb+1,Kb=Q-1;Fb<Kb;){var Cc=Fb+Kb>>>1;Ha[Cc]<Sb?Fb=Cc+1:Kb=Cc}Sb-Ha[Fb-1]<Ha[Fb]-Sb&&gb+1<Fb&&--Fb;kb=Ha[Fb]-kb;Sb=t-kb;Da-ba>Sa-xa?(t=t?
(ba*Sb+Da*kb)/t:Da,ic(gb,Fb,kb,ba,xa,t,Sa),ic(Fb,Q,Sb,t,xa,Da,Sa)):(t=t?(xa*Sb+Sa*kb)/t:Sa,ic(gb,Fb,kb,ba,xa,Da,t),ic(Fb,Q,Sb,ba,t,Da,Sa))}}var Bc=Ua.children,jd,Vc=Bc.length,ma,Ha=Array(Vc+1);for(Ha[0]=ma=jd=0;jd<Vc;++jd)Ha[jd+1]=ma+=Bc[jd].value;ic(0,Vc,Ua.value,yb,Hb,Ob,Zb)},dice:La,slice:x,slicedice:function(Ua,yb,Hb,Ob,Zb){(Ua.depth&1?x:La)(Ua,yb,Hb,Ob,Zb)},squarify:oc,resquarify:Mb};Mb="x0 y0 x1 y1 depth children".split(" ");jb.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",
type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number","default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",
type:"number","default":1.618033988749895},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Mb.length,"default":Mb}]};ia.inherits(jb,N,{layout(){const Ua=F();Ua.ratio=yb=>{const Hb=Ua.tile();Hb.ratio&&Ua.tile(Hb.ratio(yb))};Ua.method=yb=>{ia.hasOwnProperty(dd,yb)?Ua.tile(dd[yb]):ia.error("Unrecognized Treemap layout method: "+yb)};return Ua},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),
fields:Mb});u.nest=U;u.pack=wa;u.partition=Ma;u.stratify=Pa;u.tree=Ya;u.treelinks=vb;u.treemap=jb})};
shadow$provide[41]=function(Eb,ob,Dc,Wa){(function(u,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,ob(34),ob(32),ob(29),ob(21)):"function"===typeof define&&define.amd?define(["exports","vega-scenegraph","vega-canvas","vega-dataflow","vega-util"],h):(u="undefined"!==typeof globalThis?globalThis:u||self,h((u.vega=u.vega||{},u.vega.transforms={}),u.vega,u.vega,u.vega,u.vega))})(this,function(u,h,ia,ab,zb){function Yb(eb,T){const Z=eb.bitmap();(T||[]).forEach(ca=>Z.set(eb(ca.boundary[0]),eb(ca.boundary[3])));
return[Z,void 0]}function ac(eb,T,Z,ca,ha){const La=eb.width,oa=eb.height;ca=ca||ha;const pa=ia.canvas(La,oa).getContext("2d");var m=ia.canvas(La,oa).getContext("2d"),D=ca&&ia.canvas(La,oa).getContext("2d");Z.forEach(F=>Xb(pa,F,!1));Xb(m,T,!1);ca&&Xb(D,T,!0);T=new Uint32Array(pa.getImageData(0,0,La,oa).data.buffer);Z=new Uint32Array(m.getImageData(0,0,La,oa).data.buffer);D=ca&&new Uint32Array(D.getImageData(0,0,La,oa).data.buffer);m=eb.bitmap();const L=ca&&eb.bitmap();let w,P;let A,V,G,x;for(P=0;P<
oa;++P)for(w=0;w<La;++w){var z=P*La+w;V=T[z]&4278190080;x=Z[z]&4278190080;G=ca&&D[z]&4278190080;if(V||G||x)z=eb(w),A=eb(P),ha||!V&&!x||m.set(z,A),ca&&(V||G)&&L.set(z,A)}return[m,L]}function Xb(eb,T,Z){if(T.length){var ca=T[0].mark.marktype;"group"===ca?T.forEach(ha=>{ha.items.forEach(La=>Xb(eb,La.items,Z))}):h.Marks[ca].draw(eb,{items:Z?T.map(mc):T})}}function mc(eb){eb=ab.rederive(eb,{});return eb.stroke&&0!==eb.strokeOpacity||eb.fill&&0!==eb.fillOpacity?Object.assign({},eb,{strokeOpacity:1,stroke:"#000",
fillOpacity:0}):eb}function Cb(eb,T){const Z=new Uint32Array(~~((eb*T+32)/32));return{array:Z,get:(ca,ha)=>{ca=ha*eb+ca;return Z[ca>>>5]&1<<(ca&31)},set:(ca,ha)=>{ca=ha*eb+ca;Z[ca>>>5]|=1<<(ca&31)},clear:(ca,ha)=>{ca=ha*eb+ca;Z[ca>>>5]&=~(1<<(ca&31))},getRange:(ca,ha,La,oa)=>{let pa,m,D;for(;oa>=ha;--oa){var L=oa*eb+ca;pa=oa*eb+La;m=L>>>5;D=pa>>>5;if(m===D){if(Z[m]&ra[L&31]&fa[(pa&31)+1])return!0}else{if(Z[m]&ra[L&31]||Z[D]&fa[(pa&31)+1])return!0;for(L=m+1;L<D;++L)if(Z[L])return!0}}return!1},setRange:(ca,
ha,La,oa)=>{let pa,m,D;for(;ha<=oa;++ha){var L=ha*eb+ca;pa=ha*eb+La;m=L>>>5;D=pa>>>5;if(m===D)Z[m]|=ra[L&31]&fa[(pa&31)+1];else for(Z[m]|=ra[L&31],Z[D]|=fa[(pa&31)+1],L=m+1;L<D;++L)Z[L]|=4294967295}},clearRange:(ca,ha,La,oa)=>{let pa,m,D;for(;ha<=oa;++ha){var L=ha*eb+ca;pa=ha*eb+La;m=L>>>5;D=pa>>>5;if(m===D)Z[m]&=fa[L&31]|ra[(pa&31)+1];else for(Z[m]&=fa[L&31],Z[D]&=ra[(pa&31)+1],L=m+1;L<D;++L)Z[L]&=0}},outOfBounds:(ca,ha,La,oa)=>0>ca||0>ha||oa>=T||La>=eb}}function Vb(eb,T,Z){const ca=Math.max(1,Math.sqrt(eb*
T/1E6)),ha=~~((eb+2*Z+ca)/ca),La=~~((T+2*Z+ca)/ca),oa=pa=>~~((pa+Z)/ca);oa.invert=pa=>pa*ca-Z;oa.bitmap=()=>Cb(ha,La);oa.ratio=ca;oa.padding=Z;oa.width=eb;oa.height=T;return oa}function jc(eb,T,Z,ca,ha,La){Z/=2;return 0>eb-Z||eb+Z>ha||0>T-(Z=ca/2)||T+Z>La}function Ba(eb,T,Z,ca,ha,La,oa,pa){ha=ha*La/(2*ca);ca=eb(T-ha);T=eb(T+ha);ha=eb(Z-(La/=2));eb=eb(Z+La);return oa.outOfBounds(ca,ha,T,eb)||oa.getRange(ca,ha,T,eb)||pa&&pa.getRange(ca,ha,T,eb)}function Za(eb,T,Z,ca){const ha=eb.width,La=eb.height,
oa=T[0],pa=T[1],m=ca.length;return function(D){const L=D.boundary,w=D.datum.fontSize;if(0>L[2]||0>L[5]||L[0]>ha||L[3]>La)return!1;var P;let A=null!=(P=D.textWidth)?P:0,V;let G,x;let z;let F;let U,sa;for(let oc=0;oc<m;++oc){P=(Z[oc]&3)-1;V=(Z[oc]>>>2&3)-1;var N=0===P&&0===V||0>ca[oc];var la=P&&V?Math.SQRT1_2:1;G=0>ca[oc]?-1:1;x=L[1+P]+ca[oc]*P*la;F=L[4+V]+G*w*V/2+ca[oc]*V*la;la=F-w/2;z=F+w/2;var wa=eb(x);U=eb(la);sa=eb(z);if(!A){var Ma=wa;var Pa=U;var Ya=sa;var vb=oa,jb=pa,Ub=N;if(vb.outOfBounds(Ma,
Pa,wa,Ya)||(Ub&&jb||vb).getRange(Ma,Pa,wa,Ya))continue;else A=h.textMetrics.width(D.datum,D.datum.text)}Pa=x+G*A*P/2;x=Pa-A/2;Ma=Pa+A/2;wa=eb(x);Ya=eb(Ma);vb=wa;jb=Ya;Ub=U;var W=sa,Ea=oa,Mb=pa;if(!Ea.outOfBounds(vb,Ub,jb,W)&&!(N&&Mb||Ea).getRange(vb,Ub,jb,W))return D.x=P?0>P*G?Ma:x:Pa,D.y=V?0>V*G?z:la:F,D.align=Xa[P*G+1],D.baseline=Ia[V*G+1],oa.setRange(wa,U,Ya,sa),!0}return!1}}function wb(eb,T,Z,ca,ha,La,oa,pa,m,D,L){if(!eb.length)return eb;var w=Math.max(ca.length,ha.length);const P=ub(ca,w);ha=
sb(ha,w);const A=xb(eb[0].datum);var V="group"===A&&eb[0].datum.items[m].marktype;w="area"===V;const G=hb(A,V,pa,m),x=null===D||Infinity===D;V=w&&"naive"===L;let z=-1,F=-1;pa=eb.map(N=>{const la=x?h.textMetrics.width(N,N.text):void 0;z=Math.max(z,la);F=Math.max(F,N.fontSize);return{datum:N,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:G(N),textWidth:la}});D=null===D||Infinity===D?Math.max(z,F)+Math.max(...ca):D;T=Vb(T[0],T[1],D);if(!V){Z&&pa.sort((N,la)=>Z(N.datum,la.datum));var U=
!1;for(ca=0;ca<ha.length&&!U;++ca)U=5===ha[ca]||0>P[ca];eb=(A&&oa||w)&&eb.map(N=>N.datum);U=La.length||eb?ac(T,eb||[],La,U,w):Yb(T,oa&&pa)}const sa=w?bb[L](T,U,oa,m):Za(T,U,ha,P);pa.forEach(N=>N.opacity=+sa(N));return pa}function ub(eb,T){const Z=new Float64Array(T),ca=eb.length;for(let ha=0;ha<ca;++ha)Z[ha]=eb[ha]||0;for(eb=ca;eb<T;++eb)Z[eb]=Z[ca-1];return Z}function sb(eb,T){const Z=new Int8Array(T),ca=eb.length;for(let ha=0;ha<ca;++ha)Z[ha]|=ib[eb[ha]];for(eb=ca;eb<T;++eb)Z[eb]=Z[ca-1];return Z}
function xb(eb){return eb&&eb.mark&&eb.mark.marktype}function hb(eb,T,Z,ca){const ha=La=>[La.x,La.x,La.x,La.y,La.y,La.y];return eb?"line"===eb||"area"===eb?La=>ha(La.datum):"line"===T?La=>{La=La.datum.items[ca].items;return ha(La.length?La["start"===Z?0:La.length-1]:{x:NaN,y:NaN})}:La=>{La=La.datum.bounds;return[La.x1,(La.x1+La.x2)/2,La.x2,La.y1,(La.y1+La.y2)/2,La.y2]}:ha}function ec(eb){ab.Transform.call(this,null,eb)}const ra=new Uint32Array(33),fa=new Uint32Array(33);fa[0]=0;ra[0]=~fa[0];for(let eb=
1;32>=eb;++eb)fa[eb]=fa[eb-1]<<1|1,ra[eb]=~fa[eb];const za=[-1,-1,1,1],Ra=[-1,1,-1,1],Xa=["right","center","left"],Ia=["bottom","middle","top"],ib={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},bb={naive:function(eb,T,Z,ca){const ha=eb.width,La=eb.height;return function(oa){const pa=oa.datum.datum.items[ca].items,m=pa.length,D=oa.datum.fontSize,L=h.textMetrics.width(oa.datum,oa.datum.text);let w=0;let P,A,V,G,x;for(let F=0;F<m;++F){var z=pa[F].x;
A=pa[F].y;P=void 0===pa[F].x2?z:pa[F].x2;V=void 0===pa[F].y2?A:pa[F].y2;G=(z+P)/2;x=(A+V)/2;z=Math.abs(P-z+V-A);z>=w&&(w=z,oa.x=G,oa.y=x)}G=L/2;x=D/2;z=oa.x-G;P=oa.x+G;A=oa.y-x;V=oa.y+x;oa.align="center";0>z&&P<=ha?oa.align="left":0<=z&&ha<P&&(oa.align="right");oa.baseline="middle";0>A&&V<=La?oa.baseline="top":0<=A&&La<V&&(oa.baseline="bottom");return!0}},"reduced-search":function(eb,T,Z,ca){function ha(D,L,w,P,A){D=eb.invert(D);L=eb.invert(L);let V=w,G=oa,x;if(!jc(D,L,P,A,La,oa)&&!Ba(eb,D,L,A,P,
V,pa,m)&&!Ba(eb,D,L,A,P,A,pa,null)){for(;1<=G-V;)x=(V+G)/2,Ba(eb,D,L,A,P,x,pa,m)?G=x:V=x;if(V>w)return[D,L,V,!0]}}const La=eb.width,oa=eb.height,pa=T[0],m=T[1];return function(D){const L=D.datum.datum.items[ca].items,w=L.length,P=D.datum.fontSize,A=h.textMetrics.width(D.datum,D.datum.text);let V=Z?P:0,G=!1,x=!1,z=0;let F;let U;let sa,N,la,wa,Ma,Pa,Ya,vb;for(let Ea=0;Ea<w;++Ea){var jb=L[Ea].x;var Ub=L[Ea].y;F=void 0===L[Ea].x2?jb:L[Ea].x2;U=void 0===L[Ea].y2?Ub:L[Ea].y2;if(jb>F){var W=jb;jb=F;F=W}Ub>
U&&(W=Ub,Ub=U,U=W);N=eb(jb);wa=eb(F);la=~~((N+wa)/2);Ma=eb(Ub);Ya=eb(U);Pa=~~((Ma+Ya)/2);for(W=la;W>=N;--W)for(sa=Pa;sa>=Ma;--sa)(vb=ha(W,sa,V,A,P))&&([D.x,D.y,V,G]=vb);for(W=la;W<=wa;++W)for(sa=Pa;sa<=Ya;++sa)(vb=ha(W,sa,V,A,P))&&([D.x,D.y,V,G]=vb);G||Z||(W=Math.abs(F-jb+U-Ub),jb=(jb+F)/2,Ub=(Ub+U)/2,W>=z&&!jc(jb,Ub,A,P,La,oa)&&!Ba(eb,jb,Ub,P,A,P,pa,null)&&(z=W,D.x=jb,D.y=Ub,x=!0))}return G||x?(jb=A/2,Ub=P/2,pa.setRange(eb(D.x-jb),eb(D.y-Ub),eb(D.x+jb),eb(D.y+Ub)),D.align="center",D.baseline="middle",
!0):!1}},floodfill:function(eb,T,Z,ca){const ha=eb.width,La=eb.height,oa=T[0],pa=T[1],m=eb.bitmap();return function(D){const L=D.datum.datum.items[ca].items,w=L.length,P=D.datum.fontSize,A=h.textMetrics.width(D.datum,D.datum.text),V=[];let G=Z?P:0,x=!1,z=!1,F=0,U,sa,N,la,wa,Ma;var Pa;for(let jb=0;jb<w;++jb){U=L[jb].x;N=L[jb].y;sa=void 0===L[jb].x2?U:L[jb].x2;la=void 0===L[jb].y2?N:L[jb].y2;for(V.push([eb((U+sa)/2),eb((N+la)/2)]);V.length;)if([Ya,vb]=V.pop(),!(oa.get(Ya,vb)||pa.get(Ya,vb)||m.get(Ya,
vb))){m.set(Ya,vb);for(Pa=0;4>Pa;++Pa)wa=Ya+za[Pa],Ma=vb+Ra[Pa],m.outOfBounds(wa,Ma,wa,Ma)||V.push([wa,Ma]);wa=eb.invert(Ya);Ma=eb.invert(vb);var Ya=G;var vb=La;if(!jc(wa,Ma,A,P,ha,La)&&!Ba(eb,wa,Ma,P,A,Ya,oa,pa)&&!Ba(eb,wa,Ma,P,A,P,oa,null)){for(;1<=vb-Ya;)Pa=(Ya+vb)/2,Ba(eb,wa,Ma,P,A,Pa,oa,pa)?vb=Pa:Ya=Pa;Ya>G&&(D.x=wa,D.y=Ma,G=Ya,x=!0)}}x||Z||(Ya=Math.abs(sa-U+la-N),wa=(U+sa)/2,Ma=(N+la)/2,Ya>=F&&!jc(wa,Ma,A,P,ha,La)&&!Ba(eb,wa,Ma,P,A,P,oa,null)&&(F=Ya,D.x=wa,D.y=Ma,z=!0))}return x||z?(wa=A/2,
Ma=P/2,oa.setRange(eb(D.x-wa),eb(D.y-Ma),eb(D.x+wa),eb(D.y+Ma)),D.align="center",D.baseline="middle",!0):!1}}},tb=["x","y","opacity","align","baseline"],Qb="top-left left bottom-left top bottom top-right right bottom-right".split(" ");ec.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:Qb},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",
default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:tb.length,default:tb}]};zb.inherits(ec,ab.Transform,{transform(eb,T){function Z(La){La=eb[La];return zb.isFunction(La)&&T.modified(La.fields)}const ca=eb.modified();if(ca||T.changed(T.ADD_REM)||
Z("sort")){eb.size&&2===eb.size.length||zb.error("Size parameter should be specified as a [width, height] array.");var ha=eb.as||tb;wb(T.materialize(T.SOURCE).source||[],eb.size,eb.sort,zb.array(null==eb.offset?1:eb.offset),zb.array(eb.anchor||Qb),eb.avoidMarks||[],!1!==eb.avoidBaseMark,eb.lineAnchor||"end",eb.markIndex||0,void 0===eb.padding?0:eb.padding,eb.method||"naive").forEach(La=>{const oa=La.datum;oa[ha[0]]=La.x;oa[ha[1]]=La.y;oa[ha[2]]=La.opacity;oa[ha[3]]=La.align;oa[ha[4]]=La.baseline});
return T.reflow(ca).modifies(ha)}}});u.label=ec})};
shadow$provide[42]=function(Eb,ob,Dc,Wa){(function(u,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,ob(30),ob(29),ob(21)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],h):(u="undefined"!==typeof globalThis?globalThis:u||self,h(u.vega={},u.vega,u.vega,u.vega))})(this,function(u,h,ia,ab){function zb(mc,Cb){var Vb=[],jc=function(hb){return hb(ub)},Ba;if(null==Cb)Vb.push(mc);else{var Za={};var wb=0;for(Ba=mc.length;wb<Ba;++wb){var ub=mc[wb];
var sb=Cb.map(jc);var xb=Za[sb];xb||(Za[sb]=xb=[],xb.dims=sb,Vb.push(xb));xb.push(ub)}}return Vb}function Yb(mc){ia.Transform.call(this,null,mc)}function ac(mc){ia.Transform.call(this,null,mc)}Yb.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};ab.inherits(Yb,ia.Transform,{transform(mc,Cb){const Vb=
Cb.fork(Cb.NO_SOURCE|Cb.NO_FIELDS);if(!this.value||Cb.changed()||mc.modified()){Cb=Cb.materialize(Cb.SOURCE).source;Cb=zb(Cb,mc.groupby);const jc=(mc.groupby||[]).map(ab.accessorName),Ba=jc.length,Za=mc.as||[ab.accessorName(mc.x),ab.accessorName(mc.y)],wb=[];Cb.forEach(ub=>{h.regressionLoess(ub,mc.x,mc.y,mc.bandwidth||.3).forEach(sb=>{const xb={};for(let hb=0;hb<Ba;++hb)xb[jc[hb]]=ub.dims[hb];xb[Za[0]]=sb[0];xb[Za[1]]=sb[1];wb.push(ia.ingest(xb))})});this.value&&(Vb.rem=this.value);this.value=Vb.add=
Vb.source=wb}return Vb}});const Xb={constant:h.regressionConstant,linear:h.regressionLinear,log:h.regressionLog,exp:h.regressionExp,pow:h.regressionPow,quad:h.regressionQuad,poly:h.regressionPoly};ac.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(Xb)},{name:"order",type:"number","default":3},{name:"extent",
type:"number",array:!0,length:2},{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};ab.inherits(ac,ia.Transform,{transform(mc,Cb){const Vb=Cb.fork(Cb.NO_SOURCE|Cb.NO_FIELDS);if(!this.value||Cb.changed()||mc.modified()){var jc=Cb.materialize(Cb.SOURCE).source;jc=zb(jc,mc.groupby);const Ba=(mc.groupby||[]).map(ab.accessorName),Za=mc.method||"linear",wb=null==mc.order?3:mc.order,ub="poly"===Za?wb:"quad"===Za?2:1,sb=mc.as||[ab.accessorName(mc.x),ab.accessorName(mc.y)],xb=
Xb[Za],hb=[];let ec=mc.extent;ab.hasOwnProperty(Xb,Za)||ab.error("Invalid regression method: "+Za);null!=ec&&"log"===Za&&0>=ec[0]&&(Cb.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),ec=null);jc.forEach(ra=>{if(ra.length<=ub)Cb.dataflow.warn("Skipping regression with more parameters than data points.");else{var fa=xb(ra,mc.x,mc.y,wb);if(mc.params)hb.push(ia.ingest({keys:ra.dims,coef:fa.coef,rSquared:fa.rSquared}));else{var za=ec||ab.extent(ra,mc.x),Ra=Xa=>{const Ia={};
for(let ib=0;ib<Ba.length;++ib)Ia[Ba[ib]]=ra.dims[ib];Ia[sb[0]]=Xa[0];Ia[sb[1]]=Xa[1];hb.push(ia.ingest(Ia))};"linear"===Za||"constant"===Za?za.forEach(Xa=>Ra([Xa,fa.predict(Xa)])):h.sampleCurve(fa.predict,za,25,200).forEach(Ra)}}});this.value&&(Vb.rem=this.value);this.value=Vb.add=Vb.source=hb}return Vb}});u.loess=Yb;u.regression=ac})};
shadow$provide[43]=function(Eb,ob,Dc,Wa){(function(u,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,ob(29),ob(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],h):(u="undefined"!==typeof globalThis?globalThis:u||self,h((u.vega=u.vega||{},u.vega.transforms={}),u.vega,u.vega))})(this,function(u,h,ia){function ab(T,Z,ca,ha,La){let oa,pa;let m=Z[0],D=ha[0],L=0,w=0;D>m===D>-m?(oa=m,m=Z[++L]):(oa=D,D=ha[++w]);let P=0;if(L<T&&w<ca){if(D>m===D>-m){pa=m+oa;var A=
oa-(pa-m);m=Z[++L]}else pa=D+oa,A=oa-(pa-D),D=ha[++w];oa=pa;for(0!==A&&(La[P++]=A);L<T&&w<ca;)D>m===D>-m?(pa=oa+m,A=pa-oa,A=oa-(pa-A)+(m-A),m=Z[++L]):(pa=oa+D,A=pa-oa,A=oa-(pa-A)+(D-A),D=ha[++w]),oa=pa,0!==A&&(La[P++]=A)}for(;L<T;)pa=oa+m,A=pa-oa,A=oa-(pa-A)+(m-A),m=Z[++L],oa=pa,0!==A&&(La[P++]=A);for(;w<ca;)pa=oa+D,A=pa-oa,A=oa-(pa-A)+(D-A),D=ha[++w],oa=pa,0!==A&&(La[P++]=A);if(0!==oa||0===P)La[P++]=oa;return P}function zb(T,Z,ca,ha,La,oa){var pa=(Z-oa)*(ca-La),m=(T-La)*(ha-oa),D=pa-m;if(0===pa||
0===m||0<pa!==0<m)return D;pa=Math.abs(pa+m);if(Math.abs(D)>=3.3306690738754716E-16*pa)return D;{let x;D=T-La;const z=ca-La;m=Z-oa;const F=ha-oa;var L=D*F;var w=134217729*D;var P=w-(w-D);var A=D-P;w=134217729*F;w-=w-F;x=F-w;var V=A*x-(L-P*w-A*w-P*x);var G=m*z;w=134217729*m;P=w-(w-m);A=m-P;w=134217729*z;w-=w-z;x=z-w;w=A*x-(G-P*w-A*w-P*x);A=V-w;P=V-A;sb[0]=V-(A+P)+(P-w);V=L+A;P=V-L;L=L-(V-P)+(A-P);A=L-G;P=L-A;sb[1]=L-(A+P)+(P-G);G=V+A;P=G-V;sb[2]=V-(G-P)+(A-P);sb[3]=G;G=sb[0];for(L=1;4>L;L++)G+=sb[L];
L=2.2204460492503146E-16*pa;G>=L||-G>=L?ha=G:(P=T-D,T=T-(D+P)+(P-La),P=ca-z,ca=ca-(z+P)+(P-La),P=Z-m,Z=Z-(m+P)+(P-oa),P=ha-F,ha=ha-(F+P)+(P-oa),0===T&&0===Z&&0===ca&&0===ha?ha=G:(L=1.1093356479670487E-31*pa+3.3306690738754706E-16*Math.abs(G),G+=D*ha+F*T-(m*ca+z*Z),G>=L||-G>=L?ha=G:(L=T*F,w=134217729*T,P=w-(w-T),A=T-P,w=134217729*F,w-=w-F,x=F-w,V=A*x-(L-P*w-A*w-P*x),G=Z*z,w=134217729*Z,P=w-(w-Z),A=Z-P,w=134217729*z,w-=w-z,x=z-w,w=A*x-(G-P*w-A*w-P*x),A=V-w,P=V-A,ra[0]=V-(A+P)+(P-w),V=L+A,P=V-L,L=L-
(V-P)+(A-P),A=L-G,P=L-A,ra[1]=L-(A+P)+(P-G),G=V+A,P=G-V,ra[2]=V-(G-P)+(A-P),ra[3]=G,oa=ab(4,sb,4,ra,xb),L=D*ha,w=134217729*D,P=w-(w-D),A=D-P,w=134217729*ha,w-=w-ha,x=ha-w,V=A*x-(L-P*w-A*w-P*x),G=m*ca,w=134217729*m,P=w-(w-m),A=m-P,w=134217729*ca,w-=w-ca,x=ca-w,w=A*x-(G-P*w-A*w-P*x),A=V-w,P=V-A,ra[0]=V-(A+P)+(P-w),V=L+A,P=V-L,L=L-(V-P)+(A-P),A=L-G,P=L-A,ra[1]=L-(A+P)+(P-G),G=V+A,P=G-V,ra[2]=V-(G-P)+(A-P),ra[3]=G,oa=ab(oa,xb,4,ra,hb),L=T*ha,w=134217729*T,P=w-(w-T),A=T-P,w=134217729*ha,w-=w-ha,x=ha-w,
V=A*x-(L-P*w-A*w-P*x),G=Z*ca,w=134217729*Z,P=w-(w-Z),A=Z-P,w=134217729*ca,w-=w-ca,x=ca-w,w=A*x-(G-P*w-A*w-P*x),A=V-w,P=V-A,ra[0]=V-(A+P)+(P-w),V=L+A,P=V-L,L=L-(V-P)+(A-P),A=L-G,P=L-A,ra[1]=L-(A+P)+(P-G),G=V+A,P=G-V,ra[2]=V-(G-P)+(A-P),ra[3]=G,ha=ab(oa,hb,4,ra,ec),ha=ec[ha-1])))}return-ha}function Yb(T,Z,ca,ha){T-=ca;Z-=ha;return T*T+Z*Z}function ac(T,Z,ca,ha){if(20>=ha-ca)for(var La=ca+1;La<=ha;La++){for(var oa=T[La],pa=Z[oa],m=La-1;m>=ca&&Z[T[m]]>pa;)T[m+1]=T[m--];T[m+1]=oa}else{La=ca+1;oa=ha;Xb(T,
ca+ha>>1,La);Z[T[ca]]>Z[T[ha]]&&Xb(T,ca,ha);Z[T[La]]>Z[T[ha]]&&Xb(T,La,ha);Z[T[ca]]>Z[T[La]]&&Xb(T,ca,La);pa=T[La];for(m=Z[pa];;){do La++;while(Z[T[La]]<m);do oa--;while(Z[T[oa]]>m);if(oa<La)break;Xb(T,La,oa)}T[ca+1]=T[oa];T[oa]=pa;ha-La+1>=oa-ca?(ac(T,Z,La,ha),ac(T,Z,ca,oa-1)):(ac(T,Z,ca,oa-1),ac(T,Z,La,ha))}}function Xb(T,Z,ca){const ha=T[Z];T[Z]=T[ca];T[ca]=ha}function mc(T){return T[0]}function Cb(T){return T[1]}function Vb(T){return T[0]}function jc(T){return T[1]}function Ba(T){const {triangles:Z,
coords:ca}=T;for(T=0;T<Z.length;T+=3){const ha=2*Z[T],La=2*Z[T+1],oa=2*Z[T+2];if(1E-10<(ca[oa]-ca[ha])*(ca[La+1]-ca[ha+1])-(ca[La]-ca[ha])*(ca[oa+1]-ca[ha+1]))return!1}return!0}function Za(T,Z,ca){return[T+Math.sin(T+Z)*ca,Z+Math.cos(T-Z)*ca]}function*wb(T,Z,ca,ha){let La=0;for(const oa of T)yield Z.call(ha,oa,La,T),yield ca.call(ha,oa,La,T),++La}function ub(T){h.Transform.call(this,null,T)}const sb=new Float64Array(4),xb=new Float64Array(8),hb=new Float64Array(12),ec=new Float64Array(16),ra=new Float64Array(4),
fa=Math.pow(2,-52),za=new Uint32Array(512);class Ra{static from(T,Z=mc,ca=Cb){const ha=T.length,La=new Float64Array(2*ha);for(let oa=0;oa<ha;oa++){const pa=T[oa];La[2*oa]=Z(pa);La[2*oa+1]=ca(pa)}return new Ra(La)}constructor(T){const Z=T.length>>1;if(0<Z&&"number"!==typeof T[0])throw Error("Expected coords to contain numbers.");this.coords=T;T=Math.max(2*Z-5,0);this._triangles=new Uint32Array(3*T);this._halfedges=new Int32Array(3*T);this._hashSize=Math.ceil(Math.sqrt(Z));this._hullPrev=new Uint32Array(Z);
this._hullNext=new Uint32Array(Z);this._hullTri=new Uint32Array(Z);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(Z);this._dists=new Float64Array(Z);this.update()}update(){const {coords:T,_hullPrev:Z,_hullNext:ca,_hullTri:ha,_hullHash:La}=this;var oa=T.length>>1,pa=Infinity,m=Infinity,D=-Infinity,L=-Infinity;for(var w=0;w<oa;w++){var P=T[2*w];var A=T[2*w+1];P<pa&&(pa=P);A<m&&(m=A);P>D&&(D=P);A>L&&(L=A);this._ids[w]=w}D=(pa+D)/2;m=(m+L)/2;pa=Infinity;for(L=0;L<oa;L++)if(w=
Yb(D,m,T[2*L],T[2*L+1]),w<pa){var V=L;pa=w}m=T[2*V];L=T[2*V+1];pa=Infinity;for(D=0;D<oa;D++)if(D!==V&&(w=Yb(m,L,T[2*D],T[2*D+1]),w<pa&&0<w)){var G=D;pa=w}pa=T[2*G];D=T[2*G+1];A=Infinity;for(w=0;w<oa;w++)if(w!==V&&w!==G){P=pa-m;var x=D-L;var z=T[2*w]-m;var F=T[2*w+1]-L,U=P*P+x*x,sa=z*z+F*F,N=.5/(P*F-x*z);x=(F*U-x*sa)*N;P=(P*sa-z*U)*N;P=x*x+P*P;if(P<A){var la=w;A=P}}w=T[2*la];P=T[2*la+1];if(Infinity===A){for(V=0;V<oa;V++)this._dists[V]=T[2*V]-T[0]||T[2*V+1]-T[1];ac(this._ids,this._dists,0,oa-1);V=new Uint32Array(oa);
G=0;for(let wa=0,Ma=-Infinity;wa<oa;wa++)la=this._ids[wa],this._dists[la]>Ma&&(V[G++]=la,Ma=this._dists[la]);this.hull=V.subarray(0,G);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{0>zb(m,L,pa,D,w,P)&&(A=G,z=pa,U=D,G=la,pa=w,D=P,la=A,w=z,P=U);z=pa-m;A=D-L;U=w-m;F=P-L;sa=z*z+A*A;N=U*U+F*F;x=.5/(z*F-A*U);A=m+(F*sa-A*N)*x;z=L+(z*N-U*sa)*x;this._cx=A;this._cy=z;for(U=0;U<oa;U++)this._dists[U]=Yb(T[2*U],T[2*U+1],A,z);ac(this._ids,this._dists,0,oa-1);this._hullStart=V;oa=3;ca[V]=
Z[la]=G;ca[G]=Z[V]=la;ca[la]=Z[G]=V;ha[V]=0;ha[G]=1;ha[la]=2;La.fill(-1);La[this._hashKey(m,L)]=V;La[this._hashKey(pa,D)]=G;La[this._hashKey(w,P)]=la;this.trianglesLen=0;this._addTriangle(V,G,la,-1,-1,-1);for(let wa=0,Ma,Pa;wa<this._ids.length;wa++){m=this._ids[wa];L=T[2*m];pa=T[2*m+1];if(0<wa&&Math.abs(L-Ma)<=fa&&Math.abs(pa-Pa)<=fa)continue;Ma=L;Pa=pa;if(m===V||m===G||m===la)continue;D=0;for(let vb=0,jb=this._hashKey(L,pa);vb<this._hashSize&&(D=La[(jb+vb)%this._hashSize],-1===D||D===ca[D]);vb++);
w=D=Z[D];let Ya;for(;Ya=ca[w],0<=zb(L,pa,T[2*w],T[2*w+1],T[2*Ya],T[2*Ya+1]);)if(w=Ya,w===D){w=-1;break}if(-1!==w){P=this._addTriangle(w,m,ca[w],-1,-1,ha[w]);ha[m]=this._legalize(P+2);ha[w]=P;oa++;for(A=ca[w];Ya=ca[A],0>zb(L,pa,T[2*A],T[2*A+1],T[2*Ya],T[2*Ya+1]);)P=this._addTriangle(A,m,Ya,ha[m],-1,ha[A]),ha[m]=this._legalize(P+2),ca[A]=A,oa--,A=Ya;if(w===D)for(;Ya=Z[w],0>zb(L,pa,T[2*Ya],T[2*Ya+1],T[2*w],T[2*w+1]);)P=this._addTriangle(Ya,m,w,-1,ha[w],ha[Ya]),this._legalize(P+2),ha[Ya]=P,ca[w]=w,oa--,
w=Ya;this._hullStart=Z[m]=w;ca[w]=Z[A]=m;ca[m]=A;La[this._hashKey(L,pa)]=m;La[this._hashKey(T[2*w],T[2*w+1])]=w}}this.hull=new Uint32Array(oa);for(let wa=0,Ma=this._hullStart;wa<oa;wa++)this.hull[wa]=Ma,Ma=ca[Ma];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(T,Z){var ca=Math;T-=this._cx;Z-=this._cy;T/=Math.abs(T)+Math.abs(Z);return ca.floor.call(ca,(0<Z?3-T:1+T)/4*this._hashSize)%this._hashSize}_legalize(T){const {_triangles:Z,
_halfedges:ca,coords:ha}=this;let La=0;for(var oa;;){const A=ca[T];var pa=T-T%3;oa=pa+(T+2)%3;if(-1===A){if(0===La)break;T=za[--La];continue}const V=A-A%3,G=V+(A+2)%3;var m=Z[oa],D=Z[T],L=Z[pa+(T+1)%3];pa=Z[G];var w=ha[2*pa],P=ha[2*pa+1];const x=ha[2*m]-w,z=ha[2*m+1]-P,F=ha[2*D]-w;D=ha[2*D+1]-P;w=ha[2*L]-w;P=ha[2*L+1]-P;L=F*F+D*D;const U=w*w+P*P;if(0>x*(D*U-L*P)-z*(F*U-L*w)+(x*x+z*z)*(F*P-D*w)){Z[T]=pa;Z[A]=m;m=ca[G];if(-1===m){pa=this._hullStart;do{if(this._hullTri[pa]===G){this._hullTri[pa]=T;break}pa=
this._hullPrev[pa]}while(pa!==this._hullStart)}this._link(T,m);this._link(A,ca[oa]);this._link(oa,G);oa=V+(A+1)%3;La<za.length&&(za[La++]=oa)}else{if(0===La)break;T=za[--La]}}return oa}_link(T,Z){this._halfedges[T]=Z;-1!==Z&&(this._halfedges[Z]=T)}_addTriangle(T,Z,ca,ha,La,oa){const pa=this.trianglesLen;this._triangles[pa]=T;this._triangles[pa+1]=Z;this._triangles[pa+2]=ca;this._link(pa,ha);this._link(pa+1,La);this._link(pa+2,oa);this.trianglesLen+=3;return pa}}class Xa{constructor(){this._x0=this._y0=
this._x1=this._y1=null;this._=""}moveTo(T,Z){this._+=`M${this._x0=this._x1=+T},${this._y0=this._y1=+Z}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(T,Z){this._+=`L${this._x1=+T},${this._y1=+Z}`}arc(T,Z,ca){T=+T;Z=+Z;ca=+ca;const ha=T+ca,La=Z;if(0>ca)throw Error("negative radius");if(null===this._x1)this._+=`M${ha},${La}`;else if(1E-6<Math.abs(this._x1-ha)||1E-6<Math.abs(this._y1-La))this._+="L"+ha+","+La;ca&&(this._+=`A${ca},${ca},0,1,1,${T-ca},${Z}A${ca},${ca},0,1,1,${this._x1=
ha},${this._y1=La}`)}rect(T,Z,ca,ha){this._+=`M${this._x0=this._x1=+T},${this._y0=this._y1=+Z}h${+ca}v${+ha}h${-ca}Z`}value(){return this._||null}}class Ia{constructor(){this._=[]}moveTo(T,Z){this._.push([T,Z])}closePath(){this._.push(this._[0].slice())}lineTo(T,Z){this._.push([T,Z])}value(){return this._.length?this._:null}}let ib=class{constructor(T,[Z,ca,ha,La]=[0,0,960,500]){if(!((ha=+ha)>=(Z=+Z)&&(La=+La)>=(ca=+ca)))throw Error("invalid bounds");this.delaunay=T;this._circumcenters=new Float64Array(2*
T.points.length);this.vectors=new Float64Array(2*T.points.length);this.xmax=ha;this.xmin=Z;this.ymax=La;this.ymin=ca;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const {delaunay:{points:T,hull:Z,triangles:ca},vectors:ha}=this;var La,oa=this.circumcenters=this._circumcenters.subarray(0,ca.length/3*2);for(let x=0,z=0,F=ca.length,U,sa;x<F;x+=3,z+=2){var pa=2*ca[x],m=2*ca[x+1],D=2*ca[x+2],L=T[pa];pa=T[pa+1];var w=T[D],P=T[D+1];D=T[m]-L;const N=T[m+1]-pa;m=w-L;const la=
P-pa;var A=2*(D*la-N*m);if(1E-9>Math.abs(A)){if(void 0===V){var V=La=0;for(var G of Z)V+=T[2*G],La+=T[2*G+1];V/=Z.length;La/=Z.length}D=1E9*Math.sign((V-L)*la-(La-pa)*m);U=(L+w)/2-D*la;sa=(pa+P)/2+D*m}else w=1/A,P=D*D+N*N,A=m*m+la*la,U=L+(la*P-N*A)*w,sa=pa+(D*A-m*P)*w;oa[z]=U;oa[z+1]=sa}V=Z[Z.length-1];oa=4*V;G=T[2*V];D=T[2*V+1];ha.fill(0);for(m=0;m<Z.length;++m)V=Z[m],La=oa,L=G,pa=D,oa=4*V,G=T[2*V],D=T[2*V+1],ha[La+2]=ha[oa]=pa-D,ha[La+3]=ha[oa+1]=G-L}render(T){const Z=null==T?T=new Xa:void 0,{delaunay:{halfedges:ca,
inedges:ha,hull:La},circumcenters:oa,vectors:pa}=this;if(1>=La.length)return null;for(let P=0,A=ca.length;P<A;++P){var m=ca[P];if(!(m<P)){var D=2*Math.floor(P/3);m=2*Math.floor(m/3);this._renderSegment(oa[D],oa[D+1],oa[m],oa[m+1],T)}}D=La[La.length-1];for(m=0;m<La.length;++m){var L=D;D=La[m];var w=2*Math.floor(ha[D]/3);const P=oa[w];w=oa[w+1];L*=4;(L=this._project(P,w,pa[L+2],pa[L+3]))&&this._renderSegment(P,w,L[0],L[1],T)}return Z&&Z.value()}renderBounds(T){const Z=null==T?T=new Xa:void 0;T.rect(this.xmin,
this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return Z&&Z.value()}renderCell(T,Z){const ca=null==Z?Z=new Xa:void 0;T=this._clip(T);if(null!==T&&T.length){Z.moveTo(T[0],T[1]);for(var ha=T.length;T[0]===T[ha-2]&&T[1]===T[ha-1]&&1<ha;)ha-=2;for(let La=2;La<ha;La+=2)T[La]===T[La-2]&&T[La+1]===T[La-1]||Z.lineTo(T[La],T[La+1]);Z.closePath();return ca&&ca.value()}}*cellPolygons(){var {delaunay:{points:T}}=this;for(let Z=0,ca=T.length/2;Z<ca;++Z)if(T=this.cellPolygon(Z))T.index=Z,yield T}cellPolygon(T){const Z=
new Ia;this.renderCell(T,Z);return Z.value()}_renderSegment(T,Z,ca,ha,La){const oa=this._regioncode(T,Z),pa=this._regioncode(ca,ha);if(0===oa&&0===pa)La.moveTo(T,Z),La.lineTo(ca,ha);else if(T=this._clipSegment(T,Z,ca,ha,oa,pa))La.moveTo(T[0],T[1]),La.lineTo(T[2],T[3])}contains(T,Z,ca){return(Z=+Z,Z!==Z)||(ca=+ca,ca!==ca)?!1:this.delaunay._step(T,Z,ca)===T}*neighbors(T){const Z=this._clip(T);if(Z)for(const ca of this.delaunay.neighbors(T))if(T=this._clip(ca))a:for(let ha=0,La=Z.length;ha<La;ha+=2)for(let oa=
0,pa=T.length;oa<pa;oa+=2)if(Z[ha]===T[oa]&&Z[ha+1]===T[oa+1]&&Z[(ha+2)%La]===T[(oa+pa-2)%pa]&&Z[(ha+3)%La]===T[(oa+pa-1)%pa]){yield ca;break a}}_cell(T){const {circumcenters:Z,delaunay:{inedges:ca,halfedges:ha,triangles:La}}=this,oa=ca[T];if(-1===oa)return null;const pa=[];let m=oa;do{const D=Math.floor(m/3);pa.push(Z[2*D],Z[2*D+1]);m=2===m%3?m-2:m+1;if(La[m]!==T)break;m=ha[m]}while(m!==oa&&-1!==m);return pa}_clip(T){if(0===T&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,
this.xmin,this.ymax,this.xmin,this.ymin];const Z=this._cell(T);if(null===Z)return null;const {vectors:ca}=this,ha=4*T;return this._simplify(ca[ha]||ca[ha+1]?this._clipInfinite(T,Z,ca[ha],ca[ha+1],ca[ha+2],ca[ha+3]):this._clipFinite(T,Z))}_clipFinite(T,Z){const ca=Z.length;let ha=null;let La=Z[ca-2],oa=Z[ca-1];let pa=this._regioncode(La,oa),m=0;for(let P=0;P<ca;P+=2){var D=La;var L=oa;La=Z[P];oa=Z[P+1];var w=pa;pa=this._regioncode(La,oa);if(0===w&&0===pa)m=0,ha?ha.push(La,oa):ha=[La,oa];else{let A,
V;if(0===w){if(null===(D=this._clipSegment(D,L,La,oa,w,pa)))continue;[L,w,A,V]=D}else{if(null===(D=this._clipSegment(La,oa,D,L,pa,w)))continue;[A,V,L,w]=D;D=m;m=this._edgecode(L,w);D&&m&&this._edge(T,D,m,ha,ha.length);ha?ha.push(L,w):ha=[L,w]}D=m;m=this._edgecode(A,V);D&&m&&this._edge(T,D,m,ha,ha.length);ha?ha.push(A,V):ha=[A,V]}}if(ha)D=m,m=this._edgecode(ha[0],ha[1]),D&&m&&this._edge(T,D,m,ha,ha.length);else if(this.contains(T,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,
this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return ha}_clipSegment(T,Z,ca,ha,La,oa){const pa=La<oa;for(pa&&([T,Z,ca,ha,La,oa]=[ca,ha,T,Z,oa,La]);;){if(0===La&&0===oa)return pa?[ca,ha,T,Z]:[T,Z,ca,ha];if(La&oa)return null;var m=void 0;let D;m=La||oa;m&8?(m=T+(ca-T)*(this.ymax-Z)/(ha-Z),D=this.ymax):m&4?(m=T+(ca-T)*(this.ymin-Z)/(ha-Z),D=this.ymin):m&2?(D=Z+(ha-Z)*(this.xmax-T)/(ca-T),m=this.xmax):(D=Z+(ha-Z)*(this.xmin-T)/(ca-T),m=this.xmin);La?(T=m,Z=D,La=this._regioncode(T,Z)):(ca=
m,ha=D,oa=this._regioncode(ca,ha))}}_clipInfinite(T,Z,ca,ha,La,oa){Z=Array.from(Z);let pa;(pa=this._project(Z[0],Z[1],ca,ha))&&Z.unshift(pa[0],pa[1]);(pa=this._project(Z[Z.length-2],Z[Z.length-1],La,oa))&&Z.push(pa[0],pa[1]);if(Z=this._clipFinite(T,Z))for(let m=0,D=Z.length,L,w=this._edgecode(Z[D-2],Z[D-1]);m<D;m+=2)L=w,w=this._edgecode(Z[m],Z[m+1]),L&&w&&(m=this._edge(T,L,w,Z,m),D=Z.length);else this.contains(T,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(Z=[this.xmin,this.ymin,this.xmax,this.ymin,
this.xmax,this.ymax,this.xmin,this.ymax]);return Z}_edge(T,Z,ca,ha,La){for(;Z!==ca;){let oa,pa;switch(Z){case 5:Z=4;continue;case 4:Z=6;oa=this.xmax;pa=this.ymin;break;case 6:Z=2;continue;case 2:Z=10;oa=this.xmax;pa=this.ymax;break;case 10:Z=8;continue;case 8:Z=9;oa=this.xmin;pa=this.ymax;break;case 9:Z=1;continue;case 1:Z=5,oa=this.xmin,pa=this.ymin}ha[La]===oa&&ha[La+1]===pa||!this.contains(T,oa,pa)||(ha.splice(La,0,oa,pa),La+=2)}return La}_project(T,Z,ca,ha){let La=Infinity,oa,pa,m;if(0>ha){if(Z<=
this.ymin)return null;(oa=(this.ymin-Z)/ha)<La&&(m=this.ymin,pa=T+(La=oa)*ca)}else if(0<ha){if(Z>=this.ymax)return null;(oa=(this.ymax-Z)/ha)<La&&(m=this.ymax,pa=T+(La=oa)*ca)}if(0<ca){if(T>=this.xmax)return null;(oa=(this.xmax-T)/ca)<La&&(pa=this.xmax,m=Z+oa*ha)}else if(0>ca){if(T<=this.xmin)return null;(oa=(this.xmin-T)/ca)<La&&(pa=this.xmin,m=Z+oa*ha)}return[pa,m]}_edgecode(T,Z){return(T===this.xmin?1:T===this.xmax?2:0)|(Z===this.ymin?4:Z===this.ymax?8:0)}_regioncode(T,Z){return(T<this.xmin?1:
T>this.xmax?2:0)|(Z<this.ymin?4:Z>this.ymax?8:0)}_simplify(T){if(T&&4<T.length){for(let Z=0;Z<T.length;Z+=2){const ca=(Z+2)%T.length,ha=(Z+4)%T.length;if(T[Z]===T[ca]&&T[ca]===T[ha]||T[Z+1]===T[ca+1]&&T[ca+1]===T[ha+1])T.splice(ca,2),Z-=2}T.length||(T=null)}return T}};const bb=2*Math.PI,tb=Math.pow;class Qb{static from(T,Z=Vb,ca=jc,ha){if("length"in T){const La=T.length,oa=new Float64Array(2*La);for(let pa=0;pa<La;++pa){const m=T[pa];oa[2*pa]=Z.call(ha,m,pa,T);oa[2*pa+1]=ca.call(ha,m,pa,T)}T=oa}else T=
Float64Array.from(wb(T,Z,ca,ha));return new Qb(T)}constructor(T){this._delaunator=new Ra(T);this.inedges=new Int32Array(T.length/2);this._hullIndex=new Int32Array(T.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();this._init();return this}_init(){var T=this._delaunator;const Z=this.points;if(T.hull&&2<T.hull.length&&Ba(T)){this.collinear=Int32Array.from({length:Z.length/2},(pa,m)=>m).sort((pa,m)=>Z[2*pa]-Z[2*m]||Z[2*pa+1]-Z[2*m+1]);T=this.collinear[0];
var ca=this.collinear[this.collinear.length-1];T=[Z[2*T],Z[2*T+1],Z[2*ca],Z[2*ca+1]];T=1E-8*Math.hypot(T[3]-T[1],T[2]-T[0]);for(let pa=0,m=Z.length/2;pa<m;++pa)ca=Za(Z[2*pa],Z[2*pa+1],T),Z[2*pa]=ca[0],Z[2*pa+1]=ca[1];this._delaunator=new Ra(Z)}else delete this.collinear;T=this.halfedges=this._delaunator.halfedges;ca=this.hull=this._delaunator.hull;const ha=this.triangles=this._delaunator.triangles,La=this.inedges.fill(-1),oa=this._hullIndex.fill(-1);for(let pa=0,m=T.length;pa<m;++pa){const D=ha[2===
pa%3?pa-2:pa+1];if(-1===T[pa]||-1===La[D])La[D]=pa}for(let pa=0,m=ca.length;pa<m;++pa)oa[ca[pa]]=pa;2>=ca.length&&0<ca.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=ca[0],La[ca[0]]=1,2===ca.length&&(La[ca[1]]=0,this.triangles[1]=ca[1],this.triangles[2]=ca[1]))}voronoi(T){return new ib(this,T)}*neighbors(T){const {inedges:Z,hull:ca,_hullIndex:ha,halfedges:La,triangles:oa,collinear:pa}=this;if(pa){var m=pa.indexOf(T);0<m&&(yield pa[m-
1]);m<pa.length-1&&(yield pa[m+1])}else{var D=Z[T];if(-1!==D){var L=D;do{yield(m=oa[L]);L=2===L%3?L-2:L+1;if(oa[L]!==T)break;L=La[L];if(-1===L){T=ca[(ha[T]+1)%ca.length];T!==m&&(yield T);break}}while(L!==D)}}}find(T,Z,ca=0){if((T=+T,T!==T)||(Z=+Z,Z!==Z))return-1;const ha=ca;let La;for(;0<=(La=this._step(ca,T,Z))&&La!==ca&&La!==ha;)ca=La;return La}_step(T,Z,ca){const {inedges:ha,hull:La,_hullIndex:oa,halfedges:pa,triangles:m,points:D}=this;if(-1===ha[T]||!D.length)return(T+1)%(D.length>>1);let L=T,
w=tb(Z-D[2*T],2)+tb(ca-D[2*T+1],2);const P=ha[T];let A=P;do{let V=m[A];const G=tb(Z-D[2*V],2)+tb(ca-D[2*V+1],2);G<w&&(w=G,L=V);A=2===A%3?A-2:A+1;if(m[A]!==T)break;A=pa[A];if(-1===A){A=La[(oa[T]+1)%La.length];if(A!==V&&tb(Z-D[2*A],2)+tb(ca-D[2*A+1],2)<w)return A;break}}while(A!==P);return L}render(T){const Z=null==T?T=new Xa:void 0,{points:ca,halfedges:ha,triangles:La}=this;for(let pa=0,m=ha.length;pa<m;++pa){var oa=ha[pa];if(oa<pa)continue;const D=2*La[pa];oa=2*La[oa];T.moveTo(ca[D],ca[D+1]);T.lineTo(ca[oa],
ca[oa+1])}this.renderHull(T);return Z&&Z.value()}renderPoints(T,Z){void 0!==Z||T&&"function"===typeof T.moveTo||(Z=T,T=null);Z=void 0==Z?2:+Z;const ca=null==T?T=new Xa:void 0,{points:ha}=this;for(let La=0,oa=ha.length;La<oa;La+=2){const pa=ha[La],m=ha[La+1];T.moveTo(pa+Z,m);T.arc(pa,m,Z,0,bb)}return ca&&ca.value()}renderHull(T){const Z=null==T?T=new Xa:void 0,{hull:ca,points:ha}=this;var La=2*ca[0];const oa=ca.length;T.moveTo(ha[La],ha[La+1]);for(La=1;La<oa;++La){const pa=2*ca[La];T.lineTo(ha[pa],
ha[pa+1])}T.closePath();return Z&&Z.value()}hullPolygon(){const T=new Ia;this.renderHull(T);return T.value()}renderTriangle(T,Z){const ca=null==Z?Z=new Xa:void 0,{points:ha,triangles:La}=this,oa=2*La[T*=3],pa=2*La[T+1];T=2*La[T+2];Z.moveTo(ha[oa],ha[oa+1]);Z.lineTo(ha[pa],ha[pa+1]);Z.lineTo(ha[T],ha[T+1]);Z.closePath();return ca&&ca.value()}*trianglePolygons(){const {triangles:T}=this;for(let Z=0,ca=T.length/3;Z<ca;++Z)yield this.trianglePolygon(Z)}trianglePolygon(T){const Z=new Ia;this.renderTriangle(T,
Z);return Z.value()}}ub.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string","default":"path"}]};const eb=[-1E5,-1E5,1E5,1E5];ia.inherits(ub,h.Transform,{transform(T,Z){const ca=T.as||"path",ha=Z.source;if(!ha||!ha.length)return Z;
var La=T.size;La=La?[0,0,La[0],La[1]]:(La=T.extent)?[La[0][0],La[0][1],La[1][0],La[1][1]]:eb;La=this.value=Qb.from(ha,T.x,T.y).voronoi(La);for(let m=0,D=ha.length;m<D;++m){var oa=La.cellPolygon(m),pa=ha[m];if(!oa||2===oa.length&&oa[0][0]===oa[1][0]&&oa[0][1]===oa[1][1])oa=null;else{const L=oa[0][0],w=oa[0][1];let P=oa.length-1;for(;oa[P][0]===L&&oa[P][1]===w;--P);oa="M"+oa.slice(0,P+1).join("L")+"Z"}pa[ca]=oa}return Z.reflow(T.modified()).modifies(ca)}});u.voronoi=ub})};
shadow$provide[44]=function(Eb,ob,Dc,Wa){(function(u,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,ob(32),ob(29),ob(21),ob(33),ob(30)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),h):(u="undefined"!==typeof globalThis?globalThis:u||self,h((u.vega=u.vega||{},u.vega.transforms={}),u.vega,u.vega,u.vega,u.vega,u.vega))})(this,function(u,h,ia,ab,zb,Yb){function ac(){function xb(T){T.width=T.height=1;var Z=Math.sqrt(T.getContext("2d").getImageData(0,
0,1,1).data.length>>2);T.width=2048/Z;T.height=2048/Z;T=T.getContext("2d");T.fillStyle=T.strokeStyle="red";T.textAlign="center";return{context:T,ratio:Z}}function hb(T,Z,ca){for(var ha=Z.x,La=Z.y,oa=Math.hypot(ec[0],ec[1]),pa=bb(ec),m=.5>Qb()?1:-1,D=-m,L,w;L=pa(D+=m);){w=~~L[0];L=~~L[1];if(Math.min(Math.abs(w),Math.abs(L))>=oa)break;Z.x=ha+w;Z.y=La+L;if(!(0>Z.x+Z.x0||0>Z.y+Z.y0||Z.x+Z.x1>ec[0]||Z.y+Z.y1>ec[1])){if(!(w=!ca)){a:{w=ec[0];w>>=5;L=Z.sprite;var P=Z.width>>5;var A=Z.x-(P<<4);for(var V=A&
127,G=32-V,x=Z.y1-Z.y0,z=(Z.y+Z.y0)*w+(A>>5),F=0;F<x;F++){for(var U=A=0;U<=P;U++)if((A<<G|(U<P?(A=L[F*P+U])>>>V:0))&T[z+U]){w=!0;break a}z+=w}w=!1}w=!w}if(w&&(!ca||Z.x+Z.x1>ca[0].x&&Z.x+Z.x0<ca[1].x&&Z.y+Z.y1>ca[0].y&&Z.y+Z.y0<ca[1].y)){ca=Z.sprite;ha=Z.width>>5;La=ec[0]>>5;D=Z.x-(ha<<4);oa=D&127;pa=32-oa;m=Z.y1-Z.y0;D=(Z.y+Z.y0)*La+(D>>5);for(L=0;L<m;L++){for(P=w=0;P<=ha;P++)T[D+P]=T[D+P]|w<<pa|(P<ha?(w=ca[L*ha+P])>>>oa:0);D+=La}Z.sprite=null;return!0}}}return!1}var ec=[256,256],ra,fa,za,Ra,Xa,Ia,
ib,bb=Cb,tb=[],Qb=Math.random,eb={layout:function(){for(var T=xb(h.canvas()),Z=Vb((ec[0]>>5)*ec[1]),ca=null,ha=tb.length,La=-1,oa=[],pa=tb.map(D=>({text:ra(D),font:fa(D),style:Ra(D),weight:Xa(D),rotate:Ia(D),size:~~(za(D)+1E-14),padding:ib(D),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:D})).sort((D,L)=>L.size-D.size);++La<ha;){var m=pa[La];m.x=ec[0]*(Qb()+.5)>>1;m.y=ec[1]*(Qb()+.5)>>1;Xb(T,m,pa,La);m.hasText&&hb(Z,m,ca)&&(oa.push(m),ca?mc(ca,m):ca=[{x:m.x+m.x0,y:m.y+m.y0},{x:m.x+
m.x1,y:m.y+m.y1}],m.x-=ec[0]>>1,m.y-=ec[1]>>1)}return oa},words:function(T){return arguments.length?(tb=T,eb):tb},size:function(T){return arguments.length?(ec=[+T[0],+T[1]],eb):ec},font:function(T){return arguments.length?(fa=jc(T),eb):fa},fontStyle:function(T){return arguments.length?(Ra=jc(T),eb):Ra},fontWeight:function(T){return arguments.length?(Xa=jc(T),eb):Xa},rotate:function(T){return arguments.length?(Ia=jc(T),eb):Ia},text:function(T){return arguments.length?(ra=jc(T),eb):ra},spiral:function(T){return arguments.length?
(bb=wb[T]||T,eb):bb},fontSize:function(T){return arguments.length?(za=jc(T),eb):za},padding:function(T){return arguments.length?(ib=jc(T),eb):ib},random:function(T){return arguments.length?(Qb=T,eb):Qb}};return eb}function Xb(xb,hb,ec,ra){if(!hb.sprite){var fa=xb.context,za=xb.ratio;fa.clearRect(0,0,2048/za,2048/za);var Ra=xb=0,Xa=0,Ia=ec.length;for(--ra;++ra<Ia;){hb=ec[ra];fa.save();fa.font=hb.style+" "+hb.weight+" "+~~((hb.size+1)/za)+"px "+hb.font;var ib=fa.measureText(hb.text+"m").width*za;var bb=
hb.size<<1;if(hb.rotate){var tb=Math.sin(hb.rotate*Za),Qb=Math.cos(hb.rotate*Za),eb=ib*Qb,T=ib*tb;Qb*=bb;ib=bb*tb;ib=Math.max(Math.abs(eb+ib),Math.abs(eb-ib))+31>>5<<5;bb=~~Math.max(Math.abs(T+Qb),Math.abs(T-Qb))}else ib=ib+31>>5<<5;bb>Xa&&(Xa=bb);2048<=xb+ib&&(xb=0,Ra+=Xa,Xa=0);if(2048<=Ra+bb)break;fa.translate((xb+(ib>>1))/za,(Ra+(bb>>1))/za);hb.rotate&&fa.rotate(hb.rotate*Za);fa.fillText(hb.text,0,0);hb.padding&&(fa.lineWidth=2*hb.padding,fa.strokeText(hb.text,0,0));fa.restore();hb.width=ib;hb.height=
bb;hb.xoff=xb;hb.yoff=Ra;hb.x1=ib>>1;hb.y1=bb>>1;hb.x0=-hb.x1;hb.y0=-hb.y1;hb.hasText=!0;xb+=ib}Ia=fa.getImageData(0,0,2048/za,2048/za).data;for(eb=[];0<=--ra;)if(hb=ec[ra],hb.hasText){ib=hb.width;fa=ib>>5;bb=hb.y1-hb.y0;for(za=0;za<bb*fa;za++)eb[za]=0;xb=hb.xoff;if(null==xb)break;Ra=hb.yoff;T=0;tb=-1;for(Xa=0;Xa<bb;Xa++){for(za=0;za<ib;za++)Qb=Ia[2048*(Ra+Xa)+(xb+za)<<2]?1<<31-za%32:0,eb[fa*Xa+(za>>5)]|=Qb,T|=Qb;T?tb=Xa:(hb.y0++,bb--,Xa--,Ra++)}hb.y1=hb.y0+tb;hb.sprite=eb.slice(0,(hb.y1-hb.y0)*fa)}}}
function mc(xb,hb){var ec=xb[0];xb=xb[1];hb.x+hb.x0<ec.x&&(ec.x=hb.x+hb.x0);hb.y+hb.y0<ec.y&&(ec.y=hb.y+hb.y0);hb.x+hb.x1>xb.x&&(xb.x=hb.x+hb.x1);hb.y+hb.y1>xb.y&&(xb.y=hb.y+hb.y1)}function Cb(xb){var hb=xb[0]/xb[1];return function(ec){return[hb*(ec*=.1)*Math.cos(ec),ec*Math.sin(ec)]}}function Vb(xb){for(var hb=[],ec=-1;++ec<xb;)hb[ec]=0;return hb}function jc(xb){return"function"===typeof xb?xb:function(){return xb}}function Ba(xb){ia.Transform.call(this,ac(),xb)}var Za=Math.PI/180,wb={archimedean:Cb,
rectangular:function(xb){var hb=4*xb[0]/xb[1],ec=0,ra=0;return function(fa){var za=0>fa?-1:1;switch(Math.sqrt(1+4*za*fa)-za&3){case 0:ec+=hb;break;case 1:ra+=4;break;case 2:ec-=hb;break;default:ra-=4}return[ec,ra]}}};const ub="x y font fontSize fontStyle fontWeight angle".split(" "),sb="text font rotate fontSize fontStyle fontWeight".split(" ");Ba.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,"default":"sans-serif"},
{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,"default":ub}]};ab.inherits(Ba,
ia.Transform,{transform(xb,hb){function ec(ib){ib=xb[ib];return ab.isFunction(ib)&&hb.modified(ib.fields)}!xb.size||xb.size[0]&&xb.size[1]||ab.error("Wordcloud size dimensions must be non-zero.");const ra=xb.modified();if(ra||hb.changed(hb.ADD_REM)||sb.some(ec)){var fa=hb.materialize(hb.SOURCE).source,za=this.value,Ra=xb.as||ub,Xa=xb.fontSize||14,Ia;ab.isFunction(Xa)?Ia=xb.fontSizeRange:Xa=ab.constant(Xa);if(Ia){const ib=Xa,bb=zb.scale("sqrt")().domain(ab.extent(fa,ib)).range(Ia);Xa=tb=>bb(ib(tb))}fa.forEach(ib=>
{ib[Ra[0]]=NaN;ib[Ra[1]]=NaN;ib[Ra[3]]=0});fa=za.words(fa).text(xb.text).size(xb.size||[500,500]).padding(xb.padding||1).spiral(xb.spiral||"archimedean").rotate(xb.rotate||0).font(xb.font||"sans-serif").fontStyle(xb.fontStyle||"normal").fontWeight(xb.fontWeight||"normal").fontSize(Xa).random(Yb.random).layout();Xa=za.size();za=Xa[0]>>1;Xa=Xa[1]>>1;Ia=fa.length;for(let ib=0,bb,tb;ib<Ia;++ib)bb=fa[ib],tb=bb.datum,tb[Ra[0]]=bb.x+za,tb[Ra[1]]=bb.y+Xa,tb[Ra[2]]=bb.font,tb[Ra[3]]=bb.size,tb[Ra[4]]=bb.style,
tb[Ra[5]]=bb.weight,tb[Ra[6]]=bb.rotate;return hb.reflow(ra).modifies(Ra)}}});u.wordcloud=Ba})};
shadow$provide[45]=function(Eb,ob,Dc,Wa){(function(u,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,ob(29),ob(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],h):(u="undefined"!==typeof globalThis?globalThis:u||self,h((u.vega=u.vega||{},u.vega.transforms={}),u.vega,u.vega))})(this,function(u,h,ia){function ab(){let fa=8,za=[],Ra=new Uint32Array(0),Xa=zb(0,fa),Ia=zb(0,fa);return{data:()=>za,seen:()=>{var ib=Ra;var bb=za.length;ib.length>=bb||(bb=new ib.constructor(bb),
bb.set(ib),ib=bb);return Ra=ib},add(ib){for(let bb=0,tb=za.length,Qb=ib.length,eb;bb<Qb;++bb)eb=ib[bb],eb._index=tb++,za.push(eb)},remove(ib,bb){const tb=za.length;ib=Array(tb-ib);const Qb=za;let eb,T,Z;for(T=0;!bb[T]&&T<tb;++T)ib[T]=za[T],Qb[T]=T;for(Z=T;T<tb;++T)eb=za[T],bb[T]?Qb[T]=-1:(Qb[T]=Z,Xa[Z]=Xa[T],Ia[Z]=Ia[T],ib[Z]=eb,eb._index=Z++),Xa[T]=0;za=ib;return Qb},size:()=>za.length,curr:()=>Xa,prev:()=>Ia,reset:ib=>Ia[ib]=Xa[ib],all:()=>257>fa?255:65537>fa?65535:4294967295,set(ib,bb){Xa[ib]|=
bb},clear(ib,bb){Xa[ib]&=~bb},resize(ib,bb){if(ib>Xa.length||bb>fa)fa=Math.max(bb,fa),Xa=zb(ib,fa,Xa),Ia=zb(ib,fa)}}}function zb(fa,za,Ra){fa=(257>za?ub:65537>za?sb:xb)(fa);Ra&&fa.set(Ra);return fa}function Yb(fa,za,Ra){const Xa=1<<za;return{one:Xa,zero:~Xa,range:Ra.slice(),bisect:fa.bisect,index:fa.index,size:fa.size,onAdd(Ia,ib){var bb=this.bisect(this.range,Ia.value);Ia=Ia.index;const tb=bb[0];bb=bb[1];const Qb=Ia.length;let eb;for(eb=0;eb<tb;++eb)ib[Ia[eb]]|=Xa;for(eb=bb;eb<Qb;++eb)ib[Ia[eb]]|=
Xa;return this}}}function ac(fa,za){return null==fa||null==za?NaN:fa<za?-1:fa>za?1:fa>=za?0:NaN}function Xb(fa,za){return null==fa||null==za?NaN:za<fa?-1:za>fa?1:za>=fa?0:NaN}function mc(fa){function za(ib,bb,tb=0,Qb=ib.length){if(tb<Qb){if(0!==Ra(bb,bb))return Qb;do{const eb=tb+Qb>>>1;0>Xa(ib[eb],bb)?tb=eb+1:Qb=eb}while(tb<Qb)}return tb}let Ra,Xa,Ia;2!==fa.length?(Ra=ac,Xa=(ib,bb)=>ac(fa(ib),bb),Ia=(ib,bb)=>fa(ib)-bb):(Ra=fa===ac||fa===Xb?fa:Cb,Ia=Xa=fa);return{left:za,center:function(ib,bb,tb=0,
Qb=ib.length){Qb=za(ib,bb,tb,Qb-1);return Qb>tb&&Ia(ib[Qb-1],bb)>-Ia(ib[Qb],bb)?Qb-1:Qb},right:function(ib,bb,tb=0,Qb=ib.length){if(tb<Qb){if(0!==Ra(bb,bb))return Qb;do{const eb=tb+Qb>>>1;0>=Xa(ib[eb],bb)?tb=eb+1:Qb=eb}while(tb<Qb)}return tb}}}function Cb(){return 0}function Vb(fa,za){return Array.from(za,Ra=>fa[Ra])}function jc(){let fa=new Uint32Array(0),za=[],Ra=0;return{insert:function(Xa,Ia,ib){if(!Ia.length)return[];const bb=Ra,tb=Ia.length,Qb=new Uint32Array(tb);let eb=Array(tb);var T;for(T=
0;T<tb;++T)eb[T]=Xa(Ia[T]),Qb[T]=T;eb=Ba(eb,Qb);if(bb){Xa=za;Ia=fa;za=Array(bb+tb);fa=new Uint32Array(bb+tb);T=eb;var Z=za,ca=fa;let ha=0,La=0,oa;for(oa=0;ha<bb&&La<tb;++oa)Xa[ha]<T[La]?(Z[oa]=Xa[ha],ca[oa]=Ia[ha++]):(Z[oa]=T[La],ca[oa]=Qb[La++]+ib);for(;ha<bb;++ha,++oa)Z[oa]=Xa[ha],ca[oa]=Ia[ha];for(;La<tb;++La,++oa)Z[oa]=T[La],ca[oa]=Qb[La]+ib}else{if(0<ib)for(T=0;T<tb;++T)Qb[T]+=ib;za=eb;fa=Qb}Ra=bb+tb;return{index:Qb,value:eb}},remove:function(Xa,Ia){const ib=Ra;let bb,tb,Qb;for(tb=0;!Ia[fa[tb]]&&
tb<ib;++tb);for(Qb=tb;tb<ib;++tb)Ia[bb=fa[tb]]||(fa[Qb]=bb,za[Qb]=za[tb],++Qb);Ra=ib-Xa},bisect:function(Xa,Ia){let ib;Ia?ib=Ia.length:(Ia=za,ib=Ra);return[ra(Ia,Xa[0],0,ib),ec(Ia,Xa[1],0,ib)]},reindex:function(Xa){for(let Ia=0,ib=Ra;Ia<ib;++Ia)fa[Ia]=Xa[fa[Ia]]},index:()=>fa,size:()=>Ra}}function Ba(fa,za){fa.sort.call(za,(Ra,Xa)=>{Ra=fa[Ra];Xa=fa[Xa];return Ra<Xa?-1:Ra>Xa?1:0});return Vb(fa,za)}function Za(fa){h.Transform.call(this,ab(),fa);this._dims=this._indices=null}function wb(fa){h.Transform.call(this,
null,fa)}const ub=fa=>new Uint8Array(fa),sb=fa=>new Uint16Array(fa),xb=fa=>new Uint32Array(fa),hb=mc(ac),ec=hb.right,ra=hb.left;mc(function(fa){return null===fa?NaN:+fa}).center;Za.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};ia.inherits(Za,h.Transform,{transform(fa,za){return this._dims?fa.modified("fields")||fa.fields.some(Ra=>za.modified(Ra.fields))?
this.reinit(fa,za):this.eval(fa,za):this.init(fa,za)},init(fa,za){const Ra=fa.fields,Xa=fa.query,Ia=this._indices={},ib=this._dims=[],bb=Xa.length;let tb=0;for(var Qb;tb<bb;++tb)Qb=Ra[tb].fname,Qb=Ia[Qb]||(Ia[Qb]=jc()),ib.push(Yb(Qb,tb,Xa[tb]));return this.eval(fa,za)},reinit(fa,za){const Ra=za.materialize().fork(),Xa=fa.fields,Ia=fa.query,ib=this._indices,bb=this._dims,tb=this.value,Qb=tb.curr(),eb=tb.prev(),T=tb.all(),Z=Ra.rem=Ra.add,ca=Ra.mod,ha=Ia.length,La={};let oa;var pa;let m,D,L,w;eb.set(Qb);
za.rem.length&&(m=this.remove(fa,za,Ra));za.add.length&&tb.add(za.add);if(za.mod.length){D={};var P=za.mod;L=0;for(pa=P.length;L<pa;++L)D[P[L]._index]=1}for(L=0;L<ha;++L)if(w=Xa[L],!bb[L]||fa.modified("fields",L)||za.modified(w.fields))pa=w.fname,(P=La[pa])||(ib[pa]=oa=jc(),La[pa]=P=oa.insert(w,za.source,0)),bb[L]=Yb(oa,L,Ia[L]).onAdd(P,Qb);L=0;for(pa=tb.data().length;L<pa;++L)m[L]||(eb[L]!==Qb[L]?Z.push(L):D[L]&&Qb[L]!==T&&ca.push(L));tb.mask=(1<<ha)-1;return Ra},eval(fa,za){const Ra=za.materialize().fork(),
Xa=this._dims.length;let Ia=0;za.rem.length&&(this.remove(fa,za,Ra),Ia|=(1<<Xa)-1);fa.modified("query")&&!fa.modified("fields")&&(Ia|=this.update(fa,za,Ra));za.add.length&&(this.insert(fa,za,Ra),Ia|=(1<<Xa)-1);za.mod.length&&(this.modify(za,Ra),Ia|=(1<<Xa)-1);this.value.mask=Ia;return Ra},insert(fa,za,Ra){za=za.add;var Xa=this.value;const Ia=this._dims,ib=this._indices;fa=fa.fields;const bb={};Ra=Ra.add;const tb=Xa.size()+za.length,Qb=Ia.length;let eb=Xa.size();Xa.resize(tb,Qb);Xa.add(za);const T=
Xa.curr(),Z=Xa.prev(),ca=Xa.all();for(Xa=0;Xa<Qb;++Xa){var ha=fa[Xa].fname;ha=bb[ha]||(bb[ha]=ib[ha].insert(fa[Xa],za,eb));Ia[Xa].onAdd(ha,T)}for(;eb<tb;++eb)Z[eb]=ca,T[eb]!==ca&&Ra.push(eb)},modify(fa,za){za=za.mod;var Ra=this.value;const Xa=Ra.curr();Ra=Ra.all();fa=fa.mod;let Ia,ib,bb;Ia=0;for(ib=fa.length;Ia<ib;++Ia)bb=fa[Ia]._index,Xa[bb]!==Ra&&za.push(bb)},remove(fa,za,Ra){fa=this._indices;var Xa=this.value;const Ia=Xa.curr(),ib=Xa.prev();Xa=Xa.all();const bb={};Ra=Ra.rem;const tb=za.rem;let Qb,
eb,T,Z;Qb=0;for(eb=tb.length;Qb<eb;++Qb)T=tb[Qb]._index,bb[T]=1,ib[T]=Z=Ia[T],Ia[T]=Xa,Z!==Xa&&Ra.push(T);for(T in fa)fa[T].remove(eb,bb);this.reindex(za,eb,bb);return bb},reindex(fa,za,Ra){const Xa=this._indices,Ia=this.value;fa.runAfter(()=>{const ib=Ia.remove(za,Ra);for(const bb in Xa)Xa[bb].reindex(ib)})},update(fa,za,Ra){const Xa=this._dims,Ia=fa.query;za=za.stamp;const ib=Xa.length;let bb=0,tb,Qb;for(Qb=Ra.filters=0;Qb<ib;++Qb)fa.modified("query",Qb)&&(tb=Qb,++bb);if(1===bb)bb=Xa[tb].one,this.incrementOne(Xa[tb],
Ia[tb],Ra.add,Ra.rem);else for(bb=Qb=0;Qb<ib;++Qb)fa.modified("query",Qb)&&(bb|=Xa[Qb].one,this.incrementAll(Xa[Qb],Ia[Qb],za,Ra.add),Ra.rem=Ra.add);return bb},incrementAll(fa,za,Ra,Xa){var Ia=this.value;const ib=Ia.seen(),bb=Ia.curr();Ia=Ia.prev();const tb=fa.index();var Qb=fa.bisect(fa.range),eb=fa.bisect(za);const T=eb[0];eb=eb[1];const Z=Qb[0];Qb=Qb[1];const ca=fa.one;let ha,La,oa;if(T<Z)for(ha=T,La=Math.min(Z,eb);ha<La;++ha)oa=tb[ha],ib[oa]!==Ra&&(Ia[oa]=bb[oa],ib[oa]=Ra,Xa.push(oa)),bb[oa]^=
ca;else if(T>Z)for(ha=Z,La=Math.min(T,Qb);ha<La;++ha)oa=tb[ha],ib[oa]!==Ra&&(Ia[oa]=bb[oa],ib[oa]=Ra,Xa.push(oa)),bb[oa]^=ca;if(eb>Qb)for(ha=Math.max(T,Qb),La=eb;ha<La;++ha)oa=tb[ha],ib[oa]!==Ra&&(Ia[oa]=bb[oa],ib[oa]=Ra,Xa.push(oa)),bb[oa]^=ca;else if(eb<Qb)for(ha=Math.max(Z,eb),La=Qb;ha<La;++ha)oa=tb[ha],ib[oa]!==Ra&&(Ia[oa]=bb[oa],ib[oa]=Ra,Xa.push(oa)),bb[oa]^=ca;fa.range=za.slice()},incrementOne(fa,za,Ra,Xa){const Ia=this.value.curr(),ib=fa.index();var bb=fa.bisect(fa.range),tb=fa.bisect(za);
const Qb=tb[0];tb=tb[1];const eb=bb[0];bb=bb[1];const T=fa.one;let Z,ca,ha;if(Qb<eb)for(Z=Qb,ca=Math.min(eb,tb);Z<ca;++Z)ha=ib[Z],Ia[ha]^=T,Ra.push(ha);else if(Qb>eb)for(Z=eb,ca=Math.min(Qb,bb);Z<ca;++Z)ha=ib[Z],Ia[ha]^=T,Xa.push(ha);if(tb>bb)for(Z=Math.max(Qb,bb),ca=tb;Z<ca;++Z)ha=ib[Z],Ia[ha]^=T,Ra.push(ha);else if(tb<bb)for(Z=Math.max(eb,tb),ca=bb;Z<ca;++Z)ha=ib[Z],Ia[ha]^=T,Xa.push(ha);fa.range=za.slice()}});wb.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",
required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};ia.inherits(wb,h.Transform,{transform(fa,za){const Ra=~(fa.ignore||0);fa=fa.filter;const Xa=fa.mask;if(0===(Xa&Ra))return za.StopPropagation;za=za.fork(za.ALL);const Ia=fa.data(),ib=fa.curr(),bb=fa.prev(),tb=Qb=>ib[Qb]&Ra?null:Ia[Qb];za.filter(za.MOD,tb);Xa&Xa-1?(za.filter(za.ADD,Qb=>{const eb=ib[Qb]&Ra;return!eb&&
eb^bb[Qb]&Ra?Ia[Qb]:null}),za.filter(za.REM,Qb=>{const eb=ib[Qb]&Ra;return!eb||eb^eb^bb[Qb]&Ra?null:Ia[Qb]})):(za.filter(za.ADD,tb),za.filter(za.REM,Qb=>(ib[Qb]&Ra)===Xa?Ia[Qb]:null));return za.filter(za.SOURCE,Qb=>tb(Qb._index))}});u.crossfilter=Za;u.resolvefilter=wb})};
shadow$provide[46]=function(Eb,ob,Dc,Wa){(function(u,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,ob(21)):"function"===typeof define&&define.amd?define(["exports","vega-util"],h):(u="undefined"!==typeof globalThis?globalThis:u||self,h(u.vega={},u.vega))})(this,function(u,h){function ia(x){this.type=x}function ab(x){switch(x.type){case "ArrayExpression":return x.elements;case "BinaryExpression":case "LogicalExpression":return[x.left,x.right];case "CallExpression":return[x.callee].concat(x.arguments);
case "ConditionalExpression":return[x.test,x.consequent,x.alternate];case "MemberExpression":return[x.object,x.property];case "ObjectExpression":return x.properties;case "Property":return[x.key,x.value];case "UnaryExpression":return[x.argument];default:return[]}}function zb(x,z){if(!x)throw Error("ASSERT: "+z);}function Yb(x){return 48<=x&&57>=x}function ac(x){return"0123456789abcdefABCDEF".includes(x)}function Xb(x){return"01234567".includes(x)}function mc(x){return 10===x||13===x||8232===x||8233===
x}function Cb(x){return 36===x||95===x||65<=x&&90>=x||97<=x&&122>=x||92===x||128<=x&&w.test(String.fromCharCode(x))}function Vb(x){return 36===x||95===x||65<=x&&90>=x||97<=x&&122>=x||48<=x&&57>=x||92===x||128<=x&&P.test(String.fromCharCode(x))}function jc(){for(;m<D;){const x=pa.charCodeAt(m);if(32===x||9===x||11===x||12===x||160===x||5760<=x&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(x)||mc(x))++m;else break}}function Ba(x){var z=0;var F="u"===
x?4:2;for(x=0;x<F;++x)if(m<D&&ac(pa[m])){var U=pa[m++];z=16*z+"0123456789abcdef".indexOf(U.toLowerCase())}else Ia({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(z)}function Za(){var x=pa.charCodeAt(m++);var z=String.fromCharCode(x);92===x&&(117!==pa.charCodeAt(m)&&Ia({},"Unexpected token %0","ILLEGAL"),++m,(x=Ba("u"))&&"\\"!==x&&Cb(x.charCodeAt(0))||Ia({},"Unexpected token %0","ILLEGAL"),z=x);for(;m<D;){x=pa.charCodeAt(m);if(!Vb(x))break;++m;z+=String.fromCharCode(x);92===x&&(z=z.substr(0,
z.length-1),117!==pa.charCodeAt(m)&&Ia({},"Unexpected token %0","ILLEGAL"),++m,(x=Ba("u"))&&"\\"!==x&&Vb(x.charCodeAt(0))||Ia({},"Unexpected token %0","ILLEGAL"),z+=x)}return z}function wb(){var x=m,z=pa.charCodeAt(m),F=pa[m];switch(z){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++m,{type:7,value:String.fromCharCode(z),start:x,end:m};default:var U=pa.charCodeAt(m+1);if(61===U)switch(z){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return m+=
2,{type:7,value:String.fromCharCode(z)+String.fromCharCode(U),start:x,end:m};case 33:case 61:return m+=2,61===pa.charCodeAt(m)&&++m,{type:7,value:pa.slice(x,m),start:x,end:m}}}z=pa.substr(m,4);if("\x3e\x3e\x3e\x3d"===z)return m+=4,{type:7,value:z,start:x,end:m};z=z.substr(0,3);if("\x3e\x3e\x3e"===z||"\x3c\x3c\x3d"===z||"\x3e\x3e\x3d"===z)return m+=3,{type:7,value:z,start:x,end:m};z=z.substr(0,2);if(F===z[1]&&"+-\x3c\x3e\x26|".includes(F)||"\x3d\x3e"===z)return m+=2,{type:7,value:z,start:x,end:m};
"//"===z&&Ia({},"Unexpected token %0","ILLEGAL");if("\x3c\x3e\x3d!+-*%\x26|^/".includes(F))return++m,{type:7,value:F,start:x,end:m};Ia({},"Unexpected token %0","ILLEGAL")}function ub(){var x=pa[m];zb(Yb(x.charCodeAt(0))||"."===x,"Numeric literal must start with a decimal digit or a decimal point");var z=m;var F="";if("."!==x){F=pa[m++];x=pa[m];if("0"===F){if("x"===x||"X"===x){++m;for(F="";m<D&&ac(pa[m]);)F+=pa[m++];0===F.length&&Ia({},"Unexpected token %0","ILLEGAL");Cb(pa.charCodeAt(m))&&Ia({},"Unexpected token %0",
"ILLEGAL");return{type:6,value:parseInt("0x"+F,16),start:z,end:m}}if(Xb(x)){for(F="0"+pa[m++];m<D&&Xb(pa[m]);)F+=pa[m++];(Cb(pa.charCodeAt(m))||Yb(pa.charCodeAt(m)))&&Ia({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(F,8),octal:!0,start:z,end:m}}x&&Yb(x.charCodeAt(0))&&Ia({},"Unexpected token %0","ILLEGAL")}for(;Yb(pa.charCodeAt(m));)F+=pa[m++];x=pa[m]}if("."===x){for(F+=pa[m++];Yb(pa.charCodeAt(m));)F+=pa[m++];x=pa[m]}if("e"===x||"E"===x){F+=pa[m++];x=pa[m];if("+"===x||"-"===x)F+=
pa[m++];if(Yb(pa.charCodeAt(m)))for(;Yb(pa.charCodeAt(m));)F+=pa[m++];else Ia({},"Unexpected token %0","ILLEGAL")}Cb(pa.charCodeAt(m))&&Ia({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(F),start:z,end:m}}function sb(x,z){let F=x;z.includes("u")&&(F=F.replace(/\\u\{([0-9a-fA-F]+)\}/g,(U,sa)=>{if(1114111>=parseInt(sa,16))return"x";Ia({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(F)}catch(U){Ia({},"Invalid regular expression")}try{return new RegExp(x,
z)}catch(U){return null}}function xb(){jc();if(m>=D)return{type:2,start:m,end:m};var x=pa.charCodeAt(m);if(Cb(x)){x=m;if(92===pa.charCodeAt(m))var z=Za();else a:{for(z=m++;m<D;){var F=pa.charCodeAt(m);if(92===F){m=z;z=Za();break a}if(Vb(F))++m;else break}z=pa.slice(z,m)}return{type:1===z.length?3:A.hasOwnProperty(z)?4:"null"===z?5:"true"===z||"false"===z?1:3,value:z,start:x,end:m}}if(40===x||41===x||59===x)return wb();if(39===x||34===x){var U="";F=!1;x=pa[m];zb("'"===x||'"'===x,"String literal must starts with a quote");
z=m;for(++m;m<D;){var sa=pa[m++];if(sa===x){x="";break}else if("\\"===sa)if((sa=pa[m++])&&mc(sa.charCodeAt(0)))"\r"===sa&&"\n"===pa[m]&&++m;else switch(sa){case "u":case "x":if("{"===pa[m]){++m;var N=pa[m];sa=0;for("}"===N&&Ia({},"Unexpected token %0","ILLEGAL");m<D;){N=pa[m++];if(!ac(N))break;sa=16*sa+"0123456789abcdef".indexOf(N.toLowerCase())}(1114111<sa||"}"!==N)&&Ia({},"Unexpected token %0","ILLEGAL");sa=65535>=sa?String.fromCharCode(sa):String.fromCharCode((sa-65536>>10)+55296,(sa-65536&1023)+
56320);U+=sa}else U+=Ba(sa);break;case "n":U+="\n";break;case "r":U+="\r";break;case "t":U+="\t";break;case "b":U+="\b";break;case "f":U+="\f";break;case "v":U+="\v";break;default:Xb(sa)?(N="01234567".indexOf(sa),0!==N&&(F=!0),m<D&&Xb(pa[m])&&(F=!0,N=8*N+"01234567".indexOf(pa[m++]),"0123".includes(sa)&&m<D&&Xb(pa[m])&&(N=8*N+"01234567".indexOf(pa[m++]))),U+=String.fromCharCode(N)):U+=sa}else if(mc(sa.charCodeAt(0)))break;else U+=sa}""!==x&&Ia({},"Unexpected token %0","ILLEGAL");return{type:8,value:U,
octal:F,start:z,end:m}}return 46===x?Yb(pa.charCodeAt(m+1))?ub():wb():Yb(x)?ub():wb()}function hb(){const x=L;m=x.end;L=xb();m=x.end;return x}function ec(){const x=m;L=xb();m=x}function ra(x,z,F){const U=new ia("||"===x||"\x26\x26"===x?"LogicalExpression":"BinaryExpression");U.operator=x;U.left=z;U.right=F;return U}function fa(x){const z=new ia("Identifier");z.name=x;return z}function za(x){const z=new ia("Literal");z.value=x.value;z.raw=pa.slice(x.start,x.end);x.regex&&("//"===z.raw&&(z.raw="/(?:)/"),
z.regex=x.regex);return z}function Ra(x,z,F){const U=new ia("MemberExpression");U.computed="["===x;U.object=z;U.property=F;U.computed||(F.member=!0);return U}function Xa(x,z,F){const U=new ia("Property");U.key=z;U.value=F;U.kind=x;return U}function Ia(x,z){var F=Array.prototype.slice.call(arguments,2),U=z.replace(/%(\d)/g,(N,la)=>{zb(la<F.length,"Message reference must be in range");return F[la]});var sa=Error(U);sa.index=m;sa.description=U;throw sa;}function ib(x){2===x.type&&Ia(x,"Unexpected end of input");
6===x.type&&Ia(x,"Unexpected number");8===x.type&&Ia(x,"Unexpected string");3===x.type&&Ia(x,"Unexpected identifier");4===x.type&&Ia(x,"Unexpected reserved word");Ia(x,"Unexpected token %0",x.value)}function bb(x){const z=hb();7===z.type&&z.value===x||ib(z)}function tb(x){return 7===L.type&&L.value===x}function Qb(){m=L.start;const x=hb();return 8===x.type||6===x.type?(x.octal&&Ia(x,"Octal literals are not allowed in strict mode."),za(x)):fa(x.value)}function eb(){if(tb("(")){bb("(");var x=La();bb(")");
return x}if(tb("[")){x=[];m=L.start;for(bb("[");!tb("]");)tb(",")?(hb(),x.push(null)):(x.push(ha()),tb("]")||bb(","));hb();var z=new ia("ArrayExpression");z.elements=x;return z}if(tb("{")){x=[];z={};var F=String;m=L.start;for(bb("{");!tb("}");){m=L.start;var U=L;if(3===U.type){var sa=Qb();bb(":");U=ha();U=Xa("init",sa,U)}else 2===U.type||7===U.type?(ib(U),U=void 0):(sa=Qb(),bb(":"),U=ha(),U=Xa("init",sa,U));sa="Identifier"===U.key.type?U.key.name:F(U.key.value);sa="$"+sa;Object.prototype.hasOwnProperty.call(z,
sa)?Ia({},"Duplicate data property in object literal not allowed in strict mode"):z[sa]=!0;x.push(U);tb("}")||bb(",")}bb("}");z=new ia("ObjectExpression");z.properties=x;return z}x=L.type;m=L.start;if(3===x||V[L.value])z=fa(hb().value);else if(8===x||6===x)L.octal&&Ia(L,"Octal literals are not allowed in strict mode."),z=za(hb());else{if(4===x)throw Error("Disabled.");if(1===x)x=hb(),x.value="true"===x.value,z=za(x);else if(5===x)x=hb(),x.value=null,z=za(x);else if(tb("/")||tb("/\x3d")){var N;L=null;
jc();x=m;z=pa[m];zb("/"===z,"Regular expression literal must start with a slash");F=pa[m++];for(sa=U=!1;m<D;)if(z=pa[m++],F+=z,"\\"===z)z=pa[m++],mc(z.charCodeAt(0))&&Ia({},"Invalid regular expression: missing /"),F+=z;else if(mc(z.charCodeAt(0)))Ia({},"Invalid regular expression: missing /");else if(U)"]"===z&&(U=!1);else if("/"===z){sa=!0;break}else"["===z&&(U=!0);sa||Ia({},"Invalid regular expression: missing /");z=F.substr(1,F.length-2);for(N=sa="";m<D;){U=pa[m];if(!Vb(U.charCodeAt(0)))break;
++m;"\\"===U&&m<D?Ia({},"Unexpected token %0","ILLEGAL"):(N+=U,sa+=U)}0<=N.search(/[^gimuy]/g)&&Ia({},"Invalid regular expression",N);U=N;N=sb(z,U);z=za({literal:F+sa,value:N,regex:{pattern:z,flags:U},start:x,end:m});ec()}else ib(hb())}return z}function T(){var x;for(x=eb();;)if(tb(".")){bb(".");m=L.start;var z=hb();3===z.type||4===z.type||1===z.type||5===z.type||ib(z);z=fa(z.value);x=Ra(".",x,z)}else if(tb("(")){z=[];bb("(");if(!tb(")"))for(;m<D;){z.push(ha());if(tb(")"))break;bb(",")}bb(")");const F=
new ia("CallExpression");F.callee=x;F.arguments=z;x=F}else if(tb("["))bb("["),z=La(),bb("]"),x=Ra("[",x,z);else break;if(7===L.type&&(tb("++")||tb("--")))throw Error("Disabled.");return x}function Z(){if(7!==L.type&&4!==L.type)var x=T();else{if(tb("++")||tb("--"))throw Error("Disabled.");if(tb("+")||tb("-")||tb("~")||tb("!")){var z=hb();x=Z();z=z.value;const F=new ia("UnaryExpression");F.operator=z;F.argument=x;F.prefix=!0;x=F}else{if(4===L.type&&"delete"===L.value||4===L.type&&"void"===L.value||
4===L.type&&"typeof"===L.value)throw Error("Disabled.");x=T()}}return x}function ca(x){let z=0;if(7!==x.type&&4!==x.type)return 0;switch(x.value){case "||":z=1;break;case "\x26\x26":z=2;break;case "|":z=3;break;case "^":z=4;break;case "\x26":z=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":z=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":z=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":z=8;break;case "+":case "-":z=
9;break;case "*":case "/":case "%":z=11}return z}function ha(){var x=L;var z=Z();var F=L;var U=ca(F);if(0===U)var sa=z;else{F.prec=U;hb();x=[x,L];var N=Z();for(sa=[z,F,N];0<(U=ca(L));){for(;2<sa.length&&U<=sa[sa.length-2].prec;)N=sa.pop(),F=sa.pop().value,z=sa.pop(),x.pop(),z=ra(F,z,N),sa.push(z);F=hb();F.prec=U;sa.push(F);x.push(L);z=Z();sa.push(z)}U=sa.length-1;z=sa[U];for(x.pop();1<U;)x.pop(),z=ra(sa[U-1].value,sa[U-2],z),U-=2;sa=z}tb("?")&&(hb(),x=ha(),bb(":"),U=ha(),z=new ia("ConditionalExpression"),
z.test=sa,z.consequent=x,z.alternate=U,sa=z);return sa}function La(){const x=ha();if(tb(","))throw Error("Disabled.");return x}function oa(x){function z(F,U,sa){return N=>{let la=x(N[0]);U&&(la=U+"("+la+")",0===U.lastIndexOf("new ",0)&&(la="("+la+")"));return la+"."+F+(0>sa?"":0===sa?"()":"("+N.slice(1).map(x).join(",")+")")}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",
floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(F){3>F.length&&h.error("Missing arguments to clamp function.");3<F.length&&h.error("Too many arguments to clamp function.");F=F.map(x);return"Math.max("+F[1]+", Math.min("+F[2]+","+F[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:z("getDate","new Date",0),day:z("getDay","new Date",0),
year:z("getFullYear","new Date",0),month:z("getMonth","new Date",0),hours:z("getHours","new Date",0),minutes:z("getMinutes","new Date",0),seconds:z("getSeconds","new Date",0),milliseconds:z("getMilliseconds","new Date",0),time:z("getTime","new Date",0),timezoneoffset:z("getTimezoneOffset","new Date",0),utcdate:z("getUTCDate","new Date",0),utcday:z("getUTCDay","new Date",0),utcyear:z("getUTCFullYear","new Date",0),utcmonth:z("getUTCMonth","new Date",0),utchours:z("getUTCHours","new Date",0),utcminutes:z("getUTCMinutes",
"new Date",0),utcseconds:z("getUTCSeconds","new Date",0),utcmilliseconds:z("getUTCMilliseconds","new Date",0),length:z("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:z("toUpperCase","String",0),lower:z("toLowerCase","String",0),substring:z("substring","String"),split:z("split","String"),trim:z("trim","String",0),regexp:"RegExp",test:z("test","RegExp"),if:function(F){3>F.length&&h.error("Missing arguments to if function.");3<F.length&&h.error("Too many arguments to if function.");
F=F.map(x);return"("+F[0]+"?"+F[1]+":"+F[2]+")"}}}ia.prototype.visit=function(x){let z,F,U;if(x(this))return 1;z=ab(this);F=0;for(U=z.length;F<U;++F)if(z[F].visit(x))return 1};var pa,m,D,L,w=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),
P=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");
const A={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},V={"if":1};var G={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",
LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};u.ASTNode=ia;u.ArrayExpression="ArrayExpression";u.BinaryExpression="BinaryExpression";u.CallExpression="CallExpression";u.ConditionalExpression="ConditionalExpression";u.Identifier="Identifier";u.Literal="Literal";u.LogicalExpression="LogicalExpression";u.MemberExpression="MemberExpression";u.ObjectExpression="ObjectExpression";u.Property="Property";
u.RawCode="RawCode";u.UnaryExpression="UnaryExpression";u.codegenExpression=function(x){function z(W){if(h.isString(W))return W;const Ea=Ub[W.type];null==Ea&&h.error("Unsupported type: "+W.type);return Ea(W)}function F(W){W={code:z(W),globals:Object.keys(Ya),fields:Object.keys(vb)};Ya={};vb={};return W}x=x||{};const U=x.allowed?h.toSet(x.allowed):{},sa=x.forbidden?h.toSet(x.forbidden):{},N=x.constants||G,la=(x.functions||oa)(z),wa=x.globalvar,Ma=x.fieldvar,Pa=h.isFunction(wa)?wa:W=>`${wa}["${W}"]`;
let Ya={},vb={},jb=0;const Ub={Literal:W=>W.raw,Identifier:W=>{W=W.name;if(0<jb)return W;if(h.hasOwnProperty(sa,W))return h.error("Illegal identifier: "+W);if(h.hasOwnProperty(N,W))return N[W];if(h.hasOwnProperty(U,W))return W;Ya[W]=1;return Pa(W)},MemberExpression:W=>{const Ea=!W.computed,Mb=z(W.object);Ea&&(jb+=1);W=z(W.property);if(Mb===Ma){var oc=vb;var $b=($b=W&&W.length-1)&&('"'===W[0]&&'"'===W[$b]||"'"===W[0]&&"'"===W[$b])?W.slice(1,-1):W;oc[$b]=1}Ea&&--jb;return Mb+(Ea?"."+W:"["+W+"]")},CallExpression:W=>
{"Identifier"!==W.callee.type&&h.error("Illegal callee type: "+W.callee.type);const Ea=W.callee.name;W=W.arguments;const Mb=h.hasOwnProperty(la,Ea)&&la[Ea];Mb||h.error("Unrecognized function: "+Ea);return h.isFunction(Mb)?Mb(W):Mb+"("+W.map(z).join(",")+")"},ArrayExpression:W=>"["+W.elements.map(z).join(",")+"]",BinaryExpression:W=>"("+z(W.left)+" "+W.operator+" "+z(W.right)+")",UnaryExpression:W=>"("+W.operator+z(W.argument)+")",ConditionalExpression:W=>"("+z(W.test)+"?"+z(W.consequent)+":"+z(W.alternate)+
")",LogicalExpression:W=>"("+z(W.left)+W.operator+z(W.right)+")",ObjectExpression:W=>"{"+W.properties.map(z).join(",")+"}",Property:W=>{jb+=1;const Ea=z(W.key);--jb;return Ea+":"+z(W.value)}};F.functions=la;F.constants=N;return F};u.constants=G;u.functions=oa;u.parseExpression=function(x){pa=x;m=0;D=pa.length;L=null;ec();x=La();if(2!==L.type)throw Error("Unexpect token after expression.");return x}})};
shadow$provide[47]=function(Eb,ob,Dc,Wa){(function(u,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,ob(21),ob(46)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],h):(u="undefined"!==typeof globalThis?globalThis:u||self,h(u.vega={},u.vega,u.vega))})(this,function(u,h,ia){function ab(ra,fa){return null==ra||null==fa?NaN:ra<fa?-1:ra>fa?1:ra>=fa?0:NaN}function zb(ra,fa){return null==ra||null==fa?NaN:fa<ra?-1:fa>ra?1:fa>=ra?0:NaN}function Yb(){return 0}function ac({_intern:ra,
_key:fa},za){fa=fa(za);return ra.has(fa)?ra.get(fa):za}function Xb({_intern:ra,_key:fa},za){fa=fa(za);if(ra.has(fa))return ra.get(fa);ra.set(fa,za);return za}function mc({_intern:ra,_key:fa},za){fa=fa(za);ra.has(fa)&&(za=ra.get(fa),ra.delete(fa));return za}function Cb(ra){return null!==ra&&"object"===typeof ra?ra.valueOf():ra}function Vb(ra){return ra instanceof Za?ra:new Za(ra)}function jc(ra){ra.getter&&ra.getter[wb]||(ra.getter=h.field(ra.field),ra.getter[wb]=!0);return ra.getter}function Ba(ra,
fa){var za=fa.fields;fa=fa.values;for(var Ra=za.length,Xa=0,Ia,ib;Xa<Ra;++Xa)if(ib=za[Xa],Ia=jc(ib)(ra),h.isDate(Ia)&&(Ia=h.toNumber(Ia)),h.isDate(fa[Xa])&&(fa[Xa]=h.toNumber(fa[Xa])),h.isArray(fa[Xa])&&h.isDate(fa[Xa][0])&&(fa[Xa]=fa[Xa].map(h.toNumber)),"E"===ib.type){if(h.isArray(fa[Xa])?0>fa[Xa].indexOf(Ia):Ia!==fa[Xa])return!1}else if("R"===ib.type){if(!h.inrange(Ia,fa[Xa]))return!1}else if("R-RE"===ib.type){if(!h.inrange(Ia,fa[Xa],!0,!1))return!1}else if("R-E"===ib.type){if(!h.inrange(Ia,fa[Xa],
!1,!1))return!1}else if("R-LE"===ib.type&&!h.inrange(Ia,fa[Xa],!1,!0))return!1;return!0}class Za extends Set{constructor(ra,fa=Cb){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:fa}});if(null!=ra)for(const za of ra)this.add(za)}has(ra){return super.has(ac(this,ra))}add(ra){return super.add(Xb(this,ra))}delete(ra){return super.delete(mc(this,ra))}}const wb=Symbol("vega_selection_getter"),ub=h.field("_vgsid_"),sb=function(ra){function fa(Ia,ib,bb=0,tb=Ia.length){if(bb<tb){if(0!==
za(ib,ib))return tb;do{const Qb=bb+tb>>>1;0>Ra(Ia[Qb],ib)?bb=Qb+1:tb=Qb}while(bb<tb)}return bb}let za,Ra,Xa;2!==ra.length?(za=ab,Ra=(Ia,ib)=>ab(ra(Ia),ib),Xa=(Ia,ib)=>ra(Ia)-ib):(za=ra===ab||ra===zb?ra:Yb,Xa=Ra=ra);return{left:fa,center:function(Ia,ib,bb=0,tb=Ia.length){tb=fa(Ia,ib,bb,tb-1);return tb>bb&&Xa(Ia[tb-1],ib)>-Xa(Ia[tb],ib)?tb-1:tb},right:function(Ia,ib,bb=0,tb=Ia.length){if(bb<tb){if(0!==za(ib,ib))return tb;do{const Qb=bb+tb>>>1;0>=Ra(Ia[Qb],ib)?bb=Qb+1:tb=Qb}while(bb<tb)}return bb}}}(ub),
xb=sb.left,hb=sb.right;var ec={_vgsid__union:function(...ra){const fa=new Za;for(const za of ra)for(const Ra of za)fa.add(Ra);return fa},_vgsid__intersect:function(ra,...fa){ra=new Za(ra);fa=fa.map(Vb);a:for(const za of ra)for(const Ra of fa)if(!Ra.has(za)){ra.delete(za);continue a}return ra},E_union:function(ra,fa){if(!ra.length)return fa;for(var za=0,Ra=fa.length;za<Ra;++za)0>ra.indexOf(fa[za])&&ra.push(fa[za]);return ra},E_intersect:function(ra,fa){return ra.length?ra.filter(za=>0<=fa.indexOf(za)):
fa},R_union:function(ra,fa){var za=h.toNumber(fa[0]),Ra=h.toNumber(fa[1]);za>Ra&&(za=fa[1],Ra=fa[0]);if(!ra.length)return[za,Ra];ra[0]>za&&(ra[0]=za);ra[1]<Ra&&(ra[1]=Ra);return ra},R_intersect:function(ra,fa){var za=h.toNumber(fa[0]),Ra=h.toNumber(fa[1]);za>Ra&&(za=fa[1],Ra=fa[0]);if(!ra.length)return[za,Ra];if(Ra<ra[0]||ra[1]<za)return[];ra[0]<za&&(ra[0]=za);ra[1]>Ra&&(ra[1]=Ra);return ra}};u.selectionIdTest=function(ra,fa,za){var Ra=this.context.data[ra];ra=Ra?Ra.values.value:[];Ra=Ra?Ra["index:unit"]&&
Ra["index:unit"].value:void 0;za="intersect"===za;fa=ub(fa);const Xa=xb(ra,fa);if(Xa===ra.length||ub(ra[Xa])!==fa)return!1;if(Ra&&za){if(1===Ra.size)return!0;if(hb(ra,fa)-Xa<Ra.size)return!1}return!0};u.selectionResolve=function(ra,fa,za,Ra){ra=(ra=this.context.data[ra])?ra.values.value:[];for(var Xa={},Ia={},ib={},bb,tb,Qb,eb,T,Z,ca=ra.length,ha=0,La,oa;ha<ca;++ha)if(bb=ra[ha],eb=bb.unit,tb=bb.fields,Qb=bb.values,tb&&Qb){La=0;for(oa=tb.length;La<oa;++La)T=tb[La],bb=Xa[T.field]||(Xa[T.field]={}),
Z=bb[eb]||(bb[eb]=[]),ib[T.field]=T=T.type.charAt(0),T=ec[`${T}_union`],bb[eb]=T(Z,h.array(Qb[La]));za&&(Z=Ia[eb]||(Ia[eb]=[]),Z.push(h.array(Qb).reduce((pa,m,D)=>(pa[tb[D].field]=m,pa),{})))}else T="_vgsid_",Qb=ub(bb),bb=Xa[T]||(Xa[T]={}),Z=bb[eb]||(bb[eb]=[]),Z.push(Qb),za&&(Z=Ia[eb]||(Ia[eb]=[]),Z.push({_vgsid_:Qb}));fa=fa||"union";Xa._vgsid_?Xa._vgsid_=ec[`${"_vgsid_"}_${fa}`](...Object.values(Xa._vgsid_)):Object.keys(Xa).forEach(pa=>{Xa[pa]=Object.keys(Xa[pa]).map(m=>Xa[pa][m]).reduce((m,D)=>
void 0===m?D:ec[`${ib[pa]}_${fa}`](m,D))});ra=Object.keys(Ia);za&&ra.length&&(Xa[Ra?"vlPoint":"vlMulti"]="union"===fa?{or:ra.reduce((pa,m)=>(pa.push(...Ia[m]),pa),[])}:{and:ra.map(pa=>({or:Ia[pa]}))});return Xa};u.selectionTest=function(ra,fa,za){var Ra=this.context.data[ra];ra=Ra?Ra.values.value:[];Ra=Ra?Ra["index:unit"]&&Ra["index:unit"].value:void 0;za="intersect"===za;for(var Xa=ra.length,Ia=0,ib,bb,tb,Qb;Ia<Xa;++Ia)if(ib=ra[Ia],Ra&&za){if(bb=bb||{},tb=bb[Qb=ib.unit]||0,-1!==tb){ib=Ba(fa,ib);
bb[Qb]=ib?-1:++tb;if(ib&&1===Ra.size)return!0;if(!ib&&tb===Ra.get(Qb).count)return!1}}else if(ib=Ba(fa,ib),za^ib)return ib;return Xa&&za};u.selectionTuples=function(ra,fa){return ra.map(za=>h.extend(fa.fields?{values:fa.fields.map(Ra=>jc(Ra)(za.datum))}:{_vgsid_:ub(za.datum)},fa))};u.selectionVisitor=function(ra,fa,za,Ra){fa[0].type!==ia.Literal&&h.error("First argument to selection functions must be a string literal.");ra=fa[0].value;fa=2<=fa.length&&h.peek(fa).value;const Xa=":"+ra;"intersect"!==
fa||h.hasOwnProperty(Ra,"@unit")||(Ra["@unit"]=za.getData(ra).indataRef(za,"unit"));h.hasOwnProperty(Ra,Xa)||(Ra[Xa]=za.getData(ra).tuplesRef())}})};
shadow$provide[48]=function(Eb,ob,Dc,Wa){(function(u,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,ob(21),ob(46),ob(33),ob(29),ob(34),ob(47),ob(30),ob(23)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression vega-scale vega-dataflow vega-scenegraph vega-selections vega-statistics vega-time".split(" "),h):(u="undefined"!==typeof globalThis?globalThis:u||self,h(u.vega={},u.vega,u.vega,u.vega,u.vega,u.vega,u.vega,u.vega,u.vega))})(this,function(u,h,ia,ab,zb,Yb,ac,
Xb,mc){function Cb(S){return(S=this.context.data[S])?S.values.value:[]}function Vb(S,Ja,mb){return(mb=(S=this.context.data[S]["index:"+Ja])?S.value.get(mb):void 0)?mb.count:mb}function jc(S,Ja){const mb=this.context.dataflow;mb.pulse(this.context.data[S].input,mb.changeset().remove(h.truthy).insert(Ja));return 1}function Ba(S,Ja,mb){if(S){const Fc=this.context.dataflow;Fc.pulse(S.mark.source,Fc.changeset().encode(S,Ja))}return void 0!==mb?mb:S}function Za(S,Ja,mb){if(!Number.isInteger(S)||!Number.isInteger(Ja))return"";
Kd.setYear(2E3);Kd.setMonth(S);Kd.setDate(Ja);return $c.call(this,Kd,mb)}function wb(S){return Za.call(this,S,1,"%B")}function ub(S){return Za.call(this,S,1,"%b")}function sb(S){return Za.call(this,0,2+S,"%A")}function xb(S){return Za.call(this,0,2+S,"%a")}function hb(S,Ja,mb,Fc){Ja[0].type!==ia.Literal&&h.error("First argument to data functions must be a string literal.");S=Ja[0].value;Ja=":"+S;if(!h.hasOwnProperty(Ja,Fc))try{Fc[Ja]=mb.getData(S).tuplesRef()}catch(Gc){}}function ec(S,Ja,mb,Fc){Ja[0].type!==
ia.Literal&&h.error("First argument to indata must be a string literal.");Ja[1].type!==ia.Literal&&h.error("Second argument to indata must be a string literal.");S=Ja[0].value;Ja=Ja[1].value;const Gc="@"+Ja;h.hasOwnProperty(Gc,Fc)||(Fc[Gc]=mb.getData(S).indataRef(mb,Ja))}function ra(S,Ja,mb,Fc){if(Ja[0].type===ia.Literal)fa(mb,Fc,Ja[0].value);else for(S in mb.scales)fa(mb,Fc,S)}function fa(S,Ja,mb){const Fc="%"+mb;if(!h.hasOwnProperty(Ja,Fc))try{Ja[Fc]=S.scaleRef(mb)}catch(Gc){}}function za(S,Ja){if(h.isFunction(S))return S;
if(h.isString(S))return(S=Ja.scales[S])&&ab.isRegisteredScale(S.value)?S.value:void 0}function Ra(S,Ja,mb){Ja.__bandwidth=Gc=>Gc&&Gc.bandwidth?Gc.bandwidth():0;mb._bandwidth=ra;mb._range=ra;mb._scale=ra;const Fc=Gc=>"_["+(Gc.type===ia.Literal?h.stringValue("%"+Gc.value):h.stringValue("%")+"+"+S(Gc))+"]";return{_bandwidth:Gc=>`this.__bandwidth(${Fc(Gc[0])})`,_range:Gc=>`${Fc(Gc[0])}.range()`,_scale:Gc=>`${Fc(Gc[0])}(${S(Gc[1])})`}}function Xa(S){return 1<S?Aa:-1>S?-Aa:Math.asin(S)}function Ia(){}function ib(S,
Ja){if(S&&Re.hasOwnProperty(S.type))Re[S.type](S,Ja)}function bb(S,Ja,mb){var Fc=-1;mb=S.length-mb;for(Ja.lineStart();++Fc<mb;){var Gc=S[Fc];Ja.point(Gc[0],Gc[1],Gc[2])}Ja.lineEnd()}function tb(S,Ja){var mb=-1,Fc=S.length;for(Ja.polygonStart();++mb<Fc;)bb(S[mb],Ja,1);Ja.polygonEnd()}function Qb(S,Ja){if(S&&fe.hasOwnProperty(S.type))fe[S.type](S,Ja);else ib(S,Ja)}function eb(){ue.point=Z}function T(){ca(ef,kf)}function Z(S,Ja){ue.point=ca;ef=S;kf=Ja;S*=rc;Ja*=rc;Ke=S;Ye=Tc(Ja=Ja/2+Oa);Ze=id(Ja)}function ca(S,
Ja){S*=rc;Ja*=rc;Ja=Ja/2+Oa;var mb=S-Ke,Fc=0<=mb?1:-1,Gc=Fc*mb;mb=Tc(Ja);Ja=id(Ja);var Ld=Ze*Ja,ge=Ye*mb+Ld*Tc(Gc);Fc=Ld*Fc*id(Gc);Ee.add(Hc(Fc,ge));Ke=S;Ye=mb;Ze=Ja}function ha(S,Ja){return[S[1]*Ja[2]-S[2]*Ja[1],S[2]*Ja[0]-S[0]*Ja[2],S[0]*Ja[1]-S[1]*Ja[0]]}function La(S,Ja){Ga.push(qb=[oe=S,na=S]);Ja<Ae&&(Ae=Ja);Ja>l&&(l=Ja)}function oa(S,Ja){var mb=[S*rc,Ja*rc];var Fc=mb[0];mb=mb[1];var Gc=Tc(mb);Fc=[Gc*Tc(Fc),Gc*id(Fc),id(mb)];if(Ca){mb=ha(Ca,Fc);Gc=mb=ha([mb[1],-mb[0],0],mb);var Ld=ld(Gc[0]*Gc[0]+
Gc[1]*Gc[1]+Gc[2]*Gc[2]);Gc[0]/=Ld;Gc[1]/=Ld;Gc[2]/=Ld;mb=[Hc(mb[1],mb[0]),Xa(mb[2])];var ge=S-q;Gc=0<ge?1:-1;Ld=mb[0]*gd*Gc;ge=180<Pc(ge);ge^(Gc*q<Ld&&Ld<Gc*S)?(mb=mb[1]*gd,mb>l&&(l=mb)):(Ld=(Ld+360)%360-180,ge^(Gc*q<Ld&&Ld<Gc*S))?(mb=-mb[1]*gd,mb<Ae&&(Ae=mb)):(Ja<Ae&&(Ae=Ja),Ja>l&&(l=Ja));ge?S<q?P(oe,S)>P(oe,na)&&(na=S):P(S,na)>P(oe,na)&&(oe=S):na>=oe?(S<oe&&(oe=S),S>na&&(na=S)):S>q?P(oe,S)>P(oe,na)&&(na=S):P(S,na)>P(oe,na)&&(oe=S)}else Ga.push(qb=[oe=S,na=S]);Ja<Ae&&(Ae=Ja);Ja>l&&(l=Ja);Ca=Fc;
q=S}function pa(){nb.point=oa}function m(){qb[0]=oe;qb[1]=na;nb.point=La;Ca=null}function D(S,Ja){if(Ca){var mb=S-q;Qa.add(180<Pc(mb)?mb+(0<mb?360:-360):mb)}else K=S,ja=Ja;ue.point(S,Ja);oa(S,Ja)}function L(){ue.lineStart()}function w(){D(K,ja);ue.lineEnd();1E-6<Pc(Qa)&&(oe=-(na=180));qb[0]=oe;qb[1]=na;Ca=null}function P(S,Ja){return 0>(Ja-=S)?Ja+360:Ja}function A(S,Ja){return S[0]-Ja[0]}function V(S,Ja){return S[0]<=S[1]?S[0]<=Ja&&Ja<=S[1]:Ja<S[0]||S[1]<Ja}function G(S,Ja){S*=rc;Ja*=rc;var mb=Tc(Ja);
x(mb*Tc(S),mb*id(S),id(Ja))}function x(S,Ja,mb){++wc;zc+=(S-zc)/wc;yc+=(Ja-yc)/wc;Rc+=(mb-Rc)/wc}function z(){Qd.point=F}function F(S,Ja){S*=rc;Ja*=rc;var mb=Tc(Ja);Vd=mb*Tc(S);le=mb*id(S);Pd=id(Ja);Qd.point=U;x(Vd,le,Pd)}function U(S,Ja){S*=rc;Ja*=rc;var mb=Tc(Ja),Fc=mb*Tc(S);S=mb*id(S);Ja=id(Ja);var Gc=Hc(ld((Gc=le*Ja-Pd*S)*Gc+(Gc=Pd*Fc-Vd*Ja)*Gc+(Gc=Vd*S-le*Fc)*Gc),Vd*Fc+le*S+Pd*Ja);vc+=Gc;ed+=Gc*(Vd+(Vd=Fc));Td+=Gc*(le+(le=S));Ad+=Gc*(Pd+(Pd=Ja));x(Vd,le,Pd)}function sa(){Qd.point=G}function N(){Qd.point=
wa}function la(){Ma(Hd,Be);Qd.point=G}function wa(S,Ja){Hd=S;Be=Ja;S*=rc;Ja*=rc;Qd.point=Ma;var mb=Tc(Ja);Vd=mb*Tc(S);le=mb*id(S);Pd=id(Ja);x(Vd,le,Pd)}function Ma(S,Ja){S*=rc;Ja*=rc;var mb=Tc(Ja),Fc=mb*Tc(S);S=mb*id(S);Ja=id(Ja);mb=le*Ja-Pd*S;var Gc=Pd*Fc-Vd*Ja,Ld=Vd*S-le*Fc,ge=Yc(mb,Gc,Ld),Ge=Xa(ge);ge=ge&&-Ge/ge;Md.add(ge*mb);Ud.add(ge*Gc);pc.add(ge*Ld);vc+=Ge;ed+=Ge*(Vd+(Vd=Fc));Td+=Ge*(le+(le=S));Ad+=Ge*(Pd+(Pd=Ja));x(Vd,le,Pd)}function Pa(S,Ja){return function(mb,Fc,Gc){return mb?(mb=za(mb,
(Gc||this).context))&&mb.path[S](Fc):Ja(Fc)}}function Ya(S,Ja){return(S=za(S,(Ja||this).context))&&S.scale()}function vb(S){const Ja=this.context.group;let mb=!1;if(Ja)for(;S;){if(S===Ja){mb=!0;break}S=S.mark.group}return mb}function jb(S,Ja,mb){try{S[Ja].apply(S,["EXPRESSION"].concat([].slice.call(mb)))}catch(Fc){S.warn(Fc)}return mb[mb.length-1]}function Ub(){return jb(this.context.dataflow,"warn",arguments)}function W(){return jb(this.context.dataflow,"info",arguments)}function Ea(){return jb(this.context.dataflow,
"debug",arguments)}function Mb(S,Ja,mb){S.prototype=Ja.prototype=mb;mb.constructor=S}function oc(S,Ja){S=Object.create(S.prototype);for(var mb in Ja)S[mb]=Ja[mb];return S}function $b(){}function Nb(){return this.rgb().formatHex()}function Rb(){return this.rgb().formatRgb()}function xc(S){var Ja,mb;S=(S+"").trim().toLowerCase();return(Ja=hd.exec(S))?(mb=Ja[1].length,Ja=parseInt(Ja[1],16),6===mb?dd(Ja):3===mb?new yb(Ja>>8&15|Ja>>4&240,Ja>>4&15|Ja&240,(Ja&15)<<4|Ja&15,1):8===mb?qa(Ja>>24&255,Ja>>16&
255,Ja>>8&255,(Ja&255)/255):4===mb?qa(Ja>>12&15|Ja>>8&240,Ja>>8&15|Ja>>4&240,Ja>>4&15|Ja&240,((Ja&15)<<4|Ja&15)/255):null):(Ja=ve.exec(S))?new yb(Ja[1],Ja[2],Ja[3],1):(Ja=gf.exec(S))?new yb(255*Ja[1]/100,255*Ja[2]/100,255*Ja[3]/100,1):(Ja=lf.exec(S))?qa(Ja[1],Ja[2],Ja[3],Ja[4]):(Ja=Dg.exec(S))?qa(255*Ja[1]/100,255*Ja[2]/100,255*Ja[3]/100,Ja[4]):(Ja=vf.exec(S))?jd(Ja[1],Ja[2]/100,Ja[3]/100,1):(Ja=Mf.exec(S))?jd(Ja[1],Ja[2]/100,Ja[3]/100,Ja[4]):Vf.hasOwnProperty(S)?dd(Vf[S]):"transparent"===S?new yb(NaN,
NaN,NaN,0):null}function dd(S){return new yb(S>>16&255,S>>8&255,S&255,1)}function qa(S,Ja,mb,Fc){0>=Fc&&(S=Ja=mb=NaN);return new yb(S,Ja,mb,Fc)}function Db(S){S instanceof $b||(S=xc(S));if(!S)return new yb;S=S.rgb();return new yb(S.r,S.g,S.b,S.opacity)}function Ua(S,Ja,mb,Fc){return 1===arguments.length?Db(S):new yb(S,Ja,mb,null==Fc?1:Fc)}function yb(S,Ja,mb,Fc){this.r=+S;this.g=+Ja;this.b=+mb;this.opacity=+Fc}function Hb(){return`#${Bc(this.r)}${Bc(this.g)}${Bc(this.b)}`}function Ob(){const S=Zb(this.opacity);
return`${1===S?"rgb(":"rgba("}${ic(this.r)}, ${ic(this.g)}, ${ic(this.b)}${1===S?")":`, ${S})`}`}function Zb(S){return isNaN(S)?1:Math.max(0,Math.min(1,S))}function ic(S){return Math.max(0,Math.min(255,Math.round(S)||0))}function Bc(S){S=ic(S);return(16>S?"0":"")+S.toString(16)}function jd(S,Ja,mb,Fc){0>=Fc?S=Ja=mb=NaN:0>=mb||1<=mb?S=Ja=NaN:0>=Ja&&(S=NaN);return new Ha(S,Ja,mb,Fc)}function Vc(S){if(S instanceof Ha)return new Ha(S.h,S.s,S.l,S.opacity);S instanceof $b||(S=xc(S));if(!S)return new Ha;
if(S instanceof Ha)return S;S=S.rgb();var Ja=S.r/255,mb=S.g/255,Fc=S.b/255,Gc=Math.min(Ja,mb,Fc),Ld=Math.max(Ja,mb,Fc),ge=NaN,Ge=Ld-Gc,ze=(Ld+Gc)/2;Ge?(ge=Ja===Ld?(mb-Fc)/Ge+6*(mb<Fc):mb===Ld?(Fc-Ja)/Ge+2:(Ja-mb)/Ge+4,Ge/=.5>ze?Ld+Gc:2-Ld-Gc,ge*=60):Ge=0<ze&&1>ze?0:ge;return new Ha(ge,Ge,ze,S.opacity)}function ma(S,Ja,mb,Fc){return 1===arguments.length?Vc(S):new Ha(S,Ja,mb,null==Fc?1:Fc)}function Ha(S,Ja,mb,Fc){this.h=+S;this.s=+Ja;this.l=+mb;this.opacity=+Fc}function gb(S){S=(S||0)%360;return 0>
S?S+360:S}function Q(S){return Math.max(0,Math.min(1,S||0))}function t(S,Ja,mb){return 255*(60>S?Ja+(mb-Ja)*S/60:180>S?mb:240>S?Ja+(mb-Ja)*(240-S)/60:Ja)}function ba(S){if(S instanceof Da)return new Da(S.l,S.a,S.b,S.opacity);if(S instanceof Ec)return Sc(S);S instanceof yb||(S=Db(S));var Ja=Fb(S.r),mb=Fb(S.g),Fc=Fb(S.b),Gc=Sa(.2225045*Ja+.7168786*mb+.0606169*Fc);if(Ja===mb&&mb===Fc)var Ld=Ja=Gc;else Ld=Sa((.4360747*Ja+.3850649*mb+.1430804*Fc)/.96422),Ja=Sa((.0139322*Ja+.0971045*mb+.7141733*Fc)/.82521);
return new Da(116*Gc-16,500*(Ld-Gc),200*(Gc-Ja),S.opacity)}function xa(S,Ja,mb,Fc){return 1===arguments.length?ba(S):new Da(S,Ja,mb,null==Fc?1:Fc)}function Da(S,Ja,mb,Fc){this.l=+S;this.a=+Ja;this.b=+mb;this.opacity=+Fc}function Sa(S){return S>ig?Math.pow(S,1/3):S/Uf+Wf}function kb(S){return S>og?S*S*S:Uf*(S-Wf)}function Sb(S){return 255*(.0031308>=S?12.92*S:1.055*Math.pow(S,1/2.4)-.055)}function Fb(S){return.04045>=(S/=255)?S/12.92:Math.pow((S+.055)/1.055,2.4)}function Kb(S){if(S instanceof Ec)return new Ec(S.h,
S.c,S.l,S.opacity);S instanceof Da||(S=ba(S));if(0===S.a&&0===S.b)return new Ec(NaN,0<S.l&&100>S.l?0:NaN,S.l,S.opacity);var Ja=Math.atan2(S.b,S.a)*Se;return new Ec(0>Ja?Ja+360:Ja,Math.sqrt(S.a*S.a+S.b*S.b),S.l,S.opacity)}function Cc(S,Ja,mb,Fc){return 1===arguments.length?Kb(S):new Ec(S,Ja,mb,null==Fc?1:Fc)}function Ec(S,Ja,mb,Fc){this.h=+S;this.c=+Ja;this.l=+mb;this.opacity=+Fc}function Sc(S){if(isNaN(S.h))return new Da(S.l,0,0,S.opacity);var Ja=S.h*mf;return new Da(S.l,Math.cos(Ja)*S.c,Math.sin(Ja)*
S.c,S.opacity)}function vd(S){S/=255;return.03928>=S?S/12.92:Math.pow((S+.055)/1.055,2.4)}function pd(S){var Ja=Ua(S);S=vd(Ja.r);const mb=vd(Ja.g);Ja=vd(Ja.b);return.2126*S+.7152*mb+.0722*Ja}function fd(S,Ja){S=pd(S);Ja=pd(Ja);return(Math.max(S,Ja)+.05)/(Math.min(S,Ja)+.05)}function Cd(){const S=[].slice.call(arguments);S.unshift({});return h.extend(...S)}function Dd(S,Ja){if(S===Ja||S!==S&&Ja!==Ja)S=!0;else if(h.isArray(S))if(h.isArray(Ja)&&S.length===Ja.length)a:{for(let mb=0,Fc=S.length;mb<Fc;++mb)if(!Dd(S[mb],
Ja[mb])){S=!1;break a}S=!0}else S=!1;else S=h.isObject(S)&&h.isObject(Ja)?rd(S,Ja):!1;return S}function rd(S,Ja){for(const mb in S)if(!Dd(S[mb],Ja[mb]))return!1;return!0}function we(S){return Ja=>rd(S,Ja)}function Bd(S,Ja,mb,Fc,Gc,Ld){const ge=this.context.dataflow,Ge=this.context.data[S],ze=Ge.input;S=ge.stamp();let Hf=Ge.changes,Xf;if(!1===ge._trigger||!(ze.value.length||Ja||Fc))return 0;if(!Hf||Hf.stamp<S)Ge.changes=Hf=ge.changeset(),Hf.stamp=S,ge.runAfter(()=>{Ge.modified=!0;ge.pulse(ze,Hf).run()},
!0,1);mb&&(mb=!0===mb?h.truthy:h.isArray(mb)||zb.isTuple(mb)?mb:we(mb),Hf.remove(mb));Ja&&Hf.insert(Ja);Fc&&(mb=we(Fc),ze.value.some(mb)?Hf.remove(mb):Hf.insert(Fc));if(Gc)for(Xf in Ld)Hf.modify(Gc,Xf,Ld[Xf]);return 1}function y(S){S=S.touches;return Math.hypot(S[0].clientX-S[1].clientX,S[0].clientY-S[1].clientY)}function J(S){S=S.touches;return Math.atan2(S[0].clientY-S[1].clientY,S[0].clientX-S[1].clientX)}function va(S,Ja){Ja=Bf[Ja]||(Bf[Ja]=h.field(Ja));return h.isArray(S)?S.map(Ja):Ja(S)}function Ka(S){return h.isArray(S)||
ArrayBuffer.isView(S)?S:null}function lb(S){return Ka(S)||(h.isString(S)?S:null)}function Bb(S,...Ja){return Ka(S).join(...Ja)}function bc(S,...Ja){return lb(S).indexOf(...Ja)}function Tb(S,...Ja){return lb(S).lastIndexOf(...Ja)}function nc(S,...Ja){return lb(S).slice(...Ja)}function Jc(S,Ja,mb){h.isFunction(mb)&&h.error("Function argument passed to replace.");return String(S).replace(Ja,mb)}function Ac(S){return Ka(S).slice().reverse()}function Xc(S,Ja,mb){return ab.bandSpace(S||0,Ja||0,mb||0)}function kd(S,
Ja){return(S=za(S,(Ja||this).context))&&S.bandwidth?S.bandwidth():0}function qd(S,Ja){return(S=za(S,(Ja||this).context))?S.copy():void 0}function xd(S,Ja){return(S=za(S,(Ja||this).context))?S.domain():[]}function nd(S,Ja,mb){return(S=za(S,(mb||this).context))?h.isArray(Ja)?(S.invertRange||S.invert)(Ja):(S.invert||S.invertExtent)(Ja):void 0}function Id(S,Ja){return(S=za(S,(Ja||this).context))&&S.range?S.range():[]}function me(S,Ja,mb){return(S=za(S,(mb||this).context))?S(Ja):void 0}function Oe(S,Ja,
mb,Fc,Gc){S=za(S,(Gc||this).context);const Ld=Yb.Gradient(Ja,mb);Ja=S.domain();mb=Ja[0];Gc=h.peek(Ja);let ge=h.identity;Gc-mb?ge=ab.scaleFraction(S,mb,Gc):S=(S.interpolator?ab.scale("sequential")().interpolator(S.interpolator()):ab.scale("linear")().interpolate(S.interpolate()).range(S.range())).domain([mb=0,Gc=1]);S.ticks&&(Ja=S.ticks(+Fc||15),mb!==Ja[0]&&Ja.unshift(mb),Gc!==h.peek(Ja)&&Ja.push(Gc));Ja.forEach(Ge=>Ld.stop(ge(Ge),S(Ge)));return Ld}function Ie(S,Ja,mb){const Fc=za(S,(mb||this).context);
return function(Gc){return Fc?Fc.path.context(Gc)(Ja):""}}function Je(S){let Ja=null;return function(mb){return mb?Yb.pathRender(mb,Ja=Ja||Yb.pathParse(S)):S}}function tf(S,Ja){S=Cb.call(Ja,S);return S.root&&S.root.lookup||{}}function bf(S,Ja,mb){S=tf(S,this);Ja=S[Ja];mb=S[mb];return Ja&&mb?Ja.path(mb).map(Tg):void 0}function E(S,Ja){return(S=tf(S,this)[Ja])?S.ancestors().map(Tg):void 0}function aa(){const S="undefined"!==typeof window&&window||null;return S?S.screen:{}}function Fa(){const S="undefined"!==
typeof window&&window||null;return S?[S.innerWidth,S.innerHeight]:[void 0,void 0]}function fb(){var S=this.context.dataflow;return(S=S.container&&S.container())?[S.clientWidth,S.clientHeight]:[void 0,void 0]}function Gb(S,Ja,mb){if(!S)return[];const [Fc,Gc]=S;S=(new Yb.Bounds).set(Fc[0],Fc[1],Gc[0],Gc[1]);mb=mb||this.context.dataflow.scenegraph().root;return Yb.intersect(mb,S,qc(Ja))}function qc(S){let Ja=null;if(S){const mb=h.array(S.marktype),Fc=h.array(S.markname);Ja=Gc=>(!mb.length||mb.some(Ld=>
Gc.marktype===Ld))&&(!Fc.length||Fc.some(Ld=>Gc.name===Ld))}return Ja}function Ib(S,Ja,mb){if(1===arguments.length)return Eg[S];Eg[S]=Ja;mb&&(Fg[S]=mb);ch&&(ch.functions[S]="this."+S);return this}const Oc=S=>function(Ja,mb){const Fc=this.context.dataflow.locale();return null===Ja?"null":Fc[S](mb)(Ja)},od=Oc("format"),$c=Oc("timeFormat"),Nc=Oc("utcFormat"),Nd=Oc("timeParse"),ce=Oc("utcParse"),Kd=new Date(2E3,0,1);class Jd{constructor(){this._partials=new Float64Array(32);this._n=0}add(S){const Ja=
this._partials;let mb=0;for(let Fc=0;Fc<this._n&&32>Fc;Fc++){const Gc=Ja[Fc],Ld=S+Gc;(S=Math.abs(S)<Math.abs(Gc)?S-(Ld-Gc):Gc-(Ld-S))&&(Ja[mb++]=S);S=Ld}Ja[mb]=S;this._n=mb+1;return this}valueOf(){const S=this._partials;let Ja=this._n;let mb,Fc=0;if(0<Ja){for(Fc=S[--Ja];0<Ja;){var Gc=Fc;mb=S[--Ja];Fc=Gc+mb;if(Gc=mb-(Fc-Gc))break}0<Ja&&(0>Gc&&0>S[Ja-1]||0<Gc&&0<S[Ja-1])&&(mb=2*Gc,Gc=Fc+mb,mb==Gc-Fc&&(Fc=Gc))}return Fc}}var $d=Math.PI,Aa=$d/2,Oa=$d/4,cc=2*$d,gd=180/$d,rc=$d/180,Pc=Math.abs,Hc=Math.atan2,
Tc=Math.cos,Yc=Math.hypot,id=Math.sin,ld=Math.sqrt,fe={Feature:function(S,Ja){ib(S.geometry,Ja)},FeatureCollection:function(S,Ja){S=S.features;for(var mb=-1,Fc=S.length;++mb<Fc;)ib(S[mb].geometry,Ja)}},Re={Sphere:function(S,Ja){Ja.sphere()},Point:function(S,Ja){S=S.coordinates;Ja.point(S[0],S[1],S[2])},MultiPoint:function(S,Ja){for(var mb=S.coordinates,Fc=-1,Gc=mb.length;++Fc<Gc;)S=mb[Fc],Ja.point(S[0],S[1],S[2])},LineString:function(S,Ja){bb(S.coordinates,Ja,0)},MultiLineString:function(S,Ja){S=
S.coordinates;for(var mb=-1,Fc=S.length;++mb<Fc;)bb(S[mb],Ja,0)},Polygon:function(S,Ja){tb(S.coordinates,Ja)},MultiPolygon:function(S,Ja){S=S.coordinates;for(var mb=-1,Fc=S.length;++mb<Fc;)tb(S[mb],Ja)},GeometryCollection:function(S,Ja){S=S.geometries;for(var mb=-1,Fc=S.length;++mb<Fc;)ib(S[mb],Ja)}},Ee=new Jd,ne=new Jd,ef,kf,Ke,Ye,Ze,ue={point:Ia,lineStart:Ia,lineEnd:Ia,polygonStart:function(){Ee=new Jd;ue.lineStart=eb;ue.lineEnd=T},polygonEnd:function(){var S=+Ee;ne.add(0>S?cc+S:S);this.lineStart=
this.lineEnd=this.point=Ia},sphere:function(){ne.add(cc)}},oe,Ae,na,l,q,K,ja,Ca,Qa,Ga,qb,nb={point:La,lineStart:pa,lineEnd:m,polygonStart:function(){nb.point=D;nb.lineStart=L;nb.lineEnd=w;Qa=new Jd;ue.polygonStart()},polygonEnd:function(){ue.polygonEnd();nb.point=La;nb.lineStart=pa;nb.lineEnd=m;0>Ee?(oe=-(na=180),Ae=-(l=90)):1E-6<Qa?l=90:-1E-6>Qa&&(Ae=-90);qb[0]=oe;qb[1]=na},sphere:function(){oe=-(na=180);Ae=-(l=90)}},wc,vc,zc,yc,Rc,ed,Td,Ad,Md,Ud,pc,Hd,Be,Vd,le,Pd,Qd={sphere:Ia,point:G,lineStart:z,
lineEnd:sa,polygonStart:function(){Qd.lineStart=N;Qd.lineEnd=la},polygonEnd:function(){Qd.lineStart=z;Qd.lineEnd=sa}};const Ne=Pa("area",function(S){ne=new Jd;Qb(S,ue);return 2*ne}),Fe=Pa("bounds",function(S){var Ja,mb,Fc;l=na=-(oe=Ae=Infinity);Ga=[];Qb(S,nb);if(Ja=Ga.length){Ga.sort(A);S=1;var Gc=Ga[0];for(mb=[Gc];S<Ja;++S){var Ld=Ga[S];V(Gc,Ld[0])||V(Gc,Ld[1])?(P(Gc[0],Ld[1])>P(Gc[0],Gc[1])&&(Gc[1]=Ld[1]),P(Ld[0],Gc[1])>P(Gc[0],Gc[1])&&(Gc[0]=Ld[0])):mb.push(Gc=Ld)}var ge=-Infinity;Ja=mb.length-
1;S=0;for(Gc=mb[Ja];S<=Ja;Gc=Ld,++S)Ld=mb[S],(Fc=P(Gc[1],Ld[0]))>ge&&(ge=Fc,oe=Ld[0],na=Gc[1])}Ga=qb=null;return Infinity===oe||Infinity===Ae?[[NaN,NaN],[NaN,NaN]]:[[oe,Ae],[na,l]]}),re=Pa("centroid",function(S){wc=vc=zc=yc=Rc=ed=Td=Ad=0;Md=new Jd;Ud=new Jd;pc=new Jd;Qb(S,Qd);S=+Md;var Ja=+Ud,mb=+pc,Fc=Yc(S,Ja,mb);return 1E-12>Fc&&(S=ed,Ja=Td,mb=Ad,1E-6>vc&&(S=zc,Ja=yc,mb=Rc),Fc=Yc(S,Ja,mb),1E-12>Fc)?[NaN,NaN]:[Hc(Ja,S)*gd,Xa(mb/Fc)*gd]});var Me=1/.7,hd=/^#([0-9a-f]{3,8})$/,ve=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),
gf=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),lf=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Dg=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
vf=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Mf=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Vf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,
bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,
darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,
lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,
mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,
plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,
yellow:16776960,yellowgreen:10145074};Mb($b,xc,{copy(S){return Object.assign(new this.constructor,this,S)},displayable(){return this.rgb().displayable()},hex:Nb,formatHex:Nb,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Vc(this).formatHsl()},formatRgb:Rb,toString:Rb});Mb(yb,Ua,oc($b,{brighter(S){S=null==S?Me:Math.pow(Me,S);return new yb(this.r*S,this.g*S,this.b*S,this.opacity)},darker(S){S=null==S?.7:Math.pow(.7,S);return new yb(this.r*S,this.g*S,this.b*S,this.opacity)},
rgb(){return this},clamp(){return new yb(ic(this.r),ic(this.g),ic(this.b),Zb(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Hb,formatHex:Hb,formatHex8:function(){return`#${Bc(this.r)}${Bc(this.g)}${Bc(this.b)}${Bc(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ob,toString:Ob}));Mb(Ha,ma,oc($b,{brighter(S){S=null==S?Me:Math.pow(Me,S);return new Ha(this.h,this.s,this.l*S,this.opacity)},
darker(S){S=null==S?.7:Math.pow(.7,S);return new Ha(this.h,this.s,this.l*S,this.opacity)},rgb(){var S=this.h%360+360*(0>this.h),Ja=isNaN(S)||isNaN(this.s)?0:this.s,mb=this.l;Ja=mb+(.5>mb?mb:1-mb)*Ja;mb=2*mb-Ja;return new yb(t(240<=S?S-240:S+120,mb,Ja),t(S,mb,Ja),t(120>S?S+240:S-120,mb,Ja),this.opacity)},clamp(){return new Ha(gb(this.h),Q(this.s),Q(this.l),Zb(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const S=
Zb(this.opacity);return`${1===S?"hsl(":"hsla("}${gb(this.h)}, ${100*Q(this.s)}%, ${100*Q(this.l)}%${1===S?")":`, ${S})`}`}}));const mf=Math.PI/180,Se=180/Math.PI,Wf=4/29,og=6/29,Uf=3*og*og,ig=og*og*og;Mb(Da,xa,oc($b,{brighter(S){return new Da(this.l+18*(null==S?1:S),this.a,this.b,this.opacity)},darker(S){return new Da(this.l-18*(null==S?1:S),this.a,this.b,this.opacity)},rgb(){var S=(this.l+16)/116,Ja=isNaN(this.a)?S:S+this.a/500,mb=isNaN(this.b)?S:S-this.b/200;Ja=.96422*kb(Ja);S=1*kb(S);mb=.82521*
kb(mb);return new yb(Sb(3.1338561*Ja-1.6168667*S-.4906146*mb),Sb(-.9787684*Ja+1.9161415*S+.033454*mb),Sb(.0719453*Ja-.2289914*S+1.4052427*mb),this.opacity)}}));Mb(Ec,Cc,oc($b,{brighter(S){return new Ec(this.h,this.c,this.l+18*(null==S?1:S),this.opacity)},darker(S){return new Ec(this.h,this.c,this.l-18*(null==S?1:S),this.opacity)},rgb(){return Sc(this).rgb()}}));const Bf={},Tg=S=>S.data,Eg={random(){return Xb.random()},cumulativeNormal:Xb.cumulativeNormal,cumulativeLogNormal:Xb.cumulativeLogNormal,
cumulativeUniform:Xb.cumulativeUniform,densityNormal:Xb.densityNormal,densityLogNormal:Xb.densityLogNormal,densityUniform:Xb.densityUniform,quantileNormal:Xb.quantileNormal,quantileLogNormal:Xb.quantileLogNormal,quantileUniform:Xb.quantileUniform,sampleNormal:Xb.sampleNormal,sampleLogNormal:Xb.sampleLogNormal,sampleUniform:Xb.sampleUniform,isArray:h.isArray,isBoolean:h.isBoolean,isDate:h.isDate,isDefined(S){return void 0!==S},isNumber:h.isNumber,isObject:h.isObject,isRegExp:h.isRegExp,isString:h.isString,
isTuple:zb.isTuple,isValid(S){return null!=S&&S===S},toBoolean:h.toBoolean,toDate(S){return h.toDate(S)},toNumber:h.toNumber,toString:h.toString,indexof:bc,join:Bb,lastindexof:Tb,replace:Jc,reverse:Ac,slice:nc,flush:h.flush,lerp:h.lerp,merge:Cd,pad:h.pad,peek:h.peek,pluck:va,span:h.span,inrange:h.inrange,truncate:h.truncate,rgb:Ua,lab:xa,hcl:Cc,hsl:ma,luminance:pd,contrast:fd,sequence:function(S,Ja,mb){S=+S;Ja=+Ja;mb=2>(Gc=arguments.length)?(Ja=S,S=0,1):3>Gc?1:+mb;for(var Fc=-1,Gc=Math.max(0,Math.ceil((Ja-
S)/mb))|0,Ld=Array(Gc);++Fc<Gc;)Ld[Fc]=S+Fc*mb;return Ld},format:od,utcFormat:Nc,utcParse:ce,utcOffset:mc.utcOffset,utcSequence:mc.utcSequence,timeFormat:$c,timeParse:Nd,timeOffset:mc.timeOffset,timeSequence:mc.timeSequence,timeUnitSpecifier:mc.timeUnitSpecifier,monthFormat:wb,monthAbbrevFormat:ub,dayFormat:sb,dayAbbrevFormat:xb,quarter:h.quarter,utcquarter:h.utcquarter,week:mc.week,utcweek:mc.utcweek,dayofyear:mc.dayofyear,utcdayofyear:mc.utcdayofyear,warn:Ub,info:W,debug:Ea,extent(S){return h.extent(S)},
inScope:vb,intersect:Gb,clampRange:h.clampRange,pinchDistance:y,pinchAngle:J,screen:aa,containerSize:fb,windowSize:Fa,bandspace:Xc,setdata:jc,pathShape:Je,panLinear:h.panLinear,panLog:h.panLog,panPow:h.panPow,panSymlog:h.panSymlog,zoomLinear:h.zoomLinear,zoomLog:h.zoomLog,zoomPow:h.zoomPow,zoomSymlog:h.zoomSymlog,encode:Ba,modify:Bd,lassoAppend:function(S,Ja,mb,Fc=5){S=h.array(S);const Gc=S[S.length-1];return void 0===Gc||Math.hypot(Gc[0]-Ja,Gc[1]-mb)>Fc?[...S,[Ja,mb]]:S},lassoPath:function(S){return h.array(S).reduce((Ja,
[mb,Fc],Gc)=>Ja+(0==Gc?`M ${mb},${Fc} `:Gc===S.length-1?" Z":`L ${mb},${Fc} `),"")},intersectLasso:function(S,Ja,mb){const {x:Fc,y:Gc,mark:Ld}=mb;mb=(new Yb.Bounds).set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const [ge,Ge]of Ja)ge<mb.x1&&(mb.x1=ge),ge>mb.x2&&(mb.x2=ge),Ge<mb.y1&&(mb.y1=Ge),Ge>mb.y2&&(mb.y2=Ge);mb.translate(Fc,Gc);return Gb([[mb.x1,mb.y1],[mb.x2,mb.y2]],S,Ld).filter(ge=>{var Ge=ge.y;let ze=0;for(let Hf=0,Xf=Ja.length-1;Hf<
Ja.length;Xf=Hf++){const [ih,Qf]=Ja[Xf],[Vg,dg]=Ja[Hf];dg>Ge!=Qf>Ge&&ge.x<(ih-Vg)*(Ge-dg)/(Qf-dg)+Vg&&ze++}return ze&1})}},Ch="view item group xy x y".split(" "),Fg={},Ug={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:S=>`_[${h.stringValue("$"+S)}]`,functions:function(S){const Ja=ia.functions(S);Ch.forEach(mb=>Ja[mb]="event.vega."+mb);for(const mb in Eg)Ja[mb]="this."+mb;h.extend(Ja,Ra(S,Eg,Fg));return Ja},constants:ia.constants,visitors:Fg},ch=ia.codegenExpression(Ug);
Ib("bandwidth",kd,ra);Ib("copy",qd,ra);Ib("domain",xd,ra);Ib("range",Id,ra);Ib("invert",nd,ra);Ib("scale",me,ra);Ib("gradient",Oe,ra);Ib("geoArea",Ne,ra);Ib("geoBounds",Fe,ra);Ib("geoCentroid",re,ra);Ib("geoShape",Ie,ra);Ib("geoScale",Ya,ra);Ib("indata",Vb,ec);Ib("data",Cb,hb);Ib("treePath",bf,hb);Ib("treeAncestors",E,hb);Ib("vlSelectionTest",ac.selectionTest,ac.selectionVisitor);Ib("vlSelectionIdTest",ac.selectionIdTest,ac.selectionVisitor);Ib("vlSelectionResolve",ac.selectionResolve,ac.selectionVisitor);
Ib("vlSelectionTuples",ac.selectionTuples);u.DataPrefix=":";u.IndexPrefix="@";u.ScalePrefix="%";u.SignalPrefix="$";u.bandspace=Xc;u.bandwidth=kd;u.codeGenerator=ch;u.codegenParams=Ug;u.containerSize=fb;u.contrast=fd;u.copy=qd;u.data=Cb;u.dataVisitor=hb;u.dayAbbrevFormat=xb;u.dayFormat=sb;u.debug=Ea;u.domain=xd;u.encode=Ba;u.expressionFunction=Ib;u.format=od;u.functionContext=Eg;u.geoArea=Ne;u.geoBounds=Fe;u.geoCentroid=re;u.geoScale=Ya;u.geoShape=Ie;u.inScope=vb;u.indata=Vb;u.indataVisitor=ec;u.indexof=
bc;u.info=W;u.invert=nd;u.join=Bb;u.lastindexof=Tb;u.luminance=pd;u.merge=Cd;u.modify=Bd;u.monthAbbrevFormat=ub;u.monthFormat=wb;u.parseExpression=function(S,Ja){const mb={};let Fc;try{S=h.isString(S)?S:h.stringValue(S)+"",Fc=ia.parseExpression(S)}catch(Gc){h.error("Expression parse error: "+S)}Fc.visit(Gc=>{if(Gc.type===ia.CallExpression){var Ld=Gc.callee.name,ge=Ug.visitors[Ld];ge&&ge(Ld,Gc.arguments,Ja,mb)}});S=ch(Fc);S.globals.forEach(Gc=>{const Ld="$"+Gc;!h.hasOwnProperty(mb,Ld)&&Ja.getSignal(Gc)&&
(mb[Ld]=Ja.signalRef(Gc))});return{$expr:h.extend({code:S.code},Ja.options.ast?{ast:Fc}:null),$fields:S.fields,$params:mb}};u.pathShape=Je;u.pinchAngle=J;u.pinchDistance=y;u.pluck=va;u.range=Id;u.replace=Jc;u.reverse=Ac;u.scale=me;u.scaleGradient=Oe;u.scaleVisitor=ra;u.screen=aa;u.setdata=jc;u.slice=nc;u.timeFormat=$c;u.timeParse=Nd;u.treeAncestors=E;u.treePath=bf;u.utcFormat=Nc;u.utcParse=ce;u.warn=Ub;u.windowSize=Fa})};
shadow$provide[49]=function(Eb,ob,Dc,Wa){(function(u,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,ob(21),ob(29)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],h):(u="undefined"!==typeof globalThis?globalThis:u||self,h(u.vega={},u.vega,u.vega))})(this,function(u,h,ia){function ab(Ba,Za,wb){wb.endsWith(";")||(wb="return("+wb+");");Za=Function(...Za.concat(wb));return Ba&&Ba.functions?Za.bind(Ba.functions):Za}function zb(Ba,Za,wb){if(!Ba||!h.isObject(Ba))return Ba;
for(let ub=0,sb=Vb.length,xb;ub<sb;++ub)if(xb=Vb[ub],h.hasOwnProperty(Ba,xb.key))return xb.parse(Ba,Za,wb);return Ba}function Yb(Ba,Za,wb,ub){this.dataflow=Ba;this.transforms=Za;this.events=Ba.events.bind(Ba);this.expr=ub||Cb;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};wb&&(this.functions=Object.create(wb),this.functions.context=this)}function ac(Ba){this.dataflow=Ba.dataflow;this.transforms=Ba.transforms;this.events=Ba.events;this.expr=Ba.expr;this.signals=Object.create(Ba.signals);
this.scales=Object.create(Ba.scales);this.nodes=Object.create(Ba.nodes);this.data=Object.create(Ba.data);this.fn=Object.create(Ba.fn);Ba.functions&&(this.functions=Object.create(Ba.functions),this.functions.context=this)}const Xb=h.toSet(["rule"]),mc=h.toSet(["group","image","rect"]);var Cb={operator:(Ba,Za)=>ab(Ba,["_"],Za.code),parameter:(Ba,Za)=>ab(Ba,["datum","_"],Za.code),event:(Ba,Za)=>ab(Ba,["event"],Za.code),handler:(Ba,Za)=>ab(Ba,["_","event"],`var datum=event.item&&event.item.datum;return ${Za.code};`),
encode:(Ba,Za)=>{const {marktype:wb,channels:ub}=Za;Za="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";for(var sb in ub){const xb="o["+h.stringValue(sb)+"]";Za+=`$=${ub[sb].code};if(${xb}!==$)${xb}=$,m=1;`}sb="";Xb[wb]||(ub.x2&&(ub.x?(mc[wb]&&(sb+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),sb+="o.width\x3do.x2-o.x;"):sb+="o.x\x3do.x2-(o.width||0);"),ub.xc&&(sb+="o.x\x3do.xc-(o.width||0)/2;"),ub.y2&&(ub.y?(mc[wb]&&(sb+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),sb+="o.height\x3do.y2-o.y;"):
sb+="o.y\x3do.y2-(o.height||0);"),ub.yc&&(sb+="o.y\x3do.yc-(o.height||0)/2;"));Za+=sb;return ab(Ba,["item","_"],Za+"return m;")},codegen:{get(Ba){Ba=`[${Ba.map(h.stringValue).join("][")}]`;const Za=Function("_",`return _${Ba};`);Za.path=Ba;return Za},comparator(Ba,Za){let wb;Ba=Function("a","b","var u, v; return "+Ba.map((ub,sb)=>{const xb=Za[sb];let hb;ub.path?(hb=`a${ub.path}`,ub=`b${ub.path}`):((wb=wb||{})["f"+sb]=ub,hb=`this.f${sb}(a)`,ub=`this.f${sb}(b)`);sb=-xb;return`((u = ${hb}) < (v = ${ub}) || u == null) && v != null ? ${sb}
  : (u > v || v == null) && u != null ? ${xb}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${sb}
  : v !== v && u === u ? ${xb} : `}).join("")+"0;");return wb?Ba.bind(wb):Ba}}},Vb=[{key:"$ref",parse:function(Ba,Za){return Za.get(Ba.$ref)||h.error("Operator not defined: "+Ba.$ref)}},{key:"$key",parse:function(Ba,Za){const wb="k:"+Ba.$key+"_"+!!Ba.$flat;return Za.fn[wb]||(Za.fn[wb]=h.key(Ba.$key,Ba.$flat,Za.expr.codegen))}},{key:"$expr",parse:function(Ba,Za,wb){Ba.$params&&Za.parseParameters(Ba.$params,wb);wb="e:"+Ba.$expr.code;return Za.fn[wb]||(Za.fn[wb]=h.accessor(Za.parameterExpression(Ba.$expr),
Ba.$fields))}},{key:"$field",parse:function(Ba,Za){if(!Ba.$field)return null;const wb="f:"+Ba.$field+"_"+Ba.$name;return Za.fn[wb]||(Za.fn[wb]=h.field(Ba.$field,Ba.$name,Za.expr.codegen))}},{key:"$encode",parse:function(Ba,Za){Ba=Ba.$encode;const wb={};for(const ub in Ba){const sb=Ba[ub];wb[ub]=h.accessor(Za.encodeExpression(sb.$expr),sb.$fields);wb[ub].output=sb.$output}return wb}},{key:"$compare",parse:function(Ba,Za){const wb="c:"+Ba.$compare+"_"+Ba.$order,ub=h.array(Ba.$compare).map(sb=>sb&&sb.$tupleid?
ia.tupleid:sb);return Za.fn[wb]||(Za.fn[wb]=h.compare(ub,Ba.$order,Za.expr.codegen))}},{key:"$context",parse:function(Ba,Za){return Za}},{key:"$subflow",parse:function(Ba,Za){const wb=Ba.$subflow;return function(ub,sb,xb){const hb=Za.fork().parse(wb);ub=hb.get(wb.operators[0].id);(sb=hb.signals.parent)&&sb.set(xb);ub.detachSubflow=()=>Za.detach(hb);return ub}}},{key:"$tupleid",parse:function(){return ia.tupleid}}];const jc={skip:!0};Yb.prototype=ac.prototype={fork(){const Ba=new ac(this);(this.subcontext||
(this.subcontext=[])).push(Ba);return Ba},detach(Ba){this.subcontext=this.subcontext.filter(wb=>wb!==Ba);const Za=Object.keys(Ba.nodes);for(const wb of Za)Ba.nodes[wb]._targets=null;for(const wb of Za)Ba.nodes[wb].detach();Ba.nodes=null},get(Ba){return this.nodes[Ba]},set(Ba,Za){return this.nodes[Ba]=Za},add(Ba,Za){const wb=this,ub=wb.dataflow,sb=Ba.value;wb.set(Ba.id,Za);"collect"===(Ba.type+"").toLowerCase()&&sb&&(sb.$ingest?ub.ingest(Za,sb.$ingest,sb.$format):sb.$request?ub.preload(Za,sb.$request,
sb.$format):ub.pulse(Za,ub.changeset().insert(sb)));Ba.root&&(wb.root=Za);if(Ba.parent){let xb=wb.get(Ba.parent.$ref);xb?(ub.connect(xb,[Za]),Za.targets().add(xb)):(wb.unresolved=wb.unresolved||[]).push(()=>{xb=wb.get(Ba.parent.$ref);ub.connect(xb,[Za]);Za.targets().add(xb)})}Ba.signal&&(wb.signals[Ba.signal]=Za);Ba.scale&&(wb.scales[Ba.scale]=Za);if(Ba.data)for(const xb in Ba.data){const hb=wb.data[xb]||(wb.data[xb]={});Ba.data[xb].forEach(ec=>hb[ec]=Za)}},resolve(){(this.unresolved||[]).forEach(Ba=>
Ba());delete this.unresolved;return this},operator(Ba,Za){this.add(Ba,this.dataflow.add(Ba.value,Za))},transform(Ba,Za){this.add(Ba,this.dataflow.add(this.transforms[(Za+"").toLowerCase()]))},stream(Ba,Za){this.set(Ba.id,Za)},update(Ba,Za,wb,ub,sb){this.dataflow.on(Za,wb,ub,sb,Ba.options)},operatorExpression(Ba){return this.expr.operator(this,Ba)},parameterExpression(Ba){return this.expr.parameter(this,Ba)},eventExpression(Ba){return this.expr.event(this,Ba)},handlerExpression(Ba){return this.expr.handler(this,
Ba)},encodeExpression(Ba){return this.expr.encode(this,Ba)},parse:function(Ba){const Za=this,wb=Ba.operators||[];Ba.background&&(Za.background=Ba.background);Ba.eventConfig&&(Za.eventConfig=Ba.eventConfig);Ba.locale&&(Za.locale=Ba.locale);wb.forEach(ub=>Za.parseOperator(ub));wb.forEach(ub=>Za.parseOperatorParameters(ub));(Ba.streams||[]).forEach(ub=>Za.parseStream(ub));(Ba.updates||[]).forEach(ub=>Za.parseUpdate(ub));return Za.resolve()},parseOperator:function(Ba){"operator"!==(Ba.type+"").toLowerCase()&&
Ba.type?this.transform(Ba,Ba.type):this.operator(Ba,Ba.update?this.operatorExpression(Ba.update):null)},parseOperatorParameters:function(Ba){if(Ba.params){const Za=this.get(Ba.id);Za||h.error("Invalid operator id: "+Ba.id);this.dataflow.connect(Za,Za.parameters(this.parseParameters(Ba.params),Ba.react,Ba.initonly))}},parseParameters:function(Ba,Za){Za=Za||{};const wb=this;for(const ub in Ba){const sb=Ba[ub];Za[ub]=h.isArray(sb)?sb.map(xb=>zb(xb,wb,Za)):zb(sb,wb,Za)}return Za},parseStream:function(Ba){var Za=
this,wb=null!=Ba.filter?Za.eventExpression(Ba.filter):void 0,ub=null!=Ba.stream?Za.get(Ba.stream):void 0;if(Ba.source)ub=Za.events(Ba.source,Ba.type,wb);else if(Ba.merge){var sb=Ba.merge.map(xb=>Za.get(xb));ub=sb[0].merge.apply(sb[0],sb.slice(1))}Ba.between&&(sb=Ba.between.map(xb=>Za.get(xb)),ub=ub.between(sb[0],sb[1]));Ba.filter&&(ub=ub.filter(wb));null!=Ba.throttle&&(ub=ub.throttle(+Ba.throttle));null!=Ba.debounce&&(ub=ub.debounce(+Ba.debounce));null==ub&&h.error("Invalid stream definition: "+JSON.stringify(Ba));
Ba.consume&&ub.consume(!0);Za.stream(Ba,ub)},parseUpdate:function(Ba){var Za=h.isObject(Za=Ba.source)?Za.$ref:Za;Za=this.get(Za);var wb=Ba.update,ub=void 0;Za||h.error("Source not defined: "+Ba.source);var sb=Ba.target&&Ba.target.$expr?this.eventExpression(Ba.target.$expr):this.get(Ba.target);wb&&wb.$expr&&(wb.$params&&(ub=this.parseParameters(wb.$params)),wb=this.handlerExpression(wb.$expr));this.update(Ba,Za,sb,wb,ub)},getState:function(Ba){var Za=this,wb={};if(Ba.signals){var ub=wb.signals={};
Object.keys(Za.signals).forEach(xb=>{const hb=Za.signals[xb];Ba.signals(xb,hb)&&(ub[xb]=hb.value)})}if(Ba.data){var sb=wb.data={};Object.keys(Za.data).forEach(xb=>{const hb=Za.data[xb];Ba.data(xb,hb)&&(sb[xb]=hb.input.value)})}Za.subcontext&&!1!==Ba.recurse&&(wb.subcontext=Za.subcontext.map(xb=>xb.getState(Ba)));return wb},setState:function(Ba){var Za=this,wb=Za.dataflow,ub=Ba.data,sb=Ba.signals;Object.keys(sb||{}).forEach(xb=>{wb.update(Za.signals[xb],sb[xb],jc)});Object.keys(ub||{}).forEach(xb=>
{wb.pulse(Za.data[xb].input,wb.changeset().remove(h.truthy).insert(ub[xb]))});(Ba.subcontext||[]).forEach((xb,hb)=>{(hb=Za.subcontext[hb])&&hb.setState(xb)})}};u.context=function(Ba,Za,wb,ub){return new Yb(Ba,Za,wb,ub)}})};
shadow$provide[50]=function(Eb,ob,Dc,Wa){(function(u,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,ob(21),ob(29),ob(34),ob(48),ob(49),ob(24)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph vega-functions vega-runtime vega-format".split(" "),h):(u="undefined"!==typeof globalThis?globalThis:u||self,h(u.vega={},u.vega,u.vega,u.vega,u.vega,u.vega,u.vega))})(this,function(u,h,ia,ab,zb,Yb,ac){function Xb(ma){const Ha=ma.container();Ha&&(Ha.setAttribute("role",
"graphics-document"),Ha.setAttribute("aria-roleDescription","visualization"),mc(Ha,ma.description()))}function mc(ma,Ha){ma&&(null==Ha?ma.removeAttribute("aria-label"):ma.setAttribute("aria-label",Ha))}function Cb(ma){ma.add(null,Ha=>{ma._background=Ha.bg;ma._resize=1;return Ha.bg},{bg:ma._signals.background})}function Vb(ma){const Ha=ma._signals.cursor||(ma._signals.cursor=ma.add({user:"default",item:null}));ma.on(ma.events("view","pointermove"),Ha,(gb,Q)=>{const t=(gb=Ha.value)?h.isString(gb)?gb:
gb.user:"default";Q=Q.item&&Q.item.cursor||null;return gb&&t===gb.user&&Q==gb.item?gb:{user:t,item:Q}});ma.add(null,function(gb){gb=gb.cursor;let Q=this.value;h.isString(gb)||(Q=gb.item,gb=gb.user);jc(ma,gb&&"default"!==gb?gb:Q||gb);return Q},{cursor:Ha})}function jc(ma,Ha){if(ma=ma.globalCursor()?"undefined"!==typeof document&&document.body:ma.container())return null==Ha?ma.style.removeProperty("cursor"):ma.style.cursor=Ha}function Ba(ma,Ha){ma=ma._runtime.data;h.hasOwnProperty(ma,Ha)||h.error("Unrecognized data set: "+
Ha);return ma[Ha]}function Za(ma,Ha){ia.isChangeSet(Ha)||h.error("Second argument to changes must be a changeset.");ma=Ba(this,ma);ma.modified=!0;return this.pulse(ma.input,Ha)}function wb(ma){var Ha=ma.padding();return Math.max(0,ma._viewWidth+Ha.left+Ha.right)}function ub(ma){var Ha=ma.padding();return Math.max(0,ma._viewHeight+Ha.top+Ha.bottom)}function sb(ma){var Ha=ma.padding();ma=ma._origin;return[Ha.left+ma[0],Ha.top+ma[1]]}function xb(ma){var Ha=sb(ma),gb=wb(ma),Q=ub(ma);ma._renderer.background(ma.background());
ma._renderer.resize(gb,Q,Ha);ma._handler.origin(Ha);ma._resizeListeners.forEach(t=>{try{t(gb,Q)}catch(ba){ma.error(ba)}})}function hb(ma,Ha,gb){function Q(xa){var Da=ba,Sa;if(xa)for(Sa=Ha;Sa;Sa=Sa.mark.group)if(Sa.mark.name===xa){Da=Sa;break}return Da&&Da.mark&&Da.mark.interactive?Da:{}}function t(xa){if(!xa)return gb;h.isString(xa)&&(xa=Q(xa));const Da=gb.slice();for(;xa;)Da[0]-=xa.x||0,Da[1]-=xa.y||0,xa=xa.mark&&xa.mark.group;return Da}const ba=Ha?"group"===Ha.mark.marktype?Ha:Ha.mark.group:null;
return{view:h.constant(ma),item:h.constant(Ha||{}),group:Q,xy:t,x:xa=>t(xa)[0],y:xa=>t(xa)[1]}}function ec(ma){ma=h.extend({defaults:{}},ma);const Ha=(gb,Q)=>{Q.forEach(t=>{h.isArray(gb[t])&&(gb[t]=h.toSet(gb[t]))})};Ha(ma.defaults,["prevent","allow"]);Ha(ma,["view","window","selector"]);return ma}function ra(ma,Ha,gb,Q){ma._eventListeners.push({type:gb,sources:h.array(Ha),handler:Q})}function fa(ma,Ha,gb){const Q=ma._eventConfig&&ma._eventConfig[Ha];return!1===Q||h.isObject(Q)&&!Q[gb]?(ma.warn(`Blocked ${Ha} ${gb} event listener.`),
!1):!0}function za(ma){return ma.item}function Ra(ma){return ma.item.mark.source}function Xa(ma){return function(Ha,gb){return gb.vega.view().changeset().encode(gb.item,ma)}}function Ia(ma,Ha,gb){ma=document.createElement(ma);for(const Q in Ha)ma.setAttribute(Q,Ha[Q]);null!=gb&&(ma.textContent=gb);return ma}function ib(ma,Ha,gb){var Q=(Ha-ma)/Math.max(0,gb),t=Math.floor(Math.log10(Q));Q/=Math.pow(10,t);Q=Q>=Rb?10:Q>=xc?5:Q>=dd?2:1;let ba;0>t?(ba=Math.pow(10,-t)/Q,t=Math.round(ma*ba),Q=Math.round(Ha*
ba),t/ba<ma&&++t,Q/ba>Ha&&--Q,ba=-ba):(ba=Math.pow(10,t)*Q,t=Math.round(ma/ba),Q=Math.round(Ha/ba),t*ba<ma&&++t,Q*ba>Ha&&--Q);return Q<t&&.5<=gb&&2>gb?ib(ma,Ha,2*gb):[t,Q,ba]}function bb(ma,Ha,gb){return ib(+ma,+Ha,+gb)[2]}function tb(ma,Ha,gb){Ha=+Ha;ma=+ma;gb=+gb;const Q=Ha<ma;ma=Q?bb(Ha,ma,gb):bb(ma,Ha,gb);return(Q?-1:1)*(0>ma?1/-ma:ma)}function Qb(ma,Ha,gb){if(Ha){var Q=gb.param,t=gb.state;t||(t=gb.state={elements:null,active:!1,set:null,update:ba=>{ba!=ma.signal(Q.signal)&&ma.runAsync(null,()=>
{t.source=!0;ma.signal(Q.signal,ba)})}},Q.debounce&&(t.update=h.debounce(Q.debounce,t.update)));(null==Q.input&&Q.element?eb:T)(t,Ha,Q,ma);t.active||(ma.on(ma._signals[Q.signal],null,()=>{t.source?t.source=!1:t.set(ma.signal(Q.signal))}),t.active=!0);return t}}function eb(ma,Ha,gb,Q){const t=gb.event||"input",ba=()=>ma.update(Ha.value);Q.signal(gb.signal,Ha.value);Ha.addEventListener(t,ba);ra(Q,Ha,t,ba);ma.set=xa=>{Ha.value=xa;xa=Ha.dispatchEvent;var Da="undefined"!==typeof Event?new Event(t):{type:t};
xa.call(Ha,Da)}}function T(ma,Ha,gb,Q){Q=Q.signal(gb.signal);const t=Ia("div",{"class":"vega-bind"}),ba="radio"===gb.input?t:t.appendChild(Ia("label"));ba.appendChild(Ia("span",{"class":"vega-bind-name"},gb.name||gb.signal));Ha.appendChild(t);Ha=Z;switch(gb.input){case "checkbox":Ha=ca;break;case "select":Ha=ha;break;case "radio":Ha=La;break;case "range":Ha=oa}Ha(ma,ba,gb,Q)}function Z(ma,Ha,gb,Q){const t=Ia("input");for(const ba in gb)"signal"!==ba&&"element"!==ba&&t.setAttribute("input"===ba?"type":
ba,gb[ba]);t.setAttribute("name",gb.signal);t.value=Q;Ha.appendChild(t);t.addEventListener("input",()=>ma.update(t.value));ma.elements=[t];ma.set=ba=>t.value=ba}function ca(ma,Ha,gb,Q){gb={type:"checkbox",name:gb.signal};Q&&(gb.checked=!0);const t=Ia("input",gb);Ha.appendChild(t);t.addEventListener("change",()=>ma.update(t.checked));ma.elements=[t];ma.set=ba=>t.checked=!!ba||null}function ha(ma,Ha,gb,Q){const t=Ia("select",{name:gb.signal}),ba=gb.labels||[];gb.options.forEach((xa,Da)=>{const Sa={value:xa};
pa(xa,Q)&&(Sa.selected=!0);t.appendChild(Ia("option",Sa,(ba[Da]||xa)+""))});Ha.appendChild(t);t.addEventListener("change",()=>{ma.update(gb.options[t.selectedIndex])});ma.elements=[t];ma.set=xa=>{for(let Da=0,Sa=gb.options.length;Da<Sa;++Da)if(pa(gb.options[Da],xa)){t.selectedIndex=Da;break}}}function La(ma,Ha,gb,Q){const t=Ia("span",{"class":"vega-bind-radio"}),ba=gb.labels||[];Ha.appendChild(t);ma.elements=gb.options.map((xa,Da)=>{var Sa={type:"radio",name:gb.signal,value:xa};pa(xa,Q)&&(Sa.checked=
!0);Sa=Ia("input",Sa);Sa.addEventListener("change",()=>ma.update(xa));Da=Ia("label",{},(ba[Da]||xa)+"");Da.prepend(Sa);t.appendChild(Da);return Sa});ma.set=xa=>{const Da=ma.elements,Sa=Da.length;for(let kb=0;kb<Sa;++kb)pa(Da[kb].value,xa)&&(Da[kb].checked=!0)}}function oa(ma,Ha,gb,Q){Q=void 0!==Q?Q:(+gb.max+ +gb.min)/2;const t=null!=gb.max?gb.max:Math.max(100,+Q)||100,ba=gb.min||Math.min(0,t,+Q)||0,xa=gb.step||tb(ba,t,100),Da=Ia("input",{type:"range",name:gb.signal,min:ba,max:t,step:xa});Da.value=
Q;const Sa=Ia("span",{},+Q);Ha.appendChild(Da);Ha.appendChild(Sa);Ha=()=>{Sa.textContent=Da.value;ma.update(+Da.value)};Da.addEventListener("input",Ha);Da.addEventListener("change",Ha);ma.elements=[Da];ma.set=kb=>{Da.value=kb;Sa.textContent=kb}}function pa(ma,Ha){return ma===Ha||ma+""===Ha+""}function m(ma,Ha,gb,Q,t,ba){Ha=Ha||new Q(ma.loader());return Ha.initialize(gb,wb(ma),ub(ma),sb(ma),t,ba).background(ma.background())}function D(ma,Ha){return Ha?function(){try{Ha.apply(this,arguments)}catch(gb){ma.error(gb)}}:
null}function L(ma,Ha,gb,Q){const t=(new Q(ma.loader(),D(ma,ma.tooltip()))).scene(ma.scenegraph().root).initialize(gb,sb(ma),ma);Ha&&Ha.handlers().forEach(ba=>{t.on(ba.type,ba.handler)});return t}function w(ma,Ha,gb){if("string"===typeof Ha)if("undefined"!==typeof document){if(Ha=document.querySelector(Ha),!Ha)return ma.error("Signal bind element not found: "+Ha),null}else return ma.error("DOM document instance not found."),null;if(Ha&&gb)try{Ha.textContent=""}catch(Q){Ha=null,ma.error(Q)}return Ha}
function P(ma){h.isObject(ma)?ma={top:+ma.top||0,bottom:+ma.bottom||0,left:+ma.left||0,right:+ma.right||0}:(ma=+ma||0,ma={top:ma,bottom:ma,left:ma,right:ma});return ma}function A(ma,Ha,gb,Q){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var t=ab.renderModule(Ha);(t=t&&t.headless)||h.error("Unrecognized renderer type: "+Ha);yield ma.runAsync();return m(ma,null,null,t,gb,Q).renderAsync(ma._scenegraph.root)})}function V(ma,Ha,gb){return Yb.context(ma,ia.transforms,zb.functionContext,
gb).parse(Ha)}function G(ma,Ha){var gb=ma.autosize();ma=ma.padding();return Ha-(gb&&"padding"===gb.contains?ma.left+ma.right:0)}function x(ma,Ha){var gb=ma.autosize();ma=ma.padding();return Ha-(gb&&"padding"===gb.contains?ma.top+ma.bottom:0)}function z(ma){function Ha(){ma._autosize=ma._resize=1}var gb=ma._signals,Q=gb.width,t=gb.height;gb=gb.padding;ma._resizeWidth=ma.add(null,xa=>{ma._width=xa.size;ma._viewWidth=G(ma,xa.size);Ha()},{size:Q});ma._resizeHeight=ma.add(null,xa=>{ma._height=xa.size;
ma._viewHeight=x(ma,xa.size);Ha()},{size:t});const ba=ma.add(null,Ha,{pad:gb});ma._resizeWidth.rank=Q.rank+1;ma._resizeHeight.rank=t.rank+1;ba.rank=gb.rank+1}function F(ma,Ha){return Ha.modified&&h.isArray(Ha.input.value)&&!ma.startsWith("_:vega:_")}function U(ma,Ha){return!("parent"===ma||Ha instanceof ia.transforms.proxy)}function sa(){return ic||(Vc(N),ic=jd.now()+Bc)}function N(){ic=0}function la(){this._call=this._time=this._next=null}function wa(){ic=(Zb=jd.now())+Bc;Db=Ua=0;try{sa();++Db;for(var ma=
Hb,Ha;ma;)0<=(Ha=ic-ma._time)&&ma._call.call(void 0,Ha),ma=ma._next;--Db}finally{Db=0;ma=Hb;for(var gb=Infinity;ma;)if(ma._call){gb>ma._time&&(gb=ma._time);var Q=ma;ma=ma._next}else Ha=ma._next,ma._next=null,ma=Q?Q._next=Ha:Hb=Ha;Ob=Q;Pa(gb);ic=0}}function Ma(){var ma=jd.now(),Ha=ma-Zb;1E3<Ha&&(Bc-=Ha,Zb=ma)}function Pa(ma){Db||(Ua&&(Ua=clearTimeout(Ua)),24<ma-ic?(Infinity>ma&&(Ua=setTimeout(wa,ma-jd.now()-Bc)),yb&&(yb=clearInterval(yb))):(yb||(Zb=jd.now(),yb=setInterval(Ma,1E3)),Db=1,Vc(wa)))}function Ya(ma,
Ha,gb){var Q=new la,t=Ha;if(null==Ha)return Q.restart(ma,Ha,gb),Q;Q._restart=Q.restart;Q.restart=function(ba,xa,Da){xa=+xa;Da=null==Da?sa():+Da;Q._restart(function Sb(kb){kb+=t;Q._restart(Sb,t+=xa,Da);ba(kb)},xa,Da)};Q.restart(ma,Ha,gb);return Q}function vb(ma,Ha,gb,Q){if(ma=ma.element())Ha=ma.setAttribute,Q=null==Q?"":h.isArray(Q)?"["+Q.map(Ub).join(", ")+"]":h.isObject(Q)&&!h.isDate(Q)?jb(Q):Q+"",Ha.call(ma,"title",Q)}function jb(ma){return Object.keys(ma).map(Ha=>{const gb=ma[Ha];return Ha+": "+
(h.isArray(gb)?"["+gb.map(Ub).join(", ")+"]":Ub(gb))}).join("\n")}function Ub(ma){return h.isArray(ma)?"[…]":h.isObject(ma)&&!h.isDate(ma)?"{…}":ma}function W(ma,Ha){Ha=Ha||{};ia.Dataflow.call(this);Ha.loader&&this.loader(Ha.loader);Ha.logger&&this.logger(Ha.logger);null!=Ha.logLevel&&this.logLevel(Ha.logLevel);if(Ha.locale||ma.locale){var gb=h.extend({},ma.locale,Ha.locale);this.locale(ac.locale(gb.number,gb.time))}this._elBind=this._el=null;this._renderType=Ha.renderer||ab.RenderType.Canvas;this._scenegraph=
new ab.Scenegraph;gb=this._scenegraph.root;this._renderer=null;this._tooltip=Ha.tooltip||vb;this._redraw=!0;this._handler=(new ab.CanvasHandler).scene(gb);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=ec(ma.eventConfig);this.globalCursor(this._eventConfig.globalCursor);const Q=V(this,ma,Ha.expr);this._runtime=Q;this._signals=Q.signals;this._bind=(ma.bindings||[]).map(t=>({state:null,param:h.extend({},t)}));Q.root&&Q.root.set(gb);
gb.source=Q.data.root.input;this.pulse(Q.data.root.input,this.changeset().insert(gb.items));this._width=this.width();this._height=this.height();this._viewWidth=G(this,this._width);this._viewHeight=x(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;z(this);Cb(this);Vb(this);this.description(ma.description);Ha.hover&&this.hover();Ha.container&&this.initialize(Ha.container,Ha.bind);Ha.watchPixelRatio&&this._watchPixelRatio()}function Ea(ma,Ha){return h.hasOwnProperty(ma._signals,
Ha)?ma._signals[Ha]:h.error("Unrecognized signal name: "+h.stringValue(Ha))}function Mb(ma,Ha){ma=(ma._targets||[]).filter(gb=>gb._update&&gb._update.handler===Ha);return ma.length?ma[0]:null}function oc(ma,Ha,gb,Q){let t=Mb(gb,Q);t||(t=D(ma,()=>Q(Ha,gb.value)),t.handler=Q,ma.on(gb,null,t));return ma}function $b(ma,Ha,gb){(gb=Mb(Ha,gb))&&Ha._targets.remove(gb);return ma}const Nb={trap:!1},Rb=Math.sqrt(50),xc=Math.sqrt(10),dd=Math.sqrt(2);var qa={skip:!0},Db=0,Ua=0,yb=0,Hb,Ob,Zb=0,ic=0,Bc=0,jd="object"===
typeof performance&&performance.now?performance:Date,Vc="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(ma){setTimeout(ma,17)};la.prototype={constructor:la,restart:function(ma,Ha,gb){if("function"!==typeof ma)throw new TypeError("callback is not a function");gb=(null==gb?sa():+gb)+(null==Ha?0:+Ha);this._next||Ob===this||(Ob?Ob._next=this:Hb=this,Ob=this);this._call=ma;this._time=gb;Pa()},stop:function(){this._call&&(this._call=null,this._time=
Infinity,Pa())}};h.inherits(W,ia.Dataflow,{evaluate(ma,Ha,gb){const Q=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield ia.Dataflow.prototype.evaluate.call(Q,ma,Ha);if(Q._redraw||Q._resize)try{Q._renderer&&(Q._resize&&(Q._resize=0,xb(Q)),yield Q._renderer.renderAsync(Q._scenegraph.root)),Q._redraw=!1}catch(t){Q.error(t)}gb&&ia.asyncCallback(Q,gb);return Q})},dirty(ma){this._redraw=!0;this._renderer&&this._renderer.dirty(ma)},description(ma){if(arguments.length){const Ha=null!=
ma?ma+"":null;Ha!==this._desc&&mc(this._el,this._desc=Ha);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(ma,Ha,gb){const Q=Ea(this,ma);return 1===arguments.length?Q.value:this.update(Q,Ha,gb)},width(ma){return arguments.length?this.signal("width",ma):this.signal("width")},height(ma){return arguments.length?this.signal("height",ma):this.signal("height")},padding(ma){return arguments.length?this.signal("padding",
P(ma)):P(this.signal("padding"))},autosize(ma){return arguments.length?this.signal("autosize",ma):this.signal("autosize")},background(ma){return arguments.length?this.signal("background",ma):this.signal("background")},renderer(ma){if(!arguments.length)return this._renderType;ab.renderModule(ma)||h.error("Unrecognized renderer type: "+ma);ma!==this._renderType&&(this._renderType=ma,this._resetRenderer());return this},tooltip(ma){if(!arguments.length)return this._tooltip;ma!==this._tooltip&&(this._tooltip=
ma,this._resetRenderer());return this},loader(ma){if(!arguments.length)return this._loader;ma!==this._loader&&(ia.Dataflow.prototype.loader.call(this,ma),this._resetRenderer());return this},resize(){this._autosize=1;return this.touch(Ea(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(ma,Ha,gb,Q,t,ba){this.runAfter(xa=>{let Da=0;xa._autosize=0;xa.width()!==gb&&(Da=1,xa.signal("width",gb,qa),xa._resizeWidth.skip(!0));
xa.height()!==Q&&(Da=1,xa.signal("height",Q,qa),xa._resizeHeight.skip(!0));xa._viewWidth!==ma&&(xa._resize=1,xa._viewWidth=ma);xa._viewHeight!==Ha&&(xa._resize=1,xa._viewHeight=Ha);if(xa._origin[0]!==t[0]||xa._origin[1]!==t[1])xa._resize=1,xa._origin=t;Da&&xa.run("enter");ba&&xa.runAfter(Sa=>Sa.resize())},!1,1)},addEventListener(ma,Ha,gb){let Q=Ha;gb&&!1===gb.trap||(Q=D(this,Ha),Q.raw=Ha);this._handler.on(ma,Q);return this},removeEventListener(ma,Ha){for(var gb=this._handler.handlers(ma),Q=gb.length,
t,ba;0<=--Q;)if(ba=gb[Q].type,t=gb[Q].handler,ma===ba&&(Ha===t||Ha===t.raw)){this._handler.off(ba,t);break}return this},addResizeListener(ma){const Ha=this._resizeListeners;Ha.includes(ma)||Ha.push(ma);return this},removeResizeListener(ma){var Ha=this._resizeListeners;ma=Ha.indexOf(ma);0<=ma&&Ha.splice(ma,1);return this},addSignalListener(ma,Ha){return oc(this,ma,Ea(this,ma),Ha)},removeSignalListener(ma,Ha){return $b(this,Ea(this,ma),Ha)},addDataListener(ma,Ha){return oc(this,ma,Ba(this,ma).values,
Ha)},removeDataListener(ma,Ha){return $b(this,Ba(this,ma).values,Ha)},globalCursor(ma){if(arguments.length){if(this._globalCursor!==!!ma){const Ha=jc(this,null);this._globalCursor=!!ma;Ha&&jc(this,Ha)}return this}return this._globalCursor},preventDefault(ma){return arguments.length?(this._preventDefault=ma,this):this._preventDefault},timer:function(ma,Ha){this._timers.push(Ya(function(gb){ma({timestamp:Date.now(),elapsed:gb})},Ha))},events:function(ma,Ha,gb){var Q=this,t=new ia.EventStream(gb);gb=
function(Sa,kb){Q.runAsync(null,()=>{var Sb;if(Sb="view"===ma){var Fb=Q._eventConfig.defaults;Sb=Fb.prevent;Fb=Fb.allow;Sb=!1===Sb||!0===Fb?!1:!0===Sb||!1===Fb?!0:Sb?Sb[Ha]:Fb?!Fb[Ha]:Q.preventDefault()}Sb&&Sa.preventDefault();Sb=t.receive;Fb=(Fb=Q._renderer)&&Fb.canvas();if(Fb){var Kb=sb(Q);var Cc=Sa.changedTouches?Sa.changedTouches[0]:Sa;Cc=ab.point(Cc,Fb);Cc[0]-=Kb[0];Cc[1]-=Kb[1]}Sa.dataflow=Q;Sa.item=kb;Sa.vega=hb(Q,kb,Cc);Sb.call(t,Sa)})};var ba;if("timer"===ma)fa(Q,"timer",Ha)&&Q.timer(gb,
Ha);else if("view"===ma)fa(Q,"view",Ha)&&Q.addEventListener(Ha,gb,Nb);else if("window"===ma?fa(Q,"window",Ha)&&"undefined"!==typeof window&&(ba=[window]):"undefined"!==typeof document&&fa(Q,"selector",Ha)&&(ba=Array.from(document.querySelectorAll(ma))),ba){for(var xa=0,Da=ba.length;xa<Da;++xa)ba[xa].addEventListener(Ha,gb);ra(Q,ba,Ha,gb)}else Q.warn("Can not resolve event source: "+ma);return t},finalize:function(){var ma=this._tooltip,Ha=this._timers,gb=this._handler.handlers(),Q=this._eventListeners,
t;for(t=Ha.length;0<=--t;)Ha[t].stop();for(t=Q.length;0<=--t;){var ba=Q[t];for(Ha=ba.sources.length;0<=--Ha;)ba.sources[Ha].removeEventListener(ba.type,ba.handler)}ma&&ma.call(this,this._handler,null,null,null);for(t=gb.length;0<=--t;)Q=gb[t].type,ma=gb[t].handler,this._handler.off(Q,ma);return this},hover:function(ma,Ha){ma=[ma||"hover"];Ha=[Ha||"update",ma[0]];this.on(this.events("view","pointerover",za),Ra,Xa(ma));this.on(this.events("view","pointerout",za),Ra,Xa(Ha));return this},data:function(ma,
Ha){return 2>arguments.length?Ba(this,ma).values.value:Za.call(this,ma,ia.changeset().remove(h.truthy).insert(Ha))},change:Za,insert:function(ma,Ha){return Za.call(this,ma,ia.changeset().insert(Ha))},remove:function(ma,Ha){return Za.call(this,ma,ia.changeset().remove(Ha))},scale:function(ma){var Ha=this._runtime.scales;h.hasOwnProperty(Ha,ma)||h.error("Unrecognized scale or projection: "+ma);return Ha[ma].value},initialize:function(ma,Ha){const gb=this;var Q=gb._renderType;const t=gb._eventConfig.bind;
var ba=ab.renderModule(Q);ma=gb._el=ma?w(gb,ma,!0):null;Xb(gb);ba||gb.error("Unrecognized renderer type: "+Q);Q=ba.handler||ab.CanvasHandler;ba=ma?ba.renderer:ba.headless;gb._renderer=ba?m(gb,gb._renderer,ma,ba):null;gb._handler=L(gb,gb._handler,ma,Q);gb._redraw=!0;ma&&"none"!==t&&(Ha=Ha?gb._elBind=w(gb,Ha,!0):ma.appendChild(Ia("form",{"class":"vega-bindings"})),gb._bind.forEach(xa=>{xa.param.element&&"container"!==t&&(xa.element=w(gb,xa.param.element,!!xa.param.input))}),gb._bind.forEach(xa=>{Qb(gb,
xa.element||Ha,xa)}));return gb},toImageURL:function(ma,Ha){const gb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ma!==ab.RenderType.Canvas&&ma!==ab.RenderType.SVG&&ma!==ab.RenderType.PNG&&h.error("Unrecognized image type: "+ma);var Q=yield A(gb,ma,Ha);ma===ab.RenderType.SVG?(Q=Q.svg(),Q=new Blob([Q],{type:"image/svg+xml"}),Q=window.URL.createObjectURL(Q)):Q=Q.canvas().toDataURL("image/png");return Q})},toCanvas:function(ma,Ha){const gb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield A(gb,
ab.RenderType.Canvas,ma,Ha)).canvas()})},toSVG:function(ma){const Ha=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield A(Ha,ab.RenderType.SVG,ma)).svg()})},getState:function(ma){return this._runtime.getState(ma||{data:F,signals:U,recurse:!0})},setState:function(ma){this.runAsync(null,Ha=>{Ha._trigger=!1;Ha._runtime.setState(ma)},Ha=>{Ha._trigger=!0});return this},_watchPixelRatio:function(){if("canvas"===this.renderer()&&this._renderer._canvas){let ma=null;const Ha=
()=>{null!=ma&&ma();const gb=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);gb.addEventListener("change",Ha);ma=()=>{gb.removeEventListener("change",Ha)};this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1;this._redraw=!0;this._resize=1;this.resize().runAsync()};Ha()}}});u.View=W})};
shadow$provide[51]=function(Eb,ob,Dc,Wa){(function(u,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa):"function"===typeof define&&define.amd?define(["exports"],h):(u="undefined"!==typeof globalThis?globalThis:u||self,h(u.vega={}))})(this,function(u){function h(Cb,Vb,jc,Ba,Za){const wb=Cb.length;let ub=0,sb;for(;Vb<wb;++Vb)if(sb=Cb[Vb],ub||sb!==jc)Za&&0<=Za.indexOf(sb)?--ub:Ba&&0<=Ba.indexOf(sb)&&++ub;else break;return Vb}function ia(Cb){const Vb=[],jc=Cb.length;let Ba=0,Za=0;for(;Za<jc;)Za=
h(Cb,Za,",","[{","]}"),Vb.push(Cb.substring(Ba,Za).trim()),Ba=++Za;if(0===Vb.length)throw"Empty event selector: "+Cb;return Vb}function ab(Cb){if("["===Cb[0]){var Vb=Cb;var jc=Vb.length;Cb=h(Vb,1,"]","[","]");if(Cb===jc)throw"Empty between selector: "+Vb;jc=ia(Vb.substring(1,Cb));if(2!==jc.length)throw"Between selector must have two elements: "+Vb;Vb=Vb.slice(Cb+1).trim();if("\x3e"!==Vb[0])throw"Expected '\x3e' after between selector: "+Vb;jc=jc.map(ab);Vb=ab(Vb.slice(1).trim());Vb.between?Vb={between:jc,
stream:Vb}:Vb.between=jc}else{jc={source:Xb};const Ba=[];let Za=[0,0],wb=0,ub=0,sb=Cb.length,xb=0,hb;if("}"===Cb[sb-1]){xb=Cb.lastIndexOf("{");if(0<=xb){try{Za=zb(Cb.substring(xb+1,sb-1))}catch(ec){throw"Invalid throttle specification: "+Cb;}Cb=Cb.slice(0,xb).trim();sb=Cb.length}else throw"Unmatched right brace: "+Cb;xb=0}if(!sb)throw Cb;"@"===Cb[0]&&(wb=++xb);hb=h(Cb,xb,":");hb<sb&&(Ba.push(Cb.substring(ub,hb).trim()),ub=xb=++hb);xb=h(Cb,xb,"[");if(xb===sb)Ba.push(Cb.substring(ub,sb).trim());else if(Ba.push(Cb.substring(ub,
xb).trim()),Vb=[],ub=++xb,ub===sb)throw"Unmatched left bracket: "+Cb;for(;xb<sb;){xb=h(Cb,xb,"]");if(xb===sb)throw"Unmatched left bracket: "+Cb;Vb.push(Cb.substring(ub,xb).trim());if(xb<sb-1&&"["!==Cb[++xb])throw"Expected left bracket: "+Cb;ub=++xb}if(!(sb=Ba.length)||Yb.test(Ba[sb-1]))throw"Invalid event selector: "+Cb;1<sb?(jc.type=Ba[1],wb?jc.markname=Ba[0].slice(1):mc[Ba[0]]?jc.marktype=Ba[0]:jc.source=Ba[0]):jc.type=Ba[0];"!"===jc.type.slice(-1)&&(jc.consume=!0,jc.type=jc.type.slice(0,-1));null!=
Vb&&(jc.filter=Vb);Za[0]&&(jc.throttle=Za[0]);Za[1]&&(jc.debounce=Za[1]);Vb=jc}return Vb}function zb(Cb){const Vb=Cb.split(",");if(!Cb.length||2<Vb.length)throw Cb;return Vb.map(jc=>{jc=+jc;if(jc!==jc)throw Cb;return jc})}const Yb=/[[\]{}]/,ac={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Xb,mc;u.parseSelector=function(Cb,Vb,jc){Xb=Vb||"view";mc=jc||ac;return ia(Cb.trim()).map(ab)}})};
shadow$provide[52]=function(Eb,ob,Dc,Wa){(function(u,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,ob(21),ob(48),ob(51),ob(33),ob(29)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),h):(u="undefined"!==typeof globalThis?globalThis:u||self,h(u.vega={},u.vega,u.vega,u.vega,u.vega,u.vega))})(this,function(u,h,ia,ab,zb,Yb){function ac(l){return h.isObject(l)?l:{type:l||"pad"}}function Xb(l){h.isObject(l)?
l=l.signal?l:{top:+l.top||0,bottom:+l.bottom||0,left:+l.left||0,right:+l.right||0}:(l=+l||0,l={top:l,bottom:l,left:l,right:l});return l}function mc(l,q,K,ja){return null!=K?(h.isObject(K)&&!h.isArray(K)||h.isArray(K)&&K.length&&h.isObject(K[0])?l.update[q]=K:l[ja||"enter"][q]={value:K},1):0}function Cb(l,q,K){for(const ja in q)mc(l,ja,q[ja]);for(const ja in K)mc(l,ja,K[ja],"update")}function Vb(l,q,K){for(const ja in q)K&&h.hasOwnProperty(K,ja)||(l[ja]=h.extend(l[ja]||{},q[ja]));return l}function jc(l,
q){return q&&(q.enter&&q.enter[l]||q.update&&q.update[l])}function Ba(l,q,K,ja,Ca){const Qa={},Ga={};let qb,nb;nb="lineBreak";"text"!==q||null==Ca[nb]||jc(nb,l)||Za(Qa,nb,Ca[nb]);if("legend"==K||String(K).startsWith("axis"))K=null;K="frame"===K?Ca.group:"mark"===K?h.extend({},Ca.mark,Ca[q]):null;for(nb in K)(q=jc(nb,l)||("fill"===nb||"stroke"===nb)&&(jc("fill",l)||jc("stroke",l)))||Za(Qa,nb,K[nb]);h.array(ja).forEach(wc=>{wc=Ca.style&&Ca.style[wc];for(const vc in wc)jc(vc,l)||Za(Qa,vc,wc[vc])});l=
h.extend({},l);for(nb in Qa)K=Qa[nb],K.signal?(qb=qb||{})[nb]=K:Ga[nb]=K;l.enter=h.extend(Ga,l.enter);qb&&(l.update=h.extend(qb,l.update));return l}function Za(l,q,K){l[q]=K&&K.signal?{signal:K.signal}:{value:K}}function wb(l){if(null!=l.gradient)return ub(l);if(l.signal)var q=`(${l.signal})`;else l.color?(q=l.color,q=q.c?kd("hcl",q.h,q.c,q.l):q.h||q.s?kd("hsl",q.h,q.s,q.l):q.l||q.a?kd("lab",q.l,q.a,q.b):q.r||q.g||q.b?kd("rgb",q.r,q.g,q.b):null):q=null!=l.field?xb(l.field):void 0!==l.value?h.stringValue(l.value):
void 0;if(null!=l.scale){const K=Xc(l.scale);null!=l.range?q=`lerp(_range(${K}), ${+l.range})`:(void 0!==q&&(q=`_scale(${K}, ${q})`),l.band&&(q=(q?q+"+":"")+`_bandwidth(${K})`+(1===+l.band?"":"*"+sb(l.band)),l.extra&&(q=`(datum.extra ? _scale(${K}, datum.extra.value) : ${q})`)),null==q&&(q="0"))}void 0===q&&(q=null);null!=l.exponent&&(q=`pow(${q},${sb(l.exponent)})`);null!=l.mult&&(q+=`*${sb(l.mult)}`);null!=l.offset&&(q+=`+${sb(l.offset)}`);l.round&&(q=`round(${q})`);return q}function ub(l){const q=
[l.start,l.stop,l.count].map(K=>null==K?null:h.stringValue(K));for(;q.length&&null==h.peek(q);)q.pop();q.unshift(Xc(l.gradient));return`gradient(${q.join(",")})`}function sb(l){return h.isObject(l)?"("+wb(l)+")":l}function xb(l){return hb(h.isObject(l)?l:{datum:l})}function hb(l){let q;if(l.signal){q="datum";var K=l.signal}else if(l.group||l.parent){K=Math.max(1,l.level||1);for(q="item";0<K--;)q+=".mark.group";l.parent?(K=l.parent,q+=".datum"):K=l.group}else l.datum?(q="datum",K=l.datum):h.error("Invalid field reference: "+
h.stringValue(l));l.signal||(K=h.isString(K)?h.splitAccessPath(K).map(h.stringValue).join("]["):hb(K));return q+"["+K+"]"}function ec(l){let q="";l.forEach(K=>{const ja=wb(K);q+=K.test?`(${K.test})?${ja}:`:ja});":"===h.peek(q)&&(q+="null");return q}function ra(l,q,K,ja,Ca,Qa){const Ga={};Qa=Qa||{};Qa.encoders={$encode:Ga};l=Ba(l,q,K,ja,Ca.config);for(const zc in l){K=l[zc];ja=q;var qb=Qa,nb=Ca;const yc={},Rc={};for(const ed in K)if(null!=K[ed]){var wc=fa;var vc=K[ed];vc=h.isArray(vc)?ec(vc):wb(vc);
yc[ed]=wc(vc,nb,qb,Rc)}K={$expr:{marktype:ja,channels:yc},$fields:Object.keys(Rc),$output:Object.keys(K)};Ga[zc]=K}return Qa}function fa(l,q,K,ja){l=ia.parseExpression(l,q);l.$fields.forEach(Ca=>ja[Ca]=1);h.extend(K,l.$params);return l.$expr}function za(l,q){h.error(l+' for "outer" push: '+h.stringValue(q))}function Ra(l,q){const K=l.name;if("outer"===l.push)q.signals[K]||za("No prior signal definition",K),qd.forEach(ja=>{void 0!==l[ja]&&za("Invalid property ",ja)});else{const ja=q.addSignal(K,l.value);
!1===l.react&&(ja.react=!1);l.bind&&q.addBinding(K,l.bind)}}function Xa(l,q,K,ja){this.id=-1;this.type=l;this.value=q;this.params=K;ja&&(this.parent=ja)}function Ia(l){const q={$ref:l.id};0>l.id&&(l.refs=l.refs||[]).push(q);return q}function ib(l,q){return q?{$field:l,$name:q}:{$field:l}}function bb(l,q){l={$key:l};q&&(l.$flat=!0);return l}function tb(l,q){return(l&&l.signal?"$"+l.signal:l||"")+(l&&q?"_":"")+(q&&q.signal?"$"+q.signal:q||"")}function Qb(l){return l&&l.signal}function eb(l){if(Qb(l))return!0;
if(h.isObject(l))for(const q in l)if(eb(l[q]))return!0;return!1}function T(l,q){return null!=l?l:q}function Z(l){return l&&l.signal||l}function ca(l,q){return(l.merge?ha:l.stream?La:l.type?oa:h.error("Invalid stream specification: "+h.stringValue(l)))(l,q)}function ha(l,q){const K=l.merge.map(ja=>ca(ja,q));l=pa({merge:K},l,q);return q.addStream(l).id}function La(l,q){const K=ca(l.stream,q);l=pa({stream:K},l,q);return q.addStream(l).id}function oa(l,q){if("timer"===l.type){var K=q.event("timer",l.throttle);
l={between:l.between,filter:l.filter}}else K=l.source,K=q.event.call(q,"scope"===K?"view":K||"view",l.type);l=pa({stream:K},l,q);return 1===Object.keys(l).length?K:q.addStream(l).id}function pa(l,q,K){let ja=q.between;ja&&(2!==ja.length&&h.error('Stream "between" parameter must have 2 entries: '+h.stringValue(q)),l.between=[ca(ja[0],K),ca(ja[1],K)]);ja=q.filter?[].concat(q.filter):[];if(q.marktype||q.markname||q.markrole){var Ca=ja,Qa=q.marktype,Ga=q.markname,qb=q.markrole;Ca.push.call(Ca,"event.item"+
(Qa&&"*"!==Qa?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+Qa+"'":"")+(qb?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+qb+"'":"")+(Ga?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+Ga+"'":""))}"scope"===q.source&&ja.push("inScope(event.item)");ja.length&&(l.filter=ia.parseExpression("("+ja.join(")\x26\x26(")+")",K).$expr);null!=(ja=q.throttle)&&(l.throttle=+ja);null!=(ja=q.debounce)&&(l.debounce=+ja);q.consume&&(l.consume=!0);return l}function m(l,q,K){const ja=l.encode,Ca={target:K};K=l.events;let Qa=
l.update,Ga=[];K||h.error("Signal update missing events specification.");h.isString(K)&&(K=ab.parseSelector(K,q.isSubscope()?"scope":"view"));K=h.array(K).filter(qb=>qb.signal||qb.scale?(Ga.push(qb),0):1);1<Ga.length&&(Ga=[D(Ga)]);K.length&&Ga.push(1<K.length?{merge:K}:K[0]);null!=ja&&(Qa&&h.error("Signal encode and update are mutually exclusive."),Qa="encode(item(),"+h.stringValue(ja)+")");Ca.update=h.isString(Qa)?ia.parseExpression(Qa,q):null!=Qa.expr?ia.parseExpression(Qa.expr,q):null!=Qa.value?
Qa.value:null!=Qa.signal?{$expr:nd,$params:{$value:q.signalRef(Qa.signal)}}:h.error("Invalid signal update specification.");l.force&&(Ca.options={force:!0});Ga.forEach(qb=>{var nb=q.addUpdate,wc=h.extend;qb={source:qb.signal?q.signalRef(qb.signal):qb.scale?q.scaleRef(qb.scale):ca(qb,q)};return nb.call(q,wc.call(h,qb,Ca))})}function D(l){return{signal:"["+l.map(q=>q.scale?'scale("'+q.scale+'")':q.signal)+"]"}}function L(l,q){const K=q.getSignal(l.name);let ja=l.update;l.init&&(ja?h.error("Signals can not include both init and update expressions."):
(ja=l.init,K.initonly=!0));ja&&(ja=ia.parseExpression(ja,q),K.update=ja.$expr,K.params=ja.$params);l.on&&l.on.forEach(Ca=>m(Ca,q,K.id))}function w(l,q){return h.isObject(l)?l.signal?q.signalRef(l.signal):h.error("Unsupported object: "+h.stringValue(l)):l}function P(l,q){return l.signal?q.signalRef(l.signal):l.map(K=>w(K,q))}function A(l){h.error("Can not find data set: "+h.stringValue(l))}function V(l,q,K){if(l)return l.signal?K.signalRef(l.signal):(h.isArray(l)?G:l.fields?z:x)(l,q,K);null==q.domainMin&&
null==q.domainMax||h.error("No scale domain defined for domainMin/domainMax to override.")}function G(l,q,K){return l.map(ja=>w(ja,K))}function x(l,q,K){const ja=K.getData(l.data);ja||A(l.data);return zb.isDiscrete(q.type)?ja.valuesRef(K,l.field,U(l.sort,!1)):zb.isQuantile(q.type)?ja.domainRef(K,l.field):ja.extentRef(K,l.field)}function z(l,q,K){const ja=l.data,Ca=l.fields.reduce((Qa,Ga)=>{if(h.isString(Ga))Ga={data:ja,field:Ga};else if(h.isArray(Ga)||Ga.signal){var qb=Ga;Ga="_:vega:_"+Hc++;const nb=
Je({});h.isArray(qb)?nb.value={$ingest:qb}:qb.signal&&(qb="setdata("+h.stringValue(Ga)+","+qb.signal+")",nb.params.input=K.signalRef(qb));K.addDataPipeline(Ga,[nb,cc({})]);Ga={data:Ga,field:"data"}}Qa.push(Ga);return Qa},[]);return(zb.isDiscrete(q.type)?F:zb.isQuantile(q.type)?sa:N)(l,K,Ca)}function F(l,q,K){const ja=U(l.sort,!0);l=K.map(Qa=>{const Ga=q.getData(Qa.data);Ga||A(Qa.data);return Ga.countsRef(q,Qa.field,ja)});const Ca={groupby:xd,pulse:l};ja&&(l=ja.op||"count",K=ja.field?tb(l,ja.field):
"count",Ca.ops=[Tc[l]],Ca.fields=[q.fieldRef(K)],Ca.as=[K]);l=q.add(me(Ca));l=q.add(Je({pulse:Ia(l)}));K=q.add(Pc({field:xd,sort:q.sortRef(ja),pulse:Ia(l)}));return Ia(K)}function U(l,q){l&&(l.field||l.op?l.field||"count"===l.op?q&&l.field&&l.op&&!Tc[l.op]&&h.error("Multiple domain scales can not be sorted using "+l.op):h.error("No field provided for sort aggregate op: "+l.op):h.isObject(l)?l.field="key":l={field:"key"});return l}function sa(l,q,K){l=K.map(ja=>{const Ca=q.getData(ja.data);Ca||A(ja.data);
return Ca.domainRef(q,ja.field)});return Ia(q.add($c({values:l})))}function N(l,q,K){l=K.map(ja=>{const Ca=q.getData(ja.data);Ca||A(ja.data);return Ca.extentRef(q,ja.field)});return Ia(q.add(od({extents:l})))}function la(l,q,K){const ja=q.config.range;let Ca=l.range;if(Ca.signal)return q.signalRef(Ca.signal);if(h.isString(Ca)){if(ja&&h.hasOwnProperty(ja,Ca))return l=h.extend({},l,{range:ja[Ca]}),la(l,q,K);"width"===Ca?Ca=[0,{signal:"width"}]:"height"===Ca?Ca=zb.isDiscrete(l.type)?[0,{signal:"height"}]:
[{signal:"height"},0]:h.error("Unrecognized scale range value: "+h.stringValue(Ca))}else{if(Ca.scheme){K.scheme=h.isArray(Ca.scheme)?P(Ca.scheme,q):w(Ca.scheme,q);Ca.extent&&(K.schemeExtent=P(Ca.extent,q));Ca.count&&(K.schemeCount=w(Ca.count,q));return}if(Ca.step){K.rangeStep=w(Ca.step,q);return}if(zb.isDiscrete(l.type)&&!h.isArray(Ca))return V(Ca,l,q);h.isArray(Ca)||h.error("Unsupported range type: "+h.stringValue(Ca))}return Ca.map(Qa=>(h.isArray(Qa)?P:w)(Qa,q))}function wa(l,q,K){return h.isArray(l)?
l.map(ja=>wa(ja,q,K)):h.isObject(l)?l.signal?K.signalRef(l.signal):"fit"===q?l:h.error("Unsupported parameter object: "+h.stringValue(l)):l}function Ma(l){l.type="group";l.interactive=l.interactive||!1;return l}function Pa(l,q){const K=(ja,Ca)=>T(l[ja],T(q[ja],Ca));K.isVertical=ja=>"vertical"===T(l.direction,q.direction||(ja?q.symbolDirection:q.gradientDirection));K.gradientLength=()=>T(l.gradientLength,q.gradientLength||q.gradientWidth);K.gradientThickness=()=>T(l.gradientThickness,q.gradientThickness||
q.gradientHeight);K.entryColumns=()=>T(l.columns,T(q.columns,+K.isVertical(!0)));return K}function Ya(l,q){return(l=q&&(q.update&&q.update[l]||q.enter&&q.enter[l]))&&l.signal?l:l?l.value:null}function vb(l,q,K){return`item.anchor === '${"start"}' ? ${l} : item.anchor === '${"end"}' ? ${q} : ${K}`}function jb(l,q){return q?l?h.isObject(l)?Object.assign({},l,{offset:jb(l.offset,q)}):{value:l,offset:q}:q:l}function Ub(l,q){q?(l.name=q.name,l.style=q.style||l.style,l.interactive=!!q.interactive,l.encode=
Vb(l.encode,q,id)):l.interactive=!1;return l}function W(l,q,K,ja){l=Pa(l,K);K=l.isVertical();var Ca=l.gradientThickness();const Qa=l.gradientLength();let Ga,qb,nb;K?(K=[0,1],qb=[0,0],nb=Ca,Ca=Qa):(K=[0,0],qb=[1,0],nb=Qa);Ca={enter:Ga={opacity:ld,x:ld,y:ld,width:Ac(nb),height:Ac(Ca)},update:h.extend({},Ga,{opacity:fe,fill:{gradient:q,start:K,stop:qb}}),exit:{opacity:ld}};Cb(Ca,{stroke:l("gradientStrokeColor"),strokeWidth:l("gradientStrokeWidth")},{opacity:l("gradientOpacity")});return Ub({type:"rect",
role:"legend-gradient",encode:Ca},ja)}function Ea(l,q,K,ja,Ca){l=Pa(l,K);const Qa=l.isVertical();K=l.gradientThickness();const Ga=l.gradientLength();var qb;let nb,wc,vc,zc="";Qa?(qb="y",wc="y2",nb="x",vc="width",zc="1-"):(qb="x",wc="x2",nb="y",vc="height");q={opacity:ld,fill:{scale:q,field:"value"}};q[qb]={signal:zc+"datum.perc",mult:Ga};q[nb]=ld;q[wc]={signal:zc+"datum.perc2",mult:Ga};q[vc]=Ac(K);qb={enter:q,update:h.extend({},q,{opacity:fe}),exit:{opacity:ld}};Cb(qb,{stroke:l("gradientStrokeColor"),
strokeWidth:l("gradientStrokeWidth")},{opacity:l("gradientOpacity")});return Ub({type:"rect",role:"legend-band",key:"value",from:Ca,encode:qb},ja)}function Mb(l,q,K,ja){const Ca=Pa(l,q);var Qa=Ca.isVertical();const Ga=Ac(Ca.gradientThickness()),qb=Ca.gradientLength();let nb=Ca("labelOverlap"),wc,vc,zc,yc="";const Rc={enter:wc={opacity:ld},update:vc={opacity:fe,text:{field:"label"}},exit:{opacity:ld}};Cb(Rc,{fill:Ca("labelColor"),fillOpacity:Ca("labelOpacity"),font:Ca("labelFont"),fontSize:Ca("labelFontSize"),
fontStyle:Ca("labelFontStyle"),fontWeight:Ca("labelFontWeight"),limit:T(l.labelLimit,q.gradientLabelLimit)});Qa?(wc.align={value:"left"},wc.baseline=vc.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},Qa="y",zc="x",yc="1-"):(wc.align=vc.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},wc.baseline={value:"top"},Qa="x",zc="y");wc[Qa]=vc[Qa]={signal:yc+"datum.perc",mult:qb};wc[zc]=vc[zc]=Ga;Ga.offset=T(l.labelOffset,q.gradientLabelOffset)||
0;nb=nb?{separation:Ca("labelSeparation"),method:nb,order:"datum.index"}:void 0;return Ub({type:"text",role:"legend-label",style:"guide-label",key:"value",from:ja,encode:Rc,overlap:nb},K)}function oc(l,q,K,ja,Ca){var Qa=Pa(l,q);const Ga=K.entries,qb=!(!Ga||!Ga.interactive),nb=Ga?Ga.name:void 0,wc=Qa("clipHeight"),vc=Qa("symbolOffset"),zc={data:"value"},yc=`(${Ca}) ? datum.${"offset"} : datum.${"size"}`,Rc=wc?Ac(wc):{field:"size"},ed=`max(1, ${Ca})`;let Td,Ad;Rc.mult=.5;var Md={enter:Td={opacity:ld,
x:{signal:yc,mult:.5,offset:vc},y:Rc},update:Ad={opacity:fe,x:Td.x,y:Td.y},exit:{opacity:ld}};let Ud=null,pc=null;l.fill||(Ud=q.symbolBaseFillColor,pc=q.symbolBaseStrokeColor);Cb(Md,{fill:Qa("symbolFillColor",Ud),shape:Qa("symbolType"),size:Qa("symbolSize"),stroke:Qa("symbolStrokeColor",pc),strokeDash:Qa("symbolDash"),strokeDashOffset:Qa("symbolDashOffset"),strokeWidth:Qa("symbolStrokeWidth")},{opacity:Qa("symbolOpacity")});Yc.forEach(Hd=>{l[Hd]&&(Ad[Hd]=Td[Hd]={scale:l[Hd],field:"value"})});q=Ub({type:"symbol",
role:"legend-symbol",key:"value",from:zc,clip:wc?!0:void 0,encode:Md},K.symbols);Md=Ac(vc);Md.offset=Qa("labelOffset");Md={enter:Td={opacity:ld,x:{signal:yc,offset:Md},y:Rc},update:Ad={opacity:fe,text:{field:"label"},x:Td.x,y:Td.y},exit:{opacity:ld}};Cb(Md,{align:Qa("labelAlign"),baseline:Qa("labelBaseline"),fill:Qa("labelColor"),fillOpacity:Qa("labelOpacity"),font:Qa("labelFont"),fontSize:Qa("labelFontSize"),fontStyle:Qa("labelFontStyle"),fontWeight:Qa("labelFontWeight"),limit:Qa("labelLimit")});
K=Ub({type:"text",role:"legend-label",style:"guide-label",key:"value",from:zc,encode:Md},K.labels);Md={enter:{noBound:{value:!wc},width:ld,height:wc?Ac(wc):ld,opacity:ld},exit:{opacity:ld},update:Ad={opacity:fe,row:{signal:null},column:{signal:null}}};Qa.isVertical(!0)?(Qa=`ceil(item.mark.items.length / ${ed})`,Ad.row.signal=`${"datum.index"}%${Qa}`,Ad.column.signal=`floor(${"datum.index"} / ${Qa})`,Qa={field:["row","datum.index"]}):(Ad.row.signal=`floor(${"datum.index"} / ${ed})`,Ad.column.signal=
`${"datum.index"} % ${ed}`,Qa={field:"datum.index"});Ad.column.signal=`(${Ca})?${Ad.column.signal}:${"datum.index"}`;ja={facet:{data:ja,name:"value",groupby:"index"}};return Ma({role:"scope",from:ja,encode:Vb(Md,Ga,id),marks:[q,K],name:nb,interactive:qb,sort:Qa})}function $b(l,q){l=Pa(l,q);return{align:l("gridAlign"),columns:l.entryColumns(),center:{row:!0,column:!1},padding:{row:l("rowPadding"),column:l("columnPadding")}}}function Nb(l,q,K,ja){q=Pa(l,q);const Ca={enter:{opacity:ld},update:{opacity:fe,
x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:ld}};Cb(Ca,{orient:q("titleOrient"),_anchor:q("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},align:{signal:ne},baseline:{signal:ef},text:l.title,fill:q("titleColor"),fillOpacity:q("titleOpacity"),
font:q("titleFont"),fontSize:q("titleFontSize"),fontStyle:q("titleFontStyle"),fontWeight:q("titleFontWeight"),limit:q("titleLimit"),lineHeight:q("titleLineHeight")},{align:q("titleAlign"),baseline:q("titleBaseline")});return Ub({type:"text",role:"legend-title",style:"guide-title",from:ja,encode:Ca},K)}function Rb(l,q){let K;h.isObject(l)&&(l.signal?K=l.signal:l.path?K="pathShape("+xc(l.path)+")":l.sphere&&(K="geoShape("+xc(l.sphere)+', {type: "Sphere"})'));return K?q.signalRef(K):!!l}function xc(l){return h.isObject(l)&&
l.signal?l.signal:h.stringValue(l)}function dd(l){const q=l.role||"";return q.startsWith("axis")||q.startsWith("legend")||q.startsWith("title")?q:"group"===l.type?"scope":q||"mark"}function qa(l){return{marktype:l.type,name:l.name||void 0,role:l.role||dd(l),zindex:+l.zindex||void 0,aria:l.aria,description:l.description}}function Db(l,q){return l&&l.signal?q.signalRef(l.signal):!1===l?!1:!0}function Ua(l,q){const K=Yb.definition(l.type);K||h.error("Unrecognized transform type: "+h.stringValue(l.type));
var ja=K.type.toLowerCase();var Ca=yb(K,l,q);ja=new Xa(ja,null,Ca,void 0);l.signal&&q.addSignal(l.signal,q.proxy(ja));ja.metadata=K.metadata||{};return ja}function yb(l,q,K){const ja={},Ca=l.params.length;for(let Qa=0;Qa<Ca;++Qa){const Ga=l.params[Qa];ja[Ga.name]=Hb(Ga,q,K)}return ja}function Hb(l,q,K){const ja=l.type,Ca=q[l.name];if("index"===ja)return Zb(l,q,K);if(void 0===Ca)l.required&&h.error("Missing required "+h.stringValue(q.type)+" parameter: "+h.stringValue(l.name));else return"param"===
ja?ic(l,q,K):"projection"===ja?K.projectionRef(q[l.name]):l.array&&!Qb(Ca)?Ca.map(Qa=>Ob(l,Qa,K)):Ob(l,Ca,K)}function Ob(l,q,K){const ja=l.type;return Qb(q)?"expr"===ja?h.error("Expression references can not be signals."):"field"===ja?K.fieldRef(q):"compare"===ja?K.compareRef(q):K.signalRef(q.signal):(l=l.expr||"field"===ja)&&q&&q.expr?K.exprRef(q.expr,q.as):l&&q&&q.field?ib(q.field,q.as):"expr"===ja?ia.parseExpression(q,K):"data"===ja?Ia(K.getData(q).values):"field"===ja?ib(q):"compare"===ja?K.compareRef(q):
q}function Zb(l,q,K){h.isString(q.from)||h.error('Lookup "from" parameter must be a string literal.');return K.getData(q.from).lookupRef(K,q.key)}function ic(l,q,K){q=q[l.name];return l.array?(h.isArray(q)||h.error("Expected an array of sub-parameters. Instead: "+h.stringValue(q)),q.map(ja=>Bc(l,ja,K))):Bc(l,q,K)}function Bc(l,q,K){const ja=l.params.length;let Ca;for(let Qa=0;Qa<ja;++Qa){Ca=l.params[Qa];for(const Ga in Ca.key)if(Ca.key[Ga]!==q[Ga]){Ca=null;break}if(Ca)break}Ca||h.error("Unsupported parameter: "+
h.stringValue(q));l=h.extend(yb(Ca,q,K),Ca.key);return Ia(K.add(Nd(l)))}function jd(l,q,K){let ja,Ca,Qa,Ga;if(!l)Qa=Ia(K.add(Je(null,[{}])));else if(ja=l.facet)q||h.error("Only group marks can be faceted."),null!=ja.field?Qa=Ga=Vc(ja,K):(l.data?Ga=Ia(K.getData(l.data).aggregate):(q=Ua(h.extend({type:"aggregate",groupby:h.array(ja.groupby)},ja.aggregate),K),q.params.key=K.keyRef(ja.groupby),q.params.pulse=Vc(ja,K),Qa=Ga=Ia(K.add(q))),Ca=K.keyRef(ja.groupby,!0));Qa||(Qa=Vc(l,K));return{key:Ca,pulse:Qa,
parent:Ga}}function Vc(l,q){return l.$ref?l:l.data&&l.data.$ref?l.data:Ia(q.getData(l.data).output)}function ma(l,q,K,ja,Ca){this.scope=l;this.input=q;this.output=K;this.values=ja;this.aggregate=Ca;this.index={}}function Ha(l){return h.isString(l)?l:null}function gb(l,q,K){const ja=tb(K.op,K.field);let Ca;if(q.ops)for(let Qa=0,Ga=q.as.length;Qa<Ga;++Qa){if(q.as[Qa]===ja)return}else q.ops=["count"],q.fields=[null],q.as=["count"];K.op&&(q.ops.push((Ca=K.op.signal)?l.signalRef(Ca):K.op),q.fields.push(l.fieldRef(K.field)),
q.as.push(ja))}function Q(l,q,K,ja,Ca,Qa,Ga){K=q[K]||(q[K]={});var qb=h.isObject(Qa)?("descending"===Qa.order?"-":"+")+tb(Qa.op,Qa.field):"";let nb=Ha(Ca);if(null!=nb){l=q.scope;nb+=qb?"|"+qb:"";var wc=K[nb]}wc||(wc=Qa?{field:xd,pulse:q.countsRef(l,Ca,Qa)}:{field:l.fieldRef(Ca),pulse:Ia(q.output)},qb&&(wc.sort=l.sortRef(Qa)),l=l.add(new Xa(ja,void 0,wc,void 0)),Ga&&(q.index[Ca]=l),wc=Ia(l),null!=nb&&(K[nb]=wc));return wc}function t(l,q,K){var ja=l.from.facet;const Ca=ja.name,Qa=Vc(ja,q);let Ga;ja.name||
h.error("Facet must have a name: "+h.stringValue(ja));ja.data||h.error("Facet must reference a data set: "+h.stringValue(ja));ja.field?Ga=q.add(ce({field:q.fieldRef(ja.field),pulse:Qa})):ja.groupby?Ga=q.add(Fa({key:q.keyRef(ja.groupby),group:Ia(q.proxy(K.parent)),pulse:Qa})):h.error("Facet must specify groupby or field: "+h.stringValue(ja));q=q.fork();K=q.add(Je());ja=q.add(cc({pulse:Ia(K)}));q.addData(Ca,new ma(q,K,K,ja));q.addSignal("parent",null);Ga.params.subflow={$subflow:q.parse(l).toRuntime()}}
function ba(l,q,K){K=q.add(ce({pulse:K.pulse}));q=q.fork();q.add(cc());q.addSignal("parent",null);K.params.subflow={$subflow:q.parse(l).toRuntime()}}function xa(l,q,K){const ja=l.remove,Ca=l.insert,Qa=l.toggle,Ga=l.modify,qb=l.values,nb=q.add(new Xa("operator",void 0,void 0,void 0));l="if("+l.trigger+',modify("'+K+'",'+[Ca,ja,Qa,Ga,qb].map(wc=>null==wc?"null":wc).join(",")+"),0)";q=ia.parseExpression(l,q);nb.update=q.$expr;nb.params=q.$params}function Da(l,q){var K=dd(l),ja="group"===l.type,Ca=l.from&&
l.from.facet;const Qa=l.overlap;let Ga=l.layout||"scope"===K||"frame"===K,qb,nb,wc,vc,zc,yc;const Rc="mark"===K||Ga||Ca,ed=jd(l.from,ja,q);nb=q.add(bf({key:ed.key||(l.key?ib(l.key):void 0),pulse:ed.pulse,clean:!ja}));const Td=Ia(nb);nb=wc=q.add(Je({pulse:Td}));nb=q.add(Oc({markdef:qa(l),interactive:Db(l.interactive,q),clip:Rb(l.clip,q),context:{$context:!0},groups:q.lookup(),parent:q.signals.parent?q.signalRef("parent"):null,index:q.markpath(),pulse:Ia(nb)}));var Ad=Ia(nb);nb=vc=q.add(E(ra(l.encode,
l.type,K,l.style,q,{mod:!1,pulse:Ad})));nb.params.parent=q.encode();l.transform&&l.transform.forEach(Ud=>{Ud=Ua(Ud,q);const pc=Ud.metadata;(pc.generates||pc.changes)&&h.error("Mark transforms should not generate new data.");pc.nomod||(vc.params.mod=!0);Ud.params.pulse=Ia(nb);q.add(nb=Ud)});l.sort&&(nb=q.add(gd({sort:q.compareRef(l.sort),pulse:Ia(nb)})));K=Ia(nb);if(Ca||Ga)Ga=q.add(rc({layout:q.objectProperty(l.layout),legends:q.legends,mark:Ad,pulse:K})),yc=Ia(Ga);const Md=q.add(Ie({mark:Ad,pulse:yc||
K}));Ad=Ia(Md);ja&&(Rc&&(qb=q.operators,qb.pop(),Ga&&qb.pop()),q.pushState(K,yc||Ad,Td),Ca?t(l,q,ed):Rc?ba(l,q,ed):q.parse(l),q.popState(),Rc&&(Ga&&qb.push(Ga),qb.push(Md)));Qa&&(Ad=Sa(Qa,Ad,q));ja=q.add(Aa({pulse:Ad}));Ca=q.add(cc({pulse:Ia(ja)},void 0,q.parent()));null!=l.name&&(zc=l.name,q.addData(zc,new ma(q,wc,ja,Ca)),l.on&&l.on.forEach(Ud=>{(Ud.insert||Ud.remove||Ud.toggle)&&h.error("Marks only support modify triggers.");xa(Ud,q,zc)}))}function Sa(l,q,K){const ja=l.method,Ca=l.bound,Qa=l.separation;
q={separation:Qb(Qa)?K.signalRef(Qa.signal):Qa,method:Qb(ja)?K.signalRef(ja.signal):ja,pulse:q};l.order&&(q.sort=K.compareRef({field:l.order}));Ca&&(l=Ca.tolerance,q.boundTolerance=Qb(l)?K.signalRef(l.signal):+l,q.boundScale=K.scaleRef(Ca.scale),q.boundOrient=Ca.orient);return Ia(K.add(Nc(q)))}function kb(l,q){const K=q.config.legend,ja=l.encode||{},Ca=Pa(l,K),Qa=ja.legend||{},Ga=Qa.name||void 0,qb=Qa.interactive,nb=Qa.style,wc={};let vc=0,zc,yc;Yc.forEach(Md=>l[Md]?(wc[Md]=l[Md],vc=vc||l[Md]):0);
vc||h.error("Missing valid scale for legend.");var Rc=Sb(l,q.scaleType(vc));const ed={title:null!=l.title,scales:wc,type:Rc,vgrad:"symbol"!==Rc&&Ca.isVertical()},Td=Ia(q.add(Je(null,[ed]))),Ad=Ia(q.add(qc(yc={type:Rc,scale:q.scaleRef(vc),count:q.objectProperty(Ca("tickCount")),limit:q.property(Ca("symbolLimit")),values:q.objectProperty(l.values),minstep:q.property(l.tickMinStep),formatType:q.property(l.formatType),formatSpecifier:q.property(l.format)})));"gradient"===Rc?(Rc=[W(l,vc,K,ja.gradient),
Mb(l,K,ja.labels,Ad)],yc.count=yc.count||q.signalRef(`max(2,2*floor((${Z(Ca.gradientLength())})/100))`)):"discrete"===Rc?Rc=[Ea(l,vc,K,ja.gradient,Ad),Mb(l,K,ja.labels,Ad)]:(zc=$b(l,K),Rc=[oc(l,K,ja,Ad,Z(zc.columns))],yc.size=Cc(l,q,Rc[0].marks));Rc=[Ma({role:"legend-entry",from:Td,encode:{enter:{x:{value:0},y:{value:0}}},marks:Rc,layout:zc,interactive:qb})];ed.title&&Rc.push(Nb(l,K,ja.title,Td));return Da(Ma({role:"legend",from:Td,encode:Vb(Kb(Ca,l,K),Qa,id),marks:Rc,aria:Ca("aria"),description:Ca("description"),
zindex:Ca("zindex"),name:Ga,interactive:qb,style:nb}),q)}function Sb(l,q){let K=l.type||"symbol";l.type||1!==Fb(l)||!l.fill&&!l.stroke||(K=zb.isContinuous(q)?"gradient":zb.isDiscretizing(q)?"discrete":"symbol");return"gradient"!==K?K:zb.isDiscretizing(q)?"discrete":"gradient"}function Fb(l){return Yc.reduce((q,K)=>q+(l[K]?1:0),0)}function Kb(l,q,K){const ja={enter:{},update:{}};Cb(ja,{orient:l("orient"),offset:l("offset"),padding:l("padding"),titlePadding:l("titlePadding"),cornerRadius:l("cornerRadius"),
fill:l("fillColor"),stroke:l("strokeColor"),strokeWidth:K.strokeWidth,strokeDash:K.strokeDash,x:l("legendX"),y:l("legendY"),format:q.format,formatType:q.formatType});return ja}function Cc(l,q,K){const ja=Z(Ec("size",l,K));l=Z(Ec("strokeWidth",l,K));(K=Ya("fontSize",K[1].encode))||(K=(K=q.config.style["guide-label"])&&K.fontSize);K=Z(K);return ia.parseExpression(`max(ceil(sqrt(${ja})+${l}),${K})`,q)}function Ec(l,q,K){return q[l]?`scale("${q[l]}",datum)`:Ya(l,K[0].encode)}function Sc(l,q){l=h.isString(l)?
{text:l}:l;const K=Pa(l,q.config.title);var ja=l.encode||{},Ca=ja.group||{};const Qa=Ca.name||void 0,Ga=Ca.interactive,qb=Ca.style,nb=[],wc=Ia(q.add(Je(null,[{}])));var vc=nb.push,zc=l;var yc=(yc=l.encode)&&yc.title||h.extend({name:l.name,interactive:l.interactive,style:l.style},yc);var Rc={value:0};Rc={enter:{opacity:Rc},update:{opacity:{value:1}},exit:{opacity:Rc}};Cb(Rc,{text:zc.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},
baseline:"top",dx:K("dx"),dy:K("dy"),fill:K("color"),font:K("font"),fontSize:K("fontSize"),fontStyle:K("fontStyle"),fontWeight:K("fontWeight"),lineHeight:K("lineHeight")},{align:K("align"),angle:K("angle"),baseline:K("baseline")});zc=Ub({type:"text",role:"title-text",style:"group-title",from:wc,encode:Rc},yc);vc.call(nb,zc);l.subtitle&&(vc=nb.push,ja=ja.subtitle,zc={value:0},zc={enter:{opacity:zc},update:{opacity:{value:1}},exit:{opacity:zc}},Cb(zc,{text:l.subtitle,align:{signal:"item.mark.group.align"},
angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:K("dx"),dy:K("dy"),fill:K("subtitleColor"),font:K("subtitleFont"),fontSize:K("subtitleFontSize"),fontStyle:K("subtitleFontStyle"),fontWeight:K("subtitleFontWeight"),lineHeight:K("subtitleLineHeight")},{align:K("align"),angle:K("angle"),baseline:K("baseline")}),l=Ub({type:"text",role:"title-subtitle",style:"group-subtitle",from:wc,encode:zc},ja),vc.call(nb,l));l={enter:{},update:{}};Cb(l,{orient:K("orient"),
anchor:K("anchor"),align:{signal:Re},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},limit:K("limit"),frame:K("frame"),offset:K("offset")||0,padding:K("subtitlePadding")});Ca=Vb(l,Ca,id);return Da(Ma({role:"title",from:wc,encode:Ca,marks:nb,aria:K("aria"),description:K("description"),zindex:K("zindex"),name:Qa,interactive:Ga,style:qb}),q)}function vd(l,q){const K=[];l.transform&&l.transform.forEach(ja=>{K.push(Ua(ja,q))});l.on&&l.on.forEach(ja=>{xa(ja,q,l.name)});
q.addDataPipeline(l.name,pd(l,q,K))}function pd(l,q,K){const ja=[];let Ca=null,Qa=!1,Ga=!1,qb,nb,wc,vc;l.values?Qb(l.values)||eb(l.format)?(ja.push(Cd(q,l)),ja.push(Ca=fd())):ja.push(Ca=fd({$ingest:l.values,$format:l.format})):l.url?eb(l.url)||eb(l.format)?(ja.push(Cd(q,l)),ja.push(Ca=fd())):ja.push(Ca=fd({$request:l.url,$format:l.format})):l.source&&(Ca=qb=h.array(l.source).map(zc=>Ia(q.getData(zc).output)),ja.push(null));l=0;for(nb=K.length;l<nb;++l)wc=K[l],vc=wc.metadata,Ca||vc.source||ja.push(Ca=
fd()),ja.push(wc),vc.generates&&(Ga=!0),vc.modifies&&!Ga&&(Qa=!0),vc.source?Ca=wc:vc.changes&&(Ca=null);qb&&(nb=qb.length-1,ja[0]=$d({derive:Qa,pulse:nb?qb:qb[0]}),(Qa||nb)&&ja.splice(1,0,fd()));Ca||ja.push(fd());ja.push(cc({}));return ja}function fd(l){l=Je({},l);l.metadata={source:!0};return l}function Cd(l,q){return Ib({url:q.url?l.property(q.url):void 0,async:q.async?l.property(q.async):void 0,values:q.values?l.property(q.values):void 0,format:l.objectProperty(q.format)})}function Dd(l,q,K,ja){let Ca;
if(q&&h.hasOwnProperty(q,l))return q[l];if(h.hasOwnProperty(K,l))return K[l];if(l.startsWith("title")){switch(l){case "titleColor":Ca="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":Ca=l[5].toLowerCase()+l.slice(6)}return ja["guide-title"][Ca]}if(l.startsWith("label")){switch(l){case "labelColor":Ca="fill";break;case "labelFont":case "labelFontSize":Ca=l[5].toLowerCase()+l.slice(6)}return ja["guide-label"][Ca]}return null}function rd(l){const q={};for(const K of l)if(K)for(const ja in K)q[ja]=
1;return Object.keys(q)}function we(l,q,K,ja,Ca){return{signal:'flush(range("'+l+'"), scale("'+l+'", datum.value), '+q+","+K+","+ja+","+Ca+")"}}function Bd(l,q,K,ja){const Ca=(Ga,qb)=>null!=Ga?(K.update[qb]=na(Ac(Ga),K.update[qb]),!1):jc(qb,ja)?!1:!0,Qa=Ca(l("titleX"),"x");l=Ca(l("titleY"),"y");K.enter.auto=l===Qa?Ac(l):Ke(q,Ac(l),Ac(Qa))}function y(l,q,K){const ja=h.array(l.signals),Ca=h.array(l.scales);K||ja.forEach(Qa=>Ra(Qa,q));h.array(l.projections).forEach(Qa=>{const Ga=q.config.projection||
{},qb={};for(const nb in Qa)"name"!==nb&&(qb[nb]=wa(Qa[nb],nb,q));for(const nb in Ga)null==qb[nb]&&(qb[nb]=wa(Ga[nb],nb,q));q.addProjection(Qa.name,qb)});Ca.forEach(Qa=>{const Ga=Qa.type||"linear";zb.isValidScaleType(Ga)||h.error("Unrecognized scale type: "+h.stringValue(Ga));q.addScale(Qa.name,{type:Ga,domain:void 0})});h.array(l.data).forEach(Qa=>vd(Qa,q));Ca.forEach(Qa=>{const Ga=q.getScale(Qa.name).params;let qb;Ga.domain=V(Qa.domain,Qa,q);null!=Qa.range&&(Ga.range=la(Qa,q,Ga));if(null!=Qa.interpolate){var nb=
Qa.interpolate;Ga.interpolate=w(nb.type||nb);null!=nb.gamma&&(Ga.interpolateGamma=w(nb.gamma))}null!=Qa.nice&&(nb=Qa.nice,nb=nb.signal?q.signalRef(nb.signal):h.isObject(nb)?{interval:w(nb.interval),step:w(nb.step)}:w(nb),Ga.nice=nb);null!=Qa.bins&&(nb=Qa.bins,nb=nb.signal||h.isArray(nb)?P(nb,q):q.objectProperty(nb),Ga.bins=nb);for(qb in Qa)h.hasOwnProperty(Ga,qb)||"name"===qb||(Ga[qb]=w(Qa[qb],q))});(K||ja).forEach(Qa=>L(Qa,q));h.array(l.axes).forEach(Qa=>{var Ga=q.config,qb=Ga.style,nb=Ga.axis,wc=
"band"===q.scaleType(Qa.scale)&&Ga.axisBand,vc=Qa.orient,zc;if(Qb(vc)){const Yd=rd([Ga.axisX,Ga.axisY]),he=rd([Ga.axisTop,Ga.axisBottom,Ga.axisLeft,Ga.axisRight]);var yc={};for(zc of Yd)yc[zc]=Ke(vc,Dd(zc,Ga.axisX,nb,qb),Dd(zc,Ga.axisY,nb,qb));var Rc={};for(zc of he){var ed=Rc,Td=zc,Ad=vc.signal,Md=Dd(zc,Ga.axisTop,nb,qb),Ud=Dd(zc,Ga.axisBottom,nb,qb),pc=Dd(zc,Ga.axisLeft,nb,qb),Hd=Dd(zc,Ga.axisRight,nb,qb);var Be={signal:(null!=pc?`${Ad} === '${"left"}' ? (${Ae(pc)}) : `:"")+(null!=Ud?`${Ad} === '${"bottom"}' ? (${Ae(Ud)}) : `:
"")+(null!=Hd?`${Ad} === '${"right"}' ? (${Ae(Hd)}) : `:"")+(null!=Md?`${Ad} === '${"top"}' ? (${Ae(Md)}) : `:"")+"(null)"};ed[Td]=Be}}else yc="top"===vc||"bottom"===vc?Ga.axisX:Ga.axisY,Rc=Ga["axis"+vc[0].toUpperCase()+vc.slice(1)];var Vd=yc||Rc||wc?h.extend({},nb,yc,Rc,wc):nb;const le=Qa.encode||{},Pd=le.axis||{},Qd=Pd.name||void 0,Ne=Pd.interactive,Fe=Pd.style,re=Pa(Qa,Vd),Me=re("tickBand");let hd=re("tickOffset"),ve,gf;Me?Me.signal?(ve={signal:`(${Me.signal}) === 'extent' ? 1 : 0.5`},gf={signal:`(${Me.signal}) === 'extent'`},
h.isObject(hd)||(hd={signal:`(${Me.signal}) === 'extent' ? 0 : ${hd}`})):"extent"===Me?(ve=1,gf=!0,hd=0):(ve=.5,gf=!1):(ve=re("bandPosition"),gf=re("tickExtra"));var lf=gf;var Dg=ve;var vf=hd;const Mf={scale:Qa.scale,ticks:!!re("ticks"),labels:!!re("labels"),grid:!!re("grid"),domain:!!re("domain"),title:null!=Qa.title},Vf=Ia(q.add(Je({},[Mf]))),mf=Ia(q.add(Oe({scale:q.scaleRef(Qa.scale),extra:q.property(lf),count:q.objectProperty(Qa.tickCount),values:q.objectProperty(Qa.values),minstep:q.property(Qa.tickMinStep),
formatType:q.property(Qa.formatType),formatSpecifier:q.property(Qa.format)}))),Se=[];let Wf;if(Mf.grid){var og=Se.push,Uf=le.grid;const Yd=Pa(Qa,Vd),he=Qa.orient,of=Qa.gridScale,He=kf(he,1,-1);a:{var ig=Qa.offset,Bf=He;if(1!==Bf)if(h.isObject(ig)){let Of=ig=h.extend({},ig);for(;null!=Of.mult;)if(h.isObject(Of.mult))Of=Of.mult=h.extend({},Of.mult);else{Of.mult=Qb(Bf)?{signal:`(${Of.mult}) * (${Bf.signal})`}:Of.mult*Bf;var Tg=ig;break a}Of.mult=Bf}else ig=Qb(Bf)?{signal:`(${Bf.signal}) * (${ig||0})`}:
Bf*(ig||0);Tg=ig}const hf=Tg;let Ve,pf,Yf;const Nf={enter:Ve={opacity:ld},update:Yf={opacity:fe},exit:pf={opacity:ld}};Cb(Nf,{stroke:Yd("gridColor"),strokeCap:Yd("gridCap"),strokeDash:Yd("gridDash"),strokeDashOffset:Yd("gridDashOffset"),strokeOpacity:Yd("gridOpacity"),strokeWidth:Yd("gridWidth")});const $e={scale:Qa.scale,field:"value",band:Dg,extra:lf,offset:vf,round:Yd("tickRound")},Wg=Ke(he,{signal:"height"},{signal:"width"}),xg=of?{scale:of,range:0,mult:He,offset:hf}:{value:0,offset:hf},jh=of?
{scale:of,range:1,mult:He,offset:hf}:h.extend(Wg,{mult:He,offset:hf});Ve.x=Yf.x=Ke(he,$e,xg);Ve.y=Yf.y=Ye(he,$e,xg);Ve.x2=Yf.x2=Ye(he,jh);Ve.y2=Yf.y2=Ke(he,jh);pf.x=Ke(he,$e);pf.y=Ye(he,$e);var Eg=Ub({type:"rule",role:"axis-grid",key:"value",from:mf,encode:Nf},Uf);og.call(Se,Eg)}if(Mf.ticks){Wf=re("tickSize");var Ch=Se.push,Fg=le.ticks,Ug=Wf;const Yd=Pa(Qa,Vd),he=Qa.orient,of=kf(he,-1,1);let He,hf,Ve;const pf={enter:He={opacity:ld},update:Ve={opacity:fe},exit:hf={opacity:ld}};Cb(pf,{stroke:Yd("tickColor"),
strokeCap:Yd("tickCap"),strokeDash:Yd("tickDash"),strokeDashOffset:Yd("tickDashOffset"),strokeOpacity:Yd("tickOpacity"),strokeWidth:Yd("tickWidth")});const Yf=Ac(Ug);Yf.mult=of;const Nf={scale:Qa.scale,field:"value",band:Dg,extra:lf,offset:vf,round:Yd("tickRound")};Ve.y=He.y=Ke(he,ld,Nf);Ve.y2=He.y2=Ke(he,Yf);hf.x=Ke(he,Nf);Ve.x=He.x=Ye(he,ld,Nf);Ve.x2=He.x2=Ye(he,Yf);hf.y=Ye(he,Nf);var ch=Ub({type:"rule",role:"axis-tick",key:"value",from:mf,encode:pf},Fg);Ch.call(Se,ch)}if(Mf.labels){Wf=Mf.ticks?
Wf:0;var S=Se.push,Ja=le.labels,mb=Wf;const Yd=Pa(Qa,Vd),he=Qa.orient,of=Qa.scale,He=kf(he,-1,1),hf=Z(Yd("labelFlush")),Ve=Z(Yd("labelFlushOffset")),pf=Yd("labelAlign"),Yf=Yd("labelBaseline");let Nf=0===hf||!!hf,$e;const Wg=Ac(mb);Wg.mult=He;Wg.offset=Ac(Yd("labelPadding")||0);Wg.offset.mult=He;const xg={scale:of,field:"value",band:.5,offset:jb(vf,Yd("labelOffset"))};var Fc=Nf?we(of,hf,'"left"','"right"','"center"'):{value:"center"},Gc=he;var Ld=Qb(Gc)?oe(`${Gc.signal} === '${"right"}'`,"left","right"):
"right"===Gc?{value:"left"}:{value:"right"};const jh=Ke(he,Fc,Ld),Of=Ke(he,Ze(he,"bottom","top"),Nf?we(of,hf,'"top"','"bottom"','"middle"'):{value:"middle"}),Rh=we(of,hf,`-(${Ve})`,Ve,0);Nf=Nf&&Ve;const pg={opacity:ld,x:Ke(he,xg,Wg),y:Ye(he,xg,Wg)},uh={enter:pg,update:$e={opacity:fe,text:{field:"label"},x:pg.x,y:pg.y,align:jh,baseline:Of},exit:{opacity:ld,x:pg.x,y:pg.y}};Cb(uh,{dx:!pf&&Nf?Ke(he,Rh):null,dy:!Yf&&Nf?Ye(he,Rh):null});Cb(uh,{angle:Yd("labelAngle"),fill:Yd("labelColor"),fillOpacity:Yd("labelOpacity"),
font:Yd("labelFont"),fontSize:Yd("labelFontSize"),fontWeight:Yd("labelFontWeight"),fontStyle:Yd("labelFontStyle"),limit:Yd("labelLimit"),lineHeight:Yd("labelLineHeight")},{align:pf,baseline:Yf});const jg=Yd("labelBound");let Sh=Yd("labelOverlap");Sh=Sh||jg?{separation:Yd("labelSeparation"),method:Sh,order:"datum.index",bound:jg?{scale:of,orient:he,tolerance:jg}:null}:void 0;$e.align!==jh&&($e.align=na($e.align,jh));$e.baseline!==Of&&($e.baseline=na($e.baseline,Of));var ge=Ub({type:"text",role:"axis-label",
style:"guide-label",key:"value",from:mf,encode:uh,overlap:Sh},Ja);S.call(Se,ge)}if(Mf.domain){var Ge=Se.push,ze=le.domain;const Yd=Pa(Qa,Vd),he=Qa.orient;let of,He;const hf={enter:of={opacity:ld},update:He={opacity:fe},exit:{opacity:ld}};Cb(hf,{stroke:Yd("domainColor"),strokeCap:Yd("domainCap"),strokeDash:Yd("domainDash"),strokeDashOffset:Yd("domainDashOffset"),strokeWidth:Yd("domainWidth"),strokeOpacity:Yd("domainOpacity")});const Ve={scale:Qa.scale,range:0},pf={scale:Qa.scale,range:1};of.x=He.x=
Ke(he,Ve,ld);of.x2=He.x2=Ke(he,pf);of.y=He.y=Ye(he,Ve,ld);of.y2=He.y2=Ye(he,pf);var Hf=Ub({type:"rule",role:"axis-domain",from:Vf,encode:hf},ze);Ge.call(Se,Hf)}if(Mf.title){var Xf=Se.push,ih=le.title;const Yd=Pa(Qa,Vd),he=Qa.orient,of=kf(he,-1,1);let He,hf;const Ve={enter:He={opacity:ld,anchor:Ac(Yd("titleAnchor",null)),align:{signal:Re}},update:hf=h.extend({},He,{opacity:fe,text:Ac(Qa.title)}),exit:{opacity:ld}},pf={signal:`lerp(range("${Qa.scale}"), ${vb(0,1,.5)})`};hf.x=Ke(he,pf);hf.y=Ye(he,pf);
var Qf=He,Vg=of;var dg=Qb(Vg)?{signal:`(${Vg.signal}) * ${90}`}:{value:90*Vg};Qf.angle=Ke(he,ld,dg);He.baseline=Ke(he,Ze(he,"bottom","top"),{value:"bottom"});hf.angle=He.angle;hf.baseline=He.baseline;Cb(Ve,{fill:Yd("titleColor"),fillOpacity:Yd("titleOpacity"),font:Yd("titleFont"),fontSize:Yd("titleFontSize"),fontStyle:Yd("titleFontStyle"),fontWeight:Yd("titleFontWeight"),limit:Yd("titleLimit"),lineHeight:Yd("titleLineHeight")},{align:Yd("titleAlign"),angle:Yd("titleAngle"),baseline:Yd("titleBaseline")});
Bd(Yd,he,Ve,ih);Ve.update.align=na(Ve.update.align,He.align);Ve.update.angle=na(Ve.update.angle,He.angle);Ve.update.baseline=na(Ve.update.baseline,He.baseline);var sh=Ub({type:"text",role:"axis-title",style:"guide-title",from:Vf,encode:Ve},ih);Xf.call(Se,sh)}const Dh={enter:{},update:{}};Cb(Dh,{orient:re("orient"),offset:re("offset")||0,position:T(Qa.position,0),titlePadding:re("titlePadding"),minExtent:re("minExtent"),maxExtent:re("maxExtent"),range:{signal:`abs(span(range("${Qa.scale}")))`},translate:re("translate"),
format:Qa.format,formatType:Qa.formatType});return Da(Ma({role:"axis",from:Vf,encode:Vb(Dh,Pd,id),marks:Se,aria:re("aria"),description:re("description"),zindex:re("zindex"),name:Qd,interactive:Ne,style:Fe}),q)});h.array(l.marks).forEach(Qa=>Da(Qa,q));h.array(l.legends).forEach(Qa=>kb(Qa,q));l.title&&Sc(l.title,q);q.parseLambdas();return q}function J(l,q){var K=q.config;const ja=Ia(q.root=q.add(new Xa("operator",void 0,void 0,void 0))),Ca=Ka(l,K);Ca.forEach(qb=>Ra(qb,q));q.description=l.description||
K.description;q.eventConfig=K.events;q.legends=q.objectProperty(K.legend&&K.legend.layout);q.locale=K.locale;K=q.add(Je());const Qa=q.add(E(ra(Vb({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},l.encode),"group","frame",l.style,q,{pulse:Ia(K)}))),Ga=q.add(rc({layout:q.objectProperty(l.layout),legends:q.legends,autosize:q.signalRef("autosize"),mark:ja,pulse:Ia(Qa)}));q.operators.pop();q.pushState(Ia(Qa),Ia(Ga),null);y(l,q,Ca);q.operators.push(Ga);l=q.add(Ie({mark:ja,
pulse:Ia(Ga)}));l=q.add(Aa({pulse:Ia(l)}));l=q.add(cc({pulse:Ia(l)}));q.addData("root",new ma(q,K,K,l));return q}function va(l,q){return q&&q.signal?{name:l,update:q.signal}:{name:l,value:q}}function Ka(l,q){const K=Ga=>T(l[Ga],q[Ga]),ja=[va("background",K("background")),va("autosize",ac(K("autosize"))),va("padding",Xb(K("padding"))),va("width",K("width")||0),va("height",K("height")||0)],Ca=ja.reduce((Ga,qb)=>(Ga[qb.name]=qb,Ga),{}),Qa={};h.array(l.signals).forEach(Ga=>{h.hasOwnProperty(Ca,Ga.name)?
Ga=h.extend(Ca[Ga.name],Ga):ja.push(Ga);Qa[Ga.name]=Ga});h.array(q.signals).forEach(Ga=>{h.hasOwnProperty(Qa,Ga.name)||h.hasOwnProperty(Ca,Ga.name)||ja.push(Ga)});return ja}function lb(l,q){this.config=l||{};this.options=q||{};this.bindings=[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=
[];this._markpath=[]}function Bb(l){this.config=l.config;this.options=l.options;this.legends=l.legends;this.field=Object.create(l.field);this.signals=Object.create(l.signals);this.lambdas=Object.create(l.lambdas);this.scales=Object.create(l.scales);this.events=Object.create(l.events);this.data=Object.create(l.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++l._nextsub[0];this._nextsub=l._nextsub;this._parent=l._parent.slice();this._encode=l._encode.slice();this._lookup=
l._lookup.slice();this._markpath=l._markpath}function bc(l){return(h.isArray(l)?Tb:nc)(l)}function Tb(l){const q=l.length;let K="[";for(let ja=0;ja<q;++ja){const Ca=l[ja];K+=(0<ja?",":"")+(h.isObject(Ca)?Ca.signal||bc(Ca):h.stringValue(Ca))}return K+"]"}function nc(l){let q="{",K=0,ja,Ca;for(ja in l)Ca=l[ja],q+=(1<++K?",":"")+h.stringValue(ja)+":"+(h.isObject(Ca)?Ca.signal||bc(Ca):h.stringValue(Ca));return q+"}"}function Jc(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,
events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",
font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,
labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,
labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}
const Ac=l=>h.isObject(l)&&!h.isArray(l)?h.extend({},l):{value:l},Xc=l=>h.isString(l)?h.stringValue(l):l.signal?`(${l.signal})`:xb(l),kd=(l,q,K,ja)=>`(${l}(${[q,K,ja].map(wb).join(",")})+'')`,qd=["value","update","init","react","bind"],xd=ib("key"),nd={code:"_.$value",ast:{type:"Identifier",value:"value"}},Id=l=>(q,K,ja)=>new Xa(l,K,q||void 0,ja),me=Id("aggregate"),Oe=Id("axisticks"),Ie=Id("bound"),Je=Id("collect"),tf=Id("compare"),bf=Id("datajoin"),E=Id("encode"),aa=Id("expression"),Fa=Id("facet"),
fb=Id("field"),Gb=Id("key"),qc=Id("legendentries"),Ib=Id("load"),Oc=Id("mark"),od=Id("multiextent"),$c=Id("multivalues"),Nc=Id("overlap"),Nd=Id("params"),ce=Id("prefacet"),Kd=Id("projection"),Jd=Id("proxy"),$d=Id("relay"),Aa=Id("render"),Oa=Id("scale"),cc=Id("sieve"),gd=Id("sortitems"),rc=Id("viewlayout"),Pc=Id("values");let Hc=0;const Tc={min:"min",max:"max",count:"sum"},Yc="size shape fill stroke strokeWidth strokeDash opacity".split(" "),id={name:1,style:1,interactive:1},ld={value:0},fe={value:1},
Re=vb(h.stringValue("left"),h.stringValue("right"),h.stringValue("center")),Ee=vb('"top"','"bottom"','"middle"'),ne=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${vb('"right"','"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${Re}`,ef=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${Ee}) : "top"`;
ma.fromEntries=function(l,q){const K=q.length,ja=q[K-1],Ca=q[K-2];let Qa=q[0],Ga=null,qb=1;Qa&&"load"===Qa.type&&(Qa=q[1]);for(l.add(q[0]);qb<K;++qb)q[qb].params.pulse=Ia(q[qb-1]),l.add(q[qb]),"aggregate"===q[qb].type&&(Ga=q[qb]);return new ma(l,Qa,Ca,ja,Ga)};ma.prototype={countsRef(l,q,K){const ja=this.counts||(this.counts={}),Ca=Ha(q);if(null!=Ca){l=this.scope;var Qa=ja[Ca]}Qa?K&&K.field&&gb(l,Qa.agg.params,K):(Qa={groupby:l.fieldRef(q,"key"),pulse:Ia(this.output)},K&&K.field&&gb(l,Qa,K),K=l.add(me(Qa)),
Qa=l.add(Je({pulse:Ia(K)})),Qa={agg:K,ref:Ia(Qa)},null!=Ca&&(ja[Ca]=Qa));return Qa.ref},tuplesRef(){return Ia(this.values)},extentRef(l,q){return Q(l,this,"extent","extent",q,!1)},domainRef(l,q){return Q(l,this,"domain","values",q,!1)},valuesRef(l,q,K){return Q(l,this,"vals","values",q,K||!0)},lookupRef(l,q){return Q(l,this,"lookup","tupleindex",q,!1)},indataRef(l,q){return Q(l,this,"indata","tupleindex",q,!0,!0)}};const kf=(l,q,K)=>{Qb(l)?(l=l.signal,q=oe(`${l} === '${"left"}' || ${l} === '${"top"}'`,
q,K)):q="left"===l||"top"===l?q:K;return q},Ke=(l,q,K)=>{Qb(l)?(l=l.signal,q=ue(`${l} === '${"top"}' || ${l} === '${"bottom"}'`,q,K)):q="bottom"===l||"top"===l?q:K;return q},Ye=(l,q,K)=>{Qb(l)?(l=l.signal,q=ue(`${l} !== '${"top"}' && ${l} !== '${"bottom"}'`,q,K)):q="bottom"===l||"top"===l?K:q;return q},Ze=(l,q,K)=>Qb(l)?oe(`${l.signal} === '${"top"}'`,q,K):"top"===l?{value:q}:{value:K},ue=(l,q,K)=>{q=null!=q?Ac(q):q;K=null!=K?Ac(K):K;if(null!=q&&1!==Object.keys(q).length||null!=K&&1!==Object.keys(K).length)return[h.extend({test:l},
q)].concat(K||[]);q=q?q.signal||h.stringValue(q.value):null;K=K?K.signal||h.stringValue(K.value):null;return{signal:`${l} ? (${q}) : (${K})`}},oe=(l,q,K)=>({signal:`${l} ? (${Ae(q)}) : (${Ae(K)})`}),Ae=l=>Qb(l)?l.signal:null==l?null:h.stringValue(l),na=(l,q)=>{const K=l.signal;return K&&K.endsWith("(null)")?{signal:K.slice(0,-6)+q.signal}:l};lb.prototype=Bb.prototype={parse(l){return y(l,this)},fork(){return new Bb(this)},isSubscope(){return 0<this._subid},toRuntime(){this.finish();return{description:this.description,
operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(l){this.operators.push(l);l.id=this.id();l.refs&&(l.refs.forEach(q=>{q.$ref=l.id}),l.refs=null);return l},proxy(l){l=l instanceof Xa?Ia(l):l;return this.add(Jd({value:l}))},addStream(l){this.streams.push(l);l.id=this.id();return l},addUpdate(l){this.updates.push(l);return l},finish(){function l(ja,Ca,
Qa){ja&&(ja=ja.data||(ja.data={}),Ca=ja[Ca]||(ja[Ca]=[]),Ca.push(Qa))}let q,K;this.root&&(this.root.root=!0);for(q in this.signals)this.signals[q].signal=q;for(q in this.scales)this.scales[q].scale=q;for(q in this.data){K=this.data[q];l(K.input,q,"input");l(K.output,q,"output");l(K.values,q,"values");for(const ja in K.index)l(K.index[ja],q,"index:"+ja)}return this},pushState(l,q,K){this._encode.push(Ia(this.add(cc({pulse:l}))));this._parent.push(q);this._lookup.push(K?Ia(this.proxy(K)):null);this._markpath.push(-1)},
popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return h.peek(this._parent)},encode(){return h.peek(this._encode)},lookup(){return h.peek(this._lookup)},markpath(){const l=this._markpath;return++l[l.length-1]},fieldRef(l,q){if(h.isString(l))return ib(l,q);l.signal||h.error("Unsupported field reference: "+h.stringValue(l));l=l.signal;var K=this.field[l];K||(K={name:this.signalRef(l)},q&&(K.as=q),this.field[l]=K=Ia(this.add(fb(K))));return K},compareRef(l){let q=
!1;const K=Ca=>Qb(Ca)?(q=!0,this.signalRef(Ca.signal)):Ca&&Ca.expr?(q=!0,this.exprRef(Ca.expr)):Ca,ja=h.array(l.field).map(K);l=h.array(l.order).map(K);return q?Ia(this.add(tf({fields:ja,orders:l}))):{$compare:ja,$order:l}},keyRef(l,q){let K=!1;const ja=this.signals;l=h.array(l).map(Ca=>Qb(Ca)?(K=!0,Ia(ja[Ca.signal])):Ca);return K?Ia(this.add(Gb({fields:l,flat:q}))):bb(l,q)},sortRef(l){if(!l)return l;const q=tb(l.op,l.field);l=l.order||"ascending";return l.signal?Ia(this.add(tf({fields:q,orders:this.signalRef(l.signal)}))):
{$compare:q,$order:l}},event(l,q){const K=l+":"+q;if(!this.events[K]){const ja=this.id();this.streams.push({id:ja,source:l,type:q});this.events[K]=ja}return this.events[K]},hasOwnSignal(l){return h.hasOwnProperty(this.signals,l)},addSignal(l,q){this.hasOwnSignal(l)&&h.error("Duplicate signal name: "+h.stringValue(l));q=q instanceof Xa?q:this.add(new Xa("operator",q,void 0,void 0));return this.signals[l]=q},getSignal(l){this.signals[l]||h.error("Unrecognized signal name: "+h.stringValue(l));return this.signals[l]},
signalRef(l){if(this.signals[l])return Ia(this.signals[l]);h.hasOwnProperty(this.lambdas,l)||(this.lambdas[l]=this.add(new Xa("operator",null,void 0,void 0)));return Ia(this.lambdas[l])},parseLambdas(){const l=Object.keys(this.lambdas);for(let K=0,ja=l.length;K<ja;++K){var q=l[K];const Ca=ia.parseExpression(q,this);q=this.lambdas[q];q.params=Ca.$params;q.update=Ca.$expr}},property(l){return l&&l.signal?this.signalRef(l.signal):l},objectProperty(l){return l&&h.isObject(l)?this.signalRef(l.signal||
bc(l)):l},exprRef(l,q){l={expr:ia.parseExpression(l,this)};q&&(l.expr.$name=q);return Ia(this.add(aa(l)))},addBinding(l,q){this.bindings||h.error("Nested signals do not support binding: "+h.stringValue(l));this.bindings.push(h.extend({signal:l},q))},addScaleProj(l,q){h.hasOwnProperty(this.scales,l)&&h.error("Duplicate scale or projection name: "+h.stringValue(l));this.scales[l]=this.add(q)},addScale(l,q){this.addScaleProj(l,Oa(q))},addProjection(l,q){this.addScaleProj(l,Kd(q))},getScale(l){this.scales[l]||
h.error("Unrecognized scale name: "+h.stringValue(l));return this.scales[l]},scaleRef(l){return Ia(this.getScale(l))},scaleType(l){return this.getScale(l).params.type},projectionRef(l){return this.scaleRef(l)},projectionType(l){return this.scaleType(l)},addData(l,q){h.hasOwnProperty(this.data,l)&&h.error("Duplicate data set name: "+h.stringValue(l));return this.data[l]=q},getData(l){this.data[l]||h.error("Undefined data set name: "+h.stringValue(l));return this.data[l]},addDataPipeline(l,q){h.hasOwnProperty(this.data,
l)&&h.error("Duplicate data set name: "+h.stringValue(l));return this.addData(l,ma.fromEntries(this,q))}};u.AxisDomainRole="axis-domain";u.AxisGridRole="axis-grid";u.AxisLabelRole="axis-label";u.AxisRole="axis";u.AxisTickRole="axis-tick";u.AxisTitleRole="axis-title";u.DataScope=ma;u.FrameRole="frame";u.LegendEntryRole="legend-entry";u.LegendLabelRole="legend-label";u.LegendRole="legend";u.LegendSymbolRole="legend-symbol";u.LegendTitleRole="legend-title";u.MarkRole="mark";u.Scope=lb;u.ScopeRole="scope";
u.config=Jc;u.parse=function(l,q,K){h.isObject(l)||h.error("Input Vega specification must be an object.");q=h.mergeConfig(Jc(),q,l.config);return J(l,new lb(q,K)).toRuntime()};u.signal=Ra;u.signalUpdates=L;u.stream=ca})};
shadow$provide[53]=function(Eb,ob,Dc,Wa){function u(Ia){var ib=Object.create(null);Ia&&Object.keys(Ia).forEach(function(bb){if("default"!==bb){var tb=Object.getOwnPropertyDescriptor(Ia,bb);Object.defineProperty(ib,bb,tb.get?tb:{enumerable:!0,get:function(){return Ia[bb]}})}});ib.default=Ia;return Object.freeze(ib)}var h=ob(21),ia=ob(29),ab=ob(31),zb=ob(35),Yb=ob(36),ac=ob(38),Xb=ob(39),mc=ob(40),Cb=ob(41),Vb=ob(42),jc=ob(43);Dc=ob(44);Eb=ob(45);var Ba=ob(30),Za=ob(23),wb=ob(28),ub=ob(34),sb=ob(33),
xb=ob(37),hb=ob(50),ec=ob(24),ra=ob(48),fa=ob(52),za=ob(49),Ra=ob(46),Xa=ob(51);ob=u(ab);zb=u(zb);Yb=u(Yb);ac=u(ac);Xb=u(Xb);mc=u(mc);Cb=u(Cb);Vb=u(Vb);jc=u(jc);Dc=u(Dc);Eb=u(Eb);h.extend(ia.transforms,ob,zb,Yb,ac,Xb,Cb,mc,Vb,jc,Dc,Eb);Object.defineProperty(Wa,"Dataflow",{enumerable:!0,get:function(){return ia.Dataflow}});Object.defineProperty(Wa,"EventStream",{enumerable:!0,get:function(){return ia.EventStream}});Object.defineProperty(Wa,"MultiPulse",{enumerable:!0,get:function(){return ia.MultiPulse}});
Object.defineProperty(Wa,"Operator",{enumerable:!0,get:function(){return ia.Operator}});Object.defineProperty(Wa,"Parameters",{enumerable:!0,get:function(){return ia.Parameters}});Object.defineProperty(Wa,"Pulse",{enumerable:!0,get:function(){return ia.Pulse}});Object.defineProperty(Wa,"Transform",{enumerable:!0,get:function(){return ia.Transform}});Object.defineProperty(Wa,"changeset",{enumerable:!0,get:function(){return ia.changeset}});Object.defineProperty(Wa,"definition",{enumerable:!0,get:function(){return ia.definition}});
Object.defineProperty(Wa,"ingest",{enumerable:!0,get:function(){return ia.ingest}});Object.defineProperty(Wa,"isTuple",{enumerable:!0,get:function(){return ia.isTuple}});Object.defineProperty(Wa,"transform",{enumerable:!0,get:function(){return ia.transform}});Object.defineProperty(Wa,"transforms",{enumerable:!0,get:function(){return ia.transforms}});Object.defineProperty(Wa,"tupleid",{enumerable:!0,get:function(){return ia.tupleid}});Object.defineProperty(Wa,"interpolate",{enumerable:!0,get:function(){return sb.interpolate}});
Object.defineProperty(Wa,"interpolateColors",{enumerable:!0,get:function(){return sb.interpolateColors}});Object.defineProperty(Wa,"interpolateRange",{enumerable:!0,get:function(){return sb.interpolateRange}});Object.defineProperty(Wa,"quantizeInterpolator",{enumerable:!0,get:function(){return sb.quantizeInterpolator}});Object.defineProperty(Wa,"scale",{enumerable:!0,get:function(){return sb.scale}});Object.defineProperty(Wa,"scheme",{enumerable:!0,get:function(){return sb.scheme}});Object.defineProperty(Wa,
"projection",{enumerable:!0,get:function(){return xb.projection}});Object.defineProperty(Wa,"View",{enumerable:!0,get:function(){return hb.View}});Object.defineProperty(Wa,"defaultLocale",{enumerable:!0,get:function(){return ec.defaultLocale}});Object.defineProperty(Wa,"formatLocale",{enumerable:!0,get:function(){return ec.numberFormatDefaultLocale}});Object.defineProperty(Wa,"locale",{enumerable:!0,get:function(){return ec.locale}});Object.defineProperty(Wa,"resetDefaultLocale",{enumerable:!0,get:function(){return ec.resetDefaultLocale}});
Object.defineProperty(Wa,"timeFormatLocale",{enumerable:!0,get:function(){return ec.timeFormatDefaultLocale}});Object.defineProperty(Wa,"expressionFunction",{enumerable:!0,get:function(){return ra.expressionFunction}});Object.defineProperty(Wa,"parse",{enumerable:!0,get:function(){return fa.parse}});Object.defineProperty(Wa,"runtimeContext",{enumerable:!0,get:function(){return za.context}});Object.defineProperty(Wa,"codegenExpression",{enumerable:!0,get:function(){return Ra.codegenExpression}});Object.defineProperty(Wa,
"parseExpression",{enumerable:!0,get:function(){return Ra.parseExpression}});Object.defineProperty(Wa,"parseSelector",{enumerable:!0,get:function(){return Xa.parseSelector}});Wa.version="5.30.0";Object.keys(h).forEach(function(Ia){"default"===Ia||Object.prototype.hasOwnProperty.call(Wa,Ia)||Object.defineProperty(Wa,Ia,{enumerable:!0,get:function(){return h[Ia]}})});Object.keys(Ba).forEach(function(Ia){"default"===Ia||Object.prototype.hasOwnProperty.call(Wa,Ia)||Object.defineProperty(Wa,Ia,{enumerable:!0,
get:function(){return Ba[Ia]}})});Object.keys(Za).forEach(function(Ia){"default"===Ia||Object.prototype.hasOwnProperty.call(Wa,Ia)||Object.defineProperty(Wa,Ia,{enumerable:!0,get:function(){return Za[Ia]}})});Object.keys(wb).forEach(function(Ia){"default"===Ia||Object.prototype.hasOwnProperty.call(Wa,Ia)||Object.defineProperty(Wa,Ia,{enumerable:!0,get:function(){return wb[Ia]}})});Object.keys(ub).forEach(function(Ia){"default"===Ia||Object.prototype.hasOwnProperty.call(Wa,Ia)||Object.defineProperty(Wa,
Ia,{enumerable:!0,get:function(){return ub[Ia]}})})};
shadow$provide[54]=function(Eb,ob,Dc,Wa){(function(u,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,ob(53)):"function"===typeof define&&define.amd?define(["exports","vega"],h):(u="undefined"!==typeof globalThis?globalThis:u||self,h(u.vegaLite={},u.vega))})(this,function(u,h){function ia(a,b){if(a.not)ia(a.not,b);else if(a.and)for(const e of a.and)ia(e,b);else if(a.or)for(const e of a.or)ia(e,b);else b(a)}function ab(a,b){return a.not?{not:ab(a.not,b)}:a.and?{and:a.and.map(e=>ab(e,b))}:a.or?
{or:a.or.map(e=>ab(e,b))}:b(a)}function zb(a){throw Error(a);}function Yb(a,b){const e={};for(const f of b)h.hasOwnProperty(a,f)&&(e[f]=a[f]);return e}function ac(a,b){a=Object.assign({},a);for(const e of b)delete a[e];return a}function Xb(a){if(h.isNumber(a))return a;a=h.isString(a)?a:m(a);if(250>a.length)return a;let b=0;for(let e=0;e<a.length;e++){const f=a.charCodeAt(e);b=(b<<5)-b+f;b&=b}return b}function mc(a){return!1===a||null===a}function Cb(a,b){return a.includes(b)}function Vb(a,b){let e=
0;for(const f of a.entries()){const [g,p]=f;if(b(p,g,e++))return!0}return!1}function jc(a,b){let e=0;for(const f of a.entries()){const [g,p]=f;if(!b(p,g,e++))return!1}return!0}function Ba(a){for(var b=arguments.length,e=Array(1<b?b-1:0),f=1;f<b;f++)e[f-1]=arguments[f];for(const g of e){let p;b=a;e=null!=(p=g)?p:{};for(const B of sd(e))h.writeConfig(b,B,e[B],!0)}return a}function Za(a,b){const e=[],f={};for(const g of a)a=b(g),a in f||(f[a]=1,e.push(g));return e}function wb(a,b){if(a.size!==b.size)return!1;
for(const e of a)if(!b.has(e))return!1;return!0}function ub(a,b){for(const e of a)if(b.has(e))return!0;return!1}function sb(a){const b=new Set;for(const e of a){const f=h.splitAccessPath(e).map((g,p)=>0===p?g:`[${g}]`);a=f.map((g,p)=>f.slice(0,p+1).join(""));for(const g of a)b.add(g)}return b}function xb(a,b){return void 0===a||void 0===b?!0:ub(sb(a),sb(b))}function hb(a){return 0===sd(a).length}function ec(a){return!0===a||!1===a}function ra(a){const b=a.replace(/\W/g,"_");return(a.match(/^\d+/)?
"_":"")+b}function fa(a,b){return a.not?`!(${fa(a.not,b)})`:a.and?`(${a.and.map(e=>fa(e,b)).join(") \x26\x26 (")})`:a.or?`(${a.or.map(e=>fa(e,b)).join(") || (")})`:b(a)}function za(a,b){if(0===b.length)return!0;const e=b.shift();e in a&&za(a[e],b)&&delete a[e];return hb(a)}function Ra(a){return a.charAt(0).toUpperCase()+a.substr(1)}function Xa(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum";const e=h.splitAccessPath(a),f=[];for(let g=1;g<=e.length;g++){const p=`[${e.slice(0,
g).map(h.stringValue).join("][")}]`;f.push(`${b}${p}`)}return f.join(" \x26\x26 ")}function Ia(a){return`${1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum"}[${h.stringValue(h.splitAccessPath(a).join("."))}]`}function ib(a){return a.replace(/(\[|\]|\.|'|")/g,"\\$1")}function bb(a){return`${h.splitAccessPath(a).map(ib).join("\\.")}`}function tb(a,b,e){return a.replace(new RegExp(b.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"),"g"),e)}function Qb(a){return`${h.splitAccessPath(a).join(".")}`}
function eb(a){return a?h.splitAccessPath(a).length:0}function T(){for(var a=arguments.length,b=Array(a),e=0;e<a;e++)b[e]=arguments[e];for(const f of b)if(void 0!==f)return f}function Z(a){const b=++Lk;return a?String(a)+b:b}function ca(a){return ha(a)?a:`__${a}`}function ha(a){return a.startsWith("__")}function La(a){if(void 0!==a)return(a%360+360)%360}function oa(a){return h.isNumber(a)?!0:!isNaN(a)&&!isNaN(parseFloat(a))}function pa(a,b){if(a===b)return!0;if(a&&b&&"object"==typeof a&&"object"==
typeof b){if(a.constructor.name!==b.constructor.name)return!1;let f;if(Array.isArray(a)){var e=a.length;if(e!=b.length)return!1;for(f=e;0!==f--;)if(!pa(a[f],b[f]))return!1;return!0}if(a instanceof Map&&b instanceof Map){if(a.size!==b.size)return!1;for(f of a.entries())if(!b.has(f[0]))return!1;for(f of a.entries())if(!pa(f[1],b.get(f[0])))return!1;return!0}if(a instanceof Set&&b instanceof Set){if(a.size!==b.size)return!1;for(f of a.entries())if(!b.has(f[0]))return!1;return!0}if(ArrayBuffer.isView(a)&&
ArrayBuffer.isView(b)){e=a.length;if(e!=b.length)return!1;for(f=e;0!==f--;)if(a[f]!==b[f])return!1;return!0}if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf&&a.valueOf!==Kk.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString&&a.toString!==Kk.toString)return a.toString()===b.toString();const g=Object.keys(a);e=g.length;if(e!==Object.keys(b).length)return!1;for(f=e;0!==f--;)if(!Object.prototype.hasOwnProperty.call(b,
g[f]))return!1;for(f=e;0!==f--;)if(e=g[f],!pa(a[e],b[e]))return!1;return!0}return a!==a&&b!==b}function m(a){const b=[];return function g(f){f&&f.toJSON&&"function"===typeof f.toJSON&&(f=f.toJSON());if(void 0!==f){if("number"==typeof f)return isFinite(f)?""+f:"null";if("object"!==typeof f)return JSON.stringify(f);var p;if(Array.isArray(f)){var B="[";for(p=0;p<f.length;p++)p&&(B+=","),B+=g(f[p])||"null";return B+"]"}if(null===f)return"null";if(b.includes(f))throw new TypeError("Converting circular structure to JSON");
var O=b.push(f)-1,X=Object.keys(f).sort();B="";for(p=0;p<X.length;p++){const ua=X[p],cb=g(f[ua]);cb&&(B&&(B+=","),B+=JSON.stringify(ua)+":"+cb)}b.splice(O,1);return`{${B}}`}}(a)}function D(a){switch(a){case "latitude":return"y";case "latitude2":return"y2";case "longitude":return"x";case "longitude2":return"x2"}}function L(a){return"color"===a||"fill"===a||"stroke"===a}function w(a){return P(a)!==a}function P(a){switch(a){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";case "longitude2":return"longitude";
case "theta2":return"theta";case "radius2":return"radius"}return a}function A(a){if(a in fk)switch(a){case "theta":return"startAngle";case "theta2":return"endAngle";case "radius":return"outerRadius";case "radius2":return"innerRadius"}return a}function V(a){switch(a){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function G(a){switch(a){case "x":case "x2":return"width";case "y":case "y2":return"height"}}
function x(a){switch(a){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";case "radius":return"radiusOffset";case "theta2":return"theta2Offset";case "radius2":return"radius2Offset"}}function z(a){switch(a){case "x":return"xOffset";case "y":return"yOffset"}}function F(a){return a in gk}function U(a){return"width"===a?"x":"y"}function sa(a){switch(a){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return Dl;
case "x":case "y":case "xOffset":case "yOffset":case "latitude":case "longitude":return Ql;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",
point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function N(a){switch(a){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";
case "color":case "fill":case "stroke":return"flexible"}}function la(a){return!!a&&!!a.argmin}function wa(a){return!!a&&!!a.argmax}function Ma(a){return h.isString(a)&&!!hk[a]}function Pa(a){return h.isString(a)&&Vl.has(a)}function Ya(a){h.isBoolean(a)&&(a=ve(a,void 0));return"bin"+sd(a).map(b=>Ub(a[b])?ra(`_${b}_${Gi(a[b])}`):ra(`_${b}_${a[b]}`)).join("")}function vb(a){return!0===a||h.isObject(a)&&!a.binned}function jb(a){return"binned"===a||h.isObject(a)&&!0===a.binned}function Ub(a){return null==
a?void 0:a.param}function W(a){switch(a){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;case "strokeDash":return 4;default:return 10}}function Ea(a){return!(null==a||!a.expr)}function Mb(a){const b=sd(a||{}),e={};for(const f of b)e[f]=qa(a[f]);return e}function oc(a){var b=Object.assign({},a),e=a.anchor;const f=a.frame,g=a.offset,p=a.orient,B=a.angle,O=a.limit;var X=a.color,
ua=a.subtitleColor;const cb=a.subtitleFont,pb=a.subtitleFontSize,gc=a.subtitleFontStyle,Mc=a.subtitleFontWeight,kc=a.subtitleLineHeight,Lc=a.subtitlePadding;b=(delete b.anchor,delete b.frame,delete b.offset,delete b.orient,delete b.angle,delete b.limit,delete b.color,delete b.subtitleColor,delete b.subtitleFont,delete b.subtitleFontSize,delete b.subtitleFontStyle,delete b.subtitleFontWeight,delete b.subtitleLineHeight,delete b.subtitlePadding,b);X=Object.assign({},b,X?{fill:X}:{});e=Object.assign({},
e?{anchor:e}:{},f?{frame:f}:{},g?{offset:g}:{},p?{orient:p}:{},void 0!==B?{angle:B}:{},void 0!==O?{limit:O}:{});ua=Object.assign({},ua?{subtitleColor:ua}:{},cb?{subtitleFont:cb}:{},pb?{subtitleFontSize:pb}:{},gc?{subtitleFontStyle:gc}:{},Mc?{subtitleFontWeight:Mc}:{},kc?{subtitleLineHeight:kc}:{},Lc?{subtitlePadding:Lc}:{});a=Yb(a,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:X,subtitleMarkConfig:a,nonMarkTitleProperties:e,subtitle:ua}}function $b(a){return h.isString(a)||h.isArray(a)&&
h.isString(a[0])}function Nb(a){return!(null==a||!a.signal)}function Rb(a){return!!a.step}function xc(a){return h.isArray(a)?!1:"field"in a&&"data"in a}function dd(a){const b=h.isArray(a.condition)?a.condition.map(Db):Db(a.condition);return Object.assign({},qa(a),{condition:b})}function qa(a){if(Ea(a)){var b=Object.assign({},a);a=a.expr;b=(delete b.expr,b);return Object.assign({},{signal:a},b)}return a}function Db(a){if(Ea(a)){var b=Object.assign({},a);a=a.expr;b=(delete b.expr,b);return Object.assign({},
{signal:a},b)}return a}function Ua(a){if(Ea(a)){var b=Object.assign({},a);a=a.expr;b=(delete b.expr,b);return Object.assign({},{signal:a},b)}return Nb(a)?a:void 0!==a?{value:a}:void 0}function yb(a){return Nb(a)?a.signal:h.stringValue(a.value)}function Hb(a){return Nb(a)?a.signal:null==a?null:h.stringValue(a)}function Ob(a){let b;return[].concat(a.type,null!=(b=a.style)?b:[])}function Zb(a,b,e){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const {vgChannel:g,ignoreVgConfig:p}=f;
if(g&&void 0!==b[g])return b[g];if(void 0!==b[a])return b[a];if(!p||g&&g!==a)return ic(a,b,e,f)}function ic(a,b,e){let {vgChannel:f}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return T(f?Bc(a,b,e.style):void 0,Bc(a,b,e.style),f?e[b.type][f]:void 0,e[b.type][a],f?e.mark[f]:e.mark[a])}function Bc(a,b,e){return jd(a,Ob(b),e)}function jd(a,b,e){b=h.array(b);let f;for(const g of b)(b=e[g])&&void 0!==b[a]&&(f=b[a]);return f}function Vc(a,b){return h.array(a).reduce((e,f)=>{e.field.push(pc(f,
b));let g;e.order.push(null!=(g=f.sort)?g:"ascending");return e},{field:[],order:[]})}function ma(a,b){const e=[...a];b.forEach(f=>{for(const g of e)if(pa(g,f))return;e.push(f)});return e}function Ha(a,b){return pa(a,b)||!b?a:a?[...h.array(a),...h.array(b)].join(", "):b}function gb(a,b){const e=a.value;b=b.value;if(null==e||null===b)return{explicit:a.explicit,value:null};if(($b(e)||Nb(e))&&($b(b)||Nb(b)))return{explicit:a.explicit,value:Ha(e,b)};if($b(e)||Nb(e))return{explicit:a.explicit,value:e};
if($b(b)||Nb(b))return{explicit:a.explicit,value:b};if(!($b(e)||Nb(e)||$b(b)||Nb(b)))return{explicit:a.explicit,value:ma(e,b)};throw Error("It should never reach here");}function Q(a,b,e){a:if("object"===typeof b&&null!==b){var f=b[Symbol.toPrimitive];if(void 0!==f){b=f.call(b,"string");if("object"!==typeof b)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}b=String(b)}b="symbol"===typeof b?b:String(b);b in a?Object.defineProperty(a,b,{value:e,enumerable:!0,configurable:!0,
writable:!0}):a[b]=e;return a}function t(a,b,e){b=ba(a,b,"set");if(b.set)b.set.call(a,e);else{if(!b.writable)throw new TypeError("attempted to set read only private field");b.value=e}return e}function ba(a,b,e){if(!b.has(a))throw new TypeError("attempted to "+e+" private field on non-instance");return b.get(a)}function xa(a){return`Invalid specification ${m(a)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}
function Da(a){return`${"width"==a?"Width":"Height"} "container" only works for single views and layered views.`}function Sa(a){return`${"width"==a?"Width":"Height"} "container" only works well with autosize "fit" or "fit-${"width"==a?"x":"y"}".`}function kb(a){return a?`Dropping "fit-${a}" because spec has discrete ${G(a)}.`:'Dropping "fit" because spec has discrete size.'}function Sb(a){return`Unknown field for ${a}. Cannot calculate view size.`}function Fb(a){return`Cannot project a selection on encoding channel "${a}", which has no field.`}
function Kb(a){return`Selection not supported for ${a} yet.`}function Cc(a){return`The "columns" property cannot be used when "${a}" has nested row/column.`}function Ec(a,b,e){return`An ancestor parsed field "${a}" as ${e} but a child wants to parse the field as ${b}.`}function Sc(a){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${a} are dropped.`}function vd(a,b){const {fill:e,stroke:f}=b;return`Dropping color ${a} as the plot also has ${e&&f?"fill and stroke":
e?"fill":"stroke"}.`}function pd(a,b){return`Dropping ${m(a)} from channel "${b}" since it does not contain any data field, datum, value, or signal.`}function fd(a,b,e){return`${a} dropped as it is incompatible with "${b}"${e?` when ${e}`:""}.`}function Cd(a,b){return`Using discrete channel "${a}" to encode "${b}" field can be misleading as it does not encode ${"ordinal"===b?"order":"magnitude"}.`}function Dd(a,b,e){return`${e}-scale's "${b}" is dropped as it does not work with ${a} scale.`}function rd(a){return`The step for "${a}" is dropped because the ${"width"===
a?"x":"y"} is continuous.`}function we(a,b){return`Invalid ${a}: ${m(b)}.`}function Bd(a){return`1D error band does not support ${a}.`}function y(a){return`Channel ${a} is required for "binned" bin.`}function J(){Ai.warn(...arguments)}function va(){Ai.debug(...arguments)}function Ka(a){if(a&&h.isObject(a))for(const b of Zk)if(b in a)return!0;return!1}function lb(a){oa(a)&&(a=+a);if(h.isNumber(a))return a-1;var b=a.toLowerCase();const e=Qh.indexOf(b);if(-1!==e)return e;b=b.substr(0,3);b=Lj.indexOf(b);
if(-1!==b)return b;throw Error(we("month",a));}function Bb(a){oa(a)&&(a=+a);if(h.isNumber(a))return a%7;var b=a.toLowerCase();const e=$h.indexOf(b);if(-1!==e)return e;b=b.substr(0,3);b=Ok.indexOf(b);if(-1!==b)return b;throw Error(we("day",a));}function bc(a,b){const e=[];b&&void 0!==a.day&&1<sd(a).length&&(J(`Dropping day from datetime ${m(a)} as day cannot be combined with other units.`),a=De(a),delete a.day);void 0!==a.year?e.push(a.year):e.push(2012);if(void 0!==a.month){var f=b?lb(a.month):a.month;
e.push(f)}else if(void 0!==a.quarter){if(b)if(f=a.quarter,oa(f)&&(f=+f),h.isNumber(f))4<f&&J(we("quarter",f)),--f;else throw Error(we("quarter",f));else f=a.quarter;e.push(h.isNumber(f)?3*f:`${f}*3`)}else e.push(0);void 0!==a.date?e.push(a.date):void 0!==a.day?(b=b?Bb(a.day):a.day,e.push(h.isNumber(b)?b+1:`${b}+1`)):e.push(1);for(const g of["hours","minutes","seconds","milliseconds"])b=a[g],e.push("undefined"===typeof b?0:b);return e}function Tb(a){const b=bc(a,!0).join(", ");return a.utc?`utc(${b})`:
`datetime(${b})`}function nc(a){const b=bc(a,!0);return a.utc?+new Date(Date.UTC(...b)):+new Date(...b)}function Jc(a){return h.isObject(a)?a.binned:a&&a.startsWith("binned")}function Ac(a){return Zk.filter(b=>kd(a,b))}function Xc(a){a=Ac(a);return a[a.length-1]}function kd(a,b){const e=a.indexOf(b);return 0>e||0<e&&"seconds"===b&&"i"===a.charAt(e-1)||a.length>e+3&&"day"===b&&"o"===a.charAt(e+3)||0<e&&"year"===b&&"f"===a.charAt(e-1)?!1:!0}function qd(a,b){var {end:e}=2<arguments.length&&void 0!==
arguments[2]?arguments[2]:{end:!1};const f=Xa(b),g=a.startsWith("utc")?"utc":"";const p={};for(const O of Zk)if(kd(a,O)){var B="quarter"===O?`(${g}quarter(${f})-1)`:`${g}${O}(${f})`;p[O]=B;B=O}e&&(p[B]+="+1");e=bc(p,!1).join(", ");return p.utc?`utc(${e})`:`datetime(${e})`}function xd(a){if(a)return a=Ac(a),`timeUnitSpecifier(${m(a)}, ${m(Uk)})`}function nd(a){if(a){var b;h.isString(a)?b=a&&a.startsWith("binned")?{unit:a.substring(6),binned:!0}:{unit:a}:h.isObject(a)&&(b=Object.assign({},a,a.unit?
{unit:a.unit}:{}));b.unit.startsWith("utc")&&(b.utc=!0,b.unit=b.unit.substring(3));return b}}function Id(a){var b=nd(a);a=Object.assign({},b);b=b.utc;const e=(delete a.utc,a);return e.unit?(b?"utc":"")+sd(e).map(f=>ra(`${"unit"===f?"":`_${f}_`}${e[f]}`)).join(""):(b?"utc":"")+"timeunit"+sd(e).map(f=>ra(`_${f}_${e[f]}`)).join("")}function me(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:g=>g;var e=nd(a);const f=Xc(e.unit);if(f&&"day"!==f){const g={year:2001,month:1,date:1,hours:0,
minutes:0,seconds:0,milliseconds:0},{step:p,part:B}=Oe(f,e.step);e=Object.assign({},g,{[B]:+g[B]+p});return`${b(Tb(e))} - ${b(Tb(g))}`}}function Oe(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(pj[a])return{part:a,step:b};switch(a){case "day":case "dayofyear":return{part:"date",step:b};case "quarter":return{part:"month",step:3*b};case "week":return{part:"date",step:7*b}}}function Ie(a){return!(null==a||!a.field)&&void 0!==a.equal}function Je(a){return!(null==a||!a.field)&&void 0!==
a.lt}function tf(a){return!(null==a||!a.field)&&void 0!==a.lte}function bf(a){return!(null==a||!a.field)&&void 0!==a.gt}function E(a){return!(null==a||!a.field)&&void 0!==a.gte}function aa(a){if(null==a?0:a.field)if(h.isArray(a.range)&&2===a.range.length||Nb(a.range))return!0;return!1}function Fa(a){return!(null==a||!a.field)&&(h.isArray(a.oneOf)||h.isArray(a.in))}function fb(a){return Fa(a)||Ie(a)||aa(a)||Je(a)||bf(a)||tf(a)||E(a)}function Gb(a,b){return Dg(a,{timeUnit:b,wrapTime:!0})}function qc(a,
b){return a.map(e=>Gb(e,b))}function Ib(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,{field:e}=a,f=nd(a.timeUnit);const {unit:g,binned:p}=f||{};f=pc(a,{expr:"datum"});e=g?`time(${p?f:qd(g,e)})`:f;if(Ie(a))return`${e}===${Gb(a.equal,g)}`;if(Je(a))return`${e}<${Gb(a.lt,g)}`;if(bf(a))return`${e}>${Gb(a.gt,g)}`;if(tf(a))return`${e}<=${Gb(a.lte,g)}`;if(E(a))return`${e}>=${Gb(a.gte,g)}`;if(Fa(a))return`indexof([${qc(a.oneOf,g).join(",")}], ${e}) !== -1`;if(null!=a&&a.field&&void 0!==
a.valid)return Oc(e,a.valid);if(aa(a)){var {range:B}=a;f=Nb(B)?{signal:`${B.signal}[0]`}:B[0];B=Nb(B)?{signal:`${B.signal}[1]`}:B[1];if(null!==f&&null!==B&&b)return"inrange("+e+", ["+Gb(f,g)+", "+Gb(B,g)+"])";b=[];null!==f&&b.push(`${e} >= ${Gb(f,g)}`);null!==B&&b.push(`${e} <= ${Gb(B,g)}`);return 0<b.length?b.join(" \x26\x26 "):"true"}throw Error(`Invalid field predicate: ${m(a)}`);}function Oc(a){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)?`isValid(${a}) && isFinite(+${a})`:
`!isValid(${a}) || !isFinite(+${a})`}function od(a){return fb(a)&&a.timeUnit?Object.assign({},a,{timeUnit:nd(a.timeUnit)}):a}function $c(a){return"quantitative"===a||"temporal"===a}function Nc(a){return"ordinal"===a||"nominal"===a}function Nd(a){if(a)switch(a=a.toLowerCase(),a){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";case "geojson":return"geojson"}}function ce(a){return qj.has(a)}
function Kd(a){return Vk.has(a)}function Jd(a,b){switch(b){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!["point","band","identity"].includes(a);case "bins":return!["point","band","identity","ordinal"].includes(a);case "round":return lg.has(a)||"band"===a||"point"===a;case "padding":case "rangeMin":case "rangeMax":return lg.has(a)||["point","band"].includes(a);case "paddingOuter":case "align":return["point","band"].includes(a);case "paddingInner":return"band"===
a;case "domainMax":case "domainMid":case "domainMin":case "domainRaw":case "clamp":return lg.has(a);case "nice":return lg.has(a)||"quantize"===a||"threshold"===a;case "exponent":return"pow"===a;case "base":return"log"===a;case "constant":return"symlog"===a;case "zero":return Kd(a)&&!Cb(["log","time","utc","threshold","quantile"],a)}}function $d(a,b){switch(b){case "interpolate":case "scheme":case "domainMid":if(!L(a))return`Cannot use the scale property "${b}" with non-color channel.`}}function Aa(a,
b){let e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;if(!Mh[a])return!1;switch(a){case "x":case "y":case "xOffset":case "yOffset":case "theta":case "radius":return lg.has(b)||"band"===b?!0:"point"===b?!e:!1;case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return lg.has(b)||ai.has(b)||Cb(["band","point","ordinal"],b);case "color":case "fill":case "stroke":return"band"!==b;case "strokeDash":case "shape":return"ordinal"===b||ai.has(b)}}
function Oa(a){return["line","area","trail"].includes(a)}function cc(a){return["rect","bar","image","arc"].includes(a)}function gd(a){return a.type}function rc(a){return a&&void 0!=a.band}function Pc(a){const {channel:b,channelDef:e,markDef:f,scale:g,config:p}=a;a=id(a);if(Ga(e)&&!Pa(e.aggregate)&&g&&lg.has(g.get("type"))){{let {fieldDef:O,channel:X,markDef:ua,ref:cb,config:pb}={fieldDef:e,channel:b,markDef:f,ref:a,config:p};if(Oa(ua.type))a=cb;else if(null===Zb("invalid",ua,pb)){var B=X;a=Hc(O,!0);
B="y"===P(B)?{field:{group:"height"}}:{value:0};a=[Object.assign({},{test:a},B),cb]}else a=cb}return a}return a}function Hc(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;return Oc(h.isString(a)?a:pc(a,{expr:"datum"}),!b)}function Tc(a,b,e,f){const g={};b&&(g.scale=b);nb(a)?({datum:a}=a,Ka(a)?g.signal=Tb(a):Nb(a)?g.signal=a.signal:Ea(a)?g.signal=a.expr:g.value=a):g.field=pc(a,e);if(f){const {offset:p,band:B}=f;p&&(g.offset=p);B&&(g.band=B)}return g}function Yc(a){let {scaleName:b,
fieldOrDatumDef:e,fieldOrDatumDef2:f,offset:g,startSuffix:p,endSuffix:B="end",bandPosition:O=.5}=a;var X=!Nb(O)&&0<O&&1>O?"datum":void 0;a=pc(e,{expr:X,suffix:p});const ua=void 0!==f?pc(f,{expr:X}):pc(e,{suffix:B,expr:X});X={};0===O||1===O?(X.scale=b,X.field=0===O?a:ua):(a=Nb(O)?`(1-${O.signal}) * ${a} + ${O.signal} * ${ua}`:`${1-O} * ${a} + ${O} * ${ua}`,X.signal=`scale("${b}", ${a})`);g&&(X.offset=g);return X}function id(a){let {channel:b,channelDef:e,channel2Def:f,markDef:g,config:p,scaleName:B,
scale:O,stack:X,offset:ua,defaultRef:cb,bandPosition:pb}=a;if(e){if(yc(e)){a=null==O?void 0:O.get("type");if(Rc(e)){null!=pb||(pb=l({fieldDef:e,fieldDef2:f,markDef:g,config:p}));const {bin:kc,timeUnit:Lc,type:Zc}=e;if(vb(kc)||pb&&Lc&&"temporal"===Zc)return(null==X?0:X.impute)?Tc(e,B,{binSuffix:"mid"},{offset:ua}):pb&&!ce(a)?Yc({scaleName:B,fieldOrDatumDef:e,bandPosition:pb,offset:ua}):Tc(e,B,Mf(e,b)?{binSuffix:"range"}:{},{offset:ua});if(jb(kc)){if(Ga(f))return Yc({scaleName:B,fieldOrDatumDef:e,fieldOrDatumDef2:f,
bandPosition:pb,offset:ua});J(y("x"===b?"x2":"y2"))}}var gc;let Mc;return Tc(e,B,ce(a)?{binSuffix:"range"}:{},{offset:ua,band:"band"===a?null!=(Mc=null!=(gc=pb)?gc:e.bandPosition)?Mc:.5:void 0})}if(ed(e))return gc=ua?{offset:ua}:{},Object.assign({},ld(b,e.value),gc)}h.isFunction(cb)&&(cb=cb());return cb?Object.assign({},cb,ua?{offset:ua}:{}):cb}function ld(a,b){return Cb(["x","x2"],a)&&"width"===b?{field:{group:"width"}}:Cb(["y","y2"],a)&&"height"===b?{field:{group:"height"}}:Ua(b)}function fe(a){return a&&
"number"!==a&&"time"!==a}function Re(a){let {fieldOrDatumDef:b,format:e,formatType:f,expr:g,normalizeStack:p,config:B}=a;if(fe(f))return ne({fieldOrDatumDef:b,format:e,formatType:f,expr:g,config:B});a=Ee(b,g,p);var O=qb(b);if(void 0===e&&void 0===f&&B.customFormatTypes){if("quantitative"===O){if(p&&B.normalizedNumberFormatType)return ne({fieldOrDatumDef:b,format:B.normalizedNumberFormat,formatType:B.normalizedNumberFormatType,expr:g,config:B});if(B.numberFormatType)return ne({fieldOrDatumDef:b,format:B.numberFormat,
formatType:B.numberFormatType,expr:g,config:B})}if("temporal"===O&&B.timeFormatType&&Ga(b)&&void 0===b.timeUnit)return ne({fieldOrDatumDef:b,format:B.timeFormat,formatType:B.timeFormatType,expr:g,config:B})}if(lf(b)){var X,ua;{a={field:a,timeUnit:Ga(b)?null==(X=nd(b.timeUnit))?void 0:X.unit:void 0,format:e,formatType:B.timeFormatType,rawTimeFormat:B.timeFormat,isUTCScale:Td(b)&&(null==(ua=b.scale)?void 0:ua.type)===gg.UTC};let {field:cb,timeUnit:pb,format:gc,formatType:Mc,rawTimeFormat:kc,isUTCScale:Lc}=
a;!pb||gc?!pb&&Mc?X=`${Mc}(${cb}, '${gc}')`:(gc=h.isString(gc)?gc:kc,X=`${Lc?"utc":"time"}Format(${cb}, '${gc}')`):(X=pb,ua=cb,a=Lc,X?(O=xd(X),X=`${a||X.startsWith("utc")?"utc":"time"}Format(${ua}, ${O})`):X=void 0)}return X?{signal:X}:void 0}e=Ke({type:O,specifiedFormat:e,config:B,normalizeStack:p});return Ga(b)&&vb(b.bin)?(X=pc(b,{expr:g,binSuffix:"end"}),{signal:Ze(a,X,e,f,B)}):e||"quantitative"===qb(b)?{signal:`${`format(${a}, "${e||""}")`}`}:{signal:`isValid(${a}) ? ${a} : ""+${a}`}}function Ee(a,
b,e){if(Ga(a))return e?`${pc(a,{expr:b,suffix:"end"})}-${pc(a,{expr:b,suffix:"start"})}`:pc(a,{expr:b});({datum:a}=a);a=Ka(a)?Tb(a):`${m(a)}`;return a}function ne(a){let {fieldOrDatumDef:b,format:e,formatType:f,expr:g,normalizeStack:p,config:B,field:O}=a;null!=O||(O=Ee(b,g,p));return"datum.value"!==O&&Ga(b)&&vb(b.bin)?(a=pc(b,{expr:g,binSuffix:"end"}),{signal:Ze(O,a,e,f,B)}):{signal:`${f}(${O}${e?`, ${m(e)}`:""})`}}function ef(a,b,e,f,g,p){if(!h.isString(f)||!fe(f))if(void 0!==e||void 0!==f||!g.customFormatTypes||
"quantitative"!==qb(a)||!(g.normalizedNumberFormatType&&Ad(a)&&"normalize"===a.stack||g.numberFormatType)){if(Ad(a)&&"normalize"===a.stack&&g.normalizedNumberFormat)return Ke({type:"quantitative",config:g,normalizeStack:!0});if(lf(a)){let B;a=Ga(a)?null==(B=nd(a.timeUnit))?void 0:B.unit:void 0;if(void 0===a&&g.customFormatTypes&&g.timeFormatType)return;{let {specifiedFormat:O,timeUnit:X,config:ua,omitTimeFormatConfig:cb}={specifiedFormat:e,timeUnit:a,config:g,omitTimeFormatConfig:p};e=O?O:X?{signal:xd(X)}:
cb?void 0:ua.timeFormat}return e}return Ke({type:b,specifiedFormat:e,config:g})}}function kf(a,b,e){if(a&&(Nb(a)||"number"===a||"time"===a))return a;if(lf(b)&&"time"!==e&&"utc"!==e){let f;return Ga(b)&&(null==(f=nd(null==b?void 0:b.timeUnit))?0:f.utc)?"utc":"time"}}function Ke(a){let {type:b,specifiedFormat:e,config:f,normalizeStack:g}=a;if(h.isString(e))return e;if("quantitative"===b)return g?f.normalizedNumberFormat:f.numberFormat}function Ye(a,b,e,f){if(fe(e))return`${e}(${a}${b?`, ${m(b)}`:""})`;
let g;b=null!=(g=h.isString(b)?b:void 0)?g:f.numberFormat;return`format(${a}, "${b||""}")`}function Ze(a,b,e,f,g){if(void 0===e&&void 0===f&&g.customFormatTypes&&g.numberFormatType)return Ze(a,b,g.numberFormat,g.numberFormatType,g);const p=Ye(a,e,f,g);b=Ye(b,e,f,g);return`${Oc(a,!1)} ? "null" : ${p} + "${" – "}" + ${b}`}function ue(a){return a&&("count"===a.op||!!a.field)}function oe(a){return a&&h.isArray(a)}function Ae(a){return"row"in a||"column"in a}function na(a){const {field:b,timeUnit:e,bin:f,
aggregate:g}=a;return Object.assign({},e?{timeUnit:e}:{},f?{bin:f}:{},g?{aggregate:g}:{},{field:b})}function l(a){let {fieldDef:b,fieldDef2:e,markDef:f,config:g}=a;if(yc(b)&&void 0!==b.bandPosition)return b.bandPosition;if(Ga(b)){const {timeUnit:p,bin:B}=b;if(p&&!e)return ic("timeUnitBandPosition",f,g);if(vb(B))return.5}}function q(a){let {channel:b,fieldDef:e,fieldDef2:f,markDef:g,config:p,scaleType:B,useVlSizeChannel:O}=a;a=G(b);a=Zb(O?"size":a,g,p,{vgChannel:a});if(void 0!==a)return a;if(Ga(e)){const {timeUnit:X,
bin:ua}=e;if(X&&!f)return{band:ic("timeUnitBandSize",g,p)};if(vb(ua)&&!ce(B))return{band:1}}if(cc(g.type)){if(B){if(ce(B)){let cb;return(null==(cb=p[g.type])?void 0:cb.discreteBandSize)||{band:1}}let ua;return null==(ua=p[g.type])?void 0:ua.continuousBandSize}let X;return null==(X=p[g.type])?void 0:X.discreteBandSize}}function K(a,b,e,f){return vb(a.bin)||a.timeUnit&&Rc(a)&&"temporal"===a.type?void 0!==l({fieldDef:a,fieldDef2:b,markDef:e,config:f}):!1}function ja(a){return a&&"condition"in a}function Ca(a){a=
null==a?void 0:a.condition;return!!a&&!h.isArray(a)&&Ga(a)}function Qa(a){a=null==a?void 0:a.condition;return!!a&&!h.isArray(a)&&yc(a)}function Ga(a){return a&&(!!a.field||"count"===a.aggregate)}function qb(a){return null==a?void 0:a.type}function nb(a){return a&&"datum"in a}function wc(a){return Rc(a)&&!Hd(a)||zc(a)}function vc(a){return Rc(a)&&"quantitative"===a.type&&!a.bin||zc(a)}function zc(a){return nb(a)&&h.isNumber(a.datum)}function yc(a){return Ga(a)||nb(a)}function Rc(a){return a&&("field"in
a||"count"===a.aggregate)&&"type"in a}function ed(a){return a&&"value"in a&&"value"in a}function Td(a){return a&&("scale"in a||"sort"in a)}function Ad(a){return a&&("axis"in a||"stack"in a||"impute"in a)}function Md(a){return a&&("format"in a||"formatType"in a)}function Ud(a){return ac(a,["legend","axis","header","scale"])}function pc(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=a.field;const f=b.prefix;let g=b.suffix,p="";if("count"===a.aggregate)e=ca("count");else{let B;
if(!b.nofn)if("op"in a)B=a.op;else{const {bin:O,aggregate:X,timeUnit:ua}=a;if(vb(O)){B=Ya(O);let cb,pb;g=(null!=(cb=b.binSuffix)?cb:"")+(null!=(pb=b.suffix)?pb:"")}else if(X)wa(X)?(p=`["${e}"]`,e=`argmax_${X.argmax}`):la(X)?(p=`["${e}"]`,e=`argmin_${X.argmin}`):B=String(X);else if(ua&&!Jc(ua)){B=Id(ua);let cb;g=(!["range","mid"].includes(b.binSuffix)&&b.binSuffix||"")+(null!=(cb=b.suffix)?cb:"")}}B&&(e=e?`${B}_${e}`:B)}g&&(e=`${e}_${g}`);f&&(e=`${f}_${e}`);return b.forAs?Qb(e):b.expr?Ia(e,b.expr)+
p:bb(e)+p}function Hd(a){switch(a.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return Ga(a)&&!!a.bin;case "temporal":return!1}throw Error(`Invalid field type "${a.type}".`);}function Be(a,b){const {field:e,bin:f,timeUnit:g,aggregate:p}=a;if("count"===p)return b.countTitle;if(vb(f))return`${e} (binned)`;if(g&&!Jc(g)){let B;if(a=null==(B=nd(g))?void 0:B.unit)return`${e} (${Ac(a).join("-")})`}else if(p)return wa(p)?`${e} for max ${p.argmax}`:la(p)?`${e} for min ${p.argmin}`:
`${Ra(p)} of ${e}`;return e}function Vd(a,b,e){let {allowDisabling:f,includeDefault:g=!0}=e,p;e=null==(p=le(a))?void 0:p.title;if(!Ga(a))return null!=e?e:a.title;b=g?Cf(a,b):void 0;if(f)return T(e,a.title,b);let B;return null!=(B=null!=e?e:a.title)?B:b}function le(a){if(Ad(a)&&a.axis)return a.axis;if(a&&"legend"in a&&a.legend)return a.legend;if(a&&"header"in a&&a.header)return a.header}function Pd(a){if(Md(a)){const {format:g,formatType:p}=a;return{format:g,formatType:p}}let b;a=null!=(b=le(a))?b:
{};const {format:e,formatType:f}=a;return{format:e,formatType:f}}function Qd(a,b){switch(b){case "latitude":case "longitude":return"quantitative";case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";case "order":return"ordinal"}if("sort"in a&&h.isArray(a.sort))return"ordinal";const {aggregate:e,bin:f,timeUnit:g}=a;if(g)return"temporal";if(f||e&&!wa(e)&&!la(e))return"quantitative";let p;if(Td(a)&&(null==(p=a.scale)?0:p.type))switch(Bg[a.scale.type]){case "numeric":case "discretizing":return"quantitative";
case "time":return"temporal"}return"nominal"}function Ne(a){if(Ga(a))return a;if(Ca(a))return a.condition}function Fe(a){if(yc(a))return a;if(Qa(a))return a.condition}function re(a,b,e){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return h.isString(a)||h.isNumber(a)||h.isBoolean(a)?(f=h.isString(a)?"string":h.isNumber(a)?"number":"boolean",J(`Channel ${b} is a ${f}. Converted to {value: ${m(a)}}.`),{value:a}):yc(a)?Me(a,b,e,f):Qa(a)?Object.assign({},a,{condition:Me(a.condition,
b,e,f)}):a}function Me(a,b,e,f){if(Md(a)){var g=Object.assign({},a),p=a.formatType;g=(delete g.format,delete g.formatType,g);if(fe(p)&&!e.customFormatTypes)return J(Sc(b)),Me(g,b,e,f)}else if((p=Ad(a)?"axis":a&&"legend"in a?"legend":a&&"header"in a?"header":null)&&a[p]){var B=a[p];g=Object.assign({},B);B=B.formatType;g=(delete g.format,delete g.formatType,g);if(fe(B)&&!e.customFormatTypes)return J(Sc(b)),Me(Object.assign({},a,{[p]:g}),b,e,f)}if(Ga(a))return hd(a,b,f);b=a.type;b||({datum:b}=a,b=h.isNumber(b)?
"quantitative":h.isString(b)?"nominal":Ka(b)?"temporal":void 0,a=Object.assign({},a,{type:b}));return a}function hd(a,b){var {compositeMark:e=!1}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const {aggregate:f,timeUnit:g,bin:p,field:B}=a,O=Object.assign({},a);e||!f||Ma(f)||wa(f)||la(f)||(J(`Invalid aggregation operator "${f}".`),delete O.aggregate);g&&(O.timeUnit=nd(g));B&&(O.field=`${B}`);vb(p)&&(O.bin=ve(p,b));jb(p)&&!F(b)&&J(`Channel ${b} should not be used with "binned" bin.`);if(Rc(O)){({type:e}=
O);var X=Nd(e);e!==X&&(O.type=X);"quantitative"!==e&&Pa(f)&&(J(`Invalid field type "${e}" for aggregate: "${f}", using "quantitative" instead.`),O.type="quantitative")}else w(b)||(e=Qd(O,b),O.type=e);if(Rc(O)){const {compatible:cb,warning:pb}=gf(O,b)||{};!1===cb&&J(pb)}if("sort"in O&&h.isString(O.sort)){({sort:e}=O);if(e in wj)return Object.assign({},O,{sort:{encoding:e}});X=e.substr(1);if("-"===e.charAt(0)&&X in wj)return Object.assign({},O,{sort:{encoding:X,order:"descending"}})}if(O&&"header"in
O&&({header:e}=O,e)){var ua=e;X=Object.assign({},ua);ua=ua.orient;X=(delete X.orient,X);if(ua)return Object.assign({},O,{header:Object.assign({},X,{labelOrient:e.labelOrient||ua,titleOrient:e.titleOrient||ua})})}return O}function ve(a,b){return h.isBoolean(a)?{maxbins:W(b)}:"binned"===a?{binned:!0}:a.maxbins||a.step?a:Object.assign({},a,{maxbins:W(b)})}function gf(a,b){var e=a.type;if("geojson"===e&&"shape"!==b)return{compatible:!1,warning:`Channel ${b} should not be used with a geojson data.`};switch(b){case "row":case "column":case "facet":return Hd(a)?
Ii:{compatible:!1,warning:`${b} encoding should be discrete (ordinal / nominal / binned).`};case "x":case "y":case "xOffset":case "yOffset":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return Ii;case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==e?{compatible:!1,warning:`Channel ${b} should be used with a quantitative field only, not ${a.type} field.`}:
Ii;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==e||a.sort?Ii:{compatible:!1,warning:`Channel ${b} should not be used with an unsorted discrete field.`};case "shape":case "strokeDash":if(e=!Hd(a)){let f;e=!(Td(a)&&ai.has(null==(f=a.scale)?void 0:f.type))}return e?{compatible:!1,warning:`${b} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}:
Ii;case "order":return"nominal"!==a.type||"sort"in a?Ii:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function lf(a){var {formatType:b}=Pd(a),e;if(!(e="time"===b)){if(b=!b)b=a&&("temporal"===a.type||Ga(a)&&!!a.timeUnit);e=b}return e}function Dg(a,b){let {timeUnit:e,type:f,wrapTime:g,undefinedIfExprNotRequired:p}=b;var B=(b=e&&(null==(B=nd(e))?void 0:B.unit))||"temporal"===f;let O;Ea(a)?O=a.expr:Nb(a)?O=a.signal:Ka(a)?(B=!0,O=Tb(a)):(h.isString(a)||
h.isNumber(a))&&B&&(O=`datetime(${m(a)})`,yl[b]&&(h.isNumber(a)&&1E4>a||h.isString(a)&&isNaN(Date.parse(a)))&&(O=Tb({[b]:a})));return O?g&&B?`time(${O})`:O:p?void 0:m(a)}function vf(a,b){const {type:e}=a;return b.map(f=>{var g=Ga(a)&&!Jc(a.timeUnit)?a.timeUnit:void 0;g=Dg(f,{timeUnit:g,type:e,undefinedIfExprNotRequired:!0});return void 0!==g?{signal:g}:f})}function Mf(a,b){return vb(a.bin)?!!Mh[b]&&["ordinal","nominal"].includes(a.type):(console.warn("Only call this method for binned field defs."),
!1)}function Vf(a){return null==a?void 0:a.condition}function mf(a){return"mark"in a}function Se(a,b){return(a=a&&a[b])?h.isArray(a)?Vb(a,e=>!!e.field):Ga(a)||Ca(a):!1}function Wf(a,b){return(a=a&&a[b])?h.isArray(a)?Vb(a,e=>!!e.field):Ga(a)||nb(a)||Qa(a):!1}function og(a,b){if(F(b)){const e=a[b];if((Ga(e)||nb(e))&&(Nc(e.type)||Ga(e)&&e.timeUnit))return b=z(b),Wf(a,b)}return!1}function Uf(a){return Vb(Cl,b=>Se(a,b)?(b=a[b],h.isArray(b)?Vb(b,e=>!!e.aggregate):(b=Ne(b))&&!!b.aggregate):!1)}function ig(a,
b){const e=[],f=[],g=[],p=[],B={};Fg(a,(O,X)=>{if(Ga(O)){var ua=Object.assign({},O),cb=O.field;const gc=O.aggregate,Mc=O.bin,kc=O.timeUnit;ua=(delete ua.field,delete ua.aggregate,delete ua.bin,delete ua.timeUnit,ua);if(gc||kc||Mc){var pb;const Lc=null==(pb=le(O))?void 0:pb.title;pb=pc(O,{forAs:!0});ua=Object.assign({},Lc?[]:{title:Vd(O,b,{allowDisabling:!0})},ua,{field:pb});if(gc){let Zc;wa(gc)?(Zc="argmax",pb=pc({op:"argmax",field:gc.argmax},{forAs:!0}),ua.field=`${pb}.${cb}`):la(gc)?(Zc="argmin",
pb=pc({op:"argmin",field:gc.argmin},{forAs:!0}),ua.field=`${pb}.${cb}`):"boxplot"!==gc&&"errorbar"!==gc&&"errorband"!==gc&&(Zc=gc);Zc&&(O={op:Zc,as:pb},cb&&(O.field=cb),p.push(O))}else e.push(pb),Rc(O)&&vb(Mc)?(f.push({bin:Mc,field:cb,as:pb}),e.push(pc(O,{binSuffix:"end"})),Mf(O,X)&&e.push(pc(O,{binSuffix:"range"})),F(X)&&(B[`${X}2`]={field:`${pb}_end`}),ua.bin="binned",w(X)||(ua.type="quantitative")):kc&&!Jc(kc)&&(g.push({timeUnit:kc,field:cb,as:pb}),(cb=Rc(O)&&"temporal"!==O.type&&"time")&&("text"===
X||"tooltip"===X?ua.formatType=cb:Fi[X]?ua.legend=Object.assign({},{formatType:cb},ua.legend):F(X)&&(ua.axis=Object.assign({},{formatType:cb},ua.axis))));B[X]=ua}else e.push(cb),B[X]=a[X]}else B[X]=a[X]});return{bins:f,timeUnits:g,aggregate:p,groupby:e,encoding:B}}function Bf(a,b,e){e=sa(b)[e];return e&&("binned"!==e||(e=a["x2"===b?"x":"y"],Ga(e)&&Ga(a[b])&&jb(e.bin)))?!0:!1}function Tg(a,b,e,f){const g={};for(var p of sd(a))Ej[p]||J(`${p}-encoding is dropped as ${p} is not a valid encoding channel.`);
for(let O of Kj)if(a[O]){p=a[O];if(O in Wi){a:{switch(O){case "xOffset":var B="x";break a;case "yOffset":B="y";break a}B=void 0}const X=g[B];if(Ga(X)&&$c(X.type)&&Ga(p)&&!X.timeUnit){J(`${B}Offset dropped because ${B} is continuous`);continue}}"angle"!==O||"arc"!==b||a.theta||(J("Arc marks uses theta channel rather than angle, replacing angle with theta."),O="theta");if(Bf(a,O,b)){if("size"===O&&"line"===b){let X;if(null==(X=Ne(a[O]))?0:X.aggregate){J("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.");
continue}}if("color"===O&&(e?"fill"in a:"stroke"in a))J(vd("encoding",{fill:"fill"in a,stroke:"stroke"in a}));else if("detail"===O||"order"===O&&!h.isArray(p)&&!ed(p)||"tooltip"===O&&h.isArray(p)){if(p){if("order"===O&&(B=a[O])&&B.sort&&!B.field){g[O]=B;continue}g[O]=h.array(p).reduce((X,ua)=>{Ga(ua)?X.push(hd(ua,O)):J(pd(ua,O));return X},[])}}else{if("tooltip"===O&&null===p)g[O]=null;else if(!(Ga(p)||nb(p)||ed(p)||ja(p)||Nb(p))){J(pd(p,O));continue}g[O]=re(p,O,f)}}else J(fd(O,b))}return g}function Eg(a,
b){const e={};for(const f of sd(a)){const g=re(a[f],f,b,{compositeMark:!0});e[f]=g}return e}function Ch(a){const b=[];for(const e of sd(a))if(Se(a,e)){const f=h.array(a[e]);for(const g of f)Ga(g)?b.push(g):Ca(g)&&b.push(g.condition)}return b}function Fg(a,b,e){if(a)for(const f of sd(a)){const g=a[f];if(h.isArray(g))for(const p of g)b.call(e,p,f);else b.call(e,g,f)}}function Ug(a,b,e,f){return a?sd(a).reduce((g,p)=>{const B=a[p];return h.isArray(B)?B.reduce((O,X)=>b.call(f,O,X,p),g):b.call(f,g,B,p)},
e):e}function ch(a,b){return sd(b).reduce((e,f)=>{switch(f){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "xOffset":case "yOffset":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return e;case "order":if("line"===a||"trail"===a)return e;case "detail":case "key":f=b[f];if(h.isArray(f)||Ga(f))for(var g of h.array(f))g.aggregate||e.push(pc(g,
{}));return e;case "size":if("trail"===a)return e;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(g=Ne(b[f]))&&!g.aggregate&&e.push(pc(g,{})),e}},[])}function S(a,b,e){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;if("tooltip"in e)return{tooltip:e.tooltip};const g=a.map(B=>{let {fieldPrefix:O,titlePrefix:X}=B;B=f?` of ${Ja(b)}`:"";return{field:O+b.field,type:b.type,title:Nb(X)?{signal:`${X}"${escape(B)}"`}:
X+B}}),p=Ch(e).map(Ud);return{tooltip:[...g,...Za(p,Xb)]}}function Ja(a){const {title:b,field:e}=a;return T(b,e)}function mb(a,b,e,f,g){const {scale:p,axis:B}=e;return O=>{let {partName:X,mark:ua,positionPrefix:cb,endPositionPrefix:pb,extraEncoding:gc={}}=O;O=Ja(e);return Fc(a,X,g,{mark:ua,encoding:Object.assign({},{[b]:Object.assign({},{field:`${cb}_${e.field}`,type:e.type},void 0!==O?{title:O}:{},void 0!==p?{scale:p}:{},void 0!==B?{axis:B}:{})},h.isString(pb)?{[`${b}2`]:{field:`${pb}_${e.field}`}}:
{},f,gc)})}}function Fc(a,b,e,f){const {clip:g,color:p,opacity:B}=a,O=a.type;return a[b]||void 0===a[b]&&e[b]?[Object.assign({},f,{mark:Object.assign({},e[b],g?{clip:g}:{},p?{color:p}:{},B?{opacity:B}:{},gd(f.mark)?f.mark:{type:f.mark},{style:`${O}-${String(b)}`},h.isBoolean(a[b])?{}:a[b])})]:[]}function Gc(a,b,e){({encoding:a}=a);b="vertical"===b?"y":"x";const f=a[`${b}2`],g=a[`${b}Error`],p=a[`${b}Error2`];return{continuousAxisChannelDef:Ld(a[b],e),continuousAxisChannelDef2:Ld(f,e),continuousAxisChannelDefError:Ld(g,
e),continuousAxisChannelDefError2:Ld(p,e),continuousAxis:b}}function Ld(a,b){if(null==a?0:a.aggregate){var e=Object.assign({},a);a=a.aggregate;e=(delete e.aggregate,e);a!==b&&J(`Continuous axis should not have customized aggregation function ${a}; ${b} already agregates the axis.`);return e}return a}function ge(a,b){const {mark:e,encoding:f}=a,{x:g,y:p}=f;if(gd(e)&&e.orient)return e.orient;if(wc(g)){if(wc(p)){a=Ga(g)&&g.aggregate;const B=Ga(p)&&p.aggregate;if(!a&&B===b)return"vertical";if(B||a!==
b){if(a===b&&B===b)throw Error("Both x and y cannot have aggregate");return lf(p)&&!lf(g)?"horizontal":"vertical"}}return"horizontal"}if(wc(p))return"vertical";throw Error(`Need a valid continuous axis for ${b}s`);}function Ge(a){return h.isNumber(a)?"tukey":a}function ze(a,b){var {config:e}=b,f=a=Object.assign({},a,{encoding:Eg(a.encoding,e)});b=Object.assign({},f);var g=f.mark;f=f.params;b=(delete b.mark,delete b.encoding,delete b.params,delete b.projection,b);g=gd(g)?g:{type:g};f&&J(Kb("boxplot"));
var p;f=null!=(p=g.extent)?p:e.boxplot.extent;var B=Zb("size",g,e),O=g.invalid;p=Ge(f);var X=a;a=ge(X,"boxplot");const {continuousAxisChannelDef:ua,continuousAxis:cb}=Gc(X,a,"boxplot");var pb=ua.field,gc=Ge(f),Mc=[...Hf(pb),{op:"median",field:pb,as:`mid_box_${pb}`},{op:"min",field:pb,as:("min-max"===gc?"lower_whisker_":"min_")+pb},{op:"max",field:pb,as:("min-max"===gc?"upper_whisker_":"max_")+pb}];pb="min-max"===gc||"tukey"===gc?[]:[{calculate:`datum["upper_box_${pb}"] - datum["lower_box_${pb}"]`,
as:`iqr_${pb}`},{calculate:`min(datum["upper_box_${pb}"] + datum["iqr_${pb}"] * ${f}, datum["max_${pb}"])`,as:`upper_whisker_${pb}`},{calculate:`max(datum["lower_box_${pb}"] - datum["iqr_${pb}"] * ${f}, datum["min_${pb}"])`,as:`lower_whisker_${pb}`}];X=Object.assign({},X.encoding);var kc;gc=(delete X[cb],X);X=Object.assign({},gc);gc=gc.tooltip;X=(delete X.tooltip,X);if(gc){var Lc;if(h.isArray(gc)){for(var Zc of gc)Zc.aggregate?(kc||(kc=[]),kc.push(Zc)):(Lc||(Lc=[]),Lc.push(Zc));kc&&(X.tooltip=kc)}else gc.aggregate?
X.tooltip=gc:Lc=gc;h.isArray(Lc)&&1===Lc.length&&(Lc=Lc[0]);kc={customTooltipWithoutAggregatedField:Lc,filteredEncoding:X}}else kc={filteredEncoding:X};const {customTooltipWithoutAggregatedField:cd,filteredEncoding:je}=kc,{bins:Zd,timeUnits:Ce,aggregate:Pe,groupby:Jf,encoding:Rf}=ig(je,e);kc=[...Zd,...Ce,{aggregate:[...Pe,...Mc],groupby:Jf},...pb];const {bins:Kg,timeUnits:We,transform:$f,continuousAxisChannelDef:Xe,continuousAxis:zh,groupby:il,aggregate:Fm,encodingWithoutContinuousAxis:Dk,ticksOrient:xm,
boxOrient:Gm,customTooltipWithoutAggregatedField:ym}={bins:Zd,timeUnits:Ce,transform:kc,groupby:Jf,aggregate:Pe,continuousAxisChannelDef:ua,continuousAxis:cb,encodingWithoutContinuousAxis:Rf,ticksOrient:"vertical"===a?"horizontal":"vertical",boxOrient:a,customTooltipWithoutAggregatedField:cd};Lc=Object.assign({},Dk);kc=Dk.color;Mc=Dk.size;Lc=(delete Lc.color,delete Lc.size,Lc);Zc=mb(g,zh,Xe,Lc,e.boxplot);a=mb(g,zh,Xe,Dk,e.boxplot);Mc=mb(g,zh,Xe,Object.assign({},Lc,Mc?{size:Mc}:{}),e.boxplot);pb=S([{fieldPrefix:"min-max"===
p?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===p?"lower_whisker_":"min_",titlePrefix:"Min"}],Xe,Dk);X={type:"tick",color:"black",opacity:1,orient:xm,invalid:O,aria:!1};gc="min-max"===p?pb:S([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],Xe,Dk);Zc=[...Zc({partName:"rule",
mark:{type:"rule",invalid:O,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:gc}),...Zc({partName:"rule",mark:{type:"rule",invalid:O,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:gc}),...Zc({partName:"ticks",mark:X,positionPrefix:"lower_whisker",extraEncoding:gc}),...Zc({partName:"ticks",mark:X,positionPrefix:"upper_whisker",extraEncoding:gc})];B=[...("tukey"!==p?Zc:[]),...a({partName:"box",mark:Object.assign({},{type:"bar"},
B?{size:B}:{},{orient:Gm,invalid:O,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:pb}),...Mc({partName:"median",mark:Object.assign({},{type:"tick",invalid:O},h.isObject(e.boxplot.median)&&e.boxplot.median.color?{color:e.boxplot.median.color}:{},B?{size:B}:{},{orient:xm,aria:!1}),positionPrefix:"mid_box",extraEncoding:pb})];if("min-max"===p){var Gj;return Object.assign({},b,{transform:(null!=(Gj=b.transform)?Gj:[]).concat($f),layer:B})}Gj=`datum["lower_box_${Xe.field}"]`;
p=`datum["upper_box_${Xe.field}"]`;O=`(${p} - ${Gj})`;Gj=`${Gj} - ${f} * ${O}`;O=`${p} + ${f} * ${O}`;a=`datum["${Xe.field}"]`;f={joinaggregate:Hf(Xe.field),groupby:il};p={transform:[{filter:`(${Gj} <= ${a}) && (${a} <= ${O})`},{aggregate:[{op:"min",field:Xe.field,as:`lower_whisker_${Xe.field}`},{op:"max",field:Xe.field,as:`upper_whisker_${Xe.field}`},{op:"min",field:`lower_box_${Xe.field}`,as:`lower_box_${Xe.field}`},{op:"max",field:`upper_box_${Xe.field}`,as:`upper_box_${Xe.field}`},...Fm],groupby:il}],
layer:Zc};Lc=Object.assign({},Lc);Lc=(delete Lc.tooltip,Lc);const {scale:zm,axis:Hm}=Xe;Zc=Ja(Xe);Mc=ac(Hm,["title"]);e=Fc(g,"outliers",e.boxplot,{transform:[{filter:`(${a} < ${Gj}) || (${a} > ${O})`}],mark:"point",encoding:Object.assign({},{[zh]:Object.assign({},{field:Xe.field,type:Xe.type},void 0!==Zc?{title:Zc}:{},void 0!==zm?{scale:zm}:{},hb(Mc)?{}:{axis:Mc})},Lc,kc?{color:kc}:{},ym?{tooltip:ym}:{})})[0];g=[...Kg,...We,f];e?e={transform:g,layer:[e,p]}:(e=p,e.transform.unshift(...g));return Object.assign({},
b,{layer:[e,{transform:$f,layer:B}]})}function Hf(a){return[{op:"q1",field:a,as:`lower_box_${a}`},{op:"q3",field:a,as:`upper_box_${a}`}]}function Xf(a,b){({config:b}=b);a=Object.assign({},a,{encoding:Eg(a.encoding,b)});const {transform:e,continuousAxisChannelDef:f,continuousAxis:g,encodingWithoutContinuousAxis:p,ticksOrient:B,markDef:O,outerSpec:X,tooltipEncoding:ua}=Qf(a,"errorbar",b);delete p.size;a=mb(O,g,f,p,b.errorbar);b=O.thickness;var cb=O.size;cb=Object.assign({},{type:"tick",orient:B,aria:!1},
void 0!==b?{thickness:b}:{},void 0!==cb?{size:cb}:{});a=[...a({partName:"ticks",mark:cb,positionPrefix:"lower",extraEncoding:ua}),...a({partName:"ticks",mark:cb,positionPrefix:"upper",extraEncoding:ua}),...a({partName:"rule",mark:Object.assign({},{type:"rule",ariaRoleDescription:"errorbar"},void 0!==b?{size:b}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:ua})];return Object.assign({},X,{transform:e},1<a.length?{layer:a}:Object.assign({},a[0]))}function ih(a,b){var {encoding:e}=
a;if(!(!yc(e.x)&&!yc(e.y)||yc(e.x2)||yc(e.y2)||yc(e.xError)||yc(e.xError2)||yc(e.yError)||yc(e.yError2)))return{orient:ge(a,b),inputType:"raw"};var f=yc(e.x2)||yc(e.y2);var g=yc(e.xError)||yc(e.xError2)||yc(e.yError)||yc(e.yError2);a=e.x;const p=e.y;if(f){if(g)throw Error(`${b} cannot be both type aggregated-upper-lower and aggregated-error`);f=e.x2;e=e.y2;if(yc(f)&&yc(e))throw Error(`${b} cannot have both x2 and y2`);if(yc(f)){if(wc(a))return{orient:"horizontal",inputType:"aggregated-upper-lower"};
throw Error(`Both x and x2 have to be quantitative in ${b}`);}if(yc(e)){if(wc(p))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error(`Both y and y2 have to be quantitative in ${b}`);}}else{f=e.xError;g=e.yError;const B=e.yError2;if(yc(e.xError2)&&!yc(f))throw Error(`${b} cannot have xError2 without xError`);if(yc(B)&&!yc(g))throw Error(`${b} cannot have yError2 without yError`);if(yc(f)&&yc(g))throw Error(`${b} cannot have both xError and yError with both are quantiative`);if(yc(f)){if(wc(a))return{orient:"horizontal",
inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(yc(g)){if(wc(p))return{orient:"vertical",inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");}function Qf(a,b,e){var f=Object.assign({},a),g=a.mark,p=a.encoding,B=a.params;f=(delete f.mark,delete f.encoding,delete f.params,delete f.projection,f);g=gd(g)?g:{type:g};B&&J(Kb(b));const {orient:O,inputType:X}=
ih(a,b),{continuousAxisChannelDef:ua,continuousAxisChannelDef2:cb,continuousAxisChannelDefError:pb,continuousAxisChannelDefError2:gc,continuousAxis:Mc}=Gc(a,O,b);a=[];B=[];var kc=ua.field,Lc=!1;if("raw"===X){var Zc=g.center?g.center:g.extent?"iqr"===g.extent?"median":"mean":e.errorbar.center;var cd=g.extent?g.extent:"mean"===Zc?"stderr":"iqr";"median"===Zc!==("iqr"===cd)&&J(`${Zc} is not usually used with ${cd} for ${b}.`);"stderr"===cd||"stdev"===cd?(a=[{op:cd,field:kc,as:`extent_${kc}`},{op:Zc,
field:kc,as:`center_${kc}`}],B=[{calculate:`datum["center_${kc}"] + datum["extent_${kc}"]`,as:`upper_${kc}`},{calculate:`datum["center_${kc}"] - datum["extent_${kc}"]`,as:`lower_${kc}`}],kc={fieldPrefix:"center_",titlePrefix:Ra(Zc)},Lc=cd,Lc={fieldPrefix:"upper_",titlePrefix:`${Ra(Zc)} ${"+"} ${Lc}`},b=cd,b=`${Ra(Zc)} ${"-"} ${b}`,Zc=[kc,Lc,{fieldPrefix:"lower_",titlePrefix:b}],Lc=!0):("ci"===cd?(b="mean",Zc="ci0",cd="ci1"):(b="median",Zc="q1",cd="q3"),a=[{op:Zc,field:kc,as:`lower_${kc}`},{op:cd,
field:kc,as:`upper_${kc}`},{op:b,field:kc,as:`center_${kc}`}],Zc=[{fieldPrefix:"upper_",titlePrefix:Vd({field:kc,aggregate:cd,type:"quantitative"},e,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Vd({field:kc,aggregate:Zc,type:"quantitative"},e,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Vd({field:kc,aggregate:b,type:"quantitative"},e,{allowDisabling:!1})}])}else{if(g.center||g.extent){b=g.center;var je=g.extent;J(`${je?"extent ":""}${je&&b?"and ":""}${b?"center ":""}${je&&b?
"are ":"is "}not needed when data are aggregated.`)}"aggregated-upper-lower"===X?(Zc=[],B=[{calculate:`datum["${cb.field}"]`,as:`upper_${kc}`},{calculate:`datum["${kc}"]`,as:`lower_${kc}`}]):"aggregated-error"===X&&(Zc=[{fieldPrefix:"",titlePrefix:kc}],B=[{calculate:`datum["${kc}"] + datum["${pb.field}"]`,as:`upper_${kc}`}],gc?B.push({calculate:`datum["${kc}"] + datum["${gc.field}"]`,as:`lower_${kc}`}):B.push({calculate:`datum["${kc}"] - datum["${pb.field}"]`,as:`lower_${kc}`}));for(cd of B)Zc.push({fieldPrefix:cd.as.substring(0,
6),titlePrefix:tb(tb(cd.calculate,'datum["',""),'"]',"")})}const {errorBarSpecificAggregate:Zd,postAggregateCalculates:Ce,tooltipSummary:Pe,tooltipTitleWithFieldName:Jf}={postAggregateCalculates:B,errorBarSpecificAggregate:a,tooltipSummary:Zc,tooltipTitleWithFieldName:Lc};p=Object.assign({},p);a="x"===Mc?"x2":"y2";B="x"===Mc?"xError":"yError";kc="x"===Mc?"xError2":"yError2";p=(delete p[Mc],delete p[a],delete p[B],delete p[kc],p);const {bins:Rf,timeUnits:Kg,aggregate:We,groupby:$f,encoding:Xe}=ig(p,
e);e=[...We,...Zd];p="raw"!==X?[]:$f;a=S(Pe,ua,Xe,Jf);let zh;return{transform:[...(null!=(zh=f.transform)?zh:[]),...Rf,...Kg,...(0===e.length?[]:[{aggregate:e,groupby:p}]),...Ce],groupby:p,continuousAxisChannelDef:ua,continuousAxis:Mc,encodingWithoutContinuousAxis:Xe,ticksOrient:"vertical"===O?"horizontal":"vertical",markDef:g,outerSpec:f,tooltipEncoding:a}}function Vg(a,b){({config:b}=b);a=Object.assign({},a,{encoding:Eg(a.encoding,b)});const {transform:e,continuousAxisChannelDef:f,continuousAxis:g,
encodingWithoutContinuousAxis:p,markDef:B,outerSpec:O,tooltipEncoding:X}=Qf(a,"errorband",b);b=mb(B,g,f,p,b.errorband);a=void 0!==a.encoding.x&&void 0!==a.encoding.y;let ua={type:a?"area":"rect"},cb={type:a?"line":"rule"};const pb=Object.assign({},B.interpolate?{interpolate:B.interpolate}:{},B.tension&&B.interpolate?{tension:B.tension}:{});a?(ua=Object.assign({},ua,pb,{ariaRoleDescription:"errorband"}),cb=Object.assign({},cb,pb,{aria:!1})):B.interpolate?J(Bd("interpolate")):B.tension&&J(Bd("tension"));
return Object.assign({},O,{transform:e,layer:[...b({partName:"band",mark:ua,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:X}),...b({partName:"borders",mark:cb,positionPrefix:"lower",extraEncoding:X}),...b({partName:"borders",mark:cb,positionPrefix:"upper",extraEncoding:X})]})}function dg(a,b,e){b=new $i(a,b);Qj[a]={normalizer:b,parts:e}}function sh(a){return"legend"===a||!(null==a||!a.legend)}function Dh(a){return sh(a)&&h.isObject(a)}function Yd(a){return!(null==a||!a.select)}function he(a){const b=
[];for(const g of a||[])if(!Yd(g)){var e=g,f=Object.assign({},e);a=e.expr;e=e.bind;f=(delete f.expr,delete f.bind,f);e&&a?(a=Object.assign({},f,{bind:e,init:a}),b.push(a)):(a=Object.assign({},f,a?{update:a}:{},e?{bind:e}:{}),b.push(a))}return b}function of(a){let {step:b,offsetIsDiscrete:e}=a;if(e){let f;return null!=(f=b.for)?f:"offset"}return"position"}function He(a){return h.isObject(a)&&void 0!==a.step}function hf(a){return a.view||a.width||a.height}function Ve(a,b,e){const f={},{spacing:g,columns:p}=
e[b];void 0!==g&&(f.spacing=g);void 0!==p&&("facet"in a&&!Ae(a.facet)||"concat"in a)&&(f.columns=p);"vconcat"in a&&(f.columns=1);for(const B of Wk)if(void 0!==a[B])if("spacing"===B){b=a[B];let O,X;f[B]=h.isNumber(b)?b:{row:null!=(O=b.row)?O:g,column:null!=(X=b.column)?X:g}}else f[B]=a[B];return f}function pf(a,b){let e;return null!=(e=a[b])?e:a["width"===b?"continuousWidth":"continuousHeight"]}function Yf(a,b){a=Nf(a,b);return He(a)?a.step:20}function Nf(a,b){let e;const f=null!=(e=a[b])?e:a["width"===
b?"discreteWidth":"discreteHeight"];return T(f,{step:a.step})}function $e(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:h.isObject(a)?Object.assign({},xl,a):xl}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},
cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function Wg(a){var b=sd(a||{});const e={};for(const f of b)b=a[f],e[f]=Vf(b)?dd(b):qa(b);return e}function xg(){var a=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=Object.assign({},a),e=a.color,f=a.font,g=a.fontSize;a=a.selection;b=(delete b.color,delete b.font,delete b.fontSize,delete b.selection,b);var p=h.mergeConfig,B=De(Zl);f=f?{text:{font:f},style:{"guide-label":{font:f},"guide-title":{font:f},"group-title":{font:f},"group-subtitle":{font:f}}}:{};e=e?$e(e):{};g=g?{signals:[{name:"fontSize",value:h.isObject(g)?Object.assign({},wl,g):wl}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},
"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{};g=p.call(h,{},B,f,e,g,b||{});a&&h.writeConfig(g,"selection",a,!0);a=ac(g,sk);for(var O of["background","lineBreak","padding"])g[O]&&(a[O]=qa(g[O]));for(var X of uj)g[X]&&(a[X]=Mb(g[X]));for(var ua of wg)g[ua]&&(a[ua]=Wg(g[ua]));for(const cb of vl)g[cb]&&(a[cb]=Mb(g[cb]));g.legend&&(a.legend=Mb(g.legend));g.scale&&(a.scale=
Mb(g.scale));if(g.style){O=g.style;X=sd(O);ua={};for(const cb of X)ua[cb]=Wg(O[cb]);a.style=ua}g.title&&(a.title=Mb(g.title));g.view&&(a.view=Mb(g.view));return a}function jh(a){a=De(a);for(var b of $l)delete a[b];if(a.axis)for(var e in a.axis)Vf(a.axis[e])&&delete a.axis[e];if(a.legend)for(var f of Xl)delete a.legend[f];if(a.mark){for(var g of ri)delete a.mark[g];a.mark.tooltip&&h.isObject(a.mark.tooltip)&&delete a.mark.tooltip}a.params&&(a.signals=(a.signals||[]).concat(he(a.params)),delete a.params);
for(var p of Xg){for(const pb of ri)delete a[p][pb];if(b=ae[p])for(const pb of b)delete a[p][pb];let cb=g=void 0;b=a;e=p;f=void 0;var B=b[e];"view"===e&&(f="cell");B=Object.assign({},B,b.style[null!=(cb=f)?cb:e]);hb(B)||(b.style[null!=(g=f)?g:e]=B);delete b[e]}for(const cb of sd(Qj))delete a[cb];p=a;const {titleMarkConfig:O,subtitleMarkConfig:X,subtitle:ua}=oc(p.title);hb(O)||(p.style["group-title"]=Object.assign({},p.style["group-title"],O));hb(X)||(p.style["group-subtitle"]=Object.assign({},p.style["group-subtitle"],
X));hb(ua)?delete p.title:p.title=ua;for(const cb in a)h.isObject(a[cb])&&hb(a[cb])&&delete a[cb];return hb(a)?void 0:a}function Of(a){return Ga(a)&&"quantitative"===qb(a)&&!a.bin}function Rh(a,b,e){let {orient:f,type:g}=e;e="x"===b?"y":"radius";const p="x"===b&&["bar","area"].includes(g);var B=a[b];a=a[e];if(Ga(B)&&Ga(a))if(Of(B)&&Of(a)){if(B.stack)return b;if(a.stack)return e;B=Ga(B)&&!!B.aggregate;a=Ga(a)&&!!a.aggregate;if(B!==a)return B?b:e;if(p){if("vertical"===f)return e;if("horizontal"===f)return b}}else{if(Of(B))return b;
if(Of(a))return e}else{if(Of(B))return p&&"vertical"===f?void 0:b;if(Of(a))return p&&"horizontal"===f?void 0:e}}function pg(a){switch(a){case "x":return"y";case "y":return"x";case "theta":return"radius";case "radius":return"theta"}}function uh(a,b){var e=gd(a)?a:{type:a};a=e.type;if(!Th.has(a))return null;e=Rh(b,"x",e)||Rh(b,"theta",e);if(!e)return null;const f=b[e];var g=Ga(f)?pc(f,{}):void 0,p=pg(e);const B=[],O=new Set;if(b[p]){var X=b[p];(X=Ga(X)?pc(X,{}):void 0)&&X!==g&&(B.push(p),O.add(X))}p=
"x"===p?"xOffset":"yOffset";X=b[p];(X=Ga(X)?pc(X,{}):void 0)&&X!==g&&(B.push(p),O.add(X));g=Nk.reduce((gc,Mc)=>{if("tooltip"!==Mc&&Se(b,Mc)){var kc=b[Mc];for(const Lc of h.array(kc)){kc=Ne(Lc);if(kc.aggregate)continue;const Zc=pc(kc,{});Zc&&O.has(Zc)||gc.push({channel:Mc,fieldDef:kc})}}return gc},[]);let ua;void 0!==f.stack?ua=h.isBoolean(f.stack)?f.stack?"zero":null:f.stack:am.has(a)&&(ua="zero");if(!(ua&&ua in Og)||Uf(b)&&0===g.length)return null;let cb,pb;if((null==f?0:null==(cb=f.scale)?0:cb.type)&&
(null==f?void 0:null==(pb=f.scale)?void 0:pb.type)!==gg.LINEAR)return(null==f?0:f.stack)&&J(`Cannot stack non-linear scale (${f.scale.type}).`),null;if(yc(b[V(e)]))return void 0!==f.stack&&J(`Cannot stack "${e}" if there is already "${e}2".`),null;Ga(f)&&f.aggregate&&!Xk.has(f.aggregate)&&J(`Stacking is applied even though the aggregate function is non-summative ("${f.aggregate}").`);return{groupbyChannels:B,groupbyFields:O,fieldChannel:e,impute:null===f.impute?!1:Oa(a),stackBy:g,offset:ua}}function jg(a,
b,e){a=Mb(a);var f=Zb("orient",a,e);a.orient=aj(a.type,b,f);void 0!==f&&f!==a.orient&&J(`Specified orient "${a.orient}" overridden with "${f}".`);if("bar"===a.type&&a.orient&&(f=Zb("cornerRadiusEnd",a,e),void 0!==f)){const p="horizontal"===a.orient&&b.x2||"vertical"===a.orient&&b.y2?["cornerRadius"]:ci[a.orient];for(var g of p)a[g]=f;void 0!==a.cornerRadiusEnd&&delete a.cornerRadiusEnd}void 0===Zb("opacity",a,e)&&(g=Cb([Sg,Ji,tj,Hi],a.type)&&!Uf(b)?.7:void 0,a.opacity=g);void 0===Zb("cursor",a,e)&&
(b=b.href||a.href||Zb("href",a,e)?"pointer":a.cursor,a.cursor=b);return a}function Sh(a,b,e){({graticule:e}=e);if(e)return!1;b=ic("filled",a,b);a=a.type;return T(b,a!==Sg&&a!==Rg&&a!==hh)}function aj(a,b,e){switch(a){case Sg:case tj:case Hi:case zl:case Pf:case oi:return}const {x:f,y:g,x2:p,y2:B}=b;switch(a){case Bh:if(Ga(f)&&(jb(f.bin)||Ga(g)&&g.aggregate&&!f.aggregate))break;if(Ga(g)&&(jb(g.bin)||Ga(f)&&f.aggregate&&!g.aggregate))return"horizontal";if(B||p){if(e)return e;if(!p){if((Ga(f)&&"quantitative"===
f.type&&!vb(f.bin)||zc(f))&&Ga(g)&&jb(g.bin))return"horizontal";break}if(!B){if((Ga(g)&&"quantitative"===g.type&&!vb(g.bin)||zc(g))&&Ga(f)&&jb(f.bin))break;return"horizontal"}}case hh:if(!(!p||Ga(f)&&jb(f.bin)||!B||Ga(g)&&jb(g.bin)))return;case bi:if(B){if(Ga(g)&&jb(g.bin))return"horizontal";break}else if(p)if(Ga(f)&&jb(f.bin))break;else return"horizontal";else if(a===hh)if(f&&!g)break;else if(g&&!f)return"horizontal";case Rg:case Ji:b=vc(f);const O=vc(g);if(e)return e;if(b&&!O)return"tick"!==a?"horizontal":
"vertical";if(!b&&O)return"tick"!==a?"vertical":"horizontal";if(!b||!O)if(a=Rc(f)&&"temporal"===f.type,e=Rc(g)&&"temporal"===g.type,!a||e){if(!a&&e)return"horizontal";return}}return"vertical"}function Hg(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length?arguments[2]:void 0;if("transparent"===a.point)return{opacity:0};if(a.point)return h.isObject(a.point)?a.point:{};if(void 0!==a.point)return null;if(b.point||e.shape)return h.isObject(b.point)?b.point:{}}function ti(a){let b=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(a.line)return!0===a.line?{}:a.line;if(void 0!==a.line)return null;if(b.line)return!0===b.line?{}:b.line}function di(a,b){return b?Fh(a,b):a}function bj(a,b,e){const f=b[a];if(f&&!h.isString(f)&&"repeat"in f){if(f.repeat in e)return Object.assign({},b,{[a]:e[f.repeat]});J(`Unknown repeated value "${f.repeat}".`)}else return b}function ui(a,b){a=bj("field",a,b);if(void 0!==a){if(null===a)return null;"sort"in a&&ue(a.sort)&&(b=bj("field",a.sort,
b),a=Object.assign({},a,b?{sort:b}:{}));return a}}function vh(a,b){if(Ga(a))return ui(a,b);b=bj("datum",a,b);b===a||b.type||(b.type="nominal");return b}function Li(a,b){if(yc(a)){if(b=vh(a,b))return b;if(ja(a))return{condition:a.condition}}else{if(Qa(a)){if(b=vh(a.condition,b))return Object.assign({},a,{condition:b});a=Object.assign({},a);return delete a.condition,a}return a}}function Fh(a,b){const e={};for(const g in a)if(h.hasOwnProperty(a,g)){var f=a[g];h.isArray(f)?e[g]=f.map(p=>Li(p,b)).filter(p=>
p):(f=Li(f,b),void 0!==f&&(e[g]=f))}return e}function Gg(a){let {parentEncoding:b,encoding:e={},layer:f}=a;a={};if(b){var g=new Set([...sd(b),...sd(e)]);for(const p of g){g=e[p];const B=b[p];if(yc(g))g=Object.assign({},B,g),a[p]=g;else if(Qa(g))a[p]=Object.assign({},g,{condition:Object.assign({},B,g.condition)});else if(g||null===g)a[p]=g;else if(f||ed(B)||Nb(B)||yc(B)||h.isArray(B))a[p]=B}}else a=e;return!a||hb(a)?void 0:a}function Gh(a){const {parentProjection:b,projection:e}=a;if(b&&e){const {parentProjection:f,
projection:g}={parentProjection:b,projection:e};a=`Layer's shared projection ${m(f)} is overridden by a child projection ${m(g)}.`;J(a)}return null!=e?e:b}function Hh(a){return a.map(b=>"filter"in b?{filter:ab(b.filter,od)}:b)}function eg(a,b){var e=Object.assign({},a);const f=a.transform;e=(delete e.transform,e);return f?(a=f.map(g=>{if("filter"in g)return{filter:dh(g,b)};if("bin"in g&&h.isObject(g.bin))return Object.assign({},g,{bin:fi(g.bin)});if("lookup"in g){var p=g.from,B=Object.assign({},p);
p=p.selection;B=(delete B.selection,B);return p?Object.assign({},g,{from:Object.assign({},{param:p},B)}):g}return g}),Object.assign({},e,{transform:a})):a}function cj(a,b){a=De(a);Ga(a)&&h.isObject(a.bin)&&(a.bin=fi(a.bin));var e,f;Td(a)&&(null==(e=a.scale)?0:null==(f=e.domain)?0:f.selection)&&(f=a.scale.domain,e=Object.assign({},f),f=f.selection,e=(delete e.selection,e),a.scale.domain=Object.assign({},e,f?{param:f}:{}));ja(a)&&(h.isArray(a.condition)?a.condition=a.condition.map(g=>{var p=Object.assign({},
g);const B=g.param;p=(delete p.selection,delete p.param,delete p.test,p);return B?g:Object.assign({},p,{test:dh(g,b)})}):(f=cj(a.condition,b),e=Object.assign({},f),f=f.param,e=(delete e.selection,delete e.param,delete e.test,e),a.condition=f?a.condition:Object.assign({},e,{test:dh(a.condition,b)})));return a}function fi(a){var b=a.extent;if(null==b?0:b.selection){var e=Object.assign({},b);b=b.selection;e=(delete e.selection,e);return Object.assign({},a,{extent:Object.assign({},e,{param:b})})}return a}
function dh(a,b){const e=f=>ab(f,g=>{var p;const B=null!=(p=b.emptySelections[g])?p:!0;p={param:g,empty:B};let O;null!=(O=b.selectionPredicates)[g]||(O[g]=[]);b.selectionPredicates[g].push(p);return p});return a.selection?e(a.selection):ab(a.test||a.filter,f=>f.selection?e(f.selection):f)}function vi(a,b){void 0===b&&(b=xg(a.config));const e=Aj(a,b),{width:f,height:g}=a;{let {width:p,height:B}={width:f,height:g,autosize:a.autosize};a=mf(e)||"layer"in e;const O={};a?"container"==p&&"container"==B?
(O.type="fit",O.contains="padding"):"container"==p?(O.type="fit-x",O.contains="padding"):"container"==B&&(O.type="fit-y",O.contains="padding"):("container"==p&&(J(Da("width")),p=void 0),"container"==B&&(J(Da("height")),B=void 0));b=Object.assign({},{type:"pad"},O,b?eh(b.autosize):{},eh(e.autosize));"fit"!==b.type||a||(J('Autosize "fit" only works for single views and layered views.'),b.type="pad");"container"==p&&"fit"!=b.type&&"fit-x"!=b.type&&J(Sa("width"));"container"==B&&"fit"!=b.type&&"fit-y"!=
b.type&&J(Sa("height"));b=pa(b,{type:"pad"})?void 0:b}return Object.assign({},e,b?{autosize:b}:{})}function Aj(a){const b={config:1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}};return th.map(sg.map(Pg.map(a,b),b),b)}function eh(a){return h.isString(a)?{type:a}:null!=a?a:{}}function lh(a,b){const e={};for(const f of xj)a&&void 0!==a[f]&&(e[f]=qa(a[f]));b&&(e.params=a.params);return e}function Ig(a){return{explicit:!0,value:a}}function Te(a){return{explicit:!1,value:a}}function Ih(a){return(b,
e,f,g)=>{const p=a(b.value,e.value);return 0<p?b:0>p?e:Mg(b,e,f,g)}}function Mg(a,b,e,f){if(a.explicit&&b.explicit){var g=a.value;b=b.value;e=`Conflicting ${f.toString()} property "${e.toString()}" (${m(g)} and ${m(b)}). Using ${m(g)}.`;J(e)}return a}function xf(a,b,e,f){let g=4<arguments.length&&void 0!==arguments[4]?arguments[4]:Mg;return void 0===a||void 0===a.value?b:a.explicit&&!b.explicit?a:b.explicit&&!a.explicit?b:pa(a.value,b.value)?a:g(a,b,e,f)}function Mi(a){return"name"in a&&!("url"in
a)&&!("values"in a)&&!qg(a)}function qg(a){return a&&("sequence"in a||"sphere"in a||"graticule"in a)}function Ng(a){a=Object.assign({},a);a=(delete a.signals,delete a.hasLegend,delete a.index,a);a.field=bb(a.field);return a}function mh(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:h.identity;if(h.isArray(a)){const f=a.map(g=>mh(g,b,e));return b?`[${f.join(", ")}]`:f}return Ka(a)?b?e(Tb(a)):e(nc(a)):b?e(m(a)):a}function Yg(a,
b){a.component.selection&&sd(a.component.selection).length&&(a=h.stringValue(a.getName("cell")),b.unshift({name:"facet",value:{},on:[{events:h.parseSelector("pointermove","scope"),update:`isTuple(facet) ? facet : group(${a}).datum`}]}));return ya(b)}function Jh(a,b){var e=!1,f;for(const g of kg(null!=(f=a.component.selection)?f:{})){const p=g.name;e=h.stringValue(p+"_store");0===b.filter(B=>B.name===p).length&&(f="point"===g.type?", true, true)":")",b.push({name:g.name,update:`${"vlSelectionResolve"}(${e}, ${h.stringValue("global"===
g.resolve?"union":g.resolve)}${f}`}));e=!0;for(const B of dj)B.defined(g)&&B.topLevelSignals&&(b=B.topLevelSignals(a,g,b))}e&&0===b.filter(g=>"unit"===g.name).length&&b.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]});return ya(b)}function Zg(a,b){b=[...b];const e=cg(a,{escape:!1});let f;for(const g of kg(null!=(f=a.component.selection)?f:{})){a={name:g.name+"_store"};g.project.hasSelectionId&&(a.transform=[{type:"collect",sort:{field:"_vgsid_"}}]);
if(g.init){const p=g.project.items.map(Ng);a.values=g.project.hasSelectionId?g.init.map(B=>({unit:e,_vgsid_:mh(B,!1)[0]})):g.init.map(B=>({unit:e,fields:p,values:mh(B,!1)}))}b.filter(p=>p.name===g.name+"_store").length||b.push(a)}return b}function C(a,b){let e;for(const f of kg(null!=(e=a.component.selection)?e:{}))for(const g of dj)g.defined(f)&&g.marks&&(b=g.marks(a,f,b));return b}function Y(a,b){for(const e of a.children)Lf(e)&&(b=C(e,b));return b}function ya(a){return a.map(b=>{b.on&&!b.on.length&&
delete b.on;return b})}function Na(a){let {timeUnit:b,field:e,reverse:f}=a;const {unit:g,utc:p}=b;a=Xc(g);const {part:B,step:O}=Oe(a,b.step);return`${p?"utcOffset":"timeOffset"}('${B}', datum['${e}'], ${f?-O:O})`}function Jb(a,b,e){let [f,g]=a;if(void 0!==b&&.5!==b){a=`datum['${f}']`;const p=`datum['${g}']`;return[{type:"formula",expr:Ab([Na({timeUnit:e,field:f,reverse:!0}),a],b+.5),as:`${f}_${"offsetted_rect_start"}`},{type:"formula",expr:Ab([a,p],b+.5),as:`${f}_${"offsetted_rect_end"}`}]}return[]}
function Ab(a,b){let [e,f]=a;return`${1-b} * ${e} + ${b} * ${f}`}function dc(a,b){return`domain(${h.stringValue(a.scaleName(b))})`}function r(a){let b;return a.parent&&Ti(a.parent)&&(null!=(b=!a.parent.parent)?b:r(a.parent.parent))}function I(a,b,e,f){var g=!a.hasProjection,p=e.channel;const B=e.signals.visual,O=h.stringValue(g?a.scaleName(p):a.projectionName());var X=gc=>`scale(${O}, ${gc})`;const ua=a.getSizeSignalRef("x"===p?"width":"height").signal,cb=`${p}(unit)`,pb=b.events.reduce((gc,Mc)=>
[...gc,{events:Mc.between[0],update:`[${cb}, ${cb}]`},{events:Mc,update:`[${B}[0], clamp(${cb}, 0, ${ua})]`}],[]);if(g)return e=e.signals.data,g=Uh.defined(b),a=(a=a.getScaleComponent(p))?a.get("type"):void 0,p=f?{init:mh(f,!0,X)}:{value:[]},pb.push({events:{signal:b.name+"_scale_trigger"},update:Kd(a)?`[${X(`${e}[0]`)}, ${X(`${e}[1]`)}]`:"[0, 0]"}),g?[{name:e,on:[]}]:[Object.assign({},{name:B},p,{on:pb}),Object.assign({},{name:e},f?{init:mh(f)}:{},{on:[{events:{signal:B},update:`${B}[0] === ${B}[1] ? null : invert(${O}, ${B})`}]})];
X="x"===p?0:1;b=b.name+"_init";return[Object.assign({},{name:B},f?{init:`[${b}[0][${X}], ${b}[1][${X}]]`}:{value:[]},{on:pb})]}function ea(a,b,e,f){var g=ja(b)&&b.condition;b=f(b);return g?(g=h.array(g).map(p=>{const B=f(p);if(p.param){const {param:O,empty:X}=p;p=vk(a,{param:O,empty:X});return Object.assign({},{test:p},B)}p=Zf(a,p.test);return Object.assign({},{test:p},B)}),{[e]:[...g,...(void 0!==b?[b]:[])]}):void 0!==b?{[e]:b}:{}}function ta(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
"text";return ea(a,a.encoding[b],b,e=>$a(e,a.config))}function $a(a,b){let e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"datum";if(a){if(ed(a))return Ua(a.value);if(yc(a)){const {format:f,formatType:g}=Pd(a);return Re({fieldOrDatumDef:a,format:f,formatType:g,expr:e,config:b})}}}function Pb(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const {encoding:e,markDef:f,config:g,stack:p}=a,B=e.tooltip;if(h.isArray(B))return{tooltip:Kc({tooltip:B},p,g,b)};const O=b.reactiveGeom?
"datum.datum":"datum";return ea(a,B,"tooltip",X=>{const ua=$a(X,g,O);if(ua)return ua;if(null!==X){X=Zb("tooltip",f,g);!0===X&&(X={content:"encoding"});if(h.isString(X))return{value:X};if(h.isObject(X))return Nb(X)?X:"encoding"===X.content?Kc(e,p,g,b):{signal:O}}})}function hc(a,b,e){function f(ua,cb){var pb=P(cb);ua=Rc(ua)?ua:Object.assign({},ua,{type:a[pb].type});pb=ua.title||Cf(ua,p);pb=h.array(pb).join(", ").replaceAll(/"/g,'\\"');if(F(cb)){const kc="x"===cb?"x2":"y2";var gc=Ne(a[kc]);if(jb(ua.bin)&&
gc){var Mc=pc(ua,{expr:O});gc=pc(gc,{expr:O});const {format:Lc,formatType:Zc}=Pd(ua);Mc=Ze(Mc,gc,Lc,Zc,p);B[kc]=!0}}if((F(cb)||"theta"===cb||"radius"===cb)&&b&&b.fieldChannel===cb&&"normalize"===b.offset){const {format:kc,formatType:Lc}=Pd(ua);Mc=Re({fieldOrDatumDef:ua,format:kc,formatType:Lc,expr:O,config:p,normalizeStack:!0}).signal}null!=Mc||(Mc=$a(ua,p,O).signal);X.push({channel:cb,key:pb,value:Mc})}var {reactiveGeom:g}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const p=Object.assign({},
e,e.tooltipFormat),B={},O=g?"datum.datum":"datum",X=[];Fg(a,(ua,cb)=>{Ga(ua)?f(ua,cb):Ca(ua)&&f(ua.condition,cb)});g={};for(const ua of X){const {channel:cb,key:pb,value:gc}=ua;B[cb]||g[pb]||(g[pb]=gc)}return g}function Kc(a,b,e){var {reactiveGeom:f}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};f=hc(a,b,e,{reactiveGeom:f});f=Gi(f).map(g=>{let [p,B]=g;return`"${p}": ${B}`});return 0<f.length?{signal:`{${f.join(", ")}}`}:void 0}function fc(a){const {encoding:b,markDef:e,config:f,stack:g}=
a;var p=b.description;if(p)return ea(a,p,"description",B=>$a(B,a.config));p=Zb("description",e,f);if(null!=p)return{description:Ua(p)};if(!1===f.aria)return{};p=hc(b,g,f);if(!hb(p))return{description:{signal:Gi(p).map((B,O)=>{let [X,ua]=B;return`"${0<O?"; ":""}${X}: " + (${ua})`}).join(" + ")}}}function ad(a,b){let e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const {markDef:f,encoding:g,config:p}=b,{vgChannel:B}=e;let {defaultRef:O,defaultValue:X}=e;void 0===O&&(null!=X||(X=Zb(a,f,
p,{vgChannel:B,ignoreVgConfig:!0})),void 0!==X&&(O=Ua(X)));return ea(b,g[a],null!=B?B:a,ua=>id({channel:a,channelDef:ua,markDef:f,config:p,scaleName:b.scaleName(a),scale:b.getScaleComponent(a),stack:null,defaultRef:O}))}function Wc(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{filled:void 0};const {markDef:e,encoding:f,config:g}=a;var {type:p}=e,B;b=null!=(B=b.filled)?B:Zb("filled",e,g);B=Cb(["bar","point","circle","square","geoshape"],p)?"transparent":void 0;var O,X;p=null!=(X=
null!=(O=Zb(!0===b?"color":void 0,e,g,{vgChannel:"fill"}))?O:g.mark[!0===b&&"color"])?X:B;var ua;O=null!=(ua=Zb(!1===b?"color":void 0,e,g,{vgChannel:"stroke"}))?ua:g.mark[!1===b&&"color"];ua=b?"fill":"stroke";X=Object.assign({},p?{fill:Ua(p)}:{},O?{stroke:Ua(O)}:{});e.color&&(b?e.fill:e.stroke)&&J(vd("property",{fill:"fill"in e,stroke:"stroke"in e}));return Object.assign({},X,ad("color",a,{vgChannel:ua,defaultValue:b?p:O}),ad("fill",a,{defaultValue:f.fill?p:void 0}),ad("stroke",a,{defaultValue:f.stroke?
O:void 0}))}function Fd(a){const {encoding:b,mark:e}=a,f=b.order;return!Oa(e)&&ed(f)?ea(a,f,"zindex",g=>Ua(g.value)):{}}function ie(a){let {channel:b,markDef:e,encoding:f={},model:g,bandPosition:p}=a;a=`${b}Offset`;const B=e[a],O=f[a];return"xOffset"!==a&&"yOffset"!==a||!O?(a=e[a])?{offsetType:"visual",offset:a}:{}:{offsetType:"encoding",offset:id({channel:a,channelDef:O,markDef:e,config:null==g?void 0:g.config,scaleName:g.scaleName(a),scale:g.getScaleComponent(a),stack:null,defaultRef:Ua(B),bandPosition:p})}}
function se(a,b,e){let {defaultPos:f,vgChannel:g}=e;const {encoding:p,markDef:B,config:O,stack:X}=b;e=p[a];const ua=p[V(a)],cb=b.scaleName(a),pb=b.getScaleComponent(a),{offset:gc,offsetType:Mc}=ie({channel:a,markDef:B,encoding:p,model:b,bandPosition:.5}),kc=Le({model:b,defaultPos:f,channel:a,scaleName:cb,scale:pb});if(!e&&F(a)&&(p.latitude||p.longitude))b={field:b.getName(a)};else a:{b={channel:a,channelDef:e,channel2Def:ua,markDef:B,config:O,scaleName:cb,scale:pb,stack:X,offset:gc,defaultRef:kc,
bandPosition:"encoding"===Mc?0:void 0};const {channel:Lc,channelDef:Zc,scaleName:cd,stack:je,offset:Zd,markDef:Ce}=b;if(yc(Zc)&&je&&Lc===je.fieldChannel){if(Ga(Zc)&&(b=Zc.bandPosition,void 0!==b||"text"!==Ce.type||"radius"!==Lc&&"theta"!==Lc||(b=.5),void 0!==b)){b=Yc({scaleName:cd,fieldOrDatumDef:Zc,startSuffix:"start",bandPosition:b,offset:Zd});break a}b=Tc(Zc,cd,{suffix:"end"},{offset:Zd})}else b=Pc(b)}return b?{[g||a]:b}:void 0}function Le(a){let {model:b,defaultPos:e,channel:f,scaleName:g,scale:p}=
a;const {markDef:B,config:O}=b;return()=>{var X=P(f),ua=A(f);ua=Zb(f,B,O,{vgChannel:ua});if(void 0!==ua)return ld(f,ua);switch(e){case "zeroOrMin":case "zeroOrMax":if(g&&(ua=p.get("type"),!Cb([gg.LOG,gg.TIME,gg.UTC],ua)&&p.domainDefinitelyIncludesZero()))return{scale:g,value:0};if("zeroOrMin"===e)return"y"===X?{field:{group:"height"}}:{value:0};switch(X){case "radius":return{signal:`min(${b.width.signal},${b.height.signal})/2`};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};
case "y":return{value:0}}break;case "mid":return X=b[G(f)],Object.assign({},X,{mult:.5})}}}function rf(a,b,e){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"middle";if("radius"===a||"theta"===a)return A(a);var g="x"===a?"align":"baseline";const p=Zb(g,b,e);Nb(p)?(J(`The ${g} for range marks cannot be an expression`),g=void 0):g=p;return"x"===a?zj[g||("top"===f?"left":"center")]:xi[g||f]}function df(a,b,e){let {defaultPos:f,defaultPos2:g,range:p}=e;return p?$g(a,b,{defaultPos:f,defaultPos2:g}):
se(a,b,{defaultPos:f})}function $g(a,b,e){let {defaultPos:f,defaultPos2:g}=e;const {markDef:p,config:B}=b;var O=V(a);e=G(a);{const {encoding:gc,mark:Mc,markDef:kc,stack:Lc,config:Zc}=b;var X=P(O),ua=G(O);const cd=A(O);var cb=gc[X],pb=b.scaleName(X);const je=b.getScaleComponent(X);({offset:X}=O in gc||O in kc?ie({channel:O,markDef:kc,encoding:gc,model:b}):ie({channel:X,markDef:kc,encoding:gc,model:b}));if(cb||"x2"!==O&&"y2"!==O||!gc.latitude&&!gc.longitude){let {channel:Zd,channelDef:Ce,channel2Def:Pe,
markDef:Jf,config:Rf,scaleName:Kg,scale:We,stack:$f,offset:Xe,defaultRef:zh}={channel:O,channelDef:cb,channel2Def:gc[O],markDef:kc,config:Zc,scaleName:pb,scale:je,stack:Lc,offset:X,defaultRef:void 0};cb=yc(Ce)&&$f&&Zd.charAt(0)===$f.fieldChannel.charAt(0)?Tc(Ce,Kg,{suffix:"start"},{offset:Xe}):Pc({channel:Zd,channelDef:Pe,scaleName:Kg,scale:We,stack:$f,markDef:Jf,config:Rf,offset:Xe,defaultRef:zh});O=void 0!==cb?{[cd]:cb}:qe(O,kc)||qe(O,{[O]:Bc(O,kc,Zc.style),[ua]:Bc(ua,kc,Zc.style)})||qe(O,Zc[Mc])||
qe(O,Zc.mark)||{[cd]:Le({model:b,defaultPos:g,channel:O,scaleName:pb,scale:je})()}}else ua=G(O),pb=b.markDef[ua],O=null!=pb?{[ua]:{value:pb}}:{[cd]:{field:b.getName(O)}}}e=O[e]?rf(a,p,B):A(a);return Object.assign({},se(a,b,{defaultPos:f,vgChannel:e}),O)}function qe(a,b){const e=G(a),f=A(a);if(void 0!==b[f])return{[f]:ld(a,b[f])};if(void 0!==b[a])return{[f]:ld(a,b[a])};if(b[e])if(b=b[e],rc(b))J(`Position range does not support relative band size for ${e}.`);else return{[e]:ld(a,b)}}function Qe(a,b){const {config:e,
encoding:f,markDef:g}=a;var p=g.type,B=V(b),O=G(b),X=f[b];B=f[B];var ua=a.getScaleComponent(b);ua=ua?ua.get("type"):void 0;const cb=g.orient;var pb;let gc;const Mc=null!=(gc=null!=(pb=f[O])?pb:f.size)?gc:Zb("size",g,e,{vgChannel:O});O=x(b);p="bar"===p&&("x"===b?"vertical"===cb:"horizontal"===cb);if(!Ga(X)||!(vb(X.bin)||jb(X.bin)||X.timeUnit&&!B)||Mc&&!rc(Mc)||f[O]||ce(ua)){if((yc(X)&&ce(ua)||p)&&!B){var kc;{const {markDef:Pe,encoding:Jf,config:Rf,stack:Kg}=a;p=Pe.orient;var Lc=a.scaleName(b),Zc=a.getScaleComponent(b),
cd=G(b),je=V(b);B=x(b);B=a.scaleName(B);O=a.getScaleComponent(z(b));pb="horizontal"===p&&"y"===b||"vertical"===p&&"x"===b;if(Jf.size||Pe.size)pb?kc=ad("size",a,{vgChannel:cd,defaultRef:Ua(Pe.size)}):J(`Cannot apply size to non-oriented mark "${Pe.type}".`);ua=!!kc;var Zd;p=q({channel:b,fieldDef:X,markDef:Pe,config:Rf,scaleType:null==(Zd=Zc||O)?void 0:Zd.get("type"),useVlSizeChannel:pb});kc=kc||{[cd]:nh(cd,B||Lc,O||Zc,Rf,p,!!X,Pe.type)};var Ce;Zd="band"===(null==(Ce=Zc||O)?void 0:Ce.get("type"))&&
rc(p)&&!ua?"top":"middle";Ce=rf(b,Pe,Rf,Zd);Zd="xc"===Ce||"yc"===Ce;const {offset:We,offsetType:$f}=ie({channel:b,markDef:Pe,encoding:Jf,model:a,bandPosition:Zd?.5:0});a=Pc({channel:b,channelDef:X,markDef:Pe,config:Rf,scaleName:Lc,scale:Zc,stack:Kg,offset:We,defaultRef:Le({model:a,defaultPos:"mid",channel:b,scaleName:Lc,scale:Zc}),bandPosition:Zd?"encoding"===$f?0:.5:Nb(p)?{signal:`(1-${p})/2`}:rc(p)?(1-p.band)/2:0});cd?kc=Object.assign({},{[Ce]:a},kc):(b=A(je),kc=kc[cd],kc=We?Object.assign({},kc,
{offset:We}):kc,kc={[Ce]:a,[b]:h.isArray(a)?[a[0],Object.assign({},a[1],{offset:kc})]:Object.assign({},a,{offset:kc})})}return kc}return $g(b,a,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}a:{let {fieldDef:Pe,fieldDef2:Jf,channel:Rf,model:Kg}={fieldDef:X,fieldDef2:B,channel:b,model:a};const {config:We,markDef:$f,encoding:Xe}=Kg;a=Kg.getScaleComponent(Rf);kc=Kg.scaleName(Rf);b=a?a.get("type"):void 0;a=a.get("reverse");b=q({channel:Rf,fieldDef:Pe,markDef:$f,config:We,scaleType:b});Zd=null!=(Zc=
null==(Lc=null==(je=Kg.component.axes[Rf])?void 0:je[0])?void 0:Lc.get("translate"))?Zc:.5;Lc=F(Rf)?null!=(cd=Zb("binSpacing",$f,We))?cd:0:0;cd=V(Rf);X=A(Rf);Ce=A(cd);Zc=ic("minBandSize",$f,We);({offset:p}=ie({channel:Rf,markDef:$f,encoding:Xe,model:Kg,bandPosition:0}));({offset:B}=ie({channel:cd,markDef:$f,encoding:Xe,model:Kg,bandPosition:0}));let {scaleName:zh,fieldDef:il}={fieldDef:Pe,scaleName:kc};je=pc(il,{expr:"datum"});O=pc(il,{expr:"datum",suffix:"end"});O=`abs(scale("${zh}", ${O}) - scale("${zh}", ${je}))`;
je=ph(Rf,Lc,a,Zd,p,Zc,O);a=ph(cd,Lc,a,Zd,null!=B?B:p,Zc,O);b=Nb(b)?{signal:`(1-${b.signal})/2`}:rc(b)?(1-b.band)/2:.5;Zd=l({fieldDef:Pe,fieldDef2:Jf,markDef:$f,config:We});if(vb(Pe.bin)||Pe.timeUnit)Zd=Pe.timeUnit&&.5!==Zd,kc={[Ce]:wf({fieldDef:Pe,scaleName:kc,bandPosition:b,offset:a,useRectOffsetField:Zd}),[X]:wf({fieldDef:Pe,scaleName:kc,bandPosition:Nb(b)?{signal:`1-${b.signal}`}:1-b,offset:je,useRectOffsetField:Zd})};else{if(jb(Pe.bin)){a=Tc(Pe,kc,{},{offset:a});if(Ga(Jf)){kc={[Ce]:a,[X]:Tc(Jf,
kc,{},{offset:je})};break a}if(h.isObject(Pe.bin)&&Pe.bin.step){kc={[Ce]:a,[X]:{signal:`scale("${kc}", ${pc(Pe,{expr:"datum"})} + ${Pe.bin.step})`,offset:je}};break a}}J(y(cd));kc=void 0}}return kc}function nh(a,b,e,f,g,p,B){if(rc(g))if(e){const O=e.get("type");if("band"===O)return a=`bandwidth('${b}')`,1!==g.band&&(a=`${g.band} * ${a}`),f=ic("minBandSize",{type:B},f),{signal:f?`max(${Hb(f)}, ${a})`:a};1!==g.band&&J(`Cannot use the relative band size with ${O} scale.`)}else return{mult:g.band,field:{group:a}};
else{if(Nb(g))return g;if(g)return{value:g}}if(e&&(g=e.get("range"),Rb(g)&&h.isNumber(g.step)))return{value:g.step-2};if(!p){const {bandPaddingInner:O,barBandPaddingInner:X,rectBandPaddingInner:ua}=f.scale;B=T(O,"bar"===B?X:ua);if(Nb(B))return{signal:`(1 - (${B.signal})) * ${a}`};if(h.isNumber(B))return{signal:`${1-B} * ${a}`}}return{value:Yf(f.view,a)-2}}function ph(a,b,e,f,g,p,B){if(a in fk)return 0;b=(a="x"===a||"y2"===a)?-b/2:b/2;if(Nb(e)||Nb(g)||Nb(f)||p){e=Hb(e);g=Hb(g);f=Hb(f);const O=Hb(p);
p=p?`(${B} < ${O} ? ${a?"":"-"}0.5 * (${O} - (${B})) : ${b})`:b;return{signal:(f?`${f} + `:"")+(e?`(${e} ? -1 : 1) * `:"")+(g?`(${g} + ${p})`:p)}}g=g||0;return f+(e?-g-b:+g+b)}function wf(a){let {fieldDef:b,scaleName:e,bandPosition:f,offset:g,useRectOffsetField:p}=a;return Yc(Object.assign({},{scaleName:e,fieldOrDatumDef:b,bandPosition:f,offset:g},p?{startSuffix:"offsetted_rect_start",endSuffix:"offsetted_rect_end"}:{}))}function zf(a,b){const {fill:e,stroke:f}="include"===b.color?Wc(a):{};var g=
Object,p=g.assign;b=kh(a.markDef,b);var B=yg(a,"fill",e),O=yg(a,"stroke",f),X=ad("opacity",a),ua=ad("fillOpacity",a),cb=ad("strokeOpacity",a),pb=ad("strokeWidth",a),gc=ad("strokeDash",a),Mc=Fd(a),kc=Pb(a),Lc=ta(a,"href");{const {markDef:Zd,config:Ce}=a,Pe=Zb("aria",Zd,Ce);if(!1===Pe)a={};else{var Zc=Object,cd=Zc.assign;{const {mark:Jf,markDef:Rf,config:Kg}=a;if(!1===Kg.aria)var je={};else je=Zb("ariaRoleDescription",Rf,Kg),je=null!=je?{ariaRoleDescription:{value:je}}:Jf in bm?{}:{ariaRoleDescription:{value:Jf}}}a=
cd.call(Zc,{},Pe?{aria:Pe}:{},je,fc(a))}}return p.call(g,{},b,B,O,X,ua,cb,pb,gc,Mc,kc,Lc,a)}function yg(a,b,e){const {config:f,mark:g,markDef:p}=a;return"hide"===Zb("invalid",p,f)&&e&&!Oa(g)&&(a=Df(a,{invalid:!0,channels:Bk}))?{[b]:[{test:a,value:null},...h.array(e)]}:e?{[b]:e}:{}}function kh(a,b){return $k.reduce((e,f)=>{pk.has(f)||void 0===a[f]||"ignore"===b[f]||(e[f]=Ua(a[f]));return e},{})}function Df(a,b){let {invalid:e=!1,channels:f}=b;b=f.reduce((g,p)=>{var B=a.getScaleComponent(p);B&&(B=B.get("type"),
(p=a.vgField(p,{expr:"datum"}))&&Kd(B)&&(g[p]=!0));return g},{});b=sd(b);if(0<b.length){const g=e?"||":"\x26\x26";return b.map(p=>Hc(p,e)).join(` ${g} `)}}function qf(a){const {config:b,markDef:e}=a;return Zb("invalid",e,b)&&(a=Jg(a,{channels:Ph}))?{defined:{signal:a}}:{}}function Jg(a,b){let {invalid:e=!1,channels:f}=b;b=f.reduce((g,p)=>{var B=a.getScaleComponent(p);if(B){B=B.get("type");let O;(p=a.vgField(p,{expr:"datum",binSuffix:(null==(O=a.stack)?0:O.impute)?"mid":void 0}))&&Kd(B)&&(g[p]=!0)}return g},
{});b=sd(b);if(0<b.length){const g=e?"||":"\x26\x26";return b.map(p=>Hc(p,e)).join(` ${g} `)}}function hg(a,b){if(void 0!==b)return{[a]:Ua(b)}}function Eh(a,b,e,f,g){var p=b.name,B=p+"_translate_anchor";p+="_translate_delta";var O=e.channel;const X=Uh.defined(b);b=g.filter(Mc=>Mc.name===e.signals[X?"data":"visual"])[0];f=a.getSizeSignalRef(f).signal;g=(a=a.getScaleComponent(O))&&a.get("type");var ua=a&&a.get("reverse");B=`${B}.extent_${O}`;O=`${X?"x"===O?ua?"":"-":ua?"-":"":""}${p}.${O} / ${X?`${f}`:
`span(${B})`}`;ua=X&&a?"log"===g?"panLog":"symlog"===g?"panSymlog":"pow"===g?"panPow":"panLinear":"panLinear";var cb;let pb;const gc=X?"pow"===g?`, ${null!=(cb=a.get("exponent"))?cb:1}`:"symlog"===g?`, ${null!=(pb=a.get("constant"))?pb:1}`:"":"";cb=`${ua}(${B}, ${O}${gc})`;b.on.push({events:{signal:p},update:X?cb:`clampRange(${cb}, 0, ${f})`})}function gi(a,b,e,f,g){var p=b.name,B=e.channel;const O=Uh.defined(b);b=g.filter(Mc=>Mc.name===e.signals[O?"data":"visual"])[0];f=a.getSizeSignalRef(f).signal;
const X=(g=a.getScaleComponent(B))&&g.get("type"),ua=O?dc(a,B):b.name;a=p+"_zoom_delta";p=`${p}${"_zoom_anchor"}.${B}`;B=O&&g?"log"===X?"zoomLog":"symlog"===X?"zoomSymlog":"pow"===X?"zoomPow":"zoomLinear":"zoomLinear";var cb;let pb;const gc=O?"pow"===X?`, ${null!=(cb=g.get("exponent"))?cb:1}`:"symlog"===X?`, ${null!=(pb=g.get("constant"))?pb:1}`:"":"";cb=`${B}(${ua}, ${p}, ${a}${gc})`;b.on.push({events:{signal:a},update:O?cb:`clampRange(${cb}, 0, ${f})`})}function cg(a){var {escape:b}=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:{escape:!0};b=b?h.stringValue(a.name):a.name;var e;for(e=a.parent;e&&!gh(e);)e=e.parent;if(e){const {facet:f}=e;for(const g of qh)f[g]&&(b+=` + '__facet_${g}_' + (facet[${h.stringValue(e.vgField(g))}])`)}return b}function Af(a){let b;return kg(null!=(b=a.component.selection)?b:{}).reduce((e,f)=>e||f.project.hasSelectionId,!1)}function Cg(a,b){!h.isString(b.select)&&b.select.on||delete a.events;!h.isString(b.select)&&b.select.clear||delete a.clear;!h.isString(b.select)&&
b.select.toggle||delete a.toggle}function Ki(a){const b=[];if("Identifier"===a.type)return[a.name];if("Literal"===a.type)return[a.value];"MemberExpression"===a.type&&(b.push(...Ki(a.object)),b.push(...Ki(a.property)));return b}function rj(a){return"MemberExpression"===a.object.type?rj(a.object):"datum"===a.object.name}function sj(a){a=h.parseExpression(a);const b=new Set;a.visit(e=>{"MemberExpression"===e.type&&rj(e)&&b.add(Ki(e).slice(1).join("."))});return b}function vk(a,b,e){var f=3<arguments.length&&
void 0!==arguments[3]?arguments[3]:"datum",g=h.isString(b)?b:b.param,p=ra(g),B=h.stringValue(p+"_store");try{var O=a.getSelectionComponent(p,g)}catch(X){return`!!${p}`}O.project.timeUnit&&(g=null!=e?e:a.component.data.raw,p=O.project.timeUnit.clone(),g.parent?p.insertAsParentOf(g):g.parent=p);g=O.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(";O="global"===O.resolve?")":`, ${h.stringValue(O.resolve)})`;f=`${g}${B}, ${f}${O}`;B=`length(data(${B}))`;return!1===b.empty?`${B} && ${f}`:
`!${B} || ${f}`}function ej(a,b,e){const f=ra(b),g=e.encoding;let p=e.field,B;try{B=a.getSelectionComponent(f,b)}catch(O){return f}g||p?g&&!p&&(a=B.project.items.filter(O=>O.channel===g),!a.length||1<a.length?(p=B.project.items[0].field,J((a.length?"Multiple ":"No ")+`matching ${h.stringValue(g)} encoding found for selection ${h.stringValue(e.param)}. `+`Using "field": ${h.stringValue(p)}.`)):p=a[0].field):(p=B.project.items[0].field,1<B.project.items.length&&J('A "field" or "encoding" must be specified when using a selection as a scale domain. '+
`Using "field": ${h.stringValue(p)}.`));return`${B.name}[${h.stringValue(bb(p))}]`}function Zf(a,b,e){return fa(b,f=>h.isString(f)?f:(null==f?0:f.param)?vk(a,f,e):Ib(f))}function wk(a,b){if(a)return h.isArray(a)&&!$b(a)?a.map(e=>Cf(e,b)).join(", "):a}function Cj(a,b,e,f){null!=a.encode||(a.encode={});let g;null!=(g=a.encode)[b]||(g[b]={});let p;null!=(p=a.encode[b]).update||(p.update={});a.encode[b].update[e]=f}function fh(a,b,e){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{header:!1},
g=a.combine(),p=Object.assign({},g),B=g.disable;const O=g.orient,X=g.scale;var ua=g.labelExpr;const cb=g.title;g=g.zindex;p=(delete p.disable,delete p.orient,delete p.scale,delete p.labelExpr,delete p.title,delete p.zindex,p);if(!B){for(const gc in p){var pb=Zi[gc];B=p[gc];if(pb&&pb!==b&&"both"!==pb)delete p[gc];else if(Vf(B)){pb=B;B=Object.assign({},pb);pb=pb.condition;B=(delete B.condition,B);pb=h.array(pb);const Mc=Nj[gc];if(Mc){const {vgProp:kc,part:Lc}=Mc;B=[...pb.map(Zc=>{var cd=Object.assign({},
Zc);Zc=Zc.test;cd=(delete cd.test,cd);return Object.assign({},{test:Zf(null,Zc)},cd)}),B];Cj(p,Lc,kc,B);delete p[gc]}else null===Mc&&(B={signal:pb.map(kc=>{var Lc=Object.assign({},kc);kc=kc.test;Lc=(delete Lc.test,Lc);return`${Zf(null,kc)} ? ${yb(Lc)} : `}).join("")+yb(B)},p[gc]=B)}else if(Nb(B)&&(pb=Nj[gc])){const {vgProp:Mc,part:kc}=pb;Cj(p,kc,Mc,B);delete p[gc]}Cb(["labelAlign","labelBaseline"],gc)&&null===p[gc]&&delete p[gc]}if("grid"===b){if(p.grid)return p.encode&&({grid:ua}=p.encode,p.encode=
Object.assign({},ua?{grid:ua}:{}),hb(p.encode)&&delete p.encode),Object.assign({},{scale:X,orient:O},p,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:T(g,0)})}else if(f.header||!a.mainExtracted){if(void 0!==ua){f=ua;let gc,Mc;(null==(gc=p.encode)?0:null==(Mc=gc.labels)?0:Mc.update)&&Nb(p.encode.labels.update.text)&&(f=tb(ua,"datum.label",p.encode.labels.update.text.signal));Cj(p,"labels","text",{signal:f})}null===p.labelAlign&&delete p.labelAlign;if(p.encode){for(const gc of nk)a.hasAxisPart(gc)||
delete p.encode[gc];hb(p.encode)&&delete p.encode}ua=wk(cb,e);return Object.assign({},{scale:X,orient:O,grid:!1},ua?{title:ua}:{},p,!1===e.aria?{aria:!1}:{},{zindex:T(g,0)})}}}function Oi(a){const {axes:b}=a.component,e=[];for(const f of Ph)if(b[f])for(const g of b[f])if(!g.get("disable")&&!g.get("gridScale")){const p="x"===f?"height":"width",B=a.getSizeSignalRef(p).signal;p!==B&&e.push({name:p,update:B})}return e}function Uj(a,b){const {x:e=[],y:f=[]}=a;return[...e.map(g=>fh(g,"grid",b)),...f.map(g=>
fh(g,"grid",b)),...e.map(g=>fh(g,"main",b)),...f.map(g=>fh(g,"main",b))].filter(g=>g)}function Dj(a,b,e,f){return Object.assign.apply(null,[{},...a.map(g=>{if("axisOrient"===g){g="x"===e?"bottom":"left";const p=b["x"===e?"axisBottom":"axisLeft"]||{},B=b["x"===e?"axisTop":"axisRight"]||{},O=new Set([...sd(p),...sd(B)]),X={};for(const ua of O.values())X[ua]={signal:`${f.signal} === "${g}" ? ${Hb(p[ua])} : ${Hb(B[ua])}`};return X}return b[g]})])}function cl(a,b,e,f){var g="band"===b?["axisDiscrete",
"axisBand"]:"point"===b?["axisDiscrete","axisPoint"]:ni.has(b)?["axisQuantitative"]:"time"===b||"utc"===b?["axisTemporal"]:[];const p="x"===a?"axisX":"axisY";b=Nb(e)?"axisOrient":`axis${Ra(e)}`;g=[...g,...g.map(B=>p+B.substr(4))];b=["axis",b,p];return{vlOnlyAxisConfig:Dj(g,f,a,e),vgAxisConfig:Dj(b,f,a,e),axisConfigStyle:Pi([...b,...g],f)}}function Pi(a,b){const e=[{}];for(const f of a){let g;if(a=null==(g=b[f])?void 0:g.style){a=h.array(a);for(const p of a)e.push(b.style[p])}}return Object.assign.apply(null,
e)}function zi(a,b,e){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const g=jd(a,e,b);if(void 0!==g)return{configFrom:"style",configValue:g};for(const p of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){let B;if(void 0!==(null==(B=f[p])?void 0:B[a]))return{configFrom:p,configValue:f[p][a]}}return{}}function Vj(a,b,e,f,g){const p=null==b?void 0:b.labelAngle;if(void 0!==p)return Nb(p)?p:La(p);({configValue:b}=zi("labelAngle",f,null==b?void 0:b.style,g));if(void 0!==b)return La(b);
if("x"===e&&Cb(["nominal","ordinal"],a.type)&&(!Ga(a)||!a.timeUnit))return 270}function Qi(a){return`(((${a.signal} % 360) + 360) % 360)`}function Wj(a,b,e,f){if(void 0!==a)return"x"===e?Nb(a)?(f=Qi(a),b=Nb(b)?`(${b.signal} === "top")`:"top"===b,{signal:`(45 < ${f} && ${f} < 135) || (225 < ${f} && ${f} < 315) ? "middle" :`+`(${f} <= 45 || 315 <= ${f}) === ${b} ? "bottom" : "top"`}):45<a&&135>a||225<a&&315>a?"middle":Nb(b)?{signal:`${b.signal} ${45>=a||315<=a?"\x3d\x3d\x3d":"!\x3d\x3d"} "top" ? "bottom" : "top"`}:
(45>=a||315<=a)===("top"===b)?"bottom":"top":Nb(a)?(a=Qi(a),b=Nb(b)?`(${b.signal} === "left")`:"left"===b,{signal:`${a} <= 45 || 315 <= ${a} || (135 <= ${a} && ${a} <= 225) ? ${f?'"middle"':"null"} : (45 <= ${a} && ${a} <= 135) === ${b} ? "top" : "bottom"`}):45>=a||315<=a||135<=a&&225>=a?f?"middle":null:Nb(b)?{signal:`${b.signal} ${45<=a&&135>=a?"\x3d\x3d\x3d":"!\x3d\x3d"} "left" ? "top" : "bottom"`}:(45<=a&&135>=a)===("left"===b)?"top":"bottom"}function xk(a,b,e){if(void 0!==a){var f=(e="x"===e)?
0:90,g=e?"bottom":"left";return Nb(a)?(a=Qi(a),b=Nb(b)?`(${b.signal} === "${g}")`:b===g,{signal:`(${f?`(${a} + 90)`:a} % 180 === 0) ? ${e?null:'"center"'} :`+`(${f} < ${a} && ${a} < ${180+f}) === ${b} ? "left" : "right"`}):0===(a+f)%180?e?null:"center":Nb(b)?{signal:`${`${b.signal} ${f<a&&a<180+f?"\x3d\x3d\x3d":"!\x3d\x3d"} "${g}"`} ? "left" : "right"`}:(f<a&&a<180+f)===(b===g)?"left":"right"}}function fj(a,b){var e="x"===b?"x2":"y2";b=a.fieldDef(b);a=a.fieldDef(e);e=b?b.title:void 0;a=a?a.title:
void 0;if(e&&a)return Ha(e,a);if(e)return e;if(a)return a;if(void 0!==e)return e;if(void 0!==a)return a}function Ri(a,b,e){return pc(a,Object.assign({},{prefix:b,suffix:"sort_index"},null!=e?e:{}))}function Ag(a,b){return Cb(["top","bottom"],b)?"column":Cb(["left","right"],b)?"row":"row"===a?"row":"column"}function hi(a,b,e,f){return T((b||{})[a],("row"===f?e.headerRow:"column"===f?e.headerColumn:e.headerFacet)[a],e.header[a])}function Wh(a,b,e,f){const g={};for(const p of a)a=hi(p,b||{},e,f),void 0!==
a&&(g[p]=a);return g}function Lh(a,b){switch(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"middle"){case "start":return{align:"left"};case "end":return{align:"right"}}const e=xk(b,"row"===a?"left":"top","row"===a?"y":"x");return e?{align:e}:{}}function hj(a,b){return(a=Wj(a,"row"===b?"left":"top","row"===b?"y":"x",!0))?{baseline:a}:{}}function jj(a,b,e){const {format:f,formatType:g,labelAngle:p,labelAnchor:B,labelOrient:O,labelExpr:X}=Wh("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),
a.header,e,b),ua=Re({fieldOrDatumDef:a,format:f,formatType:g,expr:"parent",config:e}).signal,cb=Ag(b,O);return Object.assign({},{text:{signal:X?tb(tb(X,"datum.label",ua),"datum.value",pc(a,{expr:"parent"})):ua}},"row"===b?{orient:"left"}:{},{style:"guide-label",frame:"group"},hj(p,cb),Lh(cb,p,B),Hj(e,a,b,Yl,tl))}function Hj(a,b,e,f,g){const p={};for(const B of f){if(!g[B])continue;let O;f=hi(B,null==(O=b)?void 0:O.header,a,e);void 0!==f&&(p[g[B]]=f)}return p}function ij(a){return[...ag(a,"width"),
...ag(a,"height"),...ag(a,"childWidth"),...ag(a,"childHeight")]}function ag(a,b){var e="width"===b?"x":"y",f=a.component.layoutSize.get(b);if(!f||"merged"===f)return[];b=a.getSizeSignalRef(b).signal;if("step"===f){if(f=a.getScaleComponent(e)){var g=f.get("type");const p=f.get("range");if(ce(g)&&Rb(p))return g=a.scaleName(e),gh(a.parent)&&"independent"===a.parent.component.resolve.scale[e]?[Si(g,p)]:[Si(g,p),{name:b,update:xh(g,f,`domain('${g}').length`)}]}throw Error("layout size is step although width/height is not step.");
}return"container"==f?(e=(f=b.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",a=pf(a.config.view,f?"width":"height"),a=`isFinite(${e}) ? ${e} : ${a}`,[{name:b,init:a,on:[{update:a,events:"window:resize"}]}]):[{name:b,value:f}]}function Si(a,b){a=`${a}_step`;return Nb(b.step)?{name:a,update:b.step.signal}:{name:a,value:b.step}}function xh(a,b,e){const f=b.get("type"),g=b.get("padding"),p=T(b.get("paddingOuter"),g);b=b.get("paddingInner");return`bandspace(${e}, ${Hb("band"===f?void 0!==
b?b:g:1)}, ${Hb(p)}) * ${a}_step`}function Xi(a){return"childWidth"===a?"width":"childHeight"===a?"height":a}function ji(a,b){return sd(a).reduce((e,f)=>Object.assign({},e,ea(b,a[f],f,g=>Ua(g.value))),{})}function ii(a,b){if(gh(b))return"theta"===a?"independent":"shared";if(Ti(b))return"shared";if(Tk(b))return F(a)||"theta"===a||"radius"===a?"independent":"shared";throw Error("invalid model type for resolve");}function n(a,b){const e=a.scale[b],f=F(b)?"axis":"legend";return"independent"===e?("shared"===
a[f][b]&&J(`Setting the scale to be independent for "${b}" means we also have to set the guide (axis or legend) to be independent.`),"independent"):a[f][b]||"shared"}function H(a){return ka(a,(b,e)=>Math.max(b,e.value))}function M(a){return ka(a,(b,e)=>T(b,e.value))}function ka(a,b){const e=null==a?void 0:a.condition;if(e&&(h.isArray(e)||ed(e)))return h.array(a.condition).reduce(b,a.value);if(ed(a))return a.value}function Va(a,b,e){a=b.get("selections");if(null!=a&&a.length){var f=h.stringValue(e.field);
return a.map(g=>`(!length(data(${h.stringValue(ra(g)+"_store")})) || (${g}[${f}] && indexof(${g}[${f}], datum.value) >= 0))`).join(" || ")}}function db(a,b,e,f){return{signal:`clamp(${a.getSizeSignalRef(b).signal}, ${e}, ${f})`}}function rb(a){if(Lf(a)){var {encoding:b}=a,e={};for(Zc of["color",...bh]){var f=Fe(b[Zc]);if(f&&a.getScaleComponent(Zc)&&("shape"!==Zc||!Ga(f)||"geojson"!==f.type)){a:{var g=void 0,p=void 0,B=void 0,O=void 0,X=void 0,ua,cb=ua=void 0,pb=void 0;f=a;var gc=Zc;let cd=f.legend(gc);
const {markDef:je,encoding:Zd,config:Ce}=f;var Mc=Ce.legend;b:{var kc=f;var Lc=gc;O=kc.scaleName(Lc);if("trail"===kc.mark){if("color"===Lc){kc={stroke:O};break b}if("size"===Lc){kc={strokeWidth:O};break b}}kc="color"===Lc?kc.markDef.filled?{fill:O}:{stroke:O}:{[Lc]:O}}kc=new Ml({},kc);Lc=null==(pb=f.fieldDef(gc))?void 0:pb.field;for(const We of kg(null!=(cb=f.component.selection)?cb:{})){let $f;if((cb=null!=($f=We.project.hasField[Lc])?$f:We.project.hasChannel[gc])&&yi.defined(We)){let Xe;pb=null!=
(Xe=kc.get("selections"))?Xe:[];pb.push(We.name);kc.set("selections",pb,!1);cb.hasLegend=!0}}cb=void 0!==cd?!cd:Mc.disable;kc.set("disable",cb,void 0!==cd);if(cb){f=kc;break a}cd=cd||{};pb=f.getScaleComponent(gc).get("type");cb=Fe(Zd[gc]);O=Ga(cb)?null==(ua=nd(cb.timeUnit))?void 0:ua.unit:void 0;Lc=cd.orient||Ce.legend.orient||"right";ua={legend:cd,channel:gc,timeUnit:O,scaleType:pb};({legend:O}=ua);O=O.type;b:{let {channel:We,timeUnit:$f,scaleType:Xe}=ua;if(L(We)){if(Cb(["quarter","month","day"],
$f)){ua="symbol";break b}if(lg.has(Xe)){ua="gradient";break b}}ua="symbol"}ua=T(O,ua);let {legendConfig:Pe,legendType:Jf,orient:Rf,legend:Kg}={legend:cd,legendType:ua,orient:Lc,legendConfig:Mc};if(null!=(O=null!=(X=Kg.direction)?X:Pe[Jf?"gradientDirection":"symbolDirection"]))X=O;else b:{switch(Rf){case "top":case "bottom":X="horizontal";break b;case "left":case "right":case "none":case void 0:break;default:X="gradient"===Jf?"horizontal":void 0;break b}X=void 0}Mc={legend:cd,channel:gc,model:f,markDef:je,
encoding:Zd,fieldOrDatumDef:cb,legendConfig:Mc,config:Ce,scaleType:pb,orient:Lc,legendType:ua,direction:X};for(const We of Fk)if(!("gradient"===ua&&We.startsWith("symbol")||"symbol"===ua&&We.startsWith("gradient"))&&(X=We in ll?ll[We](Mc):cd[We],void 0!==X)){b:{pb=O=void 0;Lc=f.fieldDef(gc);switch(We){case "disable":Lc=void 0!==cd;break b;case "values":Lc=!(null==(pb=cd)||!pb.values);break b;case "title":if("title"===We&&X===(null==(O=Lc)?void 0:O.title)){Lc=!0;break b}}Lc=X===(cd||{})[We]}((pb=Lc)||
void 0===Ce.legend[We])&&kc.set(We,X,pb)}Mc=null!=(p=null==(B=cd)?void 0:B.encoding)?p:{};p=kc.get("selections");B={};gc={fieldOrDatumDef:cb,model:f,channel:gc,legendCmpt:kc,legendType:ua};for(const We of"labels legend title symbols gradient entries".split(" ")){let $f;X=ji(null!=($f=Mc[We])?$f:{},f);X=We in Fl?Fl[We](X,gc):X;if(void 0!==X&&!hb(X)){let Xe,zh;B[We]=Object.assign({},(null==(Xe=p)?0:Xe.length)&&Ga(cb)?{name:`${ra(cb.field)}_legend_${We}`}:{},(null==(zh=p)?0:zh.length)?{interactive:!!p}:
{},{update:X})}}hb(B)||kc.set("encode",B,!(null==(g=cd)||!g.encoding));f=kc}e[Zc]=f}}var Zc=e}else{const {legends:cd,resolve:je}=a.component;for(b of a.children){rb(b);for(e of sd(b.component.legends))je.legend[e]=n(a.component.resolve,e),"shared"===je.legend[e]&&(cd[e]=Lb(cd[e],b.component.legends[e]),cd[e]||(je.legend[e]="independent",delete cd[e]))}for(f of sd(cd))for(g of a.children)g.component.legends[f]&&"shared"===je.legend[f]&&delete g.component.legends[f];Zc=cd}return a.component.legends=
Zc}function Lb(a,b){if(!a)return b.clone();var e=a.getWithExplicit("orient");const f=b.getWithExplicit("orient");if(!e.explicit||!f.explicit||e.value===f.value){var g=!1;for(const p of Fk)e=xf(a.getWithExplicit(p),b.getWithExplicit(p),p,"legend",(B,O)=>{switch(p){case "symbolType":return B="circle"===O.value?O:B,B;case "title":return gb(B,O);case "type":return g=!0,Te("symbol")}return Mg(B,O,p,"legend")}),a.setWithExplicit(p,e);if(g){let p,B;(null==(p=a.implicit)?0:null==(B=p.encode)?0:B.gradient)&&
za(a.implicit,["encode","gradient"]);let O,X;(null==(O=a.explicit)?0:null==(X=O.encode)?0:X.gradient)&&za(a.explicit,["encode","gradient"])}return a}}function tc(a){const b=a.component.legends,e={};for(const g of sd(b)){var f=a.getScaleComponent(g);f=m(f.get("domains"));if(e[f])for(const p of e[f])Lb(p,b[g])||e[f].push(b[g]);else e[f]=[b[g].clone()]}return kg(e).flat().map(g=>{{var p=a.config,B=g.combine();g=Object.assign({},B);const gc=B.disable;B=B.labelExpr;g=(delete g.disable,delete g.labelExpr,
delete g.selections,g);if(gc)var O=void 0;else{!1===p.aria&&void 0==g.aria&&(g.aria=!1);var X;if(null==(X=g.encode)?0:X.symbols){p=g.encode.symbols.update;!p.fill||"transparent"===p.fill.value||p.stroke||g.stroke||(p.stroke={value:"transparent"});for(var ua of bh)g[ua]&&delete p[ua]}g.title||delete g.title;if(void 0!==B){ua=B;var cb,pb;(null==(cb=g.encode)?0:null==(pb=cb.labels)?0:pb.update)&&Nb(g.encode.labels.update.text)&&(ua=tb(B,"datum.label",g.encode.labels.update.text.signal));cb=g;pb={signal:ua};
null!=cb.encode||(cb.encode={});null!=(O=cb.encode).labels||(O.labels={});let Mc;null!=(Mc=cb.encode.labels).update||(Mc.update={});cb.encode.labels.update.text=pb}O=g}}return O}).filter(g=>void 0!==g)}function bd(a){return a.children.reduce((b,e)=>b.concat(e.assembleProjections()),md(a))}function md(a){var b=a.component.projection;if(!b||b.merged)return[];const e=b.combine(),{name:f}=e;if(b.data){const g={signal:`[${b.size.map(p=>p.signal).join(", ")}]`};b=b.data.reduce((p,B)=>{B=Nb(B)?B.signal:
`data('${a.lookupDataSource(B)}')`;p.includes(B)||p.push(B);return p},[]);if(0>=b.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:f,size:g,fit:{signal:1<b.length?`[${b.join(", ")}]`:b[0]}},e)]}return[Object.assign({},{name:f},{translate:{signal:"[width / 2, height / 2]"}},e)]}function sc(a){var b=a.component;if(Lf(a))if(a.hasProjection){var e=Mb(a.specifiedProjection);var f=!(e&&(null!=e.scale||null!=e.translate));const p=f?[a.getSizeSignalRef("width"),
a.getSizeSignalRef("height")]:void 0;if(f){f=[];const {encoding:O}=a;for(g of[["longitude","latitude"],["longitude2","latitude2"]])(Fe(O[g[0]])||Fe(O[g[1]]))&&f.push({signal:a.getName(`geojson_${f.length}`)});a.channelHasField("shape")&&"geojson"===a.typedFieldDef("shape").type&&f.push({signal:a.getName(`geojson_${f.length}`)});0===f.length&&f.push(a.requestDataName(nf.Main));var g=f}else g=void 0;let B;a=new Fj(a.projectionName(!0),Object.assign({},null!=(B=Mb(a.config.projection))?B:{},null!=e?
e:{}),p,g);a.get("type")||a.set("type","equalEarth",!1);e=a}else e=void 0;else e=Xd(a);b.projection=e}function zd(a,b){const e=jc(lm,f=>!h.hasOwnProperty(a.explicit,f)&&!h.hasOwnProperty(b.explicit,f)||h.hasOwnProperty(a.explicit,f)&&h.hasOwnProperty(b.explicit,f)&&pa(a.get(f),b.get(f))?!0:!1);if(pa(a.size,b.size)){if(e)return a;if(pa(a.explicit,{}))return b;if(pa(b.explicit,{}))return a}return null}function Xd(a){if(0!==a.children.length){var b;for(var e of a.children)sc(e);e=jc(a.children,f=>{if(f=
f.component.projection){if(b)return(f=zd(b,f))&&(b=f),!!f;b=f}return!0});if(b&&e){e=a.projectionName(!0);const f=new Fj(e,b.specifiedProjection,b.size,De(b.data));for(const g of a.children)if(a=g.component.projection)a.isFit&&f.data.push(...g.component.projection.data),g.renameProjection(a.get("name"),e),a.merged=!0;return f}}}function xe(a,b,e){let f;e=null!=(f=ve(e,void 0))?f:{};b=`${Ya(e)}_${b}`;return a.getName(`${b}_bins`)}function Rd(a,b,e){let f;f="as"in a?h.isString(a.as)?[a.as,`${a.as}_end`]:
[a.as[0],a.as[1]]:[pc(a,{forAs:!0}),pc(a,{binSuffix:"end",forAs:!0})];b=Object.assign({},ve(b,void 0));var g=a.field;g=`${Ya(b)}_${g}`;var p={signal:e.getName(`${g}_bins`),extentSignal:e.getName(`${g}_extent`)};const {signal:B,extentSignal:O}=p;if(Ub(b.extent)){var X=b.extent;X=ej(e,X.param,X);delete b.extent}a=Object.assign({},{bin:b,field:a.field,as:[f]},B?{signal:B}:{},O?{extentSignal:O}:{},X?{span:X}:{});return{key:g,binComponent:a}}function Ue(a){return a.startsWith("'")&&a.endsWith("'")||a.startsWith('"')&&
a.endsWith('"')?a.slice(1,-1):a}function Ef(a,b){a=Xa(a);if("number"===b)return`toNumber(${a})`;if("boolean"===b)return`toBoolean(${a})`;if("string"===b)return`toString(${a})`;if("date"===b)return`toDate(${a})`;if("flatten"===b)return a;if(b.startsWith("date:"))return b=Ue(b.slice(5,b.length)),`timeParse(${a},'${b}')`;if(b.startsWith("utc:"))return b=Ue(b.slice(4,b.length)),`utcParse(${a},'${b}')`;J(`Unrecognized parse "${b}".`);return null}function tg(a){const b={};ia(a.filter,e=>{if(fb(e)){let f=
null;if(Ie(e))f=qa(e.equal);else if(tf(e))f=qa(e.lte);else if(Je(e))f=qa(e.lt);else if(bf(e))f=qa(e.gt);else if(E(e))f=qa(e.gte);else if(aa(e))f=e.range[0];else if(Fa(e)){let g;f=(null!=(g=e.oneOf)?g:e["in"])[0]}f&&(Ka(f)?b[e.field]="date":h.isNumber(f)?b[e.field]="number":h.isString(f)&&(b[e.field]="string"));e.timeUnit&&(b[e.field]="date")}});return b}function ug(a){function b(f){if(lf(f))e[f.field]="date";else{var g;if(g="quantitative"===f.type)g=f.aggregate,g=h.isString(g)&&Cb(["min","max"],g);
g?e[f.field]="number":1<eb(f.field)?f.field in e||(e[f.field]="flatten"):Td(f)&&ue(f.sort)&&1<eb(f.sort.field)&&(f.sort.field in e||(e[f.sort.field]="flatten"))}}const e={};(Lf(a)||gh(a))&&a.forEachFieldDef((f,g)=>{Rc(f)?b(f):(g=P(g),g=a.fieldDef(g),b(Object.assign({},f,{type:g.type})))});if(Lf(a)){const {mark:f,markDef:g,encoding:p}=a;if(Oa(f)&&!a.encoding.order){const B=p["horizontal"===g.orient?"y":"x"];!Ga(B)||"quantitative"!==B.type||B.field in e||(e[B.field]="number")}}return e}function zg(a){return a instanceof
da||a instanceof v||a instanceof R}function Kf(a){return a.stack.stackBy.reduce((b,e)=>{(e=pc(e.fieldDef))&&b.push(e);return b},[])}function ye(a){return h.isArray(a)&&a.every(b=>h.isString(b))&&1<a.length}function yf(a){function b(e){if(!(e instanceof c)){const f=e.clone();if(f instanceof Qg){const g="scale_"+f.getSource();f.setSource(g);a.model.component.data.outputNodes[g]=f}else(f instanceof yh||f instanceof pe||f instanceof te||f instanceof be)&&f.addDimensions(a.fields);for(const g of e.children.flatMap(b))g.parent=
f;return[f]}return e.children.flatMap(b)}return b}function Xh(a){if(a instanceof c)if(1!==a.numChildren()||a.children[0]instanceof Qg){var b=a.model.component.data.main;Wd(b);const e=yf(a);a=a.children.map(e).flat();for(const f of a)f.parent=b}else b=a.children[0],(b instanceof yh||b instanceof pe||b instanceof te||b instanceof be)&&b.addDimensions(a.fields),b.swapWithParent(),Xh(a);else a.children.map(Xh)}function Wd(a){if(a instanceof Qg&&a.type===nf.Main&&1===a.numChildren()){const b=a.children[0];
b instanceof c||(b.swapWithParent(),Wd(a))}}function wd(a){for(const b of a){for(const e of b.children)if(e.parent!==b)return!1;if(!wd(b.children))return!1}return!0}function Od(a,b){let e=!1;for(const f of b)e=a.optimize(f)||e;return e}function Ed(a,b,e){let f=a.sources,g=!1;g=Od(new Sd,f)||g;g=Od(new yd(b),f)||g;f=f.filter(p=>0<p.numChildren());g=Od(new bg,f)||g;f=f.filter(p=>0<p.numChildren());e||(g=Od(new de,f)||g,g=Od(new Qc(b),f)||g,g=Od(new td,f)||g,g=Od(new ke,f)||g,g=Od(new uc,f)||g,g=Od(new Ic,
f)||g,g=Od(new ud,f)||g,g=Od(new Gd,f)||g);a.sources=f;return g}function af(a){const b=a.component.scales;for(const ua of sd(b)){var e=a,f=ua,g=e.getScaleComponent(f).get("type"),{encoding:p}=e;var B=e.scaleDomain(f);var O=e.typedFieldDef(f),X=e.config.scale;if("unaggregated"===B){const {valid:cb,reason:pb}=fg(O,g);cb||(J(pb),B=void 0)}else void 0===B&&X.useUnaggregatedDomain&&({valid:O}=fg(O,g),O&&(B="unaggregated"));B!==e.scaleDomain(f)&&(e.specifiedScales[f]=Object.assign({},e.specifiedScales[f],
{domain:B}));e="x"===f&&Fe(p.x2)?Fe(p.x)?xf(rg(g,B,e,"x"),rg(g,B,e,"x2"),"domain","scale",Gk):rg(g,B,e,"x2"):"y"===f&&Fe(p.y2)?Fe(p.y)?xf(rg(g,B,e,"y"),rg(g,B,e,"y2"),"domain","scale",Gk):rg(g,B,e,"y2"):rg(g,B,e,f);b[ua].setWithExplicit("domains",e);B=f=void 0;g=a.component.scales[ua];O=a.specifiedScales[ua].domain;p=null==(B=a.fieldDef(ua))?void 0:B.bin;B=(null==O?void 0:O.param)&&O;p=h.isObject(p)&&Ub(p.extent)&&p.extent;(B||p)&&g.set("selectionExtent",null!=(f=B)?f:p,!0);if(a.component.data.isFaceted){for(f=
a;!gh(f)&&f.parent;)f=f.parent;if("shared"===f.component.resolve.scale[ua])for(const cb of e.value)xc(cb)&&(cb.data="scale_"+cb.data.replace("scale_",""))}}}function Sf(a){for(var b of a.children){var e=b;Lf(e)?af(e):Sf(e)}e=a.component.scales;for(const g of sd(e)){let p;b=null;for(const B of a.children){var f=B.component.scales[g];f&&(p=void 0===p?f.getWithExplicit("domains"):xf(p,f.getWithExplicit("domains"),"domains","scale",Gk),f=f.get("selectionExtent"),b&&f&&b.param!==f.param&&J("The same selection must be used to override scale domains in a layered view."),
b=f)}e[g].setWithExplicit("domains",p);b&&e[g].set("selectionExtent",b,!0)}}function Ff(a,b,e){return a.map(f=>({signal:`{data: ${Dg(f,{timeUnit:e,type:b})}}`}))}function Tf(a,b,e){let f;e=null==(f=nd(e))?void 0:f.unit;return"temporal"===b||e?Ff(a,b,e):[a]}function rg(a,b,e,f){const {encoding:g,markDef:p,mark:B,config:O,stack:X}=e;var ua=Fe(g[f]),{type:cb}=ua;const pb=ua.timeUnit;if(null==b?0:b.unionWith)return f=rg(a,void 0,e,f),ua=Tf(b.unionWith,cb,pb),Ig([...ua,...f.value]);if(Nb(b))return Ig([b]);
if(b&&"unaggregated"!==b&&(null==b||!b.param))return Ig(Tf(b,cb,pb));if(X&&f===X.fieldChannel){if("normalize"===X.offset)return Te([[0,1]]);ua=e.requestDataName(nf.Main);return Te([{data:ua,field:e.vgField(f,{suffix:"start"})},{data:ua,field:e.vgField(f,{suffix:"end"})}])}const gc=Mh[f]&&Ga(ua)?cm(e,f,a):void 0;if(nb(ua))return f=Tf([ua.datum],cb,pb),Te(f);if("unaggregated"===b)return f=e.requestDataName(nf.Main),{field:ua}=ua,Te([{data:f,field:pc({field:ua,aggregate:"min"})},{data:f,field:pc({field:ua,
aggregate:"max"})}]);if(vb(ua.bin)){if(ce(a))return"bin-ordinal"===a?Te([]):Te([{data:ec(gc)?e.requestDataName(nf.Main):e.requestDataName(nf.Raw),field:e.vgField(f,Mf(ua,f)?{binSuffix:"range"}:{}),sort:!0!==gc&&h.isObject(gc)?gc:{field:e.vgField(f,{}),op:"min"}}]);({bin:b}=ua);if(vb(b)){const Mc=xe(e,ua.field,b);return Te([new ee(()=>{const kc=e.getSignalName(Mc);return`[${kc}.start, ${kc}.stop]`})])}return Te([{data:e.requestDataName(nf.Main),field:e.vgField(f,{})}])}return ua.timeUnit&&Cb(["time",
"utc"],a)&&(cb=g[V(f)],K(ua,cb,p,O))?(b=e.requestDataName(nf.Main),ua=l({fieldDef:ua,fieldDef2:cb,markDef:p,config:O}),ua=cc(B)&&.5!==ua&&F(f),Te([{data:b,field:e.vgField(f,ua?{suffix:"offsetted_rect_start"}:{})},{data:b,field:e.vgField(f,{suffix:ua?"offsetted_rect_end":"end"})}])):gc?Te([{data:ec(gc)?e.requestDataName(nf.Main):e.requestDataName(nf.Raw),field:e.vgField(f),sort:gc}]):Te([{data:e.requestDataName(nf.Main),field:e.vgField(f)}])}function Vh(a,b){const {op:e,field:f,order:g}=a;return Object.assign({},
{op:null!=e?e:b?"sum":"min"},f?{field:bb(f)}:{},g?{order:g}:{})}function cm(a,b,e){if(ce(e)){var f=a.fieldDef(b);e=f.sort;if(oe(e))return{op:"min",field:Ri(f,b),order:"ascending"};({stack:f}=a);var g=f?new Set([...f.groupbyFields,...f.stackBy.map(p=>p.fieldDef.field)]):void 0;if(ue(e))return a=f&&!g.has(e.field),Vh(e,a);if(null!=e&&e.encoding){const {encoding:p,order:B}=e;a=a.fieldDef(p);const {aggregate:O,field:X}=a;b=f&&!g.has(X);if(la(O)||wa(O))return Vh({field:pc(a),order:B},b);if(Ma(O)||!O)return Vh({op:O,
field:X,order:B},b)}else{if("descending"===e)return{op:"min",field:a.vgField(b),order:"descending"};if(Cb(["ascending",void 0],e))return!0}}}function fg(a,b){const {aggregate:e,type:f}=a;return e?h.isString(e)&&!Yk.has(e)?{valid:!1,reason:`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}:"quantitative"===f&&"log"===b?{valid:!1,reason:`Unaggregated domain is currently unsupported for log scale (${m(a)}).`}:{valid:!0}:{valid:!1,reason:`Using unaggregated domain with raw field has no effect (${m(a)}).`}}
function Gk(a,b,e,f){if(a.explicit&&b.explicit){var g=b.value;e=`Conflicting ${f.toString()} property "${e.toString()}" (${m(a.value)} and ${m(g)}). Using the union of the two domains.`;J(e)}return{explicit:a.explicit,value:[...a.value,...b.value]}}function Hk(a){var b=Za(a.map(g=>xc(g)?(g=Object.assign({},g),delete g.sort,g):g),Xb),e=Za(a.map(g=>{if(xc(g))return g=g.sort,void 0===g||ec(g)||("op"in g&&"count"===g.op&&delete g.field,"ascending"===g.order&&delete g.order),g}).filter(g=>void 0!==g),
Xb);if(0!==b.length){if(1===b.length){b=a[0];if(xc(b)&&0<e.length){var f=e[0];1<e.length?(J("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),f=e.filter(g=>h.isObject(g)&&"op"in g&&"min"!==g.op),f=e.every(g=>h.isObject(g)&&"op"in g)&&1===f.length?f[0]:!0):h.isObject(f)&&"field"in f&&b.field===f.field&&(f=f.order?{order:f.order}:!0);return Object.assign({},b,{sort:f})}return b}e=Za(e.map(g=>{if(ec(g)||!("op"in g)||h.isString(g.op)&&g.op in Ul)return g;J(`Dropping sort property ${m(g)} as unioned domains only support boolean or op "count", "min", and "max".`);
return!0}),Xb);1===e.length?f=e[0]:1<e.length&&(J("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),f=!0);e=Za(a.map(g=>xc(g)?g.data:null),g=>g);return 1===e.length&&null!==e[0]?Object.assign({},{data:e[0],fields:b.map(g=>g.field)},f?{sort:f}:{}):Object.assign({},{fields:b},f?{sort:f}:{})}}function dk(a){if(xc(a)&&h.isString(a.field))return a.field;var b=h.isArray(a)?!1:"fields"in a&&!("data"in a);if(b){let e;for(const f of a.fields)if(xc(f)&&h.isString(f.field))if(!e)e=
f.field;else if(e!==f.field)return J("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),e;J("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");return e}b=h.isArray(a)?!1:
"fields"in a&&"data"in a;if(b)return J("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),a=a.fields[0],h.isString(a)?a:void 0}function Ui(a,b){b=a.component.scales[b].get("domains").map(e=>{xc(e)&&(e.data=a.lookupDataSource(e.data));return e});return Hk(b)}function nl(a){return Ti(a)||Tk(a)?a.children.reduce((b,e)=>b.concat(nl(e)),Ik(a)):Ik(a)}function Ik(a){return sd(a.component.scales).reduce((b,
e)=>{var f=a.component.scales[e];if(f.merged)return b;var g=f.combine(),p=Object.assign({},g);const B=g.name,O=g.type;var X=g.selectionExtent;const ua=g.reverse;p=(delete p.name,delete p.type,delete p.selectionExtent,delete p.domains,delete p.range,delete p.reverse,p);g=g.range;F(e)?Rb(g)&&(g={step:{signal:`${B}_step`}}):h.isObject(g)&&xc(g)&&(g=Object.assign({},g,{data:a.lookupDataSource(g.data)}));e=Ui(a,e);X?(X=ej(a,X.param,X),f={signal:Kd(f.get("type"))&&h.isArray(e)&&e[0]>e[1]?`isValid(${X}) && reverse(${X})`:
X}):f=null;b.push(Object.assign({},{name:B,type:O},e?{domain:e}:{},f?{domainRaw:f}:{},{range:g},void 0!==ua?{reverse:ua}:{},p));return b},[])}function Ij(a,b){var e=a.fieldDef(b);if(null==e?0:e.bin){const {bin:f,field:g}=e;e=G(b);const p=a.getName(e);if(h.isObject(f)&&f.binned&&void 0!==f.step)return new ee(()=>{var B=a.scaleName(b);B=`(domain("${B}")[1] - domain("${B}")[0]) / ${f.step}`;return`${a.getSignalName(p)} / (${B})`});if(vb(f)){const B=xe(a,g,f);return new ee(()=>{var O=a.getSignalName(B);
O=`(${O}.stop - ${O}.start) / ${O}.step`;return`${a.getSignalName(p)} / (${O})`})}}}function Yh(a,b){const e=b.specifiedScales[a];var {size:f}=b,g=b.getScaleComponent(a).get("type");for(var p of ff)if(void 0!==e[p]){const X=Jd(g,p),ua=$d(a,p);if(X)if(ua)J(ua);else switch(p){case "range":g=e.range;if(h.isArray(g)){if(F(a))return Ig(g.map(cb=>{if("width"===cb||"height"===cb){cb=b.getName(cb);const pb=b.getSignalName.bind(b);return ee.fromName(pb,cb)}return cb}))}else if(h.isObject(g))return Ig({data:b.requestDataName(nf.Main),
field:g.field,sort:{op:"min",field:b.vgField(a)}});return Ig(g);case "scheme":return Ig(Nh(e[p]))}else J(Dd(g,p,a))}p="x"===a||"xOffset"===a?"width":"height";f=f[p];if(He(f))if(F(a))if(ce(g)){if(f=Jj(f,b,a))return Ig({step:f})}else J(rd(p));else if(a in Wi&&"band"===b.getScaleComponent("xOffset"===a?"x":"y").get("type")&&(f=Tj(f,g)))return Ig(f);const {rangeMin:B,rangeMax:O}=e;a=Ll(a,b);return(void 0!==B||void 0!==O)&&Jd(g,"rangeMin")&&h.isArray(a)&&2===a.length?Ig([null!=B?B:a[0],null!=O?O:a[1]]):
Te(a)}function Nh(a){return!h.isString(a)&&a.name?Object.assign({},{scheme:a.name},ac(a,["name"])):{scheme:a}}function kl(a,b,e){let {center:f}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};var g=G(a);g=b.getName(g);const p=b.getSignalName.bind(b);return"y"===a&&Kd(e)?f?[ee.fromName(B=>`${p(B)}/2`,g),ee.fromName(B=>`-${p(B)}/2`,g)]:[ee.fromName(p,g),0]:f?[ee.fromName(B=>`-${p(B)}/2`,g),ee.fromName(B=>`${p(B)}/2`,g)]:[0,ee.fromName(p,g)]}function Ll(a,b){const {size:e,config:f,mark:g,encoding:p}=
b;var {type:B}=Fe(p[a]);const O=b.getScaleComponent(a).get("type"),{domain:X,domainMid:ua}=b.specifiedScales[a];switch(a){case "x":case "y":return Cb(["point","band"],O)&&(B=Zj(a,e,f.view),He(B))?{step:Jj(B,b,a)}:kl(a,b,O);case "xOffset":case "yOffset":return sf(a,b,O);case "size":B=b.component.scales[a].get("zero");B=ki(g,B,f);const cb=Di(g,e,b,f);return ai.has(O)?Ci(B,cb,ak(O,f,X,a)):[B,cb];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,new ee(()=>{const pb=b.getSignalName("width"),
gc=b.getSignalName("height");return`min(${pb},${gc})/2`})];case "strokeWidth":return[f.scale.minStrokeWidth,f.scale.maxStrokeWidth];case "strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===O?"nominal"===B?"category":"ordinal":void 0!==ua?"diverging":"rect"===g||"geoshape"===g?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[f.scale.minOpacity,f.scale.maxOpacity]}}function Jj(a,b,e){var {encoding:f}=
b,g=b.getScaleComponent(e);e=z(e);const p=f[e];if("offset"===of({step:a,offsetIsDiscrete:yc(p)&&Nc(p.type)})&&Wf(f,e)){f=b.getScaleComponent(e);b=`domain('${b.scaleName(e)}').length`;if("band"===f.get("type")){var B;let ua;e=null!=(ua=null!=(B=f.get("paddingInner"))?B:f.get("padding"))?ua:0;var O;let cb;B=null!=(cb=null!=(O=f.get("paddingOuter"))?O:f.get("padding"))?cb:0;b=`bandspace(${b}, ${e}, ${B})`}var X;O=null!=(X=g.get("paddingInner"))?X:g.get("padding");a=a.step;g=b;X=O;X=Nb(X)?X.signal:h.stringValue(X);
return{signal:`${a} * ${g} / (1-${X})`}}return a.step}function Tj(a,b){if("offset"===of({step:a,offsetIsDiscrete:ce(b)}))return{step:a.step}}function sf(a,b,e){var f="xOffset"===a?"x":"y",g=b.getScaleComponent(f);if(!g)return kl(f,b,e,{center:!0});g=g.get("type");const p=b.scaleName(f),{markDef:B,config:O}=b;if("band"===g)return b=Zj(f,b.size,b.config.view),He(b)&&(b=Tj(b,e))?b:[0,{signal:`bandwidth('${p}')`}];e=b.encoding[f];return Ga(e)&&e.timeUnit?(a=me(e.timeUnit,X=>`scale('${p}', ${X})`),b=b.config.scale.bandWithNestedOffsetPaddingInner,
f=l({fieldDef:e,markDef:B,config:O})-.5,g=0!==f?` + ${f}`:"",b?(e=Nb(b)?`${b.signal}/2`+g:`${b/2+f}`,b=Nb(b)?`(1 - ${b.signal}/2)`+g:`${1-b/2+f}`,[{signal:`${e} * (${a})`},{signal:`${b} * (${a})`}]):[0,{signal:a}]):zb(`Cannot use ${a} scale if ${f} scale is not discrete.`)}function Zj(a,b,e){a="x"===a?"width":"height";return(b=b[a])?b:Nf(e,a)}function ak(a,b,e,f){switch(a){case "quantile":return b.scale.quantileCount;case "quantize":return b.scale.quantizeCount;case "threshold":if(void 0!==e&&h.isArray(e))return e.length+
1;J(`Domain for ${f} is required for threshold scale.`);return 3}}function Ci(a,b,e){const f=()=>{const g=Hb(b),p=Hb(a),B=`(${g} - ${p}) / (${e} - 1)`;return`sequence(${p}, ${g} + ${B}, ${B})`};return Nb(b)?new ee(f):{signal:f()}}function ki(a,b,e){if(b)return Nb(b)?{signal:`${b.signal} ? 0 : ${ki(a,!1,e)}`}:0;switch(a){case "bar":case "tick":return e.scale.minBandSize;case "line":case "trail":case "rule":return e.scale.minStrokeWidth;case "text":return e.scale.minFontSize;case "point":case "square":case "circle":return e.scale.minSize}throw Error(fd("size",
a));}function Di(a,b,e,f){e={x:Ij(e,"x"),y:Ij(e,"y")};switch(a){case "bar":case "tick":if(void 0!==f.scale.maxBandSize)return f.scale.maxBandSize;const g=kj(b,e,f.view);return h.isNumber(g)?g-1:new ee(()=>`${g.signal} - 1`);case "line":case "trail":case "rule":return f.scale.maxStrokeWidth;case "text":return f.scale.maxFontSize;case "point":case "square":case "circle":if(f.scale.maxSize)return f.scale.maxSize;const p=kj(b,e,f.view);return h.isNumber(p)?Math.pow(.95*p,2):new ee(()=>`pow(${.95} * ${p.signal}, 2)`)}throw Error(fd("size",
a));}function kj(a,b,e){const f=He(a.width)?a.width.step:Yf(e,"width"),g=He(a.height)?a.height.step:Yf(e,"height");return b.x||b.y?new ee(()=>`min(${[b.x?b.x.signal:f,b.y?b.y.signal:g].join(", ")})`):Math.min(f,g)}function lj(a,b){if(Lf(a)){const B=a.component.scales,{config:O,encoding:X,markDef:ua,specifiedScales:cb}=a;for(const pb of sd(B)){var e=cb[pb];const gc=B[pb];var f=a.getScaleComponent(pb),g=Fe(X[pb]),p=e[b];const Mc=f.get("type"),kc=f.get("padding");f=f.get("paddingInner");const Lc=Jd(Mc,
b),Zc=$d(pb,b);void 0!==p&&(Lc?Zc&&J(Zc):J(Dd(Mc,b,pb)));if(Lc&&void 0===Zc)if(void 0!==p)switch(p=g.timeUnit,g=g.type,b){case "domainMax":case "domainMin":Ka(e[b])||"temporal"===g||p?gc.set(b,{signal:Dg(e[b],{type:g,timeUnit:p})},!0):gc.set(b,e[b],!0);break;default:gc.copyKeyFromObject(b,e)}else e=b in pi?pi[b]({model:a,channel:pb,fieldOrDatumDef:g,scaleType:Mc,scalePadding:kc,scalePaddingInner:f,domain:e.domain,domainMin:e.domainMin,domainMax:e.domainMax,markDef:ua,config:O,hasNestedOffsetScale:og(X,
pb),hasSecondaryRangeChannel:!!X[V(pb)]}):O.scale[b],void 0!==e&&gc.set(b,e,!1)}}else ml(a,b)}function li(a){if(Lf(a)){const b=a.component.scales;for(const e of Bk){const f=b[e];if(!f)continue;const g=Yh(e,a);f.setWithExplicit("range",g)}}else ml(a,"range")}function ml(a,b){const e=a.component.scales;for(var f of a.children)"range"===b?li(f):lj(f,b);for(const g of sd(e)){let p;for(const B of a.children)if(f=B.component.scales[g])f=f.getWithExplicit(b),p=xf(p,f,b,"scale",Ih((O,X)=>{switch(b){case "range":if(O.step&&
X.step)return O.step-X.step}return 0}));e[g].setWithExplicit(b,p)}}function mj(a,b){const e=b.bin;if(vb(e)){const f=xe(a,b.field,e);return new ee(()=>a.getSignalName(f))}if(jb(e)&&h.isObject(e)&&void 0!==e.step)return{step:e.step}}function bk(a,b,e,f,g){let p=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===a){if(F(b)){const {bandPaddingInner:B,barBandPaddingInner:O,rectBandPaddingInner:X,bandWithNestedOffsetPaddingInner:ua}=g;return p?ua:T(B,"bar"===e?O:X)}if(b in Wi&&f===gg.BAND)return g.offsetBandPaddingInner}}
function ck(a,b,e,f,g){let p=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===a)if(F(b)){const {bandPaddingOuter:B,bandWithNestedOffsetPaddingOuter:O}=g;if(p)return O;if(e===gg.BAND)return T(B,Nb(f)?{signal:`${f.signal}/2`}:f/2)}else if(b in Wi){if(e===gg.POINT)return.5;if(e===gg.BAND)return g.offsetBandPaddingOuter}}function Ei(a,b,e,f){const g=Jk(b,e,f,4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1),{type:p}=a;if(!Mh[b])return null;if(void 0!==p){if(!Aa(b,p))return J(`Channel "${b}" does not work with "${p}" scale. We are using "${g}" scale instead.`),
g;var B;if(B=Ga(e))B=e.type,B=!(Cb(["ordinal","nominal"],B)?void 0===p||ce(p):"temporal"===B?Cb([gg.TIME,gg.UTC,void 0],p):"quantitative"===B?ni.has(p)||ai.has(p)||void 0===p:1);return B?(J(`FieldDef does not work with "${p}" scale. We are using "${g}" scale instead.`),g):p}return g}function Jk(a,b,e,f){switch(b.type){case "nominal":case "ordinal":if(L(a)||"discrete"===N(a))return"shape"===a&&"ordinal"===b.type&&J(Cd(a,"ordinal")),"ordinal";if(F(a)||a in Wi){if(Cb(["rect","bar","image","rule"],e.type)||
f)return"band"}else if("arc"===e.type&&a in ik)return"band";a=e[G(a)];if(rc(a))return"band";let g;return Ad(b)&&(null==(g=b.axis)?0:g.tickBand)?"band":"point";case "temporal":if(!L(a)){if("discrete"===N(a))return J(Cd(a,"temporal")),"ordinal";if(Ga(b)&&b.timeUnit&&nd(b.timeUnit).utc)return"utc"}return"time";case "quantitative":if(L(a)){if(Ga(b)&&vb(b.bin))return"bin-ordinal"}else if("discrete"===N(a))return J(Cd(a,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error(`Invalid field type "${b.type}".`);
}function ek(a){let {ignoreRange:b}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};gj(a);Lf(a)?af(a):Sf(a);for(const e of lk)lj(a,e);b||li(a)}function gj(a){if(Lf(a)){var b=a.component;const {encoding:X,mark:ua,markDef:cb}=a;var e={};for(var f of Bk){var g=Fe(X[f]);if(!g||ua!==qi||"shape"!==f||"geojson"!==g.type){var p=g&&g.scale;if(g&&null!==p&&!1!==p){null!=p||(p={});var B=og(X,f);g=Ei(p,f,g,cb,B);e[f]=new vg(a.scaleName(`${f}`,!0),{value:g,explicit:p.type===g})}}}b.scales=e}else{f=a.component;
p=a.component.scales={};g={};const X=a.component.resolve;for(B of a.children){gj(B);for(var O of sd(B.component.scales)){let ua,cb;null!=(ua=X.scale)[cb=O]||(ua[cb]=ii(O,a));if("shared"===X.scale[O]){const pb=g[O],gc=B.component.scales[O].getWithExplicit("type");if(pb){const Mc=Bg[pb.value],kc=Bg[gc.value];Mc===kc||"ordinal-position"===Mc&&"time"===kc||"ordinal-position"===kc&&"time"===Mc?g[O]=xf(pb,gc,"type","scale",Wl):(X.scale[O]="independent",delete g[O])}else g[O]=gc}}}for(b of sd(g)){B=a.scaleName(b,
!0);p[b]=new vg(B,g[b]);for(e of a.children)if(O=e.component.scales[b])e.renameScale(O.get("name"),B),O.merged=!0}f.scales=p}}function Lf(a){return"unit"===(null==a?void 0:a.type)}function gh(a){return"facet"===(null==a?void 0:a.type)}function Tk(a){return"concat"===(null==a?void 0:a.type)}function Ti(a){return"layer"===(null==a?void 0:a.type)}function yk(a){function b(f,g){f instanceof da&&!(f.isGenerator||"url"in f.data)&&(a.push(g),g={name:null,source:g.name,transform:[]});if(f instanceof d)if(f.parent instanceof
da&&!g.source){var p;g.format=Object.assign({},null!=(p=g.format)?p:{},{parse:f.assembleFormatParse()});g.transform.push(...f.assembleTransforms(!0))}else g.transform.push(...f.assembleTransforms());if(f instanceof c)g.name||(g.name=`data_${e++}`),!g.source||0<g.transform.length?(a.push(g),f.data=g.name):f.data=g.source,a.push(...f.assemble());else switch((f instanceof v||f instanceof R||f instanceof Gl||f instanceof wi||f instanceof Ni||f instanceof Hl||f instanceof yh||f instanceof Il||f instanceof
te||f instanceof be||f instanceof mm||f instanceof nm||f instanceof om||f instanceof pm||f instanceof qm||f instanceof rm||f instanceof k||f instanceof sm||f instanceof tm||f instanceof um)&&g.transform.push(f.assemble()),(f instanceof Bi||f instanceof wh||f instanceof Ek||f instanceof pe||f instanceof jl)&&g.transform.push(...f.assemble()),f instanceof Qg&&(g.source&&0===g.transform.length?f.setSource(g.source):f.parent instanceof Qg?f.setSource(g.name):(g.name||(g.name=`data_${e++}`),f.setSource(g.name),
1===f.numChildren()&&(a.push(g),g={name:null,source:g.name,transform:[]}))),f.numChildren()){case 0:f instanceof Qg&&(!g.source||0<g.transform.length)&&a.push(g);break;case 1:b(f.children[0],g);break;default:g.name||(g.name=`data_${e++}`);p=g.name;!g.source||0<g.transform.length?a.push(g):p=g.source;for(const B of f.children)b(B,{name:null,source:p,transform:[]})}}let e=0;return b}function Xj(a){const b=[],e=yk(b);for(const f of a.children)e(f,{source:a.name,name:null,transform:[]});return b}function zk(a,
b){const e=[];var f=yk(e);let g=0;for(const p of a.sources){p.hasName()||(p.dataName=`source_${g++}`);const B=p.assemble();f(p,B)}for(const p of e)0===p.transform.length&&delete p.transform;f=0;for(const p of e.entries()){const [B,O]=p;let X;0!==(null!=(X=O.transform)?X:[]).length||O.source||e.splice(f++,0,e.splice(B,1)[0])}for(const p of e){let B;for(const O of null!=(B=p.transform)?B:[])"lookup"===O.type&&(O.from=a.outputNodes[O.from].getSource())}for(const p of e)p.name in b&&(p.values=b[p.name]);
return e}function Qk(a,b,e){b="row"===b?"height":"width";return{labels:e,sizeSignal:a.child.component.layoutSize.get(b)?a.child.getSizeSignalRef(b):void 0,axes:[]}}function Bl(a,b){var {child:e}=a;if(e.component.axes[b]){const {layoutHeaders:f,resolve:g}=a.component;g.axis[b]=n(g,b);if("shared"===g.axis[b]){const p="x"===b?"column":"row",B=f[p];for(const O of e.component.axes[b]){b=O.get("orient");b="top"===b||"left"===b||Nb(b)?"header":"footer";let X,ua;null!=(X=B)[ua=b]||(X[ua]=[Qk(a,p,!1)]);(e=
fh(O,"main",a.config,{header:!0}))&&B[b][0].axes.push(e);O.mainExtracted=!0}}}}function Rk(a){for(const b of a.children)b.parseLayoutSize()}function Ak(a,b){const e=Xi(b),f=U(e),g=a.component.resolve,p=a.component.layoutSize;let B;for(const O of a.children){const X=O.component.layoutSize.getWithExplicit(e);let ua;const cb=null!=(ua=g.scale[f])?ua:ii(f,a);if("independent"===cb&&"step"===X.value){B=void 0;break}if(B){if("independent"===cb&&B.value!==X.value){B=void 0;break}B=xf(B,X,e,"")}else B=X}if(B){for(const O of a.children)a.renameSignal(O.getName(e),
a.getName(b)),O.component.layoutSize.set(e,"merged",!1);p.setWithExplicit(b,B)}else p.setWithExplicit(b,{explicit:!1,value:void 0})}function Pk(a,b){const e=a.config;var f=a.getScaleComponent("width"===b?"x":"y");if(f)return a=f.get("type"),f=f.get("range"),ce(a)?(b=Nf(e.view,b),Rb(f)||He(b)?"step":b):pf(e.view,b);if(a.hasProjection||"arc"===a.mark)return pf(e.view,b);b=Nf(e.view,b);return He(b)?b.step:b}function dl(a,b,e){return pc(b,Object.assign({},{suffix:`by_${pc(a)}`},null!=e?e:{}))}function pl(a,
b){for(const f of b){b=f.data;if(a.name&&f.hasName()&&a.name!==f.dataName)continue;let g;const p=null==(g=a.format)?void 0:g.mesh;let B;var e=null==(B=b.format)?void 0:B.feature;if(p&&e)continue;let O;const X=null==(O=a.format)?void 0:O.feature;if((X||e)&&X!==e)continue;let ua;e=null==(ua=b.format)?void 0:ua.mesh;if(!p&&!e||p===e)if("values"in a&&"values"in b){if(pa(a.values,b.values))return f}else if("url"in a&&"url"in b){if(a.url===b.url)return f}else if(Mi(a)&&a.name===f.dataName)return f}return null}
function dm(a,b){if(a.data||!a.parent){if(null===a.data)return a=new da({values:[]}),b.push(a),a;const e=pl(a.data,b);if(e)return qg(a.data)||(e.data.format=Ba({},a.data.format,e.data.format)),!e.hasName()&&a.data.name&&(e.dataName=a.data.name),e;a=new da(a.data);b.push(a);return a}return a.parent.component.data.facetRoot?a.parent.component.data.facetRoot:a.parent.component.data.main}function jk(a){var b=dm(a,a.component.data.sources);const {outputNodes:e,outputNodeRefCounts:f}=a.component.data;var g=
a.data;const p=g&&(qg(g)||"url"in g||"values"in g)||!a.parent?new Rj:a.parent.component.data.ancestorParse.clone();if(qg(g))"sequence"in g?b=new R(b,g.sequence):"graticule"in g&&(b=new v(b,g.graticule)),p.parseNothing=!0;else{let Zd;null===(null==g?void 0:null==(Zd=g.format)?void 0:Zd.parse)&&(p.parseNothing=!0)}var B;b=null!=(B=d.makeExplicit(b,a,p))?B:b;b=new k(b);g=a.parent&&Ti(a.parent);if((Lf(a)||gh(a))&&g){var O;b=null!=(O=Bi.makeFromEncoding(b,a))?O:b}if(0<a.transforms.length){O=0;for(var X of a.transforms){var ua=
B=void 0;if("calculate"in X)ua=b=new Ni(b,X),B="derived";else if("filter"in X){ua=tg(X);var cb=void 0;ua=b=null!=(cb=d.makeWithAncestors(b,{},ua,p))?cb:b;b=new wi(b,a,X.filter)}else if("bin"in X)ua=b=Bi.makeFromTransform(b,X,a),B="number";else if("timeUnit"in X)B="date",void 0===p.getWithExplicit(X.field).value&&(b=new d(b,{[X.field]:B}),p.set(X.field,B,!1)),ua=b=wh.makeFromTransform(b,X);else if("aggregate"in X)ua=b=yh.makeFromTransform(b,X),B="number",Af(a)&&(b=new k(b));else if("lookup"in X)ua=
b=Il.make(b,a,X,O++),B="derived";else if("window"in X)ua=b=new te(b,X),B="number";else if("joinaggregate"in X)ua=b=new be(b,X),B="number";else if("stack"in X)ua=b=pe.makeFromTransform(b,X),B="derived";else if("fold"in X)ua=b=new mm(b,X),B="derived";else if("extent"in X&&!("density"in X))ua=b=new um(b,X),B="derived";else if("flatten"in X)ua=b=new nm(b,X),B="derived";else if("pivot"in X)ua=b=new tm(b,X),B="derived";else if("sample"in X)b=new sm(b,X);else if("impute"in X)ua=b=Ek.makeFromTransform(b,
X),B="derived";else if("density"in X)ua=b=new om(b,X),B="derived";else if("quantile"in X)ua=b=new qm(b,X),B="derived";else if("regression"in X)ua=b=new rm(b,X),B="derived";else if("loess"in X)ua=b=new pm(b,X),B="derived";else{J(`Ignoring an invalid transform: ${m(X)}.`);continue}if(ua&&void 0!==B){let Zd;for(const Ce of null!=(Zd=ua.producedFields())?Zd:[])p.set(Ce,B,!1)}}}X={};if(Lf(a)&&a.component.selection)for(var pb of sd(a.component.selection)){cb=a.component.selection[pb];for(const Zd of cb.project.items)!Zd.channel&&
1<eb(Zd.field)&&(X[Zd.field]="flatten")}pb=ug(a);var gc;b=null!=(gc=d.makeWithAncestors(b,{},Object.assign({},X,pb),p))?gc:b;Lf(a)&&(b=jl.parseAll(b,a),b=Hl.parseAll(b,a));if(Lf(a)||gh(a)){if(!g){let Zd;b=null!=(Zd=Bi.makeFromEncoding(b,a))?Zd:b}var Mc;b=null!=(Mc=wh.makeFromEncoding(b,a))?Mc:b;b=Ni.parseAllForSortIndex(b,a)}Mc=a.getDataName(nf.Raw);gc=new Qg(b,Mc,nf.Raw,f);b=e[Mc]=gc;if(Lf(a)){if(Mc=yh.makeFromEncoding(b,a))b=Mc,Af(a)&&(b=new k(b));var kc;b=null!=(kc=Ek.makeFromEncoding(b,a))?kc:
b;var Lc;b=null!=(Lc=pe.makeFromEncoding(b,a))?Lc:b}if(Lf(a)){let Zd;b=null!=(Zd=Gl.make(b,a))?Zd:b}Lc=a.getDataName(nf.Main);kc=new Qg(b,Lc,nf.Main,f);b=e[Lc]=kc;if(Lf(a)){var Zc;for(var cd of Gi(null!=(Zc=a.component.selection)?Zc:{})){const [Zd,Ce]=cd;Zc=a.getName(`lookup_${Zd}`);a.component.data.outputNodes[Zc]=Ce.materialized=new Qg(new wi(kc,a,{param:Zd}),Zc,nf.Lookup,a.component.data.outputNodeRefCounts)}}Zc=null;if(gh(a)){cd=a.getName("facet");let Zd;{Zc=b;const {row:Ce,column:Pe}=a.facet;
if(Ce&&Pe){Lc=null;for(je of[Ce,Pe])if(ue(je.sort)){const {field:Jf,op:Rf="min"}=je.sort;Zc=Lc=new be(Zc,{joinaggregate:[{op:Rf,field:Jf,as:dl(je,je.sort,{forAs:!0})}],groupby:[pc(je)]})}var je=Lc}else je=null}b=null!=(Zd=je)?Zd:b;Zc=new c(b,a,cd,kc.getSource());e[cd]=Zc}return Object.assign({},a.component.data,{outputNodes:e,outputNodeRefCounts:f,raw:gc,main:kc,facetRoot:Zc,ancestorParse:p})}function em(a,b,e){const {encoding:f,config:g}=a;let p;const B=null!=(p=Fe(f[b]))?p:Fe(f[V(b)]);a=a.axis(b)||
{};const {format:O,formatType:X}=a;if(fe(X))return Object.assign({},{text:ne({fieldOrDatumDef:B,field:"datum.value",format:O,formatType:X,config:g})},e);if(void 0===O&&void 0===X&&g.customFormatTypes){if("quantitative"===qb(B)){if(Ad(B)&&"normalize"===B.stack&&g.normalizedNumberFormatType)return Object.assign({},{text:ne({fieldOrDatumDef:B,field:"datum.value",format:g.normalizedNumberFormat,formatType:g.normalizedNumberFormatType,config:g})},e);if(g.numberFormatType)return Object.assign({},{text:ne({fieldOrDatumDef:B,
field:"datum.value",format:g.numberFormat,formatType:g.numberFormatType,config:g})},e)}if("temporal"===qb(B)&&g.timeFormatType&&Ga(B)&&!B.timeUnit)return Object.assign({},{text:ne({fieldOrDatumDef:B,field:"datum.value",format:g.timeFormat,formatType:g.timeFormatType,config:g})},e)}return e}function rl(a){return Ph.reduce((b,e)=>{a.component.scales[e]&&(b[e]=[hm(e,a)]);return b},{})}function fm(a,b){if(a){if(a.length!==b.length)return;const e=a.length;for(let f=0;f<e;f++){const g=a[f],p=b[f];if(!!g!==
!!p)return;if(g&&p){const B=g.getWithExplicit("orient"),O=p.getWithExplicit("orient");if(B.explicit&&O.explicit&&B.value!==O.value)return;a[f]=gm(g,p)}}}else return b.map(e=>e.clone());return a}function gm(a,b){for(const e of Am){const f=xf(a.getWithExplicit(e),b.getWithExplicit(e),e,"axis",(g,p)=>{switch(e){case "title":return gb(g,p);case "gridScale":return{explicit:g.explicit,value:T(g.value,p.value)}}return Mg(g,p,e,"axis")});a.setWithExplicit(e,f)}return a}function Ol(a,b,e,f,g){if("disable"===
b)return void 0!==e;e=e||{};switch(b){case "titleAngle":case "labelAngle":return a===(Nb(e.labelAngle)?e.labelAngle:La(e.labelAngle));case "values":return!!e.values;case "encode":return!!e.encoding||!!e.labelAngle;case "title":if(a===fj(f,g))return!0}return a===e[b]}function hm(a,b){let e=b.axis(a);const f=new Bm;var g=Fe(b.encoding[a]);const {mark:p,config:B}=b;var O,X,ua,cb=(null==(O=e)?void 0:O.orient)||(null==(X=B["x"===a?"axisX":"axisY"])?void 0:X.orient)||(null==(ua=B.axis)?void 0:ua.orient)||
("x"===a?"bottom":"left");X=b.getScaleComponent(a).get("type");O=cl(a,X,cb,b.config);var pb;ua=void 0!==e?!e:zi("disable",B.style,null==(pb=e)?void 0:pb.style,O).configValue;f.set("disable",ua,void 0!==e);if(ua)return f;e=e||{};pb=Vj(g,e,a,B.style,O);ua=kf(e.formatType,g,X);const gc=ef(g,g.type,e.format,e.formatType,B,!0);g={fieldOrDatumDef:g,axis:e,channel:a,model:b,scaleType:X,orient:cb,labelAngle:pb,format:gc,formatType:ua,mark:p,config:B};for(const Lc of Am)if(cb=Lc in tk?tk[Lc](g):mg[Lc]?e[Lc]:
void 0,X=void 0!==cb,pb=Ol(cb,Lc,e,b,a),X&&pb)f.set(Lc,cb,pb);else{const {configValue:Zc,configFrom:cd}=mg[Lc]&&"values"!==Lc?zi(Lc,B.style,e.style,O):{};ua=void 0!==Zc;X&&!ua?f.set(Lc,cb,pb):("vgAxisConfig"!==cd||Im.has(Lc)&&ua||Vf(Zc)||Nb(Zc))&&f.set(Lc,Zc,!1)}var Mc;const kc=null!=(Mc=e.encoding)?Mc:{};Mc=nk.reduce((Lc,Zc)=>{if(!f.hasAxisPart(Zc))return Lc;var cd;const je=ji(null!=(cd=kc[Zc])?cd:{},b);cd="labels"===Zc?em(b,a,je):je;void 0===cd||hb(cd)||(Lc[Zc]={update:cd});return Lc},{});hb(Mc)||
f.set("encode",Mc,!!e.encoding||void 0!==e.labelAngle);return f}function Rl(a){let {encoding:b,size:e}=a;for(const f of Ph)a=G(f),He(e[a])&&wc(b[f])&&(delete e[a],J(rd(a)));return e}function el(a,b){var e=Object,f=e.assign,g=zf(a,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),p=se("x",a,{defaultPos:"mid"}),B=se("y",a,{defaultPos:"mid"}),O=ad("size",a),X=ad("angle",a);a=b?{shape:{value:b}}:ad("shape",a);return f.call(e,{},g,p,B,O,X,a)}function ql(a){if(Cb([Rg,
bi,ul],a.mark)){var b=ch(a.mark,a.encoding);if(0<b.length)return im(a,b)}else if(a.mark===Bh&&(b=Ck.some(e=>Zb(e,a.markDef,a.config)),a.stack&&!a.fieldDef("size")&&b))return Sl(a);return Sk(a)}function im(a,b){return[{name:a.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+a.requestDataName(nf.Main),data:a.requestDataName(nf.Main),groupby:b}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:Sk(a,{fromPrefix:"faceted_path_"})}]}function Sl(a){const [b]=
Sk(a,{fromPrefix:"stack_group_"}),e=a.scaleName(a.stack.fieldChannel),f=function(){return a.vgField(a.stack.fieldChannel,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})};var g=(ua,cb)=>{cb=[f({prefix:"min",suffix:"start",expr:cb}),f({prefix:"max",suffix:"start",expr:cb}),f({prefix:"min",suffix:"end",expr:cb}),f({prefix:"max",suffix:"end",expr:cb})];return`${ua}(${cb.map(pb=>`scale('${e}',${pb})`).join(",")})`};let p;"x"===a.stack.fieldChannel?(g=Object.assign({},Yb(b.encode.update,["y",
"yc","y2","height",...Ck]),{x:{signal:g("min","datum")},x2:{signal:g("max","datum")},clip:{value:!0}}),p={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},b.encode.update=Object.assign({},ac(b.encode.update,["y","yc","y2"]),{height:{field:{group:"height"}}})):(g=Object.assign({},Yb(b.encode.update,["x","xc","x2","width"]),{y:{signal:g("min","datum")},y2:{signal:g("max","datum")},clip:{value:!0}}),p={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},b.encode.update=Object.assign({},
ac(b.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}}));for(var B of Ck){var O=ic(B,a.markDef,a.config);b.encode.update[B]?(g[B]=b.encode.update[B],delete b.encode.update[B]):O&&(g[B]=Ua(O));O&&(b.encode.update[B]={value:0})}B=[];var X;if(0<(null==(X=a.stack.groupbyChannels)?void 0:X.length))for(const ua of a.stack.groupbyChannels){X=a.fieldDef(ua);(O=pc(X))&&B.push(O);let cb,pb;((null==(cb=X)?0:cb.bin)||(null==(pb=X)?0:pb.timeUnit))&&B.push(pc(X,{binSuffix:"end"}))}g="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((ua,
cb)=>{if(b.encode.update[cb])return Object.assign({},ua,{[cb]:b.encode.update[cb]});const pb=ic(cb,a.markDef,a.config);return void 0!==pb?Object.assign({},ua,{[cb]:Ua(pb)}):ua},g);g.stroke&&(g.strokeForeground={value:!0},g.strokeOffset={value:0});return[{type:"group",from:{facet:{data:a.requestDataName(nf.Main),name:"stack_group_"+a.requestDataName(nf.Main),groupby:B,aggregate:{fields:[f({suffix:"start"}),f({suffix:"start"}),f({suffix:"end"}),f({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:g},
marks:[{type:"group",encode:{update:p},marks:[b]}]}]}function jm(a){const {encoding:b,stack:e,mark:f,markDef:g,config:p}=a;var B=b.order;if(!(!h.isArray(B)&&ed(B)&&mc(B.value)||!B&&mc(Zb("order",g,p)))){if((h.isArray(B)||Ga(B))&&!e)return Vc(B,{expr:"datum"});if(Oa(f)){const O="horizontal"===g.orient?"y":"x",X=b[O];if(Ga(X)){B=X.sort;if(h.isArray(B))return{field:pc(X,{prefix:O,suffix:"sort_index",expr:"datum"})};if(ue(B))return{field:pc({aggregate:Uf(a.encoding)?B.op:void 0,field:B.field},{expr:"datum"})};
if(null!=B&&B.encoding)return a=a.fieldDef(B.encoding),{field:pc(a,{expr:"datum"}),order:B.order};if(null!==B){let ua;return{field:pc(X,{binSuffix:(null==(ua=a.stack)?0:ua.impute)?"mid":void 0,expr:"datum"})}}}}}}function Sk(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""};const {mark:e,markDef:f,encoding:g,config:p}=a;var B=f.clip;var O=a.getScaleComponent("x");var X=a.getScaleComponent("y");O=(null==O?0:O.get("selectionExtent"))||(null==X?0:X.get("selectionExtent"))?
!0:void 0;X=a.component.projection;B=T(B,O,X&&!X.isFit?!0:void 0);O=Ob(f);X=g.key;const ua=jm(a);var cb;if(a.component.selection){for(var pb=cb=sd(a.component.selection).length,gc=a.parent;gc&&0===pb;)pb=sd(gc.component.selection).length,gc=gc.parent;cb=pb?{interactive:0<cb||"geoshape"===a.mark||!!a.encoding.tooltip}:null}else cb=null;pb=Zb("aria",f,p);gc=Jl[e].postEncodingTransform?Jl[e].postEncodingTransform(a):null;return[Object.assign({},{name:a.getName("marks"),type:Jl[e].vgMark},B?{clip:!0}:
{},O?{style:O}:{},X?{key:X.field}:{},ua?{sort:ua}:{},cb?cb:{},!1===pb?{aria:pb}:{},{from:{data:b.fromPrefix+a.requestDataName(nf.Main)},encode:{update:Jl[e].encodeEntry(a)}},gc?{transform:gc}:{})]}function fl(a,b,e,f,g){if("facet"in a)return new Kl(a,b,e,g);if("layer"in a)return new Cm(a,b,e,f,g);if(mf(a))return new Dm(a,b,e,f,g);if("vconcat"in a||"hconcat"in a||"concat"in a)return new Jm(a,b,e,g);throw Error(xa(a));}function Tl(a,b){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};
let f=3<arguments.length?arguments[3]:void 0;const g=a.config?jh(a.config):void 0;e=[].concat(a.assembleSelectionData([]),zk(a.component.data,e));const p=a.assembleProjections(),B=a.assembleTitle(),O=a.assembleGroupStyle(),X=a.assembleGroupEncodeEntry(!0);let ua=a.assembleLayoutSignals();ua=ua.filter(gc=>"width"!==gc.name&&"height"!==gc.name||void 0===gc.value?!0:(b[gc.name]=+gc.value,!1));var cb=Object.assign({},b);const pb=b.params;cb=(delete cb.params,cb);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},
a.description?{description:a.description}:{},cb,B?{title:B}:{},O?{style:O}:{},X?{encode:{update:X}}:{},{data:e},0<p.length?{projections:p}:{},a.assembleGroup([...ua,...a.assembleSelectionTopLevelSignals([]),...he(pb)]),g?{config:g}:{},f?{usermeta:f}:{})}const De=structuredClone;Set.prototype.toJSON=function(){return`Set(${[...this].map(a=>m(a)).join(",")})`};const sd=Object.keys,kg=Object.values,Gi=Object.entries;let Lk=42;const Kk=Object.getPrototypeOf(structuredClone({})),fk={theta:1,theta2:1,radius:1,
radius2:1},mi={longitude:1,longitude2:1,latitude:1,latitude2:1},Pl=sd(mi),Vi=Object.assign({},{x:1,y:1,x2:1,y2:1},fk,mi,{xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),nj={row:1,column:1,facet:1},qh=sd(nj),Ej=Object.assign({},Vi,nj),Cl=sd(Ej);var Yj=Object.assign({},Ej),Oh=(delete Yj.order,delete Yj.detail,delete Yj.tooltip,Yj),kk=Object.assign({},
Oh);const oj=(delete kk.row,delete kk.column,delete kk.facet,kk),Mk="x2 y2 latitude2 longitude2 theta2 radius2".split(" "),Kj=sd(Vi);var Lg=Object.assign({},Vi);const Fi=(delete Lg.x,delete Lg.y,delete Lg.x2,delete Lg.y2,delete Lg.xOffset,delete Lg.yOffset,delete Lg.latitude,delete Lg.longitude,delete Lg.latitude2,delete Lg.longitude2,delete Lg.theta,delete Lg.theta2,delete Lg.radius,delete Lg.radius2,Lg),Nk=sd(Fi),gk={x:1,y:1},Ph=sd(gk),ik={theta:1,radius:1},ol=sd(ik),Wi={xOffset:1,yOffset:1};var Zh=
Object.assign({},Fi);const gl=(delete Zh.text,delete Zh.tooltip,delete Zh.href,delete Zh.url,delete Zh.description,delete Zh.detail,delete Zh.key,delete Zh.order,Zh),hl=sd(gl),Mh=Object.assign({},gk,ik,Wi,gl),Bk=sd(Mh),Dl={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"};var yj=Object.assign({},Dl);const Ql=(delete yj.geoshape,yj),hk={argmax:1,
argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Ul={count:1,min:1,max:1},Vl=new Set(["count","valid","missing","distinct"]),Xk=new Set(["count","sum","distinct","valid","missing"]),Yk=new Set("mean average median q1 q3 min max".split(" ")),$k=sd({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,
strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,
width:1,height:1,url:1,smooth:1}),bm={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},Ck=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],Al=h.logger(h.Warn);let Ai=Al;const Qh="january february march april may june july august september october november december".split(" "),Lj=Qh.map(a=>a.substr(0,3)),$h="sunday monday tuesday wednesday thursday friday saturday".split(" "),Ok=$h.map(a=>a.substr(0,
3)),yl={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Zk=sd(yl),Uk={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},pj={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},gg={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",
BAND:"band"},Bg={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},ah={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},ni=new Set(["linear",
"log","pow","sqrt","symlog"]),lg=new Set([...ni,"time","utc"]),ai=new Set(["quantile","quantize","threshold"]),Vk=new Set([...lg,...ai,"sequential","identity"]),qj=new Set(["ordinal","bin-ordinal","point","band"]);var Ah=Object.assign({},{type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1});const mk=(delete Ah.type,
delete Ah.domain,delete Ah.range,delete Ah.rangeMax,delete Ah.rangeMin,delete Ah.scheme,Ah),lk=sd(mk),Gf={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},rh=Gf.arc,bi=Gf.area,Bh=Gf.bar,oi=Gf.image,Rg=Gf.line,Sg=Gf.point,Pf=Gf.rect,hh=Gf.rule,zl=Gf.text,Ji=Gf.tick,ul=Gf.trail,tj=Gf.circle,Hi=Gf.square,qi=Gf.geoshape,Mj=new Set(sd(Gf)),Yi="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),
ri=sd({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),uj=sd({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),ci={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},wj={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},vj=(a,b)=>{switch(b.fieldTitle){case "plain":return a.field;
case "functional":{const {aggregate:e,bin:f,timeUnit:g,field:p}=a;wa(e)?a=`${p} for argmax(${e.argmax})`:la(e)?a=`${p} for argmin(${e.argmin})`:(a=g&&!Jc(g)?nd(g):void 0,a=(a=e||(null==a?void 0:a.unit)||(null==a?void 0:a.maxbins)&&"timeunit"||vb(f)&&"bin")?`${a.toUpperCase()}(${p})`:p)}return a;default:return Be(a,b)}};let Cf=vj;const Ii={compatible:!0},Nj={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",
vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},
tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}},nk=["domain","grid","labels","ticks","title"],Zi={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",
domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",
minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",
titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},uf={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,
labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,
titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},mg=Object.assign({},uf,{style:1,labelExpr:1,encoding:1}),wg=sd({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});class $i{constructor(a,
b){this.name=a;this.run=b}hasMatchingType(a){return mf(a)?(a=a.mark,(gd(a)?a.type:a)===this.name):!1}}const Oj=new $i("boxplot",ze),Pj=new $i("errorbar",Xf),km=new $i("errorband",Vg),Qj={};dg("boxplot",ze,["box","median","outliers","rule","ticks"]);dg("errorbar",Xf,["ticks","rule"]);dg("errorband",Vg,["band","borders"]);const Xl=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],sl={titleAlign:"align",titleAnchor:"anchor",
titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},tl={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",
labelOrient:"orient",labelPadding:"offset"},ok=sd(sl),Yl=sd(tl),vl=sd({header:1,headerRow:1,headerColumn:1,headerFacet:1}),bh="size shape fill stroke strokeDash strokeWidth opacity".split(" "),Wk=sd({align:1,bounds:1,center:1,columns:1,spacing:1}),Zl={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,
minBandSize:.25,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,minBandSize:.25,timeUnitBandPosition:.5},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,
bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{point:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",
resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] \x3e window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] \x3e window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20},normalizedNumberFormat:".0%"},ei="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),wl={text:11,guideLabel:10,
guideTitle:11,groupTitle:13,groupSubtitle:12},xl={blue:ei[0],orange:ei[1],red:ei[2],teal:ei[3],green:ei[4],yellow:ei[5],purple:ei[6],pink:ei[7],brown:ei[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},sk=[...uj,...wg,...vl,"background","padding","legend","lineBreak","scale","style","title","view"],Xg=new Set(["view",...Mj]),$l="color fontSize background padding facet concat numberFormat numberFormatType normalizedNumberFormat normalizedNumberFormatType timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),
ae=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],line:["point"],tick:["bandSize","thickness"]});class rk{map(a,b){return"facet"in a?this.mapFacet(a,b):"repeat"in a?this.mapRepeat(a,b):"hconcat"in a?this.mapHConcat(a,b):"vconcat"in a?this.mapVConcat(a,b):"concat"in a?this.mapConcat(a,
b):this.mapLayerOrUnit(a,b)}mapLayerOrUnit(a,b){if("layer"in a)return this.mapLayer(a,b);if(mf(a))return this.mapUnit(a,b);throw Error(xa(a));}mapLayer(a,b){return Object.assign({},a,{layer:a.layer.map(e=>this.mapLayerOrUnit(e,b))})}mapHConcat(a,b){return Object.assign({},a,{hconcat:a.hconcat.map(e=>this.map(e,b))})}mapVConcat(a,b){return Object.assign({},a,{vconcat:a.vconcat.map(e=>this.map(e,b))})}mapConcat(a,b){var e=Object.assign({},a);a=a.concat;e=(delete e.concat,e);return Object.assign({},
e,{concat:a.map(f=>this.map(f,b))})}mapFacet(a,b){return Object.assign({},a,{spec:this.map(a.spec,b)})}mapRepeat(a,b){return Object.assign({},a,{spec:this.map(a.spec,b)})}}const Og={zero:1,center:1,normalize:1},Th=new Set([rh,Bh,bi,hh,Sg,tj,Hi,Rg,zl,Ji]),am=new Set([Bh,bi,rh]);class uk{constructor(){Q(this,"name","path-overlay")}hasMatchingType(a,b){if(mf(a)){const {mark:e,encoding:f}=a;a=gd(e)?e:{type:e};switch(a.type){case "line":case "rule":case "trail":return!!Hg(a,b[a.type],f);case "area":return!!Hg(a,
b[a.type],f)||!!ti(a,b[a.type])}}return!1}run(a,b,e){var {config:f}=b,g=Object.assign({},a),p=a.params,B=a.projection,O=a.mark,X=a.name;a=a.encoding;g=(delete g.params,delete g.projection,delete g.mark,delete g.name,delete g.encoding,g);a=Eg(a,f);O=gd(O)?O:{type:O};const ua=Hg(O,f[O.type],a),cb="area"===O.type&&ti(O,f[O.type]);var pb=Object,gc=pb.assign;var Mc=Object.assign({},"area"===O.type&&void 0===O.opacity&&void 0===O.fillOpacity?{opacity:.7}:{},O);Mc=Object.assign({},Mc);Mc=(delete Mc.point,
delete Mc.line,Mc);Mc=1<sd(Mc).length?Mc:Mc.type;p=[gc.call(pb,{},{name:X},p?{params:p}:{},{mark:Mc,encoding:ac(a,["shape"])})];X=uh(jg(O,a,f),a);pb=a;if(X){const {fieldChannel:kc,offset:Lc}=X;pb=Object.assign({},a,{[kc]:Object.assign({},a[kc],Lc?{stack:Lc}:{})})}pb=ac(pb,["y2","x2"]);cb&&p.push(Object.assign({},B?{projection:B}:{},{mark:Object.assign({},{type:"line"},Yb(O,["clip","interpolate","tension","tooltip"]),cb),encoding:pb}));ua&&p.push(Object.assign({},B?{projection:B}:{},{mark:Object.assign({},
{type:"point",opacity:1,filled:!0},Yb(O,["clip","tooltip"]),ua),encoding:pb}));B=Object.assign({},g,{layer:p});g=Object;p=g.assign;for(const kc of["line","area","rule","trail"])f[kc]&&(f=Object.assign({},f,{[kc]:ac(f[kc],["point","line"])}));return e(B,p.call(g,{},b,{config:f}))}}class al{constructor(){Q(this,"name","RuleForRangedLine")}hasMatchingType(a){if(mf(a)){const {encoding:b,mark:e}=a;if("line"===e||gd(e)&&"line"===e.type)for(const f of Mk)if(a=P(f),a=b[a],b[f]&&(Ga(a)&&!jb(a.bin)||nb(a)))return!0}return!1}run(a,
b,e){const {encoding:f,mark:g}=a;var p=!!f.x2;J(`Line mark is for continuous lines and thus cannot be used with ${p&&f.y2?"x2 and y2":p?"x2":"y2"}. We will use the rule mark (line segments) instead.`);return e(Object.assign({},a,{mark:h.isObject(g)?Object.assign({},g,{type:"rule"}):"rule"}),b)}}class Kh extends rk{constructor(){super(...arguments);Q(this,"nonFacetUnitNormalizers",[Oj,Pj,km,new uk,new al])}map(a,b){if(mf(a)){const e=Se(a.encoding,"row"),f=Se(a.encoding,"column"),g=Se(a.encoding,"facet");
if(e||f||g)return this.mapFacetedUnit(a,b)}return super.map(a,b)}mapUnit(a,b){const {parentEncoding:e,parentProjection:f}=b;var g=di(a.encoding,b.repeater);a=Object.assign({},a,a.name?{name:[b.repeaterPrefix,a.name].filter(p=>p).join("_")}:{},g?{encoding:g}:{});if(e||f)return this.mapUnitWithParentEncodingOrProjection(a,b);g=this.mapLayerOrUnit.bind(this);for(const p of this.nonFacetUnitNormalizers)if(p.hasMatchingType(a,b.config))return p.run(a,b,g);return a}mapRepeat(a,b){return!h.isArray(a.repeat)&&
a.repeat.layer?this.mapLayerRepeat(a,b):this.mapNonLayerRepeat(a,b)}mapLayerRepeat(a,b){var e=Object.assign({},a);const f=a.repeat,g=a.spec;e=(delete e.repeat,delete e.spec,e);const {row:p,column:B,layer:O}=f,{repeater:X={},repeaterPrefix:ua=""}=b;return p||B?this.mapRepeat(Object.assign({},a,{repeat:Object.assign({},p?{row:p}:{},B?{column:B}:{}),spec:{repeat:{layer:O},spec:g}}),b):Object.assign({},e,{layer:O.map(cb=>{var pb=Object.assign({},X,{layer:cb});cb=`${(g.name?`${g.name}_`:"")+ua}child__layer_${ra(cb)}`;
pb=this.mapLayerOrUnit(g,Object.assign({},b,{repeater:pb,repeaterPrefix:cb}));pb.name=cb;return pb})})}mapNonLayerRepeat(a,b){var e=a,f=Object.assign({},e);const g=e.repeat,p=e.spec;e=e.data;f=(delete f.repeat,delete f.spec,delete f.data,f);!h.isArray(g)&&a.columns&&(a=ac(a,["columns"]),J(Cc("repeat")));const B=[],{repeater:O={},repeaterPrefix:X=""}=b,ua=!h.isArray(g)&&g.row||[O?O.row:null],cb=!h.isArray(g)&&g.column||[O?O.column:null];var pb=h.isArray(g)&&g||[O?O.repeat:null];for(const kc of pb)for(const Lc of ua)for(const Zc of cb){var gc=
{repeat:kc,row:Lc,column:Zc,layer:O.layer};pb=(p.name?`${p.name}_`:"")+X+"child__"+(h.isArray(g)?`${ra(kc)}`:(g.row?`row_${ra(Lc)}`:"")+(g.column?`column_${ra(Zc)}`:""));gc=this.map(p,Object.assign({},b,{repeater:gc,repeaterPrefix:pb}));gc.name=pb;B.push(ac(gc,["data"]))}a=h.isArray(g)?a.columns:g.column?g.column.length:1;let Mc;return Object.assign({},{data:null!=(Mc=p.data)?Mc:e,align:"all"},f,{columns:a,concat:B})}mapFacet(a,b){const {facet:e}=a;Ae(e)&&a.columns&&(a=ac(a,["columns"]),J(Cc("facet")));
return super.mapFacet(a,b)}mapUnitWithParentEncodingOrProjection(a,b){const {encoding:e,projection:f}=a,{parentEncoding:g,parentProjection:p,config:B}=b,O=Gh({parentProjection:p,projection:f});b=Gg({parentEncoding:g,encoding:di(e,b.repeater)});return this.mapUnit(Object.assign({},a,O?{projection:O}:{},b?{encoding:b}:{}),{config:B})}mapFacetedUnit(a,b){var e=a.encoding,f=Object.assign({},e),g=e.row;const p=e.column;e=e.facet;const B=(delete f.row,delete f.column,delete f.facet,f);var O=Object.assign({},
a);f=a.mark;const X=a.width,ua=a.projection,cb=a.height,pb=a.view;a=a.params;O=(delete O.mark,delete O.width,delete O.projection,delete O.height,delete O.view,delete O.params,delete O.encoding,O);const {facetMapping:gc,layout:Mc}=this.getFacetMappingAndLayout({row:g,column:p,facet:e},b);g=di(B,b.repeater);return this.mapFacet(Object.assign({},O,Mc,{facet:gc,spec:Object.assign({},X?{width:X}:{},cb?{height:cb}:{},pb?{view:pb}:{},ua?{projection:ua}:{},{mark:f,encoding:g},a?{params:a}:{})}),b)}getFacetMappingAndLayout(a,
b){const {row:e,column:f,facet:g}=a;if(e||f){g&&(b=[...(e?["row"]:[]),...(f?["column"]:[])],b=`Facet encoding dropped as ${b.join(" and ")} ${1<b.length?"are":"is"} also specified.`,J(b));b={};const cb={};for(var p of["row","column"]){const pb=a[p];if(pb){var B=Object.assign({},pb);B=(delete B.align,delete B.center,delete B.spacing,delete B.columns,B);b[p]=B;for(var O of["align","center","spacing"])if(void 0!==pb[O]){var X=void 0,ua=void 0;null!=(X=cb)[ua=O]||(X[ua]={});cb[O][p]=pb[O]}}}return{facetMapping:b,
layout:cb}}ua=Object.assign({},g);a=g.align;p=g.center;O=g.spacing;X=g.columns;ua=(delete ua.align,delete ua.center,delete ua.spacing,delete ua.columns,ua);ua=(b=b.repeater)?Ae(ua)?Fh(ua,b):ui(ua,b):ua;return{facetMapping:ua,layout:Object.assign({},a?{align:a}:{},p?{center:p}:{},O?{spacing:O}:{},X?{columns:X}:{})}}mapLayer(a,b){var e=Object.assign({},b),f=b.parentEncoding;b=b.parentProjection;e=(delete e.parentEncoding,delete e.parentProjection,e);var g=Object.assign({},a);const p=a.encoding,B=a.projection;
g=(delete g.encoding,delete g.projection,g);f=Object.assign({},e,{parentEncoding:Gg({parentEncoding:f,encoding:p,layer:!0}),parentProjection:Gh({parentProjection:b,projection:B})});return super.mapLayer(Object.assign({},g,a.name?{name:[f.repeaterPrefix,a.name].filter(O=>O).join("_")}:{}),f)}}class cf extends rk{map(a,b){null!=b.emptySelections||(b.emptySelections={});null!=b.selectionPredicates||(b.selectionPredicates={});a=eg(a,b);return super.map(a,b)}mapLayerOrUnit(a,b){a=eg(a,b);if(a.encoding){const e=
{};for(const f of Gi(a.encoding)){const [g,p]=f;e[g]=cj(p,b)}a=Object.assign({},a,{encoding:e})}return super.mapLayerOrUnit(a,b)}mapUnit(a,b){var e=Object.assign({},a);const f=a.selection;e=(delete e.selection,e);return f?Object.assign({},e,{params:Gi(f).map(g=>{let [p,B]=g;var O=Object.assign({},B);g=B.init;const X=B.bind,ua=B.empty;O=(delete O.init,delete O.bind,delete O.empty,O);"single"===O.type?(O.type="point",O.toggle=!1):"multi"===O.type&&(O.type="point");b.emptySelections[p]="none"!==ua;let cb;
for(const pb of kg(null!=(cb=b.selectionPredicates[p])?cb:{}))pb.empty="none"!==ua;return{name:p,value:g,select:O,bind:X}})}):a}}class ng extends rk{map(a,b){var e;const f=null!=(e=b.selections)?e:[];if(a.params&&!mf(a)){e=[];for(const g of a.params)Yd(g)?f.push(g):e.push(g);a.params=e}b.selections=f;return super.map(a,b)}mapUnit(a,b){const e=b.selections;if(!e||!e.length)return a;let f;const g=(null!=(f=b.path)?f:[]).concat(a.name);b=[];for(const p of e)if(p.views&&p.views.length)for(const B of p.views)(h.isString(B)&&
(B===a.name||g.includes(B))||h.isArray(B)&&B.map(O=>g.indexOf(O)).every((O,X,ua)=>-1!==O&&(0===X||O>ua[X-1])))&&b.push(p);else b.push(p);b.length&&(a.params=b);return a}}for(const a of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const b=ng.prototype[a];ng.prototype[a]=function(e,f){var g=b,p=g.call;let B;var O=e.name?Object.assign({},f,{path:(null!=(B=f.path)?B:[]).concat(e.name)}):f;return p.call(g,this,e,O)}}const sg=new Kh,Pg=new cf,th=new ng,xj=["background","padding"];class If{constructor(){let a=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.explicit=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.implicit=a}clone(){return new If(De(this.explicit),De(this.implicit))}combine(){return Object.assign({},this.explicit,this.implicit)}get(a){return T(this.explicit[a],this.implicit[a])}getWithExplicit(a){return void 0!==this.explicit[a]?{explicit:!0,value:this.explicit[a]}:void 0!==this.implicit[a]?{explicit:!1,value:this.implicit[a]}:{explicit:!1,value:void 0}}setWithExplicit(a,
b){let {value:e,explicit:f}=b;void 0!==e&&this.set(a,e,f)}set(a,b,e){delete this[e?"implicit":"explicit"][a];this[e?"explicit":"implicit"][a]=b;return this}copyKeyFromSplit(a,b){let {explicit:e,implicit:f}=b;void 0!==e[a]?this.set(a,e[a],!0):void 0!==f[a]&&this.set(a,f[a],!1)}copyKeyFromObject(a,b){void 0!==b[a]&&this.set(a,b[a],!0)}copyAll(a){for(const b of sd(a.combine())){const e=a.getWithExplicit(b);this.setWithExplicit(b,e)}}}class Rj extends If{constructor(){let a=0<arguments.length&&void 0!==
arguments[0]?arguments[0]:{},b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super(a,b);this.explicit=a;this.implicit=b;this.parseNothing=e}clone(){const a=super.clone();a.parseNothing=this.parseNothing;return a}}let nf=function(a){a[a.Raw=0]="Raw";a[a.Main=1]="Main";a[a.Row=2]="Row";a[a.Column=3]="Column";a[a.Lookup=4]="Lookup";return a}({});class jf{constructor(a,b){this.debugName=b;Q(this,"_children",[]);Q(this,"_parent",null);
Q(this,"_hash",void 0);a&&(this.parent=a)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(a){(this._parent=a)&&a.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(a,b){this._children.includes(a)?J("Attempt to add the same child twice."):void 0!==b?this._children.splice(b,0,a):this._children.push(a)}removeChild(a){a=this._children.indexOf(a);this._children.splice(a,1);return a}remove(){let a=this._parent.removeChild(this);
for(const b of this._children)b._parent=this._parent,this._parent.addChild(b,a++)}insertAsParentOf(a){const b=a.parent;b.removeChild(this);this.parent=b;a.parent=this}swapWithParent(){const a=this._parent,b=a.parent;for(var e of this._children)e.parent=a;this._children=[];a.removeChild(this);e=a.parent.removeChild(a);this._parent=b;b.addChild(this,e);a.parent=this}}class Qg extends jf{clone(){const a=new this.constructor;a.debugName=`clone_${this.debugName}`;a._source=this._source;a._name=`clone_${this._name}`;
a.type=this.type;a.refCounts=this.refCounts;a.refCounts[a._name]=0;return a}constructor(a,b,e,f){super(a,b);this.type=e;this.refCounts=f;Q(this,"_source",void 0);Q(this,"_name",void 0);this._source=this._name=b;!this.refCounts||this._name in this.refCounts||(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===this._hash&&(this._hash=`Output ${Z()}`);return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(a){this._source=
a}}class wh extends jf{clone(){return new wh(null,De(this.timeUnits))}constructor(a,b){super(a);this.timeUnits=b}static makeFromEncoding(a,b){const e=b.reduceFieldDef((f,g,p)=>{const {field:B,timeUnit:O}=g;if(O){let X;if(Jc(O)){if(Lf(b)){const {mark:ua,markDef:cb,config:pb}=b,gc=l({fieldDef:g,markDef:cb,config:pb});if(cc(ua)||gc)X={timeUnit:nd(O),field:B}}}else X={as:pc(g,{forAs:!0}),field:B,timeUnit:O};if(Lf(b)){const {mark:ua,markDef:cb,config:pb}=b;g=l({fieldDef:g,markDef:cb,config:pb});cc(ua)&&
F(p)&&.5!==g&&(X.rectBandPosition=g)}X&&(f[Xb(X)]=X)}return f},{});return hb(e)?null:new wh(a,e)}static makeFromTransform(a,b){var e=Object.assign({},b);b=Object.assign({},e);e=e.timeUnit;b=(delete b.timeUnit,b);e=nd(e);b=Object.assign({},b,{timeUnit:e});return new wh(a,{[Xb(b)]:b})}merge(a){this.timeUnits=Object.assign({},this.timeUnits);for(const b in a.timeUnits)this.timeUnits[b]||(this.timeUnits[b]=a.timeUnits[b]);for(const b of a.children)a.removeChild(b),b.parent=this;a.remove()}removeFormulas(a){const b=
{};for(const e of Gi(this.timeUnits)){const [f,g]=e;a.has(void 0!==g.as?g.as:`${g.field}_end`)||(b[f]=g)}this.timeUnits=b}producedFields(){return new Set(kg(this.timeUnits).map(a=>void 0!==a.as?a.as:`${a.field}_end`))}dependentFields(){return new Set(kg(this.timeUnits).map(a=>a.field))}hash(){return`TimeUnit ${Xb(this.timeUnits)}`}assemble(){const a=[];for(const g of kg(this.timeUnits)){const {rectBandPosition:p}=g,B=nd(g.timeUnit);if(void 0!==g.as){const {field:O,as:X}=g;var b=B,e=Object.assign({},
b),f=b.unit;b=b.utc;e=(delete e.unit,delete e.utc,e);const ua=[X,`${X}_end`];a.push(Object.assign({},{field:bb(O),type:"timeunit"},f?{units:Ac(f)}:{},b?{timezone:"utc"}:{},e,{as:ua}));a.push(...Jb(ua,p,B))}else g&&({field:f}=g,f=f.replaceAll("\\.","."),b=Na({timeUnit:B,field:f}),e=`${f}_end`,a.push({type:"formula",expr:b,as:e}),a.push(...Jb([f,e],p,B)))}return a}}class oh{constructor(){Q(this,"hasChannel",void 0);Q(this,"hasField",void 0);Q(this,"hasSelectionId",void 0);Q(this,"timeUnit",void 0);
Q(this,"items",void 0);for(var a=arguments.length,b=Array(a),e=0;e<a;e++)b[e]=arguments[e];this.items=b;this.hasChannel={};this.hasField={};this.hasSelectionId=!1}}const Uh={defined:a=>"interval"===a.type&&"global"===a.resolve&&a.bind&&"scales"===a.bind,parse:(a,b)=>{const e=b.scales=[];for(const g of b.project.items){var f=g.channel;if(!Mh[f])continue;const p=(f=a.getScaleComponent(f))?f.get("type"):void 0;f&&Kd(p)?(f.set("selectionExtent",{param:b.name,field:g.field},!0),e.push(g)):J("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},
topLevelSignals:(a,b,e)=>{const f=b.scales.filter(p=>0===e.filter(B=>B.name===p.signals.data).length);if(!a.parent||r(a)||0===f.length)return e;a=e.filter(p=>p.name===b.name)[0];let g=a.update;if(0<=g.indexOf("vlSelectionResolve"))a.update=`{${f.map(p=>`${h.stringValue(bb(p.field))}: ${p.signals.data}`).join(", ")}}`;else{for(const p of f){const B=`${h.stringValue(bb(p.field))}: ${p.signals.data}`;g.includes(B)||(g=`${g.substring(0,g.length-1)}, ${B}}`)}a.update=g}return e.concat(f.map(p=>({name:p.signals.data})))},
signals:(a,b,e)=>{if(a.parent&&!r(a))for(const f of b.scales)a=e.filter(g=>g.name===f.signals.data)[0],a.push="outer",delete a.value,delete a.update;return e}},zj={left:"x",center:"xc",right:"x2"},xi={top:"y",middle:"yc",bottom:"y2"},pk=new Set(["aria","width","height"]),qk={defined:a=>"point"===a.type&&a.nearest,parse:(a,b)=>{if(b.events)for(const e of b.events)e.markname=a.getName("voronoi")},marks:(a,b,e)=>{const {x:f,y:g}=b.project.hasChannel;b=a.mark;if(Oa(b))return J(`The "nearest" transform is not supported for ${b} marks.`),
e;b={name:a.getName("voronoi"),type:"path",interactive:!0,from:{data:a.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},Pb(a,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:f||!g?"datum.datum.x || 0":"0"},y:{expr:g||!f?"datum.datum.y || 0":"0"},size:[a.getSizeSignalRef("width"),a.getSizeSignalRef("height")]}]};let p=0,B=!1;e.forEach((O,X)=>{let ua;O=null!=(ua=O.name)?ua:"";O===a.component.mark[0].name?
p=X:0<=O.indexOf("voronoi")&&(B=!0)});B||e.splice(p+1,0,b);return e}},si={defined:a=>"point"===a.type&&"global"===a.resolve&&a.bind&&"scales"!==a.bind&&!sh(a.bind),parse:(a,b,e)=>Cg(b,e),topLevelSignals:(a,b,e)=>{const f=b.name;a=b.project;const g=b.bind,p=b.init&&b.init[0],B=qk.defined(b)?"(item().isVoronoi ? datum.datum : datum)":"datum";a.items.forEach((O,X)=>{const ua=ra(`${f}_${O.field}`);if(!e.filter(cb=>cb.name===ua).length){let cb,pb;e.unshift(Object.assign({},{name:ua},p?{init:mh(p[X])}:
{value:null},{on:b.events?[{events:b.events,update:`datum && item().mark.marktype !== 'group' ? ${B}[${h.stringValue(O.field)}] : null`}]:[],bind:null!=(pb=null!=(cb=g[O.field])?cb:g[O.channel])?pb:g}))}});return e},signals:(a,b,e)=>{const f=b.name;var g=b.project;a=e.filter(B=>B.name===f+"_tuple")[0];b=f+"_tuple_fields";g=g.items.map(B=>ra(`${f}_${B.field}`));const p=g.map(B=>`${B} !== null`).join(" \x26\x26 ");g.length&&(a.update=`${p} ? {fields: ${b}, values: [${g.join(", ")}]} : null`);delete a.value;
delete a.on;return e}},Sj={defined:a=>"point"===a.type&&!!a.toggle,signals:(a,b,e)=>e.concat({name:b.name+"_toggle",value:!1,on:[{events:b.events,update:b.toggle}]}),modifyExpr:(a,b)=>{const e=b.name+"_tuple",f=b.name+"_toggle";return`${f} ? null : ${e}, `+("global"===b.resolve?`${f} ? null : true, `:`${f} ? null : {unit: ${cg(a)}}, `)+`${f} ? ${e} : null`}},yi={defined:a=>{const b="global"===a.resolve&&a.bind&&sh(a.bind);a=1===a.project.items.length&&"_vgsid_"!==a.project.items[0].field;b&&!a&&J("Legend bindings are only supported for selections over an individual field or encoding channel.");
return b&&a},parse:(a,b,e)=>{a=De(e);a.select=h.isString(a.select)?{type:a.select,toggle:b.toggle}:Object.assign({},a.select,{toggle:b.toggle});Cg(b,a);if(h.isObject(e.select)&&(e.select.on||e.select.clear))for(const f of b.events){let g;f.filter=h.array(null!=(g=f.filter)?g:[]);f.filter.includes('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')||f.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}e=Dh(b.bind)?b.bind.legend:"click";e=h.isString(e)?
h.parseSelector(e,"view"):h.array(e);b.bind={legend:{merge:e}}},topLevelSignals:(a,b,e)=>{a=b.name;const f=Dh(b.bind)&&b.bind.legend,g=B=>O=>{O=De(O);O.markname=B;return O};for(const B of b.project.items){if(!B.hasLegend)continue;var p=`${ra(B.field)}_legend`;const O=`${a}_${p}`;0===e.filter(X=>X.name===O).length&&(p=f.merge.map(g(`${p}_symbols`)).concat(f.merge.map(g(`${p}_labels`))).concat(f.merge.map(g(`${p}_entries`))),e.unshift(Object.assign({},{name:O},b.init?{}:{value:null},{on:[{events:p,
update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:f.merge,update:`!event.item || !datum ? null : ${O}`,force:!0}]})))}return e},signals:(a,b,e)=>{const f=b.name;var g=b.project;a=e.find(B=>B.name===f+"_tuple");var p=f+"_tuple_fields";g=g.items.filter(B=>B.hasLegend).map(B=>ra(`${f}_${ra(B.field)}_legend`));p=`${g.map(B=>`${B} !== null`).join(" \x26\x26 ")} ? {fields: ${p}, values: [${g.join(", ")}]} : null`;b.events&&0<g.length?a.on.push({events:g.map(B=>
({signal:B})),update:p}):0<g.length&&(a.update=p,delete a.value,delete a.on);a=e.find(B=>B.name===f+"_toggle");p=Dh(b.bind)&&b.bind.legend;a&&(b.events?a.on.push(Object.assign({},a.on[0],{events:p})):a.on[0].events=p);return e}},dj=[{defined:a=>"point"===a.type,signals:(a,b,e)=>{const f=b.name,g=f+"_tuple_fields";var p=b.project,B,O=kg(null!=(B=a.component.selection)?B:{}).reduce((X,ua)=>"interval"===ua.type?X.concat(ua.name+"_brush"):X,[]).map(X=>`indexof(item().mark.name, '${X}') < 0`).join(" \x26\x26 ");
B=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${O?` && ${O}`:""}`;O=`unit: ${cg(a)}, `;b.project.hasSelectionId?O+=`${"_vgsid_"}: ${"(item().isVoronoi ? datum.datum : datum)"}[${h.stringValue("_vgsid_")}]`:(p=p.items.map(X=>{let ua;return(null==(ua=a.fieldDef(X.channel))?0:ua.bin)?`[${"(item().isVoronoi ? datum.datum : datum)"}[${h.stringValue(a.vgField(X.channel,{}))}], `+`${"(item().isVoronoi ? datum.datum : datum)"}[${h.stringValue(a.vgField(X.channel,{binSuffix:"end"}))}]]`:
`${"(item().isVoronoi ? datum.datum : datum)"}[${h.stringValue(X.field)}]`}).join(", "),O+=`fields: ${g}, values: [${p}]`);b=b.events;return e.concat([{name:f+"_tuple",on:b?[{events:b,update:`${B} ? {${O}} : null`,force:!0}]:[]}])}},{defined:a=>"interval"===a.type,parse:(a,b,e)=>{a.hasProjection&&(a=Object.assign({},h.isObject(e.select)?e.select:{}),a.fields=["_vgsid_"],a.encodings||(a.encodings=e.value?sd(e.value):["longitude","latitude"]),e.select=Object.assign({},{type:"interval"},a));if(b.translate&&
!Uh.defined(b)){e=`!event.item || event.item.mark.name !== ${h.stringValue(b.name+"_brush")}`;for(const f of b.events){if(!f.between){J(`${f} is not an ordered event stream for interval selections.`);continue}let g,p;b=h.array(null!=(p=(g=f.between[0]).filter)?p:g.filter=[]);0>b.indexOf(e)&&b.push(e)}}},signals:(a,b,e)=>{var f=b.name;const g=f+"_tuple";var p=kg(b.project.hasChannel).filter(cb=>"x"===cb.channel||"y"===cb.channel);const B=b.init?b.init[0]:null;e.push(...p.reduce((cb,pb)=>cb.concat(I(a,
b,pb,B&&B[pb.index])),[]));if(a.hasProjection){var O=h.stringValue(a.projectionName());const cb=a.projectionName()+"_center",{x:pb,y:gc}=b.project.hasChannel;var X=pb&&pb.signals.visual;const Mc=gc&&gc.signals.visual;var ua=pb?B&&B[pb.index]:`${cb}[0]`;const kc=gc?B&&B[gc.index]:`${cb}[1]`;X="["+`[${X?X+"[0]":"0"}, ${Mc?Mc+"[0]":"0"}],`+`[${X?X+"[1]":a.getSizeSignalRef("width").signal}, `+`${Mc?Mc+"[1]":a.getSizeSignalRef("height").signal}]`+"]";B&&(e.unshift({name:f+"_init",init:`[scale(${O}, [${pb?
ua[0]:ua}, ${gc?kc[0]:kc}]), `+`scale(${O}, [${pb?ua[1]:ua}, ${gc?kc[1]:kc}])]`}),pb&&gc||e.find(Lc=>Lc.name===cb)||e.unshift({name:cb,update:`invert(${O}, [${a.getSizeSignalRef("width").signal}/2, ${a.getSizeSignalRef("height").signal}/2])`}));f=`intersect(${X}, {markname: ${h.stringValue(a.getName("marks"))}}, unit.mark)`;O=`{unit: ${cg(a)}}`;f=`vlSelectionTuples(${f}, ${O})`;p=p.map(Lc=>Lc.signals.visual);return e.concat({name:g,on:[{events:[...(p.length?[{signal:p.join(" || ")}]:[]),...(B?[{signal:"geo_interval_init_tick"}]:
[])],update:f}]})}Uh.defined(b)||(O=f+"_scale_trigger",ua=p.map(cb=>{var pb=cb.channel;const {data:gc,visual:Mc}=cb.signals;cb=h.stringValue(a.scaleName(pb));pb=a.getScaleComponent(pb).get("type");pb=Kd(pb)?"+":"";return`(!isArray(${gc}) || `+`(${pb}invert(${cb}, ${Mc})[0] === ${pb}${gc}[0] && `+`${pb}invert(${cb}, ${Mc})[1] === ${pb}${gc}[1]))`}),ua.length&&e.push({name:O,value:{},on:[{events:p.map(cb=>({scale:a.scaleName(cb.channel)})),update:ua.join(" \x26\x26 ")+` ? ${O} : {}`}]}));p=p.map(cb=>
cb.signals.data);f=`unit: ${cg(a)}, fields: ${f+"_tuple_fields"}, values`;return e.concat(Object.assign({},{name:g},B?{init:`{${f}: ${mh(B)}}`}:{},p.length?{on:[{events:[{signal:p.join(" || ")}],update:`${p.join(" \x26\x26 ")} ? {${f}: [${p}]} : null`}]}:{}))},topLevelSignals:(a,b,e)=>{Lf(a)&&a.hasProjection&&b.init&&(e.filter(f=>"geo_interval_init_tick"===f.name).length||e.unshift({name:"geo_interval_init_tick",value:null,on:[{events:"timer{1}",update:"geo_interval_init_tick \x3d\x3d\x3d null ? {} : geo_interval_init_tick"}]}));
return e},marks:(a,b,e)=>{const f=b.name,{x:g,y:p}=b.project.hasChannel,B=null==g?void 0:g.signals.visual,O=null==p?void 0:p.signals.visual;var X=`data(${h.stringValue(b.name+"_store")})`;if(Uh.defined(b)||!g&&!p)return e;const ua={x:void 0!==g?{signal:`${B}[0]`}:{value:0},y:void 0!==p?{signal:`${O}[0]`}:{value:0},x2:void 0!==g?{signal:`${B}[1]`}:{field:{group:"width"}},y2:void 0!==p?{signal:`${O}[1]`}:{field:{group:"height"}}};if("global"===b.resolve)for(var cb of sd(ua))ua[cb]=[Object.assign({},
{test:`${X}.length && ${X}[0].unit === ${cg(a)}`},ua[cb]),{value:0}];cb=b.mark;X=Object.assign({},cb);a=cb.fill;b=cb.fillOpacity;cb=cb.cursor;const pb=(delete X.fill,delete X.fillOpacity,delete X.cursor,X);X=sd(pb).reduce((gc,Mc)=>{gc[Mc]=[{test:[void 0!==g&&`${B}[0] !== ${B}[1]`,void 0!==p&&`${O}[0] !== ${O}[1]`].filter(kc=>kc).join(" \x26\x26 "),value:pb[Mc]},{value:null}];return gc},{});return[{name:`${f+"_brush"}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:a},fillOpacity:{value:b}},update:ua}},
...e,{name:f+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},cb?{cursor:{value:cb}}:{},{fill:{value:"transparent"}}),update:Object.assign({},ua,X)}}]}},{defined:()=>!0,parse:(a,b,e)=>{const f=b.name;var g;const p=null!=(g=b.project)?g:b.project=new oh,B={};g={};const O=new Set,X=(cd,je)=>{cd="visual"===je?cd.channel:cd.field;let Zd=ra(`${f}_${cd}`);for(let Ce=1;O.has(Zd);Ce++)Zd=ra(`${f}_${cd}_${Ce}`);O.add(Zd);return{[je]:Zd}},ua=b.type,cb=a.config.selection[ua],pb=void 0!==e.value?h.array(e.value):
null;let {fields:gc,encodings:Mc}=h.isObject(e.select)?e.select:{};if(!gc&&!Mc&&pb)for(var kc of pb)if(h.isObject(kc))for(const cd of sd(kc))if(oj[cd])(Mc||(Mc=[])).push(cd);else if("interval"===ua)J('Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.'),Mc=cb.encodings;else{let je;(null!=(je=gc)?je:gc=[]).push(cd)}gc||Mc||(Mc=cb.encodings,"fields"in cb&&(gc=cb.fields));var Lc;for(const cd of null!=(Lc=Mc)?Lc:[])(Lc=a.fieldDef(cd))?(e=Lc.field,Lc.aggregate?J(`Cannot project a selection on encoding channel "${cd}" as it uses an aggregate function ("${Lc.aggregate}").`):
e?(Lc.timeUnit&&!Jc(Lc.timeUnit)&&(e=a.vgField(cd),kc={timeUnit:Lc.timeUnit,as:e,field:Lc.field},g[Xb(kc)]=kc),B[e]||(Lc="interval"===ua&&Mh[cd]&&Kd(a.getScaleComponent(cd).get("type"))?"R":Lc.bin?"R-RE":"E",Lc={field:e,channel:cd,type:Lc,index:p.items.length},Lc.signals=Object.assign({},X(Lc,"data"),X(Lc,"visual")),p.items.push(B[e]=Lc),p.hasField[e]=B[e],p.hasSelectionId=p.hasSelectionId||"_vgsid_"===e,cd in mi?(Lc.geoChannel=cd,Lc.channel=D(cd),p.hasChannel[Lc.channel]=B[e]):p.hasChannel[cd]=B[e])):
J(Fb(cd))):J(Fb(cd));let Zc;for(const cd of null!=(Zc=gc)?Zc:[])p.hasField[cd]||(a={type:"E",field:cd,index:p.items.length},a.signals=Object.assign({},X(a,"data")),p.items.push(a),p.hasField[cd]=a,p.hasSelectionId=p.hasSelectionId||"_vgsid_"===cd);pb&&(b.init=pb.map(cd=>p.items.map(je=>h.isObject(cd)?void 0!==cd[je.geoChannel||je.channel]?cd[je.geoChannel||je.channel]:cd[je.field]:cd)));hb(g)||(p.timeUnit=new wh(null,g))},signals:(a,b,e)=>{const f=b.name+"_tuple_fields";return 0<e.filter(g=>g.name===
f).length||b.project.hasSelectionId?e:e.concat({name:f,value:b.project.items.map(Ng)})}},Sj,si,Uh,yi,{defined:a=>void 0!==a.clear&&!1!==a.clear,parse:(a,b)=>{b.clear&&(b.clear=h.isString(b.clear)?h.parseSelector(b.clear,"view"):b.clear)},topLevelSignals:(a,b,e)=>{if(si.defined(b))for(const f of b.project.items)a=e.findIndex(g=>g.name===ra(`${b.name}_${f.field}`)),-1!==a&&e[a].on.push({events:b.clear,update:"null"});return e},signals:(a,b,e)=>{function f(g,p){-1!==g&&e[g].on&&e[g].on.push({events:b.clear,
update:p})}if("interval"===b.type)for(const g of b.project.items)a=e.findIndex(p=>p.name===g.signals.visual),f(a,"[0, 0]"),-1===a&&(a=e.findIndex(p=>p.name===g.signals.data),f(a,"null"));else a=e.findIndex(g=>g.name===b.name+"_tuple"),f(a,"null"),Sj.defined(b)&&(a=e.findIndex(g=>g.name===b.name+"_toggle"),f(a,"false"));return e}},{defined:a=>"interval"===a.type&&a.translate,signals:(a,b,e)=>{const f=b.name,g=Uh.defined(b),p=f+"_translate_anchor",{x:B,y:O}=b.project.hasChannel;let X=h.parseSelector(b.translate,
"scope");g||(X=X.map(ua=>(ua.between[0].markname=f+"_brush",ua)));e.push({name:p,value:{},on:[{events:X.map(ua=>ua.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==B?`, extent_x: ${g?dc(a,"x"):`slice(${B.signals.visual})`}`:"")+(void 0!==O?`, extent_y: ${g?dc(a,"y"):`slice(${O.signals.visual})`}`:"")+"}"}]},{name:f+"_translate_delta",value:{},on:[{events:X,update:`{x: ${p}.x - x(unit), y: ${p}.y - y(unit)}`}]});void 0!==B&&Eh(a,b,B,"width",e);void 0!==O&&Eh(a,b,O,"height",e);return e}},{defined:a=>
"interval"===a.type&&a.zoom,signals:(a,b,e)=>{const f=b.name,g=Uh.defined(b),p=f+"_zoom_delta",{x:B,y:O}=b.project.hasChannel,X=h.stringValue(a.scaleName("x")),ua=h.stringValue(a.scaleName("y"));let cb=h.parseSelector(b.zoom,"scope");g||(cb=cb.map(pb=>(pb.markname=f+"_brush",pb)));e.push({name:f+"_zoom_anchor",on:[{events:cb,update:g?"{"+[X?`x: invert(${X}, x(unit))`:"",ua?`y: invert(${ua}, y(unit))`:""].filter(pb=>pb).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:p,on:[{events:cb,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});
void 0!==B&&gi(a,b,B,"width",e);void 0!==O&&gi(a,b,O,"height",e);return e}},qk];class wi extends jf{clone(){return new wi(null,this.model,De(this.filter))}constructor(a,b,e){super(a);this.model=b;this.filter=e;Q(this,"expr",void 0);Q(this,"_dependentFields",void 0);this.expr=Zf(this.model,this.filter,this);this._dependentFields=sj(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}
const tk={scale:a=>{let {model:b,channel:e}=a;return b.scaleName(e)},format:a=>{({format:a}=a);return a},formatType:a=>{({formatType:a}=a);return a},grid:a=>{let {fieldOrDatumDef:b,axis:e,scaleType:f}=a,g;return null!=(g=e.grid)?g:!ce(f)&&Ga(b)&&!vb(null==b?void 0:b.bin)&&!jb(null==b?void 0:b.bin)},gridScale:a=>{let {model:b,channel:e}=a;a="x"===e?"y":"x";a=b.getScaleComponent(a)?b.scaleName(a):void 0;return a},labelAlign:a=>{let {axis:b,labelAngle:e,orient:f,channel:g}=a;return b.labelAlign||xk(e,
f,g)},labelAngle:a=>{({labelAngle:a}=a);return a},labelBaseline:a=>{let {axis:b,labelAngle:e,orient:f,channel:g}=a;return b.labelBaseline||Wj(e,f,g)},labelFlush:a=>{let {axis:b,fieldOrDatumDef:e,channel:f}=a;null==(a=b.labelFlush)&&(a="x"===f&&Cb(["quantitative","temporal"],e.type)?!0:void 0);return a},labelOverlap:a=>{let {axis:b,fieldOrDatumDef:e,scaleType:f}=a;if(null==(a=b.labelOverlap)){a=e.type;var g=Ga(e)&&!!e.timeUnit,p=Ga(e)?e.sort:void 0;a=g&&!h.isObject(p)||"nominal"!==a&&"ordinal"!==a?
"log"===f||"symlog"===f?"greedy":!0:void 0}return a},orient:a=>{({orient:a}=a);return a},tickCount:a=>{let {channel:b,model:e,axis:f,fieldOrDatumDef:g,scaleType:p}=a;a=(a="x"===b?"width":"y"===b?"height":void 0)?e.getSizeSignalRef(a):void 0;let B;if(null!=(B=f.tickCount))var O=B;else a:{let {fieldOrDatumDef:X,scaleType:ua,size:cb,values:pb}={fieldOrDatumDef:g,scaleType:p,size:a,values:f.values};if(pb||ce(ua)||"log"===ua)O=void 0;else{if(Ga(X)){if(vb(X.bin)){O={signal:`ceil(${cb.signal}/10)`};break a}if(X.timeUnit&&
Cb(["month","hours","day","quarter"],null==(O=nd(X.timeUnit))?void 0:O.unit)){O=void 0;break a}}O={signal:`ceil(${cb.signal}/40)`}}}return O},tickMinStep:function(a){let {format:b,fieldOrDatumDef:e}=a;if("d"===b)return 1;if(Ga(e)&&({timeUnit:a}=e,a&&(a=me(a))))return{signal:a}},title:a=>{let {axis:b,model:e,channel:f}=a;if(void 0!==b.title)return b.title;a=fj(e,f);if(void 0!==a)return a;a=e.typedFieldDef(f);const g=e.fieldDef("x"===f?"x2":"y2");return ma(a?[na(a)]:[],Ga(g)?[na(g)]:[])},values:a=>
{let {axis:b,fieldOrDatumDef:e}=a;a=b.values;a=h.isArray(a)?vf(e,a):Nb(a)?a:void 0;return a},zindex:a=>{let {axis:b,fieldOrDatumDef:e,mark:f}=a;null==(a=b.zindex)&&(a="rect"===f&&Hd(e)?1:0);return a}};class Ni extends jf{clone(){return new Ni(null,De(this.transform))}constructor(a,b){super(a);this.transform=b;Q(this,"_dependentFields",void 0);this._dependentFields=sj(this.transform.calculate)}static parseAllForSortIndex(a,b){b.forEachFieldDef((e,f)=>{if(Td(e)&&oe(e.sort)){const {field:p,timeUnit:B}=
e;var g=e.sort;g=g.map((O,X)=>`${Ib({field:p,timeUnit:B,equal:O})} ? ${X} : `).join("")+g.length;a=new Ni(a,{calculate:g,as:Ri(e,f,{forAs:!0})})}});return a}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${Xb(this.transform)}`}}const Bj=["row","column"],bl=["header","footer"],El={column:{start:0,end:1},row:{start:1,end:0}},Nl=Object.assign({},
{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,
symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,
strokeDash:1,encode:1}),Fk=sd(Nl);class Ml extends If{}const Fl={symbols:function(a,b){let {fieldOrDatumDef:e,model:f,channel:g,legendCmpt:p,legendType:B}=b;if("symbol"===B){var {markDef:O,encoding:X,config:ua,mark:cb}=f;b=O.filled&&"trail"!==cb;var pb=Object,gc=pb.assign,Mc={};for(var kc of Yi){const Ce=ic(kc,f.markDef,f.config);void 0!==Ce&&(Mc[kc]=Ua(Ce))}kc=gc.call(pb,{},Mc,Wc(f,{filled:b}));var Lc;pb=null!=(Lc=p.get("symbolOpacity"))?Lc:ua.legend.symbolOpacity;var Zc;Lc=null!=(Zc=p.get("symbolFillColor"))?
Zc:ua.legend.symbolFillColor;var cd;Zc=null!=(cd=p.get("symbolStrokeColor"))?cd:ua.legend.symbolStrokeColor;var je;cd=void 0===pb?null!=(je=H(X.opacity))?je:O.opacity:void 0;if(kc.fill)if("fill"===g||b&&"color"===g)delete kc.fill;else if(kc.fill.field)if(Lc)delete kc.fill;else{let Ce;kc.fill=Ua(null!=(Ce=ua.legend.symbolBaseFillColor)?Ce:"black");kc.fillOpacity=Ua(null!=cd?cd:1)}else if(h.isArray(kc.fill)){var Zd;let Ce,Pe;if(je=null!=(Pe=null!=(Ce=M(null!=(Zd=X.fill)?Zd:X.color))?Ce:O.fill)?Pe:b&&
O.color)kc.fill=Ua(je)}kc.stroke&&("stroke"===g||!b&&"color"===g?delete kc.stroke:kc.stroke.field||Zc?delete kc.stroke:h.isArray(kc.stroke)&&(Zd=T(M(X.stroke||X.color),O.stroke,b?O.color:void 0))&&(kc.stroke={value:Zd}));"opacity"!==g&&((Zd=Ga(e)&&Va(f,p,e))?kc.opacity=[Object.assign({},{test:Zd},Ua(null!=cd?cd:1)),Ua(ua.legend.unselectedOpacity)]:cd&&(kc.opacity=Ua(cd)));kc=Object.assign({},kc,a);return hb(kc)?void 0:kc}},gradient:function(a,b){let {model:e,legendType:f,legendCmpt:g}=b;if("gradient"===
f){var {config:p,markDef:B,encoding:O}=e;b={};var X,ua=void 0===(null!=(X=g.get("gradientOpacity"))?X:p.legend.gradientOpacity)?H(O.opacity)||B.opacity:void 0;ua&&(b.opacity=Ua(ua));b=Object.assign({},b,a);return hb(b)?void 0:b}},labels:function(a,b){let {fieldOrDatumDef:e,model:f,channel:g,legendCmpt:p}=b;var B=f.legend(g)||{};b=f.config;var O=Ga(e)?Va(f,p,e):void 0;O=O?[{test:O,value:1},{value:b.legend.unselectedOpacity}]:void 0;const {format:X,formatType:ua}=B;B=void 0;fe(ua)?B=ne({fieldOrDatumDef:e,
field:"datum.value",format:X,formatType:ua,config:b}):void 0===X&&void 0===ua&&b.customFormatTypes&&("quantitative"===e.type&&b.numberFormatType?B=ne({fieldOrDatumDef:e,field:"datum.value",format:b.numberFormat,formatType:b.numberFormatType,config:b}):"temporal"===e.type&&b.timeFormatType&&Ga(e)&&void 0===e.timeUnit&&(B=ne({fieldOrDatumDef:e,field:"datum.value",format:b.timeFormat,formatType:b.timeFormatType,config:b})));a=Object.assign({},O?{opacity:O}:{},B?{text:B}:{},a);return hb(a)?void 0:a},
entries:function(a,b){({legendCmpt:b}=b);let e;return(null==(e=b.get("selections"))?0:e.length)?Object.assign({},a,{fill:{value:"transparent"}}):a}},ll={direction:a=>{({direction:a}=a);return a},format:a=>{let {fieldOrDatumDef:b,legend:e,config:f}=a;const {format:g,formatType:p}=e;return ef(b,b.type,g,p,f,!1)},formatType:a=>{let {legend:b,fieldOrDatumDef:e,scaleType:f}=a;({formatType:a}=b);return kf(a,e,f)},gradientLength:a=>{const {legend:b,legendConfig:e}=a;let f,g;if(null!=(g=null!=(f=b.gradientLength)?
f:e.gradientLength))a=g;else{{let {legendConfig:p,model:B,direction:O,orient:X,scaleType:ua}=a;const {gradientHorizontalMaxLength:cb,gradientHorizontalMinLength:pb,gradientVerticalMaxLength:gc,gradientVerticalMinLength:Mc}=p;a=lg.has(ua)?"horizontal"===O?"top"===X||"bottom"===X?db(B,"width",pb,cb):pb:db(B,"height",Mc,gc):void 0}}return a},labelOverlap:a=>{let {legend:b,legendConfig:e,scaleType:f}=a;var g;g=null!=(a=null!=(g=b.labelOverlap)?g:e.labelOverlap)?a:Cb(["quantile","threshold","log","symlog"],
f)?"greedy":void 0;return g},symbolType:a=>{let {legend:b,markDef:e,channel:f,encoding:g}=a;if(null!=(a=b.symbolType))var p=a;else a:{a=e.type;var B=e.shape;if("shape"!==f){const O=null!=(p=M(g.shape))?p:B;if(O){p=O;break a}}switch(a){case "bar":case "rect":case "image":case "square":p="square";break a;case "line":case "trail":case "rule":p="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":p="circle";break a}p=void 0}return p},title:a=>{let {fieldOrDatumDef:b,
config:e}=a;return Vd(b,e,{allowDisabling:!0})},type:a=>{let {legendType:b,scaleType:e,channel:f}=a;if(L(f)&&lg.has(e)){if("gradient"===b)return}else if("symbol"===b)return;return b},values:a=>{let {fieldOrDatumDef:b,legend:e}=a;a=e.values;a=h.isArray(a)?vf(b,a):Nb(a)?a:void 0;return a}},lm="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");class Fj extends If{constructor(a,b,e,f){super(Object.assign({},
b),{name:a});this.specifiedProjection=b;this.size=e;this.data=f;Q(this,"merged",!1)}get isFit(){return!!this.data}}class Bi extends jf{clone(){return new Bi(null,De(this.bins))}constructor(a,b){super(a);this.bins=b}static makeFromEncoding(a,b){const e=b.reduceFieldDef((f,g,p)=>{if(Rc(g)&&vb(g.bin)){const {key:pb,binComponent:gc}=Rd(g,g.bin,b);var B=Object,O=B.assign,X=f[pb];var ua=b.config;if(Mf(g,p)){var cb;let Mc;const kc=Lf(b)?null!=(Mc=null!=(cb=b.axis(p))?cb:b.legend(p))?Mc:{}:{};p=pc(g,{expr:"datum"});
cb=pc(g,{expr:"datum",binSuffix:"end"});g={formulaAs:pc(g,{binSuffix:"range",forAs:!0}),formula:Ze(p,cb,kc.format,kc.formatType,ua)}}else g={};f[pb]=O.call(B,{},gc,X,g)}return f},{});return hb(e)?null:new Bi(a,e)}static makeFromTransform(a,b,e){const {key:f,binComponent:g}=Rd(b,b.bin,e);return new Bi(a,{[f]:g})}merge(a,b){for(const e of sd(a.bins))e in this.bins?(b(a.bins[e].signal,this.bins[e].signal),this.bins[e].as=Za([...this.bins[e].as,...a.bins[e].as],Xb)):this.bins[e]=a.bins[e];for(const e of a.children)a.removeChild(e),
e.parent=this;a.remove()}producedFields(){return new Set(kg(this.bins).map(a=>a.as).flat(2))}dependentFields(){return new Set(kg(this.bins).map(a=>a.field))}hash(){return`Bin ${Xb(this.bins)}`}assemble(){return kg(this.bins).flatMap(a=>{const b=[],[e,...f]=a.as;var g=a.bin,p=Object.assign({},g);g=g.extent;p=(delete p.extent,p);p=Object.assign({},{type:"bin",field:bb(a.field),as:e,signal:a.signal},Ub(g)?{extent:null}:{extent:g},a.span?{span:{signal:`span(${a.span})`}}:{},p);!g&&a.extentSignal&&(b.push({type:"extent",
field:bb(a.field),signal:a.extentSignal}),p.extent={signal:a.extentSignal});b.push(p);for(const B of f)for(g=0;2>g;g++)b.push({type:"formula",expr:pc({field:e[g]},{expr:"datum"}),as:B[g]});a.formula&&b.push({type:"formula",expr:a.formula,as:a.formulaAs});return b})}}class yh extends jf{clone(){return new yh(null,new Set(this.dimensions),De(this.measures))}constructor(a,b,e){super(a);this.dimensions=b;this.measures=e}get groupBy(){return this.dimensions}static makeFromEncoding(a,b){let e=!1;b.forEachFieldDef(p=>
{p.aggregate&&(e=!0)});const f={},g=new Set;if(!e)return null;b.forEachFieldDef((p,B)=>{const {aggregate:O,field:X}=p;if(O)if("count"===O)null!=f["*"]||(f["*"]={}),f["*"].count=new Set([pc(p,{forAs:!0})]);else{if(la(O)||wa(O)){p=la(O)?"argmin":"argmax";var ua=O[p];null!=f[ua]||(f[ua]={});f[ua][p]=new Set([pc({op:p,field:ua},{forAs:!0})])}else null!=f[X]||(f[X]={}),f[X][O]=new Set([pc(p,{forAs:!0})]);Mh[B]&&"unaggregated"===b.scaleDomain(B)&&(null!=f[X]||(f[X]={}),f[X].min=new Set([pc({field:X,aggregate:"min"},
{forAs:!0})]),f[X].max=new Set([pc({field:X,aggregate:"max"},{forAs:!0})]))}else{var cb=Lf(b)?b.encoding[V(B)]:void 0;if(Rc(p)&&Lf(b)&&K(p,cb,b.markDef,b.config)){g.add(pc(p,{}));g.add(pc(p,{suffix:"end"}));const {mark:pb,markDef:gc,config:Mc}=b;cb=l({fieldDef:p,markDef:gc,config:Mc});cc(pb)&&.5!==cb&&F(B)&&(g.add(pc(p,{suffix:"offsetted_rect_start"})),g.add(pc(p,{suffix:"offsetted_rect_end"})));p.bin&&Mf(p,B)&&g.add(pc(p,{binSuffix:"range"}))}else B in mi?(B=D(B),g.add(b.getName(B))):g.add(pc(p));
if(B=Td(p))B=null==(ua=p.scale)?void 0:ua.range,B=h.isObject(B)&&"field"in B;B&&g.add(p.scale.range.field)}});return 0===g.size+sd(f).length?null:new yh(a,g,f)}static makeFromTransform(a,b){const e=new Set,f={};for(const p of b.aggregate){const {op:B,field:O,as:X}=p;if(B)if("count"===B){let ua;null!=(ua=f)["*"]||(ua["*"]={});f["*"].count=new Set([X?X:pc(p,{forAs:!0})])}else{let ua,cb;null!=(ua=f)[cb=O]||(ua[cb]={});f[O][B]=new Set([X?X:pc(p,{forAs:!0})])}}let g;for(const p of null!=(g=b.groupby)?
g:[])e.add(p);return 0===e.size+sd(f).length?null:new yh(a,e,f)}merge(a){if(wb(this.dimensions,a.dimensions)){var b=this.measures;a=a.measures;for(const e of sd(a)){const f=a[e];for(const g of sd(f))if(e in b){let p;b[e][g]=new Set([...(null!=(p=b[e][g])?p:[]),...f[g]])}else b[e]={[g]:f[g]}}return!0}va("different dimensions, cannot merge");return!1}addDimensions(a){a.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...sd(this.measures)])}producedFields(){const a=
new Set;for(const b of sd(this.measures))for(const e of sd(this.measures[b])){const f=this.measures[b][e];0===f.size?a.add(`${e}_${b}`):f.forEach(a.add,a)}return a}hash(){return`Aggregate ${Xb({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const a=[],b=[],e=[];for(const f of sd(this.measures))for(const g of sd(this.measures[f]))for(const p of this.measures[f][g])e.push(p),a.push(g),b.push("*"===f?null:bb(f));return{type:"aggregate",groupby:[...this.dimensions].map(bb),ops:a,fields:b,
as:e}}}class c extends jf{constructor(a,b,e,f){super(a);this.model=b;this.name=e;this.data=f;Q(this,"column",void 0);Q(this,"row",void 0);Q(this,"facet",void 0);Q(this,"childModel",void 0);for(const g of qh)if(a=b.facet[g]){const {bin:p,sort:B}=a;this[g]=Object.assign({},{name:b.getName(`${g}_domain`),fields:[pc(a),...(vb(p)?[pc(a,{binSuffix:"end"})]:[])]},ue(B)?{sortField:B}:h.isArray(B)?{sortIndexField:Ri(a,g)}:{})}this.childModel=b.child}hash(){let a="Facet";for(const b of qh)this[b]&&(a+=` ${b.charAt(0)}:${Xb(this[b])}`);
return a}get fields(){const a=[];for(const b of qh){let e;(null==(e=this[b])?0:e.fields)&&a.push(...this[b].fields)}return a}dependentFields(){const a=new Set(this.fields);for(const b of qh)this[b]&&(this[b].sortField&&a.add(this[b].sortField.field),this[b].sortIndexField&&a.add(this[b].sortIndexField));return a}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const a={};for(const f of Ph){var b=this.childModel.component.scales[f];if(b&&!b.merged){var e=
b.get("type");b=b.get("range");ce(e)&&Rb(b)&&(e=Ui(this.childModel,f),(e=dk(e))?a[f]=e:J(Sb(f)))}}return a}assembleRowColumnHeaderData(a,b,e){const f={row:"y",column:"x",facet:void 0}[a],g=[],p=[],B=[];f&&e&&e[f]&&(b?(g.push(`distinct_${e[f]}`),p.push("max")):(g.push(e[f]),p.push("distinct")),B.push(`distinct_${e[f]}`));const {sortField:O,sortIndexField:X}=this[a];if(O){const {op:ua="min",field:cb}=O;g.push(cb);p.push(ua);B.push(pc(O,{forAs:!0}))}else X&&(g.push(X),p.push("max"),B.push(X));return{name:this[a].name,
source:null!=b?b:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[a].fields},g.length?{fields:g,ops:p,as:B}:{})]}}assembleFacetHeaderData(a){const {columns:b}=this.model.layout,{layoutHeaders:e}=this.model.component,f=[],g={};for(const X of Bj){for(const ua of bl){let cb;var p=null!=(cb=e[X]&&e[X][ua])?cb:[];for(const pb of p){let gc;if(0<(null==(gc=pb.axes)?void 0:gc.length)){g[X]=!0;break}}}g[X]&&(p=`length(data("${this.facet.name}"))`,f.push({name:`${this.facet.name}_${X}`,
transform:[{type:"sequence",start:0,stop:"row"===X?b?{signal:`ceil(${p} / ${b})`}:1:b?{signal:`min(${p}, ${b})`}:{signal:p}}]}))}const {row:B,column:O}=g;(B||O)&&f.unshift(this.assembleRowColumnHeaderData("facet",null,a));return f}assemble(){const a=[];var b=null;const e=this.getChildIndependentFieldsWithStep(),{column:f,row:g,facet:p}=this;if(f&&g&&(e.x||e.y)){b=`cross_${this.column.name}_${this.row.name}`;var B;let O;const X=[].concat(null!=(B=e.x)?B:[],null!=(O=e.y)?O:[]);B=X.map(()=>"distinct");
a.push({name:b,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:X,ops:B}]})}for(const O of["column","row"])this[O]&&a.push(this.assembleRowColumnHeaderData(O,b,e));p&&(b=this.assembleFacetHeaderData(e))&&a.push(...b);return a}}class d extends jf{clone(){return new d(null,De(this._parse))}constructor(a,b){super(a);Q(this,"_parse",void 0);this._parse=b}hash(){return`Parse ${Xb(this._parse)}`}static makeExplicit(a,b,e){let f={};b=b.data;let g;!qg(b)&&(null==b?0:null==(g=b.format)?
0:g.parse)&&(f=b.format.parse);return this.makeWithAncestors(a,f,{},e)}static makeWithAncestors(a,b,e,f){for(var g of sd(e)){const B=f.getWithExplicit(g);void 0!==B.value&&(B.explicit||B.value===e[g]||"derived"===B.value||"flatten"===e[g]?delete e[g]:J(Ec(g,e[g],B.value)))}for(var p of sd(b))g=f.get(p),void 0!==g&&(g===b[p]?delete b[p]:J(Ec(p,b[p],g)));b=new If(b,e);f.copyAll(b);e={};for(const B of sd(b.combine()))p=b.get(B),null!==p&&(e[B]=p);return 0===sd(e).length||f.parseNothing?null:new d(a,
e)}get parse(){return this._parse}merge(a){this._parse=Object.assign({},this._parse,a.parse);a.remove()}assembleFormatParse(){const a={};for(const b of sd(this._parse)){const e=this._parse[b];1===eb(b)&&(a[b]=e)}return a}producedFields(){return new Set(sd(this._parse))}dependentFields(){return new Set(sd(this._parse))}assembleTransforms(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;return sd(this._parse).filter(b=>a?1<eb(b):!0).map(b=>{const e=Ef(b,this._parse[b]);return e?{type:"formula",
expr:e,as:Qb(b)}:null}).filter(b=>null!==b)}}class k extends jf{clone(){return new k(null)}constructor(a){super(a)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:"_vgsid_"}}}class v extends jf{clone(){return new v(null,this.params)}constructor(a,b){super(a);this.params=b}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${Xb(this.params)}`}assemble(){return Object.assign({},{type:"graticule"},
!0===this.params?{}:this.params)}}class R extends jf{clone(){return new R(null,this.params)}constructor(a,b){super(a);this.params=b}dependentFields(){return new Set}producedFields(){let a;return new Set([null!=(a=this.params.as)?a:"data"])}hash(){return`Hash ${Xb(this.params)}`}assemble(){return Object.assign({},{type:"sequence"},this.params)}}class da extends jf{constructor(a){super(null);Q(this,"_data",void 0);Q(this,"_name",void 0);Q(this,"_generator",void 0);null!=a||(a={name:"source"});let b;
qg(a)||(b=a.format?Object.assign({},ac(a.format,["parse"])):{});if("values"in a)this._data={values:a.values};else if("url"in a){if(this._data={url:a.url},!b.type){let e=/(?:\.([^.]+))?$/.exec(a.url)[1];Cb(["json","csv","tsv","dsv","topojson"],e)||(e="json");b.type=e}}else if("sphere"in a)this._data={values:[{type:"Sphere"}]};else if(Mi(a)||qg(a))this._data={};this._generator=qg(a);a.name&&(this._name=a.name);b&&!hb(b)&&(this._data.format=b)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(a){this._name=
a}set parent(a){throw Error("Source nodes have to be roots.");}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");}assemble(){return Object.assign({},{name:this._name},this._data,{transform:[]})}}var Ta=new WeakMap;class Wb{constructor(){if(Ta.has(this))throw new TypeError("Cannot initialize the same private elements twice on an object");Ta.set(this,{writable:!0,value:void 0});t(this,Ta,!1)}setModified(){t(this,Ta,!0)}get modifiedFlag(){var a=
ba(this,Ta,"get");return a.get?a.get.call(this):a.value}}class lc extends Wb{getNodeDepths(a,b,e){e.set(a,b);for(const f of a.children)this.getNodeDepths(f,b+1,e);return e}optimize(a){a=[...this.getNodeDepths(a,0,new Map).entries()].sort((b,e)=>e[1]-b[1]);for(const b of a)this.run(b[0]);return this.modifiedFlag}}class Uc extends Wb{optimize(a){this.run(a);for(const b of a.children)this.optimize(b);return this.modifiedFlag}}class ud extends Uc{mergeNodes(a,b){const e=b.shift();for(const f of b)a.removeChild(f),
f.parent=e,f.remove()}run(a){const b=a.children.map(f=>f.hash()),e={};for(let f=0;f<b.length;f++)void 0===e[b[f]]?e[b[f]]=[a.children[f]]:e[b[f]].push(a.children[f]);for(const f of sd(e))1<e[f].length&&(this.setModified(),this.mergeNodes(a,e[f]))}}class yd extends Uc{constructor(a){super();Q(this,"requiresSelectionId",void 0);this.requiresSelectionId=a&&Af(a)}run(a){!(a instanceof k)||this.requiresSelectionId&&(zg(a.parent)||a.parent instanceof yh||a.parent instanceof d)||(this.setModified(),a.remove())}}
class td extends Wb{optimize(a){this.run(a,new Set);return this.modifiedFlag}run(a,b){let e=new Set;a instanceof wh&&(e=a.producedFields(),ub(e,b)&&(this.setModified(),a.removeFormulas(b),0===a.producedFields.length&&a.remove()));for(const f of a.children)this.run(f,new Set([...b,...e]))}}class Sd extends Uc{constructor(){super()}run(a){a instanceof Qg&&!a.isRequired()&&(this.setModified(),a.remove())}}class de extends lc{run(a){if(!(zg(a)||1<a.numChildren()))for(const b of a.children)b instanceof
d&&(a instanceof d?(this.setModified(),a.merge(b)):xb(a.producedFields(),b.dependentFields())||(this.setModified(),b.swapWithParent()))}}class ke extends lc{run(a){const b=[...a.children];var e=a.children.filter(g=>g instanceof d);if(1<a.numChildren()&&1<=e.length){const g={};var f=new Set;for(const p of e){e=p.parse;for(const B of sd(e))B in g?g[B]!==e[B]&&f.add(B):g[B]=e[B]}for(const p of f)delete g[p];if(!hb(g)){this.setModified();f=new d(a,g);for(const p of b){if(p instanceof d)for(const B of sd(g))delete p.parse[B];
a.removeChild(p);p.parent=f;p instanceof d&&0===sd(p.parse).length&&p.remove()}}}}}class bg extends lc{run(a){a instanceof Qg||0<a.numChildren()||a instanceof c||a instanceof da||(this.setModified(),a.remove())}}class Ic extends lc{run(a){a=a.children.filter(e=>e instanceof wh);const b=a.pop();for(const e of a)this.setModified(),b.merge(e)}}class uc extends lc{run(a){var b=a.children.filter(g=>g instanceof yh);const e={};for(var f of b)b=Xb(f.groupBy),b in e||(e[b]=[]),e[b].push(f);for(const g of sd(e))if(f=
e[g],1<f.length){b=f.pop();for(const p of f)b.merge(p)&&(a.removeChild(p),p.parent=b,p.remove(),this.setModified())}}}class Qc extends lc{constructor(a){super();this.model=a}run(a){var b=!(zg(a)||a instanceof wi||a instanceof d||a instanceof k);const e=[],f=[];for(const g of a.children)g instanceof Bi&&(b&&!xb(a.producedFields(),g.dependentFields())?e.push(g):f.push(g));if(0<e.length){b=e.pop();for(const g of e)b.merge(g,this.model.renameSignal.bind(this.model));this.setModified();a instanceof Bi?
a.merge(b,this.model.renameSignal.bind(this.model)):b.swapWithParent()}if(1<f.length){a=f.pop();for(const g of f)a.merge(g,this.model.renameSignal.bind(this.model));this.setModified()}}}class Gd extends lc{run(a){var b=[...a.children];if(Vb(b,g=>g instanceof Qg)&&!(1>=a.numChildren())){var e=[];for(const g of b)if(g instanceof Qg){for(b=g;1===b.numChildren();){const [p]=b.children;if(p instanceof Qg)b=p;else break}e.push(...b.children);if(f)a.removeChild(g),g.parent=f.parent,f.parent.removeChild(f),
f.parent=b,this.setModified();else var f=b}else e.push(g);if(e.length){this.setModified();for(const g of e)g.parent.removeChild(g),g.parent=f}}}}class be extends jf{clone(){return new be(null,De(this.transform))}constructor(a,b){super(a);this.transform=b}addDimensions(a){this.transform.groupby=Za(this.transform.groupby.concat(a),b=>b)}dependentFields(){const a=new Set;this.transform.groupby&&this.transform.groupby.forEach(a.add,a);this.transform.joinaggregate.map(b=>b.field).filter(b=>void 0!==b).forEach(a.add,
a);return a}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(a){let b;return null!=(b=a.as)?b:pc(a)}hash(){return`JoinAggregateTransform ${Xb(this.transform)}`}assemble(){const a=[],b=[],e=[];for(var f of this.transform.joinaggregate)b.push(f.op),e.push(this.getDefaultName(f)),a.push(void 0===f.field?null:f.field);f=this.transform.groupby;return Object.assign({},{type:"joinaggregate",as:e,ops:b,fields:a},void 0!==f?{groupby:f}:{})}}class pe extends jf{clone(){return new pe(null,
De(this._stack))}constructor(a,b){super(a);Q(this,"_stack",void 0);this._stack=b}static makeFromTransform(a,b){const {stack:e,groupby:f,as:g,offset:p="zero"}=b;var B=[];const O=[];if(void 0!==b.sort)for(const X of b.sort)B.push(X.field),O.push(T(X.order,"ascending"));B={field:B,order:O};b=ye(g)?g:h.isString(g)?[g,`${g}_end`]:[`${b.stack}_start`,`${b.stack}_end`];return new pe(a,{dimensionFieldDefs:[],stackField:e,groupby:f,offset:p,sort:B,facetby:[],as:b})}static makeFromEncoding(a,b){var e=b.stack;
const {encoding:f}=b;if(!e)return null;const {groupbyChannels:g,fieldChannel:p,offset:B,impute:O}=e;e=g.map(cb=>Ne(f[cb])).filter(cb=>!!cb);const X=Kf(b);var ua=b.encoding.order;if(h.isArray(ua)||Ga(ua))ua=Vc(ua);else{const cb=ua&&ua.sort&&!ua.field?ua.sort:"y"===p?"descending":"ascending";ua=X.reduce((pb,gc)=>{pb.field.push(gc);pb.order.push(cb);return pb},{field:[],order:[]})}return new pe(a,{dimensionFieldDefs:e,stackField:b.vgField(p),facetby:[],stackby:X,sort:ua,offset:B,impute:O,as:[b.vgField(p,
{suffix:"start",forAs:!0}),b.vgField(p,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(a){this._stack.facetby.push(...a)}dependentFields(){const a=new Set;a.add(this._stack.stackField);this.getGroupbyFields().forEach(a.add,a);this._stack.facetby.forEach(a.add,a);this._stack.sort.field.forEach(a.add,a);return a}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${Xb(this._stack)}`}getGroupbyFields(){const {dimensionFieldDefs:a,impute:b,groupby:e}=this._stack;
return 0<a.length?a.map(f=>f.bin?b?[pc(f,{binSuffix:"mid"})]:[pc(f,{}),pc(f,{binSuffix:"end"})]:[pc(f)]).flat():null!=e?e:[]}assemble(){const a=[],{facetby:b,dimensionFieldDefs:e,stackField:f,stackby:g,sort:p,offset:B,impute:O,as:X}=this._stack;if(O)for(const ua of e){const {bandPosition:cb=.5,bin:pb}=ua;if(pb){const gc=pc(ua,{expr:"datum"}),Mc=pc(ua,{expr:"datum",binSuffix:"end"});a.push({type:"formula",expr:`${cb}*${gc}+${1-cb}*${Mc}`,as:pc(ua,{binSuffix:"mid",forAs:!0})})}a.push({type:"impute",
field:f,groupby:[...g,...b],key:pc(ua,{binSuffix:"mid"}),method:"value",value:0})}a.push({type:"stack",groupby:[...this.getGroupbyFields(),...b],field:f,sort:p,as:X,offset:B});return a}}class te extends jf{clone(){return new te(null,De(this.transform))}constructor(a,b){super(a);this.transform=b}addDimensions(a){this.transform.groupby=Za(this.transform.groupby.concat(a),b=>b)}dependentFields(){const a=new Set;let b;(null!=(b=this.transform.groupby)?b:[]).forEach(a.add,a);let e;(null!=(e=this.transform.sort)?
e:[]).forEach(f=>a.add(f.field));this.transform.window.map(f=>f.field).filter(f=>void 0!==f).forEach(a.add,a);return a}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(a){let b;return null!=(b=a.as)?b:pc(a)}hash(){return`WindowTransform ${Xb(this.transform)}`}assemble(){const a=[],b=[],e=[],f=[];for(var g of this.transform.window)b.push(g.op),e.push(this.getDefaultName(g)),f.push(void 0===g.param?null:g.param),a.push(void 0===g.field?null:g.field);g=this.transform.frame;
const p=this.transform.groupby;if(g&&null===g[0]&&null===g[1]&&b.every(ua=>Ma(ua)))return Object.assign({},{type:"joinaggregate",as:e,ops:b,fields:a},void 0!==p?{groupby:p}:{});const B=[],O=[];if(void 0!==this.transform.sort)for(var X of this.transform.sort){B.push(X.field);let ua;O.push(null!=(ua=X.order)?ua:"ascending")}X=this.transform.ignorePeers;return Object.assign({},{type:"window",params:f,as:e,ops:b,fields:a,sort:{field:B,order:O}},void 0!==X?{ignorePeers:X}:{},void 0!==p?{groupby:p}:{},
void 0!==g?{frame:g}:{})}}class ee{constructor(a){Q(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:a})}static fromName(a,b){return new ee(()=>a(b))}}class vg extends If{constructor(a,b){super({},{name:a});Q(this,"merged",!1);this.setWithExplicit("type",b)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")?!0:Vb(this.get("domains"),a=>h.isArray(a)&&2===a.length&&h.isNumber(a[0])&&0>=a[0]&&h.isNumber(a[1])&&0<=a[1])}}const ff=["range","scheme"],pi={bins:a=>{let {model:b,
fieldOrDatumDef:e}=a;return Ga(e)?mj(b,e):void 0},interpolate:a=>{let {channel:b,fieldOrDatumDef:e}=a;a=e.type;a=Cb(["color","fill","stroke"],b)&&"nominal"!==a?"hcl":void 0;return a},nice:a=>{let {scaleType:b,channel:e,domain:f,domainMin:g,domainMax:p,fieldOrDatumDef:B}=a;{let O;a=(null==(O=Ne(B))?0:O.bin)||h.isArray(f)||null!=p||null!=g||Cb([gg.TIME,gg.UTC],b)?void 0:F(e)?!0:void 0}return a},padding:a=>{let {channel:b,scaleType:e,fieldOrDatumDef:f,markDef:g,config:p}=a;a:{a=p.scale;var B=p.bar;if(F(b)){if(lg.has(e)){if(void 0!==
a.continuousPadding){a=a.continuousPadding;break a}const {type:O,orient:X}=g;if("bar"===O&&(!Ga(f)||!f.bin&&!f.timeUnit)&&("vertical"===X&&"x"===b||"horizontal"===X&&"y"===b)){a=B.continuousBandSize;break a}}if(e===gg.POINT){a=a.pointPadding;break a}}a=void 0}return a},paddingInner:a=>{let {scalePadding:b,channel:e,markDef:f,scaleType:g,config:p,hasNestedOffsetScale:B}=a;return bk(b,e,f.type,g,p.scale,B)},paddingOuter:a=>{let {scalePadding:b,channel:e,scaleType:f,scalePaddingInner:g,config:p,hasNestedOffsetScale:B}=
a;return ck(b,e,f,g,p.scale,B)},reverse:a=>{let {fieldOrDatumDef:b,scaleType:e,channel:f,config:g}=a;a=Ga(b)?b.sort:void 0;var p=g.scale;a="x"===f&&void 0!==p.xReverse?Kd(e)&&"descending"===a?Nb(p.xReverse)?{signal:`!${p.xReverse.signal}`}:!p.xReverse:p.xReverse:Kd(e)&&"descending"===a?!0:void 0;return a},zero:a=>{let {channel:b,fieldOrDatumDef:e,domain:f,markDef:g,scaleType:p,config:B,hasSecondaryRangeChannel:O}=a;a:if(a=B.scale,f&&"unaggregated"!==f&&Kd(p)){if(h.isArray(f)){a=f[0];const X=f[f.length-
1];if(h.isNumber(a)&&0>=a&&h.isNumber(X)&&0<=X){a=!0;break a}}a=!1}else if("size"!==b||"quantitative"!==e.type||ai.has(p))if(Ga(e)&&e.bin||!Cb([...Ph,...ol],b))a=!1;else{const {orient:X,type:ua}=g;a=Cb(["bar","area","line","trail"],ua)&&("horizontal"===X&&"y"===b||"vertical"===X&&"x"===b)?!1:Cb(["bar","area"],ua)&&!O?!0:null==a?void 0:a.zero}else a=!0;return a}},Wl=Ih((a,b)=>ah[a]-ah[b]);class vm{constructor(){Q(this,"nameMap",void 0);this.nameMap={}}rename(a,b){this.nameMap[a]=b}has(a){return void 0!==
this.nameMap[a]}get(a){for(;this.nameMap[a]&&a!==this.nameMap[a];)a=this.nameMap[a];return a}}class wm{constructor(a,b,e,f,g,p,B){this.type=b;this.parent=e;this.config=g;Q(this,"name",void 0);Q(this,"size",void 0);Q(this,"title",void 0);Q(this,"description",void 0);Q(this,"data",void 0);Q(this,"transforms",void 0);Q(this,"layout",void 0);Q(this,"scaleNameMap",void 0);Q(this,"projectionNameMap",void 0);Q(this,"signalNameMap",void 0);Q(this,"component",void 0);Q(this,"view",void 0);Q(this,"children",
void 0);Q(this,"correctDataNames",ua=>{let cb;if(null==(cb=ua.from)?0:cb.data)ua.from.data=this.lookupDataSource(ua.from.data);let pb,gc;if(null==(pb=ua.from)?0:null==(gc=pb.facet)?0:gc.data)ua.from.facet.data=this.lookupDataSource(ua.from.facet.data);return ua});this.parent=e;this.config=g;this.view=Mb(B);let O;this.name=null!=(O=a.name)?O:f;this.title=$b(a.title)?{text:a.title}:a.title?Mb(a.title):void 0;this.scaleNameMap=e?e.scaleNameMap:new vm;this.projectionNameMap=e?e.projectionNameMap:new vm;
this.signalNameMap=e?e.signalNameMap:new vm;this.data=a.data;this.description=a.description;let X;this.transforms=Hh(null!=(X=a.transform)?X:[]);this.layout="layer"===b||"unit"===b?{}:Ve(a,b,g);this.component={data:{sources:e?e.component.data.sources:[],outputNodes:e?e.component.data.outputNodes:{},outputNodeRefCounts:e?e.component.data.outputNodeRefCounts:{},isFaceted:"facet"in a||(null==e?void 0:e.component.data.isFaceted)&&void 0===a.data},layoutSize:new If,layoutHeaders:{row:{},column:{},facet:{}},
mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},p?De(p):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){ek(this)}parseProjection(){sc(this)}renameTopLevelLayoutSizeSignal(){"width"!==
this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){rb(this)}assembleEncodeFromView(a){a=Object.assign({},a);a=(delete a.style,a);const b={};for(const e of sd(a)){const f=a[e];void 0!==f&&(b[e]=Ua(f))}return b}assembleGroupEncodeEntry(a){let b={};this.view&&(b=this.assembleEncodeFromView(this.view));if(!a&&(this.description&&(b.description=Ua(this.description)),"unit"===this.type||
"layer"===this.type)){let e;return Object.assign({},{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!=(e=b)?e:{})}return hb(b)?void 0:b}assembleLayout(){if(this.layout){var a=this.layout,b=Object.assign({},a);a=a.spacing;b=(delete b.spacing,b);var {component:e,config:f}=this,g=e.layoutHeaders,p={};for(O of qh){var B=g[O];let X;if(null==(X=B)?0:X.facetFieldDef){const {titleAnchor:ua,titleOrient:cb}=Wh(["titleAnchor","titleOrient"],B.facetFieldDef.header,f,O);B=Ag(O,
cb);const pb=El[B][ua];void 0!==pb&&(p[B]=pb)}}var O=hb(p)?void 0:p;return Object.assign({},{padding:a},this.assembleDefaultLayout(),b,O?{titleBand:O}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){var {layoutHeaders:a}=this.component,b=[];for(var e of qh)if(a[e].title){var f=b,g=f.push;var p=e;var B=this.component.layoutHeaders[p].title,O=this.config?this.config:void 0,X=this.component.layoutHeaders[p].facetFieldDef?this.component.layoutHeaders[p].facetFieldDef:void 0;const {titleAnchor:Lc,
titleAngle:Zc,titleOrient:cd}=Wh(["titleAnchor","titleAngle","titleOrient"],X.header,O,p);var ua=Ag(p,cd),cb=La(Zc);p={name:`${p}-title`,type:"group",role:`${ua}-title`,title:Object.assign({},{text:B},"row"===p?{orient:"left"}:{},{style:"guide-title"},hj(cb,ua),Lh(ua,cb,Lc),Hj(O,X,p,ok,sl))};g.call(f,p)}for(const Lc of Bj){a=b;b=a.concat;f=Lc;g=this.component.layoutHeaders[f];e=[];for(const Zc of bl)if(g[Zc])for(const cd of g[Zc]){a:{X=void 0;p=f;var pb=Zc,gc=g;if(B=cd){O=null;({facetFieldDef:kc}=
gc);ua=this.config?this.config:void 0;kc&&B.labels&&({labelOrient:cb}=Wh(["labelOrient"],kc.header,ua,p),"row"===p&&!Cb(["top","bottom"],cb)||"column"===p&&!Cb(["left","right"],cb))&&(O=jj(kc,p,ua));const je=gh(this)&&!Ae(this.facet),Zd=B.axes,Ce=0<(null==Zd?void 0:Zd.length);if(O||Ce){const Pe="row"===p?"height":"width";ua=Object;cb=ua.assign;pb={name:this.getName(`${p}_${pb}`),type:"group",role:`${p}-${pb}`};if(gc.facetFieldDef){gc={data:this.getName(`${p}_domain`)};{var Mc=kc;const {sort:Jf}=Mc;
var kc=ue(Jf)?{field:pc(Jf,{expr:"datum"}),order:null!=(X=Jf.order)?X:"ascending"}:h.isArray(Jf)?{field:Ri(Mc,p,{expr:"datum"}),order:"ascending"}:{field:pc(Mc,{expr:"datum"}),order:null!=Jf?Jf:"ascending"}}X={from:gc,sort:kc}}else X={};p=cb.call(ua,{},pb,X,Ce&&je?{from:{data:this.getName(`facet_domain_${p}`)}}:{},O?{title:O}:{},B.sizeSignal?{encode:{update:{[Pe]:B.sizeSignal}}}:{},Ce?{axes:Zd}:{});break a}}p=null}null!=p&&e.push(p)}b=b.call(a,e)}return b}assembleAxes(){return Uj(this.component.axes,
this.config)}assembleLegends(){return tc(this)}assembleProjections(){var a=Ti(this)||Tk(this)?bd(this):md(this);return a}assembleTitle(){var a,b=null!=(a=this.title)?a:{};a=Object.assign({},b);b=b.encoding;a=(delete a.encoding,a);b=Object.assign({},oc(this.config.title).nonMarkTitleProperties,a,b?{encode:{update:b}}:{});if(b.text)return Cb(["unit","layer"],this.type)?Cb(["middle",void 0],b.anchor)&&(null!=b.frame||(b.frame="group")):null!=b.anchor||(b.anchor="start"),hb(b)?void 0:b}assembleGroup(){var a=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];const b={};a=a.concat(this.assembleSignals());0<a.length&&(b.signals=a);if(a=this.assembleLayout())b.layout=a;b.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());a=!this.parent||gh(this.parent)?nl(this):[];0<a.length&&(b.scales=a);a=this.assembleAxes();0<a.length&&(b.axes=a);a=this.assembleLegends();0<a.length&&(b.legends=a);return b}getName(a){return ra((this.name?`${this.name}_`:"")+a)}getDataName(a){return this.getName(nf[a].toLowerCase())}requestDataName(a){a=
this.getDataName(a);const b=this.component.data.outputNodeRefCounts;b[a]=(b[a]||0)+1;return a}getSizeSignalRef(a){if(gh(this.parent)){var b=Xi(a),e=U(b);if((b=this.component.scales[e])&&!b.merged){var f=b.get("type");const g=b.get("range");if(ce(f)&&Rb(g)){a=b.get("name");f=Ui(this,e);if(f=dk(f))return e=pc({aggregate:"distinct",field:f},{expr:"datum"}),{signal:xh(a,b,e)};J(Sb(e));return null}}}return{signal:this.signalNameMap.get(this.getName(a))}}lookupDataSource(a){const b=this.component.data.outputNodes[a];
return b?b.getSource():a}getSignalName(a){return this.signalNameMap.get(a)}renameSignal(a,b){this.signalNameMap.rename(a,b)}renameScale(a,b){this.scaleNameMap.rename(a,b)}renameProjection(a,b){this.projectionNameMap.rename(a,b)}scaleName(a,b){if(b)return this.getName(a);if(Ej[a]&&Mh[a]&&this.component.scales[a]||this.scaleNameMap.has(this.getName(a)))return this.scaleNameMap.get(this.getName(a))}projectionName(a){if(a)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||
this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(a){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const b=this.component.scales[a];return b&&!b.merged?b:this.parent?this.parent.getScaleComponent(a):void 0}getSelectionComponent(a,b){let e=this.component.selection[a];!e&&this.parent&&(e=this.parent.getSelectionComponent(a,
b));if(!e)throw Error(`Cannot find a selection named "${b}".`);return e}hasAxisOrientSignalRef(){let a,b;return(null==(a=this.component.axes.x)?void 0:a.some(e=>e.hasOrientSignalRef()))||(null==(b=this.component.axes.y)?void 0:b.some(e=>e.hasOrientSignalRef()))}}class Em extends wm{vgField(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const e=this.fieldDef(a);if(e)return pc(e,b)}reduceFieldDef(a,b){return Ug(this.getMapping(),(e,f,g)=>(f=Ne(f))?a(e,f,g):e,b)}forEachFieldDef(a,
b){Fg(this.getMapping(),(e,f)=>{(e=Ne(e))&&a(e,f)},b)}}class om extends jf{clone(){return new om(null,De(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=De(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let f,g;this.transform.as=[null!=(f=a[0])?f:"value",null!=(g=a[1])?g:"density"]}dependentFields(){let a;return new Set([this.transform.density,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${Xb(this.transform)}`}assemble(){var a=
this.transform,b=Object.assign({},a);a=a.density;b=(delete b.density,b);b=Object.assign({},{type:"kde",field:a},b);this.transform.groupby&&(b.resolve="shared");return b}}class um extends jf{clone(){return new um(null,De(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=De(b)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${Xb(this.transform)}`}assemble(){const {extent:a,param:b}=this.transform;return{type:"extent",
field:a,signal:b}}}class Gl extends jf{clone(){return new Gl(null,Object.assign({},this.filter))}constructor(a,b){super(a);this.filter=b}static make(a,b){const {config:e,mark:f,markDef:g}=b;if("filter"!==Zb("invalid",g,e))return null;const p=b.reduceFieldDef((B,O,X)=>{if(X=!!Mh[X]&&b.getScaleComponent(X))X=X.get("type"),Kd(X)&&"count"!==O.aggregate&&!Oa(f)&&(B[O.field]=O);return B},{});return sd(p).length?new Gl(a,p):null}dependentFields(){return new Set(sd(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${Xb(this.filter)}`}assemble(){const a=
sd(this.filter).reduce((b,e)=>{e=this.filter[e];const f=pc(e,{expr:"datum"});null!==e&&("temporal"===e.type?b.push(`(isDate(${f}) || (isValid(${f}) && isFinite(+${f})))`):"quantitative"===e.type&&(b.push(`isValid(${f})`),b.push(`isFinite(+${f})`)));return b},[]);return 0<a.length?{type:"filter",expr:a.join(" \x26\x26 ")}:null}}class nm extends jf{clone(){return new nm(this.parent,De(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=De(b);const {flatten:e,as:f=[]}=this.transform;
this.transform.as=e.map((g,p)=>{let B;return null!=(B=f[p])?B:g})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${Xb(this.transform)}`}assemble(){const {flatten:a,as:b}=this.transform;return{type:"flatten",fields:a,as:b}}}class mm extends jf{clone(){return new mm(null,De(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=De(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let f,
g;this.transform.as=[null!=(f=a[0])?f:"key",null!=(g=a[1])?g:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${Xb(this.transform)}`}assemble(){const {fold:a,as:b}=this.transform;return{type:"fold",fields:a,as:b}}}class jl extends jf{clone(){return new jl(null,De(this.fields),this.geojson,this.signal)}static parseAll(a,b){if(b.component.projection&&!b.component.projection.isFit)return a;let e=0;for(var f of[["longitude",
"latitude"],["longitude2","latitude2"]]){const g=f.map(p=>{p=Fe(b.encoding[p]);return Ga(p)?p.field:nb(p)?{expr:`${p.datum}`}:ed(p)?{expr:`${p.value}`}:void 0});if(g[0]||g[1])a=new jl(a,g,null,b.getName(`geojson_${e++}`))}b.channelHasField("shape")&&(f=b.typedFieldDef("shape"),"geojson"===f.type&&(a=new jl(a,null,f.field,b.getName(`geojson_${e++}`))));return a}constructor(a,b,e,f){super(a);this.fields=b;this.geojson=e;this.signal=f}dependentFields(){let a;const b=(null!=(a=this.fields)?a:[]).filter(h.isString);
return new Set([...(this.geojson?[this.geojson]:[]),...b])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${Xb(this.fields)}`}assemble(){return[...(this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[]),Object.assign({},{type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})]}}class Hl extends jf{clone(){return new Hl(null,this.projection,De(this.fields),De(this.as))}constructor(a,
b,e,f){super(a);this.projection=b;this.fields=e;this.as=f}static parseAll(a,b){if(!b.projectionName())return a;for(const e of[["longitude","latitude"],["longitude2","latitude2"]]){const f=e.map(p=>{p=Fe(b.encoding[p]);return Ga(p)?p.field:nb(p)?{expr:`${p.datum}`}:ed(p)?{expr:`${p.value}`}:void 0}),g="longitude2"===e[0]?"2":"";if(f[0]||f[1])a=new Hl(a,b.projectionName(),f,[b.getName(`x${g}`),b.getName(`y${g}`)])}return a}dependentFields(){return new Set(this.fields.filter(h.isString))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${Xb(this.fields)} ${Xb(this.as)}`}assemble(){return{type:"geopoint",
projection:this.projection,fields:this.fields,as:this.as}}}class Ek extends jf{clone(){return new Ek(null,De(this.transform))}constructor(a,b){super(a);this.transform=b}dependentFields(){let a;return new Set([this.transform.impute,this.transform.key,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set([this.transform.impute])}processSequence(a){const {start:b=0,stop:e,step:f}=a;return{signal:`sequence(${[b,e,...(f?[f]:[])].join()})`}}static makeFromTransform(a,b){return new Ek(a,
b)}static makeFromEncoding(a,b){const e=b.encoding;var f=e.x;const g=e.y;if(Ga(f)&&Ga(g)){const p=f.impute?f:g.impute?g:void 0;if(void 0===p)return;f=f.impute?g:g.impute?f:void 0;const {method:B,value:O,frame:X,keyvals:ua}=p.impute;b=ch(b.mark,e);return new Ek(a,Object.assign({},{impute:p.field,key:f.field},B?{method:B}:{},void 0!==O?{value:O}:{},X?{frame:X}:{},void 0!==ua?{keyvals:ua}:{},b.length?{groupby:b}:{}))}return null}hash(){return`Impute ${Xb(this.transform)}`}assemble(){const {impute:a,
key:b,keyvals:e,method:f,groupby:g,value:p,frame:B=[null,null]}=this.transform;var O=Object,X=O.assign;var ua=e?{keyvals:void 0!==(null==e?void 0:e.stop)?this.processSequence(e):e}:{};O=X.call(O,{},{type:"impute",field:a,key:b},ua,{method:"value"},g?{groupby:g}:{},{value:f&&"value"!==f?null:p});return f&&"value"!==f?(X=Object.assign({},{type:"window",as:[`imputed_${a}_value`],ops:[f],fields:[a],frame:B,ignorePeers:!1},g?{groupby:g}:{}),[O,X,{type:"formula",expr:`datum.${a} === null ? datum.imputed_${a}_value : datum.${a}`,
as:a}]):[O]}}class pm extends jf{clone(){return new pm(null,De(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=De(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let f,g;this.transform.as=[null!=(f=a[0])?f:b.on,null!=(g=a[1])?g:b.loess]}dependentFields(){let a;return new Set([this.transform.loess,this.transform.on,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${Xb(this.transform)}`}assemble(){var a=
this.transform,b=Object.assign({},a);const e=a.loess;a=a.on;b=(delete b.loess,delete b.on,b);return Object.assign({},{type:"loess",x:a,y:e},b)}}class Il extends jf{clone(){return new Il(null,De(this.transform),this.secondary)}constructor(a,b,e){super(a);this.transform=b;this.secondary=e}static make(a,b,e,f){const g=b.component.data.sources,{from:p}=e;var B=null;if("data"in p)B=pl(p.data,g),B||(B=new da(p.data),g.push(B)),f=b.getName(`lookup_${f}`),B=new Qg(B,f,nf.Lookup,b.component.data.outputNodeRefCounts),
b.component.data.outputNodes[f]=B;else if("param"in p){f=p.param;e=Object.assign({},{as:f},e);let O;try{O=b.getSelectionComponent(ra(f),f)}catch(X){throw Error(`Lookups can only be performed on selection parameters. "${f}" is a variable parameter.`);}B=O.materialized;if(!B)throw Error(`Cannot define and lookup the "${f}" selection in the same view. `+"Try moving the lookup into a second, layered view?");}return new Il(a,e,B.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?
h.array(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${Xb({transform:this.transform,secondary:this.secondary})}`}assemble(){if(this.transform.from.fields)var a=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:h.array(this.transform.as)}:{});else a=this.transform.as,h.isString(a)||(J('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),a="_lookup"),a={as:[a]};return Object.assign({},
{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},a,this.transform.default?{default:this.transform.default}:{})}}class qm extends jf{clone(){return new qm(null,De(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=De(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let f,g;this.transform.as=[null!=(f=a[0])?f:"prob",null!=(g=a[1])?g:"value"]}dependentFields(){let a;return new Set([this.transform.quantile,...(null!=(a=this.transform.groupby)?
a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${Xb(this.transform)}`}assemble(){var a=this.transform,b=Object.assign({},a);a=a.quantile;b=(delete b.quantile,b);return Object.assign({},{type:"quantile",field:a},b)}}class rm extends jf{clone(){return new rm(null,De(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=De(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let f,g;this.transform.as=[null!=(f=a[0])?f:b.on,null!=(g=
a[1])?g:b.regression]}dependentFields(){let a;return new Set([this.transform.regression,this.transform.on,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${Xb(this.transform)}`}assemble(){var a=this.transform,b=Object.assign({},a);const e=a.regression;a=a.on;b=(delete b.regression,delete b.on,b);return Object.assign({},{type:"regression",x:a,y:e},b)}}class tm extends jf{clone(){return new tm(null,De(this.transform))}constructor(a,
b){super(a);this.transform=b}addDimensions(a){let b;this.transform.groupby=Za((null!=(b=this.transform.groupby)?b:[]).concat(a),e=>e)}producedFields(){}dependentFields(){let a;return new Set([this.transform.pivot,this.transform.value,...(null!=(a=this.transform.groupby)?a:[])])}hash(){return`PivotTransform ${Xb(this.transform)}`}assemble(){const {pivot:a,value:b,groupby:e,limit:f,op:g}=this.transform;return Object.assign({},{type:"pivot",field:a,value:b},void 0!==f?{limit:f}:{},void 0!==g?{op:g}:
{},void 0!==e?{groupby:e}:{})}}class sm extends jf{clone(){return new sm(null,De(this.transform))}constructor(a,b){super(a);this.transform=b}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${Xb(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}class Kl extends Em{constructor(a,b,e,f){super(a,"facet",b,e,f,a.resolve);Q(this,"facet",void 0);Q(this,"child",void 0);Q(this,"children",void 0);this.child=fl(a.spec,this,this.getName("child"),
void 0,f);this.children=[this.child];this.facet=this.initFacet(a.facet)}initFacet(a){if(!Ae(a))return{facet:this.initFacetFieldDef(a,"facet")};var b=sd(a);const e={};for(const f of b){if(!["row","column"].includes(f)){J(fd(f,"facet"));break}b=a[f];if(void 0===b.field){J(pd(b,f));break}e[f]=this.initFacetFieldDef(b,f)}return e}initFacetFieldDef(a,b){a=hd(a,b);a.header?a.header=Mb(a.header):null===a.header&&(a.header=null);return a}channelHasField(a){return!!this.facet[a]}fieldDef(a){return this.facet[a]}parseData(){this.component.data=
jk(this);this.child.parseData()}parseLayoutSize(){Rk(this)}parseSelections(){this.child.parseSelections();this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();for(const f of qh){var a=void 0,b=f;const {facet:g,config:p,child:B,component:O}=this;if(this.channelHasField(b)){const X=g[b];var e=hi("title",null,p,b);e=Vd(X,p,{allowDisabling:!0,includeDefault:void 0===e||!!e});B.component.layoutHeaders[b].title&&
(e=h.isArray(e)?e.join(", "):e,e+=` / ${B.component.layoutHeaders[b].title}`,B.component.layoutHeaders[b].title=null);const ua=hi("labelOrient",X.header,p,b),cb=null!==X.header?T(null==(a=X.header)?void 0:a.labels,p.header.labels,!0):!1;a=Cb(["bottom","right"],ua)?"footer":"header";O.layoutHeaders[b]={title:null!==X.header?e:null,facetFieldDef:X,[a]:"facet"===b?[]:[Qk(this,b,cb)]}}}Bl(this,"x");Bl(this,"y")}assembleSelectionTopLevelSignals(a){return this.child.assembleSelectionTopLevelSignals(a)}assembleSignals(){this.child.assembleSignals();
return[]}assembleSelectionData(a){return this.child.assembleSelectionData(a)}getHeaderLayoutMixins(){const a={};for(const f of qh)for(const g of bl){const p=this.component.layoutHeaders[f];var b=p[g],{facetFieldDef:e}=p;if(e&&(e=hi("titleOrient",e.header,this.config,f),["right","bottom"].includes(e))){e=Ag(f,e);let O;null!=(O=a).titleAnchor||(O.titleAnchor={});a.titleAnchor[e]="end"}let B;if(null==(B=b)?0:B[0]){b="row"===f?"height":"width";e="header"===g?"headerBand":"footerBand";if("facet"!==f&&
!this.child.component.layoutSize.get(b)){let O,X;null!=(O=a)[X=e]||(O[X]={});a[e][f]=.5}if(p.title){let O;null!=(O=a).offset||(O.offset={});a.offset["row"===f?"rowTitle":"columnTitle"]=10}}}return a}assembleDefaultLayout(){const {column:a,row:b}=this.facet,e=a?this.columnDistinctSignal():b?1:void 0;let f="all";b||"independent"!==this.component.resolve.scale.x?a||"independent"!==this.component.resolve.scale.y||(f="none"):f="none";return Object.assign({},this.getHeaderLayoutMixins(),e?{columns:e}:{},
{bounds:"full",align:f})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof Kl))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(a){return this.parent&&this.parent instanceof Kl?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:pc(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(a)):super.assembleGroup(a)}getCardinalityAggregateForChild(){const a=
[],b=[],e=[];if(this.child instanceof Kl){if(this.child.channelHasField("column")){var f=pc(this.child.facet.column);a.push(f);b.push("distinct");e.push(`distinct_${f}`)}}else for(f of Ph){var g=this.child.component.scales[f];if(g&&!g.merged){var p=g.get("type");g=g.get("range");ce(p)&&Rb(g)&&(p=Ui(this.child,f),(p=dk(p))?(a.push(p),b.push("distinct"),e.push(`distinct_${p}`)):J(Sb(f)))}}return{fields:a,ops:b,as:e}}assembleFacet(){const {name:a,data:b}=this.component.data.facetRoot,{row:e,column:f}=
this.facet,{fields:g,ops:p,as:B}=this.getCardinalityAggregateForChild(),O=[];for(var X of qh){var ua=this.facet[X];if(ua){O.push(pc(ua));const {bin:cb,sort:pb}=ua;vb(cb)&&O.push(pc(ua,{binSuffix:"end"}));if(ue(pb)){const {field:gc,op:Mc="min"}=pb;ua=dl(ua,pb);e&&f?(g.push(ua),p.push("max")):(g.push(gc),p.push(Mc));B.push(ua)}else h.isArray(pb)&&(ua=Ri(ua,X),g.push(ua),p.push("max"),B.push(ua))}}X=!!e&&!!f;return Object.assign({},{name:a,data:b,groupby:O},X||0<g.length?{aggregate:Object.assign({},
X?{cross:X}:{},g.length?{fields:g,ops:p,as:B}:{})}:{})}facetSortFields(a){var {facet:b}=this;return(b=b[a])?ue(b.sort)?[dl(b,b.sort,{expr:"datum"})]:h.isArray(b.sort)?[Ri(b,a,{expr:"datum"})]:[pc(b,{expr:"datum"})]:[]}facetSortOrder(a){const {facet:b}=this;return(a=b[a])?({sort:a}=a,[(ue(a)?a.order:!h.isArray(a)&&a)||"ascending"]):[]}assembleLabelTitle(){const {facet:a,config:b}=this;if(a.facet)return jj(a.facet,"facet",b);const e={row:["top","bottom"],column:["left","right"]};for(const f of Bj)if(a[f]){let g;
const p=hi("labelOrient",null==(g=a[f])?void 0:g.header,b,f);if(e[f].includes(p))return jj(a[f],f,b)}}assembleMarks(){const {child:a}=this,b=Xj(this.component.data.facetRoot),e=a.assembleGroupEncodeEntry(!1),f=this.assembleLabelTitle()||a.assembleTitle(),g=a.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},f?{title:f}:{},g?{style:g}:{},{from:{facet:this.assembleFacet()},sort:{field:qh.map(p=>this.facetSortFields(p)).flat(),order:qh.map(p=>this.facetSortOrder(p)).flat()}},
0<b.length?{data:b}:{},e?{encode:{update:e}}:{},a.assembleGroup(Yg(this,[])))]}getMapping(){return this.facet}}class Jm extends wm{constructor(a,b,e,f){super(a,"concat",b,e,f,a.resolve);Q(this,"children",void 0);let g,p,B,O;"shared"!==(null==(g=a.resolve)?void 0:null==(p=g.axis)?void 0:p.x)&&"shared"!==(null==(B=a.resolve)?void 0:null==(O=B.axis)?void 0:O.y)||J("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");this.children=this.getChildren(a).map((X,
ua)=>fl(X,this,this.getName(`concat_${ua}`),void 0,f))}parseData(){this.component.data=jk(this);for(const a of this.children)a.parseData()}parseSelections(){this.component.selection={};for(const a of this.children){a.parseSelections();for(const b of sd(a.component.selection))this.component.selection[b]=a.component.selection[b]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){for(const a of this.children)a.parseAxesAndHeaders()}getChildren(a){return"vconcat"in
a?a.vconcat:"hconcat"in a?a.hconcat:a.concat}parseLayoutSize(){Rk(this);const a=void 0===this.layout.columns?"height":"childHeight";Ak(this,1===this.layout.columns?"width":"childWidth");Ak(this,a)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(a){return this.children.reduce((b,e)=>e.assembleSelectionTopLevelSignals(b),a)}assembleSignals(){this.children.forEach(a=>a.assembleSignals());return[]}assembleLayoutSignals(){const a=ij(this);for(const b of this.children)a.push(...b.assembleLayoutSignals());
return a}assembleSelectionData(a){return this.children.reduce((b,e)=>e.assembleSelectionData(b),a)}assembleMarks(){return this.children.map(a=>{const b=a.assembleTitle(),e=a.assembleGroupStyle(),f=a.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:a.getName("group")},b?{title:b}:{},e?{style:e}:{},f?{encode:{update:f}}:{},a.assembleGroup())})}assembleGroupStyle(){}assembleDefaultLayout(){const a=this.layout.columns;return Object.assign({},null!=a?{columns:a}:{},{bounds:"full",
align:"each"})}}const Km=Object.assign({},{disable:1,gridScale:1,scale:1},uf,{labelExpr:1,encode:1}),Am=sd(Km);class Bm extends If{constructor(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super();this.explicit=a;this.implicit=b;this.mainExtracted=e}clone(){return new Bm(De(this.explicit),De(this.implicit),this.mainExtracted)}hasAxisPart(a){if("axis"===a)return!0;
if("grid"===a||"title"===a)return!!this.get(a);a=this.get(a);return!(!1===a||null===a)}hasOrientSignalRef(){return Nb(this.explicit.orient)}}const Lm={bottom:"top",top:"bottom",left:"right",right:"left"},Im=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),Jl={arc:{vgMark:"arc",encodeEntry:a=>Object.assign({},zf(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),se("x",a,{defaultPos:"mid"}),se("y",
a,{defaultPos:"mid"}),Qe(a,"radius"),Qe(a,"theta"))},area:{vgMark:"area",encodeEntry:a=>Object.assign({},zf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),df("x",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===a.markDef.orient}),df("y",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===a.markDef.orient}),qf(a))},bar:{vgMark:"rect",encodeEntry:a=>Object.assign({},zf(a,{align:"ignore",baseline:"ignore",color:"include",
orient:"ignore",size:"ignore",theta:"ignore"}),Qe(a,"x"),Qe(a,"y"))},circle:{vgMark:"symbol",encodeEntry:a=>el(a,"circle")},geoshape:{vgMark:"shape",encodeEntry:a=>Object.assign({},zf(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:a=>{var {encoding:b}=a;b=b.shape;return[Object.assign({},{type:"geoshape",projection:a.projectionName()},b&&Ga(b)&&"geojson"===b.type?{field:pc(b,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:a=>
Object.assign({},zf(a,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),Qe(a,"x"),Qe(a,"y"),ta(a,"url"))},line:{vgMark:"line",encodeEntry:a=>Object.assign({},zf(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),se("x",a,{defaultPos:"mid"}),se("y",a,{defaultPos:"mid"}),ad("size",a,{vgChannel:"strokeWidth"}),qf(a))},point:{vgMark:"symbol",encodeEntry:a=>el(a)},rect:{vgMark:"rect",encodeEntry:a=>Object.assign({},
zf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Qe(a,"x"),Qe(a,"y"))},rule:{vgMark:"rule",encodeEntry:a=>{var {markDef:b}=a;b=b.orient;return a.encoding.x||a.encoding.y||a.encoding.latitude||a.encoding.longitude?Object.assign({},zf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),df("x",a,{defaultPos:"horizontal"===b?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==b}),df("y",a,{defaultPos:"vertical"===
b?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==b}),ad("size",a,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:a=>el(a,"square")},text:{vgMark:"text",encodeEntry:a=>{var {config:b}=a,e=Object,f=e.assign,g=zf(a,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),p=se("x",a,{defaultPos:"mid"}),B=se("y",a,{defaultPos:"mid"}),O=ta(a),X=ad("size",a,{vgChannel:"fontSize"}),ua=ad("angle",a);var cb=void 0===Zb("align",
a.markDef,b)?"center":void 0;cb=hg("align",cb);b=void 0===Zb("baseline",a.markDef,b)?"middle":void 0;return f.call(e,{},g,p,B,O,X,ua,cb,hg("baseline",b),se("radius",a,{defaultPos:null}),se("theta",a,{defaultPos:null}))}},tick:{vgMark:"rect",encodeEntry:a=>{const {config:b,markDef:e}=a;var f=e.orient;const g="horizontal"===f?"width":"height";f="horizontal"===f?"height":"width";var p=Object,B=p.assign,O=zf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),
X=se("x",a,{defaultPos:"mid",vgChannel:"xc"}),ua=se("y",a,{defaultPos:"mid",vgChannel:"yc"});{const {config:Mc,markDef:kc}=a;var {orient:cb}=kc;var pb="horizontal"===cb?"width":"height";cb=a.getScaleComponent("horizontal"===cb?"x":"y");var gc;const Lc=null!=(gc=Zb("size",kc,Mc,{vgChannel:pb}))?gc:Mc.tick.bandSize;pb=void 0!==Lc?Lc:(gc=cb?cb.get("range"):void 0)&&Rb(gc)&&h.isNumber(gc.step)?3*gc.step/4:3*Yf(Mc.view,pb)/4}return B.call(p,{},O,X,ua,ad("size",a,{defaultValue:pb,vgChannel:g}),{[f]:Ua(Zb("thickness",
e,b))})}},trail:{vgMark:"trail",encodeEntry:a=>Object.assign({},zf(a,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),se("x",a,{defaultPos:"mid"}),se("y",a,{defaultPos:"mid"}),ad("size",a),qf(a))}};class Dm extends Em{constructor(a,b,e){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},g=4<arguments.length?arguments[4]:void 0;super(a,"unit",b,e,g,void 0,hf(a)?a.view:void 0);Q(this,"markDef",void 0);Q(this,"encoding",void 0);Q(this,"specifiedScales",
{});Q(this,"stack",void 0);Q(this,"specifiedAxes",{});Q(this,"specifiedLegends",{});Q(this,"specifiedProjection",{});Q(this,"selection",[]);Q(this,"children",[]);const p=gd(a.mark)?Object.assign({},a.mark):{type:a.mark},B=p.type;void 0===p.filled&&(p.filled=Sh(p,g,{graticule:a.data&&"graticule"in a.data}));const O=this.encoding=Tg(a.encoding||{},B,p.filled,g);this.markDef=jg(p,O,g);this.size=Rl({encoding:O,size:hf(a)?Object.assign({},f,a.width?{width:a.width}:{},a.height?{height:a.height}:{}):f});
this.stack=uh(this.markDef,O);this.specifiedScales=this.initScales(B,O);this.specifiedAxes=this.initAxes(O);this.specifiedLegends=this.initLegends(O);this.specifiedProjection=a.projection;let X;this.selection=(null!=(X=a.params)?X:[]).filter(ua=>Yd(ua))}get hasProjection(){const {encoding:a}=this,b=this.mark===qi,e=a&&Pl.some(f=>yc(a[f]));return b||e}scaleDomain(a){return(a=this.specifiedScales[a])?a.domain:void 0}axis(a){return this.specifiedAxes[a]}legend(a){return this.specifiedLegends[a]}initScales(a,
b){return Bk.reduce((e,f)=>{const g=Fe(b[f]);if(g){let p;e[f]=this.initScale(null!=(p=g.scale)?p:{})}return e},{})}initScale(a){const {domain:b,range:e}=a;a=Mb(a);h.isArray(b)&&(a.domain=b.map(qa));h.isArray(e)&&(a.range=e.map(qa));return a}initAxes(a){return Ph.reduce((b,e)=>{var f=a[e];if(yc(f)||"x"===e&&yc(a.x2)||"y"===e&&yc(a.y2))f=yc(f)?f.axis:void 0,b[e]=f?this.initAxis(Object.assign({},f)):f;return b},{})}initAxis(a){var b=sd(a);const e={};for(const f of b)b=a[f],e[f]=Vf(b)?dd(b):qa(b);return e}initLegends(a){return hl.reduce((b,
e)=>{var f=Fe(a[e]),g;if(g=f)a:{switch(e){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":g=!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":g=!1;break a}g=void 0}g&&(f=f.legend,b[e]=f?Mb(f):f);return b},{})}parseData(){this.component.data=jk(this)}parseLayoutSize(){const {size:a,component:b}=this;for(const f of Ph){const g=G(f);if(a[g]){var e=a[g];b.layoutSize.set(g,He(e)?"step":e,!0)}else e=Pk(this,g),b.layoutSize.set(g,
e,!1)}}parseSelections(){var a=this.component;{var b=this.selection;var e={};const p=this.config.selection;if(b&&b.length)for(const B of b){b=ra(B.name);var f=B.select,g=h.isString(f)?f:f.type;f=h.isObject(f)?De(f):{type:g};const O=p[g];for(const X in O)if("fields"!==X&&"encodings"!==X&&("mark"===X&&(f[X]=Object.assign({},O[X],f[X])),void 0===f[X]||!0===f[X])){let ua;f[X]=De(null!=(ua=O[X])?ua:f[X])}b=e[b]=Object.assign({},f,{name:b,type:g,init:B.value,bind:B.bind,events:h.isString(f.on)?h.parseSelector(f.on,
"scope"):h.array(De(f.on))});g=De(B);for(const X of dj)X.defined(b)&&X.parse&&X.parse(this,b,g)}}a.selection=e}parseMarkGroup(){this.component.mark=ql(this)}parseAxesAndHeaders(){this.component.axes=rl(this)}assembleSelectionTopLevelSignals(a){return Jh(this,a)}assembleSignals(){var a=[...Oi(this)];var b=[];var e;for(const f of kg(null!=(e=this.component.selection)?e:{})){e=f.name;let g=`${e}${"_tuple"}, ${"global"===f.resolve?"true":`{unit: ${cg(this)}}`}`;for(const p of dj)p.defined(f)&&(p.signals&&
(b=p.signals(this,f,b)),p.modifyExpr&&(g=p.modifyExpr(this,f,g)));b.push({name:e+"_modify",on:[{events:{signal:f.name+"_tuple"},update:`modify(${h.stringValue(f.name+"_store")}, ${g})`}]})}b=ya(b);return[...a,...b]}assembleSelectionData(a){return Zg(this,a)}assembleLayout(){return null}assembleLayoutSignals(){return ij(this)}assembleMarks(){let a,b=null!=(a=this.component.mark)?a:[];this.parent&&Ti(this.parent)||(b=C(this,b));return b.map(this.correctDataNames)}assembleGroupStyle(){const {style:a}=
this.view||{};return void 0!==a?a:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(a){return Se(this.encoding,a)}fieldDef(a){return Ne(this.encoding[a])}typedFieldDef(a){a=this.fieldDef(a);return Rc(a)?a:null}}class Cm extends wm{constructor(a,b,e,f,g){super(a,"layer",b,e,g,a.resolve,a.view);Q(this,"children",void 0);const p=Object.assign({},f,a.width?{width:a.width}:{},a.height?{height:a.height}:{});this.children=
a.layer.map((B,O)=>{if("layer"in B)return new Cm(B,this,this.getName(`layer_${O}`),p,g);if(mf(B))return new Dm(B,this,this.getName(`layer_${O}`),p,g);throw Error(xa(B));})}parseData(){this.component.data=jk(this);for(const a of this.children)a.parseData()}parseLayoutSize(){Rk(this);Ak(this,"width");Ak(this,"height")}parseSelections(){this.component.selection={};for(const a of this.children){a.parseSelections();for(const b of sd(a.component.selection))this.component.selection[b]=a.component.selection[b]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){const {axes:a,
resolve:b}=this.component,e={top:0,bottom:0,right:0,left:0};for(var f of this.children){f.parseAxesAndHeaders();for(const g of sd(f.component.axes))b.axis[g]=n(this.component.resolve,g),"shared"===b.axis[g]&&(a[g]=fm(a[g],f.component.axes[g]),a[g]||(b.axis[g]="independent",delete a[g]))}for(const g of Ph){for(const p of this.children)if(p.component.axes[g]){if("independent"===b.axis[g]){let B;a[g]=(null!=(B=a[g])?B:[]).concat(p.component.axes[g]);for(const O of p.component.axes[g]){const {value:X,
explicit:ua}=O.getWithExplicit("orient");Nb(X)||(0<e[X]&&!ua&&(f=Lm[X],e[X]>e[f]&&O.set("orient",f,!1)),e[X]++)}}delete p.component.axes[g]}if("independent"===b.axis[g]&&a[g]&&1<a[g].length)for(const p of(a[g]||[]).entries()){const [B,O]=p;0<B&&O.get("grid")&&!O.explicit.grid&&(O.implicit.grid=!1)}}}assembleSelectionTopLevelSignals(a){return this.children.reduce((b,e)=>e.assembleSelectionTopLevelSignals(b),a)}assembleSignals(){return this.children.reduce((a,b)=>a.concat(b.assembleSignals()),Oi(this))}assembleLayoutSignals(){return this.children.reduce((a,
b)=>a.concat(b.assembleLayoutSignals()),ij(this))}assembleSelectionData(a){return this.children.reduce((b,e)=>e.assembleSelectionData(b),a)}assembleGroupStyle(){var a=new Set;for(const b of this.children)for(const e of h.array(b.assembleGroupStyle()))a.add(e);a=Array.from(a);return 1<a.length?a:1===a.length?a[0]:void 0}assembleTitle(){let a=super.assembleTitle();if(a)return a;for(const b of this.children)if(a=b.assembleTitle())return a}assembleLayout(){return null}assembleMarks(){return Y(this,this.children.flatMap(a=>
a.assembleMarks()))}assembleLegends(){return this.children.reduce((a,b)=>a.concat(b.assembleLegends()),tc(this))}}u.accessPathDepth=eb;u.accessPathWithDatum=Xa;u.compile=function(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};b.logger&&(Ai=b.logger);b.fieldTitle&&(Cf=b.fieldTitle);try{const cb=xg(h.mergeConfig(b.config,a.config)),pb=vi(a,cb),gc=fl(pb,null,"",void 0,cb);gc.parse();var e=gc.component.data,f=gc;wd(e.sources);let Mc=0,kc=0;for(var g=0;5>g&&Ed(e,f,!0);g++)Mc++;e.sources.map(Xh);
for(g=0;5>g&&Ed(e,f,!1);g++)kc++;wd(e.sources);5===Math.max(Mc,kc)&&J("Maximum optimization runs(5) reached.");var p=pb.autosize;e=cb;f=gc;const Lc=f.component.layoutSize.get("width"),Zc=f.component.layoutSize.get("height");void 0===p?(p={type:"pad"},f.hasAxisOrientSignalRef()&&(p.resize=!0)):h.isString(p)&&(p={type:p});var B;if(B=Lc&&Zc){var O=p.type;B="fit"===O||"fit-x"===O||"fit-y"===O}if(B)if("step"===Lc&&"step"===Zc)J(kb()),p.type="pad";else if("step"===Lc||"step"===Zc){O="step"===Lc?"width":
"height";J(kb(U(O)));B=p;var X=(O="width"===O?"height":"width",`fit-${U(O)}`);B.type=X}var ua=Object.assign({},1===sd(p).length&&p.type?"pad"===p.type?{}:{autosize:p.type}:{autosize:p},lh(e,!1),lh(a,!0));return{spec:Tl(gc,ua,a.datasets,a.usermeta),normalized:pb}}finally{b.logger&&(Ai=Al),b.fieldTitle&&(Cf=vj)}};u.contains=Cb;u.deepEqual=pa;u.deleteNestedProperty=za;u.duplicate=De;u.entries=Gi;u.every=jc;u.fieldIntersection=xb;u.flatAccessWithDatum=Ia;u.getFirstDefined=T;u.hasIntersection=ub;u.hash=
Xb;u.internalField=ca;u.isBoolean=ec;u.isEmpty=hb;u.isEqual=function(a,b){const e=sd(a),f=sd(b);if(e.length!==f.length)return!1;for(const g of e)if(a[g]!==b[g])return!1;return!0};u.isInternalField=ha;u.isNullOrFalse=mc;u.isNumeric=oa;u.keys=sd;u.logicalExpr=fa;u.mergeDeep=Ba;u.never=zb;u.normalize=vi;u.normalizeAngle=La;u.omit=ac;u.pick=Yb;u.prefixGenerator=sb;u.removePathFromField=Qb;u.replaceAll=tb;u.replacePathInField=bb;u.resetIdCounter=function(){Lk=42};u.setEqual=wb;u.some=Vb;u.stringify=m;
u.titleCase=Ra;u.unique=Za;u.uniqueId=Z;u.vals=kg;u.varName=ra;u.version="5.16.3"})};
shadow$provide[55]=function(Eb,ob,Dc,Wa){function u(){throw Error("setTimeout has not been defined");}function h(){throw Error("clearTimeout has not been defined");}function ia(wb){if(mc===setTimeout)return setTimeout(wb,0);if((mc===u||!mc)&&setTimeout)return mc=setTimeout,setTimeout(wb,0);try{return mc(wb,0)}catch(ub){try{return mc.call(null,wb,0)}catch(sb){return mc.call(this,wb,0)}}}function ab(wb){if(Cb===clearTimeout)return clearTimeout(wb);if((Cb===h||!Cb)&&clearTimeout)return Cb=clearTimeout,
clearTimeout(wb);try{return Cb(wb)}catch(ub){try{return Cb.call(null,wb)}catch(sb){return Cb.call(this,wb)}}}function zb(){jc&&Ba&&(jc=!1,Ba.length?Vb=Ba.concat(Vb):Za=-1,Vb.length&&Yb())}function Yb(){if(!jc){var wb=ia(zb);jc=!0;for(var ub=Vb.length;ub;){Ba=Vb;for(Vb=[];++Za<ub;)Ba&&Ba[Za].run();Za=-1;ub=Vb.length}Ba=null;jc=!1;ab(wb)}}function ac(wb,ub){this.fun=wb;this.array=ub}function Xb(){}Eb=Dc.exports={};try{var mc="function"===typeof setTimeout?setTimeout:u}catch(wb){mc=u}try{var Cb="function"===
typeof clearTimeout?clearTimeout:h}catch(wb){Cb=h}var Vb=[],jc=!1,Ba,Za=-1;Eb.nextTick=function(wb){var ub=Array(arguments.length-1);if(1<arguments.length)for(var sb=1;sb<arguments.length;sb++)ub[sb-1]=arguments[sb];Vb.push(new ac(wb,ub));1!==Vb.length||jc||ia(Yb)};ac.prototype.run=function(){this.fun.apply(null,this.array)};Eb.title="browser";Eb.browser=!0;Eb.env={};Eb.argv=[];Eb.version="";Eb.versions={};Eb.on=Xb;Eb.addListener=Xb;Eb.once=Xb;Eb.off=Xb;Eb.removeListener=Xb;Eb.removeAllListeners=
Xb;Eb.emit=Xb;Eb.prependListener=Xb;Eb.prependOnceListener=Xb;Eb.listeners=function(wb){return[]};Eb.binding=function(wb){throw Error("process.binding is not supported");};Eb.cwd=function(){return"/"};Eb.chdir=function(wb){throw Error("process.chdir is not supported");};Eb.umask=function(){return 0}};
shadow$provide[56]=function(Eb,ob,Dc,Wa){var u=ob(55);(function(h,ia){"object"===typeof Wa&&"undefined"!==typeof Dc?Dc.exports=ia(ob(53),ob(54)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],ia):(h="undefined"!==typeof globalThis?globalThis:h||self,h.vegaEmbed=ia(h.vega,h.vegaLite))})(this,function(h,ia){function ab(E){if(E&&E.__esModule)return E;var aa=Object.create(null);E&&Object.keys(E).forEach(function(Fa){if("default"!==Fa){var fb=Object.getOwnPropertyDescriptor(E,Fa);Object.defineProperty(aa,
Fa,fb.get?fb:{enumerable:!0,get:function(){return E[Fa]}})}});aa["default"]=E;return Object.freeze(aa)}function zb(E){if(Array.isArray(E)){E=Array(E.length);for(var aa=0;aa<E.length;aa++)E[aa]=""+aa;return E}if(Object.keys)return Object.keys(E);aa=[];for(var Fa in E)A.call(E,Fa)&&aa.push(Fa);return aa}function Yb(E){switch(typeof E){case "object":return JSON.parse(JSON.stringify(E));case "undefined":return null;default:return E}}function ac(E){for(var aa=0,Fa=E.length,fb;aa<Fa;)if(fb=E.charCodeAt(aa),
48<=fb&&57>=fb)aa++;else return!1;return!0}function Xb(E){return-1===E.indexOf("/")&&-1===E.indexOf("~")?E:E.replace(/~/g,"~0").replace(/\//g,"~1")}function mc(E){return E.replace(/~1/g,"/").replace(/~0/g,"~")}function Cb(E){if(void 0===E)return!0;if(E)if(Array.isArray(E))for(var aa=0,Fa=E.length;aa<Fa;aa++){if(Cb(E[aa]))return!0}else if("object"===typeof E){aa=zb(E);Fa=aa.length;for(var fb=0;fb<Fa;fb++)if(Cb(E[aa[fb]]))return!0}return!1}function Vb(E,aa){E=[E];for(var Fa in aa){var fb="object"===
typeof aa[Fa]?JSON.stringify(aa[Fa],null,2):aa[Fa];"undefined"!==typeof fb&&E.push(Fa+": "+fb)}return E.join("\n")}function jc(E,aa){if(""==aa)return E;aa={op:"_get",path:aa};Ba(E,aa);return aa.value}function Ba(E,aa,Fa,fb,Gb,qc){void 0===Fa&&(Fa=!1);void 0===fb&&(fb=!0);void 0===Gb&&(Gb=!0);void 0===qc&&(qc=0);Fa&&("function"==typeof Fa?Fa(aa,0,E,aa.path):wb(aa,0));if(""===aa.path){Gb={newDocument:E};if("add"===aa.op)return Gb.newDocument=aa.value,Gb;if("replace"===aa.op)return Gb.newDocument=aa.value,
Gb.removed=E,Gb;if("move"===aa.op||"copy"===aa.op)return Gb.newDocument=jc(E,aa.from),"move"===aa.op&&(Gb.removed=E),Gb;if("test"===aa.op){Gb.test=sb(E,aa.value);if(!1===Gb.test)throw new G("Test operation failed","TEST_OPERATION_FAILED",qc,aa,E);Gb.newDocument=E;return Gb}if("remove"===aa.op)return Gb.removed=E,Gb.newDocument=null,Gb;if("_get"===aa.op)return aa.value=E,Gb;if(Fa)throw new G("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",qc,aa,E);return Gb}fb||
(E=Yb(E));fb=(aa.path||"").split("/");var Ib=E,Oc=1,od=fb.length,$c=void 0,Nc,Nd;for(Nd="function"==typeof Fa?Fa:wb;;){(Nc=fb[Oc])&&-1!=Nc.indexOf("~")&&(Nc=mc(Nc));if(Gb&&("__proto__"==Nc||"prototype"==Nc&&0<Oc&&"constructor"==fb[Oc-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");Fa&&
void 0===$c&&(void 0===Ib[Nc]?$c=fb.slice(0,Oc).join("/"):Oc==od-1&&($c=aa.path),void 0!==$c&&Nd(aa,0,E,$c));Oc++;if(Array.isArray(Ib)){if("-"===Nc)Nc=Ib.length;else{if(Fa&&!ac(Nc))throw new G("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",qc,aa,E);ac(Nc)&&(Nc=~~Nc)}if(Oc>=od){if(Fa&&"add"===aa.op&&Nc>Ib.length)throw new G("The specified index MUST NOT be greater than the number of elements in the array",
"OPERATION_VALUE_OUT_OF_BOUNDS",qc,aa,E);Gb=z[aa.op].call(aa,Ib,Nc,E);if(!1===Gb.test)throw new G("Test operation failed","TEST_OPERATION_FAILED",qc,aa,E);return Gb}}else if(Oc>=od){Gb=x[aa.op].call(aa,Ib,Nc,E);if(!1===Gb.test)throw new G("Test operation failed","TEST_OPERATION_FAILED",qc,aa,E);return Gb}Ib=Ib[Nc];if(Fa&&Oc<od&&(!Ib||"object"!==typeof Ib))throw new G("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",qc,aa,E);}}function Za(E,aa,Fa,fb,Gb){void 0===fb&&(fb=
!0);void 0===Gb&&(Gb=!0);if(Fa&&!Array.isArray(aa))throw new G("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");fb||(E=Yb(E));fb=Array(aa.length);for(var qc=0,Ib=aa.length;qc<Ib;qc++)fb[qc]=Ba(E,aa[qc],Fa,!0,Gb,qc),E=fb[qc].newDocument;fb.newDocument=E;return fb}function wb(E,aa,Fa,fb){if("object"!==typeof E||null===E||Array.isArray(E))throw new G("Operation is not an object","OPERATION_NOT_AN_OBJECT",aa,E,Fa);if(x[E.op]){if("string"!==typeof E.path)throw new G("Operation `path` property is not a string",
"OPERATION_PATH_INVALID",aa,E,Fa);if(0!==E.path.indexOf("/")&&0<E.path.length)throw new G('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",aa,E,Fa);if("move"!==E.op&&"copy"!==E.op||"string"===typeof E.from)if("add"!==E.op&&"replace"!==E.op&&"test"!==E.op||void 0!==E.value){if(("add"===E.op||"replace"===E.op||"test"===E.op)&&Cb(E.value))throw new G("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",
aa,E,Fa);if(Fa)if("add"==E.op){var Gb=E.path.split("/").length;fb=fb.split("/").length;if(Gb!==fb+1&&Gb!==fb)throw new G("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",aa,E,Fa);}else if("replace"===E.op||"remove"===E.op||"_get"===E.op){if(E.path!==fb)throw new G("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",aa,E,Fa);}else if(("move"===E.op||"copy"===E.op)&&(Gb=ub([{op:"_get",path:E.from,value:void 0}],Fa))&&"OPERATION_PATH_UNRESOLVABLE"===
Gb.name)throw new G("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",aa,E,Fa);}else throw new G("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",aa,E,Fa);else throw new G("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",aa,E,Fa);}else throw new G("Operation `op` property is not one of operations defined in RFC-6902",
"OPERATION_OP_INVALID",aa,E,Fa);}function ub(E,aa,Fa){try{if(!Array.isArray(E))throw new G("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(aa)Za(Yb(aa),Yb(E),Fa||!0);else{Fa=Fa||wb;for(var fb=0;fb<E.length;fb++)Fa(E[fb],fb,aa,void 0)}}catch(Gb){if(Gb instanceof G)return Gb;throw Gb;}}function sb(E,aa){if(E===aa)return!0;if(E&&aa&&"object"==typeof E&&"object"==typeof aa){var Fa=Array.isArray(E),fb=Array.isArray(aa);if(Fa&&fb){var Gb=E.length;if(Gb!=aa.length)return!1;for(Fa=Gb;0!==Fa--;)if(!sb(E[Fa],
aa[Fa]))return!1;return!0}if(Fa!=fb)return!1;fb=Object.keys(E);Gb=fb.length;if(Gb!==Object.keys(aa).length)return!1;for(Fa=Gb;0!==Fa--;)if(!aa.hasOwnProperty(fb[Fa]))return!1;for(Fa=Gb;0!==Fa--;)if(Gb=fb[Fa],!sb(E[Gb],aa[Gb]))return!1;return!0}return E!==E&&aa!==aa}function xb(E,aa){void 0===aa&&(aa=!1);var Fa=U.get(E.object);hb(Fa.value,E.object,E.patches,"",aa);E.patches.length&&Za(Fa.value,E.patches);aa=E.patches;0<aa.length&&(E.patches=[],E.callback&&E.callback(aa));return aa}function hb(E,aa,
Fa,fb,Gb){if(aa!==E){"function"===typeof aa.toJSON&&(aa=aa.toJSON());for(var qc=zb(aa),Ib=zb(E),Oc=!1,od=Ib.length-1;0<=od;od--){var $c=Ib[od],Nc=E[$c];if(!A.call(aa,$c)||void 0===aa[$c]&&void 0!==Nc&&!1===Array.isArray(aa))Array.isArray(E)===Array.isArray(aa)?(Gb&&Fa.push({op:"test",path:fb+"/"+Xb($c),value:Yb(Nc)}),Fa.push({op:"remove",path:fb+"/"+Xb($c)}),Oc=!0):(Gb&&Fa.push({op:"test",path:fb,value:E}),Fa.push({op:"replace",path:fb,value:aa}));else{var Nd=aa[$c];"object"==typeof Nc&&null!=Nc&&
"object"==typeof Nd&&null!=Nd&&Array.isArray(Nc)===Array.isArray(Nd)?hb(Nc,Nd,Fa,fb+"/"+Xb($c),Gb):Nc!==Nd&&(Gb&&Fa.push({op:"test",path:fb+"/"+Xb($c),value:Yb(Nc)}),Fa.push({op:"replace",path:fb+"/"+Xb($c),value:Yb(Nd)}))}}if(Oc||qc.length!=Ib.length)for(od=0;od<qc.length;od++)$c=qc[od],A.call(E,$c)||void 0===aa[$c]||Fa.push({op:"add",path:fb+"/"+Xb($c),value:Yb(aa[$c])})}}function ec(E){var aa=this;aa instanceof ec||(aa=new ec);aa.tail=null;aa.head=null;aa.length=0;if(E&&"function"===typeof E.forEach)E.forEach(function(Gb){aa.push(Gb)});
else if(0<arguments.length)for(var Fa=0,fb=arguments.length;Fa<fb;Fa++)aa.push(arguments[Fa]);return aa}function ra(E,aa,Fa,fb){if(!(this instanceof ra))return new ra(E,aa,Fa,fb);this.list=fb;this.value=E;aa?(aa.next=this,this.prev=aa):this.prev=null;Fa?(Fa.prev=this,this.next=Fa):this.next=null}function fa(){if(Sc)return Ec;Sc=1;const E=Symbol("SemVer ANY");class aa{static get ANY(){return E}constructor($c,Nc){Nc=Fa(Nc);if($c instanceof aa){if($c.loose===!!Nc.loose)return $c;$c=$c.value}Ib("comparator",
$c,Nc);this.options=Nc;this.loose=!!Nc.loose;this.parse($c);this.value=this.semver===E?"":this.operator+this.semver.version;Ib("comp",this)}parse($c){const Nc=$c.match(this.options.loose?fb[Gb.COMPARATORLOOSE]:fb[Gb.COMPARATOR]);if(!Nc)throw new TypeError("Invalid comparator: ".concat($c));this.operator=void 0!==Nc[1]?Nc[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=Nc[2]?new Oc(Nc[2],this.options.loose):E}toString(){return this.value}test($c){Ib("Comparator.test",$c,this.options.loose);
if(this.semver===E||$c===E)return!0;if("string"===typeof $c)try{$c=new Oc($c,this.options)}catch(Nc){return!1}return qc($c,this.operator,this.semver,this.options)}intersects($c,Nc){if(!($c instanceof aa))throw new TypeError("a Comparator is required");Nc&&"object"===typeof Nc||(Nc={loose:!!Nc,includePrerelease:!1});if(""===this.operator)return""===this.value?!0:(new od($c.value,Nc)).test(this.value);if(""===$c.operator)return""===$c.value?!0:(new od(this.value,Nc)).test($c.semver);const Nd=("\x3e\x3d"===
this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===$c.operator||"\x3e"===$c.operator),ce=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===$c.operator||"\x3c"===$c.operator),Kd=this.semver.version===$c.semver.version,Jd=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===$c.operator||"\x3c\x3d"===$c.operator),$d=qc(this.semver,"\x3c",$c.semver,Nc)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===$c.operator||"\x3c"===$c.operator);$c=qc(this.semver,
"\x3e",$c.semver,Nc)&&("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3e\x3d"===$c.operator||"\x3e"===$c.operator);return Nd||ce||Kd&&Jd||$d||$c}}Ec=aa;const Fa=Zb,{re:fb,t:Gb}=ic.exports,qc=Cc,Ib=jd,Oc=Sb,od=za();return Ec}function za(){if(pd)return vd;pd=1;class E{constructor(rc,Pc){Pc=Fa(Pc);if(rc instanceof E)return rc.loose===!!Pc.loose&&rc.includePrerelease===!!Pc.includePrerelease?rc:new E(rc.raw,Pc);if(rc instanceof fb)return this.raw=rc.value,this.set=[[rc]],this.format(),this;
this.options=Pc;this.loose=!!Pc.loose;this.includePrerelease=!!Pc.includePrerelease;this.raw=rc;this.set=rc.split("||").map(Hc=>this.parseRange(Hc.trim())).filter(Hc=>Hc.length);if(!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(rc));if(1<this.set.length)if(rc=this.set[0],this.set=this.set.filter(Hc=>"\x3c0.0.0-0"!==Hc[0].value),0===this.set.length)this.set=[rc];else if(1<this.set.length)for(const Hc of this.set)if(1===Hc.length&&""===Hc[0].value){this.set=[Hc];break}this.format()}format(){return this.range=
this.set.map(rc=>rc.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(rc){rc=rc.trim();var Pc=Object.keys(this.options).join(",");Pc="parseRange:".concat(Pc,":").concat(rc);var Hc=aa.get(Pc);if(Hc)return Hc;Hc=this.options.loose;rc=rc.replace(Hc?Ib[Oc.HYPHENRANGELOOSE]:Ib[Oc.HYPHENRANGE],gd(this.options.includePrerelease));Gb("hyphen replace",rc);rc=rc.replace(Ib[Oc.COMPARATORTRIM],od);Gb("comparator trim",rc);rc=rc.replace(Ib[Oc.TILDETRIM],$c);rc=rc.replace(Ib[Oc.CARETTRIM],
Nc);rc=rc.split(/\s+/).join(" ");rc=rc.split(" ").map(Yc=>{var id=Yc;Yc=this.options;Gb("comp",id,Yc);id=$d(id,Yc);Gb("caret",id);id=Kd(id,Yc);Gb("tildes",id);id=Oa(id,Yc);Gb("xrange",id);Gb("replaceStars",id,Yc);id=id.trim().replace(Ib[Oc.STAR],"");Gb("stars",id);return id}).join(" ").split(/\s+/).map(Yc=>{var id=this.options;Gb("replaceGTE0",Yc,id);return Yc.trim().replace(Ib[id.includePrerelease?Oc.GTE0PRE:Oc.GTE0],"")});Hc&&(rc=rc.filter(Yc=>{Gb("loose invalid filter",Yc,this.options);return!!Yc.match(Ib[Oc.COMPARATORLOOSE])}));
Gb("range list",rc);Hc=new Map;rc=rc.map(Yc=>new fb(Yc,this.options));for(var Tc of rc){if("\x3c0.0.0-0"===Tc.value)return[Tc];Hc.set(Tc.value,Tc)}1<Hc.size&&Hc.has("")&&Hc.delete("");Tc=[...Hc.values()];aa.set(Pc,Tc);return Tc}intersects(rc,Pc){if(!(rc instanceof E))throw new TypeError("a Range is required");return this.set.some(Hc=>Nd(Hc,Pc)&&rc.set.some(Tc=>Nd(Tc,Pc)&&Hc.every(Yc=>Tc.every(id=>Yc.intersects(id,Pc)))))}test(rc){if(!rc)return!1;if("string"===typeof rc)try{rc=new qc(rc,this.options)}catch(id){return!1}for(let id=
0;id<this.set.length;id++){a:{var Pc=this.set[id];var Hc=rc,Tc=this.options;for(var Yc=0;Yc<Pc.length;Yc++)if(!Pc[Yc].test(Hc)){Pc=!1;break a}if(Hc.prerelease.length&&!Tc.includePrerelease){for(Tc=0;Tc<Pc.length;Tc++)if(Gb(Pc[Tc].semver),Pc[Tc].semver!==fb.ANY&&0<Pc[Tc].semver.prerelease.length&&(Yc=Pc[Tc].semver,Yc.major===Hc.major&&Yc.minor===Hc.minor&&Yc.patch===Hc.patch)){Pc=!0;break a}Pc=!1}else Pc=!0}if(Pc)return!0}return!1}}vd=E;const aa=new Hb({max:1E3}),Fa=Zb,fb=fa(),Gb=jd,qc=Sb,{re:Ib,t:Oc,
comparatorTrimReplace:od,tildeTrimReplace:$c,caretTrimReplace:Nc}=ic.exports,Nd=(rc,Pc)=>{let Hc=!0;rc=rc.slice();let Tc=rc.pop();for(;Hc&&rc.length;)Hc=rc.every(Yc=>Tc.intersects(Yc,Pc)),Tc=rc.pop();return Hc},ce=rc=>!rc||"x"===rc.toLowerCase()||"*"===rc,Kd=(rc,Pc)=>rc.trim().split(/\s+/).map(Hc=>Jd(Hc,Pc)).join(" "),Jd=(rc,Pc)=>rc.replace(Pc.loose?Ib[Oc.TILDELOOSE]:Ib[Oc.TILDE],(Hc,Tc,Yc,id,ld)=>{Gb("tilde",rc,Hc,Tc,Yc,id,ld);ce(Tc)?Hc="":ce(Yc)?Hc="\x3e\x3d".concat(Tc,".0.0 \x3c").concat(+Tc+1,
".0.0-0"):ce(id)?Hc="\x3e\x3d".concat(Tc,".").concat(Yc,".0 \x3c").concat(Tc,".").concat(+Yc+1,".0-0"):ld?(Gb("replaceTilde pr",ld),Hc="\x3e\x3d".concat(Tc,".").concat(Yc,".").concat(id,"-").concat(ld," \x3c").concat(Tc,".").concat(+Yc+1,".0-0")):Hc="\x3e\x3d".concat(Tc,".").concat(Yc,".").concat(id," \x3c").concat(Tc,".").concat(+Yc+1,".0-0");Gb("tilde return",Hc);return Hc}),$d=(rc,Pc)=>rc.trim().split(/\s+/).map(Hc=>Aa(Hc,Pc)).join(" "),Aa=(rc,Pc)=>{Gb("caret",rc,Pc);const Hc=Pc.includePrerelease?
"-0":"";return rc.replace(Pc.loose?Ib[Oc.CARETLOOSE]:Ib[Oc.CARET],(Tc,Yc,id,ld,fe)=>{Gb("caret",rc,Tc,Yc,id,ld,fe);ce(Yc)?Tc="":ce(id)?Tc="\x3e\x3d".concat(Yc,".0.0").concat(Hc," \x3c").concat(+Yc+1,".0.0-0"):ce(ld)?Tc="0"===Yc?"\x3e\x3d".concat(Yc,".").concat(id,".0").concat(Hc," \x3c").concat(Yc,".").concat(+id+1,".0-0"):"\x3e\x3d".concat(Yc,".").concat(id,".0").concat(Hc," \x3c").concat(+Yc+1,".0.0-0"):fe?(Gb("replaceCaret pr",fe),Tc="0"===Yc?"0"===id?"\x3e\x3d".concat(Yc,".").concat(id,".").concat(ld,
"-").concat(fe," \x3c").concat(Yc,".").concat(id,".").concat(+ld+1,"-0"):"\x3e\x3d".concat(Yc,".").concat(id,".").concat(ld,"-").concat(fe," \x3c").concat(Yc,".").concat(+id+1,".0-0"):"\x3e\x3d".concat(Yc,".").concat(id,".").concat(ld,"-").concat(fe," \x3c").concat(+Yc+1,".0.0-0")):(Gb("no pr"),Tc="0"===Yc?"0"===id?"\x3e\x3d".concat(Yc,".").concat(id,".").concat(ld).concat(Hc," \x3c").concat(Yc,".").concat(id,".").concat(+ld+1,"-0"):"\x3e\x3d".concat(Yc,".").concat(id,".").concat(ld).concat(Hc," \x3c").concat(Yc,
".").concat(+id+1,".0-0"):"\x3e\x3d".concat(Yc,".").concat(id,".").concat(ld," \x3c").concat(+Yc+1,".0.0-0"));Gb("caret return",Tc);return Tc})},Oa=(rc,Pc)=>{Gb("replaceXRanges",rc,Pc);return rc.split(/\s+/).map(Hc=>cc(Hc,Pc)).join(" ")},cc=(rc,Pc)=>{rc=rc.trim();return rc.replace(Pc.loose?Ib[Oc.XRANGELOOSE]:Ib[Oc.XRANGE],(Hc,Tc,Yc,id,ld,fe)=>{Gb("xRange",rc,Hc,Tc,Yc,id,ld,fe);const Re=ce(Yc),Ee=Re||ce(id);ld=Ee||ce(ld);"\x3d"===Tc&&ld&&(Tc="");fe=Pc.includePrerelease?"-0":"";Re?Hc="\x3e"===Tc||"\x3c"===
Tc?"\x3c0.0.0-0":"*":Tc&&ld?(Ee&&(id=0),ld=0,"\x3e"===Tc?(Tc="\x3e\x3d",Ee?(Yc=+Yc+1,id=0):id=+id+1,ld=0):"\x3c\x3d"===Tc&&(Tc="\x3c",Ee?Yc=+Yc+1:id=+id+1),"\x3c"===Tc&&(fe="-0"),Hc="".concat(Tc+Yc,".").concat(id,".").concat(ld).concat(fe)):Ee?Hc="\x3e\x3d".concat(Yc,".0.0").concat(fe," \x3c").concat(+Yc+1,".0.0-0"):ld&&(Hc="\x3e\x3d".concat(Yc,".").concat(id,".0").concat(fe," \x3c").concat(Yc,".").concat(+id+1,".0-0"));Gb("xRange return",Hc);return Hc})},gd=rc=>(Pc,Hc,Tc,Yc,id,ld,fe,Re,Ee,ne,ef,
kf,Ke)=>{Hc=ce(Tc)?"":ce(Yc)?"\x3e\x3d".concat(Tc,".0.0").concat(rc?"-0":""):ce(id)?"\x3e\x3d".concat(Tc,".").concat(Yc,".0").concat(rc?"-0":""):ld?"\x3e\x3d".concat(Hc):"\x3e\x3d".concat(Hc).concat(rc?"-0":"");Re=ce(Ee)?"":ce(ne)?"\x3c".concat(+Ee+1,".0.0-0"):ce(ef)?"\x3c".concat(Ee,".").concat(+ne+1,".0-0"):kf?"\x3c\x3d".concat(Ee,".").concat(ne,".").concat(ef,"-").concat(kf):rc?"\x3c".concat(Ee,".").concat(ne,".").concat(+ef+1,"-0"):"\x3c\x3d".concat(Re);return"".concat(Hc," ").concat(Re).trim()};
return vd}function Ra(E,aa,Fa,fb,Gb,qc){const Ib=Oc=>Ka[Oc.type](Ib,Oc);Ib.memberDepth=0;Ib.fn=Object.create(aa);Ib.params=Fa;Ib.datum=fb;Ib.event=Gb;Ib.item=qc;va.forEach(Oc=>Ib.fn[Oc]=function(){return Gb.vega[Oc](...arguments)});return Ib(E)}function Xa(E){const [aa,Fa]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(E).slice(1,3);return{library:aa,version:Fa}}function Ia(E,aa,Fa){E.fields=aa||[];E.fname=Fa;return E}function ib(E){return 1===E.length?nc(E[0]):Jc(E)}function bb(E){function aa(){Fa.push(Ib+
E.substring(Oc,od));Ib="";Oc=od+1}const Fa=[],fb=E.length;let Gb=null,qc=0,Ib="",Oc,od,$c;E+="";for(Oc=od=0;od<fb;++od)if($c=E[od],"\\"===$c)Ib+=E.substring(Oc,od),Ib+=E.substring(++od,++od),Oc=od;else if($c===Gb)aa(),Gb=null,qc=-1;else if(!Gb)if(Oc===qc&&'"'===$c)Oc=od+1,Gb=$c;else if(Oc===qc&&"'"===$c)Oc=od+1,Gb=$c;else if("."===$c&&!qc)od>Oc?aa():Oc=od+1;else if("["===$c)od>Oc&&aa(),qc=Oc=od+1;else if("]"===$c){if(!qc)throw Error("Access path missing open bracket: "+E);0<qc&&aa();qc=0;Oc=od+1}if(qc)throw Error("Access path missing closing bracket: "+
E);if(Gb)throw Error("Access path missing closing quote: "+E);od>Oc&&(od++,aa());return Fa}function tb(E,aa){var Fa={},fb;for(fb in E)Object.prototype.hasOwnProperty.call(E,fb)&&0>aa.indexOf(fb)&&(Fa[fb]=E[fb]);if(null!=E&&"function"===typeof Object.getOwnPropertySymbols){var Gb=0;for(fb=Object.getOwnPropertySymbols(E);Gb<fb.length;Gb++)0>aa.indexOf(fb[Gb])&&Object.prototype.propertyIsEnumerable.call(E,fb[Gb])&&(Fa[fb[Gb]]=E[fb[Gb]])}return Fa}function Qb(E){const aa=[];return function(Fa,fb){if("object"!==
typeof fb||null===fb)return fb;Fa=aa.indexOf(this)+1;aa.length=Fa;if(aa.length>E)return"[Object]";if(0<=aa.indexOf(fb))return"[Circular]";aa.push(fb);return fb}}function eb(E,aa,Fa){function fb(od){od.source===qc&&(Oc=0,E.removeEventListener("message",fb,!1))}function Gb(){0>=Oc||(qc.postMessage(Fa,Ib),setTimeout(Gb,250),--Oc)}const qc=E.open(aa),{origin:Ib}=new URL(aa);let Oc=40;E.addEventListener("message",fb,!1);setTimeout(Gb,250)}function T(E){for(var aa=arguments.length,Fa=Array(1<aa?aa-1:0),
fb=1;fb<aa;fb++)Fa[fb-1]=arguments[fb];for(const Gb of Fa){aa=E;Fa=Gb;for(const qc of Object.keys(Fa))h.writeConfig(aa,qc,Fa[qc],!0)}return E}function Z(E,aa,Fa,fb){aa="\x3chtml\x3e\x3chead\x3e".concat(aa,'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e');Fa="\x3c/code\x3e\x3c/pre\x3e".concat(Fa,"\x3c/body\x3e\x3c/html\x3e");const Gb=window.open("");Gb.document.write(aa+E+Fa);Gb.document.title="".concat(Ie[fb]," JSON Source")}function ca(E,aa){if(E.$schema){E=Xa(E.$schema);if(aa&&
aa!==E.library){var Fa;console.warn("The given visualization spec is written in ".concat(Ie[E.library],", but mode argument sets ").concat(null!==(Fa=Ie[aa])&&void 0!==Fa?Fa:aa,"."))}aa=E.library;Cd(Je[aa],"^".concat(E.version.slice(1)))||console.warn("The input spec uses ".concat(Ie[aa]," ").concat(E.version,", but the current version of ").concat(Ie[aa]," is v").concat(Je[aa],"."));return aa}return"mark"in E||"encoding"in E||"layer"in E||"hconcat"in E||"vconcat"in E||"facet"in E||"repeat"in E?"vega-lite":
"marks"in E||"signals"in E||"scales"in E||"axes"in E?"vega":null!==aa&&void 0!==aa?aa:"vega"}function ha(E){return E&&"load"in E?E:xd.loader(E)}function La(E,aa){const Fa=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var fb,Gb,qc=2<Fa.length&&void 0!==Fa[2]?Fa[2]:{};let Ib,Oc;h.isString(aa)?(Oc=ha(qc.loader),Ib=JSON.parse(yield Oc.load(aa))):Ib=aa;var od,$c,Nc=null!==(od=null===($c=Ib.usermeta)||void 0===$c?void 0:$c.embedOptions)&&void 0!==od?od:{};h.isString(Nc.defaultStyle)&&
(Nc.defaultStyle=!1);od=Nc.loader;if(!Oc||od){var Nd;Oc=ha(null!==(Nd=qc.loader)&&void 0!==Nd?Nd:od)}Nc=yield oa(Nc,Oc);qc=yield oa(qc,Oc);qc=Object.assign({},T(qc,Nc),{config:h.mergeConfig(null!==(fb=qc.config)&&void 0!==fb?fb:{},null!==(Gb=Nc.config)&&void 0!==Gb?Gb:{})});return yield m(E,Ib,qc,Oc)})}function oa(E,aa){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Fa;const fb=h.isString(E.config)?JSON.parse(yield aa.load(E.config)):null!==(Fa=E.config)&&void 0!==Fa?Fa:{};Fa=
h.isString(E.patch)?JSON.parse(yield aa.load(E.patch)):E.patch;return Object.assign({},E,Fa?{patch:Fa}:{},fb?{config:fb}:{})})}function pa(E){var aa;E=E.getRootNode?E.getRootNode():document;return E instanceof ShadowRoot?{root:E,rootContainer:E}:{root:document,rootContainer:null!==(aa=document.head)&&void 0!==aa?aa:document.body}}function m(E,aa){const Fa=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var fb,Gb,qc,Ib,Oc,od,$c;let Nc=2<Fa.length&&void 0!==Fa[2]?Fa[2]:{};
var Nd=3<Fa.length?Fa[3]:void 0;const ce=Nc.theme?h.mergeConfig(Tb[Nc.theme],null!==(fb=Nc.config)&&void 0!==fb?fb:{}):Nc.config;fb=h.isBoolean(Nc.actions)?Nc.actions:T({},me,null!==(Gb=Nc.actions)&&void 0!==Gb?Gb:{});Gb=Object.assign({},Oe,Nc.i18n);const Kd=null!==(qc=Nc.renderer)&&void 0!==qc?qc:"canvas";qc=null!==(Ib=Nc.logLevel)&&void 0!==Ib?Ib:xd.Warn;Ib=null!==(Oc=Nc.downloadFileName)&&void 0!==Oc?Oc:"visualization";Oc="string"===typeof E?document.querySelector(E):E;if(!Oc)throw Error("".concat(E,
" does not exist"));if(!1!==Nc.defaultStyle){const {root:Hc,rootContainer:Tc}=pa(Oc);if(!Hc.getElementById("vega-embed-style")){var Jd=document.createElement("style");Jd.id="vega-embed-style";Jd.innerHTML=void 0===Nc.defaultStyle||!0===Nc.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n}\n.vega-embed.has-actions {\n  padding-right: 38px;\n}\n.vega-embed details:not([open]) \x3e :not(summary) {\n  display: none !important;\n}\n.vega-embed summary {\n  list-style: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 6px;\n  z-index: 1000;\n  background: white;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n  color: #1b1e23;\n  border: 1px solid #aaa;\n  border-radius: 999px;\n  opacity: 0.2;\n  transition: opacity 0.4s ease-in;\n  cursor: pointer;\n  line-height: 0px;\n}\n.vega-embed summary::-webkit-details-marker {\n  display: none;\n}\n.vega-embed summary:active {\n  box-shadow: #aaa 0px 0px 0px 1px inset;\n}\n.vega-embed summary svg {\n  width: 14px;\n  height: 14px;\n}\n.vega-embed details[open] summary {\n  opacity: 0.7;\n}\n.vega-embed:hover summary, .vega-embed:focus-within summary {\n  opacity: 1 !important;\n  transition: opacity 0.2s ease;\n}\n.vega-embed .vega-actions {\n  position: absolute;\n  z-index: 1001;\n  top: 35px;\n  right: -9px;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #d9d9d9;\n  background: white;\n  animation-duration: 0.15s;\n  animation-name: scale-in;\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n  text-align: left;\n}\n.vega-embed .vega-actions a {\n  padding: 8px 16px;\n  font-family: sans-serif;\n  font-size: 14px;\n  font-weight: 600;\n  white-space: nowrap;\n  color: #434a56;\n  text-decoration: none;\n}\n.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {\n  background-color: #f7f7f9;\n  color: black;\n}\n.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n  content: "";\n  display: inline-block;\n  position: absolute;\n}\n.vega-embed .vega-actions::before {\n  left: auto;\n  right: 14px;\n  top: -16px;\n  border: 8px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #d9d9d9;\n}\n.vega-embed .vega-actions::after {\n  left: auto;\n  right: 15px;\n  top: -14px;\n  border: 7px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #fff;\n}\n.vega-embed .chart-wrapper.fit-x {\n  width: 100%;\n}\n.vega-embed .chart-wrapper.fit-y {\n  height: 100%;\n}\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px;\n}\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n'.toString():
Nc.defaultStyle;Tc.appendChild(Jd)}}const $d=ca(aa,Nc.mode);let Aa=tf[$d](aa,ce);"vega-lite"===$d&&Aa.$schema&&(Jd=Xa(Aa.$schema),Cd(Je.vega,"^".concat(Jd.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(Jd.version,", but current version is v").concat(Je.vega,".")));Oc.classList.add("vega-embed");fb&&Oc.classList.add("has-actions");Oc.innerHTML="";let Oa=Oc;fb&&(Jd=document.createElement("div"),Jd.classList.add("chart-wrapper"),Oc.appendChild(Jd),Oa=Jd);(Jd=Nc.patch)&&(Aa=Jd instanceof
Function?Jd(Aa):Za(Aa,Jd,!0,!1).newDocument);Nc.formatLocale&&xd.formatLocale(Nc.formatLocale);Nc.timeFormatLocale&&xd.timeFormatLocale(Nc.timeFormatLocale);if(Nc.expressionFunctions)for(var cc in Nc.expressionFunctions)Jd=Nc.expressionFunctions[cc],"fn"in Jd?xd.expressionFunction(cc,Jd.fn,Jd.visitor):Jd instanceof Function&&xd.expressionFunction(cc,Jd);({ast:cc}=Nc);Jd=xd.parse(Aa,"vega-lite"===$d?{}:ce,{ast:cc});const gd=new (Nc.viewClass||xd.View)(Jd,Object.assign({},{loader:Nd,logLevel:qc,renderer:Kd},
cc?{expr:null!==(od=null!==($c=xd.expressionInterpreter)&&void 0!==$c?$c:Nc.expr)&&void 0!==od?od:lb}:{}));gd.addSignalListener("autosize",(Hc,Tc)=>{({type:Hc}=Tc);"fit-x"==Hc?(Oa.classList.add("fit-x"),Oa.classList.remove("fit-y")):"fit-y"==Hc?(Oa.classList.remove("fit-x"),Oa.classList.add("fit-y")):"fit"==Hc?Oa.classList.add("fit-x","fit-y"):Oa.classList.remove("fit-x","fit-y")});!1!==Nc.tooltip&&(od="function"===typeof Nc.tooltip?Nc.tooltip:(new kd(!0===Nc.tooltip?{}:Nc.tooltip)).call,gd.tooltip(od));
({hover:od}=Nc);void 0===od&&(od="vega"===$d);if(od){const {hoverSet:Hc,updateSet:Tc}="boolean"===typeof od?{}:od;gd.hover(Hc,Tc)}Nc&&(null!=Nc.width&&gd.width(Nc.width),null!=Nc.height&&gd.height(Nc.height),null!=Nc.padding&&gd.padding(Nc.padding));yield gd.initialize(Oa,Nc.bind).runAsync();let rc;if(!1!==fb){$c=Oc;if(!1!==Nc.defaultStyle){const Hc=document.createElement("details");Hc.title=Gb.CLICK_TO_VIEW_ACTIONS;Oc.append(Hc);$c=Hc;od=document.createElement("summary");od.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e';
Hc.append(od);rc=Tc=>{Hc.contains(Tc.target)||Hc.removeAttribute("open")};document.addEventListener("click",rc)}od=document.createElement("div");$c.append(od);od.classList.add("vega-actions");if(!0===fb||!1!==fb.export)for(const Hc of["svg","png"])if(!0===fb||!0===fb.export||fb.export[Hc])$c=Gb["".concat(Hc.toUpperCase(),"_ACTION")],Nd=document.createElement("a"),Nd.text=$c,Nd.href="#",Nd.target="_blank",Nd.download="".concat(Ib,".").concat(Hc),Nd.addEventListener("mousedown",function(Tc){const Yc=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){Tc.preventDefault();const id=yield gd.toImageURL(Hc,Nc.scaleFactor);Yc.href=id})}),od.append(Nd);if(!0===fb||!1!==fb.source)Ib=document.createElement("a"),Ib.text=Gb.SOURCE_ACTION,Ib.href="#",Ib.addEventListener("click",function(Hc){var Tc,Yc;Z(Ma(aa),null!==(Tc=Nc.sourceHeader)&&void 0!==Tc?Tc:"",null!==(Yc=Nc.sourceFooter)&&void 0!==Yc?Yc:"",$d);Hc.preventDefault()}),od.append(Ib);"vega-lite"!==$d||!0!==fb&&!1===fb.compiled||(Ib=
document.createElement("a"),Ib.text=Gb.COMPILED_ACTION,Ib.href="#",Ib.addEventListener("click",function(Hc){var Tc,Yc;Z(Ma(Aa),null!==(Tc=Nc.sourceHeader)&&void 0!==Tc?Tc:"",null!==(Yc=Nc.sourceFooter)&&void 0!==Yc?Yc:"","vega");Hc.preventDefault()}),od.append(Ib));if(!0===fb||!1!==fb.editor){var Pc;const Hc=null!==(Pc=Nc.editorUrl)&&void 0!==Pc?Pc:"https://vega.github.io/editor/";Pc=document.createElement("a");Pc.text=Gb.EDITOR_ACTION;Pc.href="#";Pc.addEventListener("click",function(Tc){eb(window,
Hc,{config:ce,mode:$d,renderer:Kd,spec:Ma(aa)});Tc.preventDefault()});od.append(Pc)}}return{view:gd,spec:aa,vgSpec:Aa,finalize:function(){rc&&document.removeEventListener("click",rc);gd.finalize()},embedOptions:Nc}})}function D(E){const aa=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Fa;let fb=1<aa.length&&void 0!==aa[1]?aa[1]:{};const Gb=document.createElement("div");Gb.classList.add("vega-embed-wrapper");const qc=document.createElement("div");Gb.appendChild(qc);
const Ib=!0===fb.actions||!1===fb.actions?fb.actions:Object.assign({},{export:!0,source:!1,compiled:!0,editor:!0},null!==(Fa=fb.actions)&&void 0!==Fa?Fa:{});Fa=yield La(qc,E,Object.assign({},{actions:Ib},null!==fb&&void 0!==fb?fb:{}));Gb.value=Fa.view;return Gb})}var L=ab(h),w=ab(ia),P=function(){var E=function(aa,Fa){E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(fb,Gb){fb.__proto__=Gb}||function(fb,Gb){for(var qc in Gb)Gb.hasOwnProperty(qc)&&(fb[qc]=Gb[qc])};return E(aa,Fa)};
return function(aa,Fa){function fb(){this.constructor=aa}E(aa,Fa);aa.prototype=null===Fa?Object.create(Fa):(fb.prototype=Fa.prototype,new fb)}}(),A=Object.prototype.hasOwnProperty,V=function(E){function aa(Fa,fb,Gb,qc,Ib){var Oc=this.constructor,od=E.call(this,Vb(Fa,{name:fb,index:Gb,operation:qc,tree:Ib}))||this;od.name=fb;od.index=Gb;od.operation=qc;od.tree=Ib;Object.setPrototypeOf(od,Oc.prototype);od.message=Vb(Fa,{name:fb,index:Gb,operation:qc,tree:Ib});return od}P(aa,E);return aa}(Error),G=V,
x={add:function(E,aa,Fa){E[aa]=this.value;return{newDocument:Fa}},remove:function(E,aa,Fa){var fb=E[aa];delete E[aa];return{newDocument:Fa,removed:fb}},replace:function(E,aa,Fa){var fb=E[aa];E[aa]=this.value;return{newDocument:Fa,removed:fb}},move:function(E,aa,Fa){(E=jc(Fa,this.path))&&(E=Yb(E));aa=Ba(Fa,{op:"remove",path:this.from}).removed;Ba(Fa,{op:"add",path:this.path,value:aa});return{newDocument:Fa,removed:E}},copy:function(E,aa,Fa){E=jc(Fa,this.from);Ba(Fa,{op:"add",path:this.path,value:Yb(E)});
return{newDocument:Fa}},test:function(E,aa,Fa){return{newDocument:Fa,test:sb(E[aa],this.value)}},_get:function(E,aa,Fa){this.value=E[aa];return{newDocument:Fa}}},z={add:function(E,aa,Fa){ac(aa)?E.splice(aa,0,this.value):E[aa]=this.value;return{newDocument:Fa,index:aa}},remove:function(E,aa,Fa){E=E.splice(aa,1);return{newDocument:Fa,removed:E[0]}},replace:function(E,aa,Fa){var fb=E[aa];E[aa]=this.value;return{newDocument:Fa,removed:fb}},move:x.move,copy:x.copy,test:x.test,_get:x._get},F=Object.freeze({__proto__:null,
JsonPatchError:G,deepClone:Yb,getValueByPointer:jc,applyOperation:Ba,applyPatch:Za,applyReducer:function(E,aa,Fa){var fb=Ba(E,aa);if(!1===fb.test)throw new G("Test operation failed","TEST_OPERATION_FAILED",Fa,aa,E);return fb.newDocument},validator:wb,validate:ub,_areEquals:sb}),U=new WeakMap,sa=function(){return function(E){this.observers=new Map;this.obj=E}}(),N=function(){return function(E,aa){this.callback=E;this.observer=aa}}(),la=Object.freeze({__proto__:null,unobserve:function(E,aa){aa.unobserve()},
observe:function(E,aa){var Fa=U.get(E);if(Fa){var fb=Fa.observers.get(aa);var Gb=fb&&fb.observer}else Fa=new sa(E),U.set(E,Fa);if(Gb)return Gb;Gb={};Fa.value=Yb(E);if(aa){Gb.callback=aa;Gb.next=null;var qc=function(){xb(Gb)},Ib=function(){clearTimeout(Gb.next);Gb.next=setTimeout(qc)};"undefined"!==typeof window&&(window.addEventListener("mouseup",Ib),window.addEventListener("keyup",Ib),window.addEventListener("mousedown",Ib),window.addEventListener("keydown",Ib),window.addEventListener("change",Ib))}Gb.patches=
[];Gb.object=E;Gb.unobserve=function(){xb(Gb);clearTimeout(Gb.next);Fa.observers.delete(Gb.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",Ib),window.removeEventListener("keyup",Ib),window.removeEventListener("mousedown",Ib),window.removeEventListener("keydown",Ib),window.removeEventListener("change",Ib))};Fa.observers.set(aa,new N(aa,Gb));return Gb},generate:xb,compare:function(E,aa,Fa){void 0===Fa&&(Fa=!1);var fb=[];hb(E,aa,fb,"",Fa);return fb}});Object.assign({},F,
la,{JsonPatchError:V,deepClone:Yb,escapePathComponent:Xb,unescapePathComponent:mc});var wa=/("(?:[^\\"]|\\.)*")|[:,]/g,Ma=function(E,aa){aa=aa||{};var Fa=JSON.stringify([1],void 0,void 0===aa.indent?2:aa.indent).slice(2,-3);var fb=""===Fa?Infinity:void 0===aa.maxLength?80:aa.maxLength;var Gb=aa.replacer;return function $c(Ib,Oc,od){Ib&&"function"===typeof Ib.toJSON&&(Ib=Ib.toJSON());var Nc=JSON.stringify(Ib,Gb);if(void 0===Nc)return Nc;od=fb-Oc.length-od;if(Nc.length<=od){var Nd=Nc.replace(wa,function(gd,
rc){return rc||gd+" "});if(Nd.length<=od)return Nd}null!=Gb&&(Ib=JSON.parse(Nc),Gb=void 0);if("object"===typeof Ib&&null!==Ib){var ce=Oc+Fa;var Kd=[];var Jd=0;if(Array.isArray(Ib)){var $d="[";Nd="]";for(od=Ib.length;Jd<od;Jd++)Kd.push($c(Ib[Jd],ce,Jd===od-1?0:1)||"null")}else{$d="{";Nd="}";var Aa=Object.keys(Ib);for(od=Aa.length;Jd<od;Jd++){var Oa=Aa[Jd];var cc=JSON.stringify(Oa)+": ";Oa=$c(Ib[Oa],ce,cc.length+(Jd===od-1?0:1));void 0!==Oa&&Kd.push(cc+Oa)}}if(0<Kd.length)return[$d,Fa+Kd.join(",\n"+
ce),Nd].join("\n"+Oc)}return Nc}(E,"",0)};ec.Node=ra;ec.create=ec;ec.prototype.removeNode=function(E){if(E.list!==this)throw Error("removing node which does not belong to this list");var aa=E.next,Fa=E.prev;aa&&(aa.prev=Fa);Fa&&(Fa.next=aa);E===this.head&&(this.head=aa);E===this.tail&&(this.tail=Fa);E.list.length--;E.next=null;E.prev=null;E.list=null;return aa};ec.prototype.unshiftNode=function(E){if(E!==this.head){E.list&&E.list.removeNode(E);var aa=this.head;E.list=this;if(E.next=aa)aa.prev=E;this.head=
E;this.tail||(this.tail=E);this.length++}};ec.prototype.pushNode=function(E){if(E!==this.tail){E.list&&E.list.removeNode(E);var aa=this.tail;E.list=this;if(E.prev=aa)aa.next=E;this.tail=E;this.head||(this.head=E);this.length++}};ec.prototype.push=function(){for(var E=0,aa=arguments.length;E<aa;E++)this.tail=new ra(arguments[E],this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length};ec.prototype.unshift=function(){for(var E=0,aa=arguments.length;E<aa;E++)this.head=new ra(arguments[E],
null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length};ec.prototype.pop=function(){if(this.tail){var E=this.tail.value;(this.tail=this.tail.prev)?this.tail.next=null:this.head=null;this.length--;return E}};ec.prototype.shift=function(){if(this.head){var E=this.head.value;(this.head=this.head.next)?this.head.prev=null:this.tail=null;this.length--;return E}};ec.prototype.forEach=function(E,aa){aa=aa||this;for(var Fa=this.head,fb=0;null!==Fa;fb++)E.call(aa,Fa.value,fb,
this),Fa=Fa.next};ec.prototype.forEachReverse=function(E,aa){aa=aa||this;for(var Fa=this.tail,fb=this.length-1;null!==Fa;fb--)E.call(aa,Fa.value,fb,this),Fa=Fa.prev};ec.prototype.get=function(E){for(var aa=0,Fa=this.head;null!==Fa&&aa<E;aa++)Fa=Fa.next;if(aa===E&&null!==Fa)return Fa.value};ec.prototype.getReverse=function(E){for(var aa=0,Fa=this.tail;null!==Fa&&aa<E;aa++)Fa=Fa.prev;if(aa===E&&null!==Fa)return Fa.value};ec.prototype.map=function(E,aa){aa=aa||this;for(var Fa=new ec,fb=this.head;null!==
fb;)Fa.push(E.call(aa,fb.value,this)),fb=fb.next;return Fa};ec.prototype.mapReverse=function(E,aa){aa=aa||this;for(var Fa=new ec,fb=this.tail;null!==fb;)Fa.push(E.call(aa,fb.value,this)),fb=fb.prev;return Fa};ec.prototype.reduce=function(E,aa){var Fa=this.head;if(1<arguments.length)var fb=aa;else if(this.head)Fa=this.head.next,fb=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var Gb=0;null!==Fa;Gb++)fb=E(fb,Fa.value,Gb),Fa=Fa.next;return fb};ec.prototype.reduceReverse=
function(E,aa){var Fa=this.tail;if(1<arguments.length)var fb=aa;else if(this.tail)Fa=this.tail.prev,fb=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var Gb=this.length-1;null!==Fa;Gb--)fb=E(fb,Fa.value,Gb),Fa=Fa.prev;return fb};ec.prototype.toArray=function(){for(var E=Array(this.length),aa=0,Fa=this.head;null!==Fa;aa++)E[aa]=Fa.value,Fa=Fa.next;return E};ec.prototype.toArrayReverse=function(){for(var E=Array(this.length),aa=0,Fa=this.tail;null!==Fa;aa++)E[aa]=
Fa.value,Fa=Fa.prev;return E};ec.prototype.slice=function(E,aa){aa=aa||this.length;0>aa&&(aa+=this.length);E=E||0;0>E&&(E+=this.length);var Fa=new ec;if(aa<E||0>aa)return Fa;0>E&&(E=0);aa>this.length&&(aa=this.length);for(var fb=0,Gb=this.head;null!==Gb&&fb<E;fb++)Gb=Gb.next;for(;null!==Gb&&fb<aa;fb++,Gb=Gb.next)Fa.push(Gb.value);return Fa};ec.prototype.sliceReverse=function(E,aa){aa=aa||this.length;0>aa&&(aa+=this.length);E=E||0;0>E&&(E+=this.length);var Fa=new ec;if(aa<E||0>aa)return Fa;0>E&&(E=
0);aa>this.length&&(aa=this.length);for(var fb=this.length,Gb=this.tail;null!==Gb&&fb>aa;fb--)Gb=Gb.prev;for(;null!==Gb&&fb>E;fb--,Gb=Gb.prev)Fa.push(Gb.value);return Fa};ec.prototype.splice=function(E,aa){E>this.length&&(E=this.length-1);0>E&&(E=this.length+E);for(var Fa=0,fb=this.head;null!==fb&&Fa<E;Fa++)fb=fb.next;var Gb=[];for(Fa=0;fb&&Fa<aa;Fa++)Gb.push(fb.value),fb=this.removeNode(fb);null===fb&&(fb=this.tail);fb!==this.head&&fb!==this.tail&&(fb=fb.prev);for(Fa=0;Fa<(2>=arguments.length?0:
arguments.length-2);Fa++){var qc=2>Fa+2||arguments.length<=Fa+2?void 0:arguments[Fa+2];fb=fb===this.head?new ra(qc,null,fb,this):new ra(qc,fb,fb.next,this);null===fb.next&&(this.tail=fb);null===fb.prev&&(this.head=fb);this.length++}return Gb};ec.prototype.reverse=function(){for(var E=this.head,aa=this.tail,Fa=E;null!==Fa;Fa=Fa.prev){var fb=Fa.prev;Fa.prev=Fa.next;Fa.next=fb}this.head=aa;this.tail=E;return this};try{ec.prototype[Symbol.iterator]=function*(){for(let E=this.head;E;E=E.next)yield E.value}}catch(E){}const Pa=
Symbol("max"),Ya=Symbol("length"),vb=Symbol("lengthCalculator"),jb=Symbol("allowStale"),Ub=Symbol("maxAge"),W=Symbol("dispose"),Ea=Symbol("noDisposeOnSet"),Mb=Symbol("lruList"),oc=Symbol("cache"),$b=Symbol("updateAgeOnGet"),Nb=()=>1;class Rb{constructor(E){"number"===typeof E&&(E={max:E});E||(E={});if(E.max&&("number"!==typeof E.max||0>E.max))throw new TypeError("max must be a non-negative number");this[Pa]=E.max||Infinity;const aa=E.length||Nb;this[vb]="function"!==typeof aa?Nb:aa;this[jb]=E.stale||
!1;if(E.maxAge&&"number"!==typeof E.maxAge)throw new TypeError("maxAge must be a number");this[Ub]=E.maxAge||0;this[W]=E.dispose;this[Ea]=E.noDisposeOnSet||!1;this[$b]=E.updateAgeOnGet||!1;this.reset()}set max(E){if("number"!==typeof E||0>E)throw new TypeError("max must be a non-negative number");this[Pa]=E||Infinity;qa(this)}get max(){return this[Pa]}set allowStale(E){this[jb]=!!E}get allowStale(){return this[jb]}set maxAge(E){if("number"!==typeof E)throw new TypeError("maxAge must be a non-negative number");
this[Ub]=E;qa(this)}get maxAge(){return this[Ub]}set lengthCalculator(E){"function"!==typeof E&&(E=Nb);E!==this[vb]&&(this[vb]=E,this[Ya]=0,this[Mb].forEach(aa=>{aa.length=this[vb](aa.value,aa.key);this[Ya]+=aa.length}));qa(this)}get lengthCalculator(){return this[vb]}get length(){return this[Ya]}get itemCount(){return this[Mb].length}rforEach(E,aa){aa=aa||this;for(let Fa=this[Mb].tail;null!==Fa;){const fb=Fa.prev;yb(this,E,Fa,aa);Fa=fb}}forEach(E,aa){aa=aa||this;for(let Fa=this[Mb].head;null!==Fa;){const fb=
Fa.next;yb(this,E,Fa,aa);Fa=fb}}keys(){return this[Mb].toArray().map(E=>E.key)}values(){return this[Mb].toArray().map(E=>E.value)}reset(){this[W]&&this[Mb]&&this[Mb].length&&this[Mb].forEach(E=>this[W](E.key,E.value));this[oc]=new Map;this[Mb]=new ec;this[Ya]=0}dump(){return this[Mb].map(E=>dd(this,E)?!1:{k:E.key,v:E.value,e:E.now+(E.maxAge||0)}).toArray().filter(E=>E)}dumpLru(){return this[Mb]}set(E,aa,Fa){if((Fa=Fa||this[Ub])&&"number"!==typeof Fa)throw new TypeError("maxAge must be a number");
const fb=Fa?Date.now():0,Gb=this[vb](aa,E);if(this[oc].has(E)){if(Gb>this[Pa])return Db(this,this[oc].get(E)),!1;const qc=this[oc].get(E).value;if(this[W]&&!this[Ea])this[W](E,qc.value);qc.now=fb;qc.maxAge=Fa;qc.value=aa;this[Ya]+=Gb-qc.length;qc.length=Gb;this.get(E);qa(this);return!0}Fa=new Ua(E,aa,Gb,fb,Fa);if(Fa.length>this[Pa]){if(this[W])this[W](E,aa);return!1}this[Ya]+=Fa.length;this[Mb].unshift(Fa);this[oc].set(E,this[Mb].head);qa(this);return!0}has(E){if(!this[oc].has(E))return!1;E=this[oc].get(E).value;
return!dd(this,E)}get(E){return xc(this,E,!0)}peek(E){return xc(this,E,!1)}pop(){const E=this[Mb].tail;if(!E)return null;Db(this,E);return E.value}del(E){Db(this,this[oc].get(E))}load(E){this.reset();const aa=Date.now();for(let fb=E.length-1;0<=fb;fb--){const Gb=E[fb];var Fa=Gb.e||0;0===Fa?this.set(Gb.k,Gb.v):(Fa-=aa,0<Fa&&this.set(Gb.k,Gb.v,Fa))}}prune(){this[oc].forEach((E,aa)=>xc(this,aa,!1))}}const xc=(E,aa,Fa)=>{if(aa=E[oc].get(aa)){const fb=aa.value;if(dd(E,fb)){if(Db(E,aa),!E[jb])return}else Fa&&
(E[$b]&&(aa.value.now=Date.now()),E[Mb].unshiftNode(aa));return fb.value}},dd=(E,aa)=>{if(!aa||!aa.maxAge&&!E[Ub])return!1;const Fa=Date.now()-aa.now;return aa.maxAge?Fa>aa.maxAge:E[Ub]&&Fa>E[Ub]},qa=E=>{if(E[Ya]>E[Pa])for(let aa=E[Mb].tail;E[Ya]>E[Pa]&&null!==aa;){const Fa=aa.prev;Db(E,aa);aa=Fa}},Db=(E,aa)=>{if(aa){const Fa=aa.value;if(E[W])E[W](Fa.key,Fa.value);E[Ya]-=Fa.length;E[oc].delete(Fa.key);E[Mb].removeNode(aa)}};class Ua{constructor(E,aa,Fa,fb,Gb){this.key=E;this.value=aa;this.length=
Fa;this.now=fb;this.maxAge=Gb||0}}const yb=(E,aa,Fa,fb)=>{let Gb=Fa.value;dd(E,Gb)&&(Db(E,Fa),E[jb]||(Gb=void 0));Gb&&aa.call(fb,Gb.value,Gb.key,E)};var Hb=Rb;const Ob=["includePrerelease","loose","rtl"];var Zb=E=>E?"object"!==typeof E?{loose:!0}:Ob.filter(aa=>E[aa]).reduce((aa,Fa)=>{aa[Fa]=!0;return aa},{}):{},ic={exports:{}},Bc={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},jd="object"===typeof u&&u.env&&u.env.NODE_DEBUG&&
/\bsemver\b/i.test(u.env.NODE_DEBUG)?function(){for(var E=arguments.length,aa=Array(E),Fa=0;Fa<E;Fa++)aa[Fa]=arguments[Fa];return console.error("SEMVER",...aa)}:()=>{};(function(E,aa){const {MAX_SAFE_COMPONENT_LENGTH:Fa}=Bc,fb=jd;aa=E.exports={};const Gb=aa.re=[],qc=aa.src=[],Ib=aa.t={};let Oc=0;E=(od,$c,Nc)=>{const Nd=Oc++;fb(od,Nd,$c);Ib[od]=Nd;qc[Nd]=$c;Gb[Nd]=new RegExp($c,Nc?"g":void 0)};E("NUMERICIDENTIFIER","0|[1-9]\\d*");E("NUMERICIDENTIFIERLOOSE","[0-9]+");E("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");
E("MAINVERSION","(".concat(qc[Ib.NUMERICIDENTIFIER],")\\.")+"(".concat(qc[Ib.NUMERICIDENTIFIER],")\\.")+"(".concat(qc[Ib.NUMERICIDENTIFIER],")"));E("MAINVERSIONLOOSE","(".concat(qc[Ib.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(qc[Ib.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(qc[Ib.NUMERICIDENTIFIERLOOSE],")"));E("PRERELEASEIDENTIFIER","(?:".concat(qc[Ib.NUMERICIDENTIFIER],"|").concat(qc[Ib.NONNUMERICIDENTIFIER],")"));E("PRERELEASEIDENTIFIERLOOSE","(?:".concat(qc[Ib.NUMERICIDENTIFIERLOOSE],"|").concat(qc[Ib.NONNUMERICIDENTIFIER],
")"));E("PRERELEASE","(?:-(".concat(qc[Ib.PRERELEASEIDENTIFIER],"(?:\\.").concat(qc[Ib.PRERELEASEIDENTIFIER],")*))"));E("PRERELEASELOOSE","(?:-?(".concat(qc[Ib.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(qc[Ib.PRERELEASEIDENTIFIERLOOSE],")*))"));E("BUILDIDENTIFIER","[0-9A-Za-z-]+");E("BUILD","(?:\\+(".concat(qc[Ib.BUILDIDENTIFIER],"(?:\\.").concat(qc[Ib.BUILDIDENTIFIER],")*))"));E("FULLPLAIN","v?".concat(qc[Ib.MAINVERSION]).concat(qc[Ib.PRERELEASE],"?").concat(qc[Ib.BUILD],"?"));E("FULL","^".concat(qc[Ib.FULLPLAIN],
"$"));E("LOOSEPLAIN","[v\x3d\\s]*".concat(qc[Ib.MAINVERSIONLOOSE]).concat(qc[Ib.PRERELEASELOOSE],"?").concat(qc[Ib.BUILD],"?"));E("LOOSE","^".concat(qc[Ib.LOOSEPLAIN],"$"));E("GTLT","((?:\x3c|\x3e)?\x3d?)");E("XRANGEIDENTIFIERLOOSE","".concat(qc[Ib.NUMERICIDENTIFIERLOOSE],"|x|X|\\*"));E("XRANGEIDENTIFIER","".concat(qc[Ib.NUMERICIDENTIFIER],"|x|X|\\*"));E("XRANGEPLAIN","[v\x3d\\s]*(".concat(qc[Ib.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(qc[Ib.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(qc[Ib.XRANGEIDENTIFIER],
")")+"(?:".concat(qc[Ib.PRERELEASE],")?").concat(qc[Ib.BUILD],"?")+")?)?");E("XRANGEPLAINLOOSE","[v\x3d\\s]*(".concat(qc[Ib.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(qc[Ib.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(qc[Ib.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(qc[Ib.PRERELEASELOOSE],")?").concat(qc[Ib.BUILD],"?")+")?)?");E("XRANGE","^".concat(qc[Ib.GTLT],"\\s*").concat(qc[Ib.XRANGEPLAIN],"$"));E("XRANGELOOSE","^".concat(qc[Ib.GTLT],"\\s*").concat(qc[Ib.XRANGEPLAINLOOSE],"$"));E("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(Fa,
"})")+"(?:\\.(\\d{1,".concat(Fa,"}))?")+"(?:\\.(\\d{1,".concat(Fa,"}))?")+"(?:$|[^\\d])");E("COERCERTL",qc[Ib.COERCE],!0);E("LONETILDE","(?:~\x3e?)");E("TILDETRIM","(\\s*)".concat(qc[Ib.LONETILDE],"\\s+"),!0);aa.tildeTrimReplace="$1~";E("TILDE","^".concat(qc[Ib.LONETILDE]).concat(qc[Ib.XRANGEPLAIN],"$"));E("TILDELOOSE","^".concat(qc[Ib.LONETILDE]).concat(qc[Ib.XRANGEPLAINLOOSE],"$"));E("LONECARET","(?:\\^)");E("CARETTRIM","(\\s*)".concat(qc[Ib.LONECARET],"\\s+"),!0);aa.caretTrimReplace="$1^";E("CARET",
"^".concat(qc[Ib.LONECARET]).concat(qc[Ib.XRANGEPLAIN],"$"));E("CARETLOOSE","^".concat(qc[Ib.LONECARET]).concat(qc[Ib.XRANGEPLAINLOOSE],"$"));E("COMPARATORLOOSE","^".concat(qc[Ib.GTLT],"\\s*(").concat(qc[Ib.LOOSEPLAIN],")$|^$"));E("COMPARATOR","^".concat(qc[Ib.GTLT],"\\s*(").concat(qc[Ib.FULLPLAIN],")$|^$"));E("COMPARATORTRIM","(\\s*)".concat(qc[Ib.GTLT],"\\s*(").concat(qc[Ib.LOOSEPLAIN],"|").concat(qc[Ib.XRANGEPLAIN],")"),!0);aa.comparatorTrimReplace="$1$2$3";E("HYPHENRANGE","^\\s*(".concat(qc[Ib.XRANGEPLAIN],
")")+"\\s+-\\s+"+"(".concat(qc[Ib.XRANGEPLAIN],")")+"\\s*$");E("HYPHENRANGELOOSE","^\\s*(".concat(qc[Ib.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(qc[Ib.XRANGEPLAINLOOSE],")")+"\\s*$");E("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");E("GTE0","^\\s*\x3e\x3d\\s*0\\.0\\.0\\s*$");E("GTE0PRE","^\\s*\x3e\x3d\\s*0\\.0\\.0-0\\s*$")})(ic,ic.exports);const Vc=/^[0-9]+$/,ma=(E,aa)=>{const Fa=Vc.test(E),fb=Vc.test(aa);Fa&&fb&&(E=+E,aa=+aa);return E===aa?0:Fa&&!fb?-1:fb&&!Fa?1:E<aa?-1:1};var Ha={compareIdentifiers:ma,
rcompareIdentifiers:(E,aa)=>ma(aa,E)};const gb=jd,{MAX_LENGTH:Q,MAX_SAFE_INTEGER:t}=Bc,{re:ba,t:xa}=ic.exports,Da=Zb,{compareIdentifiers:Sa}=Ha;class kb{constructor(E,aa){aa=Da(aa);if(E instanceof kb){if(E.loose===!!aa.loose&&E.includePrerelease===!!aa.includePrerelease)return E;E=E.version}else if("string"!==typeof E)throw new TypeError("Invalid Version: ".concat(E));if(E.length>Q)throw new TypeError("version is longer than ".concat(Q," characters"));gb("SemVer",E,aa);this.options=aa;this.loose=
!!aa.loose;this.includePrerelease=!!aa.includePrerelease;aa=E.trim().match(aa.loose?ba[xa.LOOSE]:ba[xa.FULL]);if(!aa)throw new TypeError("Invalid Version: ".concat(E));this.raw=E;this.major=+aa[1];this.minor=+aa[2];this.patch=+aa[3];if(this.major>t||0>this.major)throw new TypeError("Invalid major version");if(this.minor>t||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>t||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=aa[4]?aa[4].split(".").map(Fa=>
{if(/^[0-9]+$/.test(Fa)){const fb=+Fa;if(0<=fb&&fb<t)return fb}return Fa}):[];this.build=aa[5]?aa[5].split("."):[];this.format()}format(){this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch);this.prerelease.length&&(this.version+="-".concat(this.prerelease.join(".")));return this.version}toString(){return this.version}compare(E){gb("SemVer.compare",this.version,this.options,E);if(!(E instanceof kb)){if("string"===typeof E&&E===this.version)return 0;E=new kb(E,this.options)}return E.version===
this.version?0:this.compareMain(E)||this.comparePre(E)}compareMain(E){E instanceof kb||(E=new kb(E,this.options));return Sa(this.major,E.major)||Sa(this.minor,E.minor)||Sa(this.patch,E.patch)}comparePre(E){E instanceof kb||(E=new kb(E,this.options));if(this.prerelease.length&&!E.prerelease.length)return-1;if(!this.prerelease.length&&E.prerelease.length)return 1;if(!this.prerelease.length&&!E.prerelease.length)return 0;let aa=0;do{const Fa=this.prerelease[aa],fb=E.prerelease[aa];gb("prerelease compare",
aa,Fa,fb);if(void 0===Fa&&void 0===fb)return 0;if(void 0===fb)return 1;if(void 0===Fa)return-1;if(Fa!==fb)return Sa(Fa,fb)}while(++aa)}compareBuild(E){E instanceof kb||(E=new kb(E,this.options));let aa=0;do{const Fa=this.build[aa],fb=E.build[aa];gb("prerelease compare",aa,Fa,fb);if(void 0===Fa&&void 0===fb)return 0;if(void 0===fb)return 1;if(void 0===Fa)return-1;if(Fa!==fb)return Sa(Fa,fb)}while(++aa)}inc(E,aa){switch(E){case "premajor":this.minor=this.patch=this.prerelease.length=0;this.major++;
this.inc("pre",aa);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",aa);break;case "prepatch":this.prerelease.length=0;this.inc("patch",aa);this.inc("pre",aa);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",aa);this.inc("pre",aa);break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&0!==this.prerelease.length||this.minor++;this.patch=
0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(E=this.prerelease.length;0<=--E;)"number"===typeof this.prerelease[E]&&(this.prerelease[E]++,E=-2);-1===E&&this.prerelease.push(0)}aa&&(0===Sa(this.prerelease[0],aa)?isNaN(this.prerelease[1])&&(this.prerelease=[aa,0]):this.prerelease=[aa,0]);break;default:throw Error("invalid increment argument: ".concat(E));}this.format();
this.raw=this.version;return this}}var Sb=kb;const Fb=Sb;var Kb=(E,aa,Fa)=>(new Fb(E,Fa)).compare(new Fb(aa,Fa)),Cc=(E,aa,Fa,fb)=>{switch(aa){case "\x3d\x3d\x3d":return"object"===typeof E&&(E=E.version),"object"===typeof Fa&&(Fa=Fa.version),E===Fa;case "!\x3d\x3d":return"object"===typeof E&&(E=E.version),"object"===typeof Fa&&(Fa=Fa.version),E!==Fa;case "":case "\x3d":case "\x3d\x3d":return 0===Kb(E,Fa,fb);case "!\x3d":return 0!==Kb(E,Fa,fb);case "\x3e":return 0<Kb(E,Fa,fb);case "\x3e\x3d":return 0<=
Kb(E,Fa,fb);case "\x3c":return 0>Kb(E,Fa,fb);case "\x3c\x3d":return 0>=Kb(E,Fa,fb);default:throw new TypeError("Invalid operator: ".concat(aa));}},Ec,Sc,vd,pd;const fd=za();var Cd=(E,aa,Fa)=>{try{aa=new fd(aa,Fa)}catch(fb){return!1}return aa.test(E)},Dd={NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},rd={"*":(E,aa)=>E*aa,"+":(E,aa)=>E+aa,"-":(E,aa)=>E-aa,"/":(E,aa)=>
E/aa,"%":(E,aa)=>E%aa,"\x3e":(E,aa)=>E>aa,"\x3c":(E,aa)=>E<aa,"\x3c\x3d":(E,aa)=>E<=aa,"\x3e\x3d":(E,aa)=>E>=aa,"\x3d\x3d":(E,aa)=>E==aa,"!\x3d":(E,aa)=>E!=aa,"\x3d\x3d\x3d":(E,aa)=>E===aa,"!\x3d\x3d":(E,aa)=>E!==aa,"\x26":(E,aa)=>E&aa,"|":(E,aa)=>E|aa,"^":(E,aa)=>E^aa,"\x3c\x3c":(E,aa)=>E<<aa,"\x3e\x3e":(E,aa)=>E>>aa,"\x3e\x3e\x3e":(E,aa)=>E>>>aa},we={"+":E=>+E,"-":E=>-E,"~":E=>~E,"!":E=>!E};const Bd=Array.prototype.slice,y=(E,aa,Fa)=>{Fa=Fa?Fa(aa[0]):aa[0];return Fa[E].apply(Fa,Bd.call(aa,1))};
var J={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(E,aa,Fa)=>Math.max(aa,Math.min(Fa,E)),now:Date.now,utc:Date.UTC,datetime:(E,aa,Fa,fb,Gb,qc,Ib)=>new Date(E,aa||0,null!=Fa?Fa:1,fb||0,Gb||0,qc||0,Ib||0),date:E=>(new Date(E)).getDate(),
day:E=>(new Date(E)).getDay(),year:E=>(new Date(E)).getFullYear(),month:E=>(new Date(E)).getMonth(),hours:E=>(new Date(E)).getHours(),minutes:E=>(new Date(E)).getMinutes(),seconds:E=>(new Date(E)).getSeconds(),milliseconds:E=>(new Date(E)).getMilliseconds(),time:E=>(new Date(E)).getTime(),timezoneoffset:E=>(new Date(E)).getTimezoneOffset(),utcdate:E=>(new Date(E)).getUTCDate(),utcday:E=>(new Date(E)).getUTCDay(),utcyear:E=>(new Date(E)).getUTCFullYear(),utcmonth:E=>(new Date(E)).getUTCMonth(),utchours:E=>
(new Date(E)).getUTCHours(),utcminutes:E=>(new Date(E)).getUTCMinutes(),utcseconds:E=>(new Date(E)).getUTCSeconds(),utcmilliseconds:E=>(new Date(E)).getUTCMilliseconds(),length:E=>E.length,join:function(){return y("join",arguments)},indexof:function(){return y("indexOf",arguments)},lastindexof:function(){return y("lastIndexOf",arguments)},slice:function(){return y("slice",arguments)},reverse:E=>E.slice().reverse(),parseFloat,parseInt,upper:E=>String(E).toUpperCase(),lower:E=>String(E).toLowerCase(),
substring:function(){return y("substring",arguments,String)},split:function(){return y("split",arguments,String)},replace:function(){return y("replace",arguments,String)},trim:E=>String(E).trim(),regexp:RegExp,test:(E,aa)=>RegExp(E).test(aa)};const va="view item group xy x y".split(" "),Ka={Literal:(E,aa)=>aa.value,Identifier:(E,aa)=>{aa=aa.name;return 0<E.memberDepth?aa:"datum"===aa?E.datum:"event"===aa?E.event:"item"===aa?E.item:Dd[aa]||E.params["$"+aa]},MemberExpression:(E,aa)=>{const Fa=!aa.computed,
fb=E(aa.object);Fa&&(E.memberDepth+=1);aa=E(aa.property);Fa&&--E.memberDepth;return fb[aa]},CallExpression:(E,aa)=>{const Fa=aa.arguments;aa=aa.callee.name;aa.startsWith("_")&&(aa=aa.slice(1));return"if"===aa?E(Fa[0])?E(Fa[1]):E(Fa[2]):(E.fn[aa]||J[aa]).apply(E.fn,Fa.map(E))},ArrayExpression:(E,aa)=>aa.elements.map(E),BinaryExpression:(E,aa)=>rd[aa.operator](E(aa.left),E(aa.right)),UnaryExpression:(E,aa)=>we[aa.operator](E(aa.argument)),ConditionalExpression:(E,aa)=>E(aa.test)?E(aa.consequent):E(aa.alternate),
LogicalExpression:(E,aa)=>"\x26\x26"===aa.operator?E(aa.left)&&E(aa.right):E(aa.left)||E(aa.right),ObjectExpression:(E,aa)=>aa.properties.reduce((Fa,fb)=>{E.memberDepth+=1;const Gb=E(fb.key);--E.memberDepth;Fa[Gb]=E(fb.value);return Fa},{})};var lb={operator(E,aa){const Fa=aa.ast,fb=E.functions;return Gb=>Ra(Fa,fb,Gb)},parameter(E,aa){const Fa=aa.ast,fb=E.functions;return(Gb,qc)=>Ra(Fa,fb,qc,Gb)},event(E,aa){const Fa=aa.ast,fb=E.functions;return Gb=>Ra(Fa,fb,void 0,void 0,Gb)},handler(E,aa){const Fa=
aa.ast,fb=E.functions;return(Gb,qc)=>Ra(Fa,fb,Gb,qc.item&&qc.item.datum,qc)},encode(E,aa){const {marktype:Fa,channels:fb}=aa,Gb=E.functions,qc="group"===Fa||"image"===Fa||"rect"===Fa;return(Ib,Oc)=>{const od=Ib.datum;let $c=0,Nc;for(const Nd in fb)Nc=Ra(fb[Nd].ast,Gb,Oc,od,void 0,Ib),Ib[Nd]!==Nc&&(Ib[Nd]=Nc,$c=1);"rule"!==Fa&&(fb.x2&&(fb.x?(qc&&Ib.x>Ib.x2&&(Oc=Ib.x,Ib.x=Ib.x2,Ib.x2=Oc),Ib.width=Ib.x2-Ib.x):Ib.x=Ib.x2-(Ib.width||0)),fb.xc&&(Ib.x=Ib.xc-(Ib.width||0)/2),fb.y2&&(fb.y?(qc&&Ib.y>Ib.y2&&
(Oc=Ib.y,Ib.y=Ib.y2,Ib.y2=Oc),Ib.height=Ib.y2-Ib.y):Ib.y=Ib.y2-(Ib.height||0)),fb.yc&&(Ib.y=Ib.yc-(Ib.height||0)/2));return $c}}};const Bb={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},bc={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),
"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),
"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11",
"#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),
"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};var Tb=Object.freeze({__proto__:null,dark:{background:"#333",title:{color:"#fff",subtitleColor:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},
symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",
gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),
diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,
gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",
padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6",
"#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},
axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:Bb["category-6"],diverging:Bb["fireandice-6"],heatmap:Bb["fire-7"],ordinal:Bb["fire-7"],ramp:Bb["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},
area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},
urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,
labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:bc["six-groups-cat-1"],diverging:bc["diverging-colors"],heatmap:bc["diverging-colors"],ordinal:bc["six-groups-seq"],ramp:bc["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},
text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},version:"2.10.0",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},
axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}});const nc=E=>function(aa){return aa[E]},Jc=E=>{const aa=E.length;return function(Fa){for(let fb=0;fb<aa;++fb)Fa=Fa[E[fb]];return Fa}};(function(E,aa,Fa){const fb=bb(E);E=1===fb.length?fb[0]:E;return Ia((Fa&&Fa.get||ib)(fb),[E],aa||E)})("id");Ia(E=>E,[],"identity");Ia(()=>0,[],
"zero");Ia(()=>1,[],"one");Ia(()=>!0,[],"true");Ia(()=>!1,[],"false");var Ac=Array.isArray;const Xc={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(E){return String(E).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2,formatTooltip:function(E,aa,Fa){if(Ac(E))return"[".concat(E.map(Gb=>aa("string"===typeof Gb?Gb:JSON.stringify(Gb,Qb(Fa)))).join(", "),"]");if(E===Object(E)){let Gb="";const {title:qc,image:Ib}=
E;E=tb(E,["title","image"]);qc&&(Gb+="\x3ch2\x3e".concat(aa(qc),"\x3c/h2\x3e"));Ib&&(Gb+='\x3cimg src\x3d"'.concat(aa(Ib),'"\x3e'));var fb=Object.keys(E);if(0<fb.length){Gb+="\x3ctable\x3e";for(const Oc of fb)fb=E[Oc],void 0!==fb&&(fb===Object(fb)&&(fb=JSON.stringify(fb,Qb(Fa))),Gb+='\x3ctr\x3e\x3ctd class\x3d"key"\x3e'.concat(aa(Oc),':\x3c/td\x3e\x3ctd class\x3d"value"\x3e').concat(aa(fb),"\x3c/td\x3e\x3c/tr\x3e"));Gb+="\x3c/table\x3e"}return Gb||"{}"}return aa(E)}};class kd{constructor(E){this.options=
Object.assign(Object.assign({},Xc),E);var aa=this.options.id;this.el=null;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){E=document.createElement("style");E.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(aa))throw Error("Invalid HTML ID");aa="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black;\n}\n#vg-tooltip-element.visible {\n  visibility: visible;\n}\n#vg-tooltip-element h2 {\n  margin-top: 0;\n  margin-bottom: 10px;\n  font-size: 13px;\n}\n#vg-tooltip-element img {\n  max-width: 200px;\n  max-height: 200px;\n}\n#vg-tooltip-element table {\n  border-spacing: 0;\n}\n#vg-tooltip-element table tr {\n  border: none;\n}\n#vg-tooltip-element table tr td {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n#vg-tooltip-element table tr td.key {\n  color: #808080;\n  max-width: 150px;\n  text-align: right;\n  padding-right: 4px;\n}\n#vg-tooltip-element table tr td.value {\n  display: block;\n  max-width: 300px;\n  max-height: 7em;\n  text-align: left;\n}\n#vg-tooltip-element.dark-theme {\n  background-color: rgba(32, 32, 32, 0.9);\n  border: 1px solid #f5f5f5;\n  color: white;\n}\n#vg-tooltip-element.dark-theme td.key {\n  color: #bfbfbf;\n}\n".toString().replace("vg-tooltip-element",
aa);E.innerHTML=aa;aa=document.head;0<aa.childNodes.length?aa.insertBefore(E,aa.childNodes[0]):aa.appendChild(E)}}tooltipHandler(E,aa,Fa,fb){var Gb;this.el=document.getElementById(this.options.id);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(null!==(Gb=document.fullscreenElement)&&void 0!==Gb?Gb:document.body).appendChild(this.el));if(null==fb||""===fb)this.el.classList.remove("visible","".concat(this.options.theme,
"-theme"));else{this.el.innerHTML=this.options.formatTooltip(fb,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible","".concat(this.options.theme,"-theme"));E=this.el.getBoundingClientRect();Gb=this.options.offsetX;Fa=this.options.offsetY;fb=aa.clientX+Gb;fb+E.width>window.innerWidth&&(fb=+aa.clientX-Gb-E.width);Gb=aa.clientY+Fa;Gb+E.height>window.innerHeight&&(Gb=+aa.clientY-Fa-E.height);var {x:qc,y:Ib}={x:fb,y:Gb};this.el.setAttribute("style","top: ".concat(Ib,"px; left: ").concat(qc,
"px"))}}}String.prototype.startsWith||(String.prototype.startsWith=function(E,aa){return this.substr(!aa||0>aa?0:+aa,E.length)===E});var qd;const xd=L;let nd=w;const Id="undefined"!==typeof window?window:void 0;void 0===nd&&null!==Id&&void 0!==Id&&null!==(qd=Id.vl)&&void 0!==qd&&qd.compile&&(nd=Id.vl);const me={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},Oe={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",
SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},Ie={vega:"Vega","vega-lite":"Vega-Lite"},Je={vega:xd.version,"vega-lite":nd?nd.version:"not available"},tf={vega:E=>E,"vega-lite":(E,aa)=>nd.compile(E,{config:aa}).spec},bf=function(){var E;if(E=1<arguments.length){if(E=h.isString(0>=arguments.length?void 0:arguments[0]))E=0>=arguments.length?void 0:arguments[0],E=!(E.startsWith("http://")||E.startsWith("https://")||E.startsWith("//"));E=E||(0>=arguments.length?void 0:arguments[0])instanceof HTMLElement||
3===arguments.length}return E?La(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1],2>=arguments.length?void 0:arguments[2]):D(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1])};bf.vegaLite=nd;bf.vl=nd;bf.container=D;bf.embed=La;bf.vega=xd;bf.default=La;bf.version="6.21.0";return bf})};
shadow$provide[57]=function(Eb,ob,Dc,Wa){Wa.__esModule=!0;Wa.default=function(u){const h={};return!!u&&"[object Function]"===h.toString.call(u)}};
shadow$provide[58]=function(Eb,ob,Dc,Wa){Wa.__esModule=!0;Wa.default=function(ia,ab,zb){zb&&((0,h.default)(zb)?zb(ia.data(ab)):ia.change(ab,u.vega.changeset().remove(()=>!0).insert(zb)))};var u=ob(56),h=function(ia){return ia&&ia.__esModule?ia:{default:ia}}(ob(57))};
shadow$provide[59]=function(Eb,ob,Dc,Wa){Wa.__esModule=!0;Wa.default=function(h,ia){Object.keys(ia).forEach(ab=>{(0,u.default)(h,ab,ia[ab])})};var u=function(h){return h&&h.__esModule?h:{default:h}}(ob(58))};
shadow$provide[60]=function(Eb,ob,Dc,Wa){Wa.__esModule=!0;Wa.default=function(u){const h=new Set;u.forEach(ia=>{Object.keys(ia).forEach(ab=>{h.add(ab)})});return h}};
shadow$provide[61]=function(Eb,ob,Dc,Wa){Wa.__esModule=!0;Wa.NOOP=void 0;Wa.NOOP=()=>{}};
shadow$provide[62]=function(Eb,ob,Dc,Wa){Wa.__esModule=!0;Wa.default=function(u,h){const ia=Object.keys(h);ia.forEach(ab=>{try{u.addSignalListener(ab,h[ab])}catch(zb){console.warn("Cannot add invalid signal listener.",zb)}});return 0<ia.length}};
shadow$provide[63]=function(Eb,ob,Dc,Wa){Dc.exports=function ab(h,ia){if(h===ia)return!0;if(h&&ia&&"object"==typeof h&&"object"==typeof ia){if(h.constructor!==ia.constructor)return!1;var zb;if(Array.isArray(h)){var Yb=h.length;if(Yb!=ia.length)return!1;for(zb=Yb;0!==zb--;)if(!ab(h[zb],ia[zb]))return!1;return!0}if(h.constructor===RegExp)return h.source===ia.source&&h.flags===ia.flags;if(h.valueOf!==Object.prototype.valueOf)return h.valueOf()===ia.valueOf();if(h.toString!==Object.prototype.toString)return h.toString()===
ia.toString();var ac=Object.keys(h);Yb=ac.length;if(Yb!==Object.keys(ia).length)return!1;for(zb=Yb;0!==zb--;)if(!Object.prototype.hasOwnProperty.call(ia,ac[zb]))return!1;for(zb=Yb;0!==zb--;)if(Yb=ac[zb],!ab(h[Yb],ia[Yb]))return!1;return!0}return h!==h&&ia!==ia}};
shadow$provide[64]=function(Eb,ob,Dc,Wa){function u(ab){return ab&&ab.__esModule?ab:{default:ab}}Wa.__esModule=!0;Wa.default=function(ab,zb){if(ab===zb)return!1;const Yb={width:!1,height:!1,isExpensive:!1},ac=(0,ia.default)([ab,zb]);!ac.has("width")||"width"in ab&&"width"in zb&&ab.width===zb.width||("width"in ab&&"number"===typeof ab.width?Yb.width=ab.width:Yb.isExpensive=!0);!ac.has("height")||"height"in ab&&"height"in zb&&ab.height===zb.height||("height"in ab&&"number"===typeof ab.height?Yb.height=
ab.height:Yb.isExpensive=!0);ac.delete("width");ac.delete("height");[...ac].some(Xb=>!(Xb in ab)||!(Xb in zb)||!(0,h.default)(ab[Xb],zb[Xb]))&&(Yb.isExpensive=!0);return!1!==Yb.width||!1!==Yb.height||Yb.isExpensive?Yb:!1};var h=u(ob(63)),ia=u(ob(60))};
shadow$provide[65]=function(Eb,ob,Dc,Wa){Wa.__esModule=!0;Wa.default=function(u,h){const ia=Object.keys(h);ia.forEach(ab=>{try{u.removeSignalListener(ab,h[ab])}catch(zb){console.warn("Cannot remove invalid signal listener.",zb)}});return 0<ia.length}};
shadow$provide[66]=function(Eb,ob,Dc,Wa){Wa.__esModule=!0;Wa.default=function(u){const {spec:h,width:ia,height:ab}=u;return"undefined"!==typeof ia&&"undefined"!==typeof ab?Object.assign({},h,{width:ia,height:ab}):"undefined"!==typeof ia?Object.assign({},h,{width:ia}):"undefined"!==typeof ab?Object.assign({},h,{height:ab}):h}};
shadow$provide[67]=function(Eb,ob,Dc,Wa){function u(Ba){return Ba&&Ba.__esModule?Ba:{default:Ba}}function h(Ba,Za,wb){Za in Ba?Object.defineProperty(Ba,Za,{value:wb,enumerable:!0,configurable:!0,writable:!0}):Ba[Za]=wb;return Ba}Wa.__esModule=!0;Wa.default=void 0;Eb=u(ob(19));var ia=u(ob(2)),ab=u(ob(56)),zb=u(ob(20)),Yb=u(ob(60)),ac=ob(61),Xb=u(ob(62)),mc=u(ob(64)),Cb=u(ob(65)),Vb=u(ob(66));class jc extends ia.default.PureComponent{constructor(){super(...arguments);h(this,"containerRef",ia.default.createRef());
h(this,"resultPromise",void 0);h(this,"handleError",Ba=>{const {onError:Za=ac.NOOP}=this.props;Za(Ba,this.containerRef.current);console.warn(Ba)});h(this,"modifyView",Ba=>{this.resultPromise&&this.resultPromise.then(Za=>{Za&&Ba(Za.view);return!0}).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(Ba){const Za=(0,Yb.default)([this.props,Ba]);Za.delete("className");Za.delete("signalListeners");Za.delete("spec");Za.delete("style");Za.delete("width");Za.delete("height");
if(Array.from(Za).some(wb=>this.props[wb]!==Ba[wb]))this.clearView(),this.createView();else{const wb=(0,mc.default)((0,Vb.default)(this.props),(0,Vb.default)(Ba)),{signalListeners:ub}=this.props,{signalListeners:sb}=Ba;if(wb)if(wb.isExpensive)this.clearView(),this.createView();else{const xb=!(0,zb.default)(ub,sb);this.modifyView(hb=>{!1!==wb.width&&hb.width(wb.width);!1!==wb.height&&hb.height(wb.height);xb&&(sb&&(0,Cb.default)(hb,sb),ub&&(0,Xb.default)(hb,ub));hb.run()})}else(0,zb.default)(ub,sb)||
this.modifyView(xb=>{sb&&(0,Cb.default)(xb,sb);ub&&(0,Xb.default)(xb,ub);xb.run()})}}componentWillUnmount(){this.clearView()}createView(){var Ba=this.props,Za=Object.assign({},Ba);const wb=Ba.onNewView,ub=void 0===Ba.signalListeners?{}:Ba.signalListeners;Ba=(delete Za.spec,delete Za.onNewView,delete Za.signalListeners,delete Za.width,delete Za.height,Za);this.containerRef.current&&(Za=(0,Vb.default)(this.props),this.resultPromise=(0,ab.default)(this.containerRef.current,Za,Ba).then(sb=>{if(sb){const {view:xb}=
sb;(0,Xb.default)(xb,ub)&&xb.run()}return sb}).catch(this.handleError),wb&&this.modifyView(wb))}clearView(){this.resultPromise&&this.resultPromise.then(Ba=>{Ba&&Ba.finalize()}).catch(this.handleError);this.resultPromise=void 0;return this}render(){const {className:Ba,style:Za}=this.props;return ia.default.createElement("div",{ref:this.containerRef,className:Ba,style:Za})}}Wa.default=jc;h(jc,"propTypes",{className:Eb.default.string,onError:Eb.default.func})};
shadow$provide[68]=function(Eb,ob,Dc,Wa){function u(Cb){return Cb&&Cb.__esModule?Cb:{default:Cb}}function h(){h=Object.assign||function(Cb){for(var Vb=1;Vb<arguments.length;Vb++){var jc=arguments[Vb],Ba;for(Ba in jc)Object.prototype.hasOwnProperty.call(jc,Ba)&&(Cb[Ba]=jc[Ba])}return Cb};return h.apply(this,arguments)}function ia(Cb,Vb,jc){Vb in Cb?Object.defineProperty(Cb,Vb,{value:jc,enumerable:!0,configurable:!0,writable:!0}):Cb[Vb]=jc;return Cb}Wa.__esModule=!0;Wa.default=void 0;u(ob(19));var ab=
u(ob(2)),zb=u(ob(20)),Yb=u(ob(59)),ac=u(ob(67)),Xb=ob(61);class mc extends ab.default.PureComponent{constructor(){super(...arguments);ia(this,"vegaEmbed",ab.default.createRef());ia(this,"handleNewView",Cb=>{this.update();const {onNewView:Vb=Xb.NOOP}=this.props;Vb(Cb)})}componentDidMount(){this.update()}componentDidUpdate(Cb){(0,zb.default)(this.props.data,Cb.data)||this.update()}update(){const {data:Cb}=this.props;this.vegaEmbed.current&&Cb&&0<Object.keys(Cb).length&&this.vegaEmbed.current.modifyView(Vb=>
{(0,Yb.default)(Vb,Cb);Vb.resize().run()})}render(){var Cb=Object.assign({},this.props);Cb=(delete Cb.data,Cb);return ab.default.createElement(ac.default,h({ref:this.vegaEmbed},Cb,{onNewView:this.handleNewView}))}}Wa.default=mc;ia(mc,"defaultProps",{data:{}})};
shadow$provide[69]=function(Eb,ob,Dc,Wa){function u(zb){return zb&&zb.__esModule?zb:{default:zb}}function h(){h=Object.assign||function(zb){for(var Yb=1;Yb<arguments.length;Yb++){var ac=arguments[Yb],Xb;for(Xb in ac)Object.prototype.hasOwnProperty.call(ac,Xb)&&(zb[Xb]=ac[Xb])}return zb};return h.apply(this,arguments)}Wa.__esModule=!0;Wa.default=function(zb){return ia.default.createElement(ab.default,h({},zb,{mode:"vega-lite"}))};var ia=u(ob(2)),ab=u(ob(68))};
shadow$provide[70]=function(Eb,ob,Dc,Wa){function u(Yb){return Yb&&Yb.__esModule?Yb:{default:Yb}}function h(){h=Object.assign||function(Yb){for(var ac=1;ac<arguments.length;ac++){var Xb=arguments[ac],mc;for(mc in Xb)Object.prototype.hasOwnProperty.call(Xb,mc)&&(Yb[mc]=Xb[mc])}return Yb};return h.apply(this,arguments)}function ia(Yb,ac,Xb){ac in Yb?Object.defineProperty(Yb,ac,{value:Xb,enumerable:!0,configurable:!0,writable:!0}):Yb[ac]=Xb;return Yb}Wa.__esModule=!0;Wa.default=function(Yb){let {mode:ac,
spec:Xb}=Yb;class mc extends ab.default.PureComponent{render(){return ab.default.createElement(zb.default,h({mode:ac,spec:Xb},this.props))}}ia(mc,"getSpec",function(){return Xb});return mc};var ab=u(ob(2)),zb=u(ob(68))};
shadow$provide[71]=function(Eb,ob,Dc,Wa){Wa.__esModule=!0};
shadow$provide[72]=function(Eb,ob,Dc,Wa){Wa.__esModule=!0;var u=ob(71);Object.keys(u).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in Wa&&Wa[h]===u[h]||(Wa[h]=u[h]))})};
shadow$provide[73]=function(Eb,ob,Dc,Wa){function u(ab){return ab&&ab.__esModule?ab:{default:ab}}Wa.__esModule=!0;var h={Vega:!0,VegaLite:!0,createClassFromSpec:!0};Wa.createClassFromSpec=Wa.VegaLite=Wa.Vega=void 0;Eb=u(ob(68));Wa.Vega=Eb.default;Eb=u(ob(69));Wa.VegaLite=Eb.default;Eb=u(ob(70));Wa.createClassFromSpec=Eb.default;var ia=ob(72);Object.keys(ia).forEach(function(ab){"default"!==ab&&"__esModule"!==ab&&(Object.prototype.hasOwnProperty.call(h,ab)||ab in Wa&&Wa[ab]===ia[ab]||(Wa[ab]=ia[ab]))})};
/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var g,aa=this||self;function t(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}function ba(a){return Object.prototype.hasOwnProperty.call(a,ca)&&a[ca]||(a[ca]=++ea)}var ca="closure_uid_"+(1E9*Math.random()>>>0),ea=0;
function fa(a,b){function c(){}c.prototype=b.prototype;a.Dd=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[e].apply(d,h)}};function ha(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function ia(a,b){return null!==a&&b in a?a[b]:void 0}const ja="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ka(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<ja.length;f++)c=ja[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function la(a){if(!Array.isArray(a))for(let b=a.length-1;0<=b;b--)delete a[b];a.length=0};var ma;a:{const a=aa.navigator;if(a){const b=a.userAgent;if(b){ma=b;break a}}ma=""}let na=ma;function oa(a){return-1!=na.indexOf(a)};function pa(a,b){null!=a&&this.append.apply(this,arguments)}g=pa.prototype;g.kb="";g.set=function(a){this.kb=""+a};g.append=function(a,b,c){this.kb+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.kb+=arguments[d];return this};g.clear=function(){this.kb=""};g.toString=function(){return this.kb};var ra={},sa={},ta,u={},ua=null;function va(){return new v(null,5,[wa,!0,xa,!0,ya,!1,za,!1,Aa,null],null)}function x(a){return null!=a&&!1!==a}function Ba(a){return a instanceof Array}function y(a,b){return a[t(null==b?null:b)]?!0:a._?!0:!1}function A(a,b){var c=null==b?null:b.constructor;c=x(x(c)?c.Ib:c)?c.nb:t(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Ca(a){var b=a.nb;return x(b)?b:B.j(a)}
var Da="undefined"!==typeof Symbol&&"function"===t(Symbol)?Symbol.iterator:"@@iterator";function Ea(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Fa(a){function b(d,e){d.push(e);return d}var c=[];return Ga?Ga(b,c,a):Ha.call(null,b,c,a)}function Ia(a){return"symbol"===t(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Ja(){}function Ka(){}function La(){}
function Ma(a){if(null!=a&&null!=a.la)a=a.la(a);else{var b=Ma[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ma._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ICounted.-count",a);}return a}function Na(){}function Oa(a){if(null!=a&&null!=a.ma)a=a.ma(a);else{var b=Oa[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Oa._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEmptyableCollection.-empty",a);}return a}function Pa(){}
function Qa(a,b){if(null!=a&&null!=a.oa)a=a.oa(a,b);else{var c=Qa[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qa._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ICollection.-conj",a);}return a}function Ra(){}
var Ta=function(){function a(d,e,f){var h=Sa[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=Sa._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("IIndexed.-nth",d);}function b(d,e){var f=Sa[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Sa._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),Sa=function Sa(a){switch(arguments.length){case 2:return Sa.B(arguments[0],arguments[1]);case 3:return Sa.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Sa.B=function(a,b){return null!=a&&null!=a.ea?a.ea(a,b):Ta(a,b)};Sa.D=function(a,b,c){return null!=a&&null!=a.Aa?a.Aa(a,b,c):Ta(a,b,c)};Sa.$=3;function Ua(){}
function D(a){if(null!=a&&null!=a.wa)a=a.wa(a);else{var b=D[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=D._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeq.-first",a);}return a}function Va(a){if(null!=a&&null!=a.xa)a=a.xa(a);else{var b=Va[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Va._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeq.-rest",a);}return a}function Wa(){}function Xa(){}
var Za=function(){function a(d,e,f){var h=Ya[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=Ya._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("ILookup.-lookup",d);}function b(d,e){var f=Ya[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Ya._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),Ya=function Ya(a){switch(arguments.length){case 2:return Ya.B(arguments[0],arguments[1]);case 3:return Ya.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Ya.B=function(a,b){return null!=a&&null!=a.ya?a.ya(a,b):Za(a,b)};Ya.D=function(a,b,c){return null!=a&&null!=a.ca?a.ca(a,b,c):Za(a,b,c)};Ya.$=3;function $a(){}
function ab(a,b){if(null!=a&&null!=a.lb)a=a.lb(a,b);else{var c=ab[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ab._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IAssociative.-contains-key?",a);}return a}function bb(a,b,c){if(null!=a&&null!=a.ab)a=a.ab(a,b,c);else{var d=bb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=bb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IAssociative.-assoc",a);}return a}
function cb(a,b){if(null!=a&&null!=a.tb)a=a.tb(a,b);else{var c=cb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=cb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IFind.-find",a);}return a}function db(){}function eb(a,b){if(null!=a&&null!=a.jc)a=a.jc(a,b);else{var c=eb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=eb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IMap.-dissoc",a);}return a}
function fb(a){if(null!=a&&null!=a.Xc)a=a.key;else{var b=fb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=fb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMapEntry.-key",a);}return a}function gb(a){if(null!=a&&null!=a.Yc)a=a.R;else{var b=gb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=gb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMapEntry.-val",a);}return a}function hb(){}
function ib(a,b){if(null!=a&&null!=a.zc)a=a.zc(a,b);else{var c=ib[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ib._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ISet.-disjoin",a);}return a}function jb(a){if(null!=a&&null!=a.vb)a=a.vb(a);else{var b=jb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=jb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IStack.-peek",a);}return a}
function kb(a){if(null!=a&&null!=a.wb)a=a.wb(a);else{var b=kb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=kb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IStack.-pop",a);}return a}function lb(){}function mb(a,b,c){if(null!=a&&null!=a.mb)a=a.mb(a,b,c);else{var d=mb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=mb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IVector.-assoc-n",a);}return a}
function F(a){if(null!=a&&null!=a.fb)a=a.fb(a);else{var b=F[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=F._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IDeref.-deref",a);}return a}function nb(){}function ob(a){if(null!=a&&null!=a.ha)a=a.ha(a);else{var b=ob[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=ob._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMeta.-meta",a);}return a}
function pb(a,b){if(null!=a&&null!=a.ka)a=a.ka(a,b);else{var c=pb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=pb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IWithMeta.-with-meta",a);}return a}function qb(){}
var sb=function(){function a(d,e,f){var h=rb[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=rb._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("IReduce.-reduce",d);}function b(d,e){var f=rb[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=rb._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),rb=function rb(a){switch(arguments.length){case 2:return rb.B(arguments[0],arguments[1]);case 3:return rb.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};rb.B=function(a,b){return null!=a&&null!=a.qa?a.qa(a,b):sb(a,b)};rb.D=function(a,b,c){return null!=a&&null!=a.ra?a.ra(a,b,c):sb(a,b,c)};rb.$=3;function tb(){}
function ub(a,b,c){if(null!=a&&null!=a.Db)a=a.Db(a,b,c);else{var d=ub[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=ub._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IKVReduce.-kv-reduce",a);}return a}function vb(a,b){if(null!=a&&null!=a.fa)a=a.fa(a,b);else{var c=vb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=vb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IEquiv.-equiv",a);}return a}
function wb(a){if(null!=a&&null!=a.ga)a=a.ga(a);else{var b=wb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=wb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IHash.-hash",a);}return a}function xb(){}function yb(a){if(null!=a&&null!=a.ja)a=a.ja(a);else{var b=yb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=yb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeqable.-seq",a);}return a}function zb(){}function Ab(){}function Bb(){}
function G(a,b){if(null!=a&&null!=a.Ac)a=a.Ac(a,b);else{var c=G[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=G._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IWriter.-write",a);}return a}function Cb(){}function Db(a,b,c){if(null!=a&&null!=a.ia)a=a.ia(a,b,c);else{var d=Db[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Db._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IPrintWithWriter.-pr-writer",a);}return a}
function Eb(a,b){var c=Fb;if(null!=a&&null!=a.Sb)a.Sb(a,b,c);else{var d=Eb[t(null==a?null:a)];if(null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Eb._,null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IWatchable.-add-watch",a);}}function Gb(a,b){if(null!=a&&null!=a.Tb)a.Tb(a,b);else{var c=Gb[t(null==a?null:a)];if(null!=c)c.B?c.B(a,b):c.call(null,a,b);else if(c=Gb._,null!=c)c.B?c.B(a,b):c.call(null,a,b);else throw A("IWatchable.-remove-watch",a);}}
function Hb(a){if(null!=a&&null!=a.sb)a=a.sb(a);else{var b=Hb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Hb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEditableCollection.-as-transient",a);}return a}function Ib(a,b){if(null!=a&&null!=a.yb)a=a.yb(a,b);else{var c=Ib[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Ib._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ITransientCollection.-conj!",a);}return a}
function Jb(a){if(null!=a&&null!=a.Hb)a=a.Hb(a);else{var b=Jb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Jb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ITransientCollection.-persistent!",a);}return a}function Kb(a,b,c){if(null!=a&&null!=a.xb)a=a.xb(a,b,c);else{var d=Kb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Kb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("ITransientAssociative.-assoc!",a);}return a}
function Lb(a){if(null!=a&&null!=a.uc)a=a.uc(a);else{var b=Lb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Lb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunk.-drop-first",a);}return a}function Mb(a){if(null!=a&&null!=a.hc)a=a.hc(a);else{var b=Mb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Mb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunkedSeq.-chunked-first",a);}return a}
function Nb(a){if(null!=a&&null!=a.Rb)a=a.Rb(a);else{var b=Nb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Nb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunkedSeq.-chunked-rest",a);}return a}function Ob(a){if(null!=a&&null!=a.Eb)a=a.Eb(a);else{var b=Ob[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ob._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("INamed.-name",a);}return a}
function Pb(a){if(null!=a&&null!=a.Fb)a=a.Fb(a);else{var b=Pb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Pb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("INamed.-namespace",a);}return a}function Qb(a,b){if(null!=a&&null!=a.Sa)a=a.Sa(a,b);else{var c=Qb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IReset.-reset!",a);}return a}
var Sb=function(){function a(f,h,k,l,m){var n=Rb[t(null==f?null:f)];if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);n=Rb._;if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);throw A("ISwap.-swap!",f);}function b(f,h,k,l){var m=Rb[t(null==f?null:f)];if(null!=m)return m.T?m.T(f,h,k,l):m.call(null,f,h,k,l);m=Rb._;if(null!=m)return m.T?m.T(f,h,k,l):m.call(null,f,h,k,l);throw A("ISwap.-swap!",f);}function c(f,h,k){var l=Rb[t(null==f?null:f)];if(null!=l)return l.D?l.D(f,h,k):l.call(null,
f,h,k);l=Rb._;if(null!=l)return l.D?l.D(f,h,k):l.call(null,f,h,k);throw A("ISwap.-swap!",f);}function d(f,h){var k=Rb[t(null==f?null:f)];if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);k=Rb._;if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);throw A("ISwap.-swap!",f);}var e=null;e=function(f,h,k,l,m){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,l);case 5:return a.call(this,f,h,k,l,m)}throw Error("Invalid arity: "+arguments.length);
};e.B=d;e.D=c;e.T=b;e.aa=a;return e}(),Rb=function Rb(a){switch(arguments.length){case 2:return Rb.B(arguments[0],arguments[1]);case 3:return Rb.D(arguments[0],arguments[1],arguments[2]);case 4:return Rb.T(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Rb.aa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Rb.B=function(a,b){return null!=a&&null!=a.kc?a.kc(a,b):Sb(a,b)};
Rb.D=function(a,b,c){return null!=a&&null!=a.lc?a.lc(a,b,c):Sb(a,b,c)};Rb.T=function(a,b,c,d){return null!=a&&null!=a.mc?a.mc(a,b,c,d):Sb(a,b,c,d)};Rb.aa=function(a,b,c,d,e){return null!=a&&null!=a.nc?a.nc(a,b,c,d,e):Sb(a,b,c,d,e)};Rb.$=5;function Tb(){}function Ub(a){if(null!=a&&null!=a.Qa)a=a.Qa(a);else{var b=Ub[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ub._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IIterable.-iterator",a);}return a}
function Vb(a){this.pd=a;this.F=1073741824;this.P=0}Vb.prototype.Ac=function(a,b){return this.pd.append(b)};function Wb(a){var b=new pa;a.ia(null,new Vb(b),va());return B.j(b)}var Xb="undefined"!==typeof Math&&"undefined"!==typeof Math.imul?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function Yb(a){a=Xb(a|0,-862048943);return Xb(a<<15|a>>>-15,461845907)}
function Zb(a,b){a=(a|0)^(b|0);return Xb(a<<13|a>>>-13,5)+-430675100|0}function $b(a,b){a=(a|0)^b;a=Xb(a^a>>>16,-2048144789);a=Xb(a^a>>>13,-1028477387);return a^a>>>16}function ac(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=Zb(c,Yb(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return $b(1===(a.length&1)?b^Yb(a.charCodeAt(a.length-1)):b,Xb(2,a.length))}var bc={},cc=0;
function dc(a){255<cc&&(bc={},cc=0);if(null==a)return 0;var b=bc[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=Xb(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;bc[a]=b;cc+=1;a=b}return a}
function ec(a){if(null!=a&&(a.F&4194304||u===a.td))return a.ga(null)^0;if("number"===typeof a){if(isFinite(a))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=dc(a),a=0===a?a:$b(Zb(0,Yb(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:wb(a)^0,a}function fc(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function gc(a,b,c,d,e){this.Bb=a;this.name=b;this.jb=c;this._hash=d;this.Ya=e;this.F=2154168321;this.P=4096}g=gc.prototype;g.toString=function(){return this.jb};g.fa=function(a,b){return b instanceof gc?this.jb===b.jb:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};
g.j=function(a){return H.B?H.B(a,this):H.call(null,a,this)};g.B=function(a,b){return H.D?H.D(a,this,b):H.call(null,a,this,b)};g.ha=function(){return this.Ya};g.ka=function(a,b){return new gc(this.Bb,this.name,this.jb,this._hash,b)};g.ga=function(){var a=this._hash;return null!=a?a:this._hash=a=fc(ac(this.name),dc(this.Bb))};g.Eb=function(){return this.name};g.Fb=function(){return this.Bb};g.ia=function(a,b){return G(b,this.jb)};
var hc=function hc(a){switch(arguments.length){case 1:return hc.j(arguments[0]);case 2:return hc.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};hc.j=function(a){for(;;){if(a instanceof gc)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?hc.B(null,a):hc.B(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof I)a=a.Ra;else throw Error("no conversion to symbol");}};
hc.B=function(a,b){var c=null!=a?[B.j(a),"/",B.j(b)].join(""):b;return new gc(a,b,c,null,null)};hc.$=2;function ic(a){return null!=a?a.P&131072||u===a.ud?!0:a.P?!1:y(Tb,a):y(Tb,a)}function J(a){if(null==a)return null;if(null!=a&&(a.F&8388608||u===a.ad))return a.ja(null);if(Ba(a)||"string"===typeof a)return 0===a.length?null:new K(a,0,null);if(null!=a&&null!=a[Da])return a=ia(a,Da).call(a),jc.j?jc.j(a):jc.call(null,a);if(y(xb,a))return yb(a);throw Error([B.j(a)," is not ISeqable"].join(""));}
function N(a){if(null==a)return null;if(null!=a&&(a.F&64||u===a.ub))return a.wa(null);a=J(a);return null==a?null:D(a)}function kc(a){return null!=a?null!=a&&(a.F&64||u===a.ub)?a.xa(null):(a=J(a))?a.xa(null):lc:lc}function O(a){return null==a?null:null!=a&&(a.F&128||u===a.Gb)?a.va():J(kc(a))}
var P=function P(a){switch(arguments.length){case 1:return P.j(arguments[0]);case 2:return P.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return P.K(arguments[0],arguments[1],c)}};P.j=function(){return!0};P.B=function(a,b){return null==a?null==b:a===b||vb(a,b)};P.K=function(a,b,c){for(;;)if(P.B(a,b))if(O(c))a=b,b=N(c),c=O(c);else return P.B(b,N(c));else return!1};
P.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};P.$=2;function mc(a){this.s=a}mc.prototype.next=function(){if(null!=this.s){var a=N(this.s);this.s=O(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function nc(a){return new mc(J(a))}function oc(a,b){this.value=a;this.Ab=b;this.bc=null;this.F=8388672;this.P=0}oc.prototype.ja=function(){return this};oc.prototype.wa=function(){return this.value};
oc.prototype.xa=function(){null==this.bc&&(this.bc=jc.j?jc.j(this.Ab):jc.call(null,this.Ab));return this.bc};function jc(a){var b=a.next();return x(b.done)?null:new oc(b.value,a)}function pc(a){var b=0,c=1;for(a=J(a);;)if(null!=a)b+=1,c=Xb(31,c)+ec(N(a))|0,a=O(a);else return $b(Zb(0,Yb(c)),b)}var qc=$b(Zb(0,Yb(1)),0);function rc(a){var b=0,c=0;for(a=J(a);;)if(null!=a)b+=1,c=c+ec(N(a))|0,a=O(a);else return $b(Zb(0,Yb(c)),b)}var sc=$b(Zb(0,Yb(0)),0);La["null"]=!0;Ma["null"]=function(){return 0};
Date.prototype.fa=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};vb.number=function(a,b){return a===b};Ja["function"]=!0;nb["function"]=!0;ob["function"]=function(){return null};wb._=function(a){return ba(a)};function tc(a){return a+1}function uc(){this.R=!1;this.F=32768;this.P=0}uc.prototype.fb=function(){return this.R};function vc(a){return a instanceof uc}function wc(a){return F(a)}
function xc(a,b){var c=a.la(null);if(0===c)return b.O?b.O():b.call(null);for(var d=a.ea(null,0),e=1;;)if(e<c){var f=a.ea(null,e);d=b.B?b.B(d,f):b.call(null,d,f);if(vc(d))return F(d);e+=1}else return d}function yc(a,b,c){var d=a.la(null),e=c;for(c=0;;)if(c<d){var f=a.ea(null,c);e=b.B?b.B(e,f):b.call(null,e,f);if(vc(e))return F(e);c+=1}else return e}
function zc(a,b){var c=a.length;if(0===a.length)return b.O?b.O():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.B?b.B(d,f):b.call(null,d,f);if(vc(d))return F(d);e+=1}else return d}function Ac(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.B?b.B(e,f):b.call(null,e,f);if(vc(e))return F(e);c+=1}else return e}function Bc(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.B?b.B(c,f):b.call(null,c,f);if(vc(c))return F(c);d+=1}else return c}
function Cc(a){return null!=a?a.F&2||u===a.Qc?!0:a.F?!1:y(La,a):y(La,a)}function Dc(a){return null!=a?a.F&16||u===a.wc?!0:a.F?!1:y(Ra,a):y(Ra,a)}function Q(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(P.B(Ec?Ec(a,c):Fc.call(null,a,c),b))return c;c+=1}else return-1}
function S(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(P.B(Ec?Ec(a,c):Fc.call(null,a,c),b))return c;--c}else return-1}function Gc(a,b){this.C=a;this.i=b}Gc.prototype.pa=function(){return this.i<this.C.length};Gc.prototype.next=function(){var a=this.C[this.i];this.i+=1;return a};function K(a,b,c){this.C=a;this.i=b;this.meta=c;this.F=166592766;this.P=139264}g=K.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R.j?R.j(this):R.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ea=function(a,b){a=b+this.i;if(0<=a&&a<this.C.length)return this.C[a];throw Error("Index out of bounds");};g.Aa=function(a,b,c){a=b+this.i;return 0<=a&&a<this.C.length?this.C[a]:c};
g.Qa=function(){return new Gc(this.C,this.i)};g.ha=function(){return this.meta};g.va=function(){return this.i+1<this.C.length?new K(this.C,this.i+1,null):null};g.la=function(){var a=this.C.length-this.i;return 0>a?0:a};g.ga=function(){return pc(this)};g.fa=function(a,b){return Hc.B?Hc.B(this,b):Hc.call(null,this,b)};g.ma=function(){return lc};g.qa=function(a,b){return Bc(this.C,b,this.C[this.i],this.i+1)};g.ra=function(a,b,c){return Bc(this.C,b,c,this.i)};g.wa=function(){return this.C[this.i]};
g.xa=function(){return this.i+1<this.C.length?new K(this.C,this.i+1,null):lc};g.ja=function(){return this.i<this.C.length?this:null};g.ka=function(a,b){return b===this.meta?this:new K(this.C,this.i,b)};g.oa=function(a,b){return U.B?U.B(b,this):U.call(null,b,this)};K.prototype[Da]=function(){return nc(this)};function Ic(a){return 0<a.length?new K(a,0,null):null}vb._=function(a,b){return a===b};
var Jc=function Jc(a){switch(arguments.length){case 0:return Jc.O();case 1:return Jc.j(arguments[0]);case 2:return Jc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Jc.K(arguments[0],arguments[1],c)}};Jc.O=function(){return Kc};Jc.j=function(a){return a};Jc.B=function(a,b){return null!=a?Qa(a,b):new Lc(null,b,null,1,null)};
Jc.K=function(a,b,c){for(;;)if(x(c))a=Jc.B(a,b),b=N(c),c=O(c);else return Jc.B(a,b)};Jc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Jc.$=2;function R(a){if(null!=a)if(null!=a&&(a.F&2||u===a.Qc))a=a.la(null);else if(Ba(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.F&8388608||u===a.ad))a:{a=J(a);for(var b=0;;){if(Cc(a)){a=b+Ma(a);break a}a=O(a);b+=1}}else a=Ma(a);else a=0;return a}
function Mc(a,b,c){for(;;){if(null==a)return c;if(0===b)return J(a)?N(a):c;if(Dc(a))return Sa(a,b,c);if(J(a))a=O(a),--b;else return c}}function Fc(a){switch(arguments.length){case 2:return Ec(arguments[0],arguments[1]);case 3:return V(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}
function Ec(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.F&16||u===a.wc))return a.ea(null,b);if(Ba(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.F&64||u===a.ub)||null!=a&&(a.F&16777216||u===a.yc)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(J(a)){a=N(a);break a}throw Error("Index out of bounds");}if(Dc(a)){a=Sa(a,b);break a}if(J(a))a=O(a),--b;else throw Error("Index out of bounds");}return a}if(y(Ra,a))return Sa(a,b);throw Error(["nth not supported on this type ",B.j(Ca(null==a?null:a.constructor))].join(""));}
function V(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.F&16||u===a.wc))return a.Aa(null,b,c);if(Ba(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.F&64||u===a.ub)||null!=a&&(a.F&16777216||u===a.yc))return 0>b?c:Mc(a,b,c);if(y(Ra,a))return Sa(a,b,c);throw Error(["nth not supported on this type ",B.j(Ca(null==a?null:a.constructor))].join(""));}
var H=function H(a){switch(arguments.length){case 2:return H.B(arguments[0],arguments[1]);case 3:return H.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};H.B=function(a,b){return null==a?null:null!=a&&(a.F&256||u===a.Wc)?a.ya(null,b):Ba(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:y(Xa,a)?Ya(a,b):null};
H.D=function(a,b,c){return null!=a?null!=a&&(a.F&256||u===a.Wc)?a.ca(null,b,c):Ba(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:y(Xa,a)?Ya(a,b,c):c:c};H.$=3;var W=function W(a){switch(arguments.length){case 3:return W.D(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(3),0,null);return W.K(arguments[0],arguments[1],arguments[2],c)}};
W.D=function(a,b,c){return null!=a&&(a.F&512||u===a.Pc)?a.ab(null,b,c):null!=a?bb(a,b,c):Nc([b,c])};W.K=function(a,b,c,d){for(;;)if(a=W.D(a,b,c),x(d))b=N(d),c=N(O(d)),d=O(O(d));else return a};W.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);d=O(d);return this.K(b,a,c,d)};W.$=3;
var Oc=function Oc(a){switch(arguments.length){case 1:return Oc.j(arguments[0]);case 2:return Oc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Oc.K(arguments[0],arguments[1],c)}};Oc.j=function(a){return a};Oc.B=function(a,b){return null==a?null:eb(a,b)};Oc.K=function(a,b,c){for(;;){if(null==a)return null;a=Oc.B(a,b);if(x(c))b=N(c),c=O(c);else return a}};
Oc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Oc.$=2;function Pc(a){var b="function"===typeof a;return b?b:null!=a?u===a.Oc?!0:a.Bc?!1:y(Ja,a):y(Ja,a)}function Qc(a,b){this.I=a;this.meta=b;this.F=393217;this.P=0}g=Qc.prototype;g.ha=function(){return this.meta};g.ka=function(a,b){return new Qc(this.I,b)};g.Oc=u;
g.call=function(a){switch(arguments.length-1){case 0:return this.O();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.T(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Oa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ia(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ka(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.ic(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.O=function(){return this.I.O?this.I.O():this.I.call(null)};g.j=function(a){return this.I.j?this.I.j(a):this.I.call(null,a)};g.B=function(a,b){return this.I.B?this.I.B(a,b):this.I.call(null,a,b)};g.D=function(a,b,c){return this.I.D?this.I.D(a,b,c):this.I.call(null,a,b,c)};
g.T=function(a,b,c,d){return this.I.T?this.I.T(a,b,c,d):this.I.call(null,a,b,c,d)};g.aa=function(a,b,c,d,e){return this.I.aa?this.I.aa(a,b,c,d,e):this.I.call(null,a,b,c,d,e)};g.Na=function(a,b,c,d,e,f){return this.I.Na?this.I.Na(a,b,c,d,e,f):this.I.call(null,a,b,c,d,e,f)};g.Oa=function(a,b,c,d,e,f,h){return this.I.Oa?this.I.Oa(a,b,c,d,e,f,h):this.I.call(null,a,b,c,d,e,f,h)};g.za=function(a,b,c,d,e,f,h,k){return this.I.za?this.I.za(a,b,c,d,e,f,h,k):this.I.call(null,a,b,c,d,e,f,h,k)};
g.Pa=function(a,b,c,d,e,f,h,k,l){return this.I.Pa?this.I.Pa(a,b,c,d,e,f,h,k,l):this.I.call(null,a,b,c,d,e,f,h,k,l)};g.Ca=function(a,b,c,d,e,f,h,k,l,m){return this.I.Ca?this.I.Ca(a,b,c,d,e,f,h,k,l,m):this.I.call(null,a,b,c,d,e,f,h,k,l,m)};g.Da=function(a,b,c,d,e,f,h,k,l,m,n){return this.I.Da?this.I.Da(a,b,c,d,e,f,h,k,l,m,n):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Ea=function(a,b,c,d,e,f,h,k,l,m,n,p){return this.I.Ea?this.I.Ea(a,b,c,d,e,f,h,k,l,m,n,p):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.Fa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){return this.I.Fa?this.I.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};g.Ga=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){return this.I.Ga?this.I.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};g.Ha=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w){return this.I.Ha?this.I.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w)};
g.Ia=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z){return this.I.Ia?this.I.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z)};g.Ja=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C){return this.I.Ja?this.I.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C)};g.Ka=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E){return this.I.Ka?this.I.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E)};
g.La=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M){return this.I.La?this.I.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M)};g.Ma=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T){return this.I.Ma?this.I.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T)};
g.ic=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da){return Rc.Vc?Rc.Vc(this.I,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da):Rc.call(null,this.I,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da)};function Sc(a,b){return"function"===typeof a?new Qc(a,b):null==a?null:pb(a,b)}function Tc(a){var b=null!=a;return(b?null!=a?a.F&131072||u===a.Zc||(a.F?0:y(nb,a)):y(nb,a):b)?ob(a):null}
var Uc=function Uc(a){switch(arguments.length){case 1:return Uc.j(arguments[0]);case 2:return Uc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Uc.K(arguments[0],arguments[1],c)}};Uc.j=function(a){return a};Uc.B=function(a,b){return null==a?null:ib(a,b)};Uc.K=function(a,b,c){for(;;){if(null==a)return null;a=Uc.B(a,b);if(x(c))b=N(c),c=O(c);else return a}};
Uc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Uc.$=2;function Vc(a){var b;(b=null==a)||(a=J(a),b=null==a?!0:!1===a?!0:!1);return b}function Wc(a){return null==a?!1:null!=a?a.F&8||u===a.rd?!0:a.F?!1:y(Pa,a):y(Pa,a)}function Xc(a){return null==a?!1:null!=a?a.F&4096||u===a.Ad?!0:a.F?!1:y(hb,a):y(hb,a)}function Yc(a){return null!=a?a.F&16777216||u===a.yc?!0:a.F?!1:y(zb,a):y(zb,a)}function $c(a){return null==a?!1:null!=a?a.F&1024||u===a.xd?!0:a.F?!1:y(db,a):y(db,a)}
function ad(a){return null!=a?a.F&67108864||u===a.zd?!0:a.F?!1:y(Bb,a):y(Bb,a)}function bd(a){return null!=a?a.F&16384||u===a.Bd?!0:a.F?!1:y(lb,a):y(lb,a)}function cd(a){return null!=a?a.P&512||u===a.qd?!0:!1:!1}function dd(a,b,c,d,e){for(;;){if(0===e)return c;c[d]=a[b];d+=1;--e;b+=1}}var ed={};function fd(a){return null==a?!1:!1===a?!1:!0}function gd(a){var b=Pc(a);return b?b:null!=a?a.F&1||u===a.sd?!0:a.F?!1:y(Ka,a):y(Ka,a)}
function hd(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function id(a,b){return null!=a&&(a.F&512||u===a.Pc)?a.lb(null,b):y($a,a)?ab(a,b):H.D(a,b,ed)===ed?!1:!0}function jd(a,b){var c=J(b);return c?(b=N(c),c=O(c),Ga?Ga(a,b,c):Ha.call(null,a,b,c)):a.O?a.O():a.call(null)}function kd(a,b,c){for(c=J(c);;)if(c){var d=N(c);b=a.B?a.B(b,d):a.call(null,b,d);if(vc(b))return F(b);c=O(c)}else return b}
function ld(a,b){a=Ub(a);if(x(a.pa()))for(var c=a.next();;)if(a.pa()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(vc(c))return F(c)}else return c;else return b.O?b.O():b.call(null)}function md(a,b,c){for(a=Ub(a);;)if(a.pa()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(vc(c))return F(c)}else return c}
function Ha(a){switch(arguments.length){case 2:return nd(arguments[0],arguments[1]);case 3:return Ga(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function nd(a,b){return null!=b&&(b.F&524288||u===b.$c)?b.qa(null,a):Ba(b)?zc(b,a):"string"===typeof b?zc(b,a):y(qb,b)?rb(b,a):ic(b)?ld(b,a):jd(a,b)}
function Ga(a,b,c){return null!=c&&(c.F&524288||u===c.$c)?c.ra(null,a,b):Ba(c)?Ac(c,a,b):"string"===typeof c?Ac(c,a,b):y(qb,c)?rb(c,a,b):ic(c)?md(c,a,b):kd(a,b,c)}function od(a,b,c){return null!=c?ub(c,a,b):b}function pd(a){return a}function qd(a,b,c,d){a=a.j?a.j(b):a.call(null,b);c=Ga(a,c,d);return a.j?a.j(c):a.call(null,c)}
var rd=function rd(a){switch(arguments.length){case 0:return rd.O();case 1:return rd.j(arguments[0]);case 2:return rd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return rd.K(arguments[0],arguments[1],c)}};rd.O=function(){return 0};rd.j=function(a){return a};rd.B=function(a,b){return a+b};rd.K=function(a,b,c){return Ga(rd,a+b,c)};
rd.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};rd.$=2;var sd=function sd(a){switch(arguments.length){case 1:return sd.j(arguments[0]);case 2:return sd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return sd.K(arguments[0],arguments[1],c)}};sd.j=function(a){return-a};sd.B=function(a,b){return a-b};sd.K=function(a,b,c){return Ga(sd,a-b,c)};
sd.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};sd.$=2;function td(a){a=(a-a%2)/2;return 0<=a?Math.floor(a):Math.ceil(a)}function ud(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var B=function B(a){switch(arguments.length){case 0:return B.O();case 1:return B.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(1),0,null);return B.K(arguments[0],c)}};B.O=function(){return""};
B.j=function(a){return null==a?"":[a].join("")};B.K=function(a,b){for(a=new pa(B.j(a));;)if(x(b))a=a.append(B.j(N(b))),b=O(b);else return a.toString()};B.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};B.$=1;function Hc(a,b){if(Yc(b))if(Cc(a)&&Cc(b)&&R(a)!==R(b))a=!1;else a:for(a=J(a),b=J(b);;){if(null==a){a=null==b;break a}if(null!=b&&P.B(N(a),N(b)))a=O(a),b=O(b);else{a=!1;break a}}else a=null;return fd(a)}
function Lc(a,b,c,d,e){this.meta=a;this.first=b;this.eb=c;this.count=d;this.N=e;this.F=65937646;this.P=8192}g=Lc.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return 1===this.count?null:this.eb};g.la=function(){return this.count};g.vb=function(){return this.first};g.wb=function(){return this.xa(null)};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return pb(lc,this.meta)};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.first};g.xa=function(){return 1===this.count?lc:this.eb};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Lc(b,this.first,this.eb,this.count,this.N)};g.oa=function(a,b){return new Lc(this.meta,b,this,this.count+1,null)};
Lc.prototype[Da]=function(){return nc(this)};function vd(a){this.meta=a;this.F=65937614;this.P=8192}g=vd.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null};g.la=function(){return 0};g.vb=function(){return null};g.wb=function(){throw Error("Can't pop empty list");};g.ga=function(){return qc};
g.fa=function(a,b){return(null!=b?b.F&33554432||u===b.wd||(b.F?0:y(Ab,b)):y(Ab,b))||Yc(b)?null==J(b):!1};g.ma=function(){return this};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return null};g.xa=function(){return lc};g.ja=function(){return null};g.ka=function(a,b){return b===this.meta?this:new vd(b)};g.oa=function(a,b){return new Lc(this.meta,b,null,1,null)};var lc=new vd(null);vd.prototype[Da]=function(){return nc(this)};
function wd(a,b,c,d){this.meta=a;this.first=b;this.eb=c;this.N=d;this.F=65929452;this.P=8192}g=wd.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null==this.eb?null:J(this.eb)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};
g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.first};g.xa=function(){return null==this.eb?lc:this.eb};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new wd(b,this.first,this.eb,this.N)};g.oa=function(a,b){return new wd(null,b,this,null)};wd.prototype[Da]=function(){return nc(this)};
function U(a,b){return null==b?new Lc(null,a,null,1,null):null!=b&&(b.F&64||u===b.ub)?new wd(null,a,b,null):new wd(null,a,J(b),null)}function I(a,b,c,d){this.Bb=a;this.name=b;this.Ra=c;this._hash=d;this.F=2153775105;this.P=4096}g=I.prototype;g.toString=function(){return[":",B.j(this.Ra)].join("")};g.fa=function(a,b){return b instanceof I?this.Ra===b.Ra:!1};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return H.B(a,this)};g.B=function(a,b){return H.D(a,this,b)};g.ga=function(){var a=this._hash;return null!=a?a:this._hash=a=fc(ac(this.name),dc(this.Bb))+2654435769|0};g.Eb=function(){return this.name};
g.Fb=function(){return this.Bb};g.ia=function(a,b){return G(b,[":",B.j(this.Ra)].join(""))};function xd(a){if(null!=a&&(a.P&4096||u===a.xc))return a.Fb(null);throw Error(["Doesn't support namespace: ",B.j(a)].join(""));}var yd=function yd(a){switch(arguments.length){case 1:return yd.j(arguments[0]);case 2:return yd.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};
yd.j=function(a){if(a instanceof I)return a;if(a instanceof gc)return new I(xd(a),X.j?X.j(a):X.call(null,a),a.jb,null);if(P.B("/",a))return new I(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new I(b[0],b[1],a,null):new I(null,b[0],a,null)}return null};
yd.B=function(a,b){a=a instanceof I?X.j?X.j(a):X.call(null,a):a instanceof gc?X.j?X.j(a):X.call(null,a):a;b=b instanceof I?X.j?X.j(b):X.call(null,b):b instanceof gc?X.j?X.j(b):X.call(null,b):b;return new I(a,b,[x(a)?[B.j(a),"/"].join(""):null,B.j(b)].join(""),null)};yd.$=2;function zd(a,b,c){this.meta=a;this.fn=b;this.s=null;this.N=c;this.F=32374988;this.P=1}g=zd.prototype;g.toString=function(){return Wb(this)};
function Ad(a){null!=a.fn&&(a.s=a.fn.O?a.fn.O():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){this.ja(null);return null==this.s?null:O(this.s)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};
g.ma=function(){return pb(lc,this.meta)};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){this.ja(null);return null==this.s?null:N(this.s)};g.xa=function(){this.ja(null);return null!=this.s?kc(this.s):lc};g.ja=function(){Ad(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof zd)a=Ad(a);else return this.s=a,J(this.s)};g.ka=function(a,b){var c=this;return b===this.meta?c:new zd(b,function(){return c.ja(null)},this.N)};
g.oa=function(a,b){return U(b,this)};zd.prototype[Da]=function(){return nc(this)};function Bd(a){this.cc=a;this.end=0;this.F=2;this.P=0}Bd.prototype.add=function(a){this.cc[this.end]=a;return this.end+=1};Bd.prototype.$a=function(){var a=new Cd(this.cc,0,this.end);this.cc=null;return a};Bd.prototype.la=function(){return this.end};function Cd(a,b,c){this.C=a;this.off=b;this.end=c;this.F=524306;this.P=0}g=Cd.prototype;g.la=function(){return this.end-this.off};
g.ea=function(a,b){return this.C[this.off+b]};g.Aa=function(a,b,c){return 0<=b&&b<this.end-this.off?this.C[this.off+b]:c};g.uc=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Cd(this.C,this.off+1,this.end)};g.qa=function(a,b){return Bc(this.C,b,this.C[this.off],this.off+1)};g.ra=function(a,b,c){return Bc(this.C,b,c,this.off)};function Dd(a,b,c,d){this.$a=a;this.Va=b;this.meta=c;this.N=d;this.F=31850732;this.P=1536}g=Dd.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return 1<Ma(this.$a)?new Dd(Lb(this.$a),this.Va,null,null):null==this.Va?null:yb(this.Va)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.wa=function(){return Sa(this.$a,0)};g.xa=function(){return 1<Ma(this.$a)?new Dd(Lb(this.$a),this.Va,null,null):null==this.Va?lc:this.Va};g.ja=function(){return this};g.hc=function(){return this.$a};g.Rb=function(){return null==this.Va?lc:this.Va};g.ka=function(a,b){return b===this.meta?this:new Dd(this.$a,this.Va,b,this.N)};g.oa=function(a,b){return U(b,this)};g.vc=function(){return null==this.Va?null:this.Va};Dd.prototype[Da]=function(){return nc(this)};
function Ed(a,b){return 0===Ma(a)?b:new Dd(a,b,null,null)}function Fd(a,b){a.add(b)}function Gd(a,b){if(Cc(b))return R(b);var c=0;for(b=J(b);;)if(null!=b&&c<a)c+=1,b=O(b);else return c}var Hd=function Hd(a){if(null==a)return null;var c=O(a);return null==c?J(N(a)):U(N(a),Hd.j?Hd.j(c):Hd.call(null,c))};
function Id(a,b,c){var d=J(c);if(0===b)return a.O?a.O():a.call(null);c=D(d);var e=Va(d);if(1===b)return a.j?a.j(c):a.call(null,c);d=D(e);var f=Va(e);if(2===b)return a.B?a.B(c,d):a.call(null,c,d);e=D(f);var h=Va(f);if(3===b)return a.D?a.D(c,d,e):a.call(null,c,d,e);f=D(h);var k=Va(h);if(4===b)return a.T?a.T(c,d,e,f):a.call(null,c,d,e,f);h=D(k);var l=Va(k);if(5===b)return a.aa?a.aa(c,d,e,f,h):a.call(null,c,d,e,f,h);k=D(l);var m=Va(l);if(6===b)return a.Na?a.Na(c,d,e,f,h,k):a.call(null,c,d,e,f,h,k);l=
D(m);var n=Va(m);if(7===b)return a.Oa?a.Oa(c,d,e,f,h,k,l):a.call(null,c,d,e,f,h,k,l);m=D(n);var p=Va(n);if(8===b)return a.za?a.za(c,d,e,f,h,k,l,m):a.call(null,c,d,e,f,h,k,l,m);n=D(p);var q=Va(p);if(9===b)return a.Pa?a.Pa(c,d,e,f,h,k,l,m,n):a.call(null,c,d,e,f,h,k,l,m,n);p=D(q);var r=Va(q);if(10===b)return a.Ca?a.Ca(c,d,e,f,h,k,l,m,n,p):a.call(null,c,d,e,f,h,k,l,m,n,p);q=D(r);var w=Va(r);if(11===b)return a.Da?a.Da(c,d,e,f,h,k,l,m,n,p,q):a.call(null,c,d,e,f,h,k,l,m,n,p,q);r=D(w);var z=Va(w);if(12===
b)return a.Ea?a.Ea(c,d,e,f,h,k,l,m,n,p,q,r):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r);w=D(z);var C=Va(z);if(13===b)return a.Fa?a.Fa(c,d,e,f,h,k,l,m,n,p,q,r,w):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w);z=D(C);var E=Va(C);if(14===b)return a.Ga?a.Ga(c,d,e,f,h,k,l,m,n,p,q,r,w,z):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z);C=D(E);var M=Va(E);if(15===b)return a.Ha?a.Ha(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C);E=D(M);var T=Va(M);if(16===b)return a.Ia?a.Ia(c,d,e,f,h,k,l,m,n,p,q,r,w,
z,C,E):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E);M=D(T);var da=Va(T);if(17===b)return a.Ja?a.Ja(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M);T=D(da);var qa=Va(da);if(18===b)return a.Ka?a.Ka(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T);da=D(qa);qa=Va(qa);if(19===b)return a.La?a.La(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da);var Zc=D(qa);Va(qa);if(20===b)return a.Ma?a.Ma(c,
d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da,Zc):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da,Zc);throw Error("Only up to 20 arguments supported on functions");}function Jd(a){return null!=a&&(a.F&128||u===a.Gb)?a.va():J(kc(a))}function Kd(a,b,c){return null==c?a.j?a.j(b):a.call(a,b):Ld(a,b,D(c),Jd(c))}function Ld(a,b,c,d){return null==d?a.B?a.B(b,c):a.call(a,b,c):Md(a,b,c,D(d),Jd(d))}function Md(a,b,c,d,e){return null==e?a.D?a.D(b,c,d):a.call(a,b,c,d):Nd(a,b,c,d,D(e),Jd(e))}
function Nd(a,b,c,d,e,f){if(null==f)return a.T?a.T(b,c,d,e):a.call(a,b,c,d,e);var h=D(f),k=O(f);if(null==k)return a.aa?a.aa(b,c,d,e,h):a.call(a,b,c,d,e,h);f=D(k);var l=O(k);if(null==l)return a.Na?a.Na(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=D(l);var m=O(l);if(null==m)return a.Oa?a.Oa(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);l=D(m);var n=O(m);if(null==n)return a.za?a.za(b,c,d,e,h,f,k,l):a.call(a,b,c,d,e,h,f,k,l);m=D(n);var p=O(n);if(null==p)return a.Pa?a.Pa(b,c,d,e,h,f,k,l,m):a.call(a,b,c,d,e,h,f,k,l,m);
n=D(p);var q=O(p);if(null==q)return a.Ca?a.Ca(b,c,d,e,h,f,k,l,m,n):a.call(a,b,c,d,e,h,f,k,l,m,n);p=D(q);var r=O(q);if(null==r)return a.Da?a.Da(b,c,d,e,h,f,k,l,m,n,p):a.call(a,b,c,d,e,h,f,k,l,m,n,p);q=D(r);var w=O(r);if(null==w)return a.Ea?a.Ea(b,c,d,e,h,f,k,l,m,n,p,q):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q);r=D(w);var z=O(w);if(null==z)return a.Fa?a.Fa(b,c,d,e,h,f,k,l,m,n,p,q,r):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r);w=D(z);var C=O(z);if(null==C)return a.Ga?a.Ga(b,c,d,e,h,f,k,l,m,n,p,q,r,w):a.call(a,b,c,d,
e,h,f,k,l,m,n,p,q,r,w);z=D(C);var E=O(C);if(null==E)return a.Ha?a.Ha(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z);C=D(E);var M=O(E);if(null==M)return a.Ia?a.Ia(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C);E=D(M);var T=O(M);if(null==T)return a.Ja?a.Ja(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E);M=D(T);var da=O(T);if(null==da)return a.Ka?a.Ka(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M):a.call(a,b,c,d,e,h,f,k,l,m,n,p,
q,r,w,z,C,E,M);T=D(da);var qa=O(da);if(null==qa)return a.La?a.La(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T);da=D(qa);qa=O(qa);if(null==qa)return a.Ma?a.Ma(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da);b=[b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da];for(c=qa;;)if(c)b.push(D(c)),c=O(c);else break;return a.apply(a,b)}
function Rc(a){switch(arguments.length){case 2:return Od(arguments[0],arguments[1]);case 3:return Pd(arguments[0],arguments[1],arguments[2]);case 4:var b=arguments[0];var c=arguments[1],d=arguments[2],e=arguments[3];b.ba?(c=U(c,U(d,e)),d=b.$,e=2+Gd(d-1,e),b=e<=d?Id(b,e,c):b.ba(c)):b=Ld(b,c,d,J(e));return b;case 5:return Qd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:b=[];e=arguments.length;for(c=0;;)if(c<e)b.push(arguments[c]),c+=1;else break;b=new K(b.slice(5),0,null);
return Rd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}function Od(a,b){if(a.ba){var c=a.$,d=Gd(c+1,b);return d<=c?Id(a,d,b):a.ba(b)}b=J(b);return null==b?a.O?a.O():a.call(a):Kd(a,D(b),Jd(b))}function Pd(a,b,c){if(a.ba){b=U(b,c);var d=a.$;c=Gd(d,c)+1;return c<=d?Id(a,c,b):a.ba(b)}return Kd(a,b,J(c))}function Qd(a,b,c,d,e){return a.ba?(b=U(b,U(c,U(d,e))),c=a.$,e=3+Gd(c-2,e),e<=c?Id(a,e,b):a.ba(b)):Md(a,b,c,d,J(e))}
function Rd(a,b,c,d,e,f){return a.ba?(f=Hd(f),b=U(b,U(c,U(d,U(e,f)))),c=a.$,f=4+Gd(c-3,f),f<=c?Id(a,f,b):a.ba(b)):Nd(a,b,c,d,e,Hd(f))}function Sd(a){if(null!=a&&(a.F&64||u===a.ub))if(O(a)){a:{var b=[];for(a=J(a);;)if(null!=a)b.push(N(a)),a=O(a);else break a}b=Nc(b)}else b=J(a)?N(a):Td;else b=a;return b}
function Ud(){if("undefined"===typeof ra||"undefined"===typeof sa||"undefined"===typeof ta)ta=function(a){this.gd=a;this.F=393216;this.P=0},ta.prototype.ka=function(a,b){return new ta(b)},ta.prototype.ha=function(){return this.gd},ta.prototype.pa=function(){return!1},ta.prototype.next=function(){return Error("No such element")},ta.prototype.remove=function(){return Error("Unsupported operation")},ta.Ib=!0,ta.nb="cljs.core/t_cljs$core20121",ta.Ub=function(a){return G(a,"cljs.core/t_cljs$core20121")};
return new ta(Td)}var Vd={},Wd={};function Xd(a){this.Cb=Vd;this._next=a}Xd.prototype.pa=function(){this.Cb===Vd?(this.Cb=Wd,this._next=J(this._next)):this.Cb===this._next&&(this._next=O(this.Cb));return null!=this._next};Xd.prototype.next=function(){if(this.pa())return this.Cb=this._next,N(this._next);throw Error("No such element");};Xd.prototype.remove=function(){return Error("Unsupported operation")};
function Yd(a,b){for(;;){if(null==J(b))return!0;var c=N(b);c=a.j?a.j(c):a.call(null,c);if(x(c))b=O(b);else return!1}}function Zd(a){for(var b=pd;;)if(a=J(a)){var c=N(a);c=b.j?b.j(c):b.call(null,c);if(x(c))return c;a=O(a)}else return null}
function $d(a,b){return new zd(null,function(){var c=J(b);if(c){if(cd(c)){for(var d=Mb(c),e=R(d),f=new Bd(Array(e)),h=0;;)if(h<e){var k=function(){var l=Sa(d,h);return a.j?a.j(l):a.call(null,l)}();null!=k&&f.add(k);h+=1}else break;return Ed(f.$a(),$d(a,Nb(c)))}e=function(){var l=N(c);return a.j?a.j(l):a.call(null,l)}();return null==e?$d(a,kc(c)):U(e,$d(a,kc(c)))}return null},null)}function ae(a){this.state=a;this.ua=this.validator=this.meta=null;this.P=16386;this.F=6455296}g=ae.prototype;
g.fa=function(a,b){return this===b};g.fb=function(){return this.state};g.ha=function(){return this.meta};g.oc=function(a,b){for(var c=J(this.ua),d=null,e=0,f=0;;)if(f<e){var h=d.ea(null,f),k=V(h,0,null);h=V(h,1,null);h.T?h.T(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=J(c))cd(c)?(d=Mb(c),c=Nb(c),k=d,e=R(d),d=k):(d=N(c),k=V(d,0,null),h=V(d,1,null),h.T?h.T(k,this,a,b):h.call(null,k,this,a,b),c=O(c),d=null,e=0),f=0;else break};g.Sb=function(a,b,c){this.ua=W.D(this.ua,b,c);return this};
g.Tb=function(a,b){return this.ua=Oc.B(this.ua,b)};g.ga=function(){return ba(this)};function be(a,b){if(a instanceof ae){var c=a.validator;if(null!=c&&!x(c.j?c.j(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.ua&&a.oc(c,b);return b}return Qb(a,b)}
var ce=function ce(a){switch(arguments.length){case 2:return ce.B(arguments[0],arguments[1]);case 3:return ce.D(arguments[0],arguments[1],arguments[2]);case 4:return ce.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return ce.K(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
ce.B=function(a,b){if(a instanceof ae){var c=a.state;b=b.j?b.j(c):b.call(null,c);a=be(a,b)}else a=Rb(a,b);return a};ce.D=function(a,b,c){if(a instanceof ae){var d=a.state;b=b.B?b.B(d,c):b.call(null,d,c);a=be(a,b)}else a=Rb(a,b,c);return a};ce.T=function(a,b,c,d){if(a instanceof ae){var e=a.state;b=b.D?b.D(e,c,d):b.call(null,e,c,d);a=be(a,b)}else a=Rb(a,b,c,d);return a};ce.K=function(a,b,c,d,e){return a instanceof ae?be(a,Qd(b,a.state,c,d,e)):Rb(a,b,c,d,e)};
ce.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);var e=O(d);d=N(e);e=O(e);return this.K(b,a,c,d,e)};ce.$=4;
var de=function de(a){switch(arguments.length){case 1:return de.j(arguments[0]);case 2:return de.B(arguments[0],arguments[1]);case 3:return de.D(arguments[0],arguments[1],arguments[2]);case 4:return de.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return de.K(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
de.j=function(a){return function(b){return function(){function c(k,l){l=a.j?a.j(l):a.call(null,l);return b.B?b.B(k,l):b.call(null,k,l)}function d(k){return b.j?b.j(k):b.call(null,k)}function e(){return b.O?b.O():b.call(null)}var f=null,h=function(){function k(m,n,p){var q=null;if(2<arguments.length){q=0;for(var r=Array(arguments.length-2);q<r.length;)r[q]=arguments[q+2],++q;q=new K(r,0,null)}return l.call(this,m,n,q)}function l(m,n,p){n=Pd(a,n,p);return b.B?b.B(m,n):b.call(null,m,n)}k.$=2;k.ba=function(m){var n=
N(m);m=O(m);var p=N(m);m=kc(m);return l(n,p,m)};k.K=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new K(p,0,null)}return h.K(k,l,n)}throw Error("Invalid arity: "+arguments.length);};f.$=2;f.ba=h.ba;f.O=e;f.j=d;f.B=c;f.K=h.K;return f}()}};
de.B=function(a,b){return new zd(null,function(){var c=J(b);if(c){if(cd(c)){for(var d=Mb(c),e=R(d),f=new Bd(Array(e)),h=0;;)if(h<e)Fd(f,function(){var k=Sa(d,h);return a.j?a.j(k):a.call(null,k)}()),h+=1;else break;return Ed(f.$a(),de.B(a,Nb(c)))}return U(function(){var k=N(c);return a.j?a.j(k):a.call(null,k)}(),de.B(a,kc(c)))}return null},null)};
de.D=function(a,b,c){return new zd(null,function(){var d=J(b),e=J(c);if(d&&e){var f=N(d);var h=N(e);f=a.B?a.B(f,h):a.call(null,f,h);d=U(f,de.D(a,kc(d),kc(e)))}else d=null;return d},null)};de.T=function(a,b,c,d){return new zd(null,function(){var e=J(b),f=J(c),h=J(d);if(e&&f&&h){var k=N(e);var l=N(f),m=N(h);k=a.D?a.D(k,l,m):a.call(null,k,l,m);e=U(k,de.T(a,kc(e),kc(f),kc(h)))}else e=null;return e},null)};
de.K=function(a,b,c,d,e){return de.B(function(f){return Od(a,f)},function k(h){return new zd(null,function(){var l=de.B(J,h);return Yd(pd,l)?U(de.B(N,l),k(de.B(kc,l))):null},null)}(Jc.K(e,d,Ic([c,b]))))};de.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);var e=O(d);d=N(e);e=O(e);return this.K(b,a,c,d,e)};de.$=4;function ee(a,b){return new zd(null,function(){if(0<a){var c=J(b);return c?U(N(c),ee(a-1,kc(c))):null}return null},null)}
function fe(a,b){return new zd(null,function(){a:for(var c=a,d=b;;)if(d=J(d),0<c&&d)--c,d=kc(d);else break a;return d},null)}function ge(a){return de.D(function(b){return b},a,fe(2,a))}function he(a,b,c,d){this.meta=a;this.count=b;this.R=c;this.next=d;this.N=null;this.F=32374988;this.P=1}g=he.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null==this.next?1<this.count?this.next=new he(null,this.count-1,this.R,null):-1===this.count?this:null:this.next};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){if(-1===this.count)for(var c=b.B?b.B(this.R,this.R):b.call(null,this.R,this.R);;){if(vc(c))return F(c);c=b.B?b.B(c,this.R):b.call(null,c,this.R)}else for(a=1,c=this.R;;)if(a<this.count){c=b.B?b.B(c,this.R):b.call(null,c,this.R);if(vc(c))return F(c);a+=1}else return c};
g.ra=function(a,b,c){if(-1===this.count)for(c=b.B?b.B(c,this.R):b.call(null,c,this.R);;){if(vc(c))return F(c);c=b.B?b.B(c,this.R):b.call(null,c,this.R)}else for(a=0;;)if(a<this.count){c=b.B?b.B(c,this.R):b.call(null,c,this.R);if(vc(c))return F(c);a+=1}else return c};g.wa=function(){return this.R};g.xa=function(){return null==this.next?1<this.count?this.next=new he(null,this.count-1,this.R,null):-1===this.count?this:lc:this.next};g.ja=function(){return this};
g.ka=function(a,b){return b===this.meta?this:new he(b,this.count,this.R,this.next)};g.oa=function(a,b){return U(b,this)};var ie=function ie(a){switch(arguments.length){case 0:return ie.O();case 1:return ie.j(arguments[0]);case 2:return ie.B(arguments[0],arguments[1]);case 3:return ie.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};ie.O=function(){return Kc};ie.j=function(a){return a};
ie.B=function(a,b){return null!=a?null!=a&&(a.P&4||u===a.Rc)?pb(Jb(Ga(Ib,Hb(a),b)),Tc(a)):Ga(Qa,a,b):Ga(Jc,a,b)};ie.D=function(a,b,c){if(null!=a&&(a.P&4||u===a.Rc)){var d=Tc(a);return qd(b,function(){function e(h){return pb(Jb(h),d)}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return Ib(h,k)}throw Error("Invalid arity: "+arguments.length);};f.j=e;f.B=function(h,k){return Ib(h,k)};return f}(),Hb(a),c)}return qd(b,Jc,a,c)};ie.$=3;
function je(a,b,c){var d=W.D,e=H.B(a,b);c=c.j?c.j(e):c.call(null,e);return d.call(W,a,b,c)}function ke(a,b,c,d){var e=W.D,f=H.B(a,b);c=c.B?c.B(f,d):c.call(null,f,d);return e.call(W,a,b,c)}function le(a,b){this.da=a;this.C=b}function me(a){return new le(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function ne(a){return new le(a.da,Ea(a.C))}
function oe(a){a=a.G;return 32>a?0:a-1>>>5<<5}function pe(a,b,c){for(;;){if(0===b)return c;var d=me(a);d.C[0]=c;c=d;b-=5}}var qe=function qe(a,b,c,d){var f=ne(c),h=a.G-1>>>b&31;5===b?f.C[h]=d:(c=c.C[h],null!=c?(b-=5,a=qe.T?qe.T(a,b,c,d):qe.call(null,a,b,c,d)):a=pe(null,b-5,d),f.C[h]=a);return f};function re(a,b){throw Error(["No item ",B.j(a)," in vector of length ",B.j(b)].join(""));}
function se(a,b){if(b>=oe(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.C[b>>>a&31];a=d}else return c.C}function te(a,b){return 0<=b&&b<a.G?se(a,b):re(b,a.G)}
var ue=function ue(a,b,c,d,e){var h=ne(c);if(0===b)h.C[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.C[k];a=ue.aa?ue.aa(a,b,c,d,e):ue.call(null,a,b,c,d,e);h.C[k]=a}return h},ve=function ve(a,b,c){var e=a.G-2>>>b&31;if(5<b){b-=5;var f=c.C[e];a=ve.D?ve.D(a,b,f):ve.call(null,a,b,f);if(null==a&&0===e)return null;c=ne(c);c.C[e]=a;return c}if(0===e)return null;c=ne(c);c.C[e]=null;return c};function we(a,b,c,d,e,f){this.i=a;this.base=b;this.C=c;this.v=d;this.start=e;this.end=f}
we.prototype.pa=function(){return this.i<this.end};we.prototype.next=function(){32===this.i-this.base&&(this.C=se(this.v,this.i),this.base+=32);var a=this.C[this.i&31];this.i+=1;return a};function xe(a,b,c){return new we(b,b-b%32,b<R(a)?se(a,b):null,a,b,c)}function ye(a,b,c,d){return c<d?ze(a,b,Ec(a,c),c+1,d):b.O?b.O():b.call(null)}
function ze(a,b,c,d,e){var f=c;c=d;for(d=se(a,d);;)if(c<e){var h=c&31;d=0===h?se(a,c):d;h=d[h];f=b.B?b.B(f,h):b.call(null,f,h);if(vc(f))return F(f);c+=1}else return f}function Y(a,b,c,d,e,f){this.meta=a;this.G=b;this.shift=c;this.root=d;this.tail=e;this.N=f;this.F=167666463;this.P=139268}g=Y.prototype;g.tb=function(a,b){return 0<=b&&b<this.G?new Ae(b,se(this,b)[b&31]):null};g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
g.Db=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=se(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.D?b.D(d,h,k):b.call(null,d,h,k);if(vc(d)){e=d;break a}f+=1}else{e=d;break a}if(vc(e))return F(e);a+=c;d=e}else return d};g.fc=u;g.ea=function(a,b){return te(this,b)[b&31]};g.Aa=function(a,b,c){return 0<=b&&b<this.G?se(this,b)[b&31]:c};
g.mb=function(a,b,c){if(0<=b&&b<this.G)return oe(this)<=b?(a=Ea(this.tail),a[b&31]=c,new Y(this.meta,this.G,this.shift,this.root,a,null)):new Y(this.meta,this.G,this.shift,ue(this,this.shift,this.root,b,c),this.tail,null);if(b===this.G)return this.oa(null,c);throw Error(["Index ",B.j(b)," out of bounds  [0,",B.j(this.G),"]"].join(""));};g.Qa=function(){return xe(this,0,this.G)};g.ha=function(){return this.meta};g.la=function(){return this.G};
g.vb=function(){return 0<this.G?this.ea(null,this.G-1):null};g.wb=function(){if(0===this.G)throw Error("Can't pop empty vector");if(1===this.G)return pb(Kc,this.meta);if(1<this.G-oe(this))return new Y(this.meta,this.G-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=se(this,this.G-2),b=ve(this,this.shift,this.root);b=null==b?Z:b;var c=this.G-1;return 5<this.shift&&null==b.C[1]?new Y(this.meta,c,this.shift-5,b.C[0],a,null):new Y(this.meta,c,this.shift,b,a,null)};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){if(b instanceof Y)if(this.G===R(b))for(a=this.Qa(null),b=b.Qa(null);;)if(a.pa()){var c=a.next(),d=b.next();if(!P.B(c,d))return!1}else return!0;else return!1;else return Hc(this,b)};g.sb=function(){return new Be(this.G,this.shift,Ce.j?Ce.j(this.root):Ce.call(null,this.root),De.j?De.j(this.tail):De.call(null,this.tail))};g.ma=function(){return pb(Kc,this.meta)};g.qa=function(a,b){return ye(this,b,0,this.G)};
g.ra=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=se(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.B?b.B(d,h):b.call(null,d,h);if(vc(d)){e=d;break a}f+=1}else{e=d;break a}if(vc(e))return F(e);a+=c;d=e}else return d};g.ab=function(a,b,c){if("number"===typeof b)return this.mb(null,b,c);throw Error("Vector's key for assoc must be a number.");};g.lb=function(a,b){return hd(b)?0<=b&&b<this.G:!1};
g.ja=function(){if(0===this.G)return null;if(32>=this.G)return new K(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.C[0];else{a=a.C;break a}}return Ee?Ee(this,a,0,0):Fe.call(null,this,a,0,0)};g.ka=function(a,b){return b===this.meta?this:new Y(b,this.G,this.shift,this.root,this.tail,this.N)};
g.oa=function(a,b){if(32>this.G-oe(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new Y(this.meta,this.G+1,this.shift,this.root,c,null)}a=(c=this.G>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=me(null),c.C[0]=this.root,d=pe(null,this.shift,new le(null,this.tail)),c.C[1]=d):c=qe(this,this.shift,this.root,new le(null,this.tail));return new Y(this.meta,this.G+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){if("number"===typeof a)return this.ea(null,a);throw Error("Key must be integer");};
var Z=new le(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Kc=new Y(null,0,5,Z,[],qc);function Ge(a,b){var c=a.length;a=b?a:Ea(a);if(32>c)return new Y(null,c,5,Z,a,null);var d=a.slice(0,32);b=32;for(var e=(new Y(null,32,5,Z,d,null)).sb(null);;)if(b<c)d=b+1,e=Ib(e,a[b]),b=d;else return Jb(e)}Y.prototype[Da]=function(){return nc(this)};
function He(a){return x(Ie.j?Ie.j(a):Ie.call(null,a))?new Y(null,2,5,Z,[Je.j?Je.j(a):Je.call(null,a),Ke.j?Ke.j(a):Ke.call(null,a)],null):bd(a)?Sc(a,null):Ba(a)?Ge(a,!0):Jb(Ga(Ib,Hb(Kc),a))}var Le=function Le(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return Le.K(c)};Le.K=function(a){return a instanceof K&&0===a.i?Ge(a.C,!Ba(a.C)):He(a)};Le.$=0;Le.ba=function(a){return this.K(J(a))};
function Me(a,b,c,d,e){this.Ba=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.N=null;this.F=32375020;this.P=1536}g=Me.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){if(this.off+1<this.node.length){var a=this.Ba;var b=this.node,c=this.i,d=this.off+1;a=Ee?Ee(a,b,c,d):Fe.call(null,a,b,c,d);return null==a?null:a}return this.vc()};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return ye(this.Ba,b,this.i+this.off,R(this.Ba))};g.ra=function(a,b,c){return ze(this.Ba,b,c,this.i+this.off,R(this.Ba))};g.wa=function(){return this.node[this.off]};g.xa=function(){if(this.off+1<this.node.length){var a=this.Ba;var b=this.node,c=this.i,d=this.off+1;a=Ee?Ee(a,b,c,d):Fe.call(null,a,b,c,d);return null==a?lc:a}return this.Rb(null)};g.ja=function(){return this};
g.hc=function(){var a=this.node;return new Cd(a,this.off,a.length)};g.Rb=function(){var a=this.i+this.node.length;if(a<Ma(this.Ba)){var b=this.Ba,c=se(this.Ba,a);return Ee?Ee(b,c,a,0):Fe.call(null,b,c,a,0)}return lc};g.ka=function(a,b){return b===this.meta?this:Ne?Ne(this.Ba,this.node,this.i,this.off,b):Fe.call(null,this.Ba,this.node,this.i,this.off,b)};g.oa=function(a,b){return U(b,this)};
g.vc=function(){var a=this.i+this.node.length;if(a<Ma(this.Ba)){var b=this.Ba,c=se(this.Ba,a);return Ee?Ee(b,c,a,0):Fe.call(null,b,c,a,0)}return null};Me.prototype[Da]=function(){return nc(this)};
function Fe(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Me(b,te(b,c),c,d,null);case 4:return Ee(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ne(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function Ee(a,b,c,d){return new Me(a,b,c,d,null)}function Ne(a,b,c,d,e){return new Me(a,b,c,d,e)}
function Oe(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.N=e;this.F=167666463;this.P=139264}g=Oe.prototype;g.tb=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new Ae(b,Ya(this.v,a)):null};g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
g.Db=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=Sa(this.v,a);c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(vc(c))return F(c);d+=1;a+=1}else return c};g.ea=function(a,b){return 0>b||this.end<=this.start+b?re(b,this.end-this.start):Sa(this.v,this.start+b)};g.Aa=function(a,b,c){return 0>b||this.end<=this.start+b?c:Sa(this.v,this.start+b,c)};
g.mb=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",B.j(b)," out of bounds [0,",B.j(this.la(null)),"]"].join(""));b=this.meta;c=W.D(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return Pe.aa?Pe.aa(b,c,d,a,null):Pe.call(null,b,c,d,a,null)};g.Qa=function(){return null!=this.v&&u===this.v.fc?xe(this.v,this.start,this.end):new Xd(this)};g.ha=function(){return this.meta};g.la=function(){return this.end-this.start};
g.vb=function(){return this.start===this.end?null:Sa(this.v,this.end-1)};g.wb=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return Pe.aa?Pe.aa(a,b,c,d,null):Pe.call(null,a,b,c,d,null)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return pb(Kc,this.meta)};
g.qa=function(a,b){return null!=this.v&&u===this.v.fc?ye(this.v,b,this.start,this.end):xc(this,b)};g.ra=function(a,b,c){return null!=this.v&&u===this.v.fc?ze(this.v,b,c,this.start,this.end):yc(this,b,c)};g.ab=function(a,b,c){if("number"===typeof b)return this.mb(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.lb=function(a,b){return hd(b)?0<=b&&b<this.end-this.start:!1};
g.ja=function(){var a=this;return function d(c){return c===a.end?null:U(Sa(a.v,c),new zd(null,function(){return d(c+1)},null))}(a.start)};g.ka=function(a,b){return b===this.meta?this:Pe.aa?Pe.aa(b,this.v,this.start,this.end,this.N):Pe.call(null,b,this.v,this.start,this.end,this.N)};g.oa=function(a,b){a=this.meta;b=mb(this.v,this.end,b);var c=this.start,d=this.end+1;return Pe.aa?Pe.aa(a,b,c,d,null):Pe.call(null,a,b,c,d,null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ea(null,a)};g.B=function(a,b){return this.Aa(null,a,b)};Oe.prototype[Da]=function(){return nc(this)};
function Pe(a,b,c,d,e){for(;;)if(b instanceof Oe)c=b.start+c,d=b.start+d,b=b.v;else{if(!bd(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>R(b))throw Error("Index out of bounds");return new Oe(a,b,c,d,e)}}function Qe(a,b){return a===b.da?b:new le(a,Ea(b.C))}function Ce(a){return new le({},Ea(a.C))}
function De(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];dd(a,0,b,0,a.length);return b}var Re=function Re(a,b,c,d){c=Qe(a.root.da,c);var f=a.G-1>>>b&31;if(5===b)a=d;else{var h=c.C[f];null!=h?(b-=5,a=Re.T?Re.T(a,b,h,d):Re.call(null,a,b,h,d)):a=pe(a.root.da,b-5,d)}c.C[f]=a;return c};function Be(a,b,c,d){this.G=a;this.shift=b;this.root=c;this.tail=d;this.P=88;this.F=275}g=Be.prototype;
g.yb=function(a,b){if(this.root.da){if(32>this.G-oe(this))this.tail[this.G&31]=b;else{a=new le(this.root.da,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.G>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=pe(this.root.da,this.shift,a),this.root=new le(this.root.da,b),this.shift=c):this.root=Re(this,this.shift,this.root,a)}this.G+=1;return this}throw Error("conj! after persistent!");};g.Hb=function(){if(this.root.da){this.root.da=null;var a=this.G-oe(this),b=Array(a);dd(this.tail,0,b,0,a);return new Y(null,this.G,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.xb=function(a,b,c){if("number"===typeof b)return Se(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Se(a,b,c){if(a.root.da){if(0<=b&&b<a.G){if(oe(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=Qe(a.root.da,h);if(0===f)h.C[b&31]=c;else{var l=b>>>f&31;f=k(f-5,h.C[l]);h.C[l]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.G)return a.yb(null,c);throw Error(["Index ",B.j(b)," out of bounds for TransientVector of length",B.j(a.G)].join(""));}throw Error("assoc! after persistent!");}g.la=function(){if(this.root.da)return this.G;throw Error("count after persistent!");};
g.ea=function(a,b){if(this.root.da)return te(this,b)[b&31];throw Error("nth after persistent!");};g.Aa=function(a,b,c){return 0<=b&&b<this.G?this.ea(null,b):c};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){if(this.root.da)return"number"===typeof b?this.Aa(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};function Te(){this.F=2097152;this.P=0}Te.prototype.fa=function(){return!1};var Ue=new Te;
function Ve(a,b){return fd($c(b)&&!ad(b)?R(a)===R(b)?(null!=a?a.F&1048576||u===a.vd||(a.F?0:y(tb,a)):y(tb,a))?od(function(c,d,e){return P.B(H.D(b,d,Ue),e)?!0:new uc},!0,a):Yd(function(c){return P.B(H.D(b,N(c),Ue),N(O(c)))},a):null:null)}function We(a){this.s=a}We.prototype.next=function(){if(null!=this.s){var a=N(this.s),b=V(a,0,null);a=V(a,1,null);this.s=O(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Xe(a){this.s=a}
Xe.prototype.next=function(){if(null!=this.s){var a=N(this.s);this.s=O(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Ye(a,b){if(b instanceof I)a:{var c=a.length;b=b.Ra;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof I&&b===a[d].Ra){a=d;break a}d+=2}}else if("string"===typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof gc)a:for(c=a.length,b=b.jb,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof gc&&b===a[d].jb){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(P.B(b,a[d])){a=d;break a}d+=2}return a}function Ae(a,b){this.key=a;this.R=b;this.N=null;this.F=166619935;this.P=0}g=Ae.prototype;g.tb=function(a,b){switch(b){case 0:return new Ae(0,this.key);case 1:return new Ae(1,this.R);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.Aa(null,b,null)};g.ca=function(a,b,c){return this.Aa(null,b,c)};g.ea=function(a,b){if(0===b)return this.key;if(1===b)return this.R;throw Error("Index out of bounds");};
g.Aa=function(a,b,c){return 0===b?this.key:1===b?this.R:c};g.mb=function(a,b,c){return(new Y(null,2,5,Z,[this.key,this.R],null)).mb(null,b,c)};g.ha=function(){return null};g.la=function(){return 2};g.Xc=function(){return this.key};g.Yc=function(){return this.R};g.vb=function(){return this.R};g.wb=function(){return new Y(null,1,5,Z,[this.key],null)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return null};
g.qa=function(a,b){return xc(this,b)};g.ra=function(a,b,c){return yc(this,b,c)};g.ab=function(a,b,c){return W.D(new Y(null,2,5,Z,[this.key,this.R],null),b,c)};g.lb=function(a,b){return 0===b||1===b};g.ja=function(){return new K([this.key,this.R],0,null)};g.ka=function(a,b){return Sc(new Y(null,2,5,Z,[this.key,this.R],null),b)};g.oa=function(a,b){return new Y(null,3,5,Z,[this.key,this.R,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ea(null,a)};g.B=function(a,b){return this.Aa(null,a,b)};function Ie(a){return null!=a?a.F&2048||u===a.yd?!0:!1:!1}function Ze(a,b,c){this.C=a;this.i=b;this.Ya=c;this.F=32374990;this.P=0}g=Ze.prototype;
g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){return this.i<this.C.length-2?new Ze(this.C,this.i+2,null):null};g.la=function(){return(this.C.length-this.i)/2};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return new Ae(this.C[this.i],this.C[this.i+1])};g.xa=function(){return this.i<this.C.length-2?new Ze(this.C,this.i+2,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Ze(this.C,this.i,b)};g.oa=function(a,b){return U(b,this)};Ze.prototype[Da]=function(){return nc(this)};
function $e(a,b){this.C=a;this.i=0;this.G=b}$e.prototype.pa=function(){return this.i<this.G};$e.prototype.next=function(){var a=new Ae(this.C[this.i],this.C[this.i+1]);this.i+=2;return a};function v(a,b,c,d){this.meta=a;this.G=b;this.C=c;this.N=d;this.F=16647951;this.P=139268}g=v.prototype;g.tb=function(a,b){a=Ye(this.C,b);return-1===a?null:new Ae(this.C[a],this.C[a+1])};g.toString=function(){return Wb(this)};g.keys=function(){return nc(af.j?af.j(this):af.call(null,this))};g.entries=function(){return new We(J(J(this)))};
g.values=function(){return nc(bf.j?bf.j(this):bf.call(null,this))};g.has=function(a){return id(this,a)};g.get=function(a,b){return this.ca(null,a,b)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};
g.ca=function(a,b,c){a=Ye(this.C,b);return-1===a?c:this.C[a+1]};g.Db=function(a,b,c){a=this.C.length;for(var d=0;;)if(d<a){var e=this.C[d],f=this.C[d+1];c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(vc(c))return F(c);d+=2}else return c};g.Qa=function(){return new $e(this.C,2*this.G)};g.ha=function(){return this.meta};g.la=function(){return this.G};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=rc(this)};
g.fa=function(a,b){if($c(b)&&!ad(b))if(a=this.C.length,this.G===b.la(null))for(var c=0;;)if(c<a){var d=b.ca(null,this.C[c],ed);if(d!==ed)if(P.B(this.C[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.sb=function(){return new cf(this.C.length,Ea(this.C))};g.ma=function(){return pb(Td,this.meta)};g.qa=function(a,b){return ld(this,b)};g.ra=function(a,b,c){return md(this,b,c)};
g.jc=function(a,b){if(0<=Ye(this.C,b)){a=this.C.length;var c=a-2;if(0===c)return this.ma(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new v(this.meta,this.G-1,c,null);P.B(b,this.C[d])?d+=2:(c[e]=this.C[d],c[e+1]=this.C[d+1],e+=2,d+=2)}}else return this};
g.ab=function(a,b,c){a=Ye(this.C,b);if(-1===a){if(this.G<df){a=this.C;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new v(this.meta,this.G+1,e,null)}return pb(bb(ie.B(ef,this),b,c),this.meta)}if(c===this.C[a+1])return this;b=Ea(this.C);b[a+1]=c;return new v(this.meta,this.G,b,null)};g.lb=function(a,b){return-1!==Ye(this.C,b)};g.ja=function(){var a=this.C;return 0<=a.length-2?new Ze(a,0,null):null};
g.ka=function(a,b){return b===this.meta?this:new v(b,this.G,this.C,this.N)};g.oa=function(a,b){if(bd(b))return this.ab(null,Sa(b,0),Sa(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=N(b);if(bd(c))a=bb(a,Sa(c,0),Sa(c,1)),b=O(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};var Td=new v(null,0,[],sc),df=8;function ff(a,b){return a===b?!0:a===b||a instanceof I&&b instanceof I&&a.Ra===b.Ra?!0:P.B(a,b)}
function gf(a){for(var b=0,c=0;;)if(b<a.length){var d;a:for(d=0;;)if(d<b){var e=ff(a[b],a[d]);if(e){d=e;break a}d=2+d}else{d=!1;break a}c=d?c:c+2;b=2+b}else return c}function hf(a,b){var c=a.length-1,d=J(b);b=Array(c+2*R(d));a=dd(a,0,b,0,c);for(b=c;;)if(d){var e=N(d);a[b]=fb(e);a[b+1]=gb(e);b=2+c;d=O(d)}else return a}
function Nc(a){var b=a.length,c=1===(b&1),d;if(!(d=c))a:for(d=0;;)if(d<a.length){var e;b:for(e=0;;)if(e<d){var f=ff(a[d],a[e]);if(f){e=f;break b}e=2+e}else{e=!1;break b}if(e){d=e;break a}d=2+d}else{d=!1;break a}return d?jf(a,c):new v(null,b/2,a,null)}
function jf(a,b){var c=b?hf(a,ie.B(Td,a[a.length-1])):a;a=gf(c);var d=c.length;if(a<d){a=Array(a);for(var e=0,f=0;;)if(e<d)(function(){for(var h=0;;)if(h<f){var k=ff(c[e],c[h]);if(k)return k;h=2+h}else return!1})()?(b=f,e=2+e,f=b):(b=function(){for(var h=d-2;;)if(h>=e){if(ff(c[e],c[h]))return h;h-=2}else return h}(),a[f]=c[e],a[f+1]=c[b+1],b=2+f,e=2+e,f=b);else break;return new v(null,a.length/2,a,null)}return new v(null,c.length/2,c,null)}v.prototype[Da]=function(){return nc(this)};
function cf(a,b){this.zb={};this.pb=a;this.C=b;this.F=259;this.P=56}g=cf.prototype;g.la=function(){if(this.zb)return td(this.pb);throw Error("count after persistent!");};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){if(this.zb)return a=Ye(this.C,b),-1===a?c:this.C[a+1];throw Error("lookup after persistent!");};
g.yb=function(a,b){if(this.zb){if(Ie(b))return this.xb(null,Je.j?Je.j(b):Je.call(null,b),Ke.j?Ke.j(b):Ke.call(null,b));if(bd(b))return this.xb(null,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));a=J(b);for(b=this;;){var c=N(a);if(x(c))a=O(a),b=Kb(b,Je.j?Je.j(c):Je.call(null,c),Ke.j?Ke.j(c):Ke.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.Hb=function(){if(this.zb)return this.zb=!1,new v(null,td(this.pb),this.C,null);throw Error("persistent! called twice");};
g.xb=function(a,b,c){if(this.zb){a=Ye(this.C,b);if(-1===a){if(this.pb+2<=2*df)return this.pb+=2,this.C.push(b),this.C.push(c),this;a=kf.B?kf.B(this.pb,this.C):kf.call(null,this.pb,this.C);return Kb(a,b,c)}c!==this.C[a+1]&&(this.C[a+1]=c);return this}throw Error("assoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ca(null,a,null)};g.B=function(a,b){return this.ca(null,a,b)};function kf(a,b){for(var c=Hb(ef),d=0;;)if(d<a)c=Kb(c,b[d],b[d+1]),d+=2;else return c}function lf(){this.R=!1}function mf(a,b,c){a=Ea(a);a[b]=c;return a}function nf(a,b){var c=Array(a.length-2);dd(a,0,c,0,2*b);dd(a,2*(b+1),c,2*b,c.length-2*b);return c}function of(a,b,c,d){a=a.ob(b);a.C[c]=d;return a}
function pf(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.D?b.D(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Mb(b,f):f;if(vc(c))return c;e+=2;f=c}else return f}function qf(a){this.C=a;this.i=0;this.Wa=this.Nb=null}qf.prototype.advance=function(){for(var a=this.C.length;;)if(this.i<a){var b=this.C[this.i],c=this.C[this.i+1];null!=b?b=this.Nb=new Ae(b,c):null!=c?(b=Ub(c),b=b.pa()?this.Wa=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
qf.prototype.pa=function(){var a=null!=this.Nb;return a?a:(a=null!=this.Wa)?a:this.advance()};qf.prototype.next=function(){if(null!=this.Nb){var a=this.Nb;this.Nb=null;return a}if(null!=this.Wa)return a=this.Wa.next(),this.Wa.pa()||(this.Wa=null),a;if(this.advance())return this.next();throw Error("No such element");};qf.prototype.remove=function(){return Error("Unsupported operation")};function rf(a,b,c){this.da=a;this.bitmap=b;this.C=c;this.P=131072;this.F=0}g=rf.prototype;
g.ob=function(a){if(a===this.da)return this;var b=ud(this.bitmap),c=Array(0>b?4:2*(b+1));dd(this.C,0,c,0,2*b);return new rf(a,this.bitmap,c)};g.Kb=function(){return sf?sf(this.C):tf.call(null,this.C)};g.Mb=function(a,b){return pf(this.C,a,b)};g.hb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ud(this.bitmap&e-1);e=this.C[2*f];f=this.C[2*f+1];return null==e?f.hb(a+5,b,c,d):ff(c,e)?f:d};
g.Ua=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=ud(this.bitmap&h-1);if(0===(this.bitmap&h)){var l=ud(this.bitmap);if(2*l<this.C.length){a=this.ob(a);b=a.C;f.R=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=uf.Ua(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0===
(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.C[e]?uf.Ua(a,b+5,ec(this.C[e]),this.C[e],this.C[e+1],f):this.C[e+1],e+=2,d+=1);else break;return new vf(a,l+1,k)}b=Array(2*(l+4));dd(this.C,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;dd(this.C,2*k,b,2*(k+1),2*(l-k));f.R=!0;a=this.ob(a);a.C=b;a.bitmap|=h;return a}l=this.C[2*k];h=this.C[2*k+1];if(null==l)return l=h.Ua(a,b+5,c,d,e,f),l===h?this:of(this,a,2*k+1,l);if(ff(d,l))return e===h?this:of(this,a,2*k+1,e);f.R=!0;f=b+5;d=wf?wf(a,f,l,h,c,d,e):xf.call(null,a,f,l,h,c,d,
e);e=2*k;k=2*k+1;a=this.ob(a);a.C[e]=null;a.C[k]=d;return a};
g.Ta=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=ud(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=ud(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=uf.Ta(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.C[d]?uf.Ta(a+5,ec(this.C[d]),this.C[d],this.C[d+1],e):this.C[d+1],d+=2,c+=1);else break;return new vf(null,k+1,h)}a=Array(2*
(k+1));dd(this.C,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;dd(this.C,2*h,a,2*(h+1),2*(k-h));e.R=!0;return new rf(null,this.bitmap|f,a)}var l=this.C[2*h];f=this.C[2*h+1];if(null==l)return k=f.Ta(a+5,b,c,d,e),k===f?this:new rf(null,this.bitmap,mf(this.C,2*h+1,k));if(ff(c,l))return d===f?this:new rf(null,this.bitmap,mf(this.C,2*h+1,d));e.R=!0;e=this.bitmap;k=this.C;a+=5;a=yf?yf(a,l,f,b,c,d):xf.call(null,a,l,f,b,c,d);c=2*h;h=2*h+1;d=Ea(k);d[c]=null;d[h]=a;return new rf(null,e,d)};
g.Jb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ud(this.bitmap&e-1);e=this.C[2*f];f=this.C[2*f+1];return null==e?f.Jb(a+5,b,c,d):ff(c,e)?new Ae(e,f):d};
g.Lb=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=ud(this.bitmap&d-1),f=this.C[2*e],h=this.C[2*e+1];return null==f?(a=h.Lb(a+5,b,c),a===h?this:null!=a?new rf(null,this.bitmap,mf(this.C,2*e+1,a)):this.bitmap===d?null:new rf(null,this.bitmap^d,nf(this.C,e))):ff(c,f)?this.bitmap===d?null:new rf(null,this.bitmap^d,nf(this.C,e)):this};g.Qa=function(){return new qf(this.C)};var uf=new rf(null,0,[]);function zf(a){this.C=a;this.i=0;this.Wa=null}
zf.prototype.pa=function(){for(var a=this.C.length;;){if(null!=this.Wa&&this.Wa.pa())return!0;if(this.i<a){var b=this.C[this.i];this.i+=1;null!=b&&(this.Wa=Ub(b))}else return!1}};zf.prototype.next=function(){if(this.pa())return this.Wa.next();throw Error("No such element");};zf.prototype.remove=function(){return Error("Unsupported operation")};function vf(a,b,c){this.da=a;this.G=b;this.C=c;this.P=131072;this.F=0}g=vf.prototype;g.ob=function(a){return a===this.da?this:new vf(a,this.G,Ea(this.C))};
g.Kb=function(){return Af?Af(this.C):Bf.call(null,this.C)};g.Mb=function(a,b){for(var c=this.C.length,d=0;;)if(d<c){var e=this.C[d];if(null!=e){b=e.Mb(a,b);if(vc(b))return b;d+=1}else d+=1}else return b};g.hb=function(a,b,c,d){var e=this.C[b>>>a&31];return null!=e?e.hb(a+5,b,c,d):d};g.Ua=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.C[h];if(null==k)return a=of(this,a,h,uf.Ua(a,b+5,c,d,e,f)),a.G+=1,a;b=k.Ua(a,b+5,c,d,e,f);return b===k?this:of(this,a,h,b)};
g.Ta=function(a,b,c,d,e){var f=b>>>a&31,h=this.C[f];if(null==h)return new vf(null,this.G+1,mf(this.C,f,uf.Ta(a+5,b,c,d,e)));a=h.Ta(a+5,b,c,d,e);return a===h?this:new vf(null,this.G,mf(this.C,f,a))};g.Jb=function(a,b,c,d){var e=this.C[b>>>a&31];return null!=e?e.Jb(a+5,b,c,d):d};
g.Lb=function(a,b,c){var d=b>>>a&31,e=this.C[d];if(null!=e){a=e.Lb(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.G)a:{e=this.C;a=e.length;b=Array(2*(this.G-1));c=0;for(var f=1,h=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,h|=1<<c,c+=1):c+=1;else{d=new rf(null,h,b);break a}}else d=new vf(null,this.G-1,mf(this.C,d,a));else d=new vf(null,this.G,mf(this.C,d,a));return d}return this};g.Qa=function(){return new zf(this.C)};
function Cf(a,b,c){b*=2;for(var d=0;;)if(d<b){if(ff(c,a[d]))return d;d+=2}else return-1}function Df(a,b,c,d){this.da=a;this.bb=b;this.G=c;this.C=d;this.P=131072;this.F=0}g=Df.prototype;g.ob=function(a){if(a===this.da)return this;var b=Array(2*(this.G+1));dd(this.C,0,b,0,2*this.G);return new Df(a,this.bb,this.G,b)};g.Kb=function(){return sf?sf(this.C):tf.call(null,this.C)};g.Mb=function(a,b){return pf(this.C,a,b)};
g.hb=function(a,b,c,d){a=Cf(this.C,this.G,c);return 0>a?d:ff(c,this.C[a])?this.C[a+1]:d};
g.Ua=function(a,b,c,d,e,f){if(c===this.bb){b=Cf(this.C,this.G,d);if(-1===b){if(this.C.length>2*this.G)return b=2*this.G,c=2*this.G+1,a=this.ob(a),a.C[b]=d,a.C[c]=e,f.R=!0,a.G+=1,a;c=this.C.length;b=Array(c+2);dd(this.C,0,b,0,c);b[c]=d;b[c+1]=e;f.R=!0;d=this.G+1;a===this.da?(this.C=b,this.G=d,a=this):a=new Df(this.da,this.bb,d,b);return a}return this.C[b+1]===e?this:of(this,a,b+1,e)}return(new rf(a,1<<(this.bb>>>b&31),[null,this,null,null])).Ua(a,b,c,d,e,f)};
g.Ta=function(a,b,c,d,e){return b===this.bb?(a=Cf(this.C,this.G,c),-1===a?(a=2*this.G,b=Array(a+2),dd(this.C,0,b,0,a),b[a]=c,b[a+1]=d,e.R=!0,new Df(null,this.bb,this.G+1,b)):P.B(this.C[a+1],d)?this:new Df(null,this.bb,this.G,mf(this.C,a+1,d))):(new rf(null,1<<(this.bb>>>a&31),[null,this])).Ta(a,b,c,d,e)};g.Jb=function(a,b,c,d){a=Cf(this.C,this.G,c);return 0>a?d:ff(c,this.C[a])?new Ae(this.C[a],this.C[a+1]):d};
g.Lb=function(a,b,c){a=Cf(this.C,this.G,c);return-1===a?this:1===this.G?null:new Df(null,this.bb,this.G-1,nf(this.C,td(a)))};g.Qa=function(){return new qf(this.C)};function xf(a){switch(arguments.length){case 6:return yf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return wf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}
function yf(a,b,c,d,e,f){var h=ec(b);if(h===d)return new Df(null,h,2,[b,c,e,f]);var k=new lf;return uf.Ta(a,h,b,c,k).Ta(a,d,e,f,k)}function wf(a,b,c,d,e,f,h){var k=ec(c);if(k===e)return new Df(null,k,2,[c,d,f,h]);var l=new lf;return uf.Ua(a,b,k,c,d,l).Ua(a,b,e,f,h,l)}function Ef(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.N=e;this.F=32374988;this.P=0}g=Ef.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return Ff?Ff(a,b,null):tf.call(null,a,b,null)}a=this.nodes;b=this.i;var c=O(this.s);return Ff?Ff(a,b,c):tf.call(null,a,b,c)};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return null==this.s?new Ae(this.nodes[this.i],this.nodes[this.i+1]):N(this.s)};
g.xa=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return Ff?Ff(c,d,null):tf.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=O(a.s);return Ff?Ff(c,d,e):tf.call(null,c,d,e)}();return null!=b?b:lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Ef(b,this.nodes,this.i,this.s,this.N)};g.oa=function(a,b){return U(b,this)};Ef.prototype[Da]=function(){return nc(this)};
function tf(a){switch(arguments.length){case 1:return sf(arguments[0]);case 3:return Ff(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function sf(a){return Ff(a,0,null)}function Ff(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Ef(null,a,b,null,null);var d=a[b+1];if(x(d)&&(d=d.Kb(),x(d)))return new Ef(null,a,b+2,d,null);b+=2}else return null;else return new Ef(null,a,b,c,null)}
function Gf(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.N=e;this.F=32374988;this.P=0}g=Gf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){var a=this.nodes,b=this.i,c=O(this.s);return Hf?Hf(a,b,c):Bf.call(null,a,b,c)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return N(this.s)};g.xa=function(){var a=this.nodes;var b=this.i,c=O(this.s);a=Hf?Hf(a,b,c):Bf.call(null,a,b,c);return null!=a?a:lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Gf(b,this.nodes,this.i,this.s,this.N)};g.oa=function(a,b){return U(b,this)};Gf.prototype[Da]=function(){return nc(this)};
function Bf(a){switch(arguments.length){case 1:return Af(arguments[0]);case 3:return Hf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function Af(a){return Hf(a,0,null)}function Hf(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(x(d)&&(d=d.Kb(),x(d)))return new Gf(null,a,b+1,d,null);b+=1}else return null;else return new Gf(null,a,b,c,null)}function If(a,b){this.ta=a;this.Lc=b;this.seen=!1}
If.prototype.pa=function(){return!this.seen||this.Lc.pa()};If.prototype.next=function(){if(this.seen)return this.Lc.next();this.seen=!0;return new Ae(null,this.ta)};If.prototype.remove=function(){return Error("Unsupported operation")};function Jf(a,b,c,d,e,f){this.meta=a;this.G=b;this.root=c;this.sa=d;this.ta=e;this.N=f;this.F=16123663;this.P=139268}g=Jf.prototype;g.tb=function(a,b){return null==b?this.sa?new Ae(null,this.ta):null:null==this.root?null:this.root.Jb(0,ec(b),b,null)};g.toString=function(){return Wb(this)};
g.keys=function(){return nc(af.j?af.j(this):af.call(null,this))};g.entries=function(){return new We(J(J(this)))};g.values=function(){return nc(bf.j?bf.j(this):bf.call(null,this))};g.has=function(a){return id(this,a)};g.get=function(a,b){return this.ca(null,a,b)};
g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return null==b?this.sa?this.ta:c:null==this.root?c:this.root.hb(0,ec(b),b,c)};
g.Db=function(a,b,c){a=this.sa?b.D?b.D(c,null,this.ta):b.call(null,c,null,this.ta):c;vc(a)?b=F(a):null!=this.root?(b=this.root.Mb(b,a),b=vc(b)?wc.j?wc.j(b):wc.call(null,b):b):b=a;return b};g.Qa=function(){var a=this.root?Ub(this.root):Ud();return this.sa?new If(this.ta,a):a};g.ha=function(){return this.meta};g.la=function(){return this.G};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=rc(this)};g.fa=function(a,b){return Ve(this,b)};g.sb=function(){return new Kf(this.root,this.G,this.sa,this.ta)};
g.ma=function(){return pb(ef,this.meta)};g.jc=function(a,b){if(null==b)return this.sa?new Jf(this.meta,this.G-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Lb(0,ec(b),b);return a===this.root?this:new Jf(this.meta,this.G-1,a,this.sa,this.ta,null)};
g.ab=function(a,b,c){if(null==b)return this.sa&&c===this.ta?this:new Jf(this.meta,this.sa?this.G:this.G+1,this.root,!0,c,null);a=new lf;b=(null==this.root?uf:this.root).Ta(0,ec(b),b,c,a);return b===this.root?this:new Jf(this.meta,a.R?this.G+1:this.G,b,this.sa,this.ta,null)};g.lb=function(a,b){return null==b?this.sa:null==this.root?!1:this.root.hb(0,ec(b),b,ed)!==ed};g.ja=function(){if(0<this.G){var a=null!=this.root?this.root.Kb():null;return this.sa?U(new Ae(null,this.ta),a):a}return null};
g.ka=function(a,b){return b===this.meta?this:new Jf(b,this.G,this.root,this.sa,this.ta,this.N)};g.oa=function(a,b){if(bd(b))return this.ab(null,Sa(b,0),Sa(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=N(b);if(bd(c))a=bb(a,Sa(c,0),Sa(c,1)),b=O(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};var ef=new Jf(null,0,null,!1,null,sc);Jf.prototype[Da]=function(){return nc(this)};
function Kf(a,b,c,d){this.da={};this.root=a;this.count=b;this.sa=c;this.ta=d;this.F=259;this.P=56}function Lf(a,b,c){if(a.da){if(null==b)a.ta!==c&&(a.ta=c),a.sa||(a.count+=1,a.sa=!0);else{var d=new lf;b=(null==a.root?uf:a.root).Ua(a.da,0,ec(b),b,c,d);b!==a.root&&(a.root=b);d.R&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=Kf.prototype;g.la=function(){if(this.da)return this.count;throw Error("count after persistent!");};
g.ya=function(a,b){return null==b?this.sa?this.ta:null:null==this.root?null:this.root.hb(0,ec(b),b)};g.ca=function(a,b,c){return null==b?this.sa?this.ta:c:null==this.root?c:this.root.hb(0,ec(b),b,c)};
g.yb=function(a,b){a:if(this.da)if(Ie(b))a=Lf(this,Je.j?Je.j(b):Je.call(null,b),Ke.j?Ke.j(b):Ke.call(null,b));else if(bd(b))a=Lf(this,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));else for(a=J(b),b=this;;){var c=N(a);if(x(c))a=O(a),b=Lf(b,Je.j?Je.j(c):Je.call(null,c),Ke.j?Ke.j(c):Ke.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.Hb=function(){if(this.da){this.da=null;var a=new Jf(null,this.count,this.root,this.sa,this.ta,null)}else throw Error("persistent! called twice");return a};g.xb=function(a,b,c){return Lf(this,b,c)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};
g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};function Mf(a,b){this.Y=a;this.Ya=b;this.F=32374988;this.P=0}g=Mf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null==a?null:new Mf(a,null)};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.Y.wa(null).key};g.xa=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null!=a?new Mf(a,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Mf(this.Y,b)};g.oa=function(a,b){return U(b,this)};Mf.prototype[Da]=function(){return nc(this)};
function af(a){return(a=J(a))?new Mf(a,null):null}function Je(a){return fb(a)}function Nf(a,b){this.Y=a;this.Ya=b;this.F=32374988;this.P=0}g=Nf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null==a?null:new Nf(a,null)};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.Y.wa(null).R};g.xa=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null!=a?new Nf(a,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Nf(this.Y,b)};g.oa=function(a,b){return U(b,this)};Nf.prototype[Da]=function(){return nc(this)};
function bf(a){return(a=J(a))?new Nf(a,null):null}function Ke(a){return gb(a)}var Of=function Of(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return Of.K(c)};Of.K=function(a){return x(Zd(a))?nd(function(b,c){return Jc.B(x(b)?b:Td,c)},a):null};Of.$=0;Of.ba=function(a){return this.K(J(a))};function Pf(a){for(var b=Td,c=J(Qf);;)if(c){var d=N(c),e=H.D(a,d,Rf);b=P.B(e,Rf)?b:W.D(b,d,e);c=O(c)}else return pb(b,Tc(a))}
function Sf(a){this.Ab=a}Sf.prototype.pa=function(){return this.Ab.pa()};Sf.prototype.next=function(){if(this.Ab.pa())return this.Ab.next().key;throw Error("No such element");};Sf.prototype.remove=function(){return Error("Unsupported operation")};function Tf(a,b,c){this.meta=a;this.cb=b;this.N=c;this.F=15077647;this.P=139268}g=Tf.prototype;g.toString=function(){return Wb(this)};g.keys=function(){return nc(J(this))};g.entries=function(){return new Xe(J(J(this)))};g.values=function(){return nc(J(this))};
g.has=function(a){return id(this,a)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){a=cb(this.cb,b);return x(a)?fb(a):c};g.Qa=function(){return new Sf(Ub(this.cb))};g.ha=function(){return this.meta};
g.la=function(){return Ma(this.cb)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=rc(this)};g.fa=function(a,b){if(a=Xc(b))if(a=R(this)===R(b))try{return od(function(c,d){return(c=id(b,d))?c:new uc},!0,this.cb)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};g.sb=function(){return new Uf(Hb(this.cb))};g.ma=function(){return pb(Vf,this.meta)};g.zc=function(a,b){return new Tf(this.meta,eb(this.cb,b),null)};g.ja=function(){return af(this.cb)};
g.ka=function(a,b){return b===this.meta?this:new Tf(b,this.cb,this.N)};g.oa=function(a,b){return new Tf(this.meta,W.D(this.cb,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};
var Vf=new Tf(null,Td,sc);Tf.prototype[Da]=function(){return nc(this)};function Uf(a){this.qb=a;this.P=136;this.F=259}g=Uf.prototype;g.yb=function(a,b){this.qb=Kb(this.qb,b,null);return this};g.Hb=function(){return new Tf(null,Jb(this.qb),null)};g.la=function(){return R(this.qb)};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return Ya(this.qb,b,ed)===ed?c:b};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return Ya(this.qb,a,ed)===ed?null:a};g.B=function(a,b){return Ya(this.qb,a,ed)===ed?b:a};
function Wf(a){if(Xc(a))return Sc(a,null);a=J(a);if(null==a)return Vf;if(a instanceof K&&0===a.i){a=a.C;for(var b=a.length,c=Hb(Vf),d=0;;)if(d<b)Ib(c,a[d]),d+=1;else break;return Jb(c)}for(c=Hb(Vf);;)if(null!=a)b=O(a),c=Ib(c,D(a)),a=b;else return Jb(c)}function X(a){if(null!=a&&(a.P&4096||u===a.xc))return a.Eb(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",B.j(a)].join(""));}
function Xf(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&P.B(a[0],b)?1===a.length?a[0]:He(a):null;throw new TypeError("re-matches must match against a string.");}
function Yf(a,b,c,d,e,f,h){var k=ua;ua=null==ua?null:ua-1;try{if(null!=ua&&0>ua)return G(a,"#");G(a,c);if(0===Aa.j(f))J(h)&&G(a,function(){var r=Zf.j(f);return x(r)?r:"..."}());else{if(J(h)){var l=N(h);b.D?b.D(l,a,f):b.call(null,l,a,f)}for(var m=O(h),n=Aa.j(f)-1;;)if(!m||null!=n&&0===n){J(m)&&0===n&&(G(a,d),G(a,function(){var r=Zf.j(f);return x(r)?r:"..."}()));break}else{G(a,d);var p=N(m);c=a;h=f;b.D?b.D(p,c,h):b.call(null,p,c,h);var q=O(m);c=n-1;m=q;n=c}}return G(a,e)}finally{ua=k}}
function $f(a,b){b=J(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e);G(a,f);e+=1}else if(b=J(b))c=b,cd(c)?(b=Mb(c),d=Nb(c),c=b,f=R(b),b=d,d=f):(f=N(c),G(a,f),b=O(c),c=null,d=0),e=0;else return null}var ag={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function bg(a){return['"',B.j(a.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(b){return ag[b]})),'"'].join("")}
function cg(a,b){return(a=fd(H.B(a,ya)))?(a=null!=b?b.F&131072||u===b.Zc?!0:!1:!1)?null!=Tc(b):a:a}
function dg(a,b,c){if(null==a)return G(b,"nil");if(cg(c,a)){G(b,"^");var d=Tc(a);eg.D?eg.D(d,b,c):eg.call(null,d,b,c);G(b," ")}if(a.Ib)return a.Ub(b);if(null!=a?a.F&2147483648||u===a.na||(a.F?0:y(Cb,a)):y(Cb,a))return Db(a,b,c);if(!0===a||!1===a)return G(b,B.j(a));if("number"===typeof a)return G(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":B.j(a));if(null!=a&&a.constructor===Object)return G(b,"#js "),d=de.B(function(f){return new Ae(null!=Xf(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?yd.j(f):f,a[f])},ha(a)),fg.T?fg.T(d,eg,b,c):fg.call(null,d,eg,b,c);if(Ba(a))return Yf(b,eg,"#js ["," ","]",c,a);if("string"===typeof a)return x(xa.j(c))?G(b,bg(a)):G(b,a);if("function"===typeof a){var e=a.name;c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Function":e;return $f(b,Ic(["#object[",c,x(!1)?[' "',B.j(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=B.j(f);;)if(f.length<h)f=["0",f].join("");else return f},$f(b,Ic(['#inst "',c(a.getUTCFullYear(),
4),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return $f(b,Ic(['#"',a.source,'"']));if(Ia(a))return $f(b,Ic(["#object[",a.toString(),"]"]));if(x(function(){var f=null==a?null:a.constructor;return null==f?null:f.nb}()))return $f(b,Ic(["#object[",a.constructor.nb.replace(RegExp("/","g"),"."),"]"]));e=function(){var f=null==a?null:a.constructor;
return null==f?null:f.name}();c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Object":e;return null==a.constructor?$f(b,Ic(["#object[",c,"]"])):$f(b,Ic(["#object[",c," ",B.j(a),"]"]))}function eg(a,b,c){var d=gg.j(c);return x(d)?(c=W.D(c,hg,dg),d.D?d.D(a,b,c):d.call(null,a,b,c)):dg(a,b,c)}
function ig(a){var b=va();if(Vc(a))b="";else{var c=B,d=c.j,e=new pa,f=new Vb(e);eg(N(a),f,b);a=J(O(a));for(var h=null,k=0,l=0;;)if(l<k){var m=h.ea(null,l);G(f," ");eg(m,f,b);l+=1}else if(a=J(a))h=a,cd(h)?(a=Mb(h),k=Nb(h),h=a,m=R(a),a=k,k=m):(m=N(h),G(f," "),eg(m,f,b),a=O(h),h=null,k=0),l=0;else break;b=d.call(c,e)}return b}function jg(a){return a instanceof gc?hc.B(null,X(a)):yd.B(null,X(a))}
function kg(a){if(x(!1)){var b=J(a),c=J(b),d=N(c);O(c);V(d,0,null);V(d,1,null);c=null==a?null:null!=a&&(a.F&4||u===a.Sc)?a.ma(null):(null!=a?a.F&4||u===a.Sc||(a.F?0:y(Na,a)):y(Na,a))?Oa(a):null;for(a=null;;){d=a;b=J(b);a=N(b);var e=O(b),f=a;a=V(f,0,null);b=V(f,1,null);if(x(f))if(a instanceof I||a instanceof gc)if(x(d))if(P.B(d,xd(a)))c=W.D(c,jg(a),b),a=d,b=e;else return null;else if(d=xd(a),x(d))c=W.D(c,jg(a),b),a=d,b=e;else return null;else return null;else return new Y(null,2,5,Z,[d,c],null)}}else return null}
function lg(a,b,c,d,e){return Yf(d,function(f,h,k){var l=fb(f);c.D?c.D(l,h,k):c.call(null,l,h,k);G(h," ");f=gb(f);return c.D?c.D(f,h,k):c.call(null,f,h,k)},[B.j(a),"{"].join(""),", ","}",e,J(b))}function fg(a,b,c,d){var e=$c(a)?kg(a):null,f=V(e,0,null);e=V(e,1,null);return x(f)?lg(["#:",B.j(f)].join(""),e,b,c,d):lg(null,a,b,c,d)}K.prototype.na=u;K.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};zd.prototype.na=u;zd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};
Ae.prototype.na=u;Ae.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};Ef.prototype.na=u;Ef.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Ze.prototype.na=u;Ze.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};oc.prototype.na=u;oc.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Me.prototype.na=u;Me.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};wd.prototype.na=u;
wd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Jf.prototype.na=u;Jf.prototype.ia=function(a,b,c){return fg(this,eg,b,c)};Gf.prototype.na=u;Gf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Oe.prototype.na=u;Oe.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};Tf.prototype.na=u;Tf.prototype.ia=function(a,b,c){return Yf(b,eg,"#{"," ","}",c,this)};Dd.prototype.na=u;Dd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};
ae.prototype.na=u;ae.prototype.ia=function(a,b,c){G(b,"#object[cljs.core.Atom ");eg(new v(null,1,[mg,this.state],null),b,c);return G(b,"]")};Nf.prototype.na=u;Nf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};he.prototype.na=u;he.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Y.prototype.na=u;Y.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};vd.prototype.na=u;vd.prototype.ia=function(a,b){return G(b,"()")};v.prototype.na=u;
v.prototype.ia=function(a,b,c){return fg(this,eg,b,c)};Mf.prototype.na=u;Mf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Lc.prototype.na=u;Lc.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};var ng=null;function og(a){null==ng&&(ng=new ae(0));return hc.j([B.j(a),B.j(ce.B(ng,tc))].join(""))}function pg(){}
function qg(a){if(null!=a&&null!=a.Uc)a=a.Uc(a);else{var b=qg[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=qg._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEncodeJS.-clj-\x3ejs",a);}return a}function rg(a,b){return(null!=a?u===a.Tc||(a.Bc?0:y(pg,a)):y(pg,a))?qg(a):"string"===typeof a||"number"===typeof a||a instanceof I||a instanceof gc?b.j?b.j(a):b.call(null,a):ig(Ic([a]))}
var sg=function sg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new K(c.slice(1),0,null):null;return sg.K(arguments[0],c)};
sg.K=function(a,b){b=Sd(b);var c=H.D(b,tg,X),d=function h(f){if(null==f)return null;if(null!=f?u===f.Tc||(f.Bc?0:y(pg,f)):y(pg,f))return qg(f);if(f instanceof I)return c.j?c.j(f):c.call(null,f);if(f instanceof gc)return B.j(f);if($c(f)){var k={};f=J(f);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ea(null,n),q=V(p,0,null);p=V(p,1,null);q=rg(q,d);p=h(p);k[q]=p;n+=1}else if(f=J(f))cd(f)?(m=Mb(f),f=Nb(f),l=m,m=R(m)):(m=N(f),l=V(m,0,null),m=V(m,1,null),l=rg(l,d),m=h(m),k[l]=m,f=O(f),l=null,m=0),n=0;else break;
return k}if(Wc(f)){k=[];f=J(de.B(h,f));l=null;for(n=m=0;;)if(n<m)q=l.ea(null,n),k.push(q),n+=1;else if(f=J(f))l=f,cd(l)?(f=Mb(l),n=Nb(l),l=f,m=R(f),f=n):(f=N(l),k.push(f),f=O(l),l=null,m=0),n=0;else break;return k}return f};return d(a)};sg.$=1;sg.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};var ug=null;function vg(){null==ug&&(ug=new ae(new v(null,3,[wg,Td,xg,Td,yg,Td],null)));return ug}
function zg(a,b,c){var d=P.B(b,c);if(d)return d;d=yg.j(a);d=d.j?d.j(b):d.call(null,b);if(!(d=id(d,c))&&(d=bd(c)))if(d=bd(b))if(d=R(c)===R(b)){d=!0;for(var e=0;;)if(d&&e!==R(c))d=zg(a,b.j?b.j(e):b.call(null,e),c.j?c.j(e):c.call(null,e)),e+=1;else return d}else return d;else return d;else return d}function Ag(a){var b=F(vg());a=H.B(wg.j(b),a);return J(a)?a:null}function Bg(a,b,c,d){ce.B(a,function(){return F(b)});ce.B(c,function(){return F(d)})}
var Cg=function Cg(a,b,c){var e=function(){var f=F(c);return f.j?f.j(a):f.call(null,a)}();e=x(x(e)?e.j?e.j(b):e.call(null,b):e)?!0:null;if(x(e))return e;e=function(){for(var f=Ag(b);;)if(0<R(f)){var h=N(f);Cg.D?Cg.D(a,h,c):Cg.call(null,a,h,c);f=kc(f)}else return null}();if(x(e))return e;e=function(){for(var f=Ag(a);;)if(0<R(f)){var h=N(f);Cg.D?Cg.D(h,b,c):Cg.call(null,h,b,c);f=kc(f)}else return null}();return x(e)?e:!1};function Dg(a,b,c,d){c=Cg(a,b,c);return x(c)?c:zg(d,a,b)}
var Eg=function Eg(a,b,c,d,e,f,h,k){var m=Ga(function(p,q){var r=V(q,0,null);V(q,1,null);if(zg(F(c),b,r)){p=null==p||Dg(r,N(p),e,F(c))?q:p;if(!Dg(N(p),r,e,F(c)))throw Error(["Multiple methods in multimethod '",B.j(a),"' match dispatch value: ",B.j(b)," -\x3e ",B.j(r)," and ",B.j(N(p)),", and neither is preferred"].join(""));return p}return p},null,F(d)),n=function(){var p;if(p=null==m)p=F(d),p=p.j?p.j(k):p.call(null,k);return x(p)?new Y(null,2,5,Z,[k,p],null):m}();if(x(n)){if(P.B(F(h),F(c)))return ce.T(f,
W,b,N(O(n))),N(O(n));Bg(f,d,h,c);return Eg.za?Eg.za(a,b,c,d,e,f,h,k):Eg.call(null,a,b,c,d,e,f,h,k)}return null};function Fg(a,b){throw Error(["No method in multimethod '",B.j(a),"' for dispatch value: ",B.j(b)].join(""));}function Gg(a,b,c,d,e,f,h){var k=Hg;this.name=a;this.J=b;this.fd=k;this.Xb=c;this.Zb=d;this.md=e;this.Yb=f;this.Qb=h;this.F=4194305;this.P=4352}g=Gg.prototype;
g.call=function(a){switch(arguments.length-1){case 0:return this.O();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.T(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Oa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ia(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ka(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.ic(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.O=function(){var a=this.J.O?this.J.O():this.J.call(null),b=Ig(this,a);x(b)||Fg(this.name,a);return b.O?b.O():b.call(null)};g.j=function(a){var b=this.J.j?this.J.j(a):this.J.call(null,a),c=Ig(this,b);x(c)||Fg(this.name,b);return c.j?c.j(a):c.call(null,a)};
g.B=function(a,b){var c=this.J.B?this.J.B(a,b):this.J.call(null,a,b),d=Ig(this,c);x(d)||Fg(this.name,c);return d.B?d.B(a,b):d.call(null,a,b)};g.D=function(a,b,c){var d=this.J.D?this.J.D(a,b,c):this.J.call(null,a,b,c),e=Ig(this,d);x(e)||Fg(this.name,d);return e.D?e.D(a,b,c):e.call(null,a,b,c)};g.T=function(a,b,c,d){var e=this.J.T?this.J.T(a,b,c,d):this.J.call(null,a,b,c,d),f=Ig(this,e);x(f)||Fg(this.name,e);return f.T?f.T(a,b,c,d):f.call(null,a,b,c,d)};
g.aa=function(a,b,c,d,e){var f=this.J.aa?this.J.aa(a,b,c,d,e):this.J.call(null,a,b,c,d,e),h=Ig(this,f);x(h)||Fg(this.name,f);return h.aa?h.aa(a,b,c,d,e):h.call(null,a,b,c,d,e)};g.Na=function(a,b,c,d,e,f){var h=this.J.Na?this.J.Na(a,b,c,d,e,f):this.J.call(null,a,b,c,d,e,f),k=Ig(this,h);x(k)||Fg(this.name,h);return k.Na?k.Na(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
g.Oa=function(a,b,c,d,e,f,h){var k=this.J.Oa?this.J.Oa(a,b,c,d,e,f,h):this.J.call(null,a,b,c,d,e,f,h),l=Ig(this,k);x(l)||Fg(this.name,k);return l.Oa?l.Oa(a,b,c,d,e,f,h):l.call(null,a,b,c,d,e,f,h)};g.za=function(a,b,c,d,e,f,h,k){var l=this.J.za?this.J.za(a,b,c,d,e,f,h,k):this.J.call(null,a,b,c,d,e,f,h,k),m=Ig(this,l);x(m)||Fg(this.name,l);return m.za?m.za(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};
g.Pa=function(a,b,c,d,e,f,h,k,l){var m=this.J.Pa?this.J.Pa(a,b,c,d,e,f,h,k,l):this.J.call(null,a,b,c,d,e,f,h,k,l),n=Ig(this,m);x(n)||Fg(this.name,m);return n.Pa?n.Pa(a,b,c,d,e,f,h,k,l):n.call(null,a,b,c,d,e,f,h,k,l)};g.Ca=function(a,b,c,d,e,f,h,k,l,m){var n=this.J.Ca?this.J.Ca(a,b,c,d,e,f,h,k,l,m):this.J.call(null,a,b,c,d,e,f,h,k,l,m),p=Ig(this,n);x(p)||Fg(this.name,n);return p.Ca?p.Ca(a,b,c,d,e,f,h,k,l,m):p.call(null,a,b,c,d,e,f,h,k,l,m)};
g.Da=function(a,b,c,d,e,f,h,k,l,m,n){var p=this.J.Da?this.J.Da(a,b,c,d,e,f,h,k,l,m,n):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n),q=Ig(this,p);x(q)||Fg(this.name,p);return q.Da?q.Da(a,b,c,d,e,f,h,k,l,m,n):q.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Ea=function(a,b,c,d,e,f,h,k,l,m,n,p){var q=this.J.Ea?this.J.Ea(a,b,c,d,e,f,h,k,l,m,n,p):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p),r=Ig(this,q);x(r)||Fg(this.name,q);return r.Ea?r.Ea(a,b,c,d,e,f,h,k,l,m,n,p):r.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.Fa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){var r=this.J.Fa?this.J.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q),w=Ig(this,r);x(w)||Fg(this.name,r);return w.Fa?w.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):w.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};
g.Ga=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){var w=this.J.Ga?this.J.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r),z=Ig(this,w);x(z)||Fg(this.name,w);return z.Ga?z.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):z.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};
g.Ha=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w){var z=this.J.Ha?this.J.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w),C=Ig(this,z);x(C)||Fg(this.name,z);return C.Ha?C.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):C.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w)};
g.Ia=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z){var C=this.J.Ia?this.J.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z),E=Ig(this,C);x(E)||Fg(this.name,C);return E.Ia?E.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):E.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z)};
g.Ja=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C){var E=this.J.Ja?this.J.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C),M=Ig(this,E);x(M)||Fg(this.name,E);return M.Ja?M.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):M.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C)};
g.Ka=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E){var M=this.J.Ka?this.J.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E),T=Ig(this,M);x(T)||Fg(this.name,M);return T.Ka?T.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):T.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E)};
g.La=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M){var T=this.J.La?this.J.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M),da=Ig(this,T);x(da)||Fg(this.name,T);return da.La?da.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):da.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M)};
g.Ma=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T){var da=this.J.Ma?this.J.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T),qa=Ig(this,da);x(qa)||Fg(this.name,da);return qa.Ma?qa.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):qa.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T)};
g.ic=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da){var qa=Rd(this.J,a,b,c,d,Ic([e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da])),Zc=Ig(this,qa);x(Zc)||Fg(this.name,qa);return Rd(Zc,a,b,c,d,Ic([e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da]))};function Jg(a,b){var c=Kg;ce.T(c.Zb,W,a,b);Bg(c.Yb,c.Zb,c.Qb,c.Xb)}function Ig(a,b){P.B(F(a.Qb),F(a.Xb))||Bg(a.Yb,a.Zb,a.Qb,a.Xb);var c=F(a.Yb);c=c.j?c.j(b):c.call(null,b);return x(c)?c:Eg(a.name,b,a.Xb,a.Zb,a.md,a.Yb,a.Qb,a.fd)}g.Eb=function(){return Ob(this.name)};g.Fb=function(){return Pb(this.name)};
g.ga=function(){return ba(this)};var Lg=new I(null,"button.button.is-primary","button.button.is-primary",-883309392),Mg=new I("skier","leaves-lift","skier/leaves-lift",-1306134627),Ng=new I(null,"div.buttons.is-centered","div.buttons.is-centered",1442792514),mg=new I(null,"val","val",128701612),Og=new I(null,"render","render",-1408033454),Pg=new I(null,"mu","mu",1146469241),Qg=new I(null,"fold","fold",-887461332),Rg=new I(null,"auto-run","auto-run",1958400437),ya=new I(null,"meta","meta",1499536964),Sg=new I(null,"displayName","displayName",
-809144601),Tg=new I(null,"on-dispose","on-dispose",2105306360),Ug=new I(null,"data","data",-232669377),Vg=new I(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),Wg=new I(null,"sigma","sigma",-63715703),Xg=new I(null,"spec","spec",347520401),Yg=new I(null,"constructor","constructor",-1953928811),Zg=new I(null,"div.column","div.column",-1380853326),$g=new I(null,"actions","actions",-812656882),ah=new I(null,"childContextTypes","childContextTypes",578717991),bh=new I(null,"transform",
"transform",1381301764),ch=new I(null,"field","field",-1302436500),dh=new I(null,"\x3e","\x3e",-555517146),xg=new I(null,"descendants","descendants",1824886031),eh=new I(null,"running","running",1554969103),fh=new I(null,"class","class",-2030961996),gh=new I(null,"description","description",-1428560544),hh=new I(null,"title","title",636505583),ih=new I(null,"on-click","on-click",1632826543),jh=new I(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),kh=new I(null,"color","color",1011675173),
lh=new I(null,"stack","stack",-793405930),mh=new I(null,"as","as",1148689641),nh=new I(null,"reagentRender","reagentRender",-358306383),oh=new I(null,"name","name",1843675177),ph=new I(null,"getInitialState","getInitialState",1541760916),gg=new I(null,"alt-impl","alt-impl",670969595),qh=new I(null,"on-set","on-set",-140953470),Rf=new I("cljs.core","not-found","cljs.core/not-found",-1572889185),Hg=new I(null,"default","default",-1987822328),rh=new I("skier","joins-queue","skier/joins-queue",-1286647213),
sh=new I(null,"no-cache","no-cache",1588056370),th=new I(null,"\x3c\x3e","\x3c\x3e",1280186386),uh=new I(null,"div.columns","div.columns",-437221213),za=new I(null,"dup","dup",556298533),Aa=new I(null,"print-length","print-length",1931866356),wa=new I(null,"flush-on-newline","flush-on-newline",-151457939),vh=new I("lift","leaves","lift/leaves",-2138482165),wh=new I(null,"component-did-update","component-did-update",-1468549173),xh=new I("sim","end-time","sim/end-time",-1849965709),yh=new I(null,"reagent-render",
"reagent-render",-985383853),zh=new I(null,"encoding","encoding",1728578272),Ah=new I(null,"function-components","function-components",1492814963),Bh=new I(null,"hierarchy","hierarchy",-1053470341),Ch=new I(null,"on-write","on-write",31519475),Dh=new I("skiers","skiing","skiers/skiing",-957605270),Eh=new I(null,"key","key",-1516042587),Fh=new I(null,"zero","zero",-858964576),Gh=new I("lift","ride-time","lift/ride-time",78775400),Hh=new I(null,"y","y",-1757859776),Ih=new I(null,"x","x",2099068185),
Jh=new I(null,"t","t",-1397832519),Kh=new I(null,"componentWillUnmount","componentWillUnmount",1573788814),Lh=new I(null,"scale","scale",-230427353),Mh=new I(null,"contextType","contextType",1033066077),Nh=new I("skiers","waiting","skiers/waiting",1070582748),Oh=new I(null,"mark","mark",-373816345),Ph=new I(null,"event","event",301435442),wg=new I(null,"parents","parents",-2027538891),Qh=new I(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),Rh=new I(null,"validator","validator",
-1966190681),hg=new I(null,"fallback-impl","fallback-impl",-1501286995),Sh=new I(null,"display-name","display-name",694513143),Th=new I(null,"button.button.is-danger","button.button.is-danger",-948547713),Uh=new I("slope","length","slope/length",1017254753),Vh=new I(null,"section.section","section.section",-416807119),xa=new I(null,"readably","readably",1129599760),Wh=new I(null,"contextTypes","contextTypes",-2023853910),tg=new I(null,"keyword-fn","keyword-fn",-64566675),Xh=new I(null,"shouldComponentUpdate",
"shouldComponentUpdate",1795750960),Yh=new I(null,"unit","unit",375175175),Zh=new I(null,"id","id",-1388402092),$h=new I(null,"$schema","$schema",1635092088),ai=new I(null,"component-will-unmount","component-will-unmount",-2058314698),bi=new I("lift","chair-width","lift/chair-width",1126373462),ci=new I(null,"results","results",-1134170113),di=new I(null,"className","className",-1983287057),ei=new I(null,"h1.title","h1.title",-2139952071),fi=new I("lift","chair-period","lift/chair-period",169813739),
gi=new I(null,"events","events",1792552201),hi=new I("skiers","riding-lift","skiers/riding-lift",1574761189),ii=new I(null,"parse-tag","parse-tag",1427313738),ji=new I(null,"type","type",1174270348),ki=new I("skiers","speed","skiers/speed",88597428),yg=new I(null,"ancestors","ancestors",-776045424),Zf=new I(null,"more-marker","more-marker",-14717935);var li={},mi;function ni(){return oa("iPhone")&&!oa("iPod")&&!oa("iPad")};oa("Opera");oa("Trident")||oa("MSIE");oa("Edge");!oa("Gecko")||-1!=na.toLowerCase().indexOf("webkit")&&!oa("Edge")||oa("Trident")||oa("MSIE")||oa("Edge");-1!=na.toLowerCase().indexOf("webkit")&&!oa("Edge")&&oa("Mobile");oa("Macintosh");oa("Windows");oa("Linux")||oa("CrOS");var oi=aa.navigator||null;oi&&(oi.appVersion||"").indexOf("X11");oa("Android");ni();oa("iPad");oa("iPod");ni()||oa("iPad")||oa("iPod");na.toLowerCase().indexOf("kaios");(function(a){if("undefined"===typeof ra||"undefined"===typeof sa||"undefined"===typeof li||"undefined"===typeof mi)mi=function(b,c,d){this.f=b;this.Nc=c;this.hd=d;this.F=393216;this.P=0},mi.prototype.ka=function(b,c){return new mi(this.f,this.Nc,c)},mi.prototype.ha=function(){return this.hd},mi.Ib=!0,mi.nb="cljs.core.async/t_cljs$core$async23089",mi.Ub=function(b){return G(b,"cljs.core.async/t_cljs$core$async23089")};return new mi(a,!0,Td)})(function(){return null});var pi={},qi={},ri=[];function si(a,b){var c=qi[a];if(void 0!==c)return c;try{ri.push(a);var d=pi[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};pi[a]=d}if(e){delete shadow$provide[a];try{e.call(d,aa,si,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{ri.pop()}return d.exports}si.cache={};si.resolve=function(a){return a};var ti=si(2,{});function ui(a,b,c){var d=RegExp,e=b.source,f=x(b.ignoreCase)?"gi":"g";f=x(b.multiline)?[f,"m"].join(""):f;b=x(b.unicode)?[f,"u"].join(""):f;return a.replace(new d(e,b),c)}
function vi(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){d=ge(d);if(P.B(R(d),1))return d=N(d),a.j?a.j(d):a.call(null,d);d=He(d);return a.j?a.j(d):a.call(null,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}()}
function wi(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?ui(a,b,c):ui(a,b,vi(c));throw["Invalid match arg: ",B.j(b)].join("");}function xi(a){var b=new pa;for(a=J(a);;)if(null!=a)b.append(B.j(N(a))),a=O(a),null!=a&&b.append(" ");else return b.toString()}
function yi(a){var b=/-/;a="/(?:)/"===B.j(b)?Jc.B(He(U("",de.B(B,J(a)))),""):He(B.j(a).split(b));if(1<R(a))a:for(;;)if(""===(null==a?null:jb(a)))a=null==a?null:kb(a);else break a;return a};var zi={};var Ai={},Bi="undefined"!==typeof window&&null!=window.document,Ci=new Tf(null,new v(null,2,["aria",null,"data",null],null),null);function Di(a){return 2>R(a)?a.toUpperCase():[a.substring(0,1).toUpperCase(),a.substring(1)].join("")}function Ei(a){if("string"===typeof a)return a;a=X(a);var b=yi(a),c=J(b);b=N(c);c=O(c);return x(Ci.j?Ci.j(b):Ci.call(null,b))?a:Pd(B,b,de.B(Di,c))}
function Fi(a){var b=function(){var c=function(){var d=Pc(a);if(d){d=a.displayName;if(x(d))return d;d=a.name;return"string"===typeof d&&J(d)?d:null}return d}();if(x(c))return c;c=function(){var d=null!=a?a.P&4096||u===a.xc?!0:!1:!1;return d?X(a):d}();if(x(c))return c;c=Tc(a);return $c(c)?oh.j(c):null}();return x(b)?wi(B.j(b),"$","."):null}function Gi(a){return a instanceof I||a instanceof gc}
var Hi=function Hi(a){switch(arguments.length){case 0:return Hi.O();case 1:return Hi.j(arguments[0]);case 2:return Hi.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Hi.K(arguments[0],arguments[1],c)}};Hi.O=function(){return null};Hi.j=function(a){return Wc(a)?(a=$d(function(b){return x(b)?Gi(b)?X(b):b:null},a),J(a)?xi(a):null):Gi(a)?X(a):a};
Hi.B=function(a,b){return x(a)?x(b)?[B.j(Hi.j(a))," ",B.j(Hi.j(b))].join(""):Hi.j(a):Hi.j(b)};Hi.K=function(a,b,c){return Ga(Hi,Hi.B(a,b),c)};Hi.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Hi.$=2;var Ii=!1;function Ji(a){if($c(a))try{var b=H.B(a,Eh)}catch(c){b=null}else b=null;return b}
function Ki(a){var b=Eh.j(Tc(a));if(null!=b)return b;b=V(a,0,null);switch(b instanceof I?b.Ra:null){case "\x3e":case "f\x3e":return Ji(V(a,2,null));case "r\x3e":return a=V(a,2,null),null==a?null:a.key;default:return Ji(V(a,1,null))}};var Li=0;function Mi(a){return setTimeout(a,16)}var Ni=Bi?function(){var a=window;return function(){var b=a.requestAnimationFrame;if(x(b))return b;b=a.webkitRequestAnimationFrame;if(x(b))return b;b=a.mozRequestAnimationFrame;if(x(b))return b;b=a.msRequestAnimationFrame;return x(b)?b:Mi}().bind(a)}():Mi;function Oi(a,b){return a.qc-b.qc}function Pi(){return null}function Qi(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.O?d.O():d.call(null);c+=1}else return null}
function Ri(a,b,c){b.push(c);return a.schedule()}function Si(){this.ac=!1}g=Si.prototype;g.flush_after_render=function(){var a=this.Ob;if(null==a)return null;this.Ob=null;return Qi(a)};g.queue_render=function(a){null==this.Wb&&(this.Wb=[]);return Ri(this,this.Wb,a)};g.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.ac)return null;this.ac=!0;return Ni.j?Ni.j(a):Ni.call(null,a)};g.flush_before_flush=function(){var a=this.Pb;if(null==a)return null;this.Pb=null;return Qi(a)};
g.flush_queues=function(){this.flush_before_flush();Pi();this.flush_render();return this.flush_after_render()};g.run_queues=function(){this.ac=!1;return this.flush_queues()};g.add_before_flush=function(a){null==this.Pb&&(this.Pb=[]);return Ri(this,this.Pb,a)};g.add_after_render=function(a){null==this.Ob&&(this.Ob=[]);return Ri(this,this.Ob,a)};
g.flush_render=function(){var a=this.Wb;if(null==a)return null;this.Wb=null;a:{a.sort(Oi);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var Ti=new Si;function Ui(a){if(x(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return Ti.queue_render(a)};function Vi(a){if(null!=a&&null!=a.nd)a=a.id;else{var b=Vi[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Vi._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("Compiler.get-id",a);}return a}function Wi(a,b,c){if(null!=a&&null!=a.Jc)a=a.Jc(a,b,c);else{var d=Wi[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Wi._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("Compiler.parse-tag",a);}return a}
function Xi(a,b){if(null!=a&&null!=a.Hc)a=a.Hc(a,b);else{var c=Xi[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Xi._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("Compiler.as-element",a);}return a}
function Yi(a,b,c,d,e){if(null!=a&&null!=a.Ic)a=a.Ic(a,b,c,d,e);else{var f=Yi[t(null==a?null:a)];if(null!=f)a=f.aa?f.aa(a,b,c,d,e):f.call(null,a,b,c,d,e);else if(f=Yi._,null!=f)a=f.aa?f.aa(a,b,c,d,e):f.call(null,a,b,c,d,e);else throw A("Compiler.make-element",a);}return a};var Zi=function Zi(a){switch(arguments.length){case 1:return Zi.j(arguments[0]);case 2:return Zi.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Zi.K(arguments[0],arguments[1],c)}};Zi.j=function(a){return a};Zi.B=function(a,b){return R(a)<R(b)?Ga(function(c,d){return id(b,d)?Uc.B(c,d):c},a,a):Ga(Uc,a,b)};Zi.K=function(a,b,c){return Ga(Zi,a,Jc.B(c,b))};
Zi.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Zi.$=2;var $i;function aj(a,b){b.dc=null;a:{var c=$i;$i=b;try{var d=a.O?a.O():a.call(null);break a}finally{$i=c}d=void 0}a=b.dc;b.gb=!1;a:{c=b.rb;var e=null==a?0:a.length,f=e===(null==c?0:c.length);if(f)for(f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=f}c||b._update_watching(a);return d}function bj(a){var b=$i;if(null!=b){var c=b.dc;null==c?b.dc=[a]:c.push(a)}}function cj(a,b,c){a.ua=W.D(a.ua,b,c);return a.tc=null}
function dj(a,b){a.ua=Oc.B(a.ua,b);return a.tc=null}function ej(a,b,c){var d=a.tc;d=null==d?a.tc=od(function(l,m,n){l.push(m);l.push(n);return l},[],a.ua):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.T?k.T(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function fj(a,b,c,d){G(a,["#object[reagent.ratom.",B.j(c)," "].join(""));a:{c=$i;$i=null;try{var e=d;break a}finally{$i=c}e=void 0}eg(e,a,b);return G(a,"]")}var gj=null;
function hj(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.ua=d;this.F=2154201088;this.P=114690}g=hj.prototype;g.ia=function(a,b,c){return fj(b,c,"RAtom",new v(null,1,[mg,this.fb(null)],null))};g.ha=function(){return this.meta};g.ga=function(){return ba(this)};g.fa=function(a,b){return this===b};g.Sa=function(a,b){a=this.state;this.state=b;null!=this.ua&&ej(this,a,b);return b};g.kc=function(a,b){return this.Sa(null,b.j?b.j(this.state):b.call(null,this.state))};
g.lc=function(a,b,c){return this.Sa(null,b.B?b.B(this.state,c):b.call(null,this.state,c))};g.mc=function(a,b,c,d){return this.Sa(null,b.D?b.D(this.state,c,d):b.call(null,this.state,c,d))};g.nc=function(a,b,c,d,e){return this.Sa(null,Qd(b,this.state,c,d,e))};g.oc=function(a,b){ej(this,a,b)};g.Sb=function(a,b,c){return cj(this,b,c)};g.Tb=function(a,b){return dj(this,b)};g.ka=function(a,b){return new hj(this.state,b,this.validator,this.ua)};g.fb=function(){bj(this);return this.state};
var ij=function ij(a){switch(arguments.length){case 1:return ij.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(1),0,null);return ij.K(arguments[0],c)}};ij.j=function(a){return new hj(a,null,null,null)};ij.K=function(a,b){var c=Sd(b);b=H.B(c,ya);c=H.B(c,Rh);return new hj(a,b,c,null)};ij.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};ij.$=1;
function jj(a){if(null!=a&&null!=a.sc)a=a.sc(a);else{var b=jj[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=jj._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IDisposable.dispose!",a);}return a}function Fb(a,b,c,d){return a._handle_change(b,c,d)}function kj(a){this.f=a;this.state=null;this.gb=!0;this.Fc=!1;this.ec=this.Za=this.ua=this.rb=null;this.F=2153807872;this.P=114690}g=kj.prototype;g._peek_at=function(){var a=$i;$i=null;try{return this.fb(null)}finally{$i=a}};
g._handle_change=function(a,b,c){return b===c||this.gb?null:null==this.Za?(this.gb=!0,null==gj&&(gj=[],!1===Ti.ac&&Ti.schedule()),gj.push(this)):!0===this.Za?this._run(!1):this.Za.j?this.Za.j(this):this.Za.call(null,this)};
g._update_watching=function(a){var b=Wf(a),c=Wf(this.rb);this.rb=a;a=J(Zi.B(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.ea(null,f);Eb(h,this);f+=1}else if(a=J(a))d=a,cd(d)?(a=Mb(d),f=Nb(d),d=a,e=R(a),a=f):(a=N(d),Eb(a,this),a=O(d),d=null,e=0),f=0;else break;b=J(Zi.B(c,b));c=null;for(e=d=0;;)if(e<d)a=c.ea(null,e),Gb(a,this),e+=1;else if(b=J(b))c=b,cd(c)?(b=Mb(c),d=Nb(c),c=b,a=R(b),b=d,d=a):(a=N(c),Gb(a,this),b=O(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.gb&&null!=this.rb?this._run(!0):null};g._try_capture=function(a){try{return this.ec=null,aj(a,this)}catch(b){return this.ec=this.state=a=b,this.gb=!1}};g._run=function(a){var b=this.state;a=x(a)?this._try_capture(this.f):aj(this.f,this);this.Fc||(this.state=a,null==this.ua||P.B(b,a)||ej(this,b,a));return a};
g._set_opts=function(a){var b=Sd(a);a=H.B(b,Rg);var c=H.B(b,qh),d=H.B(b,Tg);b=H.B(b,sh);null!=a&&(this.Za=a);null!=c&&(this.kd=c);null!=d&&(this.Gc=d);return null!=b?this.Fc=b:null};g.ia=function(a,b,c){return fj(b,c,"Reaction",new v(null,1,[mg,this.fb(null)],null))};g.ga=function(){return ba(this)};g.fa=function(a,b){return this===b};
g.sc=function(){var a=this.state,b=this.rb;this.Za=this.state=this.rb=null;this.gb=!0;b=J(Wf(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e);Gb(f,this);e+=1}else if(b=J(b))c=b,cd(c)?(b=Mb(c),e=Nb(c),c=b,d=R(b),b=e):(b=N(c),Gb(b,this),b=O(c),c=null,d=0),e=0;else break;null!=this.Gc&&this.Gc(a);a=this.Cd;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.j?d.j(this):d.call(null,this),c+=1;else return null};g.Sa=function(a,b){a=this.state;this.state=b;this.kd(a,b);ej(this,a,b);return b};
g.kc=function(a,b){a=this.Sa;var c=this._peek_at();b=b.j?b.j(c):b.call(null,c);return a.call(this,null,b)};g.lc=function(a,b,c){a=this.Sa;var d=this._peek_at();b=b.B?b.B(d,c):b.call(null,d,c);return a.call(this,null,b)};g.mc=function(a,b,c,d){a=this.Sa;var e=this._peek_at();b=b.D?b.D(e,c,d):b.call(null,e,c,d);return a.call(this,null,b)};g.nc=function(a,b,c,d,e){return this.Sa(null,Qd(b,this._peek_at(),c,d,e))};g.oc=function(a,b){ej(this,a,b)};g.Sb=function(a,b,c){return cj(this,b,c)};
g.Tb=function(a,b){a=Vc(this.ua);dj(this,b);return!a&&Vc(this.ua)&&null==this.Za?this.sc(null):null};g.fb=function(){var a=this.ec;if(null!=a)throw a;(a=null==$i)&&(lj.O?lj.O():lj.call(null));a&&null==this.Za?this.gb&&(a=this.state,this.state=this.f.O?this.f.O():this.f.call(null),null==this.ua||P.B(a,this.state)||ej(this,a,this.state)):(bj(this),this.gb&&this._run(!1));return this.state};
function lj(){for(;;){var a=gj;if(null==a)return null;gj=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}Pi=lj;function mj(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new K(b.slice(1),0,null):null;b=arguments[0];var e=Sd(c);c=H.B(e,Rg);d=H.B(e,qh);e=H.B(e,Tg);b=new kj(b);b._set_opts(new v(null,3,[Rg,c,qh,d,Tg,e],null));return b}var nj=mj(null);
function oj(a,b){var c=pj,d=nj,e=aj(a,d);null!=d.rb&&(nj=mj(null),d._set_opts(c),d.f=a,d.Za=function(){return Ui.j?Ui.j(b):Ui.call(null,b)},b.cljsRatom=d);return e};var qj;function rj(a,b){var c=b.argv;if(null==c){c=Z;a=a.constructor;a:for(var d=ha(b),e=d.length,f=Td,h=0;;)if(h<e){var k=d[h];f=W.D(f,yd.j(k),ia(b,k));h+=1}else break a;b=new Y(null,2,5,c,[a,f],null)}else b=c;return b}function sj(a){var b;if(b=Pc(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.ib);return b}
function tj(a,b){for(;;){var c=a.ib,d=!0===a.bd?c.call(a,a):function(){var e=rj(a,a.props);switch(R(e)){case 1:return c.call(a);case 2:return c.call(a,Ec(e,1));case 3:return c.call(a,Ec(e,1),Ec(e,2));case 4:return c.call(a,Ec(e,1),Ec(e,2),Ec(e,3));case 5:return c.call(a,Ec(e,1),Ec(e,2),Ec(e,3),Ec(e,4));default:return c.apply(a,Fa(e).slice(1))}}();if(bd(d))return Xi(b,d);if(gd(d))d=sj(d)?function(e,f,h,k,l){return function(){function m(p){var q=null;if(0<arguments.length){q=0;for(var r=Array(arguments.length-
0);q<r.length;)r[q]=arguments[q+0],++q;q=new K(r,0,null)}return n.call(this,q)}function n(p){return Xi(f,Pd(Le,l,p))}m.$=0;m.ba=function(p){p=J(p);return n(p)};m.K=n;return m}()}(a,b,c,null,d):d,a.ib=d;else return d}}var pj=new v(null,1,[sh,!0],null);
function uj(a,b){switch(a instanceof I?a.Ra:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){var e=b.call,f=c.argv;null!=f&&(c=V(f,1,null),c=$c(c)?c:null);return e.call(b,null,c,d)};case "getInitialState":return function(c){var d=c.dd;d=null!=d?d:c.dd=ij.j(null);return be(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,rj(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,rj(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,rj(this,c))};case "shouldComponentUpdate":return function(c){var d=Ii;if(x(d))return d;d=this.props.argv;var e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return!P.B(d,e)}catch(h){return!1}}else return f?b.call(this,this,rj(this,this.props),rj(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,rj(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,rj(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,rj(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=ia(this,"cljsRatom");null!=c&&jj(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}var vj=new v(null,2,[Xh,null,Kh,null],null),wj=function(a){var b=new ae(Td);return function(c){var d=H.B(F(b),c);if(null!=d)return d;d=a.j?a.j(c):a.call(null,c);ce.T(b,W,c,d);return d}}(function(a){if("string"===typeof a)return a;a=X(a);a=wi(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=yi(a);var b=J(a);a=N(b);b=O(b);return Pd(B,a,de.B(Di,b))});function xj(a){return od(function(b,c,d){return W.D(b,yd.j(wj(c)),d)},Td,a)}
function yj(a,b){var c=function(){var h=nh.j(a);return x(h)?h:Og.j(a)}(),d=null==nh.j(a),e=function(){var h=Sg.j(a);if(x(h))return h;h=Fi(c);return x(h)?h:B.j(og("reagent"))}(),f=od(function(h,k,l){var m=W.D,n=uj(k,l);return m.call(W,h,k,x(n)?n:l)},Td,a);return W.K(f,Sg,e,Ic([jh,d,nh,c,Og,function(){var h=this,k=ia(h,"cljsRatom");h.cljsIsDirty=!1;return null==k?oj(function(){a:{var l=qj;qj=h;try{var m=tj(h,b);break a}finally{qj=l}m=void 0}return m},h):k._run(!1)}]))}
function zj(a){return od(function(b,c,d){c=X(c);b[c]=d;return b},{},a)}function Aj(a,b){return yj(Of.K(Ic([vj,xj(a)])),b)}var Qf=new Y(null,5,5,Z,[ah,Wh,Mh,Qh,Vg],null);
function Bj(a,b){function c(k,l,m){ti.Component.call(this,k,l,m);x(h)&&(h.B?h.B(this,k):h.call(null,this,k));x(f)&&(this.state=f.j?f.j(this):f.call(null,this));this.qc=Li+=1;return this}a=Aj(a,b);b=zj(Rd(Oc,a,Sg,ph,Yg,Ic([Og,nh,Qf])));var d=zj(Pf(a)),e=Sg.j(a),f=ph.j(a),h=Yg.j(a);ka(c.prototype,ti.Component.prototype,b);x(Og.j(a))&&(c.prototype.render=Og.j(a));x(nh.j(a))&&(c.prototype.ib=nh.j(a));x(jh.j(a))&&(c.prototype.bd=jh.j(a));ka(c,ti.Component,d);x(e)&&(c.displayName=e,c.nb=e,c.Ub=function(k){return G(k,
e)},Object.defineProperty(c,"name",{value:e,writable:!1}));c.Ib=!0;return c.prototype.constructor=c}function Cj(a,b,c){a=Vi(a);return b[a]=c}
function Dj(a,b){for(;;){var c=b.ib,d=b.argv,e=Od(c,d);if(bd(e))return Xi(a,e);if(gd(e))c=sj(e)?function(f,h,k,l,m,n){return function(){function p(r){var w=null;if(0<arguments.length){w=0;for(var z=Array(arguments.length-0);w<z.length;)z[w]=arguments[w+0],++w;w=new K(z,0,null)}return q.call(this,w)}function q(r){return Xi(f,Pd(Le,n,r))}p.$=0;p.ba=function(r){r=J(r);return q(r)};p.K=q;return p}()}(a,b,c,null,d,e):e,b.ib=c;else return e}}
function Ej(a,b){var c=b.argv,d=b.ib;b=ti.useState(0);V(b,0,null);var e=V(b,1,null),f=ti.useRef();x(f.current)||function(){var k={forceUpdate:function(){return e.j?e.j(tc):e.call(null,tc)}};k.qc=Li+=1;k.constructor=d;k.ib=d;return f.current=k}();var h=f.current;b=ia(h,"cljsRatom");ti.useEffect(function(){return function(){var k=ia(h,"cljsRatom");return null==k?null:jj(k)}},[]);h.argv=c;h.cljsIsDirty=!1;return null==b?oj(function(){a:{var k=qj;qj=h;try{var l=Dj(a,h);break a}finally{qj=k}l=void 0}return l},
h):b._run(!1)}function Fj(a,b){a=a.argv;b=b.argv;var c=!1===Ii;if(c)try{return P.B(a,b)}catch(d){return!1}else return c}function Gj(a,b){function c(e){return Ej(a,e)}var d=ia(b,Vi(a));if(x(d))return d;d=Fi(b);c.displayName=d;Object.defineProperty(c,"name",{value:d,writable:!1});d=ti.memo(c,Fj);Cj(a,b,d);return d};var Hj=new Tf(null,new v(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null),Ij=!1;
function Jj(a,b,c,d){var e=Sd(Td);e=H.B(e,Ch);if(x(function(){var h=!(a===document.activeElement&&id(Hj,a.type)&&"string"===typeof b&&"string"===typeof c);return h?h:Ij}()))return d.Vb=b,a.value=b,Pc(e)?e.j?e.j(b):e.call(null,b):null;var f=a.value;if(!P.B(f,c))return Ti.add_after_render(function(){var h=Ij;Ij=!0;try{return Kj.j?Kj.j(d):Kj.call(null,d)}finally{Ij=h}});f=R(f)-a.selectionStart;f=R(b)-f;d.Vb=b;a.value=b;Pc(e)&&(e.j?e.j(b):e.call(null,b));a.selectionStart=f;return a.selectionEnd=f}
function Kj(a){if(x(a.pc)){a.Cc=!1;var b=a.cd,c=a.Vb,d=a.rc;return P.B(b,c)?null:Jj(d,b,c,a)}return null}function Lj(a,b,c){a.Vb=c.target.value;x(a.Cc)||(a.Cc=!0,Ti.add_after_render(function(){return Kj(a)}));return b.j?b.j(c):b.call(null,c)}
function Mj(a){var b=qj;if(x(function(){var f=null!=a;return f?(f=a.hasOwnProperty("onChange"),x(f)?a.hasOwnProperty("value"):f):f}())){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;x(b.pc)||(b.pc=!0,b.Vb=c);x(b.Kc)||(b.Kc=Pc(e)?function(f){b.rc=f;return e.j?e.j(f):e.call(null,f)}:x(x(e)?e.hasOwnProperty("current"):e)?function(f){b.rc=f;return e.current=f}:function(f){return b.rc=f});b.cd=c;delete a.value;a.defaultValue=c;a.onChange=function(f){return Lj(b,d,f)};a.ref=b.Kc}}
var Nj=new v(null,4,[Sh,"ReagentInput",wh,Kj,ai,function(a){return a.pc=null},yh,function(a,b,c,d,e){Mj(c);return Yi(e,a,b,c,d)}],null);var Oj={},Pj,Qj=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,Rj={"class":"className","for":"htmlFor",charset:"charSet"};function Sj(a,b){return a.hasOwnProperty(b)?ia(a,b):null}function Tj(a,b,c){if(Gi(b)){var d=Sj(Rj,X(b));null==d?(d=Ei(b),b=X(b),b=Rj[b]=d):b=d}c=Uj.j?Uj.j(c):Uj.call(null,c);a[b]=c;return a}
function Uj(a){return"object"!==t(a)?a:Gi(a)?X(a):$c(a)?od(Tj,{},a):Wc(a)?sg(a):gd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return Od(a,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}():sg(a)}var Vj={};function Wj(a,b,c){if(Gi(b)){var d=Sj(Vj,X(b));null==d?(d=Ei(b),b=X(b),b=Vj[b]=d):b=d}c=Uj(c);a[b]=c;return a}
function Xj(a){return"object"!==t(a)?a:Gi(a)?X(a):$c(a)?od(Wj,{},a):Wc(a)?sg(a):gd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return Od(a,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}():sg(a)}
function Yj(a,b,c,d,e){switch(R(b)-e){case 0:return ti.createElement(c,d);case 1:return ti.createElement(c,d,Xi(a,V(b,e,null)));default:return ti.createElement.apply(null,od(function(f,h,k){h>=e&&f.push(Xi(a,k));return f},[c,d],b))}}function Zj(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.ed=d}function ak(a,b,c){var d=ia(a,Vi(c));null==d?sj(a)?a=Cj(c,a,a):(d=Tc(a),d=W.D(d,yh,a),d=Bj(d,c),a=Cj(c,a,d)):a=d;c={};c.argv=b;b=Ki(b);null!=b&&(c.key=b);return ti.createElement(a,c)}
function bk(a,b,c,d){var e={};e.ib=a;var f=R(b);c=Pe(null,b,c|0,f|0,null);e.argv=c;b=Ki(b);null!=b&&(e.key=b);return ti.createElement(Gj(d,a),e)}function ck(a,b,c){var d;if(d=Pc(a))d=null==a?null:a.prototype,d=null!=(null==d?null:d.render);return d?ak(a,b,c):bk(a,b,1,c)}var dk={};function ek(a,b){a=Sj(dk,b);if(null==a){var c=O(Xf(Qj,X(b)));a=V(c,0,null);var d=V(c,1,null);c=V(c,2,null);c=null==c?null:wi(c,/\./," ");var e=a.indexOf("-");e=!P.B(-1,e);a=new Zj(a,d,c,e);return dk[b]=a}return a}
function fk(a,b,c,d){var e=a.tag,f=V(b,c,null),h=null==f||$c(f),k=function(){var n=h?f:null;var p=fh.j(n);p=x(p)?W.D(n,fh,Hi.j(p)):n;var q=a.id;n=a.className;q=null!=q&&null==Zh.j(p)?W.D(p,Zh,q):p;if(x(n)){var r=W.D,w=Hi.B,z=fh.j(p);p=x(z)?z:di.j(p);n=r.call(W,q,fh,w.call(Hi,n,p))}else n=q;n=x(a.ed)?Xj(n):Uj(n);return x(n)?n:{}}();c+=h?1:0;a:switch(e){case "input":case "textarea":var l=!0;break a;default:l=!1}if(l){l=Ji(f);var m=function(){var n=d.od;if(x(n))return n;n=Bj(Nj,d);return d.od=n}();return Xi(d,
Sc(new Y(null,6,5,Z,[m,b,e,k,c,d],null),Of.K(Ic([x(l)?new v(null,1,[Eh,l],null):null,Tc(b)]))))}l=Ji(Tc(b));null!=l&&(k.key=l);return Yi(d,b,e,k,c)}function gk(a,b){return Fa(de.B(function(c){return Xi(b,c)},a))}
function hk(a,b,c){null==b&&console.error("vec-to-elem",ig(Ic([a])));var d=V(a,0,null);switch(d instanceof I?d.Ra:null){case "\x3e":return c=V(a,1,null),fk(new Zj(c,null,null,null),a,2,b);case "r\x3e":c=V(a,1,null);d=V(a,2,null);d=x(d)?d:{};var e=Ji(Tc(a));null!=e&&(d.key=e);return Yi(b,a,c,d,3);case "f\x3e":return bk(V(a,1,null),a,2,b);case "\x3c\x3e":return d=V(a,1,null),c=null==d||$c(d),d=Uj(c?d:null),d=x(d)?d:{},c=1+(c?1:0),e=Ki(a),null!=e&&(d.key=e),Yi(b,a,ti.Fragment,d,c);default:if(Gi(d)||
"string"===typeof d)a:for(;;)switch(c=V(a,0,null),d=X(c),e=d.indexOf("\x3e"),e){case -1:b=fk(Wi(b,d,c),a,1,b);break a;case 0:b=null;break a;default:a=Sc(new Y(null,2,5,Z,[d.substring(0,e),W.D(Sc(a,null),0,d.substring(e+1))],null),Tc(a))}else b=c.D?c.D(d,a,b):c.call(null,d,a,b);return b}}
var ik=function(a){var b=og("reagent-compiler"),c=x(Ah.j(a))?ck:ak,d=H.D(a,ii,ek);if("undefined"===typeof zi||"undefined"===typeof Ai||"undefined"===typeof Oj||"undefined"===typeof Pj)Pj=function(e,f,h,k,l){this.ld=e;this.id=f;this.Dc=h;this.$b=k;this.jd=l;this.F=393216;this.P=0},Pj.prototype.ka=function(e,f){return new Pj(this.ld,this.id,this.Dc,this.$b,f)},Pj.prototype.ha=function(){return this.jd},Pj.prototype.nd=function(){return this.id},Pj.prototype.Jc=function(e,f,h){return this.$b.D?this.$b.D(this,
f,h):this.$b.call(null,this,f,h)},Pj.prototype.Hc=function(e,f){e=this.Dc;return"object"!==t(f)?f:bd(f)?hk(f,this,e):(null==f?0:null!=f?f.F&64||u===f.ub||(f.F?0:y(Ua,f)):y(Ua,f))?gk(f,this):Gi(f)?X(f):(null!=f?f.F&2147483648||u===f.na||(f.F?0:y(Cb,f)):y(Cb,f))?ig(Ic([f])):f},Pj.prototype.Ic=function(e,f,h,k,l){return Yj(this,f,h,k,l)},Pj.Ib=!0,Pj.nb="reagent.impl.template/t_reagent$impl$template26299",Pj.Ub=function(e){return G(e,"reagent.impl.template/t_reagent$impl$template26299")};return new Pj(a,
b,c,d,Td)}(Td);var jk=si(9,{});function kk(a){a=ia(a,"comp");ti.useEffect(function(){var c=Ii;Ii=!1;try{Ti.flush_after_render()}finally{Ii=c}});var b=Ii;Ii=!0;try{return a.O?a.O():a.call(null)}finally{Ii=b}}function lk(){var a=new Y(null,1,5,Z,[mk],null);nk.render(ti.createElement(kk,{comp:function(){return Xi(ik,a)}}))};var ok=si(73,{});function pk(a,b){this.Ec=a;this.Mc=b}pk.prototype.getKey=function(){return this.Ec};pk.prototype.getValue=function(){return this.Mc};pk.prototype.clone=function(){return new pk(this.Ec,this.Mc)};function qk(a){this.Xa=[];if(a)a:{if(a instanceof qk){var b=a.Xa;for(var c=[],d=b.length,e=0;e<d;e++)c.push(b[e].getKey());b=c;a=a.Xa;c=[];d=a.length;for(e=0;e<d;e++)c.push(a[e].getValue());a=c;if(0>=this.Xa.length){c=this.Xa;for(d=0;d<b.length;d++)c.push(new pk(b[d],a[d]));break a}}else{b=ha(a);c=[];d=0;for(e in a)c[d++]=a[e];a=c}for(d=0;d<b.length;d++)this.insert(b[d],a[d])}}g=qk.prototype;
g.insert=function(a,b){var c=this.Xa;c.push(new pk(a,b));a=c.length-1;b=this.Xa;for(c=b[a];0<a;){var d=a-1>>1;if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};g.remove=function(){var a=this.Xa,b=a.length,c=a[0];if(!(0>=b)){if(1==b)la(a);else{a[0]=a.pop();a=0;b=this.Xa;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};g.peek=function(){var a=this.Xa;if(0!=a.length)return a[0].getValue()};
g.clone=function(){return new qk(this)};g.isEmpty=function(){return 0===this.Xa.length};g.clear=function(){la(this.Xa)};function rk(){qk.call(this)}fa(rk,qk);rk.prototype.enqueue=function(a,b){this.insert(a,b)};rk.prototype.dequeue=function(){return this.remove()};function sk(a){--a;return 0<a?a:0}function tk(a){a=Sd(a);var b=H.B(a,Pg);return H.B(a,Wg)*Math.sqrt(-2*Math.log(1-Math.random()))*Math.cos(2*Math.PI*Math.random())+b}var Kg=function(){var a=new ae(Td),b=new ae(Td),c=new ae(Td),d=new ae(Td),e=H.D(Td,Bh,vg.O?vg.O():vg.call(null));return new Gg(hc.B("net.thewagner.skiers.core","handle-event"),function(f,h){return Ph.j(h)},e,a,b,c,d)}();Jg(Hg,function(a){return a});Jg(rh,function(a){return je(je(a,Dh,sk),Nh,tc)});
Jg(Mg,function(a,b){a=Sd(a);var c=H.B(a,ki),d=H.B(a,Uh);b=Sd(b);b=H.B(b,Jh);c=d/tk(c);return ke(je(je(a,hi,sk),Dh,tc),gi,Jc,new v(null,2,[Ph,rh,Jh,b+c],null))});Jg(vh,function(a,b){var c=Sd(a),d=H.B(c,Gh),e=H.B(c,bi);a=H.B(c,fi);b=Sd(b);b=H.B(b,Jh);var f=Nh.j(c);e=0>f?0:0<=f&&f<=e?f:e<f?e:null;c=ke(ke(c,Nh,sd,e),hi,rd,e);d=new v(null,2,[Ph,Mg,Jh,b+tk(d)],null);return ke(ke(c,gi,ie,ee(e,new he(null,-1,d,null))),gi,Jc,new v(null,2,[Ph,vh,Jh,b+a],null))});var uk;
a:for(var vk=[Uh,hi,Gh,gi,Dh,fi,xh,ki,bi,Jh,Nh],wk=[3E3,0,new v(null,2,[Pg,300,Wg,30],null),new Y(null,1,5,Z,[new v(null,2,[Ph,vh,Jh,0],null)],null),0,7,1E4,new v(null,3,[Pg,5,Wg,1,Yh,"m/s"],null),4,0,25],xk=vk.length,yk=0,zk=Hb(ef);;)if(yk<xk){if(wk.length<=yk)throw Error(["No value supplied for key: ",B.j(vk[yk])].join(""));var Ak=yk+1,Bk=Kb(zk,vk[yk],wk[yk]);yk=Ak;zk=Bk}else{uk=Jb(zk);break a};var Ck=new v(null,6,[$h,"https://vega.github.io/schema/vega-lite/v5.json",gh,"A simple bar chart with embedded data.",Ug,new v(null,1,[oh,ci],null),bh,new Y(null,1,5,Z,[new v(null,2,[Qg,new Y(null,3,5,Z,[Dh,Nh,hi],null),mh,new Y(null,2,5,Z,["state","number-of-skiers"],null)],null)],null),Oh,"line",zh,new v(null,3,[Ih,new v(null,4,[ch,Jh,ji,"quantitative",hh,"time",Lh,new v(null,1,[Fh,!1],null)],null),Hh,new v(null,3,[ch,"number-of-skiers",ji,"quantitative",hh,"Number of skiers"],null),kh,new v(null,
1,[ch,"state"],null)],null)],null),Dk=new v(null,6,[$h,"https://vega.github.io/schema/vega-lite/v5.json",gh,"A simple bar chart with embedded data.",Ug,new v(null,1,[oh,ci],null),bh,new Y(null,1,5,Z,[new v(null,2,[Qg,new Y(null,3,5,Z,[Dh,Nh,hi],null),mh,new Y(null,2,5,Z,["state","number-of-skiers"],null)],null)],null),Oh,"bar",zh,new v(null,3,[Ih,new v(null,4,[ch,Jh,ji,"quantitative",hh,"time",Lh,new v(null,1,[Fh,!1],null)],null),Hh,new v(null,4,[ch,"number-of-skiers",ji,"quantitative",lh,"normalize",
hh,"Percentage of skiers"],null),kh,new v(null,1,[ch,"state"],null)],null)],null),Ek=ij.j(new v(null,1,[ci,new Y(null,1,5,Z,[uk],null)],null)),Fk=ij.j(new v(null,1,[eh,!0],null));
function Gk(){return ce.B(Ek,function(a){var b=W.D,c=Jc.B,d=ci.j(a),e;a:for(e=ci.j(a);;){var f=O(e);if(null!=f)e=f;else{e=N(e);break a}}a:{f=e;e=Kg;var h=gi.j(f),k=new rk;h=J(h);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ea(null,n);k.enqueue(Jh.j(p),p);n+=1}else if(h=J(h))l=h,cd(l)?(h=Mb(l),n=Nb(l),l=h,m=R(h),h=n):(h=N(l),k.enqueue(Jh.j(h),h),h=O(l),l=null,m=0),n=0;else break;h=k.dequeue();if(x(h)){m=l=W.D;b:for(n=Kc;;){if(x(k.isEmpty()))break b;p=k.dequeue();n=Jc.B(n,p)}f=m.call(W,f,gi,n);e=e.B?e.B(f,
h):e.call(null,f,h);e=l.call(W,e,Jh,h.j?h.j(Jh):h.call(null,Jh))}else e=f;d=c.call(Jc,d,e);c=J(d);for(d=J(fe(200,d));;)if(d)c=O(c),d=O(d);else break a}return b.call(W,a,ci,He(c))})}function Hk(){return x(eh.j(F(Fk)))?new Y(null,3,5,Z,[Lg,new v(null,1,[ih,function(){return ce.T(Fk,W,eh,!1)}],null),"Pause"],null):new Y(null,3,5,Z,[Lg,new v(null,1,[ih,function(){return ce.T(Fk,W,eh,!0)}],null),"Resume"],null)}
function Ik(){return new Y(null,3,5,Z,[Th,new v(null,2,[ji,"reset",ih,function(){be(Ek,new v(null,1,[ci,new Y(null,1,5,Z,[uk],null)],null));return be(Fk,new v(null,1,[eh,!0],null))}],null),"Restart"],null)}
function mk(){x(eh.j(F(Fk)))&&setTimeout(function(){return Gk()},100);return new Y(null,4,5,Z,[th,new Y(null,2,5,Z,[Vh,new Y(null,2,5,Z,[ei,"Skiers simulation"],null)],null),new Y(null,2,5,Z,[Vh,new Y(null,3,5,Z,[Ng,new Y(null,1,5,Z,[Hk],null),new Y(null,1,5,Z,[Ik],null)],null)],null),new Y(null,2,5,Z,[Vh,new Y(null,3,5,Z,[uh,new Y(null,2,5,Z,[Zg,new Y(null,3,5,Z,[dh,ok.VegaLite,new v(null,3,[Xg,Ck,Ug,F(Ek),$g,!1],null)],null)],null),new Y(null,2,5,Z,[Zg,new Y(null,3,5,Z,[dh,ok.VegaLite,new v(null,
3,[Xg,Dk,Ug,F(Ek),$g,!1],null)],null)],null)],null)],null)],null)}var Jk=jk.createRoot,Kk;Kk=document.getElementById("app");var nk=Jk.call(jk,Kk);try{lk()}catch(a){throw console.error("An error occurred when calling (net.thewagner.skiers.web/init)"),a;};
}).call(this);