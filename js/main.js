var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&(c=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+c+"$"+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};
$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(f,g){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,e=function(f){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+d++,f)};return e},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.polyfill("Symbol.asyncIterator",function(a){return a?a:Symbol("Symbol.asyncIterator")},"es9","es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};
(function(){
shadow$provide[0]=function(dc,Db,Wc,nb){function v(Z){if(null===Z||"object"!==typeof Z)return null;Z=Qa&&Z[Qa]||Z["@@iterator"];return"function"===typeof Z?Z:null}function k(Z,Fa,Ga){this.props=Z;this.context=Fa;this.refs=lb;this.updater=Ga||Da}function P(){}function ib(Z,Fa,Ga){this.props=Z;this.context=Fa;this.refs=lb;this.updater=Ga||Da}function Gb(Z,Fa,Ga){var db,ba={},na=null,q=null;if(null!=Fa)for(db in void 0!==Fa.ref&&(q=Fa.ref),void 0!==Fa.key&&(na=""+Fa.key),Fa)xb.call(Fa,db)&&!Qb.hasOwnProperty(db)&&
(ba[db]=Fa[db]);var M=arguments.length-2;if(1===M)ba.children=Ga;else if(1<M){for(var Q=Array(M),g=0;g<M;g++)Q[g]=arguments[g+2];ba.children=Q}if(Z&&Z.defaultProps)for(db in M=Z.defaultProps,M)void 0===ba[db]&&(ba[db]=M[db]);return{$$typeof:Ua,type:Z,key:na,ref:q,props:ba,_owner:sb.current}}function ac(Z,Fa){return{$$typeof:Ua,type:Z.type,key:Fa,ref:Z.ref,props:Z.props,_owner:Z._owner}}function vc(Z){return"object"===typeof Z&&null!==Z&&Z.$$typeof===Ua}function Ac(Z){var Fa={"\x3d":"\x3d0",":":"\x3d2"};
return"$"+Z.replace(/[=:]/g,function(Ga){return Fa[Ga]})}function uc(Z,Fa){return"object"===typeof Z&&null!==Z&&null!=Z.key?Ac(""+Z.key):Fa.toString(36)}function Bb(Z,Fa,Ga,db,ba){var na=typeof Z;if("undefined"===na||"boolean"===na)Z=null;var q=!1;if(null===Z)q=!0;else switch(na){case "string":case "number":q=!0;break;case "object":switch(Z.$$typeof){case Ua:case ub:q=!0}}if(q)return q=Z,ba=ba(q),Z=""===db?"."+uc(q,0):db,Pa(ba)?(Ga="",null!=Z&&(Ga=Z.replace(Wb,"$\x26/")+"/"),Bb(ba,Fa,Ga,"",function(g){return g})):
null!=ba&&(vc(ba)&&(ba=ac(ba,Ga+(!ba.key||q&&q.key===ba.key?"":(""+ba.key).replace(Wb,"$\x26/")+"/")+Z)),Fa.push(ba)),1;q=0;db=""===db?".":db+":";if(Pa(Z))for(var M=0;M<Z.length;M++){na=Z[M];var Q=db+uc(na,M);q+=Bb(na,Fa,Ga,Q,ba)}else if(Q=v(Z),"function"===typeof Q)for(Z=Q.call(Z),M=0;!(na=Z.next()).done;)na=na.value,Q=db+uc(na,M++),q+=Bb(na,Fa,Ga,Q,ba);else if("object"===na)throw Fa=String(Z),Error("Objects are not valid as a React child (found: "+("[object Object]"===Fa?"object with keys {"+Object.keys(Z).join(", ")+
"}":Fa)+"). If you meant to render a collection of children, use an array instead.");return q}function jc(Z,Fa,Ga){if(null==Z)return Z;var db=[],ba=0;Bb(Z,db,"","",function(na){return Fa.call(Ga,na,ba++)});return db}function Yb(Z){if(-1===Z._status){var Fa=Z._result;Fa=Fa();Fa.then(function(Ga){if(0===Z._status||-1===Z._status)Z._status=1,Z._result=Ga},function(Ga){if(0===Z._status||-1===Z._status)Z._status=2,Z._result=Ga});-1===Z._status&&(Z._status=0,Z._result=Fa)}if(1===Z._status)return Z._result.default;
throw Z._result;}var Ua=Symbol.for("react.element"),ub=Symbol.for("react.portal");dc=Symbol.for("react.fragment");Db=Symbol.for("react.strict_mode");Wc=Symbol.for("react.profiler");var Kb=Symbol.for("react.provider"),Lb=Symbol.for("react.context"),Cb=Symbol.for("react.forward_ref"),Pb=Symbol.for("react.suspense"),ab=Symbol.for("react.memo"),pb=Symbol.for("react.lazy"),Qa=Symbol.iterator,Da={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},
Ka=Object.assign,lb={};k.prototype.isReactComponent={};k.prototype.setState=function(Z,Fa){if("object"!==typeof Z&&"function"!==typeof Z&&null!=Z)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,Fa,"setState")};k.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};P.prototype=k.prototype;var mb=ib.prototype=new P;mb.constructor=ib;Ka(mb,k.prototype);
mb.isPureReactComponent=!0;var Pa=Array.isArray,xb=Object.prototype.hasOwnProperty,sb={current:null},Qb={key:!0,ref:!0,__self:!0,__source:!0},Wb=/\/+/g,ob={current:null},pa={transition:null};mb={ReactCurrentDispatcher:ob,ReactCurrentBatchConfig:pa,ReactCurrentOwner:sb};nb.Children={map:jc,forEach:function(Z,Fa,Ga){jc(Z,function(){Fa.apply(this,arguments)},Ga)},count:function(Z){var Fa=0;jc(Z,function(){Fa++});return Fa},toArray:function(Z){return jc(Z,function(Fa){return Fa})||[]},only:function(Z){if(!vc(Z))throw Error("React.Children.only expected to receive a single React element child.");
return Z}};nb.Component=k;nb.Fragment=dc;nb.Profiler=Wc;nb.PureComponent=ib;nb.StrictMode=Db;nb.Suspense=Pb;nb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mb;nb.cloneElement=function(Z,Fa,Ga){if(null===Z||void 0===Z)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Z+".");var db=Ka({},Z.props),ba=Z.key,na=Z.ref,q=Z._owner;if(null!=Fa){void 0!==Fa.ref&&(na=Fa.ref,q=sb.current);void 0!==Fa.key&&(ba=""+Fa.key);if(Z.type&&Z.type.defaultProps)var M=Z.type.defaultProps;
for(Q in Fa)xb.call(Fa,Q)&&!Qb.hasOwnProperty(Q)&&(db[Q]=void 0===Fa[Q]&&void 0!==M?M[Q]:Fa[Q])}var Q=arguments.length-2;if(1===Q)db.children=Ga;else if(1<Q){M=Array(Q);for(var g=0;g<Q;g++)M[g]=arguments[g+2];db.children=M}return{$$typeof:Ua,type:Z.type,key:ba,ref:na,props:db,_owner:q}};nb.createContext=function(Z){Z={$$typeof:Lb,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};Z.Provider={$$typeof:Kb,_context:Z};return Z.Consumer=Z};
nb.createElement=Gb;nb.createFactory=function(Z){var Fa=Gb.bind(null,Z);Fa.type=Z;return Fa};nb.createRef=function(){return{current:null}};nb.forwardRef=function(Z){return{$$typeof:Cb,render:Z}};nb.isValidElement=vc;nb.lazy=function(Z){return{$$typeof:pb,_payload:{_status:-1,_result:Z},_init:Yb}};nb.memo=function(Z,Fa){return{$$typeof:ab,type:Z,compare:void 0===Fa?null:Fa}};nb.startTransition=function(Z){var Fa=pa.transition;pa.transition={};try{Z()}finally{pa.transition=Fa}};nb.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.");
};nb.useCallback=function(Z,Fa){return ob.current.useCallback(Z,Fa)};nb.useContext=function(Z){return ob.current.useContext(Z)};nb.useDebugValue=function(){};nb.useDeferredValue=function(Z){return ob.current.useDeferredValue(Z)};nb.useEffect=function(Z,Fa){return ob.current.useEffect(Z,Fa)};nb.useId=function(){return ob.current.useId()};nb.useImperativeHandle=function(Z,Fa,Ga){return ob.current.useImperativeHandle(Z,Fa,Ga)};nb.useInsertionEffect=function(Z,Fa){return ob.current.useInsertionEffect(Z,
Fa)};nb.useLayoutEffect=function(Z,Fa){return ob.current.useLayoutEffect(Z,Fa)};nb.useMemo=function(Z,Fa){return ob.current.useMemo(Z,Fa)};nb.useReducer=function(Z,Fa,Ga){return ob.current.useReducer(Z,Fa,Ga)};nb.useRef=function(Z){return ob.current.useRef(Z)};nb.useState=function(Z){return ob.current.useState(Z)};nb.useSyncExternalStore=function(Z,Fa,Ga){return ob.current.useSyncExternalStore(Z,Fa,Ga)};nb.useTransition=function(){return ob.current.useTransition()};nb.version="18.2.0"};
shadow$provide[2]=function(dc,Db,Wc,nb){Wc.exports=Db(0)};
shadow$provide[3]=function(dc,Db,Wc,nb){function v(Z,Fa){var Ga=Z.length;Z.push(Fa);a:for(;0<Ga;){var db=Ga-1>>>1,ba=Z[db];if(0<ib(ba,Fa))Z[db]=Fa,Z[Ga]=ba,Ga=db;else break a}}function k(Z){return 0===Z.length?null:Z[0]}function P(Z){if(0===Z.length)return null;var Fa=Z[0],Ga=Z.pop();if(Ga!==Fa){Z[0]=Ga;var db=0,ba=Z.length,na=ba>>>1;a:for(;db<na;){var q=2*(db+1)-1,M=Z[q],Q=q+1,g=Z[Q];if(0>ib(M,Ga))Q<ba&&0>ib(g,M)?(Z[db]=g,Z[Q]=Ga,db=Q):(Z[db]=M,Z[q]=Ga,db=q);else if(Q<ba&&0>ib(g,Ga))Z[db]=g,Z[Q]=
Ga,db=Q;else break a}}return Fa}function ib(Z,Fa){var Ga=Z.sortIndex-Fa.sortIndex;return 0!==Ga?Ga:Z.id-Fa.id}function Gb(Z){for(var Fa=k(Lb);null!==Fa;){if(null===Fa.callback)P(Lb);else if(Fa.startTime<=Z)P(Lb),Fa.sortIndex=Fa.expirationTime,v(Kb,Fa);else break;Fa=k(Lb)}}function ac(Z){Da=!1;Gb(Z);if(!Qa)if(null!==k(Kb))Qa=!0,Bb(vc);else{var Fa=k(Lb);null!==Fa&&jc(ac,Fa.startTime-Z)}}function vc(Z,Fa){Qa=!1;Da&&(Da=!1,lb(sb),sb=-1);pb=!0;var Ga=ab;try{Gb(Fa);for(Pb=k(Kb);null!==Pb&&(!(Pb.expirationTime>
Fa)||Z&&!Ac());){var db=Pb.callback;if("function"===typeof db){Pb.callback=null;ab=Pb.priorityLevel;var ba=db(Pb.expirationTime<=Fa);Fa=nb.unstable_now();"function"===typeof ba?Pb.callback=ba:Pb===k(Kb)&&P(Kb);Gb(Fa)}else P(Kb);Pb=k(Kb)}if(null!==Pb)var na=!0;else{var q=k(Lb);null!==q&&jc(ac,q.startTime-Fa);na=!1}return na}finally{Pb=null,ab=Ga,pb=!1}}function Ac(){return nb.unstable_now()-Wb<Qb?!1:!0}function uc(){if(null!==xb){var Z=nb.unstable_now();Wb=Z;var Fa=!0;try{Fa=xb(!0,Z)}finally{Fa?ob():
(Pa=!1,xb=null)}}else Pa=!1}function Bb(Z){xb=Z;Pa||(Pa=!0,ob())}function jc(Z,Fa){sb=Ka(function(){Z(nb.unstable_now())},Fa)}if("object"===typeof performance&&"function"===typeof performance.now){var Yb=performance;nb.unstable_now=function(){return Yb.now()}}else{var Ua=Date,ub=Ua.now();nb.unstable_now=function(){return Ua.now()-ub}}var Kb=[],Lb=[],Cb=1,Pb=null,ab=3,pb=!1,Qa=!1,Da=!1,Ka="function"===typeof setTimeout?setTimeout:null,lb="function"===typeof clearTimeout?clearTimeout:null,mb="undefined"!==
typeof setImmediate?setImmediate:null;"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var Pa=!1,xb=null,sb=-1,Qb=5,Wb=-1;if("function"===typeof mb)var ob=function(){mb(uc)};else if("undefined"!==typeof MessageChannel){dc=new MessageChannel;var pa=dc.port2;dc.port1.onmessage=uc;ob=function(){pa.postMessage(null)}}else ob=function(){Ka(uc,0)};nb.unstable_IdlePriority=5;nb.unstable_ImmediatePriority=
1;nb.unstable_LowPriority=4;nb.unstable_NormalPriority=3;nb.unstable_Profiling=null;nb.unstable_UserBlockingPriority=2;nb.unstable_cancelCallback=function(Z){Z.callback=null};nb.unstable_continueExecution=function(){Qa||pb||(Qa=!0,Bb(vc))};nb.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Qb=0<Z?Math.floor(1E3/Z):5};nb.unstable_getCurrentPriorityLevel=function(){return ab};
nb.unstable_getFirstCallbackNode=function(){return k(Kb)};nb.unstable_next=function(Z){switch(ab){case 1:case 2:case 3:var Fa=3;break;default:Fa=ab}var Ga=ab;ab=Fa;try{return Z()}finally{ab=Ga}};nb.unstable_pauseExecution=function(){};nb.unstable_requestPaint=function(){};nb.unstable_runWithPriority=function(Z,Fa){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var Ga=ab;ab=Z;try{return Fa()}finally{ab=Ga}};nb.unstable_scheduleCallback=function(Z,Fa,Ga){var db=nb.unstable_now();"object"===
typeof Ga&&null!==Ga?(Ga=Ga.delay,Ga="number"===typeof Ga&&0<Ga?db+Ga:db):Ga=db;switch(Z){case 1:var ba=-1;break;case 2:ba=250;break;case 5:ba=1073741823;break;case 4:ba=1E4;break;default:ba=5E3}ba=Ga+ba;Z={id:Cb++,callback:Fa,priorityLevel:Z,startTime:Ga,expirationTime:ba,sortIndex:-1};Ga>db?(Z.sortIndex=Ga,v(Lb,Z),null===k(Kb)&&Z===k(Lb)&&(Da?(lb(sb),sb=-1):Da=!0,jc(ac,Ga-db))):(Z.sortIndex=ba,v(Kb,Z),Qa||pb||(Qa=!0,Bb(vc)));return Z};nb.unstable_shouldYield=Ac;nb.unstable_wrapCallback=function(Z){var Fa=
ab;return function(){var Ga=ab;ab=Fa;try{return Z.apply(this,arguments)}finally{ab=Ga}}}};
shadow$provide[5]=function(dc,Db,Wc,nb){Wc.exports=Db(3)};
shadow$provide[6]=function(dc,Db,Wc,nb){function v(b){for(var e="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+b,n=1;n<arguments.length;n++)e+="\x26args[]\x3d"+encodeURIComponent(arguments[n]);return"Minified React error #"+b+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function k(b,e){P(b,e);P(b+"Capture",e)}function P(b,e){T[b]=e;for(b=0;b<e.length;b++)w.add(e[b])}function ib(b){if(Ea.call(Mb,b))return!0;
if(Ea.call(yb,b))return!1;if(rb.test(b))return Mb[b]=!0;yb[b]=!0;return!1}function Gb(b,e,n,K){if(null!==n&&0===n.type)return!1;switch(typeof e){case "function":case "symbol":return!0;case "boolean":if(K)return!1;if(null!==n)return!n.acceptsBooleans;b=b.toLowerCase().slice(0,5);return"data-"!==b&&"aria-"!==b;default:return!1}}function ac(b,e,n,K){if(null===e||"undefined"===typeof e||Gb(b,e,n,K))return!0;if(K)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);
case 6:return isNaN(e)||1>e}return!1}function vc(b,e,n,K,oa,Ba,tb){this.acceptsBooleans=2===e||3===e||4===e;this.attributeName=K;this.attributeNamespace=oa;this.mustUseProperty=n;this.propertyName=b;this.type=e;this.sanitizeURL=Ba;this.removeEmptyString=tb}function Ac(b){return b[1].toUpperCase()}function uc(b,e,n,K){var oa=Nb.hasOwnProperty(e)?Nb[e]:null;if(null!==oa?0!==oa.type:K||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])ac(e,n,oa,K)&&(n=null),K||null===oa?ib(e)&&(null===n?
b.removeAttribute(e):b.setAttribute(e,""+n)):oa.mustUseProperty?b[oa.propertyName]=null===n?3===oa.type?!1:"":n:(e=oa.attributeName,K=oa.attributeNamespace,null===n?b.removeAttribute(e):(oa=oa.type,n=3===oa||4===oa&&!0===n?"":""+n,K?b.setAttributeNS(K,e,n):b.setAttribute(e,n)))}function Bb(b){if(null===b||"object"!==typeof b)return null;b=Pg&&b[Pg]||b["@@iterator"];return"function"===typeof b?b:null}function jc(b){if(void 0===Ie)try{throw Error();}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);
Ie=e&&e[1]||""}return"\n"+Ie+b}function Yb(b,e){if(!b||oe)return"";oe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error();},Object.defineProperty(e.prototype,"props",{set:function(){throw Error();}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(Ad){var K=Ad}Reflect.construct(b,[],e)}else{try{e.call()}catch(Ad){K=Ad}b.call(e.prototype)}else{try{throw Error();}catch(Ad){K=Ad}b()}}catch(Ad){if(Ad&&K&&"string"===typeof Ad.stack){for(var oa=
Ad.stack.split("\n"),Ba=K.stack.split("\n"),tb=oa.length-1,wc=Ba.length-1;1<=tb&&0<=wc&&oa[tb]!==Ba[wc];)wc--;for(;1<=tb&&0<=wc;tb--,wc--)if(oa[tb]!==Ba[wc]){if(1!==tb||1!==wc){do if(tb--,wc--,0>wc||oa[tb]!==Ba[wc]){var Oc="\n"+oa[tb].replace(" at new "," at ");b.displayName&&Oc.includes("\x3canonymous\x3e")&&(Oc=Oc.replace("\x3canonymous\x3e",b.displayName));return Oc}while(1<=tb&&0<=wc)}break}}}finally{oe=!1,Error.prepareStackTrace=n}return(b=b?b.displayName||b.name:"")?jc(b):""}function Ua(b){switch(b.tag){case 5:return jc(b.type);
case 16:return jc("Lazy");case 13:return jc("Suspense");case 19:return jc("SuspenseList");case 0:case 2:case 15:return b=Yb(b.type,!1),b;case 11:return b=Yb(b.type.render,!1),b;case 1:return b=Yb(b.type,!0),b;default:return""}}function ub(b){if(null==b)return null;if("function"===typeof b)return b.displayName||b.name||null;if("string"===typeof b)return b;switch(b){case rd:return"Fragment";case mc:return"Portal";case ze:return"Profiler";case wd:return"StrictMode";case Uf:return"Suspense";case mg:return"SuspenseList"}if("object"===
typeof b)switch(b.$$typeof){case Ue:return(b.displayName||"Context")+".Consumer";case qe:return(b._context.displayName||"Context")+".Provider";case Ef:var e=b.render;(b=b.displayName)||(b=e.displayName||e.name||"",b=""!==b?"ForwardRef("+b+")":"ForwardRef");return b;case Hh:return e=b.displayName||null,null!==e?e:ub(b.type)||"Memo";case gg:e=b._payload;b=b._init;try{return ub(b(e))}catch(n){}}return null}function Kb(b){var e=b.type;switch(b.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+
".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return b=e.render,b=b.displayName||b.name||"",e.displayName||(""!==b?"ForwardRef("+b+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ub(e);case 8:return e===wd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";
case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function Lb(b){switch(typeof b){case "boolean":case "number":case "string":case "undefined":return b;case "object":return b;default:return""}}function Cb(b){var e=b.type;return(b=b.nodeName)&&"input"===b.toLowerCase()&&("checkbox"===e||"radio"===e)}function Pb(b){var e=Cb(b)?"checked":"value",n=Object.getOwnPropertyDescriptor(b.constructor.prototype,
e),K=""+b[e];if(!b.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var oa=n.get,Ba=n.set;Object.defineProperty(b,e,{configurable:!0,get:function(){return oa.call(this)},set:function(tb){K=""+tb;Ba.call(this,tb)}});Object.defineProperty(b,e,{enumerable:n.enumerable});return{getValue:function(){return K},setValue:function(tb){K=""+tb},stopTracking:function(){b._valueTracker=null;delete b[e]}}}}function ab(b){b._valueTracker||(b._valueTracker=Pb(b))}function pb(b){if(!b)return!1;
var e=b._valueTracker;if(!e)return!0;var n=e.getValue(),K="";b&&(K=Cb(b)?b.checked?"true":"false":b.value);b=K;return b!==n?(e.setValue(b),!0):!1}function Qa(b){b=b||("undefined"!==typeof document?document:void 0);if("undefined"===typeof b)return null;try{return b.activeElement||b.body}catch(e){return b.body}}function Da(b,e){var n=e.checked;return wg({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:b._wrapperState.initialChecked})}function Ka(b,e){var n=null==e.defaultValue?
"":e.defaultValue,K=null!=e.checked?e.checked:e.defaultChecked;n=Lb(null!=e.value?e.value:n);b._wrapperState={initialChecked:K,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function lb(b,e){e=e.checked;null!=e&&uc(b,"checked",e,!1)}function mb(b,e){lb(b,e);var n=Lb(e.value),K=e.type;if(null!=n)if("number"===K){if(0===n&&""===b.value||b.value!=n)b.value=""+n}else b.value!==""+n&&(b.value=""+n);else if("submit"===K||"reset"===K){b.removeAttribute("value");
return}e.hasOwnProperty("value")?xb(b,e.type,n):e.hasOwnProperty("defaultValue")&&xb(b,e.type,Lb(e.defaultValue));null==e.checked&&null!=e.defaultChecked&&(b.defaultChecked=!!e.defaultChecked)}function Pa(b,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var K=e.type;if(!("submit"!==K&&"reset"!==K||void 0!==e.value&&null!==e.value))return;e=""+b._wrapperState.initialValue;n||e===b.value||(b.value=e);b.defaultValue=e}n=b.name;""!==n&&(b.name="");b.defaultChecked=!!b._wrapperState.initialChecked;
""!==n&&(b.name=n)}function xb(b,e,n){if("number"!==e||Qa(b.ownerDocument)!==b)null==n?b.defaultValue=""+b._wrapperState.initialValue:b.defaultValue!==""+n&&(b.defaultValue=""+n)}function sb(b,e,n,K){b=b.options;if(e){e={};for(var oa=0;oa<n.length;oa++)e["$"+n[oa]]=!0;for(n=0;n<b.length;n++)oa=e.hasOwnProperty("$"+b[n].value),b[n].selected!==oa&&(b[n].selected=oa),oa&&K&&(b[n].defaultSelected=!0)}else{n=""+Lb(n);e=null;for(oa=0;oa<b.length;oa++){if(b[oa].value===n){b[oa].selected=!0;K&&(b[oa].defaultSelected=
!0);return}null!==e||b[oa].disabled||(e=b[oa])}null!==e&&(e.selected=!0)}}function Qb(b,e){if(null!=e.dangerouslySetInnerHTML)throw Error(v(91));return wg({},e,{value:void 0,defaultValue:void 0,children:""+b._wrapperState.initialValue})}function Wb(b,e){var n=e.value;if(null==n){n=e.children;e=e.defaultValue;if(null!=n){if(null!=e)throw Error(v(92));if(Me(n)){if(1<n.length)throw Error(v(93));n=n[0]}e=n}null==e&&(e="");n=e}b._wrapperState={initialValue:Lb(n)}}function ob(b,e){var n=Lb(e.value),K=Lb(e.defaultValue);
null!=n&&(n=""+n,n!==b.value&&(b.value=n),null==e.defaultValue&&b.defaultValue!==n&&(b.defaultValue=n));null!=K&&(b.defaultValue=""+K)}function pa(b){var e=b.textContent;e===b._wrapperState.initialValue&&""!==e&&null!==e&&(b.value=e)}function Z(b){switch(b){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fa(b,e){return null==b||"http://www.w3.org/1999/xhtml"===b?Z(e):"http://www.w3.org/2000/svg"===
b&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":b}function Ga(b,e){if(e){var n=b.firstChild;if(n&&n===b.lastChild&&3===n.nodeType){n.nodeValue=e;return}}b.textContent=e}function db(b,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||Qg.hasOwnProperty(b)&&Qg[b]?(""+e).trim():e+"px"}function ba(b,e){b=b.style;for(var n in e)if(e.hasOwnProperty(n)){var K=0===n.indexOf("--"),oa=db(n,e[n],K);"float"===n&&(n="cssFloat");K?b.setProperty(n,oa):b[n]=oa}}function na(b,
e){if(e){if(hh[b]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(v(137,b));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(v(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(v(61));}if(null!=e.style&&"object"!==typeof e.style)throw Error(v(62));}}function q(b,e){if(-1===b.indexOf("-"))return"string"===typeof e.is;switch(b){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;
default:return!0}}function M(b){b=b.target||b.srcElement||window;b.correspondingUseElement&&(b=b.correspondingUseElement);return 3===b.nodeType?b.parentNode:b}function Q(b){if(b=bc(b)){if("function"!==typeof mi)throw Error(v(280));var e=b.stateNode;e&&(e=Dc(e),mi(b.stateNode,b.type,e))}}function g(b){Ui?jj?jj.push(b):jj=[b]:Ui=b}function u(){if(Ui){var b=Ui,e=jj;jj=Ui=null;Q(b);if(e)for(b=0;b<e.length;b++)Q(e[b])}}function m(b,e){return b(e)}function C(){}function B(b,e,n){if(Lj)return b(e,n);Lj=
!0;try{return m(b,e,n)}finally{if(Lj=!1,null!==Ui||null!==jj)C(),u()}}function A(b,e){var n=b.stateNode;if(null===n)return null;var K=Dc(n);if(null===K)return null;n=K[e];a:switch(e){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(K=!K.disabled)||(b=b.type,K=!("button"===b||"input"===b||"select"===b||"textarea"===
b));b=!K;break a;default:b=!1}if(b)return null;if(n&&"function"!==typeof n)throw Error(v(231,e,typeof n));return n}function E(b,e,n,K,oa,Ba,tb,wc,Oc){var Ad=Array.prototype.slice.call(arguments,3);try{e.apply(n,Ad)}catch(fe){this.onError(fe)}}function H(b,e,n,K,oa,Ba,tb,wc,Oc){sj=!1;Mj=null;E.apply(Vi,arguments)}function V(b,e,n,K,oa,Ba,tb,wc,Oc){H.apply(this,arguments);if(sj){if(sj){var Ad=Mj;sj=!1;Mj=null}else throw Error(v(198));gk||(gk=!0,Nj=Ad)}}function Aa(b){var e=b,n=b;if(b.alternate)for(;e.return;)e=
e.return;else{b=e;do e=b,0!==(e.flags&4098)&&(n=e.return),b=e.return;while(b)}return 3===e.tag?n:null}function Y(b){if(13===b.tag){var e=b.memoizedState;null===e&&(b=b.alternate,null!==b&&(e=b.memoizedState));if(null!==e)return e.dehydrated}return null}function t(b){if(Aa(b)!==b)throw Error(v(188));}function L(b){var e=b.alternate;if(!e){e=Aa(b);if(null===e)throw Error(v(188));return e!==b?null:b}for(var n=b,K=e;;){var oa=n.return;if(null===oa)break;var Ba=oa.alternate;if(null===Ba){K=oa.return;if(null!==
K){n=K;continue}break}if(oa.child===Ba.child){for(Ba=oa.child;Ba;){if(Ba===n)return t(oa),b;if(Ba===K)return t(oa),e;Ba=Ba.sibling}throw Error(v(188));}if(n.return!==K.return)n=oa,K=Ba;else{for(var tb=!1,wc=oa.child;wc;){if(wc===n){tb=!0;n=oa;K=Ba;break}if(wc===K){tb=!0;K=oa;n=Ba;break}wc=wc.sibling}if(!tb){for(wc=Ba.child;wc;){if(wc===n){tb=!0;n=Ba;K=oa;break}if(wc===K){tb=!0;K=Ba;n=oa;break}wc=wc.sibling}if(!tb)throw Error(v(189));}}if(n.alternate!==K)throw Error(v(190));}if(3!==n.tag)throw Error(v(188));
return n.stateNode.current===n?b:e}function va(b){b=L(b);return null!==b?La(b):null}function La(b){if(5===b.tag||6===b.tag)return b;for(b=b.child;null!==b;){var e=La(b);if(null!==e)return e;b=b.sibling}return null}function Wa(b){if(wi&&"function"===typeof wi.onCommitFiberRoot)try{wi.onCommitFiberRoot(hk,b,void 0,128===(b.current.flags&128))}catch(e){}}function $a(b){b>>>=0;return 0===b?32:31-(dl(b)/Hl|0)|0}function X(b){switch(b&-b){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;
case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return b&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return b}}function Ca(b,e){var n=b.pendingLanes;if(0===
n)return 0;var K=0,oa=b.suspendedLanes,Ba=b.pingedLanes,tb=n&268435455;if(0!==tb){var wc=tb&~oa;0!==wc?K=X(wc):(Ba&=tb,0!==Ba&&(K=X(Ba)))}else tb=n&~oa,0!==tb?K=X(tb):0!==Ba&&(K=X(Ba));if(0===K)return 0;if(0!==e&&e!==K&&0===(e&oa)&&(oa=K&-K,Ba=e&-e,oa>=Ba||16===oa&&0!==(Ba&4194240)))return e;0!==(K&4)&&(K|=n&16);e=b.entangledLanes;if(0!==e)for(b=b.entanglements,e&=K;0<e;)n=31-bi(e),oa=1<<n,K|=b[n],e&=~oa;return K}function Ya(b,e){switch(b){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+
5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ib(b,e){for(var n=b.suspendedLanes,K=b.pingedLanes,oa=b.expirationTimes,Ba=b.pendingLanes;0<Ba;){var tb=31-bi(Ba),wc=1<<tb,Oc=oa[tb];if(-1===Oc){if(0===(wc&n)||0!==(wc&K))oa[tb]=Ya(wc,e)}else Oc<=e&&(b.expiredLanes|=wc);Ba&=~wc}}function yc(b){b=b.pendingLanes&-1073741825;return 0!==b?b:b&1073741824?1073741824:0}function sc(){var b=
Oj;Oj<<=1;0===(Oj&4194240)&&(Oj=64);return b}function xc(b){for(var e=[],n=0;31>n;n++)e.push(b);return e}function cd(b,e,n){b.pendingLanes|=e;536870912!==e&&(b.suspendedLanes=0,b.pingedLanes=0);b=b.eventTimes;e=31-bi(e);b[e]=n}function Zb(b,e){var n=b.pendingLanes&~e;b.pendingLanes=e;b.suspendedLanes=0;b.pingedLanes=0;b.expiredLanes&=e;b.mutableReadLanes&=e;b.entangledLanes&=e;e=b.entanglements;var K=b.eventTimes;for(b=b.expirationTimes;0<n;){var oa=31-bi(n),Ba=1<<oa;e[oa]=0;K[oa]=-1;b[oa]=-1;n&=
~Ba}}function Rc(b,e){var n=b.entangledLanes|=e;for(b=b.entanglements;n;){var K=31-bi(n),oa=1<<K;oa&e|b[K]&e&&(b[K]|=e);n&=~oa}}function Pd(b){b&=-b;return 1<b?4<b?0!==(b&268435455)?16:536870912:4:1}function Ma(b,e){switch(b){case "focusin":case "focusout":Gi=null;break;case "dragenter":case "dragleave":Hi=null;break;case "mouseover":case "mouseout":Ii=null;break;case "pointerover":case "pointerout":tj.delete(e.pointerId);break;case "gotpointercapture":case "lostpointercapture":Pj.delete(e.pointerId)}}
function Vb(b,e,n,K,oa,Ba){if(null===b||b.nativeEvent!==Ba)return b={blockedOn:e,domEventName:n,eventSystemFlags:K,nativeEvent:Ba,targetContainers:[oa]},null!==e&&(e=bc(e),null!==e&&el(e)),b;b.eventSystemFlags|=K;e=b.targetContainers;null!==oa&&-1===e.indexOf(oa)&&e.push(oa);return b}function qb(b,e,n,K,oa){switch(e){case "focusin":return Gi=Vb(Gi,b,e,n,K,oa),!0;case "dragenter":return Hi=Vb(Hi,b,e,n,K,oa),!0;case "mouseover":return Ii=Vb(Ii,b,e,n,K,oa),!0;case "pointerover":var Ba=oa.pointerId;tj.set(Ba,
Vb(tj.get(Ba)||null,b,e,n,K,oa));return!0;case "gotpointercapture":return Ba=oa.pointerId,Pj.set(Ba,Vb(Pj.get(Ba)||null,b,e,n,K,oa)),!0}return!1}function Tb(b){var e=Ta(b.target);if(null!==e){var n=Aa(e);if(null!==n)if(e=n.tag,13===e){if(e=Y(n),null!==e){b.blockedOn=e;fl(b.priority,function(){gl(n)});return}}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated){b.blockedOn=3===n.tag?n.stateNode.containerInfo:null;return}}b.blockedOn=null}function gc(b){if(null!==b.blockedOn)return!1;for(var e=
b.targetContainers;0<e.length;){var n=gb(b.domEventName,b.eventSystemFlags,e[0],b.nativeEvent);if(null===n){n=b.nativeEvent;var K=new n.constructor(n.type,n);Qh=K;n.target.dispatchEvent(K);Qh=null}else return e=bc(n),null!==e&&el(e),b.blockedOn=n,!1;e.shift()}return!0}function cc(b,e,n){gc(b)&&n.delete(e)}function Ic(){ik=!1;null!==Gi&&gc(Gi)&&(Gi=null);null!==Hi&&gc(Hi)&&(Hi=null);null!==Ii&&gc(Ii)&&(Ii=null);tj.forEach(cc);Pj.forEach(cc)}function zc(b,e){b.blockedOn===e&&(b.blockedOn=null,ik||(ik=
!0,Te.unstable_scheduleCallback(Te.unstable_NormalPriority,Ic)))}function Yc(b){function e(oa){return zc(oa,b)}if(0<jk.length){zc(jk[0],b);for(var n=1;n<jk.length;n++){var K=jk[n];K.blockedOn===b&&(K.blockedOn=null)}}null!==Gi&&zc(Gi,b);null!==Hi&&zc(Hi,b);null!==Ii&&zc(Ii,b);tj.forEach(e);Pj.forEach(e);for(n=0;n<Wi.length;n++)K=Wi[n],K.blockedOn===b&&(K.blockedOn=null);for(;0<Wi.length&&(n=Wi[0],null===n.blockedOn);)Tb(n),null===n.blockedOn&&Wi.shift()}function Md(b,e,n,K){var oa=qg,Ba=uj.transition;
uj.transition=null;try{qg=1,Ha(b,e,n,K)}finally{qg=oa,uj.transition=Ba}}function ud(b,e,n,K){var oa=qg,Ba=uj.transition;uj.transition=null;try{qg=4,Ha(b,e,n,K)}finally{qg=oa,uj.transition=Ba}}function Ha(b,e,n,K){if(kk){var oa=gb(b,e,n,K);if(null===oa)hf(b,e,K,lk,n),Ma(b,K);else if(qb(oa,b,e,n,K))K.stopPropagation();else if(Ma(b,K),e&4&&-1<Il.indexOf(b)){for(;null!==oa;){var Ba=bc(oa);null!==Ba&&Jl(Ba);Ba=gb(b,e,n,K);null===Ba&&hf(b,e,K,lk,n);if(Ba===oa)break;oa=Ba}null!==oa&&K.stopPropagation()}else hf(b,
e,K,null,n)}}function gb(b,e,n,K){lk=null;b=M(K);b=Ta(b);if(null!==b)if(e=Aa(b),null===e)b=null;else if(n=e.tag,13===n){b=Y(e);if(null!==b)return b;b=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;b=null}else e!==b&&(b=null);lk=b;return null}function wb(b){switch(b){case "cancel":case "click":case "close":case "contextmenu":case "copy":case "cut":case "auxclick":case "dblclick":case "dragend":case "dragstart":case "drop":case "focusin":case "focusout":case "input":case "invalid":case "keydown":case "keypress":case "keyup":case "mousedown":case "mouseup":case "paste":case "pause":case "play":case "pointercancel":case "pointerdown":case "pointerup":case "ratechange":case "reset":case "resize":case "seeked":case "submit":case "touchcancel":case "touchend":case "touchstart":case "volumechange":case "change":case "selectionchange":case "textInput":case "compositionstart":case "compositionend":case "compositionupdate":case "beforeblur":case "afterblur":case "beforeinput":case "blur":case "fullscreenchange":case "focus":case "hashchange":case "popstate":case "select":case "selectstart":return 1;
case "drag":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "mousemove":case "mouseout":case "mouseover":case "pointermove":case "pointerout":case "pointerover":case "scroll":case "toggle":case "touchmove":case "wheel":case "mouseenter":case "mouseleave":case "pointerenter":case "pointerleave":return 4;case "message":switch(Hk()){case vj:return 1;case Ik:return 4;case Qj:case hl:return 16;case il:return 536870912;default:return 16}default:return 16}}function sa(){if(Rh)return Rh;
var b,e=Lg,n=e.length,K,oa="value"in Ji?Ji.value:Ji.textContent,Ba=oa.length;for(b=0;b<n&&e[b]===oa[b];b++);var tb=n-b;for(K=1;K<=tb&&e[n-K]===oa[Ba-K];K++);return Rh=oa.slice(b,1<K?1-K:void 0)}function G(b){var e=b.keyCode;"charCode"in b?(b=b.charCode,0===b&&13===e&&(b=13)):b=e;10===b&&(b=13);return 32<=b||13===b?b:0}function ya(){return!0}function Na(){return!1}function Za(b){function e(n,K,oa,Ba,tb){this._reactName=n;this._targetInst=oa;this.type=K;this.nativeEvent=Ba;this.target=tb;this.currentTarget=
null;for(var wc in b)b.hasOwnProperty(wc)&&(n=b[wc],this[wc]=n?n(Ba):Ba[wc]);this.isDefaultPrevented=(null!=Ba.defaultPrevented?Ba.defaultPrevented:!1===Ba.returnValue)?ya:Na;this.isPropagationStopped=Na;return this}wg(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():"unknown"!==typeof n.returnValue&&(n.returnValue=!1),this.isDefaultPrevented=ya)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():
"unknown"!==typeof n.cancelBubble&&(n.cancelBubble=!0),this.isPropagationStopped=ya)},persist:function(){},isPersistent:ya});return e}function kb(b){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(b):(b=Jk[b])?!!e[b]:!1}function Fb(){return kb}function nc(b,e){switch(b){case "keyup":return-1!==Kk.indexOf(e.keyCode);case "keydown":return 229!==e.keyCode;case "keypress":case "mousedown":case "focusout":return!0;default:return!1}}function ec(b){b=b.detail;return"object"===typeof b&&
"data"in b?b.data:null}function ic(b,e){switch(b){case "compositionend":return ec(e);case "keypress":if(32!==e.which)return null;Ki=!0;return sh;case "textInput":return b=e.data,b===sh&&Ki?null:b;default:return null}}function Tc(b,e){if(kj)return"compositionend"===b||!ci&&nc(b,e)?(b=sa(),Rh=Lg=Ji=null,kj=!1,b):null;switch(b){case "paste":return null;case "keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;
case "compositionend":return ie&&"ko"!==e.locale?null:e.data;default:return null}}function dd(b){var e=b&&b.nodeName&&b.nodeName.toLowerCase();return"input"===e?!!Lk[b.type]:"textarea"===e?!0:!1}function ed(b,e,n,K){g(K);e=re(e,"onChange");0<e.length&&(n=new Xi("onChange","change",null,n,K),b.push({event:n,listeners:e}))}function Qd(b){$d(b,0)}function Td(b){var e=Pc(b);if(pb(e))return b}function Fd(b,e){if("change"===b)return e}function Zd(){Yi&&(Yi.detachEvent("onpropertychange",de),Rj=Yi=null)}
function de(b){if("value"===b.propertyName&&Td(Rj)){var e=[];ed(e,Rj,b,M(b));B(Qd,e)}}function Ud(b,e,n){"focusin"===b?(Zd(),Yi=e,Rj=n,Yi.attachEvent("onpropertychange",de)):"focusout"===b&&Zd()}function Ve(b){if("selectionchange"===b||"keyup"===b||"keydown"===b)return Td(Rj)}function Xd(b,e){if("click"===b)return Td(e)}function N(b,e){if("input"===b||"change"===b)return Td(e)}function la(b,e){return b===e&&(0!==b||1/b===1/e)||b!==b&&e!==e}function za(b,e){if(ni(b,e))return!0;if("object"!==typeof b||
null===b||"object"!==typeof e||null===e)return!1;var n=Object.keys(b),K=Object.keys(e);if(n.length!==K.length)return!1;for(K=0;K<n.length;K++){var oa=n[K];if(!Ea.call(e,oa)||!ni(b[oa],e[oa]))return!1}return!0}function fb(b){for(;b&&b.firstChild;)b=b.firstChild;return b}function Hb(b,e){var n=fb(b);b=0;for(var K;n;){if(3===n.nodeType){K=b+n.textContent.length;if(b<=e&&K>=e)return{node:n,offset:e-b};b=K}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=fb(n)}}function Xb(b,
e){return b&&e?b===e?!0:b&&3===b.nodeType?!1:e&&3===e.nodeType?Xb(b,e.parentNode):"contains"in b?b.contains(e):b.compareDocumentPosition?!!(b.compareDocumentPosition(e)&16):!1:!1}function Bc(){for(var b=window,e=Qa();e instanceof b.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(K){n=!1}if(n)b=e.contentWindow;else break;e=Qa(b.document)}return e}function lc(b){var e=b&&b.nodeName&&b.nodeName.toLowerCase();return e&&("input"===e&&("text"===b.type||"search"===b.type||
"tel"===b.type||"url"===b.type||"password"===b.type)||"textarea"===e||"true"===b.contentEditable)}function Gc(b){var e=Bc(),n=b.focusedElem,K=b.selectionRange;if(e!==n&&n&&n.ownerDocument&&Xb(n.ownerDocument.documentElement,n)){if(null!==K&&lc(n))if(e=K.start,b=K.end,void 0===b&&(b=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(b,n.value.length);else if(b=(e=n.ownerDocument||document)&&e.defaultView||window,b.getSelection){b=b.getSelection();var oa=n.textContent.length,Ba=Math.min(K.start,
oa);K=void 0===K.end?Ba:Math.min(K.end,oa);!b.extend&&Ba>K&&(oa=K,K=Ba,Ba=oa);oa=Hb(n,Ba);var tb=Hb(n,K);oa&&tb&&(1!==b.rangeCount||b.anchorNode!==oa.node||b.anchorOffset!==oa.offset||b.focusNode!==tb.node||b.focusOffset!==tb.offset)&&(e=e.createRange(),e.setStart(oa.node,oa.offset),b.removeAllRanges(),Ba>K?(b.addRange(e),b.extend(tb.node,tb.offset)):(e.setEnd(tb.node,tb.offset),b.addRange(e)))}e=[];for(b=n;b=b.parentNode;)1===b.nodeType&&e.push({element:b,left:b.scrollLeft,top:b.scrollTop});"function"===
typeof n.focus&&n.focus();for(n=0;n<e.length;n++)b=e[n],b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}function id(b,e,n){var K=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Mk||null==wj||wj!==Qa(K)||(K=wj,"selectionStart"in K&&lc(K)?K={start:K.selectionStart,end:K.selectionEnd}:(K=(K.ownerDocument&&K.ownerDocument.defaultView||window).getSelection(),K={anchorNode:K.anchorNode,anchorOffset:K.anchorOffset,focusNode:K.focusNode,focusOffset:K.focusOffset}),Sj&&za(Sj,K)||(Sj=K,K=re(xj,
"onSelect"),0<K.length&&(e=new Xi("onSelect","select",null,e,n),b.push({event:e,listeners:K}),e.target=wj)))}function Nc(b,e){var n={};n[b.toLowerCase()]=e.toLowerCase();n["Webkit"+b]="webkit"+e;n["Moz"+b]="moz"+e;return n}function sd(b){if(Ch[b])return Ch[b];if(!yj[b])return b;var e=yj[b],n;for(n in e)if(e.hasOwnProperty(n)&&n in mk)return Ch[b]=e[n];return b}function Hd(b,e){jl.set(b,e);k(e,[b])}function Gd(b,e,n){var K=b.type||"unknown-event";b.currentTarget=n;V(K,e,void 0,b);b.currentTarget=null}
function $d(b,e){e=0!==(e&4);for(var n=0;n<b.length;n++){var K=b[n],oa=K.event;K=K.listeners;a:{var Ba=void 0;if(e)for(var tb=K.length-1;0<=tb;tb--){var wc=K[tb],Oc=wc.instance,Ad=wc.currentTarget;wc=wc.listener;if(Oc!==Ba&&oa.isPropagationStopped())break a;Gd(oa,wc,Ad);Ba=Oc}else for(tb=0;tb<K.length;tb++){wc=K[tb];Oc=wc.instance;Ad=wc.currentTarget;wc=wc.listener;if(Oc!==Ba&&oa.isPropagationStopped())break a;Gd(oa,wc,Ad);Ba=Oc}}}if(gk)throw b=Nj,gk=!1,Nj=null,b;}function Wd(b,e){var n=e[Nk];void 0===
n&&(n=e[Nk]=new Set);var K=b+"__bubble";n.has(K)||(kf(e,b,2,!1),n.add(K))}function ae(b,e,n){var K=0;e&&(K|=4);kf(n,b,K,e)}function Ce(b){if(!b[Tj]){b[Tj]=!0;w.forEach(function(n){"selectionchange"!==n&&(kl.has(n)||ae(n,!1,b),ae(n,!0,b))});var e=9===b.nodeType?b:b.ownerDocument;null===e||e[Tj]||(e[Tj]=!0,ae("selectionchange",!1,e))}}function kf(b,e,n,K){switch(wb(e)){case 1:var oa=Md;break;case 4:oa=ud;break;default:oa=Ha}n=oa.bind(null,e,n,b);oa=void 0;!Xh||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==
e||(oa=!0);K?void 0!==oa?b.addEventListener(e,n,{capture:!0,passive:oa}):b.addEventListener(e,n,!0):void 0!==oa?b.addEventListener(e,n,{passive:oa}):b.addEventListener(e,n,!1)}function hf(b,e,n,K,oa){var Ba=K;if(0===(e&1)&&0===(e&2)&&null!==K)a:for(;;){if(null===K)return;var tb=K.tag;if(3===tb||4===tb){var wc=K.stateNode.containerInfo;if(wc===oa||8===wc.nodeType&&wc.parentNode===oa)break;if(4===tb)for(tb=K.return;null!==tb;){var Oc=tb.tag;if(3===Oc||4===Oc)if(Oc=tb.stateNode.containerInfo,Oc===oa||
8===Oc.nodeType&&Oc.parentNode===oa)return;tb=tb.return}for(;null!==wc;){tb=Ta(wc);if(null===tb)return;Oc=tb.tag;if(5===Oc||6===Oc){K=Ba=tb;continue a}wc=wc.parentNode}}K=K.return}B(function(){var Ad=Ba,fe=M(n),me=[];a:{var ge=jl.get(b);if(void 0!==ge){var Fe=Xi,Se=b;switch(b){case "keypress":if(0===G(n))break a;case "keydown":case "keyup":Fe=Kl;break;case "focusin":Se="focus";Fe=Ok;break;case "focusout":Se="blur";Fe=Ok;break;case "beforeblur":case "afterblur":Fe=Ok;break;case "click":if(2===n.button)break a;
case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":Fe=Uj;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":Fe=Pk;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":Fe=Qk;break;case ll:case nk:case oi:Fe=Ll;break;case ok:Fe=ml;break;case "scroll":Fe=Ml;break;case "wheel":Fe=Nl;break;case "copy":case "cut":case "paste":Fe=
Ol;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":Fe=nl}var We=0!==(e&4),Xg=!We&&"scroll"===b,nd=We?null!==ge?ge+"Capture":null:ge;We=[];for(var Xc=Ad,vd;null!==Xc;){vd=Xc;var te=vd.stateNode;5===vd.tag&&null!==te&&(vd=te,null!==nd&&(te=A(Xc,nd),null!=te&&We.push(df(Xc,te,vd))));if(Xg)break;Xc=Xc.return}0<We.length&&(ge=new Fe(ge,Se,null,n,fe),me.push({event:ge,listeners:We}))}}if(0===
(e&7)){ge="mouseover"===b||"pointerover"===b;Fe="mouseout"===b||"pointerout"===b;if(!ge||n===Qh||!(Se=n.relatedTarget||n.fromElement)||!Ta(Se)&&!Se[xi])if(Fe||ge){ge=fe.window===fe?fe:(ge=fe.ownerDocument)?ge.defaultView||ge.parentWindow:window;if(Fe){if(Se=n.relatedTarget||n.toElement,Fe=Ad,Se=Se?Ta(Se):null,null!==Se&&(Xg=Aa(Se),Se!==Xg||5!==Se.tag&&6!==Se.tag))Se=null}else Fe=null,Se=Ad;if(Fe!==Se){We=Uj;te="onMouseLeave";nd="onMouseEnter";Xc="mouse";if("pointerout"===b||"pointerover"===b)We=nl,
te="onPointerLeave",nd="onPointerEnter",Xc="pointer";Xg=null==Fe?ge:Pc(Fe);vd=null==Se?ge:Pc(Se);ge=new We(te,Xc+"leave",Fe,n,fe);ge.target=Xg;ge.relatedTarget=vd;te=null;Ta(fe)===Ad&&(We=new We(nd,Xc+"enter",Se,n,fe),We.target=vd,We.relatedTarget=Xg,te=We);Xg=te;if(Fe&&Se)b:{We=Fe;nd=Se;Xc=0;for(vd=We;vd;vd=tf(vd))Xc++;vd=0;for(te=nd;te;te=tf(te))vd++;for(;0<Xc-vd;)We=tf(We),Xc--;for(;0<vd-Xc;)nd=tf(nd),vd--;for(;Xc--;){if(We===nd||null!==nd&&We===nd.alternate)break b;We=tf(We);nd=tf(nd)}We=null}else We=
null;null!==Fe&&U(me,ge,Fe,We,!1);null!==Se&&null!==Xg&&U(me,Xg,Se,We,!0)}}ge=Ad?Pc(Ad):window;Fe=ge.nodeName&&ge.nodeName.toLowerCase();if("select"===Fe||"input"===Fe&&"file"===ge.type)var Ze=Fd;else if(dd(ge))if(pk)Ze=N;else{Ze=Ve;var cf=Ud}else(Fe=ge.nodeName)&&"input"===Fe.toLowerCase()&&("checkbox"===ge.type||"radio"===ge.type)&&(Ze=Xd);Ze&&(Ze=Ze(b,Ad))?ed(me,Ze,n,fe):(cf&&cf(b,ge,Ad),"focusout"===b&&(cf=ge._wrapperState)&&cf.controlled&&"number"===ge.type&&xb(ge,"number",ge.value));cf=Ad?Pc(Ad):
window;switch(b){case "focusin":if(dd(cf)||"true"===cf.contentEditable)wj=cf,xj=Ad,Sj=null;break;case "focusout":Sj=xj=wj=null;break;case "mousedown":Mk=!0;break;case "contextmenu":case "mouseup":case "dragend":Mk=!1;id(me,n,fe);break;case "selectionchange":if(qk)break;case "keydown":case "keyup":id(me,n,fe)}var $e;if(ci)a:{switch(b){case "compositionstart":var pf="onCompositionStart";break a;case "compositionend":pf="onCompositionEnd";break a;case "compositionupdate":pf="onCompositionUpdate";break a}pf=
void 0}else kj?nc(b,n)&&(pf="onCompositionEnd"):"keydown"===b&&229===n.keyCode&&(pf="onCompositionStart");pf&&(ie&&"ko"!==n.locale&&(kj||"onCompositionStart"!==pf?"onCompositionEnd"===pf&&kj&&($e=sa()):(Ji=fe,Lg="value"in Ji?Ji.value:Ji.textContent,kj=!0)),cf=re(Ad,pf),0<cf.length&&(pf=new ol(pf,b,null,n,fe),me.push({event:pf,listeners:cf}),$e?pf.data=$e:($e=ec(n),null!==$e&&(pf.data=$e))));if($e=Ag?ic(b,n):Tc(b,n))Ad=re(Ad,"onBeforeInput"),0<Ad.length&&(fe=new ol("onBeforeInput","beforeinput",null,
n,fe),me.push({event:fe,listeners:Ad}),fe.data=$e)}$d(me,e)})}function df(b,e,n){return{instance:b,listener:e,currentTarget:n}}function re(b,e){for(var n=e+"Capture",K=[];null!==b;){var oa=b,Ba=oa.stateNode;5===oa.tag&&null!==Ba&&(oa=Ba,Ba=A(b,n),null!=Ba&&K.unshift(df(b,Ba,oa)),Ba=A(b,e),null!=Ba&&K.push(df(b,Ba,oa)));b=b.return}return K}function tf(b){if(null===b)return null;do b=b.return;while(b&&5!==b.tag);return b?b:null}function U(b,e,n,K,oa){for(var Ba=e._reactName,tb=[];null!==n&&n!==K;){var wc=
n,Oc=wc.alternate,Ad=wc.stateNode;if(null!==Oc&&Oc===K)break;5===wc.tag&&null!==Ad&&(wc=Ad,oa?(Oc=A(n,Ba),null!=Oc&&tb.unshift(df(n,Oc,wc))):oa||(Oc=A(n,Ba),null!=Oc&&tb.push(df(n,Oc,wc))));n=n.return}0!==tb.length&&b.push({event:e,listeners:tb})}function ua(b){return("string"===typeof b?b:""+b).replace(Pl,"\n").replace(Ql,"")}function cb(b,e,n){e=ua(e);if(ua(b)!==e&&n)throw Error(v(425));}function Ab(){}function fc(b,e){return"textarea"===b||"noscript"===b||"string"===typeof e.children||"number"===
typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}function Cc(b){setTimeout(function(){throw b;})}function $b(b,e){var n=e,K=0;do{var oa=n.nextSibling;b.removeChild(n);if(oa&&8===oa.nodeType)if(n=oa.data,"/$"===n){if(0===K){b.removeChild(oa);Yc(e);return}K--}else"$"!==n&&"$?"!==n&&"$!"!==n||K++;n=oa}while(n);Yc(e)}function J(b){for(;null!=b;b=b.nextSibling){var e=b.nodeType;if(1===e||3===e)break;if(8===e){e=b.data;
if("$"===e||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return b}function fa(b){b=b.previousSibling;for(var e=0;b;){if(8===b.nodeType){var n=b.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return b;e--}else"/$"===n&&e++}b=b.previousSibling}return null}function Ta(b){var e=b[pi];if(e)return e;for(var n=b.parentNode;n;){if(e=n[xi]||n[pi]){n=e.alternate;if(null!==e.child||null!==n&&null!==n.child)for(b=fa(b);null!==b;){if(n=b[pi])return n;b=fa(b)}return e}b=n;n=b.parentNode}return null}function bc(b){b=
b[pi]||b[xi];return!b||5!==b.tag&&6!==b.tag&&13!==b.tag&&3!==b.tag?null:b}function Pc(b){if(5===b.tag||6===b.tag)return b.stateNode;throw Error(v(33));}function Dc(b){return b[Zi]||null}function Sc(b){return{current:b}}function gd(b){0>$i||(b.current=rk[$i],rk[$i]=null,$i--)}function ee(b,e){$i++;rk[$i]=b.current;b.current=e}function Sa(b,e){var n=b.type.contextTypes;if(!n)return aj;var K=b.stateNode;if(K&&K.__reactInternalMemoizedUnmaskedChildContext===e)return K.__reactInternalMemoizedMaskedChildContext;
var oa={},Ba;for(Ba in n)oa[Ba]=e[Ba];K&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=e,b.__reactInternalMemoizedMaskedChildContext=oa);return oa}function eb(b){b=b.childContextTypes;return null!==b&&void 0!==b}function oc(){gd(Bg);gd(Ih)}function xd(b,e,n){if(Ih.current!==aj)throw Error(v(168));ee(Ih,e);ee(Bg,n)}function Lc(b,e,n){var K=b.stateNode;e=e.childContextTypes;if("function"!==typeof K.getChildContext)return n;K=K.getChildContext();for(var oa in K)if(!(oa in e))throw Error(v(108,
Kb(b)||"Unknown",oa));return wg({},n,K)}function Uc(b){b=(b=b.stateNode)&&b.__reactInternalMemoizedMergedChildContext||aj;Li=Ih.current;ee(Ih,b);ee(Bg,Bg.current);return!0}function Qc(b,e,n){var K=b.stateNode;if(!K)throw Error(v(169));n?(b=Lc(b,e,Li),K.__reactInternalMemoizedMergedChildContext=b,gd(Bg),gd(Ih),ee(Ih,b)):gd(Bg);ee(Bg,n)}function td(b){null===yi?yi=[b]:yi.push(b)}function jd(b){zj=!0;td(b)}function Od(){if(!Sh&&null!==yi){Sh=!0;var b=0,e=qg;try{var n=yi;for(qg=1;b<n.length;b++){var K=
n[b];do K=K(!0);while(null!==K)}yi=null;zj=!1}catch(oa){throw null!==yi&&(yi=yi.slice(b+1)),sk(vj,Od),oa;}finally{qg=e,Sh=!1}}return null}function Cd(b,e){di[Aj++]=zi;di[Aj++]=tk;tk=b;zi=e}function be(b,e,n){ei[fi++]=Ai;ei[fi++]=gi;ei[fi++]=bh;bh=b;var K=Ai;b=gi;var oa=32-bi(K)-1;K&=~(1<<oa);n+=1;var Ba=32-bi(e)+oa;if(30<Ba){var tb=oa-oa%5;Ba=(K&(1<<tb)-1).toString(32);K>>=tb;oa-=tb;Ai=1<<32-bi(e)+oa|n<<oa|K;gi=Ba+b}else Ai=1<<Ba|n<<oa|K,gi=b}function ye(b){null!==b.return&&(Cd(b,1),be(b,1,0))}function Le(b){for(;b===
tk;)tk=di[--Aj],di[Aj]=null,zi=di[--Aj],di[Aj]=null;for(;b===bh;)bh=ei[--fi],ei[fi]=null,gi=ei[--fi],ei[fi]=null,Ai=ei[--fi],ei[fi]=null}function Ye(b,e){var n=ng(5,null,null,0);n.elementType="DELETED";n.stateNode=e;n.return=b;e=b.deletions;null===e?(b.deletions=[n],b.flags|=16):e.push(n)}function ef(b,e){switch(b.tag){case 5:var n=b.type;e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e;return null!==e?(b.stateNode=e,Jh=b,Yh=J(e.firstChild),!0):!1;case 6:return e=""===b.pendingProps||
3!==e.nodeType?null:e,null!==e?(b.stateNode=e,Jh=b,Yh=null,!0):!1;case 13:return e=8!==e.nodeType?null:e,null!==e?(n=null!==bh?{id:Ai,overflow:gi}:null,b.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ng(18,null,null,0),n.stateNode=e,n.return=b,b.child=n,Jh=b,Yh=null,!0):!1;default:return!1}}function od(b){return 0!==(b.mode&1)&&0===(b.flags&128)}function Ec(b){if(Cg){var e=Yh;if(e){var n=e;if(!ef(b,e)){if(od(b))throw Error(v(418));e=J(n.nextSibling);var K=Jh;e&&ef(b,e)?Ye(K,n):
(b.flags=b.flags&-4097|2,Cg=!1,Jh=b)}}else{if(od(b))throw Error(v(418));b.flags=b.flags&-4097|2;Cg=!1;Jh=b}}}function kd(b){for(b=b.return;null!==b&&5!==b.tag&&3!==b.tag&&13!==b.tag;)b=b.return;Jh=b}function Fc(b){if(b!==Jh)return!1;if(!Cg)return kd(b),Cg=!0,!1;var e;(e=3!==b.tag)&&!(e=5!==b.tag)&&(e=b.type,e="head"!==e&&"body"!==e&&!fc(b.type,b.memoizedProps));if(e&&(e=Yh)){if(od(b))throw Id(),Error(v(418));for(;e;)Ye(b,e),e=J(e.nextSibling)}kd(b);if(13===b.tag){b=b.memoizedState;b=null!==b?b.dehydrated:
null;if(!b)throw Error(v(317));a:{b=b.nextSibling;for(e=0;b;){if(8===b.nodeType){var n=b.data;if("/$"===n){if(0===e){Yh=J(b.nextSibling);break a}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}b=b.nextSibling}Yh=null}}else Yh=Jh?J(b.stateNode.nextSibling):null;return!0}function Id(){for(var b=Yh;b;)b=J(b.nextSibling)}function Vd(){Yh=Jh=null;Cg=!1}function ce(b){null===Th?Th=[b]:Th.push(b)}function le(b,e){if(b&&b.defaultProps){e=wg({},e);b=b.defaultProps;for(var n in b)void 0===e[n]&&(e[n]=b[n])}return e}
function O(b){var e=lj.current;gd(lj);b._currentValue=e}function ea(b,e,n){for(;null!==b;){var K=b.alternate;(b.childLanes&e)!==e?(b.childLanes|=e,null!==K&&(K.childLanes|=e)):null!==K&&(K.childLanes&e)!==e&&(K.childLanes|=e);if(b===n)break;b=b.return}}function I(b,e){mj=b;Vj=Bi=null;b=b.dependencies;null!==b&&null!==b.firstContext&&(0!==(b.lanes&e)&&(Oh=!0),b.firstContext=null)}function ka(b){var e=b._currentValue;if(Vj!==b)if(b={context:b,memoizedValue:e,next:null},null===Bi){if(null===mj)throw Error(v(308));
Bi=b;mj.dependencies={lanes:0,firstContext:b}}else Bi=Bi.next=b;return e}function ta(b){null===Mi?Mi=[b]:Mi.push(b)}function Ja(b,e,n,K){var oa=e.interleaved;null===oa?(n.next=n,ta(e)):(n.next=oa.next,oa.next=n);e.interleaved=n;return jb(b,K)}function jb(b,e){b.lanes|=e;var n=b.alternate;null!==n&&(n.lanes|=e);n=b;for(b=b.return;null!==b;)b.childLanes|=e,n=b.alternate,null!==n&&(n.childLanes|=e),n=b,b=b.return;return 3===n.tag?n.stateNode:null}function vb(b){b.updateQueue={baseState:b.memoizedState,
firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pc(b,e){b=b.updateQueue;e.updateQueue===b&&(e.updateQueue={baseState:b.baseState,firstBaseUpdate:b.firstBaseUpdate,lastBaseUpdate:b.lastBaseUpdate,shared:b.shared,effects:b.effects})}function qc(b,e){return{eventTime:b,lane:e,tag:0,payload:null,callback:null,next:null}}function rc(b,e,n){var K=b.updateQueue;if(null===K)return null;K=K.shared;if(0!==(Zf&2)){var oa=K.pending;null===oa?e.next=
e:(e.next=oa.next,oa.next=e);K.pending=e;return jb(b,n)}oa=K.interleaved;null===oa?(e.next=e,ta(K)):(e.next=oa.next,oa.next=e);K.interleaved=e;return jb(b,n)}function Kc(b,e,n){e=e.updateQueue;if(null!==e&&(e=e.shared,0!==(n&4194240))){var K=e.lanes;K&=b.pendingLanes;n|=K;e.lanes=n;Rc(b,n)}}function Bd(b,e){var n=b.updateQueue,K=b.alternate;if(null!==K&&(K=K.updateQueue,n===K)){var oa=null,Ba=null;n=n.firstBaseUpdate;if(null!==n){do{var tb={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,
callback:n.callback,next:null};null===Ba?oa=Ba=tb:Ba=Ba.next=tb;n=n.next}while(null!==n);null===Ba?oa=Ba=e:Ba=Ba.next=e}else oa=Ba=e;n={baseState:K.baseState,firstBaseUpdate:oa,lastBaseUpdate:Ba,shared:K.shared,effects:K.effects};b.updateQueue=n}else b=n.lastBaseUpdate,null===b?n.firstBaseUpdate=e:b.next=e,n.lastBaseUpdate=e}function Hc(b,e,n,K){var oa=b.updateQueue;Ci=!1;var Ba=oa.firstBaseUpdate,tb=oa.lastBaseUpdate,wc=oa.shared.pending;if(null!==wc){oa.shared.pending=null;var Oc=wc,Ad=Oc.next;
Oc.next=null;null===tb?Ba=Ad:tb.next=Ad;var fe=b.alternate;null!==fe&&(fe=fe.updateQueue,wc=fe.lastBaseUpdate,wc!==Oc&&(null===wc?fe.firstBaseUpdate=Ad:wc.next=Ad,fe.lastBaseUpdate=Oc))}if(null!==Ba){var me=oa.baseState;tb=0;fe=Ad=Oc=null;wc=Ba;do{var ge=wc.lane,Fe=wc.eventTime;if((K&ge)===ge){null!==fe&&(fe=fe.next={eventTime:Fe,lane:0,tag:wc.tag,payload:wc.payload,callback:wc.callback,next:null});a:{var Se=b,We=wc;ge=e;Fe=n;switch(We.tag){case 1:Se=We.payload;if("function"===typeof Se){me=Se.call(Fe,
me,ge);break a}me=Se;break a;case 3:Se.flags=Se.flags&-65537|128;case 0:Se=We.payload;ge="function"===typeof Se?Se.call(Fe,me,ge):Se;if(null===ge||void 0===ge)break a;me=wg({},me,ge);break a;case 2:Ci=!0}}null!==wc.callback&&0!==wc.lane&&(b.flags|=64,ge=oa.effects,null===ge?oa.effects=[wc]:ge.push(wc))}else Fe={eventTime:Fe,lane:ge,tag:wc.tag,payload:wc.payload,callback:wc.callback,next:null},null===fe?(Ad=fe=Fe,Oc=me):fe=fe.next=Fe,tb|=ge;wc=wc.next;if(null===wc)if(wc=oa.shared.pending,null===wc)break;
else ge=wc,wc=ge.next,ge.next=null,oa.lastBaseUpdate=ge,oa.shared.pending=null}while(1);null===fe&&(Oc=me);oa.baseState=Oc;oa.firstBaseUpdate=Ad;oa.lastBaseUpdate=fe;e=oa.shared.interleaved;if(null!==e){oa=e;do tb|=oa.lane,oa=oa.next;while(oa!==e)}else null===Ba&&(oa.shared.lanes=0);nj|=tb;b.lanes=tb;b.memoizedState=me}}function $c(b,e,n){b=e.effects;e.effects=null;if(null!==b)for(e=0;e<b.length;e++){var K=b[e],oa=K.callback;if(null!==oa){K.callback=null;K=n;if("function"!==typeof oa)throw Error(v(191,
oa));oa.call(K)}}}function zd(b,e,n,K){e=b.memoizedState;n=n(K,e);n=null===n||void 0===n?e:wg({},e,n);b.memoizedState=n;0===b.lanes&&(b.updateQueue.baseState=n)}function Dd(b,e,n,K,oa,Ba,tb){b=b.stateNode;return"function"===typeof b.shouldComponentUpdate?b.shouldComponentUpdate(K,Ba,tb):e.prototype&&e.prototype.isPureReactComponent?!za(n,K)||!za(oa,Ba):!0}function Kd(b,e,n){var K=!1,oa=aj,Ba=e.contextType;"object"===typeof Ba&&null!==Ba?Ba=ka(Ba):(oa=eb(e)?Li:Ih.current,K=e.contextTypes,Ba=(K=null!==
K&&void 0!==K)?Sa(b,oa):aj);e=new e(n,Ba);b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;e.updater=uk;b.stateNode=e;e._reactInternals=b;K&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=oa,b.__reactInternalMemoizedMaskedChildContext=Ba);return e}function Ge(b,e,n,K){b=e.state;"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,K);"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,K);e.state!==b&&uk.enqueueReplaceState(e,
e.state,null)}function De(b,e,n,K){var oa=b.stateNode;oa.props=n;oa.state=b.memoizedState;oa.refs=Rk;vb(b);var Ba=e.contextType;"object"===typeof Ba&&null!==Ba?oa.context=ka(Ba):(Ba=eb(e)?Li:Ih.current,oa.context=Sa(b,Ba));oa.state=b.memoizedState;Ba=e.getDerivedStateFromProps;"function"===typeof Ba&&(zd(b,e,Ba,n),oa.state=b.memoizedState);"function"===typeof e.getDerivedStateFromProps||"function"===typeof oa.getSnapshotBeforeUpdate||"function"!==typeof oa.UNSAFE_componentWillMount&&"function"!==
typeof oa.componentWillMount||(e=oa.state,"function"===typeof oa.componentWillMount&&oa.componentWillMount(),"function"===typeof oa.UNSAFE_componentWillMount&&oa.UNSAFE_componentWillMount(),e!==oa.state&&uk.enqueueReplaceState(oa,oa.state,null),Hc(b,n,oa,K),oa.state=b.memoizedState);"function"===typeof oa.componentDidMount&&(b.flags|=4194308)}function yd(b,e,n){b=n.ref;if(null!==b&&"function"!==typeof b&&"object"!==typeof b){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(v(309));var K=n.stateNode}if(!K)throw Error(v(147,
b));var oa=K,Ba=""+b;if(null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===Ba)return e.ref;e=function(tb){var wc=oa.refs;wc===Rk&&(wc=oa.refs={});null===tb?delete wc[Ba]:wc[Ba]=tb};e._stringRef=Ba;return e}if("string"!==typeof b)throw Error(v(284));if(!n._owner)throw Error(v(290,b));}return b}function Ae(b,e){b=Object.prototype.toString.call(e);throw Error(v(31,"[object Object]"===b?"object with keys {"+Object.keys(e).join(", ")+"}":b));}function Ld(b){var e=b._init;return e(b._payload)}
function he(b){function e(nd,Xc){if(b){var vd=nd.deletions;null===vd?(nd.deletions=[Xc],nd.flags|=16):vd.push(Xc)}}function n(nd,Xc){if(!b)return null;for(;null!==Xc;)e(nd,Xc),Xc=Xc.sibling;return null}function K(nd,Xc){for(nd=new Map;null!==Xc;)null!==Xc.key?nd.set(Xc.key,Xc):nd.set(Xc.index,Xc),Xc=Xc.sibling;return nd}function oa(nd,Xc){nd=Zh(nd,Xc);nd.index=0;nd.sibling=null;return nd}function Ba(nd,Xc,vd){nd.index=vd;if(!b)return nd.flags|=1048576,Xc;vd=nd.alternate;if(null!==vd)return vd=vd.index,
vd<Xc?(nd.flags|=2,Xc):vd;nd.flags|=2;return Xc}function tb(nd){b&&null===nd.alternate&&(nd.flags|=2);return nd}function wc(nd,Xc,vd,te){if(null===Xc||6!==Xc.tag)return Xc=Ni(vd,nd.mode,te),Xc.return=nd,Xc;Xc=oa(Xc,vd);Xc.return=nd;return Xc}function Oc(nd,Xc,vd,te){var Ze=vd.type;if(Ze===rd)return fe(nd,Xc,vd.props.children,te,vd.key);if(null!==Xc&&(Xc.elementType===Ze||"object"===typeof Ze&&null!==Ze&&Ze.$$typeof===gg&&Ld(Ze)===Xc.type))return te=oa(Xc,vd.props),te.ref=yd(nd,Xc,vd),te.return=nd,
te;te=qi(vd.type,vd.key,vd.props,null,nd.mode,te);te.ref=yd(nd,Xc,vd);te.return=nd;return te}function Ad(nd,Xc,vd,te){if(null===Xc||4!==Xc.tag||Xc.stateNode.containerInfo!==vd.containerInfo||Xc.stateNode.implementation!==vd.implementation)return Xc=Dg(vd,nd.mode,te),Xc.return=nd,Xc;Xc=oa(Xc,vd.children||[]);Xc.return=nd;return Xc}function fe(nd,Xc,vd,te,Ze){if(null===Xc||7!==Xc.tag)return Xc=hi(vd,nd.mode,te,Ze),Xc.return=nd,Xc;Xc=oa(Xc,vd);Xc.return=nd;return Xc}function me(nd,Xc,vd){if("string"===
typeof Xc&&""!==Xc||"number"===typeof Xc)return Xc=Ni(""+Xc,nd.mode,vd),Xc.return=nd,Xc;if("object"===typeof Xc&&null!==Xc){switch(Xc.$$typeof){case fd:return vd=qi(Xc.type,Xc.key,Xc.props,null,nd.mode,vd),vd.ref=yd(nd,null,Xc),vd.return=nd,vd;case mc:return Xc=Dg(Xc,nd.mode,vd),Xc.return=nd,Xc;case gg:var te=Xc._init;return me(nd,te(Xc._payload),vd)}if(Me(Xc)||Bb(Xc))return Xc=hi(Xc,nd.mode,vd,null),Xc.return=nd,Xc;Ae(nd,Xc)}return null}function ge(nd,Xc,vd,te){var Ze=null!==Xc?Xc.key:null;if("string"===
typeof vd&&""!==vd||"number"===typeof vd)return null!==Ze?null:wc(nd,Xc,""+vd,te);if("object"===typeof vd&&null!==vd){switch(vd.$$typeof){case fd:return vd.key===Ze?Oc(nd,Xc,vd,te):null;case mc:return vd.key===Ze?Ad(nd,Xc,vd,te):null;case gg:return Ze=vd._init,ge(nd,Xc,Ze(vd._payload),te)}if(Me(vd)||Bb(vd))return null!==Ze?null:fe(nd,Xc,vd,te,null);Ae(nd,vd)}return null}function Fe(nd,Xc,vd,te,Ze){if("string"===typeof te&&""!==te||"number"===typeof te)return nd=nd.get(vd)||null,wc(Xc,nd,""+te,Ze);
if("object"===typeof te&&null!==te){switch(te.$$typeof){case fd:return nd=nd.get(null===te.key?vd:te.key)||null,Oc(Xc,nd,te,Ze);case mc:return nd=nd.get(null===te.key?vd:te.key)||null,Ad(Xc,nd,te,Ze);case gg:var cf=te._init;return Fe(nd,Xc,vd,cf(te._payload),Ze)}if(Me(te)||Bb(te))return nd=nd.get(vd)||null,fe(Xc,nd,te,Ze,null);Ae(Xc,te)}return null}function Se(nd,Xc,vd,te){for(var Ze=null,cf=null,$e=Xc,pf=Xc=0,og=null;null!==$e&&pf<vd.length;pf++){$e.index>pf?(og=$e,$e=null):og=$e.sibling;var $f=
ge(nd,$e,vd[pf],te);if(null===$f){null===$e&&($e=og);break}b&&$e&&null===$f.alternate&&e(nd,$e);Xc=Ba($f,Xc,pf);null===cf?Ze=$f:cf.sibling=$f;cf=$f;$e=og}if(pf===vd.length)return n(nd,$e),Cg&&Cd(nd,pf),Ze;if(null===$e){for(;pf<vd.length;pf++)$e=me(nd,vd[pf],te),null!==$e&&(Xc=Ba($e,Xc,pf),null===cf?Ze=$e:cf.sibling=$e,cf=$e);Cg&&Cd(nd,pf);return Ze}for($e=K(nd,$e);pf<vd.length;pf++)og=Fe($e,nd,pf,vd[pf],te),null!==og&&(b&&null!==og.alternate&&$e.delete(null===og.key?pf:og.key),Xc=Ba(og,Xc,pf),null===
cf?Ze=og:cf.sibling=og,cf=og);b&&$e.forEach(function(bj){return e(nd,bj)});Cg&&Cd(nd,pf);return Ze}function We(nd,Xc,vd,te){var Ze=Bb(vd);if("function"!==typeof Ze)throw Error(v(150));vd=Ze.call(vd);if(null==vd)throw Error(v(151));for(var cf=Ze=null,$e=Xc,pf=Xc=0,og=null,$f=vd.next();null!==$e&&!$f.done;pf++,$f=vd.next()){$e.index>pf?(og=$e,$e=null):og=$e.sibling;var bj=ge(nd,$e,$f.value,te);if(null===bj){null===$e&&($e=og);break}b&&$e&&null===bj.alternate&&e(nd,$e);Xc=Ba(bj,Xc,pf);null===cf?Ze=bj:
cf.sibling=bj;cf=bj;$e=og}if($f.done)return n(nd,$e),Cg&&Cd(nd,pf),Ze;if(null===$e){for(;!$f.done;pf++,$f=vd.next())$f=me(nd,$f.value,te),null!==$f&&(Xc=Ba($f,Xc,pf),null===cf?Ze=$f:cf.sibling=$f,cf=$f);Cg&&Cd(nd,pf);return Ze}for($e=K(nd,$e);!$f.done;pf++,$f=vd.next())$f=Fe($e,nd,pf,$f.value,te),null!==$f&&(b&&null!==$f.alternate&&$e.delete(null===$f.key?pf:$f.key),Xc=Ba($f,Xc,pf),null===cf?Ze=$f:cf.sibling=$f,cf=$f);b&&$e.forEach(function(pl){return e(nd,pl)});Cg&&Cd(nd,pf);return Ze}function Xg(nd,
Xc,vd,te){"object"===typeof vd&&null!==vd&&vd.type===rd&&null===vd.key&&(vd=vd.props.children);if("object"===typeof vd&&null!==vd){switch(vd.$$typeof){case fd:a:{for(var Ze=vd.key,cf=Xc;null!==cf;){if(cf.key===Ze){Ze=vd.type;if(Ze===rd){if(7===cf.tag){n(nd,cf.sibling);Xc=oa(cf,vd.props.children);Xc.return=nd;nd=Xc;break a}}else if(cf.elementType===Ze||"object"===typeof Ze&&null!==Ze&&Ze.$$typeof===gg&&Ld(Ze)===cf.type){n(nd,cf.sibling);Xc=oa(cf,vd.props);Xc.ref=yd(nd,cf,vd);Xc.return=nd;nd=Xc;break a}n(nd,
cf);break}else e(nd,cf);cf=cf.sibling}vd.type===rd?(Xc=hi(vd.props.children,nd.mode,te,vd.key),Xc.return=nd,nd=Xc):(te=qi(vd.type,vd.key,vd.props,null,nd.mode,te),te.ref=yd(nd,Xc,vd),te.return=nd,nd=te)}return tb(nd);case mc:a:{for(cf=vd.key;null!==Xc;){if(Xc.key===cf)if(4===Xc.tag&&Xc.stateNode.containerInfo===vd.containerInfo&&Xc.stateNode.implementation===vd.implementation){n(nd,Xc.sibling);Xc=oa(Xc,vd.children||[]);Xc.return=nd;nd=Xc;break a}else{n(nd,Xc);break}else e(nd,Xc);Xc=Xc.sibling}Xc=
Dg(vd,nd.mode,te);Xc.return=nd;nd=Xc}return tb(nd);case gg:return cf=vd._init,Xg(nd,Xc,cf(vd._payload),te)}if(Me(vd))return Se(nd,Xc,vd,te);if(Bb(vd))return We(nd,Xc,vd,te);Ae(nd,vd)}return"string"===typeof vd&&""!==vd||"number"===typeof vd?(vd=""+vd,null!==Xc&&6===Xc.tag?(n(nd,Xc.sibling),Xc=oa(Xc,vd),Xc.return=nd,nd=Xc):(n(nd,Xc),Xc=Ni(vd,nd.mode,te),Xc.return=nd,nd=Xc),tb(nd)):n(nd,Xc)}return Xg}function He(b){if(b===Bj)throw Error(v(174));return b}function lf(b,e){ee(Cj,e);ee(Dj,b);ee(Di,Bj);
b=e.nodeType;switch(b){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Fa(null,"");break;default:b=8===b?e.parentNode:e,e=b.namespaceURI||null,b=b.tagName,e=Fa(e,b)}gd(Di);ee(Di,e)}function vf(){gd(Di);gd(Dj);gd(Cj)}function Ke(b){He(Cj.current);var e=He(Di.current),n=Fa(e,b.type);e!==n&&(ee(Dj,b),ee(Di,n))}function ne(b){Dj.current===b&&(gd(Di),gd(Dj))}function Df(b){for(var e=b;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(n=n.dehydrated,null===n||"$?"===n.data||"$!"===n.data))return e}else if(19===
e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(e.flags&128))return e}else if(null!==e.child){e.child.return=e;e=e.child;continue}if(e===b)break;for(;null===e.sibling;){if(null===e.return||e.return===b)return null;e=e.return}e.sibling.return=e.return;e=e.sibling}return null}function If(){for(var b=0;b<cj.length;b++)cj[b]._workInProgressVersionPrimary=null;cj.length=0}function jf(){throw Error(v(321));}function ag(b,e){if(null===e)return!1;for(var n=0;n<e.length&&n<b.length;n++)if(!ni(b[n],e[n]))return!1;
return!0}function Yd(b,e,n,K,oa,Ba){oj=Ba;rg=e;e.memoizedState=null;e.updateQueue=null;e.lanes=0;Wj.current=null===b||null===b.memoizedState?Rl:ql;b=n(K,oa);if(Xj){Ba=0;do{Xj=!1;Yj=0;if(25<=Ba)throw Error(v(301));Ba+=1;kh=ih=null;e.updateQueue=null;Wj.current=rl;b=n(K,oa)}while(Xj)}Wj.current=Zj;e=null!==ih&&null!==ih.next;oj=0;kh=ih=rg=null;pj=!1;if(e)throw Error(v(300));return b}function ff(){var b=0!==Yj;Yj=0;return b}function mf(){var b={memoizedState:null,baseState:null,baseQueue:null,queue:null,
next:null};null===kh?rg.memoizedState=kh=b:kh=kh.next=b;return kh}function af(){if(null===ih){var b=rg.alternate;b=null!==b?b.memoizedState:null}else b=ih.next;var e=null===kh?rg.memoizedState:kh.next;if(null!==e)kh=e,ih=b;else{if(null===b)throw Error(v(310));ih=b;b={memoizedState:ih.memoizedState,baseState:ih.baseState,baseQueue:ih.baseQueue,queue:ih.queue,next:null};null===kh?rg.memoizedState=kh=b:kh=kh.next=b}return kh}function Hf(b,e){return"function"===typeof e?e(b):e}function Jf(b){var e=af(),
n=e.queue;if(null===n)throw Error(v(311));n.lastRenderedReducer=b;var K=ih,oa=K.baseQueue,Ba=n.pending;if(null!==Ba){if(null!==oa){var tb=oa.next;oa.next=Ba.next;Ba.next=tb}K.baseQueue=oa=Ba;n.pending=null}if(null!==oa){Ba=oa.next;K=K.baseState;var wc=tb=null,Oc=null,Ad=Ba;do{var fe=Ad.lane;if((oj&fe)===fe)null!==Oc&&(Oc=Oc.next={lane:0,action:Ad.action,hasEagerState:Ad.hasEagerState,eagerState:Ad.eagerState,next:null}),K=Ad.hasEagerState?Ad.eagerState:b(K,Ad.action);else{var me={lane:fe,action:Ad.action,
hasEagerState:Ad.hasEagerState,eagerState:Ad.eagerState,next:null};null===Oc?(wc=Oc=me,tb=K):Oc=Oc.next=me;rg.lanes|=fe;nj|=fe}Ad=Ad.next}while(null!==Ad&&Ad!==Ba);null===Oc?tb=K:Oc.next=wc;ni(K,e.memoizedState)||(Oh=!0);e.memoizedState=K;e.baseState=tb;e.baseQueue=Oc;n.lastRenderedState=K}b=n.interleaved;if(null!==b){oa=b;do Ba=oa.lane,rg.lanes|=Ba,nj|=Ba,oa=oa.next;while(oa!==b)}else null===oa&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function zf(b){var e=af(),n=e.queue;if(null===n)throw Error(v(311));
n.lastRenderedReducer=b;var K=n.dispatch,oa=n.pending,Ba=e.memoizedState;if(null!==oa){n.pending=null;var tb=oa=oa.next;do Ba=b(Ba,tb.action),tb=tb.next;while(tb!==oa);ni(Ba,e.memoizedState)||(Oh=!0);e.memoizedState=Ba;null===e.baseQueue&&(e.baseState=Ba);n.lastRenderedState=Ba}return[Ba,K]}function Af(){}function Eg(b,e){var n=rg,K=af(),oa=e(),Ba=!ni(K.memoizedState,oa);Ba&&(K.memoizedState=oa,Oh=!0);K=K.queue;hd(Kf.bind(null,n,K,b),[b]);if(K.getSnapshot!==e||Ba||null!==kh&&kh.memoizedState.tag&
1){n.flags|=2048;Mg(9,xf.bind(null,n,K,oa,e),void 0,null);if(null===th)throw Error(v(349));0!==(oj&30)||hg(n,e,oa)}return oa}function hg(b,e,n){b.flags|=16384;b={getSnapshot:e,value:n};e=rg.updateQueue;null===e?(e={lastEffect:null,stores:null},rg.updateQueue=e,e.stores=[b]):(n=e.stores,null===n?e.stores=[b]:n.push(b))}function xf(b,e,n,K){e.value=n;e.getSnapshot=K;dg(e)&&ch(b)}function Kf(b,e,n){return n(function(){dg(e)&&ch(b)})}function dg(b){var e=b.getSnapshot;b=b.value;try{var n=e();return!ni(b,
n)}catch(K){return!0}}function ch(b){var e=jb(b,1);null!==e&&ca(e,b,1,-1)}function Ig(b){var e=mf();"function"===typeof b&&(b=b());e.memoizedState=e.baseState=b;b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hf,lastRenderedState:b};e.queue=b;b=b.dispatch=Rg.bind(null,rg,b);return[e.memoizedState,b]}function Mg(b,e,n,K){b={tag:b,create:e,destroy:n,deps:K,next:null};e=rg.updateQueue;null===e?(e={lastEffect:null,stores:null},rg.updateQueue=e,e.lastEffect=b.next=b):(n=e.lastEffect,
null===n?e.lastEffect=b.next=b:(K=n.next,n.next=b,b.next=K,e.lastEffect=b));return b}function Ug(){return af().memoizedState}function qa(b,e,n,K){var oa=mf();rg.flags|=b;oa.memoizedState=Mg(1|e,n,void 0,void 0===K?null:K)}function bb(b,e,n,K){var oa=af();K=void 0===K?null:K;var Ba=void 0;if(null!==ih){var tb=ih.memoizedState;Ba=tb.destroy;if(null!==K&&ag(K,tb.deps)){oa.memoizedState=Mg(e,n,Ba,K);return}}rg.flags|=b;oa.memoizedState=Mg(1|e,n,Ba,K)}function Rb(b,e){return qa(8390656,8,b,e)}function hd(b,
e){return bb(2048,8,b,e)}function ld(b,e){return bb(4,2,b,e)}function pe(b,e){return bb(4,4,b,e)}function Pe(b,e){if("function"===typeof e)return b=b(),e(b),function(){e(null)};if(null!==e&&void 0!==e)return b=b(),e.current=b,function(){e.current=null}}function qf(b,e,n){n=null!==n&&void 0!==n?n.concat([b]):null;return bb(4,4,Pe.bind(null,e,b),n)}function Gf(){}function Ne(b,e){var n=af();e=void 0===e?null:e;var K=n.memoizedState;if(null!==K&&null!==e&&ag(e,K[1]))return K[0];n.memoizedState=[b,e];
return b}function bg(b,e){var n=af();e=void 0===e?null:e;var K=n.memoizedState;if(null!==K&&null!==e&&ag(e,K[1]))return K[0];b=b();n.memoizedState=[b,e];return b}function Pf(b,e,n){if(0===(oj&21))return b.baseState&&(b.baseState=!1,Oh=!0),b.memoizedState=n;ni(n,e)||(n=sc(),rg.lanes|=n,nj|=n,b.baseState=!0);return e}function Vf(b,e){var n=qg;qg=0!==n&&4>n?n:4;b(!0);var K=vk.transition;vk.transition={};try{b(!1),e()}finally{qg=n,vk.transition=K}}function sg(){return af().memoizedState}function tg(b,
e,n){var K=z(b);n={lane:K,action:n,hasEagerState:!1,eagerState:null,next:null};if(dh(b))jh(e,n);else if(n=Ja(b,e,n,K),null!==n){var oa=l();ca(n,b,K,oa);Ee(n,e,K)}}function Rg(b,e,n){var K=z(b),oa={lane:K,action:n,hasEagerState:!1,eagerState:null,next:null};if(dh(b))jh(e,oa);else{var Ba=b.alternate;if(0===b.lanes&&(null===Ba||0===Ba.lanes)&&(Ba=e.lastRenderedReducer,null!==Ba))try{var tb=e.lastRenderedState,wc=Ba(tb,n);oa.hasEagerState=!0;oa.eagerState=wc;if(ni(wc,tb)){var Oc=e.interleaved;null===
Oc?(oa.next=oa,ta(e)):(oa.next=Oc.next,Oc.next=oa);e.interleaved=oa;return}}catch(Ad){}finally{}n=Ja(b,e,oa,K);null!==n&&(oa=l(),ca(n,b,K,oa),Ee(n,e,K))}}function dh(b){var e=b.alternate;return b===rg||null!==e&&e===rg}function jh(b,e){Xj=pj=!0;var n=b.pending;null===n?e.next=e:(e.next=n.next,n.next=e);b.pending=e}function Ee(b,e,n){if(0!==(n&4194240)){var K=e.lanes;K&=b.pendingLanes;n|=K;e.lanes=n;Rc(b,n)}}function Je(b,e){try{var n="",K=e;do n+=Ua(K),K=K.return;while(K)}catch(oa){n="\nError generating stack: "+
oa.message+"\n"+oa.stack}return{value:b,source:e,stack:n,digest:null}}function Lf(b,e,n){return{value:b,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function yf(b,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n;})}}function nf(b,e,n){n=qc(-1,n);n.tag=3;n.payload={element:null};var K=e.value;n.callback=function(){wk||(wk=!0,Sk=K);yf(b,e)};return n}function Bf(b,e,n){n=qc(-1,n);n.tag=3;var K=b.type.getDerivedStateFromError;if("function"===typeof K){var oa=e.value;n.payload=
function(){return K(oa)};n.callback=function(){yf(b,e)}}var Ba=b.stateNode;null!==Ba&&"function"===typeof Ba.componentDidCatch&&(n.callback=function(){yf(b,e);"function"!==typeof K&&(null===Oi?Oi=new Set([this]):Oi.add(this));var tb=e.stack;this.componentDidCatch(e.value,{componentStack:null!==tb?tb:""})});return n}function ug(b,e,n){var K=b.pingCache;if(null===K){K=b.pingCache=new Sl;var oa=new Set;K.set(e,oa)}else oa=K.get(e),void 0===oa&&(oa=new Set,K.set(e,oa));oa.has(n)||(oa.add(n),b=Qf.bind(null,
b,e,n),e.then(b,b))}function xg(b){do{var e;if(e=13===b.tag)e=b.memoizedState,e=null!==e?null!==e.dehydrated?!0:!1:!0;if(e)return b;b=b.return}while(null!==b);return null}function ig(b,e,n,K,oa){if(0===(b.mode&1))return b===e?b.flags|=65536:(b.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:(e=qc(-1,1),e.tag=2,rc(n,e,1))),n.lanes|=1),b;b.flags|=65536;b.lanes=oa;return b}function Cf(b,e,n,K){e.child=null===b?Tk(e,null,n,K):Ej(e,b.child,n,K)}function Sg(b,e,n,K,oa){n=
n.render;var Ba=e.ref;I(e,oa);K=Yd(b,e,n,K,Ba,oa);n=ff();if(null!==b&&!Oh)return e.updateQueue=b.updateQueue,e.flags&=-2053,b.lanes&=~oa,eh(b,e,oa);Cg&&n&&ye(e);e.flags|=1;Cf(b,e,K,oa);return e.child}function fh(b,e,n,K,oa){if(null===b){var Ba=n.type;if("function"===typeof Ba&&!Ng(Ba)&&void 0===Ba.defaultProps&&null===n.compare&&void 0===n.defaultProps)return e.tag=15,e.type=Ba,lh(b,e,Ba,K,oa);b=qi(n.type,null,K,e,e.mode,oa);b.ref=e.ref;b.return=e;return e.child=b}Ba=b.child;if(0===(b.lanes&oa)){var tb=
Ba.memoizedProps;n=n.compare;n=null!==n?n:za;if(n(tb,K)&&b.ref===e.ref)return eh(b,e,oa)}e.flags|=1;b=Zh(Ba,K);b.ref=e.ref;b.return=e;return e.child=b}function lh(b,e,n,K,oa){if(null!==b){var Ba=b.memoizedProps;if(za(Ba,K)&&b.ref===e.ref)if(Oh=!1,e.pendingProps=K=Ba,0!==(b.lanes&oa))0!==(b.flags&131072)&&(Oh=!0);else return e.lanes=b.lanes,eh(b,e,oa)}return uh(b,e,n,K,oa)}function yg(b,e,n){var K=e.pendingProps,oa=K.children,Ba=null!==b?b.memoizedState:null;if("hidden"===K.mode)if(0===(e.mode&1))e.memoizedState=
{baseLanes:0,cachePool:null,transitions:null},ee(Fj,$h),$h|=n;else{if(0===(n&1073741824))return b=null!==Ba?Ba.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:b,cachePool:null,transitions:null},e.updateQueue=null,ee(Fj,$h),$h|=b,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null};K=null!==Ba?Ba.baseLanes:n;ee(Fj,$h);$h|=K}else null!==Ba?(K=Ba.baseLanes|n,e.memoizedState=null):K=n,ee(Fj,$h),$h|=K;Cf(b,e,oa,n);return e.child}function vh(b,e){var n=e.ref;if(null===
b&&null!==n||null!==b&&b.ref!==n)e.flags|=512,e.flags|=2097152}function uh(b,e,n,K,oa){var Ba=eb(n)?Li:Ih.current;Ba=Sa(e,Ba);I(e,oa);n=Yd(b,e,n,K,Ba,oa);K=ff();if(null!==b&&!Oh)return e.updateQueue=b.updateQueue,e.flags&=-2053,b.lanes&=~oa,eh(b,e,oa);Cg&&K&&ye(e);e.flags|=1;Cf(b,e,n,oa);return e.child}function Kh(b,e,n,K,oa){if(eb(n)){var Ba=!0;Uc(e)}else Ba=!1;I(e,oa);if(null===e.stateNode)Tg(b,e),Kd(e,n,K),De(e,n,K,oa),K=!0;else if(null===b){var tb=e.stateNode,wc=e.memoizedProps;tb.props=wc;var Oc=
tb.context,Ad=n.contextType;"object"===typeof Ad&&null!==Ad?Ad=ka(Ad):(Ad=eb(n)?Li:Ih.current,Ad=Sa(e,Ad));var fe=n.getDerivedStateFromProps,me="function"===typeof fe||"function"===typeof tb.getSnapshotBeforeUpdate;me||"function"!==typeof tb.UNSAFE_componentWillReceiveProps&&"function"!==typeof tb.componentWillReceiveProps||(wc!==K||Oc!==Ad)&&Ge(e,tb,K,Ad);Ci=!1;var ge=e.memoizedState;tb.state=ge;Hc(e,K,tb,oa);Oc=e.memoizedState;wc!==K||ge!==Oc||Bg.current||Ci?("function"===typeof fe&&(zd(e,n,fe,
K),Oc=e.memoizedState),(wc=Ci||Dd(e,n,wc,K,ge,Oc,Ad))?(me||"function"!==typeof tb.UNSAFE_componentWillMount&&"function"!==typeof tb.componentWillMount||("function"===typeof tb.componentWillMount&&tb.componentWillMount(),"function"===typeof tb.UNSAFE_componentWillMount&&tb.UNSAFE_componentWillMount()),"function"===typeof tb.componentDidMount&&(e.flags|=4194308)):("function"===typeof tb.componentDidMount&&(e.flags|=4194308),e.memoizedProps=K,e.memoizedState=Oc),tb.props=K,tb.state=Oc,tb.context=Ad,
K=wc):("function"===typeof tb.componentDidMount&&(e.flags|=4194308),K=!1)}else{tb=e.stateNode;pc(b,e);wc=e.memoizedProps;Ad=e.type===e.elementType?wc:le(e.type,wc);tb.props=Ad;me=e.pendingProps;ge=tb.context;Oc=n.contextType;"object"===typeof Oc&&null!==Oc?Oc=ka(Oc):(Oc=eb(n)?Li:Ih.current,Oc=Sa(e,Oc));var Fe=n.getDerivedStateFromProps;(fe="function"===typeof Fe||"function"===typeof tb.getSnapshotBeforeUpdate)||"function"!==typeof tb.UNSAFE_componentWillReceiveProps&&"function"!==typeof tb.componentWillReceiveProps||
(wc!==me||ge!==Oc)&&Ge(e,tb,K,Oc);Ci=!1;ge=e.memoizedState;tb.state=ge;Hc(e,K,tb,oa);var Se=e.memoizedState;wc!==me||ge!==Se||Bg.current||Ci?("function"===typeof Fe&&(zd(e,n,Fe,K),Se=e.memoizedState),(Ad=Ci||Dd(e,n,Ad,K,ge,Se,Oc)||!1)?(fe||"function"!==typeof tb.UNSAFE_componentWillUpdate&&"function"!==typeof tb.componentWillUpdate||("function"===typeof tb.componentWillUpdate&&tb.componentWillUpdate(K,Se,Oc),"function"===typeof tb.UNSAFE_componentWillUpdate&&tb.UNSAFE_componentWillUpdate(K,Se,Oc)),
"function"===typeof tb.componentDidUpdate&&(e.flags|=4),"function"===typeof tb.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof tb.componentDidUpdate||wc===b.memoizedProps&&ge===b.memoizedState||(e.flags|=4),"function"!==typeof tb.getSnapshotBeforeUpdate||wc===b.memoizedProps&&ge===b.memoizedState||(e.flags|=1024),e.memoizedProps=K,e.memoizedState=Se),tb.props=K,tb.state=Se,tb.context=Oc,K=Ad):("function"!==typeof tb.componentDidUpdate||wc===b.memoizedProps&&ge===b.memoizedState||(e.flags|=
4),"function"!==typeof tb.getSnapshotBeforeUpdate||wc===b.memoizedProps&&ge===b.memoizedState||(e.flags|=1024),K=!1)}return Yg(b,e,n,K,Ba,oa)}function Yg(b,e,n,K,oa,Ba){vh(b,e);var tb=0!==(e.flags&128);if(!K&&!tb)return oa&&Qc(e,n,!1),eh(b,e,Ba);K=e.stateNode;Tl.current=e;var wc=tb&&"function"!==typeof n.getDerivedStateFromError?null:K.render();e.flags|=1;null!==b&&tb?(e.child=Ej(e,b.child,null,Ba),e.child=Ej(e,null,wc,Ba)):Cf(b,e,wc,Ba);e.memoizedState=K.state;oa&&Qc(e,n,!0);return e.child}function wh(b){var e=
b.stateNode;e.pendingContext?xd(b,e.pendingContext,e.pendingContext!==e.context):e.context&&xd(b,e.context,!1);lf(b,e.containerInfo)}function Dh(b){return{baseLanes:b,cachePool:null,transitions:null}}function ri(b,e,n){var K=e.pendingProps,oa=Fg.current,Ba=!1,tb=0!==(e.flags&128),wc;(wc=tb)||(wc=null!==b&&null===b.memoizedState?!1:0!==(oa&2));if(wc)Ba=!0,e.flags&=-129;else if(null===b||null!==b.memoizedState)oa|=1;ee(Fg,oa&1);if(null===b){Ec(e);b=e.memoizedState;if(null!==b&&(b=b.dehydrated,null!==
b))return 0===(e.mode&1)?e.lanes=1:"$!"===b.data?e.lanes=8:e.lanes=1073741824,null;tb=K.children;b=K.fallback;return Ba?(K=e.mode,Ba=e.child,tb={mode:"hidden",children:tb},0===(K&1)&&null!==Ba?(Ba.childLanes=0,Ba.pendingProps=tb):Ba=Pi(tb,K,0,null),b=hi(b,K,n,null),Ba.return=e,b.return=e,Ba.sibling=b,e.child=Ba,e.child.memoizedState=Dh(n),e.memoizedState=xk,b):Vg(e,tb)}oa=b.memoizedState;if(null!==oa&&(wc=oa.dehydrated,null!==wc))return si(b,e,tb,K,wc,oa,n);if(Ba){Ba=K.fallback;tb=e.mode;oa=b.child;
wc=oa.sibling;var Oc={mode:"hidden",children:K.children};0===(tb&1)&&e.child!==oa?(K=e.child,K.childLanes=0,K.pendingProps=Oc,e.deletions=null):(K=Zh(oa,Oc),K.subtreeFlags=oa.subtreeFlags&14680064);null!==wc?Ba=Zh(wc,Ba):(Ba=hi(Ba,tb,n,null),Ba.flags|=2);Ba.return=e;K.return=e;K.sibling=Ba;e.child=K;K=Ba;Ba=e.child;tb=b.child.memoizedState;tb=null===tb?Dh(n):{baseLanes:tb.baseLanes|n,cachePool:null,transitions:tb.transitions};Ba.memoizedState=tb;Ba.childLanes=b.childLanes&~n;e.memoizedState=xk;return K}Ba=
b.child;b=Ba.sibling;K=Zh(Ba,{mode:"visible",children:K.children});0===(e.mode&1)&&(K.lanes=n);K.return=e;K.sibling=null;null!==b&&(n=e.deletions,null===n?(e.deletions=[b],e.flags|=16):n.push(b));e.child=K;e.memoizedState=null;return K}function Vg(b,e){e=Pi({mode:"visible",children:e},b.mode,0,null);e.return=b;return b.child=e}function mh(b,e,n,K){null!==K&&ce(K);Ej(e,b.child,null,n);b=Vg(e,e.pendingProps.children);b.flags|=2;e.memoizedState=null;return b}function si(b,e,n,K,oa,Ba,tb){if(n){if(e.flags&
256)return e.flags&=-257,K=Lf(Error(v(422))),mh(b,e,tb,K);if(null!==e.memoizedState)return e.child=b.child,e.flags|=128,null;Ba=K.fallback;oa=e.mode;K=Pi({mode:"visible",children:K.children},oa,0,null);Ba=hi(Ba,oa,tb,null);Ba.flags|=2;K.return=e;Ba.return=e;K.sibling=Ba;e.child=K;0!==(e.mode&1)&&Ej(e,b.child,null,tb);e.child.memoizedState=Dh(tb);e.memoizedState=xk;return Ba}if(0===(e.mode&1))return mh(b,e,tb,null);if("$!"===oa.data){if(K=oa.nextSibling&&oa.nextSibling.dataset)var wc=K.dgst;K=wc;Ba=
Error(v(419));K=Lf(Ba,K,void 0);return mh(b,e,tb,K)}wc=0!==(tb&b.childLanes);if(Oh||wc){K=th;if(null!==K){switch(tb&-tb){case 4:oa=2;break;case 16:oa=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:oa=32;break;case 536870912:oa=268435456;break;default:oa=0}oa=0!==(oa&(K.suspendedLanes|tb))?0:oa;0!==oa&&
oa!==Ba.retryLane&&(Ba.retryLane=oa,jb(b,oa),ca(K,b,oa,-1))}wf();K=Lf(Error(v(421)));return mh(b,e,tb,K)}if("$?"===oa.data)return e.flags|=128,e.child=b.child,e=Mf.bind(null,b),oa._reactRetry=e,null;b=Ba.treeContext;Yh=J(oa.nextSibling);Jh=e;Cg=!0;Th=null;null!==b&&(ei[fi++]=Ai,ei[fi++]=gi,ei[fi++]=bh,Ai=b.id,gi=b.overflow,bh=e);e=Vg(e,K.children);e.flags|=4096;return e}function Gg(b,e,n){b.lanes|=e;var K=b.alternate;null!==K&&(K.lanes|=e);ea(b.return,e,n)}function Eh(b,e,n,K,oa){var Ba=b.memoizedState;
null===Ba?b.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:K,tail:n,tailMode:oa}:(Ba.isBackwards=e,Ba.rendering=null,Ba.renderingStartTime=0,Ba.last=K,Ba.tail=n,Ba.tailMode=oa)}function Uh(b,e,n){var K=e.pendingProps,oa=K.revealOrder,Ba=K.tail;Cf(b,e,K.children,n);K=Fg.current;if(0!==(K&2))K=K&1|2,e.flags|=128;else{if(null!==b&&0!==(b.flags&128))a:for(b=e.child;null!==b;){if(13===b.tag)null!==b.memoizedState&&Gg(b,n,e);else if(19===b.tag)Gg(b,n,e);else if(null!==b.child){b.child.return=
b;b=b.child;continue}if(b===e)break a;for(;null===b.sibling;){if(null===b.return||b.return===e)break a;b=b.return}b.sibling.return=b.return;b=b.sibling}K&=1}ee(Fg,K);if(0===(e.mode&1))e.memoizedState=null;else switch(oa){case "forwards":n=e.child;for(oa=null;null!==n;)b=n.alternate,null!==b&&null===Df(b)&&(oa=n),n=n.sibling;n=oa;null===n?(oa=e.child,e.child=null):(oa=n.sibling,n.sibling=null);Eh(e,!1,oa,n,Ba);break;case "backwards":n=null;oa=e.child;for(e.child=null;null!==oa;){b=oa.alternate;if(null!==
b&&null===Df(b)){e.child=oa;break}b=oa.sibling;oa.sibling=n;n=oa;oa=b}Eh(e,!0,n,null,Ba);break;case "together":Eh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Tg(b,e){0===(e.mode&1)&&null!==b&&(b.alternate=null,e.alternate=null,e.flags|=2)}function eh(b,e,n){null!==b&&(e.dependencies=b.dependencies);nj|=e.lanes;if(0===(n&e.childLanes))return null;if(null!==b&&e.child!==b.child)throw Error(v(153));if(null!==e.child){b=e.child;n=Zh(b,b.pendingProps);e.child=n;for(n.return=
e;null!==b.sibling;)b=b.sibling,n=n.sibling=Zh(b,b.pendingProps),n.return=e;n.sibling=null}return e.child}function nh(b,e,n){switch(e.tag){case 3:wh(e);Vd();break;case 5:Ke(e);break;case 1:eb(e.type)&&Uc(e);break;case 4:lf(e,e.stateNode.containerInfo);break;case 10:var K=e.type._context,oa=e.memoizedProps.value;ee(lj,K._currentValue);K._currentValue=oa;break;case 13:K=e.memoizedState;if(null!==K){if(null!==K.dehydrated)return ee(Fg,Fg.current&1),e.flags|=128,null;if(0!==(n&e.child.childLanes))return ri(b,
e,n);ee(Fg,Fg.current&1);b=eh(b,e,n);return null!==b?b.sibling:null}ee(Fg,Fg.current&1);break;case 19:K=0!==(n&e.childLanes);if(0!==(b.flags&128)){if(K)return Uh(b,e,n);e.flags|=128}oa=e.memoizedState;null!==oa&&(oa.rendering=null,oa.tail=null,oa.lastEffect=null);ee(Fg,Fg.current);if(K)break;else return null;case 22:case 23:return e.lanes=0,yg(b,e,n)}return eh(b,e,n)}function xh(b,e){if(!Cg)switch(b.tailMode){case "hidden":e=b.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===
n?b.tail=null:n.sibling=null;break;case "collapsed":n=b.tail;for(var K=null;null!==n;)null!==n.alternate&&(K=n),n=n.sibling;null===K?e||null===b.tail?b.tail=null:b.tail.sibling=null:K.sibling=null}}function Jg(b){var e=null!==b.alternate&&b.alternate.child===b.child,n=0,K=0;if(e)for(var oa=b.child;null!==oa;)n|=oa.lanes|oa.childLanes,K|=oa.subtreeFlags&14680064,K|=oa.flags&14680064,oa.return=b,oa=oa.sibling;else for(oa=b.child;null!==oa;)n|=oa.lanes|oa.childLanes,K|=oa.subtreeFlags,K|=oa.flags,oa.return=
b,oa=oa.sibling;b.subtreeFlags|=K;b.childLanes=n;return e}function Lh(b,e,n){var K=e.pendingProps;Le(e);switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jg(e),null;case 1:return eb(e.type)&&oc(),Jg(e),null;case 3:K=e.stateNode;vf();gd(Bg);gd(Ih);If();K.pendingContext&&(K.context=K.pendingContext,K.pendingContext=null);if(null===b||null===b.child)Fc(e)?e.flags|=4:null===b||b.memoizedState.isDehydrated&&0===(e.flags&256)||(e.flags|=1024,null!==Th&&(Jb(Th),
Th=null));sl(b,e);Jg(e);return null;case 5:ne(e);var oa=He(Cj.current);n=e.type;if(null!==b&&null!=e.stateNode)Qi(b,e,n,K,oa),b.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!K){if(null===e.stateNode)throw Error(v(166));Jg(e);return null}b=He(Di.current);if(Fc(e)){K=e.stateNode;n=e.type;var Ba=e.memoizedProps;K[pi]=e;K[Zi]=Ba;b=0!==(e.mode&1);switch(n){case "dialog":Wd("cancel",K);Wd("close",K);break;case "iframe":case "object":case "embed":Wd("load",K);break;case "video":case "audio":for(oa=
0;oa<dj.length;oa++)Wd(dj[oa],K);break;case "source":Wd("error",K);break;case "img":case "image":case "link":Wd("error",K);Wd("load",K);break;case "details":Wd("toggle",K);break;case "input":Ka(K,Ba);Wd("invalid",K);break;case "select":K._wrapperState={wasMultiple:!!Ba.multiple};Wd("invalid",K);break;case "textarea":Wb(K,Ba),Wd("invalid",K)}na(n,Ba);oa=null;for(var tb in Ba)if(Ba.hasOwnProperty(tb)){var wc=Ba[tb];"children"===tb?"string"===typeof wc?K.textContent!==wc&&(!0!==Ba.suppressHydrationWarning&&
cb(K.textContent,wc,b),oa=["children",wc]):"number"===typeof wc&&K.textContent!==""+wc&&(!0!==Ba.suppressHydrationWarning&&cb(K.textContent,wc,b),oa=["children",""+wc]):T.hasOwnProperty(tb)&&null!=wc&&"onScroll"===tb&&Wd("scroll",K)}switch(n){case "input":ab(K);Pa(K,Ba,!0);break;case "textarea":ab(K);pa(K);break;case "select":case "option":break;default:"function"===typeof Ba.onClick&&(K.onclick=Ab)}K=oa;e.updateQueue=K;null!==K&&(e.flags|=4)}else{tb=9===oa.nodeType?oa:oa.ownerDocument;"http://www.w3.org/1999/xhtml"===
b&&(b=Z(n));"http://www.w3.org/1999/xhtml"===b?"script"===n?(b=tb.createElement("div"),b.innerHTML="\x3cscript\x3e\x3c/script\x3e",b=b.removeChild(b.firstChild)):"string"===typeof K.is?b=tb.createElement(n,{is:K.is}):(b=tb.createElement(n),"select"===n&&(tb=b,K.multiple?tb.multiple=!0:K.size&&(tb.size=K.size))):b=tb.createElementNS(b,n);b[pi]=e;b[Zi]=K;Ul(b,e,!1,!1);e.stateNode=b;a:{tb=q(n,K);switch(n){case "dialog":Wd("cancel",b);Wd("close",b);oa=K;break;case "iframe":case "object":case "embed":Wd("load",
b);oa=K;break;case "video":case "audio":for(oa=0;oa<dj.length;oa++)Wd(dj[oa],b);oa=K;break;case "source":Wd("error",b);oa=K;break;case "img":case "image":case "link":Wd("error",b);Wd("load",b);oa=K;break;case "details":Wd("toggle",b);oa=K;break;case "input":Ka(b,K);oa=Da(b,K);Wd("invalid",b);break;case "option":oa=K;break;case "select":b._wrapperState={wasMultiple:!!K.multiple};oa=wg({},K,{value:void 0});Wd("invalid",b);break;case "textarea":Wb(b,K);oa=Qb(b,K);Wd("invalid",b);break;default:oa=K}na(n,
oa);wc=oa;for(Ba in wc)if(wc.hasOwnProperty(Ba)){var Oc=wc[Ba];"style"===Ba?ba(b,Oc):"dangerouslySetInnerHTML"===Ba?(Oc=Oc?Oc.__html:void 0,null!=Oc&&pg(b,Oc)):"children"===Ba?"string"===typeof Oc?("textarea"!==n||""!==Oc)&&Ga(b,Oc):"number"===typeof Oc&&Ga(b,""+Oc):"suppressContentEditableWarning"!==Ba&&"suppressHydrationWarning"!==Ba&&"autoFocus"!==Ba&&(T.hasOwnProperty(Ba)?null!=Oc&&"onScroll"===Ba&&Wd("scroll",b):null!=Oc&&uc(b,Ba,Oc,tb))}switch(n){case "input":ab(b);Pa(b,K,!1);break;case "textarea":ab(b);
pa(b);break;case "option":null!=K.value&&b.setAttribute("value",""+Lb(K.value));break;case "select":b.multiple=!!K.multiple;Ba=K.value;null!=Ba?sb(b,!!K.multiple,Ba,!1):null!=K.defaultValue&&sb(b,!!K.multiple,K.defaultValue,!0);break;default:"function"===typeof oa.onClick&&(b.onclick=Ab)}switch(n){case "button":case "input":case "select":case "textarea":K=!!K.autoFocus;break a;case "img":K=!0;break a;default:K=!1}}K&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}Jg(e);return null;case 6:if(b&&
null!=e.stateNode)tl(b,e,b.memoizedProps,K);else{if("string"!==typeof K&&null===e.stateNode)throw Error(v(166));n=He(Cj.current);He(Di.current);if(Fc(e)){K=e.stateNode;n=e.memoizedProps;K[pi]=e;if(Ba=K.nodeValue!==n)if(b=Jh,null!==b)switch(b.tag){case 3:cb(K.nodeValue,n,0!==(b.mode&1));break;case 5:!0!==b.memoizedProps.suppressHydrationWarning&&cb(K.nodeValue,n,0!==(b.mode&1))}Ba&&(e.flags|=4)}else K=(9===n.nodeType?n:n.ownerDocument).createTextNode(K),K[pi]=e,e.stateNode=K}Jg(e);return null;case 13:gd(Fg);
K=e.memoizedState;if(null===b||null!==b.memoizedState&&null!==b.memoizedState.dehydrated){if(Cg&&null!==Yh&&0!==(e.mode&1)&&0===(e.flags&128))Id(),Vd(),e.flags|=98560,Ba=!1;else if(Ba=Fc(e),null!==K&&null!==K.dehydrated){if(null===b){if(!Ba)throw Error(v(318));Ba=e.memoizedState;Ba=null!==Ba?Ba.dehydrated:null;if(!Ba)throw Error(v(317));Ba[pi]=e}else Vd(),0===(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jg(e);Ba=!1}else null!==Th&&(Jb(Th),Th=null),Ba=!0;if(!Ba)return e.flags&65536?e:null}if(0!==
(e.flags&128))return e.lanes=n,e;K=null!==K;K!==(null!==b&&null!==b.memoizedState)&&K&&(e.child.flags|=8192,0!==(e.mode&1)&&(null===b||0!==(Fg.current&1)?0===oh&&(oh=3):wf()));null!==e.updateQueue&&(e.flags|=4);Jg(e);return null;case 4:return vf(),sl(b,e),null===b&&Ce(e.stateNode.containerInfo),Jg(e),null;case 10:return O(e.type._context),Jg(e),null;case 17:return eb(e.type)&&oc(),Jg(e),null;case 19:gd(Fg);Ba=e.memoizedState;if(null===Ba)return Jg(e),null;K=0!==(e.flags&128);tb=Ba.rendering;if(null===
tb)if(K)xh(Ba,!1);else{if(0!==oh||null!==b&&0!==(b.flags&128))for(b=e.child;null!==b;){tb=Df(b);if(null!==tb){e.flags|=128;xh(Ba,!1);K=tb.updateQueue;null!==K&&(e.updateQueue=K,e.flags|=4);e.subtreeFlags=0;K=n;for(n=e.child;null!==n;)Ba=n,b=K,Ba.flags&=14680066,tb=Ba.alternate,null===tb?(Ba.childLanes=0,Ba.lanes=b,Ba.child=null,Ba.subtreeFlags=0,Ba.memoizedProps=null,Ba.memoizedState=null,Ba.updateQueue=null,Ba.dependencies=null,Ba.stateNode=null):(Ba.childLanes=tb.childLanes,Ba.lanes=tb.lanes,Ba.child=
tb.child,Ba.subtreeFlags=0,Ba.deletions=null,Ba.memoizedProps=tb.memoizedProps,Ba.memoizedState=tb.memoizedState,Ba.updateQueue=tb.updateQueue,Ba.type=tb.type,b=tb.dependencies,Ba.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext}),n=n.sibling;ee(Fg,Fg.current&1|2);return e.child}b=b.sibling}null!==Ba.tail&&gh()>Vh&&(e.flags|=128,K=!0,xh(Ba,!1),e.lanes=4194304)}else{if(!K)if(b=Df(tb),null!==b){if(e.flags|=128,K=!0,n=b.updateQueue,null!==n&&(e.updateQueue=n,e.flags|=4),xh(Ba,!0),
null===Ba.tail&&"hidden"===Ba.tailMode&&!tb.alternate&&!Cg)return Jg(e),null}else 2*gh()-Ba.renderingStartTime>Vh&&1073741824!==n&&(e.flags|=128,K=!0,xh(Ba,!1),e.lanes=4194304);Ba.isBackwards?(tb.sibling=e.child,e.child=tb):(n=Ba.last,null!==n?n.sibling=tb:e.child=tb,Ba.last=tb)}if(null!==Ba.tail)return e=Ba.tail,Ba.rendering=e,Ba.tail=e.sibling,Ba.renderingStartTime=gh(),e.sibling=null,n=Fg.current,ee(Fg,K?n&1|2:n&1),e;Jg(e);return null;case 22:case 23:return ue(),K=null!==e.memoizedState,null!==
b&&null!==b.memoizedState!==K&&(e.flags|=8192),K&&0!==(e.mode&1)?0!==($h&1073741824)&&(Jg(e),e.subtreeFlags&6&&(e.flags|=8192)):Jg(e),null;case 24:return null;case 25:return null}throw Error(v(156,e.tag));}function yh(b,e){Le(e);switch(e.tag){case 1:return eb(e.type)&&oc(),b=e.flags,b&65536?(e.flags=b&-65537|128,e):null;case 3:return vf(),gd(Bg),gd(Ih),If(),b=e.flags,0!==(b&65536)&&0===(b&128)?(e.flags=b&-65537|128,e):null;case 5:return ne(e),null;case 13:gd(Fg);b=e.memoizedState;if(null!==b&&null!==
b.dehydrated){if(null===e.alternate)throw Error(v(340));Vd()}b=e.flags;return b&65536?(e.flags=b&-65537|128,e):null;case 19:return gd(Fg),null;case 4:return vf(),null;case 10:return O(e.type._context),null;case 22:case 23:return ue(),null;case 24:return null;default:return null}}function zh(b,e){var n=b.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(K){of(b,e,K)}else n.current=null}function Ph(b,e,n){try{n()}catch(K){of(b,e,K)}}function Wh(b,e){Uk=kk;b=Bc();if(lc(b)){if("selectionStart"in
b)var n={start:b.selectionStart,end:b.selectionEnd};else a:{n=(n=b.ownerDocument)&&n.defaultView||window;var K=n.getSelection&&n.getSelection();if(K&&0!==K.rangeCount){n=K.anchorNode;var oa=K.anchorOffset,Ba=K.focusNode;K=K.focusOffset;try{n.nodeType,Ba.nodeType}catch(te){n=null;break a}var tb=0,wc=-1,Oc=-1,Ad=0,fe=0,me=b,ge=null;b:for(;;){for(var Fe;;){me!==n||0!==oa&&3!==me.nodeType||(wc=tb+oa);me!==Ba||0!==K&&3!==me.nodeType||(Oc=tb+K);3===me.nodeType&&(tb+=me.nodeValue.length);if(null===(Fe=me.firstChild))break;
ge=me;me=Fe}for(;;){if(me===b)break b;ge===n&&++Ad===oa&&(wc=tb);ge===Ba&&++fe===K&&(Oc=tb);if(null!==(Fe=me.nextSibling))break;me=ge;ge=me.parentNode}me=Fe}n=-1===wc||-1===Oc?null:{start:wc,end:Oc}}else n=null}n=n||{start:0,end:0}}else n=null;Vk={focusedElem:b,selectionRange:n};kk=!1;for(Oe=e;null!==Oe;)if(e=Oe,b=e.child,0!==(e.subtreeFlags&1028)&&null!==b)b.return=e,Oe=b;else for(;null!==Oe;){e=Oe;try{var Se=e.alternate;if(0!==(e.flags&1024))switch(e.tag){case 0:case 11:case 15:break;case 1:if(null!==
Se){var We=Se.memoizedProps,Xg=Se.memoizedState,nd=e.stateNode,Xc=nd.getSnapshotBeforeUpdate(e.elementType===e.type?We:le(e.type,We),Xg);nd.__reactInternalSnapshotBeforeUpdate=Xc}break;case 3:var vd=e.stateNode.containerInfo;1===vd.nodeType?vd.textContent="":9===vd.nodeType&&vd.documentElement&&vd.removeChild(vd.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(v(163));}}catch(te){of(e,e.return,te)}b=e.sibling;if(null!==b){b.return=e.return;Oe=b;break}Oe=e.return}Se=ul;
ul=!1;return Se}function ph(b,e,n){var K=e.updateQueue;K=null!==K?K.lastEffect:null;if(null!==K){var oa=K=K.next;do{if((oa.tag&b)===b){var Ba=oa.destroy;oa.destroy=void 0;void 0!==Ba&&Ph(e,n,Ba)}oa=oa.next}while(oa!==K)}}function Fh(b,e){e=e.updateQueue;e=null!==e?e.lastEffect:null;if(null!==e){var n=e=e.next;do{if((n.tag&b)===b){var K=n.create;n.destroy=K()}n=n.next}while(n!==e)}}function Wf(b){var e=b.ref;if(null!==e){var n=b.stateNode;switch(b.tag){case 5:b=n;break;default:b=n}"function"===typeof e?
e(b):e.current=b}}function Kg(b){var e=b.alternate;null!==e&&(b.alternate=null,Kg(e));b.child=null;b.deletions=null;b.sibling=null;5===b.tag&&(e=b.stateNode,null!==e&&(delete e[pi],delete e[Zi],delete e[Nk],delete e[vl],delete e[Vl]));b.stateNode=null;b.return=null;b.dependencies=null;b.memoizedProps=null;b.memoizedState=null;b.pendingProps=null;b.stateNode=null;b.updateQueue=null}function Xf(b){return 5===b.tag||3===b.tag||4===b.tag}function Ff(b){a:for(;;){for(;null===b.sibling;){if(null===b.return||
Xf(b.return))return null;b=b.return}b.sibling.return=b.return;for(b=b.sibling;5!==b.tag&&6!==b.tag&&18!==b.tag;){if(b.flags&2)continue a;if(null===b.child||4===b.tag)continue a;else b.child.return=b,b=b.child}if(!(b.flags&2))return b.stateNode}}function Mh(b,e,n){var K=b.tag;if(5===K||6===K)b=b.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(b,e):n.insertBefore(b,e):(8===n.nodeType?(e=n.parentNode,e.insertBefore(b,n)):(e=n,e.appendChild(b)),n=n._reactRootContainer,null!==n&&void 0!==n||null!==
e.onclick||(e.onclick=Ab));else if(4!==K&&(b=b.child,null!==b))for(Mh(b,e,n),b=b.sibling;null!==b;)Mh(b,e,n),b=b.sibling}function eg(b,e,n){var K=b.tag;if(5===K||6===K)b=b.stateNode,e?n.insertBefore(b,e):n.appendChild(b);else if(4!==K&&(b=b.child,null!==b))for(eg(b,e,n),b=b.sibling;null!==b;)eg(b,e,n),b=b.sibling}function Yf(b,e,n){for(n=n.child;null!==n;)S(b,e,n),n=n.sibling}function S(b,e,n){if(wi&&"function"===typeof wi.onCommitFiberUnmount)try{wi.onCommitFiberUnmount(hk,n)}catch(wc){}switch(n.tag){case 5:Nh||
zh(n,e);case 6:var K=qh,oa=ti;qh=null;Yf(b,e,n);qh=K;ti=oa;null!==qh&&(ti?(b=qh,n=n.stateNode,8===b.nodeType?b.parentNode.removeChild(n):b.removeChild(n)):qh.removeChild(n.stateNode));break;case 18:null!==qh&&(ti?(b=qh,n=n.stateNode,8===b.nodeType?$b(b.parentNode,n):1===b.nodeType&&$b(b,n),Yc(b)):$b(qh,n.stateNode));break;case 4:K=qh;oa=ti;qh=n.stateNode.containerInfo;ti=!0;Yf(b,e,n);qh=K;ti=oa;break;case 0:case 11:case 14:case 15:if(!Nh&&(K=n.updateQueue,null!==K&&(K=K.lastEffect,null!==K))){oa=
K=K.next;do{var Ba=oa,tb=Ba.destroy;Ba=Ba.tag;void 0!==tb&&(0!==(Ba&2)?Ph(n,e,tb):0!==(Ba&4)&&Ph(n,e,tb));oa=oa.next}while(oa!==K)}Yf(b,e,n);break;case 1:if(!Nh&&(zh(n,e),K=n.stateNode,"function"===typeof K.componentWillUnmount))try{K.props=n.memoizedProps,K.state=n.memoizedState,K.componentWillUnmount()}catch(wc){of(n,e,wc)}Yf(b,e,n);break;case 21:Yf(b,e,n);break;case 22:n.mode&1?(Nh=(K=Nh)||null!==n.memoizedState,Yf(b,e,n),Nh=K):Yf(b,e,n);break;default:Yf(b,e,n)}}function wa(b){var e=b.updateQueue;
if(null!==e){b.updateQueue=null;var n=b.stateNode;null===n&&(n=b.stateNode=new Wl);e.forEach(function(K){var oa=Zg.bind(null,b,K);n.has(K)||(n.add(K),K.then(oa,oa))})}}function Ra(b,e){var n=e.deletions;if(null!==n)for(var K=0;K<n.length;K++){var oa=n[K];try{var Ba=b,tb=e,wc=tb;a:for(;null!==wc;){switch(wc.tag){case 5:qh=wc.stateNode;ti=!1;break a;case 3:qh=wc.stateNode.containerInfo;ti=!0;break a;case 4:qh=wc.stateNode.containerInfo;ti=!0;break a}wc=wc.return}if(null===qh)throw Error(v(160));S(Ba,
tb,oa);qh=null;ti=!1;var Oc=oa.alternate;null!==Oc&&(Oc.return=null);oa.return=null}catch(Ad){of(oa,e,Ad)}}if(e.subtreeFlags&12854)for(e=e.child;null!==e;)p(e,b),e=e.sibling}function p(b,e){var n=b.alternate,K=b.flags;switch(b.tag){case 0:case 11:case 14:case 15:Ra(e,b);R(b);if(K&4){try{ph(3,b,b.return),Fh(3,b)}catch(We){of(b,b.return,We)}try{ph(5,b,b.return)}catch(We){of(b,b.return,We)}}break;case 1:Ra(e,b);R(b);K&512&&null!==n&&zh(n,n.return);break;case 5:Ra(e,b);R(b);K&512&&null!==n&&zh(n,n.return);
if(b.flags&32){var oa=b.stateNode;try{Ga(oa,"")}catch(We){of(b,b.return,We)}}if(K&4&&(oa=b.stateNode,null!=oa)){var Ba=b.memoizedProps,tb=null!==n?n.memoizedProps:Ba,wc=b.type,Oc=b.updateQueue;b.updateQueue=null;if(null!==Oc)try{"input"===wc&&"radio"===Ba.type&&null!=Ba.name&&lb(oa,Ba);q(wc,tb);var Ad=q(wc,Ba);for(tb=0;tb<Oc.length;tb+=2){var fe=Oc[tb],me=Oc[tb+1];"style"===fe?ba(oa,me):"dangerouslySetInnerHTML"===fe?pg(oa,me):"children"===fe?Ga(oa,me):uc(oa,fe,me,Ad)}switch(wc){case "input":mb(oa,
Ba);break;case "textarea":ob(oa,Ba);break;case "select":var ge=oa._wrapperState.wasMultiple;oa._wrapperState.wasMultiple=!!Ba.multiple;var Fe=Ba.value;null!=Fe?sb(oa,!!Ba.multiple,Fe,!1):ge!==!!Ba.multiple&&(null!=Ba.defaultValue?sb(oa,!!Ba.multiple,Ba.defaultValue,!0):sb(oa,!!Ba.multiple,Ba.multiple?[]:"",!1))}oa[Zi]=Ba}catch(We){of(b,b.return,We)}}break;case 6:Ra(e,b);R(b);if(K&4){if(null===b.stateNode)throw Error(v(162));oa=b.stateNode;Ba=b.memoizedProps;try{oa.nodeValue=Ba}catch(We){of(b,b.return,
We)}}break;case 3:Ra(e,b);R(b);if(K&4&&null!==n&&n.memoizedState.isDehydrated)try{Yc(e.containerInfo)}catch(We){of(b,b.return,We)}break;case 4:Ra(e,b);R(b);break;case 13:Ra(e,b);R(b);oa=b.child;oa.flags&8192&&(Ba=null!==oa.memoizedState,oa.stateNode.isHidden=Ba,!Ba||null!==oa.alternate&&null!==oa.alternate.memoizedState||(Wk=gh()));K&4&&wa(b);break;case 22:fe=null!==n&&null!==n.memoizedState;b.mode&1?(Nh=(Ad=Nh)||fe,Ra(e,b),Nh=Ad):Ra(e,b);R(b);if(K&8192){Ad=null!==b.memoizedState;if((b.stateNode.isHidden=
Ad)&&!fe&&0!==(b.mode&1))for(Oe=b,fe=b.child;null!==fe;){for(me=Oe=fe;null!==Oe;){ge=Oe;Fe=ge.child;switch(ge.tag){case 0:case 11:case 14:case 15:ph(4,ge,ge.return);break;case 1:zh(ge,ge.return);var Se=ge.stateNode;if("function"===typeof Se.componentWillUnmount){K=ge;n=ge.return;try{e=K,Se.props=e.memoizedProps,Se.state=e.memoizedState,Se.componentWillUnmount()}catch(We){of(K,n,We)}}break;case 5:zh(ge,ge.return);break;case 22:if(null!==ge.memoizedState){F(me);continue}}null!==Fe?(Fe.return=ge,Oe=
Fe):F(me)}fe=fe.sibling}fe=null;me=b;a:for(;;){if(5===me.tag){if(null===fe){fe=me;try{oa=me.stateNode,Ad?(Ba=oa.style,"function"===typeof Ba.setProperty?Ba.setProperty("display","none","important"):Ba.display="none"):(wc=me.stateNode,Oc=me.memoizedProps.style,tb=void 0!==Oc&&null!==Oc&&Oc.hasOwnProperty("display")?Oc.display:null,wc.style.display=db("display",tb))}catch(We){of(b,b.return,We)}}}else if(6===me.tag){if(null===fe)try{me.stateNode.nodeValue=Ad?"":me.memoizedProps}catch(We){of(b,b.return,
We)}}else if((22!==me.tag&&23!==me.tag||null===me.memoizedState||me===b)&&null!==me.child){me.child.return=me;me=me.child;continue}if(me===b)break a;for(;null===me.sibling;){if(null===me.return||me.return===b)break a;fe===me&&(fe=null);me=me.return}fe===me&&(fe=null);me.sibling.return=me.return;me=me.sibling}}break;case 19:Ra(e,b);R(b);K&4&&wa(b);break;case 21:break;default:Ra(e,b),R(b)}}function R(b){var e=b.flags;if(e&2){try{a:{for(var n=b.return;null!==n;){if(Xf(n))break a;n=n.return}throw Error(v(160));
}switch(n.tag){case 5:var K=n.stateNode;n.flags&32&&(Ga(K,""),n.flags&=-33);var oa=Ff(b);eg(b,oa,K);break;case 3:case 4:var Ba=n.stateNode.containerInfo,tb=Ff(b);Mh(b,tb,Ba);break;default:throw Error(v(161));}}catch(wc){of(b,b.return,wc)}b.flags&=-3}e&4096&&(b.flags&=-4097)}function ja(b,e,n){Oe=b;xa(b,e,n)}function xa(b,e,n){for(var K=0!==(b.mode&1);null!==Oe;){var oa=Oe,Ba=oa.child;if(22===oa.tag&&K){var tb=null!==oa.memoizedState||ak;if(!tb){var wc=oa.alternate,Oc=null!==wc&&null!==wc.memoizedState||
Nh;wc=ak;var Ad=Nh;ak=tb;if((Nh=Oc)&&!Ad)for(Oe=oa;null!==Oe;)tb=Oe,Oc=tb.child,22===tb.tag&&null!==tb.memoizedState?ia(oa):null!==Oc?(Oc.return=tb,Oe=Oc):ia(oa);for(;null!==Ba;)Oe=Ba,xa(Ba,e,n),Ba=Ba.sibling;Oe=oa;ak=wc;Nh=Ad}r(b,e,n)}else 0!==(oa.subtreeFlags&8772)&&null!==Ba?(Ba.return=oa,Oe=Ba):r(b,e,n)}}function r(b){for(;null!==Oe;){var e=Oe;if(0!==(e.flags&8772)){var n=e.alternate;try{if(0!==(e.flags&8772))switch(e.tag){case 0:case 11:case 15:Nh||Fh(5,e);break;case 1:var K=e.stateNode;if(e.flags&
4&&!Nh)if(null===n)K.componentDidMount();else{var oa=e.elementType===e.type?n.memoizedProps:le(e.type,n.memoizedProps);K.componentDidUpdate(oa,n.memoizedState,K.__reactInternalSnapshotBeforeUpdate)}var Ba=e.updateQueue;null!==Ba&&$c(e,Ba,K);break;case 3:var tb=e.updateQueue;if(null!==tb){n=null;if(null!==e.child)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}$c(e,tb,n)}break;case 5:var wc=e.stateNode;if(null===n&&e.flags&4){n=wc;var Oc=e.memoizedProps;switch(e.type){case "button":case "input":case "select":case "textarea":Oc.autoFocus&&
n.focus();break;case "img":Oc.src&&(n.src=Oc.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===e.memoizedState){var Ad=e.alternate;if(null!==Ad){var fe=Ad.memoizedState;if(null!==fe){var me=fe.dehydrated;null!==me&&Yc(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(v(163));}Nh||e.flags&512&&Wf(e)}catch(ge){of(e,e.return,ge)}}if(e===b){Oe=null;break}n=e.sibling;if(null!==n){n.return=e.return;Oe=n;break}Oe=e.return}}function F(b){for(;null!==
Oe;){var e=Oe;if(e===b){Oe=null;break}var n=e.sibling;if(null!==n){n.return=e.return;Oe=n;break}Oe=e.return}}function ia(b){for(;null!==Oe;){var e=Oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fh(4,e)}catch(Oc){of(e,n,Oc)}break;case 1:var K=e.stateNode;if("function"===typeof K.componentDidMount){var oa=e.return;try{K.componentDidMount()}catch(Oc){of(e,oa,Oc)}}var Ba=e.return;try{Wf(e)}catch(Oc){of(e,Ba,Oc)}break;case 5:var tb=e.return;try{Wf(e)}catch(Oc){of(e,tb,Oc)}}}catch(Oc){of(e,
e.return,Oc)}if(e===b){Oe=null;break}var wc=e.sibling;if(null!==wc){wc.return=e.return;Oe=wc;break}Oe=e.return}}function l(){return 0!==(Zf&6)?gh():-1!==bk?bk:bk=gh()}function z(b){if(0===(b.mode&1))return 1;if(0!==(Zf&2)&&0!==Gh)return Gh&-Gh;if(null!==Xl.transition)return 0===ej&&(ej=sc()),ej;b=qg;if(0!==b)return b;b=window.event;return b=void 0===b?16:wb(b.type)}function ca(b,e,n,K){if(50<fj)throw fj=0,qj=null,Error(v(185));cd(b,n,K);if(0===(Zf&2)||b!==th)b===th&&(0===(Zf&2)&&(Hg|=n),4===oh&&Ub(b,
Gh)),ma(b,K),1===n&&0===Zf&&0===(e.mode&1)&&(Vh=gh()+500,zj&&Od())}function ma(b,e){var n=b.callbackNode;Ib(b,e);var K=Ca(b,b===th?Gh:0);if(0===K)null!==n&&wl(n),b.callbackNode=null,b.callbackPriority=0;else if(e=K&-K,b.callbackPriority!==e){null!=n&&wl(n);if(1===e)0===b.tag?jd(qd.bind(null,b)):td(qd.bind(null,b)),Yl(function(){0===(Zf&6)&&Od()}),n=null;else{switch(Pd(K)){case 1:n=vj;break;case 4:n=Ik;break;case 16:n=Qj;break;case 536870912:n=il;break;default:n=Qj}n=jg(n,Va.bind(null,b))}b.callbackPriority=
e;b.callbackNode=n}}function Va(b,e){bk=-1;ej=0;if(0!==(Zf&6))throw Error(v(327));var n=b.callbackNode;if(fg()&&b.callbackNode!==n)return null;var K=Ca(b,b===th?Gh:0);if(0===K)return null;if(0!==(K&30)||0!==(K&b.expiredLanes)||e)e=Og(b,K);else{e=K;var oa=Zf;Zf|=2;var Ba=Xe();if(th!==b||Gh!==e)Ri=null,Vh=gh()+500,xe(b,e);do try{for(;null!==$g&&!xl();)bf($g);break}catch(wc){ve(b,wc)}while(1);Vj=Bi=mj=null;yk.current=Ba;Zf=oa;null!==$g?e=0:(th=null,Gh=0,e=oh)}if(0!==e){2===e&&(oa=yc(b),0!==oa&&(K=oa,
e=Xa(b,oa)));if(1===e)throw n=ii,xe(b,0),Ub(b,K),ma(b,gh()),n;if(6===e)Ub(b,K);else{oa=b.current.alternate;if(0===(K&30)&&!hc(oa)&&(e=Og(b,K),2===e&&(Ba=yc(b),0!==Ba&&(K=Ba,e=Xa(b,Ba))),1===e))throw n=ii,xe(b,0),Ub(b,K),ma(b,gh()),n;b.finishedWork=oa;b.finishedLanes=K;switch(e){case 0:case 1:throw Error(v(345));case 2:cg(b,ah,Ri);break;case 3:Ub(b,K);if((K&130023424)===K&&(e=Wk+500-gh(),10<e)){if(0!==Ca(b,0))break;oa=b.suspendedLanes;if((oa&K)!==K){l();b.pingedLanes|=b.suspendedLanes&oa;break}b.timeoutHandle=
Xk(cg.bind(null,b,ah,Ri),e);break}cg(b,ah,Ri);break;case 4:Ub(b,K);if((K&4194240)===K)break;e=b.eventTimes;for(oa=-1;0<K;){var tb=31-bi(K);Ba=1<<tb;tb=e[tb];tb>oa&&(oa=tb);K&=~Ba}K=oa;K=gh()-K;K=(120>K?120:480>K?480:1080>K?1080:1920>K?1920:3E3>K?3E3:4320>K?4320:1960*Zl(K/1960))-K;if(10<K){b.timeoutHandle=Xk(cg.bind(null,b,ah,Ri),K);break}cg(b,ah,Ri);break;case 5:cg(b,ah,Ri);break;default:throw Error(v(329));}}}ma(b,gh());return b.callbackNode===n?Va.bind(null,b):null}function Xa(b,e){var n=rh;b.current.memoizedState.isDehydrated&&
(xe(b,e).flags|=256);b=Og(b,e);2!==b&&(e=ah,ah=n,null!==e&&Jb(e));return b}function Jb(b){null===ah?ah=b:ah.push.apply(ah,b)}function hc(b){for(var e=b;;){if(e.flags&16384){var n=e.updateQueue;if(null!==n&&(n=n.stores,null!==n))for(var K=0;K<n.length;K++){var oa=n[K],Ba=oa.getSnapshot;oa=oa.value;try{if(!ni(Ba(),oa))return!1}catch(tb){return!1}}}n=e.child;if(e.subtreeFlags&16384&&null!==n)n.return=e,e=n;else{if(e===b)break;for(;null===e.sibling;){if(null===e.return||e.return===b)return!0;e=e.return}e.sibling.return=
e.return;e=e.sibling}}return!0}function Ub(b,e){e&=~kg;e&=~Hg;b.suspendedLanes|=e;b.pingedLanes&=~e;for(b=b.expirationTimes;0<e;){var n=31-bi(e),K=1<<n;b[n]=-1;e&=~K}}function qd(b){if(0!==(Zf&6))throw Error(v(327));fg();var e=Ca(b,0);if(0===(e&1))return ma(b,gh()),null;var n=Og(b,e);if(0!==b.tag&&2===n){var K=yc(b);0!==K&&(e=K,n=Xa(b,K))}if(1===n)throw n=ii,xe(b,0),Ub(b,e),ma(b,gh()),n;if(6===n)throw Error(v(345));b.finishedWork=b.current.alternate;b.finishedLanes=e;cg(b,ah,Ri);ma(b,gh());return null}
function Zc(b,e){var n=Zf;Zf|=1;try{return b(e)}finally{Zf=n,0===Zf&&(Vh=gh()+500,zj&&Od())}}function Rd(b){null!==Si&&0===Si.tag&&0===(Zf&6)&&fg();var e=Zf;Zf|=1;var n=ji.transition,K=qg;try{if(ji.transition=null,qg=1,b)return b()}finally{qg=K,ji.transition=n,Zf=e,0===(Zf&6)&&Od()}}function ue(){$h=Fj.current;gd(Fj)}function xe(b,e){b.finishedWork=null;b.finishedLanes=0;var n=b.timeoutHandle;-1!==n&&(b.timeoutHandle=-1,$l(n));if(null!==$g)for(n=$g.return;null!==n;){var K=n;Le(K);switch(K.tag){case 1:K=
K.type.childContextTypes;null!==K&&void 0!==K&&oc();break;case 3:vf();gd(Bg);gd(Ih);If();break;case 5:ne(K);break;case 4:vf();break;case 13:gd(Fg);break;case 19:gd(Fg);break;case 10:O(K.type._context);break;case 22:case 23:ue()}n=n.return}th=b;$g=b=Zh(b.current,null);Gh=$h=e;oh=0;ii=null;kg=Hg=nj=0;ah=rh=null;if(null!==Mi){for(e=0;e<Mi.length;e++)if(n=Mi[e],K=n.interleaved,null!==K){n.interleaved=null;var oa=K.next,Ba=n.pending;if(null!==Ba){var tb=Ba.next;Ba.next=oa;K.next=tb}n.pending=K}Mi=null}return b}
function ve(b,e){do{var n=$g;try{Vj=Bi=mj=null;Wj.current=Zj;if(pj){for(var K=rg.memoizedState;null!==K;){var oa=K.queue;null!==oa&&(oa.pending=null);K=K.next}pj=!1}oj=0;kh=ih=rg=null;Xj=!1;Yj=0;Yk.current=null;if(null===n||null===n.return){oh=1;ii=e;$g=null;break}a:{var Ba=b,tb=n.return,wc=n,Oc=e;e=Gh;wc.flags|=32768;if(null!==Oc&&"object"===typeof Oc&&"function"===typeof Oc.then){var Ad=Oc,fe=wc,me=fe.tag;if(0===(fe.mode&1)&&(0===me||11===me||15===me)){var ge=fe.alternate;ge?(fe.updateQueue=ge.updateQueue,
fe.memoizedState=ge.memoizedState,fe.lanes=ge.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var Fe=xg(tb);if(null!==Fe){Fe.flags&=-257;ig(Fe,tb,wc,Ba,e);Fe.mode&1&&ug(Ba,Ad,e);e=Fe;Oc=Ad;var Se=e.updateQueue;if(null===Se){var We=new Set;We.add(Oc);e.updateQueue=We}else Se.add(Oc);break a}else{if(0===(e&1)){ug(Ba,Ad,e);wf();break a}Oc=Error(v(426))}}else if(Cg&&wc.mode&1){var Xg=xg(tb);if(null!==Xg){0===(Xg.flags&65536)&&(Xg.flags|=256);ig(Xg,tb,wc,Ba,e);ce(Je(Oc,wc));break a}}Ba=Oc=Je(Oc,wc);
4!==oh&&(oh=2);null===rh?rh=[Ba]:rh.push(Ba);Ba=tb;do{switch(Ba.tag){case 3:Ba.flags|=65536;e&=-e;Ba.lanes|=e;var nd=nf(Ba,Oc,e);Bd(Ba,nd);break a;case 1:wc=Oc;var Xc=Ba.type,vd=Ba.stateNode;if(0===(Ba.flags&128)&&("function"===typeof Xc.getDerivedStateFromError||null!==vd&&"function"===typeof vd.componentDidCatch&&(null===Oi||!Oi.has(vd)))){Ba.flags|=65536;e&=-e;Ba.lanes|=e;var te=Bf(Ba,wc,e);Bd(Ba,te);break a}}Ba=Ba.return}while(null!==Ba)}Qe(n)}catch(Ze){e=Ze;$g===n&&null!==n&&($g=n.return);continue}break}while(1)}
function Xe(){var b=yk.current;yk.current=Zj;return null===b?Zj:b}function wf(){if(0===oh||3===oh||2===oh)oh=4;null===th||0===(nj&268435455)&&0===(Hg&268435455)||Ub(th,Gh)}function Og(b,e){var n=Zf;Zf|=2;var K=Xe();if(th!==b||Gh!==e)Ri=null,xe(b,e);do try{for(;null!==$g;)bf($g);break}catch(oa){ve(b,oa)}while(1);Vj=Bi=mj=null;Zf=n;yk.current=K;if(null!==$g)throw Error(v(261));th=null;Gh=0;return oh}function bf(b){var e=Zk(b.alternate,b,$h);b.memoizedProps=b.pendingProps;null===e?Qe(b):$g=e;Yk.current=
null}function Qe(b){var e=b;do{var n=e.alternate;b=e.return;if(0===(e.flags&32768)){if(n=Lh(n,e,$h),null!==n){$g=n;return}}else{n=yh(n,e);if(null!==n){n.flags&=32767;$g=n;return}if(null!==b)b.flags|=32768,b.subtreeFlags=0,b.deletions=null;else{oh=6;$g=null;return}}e=e.sibling;if(null!==e){$g=e;return}$g=e=b}while(null!==e);0===oh&&(oh=5)}function cg(b,e,n){var K=qg,oa=ji.transition;try{ji.transition=null,qg=1,Ah(b,e,n,K)}finally{ji.transition=oa,qg=K}return null}function Ah(b,e,n,K){do fg();while(null!==
Si);if(0!==(Zf&6))throw Error(v(327));n=b.finishedWork;var oa=b.finishedLanes;if(null===n)return null;b.finishedWork=null;b.finishedLanes=0;if(n===b.current)throw Error(v(177));b.callbackNode=null;b.callbackPriority=0;var Ba=n.lanes|n.childLanes;Zb(b,Ba);b===th&&($g=th=null,Gh=0);0===(n.subtreeFlags&2064)&&0===(n.flags&2064)||ck||(ck=!0,jg(Qj,function(){fg();return null}));Ba=0!==(n.flags&15990);if(0!==(n.subtreeFlags&15990)||Ba){Ba=ji.transition;ji.transition=null;var tb=qg;qg=1;var wc=Zf;Zf|=4;
Yk.current=null;Wh(b,n);p(n,b);Gc(Vk);kk=!!Uk;Vk=Uk=null;b.current=n;ja(n,b,oa);$k();Zf=wc;qg=tb;ji.transition=Ba}else b.current=n;ck&&(ck=!1,Si=b,dk=oa);Ba=b.pendingLanes;0===Ba&&(Oi=null);Wa(n.stateNode,K);ma(b,gh());if(null!==e)for(K=b.onRecoverableError,n=0;n<e.length;n++)oa=e[n],K(oa.value,{componentStack:oa.stack,digest:oa.digest});if(wk)throw wk=!1,b=Sk,Sk=null,b;0!==(dk&1)&&0!==b.tag&&fg();Ba=b.pendingLanes;0!==(Ba&1)?b===qj?fj++:(fj=0,qj=b):fj=0;Od();return null}function fg(){if(null!==Si){var b=
Pd(dk),e=ji.transition,n=qg;try{ji.transition=null;qg=16>b?16:b;if(null===Si)var K=!1;else{b=Si;Si=null;dk=0;if(0!==(Zf&6))throw Error(v(331));var oa=Zf;Zf|=4;for(Oe=b.current;null!==Oe;){var Ba=Oe,tb=Ba.child;if(0!==(Oe.flags&16)){var wc=Ba.deletions;if(null!==wc){for(var Oc=0;Oc<wc.length;Oc++){var Ad=wc[Oc];for(Oe=Ad;null!==Oe;){var fe=Oe;switch(fe.tag){case 0:case 11:case 15:ph(8,fe,Ba)}var me=fe.child;if(null!==me)me.return=fe,Oe=me;else for(;null!==Oe;){fe=Oe;var ge=fe.sibling,Fe=fe.return;
Kg(fe);if(fe===Ad){Oe=null;break}if(null!==ge){ge.return=Fe;Oe=ge;break}Oe=Fe}}}var Se=Ba.alternate;if(null!==Se){var We=Se.child;if(null!==We){Se.child=null;do{var Xg=We.sibling;We.sibling=null;We=Xg}while(null!==We)}}Oe=Ba}}if(0!==(Ba.subtreeFlags&2064)&&null!==tb)tb.return=Ba,Oe=tb;else a:for(;null!==Oe;){Ba=Oe;if(0!==(Ba.flags&2048))switch(Ba.tag){case 0:case 11:case 15:ph(9,Ba,Ba.return)}var nd=Ba.sibling;if(null!==nd){nd.return=Ba.return;Oe=nd;break a}Oe=Ba.return}}var Xc=b.current;for(Oe=Xc;null!==
Oe;){tb=Oe;var vd=tb.child;if(0!==(tb.subtreeFlags&2064)&&null!==vd)vd.return=tb,Oe=vd;else a:for(tb=Xc;null!==Oe;){wc=Oe;if(0!==(wc.flags&2048))try{switch(wc.tag){case 0:case 11:case 15:Fh(9,wc)}}catch(Ze){of(wc,wc.return,Ze)}if(wc===tb){Oe=null;break a}var te=wc.sibling;if(null!==te){te.return=wc.return;Oe=te;break a}Oe=wc.return}}Zf=oa;Od();if(wi&&"function"===typeof wi.onPostCommitFiberRoot)try{wi.onPostCommitFiberRoot(hk,b)}catch(Ze){}K=!0}return K}finally{qg=n,ji.transition=e}}return!1}function sf(b,
e,n){e=Je(n,e);e=nf(b,e,1);b=rc(b,e,1);e=l();null!==b&&(cd(b,1,e),ma(b,e))}function of(b,e,n){if(3===b.tag)sf(b,b,n);else for(;null!==e;){if(3===e.tag){sf(e,b,n);break}else if(1===e.tag){var K=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof K.componentDidCatch&&(null===Oi||!Oi.has(K))){b=Je(n,b);b=Bf(e,b,1);e=rc(e,b,1);b=l();null!==e&&(cd(e,1,b),ma(e,b));break}}e=e.return}}function Qf(b,e,n){var K=b.pingCache;null!==K&&K.delete(e);e=l();b.pingedLanes|=b.suspendedLanes&
n;th===b&&(Gh&n)===n&&(4===oh||3===oh&&(Gh&130023424)===Gh&&500>gh()-Wk?xe(b,0):kg|=n);ma(b,e)}function Rf(b,e){0===e&&(0===(b.mode&1)?e=1:(e=zk,zk<<=1,0===(zk&130023424)&&(zk=4194304)));var n=l();b=jb(b,e);null!==b&&(cd(b,e,n),ma(b,n))}function Mf(b){var e=b.memoizedState,n=0;null!==e&&(n=e.retryLane);Rf(b,n)}function Zg(b,e){var n=0;switch(b.tag){case 13:var K=b.stateNode,oa=b.memoizedState;null!==oa&&(n=oa.retryLane);break;case 19:K=b.stateNode;break;default:throw Error(v(314));}null!==K&&K.delete(e);
Rf(b,n)}function jg(b,e){return sk(b,e)}function Bh(b,e,n,K){this.tag=b;this.key=n;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=e;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=K;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function ng(b,e,n,K){return new Bh(b,e,n,K)}function Ng(b){b=b.prototype;return!(!b||!b.isReactComponent)}
function vg(b){if("function"===typeof b)return Ng(b)?1:0;if(void 0!==b&&null!==b){b=b.$$typeof;if(b===Ef)return 11;if(b===Hh)return 14}return 2}function Zh(b,e){var n=b.alternate;null===n?(n=ng(b.tag,e,b.key,b.mode),n.elementType=b.elementType,n.type=b.type,n.stateNode=b.stateNode,n.alternate=b,b.alternate=n):(n.pendingProps=e,n.type=b.type,n.flags=0,n.subtreeFlags=0,n.deletions=null);n.flags=b.flags&14680064;n.childLanes=b.childLanes;n.lanes=b.lanes;n.child=b.child;n.memoizedProps=b.memoizedProps;
n.memoizedState=b.memoizedState;n.updateQueue=b.updateQueue;e=b.dependencies;n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext};n.sibling=b.sibling;n.index=b.index;n.ref=b.ref;return n}function qi(b,e,n,K,oa,Ba){var tb=2;K=b;if("function"===typeof b)Ng(b)&&(tb=1);else if("string"===typeof b)tb=5;else a:switch(b){case rd:return hi(n.children,oa,Ba,e);case wd:tb=8;oa|=8;break;case ze:return b=ng(12,n,e,oa|2),b.elementType=ze,b.lanes=Ba,b;case Uf:return b=ng(13,n,e,oa),b.elementType=
Uf,b.lanes=Ba,b;case mg:return b=ng(19,n,e,oa),b.elementType=mg,b.lanes=Ba,b;case uf:return Pi(n,oa,Ba,e);default:if("object"===typeof b&&null!==b)switch(b.$$typeof){case qe:tb=10;break a;case Ue:tb=9;break a;case Ef:tb=11;break a;case Hh:tb=14;break a;case gg:tb=16;K=null;break a}throw Error(v(130,null==b?b:typeof b,""));}e=ng(tb,n,e,oa);e.elementType=b;e.type=K;e.lanes=Ba;return e}function hi(b,e,n,K){b=ng(7,b,K,e);b.lanes=n;return b}function Pi(b,e,n,K){b=ng(22,b,K,e);b.elementType=uf;b.lanes=
n;b.stateNode={isHidden:!1};return b}function Ni(b,e,n){b=ng(6,b,null,e);b.lanes=n;return b}function Dg(b,e,n){e=ng(4,null!==b.children?b.children:[],b.key,e);e.lanes=n;e.stateNode={containerInfo:b.containerInfo,pendingChildren:null,implementation:b.implementation};return e}function Ti(b,e,n,K,oa){this.tag=e;this.containerInfo=b;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=
0;this.eventTimes=xc(0);this.expirationTimes=xc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=xc(0);this.identifierPrefix=K;this.onRecoverableError=oa;this.mutableSourceEagerHydrationData=null}function rj(b,e,n,K,oa,Ba,tb,wc,Oc){b=new Ti(b,e,n,wc,Oc);1===e?(e=1,!0===Ba&&(e|=8)):e=0;Ba=ng(3,null,null,e);b.current=Ba;Ba.stateNode=b;Ba.memoizedState={element:K,isDehydrated:n,cache:null,transitions:null,
pendingSuspenseBoundaries:null};vb(Ba);return b}function ki(b,e,n){var K=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:mc,key:null==K?null:""+K,children:b,containerInfo:e,implementation:n}}function ui(b){if(!b)return aj;b=b._reactInternals;a:{if(Aa(b)!==b||1!==b.tag)throw Error(v(170));var e=b;do{switch(e.tag){case 3:e=e.stateNode.context;break a;case 1:if(eb(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break a}}e=e.return}while(null!==e);throw Error(v(171));
}if(1===b.tag){var n=b.type;if(eb(n))return Lc(b,n,e)}return e}function y(b,e,n,K,oa,Ba,tb,wc,Oc){b=rj(n,K,!0,b,oa,Ba,tb,wc,Oc);b.context=ui(null);n=b.current;K=l();oa=z(n);Ba=qc(K,oa);Ba.callback=void 0!==e&&null!==e?e:null;rc(n,Ba,oa);b.current.lanes=oa;cd(b,oa,K);ma(b,K);return b}function W(b,e,n,K){var oa=e.current,Ba=l(),tb=z(oa);n=ui(n);null===e.context?e.context=n:e.pendingContext=n;e=qc(Ba,tb);e.payload={element:b};K=void 0===K?null:K;null!==K&&(e.callback=K);b=rc(oa,e,tb);null!==b&&(ca(b,
oa,tb,Ba),Kc(b,oa,tb));return tb}function ha(b){b=b.current;if(!b.child)return null;switch(b.child.tag){case 5:return b.child.stateNode;default:return b.child.stateNode}}function Oa(b,e){b=b.memoizedState;if(null!==b&&null!==b.dehydrated){var n=b.retryLane;b.retryLane=0!==n&&n<e?n:e}}function zb(b,e){Oa(b,e);(b=b.alternate)&&Oa(b,e)}function Eb(){return null}function Sb(b){this._internalRoot=b}function kc(b){this._internalRoot=b}function Vc(b){return!(!b||1!==b.nodeType&&9!==b.nodeType&&11!==b.nodeType)}
function Jd(b){return!(!b||1!==b.nodeType&&9!==b.nodeType&&11!==b.nodeType&&(8!==b.nodeType||" react-mount-point-unstable "!==b.nodeValue))}function Sd(){}function ad(b,e,n,K,oa){if(oa){if("function"===typeof K){var Ba=K;K=function(){var Ad=ha(tb);Ba.call(Ad)}}var tb=y(e,K,b,0,null,!1,!1,"",Sd);b._reactRootContainer=tb;b[xi]=tb.current;Ce(8===b.nodeType?b.parentNode:b);Rd();return tb}for(;oa=b.lastChild;)b.removeChild(oa);if("function"===typeof K){var wc=K;K=function(){var Ad=ha(Oc);wc.call(Ad)}}var Oc=
rj(b,0,!1,null,null,!1,!1,"",Sd);b._reactRootContainer=Oc;b[xi]=Oc.current;Ce(8===b.nodeType?b.parentNode:b);Rd(function(){W(e,Oc,n,K)});return Oc}function ke(b,e,n,K,oa){var Ba=n._reactRootContainer;if(Ba){var tb=Ba;if("function"===typeof oa){var wc=oa;oa=function(){var Oc=ha(tb);wc.call(Oc)}}W(e,tb,b,oa)}else tb=ad(n,e,b,oa,K);return ha(tb)}var Be=Db(2),Te=Db(5),w=new Set,T={},aa=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),
Ea=Object.prototype.hasOwnProperty,rb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yb={},Mb={},Nb={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(b){Nb[b]=
new vc(b,0,!1,b,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(b){var e=b[0];Nb[e]=new vc(e,1,!1,b[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(b){Nb[b]=new vc(b,2,!1,b.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(b){Nb[b]=new vc(b,2,!1,b,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(b){Nb[b]=
new vc(b,3,!1,b.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(b){Nb[b]=new vc(b,3,!0,b,null,!1,!1)});["capture","download"].forEach(function(b){Nb[b]=new vc(b,4,!1,b,null,!1,!1)});["cols","rows","size","span"].forEach(function(b){Nb[b]=new vc(b,6,!1,b,null,!1,!1)});["rowSpan","start"].forEach(function(b){Nb[b]=new vc(b,5,!1,b.toLowerCase(),null,!1,!1)});var Mc=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(b){var e=
b.replace(Mc,Ac);Nb[e]=new vc(e,1,!1,b,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(b){var e=b.replace(Mc,Ac);Nb[e]=new vc(e,1,!1,b,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(b){var e=b.replace(Mc,Ac);Nb[e]=new vc(e,1,!1,b,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(b){Nb[b]=new vc(b,1,!1,b.toLowerCase(),null,!1,!1)});Nb.xlinkHref=
new vc("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(b){Nb[b]=new vc(b,1,!1,b.toLowerCase(),null,!0,!0)});var Ed=Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fd=Symbol.for("react.element"),mc=Symbol.for("react.portal"),rd=Symbol.for("react.fragment"),wd=Symbol.for("react.strict_mode"),ze=Symbol.for("react.profiler"),qe=Symbol.for("react.provider"),Ue=Symbol.for("react.context"),Ef=Symbol.for("react.forward_ref"),
Uf=Symbol.for("react.suspense"),mg=Symbol.for("react.suspense_list"),Hh=Symbol.for("react.memo"),gg=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var uf=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var Pg=Symbol.iterator,wg=Object.assign,Ie,oe=!1,Me=Array.isArray,se,pg=function(b){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,K,oa){MSApp.execUnsafeLocalFunction(function(){return b(e,
n,K,oa)})}:b}(function(b,e){if("http://www.w3.org/2000/svg"!==b.namespaceURI||"innerHTML"in b)b.innerHTML=e;else{se=se||document.createElement("div");se.innerHTML="\x3csvg\x3e"+e.valueOf().toString()+"\x3c/svg\x3e";for(e=se.firstChild;b.firstChild;)b.removeChild(b.firstChild);for(;e.firstChild;)b.appendChild(e.firstChild)}}),Qg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,
flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zg=["Webkit","ms","Moz","O"];Object.keys(Qg).forEach(function(b){zg.forEach(function(e){e=
e+b.charAt(0).toUpperCase()+b.substring(1);Qg[e]=Qg[b]})});var hh=wg({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Qh=null,mi=null,Ui=null,jj=null,Lj=!1,Xh=!1;if(aa)try{var Gj={};Object.defineProperty(Gj,"passive",{get:function(){Xh=!0}});window.addEventListener("test",Gj,Gj);window.removeEventListener("test",Gj,Gj)}catch(b){Xh=!1}var sj=!1,Mj=null,gk=!1,Nj=null,Vi={onError:function(b){sj=!0;Mj=b}},sk=Te.unstable_scheduleCallback,
wl=Te.unstable_cancelCallback,xl=Te.unstable_shouldYield,$k=Te.unstable_requestPaint,gh=Te.unstable_now,Hk=Te.unstable_getCurrentPriorityLevel,vj=Te.unstable_ImmediatePriority,Ik=Te.unstable_UserBlockingPriority,Qj=Te.unstable_NormalPriority,hl=Te.unstable_LowPriority,il=Te.unstable_IdlePriority,hk=null,wi=null,bi=Math.clz32?Math.clz32:$a,dl=Math.log,Hl=Math.LN2,Oj=64,zk=4194304,qg=0,ik=!1,jk=[],Gi=null,Hi=null,Ii=null,tj=new Map,Pj=new Map,Wi=[],Il="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),
uj=Ed.ReactCurrentBatchConfig,kk=!0,lk=null,Ji=null,Lg=null,Rh=null,gj={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(b){return b.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xi=Za(gj),Hj=wg({},gj,{view:0,detail:0}),Ml=Za(Hj),al,Ak,Ij,Jj=wg({},Hj,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fb,button:0,buttons:0,relatedTarget:function(b){return void 0===b.relatedTarget?b.fromElement===b.srcElement?b.toElement:
b.fromElement:b.relatedTarget},movementX:function(b){if("movementX"in b)return b.movementX;b!==Ij&&(Ij&&"mousemove"===b.type?(al=b.screenX-Ij.screenX,Ak=b.screenY-Ij.screenY):Ak=al=0,Ij=b);return al},movementY:function(b){return"movementY"in b?b.movementY:Ak}}),Uj=Za(Jj),am=wg({},Jj,{dataTransfer:0}),Pk=Za(am),yl=wg({},Hj,{relatedTarget:0}),Ok=Za(yl),Bk=wg({},gj,{animationName:0,elapsedTime:0,pseudoElement:0}),Ll=Za(Bk),bm=wg({},gj,{clipboardData:function(b){return"clipboardData"in b?b.clipboardData:
window.clipboardData}}),Ol=Za(bm),cm=wg({},gj,{data:0}),ol=Za(cm),dm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},em={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",
45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},fm=wg({},Hj,{key:function(b){if(b.key){var e=dm[b.key]||b.key;if("Unidentified"!==e)return e}return"keypress"===b.type?(b=G(b),13===b?"Enter":String.fromCharCode(b)):"keydown"===b.type||"keyup"===b.type?em[b.keyCode]||"Unidentified":""},code:0,location:0,
ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fb,charCode:function(b){return"keypress"===b.type?G(b):0},keyCode:function(b){return"keydown"===b.type||"keyup"===b.type?b.keyCode:0},which:function(b){return"keypress"===b.type?G(b):"keydown"===b.type||"keyup"===b.type?b.keyCode:0}}),Kl=Za(fm),gm=wg({},Jj,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nl=Za(gm),bl=wg({},Hj,{touches:0,targetTouches:0,changedTouches:0,
altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fb}),Qk=Za(bl),hm=wg({},gj,{propertyName:0,elapsedTime:0,pseudoElement:0}),ml=Za(hm),im=wg({},Jj,{deltaX:function(b){return"deltaX"in b?b.deltaX:"wheelDeltaX"in b?-b.wheelDeltaX:0},deltaY:function(b){return"deltaY"in b?b.deltaY:"wheelDeltaY"in b?-b.wheelDeltaY:"wheelDelta"in b?-b.wheelDelta:0},deltaZ:0,deltaMode:0}),Nl=Za(im),Kk=[9,13,27,32],ci=aa&&"CompositionEvent"in window,rf=null;aa&&"documentMode"in document&&(rf=document.documentMode);
var Ag=aa&&"TextEvent"in window&&!rf,ie=aa&&(!ci||rf&&8<rf&&11>=rf),sh=String.fromCharCode(32),Ki=!1,kj=!1,Lk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Yi=null,Rj=null,pk=!1;if(aa){if(aa){var Ck="oninput"in document;if(!Ck){var ai=document.createElement("div");ai.setAttribute("oninput","return;");Ck="function"===typeof ai.oninput}var ek=Ck}else ek=!1;pk=ek&&(!document.documentMode||9<document.documentMode)}var ni=
"function"===typeof Object.is?Object.is:la,qk=aa&&"documentMode"in document&&11>=document.documentMode,wj=null,xj=null,Sj=null,Mk=!1,yj={animationend:Nc("Animation","AnimationEnd"),animationiteration:Nc("Animation","AnimationIteration"),animationstart:Nc("Animation","AnimationStart"),transitionend:Nc("Transition","TransitionEnd")},Ch={},mk={};aa&&(mk=document.createElement("div").style,"AnimationEvent"in window||(delete yj.animationend.animation,delete yj.animationiteration.animation,delete yj.animationstart.animation),
"TransitionEvent"in window||delete yj.transitionend.transition);for(var ll=sd("animationend"),nk=sd("animationiteration"),oi=sd("animationstart"),ok=sd("transitionend"),jl=new Map,hj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" "),
vi=0;vi<hj.length;vi++){var Dk=hj[vi],jm=Dk.toLowerCase(),Ei=Dk[0].toUpperCase()+Dk.slice(1);Hd(jm,"on"+Ei)}Hd(ll,"onAnimationEnd");Hd(nk,"onAnimationIteration");Hd(oi,"onAnimationStart");Hd("dblclick","onDoubleClick");Hd("focusin","onFocus");Hd("focusout","onBlur");Hd(ok,"onTransitionEnd");P("onMouseEnter",["mouseout","mouseover"]);P("onMouseLeave",["mouseout","mouseover"]);P("onPointerEnter",["pointerout","pointerover"]);P("onPointerLeave",["pointerout","pointerover"]);k("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));
k("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));k("onBeforeInput",["compositionend","keypress","textInput","paste"]);k("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));k("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));k("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dj="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),
kl=new Set("cancel close invalid load scroll toggle".split(" ").concat(dj)),Tj="_reactListening"+Math.random().toString(36).slice(2),Pl=/\r\n?/g,Ql=/\u0000|\uFFFD/g,Uk=null,Vk=null,Xk="function"===typeof setTimeout?setTimeout:void 0,$l="function"===typeof clearTimeout?clearTimeout:void 0,zl="function"===typeof Promise?Promise:void 0,Yl="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof zl?function(b){return zl.resolve(null).then(b).catch(Cc)}:Xk,ij=Math.random().toString(36).slice(2),
pi="__reactFiber$"+ij,Zi="__reactProps$"+ij,xi="__reactContainer$"+ij,Nk="__reactEvents$"+ij,vl="__reactListeners$"+ij,Vl="__reactHandles$"+ij,rk=[],$i=-1,aj={},Ih=Sc(aj),Bg=Sc(!1),Li=aj,yi=null,zj=!1,Sh=!1,di=[],Aj=0,tk=null,zi=0,ei=[],fi=0,bh=null,Ai=1,gi="",Jh=null,Yh=null,Cg=!1,Th=null,Xl=Ed.ReactCurrentBatchConfig,lj=Sc(null),mj=null,Bi=null,Vj=null,Mi=null,Ci=!1,Rk=(new Be.Component).refs,uk={isMounted:function(b){return(b=b._reactInternals)?Aa(b)===b:!1},enqueueSetState:function(b,e,n){b=b._reactInternals;
var K=l(),oa=z(b),Ba=qc(K,oa);Ba.payload=e;void 0!==n&&null!==n&&(Ba.callback=n);e=rc(b,Ba,oa);null!==e&&(ca(e,b,oa,K),Kc(e,b,oa))},enqueueReplaceState:function(b,e,n){b=b._reactInternals;var K=l(),oa=z(b),Ba=qc(K,oa);Ba.tag=1;Ba.payload=e;void 0!==n&&null!==n&&(Ba.callback=n);e=rc(b,Ba,oa);null!==e&&(ca(e,b,oa,K),Kc(e,b,oa))},enqueueForceUpdate:function(b,e){b=b._reactInternals;var n=l(),K=z(b),oa=qc(n,K);oa.tag=2;void 0!==e&&null!==e&&(oa.callback=e);e=rc(b,oa,K);null!==e&&(ca(e,b,K,n),Kc(e,b,K))}},
Ej=he(!0),Tk=he(!1),Bj={},Di=Sc(Bj),Dj=Sc(Bj),Cj=Sc(Bj),Fg=Sc(0),cj=[],Wj=Ed.ReactCurrentDispatcher,vk=Ed.ReactCurrentBatchConfig,oj=0,rg=null,ih=null,kh=null,pj=!1,Xj=!1,Yj=0,km=0,Zj={readContext:ka,useCallback:jf,useContext:jf,useEffect:jf,useImperativeHandle:jf,useInsertionEffect:jf,useLayoutEffect:jf,useMemo:jf,useReducer:jf,useRef:jf,useState:jf,useDebugValue:jf,useDeferredValue:jf,useTransition:jf,useMutableSource:jf,useSyncExternalStore:jf,useId:jf,unstable_isNewReconciler:!1},Rl={readContext:ka,
useCallback:function(b,e){mf().memoizedState=[b,void 0===e?null:e];return b},useContext:ka,useEffect:Rb,useImperativeHandle:function(b,e,n){n=null!==n&&void 0!==n?n.concat([b]):null;return qa(4194308,4,Pe.bind(null,e,b),n)},useLayoutEffect:function(b,e){return qa(4194308,4,b,e)},useInsertionEffect:function(b,e){return qa(4,2,b,e)},useMemo:function(b,e){var n=mf();e=void 0===e?null:e;b=b();n.memoizedState=[b,e];return b},useReducer:function(b,e,n){var K=mf();e=void 0!==n?n(e):e;K.memoizedState=K.baseState=
e;b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:b,lastRenderedState:e};K.queue=b;b=b.dispatch=tg.bind(null,rg,b);return[K.memoizedState,b]},useRef:function(b){var e=mf();b={current:b};return e.memoizedState=b},useState:Ig,useDebugValue:Gf,useDeferredValue:function(b){return mf().memoizedState=b},useTransition:function(){var b=Ig(!1),e=b[0];b=Vf.bind(null,b[1]);mf().memoizedState=b;return[e,b]},useMutableSource:function(){},useSyncExternalStore:function(b,e,n){var K=rg,
oa=mf();if(Cg){if(void 0===n)throw Error(v(407));n=n()}else{n=e();if(null===th)throw Error(v(349));0!==(oj&30)||hg(K,e,n)}oa.memoizedState=n;var Ba={value:n,getSnapshot:e};oa.queue=Ba;Rb(Kf.bind(null,K,Ba,b),[b]);K.flags|=2048;Mg(9,xf.bind(null,K,Ba,n,e),void 0,null);return n},useId:function(){var b=mf(),e=th.identifierPrefix;if(Cg){var n=gi,K=Ai;n=(K&~(1<<32-bi(K)-1)).toString(32)+n;e=":"+e+"R"+n;n=Yj++;0<n&&(e+="H"+n.toString(32));e+=":"}else n=km++,e=":"+e+"r"+n.toString(32)+":";return b.memoizedState=
e},unstable_isNewReconciler:!1},ql={readContext:ka,useCallback:Ne,useContext:ka,useEffect:hd,useImperativeHandle:qf,useInsertionEffect:ld,useLayoutEffect:pe,useMemo:bg,useReducer:Jf,useRef:Ug,useState:function(){return Jf(Hf)},useDebugValue:Gf,useDeferredValue:function(b){var e=af();return Pf(e,ih.memoizedState,b)},useTransition:function(){var b=Jf(Hf)[0],e=af().memoizedState;return[b,e]},useMutableSource:Af,useSyncExternalStore:Eg,useId:sg,unstable_isNewReconciler:!1},rl={readContext:ka,useCallback:Ne,
useContext:ka,useEffect:hd,useImperativeHandle:qf,useInsertionEffect:ld,useLayoutEffect:pe,useMemo:bg,useReducer:zf,useRef:Ug,useState:function(){return zf(Hf)},useDebugValue:Gf,useDeferredValue:function(b){var e=af();return null===ih?e.memoizedState=b:Pf(e,ih.memoizedState,b)},useTransition:function(){var b=zf(Hf)[0],e=af().memoizedState;return[b,e]},useMutableSource:Af,useSyncExternalStore:Eg,useId:sg,unstable_isNewReconciler:!1},Sl="function"===typeof WeakMap?WeakMap:Map,Tl=Ed.ReactCurrentOwner,
Oh=!1,xk={dehydrated:null,treeContext:null,retryLane:0};var Ul=function(b,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)b.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n;n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return;n=n.sibling}};var sl=function(){};var Qi=function(b,e,n,K){var oa=b.memoizedProps;if(oa!==K){b=e.stateNode;He(Di.current);var Ba=null;switch(n){case "input":oa=
Da(b,oa);K=Da(b,K);Ba=[];break;case "select":oa=wg({},oa,{value:void 0});K=wg({},K,{value:void 0});Ba=[];break;case "textarea":oa=Qb(b,oa);K=Qb(b,K);Ba=[];break;default:"function"!==typeof oa.onClick&&"function"===typeof K.onClick&&(b.onclick=Ab)}na(n,K);var tb;n=null;for(Ad in oa)if(!K.hasOwnProperty(Ad)&&oa.hasOwnProperty(Ad)&&null!=oa[Ad])if("style"===Ad){var wc=oa[Ad];for(tb in wc)wc.hasOwnProperty(tb)&&(n||(n={}),n[tb]="")}else"dangerouslySetInnerHTML"!==Ad&&"children"!==Ad&&"suppressContentEditableWarning"!==
Ad&&"suppressHydrationWarning"!==Ad&&"autoFocus"!==Ad&&(T.hasOwnProperty(Ad)?Ba||(Ba=[]):(Ba=Ba||[]).push(Ad,null));for(Ad in K){var Oc=K[Ad];wc=null!=oa?oa[Ad]:void 0;if(K.hasOwnProperty(Ad)&&Oc!==wc&&(null!=Oc||null!=wc))if("style"===Ad)if(wc){for(tb in wc)!wc.hasOwnProperty(tb)||Oc&&Oc.hasOwnProperty(tb)||(n||(n={}),n[tb]="");for(tb in Oc)Oc.hasOwnProperty(tb)&&wc[tb]!==Oc[tb]&&(n||(n={}),n[tb]=Oc[tb])}else n||(Ba||(Ba=[]),Ba.push(Ad,n)),n=Oc;else"dangerouslySetInnerHTML"===Ad?(Oc=Oc?Oc.__html:
void 0,wc=wc?wc.__html:void 0,null!=Oc&&wc!==Oc&&(Ba=Ba||[]).push(Ad,Oc)):"children"===Ad?"string"!==typeof Oc&&"number"!==typeof Oc||(Ba=Ba||[]).push(Ad,""+Oc):"suppressContentEditableWarning"!==Ad&&"suppressHydrationWarning"!==Ad&&(T.hasOwnProperty(Ad)?(null!=Oc&&"onScroll"===Ad&&Wd("scroll",b),Ba||wc===Oc||(Ba=[])):(Ba=Ba||[]).push(Ad,Oc))}n&&(Ba=Ba||[]).push("style",n);var Ad;if(e.updateQueue=Ba)e.flags|=4}};var tl=function(b,e,n,K){n!==K&&(e.flags|=4)};var ak=!1,Nh=!1,Wl="function"===typeof WeakSet?
WeakSet:Set,Oe=null,ul=!1,qh=null,ti=!1,Zl=Math.ceil,yk=Ed.ReactCurrentDispatcher,Yk=Ed.ReactCurrentOwner,ji=Ed.ReactCurrentBatchConfig,Zf=0,th=null,$g=null,Gh=0,$h=0,Fj=Sc(0),oh=0,ii=null,nj=0,Hg=0,kg=0,rh=null,ah=null,Wk=0,Vh=Infinity,Ri=null,wk=!1,Sk=null,Oi=null,ck=!1,Si=null,dk=0,fj=0,qj=null,bk=-1,ej=0;var Zk=function(b,e,n){if(null!==b)if(b.memoizedProps!==e.pendingProps||Bg.current)Oh=!0;else{if(0===(b.lanes&n)&&0===(e.flags&128))return Oh=!1,nh(b,e,n);Oh=0!==(b.flags&131072)?!0:!1}else Oh=
!1,Cg&&0!==(e.flags&1048576)&&be(e,zi,e.index);e.lanes=0;switch(e.tag){case 2:var K=e.type;Tg(b,e);b=e.pendingProps;var oa=Sa(e,Ih.current);I(e,n);oa=Yd(null,e,K,b,oa,n);var Ba=ff();e.flags|=1;"object"===typeof oa&&null!==oa&&"function"===typeof oa.render&&void 0===oa.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,eb(K)?(Ba=!0,Uc(e)):Ba=!1,e.memoizedState=null!==oa.state&&void 0!==oa.state?oa.state:null,vb(e),oa.updater=uk,e.stateNode=oa,oa._reactInternals=e,De(e,K,b,n),e=Yg(null,e,K,!0,
Ba,n)):(e.tag=0,Cg&&Ba&&ye(e),Cf(null,e,oa,n),e=e.child);return e;case 16:K=e.elementType;a:{Tg(b,e);b=e.pendingProps;oa=K._init;K=oa(K._payload);e.type=K;oa=e.tag=vg(K);b=le(K,b);switch(oa){case 0:e=uh(null,e,K,b,n);break a;case 1:e=Kh(null,e,K,b,n);break a;case 11:e=Sg(null,e,K,b,n);break a;case 14:e=fh(null,e,K,le(K.type,b),n);break a}throw Error(v(306,K,""));}return e;case 0:return K=e.type,oa=e.pendingProps,oa=e.elementType===K?oa:le(K,oa),uh(b,e,K,oa,n);case 1:return K=e.type,oa=e.pendingProps,
oa=e.elementType===K?oa:le(K,oa),Kh(b,e,K,oa,n);case 3:a:{wh(e);if(null===b)throw Error(v(387));K=e.pendingProps;Ba=e.memoizedState;oa=Ba.element;pc(b,e);Hc(e,K,null,n);var tb=e.memoizedState;K=tb.element;if(Ba.isDehydrated)if(Ba={element:K,isDehydrated:!1,cache:tb.cache,pendingSuspenseBoundaries:tb.pendingSuspenseBoundaries,transitions:tb.transitions},e.updateQueue.baseState=Ba,e.memoizedState=Ba,e.flags&256){oa=Je(Error(v(423)),e);Vd();ce(oa);e.flags|=256;Cf(b,e,K,n);e=e.child;break a}else if(K!==
oa){oa=Je(Error(v(424)),e);Vd();ce(oa);e.flags|=256;Cf(b,e,K,n);e=e.child;break a}else for(Yh=J(e.stateNode.containerInfo.firstChild),Jh=e,Cg=!0,Th=null,n=Tk(e,null,K,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{Vd();if(K===oa){e=eh(b,e,n);break a}Cf(b,e,K,n)}e=e.child}return e;case 5:return Ke(e),null===b&&Ec(e),K=e.type,oa=e.pendingProps,Ba=null!==b?b.memoizedProps:null,tb=oa.children,fc(K,oa)?tb=null:null!==Ba&&fc(K,Ba)&&(e.flags|=32),vh(b,e),Cf(b,e,tb,n),e.child;case 6:return null===
b&&Ec(e),null;case 13:return ri(b,e,n);case 4:return lf(e,e.stateNode.containerInfo),K=e.pendingProps,null===b?e.child=Ej(e,null,K,n):Cf(b,e,K,n),e.child;case 11:return K=e.type,oa=e.pendingProps,oa=e.elementType===K?oa:le(K,oa),Sg(b,e,K,oa,n);case 7:return Cf(b,e,e.pendingProps,n),e.child;case 8:return Cf(b,e,e.pendingProps.children,n),e.child;case 12:return Cf(b,e,e.pendingProps.children,n),e.child;case 10:a:{K=e.type._context;oa=e.pendingProps;Ba=e.memoizedProps;tb=oa.value;ee(lj,K._currentValue);
K._currentValue=tb;if(null!==Ba)if(ni(Ba.value,tb)){if(Ba.children===oa.children&&!Bg.current){e=eh(b,e,n);break a}}else for(Ba=e.child,null!==Ba&&(Ba.return=e);null!==Ba;){var wc=Ba.dependencies;if(null!==wc){tb=Ba.child;for(var Oc=wc.firstContext;null!==Oc;){if(Oc.context===K){if(1===Ba.tag){Oc=qc(-1,n&-n);Oc.tag=2;var Ad=Ba.updateQueue;if(null!==Ad){Ad=Ad.shared;var fe=Ad.pending;null===fe?Oc.next=Oc:(Oc.next=fe.next,fe.next=Oc);Ad.pending=Oc}}Ba.lanes|=n;Oc=Ba.alternate;null!==Oc&&(Oc.lanes|=
n);ea(Ba.return,n,e);wc.lanes|=n;break}Oc=Oc.next}}else if(10===Ba.tag)tb=Ba.type===e.type?null:Ba.child;else if(18===Ba.tag){tb=Ba.return;if(null===tb)throw Error(v(341));tb.lanes|=n;wc=tb.alternate;null!==wc&&(wc.lanes|=n);ea(tb,n,e);tb=Ba.sibling}else tb=Ba.child;if(null!==tb)tb.return=Ba;else for(tb=Ba;null!==tb;){if(tb===e){tb=null;break}Ba=tb.sibling;if(null!==Ba){Ba.return=tb.return;tb=Ba;break}tb=tb.return}Ba=tb}Cf(b,e,oa.children,n);e=e.child}return e;case 9:return oa=e.type,K=e.pendingProps.children,
I(e,n),oa=ka(oa),K=K(oa),e.flags|=1,Cf(b,e,K,n),e.child;case 14:return K=e.type,oa=le(K,e.pendingProps),oa=le(K.type,oa),fh(b,e,K,oa,n);case 15:return lh(b,e,e.type,e.pendingProps,n);case 17:return K=e.type,oa=e.pendingProps,oa=e.elementType===K?oa:le(K,oa),Tg(b,e),e.tag=1,eb(K)?(b=!0,Uc(e)):b=!1,I(e,n),Kd(e,K,oa),De(e,K,oa,n),Yg(null,e,K,!0,b,n);case 19:return Uh(b,e,n);case 22:return yg(b,e,n)}throw Error(v(156,e.tag));};var Ek="function"===typeof reportError?reportError:function(b){console.error(b)};
kc.prototype.render=Sb.prototype.render=function(b){var e=this._internalRoot;if(null===e)throw Error(v(409));W(b,e,null,null)};kc.prototype.unmount=Sb.prototype.unmount=function(){var b=this._internalRoot;if(null!==b){this._internalRoot=null;var e=b.containerInfo;Rd(function(){W(null,b,null,null)});e[xi]=null}};kc.prototype.unstable_scheduleHydration=function(b){if(b){var e=lm();b={blockedOn:null,target:b,priority:e};for(var n=0;n<Wi.length&&0!==e&&e<Wi[n].priority;n++);Wi.splice(n,0,b);0===n&&Tb(b)}};
var Jl=function(b){switch(b.tag){case 3:var e=b.stateNode;if(e.current.memoizedState.isDehydrated){var n=X(e.pendingLanes);0!==n&&(Rc(e,n|1),ma(e,gh()),0===(Zf&6)&&(Vh=gh()+500,Od()))}break;case 13:Rd(function(){var K=jb(b,1);if(null!==K){var oa=l();ca(K,b,1,oa)}}),zb(b,1)}};var el=function(b){if(13===b.tag){var e=jb(b,134217728);if(null!==e){var n=l();ca(e,b,134217728,n)}zb(b,134217728)}};var gl=function(b){if(13===b.tag){var e=z(b),n=jb(b,e);if(null!==n){var K=l();ca(n,b,e,K)}zb(b,e)}};var lm=function(){return qg};
var fl=function(b,e){var n=qg;try{return qg=b,e()}finally{qg=n}};mi=function(b,e,n){switch(e){case "input":mb(b,n);e=n.name;if("radio"===n.type&&null!=e){for(n=b;n.parentNode;)n=n.parentNode;n=n.querySelectorAll("input[name\x3d"+JSON.stringify(""+e)+'][type\x3d"radio"]');for(e=0;e<n.length;e++){var K=n[e];if(K!==b&&K.form===b.form){var oa=Dc(K);if(!oa)throw Error(v(90));pb(K);mb(K,oa)}}}break;case "textarea":ob(b,n);break;case "select":e=n.value,null!=e&&sb(b,!!n.multiple,e,!1)}};m=Zc;C=Rd;var Al=
{usingClientEntryPoint:!1,Events:[bc,Pc,Dc,g,u,Zc]},fk={findFiberByHostInstance:Ta,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Bl={bundleType:fk.bundleType,version:fk.version,rendererPackageName:fk.rendererPackageName,rendererConfig:fk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,
currentDispatcherRef:Ed.ReactCurrentDispatcher,findHostInstanceByFiber:function(b){b=va(b);return null===b?null:b.stateNode},findFiberByHostInstance:fk.findFiberByHostInstance||Eb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var li=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!li.isDisabled&&li.supportsFiber)try{hk=li.inject(Bl),wi=
li}catch(b){}}nb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Al;nb.createPortal=function(b,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Vc(e))throw Error(v(200));return ki(b,e,null,n)};nb.createRoot=function(b,e){if(!Vc(b))throw Error(v(299));var n=!1,K="",oa=Ek;null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(K=e.identifierPrefix),void 0!==e.onRecoverableError&&(oa=e.onRecoverableError));e=rj(b,1,!1,null,null,n,!1,K,oa);b[xi]=
e.current;Ce(8===b.nodeType?b.parentNode:b);return new Sb(e)};nb.findDOMNode=function(b){if(null==b)return null;if(1===b.nodeType)return b;var e=b._reactInternals;if(void 0===e){if("function"===typeof b.render)throw Error(v(188));b=Object.keys(b).join(",");throw Error(v(268,b));}b=va(e);return b=null===b?null:b.stateNode};nb.flushSync=function(b){return Rd(b)};nb.hydrate=function(b,e,n){if(!Jd(e))throw Error(v(200));return ke(null,b,e,!0,n)};nb.hydrateRoot=function(b,e,n){if(!Vc(b))throw Error(v(405));
var K=null!=n&&n.hydratedSources||null,oa=!1,Ba="",tb=Ek;null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(oa=!0),void 0!==n.identifierPrefix&&(Ba=n.identifierPrefix),void 0!==n.onRecoverableError&&(tb=n.onRecoverableError));e=y(e,null,b,1,null!=n?n:null,oa,!1,Ba,tb);b[xi]=e.current;Ce(b);if(K)for(b=0;b<K.length;b++)n=K[b],oa=n._getVersion,oa=oa(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,oa]:e.mutableSourceEagerHydrationData.push(n,oa);return new kc(e)};
nb.render=function(b,e,n){if(!Jd(e))throw Error(v(200));return ke(null,b,e,!1,n)};nb.unmountComponentAtNode=function(b){if(!Jd(b))throw Error(v(40));return b._reactRootContainer?(Rd(function(){ke(null,null,b,!1,function(){b._reactRootContainer=null;b[xi]=null})}),!0):!1};nb.unstable_batchedUpdates=Zc;nb.unstable_renderSubtreeIntoContainer=function(b,e,n,K){if(!Jd(n))throw Error(v(200));if(null==b||void 0===b._reactInternals)throw Error(v(38));return ke(b,e,n,!1,K)};nb.version="18.2.0-next-9e3b772b8-20220608"};
shadow$provide[8]=function(dc,Db,Wc,nb){function v(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v)}catch(k){console.error(k)}}v();Wc.exports=Db(6)};
shadow$provide[9]=function(dc,Db,Wc,nb){dc=Db(8);nb.createRoot=dc.createRoot;nb.hydrateRoot=dc.hydrateRoot};
shadow$provide[14]=function(dc,Db,Wc,nb){Wc.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"};
shadow$provide[18]=function(dc,Db,Wc,nb){function v(){}function k(){}var P=Db(14);k.resetWarningCache=v;Wc.exports=function(){function ib(vc,Ac,uc,Bb,jc,Yb){if(Yb!==P)throw vc=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"),vc.name="Invariant Violation",vc;}function Gb(){return ib}ib.isRequired=ib;var ac={array:ib,bigint:ib,bool:ib,func:ib,number:ib,object:ib,string:ib,
symbol:ib,any:ib,arrayOf:Gb,element:ib,elementType:ib,instanceOf:Gb,node:ib,objectOf:Gb,oneOf:Gb,oneOfType:Gb,shape:Gb,exact:Gb,checkPropTypes:k,resetWarningCache:v};return ac.PropTypes=ac}};
shadow$provide[19]=function(dc,Db,Wc,nb){Wc.exports=Db(18)()};
shadow$provide[20]=function(dc,Db,Wc,nb){nb.__esModule=!0;nb.default=function(k,P){void 0===k&&(k=v);void 0===P&&(P=v);const ib=Object.keys(k),Gb=Object.keys(P);return k===P||ib.length===Gb.length&&ib.every(ac=>k[ac]===P[ac])};const v={}};
shadow$provide[21]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb):"function"===typeof define&&define.amd?define(["exports"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={}))})(this,function(v){function k(B,A,E){B.fields=A||[];B.fname=E;return B}function P(B){return null==B?null:B.fields}function ib(B){return 1===B.length?mb(B[0]):Pa(B)}function Gb(B){throw Error(B);}function ac(B){function A(){E.push(Y+B.substring(t,L));Y="";t=L+1}const E=
[],H=B.length;let V=null,Aa=0,Y="",t,L,va;B+="";for(t=L=0;L<H;++L)(va=B[L],"\\"===va)?(Y+=B.substring(t,L++),t=L):va===V?(A(),V=null,Aa=-1):V||(t===Aa&&'"'===va?(t=L+1,V=va):t===Aa&&"'"===va?(t=L+1,V=va):"."!==va||Aa?"["===va?(L>t&&A(),Aa=t=L+1):"]"===va&&(Aa||Gb("Access path missing open bracket: "+B),0<Aa&&A(),Aa=0,t=L+1):L>t?A():t=L+1);Aa&&Gb("Access path missing closing bracket: "+B);V&&Gb("Access path missing closing quote: "+B);L>t&&(L++,A());return E}function vc(B,A,E){const H=ac(B);B=1===
H.length?H[0]:B;return k((E&&E.get||ib)(H),[B],A||B)}function Ac(B,A,E){A=[A].concat([].slice.call(E));console[B].apply(console,A)}function uc(B){return B===Object(B)}function Bb(B,A,E,H){if("__proto__"!==A){var V;if(uc(E)&&!Z(E))for(V in B=uc(B[A])?B[A]:B[A]={},E)H&&(!0===H||H[V])?Bb(B,V,E[V]):"__proto__"!==V&&(B[V]=E[V]);else B[A]=E}}function jc(B,A){function E(Aa){H[Aa.name]||(H[Aa.name]=1,V.push(Aa))}if(null==B)return A;const H={},V=[];A.forEach(E);B.forEach(E);return V}function Yb(B){return B[B.length-
1]}function Ua(B){return null==B||""===B?null:+B}function ub(B,A,E,H){const V=E(B[0]);B=E(Yb(B));A*=B-V;return[H(V-A),H(B-A)]}function Kb(B,A,E,H,V){const Aa=H(B[0]);B=H(Yb(B));A=null!=A?H(A):(Aa+B)/2;return[V(A+(Aa-A)*E),V(A+(B-A)*E)]}function Lb(B){return null!=B?Z(B)?B:[B]:[]}function Cb(B){return"function"===typeof B}function Pb(B){for(let A,E,H=1,V=arguments.length;H<V;++H)for(E in A=arguments[H],A)B[E]=A[E];return B}function ab(B,A){return u.call(B,A)}function pb(B){return"[object Date]"===
Object.prototype.toString.call(B)}function Qa(B){return"number"===typeof B}function Da(B){return"string"===typeof B}function Ka(B,A){let E="";for(;0<=--A;)E+=B;return E}function lb(B){return Z(B)?"["+B.map(lb)+"]":uc(B)||Da(B)?JSON.stringify(B).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):B}const mb=B=>function(A){return A[B]},Pa=B=>{const A=B.length;return function(E){for(let H=0;H<A;++H)E=E[B[H]];return E}},xb=vc("id"),sb=k(B=>B,[],"identity"),Qb=k(()=>0,[],"zero"),Wb=k(()=>1,[],"one"),
ob=k(()=>!0,[],"true"),pa=k(()=>!1,[],"false");var Z=Array.isArray;const Fa=B=>A=>B*Math.exp(A),Ga=B=>A=>Math.log(B*A),db=B=>A=>Math.sign(A)*Math.log1p(Math.abs(A/B)),ba=B=>A=>Math.sign(A)*Math.expm1(Math.abs(A))*B,na=B=>A=>0>A?-Math.pow(-A,B):Math.pow(A,B),q=(B,A)=>(B<A||null==B)&&null!=A?-1:(B>A||null==A)&&null!=B?1:(A=A instanceof Date?+A:A,B=B instanceof Date?+B:B)!==B&&A===A?-1:A!==A&&B===B?1:0,M=(B,A)=>1===B.length?Q(B[0],A[0]):g(B,A,B.length),Q=(B,A)=>function(E,H){return q(B(E),B(H))*A},g=
(B,A,E)=>{A.push(0);return function(H,V){var Aa=0;let Y=-1;for(;0===Aa&&++Y<E;)Aa=B[Y],Aa=q(Aa(H),Aa(V));return Aa*A[Y]}},u=Object.prototype.hasOwnProperty,m={},C=B=>Qa(B)?B:pb(B)?B:Date.parse(B);v.Debug=4;v.Error=1;v.Info=3;v.None=0;v.Warn=2;v.accessor=k;v.accessorFields=P;v.accessorName=function(B){return null==B?null:B.fname};v.array=Lb;v.ascending=q;v.clampRange=function(B,A,E){let H=B[0];B=B[1];let V;B<H&&(V=B,B=H,H=V);V=B-H;return V>=E-A?[A,E]:[H=Math.min(Math.max(H,A),E-V),H+V]};v.compare=
function(B,A,E){E=E||{};A=Lb(A)||[];const H=[],V=[],Aa={},Y=E.comparator||M;Lb(B).forEach((t,L)=>{null!=t&&(H.push("descending"===A[L]?-1:1),V.push(t=Cb(t)?t:vc(t,null,E)),(P(t)||[]).forEach(va=>Aa[va]=1))});return 0===V.length?null:k(Y(V,H),Object.keys(Aa))};v.constant=function(B){return Cb(B)?B:()=>B};v.debounce=function(B,A){let E;return H=>{E&&clearTimeout(E);E=setTimeout(()=>(A(H),E=null),B)}};v.error=Gb;v.extend=Pb;v.extent=function(B,A){let E=0,H,V,Aa,Y;if(B&&(H=B.length))if(null==A){for(V=
B[E];E<H&&(null==V||V!==V);V=B[++E]);for(Aa=Y=V;E<H;++E)V=B[E],null!=V&&(V<Aa&&(Aa=V),V>Y&&(Y=V))}else{for(V=A(B[E]);E<H&&(null==V||V!==V);V=A(B[++E]));for(Aa=Y=V;E<H;++E)V=A(B[E]),null!=V&&(V<Aa&&(Aa=V),V>Y&&(Y=V))}return[Aa,Y]};v.extentIndex=function(B,A){const E=B.length;let H=-1,V,Aa,Y,t,L;if(null==A){for(;++H<E;)if(Aa=B[H],null!=Aa&&Aa>=Aa){V=Y=Aa;break}if(H===E)return[-1,-1];for(t=L=H;++H<E;)Aa=B[H],null!=Aa&&(V>Aa&&(V=Aa,t=H),Y<Aa&&(Y=Aa,L=H))}else{for(;++H<E;)if(Aa=A(B[H],H,B),null!=Aa&&Aa>=
Aa){V=Y=Aa;break}if(H===E)return[-1,-1];for(t=L=H;++H<E;)Aa=A(B[H],H,B),null!=Aa&&(V>Aa&&(V=Aa,t=H),Y<Aa&&(Y=Aa,L=H))}return[t,L]};v.falsy=pa;v.fastmap=function(B){function A(Aa){return ab(E,Aa)&&E[Aa]!==m}let E={},H;const V={size:0,empty:0,object:E,has:A,get(Aa){return A(Aa)?E[Aa]:void 0},set(Aa,Y){A(Aa)||(++V.size,E[Aa]===m&&--V.empty);E[Aa]=Y;return this},delete(Aa){A(Aa)&&(--V.size,++V.empty,E[Aa]=m);return this},clear(){V.size=V.empty=0;V.object=E={}},test(Aa){return arguments.length?(H=Aa,V):
H},clean(){const Aa={};let Y=0;for(const t in E){const L=E[t];L===m||H&&H(L)||(Aa[t]=L,++Y)}V.size=Y;V.empty=0;V.object=E=Aa}};B&&Object.keys(B).forEach(Aa=>{V.set(Aa,B[Aa])});return V};v.field=vc;v.flush=function(B,A,E,H,V,Aa){if(!E&&0!==E)return Aa;E=+E;let Y=B[0],t=Yb(B);t<Y&&(B=Y,Y=t,t=B);B=Math.abs(A-Y);A=Math.abs(t-A);return B<A&&B<=E?H:A<=E?V:Aa};v.hasOwnProperty=ab;v.id=xb;v.identity=sb;v.inherits=function(B,A,E){A=B.prototype=Object.create(A.prototype);Object.defineProperty(A,"constructor",
{value:B,writable:!0,enumerable:!0,configurable:!0});return Pb(A,E)};v.inrange=function(B,A,E,H){let V=A[0];A=A[A.length-1];let Aa;V>A&&(Aa=V,V=A,A=Aa);return(void 0===E||E?V<=B:V<B)&&(void 0===H||H?B<=A:B<A)};v.isArray=Z;v.isBoolean=function(B){return"boolean"===typeof B};v.isDate=pb;v.isFunction=Cb;v.isIterable=function(B){return B&&Cb(B[Symbol.iterator])};v.isNumber=Qa;v.isObject=uc;v.isRegExp=function(B){return"[object RegExp]"===Object.prototype.toString.call(B)};v.isString=Da;v.key=function(B,
A,E){B&&(B=A?Lb(B).map(Aa=>Aa.replace(/\\(.)/g,"$1")):Lb(B));const H=B&&B.length,V=E&&E.get||ib;E=Aa=>V(A?[Aa]:ac(Aa));if(H)if(1===H){const Aa=E(B[0]);E=function(Y){return""+Aa(Y)}}else{const Aa=B.map(E);E=function(Y){let t=""+Aa[0](Y),L=0;for(;++L<H;)t+="|"+Aa[L](Y);return t}}else E=function(){return""};return k(E,B,"key")};v.lerp=function(B,A){const E=B[0];B=Yb(B);return(A=+A)?1===A?B:E+A*(B-E):E};v.logger=function(B,A,E=Ac){let H=B||0;return{level(V){return arguments.length?(H=+V,this):H},error(){1<=
H&&E(A||"error","ERROR",arguments);return this},warn(){2<=H&&E(A||"warn","WARN",arguments);return this},info(){3<=H&&E(A||"log","INFO",arguments);return this},debug(){4<=H&&E(A||"log","DEBUG",arguments);return this}}};v.lruCache=function(B){B=+B||1E4;let A,E,H;const V=()=>{A={};E={};H=0},Aa=(Y,t)=>{++H>B&&(E=A,A={},H=1);return A[Y]=t};V();return{clear:V,has:Y=>ab(A,Y)||ab(E,Y),get:Y=>ab(A,Y)?A[Y]:ab(E,Y)?Aa(Y,E[Y]):void 0,set:(Y,t)=>ab(A,Y)?A[Y]=t:Aa(Y,t)}};v.merge=function(B,A,E,H){const V=A.length,
Aa=E.length;if(!Aa)return A;if(!V)return E;H=H||new A.constructor(V+Aa);let Y=0,t=0,L=0;for(;Y<V&&t<Aa;++L)H[L]=0<B(A[Y],E[t])?E[t++]:A[Y++];for(;Y<V;++Y,++L)H[L]=A[Y];for(;t<Aa;++t,++L)H[L]=E[t];return H};v.mergeConfig=function(...B){return B.reduce((A,E)=>{for(const H in E)"signals"===H?A.signals=jc(A.signals,E.signals):Bb(A,H,E[H],"legend"===H?{layout:1}:"style"===H?!0:null);return A},{})};v.one=Wb;v.pad=function(B,A,E,H){E=E||" ";B+="";A-=B.length;return 0>=A?B:"left"===H?Ka(E,A)+B:"center"===
H?Ka(E,~~(A/2))+B+Ka(E,Math.ceil(A/2)):B+Ka(E,A)};v.panLinear=function(B,A){return ub(B,A,Ua,sb)};v.panLog=function(B,A){var E=Math.sign(B[0]);return ub(B,A,Ga(E),Fa(E))};v.panPow=function(B,A,E){return ub(B,A,na(E),na(1/E))};v.panSymlog=function(B,A,E){return ub(B,A,db(E),ba(E))};v.peek=Yb;v.quarter=function(B){return 1+~~((new Date(B)).getMonth()/3)};v.repeat=Ka;v.span=function(B){return B&&Yb(B)-B[0]||0};v.splitAccessPath=ac;v.stringValue=lb;v.toBoolean=function(B){return null==B||""===B?null:
B&&"false"!==B&&"0"!==B?!!B:!1};v.toDate=function(B,A){A=A||C;return null==B||""===B?null:A(B)};v.toNumber=Ua;v.toSet=function(B){const A={},E=B.length;for(let H=0;H<E;++H)A[B[H]]=!0;return A};v.toString=function(B){return null==B||""===B?null:B+""};v.truncate=function(B,A,E,H){H=null!=H?H:"";B+="";const V=B.length,Aa=Math.max(0,A-H.length);return V<=A?B:"left"===E?H+B.slice(V-Aa):"center"===E?B.slice(0,Math.ceil(Aa/2))+H+B.slice(V-~~(Aa/2)):B.slice(0,Aa)+H};v.truthy=ob;v.utcquarter=function(B){return 1+
~~((new Date(B)).getUTCMonth()/3)};v.visitArray=function(B,A,E){if(B)if(A){const H=B.length;for(let V=0;V<H;++V){const Aa=A(B[V]);Aa&&E(Aa,V,B)}}else B.forEach(E)};v.writeConfig=Bb;v.zero=Qb;v.zoomLinear=function(B,A,E){return Kb(B,A,E,Ua,sb)};v.zoomLog=function(B,A,E){const H=Math.sign(B[0]);return Kb(B,A,E,Ga(H),Fa(H))};v.zoomPow=function(B,A,E,H){return Kb(B,A,E,na(H),na(1/H))};v.zoomSymlog=function(B,A,E,H){return Kb(B,A,E,db(H),ba(H))}})};
shadow$provide[22]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb):"function"===typeof define&&define.amd?define(["exports"],k):(v=v||self,k(v.topojson=v.topojson||{}))})(this,function(v){function k(Ua){return Ua}function P(Ua){if(null==Ua)return k;var ub,Kb,Lb=Ua.scale[0],Cb=Ua.scale[1],Pb=Ua.translate[0],ab=Ua.translate[1];return function(pb,Qa){Qa||(ub=Kb=0);Qa=2;var Da=pb.length,Ka=Array(Da);Ka[0]=(ub+=pb[0])*Lb+Pb;for(Ka[1]=(Kb+=pb[1])*Cb+ab;Qa<Da;)Ka[Qa]=
pb[Qa],++Qa;return Ka}}function ib(Ua){function ub(Da){Da=Lb(Da);Da[0]<Pb&&(Pb=Da[0]);Da[0]>pb&&(pb=Da[0]);Da[1]<ab&&(ab=Da[1]);Da[1]>Qa&&(Qa=Da[1])}function Kb(Da){switch(Da.type){case "GeometryCollection":Da.geometries.forEach(Kb);break;case "Point":ub(Da.coordinates);break;case "MultiPoint":Da.coordinates.forEach(ub)}}var Lb=P(Ua.transform),Cb,Pb=Infinity,ab=Pb,pb=-Pb,Qa=-Pb;Ua.arcs.forEach(function(Da){for(var Ka=-1,lb=Da.length,mb;++Ka<lb;)mb=Lb(Da[Ka],Ka),mb[0]<Pb&&(Pb=mb[0]),mb[0]>pb&&(pb=
mb[0]),mb[1]<ab&&(ab=mb[1]),mb[1]>Qa&&(Qa=mb[1])});for(Cb in Ua.objects)Kb(Ua.objects[Cb]);return[Pb,ab,pb,Qa]}function Gb(Ua,ub){var Kb=ub.id,Lb=ub.bbox,Cb=null==ub.properties?{}:ub.properties;Ua=ac(Ua,ub);return null==Kb&&null==Lb?{type:"Feature",properties:Cb,geometry:Ua}:null==Lb?{type:"Feature",id:Kb,properties:Cb,geometry:Ua}:{type:"Feature",id:Kb,bbox:Lb,properties:Cb,geometry:Ua}}function ac(Ua,ub){function Kb(Da){return pb(Da)}function Lb(Da){for(var Ka=[],lb=0,mb=Da.length;lb<mb;++lb){var Pa=
Da[lb],xb=Ka;xb.length&&xb.pop();for(var sb=Qa[0>Pa?~Pa:Pa],Qb=0,Wb=sb.length;Qb<Wb;++Qb)xb.push(pb(sb[Qb],Qb));if(0>Pa)for(Pa=xb,xb=Pa.length,sb=xb-Wb;sb<--xb;)Wb=Pa[sb],Pa[sb++]=Pa[xb],Pa[xb]=Wb}2>Ka.length&&Ka.push(Ka[0]);return Ka}function Cb(Da){for(Da=Lb(Da);4>Da.length;)Da.push(Da[0]);return Da}function Pb(Da){return Da.map(Cb)}function ab(Da){var Ka=Da.type;switch(Ka){case "GeometryCollection":return{type:Ka,geometries:Da.geometries.map(ab)};case "Point":Da=pb(Da.coordinates);break;case "MultiPoint":Da=
Da.coordinates.map(Kb);break;case "LineString":Da=Lb(Da.arcs);break;case "MultiLineString":Da=Da.arcs.map(Lb);break;case "Polygon":Da=Pb(Da.arcs);break;case "MultiPolygon":Da=Da.arcs.map(Pb);break;default:return null}return{type:Ka,coordinates:Da}}var pb=P(Ua.transform),Qa=Ua.arcs;return ab(ub)}function vc(Ua,ub){function Kb(Da){var Ka=Ua.arcs[0>Da?~Da:Da],lb=Ka[0];if(Ua.transform){var mb=[0,0];Ka.forEach(function(Pa){mb[0]+=Pa[0];mb[1]+=Pa[1]})}else mb=Ka[Ka.length-1];return 0>Da?[mb,lb]:[lb,mb]}
function Lb(Da,Ka){for(var lb in Da){var mb=Da[lb];delete Ka[mb.start];delete mb.start;delete mb.end;mb.forEach(function(Pa){Cb[0>Pa?~Pa:Pa]=1});pb.push(mb)}}var Cb={},Pb={},ab={},pb=[],Qa=-1;ub.forEach(function(Da,Ka){var lb=Ua.arcs[0>Da?~Da:Da];3>lb.length&&!lb[1][0]&&!lb[1][1]&&(lb=ub[++Qa],ub[Qa]=Da,ub[Ka]=lb)});ub.forEach(function(Da){var Ka=Kb(Da),lb=Ka[0],mb=Ka[1];(Ka=ab[lb])?(delete ab[Ka.end],Ka.push(Da),Ka.end=mb,(Da=Pb[mb])?(delete Pb[Da.start],lb=Da===Ka?Ka:Ka.concat(Da),Pb[lb.start=Ka.start]=
ab[lb.end=Da.end]=lb):Pb[Ka.start]=ab[Ka.end]=Ka):(Ka=Pb[mb])?(delete Pb[Ka.start],Ka.unshift(Da),Ka.start=lb,(Da=ab[lb])?(delete ab[Da.end],lb=Da===Ka?Ka:Da.concat(Ka),Pb[lb.start=Da.start]=ab[lb.end=Ka.end]=lb):Pb[Ka.start]=ab[Ka.end]=Ka):(Ka=[Da],Pb[Ka.start=lb]=ab[Ka.end=mb]=Ka)});Lb(ab,Pb);Lb(Pb,ab);ub.forEach(function(Da){Cb[0>Da?~Da:Da]||pb.push([Da])});return pb}function Ac(Ua,ub,Kb){var Lb;if(1<arguments.length)var Cb=uc(Ua,ub,Kb);else{var Pb=0;for(Cb=Array(Lb=Ua.arcs.length);Pb<Lb;++Pb)Cb[Pb]=
Pb}return{type:"MultiLineString",arcs:vc(Ua,Cb)}}function uc(Ua,ub,Kb){function Lb(Ka){var lb=0>Ka?~Ka:Ka;(Qa[lb]||(Qa[lb]=[])).push({i:Ka,g:Da})}function Cb(Ka){Ka.forEach(Lb)}function Pb(Ka){Ka.forEach(Cb)}function ab(Ka){switch(Da=Ka,Ka.type){case "GeometryCollection":Ka.geometries.forEach(ab);break;case "LineString":Cb(Ka.arcs);break;case "MultiLineString":case "Polygon":Pb(Ka.arcs);break;case "MultiPolygon":Ka.arcs.forEach(Pb)}}var pb=[],Qa=[],Da;ab(ub);Qa.forEach(null==Kb?function(Ka){pb.push(Ka[0].i)}:
function(Ka){Kb(Ka[0].g,Ka[Ka.length-1].g)&&pb.push(Ka[0].i)});return pb}function Bb(Ua,ub){function Kb(Qa){switch(Qa.type){case "GeometryCollection":Qa.geometries.forEach(Kb);break;case "Polygon":Lb(Qa.arcs);break;case "MultiPolygon":Qa.arcs.forEach(Lb)}}function Lb(Qa){Qa.forEach(function(Da){Da.forEach(function(Ka){(Pb[Ka=0>Ka?~Ka:Ka]||(Pb[Ka]=[])).push(Qa)})});ab.push(Qa)}function Cb(Qa){Qa=ac(Ua,{type:"Polygon",arcs:[Qa]}).coordinates[0];for(var Da=-1,Ka=Qa.length,lb,mb=Qa[Ka-1],Pa=0;++Da<Ka;)lb=
mb,mb=Qa[Da],Pa+=lb[0]*mb[1]-lb[1]*mb[0];return Math.abs(Pa)}var Pb={},ab=[],pb=[];ub.forEach(Kb);ab.forEach(function(Qa){if(!Qa._){var Da=[],Ka=[Qa];Qa._=1;for(pb.push(Da);Qa=Ka.pop();)Da.push(Qa),Qa.forEach(function(lb){lb.forEach(function(mb){Pb[0>mb?~mb:mb].forEach(function(Pa){Pa._||(Pa._=1,Ka.push(Pa))})})})}});ab.forEach(function(Qa){delete Qa._});return{type:"MultiPolygon",arcs:pb.map(function(Qa){var Da=[];Qa.forEach(function(Pa){Pa.forEach(function(xb){xb.forEach(function(sb){2>Pb[0>sb?
~sb:sb].length&&Da.push(sb)})})});Da=vc(Ua,Da);if(1<(Qa=Da.length))for(var Ka=1,lb=Cb(Da[0]),mb;Ka<Qa;++Ka)(mb=Cb(Da[Ka]))>lb&&(lb=Da[0],Da[0]=Da[Ka],Da[Ka]=lb,lb=mb);return Da}).filter(function(Qa){return 0<Qa.length})}}function jc(Ua,ub){for(var Kb=0,Lb=Ua.length;Kb<Lb;){var Cb=Kb+Lb>>>1;Ua[Cb]<ub?Kb=Cb+1:Lb=Cb}return Kb}function Yb(Ua){if(null==Ua)return k;var ub,Kb,Lb=Ua.scale[0],Cb=Ua.scale[1],Pb=Ua.translate[0],ab=Ua.translate[1];return function(pb,Qa){Qa||(ub=Kb=0);Qa=2;var Da=pb.length,Ka=
Array(Da),lb=Math.round((pb[0]-Pb)/Lb),mb=Math.round((pb[1]-ab)/Cb);Ka[0]=lb-ub;ub=lb;Ka[1]=mb-Kb;for(Kb=mb;Qa<Da;)Ka[Qa]=pb[Qa],++Qa;return Ka}}v.bbox=ib;v.feature=function(Ua,ub){"string"===typeof ub&&(ub=Ua.objects[ub]);return"GeometryCollection"===ub.type?{type:"FeatureCollection",features:ub.geometries.map(function(Kb){return Gb(Ua,Kb)})}:Gb(Ua,ub)};v.merge=function(Ua){return ac(Ua,Bb.apply(this,arguments))};v.mergeArcs=Bb;v.mesh=function(Ua){return ac(Ua,Ac.apply(this,arguments))};v.meshArcs=
Ac;v.neighbors=function(Ua){function ub(xb,sb){xb.forEach(function(Qb){0>Qb&&(Qb=~Qb);var Wb=Cb[Qb];Wb?Wb.push(sb):Cb[Qb]=[sb]})}function Kb(xb,sb){xb.forEach(function(Qb){ub(Qb,sb)})}function Lb(xb,sb){if("GeometryCollection"===xb.type)xb.geometries.forEach(function(Qb){Lb(Qb,sb)});else if(xb.type in ab)ab[xb.type](xb.arcs,sb)}var Cb={},Pb=Ua.map(function(){return[]}),ab={LineString:ub,MultiLineString:Kb,Polygon:Kb,MultiPolygon:function(xb,sb){xb.forEach(function(Qb){Kb(Qb,sb)})}};Ua.forEach(Lb);
for(var pb in Cb){Ua=Cb[pb];for(var Qa=Ua.length,Da=0;Da<Qa;++Da)for(var Ka=Da+1;Ka<Qa;++Ka){var lb=Ua[Da],mb=Ua[Ka],Pa;(Pa=Pb[lb])[pb=jc(Pa,mb)]!==mb&&Pa.splice(pb,0,mb);(Pa=Pb[mb])[pb=jc(Pa,lb)]!==lb&&Pa.splice(pb,0,lb)}}return Pb};v.quantize=function(Ua,ub){function Kb(lb){return Da(lb)}function Lb(lb){switch(lb.type){case "GeometryCollection":var mb={type:"GeometryCollection",geometries:lb.geometries.map(Lb)};break;case "Point":mb={type:"Point",coordinates:Da(lb.coordinates)};break;case "MultiPoint":mb=
{type:"MultiPoint",coordinates:lb.coordinates.map(Kb)};break;default:return lb}null!=lb.id&&(mb.id=lb.id);null!=lb.bbox&&(mb.bbox=lb.bbox);null!=lb.properties&&(mb.properties=lb.properties);return mb}if(Ua.transform)throw Error("already quantized");if(ub&&ub.scale)var Cb=Ua.bbox;else{if(!(2<=(Qa=Math.floor(ub))))throw Error("n must be 2");Cb=Ua.bbox||ib(Ua);ub=Cb[0];var Pb=Cb[1],ab=Cb[2],pb=Cb[3],Qa;ub={scale:[ab-ub?(ab-ub)/(Qa-1):1,pb-Pb?(pb-Pb)/(Qa-1):1],translate:[ub,Pb]}}var Da=Yb(ub),Ka;Pb=
Ua.objects;ab={};for(Ka in Pb)ab[Ka]=Lb(Pb[Ka]);return{type:"Topology",bbox:Cb,transform:ub,objects:ab,arcs:Ua.arcs.map(function(lb){var mb=0,Pa=1,xb=lb.length,sb,Qb=Array(xb);for(Qb[0]=Da(lb[0],0);++mb<xb;)if((sb=Da(lb[mb],mb))[0]||sb[1])Qb[Pa++]=sb;1===Pa&&(Qb[Pa++]=[0,0]);Qb.length=Pa;return Qb})}};v.transform=P;v.untransform=Yb;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[23]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(21)):"function"===typeof define&&define.amd?define(["exports","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega))})(this,function(v,k){function P(X){const Ca=k.array(X).slice(),Ya={};Ca.length||k.error("Missing time unit.");Ca.forEach(Ib=>{k.hasOwnProperty(Pa,Ib)?Ya[Ib]=1:k.error(`Invalid time unit: ${Ib}.`)});1<(Ya.week||Ya.day?1:0)+(Ya.quarter||Ya.month||
Ya.date?1:0)+(Ya.dayofyear?1:0)&&k.error(`Incompatible time units: ${X}`);Ca.sort((Ib,yc)=>Pa[Ib]-Pa[yc]);return Ca}function ib(X,Ca,Ya,Ib){function yc(sc){return X(sc=0===arguments.length?new Date:new Date(+sc)),sc}yc.floor=sc=>(X(sc=new Date(+sc)),sc);yc.ceil=sc=>(X(sc=new Date(sc-1)),Ca(sc,1),X(sc),sc);yc.round=sc=>{const xc=yc(sc),cd=yc.ceil(sc);return sc-xc<cd-sc?xc:cd};yc.offset=(sc,xc)=>(Ca(sc=new Date(+sc),null==xc?1:Math.floor(xc)),sc);yc.range=(sc,xc,cd)=>{const Zb=[];sc=yc.ceil(sc);cd=
null==cd?1:Math.floor(cd);if(!(sc<xc&&0<cd))return Zb;let Rc;do Zb.push(Rc=new Date(+sc)),Ca(sc,cd),X(sc);while(Rc<sc&&sc<xc);return Zb};yc.filter=sc=>ib(xc=>{if(xc>=xc)for(;X(xc),!sc(xc);)xc.setTime(xc-1)},(xc,cd)=>{if(xc>=xc)if(0>cd)for(;0>=++cd;)for(;Ca(xc,-1),!sc(xc););else for(;0<=--cd;)for(;Ca(xc,1),!sc(xc););});Ya&&(yc.count=(sc,xc)=>{sb.setTime(+sc);Qb.setTime(+xc);X(sb);X(Qb);return Math.floor(Ya(sb,Qb))},yc.every=sc=>{sc=Math.floor(sc);return isFinite(sc)&&0<sc?1<sc?yc.filter(Ib?xc=>0===
Ib(xc)%sc:xc=>0===yc.count(0,xc)%sc):yc:null});return yc}function Gb(X){return ib(Ca=>{Ca.setDate(Ca.getDate()-(Ca.getDay()+7-X)%7);Ca.setHours(0,0,0,0)},(Ca,Ya)=>{Ca.setDate(Ca.getDate()+7*Ya)},(Ca,Ya)=>(Ya-Ca-6E4*(Ya.getTimezoneOffset()-Ca.getTimezoneOffset()))/6048E5)}function ac(X){return ib(Ca=>{Ca.setUTCDate(Ca.getUTCDate()-(Ca.getUTCDay()+7-X)%7);Ca.setUTCHours(0,0,0,0)},(Ca,Ya)=>{Ca.setUTCDate(Ca.getUTCDate()+7*Ya)},(Ca,Ya)=>(Ya-Ca)/6048E5)}function vc(X,Ca){return null==X||null==Ca?NaN:X<
Ca?-1:X>Ca?1:X>=Ca?0:NaN}function Ac(X,Ca){return null==X||null==Ca?NaN:Ca<X?-1:Ca>X?1:Ca>=X?0:NaN}function uc(X){function Ca(sc,xc,cd=0,Zb=sc.length){if(cd<Zb){if(0!==Ya(xc,xc))return Zb;do{const Rc=cd+Zb>>>1;0>Ib(sc[Rc],xc)?cd=Rc+1:Zb=Rc}while(cd<Zb)}return cd}let Ya,Ib,yc;2!==X.length?(Ya=vc,Ib=(sc,xc)=>vc(X(sc),xc),yc=(sc,xc)=>X(sc)-xc):(Ya=X===vc||X===Ac?X:Bb,yc=Ib=X);return{left:Ca,center:function(sc,xc,cd=0,Zb=sc.length){Zb=Ca(sc,xc,cd,Zb-1);return Zb>cd&&yc(sc[Zb-1],xc)>-yc(sc[Zb],xc)?Zb-
1:Zb},right:function(sc,xc,cd=0,Zb=sc.length){if(cd<Zb){if(0!==Ya(xc,xc))return Zb;do{const Rc=cd+Zb>>>1;0>=Ib(sc[Rc],xc)?cd=Rc+1:Zb=Rc}while(cd<Zb)}return cd}}}function Bb(){return 0}function jc(X,Ca,Ya){var Ib=(Ca-X)/Math.max(0,Ya),yc=Math.floor(Math.log10(Ib));Ib/=Math.pow(10,yc);Ib=Ib>=B?10:Ib>=A?5:Ib>=E?2:1;let sc;0>yc?(sc=Math.pow(10,-yc)/Ib,yc=Math.round(X*sc),Ib=Math.round(Ca*sc),yc/sc<X&&++yc,Ib/sc>Ca&&--Ib,sc=-sc):(sc=Math.pow(10,yc)*Ib,yc=Math.round(X/sc),Ib=Math.round(Ca/sc),yc*sc<X&&
++yc,Ib*sc>Ca&&--Ib);return Ib<yc&&.5<=Ya&&2>Ya?jc(X,Ca,2*Ya):[yc,Ib,sc]}function Yb(X,Ca,Ya){return jc(+X,+Ca,+Ya)[2]}function Ua(X,Ca,Ya){Ca=+Ca;X=+X;Ya=+Ya;const Ib=Ca<X;X=Ib?Yb(Ca,X,Ya):Yb(X,Ca,Ya);return(Ib?-1:1)*(0>X?1/-X:X)}function ub(X){H.setFullYear(X);H.setMonth(0);H.setDate(1);H.setHours(0,0,0,0);return H}function Kb(X){return db.count(ub(X.getFullYear())-1,X)}function Lb(X){return q.count(ub(X.getFullYear())-1,X)}function Cb(X,Ca,Ya,Ib,yc,sc,xc){return 0<=X&&100>X?(Ca=new Date(-1,Ca,
Ya,Ib,yc,sc,xc),Ca.setFullYear(X),Ca):new Date(X,Ca,Ya,Ib,yc,sc,xc)}function Pb(X){const Ca=Date.UTC(X.getUTCFullYear(),0,1);return ba.count(Ca-1,X)}function ab(X){const Ca=Date.UTC(X.getUTCFullYear(),0,1);return C.count(Ca-1,X)}function pb(X){H.setTime(Date.UTC(X,0,1));return H.getUTCDay()}function Qa(X,Ca,Ya,Ib,yc,sc,xc){return 0<=X&&100>X?(X=new Date(Date.UTC(-1,Ca,Ya,Ib,yc,sc,xc)),X.setUTCFullYear(Ya.y),X):new Date(Date.UTC(X,Ca,Ya,Ib,yc,sc,xc))}function Da(X,Ca,Ya,Ib,yc){const sc=Ca||1,xc=k.peek(X);
Ca=(gc,cc,Ic)=>{Ic=Ic||gc;return Ka(Ya[Ic],Ib[Ic],gc===xc&&sc,cc)};const cd=new Date;X=k.toSet(X);const Zb=X.year?Ca("year"):k.constant(2012),Rc=X.month?Ca("month"):X.quarter?Ca("quarter"):k.zero,Pd=X.week&&X.day?Ca("day",1,"weekday"):X.week?Ca("week",1):X.day?Ca("day",1):X.date?Ca("date",1):X.dayofyear?Ca("dayofyear",1):k.one,Ma=X.hours?Ca("hours"):k.zero,Vb=X.minutes?Ca("minutes"):k.zero,qb=X.seconds?Ca("seconds"):k.zero,Tb=X.milliseconds?Ca("milliseconds"):k.zero;return function(gc){cd.setTime(+gc);
gc=Zb(cd);return yc(gc,Rc(cd),Pd(cd,gc),Ma(cd),Vb(cd),qb(cd),Tb(cd))}}function Ka(X,Ca,Ya,Ib){const yc=1>=Ya?X:Ib?(sc,xc)=>Ib+Ya*Math.floor((X(sc,xc)-Ib)/Ya):(sc,xc)=>Ya*Math.floor(X(sc,xc)/Ya);return Ca?(sc,xc)=>Ca(yc(sc,xc),xc):yc}function lb(X,Ca,Ya){return Ca+7*X-(Ya+6)%7}const mb="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),Pa=mb.reduce((X,Ca,Ya)=>(X[Ca]=1+Ya,X),{}),xb={year:"%Y ",quarter:"Q%q ",month:"%b ",date:"%d ",week:"W%U ",day:"%a ",dayofyear:"%j ",
hours:"%H:00",minutes:"00:%M",seconds:":%S",milliseconds:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"},sb=new Date,Qb=new Date,Wb=ib(()=>{},(X,Ca)=>{X.setTime(+X+Ca)},(X,Ca)=>Ca-X);Wb.every=X=>{X=Math.floor(X);return isFinite(X)&&0<X?1<X?ib(Ca=>{Ca.setTime(Math.floor(Ca/X)*X)},(Ca,Ya)=>{Ca.setTime(+Ca+Ya*X)},(Ca,Ya)=>(Ya-Ca)/X):Wb:null};Wb.range;var ob=ib(X=>{X.setTime(X-X.getMilliseconds())},(X,Ca)=>{X.setTime(+X+1E3*Ca)},(X,Ca)=>(Ca-X)/1E3,X=>X.getUTCSeconds());
ob.range;var pa=ib(X=>{X.setTime(X-X.getMilliseconds()-1E3*X.getSeconds())},(X,Ca)=>{X.setTime(+X+6E4*Ca)},(X,Ca)=>(Ca-X)/6E4,X=>X.getMinutes());pa.range;var Z=ib(X=>{X.setUTCSeconds(0,0)},(X,Ca)=>{X.setTime(+X+6E4*Ca)},(X,Ca)=>(Ca-X)/6E4,X=>X.getUTCMinutes());Z.range;var Fa=ib(X=>{X.setTime(X-X.getMilliseconds()-1E3*X.getSeconds()-6E4*X.getMinutes())},(X,Ca)=>{X.setTime(+X+36E5*Ca)},(X,Ca)=>(Ca-X)/36E5,X=>X.getHours());Fa.range;var Ga=ib(X=>{X.setUTCMinutes(0,0,0)},(X,Ca)=>{X.setTime(+X+36E5*Ca)},
(X,Ca)=>(Ca-X)/36E5,X=>X.getUTCHours());Ga.range;const db=ib(X=>X.setHours(0,0,0,0),(X,Ca)=>X.setDate(X.getDate()+Ca),(X,Ca)=>(Ca-X-6E4*(Ca.getTimezoneOffset()-X.getTimezoneOffset()))/864E5,X=>X.getDate()-1);db.range;const ba=ib(X=>{X.setUTCHours(0,0,0,0)},(X,Ca)=>{X.setUTCDate(X.getUTCDate()+Ca)},(X,Ca)=>(Ca-X)/864E5,X=>X.getUTCDate()-1);ba.range;var na=ib(X=>{X.setUTCHours(0,0,0,0)},(X,Ca)=>{X.setUTCDate(X.getUTCDate()+Ca)},(X,Ca)=>(Ca-X)/864E5,X=>Math.floor(X/864E5));na.range;const q=Gb(0);na=
Gb(1);var M=Gb(2),Q=Gb(3),g=Gb(4),u=Gb(5),m=Gb(6);q.range;na.range;M.range;Q.range;g.range;u.range;m.range;const C=ac(0);na=ac(1);M=ac(2);Q=ac(3);g=ac(4);u=ac(5);m=ac(6);C.range;na.range;M.range;Q.range;g.range;u.range;m.range;na=ib(X=>{X.setDate(1);X.setHours(0,0,0,0)},(X,Ca)=>{X.setMonth(X.getMonth()+Ca)},(X,Ca)=>Ca.getMonth()-X.getMonth()+12*(Ca.getFullYear()-X.getFullYear()),X=>X.getMonth());na.range;M=ib(X=>{X.setUTCDate(1);X.setUTCHours(0,0,0,0)},(X,Ca)=>{X.setUTCMonth(X.getUTCMonth()+Ca)},
(X,Ca)=>Ca.getUTCMonth()-X.getUTCMonth()+12*(Ca.getUTCFullYear()-X.getUTCFullYear()),X=>X.getUTCMonth());M.range;Q=ib(X=>{X.setMonth(0,1);X.setHours(0,0,0,0)},(X,Ca)=>{X.setFullYear(X.getFullYear()+Ca)},(X,Ca)=>Ca.getFullYear()-X.getFullYear(),X=>X.getFullYear());Q.every=X=>isFinite(X=Math.floor(X))&&0<X?ib(Ca=>{Ca.setFullYear(Math.floor(Ca.getFullYear()/X)*X);Ca.setMonth(0,1);Ca.setHours(0,0,0,0)},(Ca,Ya)=>{Ca.setFullYear(Ca.getFullYear()+Ya*X)}):null;Q.range;g=ib(X=>{X.setUTCMonth(0,1);X.setUTCHours(0,
0,0,0)},(X,Ca)=>{X.setUTCFullYear(X.getUTCFullYear()+Ca)},(X,Ca)=>Ca.getUTCFullYear()-X.getUTCFullYear(),X=>X.getUTCFullYear());g.every=X=>isFinite(X=Math.floor(X))&&0<X?ib(Ca=>{Ca.setUTCFullYear(Math.floor(Ca.getUTCFullYear()/X)*X);Ca.setUTCMonth(0,1);Ca.setUTCHours(0,0,0,0)},(Ca,Ya)=>{Ca.setUTCFullYear(Ca.getUTCFullYear()+Ya*X)}):null;g.range;const B=Math.sqrt(50),A=Math.sqrt(10),E=Math.sqrt(2),H=new Date,V={year:X=>X.getFullYear(),quarter:X=>Math.floor(X.getMonth()/3),month:X=>X.getMonth(),date:X=>
X.getDate(),hours:X=>X.getHours(),minutes:X=>X.getMinutes(),seconds:X=>X.getSeconds(),milliseconds:X=>X.getMilliseconds(),dayofyear:X=>Kb(X),week:X=>Lb(X),weekday:(X,Ca)=>lb(Lb(X),X.getDay(),ub(Ca).getDay()),day:(X,Ca)=>lb(1,X.getDay(),ub(Ca).getDay())},Aa={quarter:X=>3*X,week:(X,Ca)=>lb(X,0,ub(Ca).getDay())},Y={year:X=>X.getUTCFullYear(),quarter:X=>Math.floor(X.getUTCMonth()/3),month:X=>X.getUTCMonth(),date:X=>X.getUTCDate(),hours:X=>X.getUTCHours(),minutes:X=>X.getUTCMinutes(),seconds:X=>X.getUTCSeconds(),
milliseconds:X=>X.getUTCMilliseconds(),dayofyear:X=>Pb(X),week:X=>ab(X),day:(X,Ca)=>lb(1,X.getUTCDay(),pb(Ca)),weekday:(X,Ca)=>lb(ab(X),X.getUTCDay(),pb(Ca))},t={quarter:X=>3*X,week:(X,Ca)=>lb(X,0,pb(Ca))},L={year:Q,quarter:na.every(3),month:na,week:q,date:db,day:db,dayofyear:db,hours:Fa,minutes:pa,seconds:ob,milliseconds:Wb},va={year:g,quarter:M.every(3),month:M,week:C,date:ba,day:ba,dayofyear:ba,hours:Ga,minutes:Z,seconds:ob,milliseconds:Wb},La="year month date hours minutes seconds milliseconds".split(" ");
ob=La.slice(0,-1);pa=ob.slice(0,-1);Z=pa.slice(0,-1);Fa=Z.slice(0,-1);Ga=["year","month"];const Wa=["year"],$a=[[ob,1,1E3],[ob,5,5E3],[ob,15,15E3],[ob,30,3E4],[pa,1,6E4],[pa,5,3E5],[pa,15,9E5],[pa,30,18E5],[Z,1,36E5],[Z,3,108E5],[Z,6,216E5],[Z,12,432E5],[Fa,1,864E5],[["year","week"],1,6048E5],[Ga,1,2592E6],[Ga,3,7776E6],[Wa,1,31536E6]];v.DATE="date";v.DAY="day";v.DAYOFYEAR="dayofyear";v.HOURS="hours";v.MILLISECONDS="milliseconds";v.MINUTES="minutes";v.MONTH="month";v.QUARTER="quarter";v.SECONDS="seconds";
v.TIME_UNITS=mb;v.WEEK="week";v.YEAR="year";v.dayofyear=function(X){return Kb(new Date(X))};v.timeBin=function(X){var Ca=X.extent;X=X.maxbins||40;var Ya=Math.abs(k.span(Ca))/X;let Ib=uc(yc=>yc[2]).right($a,Ya);Ib===$a.length?(Ya=Wa,Ca=Ua(Ca[0]/31536E6,Ca[1]/31536E6,X)):Ib?(Ib=$a[Ya/$a[Ib-1][2]<$a[Ib][2]/Ya?Ib-1:Ib],Ya=Ib[0],Ca=Ib[1]):(Ya=La,Ca=Math.max(Ua(Ca[0],Ca[1],X),1));return{units:Ya,step:Ca}};v.timeFloor=function(X,Ca){return Da(X,Ca||1,V,Aa,Cb)};v.timeInterval=function(X){return L[X]};v.timeOffset=
function(X,Ca,Ya){return(X=L[X])?X.offset(Ca,Ya):void 0};v.timeSequence=function(X,Ca,Ya,Ib){return(X=L[X])?X.range(Ca,Ya,Ib):void 0};v.timeUnitSpecifier=function(X,Ca){Ca=k.extend({},xb,Ca);X=P(X);const Ya=X.length;let Ib="",yc,sc,xc;for(yc=0;yc<Ya;)for(sc=X.length;sc>yc;--sc)if(xc=X.slice(yc,sc).join("-"),null!=Ca[xc]){Ib+=Ca[xc];yc=sc;break}return Ib.trim()};v.timeUnits=P;v.utcFloor=function(X,Ca){return Da(X,Ca||1,Y,t,Qa)};v.utcInterval=function(X){return va[X]};v.utcOffset=function(X,Ca,Ya){return(X=
va[X])?X.offset(Ca,Ya):void 0};v.utcSequence=function(X,Ca,Ya,Ib){return(X=va[X])?X.range(Ca,Ya,Ib):void 0};v.utcdayofyear=function(X){return Pb(new Date(X))};v.utcweek=function(X){return ab(new Date(X))};v.week=function(X){return Lb(new Date(X))}})};
shadow$provide[24]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(23),Db(21)):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega))})(this,function(v,k,P){function ib(Sa){const eb={};return oc=>eb[oc]||(eb[oc]=Sa(oc))}function Gb(Sa,eb,oc){var xd=(eb-Sa)/Math.max(0,oc),Lc=Math.floor(Math.log10(xd));xd/=Math.pow(10,Lc);xd=xd>=de?10:xd>=Ud?5:xd>=
Ve?2:1;let Uc;0>Lc?(Uc=Math.pow(10,-Lc)/xd,Lc=Math.round(Sa*Uc),xd=Math.round(eb*Uc),Lc/Uc<Sa&&++Lc,xd/Uc>eb&&--xd,Uc=-Uc):(Uc=Math.pow(10,Lc)*xd,Lc=Math.round(Sa/Uc),xd=Math.round(eb/Uc),Lc*Uc<Sa&&++Lc,xd*Uc>eb&&--xd);return xd<Lc&&.5<=oc&&2>oc?Gb(Sa,eb,2*oc):[Lc,xd,Uc]}function ac(Sa,eb,oc){return Gb(+Sa,+eb,+oc)[2]}function vc(Sa,eb){if(0>(eb=(Sa=eb?Sa.toExponential(eb-1):Sa.toExponential()).indexOf("e")))return null;var oc=Sa.slice(0,eb);return[1<oc.length?oc[0]+oc.slice(2):oc,+Sa.slice(eb+1)]}
function Ac(Sa){return Sa=vc(Math.abs(Sa)),Sa?Sa[1]:NaN}function uc(Sa,eb){return function(oc,xd){for(var Lc=oc.length,Uc=[],Qc=0,td=Sa[0],jd=0;0<Lc&&0<td;){jd+td+1>xd&&(td=Math.max(1,xd-jd));Uc.push(oc.substring(Lc-=td,Lc+td));if((jd+=td+1)>xd)break;td=Sa[Qc=(Qc+1)%Sa.length]}return Uc.reverse().join(eb)}}function Bb(Sa){return function(eb){return eb.replace(/[0-9]/g,function(oc){return Sa[+oc]})}}function jc(Sa){if(!(eb=Xd.exec(Sa)))throw Error("invalid format: "+Sa);var eb;return new Yb({fill:eb[1],
align:eb[2],sign:eb[3],symbol:eb[4],zero:eb[5],width:eb[6],comma:eb[7],precision:eb[8]&&eb[8].slice(1),trim:eb[9],type:eb[10]})}function Yb(Sa){this.fill=void 0===Sa.fill?" ":Sa.fill+"";this.align=void 0===Sa.align?"\x3e":Sa.align+"";this.sign=void 0===Sa.sign?"-":Sa.sign+"";this.symbol=void 0===Sa.symbol?"":Sa.symbol+"";this.zero=!!Sa.zero;this.width=void 0===Sa.width?void 0:+Sa.width;this.comma=!!Sa.comma;this.precision=void 0===Sa.precision?void 0:+Sa.precision;this.trim=!!Sa.trim;this.type=void 0===
Sa.type?"":Sa.type+""}function Ua(Sa,eb){eb=vc(Sa,eb);if(!eb)return Sa+"";Sa=eb[0];eb=eb[1];return 0>eb?"0."+Array(-eb).join("0")+Sa:Sa.length>eb+1?Sa.slice(0,eb+1)+"."+Sa.slice(eb+1):Sa+Array(eb-Sa.length+2).join("0")}function ub(Sa){return Sa}function Kb(Sa){function eb(Cd){function be(I){var ka=ce,ta=le,Ja,jb;if("c"===Vd)ta=O(I)+ta,I="";else{I=+I;var vb=0>I||0>1/I;I=isNaN(I)?Od:O(Math.abs(I),Fc);if(Id){var pc=I.length,qc=1,rc=-1;a:for(;qc<pc;++qc)switch(I[qc]){case ".":rc=Ja=qc;break;case "0":0===
rc&&(rc=qc);Ja=qc;break;default:if(!+I[qc])break a;0<rc&&(rc=0)}I=0<rc?I.slice(0,rc)+I.slice(Ja+1):I}vb&&0===+I&&"+"!==Ye&&(vb=!1);ka=(vb?"("===Ye?Ye:jd:"-"===Ye||"("===Ye?"":Ye)+ka;ta=("s"===Vd?fb[8+N/3]:"")+ta+(vb&&"("===Ye?")":"");if(ea)for(vb=-1,Ja=I.length;++vb<Ja;)if(jb=I.charCodeAt(vb),48>jb||57<jb){ta=(46===jb?Uc+I.slice(vb+1):I.slice(vb))+ta;I=I.slice(0,vb);break}}kd&&!od&&(I=oc(I,Infinity));jb=ka.length+I.length+ta.length;vb=jb<Ec?Array(Ec-jb+1).join(ye):"";kd&&od&&(I=oc(vb+I,vb.length?
Ec-ta.length:Infinity),vb="");switch(Le){case "\x3c":I=ka+I+ta+vb;break;case "\x3d":I=ka+vb+I+ta;break;case "^":I=vb.slice(0,jb=vb.length>>1)+ka+I+ta+vb.slice(jb);break;default:I=vb+ka+I+ta}return Qc(I)}Cd=jc(Cd);var ye=Cd.fill,Le=Cd.align,Ye=Cd.sign,ef=Cd.symbol,od=Cd.zero,Ec=Cd.width,kd=Cd.comma,Fc=Cd.precision,Id=Cd.trim,Vd=Cd.type;"n"===Vd?(kd=!0,Vd="g"):la[Vd]||(void 0===Fc&&(Fc=12),Id=!0,Vd="g");if(od||"0"===ye&&"\x3d"===Le)od=!0,ye="0",Le="\x3d";var ce="$"===ef?xd:"#"===ef&&/[boxX]/.test(Vd)?
"0"+Vd.toLowerCase():"",le="$"===ef?Lc:/[%p]/.test(Vd)?td:"",O=la[Vd],ea=/[defgprs%]/.test(Vd);Fc=void 0===Fc?6:/[gprs]/.test(Vd)?Math.max(1,Math.min(21,Fc)):Math.max(0,Math.min(20,Fc));be.toString=function(){return Cd+""};return be}var oc=void 0===Sa.grouping||void 0===Sa.thousands?ub:uc(za.call(Sa.grouping,Number),Sa.thousands+""),xd=void 0===Sa.currency?"":Sa.currency[0]+"",Lc=void 0===Sa.currency?"":Sa.currency[1]+"",Uc=void 0===Sa.decimal?".":Sa.decimal+"",Qc=void 0===Sa.numerals?ub:Bb(za.call(Sa.numerals,
String)),td=void 0===Sa.percent?"%":Sa.percent+"",jd=void 0===Sa.minus?"":Sa.minus+"",Od=void 0===Sa.nan?"NaN":Sa.nan+"";return{format:eb,formatPrefix:function(Cd,be){var ye=eb((Cd=jc(Cd),Cd.type="f",Cd));Cd=3*Math.max(-8,Math.min(8,Math.floor(Ac(be)/3)));var Le=Math.pow(10,-Cd),Ye=fb[8+Cd/3];return function(ef){return ye(Le*ef)+Ye}}}}function Lb(Sa,eb){return oc=>{oc=Sa(oc);const xd=oc.indexOf(eb);if(0>xd)return oc;a:{var Lc=oc.lastIndexOf("e");if(!(0<Lc)){for(Lc=oc.length;--Lc>xd;){var Uc=oc.charCodeAt(Lc);
if(48<=Uc&&57>=Uc){Lc+=1;break a}}Lc=void 0}}for(Uc=Lc<oc.length?oc.slice(Lc):"";--Lc>xd;)if("0"!==oc[Lc]){++Lc;break}return oc.slice(0,Lc)+Uc}}function Cb(Sa){const eb=ib(Sa.format),oc=Sa.formatPrefix;return{format:eb,formatPrefix:oc,formatFloat(xd){xd=jc(xd||",");if(null==xd.precision){xd.precision=12;switch(xd.type){case "%":xd.precision-=2;break;case "e":--xd.precision}return Lb(eb(xd),eb(".1f")(1)[1])}return eb(xd)},formatSpan(xd,Lc,Uc,Qc){Qc=jc(null==Qc?",f":Qc);var td=+Lc;var jd=+xd;var Od=
+Uc;jd=(Uc=td<jd)?ac(td,jd,Od):ac(jd,td,Od);jd=(Uc?-1:1)*(0>jd?1/-jd:jd);xd=Math.max(Math.abs(xd),Math.abs(Lc));if(null==Qc.precision)switch(Qc.type){case "s":return Lc=isNaN,jd=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ac(xd)/3)))-Ac(Math.abs(jd))),Lc(Lc=jd)||(Qc.precision=Lc),oc(Qc,xd);case "":case "e":case "g":case "p":case "r":Lc=isNaN;jd=Math.abs(jd);xd=Math.abs(xd)-jd;xd=Math.max(0,Ac(xd)-Ac(jd))+1;Lc(Lc=xd)||(Qc.precision=Lc-("e"===Qc.type));break;case "f":case "%":isNaN(Lc=Math.max(0,
-Ac(Math.abs(jd))))||(Qc.precision=Lc-2*("%"===Qc.type))}return eb(Qc)}}}function Pb(){return lc=Cb({format:Xb,formatPrefix:Bc})}function ab(Sa){return Cb(Kb(Sa))}function pb(Sa){return arguments.length?lc=ab(Sa):lc}function Qa(Sa,eb,oc,xd){function Lc(Uc){return Sa(Uc=0===arguments.length?new Date:new Date(+Uc)),Uc}Lc.floor=Uc=>(Sa(Uc=new Date(+Uc)),Uc);Lc.ceil=Uc=>(Sa(Uc=new Date(Uc-1)),eb(Uc,1),Sa(Uc),Uc);Lc.round=Uc=>{const Qc=Lc(Uc),td=Lc.ceil(Uc);return Uc-Qc<td-Uc?Qc:td};Lc.offset=(Uc,Qc)=>
(eb(Uc=new Date(+Uc),null==Qc?1:Math.floor(Qc)),Uc);Lc.range=(Uc,Qc,td)=>{const jd=[];Uc=Lc.ceil(Uc);td=null==td?1:Math.floor(td);if(!(Uc<Qc&&0<td))return jd;let Od;do jd.push(Od=new Date(+Uc)),eb(Uc,td),Sa(Uc);while(Od<Uc&&Uc<Qc);return jd};Lc.filter=Uc=>Qa(Qc=>{if(Qc>=Qc)for(;Sa(Qc),!Uc(Qc);)Qc.setTime(Qc-1)},(Qc,td)=>{if(Qc>=Qc)if(0>td)for(;0>=++td;)for(;eb(Qc,-1),!Uc(Qc););else for(;0<=--td;)for(;eb(Qc,1),!Uc(Qc););});oc&&(Lc.count=(Uc,Qc)=>{Gc.setTime(+Uc);id.setTime(+Qc);Sa(Gc);Sa(id);return Math.floor(oc(Gc,
id))},Lc.every=Uc=>{Uc=Math.floor(Uc);return isFinite(Uc)&&0<Uc?1<Uc?Lc.filter(xd?Qc=>0===xd(Qc)%Uc:Qc=>0===Lc.count(0,Qc)%Uc):Lc:null});return Lc}function Da(Sa){return Qa(eb=>{eb.setDate(eb.getDate()-(eb.getDay()+7-Sa)%7);eb.setHours(0,0,0,0)},(eb,oc)=>{eb.setDate(eb.getDate()+7*oc)},(eb,oc)=>(oc-eb-6E4*(oc.getTimezoneOffset()-eb.getTimezoneOffset()))/6048E5)}function Ka(Sa){return Qa(eb=>{eb.setUTCDate(eb.getUTCDate()-(eb.getUTCDay()+7-Sa)%7);eb.setUTCHours(0,0,0,0)},(eb,oc)=>{eb.setUTCDate(eb.getUTCDate()+
7*oc)},(eb,oc)=>(oc-eb)/6048E5)}function lb(Sa){if(0<=Sa.y&&100>Sa.y){var eb=new Date(-1,Sa.m,Sa.d,Sa.H,Sa.M,Sa.S,Sa.L);eb.setFullYear(Sa.y);return eb}return new Date(Sa.y,Sa.m,Sa.d,Sa.H,Sa.M,Sa.S,Sa.L)}function mb(Sa){if(0<=Sa.y&&100>Sa.y){var eb=new Date(Date.UTC(-1,Sa.m,Sa.d,Sa.H,Sa.M,Sa.S,Sa.L));eb.setUTCFullYear(Sa.y);return eb}return new Date(Date.UTC(Sa.y,Sa.m,Sa.d,Sa.H,Sa.M,Sa.S,Sa.L))}function Pa(Sa,eb,oc){return{y:Sa,m:eb,d:oc,H:0,M:0,S:0,L:0}}function xb(Sa){function eb(ea,I){return function(ka){var ta=
[],Ja=-1,jb=0,vb=ea.length,pc,qc;for(ka instanceof Date||(ka=new Date(+ka));++Ja<vb;)if(37===ea.charCodeAt(Ja)){ta.push(ea.slice(jb,Ja));null!=(jb=$b[pc=ea.charAt(++Ja)])?pc=ea.charAt(++Ja):jb="e"===pc?" ":"0";if(qc=I[pc])pc=qc(ka,jb);ta.push(pc);jb=Ja+1}ta.push(ea.slice(jb,Ja));return ta.join("")}}function oc(ea,I){return function(ka){var ta=Pa(1900,void 0,1);if(xd(ta,ea,ka+="",0)!=ka.length)return null;if("Q"in ta)return new Date(ta.Q);if("s"in ta)return new Date(1E3*ta.s+("L"in ta?ta.L:0));!I||
"Z"in ta||(ta.Z=0);"p"in ta&&(ta.H=ta.H%12+12*ta.p);void 0===ta.m&&(ta.m="q"in ta?ta.q:0);if("V"in ta){if(1>ta.V||53<ta.V)return null;"w"in ta||(ta.w=1);if("Z"in ta){ka=mb(Pa(ta.y,0,1));var Ja=ka.getUTCDay();ka=4<Ja||0===Ja?re.ceil(ka):re(ka);ka=sd.offset(ka,7*(ta.V-1));ta.y=ka.getUTCFullYear();ta.m=ka.getUTCMonth();ta.d=ka.getUTCDate()+(ta.w+6)%7}else ka=lb(Pa(ta.y,0,1)),Ja=ka.getDay(),ka=4<Ja||0===Ja?$d.ceil(ka):$d(ka),ka=Nc.offset(ka,7*(ta.V-1)),ta.y=ka.getFullYear(),ta.m=ka.getMonth(),ta.d=ka.getDate()+
(ta.w+6)%7}else if("W"in ta||"U"in ta)"w"in ta||(ta.w="u"in ta?ta.u%7:"W"in ta?1:0),Ja="Z"in ta?mb(Pa(ta.y,0,1)).getUTCDay():lb(Pa(ta.y,0,1)).getDay(),ta.m=0,ta.d="W"in ta?(ta.w+6)%7+7*ta.W-(Ja+5)%7:ta.w+7*ta.U-(Ja+6)%7;return"Z"in ta?(ta.H+=ta.Z/100|0,ta.M+=ta.Z%100,mb(ta)):lb(ta)}}function xd(ea,I,ka,ta){for(var Ja=0,jb=I.length,vb=ka.length,pc;Ja<jb;){if(ta>=vb)return-1;pc=I.charCodeAt(Ja++);if(37===pc){if(pc=I.charAt(Ja++),pc=O[pc in $b?I.charAt(Ja++):pc],!pc||0>(ta=pc(ea,ka,ta)))return-1}else if(pc!=
ka.charCodeAt(ta++))return-1}return ta}var Lc=Sa.dateTime,Uc=Sa.date,Qc=Sa.time,td=Sa.periods,jd=Sa.days,Od=Sa.shortDays,Cd=Sa.months,be=Sa.shortMonths,ye=Wb(td),Le=ob(td),Ye=Wb(jd),ef=ob(jd),od=Wb(Od),Ec=ob(Od),kd=Wb(Cd),Fc=ob(Cd),Id=Wb(be),Vd=ob(be),ce={a:function(ea){return Od[ea.getDay()]},A:function(ea){return jd[ea.getDay()]},b:function(ea){return be[ea.getMonth()]},B:function(ea){return Cd[ea.getMonth()]},c:null,d:Y,e:Y,f:Wa,g:Rc,G:Ma,H:t,I:L,j:va,L:La,m:$a,M:X,p:function(ea){return td[+(12<=
ea.getHours())]},q:function(ea){return 1+~~(ea.getMonth()/3)},Q:ic,s:Tc,S:Ca,u:Ya,U:Ib,V:sc,w:xc,W:cd,x:null,X:null,y:Zb,Y:Pd,Z:Vb,"%":ec},le={a:function(ea){return Od[ea.getUTCDay()]},A:function(ea){return jd[ea.getUTCDay()]},b:function(ea){return be[ea.getUTCMonth()]},B:function(ea){return Cd[ea.getUTCMonth()]},c:null,d:qb,e:qb,f:zc,g:Za,G:Fb,H:Tb,I:gc,j:cc,L:Ic,m:Yc,M:Md,p:function(ea){return td[+(12<=ea.getUTCHours())]},q:function(ea){return 1+~~(ea.getUTCMonth()/3)},Q:ic,s:Tc,S:ud,u:Ha,U:gb,
V:sa,w:G,W:ya,x:null,X:null,y:Na,Y:kb,Z:nc,"%":ec},O={a:function(ea,I,ka){return(I=od.exec(I.slice(ka)))?(ea.w=Ec.get(I[0].toLowerCase()),ka+I[0].length):-1},A:function(ea,I,ka){return(I=Ye.exec(I.slice(ka)))?(ea.w=ef.get(I[0].toLowerCase()),ka+I[0].length):-1},b:function(ea,I,ka){return(I=Id.exec(I.slice(ka)))?(ea.m=Vd.get(I[0].toLowerCase()),ka+I[0].length):-1},B:function(ea,I,ka){return(I=kd.exec(I.slice(ka)))?(ea.m=Fc.get(I[0].toLowerCase()),ka+I[0].length):-1},c:function(ea,I,ka){return xd(ea,
Lc,I,ka)},d:g,e:g,f:E,g:na,G:ba,H:m,I:m,j:u,L:A,m:Q,M:C,p:function(ea,I,ka){return(I=ye.exec(I.slice(ka)))?(ea.p=Le.get(I[0].toLowerCase()),ka+I[0].length):-1},q:M,Q:V,s:Aa,S:B,u:Z,U:Fa,V:Ga,w:pa,W:db,x:function(ea,I,ka){return xd(ea,Uc,I,ka)},X:function(ea,I,ka){return xd(ea,Qc,I,ka)},y:na,Y:ba,Z:q,"%":H};ce.x=eb(Uc,ce);ce.X=eb(Qc,ce);ce.c=eb(Lc,ce);le.x=eb(Uc,le);le.X=eb(Qc,le);le.c=eb(Lc,le);return{format:function(ea){var I=eb(ea+="",ce);I.toString=function(){return ea};return I},parse:function(ea){var I=
oc(ea+="",!1);I.toString=function(){return ea};return I},utcFormat:function(ea){var I=eb(ea+="",le);I.toString=function(){return ea};return I},utcParse:function(ea){var I=oc(ea+="",!0);I.toString=function(){return ea};return I}}}function sb(Sa,eb,oc){var xd=0>Sa?"-":"";Sa=(xd?-Sa:Sa)+"";var Lc=Sa.length;return xd+(Lc<oc?Array(oc-Lc+1).join(eb)+Sa:Sa)}function Qb(Sa){return Sa.replace(Ta,"\\$\x26")}function Wb(Sa){return new RegExp("^(?:"+Sa.map(Qb).join("|")+")","i")}function ob(Sa){return new Map(Sa.map((eb,
oc)=>[eb.toLowerCase(),oc]))}function pa(Sa,eb,oc){return(eb=J.exec(eb.slice(oc,oc+1)))?(Sa.w=+eb[0],oc+eb[0].length):-1}function Z(Sa,eb,oc){return(eb=J.exec(eb.slice(oc,oc+1)))?(Sa.u=+eb[0],oc+eb[0].length):-1}function Fa(Sa,eb,oc){return(eb=J.exec(eb.slice(oc,oc+2)))?(Sa.U=+eb[0],oc+eb[0].length):-1}function Ga(Sa,eb,oc){return(eb=J.exec(eb.slice(oc,oc+2)))?(Sa.V=+eb[0],oc+eb[0].length):-1}function db(Sa,eb,oc){return(eb=J.exec(eb.slice(oc,oc+2)))?(Sa.W=+eb[0],oc+eb[0].length):-1}function ba(Sa,
eb,oc){return(eb=J.exec(eb.slice(oc,oc+4)))?(Sa.y=+eb[0],oc+eb[0].length):-1}function na(Sa,eb,oc){return(eb=J.exec(eb.slice(oc,oc+2)))?(Sa.y=+eb[0]+(68<+eb[0]?1900:2E3),oc+eb[0].length):-1}function q(Sa,eb,oc){return(eb=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(eb.slice(oc,oc+6)))?(Sa.Z=eb[1]?0:-(eb[2]+(eb[3]||"00")),oc+eb[0].length):-1}function M(Sa,eb,oc){return(eb=J.exec(eb.slice(oc,oc+1)))?(Sa.q=3*eb[0]-3,oc+eb[0].length):-1}function Q(Sa,eb,oc){return(eb=J.exec(eb.slice(oc,oc+2)))?(Sa.m=eb[0]-1,oc+
eb[0].length):-1}function g(Sa,eb,oc){return(eb=J.exec(eb.slice(oc,oc+2)))?(Sa.d=+eb[0],oc+eb[0].length):-1}function u(Sa,eb,oc){return(eb=J.exec(eb.slice(oc,oc+3)))?(Sa.m=0,Sa.d=+eb[0],oc+eb[0].length):-1}function m(Sa,eb,oc){return(eb=J.exec(eb.slice(oc,oc+2)))?(Sa.H=+eb[0],oc+eb[0].length):-1}function C(Sa,eb,oc){return(eb=J.exec(eb.slice(oc,oc+2)))?(Sa.M=+eb[0],oc+eb[0].length):-1}function B(Sa,eb,oc){return(eb=J.exec(eb.slice(oc,oc+2)))?(Sa.S=+eb[0],oc+eb[0].length):-1}function A(Sa,eb,oc){return(eb=
J.exec(eb.slice(oc,oc+3)))?(Sa.L=+eb[0],oc+eb[0].length):-1}function E(Sa,eb,oc){return(eb=J.exec(eb.slice(oc,oc+6)))?(Sa.L=Math.floor(eb[0]/1E3),oc+eb[0].length):-1}function H(Sa,eb,oc){return(Sa=fa.exec(eb.slice(oc,oc+1)))?oc+Sa[0].length:-1}function V(Sa,eb,oc){return(eb=J.exec(eb.slice(oc)))?(Sa.Q=+eb[0],oc+eb[0].length):-1}function Aa(Sa,eb,oc){return(eb=J.exec(eb.slice(oc)))?(Sa.s=+eb[0],oc+eb[0].length):-1}function Y(Sa,eb){return sb(Sa.getDate(),eb,2)}function t(Sa,eb){return sb(Sa.getHours(),
eb,2)}function L(Sa,eb){return sb(Sa.getHours()%12||12,eb,2)}function va(Sa,eb){return sb(1+Nc.count(fc(Sa),Sa),eb,3)}function La(Sa,eb){return sb(Sa.getMilliseconds(),eb,3)}function Wa(Sa,eb){return La(Sa,eb)+"000"}function $a(Sa,eb){return sb(Sa.getMonth()+1,eb,2)}function X(Sa,eb){return sb(Sa.getMinutes(),eb,2)}function Ca(Sa,eb){return sb(Sa.getSeconds(),eb,2)}function Ya(Sa){Sa=Sa.getDay();return 0===Sa?7:Sa}function Ib(Sa,eb){return sb(Gd.count(fc(Sa)-1,Sa),eb,2)}function yc(Sa){var eb=Sa.getDay();
return 4<=eb||0===eb?Ce(Sa):Ce.ceil(Sa)}function sc(Sa,eb){Sa=yc(Sa);return sb(Ce.count(fc(Sa),Sa)+(4===fc(Sa).getDay()),eb,2)}function xc(Sa){return Sa.getDay()}function cd(Sa,eb){return sb($d.count(fc(Sa)-1,Sa),eb,2)}function Zb(Sa,eb){return sb(Sa.getFullYear()%100,eb,2)}function Rc(Sa,eb){Sa=yc(Sa);return sb(Sa.getFullYear()%100,eb,2)}function Pd(Sa,eb){return sb(Sa.getFullYear()%1E4,eb,4)}function Ma(Sa,eb){var oc=Sa.getDay();Sa=4<=oc||0===oc?Ce(Sa):Ce.ceil(Sa);return sb(Sa.getFullYear()%1E4,
eb,4)}function Vb(Sa){Sa=Sa.getTimezoneOffset();return(0<Sa?"-":(Sa*=-1,"+"))+sb(Sa/60|0,"0",2)+sb(Sa%60,"0",2)}function qb(Sa,eb){return sb(Sa.getUTCDate(),eb,2)}function Tb(Sa,eb){return sb(Sa.getUTCHours(),eb,2)}function gc(Sa,eb){return sb(Sa.getUTCHours()%12||12,eb,2)}function cc(Sa,eb){return sb(1+sd.count(Cc(Sa),Sa),eb,3)}function Ic(Sa,eb){return sb(Sa.getUTCMilliseconds(),eb,3)}function zc(Sa,eb){return Ic(Sa,eb)+"000"}function Yc(Sa,eb){return sb(Sa.getUTCMonth()+1,eb,2)}function Md(Sa,
eb){return sb(Sa.getUTCMinutes(),eb,2)}function ud(Sa,eb){return sb(Sa.getUTCSeconds(),eb,2)}function Ha(Sa){Sa=Sa.getUTCDay();return 0===Sa?7:Sa}function gb(Sa,eb){return sb(df.count(Cc(Sa)-1,Sa),eb,2)}function wb(Sa){var eb=Sa.getUTCDay();return 4<=eb||0===eb?ua(Sa):ua.ceil(Sa)}function sa(Sa,eb){Sa=wb(Sa);return sb(ua.count(Cc(Sa),Sa)+(4===Cc(Sa).getUTCDay()),eb,2)}function G(Sa){return Sa.getUTCDay()}function ya(Sa,eb){return sb(re.count(Cc(Sa)-1,Sa),eb,2)}function Na(Sa,eb){return sb(Sa.getUTCFullYear()%
100,eb,2)}function Za(Sa,eb){Sa=wb(Sa);return sb(Sa.getUTCFullYear()%100,eb,2)}function kb(Sa,eb){return sb(Sa.getUTCFullYear()%1E4,eb,4)}function Fb(Sa,eb){var oc=Sa.getUTCDay();Sa=4<=oc||0===oc?ua(Sa):ua.ceil(Sa);return sb(Sa.getUTCFullYear()%1E4,eb,4)}function nc(){return"+0000"}function ec(){return"%"}function ic(Sa){return+Sa}function Tc(Sa){return Math.floor(+Sa/1E3)}function dd(Sa,eb,oc){oc=oc||{};P.isObject(oc)||P.error(`Invalid time multi-format specifier: ${oc}`);const xd=eb(k.SECONDS),
Lc=eb(k.MINUTES),Uc=eb(k.HOURS),Qc=eb(k.DATE),td=eb(k.WEEK),jd=eb(k.MONTH),Od=eb(k.QUARTER),Cd=eb(k.YEAR),be=Sa(oc[k.MILLISECONDS]||".%L"),ye=Sa(oc[k.SECONDS]||":%S"),Le=Sa(oc[k.MINUTES]||"%I:%M"),Ye=Sa(oc[k.HOURS]||"%I %p"),ef=Sa(oc[k.DATE]||oc[k.DAY]||"%a %d"),od=Sa(oc[k.WEEK]||"%b %d"),Ec=Sa(oc[k.MONTH]||"%B"),kd=Sa(oc[k.QUARTER]||"%B"),Fc=Sa(oc[k.YEAR]||"%Y");return Id=>(xd(Id)<Id?be:Lc(Id)<Id?ye:Uc(Id)<Id?Le:Qc(Id)<Id?Ye:jd(Id)<Id?td(Id)<Id?ef:od:Cd(Id)<Id?Od(Id)<Id?Ec:kd:Fc)(Id)}function ed(Sa){const eb=
ib(Sa.format),oc=ib(Sa.utcFormat);return{timeFormat:xd=>P.isString(xd)?eb(xd):dd(eb,k.timeInterval,xd),utcFormat:xd=>P.isString(xd)?oc(xd):dd(oc,k.utcInterval,xd),timeParse:ib(Sa.parse),utcParse:ib(Sa.utcParse)}}function Qd(){return ee=ed({format:Pc,parse:Dc,utcFormat:Sc,utcParse:gd})}function Td(Sa){return ed(xb(Sa))}function Fd(Sa){return arguments.length?ee=Td(Sa):ee}function Zd(Sa,eb){var oc=arguments.length;oc&&2!==oc&&P.error("defaultLocale expects either zero or two arguments.");if(oc){oc=
pb(Sa);var xd=Fd(eb);oc=P.extend({},oc,xd)}else oc=pb(),xd=Fd(),oc=P.extend({},oc,xd);return oc}const de=Math.sqrt(50),Ud=Math.sqrt(10),Ve=Math.sqrt(2);var Xd=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;jc.prototype=Yb.prototype;Yb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?
"~":"")+this.type};var N,la={"%":(Sa,eb)=>(100*Sa).toFixed(eb),b:Sa=>Math.round(Sa).toString(2),c:Sa=>Sa+"",d:function(Sa){return 1E21<=Math.abs(Sa=Math.round(Sa))?Sa.toLocaleString("en").replace(/,/g,""):Sa.toString(10)},e:(Sa,eb)=>Sa.toExponential(eb),f:(Sa,eb)=>Sa.toFixed(eb),g:(Sa,eb)=>Sa.toPrecision(eb),o:Sa=>Math.round(Sa).toString(8),p:(Sa,eb)=>Ua(100*Sa,eb),r:Ua,s:function(Sa,eb){var oc=vc(Sa,eb);if(!oc)return Sa+"";var xd=oc[0];oc=oc[1];oc=oc-(N=3*Math.max(-8,Math.min(8,Math.floor(oc/3))))+
1;var Lc=xd.length;return oc===Lc?xd:oc>Lc?xd+Array(oc-Lc+1).join("0"):0<oc?xd.slice(0,oc)+"."+xd.slice(oc):"0."+Array(1-oc).join("0")+vc(Sa,Math.max(0,eb+oc-1))[0]},X:Sa=>Math.round(Sa).toString(16).toUpperCase(),x:Sa=>Math.round(Sa).toString(16)},za=Array.prototype.map,fb="y z a f p n  m  k M G T P E Z Y".split(" "),Hb,Xb,Bc;(function(Sa){Hb=Kb(Sa);Xb=Hb.format;Bc=Hb.formatPrefix;return Hb})({thousands:",",grouping:[3],currency:["$",""]});let lc;Pb();const Gc=new Date,id=new Date,Nc=Qa(Sa=>Sa.setHours(0,
0,0,0),(Sa,eb)=>Sa.setDate(Sa.getDate()+eb),(Sa,eb)=>(eb-Sa-6E4*(eb.getTimezoneOffset()-Sa.getTimezoneOffset()))/864E5,Sa=>Sa.getDate()-1);Nc.range;const sd=Qa(Sa=>{Sa.setUTCHours(0,0,0,0)},(Sa,eb)=>{Sa.setUTCDate(Sa.getUTCDate()+eb)},(Sa,eb)=>(eb-Sa)/864E5,Sa=>Sa.getUTCDate()-1);sd.range;const Hd=Qa(Sa=>{Sa.setUTCHours(0,0,0,0)},(Sa,eb)=>{Sa.setUTCDate(Sa.getUTCDate()+eb)},(Sa,eb)=>(eb-Sa)/864E5,Sa=>Math.floor(Sa/864E5));Hd.range;const Gd=Da(0),$d=Da(1),Wd=Da(2),ae=Da(3),Ce=Da(4),kf=Da(5),hf=Da(6);
Gd.range;$d.range;Wd.range;ae.range;Ce.range;kf.range;hf.range;const df=Ka(0),re=Ka(1),tf=Ka(2),U=Ka(3),ua=Ka(4),cb=Ka(5),Ab=Ka(6);df.range;re.range;tf.range;U.range;ua.range;cb.range;Ab.range;const fc=Qa(Sa=>{Sa.setMonth(0,1);Sa.setHours(0,0,0,0)},(Sa,eb)=>{Sa.setFullYear(Sa.getFullYear()+eb)},(Sa,eb)=>eb.getFullYear()-Sa.getFullYear(),Sa=>Sa.getFullYear());fc.every=Sa=>isFinite(Sa=Math.floor(Sa))&&0<Sa?Qa(eb=>{eb.setFullYear(Math.floor(eb.getFullYear()/Sa)*Sa);eb.setMonth(0,1);eb.setHours(0,0,0,
0)},(eb,oc)=>{eb.setFullYear(eb.getFullYear()+oc*Sa)}):null;fc.range;const Cc=Qa(Sa=>{Sa.setUTCMonth(0,1);Sa.setUTCHours(0,0,0,0)},(Sa,eb)=>{Sa.setUTCFullYear(Sa.getUTCFullYear()+eb)},(Sa,eb)=>eb.getUTCFullYear()-Sa.getUTCFullYear(),Sa=>Sa.getUTCFullYear());Cc.every=Sa=>isFinite(Sa=Math.floor(Sa))&&0<Sa?Qa(eb=>{eb.setUTCFullYear(Math.floor(eb.getUTCFullYear()/Sa)*Sa);eb.setUTCMonth(0,1);eb.setUTCHours(0,0,0,0)},(eb,oc)=>{eb.setUTCFullYear(eb.getUTCFullYear()+oc*Sa)}):null;Cc.range;var $b={"-":"",
_:" ",0:"0"},J=/^\s*\d+/,fa=/^%/,Ta=/[\\^$*+?|[\]().{}]/g,bc,Pc,Dc,Sc,gd;(function(Sa){bc=xb(Sa);Pc=bc.format;Dc=bc.parse;Sc=bc.utcFormat;gd=bc.utcParse;return bc})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});
let ee;Qd();v.defaultLocale=Zd;v.locale=function(Sa,eb){Sa=Sa?ab(Sa):pb();eb=eb?Td(eb):Fd();return P.extend({},Sa,eb)};v.numberFormatDefaultLocale=pb;v.numberFormatLocale=ab;v.resetDefaultLocale=function(){Pb();Qd();return Zd()};v.resetNumberFormatDefaultLocale=Pb;v.resetTimeFormatDefaultLocale=Qd;v.timeFormatDefaultLocale=Fd;v.timeFormatLocale=Td})};
shadow$provide[25]=function(dc,Db,Wc,nb){function v(Gb){var ac=Gb.length;if(0<ac%4)throw Error("Invalid string. Length must be a multiple of 4");Gb=Gb.indexOf("\x3d");-1===Gb&&(Gb=ac);return[Gb,Gb===ac?0:4-Gb%4]}nb.byteLength=function(Gb){Gb=v(Gb);var ac=Gb[1];return 3*(Gb[0]+ac)/4-ac};nb.toByteArray=function(Gb){var ac=v(Gb);var vc=ac[0];ac=ac[1];var Ac=new ib(3*(vc+ac)/4-ac),uc=0,Bb=0<ac?vc-4:vc,jc;for(jc=0;jc<Bb;jc+=4)vc=P[Gb.charCodeAt(jc)]<<18|P[Gb.charCodeAt(jc+1)]<<12|P[Gb.charCodeAt(jc+2)]<<
6|P[Gb.charCodeAt(jc+3)],Ac[uc++]=vc>>16&255,Ac[uc++]=vc>>8&255,Ac[uc++]=vc&255;2===ac&&(vc=P[Gb.charCodeAt(jc)]<<2|P[Gb.charCodeAt(jc+1)]>>4,Ac[uc++]=vc&255);1===ac&&(vc=P[Gb.charCodeAt(jc)]<<10|P[Gb.charCodeAt(jc+1)]<<4|P[Gb.charCodeAt(jc+2)]>>2,Ac[uc++]=vc>>8&255,Ac[uc++]=vc&255);return Ac};nb.fromByteArray=function(Gb){for(var ac=Gb.length,vc=ac%3,Ac=[],uc=0,Bb=ac-vc;uc<Bb;uc+=16383){for(var jc=Ac,Yb=jc.push,Ua,ub=Gb,Kb=uc+16383>Bb?Bb:uc+16383,Lb=[],Cb=uc;Cb<Kb;Cb+=3)Ua=(ub[Cb]<<16&16711680)+
(ub[Cb+1]<<8&65280)+(ub[Cb+2]&255),Lb.push(k[Ua>>18&63]+k[Ua>>12&63]+k[Ua>>6&63]+k[Ua&63]);Ua=Lb.join("");Yb.call(jc,Ua)}1===vc?(Gb=Gb[ac-1],Ac.push(k[Gb>>2]+k[Gb<<4&63]+"\x3d\x3d")):2===vc&&(Gb=(Gb[ac-2]<<8)+Gb[ac-1],Ac.push(k[Gb>>10]+k[Gb>>4&63]+k[Gb<<2&63]+"\x3d"));return Ac.join("")};var k=[],P=[],ib="undefined"!==typeof Uint8Array?Uint8Array:Array;for(dc=0;64>dc;++dc)k[dc]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[dc],P["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(dc)]=
dc;P[45]=62;P[95]=63};
shadow$provide[26]=function(dc,Db,Wc,nb){nb.read=function(v,k,P,ib,Gb){var ac=8*Gb-ib-1;var vc=(1<<ac)-1,Ac=vc>>1,uc=-7;Gb=P?Gb-1:0;var Bb=P?-1:1,jc=v[k+Gb];Gb+=Bb;P=jc&(1<<-uc)-1;jc>>=-uc;for(uc+=ac;0<uc;P=256*P+v[k+Gb],Gb+=Bb,uc-=8);ac=P&(1<<-uc)-1;P>>=-uc;for(uc+=ib;0<uc;ac=256*ac+v[k+Gb],Gb+=Bb,uc-=8);if(0===P)P=1-Ac;else{if(P===vc)return ac?NaN:Infinity*(jc?-1:1);ac+=Math.pow(2,ib);P-=Ac}return(jc?-1:1)*ac*Math.pow(2,P-ib)};nb.write=function(v,k,P,ib,Gb,ac){var vc,Ac=8*ac-Gb-1,uc=(1<<Ac)-1,Bb=
uc>>1,jc=23===Gb?Math.pow(2,-24)-Math.pow(2,-77):0;ac=ib?0:ac-1;var Yb=ib?1:-1,Ua=0>k||0===k&&0>1/k?1:0;k=Math.abs(k);isNaN(k)||Infinity===k?(k=isNaN(k)?1:0,ib=uc):(ib=Math.floor(Math.log(k)/Math.LN2),1>k*(vc=Math.pow(2,-ib))&&(ib--,vc*=2),k=1<=ib+Bb?k+jc/vc:k+jc*Math.pow(2,1-Bb),2<=k*vc&&(ib++,vc/=2),ib+Bb>=uc?(k=0,ib=uc):1<=ib+Bb?(k=(k*vc-1)*Math.pow(2,Gb),ib+=Bb):(k=k*Math.pow(2,Bb-1)*Math.pow(2,Gb),ib=0));for(;8<=Gb;v[P+ac]=k&255,ac+=Yb,k/=256,Gb-=8);ib=ib<<Gb|k;for(Ac+=Gb;0<Ac;v[P+ac]=ib&255,
ac+=Yb,ib/=256,Ac-=8);v[P+ac-Yb]|=128*Ua}};
shadow$provide[27]=function(dc,Db,Wc,nb){function v(q){if(2147483647<q)throw new RangeError('The value "'+q+'" is invalid for option "size"');q=new Uint8Array(q);Object.setPrototypeOf(q,k.prototype);return q}function k(q,M,Q){if("number"===typeof q){if("string"===typeof M)throw new TypeError('The "string" argument must be of type string. Received type number');return Gb(q)}return P(q,M,Q)}function P(q,M,Q){if("string"===typeof q){var g=M;if("string"!==typeof g||""===g)g="utf8";if(!k.isEncoding(g))throw new TypeError("Unknown encoding: "+
g);M=Bb(q,g)|0;Q=v(M);q=Q.write(q,g);q!==M&&(Q=Q.slice(0,q));return Q}if(ArrayBuffer.isView(q))return ob(q,Uint8Array)?(q=new Uint8Array(q),q=vc(q.buffer,q.byteOffset,q.byteLength)):q=ac(q),q;if(null==q)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q);if(ob(q,ArrayBuffer)||q&&ob(q.buffer,ArrayBuffer)||"undefined"!==typeof SharedArrayBuffer&&(ob(q,SharedArrayBuffer)||q&&ob(q.buffer,SharedArrayBuffer)))return vc(q,
M,Q);if("number"===typeof q)throw new TypeError('The "value" argument must not be of type number. Received type number');g=q.valueOf&&q.valueOf();if(null!=g&&g!==q)return k.from(g,M,Q);if(g=Ac(q))return g;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof q[Symbol.toPrimitive])return k.from(q[Symbol.toPrimitive]("string"),M,Q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q);}
function ib(q){if("number"!==typeof q)throw new TypeError('"size" argument must be of type number');if(0>q)throw new RangeError('The value "'+q+'" is invalid for option "size"');}function Gb(q){ib(q);return v(0>q?0:uc(q)|0)}function ac(q){const M=0>q.length?0:uc(q.length)|0,Q=v(M);for(let g=0;g<M;g+=1)Q[g]=q[g]&255;return Q}function vc(q,M,Q){if(0>M||q.byteLength<M)throw new RangeError('"offset" is outside of buffer bounds');if(q.byteLength<M+(Q||0))throw new RangeError('"length" is outside of buffer bounds');
q=void 0===M&&void 0===Q?new Uint8Array(q):void 0===Q?new Uint8Array(q,M):new Uint8Array(q,M,Q);Object.setPrototypeOf(q,k.prototype);return q}function Ac(q){if(k.isBuffer(q)){var M=uc(q.length)|0;const Q=v(M);if(0===Q.length)return Q;q.copy(Q,0,0,M);return Q}if(void 0!==q.length)return(M="number"!==typeof q.length)||(M=q.length,M=M!==M),M?v(0):ac(q);if("Buffer"===q.type&&Array.isArray(q.data))return ac(q.data)}function uc(q){if(2147483647<=q)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+
(2147483647).toString(16)+" bytes");return q|0}function Bb(q,M){if(k.isBuffer(q))return q.length;if(ArrayBuffer.isView(q)||ob(q,ArrayBuffer))return q.byteLength;if("string"!==typeof q)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof q);const Q=q.length,g=2<arguments.length&&!0===arguments[2];if(!g&&0===Q)return 0;let u=!1;for(;;)switch(M){case "ascii":case "latin1":case "binary":return Q;case "utf8":case "utf-8":return sb(q).length;
case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*Q;case "hex":return Q>>>1;case "base64":return Qb(q).length;default:if(u)return g?-1:sb(q).length;M=(""+M).toLowerCase();u=!0}}function jc(q,M,Q){let g=!1;if(void 0===M||0>M)M=0;if(M>this.length)return"";if(void 0===Q||Q>this.length)Q=this.length;if(0>=Q)return"";Q>>>=0;M>>>=0;if(Q<=M)return"";for(q||(q="utf8");;)switch(q){case "hex":q=M;M=this.length;if(!q||0>q)q=0;if(!Q||0>Q||Q>M)Q=M;for(M="";q<Q;++q)M+=na[this[q]];return M;case "utf8":case "utf-8":return Kb(this,
M,Q);case "ascii":q=M;M="";for(Q=Math.min(this.length,Q);q<Q;++q)M+=String.fromCharCode(this[q]&127);return M;case "latin1":case "binary":q=M;M="";for(Q=Math.min(this.length,Q);q<Q;++q)M+=String.fromCharCode(this[q]);return M;case "base64":return q=M,Q=0===q&&Q===this.length?Fa.fromByteArray(this):Fa.fromByteArray(this.slice(q,Q)),Q;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":Q=this.slice(M,Q);q="";for(M=0;M<Q.length-1;M+=2)q+=String.fromCharCode(Q[M]+256*Q[M+1]);return q;default:if(g)throw new TypeError("Unknown encoding: "+
q);q=(q+"").toLowerCase();g=!0}}function Yb(q,M,Q){const g=q[M];q[M]=q[Q];q[Q]=g}function Ua(q,M,Q,g,u){if(0===q.length)return-1;"string"===typeof Q?(g=Q,Q=0):2147483647<Q?Q=2147483647:-2147483648>Q&&(Q=-2147483648);Q=+Q;Q!==Q&&(Q=u?0:q.length-1);0>Q&&(Q=q.length+Q);if(Q>=q.length){if(u)return-1;Q=q.length-1}else if(0>Q)if(u)Q=0;else return-1;"string"===typeof M&&(M=k.from(M,g));if(k.isBuffer(M))return 0===M.length?-1:ub(q,M,Q,g,u);if("number"===typeof M)return M&=255,"function"===typeof Uint8Array.prototype.indexOf?
u?Uint8Array.prototype.indexOf.call(q,M,Q):Uint8Array.prototype.lastIndexOf.call(q,M,Q):ub(q,[M],Q,g,u);throw new TypeError("val must be string, number or Buffer");}function ub(q,M,Q,g,u){function m(E,H){return 1===C?E[H]:E.readUInt16BE(H*C)}let C=1;var B=q.length;let A=M.length;if(void 0!==g&&(g=String(g).toLowerCase(),"ucs2"===g||"ucs-2"===g||"utf16le"===g||"utf-16le"===g)){if(2>q.length||2>M.length)return-1;C=2;B/=2;A/=2;Q/=2}if(u)for(g=-1;Q<B;Q++)if(m(q,Q)===m(M,-1===g?0:Q-g)){if(-1===g&&(g=Q),
Q-g+1===A)return g*C}else-1!==g&&(Q-=Q-g),g=-1;else for(Q+A>B&&(Q=B-A);0<=Q;Q--){B=!0;for(g=0;g<A;g++)if(m(q,Q+g)!==m(M,g)){B=!1;break}if(B)return Q}return-1}function Kb(q,M,Q){Q=Math.min(q.length,Q);for(var g=[];M<Q;){var u=q[M];let m=null,C=239<u?4:223<u?3:191<u?2:1;if(M+C<=Q){let B,A,E;switch(C){case 1:128>u&&(m=u);break;case 2:B=q[M+1];128===(B&192)&&(u=(u&31)<<6|B&63,127<u&&(m=u));break;case 3:B=q[M+1];A=q[M+2];128===(B&192)&&128===(A&192)&&(u=(u&15)<<12|(B&63)<<6|A&63,2047<u&&(55296>u||57343<
u)&&(m=u));break;case 4:B=q[M+1],A=q[M+2],E=q[M+3],128===(B&192)&&128===(A&192)&&128===(E&192)&&(u=(u&15)<<18|(B&63)<<12|(A&63)<<6|E&63,65535<u&&1114112>u&&(m=u))}}null===m?(m=65533,C=1):65535<m&&(m-=65536,g.push(m>>>10&1023|55296),m=56320|m&1023);g.push(m);M+=C}M=g.length;if(4096>=M)g=String.fromCharCode.apply(String,g);else{q="";for(Q=0;Q<M;)q+=String.fromCharCode.apply(String,g.slice(Q,Q+=4096));g=q}return g}function Lb(q,M,Q){if(0!==q%1||0>q)throw new RangeError("offset is not uint");if(q+M>Q)throw new RangeError("Trying to access beyond buffer length");
}function Cb(q,M,Q,g,u,m){if(!k.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(M>u||M<m)throw new RangeError('"value" argument is out of bounds');if(Q+g>q.length)throw new RangeError("Index out of range");}function Pb(q,M,Q,g,u){mb(M,g,u,q,Q,7);g=Number(M&BigInt(4294967295));q[Q++]=g;g>>=8;q[Q++]=g;g>>=8;q[Q++]=g;q[Q++]=g>>8;M=Number(M>>BigInt(32)&BigInt(4294967295));q[Q++]=M;M>>=8;q[Q++]=M;M>>=8;q[Q++]=M;q[Q++]=M>>8;return Q}function ab(q,M,Q,g,u){mb(M,g,u,q,Q,
7);g=Number(M&BigInt(4294967295));q[Q+7]=g;g>>=8;q[Q+6]=g;g>>=8;q[Q+5]=g;q[Q+4]=g>>8;M=Number(M>>BigInt(32)&BigInt(4294967295));q[Q+3]=M;M>>=8;q[Q+2]=M;M>>=8;q[Q+1]=M;q[Q]=M>>8;return Q+8}function pb(q,M,Q,g,u,m){if(Q+g>q.length)throw new RangeError("Index out of range");if(0>Q)throw new RangeError("Index out of range");}function Qa(q,M,Q,g,u){M=+M;Q>>>=0;u||pb(q,M,Q,4,3.4028234663852886E38,-3.4028234663852886E38);Ga.write(q,M,Q,g,23,4);return Q+4}function Da(q,M,Q,g,u){M=+M;Q>>>=0;u||pb(q,M,Q,8,
1.7976931348623157E308,-1.7976931348623157E308);Ga.write(q,M,Q,g,52,8);return Q+8}function Ka(q,M,Q){db[q]=class extends Q{constructor(){super();Object.defineProperty(this,"message",{value:M.apply(this,arguments),writable:!0,configurable:!0});this.name=`${this.name} [${q}]`;this.stack;delete this.name}get code(){return q}set code(g){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:g,writable:!0})}toString(){return`${this.name} [${q}]: ${this.message}`}}}function lb(q){let M=
"",Q=q.length;const g="-"===q[0]?1:0;for(;Q>=g+4;Q-=3)M=`_${q.slice(Q-3,Q)}${M}`;return`${q.slice(0,Q)}${M}`}function mb(q,M,Q,g,u,m){if(q>Q||q<M)throw g="bigint"===typeof M?"n":"",new db.ERR_OUT_OF_RANGE("value",3<m?0===M||M===BigInt(0)?`>= 0${g} and < 2${g} ** ${8*(m+1)}${g}`:`>= -(2${g} ** ${8*(m+1)-1}${g}) and < 2 ** `+`${8*(m+1)-1}${g}`:`>= ${M}${g} and <= ${Q}${g}`,q);Pa(u,"offset");void 0!==g[u]&&void 0!==g[u+m]||xb(u,g.length-(m+1))}function Pa(q,M){if("number"!==typeof q)throw new db.ERR_INVALID_ARG_TYPE(M,
"number",q);}function xb(q,M,Q){if(Math.floor(q)!==q)throw Pa(q,Q),new db.ERR_OUT_OF_RANGE(Q||"offset","an integer",q);if(0>M)throw new db.ERR_BUFFER_OUT_OF_BOUNDS;throw new db.ERR_OUT_OF_RANGE(Q||"offset",`>= ${Q?1:0} and <= ${M}`,q);}function sb(q,M){M=M||Infinity;let Q;const g=q.length;let u=null;const m=[];for(let C=0;C<g;++C){Q=q.charCodeAt(C);if(55295<Q&&57344>Q){if(!u){if(56319<Q){-1<(M-=3)&&m.push(239,191,189);continue}else if(C+1===g){-1<(M-=3)&&m.push(239,191,189);continue}u=Q;continue}if(56320>
Q){-1<(M-=3)&&m.push(239,191,189);u=Q;continue}Q=(u-55296<<10|Q-56320)+65536}else u&&-1<(M-=3)&&m.push(239,191,189);u=null;if(128>Q){if(0>--M)break;m.push(Q)}else if(2048>Q){if(0>(M-=2))break;m.push(Q>>6|192,Q&63|128)}else if(65536>Q){if(0>(M-=3))break;m.push(Q>>12|224,Q>>6&63|128,Q&63|128)}else if(1114112>Q){if(0>(M-=4))break;m.push(Q>>18|240,Q>>12&63|128,Q>>6&63|128,Q&63|128)}else throw Error("Invalid code point");}return m}function Qb(q){var M=Fa,Q=M.toByteArray;q=q.split("\x3d")[0];q=q.trim().replace(ba,
"");if(2>q.length)q="";else for(;0!==q.length%4;)q+="\x3d";return Q.call(M,q)}function Wb(q,M,Q,g){let u;for(u=0;u<g&&!(u+Q>=M.length||u>=q.length);++u)M[u+Q]=q[u];return u}function ob(q,M){return q instanceof M||null!=q&&null!=q.constructor&&null!=q.constructor.name&&q.constructor.name===M.name}function pa(q){return"undefined"===typeof BigInt?Z:q}function Z(){throw Error("BigInt not supported");}const Fa=Db(25),Ga=Db(26);dc="function"===typeof Symbol&&"function"===typeof Symbol["for"]?Symbol["for"]("nodejs.util.inspect.custom"):
null;nb.Buffer=k;nb.SlowBuffer=function(q){+q!=q&&(q=0);return k.alloc(+q)};nb.INSPECT_MAX_BYTES=50;nb.kMaxLength=2147483647;k.TYPED_ARRAY_SUPPORT=function(){try{const q=new Uint8Array(1),M={foo:function(){return 42}};Object.setPrototypeOf(M,Uint8Array.prototype);Object.setPrototypeOf(q,M);return 42===q.foo()}catch(q){return!1}}();k.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");
Object.defineProperty(k.prototype,"parent",{enumerable:!0,get:function(){if(k.isBuffer(this))return this.buffer}});Object.defineProperty(k.prototype,"offset",{enumerable:!0,get:function(){if(k.isBuffer(this))return this.byteOffset}});k.poolSize=8192;k.from=function(q,M,Q){return P(q,M,Q)};Object.setPrototypeOf(k.prototype,Uint8Array.prototype);Object.setPrototypeOf(k,Uint8Array);k.alloc=function(q,M,Q){ib(q);q=0>=q?v(q):void 0!==M?"string"===typeof Q?v(q).fill(M,Q):v(q).fill(M):v(q);return q};k.allocUnsafe=
function(q){return Gb(q)};k.allocUnsafeSlow=function(q){return Gb(q)};k.isBuffer=function(q){return null!=q&&!0===q._isBuffer&&q!==k.prototype};k.compare=function(q,M){ob(q,Uint8Array)&&(q=k.from(q,q.offset,q.byteLength));ob(M,Uint8Array)&&(M=k.from(M,M.offset,M.byteLength));if(!k.isBuffer(q)||!k.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(q===M)return 0;let Q=q.length,g=M.length;for(let u=0,m=Math.min(Q,g);u<m;++u)if(q[u]!==M[u]){Q=
q[u];g=M[u];break}return Q<g?-1:g<Q?1:0};k.isEncoding=function(q){switch(String(q).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};k.concat=function(q,M){if(!Array.isArray(q))throw new TypeError('"list" argument must be an Array of Buffers');if(0===q.length)return k.alloc(0);let Q;if(void 0===M)for(Q=M=0;Q<q.length;++Q)M+=q[Q].length;M=k.allocUnsafe(M);let g=
0;for(Q=0;Q<q.length;++Q){let u=q[Q];if(ob(u,Uint8Array))g+u.length>M.length?(k.isBuffer(u)||(u=k.from(u)),u.copy(M,g)):Uint8Array.prototype.set.call(M,u,g);else if(k.isBuffer(u))u.copy(M,g);else throw new TypeError('"list" argument must be an Array of Buffers');g+=u.length}return M};k.byteLength=Bb;k.prototype._isBuffer=!0;k.prototype.swap16=function(){const q=this.length;if(0!==q%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<q;M+=2)Yb(this,M,M+1);return this};
k.prototype.swap32=function(){const q=this.length;if(0!==q%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<q;M+=4)Yb(this,M,M+3),Yb(this,M+1,M+2);return this};k.prototype.swap64=function(){const q=this.length;if(0!==q%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<q;M+=8)Yb(this,M,M+7),Yb(this,M+1,M+6),Yb(this,M+2,M+5),Yb(this,M+3,M+4);return this};k.prototype.toString=function(){const q=this.length;return 0===q?"":0===arguments.length?
Kb(this,0,q):jc.apply(this,arguments)};k.prototype.toLocaleString=k.prototype.toString;k.prototype.equals=function(q){if(!k.isBuffer(q))throw new TypeError("Argument must be a Buffer");return this===q?!0:0===k.compare(this,q)};k.prototype.inspect=function(){let q;const M=nb.INSPECT_MAX_BYTES;q=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim();this.length>M&&(q+=" ... ");return"\x3cBuffer "+q+"\x3e"};dc&&(k.prototype[dc]=k.prototype.inspect);k.prototype.compare=function(q,M,Q,g,u){ob(q,Uint8Array)&&
(q=k.from(q,q.offset,q.byteLength));if(!k.isBuffer(q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof q);void 0===M&&(M=0);void 0===Q&&(Q=q?q.length:0);void 0===g&&(g=0);void 0===u&&(u=this.length);if(0>M||Q>q.length||0>g||u>this.length)throw new RangeError("out of range index");if(g>=u&&M>=Q)return 0;if(g>=u)return-1;if(M>=Q)return 1;M>>>=0;Q>>>=0;g>>>=0;u>>>=0;if(this===q)return 0;let m=u-g,C=Q-M;const B=Math.min(m,C);g=this.slice(g,u);
q=q.slice(M,Q);for(M=0;M<B;++M)if(g[M]!==q[M]){m=g[M];C=q[M];break}return m<C?-1:C<m?1:0};k.prototype.includes=function(q,M,Q){return-1!==this.indexOf(q,M,Q)};k.prototype.indexOf=function(q,M,Q){return Ua(this,q,M,Q,!0)};k.prototype.lastIndexOf=function(q,M,Q){return Ua(this,q,M,Q,!1)};k.prototype.write=function(q,M,Q,g){if(void 0===M)g="utf8",Q=this.length,M=0;else if(void 0===Q&&"string"===typeof M)g=M,Q=this.length,M=0;else if(isFinite(M))M>>>=0,isFinite(Q)?(Q>>>=0,void 0===g&&(g="utf8")):(g=Q,
Q=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var u=this.length-M;if(void 0===Q||Q>u)Q=u;if(0<q.length&&(0>Q||0>M)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");g||(g="utf8");for(u=!1;;)switch(g){case "hex":a:{M=Number(M)||0;g=this.length-M;Q?(Q=Number(Q),Q>g&&(Q=g)):Q=g;g=q.length;Q>g/2&&(Q=g/2);for(g=0;g<Q;++g){u=parseInt(q.substr(2*g,2),16);if(u!==u){q=g;break a}this[M+g]=u}q=g}return q;case "utf8":case "utf-8":return Wb(sb(q,
this.length-M),this,M,Q);case "ascii":case "latin1":case "binary":g=[];for(u=0;u<q.length;++u)g.push(q.charCodeAt(u)&255);return Wb(g,this,M,Q);case "base64":return Wb(Qb(q),this,M,Q);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":var m=void 0;g=this.length-M;const C=[];for(let B=0;B<q.length&&!(0>(g-=2));++B)m=q.charCodeAt(B),u=m>>8,m%=256,C.push(m),C.push(u);return Wb(C,this,M,Q);default:if(u)throw new TypeError("Unknown encoding: "+g);g=(""+g).toLowerCase();u=!0}};k.prototype.toJSON=function(){return{type:"Buffer",
data:Array.prototype.slice.call(this._arr||this,0)}};k.prototype.slice=function(q,M){const Q=this.length;q=~~q;M=void 0===M?Q:~~M;0>q?(q+=Q,0>q&&(q=0)):q>Q&&(q=Q);0>M?(M+=Q,0>M&&(M=0)):M>Q&&(M=Q);M<q&&(M=q);q=this.subarray(q,M);Object.setPrototypeOf(q,k.prototype);return q};k.prototype.readUintLE=k.prototype.readUIntLE=function(q,M,Q){q>>>=0;M>>>=0;Q||Lb(q,M,this.length);Q=this[q];let g=1,u=0;for(;++u<M&&(g*=256);)Q+=this[q+u]*g;return Q};k.prototype.readUintBE=k.prototype.readUIntBE=function(q,M,
Q){q>>>=0;M>>>=0;Q||Lb(q,M,this.length);Q=this[q+--M];let g=1;for(;0<M&&(g*=256);)Q+=this[q+--M]*g;return Q};k.prototype.readUint8=k.prototype.readUInt8=function(q,M){q>>>=0;M||Lb(q,1,this.length);return this[q]};k.prototype.readUint16LE=k.prototype.readUInt16LE=function(q,M){q>>>=0;M||Lb(q,2,this.length);return this[q]|this[q+1]<<8};k.prototype.readUint16BE=k.prototype.readUInt16BE=function(q,M){q>>>=0;M||Lb(q,2,this.length);return this[q]<<8|this[q+1]};k.prototype.readUint32LE=k.prototype.readUInt32LE=
function(q,M){q>>>=0;M||Lb(q,4,this.length);return(this[q]|this[q+1]<<8|this[q+2]<<16)+16777216*this[q+3]};k.prototype.readUint32BE=k.prototype.readUInt32BE=function(q,M){q>>>=0;M||Lb(q,4,this.length);return 16777216*this[q]+(this[q+1]<<16|this[q+2]<<8|this[q+3])};k.prototype.readBigUInt64LE=pa(function(q){q>>>=0;Pa(q,"offset");var M=this[q];const Q=this[q+7];void 0!==M&&void 0!==Q||xb(q,this.length-8);M=M+this[++q]*Math.pow(2,8)+this[++q]*Math.pow(2,16)+this[++q]*Math.pow(2,24);q=this[++q]+this[++q]*
Math.pow(2,8)+this[++q]*Math.pow(2,16)+Q*Math.pow(2,24);return BigInt(M)+(BigInt(q)<<BigInt(32))});k.prototype.readBigUInt64BE=pa(function(q){q>>>=0;Pa(q,"offset");var M=this[q];const Q=this[q+7];void 0!==M&&void 0!==Q||xb(q,this.length-8);M=M*Math.pow(2,24)+this[++q]*Math.pow(2,16)+this[++q]*Math.pow(2,8)+this[++q];q=this[++q]*Math.pow(2,24)+this[++q]*Math.pow(2,16)+this[++q]*Math.pow(2,8)+Q;return(BigInt(M)<<BigInt(32))+BigInt(q)});k.prototype.readIntLE=function(q,M,Q){q>>>=0;M>>>=0;Q||Lb(q,M,this.length);
Q=this[q];let g=1,u=0;for(;++u<M&&(g*=256);)Q+=this[q+u]*g;Q>=128*g&&(Q-=Math.pow(2,8*M));return Q};k.prototype.readIntBE=function(q,M,Q){q>>>=0;M>>>=0;Q||Lb(q,M,this.length);Q=M;let g=1,u=this[q+--Q];for(;0<Q&&(g*=256);)u+=this[q+--Q]*g;u>=128*g&&(u-=Math.pow(2,8*M));return u};k.prototype.readInt8=function(q,M){q>>>=0;M||Lb(q,1,this.length);return this[q]&128?-1*(255-this[q]+1):this[q]};k.prototype.readInt16LE=function(q,M){q>>>=0;M||Lb(q,2,this.length);q=this[q]|this[q+1]<<8;return q&32768?q|4294901760:
q};k.prototype.readInt16BE=function(q,M){q>>>=0;M||Lb(q,2,this.length);q=this[q+1]|this[q]<<8;return q&32768?q|4294901760:q};k.prototype.readInt32LE=function(q,M){q>>>=0;M||Lb(q,4,this.length);return this[q]|this[q+1]<<8|this[q+2]<<16|this[q+3]<<24};k.prototype.readInt32BE=function(q,M){q>>>=0;M||Lb(q,4,this.length);return this[q]<<24|this[q+1]<<16|this[q+2]<<8|this[q+3]};k.prototype.readBigInt64LE=pa(function(q){q>>>=0;Pa(q,"offset");const M=this[q],Q=this[q+7];void 0!==M&&void 0!==Q||xb(q,this.length-
8);return(BigInt(this[q+4]+this[q+5]*Math.pow(2,8)+this[q+6]*Math.pow(2,16)+(Q<<24))<<BigInt(32))+BigInt(M+this[++q]*Math.pow(2,8)+this[++q]*Math.pow(2,16)+this[++q]*Math.pow(2,24))});k.prototype.readBigInt64BE=pa(function(q){q>>>=0;Pa(q,"offset");var M=this[q];const Q=this[q+7];void 0!==M&&void 0!==Q||xb(q,this.length-8);M=(M<<24)+this[++q]*Math.pow(2,16)+this[++q]*Math.pow(2,8)+this[++q];return(BigInt(M)<<BigInt(32))+BigInt(this[++q]*Math.pow(2,24)+this[++q]*Math.pow(2,16)+this[++q]*Math.pow(2,
8)+Q)});k.prototype.readFloatLE=function(q,M){q>>>=0;M||Lb(q,4,this.length);return Ga.read(this,q,!0,23,4)};k.prototype.readFloatBE=function(q,M){q>>>=0;M||Lb(q,4,this.length);return Ga.read(this,q,!1,23,4)};k.prototype.readDoubleLE=function(q,M){q>>>=0;M||Lb(q,8,this.length);return Ga.read(this,q,!0,52,8)};k.prototype.readDoubleBE=function(q,M){q>>>=0;M||Lb(q,8,this.length);return Ga.read(this,q,!1,52,8)};k.prototype.writeUintLE=k.prototype.writeUIntLE=function(q,M,Q,g){q=+q;M>>>=0;Q>>>=0;g||Cb(this,
q,M,Q,Math.pow(2,8*Q)-1,0);g=1;let u=0;for(this[M]=q&255;++u<Q&&(g*=256);)this[M+u]=q/g&255;return M+Q};k.prototype.writeUintBE=k.prototype.writeUIntBE=function(q,M,Q,g){q=+q;M>>>=0;Q>>>=0;g||Cb(this,q,M,Q,Math.pow(2,8*Q)-1,0);g=Q-1;let u=1;for(this[M+g]=q&255;0<=--g&&(u*=256);)this[M+g]=q/u&255;return M+Q};k.prototype.writeUint8=k.prototype.writeUInt8=function(q,M,Q){q=+q;M>>>=0;Q||Cb(this,q,M,1,255,0);this[M]=q&255;return M+1};k.prototype.writeUint16LE=k.prototype.writeUInt16LE=function(q,M,Q){q=
+q;M>>>=0;Q||Cb(this,q,M,2,65535,0);this[M]=q&255;this[M+1]=q>>>8;return M+2};k.prototype.writeUint16BE=k.prototype.writeUInt16BE=function(q,M,Q){q=+q;M>>>=0;Q||Cb(this,q,M,2,65535,0);this[M]=q>>>8;this[M+1]=q&255;return M+2};k.prototype.writeUint32LE=k.prototype.writeUInt32LE=function(q,M,Q){q=+q;M>>>=0;Q||Cb(this,q,M,4,4294967295,0);this[M+3]=q>>>24;this[M+2]=q>>>16;this[M+1]=q>>>8;this[M]=q&255;return M+4};k.prototype.writeUint32BE=k.prototype.writeUInt32BE=function(q,M,Q){q=+q;M>>>=0;Q||Cb(this,
q,M,4,4294967295,0);this[M]=q>>>24;this[M+1]=q>>>16;this[M+2]=q>>>8;this[M+3]=q&255;return M+4};k.prototype.writeBigUInt64LE=pa(function(q,M=0){return Pb(this,q,M,BigInt(0),BigInt("0xffffffffffffffff"))});k.prototype.writeBigUInt64BE=pa(function(q,M=0){return ab(this,q,M,BigInt(0),BigInt("0xffffffffffffffff"))});k.prototype.writeIntLE=function(q,M,Q,g){q=+q;M>>>=0;g||(g=Math.pow(2,8*Q-1),Cb(this,q,M,Q,g-1,-g));g=0;let u=1,m=0;for(this[M]=q&255;++g<Q&&(u*=256);)0>q&&0===m&&0!==this[M+g-1]&&(m=1),this[M+
g]=(q/u>>0)-m&255;return M+Q};k.prototype.writeIntBE=function(q,M,Q,g){q=+q;M>>>=0;g||(g=Math.pow(2,8*Q-1),Cb(this,q,M,Q,g-1,-g));g=Q-1;let u=1,m=0;for(this[M+g]=q&255;0<=--g&&(u*=256);)0>q&&0===m&&0!==this[M+g+1]&&(m=1),this[M+g]=(q/u>>0)-m&255;return M+Q};k.prototype.writeInt8=function(q,M,Q){q=+q;M>>>=0;Q||Cb(this,q,M,1,127,-128);0>q&&(q=255+q+1);this[M]=q&255;return M+1};k.prototype.writeInt16LE=function(q,M,Q){q=+q;M>>>=0;Q||Cb(this,q,M,2,32767,-32768);this[M]=q&255;this[M+1]=q>>>8;return M+
2};k.prototype.writeInt16BE=function(q,M,Q){q=+q;M>>>=0;Q||Cb(this,q,M,2,32767,-32768);this[M]=q>>>8;this[M+1]=q&255;return M+2};k.prototype.writeInt32LE=function(q,M,Q){q=+q;M>>>=0;Q||Cb(this,q,M,4,2147483647,-2147483648);this[M]=q&255;this[M+1]=q>>>8;this[M+2]=q>>>16;this[M+3]=q>>>24;return M+4};k.prototype.writeInt32BE=function(q,M,Q){q=+q;M>>>=0;Q||Cb(this,q,M,4,2147483647,-2147483648);0>q&&(q=4294967295+q+1);this[M]=q>>>24;this[M+1]=q>>>16;this[M+2]=q>>>8;this[M+3]=q&255;return M+4};k.prototype.writeBigInt64LE=
pa(function(q,M=0){return Pb(this,q,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});k.prototype.writeBigInt64BE=pa(function(q,M=0){return ab(this,q,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});k.prototype.writeFloatLE=function(q,M,Q){return Qa(this,q,M,!0,Q)};k.prototype.writeFloatBE=function(q,M,Q){return Qa(this,q,M,!1,Q)};k.prototype.writeDoubleLE=function(q,M,Q){return Da(this,q,M,!0,Q)};k.prototype.writeDoubleBE=function(q,M,Q){return Da(this,q,M,!1,Q)};k.prototype.copy=
function(q,M,Q,g){if(!k.isBuffer(q))throw new TypeError("argument should be a Buffer");Q||(Q=0);g||0===g||(g=this.length);M>=q.length&&(M=q.length);M||(M=0);0<g&&g<Q&&(g=Q);if(g===Q||0===q.length||0===this.length)return 0;if(0>M)throw new RangeError("targetStart out of bounds");if(0>Q||Q>=this.length)throw new RangeError("Index out of range");if(0>g)throw new RangeError("sourceEnd out of bounds");g>this.length&&(g=this.length);q.length-M<g-Q&&(g=q.length-M+Q);const u=g-Q;this===q&&"function"===typeof Uint8Array.prototype.copyWithin?
this.copyWithin(M,Q,g):Uint8Array.prototype.set.call(q,this.subarray(Q,g),M);return u};k.prototype.fill=function(q,M,Q,g){if("string"===typeof q){"string"===typeof M?(g=M,M=0,Q=this.length):"string"===typeof Q&&(g=Q,Q=this.length);if(void 0!==g&&"string"!==typeof g)throw new TypeError("encoding must be a string");if("string"===typeof g&&!k.isEncoding(g))throw new TypeError("Unknown encoding: "+g);if(1===q.length){var u=q.charCodeAt(0);if("utf8"===g&&128>u||"latin1"===g)q=u}}else"number"===typeof q?
q&=255:"boolean"===typeof q&&(q=Number(q));if(0>M||this.length<M||this.length<Q)throw new RangeError("Out of range index");if(Q<=M)return this;M>>>=0;Q=void 0===Q?this.length:Q>>>0;q||(q=0);if("number"===typeof q)for(g=M;g<Q;++g)this[g]=q;else{u=k.isBuffer(q)?q:k.from(q,g);const m=u.length;if(0===m)throw new TypeError('The value "'+q+'" is invalid for argument "value"');for(g=0;g<Q-M;++g)this[g+M]=u[g%m]}return this};const db={};Ka("ERR_BUFFER_OUT_OF_BOUNDS",function(q){return q?`${q} is outside of buffer bounds`:
"Attempt to access memory outside buffer bounds"},RangeError);Ka("ERR_INVALID_ARG_TYPE",function(q,M){return`The "${q}" argument must be of type number. Received type ${typeof M}`},TypeError);Ka("ERR_OUT_OF_RANGE",function(q,M,Q){q=`The value of "${q}" is out of range.`;let g=Q;if(Number.isInteger(Q)&&Math.abs(Q)>Math.pow(2,32))g=lb(String(Q));else if("bigint"===typeof Q){g=String(Q);if(Q>Math.pow(BigInt(2),BigInt(32))||Q<-Math.pow(BigInt(2),BigInt(32)))g=lb(g);g+="n"}return q+` It must be ${M}. Received ${g}`},
RangeError);const ba=/[^+/0-9A-Za-z-_]/g,na=function(){const q=Array(256);for(let M=0;16>M;++M){const Q=16*M;for(let g=0;16>g;++g)q[Q+g]="0123456789abcdef"[M]+"0123456789abcdef"[g]}return q}()};
shadow$provide[28]=function(dc,Db,Wc,nb){var v=Db(27).Buffer;(function(k,P){"object"===typeof nb&&"undefined"!==typeof Wc?P(nb,Db(21),Db(22),Db(24)):"function"===typeof define&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],P):(k="undefined"!==typeof globalThis?globalThis:k||self,P(k.vega={},k.vega,k.topojson,k.vega))})(this,function(k,P,ib,Gb){function ac(ba,na){const q=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const M=yield q.sanitize(ba,na),
Q=M.href;return M.localFile?q.file(Q):q.http(Q,na)})}function vc(ba,na){const q=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){na=P.extend({},q.options,na);const M=q.fileAccess,Q={href:null};var g;let u;var m=Pa.test(ba.replace(xb,""));null!=ba&&"string"===typeof ba&&m||P.error("Sanitize failure, invalid URI: "+P.stringValue(ba));m=mb.test(ba);(g=na.baseURL)&&!m&&(ba.startsWith("/")||g.endsWith("/")||(ba="/"+ba),ba=g+ba);u=(g=ba.startsWith("file://"))||"file"===na.mode||"http"!==
na.mode&&!m&&M;g?ba=ba.slice(7):ba.startsWith("//")&&("file"===na.defaultProtocol?(ba=ba.slice(2),u=!0):ba=(na.defaultProtocol||"http")+":"+ba);Object.defineProperty(Q,"localFile",{value:!!u});Q.href=ba;na.target&&(Q.target=na.target+"");na.rel&&(Q.rel=na.rel+"");"image"===na.context&&na.crossOrigin&&(Q.crossOrigin=na.crossOrigin+"");return Q})}function Ac(ba){return ba?na=>new Promise((q,M)=>{ba.readFile(na,(Q,g)=>{Q?M(Q):q(g)})}):uc}function uc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){P.error("No file system access.")})}
function Bb(ba){return ba?function(na,q){const M=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Q=P.extend({},M.options.http,q);const g=q&&q.response;Q=yield ba(na,Q);return Q.ok?P.isFunction(Q[g])?Q[g]():Q.text():P.error(Q.status+""+Q.statusText)})}:jc}function jc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){P.error("No HTTP fetch method available.")})}function Yb(ba,na){if(!ba||!ba.length)return"unknown";const q=ba.length,M=Wb.length,Q=Wb.map((g,u)=>
u+1);for(let g=0,u=0,m,C;g<q;++g)for(C=na?ba[g][na]:ba[g],m=0;m<M;++m)if(Q[m]&&null!=C&&C===C&&!Wb[m](C)&&(Q[m]=0,++u,u===Wb.length))return"string";return ob[Q.reduce((g,u)=>0===g?u:g,0)-1]}function Ua(ba,na){return na.reduce((q,M)=>{q[M]=Yb(ba,M);return q},{})}function ub(ba){return new Function("d","return {"+ba.map(function(na,q){return JSON.stringify(na)+": d["+q+'] || ""'}).join(",")+"}")}function Kb(ba,na){var q=ub(ba);return function(M,Q){return na(q(M),Q,ba)}}function Lb(ba){var na=Object.create(null),
q=[];ba.forEach(function(M){for(var Q in M)Q in na||q.push(na[Q]=Q)});return q}function Cb(ba,na){ba+="";var q=ba.length;return q<na?Array(na-q+1).join(0)+ba:ba}function Pb(ba){function na(m,C){function B(){if(Y)return Z;if(t)return t=!1,pa;var va,La=H,Wa;if(34===m.charCodeAt(La)){for(;H++<E&&34!==m.charCodeAt(H)||34===m.charCodeAt(++H););(va=H)>=E?Y=!0:10===(Wa=m.charCodeAt(H++))?t=!0:13===Wa&&(t=!0,10===m.charCodeAt(H)&&++H);return m.slice(La+1,va-1).replace(/""/g,'"')}for(;H<E;){if(10===(Wa=m.charCodeAt(va=
H++)))t=!0;else if(13===Wa)t=!0,10===m.charCodeAt(H)&&++H;else if(Wa!==u)continue;return m.slice(La,va)}return Y=!0,m.slice(La,E)}var A=[],E=m.length,H=0,V=0,Aa,Y=0>=E,t=!1;10===m.charCodeAt(E-1)&&--E;for(13===m.charCodeAt(E-1)&&--E;(Aa=B())!==Z;){for(var L=[];Aa!==pa&&Aa!==Z;)L.push(Aa),Aa=B();C&&null==(L=C(L,V++))||A.push(L)}return A}function q(m,C){return m.map(function(B){return C.map(function(A){return Q(B[A])}).join(ba)})}function M(m){return m.map(Q).join(ba)}function Q(m){if(null==m)m="";
else{if(m instanceof Date){var C=m.getUTCHours();var B=m.getUTCMinutes(),A=m.getUTCSeconds(),E=m.getUTCMilliseconds();if(isNaN(m))m="Invalid Date";else{var H=m.getUTCFullYear();m=(0>H?"-"+Cb(-H,6):9999<H?"+"+Cb(H,6):Cb(H,4))+"-"+Cb(m.getUTCMonth()+1,2)+"-"+Cb(m.getUTCDate(),2)+(E?"T"+Cb(C,2)+":"+Cb(B,2)+":"+Cb(A,2)+"."+Cb(E,3)+"Z":A?"T"+Cb(C,2)+":"+Cb(B,2)+":"+Cb(A,2)+"Z":B||C?"T"+Cb(C,2)+":"+Cb(B,2)+"Z":"")}C=m}else C=g.test(m+="")?'"'+m.replace(/"/g,'""')+'"':m;m=C}return m}var g=new RegExp('["'+
ba+"\n\r]"),u=ba.charCodeAt(0);return{parse:function(m,C){var B,A;m=na(m,function(E,H){if(B)return B(E,H-1);A=E;B=C?Kb(E,C):ub(E)});m.columns=A||[];return m},parseRows:na,format:function(m,C){null==C&&(C=Lb(m));return[C.map(Q).join(ba)].concat(q(m,C)).join("\n")},formatBody:function(m,C){null==C&&(C=Lb(m));return q(m,C).join("\n")},formatRows:function(m){return m.map(M).join("\n")},formatRow:M,formatValue:Q}}function ab(ba){const na=function(q,M){const Q={delimiter:ba};return pb(q,M?P.extend(M,Q):
Q)};na.responseType="text";return na}function pb(ba,na){na.header&&(ba=na.header.map(P.stringValue).join(na.delimiter)+"\n"+ba);return Pb(na.delimiter).parse(ba+"")}function Qa(ba,na){const q=na&&na.property?P.field(na.property):P.identity;var M;if(M=P.isObject(ba))M=!("function"===typeof v&&P.isFunction(v.isBuffer)&&v.isBuffer(ba));M?(ba=q(ba),!P.isArray(ba)&&P.isIterable(ba)&&(ba=[...ba]),na=na&&na.copy?JSON.parse(JSON.stringify(ba)):ba):na=q(JSON.parse(ba));return na}function Da(ba,na){let q,M,
Q,g;ba=Qa(ba,na);na&&na.feature?(q=ib.feature,Q=na.feature):na&&na.mesh?(q=ib.mesh,Q=na.mesh,g=Fa[na.filter]):P.error("Missing TopoJSON feature or mesh parameter.");return(M=(M=ba.objects[Q])?q(ba,M,g):P.error("Invalid TopoJSON object: "+Q))&&M.features||[M]}function Ka(ba,na){return 1<arguments.length?(Ga[ba]=na,this):P.hasOwnProperty(Ga,ba)?Ga[ba]:null}function lb(ba,na,q,M){if(ba.length){var Q=Gb.timeFormatDefaultLocale();q=q||Q.timeParse;M=M||Q.utcParse;Q=ba.columns||Object.keys(ba[0]);var g,
u;"auto"===na&&(na=Ua(ba,Q));Q=Object.keys(na);var m=Q.map(H=>{var V=na[H];if(V&&(V.startsWith("date:")||V.startsWith("utc:"))){H=V.split(/:(.+)?/,2);V=H[1];if("'"===V[0]&&"'"===V[V.length-1]||'"'===V[0]&&'"'===V[V.length-1])V=V.slice(1,-1);return("utc"===H[0]?M:q)(V)}if(!Qb[V])throw Error("Illegal format pattern: "+H+":"+V);return Qb[V]});var C=0;var B=ba.length;for(u=Q.length;C<B;++C){var A=ba[C];for(g=0;g<u;++g){var E=Q[g];A[E]=m[g](A[E])}}}}const mb=/^(data:|([A-Za-z]+:)?\/\/)/,Pa=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
xb=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,sb=ba=>!Number.isNaN(+ba)&&!(ba instanceof Date),Qb={boolean:P.toBoolean,integer:P.toNumber,number:P.toNumber,date:P.toDate,string:P.toString,unknown:P.identity},Wb=[ba=>"true"===ba||"false"===ba||!0===ba||!1===ba,ba=>sb(ba)&&Number.isInteger(+ba),sb,ba=>!Number.isNaN(Date.parse(ba))],ob=["boolean","integer","number","date"];var pa={},Z={};pb.responseType="text";Qa.responseType="json";const Fa={interior:(ba,na)=>ba!==na,exterior:(ba,
na)=>ba===na};Da.responseType="json";const Ga={dsv:pb,csv:ab(","),tsv:ab("\t"),json:Qa,topojson:Da},db=function(ba,na){return q=>({options:q||{},sanitize:vc,load:ac,fileAccess:!!na,file:Ac(na),http:Bb(ba)})}("undefined"!==typeof fetch&&fetch,null);k.format=Ga;k.formats=Ka;k.inferType=Yb;k.inferTypes=Ua;k.loader=db;k.read=function(ba,na,q,M){na=na||{};const Q=Ka(na.type||"json");Q||P.error("Unknown data format type: "+na.type);ba=Q(ba,na);na.parse&&lb(ba,na.parse,q,M);P.hasOwnProperty(ba,"columns")&&
delete ba.columns;return ba};k.responseType=function(ba){return(ba=Ka(ba))&&ba.responseType||"text"};k.typeParsers=Qb})};
shadow$provide[29]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(21),Db(28),Db(24)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega))})(this,function(v,k,P,ib){function Gb(g){const u=g||k.identity,m=[],C={};m.add=B=>{const A=u(B);C[A]||(C[A]=1,m.push(B));return m};m.remove=B=>{const A=u(B);C[A]&&(C[A]=0,B=m.indexOf(B),
0<=B&&m.splice(B,1));return m};return m}function ac(g,u){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield u(g)}catch(m){g.error(m)}})}function vc(g){g=g===Object(g)?g:{data:g};if(!g[Z]){var u=Fa++;g[Z]=u}return g}function Ac(g,u){for(const m in g)u[m]=g[m];return u}function uc(g){return g&&g.constructor===Bb}function Bb(){const g=[],u=[],m=[],C=[],B=[];let A=null,E=!1;return{constructor:Bb,insert(H){H=k.array(H);const V=H.length;for(let Aa=0;Aa<V;++Aa)g.push(H[Aa]);return this},
remove(H){const V=k.isFunction(H)?C:u;H=k.array(H);const Aa=H.length;for(let Y=0;Y<Aa;++Y)V.push(H[Y]);return this},modify(H,V,Aa){V={field:V,value:k.constant(Aa)};k.isFunction(H)?(V.filter=H,B.push(V)):(V.tuple=H,m.push(V));return this},encode(H,V){k.isFunction(H)?B.push({filter:H,field:V}):m.push({tuple:H,field:V});return this},clean(H){A=H;return this},reflow(){E=!0;return this},pulse(H,V){function Aa(Ca,Ya,Ib){Ib?Ca[Ya]=Ib(Ca):H.encode=Ya;E||(t[Ca[Z]]=Ca)}const Y={},t={};let L,va,La,Wa,$a,X;L=
0;for(va=V.length;L<va;++L)Y[V[L][Z]]=1;L=0;for(va=u.length;L<va;++L)$a=u[L],Y[$a[Z]]=-1;L=0;for(va=C.length;L<va;++L)Wa=C[L],V.forEach(Ca=>{Wa(Ca)&&(Y[Ca[Z]]=-1)});L=0;for(va=g.length;L<va;++L)$a=g[L],X=$a[Z],Y[X]?Y[X]=1:H.add.push(vc(g[L]));L=0;for(va=V.length;L<va;++L)$a=V[L],0>Y[$a[Z]]&&H.rem.push($a);L=0;for(va=m.length;L<va;++L)La=m[L],$a=La.tuple,Wa=La.field,X=Y[$a[Z]],0<X&&(Aa($a,Wa,La.value),H.modifies(Wa));L=0;for(va=B.length;L<va;++L)La=B[L],Wa=La.filter,V.forEach(Ca=>{Wa(Ca)&&0<Y[Ca[Z]]&&
Aa(Ca,La.field,La.value)}),H.modifies(La.field);if(E)H.mod=u.length||C.length?V.filter(Ca=>0<Y[Ca[Z]]):V.slice();else for(X in t)H.mod.push(t[X]);(A||null==A&&(u.length||C.length))&&H.clean(!0);return H}}}function jc(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function Yb(g,u,m,C){this.id=++Ga;this.value=g;this.qrank=this.rank=this.stamp=-1;this.flags=0;u&&(this._update=u);m&&this.parameters(m,C)}function Ua(g){return function(u){const m=this.flags;if(0===arguments.length)return!!(m&
g);this.flags=u?m|g:m&~g;return this}}function ub(g,u,m){this.id=++ba;this.value=null;m&&(this.receive=m);g&&(this._filter=g);u&&(this._apply=u)}function Kb(g,u,m){return new ub(g,u,m)}function Lb(g){let u;const m=new Promise(C=>u=C);m.requests=0;m.done=()=>{0===--m.requests&&(g._pending=null,u(g))};return g._pending=m}function Cb(g,u,m,C,B,A){const E=k.extend({},A,na);let H;k.isFunction(m)||(m=k.constant(m));void 0===C?B=V=>g.touch(m(V)):k.isFunction(C)?(H=new Yb(null,C,B,!1),B=V=>{H.evaluate(V);
V=m(V);const Aa=H.value;uc(Aa)?g.pulse(V,Aa,A):g.update(V,Aa,E)}):B=V=>g.update(m(V),C,E);u.apply(B)}function Pb(g,u,m,C,B,A){void 0===C?u.targets().add(m):(A=A||{},C=new Yb(null,ab(m,C),B,!1),C.modified(A.force),C.rank=u.rank,u.targets().add(C),m&&(C.skip(!0),C.value=m.value,C.targets().add(m),g.connect(m,[C])))}function ab(g,u){u=k.isFunction(u)?u:k.constant(u);return g?function(m,C){m=u(m,C);g.skip()||(g.skip(m!==this.value).value=m);return m}:u}function pb(g,u,m){this.dataflow=g;this.stamp=null==
u?-1:u;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=m||null}function Qa(g,u){const m=[];k.visitArray(g,u,C=>m.push(C));return m}function Da(g,u){const m={};g.visit(u,C=>{m[C[Z]]=1});return C=>m[C[Z]]?null:C}function Ka(g,u){return g?(m,C)=>g(m,C)&&u(m,C):u}function lb(g,u,m,C){let B=0;this.dataflow=g;this.stamp=u;this.fields=null;this.encode=C||null;this.pulses=m;for(const A of m)if(A.stamp===u){if(A.fields){g=this.fields||(this.fields={});for(const E in A.fields)g[E]=1}A.changed(this.ADD)&&
(B|=this.ADD);A.changed(this.REM)&&(B|=this.REM);A.changed(this.MOD)&&(B|=this.MOD)}this.changes=B}function mb(g){g.error("Dataflow already running. Use runAsync() to chain invocations.");return g}function Pa(g,u){if(u&&u.stamp===g.stamp)return u;g=g.fork();u&&u!==q&&(g.source=u.source);return g}function xb(g){let u=[];return{clear:()=>u=[],size:()=>u.length,peek:()=>u[0],push:m=>{u.push(m);return sb(u,0,u.length-1,g)},pop:()=>{var m=u.pop();let C;if(u.length){C=u[0];u[0]=m;m=u;var B=0;const A=B,
E=m.length,H=m[B];let V=(B<<1)+1,Aa;for(;V<E;)Aa=V+1,Aa<E&&0<=g(m[V],m[Aa])&&(V=Aa),m[B]=m[V],B=V,V=(B<<1)+1;m[B]=H;sb(m,A,B,g)}else C=m;return C}}}function sb(g,u,m,C){let B,A;const E=g[m];for(;m>u;)if(A=m-1>>1,B=g[A],0>C(E,B))g[m]=B,m=A;else break;return g[m]=E}function Qb(){this.logger(k.logger());this.logLevel(k.Error);this._rank=this._clock=0;this._locale=ib.defaultLocale();try{this._loader=P.loader()}catch(g){}this._touched=Gb(k.id);this._input={};this._pulse=null;this._heap=xb((g,u)=>g.qrank-
u.qrank);this._postrun=[]}function Wb(g){return function(){return this._log[g].apply(this,arguments)}}function ob(g,u){Yb.call(this,g,null,u)}function pa(g){g=g&&g.toLowerCase();return k.hasOwnProperty(Q,g)?Q[g]:null}const Z=Symbol("vega_id");let Fa=1;jc.prototype={set(g,u,m,C){const B=this[g],A=this["_:mod:_"];if(null!=u&&0<=u){if(B[u]!==m||C)B[u]=m,A[u+":"+g]=-1,A[g]=-1}else if(B!==m||C)this[g]=m,A[g]=k.isArray(m)?1+m.length:-1;return this},modified(g,u){const m=this["_:mod:_"];if(!arguments.length){for(var C in m)if(m[C])return!0;
return!1}if(k.isArray(g)){for(C=0;C<g.length;++C)if(m[g[C]])return!0;return!1}return null!=u&&0<=u?u+1<m[g]||!!m[u+":"+g]:!!m[g]},clear(){this["_:mod:_"]={};return this}};let Ga=0;const db=new jc;Yb.prototype={targets(){return this._targets||(this._targets=Gb(k.id))},set(g){return this.value!==g?(this.value=g,1):0},skip:Ua(1),modified:Ua(2),parameters(g,u,m){u=!1!==u;const C=this._argval=this._argval||new jc,B=this._argops=this._argops||[],A=[];let E,H,V,Aa;const Y=(t,L,va)=>{va instanceof Yb?(va!==
this&&(u&&va.targets().add(this),A.push(va)),B.push({op:va,name:t,index:L})):C.set(t,L,va)};for(E in g)if(H=g[E],"pulse"===E)k.array(H).forEach(t=>{t instanceof Yb?t!==this&&(t.targets().add(this),A.push(t)):k.error("Pulse parameters must be operator instances.")}),this.source=H;else if(k.isArray(H))for(C.set(E,-1,Array(V=H.length)),Aa=0;Aa<V;++Aa)Y(E,Aa,H[Aa]);else Y(E,-1,H);this.marshall().clear();m&&(B.initonly=!0);return A},marshall(g){const u=this._argval||db,m=this._argops;let C,B,A,E;if(m){const H=
m.length;for(B=0;B<H;++B)C=m[B],A=C.op,E=A.modified()&&A.stamp===g,u.set(C.name,C.index,A.value,E);if(m.initonly){for(B=0;B<H;++B)C=m[B],C.op.targets().remove(this);this._update=this._argops=null}}return u},detach(){const g=this._argops;let u,m;if(g)for(u=0,m=g.length;u<m;++u){var C=g[u];C=C.op;C._targets&&C._targets.remove(this)}this.source=this.pulse=null},evaluate(g){var u=this._update;if(u){const m=this.marshall(g.stamp);u=u.call(this,m,g);m.clear();if(u!==this.value)this.value=u;else if(!this.modified())return g.StopPropagation}},
run(g){if(g.stamp<this.stamp)return g.StopPropagation;let u;this.skip()?(this.skip(!1),u=0):u=this.evaluate(g);return this.pulse=u||g}};let ba=0;ub.prototype={_filter:k.truthy,_apply:k.identity,targets(){return this._targets||(this._targets=Gb(k.id))},consume(g){if(!arguments.length)return!!this._consume;this._consume=!!g;return this},receive(g){if(this._filter(g)){const u=this.value=this._apply(g),m=this._targets,C=m?m.length:0;for(let B=0;B<C;++B)m[B].receive(u);this._consume&&(g.preventDefault(),
g.stopPropagation())}},filter(g){g=Kb(g);this.targets().add(g);return g},apply(g){g=Kb(null,g);this.targets().add(g);return g},merge(){const g=Kb();this.targets().add(g);for(let u=0,m=arguments.length;u<m;++u)arguments[u].targets().add(g);return g},throttle(g){let u=-1;return this.filter(()=>{const m=Date.now();return m-u>g?(u=m,1):0})},debounce(g){const u=Kb();this.targets().add(Kb(null,null,k.debounce(g,m=>{const C=m.dataflow;u.receive(m);C&&C.run&&C.run()})));return u},between(g,u){let m=!1;g.targets().add(Kb(null,
null,()=>m=!0));u.targets().add(Kb(null,null,()=>m=!1));return this.filter(()=>m)},detach(){this._filter=k.truthy;this._targets=null}};const na={skip:!0},q={};pb.prototype={StopPropagation:q,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(g){return(new pb(this.dataflow)).init(this,g)},clone(){const g=this.fork(7);g.add=g.add.slice();g.rem=g.rem.slice();g.mod=g.mod.slice();g.source&&(g.source=g.source.slice());return g.materialize(23)},addAll(){let g=this;
g.source&&g.add!==g.rem&&(g.rem.length||g.source.length!==g.add.length)&&(g=(new pb(this.dataflow)).init(this),g.add=g.source,g.rem=[]);return g},init(g,u){this.stamp=g.stamp;this.encode=g.encode;!g.fields||u&64||(this.fields=g.fields);u&1?(this.addF=g.addF,this.add=g.add):(this.addF=null,this.add=[]);u&2?(this.remF=g.remF,this.rem=g.rem):(this.remF=null,this.rem=[]);u&4?(this.modF=g.modF,this.mod=g.mod):(this.modF=null,this.mod=[]);u&32?this.source=this.srcF=null:(this.srcF=g.srcF,this.source=g.source,
g.cleans&&(this.cleans=g.cleans));return this},runAfter(g){this.dataflow.runAfter(g)},changed(g){g=g||7;return g&1&&this.add.length||g&2&&this.rem.length||g&4&&this.mod.length},reflow(g){if(g)return this.fork(7).reflow();g=this.add.length;const u=this.source&&this.source.length;u&&u!==g&&(this.mod=this.source,g&&this.filter(4,Da(this,1)));return this},clean(g){return arguments.length?(this.cleans=!!g,this):this.cleans},modifies(g){const u=this.fields||(this.fields={});k.isArray(g)?g.forEach(m=>u[m]=
!0):u[g]=!0;return this},modified(g,u){const m=this.fields;return(u||this.mod.length)&&m?arguments.length?k.isArray(g)?g.some(C=>m[C]):m[g]:!!m:!1},filter(g,u){g&1&&(this.addF=Ka(this.addF,u));g&2&&(this.remF=Ka(this.remF,u));g&4&&(this.modF=Ka(this.modF,u));g&16&&(this.srcF=Ka(this.srcF,u));return this},materialize(g){g=g||7;g&1&&this.addF&&(this.add=Qa(this.add,this.addF),this.addF=null);g&2&&this.remF&&(this.rem=Qa(this.rem,this.remF),this.remF=null);g&4&&this.modF&&(this.mod=Qa(this.mod,this.modF),
this.modF=null);g&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(g,u){if(g&16)return k.visitArray(this.source,this.srcF,u),this;g&1&&k.visitArray(this.add,this.addF,u);g&2&&k.visitArray(this.rem,this.remF,u);g&4&&k.visitArray(this.mod,this.modF,u);const m=this.source;g&8&&m&&(g=this.add.length+this.mod.length,g!==m.length&&(g?k.visitArray(m,Da(this,5),u):k.visitArray(m,this.srcF,u)));return this}};k.inherits(lb,pb,{fork(g){const u=(new pb(this.dataflow)).init(this,
g&this.NO_FIELDS);void 0!==g&&(g&u.ADD&&this.visit(u.ADD,m=>u.add.push(m)),g&u.REM&&this.visit(u.REM,m=>u.rem.push(m)),g&u.MOD&&this.visit(u.MOD,m=>u.mod.push(m)));return u},changed(g){return this.changes&g},modified(g){const u=this.fields;return u&&this.changes&this.MOD?k.isArray(g)?g.some(m=>u[m]):u[g]:0},filter(){k.error("MultiPulse does not support filtering.")},materialize(){k.error("MultiPulse does not support materialization.")},visit(g,u){const m=this.pulses,C=m.length;let B=0;if(g&this.SOURCE)for(;B<
C;++B)m[B].visit(g,u);else for(;B<C;++B)m[B].stamp===this.stamp&&m[B].visit(g,u);return this}});const M={skip:!1,force:!1};Qb.prototype={stamp(){return this._clock},loader(g){return arguments.length?(this._loader=g,this):this._loader},locale(g){return arguments.length?(this._locale=g,this):this._locale},logger(g){return arguments.length?(this._log=g,this):this._log},error:Wb("error"),warn:Wb("warn"),info:Wb("info"),debug:Wb("debug"),logLevel:Wb("level"),cleanThreshold:1E4,add:function(g,u,m,C){let B=
1;g instanceof Yb||(g&&g.prototype instanceof Yb?g=new g:k.isFunction(g)?g=new Yb(null,g):(B=0,g=new Yb(g,u)));this.rank(g);B&&(C=m,m=u);m&&this.connect(g,g.parameters(m,C));this.touch(g);return g},connect:function(g,u){const m=g.rank,C=u.length;for(let B=0;B<C;++B)if(m<u[B].rank){this.rerank(g);break}},rank:function(g){g.rank=++this._rank},rerank:function(g){const u=[g];let m,C,B;for(;u.length;)if(this.rank(m=u.pop()),C=m._targets)for(B=C.length;0<=--B;)u.push(m=C[B]),m===g&&k.error("Cycle detected in dataflow graph.")},
pulse:function(g,u,m){this.touch(g,m||M);m=new pb(this,this._clock+(this._pulse?0:1));const C=g.pulse&&g.pulse.source||[];m.target=g;this._input[g.id]=u.pulse(m,C);return this},touch:function(g,u){u=u||M;this._pulse?this._enqueue(g):this._touched.add(g);u.skip&&g.skip(!0);return this},update:function(g,u,m){m=m||M;(g.set(u)||m.force)&&this.touch(g,m);return this},changeset:Bb,ingest:function(g,u,m){u=this.parse(u,m);return this.pulse(g,this.changeset().insert(u))},parse:function(g,u){const m=this.locale();
return P.read(g,u,m.timeParse,m.utcParse)},preload:function(g,u,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const B=C._pending||Lb(C);B.requests+=1;const A=yield C.request(u,m);C.pulse(g,C.changeset().remove(k.truthy).insert(A.data||[]));B.done();return A})},request:function(g,u){const m=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let C=0,B;try{B=yield m.loader().load(g,{context:"dataflow",response:P.responseType(u&&u.type)});try{B=m.parse(B,
u)}catch(A){C=-2,m.warn("Data ingestion failed",g,A)}}catch(A){C=-1,m.warn("Loading failed",g,A)}return{data:B,status:C}})},events:function(g,u,m,C){const B=this,A=Kb(m,C);m=function(E){E.dataflow=B;try{A.receive(E)}catch(H){B.error(H)}finally{B.run()}};g="string"===typeof g&&"undefined"!==typeof document?document.querySelectorAll(g):k.array(g);C=g.length;for(let E=0;E<C;++E)g[E].addEventListener(u,m);return A},on:function(g,u,m,C,B){(g instanceof Yb?Pb:Cb)(this,g,u,m,C,B);return this},evaluate:function(g,
u,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const B=[];if(C._pulse)return mb(C);C._pending&&(yield C._pending);u&&(yield ac(C,u));if(!C._touched.length)return C.debug("Dataflow invoked, but nothing to do."),C;var A=++C._clock;C._pulse=new pb(C,A,g);C._touched.forEach(Y=>C._enqueue(Y,!0));C._touched=Gb(k.id);var E=0;let H,V,Aa;try{for(;0<C._heap.size();)H=C._heap.pop(),H.rank!==H.qrank?C._enqueue(H,!0):(V=H.run(C._getPulse(H,g)),V.then?V=yield V:V.async&&(B.push(V.async),
V=q),V!==q&&H._targets&&H._targets.forEach(Y=>C._enqueue(Y)),++E)}catch(Y){C._heap.clear(),Aa=Y}C._input={};C._pulse=null;C.debug(`Pulse ${A}: ${E} operators`);Aa&&(C._postrun=[],C.error(Aa));if(C._postrun.length)for(A=C._postrun.sort((Y,t)=>t.priority-Y.priority),C._postrun=[],E=0;E<A.length;++E)yield ac(C,A[E].callback);m&&(yield ac(C,m));B.length&&Promise.all(B).then(Y=>C.runAsync(null,()=>{Y.forEach(t=>{try{t(C)}catch(L){C.error(L)}})}));return C})},run:function(g,u,m){return this._pulse?mb(this):
(this.evaluate(g,u,m),this)},runAsync:function(g,u,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;C._running;)yield C._running;const B=()=>C._running=null;(C._running=C.evaluate(g,u,m)).then(B,B);return C._running})},runAfter:function(g,u,m){if(this._pulse||u)this._postrun.push({priority:m||0,callback:g});else try{g(this)}catch(C){this.error(C)}},_enqueue:function(g,u){const m=g.stamp<this._clock;m&&(g.stamp=this._clock);if(m||u)g.qrank=g.rank,this._heap.push(g)},
_getPulse:function(g,u){const m=g.source,C=this._clock;return m&&k.isArray(m)?new lb(this,C,m.map(B=>B.pulse),u):this._input[g.id]||Pa(this._pulse,m&&m.pulse)}};k.inherits(ob,Yb,{run(g){if(g.stamp<this.stamp)return g.StopPropagation;let u;this.skip()?this.skip(!1):u=this.evaluate(g);u=u||g;u.then?u=u.then(m=>this.pulse=m):u!==g.StopPropagation&&(this.pulse=u);return u},evaluate(g){const u=this.marshall(g.stamp);g=this.transform(u,g);u.clear();return g},transform(){}});const Q={};v.Dataflow=Qb;v.EventStream=
ub;v.MultiPulse=lb;v.Operator=Yb;v.Parameters=jc;v.Pulse=pb;v.Transform=ob;v.UniqueList=Gb;v.asyncCallback=ac;v.changeset=Bb;v.definition=function(g){return(g=pa(g))&&g.Definition||null};v.derive=function(g){return Ac(g,vc({}))};v.ingest=vc;v.isChangeSet=uc;v.isTuple=function(g){return!(!g||!g[Z])};v.rederive=Ac;v.replace=function(g,u){u[Z]=g[Z];return u};v.stableCompare=function(g,u){return g?u?(m,C)=>g(m,C)||u(m)[Z]-u(C)[Z]:(m,C)=>g(m,C)||m[Z]-C[Z]:null};v.transform=pa;v.transforms=Q;v.tupleid=
function(g){return g[Z]}})};
shadow$provide[30]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb):"function"===typeof define&&define.amd?define(["exports"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={}))})(this,function(v){function*k(m,C){if(null==C)for(var B of m)null!=B&&""!==B&&(B=+B)>=B&&(yield B);else{B=-1;for(let A of m)A=C(A,++B,m),null!=A&&""!==A&&(A=+A)>=A&&(yield A)}}function P(m,C){return null==m||null==C?NaN:m<C?-1:m>C?1:m>=C?0:NaN}function ib(m){return null===
m?NaN:+m}function*Gb(m,C){if(void 0===C)for(var B of m)null!=B&&(B=+B)>=B&&(yield B);else{B=-1;for(let A of m)null!=(A=C(A,++B,m))&&(A=+A)>=A&&(yield A)}}function ac(m=P){if(m===P)return vc;if("function"!==typeof m)throw new TypeError("compare is not a function");return(C,B)=>{const A=m(C,B);return A||0===A?A:(0===m(B,B))-(0===m(C,C))}}function vc(m,C){return(null==m||!(m>=m))-(null==C||!(C>=C))||(m<C?-1:m>C?1:0)}function Ac(m,C){let B;if(void 0===C)for(var A of m)null!=A&&(B<A||void 0===B&&A>=A)&&
(B=A);else{A=-1;for(let E of m)null!=(E=C(E,++A,m))&&(B<E||void 0===B&&E>=E)&&(B=E)}return B}function uc(m,C){let B;if(void 0===C)for(var A of m)null!=A&&(B>A||void 0===B&&A>=A)&&(B=A);else{A=-1;for(let E of m)null!=(E=C(E,++A,m))&&(B>E||void 0===B&&E>=E)&&(B=E)}return B}function Bb(m,C,B=0,A=Infinity,E){C=Math.floor(C);B=Math.floor(Math.max(0,B));A=Math.floor(Math.min(m.length-1,A));if(!(B<=C&&C<=A))return m;for(E=void 0===E?vc:ac(E);A>B;){if(600<A-B){var H=A-B+1,V=C-B+1,Aa=Math.log(H),Y=.5*Math.exp(2*
Aa/3);Aa=.5*Math.sqrt(Aa*Y*(H-Y)/H)*(0>V-H/2?-1:1);Bb(m,C,Math.max(B,Math.floor(C-V*Y/H+Aa)),Math.min(A,Math.floor(C+(H-V)*Y/H+Aa)),E)}H=m[C];V=B;Y=A;jc(m,B,C);for(0<E(m[A],H)&&jc(m,B,A);V<Y;){jc(m,V,Y);++V;for(--Y;0>E(m[V],H);)++V;for(;0<E(m[Y],H);)--Y}0===E(m[B],H)?jc(m,B,Y):(++Y,jc(m,Y,A));Y<=C&&(B=Y+1);C<=Y&&(A=Y-1)}return m}function jc(m,C,B){const A=m[C];m[C]=m[B];m[B]=A}function Yb(m,C,B){m=Float64Array.from(Gb(m,B));if((B=m.length)&&!isNaN(C=+C)){if(0>=C||2>B)return uc(m);if(1<=C)return Ac(m);
C*=B-1;B=Math.floor(C);var A=Ac(Bb(m,B).subarray(0,B+1));m=uc(m.subarray(B+1));return A+(m-A)*(C-B)}}function Ua(m,C,B=ib){if((A=m.length)&&!isNaN(C=+C)){if(0>=C||2>A)return+B(m[0],0,m);if(1<=C)return+B(m[A-1],A-1,m);var A;C*=A-1;A=Math.floor(C);var E=+B(m[A],A,m);m=+B(m[A+1],A+1,m);return E+(m-E)*(C-A)}}function ub(m,C,B){const A=Float64Array.from(k(m,B));A.sort(P);return C.map(E=>Ua(A,E))}function Kb(m,C){return ub(m,[.25,.5,.75],C)}function Lb(m,C){const B=m.length;{var A=0;let H,V=0,Aa=0;if(void 0===
C)for(var E of m)null!=E&&(E=+E)>=E&&(H=E-V,V+=H/++A,Aa+=H*(E-V));else{E=-1;for(let Y of m)null!=(Y=C(Y,++E,m))&&(Y=+Y)>=Y&&(H=Y-V,V+=H/++A,Aa+=H*(Y-V))}A=1<A?Aa/(A-1):void 0}A=A?Math.sqrt(A):A;m=Kb(m,C);return 1.06*(Math.min(A,(m[2]-m[0])/1.34)||A||Math.abs(m[0])||1)*Math.pow(B,-.2)}function Cb(m,C){const B=m.length;let A=0,E=1,H,V;for(;m[A]===m[E];)++E;for(;E<B;){for(H=E+1;m[E]===m[H];)++H;if(m[E]-m[E-1]<C){for(V=E+(A+H-E-E>>1);V<E;)m[V++]=m[E];for(;V>E;)m[V--]=m[A]}A=E;E=H}return m}function Pb(m,
C){m=m||0;C=null==C?1:C;let B,A;if(g===g)B=g,g=NaN;else{do{B=2*v.random()-1;A=2*v.random()-1;var E=B*B+A*A}while(0===E||1<E);E=Math.sqrt(-2*Math.log(E)/E);B*=E;g=A*E}return m+B*C}function ab(m,C,B){B=null==B?1:B;m=(m-(C||0))/B;return Math.exp(-.5*m*m)/(B*M)}function pb(m,C,B){m=(m-(C||0))/(null==B?1:B);C=Math.abs(m);37<C?B=0:(B=Math.exp(-C*C/2),7.07106781186547>C?(B*=(((((.0352624965998911*C+.700383064443688)*C+6.37396220353165)*C+33.912866078383)*C+112.079291497871)*C+221.213596169931)*C+220.206867912376,
B/=((((((.0883883476483184*C+1.75566716318264)*C+16.064177579207)*C+86.7807322029461)*C+296.564248779674)*C+637.333633378831)*C+793.826512519948)*C+440.413735824752):B=B/(C+1/(C+2/(C+3/(C+4/(C+.65)))))/2.506628274631);return 0<m?1-B:B}function Qa(m,C,B){if(0>m||1<m)return NaN;m=2*m-1;var A=-Math.log((1-m)*(1+m));6.25>A?(A-=3.125,A=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+(4.2347877827932404E-7+
(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A):16>A?(A=Math.sqrt(A)-3.25,A=3.0838856104922208+(1.0052589676941592+(.005370914553590064+
(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A):Number.isFinite(A)?(A=Math.sqrt(A)-5,A=4.849906401408584+(1.0103004648645344+(-1.3871931833623122E-4+
(-2.1503011930044477E-4+(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A)*A):A=Infinity;return(C||0)+(null==B?1:B)*Q*A*m}function Da(m,C){let B,A;const E={mean(H){return arguments.length?(B=H||0,E):B},stdev(H){return arguments.length?
(A=null==H?1:H,E):A},sample:()=>Pb(B,A),pdf:H=>ab(H,B,A),cdf:H=>pb(H,B,A),icdf:H=>Qa(H,B,A)};return E.mean(m).stdev(C)}function Ka(m,C){C=null==C?1:C;return Math.exp((m||0)+Pb()*C)}function lb(m,C,B){if(0>=m)return 0;B=null==B?1:B;C=(Math.log(m)-(C||0))/B;return Math.exp(-.5*C*C)/(B*M*m)}function mb(m,C,B){return pb(Math.log(m),C,B)}function Pa(m,C,B){return Math.exp(Qa(m,C,B))}function xb(m,C){null==C&&(C=null==m?1:m,m=0);return m+(C-m)*v.random()}function sb(m,C,B){null==B&&(B=null==C?1:C,C=0);
return m>=C&&m<=B?1/(B-C):0}function Qb(m,C,B){null==B&&(B=null==C?1:C,C=0);return m<C?0:m>B?1:(m-C)/(B-C)}function Wb(m,C,B){null==B&&(B=null==C?1:C,C=0);return 0<=m&&1>=m?C+m*(B-C):NaN}function ob(m,C,B){let A=0,E=0;for(const H of m)m=B(H),null==C(H)||null==m||isNaN(m)||(A+=(m-A)/++E);return{coef:[A],predict:()=>A,rSquared:0}}function pa(m,C,B,A){A-=m*m;B=1E-24>Math.abs(A)?0:(B-m*C)/A;return[C-B*m,B]}function Z(m,C,B,A){m=m.filter(va=>{let La=C(va);va=B(va);return null!=La&&(La=+La)>=La&&null!=
va&&(va=+va)>=va});A&&m.sort((va,La)=>C(va)-C(La));A=m.length;const E=new Float64Array(A),H=new Float64Array(A);let V=0,Aa=0,Y=0,t,L;for(L of m)E[V]=m=+C(L),H[V]=t=+B(L),++V,Aa+=(m-Aa)/V,Y+=(t-Y)/V;for(V=0;V<A;++V)E[V]-=Aa,H[V]-=Y;return[E,H,Aa,Y]}function Fa(m,C,B,A){let E=-1,H;for(const V of m)m=C(V),H=B(V),null!=m&&(m=+m)>=m&&null!=H&&(H=+H)>=H&&A(m,H,++E)}function Ga(m,C,B,A,E){let H=0,V=0;Fa(m,C,B,(Aa,Y)=>{Aa=Y-E(Aa);Y-=A;H+=Aa*Aa;V+=Y*Y});return 1-H/V}function db(m,C,B){let A=0,E=0,H=0,V=0,
Aa=0;Fa(m,C,B,(L,va)=>{++Aa;A+=(L-A)/Aa;E+=(va-E)/Aa;H+=(L*va-H)/Aa;V+=(L*L-V)/Aa});const Y=pa(A,E,H,V),t=L=>Y[0]+Y[1]*L;return{coef:Y,predict:t,rSquared:Ga(m,C,B,E,t)}}function ba(m,C,B){const [A,E,H,V]=Z(m,C,B);var Aa=A.length,Y=0;let t=0;var L=0;let va=0,La=0,Wa,$a,X,Ca;for(Wa=0;Wa<Aa;)$a=A[Wa],X=E[Wa++],Ca=$a*$a,Y+=(Ca-Y)/Wa,t+=(Ca*$a-t)/Wa,L+=(Ca*Ca-L)/Wa,va+=($a*X-va)/Wa,La+=(Ca*X-La)/Wa;Aa=L-Y*Y;L=Y*Aa-t*t;const Ya=(La*Y-va*t)/L,Ib=(va*Aa-La*t)/L,yc=-Ya*Y;Y=sc=>{sc-=H;return Ya*sc*sc+Ib*sc+
yc+V};return{coef:[yc-Ib*H+Ya*H*H+V,Ib-2*Ya*H,Ya],predict:Y,rSquared:Ga(m,C,B,V,Y)}}function na(m,C,B,A){const E=Array(m);let H,V,Aa;for(H=0;H<m;++H)E[H]=0;for(H=m-1;0<=H;--H)for(V=C[H],Aa=1,E[H]+=V,m=1;m<=H;++m)Aa*=(H+1-m)/m,E[H-m]+=V*Math.pow(B,m)*Aa;E[0]+=A;return E}function q(m){const C=m.length-1,B=[];let A,E,H,V,Aa;for(A=0;A<C;++A){V=A;for(E=A+1;E<C;++E)Math.abs(m[A][E])>Math.abs(m[A][V])&&(V=E);for(H=A;H<C+1;++H)Aa=m[H][A],m[H][A]=m[H][V],m[H][V]=Aa;for(E=A+1;E<C;++E)for(H=C;H>=A;H--)m[H][E]-=
m[H][A]*m[A][E]/m[A][A]}for(E=C-1;0<=E;--E){Aa=0;for(H=E+1;H<C;++H)Aa+=m[H][E]*B[H];B[E]=(m[C][E]-Aa)/m[E][E]}return B}v.random=Math.random;const M=Math.sqrt(2*Math.PI),Q=Math.SQRT2;let g=NaN;const u=.5*Math.PI/180;v.bandwidthNRD=Lb;v.bin=function(m){var C=m.maxbins||20;const B=m.base||10,A=Math.log(B),E=m.divide||[5,2];let H=m.extent[0],V=m.extent[1];let Aa,Y,t,L;const va=m.span||V-H||Math.abs(H)||1;if(m.step)var La=m.step;else if(m.steps){Y=va/C;t=0;for(L=m.steps.length;t<L&&m.steps[t]<Y;++t);La=
m.steps[Math.max(0,t-1)]}else{La=Math.ceil(Math.log(C)/A);Aa=m.minstep||0;for(La=Math.max(Aa,Math.pow(B,Math.round(Math.log(va)/A)-La));Math.ceil(va/La)>C;)La*=B;t=0;for(L=E.length;t<L;++t)Y=La/E[t],Y>=Aa&&va/Y<=C&&(La=Y)}Y=Math.log(La);C=Math.pow(B,-(0<=Y?0:~~(-Y/A)+1)-1);if(m.nice||void 0===m.nice)Y=Math.floor(H/La+C)*La,H=H<Y?Y-La:Y,V=Math.ceil(V/La)*La;return{start:H,stop:V===H?H+La:V,step:La}};v.bootstrapCI=function(m,C,B,A){if(!m.length)return[void 0,void 0];m=Float64Array.from(k(m,A));A=m.length;
let E,H,V,Aa;V=0;for(Aa=Array(C);V<C;++V){for(H=E=0;H<A;++H)E+=m[~~(v.random()*A)];Aa[V]=E/A}Aa.sort(P);return[Yb(Aa,B/2),Yb(Aa,1-B/2)]};v.cumulativeLogNormal=mb;v.cumulativeNormal=pb;v.cumulativeUniform=Qb;v.densityLogNormal=lb;v.densityNormal=ab;v.densityUniform=sb;v.dotbin=function(m,C,B,A){A=A||(La=>La);const E=m.length,H=new Float64Array(E);let V=0,Aa=1,Y=A(m[0]),t=Y,L=Y+C,va;for(;Aa<E;++Aa){va=A(m[Aa]);if(va>=L){for(t=(Y+t)/2;V<Aa;++V)H[V]=t;L=va+C;Y=va}t=va}for(t=(Y+t)/2;V<Aa;++V)H[V]=t;return B?
Cb(H,C+C/4):H};v.quantileLogNormal=Pa;v.quantileNormal=Qa;v.quantileUniform=Wb;v.quantiles=ub;v.quartiles=Kb;v.randomInteger=function(m,C){null==C&&(C=m,m=0);let B,A,E;const H={min(V){return arguments.length?(B=V||0,E=A-B,H):B},max(V){return arguments.length?(A=V||0,E=A-B,H):A},sample(){return B+Math.floor(E*v.random())},pdf(V){return V===Math.floor(V)&&V>=B&&V<A?1/E:0},cdf(V){V=Math.floor(V);return V<B?0:V>=A?1:(V-B+1)/E},icdf(V){return 0<=V&&1>=V?B-1+Math.floor(V*E):NaN}};return H.min(m).max(C)};
v.randomKDE=function(m,C){const B=Da();let A=0;const E={data(H){return arguments.length?(A=(m=H)?H.length:0,E.bandwidth(C)):m},bandwidth(H){if(!arguments.length)return C;C=H;!C&&m&&(C=Lb(m));return E},sample(){return m[~~(v.random()*A)]+C*B.sample()},pdf(H){let V=0,Aa=0;for(;Aa<A;++Aa)V+=B.pdf((H-m[Aa])/C);return V/C/A},cdf(H){let V=0,Aa=0;for(;Aa<A;++Aa)V+=B.cdf((H-m[Aa])/C);return V/A},icdf(){throw Error("KDE icdf not supported.");}};return E.data(m)};v.randomLCG=function(m){return function(){m=
(1103515245*m+12345)%2147483647;return m/2147483647}};v.randomLogNormal=function(m,C){let B,A;const E={mean(H){return arguments.length?(B=H||0,E):B},stdev(H){return arguments.length?(A=null==H?1:H,E):A},sample:()=>Ka(B,A),pdf:H=>lb(H,B,A),cdf:H=>mb(H,B,A),icdf:H=>Pa(H,B,A)};return E.mean(m).stdev(C)};v.randomMixture=function(m,C){let B=0,A;const E={weights(H){if(arguments.length){var V=C=H||[];const Aa=[];let Y=0,t;for(t=0;t<B;++t)Y+=Aa[t]=null==V[t]?1:+V[t];for(t=0;t<B;++t)Aa[t]/=Y;A=Aa;return E}return C},
distributions(H){return arguments.length?(H?(B=H.length,m=H):(B=0,m=[]),E.weights(C)):m},sample(){const H=v.random();let V=m[B-1],Aa=A[0],Y=0;for(;Y<B-1;Aa+=A[++Y])if(H<Aa){V=m[Y];break}return V.sample()},pdf(H){let V=0,Aa=0;for(;Aa<B;++Aa)V+=A[Aa]*m[Aa].pdf(H);return V},cdf(H){let V=0,Aa=0;for(;Aa<B;++Aa)V+=A[Aa]*m[Aa].cdf(H);return V},icdf(){throw Error("Mixture icdf not supported.");}};return E.distributions(m).weights(C)};v.randomNormal=Da;v.randomUniform=function(m,C){let B,A;const E={min(H){return arguments.length?
(B=H||0,E):B},max(H){return arguments.length?(A=null==H?1:H,E):A},sample:()=>xb(B,A),pdf:H=>sb(H,B,A),cdf:H=>Qb(H,B,A),icdf:H=>Wb(H,B,A)};null==C&&(C=null==m?1:m,m=0);return E.min(m).max(C)};v.regressionConstant=ob;v.regressionExp=function(m,C,B){const [A,,E,H]=Z(m,C,B);let V=0,Aa=0,Y=0,t=0,L=0,va,La,Wa;Fa(m,C,B,(Ya,Ib)=>{va=A[L++];La=Math.log(Ib);Wa=va*Ib;V+=(Ib*La-V)/L;Aa+=(Wa-Aa)/L;Y+=(Wa*La-Y)/L;t+=(va*Wa-t)/L});const [$a,X]=pa(Aa/H,V/H,Y/H,t/H),Ca=Ya=>Math.exp($a+X*(Ya-E));return{coef:[Math.exp($a-
X*E),X],predict:Ca,rSquared:Ga(m,C,B,H,Ca)}};v.regressionLinear=db;v.regressionLoess=function(m,C,B,A){const [E,H,V,Aa]=Z(m,C,B,!0);m=E.length;C=Math.max(2,~~(A*m));A=new Float64Array(m);B=new Float64Array(m);var Y=(new Float64Array(m)).fill(1);for(var t=-1;2>=++t;){var L=[0,C-1];for(let yc=0;yc<m;++yc){var va=E[yc],La=L[0],Wa=L[1],$a=0,X=0,Ca=0,Ya=0;let sc=0;const xc=1/Math.abs(E[va-E[La]>E[Wa]-va?La:Wa]-va||1);for(;La<=Wa;++La){const Rc=E[La],Pd=H[La];var Ib=Math.abs(va-Rc)*xc;const Ma=(Ib=1-Ib*
Ib*Ib)*Ib*Ib*Y[La];Ib=Rc*Ma;$a+=Ma;X+=Ib;Ca+=Pd*Ma;Ya+=Pd*Ib;sc+=Rc*Ib}const [cd,Zb]=pa(X/$a,Ca/$a,Ya/$a,sc/$a);A[yc]=cd+Zb*va;B[yc]=Math.abs(H[yc]-A[yc]);va=E;Wa=yc+1;$a=L;X=va[Wa];Ca=$a[0];Ya=$a[1]+1;if(!(Ya>=va.length))for(;Wa>Ca&&va[Ya]-X<=X-va[Ca];)$a[0]=++Ca,$a[1]=Ya,++Ya}if(2===t)break;L=Yb(B,.5,void 0);if(1E-12>Math.abs(L))break;for(let yc=0,sc,xc;yc<m;++yc)sc=B[yc]/(6*L),Y[yc]=1<=sc?1E-12:(xc=1-sc*sc)*xc}m=E.length;C=[];Y=B=0;for(t=[];B<m;++B)L=E[B]+V,t[0]===L?t[1]+=(A[B]-t[1])/++Y:(Y=0,
t[1]+=Aa,t=[L,A[B]],C.push(t));t[1]+=Aa;return C};v.regressionLog=function(m,C,B){let A=0,E=0,H=0,V=0,Aa=0;Fa(m,C,B,(L,va)=>{++Aa;L=Math.log(L);A+=(L-A)/Aa;E+=(va-E)/Aa;H+=(L*va-H)/Aa;V+=(L*L-V)/Aa});const Y=pa(A,E,H,V),t=L=>Y[0]+Y[1]*Math.log(L);return{coef:Y,predict:t,rSquared:Ga(m,C,B,E,t)}};v.regressionPoly=function(m,C,B,A){if(0===A)return ob(m,C,B);if(1===A)return db(m,C,B);if(2===A)return ba(m,C,B);const [E,H,V,Aa]=Z(m,C,B);var Y=E.length;const t=[],L=[],va=A+1;let La,Wa,$a,X;for(La=0;La<va;++La){for($a=
Wa=0;Wa<Y;++Wa)$a+=Math.pow(E[Wa],La)*H[Wa];t.push($a);X=new Float64Array(va);for(A=0;A<va;++A){for($a=Wa=0;Wa<Y;++Wa)$a+=Math.pow(E[Wa],La+A);X[A]=$a}L.push(X)}L.push(t);const Ca=q(L);Y=Ya=>{Ya-=V;let Ib=Aa+Ca[0]+Ca[1]*Ya+Ca[2]*Ya*Ya;for(La=3;La<va;++La)Ib+=Ca[La]*Math.pow(Ya,La);return Ib};return{coef:na(va,Ca,-V,Aa),predict:Y,rSquared:Ga(m,C,B,Aa,Y)}};v.regressionPow=function(m,C,B){let A=0,E=0,H=0,V=0,Aa=0,Y=0;Fa(m,C,B,(va,La)=>{va=Math.log(va);const Wa=Math.log(La);++Y;A+=(va-A)/Y;E+=(Wa-E)/
Y;H+=(va*Wa-H)/Y;V+=(va*va-V)/Y;Aa+=(La-Aa)/Y});const t=pa(A,E,H,V),L=va=>t[0]*Math.pow(va,t[1]);t[0]=Math.exp(t[0]);return{coef:t,predict:L,rSquared:Ga(m,C,B,Aa,L)}};v.regressionQuad=ba;v.sampleCurve=function(m,C,B,A){B=B||25;A=Math.max(B,A||200);var E=C[0],H=C[1],V=H-E,Aa=V/A;C=[[E,m(E)]];var Y=[];if(B===A){for(var t=1;t<A;++t){Aa=C;Y=Aa.push;var L=E+t/B*V;L=[L,m(L)];Y.call(Aa,L)}C.push([H,m(H)]);return C}Y.push([H,m(H)]);for(t=B;0<--t;)A=Y,H=A.push,L=E+t/B*V,L=[L,m(L)],H.call(A,L);B=C[0];E=Y[Y.length-
1];V=1/V;A=H=B[1];t=Y.length;for(L=0;L<t;++L){const va=Y[L][1];va<A&&(A=va);va>H&&(H=va)}for(A=1/(H-A);E;)H=(B[0]+E[0])/2,H=[H,m(H)],H[0]-B[0]>=Aa&&Math.abs(Math.atan2(A*(E[1]-B[1]),V*(E[0]-B[0]))-Math.atan2(A*(H[1]-B[1]),V*(H[0]-B[0])))>u?Y.push(H):(B=E,C.push(E),Y.pop()),E=Y[Y.length-1];return C};v.sampleLogNormal=Ka;v.sampleNormal=Pb;v.sampleUniform=xb;v.setRandom=function(m){v.random=m}})};
shadow$provide[31]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(21),Db(29),Db(30),Db(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow","vega-statistics","vega-time"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,P,ib,Gb){function ac(N){return la=>{const za=N.length;let fb=1,Hb=String(N[0](la));for(;fb<za;++fb)Hb+="|"+N[fb](la);return Hb}}function vc(N){return N&&
N.length?1===N.length?N[0]:ac(N):function(){return""}}function Ac(N,la){return za=>k.extend({name:N,out:za||N},ic,la)}function uc(N,la){return N.idx-la.idx}function Bb(N){const la={};N.forEach(fb=>la[fb.name]=fb);const za=fb=>{fb.req&&fb.req.forEach(Hb=>{la[Hb]||za(la[Hb]=Tc[Hb]())})};N.forEach(za);return Object.values(la).sort(uc)}function jc(){this.missing=this.valid=0;this._ops.forEach(N=>N.init(this))}function Yb(N,la){null==N||""===N?++this.missing:N===N&&(++this.valid,this._ops.forEach(za=>
za.add(this,N,la)))}function Ua(N,la){null==N||""===N?--this.missing:N===N&&(--this.valid,this._ops.forEach(za=>za.rem(this,N,la)))}function ub(N){this._out.forEach(la=>N[la.out]=la.value(this));return N}function Kb(N,la){function za(Xb){this._ops=fb;this._out=Hb;this.cell=Xb;this.init()}la=la||k.identity;const fb=Bb(N),Hb=N.slice().sort(uc);za.prototype.init=jc;za.prototype.add=Yb;za.prototype.rem=Ua;za.prototype.set=ub;za.prototype.get=la;za.fields=N.map(Xb=>Xb.out);return za}function Lb(N){this._key=
N?k.field(N):P.tupleid;this.reset()}function Cb(N){P.Transform.call(this,null,N);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function Pb(N){P.Transform.call(this,null,N)}function ab(N,la,za){let fb=la||[],Hb=za||[],Xb={},Bc=0;return{add:lc=>Hb.push(lc),remove:lc=>Xb[N(lc)]=++Bc,size:()=>fb.length,data:(lc,Gc)=>{Bc&&(fb=fb.filter(id=>!Xb[N(id)]),
Xb={},Bc=0);Gc&&lc&&fb.sort(lc);Hb.length&&(fb=lc?k.merge(lc,fb,Hb.sort(lc)):fb.concat(Hb),Hb=[]);return fb}}}function pb(N){P.Transform.call(this,[],N)}function Qa(N){P.Operator.call(this,null,Da,N)}function Da(N){return this.value&&!N.modified()?this.value:k.compare(N.fields,N.orders)}function Ka(N){P.Transform.call(this,null,N)}function lb(N){P.Transform.call(this,null,N)}function mb(N,la){var za=N["function"];k.hasOwnProperty(Qd,za)||k.error("Unknown distribution function: "+za);za=Qd[za]();for(const fb in N)if("field"===
fb)za.data((N.from||la()).map(N[fb]));else if("distributions"===fb)za[fb](N[fb].map(Hb=>mb(Hb,la)));else if("function"===typeof za[fb])za[fb](N[fb]);return za}function Pa(N){P.Transform.call(this,null,N)}function xb(N){return()=>N.materialize(N.SOURCE).source}function sb(N,la){return N?N.map((za,fb)=>la[fb]||k.accessorName(za)):null}function Qb(N,la,za){const fb=[],Hb=sd=>sd(Gc);let Xb,Bc,lc,Gc,id,Nc;if(null==la)fb.push(N.map(za));else for(Xb={},Bc=0,lc=N.length;Bc<lc;++Bc)Gc=N[Bc],id=la.map(Hb),
Nc=Xb[id],Nc||(Xb[id]=Nc=[],Nc.dims=id,fb.push(Nc)),Nc.push(za(Gc));return fb}function Wb(N){P.Transform.call(this,null,N)}function ob(N){P.Operator.call(this,null,pa,N);this.modified(!0)}function pa(N){const la=N.expr;return this.value&&!N.modified("expr")?this.value:k.accessor(za=>la(za,N),k.accessorFields(la),k.accessorName(la))}function Z(N){P.Transform.call(this,[void 0,void 0],N)}function Fa(N,la){P.Operator.call(this,N);this.parent=la;this.count=0}function Ga(N){P.Transform.call(this,{},N);
this._keys=k.fastmap();const la=this._targets=[];la.active=0;la.forEach=za=>{for(let fb=0,Hb=la.active;fb<Hb;++fb)za(la[fb],fb,la)}}function db(N){P.Operator.call(this,null,ba,N)}function ba(N){return this.value&&!N.modified()?this.value:k.isArray(N.name)?k.array(N.name).map(la=>k.field(la)):k.field(N.name,N.as)}function na(N){P.Transform.call(this,k.fastmap(),N)}function q(N){P.Transform.call(this,[],N)}function M(N){P.Transform.call(this,[],N)}function Q(N){P.Transform.call(this,null,N)}function g(N){P.Transform.call(this,
[],N)}function u(N,la){return null==N||null==la?NaN:N<la?-1:N>la?1:N>=la?0:NaN}function m(N,la){return null==N||null==la?NaN:la<N?-1:la>N?1:la>=N?0:NaN}function C(N){function la(Xb,Bc,lc=0,Gc=Xb.length){if(lc<Gc){if(0!==za(Bc,Bc))return Gc;do{const id=lc+Gc>>>1;0>fb(Xb[id],Bc)?lc=id+1:Gc=id}while(lc<Gc)}return lc}let za,fb,Hb;2!==N.length?(za=u,fb=(Xb,Bc)=>u(N(Xb),Bc),Hb=(Xb,Bc)=>N(Xb)-Bc):(za=N===u||N===m?N:B,Hb=fb=N);return{left:la,center:function(Xb,Bc,lc=0,Gc=Xb.length){Gc=la(Xb,Bc,lc,Gc-1);return Gc>
lc&&Hb(Xb[Gc-1],Bc)>-Hb(Xb[Gc],Bc)?Gc-1:Gc},right:function(Xb,Bc,lc=0,Gc=Xb.length){if(lc<Gc){if(0!==za(Bc,Bc))return Gc;do{const id=lc+Gc>>>1;0>=fb(Xb[id],Bc)?lc=id+1:Gc=id}while(lc<Gc)}return lc}}}function B(){return 0}function*A(N,la){if(void 0===la)for(var za of N)null!=za&&(za=+za)>=za&&(yield za);else{za=-1;for(let fb of N)null!=(fb=la(fb,++za,N))&&(fb=+fb)>=fb&&(yield fb)}}function E(N=u){if(N===u)return H;if("function"!==typeof N)throw new TypeError("compare is not a function");return(la,
za)=>{const fb=N(la,za);return fb||0===fb?fb:(0===N(za,za))-(0===N(la,la))}}function H(N,la){return(null==N||!(N>=N))-(null==la||!(la>=la))||(N<la?-1:N>la?1:0)}function V(N,la){let za;if(void 0===la)for(var fb of N)null!=fb&&(za<fb||void 0===za&&fb>=fb)&&(za=fb);else{fb=-1;for(let Hb of N)null!=(Hb=la(Hb,++fb,N))&&(za<Hb||void 0===za&&Hb>=Hb)&&(za=Hb)}return za}function Aa(N,la){let za;if(void 0===la)for(var fb of N)null!=fb&&(za>fb||void 0===za&&fb>=fb)&&(za=fb);else{fb=-1;for(let Hb of N)null!=
(Hb=la(Hb,++fb,N))&&(za>Hb||void 0===za&&Hb>=Hb)&&(za=Hb)}return za}function Y(N,la,za=0,fb=Infinity,Hb){la=Math.floor(la);za=Math.floor(Math.max(0,za));fb=Math.floor(Math.min(N.length-1,fb));if(!(za<=la&&la<=fb))return N;for(Hb=void 0===Hb?H:E(Hb);fb>za;){if(600<fb-za){var Xb=fb-za+1,Bc=la-za+1,lc=Math.log(Xb),Gc=.5*Math.exp(2*lc/3);lc=.5*Math.sqrt(lc*Gc*(Xb-Gc)/Xb)*(0>Bc-Xb/2?-1:1);Y(N,la,Math.max(za,Math.floor(la-Bc*Gc/Xb+lc)),Math.min(fb,Math.floor(la+(Xb-Bc)*Gc/Xb+lc)),Hb)}Xb=N[la];Bc=za;Gc=
fb;t(N,za,la);for(0<Hb(N[fb],Xb)&&t(N,za,fb);Bc<Gc;){t(N,Bc,Gc);++Bc;for(--Gc;0>Hb(N[Bc],Xb);)++Bc;for(;0<Hb(N[Gc],Xb);)--Gc}0===Hb(N[za],Xb)?t(N,za,Gc):(++Gc,t(N,Gc,fb));Gc<=la&&(za=Gc+1);la<=Gc&&(fb=Gc-1)}return N}function t(N,la,za){const fb=N[la];N[la]=N[za];N[za]=fb}function L(N,la,za){N=+N;la=+la;za=2>(Hb=arguments.length)?(la=N,N=0,1):3>Hb?1:+za;for(var fb=-1,Hb=Math.max(0,Math.ceil((la-N)/za))|0,Xb=Array(Hb);++fb<Hb;)Xb[fb]=N+fb*za;return Xb}function va(N){P.Transform.call(this,[],N)}function La(N){var la=
N.method||Fd.value;if(null==Fd[la])k.error("Unrecognized imputation method: "+la);else{if(la===Fd.value){var za=void 0!==N.value?N.value:0;return()=>za}return Fd[la]}}function Wa(N){const la=N.field;return za=>za?la(za):NaN}function $a(N,la,za,fb){var Hb=Wd=>Wd(sd),Xb=[];fb=fb?fb.slice():[];var Bc={},lc={},Gc,id;fb.forEach((Wd,ae)=>Bc[Wd]=ae+1);var Nc=0;for(id=N.length;Nc<id;++Nc){var sd=N[Nc];var Hd=za(sd);var Gd=Bc[Hd]||(Bc[Hd]=fb.push(Hd));var $d=(Hd=la?la.map(Hb):Zd)+"";(Gc=lc[$d])||(Gc=lc[$d]=
[],Xb.push(Gc),Gc.values=Hd);Gc[Gd-1]=sd}Xb.domain=fb;return Xb}function X(N){Cb.call(this,N)}function Ca(N){P.Transform.call(this,null,N)}function Ya(N){P.Operator.call(this,null,Ib,N)}function Ib(N){return this.value&&!N.modified()?this.value:k.key(N.fields,N.flat)}function yc(N){P.Transform.call(this,[],N);this._pending=null}function sc(N){return N.modified("async")&&!(N.modified("values")||N.modified("url")||N.modified("format"))}function xc(N,la,za){za.forEach(P.ingest);la=la.fork(la.NO_FIELDS&
la.NO_SOURCE);la.rem=N.value;N.value=la.source=la.add=za;N._pending=null;la.rem.length&&la.clean(!0);return la}function cd(N){P.Transform.call(this,{},N)}function Zb(N){P.Operator.call(this,null,Rc,N)}function Rc(N){if(this.value&&!N.modified())return this.value;N=N.extents;const la=N.length;let za=Infinity,fb=-Infinity,Hb,Xb;for(Hb=0;Hb<la;++Hb)Xb=N[Hb],Xb[0]<za&&(za=Xb[0]),Xb[1]>fb&&(fb=Xb[1]);return[za,fb]}function Pd(N){P.Operator.call(this,null,Ma,N)}function Ma(N){return this.value&&!N.modified()?
this.value:N.values.reduce((la,za)=>la.concat(za),[])}function Vb(N){P.Transform.call(this,null,N)}function qb(N){Cb.call(this,N)}function Tb(N,la){const za=N.field,fb=N.value,Hb=("count"===N.op?"__count__":N.op)||"sum",Xb=k.accessorFields(za).concat(k.accessorFields(fb)),Bc=cc(za,N.limit||0,la);la.changed()&&N.set("__pivot__",null,null,!0);return{key:N.key,groupby:N.groupby,ops:Bc.map(()=>Hb),fields:Bc.map(lc=>gc(lc,za,fb,Xb)),as:Bc.map(lc=>lc+""),modified:N.modified.bind(N)}}function gc(N,la,za,
fb){return k.accessor(Hb=>la(Hb)===N?za(Hb):NaN,fb,N+"")}function cc(N,la,za){const fb={},Hb=[];za.visit(za.SOURCE,Xb=>{Xb=N(Xb);fb[Xb]||(fb[Xb]=1,Hb.push(Xb))});Hb.sort(k.ascending);return la?Hb.slice(0,la):Hb}function Ic(N){Ga.call(this,N)}function zc(N){P.Transform.call(this,null,N)}function Yc(N){P.Transform.call(this,null,N)}function Md(N){P.Transform.call(this,null,N)}function ud(N){P.Transform.call(this,null,N)}function Ha(N){P.Transform.call(this,[],N);this.count=0}function gb(N){P.Transform.call(this,
null,N)}function wb(N){P.Transform.call(this,null,N);this.modified(!0)}function sa(N){P.Transform.call(this,null,N)}function G(N){P.Transform.call(this,k.fastmap(),N)}function ya(N){P.Transform.call(this,null,N)}function Na(N,la,za,fb){const Hb=Ud[N](la,za);return{init:Hb.init||k.zero,update:function(Xb,Bc){Bc[fb]=Hb.next(Xb)}}}function Za(N){function la(Gd){k.array(k.accessorFields(Gd)).forEach($d=>Gc[$d]=1)}const za=k.array(N.ops),fb=k.array(N.fields),Hb=k.array(N.params),Xb=k.array(N.as),Bc=this.outputs=
[],lc=this.windows=[],Gc={},id={},Nc=[],sd=[];let Hd=!0;la(N.sort);za.forEach((Gd,$d)=>{const Wd=fb[$d],ae=k.accessorName(Wd),Ce=Xb[$d]||Gd+(ae?"_"+ae:"");la(Wd);Bc.push(Ce);k.hasOwnProperty(Ud,Gd)?lc.push(Na(Gd,fb[$d],Hb[$d],Ce)):(null==Wd&&"count"!==Gd&&k.error("Null aggregate field specified."),"count"===Gd?Nc.push(Ce):(Hd=!1,$d=id[ae],$d||($d=id[ae]=[],$d.field=Wd,sd.push($d)),$d.push(Tc[Gd](Ce))))});if(Nc.length||sd.length)this.cell=kb(sd,Nc,Hd);this.inputs=Object.keys(Gc)}function kb(N,la,za){N=
N.map(Gc=>Kb(Gc,Gc.field));const fb={num:0,agg:null,store:!1,count:la};if(!za)for(var Hb=N.length,Xb=fb.agg=Array(Hb),Bc=0;Bc<Hb;++Bc)Xb[Bc]=new N[Bc](fb);if(fb.store)var lc=fb.data=new Lb;fb.add=function(Gc){fb.num+=1;if(!za){lc&&lc.add(Gc);for(let id=0;id<Hb;++id)Xb[id].add(Xb[id].get(Gc),Gc)}};fb.rem=function(Gc){--fb.num;if(!za){lc&&lc.rem(Gc);for(let id=0;id<Hb;++id)Xb[id].rem(Xb[id].get(Gc),Gc)}};fb.set=function(Gc){let id,Nc;lc&&lc.values();id=0;for(Nc=la.length;id<Nc;++id)Gc[la[id]]=fb.num;
if(!za)for(id=0,Nc=Xb.length;id<Nc;++id)Xb[id].set(Gc)};fb.init=function(){fb.num=0;lc&&lc.reset();for(let Gc=0;Gc<Hb;++Gc)Xb[Gc].init()};return fb}function Fb(N){P.Transform.call(this,{},N);this._mlen=0;this._mods=[]}function nc(N,la,za,fb){var Hb=fb.sort;const Xb=Hb&&!fb.ignorePeers;fb=fb.frame||[null,0];N=N.data(za);za=N.length;const Bc=Xb?C(Hb):null;Hb={i0:0,i1:0,p0:0,p1:0,index:0,data:N,compare:Hb||k.constant(-1)};la.init();for(let sd=0;sd<za;++sd){var lc=Hb,Gc=fb,id=sd,Nc=za;lc.p0=lc.i0;lc.p1=
lc.i1;lc.i0=null==Gc[0]?0:Math.max(0,id-Math.abs(Gc[0]));lc.i1=null==Gc[1]?Nc:Math.min(Nc,id+Math.abs(Gc[1])+1);lc.index=id;if(Xb){lc=Hb;Gc=Bc;id=lc.i0;Nc=lc.i1-1;const Hd=lc.compare,Gd=lc.data,$d=Gd.length-1;0<id&&!Hd(Gd[id],Gd[id-1])&&(lc.i0=Gc.left(Gd,Gd[id]));Nc<$d&&!Hd(Gd[Nc],Gd[Nc+1])&&(lc.i1=Gc.right(Gd,Gd[Nc]))}la.update(Hb,N[sd])}}const ec=()=>{},ic={init:ec,add:ec,rem:ec,idx:0},Tc={values:{init:N=>N.cell.store=!0,value:N=>N.cell.data.values(),idx:-1},count:{value:N=>N.cell.num},__count__:{value:N=>
N.missing+N.valid},missing:{value:N=>N.missing},valid:{value:N=>N.valid},sum:{init:N=>N.sum=0,value:N=>N.sum,add:(N,la)=>N.sum+=+la,rem:(N,la)=>N.sum-=la},product:{init:N=>N.product=1,value:N=>N.valid?N.product:void 0,add:(N,la)=>N.product*=la,rem:(N,la)=>N.product/=la},mean:{init:N=>N.mean=0,value:N=>N.valid?N.mean:void 0,add:(N,la)=>(N.mean_d=la-N.mean,N.mean+=N.mean_d/N.valid),rem:(N,la)=>(N.mean_d=la-N.mean,N.mean-=N.valid?N.mean_d/N.valid:N.mean)},average:{value:N=>N.valid?N.mean:void 0,req:["mean"],
idx:1},variance:{init:N=>N.dev=0,value:N=>1<N.valid?N.dev/(N.valid-1):void 0,add:(N,la)=>N.dev+=N.mean_d*(la-N.mean),rem:(N,la)=>N.dev-=N.mean_d*(la-N.mean),req:["mean"],idx:1},variancep:{value:N=>1<N.valid?N.dev/N.valid:void 0,req:["variance"],idx:2},stdev:{value:N=>1<N.valid?Math.sqrt(N.dev/(N.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:N=>1<N.valid?Math.sqrt(N.dev/N.valid):void 0,req:["variance"],idx:2},stderr:{value:N=>1<N.valid?Math.sqrt(N.dev/(N.valid*(N.valid-1))):void 0,req:["variance"],
idx:2},distinct:{value:N=>N.cell.data.distinct(N.get),req:["values"],idx:3},ci0:{value:N=>N.cell.data.ci0(N.get),req:["values"],idx:3},ci1:{value:N=>N.cell.data.ci1(N.get),req:["values"],idx:3},median:{value:N=>N.cell.data.q2(N.get),req:["values"],idx:3},q1:{value:N=>N.cell.data.q1(N.get),req:["values"],idx:3},q3:{value:N=>N.cell.data.q3(N.get),req:["values"],idx:3},min:{init:N=>N.min=void 0,value:N=>N.min=Number.isNaN(N.min)?N.cell.data.min(N.get):N.min,add:(N,la)=>{if(la<N.min||void 0===N.min)N.min=
la},rem:(N,la)=>{la<=N.min&&(N.min=NaN)},req:["values"],idx:4},max:{init:N=>N.max=void 0,value:N=>N.max=Number.isNaN(N.max)?N.cell.data.max(N.get):N.max,add:(N,la)=>{if(la>N.max||void 0===N.max)N.max=la},rem:(N,la)=>{la>=N.max&&(N.max=NaN)},req:["values"],idx:4},argmin:{init:N=>N.argmin=void 0,value:N=>N.argmin||N.cell.data.argmin(N.get),add:(N,la,za)=>{la<N.min&&(N.argmin=za)},rem:(N,la)=>{la<=N.min&&(N.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:N=>N.argmax=void 0,value:N=>N.argmax||
N.cell.data.argmax(N.get),add:(N,la,za)=>{la>N.max&&(N.argmax=za)},rem:(N,la)=>{la>=N.max&&(N.argmax=void 0)},req:["max","values"],idx:3}},dd=Object.keys(Tc).filter(N=>"__count__"!==N);[...dd,"__count__"].forEach(N=>{Tc[N]=Ac(N,Tc[N])});const ed=Lb.prototype;ed.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};ed.add=function(N){this._add.push(N)};ed.rem=function(N){this._rem.push(N)};ed.values=function(){this._get=null;if(0===this._rem.length)return this._add;const N=this._add;
var la=this._rem;const za=this._key,fb=N.length,Hb=la.length,Xb=Array(fb-Hb),Bc={};let lc,Gc;for(lc=0;lc<Hb;++lc)Bc[za(la[lc])]=1;for(la=lc=0;lc<fb;++lc)Bc[za(Gc=N[lc])]?Bc[za(Gc)]=0:Xb[la++]=Gc;this._rem=[];return this._add=Xb};ed.distinct=function(N){const la=this.values(),za={};let fb=la.length,Hb=0,Xb;for(;0<=--fb;)Xb=N(la[fb])+"",k.hasOwnProperty(za,Xb)||(za[Xb]=1,++Hb);return Hb};ed.extent=function(N){if(this._get!==N||!this._ext){const la=this.values(),za=k.extentIndex(la,N);this._ext=[la[za[0]],
la[za[1]]];this._get=N}return this._ext};ed.argmin=function(N){return this.extent(N)[0]||{}};ed.argmax=function(N){return this.extent(N)[1]||{}};ed.min=function(N){const la=this.extent(N)[0];return null!=la?N(la):void 0};ed.max=function(N){const la=this.extent(N)[1];return null!=la?N(la):void 0};ed.quartile=function(N){this._get===N&&this._q||(this._q=ib.quartiles(this.values(),N),this._get=N);return this._q};ed.q1=function(N){return this.quartile(N)[0]};ed.q2=function(N){return this.quartile(N)[1]};
ed.q3=function(N){return this.quartile(N)[2]};ed.ci=function(N){this._get===N&&this._ci||(this._ci=ib.bootstrapCI(this.values(),1E3,.05,N),this._get=N);return this._ci};ed.ci0=function(N){return this.ci(N)[0]};ed.ci1=function(N){return this.ci(N)[1]};Cb.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:dd},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},
{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean","default":!1},{name:"key",type:"field"}]};k.inherits(Cb,P.Transform,{transform(N,la){const za=this,fb=la.fork(la.NO_SOURCE|la.NO_FIELDS),Hb=N.modified();za.stamp=fb.stamp;za.value&&(Hb||la.modified(za._inputs,!0))?(za._prev=za.value,za.value=Hb?za.init(N):Object.create(null),la.visit(la.SOURCE,Xb=>za.add(Xb))):(za.value=za.value||za.init(N),la.visit(la.REM,Xb=>za.rem(Xb)),la.visit(la.ADD,Xb=>za.add(Xb)));fb.modifies(za._outputs);
za._drop=!1!==N.drop;N.cross&&1<za._dims.length&&(za._drop=!1,za.cross());la.clean()&&za._drop&&fb.clean(!0).runAfter(()=>this.clean());return za.changes(fb)},cross(){function N(lc){let Gc,id,Nc,sd;for(Gc in lc)for(Nc=lc[Gc].tuple,id=0;id<Bc;++id)Xb[id][sd=Nc[Hb[id]]]=sd}function la(lc,Gc,id){const Nc=Hb[id],sd=Xb[id++];for(const Hd in sd){const Gd=lc?lc+"|"+Hd:Hd;Gc[Nc]=sd[Hd];id<Bc?la(Gd,Gc,id):fb[Gd]||za.cell(Gd,Gc)}}const za=this,fb=za.value,Hb=za._dnames,Xb=Hb.map(()=>({})),Bc=Hb.length;N(za._prev);
N(fb);la("",{},0)},init(N){function la(Wd){Wd=k.array(k.accessorFields(Wd));const ae=Wd.length;let Ce=0,kf;for(;Ce<ae;++Ce)Hb[kf=Wd[Ce]]||(Hb[kf]=1,za.push(kf))}const za=this._inputs=[],fb=this._outputs=[],Hb={};this._dims=k.array(N.groupby);this._dnames=this._dims.map(Wd=>{const ae=k.accessorName(Wd);la(Wd);fb.push(ae);return ae});this.cellkey=N.key?N.key:vc(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];const Xb=N.fields||[null],Bc=N.ops||["count"];N=N.as||[];const lc=Xb.length,
Gc={};let id,Nc,sd,Hd,Gd,$d;lc!==Bc.length&&k.error("Unmatched number of fields and aggregate ops.");for($d=0;$d<lc;++$d)id=Xb[$d],Nc=Bc[$d],null==id&&"count"!==Nc&&k.error("Null aggregate field specified."),Hd=k.accessorName(id),Gd=N[$d]||Nc+(Hd?"_"+Hd:""),fb.push(Gd),"count"===Nc?this._counts.push(Gd):(sd=Gc[Hd],sd||(la(id),sd=Gc[Hd]=[],sd.field=id,this._measures.push(sd)),"count"!==Nc&&(this._countOnly=!1),sd.push(Tc[Nc](Gd)));this._measures=this._measures.map(Wd=>Kb(Wd,Wd.field));return Object.create(null)},
cellkey:vc(),cell(N,la){let za=this.value[N];za?0===za.num&&this._drop&&za.stamp<this.stamp?(za.stamp=this.stamp,this._adds[this._alen++]=za):za.stamp<this.stamp&&(za.stamp=this.stamp,this._mods[this._mlen++]=za):(za=this.value[N]=this.newcell(N,la),this._adds[this._alen++]=za);return za},newcell(N,la){N={key:N,num:0,agg:null,tuple:this.newtuple(la,this._prev&&this._prev[N]),stamp:this.stamp,store:!1};if(!this._countOnly){la=this._measures;const za=la.length;N.agg=Array(za);for(let fb=0;fb<za;++fb)N.agg[fb]=
new la[fb](N)}N.store&&(N.data=new Lb);return N},newtuple(N,la){const za=this._dnames,fb=this._dims,Hb=fb.length,Xb={};for(let Bc=0;Bc<Hb;++Bc)Xb[za[Bc]]=fb[Bc](N);return la?P.replace(la.tuple,Xb):P.ingest(Xb)},clean(){const N=this.value;for(const la in N)0===N[la].num&&delete N[la]},add(N){var la=this.cellkey(N);la=this.cell(la,N);la.num+=1;if(!this._countOnly){la.store&&la.data.add(N);la=la.agg;for(let za=0,fb=la.length;za<fb;++za)la[za].add(la[za].get(N),N)}},rem(N){var la=this.cellkey(N);la=this.cell(la,
N);--la.num;if(!this._countOnly){la.store&&la.data.rem(N);la=la.agg;for(let za=0,fb=la.length;za<fb;++za)la[za].rem(la[za].get(N),N)}},celltuple(N){const la=N.tuple,za=this._counts;N.store&&N.data.values();for(let fb=0,Hb=za.length;fb<Hb;++fb)la[za[fb]]=N.num;if(!this._countOnly){N=N.agg;for(let fb=0,Hb=N.length;fb<Hb;++fb)N[fb].set(la)}return la},changes(N){const la=this._adds,za=this._mods;var fb=this._prev;const Hb=this._drop,Xb=N.add,Bc=N.rem,lc=N.mod;let Gc;var id;if(fb)for(id in fb)Gc=fb[id],
Hb&&!Gc.num||Bc.push(Gc.tuple);fb=0;for(id=this._alen;fb<id;++fb)Xb.push(this.celltuple(la[fb])),la[fb]=null;fb=0;for(id=this._mlen;fb<id;++fb)Gc=za[fb],(0===Gc.num&&Hb?Bc:lc).push(this.celltuple(Gc)),za[fb]=null;this._alen=this._mlen=0;this._prev=null;return N}});Pb.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number","default":20},{name:"base",type:"number",
"default":10},{name:"divide",type:"number",array:!0,"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};k.inherits(Pb,P.Transform,{transform(N,la){const za=!1!==N.interval,fb=this._bins(N),Hb=fb.start,
Xb=fb.step,Bc=N.as||["bin0","bin1"],lc=Bc[0],Gc=Bc[1];N.modified()?(la=la.reflow(!0),N=la.SOURCE):N=la.modified(k.accessorFields(N.field))?la.ADD_MOD:la.ADD;la.visit(N,za?id=>{const Nc=fb(id);id[lc]=Nc;id[Gc]=null==Nc?null:Hb+Xb*(1+(Nc-Hb)/Xb)}:id=>id[lc]=fb(id));return la.modifies(za?Bc:lc)},_bins(N){if(this.value&&!N.modified())return this.value;const la=N.field,za=ib.bin(N),fb=za.step;let Hb=za.start,Xb=Hb+Math.ceil((za.stop-Hb)/fb)*fb;var Bc;null!=(Bc=N.anchor)&&(Bc-=Hb+fb*Math.floor((Bc-Hb)/
fb),Hb+=Bc,Xb+=Bc);Bc=function(lc){lc=k.toNumber(la(lc));return null==lc?null:lc<Hb?-Infinity:lc>Xb?Infinity:(lc=Math.max(Hb,Math.min(lc,Xb-fb)),Hb+fb*Math.floor(1E-14+(lc-Hb)/fb))};Bc.start=Hb;Bc.stop=za.stop;Bc.step=fb;return this.value=k.accessor(Bc,k.accessorFields(la),N.name||"bin_"+k.accessorName(la))}});pb.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};k.inherits(pb,P.Transform,{transform(N,la){const za=la.fork(la.ALL),fb=ab(P.tupleid,this.value,za.materialize(za.ADD).add),
Hb=N.sort;N=la.changed()||Hb&&(N.modified("sort")||la.modified(Hb.fields));za.visit(za.REM,fb.remove);this.modified(N);this.value=za.source=fb.data(P.stableCompare(Hb),N);la.source&&la.source.root&&(this.value.root=la.source.root);return za}});k.inherits(Qa,P.Operator);Ka.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},
{name:"stopwords",type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};k.inherits(Ka,P.Transform,{transform(N,la){var za=Nc=>sd=>{sd=lc(sd);var Hd=Xb;switch(N.case){case "upper":sd=sd.toUpperCase();break;case "lower":sd=sd.toLowerCase()}sd=sd.match(Hd)||[];var Gd;Hd=0;for(var $d=sd.length;Hd<$d;++Hd)Bc.test(Gd=sd[Hd])||Nc(Gd)};const fb=this._parameterCheck(N,la),Hb=this._counts,Xb=this._match,Bc=this._stop,lc=N.field,Gc=N.as||["text","count"],id=za(Nc=>
Hb[Nc]=1+(Hb[Nc]||0));za=za(Nc=>--Hb[Nc]);fb?la.visit(la.SOURCE,id):(la.visit(la.ADD,id),la.visit(la.REM,za));return this._finish(la,Gc)},_parameterCheck(N,la){let za=!1;if(N.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(N.stopwords||"")+"$","i"),za=!0;if(N.modified("pattern")||!this._match)this._match=new RegExp(N.pattern||"[\\w']+","g"),za=!0;if(N.modified("field")||la.modified(N.field.fields))za=!0;za&&(this._counts={});return za},_finish(N,la){const za=this._counts,fb=this._tuples||
(this._tuples={}),Hb=la[0],Xb=la[1];N=N.fork(N.NO_SOURCE|N.NO_FIELDS);let Bc,lc,Gc;for(Bc in za)lc=fb[Bc],Gc=za[Bc]||0,!lc&&Gc?(fb[Bc]=lc=P.ingest({}),lc[Hb]=Bc,lc[Xb]=Gc,N.add.push(lc)):0===Gc?(lc&&N.rem.push(lc),za[Bc]=null,fb[Bc]=null):lc[Xb]!==Gc&&(lc[Xb]=Gc,N.mod.push(lc));return N.modifies(la)}});lb.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,"default":["a","b"]}]};k.inherits(lb,P.Transform,{transform(N,la){const za=
la.fork(la.NO_SOURCE),fb=N.as||["a","b"],Hb=fb[0],Xb=fb[1];var Bc=!this.value||la.changed(la.ADD_REM)||N.modified("as")||N.modified("filter"),lc=this.value;if(Bc){lc&&(za.rem=lc);la=lc=la.materialize(la.SOURCE).source;N=N.filter||k.truthy;Bc=[];lc={};for(var Gc=la.length,id=0,Nc,sd;id<Gc;++id)for(lc[Hb]=sd=la[id],Nc=0;Nc<Gc;++Nc)lc[Xb]=la[Nc],N(lc)&&(Bc.push(P.ingest(lc)),lc={},lc[Hb]=sd);za.add=this.value=Bc}else za.mod=lc;za.source=this.value;return za.modifies(fb)}});const Qd={kde:ib.randomKDE,
mixture:ib.randomMixture,normal:ib.randomNormal,lognormal:ib.randomLogNormal,uniform:ib.randomUniform},Td=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",
type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];Pa.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Td.concat({key:{"function":"mixture"},params:[{name:"distributions",
type:"param",array:!0,params:Td},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};k.inherits(Pa,P.Transform,{transform(N,la){const za=la.fork(la.NO_SOURCE|la.NO_FIELDS);if(!this.value||la.changed()||N.modified()){const fb=mb(N.distribution,xb(la));la=N.steps||N.minsteps||25;const Hb=N.steps||N.maxsteps||200;let Xb=N.method||"pdf";"pdf"!==Xb&&"cdf"!==Xb&&k.error("Invalid density method: "+Xb);N.extent||fb.data||k.error("Missing density extent parameter.");
Xb=fb[Xb];const Bc=N.as||["value","density"];N=N.extent||k.extent(fb.data());N=ib.sampleCurve(Xb,N,la,Hb).map(lc=>{const Gc={};Gc[Bc[0]]=lc[0];Gc[Bc[1]]=lc[1];return P.ingest(Gc)});this.value&&(za.rem=this.value);this.value=za.add=za.source=N}return za}});Wb.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};
k.inherits(Wb,P.Transform,{transform(N,la){if(this.value&&!N.modified()&&!la.changed())return la;var za=la.materialize(la.SOURCE).source;const fb=Qb(la.source,N.groupby,k.identity),Hb=N.smooth||!1,Xb=N.field;za=N.step||k.span(k.extent(za,Xb))/30;const Bc=P.stableCompare((Hd,Gd)=>Xb(Hd)-Xb(Gd));N=N.as||"bin";const lc=fb.length;let Gc=Infinity,id=-Infinity,Nc=0,sd;for(;Nc<lc;++Nc){const Hd=fb[Nc].sort(Bc);sd=-1;for(const Gd of ib.dotbin(Hd,za,Hb,Xb))Gd<Gc&&(Gc=Gd),Gd>id&&(id=Gd),Hd[++sd][N]=Gd}this.value=
{start:Gc,stop:id,step:za};return la.reflow(!0).modifies(N)}});k.inherits(ob,P.Operator);Z.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};k.inherits(Z,P.Transform,{transform(N,la){var za=this.value;const fb=N.field;N=la.changed()||la.modified(fb.fields)||N.modified("field");let Hb=za[0],Xb=za[1];if(N||null==Hb)Hb=Infinity,Xb=-Infinity;la.visit(N?la.SOURCE:la.ADD,Bc=>{Bc=k.toNumber(fb(Bc));null!=Bc&&(Bc<Hb&&(Hb=Bc),Bc>Xb&&(Xb=Bc))});Number.isFinite(Hb)&&Number.isFinite(Xb)||
((za=k.accessorName(fb))&&(za=` for field "${za}"`),la.dataflow.warn(`Infinite extent${za}: [${Hb}, ${Xb}]`),Hb=Xb=void 0);this.value=[Hb,Xb]}});k.inherits(Fa,P.Operator,{connect(N){this.detachSubflow=N.detachSubflow;this.targets().add(N);return N.source=this},add(N){this.count+=1;this.value.add.push(N)},rem(N){--this.count;this.value.rem.push(N)},mod(N){this.value.mod.push(N)},init(N){this.value.init(N,N.NO_SOURCE)},evaluate(){return this.value}});k.inherits(Ga,P.Transform,{activate(N){this._targets[this._targets.active++]=
N},subflow(N,la,za,fb){const Hb=this.value;let Xb=k.hasOwnProperty(Hb,N)&&Hb[N],Bc;Xb?Xb.value.stamp<za.stamp&&(Xb.init(za),this.activate(Xb)):(Bc=fb||(Bc=this._group[N])&&Bc.tuple,fb=za.dataflow,Xb=new Fa(za.fork(za.NO_SOURCE),this),fb.add(Xb).connect(la(fb,N,Bc)),Hb[N]=Xb,this.activate(Xb));return Xb},clean(){var N=this.value;let la=0;for(const za in N)if(0===N[za].count){const fb=N[za].detachSubflow;fb&&fb();delete N[za];++la}la&&(N=this._targets.filter(za=>za&&0<za.count),this.initTargets(N))},
initTargets(N){const la=this._targets,za=la.length,fb=N?N.length:0;let Hb=0;for(;Hb<fb;++Hb)la[Hb]=N[Hb];for(;Hb<za&&null!=la[Hb];++Hb)la[Hb]=null;la.active=fb},transform(N,la){const za=la.dataflow,fb=N.key,Hb=N.subflow,Xb=this._keys,Bc=N.modified("key"),lc=Gc=>this.subflow(Gc,Hb,la);this._group=N.group||{};this.initTargets();la.visit(la.REM,Gc=>{const id=P.tupleid(Gc),Nc=Xb.get(id);void 0!==Nc&&(Xb.delete(id),lc(Nc).rem(Gc))});la.visit(la.ADD,Gc=>{const id=fb(Gc);Xb.set(P.tupleid(Gc),id);lc(id).add(Gc)});
Bc||la.modified(fb.fields)?la.visit(la.MOD,Gc=>{const id=P.tupleid(Gc),Nc=Xb.get(id),sd=fb(Gc);Nc===sd?lc(sd).mod(Gc):(Xb.set(id,sd),lc(Nc).rem(Gc),lc(sd).add(Gc))}):la.changed(la.MOD)&&la.visit(la.MOD,Gc=>{lc(Xb.get(P.tupleid(Gc))).mod(Gc)});Bc&&la.visit(la.REFLOW,Gc=>{const id=P.tupleid(Gc),Nc=Xb.get(id),sd=fb(Gc);Nc!==sd&&(Xb.set(id,sd),lc(Nc).rem(Gc),lc(sd).add(Gc))});la.clean()?za.runAfter(()=>{this.clean();Xb.clean()}):Xb.empty>za.cleanThreshold&&za.runAfter(Xb.clean);return la}});k.inherits(db,
P.Operator);na.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};k.inherits(na,P.Transform,{transform(N,la){function za(sd){const Hd=P.tupleid(sd),Gd=id(sd,N),$d=Hb.get(Hd);Gd&&$d?(Hb.delete(Hd),Bc.push(sd)):Gd||$d?Nc&&Gd&&!$d&&Gc.push(sd):(Hb.set(Hd,1),lc.push(sd))}const fb=la.dataflow,Hb=this.value,Xb=la.fork(),Bc=Xb.add,lc=Xb.rem,Gc=Xb.mod,id=N.expr;let Nc=!0;la.visit(la.REM,sd=>{const Hd=P.tupleid(sd);Hb.has(Hd)?Hb.delete(Hd):lc.push(sd)});la.visit(la.ADD,
sd=>{id(sd,N)?Bc.push(sd):Hb.set(P.tupleid(sd),1)});la.visit(la.MOD,za);N.modified()&&(Nc=!1,la.visit(la.REFLOW,za));Hb.empty>fb.cleanThreshold&&fb.runAfter(Hb.clean);return Xb}});q.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};k.inherits(q,P.Transform,{transform(N,la){const za=la.fork(la.NO_SOURCE),fb=N.fields,Hb=sb(fb,N.as||[]),Xb=N.index||null,Bc=Hb.length;za.rem=this.value;
la.visit(la.SOURCE,lc=>{const Gc=fb.map($d=>$d(lc)),id=Gc.reduce(($d,Wd)=>Math.max($d,Wd.length),0);let Nc=0,sd,Hd,Gd;for(;Nc<id;++Nc){Hd=P.derive(lc);for(sd=0;sd<Bc;++sd)Hd[Hb[sd]]=null==(Gd=Gc[sd][Nc])?null:Gd;Xb&&(Hd[Xb]=Nc);za.add.push(Hd)}});this.value=za.source=za.add;Xb&&za.modifies(Xb);return za.modifies(Hb)}});M.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};
k.inherits(M,P.Transform,{transform(N,la){const za=la.fork(la.NO_SOURCE),fb=N.fields,Hb=fb.map(k.accessorName);N=N.as||["key","value"];const Xb=N[0],Bc=N[1],lc=fb.length;za.rem=this.value;la.visit(la.SOURCE,Gc=>{for(let id=0,Nc;id<lc;++id)Nc=P.derive(Gc),Nc[Xb]=Hb[id],Nc[Bc]=fb[id](Gc),za.add.push(Nc)});this.value=za.source=za.add;return za.modifies(N)}});Q.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",
type:"boolean"}]};k.inherits(Q,P.Transform,{transform(N,la){const za=N.expr,fb=N.as,Hb=N.modified(),Xb=N.initonly?la.ADD:Hb?la.SOURCE:la.modified(za.fields)||la.modified(fb)?la.ADD_MOD:la.ADD;Hb&&(la=la.materialize().reflow(!0));N.initonly||la.modifies(fb);return la.visit(Xb,Bc=>Bc[fb]=za(Bc,N))}});k.inherits(g,P.Transform,{transform(N,la){la=la.fork(la.ALL);const za=N.generator;let fb=this.value,Hb=N.size-fb.length,Xb,Bc;if(0<Hb){for(Xb=[];0<=--Hb;)Xb.push(Bc=P.ingest(za(N))),fb.push(Bc);la.add=
la.add.length?la.materialize(la.ADD).add.concat(Xb):Xb}else N=fb.slice(0,-Hb),la.rem=la.rem.length?la.materialize(la.REM).rem.concat(N):N,fb=fb.slice(-Hb);la.source=this.value=fb;return la}});const Fd={value:"value",median:function(N,la){var za=.5;N=Float64Array.from(A(N,la));if((la=N.length)&&!isNaN(za=+za))if(0>=za||2>la)N=Aa(N);else if(1<=za)N=V(N);else{za*=la-1;la=Math.floor(za);var fb=V(Y(N,la).subarray(0,la+1));N=Aa(N.subarray(la+1));N=fb+(N-fb)*(za-la)}else N=void 0;return N},mean:function(N,
la){let za=0,fb=0;if(void 0===la)for(var Hb of N)null!=Hb&&(Hb=+Hb)>=Hb&&(++za,fb+=Hb);else{Hb=-1;for(let Xb of N)null!=(Xb=la(Xb,++Hb,N))&&(Xb=+Xb)>=Xb&&(++za,fb+=Xb)}if(za)return fb/za},min:Aa,max:V},Zd=[];va.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median","max","min"]},
{name:"value","default":0}]};k.inherits(va,P.Transform,{transform(N,la){var za=la.fork(la.ALL),fb=La(N),Hb=Wa(N),Xb=k.accessorName(N.field),Bc=k.accessorName(N.key),lc=(N.groupby||[]).map(k.accessorName);N=$a(la.source,N.groupby,N.key,N.keyvals);la=[];var Gc=this.value,id=N.domain.length,Nc,sd,Hd;var Gd=0;for(sd=N.length;Gd<sd;++Gd){var $d=N[Gd];var Wd=$d.values;var ae=NaN;for(Nc=0;Nc<id;++Nc)if(null==$d[Nc]){var Ce=N.domain[Nc];var kf={_impute:!0};var hf=0;for(Hd=Wd.length;hf<Hd;++hf)kf[lc[hf]]=
Wd[hf];kf[Bc]=Ce;kf[Xb]=Number.isNaN(ae)?ae=fb($d,Hb):ae;la.push(P.ingest(kf))}}la.length&&(za.add=za.materialize(za.ADD).add.concat(la));Gc.length&&(za.rem=za.materialize(za.REM).rem.concat(Gc));this.value=la;return za}});X.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:dd},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};k.inherits(X,
Cb,{transform(N,la){const za=this,fb=N.modified();let Hb;za.value&&(fb||la.modified(za._inputs,!0))?(Hb=za.value=fb?za.init(N):{},la.visit(la.SOURCE,Xb=>za.add(Xb))):(Hb=za.value=za.value||this.init(N),la.visit(la.REM,Xb=>za.rem(Xb)),la.visit(la.ADD,Xb=>za.add(Xb)));za.changes();la.visit(la.SOURCE,Xb=>{k.extend(Xb,Hb[za.cellkey(Xb)].tuple)});return la.reflow(fb).modifies(this._outputs)},changes(){const N=this._adds,la=this._mods;let za,fb;za=0;for(fb=this._alen;za<fb;++za)this.celltuple(N[za]),N[za]=
null;za=0;for(fb=this._mlen;za<fb;++za)this.celltuple(la[za]),la[za]=null;this._alen=this._mlen=0}});Ca.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},
{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};k.inherits(Ca,P.Transform,{transform(N,la){const za=la.fork(la.NO_SOURCE|la.NO_FIELDS);if(!this.value||la.changed()||N.modified()){la=la.materialize(la.SOURCE).source;const fb=Qb(la,N.groupby,N.field),Hb=(N.groupby||[]).map(k.accessorName),Xb=N.bandwidth,Bc=N.cumulative?"cdf":"pdf",lc=N.as||["value","density"],Gc=
[];let id=N.extent,Nc=N.steps||N.minsteps||25,sd=N.steps||N.maxsteps||200;"pdf"!==Bc&&"cdf"!==Bc&&k.error("Invalid density method: "+Bc);"shared"===N.resolve&&(id||(id=k.extent(la,N.field)),Nc=sd=N.steps||sd);fb.forEach(Hd=>{const Gd=ib.randomKDE(Hd,Xb)[Bc],$d=N.counts?Hd.length:1,Wd=id||k.extent(Hd);ib.sampleCurve(Gd,Wd,Nc,sd).forEach(ae=>{const Ce={};for(let kf=0;kf<Hb.length;++kf)Ce[Hb[kf]]=Hd.dims[kf];Ce[lc[0]]=ae[0];Ce[lc[1]]=ae[1]*$d;Gc.push(P.ingest(Ce))})});this.value&&(za.rem=this.value);
this.value=za.add=za.source=Gc}return za}});k.inherits(Ya,P.Operator);k.inherits(yc,P.Transform,{transform(N,la){const za=la.dataflow;return this._pending?xc(this,la,this._pending):sc(N)?la.StopPropagation:N.values?xc(this,la,za.parse(N.values,N.format)):N.async?{async:za.request(N.url,N.format).then(fb=>{this._pending=k.array(fb.data);return Hb=>Hb.touch(this)})}:za.request(N.url,N.format).then(fb=>xc(this,la,k.array(fb.data)))}});cd.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",
type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};k.inherits(cd,P.Transform,{transform(N,la){const za=N.fields,fb=N.index,Hb=N.values,Xb=null==N.default?null:N.default;var Bc=N.modified();const lc=za.length;let Gc=Bc?la.SOURCE:la.ADD,id=la,Nc=N.as,sd;Hb?(sd=Hb.length,1<lc&&!Nc&&k.error('Multi-field lookup requires explicit "as" parameter.'),
Nc&&Nc.length!==lc*sd&&k.error('The "as" parameter has too few output field names.'),Nc=Nc||Hb.map(k.accessorName),N=function(Hd){for(var Gd=0,$d=0,Wd,ae;Gd<lc;++Gd)if(ae=fb.get(za[Gd](Hd)),null==ae)for(Wd=0;Wd<sd;++Wd,++$d)Hd[Nc[$d]]=Xb;else for(Wd=0;Wd<sd;++Wd,++$d)Hd[Nc[$d]]=Hb[Wd](ae)}):(Nc||k.error("Missing output field names."),N=function(Hd){for(var Gd=0,$d;Gd<lc;++Gd)$d=fb.get(za[Gd](Hd)),Hd[Nc[Gd]]=null==$d?Xb:$d});Bc?id=la.reflow(!0):(Bc=za.some(Hd=>la.modified(Hd.fields)),Gc|=Bc?la.MOD:
0);la.visit(Gc,N);return id.modifies(Nc)}});k.inherits(Zb,P.Operator);k.inherits(Pd,P.Operator);k.inherits(Vb,P.Transform,{transform(N,la){this.modified(N.modified());this.value=N;return la.fork(la.NO_SOURCE|la.NO_FIELDS)}});qb.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:dd,"default":"sum"},{name:"limit",type:"number","default":0},
{name:"key",type:"field"}]};k.inherits(qb,Cb,{_transform:Cb.prototype.transform,transform(N,la){return this._transform(Tb(N,la),la)}});k.inherits(Ic,Ga,{transform(N,la){const za=N.subflow,fb=N.field,Hb=Xb=>this.subflow(P.tupleid(Xb),za,la,Xb);(N.modified("field")||fb&&la.modified(k.accessorFields(fb)))&&k.error("PreFacet does not support field modification.");this.initTargets();fb?(la.visit(la.MOD,Xb=>{const Bc=Hb(Xb);fb(Xb).forEach(lc=>Bc.mod(lc))}),la.visit(la.ADD,Xb=>{const Bc=Hb(Xb);fb(Xb).forEach(lc=>
Bc.add(P.ingest(lc)))}),la.visit(la.REM,Xb=>{const Bc=Hb(Xb);fb(Xb).forEach(lc=>Bc.rem(lc))})):(la.visit(la.MOD,Xb=>Hb(Xb).mod(Xb)),la.visit(la.ADD,Xb=>Hb(Xb).add(Xb)),la.visit(la.REM,Xb=>Hb(Xb).rem(Xb)));la.clean()&&la.runAfter(()=>this.clean());return la}});zc.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string","null":!0,array:!0}]};k.inherits(zc,P.Transform,{transform(N,la){const za=la.fork(la.NO_SOURCE),fb=N.fields,
Hb=sb(N.fields,N.as||[]),Xb=fb?(lc,Gc)=>{for(let id=0,Nc=fb.length;id<Nc;++id)Gc[Hb[id]]=fb[id](lc);return Gc}:P.rederive;let Bc;this.value?Bc=this.value:(la=la.addAll(),Bc=this.value={});la.visit(la.REM,lc=>{lc=P.tupleid(lc);za.rem.push(Bc[lc]);Bc[lc]=null});la.visit(la.ADD,lc=>{const Gc=Xb(lc,P.ingest({}));Bc[P.tupleid(lc)]=Gc;za.add.push(Gc)});la.visit(la.MOD,lc=>{za.mod.push(Xb(lc,Bc[P.tupleid(lc)]))});return za}});k.inherits(Yc,P.Transform,{transform(N,la){this.value=N.value;return N.modified("value")?
la.fork(la.NO_SOURCE|la.NO_FIELDS):la.StopPropagation}});Md.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};k.inherits(Md,P.Transform,{transform(N,la){const za=la.fork(la.NO_SOURCE|la.NO_FIELDS),fb=N.as||["prob","value"];if(this.value&&!N.modified()&&!la.changed())return za.source=
this.value,za;la=la.materialize(la.SOURCE).source;la=Qb(la,N.groupby,N.field);const Hb=(N.groupby||[]).map(k.accessorName),Xb=[],Bc=N.step||.01,lc=N.probs||L(Bc/2,1-1E-14,Bc),Gc=lc.length;la.forEach(id=>{const Nc=ib.quantiles(id,lc);for(let sd=0;sd<Gc;++sd){const Hd={};for(let Gd=0;Gd<Hb.length;++Gd)Hd[Hb[Gd]]=id.dims[Gd];Hd[fb[0]]=lc[sd];Hd[fb[1]]=Nc[sd];Xb.push(P.ingest(Hd))}});this.value&&(za.rem=this.value);this.value=za.add=za.source=Xb;return za}});k.inherits(ud,P.Transform,{transform(N,la){let za,
fb;this.value?fb=this.value:(za=la=la.addAll(),fb=this.value={});N.derive&&(za=la.fork(la.NO_SOURCE),la.visit(la.REM,Hb=>{Hb=P.tupleid(Hb);za.rem.push(fb[Hb]);fb[Hb]=null}),la.visit(la.ADD,Hb=>{const Xb=P.derive(Hb);fb[P.tupleid(Hb)]=Xb;za.add.push(Xb)}),la.visit(la.MOD,Hb=>{const Xb=fb[P.tupleid(Hb)];for(const Bc in Hb)Xb[Bc]=Hb[Bc],za.modifies(Bc);za.mod.push(Xb)}));return za}});Ha.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};k.inherits(Ha,P.Transform,
{transform(N,la){function za(Nc){let sd,Hd;lc.length<Xb?lc.push(Nc):(Hd=~~((Gc+1)*ib.random()),Hd<lc.length&&Hd>=id&&(sd=lc[Hd],Bc[P.tupleid(sd)]&&fb.rem.push(sd),lc[Hd]=Nc));++Gc}const fb=la.fork(la.NO_SOURCE);var Hb=N.modified("size");const Xb=N.size,Bc=this.value.reduce((Nc,sd)=>(Nc[P.tupleid(sd)]=1,Nc),{});let lc=this.value,Gc=this.count,id=0;la.rem.length&&(la.visit(la.REM,Nc=>{const sd=P.tupleid(Nc);Bc[sd]&&(Bc[sd]=-1,fb.rem.push(Nc));--Gc}),lc=lc.filter(Nc=>-1!==Bc[P.tupleid(Nc)]));(la.rem.length||
Hb)&&lc.length<Xb&&la.source&&(id=Gc=lc.length,la.visit(la.SOURCE,Nc=>{Bc[P.tupleid(Nc)]||za(Nc)}),id=-1);if(Hb&&lc.length>Xb){N=lc.length-Xb;for(Hb=0;Hb<N;++Hb)Bc[P.tupleid(lc[Hb])]=-1,fb.rem.push(lc[Hb]);lc=lc.slice(N)}la.mod.length&&la.visit(la.MOD,Nc=>{Bc[P.tupleid(Nc)]&&fb.mod.push(Nc)});la.add.length&&la.visit(la.ADD,za);if(la.add.length||0>id)fb.add=lc.filter(Nc=>!Bc[P.tupleid(Nc)]);this.count=Gc;this.value=fb.source=lc;return fb}});gb.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},
params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};k.inherits(gb,P.Transform,{transform(N,la){if(!this.value||N.modified()){var za=la.materialize().fork(la.MOD),fb=N.as||"data";za.rem=this.value?la.rem.concat(this.value):la.rem;this.value=L(N.start,N.stop,N.step||1).map(Hb=>{const Xb={};Xb[fb]=Hb;return P.ingest(Xb)});za.add=la.add.concat(this.value);return za}}});k.inherits(wb,
P.Transform,{transform(N,la){this.value=la.source;return la.changed()?la.fork(la.NO_SOURCE|la.NO_FIELDS):la.StopPropagation}});const de=["unit0","unit1"];sa.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"units",type:"enum",values:Gb.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",
"default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":de}]};k.inherits(sa,P.Transform,{transform(N,la){const za=N.field,fb=!1!==N.interval;var Hb="utc"===N.timezone;const Xb=this._floor(N,la),Bc=(Hb?Gb.utcInterval:Gb.timeInterval)(Xb.unit).offset;Hb=N.as||de;const lc=Hb[0],Gc=Hb[1],id=Xb.step;let Nc=Xb.start||Infinity,sd=Xb.stop||-Infinity,Hd=la.ADD;if(N.modified()||la.changed(la.REM)||la.modified(k.accessorFields(za)))la=la.reflow(!0),Hd=la.SOURCE,Nc=Infinity,
sd=-Infinity;la.visit(Hd,Gd=>{var $d=za(Gd);let Wd;null==$d?(Gd[lc]=null,fb&&(Gd[Gc]=null)):(Gd[lc]=$d=Wd=Xb($d),fb&&(Gd[Gc]=Wd=Bc($d,id)),$d<Nc&&(Nc=$d),Wd>sd&&(sd=Wd))});Xb.start=Nc;Xb.stop=sd;return la.modifies(fb?Hb:lc)},_floor(N,la){var za="utc"===N.timezone;const {units:fb,step:Hb}=N.units?{units:N.units,step:N.step||1}:Gb.timeBin({extent:N.extent||k.extent(la.materialize(la.SOURCE).source,N.field),maxbins:N.maxbins});N=Gb.timeUnits(fb);la=this.value||{};za=(za?Gb.utcFloor:Gb.timeFloor)(N,Hb);
za.unit=k.peek(N);za.units=N;za.step=Hb;za.start=la.start;za.stop=la.stop;return this.value=za}});k.inherits(G,P.Transform,{transform(N,la){const za=la.dataflow,fb=N.field,Hb=this.value,Xb=lc=>Hb.set(fb(lc),lc);let Bc=!0;N.modified("field")||la.modified(fb.fields)?(Hb.clear(),la.visit(la.SOURCE,Xb)):la.changed()?(la.visit(la.REM,lc=>Hb.delete(fb(lc))),la.visit(la.ADD,Xb)):Bc=!1;this.modified(Bc);Hb.empty>za.cleanThreshold&&za.runAfter(Hb.clean);return la.fork()}});k.inherits(ya,P.Transform,{transform(N,
la){if(!this.value||N.modified("field")||N.modified("sort")||la.changed()||N.sort&&la.modified(N.sort.fields))this.value=(N.sort?la.source.slice().sort(P.stableCompare(N.sort)):la.source).map(N.field)}});const Ud={row_number:function(){return{next:N=>N.index+1}},rank:function(){let N;return{init:()=>N=1,next:la=>{const za=la.index,fb=la.data;return za&&la.compare(fb[za-1],fb[za])?N=za+1:N}}},dense_rank:function(){let N;return{init:()=>N=1,next:la=>{const za=la.index,fb=la.data;return za&&la.compare(fb[za-
1],fb[za])?++N:N}}},percent_rank:function(){const N=Ud.rank(),la=N.next;return{init:N.init,next:za=>(la(za)-1)/(za.data.length-1)}},cume_dist:function(){let N;return{init:()=>N=0,next:la=>{const za=la.data,fb=la.compare;la=la.index;if(N<la){for(;la+1<za.length&&!fb(za[la],za[la+1]);)++la;N=la}return(1+N)/za.length}}},ntile:function(N,la){la=+la;0<la||k.error("ntile num must be greater than zero.");N=Ud.cume_dist();const za=N.next;return{init:N.init,next:fb=>Math.ceil(la*za(fb))}},lag:function(N,la){la=
+la||1;return{next:za=>{const fb=za.index-la;return 0<=fb?N(za.data[fb]):null}}},lead:function(N,la){la=+la||1;return{next:za=>{const fb=za.index+la;za=za.data;return fb<za.length?N(za[fb]):null}}},first_value:function(N){return{next:la=>N(la.data[la.i0])}},last_value:function(N){return{next:la=>N(la.data[la.i1-1])}},nth_value:function(N,la){la=+la;0<la||k.error("nth_value nth must be greater than zero.");return{next:za=>{const fb=za.i0+(la-1);return fb<za.i1?N(za.data[fb]):null}}},prev_value:function(N){let la;
return{init:()=>la=null,next:za=>{za=N(za.data[za.index]);return null!=za?la=za:la}}},next_value:function(N){let la,za;return{init:()=>(la=null,za=-1),next:fb=>{var Hb=fb.data;if(fb.index<=za)Hb=la;else{a:{fb=fb.index;for(let Xb=Hb.length;fb<Xb;++fb)if(null!=N(Hb[fb]))break a;fb=-1}Hb=0>(za=fb)?(za=Hb.length,la=null):la=N(Hb[za])}return Hb}}}},Ve=Object.keys(Ud),Xd=Za.prototype;Xd.init=function(){this.windows.forEach(N=>N.init());this.cell&&this.cell.init()};Xd.update=function(N,la){const za=this.cell,
fb=this.windows,Hb=N.data,Xb=fb&&fb.length;let Bc;if(za){for(Bc=N.p0;Bc<N.i0;++Bc)za.rem(Hb[Bc]);for(Bc=N.p1;Bc<N.i1;++Bc)za.add(Hb[Bc]);za.set(la)}for(Bc=0;Bc<Xb;++Bc)fb[Bc].update(N,la)};Fb.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Ve.concat(dd)},{name:"params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,
array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};k.inherits(Fb,P.Transform,{transform(N,la){this.stamp=la.stamp;const za=N.modified(),fb=P.stableCompare(N.sort),Hb=vc(N.groupby),Xb=lc=>this.group(Hb(lc));let Bc=this.state;if(!Bc||za)Bc=this.state=new Za(N);za||la.modified(Bc.inputs)?(this.value={},la.visit(la.SOURCE,lc=>Xb(lc).add(lc))):(la.visit(la.REM,lc=>Xb(lc).remove(lc)),la.visit(la.ADD,lc=>Xb(lc).add(lc)));
for(let lc=0,Gc=this._mlen;lc<Gc;++lc)nc(this._mods[lc],Bc,fb,N);this._mlen=0;this._mods=[];return la.reflow(za).modifies(Bc.outputs)},group(N){let la=this.value[N];la||(la=this.value[N]=ab(P.tupleid),la.stamp=-1);la.stamp<this.stamp&&(la.stamp=this.stamp,this._mods[this._mlen++]=la);return la}});v.aggregate=Cb;v.bin=Pb;v.collect=pb;v.compare=Qa;v.countpattern=Ka;v.cross=lb;v.density=Pa;v.dotbin=Wb;v.expression=ob;v.extent=Z;v.facet=Ga;v.field=db;v.filter=na;v.flatten=q;v.fold=M;v.formula=Q;v.generate=
g;v.impute=va;v.joinaggregate=X;v.kde=Ca;v.key=Ya;v.load=yc;v.lookup=cd;v.multiextent=Zb;v.multivalues=Pd;v.params=Vb;v.pivot=qb;v.prefacet=Ic;v.project=zc;v.proxy=Yc;v.quantile=Md;v.relay=ud;v.sample=Ha;v.sequence=gb;v.sieve=wb;v.subflow=Fa;v.timeunit=sa;v.tupleindex=G;v.values=ya;v.window=Fb})};
shadow$provide[32]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb):"function"===typeof define&&define.amd?define(["exports"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={}))})(this,function(v){function k(P,ib){if("undefined"!==typeof document&&document.createElement){const Gb=document.createElement("canvas");if(Gb&&Gb.getContext)return Gb.width=P,Gb.height=ib,Gb}return null}v.canvas=k;v.domCanvas=k;v.image=()=>"undefined"!==typeof Image?
Image:null})};
shadow$provide[33]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(21),Db(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-time"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega))})(this,function(v,k,P){function ib(w,T,aa){T=w-T+2*aa;return w?0<T?T:1:0}function Gb(w){return function(T){let aa=T[0];T=T[1];let Ea;T<aa&&(Ea=aa,aa=T,T=Ea);return[w.invert(aa),w.invert(T)]}}function ac(w){return function(T){const aa=
w.range();let Ea=T[0];T=T[1];let rb=-1,yb;let Mb;if(T<Ea){var Nb=Ea;Ea=T;T=Nb}Nb=0;for(Mb=aa.length;Nb<Mb;++Nb)aa[Nb]>=Ea&&aa[Nb]<=T&&(0>rb&&(rb=Nb),yb=Nb);if(!(0>rb))return Ea=w.invertExtent(aa[rb]),T=w.invertExtent(aa[yb]),[void 0===Ea[0]?Ea[1]:Ea[0],void 0===T[1]?T[0]:T[1]]}}function vc(w,T){return null==w||null==T?NaN:w<T?-1:w>T?1:w>=T?0:NaN}function Ac(w,T){return null==w||null==T?NaN:T<w?-1:T>w?1:T>=w?0:NaN}function uc(w){function T(yb,Mb,Nb=0,Mc=yb.length){if(Nb<Mc){if(0!==aa(Mb,Mb))return Mc;
do{const Ed=Nb+Mc>>>1;0>Ea(yb[Ed],Mb)?Nb=Ed+1:Mc=Ed}while(Nb<Mc)}return Nb}let aa,Ea,rb;2!==w.length?(aa=vc,Ea=(yb,Mb)=>vc(w(yb),Mb),rb=(yb,Mb)=>w(yb)-Mb):(aa=w===vc||w===Ac?w:Bb,rb=Ea=w);return{left:T,center:function(yb,Mb,Nb=0,Mc=yb.length){Mc=T(yb,Mb,Nb,Mc-1);return Mc>Nb&&rb(yb[Mc-1],Mb)>-rb(yb[Mc],Mb)?Mc-1:Mc},right:function(yb,Mb,Nb=0,Mc=yb.length){if(Nb<Mc){if(0!==aa(Mb,Mb))return Mc;do{const Ed=Nb+Mc>>>1;0>=Ea(yb[Ed],Mb)?Nb=Ed+1:Mc=Ed}while(Nb<Mc)}return Nb}}}function Bb(){return 0}function jc(w){return null===
w?NaN:+w}function Yb({_intern:w,_key:T},aa){T=T(aa);return w.has(T)?w.get(T):aa}function Ua({_intern:w,_key:T},aa){T=T(aa);if(w.has(T))return w.get(T);w.set(T,aa);return aa}function ub({_intern:w,_key:T},aa){T=T(aa);w.has(T)&&(aa=w.get(T),w.delete(T));return aa}function Kb(w){return null!==w&&"object"===typeof w?w.valueOf():w}function Lb(w,T,aa){var Ea=(T-w)/Math.max(0,aa),rb=Math.floor(Math.log10(Ea));Ea/=Math.pow(10,rb);Ea=Ea>=yg?10:Ea>=vh?5:Ea>=uh?2:1;let yb;0>rb?(yb=Math.pow(10,-rb)/Ea,rb=Math.round(w*
yb),Ea=Math.round(T*yb),rb/yb<w&&++rb,Ea/yb>T&&--Ea,yb=-yb):(yb=Math.pow(10,rb)*Ea,rb=Math.round(w/yb),Ea=Math.round(T/yb),rb*yb<w&&++rb,Ea*yb>T&&--Ea);return Ea<rb&&.5<=aa&&2>aa?Lb(w,T,2*aa):[rb,Ea,yb]}function Cb(w,T,aa){T=+T;w=+w;aa=+aa;if(!(0<aa))return[];if(w===T)return[w];var Ea=T<w;const [rb,yb,Mb]=Ea?Lb(T,w,aa):Lb(w,T,aa);if(!(yb>=rb))return[];w=yb-rb+1;T=Array(w);if(Ea)if(0>Mb)for(Ea=0;Ea<w;++Ea)T[Ea]=(yb-Ea)/-Mb;else for(Ea=0;Ea<w;++Ea)T[Ea]=(yb-Ea)*Mb;else if(0>Mb)for(Ea=0;Ea<w;++Ea)T[Ea]=
(rb+Ea)/-Mb;else for(Ea=0;Ea<w;++Ea)T[Ea]=(rb+Ea)*Mb;return T}function Pb(w,T,aa){return Lb(+w,+T,+aa)[2]}function ab(w,T,aa){T=+T;w=+w;aa=+aa;const Ea=T<w;w=Ea?Pb(T,w,aa):Pb(w,T,aa);return(Ea?-1:1)*(0>w?1/-w:w)}function pb(w,T,aa=jc){if((Ea=w.length)&&!isNaN(T=+T)){if(0>=T||2>Ea)return+aa(w[0],0,w);if(1<=T)return+aa(w[Ea-1],Ea-1,w);var Ea;T*=Ea-1;Ea=Math.floor(T);var rb=+aa(w[Ea],Ea,w);w=+aa(w[Ea+1],Ea+1,w);return rb+(w-rb)*(T-Ea)}}function Qa(w,T,aa){w=+w;T=+T;aa=2>(rb=arguments.length)?(T=w,w=
0,1):3>rb?1:+aa;for(var Ea=-1,rb=Math.max(0,Math.ceil((T-w)/aa))|0,yb=Array(rb);++Ea<rb;)yb[Ea]=w+Ea*aa;return yb}function Da(w,T){switch(arguments.length){case 0:break;case 1:this.range(w);break;default:this.range(T).domain(w)}return this}function Ka(w,T){switch(arguments.length){case 0:break;case 1:"function"===typeof w?this.interpolator(w):this.range(w);break;default:this.domain(w),"function"===typeof T?this.interpolator(T):this.range(T)}return this}function lb(){function w(yb){let Mb=T.get(yb);
if(void 0===Mb){if(rb!==Kh)return rb;T.set(yb,Mb=aa.push(yb)-1)}return Ea[Mb%Ea.length]}var T=new lh,aa=[],Ea=[],rb=Kh;w.domain=function(yb){if(!arguments.length)return aa.slice();aa=[];T=new lh;for(const Mb of yb)T.has(Mb)||T.set(Mb,aa.push(Mb)-1);return w};w.range=function(yb){return arguments.length?(Ea=Array.from(yb),w):Ea.slice()};w.unknown=function(yb){return arguments.length?(rb=yb,w):rb};w.copy=function(){return lb(aa,Ea).unknown(rb)};Da.apply(w,arguments);return w}function mb(w,T,aa){w.prototype=
T.prototype=aa;aa.constructor=w}function Pa(w,T){w=Object.create(w.prototype);for(var aa in T)w[aa]=T[aa];return w}function xb(){}function sb(){return this.rgb().formatHex()}function Qb(){return this.rgb().formatRgb()}function Wb(w){var T,aa;w=(w+"").trim().toLowerCase();return(T=wh.exec(w))?(aa=T[1].length,T=parseInt(T[1],16),6===aa?ob(T):3===aa?new Ga(T>>8&15|T>>4&240,T>>4&15|T&240,(T&15)<<4|T&15,1):8===aa?pa(T>>24&255,T>>16&255,T>>8&255,(T&255)/255):4===aa?pa(T>>12&15|T>>8&240,T>>8&15|T>>4&240,
T>>4&15|T&240,((T&15)<<4|T&15)/255):null):(T=Dh.exec(w))?new Ga(T[1],T[2],T[3],1):(T=ri.exec(w))?new Ga(255*T[1]/100,255*T[2]/100,255*T[3]/100,1):(T=Vg.exec(w))?pa(T[1],T[2],T[3],T[4]):(T=mh.exec(w))?pa(255*T[1]/100,255*T[2]/100,255*T[3]/100,T[4]):(T=si.exec(w))?Q(T[1],T[2]/100,T[3]/100,1):(T=Gg.exec(w))?Q(T[1],T[2]/100,T[3]/100,T[4]):Eh.hasOwnProperty(w)?ob(Eh[w]):"transparent"===w?new Ga(NaN,NaN,NaN,0):null}function ob(w){return new Ga(w>>16&255,w>>8&255,w&255,1)}function pa(w,T,aa,Ea){0>=Ea&&(w=
T=aa=NaN);return new Ga(w,T,aa,Ea)}function Z(w){w instanceof xb||(w=Wb(w));if(!w)return new Ga;w=w.rgb();return new Ga(w.r,w.g,w.b,w.opacity)}function Fa(w,T,aa,Ea){return 1===arguments.length?Z(w):new Ga(w,T,aa,null==Ea?1:Ea)}function Ga(w,T,aa,Ea){this.r=+w;this.g=+T;this.b=+aa;this.opacity=+Ea}function db(){return`#${M(this.r)}${M(this.g)}${M(this.b)}`}function ba(){const w=na(this.opacity);return`${1===w?"rgb(":"rgba("}${q(this.r)}, ${q(this.g)}, ${q(this.b)}${1===w?")":`, ${w})`}`}function na(w){return isNaN(w)?
1:Math.max(0,Math.min(1,w))}function q(w){return Math.max(0,Math.min(255,Math.round(w)||0))}function M(w){w=q(w);return(16>w?"0":"")+w.toString(16)}function Q(w,T,aa,Ea){0>=Ea?w=T=aa=NaN:0>=aa||1<=aa?w=T=NaN:0>=T&&(w=NaN);return new m(w,T,aa,Ea)}function g(w){if(w instanceof m)return new m(w.h,w.s,w.l,w.opacity);w instanceof xb||(w=Wb(w));if(!w)return new m;if(w instanceof m)return w;w=w.rgb();var T=w.r/255,aa=w.g/255,Ea=w.b/255,rb=Math.min(T,aa,Ea),yb=Math.max(T,aa,Ea),Mb=NaN,Nb=yb-rb,Mc=(yb+rb)/
2;Nb?(Mb=T===yb?(aa-Ea)/Nb+6*(aa<Ea):aa===yb?(Ea-T)/Nb+2:(T-aa)/Nb+4,Nb/=.5>Mc?yb+rb:2-yb-rb,Mb*=60):Nb=0<Mc&&1>Mc?0:Mb;return new m(Mb,Nb,Mc,w.opacity)}function u(w,T,aa,Ea){return 1===arguments.length?g(w):new m(w,T,aa,null==Ea?1:Ea)}function m(w,T,aa,Ea){this.h=+w;this.s=+T;this.l=+aa;this.opacity=+Ea}function C(w){w=(w||0)%360;return 0>w?w+360:w}function B(w){return Math.max(0,Math.min(1,w||0))}function A(w,T,aa){return 255*(60>w?T+(aa-T)*w/60:180>w?aa:240>w?T+(aa-T)*(240-w)/60:T)}function E(w){if(w instanceof
V)return new V(w.l,w.a,w.b,w.opacity);if(w instanceof Wa)return $a(w);w instanceof Ga||(w=Z(w));var T=L(w.r),aa=L(w.g),Ea=L(w.b),rb=Aa(.2225045*T+.7168786*aa+.0606169*Ea);if(T===aa&&aa===Ea)var yb=T=rb;else yb=Aa((.4360747*T+.3850649*aa+.1430804*Ea)/.96422),T=Aa((.0139322*T+.0971045*aa+.7141733*Ea)/.82521);return new V(116*rb-16,500*(yb-rb),200*(rb-T),w.opacity)}function H(w,T,aa,Ea){return 1===arguments.length?E(w):new V(w,T,aa,null==Ea?1:Ea)}function V(w,T,aa,Ea){this.l=+w;this.a=+T;this.b=+aa;
this.opacity=+Ea}function Aa(w){return w>Jg?Math.pow(w,1/3):w/xh+eh}function Y(w){return w>nh?w*w*w:xh*(w-eh)}function t(w){return 255*(.0031308>=w?12.92*w:1.055*Math.pow(w,1/2.4)-.055)}function L(w){return.04045>=(w/=255)?w/12.92:Math.pow((w+.055)/1.055,2.4)}function va(w){if(w instanceof Wa)return new Wa(w.h,w.c,w.l,w.opacity);w instanceof V||(w=E(w));if(0===w.a&&0===w.b)return new Wa(NaN,0<w.l&&100>w.l?0:NaN,w.l,w.opacity);var T=Math.atan2(w.b,w.a)*Tg;return new Wa(0>T?T+360:T,Math.sqrt(w.a*w.a+
w.b*w.b),w.l,w.opacity)}function La(w,T,aa,Ea){return 1===arguments.length?va(w):new Wa(w,T,aa,null==Ea?1:Ea)}function Wa(w,T,aa,Ea){this.h=+w;this.c=+T;this.l=+aa;this.opacity=+Ea}function $a(w){if(isNaN(w.h))return new V(w.l,0,0,w.opacity);var T=w.h*Uh;return new V(w.l,Math.cos(T)*w.c,Math.sin(T)*w.c,w.opacity)}function X(w,T,aa,Ea){if(1===arguments.length){var rb=w;if(rb instanceof Ca)rb=new Ca(rb.h,rb.s,rb.l,rb.opacity);else{rb instanceof Ga||(rb=Z(rb));var yb=rb.g/255,Mb=rb.b/255,Nb=(Lh*Mb+rb.r/
255*-1.7884503806-3.5172982438*yb)/(Lh+-1.7884503806-3.5172982438);Mb-=Nb;var Mc=(1.97294*(yb-Nb)- -.29227*Mb)/-.90649;Mb=(yb=Math.sqrt(Mc*Mc+Mb*Mb)/(1.97294*Nb*(1-Nb)))?Math.atan2(Mc,Mb)*Tg-120:NaN;rb=new Ca(0>Mb?Mb+360:Mb,yb,Nb,rb.opacity)}}else rb=new Ca(w,T,aa,null==Ea?1:Ea);return rb}function Ca(w,T,aa,Ea){this.h=+w;this.s=+T;this.l=+aa;this.opacity=+Ea}function Ya(w,T,aa,Ea,rb){var yb=w*w,Mb=yb*w;return((1-3*w+3*yb-Mb)*T+(4-6*yb+3*Mb)*aa+(1+3*w+3*yb-3*Mb)*Ea+Mb*rb)/6}function Ib(w){var T=w.length-
1;return function(aa){var Ea=0>=aa?aa=0:1<=aa?(aa=1,T-1):Math.floor(aa*T),rb=w[Ea],yb=w[Ea+1];return Ya((aa-Ea/T)*T,0<Ea?w[Ea-1]:2*rb-yb,rb,yb,Ea<T-1?w[Ea+2]:2*yb-rb)}}function yc(w){var T=w.length;return function(aa){var Ea=Math.floor((0>(aa%=1)?++aa:aa)*T);return Ya((aa-Ea/T)*T,w[(Ea+T-1)%T],w[Ea%T],w[(Ea+1)%T],w[(Ea+2)%T])}}function sc(w,T){return function(aa){return w+aa*T}}function xc(w,T,aa){return w=Math.pow(w,aa),T=Math.pow(T,aa)-w,aa=1/aa,function(Ea){return Math.pow(w+Ea*T,aa)}}function cd(w,
T){var aa=T-w;return aa?sc(w,180<aa||-180>aa?aa-360*Math.round(aa/360):aa):yh(isNaN(w)?T:w)}function Zb(w){return 1===(w=+w)?Rc:function(T,aa){return aa-T?xc(T,aa,w):yh(isNaN(T)?aa:T)}}function Rc(w,T){var aa=T-w;return aa?sc(w,aa):yh(isNaN(w)?T:w)}function Pd(w){return function(T){var aa=T.length,Ea=Array(aa),rb=Array(aa),yb=Array(aa),Mb;for(Mb=0;Mb<aa;++Mb){var Nb=Fa(T[Mb]);Ea[Mb]=Nb.r||0;rb[Mb]=Nb.g||0;yb[Mb]=Nb.b||0}Ea=w(Ea);rb=w(rb);yb=w(yb);Nb.opacity=1;return function(Mc){Nb.r=Ea(Mc);Nb.g=
rb(Mc);Nb.b=yb(Mc);return Nb+""}}}function Ma(w,T){T||(T=[]);var aa=w?Math.min(T.length,w.length):0,Ea=T.slice(),rb;return function(yb){for(rb=0;rb<aa;++rb)Ea[rb]=w[rb]*(1-yb)+T[rb]*yb;return Ea}}function Vb(w){return ArrayBuffer.isView(w)&&!(w instanceof DataView)}function qb(w,T){var aa=T?T.length:0,Ea=w?Math.min(aa,w.length):0,rb=Array(Ea),yb=Array(aa),Mb;for(Mb=0;Mb<Ea;++Mb)rb[Mb]=Md(w[Mb],T[Mb]);for(;Mb<aa;++Mb)yb[Mb]=T[Mb];return function(Nb){for(Mb=0;Mb<Ea;++Mb)yb[Mb]=rb[Mb](Nb);return yb}}
function Tb(w,T){var aa=new Date;return w=+w,T=+T,function(Ea){return aa.setTime(w*(1-Ea)+T*Ea),aa}}function gc(w,T){return w=+w,T=+T,function(aa){return w*(1-aa)+T*aa}}function cc(w,T){var aa={},Ea={},rb;if(null===w||"object"!==typeof w)w={};if(null===T||"object"!==typeof T)T={};for(rb in T)rb in w?aa[rb]=Md(w[rb],T[rb]):Ea[rb]=T[rb];return function(yb){for(rb in aa)Ea[rb]=aa[rb](yb);return Ea}}function Ic(w){return function(){return w}}function zc(w){return function(T){return w(T)+""}}function Yc(w,
T){var aa=ph.lastIndex=Fh.lastIndex=0,Ea,rb,yb,Mb=-1,Nb=[],Mc=[];w+="";for(T+="";(Ea=ph.exec(w))&&(rb=Fh.exec(T));)(yb=rb.index)>aa&&(yb=T.slice(aa,yb),Nb[Mb]?Nb[Mb]+=yb:Nb[++Mb]=yb),(Ea=Ea[0])===(rb=rb[0])?Nb[Mb]?Nb[Mb]+=rb:Nb[++Mb]=rb:(Nb[++Mb]=null,Mc.push({i:Mb,x:gc(Ea,rb)})),aa=Fh.lastIndex;aa<T.length&&(yb=T.slice(aa),Nb[Mb]?Nb[Mb]+=yb:Nb[++Mb]=yb);return 2>Nb.length?Mc[0]?zc(Mc[0].x):Ic(T):(T=Mc.length,function(Ed){for(var fd=0,mc;fd<T;++fd)Nb[(mc=Mc[fd]).i]=mc.x(Ed);return Nb.join("")})}function Md(w,
T){var aa=typeof T,Ea;return null==T||"boolean"===aa?yh(T):("number"===aa?gc:"string"===aa?(Ea=Wb(T))?(T=Ea,zh):Yc:T instanceof Wb?zh:T instanceof Date?Tb:Vb(T)?Ma:Array.isArray(T)?qb:"function"!==typeof T.valueOf&&"function"!==typeof T.toString||isNaN(T)?cc:gc)(w,T)}function ud(w,T){return w=+w,T=+T,function(aa){return Math.round(w*(1-aa)+T*aa)}}function Ha(w,T,aa,Ea,rb,yb){var Mb,Nb,Mc;if(Mb=Math.sqrt(w*w+T*T))w/=Mb,T/=Mb;if(Mc=w*aa+T*Ea)aa-=w*Mc,Ea-=T*Mc;if(Nb=Math.sqrt(aa*aa+Ea*Ea))aa/=Nb,Ea/=
Nb,Mc/=Nb;w*Ea<T*aa&&(w=-w,T=-T,Mc=-Mc,Mb=-Mb);return{translateX:rb,translateY:yb,rotate:Math.atan2(T,w)*Wf,skewX:Math.atan(Mc)*Wf,scaleX:Mb,scaleY:Nb}}function gb(w,T,aa,Ea){function rb(Ed){return Ed.length?Ed.pop()+" ":""}function yb(Ed,fd,mc,rd,wd,ze){Ed!==mc||fd!==rd?(wd=wd.push("translate(",null,T,null,aa),ze.push({i:wd-4,x:gc(Ed,mc)},{i:wd-2,x:gc(fd,rd)})):(mc||rd)&&wd.push("translate("+mc+T+rd+aa)}function Mb(Ed,fd,mc,rd){Ed!==fd?(180<Ed-fd?fd+=360:180<fd-Ed&&(Ed+=360),rd.push({i:mc.push(rb(mc)+
"rotate(",null,Ea)-2,x:gc(Ed,fd)})):fd&&mc.push(rb(mc)+"rotate("+fd+Ea)}function Nb(Ed,fd,mc,rd){Ed!==fd?rd.push({i:mc.push(rb(mc)+"skewX(",null,Ea)-2,x:gc(Ed,fd)}):fd&&mc.push(rb(mc)+"skewX("+fd+Ea)}function Mc(Ed,fd,mc,rd,wd,ze){Ed!==mc||fd!==rd?(wd=wd.push(rb(wd)+"scale(",null,",",null,")"),ze.push({i:wd-4,x:gc(Ed,mc)},{i:wd-2,x:gc(fd,rd)})):1===mc&&1===rd||wd.push(rb(wd)+"scale("+mc+","+rd+")")}return function(Ed,fd){var mc=[],rd=[];Ed=w(Ed);fd=w(fd);yb(Ed.translateX,Ed.translateY,fd.translateX,
fd.translateY,mc,rd);Mb(Ed.rotate,fd.rotate,mc,rd);Nb(Ed.skewX,fd.skewX,mc,rd);Mc(Ed.scaleX,Ed.scaleY,fd.scaleX,fd.scaleY,mc,rd);Ed=fd=null;return function(wd){for(var ze=-1,qe=rd.length,Ue;++ze<qe;)mc[(Ue=rd[ze]).i]=Ue.x(wd);return mc.join("")}}}function wb(w){return((w=Math.exp(w))+1/w)/2}function sa(w){return function(T,aa){var Ea=w((T=u(T)).h,(aa=u(aa)).h),rb=Rc(T.s,aa.s),yb=Rc(T.l,aa.l),Mb=Rc(T.opacity,aa.opacity);return function(Nb){T.h=Ea(Nb);T.s=rb(Nb);T.l=yb(Nb);T.opacity=Mb(Nb);return T+
""}}}function G(w){return function(T,aa){var Ea=w((T=La(T)).h,(aa=La(aa)).h),rb=Rc(T.c,aa.c),yb=Rc(T.l,aa.l),Mb=Rc(T.opacity,aa.opacity);return function(Nb){T.h=Ea(Nb);T.c=rb(Nb);T.l=yb(Nb);T.opacity=Mb(Nb);return T+""}}}function ya(w){return function Ea(aa){function rb(yb,Mb){var Nb=w((yb=X(yb)).h,(Mb=X(Mb)).h),Mc=Rc(yb.s,Mb.s),Ed=Rc(yb.l,Mb.l),fd=Rc(yb.opacity,Mb.opacity);return function(mc){yb.h=Nb(mc);yb.s=Mc(mc);yb.l=Ed(Math.pow(mc,aa));yb.opacity=fd(mc);return yb+""}}aa=+aa;rb.gamma=Ea;return rb}(1)}
function Na(w,T){void 0===T&&(T=w,w=Md);for(var aa=0,Ea=T.length-1,rb=T[0],yb=Array(0>Ea?0:Ea);aa<Ea;)yb[aa]=w(rb,rb=T[++aa]);return function(Mb){var Nb=Math.max(0,Math.min(Ea-1,Math.floor(Mb*=Ea)));return yb[Nb](Mb-Nb)}}function Za(w){return function(){return w}}function kb(w){return+w}function Fb(w){return w}function nc(w,T){return(T-=w=+w)?function(aa){return(aa-w)/T}:Za(isNaN(T)?NaN:.5)}function ec(w,T){if(w>T){var aa=w;w=T;T=aa}return function(Ea){return Math.max(w,Math.min(T,Ea))}}function ic(w,
T,aa){var Ea=w[0];w=w[1];var rb=T[0];T=T[1];w<Ea?(Ea=nc(w,Ea),rb=aa(T,rb)):(Ea=nc(Ea,w),rb=aa(rb,T));return function(yb){return rb(Ea(yb))}}function Tc(w,T,aa){var Ea=Math.min(w.length,T.length)-1,rb=Array(Ea),yb=Array(Ea),Mb=-1;w[Ea]<w[0]&&(w=w.slice().reverse(),T=T.slice().reverse());for(;++Mb<Ea;)rb[Mb]=nc(w[Mb],w[Mb+1]),yb[Mb]=aa(T[Mb],T[Mb+1]);return function(Nb){var Mc=fh(w,Nb,1,Ea)-1;return yb[Mc](rb[Mc](Nb))}}function dd(w,T){return T.domain(w.domain()).range(w.range()).interpolate(w.interpolate()).clamp(w.clamp()).unknown(w.unknown())}
function ed(){function w(){var rd=Math.min(aa.length,Ea.length);Mc!==Fb&&(Mc=ec(aa[0],aa[rd-1]));Ed=2<rd?Tc:ic;fd=mc=null;return T}function T(rd){return null==rd||isNaN(rd=+rd)?Nb:(fd||(fd=Ed(aa.map(yb),Ea,rb)))(yb(Mc(rd)))}var aa=xa,Ea=xa,rb=Md,yb,Mb,Nb,Mc=Fb,Ed,fd,mc;T.invert=function(rd){return Mc(Mb((mc||(mc=Ed(Ea,aa.map(yb),gc)))(rd)))};T.domain=function(rd){return arguments.length?(aa=Array.from(rd,kb),w()):aa.slice()};T.range=function(rd){return arguments.length?(Ea=Array.from(rd),w()):Ea.slice()};
T.rangeRound=function(rd){return Ea=Array.from(rd),rb=ud,w()};T.clamp=function(rd){return arguments.length?(Mc=rd?!0:Fb,w()):Mc!==Fb};T.interpolate=function(rd){return arguments.length?(rb=rd,w()):rb};T.unknown=function(rd){return arguments.length?(Nb=rd,T):Nb};return function(rd,wd){yb=rd;Mb=wd;return w()}}function Qd(w,T){if(0>(T=(w=T?w.toExponential(T-1):w.toExponential()).indexOf("e")))return null;var aa=w.slice(0,T);return[1<aa.length?aa[0]+aa.slice(2):aa,+w.slice(T+1)]}function Td(w){return w=
Qd(Math.abs(w)),w?w[1]:NaN}function Fd(w,T){return function(aa,Ea){for(var rb=aa.length,yb=[],Mb=0,Nb=w[0],Mc=0;0<rb&&0<Nb;){Mc+Nb+1>Ea&&(Nb=Math.max(1,Ea-Mc));yb.push(aa.substring(rb-=Nb,rb+Nb));if((Mc+=Nb+1)>Ea)break;Nb=w[Mb=(Mb+1)%w.length]}return yb.reverse().join(T)}}function Zd(w){return function(T){return T.replace(/[0-9]/g,function(aa){return w[+aa]})}}function de(w){if(!(T=r.exec(w)))throw Error("invalid format: "+w);var T;return new Ud({fill:T[1],align:T[2],sign:T[3],symbol:T[4],zero:T[5],
width:T[6],comma:T[7],precision:T[8]&&T[8].slice(1),trim:T[9],type:T[10]})}function Ud(w){this.fill=void 0===w.fill?" ":w.fill+"";this.align=void 0===w.align?"\x3e":w.align+"";this.sign=void 0===w.sign?"-":w.sign+"";this.symbol=void 0===w.symbol?"":w.symbol+"";this.zero=!!w.zero;this.width=void 0===w.width?void 0:+w.width;this.comma=!!w.comma;this.precision=void 0===w.precision?void 0:+w.precision;this.trim=!!w.trim;this.type=void 0===w.type?"":w.type+""}function Ve(w,T){T=Qd(w,T);if(!T)return w+
"";w=T[0];T=T[1];return 0>T?"0."+Array(-T).join("0")+w:w.length>T+1?w.slice(0,T+1)+"."+w.slice(T+1):w+Array(T-w.length+2).join("0")}function Xd(w){return w}function N(w){function T(fd){function mc(oe){var Me=uf,se=Pg,pg,Qg;if("c"===gg)se=wg(oe)+se,oe="";else{oe=+oe;var zg=0>oe||0>1/oe;oe=isNaN(oe)?Ed:wg(Math.abs(oe),mg);if(Hh){var hh=oe.length,Qh=1,mi=-1;a:for(;Qh<hh;++Qh)switch(oe[Qh]){case ".":mi=pg=Qh;break;case "0":0===mi&&(mi=Qh);pg=Qh;break;default:if(!+oe[Qh])break a;0<mi&&(mi=0)}oe=0<mi?oe.slice(0,
mi)+oe.slice(pg+1):oe}zg&&0===+oe&&"+"!==ze&&(zg=!1);Me=(zg?"("===ze?ze:Mc:"-"===ze||"("===ze?"":ze)+Me;se=("s"===gg?z[8+F/3]:"")+se+(zg&&"("===ze?")":"");if(Ie)for(zg=-1,pg=oe.length;++zg<pg;)if(Qg=oe.charCodeAt(zg),48>Qg||57<Qg){se=(46===Qg?yb+oe.slice(zg+1):oe.slice(zg))+se;oe=oe.slice(0,zg);break}}Uf&&!Ue&&(oe=aa(oe,Infinity));Qg=Me.length+oe.length+se.length;zg=Qg<Ef?Array(Ef-Qg+1).join(rd):"";Uf&&Ue&&(oe=aa(zg+oe,zg.length?Ef-se.length:Infinity),zg="");switch(wd){case "\x3c":oe=Me+oe+se+zg;
break;case "\x3d":oe=Me+zg+oe+se;break;case "^":oe=zg.slice(0,Qg=zg.length>>1)+Me+oe+se+zg.slice(Qg);break;default:oe=zg+Me+oe+se}return Mb(oe)}fd=de(fd);var rd=fd.fill,wd=fd.align,ze=fd.sign,qe=fd.symbol,Ue=fd.zero,Ef=fd.width,Uf=fd.comma,mg=fd.precision,Hh=fd.trim,gg=fd.type;"n"===gg?(Uf=!0,gg="g"):ia[gg]||(void 0===mg&&(mg=12),Hh=!0,gg="g");if(Ue||"0"===rd&&"\x3d"===wd)Ue=!0,rd="0",wd="\x3d";var uf="$"===qe?Ea:"#"===qe&&/[boxX]/.test(gg)?"0"+gg.toLowerCase():"",Pg="$"===qe?rb:/[%p]/.test(gg)?Nb:
"",wg=ia[gg],Ie=/[defgprs%]/.test(gg);mg=void 0===mg?6:/[gprs]/.test(gg)?Math.max(1,Math.min(21,mg)):Math.max(0,Math.min(20,mg));mc.toString=function(){return fd+""};return mc}var aa=void 0===w.grouping||void 0===w.thousands?Xd:Fd(l.call(w.grouping,Number),w.thousands+""),Ea=void 0===w.currency?"":w.currency[0]+"",rb=void 0===w.currency?"":w.currency[1]+"",yb=void 0===w.decimal?".":w.decimal+"",Mb=void 0===w.numerals?Xd:Zd(l.call(w.numerals,String)),Nb=void 0===w.percent?"%":w.percent+"",Mc=void 0===
w.minus?"":w.minus+"",Ed=void 0===w.nan?"NaN":w.nan+"";return{format:T,formatPrefix:function(fd,mc){var rd=T((fd=de(fd),fd.type="f",fd));fd=3*Math.max(-8,Math.min(8,Math.floor(Td(mc)/3)));var wd=Math.pow(10,-fd),ze=z[8+fd/3];return function(qe){return rd(wd*qe)+ze}}}}function la(w,T,aa,Ea){aa=ab(w,T,aa);Ea=de(null==Ea?",f":Ea);switch(Ea.type){case "s":w=Math.max(Math.abs(w),Math.abs(T));if(T=null==Ea.precision){var rb=isNaN;aa=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Td(w)/3)))-Td(Math.abs(aa)));
T=!rb(rb=aa)}T&&(Ea.precision=rb);return Va(Ea,w);case "":case "e":case "g":case "p":case "r":var yb;if(yb=null==Ea.precision)rb=isNaN,w=Math.max(Math.abs(w),Math.abs(T)),aa=Math.abs(aa),w=Math.abs(w)-aa,aa=Math.max(0,Td(w)-Td(aa))+1,yb=!rb(rb=aa);yb&&(Ea.precision=rb-("e"===Ea.type));break;case "f":case "%":null!=Ea.precision||isNaN(rb=Math.max(0,-Td(Math.abs(aa))))||(Ea.precision=rb-2*("%"===Ea.type))}return ma(Ea)}function za(w){var T=w.domain;w.ticks=function(aa){var Ea=T();return Cb(Ea[0],Ea[Ea.length-
1],null==aa?10:aa)};w.tickFormat=function(aa,Ea){var rb=T();return la(rb[0],rb[rb.length-1],null==aa?10:aa,Ea)};w.nice=function(aa){null==aa&&(aa=10);var Ea=T(),rb=0,yb=Ea.length-1,Mb=Ea[rb],Nb=Ea[yb],Mc=10;if(Nb<Mb){var Ed=Mb;Mb=Nb;Nb=Ed;Ed=rb;rb=yb;yb=Ed}for(;0<Mc--;){Ed=Pb(Mb,Nb,aa);if(Ed===fd)return Ea[rb]=Mb,Ea[yb]=Nb,T(Ea);if(0<Ed)Mb=Math.floor(Mb/Ed)*Ed,Nb=Math.ceil(Nb/Ed)*Ed;else if(0>Ed)Mb=Math.ceil(Mb*Ed)/Ed,Nb=Math.floor(Nb*Ed)/Ed;else break;var fd=Ed}return w};return w}function fb(){var w=
ed()(Fb,Fb);w.copy=function(){return dd(w,fb())};Da.apply(w,arguments);return za(w)}function Hb(w){function T(Ea){return null==Ea||isNaN(Ea=+Ea)?aa:Ea}var aa;T.invert=T;T.domain=T.range=function(Ea){return arguments.length?(w=Array.from(Ea,kb),T):w.slice()};T.unknown=function(Ea){return arguments.length?(aa=Ea,T):aa};T.copy=function(){return Hb(w).unknown(aa)};w=arguments.length?Array.from(w,kb):[0,1];return za(T)}function Xb(w,T){w=w.slice();var aa=0,Ea=w.length-1,rb=w[aa],yb=w[Ea];if(yb<rb){var Mb=
aa;aa=Ea;Ea=Mb;Mb=rb;rb=yb;yb=Mb}w[aa]=T.floor(rb);w[Ea]=T.ceil(yb);return w}function Bc(w){return Math.log(w)}function lc(w){return Math.exp(w)}function Gc(w){return-Math.log(-w)}function id(w){return-Math.exp(-w)}function Nc(w){return isFinite(w)?+("1e"+w):0>w?0:w}function sd(w){return 10===w?Nc:w===Math.E?Math.exp:T=>Math.pow(w,T)}function Hd(w){return w===Math.E?Math.log:10===w&&Math.log10||2===w&&Math.log2||(w=Math.log(w),T=>Math.log(T)/w)}function Gd(w){return(T,aa)=>-w(-T,aa)}function $d(w){function T(){yb=
Hd(rb);Mb=sd(rb);0>Ea()[0]?(yb=Gd(yb),Mb=Gd(Mb),w(Gc,id)):w(Bc,lc);return aa}const aa=w(Bc,lc),Ea=aa.domain;let rb=10,yb,Mb;aa.base=function(Nb){return arguments.length?(rb=+Nb,T()):rb};aa.domain=function(Nb){return arguments.length?(Ea(Nb),T()):Ea()};aa.ticks=Nb=>{var Mc=Ea();let Ed=Mc[0];Mc=Mc[Mc.length-1];const fd=Mc<Ed;fd&&([Ed,Mc]=[Mc,Ed]);let mc=yb(Ed),rd=yb(Mc),wd;const ze=null==Nb?10:+Nb;let qe=[];if(!(rb%1)&&rd-mc<ze){mc=Math.floor(mc);rd=Math.ceil(rd);if(0<Ed)for(;mc<=rd;++mc)for(Nb=1;Nb<
rb;++Nb){if(wd=0>mc?Nb/Mb(-mc):Nb*Mb(mc),!(wd<Ed)){if(wd>Mc)break;qe.push(wd)}}else for(;mc<=rd;++mc)for(Nb=rb-1;1<=Nb;--Nb)if(wd=0<mc?Nb/Mb(-mc):Nb*Mb(mc),!(wd<Ed)){if(wd>Mc)break;qe.push(wd)}2*qe.length<ze&&(qe=Cb(Ed,Mc,ze))}else qe=Cb(mc,rd,Math.min(rd-mc,ze)).map(Mb);return fd?qe.reverse():qe};aa.tickFormat=(Nb,Mc)=>{null==Nb&&(Nb=10);null==Mc&&(Mc=10===rb?"s":",");"function"!==typeof Mc&&(rb%1||null!=(Mc=de(Mc)).precision||(Mc.trim=!0),Mc=ma(Mc));if(Infinity===Nb)return Mc;const Ed=Math.max(1,
rb*Nb/aa.ticks().length);return fd=>{let mc=fd/Mb(Math.round(yb(fd)));mc*rb<rb-.5&&(mc*=rb);return mc<=Ed?Mc(fd):""}};aa.nice=()=>Ea(Xb(Ea(),{floor:Nb=>Mb(Math.floor(yb(Nb))),ceil:Nb=>Mb(Math.ceil(yb(Nb)))}));return aa}function Wd(){const w=$d(ed()).domain([1,10]);w.copy=()=>dd(w,Wd()).base(w.base());Da.apply(w,arguments);return w}function ae(w){return function(T){return Math.sign(T)*Math.log1p(Math.abs(T/w))}}function Ce(w){return function(T){return Math.sign(T)*Math.expm1(Math.abs(T))*w}}function kf(w){var T=
1,aa=w(ae(T),Ce(T));aa.constant=function(Ea){return arguments.length?w(ae(T=+Ea),Ce(T)):T};return za(aa)}function hf(){var w=kf(ed());w.copy=function(){return dd(w,hf()).constant(w.constant())};return Da.apply(w,arguments)}function df(w){return function(T){return 0>T?-Math.pow(-T,w):Math.pow(T,w)}}function re(w){return 0>w?-Math.sqrt(-w):Math.sqrt(w)}function tf(w){return 0>w?-w*w:w*w}function U(w){var T=w(Fb,Fb),aa=1;T.exponent=function(Ea){return arguments.length?(aa=+Ea,1===aa?w(Fb,Fb):.5===aa?
w(re,tf):w(df(aa),df(1/aa))):aa};return za(T)}function ua(){var w=U(ed());w.copy=function(){return dd(w,ua()).exponent(w.exponent())};Da.apply(w,arguments);return w}function cb(){function w(){var Mb=0,Nb=Math.max(1,Ea.length);for(rb=Array(Nb-1);++Mb<Nb;)rb[Mb-1]=pb(aa,Mb/Nb);return T}function T(Mb){return null==Mb||isNaN(Mb=+Mb)?yb:Ea[fh(rb,Mb)]}var aa=[],Ea=[],rb=[],yb;T.invertExtent=function(Mb){Mb=Ea.indexOf(Mb);return 0>Mb?[NaN,NaN]:[0<Mb?rb[Mb-1]:aa[0],Mb<rb.length?rb[Mb]:aa[aa.length-1]]};T.domain=
function(Mb){if(!arguments.length)return aa.slice();aa=[];for(let Nb of Mb)null==Nb||isNaN(Nb=+Nb)||aa.push(Nb);aa.sort(vc);return w()};T.range=function(Mb){return arguments.length?(Ea=Array.from(Mb),w()):Ea.slice()};T.unknown=function(Mb){return arguments.length?(yb=Mb,T):yb};T.quantiles=function(){return rb.slice()};T.copy=function(){return cb().domain(aa).range(Ea).unknown(yb)};return Da.apply(T,arguments)}function Ab(){function w(Mc){return null!=Mc&&Mc<=Mc?Mb[fh(yb,Mc,0,rb)]:Nb}function T(){var Mc=
-1;for(yb=Array(rb);++Mc<rb;)yb[Mc]=((Mc+1)*Ea-(Mc-rb)*aa)/(rb+1);return w}var aa=0,Ea=1,rb=1,yb=[.5],Mb=[0,1],Nb;w.domain=function(Mc){return arguments.length?([aa,Ea]=Mc,aa=+aa,Ea=+Ea,T()):[aa,Ea]};w.range=function(Mc){return arguments.length?(rb=(Mb=Array.from(Mc)).length-1,T()):Mb.slice()};w.invertExtent=function(Mc){Mc=Mb.indexOf(Mc);return 0>Mc?[NaN,NaN]:1>Mc?[aa,yb[0]]:Mc>=rb?[yb[rb-1],Ea]:[yb[Mc-1],yb[Mc]]};w.unknown=function(Mc){return arguments.length?(Nb=Mc,w):w};w.thresholds=function(){return yb.slice()};
w.copy=function(){return Ab().domain([aa,Ea]).range(Mb).unknown(Nb)};return Da.apply(za(w),arguments)}function fc(){function w(yb){return null!=yb&&yb<=yb?aa[fh(T,yb,0,rb)]:Ea}var T=[.5],aa=[0,1],Ea,rb=1;w.domain=function(yb){return arguments.length?(T=Array.from(yb),rb=Math.min(T.length,aa.length-1),w):T.slice()};w.range=function(yb){return arguments.length?(aa=Array.from(yb),rb=Math.min(T.length,aa.length-1),w):aa.slice()};w.invertExtent=function(yb){yb=aa.indexOf(yb);return[T[yb-1],T[yb]]};w.unknown=
function(yb){return arguments.length?(Ea=yb,w):Ea};w.copy=function(){return fc().domain(T).range(aa).unknown(Ea)};return Da.apply(w,arguments)}function Cc(w,T,aa,Ea){function rb(yb){return w(yb=0===arguments.length?new Date:new Date(+yb)),yb}rb.floor=yb=>(w(yb=new Date(+yb)),yb);rb.ceil=yb=>(w(yb=new Date(yb-1)),T(yb,1),w(yb),yb);rb.round=yb=>{const Mb=rb(yb),Nb=rb.ceil(yb);return yb-Mb<Nb-yb?Mb:Nb};rb.offset=(yb,Mb)=>(T(yb=new Date(+yb),null==Mb?1:Math.floor(Mb)),yb);rb.range=(yb,Mb,Nb)=>{const Mc=
[];yb=rb.ceil(yb);Nb=null==Nb?1:Math.floor(Nb);if(!(yb<Mb&&0<Nb))return Mc;let Ed;do Mc.push(Ed=new Date(+yb)),T(yb,Nb),w(yb);while(Ed<yb&&yb<Mb);return Mc};rb.filter=yb=>Cc(Mb=>{if(Mb>=Mb)for(;w(Mb),!yb(Mb);)Mb.setTime(Mb-1)},(Mb,Nb)=>{if(Mb>=Mb)if(0>Nb)for(;0>=++Nb;)for(;T(Mb,-1),!yb(Mb););else for(;0<=--Nb;)for(;T(Mb,1),!yb(Mb););});aa&&(rb.count=(yb,Mb)=>{Xa.setTime(+yb);Jb.setTime(+Mb);w(Xa);w(Jb);return Math.floor(aa(Xa,Jb))},rb.every=yb=>{yb=Math.floor(yb);return isFinite(yb)&&0<yb?1<yb?rb.filter(Ea?
Mb=>0===Ea(Mb)%yb:Mb=>0===rb.count(0,Mb)%yb):rb:null});return rb}function $b(w){return Cc(T=>{T.setDate(T.getDate()-(T.getDay()+7-w)%7);T.setHours(0,0,0,0)},(T,aa)=>{T.setDate(T.getDate()+7*aa)},(T,aa)=>(aa-T-6E4*(aa.getTimezoneOffset()-T.getTimezoneOffset()))/6048E5)}function J(w){return Cc(T=>{T.setUTCDate(T.getUTCDate()-(T.getUTCDay()+7-w)%7);T.setUTCHours(0,0,0,0)},(T,aa)=>{T.setUTCDate(T.getUTCDate()+7*aa)},(T,aa)=>(aa-T)/6048E5)}function fa(w,T,aa,Ea,rb,yb){function Mb(Mc,Ed,fd){const mc=Math.abs(Ed-
Mc)/fd,rd=uc(([,,qe])=>qe).right(Nb,mc);if(rd===Nb.length)return w.every(ab(Mc/31536E6,Ed/31536E6,fd));if(0===rd)return hc.every(Math.max(ab(Mc,Ed,fd),1));const [wd,ze]=Nb[mc/Nb[rd-1][2]<Nb[rd][2]/mc?rd-1:rd];return wd.every(ze)}const Nb=[[Ub,1,1E3],[Ub,5,5E3],[Ub,15,15E3],[Ub,30,3E4],[yb,1,6E4],[yb,5,3E5],[yb,15,9E5],[yb,30,18E5],[rb,1,36E5],[rb,3,108E5],[rb,6,216E5],[rb,12,432E5],[Ea,1,864E5],[Ea,2,1728E5],[aa,1,6048E5],[T,1,2592E6],[T,3,7776E6],[w,1,31536E6]];return[function(Mc,Ed,fd){const mc=
Ed<Mc;mc&&([Mc,Ed]=[Ed,Mc]);Mc=(fd=fd&&"function"===typeof fd.range?fd:Mb(Mc,Ed,fd))?fd.range(Mc,+Ed+1):[];return mc?Mc.reverse():Mc},Mb]}function Ta(w){if(0<=w.y&&100>w.y){var T=new Date(-1,w.m,w.d,w.H,w.M,w.S,w.L);T.setFullYear(w.y);return T}return new Date(w.y,w.m,w.d,w.H,w.M,w.S,w.L)}function bc(w){if(0<=w.y&&100>w.y){var T=new Date(Date.UTC(-1,w.m,w.d,w.H,w.M,w.S,w.L));T.setUTCFullYear(w.y);return T}return new Date(Date.UTC(w.y,w.m,w.d,w.H,w.M,w.S,w.L))}function Pc(w,T,aa){return{y:w,m:T,d:aa,
H:0,M:0,S:0,L:0}}function Dc(w){function T(Ie,oe){return function(Me){var se=[],pg=-1,Qg=0,zg=Ie.length,hh,Qh;for(Me instanceof Date||(Me=new Date(+Me));++pg<zg;)if(37===Ie.charCodeAt(pg)){se.push(Ie.slice(Qg,pg));null!=(Qg=Ni[hh=Ie.charAt(++pg)])?hh=Ie.charAt(++pg):Qg="e"===hh?" ":"0";if(Qh=oe[hh])hh=Qh(Me,Qg);se.push(hh);Qg=pg+1}se.push(Ie.slice(Qg,pg));return se.join("")}}function aa(Ie,oe){return function(Me){var se=Pc(1900,void 0,1);if(Ea(se,Ie,Me+="",0)!=Me.length)return null;if("Q"in se)return new Date(se.Q);
if("s"in se)return new Date(1E3*se.s+("L"in se?se.L:0));!oe||"Z"in se||(se.Z=0);"p"in se&&(se.H=se.H%12+12*se.p);void 0===se.m&&(se.m="q"in se?se.q:0);if("V"in se){if(1>se.V||53<se.V)return null;"w"in se||(se.w=1);if("Z"in se){Me=bc(Pc(se.y,0,1));var pg=Me.getUTCDay();Me=4<pg||0===pg?of.ceil(Me):of(Me);Me=ve.offset(Me,7*(se.V-1));se.y=Me.getUTCFullYear();se.m=Me.getUTCMonth();se.d=Me.getUTCDate()+(se.w+6)%7}else Me=Ta(Pc(se.y,0,1)),pg=Me.getDay(),Me=4<pg||0===pg?Og.ceil(Me):Og(Me),Me=xe.offset(Me,
7*(se.V-1)),se.y=Me.getFullYear(),se.m=Me.getMonth(),se.d=Me.getDate()+(se.w+6)%7}else if("W"in se||"U"in se)"w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),pg="Z"in se?bc(Pc(se.y,0,1)).getUTCDay():Ta(Pc(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+7*se.W-(pg+5)%7:se.w+7*se.U-(pg+6)%7;return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,bc(se)):Ta(se)}}function Ea(Ie,oe,Me,se){for(var pg=0,Qg=oe.length,zg=Me.length,hh;pg<Qg;){if(se>=zg)return-1;hh=oe.charCodeAt(pg++);if(37===hh){if(hh=oe.charAt(pg++),
hh=wg[hh in Ni?oe.charAt(pg++):hh],!hh||0>(se=hh(Ie,Me,se)))return-1}else if(hh!=Me.charCodeAt(se++))return-1}return se}var rb=w.dateTime,yb=w.date,Mb=w.time,Nb=w.periods,Mc=w.days,Ed=w.shortDays,fd=w.months,mc=w.shortMonths,rd=ee(Nb),wd=Sa(Nb),ze=ee(Mc),qe=Sa(Mc),Ue=ee(Ed),Ef=Sa(Ed),Uf=ee(fd),mg=Sa(fd),Hh=ee(mc),gg=Sa(mc),uf={a:function(Ie){return Ed[Ie.getDay()]},A:function(Ie){return Mc[Ie.getDay()]},b:function(Ie){return mc[Ie.getMonth()]},B:function(Ie){return fd[Ie.getMonth()]},c:null,d:Vd,
e:Vd,f:I,g:Hc,G:zd,H:ce,I:le,j:O,L:ea,m:ka,M:ta,p:function(Ie){return Nb[+(12<=Ie.getHours())]},q:function(Ie){return 1+~~(Ie.getMonth()/3)},Q:Jf,s:zf,S:Ja,u:jb,U:vb,V:qc,w:rc,W:Kc,x:null,X:null,y:Bd,Y:$c,Z:Dd,"%":Hf},Pg={a:function(Ie){return Ed[Ie.getUTCDay()]},A:function(Ie){return Mc[Ie.getUTCDay()]},b:function(Ie){return mc[Ie.getUTCMonth()]},B:function(Ie){return fd[Ie.getUTCMonth()]},c:null,d:Kd,e:Kd,f:Ld,g:Yd,G:mf,H:Ge,I:De,j:yd,L:Ae,m:he,M:He,p:function(Ie){return Nb[+(12<=Ie.getUTCHours())]},
q:function(Ie){return 1+~~(Ie.getUTCMonth()/3)},Q:Jf,s:zf,S:lf,u:vf,U:Ke,V:Df,w:If,W:jf,x:null,X:null,y:ag,Y:ff,Z:af,"%":Hf},wg={a:function(Ie,oe,Me){return(oe=Ue.exec(oe.slice(Me)))?(Ie.w=Ef.get(oe[0].toLowerCase()),Me+oe[0].length):-1},A:function(Ie,oe,Me){return(oe=ze.exec(oe.slice(Me)))?(Ie.w=qe.get(oe[0].toLowerCase()),Me+oe[0].length):-1},b:function(Ie,oe,Me){return(oe=Hh.exec(oe.slice(Me)))?(Ie.m=gg.get(oe[0].toLowerCase()),Me+oe[0].length):-1},B:function(Ie,oe,Me){return(oe=Uf.exec(oe.slice(Me)))?
(Ie.m=mg.get(oe[0].toLowerCase()),Me+oe[0].length):-1},c:function(Ie,oe,Me){return Ea(Ie,rb,oe,Me)},d:be,e:be,f:Ec,g:td,G:Qc,H:Le,I:Le,j:ye,L:od,m:Cd,M:Ye,p:function(Ie,oe,Me){return(oe=rd.exec(oe.slice(Me)))?(Ie.p=wd.get(oe[0].toLowerCase()),Me+oe[0].length):-1},q:Od,Q:Fc,s:Id,S:ef,u:oc,U:xd,V:Lc,w:eb,W:Uc,x:function(Ie,oe,Me){return Ea(Ie,yb,oe,Me)},X:function(Ie,oe,Me){return Ea(Ie,Mb,oe,Me)},y:td,Y:Qc,Z:jd,"%":kd};uf.x=T(yb,uf);uf.X=T(Mb,uf);uf.c=T(rb,uf);Pg.x=T(yb,Pg);Pg.X=T(Mb,Pg);Pg.c=T(rb,
Pg);return{format:function(Ie){var oe=T(Ie+="",uf);oe.toString=function(){return Ie};return oe},parse:function(Ie){var oe=aa(Ie+="",!1);oe.toString=function(){return Ie};return oe},utcFormat:function(Ie){var oe=T(Ie+="",Pg);oe.toString=function(){return Ie};return oe},utcParse:function(Ie){var oe=aa(Ie+="",!0);oe.toString=function(){return Ie};return oe}}}function Sc(w,T,aa){var Ea=0>w?"-":"";w=(Ea?-w:w)+"";var rb=w.length;return Ea+(rb<aa?Array(aa-rb+1).join(T)+w:w)}function gd(w){return w.replace(rj,
"\\$\x26")}function ee(w){return new RegExp("^(?:"+w.map(gd).join("|")+")","i")}function Sa(w){return new Map(w.map((T,aa)=>[T.toLowerCase(),aa]))}function eb(w,T,aa){return(T=Dg.exec(T.slice(aa,aa+1)))?(w.w=+T[0],aa+T[0].length):-1}function oc(w,T,aa){return(T=Dg.exec(T.slice(aa,aa+1)))?(w.u=+T[0],aa+T[0].length):-1}function xd(w,T,aa){return(T=Dg.exec(T.slice(aa,aa+2)))?(w.U=+T[0],aa+T[0].length):-1}function Lc(w,T,aa){return(T=Dg.exec(T.slice(aa,aa+2)))?(w.V=+T[0],aa+T[0].length):-1}function Uc(w,
T,aa){return(T=Dg.exec(T.slice(aa,aa+2)))?(w.W=+T[0],aa+T[0].length):-1}function Qc(w,T,aa){return(T=Dg.exec(T.slice(aa,aa+4)))?(w.y=+T[0],aa+T[0].length):-1}function td(w,T,aa){return(T=Dg.exec(T.slice(aa,aa+2)))?(w.y=+T[0]+(68<+T[0]?1900:2E3),aa+T[0].length):-1}function jd(w,T,aa){return(T=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(T.slice(aa,aa+6)))?(w.Z=T[1]?0:-(T[2]+(T[3]||"00")),aa+T[0].length):-1}function Od(w,T,aa){return(T=Dg.exec(T.slice(aa,aa+1)))?(w.q=3*T[0]-3,aa+T[0].length):-1}function Cd(w,
T,aa){return(T=Dg.exec(T.slice(aa,aa+2)))?(w.m=T[0]-1,aa+T[0].length):-1}function be(w,T,aa){return(T=Dg.exec(T.slice(aa,aa+2)))?(w.d=+T[0],aa+T[0].length):-1}function ye(w,T,aa){return(T=Dg.exec(T.slice(aa,aa+3)))?(w.m=0,w.d=+T[0],aa+T[0].length):-1}function Le(w,T,aa){return(T=Dg.exec(T.slice(aa,aa+2)))?(w.H=+T[0],aa+T[0].length):-1}function Ye(w,T,aa){return(T=Dg.exec(T.slice(aa,aa+2)))?(w.M=+T[0],aa+T[0].length):-1}function ef(w,T,aa){return(T=Dg.exec(T.slice(aa,aa+2)))?(w.S=+T[0],aa+T[0].length):
-1}function od(w,T,aa){return(T=Dg.exec(T.slice(aa,aa+3)))?(w.L=+T[0],aa+T[0].length):-1}function Ec(w,T,aa){return(T=Dg.exec(T.slice(aa,aa+6)))?(w.L=Math.floor(T[0]/1E3),aa+T[0].length):-1}function kd(w,T,aa){return(w=Ti.exec(T.slice(aa,aa+1)))?aa+w[0].length:-1}function Fc(w,T,aa){return(T=Dg.exec(T.slice(aa)))?(w.Q=+T[0],aa+T[0].length):-1}function Id(w,T,aa){return(T=Dg.exec(T.slice(aa)))?(w.s=+T[0],aa+T[0].length):-1}function Vd(w,T){return Sc(w.getDate(),T,2)}function ce(w,T){return Sc(w.getHours(),
T,2)}function le(w,T){return Sc(w.getHours()%12||12,T,2)}function O(w,T){return Sc(1+xe.count(Ng(w),w),T,3)}function ea(w,T){return Sc(w.getMilliseconds(),T,3)}function I(w,T){return ea(w,T)+"000"}function ka(w,T){return Sc(w.getMonth()+1,T,2)}function ta(w,T){return Sc(w.getMinutes(),T,2)}function Ja(w,T){return Sc(w.getSeconds(),T,2)}function jb(w){w=w.getDay();return 0===w?7:w}function vb(w,T){return Sc(wf.count(Ng(w)-1,w),T,2)}function pc(w){var T=w.getDay();return 4<=T||0===T?cg(w):cg.ceil(w)}
function qc(w,T){w=pc(w);return Sc(cg.count(Ng(w),w)+(4===Ng(w).getDay()),T,2)}function rc(w){return w.getDay()}function Kc(w,T){return Sc(Og.count(Ng(w)-1,w),T,2)}function Bd(w,T){return Sc(w.getFullYear()%100,T,2)}function Hc(w,T){w=pc(w);return Sc(w.getFullYear()%100,T,2)}function $c(w,T){return Sc(w.getFullYear()%1E4,T,4)}function zd(w,T){var aa=w.getDay();w=4<=aa||0===aa?cg(w):cg.ceil(w);return Sc(w.getFullYear()%1E4,T,4)}function Dd(w){w=w.getTimezoneOffset();return(0<w?"-":(w*=-1,"+"))+Sc(w/
60|0,"0",2)+Sc(w%60,"0",2)}function Kd(w,T){return Sc(w.getUTCDate(),T,2)}function Ge(w,T){return Sc(w.getUTCHours(),T,2)}function De(w,T){return Sc(w.getUTCHours()%12||12,T,2)}function yd(w,T){return Sc(1+ve.count(vg(w),w),T,3)}function Ae(w,T){return Sc(w.getUTCMilliseconds(),T,3)}function Ld(w,T){return Ae(w,T)+"000"}function he(w,T){return Sc(w.getUTCMonth()+1,T,2)}function He(w,T){return Sc(w.getUTCMinutes(),T,2)}function lf(w,T){return Sc(w.getUTCSeconds(),T,2)}function vf(w){w=w.getUTCDay();
return 0===w?7:w}function Ke(w,T){return Sc(sf.count(vg(w)-1,w),T,2)}function ne(w){var T=w.getUTCDay();return 4<=T||0===T?Mf(w):Mf.ceil(w)}function Df(w,T){w=ne(w);return Sc(Mf.count(vg(w),w)+(4===vg(w).getUTCDay()),T,2)}function If(w){return w.getUTCDay()}function jf(w,T){return Sc(of.count(vg(w)-1,w),T,2)}function ag(w,T){return Sc(w.getUTCFullYear()%100,T,2)}function Yd(w,T){w=ne(w);return Sc(w.getUTCFullYear()%100,T,2)}function ff(w,T){return Sc(w.getUTCFullYear()%1E4,T,4)}function mf(w,T){var aa=
w.getUTCDay();w=4<=aa||0===aa?Mf(w):Mf.ceil(w);return Sc(w.getUTCFullYear()%1E4,T,4)}function af(){return"+0000"}function Hf(){return"%"}function Jf(w){return+w}function zf(w){return Math.floor(+w/1E3)}function Af(w){return new Date(w)}function Eg(w){return w instanceof Date?+w:+new Date(+w)}function hg(w,T,aa,Ea,rb,yb,Mb,Nb,Mc,Ed){function fd(uf){return(Mc(uf)<uf?ze:Nb(uf)<uf?qe:Mb(uf)<uf?Ue:yb(uf)<uf?Ef:Ea(uf)<uf?rb(uf)<uf?Uf:mg:aa(uf)<uf?Hh:gg)(uf)}var mc=ed()(Fb,Fb),rd=mc.invert,wd=mc.domain,
ze=Ed(".%L"),qe=Ed(":%S"),Ue=Ed("%I:%M"),Ef=Ed("%I %p"),Uf=Ed("%a %d"),mg=Ed("%b %d"),Hh=Ed("%B"),gg=Ed("%Y");mc.invert=function(uf){return new Date(rd(uf))};mc.domain=function(uf){return arguments.length?wd(Array.from(uf,Eg)):wd().map(Af)};mc.ticks=function(uf){var Pg=wd();return w(Pg[0],Pg[Pg.length-1],null==uf?10:uf)};mc.tickFormat=function(uf,Pg){return null==Pg?fd:Ed(Pg)};mc.nice=function(uf){var Pg=wd();uf&&"function"===typeof uf.range||(uf=T(Pg[0],Pg[Pg.length-1],null==uf?10:uf));return uf?
wd(Xb(Pg,uf)):mc};mc.copy=function(){return dd(mc,hg(w,T,aa,Ea,rb,yb,Mb,Nb,Mc,Ed))};return mc}function xf(){function w(mc){return null==mc||isNaN(mc=+mc)?fd:Mc(0===Mb?.5:(mc=(Nb(mc)-rb)*Mb,Ed?Math.max(0,Math.min(1,mc)):mc))}function T(mc){return function(rd){var wd,ze;return arguments.length?([wd,ze]=rd,Mc=mc(wd,ze),w):[Mc(0),Mc(1)]}}var aa=0,Ea=1,rb,yb,Mb,Nb,Mc=Fb,Ed=!1,fd;w.domain=function(mc){return arguments.length?([aa,Ea]=mc,rb=Nb(aa=+aa),yb=Nb(Ea=+Ea),Mb=rb===yb?0:1/(yb-rb),w):[aa,Ea]};w.clamp=
function(mc){return arguments.length?(Ed=!!mc,w):Ed};w.interpolator=function(mc){return arguments.length?(Mc=mc,w):Mc};w.range=T(Md);w.rangeRound=T(ud);w.unknown=function(mc){return arguments.length?(fd=mc,w):fd};return function(mc){Nb=mc;rb=mc(aa);yb=mc(Ea);Mb=rb===yb?0:1/(yb-rb);return w}}function Kf(w,T){return T.domain(w.domain()).interpolator(w.interpolator()).clamp(w.clamp()).unknown(w.unknown())}function dg(){var w=za(xf()(Fb));w.copy=function(){return Kf(w,dg())};return Ka.apply(w,arguments)}
function ch(){var w=$d(xf()).domain([1,10]);w.copy=function(){return Kf(w,ch()).base(w.base())};return Ka.apply(w,arguments)}function Ig(){var w=kf(xf());w.copy=function(){return Kf(w,Ig()).constant(w.constant())};return Ka.apply(w,arguments)}function Mg(){var w=U(xf());w.copy=function(){return Kf(w,Mg()).exponent(w.exponent())};return Ka.apply(w,arguments)}function Ug(){function w(qe){return isNaN(qe=+qe)?ze:(qe=.5+((qe=+rd(qe))-Nb)*(yb*qe<yb*Nb?Ed:fd),mc(wd?Math.max(0,Math.min(1,qe)):qe))}function T(qe){return function(Ue){var Ef,
Uf,mg;return arguments.length?([Ef,Uf,mg]=Ue,mc=Na(qe,[Ef,Uf,mg]),w):[mc(0),mc(.5),mc(1)]}}var aa=0,Ea=.5,rb=1,yb=1,Mb,Nb,Mc,Ed,fd,mc=Fb,rd,wd=!1,ze;w.domain=function(qe){return arguments.length?([aa,Ea,rb]=qe,Mb=rd(aa=+aa),Nb=rd(Ea=+Ea),Mc=rd(rb=+rb),Ed=Mb===Nb?0:.5/(Nb-Mb),fd=Nb===Mc?0:.5/(Mc-Nb),yb=Nb<Mb?-1:1,w):[aa,Ea,rb]};w.clamp=function(qe){return arguments.length?(wd=!!qe,w):wd};w.interpolator=function(qe){return arguments.length?(mc=qe,w):mc};w.range=T(Md);w.rangeRound=T(ud);w.unknown=function(qe){return arguments.length?
(ze=qe,w):ze};return function(qe){rd=qe;Mb=qe(aa);Nb=qe(Ea);Mc=qe(rb);Ed=Mb===Nb?0:.5/(Nb-Mb);fd=Nb===Mc?0:.5/(Mc-Nb);yb=Nb<Mb?-1:1;return w}}function qa(){var w=za(Ug()(Fb));w.copy=function(){return Kf(w,qa())};return Ka.apply(w,arguments)}function bb(){var w=$d(Ug()).domain([.1,1,10]);w.copy=function(){return Kf(w,bb()).base(w.base())};return Ka.apply(w,arguments)}function Rb(){var w=kf(Ug());w.copy=function(){return Kf(w,Rb()).constant(w.constant())};return Ka.apply(w,arguments)}function hd(){var w=
U(Ug());w.copy=function(){return Kf(w,hd()).exponent(w.exponent())};return Ka.apply(w,arguments)}function ld(){function w(){var mc=aa().length;const rd=rb[1]<rb[0],wd=rb[1-rd],ze=ib(mc,Mc,Ed);let qe=rb[rd-0];yb=(wd-qe)/(ze||1);Nb&&(yb=Math.floor(yb));qe+=(wd-qe-yb*(mc-Mc))*fd;Mb=yb*(1-Mc);Nb&&(qe=Math.round(qe),Mb=Math.round(Mb));mc=Qa(mc).map(Ue=>qe+yb*Ue);return Ea(rd?mc.reverse():mc)}const T=lb().unknown(void 0),aa=T.domain,Ea=T.range;let rb=[0,1],yb,Mb,Nb=!1,Mc=0,Ed=0,fd=.5;delete T.unknown;T.domain=
function(mc){return arguments.length?(aa(mc),w()):aa()};T.range=function(mc){return arguments.length?(rb=[+mc[0],+mc[1]],w()):rb.slice()};T.rangeRound=function(mc){rb=[+mc[0],+mc[1]];Nb=!0;return w()};T.bandwidth=function(){return Mb};T.step=function(){return yb};T.round=function(mc){return arguments.length?(Nb=!!mc,w()):Nb};T.padding=function(mc){return arguments.length?(Mc=Ed=Math.max(0,Math.min(1,mc)),w()):Mc};T.paddingInner=function(mc){return arguments.length?(Mc=Math.max(0,Math.min(1,mc)),w()):
Mc};T.paddingOuter=function(mc){return arguments.length?(Ed=Math.max(0,Math.min(1,mc)),w()):Ed};T.align=function(mc){return arguments.length?(fd=Math.max(0,Math.min(1,mc)),w()):fd};T.invertRange=function(mc){if(null!=mc[0]&&null!=mc[1]){var rd=rb[1]<rb[0],wd=rd?Ea().reverse():Ea(),ze=wd.length-1,qe=+mc[0],Ue=+mc[1];if(qe===qe&&Ue===Ue){if(Ue<qe){var Ef=qe;qe=Ue;Ue=Ef}if(!(Ue<wd[0]||qe>rb[1-rd]))return mc=Math.max(0,Sg(wd,qe)-1),Ue=qe===Ue?mc:Sg(wd,Ue)-1,qe-wd[mc]>Mb+1E-10&&++mc,rd&&(Ef=mc,mc=ze-Ue,
Ue=ze-Ef),mc>Ue?void 0:aa().slice(mc,Ue+1)}}};T.invert=function(mc){return(mc=T.invertRange([mc,mc]))?mc[0]:mc};T.copy=function(){return ld().domain(aa()).range(rb).round(Nb).paddingInner(Mc).paddingOuter(Ed).align(fd)};return w()}function pe(w){const T=w.copy;w.padding=w.paddingOuter;delete w.paddingInner;w.copy=function(){return pe(T())};return w}function Pe(){function w(Ea){return null==Ea||Ea!==Ea?void 0:aa[(fh(T,Ea)-1)%aa.length]}let T=[],aa=[];w.domain=function(Ea){return arguments.length?(T=
W.call(Ea,k.toNumber),w):T.slice()};w.range=function(Ea){return arguments.length?(aa=ha.call(Ea),w):aa.slice()};w.tickFormat=function(Ea,rb){return la(T[0],k.peek(T),null==Ea?10:Ea,rb)};w.copy=function(){return Pe().domain(w.domain()).range(w.range())};return w}function qf(w){w[zb]=!0;return w}function Gf(w,T,aa){const Ea=function(){const rb=T();rb.invertRange||(rb.invertRange=rb.invert?Gb(rb):rb.invertExtent?ac(rb):void 0);rb.type=w;return qf(rb)};Ea.metadata=k.toSet(k.array(aa));return Ea}function Ne(w,
T,aa){return 1<arguments.length?(Oa.set(w,Gf(w,T,aa)),this):bg(w)?Oa.get(w):void 0}function bg(w){return Oa.has(w)}function Pf(w,T){return(w=Oa.get(w))&&w.metadata[T]}function Vf(w){return Pf(w,"discrete")}function sg(w){return Pf(w,"discretizing")}function tg(w){return Pf(w,"log")}function Rg(w){return Pf(w,"temporal")}function dh(w,T,aa){return Na(jh(T||"rgb",aa),w)}function jh(w,T){w=ja[Ee(w)];return null!=T&&w&&w.gamma?w.gamma(T):w}function Ee(w){return"interpolate"+w.toLowerCase().split("-").map(T=>
T[0].toUpperCase()+T.slice(1)).join("")}function Je(w){const T=w.length/6|0,aa=Array(T);for(let Ea=0;Ea<T;)aa[Ea]="#"+w.slice(6*Ea,6*++Ea);return aa}function Lf(w,T){for(const aa in w)yf(aa,T(w[aa]))}function yf(w,T){w=w&&w.toLowerCase();return 1<arguments.length?(Sb[w]=T,this):Sb[w]}function nf(w,T,aa){var Ea=w.range();let rb=Ea[0],yb=k.peek(Ea);Ea=Vc;rb>yb&&(Ea=yb,yb=rb,rb=Ea,Ea=Jd);rb=Math.floor(rb);yb=Math.ceil(yb);T=T.map(Mb=>[Mb,w(Mb)]).filter(Mb=>rb<=Mb[1]&&Mb[1]<=yb).sort(Ea).map(Mb=>Mb[0]);
if(0<aa&&1<T.length){for(Ea=[T[0],k.peek(T)];T.length>aa&&3<=T.length;)T=T.filter((Mb,Nb)=>!(Nb%2));3>T.length&&(T=Ea)}return T}function Bf(w,T){return w.bins?nf(w,w.bins):w.ticks?w.ticks(T):w.domain()}function ug(w,T,aa,Ea,rb,yb){const Mb=T.type;let Nb=kc;if("time"===Mb||"time"===rb)Nb=w.timeFormat(Ea);else if("utc"===Mb||"utc"===rb)Nb=w.utcFormat(Ea);else if(tg(Mb)){const Mc=w.formatFloat(Ea);if(yb||T.bins)Nb=Mc;else{const Ed=xg(T,aa,!1);Nb=fd=>Ed(fd)?Mc(fd):""}}else T.tickFormat?(T=T.domain(),
Nb=w.formatSpan(T[0],T[T.length-1],aa,Ea)):Ea&&(Nb=w.format(Ea));return Nb}function xg(w,T,aa){const Ea=Bf(w,T),rb=w.base(),yb=Math.log(rb),Mb=Math.max(1,rb*T/Ea.length);w=Nb=>{Nb/=Math.pow(rb,Math.round(Math.log(Nb)/yb));Nb*rb<rb-.5&&(Nb*=rb);return Nb<=Mb};return aa?Ea.filter(w):w}function ig(w,T){w.bins?(w=w.bins,T=w.slice(0,-1),T.max=k.peek(w),w=T):"log"===w.type?w=xg(w,T,!0):Sd[w.type]?(w=w[Sd[w.type]](),w=[-Infinity].concat(w),w.max=Infinity):w=Bf(w,T);return w}function Cf(w,T,aa,Ea,rb,yb,Mb){if(ad[T.type]&&
"time"!==yb&&"utc"!==yb){aa=T[ad[T.type]]();yb=aa.length;Mb=1<yb?aa[1]-aa[0]:aa[0];let Nb;for(Nb=1;Nb<yb;++Nb)Mb=Math.min(Mb,aa[Nb]-aa[Nb-1]);w=w.formatSpan(0,Mb,30,rb)}else w=ug(w,T,aa,rb,yb,Mb);return"symbol"===Ea&&(Sd[T.type]||T.bins)?ke(w):"discrete"===Ea?Be(w):Te(w)}const Sg=uc(vc).right;uc(jc).center;var fh=Sg;class lh extends Map{constructor(w,T=Kb){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:T}});if(null!=w)for(const [aa,Ea]of w)this.set(aa,Ea)}get(w){return super.get(Yb(this,
w))}has(w){return super.has(Yb(this,w))}set(w,T){return super.set(Ua(this,w),T)}delete(w){return super.delete(ub(this,w))}}const yg=Math.sqrt(50),vh=Math.sqrt(10),uh=Math.sqrt(2),Kh=Symbol("implicit");var Yg=1/.7,wh=/^#([0-9a-f]{3,8})$/,Dh=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),ri=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Vg=
RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),mh=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),si=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
Gg=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Eh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,
cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,
dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,
lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,
mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,
seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mb(xb,Wb,{copy(w){return Object.assign(new this.constructor,this,w)},displayable(){return this.rgb().displayable()},hex:sb,formatHex:sb,
formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return g(this).formatHsl()},formatRgb:Qb,toString:Qb});mb(Ga,Fa,Pa(xb,{brighter(w){w=null==w?Yg:Math.pow(Yg,w);return new Ga(this.r*w,this.g*w,this.b*w,this.opacity)},darker(w){w=null==w?.7:Math.pow(.7,w);return new Ga(this.r*w,this.g*w,this.b*w,this.opacity)},rgb(){return this},clamp(){return new Ga(q(this.r),q(this.g),q(this.b),na(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=
this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:db,formatHex:db,formatHex8:function(){return`#${M(this.r)}${M(this.g)}${M(this.b)}${M(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:ba,toString:ba}));mb(m,u,Pa(xb,{brighter(w){w=null==w?Yg:Math.pow(Yg,w);return new m(this.h,this.s,this.l*w,this.opacity)},darker(w){w=null==w?.7:Math.pow(.7,w);return new m(this.h,this.s,this.l*w,this.opacity)},rgb(){var w=this.h%360+360*(0>this.h),T=isNaN(w)||isNaN(this.s)?0:this.s,aa=this.l;T=aa+
(.5>aa?aa:1-aa)*T;aa=2*aa-T;return new Ga(A(240<=w?w-240:w+120,aa,T),A(w,aa,T),A(120>w?w+240:w-120,aa,T),this.opacity)},clamp(){return new m(C(this.h),B(this.s),B(this.l),na(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const w=na(this.opacity);return`${1===w?"hsl(":"hsla("}${C(this.h)}, ${100*B(this.s)}%, ${100*B(this.l)}%${1===w?")":`, ${w})`}`}}));const Uh=Math.PI/180,Tg=180/Math.PI,eh=4/29,nh=6/29,
xh=3*nh*nh,Jg=nh*nh*nh;mb(V,H,Pa(xb,{brighter(w){return new V(this.l+18*(null==w?1:w),this.a,this.b,this.opacity)},darker(w){return new V(this.l-18*(null==w?1:w),this.a,this.b,this.opacity)},rgb(){var w=(this.l+16)/116,T=isNaN(this.a)?w:w+this.a/500,aa=isNaN(this.b)?w:w-this.b/200;T=.96422*Y(T);w=1*Y(w);aa=.82521*Y(aa);return new Ga(t(3.1338561*T-1.6168667*w-.4906146*aa),t(-.9787684*T+1.9161415*w+.033454*aa),t(.0719453*T-.2289914*w+1.4052427*aa),this.opacity)}}));mb(Wa,La,Pa(xb,{brighter(w){return new Wa(this.h,
this.c,this.l+18*(null==w?1:w),this.opacity)},darker(w){return new Wa(this.h,this.c,this.l-18*(null==w?1:w),this.opacity)},rgb(){return $a(this).rgb()}}));var Lh=1.78277*-.29227-.1347134789;mb(Ca,X,Pa(xb,{brighter(w){w=null==w?Yg:Math.pow(Yg,w);return new Ca(this.h,this.s,this.l*w,this.opacity)},darker(w){w=null==w?.7:Math.pow(.7,w);return new Ca(this.h,this.s,this.l*w,this.opacity)},rgb(){var w=isNaN(this.h)?0:(this.h+120)*Uh,T=+this.l,aa=isNaN(this.s)?0:this.s*T*(1-T),Ea=Math.cos(w);w=Math.sin(w);
return new Ga(255*(T+aa*(-.14861*Ea+1.78277*w)),255*(T+aa*(-.29227*Ea+-.90649*w)),255*(T+1.97294*aa*Ea),this.opacity)}}));var yh=w=>()=>w,zh=function aa(T){function Ea(yb,Mb){var Nb=rb((yb=Fa(yb)).r,(Mb=Fa(Mb)).r),Mc=rb(yb.g,Mb.g),Ed=rb(yb.b,Mb.b),fd=Rc(yb.opacity,Mb.opacity);return function(mc){yb.r=Nb(mc);yb.g=Mc(mc);yb.b=Ed(mc);yb.opacity=fd(mc);return yb+""}}var rb=Zb(T);Ea.gamma=aa;return Ea}(1),Ph=Pd(Ib),Wh=Pd(yc),ph=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fh=new RegExp(ph.source,"g"),
Wf=180/Math.PI,Kg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Xf,Ff=gb(function(T){T=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(T+"");return T.isIdentity?Kg:Ha(T.a,T.b,T.c,T.d,T.e,T.f)},"px, ","px)","deg)"),Mh=gb(function(T){if(null==T)return Kg;Xf||(Xf=document.createElementNS("http://www.w3.org/2000/svg","g"));Xf.setAttribute("transform",T);if(!(T=Xf.transform.baseVal.consolidate()))return Kg;T=T.matrix;return Ha(T.a,T.b,T.c,T.d,T.e,T.f)},", ",")",")"),eg=function yb(aa,
Ea,rb){function Mb(Nb,Mc){var Ed=Nb[0],fd=Nb[1],mc=Nb[2];Nb=Mc[2];var rd=Mc[0]-Ed,wd=Mc[1]-fd,ze=rd*rd+wd*wd;if(1E-12>ze){var qe=Math.log(Nb/mc)/aa;Nb=function(Uf){return[Ed+Uf*rd,fd+Uf*wd,mc*Math.exp(aa*Uf*qe)]}}else{var Ue=Math.sqrt(ze);Mc=(Nb*Nb-mc*mc+rb*ze)/(2*mc*Ea*Ue);Nb=(Nb*Nb-mc*mc-rb*ze)/(2*Nb*Ea*Ue);var Ef=Math.log(Math.sqrt(Mc*Mc+1)-Mc);qe=(Math.log(Math.sqrt(Nb*Nb+1)-Nb)-Ef)/aa;Nb=function(Uf){Uf*=qe;var mg=wb(Ef),Hh=aa*Uf+Ef;var gg=((Hh=Math.exp(2*Hh))-1)/(Hh+1);var uf=Ef;Hh=((uf=Math.exp(uf))-
1/uf)/2;gg=mc/(Ea*Ue)*(mg*gg-Hh);return[Ed+gg*rd,fd+gg*wd,mc*mg/wb(aa*Uf+Ef)]}}Nb.duration=1E3*qe*aa/Math.SQRT2;return Nb}Mb.rho=function(Nb){Nb=Math.max(.001,+Nb);var Mc=Nb*Nb;return yb(Nb,Mc,Mc*Mc)};return Mb}(Math.SQRT2,2,4),Yf=sa(cd),S=sa(Rc),wa=G(cd),Ra=G(Rc),p=ya(cd),R=ya(Rc),ja=Object.freeze({__proto__:null,interpolate:Md,interpolateArray:function(aa,Ea){return(Vb(Ea)?Ma:qb)(aa,Ea)},interpolateBasis:Ib,interpolateBasisClosed:yc,interpolateCubehelix:p,interpolateCubehelixLong:R,interpolateDate:Tb,
interpolateDiscrete:function(aa){var Ea=aa.length;return function(rb){return aa[Math.max(0,Math.min(Ea-1,Math.floor(rb*Ea)))]}},interpolateHcl:wa,interpolateHclLong:Ra,interpolateHsl:Yf,interpolateHslLong:S,interpolateHue:function(aa,Ea){var rb=cd(+aa,+Ea);return function(yb){yb=rb(yb);return yb-360*Math.floor(yb/360)}},interpolateLab:function(aa,Ea){var rb=Rc((aa=H(aa)).l,(Ea=H(Ea)).l),yb=Rc(aa.a,Ea.a),Mb=Rc(aa.b,Ea.b),Nb=Rc(aa.opacity,Ea.opacity);return function(Mc){aa.l=rb(Mc);aa.a=yb(Mc);aa.b=
Mb(Mc);aa.opacity=Nb(Mc);return aa+""}},interpolateNumber:gc,interpolateNumberArray:Ma,interpolateObject:cc,interpolateRgb:zh,interpolateRgbBasis:Ph,interpolateRgbBasisClosed:Wh,interpolateRound:ud,interpolateString:Yc,interpolateTransformCss:Ff,interpolateTransformSvg:Mh,interpolateZoom:eg,piecewise:Na,quantize:function(aa,Ea){for(var rb=Array(Ea),yb=0;yb<Ea;++yb)rb[yb]=aa(yb/(Ea-1));return rb}}),xa=[0,1],r=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;de.prototype=Ud.prototype;
Ud.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var F,ia={"%":(aa,Ea)=>(100*aa).toFixed(Ea),b:aa=>Math.round(aa).toString(2),c:aa=>aa+"",d:function(aa){return 1E21<=Math.abs(aa=Math.round(aa))?aa.toLocaleString("en").replace(/,/g,""):aa.toString(10)},e:(aa,Ea)=>aa.toExponential(Ea),f:(aa,
Ea)=>aa.toFixed(Ea),g:(aa,Ea)=>aa.toPrecision(Ea),o:aa=>Math.round(aa).toString(8),p:(aa,Ea)=>Ve(100*aa,Ea),r:Ve,s:function(aa,Ea){var rb=Qd(aa,Ea);if(!rb)return aa+"";var yb=rb[0];rb=rb[1];rb=rb-(F=3*Math.max(-8,Math.min(8,Math.floor(rb/3))))+1;var Mb=yb.length;return rb===Mb?yb:rb>Mb?yb+Array(rb-Mb+1).join("0"):0<rb?yb.slice(0,rb)+"."+yb.slice(rb):"0."+Array(1-rb).join("0")+Qd(aa,Math.max(0,Ea+rb-1))[0]},X:aa=>Math.round(aa).toString(16).toUpperCase(),x:aa=>Math.round(aa).toString(16)},l=Array.prototype.map,
z="y z a f p n  m  k M G T P E Z Y".split(" "),ca,ma,Va;(function(aa){ca=N(aa);ma=ca.format;Va=ca.formatPrefix;return ca})({thousands:",",grouping:[3],currency:["$",""]});const Xa=new Date,Jb=new Date,hc=Cc(()=>{},(aa,Ea)=>{aa.setTime(+aa+Ea)},(aa,Ea)=>Ea-aa);hc.every=aa=>{aa=Math.floor(aa);return isFinite(aa)&&0<aa?1<aa?Cc(Ea=>{Ea.setTime(Math.floor(Ea/aa)*aa)},(Ea,rb)=>{Ea.setTime(+Ea+rb*aa)},(Ea,rb)=>(rb-Ea)/aa):hc:null};hc.range;const Ub=Cc(aa=>{aa.setTime(aa-aa.getMilliseconds())},(aa,Ea)=>
{aa.setTime(+aa+1E3*Ea)},(aa,Ea)=>(Ea-aa)/1E3,aa=>aa.getUTCSeconds());Ub.range;const qd=Cc(aa=>{aa.setTime(aa-aa.getMilliseconds()-1E3*aa.getSeconds())},(aa,Ea)=>{aa.setTime(+aa+6E4*Ea)},(aa,Ea)=>(Ea-aa)/6E4,aa=>aa.getMinutes());qd.range;const Zc=Cc(aa=>{aa.setUTCSeconds(0,0)},(aa,Ea)=>{aa.setTime(+aa+6E4*Ea)},(aa,Ea)=>(Ea-aa)/6E4,aa=>aa.getUTCMinutes());Zc.range;const Rd=Cc(aa=>{aa.setTime(aa-aa.getMilliseconds()-1E3*aa.getSeconds()-6E4*aa.getMinutes())},(aa,Ea)=>{aa.setTime(+aa+36E5*Ea)},(aa,Ea)=>
(Ea-aa)/36E5,aa=>aa.getHours());Rd.range;const ue=Cc(aa=>{aa.setUTCMinutes(0,0,0)},(aa,Ea)=>{aa.setTime(+aa+36E5*Ea)},(aa,Ea)=>(Ea-aa)/36E5,aa=>aa.getUTCHours());ue.range;const xe=Cc(aa=>aa.setHours(0,0,0,0),(aa,Ea)=>aa.setDate(aa.getDate()+Ea),(aa,Ea)=>(Ea-aa-6E4*(Ea.getTimezoneOffset()-aa.getTimezoneOffset()))/864E5,aa=>aa.getDate()-1);xe.range;const ve=Cc(aa=>{aa.setUTCHours(0,0,0,0)},(aa,Ea)=>{aa.setUTCDate(aa.getUTCDate()+Ea)},(aa,Ea)=>(Ea-aa)/864E5,aa=>aa.getUTCDate()-1);ve.range;const Xe=Cc(aa=>
{aa.setUTCHours(0,0,0,0)},(aa,Ea)=>{aa.setUTCDate(aa.getUTCDate()+Ea)},(aa,Ea)=>(Ea-aa)/864E5,aa=>Math.floor(aa/864E5));Xe.range;const wf=$b(0),Og=$b(1),bf=$b(2),Qe=$b(3),cg=$b(4),Ah=$b(5),fg=$b(6);wf.range;Og.range;bf.range;Qe.range;cg.range;Ah.range;fg.range;const sf=J(0),of=J(1),Qf=J(2),Rf=J(3),Mf=J(4),Zg=J(5),jg=J(6);sf.range;of.range;Qf.range;Rf.range;Mf.range;Zg.range;jg.range;const Bh=Cc(aa=>{aa.setDate(1);aa.setHours(0,0,0,0)},(aa,Ea)=>{aa.setMonth(aa.getMonth()+Ea)},(aa,Ea)=>Ea.getMonth()-
aa.getMonth()+12*(Ea.getFullYear()-aa.getFullYear()),aa=>aa.getMonth());Bh.range;const ng=Cc(aa=>{aa.setUTCDate(1);aa.setUTCHours(0,0,0,0)},(aa,Ea)=>{aa.setUTCMonth(aa.getUTCMonth()+Ea)},(aa,Ea)=>Ea.getUTCMonth()-aa.getUTCMonth()+12*(Ea.getUTCFullYear()-aa.getUTCFullYear()),aa=>aa.getUTCMonth());ng.range;const Ng=Cc(aa=>{aa.setMonth(0,1);aa.setHours(0,0,0,0)},(aa,Ea)=>{aa.setFullYear(aa.getFullYear()+Ea)},(aa,Ea)=>Ea.getFullYear()-aa.getFullYear(),aa=>aa.getFullYear());Ng.every=aa=>isFinite(aa=Math.floor(aa))&&
0<aa?Cc(Ea=>{Ea.setFullYear(Math.floor(Ea.getFullYear()/aa)*aa);Ea.setMonth(0,1);Ea.setHours(0,0,0,0)},(Ea,rb)=>{Ea.setFullYear(Ea.getFullYear()+rb*aa)}):null;Ng.range;const vg=Cc(aa=>{aa.setUTCMonth(0,1);aa.setUTCHours(0,0,0,0)},(aa,Ea)=>{aa.setUTCFullYear(aa.getUTCFullYear()+Ea)},(aa,Ea)=>Ea.getUTCFullYear()-aa.getUTCFullYear(),aa=>aa.getUTCFullYear());vg.every=aa=>isFinite(aa=Math.floor(aa))&&0<aa?Cc(Ea=>{Ea.setUTCFullYear(Math.floor(Ea.getUTCFullYear()/aa)*aa);Ea.setUTCMonth(0,1);Ea.setUTCHours(0,
0,0,0)},(Ea,rb)=>{Ea.setUTCFullYear(Ea.getUTCFullYear()+rb*aa)}):null;vg.range;const [Zh,qi]=fa(vg,ng,sf,Xe,ue,Zc),[hi,Pi]=fa(Ng,Bh,wf,xe,Rd,qd);var Ni={"-":"",_:" ",0:"0"},Dg=/^\s*\d+/,Ti=/^%/,rj=/[\\^$*+?|[\]().{}]/g,ki,ui,y;(function(aa){ki=Dc(aa);ui=ki.format;ki.parse;y=ki.utcFormat;ki.utcParse;return ki})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),
months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var W=Array.prototype.map;const ha=Array.prototype.slice,Oa=new Map,zb=Symbol("vega_scale");Ne("identity",Hb);Ne("linear",fb,"continuous");Ne("log",Wd,["continuous","log"]);Ne("pow",ua,"continuous");Ne("sqrt",function(){return ua.apply(null,arguments).exponent(.5)},"continuous");Ne("symlog",hf,"continuous");Ne("time",function(){return Da.apply(hg(hi,
Pi,Ng,Bh,wf,xe,Rd,qd,Ub,ui).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)},["continuous","temporal"]);Ne("utc",function(){return Da.apply(hg(Zh,qi,vg,ng,sf,ve,ue,Zc,Ub,y).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)},["continuous","temporal"]);Ne("sequential",dg,["continuous","interpolating"]);Ne("sequential-linear",dg,["continuous","interpolating"]);Ne("sequential-log",ch,["continuous","interpolating","log"]);Ne("sequential-pow",Mg,["continuous","interpolating"]);Ne("sequential-sqrt",
function(){return Mg.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);Ne("sequential-symlog",Ig,["continuous","interpolating"]);Ne("diverging-linear",qa,["continuous","interpolating"]);Ne("diverging-log",bb,["continuous","interpolating","log"]);Ne("diverging-pow",hd,["continuous","interpolating"]);Ne("diverging-sqrt",function(){return hd.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);Ne("diverging-symlog",Rb,["continuous","interpolating"]);Ne("quantile",cb,
["discretizing","quantile"]);Ne("quantize",Ab,"discretizing");Ne("threshold",fc,"discretizing");Ne("bin-ordinal",Pe,["discrete","discretizing"]);Ne("ordinal",lb,"discrete");Ne("band",ld,"discrete");Ne("point",function(){return pe(ld().paddingInner(1))},"discrete");const Eb=["clamp","base","constant","exponent"],Sb={};Lf({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",
category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",
dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},Je);Lf({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",
greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",
greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",
yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",
redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},aa=>dh(Je(aa)));const kc=aa=>k.isArray(aa)?aa.map(Ea=>String(Ea)):String(aa),Vc=(aa,Ea)=>aa[1]-Ea[1],Jd=(aa,Ea)=>Ea[1]-aa[1],Sd={quantile:"quantiles",quantize:"thresholds",threshold:"domain"},ad={quantile:"quantiles",quantize:"domain"},ke=aa=>(Ea,rb,yb)=>{rb=yb[rb+1];yb=yb.max;yb=null!=yb?yb:Infinity;rb=null!=
rb?rb:yb;Ea=Number.isFinite(Ea)?aa(Ea):null;rb=Number.isFinite(rb)?aa(rb):null;return Ea&&rb?Ea+"  "+rb:rb?"\x3c "+rb:" "+Ea},Be=aa=>(Ea,rb)=>rb?aa(Ea):null,Te=aa=>Ea=>aa(Ea);v.Band="band";v.BinOrdinal="bin-ordinal";v.DiscreteLegend="discrete";v.Diverging="diverging";v.GradientLegend="gradient";v.Identity="identity";v.Linear="linear";v.Log="log";v.Ordinal="ordinal";v.Point="point";v.Pow="pow";v.Quantile="quantile";v.Quantize="quantize";v.Sequential="sequential";v.Sqrt="sqrt";v.SymbolLegend="symbol";
v.Symlog="symlog";v.Threshold="threshold";v.Time="time";v.UTC="utc";v.bandSpace=ib;v.domainCaption=function(aa,Ea,rb){rb=rb||{};var yb=Math.max(3,rb.maxlen||7),Mb=rb.format;const Nb=(rb=rb.formatType)||Ea.type;k.isString(Mb)&&Rg(Nb)&&(Mb=Mb.replace(/%a/g,"%A").replace(/%b/g,"%B"));aa=Mb||"time"!==Nb?Mb||"utc"!==Nb?Cf(aa,Ea,5,null,Mb,rb,!0):aa.utcFormat("%A, %d %B %Y, %X UTC"):aa.timeFormat("%A, %d %B %Y, %X");if(sg(Ea.type))return yb=ig(Ea).slice(1).map(aa),Ea=yb.length,`${Ea} boundar${1===Ea?"y":
"ies"}: ${yb.join(", ")}`;if(Vf(Ea.type))return Mb=Ea.domain(),Ea=Mb.length,yb=Ea>yb?Mb.slice(0,yb-2).map(aa).join(", ")+", ending with "+Mb.slice(-1).map(aa):Mb.map(aa).join(", "),`${Ea} value${1===Ea?"":"s"}: ${yb}`;yb=Ea.domain();return`values from ${aa(yb[0])} to ${aa(k.peek(yb))}`};v.interpolate=jh;v.interpolateColors=dh;v.interpolateRange=function(aa,Ea){const rb=Ea[0],yb=k.peek(Ea)-rb;return function(Mb){return aa(rb+Mb*yb)}};v.isContinuous=function(aa){return Pf(aa,"continuous")};v.isDiscrete=
Vf;v.isDiscretizing=sg;v.isInterpolating=function(aa){return Pf(aa,"interpolating")};v.isLogarithmic=tg;v.isQuantile=function(aa){return Pf(aa,"quantile")};v.isRegisteredScale=function(aa){return aa&&!0===aa[zb]};v.isTemporal=Rg;v.isValidScaleType=bg;v.labelFormat=Cf;v.labelFraction=function(aa){var Ea=aa.domain();const rb=Ea.length-1;let yb=+Ea[0];Ea=+k.peek(Ea);let Mb=Ea-yb;"threshold"===aa.type&&(aa=rb?Mb/rb:.1,yb-=aa,Ea+=aa,Mb=Ea-yb);return Nb=>(Nb-yb)/Mb};v.labelValues=ig;v.quantizeInterpolator=
function(aa,Ea){const rb=Array(Ea),yb=Ea+1;for(let Mb=0;Mb<Ea;)rb[Mb]=aa(++Mb/yb);return rb};v.registerScale=qf;v.scale=Ne;v.scaleCopy=function(aa){const Ea=aa.type;aa=aa.copy();aa.type=Ea;return aa};v.scaleFraction=function(aa,Ea,rb){var yb=rb-Ea;let Mb,Nb;return yb&&Number.isFinite(yb)?(yb=(Mb=aa.type).indexOf("-"),Mb=0>yb?Mb:Mb.slice(yb+1),Nb=Ne(Mb)().domain([Ea,rb]).range([0,1]),Eb.forEach(Mc=>aa[Mc]?Nb[Mc](aa[Mc]()):0),Nb):k.constant(.5)};v.scaleImplicit=Kh;v.scheme=yf;v.tickCount=function(aa,
Ea,rb){let yb;k.isNumber(Ea)&&(aa.bins&&(Ea=Math.max(Ea,aa.bins.length)),null!=rb&&(Ea=Math.min(Ea,Math.floor(k.span(aa.domain())/rb||1))));k.isObject(Ea)&&(yb=Ea.step,Ea=Ea.interval);k.isString(Ea)&&(Ea="time"===aa.type?P.timeInterval(Ea):"utc"==aa.type?P.utcInterval(Ea):k.error("Only time and utc scales accept interval strings."),yb&&(Ea=Ea.every(yb)));return Ea};v.tickFormat=ug;v.tickValues=Bf;v.validTicks=nf})};
shadow$provide[34]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(21),Db(32),Db(28),Db(33)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-canvas","vega-loader","vega-scale"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,P,ib,Gb){function ac(p,R,ja){const xa=p.gradient;let r=p.id,F="radial"===xa?"p_":"";r||(r=p.id="gradient_"+vb++,"radial"===xa?(p.x1=vc(p.x1,
.5),p.y1=vc(p.y1,.5),p.r1=vc(p.r1,0),p.x2=vc(p.x2,.5),p.y2=vc(p.y2,.5),p.r2=vc(p.r2,.5),F="p_"):(p.x1=vc(p.x1,0),p.y1=vc(p.y1,0),p.x2=vc(p.x2,1),p.y2=vc(p.y2,0)));R[r]=p;return"url("+(ja||"")+"#"+F+r+")"}function vc(p,R){return null!=p?p:R}function Ac(p){return function(){return p}}function uc(p){return 1<=p?Dd:-1>=p?-Dd:Math.asin(p)}function Bb(p){this._+=p[0];for(let R=1,ja=p.length;R<ja;++R)this._+=arguments[R]+p[R]}function jc(p){let R=Math.floor(p);if(!(0<=R))throw Error(`invalid digits: ${p}`);
if(15<R)return Bb;const ja=Math.pow(10,R);return function(xa){this._+=xa[0];for(let r=1,F=xa.length;r<F;++r)this._+=Math.round(arguments[r]*ja)/ja+xa[r]}}function Yb(){return new Ae}function Ua(p){let R=3;p.digits=function(ja){if(!arguments.length)return R;if(null==ja)R=null;else{const xa=Math.floor(ja);if(!(0<=xa))throw new RangeError(`invalid digits: ${ja}`);R=xa}return p};return()=>new Ae(R)}function ub(p){return p.innerRadius}function Kb(p){return p.outerRadius}function Lb(p){return p.startAngle}
function Cb(p){return p.endAngle}function Pb(p){return p&&p.padAngle}function ab(p,R,ja,xa,r,F,ia){var l=p-ja,z=R-xa;ia=(ia?F:-F)/$c(l*l+z*z);z*=ia;l*=-ia;var ca=p+z,ma=R+l,Va=ja+z,Xa=xa+l;ja=(ca+Va)/2;xa=(ma+Xa)/2;R=Va-ca;p=Xa-ma;ia=R*R+p*p;F=r-F;Xa=ca*Xa-Va*ma;var Jb=(0>p?-1:1)*$c(Kc(0,F*F*ia-Xa*Xa));ca=(Xa*p-R*Jb)/ia;ma=(-Xa*R-p*Jb)/ia;Va=(Xa*p+R*Jb)/ia;R=(-Xa*R+p*Jb)/ia;p=ca-ja;ia=ma-xa;ja=Va-ja;xa=R-xa;p*p+ia*ia>ja*ja+xa*xa&&(ca=Va,ma=R);return{cx:ca,cy:ma,x01:-z,y01:-l,x11:ca*(r/F-1),y11:ma*
(r/F-1)}}function pb(p){return"object"===typeof p&&"length"in p?p:Array.from(p)}function Qa(p){this._context=p}function Da(p){return new Qa(p)}function Ka(p){return p[0]}function lb(p){return p[1]}function mb(p,R){function ja(z){var ca,ma=(z=pb(z)).length,Va,Xa=!1,Jb;null==r&&(ia=F(Jb=l()));for(ca=0;ca<=ma;++ca)!(ca<ma&&xa(Va=z[ca],ca,z))===Xa&&((Xa=!Xa)?ia.lineStart():ia.lineEnd()),Xa&&ia.point(+p(Va,ca,z),+R(Va,ca,z));if(Jb)return ia=null,Jb+""||null}var xa=Ac(!0),r=null,F=Da,ia=null,l=Ua(ja);p=
"function"===typeof p?p:void 0===p?Ka:Ac(p);R="function"===typeof R?R:void 0===R?lb:Ac(R);ja.x=function(z){return arguments.length?(p="function"===typeof z?z:Ac(+z),ja):p};ja.y=function(z){return arguments.length?(R="function"===typeof z?z:Ac(+z),ja):R};ja.defined=function(z){return arguments.length?(xa="function"===typeof z?z:Ac(!!z),ja):xa};ja.curve=function(z){return arguments.length?(F=z,null!=r&&(ia=F(r)),ja):F};ja.context=function(z){return arguments.length?(null==z?r=ia=null:ia=F(r=z),ja):
r};return ja}function Pa(p,R,ja){function xa(Va){var Xa,Jb,hc=(Va=pb(Va)).length,Ub,qd=!1,Zc,Rd=Array(hc),ue=Array(hc);null==l&&(ca=z(Zc=ma()));for(Xa=0;Xa<=hc;++Xa){if(!(Xa<hc&&ia(Ub=Va[Xa],Xa,Va))===qd)if(qd=!qd){var xe=Xa;ca.areaStart();ca.lineStart()}else{ca.lineEnd();ca.lineStart();for(Jb=Xa-1;Jb>=xe;--Jb)ca.point(Rd[Jb],ue[Jb]);ca.lineEnd();ca.areaEnd()}qd&&(Rd[Xa]=+p(Ub,Xa,Va),ue[Xa]=+R(Ub,Xa,Va),ca.point(F?+F(Ub,Xa,Va):Rd[Xa],ja?+ja(Ub,Xa,Va):ue[Xa]))}if(Zc)return ca=null,Zc+""||null}function r(){return mb().defined(ia).curve(z).context(l)}
var F=null,ia=Ac(!0),l=null,z=Da,ca=null,ma=Ua(xa);p="function"===typeof p?p:void 0===p?Ka:Ac(+p);R="function"===typeof R?R:void 0===R?Ac(0):Ac(+R);ja="function"===typeof ja?ja:void 0===ja?lb:Ac(+ja);xa.x=function(Va){return arguments.length?(p="function"===typeof Va?Va:Ac(+Va),F=null,xa):p};xa.x0=function(Va){return arguments.length?(p="function"===typeof Va?Va:Ac(+Va),xa):p};xa.x1=function(Va){return arguments.length?(F=null==Va?null:"function"===typeof Va?Va:Ac(+Va),xa):F};xa.y=function(Va){return arguments.length?
(R="function"===typeof Va?Va:Ac(+Va),ja=null,xa):R};xa.y0=function(Va){return arguments.length?(R="function"===typeof Va?Va:Ac(+Va),xa):R};xa.y1=function(Va){return arguments.length?(ja=null==Va?null:"function"===typeof Va?Va:Ac(+Va),xa):ja};xa.lineX0=xa.lineY0=function(){return r().x(p).y(R)};xa.lineY1=function(){return r().x(p).y(ja)};xa.lineX1=function(){return r().x(F).y(R)};xa.defined=function(Va){return arguments.length?(ia="function"===typeof Va?Va:Ac(!!Va),xa):ia};xa.curve=function(Va){return arguments.length?
(z=Va,null!=l&&(ca=z(l)),xa):z};xa.context=function(Va){return arguments.length?(null==Va?l=ca=null:ca=z(l=Va),xa):l};return xa}function xb(){}function sb(p,R,ja){p._context.bezierCurveTo((2*p._x0+p._x1)/3,(2*p._y0+p._y1)/3,(p._x0+2*p._x1)/3,(p._y0+2*p._y1)/3,(p._x0+4*p._x1+R)/6,(p._y0+4*p._y1+ja)/6)}function Qb(p){this._context=p}function Wb(p){this._context=p}function ob(p){this._context=p}function pa(p,R){this._basis=new Qb(p);this._beta=R}function Z(p,R,ja){p._context.bezierCurveTo(p._x1+p._k*
(p._x2-p._x0),p._y1+p._k*(p._y2-p._y0),p._x2+p._k*(p._x1-R),p._y2+p._k*(p._y1-ja),p._x2,p._y2)}function Fa(p,R){this._context=p;this._k=(1-R)/6}function Ga(p,R){this._context=p;this._k=(1-R)/6}function db(p,R){this._context=p;this._k=(1-R)/6}function ba(p,R,ja){var xa=p._x1,r=p._y1,F=p._x2,ia=p._y2;if(1E-12<p._l01_a){var l=2*p._l01_2a+3*p._l01_a*p._l12_a+p._l12_2a,z=3*p._l01_a*(p._l01_a+p._l12_a);xa=(xa*l-p._x0*p._l12_2a+p._x2*p._l01_2a)/z;r=(r*l-p._y0*p._l12_2a+p._y2*p._l01_2a)/z}1E-12<p._l23_a&&
(l=2*p._l23_2a+3*p._l23_a*p._l12_a+p._l12_2a,z=3*p._l23_a*(p._l23_a+p._l12_a),F=(F*l+p._x1*p._l23_2a-R*p._l12_2a)/z,ia=(ia*l+p._y1*p._l23_2a-ja*p._l12_2a)/z);p._context.bezierCurveTo(xa,r,F,ia,p._x2,p._y2)}function na(p,R){this._context=p;this._alpha=R}function q(p,R){this._context=p;this._alpha=R}function M(p,R){this._context=p;this._alpha=R}function Q(p){this._context=p}function g(p,R,ja){var xa=p._x1-p._x0;R-=p._x1;var r=(p._y1-p._y0)/(xa||0>R&&-0);p=(ja-p._y1)/(R||0>xa&&-0);return((0>r?-1:1)+
(0>p?-1:1))*Math.min(Math.abs(r),Math.abs(p),.5*Math.abs((r*R+p*xa)/(xa+R)))||0}function u(p,R){var ja=p._x1-p._x0;return ja?(3*(p._y1-p._y0)/ja-R)/2:R}function m(p,R,ja){var xa=p._x0,r=p._x1,F=p._y1,ia=(r-xa)/3;p._context.bezierCurveTo(xa+ia,p._y0+ia*R,r-ia,F-ia*ja,r,F)}function C(p){this._context=p}function B(p){this._context=new A(p)}function A(p){this._context=p}function E(p){this._context=p}function H(p){var R,ja=p.length-1,xa=Array(ja),r=Array(ja),F=Array(ja);xa[0]=0;r[0]=2;F[0]=p[0]+2*p[1];
for(R=1;R<ja-1;++R)xa[R]=1,r[R]=4,F[R]=4*p[R]+2*p[R+1];xa[ja-1]=2;r[ja-1]=7;F[ja-1]=8*p[ja-1]+p[ja];for(R=1;R<ja;++R){var ia=xa[R]/r[R-1];r[R]-=ia;F[R]-=ia*F[R-1]}xa[ja-1]=F[ja-1]/r[ja-1];for(R=ja-2;0<=R;--R)xa[R]=(F[R]-xa[R+1])/r[R];r[ja-1]=(p[ja]+xa[ja-1])/2;for(R=0;R<ja-1;++R)r[R]=2*p[R+1]-xa[R+1];return[xa,r]}function V(p,R){this._context=p;this._t=R}function Aa(p,R,ja){p=k.hasOwnProperty(If,p)&&If[p];var xa=null;p&&(xa=p.curve||p[R||"vertical"],p.tension&&null!=ja&&(xa=xa[p.tension](ja)));return xa}
function Y(p){const R=[];(p.match(ag)||[]).forEach(ja=>{let xa=ja[0];var r=xa.toLowerCase();const F=jf[r];var ia=ja.slice(1).trim();ja=[];for(let z=0;F&&z<ia.length;)for(let ca=0;ca<F;++ca){var l="a"!==r||3!==ca&&4!==ca?Yd:mf;l=ia.slice(z).match(l);if(null===l)throw Error("Invalid SVG path, incorrect parameter type");z+=l[0].length;ja.push(+l[0]);l=ia.slice(z).match(ff);null!==l&&(z+=l[0].length)}ia=ja.length;if(ia<F||ia&&0!==ia%F)throw Error("Invalid SVG path, incorrect parameter count");R.push([xa,
...ja.slice(0,F)]);if(ia!==F)for("m"===r&&(xa="M"===xa?"L":"l"),r=F;r<ia;r+=F)R.push([xa,...ja.slice(r,r+F)])});return R}function t(p,R,ja,xa,r,F,ia,l,z){const ca=hg.call(arguments);if(Af[ca])return Af[ca];var ma=ia*af;const Va=Math.sin(ma);ma=Math.cos(ma);ja=Math.abs(ja);xa=Math.abs(xa);var Xa=ma*(l-p)*.5+Va*(z-R)*.5,Jb=ma*(z-R)*.5-Va*(l-p)*.5;Xa=Xa*Xa/(ja*ja)+Jb*Jb/(xa*xa);1<Xa&&(Xa=Math.sqrt(Xa),ja*=Xa,xa*=Xa);var hc=ma/ja,Ub=Va/ja,qd=-Va/xa,Zc=ma/xa;Xa=hc*l+Ub*z;Jb=qd*l+Zc*z;hc=hc*p+Ub*R;Ub=qd*
p+Zc*R;qd=1/((hc-Xa)*(hc-Xa)+(Ub-Jb)*(Ub-Jb))-.25;0>qd&&(qd=0);Zc=Math.sqrt(qd);F==r&&(Zc=-Zc);qd=.5*(Xa+hc)-Zc*(Ub-Jb);Zc=.5*(Jb+Ub)+Zc*(hc-Xa);Xa=Math.atan2(Jb-Zc,Xa-qd);Jb=Math.atan2(Ub-Zc,hc-qd)-Xa;0>Jb&&1===F?Jb+=Jf:0<Jb&&0===F&&(Jb-=Jf);hc=Math.ceil(Math.abs(Jb/(Hf+.001)));Ub=[];for(let Rd=0;Rd<hc;++Rd)Ub[Rd]=[qd,Zc,Xa+Rd*Jb/hc,Xa+(Rd+1)*Jb/hc,ja,xa,Va,ma];return Af[ca]=Ub}function L(p,R,ja,xa,r,F){var ia=null,l=0,z=0,ca=0,ma=0,Va=0,Xa=0;null==ja&&(ja=0);null==xa&&(xa=0);null==r&&(r=1);null==
F&&(F=r);p.beginPath&&p.beginPath();for(var Jb=0,hc=R.length;Jb<hc;++Jb){var Ub=R[Jb];if(1!==r||1!==F){var qd=r;var Zc=F;var Rd=xf[0]=Ub[0];if("a"===Rd||"A"===Rd)xf[1]=qd*Ub[1],xf[2]=Zc*Ub[2],xf[3]=Ub[3],xf[4]=Ub[4],xf[5]=Ub[5],xf[6]=qd*Ub[6],xf[7]=Zc*Ub[7];else if("h"===Rd||"H"===Rd)xf[1]=qd*Ub[1];else if("v"===Rd||"V"===Rd)xf[1]=Zc*Ub[1];else{Rd=1;for(var ue=Ub.length;Rd<ue;++Rd)xf[Rd]=(1==Rd%2?qd:Zc)*Ub[Rd]}Ub=xf}switch(Ub[0]){case "l":l+=Ub[1];z+=Ub[2];p.lineTo(l+ja,z+xa);break;case "L":l=Ub[1];
z=Ub[2];p.lineTo(l+ja,z+xa);break;case "h":l+=Ub[1];p.lineTo(l+ja,z+xa);break;case "H":l=Ub[1];p.lineTo(l+ja,z+xa);break;case "v":z+=Ub[1];p.lineTo(l+ja,z+xa);break;case "V":z=Ub[1];p.lineTo(l+ja,z+xa);break;case "m":l+=Ub[1];z+=Ub[2];Va=l;Xa=z;p.moveTo(l+ja,z+xa);break;case "M":l=Ub[1];z=Ub[2];Va=l;Xa=z;p.moveTo(l+ja,z+xa);break;case "c":qd=l+Ub[5];Zc=z+Ub[6];ca=l+Ub[3];ma=z+Ub[4];p.bezierCurveTo(l+Ub[1]+ja,z+Ub[2]+xa,ca+ja,ma+xa,qd+ja,Zc+xa);l=qd;z=Zc;break;case "C":l=Ub[5];z=Ub[6];ca=Ub[3];ma=
Ub[4];p.bezierCurveTo(Ub[1]+ja,Ub[2]+xa,ca+ja,ma+xa,l+ja,z+xa);break;case "s":qd=l+Ub[3];Zc=z+Ub[4];ca=2*l-ca;ma=2*z-ma;p.bezierCurveTo(ca+ja,ma+xa,l+Ub[1]+ja,z+Ub[2]+xa,qd+ja,Zc+xa);ca=l+Ub[1];ma=z+Ub[2];l=qd;z=Zc;break;case "S":qd=Ub[3];Zc=Ub[4];ca=2*l-ca;ma=2*z-ma;p.bezierCurveTo(ca+ja,ma+xa,Ub[1]+ja,Ub[2]+xa,qd+ja,Zc+xa);l=qd;z=Zc;ca=Ub[1];ma=Ub[2];break;case "q":qd=l+Ub[3];Zc=z+Ub[4];ca=l+Ub[1];ma=z+Ub[2];p.quadraticCurveTo(ca+ja,ma+xa,qd+ja,Zc+xa);l=qd;z=Zc;break;case "Q":qd=Ub[3];Zc=Ub[4];
p.quadraticCurveTo(Ub[1]+ja,Ub[2]+xa,qd+ja,Zc+xa);l=qd;z=Zc;ca=Ub[1];ma=Ub[2];break;case "t":qd=l+Ub[1];Zc=z+Ub[2];null===ia[0].match(/[QqTt]/)?(ca=l,ma=z):"t"===ia[0]?(ca=2*l-xe,ma=2*z-ve):"q"===ia[0]&&(ca=2*l-ca,ma=2*z-ma);var xe=ca;var ve=ma;p.quadraticCurveTo(ca+ja,ma+xa,qd+ja,Zc+xa);l=qd;z=Zc;ca=l+Ub[1];ma=z+Ub[2];break;case "T":qd=Ub[1];Zc=Ub[2];ca=2*l-ca;ma=2*z-ma;p.quadraticCurveTo(ca+ja,ma+xa,qd+ja,Zc+xa);l=qd;z=Zc;break;case "a":va(p,l+ja,z+xa,[Ub[1],Ub[2],Ub[3],Ub[4],Ub[5],Ub[6]+l+ja,Ub[7]+
z+xa]);l+=Ub[6];z+=Ub[7];break;case "A":va(p,l+ja,z+xa,[Ub[1],Ub[2],Ub[3],Ub[4],Ub[5],Ub[6]+ja,Ub[7]+xa]);l=Ub[6];z=Ub[7];break;case "z":case "Z":l=Va,z=Xa,p.closePath()}ia=Ub}}function va(p,R,ja,xa){R=t(xa[5],xa[6],xa[0],xa[1],xa[3],xa[4],xa[2],R,ja);for(ja=0;ja<R.length;++ja){a:{var r=R[ja];xa=hg.call(r);if(Eg[xa]){xa=Eg[xa];break a}var F=r[0],ia=r[1],l=r[2],z=r[3],ca=r[4],ma=r[5],Va=r[6],Xa=r[7];r=Xa*ca;const hc=-Va*ma;ca*=Va;ma*=Xa;var Jb=Math.cos(l);const Ub=Math.sin(l);Va=Math.cos(z);Xa=Math.sin(z);
l=.5*(z-l);z=Math.sin(.5*l);z=8/3*z*z/Math.sin(l);l=F+Jb-z*Ub;Jb=ia+Ub+z*Jb;F+=Va;ia+=Xa;Xa=F+z*Xa;Va=ia-z*Va;xa=Eg[xa]=[r*l+hc*Jb,ca*l+ma*Jb,r*Xa+hc*Va,ca*Xa+ma*Va,r*F+hc*ia,ca*F+ma*ia]}p.bezierCurveTo(xa[0],xa[1],xa[2],xa[3],xa[4],xa[5])}}function La(p){return k.hasOwnProperty(Kf,p)?Kf[p]:Wa(p)}function Wa(p){if(!k.hasOwnProperty(dg,p)){const R=Y(p);dg[p]={draw:function(ja,xa){L(ja,R,0,0,Math.sqrt(xa)/2)}}}return dg[p]}function $a(p){return p.x}function X(p){return p.y}function Ca(p){return p.width}
function Ya(p){return p.height}function Ib(p){return"function"===typeof p?p:()=>+p}function yc(p,R,ja){return Math.max(R,Math.min(p,ja))}function sc(){function p(ma,Va,Xa){var Jb;Va=null!=Va?Va:+R.call(this,ma);Xa=null!=Xa?Xa:+ja.call(this,ma);var hc=+xa.call(this,ma),Ub=+r.call(this,ma),qd=Math.min(hc,Ub)/2,Zc=yc(+F.call(this,ma),0,qd),Rd=yc(+ia.call(this,ma),0,qd),ue=yc(+l.call(this,ma),0,qd);ma=yc(+z.call(this,ma),0,qd);ca||(ca=Jb=Yb());0>=Zc&&0>=Rd&&0>=ue&&0>=ma?ca.rect(Va,Xa,hc,Ub):(hc=Va+hc,
Ub=Xa+Ub,ca.moveTo(Va+Zc,Xa),ca.lineTo(hc-Rd,Xa),ca.bezierCurveTo(hc-.448084975506*Rd,Xa,hc,Xa+.448084975506*Rd,hc,Xa+Rd),ca.lineTo(hc,Ub-ma),ca.bezierCurveTo(hc,Ub-.448084975506*ma,hc-.448084975506*ma,Ub,hc-ma,Ub),ca.lineTo(Va+ue,Ub),ca.bezierCurveTo(Va+.448084975506*ue,Ub,Va,Ub-.448084975506*ue,Va,Ub-ue),ca.lineTo(Va,Xa+Zc),ca.bezierCurveTo(Va,Xa+.448084975506*Zc,Va+.448084975506*Zc,Xa,Va+Zc,Xa),ca.closePath());if(Jb)return ca=null,Jb+""||null}var R=$a,ja=X,xa=Ca,r=Ya,F=Ib(0),ia=F,l=F,z=F,ca=null;
p.x=function(ma){return arguments.length?(R=Ib(ma),p):R};p.y=function(ma){return arguments.length?(ja=Ib(ma),p):ja};p.width=function(ma){return arguments.length?(xa=Ib(ma),p):xa};p.height=function(ma){return arguments.length?(r=Ib(ma),p):r};p.cornerRadius=function(ma,Va,Xa,Jb){return arguments.length?(F=Ib(ma),ia=null!=Va?Ib(Va):F,z=null!=Xa?Ib(Xa):F,l=null!=Jb?Ib(Jb):ia,p):F};p.context=function(ma){return arguments.length?(ca=null==ma?null:ma,p):ca};return p}function xc(){function p(ma){var Va,Xa=
ma.length,Jb,hc=!1,Ub;null==F&&(F=Ub=Yb());for(Va=0;Va<=Xa;++Va)if(!(Va<Xa&&r(Jb=ma[Va],Va,ma))===hc&&(hc=!hc)&&(ia=0),hc){var qd=+R(Jb,Va,ma),Zc=+ja(Jb,Va,ma);const wf=+xa(Jb,Va,ma)/2;if(ia){var Rd=z-Zc,ue=qd-l;if(Rd||ue){var xe=Math.sqrt(Rd*Rd+ue*ue),ve=(Rd/=xe)*ca;xe=(ue/=xe)*ca;var Xe=Math.atan2(ue,Rd);F.moveTo(l-ve,z-xe);F.lineTo(qd-Rd*wf,Zc-ue*wf);F.arc(qd,Zc,wf,Xe-Math.PI,Xe);F.lineTo(l+ve,z+xe);F.arc(l,z,ca,Xe,Xe+Math.PI)}else F.arc(qd,Zc,wf,0,Jf);F.closePath()}else ia=1;l=qd;z=Zc;ca=wf}if(Ub)return F=
null,Ub+""||null}var R,ja,xa,r,F=null,ia,l,z,ca;p.x=function(ma){return arguments.length?(R=ma,p):R};p.y=function(ma){return arguments.length?(ja=ma,p):ja};p.size=function(ma){return arguments.length?(xa=ma,p):xa};p.defined=function(ma){return arguments.length?(r=ma,p):r};p.context=function(ma){return arguments.length?(F=null==ma?null:ma,p):F};return p}function cd(p,R){return null!=p?p:R}function Zb(p){return p.cornerRadius||p.cornerRadiusTopLeft||p.cornerRadiusTopRight||p.cornerRadiusBottomRight||
p.cornerRadiusBottomLeft}function Rc(p,R,ja,xa){return hd.context(p)(R,ja,xa)}function Pd(p,R,ja){var xa=R.clip;p=p._defs;R=R.clip_id||(R.clip_id="clip"+Pe++);p=p.clipping[R]||(p.clipping[R]={id:R});k.isFunction(xa)?p.path=xa(null):Zb(ja)?p.path=Rc(null,ja,0,0):(p.width=ja.width||0,p.height=ja.height||0);return"url(#"+R+")"}function Ma(p){this.clear();p&&this.union(p)}function Vb(p){this.mark=p;this.bounds=this.bounds||new Ma}function qb(p){Vb.call(this,p);this.items=this.items||[]}function Tb(p){this._pending=
0;this._loader=p||ib.loader()}function gc(p,R,ja){if(R.stroke&&0!==R.opacity&&0!==R.strokeOpacity){const xa=null!=R.strokeWidth?+R.strokeWidth:1;p.expand(xa+(ja?R.strokeJoin&&"miter"!==R.strokeJoin?0:xa:0))}return p}function cc(p,R){Gf=p;R?(Pf=R*af,Vf=Rg=Math.cos(Pf),sg=Math.sin(Pf),tg=-sg):(Vf=Rg=1,Pf=sg=tg=0);return yf}function Ic(p,R,ja,xa){ja=(p-R)/(p+ja-2*R);0<ja&&1>ja&&xa(p+(R-p)*ja)}function zc(p,R,ja,xa,r){const F=xa-p+3*R-3*ja,ia=p+ja-2*R;var l=p-R;let z=0,ca=0;1E-14<Math.abs(F)?(l=ia*ia+
l*F,0<=l&&(l=Math.sqrt(l),z=(-ia+l)/F,ca=(-ia-l)/F)):z=.5*l/ia;0<z&&1>z&&r(Yc(z,p,R,ja,xa));0<ca&&1>ca&&r(Yc(ca,p,R,ja,xa))}function Yc(p,R,ja,xa,r){const F=1-p,ia=F*F,l=p*p;return ia*F*R+3*ia*p*ja+3*F*l*xa+l*p*r}function Md(p){return function(R,ja){if(!nf)return!0;p(nf,R);Bf.clear().union(R.bounds).intersect(ja).round();const {x1:xa,y1:r,x2:F,y2:ia}=Bf;for(R=r;R<=ia;++R)for(ja=xa;ja<=F;++ja)if(nf.isPointInPath(ja,R))return!0;return!1}}function ud(p,R){return R.contains(p.x||0,p.y||0)}function Ha(p,
R){const ja=p.x||0,xa=p.y||0;return R.intersects(Bf.set(ja,xa,ja+(p.width||0),xa+(p.height||0)))}function gb(p,R){const ja=p.x||0,xa=p.y||0;return wb(R,ja,xa,null!=p.x2?p.x2:ja,null!=p.y2?p.y2:xa)}function wb(p,R,ja,xa,r){const {x1:F,y1:ia,x2:l,y2:z}=p;p=xa-R;r-=ja;xa=0;let ca=1,ma,Va,Xa,Jb;for(Jb=0;4>Jb;++Jb){0===Jb&&(ma=-p,Va=-(F-R));1===Jb&&(ma=p,Va=l-R);2===Jb&&(ma=-r,Va=-(ia-ja));3===Jb&&(ma=r,Va=z-ja);if(1E-10>Math.abs(ma)&&0>Va)return!1;Xa=Va/ma;if(0>ma){if(Xa>ca)return!1;Xa>xa&&(xa=Xa)}else if(0<
ma){if(Xa<xa)return!1;Xa<ca&&(ca=Xa)}}return!0}function sa(p,R){p.globalCompositeOperation=R.blend||"source-over"}function G(p,R){return null==p?R:p}function ya(p,R){const ja=R.length;for(let xa=0;xa<ja;++xa)p.addColorStop(R[xa].offset,R[xa].color);return p}function Na(p,R,ja){const xa=ja.width(),r=ja.height();if("radial"===R.gradient)p=p.createRadialGradient(ja.x1+G(R.x1,.5)*xa,ja.y1+G(R.y1,.5)*r,Math.max(xa,r)*G(R.r1,0),ja.x1+G(R.x2,.5)*xa,ja.y1+G(R.y2,.5)*r,Math.max(xa,r)*G(R.r2,.5));else{const F=
G(R.x1,0),ia=G(R.y1,0),l=G(R.x2,1),z=G(R.y2,0);if(F===l||ia===z||xa===r)p=p.createLinearGradient(ja.x1+F*xa,ja.y1+ia*r,ja.x1+l*xa,ja.y1+z*r);else{ja=P.canvas(Math.ceil(xa),Math.ceil(r));const ca=ja.getContext("2d");ca.scale(xa,r);ca.fillStyle=ya(ca.createLinearGradient(F,ia,l,z),R.stops);ca.fillRect(0,0,xa,r);return p.createPattern(ja,"no-repeat")}}return ya(p,R.stops)}function Za(p,R,ja){ja*=null==R.fillOpacity?1:R.fillOpacity;return 0<ja?(p.globalAlpha=ja,R=(ja=R.fill)&&ja.gradient?Na(p,ja,R.bounds):
ja,p.fillStyle=R,!0):!1}function kb(p,R,ja){var xa=null!=(xa=R.strokeWidth)?xa:1;if(0>=xa)return!1;ja*=null==R.strokeOpacity?1:R.strokeOpacity;return 0<ja?(p.globalAlpha=ja,ja=(ja=R.stroke)&&ja.gradient?Na(p,ja,R.bounds):ja,p.strokeStyle=ja,p.lineWidth=xa,p.lineCap=R.strokeCap||"butt",p.lineJoin=R.strokeJoin||"miter",p.miterLimit=R.strokeMiterLimit||10,p.setLineDash&&(p.setLineDash(R.strokeDash||ug),p.lineDashOffset=R.strokeDashOffset||0),!0):!1}function Fb(p,R){return p.zindex-R.zindex||p.index-
R.index}function nc(p){if(!p.zdirty)return p.zitems;var R=p.items,ja=[],xa;var r=0;for(xa=R.length;r<xa;++r){var F=R[r];F.index=r;F.zindex&&ja.push(F)}p.zdirty=!1;return p.zitems=ja.sort(Fb)}function ec(p,R){var ja=p.items,xa;if(ja&&ja.length){var r=nc(p);if(r&&r.length){p=0;for(xa=ja.length;p<xa;++p)ja[p].zindex||R(ja[p]);ja=r}p=0;for(xa=ja.length;p<xa;++p)R(ja[p])}}function ic(p,R){var ja=p.items,xa,r;if(!ja||!ja.length)return null;const F=nc(p);F&&F.length&&(ja=F);for(r=ja.length;0<=--r;)if(xa=
R(ja[r]))return xa;if(ja===F)for(ja=p.items,r=ja.length;0<=--r;)if(!ja[r].zindex&&(xa=R(ja[r])))return xa;return null}function Tc(p){return function(R,ja,xa){ec(ja,r=>{xa&&!xa.intersects(r.bounds)||ed(p,R,r,r)})}}function dd(p){return function(R,ja,xa){!ja.items.length||xa&&!xa.intersects(ja.bounds)||ed(p,R,ja.items[0],ja.items)}}function ed(p,R,ja,xa){var r=null==ja.opacity?1:ja.opacity;0===r||p(R,xa)||(sa(R,ja),ja.fill&&Za(R,ja,r)&&R.fill(),ja.stroke&&kb(R,ja,r)&&R.stroke())}function Qd(p){p=p||
k.truthy;return function(R,ja,xa,r,F,ia){xa*=R.pixelRatio;r*=R.pixelRatio;return ic(ja,l=>{const z=l.bounds;if((!z||z.contains(F,ia))&&z&&p(R,l,xa,r,F,ia))return l})}}function Td(p,R){return function(ja,xa,r,F){var ia=Array.isArray(xa)?xa[0]:xa,l=null==R?ia.fill:R,z=ia.stroke&&ja.isPointInStroke;if(z){var ca=ia.strokeWidth;ia=ia.strokeCap;ja.lineWidth=null!=ca?ca:1;ja.lineCap=null!=ia?ia:"butt"}return p(ja,xa)?!1:l&&ja.isPointInPath(r,F)||z&&ja.isPointInStroke(r,F)}}function Fd(p,R){return"translate("+
p+","+R+")"}function Zd(p,R,ja){function xa(r,F){var ia=F.x||0,l=F.y||0,z=F.angle||0;r.translate(ia,l);z&&r.rotate(z*=af);r.beginPath();R(r,F);z&&r.rotate(-z);r.translate(-ia,-l)}return{type:p,tag:"path",nested:!1,attr:function(r,F){var ia=Fd(F.x||0,F.y||0)+(F.angle?" rotate("+(F.angle+")"):"");r("transform",ia);r("d",R(null,F))},bound:function(r,F){R(cc(r,F.angle),F);return gc(r,F).translate(F.x||0,F.y||0)},draw:Tc(xa),pick:Qd(Td(xa)),isect:ja||Md(xa)}}function de(p,R,ja){function xa(F,ia){F.beginPath();
R(F,ia)}const r=Td(xa);return{type:p,tag:"path",nested:!0,attr:function(F,ia){ia=ia.mark.items;ia.length&&F("d",R(null,ia))},bound:function(F,ia){ia=ia.items;if(0===ia.length)return F;R(cc(F),ia);return gc(F,ia[0])},draw:dd(xa),pick:function(F,ia,l,z,ca,ma){var Va=ia.items;ia=ia.bounds;if(!Va||!Va.length||ia&&!ia.contains(ca,ma))return null;l*=F.pixelRatio;z*=F.pixelRatio;return r(F,Va,l,z)?Va[0]:null},isect:ud,tip:ja}}function Ud(p,R){p.beginPath();Zb(R)?Rc(p,R,0,0):p.rect(0,0,R.width||0,R.height||
0);p.clip()}function Ve(p){const R=G(p.strokeWidth,1);return null!=p.strokeOffset?p.strokeOffset:p.stroke&&.5<R&&1.5>R?.5-Math.abs(R-1):0}function Xd(p,R,ja,xa){const r=Ve(R);p.beginPath();Rc(p,R,(ja||0)+r,(xa||0)+r)}function N(p,R){var ja=p.image;if(!ja||p.url&&p.url!==ja.url)ja={complete:!1,width:0,height:0},R.loadImage(p.url).then(xa=>{p.image=xa;p.image.url=p.url});return ja}function la(p,R){return null!=p.width?p.width:R&&R.width?!1!==p.aspect&&p.height?p.height*R.width/R.height:R.width:0}function za(p,
R){return null!=p.height?p.height:R&&R.height?!1!==p.aspect&&p.width?p.width*R.height/R.width:R.height:0}function fb(p,R){return"center"===p?R/2:"right"===p?R:0}function Hb(p,R){return"middle"===p?R/2:"bottom"===p?R:0}function Xb(p,R){var ja=R.path;if(null==ja)return!0;var xa=R.x||0,r=R.y||0,F=R.scaleX||1,ia=R.scaleY||1,l=(R.angle||0)*af,z=R.pathCache;z&&z.path===ja||((R.pathCache=z=Y(ja)).path=ja);l&&p.rotate&&p.translate?(p.translate(xa,r),p.rotate(l),L(p,z,0,0,F,ia),p.rotate(-l),p.translate(-xa,
-r)):L(p,z,xa,r,F,ia)}function Bc(p,R){p.beginPath();Rc(p,R)}function lc(p,R,ja){if(R.stroke&&kb(p,R,ja)){ja=R.x||0;var xa=R.y||0;var r=null!=R.x2?R.x2:ja;R=null!=R.y2?R.y2:xa;p.beginPath();p.moveTo(ja,xa);p.lineTo(r,R);return!0}return!1}function Gc(p){mh.width=p&&nf?Nc:id}function id(p,R){R=Wd(p,R);p=Hd(p);return~~(.8*R.length*p)}function Nc(p,R){return 0>=Hd(p)||!(R=Wd(p,R))?0:sd(R,kf(p))}function sd(p,R){const ja=`(${R}) ${p}`;let xa=Vg.get(ja);void 0===xa&&(nf.font=R,xa=nf.measureText(p).width,
Vg.set(ja,xa));return xa}function Hd(p){return null!=p.fontSize?+p.fontSize||0:11}function Gd(p){return null!=p.lineHeight?p.lineHeight:Hd(p)+2}function $d(p){p=p.lineBreak&&p.text&&!k.isArray(p.text)?p.text.split(p.lineBreak):p.text;return k.isArray(p)?1<p.length?p:p[0]:p}function Wd(p,R){R=null==R?"":(R+"").trim();if(0<p.limit&&R.length){var ja=+p.limit,xa=ae(p);if(!(xa(R)<ja)){var r=p.ellipsis||"",F="rtl"===p.dir;p=0;var ia=R.length;ja-=xa(r);if(F){for(;p<ia;)F=p+ia>>>1,xa(R.slice(F))>ja?p=F+
1:ia=F;R=r+R.slice(p)}else{for(;p<ia;)F=1+(p+ia>>>1),xa(R.slice(0,F))<ja?p=F:ia=F-1;R=R.slice(0,p)+r}}}return R}function ae(p){if(mh.width===Nc){const ja=kf(p);return xa=>sd(xa,ja)}const R=Hd(p);return ja=>~~(.8*ja.length*R)}function Ce(p,R){p=p.font;return(R&&p?String(p).replace(/"/g,"'"):p)||"sans-serif"}function kf(p,R){return(p.fontStyle?p.fontStyle+" ":"")+(p.fontVariant?p.fontVariant+" ":"")+(p.fontWeight?p.fontWeight+" ":"")+Hd(p)+"px "+Ce(p,R)}function hf(p){var R=p.baseline,ja=Hd(p);return Math.round("top"===
R?.79*ja:"middle"===R?.3*ja:"bottom"===R?-.21*ja:"line-top"===R?.29*ja+.5*Gd(p):"line-bottom"===R?.29*ja-.5*Gd(p):0)}function df(p){var R=p.x||0,ja=p.y||0,xa=p.radius||0;xa&&(p=(p.theta||0)-Hf,R+=xa*Math.cos(p),ja+=xa*Math.sin(p));Gg.x1=R;Gg.y1=ja;return Gg}function re(p,R,ja){var xa=mh.height(R),r=R.align,F=df(R),ia=F.x1;F=F.y1;var l=R.dx||0,z=(R.dy||0)+hf(R)-Math.round(.8*xa),ca=$d(R);k.isArray(ca)?(xa+=Gd(R)*(ca.length-1),ca=ca.reduce((ma,Va)=>Math.max(ma,mh.width(R,Va)),0)):ca=mh.width(R,ca);
"center"===r?l-=ca/2:"right"===r&&(l-=ca);p.set(l+=ia,z+=F,l+ca,z+xa);if(R.angle&&!ja)p.rotate(R.angle*af,ia,F);else if(2===ja)return p.rotatedPoints(R.angle*af,ia,F);return p}function tf(p,R,ja){var xa=Tg[p.mark.marktype];R=R||xa.bound;xa.nested&&(p=p.mark);return R(p.bounds||(p.bounds=new Ma),p,ja)}function U(p,R,ja){var xa=Tg[p.marktype],r=xa.bound,F=p.items,ia=F&&F.length;if(xa.nested)return ia?p=F[0]:(eh.mark=p,p=eh),ja=tf(p,r,ja),R=R&&R.union(ja)||ja;R=R||p.bounds&&p.bounds.clear()||new Ma;
if(ia)for(xa=0,ia=F.length;xa<ia;++xa)R.union(tf(F[xa],r,ja));return p.bounds=R}function ua(p,R){return JSON.stringify(p,nh,R)}function cb(p){p="string"===typeof p?JSON.parse(p):p;return Ab(p)}function Ab(p){var R=p.marktype,ja=p.items,xa;if(ja){var r=0;for(xa=ja.length;r<xa;++r){var F=R?"mark":"group";ja[r][F]=p;ja[r].zindex&&(ja[r][F].zdirty=!0);"group"===(R||F)&&Ab(ja[r])}}R&&U(p);return p}function fc(p){arguments.length?this.root=cb(p):(this.root=Cc({marktype:"group",name:"root",role:"frame"}),
this.root.items=[new qb(this.root)])}function Cc(p,R){R={bounds:new Ma,clip:!!p.clip,group:R,interactive:!1===p.interactive?!1:!0,items:[],marktype:p.marktype,name:p.name||void 0,role:p.role||void 0,zindex:p.zindex||0};null!=p.aria&&(R.aria=p.aria);p.description&&(R.description=p.description);return R}function $b(p,R,ja){!p&&"undefined"!==typeof document&&document.createElement&&(p=document);return p?ja?p.createElementNS(ja,R):p.createElement(R):null}function J(p,R){R=R.toLowerCase();p=p.childNodes;
for(var ja=0,xa=p.length;ja<xa;++ja)if(p[ja].tagName.toLowerCase()===R)return p[ja]}function fa(p,R,ja,xa){R=p.childNodes[R];if(!R||R.tagName.toLowerCase()!==ja.toLowerCase()){var r=R||null;R=$b(p.ownerDocument,ja,xa);p.insertBefore(R,r)}return R}function Ta(p,R){for(var ja=p.childNodes,xa=ja.length;xa>R;)p.removeChild(ja[--xa]);return p}function bc(p){return"mark-"+p.marktype+(p.role?" role-"+p.role:"")+(p.name?" "+p.name:"")}function Pc(p,R){const ja=R.getBoundingClientRect();return[p.clientX-ja.left-
(R.clientLeft||0),p.clientY-ja.top-(R.clientTop||0)]}function Dc(p,R){this._active=null;this._handlers={};this._loader=p||ib.loader();this._tooltip=R||Sc}function Sc(p,R,ja,xa){p.element().setAttribute("title",xa||"")}function gd(p){this._bgcolor=this._el=null;this._loader=new Tb(p)}function ee(p,R){Dc.call(this,p,R);this._touch=this._down=null;this._first=!0;this._events={}}function Sa(p,R){("touchstart"===R||"touchmove"===R||"touchend"===R?["touchstart","touchmove","touchend"]:[R]).forEach(ja=>
eb(p,ja))}function eb(p,R){const ja=p.canvas();ja&&!p._events[R]&&(p._events[R]=1,ja.addEventListener(R,p[R]?xa=>p[R](xa):xa=>p.fire(R,xa)))}function oc(p,R,ja){return function(xa){const r=this._active,F=this.pickEvent(xa);F!==r&&(r&&r.exit||this.fire(ja,xa),this._active=F,this.fire(R,xa));this.fire(p,xa)}}function xd(p){return function(R){this.fire(p,R);this._active=null}}function Lc(p){gd.call(this,p);this._options={};this._redraw=!1;this._dirty=new Ma;this._tempb=new Ma}function Uc(p,R){Dc.call(this,
p,R);const ja=this;ja._hrefHandler=Lh(ja,(xa,r)=>{r&&r.href&&ja.handleHref(xa,r,r.href)});ja._tooltipHandler=Lh(ja,(xa,r)=>{ja.handleTooltip(xa,r,"mouseout"!==xa.type)})}function Qc(p,R){var ja=!1===R.aria;p("aria-hidden",ja||void 0);if(ja||null==R.description)for(const xa in Wh)p(Wh[xa],void 0);else ja=R.mark.marktype,p("aria-label",R.description),p("role",R.ariaRole||("group"===ja?"graphics-object":"graphics-symbol")),p("aria-roledescription",R.ariaRoleDescription||`${ja} mark`)}function td(p){return!1===
p.aria?{["aria-hidden"]:!0}:zh[p.role]?null:Ph[p.role]?Od(p,Ph[p.role]):jd(p)}function jd(p){const R=p.marktype,ja="group"===R||"text"===R||p.items.some(xa=>null!=xa.description&&!1!==xa.aria);return yh(ja?"graphics-object":"graphics-symbol",`${R} mark container`,p.description)}function Od(p,R){try{const ja=p.items[0],xa=R.caption||(()=>"");return yh(R.role||"graphics-symbol",R.desc,ja.description||xa(ja))}catch(ja){return null}}function Cd(p){try{return k.array(k.peek(p.items).items[0].text).join(" ")}catch(R){return null}}
function be(p){p=p.map(R=>R+("fill"===R||"stroke"===R?" color":""));return 2>p.length?p[0]:p.slice(0,-1).join(", ")+" and "+k.peek(p)}function ye(){let p="",R="",ja="";const xa=[],r=(ia,l)=>{null!=l&&(R+=` ${ia}="${ph(l).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return F},F={open(ia,...l){R&&(p+=`${R}>${ja}`,R=ja="");xa.push(ia);R="\x3c"+ia;for(const z of l)for(const ca in z)r(ca,z[ca]);return F},close(){const ia=xa.pop();p=R?p+(R+
(ja?`>${ja}</${ia}>`:"/\x3e")):p+`</${ia}>`;R=ja="";return F},attr:r,text:ia=>(ja+=ph(ia),F),toString:()=>p};return F}function Le(p,R){p.open(R.tagName);if(R.hasAttributes()){const ja=R.attributes,xa=ja.length;for(let r=0;r<xa;++r)p.attr(ja[r].name,ja[r].value)}if(R.hasChildNodes()){R=R.childNodes;for(const ja of R)3===ja.nodeType?p.text(ja.nodeValue):Le(p,ja)}return p.close()}function Ye(p){gd.call(this,p);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function ef(p,R){for(;p&&
p.dirty!==R;p=p.mark.group)if(p.dirty=R,p.mark&&p.mark.dirty!==R)p.mark.dirty=R;else break}function od(p,R,ja){R=R.lastChild.previousSibling;let xa,r=0;ec(ja,F=>{xa=p.mark(R,F,xa);++r});Ta(R,1+r)}function Ec(p,R,ja,xa,r){let F=p._svg;if(!F){var ia=R.ownerDocument;F=$b(ia,xa,Ff);p._svg=F;p.mark&&(F.__data__=p,F.__values__={fill:"default"},"g"===xa&&(xa=$b(ia,"path",Ff),F.appendChild(xa),xa.__data__=p,xa=$b(ia,"g",Ff),F.appendChild(xa),xa.__data__=p,ia=$b(ia,"path",Ff),F.appendChild(ia),ia.__data__=
p,ia.__values__={fill:"default"}))}(F.ownerSVGElement!==r||F.parentNode&&1<F.parentNode.childNodes.length&&F.previousSibling!=ja)&&R.insertBefore(F,ja?ja.nextSibling:R.firstChild);return F}function kd(p,R,ja){if(R!==Yf[p]){if(ja){var xa=eg;null!=R?xa.setAttributeNS(ja,p,R):xa.removeAttributeNS(ja,p)}else Vd(eg,p,R);Yf[p]=R}}function Fc(p,R,ja){ja!==Yf[R]&&(null==ja?p.style.removeProperty(R):p.style.setProperty(R,ja+""),Yf[R]=ja)}function Id(p,R){for(const ja in R)Vd(p,ja,R[ja])}function Vd(p,R,ja){null!=
ja?p.setAttribute(R,ja):p.removeAttribute(R)}function ce(){let p;return"undefined"===typeof window?"":(p=window.location).hash?p.href.slice(0,-p.hash.length):p.href}function le(p){gd.call(this,p);this._text=null;this._defs={gradient:{},clipping:{}}}function O(p,R,ja,xa,r){let F;if(null==R)return p;"bgrect"===xa&&!1===ja.interactive&&(p["pointer-events"]="none");if("bgfore"===xa&&(!1===ja.interactive&&(p["pointer-events"]="none"),p.display="none",null!==R.fill))return p;"image"===xa&&!1===R.smooth&&
(F=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]);"text"===xa&&(p["font-family"]=Ce(R),p["font-size"]=Hd(R)+"px",p["font-style"]=R.fontStyle,p["font-variant"]=R.fontVariant,p["font-weight"]=R.fontWeight);for(const ia in Wf)ja=R[ia],xa=Wf[ia],("transparent"!==ja||"fill"!==xa&&"stroke"!==xa)&&null!=ja&&(ja&&ja.gradient&&(ja=ac(ja,r.gradient,"")),p[xa]=ja);for(const ia in Kg)r=R[ia],null!=r&&(F=F||[],F.push(`${Kg[ia]}: ${r};`));F&&(p.style=F.join(" "));return p}function ea(p,R,ja,
xa){if(p.bounds&&R.intersects(p.bounds)&&("group"===p.marktype||!1!==p.interactive&&(!ja||ja(p)))){const F=p.items;var r=p.marktype;p=F.length;let ia=0;if("group"===r)for(;ia<p;++ia)I(F[ia],R,ja,xa);else for(ja=Tg[r].isect;ia<p;++ia)r=F[ia],ka(r,R,ja)&&xa.push(r)}return xa}function I(p,R,ja,xa){ja&&ja(p.mark)&&ka(p,R,Tg.group.isect)&&xa.push(p);const r=p.items,F=r&&r.length;if(F){const ia=p.x||0;p=p.y||0;R.translate(-ia,-p);for(let l=0;l<F;++l)ea(r[l],R,ja,xa);R.translate(ia,p)}return xa}function ka(p,
R,ja){const xa=p.bounds;return R.encloses(xa)||R.intersects(xa)&&ja(p,R)}function ta(p,R,ja){return p===R?!0:"path"===ja?Ja(p,R):p instanceof Date&&R instanceof Date?+p===+R:k.isNumber(p)&&k.isNumber(R)?1E-9>=Math.abs(p-R):p&&R&&(k.isObject(p)||k.isObject(R))?jb(p,R):p==R}function Ja(p,R){return ta(Y(p),Y(R))}function jb(p,R){var ja=Object.keys(p),xa=Object.keys(R),r;if(ja.length!==xa.length)return!1;ja.sort();xa.sort();for(r=ja.length-1;0<=r;r--)if(ja[r]!=xa[r])return!1;for(r=ja.length-1;0<=r;r--)if(xa=
ja[r],!ta(p[xa],R[xa],xa))return!1;return typeof p===typeof R}let vb=0;const pc=Math.abs,qc=Math.atan2,rc=Math.cos,Kc=Math.max,Bd=Math.min,Hc=Math.sin,$c=Math.sqrt,zd=Math.PI,Dd=zd/2,Kd=2*zd,Ge=Math.PI,De=2*Ge,yd=De-1E-6;class Ae{constructor(p){this._x0=this._y0=this._x1=this._y1=null;this._="";this._append=null==p?Bb:jc(p)}moveTo(p,R){this._append`M${this._x0=this._x1=+p},${this._y0=this._y1=+R}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(p,R){this._append`L${this._x1=
+p},${this._y1=+R}`}quadraticCurveTo(p,R,ja,xa){this._append`Q${+p},${+R},${this._x1=+ja},${this._y1=+xa}`}bezierCurveTo(p,R,ja,xa,r,F){this._append`C${+p},${+R},${+ja},${+xa},${this._x1=+r},${this._y1=+F}`}arcTo(p,R,ja,xa,r){p=+p;R=+R;ja=+ja;xa=+xa;r=+r;if(0>r)throw Error(`negative radius: ${r}`);var F=this._x1,ia=this._y1;let l=ja-p,z=xa-R,ca=F-p,ma=ia-R;var Va=ca*ca+ma*ma;if(null===this._x1)this._append`M${this._x1=p},${this._y1=R}`;else if(1E-6<Va)if(1E-6<Math.abs(ma*l-z*ca)&&r){ja-=F;xa-=ia;
let Xa=l*l+z*z;ia=Math.sqrt(Xa);F=Math.sqrt(Va);Va=r*Math.tan((Ge-Math.acos((Xa+Va-(ja*ja+xa*xa))/(2*ia*F)))/2);F=Va/F;Va/=ia;1E-6<Math.abs(F-1)&&this._append`L${p+F*ca},${R+F*ma}`;this._append`A${r},${r},0,0,${+(ma*ja>ca*xa)},${this._x1=p+Va*l},${this._y1=R+Va*z}`}else this._append`L${this._x1=p},${this._y1=R}`}arc(p,R,ja,xa,r,F){p=+p;R=+R;ja=+ja;F=!!F;if(0>ja)throw Error(`negative radius: ${ja}`);let ia=ja*Math.cos(xa),l=ja*Math.sin(xa),z=p+ia,ca=R+l,ma=1^F;xa=F?xa-r:r-xa;null===this._x1?this._append`M${z},${ca}`:
(1E-6<Math.abs(this._x1-z)||1E-6<Math.abs(this._y1-ca))&&this._append`L${z},${ca}`;ja&&(0>xa&&(xa=xa%De+De),xa>yd?this._append`A${ja},${ja},0,1,${ma},${p-ia},${R-l}A${ja},${ja},0,1,${ma},${this._x1=z},${this._y1=ca}`:1E-6<xa&&this._append`A${ja},${ja},0,${+(xa>=Ge)},${ma},${this._x1=p+ja*Math.cos(r)},${this._y1=R+ja*Math.sin(r)}`)}rect(p,R,ja,xa){this._append`M${this._x0=this._x1=+p},${this._y0=this._y1=+R}h${ja=+ja}v${+xa}h${-ja}Z`}toString(){return this._}}Yb.prototype=Ae.prototype;Qa.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(p,R){p=+p;R=+R;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(p,R):this._context.moveTo(p,R);break;case 1:this._point=2;default:this._context.lineTo(p,R)}}};var Ld={draw(p,R){R=$c(R/zd);p.moveTo(R,0);p.arc(0,0,R,0,Kd)}};Qb.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:sb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(p,R){p=+p;R=+R;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(p,R):this._context.moveTo(p,R);break;case 1:this._point=2;break;case 2:this._point=
3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sb(this,p,R)}this._x0=this._x1;this._x1=p;this._y0=this._y1;this._y1=R}};Wb.prototype={areaStart:xb,areaEnd:xb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+
2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(p,R){p=+p;R=+R;switch(this._point){case 0:this._point=1;this._x2=p;this._y2=R;break;case 1:this._point=2;this._x3=p;this._y3=R;break;case 2:this._point=3;this._x4=p;this._y4=R;this._context.moveTo((this._x0+4*this._x1+p)/6,(this._y0+4*this._y1+R)/6);break;default:sb(this,
p,R)}this._x0=this._x1;this._x1=p;this._y0=this._y1;this._y1=R}};ob.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(p,R){p=+p;R=+R;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var ja=(this._x0+4*this._x1+p)/6,xa=
(this._y0+4*this._y1+R)/6;this._line?this._context.lineTo(ja,xa):this._context.moveTo(ja,xa);break;case 3:this._point=4;default:sb(this,p,R)}this._x0=this._x1;this._x1=p;this._y0=this._y1;this._y1=R}};pa.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var p=this._x,R=this._y,ja=p.length-1;if(0<ja)for(var xa=p[0],r=R[0],F=p[ja]-xa,ia=R[ja]-r,l=-1,z;++l<=ja;)z=l/ja,this._basis.point(this._beta*p[l]+(1-this._beta)*(xa+z*F),this._beta*R[l]+(1-this._beta)*
(r+z*ia));this._x=this._y=null;this._basis.lineEnd()},point:function(p,R){this._x.push(+p);this._y.push(+R)}};var he=function ja(R){function xa(r){return 1===R?new Qb(r):new pa(r,R)}xa.beta=function(r){return ja(+r)};return xa}(.85);Fa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;
case 3:Z(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(R,ja){R=+R;ja=+ja;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(R,ja):this._context.moveTo(R,ja);break;case 1:this._point=2;this._x1=R;this._y1=ja;break;case 2:this._point=3;default:Z(this,R,ja)}this._x0=this._x1;this._x1=this._x2;this._x2=R;this._y0=this._y1;this._y1=this._y2;this._y2=ja}};var He=function xa(ja){function r(F){return new Fa(F,
ja)}r.tension=function(F){return xa(+F)};return r}(0);Ga.prototype={areaStart:xb,areaEnd:xb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),
this.point(this._x5,this._y5)}},point:function(ja,xa){ja=+ja;xa=+xa;switch(this._point){case 0:this._point=1;this._x3=ja;this._y3=xa;break;case 1:this._point=2;this._context.moveTo(this._x4=ja,this._y4=xa);break;case 2:this._point=3;this._x5=ja;this._y5=xa;break;default:Z(this,ja,xa)}this._x0=this._x1;this._x1=this._x2;this._x2=ja;this._y0=this._y1;this._y1=this._y2;this._y2=xa}};var lf=function r(xa){function F(ia){return new Ga(ia,xa)}F.tension=function(ia){return r(+ia)};return F}(0);db.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(xa,r){xa=+xa;r=+r;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);
break;case 3:this._point=4;default:Z(this,xa,r)}this._x0=this._x1;this._x1=this._x2;this._x2=xa;this._y0=this._y1;this._y1=this._y2;this._y2=r}};var vf=function F(r){function ia(l){return new db(l,r)}ia.tension=function(l){return F(+l)};return ia}(0);na.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=
0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(r,F){r=+r;F=+F;if(this._point){var ia=this._x2-r,l=this._y2-F;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(ia*ia+l*l,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(r,F):this._context.moveTo(r,F);break;case 1:this._point=
2;break;case 2:this._point=3;default:ba(this,r,F)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=r;this._y0=this._y1;this._y1=this._y2;this._y2=F}};var Ke=function ia(F){function l(z){return F?new na(z,F):new Fa(z,0)}l.alpha=function(z){return ia(+z)};return l}(.5);q.prototype={areaStart:xb,areaEnd:xb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=
this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(F,ia){F=+F;ia=+ia;if(this._point){var l=this._x2-F,z=this._y2-ia;this._l23_a=
Math.sqrt(this._l23_2a=Math.pow(l*l+z*z,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=F;this._y3=ia;break;case 1:this._point=2;this._context.moveTo(this._x4=F,this._y4=ia);break;case 2:this._point=3;this._x5=F;this._y5=ia;break;default:ba(this,F,ia)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=F;this._y0=this._y1;this._y1=this._y2;this._y2=ia}};var ne=function l(ia){function z(ca){return ia?
new q(ca,ia):new Ga(ca,0)}z.alpha=function(ca){return l(+ca)};return z}(.5);M.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(ia,l){ia=+ia;l=+l;if(this._point){var z=this._x2-
ia,ca=this._y2-l;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(z*z+ca*ca,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ba(this,ia,l)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=ia;this._y0=this._y1;this._y1=this._y2;
this._y2=l}};var Df=function z(l){function ca(ma){return l?new M(ma,l):new db(ma,0)}ca.alpha=function(ma){return z(+ma)};return ca}(.5);Q.prototype={areaStart:xb,areaEnd:xb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(l,z){l=+l;z=+z;this._point?this._context.lineTo(l,z):(this._point=1,this._context.moveTo(l,z))}};C.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=
this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:m(this,this._t0,u(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(l,z){var ca=NaN;l=+l;z=+z;if(l!==this._x1||z!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(l,z):this._context.moveTo(l,z);break;case 1:this._point=2;break;case 2:this._point=
3;m(this,u(this,ca=g(this,l,z)),ca);break;default:m(this,this._t0,ca=g(this,l,z))}this._x0=this._x1;this._x1=l;this._y0=this._y1;this._y1=z;this._t0=ca}}};(B.prototype=Object.create(C.prototype)).point=function(l,z){C.prototype.point.call(this,z,l)};A.prototype={moveTo:function(l,z){this._context.moveTo(z,l)},closePath:function(){this._context.closePath()},lineTo:function(l,z){this._context.lineTo(z,l)},bezierCurveTo:function(l,z,ca,ma,Va,Xa){this._context.bezierCurveTo(z,l,ma,ca,Xa,Va)}};E.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var l=this._x,z=this._y,ca=l.length;if(ca)if(this._line?this._context.lineTo(l[0],z[0]):this._context.moveTo(l[0],z[0]),2===ca)this._context.lineTo(l[1],z[1]);else for(var ma=H(l),Va=H(z),Xa=0,Jb=1;Jb<ca;++Xa,++Jb)this._context.bezierCurveTo(ma[0][Xa],Va[0][Xa],ma[1][Xa],Va[1][Xa],l[Jb],z[Jb]);(this._line||0!==this._line&&1===ca)&&this._context.closePath();this._line=
1-this._line;this._x=this._y=null},point:function(l,z){this._x.push(+l);this._y.push(+z)}};V.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(l,z){l=+l;z=+z;switch(this._point){case 0:this._point=
1;this._line?this._context.lineTo(l,z):this._context.moveTo(l,z);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,z),this._context.lineTo(l,z);else{var ca=this._x*(1-this._t)+l*this._t;this._context.lineTo(ca,this._y);this._context.lineTo(ca,z)}}this._x=l;this._y=z}};const If={basis:{curve:function(l){return new Qb(l)}},"basis-closed":{curve:function(l){return new Wb(l)}},"basis-open":{curve:function(l){return new ob(l)}},bundle:{curve:he,tension:"beta",value:.85},cardinal:{curve:He,
tension:"tension",value:0},"cardinal-open":{curve:vf,tension:"tension",value:0},"cardinal-closed":{curve:lf,tension:"tension",value:0},"catmull-rom":{curve:Ke,tension:"alpha",value:.5},"catmull-rom-closed":{curve:ne,tension:"alpha",value:.5},"catmull-rom-open":{curve:Df,tension:"alpha",value:.5},linear:{curve:Da},"linear-closed":{curve:function(l){return new Q(l)}},monotone:{horizontal:function(l){return new B(l)},vertical:function(l){return new C(l)}},natural:{curve:function(l){return new E(l)}},
step:{curve:function(l){return new V(l,.5)}},"step-after":{curve:function(l){return new V(l,1)}},"step-before":{curve:function(l){return new V(l,0)}}},jf={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},ag=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,Yd=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,ff=/^((\s+,?\s*)|(,\s*))/,mf=/^[01]/,af=Math.PI/180,Hf=Math.PI/2,Jf=2*Math.PI,zf=Math.sqrt(3)/2;var Af={},Eg={},hg=[].join;const xf=["l",0,0,0,0,0,0,0],Kf={circle:{draw:function(l,z){z=Math.sqrt(z)/2;
l.moveTo(z,0);l.arc(0,0,z,0,Jf)}},cross:{draw:function(l,z){z=Math.sqrt(z)/2;var ca=z/2.5;l.moveTo(-z,-ca);l.lineTo(-z,ca);l.lineTo(-ca,ca);l.lineTo(-ca,z);l.lineTo(ca,z);l.lineTo(ca,ca);l.lineTo(z,ca);l.lineTo(z,-ca);l.lineTo(ca,-ca);l.lineTo(ca,-z);l.lineTo(-ca,-z);l.lineTo(-ca,-ca);l.closePath()}},diamond:{draw:function(l,z){z=Math.sqrt(z)/2;l.moveTo(-z,0);l.lineTo(0,-z);l.lineTo(z,0);l.lineTo(0,z);l.closePath()}},square:{draw:function(l,z){z=Math.sqrt(z);var ca=-z/2;l.rect(ca,ca,z,z)}},arrow:{draw:function(l,
z){z=Math.sqrt(z)/2;var ca=z/7,ma=z/2.5,Va=z/8;l.moveTo(-ca,z);l.lineTo(ca,z);l.lineTo(ca,-Va);l.lineTo(ma,-Va);l.lineTo(0,-z);l.lineTo(-ma,-Va);l.lineTo(-ca,-Va);l.closePath()}},wedge:{draw:function(l,z){var ca=Math.sqrt(z)/2;z=zf*ca;var ma=z-.5773502691896257*ca;ca/=4;l.moveTo(0,-z-ma);l.lineTo(-ca,z-ma);l.lineTo(ca,z-ma);l.closePath()}},triangle:{draw:function(l,z){z=Math.sqrt(z)/2;var ca=zf*z,ma=ca-.5773502691896257*z;l.moveTo(0,-ca-ma);l.lineTo(-z,ca-ma);l.lineTo(z,ca-ma);l.closePath()}},"triangle-up":{draw:function(l,
z){z=Math.sqrt(z)/2;var ca=zf*z;l.moveTo(0,-ca);l.lineTo(-z,ca);l.lineTo(z,ca);l.closePath()}},"triangle-down":{draw:function(l,z){z=Math.sqrt(z)/2;var ca=zf*z;l.moveTo(0,ca);l.lineTo(-z,-ca);l.lineTo(z,-ca);l.closePath()}},"triangle-right":{draw:function(l,z){z=Math.sqrt(z)/2;var ca=zf*z;l.moveTo(ca,0);l.lineTo(-ca,-z);l.lineTo(-ca,z);l.closePath()}},"triangle-left":{draw:function(l,z){z=Math.sqrt(z)/2;var ca=zf*z;l.moveTo(-ca,0);l.lineTo(ca,-z);l.lineTo(ca,z);l.closePath()}},stroke:{draw:function(l,
z){z=Math.sqrt(z)/2;l.moveTo(-z,0);l.lineTo(z,0)}}};var dg={};const ch=l=>l.x||0,Ig=l=>l.y||0,Mg=l=>!1!==l.defined,Ug=function(){function l(){var Zc,Rd=+z.apply(this,arguments),ue=+ca.apply(this,arguments),xe=Xa.apply(this,arguments)-Dd,ve=Jb.apply(this,arguments)-Dd,Xe=pc(ve-xe),wf=ve>xe;Ub||(Ub=Zc=qd());if(ue<Rd){var Og=ue;ue=Rd;Rd=Og}if(1E-12<ue)if(Xe>Kd-1E-12)Ub.moveTo(ue*rc(xe),ue*Hc(xe)),Ub.arc(0,0,ue,xe,ve,!wf),1E-12<Rd&&(Ub.moveTo(Rd*rc(ve),Rd*Hc(ve)),Ub.arc(0,0,Rd,ve,xe,wf));else{var bf=
xe,Qe=ve;Og=xe;var cg=ve,Ah=Xe,fg=Xe,sf=hc.apply(this,arguments)/2,of=1E-12<sf&&(Va?+Va.apply(this,arguments):$c(Rd*Rd+ue*ue)),Qf=Bd(pc(ue-Rd)/2,+ma.apply(this,arguments)),Rf=Qf,Mf=Qf;if(1E-12<of){var Zg=uc(of/Rd*Hc(sf));sf=uc(of/ue*Hc(sf));1E-12<(Ah-=2*Zg)?(Zg*=wf?1:-1,Og+=Zg,cg-=Zg):(Ah=0,Og=cg=(xe+ve)/2);1E-12<(fg-=2*sf)?(sf*=wf?1:-1,bf+=sf,Qe-=sf):(fg=0,bf=Qe=(xe+ve)/2)}xe=ue*rc(bf);ve=ue*Hc(bf);Zg=Rd*rc(cg);sf=Rd*Hc(cg);if(1E-12<Qf){var jg=ue*rc(Qe),Bh=ue*Hc(Qe),ng=Rd*rc(Og),Ng=Rd*Hc(Og);if(Xe<
zd){Rf=ng-xe;Mf=Ng-ve;Xe=Zg-jg;of=sf-Bh;var vg=of*Rf-Xe*Mf;1E-12>vg*vg?Rf=void 0:(vg=(Xe*(ve-Bh)-of*(xe-jg))/vg,Rf=[xe+vg*Rf,ve+vg*Mf]);Rf?(Mf=xe-Rf[0],Xe=ve-Rf[1],of=jg-Rf[0],vg=Bh-Rf[1],Mf=(Mf*of+Xe*vg)/($c(Mf*Mf+Xe*Xe)*$c(of*of+vg*vg)),Mf=1/Hc((1<Mf?0:-1>Mf?zd:Math.acos(Mf))/2),Xe=$c(Rf[0]*Rf[0]+Rf[1]*Rf[1]),Rf=Bd(Qf,(Rd-Xe)/(Mf-1)),Mf=Bd(Qf,(ue-Xe)/(Mf+1))):Rf=Mf=0}}1E-12<fg?1E-12<Mf?(bf=ab(ng,Ng,xe,ve,ue,Mf,wf),Qe=ab(jg,Bh,Zg,sf,ue,Mf,wf),Ub.moveTo(bf.cx+bf.x01,bf.cy+bf.y01),Mf<Qf?Ub.arc(bf.cx,
bf.cy,Mf,qc(bf.y01,bf.x01),qc(Qe.y01,Qe.x01),!wf):(Ub.arc(bf.cx,bf.cy,Mf,qc(bf.y01,bf.x01),qc(bf.y11,bf.x11),!wf),Ub.arc(0,0,ue,qc(bf.cy+bf.y11,bf.cx+bf.x11),qc(Qe.cy+Qe.y11,Qe.cx+Qe.x11),!wf),Ub.arc(Qe.cx,Qe.cy,Mf,qc(Qe.y11,Qe.x11),qc(Qe.y01,Qe.x01),!wf))):(Ub.moveTo(xe,ve),Ub.arc(0,0,ue,bf,Qe,!wf)):Ub.moveTo(xe,ve);1E-12<Rd&&1E-12<Ah?1E-12<Rf?(bf=ab(Zg,sf,jg,Bh,Rd,-Rf,wf),Qe=ab(xe,ve,ng,Ng,Rd,-Rf,wf),Ub.lineTo(bf.cx+bf.x01,bf.cy+bf.y01),Rf<Qf?Ub.arc(bf.cx,bf.cy,Rf,qc(bf.y01,bf.x01),qc(Qe.y01,Qe.x01),
!wf):(Ub.arc(bf.cx,bf.cy,Rf,qc(bf.y01,bf.x01),qc(bf.y11,bf.x11),!wf),Ub.arc(0,0,Rd,qc(bf.cy+bf.y11,bf.cx+bf.x11),qc(Qe.cy+Qe.y11,Qe.cx+Qe.x11),wf),Ub.arc(Qe.cx,Qe.cy,Rf,qc(Qe.y11,Qe.x11),qc(Qe.y01,Qe.x01),!wf))):Ub.arc(0,0,Rd,cg,Og,wf):Ub.lineTo(Zg,sf)}else Ub.moveTo(0,0);Ub.closePath();if(Zc)return Ub=null,Zc+""||null}var z=ub,ca=Kb,ma=Ac(0),Va=null,Xa=Lb,Jb=Cb,hc=Pb,Ub=null,qd=Ua(l);l.centroid=function(){var Zc=(+z.apply(this,arguments)+ +ca.apply(this,arguments))/2,Rd=(+Xa.apply(this,arguments)+
+Jb.apply(this,arguments))/2-zd/2;return[rc(Rd)*Zc,Hc(Rd)*Zc]};l.innerRadius=function(Zc){return arguments.length?(z="function"===typeof Zc?Zc:Ac(+Zc),l):z};l.outerRadius=function(Zc){return arguments.length?(ca="function"===typeof Zc?Zc:Ac(+Zc),l):ca};l.cornerRadius=function(Zc){return arguments.length?(ma="function"===typeof Zc?Zc:Ac(+Zc),l):ma};l.padRadius=function(Zc){return arguments.length?(Va=null==Zc?null:"function"===typeof Zc?Zc:Ac(+Zc),l):Va};l.startAngle=function(Zc){return arguments.length?
(Xa="function"===typeof Zc?Zc:Ac(+Zc),l):Xa};l.endAngle=function(Zc){return arguments.length?(Jb="function"===typeof Zc?Zc:Ac(+Zc),l):Jb};l.padAngle=function(Zc){return arguments.length?(hc="function"===typeof Zc?Zc:Ac(+Zc),l):hc};l.context=function(Zc){return arguments.length?(Ub=null==Zc?null:Zc,l):Ub};return l}().startAngle(l=>l.startAngle||0).endAngle(l=>l.endAngle||0).padAngle(l=>l.padAngle||0).innerRadius(l=>l.innerRadius||0).outerRadius(l=>l.outerRadius||0).cornerRadius(l=>l.cornerRadius||
0),qa=Pa().x(ch).y1(Ig).y0(l=>(l.y||0)+(l.height||0)).defined(Mg),bb=Pa().y(Ig).x1(ch).x0(l=>(l.x||0)+(l.width||0)).defined(Mg),Rb=mb().x(ch).y(Ig).defined(Mg),hd=sc().x(ch).y(Ig).width(l=>l.width||0).height(l=>l.height||0).cornerRadius(l=>cd(l.cornerRadiusTopLeft,l.cornerRadius)||0,l=>cd(l.cornerRadiusTopRight,l.cornerRadius)||0,l=>cd(l.cornerRadiusBottomRight,l.cornerRadius)||0,l=>cd(l.cornerRadiusBottomLeft,l.cornerRadius)||0),ld=function(l,z){function ca(){let Xa;ma||(ma=Xa=Va());l.apply(this,
arguments).draw(ma,+z.apply(this,arguments));if(Xa)return ma=null,Xa+""||null}let ma=null,Va=Ua(ca);l="function"===typeof l?l:Ac(l||Ld);z="function"===typeof z?z:Ac(void 0===z?64:+z);ca.type=function(Xa){return arguments.length?(l="function"===typeof Xa?Xa:Ac(Xa),ca):l};ca.size=function(Xa){return arguments.length?(z="function"===typeof Xa?Xa:Ac(+Xa),ca):z};ca.context=function(Xa){return arguments.length?(ma=null==Xa?null:Xa,ca):ma};return ca}().type(l=>La(l.shape||"circle")).size(l=>cd(l.size,64)),
pe=xc().x(ch).y(Ig).defined(Mg).size(l=>l.size||1);var Pe=1;Ma.prototype={clone(){return new Ma(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(l){return this.x1===l.x1&&this.y1===l.y1&&this.x2===l.x2&&this.y2===l.y2},set(l,z,ca,ma){ca<l?(this.x2=l,this.x1=ca):(this.x1=l,this.x2=
ca);ma<z?(this.y2=z,this.y1=ma):(this.y1=z,this.y2=ma);return this},add(l,z){l<this.x1&&(this.x1=l);z<this.y1&&(this.y1=z);l>this.x2&&(this.x2=l);z>this.y2&&(this.y2=z);return this},expand(l){this.x1-=l;this.y1-=l;this.x2+=l;this.y2+=l;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(l){this.x1*=l;this.y1*=l;this.x2*=l;this.y2*=l;return this},translate(l,z){this.x1+=l;this.x2+=l;this.y1+=z;this.y2+=
z;return this},rotate(l,z,ca){l=this.rotatedPoints(l,z,ca);return this.clear().add(l[0],l[1]).add(l[2],l[3]).add(l[4],l[5]).add(l[6],l[7])},rotatedPoints(l,z,ca){var {x1:ma,y1:Va,x2:Xa,y2:Jb}=this,hc=Math.cos(l);l=Math.sin(l);var Ub=z-z*hc+ca*l;z=ca-z*l-ca*hc;return[hc*ma-l*Va+Ub,l*ma+hc*Va+z,hc*ma-l*Jb+Ub,l*ma+hc*Jb+z,hc*Xa-l*Va+Ub,l*Xa+hc*Va+z,hc*Xa-l*Jb+Ub,l*Xa+hc*Jb+z]},union(l){l.x1<this.x1&&(this.x1=l.x1);l.y1<this.y1&&(this.y1=l.y1);l.x2>this.x2&&(this.x2=l.x2);l.y2>this.y2&&(this.y2=l.y2);
return this},intersect(l){l.x1>this.x1&&(this.x1=l.x1);l.y1>this.y1&&(this.y1=l.y1);l.x2<this.x2&&(this.x2=l.x2);l.y2<this.y2&&(this.y2=l.y2);return this},encloses(l){return l&&this.x1<=l.x1&&this.x2>=l.x2&&this.y1<=l.y1&&this.y2>=l.y2},alignsWith(l){return l&&(this.x1==l.x1||this.x2==l.x2||this.y1==l.y1||this.y2==l.y2)},intersects(l){return l&&!(this.x2<l.x1||this.x1>l.x2||this.y2<l.y1||this.y1>l.y2)},contains(l,z){return!(l<this.x1||l>this.x2||z<this.y1||z>this.y2)},width(){return this.x2-this.x1},
height(){return this.y2-this.y1}};k.inherits(qb,Vb);Tb.prototype={pending(){return this._pending},sanitizeURL(l){const z=this;z._pending+=1;return z._loader.sanitize(l,{context:"href"}).then(ca=>{--z._pending;return ca}).catch(()=>{--z._pending;return null})},loadImage(l){const z=this,ca=P.image();z._pending+=1;return z._loader.sanitize(l,{context:"image"}).then(ma=>{const Va=ma.href;if(!Va||!ca)throw{url:Va};const Xa=new ca;ma=k.hasOwnProperty(ma,"crossOrigin")?ma.crossOrigin:"anonymous";null!=ma&&
(Xa.crossOrigin=ma);Xa.onload=()=>{--z._pending};Xa.onerror=()=>{--z._pending};Xa.src=Va;return Xa}).catch(ma=>{--z._pending;return{complete:!1,width:0,height:0,src:ma&&ma.url||""}})},ready(){const l=this;return new Promise(z=>{function ca(ma){l.pending()?setTimeout(()=>{ca(!0)},10):z(ma)}ca(!1)})}};const qf=Jf-1E-8;let Gf,Ne,bg,Pf,Vf,sg,tg,Rg;const dh=(l,z)=>{l=Ne=l;z=bg=z;return Gf.add(l,z)},jh=l=>Gf.add(l,Gf.y1),Ee=l=>Gf.add(Gf.x1,l),Je=(l,z)=>Gf.add(Vf*l+tg*z,sg*l+Rg*z),Lf=(l,z)=>dh(Vf*l+tg*z,
sg*l+Rg*z),yf={beginPath(){},closePath(){},moveTo:Lf,lineTo:Lf,rect(l,z,ca,ma){Pf?(Je(l+ca,z),Je(l+ca,z+ma),Je(l,z+ma),Lf(l,z)):(Gf.add(l+ca,z+ma),dh(l,z))},quadraticCurveTo(l,z,ca,ma){const Va=sg*l+Rg*z,Xa=Vf*ca+tg*ma;ca=sg*ca+Rg*ma;Ic(Ne,Vf*l+tg*z,Xa,jh);Ic(bg,Va,ca,Ee);dh(Xa,ca)},bezierCurveTo(l,z,ca,ma,Va,Xa){const Jb=sg*l+Rg*z,hc=sg*ca+Rg*ma,Ub=Vf*Va+tg*Xa;Va=sg*Va+Rg*Xa;zc(Ne,Vf*l+tg*z,Vf*ca+tg*ma,Ub,jh);zc(bg,Jb,hc,Va,Ee);dh(Ub,Va)},arc(l,z,ca,ma,Va,Xa){ma+=Pf;Va+=Pf;Ne=ca*Math.cos(Va)+l;bg=
ca*Math.sin(Va)+z;if(Math.abs(Va-ma)>qf)Gf.add(l-ca,z-ca),Gf.add(l+ca,z+ca);else{const Jb=Ub=>Gf.add(ca*Math.cos(Ub)+l,ca*Math.sin(Ub)+z);let hc;Jb(ma);Jb(Va);if(Va!==ma)if(ma%=Jf,0>ma&&(ma+=Jf),Va%=Jf,0>Va&&(Va+=Jf),Va<ma&&(Xa=!Xa,hc=ma,ma=Va,Va=hc),Xa)for(Va-=Jf,hc=ma-ma%Hf,ma=0;4>ma&&hc>Va;++ma,hc-=Hf)Jb(hc);else for(hc=ma-ma%Hf+Hf,ma=0;4>ma&&hc<Va;++ma,hc+=Hf)Jb(hc)}}};var nf=(nf=P.canvas(1,1))?nf.getContext("2d"):null;const Bf=new Ma;var ug=[],xg=Zd("arc",function(l,z){return Ug.context(l)(z)}),
ig=de("area",function(l,z){const ca=z[0];return("horizontal"===ca.orient?bb:qa).curve(Aa(ca.interpolate||"linear",ca.orient,ca.tension)).context(l)(z)},function(l,z){z="horizontal"===l[0].orient?z[1]:z[0];for(var ca="horizontal"===l[0].orient?"y":"x",ma=l.length,Va=Infinity,Xa,Jb;0<=--ma;)!1!==l[ma].defined&&(Jb=Math.abs(l[ma][ca]-z),Jb<Va&&(Va=Jb,Xa=l[ma]));return Xa});const Cf=Td(Xd),Sg=Td(Xd,!1),fh=Td(Xd,!0);var lh={type:"group",tag:"g",nested:!1,attr:function(l,z){l("transform",Fd(z.x||0,z.y||
0))},bound:function(l,z){if(!z.clip&&z.items){const ca=z.items,ma=ca.length;for(let Va=0;Va<ma;++Va)l.union(ca[Va].bounds)}(z.clip||z.width||z.height)&&!z.noBound&&l.add(0,0).add(z.width||0,z.height||0);gc(l,z);return l.translate(z.x||0,z.y||0)},draw:function(l,z,ca){ec(z,ma=>{const Va=ma.x||0,Xa=ma.y||0,Jb=ma.strokeForeground,hc=null==ma.opacity?1:ma.opacity;(ma.stroke||ma.fill)&&hc&&(Xd(l,ma,Va,Xa),sa(l,ma),ma.fill&&Za(l,ma,hc)&&l.fill(),ma.stroke&&!Jb&&kb(l,ma,hc)&&l.stroke());l.save();l.translate(Va,
Xa);ma.clip&&Ud(l,ma);ca&&ca.translate(-Va,-Xa);ec(ma,Ub=>{this.draw(l,Ub,ca)});ca&&ca.translate(Va,Xa);l.restore();Jb&&ma.stroke&&hc&&(Xd(l,ma,Va,Xa),sa(l,ma),kb(l,ma,hc)&&l.stroke())})},pick:function(l,z,ca,ma,Va,Xa){if(z.bounds&&!z.bounds.contains(Va,Xa)||!z.items)return null;const Jb=ca*l.pixelRatio,hc=ma*l.pixelRatio;return ic(z,Ub=>{let qd,Zc;var Rd=Ub.bounds;if(!Rd||Rd.contains(Va,Xa)){qd=Ub.x||0;Zc=Ub.y||0;Rd=qd+(Ub.width||0);var ue=Zc+(Ub.height||0),xe=Ub.clip;if(!xe||!(Va<qd||Va>Rd||Xa<
Zc||Xa>ue)){l.save();l.translate(qd,Zc);qd=Va-qd;Zc=Xa-Zc;if(xe&&Zb(Ub)&&!fh(l,Ub,Jb,hc))return l.restore(),null;ue=Ub.strokeForeground;if((xe=!1!==z.interactive)&&ue&&Ub.stroke&&Sg(l,Ub,Jb,hc))return l.restore(),Ub;Rd=ic(Ub,ve=>(!1!==ve.interactive||"group"===ve.marktype)&&ve.bounds&&ve.bounds.contains(qd,Zc)?this.pick(ve,ca,ma,qd,Zc):null);!Rd&&xe&&(Ub.fill||!ue&&Ub.stroke)&&Cf(l,Ub,Jb,hc)&&(Rd=Ub);l.restore();return Rd||null}}})},isect:Ha,content:function(l,z,ca){z=z.clip?Pd(ca,z,z):null;l("clip-path",
z)},background:function(l,z){l("class","background");l("aria-hidden",!0);const ca=Ve(z);l("d",Rc(null,z,ca,ca))},foreground:function(l,z){l("class","foreground");l("aria-hidden",!0);if(z.strokeForeground){const ca=Ve(z);l("d",Rc(null,z,ca,ca))}else l("d","")}},yg={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},vh={type:"image",tag:"image",nested:!1,attr:function(l,z,ca){var ma=N(z,ca);ca=la(z,ma);const Va=za(z,ma),Xa=(z.x||0)-fb(z.align,ca),Jb=(z.y||
0)-Hb(z.baseline,Va);ma=!ma.src&&ma.toDataURL?ma.toDataURL():ma.src||"";l("href",ma,yg["xmlns:xlink"],"xlink:href");l("transform",Fd(Xa,Jb));l("width",ca);l("height",Va);l("preserveAspectRatio",!1===z.aspect?"none":"xMidYMid")},bound:function(l,z){var ca=z.image;const ma=la(z,ca);ca=za(z,ca);const Va=(z.x||0)-fb(z.align,ma);z=(z.y||0)-Hb(z.baseline,ca);return l.set(Va,z,Va+ma,z+ca)},draw:function(l,z,ca){ec(z,ma=>{if(!ca||ca.intersects(ma.bounds)){var Va=N(ma,this),Xa=la(ma,Va),Jb=za(ma,Va);if(0!==
Xa&&0!==Jb){var hc=(ma.x||0)-fb(ma.align,Xa),Ub=(ma.y||0)-Hb(ma.baseline,Jb),qd;if(!1!==ma.aspect){var Zc=Va.width/Va.height;var Rd=ma.width/ma.height;Zc===Zc&&Rd===Rd&&Zc!==Rd&&(Rd<Zc?(Zc=Xa/Zc,Ub+=(Jb-Zc)/2,Jb=Zc):(Zc*=Jb,hc+=(Xa-Zc)/2,Xa=Zc))}if(Va.complete||Va.toDataURL)sa(l,ma),l.globalAlpha=null!=(qd=ma.opacity)?qd:1,l.imageSmoothingEnabled=!1!==ma.smooth,l.drawImage(Va,hc,Ub,Xa,Jb)}}})},pick:Qd(),isect:k.truthy,get:N,xOffset:fb,yOffset:Hb},uh=de("line",function(l,z){const ca=z[0];return Rb.curve(Aa(ca.interpolate||
"linear",ca.orient,ca.tension)).context(l)(z)},function(l,z){for(var ca=Math.pow(l[0].strokeWidth||1,2),ma=l.length,Va,Xa;0<=--ma;)if(!1!==l[ma].defined&&(Va=l[ma].x-z[0],Xa=l[ma].y-z[1],Va=Va*Va+Xa*Xa,Va<ca))return l[ma];return null}),Kh={type:"path",tag:"path",nested:!1,attr:function(l,z){var ca=z.scaleY||1;1===(z.scaleX||1)&&1===ca||l("vector-effect","non-scaling-stroke");ca=Fd(z.x||0,z.y||0)+(z.angle?" rotate("+(z.angle+")"):"")+(z.scaleX||z.scaleY?" scale("+((z.scaleX||1)+","+(z.scaleY||1)+")"):
"");l("transform",ca);l("d",z.path)},bound:function(l,z){return Xb(cc(l,z.angle),z)?l.set(0,0,0,0):gc(l,z,!0)},draw:Tc(Xb),pick:Qd(Td(Xb)),isect:Md(Xb)},Yg={type:"rect",tag:"path",nested:!1,attr:function(l,z){l("d",Rc(null,z))},bound:function(l,z){var ca,ma;return gc(l.set(ca=z.x||0,ma=z.y||0,ca+z.width||0,ma+z.height||0),z)},draw:Tc(Bc),pick:Qd(Td(Bc)),isect:Ha},wh={type:"rule",tag:"line",nested:!1,attr:function(l,z){l("transform",Fd(z.x||0,z.y||0));l("x2",null!=z.x2?z.x2-(z.x||0):0);l("y2",null!=
z.y2?z.y2-(z.y||0):0)},bound:function(l,z){var ca,ma;return gc(l.set(ca=z.x||0,ma=z.y||0,null!=z.x2?z.x2:ca,null!=z.y2?z.y2:ma),z)},draw:function(l,z,ca){ec(z,ma=>{if(!ca||ca.intersects(ma.bounds)){var Va=null==ma.opacity?1:ma.opacity;Va&&lc(l,ma,Va)&&(sa(l,ma),l.stroke())}})},pick:Qd(function(l,z,ca,ma){return l.isPointInStroke?lc(l,z,1)&&l.isPointInStroke(ca,ma):!1}),isect:gb},Dh=Zd("shape",function(l,z){return(z.mark.shape||z.shape).context(l)(z)}),ri=Zd("symbol",function(l,z){return ld.context(l)(z)},
ud);const Vg=k.lruCache();var mh={height:Hd,measureWidth:Nc,estimateWidth:id,width:id,canvas:Gc};Gc(!0);const si={left:"start",center:"middle",right:"end"},Gg=new Ma;var Eh={type:"text",tag:"text",nested:!1,attr:function(l,z){var ca=z.dx||0,ma=(z.dy||0)+hf(z),Va=df(z),Xa=Va.x1;Va=Va.y1;var Jb=z.angle||0;l("text-anchor",si[z.align]||"start");if(Jb){if(z=Fd(Xa,Va)+" rotate("+(Jb+")"),ca||ma)z+=" "+Fd(ca,ma)}else z=Fd(Xa+ca,Va+ma);l("transform",z)},bound:re,draw:function(l,z,ca){ec(z,ma=>{var Va=null==
ma.opacity?1:ma.opacity,Xa;if(!(ca&&!ca.intersects(ma.bounds)||0===Va||0>=ma.fontSize||null==ma.text||0===ma.text.length)){l.font=kf(ma);l.textAlign=ma.align||"left";var Jb=df(ma);var hc=Jb.x1;Jb=Jb.y1;ma.angle&&(l.save(),l.translate(hc,Jb),l.rotate(ma.angle*af),hc=Jb=0);hc+=ma.dx||0;Jb+=(ma.dy||0)+hf(ma);var Ub=$d(ma);sa(l,ma);if(k.isArray(Ub)){var qd=Gd(ma);for(Xa=0;Xa<Ub.length;++Xa){var Zc=Wd(ma,Ub[Xa]);ma.fill&&Za(l,ma,Va)&&l.fillText(Zc,hc,Jb);ma.stroke&&kb(l,ma,Va)&&l.strokeText(Zc,hc,Jb);
Jb+=qd}}else Zc=Wd(ma,Ub),ma.fill&&Za(l,ma,Va)&&l.fillText(Zc,hc,Jb),ma.stroke&&kb(l,ma,Va)&&l.strokeText(Zc,hc,Jb);ma.angle&&l.restore()}})},pick:Qd(function(l,z,ca,ma,Va,Xa){if(0>=z.fontSize)return!1;if(!z.angle)return!0;ca=df(z);l=ca.x1;ca=ca.y1;ma=re(Gg,z,1);var Jb=-z.angle*af;z=Math.cos(Jb);Jb=Math.sin(Jb);return ma.contains(z*Va-Jb*Xa+(l-z*l+Jb*ca),Jb*Va+z*Xa+(ca-Jb*l-z*ca))}),isect:function(l,z){l=re(Gg,l,2);return wb(z,l[0],l[1],l[2],l[3])||wb(z,l[0],l[1],l[4],l[5])||wb(z,l[4],l[5],l[6],l[7])||
wb(z,l[2],l[3],l[6],l[7])}},Uh=de("trail",function(l,z){return pe.context(l)(z)},function(l,z){for(var ca=l.length,ma,Va;0<=--ca;)if(!1!==l[ca].defined&&(ma=l[ca].x-z[0],Va=l[ca].y-z[1],Va=ma*ma+Va*Va,ma=l[ca].size||1,Va<ma*ma))return l[ca];return null}),Tg={arc:xg,area:ig,group:lh,image:vh,line:uh,path:Kh,rect:Yg,rule:wh,shape:Dh,symbol:ri,text:Eh,trail:Uh},eh={mark:null};const nh="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
fc.prototype={toJSON(l){return ua(this.root,l||0)},mark(l,z,ca){z=z||this.root.items[0];l=Cc(l,z);z.items[ca]=l;l.zindex&&(l.group.zdirty=!0);return l}};Dc.prototype={initialize(l,z,ca){this._el=l;this._obj=ca||null;return this.origin(z)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(l){return arguments.length?(this._origin=l||[0,0],this):this._origin.slice()},scene(l){if(!arguments.length)return this._scene;this._scene=l;return this},on(){},off(){},_handlerIndex(l,
z,ca){for(let ma=l?l.length:0;0<=--ma;)if(l[ma].type===z&&(!ca||l[ma].handler===ca))return ma;return-1},handlers(l){const z=this._handlers,ca=[];if(l)ca.push(...z[this.eventName(l)]);else for(const ma in z)ca.push(...z[ma]);return ca},eventName(l){const z=l.indexOf(".");return 0>z?l:l.slice(0,z)},handleHref(l,z,ca){this._loader.sanitize(ca,{context:"href"}).then(ma=>{const Va=new MouseEvent(l.type,l),Xa=$b(null,"a");for(const Jb in ma)Xa.setAttribute(Jb,ma[Jb]);Xa.dispatchEvent(Va)}).catch(()=>{})},
handleTooltip(l,z,ca){if(z&&null!=z.tooltip){var ma=this.canvas(),Va=this._origin,Xa=z&&z.mark,Jb;if(Xa&&(Jb=Tg[Xa.marktype]).tip){ma=Pc(l,ma);ma[0]-=Va[0];for(ma[1]-=Va[1];z=z.mark.group;)ma[0]-=z.x||0,ma[1]-=z.y||0;z=Jb.tip(Xa.items,ma)}this._tooltip.call(this._obj,this,l,z,ca&&z&&z.tooltip||null)}},getItemBoundingClientRect(l){var z=this.canvas();if(z){var ca=z.getBoundingClientRect(),ma=this._origin,Va=l.bounds;z=Va.width();var Xa=Va.height(),Jb=Va.x1+ma[0]+ca.left;for(ca=Va.y1+ma[1]+ca.top;l.mark&&
(l=l.mark.group);)Jb+=l.x||0,ca+=l.y||0;return{x:Jb,y:ca,width:z,height:Xa,left:Jb,top:ca,right:Jb+z,bottom:ca+Xa}}}};gd.prototype={initialize(l,z,ca,ma,Va){this._el=l;return this.resize(z,ca,ma,Va)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(l){if(0===arguments.length)return this._bgcolor;this._bgcolor=l;return this},resize(l,z,ca,ma){this._width=l;this._height=z;this._origin=ca||[0,0];this._scale=ma||1;return this},dirty(){},render(l){const z=this;z._call=
function(){z._render(l)};z._call();z._call=null;return z},_render(){},renderAsync(l){const z=this.render(l);return this._ready?this._ready.then(()=>z):Promise.resolve(z)},_load(l,z){var ca=this;l=ca._loader[l](z);if(!ca._ready){const ma=ca._call;ca._ready=ca._loader.ready().then(Va=>{Va&&ma();ca._ready=null})}return l},sanitizeURL(l){return this._load("sanitizeURL",l)},loadImage(l){return this._load("loadImage",l)}};k.inherits(ee,Dc,{initialize(l,z,ca){this._canvas=l&&J(l,"canvas");["click","mousedown",
"mousemove","mouseout","dragleave"].forEach(ma=>Sa(this,ma));return Dc.prototype.initialize.call(this,l,z,ca)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(l){this.fire("mousewheel",l)},mousemove:oc("mousemove","mouseover","mouseout"),dragover:oc("dragover","dragenter","dragleave"),
mouseout:xd("mouseout"),dragleave:xd("dragleave"),mousedown(l){this._down=this._active;this.fire("mousedown",l)},click(l){this._down===this._active&&(this.fire("click",l),this._down=null)},touchstart(l){this._touch=this.pickEvent(l.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",l,!0)},touchmove(l){this.fire("touchmove",l,!0)},touchend(l){this.fire("touchend",l,!0);this._touch=null},fire(l,z,ca){ca=ca?this._touch:this._active;const ma=this._handlers[l];
z.vegaType=l;"click"===l&&ca&&ca.href?this.handleHref(z,ca,ca.href):("mousemove"===l||"mouseout"===l)&&this.handleTooltip(z,ca,"mouseout"!==l);if(ma)for(let Va=0,Xa=ma.length;Va<Xa;++Va)ma[Va].handler.call(this._obj,z,ca)},on(l,z){const ca=this.eventName(l),ma=this._handlers;0>this._handlerIndex(ma[ca],l,z)&&(Sa(this,l),(ma[ca]||(ma[ca]=[])).push({type:l,handler:z}));return this},off(l,z){var ca=this.eventName(l);ca=this._handlers[ca];l=this._handlerIndex(ca,l,z);0<=l&&ca.splice(l,1);return this},
pickEvent(l){l=Pc(l,this._canvas);const z=this._origin;return this.pick(this._scene,l[0],l[1],l[0]-z[0],l[1]-z[1])},pick(l,z,ca,ma,Va){const Xa=this.context();return Tg[l.marktype].pick.call(this,Xa,l,z,ca,ma,Va)}});var xh="undefined"!==typeof window?window.devicePixelRatio||1:1;const Jg=gd.prototype;k.inherits(Lc,gd,{initialize(l,z,ca,ma,Va,Xa){this._options=Xa||{};this._canvas=this._options.externalContext?null:P.canvas(1,1,this._options.type);l&&this._canvas&&(Ta(l,0).appendChild(this._canvas),
this._canvas.setAttribute("class","marks"));return Jg.initialize.call(this,l,z,ca,ma,Va)},resize(l,z,ca,ma){Jg.resize.call(this,l,z,ca,ma);if(this._canvas){l=this._canvas;z=this._width;ca=this._height;ma=this._origin;var Va=this._scale,Xa=this._options.context;const hc="undefined"!==typeof HTMLElement&&l instanceof HTMLElement&&null!=l.parentNode,Ub=l.getContext("2d");Va=hc?xh:Va;l.width=z*Va;l.height=ca*Va;for(var Jb in Xa)Ub[Jb]=Xa[Jb];hc&&1!==Va&&(l.style.width=z+"px",l.style.height=ca+"px");Ub.pixelRatio=
Va;Ub.setTransform(Va,0,0,Va,Va*ma[0],Va*ma[1])}else(Jb=this._options.externalContext)||k.error("CanvasRenderer is missing a valid canvas or context"),Jb.scale(this._scale,this._scale),Jb.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(l){const z=this._tempb.clear().union(l.bounds);for(l=l.mark.group;l;)z.translate(l.x||0,l.y||0),l=l.mark.group;
this._dirty.union(z)},_render(l){const z=this.context(),ca=this._origin,ma=this._width,Va=this._height,Xa=this._dirty;var Jb=(new Ma).set(0,0,ma,Va).translate(-ca[0],-ca[1]);z.save();this._redraw||Xa.empty()?Jb=(this._redraw=!1,Jb.expand(1)):(Jb=Jb.intersect(Xa),Jb.expand(1).round(),z.pixelRatio%1&&Jb.scale(z.pixelRatio).round().scale(1/z.pixelRatio),Jb.translate(-(ca[0]%1),-(ca[1]%1)),z.beginPath(),z.rect(Jb.x1,Jb.y1,Jb.width(),Jb.height()),z.clip());this.clear(-ca[0],-ca[1],ma,Va);this.draw(z,l,
Jb);z.restore();Xa.clear();return this},draw(l,z,ca){const ma=Tg[z.marktype];if(z.clip){var Va=z.clip;l.save();k.isFunction(Va)?(l.beginPath(),Va(l),l.clip()):Ud(l,z.group)}ma.draw.call(this,l,z,ca);z.clip&&l.restore()},clear(l,z,ca,ma){const Va=this._options,Xa=this.context();"pdf"===Va.type||Va.externalContext||Xa.clearRect(l,z,ca,ma);null!=this._bgcolor&&(Xa.fillStyle=this._bgcolor,Xa.fillRect(l,z,ca,ma))}});const Lh=(l,z)=>ca=>{let ma=ca.target.__data__;ma=Array.isArray(ma)?ma[0]:ma;ca.vegaType=
ca.type;z.call(l._obj,ca,ma)};k.inherits(Uc,Dc,{initialize(l,z,ca){let ma=this._svg;ma&&(ma.removeEventListener("click",this._hrefHandler),ma.removeEventListener("mousemove",this._tooltipHandler),ma.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=ma=l&&J(l,"svg"))ma.addEventListener("click",this._hrefHandler),ma.addEventListener("mousemove",this._tooltipHandler),ma.addEventListener("mouseout",this._tooltipHandler);return Dc.prototype.initialize.call(this,l,z,ca)},canvas(){return this._svg},
on(l,z){const ca=this.eventName(l),ma=this._handlers;0>this._handlerIndex(ma[ca],l,z)&&(l={type:l,handler:z,listener:Lh(this,z)},(ma[ca]||(ma[ca]=[])).push(l),this._svg&&this._svg.addEventListener(ca,l.listener));return this},off(l,z){const ca=this.eventName(l),ma=this._handlers[ca];l=this._handlerIndex(ma,l,z);0<=l&&(this._svg&&this._svg.removeEventListener(ca,ma[l].listener),ma.splice(l,1));return this}});const yh=(l,z,ca)=>({role:l,["aria-roledescription"]:z,["aria-label"]:ca||void 0}),zh=k.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),
Ph={axis:{desc:"axis",caption:function(l){var z=l.datum;const ca=l.orient,ma=z.title?Cd(l):null;var Va=l.context;z=Va.scales[z.scale].value;Va=Va.dataflow.locale();const Xa=z.type;return`${"left"===ca||"right"===ca?"Y":"X"}-axis`+(ma?` titled '${ma}'`:"")+` for a ${Gb.isDiscrete(Xa)?"discrete":Xa} scale`+` with ${Gb.domainCaption(Va,z,l)}`}},legend:{desc:"legend",caption:function(l){var z=l.datum;const ca=z.title?Cd(l):null,ma=`${z.type||""} legend`.trim();var Va=z.scales;z=Object.keys(Va);var Xa=
l.context;Va=Xa.scales[Va[z[0]]].value;Xa=Xa.dataflow.locale();return(ma.length?ma[0].toUpperCase()+ma.slice(1):ma)+(ca?` titled '${ca}'`:"")+` for ${be(z)}`+` with ${Gb.domainCaption(Xa,Va,l)}`}},"title-text":{desc:"title",caption:l=>`Title text '${k.array(l.text).join(" ")}'`},"title-subtitle":{desc:"subtitle",caption:l=>`Subtitle text '${k.array(l.text).join(" ")}'`}},Wh={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},ph=l=>(l+"").replace(/&/g,"\x26amp;").replace(/</g,
"\x26lt;").replace(/>/g,"\x26gt;"),Fh=l=>Le(ye(),l)+"",Wf={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},Kg={blend:"mix-blend-mode"},Xf={fill:"none","stroke-miterlimit":10},Ff=yg.xmlns,Mh=gd.prototype;k.inherits(Ye,gd,{initialize(l,z,ca,ma,Va){this._defs=
{};this._clearDefs();l&&(this._svg=fa(l,0,"svg",Ff),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns",Ff),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",yg["xmlns:xlink"]),this._svg.setAttribute("version",yg.version),this._svg.setAttribute("class","marks"),Ta(l,1),this._root=fa(this._svg,0,"g",Ff),Id(this._root,Xf),Ta(this._svg,1));this.background(this._bgcolor);return Mh.initialize.call(this,l,z,ca,ma,Va)},background(l){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",
l);return Mh.background.apply(this,arguments)},resize(l,z,ca,ma){Mh.resize.call(this,l,z,ca,ma);this._svg&&(Id(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const l=this._svg,z=this._bgcolor;if(!l)return null;let ca;z&&(l.removeAttribute("style"),ca=fa(l,0,"rect",Ff),Id(ca,{width:this._width,height:this._height,
fill:z}));const ma=Fh(l);z&&(l.removeChild(ca),this._svg.style.setProperty("background-color",z));return ma},_render(l){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,l),Ta(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this},dirty(l){l.dirty!==this._dirtyID&&(l.dirty=this._dirtyID,this._dirty.push(l))},isDirty(l){return this._dirtyAll||!l._svg||!l._svg.ownerSVGElement||l.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const l=this._dirty;if(!l.length||
!this._dirtyID)return!0;const z=++this._dirtyID;let ca;let ma,Va,Xa,Jb;Xa=0;for(Jb=l.length;Xa<Jb;++Xa){ca=l[Xa];var hc=ca.mark;hc.marktype!==ma&&(ma=hc.marktype,Va=Tg[ma]);hc.zdirty&&hc.dirty!==z&&(this._dirtyAll=!1,ef(ca,z),hc.items.forEach(Ub=>{Ub.dirty=z}));hc.zdirty||(ca.exit?(Va.nested&&hc.items.length?(hc=hc.items[0],hc._svg&&this._update(Va,hc._svg,hc)):ca._svg&&(hc=ca._svg.parentNode)&&hc.removeChild(ca._svg),ca._svg=null):(ca=Va.nested?hc.items[0]:ca,ca._update!==z&&(ca._svg&&ca._svg.ownerSVGElement?
this._update(Va,ca._svg,ca):(this._dirtyAll=!1,ef(ca,z)),ca._update=z)))}return!this._dirtyAll},mark(l,z,ca){if(!this.isDirty(z))return z._svg;const ma=this._svg,Va=Tg[z.marktype];var Xa=!1===z.interactive?"none":null;const Jb="g"===Va.tag,hc=Ec(z,l,ca,"g",ma);hc.setAttribute("class",bc(z));l=td(z);for(const Zc in l)Vd(hc,Zc,l[Zc]);Jb||Vd(hc,"pointer-events",Xa);Vd(hc,"clip-path",z.clip?Pd(this,z,z.group):null);let Ub=null,qd=0;Xa=Zc=>{const Rd=this.isDirty(Zc),ue=Ec(Zc,hc,Ub,Va.tag,ma);Rd&&(this._update(Va,
ue,Zc),Jb&&od(this,ue,Zc));Ub=ue;++qd};Va.nested?z.items.length&&Xa(z.items[0]):ec(z,Xa);Ta(hc,qd);return hc},_update(l,z,ca){eg=z;Yf=z.__values__;Qc(kd,ca);l.attr(kd,ca,this);const ma=S[l.type];ma&&ma.call(this,l,z,ca);eg&&this.style(eg,ca)},style(l,z){if(null!=z){for(const ca in Wf){let ma="font"===ca?Ce(z):z[ca];if(ma===Yf[ca])continue;const Va=Wf[ca];null==ma?l.removeAttribute(Va):(ma&&ma.gradient&&(ma=ac(ma,this._defs.gradient,ce())),l.setAttribute(Va,ma+""));Yf[ca]=ma}for(const ca in Kg)Fc(l,
Kg[ca],z[ca])}},defs(){const l=this._svg,z=this._defs;let ca=z.el;var ma=0;for(var Va in z.gradient){ca||(z.el=ca=fa(l,1,"defs",Ff));var Xa=void 0;let Ub,qd;var Jb=ca,hc=z.gradient[Va];"radial"===hc.gradient?(Xa=fa(Jb,ma++,"pattern",Ff),Id(Xa,{id:"p_"+hc.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Xa=fa(Xa,0,"rect",Ff),Id(Xa,{width:1,height:1,fill:`url(${ce()}#${hc.id})`}),Jb=fa(Jb,ma++,"radialGradient",Ff),Id(Jb,{id:hc.id,fx:hc.x1,fy:hc.y1,fr:hc.r1,cx:hc.x2,
cy:hc.y2,r:hc.r2})):(Jb=fa(Jb,ma++,"linearGradient",Ff),Id(Jb,{id:hc.id,x1:hc.x1,x2:hc.x2,y1:hc.y1,y2:hc.y2}));qd=0;for(Ub=hc.stops.length;qd<Ub;++qd)Xa=fa(Jb,qd,"stop",Ff),Xa.setAttribute("offset",hc.stops[qd].offset),Xa.setAttribute("stop-color",hc.stops[qd].color);Ta(Jb,qd)}for(const Ub in z.clipping)ca||(z.el=ca=fa(l,1,"defs",Ff)),Jb=ca,hc=z.clipping[Ub],Va=ma,Jb=fa(Jb,Va,"clipPath",Ff),Jb.setAttribute("id",hc.id),hc.path?(ma=fa(Jb,0,"path",Ff),ma.setAttribute("d",hc.path)):(ma=fa(Jb,0,"rect",
Ff),Id(ma,{x:0,y:0,width:hc.width,height:hc.height})),Ta(Jb,1),ma=Va+1;ca&&(0===ma?(l.removeChild(ca),z.el=null):Ta(ca,ma))},_clearDefs(){const l=this._defs;l.gradient={};l.clipping={}}});let eg=null,Yf=null;const S={group(l,z,ca){const ma=eg=z.childNodes[2];Yf=ma.__values__;l.foreground(kd,ca,this);Yf=z.__values__;eg=z.childNodes[1];l.content(kd,ca,this);z=eg=z.childNodes[0];l.background(kd,ca,this);l=!1===ca.mark.interactive?"none":null;l!==Yf.events&&(Vd(ma,"pointer-events",l),Vd(z,"pointer-events",
l),Yf.events=l);ca.strokeForeground&&ca.stroke?(l=ca.fill,Vd(ma,"display",null),this.style(z,ca),Vd(z,"stroke",null),l&&(ca.fill=null),Yf=ma.__values__,this.style(ma,ca),l&&(ca.fill=l),eg=null):Vd(ma,"display","none")},image(l,z,ca){!1===ca.smooth?(Fc(z,"image-rendering","optimizeSpeed"),Fc(z,"image-rendering","pixelated")):Fc(z,"image-rendering",null)},text(l,z,ca){l=$d(ca);let ma,Va,Xa;k.isArray(l)?(ma=l.map(Jb=>Wd(ca,Jb)),l=ma.join("\n"),l!==Yf.text&&(Ta(z,0),Va=z.ownerDocument,Xa=Gd(ca),ma.forEach((Jb,
hc)=>{const Ub=$b(Va,"tspan",Ff);Ub.__data__=ca;Ub.textContent=Jb;hc&&(Ub.setAttribute("x",0),Ub.setAttribute("dy",Xa));z.appendChild(Ub)}),Yf.text=l)):(ma=Wd(ca,l),ma!==Yf.text&&(z.textContent=ma,Yf.text=ma));Vd(z,"font-family",Ce(ca));Vd(z,"font-size",Hd(ca)+"px");Vd(z,"font-style",ca.fontStyle);Vd(z,"font-variant",ca.fontVariant);Vd(z,"font-weight",ca.fontWeight)}};k.inherits(le,gd,{svg(){return this._text},_render(l){const z=ye();z.open("svg",k.extend({},yg,{class:"marks",width:this._width*this._scale,
height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const ca=this._bgcolor;ca&&"transparent"!==ca&&"none"!==ca&&z.open("rect",{width:this._width,height:this._height,fill:ca}).close();z.open("g",Xf,{transform:"translate("+this._origin+")"});this.mark(z,l);z.close();this.defs(z);this._text=z.close()+"";return this},mark(l,z){const ca=Tg[z.marktype],ma=ca.tag,Va=[Qc,ca.attr];l.open("g",{"class":bc(z),"clip-path":z.clip?Pd(this,z,z.group):null},td(z),{"pointer-events":"g"!==
ma&&!1===z.interactive?"none":null});const Xa=Jb=>{const hc=this.href(Jb);hc&&l.open("a",hc);l.open(ma,this.attr(z,Jb,Va,"g"!==ma?ma:null));if("text"===ma){var Ub=$d(Jb);if(k.isArray(Ub)){var qd={x:0,dy:Gd(Jb)};for(var Zc=0;Zc<Ub.length;++Zc)l.open("tspan",Zc?qd:null).text(Wd(Jb,Ub[Zc])).close()}else l.text(Wd(Jb,Ub))}else"g"===ma&&(Ub=Jb.strokeForeground,qd=Jb.fill,Zc=Jb.stroke,Ub&&Zc&&(Jb.stroke=null),l.open("path",this.attr(z,Jb,ca.background,"bgrect")).close(),l.open("g",this.attr(z,Jb,ca.content)),
ec(Jb,Rd=>this.mark(l,Rd)),l.close(),Ub&&Zc?(qd&&(Jb.fill=null),Jb.stroke=Zc,l.open("path",this.attr(z,Jb,ca.foreground,"bgrect")).close(),qd&&(Jb.fill=qd)):l.open("path",this.attr(z,Jb,ca.foreground,"bgfore")).close());l.close();hc&&l.close()};ca.nested?z.items&&z.items.length&&Xa(z.items[0]):ec(z,Xa);return l.close()},href(l){const z=l.href;if(z){if(l=this._hrefs&&this._hrefs[z])return l;this.sanitizeURL(z).then(ca=>{ca["xlink:href"]=ca.href;ca.href=null;(this._hrefs||(this._hrefs={}))[z]=ca})}return null},
attr(l,z,ca,ma){const Va={},Xa=(Jb,hc,Ub,qd)=>{Va[qd||Jb]=hc};Array.isArray(ca)?ca.forEach(Jb=>Jb(Xa,z,this)):ca(Xa,z,this);ma&&O(Va,z,l,ma,this._defs);return Va},defs(l){var z=this._defs.gradient;const ca=this._defs.clipping;if(0!==Object.keys(z).length+Object.keys(ca).length){l.open("defs");for(const Va in z){var ma=z[Va];const Xa=ma.stops;"radial"===ma.gradient?(l.open("pattern",{id:"p_"+Va,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),l.open("rect",{width:"1",
height:"1",fill:"url(#"+Va+")"}).close(),l.close(),l.open("radialGradient",{id:Va,fx:ma.x1,fy:ma.y1,fr:ma.r1,cx:ma.x2,cy:ma.y2,r:ma.r2})):l.open("linearGradient",{id:Va,x1:ma.x1,x2:ma.x2,y1:ma.y1,y2:ma.y2});for(ma=0;ma<Xa.length;++ma)l.open("stop",{offset:Xa[ma].offset,"stop-color":Xa[ma].color}).close();l.close()}for(const Va in ca)z=ca[Va],l.open("clipPath",{id:Va}),z.path?l.open("path",{d:z.path}).close():l.open("rect",{x:0,y:0,width:z.width,height:z.height}).close(),l.close();l.close()}}});const wa=
{};wa.canvas=wa.png={renderer:Lc,headless:Lc,handler:ee};wa.svg={renderer:Ye,headless:le,handler:Uc};wa.none={};const Ra=new Ma;v.Bounds=Ma;v.CanvasHandler=ee;v.CanvasRenderer=Lc;v.Gradient=function(l,z){var ca=[],ma;return ma={gradient:"linear",x1:l?l[0]:0,y1:l?l[1]:0,x2:z?z[0]:1,y2:z?z[1]:0,stops:ca,stop:function(Va,Xa){ca.push({offset:Va,color:Xa});return ma}}};v.GroupItem=qb;v.Handler=Dc;v.Item=Vb;v.Marks=Tg;v.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};v.Renderer=gd;v.ResourceLoader=
Tb;v.SVGHandler=Uc;v.SVGRenderer=Ye;v.SVGStringRenderer=le;v.Scenegraph=fc;v.boundClip=function(l){const z=l.clip;if(k.isFunction(z))z(cc(Ra.clear()));else if(z)Ra.set(0,0,l.group.width,l.group.height);else return;l.bounds.intersect(Ra)};v.boundContext=cc;v.boundItem=tf;v.boundMark=U;v.boundStroke=gc;v.domChild=fa;v.domClear=Ta;v.domCreate=$b;v.domFind=J;v.font=kf;v.fontFamily=Ce;v.fontSize=Hd;v.intersect=function(l,z,ca){const ma=[];z=(new Ma).union(z);const Va=l.marktype;return Va?ea(l,z,ca,ma):
"group"===Va?I(l,z,ca,ma):k.error("Intersect scene must be mark node or group item.")};v.intersectBoxLine=wb;v.intersectPath=Md;v.intersectPoint=ud;v.intersectRule=gb;v.lineHeight=Gd;v.markup=ye;v.multiLineOffset=function(l){const z=$d(l);return(k.isArray(z)?z.length-1:0)*Gd(l)};v.path=Yb;v.pathCurves=Aa;v.pathEqual=Ja;v.pathParse=Y;v.pathRectangle=sc;v.pathRender=L;v.pathSymbols=La;v.pathTrail=xc;v.point=Pc;v.renderModule=function(l,z){l=String(l||"").toLowerCase();return 1<arguments.length?(wa[l]=
z,this):wa[l]};v.resetSVGClipId=function(){Pe=1};v.resetSVGDefIds=function(){Pe=1;vb=0};v.sceneEqual=ta;v.sceneFromJSON=cb;v.scenePickVisit=ic;v.sceneToJSON=ua;v.sceneVisit=ec;v.sceneZOrder=nc;v.serializeXML=Fh;v.textMetrics=mh})};
shadow$provide[35]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(29),Db(34),Db(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega,v.vega))})(this,function(v,k,P,ib){function Gb(E){k.Transform.call(this,null,E)}function ac(E,H,V){return H(E.bounds.clear(),E,V)}function vc(E){k.Transform.call(this,
0,E)}function Ac(E){return E._signals[":vega_identifier:"]||(E._signals[":vega_identifier:"]=E.add(0))}function uc(E){k.Transform.call(this,null,E)}function Bb(E){const H=E.groups;E=E.parent;return H&&1===H.size?H.get(Object.keys(H.object)[0]):H&&E?H.lookup(E):null}function jc(E){k.Transform.call(this,null,E)}function Yb(E){k.Transform.call(this,null,E)}function Ua(E,H,V){return E[H]===V?0:(E[H]=V,1)}function ub(E){E=E.items[0].orient;return"left"===E||"right"===E}function Kb(E,H,V,Aa){H=H.items[0];
var Y=H.datum,t=null!=H.translate?H.translate:.5,L=H.orient,va=+Y.grid;var La=[Y.ticks?va++:-1,Y.labels?va++:-1,va+ +Y.domain];va=H.range;var Wa=H.offset,$a=H.position,X=H.minExtent,Ca=H.maxExtent;Y=Y.title&&H.items[La[2]].items[0];var Ya=H.titlePadding,Ib=H.bounds,yc=Y&&P.multiLineOffset(Y),sc;C.clear().union(Ib);Ib.clear();-1<(sc=La[0])&&Ib.union(H.items[sc].bounds);-1<(sc=La[1])&&Ib.union(H.items[sc].bounds);switch(L){case "top":V=$a||0;Aa=-Wa;X=Math.max(X,Math.min(Ca,-Ib.y1));Ib.add(0,-X).add(va,
0);Y&&Lb(E,Y,X,Ya,yc,0,-1,Ib);break;case "left":V=-Wa;Aa=$a||0;X=Math.max(X,Math.min(Ca,-Ib.x1));Ib.add(-X,0).add(0,va);Y&&Lb(E,Y,X,Ya,yc,1,-1,Ib);break;case "right":V+=Wa;Aa=$a||0;X=Math.max(X,Math.min(Ca,Ib.x2));Ib.add(0,0).add(X,va);Y&&Lb(E,Y,X,Ya,yc,1,1,Ib);break;case "bottom":V=$a||0;Aa+=Wa;X=Math.max(X,Math.min(Ca,Ib.y2));Ib.add(0,0).add(va,X);Y&&Lb(E,Y,X,Ya,0,0,1,Ib);break;default:V=H.x,Aa=H.y}P.boundStroke(Ib.translate(V,Aa),H);Ua(H,"x",V+t)|Ua(H,"y",Aa+t)&&(H.bounds=C,E.dirty(H),H.bounds=
Ib,E.dirty(H));return H.mark.bounds.clear().union(Ib)}function Lb(E,H,V,Aa,Y,t,L,va){const La=H.bounds;H.auto&&(V=L*(V+Y+Aa),Y=Aa=0,E.dirty(H),t?Aa=(H.x||0)-(H.x=V):Y=(H.y||0)-(H.y=V),H.mark.bounds.clear().union(La.translate(-Aa,-Y)),E.dirty(H));va.union(La)}function Cb(E){return(new P.Bounds).set(0,0,E.width||0,E.height||0)}function Pb(E){const H=E.bounds.clone();return H.empty()?H.set(0,0,0,0):H.translate(-(E.x||0),-(E.y||0))}function ab(E,H,V){E=ib.isObject(E)?E[H]:E;return null!=E?E:void 0!==
V?V:0}function pb(E){return 0>E?Math.ceil(-E):0}function Qa(E,H,V){var Aa=!V.nodirty,Y="flush"===V.bounds?Cb:Pb,t=C.set(0,0,0,0),L=ab(V.align,"column"),va=ab(V.align,"row"),La=ab(V.padding,"column"),Wa=ab(V.padding,"row"),$a=V.columns||H.length,X=0>=$a?1:Math.ceil(H.length/$a),Ca=H.length,Ya=Array(Ca),Ib=Array($a),yc=0,sc=Array(Ca),xc=Array(X),cd=0,Zb=Array(Ca),Rc=Array(Ca),Pd=Array(Ca),Ma,Vb,qb;for(Ma=0;Ma<$a;++Ma)Ib[Ma]=0;for(Ma=0;Ma<X;++Ma)xc[Ma]=0;for(Ma=0;Ma<Ca;++Ma){var Tb=H[Ma];var gc=Pd[Ma]=
Y(Tb);Tb.x=Tb.x||0;Zb[Ma]=0;Tb.y=Tb.y||0;Rc[Ma]=0;Tb=Ma%$a;var cc=~~(Ma/$a);yc=Math.max(yc,Vb=Math.ceil(gc.x2));cd=Math.max(cd,qb=Math.ceil(gc.y2));Ib[Tb]=Math.max(Ib[Tb],Vb);xc[cc]=Math.max(xc[cc],qb);Ya[Ma]=La+pb(gc.x1);sc[Ma]=Wa+pb(gc.y1);Aa&&E.dirty(H[Ma])}for(Ma=0;Ma<Ca;++Ma)0===Ma%$a&&(Ya[Ma]=0),Ma<$a&&(sc[Ma]=0);if("each"===L)for(Tb=1;Tb<$a;++Tb){Y=0;for(Ma=Tb;Ma<Ca;Ma+=$a)Y<Ya[Ma]&&(Y=Ya[Ma]);for(Ma=Tb;Ma<Ca;Ma+=$a)Ya[Ma]=Y+Ib[Tb-1]}else if("all"===L){for(Ma=Y=0;Ma<Ca;++Ma)Ma%$a&&Y<Ya[Ma]&&
(Y=Ya[Ma]);for(Ma=0;Ma<Ca;++Ma)Ma%$a&&(Ya[Ma]=Y+yc)}else for(L=!1,Tb=1;Tb<$a;++Tb)for(Ma=Tb;Ma<Ca;Ma+=$a)Ya[Ma]+=Ib[Tb-1];if("each"===va)for(cc=1;cc<X;++cc){Y=0;Ma=cc*$a;for(Tb=Ma+$a;Ma<Tb;++Ma)Y<sc[Ma]&&(Y=sc[Ma]);for(Ma=cc*$a;Ma<Tb;++Ma)sc[Ma]=Y+xc[cc-1]}else if("all"===va){Y=0;for(Ma=$a;Ma<Ca;++Ma)Y<sc[Ma]&&(Y=sc[Ma]);for(Ma=$a;Ma<Ca;++Ma)sc[Ma]=Y+cd}else for(va=!1,cc=1;cc<X;++cc)for(Ma=cc*$a,Tb=Ma+$a;Ma<Tb;++Ma)sc[Ma]+=xc[cc-1];for(Ma=cc=0;Ma<Ca;++Ma)cc=Ya[Ma]+(Ma%$a?cc:0),Zb[Ma]+=cc-H[Ma].x;
for(Tb=0;Tb<$a;++Tb)for(Ya=0,Ma=Tb;Ma<Ca;Ma+=$a)Ya+=sc[Ma],Rc[Ma]+=Ya-H[Ma].y;if(L&&ab(V.center,"column")&&1<X)for(Ma=0;Ma<Ca;++Ma)gc="all"===L?yc:Ib[Ma%$a],cc=gc-Pd[Ma].x2-H[Ma].x-Zb[Ma],0<cc&&(Zb[Ma]+=cc/2);if(va&&ab(V.center,"row")&&1!==$a)for(Ma=0;Ma<Ca;++Ma)gc="all"===va?cd:xc[~~(Ma/$a)],Ya=gc-Pd[Ma].y2-H[Ma].y-Rc[Ma],0<Ya&&(Rc[Ma]+=Ya/2);for(Ma=0;Ma<Ca;++Ma)t.union(Pd[Ma].translate(Zb[Ma],Rc[Ma]));cc=ab(V.anchor,"x");Ya=ab(V.anchor,"y");switch(ab(V.anchor,"column")){case "end":cc-=t.width();
break;case "middle":cc-=t.width()/2}switch(ab(V.anchor,"row")){case "end":Ya-=t.height();break;case "middle":Ya-=t.height()/2}cc=Math.round(cc);Ya=Math.round(Ya);t.clear();for(Ma=0;Ma<Ca;++Ma)H[Ma].mark.bounds.clear();for(Ma=0;Ma<Ca;++Ma)Tb=H[Ma],Tb.x+=Zb[Ma]+=cc,Tb.y+=Rc[Ma]+=Ya,t.union(Tb.mark.bounds.union(Tb.bounds.translate(Zb[Ma],Rc[Ma]))),Aa&&E.dirty(Tb);return t}function Da(E,H){return"x1"===H?E.x||0:"y1"===H?E.y||0:"x2"===H?(E.x||0)+(E.width||0):"y2"===H?(E.y||0)+(E.height||0):void 0}function Ka(E,
H){return E.bounds[H]}function lb(E,H,V,Aa,Y,t,L,va,La,Wa,$a,X,Ca,Ya){var Ib=V.length,yc=Aa=0,sc,xc;if(!Ib)return Aa;for(sc=$a;sc<Ib;sc+=X)V[sc]&&(Aa=L(Aa,La(V[sc],Wa)));if(!H.length)return Aa;H.length>Y&&(E.warn("Grid headers exceed limit: "+Y),H=H.slice(0,Y));Aa+=t;Y=0;for(t=H.length;Y<t;++Y)E.dirty(H[Y]),H[Y].mark.bounds.clear();sc=$a;Y=0;for(t=H.length;Y<t;++Y,sc+=X){La=H[Y];$a=La.mark.bounds;for(Ib=sc;0<=Ib&&null==(xc=V[Ib]);Ib-=Ca);if(va){Ib=null==Ya?xc.x:Math.round(xc.bounds.x1+Ya*xc.bounds.width());
var cd=Aa}else Ib=Aa,cd=null==Ya?xc.y:Math.round(xc.bounds.y1+Ya*xc.bounds.height());$a.union(La.bounds.translate(Ib-(La.x||0),cd-(La.y||0)));La.x=Ib;La.y=cd;E.dirty(La);yc=L(yc,$a[Wa])}return yc}function mb(E,H,V,Aa,Y,t){if(H){E.dirty(H);var L=V;Aa?L=Math.round(Y.x1+t*Y.width()):V=Math.round(Y.y1+t*Y.height());H.bounds.translate(L-(H.x||0),V-(H.y||0));H.mark.bounds.clear().union(H.bounds);H.x=L;H.y=V;E.dirty(H)}}function Pa(E,H){const V=E[H]||{};return(Aa,Y)=>null!=V[Aa]?V[Aa]:null!=E[Aa]?E[Aa]:
Y}function xb(E,H){let V=-Infinity;E.forEach(Aa=>{null!=Aa.offset&&(V=Math.max(V,Aa.offset))});return-Infinity<V?V:H}function sb(E,H,V,Aa,Y,t,L){const va=Pa(V,H);V=xb(E,va("offset",0));const La=va("anchor","start"),Wa="end"===La?1:"middle"===La?.5:0;E={align:"each",bounds:va("bounds","flush"),columns:"vertical"===va("direction")?1:E.length,padding:va("margin",8),center:va("center"),nodirty:!0};switch(H){case "left":E.anchor={x:Math.floor(Aa.x1)-V,column:"end",y:Wa*(L||Aa.height()+2*Aa.y1),row:La};
break;case "right":E.anchor={x:Math.ceil(Aa.x2)+V,y:Wa*(L||Aa.height()+2*Aa.y1),row:La};break;case "top":E.anchor={y:Math.floor(Y.y1)-V,row:"end",x:Wa*(t||Y.width()+2*Y.x1),column:La};break;case "bottom":E.anchor={y:Math.ceil(Y.y2)+V,x:Wa*(t||Y.width()+2*Y.x1),column:La};break;case "top-left":E.anchor={x:V,y:V};break;case "top-right":E.anchor={x:t-V,y:V,column:"end"};break;case "bottom-left":E.anchor={x:V,y:L-V,row:"end"};break;case "bottom-right":E.anchor={x:t-V,y:L-V,column:"end",row:"end"}}return E}
function Qb(E,H){H=H.items[0];var V=H.datum,Aa=H.orient,Y=H.bounds,t=H.x,L=H.y;H._bounds?H._bounds.clear().union(Y):H._bounds=Y.clone();Y.clear();var va=H.items[0].items[0];var La=H.padding,Wa=La-va.x,$a=La-va.y;if(H.datum.title){var X=H.items[1].items[0],Ca=X.anchor,Ya=H.titlePadding||0,Ib=La-X.x,yc=La-X.y;switch(X.orient){case "left":Wa+=Math.ceil(X.bounds.width())+Ya;break;case "right":case "bottom":break;default:$a+=X.bounds.height()+Ya}(Wa||$a)&&pa(E,va,Wa,$a);switch(X.orient){case "left":yc+=
ob(H,va,X,Ca,1,1);break;case "right":Ib+=ob(H,va,X,"end",0,0)+Ya;yc+=ob(H,va,X,Ca,1,1);break;case "bottom":Ib+=ob(H,va,X,Ca,0,0);yc+=ob(H,va,X,"end",-1,0,1)+Ya;break;default:Ib+=ob(H,va,X,Ca,0,0)}(Ib||yc)&&pa(E,X,Ib,yc);0>(Ib=Math.round(X.bounds.x1-La))&&(pa(E,va,-Ib,0),pa(E,X,-Ib,0))}else(Wa||$a)&&pa(E,va,Wa,$a);Y=Wb(H,Y);E=2*H.padding;va=2*H.padding;Y.empty()||(E=Math.ceil(Y.width()+E),va=Math.ceil(Y.height()+va));"symbol"===V.type&&Z(H.items[0].items[0].items[0].items);"none"!==Aa&&(H.x=t=0,H.y=
L=0);H.width=E;H.height=va;P.boundStroke(Y.set(t,L,t+E,L+va),H);H.mark.bounds.clear().union(Y);return H}function Wb(E,H){E.items.forEach(V=>H.union(V.bounds));H.x1=E.padding;H.y1=E.padding;return H}function ob(E,H,V,Aa,Y,t,L){const va=V.datum.vgrad;E=("symbol"===E.datum.type||!t&&va||L?H:H.items[0]).bounds[Y?"y2":"x2"]-E.padding;H=va&&t?E:0;t=va&&t?0:E;V=0>=Y?0:P.multiLineOffset(V);return Math.round("start"===Aa?H:"end"===Aa?t-V:.5*(E-V))}function pa(E,H,V,Aa){H.x+=V;H.y+=Aa;H.bounds.translate(V,
Aa);H.mark.bounds.translate(V,Aa);E.dirty(H)}function Z(E){const H=E.reduce((V,Aa)=>{V[Aa.column]=Math.max(Aa.bounds.x2-Aa.x,V[Aa.column]||0);return V},{});E.forEach(V=>{V.width=H[V.column];V.height=V.bounds.y2-V.y})}function Fa(E,H,V,Aa,Y){var t=H.items[0],L=t.orient,va=t.anchor,La=t.offset,Wa=t.padding,$a=t.items[0].items[0],X=t.items[1]&&t.items[1].items[0],Ca="left"===L||"right"===L?Aa:V,Ya=0,Ib=V=0;"group"!==t.frame?"left"===L?(Ya=Y.y2,Ca=Y.y1):"right"===L?(Ya=Y.y1,Ca=Y.y2):(Ya=Y.x1,Ca=Y.x2):
"left"===L&&(Ya=Aa,Ca=0);Aa="start"===va?Ya:"end"===va?Ca:(Ya+Ca)/2;if(X&&X.text){switch(L){case "top":case "bottom":Ib=$a.bounds.height()+Wa;break;case "left":V=$a.bounds.width()+Wa;break;case "right":V=-$a.bounds.width()-Wa}C.clear().union(X.bounds);C.translate(V-(X.x||0),Ib-(X.y||0));Ua(X,"x",V)|Ua(X,"y",Ib)&&(E.dirty(X),X.bounds.clear().union(C),X.mark.bounds.clear().union(C),E.dirty(X));C.clear().union(X.bounds)}else C.clear();C.union($a.bounds);switch(L){case "top":L=Aa;Y=Y.y1-C.height()-La;
break;case "left":L=Y.x1-C.width()-La;Y=Aa;break;case "right":L=Y.x2+C.width()+La;Y=Aa;break;case "bottom":L=Aa;Y=Y.y2+La;break;default:L=t.x,Y=t.y}Ua(t,"x",L)|Ua(t,"y",Y)&&(C.translate(L,Y),E.dirty(t),t.bounds.clear().union(C),H.bounds.clear().union(C),E.dirty(t));return t.bounds}function Ga(E){k.Transform.call(this,null,E)}function db(E){return E&&"legend-entry"!==E.mark.role}function ba(E,H,V){var Aa=H.items,Y=Math.max(0,H.width||0),t=Math.max(0,H.height||0),L=(new P.Bounds).set(0,0,Y,t),va=L.clone(),
La=L.clone(),Wa=[],$a,X;var Ca=0;for(X=Aa.length;Ca<X;++Ca){var Ya=Aa[Ca];switch(Ya.role){case "axis":var Ib=ub(Ya)?va:La;Ib.union(Kb(E,Ya,Y,t));break;case "title":var yc=Ya;break;case "legend":Wa.push(Qb(E,Ya));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":va.union(Ya.bounds);La.union(Ya.bounds);break;default:L.union(Ya.bounds)}}if(Wa.length){const sc={};Wa.forEach(xc=>{$a=xc.orient||"right";"none"!==
$a&&(sc[$a]||(sc[$a]=[])).push(xc)});for(const xc in sc)Aa=sc[xc],Qa(E,Aa,sb(Aa,xc,V.legends,va,La,Y,t));Wa.forEach(xc=>{const cd=xc.bounds;cd.equals(xc._bounds)||(xc.bounds=xc._bounds,E.dirty(xc),xc.bounds=cd,E.dirty(xc));if(!V.autosize||"fit"!==V.autosize.type&&"fit-x"!==V.autosize.type&&"fit-y"!==V.autosize.type)L.union(cd);else switch(xc.orient){case "left":case "right":L.add(cd.x1,0).add(cd.x2,0);break;case "top":case "bottom":L.add(0,cd.y1).add(0,cd.y2)}})}L.union(va).union(La);yc&&L.union(Fa(E,
yc,Y,t,L));H.clip&&L.set(0,0,H.width||0,H.height||0);na(E,H,L,V)}function na(E,H,V,Aa){Aa=Aa.autosize||{};const Y=Aa.type;if(!(1>E._autosize)&&Y){var t=E._width,L=E._height,va=Math.max(0,H.width||0),La=Math.max(0,Math.ceil(-V.x1));H=Math.max(0,H.height||0);var Wa=Math.max(0,Math.ceil(-V.y1)),$a=Math.max(0,Math.ceil(V.x2-va));V=Math.max(0,Math.ceil(V.y2-H));if("padding"===Aa.contains){const X=E.padding();t-=X.left+X.right;L-=X.top+X.bottom}"none"===Y?(Wa=La=0,va=t,H=L):"fit"===Y?(va=Math.max(0,t-La-
$a),H=Math.max(0,L-Wa-V)):"fit-x"===Y?(va=Math.max(0,t-La-$a),L=H+Wa+V):"fit-y"===Y?(t=va+La+$a,H=Math.max(0,L-Wa-V)):"pad"===Y&&(t=va+La+$a,L=H+Wa+V);E._resizeView(t,L,va,H,[La,Wa],Aa.resize)}}ib.inherits(Gb,k.Transform,{transform(E,H){const V=H.dataflow,Aa=E.mark,Y=Aa.marktype,t=P.Marks[Y],L=t.bound;let va=Aa.bounds,La;if(t.nested)Aa.items.length&&V.dirty(Aa.items[0]),va=ac(Aa,L),Aa.items.forEach(Wa=>{Wa.bounds.clear().union(va)});else if("group"===Y||E.modified())switch(H.visit(H.MOD,Wa=>V.dirty(Wa)),
va.clear(),Aa.items.forEach(Wa=>va.union(ac(Wa,L))),Aa.role){case "axis":case "legend":case "title":H.reflow()}else La=H.changed(H.REM),H.visit(H.ADD,Wa=>{va.union(ac(Wa,L))}),H.visit(H.MOD,Wa=>{La=La||va.alignsWith(Wa.bounds);V.dirty(Wa);va.union(ac(Wa,L))}),La&&(va.clear(),Aa.items.forEach(Wa=>va.union(Wa.bounds)));P.boundClip(Aa);return H.modifies("bounds")}});vc.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};ib.inherits(vc,k.Transform,{transform(E,
H){const V=Ac(H.dataflow),Aa=E.as;let Y=V.value;H.visit(H.ADD,t=>t[Aa]=t[Aa]||++Y);V.set(this.value=Y);return H}});ib.inherits(uc,k.Transform,{transform(E,H){let V=this.value;V||(V=H.dataflow.scenegraph().mark(E.markdef,Bb(E),E.index),V.group.context=E.context,E.context.group||(E.context.group=V.group),V.source=this.source,V.clip=E.clip,V.interactive=E.interactive,this.value=V);const Aa="group"===V.marktype?P.GroupItem:P.Item;H.visit(H.ADD,Y=>Aa.call(Y,V));if(E.modified("clip")||E.modified("interactive"))V.clip=
E.clip,V.interactive=!!E.interactive,V.zdirty=!0,H.reflow();V.items=H.source;return H}});const q={parity:E=>E.filter((H,V)=>V%2?H.opacity=0:1),greedy:(E,H)=>{let V;return E.filter((Aa,Y)=>Y&&M(V.bounds,Aa.bounds,H)?Aa.opacity=0:(V=Aa,1))}},M=(E,H,V)=>V>Math.max(H.x1-E.x2,E.x1-H.x2,H.y1-E.y2,E.y1-H.y2),Q=(E,H)=>{for(var V=1,Aa=E.length,Y=E[0].bounds;V<Aa;++V)if(M(Y,Y=E[V].bounds,H))return!0},g=E=>{E=E.bounds;return 1<E.width()&&1<E.height()},u=(E,H,V)=>{E=E.range();var Aa=new P.Bounds;"top"===H||"bottom"===
H?Aa.set(E[0],-Infinity,E[1],Infinity):Aa.set(-Infinity,E[0],Infinity,E[1]);Aa.expand(V||1);return Y=>Aa.encloses(Y.bounds)},m=E=>{E.forEach(H=>H.opacity=1);return E};ib.inherits(jc,k.Transform,{transform(E,H){const V=q[E.method]||q.parity,Aa=E.separation||0;let Y=H.materialize(H.SOURCE).source,t,L;if(Y&&Y.length){if(!E.method)return E.modified("method")&&(m(Y),H=H.reflow(E.modified()).modifies("opacity")),H;Y=Y.filter(g);if(Y.length){E.sort&&(Y=Y.slice().sort(E.sort));t=m(Y);H=H.reflow(E.modified()).modifies("opacity");
if(3<=t.length&&Q(t,Aa)){do t=V(t,Aa);while(3<=t.length&&Q(t,Aa));3>t.length&&!ib.peek(Y).opacity&&(1<t.length&&(ib.peek(t).opacity=0),ib.peek(Y).opacity=1)}E.boundScale&&0<=E.boundTolerance&&(L=u(E.boundScale,E.boundOrient,+E.boundTolerance),Y.forEach(La=>{L(La)||(La.opacity=0)}));var va=t[0].mark.bounds.clear();Y.forEach(La=>{La.opacity&&va.union(La.bounds)});return H}}}});ib.inherits(Yb,k.Transform,{transform(E,H){const V=H.dataflow;H.visit(H.ALL,Aa=>V.dirty(Aa));H.fields&&H.fields.zindex&&(E=
H.source&&H.source[0])&&(E.mark.zdirty=!0)}});const C=new P.Bounds,B=(E,H)=>Math.floor(Math.min(E,H)),A=(E,H)=>Math.ceil(Math.max(E,H));ib.inherits(Ga,k.Transform,{transform(E,H){const V=H.dataflow;E.mark.items.forEach(Aa=>{if(E.layout){var Y=E.layout;var t=Aa.items;for(var L=t.length,va=0,La,Wa,$a={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};va<L;++va)if(La=t[va],Wa=La.items,"group"===La.marktype)switch(La.role){case "axis":case "legend":case "title":break;
case "row-header":$a.rowheaders.push(...Wa);break;case "row-footer":$a.rowfooters.push(...Wa);break;case "column-header":$a.colheaders.push(...Wa);break;case "column-footer":$a.colfooters.push(...Wa);break;case "row-title":$a.rowtitle=Wa[0];break;case "column-title":$a.coltitle=Wa[0];break;default:$a.marks.push(...Wa)}t=$a;Wa=t.marks;$a="flush"===Y.bounds?Da:Ka;L=Y.offset;var X=Y.columns||Wa.length,Ca=0>=X?1:Math.ceil(Wa.length/X),Ya=Ca*X;va=Qa(V,Wa,Y);va.empty()&&va.set(0,0,0,0);if(t.rowheaders){La=
ab(Y.headerBand,"row",null);var Ib=lb(V,t.rowheaders,Wa,X,Ca,-ab(L,"rowHeader"),B,0,$a,"x1",0,X,1,La)}if(t.colheaders){La=ab(Y.headerBand,"column",null);var yc=lb(V,t.colheaders,Wa,X,X,-ab(L,"columnHeader"),B,1,$a,"y1",0,1,X,La)}if(t.rowfooters){La=ab(Y.footerBand,"row",null);var sc=lb(V,t.rowfooters,Wa,X,Ca,ab(L,"rowFooter"),A,0,$a,"x2",X-1,X,1,La)}if(t.colfooters){La=ab(Y.footerBand,"column",null);var xc=lb(V,t.colfooters,Wa,X,X,ab(L,"columnFooter"),A,1,$a,"y2",Ya-X,1,X,La)}t.rowtitle&&(La=ab(Y.titleAnchor,
"row"),Wa=ab(L,"rowTitle"),Wa="end"===La?sc+Wa:Ib-Wa,La=ab(Y.titleBand,"row",.5),mb(V,t.rowtitle,Wa,0,va,La));t.coltitle&&(La=ab(Y.titleAnchor,"column"),Wa=ab(L,"columnTitle"),Wa="end"===La?xc+Wa:yc-Wa,La=ab(Y.titleBand,"column",.5),mb(V,t.coltitle,Wa,1,va,La))}ba(V,Aa,E)});return db(E.mark.group)?H.reflow():H}});v.bound=Gb;v.identifier=vc;v.mark=uc;v.overlap=jc;v.render=Yb;v.viewlayout=Ga})};
shadow$provide[36]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(29),Db(33),Db(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scale","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega))})(this,function(v,k,P,ib){function Gb(sa){k.Transform.call(this,null,sa)}function ac(sa){k.Transform.call(this,null,sa)}function vc(){return k.ingest({})}function Ac(sa){const G=ib.fastmap().test(ya=>
ya.exit);G.lookup=ya=>G.get(sa(ya));return G}function uc(sa){k.Transform.call(this,null,sa)}function Bb(sa){k.Transform.call(this,[],sa)}function jc(sa){k.Transform.call(this,{},sa)}function Yb(sa,G,ya){sa=+sa;G=+G;ya=2>(Za=arguments.length)?(G=sa,sa=0,1):3>Za?1:+ya;for(var Na=-1,Za=Math.max(0,Math.ceil((G-sa)/ya))|0,kb=Array(Za);++Na<Za;)kb[Na]=sa+Na*ya;return kb}function Ua(sa,G){let ya=0;if(void 0===G)for(var Na of sa){if(Na=+Na)ya+=Na}else{Na=-1;for(let Za of sa)if(Za=+G(Za,++Na,sa))ya+=Za}return ya}
function ub(sa){k.Transform.call(this,null,sa)}function Kb(sa,G,ya){sa.prototype=G.prototype=ya;ya.constructor=sa}function Lb(sa,G){sa=Object.create(sa.prototype);for(var ya in G)sa[ya]=G[ya];return sa}function Cb(){}function Pb(){return this.rgb().formatHex()}function ab(){return this.rgb().formatRgb()}function pb(sa){var G,ya;sa=(sa+"").trim().toLowerCase();return(G=Ma.exec(sa))?(ya=G[1].length,G=parseInt(G[1],16),6===ya?Qa(G):3===ya?new lb(G>>8&15|G>>4&240,G>>4&15|G&240,(G&15)<<4|G&15,1):8===ya?
Da(G>>24&255,G>>16&255,G>>8&255,(G&255)/255):4===ya?Da(G>>12&15|G>>8&240,G>>8&15|G>>4&240,G>>4&15|G&240,((G&15)<<4|G&15)/255):null):(G=Vb.exec(sa))?new lb(G[1],G[2],G[3],1):(G=qb.exec(sa))?new lb(255*G[1]/100,255*G[2]/100,255*G[3]/100,1):(G=Tb.exec(sa))?Da(G[1],G[2],G[3],G[4]):(G=gc.exec(sa))?Da(255*G[1]/100,255*G[2]/100,255*G[3]/100,G[4]):(G=cc.exec(sa))?Wb(G[1],G[2]/100,G[3]/100,1):(G=Ic.exec(sa))?Wb(G[1],G[2]/100,G[3]/100,G[4]):zc.hasOwnProperty(sa)?Qa(zc[sa]):"transparent"===sa?new lb(NaN,NaN,
NaN,0):null}function Qa(sa){return new lb(sa>>16&255,sa>>8&255,sa&255,1)}function Da(sa,G,ya,Na){0>=Na&&(sa=G=ya=NaN);return new lb(sa,G,ya,Na)}function Ka(sa,G,ya,Na){if(1===arguments.length){var Za=sa;Za instanceof Cb||(Za=pb(Za));Za?(Za=Za.rgb(),Za=new lb(Za.r,Za.g,Za.b,Za.opacity)):Za=new lb}else Za=new lb(sa,G,ya,null==Na?1:Na);return Za}function lb(sa,G,ya,Na){this.r=+sa;this.g=+G;this.b=+ya;this.opacity=+Na}function mb(){return`#${Qb(this.r)}${Qb(this.g)}${Qb(this.b)}`}function Pa(){const sa=
xb(this.opacity);return`${1===sa?"rgb(":"rgba("}${sb(this.r)}, ${sb(this.g)}, ${sb(this.b)}${1===sa?")":`, ${sa})`}`}function xb(sa){return isNaN(sa)?1:Math.max(0,Math.min(1,sa))}function sb(sa){return Math.max(0,Math.min(255,Math.round(sa)||0))}function Qb(sa){sa=sb(sa);return(16>sa?"0":"")+sa.toString(16)}function Wb(sa,G,ya,Na){0>=Na?sa=G=ya=NaN:0>=ya||1<=ya?sa=G=NaN:0>=G&&(sa=NaN);return new pa(sa,G,ya,Na)}function ob(sa){if(sa instanceof pa)return new pa(sa.h,sa.s,sa.l,sa.opacity);sa instanceof
Cb||(sa=pb(sa));if(!sa)return new pa;if(sa instanceof pa)return sa;sa=sa.rgb();var G=sa.r/255,ya=sa.g/255,Na=sa.b/255,Za=Math.min(G,ya,Na),kb=Math.max(G,ya,Na),Fb=NaN,nc=kb-Za,ec=(kb+Za)/2;nc?(Fb=G===kb?(ya-Na)/nc+6*(ya<Na):ya===kb?(Na-G)/nc+2:(G-ya)/nc+4,nc/=.5>ec?kb+Za:2-kb-Za,Fb*=60):nc=0<ec&&1>ec?0:Fb;return new pa(Fb,nc,ec,sa.opacity)}function pa(sa,G,ya,Na){this.h=+sa;this.s=+G;this.l=+ya;this.opacity=+Na}function Z(sa){sa=(sa||0)%360;return 0>sa?sa+360:sa}function Fa(sa){return Math.max(0,
Math.min(1,sa||0))}function Ga(sa,G,ya){return 255*(60>sa?G+(ya-G)*sa/60:180>sa?ya:240>sa?G+(ya-G)*(240-sa)/60:G)}function db(sa,G){return function(ya){return sa+ya*G}}function ba(sa,G,ya){return sa=Math.pow(sa,ya),G=Math.pow(G,ya)-sa,ya=1/ya,function(Na){return Math.pow(sa+Na*G,ya)}}function na(sa){return 1===(sa=+sa)?q:function(G,ya){return ya-G?ba(G,ya,sa):Yc(isNaN(G)?ya:G)}}function q(sa,G){var ya=G-sa;return ya?db(sa,ya):Yc(isNaN(sa)?G:sa)}function M(sa,G){G||(G=[]);var ya=sa?Math.min(G.length,
sa.length):0,Na=G.slice(),Za;return function(kb){for(Za=0;Za<ya;++Za)Na[Za]=sa[Za]*(1-kb)+G[Za]*kb;return Na}}function Q(sa,G){var ya=G?G.length:0,Na=sa?Math.min(ya,sa.length):0,Za=Array(Na),kb=Array(ya),Fb;for(Fb=0;Fb<Na;++Fb)Za[Fb]=E(sa[Fb],G[Fb]);for(;Fb<ya;++Fb)kb[Fb]=G[Fb];return function(nc){for(Fb=0;Fb<Na;++Fb)kb[Fb]=Za[Fb](nc);return kb}}function g(sa,G){var ya=new Date;return sa=+sa,G=+G,function(Na){return ya.setTime(sa*(1-Na)+G*Na),ya}}function u(sa,G){return sa=+sa,G=+G,function(ya){return sa*
(1-ya)+G*ya}}function m(sa,G){var ya={},Na={},Za;if(null===sa||"object"!==typeof sa)sa={};if(null===G||"object"!==typeof G)G={};for(Za in G)Za in sa?ya[Za]=E(sa[Za],G[Za]):Na[Za]=G[Za];return function(kb){for(Za in ya)Na[Za]=ya[Za](kb);return Na}}function C(sa){return function(){return sa}}function B(sa){return function(G){return sa(G)+""}}function A(sa,G){var ya=ud.lastIndex=Ha.lastIndex=0,Na,Za,kb,Fb=-1,nc=[],ec=[];sa+="";for(G+="";(Na=ud.exec(sa))&&(Za=Ha.exec(G));)(kb=Za.index)>ya&&(kb=G.slice(ya,
kb),nc[Fb]?nc[Fb]+=kb:nc[++Fb]=kb),(Na=Na[0])===(Za=Za[0])?nc[Fb]?nc[Fb]+=Za:nc[++Fb]=Za:(nc[++Fb]=null,ec.push({i:Fb,x:u(Na,Za)})),ya=Ha.lastIndex;ya<G.length&&(kb=G.slice(ya),nc[Fb]?nc[Fb]+=kb:nc[++Fb]=kb);return 2>nc.length?ec[0]?B(ec[0].x):C(G):(G=ec.length,function(ic){for(var Tc=0,dd;Tc<G;++Tc)nc[(dd=ec[Tc]).i]=dd.x(ic);return nc.join("")})}function E(sa,G){var ya=typeof G;if(null==G||"boolean"===ya)sa=Yc(G);else{if("number"===ya)var Na=u;else"string"===ya?ya=(Na=pb(G))?(G=Na,Md):A:(G instanceof
pb?Na=Md:G instanceof Date?Na=g:(Na=G,Na=!ArrayBuffer.isView(Na)||Na instanceof DataView?Array.isArray(G)?Q:"function"!==typeof G.valueOf&&"function"!==typeof G.toString||isNaN(G)?m:u:M),ya=Na),Na=ya;sa=Na(sa,G)}return sa}function H(sa,G){return sa=+sa,G=+G,function(ya){return Math.round(sa*(1-ya)+G*ya)}}function V(sa){return P.isContinuous(sa)&&sa!==P.Sequential}function Aa(sa){k.Transform.call(this,null,sa);this.modified(!0)}function Y(sa,G,ya){P.isLogarithmic(sa)&&Math.abs(G.reduce((Na,Za)=>Na+
(0>Za?-1:0<Za?1:0),0))!==G.length&&ya.warn("Log scale domain includes zero: "+ib.stringValue(G));return G}function t(sa,G,ya){return ib.isFunction(sa)&&(G||ya)?P.interpolateRange(sa,L(G||[0,1],ya)):sa}function L(sa,G){return G?sa.slice().reverse():sa}function va(sa){k.Transform.call(this,null,sa)}function La(sa){k.Transform.call(this,null,sa)}function Wa(sa,G,ya,Na,Za){G=(G-sa.sum)/2;for(var kb=sa.length,Fb=0,nc;Fb<kb;++Fb)nc=sa[Fb],nc[Na]=G,nc[Za]=G+=Math.abs(ya(nc))}function $a(sa,G,ya,Na,Za){G=
1/sa.sum;for(var kb=0,Fb=sa.length,nc=0,ec=0,ic;nc<Fb;++nc)ic=sa[nc],ic[Na]=kb,ic[Za]=kb=G*(ec+=Math.abs(ya(ic)))}function X(sa,G,ya,Na,Za){for(var kb=G=0,Fb=sa.length,nc=0,ec,ic;nc<Fb;++nc)ic=sa[nc],ec=+ya(ic),0>ec?(ic[Na]=kb,ic[Za]=kb+=ec):(ic[Na]=G,ic[Za]=G+=ec)}function Ca(sa,G,ya,Na){var Za=[],kb=ed=>ed(ic),Fb;if(null==G)Za.push(sa.slice());else{var nc={};var ec=0;for(Fb=sa.length;ec<Fb;++ec){var ic=sa[ec];var Tc=G.map(kb);var dd=nc[Tc];dd||(nc[Tc]=dd=[],Za.push(dd));dd.push(ic)}}kb=Tc=0;for(sa=
Za.length;Tc<sa;++Tc){dd=Za[Tc];G=ec=0;for(Fb=dd.length;ec<Fb;++ec)G+=Math.abs(Na(dd[ec]));dd.sum=G;G>kb&&(kb=G);ya&&dd.sort(ya)}Za.max=kb;return Za}ib.inherits(Gb,k.Transform,{transform(sa,G){if(this.value&&!sa.modified())return G.StopPropagation;var ya=G.dataflow.locale();G=G.fork(G.NO_SOURCE|G.NO_FIELDS);var Na=this.value,Za=sa.scale,kb=P.tickCount(Za,null==sa.count?sa.values?sa.values.length:10:sa.count,sa.minstep),Fb=sa.format||P.tickFormat(ya,Za,kb,sa.formatSpecifier,sa.formatType,!!sa.values),
nc=sa.values?P.validTicks(Za,sa.values,kb):P.tickValues(Za,kb);Na&&(G.rem=Na);Na=nc.map((ec,ic)=>k.ingest({index:ic/(nc.length-1||1),value:ec,label:Fb(ec)}));sa.extra&&Na.length&&Na.push(k.ingest({index:-1,extra:{value:Na[0].value},label:""}));G.source=Na;this.value=G.add=Na;return G}});ib.inherits(ac,k.Transform,{transform(sa,G){var ya=G.dataflow,Na=G.fork(G.NO_SOURCE|G.NO_FIELDS),Za=sa.item||vc,kb=sa.key||k.tupleid,Fb=this.value;ib.isArray(Na.encode)&&(Na.encode=null);Fb&&(sa.modified("key")||G.modified(kb))&&
ib.error("DataJoin does not support modified key function or fields.");Fb||(G=G.addAll(),this.value=Fb=Ac(kb));G.visit(G.ADD,nc=>{const ec=kb(nc);let ic=Fb.get(ec);ic?ic.exit?(Fb.empty--,Na.add.push(ic)):Na.mod.push(ic):(ic=Za(nc),Fb.set(ec,ic),Na.add.push(ic));ic.datum=nc;ic.exit=!1});G.visit(G.MOD,nc=>{var ec=kb(nc);if(ec=Fb.get(ec))ec.datum=nc,Na.mod.push(ec)});G.visit(G.REM,nc=>{var ec=kb(nc);ec=Fb.get(ec);nc!==ec.datum||ec.exit||(Na.rem.push(ec),ec.exit=!0,++Fb.empty)});G.changed(G.ADD_MOD)&&
Na.modifies("datum");(G.clean()||sa.clean&&Fb.empty>ya.cleanThreshold)&&ya.runAfter(Fb.clean);return Na}});ib.inherits(uc,k.Transform,{transform(sa,G){var ya=G.fork(G.ADD_REM),Na=sa.mod||!1,Za=sa.encoders,kb=G.encode;if(ib.isArray(kb))if(ya.changed()||kb.every(dd=>Za[dd]))kb=kb[0],ya.encode=null;else return G.StopPropagation;var Fb="enter"===kb,nc=Za.update||ib.falsy,ec=Za.enter||ib.falsy,ic=Za.exit||ib.falsy,Tc=(kb&&!Fb?Za[kb]:nc)||ib.falsy;G.changed(G.ADD)&&(G.visit(G.ADD,dd=>{ec(dd,sa);nc(dd,sa)}),
ya.modifies(ec.output),ya.modifies(nc.output),Tc!==ib.falsy&&Tc!==nc&&(G.visit(G.ADD,dd=>{Tc(dd,sa)}),ya.modifies(Tc.output)));G.changed(G.REM)&&ic!==ib.falsy&&(G.visit(G.REM,dd=>{ic(dd,sa)}),ya.modifies(ic.output));if(Fb||Tc!==ib.falsy)kb=G.MOD|(sa.modified()?G.REFLOW:0),Fb?(G.visit(kb,dd=>{const ed=ec(dd,sa)||Na;(Tc(dd,sa)||ed)&&ya.mod.push(dd)}),ya.mod.length&&ya.modifies(ec.output)):G.visit(kb,dd=>{(Tc(dd,sa)||Na)&&ya.mod.push(dd)}),ya.mod.length&&ya.modifies(Tc.output);return ya.changed()?ya:
G.StopPropagation}});ib.inherits(Bb,k.Transform,{transform(sa,G){if(null!=this.value&&!sa.modified())return G.StopPropagation;var ya=G.dataflow.locale(),Na=G.fork(G.NO_SOURCE|G.NO_FIELDS),Za=this.value,kb=sa.type||P.SymbolLegend,Fb=sa.scale,nc=+sa.limit,ec=P.tickCount(Fb,null==sa.count?5:sa.count,sa.minstep),ic=!!sa.values||kb===P.SymbolLegend,Tc=sa.format||P.labelFormat(ya,Fb,ec,kb,sa.formatSpecifier,sa.formatType,ic),dd=sa.values||P.labelValues(Fb,ec),ed;Za&&(Na.rem=Za);if(kb===P.SymbolLegend){if(nc&&
dd.length>nc){G.dataflow.warn("Symbol legend count exceeds limit, filtering items.");Za=dd.slice(0,nc-1);var Qd=!0}else Za=dd;if(ib.isFunction(ed=sa.size)){sa.values||0!==Fb(Za[0])||(Za=Za.slice(1));var Td=Za.reduce((Zd,de)=>Math.max(Zd,ed(de,sa)),0)}else ed=ib.constant(Td=ed||8);Za=Za.map((Zd,de)=>k.ingest({index:de,label:Tc(Zd,de,Za),value:Zd,offset:Td,size:ed(Zd,sa)}));Qd&&(Qd=dd[Za.length],Za.push(k.ingest({index:Za.length,label:`\u2026${dd.length-Za.length} entries`,value:Qd,offset:Td,size:ed(Qd,
sa)})))}else if(kb===P.GradientLegend){G=Fb.domain();var Fd=P.scaleFraction(Fb,G[0],ib.peek(G));3>dd.length&&!sa.values&&G[0]!==ib.peek(G)&&(dd=[G[0],ib.peek(G)]);Za=dd.map((Zd,de)=>k.ingest({index:de,label:Tc(Zd,de,dd),value:Zd,perc:Fd(Zd)}))}else ed=dd.length-1,Fd=P.labelFraction(Fb),Za=dd.map((Zd,de)=>k.ingest({index:de,label:Tc(Zd,de,dd),value:Zd,perc:de?Fd(Zd):0,perc2:de===ed?1:Fd(dd[de+1])}));Na.source=Za;this.value=Na.add=Za;return Na}});const Ya=sa=>sa.source.x,Ib=sa=>sa.source.y,yc=sa=>sa.target.x,
sc=sa=>sa.target.y;jc.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},
{name:"as",type:"string","default":"path"}]};ib.inherits(jc,k.Transform,{transform(sa,G){var ya=sa.sourceX||Ya,Na=sa.sourceY||Ib,Za=sa.targetX||yc,kb=sa.targetY||sc,Fb=sa.as||"path",nc=sa.shape||"line",ec=Rc.get(nc+"-"+(sa.orient||"vertical"))||Rc.get(nc);ec||ib.error("LinkPath unsupported type: "+sa.shape+(sa.orient?"-"+sa.orient:""));G.visit(G.SOURCE,ic=>{ic[Fb]=ec(ya(ic),Na(ic),Za(ic),kb(ic))});return G.reflow(sa.modified()).modifies(Fb)}});const xc=(sa,G,ya,Na)=>"M"+sa+","+G+"L"+ya+","+Na,cd=
(sa,G,ya,Na)=>{var Za=ya-sa,kb=Na-G,Fb=Math.hypot(Za,kb)/2;return"M"+sa+","+G+"A"+Fb+","+Fb+" "+180*Math.atan2(kb,Za)/Math.PI+" 0 1 "+ya+","+Na},Zb=(sa,G,ya,Na)=>{var Za=ya-sa;const kb=Na-G,Fb=.2*(Za+kb);Za=.2*(kb-Za);return"M"+sa+","+G+"C"+(sa+Fb)+","+(G+Za)+" "+(ya+Za)+","+(Na-Fb)+" "+ya+","+Na},Rc=ib.fastmap({line:xc,"line-radial":(sa,G,ya,Na)=>xc(G*Math.cos(sa),G*Math.sin(sa),Na*Math.cos(ya),Na*Math.sin(ya)),arc:cd,"arc-radial":(sa,G,ya,Na)=>cd(G*Math.cos(sa),G*Math.sin(sa),Na*Math.cos(ya),Na*
Math.sin(ya)),curve:Zb,"curve-radial":(sa,G,ya,Na)=>Zb(G*Math.cos(sa),G*Math.sin(sa),Na*Math.cos(ya),Na*Math.sin(ya)),"orthogonal-horizontal":(sa,G,ya,Na)=>"M"+sa+","+G+"V"+Na+"H"+ya,"orthogonal-vertical":(sa,G,ya,Na)=>"M"+sa+","+G+"H"+ya+"V"+Na,"orthogonal-radial":(sa,G,ya,Na)=>{const Za=Math.cos(ya),kb=Math.sin(ya);return"M"+G*Math.cos(sa)+","+G*Math.sin(sa)+"A"+G+","+G+" 0 0,"+((Math.abs(ya-sa)>Math.PI?ya<=sa:ya>sa)?1:0)+" "+G*Za+","+G*kb+"L"+Na*Za+","+Na*kb},"diagonal-horizontal":(sa,G,ya,Na)=>
{const Za=(sa+ya)/2;return"M"+sa+","+G+"C"+Za+","+G+" "+Za+","+Na+" "+ya+","+Na},"diagonal-vertical":(sa,G,ya,Na)=>{const Za=(G+Na)/2;return"M"+sa+","+G+"C"+sa+","+Za+" "+ya+","+Za+" "+ya+","+Na},"diagonal-radial":(sa,G,ya,Na)=>{const Za=Math.cos(sa);sa=Math.sin(sa);const kb=Math.cos(ya);ya=Math.sin(ya);const Fb=(G+Na)/2;return"M"+G*Za+","+G*sa+"C"+Fb*Za+","+Fb*sa+" "+Fb*kb+","+Fb*ya+" "+Na*kb+","+Na*ya}});ub.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",
type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};ib.inherits(ub,k.Transform,{transform(sa,G){var ya=sa.as||["startAngle","endAngle"],Na=ya[0],Za=ya[1],kb=sa.startAngle||0,Fb=null!=sa.endAngle?sa.endAngle:2*Math.PI,nc=G.source,ec=nc.map(sa.field||ib.one),ic=ec.length,Tc=kb;kb=(Fb-kb)/Ua(ec);Fb=Yb(ic);var dd;sa.sort&&Fb.sort((Td,Fd)=>ec[Td]-
ec[Fd]);for(dd=0;dd<ic;++dd){var ed=ec[Fb[dd]];var Qd=nc[Fb[dd]];Qd[Na]=Tc;Qd[Za]=Tc+=ed*kb}this.value=ec;return G.reflow(sa.modified()).modifies(ya)}});var Pd=1/.7,Ma=/^#([0-9a-f]{3,8})$/,Vb=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),qb=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Tb=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
gc=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),cc=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Ic=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
zc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Kb(Cb,pb,{copy(sa){return Object.assign(new this.constructor,this,sa)},displayable(){return this.rgb().displayable()},hex:Pb,formatHex:Pb,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ob(this).formatHsl()},formatRgb:ab,toString:ab});Kb(lb,Ka,Lb(Cb,{brighter(sa){sa=null==sa?Pd:Math.pow(Pd,sa);return new lb(this.r*sa,this.g*sa,this.b*sa,this.opacity)},
darker(sa){sa=null==sa?.7:Math.pow(.7,sa);return new lb(this.r*sa,this.g*sa,this.b*sa,this.opacity)},rgb(){return this},clamp(){return new lb(sb(this.r),sb(this.g),sb(this.b),xb(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:mb,formatHex:mb,formatHex8:function(){return`#${Qb(this.r)}${Qb(this.g)}${Qb(this.b)}${Qb(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Pa,toString:Pa}));Kb(pa,
function(sa,G,ya,Na){return 1===arguments.length?ob(sa):new pa(sa,G,ya,null==Na?1:Na)},Lb(Cb,{brighter(sa){sa=null==sa?Pd:Math.pow(Pd,sa);return new pa(this.h,this.s,this.l*sa,this.opacity)},darker(sa){sa=null==sa?.7:Math.pow(.7,sa);return new pa(this.h,this.s,this.l*sa,this.opacity)},rgb(){var sa=this.h%360+360*(0>this.h),G=isNaN(sa)||isNaN(this.s)?0:this.s,ya=this.l;G=ya+(.5>ya?ya:1-ya)*G;ya=2*ya-G;return new lb(Ga(240<=sa?sa-240:sa+120,ya,G),Ga(sa,ya,G),Ga(120>sa?sa+240:sa-120,ya,G),this.opacity)},
clamp(){return new pa(Z(this.h),Fa(this.s),Fa(this.l),xb(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const sa=xb(this.opacity);return`${1===sa?"hsl(":"hsla("}${Z(this.h)}, ${100*Fa(this.s)}%, ${100*Fa(this.l)}%${1===sa?")":`, ${sa})`}`}}));var Yc=sa=>()=>sa,Md=function ya(G){function Na(kb,Fb){var nc=Za((kb=Ka(kb)).r,(Fb=Ka(Fb)).r),ec=Za(kb.g,Fb.g),ic=Za(kb.b,Fb.b),Tc=q(kb.opacity,Fb.opacity);return function(dd){kb.r=
nc(dd);kb.g=ec(dd);kb.b=ic(dd);kb.opacity=Tc(dd);return kb+""}}var Za=na(G);Na.gamma=ya;return Na}(1),ud=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ha=new RegExp(ud.source,"g");const gb=ib.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));ib.inherits(Aa,k.Transform,{transform(G,ya){var Na=ya.dataflow,Za=this.value;var kb=G.type;var Fb=
"";if(kb===P.Sequential)kb=P.Sequential+"-"+P.Linear;else{var nc=G.type;P.isContinuous(nc)&&nc!==P.Time&&nc!==P.UTC&&(G.scheme||G.range&&G.range.length&&G.range.every(ib.isString))&&(Fb=G.rawDomain?G.rawDomain.length:G.domain?G.domain.length+ +(null!=G.domainMid):0,Fb=2===Fb?P.Sequential+"-":3===Fb?P.Diverging+"-":"");kb=(Fb+kb||P.Linear).toLowerCase()}Za&&kb===Za.type||(this.value=Za=P.scale(kb)());for(kb in G)gb[kb]||"padding"===kb&&V(Za.type)||(ib.isFunction(Za[kb])?Za[kb](G[kb]):Na.warn("Unsupported scale property: "+
kb));Fb=kb=Za;(nc=G.domainRaw)?(Za.domain(Y(Za.type,nc,Na)),nc=nc.length):nc=-1;if(-1<nc)Na=nc;else{var ec=G.domain;nc=Za.type;var ic;!(ic=G.zero)&&(ic=void 0===G.zero)&&(ic=Za.type,ic=!Za.bins&&(ic===P.Linear||ic===P.Pow||ic===P.Sqrt));if(ec){if(V(nc)&&G.padding&&ec[0]!==ib.peek(ec)){var Tc=G.range,dd=G.padding;var ed=G.exponent;var Qd=G.constant;Tc=Math.abs(ib.peek(Tc)-Tc[0]);dd=Tc/(Tc-2*dd);ed=nc===P.Log?ib.zoomLog(ec,null,dd):nc===P.Sqrt?ib.zoomPow(ec,null,dd,.5):nc===P.Pow?ib.zoomPow(ec,null,
dd,ed||1):nc===P.Symlog?ib.zoomSymlog(ec,null,dd,Qd||1):ib.zoomLinear(ec,null,dd);ec=ec.slice();ec[0]=ed[0];ec[ec.length-1]=ed[1]}if(ic||null!=G.domainMin||null!=G.domainMax||null!=G.domainMid)ed=(ec=ec.slice()).length-1||1,ic&&(0<ec[0]&&(ec[0]=0),0>ec[ed]&&(ec[ed]=0)),null!=G.domainMin&&(ec[0]=G.domainMin),null!=G.domainMax&&(ec[ed]=G.domainMax),null!=G.domainMid&&(ic=G.domainMid,Qd=ic>ec[ed]?ed+1:ic<ec[0]?0:ed,Qd!==ed&&Na.warn("Scale domainMid exceeds domain min or max.",ic),ec.splice(Qd,0,ic));
Za.domain(Y(nc,ec,Na));nc===P.Ordinal&&Za.unknown(G.domainImplicit?P.scaleImplicit:void 0);G.nice&&Za.nice&&Za.nice(!0!==G.nice&&P.tickCount(Za,G.nice)||null);Na=ec.length}else Na=0}(nc=G.bins)&&!ib.isArray(nc)&&(ic=Fb.domain(),Za=ic[0],ic=ib.peek(ic),ec=nc.step,ed=null==nc.start?Za:nc.start,nc=null==nc.stop?ic:nc.stop,ec||ib.error("Scale bins parameter missing step property."),ed<Za&&(ed=ec*Math.ceil(Za/ec)),nc>ic&&(nc=ec*Math.floor(ic/ec)),nc=Yb(ed,nc+ec/2,ec));nc?Fb.bins=nc:Fb.bins&&delete Fb.bins;
Fb.type===P.BinOrdinal&&(nc?G.domain||G.domainRaw||(Fb.domain(nc),Na=nc.length):Fb.bins=Fb.domain());Za=Na;a:{Fb=kb.type;Na=G.round||!1;nc=G.range;if(null!=G.rangeStep)Fb!==P.Band&&Fb!==P.Point&&ib.error("Only band and point scales support rangeStep."),nc=[0,G.rangeStep*P.bandSpace(Za,Fb===P.Point?1:(null!=G.paddingInner?G.paddingInner:G.padding)||0,(null!=G.paddingOuter?G.paddingOuter:G.padding)||0)];else if(G.scheme&&(nc=G.schemeExtent,ib.isArray(G.scheme)?ic=P.interpolateColors(G.scheme,G.interpolate,
G.interpolateGamma):(ic=G.scheme.toLowerCase(),(ic=P.scheme(ic))||ib.error(`Unrecognized scheme name: ${G.scheme}`)),Za=Fb===P.Threshold?Za+1:Fb===P.BinOrdinal?Za-1:Fb===P.Quantile||Fb===P.Quantize?+G.schemeCount||5:Za,nc=P.isInterpolating(Fb)?t(ic,nc,G.reverse):ib.isFunction(ic)?P.quantizeInterpolator(t(ic,nc),Za):Fb===P.Ordinal?ic:ic.slice(0,Za),ib.isFunction(nc)))if(kb.interpolator){kb.interpolator(nc);break a}else ib.error(`Scale type ${Fb} does not support interpolating color schemes.`);nc&&
P.isInterpolating(Fb)?kb.interpolator(P.interpolateColors(L(nc,G.reverse),G.interpolate,G.interpolateGamma)):(nc&&G.interpolate&&kb.interpolate?kb.interpolate(P.interpolate(G.interpolate,G.interpolateGamma)):ib.isFunction(kb.round)?kb.round(Na):ib.isFunction(kb.rangeRound)&&kb.interpolate(Na?H:E),nc&&kb.range(L(nc,G.reverse)))}return ya.fork(ya.NO_SOURCE|ya.NO_FIELDS)}});ib.inherits(va,k.Transform,{transform(G,ya){const Na=G.modified("sort")||ya.changed(ya.ADD)||ya.modified(G.sort.fields)||ya.modified("datum");
Na&&ya.source.sort(k.stableCompare(G.sort));this.modified(Na);return ya}});const wb=["y0","y1"];La.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":wb}]};ib.inherits(La,k.Transform,{transform(G,ya){var Na=G.as||wb,Za=Na[0],kb=Na[1],Fb=k.stableCompare(G.sort),nc=G.field||
ib.one,ec="center"===G.offset?Wa:"normalize"===G.offset?$a:X,ic;Fb=Ca(ya.source,G.groupby,Fb,nc);var Tc=0;var dd=Fb.length;for(ic=Fb.max;Tc<dd;++Tc)ec(Fb[Tc],ic,nc,Za,kb);return ya.reflow(G.modified()).modifies(Na)}});v.axisticks=Gb;v.datajoin=ac;v.encode=uc;v.legendentries=Bb;v.linkpath=jc;v.pie=ub;v.scale=Aa;v.sortitems=va;v.stack=La})};
shadow$provide[37]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(33)):"function"===typeof define&&define.amd?define(["exports","vega-scale"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega))})(this,function(v,k){function*P(I){for(const ka of I)yield*ka}function ib(I){return 1<I?0:-1>I?ic:Math.acos(I)}function Gb(I){return 1<I?Tc:-1>I?-Tc:Math.asin(I)}function ac(){}function vc(I,ka){if(I&&Bc.hasOwnProperty(I.type))Bc[I.type](I,
ka)}function Ac(I,ka,ta){var Ja=-1;ta=I.length-ta;for(ka.lineStart();++Ja<ta;){var jb=I[Ja];ka.point(jb[0],jb[1],jb[2])}ka.lineEnd()}function uc(I,ka){var ta=-1,Ja=I.length;for(ka.polygonStart();++ta<Ja;)Ac(I[ta],ka,1);ka.polygonEnd()}function Bb(I,ka){if(I&&Xb.hasOwnProperty(I.type))Xb[I.type](I,ka);else vc(I,ka)}function jc(I){return[de(I[1],I[0]),Gb(I[2])]}function Yb(I){var ka=I[0];I=I[1];var ta=Ud(I);return[ta*Ud(ka),ta*la(ka),la(I)]}function Ua(I,ka){return I[0]*ka[0]+I[1]*ka[1]+I[2]*ka[2]}
function ub(I,ka){return[I[1]*ka[2]-I[2]*ka[1],I[2]*ka[0]-I[0]*ka[2],I[0]*ka[1]-I[1]*ka[0]]}function Kb(I,ka){I[0]+=ka[0];I[1]+=ka[1];I[2]+=ka[2]}function Lb(I,ka){return[I[0]*ka,I[1]*ka,I[2]*ka]}function Cb(I){var ka=fb(I[0]*I[0]+I[1]*I[1]+I[2]*I[2]);I[0]/=ka;I[1]/=ka;I[2]/=ka}function Pb(I,ka){function ta(Ja,jb){return Ja=I(Ja,jb),ka(Ja[0],Ja[1])}I.invert&&ka.invert&&(ta.invert=function(Ja,jb){return Ja=ka.invert(Ja,jb),Ja&&I.invert(Ja[0],Ja[1])});return ta}function ab(I,ka){Fd(I)>ic&&(I-=Math.round(I/
ed)*ed);return[I,ka]}function pb(I,ka,ta){return(I%=ed)?ka||ta?Pb(Da(I),Ka(ka,ta)):Da(I):ka||ta?Ka(ka,ta):ab}function Qa(I){return function(ka,ta){ka+=I;Fd(ka)>ic&&(ka-=Math.round(ka/ed)*ed);return[ka,ta]}}function Da(I){var ka=Qa(I);ka.invert=Qa(-I);return ka}function Ka(I,ka){function ta(qc,rc){var Kc=Ud(rc),Bd=Ud(qc)*Kc;qc=la(qc)*Kc;rc=la(rc);Kc=rc*Ja+Bd*jb;return[de(qc*vb-Kc*pc,Bd*Ja-rc*jb),Gb(Kc*vb+qc*pc)]}var Ja=Ud(I),jb=la(I),vb=Ud(ka),pc=la(ka);ta.invert=function(qc,rc){var Kc=Ud(rc),Bd=Ud(qc)*
Kc;qc=la(qc)*Kc;rc=la(rc);Kc=rc*vb-qc*pc;return[de(qc*vb+rc*pc,Bd*Ja+Kc*jb),Gb(Kc*Ja-Bd*jb)]};return ta}function lb(I){function ka(ta){ta=I(ta[0]*Td,ta[1]*Td);return ta[0]*=Qd,ta[1]*=Qd,ta}I=pb(I[0]*Td,I[1]*Td,2<I.length?I[2]*Td:0);ka.invert=function(ta){ta=I.invert(ta[0]*Td,ta[1]*Td);return ta[0]*=Qd,ta[1]*=Qd,ta};return ka}function mb(I,ka){ka=Yb(ka);ka[0]-=I;Cb(ka);I=ib(-ka[1]);return((0>-ka[2]?-I:I)+ed-1E-6)%ed}function Pa(){var I=[],ka;return{point:function(ta,Ja,jb){ka.push([ta,Ja,jb])},lineStart:function(){I.push(ka=
[])},lineEnd:ac,rejoin:function(){1<I.length&&I.push(I.pop().concat(I.shift()))},result:function(){var ta=I;I=[];ka=null;return ta}}}function xb(I,ka){return 1E-6>Fd(I[0]-ka[0])&&1E-6>Fd(I[1]-ka[1])}function sb(I,ka,ta,Ja){this.x=I;this.z=ka;this.o=ta;this.e=Ja;this.v=!1;this.n=this.p=null}function Qb(I,ka,ta,Ja,jb){var vb=[],pc=[];I.forEach(function(Hc){if(!(0>=($c=Hc.length-1))){var $c,zd=Hc[0],Dd=Hc[$c];if(xb(zd,Dd)){if(!zd[2]&&!Dd[2]){jb.lineStart();for(qc=0;qc<$c;++qc)jb.point((zd=Hc[qc])[0],
zd[1]);jb.lineEnd();return}Dd[0]+=2E-6}vb.push($c=new sb(zd,Hc,null,!0));pc.push($c.o=new sb(zd,null,$c,!1));vb.push($c=new sb(Dd,Hc,null,!1));pc.push($c.o=new sb(Dd,null,$c,!0))}});if(vb.length){pc.sort(ka);Wb(vb);Wb(pc);var qc=0;for(I=pc.length;qc<I;++qc)pc[qc].e=ta=!ta;ta=vb[0];for(var rc;;){for(var Kc=ta,Bd=!0;Kc.v;)if((Kc=Kc.n)===ta)return;ka=Kc.z;jb.lineStart();do{Kc.v=Kc.o.v=!0;if(Kc.e){if(Bd)for(qc=0,I=ka.length;qc<I;++qc)jb.point((rc=ka[qc])[0],rc[1]);else Ja(Kc.x,Kc.n.x,1,jb);Kc=Kc.n}else{if(Bd)for(ka=
Kc.p.z,qc=ka.length-1;0<=qc;--qc)jb.point((rc=ka[qc])[0],rc[1]);else Ja(Kc.x,Kc.p.x,-1,jb);Kc=Kc.p}Kc=Kc.o;ka=Kc.z;Bd=!Bd}while(!Kc.v);jb.lineEnd()}}}function Wb(I){if(ka=I.length){for(var ka,ta=0,Ja=I[0],jb;++ta<ka;)Ja.n=jb=I[ta],jb.p=Ja,Ja=jb;Ja.n=jb=I[0];jb.p=Ja}}function ob(I){return Fd(I[0])<=ic?I[0]:za(I[0])*((Fd(I[0])+ic)%ed-ic)}function pa(I,ka,ta,Ja){return function(jb){function vb(Ld,he){I(Ld,he)&&jb.point(Ld,he)}function pc(Ld,he){$c.point(Ld,he)}function qc(){Ae.point=pc;$c.lineStart()}
function rc(){Ae.point=vb;$c.lineEnd()}function Kc(Ld,he){yd.push([Ld,he]);Dd.point(Ld,he)}function Bd(){Dd.lineStart();yd=[]}function Hc(){Kc(yd[0][0],yd[0][1]);Dd.lineEnd();var Ld=Dd.clean(),he=zd.result(),He=he.length,lf;yd.pop();Ge.push(yd);yd=null;if(He)if(Ld&1){if(He=he[0],0<(he=He.length-1)){Kd||(jb.polygonStart(),Kd=!0);jb.lineStart();for(Ld=0;Ld<he;++Ld)jb.point((lf=He[Ld])[0],lf[1]);jb.lineEnd()}}else 1<He&&Ld&2&&he.push(he.pop().concat(he.shift())),De.push(he.filter(Z))}var $c=ka(jb),zd=
Pa(),Dd=ka(zd),Kd=!1,Ge,De,yd,Ae={point:vb,lineStart:qc,lineEnd:rc,polygonStart:function(){Ae.point=Kc;Ae.lineStart=Bd;Ae.lineEnd=Hc;De=[];Ge=[]},polygonEnd:function(){Ae.point=vb;Ae.lineStart=qc;Ae.lineEnd=rc;De=Array.from(P(De));var Ld=Ge;var he=ob(Ja),He=Ja[1],lf=la(He),vf=[la(he),-Ud(he),0],Ke=0,ne=0,Df=new ec;1===lf?He=Tc+1E-6:-1===lf&&(He=-Tc-1E-6);lf=0;for(var If=Ld.length;lf<If;++lf)if(ag=(jf=Ld[lf]).length){var jf,ag,Yd=jf[ag-1],ff=ob(Yd),mf=Yd[1]/2+dd,af=la(mf),Hf=Ud(mf);for(mf=0;mf<ag;++mf,
ff=zf,af=Af,Hf=Eg,Yd=Jf){var Jf=jf[mf],zf=ob(Jf);Eg=Jf[1]/2+dd;var Af=la(Eg),Eg=Ud(Eg),hg=zf-ff,xf=0<=hg?1:-1,Kf=xf*hg,dg=Kf>ic;af*=Af;Df.add(de(af*xf*la(Kf),Hf*Eg+af*Ud(Kf)));Ke+=dg?hg+xf*ed:hg;dg^ff>=he^zf>=he&&(Yd=ub(Yb(Yd),Yb(Jf)),Cb(Yd),ff=ub(vf,Yd),Cb(ff),ff=(dg^0<=hg?-1:1)*Gb(ff[2]),He>ff||He===ff&&(Yd[0]||Yd[1]))&&(ne+=dg^0<=hg?1:-1)}}Ld=(-1E-6>Ke||1E-6>Ke&&-1E-12>Df)^ne&1;De.length?(Kd||(jb.polygonStart(),Kd=!0),Qb(De,Fa,Ld,ta,jb)):Ld&&(Kd||(jb.polygonStart(),Kd=!0),jb.lineStart(),ta(null,
null,1,jb),jb.lineEnd());Kd&&(jb.polygonEnd(),Kd=!1);De=Ge=null},sphere:function(){jb.polygonStart();jb.lineStart();ta(null,null,1,jb);jb.lineEnd();jb.polygonEnd()}};return Ae}}function Z(I){return 1<I.length}function Fa(I,ka){return(0>(I=I.x)[0]?I[1]-Tc-1E-6:Tc-I[1])-(0>(ka=ka.x)[0]?ka[1]-Tc-1E-6:Tc-ka[1])}function Ga(I){function ka(rc,Kc){return Ud(rc)*Ud(Kc)>jb}function ta(rc,Kc,Bd){var Hc=Yb(rc),$c=Yb(Kc),zd=[1,0,0];$c=ub(Hc,$c);var Dd=Ua($c,$c);Hc=$c[0];var Kd=Dd-Hc*Hc;if(!Kd)return!Bd&&rc;Dd=
jb*Dd/Kd;Kd=-jb*Hc/Kd;Hc=ub(zd,$c);zd=Lb(zd,Dd);$c=Lb($c,Kd);Kb(zd,$c);$c=Ua(zd,Hc);Dd=Ua(Hc,Hc);Kd=$c*$c-Dd*(Ua(zd,zd)-1);if(!(0>Kd)){var Ge=fb(Kd);Kd=Lb(Hc,(-$c-Ge)/Dd);Kb(Kd,zd);Kd=jc(Kd);if(!Bd)return Kd;Bd=rc[0];var De=Kc[0];rc=rc[1];Kc=Kc[1];if(De<Bd){var yd=Bd;Bd=De;De=yd}var Ae=De-Bd,Ld=1E-6>Fd(Ae-ic);!Ld&&Kc<rc&&(yd=rc,rc=Kc,Kc=yd);if(Ld||1E-6>Ae?Ld?0<rc+Kc^Kd[1]<(1E-6>Fd(Kd[0]-Bd)?rc:Kc):rc<=Kd[1]&&Kd[1]<=Kc:Ae>ic^(Bd<=Kd[0]&&Kd[0]<=De))return Kc=Lb(Hc,(-$c+Ge)/Dd),Kb(Kc,zd),[Kd,jc(Kc)]}}
function Ja(rc,Kc){var Bd=pc?I:ic-I,Hc=0;rc<-Bd?Hc|=1:rc>Bd&&(Hc|=2);Kc<-Bd?Hc|=4:Kc>Bd&&(Hc|=8);return Hc}var jb=Ud(I),vb=6*Td,pc=0<jb,qc=1E-6<Fd(jb);return pa(ka,function(rc){var Kc,Bd,Hc,$c,zd;return{lineStart:function(){$c=Hc=!1;zd=1},point:function(Dd,Kd){var Ge=[Dd,Kd],De=ka(Dd,Kd);Kd=pc?De?0:Ja(Dd,Kd):De?Ja(Dd+(0>Dd?ic:-ic),Kd):0;!Kc&&($c=Hc=De)&&rc.lineStart();De!==Hc&&(Dd=ta(Kc,Ge),!Dd||xb(Kc,Dd)||xb(Ge,Dd))&&(Ge[2]=1);if(De!==Hc)zd=0,De?(rc.lineStart(),Dd=ta(Ge,Kc),rc.point(Dd[0],Dd[1])):
(Dd=ta(Kc,Ge),rc.point(Dd[0],Dd[1],2),rc.lineEnd()),Kc=Dd;else if(qc&&Kc&&pc^De){var yd;Kd&Bd||!(yd=ta(Ge,Kc,!0))||(zd=0,pc?(rc.lineStart(),rc.point(yd[0][0],yd[0][1]),rc.point(yd[1][0],yd[1][1]),rc.lineEnd()):(rc.point(yd[1][0],yd[1][1]),rc.lineEnd(),rc.lineStart(),rc.point(yd[0][0],yd[0][1],3)))}!De||Kc&&xb(Kc,Ge)||rc.point(Ge[0],Ge[1]);Kc=Ge;Hc=De;Bd=Kd},lineEnd:function(){Hc&&rc.lineEnd();Kc=null},clean:function(){return zd|($c&&Hc)<<1}}},function(rc,Kc,Bd,Hc){var $c=rc;if(vb){rc=Ud(I);var zd=
la(I),Dd=Bd*vb;if(null==$c)$c=I+Bd*ed,Kc=I-Dd/2;else if($c=mb(rc,$c),Kc=mb(rc,Kc),0<Bd?$c<Kc:$c>Kc)$c+=Bd*ed;for(var Kd=$c;0<Bd?Kd>Kc:Kd<Kc;Kd-=Dd)$c=jc([rc,-zd*Ud(Kd),-zd*la(Kd)]),Hc.point($c[0],$c[1])}},pc?[0,-I]:[-ic,I-ic])}function db(I,ka,ta,Ja,jb,vb){var pc=I[0],qc=I[1],rc=0,Kc=1,Bd=ka[0]-pc,Hc=ka[1]-qc;ta-=pc;if(Bd||!(0<ta)){ta/=Bd;if(0>Bd){if(ta<rc)return;ta<Kc&&(Kc=ta)}else if(0<Bd){if(ta>Kc)return;ta>rc&&(rc=ta)}ta=jb-pc;if(Bd||!(0>ta)){ta/=Bd;if(0>Bd){if(ta>Kc)return;ta>rc&&(rc=ta)}else if(0<
Bd){if(ta<rc)return;ta<Kc&&(Kc=ta)}ta=Ja-qc;if(Hc||!(0<ta)){ta/=Hc;if(0>Hc){if(ta<rc)return;ta<Kc&&(Kc=ta)}else if(0<Hc){if(ta>Kc)return;ta>rc&&(rc=ta)}ta=vb-qc;if(Hc||!(0>ta)){ta/=Hc;if(0>Hc){if(ta>Kc)return;ta>rc&&(rc=ta)}else if(0<Hc){if(ta<rc)return;ta<Kc&&(Kc=ta)}0<rc&&(I[0]=pc+rc*Bd,I[1]=qc+rc*Hc);1>Kc&&(ka[0]=pc+Kc*Bd,ka[1]=qc+Kc*Hc);return!0}}}}}function ba(I,ka,ta,Ja){function jb(rc,Kc,Bd,Hc){var $c=0,zd=0;if(null==rc||($c=vb(rc,Bd))!==(zd=vb(Kc,Bd))||0>qc(rc,Kc)^0<Bd){do Hc.point(0===$c||
3===$c?I:ta,1<$c?Ja:ka);while(($c=($c+Bd+4)%4)!==zd)}else Hc.point(Kc[0],Kc[1])}function vb(rc,Kc){return 1E-6>Fd(rc[0]-I)?0<Kc?0:3:1E-6>Fd(rc[0]-ta)?0<Kc?2:1:1E-6>Fd(rc[1]-ka)?0<Kc?1:0:0<Kc?3:2}function pc(rc,Kc){return qc(rc.x,Kc.x)}function qc(rc,Kc){var Bd=vb(rc,1),Hc=vb(Kc,1);return Bd!==Hc?Bd-Hc:0===Bd?Kc[1]-rc[1]:1===Bd?rc[0]-Kc[0]:2===Bd?rc[1]-Kc[1]:Kc[0]-rc[0]}return function(rc){function Kc(Ke,ne){I<=Ke&&Ke<=ta&&ka<=ne&&ne<=Ja&&Hc.point(Ke,ne)}function Bd(Ke,ne){var Df=I<=Ke&&Ke<=ta&&ka<=
ne&&ne<=Ja;Dd&&Kd.push([Ke,ne]);if(He)Ge=Ke,De=ne,yd=Df,He=!1,Df&&(Hc.lineStart(),Hc.point(Ke,ne));else if(Df&&he)Hc.point(Ke,ne);else{var If=[Ae=Math.max(-1E9,Math.min(1E9,Ae)),Ld=Math.max(-1E9,Math.min(1E9,Ld))],jf=[Ke=Math.max(-1E9,Math.min(1E9,Ke)),ne=Math.max(-1E9,Math.min(1E9,ne))];db(If,jf,I,ka,ta,Ja)?(he||(Hc.lineStart(),Hc.point(If[0],If[1])),Hc.point(jf[0],jf[1]),Df||Hc.lineEnd(),lf=!1):Df&&(Hc.lineStart(),Hc.point(Ke,ne),lf=!1)}Ae=Ke;Ld=ne;he=Df}var Hc=rc,$c=Pa(),zd,Dd,Kd,Ge,De,yd,Ae,Ld,
he,He,lf,vf={point:Kc,lineStart:function(){vf.point=Bd;Dd&&Dd.push(Kd=[]);He=!0;he=!1;Ae=Ld=NaN},lineEnd:function(){zd&&(Bd(Ge,De),yd&&he&&$c.rejoin(),zd.push($c.result()));vf.point=Kc;he&&Hc.lineEnd()},polygonStart:function(){Hc=$c;zd=[];Dd=[];lf=!0},polygonEnd:function(){for(var Ke,ne=Ke=0,Df=Dd.length;ne<Df;++ne){var If=Dd[ne],jf=1,ag=If.length,Yd=If[0],ff=Yd[0];for(Yd=Yd[1];jf<ag;++jf){var mf=ff;var af=Yd;Yd=If[jf];ff=Yd[0];Yd=Yd[1];af<=Ja?Yd>Ja&&(ff-mf)*(Ja-af)>(Yd-af)*(I-mf)&&++Ke:Yd<=Ja&&(ff-
mf)*(Ja-af)<(Yd-af)*(I-mf)&&--Ke}}ne=lf&&Ke;Df=(zd=Array.from(P(zd))).length;if(ne||Df)rc.polygonStart(),ne&&(rc.lineStart(),jb(null,null,1,rc),rc.lineEnd()),Df&&Qb(zd,pc,Ke,jb,rc),rc.polygonEnd();Hc=rc;zd=Dd=Kd=null}};return vf}}function na(){Wd.point=q}function q(I,ka){Wd.point=M;sd=Gd=I;Hd=$d=ka}function M(I,ka){Nc.add($d*I-Gd*ka);Gd=I;$d=ka}function Q(){M(sd,Hd)}function g(I,ka){tf+=I;U+=ka;++ua}function u(){Dc.point=m}function m(I,ka){Dc.point=C;g(bc=I,Pc=ka)}function C(I,ka){var ta=I-bc,Ja=
ka-Pc;ta=fb(ta*ta+Ja*Ja);cb+=ta*(bc+I)/2;Ab+=ta*(Pc+ka)/2;fc+=ta;g(bc=I,Pc=ka)}function B(){Dc.point=g}function A(){Dc.point=H}function E(){V(fa,Ta)}function H(I,ka){Dc.point=V;g(fa=bc=I,Ta=Pc=ka)}function V(I,ka){var ta=I-bc,Ja=ka-Pc;ta=fb(ta*ta+Ja*Ja);cb+=ta*(bc+I)/2;Ab+=ta*(Pc+ka)/2;fc+=ta;ta=Pc*I-bc*ka;Cc+=ta*(bc+I);$b+=ta*(Pc+ka);J+=3*ta;g(bc=I,Pc=ka)}function Aa(I){this._context=I}function Y(I,ka){Lc.point=t;Sa=oc=I;eb=xd=ka}function t(I,ka){oc-=I;xd-=ka;gd.add(fb(oc*oc+xd*xd));oc=I;xd=ka}function L(I){let ka=
1;this._+=I[0];for(const ta=I.length;ka<ta;++ka)this._+=arguments[ka]+I[ka]}function va(I){const ka=Math.floor(I);if(!(0<=ka))throw new RangeError(`invalid digits: ${I}`);if(15<ka)return L;if(ka!==Qc){const ta=Math.pow(10,ka);Qc=ka;td=function(Ja){let jb=1;this._+=Ja[0];for(const vb=Ja.length;jb<vb;++jb)this._+=Math.round(arguments[jb]*ta)/ta+Ja[jb]}}return td}function La(I,ka){function ta(qc){qc&&("function"===typeof jb&&pc.pointRadius(+jb.apply(this,arguments)),Bb(qc,vb(pc)));return pc.result()}
let Ja=3,jb=4.5,vb,pc;ta.area=function(qc){Bb(qc,vb(ae));return ae.result()};ta.measure=function(qc){Bb(qc,vb(Uc));return Uc.result()};ta.bounds=function(qc){Bb(qc,vb(re));return re.result()};ta.centroid=function(qc){Bb(qc,vb(Sc));return Sc.result()};ta.projection=function(qc){if(!arguments.length)return I;vb=null==qc?(I=null,Gc):(I=qc).stream;return ta};ta.context=function(qc){if(!arguments.length)return ka;pc=null==qc?(ka=null,new Cd(Ja)):new Aa(ka=qc);"function"!==typeof jb&&pc.pointRadius(jb);
return ta};ta.pointRadius=function(qc){if(!arguments.length)return jb;jb="function"===typeof qc?qc:(pc.pointRadius(+qc),+qc);return ta};ta.digits=function(qc){if(!arguments.length)return Ja;if(null==qc)Ja=null;else{const rc=Math.floor(qc);if(!(0<=rc))throw new RangeError(`invalid digits: ${qc}`);Ja=rc}null===ka&&(pc=new Cd(Ja));return ta};return ta.projection(I).digits(Ja).context(ka)}function Wa(I){return function(ka){var ta=new $a,Ja;for(Ja in I)ta[Ja]=I[Ja];ta.stream=ka;return ta}}function $a(){}
function X(I,ka,ta){var Ja=I.clipExtent&&I.clipExtent();I.scale(150).translate([0,0]);null!=Ja&&I.clipExtent(null);Bb(ta,I.stream(re));ka(re.result());null!=Ja&&I.clipExtent(Ja);return I}function Ca(I,ka,ta){return X(I,function(Ja){var jb=ka[1][0]-ka[0][0],vb=ka[1][1]-ka[0][1],pc=Math.min(jb/(Ja[1][0]-Ja[0][0]),vb/(Ja[1][1]-Ja[0][1]));jb=+ka[0][0]+(jb-pc*(Ja[1][0]+Ja[0][0]))/2;Ja=+ka[0][1]+(vb-pc*(Ja[1][1]+Ja[0][1]))/2;I.scale(150*pc).translate([jb,Ja])},ta)}function Ya(I,ka,ta){return X(I,function(Ja){var jb=
+ka,vb=jb/(Ja[1][0]-Ja[0][0]);jb=(jb-vb*(Ja[1][0]+Ja[0][0]))/2;Ja=-vb*Ja[0][1];I.scale(150*vb).translate([jb,Ja])},ta)}function Ib(I,ka,ta){return X(I,function(Ja){var jb=+ka,vb=jb/(Ja[1][1]-Ja[0][1]),pc=-vb*Ja[0][0];Ja=(jb-vb*(Ja[1][1]+Ja[0][1]))/2;I.scale(150*vb).translate([pc,Ja])},ta)}function yc(I){return Wa({point:function(ka,ta){ka=I(ka,ta);this.stream.point(ka[0],ka[1])}})}function sc(I,ka){function ta(Ja,jb,vb,pc,qc,rc,Kc,Bd,Hc,$c,zd,Dd,Kd,Ge){var De=Kc-Ja,yd=Bd-jb,Ae=De*De+yd*yd;if(Ae>4*
ka&&Kd--){var Ld=pc+$c,he=qc+zd,He=rc+Dd,lf=fb(Ld*Ld+he*he+He*He),vf=Gb(He/=lf),Ke=1E-6>Fd(Fd(He)-1)||1E-6>Fd(vb-Hc)?(vb+Hc)/2:de(he,Ld),ne=I(Ke,vf);vf=ne[0];ne=ne[1];var Df=vf-Ja,If=ne-jb,jf=yd*Df-De*If;if(jf*jf/Ae>ka||.3<Fd((De*Df+yd*If)/Ae-.5)||pc*$c+qc*zd+rc*Dd<be)ta(Ja,jb,vb,pc,qc,rc,vf,ne,Ke,Ld/=lf,he/=lf,He,Kd,Ge),Ge.point(vf,ne),ta(vf,ne,Ke,Ld,he,He,Kc,Bd,Hc,$c,zd,Dd,Kd,Ge)}}return function(Ja){function jb(vf,Ke){vf=I(vf,Ke);Ja.point(vf[0],vf[1])}function vb(){yd=NaN;lf.point=pc;Ja.lineStart()}
function pc(vf,Ke){var ne=Yb([vf,Ke]);Ke=I(vf,Ke);ta(yd,Ae,De,Ld,he,He,yd=Ke[0],Ae=Ke[1],De=vf,Ld=ne[0],he=ne[1],He=ne[2],16,Ja);Ja.point(yd,Ae)}function qc(){lf.point=jb;Ja.lineEnd()}function rc(){vb();lf.point=Kc;lf.lineEnd=Bd}function Kc(vf,Ke){pc(Hc=vf,Ke);$c=yd;zd=Ae;Dd=Ld;Kd=he;Ge=He;lf.point=pc}function Bd(){ta(yd,Ae,De,Ld,he,He,$c,zd,Hc,Dd,Kd,Ge,16,Ja);lf.lineEnd=qc;qc()}var Hc,$c,zd,Dd,Kd,Ge,De,yd,Ae,Ld,he,He,lf={point:jb,lineStart:vb,lineEnd:qc,polygonStart:function(){Ja.polygonStart();
lf.lineStart=rc},polygonEnd:function(){Ja.polygonEnd();lf.lineStart=vb}};return lf}}function xc(I){return Wa({point:function(ka,ta){ka=I(ka,ta);return this.stream.point(ka[0],ka[1])}})}function cd(I,ka,ta,Ja,jb){function vb(pc,qc){pc*=Ja;qc*=jb;return[ka+I*pc,ta-I*qc]}vb.invert=function(pc,qc){return[(pc-ka)/I*Ja,(ta-qc)/I*jb]};return vb}function Zb(I,ka,ta,Ja,jb,vb){function pc(Dd,Kd){Dd*=Ja;Kd*=jb;return[rc*Dd-Kc*Kd+ka,ta-Kc*Dd-rc*Kd]}if(!vb)return cd(I,ka,ta,Ja,jb);var qc=Ud(vb);vb=la(vb);var rc=
qc*I,Kc=vb*I,Bd=qc/I,Hc=vb/I,$c=(vb*ta-qc*ka)/I,zd=(vb*ka+qc*ta)/I;pc.invert=function(Dd,Kd){return[Ja*(Bd*Dd-Hc*Kd+$c),jb*(zd-Hc*Dd-Bd*Kd)]};return pc}function Rc(I){return Pd(function(){return I})()}function Pd(I){function ka(Yd){return If(Yd[0]*Td,Yd[1]*Td)}function ta(Yd){return(Yd=If.invert(Yd[0],Yd[1]))&&[Yd[0]*Qd,Yd[1]*Qd]}function Ja(){var Yd=Zb(pc,0,0,Ge,De,Kd).apply(null,vb(Kc,Bd));Yd=Zb(pc,qc-Yd[0],rc-Yd[1],Ge,De,Kd);Dd=pb(Hc,$c,zd);Df=Pb(vb,Yd);If=Pb(Dd,Df);Yd=Df;ne=+Ke?sc(Yd,Ke):yc(Yd);
return jb()}function jb(){jf=ag=null;return ka}var vb,pc=150,qc=480,rc=250,Kc=0,Bd=0,Hc=0,$c=0,zd=0,Dd,Kd=0,Ge=1,De=1,yd=null,Ae=lc,Ld=null,he,He,lf,vf=Gc,Ke=.5,ne,Df,If,jf,ag;ka.stream=function(Yd){return jf&&ag===Yd?jf:jf=ye(xc(Dd)(Ae(ne(vf(ag=Yd)))))};ka.preclip=function(Yd){return arguments.length?(Ae=Yd,yd=void 0,jb()):Ae};ka.postclip=function(Yd){return arguments.length?(vf=Yd,Ld=he=He=lf=null,jb()):vf};ka.clipAngle=function(Yd){return arguments.length?(Ae=+Yd?Ga(yd=Yd*Td):(yd=null,lc),jb()):
yd*Qd};ka.clipExtent=function(Yd){return arguments.length?(vf=null==Yd?(Ld=he=He=lf=null,Gc):ba(Ld=+Yd[0][0],he=+Yd[0][1],He=+Yd[1][0],lf=+Yd[1][1]),jb()):null==Ld?null:[[Ld,he],[He,lf]]};ka.scale=function(Yd){return arguments.length?(pc=+Yd,Ja()):pc};ka.translate=function(Yd){return arguments.length?(qc=+Yd[0],rc=+Yd[1],Ja()):[qc,rc]};ka.center=function(Yd){return arguments.length?(Kc=Yd[0]%360*Td,Bd=Yd[1]%360*Td,Ja()):[Kc*Qd,Bd*Qd]};ka.rotate=function(Yd){return arguments.length?(Hc=Yd[0]%360*Td,
$c=Yd[1]%360*Td,zd=2<Yd.length?Yd[2]%360*Td:0,Ja()):[Hc*Qd,$c*Qd,zd*Qd]};ka.angle=function(Yd){return arguments.length?(Kd=Yd%360*Td,Ja()):Kd*Qd};ka.reflectX=function(Yd){return arguments.length?(Ge=Yd?-1:1,Ja()):0>Ge};ka.reflectY=function(Yd){return arguments.length?(De=Yd?-1:1,Ja()):0>De};ka.precision=function(Yd){if(arguments.length){var ff=Df;var mf=Ke=Yd*Yd;ff=(ne=+mf?sc(ff,mf):yc(ff),jb())}else ff=fb(Ke);return ff};ka.fitExtent=function(Yd,ff){return Ca(ka,Yd,ff)};ka.fitSize=function(Yd,ff){return Ca(ka,
[[0,0],Yd],ff)};ka.fitWidth=function(Yd,ff){return Ya(ka,Yd,ff)};ka.fitHeight=function(Yd,ff){return Ib(ka,Yd,ff)};return function(){vb=I.apply(this,arguments);ka.invert=vb.invert&&ta;return Ja()}}function Ma(I){var ka=0,ta=ic/3,Ja=Pd(I);I=Ja(ka,ta);I.parallels=function(jb){return arguments.length?Ja(ka=jb[0]*Td,ta=jb[1]*Td):[ka*Qd,ta*Qd]};return I}function Vb(I){function ka(Ja,jb){return[Ja*ta,la(jb)/ta]}var ta=Ud(I);ka.invert=function(Ja,jb){return[Ja/ta,Gb(jb*ta)]};return ka}function qb(I,ka){function ta(qc,
rc){rc=fb(vb-2*jb*la(rc))/jb;return[rc*la(qc*=jb),pc-rc*Ud(qc)]}var Ja=la(I),jb=(Ja+la(ka))/2;if(1E-6>Fd(jb))return Vb(I);var vb=1+Ja*(2*jb-Ja),pc=fb(vb)/jb;ta.invert=function(qc,rc){rc=pc-rc;var Kc=de(qc,Fd(rc))*za(rc);0>rc*jb&&(Kc-=ic*za(qc)*za(rc));return[Kc/jb,Gb((vb-(qc*qc+rc*rc)*jb*jb)/(2*jb))]};return ta}function Tb(){return Ma(qb).scale(155.424).center([0,33.6442])}function gc(){return Tb().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function cc(I){var ka=
I.length;return{point:function(ta,Ja){for(var jb=-1;++jb<ka;)I[jb].point(ta,Ja)},sphere:function(){for(var ta=-1;++ta<ka;)I[ta].sphere()},lineStart:function(){for(var ta=-1;++ta<ka;)I[ta].lineStart()},lineEnd:function(){for(var ta=-1;++ta<ka;)I[ta].lineEnd()},polygonStart:function(){for(var ta=-1;++ta<ka;)I[ta].polygonStart()},polygonEnd:function(){for(var ta=-1;++ta<ka;)I[ta].polygonEnd()}}}function Ic(I){return function(ka,ta){var Ja=Ud(ka),jb=Ud(ta);Ja=I(Ja*jb);return Infinity===Ja?[2,0]:[Ja*jb*
la(ka),Ja*la(ta)]}}function zc(I){return function(ka,ta){var Ja=fb(ka*ka+ta*ta),jb=I(Ja),vb=la(jb);jb=Ud(jb);return[de(ka*vb,Ja*jb),Gb(Ja&&ta*vb/Ja)]}}function Yc(I,ka){return[I,Xd(Hb((Tc+ka)/2))]}function Md(I){function ka(){var Hc=ic*jb(),$c=ta(lb(ta.rotate()).invert([0,0]));return pc(null==qc?[[$c[0]-Hc,$c[1]-Hc],[$c[0]+Hc,$c[1]+Hc]]:I===Yc?[[Math.max($c[0]-Hc,qc),rc],[Math.min($c[0]+Hc,Kc),Bd]]:[[qc,Math.max($c[1]-Hc,rc)],[Kc,Math.min($c[1]+Hc,Bd)]])}var ta=Rc(I),Ja=ta.center,jb=ta.scale,vb=ta.translate,
pc=ta.clipExtent,qc=null,rc,Kc,Bd;ta.scale=function(Hc){return arguments.length?(jb(Hc),ka()):jb()};ta.translate=function(Hc){return arguments.length?(vb(Hc),ka()):vb()};ta.center=function(Hc){return arguments.length?(Ja(Hc),ka()):Ja()};ta.clipExtent=function(Hc){return arguments.length?(null==Hc?qc=rc=Kc=Bd=null:(qc=+Hc[0][0],rc=+Hc[0][1],Kc=+Hc[1][0],Bd=+Hc[1][1]),ka()):null==qc?null:[[qc,rc],[Kc,Bd]]};return ka()}function ud(I,ka){function ta(pc,qc){0<vb?qc<-Tc+1E-6&&(qc=-Tc+1E-6):qc>Tc-1E-6&&
(qc=Tc-1E-6);qc=vb/N(Hb((Tc+qc)/2),jb);return[qc*la(jb*pc),vb-qc*Ud(jb*pc)]}var Ja=Ud(I),jb=I===ka?la(I):Xd(Ja/Ud(ka))/Xd(Hb((Tc+ka)/2)/Hb((Tc+I)/2)),vb=Ja*N(Hb((Tc+I)/2),jb)/jb;if(!jb)return Yc;ta.invert=function(pc,qc){qc=vb-qc;var rc=za(jb)*fb(pc*pc+qc*qc),Kc=de(pc,Fd(qc))*za(qc);0>qc*jb&&(Kc-=ic*za(pc)*za(qc));return[Kc/jb,2*Zd(N(vb/rc,1/jb))-Tc]};return ta}function Ha(I,ka){return[I,ka]}function gb(I,ka){function ta(pc,qc){qc=vb-qc;pc*=jb;return[qc*la(pc),vb-qc*Ud(pc)]}var Ja=Ud(I),jb=I===ka?
la(I):(Ja-Ud(ka))/(ka-I),vb=Ja/jb+I;if(1E-6>Fd(jb))return Ha;ta.invert=function(pc,qc){qc=vb-qc;var rc=de(pc,Fd(qc))*za(qc);0>qc*jb&&(rc-=ic*za(pc)*za(qc));return[rc/jb,vb-za(jb)*fb(pc*pc+qc*qc)]};return ta}function wb(I,ka){ka=Gb(ef*la(ka));var ta=ka*ka,Ja=ta*ta*ta;return[I*Ud(ka)/(ef*(1.340264+3*-.081106*ta+Ja*(7*8.93E-4+.034164*ta))),ka*(1.340264+-.081106*ta+Ja*(8.93E-4+.003796*ta))]}function sa(I,ka){var ta=Ud(ka),Ja=Ud(I)*ta;return[ta*la(I)/Ja,la(ka)/Ja]}function G(I,ka){var ta=ka*ka,Ja=ta*ta;
return[I*(.8707-.131979*ta+Ja*(-.013791+Ja*(.003971*ta-.001529*Ja))),ka*(1.007226+ta*(.015085+Ja*(-.044475+.028874*ta-.005916*Ja)))]}function ya(I,ka){return[Ud(ka)*la(I),la(ka)]}function Na(I,ka){var ta=Ud(ka),Ja=1+Ud(I)*ta;return[ta*la(I)/Ja,la(ka)/Ja]}function Za(I,ka){return[Xd(Hb((Tc+ka)/2)),-I]}function kb(I){return 1<I?Id:-1>I?-Id:Math.asin(I)}function Fb(I,ka){return function Ja(){const jb=ka();jb.type=I;jb.path=La().projection(jb);jb.copy=jb.copy||function(){const vb=Ja();O.forEach(pc=>{if(jb[pc])vb[pc](jb[pc]())});
vb.path.pointRadius(jb.path.pointRadius());return vb};return k.registerScale(jb)}}function nc(I,ka){if(!I||"string"!==typeof I)throw Error("Projection type must be a name string.");I=I.toLowerCase();return 1<arguments.length?(ea[I]=Fb(I,ka),this):ea[I]||null}class ec{constructor(){this._partials=new Float64Array(32);this._n=0}add(I){const ka=this._partials;let ta=0;for(let Ja=0;Ja<this._n&&32>Ja;Ja++){const jb=ka[Ja],vb=I+jb;(I=Math.abs(I)<Math.abs(jb)?I-(vb-jb):jb-(vb-I))&&(ka[ta++]=I);I=vb}ka[ta]=
I;this._n=ta+1;return this}valueOf(){const I=this._partials;let ka=this._n;let ta,Ja=0;if(0<ka){for(Ja=I[--ka];0<ka;){var jb=Ja;ta=I[--ka];Ja=jb+ta;if(jb=ta-(Ja-jb))break}0<ka&&(0>jb&&0>I[ka-1]||0<jb&&0<I[ka-1])&&(ta=2*jb,jb=Ja+ta,ta==jb-Ja&&(Ja=jb))}return Ja}}var ic=Math.PI,Tc=ic/2,dd=ic/4,ed=2*ic,Qd=180/ic,Td=ic/180,Fd=Math.abs,Zd=Math.atan,de=Math.atan2,Ud=Math.cos,Ve=Math.exp,Xd=Math.log,N=Math.pow,la=Math.sin,za=Math.sign||function(I){return 0<I?1:0>I?-1:0},fb=Math.sqrt,Hb=Math.tan,Xb={Feature:function(I,
ka){vc(I.geometry,ka)},FeatureCollection:function(I,ka){I=I.features;for(var ta=-1,Ja=I.length;++ta<Ja;)vc(I[ta].geometry,ka)}},Bc={Sphere:function(I,ka){ka.sphere()},Point:function(I,ka){I=I.coordinates;ka.point(I[0],I[1],I[2])},MultiPoint:function(I,ka){for(var ta=I.coordinates,Ja=-1,jb=ta.length;++Ja<jb;)I=ta[Ja],ka.point(I[0],I[1],I[2])},LineString:function(I,ka){Ac(I.coordinates,ka,0)},MultiLineString:function(I,ka){I=I.coordinates;for(var ta=-1,Ja=I.length;++ta<Ja;)Ac(I[ta],ka,0)},Polygon:function(I,
ka){uc(I.coordinates,ka)},MultiPolygon:function(I,ka){I=I.coordinates;for(var ta=-1,Ja=I.length;++ta<Ja;)uc(I[ta],ka)},GeometryCollection:function(I,ka){I=I.geometries;for(var ta=-1,Ja=I.length;++ta<Ja;)vc(I[ta],ka)}};ab.invert=ab;var lc=pa(function(){return!0},function(I){var ka=NaN,ta=NaN,Ja=NaN,jb;return{lineStart:function(){I.lineStart();jb=1},point:function(vb,pc){var qc=0<vb?ic:-ic,rc=Fd(vb-ka);if(1E-6>Fd(rc-ic))I.point(ka,ta=0<(ta+pc)/2?Tc:-Tc),I.point(Ja,ta),I.lineEnd(),I.lineStart(),I.point(qc,
ta),I.point(vb,ta),jb=0;else if(Ja!==qc&&rc>=ic){1E-6>Fd(ka-Ja)&&(ka-=1E-6*Ja);1E-6>Fd(vb-qc)&&(vb-=1E-6*qc);rc=ka;var Kc=ta,Bd=vb,Hc,$c,zd=la(rc-Bd);ta=1E-6<Fd(zd)?Zd((la(Kc)*($c=Ud(pc))*la(Bd)-la(pc)*(Hc=Ud(Kc))*la(rc))/(Hc*$c*zd)):(Kc+pc)/2;I.point(Ja,ta);I.lineEnd();I.lineStart();I.point(qc,ta);jb=0}I.point(ka=vb,ta=pc);Ja=qc},lineEnd:function(){I.lineEnd();ka=ta=NaN},clean:function(){return 2-jb}}},function(I,ka,ta,Ja){null==I?(ta*=Tc,Ja.point(-ic,ta),Ja.point(0,ta),Ja.point(ic,ta),Ja.point(ic,
0),Ja.point(ic,-ta),Ja.point(0,-ta),Ja.point(-ic,-ta),Ja.point(-ic,0),Ja.point(-ic,ta)):1E-6<Fd(I[0]-ka[0])?(I=I[0]<ka[0]?ic:-ic,ta=ta*I/2,Ja.point(-I,ta),Ja.point(0,ta),Ja.point(I,ta)):Ja.point(ka[0],ka[1])},[-ic,-Tc]),Gc=I=>I,id=new ec,Nc=new ec,sd,Hd,Gd,$d,Wd={point:ac,lineStart:ac,lineEnd:ac,polygonStart:function(){Wd.lineStart=na;Wd.lineEnd=Q},polygonEnd:function(){Wd.lineStart=Wd.lineEnd=Wd.point=ac;id.add(Fd(Nc));Nc=new ec},result:function(){var I=id/2;id=new ec;return I}},ae=Wd,Ce=Infinity,
kf=Ce,hf=-Ce,df=hf,re={point:function(I,ka){I<Ce&&(Ce=I);I>hf&&(hf=I);ka<kf&&(kf=ka);ka>df&&(df=ka)},lineStart:ac,lineEnd:ac,polygonStart:ac,polygonEnd:ac,result:function(){var I=[[Ce,kf],[hf,df]];hf=df=-(kf=Ce=Infinity);return I}},tf=0,U=0,ua=0,cb=0,Ab=0,fc=0,Cc=0,$b=0,J=0,fa,Ta,bc,Pc,Dc={point:g,lineStart:u,lineEnd:B,polygonStart:function(){Dc.lineStart=A;Dc.lineEnd=E},polygonEnd:function(){Dc.point=g;Dc.lineStart=u;Dc.lineEnd=B},result:function(){var I=J?[Cc/J,$b/J]:fc?[cb/fc,Ab/fc]:ua?[tf/ua,
U/ua]:[NaN,NaN];tf=U=ua=cb=Ab=fc=Cc=$b=J=0;return I}},Sc=Dc;Aa.prototype={_radius:4.5,pointRadius:function(I){return this._radius=I,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(I,ka){switch(this._point){case 0:this._context.moveTo(I,ka);this._point=1;break;case 1:this._context.lineTo(I,ka);break;default:this._context.moveTo(I+this._radius,
ka),this._context.arc(I,ka,this._radius,0,ed)}},result:ac};var gd=new ec,ee,Sa,eb,oc,xd,Lc={point:ac,lineStart:function(){Lc.point=Y},lineEnd:function(){ee&&t(Sa,eb);Lc.point=ac},polygonStart:function(){ee=!0},polygonEnd:function(){ee=null},result:function(){var I=+gd;gd=new ec;return I}},Uc=Lc;let Qc,td,jd,Od;class Cd{constructor(I){this._append=null==I?L:va(I);this._radius=4.5;this._=""}pointRadius(I){this._radius=+I;return this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=
0}lineEnd(){0===this._line&&(this._+="Z");this._point=NaN}point(I,ka){switch(this._point){case 0:this._append`M${I},${ka}`;this._point=1;break;case 1:this._append`L${I},${ka}`;break;default:this._append`M${I},${ka}`;if(this._radius!==jd||this._append!==td)I=this._radius,ka=this._,this._="",this._append`m0,${I}a${I},${I} 0 1,1 0,${-2*I}a${I},${I} 0 1,1 0,${2*I}z`,jd=I,td=this._append,Od=this._,this._=ka;this._+=Od}}result(){const I=this._;this._="";return I.length?I:null}}$a.prototype={constructor:$a,
point:function(I,ka){this.stream.point(I,ka)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var be=Ud(30*Td),ye=Wa({point:function(I,ka){this.stream.point(I*Td,ka*Td)}}),Le=Ic(function(I){return fb(2/(1+I))});Le.invert=zc(function(I){return 2*Gb(I/2)});var Ye=Ic(function(I){return(I=ib(I))&&I/la(I)});Ye.invert=zc(function(I){return I});
Yc.invert=function(I,ka){return[I,2*Zd(Ve(ka))-Tc]};Ha.invert=Ha;var ef=fb(3)/2;wb.invert=function(I,ka){for(var ta=ka,Ja=ta*ta,jb=Ja*Ja*Ja,vb=0,pc;12>vb&&!(pc=ta*(1.340264+-.081106*Ja+jb*(8.93E-4+.003796*Ja))-ka,Ja=1.340264+3*-.081106*Ja+jb*(7*8.93E-4+.034164*Ja),ta-=pc/=Ja,Ja=ta*ta,jb=Ja*Ja*Ja,1E-12>Fd(pc));++vb);return[ef*I*(1.340264+3*-.081106*Ja+jb*(7*8.93E-4+.034164*Ja))/Ud(ta),Gb(la(ta)/ef)]};sa.invert=zc(Zd);G.invert=function(I,ka){var ta=ka,Ja=25;do{var jb=ta*ta;var vb=jb*jb;ta-=vb=(ta*(1.007226+
jb*(.015085+vb*(-.044475+.028874*jb-.005916*vb)))-ka)/(1.007226+jb*(.045255+vb*(-.311325+.259866*jb-.005916*11*vb)))}while(1E-6<Fd(vb)&&0<--Ja);return[I/(.8707+(jb=ta*ta)*(-.131979+jb*(-.013791+jb*jb*jb*(.003971-.001529*jb)))),ta]};ya.invert=zc(Gb);Na.invert=zc(function(I){return 2*Zd(I)});Za.invert=function(I,ka){return[-ka,2*Zd(Ve(I))-Tc]};var od=Math.abs,Ec=Math.cos,kd=Math.sin,Fc=Math.PI,Id=Fc/2,Vd=Math.sqrt(2),ce=function(I,ka,ta){function Ja(jb,vb){var pc=vb,qc=ta*kd(pc),rc=30,Kc;do pc-=Kc=
(pc+kd(pc)-qc)/(1+Ec(pc));while(1E-6<od(Kc)&&0<--rc);return[I*jb*Ec(vb=pc/2),ka*kd(vb)]}Ja.invert=function(jb,vb){return vb=kb(vb/ka),[jb/(I*Ec(vb)),kb((2*vb+kd(2*vb))/ta)]};return Ja}(Vd/Id,Vd,Fc);const le=La(),O="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),ea={albers:gc,albersusa:function(){function I($c){var zd=$c[0];$c=$c[1];return Bd=null,(vb.point(zd,$c),Bd)||(qc.point(zd,
$c),Bd)||(Kc.point(zd,$c),Bd)}function ka(){ta=Ja=null;return I}var ta,Ja,jb=gc(),vb,pc=Tb().rotate([154,0]).center([-2,58.5]).parallels([55,65]),qc,rc=Tb().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Kc,Bd,Hc={point:function($c,zd){Bd=[$c,zd]}};I.invert=function($c){var zd=jb.scale(),Dd=jb.translate(),Kd=($c[0]-Dd[0])/zd;zd=($c[1]-Dd[1])/zd;return(.12<=zd&&.234>zd&&-.425<=Kd&&-.214>Kd?pc:.166<=zd&&.234>zd&&-.214<=Kd&&-.115>Kd?rc:jb).invert($c)};I.stream=function($c){return ta&&Ja===$c?ta:
ta=cc([jb.stream(Ja=$c),pc.stream($c),rc.stream($c)])};I.precision=function($c){if(!arguments.length)return jb.precision();jb.precision($c);pc.precision($c);rc.precision($c);return ka()};I.scale=function($c){if(!arguments.length)return jb.scale();jb.scale($c);pc.scale(.35*$c);rc.scale($c);return I.translate(jb.translate())};I.translate=function($c){if(!arguments.length)return jb.translate();var zd=jb.scale(),Dd=+$c[0],Kd=+$c[1];vb=jb.translate($c).clipExtent([[Dd-.455*zd,Kd-.238*zd],[Dd+.455*zd,Kd+
.238*zd]]).stream(Hc);qc=pc.translate([Dd-.307*zd,Kd+.201*zd]).clipExtent([[Dd-.425*zd+1E-6,Kd+.12*zd+1E-6],[Dd-.214*zd-1E-6,Kd+.234*zd-1E-6]]).stream(Hc);Kc=rc.translate([Dd-.205*zd,Kd+.212*zd]).clipExtent([[Dd-.214*zd+1E-6,Kd+.166*zd+1E-6],[Dd-.115*zd-1E-6,Kd+.234*zd-1E-6]]).stream(Hc);return ka()};I.fitExtent=function($c,zd){return Ca(I,$c,zd)};I.fitSize=function($c,zd){return Ca(I,[[0,0],$c],zd)};I.fitWidth=function($c,zd){return Ya(I,$c,zd)};I.fitHeight=function($c,zd){return Ib(I,$c,zd)};return I.scale(1070)},
azimuthalequalarea:function(){return Rc(Le).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return Rc(Ye).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return Ma(ud).scale(109.5).parallels([30,30])},conicequalarea:Tb,conicequidistant:function(){return Ma(gb).scale(131.154).center([0,13.9389])},equalEarth:function(){return Rc(wb).scale(177.158)},equirectangular:function(){return Rc(Ha).scale(152.63)},gnomonic:function(){return Rc(sa).scale(144.049).clipAngle(60)},identity:function(){function I(){Dd=
ta*vb;Kd=ta*pc;yd=Ae=null;return ka}function ka(Ld){var he=Ld[0]*Dd;Ld=Ld[1]*Kd;if(qc){var He=Ld*rc-he*Kc;he=he*rc+Ld*Kc;Ld=He}return[he+Ja,Ld+jb]}var ta=1,Ja=0,jb=0,vb=1,pc=1,qc=0,rc,Kc,Bd=null,Hc,$c,zd,Dd=1,Kd=1,Ge=Wa({point:function(Ld,he){Ld=ka([Ld,he]);this.stream.point(Ld[0],Ld[1])}}),De=Gc,yd,Ae;ka.invert=function(Ld){var he=Ld[0]-Ja;Ld=Ld[1]-jb;if(qc){var He=Ld*rc+he*Kc;he=he*rc-Ld*Kc;Ld=He}return[he/Dd,Ld/Kd]};ka.stream=function(Ld){return yd&&Ae===Ld?yd:yd=Ge(De(Ae=Ld))};ka.postclip=function(Ld){return arguments.length?
(De=Ld,Bd=Hc=$c=zd=null,I()):De};ka.clipExtent=function(Ld){return arguments.length?(De=null==Ld?(Bd=Hc=$c=zd=null,Gc):ba(Bd=+Ld[0][0],Hc=+Ld[0][1],$c=+Ld[1][0],zd=+Ld[1][1]),I()):null==Bd?null:[[Bd,Hc],[$c,zd]]};ka.scale=function(Ld){return arguments.length?(ta=+Ld,I()):ta};ka.translate=function(Ld){return arguments.length?(Ja=+Ld[0],jb=+Ld[1],I()):[Ja,jb]};ka.angle=function(Ld){return arguments.length?(qc=Ld%360*Td,Kc=la(qc),rc=Ud(qc),I()):qc*Qd};ka.reflectX=function(Ld){return arguments.length?
(vb=Ld?-1:1,I()):0>vb};ka.reflectY=function(Ld){return arguments.length?(pc=Ld?-1:1,I()):0>pc};ka.fitExtent=function(Ld,he){return Ca(ka,Ld,he)};ka.fitSize=function(Ld,he){return Ca(ka,[[0,0],Ld],he)};ka.fitWidth=function(Ld,he){return Ya(ka,Ld,he)};ka.fitHeight=function(Ld,he){return Ib(ka,Ld,he)};return ka},mercator:function(){return Md(Yc).scale(961/ed)},mollweide:function(){return Rc(ce).scale(169.529)},naturalEarth1:function(){return Rc(G).scale(175.295)},orthographic:function(){return Rc(ya).scale(249.5).clipAngle(90.000001)},
stereographic:function(){return Rc(Na).scale(250).clipAngle(142)},transversemercator:function(){var I=Md(Za),ka=I.center,ta=I.rotate;I.center=function(Ja){return arguments.length?ka([-Ja[1],Ja[0]]):(Ja=ka(),[Ja[1],-Ja[0]])};I.rotate=function(Ja){return arguments.length?ta([Ja[0],Ja[1],2<Ja.length?Ja[2]+90:90]):(Ja=ta(),[Ja[0],Ja[1],Ja[2]-90])};return ta([0,0,90]).scale(159.155)}};for(const I in ea)nc(I,ea[I]);v.getProjectionPath=function(I){return I&&I.path||le};v.projection=nc;v.projectionProperties=
O})};
shadow$provide[38]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(29),Db(21),Db(30),Db(37),Db(32)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util vega-statistics vega-projection vega-canvas".split(" "),k):(v="undefined"!==typeof globalThis?globalThis:v||self,k((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,P,ib,Gb,ac){function vc(G,ya,Na){var Za=(ya-G)/Math.max(0,Na),kb=Math.floor(Math.log10(Za));
Za/=Math.pow(10,kb);Za=Za>=Pd?10:Za>=Ma?5:Za>=Vb?2:1;let Fb;0>kb?(Fb=Math.pow(10,-kb)/Za,kb=Math.round(G*Fb),Za=Math.round(ya*Fb),kb/Fb<G&&++kb,Za/Fb>ya&&--Za,Fb=-Fb):(Fb=Math.pow(10,kb)*Za,kb=Math.round(G/Fb),Za=Math.round(ya/Fb),kb*Fb<G&&++kb,Za*Fb>ya&&--Za);return Za<kb&&.5<=Na&&2>Na?vc(G,ya,2*Na):[kb,Za,Fb]}function Ac(G,ya,Na){return vc(+G,+ya,+Na)[2]}function uc(G,ya){let Na;if(void 0===ya)for(var Za of G)null!=Za&&(Na<Za||void 0===Na&&Za>=Za)&&(Na=Za);else{Za=-1;for(let kb of G)null!=(kb=ya(kb,
++Za,G))&&(Na<kb||void 0===Na&&kb>=kb)&&(Na=kb)}return Na}function Bb(G,ya,Na){G=+G;ya=+ya;Na=2>(kb=arguments.length)?(ya=G,G=0,1):3>kb?1:+Na;for(var Za=-1,kb=Math.max(0,Math.ceil((ya-G)/Na))|0,Fb=Array(kb);++Za<kb;)Fb[Za]=G+Za*Na;return Fb}function jc(G,ya){let Na=0;if(void 0===ya)for(var Za of G){if(Za=+Za)Na+=Za}else{Za=-1;for(let kb of G)if(kb=+ya(kb,++Za,G))Na+=kb}return Na}function Yb(){}function Ua(){function G(ec,ic){return ic.map(Tc=>ya(ec,Tc))}function ya(ec,ic){var Tc=[],dd=[];Na(ec,ic,
ed=>{nc(ed,ec,ic);for(var Qd=0,Td=ed.length,Fd=ed[Td-1][1]*ed[0][0]-ed[Td-1][0]*ed[0][1];++Qd<Td;)Fd+=ed[Qd-1][1]*ed[Qd][0]-ed[Qd-1][0]*ed[Qd][1];0<Fd?Tc.push([ed]):dd.push(ed)});dd.forEach(ed=>{for(var Qd=0,Td=Tc.length,Fd;Qd<Td;++Qd){a:{var Zd=(Fd=Tc[Qd])[0];for(var de=ed,Ud=-1,Ve=de.length;++Ud<Ve;){b:{var Xd=Zd;for(var N=de[Ud],la=N[0],za=N[1],fb=-1,Hb=0,Xb=Xd.length,Bc=Xb-1;Hb<Xb;Bc=Hb++){var lc=Xd[Hb],Gc=lc[0],id=lc[1],Nc=Xd[Bc];Bc=Nc[0];var sd=Nc[1],Hd,Gd=lc;lc=Nc;Nc=N;if(Hd=(lc[0]-Gd[0])*
(Nc[1]-Gd[1])===(Nc[0]-Gd[0])*(lc[1]-Gd[1]))Gd=Gd[Hd=+(Gd[0]===lc[0])],Nc=Nc[Hd],lc=lc[Hd],Hd=Gd<=Nc&&Nc<=lc||lc<=Nc&&Nc<=Gd;if(Hd){Xd=0;break b}id>za!==sd>za&&la<(Bc-Gc)*(za-id)/(sd-id)+Gc&&(fb=-fb)}Xd=fb}if(Xd){Zd=Xd;break a}}Zd=0}if(-1!==Zd){Fd.push(ed);break}}});return{type:"MultiPolygon",value:ic,coordinates:Tc}}function Na(ec,ic,Tc){function dd(Xd){var N=[Xd[0][0]+Fd,Xd[0][1]+Td];Xd=[Xd[1][0]+Fd,Xd[1][1]+Td];var la=2*N[0]+N[1]*(kb+1)*4,za=2*Xd[0]+Xd[1]*(kb+1)*4,fb,Hb;(fb=Qd[la])?(Hb=ed[za])?
(delete Qd[fb.end],delete ed[Hb.start],fb===Hb?(fb.ring.push(Xd),Tc(fb.ring)):ed[fb.start]=Qd[Hb.end]={start:fb.start,end:Hb.end,ring:fb.ring.concat(Hb.ring)}):(delete Qd[fb.end],fb.ring.push(Xd),Qd[fb.end=za]=fb):(fb=ed[za])?(Hb=Qd[la])?(delete ed[fb.start],delete Qd[Hb.end],fb===Hb?(fb.ring.push(Xd),Tc(fb.ring)):ed[Hb.start]=Qd[fb.end]={start:Hb.start,end:fb.end,ring:Hb.ring.concat(fb.ring)}):(delete ed[fb.start],fb.ring.unshift(N),ed[fb.start=la]=fb):ed[la]=Qd[za]={start:la,end:za,ring:[N,Xd]}}
var ed=[],Qd=[],Td;var Fd=Td=-1;var Zd=ec[0]>=ic;for(qb[Zd<<1].forEach(dd);++Fd<kb-1;){var de=Zd;Zd=ec[Fd+1]>=ic;qb[de|Zd<<1].forEach(dd)}for(qb[Zd<<0].forEach(dd);++Td<Fb-1;){Fd=-1;Zd=ec[Td*kb+kb]>=ic;var Ud=ec[Td*kb]>=ic;for(qb[Zd<<1|Ud<<2].forEach(dd);++Fd<kb-1;){de=Zd;Zd=ec[Td*kb+kb+Fd+1]>=ic;var Ve=Ud;Ud=ec[Td*kb+Fd+1]>=ic;qb[de|Zd<<1|Ud<<2|Ve<<3].forEach(dd)}qb[Zd|Ud<<3].forEach(dd)}Fd=-1;Ud=ec[Td*kb]>=ic;for(qb[Ud<<2].forEach(dd);++Fd<kb-1;)Ve=Ud,Ud=ec[Td*kb+Fd+1]>=ic,qb[Ud<<2|Ve<<3].forEach(dd);
qb[Ud<<3].forEach(dd)}function Za(ec,ic,Tc){ec.forEach(dd=>{var ed=dd[0],Qd=dd[1],Td=ed|0,Fd=Qd|0,Zd=ic[Fd*kb+Td];if(0<ed&&ed<kb&&Td===ed){var de=ic[Fd*kb+Td-1];dd[0]=ed+(Tc-de)/(Zd-de)-.5}0<Qd&&Qd<Fb&&Fd===Qd&&(de=ic[(Fd-1)*kb+Td],dd[1]=Qd+(Tc-de)/(Zd-de)-.5)})}var kb=1,Fb=1,nc=Za;G.contour=ya;G.size=function(ec){if(!arguments.length)return[kb,Fb];var ic=Math.floor(ec[0]),Tc=Math.floor(ec[1]);0<=ic&&0<=Tc||P.error("invalid size");return kb=ic,Fb=Tc,G};G.smooth=function(ec){return arguments.length?
(nc=ec?Za:Yb,G):nc===Za};return G}function ub(G,ya,Na){return function(Za){var kb=P.extent(Za);Za=Na?Math.min(kb[0],0):kb[0];kb=kb[1];var Fb=kb-Za;if(ya){var nc=G;var ec=+kb;var ic=+Za;nc=+nc;ic=(Fb=ec<ic)?Ac(ec,ic,nc):Ac(ic,ec,nc);Fb=(Fb?-1:1)*(0>ic?1/-ic:ic)}else Fb/=G+1;return Bb(Za+Fb,kb,Fb)}}function Kb(G){k.Transform.call(this,null,G)}function Lb(G,ya,Na){const Za=ub(Na.levels||10,Na.nice,!1!==Na.zero);return"shared"!==Na.resolve?Za:Za(G.map(kb=>uc(ya(kb).values)))}function Cb(G,ya,Na,Za){var kb=
Za.scale||ya.scale;let Fb=Za.translate||ya.translate;P.isFunction(kb)&&(kb=kb(Na,Za));P.isFunction(Fb)&&(Fb=Fb(Na,Za));if(1!==kb&&null!=kb||Fb)Na=(P.isNumber(kb)?kb:kb[0])||1,kb=(P.isNumber(kb)?kb:kb[1])||1,G.forEach(Pb(ya,Na,kb,Fb&&Fb[0]||0,Fb&&Fb[1]||0))}function Pb(G,ya,Na,Za,kb){function Fb(ed){ed.forEach(nc)}function nc(ed){dd&&ed.reverse();ed.forEach(ec)}function ec(ed){ed[0]=(ed[0]-ic)*ya+Za;ed[1]=(ed[1]-Tc)*Na+kb}const ic=G.x1||0,Tc=G.y1||0,dd=0>ya*Na;return function(ed){ed.coordinates.forEach(Fb);
return ed}}function ab(G,ya,Na){G=0<=G?G:ib.bandwidthNRD(ya,Na);return Math.round((Math.sqrt(4*G*G+1)-1)/2)}function pb(G){return P.isFunction(G)?G:P.constant(+G)}function Qa(){function G(ic,Tc){const dd=ab(kb[0],ic,ya)>>ec,ed=ab(kb[1],ic,Na)>>ec,Qd=dd?dd+2:0,Td=ed?ed+2:0,Fd=2*Qd+(Fb>>ec),Zd=2*Td+(nc>>ec),de=new Float32Array(Fd*Zd),Ud=new Float32Array(Fd*Zd);let Ve=de;ic.forEach(Xd=>{const N=Qd+(+ya(Xd)>>ec),la=Td+(+Na(Xd)>>ec);0<=N&&N<Fd&&0<=la&&la<Zd&&(de[N+la*Fd]+=+Za(Xd))});0<dd&&0<ed?(Da(Fd,
Zd,de,Ud,dd),Ka(Fd,Zd,Ud,de,ed),Da(Fd,Zd,de,Ud,dd),Ka(Fd,Zd,Ud,de,ed),Da(Fd,Zd,de,Ud,dd),Ka(Fd,Zd,Ud,de,ed)):0<dd?(Da(Fd,Zd,de,Ud,dd),Da(Fd,Zd,Ud,de,dd),Da(Fd,Zd,de,Ud,dd),Ve=Ud):0<ed&&(Ka(Fd,Zd,de,Ud,ed),Ka(Fd,Zd,Ud,de,ed),Ka(Fd,Zd,de,Ud,ed),Ve=Ud);ic=Tc?Math.pow(2,-2*ec):1/jc(Ve);for(let Xd=0,N=Fd*Zd;Xd<N;++Xd)Ve[Xd]*=ic;return{values:Ve,scale:1<<ec,width:Fd,height:Zd,x1:Qd,y1:Td,x2:Qd+(Fb>>ec),y2:Td+(nc>>ec)}}var ya=ic=>ic[0],Na=ic=>ic[1],Za=P.one,kb=[-1,-1],Fb=960,nc=500,ec=2;G.x=function(ic){return arguments.length?
(ya=pb(ic),G):ya};G.y=function(ic){return arguments.length?(Na=pb(ic),G):Na};G.weight=function(ic){return arguments.length?(Za=pb(ic),G):Za};G.size=function(ic){if(!arguments.length)return[Fb,nc];var Tc=+ic[0],dd=+ic[1];0<=Tc&&0<=dd||P.error("invalid size");return Fb=Tc,nc=dd,G};G.cellSize=function(ic){if(!arguments.length)return 1<<ec;1<=(ic=+ic)||P.error("invalid cell size");ec=Math.floor(Math.log(ic)/Math.LN2);return G};G.bandwidth=function(ic){if(!arguments.length)return kb;ic=P.array(ic);1===
ic.length&&(ic=[+ic[0],+ic[0]]);2!==ic.length&&P.error("invalid bandwidth");return kb=ic,G};return G}function Da(G,ya,Na,Za,kb){const Fb=(kb<<1)+1;for(let nc=0;nc<ya;++nc)for(let ec=0,ic=0;ec<G+kb;++ec)ec<G&&(ic+=Na[ec+nc*G]),ec>=kb&&(ec>=Fb&&(ic-=Na[ec-Fb+nc*G]),Za[ec-kb+nc*G]=ic/Math.min(ec+1,G-1+Fb-ec,Fb))}function Ka(G,ya,Na,Za,kb){const Fb=(kb<<1)+1;for(let nc=0;nc<G;++nc)for(let ec=0,ic=0;ec<ya+kb;++ec)ec<ya&&(ic+=Na[nc+ec*G]),ec>=kb&&(ec>=Fb&&(ic-=Na[nc+(ec-Fb)*G]),Za[nc+(ec-kb)*G]=ic/Math.min(ec+
1,ya-1+Fb-ec,Fb))}function lb(G){k.Transform.call(this,null,G)}function mb(G,ya){Tb.forEach(Na=>null!=ya[Na]?G[Na](ya[Na]):0);return G}function Pa(G,ya){var Na=[],Za=dd=>dd(ec),kb;if(null==ya)Na.push(G);else{var Fb={};var nc=0;for(kb=G.length;nc<kb;++nc){var ec=G[nc];var ic=ya.map(Za);var Tc=Fb[ic];Tc||(Fb[ic]=Tc=[],Tc.dims=ic,Na.push(Tc));Tc.push(ec)}}return Na}function xb(G){k.Transform.call(this,null,G)}function sb(G){k.Transform.call(this,null,G)}function Qb(G){k.Transform.call(this,null,G)}function Wb(G,
ya){const Na=G.pointRadius();G.context(null);null!=ya&&G.pointRadius(ya);return Na}function ob(G){k.Transform.call(this,null,G)}function pa(G){k.Transform.call(this,null,G)}function Z(G,ya,Na){const Za=null==Na?kb=>G(ya(kb)):kb=>{var Fb=G.pointRadius();kb=G.pointRadius(Na)(ya(kb));G.pointRadius(Fb);return kb};Za.context=kb=>{G.context(kb);return Za};return Za}function Fa(G,ya,Na){var Za=Bb(G,ya-1E-6,Na).concat(ya);return function(kb){return Za.map(function(Fb){return[kb,Fb]})}}function Ga(G,ya,Na){var Za=
Bb(G,ya-1E-6,Na).concat(ya);return function(kb){return Za.map(function(Fb){return[Fb,kb]})}}function db(){function G(){return{type:"MultiLineString",coordinates:ya()}}function ya(){return Bb(cc(Fb/Qd)*Qd,kb,Qd).map(de).concat(Bb(cc(Tc/Td)*Td,ic,Td).map(Ud)).concat(Bb(cc(Za/dd)*dd,Na,dd).filter(function(Xd){return 1E-6<gc(Xd%Qd)}).map(Fd)).concat(Bb(cc(ec/ed)*ed,nc,ed).filter(function(Xd){return 1E-6<gc(Xd%Td)}).map(Zd))}var Na,Za,kb,Fb,nc,ec,ic,Tc,dd=10,ed=dd,Qd=90,Td=360,Fd,Zd,de,Ud,Ve=2.5;G.lines=
function(){return ya().map(function(Xd){return{type:"LineString",coordinates:Xd}})};G.outline=function(){return{type:"Polygon",coordinates:[de(Fb).concat(Ud(ic).slice(1),de(kb).reverse().slice(1),Ud(Tc).reverse().slice(1))]}};G.extent=function(Xd){return arguments.length?G.extentMajor(Xd).extentMinor(Xd):G.extentMinor()};G.extentMajor=function(Xd){if(!arguments.length)return[[Fb,Tc],[kb,ic]];Fb=+Xd[0][0];kb=+Xd[1][0];Tc=+Xd[0][1];ic=+Xd[1][1];Fb>kb&&(Xd=Fb,Fb=kb,kb=Xd);Tc>ic&&(Xd=Tc,Tc=ic,ic=Xd);
return G.precision(Ve)};G.extentMinor=function(Xd){if(!arguments.length)return[[Za,ec],[Na,nc]];Za=+Xd[0][0];Na=+Xd[1][0];ec=+Xd[0][1];nc=+Xd[1][1];Za>Na&&(Xd=Za,Za=Na,Na=Xd);ec>nc&&(Xd=ec,ec=nc,nc=Xd);return G.precision(Ve)};G.step=function(Xd){return arguments.length?G.stepMajor(Xd).stepMinor(Xd):G.stepMinor()};G.stepMajor=function(Xd){if(!arguments.length)return[Qd,Td];Qd=+Xd[0];Td=+Xd[1];return G};G.stepMinor=function(Xd){if(!arguments.length)return[dd,ed];dd=+Xd[0];ed=+Xd[1];return G};G.precision=
function(Xd){if(!arguments.length)return Ve;Ve=+Xd;Fd=Fa(ec,nc,90);Zd=Ga(Za,Na,Ve);de=Fa(Tc,ic,90);Ud=Ga(Fb,kb,Ve);return G};return G.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function ba(G){k.Transform.call(this,[],G);this.generator=db()}function na(G,ya,Na){G.prototype=ya.prototype=Na;Na.constructor=G}function q(G,ya){G=Object.create(G.prototype);for(var Na in ya)G[Na]=ya[Na];return G}function M(){}function Q(){return this.rgb().formatHex()}
function g(){return this.rgb().formatRgb()}function u(G){var ya,Na;G=(G+"").trim().toLowerCase();return(ya=zc.exec(G))?(Na=ya[1].length,ya=parseInt(ya[1],16),6===Na?m(ya):3===Na?new A(ya>>8&15|ya>>4&240,ya>>4&15|ya&240,(ya&15)<<4|ya&15,1):8===Na?C(ya>>24&255,ya>>16&255,ya>>8&255,(ya&255)/255):4===Na?C(ya>>12&15|ya>>8&240,ya>>8&15|ya>>4&240,ya>>4&15|ya&240,((ya&15)<<4|ya&15)/255):null):(ya=Yc.exec(G))?new A(ya[1],ya[2],ya[3],1):(ya=Md.exec(G))?new A(255*ya[1]/100,255*ya[2]/100,255*ya[3]/100,1):(ya=
ud.exec(G))?C(ya[1],ya[2],ya[3],ya[4]):(ya=Ha.exec(G))?C(255*ya[1]/100,255*ya[2]/100,255*ya[3]/100,ya[4]):(ya=gb.exec(G))?t(ya[1],ya[2]/100,ya[3]/100,1):(ya=wb.exec(G))?t(ya[1],ya[2]/100,ya[3]/100,ya[4]):sa.hasOwnProperty(G)?m(sa[G]):"transparent"===G?new A(NaN,NaN,NaN,0):null}function m(G){return new A(G>>16&255,G>>8&255,G&255,1)}function C(G,ya,Na,Za){0>=Za&&(G=ya=Na=NaN);return new A(G,ya,Na,Za)}function B(G,ya,Na,Za){if(1===arguments.length){var kb=G;kb instanceof M||(kb=u(kb));kb?(kb=kb.rgb(),
kb=new A(kb.r,kb.g,kb.b,kb.opacity)):kb=new A}else kb=new A(G,ya,Na,null==Za?1:Za);return kb}function A(G,ya,Na,Za){this.r=+G;this.g=+ya;this.b=+Na;this.opacity=+Za}function E(){return`#${Y(this.r)}${Y(this.g)}${Y(this.b)}`}function H(){const G=V(this.opacity);return`${1===G?"rgb(":"rgba("}${Aa(this.r)}, ${Aa(this.g)}, ${Aa(this.b)}${1===G?")":`, ${G})`}`}function V(G){return isNaN(G)?1:Math.max(0,Math.min(1,G))}function Aa(G){return Math.max(0,Math.min(255,Math.round(G)||0))}function Y(G){G=Aa(G);
return(16>G?"0":"")+G.toString(16)}function t(G,ya,Na,Za){0>=Za?G=ya=Na=NaN:0>=Na||1<=Na?G=ya=NaN:0>=ya&&(G=NaN);return new va(G,ya,Na,Za)}function L(G){if(G instanceof va)return new va(G.h,G.s,G.l,G.opacity);G instanceof M||(G=u(G));if(!G)return new va;if(G instanceof va)return G;G=G.rgb();var ya=G.r/255,Na=G.g/255,Za=G.b/255,kb=Math.min(ya,Na,Za),Fb=Math.max(ya,Na,Za),nc=NaN,ec=Fb-kb,ic=(Fb+kb)/2;ec?(nc=ya===Fb?(Na-Za)/ec+6*(Na<Za):Na===Fb?(Za-ya)/ec+2:(ya-Na)/ec+4,ec/=.5>ic?Fb+kb:2-Fb-kb,nc*=60):
ec=0<ic&&1>ic?0:nc;return new va(nc,ec,ic,G.opacity)}function va(G,ya,Na,Za){this.h=+G;this.s=+ya;this.l=+Na;this.opacity=+Za}function La(G){G=(G||0)%360;return 0>G?G+360:G}function Wa(G){return Math.max(0,Math.min(1,G||0))}function $a(G,ya,Na){return 255*(60>G?ya+(Na-ya)*G/60:180>G?Na:240>G?ya+(Na-ya)*(240-G)/60:ya)}function X(G){k.Transform.call(this,null,G)}function Ca(G,ya){let Na;P.isFunction(G)?(Na=Za=>B(G(Za,ya)),Na.dep=Ib(G)):Na=P.constant(B(G||"#888"));return Na}function Ya(G,ya){let Na;
P.isFunction(G)?(Na=Za=>G(Za,ya),Na.dep=Ib(G)):G?Na=P.constant(G):(Na=Za=>Za.$value/Za.$max||0,Na.dep=!0);return Na}function Ib(G){if(!P.isFunction(G))return!1;G=P.toSet(P.accessorFields(G));return G.$x||G.$y||G.$value||G.$max}function yc(G,ya,Na,Za){const kb=G.width;var Fb=G.height;const nc=G.x1||0,ec=G.y1||0,ic=G.x2||kb;Fb=G.y2||Fb;const Tc=G.values;G=Tc?Fd=>Tc[Fd]:P.zero;const dd=ac.canvas(ic-nc,Fb-ec),ed=dd.getContext("2d"),Qd=ed.getImageData(0,0,ic-nc,Fb-ec),Td=Qd.data;for(let Fd=ec,Zd=0;Fd<
Fb;++Fd){ya.$y=Fd-ec;for(let de=nc,Ud=Fd*kb;de<ic;++de,Zd+=4){ya.$x=de-nc;ya.$value=G(de+Ud);const Ve=Na(ya);Td[Zd+0]=Ve.r;Td[Zd+1]=Ve.g;Td[Zd+2]=Ve.b;Td[Zd+3]=~~(255*Za(ya))}}ed.putImageData(Qd,0,0);return dd}function sc(G){k.Transform.call(this,null,G);this.modified(!0)}function xc(G,ya){const Na=Zb(ya.fit);ya.extent?G.fitExtent(ya.extent,Na):ya.size?G.fitSize(ya.size,Na):0}function cd(G){const ya=Gb.projection((G||"mercator").toLowerCase());ya||P.error("Unrecognized projection type: "+G);return ya()}
function Zb(G){G=P.array(G);return 1===G.length?G[0]:{type:"FeatureCollection",features:G.reduce((ya,Na)=>ya.concat(Rc(Na)),[])}}function Rc(G){return"FeatureCollection"===G.type?G.features:P.array(G).filter(ya=>null!=ya).map(ya=>"Feature"===ya.type?ya:{type:"Feature",geometry:ya})}const Pd=Math.sqrt(50),Ma=Math.sqrt(10),Vb=Math.sqrt(2),qb=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,
1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];Kb.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",type:"boolean",
"default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};P.inherits(Kb,k.Transform,{transform(G,ya){if(this.value&&!ya.changed()&&!G.modified())return ya.StopPropagation;var Na=ya.fork(ya.NO_SOURCE|ya.NO_FIELDS);ya=ya.materialize(ya.SOURCE).source;var Za=G.field||P.identity,kb=Ua().smooth(!1!==G.smooth),Fb=G.thresholds||Lb(ya,Za,G),nc=null===G.as?null:G.as||"contour",ec=[];ya.forEach(ic=>{const Tc=
Za(ic),dd=kb.size([Tc.width,Tc.height])(Tc.values,P.isArray(Fb)?Fb:Fb(Tc.values));Cb(dd,Tc,ic,G);dd.forEach(ed=>{ec.push(k.rederive(ic,k.ingest(null!=nc?{[nc]:ed}:ed)))})});this.value&&(Na.rem=this.value);this.value=Na.source=Na.add=ec;return Na}});lb.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},
{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const Tb="x y weight size cellSize bandwidth".split(" ");P.inherits(lb,k.Transform,{transform(G,ya){if(this.value&&!ya.changed()&&!G.modified())return ya.StopPropagation;var Na=ya.fork(ya.NO_SOURCE|ya.NO_FIELDS);ya=ya.materialize(ya.SOURCE).source;ya=Pa(ya,G.groupby);var Za=(G.groupby||[]).map(P.accessorName),kb=mb(Qa(),G),Fb=G.as||
"grid",nc=[];nc=ya.map(ec=>{var ic=k.ingest,Tc={[Fb]:kb(ec,G.counts)};ec=ec.dims;for(let dd=0;dd<Za.length;++dd)Tc[Za[dd]]=ec[dd];return ic.call(k,Tc)});this.value&&(Na.rem=this.value);this.value=Na.source=Na.add=nc;return Na}});xb.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",
type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};P.inherits(xb,k.Transform,{transform(G,ya){if(this.value&&!ya.changed()&&!G.modified())return ya.StopPropagation;var Na=ya.fork(ya.NO_SOURCE|ya.NO_FIELDS),Za=Ua().smooth(!1!==G.smooth),kb=G.values,Fb=G.thresholds||ub(G.count||10,G.nice,!!kb),nc=G.size;if(!kb){kb=ya.materialize(ya.SOURCE).source;G=mb(Qa(),G)(kb,!0);var ec=Pb(G,
G.scale||1,G.scale||1,0,0);nc=[G.width,G.height];kb=G.values}Fb=P.isArray(Fb)?Fb:Fb(kb);kb=Za.size(nc)(kb,Fb);ec&&kb.forEach(ec);this.value&&(Na.rem=this.value);this.value=Na.source=Na.add=(kb||[]).map(k.ingest);return Na}});sb.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};P.inherits(sb,k.Transform,{transform(G,ya){var Na=this._features,Za=this._points,kb=G.fields,Fb=kb&&kb[0],nc=kb&&kb[1],ec=G.geojson||!kb&&P.identity;
kb=ya.ADD;G=G.modified()||ya.changed(ya.REM)||ya.modified(P.accessorFields(ec))||Fb&&ya.modified(P.accessorFields(Fb))||nc&&ya.modified(P.accessorFields(nc));if(!this.value||G)kb=ya.SOURCE,this._features=Na=[],this._points=Za=[];ec&&ya.visit(kb,ic=>Na.push(ec(ic)));Fb&&nc&&(ya.visit(kb,ic=>{var Tc=Fb(ic);ic=nc(ic);null!=Tc&&null!=ic&&(Tc=+Tc)===Tc&&(ic=+ic)===ic&&Za.push([Tc,ic])}),Na=Na.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:Za}}));this.value={type:"FeatureCollection",features:Na}}});
Qb.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};P.inherits(Qb,k.Transform,{transform(G,ya){var Na=ya.fork(ya.ALL),Za=this.value,kb=G.field||P.identity,Fb=G.as||"path",nc=Na.SOURCE;!Za||G.modified()?(this.value=Za=Gb.getProjectionPath(G.projection),Na.materialize().reflow()):nc=kb===P.identity||ya.modified(kb.fields)?Na.ADD_MOD:Na.ADD;
G=Wb(Za,G.pointRadius);Na.visit(nc,ec=>ec[Fb]=Za(kb(ec)));Za.pointRadius(G);return Na.modifies(Fb)}});ob.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};P.inherits(ob,k.Transform,{transform(G,ya){function Na(Tc){const dd=Za([kb(Tc),Fb(Tc)]);dd?(Tc[ec]=dd[0],Tc[ic]=dd[1]):(Tc[ec]=void 0,Tc[ic]=void 0)}var Za=G.projection,
kb=G.fields[0],Fb=G.fields[1],nc=G.as||["x","y"],ec=nc[0],ic=nc[1];G.modified()?ya=ya.materialize().reflow(!0).visit(ya.SOURCE,Na):(G=ya.modified(kb.fields)||ya.modified(Fb.fields),ya.visit(G?ya.ADD_MOD:ya.ADD,Na));return ya.modifies(nc)}});pa.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};P.inherits(pa,k.Transform,
{transform(G,ya){ya=ya.fork(ya.ALL);var Na=this.value,Za=G.as||"shape",kb=ya.ADD;if(!Na||G.modified())this.value=Na=Z(Gb.getProjectionPath(G.projection),G.field||P.field("datum"),G.pointRadius),ya.materialize().reflow(),kb=ya.SOURCE;ya.visit(kb,Fb=>Fb[Za]=Na);return ya.modifies(Za)}});var gc=Math.abs,cc=Math.ceil;ba.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",
array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};P.inherits(ba,k.Transform,{transform(G,ya){var Na=this.value,Za=this.generator;if(!Na.length||G.modified())for(const kb in G)if(P.isFunction(Za[kb]))Za[kb](G[kb]);
G=Za();Na.length?ya.mod.push(k.replace(Na[0],G)):ya.add.push(k.ingest(G));Na[0]=G;return ya}});var Ic=1/.7,zc=/^#([0-9a-f]{3,8})$/,Yc=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),Md=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),ud=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
Ha=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),gb=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),wb=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
sa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};na(M,u,{copy(G){return Object.assign(new this.constructor,this,G)},displayable(){return this.rgb().displayable()},hex:Q,formatHex:Q,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return L(this).formatHsl()},formatRgb:g,toString:g});na(A,B,q(M,{brighter(G){G=null==G?Ic:Math.pow(Ic,G);return new A(this.r*G,this.g*G,this.b*G,this.opacity)},darker(G){G=
null==G?.7:Math.pow(.7,G);return new A(this.r*G,this.g*G,this.b*G,this.opacity)},rgb(){return this},clamp(){return new A(Aa(this.r),Aa(this.g),Aa(this.b),V(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:E,formatHex:E,formatHex8:function(){return`#${Y(this.r)}${Y(this.g)}${Y(this.b)}${Y(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:H,toString:H}));na(va,function(G,ya,Na,Za){return 1===
arguments.length?L(G):new va(G,ya,Na,null==Za?1:Za)},q(M,{brighter(G){G=null==G?Ic:Math.pow(Ic,G);return new va(this.h,this.s,this.l*G,this.opacity)},darker(G){G=null==G?.7:Math.pow(.7,G);return new va(this.h,this.s,this.l*G,this.opacity)},rgb(){var G=this.h%360+360*(0>this.h),ya=isNaN(G)||isNaN(this.s)?0:this.s,Na=this.l;ya=Na+(.5>Na?Na:1-Na)*ya;Na=2*Na-ya;return new A($a(240<=G?G-240:G+120,Na,ya),$a(G,Na,ya),$a(120>G?G+240:G-120,Na,ya),this.opacity)},clamp(){return new va(La(this.h),Wa(this.s),
Wa(this.l),V(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const G=V(this.opacity);return`${1===G?"hsl(":"hsla("}${La(this.h)}, ${100*Wa(this.s)}%, ${100*Wa(this.l)}%${1===G?")":`, ${G})`}`}}));X.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],
"default":"independent"},{name:"as",type:"string","default":"image"}]};P.inherits(X,k.Transform,{transform(G,ya){if(!ya.changed()&&!G.modified())return ya.StopPropagation;var Na=ya.materialize(ya.SOURCE).source,Za="shared"===G.resolve,kb=G.field||P.identity,Fb=Ya(G.opacity,G),nc=Ca(G.color,G),ec=G.as||"image",ic={$x:0,$y:0,$value:0,$max:Za?uc(Na.map(Tc=>uc(kb(Tc).values))):0};Na.forEach(Tc=>{const dd=kb(Tc),ed=P.extend({},Tc,ic);Za||(ed.$max=uc(dd.values||[]));Tc[ec]=yc(dd,ed,nc.dep?nc:P.constant(nc(ed)),
Fb.dep?Fb:P.constant(Fb(ed)))});return ya.reflow(!0).modifies(ec)}});P.inherits(sc,k.Transform,{transform(G,ya){let Na=this.value;!Na||G.modified("type")?(this.value=Na=cd(G.type),Gb.projectionProperties.forEach(Za=>{if(null!=G[Za]){var kb=Na,Fb=G[Za];if(P.isFunction(kb[Za]))kb[Za](Fb)}})):Gb.projectionProperties.forEach(Za=>{if(G.modified(Za)){var kb=Na,Fb=G[Za];if(P.isFunction(kb[Za]))kb[Za](Fb)}});null!=G.pointRadius&&Na.path.pointRadius(G.pointRadius);G.fit&&xc(Na,G);return ya.fork(ya.NO_SOURCE|
ya.NO_FIELDS)}});v.contour=xb;v.geojson=sb;v.geopath=Qb;v.geopoint=ob;v.geoshape=pa;v.graticule=ba;v.heatmap=X;v.isocontour=Kb;v.kde2d=lb;v.projection=sc})};
shadow$provide[39]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(29),Db(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega))})(this,function(v,k,P){function ib(Y,t,L,va){if(isNaN(t)||isNaN(L))return Y;var La,Wa=Y._root;va={data:va};var $a=Y._x0,X=Y._y0,Ca=Y._x1,Ya=Y._y1,Ib,yc,sc,xc,cd;if(!Wa)return Y._root=
va,Y;for(;Wa.length;)if((sc=t>=(Ib=($a+Ca)/2))?$a=Ib:Ca=Ib,(xc=L>=(yc=(X+Ya)/2))?X=yc:Ya=yc,La=Wa,!(Wa=Wa[cd=xc<<1|sc]))return La[cd]=va,Y;var Zb=+Y._x.call(null,Wa.data);var Rc=+Y._y.call(null,Wa.data);if(t===Zb&&L===Rc)return va.next=Wa,La?La[cd]=va:Y._root=va,Y;do La=La?La[cd]=Array(4):Y._root=Array(4),(sc=t>=(Ib=($a+Ca)/2))?$a=Ib:Ca=Ib,(xc=L>=(yc=(X+Ya)/2))?X=yc:Ya=yc;while((cd=xc<<1|sc)===(sc=(Rc>=yc)<<1|Zb>=Ib));return La[sc]=Wa,La[cd]=va,Y}function Gb(Y,t,L,va,La){this.node=Y;this.x0=t;this.y0=
L;this.x1=va;this.y1=La}function ac(Y){return Y[0]}function vc(Y){return Y[1]}function Ac(Y,t,L){t=new uc(null==t?ac:t,null==L?vc:L,NaN,NaN,NaN,NaN);return null==Y?t:t.addAll(Y)}function uc(Y,t,L,va,La,Wa){this._x=Y;this._y=t;this._x0=L;this._y0=va;this._x1=La;this._y1=Wa;this._root=void 0}function Bb(Y){for(var t={data:Y.data},L=t;Y=Y.next;)L=L.next={data:Y.data};return t}function jc(Y){return function(){return Y}}function Yb(Y){return Y.x+Y.vx}function Ua(Y){return Y.y+Y.vy}function ub(Y){return Y.index}
function Kb(Y,t){Y=Y.get(t);if(!Y)throw Error("node not found: "+t);return Y}function Lb(){for(var Y=0,t=arguments.length,L={},va;Y<t;++Y){if(!(va=arguments[Y]+"")||va in L||/[\s.]/.test(va))throw Error("illegal type: "+va);L[va]=[]}return new Cb(L)}function Cb(Y){this._=Y}function Pb(Y,t){return Y.trim().split(/^|\s+/).map(function(L){var va="",La=L.indexOf(".");0<=La&&(va=L.slice(La+1),L=L.slice(0,La));if(L&&!t.hasOwnProperty(L))throw Error("unknown type: "+L);return{type:L,name:va}})}function ab(Y,
t,L){for(var va=0,La=Y.length;va<La;++va)if(Y[va].name===t){Y[va]=db;Y=Y.slice(0,va).concat(Y.slice(va+1));break}null!=L&&Y.push({name:t,value:L});return Y}function pb(){u=0}function Qa(){this._call=this._time=this._next=null}function Da(Y,t,L){var va=new Qa;va.restart(Y,t,L);return va}function Ka(){u=(g=C.now())+m;ba=na=0;try{u||(B(pb),u=C.now()+m);++ba;for(var Y=M,t;Y;)0<=(t=u-Y._time)&&Y._call.call(void 0,t),Y=Y._next;--ba}finally{ba=0;Y=M;for(var L=Infinity;Y;)if(Y._call){L>Y._time&&(L=Y._time);
var va=Y;Y=Y._next}else t=Y._next,Y._next=null,Y=va?va._next=t:M=t;Q=va;mb(L);u=0}}function lb(){var Y=C.now(),t=Y-g;1E3<t&&(m-=t,g=Y)}function mb(Y){ba||(na&&(na=clearTimeout(na)),24<Y-u?(Infinity>Y&&(na=setTimeout(Ka,Y-C.now()-m)),q&&(q=clearInterval(q))):(q||(g=C.now(),q=setInterval(lb,1E3)),ba=1,B(Ka)))}function Pa(){let Y=1;return()=>(Y=(1664525*Y+1013904223)%4294967296)/4294967296}function xb(Y){return Y.x}function sb(Y){return Y.y}function Qb(Y){function t(){L();xc.call("tick",Wa);$a<X&&(sc.stop(),
xc.call("end",Wa))}function L(Zb){var Rc,Pd=Y.length;void 0===Zb&&(Zb=1);for(var Ma=0;Ma<Zb;++Ma)for($a+=(Ya-$a)*Ca,yc.forEach(function(qb){qb($a)}),Rc=0;Rc<Pd;++Rc){var Vb=Y[Rc];null==Vb.fx?Vb.x+=Vb.vx*=Ib:(Vb.x=Vb.fx,Vb.vx=0);null==Vb.fy?Vb.y+=Vb.vy*=Ib:(Vb.y=Vb.fy,Vb.vy=0)}return Wa}function va(){for(var Zb=0,Rc=Y.length,Pd;Zb<Rc;++Zb){Pd=Y[Zb];Pd.index=Zb;null!=Pd.fx&&(Pd.x=Pd.fx);null!=Pd.fy&&(Pd.y=Pd.fy);if(isNaN(Pd.x)||isNaN(Pd.y)){var Ma=10*Math.sqrt(.5+Zb),Vb=Zb*A;Pd.x=Ma*Math.cos(Vb);Pd.y=
Ma*Math.sin(Vb)}if(isNaN(Pd.vx)||isNaN(Pd.vy))Pd.vx=Pd.vy=0}}function La(Zb){Zb.initialize&&Zb.initialize(Y,cd);return Zb}var Wa,$a=1,X=.001,Ca=1-Math.pow(X,1/300),Ya=0,Ib=.6,yc=new Map,sc=Da(t),xc=Lb("tick","end"),cd=Pa();null==Y&&(Y=[]);va();return Wa={tick:L,restart:function(){return sc.restart(t),Wa},stop:function(){return sc.stop(),Wa},nodes:function(Zb){return arguments.length?(Y=Zb,va(),yc.forEach(La),Wa):Y},alpha:function(Zb){return arguments.length?($a=+Zb,Wa):$a},alphaMin:function(Zb){return arguments.length?
(X=+Zb,Wa):X},alphaDecay:function(Zb){return arguments.length?(Ca=+Zb,Wa):+Ca},alphaTarget:function(Zb){return arguments.length?(Ya=+Zb,Wa):Ya},velocityDecay:function(Zb){return arguments.length?(Ib=1-Zb,Wa):1-Ib},randomSource:function(Zb){return arguments.length?(cd=Zb,yc.forEach(La),Wa):cd},force:function(Zb,Rc){return 1<arguments.length?(null==Rc?yc.delete(Zb):yc.set(Zb,La(Rc)),Wa):yc.get(Zb)},find:function(Zb,Rc,Pd){var Ma,Vb=Y.length;Pd=null==Pd?Infinity:Pd*Pd;for(Ma=0;Ma<Vb;++Ma){var qb=Y[Ma];
var Tb=Zb-qb.x;var gc=Rc-qb.y;Tb=Tb*Tb+gc*gc;if(Tb<Pd){var cc=qb;Pd=Tb}}return cc},on:function(Zb,Rc){return 1<arguments.length?(xc.on(Zb,Rc),Wa):xc.on(Zb)}}}function Wb(Y){k.Transform.call(this,null,Y)}function ob(Y,t){return()=>Y.touch(t).run()}function pa(Y,t){Y=Qb(Y);const L=Y.stop,va=Y.restart;let La=!1;Y.stopped=()=>La;Y.restart=()=>(La=!1,va());Y.stop=()=>(La=!0,L());return Z(Y,t,!0).on("end",()=>La=!0)}function Z(Y,t,L,va){var La=P.array(t.forces),Wa;var $a=0;for(Wa=H.length;$a<Wa;++$a){var X=
H[$a];if("forces"!==X&&t.modified(X))Y[X](t[X])}$a=0;for(Wa=La.length;$a<Wa;++$a){var Ca="forces"+$a;if(L||t.modified("forces",$a)){X=void 0;var Ya=La[$a];P.hasOwnProperty(E,Ya.force)||P.error("Unrecognized force: "+Ya.force);var Ib=E[Ya.force]();for(X in Ya)P.isFunction(Ib[X])&&Fa(Ib[X],Ya[X],Ya);X=Ib}else{if(X=va)a:{Ib=X=void 0;Ya=La[$a];var yc=va;for(Ib in Ya)if(P.isFunction(X=Ya[Ib])&&yc.modified(P.accessorFields(X))){X=1;break a}X=0}X=X?Y.force(Ca):null}X&&Y.force(Ca,X)}for(Wa=Y.numForces||0;$a<
Wa;++$a)Y.force("forces"+$a,null);Y.numForces=La.length;return Y}function Fa(Y,t,L){Y(P.isFunction(t)?va=>t(va,L):t)}var Ga=Ac.prototype=uc.prototype;Ga.copy=function(){var Y=new uc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,L,va;if(!t)return Y;if(!t.length)return Y._root=Bb(t),Y;for(L=[{source:t,target:Y._root=Array(4)}];t=L.pop();)for(var La=0;4>La;++La)if(va=t.source[La])va.length?L.push({source:va,target:t.target[La]=Array(4)}):t.target[La]=Bb(va);return Y};Ga.add=function(Y){const t=
+this._x.call(null,Y),L=+this._y.call(null,Y);return ib(this.cover(t,L),t,L,Y)};Ga.addAll=function(Y){var t,L,va=Y.length,La,Wa,$a=Array(va),X=Array(va),Ca=Infinity,Ya=Infinity,Ib=-Infinity,yc=-Infinity;for(L=0;L<va;++L)isNaN(La=+this._x.call(null,t=Y[L]))||isNaN(Wa=+this._y.call(null,t))||($a[L]=La,X[L]=Wa,La<Ca&&(Ca=La),La>Ib&&(Ib=La),Wa<Ya&&(Ya=Wa),Wa>yc&&(yc=Wa));if(Ca>Ib||Ya>yc)return this;this.cover(Ca,Ya).cover(Ib,yc);for(L=0;L<va;++L)ib(this,$a[L],X[L],Y[L]);return this};Ga.cover=function(Y,
t){if(isNaN(Y=+Y)||isNaN(t=+t))return this;var L=this._x0,va=this._y0,La=this._x1,Wa=this._y1;if(isNaN(L))La=(L=Math.floor(Y))+1,Wa=(va=Math.floor(t))+1;else{for(var $a=La-L||1,X=this._root,Ca,Ya;L>Y||Y>=La||va>t||t>=Wa;)switch(Ya=(t<va)<<1|Y<L,Ca=Array(4),Ca[Ya]=X,X=Ca,$a*=2,Ya){case 0:La=L+$a;Wa=va+$a;break;case 1:L=La-$a;Wa=va+$a;break;case 2:La=L+$a;va=Wa-$a;break;case 3:L=La-$a,va=Wa-$a}this._root&&this._root.length&&(this._root=X)}this._x0=L;this._y0=va;this._x1=La;this._y1=Wa;return this};
Ga.data=function(){var Y=[];this.visit(function(t){if(!t.length){do Y.push(t.data);while(t=t.next)}});return Y};Ga.extent=function(Y){return arguments.length?this.cover(+Y[0][0],+Y[0][1]).cover(+Y[1][0],+Y[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};Ga.find=function(Y,t,L){var va=this._x0,La=this._y0,Wa,$a,X,Ca,Ya=this._x1,Ib=this._y1,yc=[],sc=this._root,xc;sc&&yc.push(new Gb(sc,va,La,Ya,Ib));null==L?L=Infinity:(va=Y-L,La=t-L,Ya=Y+L,Ib=t+L,L*=L);for(;xc=yc.pop();)if(!(!(sc=
xc.node)||(Wa=xc.x0)>Ya||($a=xc.y0)>Ib||(X=xc.x1)<va||(Ca=xc.y1)<La))if(sc.length){xc=(Wa+X)/2;var cd=($a+Ca)/2;yc.push(new Gb(sc[3],xc,cd,X,Ca),new Gb(sc[2],Wa,cd,xc,Ca),new Gb(sc[1],xc,$a,X,cd),new Gb(sc[0],Wa,$a,xc,cd));if(sc=(t>=cd)<<1|Y>=xc)xc=yc[yc.length-1],yc[yc.length-1]=yc[yc.length-1-sc],yc[yc.length-1-sc]=xc}else if(xc=Y-+this._x.call(null,sc.data),cd=t-+this._y.call(null,sc.data),xc=xc*xc+cd*cd,xc<L){var Zb=Math.sqrt(L=xc);va=Y-Zb;La=t-Zb;Ya=Y+Zb;Ib=t+Zb;Zb=sc.data}return Zb};Ga.remove=
function(Y){if(isNaN(Ca=+this._x.call(null,Y))||isNaN(Ya=+this._y.call(null,Y)))return this;var t,L=this._root,va,La=this._x0,Wa=this._y0,$a=this._x1,X=this._y1,Ca,Ya,Ib,yc,sc,xc,cd;if(!L)return this;if(L.length)for(;;){(sc=Ca>=(Ib=(La+$a)/2))?La=Ib:$a=Ib;(xc=Ya>=(yc=(Wa+X)/2))?Wa=yc:X=yc;if(!(t=L,L=L[cd=xc<<1|sc]))return this;if(!L.length)break;if(t[cd+1&3]||t[cd+2&3]||t[cd+3&3]){var Zb=t;var Rc=cd}}for(;L.data!==Y;)if(!(va=L,L=L.next))return this;(Y=L.next)&&delete L.next;if(va)return Y?va.next=
Y:delete va.next,this;if(!t)return this._root=Y,this;Y?t[cd]=Y:delete t[cd];(L=t[0]||t[1]||t[2]||t[3])&&L===(t[3]||t[2]||t[1]||t[0])&&!L.length&&(Zb?Zb[Rc]=L:this._root=L);return this};Ga.removeAll=function(Y){for(var t=0,L=Y.length;t<L;++t)this.remove(Y[t]);return this};Ga.root=function(){return this._root};Ga.size=function(){var Y=0;this.visit(function(t){if(!t.length){do++Y;while(t=t.next)}});return Y};Ga.visit=function(Y){var t=[],L,va=this._root,La,Wa,$a,X,Ca;for(va&&t.push(new Gb(va,this._x0,
this._y0,this._x1,this._y1));L=t.pop();)if(!Y(va=L.node,Wa=L.x0,$a=L.y0,X=L.x1,Ca=L.y1)&&va.length){L=(Wa+X)/2;var Ya=($a+Ca)/2;(La=va[3])&&t.push(new Gb(La,L,Ya,X,Ca));(La=va[2])&&t.push(new Gb(La,Wa,Ya,L,Ca));(La=va[1])&&t.push(new Gb(La,L,$a,X,Ya));(La=va[0])&&t.push(new Gb(La,Wa,$a,L,Ya))}return this};Ga.visitAfter=function(Y){var t=[],L=[],va;for(this._root&&t.push(new Gb(this._root,this._x0,this._y0,this._x1,this._y1));va=t.pop();){var La=va.node;if(La.length){var Wa,$a=va.x0,X=va.y0,Ca=va.x1,
Ya=va.y1,Ib=($a+Ca)/2,yc=(X+Ya)/2;(Wa=La[0])&&t.push(new Gb(Wa,$a,X,Ib,yc));(Wa=La[1])&&t.push(new Gb(Wa,Ib,X,Ca,yc));(Wa=La[2])&&t.push(new Gb(Wa,$a,yc,Ib,Ya));(Wa=La[3])&&t.push(new Gb(Wa,Ib,yc,Ca,Ya))}L.push(va)}for(;va=L.pop();)Y(va.node,va.x0,va.y0,va.x1,va.y1);return this};Ga.x=function(Y){return arguments.length?(this._x=Y,this):this._x};Ga.y=function(Y){return arguments.length?(this._y=Y,this):this._y};var db={value:()=>{}};Cb.prototype=Lb.prototype={constructor:Cb,on:function(Y,t){var L=
this._,va=Pb(Y+"",L),La,Wa=-1,$a=va.length;if(2>arguments.length)for(;++Wa<$a;){var X;if(X=La=(Y=va[Wa]).type){a:{X=L[La];for(var Ca=0,Ya=X.length;Ca<Ya;++Ca)if((La=X[Ca]).name===Y.name){La=La.value;break a}La=void 0}X=La}if(X)return La}else{if(null!=t&&"function"!==typeof t)throw Error("invalid callback: "+t);for(;++Wa<$a;)if(La=(Y=va[Wa]).type)L[La]=ab(L[La],Y.name,t);else if(null==t)for(La in L)L[La]=ab(L[La],Y.name,null);return this}},copy:function(){var Y={},t=this._,L;for(L in t)Y[L]=t[L].slice();
return new Cb(Y)},call:function(Y,t){if(0<(La=arguments.length-2))for(var L=Array(La),va=0,La,Wa;va<La;++va)L[va]=arguments[va+2];if(!this._.hasOwnProperty(Y))throw Error("unknown type: "+Y);Wa=this._[Y];va=0;for(La=Wa.length;va<La;++va)Wa[va].value.apply(t,L)},apply:function(Y,t,L){if(!this._.hasOwnProperty(Y))throw Error("unknown type: "+Y);Y=this._[Y];for(var va=0,La=Y.length;va<La;++va)Y[va].value.apply(t,L)}};var ba=0,na=0,q=0,M,Q,g=0,u=0,m=0,C="object"===typeof performance&&performance.now?
performance:Date,B="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Y){setTimeout(Y,17)};Qa.prototype=Da.prototype={constructor:Qa,restart:function(Y,t,L){if("function"!==typeof Y)throw new TypeError("callback is not a function");L=(null==L?u||(B(pb),u=C.now()+m):+L)+(null==t?0:+t);this._next||Q===this||(Q?Q._next=this:M=this,Q=this);this._call=Y;this._time=L;mb()},stop:function(){this._call&&(this._call=null,this._time=Infinity,mb())}};var A=
Math.PI*(3-Math.sqrt(5));const E={center:function(Y,t){function L(){var Wa,$a=va.length,X=0,Ca=0;for(Wa=0;Wa<$a;++Wa){var Ya=va[Wa];X+=Ya.x;Ca+=Ya.y}X=(X/$a-Y)*La;Ca=(Ca/$a-t)*La;for(Wa=0;Wa<$a;++Wa)Ya=va[Wa],Ya.x-=X,Ya.y-=Ca}var va,La=1;null==Y&&(Y=0);null==t&&(t=0);L.initialize=function(Wa){va=Wa};L.x=function(Wa){return arguments.length?(Y=+Wa,L):Y};L.y=function(Wa){return arguments.length?(t=+Wa,L):t};L.strength=function(Wa){return arguments.length?(La=+Wa,L):La};return L},collide:function(Y){function t(){function Ya(Vb,
qb,Tb,gc,cc){var Ic=Vb.data;Vb=Vb.r;var zc=Rc+Vb;if(Ic)Ic.index>xc.index&&(qb=cd-Ic.x-Ic.vx,Tb=Zb-Ic.y-Ic.vy,gc=qb*qb+Tb*Tb,gc<zc*zc&&(0===qb&&(qb=1E-6*($a()-.5),gc+=qb*qb),0===Tb&&(Tb=1E-6*($a()-.5),gc+=Tb*Tb),gc=(zc-(gc=Math.sqrt(gc)))/gc*X,xc.vx+=(qb*=gc)*(zc=(Vb*=Vb)/(Pd+Vb)),xc.vy+=(Tb*=gc)*zc,Ic.vx-=qb*(zc=1-zc),Ic.vy-=Tb*zc));else return qb>cd+zc||gc<cd-zc||Tb>Zb+zc||cc<Zb-zc}for(var Ib,yc=La.length,sc,xc,cd,Zb,Rc,Pd,Ma=0;Ma<Ca;++Ma)for(sc=Ac(La,Yb,Ua).visitAfter(L),Ib=0;Ib<yc;++Ib)xc=La[Ib],
Rc=Wa[xc.index],Pd=Rc*Rc,cd=xc.x+xc.vx,Zb=xc.y+xc.vy,sc.visit(Ya)}function L(Ya){if(Ya.data)return Ya.r=Wa[Ya.data.index];for(var Ib=Ya.r=0;4>Ib;++Ib)Ya[Ib]&&Ya[Ib].r>Ya.r&&(Ya.r=Ya[Ib].r)}function va(){if(La){var Ya,Ib=La.length;Wa=Array(Ib);for(Ya=0;Ya<Ib;++Ya){var yc=La[Ya];Wa[yc.index]=+Y(yc,Ya,La)}}}var La,Wa,$a,X=1,Ca=1;"function"!==typeof Y&&(Y=jc(null==Y?1:+Y));t.initialize=function(Ya,Ib){La=Ya;$a=Ib;va()};t.iterations=function(Ya){return arguments.length?(Ca=+Ya,t):Ca};t.strength=function(Ya){return arguments.length?
(X=+Ya,t):X};t.radius=function(Ya){return arguments.length?(Y="function"===typeof Ya?Ya:jc(+Ya),va(),t):Y};return t},nbody:function(){function Y(xc){var cd=La.length,Zb=Ac(La,xb,sb).visitAfter(L);X=xc;for(xc=0;xc<cd;++xc)Wa=La[xc],Zb.visit(va)}function t(){if(La){var xc,cd=La.length;Ya=Array(cd);for(xc=0;xc<cd;++xc){var Zb=La[xc];Ya[Zb.index]=+Ca(Zb,xc,La)}}}function L(xc){var cd=0,Zb,Rc,Pd=0,Ma,Vb,qb;if(xc.length){for(Ma=Vb=qb=0;4>qb;++qb)(Zb=xc[qb])&&(Rc=Math.abs(Zb.value))&&(cd+=Zb.value,Pd+=Rc,
Ma+=Rc*Zb.x,Vb+=Rc*Zb.y);xc.x=Ma/Pd;xc.y=Vb/Pd}else{Zb=xc;Zb.x=Zb.data.x;Zb.y=Zb.data.y;do cd+=Ya[Zb.data.index];while(Zb=Zb.next)}xc.value=cd}function va(xc,cd,Zb,Rc){if(!xc.value)return!0;Zb=xc.x-Wa.x;var Pd=xc.y-Wa.y;cd=Rc-cd;Rc=Zb*Zb+Pd*Pd;if(cd*cd/sc<Rc)return Rc<yc&&(0===Zb&&(Zb=1E-6*($a()-.5),Rc+=Zb*Zb),0===Pd&&(Pd=1E-6*($a()-.5),Rc+=Pd*Pd),Rc<Ib&&(Rc=Math.sqrt(Ib*Rc)),Wa.vx+=Zb*xc.value*X/Rc,Wa.vy+=Pd*xc.value*X/Rc),!0;if(!(xc.length||Rc>=yc)){if(xc.data!==Wa||xc.next)0===Zb&&(Zb=1E-6*($a()-
.5),Rc+=Zb*Zb),0===Pd&&(Pd=1E-6*($a()-.5),Rc+=Pd*Pd),Rc<Ib&&(Rc=Math.sqrt(Ib*Rc));do xc.data!==Wa&&(cd=Ya[xc.data.index]*X/Rc,Wa.vx+=Zb*cd,Wa.vy+=Pd*cd);while(xc=xc.next)}}var La,Wa,$a,X,Ca=jc(-30),Ya,Ib=1,yc=Infinity,sc=.81;Y.initialize=function(xc,cd){La=xc;$a=cd;t()};Y.strength=function(xc){return arguments.length?(Ca="function"===typeof xc?xc:jc(+xc),t(),Y):Ca};Y.distanceMin=function(xc){return arguments.length?(Ib=xc*xc,Y):Math.sqrt(Ib)};Y.distanceMax=function(xc){return arguments.length?(yc=
xc*xc,Y):Math.sqrt(yc)};Y.theta=function(xc){return arguments.length?(sc=xc*xc,Y):Math.sqrt(sc)};return Y},link:function(Y){function t(Zb){for(var Rc=0,Pd=Y.length;Rc<cd;++Rc)for(var Ma=0,Vb,qb,Tb,gc,cc;Ma<Pd;++Ma)Vb=Y[Ma],qb=Vb.source,Vb=Vb.target,Tb=Vb.x+Vb.vx-qb.x-qb.vx||1E-6*(xc()-.5),gc=Vb.y+Vb.vy-qb.y-qb.vy||1E-6*(xc()-.5),cc=Math.sqrt(Tb*Tb+gc*gc),cc=(cc-Ya[Ma])/cc*Zb*X[Ma],Tb*=cc,gc*=cc,Vb.vx-=Tb*(cc=sc[Ma]),Vb.vy-=gc*cc,qb.vx+=Tb*(cc=1-cc),qb.vy+=gc*cc}function L(){if(Ib){var Zb=Ib.length,
Rc=Y.length,Pd=new Map(Ib.map((Vb,qb)=>[Wa(Vb,qb,Ib),Vb]));var Ma=0;for(yc=Array(Zb);Ma<Rc;++Ma)Zb=Y[Ma],Zb.index=Ma,"object"!==typeof Zb.source&&(Zb.source=Kb(Pd,Zb.source)),"object"!==typeof Zb.target&&(Zb.target=Kb(Pd,Zb.target)),yc[Zb.source.index]=(yc[Zb.source.index]||0)+1,yc[Zb.target.index]=(yc[Zb.target.index]||0)+1;Ma=0;for(sc=Array(Rc);Ma<Rc;++Ma)Zb=Y[Ma],sc[Ma]=yc[Zb.source.index]/(yc[Zb.source.index]+yc[Zb.target.index]);X=Array(Rc);va();Ya=Array(Rc);La()}}function va(){if(Ib)for(var Zb=
0,Rc=Y.length;Zb<Rc;++Zb)X[Zb]=+$a(Y[Zb],Zb,Y)}function La(){if(Ib)for(var Zb=0,Rc=Y.length;Zb<Rc;++Zb)Ya[Zb]=+Ca(Y[Zb],Zb,Y)}var Wa=ub,$a=function(Zb){return 1/Math.min(yc[Zb.source.index],yc[Zb.target.index])},X,Ca=jc(30),Ya,Ib,yc,sc,xc,cd=1;null==Y&&(Y=[]);t.initialize=function(Zb,Rc){Ib=Zb;xc=Rc;L()};t.links=function(Zb){return arguments.length?(Y=Zb,L(),t):Y};t.id=function(Zb){return arguments.length?(Wa=Zb,t):Wa};t.iterations=function(Zb){return arguments.length?(cd=+Zb,t):cd};t.strength=function(Zb){return arguments.length?
($a="function"===typeof Zb?Zb:jc(+Zb),va(),t):$a};t.distance=function(Zb){return arguments.length?(Ca="function"===typeof Zb?Zb:jc(+Zb),La(),t):Ca};return t},x:function(Y){function t(X){for(var Ca=0,Ya=La.length,Ib;Ca<Ya;++Ca)Ib=La[Ca],Ib.vx+=($a[Ca]-Ib.x)*Wa[Ca]*X}function L(){if(La){var X,Ca=La.length;Wa=Array(Ca);$a=Array(Ca);for(X=0;X<Ca;++X)Wa[X]=isNaN($a[X]=+Y(La[X],X,La))?0:+va(La[X],X,La)}}var va=jc(.1),La,Wa,$a;"function"!==typeof Y&&(Y=jc(null==Y?0:+Y));t.initialize=function(X){La=X;L()};
t.strength=function(X){return arguments.length?(va="function"===typeof X?X:jc(+X),L(),t):va};t.x=function(X){return arguments.length?(Y="function"===typeof X?X:jc(+X),L(),t):Y};return t},y:function(Y){function t(X){for(var Ca=0,Ya=La.length,Ib;Ca<Ya;++Ca)Ib=La[Ca],Ib.vy+=($a[Ca]-Ib.y)*Wa[Ca]*X}function L(){if(La){var X,Ca=La.length;Wa=Array(Ca);$a=Array(Ca);for(X=0;X<Ca;++X)Wa[X]=isNaN($a[X]=+Y(La[X],X,La))?0:+va(La[X],X,La)}}var va=jc(.1),La,Wa,$a;"function"!==typeof Y&&(Y=jc(null==Y?0:+Y));t.initialize=
function(X){La=X;L()};t.strength=function(X){return arguments.length?(va="function"===typeof X?X:jc(+X),L(),t):va};t.y=function(X){return arguments.length?(Y="function"===typeof X?X:jc(+X),L(),t):Y};return t}},H=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],V=["static","iterations"],Aa=["x","y","vx","vy"];Wb.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number",
"default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},
{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30,expr:!0},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number","default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",
type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":Aa}]};P.inherits(Wb,k.Transform,{transform(Y,t){var L=this.value,va=t.changed(t.ADD_REM),La=Y.modified(H),Wa=Y.iterations||300;L?(va&&(t.modifies("index"),L.nodes(t.source)),(La||t.changed(t.MOD))&&Z(L,Y,0,t)):(this.value=L=pa(t.source,Y),L.on("tick",ob(t.dataflow,this)),Y.static||(va=!0,L.tick()),t.modifies("index"));if(La||va||Y.modified(V)||
t.changed()&&Y.restart)if(L.alpha(Math.max(L.alpha(),Y.alpha||1)).alphaDecay(1-Math.pow(L.alphaMin(),1/Wa)),Y.static)for(L.stop();0<=--Wa;)L.tick();else if(L.stopped()&&L.restart(),!va)return t.StopPropagation;return this.finish(Y,t)},finish(Y,t){const L=t.dataflow;for(let X=this._argops,Ca=0,Ya=X.length,Ib;Ca<Ya;++Ca)if(Ib=X[Ca],"forces"===Ib.name&&"link"===Ib.op._argval.force)for(var va=Ib.op._argops,La=0,Wa=va.length,$a;La<Wa;++La)if("links"===va[La].name&&($a=va[La].op.source)){L.pulse($a,L.changeset().reflow());
break}return t.reflow(Y.modified()).modifies(Aa)}});v.force=Wb})};
shadow$provide[40]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(29),Db(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega))})(this,function(v,k,P){function ib(Ma,Vb,qb){const Tb={};Ma.each(gc=>{const cc=gc.data;qb(cc)&&(Tb[Vb(cc)]=gc)});Ma.lookup=Tb;return Ma}function Gb(Ma,Vb){return Ma.parent===Vb.parent?1:2}function ac(Ma,Vb){return Ma+
Vb.x}function vc(Ma,Vb){return Math.max(Ma,Vb.y)}function Ac(Ma){for(var Vb;Vb=Ma.children;)Ma=Vb[0];return Ma}function uc(Ma){for(var Vb;Vb=Ma.children;)Ma=Vb[Vb.length-1];return Ma}function Bb(Ma){var Vb=0,qb=Ma.children,Tb=qb&&qb.length;if(Tb)for(;0<=--Tb;)Vb+=qb[Tb].value;else Vb=1;Ma.value=Vb}function jc(Ma,Vb){Ma instanceof Map?(Ma=[void 0,Ma],void 0===Vb&&(Vb=Ua)):void 0===Vb&&(Vb=Yb);Ma=new Lb(Ma);for(var qb,Tb=[Ma],gc,cc,Ic,zc;qb=Tb.pop();)if((cc=Vb(qb.data))&&(zc=(cc=Array.from(cc)).length))for(qb.children=
cc,Ic=zc-1;0<=Ic;--Ic)Tb.push(gc=cc[Ic]=new Lb(cc[Ic])),gc.parent=qb,gc.depth=qb.depth+1;return Ma.eachBefore(Kb)}function Yb(Ma){return Ma.children}function Ua(Ma){return Array.isArray(Ma)?Ma[1]:null}function ub(Ma){void 0!==Ma.data.value&&(Ma.value=Ma.data.value);Ma.data=Ma.data.data}function Kb(Ma){var Vb=0;do Ma.height=Vb;while((Ma=Ma.parent)&&Ma.height<++Vb)}function Lb(Ma){this.data=Ma;this.depth=this.height=0;this.parent=null}function Cb(Ma){if("function"!==typeof Ma)throw Error();return Ma}
function Pb(){return 0}function ab(Ma){return function(){return Ma}}function pb(){let Ma=1;return()=>(Ma=(1664525*Ma+1013904223)%4294967296)/4294967296}function Qa(Ma,Vb){var qb=Ma.r-Vb.r,Tb=Vb.x-Ma.x;Ma=Vb.y-Ma.y;return 0>qb||qb*qb<Tb*Tb+Ma*Ma}function Da(Ma,Vb){var qb=Ma.r-Vb.r+1E-9*Math.max(Ma.r,Vb.r,1),Tb=Vb.x-Ma.x;Ma=Vb.y-Ma.y;return 0<qb&&qb*qb>Tb*Tb+Ma*Ma}function Ka(Ma,Vb){for(var qb=0;qb<Vb.length;++qb)if(!Da(Ma,Vb[qb]))return!1;return!0}function lb(Ma,Vb){var qb=Ma.x,Tb=Ma.y;Ma=Ma.r;var gc=
Vb.x,cc=Vb.y;Vb=Vb.r;var Ic=gc-qb,zc=cc-Tb,Yc=Vb-Ma,Md=Math.sqrt(Ic*Ic+zc*zc);return{x:(qb+gc+Ic/Md*Yc)/2,y:(Tb+cc+zc/Md*Yc)/2,r:(Md+Ma+Vb)/2}}function mb(Ma,Vb,qb){var Tb=Ma.x,gc=Ma.y;Ma=Ma.r;var cc=Vb.x,Ic=Vb.y,zc=Vb.r,Yc=qb.x,Md=qb.y,ud=qb.r;qb=Tb-cc;Vb=Tb-Yc;var Ha=gc-Ic,gb=gc-Md,wb=zc-Ma,sa=ud-Ma,G=Tb*Tb+gc*gc-Ma*Ma;Ic=G-cc*cc-Ic*Ic+zc*zc;Md=G-Yc*Yc-Md*Md+ud*ud;Yc=Vb*Ha-qb*gb;cc=(Ha*Md-gb*Ic)/(2*Yc)-Tb;Ha=(gb*wb-Ha*sa)/Yc;gb=(Vb*Ic-qb*Md)/(2*Yc)-gc;qb=(qb*sa-Vb*wb)/Yc;Vb=Ha*Ha+qb*qb-1;wb=2*(Ma+
cc*Ha+gb*qb);Ma=cc*cc+gb*gb-Ma*Ma;Ma=-(1E-6<Math.abs(Vb)?(wb+Math.sqrt(wb*wb-4*Vb*Ma))/(2*Vb):Ma/wb);return{x:Tb+cc+Ha*Ma,y:gc+gb+qb*Ma,r:Ma}}function Pa(Ma,Vb,qb){var Tb=Ma.x-Vb.x,gc=Ma.y-Vb.y,cc=Tb*Tb+gc*gc;if(cc){var Ic=Vb.r+qb.r;Ic*=Ic;var zc=Ma.r+qb.r;zc*=zc;if(Ic>zc){var Yc=(cc+zc-Ic)/(2*cc);Ic=Math.sqrt(Math.max(0,zc/cc-Yc*Yc));qb.x=Ma.x-Yc*Tb-Ic*gc;qb.y=Ma.y-Yc*gc+Ic*Tb}else Yc=(cc+Ic-zc)/(2*cc),Ic=Math.sqrt(Math.max(0,Ic/cc-Yc*Yc)),qb.x=Vb.x+Yc*Tb-Ic*gc,qb.y=Vb.y+Yc*gc+Ic*Tb}else qb.x=Vb.x+
qb.r,qb.y=Vb.y}function xb(Ma,Vb){var qb=Ma.r+Vb.r-1E-6,Tb=Vb.x-Ma.x;Ma=Vb.y-Ma.y;return 0<qb&&qb*qb>Tb*Tb+Ma*Ma}function sb(Ma){var Vb=Ma._,qb=Ma.next._,Tb=Vb.r+qb.r;Ma=(Vb.x*qb.r+qb.x*Vb.r)/Tb;Vb=(Vb.y*qb.r+qb.y*Vb.r)/Tb;return Ma*Ma+Vb*Vb}function Qb(Ma){this._=Ma;this.previous=this.next=null}function Wb(Ma,Vb){if(!(Tb=(Ma="object"===typeof Ma&&"length"in Ma?Ma:Array.from(Ma)).length))return 0;var qb,Tb;var gc=Ma[0];gc.x=0;gc.y=0;if(!(1<Tb))return gc.r;var cc=Ma[1];gc.x=-cc.r;cc.x=gc.r;cc.y=0;
if(!(2<Tb))return gc.r+cc.r;Pa(cc,gc,qb=Ma[2]);gc=new Qb(gc);cc=new Qb(cc);qb=new Qb(qb);gc.next=qb.previous=cc;cc.next=gc.previous=qb;qb.next=cc.previous=gc;var Ic=3;a:for(;Ic<Tb;++Ic){Pa(gc._,cc._,qb=Ma[Ic]);qb=new Qb(qb);var zc=cc.next;var Yc=gc.previous;var Md=cc._.r;var ud=gc._.r;do if(Md<=ud){if(xb(zc._,qb._)){cc=zc;gc.next=cc;cc.previous=gc;--Ic;continue a}Md+=zc._.r;zc=zc.next}else{if(xb(Yc._,qb._)){gc=Yc;gc.next=cc;cc.previous=gc;--Ic;continue a}ud+=Yc._.r;Yc=Yc.previous}while(zc!==Yc.next);
qb.previous=gc;qb.next=cc;gc.next=cc.previous=cc=qb;for(zc=sb(gc);(qb=qb.next)!==cc;)(Yc=sb(qb))<zc&&(gc=qb,zc=Yc);cc=gc.next}gc=[cc._];for(qb=cc;(qb=qb.next)!==cc;)gc.push(qb._);cc=0;gc=Array.from(gc);for(qb=gc.length;qb;)zc=Vb()*qb--|0,Ic=gc[qb],gc[qb]=gc[zc],gc[zc]=Ic;gc=(Vb=gc).length;qb=[];for(var Ha;cc<gc;)if(Ic=Vb[cc],Ha&&Da(Ha,Ic))++cc;else{a:if(Ha=qb,Ka(Ic,Ha))Ha=[Ic];else{for(qb=0;qb<Ha.length;++qb)if(Qa(Ic,Ha[qb])&&Ka(lb(Ha[qb],Ic),Ha)){Ha=[Ha[qb],Ic];break a}for(qb=0;qb<Ha.length-1;++qb)for(cc=
qb+1;cc<Ha.length;++cc)if(Qa(lb(Ha[qb],Ha[cc]),Ic)&&Qa(lb(Ha[qb],Ic),Ha[cc])&&Qa(lb(Ha[cc],Ic),Ha[qb])&&Ka(mb(Ha[qb],Ha[cc],Ic),Ha)){Ha=[Ha[qb],Ha[cc],Ic];break a}throw Error();}a:{Ha=qb=Ha;switch(Ha.length){case 1:Ha=Ha[0];Ha={x:Ha.x,y:Ha.y,r:Ha.r};break a;case 2:Ha=lb(Ha[0],Ha[1]);break a;case 3:Ha=mb(Ha[0],Ha[1],Ha[2]);break a}Ha=void 0}cc=0}qb=Ha;for(Ic=0;Ic<Tb;++Ic)gc=Ma[Ic],gc.x-=qb.x,gc.y-=qb.y;return qb.r}function ob(Ma){return Math.sqrt(Ma.value)}function pa(Ma){return function(Vb){Vb.children||
(Vb.r=Math.max(0,+Ma(Vb)||0))}}function Z(Ma,Vb,qb){return function(Tb){if(gc=Tb.children){var gc,cc,Ic=gc.length,zc=Ma(Tb)*Vb||0;if(zc)for(cc=0;cc<Ic;++cc)gc[cc].r+=zc;var Yc=Wb(gc,qb);if(zc)for(cc=0;cc<Ic;++cc)gc[cc].r-=zc;Tb.r=Yc+zc}}}function Fa(Ma){return function(Vb){var qb=Vb.parent;Vb.r*=Ma;qb&&(Vb.x=qb.x+Ma*Vb.x,Vb.y=qb.y+Ma*Vb.y)}}function Ga(Ma){Ma.x0=Math.round(Ma.x0);Ma.y0=Math.round(Ma.y0);Ma.x1=Math.round(Ma.x1);Ma.y1=Math.round(Ma.y1)}function db(Ma,Vb,qb,Tb,gc){var cc=Ma.children,
Ic=-1,zc=cc.length;for(Tb=Ma.value&&(Tb-Vb)/Ma.value;++Ic<zc;)Ma=cc[Ic],Ma.y0=qb,Ma.y1=gc,Ma.x0=Vb,Ma.x1=Vb+=Ma.value*Tb}function ba(Ma){return Ma.id}function na(Ma){return Ma.parentId}function q(){function Ma(gc){var cc=Array.from(gc),Ic=Vb,zc=qb,Yc,Md,ud=new Map;if(null!=Tb){const ya=cc.map((Za,kb)=>{Za=Tb(Za,kb,gc);Za=`${Za}`;kb=Za.length;Q(Za,kb-1)&&!Q(Za,kb-2)&&(Za=Za.slice(0,-1));return"/"===Za[0]?Za:`/${Za}`}),Na=ya.map(M);Ic=(new Set(ya)).add("");for(wb of Na)Ic.has(wb)||(Ic.add(wb),ya.push(wb),
Na.push(M(wb)),cc.push(Ib));Ic=(Za,kb)=>ya[kb];zc=(Za,kb)=>Na[kb]}var Ha=0;for(Yc=cc.length;Ha<Yc;++Ha){var gb=cc[Ha];var wb=cc[Ha]=new Lb(gb);if(null!=(Md=Ic(gb,Ha,gc))&&(Md+="")){var sa=wb.id=Md;ud.set(sa,ud.has(sa)?Ya:wb)}null!=(Md=zc(gb,Ha,gc))&&(Md+="")&&(wb.parent=Md)}for(Ha=0;Ha<Yc;++Ha)if(wb=cc[Ha],Md=wb.parent){Ic=ud.get(Md);if(!Ic)throw Error("missing: "+Md);if(Ic===Ya)throw Error("ambiguous: "+Md);Ic.children?Ic.children.push(wb):Ic.children=[wb];wb.parent=Ic}else{if(G)throw Error("multiple roots");
var G=wb}if(!G)throw Error("no root");if(null!=Tb){for(;G.data===Ib&&1===G.children.length;)G=G.children[0],--Yc;for(Md=cc.length-1;0<=Md;--Md){wb=cc[Md];if(wb.data!==Ib)break;wb.data=null}}G.parent=Ca;G.eachBefore(function(ya){ya.depth=ya.parent.depth+1;--Yc}).eachBefore(Kb);G.parent=null;if(0<Yc)throw Error("cycle");return G}var Vb=ba,qb=na,Tb;Ma.id=function(gc){return arguments.length?(Vb=null==gc?null:Cb(gc),Ma):Vb};Ma.parentId=function(gc){return arguments.length?(qb=null==gc?null:Cb(gc),Ma):
qb};Ma.path=function(gc){return arguments.length?(Tb=null==gc?null:Cb(gc),Ma):Tb};return Ma}function M(Ma){let Vb=Ma.length;if(2>Vb)return"";for(;1<--Vb&&!Q(Ma,Vb););return Ma.slice(0,Vb)}function Q(Ma,Vb){if("/"===Ma[Vb]){let qb=0;for(;0<Vb&&"\\"===Ma[--Vb];)++qb;if(0===(qb&1))return!0}return!1}function g(Ma,Vb){return Ma.parent===Vb.parent?1:2}function u(Ma){var Vb=Ma.children;return Vb?Vb[0]:Ma.t}function m(Ma){var Vb=Ma.children;return Vb?Vb[Vb.length-1]:Ma.t}function C(Ma,Vb){this._=Ma;this.A=
this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=Vb}function B(Ma){Ma=new C(Ma,0);for(var Vb,qb=[Ma],Tb,gc,cc;Vb=qb.pop();)if(gc=Vb._.children)for(Vb.children=Array(Tb=gc.length),cc=Tb-1;0<=cc;--cc)qb.push(Tb=Vb.children[cc]=new C(gc[cc],cc)),Tb.parent=Vb;(Ma.parent=new C(null,0)).children=[Ma];return Ma}function A(Ma,Vb,qb,Tb,gc){var cc=Ma.children,Ic=-1,zc=cc.length;for(gc=Ma.value&&(gc-qb)/Ma.value;++Ic<zc;)Ma=cc[Ic],Ma.x0=Vb,Ma.x1=Tb,Ma.y0=qb,Ma.y1=qb+=
Ma.value*gc}function E(Ma,Vb,qb,Tb,gc,cc){for(var Ic=[],zc=Vb.children,Yc,Md,ud=Yc=0,Ha=zc.length,gb,wb=Vb.value,sa,G,ya,Na,Za,kb;Yc<Ha;){Vb=gc-qb;gb=cc-Tb;do sa=zc[ud++].value;while(!sa&&ud<Ha);G=ya=sa;kb=Math.max(gb/Vb,Vb/gb)/(wb*Ma);Na=sa*sa*kb;for(Za=Math.max(ya/Na,Na/G);ud<Ha;++ud){sa+=Md=zc[ud].value;Md<G&&(G=Md);Md>ya&&(ya=Md);Na=sa*sa*kb;Na=Math.max(ya/Na,Na/G);if(Na>Za){sa-=Md;break}Za=Na}Ic.push(Yc={value:sa,dice:Vb<gb,children:zc.slice(Yc,ud)});Yc.dice?db(Yc,qb,Tb,gc,wb?Tb+=gb*sa/wb:cc):
A(Yc,qb,Tb,wb?qb+=Vb*sa/wb:gc,cc);wb-=sa;Yc=ud}return Ic}function H(){function Ma(gb){gb.x0=gb.y0=0;gb.x1=gc;gb.y1=cc;gb.eachBefore(Vb);Ic=[0];Tb&&gb.eachBefore(Ga);return gb}function Vb(gb){var wb=Ic[gb.depth],sa=gb.x0+wb,G=gb.y0+wb,ya=gb.x1-wb,Na=gb.y1-wb;ya<sa&&(sa=ya=(sa+ya)/2);Na<G&&(G=Na=(G+Na)/2);gb.x0=sa;gb.y0=G;gb.x1=ya;gb.y1=Na;gb.children&&(wb=Ic[gb.depth+1]=zc(gb)/2,sa+=Ha(gb)-wb,G+=Yc(gb)-wb,ya-=Md(gb)-wb,Na-=ud(gb)-wb,ya<sa&&(sa=ya=(sa+ya)/2),Na<G&&(G=Na=(G+Na)/2),qb(gb,sa,G,ya,Na))}
var qb=sc,Tb=!1,gc=1,cc=1,Ic=[0],zc=Pb,Yc=Pb,Md=Pb,ud=Pb,Ha=Pb;Ma.round=function(gb){return arguments.length?(Tb=!!gb,Ma):Tb};Ma.size=function(gb){return arguments.length?(gc=+gb[0],cc=+gb[1],Ma):[gc,cc]};Ma.tile=function(gb){return arguments.length?(qb=Cb(gb),Ma):qb};Ma.padding=function(gb){return arguments.length?Ma.paddingInner(gb).paddingOuter(gb):Ma.paddingInner()};Ma.paddingInner=function(gb){return arguments.length?(zc="function"===typeof gb?gb:ab(+gb),Ma):zc};Ma.paddingOuter=function(gb){return arguments.length?
Ma.paddingTop(gb).paddingRight(gb).paddingBottom(gb).paddingLeft(gb):Ma.paddingTop()};Ma.paddingTop=function(gb){return arguments.length?(Yc="function"===typeof gb?gb:ab(+gb),Ma):Yc};Ma.paddingRight=function(gb){return arguments.length?(Md="function"===typeof gb?gb:ab(+gb),Ma):Md};Ma.paddingBottom=function(gb){return arguments.length?(ud="function"===typeof gb?gb:ab(+gb),Ma):ud};Ma.paddingLeft=function(gb){return arguments.length?(Ha="function"===typeof gb?gb:ab(+gb),Ma):Ha};return Ma}function V(Ma){k.Transform.call(this,
null,Ma)}function Aa(){function Ma(gc,cc){if(cc>=qb.length)return gc;const Ic=gc.length,zc=qb[cc++],Yc={},Md={};let ud=-1,Ha,gb,wb;for(;++ud<Ic;)Ha=zc(gb=gc[ud])+"",(wb=Yc[Ha])?wb.push(gb):Yc[Ha]=[gb];for(Ha in Yc)Md[Ha]=Ma(Yc[Ha],cc);return Md}function Vb(gc,cc){if(++cc>qb.length)return gc;const Ic=[];for(const zc in gc)Ic.push({key:zc,values:Vb(gc[zc],cc)});return Ic}const qb=[],Tb={entries:gc=>Vb(Ma(gc,0),0),key:gc=>(qb.push(gc),Tb)};return Tb}function Y(Ma){k.Transform.call(this,null,Ma)}function t(Ma,
Vb,qb){for(let Tb,gc=0,cc=Vb.length;gc<cc;++gc)if(Tb=Vb[gc],Tb in qb)Ma[Tb](qb[Tb])}function L(Ma){Y.call(this,Ma)}function va(Ma){Y.call(this,Ma)}function La(Ma){k.Transform.call(this,null,Ma)}function Wa(Ma){Y.call(this,Ma)}function $a(Ma){k.Transform.call(this,[],Ma)}function X(Ma){Y.call(this,Ma)}Lb.prototype=jc.prototype={constructor:Lb,count:function(){return this.eachAfter(Bb)},each:function(Ma,Vb){let qb=-1;for(const Tb of this)Ma.call(Vb,Tb,++qb,this);return this},eachAfter:function(Ma,Vb){for(var qb,
Tb=[this],gc=[],cc,Ic,zc=-1;qb=Tb.pop();)if(gc.push(qb),qb=qb.children)for(cc=0,Ic=qb.length;cc<Ic;++cc)Tb.push(qb[cc]);for(;qb=gc.pop();)Ma.call(Vb,qb,++zc,this);return this},eachBefore:function(Ma,Vb){for(var qb,Tb=[this],gc,cc=-1;qb=Tb.pop();)if(Ma.call(Vb,qb,++cc,this),qb=qb.children)for(gc=qb.length-1;0<=gc;--gc)Tb.push(qb[gc]);return this},find:function(Ma,Vb){let qb=-1;for(const Tb of this)if(Ma.call(Vb,Tb,++qb,this))return Tb},sum:function(Ma){return this.eachAfter(function(Vb){for(var qb=
+Ma(Vb.data)||0,Tb=Vb.children,gc=Tb&&Tb.length;0<=--gc;)qb+=Tb[gc].value;Vb.value=qb})},sort:function(Ma){return this.eachBefore(function(Vb){Vb.children&&Vb.children.sort(Ma)})},path:function(Ma){var Vb=this;var qb=Vb;var Tb=Ma;if(qb!==Tb){var gc=qb.ancestors(),cc=Tb.ancestors(),Ic=null;qb=gc.pop();for(Tb=cc.pop();qb===Tb;)Ic=qb,qb=gc.pop(),Tb=cc.pop();qb=Ic}for(Tb=[Vb];Vb!==qb;)Vb=Vb.parent,Tb.push(Vb);for(Vb=Tb.length;Ma!==qb;)Tb.splice(Vb,0,Ma),Ma=Ma.parent;return Tb},ancestors:function(){for(var Ma=
this,Vb=[Ma];Ma=Ma.parent;)Vb.push(Ma);return Vb},descendants:function(){return Array.from(this)},leaves:function(){var Ma=[];this.eachBefore(function(Vb){Vb.children||Ma.push(Vb)});return Ma},links:function(){var Ma=this,Vb=[];Ma.each(function(qb){qb!==Ma&&Vb.push({source:qb.parent,target:qb})});return Vb},copy:function(){return jc(this).eachBefore(ub)},[Symbol.iterator]:function*(){var Ma,Vb=[this],qb;do{var Tb=Vb.reverse();for(Vb=[];Ma=Tb.pop();)if(yield Ma,Ma=Ma.children){var gc=0;for(qb=Ma.length;gc<
qb;++gc)Vb.push(Ma[gc])}}while(Vb.length)}};var Ca={depth:-1},Ya={},Ib={};C.prototype=Object.create(Lb.prototype);var yc=(1+Math.sqrt(5))/2,sc=function qb(Vb){function Tb(gc,cc,Ic,zc,Yc){E(Vb,gc,cc,Ic,zc,Yc)}Tb.ratio=function(gc){return qb(1<(gc=+gc)?gc:1)};return Tb}(yc);yc=function Tb(qb){function gc(cc,Ic,zc,Yc,Md){if((ud=cc._squarify)&&ud.ratio===qb)for(var ud,Ha,gb,wb=-1,sa,G=ud.length,ya=cc.value;++wb<G;){cc=ud[wb];Ha=cc.children;gb=cc.value=0;for(sa=Ha.length;gb<sa;++gb)cc.value+=Ha[gb].value;
cc.dice?db(cc,Ic,zc,Yc,ya?zc+=(Md-zc)*cc.value/ya:Md):A(cc,Ic,zc,ya?Ic+=(Yc-Ic)*cc.value/ya:Yc,Md);ya-=cc.value}else cc._squarify=ud=E(qb,cc,Ic,zc,Yc,Md),ud.ratio=qb}gc.ratio=function(cc){return Tb(1<(cc=+cc)?cc:1)};return gc}(yc);V.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const xc=qb=>qb.values;P.inherits(V,k.Transform,{transform(qb,Tb){Tb.source||P.error("Nest transform requires an upstream data source.");
var gc=qb.generate,cc=qb.modified(),Ic=Tb.clone(),zc=this.value;if(!zc||cc||Tb.changed())zc&&zc.each(Yc=>{Yc.children&&k.isTuple(Yc.data)&&Ic.rem.push(Yc.data)}),this.value=zc=jc({values:P.array(qb.keys).reduce((Yc,Md)=>{Yc.key(Md);return Yc},Aa()).entries(Ic.source)},xc),gc&&zc.each(Yc=>{Yc.children&&(Yc=k.ingest(Yc.data),Ic.add.push(Yc),Ic.source.push(Yc))}),ib(zc,k.tupleid,k.tupleid);Ic.source.root=zc;return Ic}});const cd=(qb,Tb)=>qb.parent===Tb.parent?1:2;P.inherits(Y,k.Transform,{transform(qb,
Tb){Tb.source&&Tb.source.root||P.error(this.constructor.name+" transform requires a backing tree data source.");const gc=this.layout(qb.method),cc=this.fields,Ic=Tb.source.root,zc=qb.as||cc;qb.field?Ic.sum(qb.field):Ic.count();qb.sort&&Ic.sort(k.stableCompare(qb.sort,Yc=>Yc.data));t(gc,this.params,qb);gc.separation&&gc.separation(!1!==qb.separation?cd:P.one);try{this.value=gc(Ic)}catch(Yc){P.error(Yc)}Ic.each(Yc=>{const Md=Yc.data,ud=cc.length-1;for(let Ha=0;Ha<ud;++Ha)Md[zc[Ha]]=Yc[cc[Ha]];Md[zc[ud]]=
Yc.children?Yc.children.length:0});return Tb.reflow(qb.modified()).modifies(zc).modifies("leaf")}});var Zb=["x","y","r","depth","children"];L.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Zb.length,"default":Zb}]};P.inherits(L,Y,{layout:function(){function qb(zc){const Yc=
pb();zc.x=gc/2;zc.y=cc/2;Tb?zc.eachBefore(pa(Tb)).eachAfter(Z(Ic,.5,Yc)).eachBefore(Fa(1)):zc.eachBefore(pa(ob)).eachAfter(Z(Pb,1,Yc)).eachAfter(Z(Ic,zc.r/Math.min(gc,cc),Yc)).eachBefore(Fa(Math.min(gc,cc)/(2*zc.r)));return zc}var Tb=null,gc=1,cc=1,Ic=Pb;qb.radius=function(zc){return arguments.length?(Tb=null==zc?null:Cb(zc),qb):Tb};qb.size=function(zc){return arguments.length?(gc=+zc[0],cc=+zc[1],qb):[gc,cc]};qb.padding=function(zc){return arguments.length?(Ic="function"===typeof zc?zc:ab(+zc),qb):
Ic};return qb},params:["radius","size","padding"],fields:Zb});Zb="x0 y0 x1 y1 depth children".split(" ");va.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Zb.length,"default":Zb}]};P.inherits(va,Y,{layout:function(){function qb(Yc){var Md=Yc.height+1;
Yc.x0=Yc.y0=Ic;Yc.x1=gc;Yc.y1=cc/Md;Yc.eachBefore(Tb(cc,Md));zc&&Yc.eachBefore(Ga);return Yc}function Tb(Yc,Md){return function(ud){ud.children&&db(ud,ud.x0,Yc*(ud.depth+1)/Md,ud.x1,Yc*(ud.depth+2)/Md);var Ha=ud.x0,gb=ud.y0,wb=ud.x1-Ic,sa=ud.y1-Ic;wb<Ha&&(Ha=wb=(Ha+wb)/2);sa<gb&&(gb=sa=(gb+sa)/2);ud.x0=Ha;ud.y0=gb;ud.x1=wb;ud.y1=sa}}var gc=1,cc=1,Ic=0,zc=!1;qb.round=function(Yc){return arguments.length?(zc=!!Yc,qb):zc};qb.size=function(Yc){return arguments.length?(gc=+Yc[0],cc=+Yc[1],qb):[gc,cc]};
qb.padding=function(Yc){return arguments.length?(Ic=+Yc,qb):Ic};return qb},params:["size","round","padding"],fields:Zb});La.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};P.inherits(La,k.Transform,{transform(qb,Tb){Tb.source||P.error("Stratify transform requires an upstream data source.");let gc=this.value;const cc=qb.modified(),Ic=Tb.fork(Tb.ALL).materialize(Tb.SOURCE);Tb=!gc||cc||Tb.changed(Tb.ADD_REM)||
Tb.modified(qb.key.fields)||Tb.modified(qb.parentKey.fields);Ic.source=Ic.source.slice();Tb&&(gc=Ic.source.length?ib(q().id(qb.key).parentId(qb.parentKey)(Ic.source),qb.key,P.truthy):ib(q()([{}]),qb.key,qb.key));Ic.source.root=this.value=gc;return Ic}});const Rc={tidy:function(){function qb(ud){var Ha=B(ud);Ha.eachAfter(Tb);Ha.parent.m=-Ha.z;Ha.eachBefore(gc);if(Md)ud.eachBefore(cc);else{var gb=ud,wb=ud,sa=ud;ud.eachBefore(function(Za){Za.x<gb.x&&(gb=Za);Za.x>wb.x&&(wb=Za);Za.depth>sa.depth&&(sa=
Za)});Ha=gb===wb?1:Ic(gb,wb)/2;var G=Ha-gb.x,ya=zc/(wb.x+Ha+G),Na=Yc/(sa.depth||1);ud.eachBefore(function(Za){Za.x=(Za.x+G)*ya;Za.y=Za.depth*Na})}return ud}function Tb(ud){var Ha=ud.children,gb=ud.parent.children,wb=ud.i?gb[ud.i-1]:null;if(Ha){for(var sa=0,G=0,ya=ud.children,Na=ya.length,Za;0<=--Na;)Za=ya[Na],Za.z+=sa,Za.m+=sa,sa+=Za.s+(G+=Za.c);Ha=(Ha[0].z+Ha[Ha.length-1].z)/2;wb?(ud.z=wb.z+Ic(ud._,wb._),ud.m=ud.z-Ha):ud.z=Ha}else wb&&(ud.z=wb.z+Ic(ud._,wb._));Ha=ud.parent;gb=ud.parent.A||gb[0];
if(wb){G=sa=ud;ya=sa.parent.children[0];Na=sa.m;Za=G.m;for(var kb=wb.m,Fb=ya.m,nc;wb=m(wb),sa=u(sa),wb&&sa;){ya=u(ya);G=m(G);G.a=ud;nc=wb.z+kb-sa.z-Na+Ic(wb._,sa._);if(0<nc){var ec=wb.a.parent===ud.parent?wb.a:gb,ic=ud,Tc=nc,dd=Tc/(ic.i-ec.i);ic.c-=dd;ic.s+=Tc;ec.c+=dd;ic.z+=Tc;ic.m+=Tc;Na+=nc;Za+=nc}kb+=wb.m;Na+=sa.m;Fb+=ya.m;Za+=G.m}wb&&!m(G)&&(G.t=wb,G.m+=kb-Za);sa&&!u(ya)&&(ya.t=sa,ya.m+=Na-Fb,gb=ud)}Ha.A=gb}function gc(ud){ud._.x=ud.z+ud.parent.m;ud.m+=ud.parent.m}function cc(ud){ud.x*=zc;ud.y=
ud.depth*Yc}var Ic=g,zc=1,Yc=1,Md=null;qb.separation=function(ud){return arguments.length?(Ic=ud,qb):Ic};qb.size=function(ud){return arguments.length?(Md=!1,zc=+ud[0],Yc=+ud[1],qb):Md?null:[zc,Yc]};qb.nodeSize=function(ud){return arguments.length?(Md=!0,zc=+ud[0],Yc=+ud[1],qb):Md?[zc,Yc]:null};return qb},cluster:function(){function qb(zc){var Yc,Md=0;zc.eachAfter(function(sa){var G=sa.children;if(G){var ya=G.reduce(ac,0)/G.length;sa.x=ya;sa.y=1+G.reduce(vc,0)}else sa.x=Yc?Md+=Tb(sa,Yc):0,sa.y=0,Yc=
sa});var ud=Ac(zc),Ha=uc(zc),gb=ud.x-Tb(ud,Ha)/2,wb=Ha.x+Tb(Ha,ud)/2;return zc.eachAfter(Ic?function(sa){sa.x=(sa.x-zc.x)*gc;sa.y=(zc.y-sa.y)*cc}:function(sa){sa.x=(sa.x-gb)/(wb-gb)*gc;sa.y=(1-(zc.y?sa.y/zc.y:1))*cc})}var Tb=Gb,gc=1,cc=1,Ic=!1;qb.separation=function(zc){return arguments.length?(Tb=zc,qb):Tb};qb.size=function(zc){return arguments.length?(Ic=!1,gc=+zc[0],cc=+zc[1],qb):Ic?null:[gc,cc]};qb.nodeSize=function(zc){return arguments.length?(Ic=!0,gc=+zc[0],cc=+zc[1],qb):Ic?[gc,cc]:null};return qb}};
Zb=["x","y","depth","children"];Wa.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:Zb.length,"default":Zb}]};P.inherits(Wa,Y,{layout(qb){qb=qb||"tidy";if(P.hasOwnProperty(Rc,
qb))return Rc[qb]();P.error("Unrecognized Tree layout method: "+qb)},params:["size","nodeSize"],fields:Zb});$a.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};P.inherits($a,k.Transform,{transform(qb,Tb){qb=this.value;const gc=Tb.source&&Tb.source.root,cc=Tb.fork(Tb.NO_SOURCE),Ic={};gc||P.error("TreeLinks transform requires a tree data source.");Tb.changed(Tb.ADD_REM)?(cc.rem=qb,Tb.visit(Tb.SOURCE,zc=>Ic[k.tupleid(zc)]=1),gc.each(zc=>{const Yc=zc.data;(zc=zc.parent&&
zc.parent.data)&&Ic[k.tupleid(Yc)]&&Ic[k.tupleid(zc)]&&cc.add.push(k.ingest({source:zc,target:Yc}))}),this.value=cc.add):Tb.changed(Tb.MOD)&&(Tb.visit(Tb.MOD,zc=>Ic[k.tupleid(zc)]=1),qb.forEach(zc=>{(Ic[k.tupleid(zc.source)]||Ic[k.tupleid(zc.target)])&&cc.mod.push(zc)}));return cc}});const Pd={binary:function(qb,Tb,gc,cc,Ic){function zc(wb,sa,G,ya,Na,Za,kb){if(wb>=sa-1)wb=Yc[wb],wb.x0=ya,wb.y0=Na,wb.x1=Za,wb.y1=kb;else{for(var Fb=gb[wb],nc=G/2+Fb,ec=wb+1,ic=sa-1;ec<ic;){var Tc=ec+ic>>>1;gb[Tc]<nc?
ec=Tc+1:ic=Tc}nc-gb[ec-1]<gb[ec]-nc&&wb+1<ec&&--ec;Fb=gb[ec]-Fb;nc=G-Fb;Za-ya>kb-Na?(G=G?(ya*nc+Za*Fb)/G:Za,zc(wb,ec,Fb,ya,Na,G,kb),zc(ec,sa,nc,G,Na,Za,kb)):(G=G?(Na*nc+kb*Fb)/G:kb,zc(wb,ec,Fb,ya,Na,Za,G),zc(ec,sa,nc,ya,G,Za,kb))}}var Yc=qb.children,Md,ud=Yc.length,Ha,gb=Array(ud+1);for(gb[0]=Ha=Md=0;Md<ud;++Md)gb[Md+1]=Ha+=Yc[Md].value;zc(0,ud,qb.value,Tb,gc,cc,Ic)},dice:db,slice:A,slicedice:function(qb,Tb,gc,cc,Ic){(qb.depth&1?A:db)(qb,Tb,gc,cc,Ic)},squarify:sc,resquarify:yc};yc="x0 y0 x1 y1 depth children".split(" ");
X.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number",
"default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",type:"number","default":1.618033988749895},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:yc.length,"default":yc}]};P.inherits(X,Y,{layout(){const qb=H();qb.ratio=Tb=>{const gc=qb.tile();gc.ratio&&qb.tile(gc.ratio(Tb))};qb.method=Tb=>{P.hasOwnProperty(Pd,Tb)?qb.tile(Pd[Tb]):P.error("Unrecognized Treemap layout method: "+Tb)};return qb},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),
fields:yc});v.nest=V;v.pack=L;v.partition=va;v.stratify=La;v.tree=Wa;v.treelinks=$a;v.treemap=X})};
shadow$provide[41]=function(dc,Db,Wc,nb){!function(v,k){"object"==typeof nb&&"undefined"!=typeof Wc?k(nb):"function"==typeof define&&define.amd?define(["exports"],k):k((v="undefined"!=typeof globalThis?globalThis:v||self).vega={})}(this,function(v){function k(P,ib){if("undefined"!=typeof document&&document.createElement){const Gb=document.createElement("canvas");if(Gb&&Gb.getContext)return Gb.width=P,Gb.height=ib,Gb}return null}v.canvas=k;v.domCanvas=k;v.image=()=>"undefined"!=typeof Image?Image:
null;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[42]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(21)):"function"===typeof define&&define.amd?define(["exports","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega))})(this,function(v,k){function P(t){const L=k.array(t).slice(),va={};L.length||k.error("Missing time unit.");L.forEach(La=>{k.hasOwnProperty(Da,La)?va[La]=1:k.error(`Invalid time unit: ${La}.`)});1<(va.week||va.day?1:0)+(va.quarter||va.month||
va.date?1:0)+(va.dayofyear?1:0)&&k.error(`Incompatible time units: ${t}`);L.sort((La,Wa)=>Da[La]-Da[Wa]);return L}function ib(t,L,va,La){function Wa($a){return t($a=0===arguments.length?new Date:new Date(+$a)),$a}Wa.floor=function($a){return t($a=new Date(+$a)),$a};Wa.ceil=function($a){return t($a=new Date($a-1)),L($a,1),t($a),$a};Wa.round=function($a){var X=Wa($a),Ca=Wa.ceil($a);return $a-X<Ca-$a?X:Ca};Wa.offset=function($a,X){return L($a=new Date(+$a),null==X?1:Math.floor(X)),$a};Wa.range=function($a,
X,Ca){var Ya=[],Ib;$a=Wa.ceil($a);Ca=null==Ca?1:Math.floor(Ca);if(!($a<X&&0<Ca))return Ya;do Ya.push(Ib=new Date(+$a)),L($a,Ca),t($a);while(Ib<$a&&$a<X);return Ya};Wa.filter=function($a){return ib(function(X){if(X>=X)for(;t(X),!$a(X);)X.setTime(X-1)},function(X,Ca){if(X>=X)if(0>Ca)for(;0>=++Ca;)for(;L(X,-1),!$a(X););else for(;0<=--Ca;)for(;L(X,1),!$a(X););})};va&&(Wa.count=function($a,X){lb.setTime(+$a);mb.setTime(+X);t(lb);t(mb);return Math.floor(va(lb,mb))},Wa.every=function($a){$a=Math.floor($a);
return isFinite($a)&&0<$a?1<$a?Wa.filter(La?function(X){return 0===La(X)%$a}:function(X){return 0===Wa.count(0,X)%$a}):Wa:null});return Wa}function Gb(t){return ib(function(L){L.setDate(L.getDate()-(L.getDay()+7-t)%7);L.setHours(0,0,0,0)},function(L,va){L.setDate(L.getDate()+7*va)},function(L,va){return(va-L-6E4*(va.getTimezoneOffset()-L.getTimezoneOffset()))/6048E5})}function ac(t){return ib(function(L){L.setUTCDate(L.getUTCDate()-(L.getUTCDay()+7-t)%7);L.setUTCHours(0,0,0,0)},function(L,va){L.setUTCDate(L.getUTCDate()+
7*va)},function(L,va){return(va-L)/6048E5})}function vc(t,L){return null==t||null==L?NaN:t<L?-1:t>L?1:t>=L?0:NaN}function Ac(t){function L($a,X,Ca=0,Ya=$a.length){if(Ca<Ya){if(0!==La(X,X))return Ya;do{const Ib=Ca+Ya>>>1;0>Wa($a[Ib],X)?Ca=Ib+1:Ya=Ib}while(Ca<Ya)}return Ca}let va=t,La=t,Wa=t;2!==t.length&&(va=($a,X)=>t($a)-X,La=vc,Wa=($a,X)=>vc(t($a),X));return{left:L,center:function($a,X,Ca=0,Ya=$a.length){Ya=L($a,X,Ca,Ya-1);return Ya>Ca&&va($a[Ya-1],X)>-va($a[Ya],X)?Ya-1:Ya},right:function($a,X,Ca=
0,Ya=$a.length){if(Ca<Ya){if(0!==La(X,X))return Ya;do{const Ib=Ca+Ya>>>1;0>=Wa($a[Ib],X)?Ca=Ib+1:Ya=Ib}while(Ca<Ya)}return Ca}}}function uc(t,L,va){var La=Math.abs(L-t)/Math.max(0,va);va=Math.pow(10,Math.floor(Math.log(La)/Math.LN10));La/=va;La>=M?va*=10:La>=Q?va*=5:La>=g&&(va*=2);return L<t?-va:va}function Bb(t){u.setFullYear(t);u.setMonth(0);u.setDate(1);u.setHours(0,0,0,0);return u}function jc(t){return Wb.count(Bb(t.getFullYear())-1,t)}function Yb(t){return ob.count(Bb(t.getFullYear())-1,t)}function Ua(t,
L,va,La,Wa,$a,X){return 0<=t&&100>t?(L=new Date(-1,L,va,La,Wa,$a,X),L.setFullYear(t),L):new Date(t,L,va,La,Wa,$a,X)}function ub(t){const L=Date.UTC(t.getUTCFullYear(),0,1);return db.count(L-1,t)}function Kb(t){const L=Date.UTC(t.getUTCFullYear(),0,1);return ba.count(L-1,t)}function Lb(t){u.setTime(Date.UTC(t,0,1));return u.getUTCDay()}function Cb(t,L,va,La,Wa,$a,X){return 0<=t&&100>t?(t=new Date(Date.UTC(-1,L,va,La,Wa,$a,X)),t.setUTCFullYear(va.y),t):new Date(Date.UTC(t,L,va,La,Wa,$a,X))}function Pb(t,
L,va,La,Wa){const $a=L||1,X=k.peek(t);L=(Rc,Pd,Ma)=>{Ma=Ma||Rc;return ab(va[Ma],La[Ma],Rc===X&&$a,Pd)};const Ca=new Date;t=k.toSet(t);const Ya=t.year?L("year"):k.constant(2012),Ib=t.month?L("month"):t.quarter?L("quarter"):k.zero,yc=t.week&&t.day?L("day",1,"weekday"):t.week?L("week",1):t.day?L("day",1):t.date?L("date",1):t.dayofyear?L("dayofyear",1):k.one,sc=t.hours?L("hours"):k.zero,xc=t.minutes?L("minutes"):k.zero,cd=t.seconds?L("seconds"):k.zero,Zb=t.milliseconds?L("milliseconds"):k.zero;return function(Rc){Ca.setTime(+Rc);
Rc=Ya(Ca);return Wa(Rc,Ib(Ca),yc(Ca,Rc),sc(Ca),xc(Ca),cd(Ca),Zb(Ca))}}function ab(t,L,va,La){const Wa=1>=va?t:La?($a,X)=>La+va*Math.floor((t($a,X)-La)/va):($a,X)=>va*Math.floor(t($a,X)/va);return L?($a,X)=>L(Wa($a,X),X):Wa}function pb(t,L,va){return L+7*t-(va+6)%7}const Qa="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),Da=Qa.reduce((t,L,va)=>(t[L]=1+va,t),{}),Ka={year:"%Y ",quarter:"Q%q ",month:"%b ",date:"%d ",week:"W%U ",day:"%a ",dayofyear:"%j ",hours:"%H:00",
minutes:"00:%M",seconds:":%S",milliseconds:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"};var lb=new Date,mb=new Date,Pa=ib(function(){},function(t,L){t.setTime(+t+L)},function(t,L){return L-t});Pa.every=function(t){t=Math.floor(t);return isFinite(t)&&0<t?1<t?ib(function(L){L.setTime(Math.floor(L/t)*t)},function(L,va){L.setTime(+L+va*t)},function(L,va){return(va-L)/t}):Pa:null};var xb=ib(function(t){t.setTime(t-t.getMilliseconds())},function(t,L){t.setTime(+t+
1E3*L)},function(t,L){return(L-t)/1E3},function(t){return t.getUTCSeconds()}),sb=ib(function(t){t.setTime(t-t.getMilliseconds()-1E3*t.getSeconds())},function(t,L){t.setTime(+t+6E4*L)},function(t,L){return(L-t)/6E4},function(t){return t.getMinutes()}),Qb=ib(function(t){t.setTime(t-t.getMilliseconds()-1E3*t.getSeconds()-6E4*t.getMinutes())},function(t,L){t.setTime(+t+36E5*L)},function(t,L){return(L-t)/36E5},function(t){return t.getHours()}),Wb=ib(t=>t.setHours(0,0,0,0),(t,L)=>t.setDate(t.getDate()+
L),(t,L)=>(L-t-6E4*(L.getTimezoneOffset()-t.getTimezoneOffset()))/864E5,t=>t.getDate()-1),ob=Gb(0);Gb(1);Gb(2);Gb(3);Gb(4);Gb(5);Gb(6);var pa=ib(function(t){t.setDate(1);t.setHours(0,0,0,0)},function(t,L){t.setMonth(t.getMonth()+L)},function(t,L){return L.getMonth()-t.getMonth()+12*(L.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Z=ib(function(t){t.setMonth(0,1);t.setHours(0,0,0,0)},function(t,L){t.setFullYear(t.getFullYear()+L)},function(t,L){return L.getFullYear()-t.getFullYear()},
function(t){return t.getFullYear()});Z.every=function(t){return isFinite(t=Math.floor(t))&&0<t?ib(function(L){L.setFullYear(Math.floor(L.getFullYear()/t)*t);L.setMonth(0,1);L.setHours(0,0,0,0)},function(L,va){L.setFullYear(L.getFullYear()+va*t)}):null};var Fa=ib(function(t){t.setUTCSeconds(0,0)},function(t,L){t.setTime(+t+6E4*L)},function(t,L){return(L-t)/6E4},function(t){return t.getUTCMinutes()}),Ga=ib(function(t){t.setUTCMinutes(0,0,0)},function(t,L){t.setTime(+t+36E5*L)},function(t,L){return(L-
t)/36E5},function(t){return t.getUTCHours()}),db=ib(function(t){t.setUTCHours(0,0,0,0)},function(t,L){t.setUTCDate(t.getUTCDate()+L)},function(t,L){return(L-t)/864E5},function(t){return t.getUTCDate()-1}),ba=ac(0);ac(1);ac(2);ac(3);ac(4);ac(5);ac(6);var na=ib(function(t){t.setUTCDate(1);t.setUTCHours(0,0,0,0)},function(t,L){t.setUTCMonth(t.getUTCMonth()+L)},function(t,L){return L.getUTCMonth()-t.getUTCMonth()+12*(L.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),q=ib(function(t){t.setUTCMonth(0,
1);t.setUTCHours(0,0,0,0)},function(t,L){t.setUTCFullYear(t.getUTCFullYear()+L)},function(t,L){return L.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});q.every=function(t){return isFinite(t=Math.floor(t))&&0<t?ib(function(L){L.setUTCFullYear(Math.floor(L.getUTCFullYear()/t)*t);L.setUTCMonth(0,1);L.setUTCHours(0,0,0,0)},function(L,va){L.setUTCFullYear(L.getUTCFullYear()+va*t)}):null};var M=Math.sqrt(50),Q=Math.sqrt(10),g=Math.sqrt(2);const u=new Date,m={year:t=>t.getFullYear(),
quarter:t=>Math.floor(t.getMonth()/3),month:t=>t.getMonth(),date:t=>t.getDate(),hours:t=>t.getHours(),minutes:t=>t.getMinutes(),seconds:t=>t.getSeconds(),milliseconds:t=>t.getMilliseconds(),dayofyear:t=>jc(t),week:t=>Yb(t),weekday:(t,L)=>pb(Yb(t),t.getDay(),Bb(L).getDay()),day:(t,L)=>pb(1,t.getDay(),Bb(L).getDay())},C={quarter:t=>3*t,week:(t,L)=>pb(t,0,Bb(L).getDay())},B={year:t=>t.getUTCFullYear(),quarter:t=>Math.floor(t.getUTCMonth()/3),month:t=>t.getUTCMonth(),date:t=>t.getUTCDate(),hours:t=>t.getUTCHours(),
minutes:t=>t.getUTCMinutes(),seconds:t=>t.getUTCSeconds(),milliseconds:t=>t.getUTCMilliseconds(),dayofyear:t=>ub(t),week:t=>Kb(t),day:(t,L)=>pb(1,t.getUTCDay(),Lb(L)),weekday:(t,L)=>pb(Kb(t),t.getUTCDay(),Lb(L))},A={quarter:t=>3*t,week:(t,L)=>pb(t,0,Lb(L))},E={year:Z,quarter:pa.every(3),month:pa,week:ob,date:Wb,day:Wb,dayofyear:Wb,hours:Qb,minutes:sb,seconds:xb,milliseconds:Pa},H={year:q,quarter:na.every(3),month:na,week:ba,date:db,day:db,dayofyear:db,hours:Ga,minutes:Fa,seconds:xb,milliseconds:Pa},
V="year month date hours minutes seconds milliseconds".split(" ");xb=V.slice(0,-1);sb=xb.slice(0,-1);Qb=sb.slice(0,-1);pa=Qb.slice(0,-1);Z=["year","month"];const Aa=["year"],Y=[[xb,1,1E3],[xb,5,5E3],[xb,15,15E3],[xb,30,3E4],[sb,1,6E4],[sb,5,3E5],[sb,15,9E5],[sb,30,18E5],[Qb,1,36E5],[Qb,3,108E5],[Qb,6,216E5],[Qb,12,432E5],[pa,1,864E5],[["year","week"],1,6048E5],[Z,1,2592E6],[Z,3,7776E6],[Aa,1,31536E6]];v.DATE="date";v.DAY="day";v.DAYOFYEAR="dayofyear";v.HOURS="hours";v.MILLISECONDS="milliseconds";
v.MINUTES="minutes";v.MONTH="month";v.QUARTER="quarter";v.SECONDS="seconds";v.TIME_UNITS=Qa;v.WEEK="week";v.YEAR="year";v.dayofyear=function(t){return jc(new Date(t))};v.timeBin=function(t){var L=t.extent;t=t.maxbins||40;var va=Math.abs(k.span(L))/t;let La=Ac(Wa=>Wa[2]).right(Y,va);La===Y.length?(va=Aa,L=uc(L[0]/31536E6,L[1]/31536E6,t)):La?(La=Y[va/Y[La-1][2]<Y[La][2]/va?La-1:La],va=La[0],L=La[1]):(va=V,L=Math.max(uc(L[0],L[1],t),1));return{units:va,step:L}};v.timeFloor=function(t,L){return Pb(t,
L||1,m,C,Ua)};v.timeInterval=function(t){return E[t]};v.timeOffset=function(t,L,va){return(t=E[t])?t.offset(L,va):void 0};v.timeSequence=function(t,L,va,La){return(t=E[t])?t.range(L,va,La):void 0};v.timeUnitSpecifier=function(t,L){L=k.extend({},Ka,L);t=P(t);const va=t.length;let La="",Wa,$a,X;for(Wa=0;Wa<va;)for($a=t.length;$a>Wa;--$a)if(X=t.slice(Wa,$a).join("-"),null!=L[X]){La+=L[X];Wa=$a;break}return La.trim()};v.timeUnits=P;v.utcFloor=function(t,L){return Pb(t,L||1,B,A,Cb)};v.utcInterval=function(t){return H[t]};
v.utcOffset=function(t,L,va){return(t=H[t])?t.offset(L,va):void 0};v.utcSequence=function(t,L,va,La){return(t=H[t])?t.range(L,va,La):void 0};v.utcdayofyear=function(t){return ub(new Date(t))};v.utcweek=function(t){return Kb(new Date(t))};v.week=function(t){return Yb(new Date(t))};Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[43]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(42),Db(21)):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega))})(this,function(v,k,P){function ib(J){const fa={};return Ta=>fa[Ta]||(fa[Ta]=J(Ta))}function Gb(J,fa){if(0>(fa=(J=fa?J.toExponential(fa-1):J.toExponential()).indexOf("e")))return null;var Ta=J.slice(0,fa);return[1<
Ta.length?Ta[0]+Ta.slice(2):Ta,+J.slice(fa+1)]}function ac(J){return J=Gb(Math.abs(J)),J?J[1]:NaN}function vc(J,fa){return function(Ta,bc){for(var Pc=Ta.length,Dc=[],Sc=0,gd=J[0],ee=0;0<Pc&&0<gd;){ee+gd+1>bc&&(gd=Math.max(1,bc-ee));Dc.push(Ta.substring(Pc-=gd,Pc+gd));if((ee+=gd+1)>bc)break;gd=J[Sc=(Sc+1)%J.length]}return Dc.reverse().join(fa)}}function Ac(J){return function(fa){return fa.replace(/[0-9]/g,function(Ta){return J[+Ta]})}}function uc(J){if(!(fa=Ud.exec(J)))throw Error("invalid format: "+
J);var fa;return new Bb({fill:fa[1],align:fa[2],sign:fa[3],symbol:fa[4],zero:fa[5],width:fa[6],comma:fa[7],precision:fa[8]&&fa[8].slice(1),trim:fa[9],type:fa[10]})}function Bb(J){this.fill=void 0===J.fill?" ":J.fill+"";this.align=void 0===J.align?"\x3e":J.align+"";this.sign=void 0===J.sign?"-":J.sign+"";this.symbol=void 0===J.symbol?"":J.symbol+"";this.zero=!!J.zero;this.width=void 0===J.width?void 0:+J.width;this.comma=!!J.comma;this.precision=void 0===J.precision?void 0:+J.precision;this.trim=!!J.trim;
this.type=void 0===J.type?"":J.type+""}function jc(J,fa){fa=Gb(J,fa);if(!fa)return J+"";J=fa[0];fa=fa[1];return 0>fa?"0."+Array(-fa).join("0")+J:J.length>fa+1?J.slice(0,fa+1)+"."+J.slice(fa+1):J+Array(fa-J.length+2).join("0")}function Yb(J){return J}function Ua(J){function fa(eb){function oc(Ec){var kd=Le,Fc=Ye,Id,Vd;if("c"===ye)Fc=ef(Ec)+Fc,Ec="";else{Ec=+Ec;var ce=0>Ec||0>1/Ec;Ec=isNaN(Ec)?Sa:ef(Math.abs(Ec),Cd);if(be){var le=Ec.length,O=1,ea=-1;a:for(;O<le;++O)switch(Ec[O]){case ".":ea=Id=O;break;
case "0":0===ea&&(ea=O);Id=O;break;default:if(!+Ec[O])break a;0<ea&&(ea=0)}Ec=0<ea?Ec.slice(0,ea)+Ec.slice(Id+1):Ec}ce&&0===+Ec&&"+"!==Uc&&(ce=!1);kd=(ce?"("===Uc?Uc:ee:"-"===Uc||"("===Uc?"":Uc)+kd;Fc=("s"===ye?la[8+Ve/3]:"")+Fc+(ce&&"("===Uc?")":"");if(od)for(ce=-1,Id=Ec.length;++ce<Id;)if(Vd=Ec.charCodeAt(ce),48>Vd||57<Vd){Fc=(46===Vd?Dc+Ec.slice(ce+1):Ec.slice(ce))+Fc;Ec=Ec.slice(0,ce);break}}Od&&!td&&(Ec=Ta(Ec,Infinity));Vd=kd.length+Ec.length+Fc.length;ce=Vd<jd?Array(jd-Vd+1).join(xd):"";Od&&
td&&(Ec=Ta(ce+Ec,ce.length?jd-Fc.length:Infinity),ce="");switch(Lc){case "\x3c":Ec=kd+Ec+Fc+ce;break;case "\x3d":Ec=kd+ce+Ec+Fc;break;case "^":Ec=ce.slice(0,Vd=ce.length>>1)+kd+Ec+Fc+ce.slice(Vd);break;default:Ec=ce+kd+Ec+Fc}return Sc(Ec)}eb=uc(eb);var xd=eb.fill,Lc=eb.align,Uc=eb.sign,Qc=eb.symbol,td=eb.zero,jd=eb.width,Od=eb.comma,Cd=eb.precision,be=eb.trim,ye=eb.type;"n"===ye?(Od=!0,ye="g"):Xd[ye]||(void 0===Cd&&(Cd=12),be=!0,ye="g");if(td||"0"===xd&&"\x3d"===Lc)td=!0,xd="0",Lc="\x3d";var Le="$"===
Qc?bc:"#"===Qc&&/[boxX]/.test(ye)?"0"+ye.toLowerCase():"",Ye="$"===Qc?Pc:/[%p]/.test(ye)?gd:"",ef=Xd[ye],od=/[defgprs%]/.test(ye);Cd=void 0===Cd?6:/[gprs]/.test(ye)?Math.max(1,Math.min(21,Cd)):Math.max(0,Math.min(20,Cd));oc.toString=function(){return eb+""};return oc}var Ta=void 0===J.grouping||void 0===J.thousands?Yb:vc(N.call(J.grouping,Number),J.thousands+""),bc=void 0===J.currency?"":J.currency[0]+"",Pc=void 0===J.currency?"":J.currency[1]+"",Dc=void 0===J.decimal?".":J.decimal+"",Sc=void 0===
J.numerals?Yb:Ac(N.call(J.numerals,String)),gd=void 0===J.percent?"%":J.percent+"",ee=void 0===J.minus?"":J.minus+"",Sa=void 0===J.nan?"NaN":J.nan+"";return{format:fa,formatPrefix:function(eb,oc){var xd=fa((eb=uc(eb),eb.type="f",eb));eb=3*Math.max(-8,Math.min(8,Math.floor(ac(oc)/3)));var Lc=Math.pow(10,-eb),Uc=la[8+eb/3];return function(Qc){return xd(Lc*Qc)+Uc}}}}function ub(J,fa){return Ta=>{Ta=J(Ta);const bc=Ta.indexOf(fa);if(0>bc)return Ta;a:{var Pc=Ta.lastIndexOf("e");if(!(0<Pc)){for(Pc=Ta.length;--Pc>
bc;){var Dc=Ta.charCodeAt(Pc);if(48<=Dc&&57>=Dc){Pc+=1;break a}}Pc=void 0}}for(Dc=Pc<Ta.length?Ta.slice(Pc):"";--Pc>bc;)if("0"!==Ta[Pc]){++Pc;break}return Ta.slice(0,Pc)+Dc}}function Kb(J){const fa=ib(J.format),Ta=J.formatPrefix;return{format:fa,formatPrefix:Ta,formatFloat(bc){bc=uc(bc||",");if(null==bc.precision){bc.precision=12;switch(bc.type){case "%":bc.precision-=2;break;case "e":--bc.precision}return ub(fa(bc),fa(".1f")(1)[1])}return fa(bc)},formatSpan(bc,Pc,Dc,Sc){Sc=uc(null==Sc?",f":Sc);var gd=
Math.abs(Pc-bc)/Math.max(0,Dc);Dc=Math.pow(10,Math.floor(Math.log(gd)/Math.LN10));gd/=Dc;gd>=Fd?Dc*=10:gd>=Zd?Dc*=5:gd>=de&&(Dc*=2);Dc=Pc<bc?-Dc:Dc;bc=Math.max(Math.abs(bc),Math.abs(Pc));if(null==Sc.precision)switch(Sc.type){case "s":return Pc=isNaN,Dc=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ac(bc)/3)))-ac(Math.abs(Dc))),Pc(Pc=Dc)||(Sc.precision=Pc),Ta(Sc,bc);case "":case "e":case "g":case "p":case "r":Pc=isNaN;Dc=Math.abs(Dc);bc=Math.abs(bc)-Dc;bc=Math.max(0,ac(bc)-ac(Dc))+1;Pc(Pc=bc)||(Sc.precision=
Pc-("e"===Sc.type));break;case "f":case "%":isNaN(Pc=Math.max(0,-ac(Math.abs(Dc))))||(Sc.precision=Pc-2*("%"===Sc.type))}return fa(Sc)}}}function Lb(){return Xb=Kb({format:fb,formatPrefix:Hb})}function Cb(J){return Kb(Ua(J))}function Pb(J){return arguments.length?Xb=Cb(J):Xb}function ab(J,fa,Ta,bc){function Pc(Dc){return J(Dc=0===arguments.length?new Date:new Date(+Dc)),Dc}Pc.floor=function(Dc){return J(Dc=new Date(+Dc)),Dc};Pc.ceil=function(Dc){return J(Dc=new Date(Dc-1)),fa(Dc,1),J(Dc),Dc};Pc.round=
function(Dc){var Sc=Pc(Dc),gd=Pc.ceil(Dc);return Dc-Sc<gd-Dc?Sc:gd};Pc.offset=function(Dc,Sc){return fa(Dc=new Date(+Dc),null==Sc?1:Math.floor(Sc)),Dc};Pc.range=function(Dc,Sc,gd){var ee=[],Sa;Dc=Pc.ceil(Dc);gd=null==gd?1:Math.floor(gd);if(!(Dc<Sc&&0<gd))return ee;do ee.push(Sa=new Date(+Dc)),fa(Dc,gd),J(Dc);while(Sa<Dc&&Dc<Sc);return ee};Pc.filter=function(Dc){return ab(function(Sc){if(Sc>=Sc)for(;J(Sc),!Dc(Sc);)Sc.setTime(Sc-1)},function(Sc,gd){if(Sc>=Sc)if(0>gd)for(;0>=++gd;)for(;fa(Sc,-1),!Dc(Sc););
else for(;0<=--gd;)for(;fa(Sc,1),!Dc(Sc););})};Ta&&(Pc.count=function(Dc,Sc){Bc.setTime(+Dc);lc.setTime(+Sc);J(Bc);J(lc);return Math.floor(Ta(Bc,lc))},Pc.every=function(Dc){Dc=Math.floor(Dc);return isFinite(Dc)&&0<Dc?1<Dc?Pc.filter(bc?function(Sc){return 0===bc(Sc)%Dc}:function(Sc){return 0===Pc.count(0,Sc)%Dc}):Pc:null});return Pc}function pb(J){return ab(function(fa){fa.setDate(fa.getDate()-(fa.getDay()+7-J)%7);fa.setHours(0,0,0,0)},function(fa,Ta){fa.setDate(fa.getDate()+7*Ta)},function(fa,Ta){return(Ta-
fa-6E4*(Ta.getTimezoneOffset()-fa.getTimezoneOffset()))/6048E5})}function Qa(J){return ab(function(fa){fa.setUTCDate(fa.getUTCDate()-(fa.getUTCDay()+7-J)%7);fa.setUTCHours(0,0,0,0)},function(fa,Ta){fa.setUTCDate(fa.getUTCDate()+7*Ta)},function(fa,Ta){return(Ta-fa)/6048E5})}function Da(J){if(0<=J.y&&100>J.y){var fa=new Date(-1,J.m,J.d,J.H,J.M,J.S,J.L);fa.setFullYear(J.y);return fa}return new Date(J.y,J.m,J.d,J.H,J.M,J.S,J.L)}function Ka(J){if(0<=J.y&&100>J.y){var fa=new Date(Date.UTC(-1,J.m,J.d,J.H,
J.M,J.S,J.L));fa.setUTCFullYear(J.y);return fa}return new Date(Date.UTC(J.y,J.m,J.d,J.H,J.M,J.S,J.L))}function lb(J,fa,Ta){return{y:J,m:fa,d:Ta,H:0,M:0,S:0,L:0}}function mb(J){function fa(od,Ec){return function(kd){var Fc=[],Id=-1,Vd=0,ce=od.length,le,O;for(kd instanceof Date||(kd=new Date(+kd));++Id<ce;)if(37===od.charCodeAt(Id)){Fc.push(od.slice(Vd,Id));null!=(Vd=df[le=od.charAt(++Id)])?le=od.charAt(++Id):Vd="e"===le?" ":"0";if(O=Ec[le])le=O(kd,Vd);Fc.push(le);Vd=Id+1}Fc.push(od.slice(Vd,Id));return Fc.join("")}}
function Ta(od,Ec){return function(kd){var Fc=lb(1900,void 0,1);if(bc(Fc,od,kd+="",0)!=kd.length)return null;if("Q"in Fc)return new Date(Fc.Q);if("s"in Fc)return new Date(1E3*Fc.s+("L"in Fc?Fc.L:0));!Ec||"Z"in Fc||(Fc.Z=0);"p"in Fc&&(Fc.H=Fc.H%12+12*Fc.p);void 0===Fc.m&&(Fc.m="q"in Fc?Fc.q:0);if("V"in Fc){if(1>Fc.V||53<Fc.V)return null;"w"in Fc||(Fc.w=1);if("Z"in Fc){kd=Ka(lb(Fc.y,0,1));var Id=kd.getUTCDay();kd=4<Id||0===Id?ae.ceil(kd):ae(kd);kd=$d.offset(kd,7*(Fc.V-1));Fc.y=kd.getUTCFullYear();Fc.m=
kd.getUTCMonth();Fc.d=kd.getUTCDate()+(Fc.w+6)%7}else kd=Da(lb(Fc.y,0,1)),Id=kd.getDay(),kd=4<Id||0===Id?Nc.ceil(kd):Nc(kd),kd=Gc.offset(kd,7*(Fc.V-1)),Fc.y=kd.getFullYear(),Fc.m=kd.getMonth(),Fc.d=kd.getDate()+(Fc.w+6)%7}else if("W"in Fc||"U"in Fc)"w"in Fc||(Fc.w="u"in Fc?Fc.u%7:"W"in Fc?1:0),Id="Z"in Fc?Ka(lb(Fc.y,0,1)).getUTCDay():Da(lb(Fc.y,0,1)).getDay(),Fc.m=0,Fc.d="W"in Fc?(Fc.w+6)%7+7*Fc.W-(Id+5)%7:Fc.w+7*Fc.U-(Id+6)%7;return"Z"in Fc?(Fc.H+=Fc.Z/100|0,Fc.M+=Fc.Z%100,Ka(Fc)):Da(Fc)}}function bc(od,
Ec,kd,Fc){for(var Id=0,Vd=Ec.length,ce=kd.length,le;Id<Vd;){if(Fc>=ce)return-1;le=Ec.charCodeAt(Id++);if(37===le){if(le=Ec.charAt(Id++),le=ef[le in df?Ec.charAt(Id++):le],!le||0>(Fc=le(od,kd,Fc)))return-1}else if(le!=kd.charCodeAt(Fc++))return-1}return Fc}var Pc=J.dateTime,Dc=J.date,Sc=J.time,gd=J.periods,ee=J.days,Sa=J.shortDays,eb=J.months,oc=J.shortMonths,xd=sb(gd),Lc=Qb(gd),Uc=sb(ee),Qc=Qb(ee),td=sb(Sa),jd=Qb(Sa),Od=sb(eb),Cd=Qb(eb),be=sb(oc),ye=Qb(oc),Le={a:function(od){return Sa[od.getDay()]},
A:function(od){return ee[od.getDay()]},b:function(od){return oc[od.getMonth()]},B:function(od){return eb[od.getMonth()]},c:null,d:V,e:V,f:va,g:cd,G:Rc,H:Aa,I:Y,j:t,L,m:La,M:Wa,p:function(od){return gd[+(12<=od.getHours())]},q:function(od){return 1+~~(od.getMonth()/3)},Q:nc,s:ec,S:$a,u:X,U:Ca,V:Ib,w:yc,W:sc,x:null,X:null,y:xc,Y:Zb,Z:Pd,"%":Fb},Ye={a:function(od){return Sa[od.getUTCDay()]},A:function(od){return ee[od.getUTCDay()]},b:function(od){return oc[od.getUTCMonth()]},B:function(od){return eb[od.getUTCMonth()]},
c:null,d:Ma,e:Ma,f:cc,g:ya,G:Za,H:Vb,I:qb,j:Tb,L:gc,m:Ic,M:zc,p:function(od){return gd[+(12<=od.getUTCHours())]},q:function(od){return 1+~~(od.getUTCMonth()/3)},Q:nc,s:ec,S:Yc,u:Md,U:ud,V:gb,w:wb,W:sa,x:null,X:null,y:G,Y:Na,Z:kb,"%":Fb},ef={a:function(od,Ec,kd){return(Ec=td.exec(Ec.slice(kd)))?(od.w=jd.get(Ec[0].toLowerCase()),kd+Ec[0].length):-1},A:function(od,Ec,kd){return(Ec=Uc.exec(Ec.slice(kd)))?(od.w=Qc.get(Ec[0].toLowerCase()),kd+Ec[0].length):-1},b:function(od,Ec,kd){return(Ec=be.exec(Ec.slice(kd)))?
(od.m=ye.get(Ec[0].toLowerCase()),kd+Ec[0].length):-1},B:function(od,Ec,kd){return(Ec=Od.exec(Ec.slice(kd)))?(od.m=Cd.get(Ec[0].toLowerCase()),kd+Ec[0].length):-1},c:function(od,Ec,kd){return bc(od,Pc,Ec,kd)},d:M,e:M,f:B,g:db,G:Ga,H:g,I:g,j:Q,L:C,m:q,M:u,p:function(od,Ec,kd){return(Ec=xd.exec(Ec.slice(kd)))?(od.p=Lc.get(Ec[0].toLowerCase()),kd+Ec[0].length):-1},q:na,Q:E,s:H,S:m,u:ob,U:pa,V:Z,w:Wb,W:Fa,x:function(od,Ec,kd){return bc(od,Dc,Ec,kd)},X:function(od,Ec,kd){return bc(od,Sc,Ec,kd)},y:db,Y:Ga,
Z:ba,"%":A};Le.x=fa(Dc,Le);Le.X=fa(Sc,Le);Le.c=fa(Pc,Le);Ye.x=fa(Dc,Ye);Ye.X=fa(Sc,Ye);Ye.c=fa(Pc,Ye);return{format:function(od){var Ec=fa(od+="",Le);Ec.toString=function(){return od};return Ec},parse:function(od){var Ec=Ta(od+="",!1);Ec.toString=function(){return od};return Ec},utcFormat:function(od){var Ec=fa(od+="",Ye);Ec.toString=function(){return od};return Ec},utcParse:function(od){var Ec=Ta(od+="",!0);Ec.toString=function(){return od};return Ec}}}function Pa(J,fa,Ta){var bc=0>J?"-":"";J=(bc?
-J:J)+"";var Pc=J.length;return bc+(Pc<Ta?Array(Ta-Pc+1).join(fa)+J:J)}function xb(J){return J.replace(U,"\\$\x26")}function sb(J){return new RegExp("^(?:"+J.map(xb).join("|")+")","i")}function Qb(J){return new Map(J.map((fa,Ta)=>[fa.toLowerCase(),Ta]))}function Wb(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+1)))?(J.w=+fa[0],Ta+fa[0].length):-1}function ob(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+1)))?(J.u=+fa[0],Ta+fa[0].length):-1}function pa(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+2)))?(J.U=+fa[0],
Ta+fa[0].length):-1}function Z(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+2)))?(J.V=+fa[0],Ta+fa[0].length):-1}function Fa(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+2)))?(J.W=+fa[0],Ta+fa[0].length):-1}function Ga(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+4)))?(J.y=+fa[0],Ta+fa[0].length):-1}function db(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+2)))?(J.y=+fa[0]+(68<+fa[0]?1900:2E3),Ta+fa[0].length):-1}function ba(J,fa,Ta){return(fa=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(fa.slice(Ta,Ta+6)))?(J.Z=fa[1]?
0:-(fa[2]+(fa[3]||"00")),Ta+fa[0].length):-1}function na(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+1)))?(J.q=3*fa[0]-3,Ta+fa[0].length):-1}function q(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+2)))?(J.m=fa[0]-1,Ta+fa[0].length):-1}function M(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+2)))?(J.d=+fa[0],Ta+fa[0].length):-1}function Q(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+3)))?(J.m=0,J.d=+fa[0],Ta+fa[0].length):-1}function g(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+2)))?(J.H=+fa[0],Ta+fa[0].length):
-1}function u(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+2)))?(J.M=+fa[0],Ta+fa[0].length):-1}function m(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+2)))?(J.S=+fa[0],Ta+fa[0].length):-1}function C(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+3)))?(J.L=+fa[0],Ta+fa[0].length):-1}function B(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+6)))?(J.L=Math.floor(fa[0]/1E3),Ta+fa[0].length):-1}function A(J,fa,Ta){return(J=tf.exec(fa.slice(Ta,Ta+1)))?Ta+J[0].length:-1}function E(J,fa,Ta){return(fa=re.exec(fa.slice(Ta)))?
(J.Q=+fa[0],Ta+fa[0].length):-1}function H(J,fa,Ta){return(fa=re.exec(fa.slice(Ta)))?(J.s=+fa[0],Ta+fa[0].length):-1}function V(J,fa){return Pa(J.getDate(),fa,2)}function Aa(J,fa){return Pa(J.getHours(),fa,2)}function Y(J,fa){return Pa(J.getHours()%12||12,fa,2)}function t(J,fa){return Pa(1+Gc.count(Gd(J),J),fa,3)}function L(J,fa){return Pa(J.getMilliseconds(),fa,3)}function va(J,fa){return L(J,fa)+"000"}function La(J,fa){return Pa(J.getMonth()+1,fa,2)}function Wa(J,fa){return Pa(J.getMinutes(),fa,
2)}function $a(J,fa){return Pa(J.getSeconds(),fa,2)}function X(J){J=J.getDay();return 0===J?7:J}function Ca(J,fa){return Pa(id.count(Gd(J)-1,J),fa,2)}function Ya(J){var fa=J.getDay();return 4<=fa||0===fa?sd(J):sd.ceil(J)}function Ib(J,fa){J=Ya(J);return Pa(sd.count(Gd(J),J)+(4===Gd(J).getDay()),fa,2)}function yc(J){return J.getDay()}function sc(J,fa){return Pa(Nc.count(Gd(J)-1,J),fa,2)}function xc(J,fa){return Pa(J.getFullYear()%100,fa,2)}function cd(J,fa){J=Ya(J);return Pa(J.getFullYear()%100,fa,
2)}function Zb(J,fa){return Pa(J.getFullYear()%1E4,fa,4)}function Rc(J,fa){var Ta=J.getDay();J=4<=Ta||0===Ta?sd(J):sd.ceil(J);return Pa(J.getFullYear()%1E4,fa,4)}function Pd(J){J=J.getTimezoneOffset();return(0<J?"-":(J*=-1,"+"))+Pa(J/60|0,"0",2)+Pa(J%60,"0",2)}function Ma(J,fa){return Pa(J.getUTCDate(),fa,2)}function Vb(J,fa){return Pa(J.getUTCHours(),fa,2)}function qb(J,fa){return Pa(J.getUTCHours()%12||12,fa,2)}function Tb(J,fa){return Pa(1+$d.count(hf(J),J),fa,3)}function gc(J,fa){return Pa(J.getUTCMilliseconds(),
fa,3)}function cc(J,fa){return gc(J,fa)+"000"}function Ic(J,fa){return Pa(J.getUTCMonth()+1,fa,2)}function zc(J,fa){return Pa(J.getUTCMinutes(),fa,2)}function Yc(J,fa){return Pa(J.getUTCSeconds(),fa,2)}function Md(J){J=J.getUTCDay();return 0===J?7:J}function ud(J,fa){return Pa(Wd.count(hf(J)-1,J),fa,2)}function Ha(J){var fa=J.getUTCDay();return 4<=fa||0===fa?Ce(J):Ce.ceil(J)}function gb(J,fa){J=Ha(J);return Pa(Ce.count(hf(J),J)+(4===hf(J).getUTCDay()),fa,2)}function wb(J){return J.getUTCDay()}function sa(J,
fa){return Pa(ae.count(hf(J)-1,J),fa,2)}function G(J,fa){return Pa(J.getUTCFullYear()%100,fa,2)}function ya(J,fa){J=Ha(J);return Pa(J.getUTCFullYear()%100,fa,2)}function Na(J,fa){return Pa(J.getUTCFullYear()%1E4,fa,4)}function Za(J,fa){var Ta=J.getUTCDay();J=4<=Ta||0===Ta?Ce(J):Ce.ceil(J);return Pa(J.getUTCFullYear()%1E4,fa,4)}function kb(){return"+0000"}function Fb(){return"%"}function nc(J){return+J}function ec(J){return Math.floor(+J/1E3)}function ic(J,fa,Ta){Ta=Ta||{};P.isObject(Ta)||P.error(`Invalid time multi-format specifier: ${Ta}`);
const bc=fa(k.SECONDS),Pc=fa(k.MINUTES),Dc=fa(k.HOURS),Sc=fa(k.DATE),gd=fa(k.WEEK),ee=fa(k.MONTH),Sa=fa(k.QUARTER),eb=fa(k.YEAR),oc=J(Ta[k.MILLISECONDS]||".%L"),xd=J(Ta[k.SECONDS]||":%S"),Lc=J(Ta[k.MINUTES]||"%I:%M"),Uc=J(Ta[k.HOURS]||"%I %p"),Qc=J(Ta[k.DATE]||Ta[k.DAY]||"%a %d"),td=J(Ta[k.WEEK]||"%b %d"),jd=J(Ta[k.MONTH]||"%B"),Od=J(Ta[k.QUARTER]||"%B"),Cd=J(Ta[k.YEAR]||"%Y");return be=>(bc(be)<be?oc:Pc(be)<be?xd:Dc(be)<be?Lc:Sc(be)<be?Uc:ee(be)<be?gd(be)<be?Qc:td:eb(be)<be?Sa(be)<be?jd:Od:Cd)(be)}
function Tc(J){const fa=ib(J.format),Ta=ib(J.utcFormat);return{timeFormat:bc=>P.isString(bc)?fa(bc):ic(fa,k.timeInterval,bc),utcFormat:bc=>P.isString(bc)?Ta(bc):ic(Ta,k.utcInterval,bc),timeParse:ib(J.parse),utcParse:ib(J.utcParse)}}function dd(){return $b=Tc({format:cb,parse:Ab,utcFormat:fc,utcParse:Cc})}function ed(J){return Tc(mb(J))}function Qd(J){return arguments.length?$b=ed(J):$b}function Td(J,fa){var Ta=arguments.length;Ta&&2!==Ta&&P.error("defaultLocale expects either zero or two arguments.");
if(Ta){Ta=Pb(J);var bc=Qd(fa);Ta=P.extend({},Ta,bc)}else Ta=Pb(),bc=Qd(),Ta=P.extend({},Ta,bc);return Ta}var Fd=Math.sqrt(50),Zd=Math.sqrt(10),de=Math.sqrt(2),Ud=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;uc.prototype=Bb.prototype;Bb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?
"~":"")+this.type};var Ve,Xd={"%":(J,fa)=>(100*J).toFixed(fa),b:J=>Math.round(J).toString(2),c:J=>J+"",d:function(J){return 1E21<=Math.abs(J=Math.round(J))?J.toLocaleString("en").replace(/,/g,""):J.toString(10)},e:(J,fa)=>J.toExponential(fa),f:(J,fa)=>J.toFixed(fa),g:(J,fa)=>J.toPrecision(fa),o:J=>Math.round(J).toString(8),p:(J,fa)=>jc(100*J,fa),r:jc,s:function(J,fa){var Ta=Gb(J,fa);if(!Ta)return J+"";var bc=Ta[0];Ta=Ta[1];Ta=Ta-(Ve=3*Math.max(-8,Math.min(8,Math.floor(Ta/3))))+1;var Pc=bc.length;
return Ta===Pc?bc:Ta>Pc?bc+Array(Ta-Pc+1).join("0"):0<Ta?bc.slice(0,Ta)+"."+bc.slice(Ta):"0."+Array(1-Ta).join("0")+Gb(J,Math.max(0,fa+Ta-1))[0]},X:J=>Math.round(J).toString(16).toUpperCase(),x:J=>Math.round(J).toString(16)},N=Array.prototype.map,la="y z a f p n  m  k M G T P E Z Y".split(" "),za,fb,Hb;(function(J){za=Ua(J);fb=za.format;Hb=za.formatPrefix;return za})({thousands:",",grouping:[3],currency:["$",""]});let Xb;Lb();var Bc=new Date,lc=new Date,Gc=ab(J=>J.setHours(0,0,0,0),(J,fa)=>J.setDate(J.getDate()+
fa),(J,fa)=>(fa-J-6E4*(fa.getTimezoneOffset()-J.getTimezoneOffset()))/864E5,J=>J.getDate()-1),id=pb(0),Nc=pb(1);pb(2);pb(3);var sd=pb(4);pb(5);pb(6);var Hd=ab(function(J){J.setMonth(0,1);J.setHours(0,0,0,0)},function(J,fa){J.setFullYear(J.getFullYear()+fa)},function(J,fa){return fa.getFullYear()-J.getFullYear()},function(J){return J.getFullYear()});Hd.every=function(J){return isFinite(J=Math.floor(J))&&0<J?ab(function(fa){fa.setFullYear(Math.floor(fa.getFullYear()/J)*J);fa.setMonth(0,1);fa.setHours(0,
0,0,0)},function(fa,Ta){fa.setFullYear(fa.getFullYear()+Ta*J)}):null};var Gd=Hd,$d=ab(function(J){J.setUTCHours(0,0,0,0)},function(J,fa){J.setUTCDate(J.getUTCDate()+fa)},function(J,fa){return(fa-J)/864E5},function(J){return J.getUTCDate()-1}),Wd=Qa(0),ae=Qa(1);Qa(2);Qa(3);var Ce=Qa(4);Qa(5);Qa(6);var kf=ab(function(J){J.setUTCMonth(0,1);J.setUTCHours(0,0,0,0)},function(J,fa){J.setUTCFullYear(J.getUTCFullYear()+fa)},function(J,fa){return fa.getUTCFullYear()-J.getUTCFullYear()},function(J){return J.getUTCFullYear()});
kf.every=function(J){return isFinite(J=Math.floor(J))&&0<J?ab(function(fa){fa.setUTCFullYear(Math.floor(fa.getUTCFullYear()/J)*J);fa.setUTCMonth(0,1);fa.setUTCHours(0,0,0,0)},function(fa,Ta){fa.setUTCFullYear(fa.getUTCFullYear()+Ta*J)}):null};var hf=kf,df={"-":"",_:" ",0:"0"},re=/^\s*\d+/,tf=/^%/,U=/[\\^$*+?|[\]().{}]/g,ua,cb,Ab,fc,Cc;(function(J){ua=mb(J);cb=ua.format;Ab=ua.parse;fc=ua.utcFormat;Cc=ua.utcParse;return ua})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],
days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});let $b;dd();v.defaultLocale=Td;v.locale=function(J,fa){J=J?Cb(J):Pb();fa=fa?ed(fa):Qd();return P.extend({},J,fa)};v.numberFormatDefaultLocale=Pb;v.numberFormatLocale=Cb;v.resetDefaultLocale=function(){Lb();
dd();return Td()};v.resetNumberFormatDefaultLocale=Lb;v.resetTimeFormatDefaultLocale=dd;v.timeFormatDefaultLocale=Qd;v.timeFormatLocale=ed;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[44]=function(dc,Db,Wc,nb){var v=Db(27).Buffer;(function(k,P){"object"===typeof nb&&"undefined"!==typeof Wc?P(nb,Db(21),Db(22),Db(43)):"function"===typeof define&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],P):(k="undefined"!==typeof globalThis?globalThis:k||self,P(k.vega={},k.vega,k.topojson,k.vega))})(this,function(k,P,ib,Gb){function ac(ba,na){const q=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const M=yield q.sanitize(ba,na),
Q=M.href;return M.localFile?q.file(Q):q.http(Q,na)})}function vc(ba,na){const q=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){na=P.extend({},q.options,na);const M=q.fileAccess,Q={href:null};var g;let u;var m=Pa.test(ba.replace(xb,""));null!=ba&&"string"===typeof ba&&m||P.error("Sanitize failure, invalid URI: "+P.stringValue(ba));m=mb.test(ba);(g=na.baseURL)&&!m&&(ba.startsWith("/")||g.endsWith("/")||(ba="/"+ba),ba=g+ba);u=(g=ba.startsWith("file://"))||"file"===na.mode||"http"!==
na.mode&&!m&&M;g?ba=ba.slice(7):ba.startsWith("//")&&("file"===na.defaultProtocol?(ba=ba.slice(2),u=!0):ba=(na.defaultProtocol||"http")+":"+ba);Object.defineProperty(Q,"localFile",{value:!!u});Q.href=ba;na.target&&(Q.target=na.target+"");na.rel&&(Q.rel=na.rel+"");"image"===na.context&&na.crossOrigin&&(Q.crossOrigin=na.crossOrigin+"");return Q})}function Ac(ba){return ba?na=>new Promise((q,M)=>{ba.readFile(na,(Q,g)=>{Q?M(Q):q(g)})}):uc}function uc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){P.error("No file system access.")})}
function Bb(ba){return ba?function(na,q){const M=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Q=P.extend({},M.options.http,q);const g=q&&q.response;Q=yield ba(na,Q);return Q.ok?P.isFunction(Q[g])?Q[g]():Q.text():P.error(Q.status+""+Q.statusText)})}:jc}function jc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){P.error("No HTTP fetch method available.")})}function Yb(ba,na){if(!ba||!ba.length)return"unknown";const q=ba.length,M=Wb.length,Q=Wb.map((g,u)=>
u+1);for(let g=0,u=0,m,C;g<q;++g)for(C=na?ba[g][na]:ba[g],m=0;m<M;++m)if(Q[m]&&null!=C&&C===C&&!Wb[m](C)&&(Q[m]=0,++u,u===Wb.length))return"string";return ob[Q.reduce((g,u)=>0===g?u:g,0)-1]}function Ua(ba,na){return na.reduce((q,M)=>{q[M]=Yb(ba,M);return q},{})}function ub(ba){return new Function("d","return {"+ba.map(function(na,q){return JSON.stringify(na)+": d["+q+'] || ""'}).join(",")+"}")}function Kb(ba,na){var q=ub(ba);return function(M,Q){return na(q(M),Q,ba)}}function Lb(ba){var na=Object.create(null),
q=[];ba.forEach(function(M){for(var Q in M)Q in na||q.push(na[Q]=Q)});return q}function Cb(ba,na){ba+="";var q=ba.length;return q<na?Array(na-q+1).join(0)+ba:ba}function Pb(ba){function na(m,C){function B(){if(Y)return Z;if(t)return t=!1,pa;var va,La=H,Wa;if(34===m.charCodeAt(La)){for(;H++<E&&34!==m.charCodeAt(H)||34===m.charCodeAt(++H););(va=H)>=E?Y=!0:10===(Wa=m.charCodeAt(H++))?t=!0:13===Wa&&(t=!0,10===m.charCodeAt(H)&&++H);return m.slice(La+1,va-1).replace(/""/g,'"')}for(;H<E;){if(10===(Wa=m.charCodeAt(va=
H++)))t=!0;else if(13===Wa)t=!0,10===m.charCodeAt(H)&&++H;else if(Wa!==u)continue;return m.slice(La,va)}return Y=!0,m.slice(La,E)}var A=[],E=m.length,H=0,V=0,Aa,Y=0>=E,t=!1;10===m.charCodeAt(E-1)&&--E;for(13===m.charCodeAt(E-1)&&--E;(Aa=B())!==Z;){for(var L=[];Aa!==pa&&Aa!==Z;)L.push(Aa),Aa=B();C&&null==(L=C(L,V++))||A.push(L)}return A}function q(m,C){return m.map(function(B){return C.map(function(A){return Q(B[A])}).join(ba)})}function M(m){return m.map(Q).join(ba)}function Q(m){if(null==m)m="";
else{if(m instanceof Date){var C=m.getUTCHours();var B=m.getUTCMinutes(),A=m.getUTCSeconds(),E=m.getUTCMilliseconds();if(isNaN(m))m="Invalid Date";else{var H=m.getUTCFullYear();m=(0>H?"-"+Cb(-H,6):9999<H?"+"+Cb(H,6):Cb(H,4))+"-"+Cb(m.getUTCMonth()+1,2)+"-"+Cb(m.getUTCDate(),2)+(E?"T"+Cb(C,2)+":"+Cb(B,2)+":"+Cb(A,2)+"."+Cb(E,3)+"Z":A?"T"+Cb(C,2)+":"+Cb(B,2)+":"+Cb(A,2)+"Z":B||C?"T"+Cb(C,2)+":"+Cb(B,2)+"Z":"")}C=m}else C=g.test(m+="")?'"'+m.replace(/"/g,'""')+'"':m;m=C}return m}var g=new RegExp('["'+
ba+"\n\r]"),u=ba.charCodeAt(0);return{parse:function(m,C){var B,A;m=na(m,function(E,H){if(B)return B(E,H-1);A=E;B=C?Kb(E,C):ub(E)});m.columns=A||[];return m},parseRows:na,format:function(m,C){null==C&&(C=Lb(m));return[C.map(Q).join(ba)].concat(q(m,C)).join("\n")},formatBody:function(m,C){null==C&&(C=Lb(m));return q(m,C).join("\n")},formatRows:function(m){return m.map(M).join("\n")},formatRow:M,formatValue:Q}}function ab(ba){const na=function(q,M){const Q={delimiter:ba};return pb(q,M?P.extend(M,Q):
Q)};na.responseType="text";return na}function pb(ba,na){na.header&&(ba=na.header.map(P.stringValue).join(na.delimiter)+"\n"+ba);return Pb(na.delimiter).parse(ba+"")}function Qa(ba,na){const q=na&&na.property?P.field(na.property):P.identity;var M;if(M=P.isObject(ba))M=!("function"===typeof v&&P.isFunction(v.isBuffer)&&v.isBuffer(ba));M?(ba=q(ba),!P.isArray(ba)&&P.isIterable(ba)&&(ba=[...ba]),na=na&&na.copy?JSON.parse(JSON.stringify(ba)):ba):na=q(JSON.parse(ba));return na}function Da(ba,na){let q,M,
Q,g;ba=Qa(ba,na);na&&na.feature?(q=ib.feature,Q=na.feature):na&&na.mesh?(q=ib.mesh,Q=na.mesh,g=Fa[na.filter]):P.error("Missing TopoJSON feature or mesh parameter.");return(M=(M=ba.objects[Q])?q(ba,M,g):P.error("Invalid TopoJSON object: "+Q))&&M.features||[M]}function Ka(ba,na){return 1<arguments.length?(Ga[ba]=na,this):P.hasOwnProperty(Ga,ba)?Ga[ba]:null}function lb(ba,na,q,M){if(ba.length){var Q=Gb.timeFormatDefaultLocale();q=q||Q.timeParse;M=M||Q.utcParse;Q=ba.columns||Object.keys(ba[0]);var g,
u;"auto"===na&&(na=Ua(ba,Q));Q=Object.keys(na);var m=Q.map(H=>{var V=na[H];if(V&&(V.startsWith("date:")||V.startsWith("utc:"))){H=V.split(/:(.+)?/,2);V=H[1];if("'"===V[0]&&"'"===V[V.length-1]||'"'===V[0]&&'"'===V[V.length-1])V=V.slice(1,-1);return("utc"===H[0]?M:q)(V)}if(!Qb[V])throw Error("Illegal format pattern: "+H+":"+V);return Qb[V]});var C=0;var B=ba.length;for(u=Q.length;C<B;++C){var A=ba[C];for(g=0;g<u;++g){var E=Q[g];A[E]=m[g](A[E])}}}}const mb=/^(data:|([A-Za-z]+:)?\/\/)/,Pa=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
xb=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,sb=ba=>!Number.isNaN(+ba)&&!(ba instanceof Date),Qb={boolean:P.toBoolean,integer:P.toNumber,number:P.toNumber,date:P.toDate,string:P.toString,unknown:P.identity},Wb=[ba=>"true"===ba||"false"===ba||!0===ba||!1===ba,ba=>sb(ba)&&Number.isInteger(+ba),sb,ba=>!Number.isNaN(Date.parse(ba))],ob=["boolean","integer","number","date"];var pa={},Z={};pb.responseType="text";Qa.responseType="json";const Fa={interior:(ba,na)=>ba!==na,exterior:(ba,
na)=>ba===na};Da.responseType="json";const Ga={dsv:pb,csv:ab(","),tsv:ab("\t"),json:Qa,topojson:Da},db=function(ba,na){return q=>({options:q||{},sanitize:vc,load:ac,fileAccess:!!na,file:Ac(na),http:Bb(ba)})}("undefined"!==typeof fetch&&fetch,null);k.format=Ga;k.formats=Ka;k.inferType=Yb;k.inferTypes=Ua;k.loader=db;k.read=function(ba,na,q,M){na=na||{};const Q=Ka(na.type||"json");Q||P.error("Unknown data format type: "+na.type);ba=Q(ba,na);na.parse&&lb(ba,na.parse,q,M);P.hasOwnProperty(ba,"columns")&&
delete ba.columns;return ba};k.responseType=function(ba){return(ba=Ka(ba))&&ba.responseType||"text"};k.typeParsers=Qb;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[45]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(21),Db(42)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-time"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega))})(this,function(v,k,P){function ib(y,W,ha){W=y-W+2*ha;return y?0<W?W:1:0}function Gb(y){return function(W){let ha=W[0];W=W[1];let Oa;W<ha&&(Oa=ha,ha=W,W=Oa);return[y.invert(ha),y.invert(W)]}}function ac(y){return function(W){const ha=
y.range();let Oa=W[0];W=W[1];let zb=-1,Eb;let Sb;if(W<Oa){var kc=Oa;Oa=W;W=kc}kc=0;for(Sb=ha.length;kc<Sb;++kc)ha[kc]>=Oa&&ha[kc]<=W&&(0>zb&&(zb=kc),Eb=kc);if(!(0>zb))return Oa=y.invertExtent(ha[zb]),W=y.invertExtent(ha[Eb]),[void 0===Oa[0]?Oa[1]:Oa[0],void 0===W[1]?W[0]:W[1]]}}function vc(y,W){return null==y||null==W?NaN:y<W?-1:y>W?1:y>=W?0:NaN}function Ac(y){function W(Eb,Sb,kc=0,Vc=Eb.length){if(kc<Vc){if(0!==Oa(Sb,Sb))return Vc;do{const Jd=kc+Vc>>>1;0>zb(Eb[Jd],Sb)?kc=Jd+1:Vc=Jd}while(kc<Vc)}return kc}
let ha=y,Oa=y,zb=y;2!==y.length&&(ha=(Eb,Sb)=>y(Eb)-Sb,Oa=vc,zb=(Eb,Sb)=>vc(y(Eb),Sb));return{left:W,center:function(Eb,Sb,kc=0,Vc=Eb.length){Vc=W(Eb,Sb,kc,Vc-1);return Vc>kc&&ha(Eb[Vc-1],Sb)>-ha(Eb[Vc],Sb)?Vc-1:Vc},right:function(Eb,Sb,kc=0,Vc=Eb.length){if(kc<Vc){if(0!==Oa(Sb,Sb))return Vc;do{const Jd=kc+Vc>>>1;0>=zb(Eb[Jd],Sb)?kc=Jd+1:Vc=Jd}while(kc<Vc)}return kc}}}function uc(y){return null===y?NaN:+y}function Bb({_intern:y,_key:W},ha){W=W(ha);return y.has(W)?y.get(W):ha}function jc({_intern:y,
_key:W},ha){W=W(ha);if(y.has(W))return y.get(W);y.set(W,ha);return ha}function Yb({_intern:y,_key:W},ha){W=W(ha);y.has(W)&&(ha=y.get(W),y.delete(W));return ha}function Ua(y){return null!==y&&"object"===typeof y?y.valueOf():y}function ub(y,W,ha){var Oa,zb=-1,Eb;W=+W;y=+y;ha=+ha;if(y===W&&0<ha)return[y];if(Oa=W<y){var Sb=y;y=W;W=Sb}if(0===(Eb=Kb(y,W,ha))||!isFinite(Eb))return[];if(0<Eb)for(ha=Math.round(y/Eb),Sb=Math.round(W/Eb),ha*Eb<y&&++ha,Sb*Eb>W&&--Sb,y=Array(Sb=Sb-ha+1);++zb<Sb;)y[zb]=(ha+zb)*
Eb;else for(Eb=-Eb,ha=Math.round(y*Eb),Sb=Math.round(W*Eb),ha/Eb<y&&++ha,Sb/Eb>W&&--Sb,y=Array(Sb=Sb-ha+1);++zb<Sb;)y[zb]=(ha+zb)/Eb;Oa&&y.reverse();return y}function Kb(y,W,ha){W=(W-y)/Math.max(0,ha);y=Math.floor(Math.log(W)/Math.LN10);W/=Math.pow(10,y);return 0<=y?(W>=Bf?10:W>=ug?5:W>=xg?2:1)*Math.pow(10,y):-Math.pow(10,-y)/(W>=Bf?10:W>=ug?5:W>=xg?2:1)}function Lb(y,W,ha){var Oa=Math.abs(W-y)/Math.max(0,ha);ha=Math.pow(10,Math.floor(Math.log(Oa)/Math.LN10));Oa/=ha;Oa>=Bf?ha*=10:Oa>=ug?ha*=5:Oa>=
xg&&(ha*=2);return W<y?-ha:ha}function Cb(y,W,ha=uc){if(Oa=y.length){if(0>=(W=+W)||2>Oa)return+ha(y[0],0,y);if(1<=W)return+ha(y[Oa-1],Oa-1,y);var Oa;W*=Oa-1;Oa=Math.floor(W);var zb=+ha(y[Oa],Oa,y);y=+ha(y[Oa+1],Oa+1,y);return zb+(y-zb)*(W-Oa)}}function Pb(y,W,ha){y=+y;W=+W;ha=2>(zb=arguments.length)?(W=y,y=0,1):3>zb?1:+ha;for(var Oa=-1,zb=Math.max(0,Math.ceil((W-y)/ha))|0,Eb=Array(zb);++Oa<zb;)Eb[Oa]=y+Oa*ha;return Eb}function ab(y,W){switch(arguments.length){case 0:break;case 1:this.range(y);break;
default:this.range(W).domain(y)}return this}function pb(y,W){switch(arguments.length){case 0:break;case 1:"function"===typeof y?this.interpolator(y):this.range(y);break;default:this.domain(y),"function"===typeof W?this.interpolator(W):this.range(W)}return this}function Qa(){function y(Eb){let Sb=W.get(Eb);if(void 0===Sb){if(zb!==ig)return zb;W.set(Eb,Sb=ha.push(Eb)-1)}return Oa[Sb%Oa.length]}var W=new nf,ha=[],Oa=[],zb=ig;y.domain=function(Eb){if(!arguments.length)return ha.slice();ha=[];W=new nf;
for(const Sb of Eb)W.has(Sb)||W.set(Sb,ha.push(Sb)-1);return y};y.range=function(Eb){return arguments.length?(Oa=Array.from(Eb),y):Oa.slice()};y.unknown=function(Eb){return arguments.length?(zb=Eb,y):zb};y.copy=function(){return Qa(ha,Oa).unknown(zb)};ab.apply(y,arguments);return y}function Da(y,W,ha){y.prototype=W.prototype=ha;ha.constructor=y}function Ka(y,W){y=Object.create(y.prototype);for(var ha in W)y[ha]=W[ha];return y}function lb(){}function mb(){return this.rgb().formatHex()}function Pa(){return this.rgb().formatRgb()}
function xb(y){var W,ha;y=(y+"").trim().toLowerCase();return(W=Sg.exec(y))?(ha=W[1].length,W=parseInt(W[1],16),6===ha?sb(W):3===ha?new pa(W>>8&15|W>>4&240,W>>4&15|W&240,(W&15)<<4|W&15,1):8===ha?Qb(W>>24&255,W>>16&255,W>>8&255,(W&255)/255):4===ha?Qb(W>>12&15|W>>8&240,W>>8&15|W>>4&240,W>>4&15|W&240,((W&15)<<4|W&15)/255):null):(W=fh.exec(y))?new pa(W[1],W[2],W[3],1):(W=lh.exec(y))?new pa(255*W[1]/100,255*W[2]/100,255*W[3]/100,1):(W=yg.exec(y))?Qb(W[1],W[2],W[3],W[4]):(W=vh.exec(y))?Qb(255*W[1]/100,255*
W[2]/100,255*W[3]/100,W[4]):(W=uh.exec(y))?db(W[1],W[2]/100,W[3]/100,1):(W=Kh.exec(y))?db(W[1],W[2]/100,W[3]/100,W[4]):Yg.hasOwnProperty(y)?sb(Yg[y]):"transparent"===y?new pa(NaN,NaN,NaN,0):null}function sb(y){return new pa(y>>16&255,y>>8&255,y&255,1)}function Qb(y,W,ha,Oa){0>=Oa&&(y=W=ha=NaN);return new pa(y,W,ha,Oa)}function Wb(y){y instanceof lb||(y=xb(y));if(!y)return new pa;y=y.rgb();return new pa(y.r,y.g,y.b,y.opacity)}function ob(y,W,ha,Oa){return 1===arguments.length?Wb(y):new pa(y,W,ha,null==
Oa?1:Oa)}function pa(y,W,ha,Oa){this.r=+y;this.g=+W;this.b=+ha;this.opacity=+Oa}function Z(){return"#"+Ga(this.r)+Ga(this.g)+Ga(this.b)}function Fa(){var y=this.opacity;y=isNaN(y)?1:Math.max(0,Math.min(1,y));return(1===y?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===y?")":", "+y+")")}function Ga(y){y=Math.max(0,Math.min(255,Math.round(y)||0));return(16>y?"0":"")+y.toString(16)}
function db(y,W,ha,Oa){0>=Oa?y=W=ha=NaN:0>=ha||1<=ha?y=W=NaN:0>=W&&(y=NaN);return new q(y,W,ha,Oa)}function ba(y){if(y instanceof q)return new q(y.h,y.s,y.l,y.opacity);y instanceof lb||(y=xb(y));if(!y)return new q;if(y instanceof q)return y;y=y.rgb();var W=y.r/255,ha=y.g/255,Oa=y.b/255,zb=Math.min(W,ha,Oa),Eb=Math.max(W,ha,Oa),Sb=NaN,kc=Eb-zb,Vc=(Eb+zb)/2;kc?(Sb=W===Eb?(ha-Oa)/kc+6*(ha<Oa):ha===Eb?(Oa-W)/kc+2:(W-ha)/kc+4,kc/=.5>Vc?Eb+zb:2-Eb-zb,Sb*=60):kc=0<Vc&&1>Vc?0:Sb;return new q(Sb,kc,Vc,y.opacity)}
function na(y,W,ha,Oa){return 1===arguments.length?ba(y):new q(y,W,ha,null==Oa?1:Oa)}function q(y,W,ha,Oa){this.h=+y;this.s=+W;this.l=+ha;this.opacity=+Oa}function M(y,W,ha){return 255*(60>y?W+(ha-W)*y/60:180>y?ha:240>y?W+(ha-W)*(240-y)/60:W)}function Q(y){if(y instanceof u)return new u(y.l,y.a,y.b,y.opacity);if(y instanceof V)return Aa(y);y instanceof pa||(y=Wb(y));var W=A(y.r),ha=A(y.g),Oa=A(y.b),zb=m(.2225045*W+.7168786*ha+.0606169*Oa);if(W===ha&&ha===Oa)var Eb=W=zb;else Eb=m((.4360747*W+.3850649*
ha+.1430804*Oa)/.96422),W=m((.0139322*W+.0971045*ha+.7141733*Oa)/.82521);return new u(116*zb-16,500*(Eb-zb),200*(zb-W),y.opacity)}function g(y,W,ha,Oa){return 1===arguments.length?Q(y):new u(y,W,ha,null==Oa?1:Oa)}function u(y,W,ha,Oa){this.l=+y;this.a=+W;this.b=+ha;this.opacity=+Oa}function m(y){return y>si?Math.pow(y,1/3):y/mh+ri}function C(y){return y>Vg?y*y*y:mh*(y-ri)}function B(y){return 255*(.0031308>=y?12.92*y:1.055*Math.pow(y,1/2.4)-.055)}function A(y){return.04045>=(y/=255)?y/12.92:Math.pow((y+
.055)/1.055,2.4)}function E(y){if(y instanceof V)return new V(y.h,y.c,y.l,y.opacity);y instanceof u||(y=Q(y));if(0===y.a&&0===y.b)return new V(NaN,0<y.l&&100>y.l?0:NaN,y.l,y.opacity);var W=Math.atan2(y.b,y.a)*Dh;return new V(0>W?W+360:W,Math.sqrt(y.a*y.a+y.b*y.b),y.l,y.opacity)}function H(y,W,ha,Oa){return 1===arguments.length?E(y):new V(y,W,ha,null==Oa?1:Oa)}function V(y,W,ha,Oa){this.h=+y;this.c=+W;this.l=+ha;this.opacity=+Oa}function Aa(y){if(isNaN(y.h))return new u(y.l,0,0,y.opacity);var W=y.h*
wh;return new u(y.l,Math.cos(W)*y.c,Math.sin(W)*y.c,y.opacity)}function Y(y,W,ha,Oa){if(1===arguments.length){var zb=y;if(zb instanceof t)zb=new t(zb.h,zb.s,zb.l,zb.opacity);else{zb instanceof pa||(zb=Wb(zb));var Eb=zb.g/255,Sb=zb.b/255,kc=(Gg*Sb+zb.r/255*-1.7884503806-3.5172982438*Eb)/(Gg+-1.7884503806-3.5172982438);Sb-=kc;var Vc=(1.97294*(Eb-kc)- -.29227*Sb)/-.90649;Sb=(Eb=Math.sqrt(Vc*Vc+Sb*Sb)/(1.97294*kc*(1-kc)))?Math.atan2(Vc,Sb)*Dh-120:NaN;zb=new t(0>Sb?Sb+360:Sb,Eb,kc,zb.opacity)}}else zb=
new t(y,W,ha,null==Oa?1:Oa);return zb}function t(y,W,ha,Oa){this.h=+y;this.s=+W;this.l=+ha;this.opacity=+Oa}function L(y,W,ha,Oa,zb){var Eb=y*y,Sb=Eb*y;return((1-3*y+3*Eb-Sb)*W+(4-6*Eb+3*Sb)*ha+(1+3*y+3*Eb-3*Sb)*Oa+Sb*zb)/6}function va(y){var W=y.length-1;return function(ha){var Oa=0>=ha?ha=0:1<=ha?(ha=1,W-1):Math.floor(ha*W),zb=y[Oa],Eb=y[Oa+1];return L((ha-Oa/W)*W,0<Oa?y[Oa-1]:2*zb-Eb,zb,Eb,Oa<W-1?y[Oa+2]:2*Eb-zb)}}function La(y){var W=y.length;return function(ha){var Oa=Math.floor((0>(ha%=1)?++ha:
ha)*W);return L((ha-Oa/W)*W,y[(Oa+W-1)%W],y[Oa%W],y[(Oa+1)%W],y[(Oa+2)%W])}}function Wa(y,W){return function(ha){return y+ha*W}}function $a(y,W,ha){return y=Math.pow(y,ha),W=Math.pow(W,ha)-y,ha=1/ha,function(Oa){return Math.pow(y+Oa*W,ha)}}function X(y,W){var ha=W-y;return ha?Wa(y,180<ha||-180>ha?ha-360*Math.round(ha/360):ha):Eh(isNaN(y)?W:y)}function Ca(y){return 1===(y=+y)?Ya:function(W,ha){return ha-W?$a(W,ha,y):Eh(isNaN(W)?ha:W)}}function Ya(y,W){var ha=W-y;return ha?Wa(y,ha):Eh(isNaN(y)?W:y)}
function Ib(y){return function(W){var ha=W.length,Oa=Array(ha),zb=Array(ha),Eb=Array(ha),Sb;for(Sb=0;Sb<ha;++Sb){var kc=ob(W[Sb]);Oa[Sb]=kc.r||0;zb[Sb]=kc.g||0;Eb[Sb]=kc.b||0}Oa=y(Oa);zb=y(zb);Eb=y(Eb);kc.opacity=1;return function(Vc){kc.r=Oa(Vc);kc.g=zb(Vc);kc.b=Eb(Vc);return kc+""}}}function yc(y,W){W||(W=[]);var ha=y?Math.min(W.length,y.length):0,Oa=W.slice(),zb;return function(Eb){for(zb=0;zb<ha;++zb)Oa[zb]=y[zb]*(1-Eb)+W[zb]*Eb;return Oa}}function sc(y){return ArrayBuffer.isView(y)&&!(y instanceof
DataView)}function xc(y,W){var ha=W?W.length:0,Oa=y?Math.min(ha,y.length):0,zb=Array(Oa),Eb=Array(ha),Sb;for(Sb=0;Sb<Oa;++Sb)zb[Sb]=qb(y[Sb],W[Sb]);for(;Sb<ha;++Sb)Eb[Sb]=W[Sb];return function(kc){for(Sb=0;Sb<Oa;++Sb)Eb[Sb]=zb[Sb](kc);return Eb}}function cd(y,W){var ha=new Date;return y=+y,W=+W,function(Oa){return ha.setTime(y*(1-Oa)+W*Oa),ha}}function Zb(y,W){return y=+y,W=+W,function(ha){return y*(1-ha)+W*ha}}function Rc(y,W){var ha={},Oa={},zb;if(null===y||"object"!==typeof y)y={};if(null===W||
"object"!==typeof W)W={};for(zb in W)zb in y?ha[zb]=qb(y[zb],W[zb]):Oa[zb]=W[zb];return function(Eb){for(zb in ha)Oa[zb]=ha[zb](Eb);return Oa}}function Pd(y){return function(){return y}}function Ma(y){return function(W){return y(W)+""}}function Vb(y,W){var ha=nh.lastIndex=xh.lastIndex=0,Oa,zb,Eb,Sb=-1,kc=[],Vc=[];y+="";for(W+="";(Oa=nh.exec(y))&&(zb=xh.exec(W));)(Eb=zb.index)>ha&&(Eb=W.slice(ha,Eb),kc[Sb]?kc[Sb]+=Eb:kc[++Sb]=Eb),(Oa=Oa[0])===(zb=zb[0])?kc[Sb]?kc[Sb]+=zb:kc[++Sb]=zb:(kc[++Sb]=null,
Vc.push({i:Sb,x:Zb(Oa,zb)})),ha=xh.lastIndex;ha<W.length&&(Eb=W.slice(ha),kc[Sb]?kc[Sb]+=Eb:kc[++Sb]=Eb);return 2>kc.length?Vc[0]?Ma(Vc[0].x):Pd(W):(W=Vc.length,function(Jd){for(var Sd=0,ad;Sd<W;++Sd)kc[(ad=Vc[Sd]).i]=ad.x(Jd);return kc.join("")})}function qb(y,W){var ha=typeof W,Oa;return null==W||"boolean"===ha?Eh(W):("number"===ha?Zb:"string"===ha?(Oa=xb(W))?(W=Oa,Uh):Vb:W instanceof xb?Uh:W instanceof Date?cd:sc(W)?yc:Array.isArray(W)?xc:"function"!==typeof W.valueOf&&"function"!==typeof W.toString||
isNaN(W)?Rc:Zb)(y,W)}function Tb(y,W){return y=+y,W=+W,function(ha){return Math.round(y*(1-ha)+W*ha)}}function gc(y,W,ha,Oa,zb,Eb){var Sb,kc,Vc;if(Sb=Math.sqrt(y*y+W*W))y/=Sb,W/=Sb;if(Vc=y*ha+W*Oa)ha-=y*Vc,Oa-=W*Vc;if(kc=Math.sqrt(ha*ha+Oa*Oa))ha/=kc,Oa/=kc,Vc/=kc;y*Oa<W*ha&&(y=-y,W=-W,Vc=-Vc,Sb=-Sb);return{translateX:zb,translateY:Eb,rotate:Math.atan2(W,y)*Jg,skewX:Math.atan(Vc)*Jg,scaleX:Sb,scaleY:kc}}function cc(y,W,ha,Oa){function zb(Jd){return Jd.length?Jd.pop()+" ":""}function Eb(Jd,Sd,ad,ke,
Be,Te){Jd!==ad||Sd!==ke?(Be=Be.push("translate(",null,W,null,ha),Te.push({i:Be-4,x:Zb(Jd,ad)},{i:Be-2,x:Zb(Sd,ke)})):(ad||ke)&&Be.push("translate("+ad+W+ke+ha)}function Sb(Jd,Sd,ad,ke){Jd!==Sd?(180<Jd-Sd?Sd+=360:180<Sd-Jd&&(Jd+=360),ke.push({i:ad.push(zb(ad)+"rotate(",null,Oa)-2,x:Zb(Jd,Sd)})):Sd&&ad.push(zb(ad)+"rotate("+Sd+Oa)}function kc(Jd,Sd,ad,ke){Jd!==Sd?ke.push({i:ad.push(zb(ad)+"skewX(",null,Oa)-2,x:Zb(Jd,Sd)}):Sd&&ad.push(zb(ad)+"skewX("+Sd+Oa)}function Vc(Jd,Sd,ad,ke,Be,Te){Jd!==ad||Sd!==
ke?(Be=Be.push(zb(Be)+"scale(",null,",",null,")"),Te.push({i:Be-4,x:Zb(Jd,ad)},{i:Be-2,x:Zb(Sd,ke)})):1===ad&&1===ke||Be.push(zb(Be)+"scale("+ad+","+ke+")")}return function(Jd,Sd){var ad=[],ke=[];Jd=y(Jd);Sd=y(Sd);Eb(Jd.translateX,Jd.translateY,Sd.translateX,Sd.translateY,ad,ke);Sb(Jd.rotate,Sd.rotate,ad,ke);kc(Jd.skewX,Sd.skewX,ad,ke);Vc(Jd.scaleX,Jd.scaleY,Sd.scaleX,Sd.scaleY,ad,ke);Jd=Sd=null;return function(Be){for(var Te=-1,w=ke.length,T;++Te<w;)ad[(T=ke[Te]).i]=T.x(Be);return ad.join("")}}}
function Ic(y){return((y=Math.exp(y))+1/y)/2}function zc(y){return function(W,ha){var Oa=y((W=na(W)).h,(ha=na(ha)).h),zb=Ya(W.s,ha.s),Eb=Ya(W.l,ha.l),Sb=Ya(W.opacity,ha.opacity);return function(kc){W.h=Oa(kc);W.s=zb(kc);W.l=Eb(kc);W.opacity=Sb(kc);return W+""}}}function Yc(y){return function(W,ha){var Oa=y((W=H(W)).h,(ha=H(ha)).h),zb=Ya(W.c,ha.c),Eb=Ya(W.l,ha.l),Sb=Ya(W.opacity,ha.opacity);return function(kc){W.h=Oa(kc);W.c=zb(kc);W.l=Eb(kc);W.opacity=Sb(kc);return W+""}}}function Md(y){return function Oa(ha){function zb(Eb,
Sb){var kc=y((Eb=Y(Eb)).h,(Sb=Y(Sb)).h),Vc=Ya(Eb.s,Sb.s),Jd=Ya(Eb.l,Sb.l),Sd=Ya(Eb.opacity,Sb.opacity);return function(ad){Eb.h=kc(ad);Eb.s=Vc(ad);Eb.l=Jd(Math.pow(ad,ha));Eb.opacity=Sd(ad);return Eb+""}}ha=+ha;zb.gamma=Oa;return zb}(1)}function ud(y,W){void 0===W&&(W=y,y=qb);for(var ha=0,Oa=W.length-1,zb=W[0],Eb=Array(0>Oa?0:Oa);ha<Oa;)Eb[ha]=y(zb,zb=W[++ha]);return function(Sb){var kc=Math.max(0,Math.min(Oa-1,Math.floor(Sb*=Oa)));return Eb[kc](Sb-kc)}}function Ha(y){return function(){return y}}
function gb(y){return+y}function wb(y){return y}function sa(y,W){return(W-=y=+y)?function(ha){return(ha-y)/W}:Ha(isNaN(W)?NaN:.5)}function G(y,W){if(y>W){var ha=y;y=W;W=ha}return function(Oa){return Math.max(y,Math.min(W,Oa))}}function ya(y,W,ha){var Oa=y[0];y=y[1];var zb=W[0];W=W[1];y<Oa?(Oa=sa(y,Oa),zb=ha(W,zb)):(Oa=sa(Oa,y),zb=ha(zb,W));return function(Eb){return zb(Oa(Eb))}}function Na(y,W,ha){var Oa=Math.min(y.length,W.length)-1,zb=Array(Oa),Eb=Array(Oa),Sb=-1;y[Oa]<y[0]&&(y=y.slice().reverse(),
W=W.slice().reverse());for(;++Sb<Oa;)zb[Sb]=sa(y[Sb],y[Sb+1]),Eb[Sb]=ha(W[Sb],W[Sb+1]);return function(kc){var Vc=yf(y,kc,1,Oa)-1;return Eb[Vc](zb[Vc](kc))}}function Za(y,W){return W.domain(y.domain()).range(y.range()).interpolate(y.interpolate()).clamp(y.clamp()).unknown(y.unknown())}function kb(){function y(){var ke=Math.min(ha.length,Oa.length);Vc!==wb&&(Vc=G(ha[0],ha[ke-1]));Jd=2<ke?Na:ya;Sd=ad=null;return W}function W(ke){return null==ke||isNaN(ke=+ke)?kc:(Sd||(Sd=Jd(ha.map(Eb),Oa,zb)))(Eb(Vc(ke)))}
var ha=eg,Oa=eg,zb=qb,Eb,Sb,kc,Vc=wb,Jd,Sd,ad;W.invert=function(ke){return Vc(Sb((ad||(ad=Jd(Oa,ha.map(Eb),Zb)))(ke)))};W.domain=function(ke){return arguments.length?(ha=Array.from(ke,gb),y()):ha.slice()};W.range=function(ke){return arguments.length?(Oa=Array.from(ke),y()):Oa.slice()};W.rangeRound=function(ke){return Oa=Array.from(ke),zb=Tb,y()};W.clamp=function(ke){return arguments.length?(Vc=ke?!0:wb,y()):Vc!==wb};W.interpolate=function(ke){return arguments.length?(zb=ke,y()):zb};W.unknown=function(ke){return arguments.length?
(kc=ke,W):kc};return function(ke,Be){Eb=ke;Sb=Be;return y()}}function Fb(y,W){if(0>(W=(y=W?y.toExponential(W-1):y.toExponential()).indexOf("e")))return null;var ha=y.slice(0,W);return[1<ha.length?ha[0]+ha.slice(2):ha,+y.slice(W+1)]}function nc(y){return y=Fb(Math.abs(y)),y?y[1]:NaN}function ec(y,W){return function(ha,Oa){for(var zb=ha.length,Eb=[],Sb=0,kc=y[0],Vc=0;0<zb&&0<kc;){Vc+kc+1>Oa&&(kc=Math.max(1,Oa-Vc));Eb.push(ha.substring(zb-=kc,zb+kc));if((Vc+=kc+1)>Oa)break;kc=y[Sb=(Sb+1)%y.length]}return Eb.reverse().join(W)}}
function ic(y){return function(W){return W.replace(/[0-9]/g,function(ha){return y[+ha]})}}function Tc(y){if(!(W=Yf.exec(y)))throw Error("invalid format: "+y);var W;return new dd({fill:W[1],align:W[2],sign:W[3],symbol:W[4],zero:W[5],width:W[6],comma:W[7],precision:W[8]&&W[8].slice(1),trim:W[9],type:W[10]})}function dd(y){this.fill=void 0===y.fill?" ":y.fill+"";this.align=void 0===y.align?"\x3e":y.align+"";this.sign=void 0===y.sign?"-":y.sign+"";this.symbol=void 0===y.symbol?"":y.symbol+"";this.zero=
!!y.zero;this.width=void 0===y.width?void 0:+y.width;this.comma=!!y.comma;this.precision=void 0===y.precision?void 0:+y.precision;this.trim=!!y.trim;this.type=void 0===y.type?"":y.type+""}function ed(y,W){W=Fb(y,W);if(!W)return y+"";y=W[0];W=W[1];return 0>W?"0."+Array(-W).join("0")+y:y.length>W+1?y.slice(0,W+1)+"."+y.slice(W+1):y+Array(W-y.length+2).join("0")}function Qd(y){return y}function Td(y){function W(Sd){function ad(mc){var rd=Nb,wd=Mc,ze,qe;if("c"===Mb)wd=Ed(mc)+wd,mc="";else{mc=+mc;var Ue=
0>mc||0>1/mc;mc=isNaN(mc)?Jd:Ed(Math.abs(mc),rb);if(yb){var Ef=mc.length,Uf=1,mg=-1;a:for(;Uf<Ef;++Uf)switch(mc[Uf]){case ".":mg=ze=Uf;break;case "0":0===mg&&(mg=Uf);ze=Uf;break;default:if(!+mc[Uf])break a;0<mg&&(mg=0)}mc=0<mg?mc.slice(0,mg)+mc.slice(ze+1):mc}Ue&&0===+mc&&"+"!==Te&&(Ue=!1);rd=(Ue?"("===Te?Te:Vc:"-"===Te||"("===Te?"":Te)+rd;wd=("s"===Mb?p[8+S/3]:"")+wd+(Ue&&"("===Te?")":"");if(fd)for(Ue=-1,ze=mc.length;++Ue<ze;)if(qe=mc.charCodeAt(Ue),48>qe||57<qe){wd=(46===qe?Eb+mc.slice(Ue+1):mc.slice(Ue))+
wd;mc=mc.slice(0,Ue);break}}Ea&&!T&&(mc=ha(mc,Infinity));qe=rd.length+mc.length+wd.length;Ue=qe<aa?Array(aa-qe+1).join(ke):"";Ea&&T&&(mc=ha(Ue+mc,Ue.length?aa-wd.length:Infinity),Ue="");switch(Be){case "\x3c":mc=rd+mc+wd+Ue;break;case "\x3d":mc=rd+Ue+mc+wd;break;case "^":mc=Ue.slice(0,qe=Ue.length>>1)+rd+mc+wd+Ue.slice(qe);break;default:mc=Ue+rd+mc+wd}return Sb(mc)}Sd=Tc(Sd);var ke=Sd.fill,Be=Sd.align,Te=Sd.sign,w=Sd.symbol,T=Sd.zero,aa=Sd.width,Ea=Sd.comma,rb=Sd.precision,yb=Sd.trim,Mb=Sd.type;"n"===
Mb?(Ea=!0,Mb="g"):wa[Mb]||(void 0===rb&&(rb=12),yb=!0,Mb="g");if(T||"0"===ke&&"\x3d"===Be)T=!0,ke="0",Be="\x3d";var Nb="$"===w?Oa:"#"===w&&/[boxX]/.test(Mb)?"0"+Mb.toLowerCase():"",Mc="$"===w?zb:/[%p]/.test(Mb)?kc:"",Ed=wa[Mb],fd=/[defgprs%]/.test(Mb);rb=void 0===rb?6:/[gprs]/.test(Mb)?Math.max(1,Math.min(21,rb)):Math.max(0,Math.min(20,rb));ad.toString=function(){return Sd+""};return ad}var ha=void 0===y.grouping||void 0===y.thousands?Qd:ec(Ra.call(y.grouping,Number),y.thousands+""),Oa=void 0===y.currency?
"":y.currency[0]+"",zb=void 0===y.currency?"":y.currency[1]+"",Eb=void 0===y.decimal?".":y.decimal+"",Sb=void 0===y.numerals?Qd:ic(Ra.call(y.numerals,String)),kc=void 0===y.percent?"%":y.percent+"",Vc=void 0===y.minus?"":y.minus+"",Jd=void 0===y.nan?"NaN":y.nan+"";return{format:W,formatPrefix:function(Sd,ad){var ke=W((Sd=Tc(Sd),Sd.type="f",Sd));Sd=3*Math.max(-8,Math.min(8,Math.floor(nc(ad)/3)));var Be=Math.pow(10,-Sd),Te=p[8+Sd/3];return function(w){return ke(Be*w)+Te}}}}function Fd(y,W,ha,Oa){ha=
Lb(y,W,ha);Oa=Tc(null==Oa?",f":Oa);switch(Oa.type){case "s":y=Math.max(Math.abs(y),Math.abs(W));if(W=null==Oa.precision){var zb=isNaN;ha=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(nc(y)/3)))-nc(Math.abs(ha)));W=!zb(zb=ha)}W&&(Oa.precision=zb);return xa(Oa,y);case "":case "e":case "g":case "p":case "r":var Eb;if(Eb=null==Oa.precision)zb=isNaN,y=Math.max(Math.abs(y),Math.abs(W)),ha=Math.abs(ha),y=Math.abs(y)-ha,ha=Math.max(0,nc(y)-nc(ha))+1,Eb=!zb(zb=ha);Eb&&(Oa.precision=zb-("e"===Oa.type));break;
case "f":case "%":null!=Oa.precision||isNaN(zb=Math.max(0,-nc(Math.abs(ha))))||(Oa.precision=zb-2*("%"===Oa.type))}return ja(Oa)}function Zd(y){var W=y.domain;y.ticks=function(ha){var Oa=W();return ub(Oa[0],Oa[Oa.length-1],null==ha?10:ha)};y.tickFormat=function(ha,Oa){var zb=W();return Fd(zb[0],zb[zb.length-1],null==ha?10:ha,Oa)};y.nice=function(ha){null==ha&&(ha=10);var Oa=W(),zb=0,Eb=Oa.length-1,Sb=Oa[zb],kc=Oa[Eb],Vc=10;if(kc<Sb){var Jd=Sb;Sb=kc;kc=Jd;Jd=zb;zb=Eb;Eb=Jd}for(;0<Vc--;){Jd=Kb(Sb,kc,
ha);if(Jd===Sd)return Oa[zb]=Sb,Oa[Eb]=kc,W(Oa);if(0<Jd)Sb=Math.floor(Sb/Jd)*Jd,kc=Math.ceil(kc/Jd)*Jd;else if(0>Jd)Sb=Math.ceil(Sb*Jd)/Jd,kc=Math.floor(kc*Jd)/Jd;else break;var Sd=Jd}return y};return y}function de(){var y=kb()(wb,wb);y.copy=function(){return Za(y,de())};ab.apply(y,arguments);return Zd(y)}function Ud(y){function W(Oa){return null==Oa||isNaN(Oa=+Oa)?ha:Oa}var ha;W.invert=W;W.domain=W.range=function(Oa){return arguments.length?(y=Array.from(Oa,gb),W):y.slice()};W.unknown=function(Oa){return arguments.length?
(ha=Oa,W):ha};W.copy=function(){return Ud(y).unknown(ha)};y=arguments.length?Array.from(y,gb):[0,1];return Zd(W)}function Ve(y,W){y=y.slice();var ha=0,Oa=y.length-1,zb=y[ha],Eb=y[Oa];if(Eb<zb){var Sb=ha;ha=Oa;Oa=Sb;Sb=zb;zb=Eb;Eb=Sb}y[ha]=W.floor(zb);y[Oa]=W.ceil(Eb);return y}function Xd(y){return Math.log(y)}function N(y){return Math.exp(y)}function la(y){return-Math.log(-y)}function za(y){return-Math.exp(-y)}function fb(y){return isFinite(y)?+("1e"+y):0>y?0:y}function Hb(y){return 10===y?fb:y===
Math.E?Math.exp:W=>Math.pow(y,W)}function Xb(y){return y===Math.E?Math.log:10===y&&Math.log10||2===y&&Math.log2||(y=Math.log(y),W=>Math.log(W)/y)}function Bc(y){return(W,ha)=>-y(-W,ha)}function lc(y){function W(){Eb=Xb(zb);Sb=Hb(zb);0>Oa()[0]?(Eb=Bc(Eb),Sb=Bc(Sb),y(la,za)):y(Xd,N);return ha}const ha=y(Xd,N),Oa=ha.domain;let zb=10,Eb,Sb;ha.base=function(kc){return arguments.length?(zb=+kc,W()):zb};ha.domain=function(kc){return arguments.length?(Oa(kc),W()):Oa()};ha.ticks=kc=>{var Vc=Oa();let Jd=Vc[0];
Vc=Vc[Vc.length-1];const Sd=Vc<Jd;Sd&&([Jd,Vc]=[Vc,Jd]);let ad=Eb(Jd),ke=Eb(Vc),Be;const Te=null==kc?10:+kc;let w=[];if(!(zb%1)&&ke-ad<Te){ad=Math.floor(ad);ke=Math.ceil(ke);if(0<Jd)for(;ad<=ke;++ad)for(kc=1;kc<zb;++kc){if(Be=0>ad?kc/Sb(-ad):kc*Sb(ad),!(Be<Jd)){if(Be>Vc)break;w.push(Be)}}else for(;ad<=ke;++ad)for(kc=zb-1;1<=kc;--kc)if(Be=0<ad?kc/Sb(-ad):kc*Sb(ad),!(Be<Jd)){if(Be>Vc)break;w.push(Be)}2*w.length<Te&&(w=ub(Jd,Vc,Te))}else w=ub(ad,ke,Math.min(ke-ad,Te)).map(Sb);return Sd?w.reverse():w};
ha.tickFormat=(kc,Vc)=>{null==kc&&(kc=10);null==Vc&&(Vc=10===zb?"s":",");"function"!==typeof Vc&&(zb%1||null!=(Vc=Tc(Vc)).precision||(Vc.trim=!0),Vc=ja(Vc));if(Infinity===kc)return Vc;const Jd=Math.max(1,zb*kc/ha.ticks().length);return Sd=>{let ad=Sd/Sb(Math.round(Eb(Sd)));ad*zb<zb-.5&&(ad*=zb);return ad<=Jd?Vc(Sd):""}};ha.nice=()=>Oa(Ve(Oa(),{floor:kc=>Sb(Math.floor(Eb(kc))),ceil:kc=>Sb(Math.ceil(Eb(kc)))}));return ha}function Gc(){const y=lc(kb()).domain([1,10]);y.copy=()=>Za(y,Gc()).base(y.base());
ab.apply(y,arguments);return y}function id(y){return function(W){return Math.sign(W)*Math.log1p(Math.abs(W/y))}}function Nc(y){return function(W){return Math.sign(W)*Math.expm1(Math.abs(W))*y}}function sd(y){var W=1,ha=y(id(W),Nc(W));ha.constant=function(Oa){return arguments.length?y(id(W=+Oa),Nc(W)):W};return Zd(ha)}function Hd(){var y=sd(kb());y.copy=function(){return Za(y,Hd()).constant(y.constant())};return ab.apply(y,arguments)}function Gd(y){return function(W){return 0>W?-Math.pow(-W,y):Math.pow(W,
y)}}function $d(y){return 0>y?-Math.sqrt(-y):Math.sqrt(y)}function Wd(y){return 0>y?-y*y:y*y}function ae(y){var W=y(wb,wb),ha=1;W.exponent=function(Oa){return arguments.length?(ha=+Oa,1===ha?y(wb,wb):.5===ha?y($d,Wd):y(Gd(ha),Gd(1/ha))):ha};return Zd(W)}function Ce(){var y=ae(kb());y.copy=function(){return Za(y,Ce()).exponent(y.exponent())};ab.apply(y,arguments);return y}function kf(){function y(){var Sb=0,kc=Math.max(1,Oa.length);for(zb=Array(kc-1);++Sb<kc;)zb[Sb-1]=Cb(ha,Sb/kc);return W}function W(Sb){return null==
Sb||isNaN(Sb=+Sb)?Eb:Oa[yf(zb,Sb)]}var ha=[],Oa=[],zb=[],Eb;W.invertExtent=function(Sb){Sb=Oa.indexOf(Sb);return 0>Sb?[NaN,NaN]:[0<Sb?zb[Sb-1]:ha[0],Sb<zb.length?zb[Sb]:ha[ha.length-1]]};W.domain=function(Sb){if(!arguments.length)return ha.slice();ha=[];for(let kc of Sb)null==kc||isNaN(kc=+kc)||ha.push(kc);ha.sort(vc);return y()};W.range=function(Sb){return arguments.length?(Oa=Array.from(Sb),y()):Oa.slice()};W.unknown=function(Sb){return arguments.length?(Eb=Sb,W):Eb};W.quantiles=function(){return zb.slice()};
W.copy=function(){return kf().domain(ha).range(Oa).unknown(Eb)};return ab.apply(W,arguments)}function hf(){function y(Vc){return null!=Vc&&Vc<=Vc?Sb[yf(Eb,Vc,0,zb)]:kc}function W(){var Vc=-1;for(Eb=Array(zb);++Vc<zb;)Eb[Vc]=((Vc+1)*Oa-(Vc-zb)*ha)/(zb+1);return y}var ha=0,Oa=1,zb=1,Eb=[.5],Sb=[0,1],kc;y.domain=function(Vc){return arguments.length?([ha,Oa]=Vc,ha=+ha,Oa=+Oa,W()):[ha,Oa]};y.range=function(Vc){return arguments.length?(zb=(Sb=Array.from(Vc)).length-1,W()):Sb.slice()};y.invertExtent=function(Vc){Vc=
Sb.indexOf(Vc);return 0>Vc?[NaN,NaN]:1>Vc?[ha,Eb[0]]:Vc>=zb?[Eb[zb-1],Oa]:[Eb[Vc-1],Eb[Vc]]};y.unknown=function(Vc){return arguments.length?(kc=Vc,y):y};y.thresholds=function(){return Eb.slice()};y.copy=function(){return hf().domain([ha,Oa]).range(Sb).unknown(kc)};return ab.apply(Zd(y),arguments)}function df(){function y(Eb){return null!=Eb&&Eb<=Eb?ha[yf(W,Eb,0,zb)]:Oa}var W=[.5],ha=[0,1],Oa,zb=1;y.domain=function(Eb){return arguments.length?(W=Array.from(Eb),zb=Math.min(W.length,ha.length-1),y):
W.slice()};y.range=function(Eb){return arguments.length?(ha=Array.from(Eb),zb=Math.min(W.length,ha.length-1),y):ha.slice()};y.invertExtent=function(Eb){Eb=ha.indexOf(Eb);return[W[Eb-1],W[Eb]]};y.unknown=function(Eb){return arguments.length?(Oa=Eb,y):Oa};y.copy=function(){return df().domain(W).range(ha).unknown(Oa)};return ab.apply(y,arguments)}function re(y,W,ha,Oa){function zb(Eb){return y(Eb=0===arguments.length?new Date:new Date(+Eb)),Eb}zb.floor=function(Eb){return y(Eb=new Date(+Eb)),Eb};zb.ceil=
function(Eb){return y(Eb=new Date(Eb-1)),W(Eb,1),y(Eb),Eb};zb.round=function(Eb){var Sb=zb(Eb),kc=zb.ceil(Eb);return Eb-Sb<kc-Eb?Sb:kc};zb.offset=function(Eb,Sb){return W(Eb=new Date(+Eb),null==Sb?1:Math.floor(Sb)),Eb};zb.range=function(Eb,Sb,kc){var Vc=[],Jd;Eb=zb.ceil(Eb);kc=null==kc?1:Math.floor(kc);if(!(Eb<Sb&&0<kc))return Vc;do Vc.push(Jd=new Date(+Eb)),W(Eb,kc),y(Eb);while(Jd<Eb&&Eb<Sb);return Vc};zb.filter=function(Eb){return re(function(Sb){if(Sb>=Sb)for(;y(Sb),!Eb(Sb);)Sb.setTime(Sb-1)},
function(Sb,kc){if(Sb>=Sb)if(0>kc)for(;0>=++kc;)for(;W(Sb,-1),!Eb(Sb););else for(;0<=--kc;)for(;W(Sb,1),!Eb(Sb););})};ha&&(zb.count=function(Eb,Sb){r.setTime(+Eb);F.setTime(+Sb);y(r);y(F);return Math.floor(ha(r,F))},zb.every=function(Eb){Eb=Math.floor(Eb);return isFinite(Eb)&&0<Eb?1<Eb?zb.filter(Oa?function(Sb){return 0===Oa(Sb)%Eb}:function(Sb){return 0===zb.count(0,Sb)%Eb}):zb:null});return zb}function tf(y){return re(function(W){W.setDate(W.getDate()-(W.getDay()+7-y)%7);W.setHours(0,0,0,0)},function(W,
ha){W.setDate(W.getDate()+7*ha)},function(W,ha){return(ha-W-6E4*(ha.getTimezoneOffset()-W.getTimezoneOffset()))/6048E5})}function U(y){return re(function(W){W.setUTCDate(W.getUTCDate()-(W.getUTCDay()+7-y)%7);W.setUTCHours(0,0,0,0)},function(W,ha){W.setUTCDate(W.getUTCDate()+7*ha)},function(W,ha){return(ha-W)/6048E5})}function ua(y,W,ha,Oa,zb,Eb){function Sb(Vc,Jd,Sd){const ad=Math.abs(Jd-Vc)/Sd,ke=Ac(([,,w])=>w).right(kc,ad);if(ke===kc.length)return y.every(Lb(Vc/31536E6,Jd/31536E6,Sd));if(0===ke)return l.every(Math.max(Lb(Vc,
Jd,Sd),1));const [Be,Te]=kc[ad/kc[ke-1][2]<kc[ke][2]/ad?ke-1:ke];return Be.every(Te)}const kc=[[z,1,1E3],[z,5,5E3],[z,15,15E3],[z,30,3E4],[Eb,1,6E4],[Eb,5,3E5],[Eb,15,9E5],[Eb,30,18E5],[zb,1,36E5],[zb,3,108E5],[zb,6,216E5],[zb,12,432E5],[Oa,1,864E5],[Oa,2,1728E5],[ha,1,6048E5],[W,1,2592E6],[W,3,7776E6],[y,1,31536E6]];return[function(Vc,Jd,Sd){const ad=Jd<Vc;ad&&([Vc,Jd]=[Jd,Vc]);Vc=(Sd=Sd&&"function"===typeof Sd.range?Sd:Sb(Vc,Jd,Sd))?Sd.range(Vc,+Jd+1):[];return ad?Vc.reverse():Vc},Sb]}function cb(y){if(0<=
y.y&&100>y.y){var W=new Date(-1,y.m,y.d,y.H,y.M,y.S,y.L);W.setFullYear(y.y);return W}return new Date(y.y,y.m,y.d,y.H,y.M,y.S,y.L)}function Ab(y){if(0<=y.y&&100>y.y){var W=new Date(Date.UTC(-1,y.m,y.d,y.H,y.M,y.S,y.L));W.setUTCFullYear(y.y);return W}return new Date(Date.UTC(y.y,y.m,y.d,y.H,y.M,y.S,y.L))}function fc(y,W,ha){return{y,m:W,d:ha,H:0,M:0,S:0,L:0}}function Cc(y){function W(fd,mc){return function(rd){var wd=[],ze=-1,qe=0,Ue=fd.length,Ef,Uf;for(rd instanceof Date||(rd=new Date(+rd));++ze<Ue;)if(37===
fd.charCodeAt(ze)){wd.push(fd.slice(qe,ze));null!=(qe=of[Ef=fd.charAt(++ze)])?Ef=fd.charAt(++ze):qe="e"===Ef?" ":"0";if(Uf=mc[Ef])Ef=Uf(rd,qe);wd.push(Ef);qe=ze+1}wd.push(fd.slice(qe,ze));return wd.join("")}}function ha(fd,mc){return function(rd){var wd=fc(1900,void 0,1);if(Oa(wd,fd,rd+="",0)!=rd.length)return null;if("Q"in wd)return new Date(wd.Q);if("s"in wd)return new Date(1E3*wd.s+("L"in wd?wd.L:0));!mc||"Z"in wd||(wd.Z=0);"p"in wd&&(wd.H=wd.H%12+12*wd.p);void 0===wd.m&&(wd.m="q"in wd?wd.q:0);
if("V"in wd){if(1>wd.V||53<wd.V)return null;"w"in wd||(wd.w=1);if("Z"in wd){rd=Ab(fc(wd.y,0,1));var ze=rd.getUTCDay();rd=4<ze||0===ze?Xe.ceil(rd):Xe(rd);rd=xe.offset(rd,7*(wd.V-1));wd.y=rd.getUTCFullYear();wd.m=rd.getUTCMonth();wd.d=rd.getUTCDate()+(wd.w+6)%7}else rd=cb(fc(wd.y,0,1)),ze=rd.getDay(),rd=4<ze||0===ze?Jb.ceil(rd):Jb(rd),rd=Va.offset(rd,7*(wd.V-1)),wd.y=rd.getFullYear(),wd.m=rd.getMonth(),wd.d=rd.getDate()+(wd.w+6)%7}else if("W"in wd||"U"in wd)"w"in wd||(wd.w="u"in wd?wd.u%7:"W"in wd?
1:0),ze="Z"in wd?Ab(fc(wd.y,0,1)).getUTCDay():cb(fc(wd.y,0,1)).getDay(),wd.m=0,wd.d="W"in wd?(wd.w+6)%7+7*wd.W-(ze+5)%7:wd.w+7*wd.U-(ze+6)%7;return"Z"in wd?(wd.H+=wd.Z/100|0,wd.M+=wd.Z%100,Ab(wd)):cb(wd)}}function Oa(fd,mc,rd,wd){for(var ze=0,qe=mc.length,Ue=rd.length,Ef;ze<qe;){if(wd>=Ue)return-1;Ef=mc.charCodeAt(ze++);if(37===Ef){if(Ef=mc.charAt(ze++),Ef=Ed[Ef in of?mc.charAt(ze++):Ef],!Ef||0>(wd=Ef(fd,rd,wd)))return-1}else if(Ef!=rd.charCodeAt(wd++))return-1}return wd}var zb=y.dateTime,Eb=y.date,
Sb=y.time,kc=y.periods,Vc=y.days,Jd=y.shortDays,Sd=y.months,ad=y.shortMonths,ke=fa(kc),Be=Ta(kc),Te=fa(Vc),w=Ta(Vc),T=fa(Jd),aa=Ta(Jd),Ea=fa(Sd),rb=Ta(Sd),yb=fa(ad),Mb=Ta(ad),Nb={a:function(fd){return Jd[fd.getDay()]},A:function(fd){return Vc[fd.getDay()]},b:function(fd){return ad[fd.getMonth()]},B:function(fd){return Sd[fd.getMonth()]},c:null,d:Ye,e:Ye,f:Fc,g:jb,G:pc,H:ef,I:od,j:Ec,L:kd,m:Id,M:Vd,p:function(fd){return kc[+(12<=fd.getHours())]},q:function(fd){return 1+~~(fd.getMonth()/3)},Q:jf,s:ag,
S:ce,u:le,U:O,V:I,w:ka,W:ta,x:null,X:null,y:Ja,Y:vb,Z:qc,"%":If},Mc={a:function(fd){return Jd[fd.getUTCDay()]},A:function(fd){return Vc[fd.getUTCDay()]},b:function(fd){return ad[fd.getUTCMonth()]},B:function(fd){return Sd[fd.getUTCMonth()]},c:null,d:rc,e:rc,f:zd,g:vf,G:ne,H:Kc,I:Bd,j:Hc,L:$c,m:Dd,M:Kd,p:function(fd){return kc[+(12<=fd.getUTCHours())]},q:function(fd){return 1+~~(fd.getUTCMonth()/3)},Q:jf,s:ag,S:Ge,u:De,U:yd,V:Ld,w:he,W:He,x:null,X:null,y:lf,Y:Ke,Z:Df,"%":If},Ed={a:function(fd,mc,rd){return(mc=
T.exec(mc.slice(rd)))?(fd.w=aa.get(mc[0].toLowerCase()),rd+mc[0].length):-1},A:function(fd,mc,rd){return(mc=Te.exec(mc.slice(rd)))?(fd.w=w.get(mc[0].toLowerCase()),rd+mc[0].length):-1},b:function(fd,mc,rd){return(mc=yb.exec(mc.slice(rd)))?(fd.m=Mb.get(mc[0].toLowerCase()),rd+mc[0].length):-1},B:function(fd,mc,rd){return(mc=Ea.exec(mc.slice(rd)))?(fd.m=rb.get(mc[0].toLowerCase()),rd+mc[0].length):-1},c:function(fd,mc,rd){return Oa(fd,zb,mc,rd)},d:Lc,e:Lc,f:Cd,g:Sa,G:ee,H:Qc,I:Qc,j:Uc,L:Od,m:xd,M:td,
p:function(fd,mc,rd){return(mc=ke.exec(mc.slice(rd)))?(fd.p=Be.get(mc[0].toLowerCase()),rd+mc[0].length):-1},q:oc,Q:ye,s:Le,S:jd,u:Pc,U:Dc,V:Sc,w:bc,W:gd,x:function(fd,mc,rd){return Oa(fd,Eb,mc,rd)},X:function(fd,mc,rd){return Oa(fd,Sb,mc,rd)},y:Sa,Y:ee,Z:eb,"%":be};Nb.x=W(Eb,Nb);Nb.X=W(Sb,Nb);Nb.c=W(zb,Nb);Mc.x=W(Eb,Mc);Mc.X=W(Sb,Mc);Mc.c=W(zb,Mc);return{format:function(fd){var mc=W(fd+="",Nb);mc.toString=function(){return fd};return mc},parse:function(fd){var mc=ha(fd+="",!1);mc.toString=function(){return fd};
return mc},utcFormat:function(fd){var mc=W(fd+="",Mc);mc.toString=function(){return fd};return mc},utcParse:function(fd){var mc=ha(fd+="",!0);mc.toString=function(){return fd};return mc}}}function $b(y,W,ha){var Oa=0>y?"-":"";y=(Oa?-y:y)+"";var zb=y.length;return Oa+(zb<ha?Array(ha-zb+1).join(W)+y:y)}function J(y){return y.replace(Mf,"\\$\x26")}function fa(y){return new RegExp("^(?:"+y.map(J).join("|")+")","i")}function Ta(y){return new Map(y.map((W,ha)=>[W.toLowerCase(),ha]))}function bc(y,W,ha){return(W=
Qf.exec(W.slice(ha,ha+1)))?(y.w=+W[0],ha+W[0].length):-1}function Pc(y,W,ha){return(W=Qf.exec(W.slice(ha,ha+1)))?(y.u=+W[0],ha+W[0].length):-1}function Dc(y,W,ha){return(W=Qf.exec(W.slice(ha,ha+2)))?(y.U=+W[0],ha+W[0].length):-1}function Sc(y,W,ha){return(W=Qf.exec(W.slice(ha,ha+2)))?(y.V=+W[0],ha+W[0].length):-1}function gd(y,W,ha){return(W=Qf.exec(W.slice(ha,ha+2)))?(y.W=+W[0],ha+W[0].length):-1}function ee(y,W,ha){return(W=Qf.exec(W.slice(ha,ha+4)))?(y.y=+W[0],ha+W[0].length):-1}function Sa(y,
W,ha){return(W=Qf.exec(W.slice(ha,ha+2)))?(y.y=+W[0]+(68<+W[0]?1900:2E3),ha+W[0].length):-1}function eb(y,W,ha){return(W=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(W.slice(ha,ha+6)))?(y.Z=W[1]?0:-(W[2]+(W[3]||"00")),ha+W[0].length):-1}function oc(y,W,ha){return(W=Qf.exec(W.slice(ha,ha+1)))?(y.q=3*W[0]-3,ha+W[0].length):-1}function xd(y,W,ha){return(W=Qf.exec(W.slice(ha,ha+2)))?(y.m=W[0]-1,ha+W[0].length):-1}function Lc(y,W,ha){return(W=Qf.exec(W.slice(ha,ha+2)))?(y.d=+W[0],ha+W[0].length):-1}function Uc(y,
W,ha){return(W=Qf.exec(W.slice(ha,ha+3)))?(y.m=0,y.d=+W[0],ha+W[0].length):-1}function Qc(y,W,ha){return(W=Qf.exec(W.slice(ha,ha+2)))?(y.H=+W[0],ha+W[0].length):-1}function td(y,W,ha){return(W=Qf.exec(W.slice(ha,ha+2)))?(y.M=+W[0],ha+W[0].length):-1}function jd(y,W,ha){return(W=Qf.exec(W.slice(ha,ha+2)))?(y.S=+W[0],ha+W[0].length):-1}function Od(y,W,ha){return(W=Qf.exec(W.slice(ha,ha+3)))?(y.L=+W[0],ha+W[0].length):-1}function Cd(y,W,ha){return(W=Qf.exec(W.slice(ha,ha+6)))?(y.L=Math.floor(W[0]/1E3),
ha+W[0].length):-1}function be(y,W,ha){return(y=Rf.exec(W.slice(ha,ha+1)))?ha+y[0].length:-1}function ye(y,W,ha){return(W=Qf.exec(W.slice(ha)))?(y.Q=+W[0],ha+W[0].length):-1}function Le(y,W,ha){return(W=Qf.exec(W.slice(ha)))?(y.s=+W[0],ha+W[0].length):-1}function Ye(y,W){return $b(y.getDate(),W,2)}function ef(y,W){return $b(y.getHours(),W,2)}function od(y,W){return $b(y.getHours()%12||12,W,2)}function Ec(y,W){return $b(1+Va.count(Zc(y),y),W,3)}function kd(y,W){return $b(y.getMilliseconds(),W,3)}function Fc(y,
W){return kd(y,W)+"000"}function Id(y,W){return $b(y.getMonth()+1,W,2)}function Vd(y,W){return $b(y.getMinutes(),W,2)}function ce(y,W){return $b(y.getSeconds(),W,2)}function le(y){y=y.getDay();return 0===y?7:y}function O(y,W){return $b(Xa.count(Zc(y)-1,y),W,2)}function ea(y){var W=y.getDay();return 4<=W||0===W?hc(y):hc.ceil(y)}function I(y,W){y=ea(y);return $b(hc.count(Zc(y),y)+(4===Zc(y).getDay()),W,2)}function ka(y){return y.getDay()}function ta(y,W){return $b(Jb.count(Zc(y)-1,y),W,2)}function Ja(y,
W){return $b(y.getFullYear()%100,W,2)}function jb(y,W){y=ea(y);return $b(y.getFullYear()%100,W,2)}function vb(y,W){return $b(y.getFullYear()%1E4,W,4)}function pc(y,W){var ha=y.getDay();y=4<=ha||0===ha?hc(y):hc.ceil(y);return $b(y.getFullYear()%1E4,W,4)}function qc(y){y=y.getTimezoneOffset();return(0<y?"-":(y*=-1,"+"))+$b(y/60|0,"0",2)+$b(y%60,"0",2)}function rc(y,W){return $b(y.getUTCDate(),W,2)}function Kc(y,W){return $b(y.getUTCHours(),W,2)}function Bd(y,W){return $b(y.getUTCHours()%12||12,W,2)}
function Hc(y,W){return $b(1+xe.count(Qe(y),y),W,3)}function $c(y,W){return $b(y.getUTCMilliseconds(),W,3)}function zd(y,W){return $c(y,W)+"000"}function Dd(y,W){return $b(y.getUTCMonth()+1,W,2)}function Kd(y,W){return $b(y.getUTCMinutes(),W,2)}function Ge(y,W){return $b(y.getUTCSeconds(),W,2)}function De(y){y=y.getUTCDay();return 0===y?7:y}function yd(y,W){return $b(ve.count(Qe(y)-1,y),W,2)}function Ae(y){var W=y.getUTCDay();return 4<=W||0===W?wf(y):wf.ceil(y)}function Ld(y,W){y=Ae(y);return $b(wf.count(Qe(y),
y)+(4===Qe(y).getUTCDay()),W,2)}function he(y){return y.getUTCDay()}function He(y,W){return $b(Xe.count(Qe(y)-1,y),W,2)}function lf(y,W){return $b(y.getUTCFullYear()%100,W,2)}function vf(y,W){y=Ae(y);return $b(y.getUTCFullYear()%100,W,2)}function Ke(y,W){return $b(y.getUTCFullYear()%1E4,W,4)}function ne(y,W){var ha=y.getUTCDay();y=4<=ha||0===ha?wf(y):wf.ceil(y);return $b(y.getUTCFullYear()%1E4,W,4)}function Df(){return"+0000"}function If(){return"%"}function jf(y){return+y}function ag(y){return Math.floor(+y/
1E3)}function Yd(y){return new Date(y)}function ff(y){return y instanceof Date?+y:+new Date(+y)}function mf(y,W,ha,Oa,zb,Eb,Sb,kc,Vc,Jd){function Sd(Nb){return(Vc(Nb)<Nb?Te:kc(Nb)<Nb?w:Sb(Nb)<Nb?T:Eb(Nb)<Nb?aa:Oa(Nb)<Nb?zb(Nb)<Nb?Ea:rb:ha(Nb)<Nb?yb:Mb)(Nb)}var ad=kb()(wb,wb),ke=ad.invert,Be=ad.domain,Te=Jd(".%L"),w=Jd(":%S"),T=Jd("%I:%M"),aa=Jd("%I %p"),Ea=Jd("%a %d"),rb=Jd("%b %d"),yb=Jd("%B"),Mb=Jd("%Y");ad.invert=function(Nb){return new Date(ke(Nb))};ad.domain=function(Nb){return arguments.length?
Be(Array.from(Nb,ff)):Be().map(Yd)};ad.ticks=function(Nb){var Mc=Be();return y(Mc[0],Mc[Mc.length-1],null==Nb?10:Nb)};ad.tickFormat=function(Nb,Mc){return null==Mc?Sd:Jd(Mc)};ad.nice=function(Nb){var Mc=Be();Nb&&"function"===typeof Nb.range||(Nb=W(Mc[0],Mc[Mc.length-1],null==Nb?10:Nb));return Nb?Be(Ve(Mc,Nb)):ad};ad.copy=function(){return Za(ad,mf(y,W,ha,Oa,zb,Eb,Sb,kc,Vc,Jd))};return ad}function af(){function y(ad){return null==ad||isNaN(ad=+ad)?Sd:Vc(0===Sb?.5:(ad=(kc(ad)-zb)*Sb,Jd?Math.max(0,Math.min(1,
ad)):ad))}function W(ad){return function(ke){var Be,Te;return arguments.length?([Be,Te]=ke,Vc=ad(Be,Te),y):[Vc(0),Vc(1)]}}var ha=0,Oa=1,zb,Eb,Sb,kc,Vc=wb,Jd=!1,Sd;y.domain=function(ad){return arguments.length?([ha,Oa]=ad,zb=kc(ha=+ha),Eb=kc(Oa=+Oa),Sb=zb===Eb?0:1/(Eb-zb),y):[ha,Oa]};y.clamp=function(ad){return arguments.length?(Jd=!!ad,y):Jd};y.interpolator=function(ad){return arguments.length?(Vc=ad,y):Vc};y.range=W(qb);y.rangeRound=W(Tb);y.unknown=function(ad){return arguments.length?(Sd=ad,y):
Sd};return function(ad){kc=ad;zb=ad(ha);Eb=ad(Oa);Sb=zb===Eb?0:1/(Eb-zb);return y}}function Hf(y,W){return W.domain(y.domain()).interpolator(y.interpolator()).clamp(y.clamp()).unknown(y.unknown())}function Jf(){var y=Zd(af()(wb));y.copy=function(){return Hf(y,Jf())};return pb.apply(y,arguments)}function zf(){var y=lc(af()).domain([1,10]);y.copy=function(){return Hf(y,zf()).base(y.base())};return pb.apply(y,arguments)}function Af(){var y=sd(af());y.copy=function(){return Hf(y,Af()).constant(y.constant())};
return pb.apply(y,arguments)}function Eg(){var y=ae(af());y.copy=function(){return Hf(y,Eg()).exponent(y.exponent())};return pb.apply(y,arguments)}function hg(){function y(w){return isNaN(w=+w)?Te:(w=.5+((w=+ke(w))-kc)*(Eb*w<Eb*kc?Jd:Sd),ad(Be?Math.max(0,Math.min(1,w)):w))}function W(w){return function(T){var aa,Ea,rb;return arguments.length?([aa,Ea,rb]=T,ad=ud(w,[aa,Ea,rb]),y):[ad(0),ad(.5),ad(1)]}}var ha=0,Oa=.5,zb=1,Eb=1,Sb,kc,Vc,Jd,Sd,ad=wb,ke,Be=!1,Te;y.domain=function(w){return arguments.length?
([ha,Oa,zb]=w,Sb=ke(ha=+ha),kc=ke(Oa=+Oa),Vc=ke(zb=+zb),Jd=Sb===kc?0:.5/(kc-Sb),Sd=kc===Vc?0:.5/(Vc-kc),Eb=kc<Sb?-1:1,y):[ha,Oa,zb]};y.clamp=function(w){return arguments.length?(Be=!!w,y):Be};y.interpolator=function(w){return arguments.length?(ad=w,y):ad};y.range=W(qb);y.rangeRound=W(Tb);y.unknown=function(w){return arguments.length?(Te=w,y):Te};return function(w){ke=w;Sb=w(ha);kc=w(Oa);Vc=w(zb);Jd=Sb===kc?0:.5/(kc-Sb);Sd=kc===Vc?0:.5/(Vc-kc);Eb=kc<Sb?-1:1;return y}}function xf(){var y=Zd(hg()(wb));
y.copy=function(){return Hf(y,xf())};return pb.apply(y,arguments)}function Kf(){var y=lc(hg()).domain([.1,1,10]);y.copy=function(){return Hf(y,Kf()).base(y.base())};return pb.apply(y,arguments)}function dg(){var y=sd(hg());y.copy=function(){return Hf(y,dg()).constant(y.constant())};return pb.apply(y,arguments)}function ch(){var y=ae(hg());y.copy=function(){return Hf(y,ch()).exponent(y.exponent())};return pb.apply(y,arguments)}function Ig(){function y(){var ad=ha().length;const ke=zb[1]<zb[0],Be=zb[1-
ke],Te=ib(ad,Vc,Jd);let w=zb[ke-0];Eb=(Be-w)/(Te||1);kc&&(Eb=Math.floor(Eb));w+=(Be-w-Eb*(ad-Vc))*Sd;Sb=Eb*(1-Vc);kc&&(w=Math.round(w),Sb=Math.round(Sb));ad=Pb(ad).map(T=>w+Eb*T);return Oa(ke?ad.reverse():ad)}const W=Qa().unknown(void 0),ha=W.domain,Oa=W.range;let zb=[0,1],Eb,Sb,kc=!1,Vc=0,Jd=0,Sd=.5;delete W.unknown;W.domain=function(ad){return arguments.length?(ha(ad),y()):ha()};W.range=function(ad){return arguments.length?(zb=[+ad[0],+ad[1]],y()):zb.slice()};W.rangeRound=function(ad){zb=[+ad[0],
+ad[1]];kc=!0;return y()};W.bandwidth=function(){return Sb};W.step=function(){return Eb};W.round=function(ad){return arguments.length?(kc=!!ad,y()):kc};W.padding=function(ad){return arguments.length?(Vc=Jd=Math.max(0,Math.min(1,ad)),y()):Vc};W.paddingInner=function(ad){return arguments.length?(Vc=Math.max(0,Math.min(1,ad)),y()):Vc};W.paddingOuter=function(ad){return arguments.length?(Jd=Math.max(0,Math.min(1,ad)),y()):Jd};W.align=function(ad){return arguments.length?(Sd=Math.max(0,Math.min(1,ad)),
y()):Sd};W.invertRange=function(ad){if(null!=ad[0]&&null!=ad[1]){var ke=zb[1]<zb[0],Be=ke?Oa().reverse():Oa(),Te=Be.length-1,w=+ad[0],T=+ad[1];if(w===w&&T===T){if(T<w){var aa=w;w=T;T=aa}if(!(T<Be[0]||w>zb[1-ke]))return ad=Math.max(0,Lf(Be,w)-1),T=w===T?ad:Lf(Be,T)-1,w-Be[ad]>Sb+1E-10&&++ad,ke&&(aa=ad,ad=Te-T,T=Te-aa),ad>T?void 0:ha().slice(ad,T+1)}}};W.invert=function(ad){return(ad=W.invertRange([ad,ad]))?ad[0]:ad};W.copy=function(){return Ig().domain(ha()).range(zb).round(kc).paddingInner(Vc).paddingOuter(Jd).align(Sd)};
return y()}function Mg(y){const W=y.copy;y.padding=y.paddingOuter;delete y.paddingInner;y.copy=function(){return Mg(W())};return y}function Ug(){function y(Oa){return null==Oa||Oa!==Oa?void 0:ha[(yf(W,Oa)-1)%ha.length]}let W=[],ha=[];y.domain=function(Oa){return arguments.length?(W=ng.call(Oa,k.toNumber),y):W.slice()};y.range=function(Oa){return arguments.length?(ha=Ng.call(Oa),y):ha.slice()};y.tickFormat=function(Oa,zb){return Fd(W[0],k.peek(W),null==Oa?10:Oa,zb)};y.copy=function(){return Ug().domain(y.domain()).range(y.range())};
return y}function qa(y,W,ha){const Oa=function(){const zb=W();zb.invertRange||(zb.invertRange=zb.invert?Gb(zb):zb.invertExtent?ac(zb):void 0);zb.type=y;return zb};Oa.metadata=k.toSet(k.array(ha));return Oa}function bb(y,W,ha){return 1<arguments.length?(vg[y]=qa(y,W,ha),this):Rb(y)?vg[y]:void 0}function Rb(y){return k.hasOwnProperty(vg,y)}function hd(y,W){return(y=vg[y])&&y.metadata[W]}function ld(y){return hd(y,"discrete")}function pe(y){return hd(y,"discretizing")}function Pe(y){return hd(y,"log")}
function qf(y){return hd(y,"temporal")}function Gf(y,W,ha){return ud(Ne(W||"rgb",ha),y)}function Ne(y,W){y=Mh[bg(y)];return null!=W&&y&&y.gamma?y.gamma(W):y}function bg(y){return"interpolate"+y.toLowerCase().split("-").map(W=>W[0].toUpperCase()+W.slice(1)).join("")}function Pf(y){const W=y.length/6|0,ha=Array(W);for(let Oa=0;Oa<W;)ha[Oa]="#"+y.slice(6*Oa,6*++Oa);return ha}function Vf(y,W){for(const ha in y)sg(ha,W(y[ha]))}function sg(y,W){y=y&&y.toLowerCase();return 1<arguments.length?(qi[y]=W,this):
qi[y]}function tg(y,W,ha){var Oa=y.range();let zb=Oa[0],Eb=k.peek(Oa);Oa=Pi;zb>Eb&&(Oa=Eb,Eb=zb,zb=Oa,Oa=Ni);zb=Math.floor(zb);Eb=Math.ceil(Eb);W=W.map(Sb=>[Sb,y(Sb)]).filter(Sb=>zb<=Sb[1]&&Sb[1]<=Eb).sort(Oa).map(Sb=>Sb[0]);if(0<ha&&1<W.length){for(Oa=[W[0],k.peek(W)];W.length>ha&&3<=W.length;)W=W.filter((Sb,kc)=>!(kc%2));3>W.length&&(W=Oa)}return W}function Rg(y,W){return y.bins?tg(y,y.bins):y.ticks?y.ticks(W):y.domain()}function dh(y,W,ha,Oa,zb,Eb){const Sb=W.type;let kc=hi;if("time"===Sb||"time"===
zb)kc=y.timeFormat(Oa);else if("utc"===Sb||"utc"===zb)kc=y.utcFormat(Oa);else if(Pe(Sb)){const Vc=y.formatFloat(Oa);if(Eb||W.bins)kc=Vc;else{const Jd=jh(W,ha,!1);kc=Sd=>Jd(Sd)?Vc(Sd):""}}else W.tickFormat?(W=W.domain(),kc=y.formatSpan(W[0],W[W.length-1],ha,Oa)):Oa&&(kc=y.format(Oa));return kc}function jh(y,W,ha){const Oa=Rg(y,W),zb=y.base(),Eb=Math.log(zb),Sb=Math.max(1,zb*W/Oa.length);y=kc=>{kc/=Math.pow(zb,Math.round(Math.log(kc)/Eb));kc*zb<zb-.5&&(kc*=zb);return kc<=Sb};return ha?Oa.filter(y):
y}function Ee(y,W){y.bins?(y=y.bins,W=y.slice(0,-1),W.max=k.peek(y),y=W):"log"===y.type?y=jh(y,W,!0):Dg[y.type]?(y=y[Dg[y.type]](),y=[-Infinity].concat(y),y.max=Infinity):y=Rg(y,W);return y}function Je(y,W,ha,Oa,zb,Eb,Sb){if(Ti[W.type]&&"time"!==Eb&&"utc"!==Eb){ha=W[Ti[W.type]]();Eb=ha.length;Sb=1<Eb?ha[1]-ha[0]:ha[0];let kc;for(kc=1;kc<Eb;++kc)Sb=Math.min(Sb,ha[kc]-ha[kc-1]);y=y.formatSpan(0,Sb,30,zb)}else y=dh(y,W,ha,zb,Eb,Sb);return"symbol"===Oa&&(Dg[W.type]||W.bins)?rj(y):"discrete"===Oa?ki(y):
ui(y)}const Lf=Ac(vc).right;Ac(uc).center;var yf=Lf;class nf extends Map{constructor(y,W=Ua){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:W}});if(null!=y)for(const [ha,Oa]of y)this.set(ha,Oa)}get(y){return super.get(Bb(this,y))}has(y){return super.has(Bb(this,y))}set(y,W){return super.set(jc(this,y),W)}delete(y){return super.delete(Yb(this,y))}}var Bf=Math.sqrt(50),ug=Math.sqrt(10),xg=Math.sqrt(2);const ig=Symbol("implicit");var Cf=1/.7,Sg=/^#([0-9a-f]{3,8})$/,fh=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),
lh=RegExp("^rgb\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),yg=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),vh=RegExp("^rgba\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
uh=RegExp("^hsl\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Kh=RegExp("^hsla\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Yg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,
blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,
darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,
lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,
mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,
purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};
Da(lb,xb,{copy:function(y){return Object.assign(new this.constructor,this,y)},displayable:function(){return this.rgb().displayable()},hex:mb,formatHex:mb,formatHsl:function(){return ba(this).formatHsl()},formatRgb:Pa,toString:Pa});Da(pa,ob,Ka(lb,{brighter:function(y){y=null==y?Cf:Math.pow(Cf,y);return new pa(this.r*y,this.g*y,this.b*y,this.opacity)},darker:function(y){y=null==y?.7:Math.pow(.7,y);return new pa(this.r*y,this.g*y,this.b*y,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=
this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Z,formatHex:Z,formatRgb:Fa,toString:Fa}));Da(q,na,Ka(lb,{brighter:function(y){y=null==y?Cf:Math.pow(Cf,y);return new q(this.h,this.s,this.l*y,this.opacity)},darker:function(y){y=null==y?.7:Math.pow(.7,y);return new q(this.h,this.s,this.l*y,this.opacity)},rgb:function(){var y=this.h%360+360*(0>this.h),W=isNaN(y)||isNaN(this.s)?0:this.s,ha=this.l;W=ha+(.5>ha?ha:1-ha)*W;ha=2*ha-W;return new pa(M(240<=
y?y-240:y+120,ha,W),M(y,ha,W),M(120>y?y+240:y-120,ha,W),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var y=this.opacity;y=isNaN(y)?1:Math.max(0,Math.min(1,y));return(1===y?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===y?")":", "+y+")")}}));const wh=Math.PI/180,Dh=180/Math.PI,ri=4/29,Vg=6/29,mh=3*Vg*Vg,si=Vg*Vg*Vg;Da(u,g,Ka(lb,{brighter:function(y){return new u(this.l+
18*(null==y?1:y),this.a,this.b,this.opacity)},darker:function(y){return new u(this.l-18*(null==y?1:y),this.a,this.b,this.opacity)},rgb:function(){var y=(this.l+16)/116,W=isNaN(this.a)?y:y+this.a/500,ha=isNaN(this.b)?y:y-this.b/200;W=.96422*C(W);y=1*C(y);ha=.82521*C(ha);return new pa(B(3.1338561*W-1.6168667*y-.4906146*ha),B(-.9787684*W+1.9161415*y+.033454*ha),B(.0719453*W-.2289914*y+1.4052427*ha),this.opacity)}}));Da(V,H,Ka(lb,{brighter:function(y){return new V(this.h,this.c,this.l+18*(null==y?1:y),
this.opacity)},darker:function(y){return new V(this.h,this.c,this.l-18*(null==y?1:y),this.opacity)},rgb:function(){return Aa(this).rgb()}}));var Gg=1.78277*-.29227-.1347134789;Da(t,Y,Ka(lb,{brighter:function(y){y=null==y?Cf:Math.pow(Cf,y);return new t(this.h,this.s,this.l*y,this.opacity)},darker:function(y){y=null==y?.7:Math.pow(.7,y);return new t(this.h,this.s,this.l*y,this.opacity)},rgb:function(){var y=isNaN(this.h)?0:(this.h+120)*wh,W=+this.l,ha=isNaN(this.s)?0:this.s*W*(1-W),Oa=Math.cos(y);y=
Math.sin(y);return new pa(255*(W+ha*(-.14861*Oa+1.78277*y)),255*(W+ha*(-.29227*Oa+-.90649*y)),255*(W+1.97294*ha*Oa),this.opacity)}}));var Eh=y=>()=>y,Uh=function ha(W){function Oa(Eb,Sb){var kc=zb((Eb=ob(Eb)).r,(Sb=ob(Sb)).r),Vc=zb(Eb.g,Sb.g),Jd=zb(Eb.b,Sb.b),Sd=Ya(Eb.opacity,Sb.opacity);return function(ad){Eb.r=kc(ad);Eb.g=Vc(ad);Eb.b=Jd(ad);Eb.opacity=Sd(ad);return Eb+""}}var zb=Ca(W);Oa.gamma=ha;return Oa}(1),Tg=Ib(va),eh=Ib(La),nh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xh=new RegExp(nh.source,
"g"),Jg=180/Math.PI,Lh={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},yh,zh=cc(function(W){W=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(W+"");return W.isIdentity?Lh:gc(W.a,W.b,W.c,W.d,W.e,W.f)},"px, ","px)","deg)"),Ph=cc(function(W){if(null==W)return Lh;yh||(yh=document.createElementNS("http://www.w3.org/2000/svg","g"));yh.setAttribute("transform",W);if(!(W=yh.transform.baseVal.consolidate()))return Lh;W=W.matrix;return gc(W.a,W.b,W.c,W.d,W.e,W.f)},", ",")",")"),
Wh=function Eb(ha,Oa,zb){function Sb(kc,Vc){var Jd=kc[0],Sd=kc[1],ad=kc[2];kc=Vc[2];var ke=Vc[0]-Jd,Be=Vc[1]-Sd,Te=ke*ke+Be*Be;if(1E-12>Te){var w=Math.log(kc/ad)/ha;kc=function(Ea){return[Jd+Ea*ke,Sd+Ea*Be,ad*Math.exp(ha*Ea*w)]}}else{var T=Math.sqrt(Te);Vc=(kc*kc-ad*ad+zb*Te)/(2*ad*Oa*T);kc=(kc*kc-ad*ad-zb*Te)/(2*kc*Oa*T);var aa=Math.log(Math.sqrt(Vc*Vc+1)-Vc);w=(Math.log(Math.sqrt(kc*kc+1)-kc)-aa)/ha;kc=function(Ea){Ea*=w;var rb=Ic(aa),yb=ha*Ea+aa;var Mb=((yb=Math.exp(2*yb))-1)/(yb+1);var Nb=aa;
yb=((Nb=Math.exp(Nb))-1/Nb)/2;Mb=ad/(Oa*T)*(rb*Mb-yb);return[Jd+Mb*ke,Sd+Mb*Be,ad*rb/Ic(ha*Ea+aa)]}}kc.duration=1E3*w*ha/Math.SQRT2;return kc}Sb.rho=function(kc){kc=Math.max(.001,+kc);var Vc=kc*kc;return Eb(kc,Vc,Vc*Vc)};return Sb}(Math.SQRT2,2,4),ph=zc(X),Fh=zc(Ya),Wf=Yc(X),Kg=Yc(Ya),Xf=Md(X),Ff=Md(Ya),Mh=Object.freeze({__proto__:null,interpolate:qb,interpolateArray:function(ha,Oa){return(sc(Oa)?yc:xc)(ha,Oa)},interpolateBasis:va,interpolateBasisClosed:La,interpolateDate:cd,interpolateDiscrete:function(ha){var Oa=
ha.length;return function(zb){return ha[Math.max(0,Math.min(Oa-1,Math.floor(zb*Oa)))]}},interpolateHue:function(ha,Oa){var zb=X(+ha,+Oa);return function(Eb){Eb=zb(Eb);return Eb-360*Math.floor(Eb/360)}},interpolateNumber:Zb,interpolateNumberArray:yc,interpolateObject:Rc,interpolateRound:Tb,interpolateString:Vb,interpolateTransformCss:zh,interpolateTransformSvg:Ph,interpolateZoom:Wh,interpolateRgb:Uh,interpolateRgbBasis:Tg,interpolateRgbBasisClosed:eh,interpolateHsl:ph,interpolateHslLong:Fh,interpolateLab:function(ha,
Oa){var zb=Ya((ha=g(ha)).l,(Oa=g(Oa)).l),Eb=Ya(ha.a,Oa.a),Sb=Ya(ha.b,Oa.b),kc=Ya(ha.opacity,Oa.opacity);return function(Vc){ha.l=zb(Vc);ha.a=Eb(Vc);ha.b=Sb(Vc);ha.opacity=kc(Vc);return ha+""}},interpolateHcl:Wf,interpolateHclLong:Kg,interpolateCubehelix:Xf,interpolateCubehelixLong:Ff,piecewise:ud,quantize:function(ha,Oa){for(var zb=Array(Oa),Eb=0;Eb<Oa;++Eb)zb[Eb]=ha(Eb/(Oa-1));return zb}}),eg=[0,1],Yf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Tc.prototype=dd.prototype;
dd.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var S,wa={"%":(ha,Oa)=>(100*ha).toFixed(Oa),b:ha=>Math.round(ha).toString(2),c:ha=>ha+"",d:function(ha){return 1E21<=Math.abs(ha=Math.round(ha))?ha.toLocaleString("en").replace(/,/g,""):ha.toString(10)},e:(ha,Oa)=>ha.toExponential(Oa),f:(ha,
Oa)=>ha.toFixed(Oa),g:(ha,Oa)=>ha.toPrecision(Oa),o:ha=>Math.round(ha).toString(8),p:(ha,Oa)=>ed(100*ha,Oa),r:ed,s:function(ha,Oa){var zb=Fb(ha,Oa);if(!zb)return ha+"";var Eb=zb[0];zb=zb[1];zb=zb-(S=3*Math.max(-8,Math.min(8,Math.floor(zb/3))))+1;var Sb=Eb.length;return zb===Sb?Eb:zb>Sb?Eb+Array(zb-Sb+1).join("0"):0<zb?Eb.slice(0,zb)+"."+Eb.slice(zb):"0."+Array(1-zb).join("0")+Fb(ha,Math.max(0,Oa+zb-1))[0]},X:ha=>Math.round(ha).toString(16).toUpperCase(),x:ha=>Math.round(ha).toString(16)},Ra=Array.prototype.map,
p="y z a f p n  m  k M G T P E Z Y".split(" "),R,ja,xa;(function(ha){R=Td(ha);ja=R.format;xa=R.formatPrefix;return R})({thousands:",",grouping:[3],currency:["$",""]});var r=new Date,F=new Date,ia=re(function(){},function(ha,Oa){ha.setTime(+ha+Oa)},function(ha,Oa){return Oa-ha});ia.every=function(ha){ha=Math.floor(ha);return isFinite(ha)&&0<ha?1<ha?re(function(Oa){Oa.setTime(Math.floor(Oa/ha)*ha)},function(Oa,zb){Oa.setTime(+Oa+zb*ha)},function(Oa,zb){return(zb-Oa)/ha}):ia:null};var l=ia,z=re(function(ha){ha.setTime(ha-
ha.getMilliseconds())},function(ha,Oa){ha.setTime(+ha+1E3*Oa)},function(ha,Oa){return(Oa-ha)/1E3},function(ha){return ha.getUTCSeconds()}),ca=re(function(ha){ha.setTime(ha-ha.getMilliseconds()-1E3*ha.getSeconds())},function(ha,Oa){ha.setTime(+ha+6E4*Oa)},function(ha,Oa){return(Oa-ha)/6E4},function(ha){return ha.getMinutes()}),ma=re(function(ha){ha.setTime(ha-ha.getMilliseconds()-1E3*ha.getSeconds()-6E4*ha.getMinutes())},function(ha,Oa){ha.setTime(+ha+36E5*Oa)},function(ha,Oa){return(Oa-ha)/36E5},
function(ha){return ha.getHours()}),Va=re(ha=>ha.setHours(0,0,0,0),(ha,Oa)=>ha.setDate(ha.getDate()+Oa),(ha,Oa)=>(Oa-ha-6E4*(Oa.getTimezoneOffset()-ha.getTimezoneOffset()))/864E5,ha=>ha.getDate()-1),Xa=tf(0),Jb=tf(1);tf(2);tf(3);var hc=tf(4);tf(5);tf(6);var Ub=re(function(ha){ha.setDate(1);ha.setHours(0,0,0,0)},function(ha,Oa){ha.setMonth(ha.getMonth()+Oa)},function(ha,Oa){return Oa.getMonth()-ha.getMonth()+12*(Oa.getFullYear()-ha.getFullYear())},function(ha){return ha.getMonth()}),qd=re(function(ha){ha.setMonth(0,
1);ha.setHours(0,0,0,0)},function(ha,Oa){ha.setFullYear(ha.getFullYear()+Oa)},function(ha,Oa){return Oa.getFullYear()-ha.getFullYear()},function(ha){return ha.getFullYear()});qd.every=function(ha){return isFinite(ha=Math.floor(ha))&&0<ha?re(function(Oa){Oa.setFullYear(Math.floor(Oa.getFullYear()/ha)*ha);Oa.setMonth(0,1);Oa.setHours(0,0,0,0)},function(Oa,zb){Oa.setFullYear(Oa.getFullYear()+zb*ha)}):null};var Zc=qd,Rd=re(function(ha){ha.setUTCSeconds(0,0)},function(ha,Oa){ha.setTime(+ha+6E4*Oa)},function(ha,
Oa){return(Oa-ha)/6E4},function(ha){return ha.getUTCMinutes()}),ue=re(function(ha){ha.setUTCMinutes(0,0,0)},function(ha,Oa){ha.setTime(+ha+36E5*Oa)},function(ha,Oa){return(Oa-ha)/36E5},function(ha){return ha.getUTCHours()}),xe=re(function(ha){ha.setUTCHours(0,0,0,0)},function(ha,Oa){ha.setUTCDate(ha.getUTCDate()+Oa)},function(ha,Oa){return(Oa-ha)/864E5},function(ha){return ha.getUTCDate()-1}),ve=U(0),Xe=U(1);U(2);U(3);var wf=U(4);U(5);U(6);var Og=re(function(ha){ha.setUTCDate(1);ha.setUTCHours(0,
0,0,0)},function(ha,Oa){ha.setUTCMonth(ha.getUTCMonth()+Oa)},function(ha,Oa){return Oa.getUTCMonth()-ha.getUTCMonth()+12*(Oa.getUTCFullYear()-ha.getUTCFullYear())},function(ha){return ha.getUTCMonth()}),bf=re(function(ha){ha.setUTCMonth(0,1);ha.setUTCHours(0,0,0,0)},function(ha,Oa){ha.setUTCFullYear(ha.getUTCFullYear()+Oa)},function(ha,Oa){return Oa.getUTCFullYear()-ha.getUTCFullYear()},function(ha){return ha.getUTCFullYear()});bf.every=function(ha){return isFinite(ha=Math.floor(ha))&&0<ha?re(function(Oa){Oa.setUTCFullYear(Math.floor(Oa.getUTCFullYear()/
ha)*ha);Oa.setUTCMonth(0,1);Oa.setUTCHours(0,0,0,0)},function(Oa,zb){Oa.setUTCFullYear(Oa.getUTCFullYear()+zb*ha)}):null};var Qe=bf;const [cg,Ah]=ua(Qe,Og,ve,xe,ue,Rd),[fg,sf]=ua(Zc,Ub,Xa,Va,ma,ca);var of={"-":"",_:" ",0:"0"},Qf=/^\s*\d+/,Rf=/^%/,Mf=/[\\^$*+?|[\]().{}]/g,Zg,jg,Bh;(function(ha){Zg=Cc(ha);jg=Zg.format;Bh=Zg.utcFormat;return Zg})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),
months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var ng=Array.prototype.map;const Ng=Array.prototype.slice,vg={};bb("identity",Ud);bb("linear",de,"continuous");bb("log",Gc,["continuous","log"]);bb("pow",Ce,"continuous");bb("sqrt",function(){return Ce.apply(null,arguments).exponent(.5)},"continuous");bb("symlog",Hd,"continuous");bb("time",function(){return ab.apply(mf(fg,
sf,Zc,Ub,Xa,Va,ma,ca,z,jg).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)},["continuous","temporal"]);bb("utc",function(){return ab.apply(mf(cg,Ah,Qe,Og,ve,xe,ue,Rd,z,Bh).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)},["continuous","temporal"]);bb("sequential",Jf,["continuous","interpolating"]);bb("sequential-linear",Jf,["continuous","interpolating"]);bb("sequential-log",zf,["continuous","interpolating","log"]);bb("sequential-pow",Eg,["continuous","interpolating"]);bb("sequential-sqrt",
function(){return Eg.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);bb("sequential-symlog",Af,["continuous","interpolating"]);bb("diverging-linear",xf,["continuous","interpolating"]);bb("diverging-log",Kf,["continuous","interpolating","log"]);bb("diverging-pow",ch,["continuous","interpolating"]);bb("diverging-sqrt",function(){return ch.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);bb("diverging-symlog",dg,["continuous","interpolating"]);bb("quantile",kf,
["discretizing","quantile"]);bb("quantize",hf,"discretizing");bb("threshold",df,"discretizing");bb("bin-ordinal",Ug,["discrete","discretizing"]);bb("ordinal",Qa,"discrete");bb("band",Ig,"discrete");bb("point",function(){return Mg(Ig().paddingInner(1))},"discrete");const Zh=["clamp","base","constant","exponent"],qi={};Vf({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",
category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",
dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},Pf);Vf({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",
greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",
greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",
yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",
redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},ha=>Gf(Pf(ha)));const hi=ha=>k.isArray(ha)?ha.map(Oa=>String(Oa)):String(ha),Pi=(ha,Oa)=>ha[1]-Oa[1],Ni=(ha,Oa)=>Oa[1]-ha[1],Dg={quantile:"quantiles",quantize:"thresholds",threshold:"domain"},Ti={quantile:"quantiles",quantize:"domain"},rj=ha=>(Oa,zb,Eb)=>{zb=Eb[zb+1];Eb=Eb.max;Eb=null!=Eb?Eb:Infinity;zb=null!=
zb?zb:Eb;Oa=Number.isFinite(Oa)?ha(Oa):null;zb=Number.isFinite(zb)?ha(zb):null;return Oa&&zb?Oa+"  "+zb:zb?"\x3c "+zb:" "+Oa},ki=ha=>(Oa,zb)=>zb?ha(Oa):null,ui=ha=>Oa=>ha(Oa);v.Band="band";v.BinOrdinal="bin-ordinal";v.DiscreteLegend="discrete";v.Diverging="diverging";v.GradientLegend="gradient";v.Identity="identity";v.Linear="linear";v.Log="log";v.Ordinal="ordinal";v.Point="point";v.Pow="pow";v.Quantile="quantile";v.Quantize="quantize";v.Sequential="sequential";v.Sqrt="sqrt";v.SymbolLegend="symbol";
v.Symlog="symlog";v.Threshold="threshold";v.Time="time";v.UTC="utc";v.bandSpace=ib;v.domainCaption=function(ha,Oa,zb){zb=zb||{};var Eb=Math.max(3,zb.maxlen||7),Sb=zb.format;const kc=(zb=zb.formatType)||Oa.type;k.isString(Sb)&&qf(kc)&&(Sb=Sb.replace(/%a/g,"%A").replace(/%b/g,"%B"));ha=Sb||"time"!==kc?Sb||"utc"!==kc?Je(ha,Oa,5,null,Sb,zb,!0):ha.utcFormat("%A, %d %B %Y, %X UTC"):ha.timeFormat("%A, %d %B %Y, %X");if(pe(Oa.type))return Eb=Ee(Oa).slice(1).map(ha),Oa=Eb.length,`${Oa} boundar${1===Oa?"y":
"ies"}: ${Eb.join(", ")}`;if(ld(Oa.type))return Sb=Oa.domain(),Oa=Sb.length,Eb=Oa>Eb?Sb.slice(0,Eb-2).map(ha).join(", ")+", ending with "+Sb.slice(-1).map(ha):Sb.map(ha).join(", "),`${Oa} value${1===Oa?"":"s"}: ${Eb}`;Eb=Oa.domain();return`values from ${ha(Eb[0])} to ${ha(k.peek(Eb))}`};v.interpolate=Ne;v.interpolateColors=Gf;v.interpolateRange=function(ha,Oa){const zb=Oa[0],Eb=k.peek(Oa)-zb;return function(Sb){return ha(zb+Sb*Eb)}};v.isContinuous=function(ha){return hd(ha,"continuous")};v.isDiscrete=
ld;v.isDiscretizing=pe;v.isInterpolating=function(ha){return hd(ha,"interpolating")};v.isLogarithmic=Pe;v.isQuantile=function(ha){return hd(ha,"quantile")};v.isTemporal=qf;v.isValidScaleType=Rb;v.labelFormat=Je;v.labelFraction=function(ha){var Oa=ha.domain();const zb=Oa.length-1;let Eb=+Oa[0];Oa=+k.peek(Oa);let Sb=Oa-Eb;"threshold"===ha.type&&(ha=zb?Sb/zb:.1,Eb-=ha,Oa+=ha,Sb=Oa-Eb);return kc=>(kc-Eb)/Sb};v.labelValues=Ee;v.quantizeInterpolator=function(ha,Oa){const zb=Array(Oa),Eb=Oa+1;for(let Sb=
0;Sb<Oa;)zb[Sb]=ha(++Sb/Eb);return zb};v.scale=bb;v.scaleCopy=function(ha){const Oa=ha.type;ha=ha.copy();ha.type=Oa;return ha};v.scaleFraction=function(ha,Oa,zb){var Eb=zb-Oa;let Sb,kc;return Eb&&Number.isFinite(Eb)?(Eb=(Sb=ha.type).indexOf("-"),Sb=0>Eb?Sb:Sb.slice(Eb+1),kc=bb(Sb)().domain([Oa,zb]).range([0,1]),Zh.forEach(Vc=>ha[Vc]?kc[Vc](ha[Vc]()):0),kc):k.constant(.5)};v.scaleImplicit=ig;v.scheme=sg;v.tickCount=function(ha,Oa,zb){let Eb;k.isNumber(Oa)&&(ha.bins&&(Oa=Math.max(Oa,ha.bins.length)),
null!=zb&&(Oa=Math.min(Oa,Math.floor(k.span(ha.domain())/zb||1))));k.isObject(Oa)&&(Eb=Oa.step,Oa=Oa.interval);k.isString(Oa)&&(Oa="time"===ha.type?P.timeInterval(Oa):"utc"==ha.type?P.utcInterval(Oa):k.error("Only time and utc scales accept interval strings."),Eb&&(Oa=Oa.every(Eb)));return Oa};v.tickFormat=dh;v.tickValues=Rg;v.validTicks=tg;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[46]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(21),Db(41),Db(44),Db(45)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-canvas","vega-loader","vega-scale"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,P,ib,Gb){function ac(S,wa,Ra){const p=S.gradient;let R=S.id,ja="radial"===p?"p_":"";R||(R=S.id="gradient_"+Ja++,"radial"===p?(S.x1=vc(S.x1,
.5),S.y1=vc(S.y1,.5),S.r1=vc(S.r1,0),S.x2=vc(S.x2,.5),S.y2=vc(S.y2,.5),S.r2=vc(S.r2,.5),ja="p_"):(S.x1=vc(S.x1,0),S.y1=vc(S.y1,0),S.x2=vc(S.x2,1),S.y2=vc(S.y2,0)));wa[R]=S;return"url("+(Ra||"")+"#"+ja+R+")"}function vc(S,wa){return null!=S?S:wa}function Ac(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function uc(){return new Ac}function Bb(S){return function(){return S}}function jc(S){return 1<=S?Kd:-1>=S?-Kd:Math.asin(S)}function Yb(S){return S.innerRadius}function Ua(S){return S.outerRadius}
function ub(S){return S.startAngle}function Kb(S){return S.endAngle}function Lb(S){return S&&S.padAngle}function Cb(S,wa,Ra,p,R,ja,xa){var r=S-Ra,F=wa-p;xa=(xa?ja:-ja)/zd(r*r+F*F);F*=xa;r*=-xa;var ia=S+F,l=wa+r,z=Ra+F,ca=p+r;Ra=(ia+z)/2;p=(l+ca)/2;wa=z-ia;S=ca-l;xa=wa*wa+S*S;ja=R-ja;ca=ia*ca-z*l;var ma=(0>S?-1:1)*zd(Bd(0,ja*ja*xa-ca*ca));ia=(ca*S-wa*ma)/xa;l=(-ca*wa-S*ma)/xa;z=(ca*S+wa*ma)/xa;wa=(-ca*wa+S*ma)/xa;S=ia-Ra;xa=l-p;Ra=z-Ra;p=wa-p;S*S+xa*xa>Ra*Ra+p*p&&(ia=z,l=wa);return{cx:ia,cy:l,x01:-F,
y01:-r,x11:ia*(R/ja-1),y11:l*(R/ja-1)}}function Pb(S){return"object"===typeof S&&"length"in S?S:Array.from(S)}function ab(S){this._context=S}function pb(S){return new ab(S)}function Qa(S){return S[0]}function Da(S){return S[1]}function Ka(S,wa){function Ra(r){var F,ia=(r=Pb(r)).length,l,z=!1,ca;null==R&&(xa=ja(ca=uc()));for(F=0;F<=ia;++F)!(F<ia&&p(l=r[F],F,r))===z&&((z=!z)?xa.lineStart():xa.lineEnd()),z&&xa.point(+S(l,F,r),+wa(l,F,r));if(ca)return xa=null,ca+""||null}var p=Bb(!0),R=null,ja=pb,xa=
null;S="function"===typeof S?S:void 0===S?Qa:Bb(S);wa="function"===typeof wa?wa:void 0===wa?Da:Bb(wa);Ra.x=function(r){return arguments.length?(S="function"===typeof r?r:Bb(+r),Ra):S};Ra.y=function(r){return arguments.length?(wa="function"===typeof r?r:Bb(+r),Ra):wa};Ra.defined=function(r){return arguments.length?(p="function"===typeof r?r:Bb(!!r),Ra):p};Ra.curve=function(r){return arguments.length?(ja=r,null!=R&&(xa=ja(R)),Ra):ja};Ra.context=function(r){return arguments.length?(null==r?R=xa=null:
xa=ja(R=r),Ra):R};return Ra}function lb(S,wa,Ra){function p(l){var z,ca,ma=(l=Pb(l)).length,Va,Xa=!1,Jb,hc=Array(ma),Ub=Array(ma);null==r&&(ia=F(Jb=uc()));for(z=0;z<=ma;++z){if(!(z<ma&&xa(Va=l[z],z,l))===Xa)if(Xa=!Xa){var qd=z;ia.areaStart();ia.lineStart()}else{ia.lineEnd();ia.lineStart();for(ca=z-1;ca>=qd;--ca)ia.point(hc[ca],Ub[ca]);ia.lineEnd();ia.areaEnd()}Xa&&(hc[z]=+S(Va,z,l),Ub[z]=+wa(Va,z,l),ia.point(ja?+ja(Va,z,l):hc[z],Ra?+Ra(Va,z,l):Ub[z]))}if(Jb)return ia=null,Jb+""||null}function R(){return Ka().defined(xa).curve(F).context(r)}
var ja=null,xa=Bb(!0),r=null,F=pb,ia=null;S="function"===typeof S?S:void 0===S?Qa:Bb(+S);wa="function"===typeof wa?wa:void 0===wa?Bb(0):Bb(+wa);Ra="function"===typeof Ra?Ra:void 0===Ra?Da:Bb(+Ra);p.x=function(l){return arguments.length?(S="function"===typeof l?l:Bb(+l),ja=null,p):S};p.x0=function(l){return arguments.length?(S="function"===typeof l?l:Bb(+l),p):S};p.x1=function(l){return arguments.length?(ja=null==l?null:"function"===typeof l?l:Bb(+l),p):ja};p.y=function(l){return arguments.length?
(wa="function"===typeof l?l:Bb(+l),Ra=null,p):wa};p.y0=function(l){return arguments.length?(wa="function"===typeof l?l:Bb(+l),p):wa};p.y1=function(l){return arguments.length?(Ra=null==l?null:"function"===typeof l?l:Bb(+l),p):Ra};p.lineX0=p.lineY0=function(){return R().x(S).y(wa)};p.lineY1=function(){return R().x(S).y(Ra)};p.lineX1=function(){return R().x(ja).y(wa)};p.defined=function(l){return arguments.length?(xa="function"===typeof l?l:Bb(!!l),p):xa};p.curve=function(l){return arguments.length?
(F=l,null!=r&&(ia=F(r)),p):F};p.context=function(l){return arguments.length?(null==l?r=ia=null:ia=F(r=l),p):r};return p}function mb(){}function Pa(S,wa,Ra){S._context.bezierCurveTo((2*S._x0+S._x1)/3,(2*S._y0+S._y1)/3,(S._x0+2*S._x1)/3,(S._y0+2*S._y1)/3,(S._x0+4*S._x1+wa)/6,(S._y0+4*S._y1+Ra)/6)}function xb(S){this._context=S}function sb(S){this._context=S}function Qb(S){this._context=S}function Wb(S,wa){this._basis=new xb(S);this._beta=wa}function ob(S,wa,Ra){S._context.bezierCurveTo(S._x1+S._k*(S._x2-
S._x0),S._y1+S._k*(S._y2-S._y0),S._x2+S._k*(S._x1-wa),S._y2+S._k*(S._y1-Ra),S._x2,S._y2)}function pa(S,wa){this._context=S;this._k=(1-wa)/6}function Z(S,wa){this._context=S;this._k=(1-wa)/6}function Fa(S,wa){this._context=S;this._k=(1-wa)/6}function Ga(S,wa,Ra){var p=S._x1,R=S._y1,ja=S._x2,xa=S._y2;if(1E-12<S._l01_a){var r=2*S._l01_2a+3*S._l01_a*S._l12_a+S._l12_2a,F=3*S._l01_a*(S._l01_a+S._l12_a);p=(p*r-S._x0*S._l12_2a+S._x2*S._l01_2a)/F;R=(R*r-S._y0*S._l12_2a+S._y2*S._l01_2a)/F}1E-12<S._l23_a&&(r=
2*S._l23_2a+3*S._l23_a*S._l12_a+S._l12_2a,F=3*S._l23_a*(S._l23_a+S._l12_a),ja=(ja*r+S._x1*S._l23_2a-wa*S._l12_2a)/F,xa=(xa*r+S._y1*S._l23_2a-Ra*S._l12_2a)/F);S._context.bezierCurveTo(p,R,ja,xa,S._x2,S._y2)}function db(S,wa){this._context=S;this._alpha=wa}function ba(S,wa){this._context=S;this._alpha=wa}function na(S,wa){this._context=S;this._alpha=wa}function q(S){this._context=S}function M(S,wa,Ra){var p=S._x1-S._x0;wa-=S._x1;var R=(S._y1-S._y0)/(p||0>wa&&-0);S=(Ra-S._y1)/(wa||0>p&&-0);return((0>
R?-1:1)+(0>S?-1:1))*Math.min(Math.abs(R),Math.abs(S),.5*Math.abs((R*wa+S*p)/(p+wa)))||0}function Q(S,wa){var Ra=S._x1-S._x0;return Ra?(3*(S._y1-S._y0)/Ra-wa)/2:wa}function g(S,wa,Ra){var p=S._x0,R=S._x1,ja=S._y1,xa=(R-p)/3;S._context.bezierCurveTo(p+xa,S._y0+xa*wa,R-xa,ja-xa*Ra,R,ja)}function u(S){this._context=S}function m(S){this._context=new C(S)}function C(S){this._context=S}function B(S){this._context=S}function A(S){var wa,Ra=S.length-1,p=Array(Ra),R=Array(Ra),ja=Array(Ra);p[0]=0;R[0]=2;ja[0]=
S[0]+2*S[1];for(wa=1;wa<Ra-1;++wa)p[wa]=1,R[wa]=4,ja[wa]=4*S[wa]+2*S[wa+1];p[Ra-1]=2;R[Ra-1]=7;ja[Ra-1]=8*S[Ra-1]+S[Ra];for(wa=1;wa<Ra;++wa){var xa=p[wa]/R[wa-1];R[wa]-=xa;ja[wa]-=xa*ja[wa-1]}p[Ra-1]=ja[Ra-1]/R[Ra-1];for(wa=Ra-2;0<=wa;--wa)p[wa]=(ja[wa]-p[wa+1])/R[wa];R[Ra-1]=(S[Ra]+p[Ra-1])/2;for(wa=0;wa<Ra-1;++wa)R[wa]=2*S[wa+1]-p[wa+1];return[p,R]}function E(S,wa){this._context=S;this._t=wa}function H(S,wa,Ra){S=k.hasOwnProperty(Ke,S)&&Ke[S];var p=null;S&&(p=S.curve||S[wa||"vertical"],S.tension&&
null!=Ra&&(p=p[S.tension](Ra)));return p}function V(S){const wa=[];(S.match(Df)||[]).forEach(Ra=>{let p=Ra[0];var R=p.toLowerCase();const ja=ne[R];var xa=Ra.slice(1).trim();Ra=[];for(let F=0;ja&&F<xa.length;)for(let ia=0;ia<ja;++ia){var r="a"!==R||3!==ia&&4!==ia?If:ag;r=xa.slice(F).match(r);if(null===r)throw Error("Invalid SVG path, incorrect parameter type");F+=r[0].length;Ra.push(+r[0]);r=xa.slice(F).match(jf);null!==r&&(F+=r[0].length)}xa=Ra.length;if(xa<ja||xa&&0!==xa%ja)throw Error("Invalid SVG path, incorrect parameter count");
wa.push([p,...Ra.slice(0,ja)]);if(xa!==ja)for("m"===R&&(p="M"===p?"L":"l"),R=ja;R<xa;R+=ja)wa.push([p,...Ra.slice(R,R+ja)])});return wa}function Aa(S,wa,Ra,p,R,ja,xa,r,F){const ia=zf.call(arguments);if(Hf[ia])return Hf[ia];var l=xa*Yd;const z=Math.sin(l);l=Math.cos(l);Ra=Math.abs(Ra);p=Math.abs(p);var ca=l*(r-S)*.5+z*(F-wa)*.5,ma=l*(F-wa)*.5-z*(r-S)*.5;ca=ca*ca/(Ra*Ra)+ma*ma/(p*p);1<ca&&(ca=Math.sqrt(ca),Ra*=ca,p*=ca);var Va=l/Ra,Xa=z/Ra,Jb=-z/p,hc=l/p;ca=Va*r+Xa*F;ma=Jb*r+hc*F;Va=Va*S+Xa*wa;Xa=Jb*
S+hc*wa;Jb=1/((Va-ca)*(Va-ca)+(Xa-ma)*(Xa-ma))-.25;0>Jb&&(Jb=0);hc=Math.sqrt(Jb);ja==R&&(hc=-hc);Jb=.5*(ca+Va)-hc*(Xa-ma);hc=.5*(ma+Xa)+hc*(Va-ca);ca=Math.atan2(ma-hc,ca-Jb);ma=Math.atan2(Xa-hc,Va-Jb)-ca;0>ma&&1===ja?ma+=mf:0<ma&&0===ja&&(ma-=mf);Va=Math.ceil(Math.abs(ma/(ff+.001)));Xa=[];for(let Ub=0;Ub<Va;++Ub)Xa[Ub]=[Jb,hc,ca+Ub*ma/Va,ca+(Ub+1)*ma/Va,Ra,p,z,l];return Hf[ia]=Xa}function Y(S,wa,Ra,p,R,ja){var xa=null,r=0,F=0,ia=0,l=0,z=0,ca=0;null==Ra&&(Ra=0);null==p&&(p=0);null==R&&(R=1);null==
ja&&(ja=R);S.beginPath&&S.beginPath();for(var ma=0,Va=wa.length;ma<Va;++ma){var Xa=wa[ma];if(1!==R||1!==ja){var Jb=R;var hc=ja;var Ub=Af[0]=Xa[0];if("a"===Ub||"A"===Ub)Af[1]=Jb*Xa[1],Af[2]=hc*Xa[2],Af[3]=Xa[3],Af[4]=Xa[4],Af[5]=Xa[5],Af[6]=Jb*Xa[6],Af[7]=hc*Xa[7];else if("h"===Ub||"H"===Ub)Af[1]=Jb*Xa[1];else if("v"===Ub||"V"===Ub)Af[1]=hc*Xa[1];else{Ub=1;for(var qd=Xa.length;Ub<qd;++Ub)Af[Ub]=(1==Ub%2?Jb:hc)*Xa[Ub]}Xa=Af}switch(Xa[0]){case "l":r+=Xa[1];F+=Xa[2];S.lineTo(r+Ra,F+p);break;case "L":r=
Xa[1];F=Xa[2];S.lineTo(r+Ra,F+p);break;case "h":r+=Xa[1];S.lineTo(r+Ra,F+p);break;case "H":r=Xa[1];S.lineTo(r+Ra,F+p);break;case "v":F+=Xa[1];S.lineTo(r+Ra,F+p);break;case "V":F=Xa[1];S.lineTo(r+Ra,F+p);break;case "m":r+=Xa[1];F+=Xa[2];z=r;ca=F;S.moveTo(r+Ra,F+p);break;case "M":r=Xa[1];F=Xa[2];z=r;ca=F;S.moveTo(r+Ra,F+p);break;case "c":Jb=r+Xa[5];hc=F+Xa[6];ia=r+Xa[3];l=F+Xa[4];S.bezierCurveTo(r+Xa[1]+Ra,F+Xa[2]+p,ia+Ra,l+p,Jb+Ra,hc+p);r=Jb;F=hc;break;case "C":r=Xa[5];F=Xa[6];ia=Xa[3];l=Xa[4];S.bezierCurveTo(Xa[1]+
Ra,Xa[2]+p,ia+Ra,l+p,r+Ra,F+p);break;case "s":Jb=r+Xa[3];hc=F+Xa[4];ia=2*r-ia;l=2*F-l;S.bezierCurveTo(ia+Ra,l+p,r+Xa[1]+Ra,F+Xa[2]+p,Jb+Ra,hc+p);ia=r+Xa[1];l=F+Xa[2];r=Jb;F=hc;break;case "S":Jb=Xa[3];hc=Xa[4];ia=2*r-ia;l=2*F-l;S.bezierCurveTo(ia+Ra,l+p,Xa[1]+Ra,Xa[2]+p,Jb+Ra,hc+p);r=Jb;F=hc;ia=Xa[1];l=Xa[2];break;case "q":Jb=r+Xa[3];hc=F+Xa[4];ia=r+Xa[1];l=F+Xa[2];S.quadraticCurveTo(ia+Ra,l+p,Jb+Ra,hc+p);r=Jb;F=hc;break;case "Q":Jb=Xa[3];hc=Xa[4];S.quadraticCurveTo(Xa[1]+Ra,Xa[2]+p,Jb+Ra,hc+p);r=
Jb;F=hc;ia=Xa[1];l=Xa[2];break;case "t":Jb=r+Xa[1];hc=F+Xa[2];null===xa[0].match(/[QqTt]/)?(ia=r,l=F):"t"===xa[0]?(ia=2*r-Zc,l=2*F-Rd):"q"===xa[0]&&(ia=2*r-ia,l=2*F-l);var Zc=ia;var Rd=l;S.quadraticCurveTo(ia+Ra,l+p,Jb+Ra,hc+p);r=Jb;F=hc;ia=r+Xa[1];l=F+Xa[2];break;case "T":Jb=Xa[1];hc=Xa[2];ia=2*r-ia;l=2*F-l;S.quadraticCurveTo(ia+Ra,l+p,Jb+Ra,hc+p);r=Jb;F=hc;break;case "a":t(S,r+Ra,F+p,[Xa[1],Xa[2],Xa[3],Xa[4],Xa[5],Xa[6]+r+Ra,Xa[7]+F+p]);r+=Xa[6];F+=Xa[7];break;case "A":t(S,r+Ra,F+p,[Xa[1],Xa[2],
Xa[3],Xa[4],Xa[5],Xa[6]+Ra,Xa[7]+p]);r=Xa[6];F=Xa[7];break;case "z":case "Z":r=z,F=ca,S.closePath()}xa=Xa}}function t(S,wa,Ra,p){wa=Aa(p[5],p[6],p[0],p[1],p[3],p[4],p[2],wa,Ra);for(Ra=0;Ra<wa.length;++Ra){a:{var R=wa[Ra];p=zf.call(R);if(Jf[p]){p=Jf[p];break a}var ja=R[0],xa=R[1],r=R[2],F=R[3],ia=R[4],l=R[5],z=R[6],ca=R[7];R=ca*ia;const Va=-z*l;ia*=z;l*=ca;var ma=Math.cos(r);const Xa=Math.sin(r);z=Math.cos(F);ca=Math.sin(F);r=.5*(F-r);F=Math.sin(.5*r);F=8/3*F*F/Math.sin(r);r=ja+ma-F*Xa;ma=xa+Xa+F*
ma;ja+=z;xa+=ca;ca=ja+F*ca;z=xa-F*z;p=Jf[p]=[R*r+Va*ma,ia*r+l*ma,R*ca+Va*z,ia*ca+l*z,R*ja+Va*xa,ia*ja+l*xa]}S.bezierCurveTo(p[0],p[1],p[2],p[3],p[4],p[5])}}function L(S){return k.hasOwnProperty(Eg,S)?Eg[S]:va(S)}function va(S){if(!k.hasOwnProperty(hg,S)){const wa=V(S);hg[S]={draw:function(Ra,p){Y(Ra,wa,0,0,Math.sqrt(p)/2)}}}return hg[S]}function La(S){return S.x}function Wa(S){return S.y}function $a(S){return S.width}function X(S){return S.height}function Ca(S){return"function"===typeof S?S:()=>+S}
function Ya(S,wa,Ra){return Math.max(wa,Math.min(S,Ra))}function Ib(){function S(l,z,ca){var ma;z=null!=z?z:+wa.call(this,l);ca=null!=ca?ca:+Ra.call(this,l);var Va=+p.call(this,l),Xa=+R.call(this,l),Jb=Math.min(Va,Xa)/2,hc=Ya(+ja.call(this,l),0,Jb),Ub=Ya(+xa.call(this,l),0,Jb),qd=Ya(+r.call(this,l),0,Jb);l=Ya(+F.call(this,l),0,Jb);ia||(ia=ma=uc());0>=hc&&0>=Ub&&0>=qd&&0>=l?ia.rect(z,ca,Va,Xa):(Va=z+Va,Xa=ca+Xa,ia.moveTo(z+hc,ca),ia.lineTo(Va-Ub,ca),ia.bezierCurveTo(Va-.448084975506*Ub,ca,Va,ca+.448084975506*
Ub,Va,ca+Ub),ia.lineTo(Va,Xa-l),ia.bezierCurveTo(Va,Xa-.448084975506*l,Va-.448084975506*l,Xa,Va-l,Xa),ia.lineTo(z+qd,Xa),ia.bezierCurveTo(z+.448084975506*qd,Xa,z,Xa-.448084975506*qd,z,Xa-qd),ia.lineTo(z,ca+hc),ia.bezierCurveTo(z,ca+.448084975506*hc,z+.448084975506*hc,ca,z+hc,ca),ia.closePath());if(ma)return ia=null,ma+""||null}var wa=La,Ra=Wa,p=$a,R=X,ja=Ca(0),xa=ja,r=ja,F=ja,ia=null;S.x=function(l){return arguments.length?(wa=Ca(l),S):wa};S.y=function(l){return arguments.length?(Ra=Ca(l),S):Ra};
S.width=function(l){return arguments.length?(p=Ca(l),S):p};S.height=function(l){return arguments.length?(R=Ca(l),S):R};S.cornerRadius=function(l,z,ca,ma){return arguments.length?(ja=Ca(l),xa=null!=z?Ca(z):ja,F=null!=ca?Ca(ca):ja,r=null!=ma?Ca(ma):xa,S):ja};S.context=function(l){return arguments.length?(ia=null==l?null:l,S):ia};return S}function yc(){function S(l){var z,ca=l.length,ma,Va=!1,Xa;null==ja&&(ja=Xa=uc());for(z=0;z<=ca;++z)if(!(z<ca&&R(ma=l[z],z,l))===Va&&(Va=!Va)&&(xa=0),Va){var Jb=+wa(ma,
z,l),hc=+Ra(ma,z,l);const xe=+p(ma,z,l)/2;if(xa){var Ub=F-hc,qd=Jb-r;if(Ub||qd){var Zc=Math.sqrt(Ub*Ub+qd*qd),Rd=(Ub/=Zc)*ia;Zc=(qd/=Zc)*ia;var ue=Math.atan2(qd,Ub);ja.moveTo(r-Rd,F-Zc);ja.lineTo(Jb-Ub*xe,hc-qd*xe);ja.arc(Jb,hc,xe,ue-Math.PI,ue);ja.lineTo(r+Rd,F+Zc);ja.arc(r,F,ia,ue,ue+Math.PI)}else ja.arc(Jb,hc,xe,0,mf);ja.closePath()}else xa=1;r=Jb;F=hc;ia=xe}if(Xa)return ja=null,Xa+""||null}var wa,Ra,p,R,ja=null,xa,r,F,ia;S.x=function(l){return arguments.length?(wa=l,S):wa};S.y=function(l){return arguments.length?
(Ra=l,S):Ra};S.size=function(l){return arguments.length?(p=l,S):p};S.defined=function(l){return arguments.length?(R=l,S):R};S.context=function(l){return arguments.length?(ja=null==l?null:l,S):ja};return S}function sc(S,wa){return null!=S?S:wa}function xc(S){return S.cornerRadius||S.cornerRadiusTopLeft||S.cornerRadiusTopRight||S.cornerRadiusBottomRight||S.cornerRadiusBottomLeft}function cd(S,wa,Ra,p){return qa.context(S)(wa,Ra,p)}function Zb(S,wa,Ra){var p=wa.clip;S=S._defs;wa=wa.clip_id||(wa.clip_id=
"clip"+hd++);S=S.clipping[wa]||(S.clipping[wa]={id:wa});k.isFunction(p)?S.path=p(null):xc(Ra)?S.path=cd(null,Ra,0,0):(S.width=Ra.width||0,S.height=Ra.height||0);return"url(#"+wa+")"}function Rc(S){this.clear();S&&this.union(S)}function Pd(S){this.mark=S;this.bounds=this.bounds||new Rc}function Ma(S){Pd.call(this,S);this.items=this.items||[]}function Vb(S){this._pending=0;this._loader=S||ib.loader()}function qb(S,wa,Ra){if(wa.stroke&&0!==wa.opacity&&0!==wa.strokeOpacity){const p=null!=wa.strokeWidth?
+wa.strokeWidth:1;S.expand(p+(Ra?wa.strokeJoin&&"miter"!==wa.strokeJoin?0:p:0))}return S}function Tb(S,wa){pe=S;wa?(Gf=wa*Yd,Ne=Vf=Math.cos(Gf),bg=Math.sin(Gf),Pf=-bg):(Ne=Vf=1,Gf=bg=Pf=0);return Ee}function gc(S,wa,Ra,p){Ra=(S-wa)/(S+Ra-2*wa);0<Ra&&1>Ra&&p(S+(wa-S)*Ra)}function cc(S,wa,Ra,p,R){const ja=p-S+3*wa-3*Ra,xa=S+Ra-2*wa;var r=S-wa;let F=0,ia=0;1E-14<Math.abs(ja)?(r=xa*xa+r*ja,0<=r&&(r=Math.sqrt(r),F=(-xa+r)/ja,ia=(-xa-r)/ja)):F=.5*r/xa;0<F&&1>F&&R(Ic(F,S,wa,Ra,p));0<ia&&1>ia&&R(Ic(ia,S,
wa,Ra,p))}function Ic(S,wa,Ra,p,R){const ja=1-S,xa=ja*ja,r=S*S;return xa*ja*wa+3*xa*S*Ra+3*ja*r*p+r*S*R}function zc(S){return function(wa,Ra){if(!Je)return!0;S(Je,wa);Lf.clear().union(wa.bounds).intersect(Ra).round();const {x1:p,y1:R,x2:ja,y2:xa}=Lf;for(wa=R;wa<=xa;++wa)for(Ra=p;Ra<=ja;++Ra)if(Je.isPointInPath(Ra,wa))return!0;return!1}}function Yc(S,wa){return wa.contains(S.x||0,S.y||0)}function Md(S,wa){const Ra=S.x||0,p=S.y||0;return wa.intersects(Lf.set(Ra,p,Ra+(S.width||0),p+(S.height||0)))}function ud(S,
wa){const Ra=S.x||0,p=S.y||0;return Ha(wa,Ra,p,null!=S.x2?S.x2:Ra,null!=S.y2?S.y2:p)}function Ha(S,wa,Ra,p,R){const {x1:ja,y1:xa,x2:r,y2:F}=S;S=p-wa;R-=Ra;p=0;let ia=1,l,z,ca,ma;for(ma=0;4>ma;++ma){0===ma&&(l=-S,z=-(ja-wa));1===ma&&(l=S,z=r-wa);2===ma&&(l=-R,z=-(xa-Ra));3===ma&&(l=R,z=F-Ra);if(1E-10>Math.abs(l)&&0>z)return!1;ca=z/l;if(0>l){if(ca>ia)return!1;ca>p&&(p=ca)}else if(0<l){if(ca<p)return!1;ca<ia&&(ia=ca)}}return!0}function gb(S,wa){S.globalCompositeOperation=wa.blend||"source-over"}function wb(S,
wa){return null==S?wa:S}function sa(S,wa){const Ra=wa.length;for(let p=0;p<Ra;++p)S.addColorStop(wa[p].offset,wa[p].color);return S}function G(S,wa,Ra){const p=Ra.width(),R=Ra.height();if("radial"===wa.gradient)S=S.createRadialGradient(Ra.x1+wb(wa.x1,.5)*p,Ra.y1+wb(wa.y1,.5)*R,Math.max(p,R)*wb(wa.r1,0),Ra.x1+wb(wa.x2,.5)*p,Ra.y1+wb(wa.y2,.5)*R,Math.max(p,R)*wb(wa.r2,.5));else{const ja=wb(wa.x1,0),xa=wb(wa.y1,0),r=wb(wa.x2,1),F=wb(wa.y2,0);if(ja===r||xa===F||p===R)S=S.createLinearGradient(Ra.x1+ja*
p,Ra.y1+xa*R,Ra.x1+r*p,Ra.y1+F*R);else{Ra=P.canvas(Math.ceil(p),Math.ceil(R));const ia=Ra.getContext("2d");ia.scale(p,R);ia.fillStyle=sa(ia.createLinearGradient(ja,xa,r,F),wa.stops);ia.fillRect(0,0,p,R);return S.createPattern(Ra,"no-repeat")}}return sa(S,wa.stops)}function ya(S,wa,Ra){Ra*=null==wa.fillOpacity?1:wa.fillOpacity;return 0<Ra?(S.globalAlpha=Ra,wa=(Ra=wa.fill)&&Ra.gradient?G(S,Ra,wa.bounds):Ra,S.fillStyle=wa,!0):!1}function Na(S,wa,Ra){var p=null!=(p=wa.strokeWidth)?p:1;if(0>=p)return!1;
Ra*=null==wa.strokeOpacity?1:wa.strokeOpacity;return 0<Ra?(S.globalAlpha=Ra,Ra=(Ra=wa.stroke)&&Ra.gradient?G(S,Ra,wa.bounds):Ra,S.strokeStyle=Ra,S.lineWidth=p,S.lineCap=wa.strokeCap||"butt",S.lineJoin=wa.strokeJoin||"miter",S.miterLimit=wa.strokeMiterLimit||10,S.setLineDash&&(S.setLineDash(wa.strokeDash||yf),S.lineDashOffset=wa.strokeDashOffset||0),!0):!1}function Za(S,wa){return S.zindex-wa.zindex||S.index-wa.index}function kb(S){if(!S.zdirty)return S.zitems;var wa=S.items,Ra=[],p;var R=0;for(p=
wa.length;R<p;++R){var ja=wa[R];ja.index=R;ja.zindex&&Ra.push(ja)}S.zdirty=!1;return S.zitems=Ra.sort(Za)}function Fb(S,wa){var Ra=S.items,p;if(Ra&&Ra.length){var R=kb(S);if(R&&R.length){S=0;for(p=Ra.length;S<p;++S)Ra[S].zindex||wa(Ra[S]);Ra=R}S=0;for(p=Ra.length;S<p;++S)wa(Ra[S])}}function nc(S,wa){var Ra=S.items,p,R;if(!Ra||!Ra.length)return null;const ja=kb(S);ja&&ja.length&&(Ra=ja);for(R=Ra.length;0<=--R;)if(p=wa(Ra[R]))return p;if(Ra===ja)for(Ra=S.items,R=Ra.length;0<=--R;)if(!Ra[R].zindex&&
(p=wa(Ra[R])))return p;return null}function ec(S){return function(wa,Ra,p){Fb(Ra,R=>{p&&!p.intersects(R.bounds)||Tc(S,wa,R,R)})}}function ic(S){return function(wa,Ra,p){!Ra.items.length||p&&!p.intersects(Ra.bounds)||Tc(S,wa,Ra.items[0],Ra.items)}}function Tc(S,wa,Ra,p){var R=null==Ra.opacity?1:Ra.opacity;0===R||S(wa,p)||(gb(wa,Ra),Ra.fill&&ya(wa,Ra,R)&&wa.fill(),Ra.stroke&&Na(wa,Ra,R)&&wa.stroke())}function dd(S){S=S||k.truthy;return function(wa,Ra,p,R,ja,xa){p*=wa.pixelRatio;R*=wa.pixelRatio;return nc(Ra,
r=>{const F=r.bounds;if((!F||F.contains(ja,xa))&&F&&S(wa,r,p,R,ja,xa))return r})}}function ed(S,wa){return function(Ra,p,R,ja){var xa=Array.isArray(p)?p[0]:p,r=null==wa?xa.fill:wa,F=xa.stroke&&Ra.isPointInStroke;if(F){var ia=xa.strokeWidth;xa=xa.strokeCap;Ra.lineWidth=null!=ia?ia:1;Ra.lineCap=null!=xa?xa:"butt"}return S(Ra,p)?!1:r&&Ra.isPointInPath(R,ja)||F&&Ra.isPointInStroke(R,ja)}}function Qd(S,wa){return"translate("+S+","+wa+")"}function Td(S,wa,Ra){function p(R,ja){var xa=ja.x||0,r=ja.y||0,F=
ja.angle||0;R.translate(xa,r);F&&R.rotate(F*=Yd);R.beginPath();wa(R,ja);F&&R.rotate(-F);R.translate(-xa,-r)}return{type:S,tag:"path",nested:!1,attr:function(R,ja){var xa=Qd(ja.x||0,ja.y||0)+(ja.angle?" rotate("+(ja.angle+")"):"");R("transform",xa);R("d",wa(null,ja))},bound:function(R,ja){wa(Tb(R,ja.angle),ja);return qb(R,ja).translate(ja.x||0,ja.y||0)},draw:ec(p),pick:dd(ed(p)),isect:Ra||zc(p)}}function Fd(S,wa,Ra){function p(ja,xa){ja.beginPath();wa(ja,xa)}const R=ed(p);return{type:S,tag:"path",
nested:!0,attr:function(ja,xa){xa=xa.mark.items;xa.length&&ja("d",wa(null,xa))},bound:function(ja,xa){xa=xa.items;if(0===xa.length)return ja;wa(Tb(ja),xa);return qb(ja,xa[0])},draw:ic(p),pick:function(ja,xa,r,F,ia,l){var z=xa.items;xa=xa.bounds;if(!z||!z.length||xa&&!xa.contains(ia,l))return null;r*=ja.pixelRatio;F*=ja.pixelRatio;return R(ja,z,r,F)?z[0]:null},isect:Yc,tip:Ra}}function Zd(S,wa){S.beginPath();xc(wa)?cd(S,wa,0,0):S.rect(0,0,wa.width||0,wa.height||0);S.clip()}function de(S){const wa=
wb(S.strokeWidth,1);return null!=S.strokeOffset?S.strokeOffset:S.stroke&&.5<wa&&1.5>wa?.5-Math.abs(wa-1):0}function Ud(S,wa,Ra,p){const R=de(wa);S.beginPath();cd(S,wa,(Ra||0)+R,(p||0)+R)}function Ve(S,wa){var Ra=S.image;if(!Ra||S.url&&S.url!==Ra.url)Ra={complete:!1,width:0,height:0},wa.loadImage(S.url).then(p=>{S.image=p;S.image.url=S.url});return Ra}function Xd(S,wa){return null!=S.width?S.width:wa&&wa.width?!1!==S.aspect&&S.height?S.height*wa.width/wa.height:wa.width:0}function N(S,wa){return null!=
S.height?S.height:wa&&wa.height?!1!==S.aspect&&S.width?S.width*wa.height/wa.width:wa.height:0}function la(S,wa){return"center"===S?wa/2:"right"===S?wa:0}function za(S,wa){return"middle"===S?wa/2:"bottom"===S?wa:0}function fb(S,wa){var Ra=wa.path;if(null==Ra)return!0;var p=wa.x||0,R=wa.y||0,ja=wa.scaleX||1,xa=wa.scaleY||1,r=(wa.angle||0)*Yd,F=wa.pathCache;F&&F.path===Ra||((wa.pathCache=F=V(Ra)).path=Ra);r&&S.rotate&&S.translate?(S.translate(p,R),S.rotate(r),Y(S,F,0,0,ja,xa),S.rotate(-r),S.translate(-p,
-R)):Y(S,F,p,R,ja,xa)}function Hb(S,wa){S.beginPath();cd(S,wa)}function Xb(S,wa,Ra){if(wa.stroke&&Na(S,wa,Ra)){Ra=wa.x||0;var p=wa.y||0;var R=null!=wa.x2?wa.x2:Ra;wa=null!=wa.y2?wa.y2:p;S.beginPath();S.moveTo(Ra,p);S.lineTo(R,wa);return!0}return!1}function Bc(S){Dh.width=S&&Je?Gc:lc}function lc(S,wa){wa=Gd(S,wa);S=Nc(S);return~~(.8*wa.length*S)}function Gc(S,wa){return 0>=Nc(S)||!(wa=Gd(S,wa))?0:id(wa,ae(S))}function id(S,wa){const Ra=`(${wa}) ${S}`;let p=wh.get(Ra);void 0===p&&(Je.font=wa,p=Je.measureText(S).width,
wh.set(Ra,p));return p}function Nc(S){return null!=S.fontSize?+S.fontSize||0:11}function sd(S){return null!=S.lineHeight?S.lineHeight:Nc(S)+2}function Hd(S){S=S.lineBreak&&S.text&&!k.isArray(S.text)?S.text.split(S.lineBreak):S.text;return k.isArray(S)?1<S.length?S:S[0]:S}function Gd(S,wa){wa=null==wa?"":(wa+"").trim();if(0<S.limit&&wa.length){var Ra=+S.limit,p=$d(S);if(!(p(wa)<Ra)){var R=S.ellipsis||"",ja="rtl"===S.dir;S=0;var xa=wa.length;Ra-=p(R);if(ja){for(;S<xa;)ja=S+xa>>>1,p(wa.slice(ja))>Ra?
S=ja+1:xa=ja;wa=R+wa.slice(S)}else{for(;S<xa;)ja=1+(S+xa>>>1),p(wa.slice(0,ja))<Ra?S=ja:xa=ja-1;wa=wa.slice(0,S)+R}}}return wa}function $d(S){if(Dh.width===Gc){const Ra=ae(S);return p=>id(p,Ra)}const wa=Nc(S);return Ra=>~~(.8*Ra.length*wa)}function Wd(S,wa){S=S.font;return(wa&&S?String(S).replace(/"/g,"'"):S)||"sans-serif"}function ae(S,wa){return(S.fontStyle?S.fontStyle+" ":"")+(S.fontVariant?S.fontVariant+" ":"")+(S.fontWeight?S.fontWeight+" ":"")+Nc(S)+"px "+Wd(S,wa)}function Ce(S){var wa=S.baseline,
Ra=Nc(S);return Math.round("top"===wa?.79*Ra:"middle"===wa?.3*Ra:"bottom"===wa?-.21*Ra:"line-top"===wa?.29*Ra+.5*sd(S):"line-bottom"===wa?.29*Ra-.5*sd(S):0)}function kf(S){var wa=S.x||0,Ra=S.y||0,p=S.radius||0;p&&(S=(S.theta||0)-ff,wa+=p*Math.cos(S),Ra+=p*Math.sin(S));Vg.x1=wa;Vg.y1=Ra;return Vg}function hf(S,wa,Ra){var p=Dh.height(wa),R=wa.align,ja=kf(wa),xa=ja.x1;ja=ja.y1;var r=wa.dx||0,F=(wa.dy||0)+Ce(wa)-Math.round(.8*p),ia=Hd(wa);k.isArray(ia)?(p+=sd(wa)*(ia.length-1),ia=ia.reduce((l,z)=>Math.max(l,
Dh.width(wa,z)),0)):ia=Dh.width(wa,ia);"center"===R?r-=ia/2:"right"===R&&(r-=ia);S.set(r+=xa,F+=ja,r+ia,F+p);if(wa.angle&&!Ra)S.rotate(wa.angle*Yd,xa,ja);else if(2===Ra)return S.rotatedPoints(wa.angle*Yd,xa,ja);return S}function df(S,wa,Ra){var p=Gg[S.mark.marktype];wa=wa||p.bound;p.nested&&(S=S.mark);return wa(S.bounds||(S.bounds=new Rc),S,Ra)}function re(S,wa,Ra){var p=Gg[S.marktype],R=p.bound,ja=S.items,xa=ja&&ja.length;if(p.nested)return xa?S=ja[0]:(Eh.mark=S,S=Eh),Ra=df(S,R,Ra),wa=wa&&wa.union(Ra)||
Ra;wa=wa||S.bounds&&S.bounds.clear()||new Rc;if(xa)for(p=0,xa=ja.length;p<xa;++p)wa.union(df(ja[p],R,Ra));return S.bounds=wa}function tf(S,wa){return JSON.stringify(S,Uh,wa)}function U(S){S="string"===typeof S?JSON.parse(S):S;return ua(S)}function ua(S){var wa=S.marktype,Ra=S.items,p;if(Ra){var R=0;for(p=Ra.length;R<p;++R){var ja=wa?"mark":"group";Ra[R][ja]=S;Ra[R].zindex&&(Ra[R][ja].zdirty=!0);"group"===(wa||ja)&&ua(Ra[R])}}wa&&re(S);return S}function cb(S){arguments.length?this.root=U(S):(this.root=
Ab({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Ma(this.root)])}function Ab(S,wa){wa={bounds:new Rc,clip:!!S.clip,group:wa,interactive:!1===S.interactive?!1:!0,items:[],marktype:S.marktype,name:S.name||void 0,role:S.role||void 0,zindex:S.zindex||0};null!=S.aria&&(wa.aria=S.aria);S.description&&(wa.description=S.description);return wa}function fc(S,wa,Ra){!S&&"undefined"!==typeof document&&document.createElement&&(S=document);return S?Ra?S.createElementNS(Ra,wa):S.createElement(wa):
null}function Cc(S,wa){wa=wa.toLowerCase();S=S.childNodes;for(var Ra=0,p=S.length;Ra<p;++Ra)if(S[Ra].tagName.toLowerCase()===wa)return S[Ra]}function $b(S,wa,Ra,p){wa=S.childNodes[wa];if(!wa||wa.tagName.toLowerCase()!==Ra.toLowerCase()){var R=wa||null;wa=fc(S.ownerDocument,Ra,p);S.insertBefore(wa,R)}return wa}function J(S,wa){for(var Ra=S.childNodes,p=Ra.length;p>wa;)S.removeChild(Ra[--p]);return S}function fa(S){return"mark-"+S.marktype+(S.role?" role-"+S.role:"")+(S.name?" "+S.name:"")}function Ta(S,
wa){const Ra=wa.getBoundingClientRect();return[S.clientX-Ra.left-(wa.clientLeft||0),S.clientY-Ra.top-(wa.clientTop||0)]}function bc(S,wa){this._active=null;this._handlers={};this._loader=S||ib.loader();this._tooltip=wa||Pc}function Pc(S,wa,Ra,p){S.element().setAttribute("title",p||"")}function Dc(S){this._bgcolor=this._el=null;this._loader=new Vb(S)}function Sc(S,wa){bc.call(this,S,wa);this._touch=this._down=null;this._first=!0;this._events={}}function gd(S,wa){("touchstart"===wa||"touchmove"===wa||
"touchend"===wa?["touchstart","touchmove","touchend"]:[wa]).forEach(Ra=>ee(S,Ra))}function ee(S,wa){const Ra=S.canvas();Ra&&!S._events[wa]&&(S._events[wa]=1,Ra.addEventListener(wa,S[wa]?p=>S[wa](p):p=>S.fire(wa,p)))}function Sa(S,wa,Ra){return function(p){const R=this._active,ja=this.pickEvent(p);ja!==R&&(R&&R.exit||this.fire(Ra,p),this._active=ja,this.fire(wa,p));this.fire(S,p)}}function eb(S){return function(wa){this.fire(S,wa);this._active=null}}function oc(S){Dc.call(this,S);this._options={};
this._redraw=!1;this._dirty=new Rc;this._tempb=new Rc}function xd(S,wa){bc.call(this,S,wa);const Ra=this;Ra._hrefHandler=nh(Ra,(p,R)=>{R&&R.href&&Ra.handleHref(p,R,R.href)});Ra._tooltipHandler=nh(Ra,(p,R)=>{Ra.handleTooltip(p,R,"mouseout"!==p.type)})}function Lc(S,wa){var Ra=!1===wa.aria;S("aria-hidden",Ra||void 0);if(Ra||null==wa.description)for(const p in yh)S(yh[p],void 0);else Ra=wa.mark.marktype,S("aria-label",wa.description),S("role",wa.ariaRole||("group"===Ra?"graphics-object":"graphics-symbol")),
S("aria-roledescription",wa.ariaRoleDescription||`${Ra} mark`)}function Uc(S){return!1===S.aria?{["aria-hidden"]:!0}:Jg[S.role]?null:Lh[S.role]?td(S,Lh[S.role]):Qc(S)}function Qc(S){const wa=S.marktype,Ra="group"===wa||"text"===wa||S.items.some(p=>null!=p.description&&!1!==p.aria);return xh(Ra?"graphics-object":"graphics-symbol",`${wa} mark container`,S.description)}function td(S,wa){try{const Ra=S.items[0],p=wa.caption||(()=>"");return xh(wa.role||"graphics-symbol",wa.desc,Ra.description||p(Ra))}catch(Ra){return null}}
function jd(S){try{return k.array(k.peek(S.items).items[0].text).join(" ")}catch(wa){return null}}function Od(S){S=S.map(wa=>wa+("fill"===wa||"stroke"===wa?" color":""));return 2>S.length?S[0]:S.slice(0,-1).join(", ")+" and "+k.peek(S)}function Cd(){let S="",wa="",Ra="";const p=[],R=(xa,r)=>{null!=r&&(wa+=` ${xa}="${zh(r).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return ja},ja={open(xa,...r){wa&&(S+=`${wa}>${Ra}`,wa=Ra="");p.push(xa);
wa="\x3c"+xa;for(const F of r)for(const ia in F)R(ia,F[ia]);return ja},close(){const xa=p.pop();S=wa?S+(wa+(Ra?`>${Ra}</${xa}>`:"/\x3e")):S+`</${xa}>`;wa=Ra="";return ja},attr:R,text:xa=>(Ra+=zh(xa),ja),toString:()=>S};return ja}function be(S,wa){S.open(wa.tagName);if(wa.hasAttributes()){const Ra=wa.attributes,p=Ra.length;for(let R=0;R<p;++R)S.attr(Ra[R].name,Ra[R].value)}if(wa.hasChildNodes()){wa=wa.childNodes;for(const Ra of wa)3===Ra.nodeType?S.text(Ra.nodeValue):be(S,Ra)}return S.close()}function ye(S){Dc.call(this,
S);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function Le(S,wa){for(;S&&S.dirty!==wa;S=S.mark.group)if(S.dirty=wa,S.mark&&S.mark.dirty!==wa)S.mark.dirty=wa;else break}function Ye(S,wa,Ra){wa=wa.lastChild.previousSibling;let p,R=0;Fb(Ra,ja=>{p=S.mark(wa,ja,p);++R});J(wa,1+R)}function ef(S,wa,Ra,p,R){let ja=S._svg;if(!ja){var xa=wa.ownerDocument;ja=fc(xa,p,Wf);S._svg=ja;S.mark&&(ja.__data__=S,ja.__values__={fill:"default"},"g"===p&&(p=fc(xa,"path",Wf),ja.appendChild(p),p.__data__=
S,p=fc(xa,"g",Wf),ja.appendChild(p),p.__data__=S,xa=fc(xa,"path",Wf),ja.appendChild(xa),xa.__data__=S,xa.__values__={fill:"default"}))}(ja.ownerSVGElement!==R||ja.parentNode&&1<ja.parentNode.childNodes.length&&ja.previousSibling!=Ra)&&wa.insertBefore(ja,Ra?Ra.nextSibling:wa.firstChild);return ja}function od(S,wa,Ra){if(wa!==Ff[S]){if(Ra){var p=Xf;null!=wa?p.setAttributeNS(Ra,S,wa):p.removeAttributeNS(Ra,S)}else Fc(Xf,S,wa);Ff[S]=wa}}function Ec(S,wa,Ra){Ra!==Ff[wa]&&(null==Ra?S.style.removeProperty(wa):
S.style.setProperty(wa,Ra+""),Ff[wa]=Ra)}function kd(S,wa){for(const Ra in wa)Fc(S,Ra,wa[Ra])}function Fc(S,wa,Ra){null!=Ra?S.setAttribute(wa,Ra):S.removeAttribute(wa)}function Id(){let S;return"undefined"===typeof window?"":(S=window.location).hash?S.href.slice(0,-S.hash.length):S.href}function Vd(S){Dc.call(this,S);this._text=null;this._defs={gradient:{},clipping:{}}}function ce(S,wa,Ra,p,R){let ja;if(null==wa)return S;"bgrect"===p&&!1===Ra.interactive&&(S["pointer-events"]="none");if("bgfore"===
p&&(!1===Ra.interactive&&(S["pointer-events"]="none"),S.display="none",null!==wa.fill))return S;"image"===p&&!1===wa.smooth&&(ja=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]);"text"===p&&(S["font-family"]=Wd(wa),S["font-size"]=Nc(wa)+"px",S["font-style"]=wa.fontStyle,S["font-variant"]=wa.fontVariant,S["font-weight"]=wa.fontWeight);for(const xa in Wh)Ra=wa[xa],p=Wh[xa],("transparent"!==Ra||"fill"!==p&&"stroke"!==p)&&null!=Ra&&(Ra&&Ra.gradient&&(Ra=ac(Ra,R.gradient,"")),S[p]=Ra);
for(const xa in ph)R=wa[xa],null!=R&&(ja=ja||[],ja.push(`${ph[xa]}: ${R};`));ja&&(S.style=ja.join(" "));return S}function le(S,wa,Ra,p){if(S.bounds&&wa.intersects(S.bounds)&&("group"===S.marktype||!1!==S.interactive&&(!Ra||Ra(S)))){const ja=S.items;var R=S.marktype;S=ja.length;let xa=0;if("group"===R)for(;xa<S;++xa)O(ja[xa],wa,Ra,p);else for(Ra=Gg[R].isect;xa<S;++xa)R=ja[xa],ea(R,wa,Ra)&&p.push(R)}return p}function O(S,wa,Ra,p){Ra&&Ra(S.mark)&&ea(S,wa,Gg.group.isect)&&p.push(S);const R=S.items,ja=
R&&R.length;if(ja){const xa=S.x||0;S=S.y||0;wa.translate(-xa,-S);for(let r=0;r<ja;++r)le(R[r],wa,Ra,p);wa.translate(xa,S)}return p}function ea(S,wa,Ra){const p=S.bounds;return wa.encloses(p)||wa.intersects(p)&&Ra(S,wa)}function I(S,wa,Ra){return S===wa?!0:"path"===Ra?ka(S,wa):S instanceof Date&&wa instanceof Date?+S===+wa:k.isNumber(S)&&k.isNumber(wa)?1E-9>=Math.abs(S-wa):S&&wa&&(k.isObject(S)||k.isObject(wa))?ta(S,wa):S==wa}function ka(S,wa){return I(V(S),V(wa))}function ta(S,wa){var Ra=Object.keys(S),
p=Object.keys(wa),R;if(Ra.length!==p.length)return!1;Ra.sort();p.sort();for(R=Ra.length-1;0<=R;R--)if(Ra[R]!=p[R])return!1;for(R=Ra.length-1;0<=R;R--)if(p=Ra[R],!I(S[p],wa[p],p))return!1;return typeof S===typeof wa}let Ja=0;const jb=Math.PI,vb=2*jb,pc=vb-1E-6;Ac.prototype=uc.prototype={constructor:Ac,moveTo:function(S,wa){this._+="M"+(this._x0=this._x1=+S)+","+(this._y0=this._y1=+wa)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(S,wa){this._+=
"L"+(this._x1=+S)+","+(this._y1=+wa)},quadraticCurveTo:function(S,wa,Ra,p){this._+="Q"+ +S+","+ +wa+","+(this._x1=+Ra)+","+(this._y1=+p)},bezierCurveTo:function(S,wa,Ra,p,R,ja){this._+="C"+ +S+","+ +wa+","+ +Ra+","+ +p+","+(this._x1=+R)+","+(this._y1=+ja)},arcTo:function(S,wa,Ra,p,R){S=+S;wa=+wa;Ra=+Ra;p=+p;R=+R;var ja=this._x1,xa=this._y1,r=Ra-S,F=p-wa,ia=ja-S,l=xa-wa,z=ia*ia+l*l;if(0>R)throw Error("negative radius: "+R);if(null===this._x1)this._+="M"+(this._x1=S)+","+(this._y1=wa);else if(1E-6<
z)if(1E-6<Math.abs(l*r-F*ia)&&R){Ra-=ja;p-=xa;var ca=r*r+F*F;xa=Math.sqrt(ca);ja=Math.sqrt(z);z=R*Math.tan((jb-Math.acos((ca+z-(Ra*Ra+p*p))/(2*xa*ja)))/2);ja=z/ja;z/=xa;1E-6<Math.abs(ja-1)&&(this._+="L"+(S+ja*ia)+","+(wa+ja*l));this._+="A"+R+","+R+",0,0,"+ +(l*Ra>ia*p)+","+(this._x1=S+z*r)+","+(this._y1=wa+z*F)}else this._+="L"+(this._x1=S)+","+(this._y1=wa)},arc:function(S,wa,Ra,p,R,ja){S=+S;wa=+wa;Ra=+Ra;ja=!!ja;var xa=Ra*Math.cos(p),r=Ra*Math.sin(p),F=S+xa,ia=wa+r,l=1^ja;p=ja?p-R:R-p;if(0>Ra)throw Error("negative radius: "+
Ra);if(null===this._x1)this._+="M"+F+","+ia;else if(1E-6<Math.abs(this._x1-F)||1E-6<Math.abs(this._y1-ia))this._+="L"+F+","+ia;Ra&&(0>p&&(p=p%vb+vb),p>pc?this._+="A"+Ra+","+Ra+",0,1,"+l+","+(S-xa)+","+(wa-r)+"A"+Ra+","+Ra+",0,1,"+l+","+(this._x1=F)+","+(this._y1=ia):1E-6<p&&(this._+="A"+Ra+","+Ra+",0,"+ +(p>=jb)+","+l+","+(this._x1=S+Ra*Math.cos(R))+","+(this._y1=wa+Ra*Math.sin(R))))},rect:function(S,wa,Ra,p){this._+="M"+(this._x0=this._x1=+S)+","+(this._y0=this._y1=+wa)+"h"+ +Ra+"v"+ +p+"h"+-Ra+
"Z"},toString:function(){return this._}};const qc=Math.abs,rc=Math.atan2,Kc=Math.cos,Bd=Math.max,Hc=Math.min,$c=Math.sin,zd=Math.sqrt,Dd=Math.PI,Kd=Dd/2,Ge=2*Dd;ab.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(S,wa){S=+S;wa=+wa;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(S,
wa):this._context.moveTo(S,wa);break;case 1:this._point=2;default:this._context.lineTo(S,wa)}}};var De={draw(S,wa){wa=zd(wa/Dd);S.moveTo(wa,0);S.arc(0,0,wa,0,Ge)}};xb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:Pa(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();
this._line=1-this._line},point:function(S,wa){S=+S;wa=+wa;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(S,wa):this._context.moveTo(S,wa);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Pa(this,S,wa)}this._x0=this._x1;this._x1=S;this._y0=this._y1;this._y1=wa}};sb.prototype={areaStart:mb,areaEnd:mb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=
this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(S,wa){S=+S;wa=+wa;switch(this._point){case 0:this._point=
1;this._x2=S;this._y2=wa;break;case 1:this._point=2;this._x3=S;this._y3=wa;break;case 2:this._point=3;this._x4=S;this._y4=wa;this._context.moveTo((this._x0+4*this._x1+S)/6,(this._y0+4*this._y1+wa)/6);break;default:Pa(this,S,wa)}this._x0=this._x1;this._x1=S;this._y0=this._y1;this._y1=wa}};Qb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===
this._point)&&this._context.closePath();this._line=1-this._line},point:function(S,wa){S=+S;wa=+wa;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var Ra=(this._x0+4*this._x1+S)/6,p=(this._y0+4*this._y1+wa)/6;this._line?this._context.lineTo(Ra,p):this._context.moveTo(Ra,p);break;case 3:this._point=4;default:Pa(this,S,wa)}this._x0=this._x1;this._x1=S;this._y0=this._y1;this._y1=wa}};Wb.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},
lineEnd:function(){var S=this._x,wa=this._y,Ra=S.length-1;if(0<Ra)for(var p=S[0],R=wa[0],ja=S[Ra]-p,xa=wa[Ra]-R,r=-1,F;++r<=Ra;)F=r/Ra,this._basis.point(this._beta*S[r]+(1-this._beta)*(p+F*ja),this._beta*wa[r]+(1-this._beta)*(R+F*xa));this._x=this._y=null;this._basis.lineEnd()},point:function(S,wa){this._x.push(+S);this._y.push(+wa)}};var yd=function Ra(wa){function p(R){return 1===wa?new xb(R):new Wb(R,wa)}p.beta=function(R){return Ra(+R)};return p}(.85);pa.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ob(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(wa,Ra){wa=+wa;Ra=+Ra;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(wa,Ra):this._context.moveTo(wa,Ra);break;
case 1:this._point=2;this._x1=wa;this._y1=Ra;break;case 2:this._point=3;default:ob(this,wa,Ra)}this._x0=this._x1;this._x1=this._x2;this._x2=wa;this._y0=this._y1;this._y1=this._y2;this._y2=Ra}};var Ae=function p(Ra){function R(ja){return new pa(ja,Ra)}R.tension=function(ja){return p(+ja)};return R}(0);Z.prototype={areaStart:mb,areaEnd:mb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,
this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Ra,p){Ra=+Ra;p=+p;switch(this._point){case 0:this._point=1;this._x3=Ra;this._y3=p;break;case 1:this._point=2;this._context.moveTo(this._x4=Ra,this._y4=p);break;case 2:this._point=3;this._x5=Ra;this._y5=p;break;default:ob(this,Ra,p)}this._x0=this._x1;this._x1=this._x2;
this._x2=Ra;this._y0=this._y1;this._y1=this._y2;this._y2=p}};var Ld=function R(p){function ja(xa){return new Z(xa,p)}ja.tension=function(xa){return R(+xa)};return ja}(0);Fa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(p,R){p=+p;R=+R;switch(this._point){case 0:this._point=
1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ob(this,p,R)}this._x0=this._x1;this._x1=this._x2;this._x2=p;this._y0=this._y1;this._y1=this._y2;this._y2=R}};var he=function ja(R){function xa(r){return new Fa(r,R)}xa.tension=function(r){return ja(+r)};return xa}(0);db.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=
this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(R,ja){R=+R;ja=+ja;if(this._point){var xa=this._x2-R,r=this._y2-ja;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(xa*xa+r*r,
this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(R,ja):this._context.moveTo(R,ja);break;case 1:this._point=2;break;case 2:this._point=3;default:Ga(this,R,ja)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=R;this._y0=this._y1;this._y1=this._y2;this._y2=ja}};var He=function xa(ja){function r(F){return ja?new db(F,ja):new pa(F,0)}r.alpha=function(F){return xa(+F)};return r}(.5);
ba.prototype={areaStart:mb,areaEnd:mb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,
this._y4),this.point(this._x5,this._y5)}},point:function(ja,xa){ja=+ja;xa=+xa;if(this._point){var r=this._x2-ja,F=this._y2-xa;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+F*F,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=ja;this._y3=xa;break;case 1:this._point=2;this._context.moveTo(this._x4=ja,this._y4=xa);break;case 2:this._point=3;this._x5=ja;this._y5=xa;break;default:Ga(this,ja,xa)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;
this._x0=this._x1;this._x1=this._x2;this._x2=ja;this._y0=this._y1;this._y1=this._y2;this._y2=xa}};var lf=function r(xa){function F(ia){return xa?new ba(ia,xa):new Z(ia,0)}F.alpha=function(ia){return r(+ia)};return F}(.5);na.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||
0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(xa,r){xa=+xa;r=+r;if(this._point){var F=this._x2-xa,ia=this._y2-r;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(F*F+ia*ia,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ga(this,xa,r)}this._l01_a=this._l12_a;this._l12_a=
this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=xa;this._y0=this._y1;this._y1=this._y2;this._y2=r}};var vf=function F(r){function ia(l){return r?new na(l,r):new Fa(l,0)}ia.alpha=function(l){return F(+l)};return ia}(.5);q.prototype={areaStart:mb,areaEnd:mb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(r,F){r=+r;F=+F;this._point?this._context.lineTo(r,F):(this._point=1,this._context.moveTo(r,
F))}};u.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:g(this,this._t0,Q(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(r,F){var ia=NaN;r=+r;F=+F;if(r!==this._x1||F!==this._y1){switch(this._point){case 0:this._point=
1;this._line?this._context.lineTo(r,F):this._context.moveTo(r,F);break;case 1:this._point=2;break;case 2:this._point=3;g(this,Q(this,ia=M(this,r,F)),ia);break;default:g(this,this._t0,ia=M(this,r,F))}this._x0=this._x1;this._x1=r;this._y0=this._y1;this._y1=F;this._t0=ia}}};(m.prototype=Object.create(u.prototype)).point=function(r,F){u.prototype.point.call(this,F,r)};C.prototype={moveTo:function(r,F){this._context.moveTo(F,r)},closePath:function(){this._context.closePath()},lineTo:function(r,F){this._context.lineTo(F,
r)},bezierCurveTo:function(r,F,ia,l,z,ca){this._context.bezierCurveTo(F,r,l,ia,ca,z)}};B.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var r=this._x,F=this._y,ia=r.length;if(ia)if(this._line?this._context.lineTo(r[0],F[0]):this._context.moveTo(r[0],F[0]),2===ia)this._context.lineTo(r[1],F[1]);else for(var l=A(r),z=A(F),ca=0,ma=1;ma<ia;++ca,++ma)this._context.bezierCurveTo(l[0][ca],z[0][ca],l[1][ca],z[1][ca],
r[ma],F[ma]);(this._line||0!==this._line&&1===ia)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(r,F){this._x.push(+r);this._y.push(+F)}};E.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&
(this._t=1-this._t,this._line=1-this._line)},point:function(r,F){r=+r;F=+F;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(r,F):this._context.moveTo(r,F);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,F),this._context.lineTo(r,F);else{var ia=this._x*(1-this._t)+r*this._t;this._context.lineTo(ia,this._y);this._context.lineTo(ia,F)}}this._x=r;this._y=F}};const Ke={basis:{curve:function(r){return new xb(r)}},"basis-closed":{curve:function(r){return new sb(r)}},
"basis-open":{curve:function(r){return new Qb(r)}},bundle:{curve:yd,tension:"beta",value:.85},cardinal:{curve:Ae,tension:"tension",value:0},"cardinal-open":{curve:he,tension:"tension",value:0},"cardinal-closed":{curve:Ld,tension:"tension",value:0},"catmull-rom":{curve:He,tension:"alpha",value:.5},"catmull-rom-closed":{curve:lf,tension:"alpha",value:.5},"catmull-rom-open":{curve:vf,tension:"alpha",value:.5},linear:{curve:pb},"linear-closed":{curve:function(r){return new q(r)}},monotone:{horizontal:function(r){return new m(r)},
vertical:function(r){return new u(r)}},natural:{curve:function(r){return new B(r)}},step:{curve:function(r){return new E(r,.5)}},"step-after":{curve:function(r){return new E(r,1)}},"step-before":{curve:function(r){return new E(r,0)}}},ne={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},Df=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,If=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,jf=/^((\s+,?\s*)|(,\s*))/,ag=/^[01]/,Yd=Math.PI/180,ff=Math.PI/2,mf=2*Math.PI,af=Math.sqrt(3)/2;var Hf={},Jf={},zf=
[].join;const Af=["l",0,0,0,0,0,0,0],Eg={circle:{draw:function(r,F){F=Math.sqrt(F)/2;r.moveTo(F,0);r.arc(0,0,F,0,mf)}},cross:{draw:function(r,F){F=Math.sqrt(F)/2;var ia=F/2.5;r.moveTo(-F,-ia);r.lineTo(-F,ia);r.lineTo(-ia,ia);r.lineTo(-ia,F);r.lineTo(ia,F);r.lineTo(ia,ia);r.lineTo(F,ia);r.lineTo(F,-ia);r.lineTo(ia,-ia);r.lineTo(ia,-F);r.lineTo(-ia,-F);r.lineTo(-ia,-ia);r.closePath()}},diamond:{draw:function(r,F){F=Math.sqrt(F)/2;r.moveTo(-F,0);r.lineTo(0,-F);r.lineTo(F,0);r.lineTo(0,F);r.closePath()}},
square:{draw:function(r,F){F=Math.sqrt(F);var ia=-F/2;r.rect(ia,ia,F,F)}},arrow:{draw:function(r,F){F=Math.sqrt(F)/2;var ia=F/7,l=F/2.5,z=F/8;r.moveTo(-ia,F);r.lineTo(ia,F);r.lineTo(ia,-z);r.lineTo(l,-z);r.lineTo(0,-F);r.lineTo(-l,-z);r.lineTo(-ia,-z);r.closePath()}},wedge:{draw:function(r,F){var ia=Math.sqrt(F)/2;F=af*ia;var l=F-.5773502691896257*ia;ia/=4;r.moveTo(0,-F-l);r.lineTo(-ia,F-l);r.lineTo(ia,F-l);r.closePath()}},triangle:{draw:function(r,F){F=Math.sqrt(F)/2;var ia=af*F,l=ia-.5773502691896257*
F;r.moveTo(0,-ia-l);r.lineTo(-F,ia-l);r.lineTo(F,ia-l);r.closePath()}},"triangle-up":{draw:function(r,F){F=Math.sqrt(F)/2;var ia=af*F;r.moveTo(0,-ia);r.lineTo(-F,ia);r.lineTo(F,ia);r.closePath()}},"triangle-down":{draw:function(r,F){F=Math.sqrt(F)/2;var ia=af*F;r.moveTo(0,ia);r.lineTo(-F,-ia);r.lineTo(F,-ia);r.closePath()}},"triangle-right":{draw:function(r,F){F=Math.sqrt(F)/2;var ia=af*F;r.moveTo(ia,0);r.lineTo(-ia,-F);r.lineTo(-ia,F);r.closePath()}},"triangle-left":{draw:function(r,F){F=Math.sqrt(F)/
2;var ia=af*F;r.moveTo(-ia,0);r.lineTo(ia,-F);r.lineTo(ia,F);r.closePath()}},stroke:{draw:function(r,F){F=Math.sqrt(F)/2;r.moveTo(-F,0);r.lineTo(F,0)}}};var hg={};const xf=r=>r.x||0,Kf=r=>r.y||0,dg=r=>!1!==r.defined,ch=function(){function r(){var Jb,hc=+F.apply(this,arguments),Ub=+ia.apply(this,arguments),qd=ca.apply(this,arguments)-Kd,Zc=ma.apply(this,arguments)-Kd,Rd=qc(Zc-qd),ue=Zc>qd;Xa||(Xa=Jb=uc());if(Ub<hc){var xe=Ub;Ub=hc;hc=xe}if(1E-12<Ub)if(Rd>Ge-1E-12)Xa.moveTo(Ub*Kc(qd),Ub*$c(qd)),Xa.arc(0,
0,Ub,qd,Zc,!ue),1E-12<hc&&(Xa.moveTo(hc*Kc(Zc),hc*$c(Zc)),Xa.arc(0,0,hc,Zc,qd,ue));else{var ve=qd,Xe=Zc;xe=qd;var wf=Zc,Og=Rd,bf=Rd,Qe=Va.apply(this,arguments)/2,cg=1E-12<Qe&&(z?+z.apply(this,arguments):zd(hc*hc+Ub*Ub)),Ah=Hc(qc(Ub-hc)/2,+l.apply(this,arguments)),fg=Ah,sf=Ah;if(1E-12<cg){var of=jc(cg/hc*$c(Qe));Qe=jc(cg/Ub*$c(Qe));1E-12<(Og-=2*of)?(of*=ue?1:-1,xe+=of,wf-=of):(Og=0,xe=wf=(qd+Zc)/2);1E-12<(bf-=2*Qe)?(Qe*=ue?1:-1,ve+=Qe,Xe-=Qe):(bf=0,ve=Xe=(qd+Zc)/2)}qd=Ub*Kc(ve);Zc=Ub*$c(ve);of=hc*
Kc(wf);Qe=hc*$c(wf);if(1E-12<Ah){var Qf=Ub*Kc(Xe),Rf=Ub*$c(Xe),Mf=hc*Kc(xe),Zg=hc*$c(xe);if(Rd=Rd<Dd){var jg=Mf-qd;Rd=Zg-Zc;cg=of-Qf;var Bh=Qe-Rf,ng=Bh*jg-cg*Rd;1E-12>ng*ng?jg=void 0:(ng=(cg*(Zc-Rf)-Bh*(qd-Qf))/ng,jg=[qd+ng*jg,Zc+ng*Rd]);Rd=jg}Rd&&(fg=qd-jg[0],sf=Zc-jg[1],Rd=Qf-jg[0],cg=Rf-jg[1],fg=(fg*Rd+sf*cg)/(zd(fg*fg+sf*sf)*zd(Rd*Rd+cg*cg)),sf=1/$c((1<fg?0:-1>fg?Dd:Math.acos(fg))/2),jg=zd(jg[0]*jg[0]+jg[1]*jg[1]),fg=Hc(Ah,(hc-jg)/(sf-1)),sf=Hc(Ah,(Ub-jg)/(sf+1)))}1E-12<bf?1E-12<sf?(ve=Cb(Mf,
Zg,qd,Zc,Ub,sf,ue),Xe=Cb(Qf,Rf,of,Qe,Ub,sf,ue),Xa.moveTo(ve.cx+ve.x01,ve.cy+ve.y01),sf<Ah?Xa.arc(ve.cx,ve.cy,sf,rc(ve.y01,ve.x01),rc(Xe.y01,Xe.x01),!ue):(Xa.arc(ve.cx,ve.cy,sf,rc(ve.y01,ve.x01),rc(ve.y11,ve.x11),!ue),Xa.arc(0,0,Ub,rc(ve.cy+ve.y11,ve.cx+ve.x11),rc(Xe.cy+Xe.y11,Xe.cx+Xe.x11),!ue),Xa.arc(Xe.cx,Xe.cy,sf,rc(Xe.y11,Xe.x11),rc(Xe.y01,Xe.x01),!ue))):(Xa.moveTo(qd,Zc),Xa.arc(0,0,Ub,ve,Xe,!ue)):Xa.moveTo(qd,Zc);1E-12<hc&&1E-12<Og?1E-12<fg?(ve=Cb(of,Qe,Qf,Rf,hc,-fg,ue),Xe=Cb(qd,Zc,Mf,Zg,hc,
-fg,ue),Xa.lineTo(ve.cx+ve.x01,ve.cy+ve.y01),fg<Ah?Xa.arc(ve.cx,ve.cy,fg,rc(ve.y01,ve.x01),rc(Xe.y01,Xe.x01),!ue):(Xa.arc(ve.cx,ve.cy,fg,rc(ve.y01,ve.x01),rc(ve.y11,ve.x11),!ue),Xa.arc(0,0,hc,rc(ve.cy+ve.y11,ve.cx+ve.x11),rc(Xe.cy+Xe.y11,Xe.cx+Xe.x11),ue),Xa.arc(Xe.cx,Xe.cy,fg,rc(Xe.y11,Xe.x11),rc(Xe.y01,Xe.x01),!ue))):Xa.arc(0,0,hc,wf,xe,ue):Xa.lineTo(of,Qe)}else Xa.moveTo(0,0);Xa.closePath();if(Jb)return Xa=null,Jb+""||null}var F=Yb,ia=Ua,l=Bb(0),z=null,ca=ub,ma=Kb,Va=Lb,Xa=null;r.centroid=function(){var Jb=
(+F.apply(this,arguments)+ +ia.apply(this,arguments))/2,hc=(+ca.apply(this,arguments)+ +ma.apply(this,arguments))/2-Dd/2;return[Kc(hc)*Jb,$c(hc)*Jb]};r.innerRadius=function(Jb){return arguments.length?(F="function"===typeof Jb?Jb:Bb(+Jb),r):F};r.outerRadius=function(Jb){return arguments.length?(ia="function"===typeof Jb?Jb:Bb(+Jb),r):ia};r.cornerRadius=function(Jb){return arguments.length?(l="function"===typeof Jb?Jb:Bb(+Jb),r):l};r.padRadius=function(Jb){return arguments.length?(z=null==Jb?null:
"function"===typeof Jb?Jb:Bb(+Jb),r):z};r.startAngle=function(Jb){return arguments.length?(ca="function"===typeof Jb?Jb:Bb(+Jb),r):ca};r.endAngle=function(Jb){return arguments.length?(ma="function"===typeof Jb?Jb:Bb(+Jb),r):ma};r.padAngle=function(Jb){return arguments.length?(Va="function"===typeof Jb?Jb:Bb(+Jb),r):Va};r.context=function(Jb){return arguments.length?(Xa=null==Jb?null:Jb,r):Xa};return r}().startAngle(r=>r.startAngle||0).endAngle(r=>r.endAngle||0).padAngle(r=>r.padAngle||0).innerRadius(r=>
r.innerRadius||0).outerRadius(r=>r.outerRadius||0).cornerRadius(r=>r.cornerRadius||0),Ig=lb().x(xf).y1(Kf).y0(r=>(r.y||0)+(r.height||0)).defined(dg),Mg=lb().y(Kf).x1(xf).x0(r=>(r.x||0)+(r.width||0)).defined(dg),Ug=Ka().x(xf).y(Kf).defined(dg),qa=Ib().x(xf).y(Kf).width(r=>r.width||0).height(r=>r.height||0).cornerRadius(r=>sc(r.cornerRadiusTopLeft,r.cornerRadius)||0,r=>sc(r.cornerRadiusTopRight,r.cornerRadius)||0,r=>sc(r.cornerRadiusBottomRight,r.cornerRadius)||0,r=>sc(r.cornerRadiusBottomLeft,r.cornerRadius)||
0),bb=function(r,F){function ia(){let z;l||(l=z=uc());r.apply(this,arguments).draw(l,+F.apply(this,arguments));if(z)return l=null,z+""||null}let l=null;r="function"===typeof r?r:Bb(r||De);F="function"===typeof F?F:Bb(void 0===F?64:+F);ia.type=function(z){return arguments.length?(r="function"===typeof z?z:Bb(z),ia):r};ia.size=function(z){return arguments.length?(F="function"===typeof z?z:Bb(+z),ia):F};ia.context=function(z){return arguments.length?(l=null==z?null:z,ia):l};return ia}().type(r=>L(r.shape||
"circle")).size(r=>sc(r.size,64)),Rb=yc().x(xf).y(Kf).defined(dg).size(r=>r.size||1);var hd=1;Rc.prototype={clone(){return new Rc(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(r){return this.x1===r.x1&&this.y1===r.y1&&this.x2===r.x2&&this.y2===r.y2},set(r,F,ia,l){ia<r?(this.x2=
r,this.x1=ia):(this.x1=r,this.x2=ia);l<F?(this.y2=F,this.y1=l):(this.y1=F,this.y2=l);return this},add(r,F){r<this.x1&&(this.x1=r);F<this.y1&&(this.y1=F);r>this.x2&&(this.x2=r);F>this.y2&&(this.y2=F);return this},expand(r){this.x1-=r;this.y1-=r;this.x2+=r;this.y2+=r;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(r){this.x1*=r;this.y1*=r;this.x2*=r;this.y2*=r;return this},translate(r,F){this.x1+=r;
this.x2+=r;this.y1+=F;this.y2+=F;return this},rotate(r,F,ia){r=this.rotatedPoints(r,F,ia);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(r,F,ia){var {x1:l,y1:z,x2:ca,y2:ma}=this,Va=Math.cos(r);r=Math.sin(r);var Xa=F-F*Va+ia*r;F=ia-F*r-ia*Va;return[Va*l-r*z+Xa,r*l+Va*z+F,Va*l-r*ma+Xa,r*l+Va*ma+F,Va*ca-r*z+Xa,r*ca+Va*z+F,Va*ca-r*ma+Xa,r*ca+Va*ma+F]},union(r){r.x1<this.x1&&(this.x1=r.x1);r.y1<this.y1&&(this.y1=r.y1);r.x2>this.x2&&(this.x2=r.x2);r.y2>this.y2&&
(this.y2=r.y2);return this},intersect(r){r.x1>this.x1&&(this.x1=r.x1);r.y1>this.y1&&(this.y1=r.y1);r.x2<this.x2&&(this.x2=r.x2);r.y2<this.y2&&(this.y2=r.y2);return this},encloses(r){return r&&this.x1<=r.x1&&this.x2>=r.x2&&this.y1<=r.y1&&this.y2>=r.y2},alignsWith(r){return r&&(this.x1==r.x1||this.x2==r.x2||this.y1==r.y1||this.y2==r.y2)},intersects(r){return r&&!(this.x2<r.x1||this.x1>r.x2||this.y2<r.y1||this.y1>r.y2)},contains(r,F){return!(r<this.x1||r>this.x2||F<this.y1||F>this.y2)},width(){return this.x2-
this.x1},height(){return this.y2-this.y1}};k.inherits(Ma,Pd);Vb.prototype={pending(){return this._pending},sanitizeURL(r){const F=this;F._pending+=1;return F._loader.sanitize(r,{context:"href"}).then(ia=>{--F._pending;return ia}).catch(()=>{--F._pending;return null})},loadImage(r){const F=this,ia=P.image();F._pending+=1;return F._loader.sanitize(r,{context:"image"}).then(l=>{const z=l.href;if(!z||!ia)throw{url:z};const ca=new ia;l=k.hasOwnProperty(l,"crossOrigin")?l.crossOrigin:"anonymous";null!=
l&&(ca.crossOrigin=l);ca.onload=()=>{--F._pending};ca.onerror=()=>{--F._pending};ca.src=z;return ca}).catch(l=>{--F._pending;return{complete:!1,width:0,height:0,src:l&&l.url||""}})},ready(){const r=this;return new Promise(F=>{function ia(l){r.pending()?setTimeout(()=>{ia(!0)},10):F(l)}ia(!1)})}};const ld=mf-1E-8;let pe,Pe,qf,Gf,Ne,bg,Pf,Vf;const sg=(r,F)=>{r=Pe=r;F=qf=F;return pe.add(r,F)},tg=r=>pe.add(r,pe.y1),Rg=r=>pe.add(pe.x1,r),dh=(r,F)=>pe.add(Ne*r+Pf*F,bg*r+Vf*F),jh=(r,F)=>sg(Ne*r+Pf*F,bg*
r+Vf*F),Ee={beginPath(){},closePath(){},moveTo:jh,lineTo:jh,rect(r,F,ia,l){Gf?(dh(r+ia,F),dh(r+ia,F+l),dh(r,F+l),jh(r,F)):(pe.add(r+ia,F+l),sg(r,F))},quadraticCurveTo(r,F,ia,l){const z=bg*r+Vf*F,ca=Ne*ia+Pf*l;ia=bg*ia+Vf*l;gc(Pe,Ne*r+Pf*F,ca,tg);gc(qf,z,ia,Rg);sg(ca,ia)},bezierCurveTo(r,F,ia,l,z,ca){const ma=bg*r+Vf*F,Va=bg*ia+Vf*l,Xa=Ne*z+Pf*ca;z=bg*z+Vf*ca;cc(Pe,Ne*r+Pf*F,Ne*ia+Pf*l,Xa,tg);cc(qf,ma,Va,z,Rg);sg(Xa,z)},arc(r,F,ia,l,z,ca){l+=Gf;z+=Gf;Pe=ia*Math.cos(z)+r;qf=ia*Math.sin(z)+F;if(Math.abs(z-
l)>ld)pe.add(r-ia,F-ia),pe.add(r+ia,F+ia);else{const ma=Xa=>pe.add(ia*Math.cos(Xa)+r,ia*Math.sin(Xa)+F);let Va;ma(l);ma(z);if(z!==l)if(l%=mf,0>l&&(l+=mf),z%=mf,0>z&&(z+=mf),z<l&&(ca=!ca,Va=l,l=z,z=Va),ca)for(z-=mf,Va=l-l%ff,l=0;4>l&&Va>z;++l,Va-=ff)ma(Va);else for(Va=l-l%ff+ff,l=0;4>l&&Va<z;++l,Va+=ff)ma(Va)}}};var Je=(Je=P.canvas(1,1))?Je.getContext("2d"):null;const Lf=new Rc;var yf=[],nf=Td("arc",function(r,F){return ch.context(r)(F)}),Bf=Fd("area",function(r,F){const ia=F[0];return("horizontal"===
ia.orient?Mg:Ig).curve(H(ia.interpolate||"linear",ia.orient,ia.tension)).context(r)(F)},function(r,F){F="horizontal"===r[0].orient?F[1]:F[0];for(var ia="horizontal"===r[0].orient?"y":"x",l=r.length,z=Infinity,ca,ma;0<=--l;)!1!==r[l].defined&&(ma=Math.abs(r[l][ia]-F),ma<z&&(z=ma,ca=r[l]));return ca});const ug=ed(Ud),xg=ed(Ud,!1),ig=ed(Ud,!0);var Cf={type:"group",tag:"g",nested:!1,attr:function(r,F){r("transform",Qd(F.x||0,F.y||0))},bound:function(r,F){if(!F.clip&&F.items){const ia=F.items,l=ia.length;
for(let z=0;z<l;++z)r.union(ia[z].bounds)}(F.clip||F.width||F.height)&&!F.noBound&&r.add(0,0).add(F.width||0,F.height||0);qb(r,F);return r.translate(F.x||0,F.y||0)},draw:function(r,F,ia){Fb(F,l=>{const z=l.x||0,ca=l.y||0,ma=l.strokeForeground,Va=null==l.opacity?1:l.opacity;(l.stroke||l.fill)&&Va&&(Ud(r,l,z,ca),gb(r,l),l.fill&&ya(r,l,Va)&&r.fill(),l.stroke&&!ma&&Na(r,l,Va)&&r.stroke());r.save();r.translate(z,ca);l.clip&&Zd(r,l);ia&&ia.translate(-z,-ca);Fb(l,Xa=>{this.draw(r,Xa,ia)});ia&&ia.translate(z,
ca);r.restore();ma&&l.stroke&&Va&&(Ud(r,l,z,ca),gb(r,l),Na(r,l,Va)&&r.stroke())})},pick:function(r,F,ia,l,z,ca){if(F.bounds&&!F.bounds.contains(z,ca)||!F.items)return null;const ma=ia*r.pixelRatio,Va=l*r.pixelRatio;return nc(F,Xa=>{let Jb,hc;var Ub=Xa.bounds;if(!Ub||Ub.contains(z,ca)){Jb=Xa.x||0;hc=Xa.y||0;Ub=Jb+(Xa.width||0);var qd=hc+(Xa.height||0),Zc=Xa.clip;if(!Zc||!(z<Jb||z>Ub||ca<hc||ca>qd)){r.save();r.translate(Jb,hc);Jb=z-Jb;hc=ca-hc;if(Zc&&xc(Xa)&&!ig(r,Xa,ma,Va))return r.restore(),null;
qd=Xa.strokeForeground;if((Zc=!1!==F.interactive)&&qd&&Xa.stroke&&xg(r,Xa,ma,Va))return r.restore(),Xa;Ub=nc(Xa,Rd=>(!1!==Rd.interactive||"group"===Rd.marktype)&&Rd.bounds&&Rd.bounds.contains(Jb,hc)?this.pick(Rd,ia,l,Jb,hc):null);!Ub&&Zc&&(Xa.fill||!qd&&Xa.stroke)&&ug(r,Xa,ma,Va)&&(Ub=Xa);r.restore();return Ub||null}}})},isect:Md,content:function(r,F,ia){F=F.clip?Zb(ia,F,F):null;r("clip-path",F)},background:function(r,F){r("class","background");r("aria-hidden",!0);const ia=de(F);r("d",cd(null,F,ia,
ia))},foreground:function(r,F){r("class","foreground");r("aria-hidden",!0);if(F.strokeForeground){const ia=de(F);r("d",cd(null,F,ia,ia))}else r("d","")}},Sg={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},fh={type:"image",tag:"image",nested:!1,attr:function(r,F,ia){var l=Ve(F,ia);ia=Xd(F,l);const z=N(F,l),ca=(F.x||0)-la(F.align,ia),ma=(F.y||0)-za(F.baseline,z);l=!l.src&&l.toDataURL?l.toDataURL():l.src||"";r("href",l,Sg["xmlns:xlink"],"xlink:href");r("transform",
Qd(ca,ma));r("width",ia);r("height",z);r("preserveAspectRatio",!1===F.aspect?"none":"xMidYMid")},bound:function(r,F){var ia=F.image;const l=Xd(F,ia);ia=N(F,ia);const z=(F.x||0)-la(F.align,l);F=(F.y||0)-za(F.baseline,ia);return r.set(z,F,z+l,F+ia)},draw:function(r,F,ia){Fb(F,l=>{if(!ia||ia.intersects(l.bounds)){var z=Ve(l,this),ca=Xd(l,z),ma=N(l,z);if(0!==ca&&0!==ma){var Va=(l.x||0)-la(l.align,ca),Xa=(l.y||0)-za(l.baseline,ma),Jb;if(!1!==l.aspect){var hc=z.width/z.height;var Ub=l.width/l.height;hc===
hc&&Ub===Ub&&hc!==Ub&&(Ub<hc?(hc=ca/hc,Xa+=(ma-hc)/2,ma=hc):(hc*=ma,Va+=(ca-hc)/2,ca=hc))}if(z.complete||z.toDataURL)gb(r,l),r.globalAlpha=null!=(Jb=l.opacity)?Jb:1,r.imageSmoothingEnabled=!1!==l.smooth,r.drawImage(z,Va,Xa,ca,ma)}}})},pick:dd(),isect:k.truthy,get:Ve,xOffset:la,yOffset:za},lh=Fd("line",function(r,F){const ia=F[0];return Ug.curve(H(ia.interpolate||"linear",ia.orient,ia.tension)).context(r)(F)},function(r,F){for(var ia=Math.pow(r[0].strokeWidth||1,2),l=r.length,z,ca;0<=--l;)if(!1!==
r[l].defined&&(z=r[l].x-F[0],ca=r[l].y-F[1],z=z*z+ca*ca,z<ia))return r[l];return null}),yg={type:"path",tag:"path",nested:!1,attr:function(r,F){var ia=F.scaleY||1;1===(F.scaleX||1)&&1===ia||r("vector-effect","non-scaling-stroke");ia=Qd(F.x||0,F.y||0)+(F.angle?" rotate("+(F.angle+")"):"")+(F.scaleX||F.scaleY?" scale("+((F.scaleX||1)+","+(F.scaleY||1)+")"):"");r("transform",ia);r("d",F.path)},bound:function(r,F){return fb(Tb(r,F.angle),F)?r.set(0,0,0,0):qb(r,F,!0)},draw:ec(fb),pick:dd(ed(fb)),isect:zc(fb)},
vh={type:"rect",tag:"path",nested:!1,attr:function(r,F){r("d",cd(null,F))},bound:function(r,F){var ia,l;return qb(r.set(ia=F.x||0,l=F.y||0,ia+F.width||0,l+F.height||0),F)},draw:ec(Hb),pick:dd(ed(Hb)),isect:Md},uh={type:"rule",tag:"line",nested:!1,attr:function(r,F){r("transform",Qd(F.x||0,F.y||0));r("x2",null!=F.x2?F.x2-(F.x||0):0);r("y2",null!=F.y2?F.y2-(F.y||0):0)},bound:function(r,F){var ia,l;return qb(r.set(ia=F.x||0,l=F.y||0,null!=F.x2?F.x2:ia,null!=F.y2?F.y2:l),F)},draw:function(r,F,ia){Fb(F,
l=>{if(!ia||ia.intersects(l.bounds)){var z=null==l.opacity?1:l.opacity;z&&Xb(r,l,z)&&(gb(r,l),r.stroke())}})},pick:dd(function(r,F,ia,l){return r.isPointInStroke?Xb(r,F,1)&&r.isPointInStroke(ia,l):!1}),isect:ud},Kh=Td("shape",function(r,F){return(F.mark.shape||F.shape).context(r)(F)}),Yg=Td("symbol",function(r,F){return bb.context(r)(F)},Yc);const wh=k.lruCache();var Dh={height:Nc,measureWidth:Gc,estimateWidth:lc,width:lc,canvas:Bc};Bc(!0);const ri={left:"start",center:"middle",right:"end"},Vg=new Rc;
var mh={type:"text",tag:"text",nested:!1,attr:function(r,F){var ia=F.dx||0,l=(F.dy||0)+Ce(F),z=kf(F),ca=z.x1;z=z.y1;var ma=F.angle||0;r("text-anchor",ri[F.align]||"start");if(ma){if(F=Qd(ca,z)+" rotate("+(ma+")"),ia||l)F+=" "+Qd(ia,l)}else F=Qd(ca+ia,z+l);r("transform",F)},bound:hf,draw:function(r,F,ia){Fb(F,l=>{var z=null==l.opacity?1:l.opacity,ca;if(!(ia&&!ia.intersects(l.bounds)||0===z||0>=l.fontSize||null==l.text||0===l.text.length)){r.font=ae(l);r.textAlign=l.align||"left";var ma=kf(l);var Va=
ma.x1;ma=ma.y1;l.angle&&(r.save(),r.translate(Va,ma),r.rotate(l.angle*Yd),Va=ma=0);Va+=l.dx||0;ma+=(l.dy||0)+Ce(l);var Xa=Hd(l);gb(r,l);if(k.isArray(Xa)){var Jb=sd(l);for(ca=0;ca<Xa.length;++ca){var hc=Gd(l,Xa[ca]);l.fill&&ya(r,l,z)&&r.fillText(hc,Va,ma);l.stroke&&Na(r,l,z)&&r.strokeText(hc,Va,ma);ma+=Jb}}else hc=Gd(l,Xa),l.fill&&ya(r,l,z)&&r.fillText(hc,Va,ma),l.stroke&&Na(r,l,z)&&r.strokeText(hc,Va,ma);l.angle&&r.restore()}})},pick:dd(function(r,F,ia,l,z,ca){if(0>=F.fontSize)return!1;if(!F.angle)return!0;
ia=kf(F);r=ia.x1;ia=ia.y1;l=hf(Vg,F,1);var ma=-F.angle*Yd;F=Math.cos(ma);ma=Math.sin(ma);return l.contains(F*z-ma*ca+(r-F*r+ma*ia),ma*z+F*ca+(ia-ma*r-F*ia))}),isect:function(r,F){r=hf(Vg,r,2);return Ha(F,r[0],r[1],r[2],r[3])||Ha(F,r[0],r[1],r[4],r[5])||Ha(F,r[4],r[5],r[6],r[7])||Ha(F,r[2],r[3],r[6],r[7])}},si=Fd("trail",function(r,F){return Rb.context(r)(F)},function(r,F){for(var ia=r.length,l,z;0<=--ia;)if(!1!==r[ia].defined&&(l=r[ia].x-F[0],z=r[ia].y-F[1],z=l*l+z*z,l=r[ia].size||1,z<l*l))return r[ia];
return null}),Gg={arc:nf,area:Bf,group:Cf,image:fh,line:lh,path:yg,rect:vh,rule:uh,shape:Kh,symbol:Yg,text:mh,trail:si},Eh={mark:null};const Uh="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
cb.prototype={toJSON(r){return tf(this.root,r||0)},mark(r,F,ia){F=F||this.root.items[0];r=Ab(r,F);F.items[ia]=r;r.zindex&&(r.group.zdirty=!0);return r}};bc.prototype={initialize(r,F,ia){this._el=r;this._obj=ia||null;return this.origin(F)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(r){return arguments.length?(this._origin=r||[0,0],this):this._origin.slice()},scene(r){if(!arguments.length)return this._scene;this._scene=r;return this},on(){},off(){},_handlerIndex(r,
F,ia){for(let l=r?r.length:0;0<=--l;)if(r[l].type===F&&(!ia||r[l].handler===ia))return l;return-1},handlers(r){const F=this._handlers,ia=[];if(r)ia.push(...F[this.eventName(r)]);else for(const l in F)ia.push(...F[l]);return ia},eventName(r){const F=r.indexOf(".");return 0>F?r:r.slice(0,F)},handleHref(r,F,ia){this._loader.sanitize(ia,{context:"href"}).then(l=>{const z=new MouseEvent(r.type,r),ca=fc(null,"a");for(const ma in l)ca.setAttribute(ma,l[ma]);ca.dispatchEvent(z)}).catch(()=>{})},handleTooltip(r,
F,ia){if(F&&null!=F.tooltip){var l=this.canvas(),z=this._origin,ca=F&&F.mark,ma;if(ca&&(ma=Gg[ca.marktype]).tip){l=Ta(r,l);l[0]-=z[0];for(l[1]-=z[1];F=F.mark.group;)l[0]-=F.x||0,l[1]-=F.y||0;F=ma.tip(ca.items,l)}this._tooltip.call(this._obj,this,r,F,ia&&F&&F.tooltip||null)}},getItemBoundingClientRect(r){var F=this.canvas();if(F){var ia=F.getBoundingClientRect(),l=this._origin,z=r.bounds;F=z.width();var ca=z.height(),ma=z.x1+l[0]+ia.left;for(ia=z.y1+l[1]+ia.top;r.mark&&(r=r.mark.group);)ma+=r.x||0,
ia+=r.y||0;return{x:ma,y:ia,width:F,height:ca,left:ma,top:ia,right:ma+F,bottom:ia+ca}}}};Dc.prototype={initialize(r,F,ia,l,z){this._el=r;return this.resize(F,ia,l,z)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(r){if(0===arguments.length)return this._bgcolor;this._bgcolor=r;return this},resize(r,F,ia,l){this._width=r;this._height=F;this._origin=ia||[0,0];this._scale=l||1;return this},dirty(){},render(r){const F=this;F._call=function(){F._render(r)};F._call();
F._call=null;return F},_render(){},renderAsync(r){const F=this.render(r);return this._ready?this._ready.then(()=>F):Promise.resolve(F)},_load(r,F){var ia=this;r=ia._loader[r](F);if(!ia._ready){const l=ia._call;ia._ready=ia._loader.ready().then(z=>{z&&l();ia._ready=null})}return r},sanitizeURL(r){return this._load("sanitizeURL",r)},loadImage(r){return this._load("loadImage",r)}};k.inherits(Sc,bc,{initialize(r,F,ia){this._canvas=r&&Cc(r,"canvas");["click","mousedown","mousemove","mouseout","dragleave"].forEach(l=>
gd(this,l));return bc.prototype.initialize.call(this,r,F,ia)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(r){this.fire("mousewheel",r)},mousemove:Sa("mousemove","mouseover","mouseout"),dragover:Sa("dragover","dragenter","dragleave"),mouseout:eb("mouseout"),dragleave:eb("dragleave"),
mousedown(r){this._down=this._active;this.fire("mousedown",r)},click(r){this._down===this._active&&(this.fire("click",r),this._down=null)},touchstart(r){this._touch=this.pickEvent(r.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",r,!0)},touchmove(r){this.fire("touchmove",r,!0)},touchend(r){this.fire("touchend",r,!0);this._touch=null},fire(r,F,ia){ia=ia?this._touch:this._active;const l=this._handlers[r];F.vegaType=r;"click"===r&&ia&&ia.href?this.handleHref(F,
ia,ia.href):("mousemove"===r||"mouseout"===r)&&this.handleTooltip(F,ia,"mouseout"!==r);if(l)for(let z=0,ca=l.length;z<ca;++z)l[z].handler.call(this._obj,F,ia)},on(r,F){const ia=this.eventName(r),l=this._handlers;0>this._handlerIndex(l[ia],r,F)&&(gd(this,r),(l[ia]||(l[ia]=[])).push({type:r,handler:F}));return this},off(r,F){var ia=this.eventName(r);ia=this._handlers[ia];r=this._handlerIndex(ia,r,F);0<=r&&ia.splice(r,1);return this},pickEvent(r){r=Ta(r,this._canvas);const F=this._origin;return this.pick(this._scene,
r[0],r[1],r[0]-F[0],r[1]-F[1])},pick(r,F,ia,l,z){const ca=this.context();return Gg[r.marktype].pick.call(this,ca,r,F,ia,l,z)}});var Tg="undefined"!==typeof window?window.devicePixelRatio||1:1;const eh=Dc.prototype;k.inherits(oc,Dc,{initialize(r,F,ia,l,z,ca){this._options=ca||{};this._canvas=this._options.externalContext?null:P.canvas(1,1,this._options.type);r&&this._canvas&&(J(r,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks"));return eh.initialize.call(this,r,F,ia,l,z)},resize(r,
F,ia,l){eh.resize.call(this,r,F,ia,l);if(this._canvas){r=this._canvas;F=this._width;ia=this._height;l=this._origin;var z=this._scale,ca=this._options.context;const Va="undefined"!==typeof HTMLElement&&r instanceof HTMLElement&&null!=r.parentNode,Xa=r.getContext("2d");z=Va?Tg:z;r.width=F*z;r.height=ia*z;for(var ma in ca)Xa[ma]=ca[ma];Va&&1!==z&&(r.style.width=F+"px",r.style.height=ia+"px");Xa.pixelRatio=z;Xa.setTransform(z,0,0,z,z*l[0],z*l[1])}else(ma=this._options.externalContext)||k.error("CanvasRenderer is missing a valid canvas or context"),
ma.scale(this._scale,this._scale),ma.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(r){const F=this._tempb.clear().union(r.bounds);for(r=r.mark.group;r;)F.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(F)},_render(r){const F=this.context(),ia=this._origin,l=this._width,z=this._height,ca=this._dirty;var ma=(new Rc).set(0,0,l,z).translate(-ia[0],
-ia[1]);F.save();this._redraw||ca.empty()?ma=(this._redraw=!1,ma.expand(1)):(ma=ma.intersect(ca),ma.expand(1).round(),F.pixelRatio%1&&ma.scale(F.pixelRatio).round().scale(1/F.pixelRatio),ma.translate(-(ia[0]%1),-(ia[1]%1)),F.beginPath(),F.rect(ma.x1,ma.y1,ma.width(),ma.height()),F.clip());this.clear(-ia[0],-ia[1],l,z);this.draw(F,r,ma);F.restore();ca.clear();return this},draw(r,F,ia){const l=Gg[F.marktype];if(F.clip){var z=F.clip;r.save();k.isFunction(z)?(r.beginPath(),z(r),r.clip()):Zd(r,F.group)}l.draw.call(this,
r,F,ia);F.clip&&r.restore()},clear(r,F,ia,l){const z=this._options,ca=this.context();"pdf"===z.type||z.externalContext||ca.clearRect(r,F,ia,l);null!=this._bgcolor&&(ca.fillStyle=this._bgcolor,ca.fillRect(r,F,ia,l))}});const nh=(r,F)=>ia=>{let l=ia.target.__data__;l=Array.isArray(l)?l[0]:l;ia.vegaType=ia.type;F.call(r._obj,ia,l)};k.inherits(xd,bc,{initialize(r,F,ia){let l=this._svg;l&&(l.removeEventListener("click",this._hrefHandler),l.removeEventListener("mousemove",this._tooltipHandler),l.removeEventListener("mouseout",
this._tooltipHandler));if(this._svg=l=r&&Cc(r,"svg"))l.addEventListener("click",this._hrefHandler),l.addEventListener("mousemove",this._tooltipHandler),l.addEventListener("mouseout",this._tooltipHandler);return bc.prototype.initialize.call(this,r,F,ia)},canvas(){return this._svg},on(r,F){const ia=this.eventName(r),l=this._handlers;0>this._handlerIndex(l[ia],r,F)&&(r={type:r,handler:F,listener:nh(this,F)},(l[ia]||(l[ia]=[])).push(r),this._svg&&this._svg.addEventListener(ia,r.listener));return this},
off(r,F){const ia=this.eventName(r),l=this._handlers[ia];r=this._handlerIndex(l,r,F);0<=r&&(this._svg&&this._svg.removeEventListener(ia,l[r].listener),l.splice(r,1));return this}});const xh=(r,F,ia)=>({role:r,["aria-roledescription"]:F,["aria-label"]:ia||void 0}),Jg=k.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),Lh={axis:{desc:"axis",caption:function(r){var F=r.datum;const ia=r.orient,
l=F.title?jd(r):null;var z=r.context;F=z.scales[F.scale].value;z=z.dataflow.locale();const ca=F.type;return`${"left"===ia||"right"===ia?"Y":"X"}-axis`+(l?` titled '${l}'`:"")+` for a ${Gb.isDiscrete(ca)?"discrete":ca} scale`+` with ${Gb.domainCaption(z,F,r)}`}},legend:{desc:"legend",caption:function(r){var F=r.datum;const ia=F.title?jd(r):null,l=`${F.type||""} legend`.trim();var z=F.scales;F=Object.keys(z);var ca=r.context;z=ca.scales[z[F[0]]].value;ca=ca.dataflow.locale();return(l.length?l[0].toUpperCase()+
l.slice(1):l)+(ia?` titled '${ia}'`:"")+` for ${Od(F)}`+` with ${Gb.domainCaption(ca,z,r)}`}},"title-text":{desc:"title",caption:r=>`Title text '${k.array(r.text).join(" ")}'`},"title-subtitle":{desc:"subtitle",caption:r=>`Subtitle text '${k.array(r.text).join(" ")}'`}},yh={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},zh=r=>(r+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"),Ph=r=>be(Cd(),r)+"",Wh={fill:"fill",fillOpacity:"fill-opacity",
stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},ph={blend:"mix-blend-mode"},Fh={fill:"none","stroke-miterlimit":10},Wf=Sg.xmlns,Kg=Dc.prototype;k.inherits(ye,Dc,{initialize(r,F,ia,l,z){this._defs={};this._clearDefs();r&&(this._svg=$b(r,0,"svg",Wf),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/",
"xmlns",Wf),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",Sg["xmlns:xlink"]),this._svg.setAttribute("version",Sg.version),this._svg.setAttribute("class","marks"),J(r,1),this._root=$b(this._svg,0,"g",Wf),kd(this._root,Fh),J(this._svg,1));this.background(this._bgcolor);return Kg.initialize.call(this,r,F,ia,l,z)},background(r){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",r);return Kg.background.apply(this,arguments)},resize(r,F,ia,l){Kg.resize.call(this,
r,F,ia,l);this._svg&&(kd(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const r=this._svg,F=this._bgcolor;if(!r)return null;let ia;F&&(r.removeAttribute("style"),ia=$b(r,0,"rect",Wf),kd(ia,{width:this._width,height:this._height,fill:F}));const l=Ph(r);F&&(r.removeChild(ia),this._svg.style.setProperty("background-color",
F));return l},_render(r){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,r),J(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this},dirty(r){r.dirty!==this._dirtyID&&(r.dirty=this._dirtyID,this._dirty.push(r))},isDirty(r){return this._dirtyAll||!r._svg||!r._svg.ownerSVGElement||r.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const r=this._dirty;if(!r.length||!this._dirtyID)return!0;const F=++this._dirtyID;let ia;let l,z,ca,ma;ca=0;for(ma=r.length;ca<
ma;++ca){ia=r[ca];var Va=ia.mark;Va.marktype!==l&&(l=Va.marktype,z=Gg[l]);Va.zdirty&&Va.dirty!==F&&(this._dirtyAll=!1,Le(ia,F),Va.items.forEach(Xa=>{Xa.dirty=F}));Va.zdirty||(ia.exit?(z.nested&&Va.items.length?(Va=Va.items[0],Va._svg&&this._update(z,Va._svg,Va)):ia._svg&&(Va=ia._svg.parentNode)&&Va.removeChild(ia._svg),ia._svg=null):(ia=z.nested?Va.items[0]:ia,ia._update!==F&&(ia._svg&&ia._svg.ownerSVGElement?this._update(z,ia._svg,ia):(this._dirtyAll=!1,Le(ia,F)),ia._update=F)))}return!this._dirtyAll},
mark(r,F,ia){if(!this.isDirty(F))return F._svg;const l=this._svg,z=Gg[F.marktype];var ca=!1===F.interactive?"none":null;const ma="g"===z.tag,Va=ef(F,r,ia,"g",l);Va.setAttribute("class",fa(F));r=Uc(F);for(const hc in r)Fc(Va,hc,r[hc]);ma||Fc(Va,"pointer-events",ca);Fc(Va,"clip-path",F.clip?Zb(this,F,F.group):null);let Xa=null,Jb=0;ca=hc=>{const Ub=this.isDirty(hc),qd=ef(hc,Va,Xa,z.tag,l);Ub&&(this._update(z,qd,hc),ma&&Ye(this,qd,hc));Xa=qd;++Jb};z.nested?F.items.length&&ca(F.items[0]):Fb(F,ca);J(Va,
Jb);return Va},_update(r,F,ia){Xf=F;Ff=F.__values__;Lc(od,ia);r.attr(od,ia,this);const l=Mh[r.type];l&&l.call(this,r,F,ia);Xf&&this.style(Xf,ia)},style(r,F){if(null!=F){for(const ia in Wh){let l="font"===ia?Wd(F):F[ia];if(l===Ff[ia])continue;const z=Wh[ia];null==l?r.removeAttribute(z):(l&&l.gradient&&(l=ac(l,this._defs.gradient,Id())),r.setAttribute(z,l+""));Ff[ia]=l}for(const ia in ph)Ec(r,ph[ia],F[ia])}},defs(){const r=this._svg,F=this._defs;let ia=F.el;var l=0;for(var z in F.gradient){ia||(F.el=
ia=$b(r,1,"defs",Wf));var ca=void 0;let Xa,Jb;var ma=ia,Va=F.gradient[z];"radial"===Va.gradient?(ca=$b(ma,l++,"pattern",Wf),kd(ca,{id:"p_"+Va.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),ca=$b(ca,0,"rect",Wf),kd(ca,{width:1,height:1,fill:`url(${Id()}#${Va.id})`}),ma=$b(ma,l++,"radialGradient",Wf),kd(ma,{id:Va.id,fx:Va.x1,fy:Va.y1,fr:Va.r1,cx:Va.x2,cy:Va.y2,r:Va.r2})):(ma=$b(ma,l++,"linearGradient",Wf),kd(ma,{id:Va.id,x1:Va.x1,x2:Va.x2,y1:Va.y1,y2:Va.y2}));
Jb=0;for(Xa=Va.stops.length;Jb<Xa;++Jb)ca=$b(ma,Jb,"stop",Wf),ca.setAttribute("offset",Va.stops[Jb].offset),ca.setAttribute("stop-color",Va.stops[Jb].color);J(ma,Jb)}for(const Xa in F.clipping)ia||(F.el=ia=$b(r,1,"defs",Wf)),ma=ia,Va=F.clipping[Xa],z=l,ma=$b(ma,z,"clipPath",Wf),ma.setAttribute("id",Va.id),Va.path?(l=$b(ma,0,"path",Wf),l.setAttribute("d",Va.path)):(l=$b(ma,0,"rect",Wf),kd(l,{x:0,y:0,width:Va.width,height:Va.height})),J(ma,1),l=z+1;ia&&(0===l?(r.removeChild(ia),F.el=null):J(ia,l))},
_clearDefs(){const r=this._defs;r.gradient={};r.clipping={}}});let Xf=null,Ff=null;const Mh={group(r,F,ia){const l=Xf=F.childNodes[2];Ff=l.__values__;r.foreground(od,ia,this);Ff=F.__values__;Xf=F.childNodes[1];r.content(od,ia,this);F=Xf=F.childNodes[0];r.background(od,ia,this);r=!1===ia.mark.interactive?"none":null;r!==Ff.events&&(Fc(l,"pointer-events",r),Fc(F,"pointer-events",r),Ff.events=r);ia.strokeForeground&&ia.stroke?(r=ia.fill,Fc(l,"display",null),this.style(F,ia),Fc(F,"stroke",null),r&&(ia.fill=
null),Ff=l.__values__,this.style(l,ia),r&&(ia.fill=r),Xf=null):Fc(l,"display","none")},image(r,F,ia){!1===ia.smooth?(Ec(F,"image-rendering","optimizeSpeed"),Ec(F,"image-rendering","pixelated")):Ec(F,"image-rendering",null)},text(r,F,ia){r=Hd(ia);let l,z,ca;k.isArray(r)?(l=r.map(ma=>Gd(ia,ma)),r=l.join("\n"),r!==Ff.text&&(J(F,0),z=F.ownerDocument,ca=sd(ia),l.forEach((ma,Va)=>{const Xa=fc(z,"tspan",Wf);Xa.__data__=ia;Xa.textContent=ma;Va&&(Xa.setAttribute("x",0),Xa.setAttribute("dy",ca));F.appendChild(Xa)}),
Ff.text=r)):(l=Gd(ia,r),l!==Ff.text&&(F.textContent=l,Ff.text=l));Fc(F,"font-family",Wd(ia));Fc(F,"font-size",Nc(ia)+"px");Fc(F,"font-style",ia.fontStyle);Fc(F,"font-variant",ia.fontVariant);Fc(F,"font-weight",ia.fontWeight)}};k.inherits(Vd,Dc,{svg(){return this._text},_render(r){const F=Cd();F.open("svg",k.extend({},Sg,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const ia=this._bgcolor;ia&&"transparent"!==ia&&"none"!==
ia&&F.open("rect",{width:this._width,height:this._height,fill:ia}).close();F.open("g",Fh,{transform:"translate("+this._origin+")"});this.mark(F,r);F.close();this.defs(F);this._text=F.close()+"";return this},mark(r,F){const ia=Gg[F.marktype],l=ia.tag,z=[Lc,ia.attr];r.open("g",{"class":fa(F),"clip-path":F.clip?Zb(this,F,F.group):null},Uc(F),{"pointer-events":"g"!==l&&!1===F.interactive?"none":null});const ca=ma=>{const Va=this.href(ma);Va&&r.open("a",Va);r.open(l,this.attr(F,ma,z,"g"!==l?l:null));if("text"===
l){var Xa=Hd(ma);if(k.isArray(Xa)){var Jb={x:0,dy:sd(ma)};for(var hc=0;hc<Xa.length;++hc)r.open("tspan",hc?Jb:null).text(Gd(ma,Xa[hc])).close()}else r.text(Gd(ma,Xa))}else"g"===l&&(Xa=ma.strokeForeground,Jb=ma.fill,hc=ma.stroke,Xa&&hc&&(ma.stroke=null),r.open("path",this.attr(F,ma,ia.background,"bgrect")).close(),r.open("g",this.attr(F,ma,ia.content)),Fb(ma,Ub=>this.mark(r,Ub)),r.close(),Xa&&hc?(Jb&&(ma.fill=null),ma.stroke=hc,r.open("path",this.attr(F,ma,ia.foreground,"bgrect")).close(),Jb&&(ma.fill=
Jb)):r.open("path",this.attr(F,ma,ia.foreground,"bgfore")).close());r.close();Va&&r.close()};ia.nested?F.items&&F.items.length&&ca(F.items[0]):Fb(F,ca);return r.close()},href(r){const F=r.href;if(F){if(r=this._hrefs&&this._hrefs[F])return r;this.sanitizeURL(F).then(ia=>{ia["xlink:href"]=ia.href;ia.href=null;(this._hrefs||(this._hrefs={}))[F]=ia})}return null},attr(r,F,ia,l){const z={},ca=(ma,Va,Xa,Jb)=>{z[Jb||ma]=Va};Array.isArray(ia)?ia.forEach(ma=>ma(ca,F,this)):ia(ca,F,this);l&&ce(z,F,r,l,this._defs);
return z},defs(r){var F=this._defs.gradient;const ia=this._defs.clipping;if(0!==Object.keys(F).length+Object.keys(ia).length){r.open("defs");for(const z in F){var l=F[z];const ca=l.stops;"radial"===l.gradient?(r.open("pattern",{id:"p_"+z,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),r.open("rect",{width:"1",height:"1",fill:"url(#"+z+")"}).close(),r.close(),r.open("radialGradient",{id:z,fx:l.x1,fy:l.y1,fr:l.r1,cx:l.x2,cy:l.y2,r:l.r2})):r.open("linearGradient",
{id:z,x1:l.x1,x2:l.x2,y1:l.y1,y2:l.y2});for(l=0;l<ca.length;++l)r.open("stop",{offset:ca[l].offset,"stop-color":ca[l].color}).close();r.close()}for(const z in ia)F=ia[z],r.open("clipPath",{id:z}),F.path?r.open("path",{d:F.path}).close():r.open("rect",{x:0,y:0,width:F.width,height:F.height}).close(),r.close();r.close()}}});const eg={};eg.canvas=eg.png={renderer:oc,headless:oc,handler:Sc};eg.svg={renderer:ye,headless:Vd,handler:xd};eg.none={};const Yf=new Rc;v.Bounds=Rc;v.CanvasHandler=Sc;v.CanvasRenderer=
oc;v.Gradient=function(r,F){var ia=[],l;return l={gradient:"linear",x1:r?r[0]:0,y1:r?r[1]:0,x2:F?F[0]:1,y2:F?F[1]:0,stops:ia,stop:function(z,ca){ia.push({offset:z,color:ca});return l}}};v.GroupItem=Ma;v.Handler=bc;v.Item=Pd;v.Marks=Gg;v.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};v.Renderer=Dc;v.ResourceLoader=Vb;v.SVGHandler=xd;v.SVGRenderer=ye;v.SVGStringRenderer=Vd;v.Scenegraph=cb;v.boundClip=function(r){const F=r.clip;if(k.isFunction(F))F(Tb(Yf.clear()));else if(F)Yf.set(0,0,
r.group.width,r.group.height);else return;r.bounds.intersect(Yf)};v.boundContext=Tb;v.boundItem=df;v.boundMark=re;v.boundStroke=qb;v.domChild=$b;v.domClear=J;v.domCreate=fc;v.domFind=Cc;v.font=ae;v.fontFamily=Wd;v.fontSize=Nc;v.intersect=function(r,F,ia){const l=[];F=(new Rc).union(F);const z=r.marktype;return z?le(r,F,ia,l):"group"===z?O(r,F,ia,l):k.error("Intersect scene must be mark node or group item.")};v.intersectBoxLine=Ha;v.intersectPath=zc;v.intersectPoint=Yc;v.intersectRule=ud;v.lineHeight=
sd;v.markup=Cd;v.multiLineOffset=function(r){const F=Hd(r);return(k.isArray(F)?F.length-1:0)*sd(r)};v.path=uc;v.pathCurves=H;v.pathEqual=ka;v.pathParse=V;v.pathRectangle=Ib;v.pathRender=Y;v.pathSymbols=L;v.pathTrail=yc;v.point=Ta;v.renderModule=function(r,F){r=String(r||"").toLowerCase();return 1<arguments.length?(eg[r]=F,this):eg[r]};v.resetSVGClipId=function(){hd=1};v.resetSVGDefIds=function(){hd=1;Ja=0};v.sceneEqual=I;v.sceneFromJSON=U;v.scenePickVisit=nc;v.sceneToJSON=tf;v.sceneVisit=Fb;v.sceneZOrder=
kb;v.serializeXML=Ph;v.textMetrics=Dh;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[47]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(21),Db(44),Db(43)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega))})(this,function(v,k,P,ib){function Gb(g){const u=g||k.identity,m=[],C={};m.add=B=>{const A=u(B);C[A]||(C[A]=1,m.push(B));return m};m.remove=B=>{const A=u(B);C[A]&&(C[A]=0,B=m.indexOf(B),
0<=B&&m.splice(B,1));return m};return m}function ac(g,u){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield u(g)}catch(m){g.error(m)}})}function vc(g){g=g===Object(g)?g:{data:g};if(!g[Z]){var u=Fa++;g[Z]=u}return g}function Ac(g,u){for(const m in g)u[m]=g[m];return u}function uc(g){return g&&g.constructor===Bb}function Bb(){const g=[],u=[],m=[],C=[],B=[];let A=null,E=!1;return{constructor:Bb,insert(H){H=k.array(H);const V=H.length;for(let Aa=0;Aa<V;++Aa)g.push(H[Aa]);return this},
remove(H){const V=k.isFunction(H)?C:u;H=k.array(H);const Aa=H.length;for(let Y=0;Y<Aa;++Y)V.push(H[Y]);return this},modify(H,V,Aa){V={field:V,value:k.constant(Aa)};k.isFunction(H)?(V.filter=H,B.push(V)):(V.tuple=H,m.push(V));return this},encode(H,V){k.isFunction(H)?B.push({filter:H,field:V}):m.push({tuple:H,field:V});return this},clean(H){A=H;return this},reflow(){E=!0;return this},pulse(H,V){function Aa(Ca,Ya,Ib){Ib?Ca[Ya]=Ib(Ca):H.encode=Ya;E||(t[Ca[Z]]=Ca)}const Y={},t={};let L,va,La,Wa,$a,X;L=
0;for(va=V.length;L<va;++L)Y[V[L][Z]]=1;L=0;for(va=u.length;L<va;++L)$a=u[L],Y[$a[Z]]=-1;L=0;for(va=C.length;L<va;++L)Wa=C[L],V.forEach(Ca=>{Wa(Ca)&&(Y[Ca[Z]]=-1)});L=0;for(va=g.length;L<va;++L)$a=g[L],X=$a[Z],Y[X]?Y[X]=1:H.add.push(vc(g[L]));L=0;for(va=V.length;L<va;++L)$a=V[L],0>Y[$a[Z]]&&H.rem.push($a);L=0;for(va=m.length;L<va;++L)La=m[L],$a=La.tuple,Wa=La.field,X=Y[$a[Z]],0<X&&(Aa($a,Wa,La.value),H.modifies(Wa));L=0;for(va=B.length;L<va;++L)La=B[L],Wa=La.filter,V.forEach(Ca=>{Wa(Ca)&&0<Y[Ca[Z]]&&
Aa(Ca,La.field,La.value)}),H.modifies(La.field);if(E)H.mod=u.length||C.length?V.filter(Ca=>0<Y[Ca[Z]]):V.slice();else for(X in t)H.mod.push(t[X]);(A||null==A&&(u.length||C.length))&&H.clean(!0);return H}}}function jc(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function Yb(g,u,m,C){this.id=++Ga;this.value=g;this.qrank=this.rank=this.stamp=-1;this.flags=0;u&&(this._update=u);m&&this.parameters(m,C)}function Ua(g){return function(u){const m=this.flags;if(0===arguments.length)return!!(m&
g);this.flags=u?m|g:m&~g;return this}}function ub(g,u,m){this.id=++ba;this.value=null;m&&(this.receive=m);g&&(this._filter=g);u&&(this._apply=u)}function Kb(g,u,m){return new ub(g,u,m)}function Lb(g){let u;const m=new Promise(C=>u=C);m.requests=0;m.done=()=>{0===--m.requests&&(g._pending=null,u(g))};return g._pending=m}function Cb(g,u,m,C,B,A){const E=k.extend({},A,na);let H;k.isFunction(m)||(m=k.constant(m));void 0===C?B=V=>g.touch(m(V)):k.isFunction(C)?(H=new Yb(null,C,B,!1),B=V=>{H.evaluate(V);
V=m(V);const Aa=H.value;uc(Aa)?g.pulse(V,Aa,A):g.update(V,Aa,E)}):B=V=>g.update(m(V),C,E);u.apply(B)}function Pb(g,u,m,C,B,A){void 0===C?u.targets().add(m):(A=A||{},C=new Yb(null,ab(m,C),B,!1),C.modified(A.force),C.rank=u.rank,u.targets().add(C),m&&(C.skip(!0),C.value=m.value,C.targets().add(m),g.connect(m,[C])))}function ab(g,u){u=k.isFunction(u)?u:k.constant(u);return g?function(m,C){m=u(m,C);g.skip()||(g.skip(m!==this.value).value=m);return m}:u}function pb(g,u,m){this.dataflow=g;this.stamp=null==
u?-1:u;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=m||null}function Qa(g,u){const m=[];k.visitArray(g,u,C=>m.push(C));return m}function Da(g,u){const m={};g.visit(u,C=>{m[C[Z]]=1});return C=>m[C[Z]]?null:C}function Ka(g,u){return g?(m,C)=>g(m,C)&&u(m,C):u}function lb(g,u,m,C){const B=m.length;let A=0;this.dataflow=g;this.stamp=u;this.fields=null;this.encode=C||null;this.pulses=m;for(g=0;g<B;++g)if(C=m[g],C.stamp===u){if(C.fields){const E=this.fields||(this.fields={});for(const H in C.fields)E[H]=
1}C.changed(this.ADD)&&(A|=this.ADD);C.changed(this.REM)&&(A|=this.REM);C.changed(this.MOD)&&(A|=this.MOD)}this.changes=A}function mb(g){g.error("Dataflow already running. Use runAsync() to chain invocations.");return g}function Pa(g,u){if(u&&u.stamp===g.stamp)return u;g=g.fork();u&&u!==q&&(g.source=u.source);return g}function xb(g){let u=[];return{clear:()=>u=[],size:()=>u.length,peek:()=>u[0],push:m=>{u.push(m);return sb(u,0,u.length-1,g)},pop:()=>{var m=u.pop();let C;if(u.length){C=u[0];u[0]=m;
m=u;var B=0;const A=B,E=m.length,H=m[B];let V=(B<<1)+1,Aa;for(;V<E;)Aa=V+1,Aa<E&&0<=g(m[V],m[Aa])&&(V=Aa),m[B]=m[V],B=V,V=(B<<1)+1;m[B]=H;sb(m,A,B,g)}else C=m;return C}}}function sb(g,u,m,C){let B,A;const E=g[m];for(;m>u;)if(A=m-1>>1,B=g[A],0>C(E,B))g[m]=B,m=A;else break;return g[m]=E}function Qb(){this.logger(k.logger());this.logLevel(k.Error);this._rank=this._clock=0;this._locale=ib.defaultLocale();try{this._loader=P.loader()}catch(g){}this._touched=Gb(k.id);this._input={};this._pulse=null;this._heap=
xb((g,u)=>g.qrank-u.qrank);this._postrun=[]}function Wb(g){return function(){return this._log[g].apply(this,arguments)}}function ob(g,u){Yb.call(this,g,null,u)}function pa(g){g=g&&g.toLowerCase();return k.hasOwnProperty(Q,g)?Q[g]:null}const Z=Symbol("vega_id");let Fa=1;jc.prototype={set(g,u,m,C){const B=this[g],A=this["_:mod:_"];if(null!=u&&0<=u){if(B[u]!==m||C)B[u]=m,A[u+":"+g]=-1,A[g]=-1}else if(B!==m||C)this[g]=m,A[g]=k.isArray(m)?1+m.length:-1;return this},modified(g,u){const m=this["_:mod:_"];
if(!arguments.length){for(var C in m)if(m[C])return!0;return!1}if(k.isArray(g)){for(C=0;C<g.length;++C)if(m[g[C]])return!0;return!1}return null!=u&&0<=u?u+1<m[g]||!!m[u+":"+g]:!!m[g]},clear(){this["_:mod:_"]={};return this}};let Ga=0;const db=new jc;Yb.prototype={targets(){return this._targets||(this._targets=Gb(k.id))},set(g){return this.value!==g?(this.value=g,1):0},skip:Ua(1),modified:Ua(2),parameters(g,u,m){u=!1!==u;const C=this._argval=this._argval||new jc,B=this._argops=this._argops||[],A=[];
let E,H,V,Aa;const Y=(t,L,va)=>{va instanceof Yb?(va!==this&&(u&&va.targets().add(this),A.push(va)),B.push({op:va,name:t,index:L})):C.set(t,L,va)};for(E in g)if(H=g[E],"pulse"===E)k.array(H).forEach(t=>{t instanceof Yb?t!==this&&(t.targets().add(this),A.push(t)):k.error("Pulse parameters must be operator instances.")}),this.source=H;else if(k.isArray(H))for(C.set(E,-1,Array(V=H.length)),Aa=0;Aa<V;++Aa)Y(E,Aa,H[Aa]);else Y(E,-1,H);this.marshall().clear();m&&(B.initonly=!0);return A},marshall(g){const u=
this._argval||db,m=this._argops;let C,B,A,E;if(m){const H=m.length;for(B=0;B<H;++B)C=m[B],A=C.op,E=A.modified()&&A.stamp===g,u.set(C.name,C.index,A.value,E);if(m.initonly){for(B=0;B<H;++B)C=m[B],C.op.targets().remove(this);this._update=this._argops=null}}return u},detach(){const g=this._argops;let u,m;if(g)for(u=0,m=g.length;u<m;++u){var C=g[u];C=C.op;C._targets&&C._targets.remove(this)}this.source=this.pulse=null},evaluate(g){var u=this._update;if(u){const m=this.marshall(g.stamp);u=u.call(this,
m,g);m.clear();if(u!==this.value)this.value=u;else if(!this.modified())return g.StopPropagation}},run(g){if(g.stamp<this.stamp)return g.StopPropagation;let u;this.skip()?(this.skip(!1),u=0):u=this.evaluate(g);return this.pulse=u||g}};let ba=0;ub.prototype={_filter:k.truthy,_apply:k.identity,targets(){return this._targets||(this._targets=Gb(k.id))},consume(g){if(!arguments.length)return!!this._consume;this._consume=!!g;return this},receive(g){if(this._filter(g)){const u=this.value=this._apply(g),m=
this._targets,C=m?m.length:0;for(let B=0;B<C;++B)m[B].receive(u);this._consume&&(g.preventDefault(),g.stopPropagation())}},filter(g){g=Kb(g);this.targets().add(g);return g},apply(g){g=Kb(null,g);this.targets().add(g);return g},merge(){const g=Kb();this.targets().add(g);for(let u=0,m=arguments.length;u<m;++u)arguments[u].targets().add(g);return g},throttle(g){let u=-1;return this.filter(()=>{const m=Date.now();return m-u>g?(u=m,1):0})},debounce(g){const u=Kb();this.targets().add(Kb(null,null,k.debounce(g,
m=>{const C=m.dataflow;u.receive(m);C&&C.run&&C.run()})));return u},between(g,u){let m=!1;g.targets().add(Kb(null,null,()=>m=!0));u.targets().add(Kb(null,null,()=>m=!1));return this.filter(()=>m)},detach(){this._filter=k.truthy;this._targets=null}};const na={skip:!0},q={};pb.prototype={StopPropagation:q,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(g){return(new pb(this.dataflow)).init(this,g)},clone(){const g=this.fork(7);g.add=g.add.slice();g.rem=
g.rem.slice();g.mod=g.mod.slice();g.source&&(g.source=g.source.slice());return g.materialize(23)},addAll(){let g=this;g.source&&g.add!==g.rem&&(g.rem.length||g.source.length!==g.add.length)&&(g=(new pb(this.dataflow)).init(this),g.add=g.source,g.rem=[]);return g},init(g,u){this.stamp=g.stamp;this.encode=g.encode;!g.fields||u&64||(this.fields=g.fields);u&1?(this.addF=g.addF,this.add=g.add):(this.addF=null,this.add=[]);u&2?(this.remF=g.remF,this.rem=g.rem):(this.remF=null,this.rem=[]);u&4?(this.modF=
g.modF,this.mod=g.mod):(this.modF=null,this.mod=[]);u&32?this.source=this.srcF=null:(this.srcF=g.srcF,this.source=g.source,g.cleans&&(this.cleans=g.cleans));return this},runAfter(g){this.dataflow.runAfter(g)},changed(g){g=g||7;return g&1&&this.add.length||g&2&&this.rem.length||g&4&&this.mod.length},reflow(g){if(g)return this.fork(7).reflow();g=this.add.length;const u=this.source&&this.source.length;u&&u!==g&&(this.mod=this.source,g&&this.filter(4,Da(this,1)));return this},clean(g){return arguments.length?
(this.cleans=!!g,this):this.cleans},modifies(g){const u=this.fields||(this.fields={});k.isArray(g)?g.forEach(m=>u[m]=!0):u[g]=!0;return this},modified(g,u){const m=this.fields;return(u||this.mod.length)&&m?arguments.length?k.isArray(g)?g.some(C=>m[C]):m[g]:!!m:!1},filter(g,u){g&1&&(this.addF=Ka(this.addF,u));g&2&&(this.remF=Ka(this.remF,u));g&4&&(this.modF=Ka(this.modF,u));g&16&&(this.srcF=Ka(this.srcF,u));return this},materialize(g){g=g||7;g&1&&this.addF&&(this.add=Qa(this.add,this.addF),this.addF=
null);g&2&&this.remF&&(this.rem=Qa(this.rem,this.remF),this.remF=null);g&4&&this.modF&&(this.mod=Qa(this.mod,this.modF),this.modF=null);g&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(g,u){if(g&16)return k.visitArray(this.source,this.srcF,u),this;g&1&&k.visitArray(this.add,this.addF,u);g&2&&k.visitArray(this.rem,this.remF,u);g&4&&k.visitArray(this.mod,this.modF,u);const m=this.source;g&8&&m&&(g=this.add.length+this.mod.length,g!==m.length&&(g?k.visitArray(m,
Da(this,5),u):k.visitArray(m,this.srcF,u)));return this}};k.inherits(lb,pb,{fork(g){const u=(new pb(this.dataflow)).init(this,g&this.NO_FIELDS);void 0!==g&&(g&u.ADD&&this.visit(u.ADD,m=>u.add.push(m)),g&u.REM&&this.visit(u.REM,m=>u.rem.push(m)),g&u.MOD&&this.visit(u.MOD,m=>u.mod.push(m)));return u},changed(g){return this.changes&g},modified(g){const u=this.fields;return u&&this.changes&this.MOD?k.isArray(g)?g.some(m=>u[m]):u[g]:0},filter(){k.error("MultiPulse does not support filtering.")},materialize(){k.error("MultiPulse does not support materialization.")},
visit(g,u){const m=this.pulses,C=m.length;let B=0;if(g&this.SOURCE)for(;B<C;++B)m[B].visit(g,u);else for(;B<C;++B)m[B].stamp===this.stamp&&m[B].visit(g,u);return this}});const M={skip:!1,force:!1};Qb.prototype={stamp(){return this._clock},loader(g){return arguments.length?(this._loader=g,this):this._loader},locale(g){return arguments.length?(this._locale=g,this):this._locale},logger(g){return arguments.length?(this._log=g,this):this._log},error:Wb("error"),warn:Wb("warn"),info:Wb("info"),debug:Wb("debug"),
logLevel:Wb("level"),cleanThreshold:1E4,add:function(g,u,m,C){let B=1;g instanceof Yb||(g&&g.prototype instanceof Yb?g=new g:k.isFunction(g)?g=new Yb(null,g):(B=0,g=new Yb(g,u)));this.rank(g);B&&(C=m,m=u);m&&this.connect(g,g.parameters(m,C));this.touch(g);return g},connect:function(g,u){const m=g.rank,C=u.length;for(let B=0;B<C;++B)if(m<u[B].rank){this.rerank(g);break}},rank:function(g){g.rank=++this._rank},rerank:function(g){const u=[g];let m,C,B;for(;u.length;)if(this.rank(m=u.pop()),C=m._targets)for(B=
C.length;0<=--B;)u.push(m=C[B]),m===g&&k.error("Cycle detected in dataflow graph.")},pulse:function(g,u,m){this.touch(g,m||M);m=new pb(this,this._clock+(this._pulse?0:1));const C=g.pulse&&g.pulse.source||[];m.target=g;this._input[g.id]=u.pulse(m,C);return this},touch:function(g,u){u=u||M;this._pulse?this._enqueue(g):this._touched.add(g);u.skip&&g.skip(!0);return this},update:function(g,u,m){m=m||M;(g.set(u)||m.force)&&this.touch(g,m);return this},changeset:Bb,ingest:function(g,u,m){u=this.parse(u,
m);return this.pulse(g,this.changeset().insert(u))},parse:function(g,u){const m=this.locale();return P.read(g,u,m.timeParse,m.utcParse)},preload:function(g,u,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const B=C._pending||Lb(C);B.requests+=1;const A=yield C.request(u,m);C.pulse(g,C.changeset().remove(k.truthy).insert(A.data||[]));B.done();return A})},request:function(g,u){const m=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let C=0,B;try{B=
yield m.loader().load(g,{context:"dataflow",response:P.responseType(u&&u.type)});try{B=m.parse(B,u)}catch(A){C=-2,m.warn("Data ingestion failed",g,A)}}catch(A){C=-1,m.warn("Loading failed",g,A)}return{data:B,status:C}})},events:function(g,u,m,C){const B=this,A=Kb(m,C);m=function(E){E.dataflow=B;try{A.receive(E)}catch(H){B.error(H)}finally{B.run()}};g="string"===typeof g&&"undefined"!==typeof document?document.querySelectorAll(g):k.array(g);C=g.length;for(let E=0;E<C;++E)g[E].addEventListener(u,m);
return A},on:function(g,u,m,C,B){(g instanceof Yb?Pb:Cb)(this,g,u,m,C,B);return this},evaluate:function(g,u,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const B=[];if(C._pulse)return mb(C);C._pending&&(yield C._pending);u&&(yield ac(C,u));if(!C._touched.length)return C.debug("Dataflow invoked, but nothing to do."),C;var A=++C._clock;C._pulse=new pb(C,A,g);C._touched.forEach(Y=>C._enqueue(Y,!0));C._touched=Gb(k.id);var E=0;let H,V,Aa;try{for(;0<C._heap.size();)H=
C._heap.pop(),H.rank!==H.qrank?C._enqueue(H,!0):(V=H.run(C._getPulse(H,g)),V.then?V=yield V:V.async&&(B.push(V.async),V=q),V!==q&&H._targets&&H._targets.forEach(Y=>C._enqueue(Y)),++E)}catch(Y){C._heap.clear(),Aa=Y}C._input={};C._pulse=null;C.debug(`Pulse ${A}: ${E} operators`);Aa&&(C._postrun=[],C.error(Aa));if(C._postrun.length)for(A=C._postrun.sort((Y,t)=>t.priority-Y.priority),C._postrun=[],E=0;E<A.length;++E)yield ac(C,A[E].callback);m&&(yield ac(C,m));B.length&&Promise.all(B).then(Y=>C.runAsync(null,
()=>{Y.forEach(t=>{try{t(C)}catch(L){C.error(L)}})}));return C})},run:function(g,u,m){return this._pulse?mb(this):(this.evaluate(g,u,m),this)},runAsync:function(g,u,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;C._running;)yield C._running;const B=()=>C._running=null;(C._running=C.evaluate(g,u,m)).then(B,B);return C._running})},runAfter:function(g,u,m){if(this._pulse||u)this._postrun.push({priority:m||0,callback:g});else try{g(this)}catch(C){this.error(C)}},
_enqueue:function(g,u){const m=g.stamp<this._clock;m&&(g.stamp=this._clock);if(m||u)g.qrank=g.rank,this._heap.push(g)},_getPulse:function(g,u){const m=g.source,C=this._clock;return m&&k.isArray(m)?new lb(this,C,m.map(B=>B.pulse),u):this._input[g.id]||Pa(this._pulse,m&&m.pulse)}};k.inherits(ob,Yb,{run(g){if(g.stamp<this.stamp)return g.StopPropagation;let u;this.skip()?this.skip(!1):u=this.evaluate(g);u=u||g;u.then?u=u.then(m=>this.pulse=m):u!==g.StopPropagation&&(this.pulse=u);return u},evaluate(g){const u=
this.marshall(g.stamp);g=this.transform(u,g);u.clear();return g},transform(){}});const Q={};v.Dataflow=Qb;v.EventStream=ub;v.MultiPulse=lb;v.Operator=Yb;v.Parameters=jc;v.Pulse=pb;v.Transform=ob;v.UniqueList=Gb;v.asyncCallback=ac;v.changeset=Bb;v.definition=function(g){return(g=pa(g))&&g.Definition||null};v.derive=function(g){return Ac(g,vc({}))};v.ingest=vc;v.isChangeSet=uc;v.isTuple=function(g){return!(!g||!g[Z])};v.rederive=Ac;v.replace=function(g,u){u[Z]=g[Z];return u};v.stableCompare=function(g,
u){return g?u?(m,C)=>g(m,C)||u(m)[Z]-u(C)[Z]:(m,C)=>g(m,C)||m[Z]-C[Z]:null};v.transform=pa;v.transforms=Q;v.tupleid=function(g){return g[Z]};Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[48]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(46),Db(41),Db(47),Db(21)):"function"===typeof define&&define.amd?define(["exports","vega-scenegraph","vega-canvas","vega-dataflow","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,P,ib,Gb){function ac(ob,pa){const Z=ob.bitmap();(pa||[]).forEach(Fa=>Z.set(ob(Fa.boundary[0]),ob(Fa.boundary[3])));
return[Z,void 0]}function vc(ob,pa,Z,Fa,Ga){const db=ob.width,ba=ob.height;Fa=Fa||Ga;const na=P.canvas(db,ba).getContext("2d");var q=P.canvas(db,ba).getContext("2d"),M=Fa&&P.canvas(db,ba).getContext("2d");Z.forEach(H=>Ac(na,H,!1));Ac(q,pa,!1);Fa&&Ac(M,pa,!0);pa=new Uint32Array(na.getImageData(0,0,db,ba).data.buffer);Z=new Uint32Array(q.getImageData(0,0,db,ba).data.buffer);M=Fa&&new Uint32Array(M.getImageData(0,0,db,ba).data.buffer);q=ob.bitmap();const Q=Fa&&ob.bitmap();let g,u;let m,C,B,A;for(u=0;u<
ba;++u)for(g=0;g<db;++g){var E=u*db+g;C=pa[E]&4278190080;A=Z[E]&4278190080;B=Fa&&M[E]&4278190080;if(C||B||A)E=ob(g),m=ob(u),Ga||!C&&!A||q.set(E,m),Fa&&(C||B)&&Q.set(E,m)}return[q,Q]}function Ac(ob,pa,Z){if(pa.length){var Fa=pa[0].mark.marktype;"group"===Fa?pa.forEach(Ga=>{Ga.items.forEach(db=>Ac(ob,db.items,Z))}):k.Marks[Fa].draw(ob,{items:Z?pa.map(uc):pa})}}function uc(ob){ob=ib.rederive(ob,{});return ob.stroke&&0!==ob.strokeOpacity||ob.fill&&0!==ob.fillOpacity?Object.assign({},ob,{strokeOpacity:1,
stroke:"#000",fillOpacity:0}):ob}function Bb(ob,pa){const Z=new Uint32Array(~~((ob*pa+32)/32));return{array:Z,get:(Fa,Ga)=>{Fa=Ga*ob+Fa;return Z[Fa>>>5]&1<<(Fa&31)},set:(Fa,Ga)=>{Fa=Ga*ob+Fa;Z[Fa>>>5]|=1<<(Fa&31)},clear:(Fa,Ga)=>{Fa=Ga*ob+Fa;Z[Fa>>>5]&=~(1<<(Fa&31))},getRange:(Fa,Ga,db,ba)=>{let na,q,M;for(;ba>=Ga;--ba){var Q=ba*ob+Fa;na=ba*ob+db;q=Q>>>5;M=na>>>5;if(q===M){if(Z[q]&Qa[Q&31]&Da[(na&31)+1])return!0}else{if(Z[q]&Qa[Q&31]||Z[M]&Da[(na&31)+1])return!0;for(Q=q+1;Q<M;++Q)if(Z[Q])return!0}}return!1},
setRange:(Fa,Ga,db,ba)=>{let na,q,M;for(;Ga<=ba;++Ga){var Q=Ga*ob+Fa;na=Ga*ob+db;q=Q>>>5;M=na>>>5;if(q===M)Z[q]|=Qa[Q&31]&Da[(na&31)+1];else for(Z[q]|=Qa[Q&31],Z[M]|=Da[(na&31)+1],Q=q+1;Q<M;++Q)Z[Q]|=4294967295}},clearRange:(Fa,Ga,db,ba)=>{let na,q,M;for(;Ga<=ba;++Ga){var Q=Ga*ob+Fa;na=Ga*ob+db;q=Q>>>5;M=na>>>5;if(q===M)Z[q]&=Da[Q&31]|Qa[(na&31)+1];else for(Z[q]&=Da[Q&31],Z[M]&=Qa[(na&31)+1],Q=q+1;Q<M;++Q)Z[Q]&=0}},outOfBounds:(Fa,Ga,db,ba)=>0>Fa||0>Ga||ba>=pa||db>=ob}}function jc(ob,pa,Z){const Fa=
Math.max(1,Math.sqrt(ob*pa/1E6)),Ga=~~((ob+2*Z+Fa)/Fa),db=~~((pa+2*Z+Fa)/Fa),ba=na=>~~((na+Z)/Fa);ba.invert=na=>na*Fa-Z;ba.bitmap=()=>Bb(Ga,db);ba.ratio=Fa;ba.padding=Z;ba.width=ob;ba.height=pa;return ba}function Yb(ob,pa,Z,Fa,Ga,db){Z/=2;return 0>ob-Z||ob+Z>Ga||0>pa-(Z=Fa/2)||pa+Z>db}function Ua(ob,pa,Z,Fa,Ga,db,ba,na){Ga=Ga*db/(2*Fa);Fa=ob(pa-Ga);pa=ob(pa+Ga);Ga=ob(Z-(db/=2));ob=ob(Z+db);return ba.outOfBounds(Fa,Ga,pa,ob)||ba.getRange(Fa,Ga,pa,ob)||na&&na.getRange(Fa,Ga,pa,ob)}function ub(ob,pa,
Z,Fa){const Ga=ob.width,db=ob.height,ba=pa[0],na=pa[1],q=Fa.length;return function(M){const Q=M.boundary,g=M.datum.fontSize;if(0>Q[2]||0>Q[5]||Q[0]>Ga||Q[3]>db)return!1;var u;let m=null!=(u=M.textWidth)?u:0,C;let B,A;let E;let H;let V,Aa;for(let sc=0;sc<q;++sc){u=(Z[sc]&3)-1;C=(Z[sc]>>>2&3)-1;var Y=0===u&&0===C||0>Fa[sc];var t=u&&C?Math.SQRT1_2:1;B=0>Fa[sc]?-1:1;A=Q[1+u]+Fa[sc]*u*t;H=Q[4+C]+B*g*C/2+Fa[sc]*C*t;t=H-g/2;E=H+g/2;var L=ob(A);V=ob(t);Aa=ob(E);if(!m){var va=L;var La=V;var Wa=Aa;var $a=ba,
X=na,Ca=Y;if($a.outOfBounds(va,La,L,Wa)||(Ca&&X||$a).getRange(va,La,L,Wa))continue;else m=k.textMetrics.width(M.datum,M.datum.text)}La=A+B*m*u/2;A=La-m/2;va=La+m/2;L=ob(A);Wa=ob(va);$a=L;X=Wa;Ca=V;var Ya=Aa,Ib=ba,yc=na;if(!Ib.outOfBounds($a,Ca,X,Ya)&&!(Y&&yc||Ib).getRange($a,Ca,X,Ya))return M.x=u?0>u*B?va:A:La,M.y=C?0>C*B?E:t:H,M.align=mb[u*B+1],M.baseline=Pa[C*B+1],ba.setRange(L,V,Wa,Aa),!0}return!1}}function Kb(ob,pa,Z,Fa,Ga,db,ba,na,q,M,Q){if(!ob.length)return ob;var g=Math.max(Fa.length,Ga.length);
const u=Lb(Fa,g);Ga=Cb(Ga,g);const m=Pb(ob[0].datum);var C="group"===m&&ob[0].datum.items[q].marktype;g="area"===C;const B=ab(m,C,na,q),A=null===M||Infinity===M;C=g&&"naive"===Q;let E=-1,H=-1;na=ob.map(Y=>{const t=A?k.textMetrics.width(Y,Y.text):void 0;E=Math.max(E,t);H=Math.max(H,Y.fontSize);return{datum:Y,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:B(Y),textWidth:t}});M=null===M||Infinity===M?Math.max(E,H)+Math.max(...Fa):M;pa=jc(pa[0],pa[1],M);if(!C){Z&&na.sort((Y,t)=>Z(Y.datum,
t.datum));var V=!1;for(Fa=0;Fa<Ga.length&&!V;++Fa)V=5===Ga[Fa]||0>u[Fa];ob=(m&&ba||g)&&ob.map(Y=>Y.datum);V=db.length||ob?vc(pa,ob||[],db,V,g):ac(pa,ba&&na)}const Aa=g?sb[Q](pa,V,ba,q):ub(pa,V,Ga,u);na.forEach(Y=>Y.opacity=+Aa(Y));return na}function Lb(ob,pa){const Z=new Float64Array(pa),Fa=ob.length;for(let Ga=0;Ga<Fa;++Ga)Z[Ga]=ob[Ga]||0;for(ob=Fa;ob<pa;++ob)Z[ob]=Z[Fa-1];return Z}function Cb(ob,pa){const Z=new Int8Array(pa),Fa=ob.length;for(let Ga=0;Ga<Fa;++Ga)Z[Ga]|=xb[ob[Ga]];for(ob=Fa;ob<pa;++ob)Z[ob]=
Z[Fa-1];return Z}function Pb(ob){return ob&&ob.mark&&ob.mark.marktype}function ab(ob,pa,Z,Fa){const Ga=db=>[db.x,db.x,db.x,db.y,db.y,db.y];return ob?"line"===ob||"area"===ob?db=>Ga(db.datum):"line"===pa?db=>{db=db.datum.items[Fa].items;return Ga(db.length?db["start"===Z?0:db.length-1]:{x:NaN,y:NaN})}:db=>{db=db.datum.bounds;return[db.x1,(db.x1+db.x2)/2,db.x2,db.y1,(db.y1+db.y2)/2,db.y2]}:Ga}function pb(ob){ib.Transform.call(this,null,ob)}const Qa=new Uint32Array(33),Da=new Uint32Array(33);Da[0]=0;
Qa[0]=~Da[0];for(let ob=1;32>=ob;++ob)Da[ob]=Da[ob-1]<<1|1,Qa[ob]=~Da[ob];const Ka=[-1,-1,1,1],lb=[-1,1,-1,1],mb=["right","center","left"],Pa=["bottom","middle","top"],xb={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},sb={naive:function(ob,pa,Z,Fa){const Ga=ob.width,db=ob.height;return function(ba){const na=ba.datum.datum.items[Fa].items,q=na.length,M=ba.datum.fontSize,Q=k.textMetrics.width(ba.datum,ba.datum.text);let g=0;let u,m,C,B,A;for(let H=
0;H<q;++H){var E=na[H].x;m=na[H].y;u=void 0===na[H].x2?E:na[H].x2;C=void 0===na[H].y2?m:na[H].y2;B=(E+u)/2;A=(m+C)/2;E=Math.abs(u-E+C-m);E>=g&&(g=E,ba.x=B,ba.y=A)}B=Q/2;A=M/2;E=ba.x-B;u=ba.x+B;m=ba.y-A;C=ba.y+A;ba.align="center";0>E&&u<=Ga?ba.align="left":0<=E&&Ga<u&&(ba.align="right");ba.baseline="middle";0>m&&C<=db?ba.baseline="top":0<=m&&db<C&&(ba.baseline="bottom");return!0}},"reduced-search":function(ob,pa,Z,Fa){function Ga(M,Q,g,u,m){M=ob.invert(M);Q=ob.invert(Q);let C=g,B=ba,A;if(!Yb(M,Q,u,
m,db,ba)&&!Ua(ob,M,Q,m,u,C,na,q)&&!Ua(ob,M,Q,m,u,m,na,null)){for(;1<=B-C;)A=(C+B)/2,Ua(ob,M,Q,m,u,A,na,q)?B=A:C=A;if(C>g)return[M,Q,C,!0]}}const db=ob.width,ba=ob.height,na=pa[0],q=pa[1];return function(M){const Q=M.datum.datum.items[Fa].items,g=Q.length,u=M.datum.fontSize,m=k.textMetrics.width(M.datum,M.datum.text);let C=Z?u:0,B=!1,A=!1,E=0;let H;let V;let Aa,Y,t,L,va,La,Wa,$a;for(let Ib=0;Ib<g;++Ib){var X=Q[Ib].x;var Ca=Q[Ib].y;H=void 0===Q[Ib].x2?X:Q[Ib].x2;V=void 0===Q[Ib].y2?Ca:Q[Ib].y2;if(X>
H){var Ya=X;X=H;H=Ya}Ca>V&&(Ya=Ca,Ca=V,V=Ya);Y=ob(X);L=ob(H);t=~~((Y+L)/2);va=ob(Ca);Wa=ob(V);La=~~((va+Wa)/2);for(Ya=t;Ya>=Y;--Ya)for(Aa=La;Aa>=va;--Aa)($a=Ga(Ya,Aa,C,m,u))&&([M.x,M.y,C,B]=$a);for(Ya=t;Ya<=L;++Ya)for(Aa=La;Aa<=Wa;++Aa)($a=Ga(Ya,Aa,C,m,u))&&([M.x,M.y,C,B]=$a);B||Z||(Ya=Math.abs(H-X+V-Ca),X=(X+H)/2,Ca=(Ca+V)/2,Ya>=E&&!Yb(X,Ca,m,u,db,ba)&&!Ua(ob,X,Ca,u,m,u,na,null)&&(E=Ya,M.x=X,M.y=Ca,A=!0))}return B||A?(X=m/2,Ca=u/2,na.setRange(ob(M.x-X),ob(M.y-Ca),ob(M.x+X),ob(M.y+Ca)),M.align="center",
M.baseline="middle",!0):!1}},floodfill:function(ob,pa,Z,Fa){const Ga=ob.width,db=ob.height,ba=pa[0],na=pa[1],q=ob.bitmap();return function(M){const Q=M.datum.datum.items[Fa].items,g=Q.length,u=M.datum.fontSize,m=k.textMetrics.width(M.datum,M.datum.text),C=[];let B=Z?u:0,A=!1,E=!1,H=0,V,Aa,Y,t,L,va;var La;for(let X=0;X<g;++X){V=Q[X].x;Y=Q[X].y;Aa=void 0===Q[X].x2?V:Q[X].x2;t=void 0===Q[X].y2?Y:Q[X].y2;for(C.push([ob((V+Aa)/2),ob((Y+t)/2)]);C.length;)if([Wa,$a]=C.pop(),!(ba.get(Wa,$a)||na.get(Wa,$a)||
q.get(Wa,$a))){q.set(Wa,$a);for(La=0;4>La;++La)L=Wa+Ka[La],va=$a+lb[La],q.outOfBounds(L,va,L,va)||C.push([L,va]);L=ob.invert(Wa);va=ob.invert($a);var Wa=B;var $a=db;if(!Yb(L,va,m,u,Ga,db)&&!Ua(ob,L,va,u,m,Wa,ba,na)&&!Ua(ob,L,va,u,m,u,ba,null)){for(;1<=$a-Wa;)La=(Wa+$a)/2,Ua(ob,L,va,u,m,La,ba,na)?$a=La:Wa=La;Wa>B&&(M.x=L,M.y=va,B=Wa,A=!0)}}A||Z||(Wa=Math.abs(Aa-V+t-Y),L=(V+Aa)/2,va=(Y+t)/2,Wa>=H&&!Yb(L,va,m,u,Ga,db)&&!Ua(ob,L,va,u,m,u,ba,null)&&(H=Wa,M.x=L,M.y=va,E=!0))}return A||E?(L=m/2,va=u/2,ba.setRange(ob(M.x-
L),ob(M.y-va),ob(M.x+L),ob(M.y+va)),M.align="center",M.baseline="middle",!0):!1}}},Qb=["x","y","opacity","align","baseline"],Wb="top-left left bottom-left top bottom top-right right bottom-right".split(" ");pb.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:Wb},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},
{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:Qb.length,default:Qb}]};Gb.inherits(pb,ib.Transform,{transform(ob,pa){function Z(db){db=ob[db];return Gb.isFunction(db)&&pa.modified(db.fields)}const Fa=ob.modified();if(Fa||pa.changed(pa.ADD_REM)||Z("sort")){ob.size&&
2===ob.size.length||Gb.error("Size parameter should be specified as a [width, height] array.");var Ga=ob.as||Qb;Kb(pa.materialize(pa.SOURCE).source||[],ob.size,ob.sort,Gb.array(null==ob.offset?1:ob.offset),Gb.array(ob.anchor||Wb),ob.avoidMarks||[],!1!==ob.avoidBaseMark,ob.lineAnchor||"end",ob.markIndex||0,void 0===ob.padding?0:ob.padding,ob.method||"naive").forEach(db=>{const ba=db.datum;ba[Ga[0]]=db.x;ba[Ga[1]]=db.y;ba[Ga[2]]=db.opacity;ba[Ga[3]]=db.align;ba[Ga[4]]=db.baseline});return pa.reflow(Fa).modifies(Ga)}}});
v.label=pb})};
shadow$provide[49]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(21)):"function"===typeof define&&define.amd?define(["exports","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega))})(this,function(v,k){function P(t){const L=k.array(t).slice(),va={};L.length||k.error("Missing time unit.");L.forEach(La=>{k.hasOwnProperty(Da,La)?va[La]=1:k.error(`Invalid time unit: ${La}.`)});1<(va.week||va.day?1:0)+(va.quarter||va.month||
va.date?1:0)+(va.dayofyear?1:0)&&k.error(`Incompatible time units: ${t}`);L.sort((La,Wa)=>Da[La]-Da[Wa]);return L}function ib(t,L,va,La){function Wa($a){return t($a=0===arguments.length?new Date:new Date(+$a)),$a}Wa.floor=function($a){return t($a=new Date(+$a)),$a};Wa.ceil=function($a){return t($a=new Date($a-1)),L($a,1),t($a),$a};Wa.round=function($a){var X=Wa($a),Ca=Wa.ceil($a);return $a-X<Ca-$a?X:Ca};Wa.offset=function($a,X){return L($a=new Date(+$a),null==X?1:Math.floor(X)),$a};Wa.range=function($a,
X,Ca){var Ya=[],Ib;$a=Wa.ceil($a);Ca=null==Ca?1:Math.floor(Ca);if(!($a<X&&0<Ca))return Ya;do Ya.push(Ib=new Date(+$a)),L($a,Ca),t($a);while(Ib<$a&&$a<X);return Ya};Wa.filter=function($a){return ib(function(X){if(X>=X)for(;t(X),!$a(X);)X.setTime(X-1)},function(X,Ca){if(X>=X)if(0>Ca)for(;0>=++Ca;)for(;L(X,-1),!$a(X););else for(;0<=--Ca;)for(;L(X,1),!$a(X););})};va&&(Wa.count=function($a,X){lb.setTime(+$a);mb.setTime(+X);t(lb);t(mb);return Math.floor(va(lb,mb))},Wa.every=function($a){$a=Math.floor($a);
return isFinite($a)&&0<$a?1<$a?Wa.filter(La?function(X){return 0===La(X)%$a}:function(X){return 0===Wa.count(0,X)%$a}):Wa:null});return Wa}function Gb(t){return ib(function(L){L.setDate(L.getDate()-(L.getDay()+7-t)%7);L.setHours(0,0,0,0)},function(L,va){L.setDate(L.getDate()+7*va)},function(L,va){return(va-L-6E4*(va.getTimezoneOffset()-L.getTimezoneOffset()))/6048E5})}function ac(t){return ib(function(L){L.setUTCDate(L.getUTCDate()-(L.getUTCDay()+7-t)%7);L.setUTCHours(0,0,0,0)},function(L,va){L.setUTCDate(L.getUTCDate()+
7*va)},function(L,va){return(va-L)/6048E5})}function vc(t,L){return null==t||null==L?NaN:t<L?-1:t>L?1:t>=L?0:NaN}function Ac(t){function L($a,X,Ca=0,Ya=$a.length){if(Ca<Ya){if(0!==La(X,X))return Ya;do{const Ib=Ca+Ya>>>1;0>Wa($a[Ib],X)?Ca=Ib+1:Ya=Ib}while(Ca<Ya)}return Ca}let va=t,La=t,Wa=t;2!==t.length&&(va=($a,X)=>t($a)-X,La=vc,Wa=($a,X)=>vc(t($a),X));return{left:L,center:function($a,X,Ca=0,Ya=$a.length){Ya=L($a,X,Ca,Ya-1);return Ya>Ca&&va($a[Ya-1],X)>-va($a[Ya],X)?Ya-1:Ya},right:function($a,X,Ca=
0,Ya=$a.length){if(Ca<Ya){if(0!==La(X,X))return Ya;do{const Ib=Ca+Ya>>>1;0>=Wa($a[Ib],X)?Ca=Ib+1:Ya=Ib}while(Ca<Ya)}return Ca}}}function uc(t,L,va){var La=Math.abs(L-t)/Math.max(0,va);va=Math.pow(10,Math.floor(Math.log(La)/Math.LN10));La/=va;La>=M?va*=10:La>=Q?va*=5:La>=g&&(va*=2);return L<t?-va:va}function Bb(t){u.setFullYear(t);u.setMonth(0);u.setDate(1);u.setHours(0,0,0,0);return u}function jc(t){return Wb.count(Bb(t.getFullYear())-1,t)}function Yb(t){return ob.count(Bb(t.getFullYear())-1,t)}function Ua(t,
L,va,La,Wa,$a,X){return 0<=t&&100>t?(L=new Date(-1,L,va,La,Wa,$a,X),L.setFullYear(t),L):new Date(t,L,va,La,Wa,$a,X)}function ub(t){const L=Date.UTC(t.getUTCFullYear(),0,1);return db.count(L-1,t)}function Kb(t){const L=Date.UTC(t.getUTCFullYear(),0,1);return ba.count(L-1,t)}function Lb(t){u.setTime(Date.UTC(t,0,1));return u.getUTCDay()}function Cb(t,L,va,La,Wa,$a,X){return 0<=t&&100>t?(t=new Date(Date.UTC(-1,L,va,La,Wa,$a,X)),t.setUTCFullYear(va.y),t):new Date(Date.UTC(t,L,va,La,Wa,$a,X))}function Pb(t,
L,va,La,Wa){const $a=L||1,X=k.peek(t);L=(Rc,Pd,Ma)=>{Ma=Ma||Rc;return ab(va[Ma],La[Ma],Rc===X&&$a,Pd)};const Ca=new Date;t=k.toSet(t);const Ya=t.year?L("year"):k.constant(2012),Ib=t.month?L("month"):t.quarter?L("quarter"):k.zero,yc=t.week&&t.day?L("day",1,"weekday"):t.week?L("week",1):t.day?L("day",1):t.date?L("date",1):t.dayofyear?L("dayofyear",1):k.one,sc=t.hours?L("hours"):k.zero,xc=t.minutes?L("minutes"):k.zero,cd=t.seconds?L("seconds"):k.zero,Zb=t.milliseconds?L("milliseconds"):k.zero;return function(Rc){Ca.setTime(+Rc);
Rc=Ya(Ca);return Wa(Rc,Ib(Ca),yc(Ca,Rc),sc(Ca),xc(Ca),cd(Ca),Zb(Ca))}}function ab(t,L,va,La){const Wa=1>=va?t:La?($a,X)=>La+va*Math.floor((t($a,X)-La)/va):($a,X)=>va*Math.floor(t($a,X)/va);return L?($a,X)=>L(Wa($a,X),X):Wa}function pb(t,L,va){return L+7*t-(va+6)%7}const Qa="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),Da=Qa.reduce((t,L,va)=>(t[L]=1+va,t),{}),Ka={year:"%Y ",quarter:"Q%q ",month:"%b ",date:"%d ",week:"W%U ",day:"%a ",dayofyear:"%j ",hours:"%H:00",
minutes:"00:%M",seconds:":%S",milliseconds:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"};var lb=new Date,mb=new Date,Pa=ib(function(){},function(t,L){t.setTime(+t+L)},function(t,L){return L-t});Pa.every=function(t){t=Math.floor(t);return isFinite(t)&&0<t?1<t?ib(function(L){L.setTime(Math.floor(L/t)*t)},function(L,va){L.setTime(+L+va*t)},function(L,va){return(va-L)/t}):Pa:null};var xb=ib(function(t){t.setTime(t-t.getMilliseconds())},function(t,L){t.setTime(+t+
1E3*L)},function(t,L){return(L-t)/1E3},function(t){return t.getUTCSeconds()}),sb=ib(function(t){t.setTime(t-t.getMilliseconds()-1E3*t.getSeconds())},function(t,L){t.setTime(+t+6E4*L)},function(t,L){return(L-t)/6E4},function(t){return t.getMinutes()}),Qb=ib(function(t){t.setTime(t-t.getMilliseconds()-1E3*t.getSeconds()-6E4*t.getMinutes())},function(t,L){t.setTime(+t+36E5*L)},function(t,L){return(L-t)/36E5},function(t){return t.getHours()}),Wb=ib(t=>t.setHours(0,0,0,0),(t,L)=>t.setDate(t.getDate()+
L),(t,L)=>(L-t-6E4*(L.getTimezoneOffset()-t.getTimezoneOffset()))/864E5,t=>t.getDate()-1),ob=Gb(0);Gb(1);Gb(2);Gb(3);Gb(4);Gb(5);Gb(6);var pa=ib(function(t){t.setDate(1);t.setHours(0,0,0,0)},function(t,L){t.setMonth(t.getMonth()+L)},function(t,L){return L.getMonth()-t.getMonth()+12*(L.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Z=ib(function(t){t.setMonth(0,1);t.setHours(0,0,0,0)},function(t,L){t.setFullYear(t.getFullYear()+L)},function(t,L){return L.getFullYear()-t.getFullYear()},
function(t){return t.getFullYear()});Z.every=function(t){return isFinite(t=Math.floor(t))&&0<t?ib(function(L){L.setFullYear(Math.floor(L.getFullYear()/t)*t);L.setMonth(0,1);L.setHours(0,0,0,0)},function(L,va){L.setFullYear(L.getFullYear()+va*t)}):null};var Fa=ib(function(t){t.setUTCSeconds(0,0)},function(t,L){t.setTime(+t+6E4*L)},function(t,L){return(L-t)/6E4},function(t){return t.getUTCMinutes()}),Ga=ib(function(t){t.setUTCMinutes(0,0,0)},function(t,L){t.setTime(+t+36E5*L)},function(t,L){return(L-
t)/36E5},function(t){return t.getUTCHours()}),db=ib(function(t){t.setUTCHours(0,0,0,0)},function(t,L){t.setUTCDate(t.getUTCDate()+L)},function(t,L){return(L-t)/864E5},function(t){return t.getUTCDate()-1}),ba=ac(0);ac(1);ac(2);ac(3);ac(4);ac(5);ac(6);var na=ib(function(t){t.setUTCDate(1);t.setUTCHours(0,0,0,0)},function(t,L){t.setUTCMonth(t.getUTCMonth()+L)},function(t,L){return L.getUTCMonth()-t.getUTCMonth()+12*(L.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),q=ib(function(t){t.setUTCMonth(0,
1);t.setUTCHours(0,0,0,0)},function(t,L){t.setUTCFullYear(t.getUTCFullYear()+L)},function(t,L){return L.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});q.every=function(t){return isFinite(t=Math.floor(t))&&0<t?ib(function(L){L.setUTCFullYear(Math.floor(L.getUTCFullYear()/t)*t);L.setUTCMonth(0,1);L.setUTCHours(0,0,0,0)},function(L,va){L.setUTCFullYear(L.getUTCFullYear()+va*t)}):null};var M=Math.sqrt(50),Q=Math.sqrt(10),g=Math.sqrt(2);const u=new Date,m={year:t=>t.getFullYear(),
quarter:t=>Math.floor(t.getMonth()/3),month:t=>t.getMonth(),date:t=>t.getDate(),hours:t=>t.getHours(),minutes:t=>t.getMinutes(),seconds:t=>t.getSeconds(),milliseconds:t=>t.getMilliseconds(),dayofyear:t=>jc(t),week:t=>Yb(t),weekday:(t,L)=>pb(Yb(t),t.getDay(),Bb(L).getDay()),day:(t,L)=>pb(1,t.getDay(),Bb(L).getDay())},C={quarter:t=>3*t,week:(t,L)=>pb(t,0,Bb(L).getDay())},B={year:t=>t.getUTCFullYear(),quarter:t=>Math.floor(t.getUTCMonth()/3),month:t=>t.getUTCMonth(),date:t=>t.getUTCDate(),hours:t=>t.getUTCHours(),
minutes:t=>t.getUTCMinutes(),seconds:t=>t.getUTCSeconds(),milliseconds:t=>t.getUTCMilliseconds(),dayofyear:t=>ub(t),week:t=>Kb(t),day:(t,L)=>pb(1,t.getUTCDay(),Lb(L)),weekday:(t,L)=>pb(Kb(t),t.getUTCDay(),Lb(L))},A={quarter:t=>3*t,week:(t,L)=>pb(t,0,Lb(L))},E={year:Z,quarter:pa.every(3),month:pa,week:ob,date:Wb,day:Wb,dayofyear:Wb,hours:Qb,minutes:sb,seconds:xb,milliseconds:Pa},H={year:q,quarter:na.every(3),month:na,week:ba,date:db,day:db,dayofyear:db,hours:Ga,minutes:Fa,seconds:xb,milliseconds:Pa},
V="year month date hours minutes seconds milliseconds".split(" ");xb=V.slice(0,-1);sb=xb.slice(0,-1);Qb=sb.slice(0,-1);pa=Qb.slice(0,-1);Z=["year","month"];const Aa=["year"],Y=[[xb,1,1E3],[xb,5,5E3],[xb,15,15E3],[xb,30,3E4],[sb,1,6E4],[sb,5,3E5],[sb,15,9E5],[sb,30,18E5],[Qb,1,36E5],[Qb,3,108E5],[Qb,6,216E5],[Qb,12,432E5],[pa,1,864E5],[["year","week"],1,6048E5],[Z,1,2592E6],[Z,3,7776E6],[Aa,1,31536E6]];v.DATE="date";v.DAY="day";v.DAYOFYEAR="dayofyear";v.HOURS="hours";v.MILLISECONDS="milliseconds";
v.MINUTES="minutes";v.MONTH="month";v.QUARTER="quarter";v.SECONDS="seconds";v.TIME_UNITS=Qa;v.WEEK="week";v.YEAR="year";v.dayofyear=function(t){return jc(new Date(t))};v.timeBin=function(t){var L=t.extent;t=t.maxbins||40;var va=Math.abs(k.span(L))/t;let La=Ac(Wa=>Wa[2]).right(Y,va);La===Y.length?(va=Aa,L=uc(L[0]/31536E6,L[1]/31536E6,t)):La?(La=Y[va/Y[La-1][2]<Y[La][2]/va?La-1:La],va=La[0],L=La[1]):(va=V,L=Math.max(uc(L[0],L[1],t),1));return{units:va,step:L}};v.timeFloor=function(t,L){return Pb(t,
L||1,m,C,Ua)};v.timeInterval=function(t){return E[t]};v.timeOffset=function(t,L,va){return(t=E[t])?t.offset(L,va):void 0};v.timeSequence=function(t,L,va,La){return(t=E[t])?t.range(L,va,La):void 0};v.timeUnitSpecifier=function(t,L){L=k.extend({},Ka,L);t=P(t);const va=t.length;let La="",Wa,$a,X;for(Wa=0;Wa<va;)for($a=t.length;$a>Wa;--$a)if(X=t.slice(Wa,$a).join("-"),null!=L[X]){La+=L[X];Wa=$a;break}return La.trim()};v.timeUnits=P;v.utcFloor=function(t,L){return Pb(t,L||1,B,A,Cb)};v.utcInterval=function(t){return H[t]};
v.utcOffset=function(t,L,va){return(t=H[t])?t.offset(L,va):void 0};v.utcSequence=function(t,L,va,La){return(t=H[t])?t.range(L,va,La):void 0};v.utcdayofyear=function(t){return ub(new Date(t))};v.utcweek=function(t){return Kb(new Date(t))};v.week=function(t){return Yb(new Date(t))};Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[50]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(49),Db(21)):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega))})(this,function(v,k,P){function ib(J){const fa={};return Ta=>fa[Ta]||(fa[Ta]=J(Ta))}function Gb(J,fa){if(0>(fa=(J=fa?J.toExponential(fa-1):J.toExponential()).indexOf("e")))return null;var Ta=J.slice(0,fa);return[1<
Ta.length?Ta[0]+Ta.slice(2):Ta,+J.slice(fa+1)]}function ac(J){return J=Gb(Math.abs(J)),J?J[1]:NaN}function vc(J,fa){return function(Ta,bc){for(var Pc=Ta.length,Dc=[],Sc=0,gd=J[0],ee=0;0<Pc&&0<gd;){ee+gd+1>bc&&(gd=Math.max(1,bc-ee));Dc.push(Ta.substring(Pc-=gd,Pc+gd));if((ee+=gd+1)>bc)break;gd=J[Sc=(Sc+1)%J.length]}return Dc.reverse().join(fa)}}function Ac(J){return function(fa){return fa.replace(/[0-9]/g,function(Ta){return J[+Ta]})}}function uc(J){if(!(fa=Ud.exec(J)))throw Error("invalid format: "+
J);var fa;return new Bb({fill:fa[1],align:fa[2],sign:fa[3],symbol:fa[4],zero:fa[5],width:fa[6],comma:fa[7],precision:fa[8]&&fa[8].slice(1),trim:fa[9],type:fa[10]})}function Bb(J){this.fill=void 0===J.fill?" ":J.fill+"";this.align=void 0===J.align?"\x3e":J.align+"";this.sign=void 0===J.sign?"-":J.sign+"";this.symbol=void 0===J.symbol?"":J.symbol+"";this.zero=!!J.zero;this.width=void 0===J.width?void 0:+J.width;this.comma=!!J.comma;this.precision=void 0===J.precision?void 0:+J.precision;this.trim=!!J.trim;
this.type=void 0===J.type?"":J.type+""}function jc(J,fa){fa=Gb(J,fa);if(!fa)return J+"";J=fa[0];fa=fa[1];return 0>fa?"0."+Array(-fa).join("0")+J:J.length>fa+1?J.slice(0,fa+1)+"."+J.slice(fa+1):J+Array(fa-J.length+2).join("0")}function Yb(J){return J}function Ua(J){function fa(eb){function oc(Ec){var kd=Le,Fc=Ye,Id,Vd;if("c"===ye)Fc=ef(Ec)+Fc,Ec="";else{Ec=+Ec;var ce=0>Ec||0>1/Ec;Ec=isNaN(Ec)?Sa:ef(Math.abs(Ec),Cd);if(be){var le=Ec.length,O=1,ea=-1;a:for(;O<le;++O)switch(Ec[O]){case ".":ea=Id=O;break;
case "0":0===ea&&(ea=O);Id=O;break;default:if(!+Ec[O])break a;0<ea&&(ea=0)}Ec=0<ea?Ec.slice(0,ea)+Ec.slice(Id+1):Ec}ce&&0===+Ec&&"+"!==Uc&&(ce=!1);kd=(ce?"("===Uc?Uc:ee:"-"===Uc||"("===Uc?"":Uc)+kd;Fc=("s"===ye?la[8+Ve/3]:"")+Fc+(ce&&"("===Uc?")":"");if(od)for(ce=-1,Id=Ec.length;++ce<Id;)if(Vd=Ec.charCodeAt(ce),48>Vd||57<Vd){Fc=(46===Vd?Dc+Ec.slice(ce+1):Ec.slice(ce))+Fc;Ec=Ec.slice(0,ce);break}}Od&&!td&&(Ec=Ta(Ec,Infinity));Vd=kd.length+Ec.length+Fc.length;ce=Vd<jd?Array(jd-Vd+1).join(xd):"";Od&&
td&&(Ec=Ta(ce+Ec,ce.length?jd-Fc.length:Infinity),ce="");switch(Lc){case "\x3c":Ec=kd+Ec+Fc+ce;break;case "\x3d":Ec=kd+ce+Ec+Fc;break;case "^":Ec=ce.slice(0,Vd=ce.length>>1)+kd+Ec+Fc+ce.slice(Vd);break;default:Ec=ce+kd+Ec+Fc}return Sc(Ec)}eb=uc(eb);var xd=eb.fill,Lc=eb.align,Uc=eb.sign,Qc=eb.symbol,td=eb.zero,jd=eb.width,Od=eb.comma,Cd=eb.precision,be=eb.trim,ye=eb.type;"n"===ye?(Od=!0,ye="g"):Xd[ye]||(void 0===Cd&&(Cd=12),be=!0,ye="g");if(td||"0"===xd&&"\x3d"===Lc)td=!0,xd="0",Lc="\x3d";var Le="$"===
Qc?bc:"#"===Qc&&/[boxX]/.test(ye)?"0"+ye.toLowerCase():"",Ye="$"===Qc?Pc:/[%p]/.test(ye)?gd:"",ef=Xd[ye],od=/[defgprs%]/.test(ye);Cd=void 0===Cd?6:/[gprs]/.test(ye)?Math.max(1,Math.min(21,Cd)):Math.max(0,Math.min(20,Cd));oc.toString=function(){return eb+""};return oc}var Ta=void 0===J.grouping||void 0===J.thousands?Yb:vc(N.call(J.grouping,Number),J.thousands+""),bc=void 0===J.currency?"":J.currency[0]+"",Pc=void 0===J.currency?"":J.currency[1]+"",Dc=void 0===J.decimal?".":J.decimal+"",Sc=void 0===
J.numerals?Yb:Ac(N.call(J.numerals,String)),gd=void 0===J.percent?"%":J.percent+"",ee=void 0===J.minus?"":J.minus+"",Sa=void 0===J.nan?"NaN":J.nan+"";return{format:fa,formatPrefix:function(eb,oc){var xd=fa((eb=uc(eb),eb.type="f",eb));eb=3*Math.max(-8,Math.min(8,Math.floor(ac(oc)/3)));var Lc=Math.pow(10,-eb),Uc=la[8+eb/3];return function(Qc){return xd(Lc*Qc)+Uc}}}}function ub(J,fa){return Ta=>{Ta=J(Ta);const bc=Ta.indexOf(fa);if(0>bc)return Ta;a:{var Pc=Ta.lastIndexOf("e");if(!(0<Pc)){for(Pc=Ta.length;--Pc>
bc;){var Dc=Ta.charCodeAt(Pc);if(48<=Dc&&57>=Dc){Pc+=1;break a}}Pc=void 0}}for(Dc=Pc<Ta.length?Ta.slice(Pc):"";--Pc>bc;)if("0"!==Ta[Pc]){++Pc;break}return Ta.slice(0,Pc)+Dc}}function Kb(J){const fa=ib(J.format),Ta=J.formatPrefix;return{format:fa,formatPrefix:Ta,formatFloat(bc){bc=uc(bc||",");if(null==bc.precision){bc.precision=12;switch(bc.type){case "%":bc.precision-=2;break;case "e":--bc.precision}return ub(fa(bc),fa(".1f")(1)[1])}return fa(bc)},formatSpan(bc,Pc,Dc,Sc){Sc=uc(null==Sc?",f":Sc);var gd=
Math.abs(Pc-bc)/Math.max(0,Dc);Dc=Math.pow(10,Math.floor(Math.log(gd)/Math.LN10));gd/=Dc;gd>=Fd?Dc*=10:gd>=Zd?Dc*=5:gd>=de&&(Dc*=2);Dc=Pc<bc?-Dc:Dc;bc=Math.max(Math.abs(bc),Math.abs(Pc));if(null==Sc.precision)switch(Sc.type){case "s":return Pc=isNaN,Dc=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ac(bc)/3)))-ac(Math.abs(Dc))),Pc(Pc=Dc)||(Sc.precision=Pc),Ta(Sc,bc);case "":case "e":case "g":case "p":case "r":Pc=isNaN;Dc=Math.abs(Dc);bc=Math.abs(bc)-Dc;bc=Math.max(0,ac(bc)-ac(Dc))+1;Pc(Pc=bc)||(Sc.precision=
Pc-("e"===Sc.type));break;case "f":case "%":isNaN(Pc=Math.max(0,-ac(Math.abs(Dc))))||(Sc.precision=Pc-2*("%"===Sc.type))}return fa(Sc)}}}function Lb(){return Xb=Kb({format:fb,formatPrefix:Hb})}function Cb(J){return Kb(Ua(J))}function Pb(J){return arguments.length?Xb=Cb(J):Xb}function ab(J,fa,Ta,bc){function Pc(Dc){return J(Dc=0===arguments.length?new Date:new Date(+Dc)),Dc}Pc.floor=function(Dc){return J(Dc=new Date(+Dc)),Dc};Pc.ceil=function(Dc){return J(Dc=new Date(Dc-1)),fa(Dc,1),J(Dc),Dc};Pc.round=
function(Dc){var Sc=Pc(Dc),gd=Pc.ceil(Dc);return Dc-Sc<gd-Dc?Sc:gd};Pc.offset=function(Dc,Sc){return fa(Dc=new Date(+Dc),null==Sc?1:Math.floor(Sc)),Dc};Pc.range=function(Dc,Sc,gd){var ee=[],Sa;Dc=Pc.ceil(Dc);gd=null==gd?1:Math.floor(gd);if(!(Dc<Sc&&0<gd))return ee;do ee.push(Sa=new Date(+Dc)),fa(Dc,gd),J(Dc);while(Sa<Dc&&Dc<Sc);return ee};Pc.filter=function(Dc){return ab(function(Sc){if(Sc>=Sc)for(;J(Sc),!Dc(Sc);)Sc.setTime(Sc-1)},function(Sc,gd){if(Sc>=Sc)if(0>gd)for(;0>=++gd;)for(;fa(Sc,-1),!Dc(Sc););
else for(;0<=--gd;)for(;fa(Sc,1),!Dc(Sc););})};Ta&&(Pc.count=function(Dc,Sc){Bc.setTime(+Dc);lc.setTime(+Sc);J(Bc);J(lc);return Math.floor(Ta(Bc,lc))},Pc.every=function(Dc){Dc=Math.floor(Dc);return isFinite(Dc)&&0<Dc?1<Dc?Pc.filter(bc?function(Sc){return 0===bc(Sc)%Dc}:function(Sc){return 0===Pc.count(0,Sc)%Dc}):Pc:null});return Pc}function pb(J){return ab(function(fa){fa.setDate(fa.getDate()-(fa.getDay()+7-J)%7);fa.setHours(0,0,0,0)},function(fa,Ta){fa.setDate(fa.getDate()+7*Ta)},function(fa,Ta){return(Ta-
fa-6E4*(Ta.getTimezoneOffset()-fa.getTimezoneOffset()))/6048E5})}function Qa(J){return ab(function(fa){fa.setUTCDate(fa.getUTCDate()-(fa.getUTCDay()+7-J)%7);fa.setUTCHours(0,0,0,0)},function(fa,Ta){fa.setUTCDate(fa.getUTCDate()+7*Ta)},function(fa,Ta){return(Ta-fa)/6048E5})}function Da(J){if(0<=J.y&&100>J.y){var fa=new Date(-1,J.m,J.d,J.H,J.M,J.S,J.L);fa.setFullYear(J.y);return fa}return new Date(J.y,J.m,J.d,J.H,J.M,J.S,J.L)}function Ka(J){if(0<=J.y&&100>J.y){var fa=new Date(Date.UTC(-1,J.m,J.d,J.H,
J.M,J.S,J.L));fa.setUTCFullYear(J.y);return fa}return new Date(Date.UTC(J.y,J.m,J.d,J.H,J.M,J.S,J.L))}function lb(J,fa,Ta){return{y:J,m:fa,d:Ta,H:0,M:0,S:0,L:0}}function mb(J){function fa(od,Ec){return function(kd){var Fc=[],Id=-1,Vd=0,ce=od.length,le,O;for(kd instanceof Date||(kd=new Date(+kd));++Id<ce;)if(37===od.charCodeAt(Id)){Fc.push(od.slice(Vd,Id));null!=(Vd=df[le=od.charAt(++Id)])?le=od.charAt(++Id):Vd="e"===le?" ":"0";if(O=Ec[le])le=O(kd,Vd);Fc.push(le);Vd=Id+1}Fc.push(od.slice(Vd,Id));return Fc.join("")}}
function Ta(od,Ec){return function(kd){var Fc=lb(1900,void 0,1);if(bc(Fc,od,kd+="",0)!=kd.length)return null;if("Q"in Fc)return new Date(Fc.Q);if("s"in Fc)return new Date(1E3*Fc.s+("L"in Fc?Fc.L:0));!Ec||"Z"in Fc||(Fc.Z=0);"p"in Fc&&(Fc.H=Fc.H%12+12*Fc.p);void 0===Fc.m&&(Fc.m="q"in Fc?Fc.q:0);if("V"in Fc){if(1>Fc.V||53<Fc.V)return null;"w"in Fc||(Fc.w=1);if("Z"in Fc){kd=Ka(lb(Fc.y,0,1));var Id=kd.getUTCDay();kd=4<Id||0===Id?ae.ceil(kd):ae(kd);kd=$d.offset(kd,7*(Fc.V-1));Fc.y=kd.getUTCFullYear();Fc.m=
kd.getUTCMonth();Fc.d=kd.getUTCDate()+(Fc.w+6)%7}else kd=Da(lb(Fc.y,0,1)),Id=kd.getDay(),kd=4<Id||0===Id?Nc.ceil(kd):Nc(kd),kd=Gc.offset(kd,7*(Fc.V-1)),Fc.y=kd.getFullYear(),Fc.m=kd.getMonth(),Fc.d=kd.getDate()+(Fc.w+6)%7}else if("W"in Fc||"U"in Fc)"w"in Fc||(Fc.w="u"in Fc?Fc.u%7:"W"in Fc?1:0),Id="Z"in Fc?Ka(lb(Fc.y,0,1)).getUTCDay():Da(lb(Fc.y,0,1)).getDay(),Fc.m=0,Fc.d="W"in Fc?(Fc.w+6)%7+7*Fc.W-(Id+5)%7:Fc.w+7*Fc.U-(Id+6)%7;return"Z"in Fc?(Fc.H+=Fc.Z/100|0,Fc.M+=Fc.Z%100,Ka(Fc)):Da(Fc)}}function bc(od,
Ec,kd,Fc){for(var Id=0,Vd=Ec.length,ce=kd.length,le;Id<Vd;){if(Fc>=ce)return-1;le=Ec.charCodeAt(Id++);if(37===le){if(le=Ec.charAt(Id++),le=ef[le in df?Ec.charAt(Id++):le],!le||0>(Fc=le(od,kd,Fc)))return-1}else if(le!=kd.charCodeAt(Fc++))return-1}return Fc}var Pc=J.dateTime,Dc=J.date,Sc=J.time,gd=J.periods,ee=J.days,Sa=J.shortDays,eb=J.months,oc=J.shortMonths,xd=sb(gd),Lc=Qb(gd),Uc=sb(ee),Qc=Qb(ee),td=sb(Sa),jd=Qb(Sa),Od=sb(eb),Cd=Qb(eb),be=sb(oc),ye=Qb(oc),Le={a:function(od){return Sa[od.getDay()]},
A:function(od){return ee[od.getDay()]},b:function(od){return oc[od.getMonth()]},B:function(od){return eb[od.getMonth()]},c:null,d:V,e:V,f:va,g:cd,G:Rc,H:Aa,I:Y,j:t,L,m:La,M:Wa,p:function(od){return gd[+(12<=od.getHours())]},q:function(od){return 1+~~(od.getMonth()/3)},Q:nc,s:ec,S:$a,u:X,U:Ca,V:Ib,w:yc,W:sc,x:null,X:null,y:xc,Y:Zb,Z:Pd,"%":Fb},Ye={a:function(od){return Sa[od.getUTCDay()]},A:function(od){return ee[od.getUTCDay()]},b:function(od){return oc[od.getUTCMonth()]},B:function(od){return eb[od.getUTCMonth()]},
c:null,d:Ma,e:Ma,f:cc,g:ya,G:Za,H:Vb,I:qb,j:Tb,L:gc,m:Ic,M:zc,p:function(od){return gd[+(12<=od.getUTCHours())]},q:function(od){return 1+~~(od.getUTCMonth()/3)},Q:nc,s:ec,S:Yc,u:Md,U:ud,V:gb,w:wb,W:sa,x:null,X:null,y:G,Y:Na,Z:kb,"%":Fb},ef={a:function(od,Ec,kd){return(Ec=td.exec(Ec.slice(kd)))?(od.w=jd.get(Ec[0].toLowerCase()),kd+Ec[0].length):-1},A:function(od,Ec,kd){return(Ec=Uc.exec(Ec.slice(kd)))?(od.w=Qc.get(Ec[0].toLowerCase()),kd+Ec[0].length):-1},b:function(od,Ec,kd){return(Ec=be.exec(Ec.slice(kd)))?
(od.m=ye.get(Ec[0].toLowerCase()),kd+Ec[0].length):-1},B:function(od,Ec,kd){return(Ec=Od.exec(Ec.slice(kd)))?(od.m=Cd.get(Ec[0].toLowerCase()),kd+Ec[0].length):-1},c:function(od,Ec,kd){return bc(od,Pc,Ec,kd)},d:M,e:M,f:B,g:db,G:Ga,H:g,I:g,j:Q,L:C,m:q,M:u,p:function(od,Ec,kd){return(Ec=xd.exec(Ec.slice(kd)))?(od.p=Lc.get(Ec[0].toLowerCase()),kd+Ec[0].length):-1},q:na,Q:E,s:H,S:m,u:ob,U:pa,V:Z,w:Wb,W:Fa,x:function(od,Ec,kd){return bc(od,Dc,Ec,kd)},X:function(od,Ec,kd){return bc(od,Sc,Ec,kd)},y:db,Y:Ga,
Z:ba,"%":A};Le.x=fa(Dc,Le);Le.X=fa(Sc,Le);Le.c=fa(Pc,Le);Ye.x=fa(Dc,Ye);Ye.X=fa(Sc,Ye);Ye.c=fa(Pc,Ye);return{format:function(od){var Ec=fa(od+="",Le);Ec.toString=function(){return od};return Ec},parse:function(od){var Ec=Ta(od+="",!1);Ec.toString=function(){return od};return Ec},utcFormat:function(od){var Ec=fa(od+="",Ye);Ec.toString=function(){return od};return Ec},utcParse:function(od){var Ec=Ta(od+="",!0);Ec.toString=function(){return od};return Ec}}}function Pa(J,fa,Ta){var bc=0>J?"-":"";J=(bc?
-J:J)+"";var Pc=J.length;return bc+(Pc<Ta?Array(Ta-Pc+1).join(fa)+J:J)}function xb(J){return J.replace(U,"\\$\x26")}function sb(J){return new RegExp("^(?:"+J.map(xb).join("|")+")","i")}function Qb(J){return new Map(J.map((fa,Ta)=>[fa.toLowerCase(),Ta]))}function Wb(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+1)))?(J.w=+fa[0],Ta+fa[0].length):-1}function ob(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+1)))?(J.u=+fa[0],Ta+fa[0].length):-1}function pa(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+2)))?(J.U=+fa[0],
Ta+fa[0].length):-1}function Z(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+2)))?(J.V=+fa[0],Ta+fa[0].length):-1}function Fa(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+2)))?(J.W=+fa[0],Ta+fa[0].length):-1}function Ga(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+4)))?(J.y=+fa[0],Ta+fa[0].length):-1}function db(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+2)))?(J.y=+fa[0]+(68<+fa[0]?1900:2E3),Ta+fa[0].length):-1}function ba(J,fa,Ta){return(fa=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(fa.slice(Ta,Ta+6)))?(J.Z=fa[1]?
0:-(fa[2]+(fa[3]||"00")),Ta+fa[0].length):-1}function na(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+1)))?(J.q=3*fa[0]-3,Ta+fa[0].length):-1}function q(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+2)))?(J.m=fa[0]-1,Ta+fa[0].length):-1}function M(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+2)))?(J.d=+fa[0],Ta+fa[0].length):-1}function Q(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+3)))?(J.m=0,J.d=+fa[0],Ta+fa[0].length):-1}function g(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+2)))?(J.H=+fa[0],Ta+fa[0].length):
-1}function u(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+2)))?(J.M=+fa[0],Ta+fa[0].length):-1}function m(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+2)))?(J.S=+fa[0],Ta+fa[0].length):-1}function C(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+3)))?(J.L=+fa[0],Ta+fa[0].length):-1}function B(J,fa,Ta){return(fa=re.exec(fa.slice(Ta,Ta+6)))?(J.L=Math.floor(fa[0]/1E3),Ta+fa[0].length):-1}function A(J,fa,Ta){return(J=tf.exec(fa.slice(Ta,Ta+1)))?Ta+J[0].length:-1}function E(J,fa,Ta){return(fa=re.exec(fa.slice(Ta)))?
(J.Q=+fa[0],Ta+fa[0].length):-1}function H(J,fa,Ta){return(fa=re.exec(fa.slice(Ta)))?(J.s=+fa[0],Ta+fa[0].length):-1}function V(J,fa){return Pa(J.getDate(),fa,2)}function Aa(J,fa){return Pa(J.getHours(),fa,2)}function Y(J,fa){return Pa(J.getHours()%12||12,fa,2)}function t(J,fa){return Pa(1+Gc.count(Gd(J),J),fa,3)}function L(J,fa){return Pa(J.getMilliseconds(),fa,3)}function va(J,fa){return L(J,fa)+"000"}function La(J,fa){return Pa(J.getMonth()+1,fa,2)}function Wa(J,fa){return Pa(J.getMinutes(),fa,
2)}function $a(J,fa){return Pa(J.getSeconds(),fa,2)}function X(J){J=J.getDay();return 0===J?7:J}function Ca(J,fa){return Pa(id.count(Gd(J)-1,J),fa,2)}function Ya(J){var fa=J.getDay();return 4<=fa||0===fa?sd(J):sd.ceil(J)}function Ib(J,fa){J=Ya(J);return Pa(sd.count(Gd(J),J)+(4===Gd(J).getDay()),fa,2)}function yc(J){return J.getDay()}function sc(J,fa){return Pa(Nc.count(Gd(J)-1,J),fa,2)}function xc(J,fa){return Pa(J.getFullYear()%100,fa,2)}function cd(J,fa){J=Ya(J);return Pa(J.getFullYear()%100,fa,
2)}function Zb(J,fa){return Pa(J.getFullYear()%1E4,fa,4)}function Rc(J,fa){var Ta=J.getDay();J=4<=Ta||0===Ta?sd(J):sd.ceil(J);return Pa(J.getFullYear()%1E4,fa,4)}function Pd(J){J=J.getTimezoneOffset();return(0<J?"-":(J*=-1,"+"))+Pa(J/60|0,"0",2)+Pa(J%60,"0",2)}function Ma(J,fa){return Pa(J.getUTCDate(),fa,2)}function Vb(J,fa){return Pa(J.getUTCHours(),fa,2)}function qb(J,fa){return Pa(J.getUTCHours()%12||12,fa,2)}function Tb(J,fa){return Pa(1+$d.count(hf(J),J),fa,3)}function gc(J,fa){return Pa(J.getUTCMilliseconds(),
fa,3)}function cc(J,fa){return gc(J,fa)+"000"}function Ic(J,fa){return Pa(J.getUTCMonth()+1,fa,2)}function zc(J,fa){return Pa(J.getUTCMinutes(),fa,2)}function Yc(J,fa){return Pa(J.getUTCSeconds(),fa,2)}function Md(J){J=J.getUTCDay();return 0===J?7:J}function ud(J,fa){return Pa(Wd.count(hf(J)-1,J),fa,2)}function Ha(J){var fa=J.getUTCDay();return 4<=fa||0===fa?Ce(J):Ce.ceil(J)}function gb(J,fa){J=Ha(J);return Pa(Ce.count(hf(J),J)+(4===hf(J).getUTCDay()),fa,2)}function wb(J){return J.getUTCDay()}function sa(J,
fa){return Pa(ae.count(hf(J)-1,J),fa,2)}function G(J,fa){return Pa(J.getUTCFullYear()%100,fa,2)}function ya(J,fa){J=Ha(J);return Pa(J.getUTCFullYear()%100,fa,2)}function Na(J,fa){return Pa(J.getUTCFullYear()%1E4,fa,4)}function Za(J,fa){var Ta=J.getUTCDay();J=4<=Ta||0===Ta?Ce(J):Ce.ceil(J);return Pa(J.getUTCFullYear()%1E4,fa,4)}function kb(){return"+0000"}function Fb(){return"%"}function nc(J){return+J}function ec(J){return Math.floor(+J/1E3)}function ic(J,fa,Ta){Ta=Ta||{};P.isObject(Ta)||P.error(`Invalid time multi-format specifier: ${Ta}`);
const bc=fa(k.SECONDS),Pc=fa(k.MINUTES),Dc=fa(k.HOURS),Sc=fa(k.DATE),gd=fa(k.WEEK),ee=fa(k.MONTH),Sa=fa(k.QUARTER),eb=fa(k.YEAR),oc=J(Ta[k.MILLISECONDS]||".%L"),xd=J(Ta[k.SECONDS]||":%S"),Lc=J(Ta[k.MINUTES]||"%I:%M"),Uc=J(Ta[k.HOURS]||"%I %p"),Qc=J(Ta[k.DATE]||Ta[k.DAY]||"%a %d"),td=J(Ta[k.WEEK]||"%b %d"),jd=J(Ta[k.MONTH]||"%B"),Od=J(Ta[k.QUARTER]||"%B"),Cd=J(Ta[k.YEAR]||"%Y");return be=>(bc(be)<be?oc:Pc(be)<be?xd:Dc(be)<be?Lc:Sc(be)<be?Uc:ee(be)<be?gd(be)<be?Qc:td:eb(be)<be?Sa(be)<be?jd:Od:Cd)(be)}
function Tc(J){const fa=ib(J.format),Ta=ib(J.utcFormat);return{timeFormat:bc=>P.isString(bc)?fa(bc):ic(fa,k.timeInterval,bc),utcFormat:bc=>P.isString(bc)?Ta(bc):ic(Ta,k.utcInterval,bc),timeParse:ib(J.parse),utcParse:ib(J.utcParse)}}function dd(){return $b=Tc({format:cb,parse:Ab,utcFormat:fc,utcParse:Cc})}function ed(J){return Tc(mb(J))}function Qd(J){return arguments.length?$b=ed(J):$b}function Td(J,fa){var Ta=arguments.length;Ta&&2!==Ta&&P.error("defaultLocale expects either zero or two arguments.");
if(Ta){Ta=Pb(J);var bc=Qd(fa);Ta=P.extend({},Ta,bc)}else Ta=Pb(),bc=Qd(),Ta=P.extend({},Ta,bc);return Ta}var Fd=Math.sqrt(50),Zd=Math.sqrt(10),de=Math.sqrt(2),Ud=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;uc.prototype=Bb.prototype;Bb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?
"~":"")+this.type};var Ve,Xd={"%":(J,fa)=>(100*J).toFixed(fa),b:J=>Math.round(J).toString(2),c:J=>J+"",d:function(J){return 1E21<=Math.abs(J=Math.round(J))?J.toLocaleString("en").replace(/,/g,""):J.toString(10)},e:(J,fa)=>J.toExponential(fa),f:(J,fa)=>J.toFixed(fa),g:(J,fa)=>J.toPrecision(fa),o:J=>Math.round(J).toString(8),p:(J,fa)=>jc(100*J,fa),r:jc,s:function(J,fa){var Ta=Gb(J,fa);if(!Ta)return J+"";var bc=Ta[0];Ta=Ta[1];Ta=Ta-(Ve=3*Math.max(-8,Math.min(8,Math.floor(Ta/3))))+1;var Pc=bc.length;
return Ta===Pc?bc:Ta>Pc?bc+Array(Ta-Pc+1).join("0"):0<Ta?bc.slice(0,Ta)+"."+bc.slice(Ta):"0."+Array(1-Ta).join("0")+Gb(J,Math.max(0,fa+Ta-1))[0]},X:J=>Math.round(J).toString(16).toUpperCase(),x:J=>Math.round(J).toString(16)},N=Array.prototype.map,la="y z a f p n  m  k M G T P E Z Y".split(" "),za,fb,Hb;(function(J){za=Ua(J);fb=za.format;Hb=za.formatPrefix;return za})({thousands:",",grouping:[3],currency:["$",""]});let Xb;Lb();var Bc=new Date,lc=new Date,Gc=ab(J=>J.setHours(0,0,0,0),(J,fa)=>J.setDate(J.getDate()+
fa),(J,fa)=>(fa-J-6E4*(fa.getTimezoneOffset()-J.getTimezoneOffset()))/864E5,J=>J.getDate()-1),id=pb(0),Nc=pb(1);pb(2);pb(3);var sd=pb(4);pb(5);pb(6);var Hd=ab(function(J){J.setMonth(0,1);J.setHours(0,0,0,0)},function(J,fa){J.setFullYear(J.getFullYear()+fa)},function(J,fa){return fa.getFullYear()-J.getFullYear()},function(J){return J.getFullYear()});Hd.every=function(J){return isFinite(J=Math.floor(J))&&0<J?ab(function(fa){fa.setFullYear(Math.floor(fa.getFullYear()/J)*J);fa.setMonth(0,1);fa.setHours(0,
0,0,0)},function(fa,Ta){fa.setFullYear(fa.getFullYear()+Ta*J)}):null};var Gd=Hd,$d=ab(function(J){J.setUTCHours(0,0,0,0)},function(J,fa){J.setUTCDate(J.getUTCDate()+fa)},function(J,fa){return(fa-J)/864E5},function(J){return J.getUTCDate()-1}),Wd=Qa(0),ae=Qa(1);Qa(2);Qa(3);var Ce=Qa(4);Qa(5);Qa(6);var kf=ab(function(J){J.setUTCMonth(0,1);J.setUTCHours(0,0,0,0)},function(J,fa){J.setUTCFullYear(J.getUTCFullYear()+fa)},function(J,fa){return fa.getUTCFullYear()-J.getUTCFullYear()},function(J){return J.getUTCFullYear()});
kf.every=function(J){return isFinite(J=Math.floor(J))&&0<J?ab(function(fa){fa.setUTCFullYear(Math.floor(fa.getUTCFullYear()/J)*J);fa.setUTCMonth(0,1);fa.setUTCHours(0,0,0,0)},function(fa,Ta){fa.setUTCFullYear(fa.getUTCFullYear()+Ta*J)}):null};var hf=kf,df={"-":"",_:" ",0:"0"},re=/^\s*\d+/,tf=/^%/,U=/[\\^$*+?|[\]().{}]/g,ua,cb,Ab,fc,Cc;(function(J){ua=mb(J);cb=ua.format;Ab=ua.parse;fc=ua.utcFormat;Cc=ua.utcParse;return ua})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],
days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});let $b;dd();v.defaultLocale=Td;v.locale=function(J,fa){J=J?Cb(J):Pb();fa=fa?ed(fa):Qd();return P.extend({},J,fa)};v.numberFormatDefaultLocale=Pb;v.numberFormatLocale=Cb;v.resetDefaultLocale=function(){Lb();
dd();return Td()};v.resetNumberFormatDefaultLocale=Lb;v.resetTimeFormatDefaultLocale=dd;v.timeFormatDefaultLocale=Qd;v.timeFormatLocale=ed;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[51]=function(dc,Db,Wc,nb){var v=Db(27).Buffer;(function(k,P){"object"===typeof nb&&"undefined"!==typeof Wc?P(nb,Db(21),Db(22),Db(50)):"function"===typeof define&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],P):(k="undefined"!==typeof globalThis?globalThis:k||self,P(k.vega={},k.vega,k.topojson,k.vega))})(this,function(k,P,ib,Gb){function ac(ba,na){const q=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const M=yield q.sanitize(ba,na),
Q=M.href;return M.localFile?q.file(Q):q.http(Q,na)})}function vc(ba,na){const q=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){na=P.extend({},q.options,na);const M=q.fileAccess,Q={href:null};var g;let u;var m=Pa.test(ba.replace(xb,""));null!=ba&&"string"===typeof ba&&m||P.error("Sanitize failure, invalid URI: "+P.stringValue(ba));m=mb.test(ba);(g=na.baseURL)&&!m&&(ba.startsWith("/")||g.endsWith("/")||(ba="/"+ba),ba=g+ba);u=(g=ba.startsWith("file://"))||"file"===na.mode||"http"!==
na.mode&&!m&&M;g?ba=ba.slice(7):ba.startsWith("//")&&("file"===na.defaultProtocol?(ba=ba.slice(2),u=!0):ba=(na.defaultProtocol||"http")+":"+ba);Object.defineProperty(Q,"localFile",{value:!!u});Q.href=ba;na.target&&(Q.target=na.target+"");na.rel&&(Q.rel=na.rel+"");"image"===na.context&&na.crossOrigin&&(Q.crossOrigin=na.crossOrigin+"");return Q})}function Ac(ba){return ba?na=>new Promise((q,M)=>{ba.readFile(na,(Q,g)=>{Q?M(Q):q(g)})}):uc}function uc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){P.error("No file system access.")})}
function Bb(ba){return ba?function(na,q){const M=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Q=P.extend({},M.options.http,q);const g=q&&q.response;Q=yield ba(na,Q);return Q.ok?P.isFunction(Q[g])?Q[g]():Q.text():P.error(Q.status+""+Q.statusText)})}:jc}function jc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){P.error("No HTTP fetch method available.")})}function Yb(ba,na){if(!ba||!ba.length)return"unknown";const q=ba.length,M=Wb.length,Q=Wb.map((g,u)=>
u+1);for(let g=0,u=0,m,C;g<q;++g)for(C=na?ba[g][na]:ba[g],m=0;m<M;++m)if(Q[m]&&null!=C&&C===C&&!Wb[m](C)&&(Q[m]=0,++u,u===Wb.length))return"string";return ob[Q.reduce((g,u)=>0===g?u:g,0)-1]}function Ua(ba,na){return na.reduce((q,M)=>{q[M]=Yb(ba,M);return q},{})}function ub(ba){return new Function("d","return {"+ba.map(function(na,q){return JSON.stringify(na)+": d["+q+'] || ""'}).join(",")+"}")}function Kb(ba,na){var q=ub(ba);return function(M,Q){return na(q(M),Q,ba)}}function Lb(ba){var na=Object.create(null),
q=[];ba.forEach(function(M){for(var Q in M)Q in na||q.push(na[Q]=Q)});return q}function Cb(ba,na){ba+="";var q=ba.length;return q<na?Array(na-q+1).join(0)+ba:ba}function Pb(ba){function na(m,C){function B(){if(Y)return Z;if(t)return t=!1,pa;var va,La=H,Wa;if(34===m.charCodeAt(La)){for(;H++<E&&34!==m.charCodeAt(H)||34===m.charCodeAt(++H););(va=H)>=E?Y=!0:10===(Wa=m.charCodeAt(H++))?t=!0:13===Wa&&(t=!0,10===m.charCodeAt(H)&&++H);return m.slice(La+1,va-1).replace(/""/g,'"')}for(;H<E;){if(10===(Wa=m.charCodeAt(va=
H++)))t=!0;else if(13===Wa)t=!0,10===m.charCodeAt(H)&&++H;else if(Wa!==u)continue;return m.slice(La,va)}return Y=!0,m.slice(La,E)}var A=[],E=m.length,H=0,V=0,Aa,Y=0>=E,t=!1;10===m.charCodeAt(E-1)&&--E;for(13===m.charCodeAt(E-1)&&--E;(Aa=B())!==Z;){for(var L=[];Aa!==pa&&Aa!==Z;)L.push(Aa),Aa=B();C&&null==(L=C(L,V++))||A.push(L)}return A}function q(m,C){return m.map(function(B){return C.map(function(A){return Q(B[A])}).join(ba)})}function M(m){return m.map(Q).join(ba)}function Q(m){if(null==m)m="";
else{if(m instanceof Date){var C=m.getUTCHours();var B=m.getUTCMinutes(),A=m.getUTCSeconds(),E=m.getUTCMilliseconds();if(isNaN(m))m="Invalid Date";else{var H=m.getUTCFullYear();m=(0>H?"-"+Cb(-H,6):9999<H?"+"+Cb(H,6):Cb(H,4))+"-"+Cb(m.getUTCMonth()+1,2)+"-"+Cb(m.getUTCDate(),2)+(E?"T"+Cb(C,2)+":"+Cb(B,2)+":"+Cb(A,2)+"."+Cb(E,3)+"Z":A?"T"+Cb(C,2)+":"+Cb(B,2)+":"+Cb(A,2)+"Z":B||C?"T"+Cb(C,2)+":"+Cb(B,2)+"Z":"")}C=m}else C=g.test(m+="")?'"'+m.replace(/"/g,'""')+'"':m;m=C}return m}var g=new RegExp('["'+
ba+"\n\r]"),u=ba.charCodeAt(0);return{parse:function(m,C){var B,A;m=na(m,function(E,H){if(B)return B(E,H-1);A=E;B=C?Kb(E,C):ub(E)});m.columns=A||[];return m},parseRows:na,format:function(m,C){null==C&&(C=Lb(m));return[C.map(Q).join(ba)].concat(q(m,C)).join("\n")},formatBody:function(m,C){null==C&&(C=Lb(m));return q(m,C).join("\n")},formatRows:function(m){return m.map(M).join("\n")},formatRow:M,formatValue:Q}}function ab(ba){const na=function(q,M){const Q={delimiter:ba};return pb(q,M?P.extend(M,Q):
Q)};na.responseType="text";return na}function pb(ba,na){na.header&&(ba=na.header.map(P.stringValue).join(na.delimiter)+"\n"+ba);return Pb(na.delimiter).parse(ba+"")}function Qa(ba,na){const q=na&&na.property?P.field(na.property):P.identity;var M;if(M=P.isObject(ba))M=!("function"===typeof v&&P.isFunction(v.isBuffer)&&v.isBuffer(ba));M?(ba=q(ba),!P.isArray(ba)&&P.isIterable(ba)&&(ba=[...ba]),na=na&&na.copy?JSON.parse(JSON.stringify(ba)):ba):na=q(JSON.parse(ba));return na}function Da(ba,na){let q,M,
Q,g;ba=Qa(ba,na);na&&na.feature?(q=ib.feature,Q=na.feature):na&&na.mesh?(q=ib.mesh,Q=na.mesh,g=Fa[na.filter]):P.error("Missing TopoJSON feature or mesh parameter.");return(M=(M=ba.objects[Q])?q(ba,M,g):P.error("Invalid TopoJSON object: "+Q))&&M.features||[M]}function Ka(ba,na){return 1<arguments.length?(Ga[ba]=na,this):P.hasOwnProperty(Ga,ba)?Ga[ba]:null}function lb(ba,na,q,M){if(ba.length){var Q=Gb.timeFormatDefaultLocale();q=q||Q.timeParse;M=M||Q.utcParse;Q=ba.columns||Object.keys(ba[0]);var g,
u;"auto"===na&&(na=Ua(ba,Q));Q=Object.keys(na);var m=Q.map(H=>{var V=na[H];if(V&&(V.startsWith("date:")||V.startsWith("utc:"))){H=V.split(/:(.+)?/,2);V=H[1];if("'"===V[0]&&"'"===V[V.length-1]||'"'===V[0]&&'"'===V[V.length-1])V=V.slice(1,-1);return("utc"===H[0]?M:q)(V)}if(!Qb[V])throw Error("Illegal format pattern: "+H+":"+V);return Qb[V]});var C=0;var B=ba.length;for(u=Q.length;C<B;++C){var A=ba[C];for(g=0;g<u;++g){var E=Q[g];A[E]=m[g](A[E])}}}}const mb=/^(data:|([A-Za-z]+:)?\/\/)/,Pa=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
xb=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,sb=ba=>!Number.isNaN(+ba)&&!(ba instanceof Date),Qb={boolean:P.toBoolean,integer:P.toNumber,number:P.toNumber,date:P.toDate,string:P.toString,unknown:P.identity},Wb=[ba=>"true"===ba||"false"===ba||!0===ba||!1===ba,ba=>sb(ba)&&Number.isInteger(+ba),sb,ba=>!Number.isNaN(Date.parse(ba))],ob=["boolean","integer","number","date"];var pa={},Z={};pb.responseType="text";Qa.responseType="json";const Fa={interior:(ba,na)=>ba!==na,exterior:(ba,
na)=>ba===na};Da.responseType="json";const Ga={dsv:pb,csv:ab(","),tsv:ab("\t"),json:Qa,topojson:Da},db=function(ba,na){return q=>({options:q||{},sanitize:vc,load:ac,fileAccess:!!na,file:Ac(na),http:Bb(ba)})}("undefined"!==typeof fetch&&fetch,null);k.format=Ga;k.formats=Ka;k.inferType=Yb;k.inferTypes=Ua;k.loader=db;k.read=function(ba,na,q,M){na=na||{};const Q=Ka(na.type||"json");Q||P.error("Unknown data format type: "+na.type);ba=Q(ba,na);na.parse&&lb(ba,na.parse,q,M);P.hasOwnProperty(ba,"columns")&&
delete ba.columns;return ba};k.responseType=function(ba){return(ba=Ka(ba))&&ba.responseType||"text"};k.typeParsers=Qb;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[52]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(21),Db(51),Db(50)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega))})(this,function(v,k,P,ib){function Gb(g){const u=g||k.identity,m=[],C={};m.add=B=>{const A=u(B);C[A]||(C[A]=1,m.push(B));return m};m.remove=B=>{const A=u(B);C[A]&&(C[A]=0,B=m.indexOf(B),
0<=B&&m.splice(B,1));return m};return m}function ac(g,u){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield u(g)}catch(m){g.error(m)}})}function vc(g){g=g===Object(g)?g:{data:g};if(!g[Z]){var u=Fa++;g[Z]=u}return g}function Ac(g,u){for(const m in g)u[m]=g[m];return u}function uc(g){return g&&g.constructor===Bb}function Bb(){const g=[],u=[],m=[],C=[],B=[];let A=null,E=!1;return{constructor:Bb,insert(H){H=k.array(H);const V=H.length;for(let Aa=0;Aa<V;++Aa)g.push(H[Aa]);return this},
remove(H){const V=k.isFunction(H)?C:u;H=k.array(H);const Aa=H.length;for(let Y=0;Y<Aa;++Y)V.push(H[Y]);return this},modify(H,V,Aa){V={field:V,value:k.constant(Aa)};k.isFunction(H)?(V.filter=H,B.push(V)):(V.tuple=H,m.push(V));return this},encode(H,V){k.isFunction(H)?B.push({filter:H,field:V}):m.push({tuple:H,field:V});return this},clean(H){A=H;return this},reflow(){E=!0;return this},pulse(H,V){function Aa(Ca,Ya,Ib){Ib?Ca[Ya]=Ib(Ca):H.encode=Ya;E||(t[Ca[Z]]=Ca)}const Y={},t={};let L,va,La,Wa,$a,X;L=
0;for(va=V.length;L<va;++L)Y[V[L][Z]]=1;L=0;for(va=u.length;L<va;++L)$a=u[L],Y[$a[Z]]=-1;L=0;for(va=C.length;L<va;++L)Wa=C[L],V.forEach(Ca=>{Wa(Ca)&&(Y[Ca[Z]]=-1)});L=0;for(va=g.length;L<va;++L)$a=g[L],X=$a[Z],Y[X]?Y[X]=1:H.add.push(vc(g[L]));L=0;for(va=V.length;L<va;++L)$a=V[L],0>Y[$a[Z]]&&H.rem.push($a);L=0;for(va=m.length;L<va;++L)La=m[L],$a=La.tuple,Wa=La.field,X=Y[$a[Z]],0<X&&(Aa($a,Wa,La.value),H.modifies(Wa));L=0;for(va=B.length;L<va;++L)La=B[L],Wa=La.filter,V.forEach(Ca=>{Wa(Ca)&&0<Y[Ca[Z]]&&
Aa(Ca,La.field,La.value)}),H.modifies(La.field);if(E)H.mod=u.length||C.length?V.filter(Ca=>0<Y[Ca[Z]]):V.slice();else for(X in t)H.mod.push(t[X]);(A||null==A&&(u.length||C.length))&&H.clean(!0);return H}}}function jc(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function Yb(g,u,m,C){this.id=++Ga;this.value=g;this.qrank=this.rank=this.stamp=-1;this.flags=0;u&&(this._update=u);m&&this.parameters(m,C)}function Ua(g){return function(u){const m=this.flags;if(0===arguments.length)return!!(m&
g);this.flags=u?m|g:m&~g;return this}}function ub(g,u,m){this.id=++ba;this.value=null;m&&(this.receive=m);g&&(this._filter=g);u&&(this._apply=u)}function Kb(g,u,m){return new ub(g,u,m)}function Lb(g){let u;const m=new Promise(C=>u=C);m.requests=0;m.done=()=>{0===--m.requests&&(g._pending=null,u(g))};return g._pending=m}function Cb(g,u,m,C,B,A){const E=k.extend({},A,na);let H;k.isFunction(m)||(m=k.constant(m));void 0===C?B=V=>g.touch(m(V)):k.isFunction(C)?(H=new Yb(null,C,B,!1),B=V=>{H.evaluate(V);
V=m(V);const Aa=H.value;uc(Aa)?g.pulse(V,Aa,A):g.update(V,Aa,E)}):B=V=>g.update(m(V),C,E);u.apply(B)}function Pb(g,u,m,C,B,A){void 0===C?u.targets().add(m):(A=A||{},C=new Yb(null,ab(m,C),B,!1),C.modified(A.force),C.rank=u.rank,u.targets().add(C),m&&(C.skip(!0),C.value=m.value,C.targets().add(m),g.connect(m,[C])))}function ab(g,u){u=k.isFunction(u)?u:k.constant(u);return g?function(m,C){m=u(m,C);g.skip()||(g.skip(m!==this.value).value=m);return m}:u}function pb(g,u,m){this.dataflow=g;this.stamp=null==
u?-1:u;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=m||null}function Qa(g,u){const m=[];k.visitArray(g,u,C=>m.push(C));return m}function Da(g,u){const m={};g.visit(u,C=>{m[C[Z]]=1});return C=>m[C[Z]]?null:C}function Ka(g,u){return g?(m,C)=>g(m,C)&&u(m,C):u}function lb(g,u,m,C){const B=m.length;let A=0;this.dataflow=g;this.stamp=u;this.fields=null;this.encode=C||null;this.pulses=m;for(g=0;g<B;++g)if(C=m[g],C.stamp===u){if(C.fields){const E=this.fields||(this.fields={});for(const H in C.fields)E[H]=
1}C.changed(this.ADD)&&(A|=this.ADD);C.changed(this.REM)&&(A|=this.REM);C.changed(this.MOD)&&(A|=this.MOD)}this.changes=A}function mb(g){g.error("Dataflow already running. Use runAsync() to chain invocations.");return g}function Pa(g,u){if(u&&u.stamp===g.stamp)return u;g=g.fork();u&&u!==q&&(g.source=u.source);return g}function xb(g){let u=[];return{clear:()=>u=[],size:()=>u.length,peek:()=>u[0],push:m=>{u.push(m);return sb(u,0,u.length-1,g)},pop:()=>{var m=u.pop();let C;if(u.length){C=u[0];u[0]=m;
m=u;var B=0;const A=B,E=m.length,H=m[B];let V=(B<<1)+1,Aa;for(;V<E;)Aa=V+1,Aa<E&&0<=g(m[V],m[Aa])&&(V=Aa),m[B]=m[V],B=V,V=(B<<1)+1;m[B]=H;sb(m,A,B,g)}else C=m;return C}}}function sb(g,u,m,C){let B,A;const E=g[m];for(;m>u;)if(A=m-1>>1,B=g[A],0>C(E,B))g[m]=B,m=A;else break;return g[m]=E}function Qb(){this.logger(k.logger());this.logLevel(k.Error);this._rank=this._clock=0;this._locale=ib.defaultLocale();try{this._loader=P.loader()}catch(g){}this._touched=Gb(k.id);this._input={};this._pulse=null;this._heap=
xb((g,u)=>g.qrank-u.qrank);this._postrun=[]}function Wb(g){return function(){return this._log[g].apply(this,arguments)}}function ob(g,u){Yb.call(this,g,null,u)}function pa(g){g=g&&g.toLowerCase();return k.hasOwnProperty(Q,g)?Q[g]:null}const Z=Symbol("vega_id");let Fa=1;jc.prototype={set(g,u,m,C){const B=this[g],A=this["_:mod:_"];if(null!=u&&0<=u){if(B[u]!==m||C)B[u]=m,A[u+":"+g]=-1,A[g]=-1}else if(B!==m||C)this[g]=m,A[g]=k.isArray(m)?1+m.length:-1;return this},modified(g,u){const m=this["_:mod:_"];
if(!arguments.length){for(var C in m)if(m[C])return!0;return!1}if(k.isArray(g)){for(C=0;C<g.length;++C)if(m[g[C]])return!0;return!1}return null!=u&&0<=u?u+1<m[g]||!!m[u+":"+g]:!!m[g]},clear(){this["_:mod:_"]={};return this}};let Ga=0;const db=new jc;Yb.prototype={targets(){return this._targets||(this._targets=Gb(k.id))},set(g){return this.value!==g?(this.value=g,1):0},skip:Ua(1),modified:Ua(2),parameters(g,u,m){u=!1!==u;const C=this._argval=this._argval||new jc,B=this._argops=this._argops||[],A=[];
let E,H,V,Aa;const Y=(t,L,va)=>{va instanceof Yb?(va!==this&&(u&&va.targets().add(this),A.push(va)),B.push({op:va,name:t,index:L})):C.set(t,L,va)};for(E in g)if(H=g[E],"pulse"===E)k.array(H).forEach(t=>{t instanceof Yb?t!==this&&(t.targets().add(this),A.push(t)):k.error("Pulse parameters must be operator instances.")}),this.source=H;else if(k.isArray(H))for(C.set(E,-1,Array(V=H.length)),Aa=0;Aa<V;++Aa)Y(E,Aa,H[Aa]);else Y(E,-1,H);this.marshall().clear();m&&(B.initonly=!0);return A},marshall(g){const u=
this._argval||db,m=this._argops;let C,B,A,E;if(m){const H=m.length;for(B=0;B<H;++B)C=m[B],A=C.op,E=A.modified()&&A.stamp===g,u.set(C.name,C.index,A.value,E);if(m.initonly){for(B=0;B<H;++B)C=m[B],C.op.targets().remove(this);this._update=this._argops=null}}return u},detach(){const g=this._argops;let u,m;if(g)for(u=0,m=g.length;u<m;++u){var C=g[u];C=C.op;C._targets&&C._targets.remove(this)}this.source=this.pulse=null},evaluate(g){var u=this._update;if(u){const m=this.marshall(g.stamp);u=u.call(this,
m,g);m.clear();if(u!==this.value)this.value=u;else if(!this.modified())return g.StopPropagation}},run(g){if(g.stamp<this.stamp)return g.StopPropagation;let u;this.skip()?(this.skip(!1),u=0):u=this.evaluate(g);return this.pulse=u||g}};let ba=0;ub.prototype={_filter:k.truthy,_apply:k.identity,targets(){return this._targets||(this._targets=Gb(k.id))},consume(g){if(!arguments.length)return!!this._consume;this._consume=!!g;return this},receive(g){if(this._filter(g)){const u=this.value=this._apply(g),m=
this._targets,C=m?m.length:0;for(let B=0;B<C;++B)m[B].receive(u);this._consume&&(g.preventDefault(),g.stopPropagation())}},filter(g){g=Kb(g);this.targets().add(g);return g},apply(g){g=Kb(null,g);this.targets().add(g);return g},merge(){const g=Kb();this.targets().add(g);for(let u=0,m=arguments.length;u<m;++u)arguments[u].targets().add(g);return g},throttle(g){let u=-1;return this.filter(()=>{const m=Date.now();return m-u>g?(u=m,1):0})},debounce(g){const u=Kb();this.targets().add(Kb(null,null,k.debounce(g,
m=>{const C=m.dataflow;u.receive(m);C&&C.run&&C.run()})));return u},between(g,u){let m=!1;g.targets().add(Kb(null,null,()=>m=!0));u.targets().add(Kb(null,null,()=>m=!1));return this.filter(()=>m)},detach(){this._filter=k.truthy;this._targets=null}};const na={skip:!0},q={};pb.prototype={StopPropagation:q,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(g){return(new pb(this.dataflow)).init(this,g)},clone(){const g=this.fork(7);g.add=g.add.slice();g.rem=
g.rem.slice();g.mod=g.mod.slice();g.source&&(g.source=g.source.slice());return g.materialize(23)},addAll(){let g=this;g.source&&g.add!==g.rem&&(g.rem.length||g.source.length!==g.add.length)&&(g=(new pb(this.dataflow)).init(this),g.add=g.source,g.rem=[]);return g},init(g,u){this.stamp=g.stamp;this.encode=g.encode;!g.fields||u&64||(this.fields=g.fields);u&1?(this.addF=g.addF,this.add=g.add):(this.addF=null,this.add=[]);u&2?(this.remF=g.remF,this.rem=g.rem):(this.remF=null,this.rem=[]);u&4?(this.modF=
g.modF,this.mod=g.mod):(this.modF=null,this.mod=[]);u&32?this.source=this.srcF=null:(this.srcF=g.srcF,this.source=g.source,g.cleans&&(this.cleans=g.cleans));return this},runAfter(g){this.dataflow.runAfter(g)},changed(g){g=g||7;return g&1&&this.add.length||g&2&&this.rem.length||g&4&&this.mod.length},reflow(g){if(g)return this.fork(7).reflow();g=this.add.length;const u=this.source&&this.source.length;u&&u!==g&&(this.mod=this.source,g&&this.filter(4,Da(this,1)));return this},clean(g){return arguments.length?
(this.cleans=!!g,this):this.cleans},modifies(g){const u=this.fields||(this.fields={});k.isArray(g)?g.forEach(m=>u[m]=!0):u[g]=!0;return this},modified(g,u){const m=this.fields;return(u||this.mod.length)&&m?arguments.length?k.isArray(g)?g.some(C=>m[C]):m[g]:!!m:!1},filter(g,u){g&1&&(this.addF=Ka(this.addF,u));g&2&&(this.remF=Ka(this.remF,u));g&4&&(this.modF=Ka(this.modF,u));g&16&&(this.srcF=Ka(this.srcF,u));return this},materialize(g){g=g||7;g&1&&this.addF&&(this.add=Qa(this.add,this.addF),this.addF=
null);g&2&&this.remF&&(this.rem=Qa(this.rem,this.remF),this.remF=null);g&4&&this.modF&&(this.mod=Qa(this.mod,this.modF),this.modF=null);g&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(g,u){if(g&16)return k.visitArray(this.source,this.srcF,u),this;g&1&&k.visitArray(this.add,this.addF,u);g&2&&k.visitArray(this.rem,this.remF,u);g&4&&k.visitArray(this.mod,this.modF,u);const m=this.source;g&8&&m&&(g=this.add.length+this.mod.length,g!==m.length&&(g?k.visitArray(m,
Da(this,5),u):k.visitArray(m,this.srcF,u)));return this}};k.inherits(lb,pb,{fork(g){const u=(new pb(this.dataflow)).init(this,g&this.NO_FIELDS);void 0!==g&&(g&u.ADD&&this.visit(u.ADD,m=>u.add.push(m)),g&u.REM&&this.visit(u.REM,m=>u.rem.push(m)),g&u.MOD&&this.visit(u.MOD,m=>u.mod.push(m)));return u},changed(g){return this.changes&g},modified(g){const u=this.fields;return u&&this.changes&this.MOD?k.isArray(g)?g.some(m=>u[m]):u[g]:0},filter(){k.error("MultiPulse does not support filtering.")},materialize(){k.error("MultiPulse does not support materialization.")},
visit(g,u){const m=this.pulses,C=m.length;let B=0;if(g&this.SOURCE)for(;B<C;++B)m[B].visit(g,u);else for(;B<C;++B)m[B].stamp===this.stamp&&m[B].visit(g,u);return this}});const M={skip:!1,force:!1};Qb.prototype={stamp(){return this._clock},loader(g){return arguments.length?(this._loader=g,this):this._loader},locale(g){return arguments.length?(this._locale=g,this):this._locale},logger(g){return arguments.length?(this._log=g,this):this._log},error:Wb("error"),warn:Wb("warn"),info:Wb("info"),debug:Wb("debug"),
logLevel:Wb("level"),cleanThreshold:1E4,add:function(g,u,m,C){let B=1;g instanceof Yb||(g&&g.prototype instanceof Yb?g=new g:k.isFunction(g)?g=new Yb(null,g):(B=0,g=new Yb(g,u)));this.rank(g);B&&(C=m,m=u);m&&this.connect(g,g.parameters(m,C));this.touch(g);return g},connect:function(g,u){const m=g.rank,C=u.length;for(let B=0;B<C;++B)if(m<u[B].rank){this.rerank(g);break}},rank:function(g){g.rank=++this._rank},rerank:function(g){const u=[g];let m,C,B;for(;u.length;)if(this.rank(m=u.pop()),C=m._targets)for(B=
C.length;0<=--B;)u.push(m=C[B]),m===g&&k.error("Cycle detected in dataflow graph.")},pulse:function(g,u,m){this.touch(g,m||M);m=new pb(this,this._clock+(this._pulse?0:1));const C=g.pulse&&g.pulse.source||[];m.target=g;this._input[g.id]=u.pulse(m,C);return this},touch:function(g,u){u=u||M;this._pulse?this._enqueue(g):this._touched.add(g);u.skip&&g.skip(!0);return this},update:function(g,u,m){m=m||M;(g.set(u)||m.force)&&this.touch(g,m);return this},changeset:Bb,ingest:function(g,u,m){u=this.parse(u,
m);return this.pulse(g,this.changeset().insert(u))},parse:function(g,u){const m=this.locale();return P.read(g,u,m.timeParse,m.utcParse)},preload:function(g,u,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const B=C._pending||Lb(C);B.requests+=1;const A=yield C.request(u,m);C.pulse(g,C.changeset().remove(k.truthy).insert(A.data||[]));B.done();return A})},request:function(g,u){const m=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let C=0,B;try{B=
yield m.loader().load(g,{context:"dataflow",response:P.responseType(u&&u.type)});try{B=m.parse(B,u)}catch(A){C=-2,m.warn("Data ingestion failed",g,A)}}catch(A){C=-1,m.warn("Loading failed",g,A)}return{data:B,status:C}})},events:function(g,u,m,C){const B=this,A=Kb(m,C);m=function(E){E.dataflow=B;try{A.receive(E)}catch(H){B.error(H)}finally{B.run()}};g="string"===typeof g&&"undefined"!==typeof document?document.querySelectorAll(g):k.array(g);C=g.length;for(let E=0;E<C;++E)g[E].addEventListener(u,m);
return A},on:function(g,u,m,C,B){(g instanceof Yb?Pb:Cb)(this,g,u,m,C,B);return this},evaluate:function(g,u,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const B=[];if(C._pulse)return mb(C);C._pending&&(yield C._pending);u&&(yield ac(C,u));if(!C._touched.length)return C.debug("Dataflow invoked, but nothing to do."),C;var A=++C._clock;C._pulse=new pb(C,A,g);C._touched.forEach(Y=>C._enqueue(Y,!0));C._touched=Gb(k.id);var E=0;let H,V,Aa;try{for(;0<C._heap.size();)H=
C._heap.pop(),H.rank!==H.qrank?C._enqueue(H,!0):(V=H.run(C._getPulse(H,g)),V.then?V=yield V:V.async&&(B.push(V.async),V=q),V!==q&&H._targets&&H._targets.forEach(Y=>C._enqueue(Y)),++E)}catch(Y){C._heap.clear(),Aa=Y}C._input={};C._pulse=null;C.debug(`Pulse ${A}: ${E} operators`);Aa&&(C._postrun=[],C.error(Aa));if(C._postrun.length)for(A=C._postrun.sort((Y,t)=>t.priority-Y.priority),C._postrun=[],E=0;E<A.length;++E)yield ac(C,A[E].callback);m&&(yield ac(C,m));B.length&&Promise.all(B).then(Y=>C.runAsync(null,
()=>{Y.forEach(t=>{try{t(C)}catch(L){C.error(L)}})}));return C})},run:function(g,u,m){return this._pulse?mb(this):(this.evaluate(g,u,m),this)},runAsync:function(g,u,m){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;C._running;)yield C._running;const B=()=>C._running=null;(C._running=C.evaluate(g,u,m)).then(B,B);return C._running})},runAfter:function(g,u,m){if(this._pulse||u)this._postrun.push({priority:m||0,callback:g});else try{g(this)}catch(C){this.error(C)}},
_enqueue:function(g,u){const m=g.stamp<this._clock;m&&(g.stamp=this._clock);if(m||u)g.qrank=g.rank,this._heap.push(g)},_getPulse:function(g,u){const m=g.source,C=this._clock;return m&&k.isArray(m)?new lb(this,C,m.map(B=>B.pulse),u):this._input[g.id]||Pa(this._pulse,m&&m.pulse)}};k.inherits(ob,Yb,{run(g){if(g.stamp<this.stamp)return g.StopPropagation;let u;this.skip()?this.skip(!1):u=this.evaluate(g);u=u||g;u.then?u=u.then(m=>this.pulse=m):u!==g.StopPropagation&&(this.pulse=u);return u},evaluate(g){const u=
this.marshall(g.stamp);g=this.transform(u,g);u.clear();return g},transform(){}});const Q={};v.Dataflow=Qb;v.EventStream=ub;v.MultiPulse=lb;v.Operator=Yb;v.Parameters=jc;v.Pulse=pb;v.Transform=ob;v.UniqueList=Gb;v.asyncCallback=ac;v.changeset=Bb;v.definition=function(g){return(g=pa(g))&&g.Definition||null};v.derive=function(g){return Ac(g,vc({}))};v.ingest=vc;v.isChangeSet=uc;v.isTuple=function(g){return!(!g||!g[Z])};v.rederive=Ac;v.replace=function(g,u){u[Z]=g[Z];return u};v.stableCompare=function(g,
u){return g?u?(m,C)=>g(m,C)||u(m)[Z]-u(C)[Z]:(m,C)=>g(m,C)||m[Z]-C[Z]:null};v.transform=pa;v.transforms=Q;v.tupleid=function(g){return g[Z]};Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[53]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(30),Db(52),Db(21)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega))})(this,function(v,k,P,ib){function Gb(uc,Bb){var jc=[],Yb=function(ab){return ab(Lb)},Ua;if(null==Bb)jc.push(uc);else{var ub={};var Kb=0;for(Ua=uc.length;Kb<Ua;++Kb){var Lb=uc[Kb];
var Cb=Bb.map(Yb);var Pb=ub[Cb];Pb||(ub[Cb]=Pb=[],Pb.dims=Cb,jc.push(Pb));Pb.push(Lb)}}return jc}function ac(uc){P.Transform.call(this,null,uc)}function vc(uc){P.Transform.call(this,null,uc)}ac.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};ib.inherits(ac,P.Transform,{transform(uc,Bb){const jc=Bb.fork(Bb.NO_SOURCE|
Bb.NO_FIELDS);if(!this.value||Bb.changed()||uc.modified()){Bb=Bb.materialize(Bb.SOURCE).source;Bb=Gb(Bb,uc.groupby);const Yb=(uc.groupby||[]).map(ib.accessorName),Ua=Yb.length,ub=uc.as||[ib.accessorName(uc.x),ib.accessorName(uc.y)],Kb=[];Bb.forEach(Lb=>{k.regressionLoess(Lb,uc.x,uc.y,uc.bandwidth||.3).forEach(Cb=>{const Pb={};for(let ab=0;ab<Ua;++ab)Pb[Yb[ab]]=Lb.dims[ab];Pb[ub[0]]=Cb[0];Pb[ub[1]]=Cb[1];Kb.push(P.ingest(Pb))})});this.value&&(jc.rem=this.value);this.value=jc.add=jc.source=Kb}return jc}});
const Ac={constant:k.regressionConstant,linear:k.regressionLinear,log:k.regressionLog,exp:k.regressionExp,pow:k.regressionPow,quad:k.regressionQuad,poly:k.regressionPoly};vc.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(Ac)},{name:"order",type:"number","default":3},{name:"extent",type:"number",array:!0,length:2},
{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};ib.inherits(vc,P.Transform,{transform(uc,Bb){const jc=Bb.fork(Bb.NO_SOURCE|Bb.NO_FIELDS);if(!this.value||Bb.changed()||uc.modified()){var Yb=Bb.materialize(Bb.SOURCE).source;Yb=Gb(Yb,uc.groupby);const Ua=(uc.groupby||[]).map(ib.accessorName),ub=uc.method||"linear",Kb=null==uc.order?3:uc.order,Lb="poly"===ub?Kb:"quad"===ub?2:1,Cb=uc.as||[ib.accessorName(uc.x),ib.accessorName(uc.y)],Pb=Ac[ub],ab=[];let pb=uc.extent;ib.hasOwnProperty(Ac,
ub)||ib.error("Invalid regression method: "+ub);null!=pb&&"log"===ub&&0>=pb[0]&&(Bb.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),pb=null);Yb.forEach(Qa=>{if(Qa.length<=Lb)Bb.dataflow.warn("Skipping regression with more parameters than data points.");else{var Da=Pb(Qa,uc.x,uc.y,Kb);if(uc.params)ab.push(P.ingest({keys:Qa.dims,coef:Da.coef,rSquared:Da.rSquared}));else{var Ka=pb||ib.extent(Qa,uc.x),lb=mb=>{const Pa={};for(let xb=0;xb<Ua.length;++xb)Pa[Ua[xb]]=Qa.dims[xb];
Pa[Cb[0]]=mb[0];Pa[Cb[1]]=mb[1];ab.push(P.ingest(Pa))};"linear"===ub||"constant"===ub?Ka.forEach(mb=>lb([mb,Da.predict(mb)])):k.sampleCurve(Da.predict,Ka,25,200).forEach(lb)}}});this.value&&(jc.rem=this.value);this.value=jc.add=jc.source=ab}return jc}});v.loess=ac;v.regression=vc})};
shadow$provide[54]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(29),Db(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega))})(this,function(v,k,P){function ib(pa,Z,Fa,Ga,db){let ba,na;let q=Z[0],M=Ga[0],Q=0,g=0;M>q===M>-q?(ba=q,q=Z[++Q]):(ba=M,M=Ga[++g]);let u=0;if(Q<pa&&g<Fa){if(M>q===M>-q){na=q+ba;
var m=ba-(na-q);q=Z[++Q]}else na=M+ba,m=ba-(na-M),M=Ga[++g];ba=na;for(0!==m&&(db[u++]=m);Q<pa&&g<Fa;)M>q===M>-q?(na=ba+q,m=na-ba,m=ba-(na-m)+(q-m),q=Z[++Q]):(na=ba+M,m=na-ba,m=ba-(na-m)+(M-m),M=Ga[++g]),ba=na,0!==m&&(db[u++]=m)}for(;Q<pa;)na=ba+q,m=na-ba,m=ba-(na-m)+(q-m),q=Z[++Q],ba=na,0!==m&&(db[u++]=m);for(;g<Fa;)na=ba+M,m=na-ba,m=ba-(na-m)+(M-m),M=Ga[++g],ba=na,0!==m&&(db[u++]=m);if(0!==ba||0===u)db[u++]=ba;return u}function Gb(pa,Z,Fa,Ga,db,ba){var na=(Z-ba)*(Fa-db),q=(pa-db)*(Ga-ba),M=na-q;
if(0===na||0===q||0<na!==0<q)return M;na=Math.abs(na+q);if(Math.abs(M)>=3.3306690738754716E-16*na)return M;{let A;M=pa-db;const E=Fa-db;q=Z-ba;const H=Ga-ba;var Q=M*H;var g=134217729*M;var u=g-(g-M);var m=M-u;g=134217729*H;g-=g-H;A=H-g;var C=m*A-(Q-u*g-m*g-u*A);var B=q*E;g=134217729*q;u=g-(g-q);m=q-u;g=134217729*E;g-=g-E;A=E-g;g=m*A-(B-u*g-m*g-u*A);m=C-g;u=C-m;Cb[0]=C-(m+u)+(u-g);C=Q+m;u=C-Q;Q=Q-(C-u)+(m-u);m=Q-B;u=Q-m;Cb[1]=Q-(m+u)+(u-B);B=C+m;u=B-C;Cb[2]=C-(B-u)+(m-u);Cb[3]=B;B=Cb[0];for(Q=1;4>
Q;Q++)B+=Cb[Q];Q=2.2204460492503146E-16*na;B>=Q||-B>=Q?Ga=B:(u=pa-M,pa=pa-(M+u)+(u-db),u=Fa-E,Fa=Fa-(E+u)+(u-db),u=Z-q,Z=Z-(q+u)+(u-ba),u=Ga-H,Ga=Ga-(H+u)+(u-ba),0===pa&&0===Z&&0===Fa&&0===Ga?Ga=B:(Q=1.1093356479670487E-31*na+3.3306690738754706E-16*Math.abs(B),B+=M*Ga+H*pa-(q*Fa+E*Z),B>=Q||-B>=Q?Ga=B:(Q=pa*H,g=134217729*pa,u=g-(g-pa),m=pa-u,g=134217729*H,g-=g-H,A=H-g,C=m*A-(Q-u*g-m*g-u*A),B=Z*E,g=134217729*Z,u=g-(g-Z),m=Z-u,g=134217729*E,g-=g-E,A=E-g,g=m*A-(B-u*g-m*g-u*A),m=C-g,u=C-m,Qa[0]=C-(m+u)+
(u-g),C=Q+m,u=C-Q,Q=Q-(C-u)+(m-u),m=Q-B,u=Q-m,Qa[1]=Q-(m+u)+(u-B),B=C+m,u=B-C,Qa[2]=C-(B-u)+(m-u),Qa[3]=B,ba=ib(4,Cb,4,Qa,Pb),Q=M*Ga,g=134217729*M,u=g-(g-M),m=M-u,g=134217729*Ga,g-=g-Ga,A=Ga-g,C=m*A-(Q-u*g-m*g-u*A),B=q*Fa,g=134217729*q,u=g-(g-q),m=q-u,g=134217729*Fa,g-=g-Fa,A=Fa-g,g=m*A-(B-u*g-m*g-u*A),m=C-g,u=C-m,Qa[0]=C-(m+u)+(u-g),C=Q+m,u=C-Q,Q=Q-(C-u)+(m-u),m=Q-B,u=Q-m,Qa[1]=Q-(m+u)+(u-B),B=C+m,u=B-C,Qa[2]=C-(B-u)+(m-u),Qa[3]=B,ba=ib(ba,Pb,4,Qa,ab),Q=pa*Ga,g=134217729*pa,u=g-(g-pa),m=pa-u,g=134217729*
Ga,g-=g-Ga,A=Ga-g,C=m*A-(Q-u*g-m*g-u*A),B=Z*Fa,g=134217729*Z,u=g-(g-Z),m=Z-u,g=134217729*Fa,g-=g-Fa,A=Fa-g,g=m*A-(B-u*g-m*g-u*A),m=C-g,u=C-m,Qa[0]=C-(m+u)+(u-g),C=Q+m,u=C-Q,Q=Q-(C-u)+(m-u),m=Q-B,u=Q-m,Qa[1]=Q-(m+u)+(u-B),B=C+m,u=B-C,Qa[2]=C-(B-u)+(m-u),Qa[3]=B,Ga=ib(ba,ab,4,Qa,pb),Ga=pb[Ga-1])))}return-Ga}function ac(pa,Z,Fa,Ga){pa-=Fa;Z-=Ga;return pa*pa+Z*Z}function vc(pa,Z,Fa,Ga){if(20>=Ga-Fa)for(var db=Fa+1;db<=Ga;db++){for(var ba=pa[db],na=Z[ba],q=db-1;q>=Fa&&Z[pa[q]]>na;)pa[q+1]=pa[q--];pa[q+
1]=ba}else{db=Fa+1;ba=Ga;Ac(pa,Fa+Ga>>1,db);Z[pa[Fa]]>Z[pa[Ga]]&&Ac(pa,Fa,Ga);Z[pa[db]]>Z[pa[Ga]]&&Ac(pa,db,Ga);Z[pa[Fa]]>Z[pa[db]]&&Ac(pa,Fa,db);na=pa[db];for(q=Z[na];;){do db++;while(Z[pa[db]]<q);do ba--;while(Z[pa[ba]]>q);if(ba<db)break;Ac(pa,db,ba)}pa[Fa+1]=pa[ba];pa[ba]=na;Ga-db+1>=ba-Fa?(vc(pa,Z,db,Ga),vc(pa,Z,Fa,ba-1)):(vc(pa,Z,Fa,ba-1),vc(pa,Z,db,Ga))}}function Ac(pa,Z,Fa){const Ga=pa[Z];pa[Z]=pa[Fa];pa[Fa]=Ga}function uc(pa){return pa[0]}function Bb(pa){return pa[1]}function jc(pa){return pa[0]}
function Yb(pa){return pa[1]}function Ua(pa){const {triangles:Z,coords:Fa}=pa;for(pa=0;pa<Z.length;pa+=3){const Ga=2*Z[pa],db=2*Z[pa+1],ba=2*Z[pa+2];if(1E-10<(Fa[ba]-Fa[Ga])*(Fa[db+1]-Fa[Ga+1])-(Fa[db]-Fa[Ga])*(Fa[ba+1]-Fa[Ga+1]))return!1}return!0}function ub(pa,Z,Fa){return[pa+Math.sin(pa+Z)*Fa,Z+Math.cos(pa-Z)*Fa]}function*Kb(pa,Z,Fa,Ga){let db=0;for(const ba of pa)yield Z.call(Ga,ba,db,pa),yield Fa.call(Ga,ba,db,pa),++db}function Lb(pa){k.Transform.call(this,null,pa)}const Cb=new Float64Array(4),
Pb=new Float64Array(8),ab=new Float64Array(12),pb=new Float64Array(16),Qa=new Float64Array(4),Da=Math.pow(2,-52),Ka=new Uint32Array(512);class lb{static from(pa,Z=uc,Fa=Bb){const Ga=pa.length,db=new Float64Array(2*Ga);for(let ba=0;ba<Ga;ba++){const na=pa[ba];db[2*ba]=Z(na);db[2*ba+1]=Fa(na)}return new lb(db)}constructor(pa){const Z=pa.length>>1;if(0<Z&&"number"!==typeof pa[0])throw Error("Expected coords to contain numbers.");this.coords=pa;pa=Math.max(2*Z-5,0);this._triangles=new Uint32Array(3*pa);
this._halfedges=new Int32Array(3*pa);this._hashSize=Math.ceil(Math.sqrt(Z));this._hullPrev=new Uint32Array(Z);this._hullNext=new Uint32Array(Z);this._hullTri=new Uint32Array(Z);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(Z);this._dists=new Float64Array(Z);this.update()}update(){const {coords:pa,_hullPrev:Z,_hullNext:Fa,_hullTri:Ga,_hullHash:db}=this;var ba=pa.length>>1,na=Infinity,q=Infinity,M=-Infinity,Q=-Infinity;for(var g=0;g<ba;g++){var u=pa[2*g];var m=pa[2*
g+1];u<na&&(na=u);m<q&&(q=m);u>M&&(M=u);m>Q&&(Q=m);this._ids[g]=g}M=(na+M)/2;q=(q+Q)/2;na=Infinity;for(Q=0;Q<ba;Q++)if(g=ac(M,q,pa[2*Q],pa[2*Q+1]),g<na){var C=Q;na=g}q=pa[2*C];Q=pa[2*C+1];na=Infinity;for(M=0;M<ba;M++)if(M!==C&&(g=ac(q,Q,pa[2*M],pa[2*M+1]),g<na&&0<g)){var B=M;na=g}na=pa[2*B];M=pa[2*B+1];m=Infinity;for(g=0;g<ba;g++)if(g!==C&&g!==B){u=na-q;var A=M-Q;var E=pa[2*g]-q;var H=pa[2*g+1]-Q,V=u*u+A*A,Aa=E*E+H*H,Y=.5/(u*H-A*E);A=(H*V-A*Aa)*Y;u=(u*Aa-E*V)*Y;u=A*A+u*u;if(u<m){var t=g;m=u}}g=pa[2*
t];u=pa[2*t+1];if(Infinity===m){for(C=0;C<ba;C++)this._dists[C]=pa[2*C]-pa[0]||pa[2*C+1]-pa[1];vc(this._ids,this._dists,0,ba-1);C=new Uint32Array(ba);B=0;for(let L=0,va=-Infinity;L<ba;L++)t=this._ids[L],this._dists[t]>va&&(C[B++]=t,va=this._dists[t]);this.hull=C.subarray(0,B);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{0>Gb(q,Q,na,M,g,u)&&(m=B,E=na,V=M,B=t,na=g,M=u,t=m,g=E,u=V);E=na-q;m=M-Q;V=g-q;H=u-Q;Aa=E*E+m*m;Y=V*V+H*H;A=.5/(E*H-m*V);m=q+(H*Aa-m*Y)*A;E=Q+(E*Y-V*Aa)*
A;this._cx=m;this._cy=E;for(V=0;V<ba;V++)this._dists[V]=ac(pa[2*V],pa[2*V+1],m,E);vc(this._ids,this._dists,0,ba-1);this._hullStart=C;ba=3;Fa[C]=Z[t]=B;Fa[B]=Z[C]=t;Fa[t]=Z[B]=C;Ga[C]=0;Ga[B]=1;Ga[t]=2;db.fill(-1);db[this._hashKey(q,Q)]=C;db[this._hashKey(na,M)]=B;db[this._hashKey(g,u)]=t;this.trianglesLen=0;this._addTriangle(C,B,t,-1,-1,-1);for(let L=0,va,La;L<this._ids.length;L++){q=this._ids[L];Q=pa[2*q];na=pa[2*q+1];if(0<L&&Math.abs(Q-va)<=Da&&Math.abs(na-La)<=Da)continue;va=Q;La=na;if(q===C||
q===B||q===t)continue;M=0;for(let $a=0,X=this._hashKey(Q,na);$a<this._hashSize&&(M=db[(X+$a)%this._hashSize],-1===M||M===Fa[M]);$a++);g=M=Z[M];let Wa;for(;Wa=Fa[g],0<=Gb(Q,na,pa[2*g],pa[2*g+1],pa[2*Wa],pa[2*Wa+1]);)if(g=Wa,g===M){g=-1;break}if(-1!==g){u=this._addTriangle(g,q,Fa[g],-1,-1,Ga[g]);Ga[q]=this._legalize(u+2);Ga[g]=u;ba++;for(m=Fa[g];Wa=Fa[m],0>Gb(Q,na,pa[2*m],pa[2*m+1],pa[2*Wa],pa[2*Wa+1]);)u=this._addTriangle(m,q,Wa,Ga[q],-1,Ga[m]),Ga[q]=this._legalize(u+2),Fa[m]=m,ba--,m=Wa;if(g===M)for(;Wa=
Z[g],0>Gb(Q,na,pa[2*Wa],pa[2*Wa+1],pa[2*g],pa[2*g+1]);)u=this._addTriangle(Wa,q,g,-1,Ga[g],Ga[Wa]),this._legalize(u+2),Ga[Wa]=u,Fa[g]=g,ba--,g=Wa;this._hullStart=Z[q]=g;Fa[g]=Z[m]=q;Fa[q]=m;db[this._hashKey(Q,na)]=q;db[this._hashKey(pa[2*g],pa[2*g+1])]=g}}this.hull=new Uint32Array(ba);for(let L=0,va=this._hullStart;L<ba;L++)this.hull[L]=va,va=Fa[va];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(pa,Z){var Fa=Math;
pa-=this._cx;Z-=this._cy;pa/=Math.abs(pa)+Math.abs(Z);return Fa.floor.call(Fa,(0<Z?3-pa:1+pa)/4*this._hashSize)%this._hashSize}_legalize(pa){const {_triangles:Z,_halfedges:Fa,coords:Ga}=this;let db=0;for(var ba;;){const m=Fa[pa];var na=pa-pa%3;ba=na+(pa+2)%3;if(-1===m){if(0===db)break;pa=Ka[--db];continue}const C=m-m%3,B=C+(m+2)%3;var q=Z[ba],M=Z[pa],Q=Z[na+(pa+1)%3];na=Z[B];var g=Ga[2*na],u=Ga[2*na+1];const A=Ga[2*q]-g,E=Ga[2*q+1]-u,H=Ga[2*M]-g;M=Ga[2*M+1]-u;g=Ga[2*Q]-g;u=Ga[2*Q+1]-u;Q=H*H+M*M;const V=
g*g+u*u;if(0>A*(M*V-Q*u)-E*(H*V-Q*g)+(A*A+E*E)*(H*u-M*g)){Z[pa]=na;Z[m]=q;q=Fa[B];if(-1===q){na=this._hullStart;do{if(this._hullTri[na]===B){this._hullTri[na]=pa;break}na=this._hullPrev[na]}while(na!==this._hullStart)}this._link(pa,q);this._link(m,Fa[ba]);this._link(ba,B);ba=C+(m+1)%3;db<Ka.length&&(Ka[db++]=ba)}else{if(0===db)break;pa=Ka[--db]}}return ba}_link(pa,Z){this._halfedges[pa]=Z;-1!==Z&&(this._halfedges[Z]=pa)}_addTriangle(pa,Z,Fa,Ga,db,ba){const na=this.trianglesLen;this._triangles[na]=
pa;this._triangles[na+1]=Z;this._triangles[na+2]=Fa;this._link(na,Ga);this._link(na+1,db);this._link(na+2,ba);this.trianglesLen+=3;return na}}class mb{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(pa,Z){this._+=`M${this._x0=this._x1=+pa},${this._y0=this._y1=+Z}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(pa,Z){this._+=`L${this._x1=+pa},${this._y1=+Z}`}arc(pa,Z,Fa){pa=+pa;Z=+Z;Fa=+Fa;const Ga=pa+Fa,db=Z;if(0>Fa)throw Error("negative radius");
if(null===this._x1)this._+=`M${Ga},${db}`;else if(1E-6<Math.abs(this._x1-Ga)||1E-6<Math.abs(this._y1-db))this._+="L"+Ga+","+db;Fa&&(this._+=`A${Fa},${Fa},0,1,1,${pa-Fa},${Z}A${Fa},${Fa},0,1,1,${this._x1=Ga},${this._y1=db}`)}rect(pa,Z,Fa,Ga){this._+=`M${this._x0=this._x1=+pa},${this._y0=this._y1=+Z}h${+Fa}v${+Ga}h${-Fa}Z`}value(){return this._||null}}class Pa{constructor(){this._=[]}moveTo(pa,Z){this._.push([pa,Z])}closePath(){this._.push(this._[0].slice())}lineTo(pa,Z){this._.push([pa,Z])}value(){return this._.length?
this._:null}}let xb=class{constructor(pa,[Z,Fa,Ga,db]=[0,0,960,500]){if(!((Ga=+Ga)>=(Z=+Z)&&(db=+db)>=(Fa=+Fa)))throw Error("invalid bounds");this.delaunay=pa;this._circumcenters=new Float64Array(2*pa.points.length);this.vectors=new Float64Array(2*pa.points.length);this.xmax=Ga;this.xmin=Z;this.ymax=db;this.ymin=Fa;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const {delaunay:{points:pa,hull:Z,triangles:Fa},vectors:Ga}=this;var db=this.circumcenters=this._circumcenters.subarray(0,
Fa.length/3*2);for(let B=0,A=0,E=Fa.length,H,V;B<E;B+=3,A+=2){var ba=2*Fa[B],na=2*Fa[B+1],q=2*Fa[B+2],M=pa[ba];ba=pa[ba+1];var Q=pa[q],g=pa[q+1],u=pa[na]-M,m=pa[na+1]-ba;na=Q-M;q=g-ba;var C=2*(u*q-m*na);1E-9>Math.abs(C)?(u=1E9,m=2*Fa[0],u*=Math.sign((pa[m]-M)*q-(pa[m+1]-ba)*na),H=(M+Q)/2-u*q,V=(ba+g)/2+u*na):(Q=1/C,g=u*u+m*m,C=na*na+q*q,H=M+(q*g-m*C)*Q,V=ba+(u*C-na*g)*Q);db[A]=H;db[A+1]=V}db=Z[Z.length-1];ba=4*db;q=pa[2*db];u=pa[2*db+1];Ga.fill(0);for(g=0;g<Z.length;++g)db=Z[g],M=ba,na=q,Q=u,ba=4*
db,q=pa[2*db],u=pa[2*db+1],Ga[M+2]=Ga[ba]=Q-u,Ga[M+3]=Ga[ba+1]=q-na}render(pa){const Z=null==pa?pa=new mb:void 0,{delaunay:{halfedges:Fa,inedges:Ga,hull:db},circumcenters:ba,vectors:na}=this;if(1>=db.length)return null;for(let u=0,m=Fa.length;u<m;++u){var q=Fa[u];if(!(q<u)){var M=2*Math.floor(u/3);q=2*Math.floor(q/3);this._renderSegment(ba[M],ba[M+1],ba[q],ba[q+1],pa)}}M=db[db.length-1];for(q=0;q<db.length;++q){var Q=M;M=db[q];var g=2*Math.floor(Ga[M]/3);const u=ba[g];g=ba[g+1];Q*=4;(Q=this._project(u,
g,na[Q+2],na[Q+3]))&&this._renderSegment(u,g,Q[0],Q[1],pa)}return Z&&Z.value()}renderBounds(pa){const Z=null==pa?pa=new mb:void 0;pa.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return Z&&Z.value()}renderCell(pa,Z){const Fa=null==Z?Z=new mb:void 0;pa=this._clip(pa);if(null!==pa&&pa.length){Z.moveTo(pa[0],pa[1]);for(var Ga=pa.length;pa[0]===pa[Ga-2]&&pa[1]===pa[Ga-1]&&1<Ga;)Ga-=2;for(let db=2;db<Ga;db+=2)pa[db]===pa[db-2]&&pa[db+1]===pa[db-1]||Z.lineTo(pa[db],pa[db+1]);Z.closePath();
return Fa&&Fa.value()}}*cellPolygons(){var {delaunay:{points:pa}}=this;for(let Z=0,Fa=pa.length/2;Z<Fa;++Z)if(pa=this.cellPolygon(Z))pa.index=Z,yield pa}cellPolygon(pa){const Z=new Pa;this.renderCell(pa,Z);return Z.value()}_renderSegment(pa,Z,Fa,Ga,db){const ba=this._regioncode(pa,Z),na=this._regioncode(Fa,Ga);if(0===ba&&0===na)db.moveTo(pa,Z),db.lineTo(Fa,Ga);else if(pa=this._clipSegment(pa,Z,Fa,Ga,ba,na))db.moveTo(pa[0],pa[1]),db.lineTo(pa[2],pa[3])}contains(pa,Z,Fa){return(Z=+Z,Z!==Z)||(Fa=+Fa,
Fa!==Fa)?!1:this.delaunay._step(pa,Z,Fa)===pa}*neighbors(pa){const Z=this._clip(pa);if(Z)for(const Fa of this.delaunay.neighbors(pa))if(pa=this._clip(Fa))a:for(let Ga=0,db=Z.length;Ga<db;Ga+=2)for(let ba=0,na=pa.length;ba<na;ba+=2)if(Z[Ga]==pa[ba]&&Z[Ga+1]==pa[ba+1]&&Z[(Ga+2)%db]==pa[(ba+na-2)%na]&&Z[(Ga+3)%db]==pa[(ba+na-1)%na]){yield Fa;break a}}_cell(pa){const {circumcenters:Z,delaunay:{inedges:Fa,halfedges:Ga,triangles:db}}=this,ba=Fa[pa];if(-1===ba)return null;const na=[];let q=ba;do{const M=
Math.floor(q/3);na.push(Z[2*M],Z[2*M+1]);q=2===q%3?q-2:q+1;if(db[q]!==pa)break;q=Ga[q]}while(q!==ba&&-1!==q);return na}_clip(pa){if(0===pa&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const Z=this._cell(pa);if(null===Z)return null;const {vectors:Fa}=this,Ga=4*pa;return Fa[Ga]||Fa[Ga+1]?this._clipInfinite(pa,Z,Fa[Ga],Fa[Ga+1],Fa[Ga+2],Fa[Ga+3]):this._clipFinite(pa,Z)}_clipFinite(pa,Z){const Fa=Z.length;let Ga=null;let db=Z[Fa-
2],ba=Z[Fa-1];let na=this._regioncode(db,ba),q=0;for(let u=0;u<Fa;u+=2){var M=db;var Q=ba;db=Z[u];ba=Z[u+1];var g=na;na=this._regioncode(db,ba);if(0===g&&0===na)q=0,Ga?Ga.push(db,ba):Ga=[db,ba];else{let m,C;if(0===g){if(null===(M=this._clipSegment(M,Q,db,ba,g,na)))continue;[Q,g,m,C]=M}else{if(null===(M=this._clipSegment(db,ba,M,Q,na,g)))continue;[m,C,Q,g]=M;M=q;q=this._edgecode(Q,g);M&&q&&this._edge(pa,M,q,Ga,Ga.length);Ga?Ga.push(Q,g):Ga=[Q,g]}M=q;q=this._edgecode(m,C);M&&q&&this._edge(pa,M,q,Ga,
Ga.length);Ga?Ga.push(m,C):Ga=[m,C]}}if(Ga)M=q,q=this._edgecode(Ga[0],Ga[1]),M&&q&&this._edge(pa,M,q,Ga,Ga.length);else if(this.contains(pa,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return Ga}_clipSegment(pa,Z,Fa,Ga,db,ba){for(;;){if(0===db&&0===ba)return[pa,Z,Fa,Ga];if(db&ba)return null;var na=void 0;let q;na=db||ba;na&8?(na=pa+(Fa-pa)*(this.ymax-Z)/(Ga-Z),q=this.ymax):na&4?(na=pa+(Fa-pa)*(this.ymin-Z)/
(Ga-Z),q=this.ymin):na&2?(q=Z+(Ga-Z)*(this.xmax-pa)/(Fa-pa),na=this.xmax):(q=Z+(Ga-Z)*(this.xmin-pa)/(Fa-pa),na=this.xmin);db?(pa=na,Z=q,db=this._regioncode(pa,Z)):(Fa=na,Ga=q,ba=this._regioncode(Fa,Ga))}}_clipInfinite(pa,Z,Fa,Ga,db,ba){Z=Array.from(Z);let na;(na=this._project(Z[0],Z[1],Fa,Ga))&&Z.unshift(na[0],na[1]);(na=this._project(Z[Z.length-2],Z[Z.length-1],db,ba))&&Z.push(na[0],na[1]);if(Z=this._clipFinite(pa,Z))for(let q=0,M=Z.length,Q,g=this._edgecode(Z[M-2],Z[M-1]);q<M;q+=2)Q=g,g=this._edgecode(Z[q],
Z[q+1]),Q&&g&&(q=this._edge(pa,Q,g,Z,q),M=Z.length);else this.contains(pa,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(Z=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return Z}_edge(pa,Z,Fa,Ga,db){for(;Z!==Fa;){let ba,na;switch(Z){case 5:Z=4;continue;case 4:Z=6;ba=this.xmax;na=this.ymin;break;case 6:Z=2;continue;case 2:Z=10;ba=this.xmax;na=this.ymax;break;case 10:Z=8;continue;case 8:Z=9;ba=this.xmin;na=this.ymax;break;case 9:Z=1;continue;case 1:Z=5,ba=this.xmin,
na=this.ymin}Ga[db]===ba&&Ga[db+1]===na||!this.contains(pa,ba,na)||(Ga.splice(db,0,ba,na),db+=2)}if(4<Ga.length)for(pa=0;pa<Ga.length;pa+=2)if(Z=(pa+2)%Ga.length,Fa=(pa+4)%Ga.length,Ga[pa]===Ga[Z]&&Ga[Z]===Ga[Fa]||Ga[pa+1]===Ga[Z+1]&&Ga[Z+1]===Ga[Fa+1])Ga.splice(Z,2),pa-=2;return db}_project(pa,Z,Fa,Ga){let db=Infinity,ba,na,q;if(0>Ga){if(Z<=this.ymin)return null;(ba=(this.ymin-Z)/Ga)<db&&(q=this.ymin,na=pa+(db=ba)*Fa)}else if(0<Ga){if(Z>=this.ymax)return null;(ba=(this.ymax-Z)/Ga)<db&&(q=this.ymax,
na=pa+(db=ba)*Fa)}if(0<Fa){if(pa>=this.xmax)return null;(ba=(this.xmax-pa)/Fa)<db&&(na=this.xmax,q=Z+ba*Ga)}else if(0>Fa){if(pa<=this.xmin)return null;(ba=(this.xmin-pa)/Fa)<db&&(na=this.xmin,q=Z+ba*Ga)}return[na,q]}_edgecode(pa,Z){return(pa===this.xmin?1:pa===this.xmax?2:0)|(Z===this.ymin?4:Z===this.ymax?8:0)}_regioncode(pa,Z){return(pa<this.xmin?1:pa>this.xmax?2:0)|(Z<this.ymin?4:Z>this.ymax?8:0)}};const sb=2*Math.PI,Qb=Math.pow;class Wb{static from(pa,Z=jc,Fa=Yb,Ga){if("length"in pa){const db=
pa.length,ba=new Float64Array(2*db);for(let na=0;na<db;++na){const q=pa[na];ba[2*na]=Z.call(Ga,q,na,pa);ba[2*na+1]=Fa.call(Ga,q,na,pa)}pa=ba}else pa=Float64Array.from(Kb(pa,Z,Fa,Ga));return new Wb(pa)}constructor(pa){this._delaunator=new lb(pa);this.inedges=new Int32Array(pa.length/2);this._hullIndex=new Int32Array(pa.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();this._init();return this}_init(){var pa=this._delaunator;const Z=this.points;if(pa.hull&&
2<pa.hull.length&&Ua(pa)){this.collinear=Int32Array.from({length:Z.length/2},(na,q)=>q).sort((na,q)=>Z[2*na]-Z[2*q]||Z[2*na+1]-Z[2*q+1]);pa=this.collinear[0];var Fa=this.collinear[this.collinear.length-1];pa=[Z[2*pa],Z[2*pa+1],Z[2*Fa],Z[2*Fa+1]];pa=1E-8*Math.hypot(pa[3]-pa[1],pa[2]-pa[0]);for(let na=0,q=Z.length/2;na<q;++na)Fa=ub(Z[2*na],Z[2*na+1],pa),Z[2*na]=Fa[0],Z[2*na+1]=Fa[1];this._delaunator=new lb(Z)}else delete this.collinear;pa=this.halfedges=this._delaunator.halfedges;Fa=this.hull=this._delaunator.hull;
const Ga=this.triangles=this._delaunator.triangles,db=this.inedges.fill(-1),ba=this._hullIndex.fill(-1);for(let na=0,q=pa.length;na<q;++na){const M=Ga[2===na%3?na-2:na+1];if(-1===pa[na]||-1===db[M])db[M]=na}for(let na=0,q=Fa.length;na<q;++na)ba[Fa[na]]=na;2>=Fa.length&&0<Fa.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=Fa[0],db[Fa[0]]=1,2===Fa.length&&(db[Fa[1]]=0,this.triangles[1]=Fa[1],this.triangles[2]=Fa[1]))}voronoi(pa){return new xb(this,
pa)}*neighbors(pa){const {inedges:Z,hull:Fa,_hullIndex:Ga,halfedges:db,triangles:ba,collinear:na}=this;if(na){var q=na.indexOf(pa);0<q&&(yield na[q-1]);q<na.length-1&&(yield na[q+1])}else{var M=Z[pa];if(-1!==M){var Q=M;do{yield(q=ba[Q]);Q=2===Q%3?Q-2:Q+1;if(ba[Q]!==pa)break;Q=db[Q];if(-1===Q){pa=Fa[(Ga[pa]+1)%Fa.length];pa!==q&&(yield pa);break}}while(Q!==M)}}}find(pa,Z,Fa=0){if((pa=+pa,pa!==pa)||(Z=+Z,Z!==Z))return-1;const Ga=Fa;let db;for(;0<=(db=this._step(Fa,pa,Z))&&db!==Fa&&db!==Ga;)Fa=db;return db}_step(pa,
Z,Fa){const {inedges:Ga,hull:db,_hullIndex:ba,halfedges:na,triangles:q,points:M}=this;if(-1===Ga[pa]||!M.length)return(pa+1)%(M.length>>1);let Q=pa,g=Qb(Z-M[2*pa],2)+Qb(Fa-M[2*pa+1],2);const u=Ga[pa];let m=u;do{let C=q[m];const B=Qb(Z-M[2*C],2)+Qb(Fa-M[2*C+1],2);B<g&&(g=B,Q=C);m=2===m%3?m-2:m+1;if(q[m]!==pa)break;m=na[m];if(-1===m){m=db[(ba[pa]+1)%db.length];if(m!==C&&Qb(Z-M[2*m],2)+Qb(Fa-M[2*m+1],2)<g)return m;break}}while(m!==u);return Q}render(pa){const Z=null==pa?pa=new mb:void 0,{points:Fa,halfedges:Ga,
triangles:db}=this;for(let na=0,q=Ga.length;na<q;++na){var ba=Ga[na];if(ba<na)continue;const M=2*db[na];ba=2*db[ba];pa.moveTo(Fa[M],Fa[M+1]);pa.lineTo(Fa[ba],Fa[ba+1])}this.renderHull(pa);return Z&&Z.value()}renderPoints(pa,Z){void 0!==Z||pa&&"function"===typeof pa.moveTo||(Z=pa,pa=null);Z=void 0==Z?2:+Z;const Fa=null==pa?pa=new mb:void 0,{points:Ga}=this;for(let db=0,ba=Ga.length;db<ba;db+=2){const na=Ga[db],q=Ga[db+1];pa.moveTo(na+Z,q);pa.arc(na,q,Z,0,sb)}return Fa&&Fa.value()}renderHull(pa){const Z=
null==pa?pa=new mb:void 0,{hull:Fa,points:Ga}=this;var db=2*Fa[0];const ba=Fa.length;pa.moveTo(Ga[db],Ga[db+1]);for(db=1;db<ba;++db){const na=2*Fa[db];pa.lineTo(Ga[na],Ga[na+1])}pa.closePath();return Z&&Z.value()}hullPolygon(){const pa=new Pa;this.renderHull(pa);return pa.value()}renderTriangle(pa,Z){const Fa=null==Z?Z=new mb:void 0,{points:Ga,triangles:db}=this,ba=2*db[pa*=3],na=2*db[pa+1];pa=2*db[pa+2];Z.moveTo(Ga[ba],Ga[ba+1]);Z.lineTo(Ga[na],Ga[na+1]);Z.lineTo(Ga[pa],Ga[pa+1]);Z.closePath();return Fa&&
Fa.value()}*trianglePolygons(){const {triangles:pa}=this;for(let Z=0,Fa=pa.length/3;Z<Fa;++Z)yield this.trianglePolygon(Z)}trianglePolygon(pa){const Z=new Pa;this.renderTriangle(pa,Z);return Z.value()}}Lb.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},
{name:"as",type:"string","default":"path"}]};const ob=[-1E5,-1E5,1E5,1E5];P.inherits(Lb,k.Transform,{transform(pa,Z){const Fa=pa.as||"path",Ga=Z.source;if(!Ga||!Ga.length)return Z;var db=pa.size;db=db?[0,0,db[0],db[1]]:(db=pa.extent)?[db[0][0],db[0][1],db[1][0],db[1][1]]:ob;db=this.value=Wb.from(Ga,pa.x,pa.y).voronoi(db);for(let q=0,M=Ga.length;q<M;++q){var ba=db.cellPolygon(q),na=Ga[q];if(ba){const Q=ba[0][0],g=ba[0][1];let u=ba.length-1;for(;ba[u][0]===Q&&ba[u][1]===g;--u);ba="M"+ba.slice(0,u+1).join("L")+
"Z"}else ba=null;na[Fa]=ba}return Z.reflow(pa.modified()).modifies(Fa)}});v.voronoi=Lb})};
shadow$provide[55]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(32),Db(29),Db(21),Db(33),Db(30)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),k):(v="undefined"!==typeof globalThis?globalThis:v||self,k((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,P,ib,Gb,ac){function vc(){function Pb(pa){pa.width=pa.height=1;var Z=Math.sqrt(pa.getContext("2d").getImageData(0,
0,1,1).data.length>>2);pa.width=2048/Z;pa.height=2048/Z;pa=pa.getContext("2d");pa.fillStyle=pa.strokeStyle="red";pa.textAlign="center";return{context:pa,ratio:Z}}function ab(pa,Z,Fa){for(var Ga=Z.x,db=Z.y,ba=Math.sqrt(pb[0]*pb[0]+pb[1]*pb[1]),na=sb(pb),q=.5>Wb()?1:-1,M=-q,Q,g;Q=na(M+=q);){g=~~Q[0];Q=~~Q[1];if(Math.min(Math.abs(g),Math.abs(Q))>=ba)break;Z.x=Ga+g;Z.y=db+Q;if(!(0>Z.x+Z.x0||0>Z.y+Z.y0||Z.x+Z.x1>pb[0]||Z.y+Z.y1>pb[1])){if(!(g=!Fa)){a:{g=pb[0];g>>=5;Q=Z.sprite;var u=Z.width>>5;var m=Z.x-
(u<<4);for(var C=m&127,B=32-C,A=Z.y1-Z.y0,E=(Z.y+Z.y0)*g+(m>>5),H=0;H<A;H++){for(var V=m=0;V<=u;V++)if((m<<B|(V<u?(m=Q[H*u+V])>>>C:0))&pa[E+V]){g=!0;break a}E+=g}g=!1}g=!g}if(g&&(!Fa||Z.x+Z.x1>Fa[0].x&&Z.x+Z.x0<Fa[1].x&&Z.y+Z.y1>Fa[0].y&&Z.y+Z.y0<Fa[1].y)){Fa=Z.sprite;Ga=Z.width>>5;db=pb[0]>>5;M=Z.x-(Ga<<4);ba=M&127;na=32-ba;q=Z.y1-Z.y0;M=(Z.y+Z.y0)*db+(M>>5);for(Q=0;Q<q;Q++){for(u=g=0;u<=Ga;u++)pa[M+u]=pa[M+u]|g<<na|(u<Ga?(g=Fa[Q*Ga+u])>>>ba:0);M+=db}Z.sprite=null;return!0}}}return!1}var pb=[256,
256],Qa,Da,Ka,lb,mb,Pa,xb,sb=Bb,Qb=[],Wb=Math.random,ob={layout:function(){for(var pa=Pb(k.canvas()),Z=jc((pb[0]>>5)*pb[1]),Fa=null,Ga=Qb.length,db=-1,ba=[],na=Qb.map(M=>({text:Qa(M),font:Da(M),style:lb(M),weight:mb(M),rotate:Pa(M),size:~~(Ka(M)+1E-14),padding:xb(M),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:M})).sort((M,Q)=>Q.size-M.size);++db<Ga;){var q=na[db];q.x=pb[0]*(Wb()+.5)>>1;q.y=pb[1]*(Wb()+.5)>>1;Ac(pa,q,na,db);q.hasText&&ab(Z,q,Fa)&&(ba.push(q),Fa?uc(Fa,q):Fa=[{x:q.x+
q.x0,y:q.y+q.y0},{x:q.x+q.x1,y:q.y+q.y1}],q.x-=pb[0]>>1,q.y-=pb[1]>>1)}return ba},words:function(pa){return arguments.length?(Qb=pa,ob):Qb},size:function(pa){return arguments.length?(pb=[+pa[0],+pa[1]],ob):pb},font:function(pa){return arguments.length?(Da=Yb(pa),ob):Da},fontStyle:function(pa){return arguments.length?(lb=Yb(pa),ob):lb},fontWeight:function(pa){return arguments.length?(mb=Yb(pa),ob):mb},rotate:function(pa){return arguments.length?(Pa=Yb(pa),ob):Pa},text:function(pa){return arguments.length?
(Qa=Yb(pa),ob):Qa},spiral:function(pa){return arguments.length?(sb=Kb[pa]||pa,ob):sb},fontSize:function(pa){return arguments.length?(Ka=Yb(pa),ob):Ka},padding:function(pa){return arguments.length?(xb=Yb(pa),ob):xb},random:function(pa){return arguments.length?(Wb=pa,ob):Wb}};return ob}function Ac(Pb,ab,pb,Qa){if(!ab.sprite){var Da=Pb.context,Ka=Pb.ratio;Da.clearRect(0,0,2048/Ka,2048/Ka);var lb=Pb=0,mb=0,Pa=pb.length;for(--Qa;++Qa<Pa;){ab=pb[Qa];Da.save();Da.font=ab.style+" "+ab.weight+" "+~~((ab.size+
1)/Ka)+"px "+ab.font;var xb=Da.measureText(ab.text+"m").width*Ka;var sb=ab.size<<1;if(ab.rotate){var Qb=Math.sin(ab.rotate*ub),Wb=Math.cos(ab.rotate*ub),ob=xb*Wb,pa=xb*Qb;Wb*=sb;xb=sb*Qb;xb=Math.max(Math.abs(ob+xb),Math.abs(ob-xb))+31>>5<<5;sb=~~Math.max(Math.abs(pa+Wb),Math.abs(pa-Wb))}else xb=xb+31>>5<<5;sb>mb&&(mb=sb);2048<=Pb+xb&&(Pb=0,lb+=mb,mb=0);if(2048<=lb+sb)break;Da.translate((Pb+(xb>>1))/Ka,(lb+(sb>>1))/Ka);ab.rotate&&Da.rotate(ab.rotate*ub);Da.fillText(ab.text,0,0);ab.padding&&(Da.lineWidth=
2*ab.padding,Da.strokeText(ab.text,0,0));Da.restore();ab.width=xb;ab.height=sb;ab.xoff=Pb;ab.yoff=lb;ab.x1=xb>>1;ab.y1=sb>>1;ab.x0=-ab.x1;ab.y0=-ab.y1;ab.hasText=!0;Pb+=xb}Pa=Da.getImageData(0,0,2048/Ka,2048/Ka).data;for(ob=[];0<=--Qa;)if(ab=pb[Qa],ab.hasText){xb=ab.width;Da=xb>>5;sb=ab.y1-ab.y0;for(Ka=0;Ka<sb*Da;Ka++)ob[Ka]=0;Pb=ab.xoff;if(null==Pb)break;lb=ab.yoff;pa=0;Qb=-1;for(mb=0;mb<sb;mb++){for(Ka=0;Ka<xb;Ka++)Wb=Pa[2048*(lb+mb)+(Pb+Ka)<<2]?1<<31-Ka%32:0,ob[Da*mb+(Ka>>5)]|=Wb,pa|=Wb;pa?Qb=
mb:(ab.y0++,sb--,mb--,lb++)}ab.y1=ab.y0+Qb;ab.sprite=ob.slice(0,(ab.y1-ab.y0)*Da)}}}function uc(Pb,ab){var pb=Pb[0];Pb=Pb[1];ab.x+ab.x0<pb.x&&(pb.x=ab.x+ab.x0);ab.y+ab.y0<pb.y&&(pb.y=ab.y+ab.y0);ab.x+ab.x1>Pb.x&&(Pb.x=ab.x+ab.x1);ab.y+ab.y1>Pb.y&&(Pb.y=ab.y+ab.y1)}function Bb(Pb){var ab=Pb[0]/Pb[1];return function(pb){return[ab*(pb*=.1)*Math.cos(pb),pb*Math.sin(pb)]}}function jc(Pb){for(var ab=[],pb=-1;++pb<Pb;)ab[pb]=0;return ab}function Yb(Pb){return"function"===typeof Pb?Pb:function(){return Pb}}
function Ua(Pb){P.Transform.call(this,vc(),Pb)}var ub=Math.PI/180,Kb={archimedean:Bb,rectangular:function(Pb){var ab=4*Pb[0]/Pb[1],pb=0,Qa=0;return function(Da){var Ka=0>Da?-1:1;switch(Math.sqrt(1+4*Ka*Da)-Ka&3){case 0:pb+=ab;break;case 1:Qa+=4;break;case 2:pb-=ab;break;default:Qa-=4}return[pb,Qa]}}};const Lb="x y font fontSize fontStyle fontWeight angle".split(" "),Cb="text font rotate fontSize fontStyle fontWeight".split(" ");Ua.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",
type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",
expr:!0},{name:"as",type:"string",array:!0,length:7,"default":Lb}]};ib.inherits(Ua,P.Transform,{transform(Pb,ab){function pb(xb){xb=Pb[xb];return ib.isFunction(xb)&&ab.modified(xb.fields)}!Pb.size||Pb.size[0]&&Pb.size[1]||ib.error("Wordcloud size dimensions must be non-zero.");const Qa=Pb.modified();if(Qa||ab.changed(ab.ADD_REM)||Cb.some(pb)){var Da=ab.materialize(ab.SOURCE).source,Ka=this.value,lb=Pb.as||Lb,mb=Pb.fontSize||14,Pa;ib.isFunction(mb)?Pa=Pb.fontSizeRange:mb=ib.constant(mb);if(Pa){const xb=
mb,sb=Gb.scale("sqrt")().domain(ib.extent(Da,xb)).range(Pa);mb=Qb=>sb(xb(Qb))}Da.forEach(xb=>{xb[lb[0]]=NaN;xb[lb[1]]=NaN;xb[lb[3]]=0});Da=Ka.words(Da).text(Pb.text).size(Pb.size||[500,500]).padding(Pb.padding||1).spiral(Pb.spiral||"archimedean").rotate(Pb.rotate||0).font(Pb.font||"sans-serif").fontStyle(Pb.fontStyle||"normal").fontWeight(Pb.fontWeight||"normal").fontSize(mb).random(ac.random).layout();mb=Ka.size();Ka=mb[0]>>1;mb=mb[1]>>1;Pa=Da.length;for(let xb=0,sb,Qb;xb<Pa;++xb)sb=Da[xb],Qb=sb.datum,
Qb[lb[0]]=sb.x+Ka,Qb[lb[1]]=sb.y+mb,Qb[lb[2]]=sb.font,Qb[lb[3]]=sb.size,Qb[lb[4]]=sb.style,Qb[lb[5]]=sb.weight,Qb[lb[6]]=sb.rotate;return ab.reflow(Qa).modifies(lb)}}});v.wordcloud=Ua})};
shadow$provide[56]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(29),Db(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega))})(this,function(v,k,P){function ib(){let Da=8,Ka=[],lb=new Uint32Array(0),mb=Gb(0,Da),Pa=Gb(0,Da);return{data:()=>Ka,seen:()=>{var xb=lb;var sb=Ka.length;xb.length>=sb||(sb=new xb.constructor(sb),
sb.set(xb),xb=sb);return lb=xb},add(xb){for(let sb=0,Qb=Ka.length,Wb=xb.length,ob;sb<Wb;++sb)ob=xb[sb],ob._index=Qb++,Ka.push(ob)},remove(xb,sb){const Qb=Ka.length;xb=Array(Qb-xb);const Wb=Ka;let ob,pa,Z;for(pa=0;!sb[pa]&&pa<Qb;++pa)xb[pa]=Ka[pa],Wb[pa]=pa;for(Z=pa;pa<Qb;++pa)ob=Ka[pa],sb[pa]?Wb[pa]=-1:(Wb[pa]=Z,mb[Z]=mb[pa],Pa[Z]=Pa[pa],xb[Z]=ob,ob._index=Z++),mb[pa]=0;Ka=xb;return Wb},size:()=>Ka.length,curr:()=>mb,prev:()=>Pa,reset:xb=>Pa[xb]=mb[xb],all:()=>257>Da?255:65537>Da?65535:4294967295,
set(xb,sb){mb[xb]|=sb},clear(xb,sb){mb[xb]&=~sb},resize(xb,sb){if(xb>mb.length||sb>Da)Da=Math.max(sb,Da),mb=Gb(xb,Da,mb),Pa=Gb(xb,Da)}}}function Gb(Da,Ka,lb){Da=(257>Ka?Lb:65537>Ka?Cb:Pb)(Da);lb&&Da.set(lb);return Da}function ac(Da,Ka,lb){const mb=1<<Ka;return{one:mb,zero:~mb,range:lb.slice(),bisect:Da.bisect,index:Da.index,size:Da.size,onAdd(Pa,xb){var sb=this.bisect(this.range,Pa.value);Pa=Pa.index;const Qb=sb[0];sb=sb[1];const Wb=Pa.length;let ob;for(ob=0;ob<Qb;++ob)xb[Pa[ob]]|=mb;for(ob=sb;ob<
Wb;++ob)xb[Pa[ob]]|=mb;return this}}}function vc(Da,Ka){return null==Da||null==Ka?NaN:Da<Ka?-1:Da>Ka?1:Da>=Ka?0:NaN}function Ac(Da,Ka){return null==Da||null==Ka?NaN:Ka<Da?-1:Ka>Da?1:Ka>=Da?0:NaN}function uc(Da){function Ka(xb,sb,Qb=0,Wb=xb.length){if(Qb<Wb){if(0!==lb(sb,sb))return Wb;do{const ob=Qb+Wb>>>1;0>mb(xb[ob],sb)?Qb=ob+1:Wb=ob}while(Qb<Wb)}return Qb}let lb,mb,Pa;2!==Da.length?(lb=vc,mb=(xb,sb)=>vc(Da(xb),sb),Pa=(xb,sb)=>Da(xb)-sb):(lb=Da===vc||Da===Ac?Da:Bb,Pa=mb=Da);return{left:Ka,center:function(xb,
sb,Qb=0,Wb=xb.length){Wb=Ka(xb,sb,Qb,Wb-1);return Wb>Qb&&Pa(xb[Wb-1],sb)>-Pa(xb[Wb],sb)?Wb-1:Wb},right:function(xb,sb,Qb=0,Wb=xb.length){if(Qb<Wb){if(0!==lb(sb,sb))return Wb;do{const ob=Qb+Wb>>>1;0>=mb(xb[ob],sb)?Qb=ob+1:Wb=ob}while(Qb<Wb)}return Qb}}}function Bb(){return 0}function jc(Da,Ka){return Array.from(Ka,lb=>Da[lb])}function Yb(){let Da=new Uint32Array(0),Ka=[],lb=0;return{insert:function(mb,Pa,xb){if(!Pa.length)return[];const sb=lb,Qb=Pa.length,Wb=new Uint32Array(Qb);let ob=Array(Qb);var pa;
for(pa=0;pa<Qb;++pa)ob[pa]=mb(Pa[pa]),Wb[pa]=pa;ob=Ua(ob,Wb);if(sb){mb=Ka;Pa=Da;Ka=Array(sb+Qb);Da=new Uint32Array(sb+Qb);pa=ob;var Z=Ka,Fa=Da;let Ga=0,db=0,ba;for(ba=0;Ga<sb&&db<Qb;++ba)mb[Ga]<pa[db]?(Z[ba]=mb[Ga],Fa[ba]=Pa[Ga++]):(Z[ba]=pa[db],Fa[ba]=Wb[db++]+xb);for(;Ga<sb;++Ga,++ba)Z[ba]=mb[Ga],Fa[ba]=Pa[Ga];for(;db<Qb;++db,++ba)Z[ba]=pa[db],Fa[ba]=Wb[db]+xb}else{if(0<xb)for(pa=0;pa<Qb;++pa)Wb[pa]+=xb;Ka=ob;Da=Wb}lb=sb+Qb;return{index:Wb,value:ob}},remove:function(mb,Pa){const xb=lb;let sb,Qb,
Wb;for(Qb=0;!Pa[Da[Qb]]&&Qb<xb;++Qb);for(Wb=Qb;Qb<xb;++Qb)Pa[sb=Da[Qb]]||(Da[Wb]=sb,Ka[Wb]=Ka[Qb],++Wb);lb=xb-mb},bisect:function(mb,Pa){let xb;Pa?xb=Pa.length:(Pa=Ka,xb=lb);return[Qa(Pa,mb[0],0,xb),pb(Pa,mb[1],0,xb)]},reindex:function(mb){for(let Pa=0,xb=lb;Pa<xb;++Pa)Da[Pa]=mb[Da[Pa]]},index:()=>Da,size:()=>lb}}function Ua(Da,Ka){Da.sort.call(Ka,(lb,mb)=>{lb=Da[lb];mb=Da[mb];return lb<mb?-1:lb>mb?1:0});return jc(Da,Ka)}function ub(Da){k.Transform.call(this,ib(),Da);this._dims=this._indices=null}
function Kb(Da){k.Transform.call(this,null,Da)}const Lb=Da=>new Uint8Array(Da),Cb=Da=>new Uint16Array(Da),Pb=Da=>new Uint32Array(Da),ab=uc(vc),pb=ab.right,Qa=ab.left;uc(function(Da){return null===Da?NaN:+Da}).center;ub.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};P.inherits(ub,k.Transform,{transform(Da,Ka){return this._dims?Da.modified("fields")||Da.fields.some(lb=>
Ka.modified(lb.fields))?this.reinit(Da,Ka):this.eval(Da,Ka):this.init(Da,Ka)},init(Da,Ka){const lb=Da.fields,mb=Da.query,Pa=this._indices={},xb=this._dims=[],sb=mb.length;let Qb=0;for(var Wb;Qb<sb;++Qb)Wb=lb[Qb].fname,Wb=Pa[Wb]||(Pa[Wb]=Yb()),xb.push(ac(Wb,Qb,mb[Qb]));return this.eval(Da,Ka)},reinit(Da,Ka){const lb=Ka.materialize().fork(),mb=Da.fields,Pa=Da.query,xb=this._indices,sb=this._dims,Qb=this.value,Wb=Qb.curr(),ob=Qb.prev(),pa=Qb.all(),Z=lb.rem=lb.add,Fa=lb.mod,Ga=Pa.length,db={};let ba;
var na;let q,M,Q,g;ob.set(Wb);Ka.rem.length&&(q=this.remove(Da,Ka,lb));Ka.add.length&&Qb.add(Ka.add);if(Ka.mod.length){M={};var u=Ka.mod;Q=0;for(na=u.length;Q<na;++Q)M[u[Q]._index]=1}for(Q=0;Q<Ga;++Q)if(g=mb[Q],!sb[Q]||Da.modified("fields",Q)||Ka.modified(g.fields))na=g.fname,(u=db[na])||(xb[na]=ba=Yb(),db[na]=u=ba.insert(g,Ka.source,0)),sb[Q]=ac(ba,Q,Pa[Q]).onAdd(u,Wb);Q=0;for(na=Qb.data().length;Q<na;++Q)q[Q]||(ob[Q]!==Wb[Q]?Z.push(Q):M[Q]&&Wb[Q]!==pa&&Fa.push(Q));Qb.mask=(1<<Ga)-1;return lb},eval(Da,
Ka){const lb=Ka.materialize().fork(),mb=this._dims.length;let Pa=0;Ka.rem.length&&(this.remove(Da,Ka,lb),Pa|=(1<<mb)-1);Da.modified("query")&&!Da.modified("fields")&&(Pa|=this.update(Da,Ka,lb));Ka.add.length&&(this.insert(Da,Ka,lb),Pa|=(1<<mb)-1);Ka.mod.length&&(this.modify(Ka,lb),Pa|=(1<<mb)-1);this.value.mask=Pa;return lb},insert(Da,Ka,lb){Ka=Ka.add;var mb=this.value;const Pa=this._dims,xb=this._indices;Da=Da.fields;const sb={};lb=lb.add;const Qb=mb.size()+Ka.length,Wb=Pa.length;let ob=mb.size();
mb.resize(Qb,Wb);mb.add(Ka);const pa=mb.curr(),Z=mb.prev(),Fa=mb.all();for(mb=0;mb<Wb;++mb){var Ga=Da[mb].fname;Ga=sb[Ga]||(sb[Ga]=xb[Ga].insert(Da[mb],Ka,ob));Pa[mb].onAdd(Ga,pa)}for(;ob<Qb;++ob)Z[ob]=Fa,pa[ob]!==Fa&&lb.push(ob)},modify(Da,Ka){Ka=Ka.mod;var lb=this.value;const mb=lb.curr();lb=lb.all();Da=Da.mod;let Pa,xb,sb;Pa=0;for(xb=Da.length;Pa<xb;++Pa)sb=Da[Pa]._index,mb[sb]!==lb&&Ka.push(sb)},remove(Da,Ka,lb){Da=this._indices;var mb=this.value;const Pa=mb.curr(),xb=mb.prev();mb=mb.all();const sb=
{};lb=lb.rem;const Qb=Ka.rem;let Wb,ob,pa,Z;Wb=0;for(ob=Qb.length;Wb<ob;++Wb)pa=Qb[Wb]._index,sb[pa]=1,xb[pa]=Z=Pa[pa],Pa[pa]=mb,Z!==mb&&lb.push(pa);for(pa in Da)Da[pa].remove(ob,sb);this.reindex(Ka,ob,sb);return sb},reindex(Da,Ka,lb){const mb=this._indices,Pa=this.value;Da.runAfter(()=>{const xb=Pa.remove(Ka,lb);for(const sb in mb)mb[sb].reindex(xb)})},update(Da,Ka,lb){const mb=this._dims,Pa=Da.query;Ka=Ka.stamp;const xb=mb.length;let sb=0,Qb,Wb;for(Wb=lb.filters=0;Wb<xb;++Wb)Da.modified("query",
Wb)&&(Qb=Wb,++sb);if(1===sb)sb=mb[Qb].one,this.incrementOne(mb[Qb],Pa[Qb],lb.add,lb.rem);else for(sb=Wb=0;Wb<xb;++Wb)Da.modified("query",Wb)&&(sb|=mb[Wb].one,this.incrementAll(mb[Wb],Pa[Wb],Ka,lb.add),lb.rem=lb.add);return sb},incrementAll(Da,Ka,lb,mb){var Pa=this.value;const xb=Pa.seen(),sb=Pa.curr();Pa=Pa.prev();const Qb=Da.index();var Wb=Da.bisect(Da.range),ob=Da.bisect(Ka);const pa=ob[0];ob=ob[1];const Z=Wb[0];Wb=Wb[1];const Fa=Da.one;let Ga,db,ba;if(pa<Z)for(Ga=pa,db=Math.min(Z,ob);Ga<db;++Ga)ba=
Qb[Ga],xb[ba]!==lb&&(Pa[ba]=sb[ba],xb[ba]=lb,mb.push(ba)),sb[ba]^=Fa;else if(pa>Z)for(Ga=Z,db=Math.min(pa,Wb);Ga<db;++Ga)ba=Qb[Ga],xb[ba]!==lb&&(Pa[ba]=sb[ba],xb[ba]=lb,mb.push(ba)),sb[ba]^=Fa;if(ob>Wb)for(Ga=Math.max(pa,Wb),db=ob;Ga<db;++Ga)ba=Qb[Ga],xb[ba]!==lb&&(Pa[ba]=sb[ba],xb[ba]=lb,mb.push(ba)),sb[ba]^=Fa;else if(ob<Wb)for(Ga=Math.max(Z,ob),db=Wb;Ga<db;++Ga)ba=Qb[Ga],xb[ba]!==lb&&(Pa[ba]=sb[ba],xb[ba]=lb,mb.push(ba)),sb[ba]^=Fa;Da.range=Ka.slice()},incrementOne(Da,Ka,lb,mb){const Pa=this.value.curr(),
xb=Da.index();var sb=Da.bisect(Da.range),Qb=Da.bisect(Ka);const Wb=Qb[0];Qb=Qb[1];const ob=sb[0];sb=sb[1];const pa=Da.one;let Z,Fa,Ga;if(Wb<ob)for(Z=Wb,Fa=Math.min(ob,Qb);Z<Fa;++Z)Ga=xb[Z],Pa[Ga]^=pa,lb.push(Ga);else if(Wb>ob)for(Z=ob,Fa=Math.min(Wb,sb);Z<Fa;++Z)Ga=xb[Z],Pa[Ga]^=pa,mb.push(Ga);if(Qb>sb)for(Z=Math.max(Wb,sb),Fa=Qb;Z<Fa;++Z)Ga=xb[Z],Pa[Ga]^=pa,lb.push(Ga);else if(Qb<sb)for(Z=Math.max(ob,Qb),Fa=sb;Z<Fa;++Z)Ga=xb[Z],Pa[Ga]^=pa,mb.push(Ga);Da.range=Ka.slice()}});Kb.Definition={type:"ResolveFilter",
metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};P.inherits(Kb,k.Transform,{transform(Da,Ka){const lb=~(Da.ignore||0);Da=Da.filter;const mb=Da.mask;if(0===(mb&lb))return Ka.StopPropagation;Ka=Ka.fork(Ka.ALL);const Pa=Da.data(),xb=Da.curr(),sb=Da.prev(),Qb=Wb=>xb[Wb]&lb?null:Pa[Wb];Ka.filter(Ka.MOD,Qb);mb&mb-1?(Ka.filter(Ka.ADD,
Wb=>{const ob=xb[Wb]&lb;return!ob&&ob^sb[Wb]&lb?Pa[Wb]:null}),Ka.filter(Ka.REM,Wb=>{const ob=xb[Wb]&lb;return!ob||ob^ob^sb[Wb]&lb?null:Pa[Wb]})):(Ka.filter(Ka.ADD,Qb),Ka.filter(Ka.REM,Wb=>(xb[Wb]&lb)===mb?Pa[Wb]:null));return Ka.filter(Ka.SOURCE,Wb=>Qb(Wb._index))}});v.crossfilter=ub;v.resolvefilter=Kb})};
shadow$provide[57]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(21)):"function"===typeof define&&define.amd?define(["exports","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega))})(this,function(v,k){function P(A){this.type=A}function ib(A){switch(A.type){case "ArrayExpression":return A.elements;case "BinaryExpression":case "LogicalExpression":return[A.left,A.right];case "CallExpression":return[A.callee].concat(A.arguments);
case "ConditionalExpression":return[A.test,A.consequent,A.alternate];case "MemberExpression":return[A.object,A.property];case "ObjectExpression":return A.properties;case "Property":return[A.key,A.value];case "UnaryExpression":return[A.argument];default:return[]}}function Gb(A,E){if(!A)throw Error("ASSERT: "+E);}function ac(A){return 48<=A&&57>=A}function vc(A){return 0<="0123456789abcdefABCDEF".indexOf(A)}function Ac(A){return 0<="01234567".indexOf(A)}function uc(A){return 10===A||13===A||8232===
A||8233===A}function Bb(A){return 36===A||95===A||65<=A&&90>=A||97<=A&&122>=A||92===A||128<=A&&g.test(String.fromCharCode(A))}function jc(A){return 36===A||95===A||65<=A&&90>=A||97<=A&&122>=A||48<=A&&57>=A||92===A||128<=A&&u.test(String.fromCharCode(A))}function Yb(){for(;q<M;){const A=na.charCodeAt(q);if(32===A||9===A||11===A||12===A||160===A||5760<=A&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(A)||uc(A))++q;else break}}function Ua(A){var E=
0;var H="u"===A?4:2;for(A=0;A<H;++A)if(q<M&&vc(na[q])){var V=na[q++];E=16*E+"0123456789abcdef".indexOf(V.toLowerCase())}else Pa({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(E)}function ub(){var A=na.charCodeAt(q++);var E=String.fromCharCode(A);92===A&&(117!==na.charCodeAt(q)&&Pa({},"Unexpected token %0","ILLEGAL"),++q,(A=Ua("u"))&&"\\"!==A&&Bb(A.charCodeAt(0))||Pa({},"Unexpected token %0","ILLEGAL"),E=A);for(;q<M;){A=na.charCodeAt(q);if(!jc(A))break;++q;E+=String.fromCharCode(A);
92===A&&(E=E.substr(0,E.length-1),117!==na.charCodeAt(q)&&Pa({},"Unexpected token %0","ILLEGAL"),++q,(A=Ua("u"))&&"\\"!==A&&jc(A.charCodeAt(0))||Pa({},"Unexpected token %0","ILLEGAL"),E+=A)}return E}function Kb(){var A=q,E=na.charCodeAt(q),H=na[q];switch(E){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++q,{type:7,value:String.fromCharCode(E),start:A,end:q};default:var V=na.charCodeAt(q+1);if(61===V)switch(E){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return q+=
2,{type:7,value:String.fromCharCode(E)+String.fromCharCode(V),start:A,end:q};case 33:case 61:return q+=2,61===na.charCodeAt(q)&&++q,{type:7,value:na.slice(A,q),start:A,end:q}}}E=na.substr(q,4);if("\x3e\x3e\x3e\x3d"===E)return q+=4,{type:7,value:E,start:A,end:q};E=E.substr(0,3);if("\x3e\x3e\x3e"===E||"\x3c\x3c\x3d"===E||"\x3e\x3e\x3d"===E)return q+=3,{type:7,value:E,start:A,end:q};E=E.substr(0,2);if(H===E[1]&&0<="+-\x3c\x3e\x26|".indexOf(H)||"\x3d\x3e"===E)return q+=2,{type:7,value:E,start:A,end:q};
"//"===E&&Pa({},"Unexpected token %0","ILLEGAL");if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(H))return++q,{type:7,value:H,start:A,end:q};Pa({},"Unexpected token %0","ILLEGAL")}function Lb(){var A=na[q];Gb(ac(A.charCodeAt(0))||"."===A,"Numeric literal must start with a decimal digit or a decimal point");var E=q;var H="";if("."!==A){H=na[q++];A=na[q];if("0"===H){if("x"===A||"X"===A){++q;for(H="";q<M&&vc(na[q]);)H+=na[q++];0===H.length&&Pa({},"Unexpected token %0","ILLEGAL");Bb(na.charCodeAt(q))&&Pa({},
"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt("0x"+H,16),start:E,end:q}}if(Ac(A)){for(H="0"+na[q++];q<M&&Ac(na[q]);)H+=na[q++];(Bb(na.charCodeAt(q))||ac(na.charCodeAt(q)))&&Pa({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(H,8),octal:!0,start:E,end:q}}A&&ac(A.charCodeAt(0))&&Pa({},"Unexpected token %0","ILLEGAL")}for(;ac(na.charCodeAt(q));)H+=na[q++];A=na[q]}if("."===A){for(H+=na[q++];ac(na.charCodeAt(q));)H+=na[q++];A=na[q]}if("e"===A||"E"===A){H+=na[q++];A=na[q];
if("+"===A||"-"===A)H+=na[q++];if(ac(na.charCodeAt(q)))for(;ac(na.charCodeAt(q));)H+=na[q++];else Pa({},"Unexpected token %0","ILLEGAL")}Bb(na.charCodeAt(q))&&Pa({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(H),start:E,end:q}}function Cb(A,E){let H=A;0<=E.indexOf("u")&&(H=H.replace(/\\u\{([0-9a-fA-F]+)\}/g,(V,Aa)=>{if(1114111>=parseInt(Aa,16))return"x";Pa({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(H)}catch(V){Pa({},"Invalid regular expression")}try{return new RegExp(A,
E)}catch(V){return null}}function Pb(){Yb();if(q>=M)return{type:2,start:q,end:q};var A=na.charCodeAt(q);if(Bb(A)){A=q;if(92===na.charCodeAt(q))var E=ub();else a:{for(E=q++;q<M;){var H=na.charCodeAt(q);if(92===H){q=E;E=ub();break a}if(jc(H))++q;else break}E=na.slice(E,q)}return{type:1===E.length?3:m.hasOwnProperty(E)?4:"null"===E?5:"true"===E||"false"===E?1:3,value:E,start:A,end:q}}if(40===A||41===A||59===A)return Kb();if(39===A||34===A){var V="";H=!1;A=na[q];Gb("'"===A||'"'===A,"String literal must starts with a quote");
E=q;for(++q;q<M;){var Aa=na[q++];if(Aa===A){A="";break}else if("\\"===Aa)if((Aa=na[q++])&&uc(Aa.charCodeAt(0)))"\r"===Aa&&"\n"===na[q]&&++q;else switch(Aa){case "u":case "x":if("{"===na[q]){++q;var Y=na[q];Aa=0;for("}"===Y&&Pa({},"Unexpected token %0","ILLEGAL");q<M;){Y=na[q++];if(!vc(Y))break;Aa=16*Aa+"0123456789abcdef".indexOf(Y.toLowerCase())}(1114111<Aa||"}"!==Y)&&Pa({},"Unexpected token %0","ILLEGAL");Aa=65535>=Aa?String.fromCharCode(Aa):String.fromCharCode((Aa-65536>>10)+55296,(Aa-65536&1023)+
56320);V+=Aa}else V+=Ua(Aa);break;case "n":V+="\n";break;case "r":V+="\r";break;case "t":V+="\t";break;case "b":V+="\b";break;case "f":V+="\f";break;case "v":V+="\v";break;default:Ac(Aa)?(Y="01234567".indexOf(Aa),0!==Y&&(H=!0),q<M&&Ac(na[q])&&(H=!0,Y=8*Y+"01234567".indexOf(na[q++]),0<="0123".indexOf(Aa)&&q<M&&Ac(na[q])&&(Y=8*Y+"01234567".indexOf(na[q++]))),V+=String.fromCharCode(Y)):V+=Aa}else if(uc(Aa.charCodeAt(0)))break;else V+=Aa}""!==A&&Pa({},"Unexpected token %0","ILLEGAL");return{type:8,value:V,
octal:H,start:E,end:q}}return 46===A?ac(na.charCodeAt(q+1))?Lb():Kb():ac(A)?Lb():Kb()}function ab(){const A=Q;q=A.end;Q=Pb();q=A.end;return A}function pb(){const A=q;Q=Pb();q=A}function Qa(A,E,H){const V=new P("||"===A||"\x26\x26"===A?"LogicalExpression":"BinaryExpression");V.operator=A;V.left=E;V.right=H;return V}function Da(A){const E=new P("Identifier");E.name=A;return E}function Ka(A){const E=new P("Literal");E.value=A.value;E.raw=na.slice(A.start,A.end);A.regex&&("//"===E.raw&&(E.raw="/(?:)/"),
E.regex=A.regex);return E}function lb(A,E,H){const V=new P("MemberExpression");V.computed="["===A;V.object=E;V.property=H;V.computed||(H.member=!0);return V}function mb(A,E,H){const V=new P("Property");V.key=E;V.value=H;V.kind=A;return V}function Pa(A,E){var H=Array.prototype.slice.call(arguments,2),V=E.replace(/%(\d)/g,(Y,t)=>{Gb(t<H.length,"Message reference must be in range");return H[t]});var Aa=Error(V);Aa.index=q;Aa.description=V;throw Aa;}function xb(A){2===A.type&&Pa(A,"Unexpected end of input");
6===A.type&&Pa(A,"Unexpected number");8===A.type&&Pa(A,"Unexpected string");3===A.type&&Pa(A,"Unexpected identifier");4===A.type&&Pa(A,"Unexpected reserved word");Pa(A,"Unexpected token %0",A.value)}function sb(A){const E=ab();7===E.type&&E.value===A||xb(E)}function Qb(A){return 7===Q.type&&Q.value===A}function Wb(){q=Q.start;const A=ab();return 8===A.type||6===A.type?(A.octal&&Pa(A,"Octal literals are not allowed in strict mode."),Ka(A)):Da(A.value)}function ob(){if(Qb("(")){sb("(");var A=db();sb(")");
return A}if(Qb("[")){A=[];q=Q.start;for(sb("[");!Qb("]");)Qb(",")?(ab(),A.push(null)):(A.push(Ga()),Qb("]")||sb(","));ab();var E=new P("ArrayExpression");E.elements=A;return E}if(Qb("{")){A=[];E={};var H=String;q=Q.start;for(sb("{");!Qb("}");){q=Q.start;var V=Q;if(3===V.type){var Aa=Wb();sb(":");V=Ga();V=mb("init",Aa,V)}else 2===V.type||7===V.type?(xb(V),V=void 0):(Aa=Wb(),sb(":"),V=Ga(),V=mb("init",Aa,V));Aa="Identifier"===V.key.type?V.key.name:H(V.key.value);Aa="$"+Aa;Object.prototype.hasOwnProperty.call(E,
Aa)?Pa({},"Duplicate data property in object literal not allowed in strict mode"):E[Aa]=!0;A.push(V);Qb("}")||sb(",")}sb("}");E=new P("ObjectExpression");E.properties=A;return E}A=Q.type;q=Q.start;if(3===A||C[Q.value])E=Da(ab().value);else if(8===A||6===A)Q.octal&&Pa(Q,"Octal literals are not allowed in strict mode."),E=Ka(ab());else{if(4===A)throw Error("Disabled.");if(1===A)A=ab(),A.value="true"===A.value,E=Ka(A);else if(5===A)A=ab(),A.value=null,E=Ka(A);else if(Qb("/")||Qb("/\x3d")){var Y;Q=null;
Yb();A=q;E=na[q];Gb("/"===E,"Regular expression literal must start with a slash");H=na[q++];for(Aa=V=!1;q<M;)if(E=na[q++],H+=E,"\\"===E)E=na[q++],uc(E.charCodeAt(0))&&Pa({},"Invalid regular expression: missing /"),H+=E;else if(uc(E.charCodeAt(0)))Pa({},"Invalid regular expression: missing /");else if(V)"]"===E&&(V=!1);else if("/"===E){Aa=!0;break}else"["===E&&(V=!0);Aa||Pa({},"Invalid regular expression: missing /");E=H.substr(1,H.length-2);for(Y=Aa="";q<M;){V=na[q];if(!jc(V.charCodeAt(0)))break;
++q;"\\"===V&&q<M?Pa({},"Unexpected token %0","ILLEGAL"):(Y+=V,Aa+=V)}0<=Y.search(/[^gimuy]/g)&&Pa({},"Invalid regular expression",Y);V=Y;Y=Cb(E,V);E=Ka({literal:H+Aa,value:Y,regex:{pattern:E,flags:V},start:A,end:q});pb()}else xb(ab())}return E}function pa(){var A;for(A=ob();;)if(Qb(".")){sb(".");q=Q.start;var E=ab();3===E.type||4===E.type||1===E.type||5===E.type||xb(E);E=Da(E.value);A=lb(".",A,E)}else if(Qb("(")){E=[];sb("(");if(!Qb(")"))for(;q<M;){E.push(Ga());if(Qb(")"))break;sb(",")}sb(")");const H=
new P("CallExpression");H.callee=A;H.arguments=E;A=H}else if(Qb("["))sb("["),E=db(),sb("]"),A=lb("[",A,E);else break;if(7===Q.type&&(Qb("++")||Qb("--")))throw Error("Disabled.");return A}function Z(){if(7!==Q.type&&4!==Q.type)var A=pa();else{if(Qb("++")||Qb("--"))throw Error("Disabled.");if(Qb("+")||Qb("-")||Qb("~")||Qb("!")){var E=ab();A=Z();E=E.value;const H=new P("UnaryExpression");H.operator=E;H.argument=A;H.prefix=!0;A=H}else{if(4===Q.type&&"delete"===Q.value||4===Q.type&&"void"===Q.value||4===
Q.type&&"typeof"===Q.value)throw Error("Disabled.");A=pa()}}return A}function Fa(A){let E=0;if(7!==A.type&&4!==A.type)return 0;switch(A.value){case "||":E=1;break;case "\x26\x26":E=2;break;case "|":E=3;break;case "^":E=4;break;case "\x26":E=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":E=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":E=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":E=8;break;case "+":case "-":E=
9;break;case "*":case "/":case "%":E=11}return E}function Ga(){var A=Q;var E=Z();var H=Q;var V=Fa(H);if(0===V)var Aa=E;else{H.prec=V;ab();A=[A,Q];var Y=Z();for(Aa=[E,H,Y];0<(V=Fa(Q));){for(;2<Aa.length&&V<=Aa[Aa.length-2].prec;)Y=Aa.pop(),H=Aa.pop().value,E=Aa.pop(),A.pop(),E=Qa(H,E,Y),Aa.push(E);H=ab();H.prec=V;Aa.push(H);A.push(Q);E=Z();Aa.push(E)}V=Aa.length-1;E=Aa[V];for(A.pop();1<V;)A.pop(),E=Qa(Aa[V-1].value,Aa[V-2],E),V-=2;Aa=E}Qb("?")&&(ab(),A=Ga(),sb(":"),V=Ga(),E=new P("ConditionalExpression"),
E.test=Aa,E.consequent=A,E.alternate=V,Aa=E);return Aa}function db(){const A=Ga();if(Qb(","))throw Error("Disabled.");return A}function ba(A){function E(H,V,Aa){return Y=>{let t=A(Y[0]);V&&(t=V+"("+t+")",0===V.lastIndexOf("new ",0)&&(t="("+t+")"));return t+"."+H+(0>Aa?"":0===Aa?"()":"("+Y.slice(1).map(A).join(",")+")")}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",
floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(H){3>H.length&&k.error("Missing arguments to clamp function.");3<H.length&&k.error("Too many arguments to clamp function.");H=H.map(A);return"Math.max("+H[1]+", Math.min("+H[2]+","+H[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:E("getDate","new Date",0),day:E("getDay","new Date",0),
year:E("getFullYear","new Date",0),month:E("getMonth","new Date",0),hours:E("getHours","new Date",0),minutes:E("getMinutes","new Date",0),seconds:E("getSeconds","new Date",0),milliseconds:E("getMilliseconds","new Date",0),time:E("getTime","new Date",0),timezoneoffset:E("getTimezoneOffset","new Date",0),utcdate:E("getUTCDate","new Date",0),utcday:E("getUTCDay","new Date",0),utcyear:E("getUTCFullYear","new Date",0),utcmonth:E("getUTCMonth","new Date",0),utchours:E("getUTCHours","new Date",0),utcminutes:E("getUTCMinutes",
"new Date",0),utcseconds:E("getUTCSeconds","new Date",0),utcmilliseconds:E("getUTCMilliseconds","new Date",0),length:E("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:E("toUpperCase","String",0),lower:E("toLowerCase","String",0),substring:E("substring","String"),split:E("split","String"),trim:E("trim","String",0),regexp:"RegExp",test:E("test","RegExp"),if:function(H){3>H.length&&k.error("Missing arguments to if function.");3<H.length&&k.error("Too many arguments to if function.");
H=H.map(A);return"("+H[0]+"?"+H[1]+":"+H[2]+")"}}}P.prototype.visit=function(A){let E,H,V;if(A(this))return 1;E=ib(this);H=0;for(V=E.length;H<V;++H)if(E[H].visit(A))return 1};var na,q,M,Q,g=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),
u=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");
const m={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},C={"if":1};var B={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",
LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};v.ASTNode=P;v.ArrayExpression="ArrayExpression";v.BinaryExpression="BinaryExpression";v.CallExpression="CallExpression";v.ConditionalExpression="ConditionalExpression";v.Identifier="Identifier";v.Literal="Literal";v.LogicalExpression="LogicalExpression";v.MemberExpression="MemberExpression";v.ObjectExpression="ObjectExpression";v.Property="Property";
v.RawCode="RawCode";v.UnaryExpression="UnaryExpression";v.codegenExpression=function(A){function E(Ya){if(k.isString(Ya))return Ya;const Ib=Ca[Ya.type];null==Ib&&k.error("Unsupported type: "+Ya.type);return Ib(Ya)}function H(Ya){Ya={code:E(Ya),globals:Object.keys(Wa),fields:Object.keys($a)};Wa={};$a={};return Ya}A=A||{};const V=A.allowed?k.toSet(A.allowed):{},Aa=A.forbidden?k.toSet(A.forbidden):{},Y=A.constants||B,t=(A.functions||ba)(E),L=A.globalvar,va=A.fieldvar,La=k.isFunction(L)?L:Ya=>`${L}["${Ya}"]`;
let Wa={},$a={},X=0;const Ca={Literal:Ya=>Ya.raw,Identifier:Ya=>{Ya=Ya.name;if(0<X)return Ya;if(k.hasOwnProperty(Aa,Ya))return k.error("Illegal identifier: "+Ya);if(k.hasOwnProperty(Y,Ya))return Y[Ya];if(k.hasOwnProperty(V,Ya))return Ya;Wa[Ya]=1;return La(Ya)},MemberExpression:Ya=>{const Ib=!Ya.computed,yc=E(Ya.object);Ib&&(X+=1);Ya=E(Ya.property);if(yc===va){var sc=$a;var xc=(xc=Ya&&Ya.length-1)&&('"'===Ya[0]&&'"'===Ya[xc]||"'"===Ya[0]&&"'"===Ya[xc])?Ya.slice(1,-1):Ya;sc[xc]=1}Ib&&--X;return yc+
(Ib?"."+Ya:"["+Ya+"]")},CallExpression:Ya=>{"Identifier"!==Ya.callee.type&&k.error("Illegal callee type: "+Ya.callee.type);const Ib=Ya.callee.name;Ya=Ya.arguments;const yc=k.hasOwnProperty(t,Ib)&&t[Ib];yc||k.error("Unrecognized function: "+Ib);return k.isFunction(yc)?yc(Ya):yc+"("+Ya.map(E).join(",")+")"},ArrayExpression:Ya=>"["+Ya.elements.map(E).join(",")+"]",BinaryExpression:Ya=>"("+E(Ya.left)+" "+Ya.operator+" "+E(Ya.right)+")",UnaryExpression:Ya=>"("+Ya.operator+E(Ya.argument)+")",ConditionalExpression:Ya=>
"("+E(Ya.test)+"?"+E(Ya.consequent)+":"+E(Ya.alternate)+")",LogicalExpression:Ya=>"("+E(Ya.left)+Ya.operator+E(Ya.right)+")",ObjectExpression:Ya=>"{"+Ya.properties.map(E).join(",")+"}",Property:Ya=>{X+=1;const Ib=E(Ya.key);--X;return Ib+":"+E(Ya.value)}};H.functions=t;H.constants=Y;return H};v.constants=B;v.functions=ba;v.parseExpression=function(A){na=A;q=0;M=na.length;Q=null;pb();A=db();if(2!==Q.type)throw Error("Unexpect token after expression.");return A}})};
shadow$provide[58]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(21),Db(57)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega))})(this,function(v,k,P){function ib(ab,pb){return null==ab||null==pb?NaN:ab<pb?-1:ab>pb?1:ab>=pb?0:NaN}function Gb(ab,pb){return null==ab||null==pb?NaN:pb<ab?-1:pb>ab?1:pb>=ab?0:NaN}function ac(){return 0}function vc({_intern:ab,
_key:pb},Qa){pb=pb(Qa);return ab.has(pb)?ab.get(pb):Qa}function Ac({_intern:ab,_key:pb},Qa){pb=pb(Qa);if(ab.has(pb))return ab.get(pb);ab.set(pb,Qa);return Qa}function uc({_intern:ab,_key:pb},Qa){pb=pb(Qa);ab.has(pb)&&(Qa=ab.get(pb),ab.delete(pb));return Qa}function Bb(ab){return null!==ab&&"object"===typeof ab?ab.valueOf():ab}function jc(ab){return ab instanceof Ua?ab:new Ua(ab)}function Yb(ab,pb){var Qa=pb.fields;pb=pb.values;for(var Da=Qa.length,Ka=0,lb,mb;Ka<Da;++Ka)if(mb=Qa[Ka],mb.getter=k.field.getter||
k.field(mb.field),lb=mb.getter(ab),k.isDate(lb)&&(lb=k.toNumber(lb)),k.isDate(pb[Ka])&&(pb[Ka]=k.toNumber(pb[Ka])),k.isDate(pb[Ka][0])&&(pb[Ka]=pb[Ka].map(k.toNumber)),"E"===mb.type){if(k.isArray(pb[Ka])?0>pb[Ka].indexOf(lb):lb!==pb[Ka])return!1}else if("R"===mb.type){if(!k.inrange(lb,pb[Ka]))return!1}else if("R-RE"===mb.type){if(!k.inrange(lb,pb[Ka],!0,!1))return!1}else if("R-E"===mb.type){if(!k.inrange(lb,pb[Ka],!1,!1))return!1}else if("R-LE"===mb.type&&!k.inrange(lb,pb[Ka],!1,!0))return!1;return!0}
class Ua extends Set{constructor(ab,pb=Bb){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:pb}});if(null!=ab)for(const Qa of ab)this.add(Qa)}has(ab){return super.has(vc(this,ab))}add(ab){return super.add(Ac(this,ab))}delete(ab){return super.delete(uc(this,ab))}}const ub=k.field("_vgsid_"),Kb=function(ab){function pb(lb,mb,Pa=0,xb=lb.length){if(Pa<xb){if(0!==Qa(mb,mb))return xb;do{const sb=Pa+xb>>>1;0>Da(lb[sb],mb)?Pa=sb+1:xb=sb}while(Pa<xb)}return Pa}let Qa,Da,Ka;2!==ab.length?
(Qa=ib,Da=(lb,mb)=>ib(ab(lb),mb),Ka=(lb,mb)=>ab(lb)-mb):(Qa=ab===ib||ab===Gb?ab:ac,Ka=Da=ab);return{left:pb,center:function(lb,mb,Pa=0,xb=lb.length){xb=pb(lb,mb,Pa,xb-1);return xb>Pa&&Ka(lb[xb-1],mb)>-Ka(lb[xb],mb)?xb-1:xb},right:function(lb,mb,Pa=0,xb=lb.length){if(Pa<xb){if(0!==Qa(mb,mb))return xb;do{const sb=Pa+xb>>>1;0>=Da(lb[sb],mb)?Pa=sb+1:xb=sb}while(Pa<xb)}return Pa}}}(ub),Lb=Kb.left,Cb=Kb.right;var Pb={_vgsid__union:function(...ab){const pb=new Ua;for(const Qa of ab)for(const Da of Qa)pb.add(Da);
return pb},_vgsid__intersect:function(ab,...pb){ab=new Ua(ab);pb=pb.map(jc);a:for(const Qa of ab)for(const Da of pb)if(!Da.has(Qa)){ab.delete(Qa);continue a}return ab},E_union:function(ab,pb){if(!ab.length)return pb;for(var Qa=0,Da=pb.length;Qa<Da;++Qa)0>ab.indexOf(pb[Qa])&&ab.push(pb[Qa]);return ab},E_intersect:function(ab,pb){return ab.length?ab.filter(Qa=>0<=pb.indexOf(Qa)):pb},R_union:function(ab,pb){var Qa=k.toNumber(pb[0]),Da=k.toNumber(pb[1]);Qa>Da&&(Qa=pb[1],Da=pb[0]);if(!ab.length)return[Qa,
Da];ab[0]>Qa&&(ab[0]=Qa);ab[1]<Da&&(ab[1]=Da);return ab},R_intersect:function(ab,pb){var Qa=k.toNumber(pb[0]),Da=k.toNumber(pb[1]);Qa>Da&&(Qa=pb[1],Da=pb[0]);if(!ab.length)return[Qa,Da];if(Da<ab[0]||ab[1]<Qa)return[];ab[0]<Qa&&(ab[0]=Qa);ab[1]>Da&&(ab[1]=Da);return ab}};v.selectionIdTest=function(ab,pb,Qa){var Da=this.context.data[ab];ab=Da?Da.values.value:[];Da=Da?Da["index:unit"]&&Da["index:unit"].value:void 0;Qa="intersect"===Qa;pb=ub(pb);const Ka=Lb(ab,pb);if(Ka===ab.length||ub(ab[Ka])!==pb)return!1;
if(Da&&Qa){if(1===Da.size)return!0;if(Cb(ab,pb)-Ka<Da.size)return!1}return!0};v.selectionResolve=function(ab,pb,Qa,Da){ab=(ab=this.context.data[ab])?ab.values.value:[];for(var Ka={},lb={},mb={},Pa,xb,sb,Qb,Wb,ob,pa=ab.length,Z=0,Fa,Ga;Z<pa;++Z)if(Pa=ab[Z],Qb=Pa.unit,xb=Pa.fields,sb=Pa.values,xb&&sb){Fa=0;for(Ga=xb.length;Fa<Ga;++Fa)Wb=xb[Fa],Pa=Ka[Wb.field]||(Ka[Wb.field]={}),ob=Pa[Qb]||(Pa[Qb]=[]),mb[Wb.field]=Wb=Wb.type.charAt(0),Wb=Pb[`${Wb}_union`],Pa[Qb]=Wb(ob,k.array(sb[Fa]));Qa&&(ob=lb[Qb]||
(lb[Qb]=[]),ob.push(k.array(sb).reduce((db,ba,na)=>(db[xb[na].field]=ba,db),{})))}else Wb="_vgsid_",sb=ub(Pa),Pa=Ka[Wb]||(Ka[Wb]={}),ob=Pa[Qb]||(Pa[Qb]=[]),ob.push(sb),Qa&&(ob=lb[Qb]||(lb[Qb]=[]),ob.push({_vgsid_:sb}));pb=pb||"union";Ka._vgsid_?Ka._vgsid_=Pb[`${"_vgsid_"}_${pb}`](...Object.values(Ka._vgsid_)):Object.keys(Ka).forEach(db=>{Ka[db]=Object.keys(Ka[db]).map(ba=>Ka[db][ba]).reduce((ba,na)=>void 0===ba?na:Pb[`${mb[db]}_${pb}`](ba,na))});ab=Object.keys(lb);Qa&&ab.length&&(Ka[Da?"vlPoint":
"vlMulti"]="union"===pb?{or:ab.reduce((db,ba)=>(db.push(...lb[ba]),db),[])}:{and:ab.map(db=>({or:lb[db]}))});return Ka};v.selectionTest=function(ab,pb,Qa){var Da=this.context.data[ab];ab=Da?Da.values.value:[];Da=Da?Da["index:unit"]&&Da["index:unit"].value:void 0;Qa="intersect"===Qa;for(var Ka=ab.length,lb=0,mb,Pa,xb,sb;lb<Ka;++lb)if(mb=ab[lb],Da&&Qa){if(Pa=Pa||{},xb=Pa[sb=mb.unit]||0,-1!==xb){mb=Yb(pb,mb);Pa[sb]=mb?-1:++xb;if(mb&&1===Da.size)return!0;if(!mb&&xb===Da.get(sb).count)return!1}}else if(mb=
Yb(pb,mb),Qa^mb)return mb;return Ka&&Qa};v.selectionTuples=function(ab,pb){return ab.map(Qa=>k.extend(pb.fields?{values:pb.fields.map(Da=>(Da.getter||(Da.getter=k.field(Da.field)))(Qa.datum))}:{_vgsid_:ub(Qa.datum)},pb))};v.selectionVisitor=function(ab,pb,Qa,Da){pb[0].type!==P.Literal&&k.error("First argument to selection functions must be a string literal.");ab=pb[0].value;pb=2<=pb.length&&k.peek(pb).value;const Ka=":"+ab;"intersect"!==pb||k.hasOwnProperty(Da,"@unit")||(Da["@unit"]=Qa.getData(ab).indataRef(Qa,
"unit"));k.hasOwnProperty(Da,Ka)||(Da[Ka]=Qa.getData(ab).tuplesRef())}})};
shadow$provide[59]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(21),Db(57),Db(33),Db(29),Db(34),Db(58),Db(30),Db(23)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression vega-scale vega-dataflow vega-scenegraph vega-selections vega-statistics vega-time".split(" "),k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega,v.vega,v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,P,ib,Gb,ac,vc,
Ac,uc){function Bb(qa){return(qa=this.context.data[qa])?qa.values.value:[]}function jc(qa,bb,Rb){return(Rb=(qa=this.context.data[qa]["index:"+bb])?qa.value.get(Rb):void 0)?Rb.count:Rb}function Yb(qa,bb){const Rb=this.context.dataflow;Rb.pulse(this.context.data[qa].input,Rb.changeset().remove(k.truthy).insert(bb));return 1}function Ua(qa,bb,Rb){if(qa){const hd=this.context.dataflow;hd.pulse(qa.mark.source,hd.changeset().encode(qa,bb))}return void 0!==Rb?Rb:qa}function ub(qa,bb,Rb){if(!Number.isInteger(qa)||
!Number.isInteger(bb))return"";Dc.setYear(2E3);Dc.setMonth(qa);Dc.setDate(bb);return fa.call(this,Dc,Rb)}function Kb(qa){return ub.call(this,qa,1,"%B")}function Lb(qa){return ub.call(this,qa,1,"%b")}function Cb(qa){return ub.call(this,0,2+qa,"%A")}function Pb(qa){return ub.call(this,0,2+qa,"%a")}function ab(qa,bb,Rb,hd){bb[0].type!==P.Literal&&k.error("First argument to data functions must be a string literal.");qa=bb[0].value;bb=":"+qa;if(!k.hasOwnProperty(bb,hd))try{hd[bb]=Rb.getData(qa).tuplesRef()}catch(ld){}}
function pb(qa,bb,Rb,hd){bb[0].type!==P.Literal&&k.error("First argument to indata must be a string literal.");bb[1].type!==P.Literal&&k.error("Second argument to indata must be a string literal.");qa=bb[0].value;bb=bb[1].value;const ld="@"+bb;k.hasOwnProperty(ld,hd)||(hd[ld]=Rb.getData(qa).indataRef(Rb,bb))}function Qa(qa,bb,Rb,hd){if(bb[0].type===P.Literal)Da(Rb,hd,bb[0].value);else for(qa in Rb.scales)Da(Rb,hd,qa)}function Da(qa,bb,Rb){const hd="%"+Rb;if(!k.hasOwnProperty(bb,hd))try{bb[hd]=qa.scaleRef(Rb)}catch(ld){}}
function Ka(qa,bb){if(k.isFunction(qa))return qa;if(k.isString(qa))return(qa=bb.scales[qa])&&ib.isRegisteredScale(qa.value)?qa.value:void 0}function lb(qa,bb,Rb){bb.__bandwidth=ld=>ld&&ld.bandwidth?ld.bandwidth():0;Rb._bandwidth=Qa;Rb._range=Qa;Rb._scale=Qa;const hd=ld=>"_["+(ld.type===P.Literal?k.stringValue("%"+ld.value):k.stringValue("%")+"+"+qa(ld))+"]";return{_bandwidth:ld=>`this.__bandwidth(${hd(ld[0])})`,_range:ld=>`${hd(ld[0])}.range()`,_scale:ld=>`${hd(ld[0])}(${qa(ld[1])})`}}function mb(qa){return 1<
qa?ee:-1>qa?-ee:Math.asin(qa)}function Pa(){}function xb(qa,bb){if(qa&&be.hasOwnProperty(qa.type))be[qa.type](qa,bb)}function sb(qa,bb,Rb){var hd=-1;Rb=qa.length-Rb;for(bb.lineStart();++hd<Rb;){var ld=qa[hd];bb.point(ld[0],ld[1],ld[2])}bb.lineEnd()}function Qb(qa,bb){var Rb=-1,hd=qa.length;for(bb.polygonStart();++Rb<hd;)sb(qa[Rb],bb,1);bb.polygonEnd()}function Wb(qa,bb){if(qa&&Cd.hasOwnProperty(qa.type))Cd[qa.type](qa,bb);else xb(qa,bb)}function ob(){Fc.point=Z}function pa(){Fa(Ye,ef)}function Z(qa,
bb){Fc.point=Fa;Ye=qa;ef=bb;qa*=xd;bb*=xd;od=qa;Ec=Qc(bb=bb/2+Sa);kd=jd(bb)}function Fa(qa,bb){qa*=xd;bb*=xd;bb=bb/2+Sa;var Rb=qa-od,hd=0<=Rb?1:-1,ld=hd*Rb;Rb=Qc(bb);bb=jd(bb);var pe=kd*bb,Pe=Ec*Rb+pe*Qc(ld);hd=pe*hd*jd(ld);ye.add(Uc(hd,Pe));od=qa;Ec=Rb;kd=bb}function Ga(qa,bb){return[qa[1]*bb[2]-qa[2]*bb[1],qa[2]*bb[0]-qa[0]*bb[2],qa[0]*bb[1]-qa[1]*bb[0]]}function db(qa,bb){Ja.push(jb=[Id=qa,ce=qa]);bb<Vd&&(Vd=bb);bb>le&&(le=bb)}function ba(qa,bb){var Rb=[qa*xd,bb*xd];var hd=Rb[0];Rb=Rb[1];var ld=
Qc(Rb);hd=[ld*Qc(hd),ld*jd(hd),jd(Rb)];if(ka){Rb=Ga(ka,hd);ld=Rb=Ga([Rb[1],-Rb[0],0],Rb);var pe=Od(ld[0]*ld[0]+ld[1]*ld[1]+ld[2]*ld[2]);ld[0]/=pe;ld[1]/=pe;ld[2]/=pe;Rb=[Uc(Rb[1],Rb[0]),mb(Rb[2])];var Pe=qa-O;ld=0<Pe?1:-1;pe=Rb[0]*oc*ld;Pe=180<Lc(Pe);Pe^(ld*O<pe&&pe<ld*qa)?(Rb=Rb[1]*oc,Rb>le&&(le=Rb)):(pe=(pe+360)%360-180,Pe^(ld*O<pe&&pe<ld*qa))?(Rb=-Rb[1]*oc,Rb<Vd&&(Vd=Rb)):(bb<Vd&&(Vd=bb),bb>le&&(le=bb));Pe?qa<O?u(Id,qa)>u(Id,ce)&&(ce=qa):u(qa,ce)>u(Id,ce)&&(Id=qa):ce>=Id?(qa<Id&&(Id=qa),qa>ce&&
(ce=qa)):qa>O?u(Id,qa)>u(Id,ce)&&(ce=qa):u(qa,ce)>u(Id,ce)&&(Id=qa)}else Ja.push(jb=[Id=qa,ce=qa]);bb<Vd&&(Vd=bb);bb>le&&(le=bb);ka=hd;O=qa}function na(){vb.point=ba}function q(){jb[0]=Id;jb[1]=ce;vb.point=db;ka=null}function M(qa,bb){if(ka){var Rb=qa-O;ta.add(180<Lc(Rb)?Rb+(0<Rb?360:-360):Rb)}else ea=qa,I=bb;Fc.point(qa,bb);ba(qa,bb)}function Q(){Fc.lineStart()}function g(){M(ea,I);Fc.lineEnd();1E-6<Lc(ta)&&(Id=-(ce=180));jb[0]=Id;jb[1]=ce;ka=null}function u(qa,bb){return 0>(bb-=qa)?bb+360:bb}function m(qa,
bb){return qa[0]-bb[0]}function C(qa,bb){return qa[0]<=qa[1]?qa[0]<=bb&&bb<=qa[1]:bb<qa[0]||qa[1]<bb}function B(qa,bb){qa*=xd;bb*=xd;var Rb=Qc(bb);A(Rb*Qc(qa),Rb*jd(qa),jd(bb))}function A(qa,bb,Rb){++pc;rc+=(qa-rc)/pc;Kc+=(bb-Kc)/pc;Bd+=(Rb-Bd)/pc}function E(){He.point=H}function H(qa,bb){qa*=xd;bb*=xd;var Rb=Qc(bb);Ae=Rb*Qc(qa);Ld=Rb*jd(qa);he=jd(bb);He.point=V;A(Ae,Ld,he)}function V(qa,bb){qa*=xd;bb*=xd;var Rb=Qc(bb),hd=Rb*Qc(qa);qa=Rb*jd(qa);bb=jd(bb);var ld=Uc(Od((ld=Ld*bb-he*qa)*ld+(ld=he*hd-
Ae*bb)*ld+(ld=Ae*qa-Ld*hd)*ld),Ae*hd+Ld*qa+he*bb);qc+=ld;Hc+=ld*(Ae+(Ae=hd));$c+=ld*(Ld+(Ld=qa));zd+=ld*(he+(he=bb));A(Ae,Ld,he)}function Aa(){He.point=B}function Y(){He.point=L}function t(){va(De,yd);He.point=B}function L(qa,bb){De=qa;yd=bb;qa*=xd;bb*=xd;He.point=va;var Rb=Qc(bb);Ae=Rb*Qc(qa);Ld=Rb*jd(qa);he=jd(bb);A(Ae,Ld,he)}function va(qa,bb){qa*=xd;bb*=xd;var Rb=Qc(bb),hd=Rb*Qc(qa);qa=Rb*jd(qa);bb=jd(bb);Rb=Ld*bb-he*qa;var ld=he*hd-Ae*bb,pe=Ae*qa-Ld*hd,Pe=td(Rb,ld,pe),qf=mb(Pe);Pe=Pe&&-qf/Pe;
Dd.add(Pe*Rb);Kd.add(Pe*ld);Ge.add(Pe*pe);qc+=qf;Hc+=qf*(Ae+(Ae=hd));$c+=qf*(Ld+(Ld=qa));zd+=qf*(he+(he=bb));A(Ae,Ld,he)}function La(qa,bb){return function(Rb,hd,ld){return Rb?(Rb=Ka(Rb,(ld||this).context))&&Rb.path[qa](hd):bb(hd)}}function Wa(qa){const bb=this.context.group;let Rb=!1;if(bb)for(;qa;){if(qa===bb){Rb=!0;break}qa=qa.mark.group}return Rb}function $a(qa,bb,Rb){try{qa[bb].apply(qa,["EXPRESSION"].concat([].slice.call(Rb)))}catch(hd){qa.warn(hd)}return Rb[Rb.length-1]}function X(){return $a(this.context.dataflow,
"warn",arguments)}function Ca(){return $a(this.context.dataflow,"info",arguments)}function Ya(){return $a(this.context.dataflow,"debug",arguments)}function Ib(qa,bb,Rb){qa.prototype=bb.prototype=Rb;Rb.constructor=qa}function yc(qa,bb){qa=Object.create(qa.prototype);for(var Rb in bb)qa[Rb]=bb[Rb];return qa}function sc(){}function xc(){return this.rgb().formatHex()}function cd(){return this.rgb().formatRgb()}function Zb(qa){var bb,Rb;qa=(qa+"").trim().toLowerCase();return(bb=Df.exec(qa))?(Rb=bb[1].length,
bb=parseInt(bb[1],16),6===Rb?Rc(bb):3===Rb?new qb(bb>>8&15|bb>>4&240,bb>>4&15|bb&240,(bb&15)<<4|bb&15,1):8===Rb?Pd(bb>>24&255,bb>>16&255,bb>>8&255,(bb&255)/255):4===Rb?Pd(bb>>12&15|bb>>8&240,bb>>8&15|bb>>4&240,bb>>4&15|bb&240,((bb&15)<<4|bb&15)/255):null):(bb=If.exec(qa))?new qb(bb[1],bb[2],bb[3],1):(bb=jf.exec(qa))?new qb(255*bb[1]/100,255*bb[2]/100,255*bb[3]/100,1):(bb=ag.exec(qa))?Pd(bb[1],bb[2],bb[3],bb[4]):(bb=Yd.exec(qa))?Pd(255*bb[1]/100,255*bb[2]/100,255*bb[3]/100,bb[4]):(bb=ff.exec(qa))?
Yc(bb[1],bb[2]/100,bb[3]/100,1):(bb=mf.exec(qa))?Yc(bb[1],bb[2]/100,bb[3]/100,bb[4]):af.hasOwnProperty(qa)?Rc(af[qa]):"transparent"===qa?new qb(NaN,NaN,NaN,0):null}function Rc(qa){return new qb(qa>>16&255,qa>>8&255,qa&255,1)}function Pd(qa,bb,Rb,hd){0>=hd&&(qa=bb=Rb=NaN);return new qb(qa,bb,Rb,hd)}function Ma(qa){qa instanceof sc||(qa=Zb(qa));if(!qa)return new qb;qa=qa.rgb();return new qb(qa.r,qa.g,qa.b,qa.opacity)}function Vb(qa,bb,Rb,hd){return 1===arguments.length?Ma(qa):new qb(qa,bb,Rb,null==
hd?1:hd)}function qb(qa,bb,Rb,hd){this.r=+qa;this.g=+bb;this.b=+Rb;this.opacity=+hd}function Tb(){return`#${zc(this.r)}${zc(this.g)}${zc(this.b)}`}function gc(){const qa=cc(this.opacity);return`${1===qa?"rgb(":"rgba("}${Ic(this.r)}, ${Ic(this.g)}, ${Ic(this.b)}${1===qa?")":`, ${qa})`}`}function cc(qa){return isNaN(qa)?1:Math.max(0,Math.min(1,qa))}function Ic(qa){return Math.max(0,Math.min(255,Math.round(qa)||0))}function zc(qa){qa=Ic(qa);return(16>qa?"0":"")+qa.toString(16)}function Yc(qa,bb,Rb,hd){0>=
hd?qa=bb=Rb=NaN:0>=Rb||1<=Rb?qa=bb=NaN:0>=bb&&(qa=NaN);return new Ha(qa,bb,Rb,hd)}function Md(qa){if(qa instanceof Ha)return new Ha(qa.h,qa.s,qa.l,qa.opacity);qa instanceof sc||(qa=Zb(qa));if(!qa)return new Ha;if(qa instanceof Ha)return qa;qa=qa.rgb();var bb=qa.r/255,Rb=qa.g/255,hd=qa.b/255,ld=Math.min(bb,Rb,hd),pe=Math.max(bb,Rb,hd),Pe=NaN,qf=pe-ld,Gf=(pe+ld)/2;qf?(Pe=bb===pe?(Rb-hd)/qf+6*(Rb<hd):Rb===pe?(hd-bb)/qf+2:(bb-Rb)/qf+4,qf/=.5>Gf?pe+ld:2-pe-ld,Pe*=60):qf=0<Gf&&1>Gf?0:Pe;return new Ha(Pe,
qf,Gf,qa.opacity)}function ud(qa,bb,Rb,hd){return 1===arguments.length?Md(qa):new Ha(qa,bb,Rb,null==hd?1:hd)}function Ha(qa,bb,Rb,hd){this.h=+qa;this.s=+bb;this.l=+Rb;this.opacity=+hd}function gb(qa){qa=(qa||0)%360;return 0>qa?qa+360:qa}function wb(qa){return Math.max(0,Math.min(1,qa||0))}function sa(qa,bb,Rb){return 255*(60>qa?bb+(Rb-bb)*qa/60:180>qa?Rb:240>qa?bb+(Rb-bb)*(240-qa)/60:bb)}function G(qa){if(qa instanceof Na)return new Na(qa.l,qa.a,qa.b,qa.opacity);if(qa instanceof Tc)return dd(qa);
qa instanceof qb||(qa=Ma(qa));var bb=nc(qa.r),Rb=nc(qa.g),hd=nc(qa.b),ld=Za(.2225045*bb+.7168786*Rb+.0606169*hd);if(bb===Rb&&Rb===hd)var pe=bb=ld;else pe=Za((.4360747*bb+.3850649*Rb+.1430804*hd)/.96422),bb=Za((.0139322*bb+.0971045*Rb+.7141733*hd)/.82521);return new Na(116*ld-16,500*(pe-ld),200*(ld-bb),qa.opacity)}function ya(qa,bb,Rb,hd){return 1===arguments.length?G(qa):new Na(qa,bb,Rb,null==hd?1:hd)}function Na(qa,bb,Rb,hd){this.l=+qa;this.a=+bb;this.b=+Rb;this.opacity=+hd}function Za(qa){return qa>
hg?Math.pow(qa,1/3):qa/Eg+zf}function kb(qa){return qa>Af?qa*qa*qa:Eg*(qa-zf)}function Fb(qa){return 255*(.0031308>=qa?12.92*qa:1.055*Math.pow(qa,1/2.4)-.055)}function nc(qa){return.04045>=(qa/=255)?qa/12.92:Math.pow((qa+.055)/1.055,2.4)}function ec(qa){if(qa instanceof Tc)return new Tc(qa.h,qa.c,qa.l,qa.opacity);qa instanceof Na||(qa=G(qa));if(0===qa.a&&0===qa.b)return new Tc(NaN,0<qa.l&&100>qa.l?0:NaN,qa.l,qa.opacity);var bb=Math.atan2(qa.b,qa.a)*Jf;return new Tc(0>bb?bb+360:bb,Math.sqrt(qa.a*qa.a+
qa.b*qa.b),qa.l,qa.opacity)}function ic(qa,bb,Rb,hd){return 1===arguments.length?ec(qa):new Tc(qa,bb,Rb,null==hd?1:hd)}function Tc(qa,bb,Rb,hd){this.h=+qa;this.c=+bb;this.l=+Rb;this.opacity=+hd}function dd(qa){if(isNaN(qa.h))return new Na(qa.l,0,0,qa.opacity);var bb=qa.h*Hf;return new Na(qa.l,Math.cos(bb)*qa.c,Math.sin(bb)*qa.c,qa.opacity)}function ed(qa){qa/=255;return.03928>=qa?qa/12.92:Math.pow((qa+.055)/1.055,2.4)}function Qd(qa){var bb=Vb(qa);qa=ed(bb.r);const Rb=ed(bb.g);bb=ed(bb.b);return.2126*
qa+.7152*Rb+.0722*bb}function Td(qa,bb){qa=Qd(qa);bb=Qd(bb);return(Math.max(qa,bb)+.05)/(Math.min(qa,bb)+.05)}function Fd(){const qa=[].slice.call(arguments);qa.unshift({});return k.extend(...qa)}function Zd(qa,bb){if(qa===bb||qa!==qa&&bb!==bb)qa=!0;else if(k.isArray(qa))if(k.isArray(bb)&&qa.length===bb.length)a:{for(let Rb=0,hd=qa.length;Rb<hd;++Rb)if(!Zd(qa[Rb],bb[Rb])){qa=!1;break a}qa=!0}else qa=!1;else qa=k.isObject(qa)&&k.isObject(bb)?de(qa,bb):!1;return qa}function de(qa,bb){for(const Rb in qa)if(!Zd(qa[Rb],
bb[Rb]))return!1;return!0}function Ud(qa){return bb=>de(qa,bb)}function Ve(qa,bb,Rb,hd,ld,pe){const Pe=this.context.dataflow,qf=this.context.data[qa],Gf=qf.input;qa=Pe.stamp();let Ne=qf.changes,bg;if(!1===Pe._trigger||!(Gf.value.length||bb||hd))return 0;if(!Ne||Ne.stamp<qa)qf.changes=Ne=Pe.changeset(),Ne.stamp=qa,Pe.runAfter(()=>{qf.modified=!0;Pe.pulse(Gf,Ne).run()},!0,1);Rb&&(Rb=!0===Rb?k.truthy:k.isArray(Rb)||Gb.isTuple(Rb)?Rb:Ud(Rb),Ne.remove(Rb));bb&&Ne.insert(bb);hd&&(Rb=Ud(hd),Gf.value.some(Rb)?
Ne.remove(Rb):Ne.insert(hd));if(ld)for(bg in pe)Ne.modify(ld,bg,pe[bg]);return 1}function Xd(qa){qa=qa.touches;return Math.hypot(qa[0].clientX-qa[1].clientX,qa[0].clientY-qa[1].clientY)}function N(qa){qa=qa.touches;return Math.atan2(qa[0].clientY-qa[1].clientY,qa[0].clientX-qa[1].clientX)}function la(qa,bb){bb=xf[bb]||(xf[bb]=k.field(bb));return k.isArray(qa)?qa.map(bb):bb(qa)}function za(qa){return k.isArray(qa)||ArrayBuffer.isView(qa)?qa:null}function fb(qa){return za(qa)||(k.isString(qa)?qa:null)}
function Hb(qa,...bb){return za(qa).join(...bb)}function Xb(qa,...bb){return fb(qa).indexOf(...bb)}function Bc(qa,...bb){return fb(qa).lastIndexOf(...bb)}function lc(qa,...bb){return fb(qa).slice(...bb)}function Gc(qa,bb,Rb){k.isFunction(Rb)&&k.error("Function argument passed to replace.");return String(qa).replace(bb,Rb)}function id(qa){return za(qa).slice().reverse()}function Nc(qa,bb,Rb){return ib.bandSpace(qa||0,bb||0,Rb||0)}function sd(qa,bb){return(qa=Ka(qa,(bb||this).context))&&qa.bandwidth?
qa.bandwidth():0}function Hd(qa,bb){return(qa=Ka(qa,(bb||this).context))?qa.copy():void 0}function Gd(qa,bb){return(qa=Ka(qa,(bb||this).context))?qa.domain():[]}function $d(qa,bb,Rb){return(qa=Ka(qa,(Rb||this).context))?k.isArray(bb)?(qa.invertRange||qa.invert)(bb):(qa.invert||qa.invertExtent)(bb):void 0}function Wd(qa,bb){return(qa=Ka(qa,(bb||this).context))&&qa.range?qa.range():[]}function ae(qa,bb,Rb){return(qa=Ka(qa,(Rb||this).context))?qa(bb):void 0}function Ce(qa,bb,Rb,hd,ld){qa=Ka(qa,(ld||
this).context);const pe=ac.Gradient(bb,Rb);bb=qa.domain();Rb=bb[0];ld=k.peek(bb);let Pe=k.identity;ld-Rb?Pe=ib.scaleFraction(qa,Rb,ld):qa=(qa.interpolator?ib.scale("sequential")().interpolator(qa.interpolator()):ib.scale("linear")().interpolate(qa.interpolate()).range(qa.range())).domain([Rb=0,ld=1]);qa.ticks&&(bb=qa.ticks(+hd||15),Rb!==bb[0]&&bb.unshift(Rb),ld!==k.peek(bb)&&bb.push(ld));bb.forEach(qf=>pe.stop(Pe(qf),qa(qf)));return pe}function kf(qa,bb,Rb){const hd=Ka(qa,(Rb||this).context);return function(ld){return hd?
hd.path.context(ld)(bb):""}}function hf(qa){let bb=null;return function(Rb){return Rb?ac.pathRender(Rb,bb=bb||ac.pathParse(qa)):qa}}function df(qa,bb){qa=Bb.call(bb,qa);return qa.root&&qa.root.lookup||{}}function re(qa,bb,Rb){qa=df(qa,this);bb=qa[bb];Rb=qa[Rb];return bb&&Rb?bb.path(Rb).map(Kf):void 0}function tf(qa,bb){return(qa=df(qa,this)[bb])?qa.ancestors().map(Kf):void 0}function U(){const qa="undefined"!==typeof window&&window||null;return qa?qa.screen:{}}function ua(){const qa="undefined"!==
typeof window&&window||null;return qa?[qa.innerWidth,qa.innerHeight]:[void 0,void 0]}function cb(){var qa=this.context.dataflow;return(qa=qa.container&&qa.container())?[qa.clientWidth,qa.clientHeight]:[void 0,void 0]}function Ab(qa,bb,Rb){if(!qa)return[];const [hd,ld]=qa;qa=(new ac.Bounds).set(hd[0],hd[1],ld[0],ld[1]);Rb=Rb||this.context.dataflow.scenegraph().root;return ac.intersect(Rb,qa,fc(bb))}function fc(qa){let bb=null;if(qa){const Rb=k.array(qa.marktype),hd=k.array(qa.markname);bb=ld=>(!Rb.length||
Rb.some(pe=>ld.marktype===pe))&&(!hd.length||hd.some(pe=>ld.name===pe))}return bb}function Cc(qa,bb,Rb){if(1===arguments.length)return dg[qa];dg[qa]=bb;Rb&&(Ig[qa]=Rb);Ug&&(Ug.functions[qa]="this."+qa);return this}const $b=qa=>function(bb,Rb){return this.context.dataflow.locale()[qa](Rb)(bb)},J=$b("format"),fa=$b("timeFormat"),Ta=$b("utcFormat"),bc=$b("timeParse"),Pc=$b("utcParse"),Dc=new Date(2E3,0,1);class Sc{constructor(){this._partials=new Float64Array(32);this._n=0}add(qa){const bb=this._partials;
let Rb=0;for(let hd=0;hd<this._n&&32>hd;hd++){const ld=bb[hd],pe=qa+ld;(qa=Math.abs(qa)<Math.abs(ld)?qa-(pe-ld):ld-(pe-qa))&&(bb[Rb++]=qa);qa=pe}bb[Rb]=qa;this._n=Rb+1;return this}valueOf(){const qa=this._partials;let bb=this._n;let Rb,hd=0;if(0<bb){for(hd=qa[--bb];0<bb;){var ld=hd;Rb=qa[--bb];hd=ld+Rb;if(ld=Rb-(hd-ld))break}0<bb&&(0>ld&&0>qa[bb-1]||0<ld&&0<qa[bb-1])&&(Rb=2*ld,ld=hd+Rb,Rb==ld-hd&&(hd=ld))}return hd}}var gd=Math.PI,ee=gd/2,Sa=gd/4,eb=2*gd,oc=180/gd,xd=gd/180,Lc=Math.abs,Uc=Math.atan2,
Qc=Math.cos,td=Math.hypot,jd=Math.sin,Od=Math.sqrt,Cd={Feature:function(qa,bb){xb(qa.geometry,bb)},FeatureCollection:function(qa,bb){qa=qa.features;for(var Rb=-1,hd=qa.length;++Rb<hd;)xb(qa[Rb].geometry,bb)}},be={Sphere:function(qa,bb){bb.sphere()},Point:function(qa,bb){qa=qa.coordinates;bb.point(qa[0],qa[1],qa[2])},MultiPoint:function(qa,bb){for(var Rb=qa.coordinates,hd=-1,ld=Rb.length;++hd<ld;)qa=Rb[hd],bb.point(qa[0],qa[1],qa[2])},LineString:function(qa,bb){sb(qa.coordinates,bb,0)},MultiLineString:function(qa,
bb){qa=qa.coordinates;for(var Rb=-1,hd=qa.length;++Rb<hd;)sb(qa[Rb],bb,0)},Polygon:function(qa,bb){Qb(qa.coordinates,bb)},MultiPolygon:function(qa,bb){qa=qa.coordinates;for(var Rb=-1,hd=qa.length;++Rb<hd;)Qb(qa[Rb],bb)},GeometryCollection:function(qa,bb){qa=qa.geometries;for(var Rb=-1,hd=qa.length;++Rb<hd;)xb(qa[Rb],bb)}},ye=new Sc,Le=new Sc,Ye,ef,od,Ec,kd,Fc={point:Pa,lineStart:Pa,lineEnd:Pa,polygonStart:function(){ye=new Sc;Fc.lineStart=ob;Fc.lineEnd=pa},polygonEnd:function(){var qa=+ye;Le.add(0>
qa?eb+qa:qa);this.lineStart=this.lineEnd=this.point=Pa},sphere:function(){Le.add(eb)}},Id,Vd,ce,le,O,ea,I,ka,ta,Ja,jb,vb={point:db,lineStart:na,lineEnd:q,polygonStart:function(){vb.point=M;vb.lineStart=Q;vb.lineEnd=g;ta=new Sc;Fc.polygonStart()},polygonEnd:function(){Fc.polygonEnd();vb.point=db;vb.lineStart=na;vb.lineEnd=q;0>ye?(Id=-(ce=180),Vd=-(le=90)):1E-6<ta?le=90:-1E-6>ta&&(Vd=-90);jb[0]=Id;jb[1]=ce},sphere:function(){Id=-(ce=180);Vd=-(le=90)}},pc,qc,rc,Kc,Bd,Hc,$c,zd,Dd,Kd,Ge,De,yd,Ae,Ld,he,
He={sphere:Pa,point:B,lineStart:E,lineEnd:Aa,polygonStart:function(){He.lineStart=Y;He.lineEnd=t},polygonEnd:function(){He.lineStart=E;He.lineEnd=Aa}};const lf=La("area",function(qa){Le=new Sc;Wb(qa,Fc);return 2*Le}),vf=La("bounds",function(qa){var bb,Rb,hd;le=ce=-(Id=Vd=Infinity);Ja=[];Wb(qa,vb);if(bb=Ja.length){Ja.sort(m);qa=1;var ld=Ja[0];for(Rb=[ld];qa<bb;++qa){var pe=Ja[qa];C(ld,pe[0])||C(ld,pe[1])?(u(ld[0],pe[1])>u(ld[0],ld[1])&&(ld[1]=pe[1]),u(pe[0],ld[1])>u(ld[0],ld[1])&&(ld[0]=pe[0])):Rb.push(ld=
pe)}var Pe=-Infinity;bb=Rb.length-1;qa=0;for(ld=Rb[bb];qa<=bb;ld=pe,++qa)pe=Rb[qa],(hd=u(ld[1],pe[0]))>Pe&&(Pe=hd,Id=pe[0],ce=ld[1])}Ja=jb=null;return Infinity===Id||Infinity===Vd?[[NaN,NaN],[NaN,NaN]]:[[Id,Vd],[ce,le]]}),Ke=La("centroid",function(qa){pc=qc=rc=Kc=Bd=Hc=$c=zd=0;Dd=new Sc;Kd=new Sc;Ge=new Sc;Wb(qa,He);qa=+Dd;var bb=+Kd,Rb=+Ge,hd=td(qa,bb,Rb);return 1E-12>hd&&(qa=Hc,bb=$c,Rb=zd,1E-6>qc&&(qa=rc,bb=Kc,Rb=Bd),hd=td(qa,bb,Rb),1E-12>hd)?[NaN,NaN]:[Uc(bb,qa)*oc,mb(Rb/hd)*oc]});var ne=1/.7,
Df=/^#([0-9a-f]{3,8})$/,If=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),jf=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),ag=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Yd=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
ff=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),mf=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),af={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,
bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,
darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,
lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,
mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,
plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,
yellow:16776960,yellowgreen:10145074};Ib(sc,Zb,{copy(qa){return Object.assign(new this.constructor,this,qa)},displayable(){return this.rgb().displayable()},hex:xc,formatHex:xc,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Md(this).formatHsl()},formatRgb:cd,toString:cd});Ib(qb,Vb,yc(sc,{brighter(qa){qa=null==qa?ne:Math.pow(ne,qa);return new qb(this.r*qa,this.g*qa,this.b*qa,this.opacity)},darker(qa){qa=null==qa?.7:Math.pow(.7,qa);return new qb(this.r*qa,this.g*qa,
this.b*qa,this.opacity)},rgb(){return this},clamp(){return new qb(Ic(this.r),Ic(this.g),Ic(this.b),cc(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Tb,formatHex:Tb,formatHex8:function(){return`#${zc(this.r)}${zc(this.g)}${zc(this.b)}${zc(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:gc,toString:gc}));Ib(Ha,ud,yc(sc,{brighter(qa){qa=null==qa?ne:Math.pow(ne,qa);return new Ha(this.h,
this.s,this.l*qa,this.opacity)},darker(qa){qa=null==qa?.7:Math.pow(.7,qa);return new Ha(this.h,this.s,this.l*qa,this.opacity)},rgb(){var qa=this.h%360+360*(0>this.h),bb=isNaN(qa)||isNaN(this.s)?0:this.s,Rb=this.l;bb=Rb+(.5>Rb?Rb:1-Rb)*bb;Rb=2*Rb-bb;return new qb(sa(240<=qa?qa-240:qa+120,Rb,bb),sa(qa,Rb,bb),sa(120>qa?qa+240:qa-120,Rb,bb),this.opacity)},clamp(){return new Ha(gb(this.h),wb(this.s),wb(this.l),cc(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=
this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const qa=cc(this.opacity);return`${1===qa?"hsl(":"hsla("}${gb(this.h)}, ${100*wb(this.s)}%, ${100*wb(this.l)}%${1===qa?")":`, ${qa})`}`}}));const Hf=Math.PI/180,Jf=180/Math.PI,zf=4/29,Af=6/29,Eg=3*Af*Af,hg=Af*Af*Af;Ib(Na,ya,yc(sc,{brighter(qa){return new Na(this.l+18*(null==qa?1:qa),this.a,this.b,this.opacity)},darker(qa){return new Na(this.l-18*(null==qa?1:qa),this.a,this.b,this.opacity)},rgb(){var qa=(this.l+16)/116,bb=isNaN(this.a)?qa:qa+this.a/
500,Rb=isNaN(this.b)?qa:qa-this.b/200;bb=.96422*kb(bb);qa=1*kb(qa);Rb=.82521*kb(Rb);return new qb(Fb(3.1338561*bb-1.6168667*qa-.4906146*Rb),Fb(-.9787684*bb+1.9161415*qa+.033454*Rb),Fb(.0719453*bb-.2289914*qa+1.4052427*Rb),this.opacity)}}));Ib(Tc,ic,yc(sc,{brighter(qa){return new Tc(this.h,this.c,this.l+18*(null==qa?1:qa),this.opacity)},darker(qa){return new Tc(this.h,this.c,this.l-18*(null==qa?1:qa),this.opacity)},rgb(){return dd(this).rgb()}}));const xf={},Kf=qa=>qa.data,dg={random(){return Ac.random()},
cumulativeNormal:Ac.cumulativeNormal,cumulativeLogNormal:Ac.cumulativeLogNormal,cumulativeUniform:Ac.cumulativeUniform,densityNormal:Ac.densityNormal,densityLogNormal:Ac.densityLogNormal,densityUniform:Ac.densityUniform,quantileNormal:Ac.quantileNormal,quantileLogNormal:Ac.quantileLogNormal,quantileUniform:Ac.quantileUniform,sampleNormal:Ac.sampleNormal,sampleLogNormal:Ac.sampleLogNormal,sampleUniform:Ac.sampleUniform,isArray:k.isArray,isBoolean:k.isBoolean,isDate:k.isDate,isDefined(qa){return void 0!==
qa},isNumber:k.isNumber,isObject:k.isObject,isRegExp:k.isRegExp,isString:k.isString,isTuple:Gb.isTuple,isValid(qa){return null!=qa&&qa===qa},toBoolean:k.toBoolean,toDate(qa){return k.toDate(qa)},toNumber:k.toNumber,toString:k.toString,indexof:Xb,join:Hb,lastindexof:Bc,replace:Gc,reverse:id,slice:lc,flush:k.flush,lerp:k.lerp,merge:Fd,pad:k.pad,peek:k.peek,pluck:la,span:k.span,inrange:k.inrange,truncate:k.truncate,rgb:Vb,lab:ya,hcl:ic,hsl:ud,luminance:Qd,contrast:Td,sequence:function(qa,bb,Rb){qa=+qa;
bb=+bb;Rb=2>(ld=arguments.length)?(bb=qa,qa=0,1):3>ld?1:+Rb;for(var hd=-1,ld=Math.max(0,Math.ceil((bb-qa)/Rb))|0,pe=Array(ld);++hd<ld;)pe[hd]=qa+hd*Rb;return pe},format:J,utcFormat:Ta,utcParse:Pc,utcOffset:uc.utcOffset,utcSequence:uc.utcSequence,timeFormat:fa,timeParse:bc,timeOffset:uc.timeOffset,timeSequence:uc.timeSequence,timeUnitSpecifier:uc.timeUnitSpecifier,monthFormat:Kb,monthAbbrevFormat:Lb,dayFormat:Cb,dayAbbrevFormat:Pb,quarter:k.quarter,utcquarter:k.utcquarter,week:uc.week,utcweek:uc.utcweek,
dayofyear:uc.dayofyear,utcdayofyear:uc.utcdayofyear,warn:X,info:Ca,debug:Ya,extent(qa){return k.extent(qa)},inScope:Wa,intersect:Ab,clampRange:k.clampRange,pinchDistance:Xd,pinchAngle:N,screen:U,containerSize:cb,windowSize:ua,bandspace:Nc,setdata:Yb,pathShape:hf,panLinear:k.panLinear,panLog:k.panLog,panPow:k.panPow,panSymlog:k.panSymlog,zoomLinear:k.zoomLinear,zoomLog:k.zoomLog,zoomPow:k.zoomPow,zoomSymlog:k.zoomSymlog,encode:Ua,modify:Ve,lassoAppend:function(qa,bb,Rb,hd=5){qa=k.array(qa);const ld=
qa[qa.length-1];return void 0===ld||Math.hypot(ld[0]-bb,ld[1]-Rb)>hd?[...qa,[bb,Rb]]:qa},lassoPath:function(qa){return k.array(qa).reduce((bb,[Rb,hd],ld)=>bb+(0==ld?`M ${Rb},${hd} `:ld===qa.length-1?" Z":`L ${Rb},${hd} `),"")},intersectLasso:function(qa,bb,Rb){const {x:hd,y:ld,mark:pe}=Rb;Rb=(new ac.Bounds).set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const [Pe,qf]of bb)Pe<Rb.x1&&(Rb.x1=Pe),Pe>Rb.x2&&(Rb.x2=Pe),qf<Rb.y1&&(Rb.y1=qf),qf>Rb.y2&&
(Rb.y2=qf);Rb.translate(hd,ld);return Ab([[Rb.x1,Rb.y1],[Rb.x2,Rb.y2]],qa,pe).filter(Pe=>{var qf=Pe.y;let Gf=0;for(let Ne=0,bg=bb.length-1;Ne<bb.length;bg=Ne++){const [Pf,Vf]=bb[bg],[sg,tg]=bb[Ne];tg>qf!=Vf>qf&&Pe.x<(Pf-sg)*(qf-tg)/(Vf-tg)+sg&&Gf++}return Gf&1})}},ch="view item group xy x y".split(" "),Ig={},Mg={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:qa=>`_[${k.stringValue("$"+qa)}]`,functions:function(qa){const bb=P.functions(qa);ch.forEach(Rb=>bb[Rb]="event.vega."+
Rb);for(const Rb in dg)bb[Rb]="this."+Rb;k.extend(bb,lb(qa,dg,Ig));return bb},constants:P.constants,visitors:Ig},Ug=P.codegenExpression(Mg);Cc("bandwidth",sd,Qa);Cc("copy",Hd,Qa);Cc("domain",Gd,Qa);Cc("range",Wd,Qa);Cc("invert",$d,Qa);Cc("scale",ae,Qa);Cc("gradient",Ce,Qa);Cc("geoArea",lf,Qa);Cc("geoBounds",vf,Qa);Cc("geoCentroid",Ke,Qa);Cc("geoShape",kf,Qa);Cc("indata",jc,pb);Cc("data",Bb,ab);Cc("treePath",re,ab);Cc("treeAncestors",tf,ab);Cc("vlSelectionTest",vc.selectionTest,vc.selectionVisitor);
Cc("vlSelectionIdTest",vc.selectionIdTest,vc.selectionVisitor);Cc("vlSelectionResolve",vc.selectionResolve,vc.selectionVisitor);Cc("vlSelectionTuples",vc.selectionTuples);v.DataPrefix=":";v.IndexPrefix="@";v.ScalePrefix="%";v.SignalPrefix="$";v.bandspace=Nc;v.bandwidth=sd;v.codeGenerator=Ug;v.codegenParams=Mg;v.containerSize=cb;v.contrast=Td;v.copy=Hd;v.data=Bb;v.dataVisitor=ab;v.dayAbbrevFormat=Pb;v.dayFormat=Cb;v.debug=Ya;v.domain=Gd;v.encode=Ua;v.expressionFunction=Cc;v.format=J;v.functionContext=
dg;v.geoArea=lf;v.geoBounds=vf;v.geoCentroid=Ke;v.geoShape=kf;v.inScope=Wa;v.indata=jc;v.indataVisitor=pb;v.indexof=Xb;v.info=Ca;v.invert=$d;v.join=Hb;v.lastindexof=Bc;v.luminance=Qd;v.merge=Fd;v.modify=Ve;v.monthAbbrevFormat=Lb;v.monthFormat=Kb;v.parseExpression=function(qa,bb){const Rb={};let hd;try{qa=k.isString(qa)?qa:k.stringValue(qa)+"",hd=P.parseExpression(qa)}catch(ld){k.error("Expression parse error: "+qa)}hd.visit(ld=>{if(ld.type===P.CallExpression){var pe=ld.callee.name,Pe=Mg.visitors[pe];
Pe&&Pe(pe,ld.arguments,bb,Rb)}});qa=Ug(hd);qa.globals.forEach(ld=>{const pe="$"+ld;!k.hasOwnProperty(Rb,pe)&&bb.getSignal(ld)&&(Rb[pe]=bb.signalRef(ld))});return{$expr:k.extend({code:qa.code},bb.options.ast?{ast:hd}:null),$fields:qa.fields,$params:Rb}};v.pathShape=hf;v.pinchAngle=N;v.pinchDistance=Xd;v.pluck=la;v.range=Wd;v.replace=Gc;v.reverse=id;v.scale=ae;v.scaleGradient=Ce;v.scaleVisitor=Qa;v.screen=U;v.setdata=Yb;v.slice=lc;v.timeFormat=fa;v.timeParse=bc;v.treeAncestors=tf;v.treePath=re;v.utcFormat=
Ta;v.utcParse=Pc;v.warn=X;v.windowSize=ua})};
shadow$provide[60]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(21),Db(29)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega))})(this,function(v,k,P){function ib(Ua,ub,Kb){Kb.endsWith(";")||(Kb="return("+Kb+");");ub=Function(...ub.concat(Kb));return Ua&&Ua.functions?ub.bind(Ua.functions):ub}function Gb(Ua,ub,Kb){if(!Ua||!k.isObject(Ua))return Ua;
for(let Lb=0,Cb=jc.length,Pb;Lb<Cb;++Lb)if(Pb=jc[Lb],k.hasOwnProperty(Ua,Pb.key))return Pb.parse(Ua,ub,Kb);return Ua}function ac(Ua,ub,Kb,Lb){this.dataflow=Ua;this.transforms=ub;this.events=Ua.events.bind(Ua);this.expr=Lb||Bb;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};Kb&&(this.functions=Object.create(Kb),this.functions.context=this)}function vc(Ua){this.dataflow=Ua.dataflow;this.transforms=Ua.transforms;this.events=Ua.events;this.expr=Ua.expr;this.signals=Object.create(Ua.signals);
this.scales=Object.create(Ua.scales);this.nodes=Object.create(Ua.nodes);this.data=Object.create(Ua.data);this.fn=Object.create(Ua.fn);Ua.functions&&(this.functions=Object.create(Ua.functions),this.functions.context=this)}const Ac=k.toSet(["rule"]),uc=k.toSet(["group","image","rect"]);var Bb={operator:(Ua,ub)=>ib(Ua,["_"],ub.code),parameter:(Ua,ub)=>ib(Ua,["datum","_"],ub.code),event:(Ua,ub)=>ib(Ua,["event"],ub.code),handler:(Ua,ub)=>ib(Ua,["_","event"],`var datum=event.item&&event.item.datum;return ${ub.code};`),
encode:(Ua,ub)=>{const {marktype:Kb,channels:Lb}=ub;ub="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";for(var Cb in Lb){const Pb="o["+k.stringValue(Cb)+"]";ub+=`$=${Lb[Cb].code};if(${Pb}!==$)${Pb}=$,m=1;`}Cb="";Ac[Kb]||(Lb.x2&&(Lb.x?(uc[Kb]&&(Cb+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),Cb+="o.width\x3do.x2-o.x;"):Cb+="o.x\x3do.x2-(o.width||0);"),Lb.xc&&(Cb+="o.x\x3do.xc-(o.width||0)/2;"),Lb.y2&&(Lb.y?(uc[Kb]&&(Cb+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),Cb+="o.height\x3do.y2-o.y;"):
Cb+="o.y\x3do.y2-(o.height||0);"),Lb.yc&&(Cb+="o.y\x3do.yc-(o.height||0)/2;"));ub+=Cb;return ib(Ua,["item","_"],ub+"return m;")},codegen:{get(Ua){Ua=`[${Ua.map(k.stringValue).join("][")}]`;const ub=Function("_",`return _${Ua};`);ub.path=Ua;return ub},comparator(Ua,ub){let Kb;Ua=Function("a","b","var u, v; return "+Ua.map((Lb,Cb)=>{const Pb=ub[Cb];let ab;Lb.path?(ab=`a${Lb.path}`,Lb=`b${Lb.path}`):((Kb=Kb||{})["f"+Cb]=Lb,ab=`this.f${Cb}(a)`,Lb=`this.f${Cb}(b)`);Cb=-Pb;return`((u = ${ab}) < (v = ${Lb}) || u == null) && v != null ? ${Cb}
  : (u > v || v == null) && u != null ? ${Pb}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${Cb}
  : v !== v && u === u ? ${Pb} : `}).join("")+"0;");return Kb?Ua.bind(Kb):Ua}}},jc=[{key:"$ref",parse:function(Ua,ub){return ub.get(Ua.$ref)||k.error("Operator not defined: "+Ua.$ref)}},{key:"$key",parse:function(Ua,ub){const Kb="k:"+Ua.$key+"_"+!!Ua.$flat;return ub.fn[Kb]||(ub.fn[Kb]=k.key(Ua.$key,Ua.$flat,ub.expr.codegen))}},{key:"$expr",parse:function(Ua,ub,Kb){Ua.$params&&ub.parseParameters(Ua.$params,Kb);Kb="e:"+Ua.$expr.code;return ub.fn[Kb]||(ub.fn[Kb]=k.accessor(ub.parameterExpression(Ua.$expr),
Ua.$fields))}},{key:"$field",parse:function(Ua,ub){if(!Ua.$field)return null;const Kb="f:"+Ua.$field+"_"+Ua.$name;return ub.fn[Kb]||(ub.fn[Kb]=k.field(Ua.$field,Ua.$name,ub.expr.codegen))}},{key:"$encode",parse:function(Ua,ub){Ua=Ua.$encode;const Kb={};for(const Lb in Ua){const Cb=Ua[Lb];Kb[Lb]=k.accessor(ub.encodeExpression(Cb.$expr),Cb.$fields);Kb[Lb].output=Cb.$output}return Kb}},{key:"$compare",parse:function(Ua,ub){const Kb="c:"+Ua.$compare+"_"+Ua.$order,Lb=k.array(Ua.$compare).map(Cb=>Cb&&Cb.$tupleid?
P.tupleid:Cb);return ub.fn[Kb]||(ub.fn[Kb]=k.compare(Lb,Ua.$order,ub.expr.codegen))}},{key:"$context",parse:function(Ua,ub){return ub}},{key:"$subflow",parse:function(Ua,ub){const Kb=Ua.$subflow;return function(Lb,Cb,Pb){const ab=ub.fork().parse(Kb);Lb=ab.get(Kb.operators[0].id);(Cb=ab.signals.parent)&&Cb.set(Pb);Lb.detachSubflow=()=>ub.detach(ab);return Lb}}},{key:"$tupleid",parse:function(){return P.tupleid}}];const Yb={skip:!0};ac.prototype=vc.prototype={fork(){const Ua=new vc(this);(this.subcontext||
(this.subcontext=[])).push(Ua);return Ua},detach(Ua){this.subcontext=this.subcontext.filter(Kb=>Kb!==Ua);const ub=Object.keys(Ua.nodes);for(const Kb of ub)Ua.nodes[Kb]._targets=null;for(const Kb of ub)Ua.nodes[Kb].detach();Ua.nodes=null},get(Ua){return this.nodes[Ua]},set(Ua,ub){return this.nodes[Ua]=ub},add(Ua,ub){const Kb=this,Lb=Kb.dataflow,Cb=Ua.value;Kb.set(Ua.id,ub);"collect"===(Ua.type+"").toLowerCase()&&Cb&&(Cb.$ingest?Lb.ingest(ub,Cb.$ingest,Cb.$format):Cb.$request?Lb.preload(ub,Cb.$request,
Cb.$format):Lb.pulse(ub,Lb.changeset().insert(Cb)));Ua.root&&(Kb.root=ub);if(Ua.parent){let Pb=Kb.get(Ua.parent.$ref);Pb?(Lb.connect(Pb,[ub]),ub.targets().add(Pb)):(Kb.unresolved=Kb.unresolved||[]).push(()=>{Pb=Kb.get(Ua.parent.$ref);Lb.connect(Pb,[ub]);ub.targets().add(Pb)})}Ua.signal&&(Kb.signals[Ua.signal]=ub);Ua.scale&&(Kb.scales[Ua.scale]=ub);if(Ua.data)for(const Pb in Ua.data){const ab=Kb.data[Pb]||(Kb.data[Pb]={});Ua.data[Pb].forEach(pb=>ab[pb]=ub)}},resolve(){(this.unresolved||[]).forEach(Ua=>
Ua());delete this.unresolved;return this},operator(Ua,ub){this.add(Ua,this.dataflow.add(Ua.value,ub))},transform(Ua,ub){this.add(Ua,this.dataflow.add(this.transforms[(ub+"").toLowerCase()]))},stream(Ua,ub){this.set(Ua.id,ub)},update(Ua,ub,Kb,Lb,Cb){this.dataflow.on(ub,Kb,Lb,Cb,Ua.options)},operatorExpression(Ua){return this.expr.operator(this,Ua)},parameterExpression(Ua){return this.expr.parameter(this,Ua)},eventExpression(Ua){return this.expr.event(this,Ua)},handlerExpression(Ua){return this.expr.handler(this,
Ua)},encodeExpression(Ua){return this.expr.encode(this,Ua)},parse:function(Ua){const ub=this,Kb=Ua.operators||[];Ua.background&&(ub.background=Ua.background);Ua.eventConfig&&(ub.eventConfig=Ua.eventConfig);Ua.locale&&(ub.locale=Ua.locale);Kb.forEach(Lb=>ub.parseOperator(Lb));Kb.forEach(Lb=>ub.parseOperatorParameters(Lb));(Ua.streams||[]).forEach(Lb=>ub.parseStream(Lb));(Ua.updates||[]).forEach(Lb=>ub.parseUpdate(Lb));return ub.resolve()},parseOperator:function(Ua){"operator"!==(Ua.type+"").toLowerCase()&&
Ua.type?this.transform(Ua,Ua.type):this.operator(Ua,Ua.update?this.operatorExpression(Ua.update):null)},parseOperatorParameters:function(Ua){if(Ua.params){const ub=this.get(Ua.id);ub||k.error("Invalid operator id: "+Ua.id);this.dataflow.connect(ub,ub.parameters(this.parseParameters(Ua.params),Ua.react,Ua.initonly))}},parseParameters:function(Ua,ub){ub=ub||{};const Kb=this;for(const Lb in Ua){const Cb=Ua[Lb];ub[Lb]=k.isArray(Cb)?Cb.map(Pb=>Gb(Pb,Kb,ub)):Gb(Cb,Kb,ub)}return ub},parseStream:function(Ua){var ub=
this,Kb=null!=Ua.filter?ub.eventExpression(Ua.filter):void 0,Lb=null!=Ua.stream?ub.get(Ua.stream):void 0;if(Ua.source)Lb=ub.events(Ua.source,Ua.type,Kb);else if(Ua.merge){var Cb=Ua.merge.map(Pb=>ub.get(Pb));Lb=Cb[0].merge.apply(Cb[0],Cb.slice(1))}Ua.between&&(Cb=Ua.between.map(Pb=>ub.get(Pb)),Lb=Lb.between(Cb[0],Cb[1]));Ua.filter&&(Lb=Lb.filter(Kb));null!=Ua.throttle&&(Lb=Lb.throttle(+Ua.throttle));null!=Ua.debounce&&(Lb=Lb.debounce(+Ua.debounce));null==Lb&&k.error("Invalid stream definition: "+JSON.stringify(Ua));
Ua.consume&&Lb.consume(!0);ub.stream(Ua,Lb)},parseUpdate:function(Ua){var ub=k.isObject(ub=Ua.source)?ub.$ref:ub;ub=this.get(ub);var Kb=Ua.update,Lb=void 0;ub||k.error("Source not defined: "+Ua.source);var Cb=Ua.target&&Ua.target.$expr?this.eventExpression(Ua.target.$expr):this.get(Ua.target);Kb&&Kb.$expr&&(Kb.$params&&(Lb=this.parseParameters(Kb.$params)),Kb=this.handlerExpression(Kb.$expr));this.update(Ua,ub,Cb,Kb,Lb)},getState:function(Ua){var ub=this,Kb={};if(Ua.signals){var Lb=Kb.signals={};
Object.keys(ub.signals).forEach(Pb=>{const ab=ub.signals[Pb];Ua.signals(Pb,ab)&&(Lb[Pb]=ab.value)})}if(Ua.data){var Cb=Kb.data={};Object.keys(ub.data).forEach(Pb=>{const ab=ub.data[Pb];Ua.data(Pb,ab)&&(Cb[Pb]=ab.input.value)})}ub.subcontext&&!1!==Ua.recurse&&(Kb.subcontext=ub.subcontext.map(Pb=>Pb.getState(Ua)));return Kb},setState:function(Ua){var ub=this,Kb=ub.dataflow,Lb=Ua.data,Cb=Ua.signals;Object.keys(Cb||{}).forEach(Pb=>{Kb.update(ub.signals[Pb],Cb[Pb],Yb)});Object.keys(Lb||{}).forEach(Pb=>
{Kb.pulse(ub.data[Pb].input,Kb.changeset().remove(k.truthy).insert(Lb[Pb]))});(Ua.subcontext||[]).forEach((Pb,ab)=>{(ab=ub.subcontext[ab])&&ab.setState(Pb)})}};v.context=function(Ua,ub,Kb,Lb){return new ac(Ua,ub,Kb,Lb)}})};
shadow$provide[61]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(21),Db(29),Db(34),Db(59),Db(60),Db(24)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph vega-functions vega-runtime vega-format".split(" "),k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,P,ib,Gb,ac,vc){function Ac(Ha){const gb=Ha.container();gb&&(gb.setAttribute("role",
"graphics-document"),gb.setAttribute("aria-roleDescription","visualization"),uc(gb,Ha.description()))}function uc(Ha,gb){Ha&&(null==gb?Ha.removeAttribute("aria-label"):Ha.setAttribute("aria-label",gb))}function Bb(Ha){Ha.add(null,gb=>{Ha._background=gb.bg;Ha._resize=1;return gb.bg},{bg:Ha._signals.background})}function jc(Ha){const gb=Ha._signals.cursor||(Ha._signals.cursor=Ha.add({user:"default",item:null}));Ha.on(Ha.events("view","mousemove"),gb,(wb,sa)=>{const G=(wb=gb.value)?k.isString(wb)?wb:
wb.user:"default";sa=sa.item&&sa.item.cursor||null;return wb&&G===wb.user&&sa==wb.item?wb:{user:G,item:sa}});Ha.add(null,function(wb){wb=wb.cursor;let sa=this.value;k.isString(wb)||(sa=wb.item,wb=wb.user);Yb(Ha,wb&&"default"!==wb?wb:sa||wb);return sa},{cursor:gb})}function Yb(Ha,gb){if(Ha=Ha.globalCursor()?"undefined"!==typeof document&&document.body:Ha.container())return null==gb?Ha.style.removeProperty("cursor"):Ha.style.cursor=gb}function Ua(Ha,gb){Ha=Ha._runtime.data;k.hasOwnProperty(Ha,gb)||
k.error("Unrecognized data set: "+gb);return Ha[gb]}function ub(Ha,gb){P.isChangeSet(gb)||k.error("Second argument to changes must be a changeset.");Ha=Ua(this,Ha);Ha.modified=!0;return this.pulse(Ha.input,gb)}function Kb(Ha){var gb=Ha.padding();return Math.max(0,Ha._viewWidth+gb.left+gb.right)}function Lb(Ha){var gb=Ha.padding();return Math.max(0,Ha._viewHeight+gb.top+gb.bottom)}function Cb(Ha){var gb=Ha.padding();Ha=Ha._origin;return[gb.left+Ha[0],gb.top+Ha[1]]}function Pb(Ha){var gb=Cb(Ha),wb=
Kb(Ha),sa=Lb(Ha);Ha._renderer.background(Ha.background());Ha._renderer.resize(wb,sa,gb);Ha._handler.origin(gb);Ha._resizeListeners.forEach(G=>{try{G(wb,sa)}catch(ya){Ha.error(ya)}})}function ab(Ha,gb,wb){function sa(Na){var Za=ya,kb;if(Na)for(kb=gb;kb;kb=kb.mark.group)if(kb.mark.name===Na){Za=kb;break}return Za&&Za.mark&&Za.mark.interactive?Za:{}}function G(Na){if(!Na)return wb;k.isString(Na)&&(Na=sa(Na));const Za=wb.slice();for(;Na;)Za[0]-=Na.x||0,Za[1]-=Na.y||0,Na=Na.mark&&Na.mark.group;return Za}
const ya=gb?"group"===gb.mark.marktype?gb:gb.mark.group:null;return{view:k.constant(Ha),item:k.constant(gb||{}),group:sa,xy:G,x:Na=>G(Na)[0],y:Na=>G(Na)[1]}}function pb(Ha){Ha=k.extend({defaults:{}},Ha);const gb=(wb,sa)=>{sa.forEach(G=>{k.isArray(wb[G])&&(wb[G]=k.toSet(wb[G]))})};gb(Ha.defaults,["prevent","allow"]);gb(Ha,["view","window","selector"]);return Ha}function Qa(Ha,gb,wb,sa){Ha._eventListeners.push({type:wb,sources:k.array(gb),handler:sa})}function Da(Ha,gb,wb){const sa=Ha._eventConfig&&
Ha._eventConfig[gb];return!1===sa||k.isObject(sa)&&!sa[wb]?(Ha.warn(`Blocked ${gb} ${wb} event listener.`),!1):!0}function Ka(Ha){return Ha.item}function lb(Ha){return Ha.item.mark.source}function mb(Ha){return function(gb,wb){return wb.vega.view().changeset().encode(wb.item,Ha)}}function Pa(Ha,gb,wb){Ha=document.createElement(Ha);for(const sa in gb)Ha.setAttribute(sa,gb[sa]);null!=wb&&(Ha.textContent=wb);return Ha}function xb(Ha,gb,wb){var sa=(gb-Ha)/Math.max(0,wb),G=Math.floor(Math.log10(sa));sa/=
Math.pow(10,G);sa=sa>=Zb?10:sa>=Rc?5:sa>=Pd?2:1;let ya;0>G?(ya=Math.pow(10,-G)/sa,G=Math.round(Ha*ya),sa=Math.round(gb*ya),G/ya<Ha&&++G,sa/ya>gb&&--sa,ya=-ya):(ya=Math.pow(10,G)*sa,G=Math.round(Ha/ya),sa=Math.round(gb/ya),G*ya<Ha&&++G,sa*ya>gb&&--sa);return sa<G&&.5<=wb&&2>wb?xb(Ha,gb,2*wb):[G,sa,ya]}function sb(Ha,gb,wb){return xb(+Ha,+gb,+wb)[2]}function Qb(Ha,gb,wb){gb=+gb;Ha=+Ha;wb=+wb;const sa=gb<Ha;Ha=sa?sb(gb,Ha,wb):sb(Ha,gb,wb);return(sa?-1:1)*(0>Ha?1/-Ha:Ha)}function Wb(Ha,gb,wb){if(gb){var sa=
wb.param,G=wb.state;G||(G=wb.state={elements:null,active:!1,set:null,update:ya=>{ya!=Ha.signal(sa.signal)&&Ha.runAsync(null,()=>{G.source=!0;Ha.signal(sa.signal,ya)})}},sa.debounce&&(G.update=k.debounce(sa.debounce,G.update)));(null==sa.input&&sa.element?ob:pa)(G,gb,sa,Ha);G.active||(Ha.on(Ha._signals[sa.signal],null,()=>{G.source?G.source=!1:G.set(Ha.signal(sa.signal))}),G.active=!0);return G}}function ob(Ha,gb,wb,sa){const G=wb.event||"input",ya=()=>Ha.update(gb.value);sa.signal(wb.signal,gb.value);
gb.addEventListener(G,ya);Qa(sa,gb,G,ya);Ha.set=Na=>{gb.value=Na;Na=gb.dispatchEvent;var Za="undefined"!==typeof Event?new Event(G):{type:G};Na.call(gb,Za)}}function pa(Ha,gb,wb,sa){sa=sa.signal(wb.signal);const G=Pa("div",{"class":"vega-bind"}),ya="radio"===wb.input?G:G.appendChild(Pa("label"));ya.appendChild(Pa("span",{"class":"vega-bind-name"},wb.name||wb.signal));gb.appendChild(G);gb=Z;switch(wb.input){case "checkbox":gb=Fa;break;case "select":gb=Ga;break;case "radio":gb=db;break;case "range":gb=
ba}gb(Ha,ya,wb,sa)}function Z(Ha,gb,wb,sa){const G=Pa("input");for(const ya in wb)"signal"!==ya&&"element"!==ya&&G.setAttribute("input"===ya?"type":ya,wb[ya]);G.setAttribute("name",wb.signal);G.value=sa;gb.appendChild(G);G.addEventListener("input",()=>Ha.update(G.value));Ha.elements=[G];Ha.set=ya=>G.value=ya}function Fa(Ha,gb,wb,sa){wb={type:"checkbox",name:wb.signal};sa&&(wb.checked=!0);const G=Pa("input",wb);gb.appendChild(G);G.addEventListener("change",()=>Ha.update(G.checked));Ha.elements=[G];
Ha.set=ya=>G.checked=!!ya||null}function Ga(Ha,gb,wb,sa){const G=Pa("select",{name:wb.signal}),ya=wb.labels||[];wb.options.forEach((Na,Za)=>{const kb={value:Na};na(Na,sa)&&(kb.selected=!0);G.appendChild(Pa("option",kb,(ya[Za]||Na)+""))});gb.appendChild(G);G.addEventListener("change",()=>{Ha.update(wb.options[G.selectedIndex])});Ha.elements=[G];Ha.set=Na=>{for(let Za=0,kb=wb.options.length;Za<kb;++Za)if(na(wb.options[Za],Na)){G.selectedIndex=Za;break}}}function db(Ha,gb,wb,sa){const G=Pa("span",{"class":"vega-bind-radio"}),
ya=wb.labels||[];gb.appendChild(G);Ha.elements=wb.options.map((Na,Za)=>{var kb={type:"radio",name:wb.signal,value:Na};na(Na,sa)&&(kb.checked=!0);kb=Pa("input",kb);kb.addEventListener("change",()=>Ha.update(Na));Za=Pa("label",{},(ya[Za]||Na)+"");Za.prepend(kb);G.appendChild(Za);return kb});Ha.set=Na=>{const Za=Ha.elements,kb=Za.length;for(let Fb=0;Fb<kb;++Fb)na(Za[Fb].value,Na)&&(Za[Fb].checked=!0)}}function ba(Ha,gb,wb,sa){sa=void 0!==sa?sa:(+wb.max+ +wb.min)/2;const G=null!=wb.max?wb.max:Math.max(100,
+sa)||100,ya=wb.min||Math.min(0,G,+sa)||0,Na=wb.step||Qb(ya,G,100),Za=Pa("input",{type:"range",name:wb.signal,min:ya,max:G,step:Na});Za.value=sa;const kb=Pa("span",{},+sa);gb.appendChild(Za);gb.appendChild(kb);gb=()=>{kb.textContent=Za.value;Ha.update(+Za.value)};Za.addEventListener("input",gb);Za.addEventListener("change",gb);Ha.elements=[Za];Ha.set=Fb=>{Za.value=Fb;kb.textContent=Fb}}function na(Ha,gb){return Ha===gb||Ha+""===gb+""}function q(Ha,gb,wb,sa,G,ya){gb=gb||new sa(Ha.loader());return gb.initialize(wb,
Kb(Ha),Lb(Ha),Cb(Ha),G,ya).background(Ha.background())}function M(Ha,gb){return gb?function(){try{gb.apply(this,arguments)}catch(wb){Ha.error(wb)}}:null}function Q(Ha,gb,wb,sa){const G=(new sa(Ha.loader(),M(Ha,Ha.tooltip()))).scene(Ha.scenegraph().root).initialize(wb,Cb(Ha),Ha);gb&&gb.handlers().forEach(ya=>{G.on(ya.type,ya.handler)});return G}function g(Ha,gb,wb){if("string"===typeof gb)if("undefined"!==typeof document){if(gb=document.querySelector(gb),!gb)return Ha.error("Signal bind element not found: "+
gb),null}else return Ha.error("DOM document instance not found."),null;if(gb&&wb)try{gb.textContent=""}catch(sa){gb=null,Ha.error(sa)}return gb}function u(Ha){k.isObject(Ha)?Ha={top:+Ha.top||0,bottom:+Ha.bottom||0,left:+Ha.left||0,right:+Ha.right||0}:(Ha=+Ha||0,Ha={top:Ha,bottom:Ha,left:Ha,right:Ha});return Ha}function m(Ha,gb,wb,sa){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var G=ib.renderModule(gb);(G=G&&G.headless)||k.error("Unrecognized renderer type: "+gb);yield Ha.runAsync();
return q(Ha,null,null,G,wb,sa).renderAsync(Ha._scenegraph.root)})}function C(Ha,gb,wb){return ac.context(Ha,P.transforms,Gb.functionContext,wb).parse(gb)}function B(Ha,gb){var wb=Ha.autosize();Ha=Ha.padding();return gb-(wb&&"padding"===wb.contains?Ha.left+Ha.right:0)}function A(Ha,gb){var wb=Ha.autosize();Ha=Ha.padding();return gb-(wb&&"padding"===wb.contains?Ha.top+Ha.bottom:0)}function E(Ha){function gb(){Ha._autosize=Ha._resize=1}var wb=Ha._signals,sa=wb.width,G=wb.height;wb=wb.padding;Ha._resizeWidth=
Ha.add(null,Na=>{Ha._width=Na.size;Ha._viewWidth=B(Ha,Na.size);gb()},{size:sa});Ha._resizeHeight=Ha.add(null,Na=>{Ha._height=Na.size;Ha._viewHeight=A(Ha,Na.size);gb()},{size:G});const ya=Ha.add(null,gb,{pad:wb});Ha._resizeWidth.rank=sa.rank+1;Ha._resizeHeight.rank=G.rank+1;ya.rank=wb.rank+1}function H(Ha,gb){return gb.modified&&k.isArray(gb.input.value)&&Ha.indexOf("_:vega:_")}function V(Ha,gb){return!("parent"===Ha||gb instanceof P.transforms.proxy)}function Aa(){return zc||(ud(Y),zc=Md.now()+Yc)}
function Y(){zc=0}function t(){this._call=this._time=this._next=null}function L(){zc=(Ic=Md.now())+Yc;Vb=qb=0;try{Aa();++Vb;for(var Ha=gc,gb;Ha;)0<=(gb=zc-Ha._time)&&Ha._call.call(void 0,gb),Ha=Ha._next;--Vb}finally{Vb=0;Ha=gc;for(var wb=Infinity;Ha;)if(Ha._call){wb>Ha._time&&(wb=Ha._time);var sa=Ha;Ha=Ha._next}else gb=Ha._next,Ha._next=null,Ha=sa?sa._next=gb:gc=gb;cc=sa;La(wb);zc=0}}function va(){var Ha=Md.now(),gb=Ha-Ic;1E3<gb&&(Yc-=gb,Ic=Ha)}function La(Ha){Vb||(qb&&(qb=clearTimeout(qb)),24<Ha-
zc?(Infinity>Ha&&(qb=setTimeout(L,Ha-Md.now()-Yc)),Tb&&(Tb=clearInterval(Tb))):(Tb||(Ic=Md.now(),Tb=setInterval(va,1E3)),Vb=1,ud(L)))}function Wa(Ha,gb,wb){var sa=new t,G=gb;if(null==gb)return sa.restart(Ha,gb,wb),sa;sa._restart=sa.restart;sa.restart=function(ya,Na,Za){Na=+Na;Za=null==Za?Aa():+Za;sa._restart(function nc(Fb){Fb+=G;sa._restart(nc,G+=Na,Za);ya(Fb)},Na,Za)};sa.restart(Ha,gb,wb);return sa}function $a(Ha,gb,wb,sa){if(Ha=Ha.element())gb=Ha.setAttribute,sa=null==sa?"":k.isArray(sa)?"["+sa.map(Ca).join(", ")+
"]":k.isObject(sa)&&!k.isDate(sa)?X(sa):sa+"",gb.call(Ha,"title",sa)}function X(Ha){return Object.keys(Ha).map(gb=>{const wb=Ha[gb];return gb+": "+(k.isArray(wb)?"["+wb.map(Ca).join(", ")+"]":Ca(wb))}).join("\n")}function Ca(Ha){return k.isArray(Ha)?"[]":k.isObject(Ha)&&!k.isDate(Ha)?"{}":Ha}function Ya(Ha,gb){gb=gb||{};P.Dataflow.call(this);gb.loader&&this.loader(gb.loader);gb.logger&&this.logger(gb.logger);null!=gb.logLevel&&this.logLevel(gb.logLevel);if(gb.locale||Ha.locale){var wb=k.extend({},
Ha.locale,gb.locale);this.locale(vc.locale(wb.number,wb.time))}this._elBind=this._el=null;this._renderType=gb.renderer||ib.RenderType.Canvas;this._scenegraph=new ib.Scenegraph;wb=this._scenegraph.root;this._renderer=null;this._tooltip=gb.tooltip||$a;this._redraw=!0;this._handler=(new ib.CanvasHandler).scene(wb);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=pb(Ha.eventConfig);this.globalCursor(this._eventConfig.globalCursor);
const sa=C(this,Ha,gb.expr);this._runtime=sa;this._signals=sa.signals;this._bind=(Ha.bindings||[]).map(G=>({state:null,param:k.extend({},G)}));sa.root&&sa.root.set(wb);wb.source=sa.data.root.input;this.pulse(sa.data.root.input,this.changeset().insert(wb.items));this._width=this.width();this._height=this.height();this._viewWidth=B(this,this._width);this._viewHeight=A(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;E(this);Bb(this);jc(this);this.description(Ha.description);gb.hover&&
this.hover();gb.container&&this.initialize(gb.container,gb.bind)}function Ib(Ha,gb){return k.hasOwnProperty(Ha._signals,gb)?Ha._signals[gb]:k.error("Unrecognized signal name: "+k.stringValue(gb))}function yc(Ha,gb){Ha=(Ha._targets||[]).filter(wb=>wb._update&&wb._update.handler===gb);return Ha.length?Ha[0]:null}function sc(Ha,gb,wb,sa){let G=yc(wb,sa);G||(G=M(Ha,()=>sa(gb,wb.value)),G.handler=sa,Ha.on(wb,null,G));return Ha}function xc(Ha,gb,wb){(wb=yc(gb,wb))&&gb._targets.remove(wb);return Ha}const cd=
{trap:!1},Zb=Math.sqrt(50),Rc=Math.sqrt(10),Pd=Math.sqrt(2);var Ma={skip:!0},Vb=0,qb=0,Tb=0,gc,cc,Ic=0,zc=0,Yc=0,Md="object"===typeof performance&&performance.now?performance:Date,ud="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Ha){setTimeout(Ha,17)};t.prototype={constructor:t,restart:function(Ha,gb,wb){if("function"!==typeof Ha)throw new TypeError("callback is not a function");wb=(null==wb?Aa():+wb)+(null==gb?0:+gb);this._next||cc===this||
(cc?cc._next=this:gc=this,cc=this);this._call=Ha;this._time=wb;La()},stop:function(){this._call&&(this._call=null,this._time=Infinity,La())}};k.inherits(Ya,P.Dataflow,{evaluate(Ha,gb,wb){const sa=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield P.Dataflow.prototype.evaluate.call(sa,Ha,gb);if(sa._redraw||sa._resize)try{sa._renderer&&(sa._resize&&(sa._resize=0,Pb(sa)),yield sa._renderer.renderAsync(sa._scenegraph.root)),sa._redraw=!1}catch(G){sa.error(G)}wb&&P.asyncCallback(sa,
wb);return sa})},dirty(Ha){this._redraw=!0;this._renderer&&this._renderer.dirty(Ha)},description(Ha){if(arguments.length){const gb=null!=Ha?Ha+"":null;gb!==this._desc&&uc(this._el,this._desc=gb);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(Ha,gb,wb){const sa=Ib(this,Ha);return 1===arguments.length?sa.value:this.update(sa,gb,wb)},width(Ha){return arguments.length?this.signal("width",Ha):this.signal("width")},
height(Ha){return arguments.length?this.signal("height",Ha):this.signal("height")},padding(Ha){return arguments.length?this.signal("padding",u(Ha)):u(this.signal("padding"))},autosize(Ha){return arguments.length?this.signal("autosize",Ha):this.signal("autosize")},background(Ha){return arguments.length?this.signal("background",Ha):this.signal("background")},renderer(Ha){if(!arguments.length)return this._renderType;ib.renderModule(Ha)||k.error("Unrecognized renderer type: "+Ha);Ha!==this._renderType&&
(this._renderType=Ha,this._resetRenderer());return this},tooltip(Ha){if(!arguments.length)return this._tooltip;Ha!==this._tooltip&&(this._tooltip=Ha,this._resetRenderer());return this},loader(Ha){if(!arguments.length)return this._loader;Ha!==this._loader&&(P.Dataflow.prototype.loader.call(this,Ha),this._resetRenderer());return this},resize(){this._autosize=1;return this.touch(Ib(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(Ha,
gb,wb,sa,G,ya){this.runAfter(Na=>{let Za=0;Na._autosize=0;Na.width()!==wb&&(Za=1,Na.signal("width",wb,Ma),Na._resizeWidth.skip(!0));Na.height()!==sa&&(Za=1,Na.signal("height",sa,Ma),Na._resizeHeight.skip(!0));Na._viewWidth!==Ha&&(Na._resize=1,Na._viewWidth=Ha);Na._viewHeight!==gb&&(Na._resize=1,Na._viewHeight=gb);if(Na._origin[0]!==G[0]||Na._origin[1]!==G[1])Na._resize=1,Na._origin=G;Za&&Na.run("enter");ya&&Na.runAfter(kb=>kb.resize())},!1,1)},addEventListener(Ha,gb,wb){let sa=gb;wb&&!1===wb.trap||
(sa=M(this,gb),sa.raw=gb);this._handler.on(Ha,sa);return this},removeEventListener(Ha,gb){for(var wb=this._handler.handlers(Ha),sa=wb.length,G,ya;0<=--sa;)if(ya=wb[sa].type,G=wb[sa].handler,Ha===ya&&(gb===G||gb===G.raw)){this._handler.off(ya,G);break}return this},addResizeListener(Ha){const gb=this._resizeListeners;0>gb.indexOf(Ha)&&gb.push(Ha);return this},removeResizeListener(Ha){var gb=this._resizeListeners;Ha=gb.indexOf(Ha);0<=Ha&&gb.splice(Ha,1);return this},addSignalListener(Ha,gb){return sc(this,
Ha,Ib(this,Ha),gb)},removeSignalListener(Ha,gb){return xc(this,Ib(this,Ha),gb)},addDataListener(Ha,gb){return sc(this,Ha,Ua(this,Ha).values,gb)},removeDataListener(Ha,gb){return xc(this,Ua(this,Ha).values,gb)},globalCursor(Ha){if(arguments.length){if(this._globalCursor!==!!Ha){const gb=Yb(this,null);this._globalCursor=!!Ha;gb&&Yb(this,gb)}return this}return this._globalCursor},preventDefault(Ha){return arguments.length?(this._preventDefault=Ha,this):this._preventDefault},timer:function(Ha,gb){this._timers.push(Wa(function(wb){Ha({timestamp:Date.now(),
elapsed:wb})},gb))},events:function(Ha,gb,wb){var sa=this,G=new P.EventStream(wb);wb=function(kb,Fb){sa.runAsync(null,()=>{var nc;if(nc="view"===Ha){var ec=sa._eventConfig.defaults;nc=ec.prevent;ec=ec.allow;nc=!1===nc||!0===ec?!1:!0===nc||!1===ec?!0:nc?nc[gb]:ec?!ec[gb]:sa.preventDefault()}nc&&kb.preventDefault();nc=G.receive;ec=(ec=sa._renderer)&&ec.canvas();if(ec){var ic=Cb(sa);var Tc=kb.changedTouches?kb.changedTouches[0]:kb;Tc=ib.point(Tc,ec);Tc[0]-=ic[0];Tc[1]-=ic[1]}kb.dataflow=sa;kb.item=Fb;
kb.vega=ab(sa,Fb,Tc);nc.call(G,kb)})};var ya;if("timer"===Ha)Da(sa,"timer",gb)&&sa.timer(wb,gb);else if("view"===Ha)Da(sa,"view",gb)&&sa.addEventListener(gb,wb,cd);else if("window"===Ha?Da(sa,"window",gb)&&"undefined"!==typeof window&&(ya=[window]):"undefined"!==typeof document&&Da(sa,"selector",gb)&&(ya=Array.from(document.querySelectorAll(Ha))),ya){for(var Na=0,Za=ya.length;Na<Za;++Na)ya[Na].addEventListener(gb,wb);Qa(sa,ya,gb,wb)}else sa.warn("Can not resolve event source: "+Ha);return G},finalize:function(){var Ha=
this._tooltip,gb=this._timers,wb=this._eventListeners,sa;for(sa=gb.length;0<=--sa;)gb[sa].stop();for(sa=wb.length;0<=--sa;){var G=wb[sa];for(gb=G.sources.length;0<=--gb;)G.sources[gb].removeEventListener(G.type,G.handler)}Ha&&Ha.call(this,this._handler,null,null,null);return this},hover:function(Ha,gb){Ha=[Ha||"hover"];gb=[gb||"update",Ha[0]];this.on(this.events("view","mouseover",Ka),lb,mb(Ha));this.on(this.events("view","mouseout",Ka),lb,mb(gb));return this},data:function(Ha,gb){return 2>arguments.length?
Ua(this,Ha).values.value:ub.call(this,Ha,P.changeset().remove(k.truthy).insert(gb))},change:ub,insert:function(Ha,gb){return ub.call(this,Ha,P.changeset().insert(gb))},remove:function(Ha,gb){return ub.call(this,Ha,P.changeset().remove(gb))},scale:function(Ha){var gb=this._runtime.scales;k.hasOwnProperty(gb,Ha)||k.error("Unrecognized scale or projection: "+Ha);return gb[Ha].value},initialize:function(Ha,gb){const wb=this;var sa=wb._renderType;const G=wb._eventConfig.bind;var ya=ib.renderModule(sa);
Ha=wb._el=Ha?g(wb,Ha,!0):null;Ac(wb);ya||wb.error("Unrecognized renderer type: "+sa);sa=ya.handler||ib.CanvasHandler;ya=Ha?ya.renderer:ya.headless;wb._renderer=ya?q(wb,wb._renderer,Ha,ya):null;wb._handler=Q(wb,wb._handler,Ha,sa);wb._redraw=!0;Ha&&"none"!==G&&(gb=gb?wb._elBind=g(wb,gb,!0):Ha.appendChild(Pa("form",{"class":"vega-bindings"})),wb._bind.forEach(Na=>{Na.param.element&&"container"!==G&&(Na.element=g(wb,Na.param.element,!!Na.param.input))}),wb._bind.forEach(Na=>{Wb(wb,Na.element||gb,Na)}));
return wb},toImageURL:function(Ha,gb){const wb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){Ha!==ib.RenderType.Canvas&&Ha!==ib.RenderType.SVG&&Ha!==ib.RenderType.PNG&&k.error("Unrecognized image type: "+Ha);var sa=yield m(wb,Ha,gb);Ha===ib.RenderType.SVG?(sa=sa.svg(),sa=new Blob([sa],{type:"image/svg+xml"}),sa=window.URL.createObjectURL(sa)):sa=sa.canvas().toDataURL("image/png");return sa})},toCanvas:function(Ha,gb){const wb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield m(wb,
ib.RenderType.Canvas,Ha,gb)).canvas()})},toSVG:function(Ha){const gb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield m(gb,ib.RenderType.SVG,Ha)).svg()})},getState:function(Ha){return this._runtime.getState(Ha||{data:H,signals:V,recurse:!0})},setState:function(Ha){this.runAsync(null,gb=>{gb._trigger=!1;gb._runtime.setState(Ha)},gb=>{gb._trigger=!0});return this}});v.View=Ya})};
shadow$provide[62]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb):"function"===typeof define&&define.amd?define(["exports"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={}))})(this,function(v){function k(Bb,jc,Yb,Ua,ub){const Kb=Bb.length;let Lb=0,Cb;for(;jc<Kb;++jc)if(Cb=Bb[jc],Lb||Cb!==Yb)ub&&0<=ub.indexOf(Cb)?--Lb:Ua&&0<=Ua.indexOf(Cb)&&++Lb;else break;return jc}function P(Bb){const jc=[],Yb=Bb.length;let Ua=0,ub=0;for(;ub<Yb;)ub=k(Bb,
ub,",","[{","]}"),jc.push(Bb.substring(Ua,ub).trim()),Ua=++ub;if(0===jc.length)throw"Empty event selector: "+Bb;return jc}function ib(Bb){if("["===Bb[0]){var jc=Bb;var Yb=jc.length;Bb=k(jc,1,"]","[","]");if(Bb===Yb)throw"Empty between selector: "+jc;Yb=P(jc.substring(1,Bb));if(2!==Yb.length)throw"Between selector must have two elements: "+jc;jc=jc.slice(Bb+1).trim();if("\x3e"!==jc[0])throw"Expected '\x3e' after between selector: "+jc;Yb=Yb.map(ib);jc=ib(jc.slice(1).trim());jc.between?jc={between:Yb,
stream:jc}:jc.between=Yb}else{Yb={source:Ac};const Ua=[];let ub=[0,0],Kb=0,Lb=0,Cb=Bb.length,Pb=0,ab;if("}"===Bb[Cb-1]){Pb=Bb.lastIndexOf("{");if(0<=Pb){try{ub=Gb(Bb.substring(Pb+1,Cb-1))}catch(pb){throw"Invalid throttle specification: "+Bb;}Bb=Bb.slice(0,Pb).trim();Cb=Bb.length}else throw"Unmatched right brace: "+Bb;Pb=0}if(!Cb)throw Bb;"@"===Bb[0]&&(Kb=++Pb);ab=k(Bb,Pb,":");ab<Cb&&(Ua.push(Bb.substring(Lb,ab).trim()),Lb=Pb=++ab);Pb=k(Bb,Pb,"[");if(Pb===Cb)Ua.push(Bb.substring(Lb,Cb).trim());else if(Ua.push(Bb.substring(Lb,
Pb).trim()),jc=[],Lb=++Pb,Lb===Cb)throw"Unmatched left bracket: "+Bb;for(;Pb<Cb;){Pb=k(Bb,Pb,"]");if(Pb===Cb)throw"Unmatched left bracket: "+Bb;jc.push(Bb.substring(Lb,Pb).trim());if(Pb<Cb-1&&"["!==Bb[++Pb])throw"Expected left bracket: "+Bb;Lb=++Pb}if(!(Cb=Ua.length)||ac.test(Ua[Cb-1]))throw"Invalid event selector: "+Bb;1<Cb?(Yb.type=Ua[1],Kb?Yb.markname=Ua[0].slice(1):uc[Ua[0]]?Yb.marktype=Ua[0]:Yb.source=Ua[0]):Yb.type=Ua[0];"!"===Yb.type.slice(-1)&&(Yb.consume=!0,Yb.type=Yb.type.slice(0,-1));null!=
jc&&(Yb.filter=jc);ub[0]&&(Yb.throttle=ub[0]);ub[1]&&(Yb.debounce=ub[1]);jc=Yb}return jc}function Gb(Bb){const jc=Bb.split(",");if(!Bb.length||2<jc.length)throw Bb;return jc.map(Yb=>{Yb=+Yb;if(Yb!==Yb)throw Bb;return Yb})}const ac=/[[\]{}]/,vc={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Ac,uc;v.parseSelector=function(Bb,jc,Yb){Ac=jc||"view";uc=Yb||vc;return P(Bb.trim()).map(ib)}})};
shadow$provide[63]=function(dc,Db,Wc,nb){(function(v,k){"object"===typeof nb&&"undefined"!==typeof Wc?k(nb,Db(21),Db(59),Db(62),Db(33),Db(29)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,P,ib,Gb,ac){function vc(O){return k.isObject(O)?O:{type:O||"pad"}}function Ac(O){k.isObject(O)?
O=O.signal?O:{top:+O.top||0,bottom:+O.bottom||0,left:+O.left||0,right:+O.right||0}:(O=+O||0,O={top:O,bottom:O,left:O,right:O});return O}function uc(O,ea,I,ka){return null!=I?(k.isObject(I)&&!k.isArray(I)||k.isArray(I)&&I.length&&k.isObject(I[0])?O.update[ea]=I:O[ka||"enter"][ea]={value:I},1):0}function Bb(O,ea,I){for(const ka in ea)uc(O,ka,ea[ka]);for(const ka in I)uc(O,ka,I[ka],"update")}function jc(O,ea,I){for(const ka in ea)I&&k.hasOwnProperty(I,ka)||(O[ka]=k.extend(O[ka]||{},ea[ka]));return O}
function Yb(O,ea){return ea&&(ea.enter&&ea.enter[O]||ea.update&&ea.update[O])}function Ua(O,ea,I,ka,ta){const Ja={},jb={};let vb,pc;pc="lineBreak";"text"!==ea||null==ta[pc]||Yb(pc,O)||ub(Ja,pc,ta[pc]);if("legend"==I||String(I).startsWith("axis"))I=null;I="frame"===I?ta.group:"mark"===I?k.extend({},ta.mark,ta[ea]):null;for(pc in I)(ea=Yb(pc,O)||("fill"===pc||"stroke"===pc)&&(Yb("fill",O)||Yb("stroke",O)))||ub(Ja,pc,I[pc]);k.array(ka).forEach(qc=>{qc=ta.style&&ta.style[qc];for(const rc in qc)Yb(rc,
O)||ub(Ja,rc,qc[rc])});O=k.extend({},O);for(pc in Ja)I=Ja[pc],I.signal?(vb=vb||{})[pc]=I:jb[pc]=I;O.enter=k.extend(jb,O.enter);vb&&(O.update=k.extend(vb,O.update));return O}function ub(O,ea,I){O[ea]=I&&I.signal?{signal:I.signal}:{value:I}}function Kb(O){if(null!=O.gradient)return Lb(O);if(O.signal)var ea=`(${O.signal})`;else O.color?(ea=O.color,ea=ea.c?Hd("hcl",ea.h,ea.c,ea.l):ea.h||ea.s?Hd("hsl",ea.h,ea.s,ea.l):ea.l||ea.a?Hd("lab",ea.l,ea.a,ea.b):ea.r||ea.g||ea.b?Hd("rgb",ea.r,ea.g,ea.b):null):ea=
null!=O.field?Pb(O.field):void 0!==O.value?k.stringValue(O.value):void 0;if(null!=O.scale){const I=sd(O.scale);null!=O.range?ea=`lerp(_range(${I}), ${+O.range})`:(void 0!==ea&&(ea=`_scale(${I}, ${ea})`),O.band&&(ea=(ea?ea+"+":"")+`_bandwidth(${I})`+(1===+O.band?"":"*"+Cb(O.band)),O.extra&&(ea=`(datum.extra ? _scale(${I}, datum.extra.value) : ${ea})`)),null==ea&&(ea="0"))}void 0===ea&&(ea=null);null!=O.exponent&&(ea=`pow(${ea},${Cb(O.exponent)})`);null!=O.mult&&(ea+=`*${Cb(O.mult)}`);null!=O.offset&&
(ea+=`+${Cb(O.offset)}`);O.round&&(ea=`round(${ea})`);return ea}function Lb(O){const ea=[O.start,O.stop,O.count].map(I=>null==I?null:k.stringValue(I));for(;ea.length&&null==k.peek(ea);)ea.pop();ea.unshift(sd(O.gradient));return`gradient(${ea.join(",")})`}function Cb(O){return k.isObject(O)?"("+Kb(O)+")":O}function Pb(O){return ab(k.isObject(O)?O:{datum:O})}function ab(O){let ea;if(O.signal){ea="datum";var I=O.signal}else if(O.group||O.parent){I=Math.max(1,O.level||1);for(ea="item";0<I--;)ea+=".mark.group";
O.parent?(I=O.parent,ea+=".datum"):I=O.group}else O.datum?(ea="datum",I=O.datum):k.error("Invalid field reference: "+k.stringValue(O));O.signal||(I=k.isString(I)?k.splitAccessPath(I).map(k.stringValue).join("]["):ab(I));return ea+"["+I+"]"}function pb(O){let ea="";O.forEach(I=>{const ka=Kb(I);ea+=I.test?`(${I.test})?${ka}:`:ka});":"===k.peek(ea)&&(ea+="null");return ea}function Qa(O,ea,I,ka,ta,Ja){const jb={};Ja=Ja||{};Ja.encoders={$encode:jb};O=Ua(O,ea,I,ka,ta.config);for(const Kc in O){I=O[Kc];
ka=ea;var vb=Ja,pc=ta;const Bd={},Hc={};for(const $c in I)if(null!=I[$c]){var qc=Da;var rc=I[$c];rc=k.isArray(rc)?pb(rc):Kb(rc);Bd[$c]=qc(rc,pc,vb,Hc)}I={$expr:{marktype:ka,channels:Bd},$fields:Object.keys(Hc),$output:Object.keys(I)};jb[Kc]=I}return Ja}function Da(O,ea,I,ka){O=P.parseExpression(O,ea);O.$fields.forEach(ta=>ka[ta]=1);k.extend(I,O.$params);return O.$expr}function Ka(O,ea){k.error(O+' for "outer" push: '+k.stringValue(ea))}function lb(O,ea){const I=O.name;if("outer"===O.push)ea.signals[I]||
Ka("No prior signal definition",I),Gd.forEach(ka=>{void 0!==O[ka]&&Ka("Invalid property ",ka)});else{const ka=ea.addSignal(I,O.value);!1===O.react&&(ka.react=!1);O.bind&&ea.addBinding(I,O.bind)}}function mb(O,ea,I,ka){this.id=-1;this.type=O;this.value=ea;this.params=I;ka&&(this.parent=ka)}function Pa(O){const ea={$ref:O.id};0>O.id&&(O.refs=O.refs||[]).push(ea);return ea}function xb(O,ea){return ea?{$field:O,$name:ea}:{$field:O}}function sb(O,ea){O={$key:O};ea&&(O.$flat=!0);return O}function Qb(O,
ea){return(O&&O.signal?"$"+O.signal:O||"")+(O&&ea?"_":"")+(ea&&ea.signal?"$"+ea.signal:ea||"")}function Wb(O){return O&&O.signal}function ob(O){if(Wb(O))return!0;if(k.isObject(O))for(const ea in O)if(ob(O[ea]))return!0;return!1}function pa(O,ea){return null!=O?O:ea}function Z(O){return O&&O.signal||O}function Fa(O,ea){return(O.merge?Ga:O.stream?db:O.type?ba:k.error("Invalid stream specification: "+k.stringValue(O)))(O,ea)}function Ga(O,ea){const I=O.merge.map(ka=>Fa(ka,ea));O=na({merge:I},O,ea);return ea.addStream(O).id}
function db(O,ea){const I=Fa(O.stream,ea);O=na({stream:I},O,ea);return ea.addStream(O).id}function ba(O,ea){if("timer"===O.type){var I=ea.event("timer",O.throttle);O={between:O.between,filter:O.filter}}else I=O.source,I=ea.event.call(ea,"scope"===I?"view":I||"view",O.type);O=na({stream:I},O,ea);return 1===Object.keys(O).length?I:ea.addStream(O).id}function na(O,ea,I){let ka=ea.between;ka&&(2!==ka.length&&k.error('Stream "between" parameter must have 2 entries: '+k.stringValue(ea)),O.between=[Fa(ka[0],
I),Fa(ka[1],I)]);ka=ea.filter?[].concat(ea.filter):[];if(ea.marktype||ea.markname||ea.markrole){var ta=ka,Ja=ea.marktype,jb=ea.markname,vb=ea.markrole;ta.push.call(ta,"event.item"+(Ja&&"*"!==Ja?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+Ja+"'":"")+(vb?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+vb+"'":"")+(jb?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+jb+"'":""))}"scope"===ea.source&&ka.push("inScope(event.item)");ka.length&&(O.filter=P.parseExpression("("+ka.join(")\x26\x26(")+")",I).$expr);
null!=(ka=ea.throttle)&&(O.throttle=+ka);null!=(ka=ea.debounce)&&(O.debounce=+ka);ea.consume&&(O.consume=!0);return O}function q(O,ea,I){const ka=O.encode,ta={target:I};I=O.events;let Ja=O.update,jb=[];I||k.error("Signal update missing events specification.");k.isString(I)&&(I=ib.parseSelector(I,ea.isSubscope()?"scope":"view"));I=k.array(I).filter(vb=>vb.signal||vb.scale?(jb.push(vb),0):1);1<jb.length&&(jb=[M(jb)]);I.length&&jb.push(1<I.length?{merge:I}:I[0]);null!=ka&&(Ja&&k.error("Signal encode and update are mutually exclusive."),
Ja="encode(item(),"+k.stringValue(ka)+")");ta.update=k.isString(Ja)?P.parseExpression(Ja,ea):null!=Ja.expr?P.parseExpression(Ja.expr,ea):null!=Ja.value?Ja.value:null!=Ja.signal?{$expr:Wd,$params:{$value:ea.signalRef(Ja.signal)}}:k.error("Invalid signal update specification.");O.force&&(ta.options={force:!0});jb.forEach(vb=>{var pc=ea.addUpdate,qc=k.extend;vb={source:vb.signal?ea.signalRef(vb.signal):vb.scale?ea.scaleRef(vb.scale):Fa(vb,ea)};return pc.call(ea,qc.call(k,vb,ta))})}function M(O){return{signal:"["+
O.map(ea=>ea.scale?'scale("'+ea.scale+'")':ea.signal)+"]"}}function Q(O,ea){const I=ea.getSignal(O.name);let ka=O.update;O.init&&(ka?k.error("Signals can not include both init and update expressions."):(ka=O.init,I.initonly=!0));ka&&(ka=P.parseExpression(ka,ea),I.update=ka.$expr,I.params=ka.$params);O.on&&O.on.forEach(ta=>q(ta,ea,I.id))}function g(O,ea){return k.isObject(O)?O.signal?ea.signalRef(O.signal):k.error("Unsupported object: "+k.stringValue(O)):O}function u(O,ea){return O.signal?ea.signalRef(O.signal):
O.map(I=>g(I,ea))}function m(O){k.error("Can not find data set: "+k.stringValue(O))}function C(O,ea,I){if(O)return O.signal?I.signalRef(O.signal):(k.isArray(O)?B:O.fields?E:A)(O,ea,I);null==ea.domainMin&&null==ea.domainMax||k.error("No scale domain defined for domainMin/domainMax to override.")}function B(O,ea,I){return O.map(ka=>g(ka,I))}function A(O,ea,I){const ka=I.getData(O.data);ka||m(O.data);return Gb.isDiscrete(ea.type)?ka.valuesRef(I,O.field,V(O.sort,!1)):Gb.isQuantile(ea.type)?ka.domainRef(I,
O.field):ka.extentRef(I,O.field)}function E(O,ea,I){const ka=O.data,ta=O.fields.reduce((Ja,jb)=>{if(k.isString(jb))jb={data:ka,field:jb};else if(k.isArray(jb)||jb.signal){var vb=jb;jb="_:vega:_"+Qc++;const pc=df({});k.isArray(vb)?pc.value={$ingest:vb}:vb.signal&&(vb="setdata("+k.stringValue(jb)+","+vb.signal+")",pc.params.input=I.signalRef(vb));I.addDataPipeline(jb,[pc,oc({})]);jb={data:jb,field:"data"}}Ja.push(jb);return Ja},[]);return(Gb.isDiscrete(ea.type)?H:Gb.isQuantile(ea.type)?Aa:Y)(O,I,ta)}
function H(O,ea,I){const ka=V(O.sort,!0);O=I.map(Ja=>{const jb=ea.getData(Ja.data);jb||m(Ja.data);return jb.countsRef(ea,Ja.field,ka)});const ta={groupby:$d,pulse:O};ka&&(O=ka.op||"count",I=ka.field?Qb(O,ka.field):"count",ta.ops=[td[O]],ta.fields=[ea.fieldRef(I)],ta.as=[I]);O=ea.add(Ce(ta));O=ea.add(df({pulse:Pa(O)}));I=ea.add(Uc({field:$d,sort:ea.sortRef(ka),pulse:Pa(O)}));return Pa(I)}function V(O,ea){O&&(O.field||O.op?O.field||"count"===O.op?ea&&O.field&&O.op&&!td[O.op]&&k.error("Multiple domain scales can not be sorted using "+
O.op):k.error("No field provided for sort aggregate op: "+O.op):k.isObject(O)?O.field="key":O={field:"key"});return O}function Aa(O,ea,I){O=I.map(ka=>{const ta=ea.getData(ka.data);ta||m(ka.data);return ta.domainRef(ea,ka.field)});return Pa(ea.add(Ta({values:O})))}function Y(O,ea,I){O=I.map(ka=>{const ta=ea.getData(ka.data);ta||m(ka.data);return ta.extentRef(ea,ka.field)});return Pa(ea.add(fa({extents:O})))}function t(O,ea,I){const ka=ea.config.range;let ta=O.range;if(ta.signal)return ea.signalRef(ta.signal);
if(k.isString(ta)){if(ka&&k.hasOwnProperty(ka,ta))return O=k.extend({},O,{range:ka[ta]}),t(O,ea,I);"width"===ta?ta=[0,{signal:"width"}]:"height"===ta?ta=Gb.isDiscrete(O.type)?[0,{signal:"height"}]:[{signal:"height"},0]:k.error("Unrecognized scale range value: "+k.stringValue(ta))}else{if(ta.scheme){I.scheme=k.isArray(ta.scheme)?u(ta.scheme,ea):g(ta.scheme,ea);ta.extent&&(I.schemeExtent=u(ta.extent,ea));ta.count&&(I.schemeCount=g(ta.count,ea));return}if(ta.step){I.rangeStep=g(ta.step,ea);return}if(Gb.isDiscrete(O.type)&&
!k.isArray(ta))return C(ta,O,ea);k.isArray(ta)||k.error("Unsupported range type: "+k.stringValue(ta))}return ta.map(Ja=>(k.isArray(Ja)?u:g)(Ja,ea))}function L(O,ea,I){return k.isArray(O)?O.map(ka=>L(ka,ea,I)):k.isObject(O)?O.signal?I.signalRef(O.signal):"fit"===ea?O:k.error("Unsupported parameter object: "+k.stringValue(O)):O}function va(O){O.type="group";O.interactive=O.interactive||!1;return O}function La(O,ea){const I=(ka,ta)=>pa(O[ka],pa(ea[ka],ta));I.isVertical=ka=>"vertical"===pa(O.direction,
ea.direction||(ka?ea.symbolDirection:ea.gradientDirection));I.gradientLength=()=>pa(O.gradientLength,ea.gradientLength||ea.gradientWidth);I.gradientThickness=()=>pa(O.gradientThickness,ea.gradientThickness||ea.gradientHeight);I.entryColumns=()=>pa(O.columns,pa(ea.columns,+I.isVertical(!0)));return I}function Wa(O,ea){return(O=ea&&(ea.update&&ea.update[O]||ea.enter&&ea.enter[O]))&&O.signal?O:O?O.value:null}function $a(O,ea,I){return`item.anchor === '${"start"}' ? ${O} : item.anchor === '${"end"}' ? ${ea} : ${I}`}
function X(O,ea){return ea?O?k.isObject(O)?Object.assign({},O,{offset:X(O.offset,ea)}):{value:O,offset:ea}:ea:O}function Ca(O,ea){ea?(O.name=ea.name,O.style=ea.style||O.style,O.interactive=!!ea.interactive,O.encode=jc(O.encode,ea,Od)):O.interactive=!1;return O}function Ya(O,ea,I,ka){O=La(O,I);I=O.isVertical();var ta=O.gradientThickness();const Ja=O.gradientLength();let jb,vb,pc;I?(I=[0,1],vb=[0,0],pc=ta,ta=Ja):(I=[0,0],vb=[1,0],pc=Ja);ta={enter:jb={opacity:Cd,x:Cd,y:Cd,width:Nc(pc),height:Nc(ta)},
update:k.extend({},jb,{opacity:be,fill:{gradient:ea,start:I,stop:vb}}),exit:{opacity:Cd}};Bb(ta,{stroke:O("gradientStrokeColor"),strokeWidth:O("gradientStrokeWidth")},{opacity:O("gradientOpacity")});return Ca({type:"rect",role:"legend-gradient",encode:ta},ka)}function Ib(O,ea,I,ka,ta){O=La(O,I);const Ja=O.isVertical();I=O.gradientThickness();const jb=O.gradientLength();var vb;let pc,qc,rc,Kc="";Ja?(vb="y",qc="y2",pc="x",rc="width",Kc="1-"):(vb="x",qc="x2",pc="y",rc="height");ea={opacity:Cd,fill:{scale:ea,
field:"value"}};ea[vb]={signal:Kc+"datum.perc",mult:jb};ea[pc]=Cd;ea[qc]={signal:Kc+"datum.perc2",mult:jb};ea[rc]=Nc(I);vb={enter:ea,update:k.extend({},ea,{opacity:be}),exit:{opacity:Cd}};Bb(vb,{stroke:O("gradientStrokeColor"),strokeWidth:O("gradientStrokeWidth")},{opacity:O("gradientOpacity")});return Ca({type:"rect",role:"legend-band",key:"value",from:ta,encode:vb},ka)}function yc(O,ea,I,ka){const ta=La(O,ea);var Ja=ta.isVertical();const jb=Nc(ta.gradientThickness()),vb=ta.gradientLength();let pc=
ta("labelOverlap"),qc,rc,Kc,Bd="";const Hc={enter:qc={opacity:Cd},update:rc={opacity:be,text:{field:"label"}},exit:{opacity:Cd}};Bb(Hc,{fill:ta("labelColor"),fillOpacity:ta("labelOpacity"),font:ta("labelFont"),fontSize:ta("labelFontSize"),fontStyle:ta("labelFontStyle"),fontWeight:ta("labelFontWeight"),limit:pa(O.labelLimit,ea.gradientLabelLimit)});Ja?(qc.align={value:"left"},qc.baseline=rc.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},Ja="y",Kc="x",Bd="1-"):(qc.align=
rc.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},qc.baseline={value:"top"},Ja="x",Kc="y");qc[Ja]=rc[Ja]={signal:Bd+"datum.perc",mult:vb};qc[Kc]=rc[Kc]=jb;jb.offset=pa(O.labelOffset,ea.gradientLabelOffset)||0;pc=pc?{separation:ta("labelSeparation"),method:pc,order:"datum.index"}:void 0;return Ca({type:"text",role:"legend-label",style:"guide-label",key:"value",from:ka,encode:Hc,overlap:pc},I)}function sc(O,ea,I,ka,ta){var Ja=La(O,ea);const jb=I.entries,vb=!(!jb||!jb.interactive),
pc=jb?jb.name:void 0,qc=Ja("clipHeight"),rc=Ja("symbolOffset"),Kc={data:"value"},Bd=`(${ta}) ? datum.${"offset"} : datum.${"size"}`,Hc=qc?Nc(qc):{field:"size"},$c=`max(1, ${ta})`;let zd,Dd;Hc.mult=.5;var Kd={enter:zd={opacity:Cd,x:{signal:Bd,mult:.5,offset:rc},y:Hc},update:Dd={opacity:be,x:zd.x,y:zd.y},exit:{opacity:Cd}};let Ge=null,De=null;O.fill||(Ge=ea.symbolBaseFillColor,De=ea.symbolBaseStrokeColor);Bb(Kd,{fill:Ja("symbolFillColor",Ge),shape:Ja("symbolType"),size:Ja("symbolSize"),stroke:Ja("symbolStrokeColor",
De),strokeDash:Ja("symbolDash"),strokeDashOffset:Ja("symbolDashOffset"),strokeWidth:Ja("symbolStrokeWidth")},{opacity:Ja("symbolOpacity")});jd.forEach(yd=>{O[yd]&&(Dd[yd]=zd[yd]={scale:O[yd],field:"value"})});ea=Ca({type:"symbol",role:"legend-symbol",key:"value",from:Kc,clip:qc?!0:void 0,encode:Kd},I.symbols);Kd=Nc(rc);Kd.offset=Ja("labelOffset");Kd={enter:zd={opacity:Cd,x:{signal:Bd,offset:Kd},y:Hc},update:Dd={opacity:be,text:{field:"label"},x:zd.x,y:zd.y},exit:{opacity:Cd}};Bb(Kd,{align:Ja("labelAlign"),
baseline:Ja("labelBaseline"),fill:Ja("labelColor"),fillOpacity:Ja("labelOpacity"),font:Ja("labelFont"),fontSize:Ja("labelFontSize"),fontStyle:Ja("labelFontStyle"),fontWeight:Ja("labelFontWeight"),limit:Ja("labelLimit")});I=Ca({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Kc,encode:Kd},I.labels);Kd={enter:{noBound:{value:!qc},width:Cd,height:qc?Nc(qc):Cd,opacity:Cd},exit:{opacity:Cd},update:Dd={opacity:be,row:{signal:null},column:{signal:null}}};Ja.isVertical(!0)?(Ja=`ceil(item.mark.items.length / ${$c})`,
Dd.row.signal=`${"datum.index"}%${Ja}`,Dd.column.signal=`floor(${"datum.index"} / ${Ja})`,Ja={field:["row","datum.index"]}):(Dd.row.signal=`floor(${"datum.index"} / ${$c})`,Dd.column.signal=`${"datum.index"} % ${$c}`,Ja={field:"datum.index"});Dd.column.signal=`(${ta})?${Dd.column.signal}:${"datum.index"}`;ka={facet:{data:ka,name:"value",groupby:"index"}};return va({role:"scope",from:ka,encode:jc(Kd,jb,Od),marks:[ea,I],name:pc,interactive:vb,sort:Ja})}function xc(O,ea){O=La(O,ea);return{align:O("gridAlign"),
columns:O.entryColumns(),center:{row:!0,column:!1},padding:{row:O("rowPadding"),column:O("columnPadding")}}}function cd(O,ea,I,ka){ea=La(O,ea);const ta={enter:{opacity:Cd},update:{opacity:be,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Cd}};Bb(ta,{orient:ea("titleOrient"),_anchor:ea("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},
align:{signal:Ye},baseline:{signal:ef},text:O.title,fill:ea("titleColor"),fillOpacity:ea("titleOpacity"),font:ea("titleFont"),fontSize:ea("titleFontSize"),fontStyle:ea("titleFontStyle"),fontWeight:ea("titleFontWeight"),limit:ea("titleLimit"),lineHeight:ea("titleLineHeight")},{align:ea("titleAlign"),baseline:ea("titleBaseline")});return Ca({type:"text",role:"legend-title",style:"guide-title",from:ka,encode:ta},I)}function Zb(O,ea){let I;k.isObject(O)&&(O.signal?I=O.signal:O.path?I="pathShape("+Rc(O.path)+
")":O.sphere&&(I="geoShape("+Rc(O.sphere)+', {type: "Sphere"})'));return I?ea.signalRef(I):!!O}function Rc(O){return k.isObject(O)&&O.signal?O.signal:k.stringValue(O)}function Pd(O){const ea=O.role||"";return ea.indexOf("axis")&&ea.indexOf("legend")&&ea.indexOf("title")?"group"===O.type?"scope":ea||"mark":ea}function Ma(O){return{marktype:O.type,name:O.name||void 0,role:O.role||Pd(O),zindex:+O.zindex||void 0,aria:O.aria,description:O.description}}function Vb(O,ea){return O&&O.signal?ea.signalRef(O.signal):
!1===O?!1:!0}function qb(O,ea){const I=ac.definition(O.type);I||k.error("Unrecognized transform type: "+k.stringValue(O.type));var ka=I.type.toLowerCase();var ta=Tb(I,O,ea);ka=new mb(ka,null,ta,void 0);O.signal&&ea.addSignal(O.signal,ea.proxy(ka));ka.metadata=I.metadata||{};return ka}function Tb(O,ea,I){const ka={},ta=O.params.length;for(let Ja=0;Ja<ta;++Ja){const jb=O.params[Ja];ka[jb.name]=gc(jb,ea,I)}return ka}function gc(O,ea,I){const ka=O.type,ta=ea[O.name];if("index"===ka)return Ic(O,ea,I);
if(void 0===ta)O.required&&k.error("Missing required "+k.stringValue(ea.type)+" parameter: "+k.stringValue(O.name));else return"param"===ka?zc(O,ea,I):"projection"===ka?I.projectionRef(ea[O.name]):O.array&&!Wb(ta)?ta.map(Ja=>cc(O,Ja,I)):cc(O,ta,I)}function cc(O,ea,I){const ka=O.type;return Wb(ea)?"expr"===ka?k.error("Expression references can not be signals."):"field"===ka?I.fieldRef(ea):"compare"===ka?I.compareRef(ea):I.signalRef(ea.signal):(O=O.expr||"field"===ka)&&ea&&ea.expr?I.exprRef(ea.expr,
ea.as):O&&ea&&ea.field?xb(ea.field,ea.as):"expr"===ka?P.parseExpression(ea,I):"data"===ka?Pa(I.getData(ea).values):"field"===ka?xb(ea):"compare"===ka?I.compareRef(ea):ea}function Ic(O,ea,I){k.isString(ea.from)||k.error('Lookup "from" parameter must be a string literal.');return I.getData(ea.from).lookupRef(I,ea.key)}function zc(O,ea,I){ea=ea[O.name];return O.array?(k.isArray(ea)||k.error("Expected an array of sub-parameters. Instead: "+k.stringValue(ea)),ea.map(ka=>Yc(O,ka,I))):Yc(O,ea,I)}function Yc(O,
ea,I){const ka=O.params.length;let ta;for(let Ja=0;Ja<ka;++Ja){ta=O.params[Ja];for(const jb in ta.key)if(ta.key[jb]!==ea[jb]){ta=null;break}if(ta)break}ta||k.error("Unsupported parameter: "+k.stringValue(ea));O=k.extend(Tb(ta,ea,I),ta.key);return Pa(I.add(Pc(O)))}function Md(O,ea,I){let ka,ta,Ja,jb;if(!O)Ja=Pa(I.add(df(null,[{}])));else if(ka=O.facet)ea||k.error("Only group marks can be faceted."),null!=ka.field?Ja=jb=ud(ka,I):(O.data?jb=Pa(I.getData(O.data).aggregate):(ea=qb(k.extend({type:"aggregate",
groupby:k.array(ka.groupby)},ka.aggregate),I),ea.params.key=I.keyRef(ka.groupby),ea.params.pulse=ud(ka,I),Ja=jb=Pa(I.add(ea))),ta=I.keyRef(ka.groupby,!0));Ja||(Ja=ud(O,I));return{key:ta,pulse:Ja,parent:jb}}function ud(O,ea){return O.$ref?O:O.data&&O.data.$ref?O.data:Pa(ea.getData(O.data).output)}function Ha(O,ea,I,ka,ta){this.scope=O;this.input=ea;this.output=I;this.values=ka;this.aggregate=ta;this.index={}}function gb(O){return k.isString(O)?O:null}function wb(O,ea,I){const ka=Qb(I.op,I.field);let ta;
if(ea.ops)for(let Ja=0,jb=ea.as.length;Ja<jb;++Ja){if(ea.as[Ja]===ka)return}else ea.ops=["count"],ea.fields=[null],ea.as=["count"];I.op&&(ea.ops.push((ta=I.op.signal)?O.signalRef(ta):I.op),ea.fields.push(O.fieldRef(I.field)),ea.as.push(ka))}function sa(O,ea,I,ka,ta,Ja,jb){I=ea[I]||(ea[I]={});var vb=k.isObject(Ja)?("descending"===Ja.order?"-":"+")+Qb(Ja.op,Ja.field):"";let pc=gb(ta);if(null!=pc){O=ea.scope;pc+=vb?"|"+vb:"";var qc=I[pc]}qc||(qc=Ja?{field:$d,pulse:ea.countsRef(O,ta,Ja)}:{field:O.fieldRef(ta),
pulse:Pa(ea.output)},vb&&(qc.sort=O.sortRef(Ja)),O=O.add(new mb(ka,void 0,qc,void 0)),jb&&(ea.index[ta]=O),qc=Pa(O),null!=pc&&(I[pc]=qc));return qc}function G(O,ea,I){var ka=O.from.facet;const ta=ka.name,Ja=ud(ka,ea);let jb;ka.name||k.error("Facet must have a name: "+k.stringValue(ka));ka.data||k.error("Facet must reference a data set: "+k.stringValue(ka));ka.field?jb=ea.add(Dc({field:ea.fieldRef(ka.field),pulse:Ja})):ka.groupby?jb=ea.add(cb({key:ea.keyRef(ka.groupby),group:Pa(ea.proxy(I.parent)),
pulse:Ja})):k.error("Facet must specify groupby or field: "+k.stringValue(ka));ea=ea.fork();I=ea.add(df());ka=ea.add(oc({pulse:Pa(I)}));ea.addData(ta,new Ha(ea,I,I,ka));ea.addSignal("parent",null);jb.params.subflow={$subflow:ea.parse(O).toRuntime()}}function ya(O,ea,I){I=ea.add(Dc({pulse:I.pulse}));ea=ea.fork();ea.add(oc());ea.addSignal("parent",null);I.params.subflow={$subflow:ea.parse(O).toRuntime()}}function Na(O,ea,I){const ka=O.remove,ta=O.insert,Ja=O.toggle,jb=O.modify,vb=O.values,pc=ea.add(new mb("operator",
void 0,void 0,void 0));O="if("+O.trigger+',modify("'+I+'",'+[ta,ka,Ja,jb,vb].map(qc=>null==qc?"null":qc).join(",")+"),0)";ea=P.parseExpression(O,ea);pc.update=ea.$expr;pc.params=ea.$params}function Za(O,ea){var I=Pd(O),ka="group"===O.type,ta=O.from&&O.from.facet;const Ja=O.overlap;let jb=O.layout||"scope"===I||"frame"===I,vb,pc,qc,rc,Kc,Bd;const Hc="mark"===I||jb||ta,$c=Md(O.from,ka,ea);pc=ea.add(tf({key:$c.key||(O.key?xb(O.key):void 0),pulse:$c.pulse,clean:!ka}));const zd=Pa(pc);pc=qc=ea.add(df({pulse:zd}));
pc=ea.add(J({markdef:Ma(O),interactive:Vb(O.interactive,ea),clip:Zb(O.clip,ea),context:{$context:!0},groups:ea.lookup(),parent:ea.signals.parent?ea.signalRef("parent"):null,index:ea.markpath(),pulse:Pa(pc)}));var Dd=Pa(pc);pc=rc=ea.add(U(Qa(O.encode,O.type,I,O.style,ea,{mod:!1,pulse:Dd})));pc.params.parent=ea.encode();O.transform&&O.transform.forEach(Ge=>{Ge=qb(Ge,ea);const De=Ge.metadata;(De.generates||De.changes)&&k.error("Mark transforms should not generate new data.");De.nomod||(rc.params.mod=
!0);Ge.params.pulse=Pa(pc);ea.add(pc=Ge)});O.sort&&(pc=ea.add(xd({sort:ea.compareRef(O.sort),pulse:Pa(pc)})));I=Pa(pc);if(ta||jb)jb=ea.add(Lc({layout:ea.objectProperty(O.layout),legends:ea.legends,mark:Dd,pulse:I})),Bd=Pa(jb);const Kd=ea.add(hf({mark:Dd,pulse:Bd||I}));Dd=Pa(Kd);ka&&(Hc&&(vb=ea.operators,vb.pop(),jb&&vb.pop()),ea.pushState(I,Bd||Dd,zd),ta?G(O,ea,$c):Hc?ya(O,ea,$c):ea.parse(O),ea.popState(),Hc&&(jb&&vb.push(jb),vb.push(Kd)));Ja&&(Dd=kb(Ja,Dd,ea));ka=ea.add(Sa({pulse:Dd}));ta=ea.add(oc({pulse:Pa(ka)},
void 0,ea.parent()));null!=O.name&&(Kc=O.name,ea.addData(Kc,new Ha(ea,qc,ka,ta)),O.on&&O.on.forEach(Ge=>{(Ge.insert||Ge.remove||Ge.toggle)&&k.error("Marks only support modify triggers.");Na(Ge,ea,Kc)}))}function kb(O,ea,I){const ka=O.method,ta=O.bound,Ja=O.separation;ea={separation:Wb(Ja)?I.signalRef(Ja.signal):Ja,method:Wb(ka)?I.signalRef(ka.signal):ka,pulse:ea};O.order&&(ea.sort=I.compareRef({field:O.order}));ta&&(O=ta.tolerance,ea.boundTolerance=Wb(O)?I.signalRef(O.signal):+O,ea.boundScale=I.scaleRef(ta.scale),
ea.boundOrient=ta.orient);return Pa(I.add(bc(ea)))}function Fb(O,ea){const I=ea.config.legend,ka=O.encode||{},ta=La(O,I),Ja=ka.legend||{},jb=Ja.name||void 0,vb=Ja.interactive,pc=Ja.style,qc={};let rc=0,Kc,Bd;jd.forEach(Kd=>O[Kd]?(qc[Kd]=O[Kd],rc=rc||O[Kd]):0);rc||k.error("Missing valid scale for legend.");var Hc=nc(O,ea.scaleType(rc));const $c={title:null!=O.title,scales:qc,type:Hc,vgrad:"symbol"!==Hc&&ta.isVertical()},zd=Pa(ea.add(df(null,[$c]))),Dd=Pa(ea.add(Cc(Bd={type:Hc,scale:ea.scaleRef(rc),
count:ea.objectProperty(ta("tickCount")),limit:ea.property(ta("symbolLimit")),values:ea.objectProperty(O.values),minstep:ea.property(O.tickMinStep),formatType:ea.property(O.formatType),formatSpecifier:ea.property(O.format)})));"gradient"===Hc?(Hc=[Ya(O,rc,I,ka.gradient),yc(O,I,ka.labels,Dd)],Bd.count=Bd.count||ea.signalRef(`max(2,2*floor((${Z(ta.gradientLength())})/100))`)):"discrete"===Hc?Hc=[Ib(O,rc,I,ka.gradient,Dd),yc(O,I,ka.labels,Dd)]:(Kc=xc(O,I),Hc=[sc(O,I,ka,Dd,Z(Kc.columns))],Bd.size=Tc(O,
ea,Hc[0].marks));Hc=[va({role:"legend-entry",from:zd,encode:{enter:{x:{value:0},y:{value:0}}},marks:Hc,layout:Kc,interactive:vb})];$c.title&&Hc.push(cd(O,I,ka.title,zd));return Za(va({role:"legend",from:zd,encode:jc(ic(ta,O,I),Ja,Od),marks:Hc,aria:ta("aria"),description:ta("description"),zindex:ta("zindex"),name:jb,interactive:vb,style:pc}),ea)}function nc(O,ea){let I=O.type||"symbol";O.type||1!==ec(O)||!O.fill&&!O.stroke||(I=Gb.isContinuous(ea)?"gradient":Gb.isDiscretizing(ea)?"discrete":"symbol");
return"gradient"!==I?I:Gb.isDiscretizing(ea)?"discrete":"gradient"}function ec(O){return jd.reduce((ea,I)=>ea+(O[I]?1:0),0)}function ic(O,ea,I){const ka={enter:{},update:{}};Bb(ka,{orient:O("orient"),offset:O("offset"),padding:O("padding"),titlePadding:O("titlePadding"),cornerRadius:O("cornerRadius"),fill:O("fillColor"),stroke:O("strokeColor"),strokeWidth:I.strokeWidth,strokeDash:I.strokeDash,x:O("legendX"),y:O("legendY"),format:ea.format,formatType:ea.formatType});return ka}function Tc(O,ea,I){const ka=
Z(dd("size",O,I));O=Z(dd("strokeWidth",O,I));(I=Wa("fontSize",I[1].encode))||(I=(I=ea.config.style["guide-label"])&&I.fontSize);I=Z(I);return P.parseExpression(`max(ceil(sqrt(${ka})+${O}),${I})`,ea)}function dd(O,ea,I){return ea[O]?`scale("${ea[O]}",datum)`:Wa(O,I[0].encode)}function ed(O,ea){O=k.isString(O)?{text:O}:O;const I=La(O,ea.config.title);var ka=O.encode||{},ta=ka.group||{};const Ja=ta.name||void 0,jb=ta.interactive,vb=ta.style,pc=[],qc=Pa(ea.add(df(null,[{}])));var rc=pc.push,Kc=O;var Bd=
(Bd=O.encode)&&Bd.title||k.extend({name:O.name,interactive:O.interactive,style:O.style},Bd);var Hc={value:0};Hc={enter:{opacity:Hc},update:{opacity:{value:1}},exit:{opacity:Hc}};Bb(Hc,{text:Kc.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:I("dx"),dy:I("dy"),fill:I("color"),font:I("font"),fontSize:I("fontSize"),fontStyle:I("fontStyle"),fontWeight:I("fontWeight"),lineHeight:I("lineHeight")},{align:I("align"),
angle:I("angle"),baseline:I("baseline")});Kc=Ca({type:"text",role:"title-text",style:"group-title",from:qc,encode:Hc},Bd);rc.call(pc,Kc);O.subtitle&&(rc=pc.push,ka=ka.subtitle,Kc={value:0},Kc={enter:{opacity:Kc},update:{opacity:{value:1}},exit:{opacity:Kc}},Bb(Kc,{text:O.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:I("dx"),dy:I("dy"),fill:I("subtitleColor"),font:I("subtitleFont"),fontSize:I("subtitleFontSize"),
fontStyle:I("subtitleFontStyle"),fontWeight:I("subtitleFontWeight"),lineHeight:I("subtitleLineHeight")},{align:I("align"),angle:I("angle"),baseline:I("baseline")}),O=Ca({type:"text",role:"title-subtitle",style:"group-subtitle",from:qc,encode:Kc},ka),rc.call(pc,O));O={enter:{},update:{}};Bb(O,{orient:I("orient"),anchor:I("anchor"),align:{signal:ye},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},limit:I("limit"),frame:I("frame"),offset:I("offset")||0,padding:I("subtitlePadding")});
ta=jc(O,ta,Od);return Za(va({role:"title",from:qc,encode:ta,marks:pc,aria:I("aria"),description:I("description"),zindex:I("zindex"),name:Ja,interactive:jb,style:vb}),ea)}function Qd(O,ea){const I=[];O.transform&&O.transform.forEach(ka=>{I.push(qb(ka,ea))});O.on&&O.on.forEach(ka=>{Na(ka,ea,O.name)});ea.addDataPipeline(O.name,Td(O,ea,I))}function Td(O,ea,I){const ka=[];let ta=null,Ja=!1,jb=!1,vb,pc,qc,rc;O.values?Wb(O.values)||ob(O.format)?(ka.push(Zd(ea,O)),ka.push(ta=Fd())):ka.push(ta=Fd({$ingest:O.values,
$format:O.format})):O.url?ob(O.url)||ob(O.format)?(ka.push(Zd(ea,O)),ka.push(ta=Fd())):ka.push(ta=Fd({$request:O.url,$format:O.format})):O.source&&(ta=vb=k.array(O.source).map(Kc=>Pa(ea.getData(Kc).output)),ka.push(null));O=0;for(pc=I.length;O<pc;++O)qc=I[O],rc=qc.metadata,ta||rc.source||ka.push(ta=Fd()),ka.push(qc),rc.generates&&(jb=!0),rc.modifies&&!jb&&(Ja=!0),rc.source?ta=qc:rc.changes&&(ta=null);vb&&(pc=vb.length-1,ka[0]=ee({derive:Ja,pulse:pc?vb:vb[0]}),(Ja||pc)&&ka.splice(1,0,Fd()));ta||ka.push(Fd());
ka.push(oc({}));return ka}function Fd(O){O=df({},O);O.metadata={source:!0};return O}function Zd(O,ea){return $b({url:ea.url?O.property(ea.url):void 0,async:ea.async?O.property(ea.async):void 0,values:ea.values?O.property(ea.values):void 0,format:O.objectProperty(ea.format)})}function de(O,ea,I,ka){let ta;if(ea&&k.hasOwnProperty(ea,O))return ea[O];if(k.hasOwnProperty(I,O))return I[O];if(O.startsWith("title")){switch(O){case "titleColor":ta="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":ta=
O[5].toLowerCase()+O.slice(6)}return ka["guide-title"][ta]}if(O.startsWith("label")){switch(O){case "labelColor":ta="fill";break;case "labelFont":case "labelFontSize":ta=O[5].toLowerCase()+O.slice(6)}return ka["guide-label"][ta]}return null}function Ud(O){const ea={};for(const I of O)if(I)for(const ka in I)ea[ka]=1;return Object.keys(ea)}function Ve(O,ea,I,ka,ta){return{signal:'flush(range("'+O+'"), scale("'+O+'", datum.value), '+ea+","+I+","+ka+","+ta+")"}}function Xd(O,ea,I,ka){const ta=(jb,vb)=>
null!=jb?(I.update[vb]=le(Nc(jb),I.update[vb]),!1):Yb(vb,ka)?!1:!0,Ja=ta(O("titleX"),"x");O=ta(O("titleY"),"y");I.enter.auto=O===Ja?Nc(O):Ec(ea,Nc(O),Nc(Ja))}function N(O,ea,I){const ka=k.array(O.signals),ta=k.array(O.scales);I||ka.forEach(Ja=>lb(Ja,ea));k.array(O.projections).forEach(Ja=>{const jb=ea.config.projection||{},vb={};for(const pc in Ja)"name"!==pc&&(vb[pc]=L(Ja[pc],pc,ea));for(const pc in jb)null==vb[pc]&&(vb[pc]=L(jb[pc],pc,ea));ea.addProjection(Ja.name,vb)});ta.forEach(Ja=>{const jb=
Ja.type||"linear";Gb.isValidScaleType(jb)||k.error("Unrecognized scale type: "+k.stringValue(jb));ea.addScale(Ja.name,{type:jb,domain:void 0})});k.array(O.data).forEach(Ja=>Qd(Ja,ea));ta.forEach(Ja=>{const jb=ea.getScale(Ja.name).params;let vb;jb.domain=C(Ja.domain,Ja,ea);null!=Ja.range&&(jb.range=t(Ja,ea,jb));if(null!=Ja.interpolate){var pc=Ja.interpolate;jb.interpolate=g(pc.type||pc);null!=pc.gamma&&(jb.interpolateGamma=g(pc.gamma))}null!=Ja.nice&&(pc=Ja.nice,pc=k.isObject(pc)?{interval:g(pc.interval),
step:g(pc.step)}:g(pc),jb.nice=pc);null!=Ja.bins&&(pc=Ja.bins,pc=pc.signal||k.isArray(pc)?u(pc,ea):ea.objectProperty(pc),jb.bins=pc);for(vb in Ja)k.hasOwnProperty(jb,vb)||"name"===vb||(jb[vb]=g(Ja[vb],ea))});(I||ka).forEach(Ja=>Q(Ja,ea));k.array(O.axes).forEach(Ja=>{var jb=ea.config,vb=jb.style,pc=jb.axis,qc="band"===ea.scaleType(Ja.scale)&&jb.axisBand,rc=Ja.orient,Kc;if(Wb(rc)){const Ee=Ud([jb.axisX,jb.axisY]),Je=Ud([jb.axisTop,jb.axisBottom,jb.axisLeft,jb.axisRight]);var Bd={};for(Kc of Ee)Bd[Kc]=
Ec(rc,de(Kc,jb.axisX,pc,vb),de(Kc,jb.axisY,pc,vb));var Hc={};for(Kc of Je){var $c=Hc,zd=Kc,Dd=rc.signal,Kd=de(Kc,jb.axisTop,pc,vb),Ge=de(Kc,jb.axisBottom,pc,vb),De=de(Kc,jb.axisLeft,pc,vb),yd=de(Kc,jb.axisRight,pc,vb);var Ae={signal:(null!=De?`${Dd} === '${"left"}' ? (${ce(De)}) : `:"")+(null!=Ge?`${Dd} === '${"bottom"}' ? (${ce(Ge)}) : `:"")+(null!=yd?`${Dd} === '${"right"}' ? (${ce(yd)}) : `:"")+(null!=Kd?`${Dd} === '${"top"}' ? (${ce(Kd)}) : `:"")+"(null)"};$c[zd]=Ae}}else Bd="top"===rc||"bottom"===
rc?jb.axisX:jb.axisY,Hc=jb["axis"+rc[0].toUpperCase()+rc.slice(1)];var Ld=Bd||Hc||qc?k.extend({},pc,Bd,Hc,qc):pc;const he=Ja.encode||{},He=he.axis||{},lf=He.name||void 0,vf=He.interactive,Ke=He.style,ne=La(Ja,Ld),Df=ne("tickBand");let If=ne("tickOffset"),jf,ag;Df?Df.signal?(jf={signal:`(${Df.signal}) === 'extent' ? 1 : 0.5`},ag={signal:`(${Df.signal}) === 'extent'`},k.isObject(If)||(If={signal:`(${Df.signal}) === 'extent' ? 0 : ${If}`})):"extent"===Df?(jf=1,ag=!0,If=0):(jf=.5,ag=!1):(jf=ne("bandPosition"),
ag=ne("tickExtra"));var Yd=ag;var ff=jf;var mf=If;const af={scale:Ja.scale,ticks:!!ne("ticks"),labels:!!ne("labels"),grid:!!ne("grid"),domain:!!ne("domain"),title:null!=Ja.title},Hf=Pa(ea.add(df({},[af]))),Jf=Pa(ea.add(kf({scale:ea.scaleRef(Ja.scale),extra:ea.property(Yd),count:ea.objectProperty(Ja.tickCount),values:ea.objectProperty(Ja.values),minstep:ea.property(Ja.tickMinStep),formatType:ea.property(Ja.formatType),formatSpecifier:ea.property(Ja.format)}))),zf=[];let Af;if(af.grid){var Eg=zf.push,
hg=he.grid;const Ee=La(Ja,Ld),Je=Ja.orient,Lf=Ja.gridScale,yf=od(Je,1,-1);a:{var xf=Ja.offset,Kf=yf;if(1!==Kf)if(k.isObject(xf)){let yg=xf=k.extend({},xf);for(;null!=yg.mult;)if(k.isObject(yg.mult))yg=yg.mult=k.extend({},yg.mult);else{yg.mult=Wb(Kf)?{signal:`(${yg.mult}) * (${Kf.signal})`}:yg.mult*Kf;var dg=xf;break a}yg.mult=Kf}else xf=Wb(Kf)?{signal:`(${Kf.signal}) * (${xf||0})`}:Kf*(xf||0);dg=xf}const nf=dg;let Bf,ug,xg;const ig={enter:Bf={opacity:Cd},update:xg={opacity:be},exit:ug={opacity:Cd}};
Bb(ig,{stroke:Ee("gridColor"),strokeCap:Ee("gridCap"),strokeDash:Ee("gridDash"),strokeDashOffset:Ee("gridDashOffset"),strokeOpacity:Ee("gridOpacity"),strokeWidth:Ee("gridWidth")});const Cf={scale:Ja.scale,field:"value",band:ff,extra:Yd,offset:mf,round:Ee("tickRound")},Sg=Ec(Je,{signal:"height"},{signal:"width"}),fh=Lf?{scale:Lf,range:0,mult:yf,offset:nf}:{value:0,offset:nf},lh=Lf?{scale:Lf,range:1,mult:yf,offset:nf}:k.extend(Sg,{mult:yf,offset:nf});Bf.x=xg.x=Ec(Je,Cf,fh);Bf.y=xg.y=kd(Je,Cf,fh);Bf.x2=
xg.x2=kd(Je,lh);Bf.y2=xg.y2=Ec(Je,lh);ug.x=Ec(Je,Cf);ug.y=kd(Je,Cf);var ch=Ca({type:"rule",role:"axis-grid",key:"value",from:Jf,encode:ig},hg);Eg.call(zf,ch)}if(af.ticks){Af=ne("tickSize");var Ig=zf.push,Mg=he.ticks,Ug=Af;const Ee=La(Ja,Ld),Je=Ja.orient,Lf=od(Je,-1,1);let yf,nf,Bf;const ug={enter:yf={opacity:Cd},update:Bf={opacity:be},exit:nf={opacity:Cd}};Bb(ug,{stroke:Ee("tickColor"),strokeCap:Ee("tickCap"),strokeDash:Ee("tickDash"),strokeDashOffset:Ee("tickDashOffset"),strokeOpacity:Ee("tickOpacity"),
strokeWidth:Ee("tickWidth")});const xg=Nc(Ug);xg.mult=Lf;const ig={scale:Ja.scale,field:"value",band:ff,extra:Yd,offset:mf,round:Ee("tickRound")};Bf.y=yf.y=Ec(Je,Cd,ig);Bf.y2=yf.y2=Ec(Je,xg);nf.x=Ec(Je,ig);Bf.x=yf.x=kd(Je,Cd,ig);Bf.x2=yf.x2=kd(Je,xg);nf.y=kd(Je,ig);var qa=Ca({type:"rule",role:"axis-tick",key:"value",from:Jf,encode:ug},Mg);Ig.call(zf,qa)}if(af.labels){Af=af.ticks?Af:0;var bb=zf.push,Rb=he.labels,hd=Af;const Ee=La(Ja,Ld),Je=Ja.orient,Lf=Ja.scale,yf=od(Je,-1,1),nf=Z(Ee("labelFlush")),
Bf=Z(Ee("labelFlushOffset")),ug=Ee("labelAlign"),xg=Ee("labelBaseline");let ig=0===nf||!!nf,Cf;const Sg=Nc(hd);Sg.mult=yf;Sg.offset=Nc(Ee("labelPadding")||0);Sg.offset.mult=yf;const fh={scale:Lf,field:"value",band:.5,offset:X(mf,Ee("labelOffset"))};var ld=ig?Ve(Lf,nf,'"left"','"right"','"center"'):{value:"center"},pe=Je;var Pe=Wb(pe)?Vd(`${pe.signal} === '${"right"}'`,"left","right"):"right"===pe?{value:"left"}:{value:"right"};const lh=Ec(Je,ld,Pe),yg=Ec(Je,Fc(Je,"bottom","top"),ig?Ve(Lf,nf,'"top"',
'"bottom"','"middle"'):{value:"middle"}),vh=Ve(Lf,nf,`-(${Bf})`,Bf,0);ig=ig&&Bf;const uh={opacity:Cd,x:Ec(Je,fh,Sg),y:kd(Je,fh,Sg)},Kh={enter:uh,update:Cf={opacity:be,text:{field:"label"},x:uh.x,y:uh.y,align:lh,baseline:yg},exit:{opacity:Cd,x:uh.x,y:uh.y}};Bb(Kh,{dx:!ug&&ig?Ec(Je,vh):null,dy:!xg&&ig?kd(Je,vh):null});Bb(Kh,{angle:Ee("labelAngle"),fill:Ee("labelColor"),fillOpacity:Ee("labelOpacity"),font:Ee("labelFont"),fontSize:Ee("labelFontSize"),fontWeight:Ee("labelFontWeight"),fontStyle:Ee("labelFontStyle"),
limit:Ee("labelLimit"),lineHeight:Ee("labelLineHeight")},{align:ug,baseline:xg});const Yg=Ee("labelBound");let wh=Ee("labelOverlap");wh=wh||Yg?{separation:Ee("labelSeparation"),method:wh,order:"datum.index",bound:Yg?{scale:Lf,orient:Je,tolerance:Yg}:null}:void 0;Cf.align!==lh&&(Cf.align=le(Cf.align,lh));Cf.baseline!==yg&&(Cf.baseline=le(Cf.baseline,yg));var qf=Ca({type:"text",role:"axis-label",style:"guide-label",key:"value",from:Jf,encode:Kh,overlap:wh},Rb);bb.call(zf,qf)}if(af.domain){var Gf=zf.push,
Ne=he.domain;const Ee=La(Ja,Ld),Je=Ja.orient;let Lf,yf;const nf={enter:Lf={opacity:Cd},update:yf={opacity:be},exit:{opacity:Cd}};Bb(nf,{stroke:Ee("domainColor"),strokeCap:Ee("domainCap"),strokeDash:Ee("domainDash"),strokeDashOffset:Ee("domainDashOffset"),strokeWidth:Ee("domainWidth"),strokeOpacity:Ee("domainOpacity")});const Bf={scale:Ja.scale,range:0},ug={scale:Ja.scale,range:1};Lf.x=yf.x=Ec(Je,Bf,Cd);Lf.x2=yf.x2=Ec(Je,ug);Lf.y=yf.y=kd(Je,Bf,Cd);Lf.y2=yf.y2=kd(Je,ug);var bg=Ca({type:"rule",role:"axis-domain",
from:Hf,encode:nf},Ne);Gf.call(zf,bg)}if(af.title){var Pf=zf.push,Vf=he.title;const Ee=La(Ja,Ld),Je=Ja.orient,Lf=od(Je,-1,1);let yf,nf;const Bf={enter:yf={opacity:Cd,anchor:Nc(Ee("titleAnchor",null)),align:{signal:ye}},update:nf=k.extend({},yf,{opacity:be,text:Nc(Ja.title)}),exit:{opacity:Cd}},ug={signal:`lerp(range("${Ja.scale}"), ${$a(0,1,.5)})`};nf.x=Ec(Je,ug);nf.y=kd(Je,ug);var sg=yf,tg=Lf;var Rg=Wb(tg)?{signal:`(${tg.signal}) * ${90}`}:{value:90*tg};sg.angle=Ec(Je,Cd,Rg);yf.baseline=Ec(Je,Fc(Je,
"bottom","top"),{value:"bottom"});nf.angle=yf.angle;nf.baseline=yf.baseline;Bb(Bf,{fill:Ee("titleColor"),fillOpacity:Ee("titleOpacity"),font:Ee("titleFont"),fontSize:Ee("titleFontSize"),fontStyle:Ee("titleFontStyle"),fontWeight:Ee("titleFontWeight"),limit:Ee("titleLimit"),lineHeight:Ee("titleLineHeight")},{align:Ee("titleAlign"),angle:Ee("titleAngle"),baseline:Ee("titleBaseline")});Xd(Ee,Je,Bf,Vf);Bf.update.align=le(Bf.update.align,yf.align);Bf.update.angle=le(Bf.update.angle,yf.angle);Bf.update.baseline=
le(Bf.update.baseline,yf.baseline);var dh=Ca({type:"text",role:"axis-title",style:"guide-title",from:Hf,encode:Bf},Vf);Pf.call(zf,dh)}const jh={enter:{},update:{}};Bb(jh,{orient:ne("orient"),offset:ne("offset")||0,position:pa(Ja.position,0),titlePadding:ne("titlePadding"),minExtent:ne("minExtent"),maxExtent:ne("maxExtent"),range:{signal:`abs(span(range("${Ja.scale}")))`},translate:ne("translate"),format:Ja.format,formatType:Ja.formatType});return Za(va({role:"axis",from:Hf,encode:jc(jh,He,Od),marks:zf,
aria:ne("aria"),description:ne("description"),zindex:ne("zindex"),name:lf,interactive:vf,style:Ke}),ea)});k.array(O.marks).forEach(Ja=>Za(Ja,ea));k.array(O.legends).forEach(Ja=>Fb(Ja,ea));O.title&&ed(O.title,ea);ea.parseLambdas();return ea}function la(O,ea){var I=ea.config;const ka=Pa(ea.root=ea.add(new mb("operator",void 0,void 0,void 0))),ta=fb(O,I);ta.forEach(vb=>lb(vb,ea));ea.description=O.description||I.description;ea.eventConfig=I.events;ea.legends=ea.objectProperty(I.legend&&I.legend.layout);
ea.locale=I.locale;I=ea.add(df());const Ja=ea.add(U(Qa(jc({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},O.encode),"group","frame",O.style,ea,{pulse:Pa(I)}))),jb=ea.add(Lc({layout:ea.objectProperty(O.layout),legends:ea.legends,autosize:ea.signalRef("autosize"),mark:ka,pulse:Pa(Ja)}));ea.operators.pop();ea.pushState(Pa(Ja),Pa(jb),null);N(O,ea,ta);ea.operators.push(jb);O=ea.add(hf({mark:ka,pulse:Pa(jb)}));O=ea.add(Sa({pulse:Pa(O)}));O=ea.add(oc({pulse:Pa(O)}));
ea.addData("root",new Ha(ea,I,I,O));return ea}function za(O,ea){return ea&&ea.signal?{name:O,update:ea.signal}:{name:O,value:ea}}function fb(O,ea){const I=jb=>pa(O[jb],ea[jb]),ka=[za("background",I("background")),za("autosize",vc(I("autosize"))),za("padding",Ac(I("padding"))),za("width",I("width")||0),za("height",I("height")||0)],ta=ka.reduce((jb,vb)=>(jb[vb.name]=vb,jb),{}),Ja={};k.array(O.signals).forEach(jb=>{k.hasOwnProperty(ta,jb.name)?jb=k.extend(ta[jb.name],jb):ka.push(jb);Ja[jb.name]=jb});
k.array(ea.signals).forEach(jb=>{k.hasOwnProperty(Ja,jb.name)||k.hasOwnProperty(ta,jb.name)||ka.push(jb)});return ka}function Hb(O,ea){this.config=O||{};this.options=ea||{};this.bindings=[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=[]}function Xb(O){this.config=O.config;
this.options=O.options;this.legends=O.legends;this.field=Object.create(O.field);this.signals=Object.create(O.signals);this.lambdas=Object.create(O.lambdas);this.scales=Object.create(O.scales);this.events=Object.create(O.events);this.data=Object.create(O.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++O._nextsub[0];this._nextsub=O._nextsub;this._parent=O._parent.slice();this._encode=O._encode.slice();this._lookup=O._lookup.slice();this._markpath=O._markpath}function Bc(O){return(k.isArray(O)?
lc:Gc)(O)}function lc(O){const ea=O.length;let I="[";for(let ka=0;ka<ea;++ka){const ta=O[ka];I+=(0<ka?",":"")+(k.isObject(ta)?ta.signal||Bc(ta):k.stringValue(ta))}return I+"]"}function Gc(O){let ea="{",I=0,ka,ta;for(ka in O)ta=O[ka],ea+=(1<++I?",":"")+k.stringValue(ka)+":"+(k.isObject(ta)?ta.signal||Bc(ta):k.stringValue(ta));return ea+"}"}function id(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},
area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",
font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",
tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,
symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}
const Nc=O=>k.isObject(O)&&!k.isArray(O)?k.extend({},O):{value:O},sd=O=>k.isString(O)?k.stringValue(O):O.signal?`(${O.signal})`:Pb(O),Hd=(O,ea,I,ka)=>`(${O}(${[ea,I,ka].map(Kb).join(",")})+'')`,Gd=["value","update","init","react","bind"],$d=xb("key"),Wd={code:"_.$value",ast:{type:"Identifier",value:"value"}},ae=O=>(ea,I,ka)=>new mb(O,I,ea||void 0,ka),Ce=ae("aggregate"),kf=ae("axisticks"),hf=ae("bound"),df=ae("collect"),re=ae("compare"),tf=ae("datajoin"),U=ae("encode"),ua=ae("expression"),cb=ae("facet"),
Ab=ae("field"),fc=ae("key"),Cc=ae("legendentries"),$b=ae("load"),J=ae("mark"),fa=ae("multiextent"),Ta=ae("multivalues"),bc=ae("overlap"),Pc=ae("params"),Dc=ae("prefacet"),Sc=ae("projection"),gd=ae("proxy"),ee=ae("relay"),Sa=ae("render"),eb=ae("scale"),oc=ae("sieve"),xd=ae("sortitems"),Lc=ae("viewlayout"),Uc=ae("values");let Qc=0;const td={min:"min",max:"max",count:"sum"},jd="size shape fill stroke strokeWidth strokeDash opacity".split(" "),Od={name:1,style:1,interactive:1},Cd={value:0},be={value:1},
ye=$a(k.stringValue("left"),k.stringValue("right"),k.stringValue("center")),Le=$a('"top"','"bottom"','"middle"'),Ye=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${$a('"right"','"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${ye}`,ef=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${Le}) : "top"`;
Ha.fromEntries=function(O,ea){const I=ea.length,ka=ea[I-1],ta=ea[I-2];let Ja=ea[0],jb=null,vb=1;Ja&&"load"===Ja.type&&(Ja=ea[1]);for(O.add(ea[0]);vb<I;++vb)ea[vb].params.pulse=Pa(ea[vb-1]),O.add(ea[vb]),"aggregate"===ea[vb].type&&(jb=ea[vb]);return new Ha(O,Ja,ta,ka,jb)};Ha.prototype={countsRef(O,ea,I){const ka=this.counts||(this.counts={}),ta=gb(ea);if(null!=ta){O=this.scope;var Ja=ka[ta]}Ja?I&&I.field&&wb(O,Ja.agg.params,I):(Ja={groupby:O.fieldRef(ea,"key"),pulse:Pa(this.output)},I&&I.field&&wb(O,
Ja,I),I=O.add(Ce(Ja)),Ja=O.add(df({pulse:Pa(I)})),Ja={agg:I,ref:Pa(Ja)},null!=ta&&(ka[ta]=Ja));return Ja.ref},tuplesRef(){return Pa(this.values)},extentRef(O,ea){return sa(O,this,"extent","extent",ea,!1)},domainRef(O,ea){return sa(O,this,"domain","values",ea,!1)},valuesRef(O,ea,I){return sa(O,this,"vals","values",ea,I||!0)},lookupRef(O,ea){return sa(O,this,"lookup","tupleindex",ea,!1)},indataRef(O,ea){return sa(O,this,"indata","tupleindex",ea,!0,!0)}};const od=(O,ea,I)=>{Wb(O)?(O=O.signal,ea=Vd(`${O} === '${"left"}' || ${O} === '${"top"}'`,
ea,I)):ea="left"===O||"top"===O?ea:I;return ea},Ec=(O,ea,I)=>{Wb(O)?(O=O.signal,ea=Id(`${O} === '${"top"}' || ${O} === '${"bottom"}'`,ea,I)):ea="bottom"===O||"top"===O?ea:I;return ea},kd=(O,ea,I)=>{Wb(O)?(O=O.signal,ea=Id(`${O} !== '${"top"}' && ${O} !== '${"bottom"}'`,ea,I)):ea="bottom"===O||"top"===O?I:ea;return ea},Fc=(O,ea,I)=>Wb(O)?Vd(`${O.signal} === '${"top"}'`,ea,I):"top"===O?{value:ea}:{value:I},Id=(O,ea,I)=>{ea=null!=ea?Nc(ea):ea;I=null!=I?Nc(I):I;if(null!=ea&&1!==Object.keys(ea).length||
null!=I&&1!==Object.keys(I).length)return[k.extend({test:O},ea)].concat(I||[]);ea=ea?ea.signal||k.stringValue(ea.value):null;I=I?I.signal||k.stringValue(I.value):null;return{signal:`${O} ? (${ea}) : (${I})`}},Vd=(O,ea,I)=>({signal:`${O} ? (${ce(ea)}) : (${ce(I)})`}),ce=O=>Wb(O)?O.signal:null==O?null:k.stringValue(O),le=(O,ea)=>{const I=O.signal;return I&&I.endsWith("(null)")?{signal:I.slice(0,-6)+ea.signal}:O};Hb.prototype=Xb.prototype={parse(O){return N(O,this)},fork(){return new Xb(this)},isSubscope(){return 0<
this._subid},toRuntime(){this.finish();return{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(O){this.operators.push(O);O.id=this.id();O.refs&&(O.refs.forEach(ea=>{ea.$ref=O.id}),O.refs=null);return O},proxy(O){O=O instanceof mb?Pa(O):O;return this.add(gd({value:O}))},addStream(O){this.streams.push(O);O.id=this.id();return O},
addUpdate(O){this.updates.push(O);return O},finish(){function O(ka,ta,Ja){ka&&(ka=ka.data||(ka.data={}),ta=ka[ta]||(ka[ta]=[]),ta.push(Ja))}let ea,I;this.root&&(this.root.root=!0);for(ea in this.signals)this.signals[ea].signal=ea;for(ea in this.scales)this.scales[ea].scale=ea;for(ea in this.data){I=this.data[ea];O(I.input,ea,"input");O(I.output,ea,"output");O(I.values,ea,"values");for(const ka in I.index)O(I.index[ka],ea,"index:"+ka)}return this},pushState(O,ea,I){this._encode.push(Pa(this.add(oc({pulse:O}))));
this._parent.push(ea);this._lookup.push(I?Pa(this.proxy(I)):null);this._markpath.push(-1)},popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return k.peek(this._parent)},encode(){return k.peek(this._encode)},lookup(){return k.peek(this._lookup)},markpath(){const O=this._markpath;return++O[O.length-1]},fieldRef(O,ea){if(k.isString(O))return xb(O,ea);O.signal||k.error("Unsupported field reference: "+k.stringValue(O));O=O.signal;var I=this.field[O];I||
(I={name:this.signalRef(O)},ea&&(I.as=ea),this.field[O]=I=Pa(this.add(Ab(I))));return I},compareRef(O){let ea=!1;const I=ta=>Wb(ta)?(ea=!0,this.signalRef(ta.signal)):ta&&ta.expr?(ea=!0,this.exprRef(ta.expr)):ta,ka=k.array(O.field).map(I);O=k.array(O.order).map(I);return ea?Pa(this.add(re({fields:ka,orders:O}))):{$compare:ka,$order:O}},keyRef(O,ea){let I=!1;const ka=this.signals;O=k.array(O).map(ta=>Wb(ta)?(I=!0,Pa(ka[ta.signal])):ta);return I?Pa(this.add(fc({fields:O,flat:ea}))):sb(O,ea)},sortRef(O){if(!O)return O;
const ea=Qb(O.op,O.field);O=O.order||"ascending";return O.signal?Pa(this.add(re({fields:ea,orders:this.signalRef(O.signal)}))):{$compare:ea,$order:O}},event(O,ea){const I=O+":"+ea;if(!this.events[I]){const ka=this.id();this.streams.push({id:ka,source:O,type:ea});this.events[I]=ka}return this.events[I]},hasOwnSignal(O){return k.hasOwnProperty(this.signals,O)},addSignal(O,ea){this.hasOwnSignal(O)&&k.error("Duplicate signal name: "+k.stringValue(O));ea=ea instanceof mb?ea:this.add(new mb("operator",
ea,void 0,void 0));return this.signals[O]=ea},getSignal(O){this.signals[O]||k.error("Unrecognized signal name: "+k.stringValue(O));return this.signals[O]},signalRef(O){if(this.signals[O])return Pa(this.signals[O]);k.hasOwnProperty(this.lambdas,O)||(this.lambdas[O]=this.add(new mb("operator",null,void 0,void 0)));return Pa(this.lambdas[O])},parseLambdas(){const O=Object.keys(this.lambdas);for(let I=0,ka=O.length;I<ka;++I){var ea=O[I];const ta=P.parseExpression(ea,this);ea=this.lambdas[ea];ea.params=
ta.$params;ea.update=ta.$expr}},property(O){return O&&O.signal?this.signalRef(O.signal):O},objectProperty(O){return O&&k.isObject(O)?this.signalRef(O.signal||Bc(O)):O},exprRef(O,ea){O={expr:P.parseExpression(O,this)};ea&&(O.expr.$name=ea);return Pa(this.add(ua(O)))},addBinding(O,ea){this.bindings||k.error("Nested signals do not support binding: "+k.stringValue(O));this.bindings.push(k.extend({signal:O},ea))},addScaleProj(O,ea){k.hasOwnProperty(this.scales,O)&&k.error("Duplicate scale or projection name: "+
k.stringValue(O));this.scales[O]=this.add(ea)},addScale(O,ea){this.addScaleProj(O,eb(ea))},addProjection(O,ea){this.addScaleProj(O,Sc(ea))},getScale(O){this.scales[O]||k.error("Unrecognized scale name: "+k.stringValue(O));return this.scales[O]},scaleRef(O){return Pa(this.getScale(O))},scaleType(O){return this.getScale(O).params.type},projectionRef(O){return this.scaleRef(O)},projectionType(O){return this.scaleType(O)},addData(O,ea){k.hasOwnProperty(this.data,O)&&k.error("Duplicate data set name: "+
k.stringValue(O));return this.data[O]=ea},getData(O){this.data[O]||k.error("Undefined data set name: "+k.stringValue(O));return this.data[O]},addDataPipeline(O,ea){k.hasOwnProperty(this.data,O)&&k.error("Duplicate data set name: "+k.stringValue(O));return this.addData(O,Ha.fromEntries(this,ea))}};v.AxisDomainRole="axis-domain";v.AxisGridRole="axis-grid";v.AxisLabelRole="axis-label";v.AxisRole="axis";v.AxisTickRole="axis-tick";v.AxisTitleRole="axis-title";v.DataScope=Ha;v.FrameRole="frame";v.LegendEntryRole=
"legend-entry";v.LegendLabelRole="legend-label";v.LegendRole="legend";v.LegendSymbolRole="legend-symbol";v.LegendTitleRole="legend-title";v.MarkRole="mark";v.Scope=Hb;v.ScopeRole="scope";v.config=id;v.parse=function(O,ea,I){k.isObject(O)||k.error("Input Vega specification must be an object.");ea=k.mergeConfig(id(),ea,O.config);return la(O,new Hb(ea,I)).toRuntime()};v.signal=lb;v.signalUpdates=Q;v.stream=Fa})};
shadow$provide[64]=function(dc,Db,Wc,nb){function v(Pa){var xb=Object.create(null);Pa&&Object.keys(Pa).forEach(function(sb){if("default"!==sb){var Qb=Object.getOwnPropertyDescriptor(Pa,sb);Object.defineProperty(xb,sb,Qb.get?Qb:{enumerable:!0,get:function(){return Pa[sb]}})}});xb.default=Pa;return Object.freeze(xb)}var k=Db(21),P=Db(29),ib=Db(31),Gb=Db(35),ac=Db(36),vc=Db(38),Ac=Db(39),uc=Db(40),Bb=Db(48),jc=Db(53),Yb=Db(54);Wc=Db(55);dc=Db(56);var Ua=Db(30),ub=Db(23),Kb=Db(28),Lb=Db(34),Cb=Db(33),
Pb=Db(37),ab=Db(61),pb=Db(24),Qa=Db(59),Da=Db(63),Ka=Db(60),lb=Db(57),mb=Db(62);Db=v(ib);Gb=v(Gb);ac=v(ac);vc=v(vc);Ac=v(Ac);uc=v(uc);Bb=v(Bb);jc=v(jc);Yb=v(Yb);Wc=v(Wc);dc=v(dc);k.extend(P.transforms,Db,Gb,ac,vc,Ac,Bb,uc,jc,Yb,Wc,dc);Object.defineProperty(nb,"Dataflow",{enumerable:!0,get:function(){return P.Dataflow}});Object.defineProperty(nb,"EventStream",{enumerable:!0,get:function(){return P.EventStream}});Object.defineProperty(nb,"MultiPulse",{enumerable:!0,get:function(){return P.MultiPulse}});
Object.defineProperty(nb,"Operator",{enumerable:!0,get:function(){return P.Operator}});Object.defineProperty(nb,"Parameters",{enumerable:!0,get:function(){return P.Parameters}});Object.defineProperty(nb,"Pulse",{enumerable:!0,get:function(){return P.Pulse}});Object.defineProperty(nb,"Transform",{enumerable:!0,get:function(){return P.Transform}});Object.defineProperty(nb,"changeset",{enumerable:!0,get:function(){return P.changeset}});Object.defineProperty(nb,"definition",{enumerable:!0,get:function(){return P.definition}});
Object.defineProperty(nb,"ingest",{enumerable:!0,get:function(){return P.ingest}});Object.defineProperty(nb,"isTuple",{enumerable:!0,get:function(){return P.isTuple}});Object.defineProperty(nb,"transform",{enumerable:!0,get:function(){return P.transform}});Object.defineProperty(nb,"transforms",{enumerable:!0,get:function(){return P.transforms}});Object.defineProperty(nb,"tupleid",{enumerable:!0,get:function(){return P.tupleid}});Object.defineProperty(nb,"interpolate",{enumerable:!0,get:function(){return Cb.interpolate}});
Object.defineProperty(nb,"interpolateColors",{enumerable:!0,get:function(){return Cb.interpolateColors}});Object.defineProperty(nb,"interpolateRange",{enumerable:!0,get:function(){return Cb.interpolateRange}});Object.defineProperty(nb,"quantizeInterpolator",{enumerable:!0,get:function(){return Cb.quantizeInterpolator}});Object.defineProperty(nb,"scale",{enumerable:!0,get:function(){return Cb.scale}});Object.defineProperty(nb,"scheme",{enumerable:!0,get:function(){return Cb.scheme}});Object.defineProperty(nb,
"projection",{enumerable:!0,get:function(){return Pb.projection}});Object.defineProperty(nb,"View",{enumerable:!0,get:function(){return ab.View}});Object.defineProperty(nb,"defaultLocale",{enumerable:!0,get:function(){return pb.defaultLocale}});Object.defineProperty(nb,"formatLocale",{enumerable:!0,get:function(){return pb.numberFormatDefaultLocale}});Object.defineProperty(nb,"locale",{enumerable:!0,get:function(){return pb.locale}});Object.defineProperty(nb,"resetDefaultLocale",{enumerable:!0,get:function(){return pb.resetDefaultLocale}});
Object.defineProperty(nb,"timeFormatLocale",{enumerable:!0,get:function(){return pb.timeFormatDefaultLocale}});Object.defineProperty(nb,"expressionFunction",{enumerable:!0,get:function(){return Qa.expressionFunction}});Object.defineProperty(nb,"parse",{enumerable:!0,get:function(){return Da.parse}});Object.defineProperty(nb,"runtimeContext",{enumerable:!0,get:function(){return Ka.context}});Object.defineProperty(nb,"codegenExpression",{enumerable:!0,get:function(){return lb.codegenExpression}});Object.defineProperty(nb,
"parseExpression",{enumerable:!0,get:function(){return lb.parseExpression}});Object.defineProperty(nb,"parseSelector",{enumerable:!0,get:function(){return mb.parseSelector}});nb.version="5.25.0";Object.keys(k).forEach(function(Pa){"default"===Pa||nb.hasOwnProperty(Pa)||Object.defineProperty(nb,Pa,{enumerable:!0,get:function(){return k[Pa]}})});Object.keys(Ua).forEach(function(Pa){"default"===Pa||nb.hasOwnProperty(Pa)||Object.defineProperty(nb,Pa,{enumerable:!0,get:function(){return Ua[Pa]}})});Object.keys(ub).forEach(function(Pa){"default"===
Pa||nb.hasOwnProperty(Pa)||Object.defineProperty(nb,Pa,{enumerable:!0,get:function(){return ub[Pa]}})});Object.keys(Kb).forEach(function(Pa){"default"===Pa||nb.hasOwnProperty(Pa)||Object.defineProperty(nb,Pa,{enumerable:!0,get:function(){return Kb[Pa]}})});Object.keys(Lb).forEach(function(Pa){"default"===Pa||nb.hasOwnProperty(Pa)||Object.defineProperty(nb,Pa,{enumerable:!0,get:function(){return Lb[Pa]}})})};
shadow$provide[65]=function(dc,Db,Wc,nb){var v=Db(27).Buffer;(function(k,P){"object"===typeof nb&&"undefined"!==typeof Wc?P(nb,Db(64)):"function"===typeof define&&define.amd?define(["exports","vega"],P):(k="undefined"!==typeof globalThis?globalThis:k||self,P(k.vegaLite={},k.vega))})(this,function(k,P){function ib(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c["default"]:c}function Gb(c,a){if(c.not)Gb(c.not,a);else if(c.and)for(const d of c.and)Gb(d,a);else if(c.or)for(const d of c.or)Gb(d,
a);else a(c)}function ac(c,a){return c.not?{not:ac(c.not,a)}:c.and?{and:c.and.map(d=>ac(d,a))}:c.or?{or:c.or.map(d=>ac(d,a))}:a(c)}function vc(c){throw Error(c);}function Ac(c,a){const d={};for(const f of a)P.hasOwnProperty(c,f)&&(d[f]=c[f]);return d}function uc(c,a){c=Object.assign({},c);for(const d of a)delete c[d];return c}function Bb(c){if(P.isNumber(c))return c;c=P.isString(c)?c:Kk(c);if(250>c.length)return c;let a=0;for(let d=0;d<c.length;d++){const f=c.charCodeAt(d);a=(a<<5)-a+f;a&=a}return a}
function jc(c){return!1===c||null===c}function Yb(c,a){return c.includes(a)}function Ua(c,a){let d=0;for(const f of c.entries()){const [h,x]=f;if(a(x,h,d++))return!0}return!1}function ub(c,a){let d=0;for(const f of c.entries()){const [h,x]=f;if(!a(x,h,d++))return!1}return!0}function Kb(c){for(var a=arguments.length,d=Array(1<a?a-1:0),f=1;f<a;f++)d[f-1]=arguments[f];for(const h of d){let x;a=c;d=null!=(x=h)?x:{};for(const D of ie(d))P.writeConfig(a,D,d[D],!0)}return c}function Lb(c,a){const d=[],f=
{};for(const h of c)c=a(h),c in f||(f[c]=1,d.push(h));return d}function Cb(c,a){if(c.size!==a.size)return!1;for(const d of c)if(!a.has(d))return!1;return!0}function Pb(c,a){for(const d of c)if(a.has(d))return!0;return!1}function ab(c){const a=new Set;for(const d of c){const f=P.splitAccessPath(d).map((h,x)=>0===x?h:`[${h}]`);c=f.map((h,x)=>f.slice(0,x+1).join(""));for(const h of c)a.add(h)}return a}function pb(c,a){return void 0===c||void 0===a?!0:Pb(ab(c),ab(a))}function Qa(c){return 0===ie(c).length}
function Da(c){return!0===c||!1===c}function Ka(c){const a=c.replace(/\W/g,"_");return(c.match(/^\d+/)?"_":"")+a}function lb(c,a){return c.not?`!(${lb(c.not,a)})`:c.and?`(${c.and.map(d=>lb(d,a)).join(") \x26\x26 (")})`:c.or?`(${c.or.map(d=>lb(d,a)).join(") || (")})`:a(c)}function mb(c,a){if(0===a.length)return!0;const d=a.shift();d in c&&mb(c[d],a)&&delete c[d];return Qa(c)}function Pa(c){return c.charAt(0).toUpperCase()+c.substr(1)}function xb(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
"datum";const d=P.splitAccessPath(c),f=[];for(let h=1;h<=d.length;h++){const x=`[${d.slice(0,h).map(P.stringValue).join("][")}]`;f.push(`${a}${x}`)}return f.join(" \x26\x26 ")}function sb(c){return`${1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum"}[${P.stringValue(P.splitAccessPath(c).join("."))}]`}function Qb(c){return c.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Wb(c){return`${P.splitAccessPath(c).map(Qb).join("\\.")}`}function ob(c,a,d){return c.replace(new RegExp(a.replace(/[-/\\^$*+?.()|[\]{}]/g,
"\\$\x26"),"g"),d)}function pa(c){return`${P.splitAccessPath(c).join(".")}`}function Z(c){return c?P.splitAccessPath(c).length:0}function Fa(){for(var c=arguments.length,a=Array(c),d=0;d<c;d++)a[d]=arguments[d];for(const f of a)if(void 0!==f)return f}function Ga(c){const a=++kj;return c?String(c)+a:a}function db(c){return ba(c)?c:`__${c}`}function ba(c){return c.startsWith("__")}function na(c){if(void 0!==c)return(c%360+360)%360}function q(c){return P.isNumber(c)?!0:!isNaN(c)&&!isNaN(parseFloat(c))}
function M(c){switch(c){case "latitude":return"y";case "latitude2":return"y2";case "longitude":return"x";case "longitude2":return"x2"}}function Q(c){return"color"===c||"fill"===c||"stroke"===c}function g(c){return u(c)!==c}function u(c){switch(c){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";case "longitude2":return"longitude";case "theta2":return"theta";case "radius2":return"radius"}return c}function m(c){if(c in Lk)switch(c){case "theta":return"startAngle";case "theta2":return"endAngle";
case "radius":return"outerRadius";case "radius2":return"innerRadius"}return c}function C(c){switch(c){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function B(c){switch(c){case "x":case "x2":return"width";case "y":case "y2":return"height"}}function A(c){switch(c){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";
case "radius":return"radiusOffset";case "theta2":return"theta2Offset";case "radius2":return"radius2Offset"}}function E(c){switch(c){case "x":return"xOffset";case "y":return"yOffset"}}function H(c){switch(c){case "xOffset":return"x";case "yOffset":return"y"}}function V(c){return c in nk}function Aa(c){return"width"===c?"x":"y"}function Y(c){switch(c){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return kl;
case "x":case "y":case "xOffset":case "yOffset":case "latitude":case "longitude":return Pl;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",
point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function t(c){switch(c){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";
case "color":case "fill":case "stroke":return"flexible"}}function L(c){return!!c&&!!c.argmin}function va(c){return!!c&&!!c.argmax}function La(c){return P.isString(c)&&!!Ql[c]}function Wa(c){return P.isString(c)&&Vk.has(c)}function $a(c){P.isBoolean(c)&&(c=ag(c,void 0));return"bin"+ie(c).map(a=>Ya(c[a])?Ka(`_${a}_${Ki(c[a])}`):Ka(`_${a}_${c[a]}`)).join("")}function X(c){return!0===c||P.isObject(c)&&!c.binned}function Ca(c){return"binned"===c||P.isObject(c)&&!0===c.binned}function Ya(c){return null==
c?void 0:c.param}function Ib(c){switch(c){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;case "strokeDash":return 4;default:return 10}}function yc(c){return!(null==c||!c.expr)}function sc(c){const a=ie(c||{}),d={};for(const f of a)d[f]=Vb(c[f]);return d}function xc(c){var a=Object.assign({},c),d=c.anchor;const f=c.frame,h=c.offset,x=c.orient,D=c.angle,da=c.limit;var ra=c.color,
Ia=c.subtitleColor;const hb=c.subtitleFont,Ob=c.subtitleFontSize,tc=c.subtitleFontStyle,md=c.subtitleFontWeight,Jc=c.subtitleLineHeight,bd=c.subtitlePadding;a=(delete a.anchor,delete a.frame,delete a.offset,delete a.orient,delete a.angle,delete a.limit,delete a.color,delete a.subtitleColor,delete a.subtitleFont,delete a.subtitleFontSize,delete a.subtitleFontStyle,delete a.subtitleFontWeight,delete a.subtitleLineHeight,delete a.subtitlePadding,a);ra=Object.assign({},a,ra?{fill:ra}:{});d=Object.assign({},
d?{anchor:d}:{},f?{frame:f}:{},h?{offset:h}:{},x?{orient:x}:{},void 0!==D?{angle:D}:{},void 0!==da?{limit:da}:{});Ia=Object.assign({},Ia?{subtitleColor:Ia}:{},hb?{subtitleFont:hb}:{},Ob?{subtitleFontSize:Ob}:{},tc?{subtitleFontStyle:tc}:{},md?{subtitleFontWeight:md}:{},Jc?{subtitleLineHeight:Jc}:{},bd?{subtitlePadding:bd}:{});c=Ac(c,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:ra,subtitleMarkConfig:c,nonMarkTitleProperties:d,subtitle:Ia}}function cd(c){return P.isString(c)||P.isArray(c)&&
P.isString(c[0])}function Zb(c){return!(null==c||!c.signal)}function Rc(c){return!!c.step}function Pd(c){return P.isArray(c)?!1:"field"in c&&"data"in c}function Ma(c){const a=P.isArray(c.condition)?c.condition.map(qb):qb(c.condition);return Object.assign({},Vb(c),{condition:a})}function Vb(c){if(yc(c)){var a=Object.assign({},c);c=c.expr;a=(delete a.expr,a);return Object.assign({},{signal:c},a)}return c}function qb(c){if(yc(c)){var a=Object.assign({},c);c=c.expr;a=(delete a.expr,a);return Object.assign({},
{signal:c},a)}return c}function Tb(c){if(yc(c)){var a=Object.assign({},c);c=c.expr;a=(delete a.expr,a);return Object.assign({},{signal:c},a)}return Zb(c)?c:void 0!==c?{value:c}:void 0}function gc(c){return Zb(c)?c.signal:P.stringValue(c.value)}function cc(c){return Zb(c)?c.signal:null==c?null:P.stringValue(c)}function Ic(c){let a;return[].concat(c.type,null!=(a=c.style)?a:[])}function zc(c,a,d){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const {vgChannel:h,ignoreVgConfig:x}=f;
if(h&&void 0!==a[h])return a[h];if(void 0!==a[c])return a[c];if(!x||h&&h!==c)return Yc(c,a,d,f)}function Yc(c,a,d){let {vgChannel:f}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return Fa(f?Md(c,a,d.style):void 0,Md(c,a,d.style),f?d[a.type][f]:void 0,d[a.type][c],f?d.mark[f]:d.mark[c])}function Md(c,a,d){return ud(c,Ic(a),d)}function ud(c,a,d){a=P.array(a);let f;for(const h of a)(a=d[h])&&void 0!==a[c]&&(f=a[c]);return f}function Ha(c,a){return P.array(c).reduce((d,f)=>{d.field.push(yd(f,
a));let h;d.order.push(null!=(h=f.sort)?h:"ascending");return d},{field:[],order:[]})}function gb(c,a){const d=[...c];a.forEach(f=>{for(const h of d)if(ci(h,f))return;d.push(f)});return d}function wb(c,a){return ci(c,a)||!a?c:c?[...P.array(c),...P.array(a)].join(", "):a}function sa(c,a){const d=c.value;a=a.value;if(null==d||null===a)return{explicit:c.explicit,value:null};if((cd(d)||Zb(d))&&(cd(a)||Zb(a)))return{explicit:c.explicit,value:wb(d,a)};if(cd(d)||Zb(d))return{explicit:c.explicit,value:d};
if(cd(a)||Zb(a))return{explicit:c.explicit,value:a};if(!(cd(d)||Zb(d)||cd(a)||Zb(a)))return{explicit:c.explicit,value:gb(d,a)};throw Error("It should never reach here");}function G(c,a,d){a:if("object"===typeof a&&null!==a){var f=a[Symbol.toPrimitive];if(void 0!==f){a=f.call(a,"string");if("object"!==typeof a)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}a="symbol"===typeof a?a:String(a);a in c?Object.defineProperty(c,a,{value:d,enumerable:!0,configurable:!0,
writable:!0}):c[a]=d;return c}function ya(c,a,d){a=Na(c,a,"set");if(a.set)a.set.call(c,d);else{if(!a.writable)throw new TypeError("attempted to set read only private field");a.value=d}return d}function Na(c,a,d){if(!a.has(c))throw new TypeError("attempted to "+d+" private field on non-instance");return a.get(c)}function Za(c){return`Invalid specification ${Ag(c)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}
function kb(c){return`${"width"==c?"Width":"Height"} "container" only works for single views and layered views.`}function Fb(c){return`${"width"==c?"Width":"Height"} "container" only works well with autosize "fit" or "fit-${"width"==c?"x":"y"}".`}function nc(c){return c?`Dropping "fit-${c}" because spec has discrete ${B(c)}.`:'Dropping "fit" because spec has discrete size.'}function ec(c){return`Unknown field for ${c}. Cannot calculate view size.`}function ic(c){return`Cannot project a selection on encoding channel "${c}", which has no field.`}
function Tc(c){return`Selection not supported for ${c} yet.`}function dd(c){return`The "columns" property cannot be used when "${c}" has nested row/column.`}function ed(c,a,d){return`An ancestor parsed field "${c}" as ${d} but a child wants to parse the field as ${a}.`}function Qd(c){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${c} are dropped.`}function Td(c,a){const {fill:d,stroke:f}=a;return`Dropping color ${c} as the plot also has ${d&&f?"fill and stroke":
d?"fill":"stroke"}.`}function Fd(c,a){return`Dropping ${Ag(c)} from channel "${a}" since it does not contain any data field, datum, value, or signal.`}function Zd(c,a,d){return`${c} dropped as it is incompatible with "${a}"${d?` when ${d}`:""}.`}function de(c,a){return`Using discrete channel "${c}" to encode "${a}" field can be misleading as it does not encode ${"ordinal"===a?"order":"magnitude"}.`}function Ud(c,a,d){return`${d}-scale's "${a}" is dropped as it does not work with ${c} scale.`}function Ve(c){return`The step for "${c}" is dropped because the ${"width"===
c?"x":"y"} is continuous.`}function Xd(c,a){return`Invalid ${c}: ${Ag(a)}.`}function N(c){return`1D error band does not support ${c}.`}function la(c){return`Channel ${c} is required for "binned" bin.`}function za(){Zi.warn(...arguments)}function fb(){Zi.debug(...arguments)}function Hb(c){if(c&&P.isObject(c))for(const a of $i)if(a in c)return!0;return!1}function Xb(c){q(c)&&(c=+c);if(P.isNumber(c))return c-1;var a=c.toLowerCase();const d=xi.indexOf(a);if(-1!==d)return d;a=a.substr(0,3);a=Nk.indexOf(a);
if(-1!==a)return a;throw Error(Xd("month",c));}function Bc(c){q(c)&&(c=+c);if(P.isNumber(c))return c%7;var a=c.toLowerCase();const d=vl.indexOf(a);if(-1!==d)return d;a=a.substr(0,3);a=Vl.indexOf(a);if(-1!==a)return a;throw Error(Xd("day",c));}function lc(c,a){const d=[];a&&void 0!==c.day&&1<ie(c).length&&(za(`Dropping day from datetime ${Ag(c)} as day cannot be combined with other units.`),c=rf(c),delete c.day);void 0!==c.year?d.push(c.year):d.push(2012);if(void 0!==c.month){var f=a?Xb(c.month):c.month;
d.push(f)}else if(void 0!==c.quarter){if(a)if(f=c.quarter,q(f)&&(f=+f),P.isNumber(f))4<f&&za(Xd("quarter",f)),--f;else throw Error(Xd("quarter",f));else f=c.quarter;d.push(P.isNumber(f)?3*f:`${f}*3`)}else d.push(0);void 0!==c.date?d.push(c.date):void 0!==c.day?(a=a?Bc(c.day):c.day,d.push(P.isNumber(a)?a+1:`${a}+1`)):d.push(1);for(const h of["hours","minutes","seconds","milliseconds"])a=c[h],d.push("undefined"===typeof a?0:a);return d}function Gc(c){const a=lc(c,!0).join(", ");return c.utc?`utc(${a})`:
`datetime(${a})`}function id(c){const a=lc(c,!0);return c.utc?+new Date(Date.UTC(...a)):+new Date(...a)}function Nc(c){return P.isObject(c)?c.binned:c&&c.startsWith("binned")}function sd(c){return $i.filter(a=>Gd(c,a))}function Hd(c){c=sd(c);return c[c.length-1]}function Gd(c,a){const d=c.indexOf(a);return 0>d||0<d&&"seconds"===a&&"i"===c.charAt(d-1)||c.length>d+3&&"day"===a&&"o"===c.charAt(d+3)||0<d&&"year"===a&&"f"===c.charAt(d-1)?!1:!0}function $d(c,a){var {end:d}=2<arguments.length&&void 0!==
arguments[2]?arguments[2]:{end:!1};const f=xb(a),h=c.startsWith("utc")?"utc":"";const x={};for(const da of $i)if(Gd(c,da)){var D="quarter"===da?`(${h}quarter(${f})-1)`:`${h}${da}(${f})`;x[da]=D;D=da}d&&(x[D]+="+1");d=lc(x,!1).join(", ");return x.utc?`utc(${d})`:`datetime(${d})`}function Wd(c){if(c)return c=sd(c),`timeUnitSpecifier(${Ag(c)}, ${Ag(aj)})`}function ae(c){if(c){var a;P.isString(c)?a=c&&c.startsWith("binned")?{unit:c.substring(6),binned:!0}:{unit:c}:P.isObject(c)&&(a=Object.assign({},c,
c.unit?{unit:c.unit}:{}));a.unit.startsWith("utc")&&(a.utc=!0,a.unit=a.unit.substring(3));return a}}function Ce(c){var a=ae(c);c=Object.assign({},a);a=a.utc;const d=(delete c.utc,c);return d.unit?(a?"utc":"")+ie(d).map(f=>Ka(`${"unit"===f?"":`_${f}_`}${d[f]}`)).join(""):(a?"utc":"")+"timeunit"+ie(d).map(f=>Ka(`_${f}_${d[f]}`)).join("")}function kf(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h=>h;var d=ae(c);const f=Hd(d.unit);if(f&&"day"!==f){const h={year:2001,month:1,date:1,
hours:0,minutes:0,seconds:0,milliseconds:0},{step:x,part:D}=hf(f,d.step);d=Object.assign({},h,{[D]:+h[D]+x});return`${a(Gc(d))} - ${a(Gc(h))}`}}function hf(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(Ih[c])return{part:c,step:a};switch(c){case "day":case "dayofyear":return{part:"date",step:a};case "quarter":return{part:"month",step:3*a};case "week":return{part:"date",step:7*a}}}function df(c){return!(null==c||!c.field)&&void 0!==c.equal}function re(c){return!(null==c||!c.field)&&
void 0!==c.lt}function tf(c){return!(null==c||!c.field)&&void 0!==c.lte}function U(c){return!(null==c||!c.field)&&void 0!==c.gt}function ua(c){return!(null==c||!c.field)&&void 0!==c.gte}function cb(c){if(null==c?0:c.field)if(P.isArray(c.range)&&2===c.range.length||Zb(c.range))return!0;return!1}function Ab(c){return!(null==c||!c.field)&&(P.isArray(c.oneOf)||P.isArray(c.in))}function fc(c){return Ab(c)||df(c)||cb(c)||re(c)||U(c)||tf(c)||ua(c)}function Cc(c,a){return mf(c,{timeUnit:a,wrapTime:!0})}function $b(c,
a){return c.map(d=>Cc(d,a))}function J(c){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,{field:d}=c,f=ae(c.timeUnit);const {unit:h,binned:x}=f||{};f=yd(c,{expr:"datum"});d=h?`time(${x?f:$d(h,d)})`:f;if(df(c))return`${d}===${Cc(c.equal,h)}`;if(re(c))return`${d}<${Cc(c.lt,h)}`;if(U(c))return`${d}>${Cc(c.gt,h)}`;if(tf(c))return`${d}<=${Cc(c.lte,h)}`;if(ua(c))return`${d}>=${Cc(c.gte,h)}`;if(Ab(c))return`indexof([${$b(c.oneOf,h).join(",")}], ${d}) !== -1`;if(null!=c&&c.field&&void 0!==
c.valid)return fa(d,c.valid);if(cb(c)){var {range:D}=c;f=Zb(D)?{signal:`${D.signal}[0]`}:D[0];D=Zb(D)?{signal:`${D.signal}[1]`}:D[1];if(null!==f&&null!==D&&a)return"inrange("+d+", ["+Cc(f,h)+", "+Cc(D,h)+"])";a=[];null!==f&&a.push(`${d} >= ${Cc(f,h)}`);null!==D&&a.push(`${d} <= ${Cc(D,h)}`);return 0<a.length?a.join(" \x26\x26 "):"true"}throw Error(`Invalid field predicate: ${Ag(c)}`);}function fa(c){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)?`isValid(${c}) && isFinite(+${c})`:
`!isValid(${c}) || !isFinite(+${c})`}function Ta(c){return fc(c)&&c.timeUnit?Object.assign({},c,{timeUnit:ae(c.timeUnit)}):c}function bc(c){return"quantitative"===c||"temporal"===c}function Pc(c){return"ordinal"===c||"nominal"===c}function Dc(c){if(c)switch(c=c.toLowerCase(),c){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";case "geojson":return"geojson"}}function Sc(c){return tk.has(c)}
function gd(c){return Aj.has(c)}function ee(c,a){switch(a){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!["point","band","identity"].includes(c);case "bins":return!["point","band","identity","ordinal"].includes(c);case "round":return Sh.has(c)||"band"===c||"point"===c;case "padding":case "rangeMin":case "rangeMax":return Sh.has(c)||["point","band"].includes(c);case "paddingOuter":case "align":return["point","band"].includes(c);case "paddingInner":return"band"===
c;case "domainMax":case "domainMid":case "domainMin":case "domainRaw":case "clamp":return Sh.has(c);case "nice":return Sh.has(c)||"quantize"===c||"threshold"===c;case "exponent":return"pow"===c;case "base":return"log"===c;case "constant":return"symlog"===c;case "zero":return gd(c)&&!Yb(["log","time","utc","threshold","quantile"],c)}}function Sa(c,a){switch(a){case "interpolate":case "scheme":case "domainMid":if(!Q(c))return`Cannot use the scale property "${a}" with non-color channel.`}}function eb(c,
a){let d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;if(!Ei[c])return!1;switch(c){case "x":case "y":case "xOffset":case "yOffset":case "theta":case "radius":return Sh.has(a)||"band"===a?!0:"point"===a?!d:!1;case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return Sh.has(a)||di.has(a)||Yb(["band","point","ordinal"],a);case "color":case "fill":case "stroke":return"band"!==a;case "strokeDash":case "shape":return"ordinal"===a||di.has(a)}}
function oc(c){return["line","area","trail"].includes(c)}function xd(c){return["rect","bar","image","arc"].includes(c)}function Lc(c){return c.type}function Uc(c){return c&&void 0!=c.band}function Qc(c){const {channel:a,channelDef:d,markDef:f,scale:h,config:x}=c;c=Cd(c);if(vb(d)&&!Wa(d.aggregate)&&h&&Sh.has(h.get("type"))){{let {fieldDef:da,channel:ra,markDef:Ia,ref:hb,config:Ob}={fieldDef:d,channel:a,markDef:f,ref:c,config:x};if(oc(Ia.type))c=hb;else if(null===zc("invalid",Ia,Ob)){var D=ra;c=td(da,
!0);D="y"===u(D)?{field:{group:"height"}}:{value:0};c=[Object.assign({},{test:c},D),hb]}else c=hb}return c}return c}function td(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;return fa(P.isString(c)?c:yd(c,{expr:"datum"}),!a)}function jd(c,a,d,f){const h={};a&&(h.scale=a);qc(c)?({datum:c}=c,Hb(c)?h.signal=Gc(c):Zb(c)?h.signal=c.signal:yc(c)?h.signal=c.expr:h.value=c):h.field=yd(c,d);if(f){const {offset:x,band:D}=f;x&&(h.offset=x);D&&(h.band=D)}return h}function Od(c){let {scaleName:a,
fieldOrDatumDef:d,fieldOrDatumDef2:f,offset:h,startSuffix:x,bandPosition:D=.5}=c;var da=0<D&&1>D?"datum":void 0;c=yd(d,{expr:da,suffix:x});const ra=void 0!==f?yd(f,{expr:da}):yd(d,{suffix:"end",expr:da});da={};0===D||1===D?(da.scale=a,da.field=0===D?c:ra):(c=Zb(D)?`${D.signal} * ${c} + (1-${D.signal}) * ${ra}`:`${D} * ${c} + ${1-D} * ${ra}`,da.signal=`scale("${a}", ${c})`);h&&(da.offset=h);return da}function Cd(c){let {channel:a,channelDef:d,channel2Def:f,markDef:h,config:x,scaleName:D,scale:da,stack:ra,
offset:Ia,defaultRef:hb,bandPosition:Ob}=c;if(d){if(Hc(d)){c=null==da?void 0:da.get("type");if($c(d)){null!=Ob||(Ob=ea({fieldDef:d,fieldDef2:f,markDef:h,config:x}));const {bin:Jc,timeUnit:bd,type:pd}=d;if(X(Jc)||Ob&&bd&&"temporal"===pd)return(null==ra?0:ra.impute)?jd(d,D,{binSuffix:"mid"},{offset:Ia}):Ob&&!Sc(c)?Od({scaleName:D,fieldOrDatumDef:d,bandPosition:Ob,offset:Ia}):jd(d,D,Hf(d,a)?{binSuffix:"range"}:{},{offset:Ia});if(Ca(Jc)){if(vb(f))return Od({scaleName:D,fieldOrDatumDef:d,fieldOrDatumDef2:f,
bandPosition:Ob,offset:Ia});za(la("x"===a?"x2":"y2"))}}var tc;let md;return jd(d,D,Sc(c)?{binSuffix:"range"}:{},{offset:Ia,band:"band"===c?null!=(md=null!=(tc=Ob)?tc:d.bandPosition)?md:.5:void 0})}if(zd(d))return tc=Ia?{offset:Ia}:{},Object.assign({},be(a,d.value),tc)}P.isFunction(hb)&&(hb=hb());return hb?Object.assign({},hb,Ia?{offset:Ia}:{}):hb}function be(c,a){return Yb(["x","x2"],c)&&"width"===a?{field:{group:"width"}}:Yb(["y","y2"],c)&&"height"===a?{field:{group:"height"}}:Tb(a)}function ye(c){return c&&
"number"!==c&&"time"!==c}function Le(c){let {fieldOrDatumDef:a,format:d,formatType:f,expr:h,normalizeStack:x,config:D}=c;if(ye(f))return ef({fieldOrDatumDef:a,format:d,formatType:f,expr:h,config:D});c=Ye(a,h,x);var da=pc(a);if(void 0===d&&void 0===f&&D.customFormatTypes){if("quantitative"===da){if(x&&D.normalizedNumberFormatType)return ef({fieldOrDatumDef:a,format:D.normalizedNumberFormat,formatType:D.normalizedNumberFormatType,expr:h,config:D});if(D.numberFormatType)return ef({fieldOrDatumDef:a,
format:D.numberFormat,formatType:D.numberFormatType,expr:h,config:D})}if("temporal"===da&&D.timeFormatType&&vb(a)&&void 0===a.timeUnit)return ef({fieldOrDatumDef:a,format:D.timeFormat,formatType:D.timeFormatType,expr:h,config:D})}if(ff(a)){var ra,Ia;{c={field:c,timeUnit:vb(a)?null==(ra=ae(a.timeUnit))?void 0:ra.unit:void 0,format:d,formatType:D.timeFormatType,rawTimeFormat:D.timeFormat,isUTCScale:Dd(a)&&(null==(Ia=a.scale)?void 0:Ia.type)===Bg.UTC};let {field:hb,timeUnit:Ob,format:tc,formatType:md,
rawTimeFormat:Jc,isUTCScale:bd}=c;!Ob||tc?!Ob&&md?ra=`${md}(${hb}, '${tc}')`:(tc=P.isString(tc)?tc:Jc,ra=`${bd?"utc":"time"}Format(${hb}, '${tc}')`):(ra=Ob,Ia=hb,c=bd,ra?(da=Wd(ra),ra=`${c||ra.startsWith("utc")?"utc":"time"}Format(${Ia}, ${da})`):ra=void 0)}return ra?{signal:ra}:void 0}d=kd({type:da,specifiedFormat:d,config:D,normalizeStack:x});return vb(a)&&X(a.bin)?(ra=yd(a,{expr:h,binSuffix:"end"}),{signal:Id(c,ra,d,f,D)}):d||"quantitative"===pc(a)?{signal:`${`format(${c}, "${d||""}")`}`}:{signal:`isValid(${c}) ? ${c} : ""+${c}`}}
function Ye(c,a,d){if(vb(c))return d?`${yd(c,{expr:a,suffix:"end"})}-${yd(c,{expr:a,suffix:"start"})}`:yd(c,{expr:a});({datum:c}=c);c=Hb(c)?Gc(c):`${Ag(c)}`;return c}function ef(c){let {fieldOrDatumDef:a,format:d,formatType:f,expr:h,normalizeStack:x,config:D,field:da}=c;null!=da||(da=Ye(a,h,x));return"datum.value"!==da&&vb(a)&&X(a.bin)?(c=yd(a,{expr:h,binSuffix:"end"}),{signal:Id(da,c,d,f,D)}):{signal:`${f}(${da}${d?`, ${Ag(d)}`:""})`}}function od(c,a,d,f,h,x){if(!P.isString(f)||!ye(f))if(void 0!==
d||void 0!==f||!h.customFormatTypes||"quantitative"!==pc(c)||!(h.normalizedNumberFormatType&&Kd(c)&&"normalize"===c.stack||h.numberFormatType)){if(Kd(c)&&"normalize"===c.stack&&h.normalizedNumberFormat)return kd({type:"quantitative",config:h,normalizeStack:!0});if(ff(c)){let D;c=vb(c)?null==(D=ae(c.timeUnit))?void 0:D.unit:void 0;if(void 0===c&&h.customFormatTypes&&h.timeFormatType)return;{let {specifiedFormat:da,timeUnit:ra,config:Ia,omitTimeFormatConfig:hb}={specifiedFormat:d,timeUnit:c,config:h,
omitTimeFormatConfig:x};d=da?da:ra?{signal:Wd(ra)}:hb?void 0:Ia.timeFormat}return d}return kd({type:a,specifiedFormat:d,config:h})}}function Ec(c,a,d){if(c&&(Zb(c)||"number"===c||"time"===c))return c;if(ff(a)&&"time"!==d&&"utc"!==d){let f;return vb(a)&&(null==(f=ae(null==a?void 0:a.timeUnit))?0:f.utc)?"utc":"time"}}function kd(c){let {type:a,specifiedFormat:d,config:f,normalizeStack:h}=c;if(P.isString(d))return d;if("quantitative"===a)return h?f.normalizedNumberFormat:f.numberFormat}function Fc(c,
a,d,f){if(ye(d))return`${d}(${c}${a?`, ${Ag(a)}`:""})`;let h;a=null!=(h=P.isString(a)?a:void 0)?h:f.numberFormat;return`format(${c}, "${a||""}")`}function Id(c,a,d,f,h){if(void 0===d&&void 0===f&&h.customFormatTypes&&h.numberFormatType)return Id(c,a,h.numberFormat,h.numberFormatType,h);const x=Fc(c,d,f,h);a=Fc(a,d,f,h);return`${fa(c,!1)} ? "null" : ${x} + "${"  "}" + ${a}`}function Vd(c){return c&&("count"===c.op||!!c.field)}function ce(c){return c&&P.isArray(c)}function le(c){return"row"in c||"column"in
c}function O(c){const {field:a,timeUnit:d,bin:f,aggregate:h}=c;return Object.assign({},d?{timeUnit:d}:{},f?{bin:f}:{},h?{aggregate:h}:{},{field:a})}function ea(c){let {fieldDef:a,fieldDef2:d,markDef:f,config:h}=c;if(Hc(a)&&void 0!==a.bandPosition)return a.bandPosition;if(vb(a)){const {timeUnit:x,bin:D}=a;if(x&&!d)return xd(f.type)?0:Yc("timeUnitBandPosition",f,h);if(X(D))return.5}}function I(c){let {channel:a,fieldDef:d,fieldDef2:f,markDef:h,config:x,scaleType:D,useVlSizeChannel:da}=c;c=B(a);c=zc(da?
"size":c,h,x,{vgChannel:c});if(void 0!==c)return c;if(vb(d)){const {timeUnit:ra,bin:Ia}=d;if(ra&&!f)return{band:Yc("timeUnitBandSize",h,x)};if(X(Ia)&&!Sc(D))return{band:1}}if(xd(h.type)){if(D){if(Sc(D)){let hb;return(null==(hb=x[h.type])?void 0:hb.discreteBandSize)||{band:1}}let Ia;return null==(Ia=x[h.type])?void 0:Ia.continuousBandSize}let ra;return null==(ra=x[h.type])?void 0:ra.discreteBandSize}}function ka(c,a,d,f){return X(c.bin)||c.timeUnit&&$c(c)&&"temporal"===c.type?void 0!==ea({fieldDef:c,
fieldDef2:a,markDef:d,config:f}):!1}function ta(c){return c&&"condition"in c}function Ja(c){c=null==c?void 0:c.condition;return!!c&&!P.isArray(c)&&vb(c)}function jb(c){c=null==c?void 0:c.condition;return!!c&&!P.isArray(c)&&Hc(c)}function vb(c){return c&&(!!c.field||"count"===c.aggregate)}function pc(c){return null==c?void 0:c.type}function qc(c){return c&&"datum"in c}function rc(c){return $c(c)&&!Ae(c)||Bd(c)}function Kc(c){return $c(c)&&"quantitative"===c.type&&!c.bin||Bd(c)}function Bd(c){return qc(c)&&
P.isNumber(c.datum)}function Hc(c){return vb(c)||qc(c)}function $c(c){return c&&("field"in c||"count"===c.aggregate)&&"type"in c}function zd(c){return c&&"value"in c&&"value"in c}function Dd(c){return c&&("scale"in c||"sort"in c)}function Kd(c){return c&&("axis"in c||"stack"in c||"impute"in c)}function Ge(c){return c&&("format"in c||"formatType"in c)}function De(c){return uc(c,["legend","axis","header","scale"])}function yd(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=c.field;
const f=a.prefix;let h=a.suffix,x="";if("count"===c.aggregate)d=db("count");else{let D;if(!a.nofn)if("op"in c)D=c.op;else{const {bin:da,aggregate:ra,timeUnit:Ia}=c;if(X(da)){D=$a(da);let hb,Ob;h=(null!=(hb=a.binSuffix)?hb:"")+(null!=(Ob=a.suffix)?Ob:"")}else if(ra)va(ra)?(x=`["${d}"]`,d=`argmax_${ra.argmax}`):L(ra)?(x=`["${d}"]`,d=`argmin_${ra.argmin}`):D=String(ra);else if(Ia&&!Nc(Ia)){D=Ce(Ia);let hb;h=(!["range","mid"].includes(a.binSuffix)&&a.binSuffix||"")+(null!=(hb=a.suffix)?hb:"")}}D&&(d=
d?`${D}_${d}`:D)}h&&(d=`${d}_${h}`);f&&(d=`${f}_${d}`);return a.forAs?pa(d):a.expr?sb(d,a.expr)+x:Wb(d)+x}function Ae(c){switch(c.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return vb(c)&&!!c.bin;case "temporal":return!1}throw Error(`Invalid field type "${c.type}".`);}function Ld(c,a){const {field:d,bin:f,timeUnit:h,aggregate:x}=c;if("count"===x)return a.countTitle;if(X(f))return`${d} (binned)`;if(h&&!Nc(h)){let D;if(c=null==(D=ae(h))?void 0:D.unit)return`${d} (${sd(c).join("-")})`}else if(x)return va(x)?
`${d} for max ${x.argmax}`:L(x)?`${d} for min ${x.argmin}`:`${Pa(x)} of ${d}`;return d}function he(c,a,d){let {allowDisabling:f,includeDefault:h=!0}=d,x;d=null==(x=He(c))?void 0:x.title;if(!vb(c))return null!=d?d:c.title;a=h?Fg(c,a):void 0;if(f)return Fa(d,c.title,a);let D;return null!=(D=null!=d?d:c.title)?D:a}function He(c){if(Kd(c)&&c.axis)return c.axis;if(c&&"legend"in c&&c.legend)return c.legend;if(c&&"header"in c&&c.header)return c.header}function lf(c){if(Ge(c)){const {format:h,formatType:x}=
c;return{format:h,formatType:x}}let a;c=null!=(a=He(c))?a:{};const {format:d,formatType:f}=c;return{format:d,formatType:f}}function vf(c,a){switch(a){case "latitude":case "longitude":return"quantitative";case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";case "order":return"ordinal"}if("sort"in c&&P.isArray(c.sort))return"ordinal";const {aggregate:d,bin:f,timeUnit:h}=c;if(h)return"temporal";if(f||d&&!va(d)&&!L(d))return"quantitative";let x;if(Dd(c)&&(null==(x=c.scale)?
0:x.type))switch(Li[c.scale.type]){case "numeric":case "discretizing":return"quantitative";case "time":return"temporal"}return"nominal"}function Ke(c){if(vb(c))return c;if(Ja(c))return c.condition}function ne(c){if(Hc(c))return c;if(jb(c))return c.condition}function Df(c,a,d){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return P.isString(c)||P.isNumber(c)||P.isBoolean(c)?(f=P.isString(c)?"string":P.isNumber(c)?"number":"boolean",za(`Channel ${a} is a ${f}. Converted to {value: ${Ag(c)}}.`),
{value:c}):Hc(c)?If(c,a,d,f):jb(c)?Object.assign({},c,{condition:If(c.condition,a,d,f)}):c}function If(c,a,d,f){if(Ge(c)){var h=Object.assign({},c),x=c.formatType;h=(delete h.format,delete h.formatType,h);if(ye(x)&&!d.customFormatTypes)return za(Qd(a)),If(h,a,d,f)}else if((x=Kd(c)?"axis":c&&"legend"in c?"legend":c&&"header"in c?"header":null)&&c[x]){var D=c[x];h=Object.assign({},D);D=D.formatType;h=(delete h.format,delete h.formatType,h);if(ye(D)&&!d.customFormatTypes)return za(Qd(a)),If(Object.assign({},
c,{[x]:h}),a,d,f)}if(vb(c))return jf(c,a,f);a=c.type;a||({datum:a}=c,a=P.isNumber(a)?"quantitative":P.isString(a)?"nominal":Hb(a)?"temporal":void 0,c=Object.assign({},c,{type:a}));return c}function jf(c,a){var {compositeMark:d=!1}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const {aggregate:f,timeUnit:h,bin:x,field:D}=c,da=Object.assign({},c);d||!f||La(f)||va(f)||L(f)||(za(`Invalid aggregation operator "${f}".`),delete da.aggregate);h&&(da.timeUnit=ae(h));D&&(da.field=`${D}`);X(x)&&
(da.bin=ag(x,a));Ca(x)&&!V(a)&&za(`Channel ${a} should not be used with "binned" bin.`);if($c(da)){({type:d}=da);var ra=Dc(d);d!==ra&&(da.type=ra);"quantitative"!==d&&Wa(f)&&(za(`Invalid field type "${d}" for aggregate: "${f}", using "quantitative" instead.`),da.type="quantitative")}else g(a)||(d=vf(da,a),da.type=d);if($c(da)){const {compatible:hb,warning:Ob}=Yd(da,a)||{};!1===hb&&za(Ob)}if("sort"in da&&P.isString(da.sort)){({sort:d}=da);if(d in Dj)return Object.assign({},da,{sort:{encoding:d}});
ra=d.substr(1);if("-"===d.charAt(0)&&ra in Dj)return Object.assign({},da,{sort:{encoding:ra,order:"descending"}})}if(da&&"header"in da&&({header:d}=da,d)){var Ia=d;ra=Object.assign({},Ia);Ia=Ia.orient;ra=(delete ra.orient,ra);if(Ia)return Object.assign({},da,{header:Object.assign({},ra,{labelOrient:d.labelOrient||Ia,titleOrient:d.titleOrient||Ia})})}return da}function ag(c,a){return P.isBoolean(c)?{maxbins:Ib(a)}:"binned"===c?{binned:!0}:c.maxbins||c.step?c:Object.assign({},c,{maxbins:Ib(a)})}function Yd(c,
a){var d=c.type;if("geojson"===d&&"shape"!==a)return{compatible:!1,warning:`Channel ${a} should not be used with a geojson data.`};switch(a){case "row":case "column":case "facet":return Ae(c)?cj:{compatible:!1,warning:`${a} encoding should be discrete (ordinal / nominal / binned).`};case "x":case "y":case "xOffset":case "yOffset":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return cj;
case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==d?{compatible:!1,warning:`Channel ${a} should be used with a quantitative field only, not ${c.type} field.`}:cj;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==d||c.sort?cj:{compatible:!1,warning:`Channel ${a} should not be used with an unsorted discrete field.`};case "shape":case "strokeDash":if(d=!Ae(c)){let f;
d=!(Dd(c)&&di.has(null==(f=c.scale)?void 0:f.type))}return d?{compatible:!1,warning:`${a} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}:cj;case "order":return"nominal"!==c.type||"sort"in c?cj:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function ff(c){var {formatType:a}=lf(c),d;if(!(d="time"===a)){if(a=!a)a=c&&("temporal"===c.type||vb(c)&&!!c.timeUnit);d=a}return d}function mf(c,
a){let {timeUnit:d,type:f,wrapTime:h,undefinedIfExprNotRequired:x}=a;var D=(a=d&&(null==(D=ae(d))?void 0:D.unit))||"temporal"===f;let da;yc(c)?da=c.expr:Zb(c)?da=c.signal:Hb(c)?(D=!0,da=Gc(c)):(P.isString(c)||P.isNumber(c))&&D&&(da=`datetime(${Ag(c)})`,rk[a]&&(P.isNumber(c)&&1E4>c||P.isString(c)&&isNaN(Date.parse(c)))&&(da=Gc({[a]:c})));return da?h&&D?`time(${da})`:da:x?void 0:Ag(c)}function af(c,a){const {type:d}=c;return a.map(f=>{var h=vb(c)&&!Nc(c.timeUnit)?c.timeUnit:void 0;h=mf(f,{timeUnit:h,
type:d,undefinedIfExprNotRequired:!0});return void 0!==h?{signal:h}:f})}function Hf(c,a){return X(c.bin)?!!Ei[a]&&["ordinal","nominal"].includes(c.type):(console.warn("Only call this method for binned field defs."),!1)}function Jf(c){return null==c?void 0:c.condition}function zf(c){return"mark"in c}function Af(c,a){return(c=c&&c[a])?P.isArray(c)?Ua(c,d=>!!d.field):vb(c)||Ja(c):!1}function Eg(c,a){return(c=c&&c[a])?P.isArray(c)?Ua(c,d=>!!d.field):vb(c)||qc(c)||jb(c):!1}function hg(c,a){if(V(a)){const d=
c[a];if((vb(d)||qc(d))&&(Pc(d.type)||vb(d)&&d.timeUnit))return a=E(a),Eg(c,a)}return!1}function xf(c){return Ua(ni,a=>Af(c,a)?(a=c[a],P.isArray(a)?Ua(a,d=>!!d.aggregate):(a=Ke(a))&&!!a.aggregate):!1)}function Kf(c,a){const d=[],f=[],h=[],x=[],D={};Ug(c,(da,ra)=>{if(vb(da)){var Ia=Object.assign({},da),hb=da.field;const tc=da.aggregate,md=da.bin,Jc=da.timeUnit;Ia=(delete Ia.field,delete Ia.aggregate,delete Ia.bin,delete Ia.timeUnit,Ia);if(tc||Jc||md){var Ob;const bd=null==(Ob=He(da))?void 0:Ob.title;
Ob=yd(da,{forAs:!0});Ia=Object.assign({},bd?[]:{title:he(da,a,{allowDisabling:!0})},Ia,{field:Ob});if(tc){let pd;va(tc)?(pd="argmax",Ob=yd({op:"argmax",field:tc.argmax},{forAs:!0}),Ia.field=`${Ob}.${hb}`):L(tc)?(pd="argmin",Ob=yd({op:"argmin",field:tc.argmin},{forAs:!0}),Ia.field=`${Ob}.${hb}`):"boxplot"!==tc&&"errorbar"!==tc&&"errorband"!==tc&&(pd=tc);pd&&(da={op:pd,as:Ob},hb&&(da.field=hb),x.push(da))}else d.push(Ob),$c(da)&&X(md)?(f.push({bin:md,field:hb,as:Ob}),d.push(yd(da,{binSuffix:"end"})),
Hf(da,ra)&&d.push(yd(da,{binSuffix:"range"})),V(ra)&&(D[`${ra}2`]={field:`${Ob}_end`}),Ia.bin="binned",g(ra)||(Ia.type="quantitative")):Jc&&!Nc(Jc)&&(h.push({timeUnit:Jc,field:hb,as:Ob}),(hb=$c(da)&&"temporal"!==da.type&&"time")&&("text"===ra||"tooltip"===ra?Ia.formatType=hb:mk[ra]?Ia.legend=Object.assign({},{formatType:hb},Ia.legend):V(ra)&&(Ia.axis=Object.assign({},{formatType:hb},Ia.axis))));D[ra]=Ia}else d.push(hb),D[ra]=c[ra]}else D[ra]=c[ra]});return{bins:f,timeUnits:h,aggregate:x,groupby:d,
encoding:D}}function dg(c,a,d){d=Y(a)[d];return d&&("binned"!==d||(d=c["x2"===a?"x":"y"],vb(d)&&vb(c[a])&&Ca(d.bin)))?!0:!1}function ch(c,a,d,f){const h={};for(var x of ie(c))ek[x]||za(`${x}-encoding is dropped as ${x} is not a valid encoding channel.`);for(let da of yj)if(c[da]){x=c[da];if(da in hj){var D=H(da);const ra=h[D];if(vb(ra)){if(bc(ra.type)&&vb(x)&&!ra.timeUnit){za(`${D}Offset dropped because ${D} is continuous`);continue}}else da=D,za(`There is no ${D} encoding. Replacing ${D}Offset encoding as ${D}.`)}"angle"!==
da||"arc"!==a||c.theta||(za("Arc marks uses theta channel rather than angle, replacing angle with theta."),da="theta");if(dg(c,da,a)){if("size"===da&&"line"===a){let ra;if(null==(ra=Ke(c[da]))?0:ra.aggregate){za("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.");continue}}if("color"===da&&(d?"fill"in c:"stroke"in c))za(Td("encoding",{fill:"fill"in c,stroke:"stroke"in c}));else if("detail"===da||"order"===da&&!P.isArray(x)&&!zd(x)||"tooltip"===da&&P.isArray(x)){if(x){if("order"===
da&&(D=c[da])&&D.sort&&!D.field){h[da]=D;continue}h[da]=P.array(x).reduce((ra,Ia)=>{vb(Ia)?ra.push(jf(Ia,da)):za(Fd(Ia,da));return ra},[])}}else{if("tooltip"===da&&null===x)h[da]=null;else if(!(vb(x)||qc(x)||zd(x)||ta(x)||Zb(x))){za(Fd(x,da));continue}h[da]=Df(x,da,f)}}else za(Zd(da,a))}return h}function Ig(c,a){const d={};for(const f of ie(c)){const h=Df(c[f],f,a,{compositeMark:!0});d[f]=h}return d}function Mg(c){const a=[];for(const d of ie(c))if(Af(c,d)){const f=P.array(c[d]);for(const h of f)vb(h)?
a.push(h):Ja(h)&&a.push(h.condition)}return a}function Ug(c,a,d){if(c)for(const f of ie(c)){const h=c[f];if(P.isArray(h))for(const x of h)a.call(d,x,f);else a.call(d,h,f)}}function qa(c,a,d,f){return c?ie(c).reduce((h,x)=>{const D=c[x];return P.isArray(D)?D.reduce((da,ra)=>a.call(f,da,ra,x),h):a.call(f,h,D,x)},d):d}function bb(c,a){return ie(a).reduce((d,f)=>{switch(f){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "xOffset":case "yOffset":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return d;
case "order":if("line"===c||"trail"===c)return d;case "detail":case "key":f=a[f];if(P.isArray(f)||vb(f))for(var h of P.array(f))h.aggregate||d.push(yd(h,{}));return d;case "size":if("trail"===c)return d;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(h=Ke(a[f]))&&!h.aggregate&&d.push(yd(h,{})),d}},[])}function Rb(c,a,d){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;if("tooltip"in d)return{tooltip:d.tooltip};
const h=c.map(D=>{let {fieldPrefix:da,titlePrefix:ra}=D;D=f?` of ${hd(a)}`:"";return{field:da+a.field,type:a.type,title:Zb(ra)?{signal:`${ra}"${escape(D)}"`}:ra+D}}),x=Mg(d).map(De);return{tooltip:[...h,...Lb(x,Bb)]}}function hd(c){const {title:a,field:d}=c;return Fa(a,d)}function ld(c,a,d,f,h){const {scale:x,axis:D}=d;return da=>{let {partName:ra,mark:Ia,positionPrefix:hb,endPositionPrefix:Ob,extraEncoding:tc={}}=da;da=hd(d);return pe(c,ra,h,{mark:Ia,encoding:Object.assign({},{[a]:Object.assign({},
{field:`${hb}_${d.field}`,type:d.type},void 0!==da?{title:da}:{},void 0!==x?{scale:x}:{},void 0!==D?{axis:D}:{})},P.isString(Ob)?{[`${a}2`]:{field:`${Ob}_${d.field}`}}:{},f,tc)})}}function pe(c,a,d,f){const {clip:h,color:x,opacity:D}=c,da=c.type;return c[a]||void 0===c[a]&&d[a]?[Object.assign({},f,{mark:Object.assign({},d[a],h?{clip:h}:{},x?{color:x}:{},D?{opacity:D}:{},Lc(f.mark)?f.mark:{type:f.mark},{style:`${da}-${String(a)}`},P.isBoolean(c[a])?{}:c[a])})]:[]}function Pe(c,a,d){({encoding:c}=c);
a="vertical"===a?"y":"x";const f=c[`${a}2`],h=c[`${a}Error`],x=c[`${a}Error2`];return{continuousAxisChannelDef:qf(c[a],d),continuousAxisChannelDef2:qf(f,d),continuousAxisChannelDefError:qf(h,d),continuousAxisChannelDefError2:qf(x,d),continuousAxis:a}}function qf(c,a){if(null==c?0:c.aggregate){var d=Object.assign({},c);c=c.aggregate;d=(delete d.aggregate,d);c!==a&&za(`Continuous axis should not have customized aggregation function ${c}; ${a} already agregates the axis.`);return d}return c}function Gf(c,
a){const {mark:d,encoding:f}=c,{x:h,y:x}=f;if(Lc(d)&&d.orient)return d.orient;if(rc(h)){if(rc(x)){c=vb(h)&&h.aggregate;const D=vb(x)&&x.aggregate;if(!c&&D===a)return"vertical";if(D||c!==a){if(c===a&&D===a)throw Error("Both x and y cannot have aggregate");return ff(x)&&!ff(h)?"horizontal":"vertical"}}return"horizontal"}if(rc(x))return"vertical";throw Error(`Need a valid continuous axis for ${a}s`);}function Ne(c){return P.isNumber(c)?"tukey":c}function bg(c,a){var {config:d}=a,f=c=Object.assign({},
c,{encoding:Ig(c.encoding,d)});a=Object.assign({},f);var h=f.mark;f=f.params;a=(delete a.mark,delete a.encoding,delete a.params,delete a.projection,a);h=Lc(h)?h:{type:h};f&&za(Tc("boxplot"));var x;f=null!=(x=h.extent)?x:d.boxplot.extent;var D=zc("size",h,d),da=h.invalid;x=Ne(f);var ra=c;c=Gf(ra,"boxplot");const {continuousAxisChannelDef:Ia,continuousAxis:hb}=Pe(ra,c,"boxplot");var Ob=Ia.field,tc=Ne(f),md=[...Pf(Ob),{op:"median",field:Ob,as:`mid_box_${Ob}`},{op:"min",field:Ob,as:("min-max"===tc?"lower_whisker_":
"min_")+Ob},{op:"max",field:Ob,as:("min-max"===tc?"upper_whisker_":"max_")+Ob}];Ob="min-max"===tc||"tukey"===tc?[]:[{calculate:`datum["upper_box_${Ob}"] - datum["lower_box_${Ob}"]`,as:`iqr_${Ob}`},{calculate:`min(datum["upper_box_${Ob}"] + datum["iqr_${Ob}"] * ${f}, datum["max_${Ob}"])`,as:`upper_whisker_${Ob}`},{calculate:`max(datum["lower_box_${Ob}"] - datum["iqr_${Ob}"] * ${f}, datum["min_${Ob}"])`,as:`lower_whisker_${Ob}`}];ra=Object.assign({},ra.encoding);var Jc;tc=(delete ra[hb],ra);ra=Object.assign({},
tc);tc=tc.tooltip;ra=(delete ra.tooltip,ra);if(tc){var bd;if(P.isArray(tc)){for(var pd of tc)pd.aggregate?(Jc||(Jc=[]),Jc.push(pd)):(bd||(bd=[]),bd.push(pd));Jc&&(ra.tooltip=Jc)}else tc.aggregate?ra.tooltip=tc:bd=tc;P.isArray(bd)&&1===bd.length&&(bd=bd[0]);Jc={customTooltipWithoutAggregatedField:bd,filteredEncoding:ra}}else Jc={filteredEncoding:ra};const {customTooltipWithoutAggregatedField:je,filteredEncoding:Nd}=Jc,{bins:we,timeUnits:Re,aggregate:gf,groupby:Tf,encoding:Sf}=Kf(Nd,d);Jc=[...we,...Re,
{aggregate:[...gf,...md],groupby:Tf},...Ob];const {bins:lg,timeUnits:Nf,transform:Wg,continuousAxisChannelDef:Of,continuousAxis:Fi,groupby:xm,aggregate:Gm,encodingWithoutContinuousAxis:Fk,ticksOrient:ym,boxOrient:Hm,customTooltipWithoutAggregatedField:zm}={bins:we,timeUnits:Re,transform:Jc,groupby:Tf,aggregate:gf,continuousAxisChannelDef:Ia,continuousAxis:hb,encodingWithoutContinuousAxis:Sf,ticksOrient:"vertical"===c?"horizontal":"vertical",boxOrient:c,customTooltipWithoutAggregatedField:je};bd=Object.assign({},
Fk);Jc=Fk.color;md=Fk.size;bd=(delete bd.color,delete bd.size,bd);pd=ld(h,Fi,Of,bd,d.boxplot);c=ld(h,Fi,Of,Fk,d.boxplot);md=ld(h,Fi,Of,Object.assign({},bd,md?{size:md}:{}),d.boxplot);Ob=Rb([{fieldPrefix:"min-max"===x?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===x?"lower_whisker_":"min_",titlePrefix:"Min"}],Of,Fk);ra={type:"tick",color:"black",
opacity:1,orient:ym,invalid:da,aria:!1};tc="min-max"===x?Ob:Rb([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],Of,Fk);pd=[...pd({partName:"rule",mark:{type:"rule",invalid:da,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:tc}),...pd({partName:"rule",mark:{type:"rule",invalid:da,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:tc}),...pd({partName:"ticks",mark:ra,
positionPrefix:"lower_whisker",extraEncoding:tc}),...pd({partName:"ticks",mark:ra,positionPrefix:"upper_whisker",extraEncoding:tc})];D=[...("tukey"!==x?pd:[]),...c({partName:"box",mark:Object.assign({},{type:"bar"},D?{size:D}:{},{orient:Hm,invalid:da,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:Ob}),...md({partName:"median",mark:Object.assign({},{type:"tick",invalid:da},P.isObject(d.boxplot.median)&&d.boxplot.median.color?{color:d.boxplot.median.color}:
{},D?{size:D}:{},{orient:ym,aria:!1}),positionPrefix:"mid_box",extraEncoding:Ob})];if("min-max"===x){var Kj;return Object.assign({},a,{transform:(null!=(Kj=a.transform)?Kj:[]).concat(Wg),layer:D})}Kj=`datum["lower_box_${Of.field}"]`;x=`datum["upper_box_${Of.field}"]`;da=`(${x} - ${Kj})`;Kj=`${Kj} - ${f} * ${da}`;da=`${x} + ${f} * ${da}`;c=`datum["${Of.field}"]`;f={joinaggregate:Pf(Of.field),groupby:xm};x={transform:[{filter:`(${Kj} <= ${c}) && (${c} <= ${da})`},{aggregate:[{op:"min",field:Of.field,
as:`lower_whisker_${Of.field}`},{op:"max",field:Of.field,as:`upper_whisker_${Of.field}`},{op:"min",field:`lower_box_${Of.field}`,as:`lower_box_${Of.field}`},{op:"max",field:`upper_box_${Of.field}`,as:`upper_box_${Of.field}`},...Gm],groupby:xm}],layer:pd};bd=Object.assign({},bd);bd=(delete bd.tooltip,bd);const {scale:Am,axis:Im}=Of;pd=hd(Of);md=uc(Im,["title"]);d=pe(h,"outliers",d.boxplot,{transform:[{filter:`(${c} < ${Kj}) || (${c} > ${da})`}],mark:"point",encoding:Object.assign({},{[Fi]:Object.assign({},
{field:Of.field,type:Of.type},void 0!==pd?{title:pd}:{},void 0!==Am?{scale:Am}:{},Qa(md)?{}:{axis:md})},bd,Jc?{color:Jc}:{},zm?{tooltip:zm}:{})})[0];h=[...lg,...Nf,f];d?d={transform:h,layer:[d,x]}:(d=x,d.transform.unshift(...h));return Object.assign({},a,{layer:[d,{transform:Wg,layer:D}]})}function Pf(c){return[{op:"q1",field:c,as:`lower_box_${c}`},{op:"q3",field:c,as:`upper_box_${c}`}]}function Vf(c,a){({config:a}=a);c=Object.assign({},c,{encoding:Ig(c.encoding,a)});const {transform:d,continuousAxisChannelDef:f,
continuousAxis:h,encodingWithoutContinuousAxis:x,ticksOrient:D,markDef:da,outerSpec:ra,tooltipEncoding:Ia}=tg(c,"errorbar",a);delete x.size;c=ld(da,h,f,x,a.errorbar);a=da.thickness;var hb=da.size;hb=Object.assign({},{type:"tick",orient:D,aria:!1},void 0!==a?{thickness:a}:{},void 0!==hb?{size:hb}:{});c=[...c({partName:"ticks",mark:hb,positionPrefix:"lower",extraEncoding:Ia}),...c({partName:"ticks",mark:hb,positionPrefix:"upper",extraEncoding:Ia}),...c({partName:"rule",mark:Object.assign({},{type:"rule",
ariaRoleDescription:"errorbar"},void 0!==a?{size:a}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:Ia})];return Object.assign({},ra,{transform:d},1<c.length?{layer:c}:Object.assign({},c[0]))}function sg(c,a){var {encoding:d}=c;if(!(!Hc(d.x)&&!Hc(d.y)||Hc(d.x2)||Hc(d.y2)||Hc(d.xError)||Hc(d.xError2)||Hc(d.yError)||Hc(d.yError2)))return{orient:Gf(c,a),inputType:"raw"};var f=Hc(d.x2)||Hc(d.y2);var h=Hc(d.xError)||Hc(d.xError2)||Hc(d.yError)||Hc(d.yError2);c=d.x;const x=d.y;if(f){if(h)throw Error(`${a} cannot be both type aggregated-upper-lower and aggregated-error`);
f=d.x2;d=d.y2;if(Hc(f)&&Hc(d))throw Error(`${a} cannot have both x2 and y2`);if(Hc(f)){if(rc(c))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw Error(`Both x and x2 have to be quantitative in ${a}`);}if(Hc(d)){if(rc(x))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error(`Both y and y2 have to be quantitative in ${a}`);}}else{f=d.xError;h=d.yError;const D=d.yError2;if(Hc(d.xError2)&&!Hc(f))throw Error(`${a} cannot have xError2 without xError`);if(Hc(D)&&!Hc(h))throw Error(`${a} cannot have yError2 without yError`);
if(Hc(f)&&Hc(h))throw Error(`${a} cannot have both xError and yError with both are quantiative`);if(Hc(f)){if(rc(c))return{orient:"horizontal",inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(Hc(h)){if(rc(x))return{orient:"vertical",inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");}function tg(c,a,d){var f=Object.assign({},c),h=c.mark,x=c.encoding,
D=c.params;f=(delete f.mark,delete f.encoding,delete f.params,delete f.projection,f);h=Lc(h)?h:{type:h};D&&za(Tc(a));const {orient:da,inputType:ra}=sg(c,a),{continuousAxisChannelDef:Ia,continuousAxisChannelDef2:hb,continuousAxisChannelDefError:Ob,continuousAxisChannelDefError2:tc,continuousAxis:md}=Pe(c,da,a);c=[];D=[];var Jc=Ia.field,bd=!1;if("raw"===ra){var pd=h.center?h.center:h.extent?"iqr"===h.extent?"median":"mean":d.errorbar.center;var je=h.extent?h.extent:"mean"===pd?"stderr":"iqr";"median"===
pd!==("iqr"===je)&&za(`${pd} is not usually used with ${je} for ${a}.`);"stderr"===je||"stdev"===je?(c=[{op:je,field:Jc,as:`extent_${Jc}`},{op:pd,field:Jc,as:`center_${Jc}`}],D=[{calculate:`datum["center_${Jc}"] + datum["extent_${Jc}"]`,as:`upper_${Jc}`},{calculate:`datum["center_${Jc}"] - datum["extent_${Jc}"]`,as:`lower_${Jc}`}],Jc={fieldPrefix:"center_",titlePrefix:Pa(pd)},bd=je,bd={fieldPrefix:"upper_",titlePrefix:`${Pa(pd)} ${"+"} ${bd}`},a=je,a=`${Pa(pd)} ${"-"} ${a}`,pd=[Jc,bd,{fieldPrefix:"lower_",
titlePrefix:a}],bd=!0):("ci"===je?(a="mean",pd="ci0",je="ci1"):(a="median",pd="q1",je="q3"),c=[{op:pd,field:Jc,as:`lower_${Jc}`},{op:je,field:Jc,as:`upper_${Jc}`},{op:a,field:Jc,as:`center_${Jc}`}],pd=[{fieldPrefix:"upper_",titlePrefix:he({field:Jc,aggregate:je,type:"quantitative"},d,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:he({field:Jc,aggregate:pd,type:"quantitative"},d,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:he({field:Jc,aggregate:a,type:"quantitative"},d,{allowDisabling:!1})}])}else{if(h.center||
h.extent){a=h.center;var Nd=h.extent;za(`${Nd?"extent ":""}${Nd&&a?"and ":""}${a?"center ":""}${Nd&&a?"are ":"is "}not needed when data are aggregated.`)}"aggregated-upper-lower"===ra?(pd=[],D=[{calculate:`datum["${hb.field}"]`,as:`upper_${Jc}`},{calculate:`datum["${Jc}"]`,as:`lower_${Jc}`}]):"aggregated-error"===ra&&(pd=[{fieldPrefix:"",titlePrefix:Jc}],D=[{calculate:`datum["${Jc}"] + datum["${Ob.field}"]`,as:`upper_${Jc}`}],tc?D.push({calculate:`datum["${Jc}"] + datum["${tc.field}"]`,as:`lower_${Jc}`}):
D.push({calculate:`datum["${Jc}"] - datum["${Ob.field}"]`,as:`lower_${Jc}`}));for(je of D)pd.push({fieldPrefix:je.as.substring(0,6),titlePrefix:ob(ob(je.calculate,'datum["',""),'"]',"")})}const {errorBarSpecificAggregate:we,postAggregateCalculates:Re,tooltipSummary:gf,tooltipTitleWithFieldName:Tf}={postAggregateCalculates:D,errorBarSpecificAggregate:c,tooltipSummary:pd,tooltipTitleWithFieldName:bd};x=Object.assign({},x);c="x"===md?"x2":"y2";D="x"===md?"xError":"yError";Jc="x"===md?"xError2":"yError2";
x=(delete x[md],delete x[c],delete x[D],delete x[Jc],x);const {bins:Sf,timeUnits:lg,aggregate:Nf,groupby:Wg,encoding:Of}=Kf(x,d);d=[...Nf,...we];x="raw"!==ra?[]:Wg;c=Rb(gf,Ia,Of,Tf);let Fi;return{transform:[...(null!=(Fi=f.transform)?Fi:[]),...Sf,...lg,...(0===d.length?[]:[{aggregate:d,groupby:x}]),...Re],groupby:x,continuousAxisChannelDef:Ia,continuousAxis:md,encodingWithoutContinuousAxis:Of,ticksOrient:"vertical"===da?"horizontal":"vertical",markDef:h,outerSpec:f,tooltipEncoding:c}}function Rg(c,
a){({config:a}=a);c=Object.assign({},c,{encoding:Ig(c.encoding,a)});const {transform:d,continuousAxisChannelDef:f,continuousAxis:h,encodingWithoutContinuousAxis:x,markDef:D,outerSpec:da,tooltipEncoding:ra}=tg(c,"errorband",a);a=ld(D,h,f,x,a.errorband);c=void 0!==c.encoding.x&&void 0!==c.encoding.y;let Ia={type:c?"area":"rect"},hb={type:c?"line":"rule"};const Ob=Object.assign({},D.interpolate?{interpolate:D.interpolate}:{},D.tension&&D.interpolate?{tension:D.tension}:{});c?(Ia=Object.assign({},Ia,
Ob,{ariaRoleDescription:"errorband"}),hb=Object.assign({},hb,Ob,{aria:!1})):D.interpolate?za(N("interpolate")):D.tension&&za(N("tension"));return Object.assign({},da,{transform:d,layer:[...a({partName:"band",mark:Ia,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:ra}),...a({partName:"borders",mark:hb,positionPrefix:"lower",extraEncoding:ra}),...a({partName:"borders",mark:hb,positionPrefix:"upper",extraEncoding:ra})]})}function dh(c,a,d){a=new pj(c,a);Zj[c]={normalizer:a,parts:d}}function jh(c){return"legend"===
c||!(null==c||!c.legend)}function Ee(c){return jh(c)&&P.isObject(c)}function Je(c){return!(null==c||!c.select)}function Lf(c){const a=[];for(const h of c||[])if(!Je(h)){var d=h,f=Object.assign({},d);c=d.expr;d=d.bind;f=(delete f.expr,delete f.bind,f);d&&c?(c=Object.assign({},f,{bind:d,init:c}),a.push(c)):(c=Object.assign({},f,c?{update:c}:{},d?{bind:d}:{}),a.push(c))}return a}function yf(c){let {step:a,offsetIsDiscrete:d}=c;if(d){let f;return null!=(f=a.for)?f:"offset"}return"position"}function nf(c){return P.isObject(c)&&
void 0!==c.step}function Bf(c){return c.view||c.width||c.height}function ug(c,a,d){const f={},{spacing:h,columns:x}=d[a];void 0!==h&&(f.spacing=h);void 0!==x&&("facet"in c&&!le(c.facet)||"concat"in c)&&(f.columns=x);"vconcat"in c&&(f.columns=1);for(const D of Ul)if(void 0!==c[D])if("spacing"===D){a=c[D];let da,ra;f[D]=P.isNumber(a)?a:{row:null!=(da=a.row)?da:h,column:null!=(ra=a.column)?ra:h}}else f[D]=c[D];return f}function xg(c,a){let d;return null!=(d=c[a])?d:c["width"===a?"continuousWidth":"continuousHeight"]}
function ig(c,a){c=Cf(c,a);return nf(c)?c.step:20}function Cf(c,a){let d;const f=null!=(d=c[a])?d:c["width"===a?"discreteWidth":"discreteHeight"];return Fa(f,{step:c.step})}function Sg(){let c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:P.isObject(c)?Object.assign({},ak,c):ak}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},
"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function fh(c){var a=
ie(c||{});const d={};for(const f of a)a=c[f],d[f]=Jf(a)?Ma(a):Vb(a);return d}function lh(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=Object.assign({},c),d=c.color,f=c.font,h=c.fontSize;c=c.selection;a=(delete a.color,delete a.font,delete a.fontSize,delete a.selection,a);var x=P.mergeConfig,D=rf(sl);f=f?{text:{font:f},style:{"guide-label":{font:f},"guide-title":{font:f},"group-title":{font:f},"group-subtitle":{font:f}}}:{};d=d?Sg(d):{};h=h?{signals:[{name:"fontSize",value:P.isObject(h)?
Object.assign({},tl,h):tl}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{};h=x.call(P,{},D,f,d,h,a||{});c&&P.writeConfig(h,"selection",c,!0);c=uc(h,Nh);for(var da of["background","lineBreak","padding"])h[da]&&(c[da]=Vb(h[da]));for(var ra of Bj)h[ra]&&(c[ra]=sc(h[ra]));
for(var Ia of kh)h[Ia]&&(c[Ia]=fh(h[Ia]));for(const hb of Oh)h[hb]&&(c[hb]=sc(h[hb]));h.legend&&(c.legend=sc(h.legend));h.scale&&(c.scale=sc(h.scale));if(h.style){da=h.style;ra=ie(da);Ia={};for(const hb of ra)Ia[hb]=fh(da[hb]);c.style=Ia}h.title&&(c.title=sc(h.title));h.view&&(c.view=sc(h.view));return c}function yg(c){c=rf(c);for(var a of Oe)delete c[a];if(c.axis)for(var d in c.axis)Jf(c.axis[d])&&delete c.axis[d];if(c.legend)for(var f of Rl)delete c.legend[f];if(c.mark){for(var h of Tk)delete c.mark[h];
c.mark.tooltip&&P.isObject(c.mark.tooltip)&&delete c.mark.tooltip}c.params&&(c.signals=(c.signals||[]).concat(Lf(c.params)),delete c.params);for(var x of Wl){for(const Ob of Tk)delete c[x][Ob];if(a=ul[x])for(const Ob of a)delete c[x][Ob];let hb=h=void 0;a=c;d=x;f=void 0;var D=a[d];"view"===d&&(f="cell");D=Object.assign({},D,a.style[null!=(hb=f)?hb:d]);Qa(D)||(a.style[null!=(h=f)?h:d]=D);delete a[d]}for(const hb of ie(Zj))delete c[hb];x=c;const {titleMarkConfig:da,subtitleMarkConfig:ra,subtitle:Ia}=
xc(x.title);Qa(da)||(x.style["group-title"]=Object.assign({},x.style["group-title"],da));Qa(ra)||(x.style["group-subtitle"]=Object.assign({},x.style["group-subtitle"],ra));Qa(Ia)?delete x.title:x.title=Ia;for(const hb in c)P.isObject(c[hb])&&Qa(c[hb])&&delete c[hb];return Qa(c)?void 0:c}function vh(c){return vb(c)&&"quantitative"===pc(c)&&!c.bin}function uh(c,a,d){let {orient:f,type:h}=d;d="x"===a?"y":"radius";const x="x"===a;var D=c[a];c=c[d];if(vb(D)&&vb(c))if(vh(D)&&vh(c)){if(D.stack)return a;
if(c.stack)return d;D=vb(D)&&!!D.aggregate;c=vb(c)&&!!c.aggregate;if(D!==c)return D?a:d;if(x&&["bar","area"].includes(h)){if("vertical"===f)return d;if("horizontal"===f)return a}}else{if(vh(D))return a;if(vh(c))return d}else{if(vh(D))return a;if(vh(c))return d}}function Kh(c){switch(c){case "x":return"y";case "y":return"x";case "theta":return"radius";case "radius":return"theta"}}function Yg(c,a){var d=Lc(c)?c:{type:c};c=d.type;if(!Zl.has(c))return null;d=uh(a,"x",d)||uh(a,"theta",d);if(!d)return null;
const f=a[d];var h=vb(f)?yd(f,{}):void 0,x=Kh(d);const D=[],da=new Set;if(a[x]){var ra=a[x];(ra=vb(ra)?yd(ra,{}):void 0)&&ra!==h&&(D.push(x),da.add(ra));x="x"===x?"xOffset":"yOffset";ra=a[x];(ra=vb(ra)?yd(ra,{}):void 0)&&ra!==h&&(D.push(x),da.add(ra))}h=ll.reduce((tc,md)=>{if("tooltip"!==md&&Af(a,md)){var Jc=a[md];for(const bd of P.array(Jc)){Jc=Ke(bd);if(Jc.aggregate)continue;const pd=yd(Jc,{});pd&&da.has(pd)||tc.push({channel:md,fieldDef:Jc})}}return tc},[]);let Ia;void 0!==f.stack?Ia=P.isBoolean(f.stack)?
f.stack?"zero":null:f.stack:yk.has(c)&&(Ia="zero");if(!(Ia&&Ia in ti)||xf(a)&&0===h.length)return null;let hb,Ob;if((null==f?0:null==(hb=f.scale)?0:hb.type)&&(null==f?void 0:null==(Ob=f.scale)?void 0:Ob.type)!==Bg.LINEAR)return(null==f?0:f.stack)&&za(`Cannot stack non-linear scale (${f.scale.type}).`),null;if(Hc(a[C(d)]))return void 0!==f.stack&&za(`Cannot stack "${d}" if there is already "${d}2".`),null;vb(f)&&f.aggregate&&!Xk.has(f.aggregate)&&za(`Stacking is applied even though the aggregate function is non-summative ("${f.aggregate}").`);
return{groupbyChannels:D,groupbyFields:da,fieldChannel:d,impute:null===f.impute?!1:oc(c),stackBy:h,offset:Ia}}function wh(c,a,d){c=sc(c);var f=zc("orient",c,d);c.orient=ri(c.type,a,f);void 0!==f&&f!==c.orient&&za(`Specified orient "${c.orient}" overridden with "${f}".`);if("bar"===c.type&&c.orient&&(f=zc("cornerRadiusEnd",c,d),void 0!==f)){const x="horizontal"===c.orient&&a.x2||"vertical"===c.orient&&a.y2?["cornerRadius"]:Di[c.orient];for(var h of x)c[h]=f;void 0!==c.cornerRadiusEnd&&delete c.cornerRadiusEnd}void 0===
zc("opacity",c,d)&&(h=Yb([Th,Bi,Mi,Ci],c.type)&&!xf(a)?.7:void 0,c.opacity=h);void 0===zc("cursor",c,d)&&(a=a.href||c.href||zc("href",c,d)?"pointer":c.cursor,c.cursor=a);return c}function Dh(c,a,d){({graticule:d}=d);if(d)return!1;a=Yc("filled",c,a);c=c.type;return Fa(a,c!==Th&&c!==Cg&&c!==lj)}function ri(c,a,d){switch(c){case Th:case Mi:case Ci:case mj:case Xl:case Yh:return}const {x:f,y:h,x2:x,y2:D}=a;switch(c){case Jh:if(vb(f)&&(Ca(f.bin)||vb(h)&&h.aggregate&&!f.aggregate))break;if(vb(h)&&(Ca(h.bin)||
vb(f)&&f.aggregate&&!h.aggregate))return"horizontal";if(D||x){if(d)return d;if(!x){if((vb(f)&&"quantitative"===f.type&&!X(f.bin)||Bd(f))&&vb(h)&&Ca(h.bin))return"horizontal";break}if(!D){if((vb(h)&&"quantitative"===h.type&&!X(h.bin)||Bd(h))&&vb(f)&&Ca(f.bin))break;return"horizontal"}}case lj:if(!(!x||vb(f)&&Ca(f.bin)||!D||vb(h)&&Ca(h.bin)))return;case gi:if(D){if(vb(h)&&Ca(h.bin))return"horizontal";break}else if(x)if(vb(f)&&Ca(f.bin))break;else return"horizontal";else if(c===lj)if(f&&!h)break;else if(h&&
!f)return"horizontal";case Cg:case Bi:a=Kc(f);const da=Kc(h);if(d)return d;if(a&&!da)return"tick"!==c?"horizontal":"vertical";if(!a&&da)return"tick"!==c?"vertical":"horizontal";if(!a||!da)if(c=$c(f)&&"temporal"===f.type,d=$c(h)&&"temporal"===h.type,!c||d){if(!c&&d)return"horizontal";return}}return"vertical"}function Vg(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=2<arguments.length?arguments[2]:void 0;if("transparent"===c.point)return{opacity:0};if(c.point)return P.isObject(c.point)?
c.point:{};if(void 0!==c.point)return null;if(a.point||d.shape)return P.isObject(a.point)?a.point:{}}function mh(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(c.line)return!0===c.line?{}:c.line;if(void 0!==c.line)return null;if(a.line)return!0===a.line?{}:a.line}function si(c,a){return a?eh(c,a):c}function Gg(c,a,d){const f=a[c];if(f&&!P.isString(f)&&"repeat"in f){if(f.repeat in d)return Object.assign({},a,{[c]:d[f.repeat]});za(`Unknown repeated value "${f.repeat}".`)}else return a}
function Eh(c,a){c=Gg("field",c,a);if(void 0!==c){if(null===c)return null;"sort"in c&&Vd(c.sort)&&(a=Gg("field",c.sort,a),c=Object.assign({},c,a?{sort:a}:{}));return c}}function Uh(c,a){if(vb(c))return Eh(c,a);a=Gg("datum",c,a);a===c||a.type||(a.type="nominal");return a}function Tg(c,a){if(Hc(c)){if(a=Uh(c,a))return a;if(ta(c))return{condition:c.condition}}else{if(jb(c)){if(a=Uh(c.condition,a))return Object.assign({},c,{condition:a});c=Object.assign({},c);return delete c.condition,c}return c}}function eh(c,
a){const d={};for(const h in c)if(P.hasOwnProperty(c,h)){var f=c[h];P.isArray(f)?d[h]=f.map(x=>Tg(x,a)).filter(x=>x):(f=Tg(f,a),void 0!==f&&(d[h]=f))}return d}function nh(c){let {parentEncoding:a,encoding:d={},layer:f}=c;c={};if(a){var h=new Set([...ie(a),...ie(d)]);for(const x of h){h=d[x];const D=a[x];if(Hc(h))h=Object.assign({},D,h),c[x]=h;else if(jb(h))c[x]=Object.assign({},h,{condition:Object.assign({},D,h.condition)});else if(h||null===h)c[x]=h;else if(f||zd(D)||Zb(D)||Hc(D)||P.isArray(D))c[x]=
D}}else c=d;return!c||Qa(c)?void 0:c}function xh(c){const {parentProjection:a,projection:d}=c;if(a&&d){const {parentProjection:f,projection:h}={parentProjection:a,projection:d};c=`Layer's shared projection ${Ag(f)} is overridden by a child projection ${Ag(h)}.`;za(c)}return null!=d?d:a}function Jg(c){return c.map(a=>"filter"in a?{filter:ac(a.filter,Ta)}:a)}function Lh(c,a){var d=Object.assign({},c);const f=c.transform;d=(delete d.transform,d);return f?(c=f.map(h=>{if("filter"in h)return{filter:Ph(h,
a)};if("bin"in h&&P.isObject(h.bin))return Object.assign({},h,{bin:zh(h.bin)});if("lookup"in h){var x=h.from,D=Object.assign({},x);x=x.selection;D=(delete D.selection,D);return x?Object.assign({},h,{from:Object.assign({},{param:x},D)}):h}return h}),Object.assign({},d,{transform:c})):c}function yh(c,a){c=rf(c);vb(c)&&P.isObject(c.bin)&&(c.bin=zh(c.bin));var d,f;Dd(c)&&(null==(d=c.scale)?0:null==(f=d.domain)?0:f.selection)&&(f=c.scale.domain,d=Object.assign({},f),f=f.selection,d=(delete d.selection,
d),c.scale.domain=Object.assign({},d,f?{param:f}:{}));ta(c)&&(P.isArray(c.condition)?c.condition=c.condition.map(h=>{var x=Object.assign({},h);const D=h.param;x=(delete x.selection,delete x.param,delete x.test,x);return D?h:Object.assign({},x,{test:Ph(h,a)})}):(f=yh(c.condition,a),d=Object.assign({},f),f=f.param,d=(delete d.selection,delete d.param,delete d.test,d),c.condition=f?c.condition:Object.assign({},d,{test:Ph(c.condition,a)})));return c}function zh(c){var a=c.extent;if(null==a?0:a.selection){var d=
Object.assign({},a);a=a.selection;d=(delete d.selection,d);return Object.assign({},c,{extent:Object.assign({},d,{param:a})})}return c}function Ph(c,a){const d=f=>ac(f,h=>{var x;const D=null!=(x=a.emptySelections[h])?x:!0;x={param:h,empty:D};let da;null!=(da=a.selectionPredicates)[h]||(da[h]=[]);a.selectionPredicates[h].push(x);return x});return c.selection?d(c.selection):ac(c.test||c.filter,f=>f.selection?d(f.selection):f)}function Wh(c,a){void 0===a&&(a=lh(c.config));const d=ph(c,a),{width:f,height:h}=
c;{let {width:x,height:D}={width:f,height:h,autosize:c.autosize};c=zf(d)||"layer"in d;const da={};c?"container"==x&&"container"==D?(da.type="fit",da.contains="padding"):"container"==x?(da.type="fit-x",da.contains="padding"):"container"==D&&(da.type="fit-y",da.contains="padding"):("container"==x&&(za(kb("width")),x=void 0),"container"==D&&(za(kb("height")),D=void 0));a=Object.assign({},{type:"pad"},da,a?Fh(a.autosize):{},Fh(d.autosize));"fit"!==a.type||c||(za('Autosize "fit" only works for single views and layered views.'),
a.type="pad");"container"==x&&"fit"!=a.type&&"fit-x"!=a.type&&za(Fb("width"));"container"==D&&"fit"!=a.type&&"fit-y"!=a.type&&za(Fb("height"));a=ci(a,{type:"pad"})?void 0:a}return Object.assign({},d,a?{autosize:a}:{})}function ph(c){const a={config:1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}};return Fj.map(Gh.map($h.map(c,a),a),a)}function Fh(c){return P.isString(c)?{type:c}:null!=c?c:{}}function Wf(c,a){const d={};for(const f of oh)c&&void 0!==c[f]&&(d[f]=Vb(c[f]));a&&(d.params=c.params);
return d}function Kg(c){return{explicit:!0,value:c}}function Xf(c){return{explicit:!1,value:c}}function Ff(c){return(a,d,f,h)=>{const x=c(a.value,d.value);return 0<x?a:0>x?d:Mh(a,d,f,h)}}function Mh(c,a,d,f){if(c.explicit&&a.explicit){var h=c.value;a=a.value;d=`Conflicting ${f.toString()} property "${d.toString()}" (${Ag(h)} and ${Ag(a)}). Using ${Ag(h)}.`;za(d)}return c}function eg(c,a,d,f){let h=4<arguments.length&&void 0!==arguments[4]?arguments[4]:Mh;return void 0===c||void 0===c.value?a:c.explicit&&
!a.explicit?c:a.explicit&&!c.explicit?a:ci(c.value,a.value)?c:h(c,a,d,f)}function Yf(c){return"name"in c&&!("url"in c)&&!("values"in c)&&!S(c)}function S(c){return c&&("sequence"in c||"sphere"in c||"graticule"in c)}function wa(c){c=Object.assign({},c);c=(delete c.signals,delete c.hasLegend,delete c.index,c);c.field=Wb(c.field);return c}function Ra(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:P.identity;if(P.isArray(c)){const f=
c.map(h=>Ra(h,a,d));return a?`[${f.join(", ")}]`:f}return Hb(c)?a?d(Gc(c)):d(id(c)):a?d(Ag(c)):c}function p(c,a){c.component.selection&&ie(c.component.selection).length&&(c=P.stringValue(c.getName("cell")),a.unshift({name:"facet",value:{},on:[{events:P.parseSelector("mousemove","scope"),update:`isTuple(facet) ? facet : group(${c}).datum`}]}));return F(a)}function R(c,a){var d=!1,f;for(const h of sh(null!=(f=c.component.selection)?f:{})){const x=h.name;d=P.stringValue(x+"_store");0===a.filter(D=>D.name===
x).length&&(f="point"===h.type?", true, true)":")",a.push({name:h.name,update:`${"vlSelectionResolve"}(${d}, ${P.stringValue("global"===h.resolve?"union":h.resolve)}${f}`}));d=!0;for(const D of fj)D.defined(h)&&D.topLevelSignals&&(a=D.topLevelSignals(c,h,a))}d&&0===a.filter(h=>"unit"===h.name).length&&a.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]});return F(a)}function ja(c,a){a=[...a];const d=Ng(c,{escape:!1});let f;for(const h of sh(null!=(f=
c.component.selection)?f:{})){c={name:h.name+"_store"};h.project.hasSelectionId&&(c.transform=[{type:"collect",sort:{field:"_vgsid_"}}]);if(h.init){const x=h.project.items.map(wa);c.values=h.project.hasSelectionId?h.init.map(D=>({unit:d,_vgsid_:Ra(D,!1)[0]})):h.init.map(D=>({unit:d,fields:x,values:Ra(D,!1)}))}a.filter(x=>x.name===h.name+"_store").length||a.push(c)}return a}function xa(c,a){let d;for(const f of sh(null!=(d=c.component.selection)?d:{}))for(const h of fj)h.defined(f)&&h.marks&&(a=h.marks(c,
f,a));return a}function r(c,a){for(const d of c.children)Lg(d)&&(a=xa(d,a));return a}function F(c){return c.map(a=>{a.on&&!a.on.length&&delete a.on;return a})}function ia(c,a){return`domain(${P.stringValue(c.scaleName(a))})`}function l(c){let a;return c.parent&&Xi(c.parent)&&(null!=(a=!c.parent.parent)?a:l(c.parent.parent))}function z(c,a,d,f){var h=!c.hasProjection,x=d.channel;const D=d.signals.visual,da=P.stringValue(h?c.scaleName(x):c.projectionName());var ra=tc=>`scale(${da}, ${tc})`;const Ia=
c.getSizeSignalRef("x"===x?"width":"height").signal,hb=`${x}(unit)`,Ob=a.events.reduce((tc,md)=>[...tc,{events:md.between[0],update:`[${hb}, ${hb}]`},{events:md,update:`[${D}[0], clamp(${hb}, 0, ${Ia})]`}],[]);if(h)return d=d.signals.data,h=Vh.defined(a),c=(c=c.getScaleComponent(x))?c.get("type"):void 0,x=f?{init:Ra(f,!0,ra)}:{value:[]},Ob.push({events:{signal:a.name+"_scale_trigger"},update:gd(c)?`[${ra(`${d}[0]`)}, ${ra(`${d}[1]`)}]`:"[0, 0]"}),h?[{name:d,on:[]}]:[Object.assign({},{name:D},x,{on:Ob}),
Object.assign({},{name:d},f?{init:Ra(f)}:{},{on:[{events:{signal:D},update:`${D}[0] === ${D}[1] ? null : invert(${da}, ${D})`}]})];ra="x"===x?0:1;a=a.name+"_init";return[Object.assign({},{name:D},f?{init:`[${a}[0][${ra}], ${a}[1][${ra}]]`}:{value:[]},{on:Ob})]}function ca(c,a,d,f){var h=ta(a)&&a.condition;a=f(a);return h?(h=P.array(h).map(x=>{const D=f(x);if(x.param){const {param:da,empty:ra}=x;x=Ni(c,{param:da,empty:ra});return Object.assign({},{test:x},D)}x=Ti(c,x.test);return Object.assign({},
{test:x},D)}),{[d]:[...h,...(void 0!==a?[a]:[])]}):void 0!==a?{[d]:a}:{}}function ma(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text";return ca(c,c.encoding[a],a,d=>Va(d,c.config))}function Va(c,a){let d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"datum";if(c){if(zd(c))return Tb(c.value);if(Hc(c)){const {format:f,formatType:h}=lf(c);return Le({fieldOrDatumDef:c,format:f,formatType:h,expr:d,config:a})}}}function Xa(c){let a=1<arguments.length&&void 0!==arguments[1]?
arguments[1]:{};const {encoding:d,markDef:f,config:h,stack:x}=c,D=d.tooltip;if(P.isArray(D))return{tooltip:hc({tooltip:D},x,h,a)};const da=a.reactiveGeom?"datum.datum":"datum";return ca(c,D,"tooltip",ra=>{const Ia=Va(ra,h,da);if(Ia)return Ia;if(null!==ra){ra=zc("tooltip",f,h);!0===ra&&(ra={content:"encoding"});if(P.isString(ra))return{value:ra};if(P.isObject(ra))return Zb(ra)?ra:"encoding"===ra.content?hc(d,x,h,a):{signal:da}}})}function Jb(c,a,d){function f(Ia,hb){var Ob=u(hb);Ia=$c(Ia)?Ia:Object.assign({},
Ia,{type:c[Ob].type});Ob=Ia.title||Fg(Ia,x);Ob=P.array(Ob).join(", ").replaceAll(/"/g,'\\"');if(V(hb)){const Jc="x"===hb?"x2":"y2";var tc=Ke(c[Jc]);if(Ca(Ia.bin)&&tc){var md=yd(Ia,{expr:da});tc=yd(tc,{expr:da});const {format:bd,formatType:pd}=lf(Ia);md=Id(md,tc,bd,pd,x);D[Jc]=!0}}if((V(hb)||"theta"===hb||"radius"===hb)&&a&&a.fieldChannel===hb&&"normalize"===a.offset){const {format:Jc,formatType:bd}=lf(Ia);md=Le({fieldOrDatumDef:Ia,format:Jc,formatType:bd,expr:da,config:x,normalizeStack:!0}).signal}null!=
md||(md=Va(Ia,x,da).signal);ra.push({channel:hb,key:Ob,value:md})}var {reactiveGeom:h}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const x=Object.assign({},d,d.tooltipFormat),D={},da=h?"datum.datum":"datum",ra=[];Ug(c,(Ia,hb)=>{vb(Ia)?f(Ia,hb):Ja(Ia)&&f(Ia.condition,hb)});h={};for(const Ia of ra){const {channel:hb,key:Ob,value:tc}=Ia;D[hb]||h[Ob]||(h[Ob]=tc)}return h}function hc(c,a,d){var {reactiveGeom:f}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};f=Jb(c,a,d,{reactiveGeom:f});
f=Ki(f).map(h=>{let [x,D]=h;return`"${x}": ${D}`});return 0<f.length?{signal:`{${f.join(", ")}}`}:void 0}function Ub(c){const {encoding:a,markDef:d,config:f,stack:h}=c;var x=a.description;if(x)return ca(c,x,"description",D=>Va(D,c.config));x=zc("description",d,f);if(null!=x)return{description:Tb(x)};if(!1===f.aria)return{};x=Jb(a,h,f);if(!Qa(x))return{description:{signal:Ki(x).map((D,da)=>{let [ra,Ia]=D;return`"${0<da?"; ":""}${ra}: " + (${Ia})`}).join(" + ")}}}function qd(c,a){let d=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:{};const {markDef:f,encoding:h,config:x}=a,{vgChannel:D}=d;let {defaultRef:da,defaultValue:ra}=d;void 0===da&&(null!=ra||(ra=zc(c,f,x,{vgChannel:D,ignoreVgConfig:!0})),void 0!==ra&&(da=Tb(ra)));return ca(a,h[c],null!=D?D:c,Ia=>Cd({channel:c,channelDef:Ia,markDef:f,config:x,scaleName:a.scaleName(c),scale:a.getScaleComponent(c),stack:null,defaultRef:da}))}function Zc(c){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{filled:void 0};const {markDef:d,encoding:f,
config:h}=c;var {type:x}=d,D;a=null!=(D=a.filled)?D:zc("filled",d,h);D=Yb(["bar","point","circle","square","geoshape"],x)?"transparent":void 0;var da,ra;x=null!=(ra=null!=(da=zc(!0===a?"color":void 0,d,h,{vgChannel:"fill"}))?da:h.mark[!0===a&&"color"])?ra:D;var Ia;da=null!=(Ia=zc(!1===a?"color":void 0,d,h,{vgChannel:"stroke"}))?Ia:h.mark[!1===a&&"color"];Ia=a?"fill":"stroke";ra=Object.assign({},x?{fill:Tb(x)}:{},da?{stroke:Tb(da)}:{});d.color&&(a?d.fill:d.stroke)&&za(Td("property",{fill:"fill"in d,
stroke:"stroke"in d}));return Object.assign({},ra,qd("color",c,{vgChannel:Ia,defaultValue:a?x:da}),qd("fill",c,{defaultValue:f.fill?x:void 0}),qd("stroke",c,{defaultValue:f.stroke?da:void 0}))}function Rd(c){const {encoding:a,mark:d}=c,f=a.order;return!oc(d)&&zd(f)?ca(c,f,"zindex",h=>Tb(h.value)):{}}function ue(c){let {channel:a,markDef:d,encoding:f={},model:h,bandPosition:x}=c;c=`${a}Offset`;const D=d[c],da=f[c];return"xOffset"!==c&&"yOffset"!==c||!da?(c=d[c])?{offsetType:"visual",offset:c}:{}:{offsetType:"encoding",
offset:Cd({channel:c,channelDef:da,markDef:d,config:null==h?void 0:h.config,scaleName:h.scaleName(c),scale:h.getScaleComponent(c),stack:null,defaultRef:Tb(D),bandPosition:x})}}function xe(c,a,d){let {defaultPos:f,vgChannel:h}=d;const {encoding:x,markDef:D,config:da,stack:ra}=a;d=x[c];const Ia=x[C(c)],hb=a.scaleName(c),Ob=a.getScaleComponent(c),{offset:tc,offsetType:md}=ue({channel:c,markDef:D,encoding:x,model:a,bandPosition:.5}),Jc=ve({model:a,defaultPos:f,channel:c,scaleName:hb,scale:Ob});if(!d&&
V(c)&&(x.latitude||x.longitude))a={field:a.getName(c)};else a:{a={channel:c,channelDef:d,channel2Def:Ia,markDef:D,config:da,scaleName:hb,scale:Ob,stack:ra,offset:tc,defaultRef:Jc,bandPosition:"encoding"===md?0:void 0};const {channel:bd,channelDef:pd,scaleName:je,stack:Nd,offset:we,markDef:Re}=a;if(Hc(pd)&&Nd&&bd===Nd.fieldChannel){if(vb(pd)&&(a=pd.bandPosition,void 0!==a||"text"!==Re.type||"radius"!==bd&&"theta"!==bd||(a=.5),void 0!==a)){a=Od({scaleName:je,fieldOrDatumDef:pd,startSuffix:"start",bandPosition:a,
offset:we});break a}a=jd(pd,je,{suffix:"end"},{offset:we})}else a=Qc(a)}return a?{[h||c]:a}:void 0}function ve(c){let {model:a,defaultPos:d,channel:f,scaleName:h,scale:x}=c;const {markDef:D,config:da}=a;return()=>{var ra=u(f),Ia=m(f);Ia=zc(f,D,da,{vgChannel:Ia});if(void 0!==Ia)return be(f,Ia);switch(d){case "zeroOrMin":case "zeroOrMax":if(h&&(Ia=x.get("type"),!Yb([Bg.LOG,Bg.TIME,Bg.UTC],Ia)&&x.domainDefinitelyIncludesZero()))return{scale:h,value:0};if("zeroOrMin"===d)return"y"===ra?{field:{group:"height"}}:
{value:0};switch(ra){case "radius":return{signal:`min(${a.width.signal},${a.height.signal})/2`};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return ra=a[B(f)],Object.assign({},ra,{mult:.5})}}}function Xe(c,a,d){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"middle";if("radius"===c||"theta"===c)return m(c);var h="x"===c?"align":"baseline";const x=zc(h,a,d);Zb(x)?(za(`The ${h} for range marks cannot be an expression`),
h=void 0):h=x;return"x"===c?Ri[h||("top"===f?"left":"center")]:wk[h||f]}function wf(c,a,d){let {defaultPos:f,defaultPos2:h,range:x}=d;return x?Og(c,a,{defaultPos:f,defaultPos2:h}):xe(c,a,{defaultPos:f})}function Og(c,a,d){let {defaultPos:f,defaultPos2:h}=d;const {markDef:x,config:D}=a;var da=C(c);d=B(c);{const {encoding:tc,mark:md,markDef:Jc,stack:bd,config:pd}=a;var ra=u(da),Ia=B(da);const je=m(da);var hb=tc[ra],Ob=a.scaleName(ra);const Nd=a.getScaleComponent(ra);({offset:ra}=da in tc||da in Jc?
ue({channel:da,markDef:Jc,encoding:tc,model:a}):ue({channel:ra,markDef:Jc,encoding:tc,model:a}));if(hb||"x2"!==da&&"y2"!==da||!tc.latitude&&!tc.longitude){let {channel:we,channelDef:Re,channel2Def:gf,markDef:Tf,config:Sf,scaleName:lg,scale:Nf,stack:Wg,offset:Of,defaultRef:Fi}={channel:da,channelDef:hb,channel2Def:tc[da],markDef:Jc,config:pd,scaleName:Ob,scale:Nd,stack:bd,offset:ra,defaultRef:void 0};hb=Hc(Re)&&Wg&&we.charAt(0)===Wg.fieldChannel.charAt(0)?jd(Re,lg,{suffix:"start"},{offset:Of}):Qc({channel:we,
channelDef:gf,scaleName:lg,scale:Nf,stack:Wg,markDef:Tf,config:Sf,offset:Of,defaultRef:Fi});da=void 0!==hb?{[je]:hb}:bf(da,Jc)||bf(da,{[da]:Md(da,Jc,pd.style),[Ia]:Md(Ia,Jc,pd.style)})||bf(da,pd[md])||bf(da,pd.mark)||{[je]:ve({model:a,defaultPos:h,channel:da,scaleName:Ob,scale:Nd})()}}else Ia=B(da),Ob=a.markDef[Ia],da=null!=Ob?{[Ia]:{value:Ob}}:{[je]:{field:a.getName(da)}}}d=da[d]?Xe(c,x,D):m(c);return Object.assign({},xe(c,a,{defaultPos:f,vgChannel:d}),da)}function bf(c,a){const d=B(c),f=m(c);if(void 0!==
a[f])return{[f]:be(c,a[f])};if(void 0!==a[c])return{[f]:be(c,a[c])};if(a[d])if(a=a[d],Uc(a))za(`Position range does not support relative band size for ${d}.`);else return{[d]:be(c,a)}}function Qe(c,a){const {config:d,encoding:f,markDef:h}=c;var x=h.type,D=C(a),da=B(a),ra=f[a];D=f[D];var Ia=c.getScaleComponent(a);Ia=Ia?Ia.get("type"):void 0;const hb=h.orient;var Ob;let tc;const md=null!=(tc=null!=(Ob=f[da])?Ob:f.size)?tc:zc("size",h,d,{vgChannel:da});da=A(a);x="bar"===x&&("x"===a?"vertical"===hb:"horizontal"===
hb);if(!vb(ra)||!(X(ra.bin)||Ca(ra.bin)||ra.timeUnit&&!D)||md&&!Uc(md)||f[da]||Sc(Ia)){if((Hc(ra)&&Sc(Ia)||x)&&!D){var Jc;{const {markDef:we,encoding:Re,config:gf,stack:Tf}=c;x=we.orient;var bd=c.scaleName(a),pd=c.getScaleComponent(a),je=B(a),Nd=C(a);D=A(a);D=c.scaleName(D);da=c.getScaleComponent(E(a));x="horizontal"===x&&"y"===a||"vertical"===x&&"x"===a;if(Re.size||we.size)x?Jc=qd("size",c,{vgChannel:je,defaultRef:Tb(we.size)}):za(`Cannot apply size to non-oriented mark "${we.type}".`);Ia=!!Jc;x=
I({channel:a,fieldDef:ra,markDef:we,config:gf,scaleType:null==pd?void 0:pd.get("type"),useVlSizeChannel:x});Jc=Jc||{[je]:cg(je,D||bd,da||pd,gf,x,!!ra,we.type)};D="band"===(null==pd?void 0:pd.get("type"))&&Uc(x)&&!Ia?"top":"middle";D=Xe(a,we,gf,D);da="xc"===D||"yc"===D;const {offset:Sf,offsetType:lg}=ue({channel:a,markDef:we,encoding:Re,model:c,bandPosition:da?.5:0});c=Qc({channel:a,channelDef:ra,markDef:we,config:gf,scaleName:bd,scale:pd,stack:Tf,offset:Sf,defaultRef:ve({model:c,defaultPos:"mid",
channel:a,scaleName:bd,scale:pd}),bandPosition:da?"encoding"===lg?0:.5:Zb(x)?{signal:`(1-${x})/2`}:Uc(x)?(1-x.band)/2:0});je?Jc=Object.assign({},{[D]:c},Jc):(a=m(Nd),Jc=Jc[je],Jc=Sf?Object.assign({},Jc,{offset:Sf}):Jc,Jc={[D]:c,[a]:P.isArray(c)?[c[0],Object.assign({},c[1],{offset:Jc})]:Object.assign({},c,{offset:Jc})})}return Jc}return Og(a,c,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}a:{let {fieldDef:we,fieldDef2:Re,channel:gf,model:Tf}={fieldDef:ra,fieldDef2:D,channel:a,model:c};const {config:Sf,
markDef:lg,encoding:Nf}=Tf;c=Tf.getScaleComponent(gf);Jc=Tf.scaleName(gf);a=c?c.get("type"):void 0;c=c.get("reverse");a=I({channel:gf,fieldDef:we,markDef:lg,config:Sf,scaleType:a});ra=null!=(pd=null==(bd=null==(Nd=Tf.component.axes[gf])?void 0:Nd[0])?void 0:bd.get("translate"))?pd:.5;pd=V(gf)?null!=(je=zc("binSpacing",lg,Sf))?je:0:0;je=C(gf);Nd=m(gf);bd=m(je);D=Yc("minBandSize",lg,Sf);({offset:da}=ue({channel:gf,markDef:lg,encoding:Nf,model:Tf,bandPosition:0}));({offset:Ia}=ue({channel:je,markDef:lg,
encoding:Nf,model:Tf,bandPosition:0}));let {scaleName:Wg,fieldDef:Of}={fieldDef:we,scaleName:Jc};x=yd(Of,{expr:"datum"});Ob=yd(Of,{expr:"datum",suffix:"end"});Ob=`abs(scale("${Wg}", ${Ob}) - scale("${Wg}", ${x}))`;x=Ah(gf,pd,c,ra,da,D,Ob);c=Ah(je,pd,c,ra,null!=Ia?Ia:da,D,Ob);a=Zb(a)?{signal:`(1-${a.signal})/2`}:Uc(a)?(1-a.band)/2:.5;if(X(we.bin)||we.timeUnit)Jc={[bd]:fg({fieldDef:we,scaleName:Jc,bandPosition:a,offset:c}),[Nd]:fg({fieldDef:we,scaleName:Jc,bandPosition:Zb(a)?{signal:`1-${a.signal}`}:
1-a,offset:x})};else{if(Ca(we.bin)){c=jd(we,Jc,{},{offset:c});if(vb(Re)){Jc={[bd]:c,[Nd]:jd(Re,Jc,{},{offset:x})};break a}if(P.isObject(we.bin)&&we.bin.step){Jc={[bd]:c,[Nd]:{signal:`scale("${Jc}", ${yd(we,{expr:"datum"})} + ${we.bin.step})`,offset:x}};break a}}za(la(je));Jc=void 0}}return Jc}function cg(c,a,d,f,h,x,D){if(Uc(h))if(d){const da=d.get("type");if("band"===da)return c=`bandwidth('${a}')`,1!==h.band&&(c=`${h.band} * ${c}`),f=Yc("minBandSize",{type:D},f),{signal:f?`max(${cc(f)}, ${c})`:
c};1!==h.band&&za(`Cannot use the relative band size with ${da} scale.`)}else return{mult:h.band,field:{group:c}};else{if(Zb(h))return h;if(h)return{value:h}}if(d&&(h=d.get("range"),Rc(h)&&P.isNumber(h.step)))return{value:h.step-2};if(!x){const {bandPaddingInner:da,barBandPaddingInner:ra,rectBandPaddingInner:Ia}=f.scale;D=Fa(da,"bar"===D?ra:Ia);if(Zb(D))return{signal:`(1 - (${D.signal})) * ${c}`};if(P.isNumber(D))return{signal:`${1-D} * ${c}`}}return{value:ig(f.view,c)-2}}function Ah(c,a,d,f,h,x,
D){if(c in Lk)return 0;a=(c="x"===c||"y2"===c)?-a/2:a/2;if(Zb(d)||Zb(h)||Zb(f)||x){d=cc(d);h=cc(h);f=cc(f);const da=cc(x);x=x?`(${D} < ${da} ? ${c?"":"-"}0.5 * (${da} - (${D})) : ${a})`:a;return{signal:(f?`${f} + `:"")+(d?`(${d} ? -1 : 1) * `:"")+(h?`(${h} + ${x})`:x)}}h=h||0;return f+(d?-h-a:+h+a)}function fg(c){let {fieldDef:a,scaleName:d,bandPosition:f,offset:h}=c;return Od({scaleName:d,fieldOrDatumDef:a,bandPosition:f,offset:h})}function sf(c,a){const {fill:d,stroke:f}="include"===a.color?Zc(c):
{};var h=Object,x=h.assign;a=Qf(c.markDef,a);var D=of(c,"fill",d),da=of(c,"stroke",f),ra=qd("opacity",c),Ia=qd("fillOpacity",c),hb=qd("strokeOpacity",c),Ob=qd("strokeWidth",c),tc=qd("strokeDash",c),md=Rd(c),Jc=Xa(c),bd=ma(c,"href");{const {markDef:we,config:Re}=c,gf=zc("aria",we,Re);if(!1===gf)c={};else{var pd=Object,je=pd.assign;{const {mark:Tf,markDef:Sf,config:lg}=c;if(!1===lg.aria)var Nd={};else Nd=zc("ariaRoleDescription",Sf,lg),Nd=null!=Nd?{ariaRoleDescription:{value:Nd}}:Tf in Yl?{}:{ariaRoleDescription:{value:Tf}}}c=
je.call(pd,{},gf?{aria:gf}:{},Nd,Ub(c))}}return x.call(h,{},a,D,da,ra,Ia,hb,Ob,tc,md,Jc,bd,c)}function of(c,a,d){const {config:f,mark:h,markDef:x}=c;return"hide"===zc("invalid",x,f)&&d&&!oc(h)&&(c=Rf(c,{invalid:!0,channels:dj}))?{[a]:[{test:c,value:null},...P.array(d)]}:d?{[a]:d}:{}}function Qf(c,a){return zl.reduce((d,f)=>{Sk.has(f)||void 0===c[f]||"ignore"===a[f]||(d[f]=Tb(c[f]));return d},{})}function Rf(c,a){let {invalid:d=!1,channels:f}=a;a=f.reduce((h,x)=>{var D=c.getScaleComponent(x);D&&(D=
D.get("type"),(x=c.vgField(x,{expr:"datum"}))&&gd(D)&&(h[x]=!0));return h},{});a=ie(a);if(0<a.length){const h=d?"||":"\x26\x26";return a.map(x=>td(x,d)).join(` ${h} `)}}function Mf(c){const {config:a,markDef:d}=c;return zc("invalid",d,a)&&(c=Zg(c,{channels:oi}))?{defined:{signal:c}}:{}}function Zg(c,a){let {invalid:d=!1,channels:f}=a;a=f.reduce((h,x)=>{var D=c.getScaleComponent(x);if(D){D=D.get("type");let da;(x=c.vgField(x,{expr:"datum",binSuffix:(null==(da=c.stack)?0:da.impute)?"mid":void 0}))&&
gd(D)&&(h[x]=!0)}return h},{});a=ie(a);if(0<a.length){const h=d?"||":"\x26\x26";return a.map(x=>td(x,d)).join(` ${h} `)}}function jg(c,a){if(void 0!==a)return{[c]:Tb(a)}}function Bh(c,a,d,f,h){var x=a.name,D=x+"_translate_anchor";x+="_translate_delta";var da=d.channel;const ra=Vh.defined(a);a=h.filter(md=>md.name===d.signals[ra?"data":"visual"])[0];f=c.getSizeSignalRef(f).signal;h=(c=c.getScaleComponent(da))&&c.get("type");var Ia=c&&c.get("reverse");D=`${D}.extent_${da}`;da=`${ra?"x"===da?Ia?"":"-":
Ia?"-":"":""}${x}.${da} / ${ra?`${f}`:`span(${D})`}`;Ia=ra&&c?"log"===h?"panLog":"symlog"===h?"panSymlog":"pow"===h?"panPow":"panLinear":"panLinear";var hb;let Ob;const tc=ra?"pow"===h?`, ${null!=(hb=c.get("exponent"))?hb:1}`:"symlog"===h?`, ${null!=(Ob=c.get("constant"))?Ob:1}`:"":"";hb=`${Ia}(${D}, ${da}${tc})`;a.on.push({events:{signal:x},update:ra?hb:`clampRange(${hb}, 0, ${f})`})}function ng(c,a,d,f,h){var x=a.name,D=d.channel;const da=Vh.defined(a);a=h.filter(md=>md.name===d.signals[da?"data":
"visual"])[0];f=c.getSizeSignalRef(f).signal;const ra=(h=c.getScaleComponent(D))&&h.get("type"),Ia=da?ia(c,D):a.name;c=x+"_zoom_delta";x=`${x}${"_zoom_anchor"}.${D}`;D=da&&h?"log"===ra?"zoomLog":"symlog"===ra?"zoomSymlog":"pow"===ra?"zoomPow":"zoomLinear":"zoomLinear";var hb;let Ob;const tc=da?"pow"===ra?`, ${null!=(hb=h.get("exponent"))?hb:1}`:"symlog"===ra?`, ${null!=(Ob=h.get("constant"))?Ob:1}`:"":"";hb=`${D}(${Ia}, ${x}, ${c}${tc})`;a.on.push({events:{signal:c},update:da?hb:`clampRange(${hb}, 0, ${f})`})}
function Ng(c){var {escape:a}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{escape:!0};a=a?P.stringValue(c.name):c.name;var d;for(d=c.parent;d&&!Rh(d);)d=d.parent;if(d){const {facet:f}=d;for(const h of ai)f[h]&&(a+=` + '__facet_${h}_' + (facet[${P.stringValue(d.vgField(h))}])`)}return a}function vg(c){let a;return sh(null!=(a=c.component.selection)?a:{}).reduce((d,f)=>d||f.project.hasSelectionId,!1)}function Zh(c,a){!P.isString(a.select)&&a.select.on||delete c.events;!P.isString(a.select)&&
a.select.clear||delete c.clear;!P.isString(a.select)&&a.select.toggle||delete c.toggle}function qi(c){const a=[];if("Identifier"===c.type)return[c.name];if("Literal"===c.type)return[c.value];"MemberExpression"===c.type&&(a.push(...qi(c.object)),a.push(...qi(c.property)));return a}function hi(c){return"MemberExpression"===c.object.type?hi(c.object):"datum"===c.object.name}function Pi(c){c=P.parseExpression(c);const a=new Set;c.visit(d=>{"MemberExpression"===d.type&&hi(d)&&a.add(qi(d).slice(1).join("."))});
return a}function Ni(c,a,d){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"datum",h=P.isString(a)?a:a.param,x=Ka(h),D=P.stringValue(x+"_store");try{var da=c.getSelectionComponent(x,h)}catch(ra){return`!!${x}`}da.project.timeUnit&&(h=null!=d?d:c.component.data.raw,x=da.project.timeUnit.clone(),h.parent?x.insertAsParentOf(h):h.parent=x);h=da.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(";da="global"===da.resolve?")":`, ${P.stringValue(da.resolve)})`;f=`${h}${D}, ${f}${da}`;
D=`length(data(${D}))`;return!1===a.empty?`${D} && ${f}`:`!${D} || ${f}`}function Dg(c,a,d){const f=Ka(a),h=d.encoding;let x=d.field,D;try{D=c.getSelectionComponent(f,a)}catch(da){return f}h||x?h&&!x&&(c=D.project.items.filter(da=>da.channel===h),!c.length||1<c.length?(x=D.project.items[0].field,za((c.length?"Multiple ":"No ")+`matching ${P.stringValue(h)} encoding found for selection ${P.stringValue(d.param)}. `+`Using "field": ${P.stringValue(x)}.`)):x=c[0].field):(x=D.project.items[0].field,1<
D.project.items.length&&za('A "field" or "encoding" must be specified when using a selection as a scale domain. '+`Using "field": ${P.stringValue(x)}.`));return`${D.name}[${P.stringValue(Wb(x))}]`}function Ti(c,a,d){return lb(a,f=>P.isString(f)?f:(null==f?0:f.param)?Ni(c,f,d):J(f))}function rj(c,a){if(c)return P.isArray(c)&&!cd(c)?c.map(d=>Fg(d,a)).join(", "):c}function ki(c,a,d,f){null!=c.encode||(c.encode={});let h;null!=(h=c.encode)[a]||(h[a]={});let x;null!=(x=c.encode[a]).update||(x.update={});
c.encode[a].update[d]=f}function ui(c,a,d){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{header:!1},h=c.combine(),x=Object.assign({},h),D=h.disable;const da=h.orient,ra=h.scale;var Ia=h.labelExpr;const hb=h.title;h=h.zindex;x=(delete x.disable,delete x.orient,delete x.scale,delete x.labelExpr,delete x.title,delete x.zindex,x);if(!D){for(const tc in x){var Ob=oj[tc];D=x[tc];if(Ob&&Ob!==a&&"both"!==Ob)delete x[tc];else if(Jf(D)){Ob=D;D=Object.assign({},Ob);Ob=Ob.condition;D=(delete D.condition,
D);Ob=P.array(Ob);const md=Wj[tc];if(md){const {vgProp:Jc,part:bd}=md;D=[...Ob.map(pd=>{var je=Object.assign({},pd);pd=pd.test;je=(delete je.test,je);return Object.assign({},{test:Ti(null,pd)},je)}),D];ki(x,bd,Jc,D);delete x[tc]}else null===md&&(D={signal:Ob.map(Jc=>{var bd=Object.assign({},Jc);Jc=Jc.test;bd=(delete bd.test,bd);return`${Ti(null,Jc)} ? ${gc(bd)} : `}).join("")+gc(D)},x[tc]=D)}else if(Zb(D)&&(Ob=Wj[tc])){const {vgProp:md,part:Jc}=Ob;ki(x,Jc,md,D);delete x[tc]}Yb(["labelAlign","labelBaseline"],
tc)&&null===x[tc]&&delete x[tc]}if("grid"===a){if(x.grid)return x.encode&&({grid:Ia}=x.encode,x.encode=Object.assign({},Ia?{grid:Ia}:{}),Qa(x.encode)&&delete x.encode),Object.assign({},{scale:ra,orient:da},x,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Fa(h,0)})}else if(f.header||!c.mainExtracted){if(void 0!==Ia){f=Ia;let tc,md;(null==(tc=x.encode)?0:null==(md=tc.labels)?0:md.update)&&Zb(x.encode.labels.update.text)&&(f=ob(Ia,"datum.label",x.encode.labels.update.text.signal));
ki(x,"labels","text",{signal:f})}null===x.labelAlign&&delete x.labelAlign;if(x.encode){for(const tc of vk)c.hasAxisPart(tc)||delete x.encode[tc];Qa(x.encode)&&delete x.encode}Ia=rj(hb,d);return Object.assign({},{scale:ra,orient:da,grid:!1},Ia?{title:Ia}:{},x,!1===d.aria?{aria:!1}:{},{zindex:Fa(h,0)})}}}function y(c){const {axes:a}=c.component,d=[];for(const f of oi)if(a[f])for(const h of a[f])if(!h.get("disable")&&!h.get("gridScale")){const x="x"===f?"height":"width",D=c.getSizeSignalRef(x).signal;
x!==D&&d.push({name:x,update:D})}return d}function W(c,a){const {x:d=[],y:f=[]}=c;return[...d.map(h=>ui(h,"grid",a)),...f.map(h=>ui(h,"grid",a)),...d.map(h=>ui(h,"main",a)),...f.map(h=>ui(h,"main",a))].filter(h=>h)}function ha(c,a,d,f){return Object.assign.apply(null,[{},...c.map(h=>{if("axisOrient"===h){h="x"===d?"bottom":"left";const x=a["x"===d?"axisBottom":"axisLeft"]||{},D=a["x"===d?"axisTop":"axisRight"]||{},da=new Set([...ie(x),...ie(D)]),ra={};for(const Ia of da.values())ra[Ia]={signal:`${f.signal} === "${h}" ? ${cc(x[Ia])} : ${cc(D[Ia])}`};
return ra}return a[h]})])}function Oa(c,a,d,f){var h="band"===a?["axisDiscrete","axisBand"]:"point"===a?["axisDiscrete","axisPoint"]:zj.has(a)?["axisQuantitative"]:"time"===a||"utc"===a?["axisTemporal"]:[];const x="x"===c?"axisX":"axisY";a=Zb(d)?"axisOrient":`axis${Pa(d)}`;h=[...h,...h.map(D=>x+D.substr(4))];a=["axis",a,x];return{vlOnlyAxisConfig:ha(h,f,c,d),vgAxisConfig:ha(a,f,c,d),axisConfigStyle:zb([...a,...h],f)}}function zb(c,a){const d=[{}];for(const f of c){let h;if(c=null==(h=a[f])?void 0:
h.style){c=P.array(c);for(const x of c)d.push(a.style[x])}}return Object.assign.apply(null,d)}function Eb(c,a,d){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const h=ud(c,d,a);if(void 0!==h)return{configFrom:"style",configValue:h};for(const x of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){let D;if(void 0!==(null==(D=f[x])?void 0:D[c]))return{configFrom:x,configValue:f[x][c]}}return{}}function Sb(c,a,d,f,h){const x=null==a?void 0:a.labelAngle;if(void 0!==x)return Zb(x)?
x:na(x);({configValue:a}=Eb("labelAngle",f,null==a?void 0:a.style,h));if(void 0!==a)return na(a);if("x"===d&&Yb(["nominal","ordinal"],c.type)&&(!vb(c)||!c.timeUnit))return 270}function kc(c){return`(((${c.signal} % 360) + 360) % 360)`}function Vc(c,a,d,f){if(void 0!==c)return"x"===d?Zb(c)?(f=kc(c),a=Zb(a)?`(${a.signal} === "top")`:"top"===a,{signal:`(45 < ${f} && ${f} < 135) || (225 < ${f} && ${f} < 315) ? "middle" :`+`(${f} <= 45 || 315 <= ${f}) === ${a} ? "bottom" : "top"`}):45<c&&135>c||225<c&&
315>c?"middle":Zb(a)?{signal:`${a.signal} ${45>=c||315<=c?"\x3d\x3d\x3d":"!\x3d\x3d"} "top" ? "bottom" : "top"`}:(45>=c||315<=c)===("top"===a)?"bottom":"top":Zb(c)?(c=kc(c),a=Zb(a)?`(${a.signal} === "left")`:"left"===a,{signal:`${c} <= 45 || 315 <= ${c} || (135 <= ${c} && ${c} <= 225) ? ${f?'"middle"':"null"} : (45 <= ${c} && ${c} <= 135) === ${a} ? "top" : "bottom"`}):45>=c||315<=c||135<=c&&225>=c?f?"middle":null:Zb(a)?{signal:`${a.signal} ${45<=c&&135>=c?"\x3d\x3d\x3d":"!\x3d\x3d"} "left" ? "top" : "bottom"`}:
(45<=c&&135>=c)===("left"===a)?"top":"bottom"}function Jd(c,a,d){if(void 0!==c){var f=(d="x"===d)?0:90,h=d?"bottom":"left";return Zb(c)?(c=kc(c),a=Zb(a)?`(${a.signal} === "${h}")`:a===h,{signal:`(${f?`(${c} + 90)`:c} % 180 === 0) ? ${d?null:'"center"'} :`+`(${f} < ${c} && ${c} < ${180+f}) === ${a} ? "left" : "right"`}):0===(c+f)%180?d?null:"center":Zb(a)?{signal:`${`${a.signal} ${f<c&&c<180+f?"\x3d\x3d\x3d":"!\x3d\x3d"} "${h}"`} ? "left" : "right"`}:(f<c&&c<180+f)===(a===h)?"left":"right"}}function Sd(c,
a){var d="x"===a?"x2":"y2";a=c.fieldDef(a);c=c.fieldDef(d);d=a?a.title:void 0;c=c?c.title:void 0;if(d&&c)return wb(d,c);if(d)return d;if(c)return c;if(void 0!==d)return d;if(void 0!==c)return c}function ad(c,a,d){return yd(c,Object.assign({},{prefix:a,suffix:"sort_index"},null!=d?d:{}))}function ke(c,a){return Yb(["top","bottom"],a)?"column":Yb(["left","right"],a)?"row":"row"===c?"row":"column"}function Be(c,a,d,f){return Fa((a||{})[c],("row"===f?d.headerRow:"column"===f?d.headerColumn:d.headerFacet)[c],
d.header[c])}function Te(c,a,d,f){const h={};for(const x of c)c=Be(x,a||{},d,f),void 0!==c&&(h[x]=c);return h}function w(c,a){switch(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"middle"){case "start":return{align:"left"};case "end":return{align:"right"}}const d=Jd(a,"row"===c?"left":"top","row"===c?"y":"x");return d?{align:d}:{}}function T(c,a){return(c=Vc(c,"row"===a?"left":"top","row"===a?"y":"x",!0))?{baseline:c}:{}}function aa(c,a,d){const {format:f,formatType:h,labelAngle:x,labelAnchor:D,
labelOrient:da,labelExpr:ra}=Te("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),c.header,d,a),Ia=Le({fieldOrDatumDef:c,format:f,formatType:h,expr:"parent",config:d}).signal,hb=ke(a,da);return Object.assign({},{text:{signal:ra?ob(ob(ra,"datum.label",Ia),"datum.value",yd(c,{expr:"parent"})):Ia}},"row"===a?{orient:"left"}:{},{style:"guide-label",frame:"group"},T(x,hb),w(hb,x,D),Ea(d,c,a,Tl,rl))}function Ea(c,a,d,f,h){const x={};for(const D of f){if(!h[D])continue;let da;f=
Be(D,null==(da=a)?void 0:da.header,c,d);void 0!==f&&(x[h[D]]=f)}return x}function rb(c){return[...yb(c,"width"),...yb(c,"height"),...yb(c,"childWidth"),...yb(c,"childHeight")]}function yb(c,a){var d="width"===a?"x":"y",f=c.component.layoutSize.get(a);if(!f||"merged"===f)return[];a=c.getSizeSignalRef(a).signal;if("step"===f){if(f=c.getScaleComponent(d)){var h=f.get("type");const x=f.get("range");if(Sc(h)&&Rc(x))return h=c.scaleName(d),Rh(c.parent)&&"independent"===c.parent.component.resolve.scale[d]?
[Mb(h,x)]:[Mb(h,x),{name:a,update:Nb(h,f,`domain('${h}').length`)}]}throw Error("layout size is step although width/height is not step.");}return"container"==f?(d=(f=a.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",c=xg(c.config.view,f?"width":"height"),c=`isFinite(${d}) ? ${d} : ${c}`,[{name:a,init:c,on:[{update:c,events:"window:resize"}]}]):[{name:a,value:f}]}function Mb(c,a){c=`${c}_step`;return Zb(a.step)?{name:c,update:a.step.signal}:{name:c,value:a.step}}function Nb(c,a,d){const f=
a.get("type"),h=a.get("padding"),x=Fa(a.get("paddingOuter"),h);a=a.get("paddingInner");return`bandspace(${d}, ${cc("band"===f?void 0!==a?a:h:1)}, ${cc(x)}) * ${c}_step`}function Mc(c){return"childWidth"===c?"width":"childHeight"===c?"height":c}function Ed(c,a){return ie(c).reduce((d,f)=>Object.assign({},d,ca(a,c[f],f,h=>Tb(h.value))),{})}function fd(c,a){if(Rh(a))return"theta"===c?"independent":"shared";if(Xi(a))return"shared";if(gj(a))return V(c)||"theta"===c||"radius"===c?"independent":"shared";
throw Error("invalid model type for resolve");}function mc(c,a){const d=c.scale[a],f=V(a)?"axis":"legend";return"independent"===d?("shared"===c[f][a]&&za(`Setting the scale to be independent for "${a}" means we also have to set the guide (axis or legend) to be independent.`),"independent"):c[f][a]||"shared"}function rd(c){return ze(c,(a,d)=>Math.max(a,d.value))}function wd(c){return ze(c,(a,d)=>Fa(a,d.value))}function ze(c,a){const d=null==c?void 0:c.condition;if(d&&(P.isArray(d)||zd(d)))return P.array(c.condition).reduce(a,
c.value);if(zd(c))return c.value}function qe(c,a,d){c=a.get("selections");if(null!=c&&c.length){var f=P.stringValue(d.field);return c.map(h=>`(!length(data(${P.stringValue(Ka(h)+"_store")})) || (${h}[${f}] && indexof(${h}[${f}], datum.value) >= 0))`).join(" || ")}}function Ue(c,a,d,f){return{signal:`clamp(${c.getSizeSignalRef(a).signal}, ${d}, ${f})`}}function Ef(c){if(Lg(c)){var {encoding:a}=c,d={};for(pd of["color",...xk]){var f=ne(a[pd]);if(f&&c.getScaleComponent(pd)&&("shape"!==pd||!vb(f)||"geojson"!==
f.type)){a:{var h=void 0,x=void 0,D=void 0,da=void 0,ra=void 0,Ia,hb=Ia=void 0,Ob=void 0;f=c;var tc=pd;let je=f.legend(tc);const {markDef:Nd,encoding:we,config:Re}=f;var md=Re.legend;b:{var Jc=f;var bd=tc;da=Jc.scaleName(bd);if("trail"===Jc.mark){if("color"===bd){Jc={stroke:da};break b}if("size"===bd){Jc={strokeWidth:da};break b}}Jc="color"===bd?Jc.markDef.filled?{fill:da}:{stroke:da}:{[bd]:da}}Jc=new lm({},Jc);bd=null==(Ob=f.fieldDef(tc))?void 0:Ob.field;for(const Nf of sh(null!=(hb=f.component.selection)?
hb:{})){let Wg;if((hb=null!=(Wg=Nf.project.hasField[bd])?Wg:Nf.project.hasChannel[tc])&&dk.defined(Nf)){let Of;Ob=null!=(Of=Jc.get("selections"))?Of:[];Ob.push(Nf.name);Jc.set("selections",Ob,!1);hb.hasLegend=!0}}hb=void 0!==je?!je:md.disable;Jc.set("disable",hb,void 0!==je);if(hb){f=Jc;break a}je=je||{};Ob=f.getScaleComponent(tc).get("type");hb=ne(we[tc]);da=vb(hb)?null==(Ia=ae(hb.timeUnit))?void 0:Ia.unit:void 0;bd=je.orient||Re.legend.orient||"right";Ia={legend:je,channel:tc,timeUnit:da,scaleType:Ob};
({legend:da}=Ia);da=da.type;b:{let {channel:Nf,timeUnit:Wg,scaleType:Of}=Ia;if(Q(Nf)){if(Yb(["quarter","month","day"],Wg)){Ia="symbol";break b}if(Sh.has(Of)){Ia="gradient";break b}}Ia="symbol"}Ia=Fa(da,Ia);let {legendConfig:gf,legendType:Tf,orient:Sf,legend:lg}={legend:je,legendType:Ia,orient:bd,legendConfig:md};if(null!=(da=null!=(ra=lg.direction)?ra:gf[Tf?"gradientDirection":"symbolDirection"]))ra=da;else b:{switch(Sf){case "top":case "bottom":ra="horizontal";break b;case "left":case "right":case "none":case void 0:break;
default:ra="gradient"===Tf?"horizontal":void 0;break b}ra=void 0}md={legend:je,channel:tc,model:f,markDef:Nd,encoding:we,fieldOrDatumDef:hb,legendConfig:md,config:Re,scaleType:Ob,orient:bd,legendType:Ia,direction:ra};for(const Nf of gl)if(!("gradient"===Ia&&Nf.startsWith("symbol")||"symbol"===Ia&&Nf.startsWith("gradient"))&&(ra=Nf in Al?Al[Nf](md):je[Nf],void 0!==ra)){b:{Ob=da=void 0;bd=f.fieldDef(tc);switch(Nf){case "disable":bd=void 0!==je;break b;case "values":bd=!(null==(Ob=je)||!Ob.values);break b;
case "title":if("title"===Nf&&ra===(null==(da=bd)?void 0:da.title)){bd=!0;break b}}bd=ra===(je||{})[Nf]}((Ob=bd)||void 0===Re.legend[Nf])&&Jc.set(Nf,ra,Ob)}md=null!=(x=null==(D=je)?void 0:D.encoding)?x:{};x=Jc.get("selections");D={};tc={fieldOrDatumDef:hb,model:f,channel:tc,legendCmpt:Jc,legendType:Ia};for(const Nf of"labels legend title symbols gradient entries".split(" ")){let Wg;ra=Ed(null!=(Wg=md[Nf])?Wg:{},f);ra=Nf in fl?fl[Nf](ra,tc):ra;if(void 0!==ra&&!Qa(ra)){let Of,Fi;D[Nf]=Object.assign({},
(null==(Of=x)?0:Of.length)&&vb(hb)?{name:`${Ka(hb.field)}_legend_${Nf}`}:{},(null==(Fi=x)?0:Fi.length)?{interactive:!!x}:{},{update:ra})}}Qa(D)||Jc.set("encode",D,!(null==(h=je)||!h.encoding));f=Jc}d[pd]=f}}var pd=d}else{const {legends:je,resolve:Nd}=c.component;for(a of c.children){Ef(a);for(d of ie(a.component.legends))Nd.legend[d]=mc(c.component.resolve,d),"shared"===Nd.legend[d]&&(je[d]=Uf(je[d],a.component.legends[d]),je[d]||(Nd.legend[d]="independent",delete je[d]))}for(f of ie(je))for(h of c.children)h.component.legends[f]&&
"shared"===Nd.legend[f]&&delete h.component.legends[f];pd=je}return c.component.legends=pd}function Uf(c,a){if(!c)return a.clone();var d=c.getWithExplicit("orient");const f=a.getWithExplicit("orient");if(!d.explicit||!f.explicit||d.value===f.value){var h=!1;for(const x of gl)d=eg(c.getWithExplicit(x),a.getWithExplicit(x),x,"legend",(D,da)=>{switch(x){case "symbolType":return D="circle"===da.value?da:D,D;case "title":return sa(D,da);case "type":return h=!0,Xf("symbol")}return Mh(D,da,x,"legend")}),
c.setWithExplicit(x,d);if(h){let x,D;(null==(x=c.implicit)?0:null==(D=x.encode)?0:D.gradient)&&mb(c.implicit,["encode","gradient"]);let da,ra;(null==(da=c.explicit)?0:null==(ra=da.encode)?0:ra.gradient)&&mb(c.explicit,["encode","gradient"])}return c}}function mg(c){const a=c.component.legends,d={};for(const h of ie(a)){var f=c.getScaleComponent(h);f=Ag(f.get("domains"));if(d[f])for(const x of d[f])Uf(x,a[h])||d[f].push(a[h]);else d[f]=[a[h].clone()]}return sh(d).flat().map(h=>{{var x=c.config,D=h.combine();
h=Object.assign({},D);const tc=D.disable;D=D.labelExpr;h=(delete h.disable,delete h.labelExpr,delete h.selections,h);if(tc)var da=void 0;else{!1===x.aria&&void 0==h.aria&&(h.aria=!1);var ra;if(null==(ra=h.encode)?0:ra.symbols){x=h.encode.symbols.update;!x.fill||"transparent"===x.fill.value||x.stroke||h.stroke||(x.stroke={value:"transparent"});for(var Ia of xk)h[Ia]&&delete x[Ia]}h.title||delete h.title;if(void 0!==D){Ia=D;var hb,Ob;(null==(hb=h.encode)?0:null==(Ob=hb.labels)?0:Ob.update)&&Zb(h.encode.labels.update.text)&&
(Ia=ob(D,"datum.label",h.encode.labels.update.text.signal));hb=h;Ob={signal:Ia};null!=hb.encode||(hb.encode={});null!=(da=hb.encode).labels||(da.labels={});let md;null!=(md=hb.encode.labels).update||(md.update={});hb.encode.labels.update.text=Ob}da=h}}return da}).filter(h=>void 0!==h)}function Hh(c){return c.children.reduce((a,d)=>a.concat(d.assembleProjections()),gg(c))}function gg(c){var a=c.component.projection;if(!a||a.merged)return[];const d=a.combine(),{name:f}=d;if(a.data){const h={signal:`[${a.size.map(x=>
x.signal).join(", ")}]`};a=a.data.reduce((x,D)=>{D=Zb(D)?D.signal:`data('${c.lookupDataSource(D)}')`;x.includes(D)||x.push(D);return x},[]);if(0>=a.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:f,size:h,fit:{signal:1<a.length?`[${a.join(", ")}]`:a[0]}},d)]}return[Object.assign({},{name:f},{translate:{signal:"[width / 2, height / 2]"}},d)]}function uf(c){var a=c.component;if(Lg(c))if(c.hasProjection){var d=sc(c.specifiedProjection);var f=!(d&&(null!=
d.scale||null!=d.translate));const x=f?[c.getSizeSignalRef("width"),c.getSizeSignalRef("height")]:void 0;if(f){f=[];const {encoding:da}=c;for(h of[["longitude","latitude"],["longitude2","latitude2"]])(ne(da[h[0]])||ne(da[h[1]]))&&f.push({signal:c.getName(`geojson_${f.length}`)});c.channelHasField("shape")&&"geojson"===c.typedFieldDef("shape").type&&f.push({signal:c.getName(`geojson_${f.length}`)});0===f.length&&f.push(c.requestDataName(Hg.Main));var h=f}else h=void 0;let D;c=new Bl(c.projectionName(!0),
Object.assign({},null!=(D=sc(c.config.projection))?D:{},null!=d?d:{}),x,h);c.get("type")||c.set("type","equalEarth",!1);d=c}else d=void 0;else d=wg(c);a.projection=d}function Pg(c,a){const d=ub(fk,f=>!P.hasOwnProperty(c.explicit,f)&&!P.hasOwnProperty(a.explicit,f)||P.hasOwnProperty(c.explicit,f)&&P.hasOwnProperty(a.explicit,f)&&ci(c.get(f),a.get(f))?!0:!1);if(ci(c.size,a.size)){if(d)return c;if(ci(c.explicit,{}))return a;if(ci(a.explicit,{}))return c}return null}function wg(c){if(0!==c.children.length){var a;
for(var d of c.children)uf(d);d=ub(c.children,f=>{if(f=f.component.projection){if(a)return(f=Pg(a,f))&&(a=f),!!f;a=f}return!0});if(a&&d){d=c.projectionName(!0);const f=new Bl(d,a.specifiedProjection,a.size,rf(a.data));for(const h of c.children)if(c=h.component.projection)c.isFit&&f.data.push(...h.component.projection.data),h.renameProjection(c.get("name"),d),c.merged=!0;return f}}}function Ie(c,a,d){let f;d=null!=(f=ag(d,void 0))?f:{};a=`${$a(d)}_${a}`;return c.getName(`${a}_bins`)}function oe(c,
a,d){let f;f="as"in c?P.isString(c.as)?[c.as,`${c.as}_end`]:[c.as[0],c.as[1]]:[yd(c,{forAs:!0}),yd(c,{binSuffix:"end",forAs:!0})];a=Object.assign({},ag(a,void 0));var h=c.field;h=`${$a(a)}_${h}`;var x={signal:d.getName(`${h}_bins`),extentSignal:d.getName(`${h}_extent`)};const {signal:D,extentSignal:da}=x;if(Ya(a.extent)){var ra=a.extent;ra=Dg(d,ra.param,ra);delete a.extent}c=Object.assign({},{bin:a,field:c.field,as:[f]},D?{signal:D}:{},da?{extentSignal:da}:{},ra?{span:ra}:{});return{key:h,binComponent:c}}
function Me(c){return c.startsWith("'")&&c.endsWith("'")||c.startsWith('"')&&c.endsWith('"')?c.slice(1,-1):c}function se(c,a){c=xb(c);if("number"===a)return`toNumber(${c})`;if("boolean"===a)return`toBoolean(${c})`;if("string"===a)return`toString(${c})`;if("date"===a)return`toDate(${c})`;if("flatten"===a)return c;if(a.startsWith("date:"))return a=Me(a.slice(5,a.length)),`timeParse(${c},'${a}')`;if(a.startsWith("utc:"))return a=Me(a.slice(4,a.length)),`utcParse(${c},'${a}')`;za(`Unrecognized parse "${a}".`);
return null}function pg(c){const a={};Gb(c.filter,d=>{if(fc(d)){let f=null;if(df(d))f=Vb(d.equal);else if(tf(d))f=Vb(d.lte);else if(re(d))f=Vb(d.lt);else if(U(d))f=Vb(d.gt);else if(ua(d))f=Vb(d.gte);else if(cb(d))f=d.range[0];else if(Ab(d)){let h;f=(null!=(h=d.oneOf)?h:d["in"])[0]}f&&(Hb(f)?a[d.field]="date":P.isNumber(f)?a[d.field]="number":P.isString(f)&&(a[d.field]="string"));d.timeUnit&&(a[d.field]="date")}});return a}function Qg(c){function a(f){if(ff(f))d[f.field]="date";else{var h;if(h="quantitative"===
f.type)h=f.aggregate,h=P.isString(h)&&Yb(["min","max"],h);h?d[f.field]="number":1<Z(f.field)?f.field in d||(d[f.field]="flatten"):Dd(f)&&Vd(f.sort)&&1<Z(f.sort.field)&&(f.sort.field in d||(d[f.sort.field]="flatten"))}}const d={};(Lg(c)||Rh(c))&&c.forEachFieldDef((f,h)=>{$c(f)?a(f):(h=u(h),h=c.fieldDef(h),a(Object.assign({},f,{type:h.type})))});if(Lg(c)){const {mark:f,markDef:h,encoding:x}=c;if(oc(f)&&!c.encoding.order){const D=x["horizontal"===h.orient?"y":"x"];!vb(D)||"quantitative"!==D.type||D.field in
d||(d[D.field]="number")}}return d}function zg(c){return c instanceof tb||c instanceof oa||c instanceof Ba}function hh(c){return c.stack.stackBy.reduce((a,d)=>{(d=yd(d.fieldDef))&&a.push(d);return a},[])}function Qh(c){return P.isArray(c)&&c.every(a=>P.isString(a))&&1<c.length}function mi(c){function a(d){if(!(d instanceof e)){const f=d.clone();if(f instanceof rh){const h="scale_"+f.getSource();f.setSource(h);c.model.component.data.outputNodes[h]=f}else(f instanceof b||f instanceof $e||f instanceof
pf||f instanceof cf)&&f.addDimensions(c.fields);for(const h of d.children.flatMap(a))h.parent=f;return[f]}return d.children.flatMap(a)}return a}function Ui(c){if(c instanceof e)if(1!==c.numChildren()||c.children[0]instanceof rh){var a=c.model.component.data.main;jj(a);const d=mi(c);c=c.children.map(d).flat();for(const f of c)f.parent=a}else a=c.children[0],(a instanceof b||a instanceof $e||a instanceof pf||a instanceof cf)&&a.addDimensions(c.fields),a.swapWithParent(),Ui(c);else c.children.map(Ui)}
function jj(c){if(c instanceof rh&&c.type===Hg.Main&&1===c.numChildren()){const a=c.children[0];a instanceof e||(a.swapWithParent(),jj(c))}}function Lj(c){for(const a of c){for(const d of a.children)if(d.parent!==a)return!1;if(!Lj(a.children))return!1}return!0}function Xh(c,a){let d=!1;for(const f of a)d=c.optimize(f)||d;return d}function Gj(c,a,d){let f=c.sources,h=!1;h=Xh(new Se,f)||h;h=Xh(new ge(a),f)||h;f=f.filter(x=>0<x.numChildren());h=Xh(new nd,f)||h;f=f.filter(x=>0<x.numChildren());d||(h=
Xh(new We,f)||h,h=Xh(new te(a),f)||h,h=Xh(new Fe,f)||h,h=Xh(new Xg,f)||h,h=Xh(new vd,f)||h,h=Xh(new Xc,f)||h,h=Xh(new me,f)||h,h=Xh(new Ze,f)||h);c.sources=f;return h}function sj(c){const a=c.component.scales;for(const Ia of ie(a)){var d=c,f=Ia,h=d.getScaleComponent(f).get("type"),{encoding:x}=d;var D=d.scaleDomain(f);var da=d.typedFieldDef(f),ra=d.config.scale;if("unaggregated"===D){const {valid:hb,reason:Ob}=xl(da,h);hb||(za(Ob),D=void 0)}else void 0===D&&ra.useUnaggregatedDomain&&({valid:da}=xl(da,
h),da&&(D="unaggregated"));D!==d.scaleDomain(f)&&(d.specifiedScales[f]=Object.assign({},d.specifiedScales[f],{domain:D}));d="x"===f&&ne(x.x2)?ne(x.x)?eg(Vi(h,D,d,"x"),Vi(h,D,d,"x2"),"domain","scale",$k):Vi(h,D,d,"x2"):"y"===f&&ne(x.y2)?ne(x.y)?eg(Vi(h,D,d,"y"),Vi(h,D,d,"y2"),"domain","scale",$k):Vi(h,D,d,"y2"):Vi(h,D,d,f);a[Ia].setWithExplicit("domains",d);D=f=void 0;h=c.component.scales[Ia];da=c.specifiedScales[Ia].domain;x=null==(D=c.fieldDef(Ia))?void 0:D.bin;D=(null==da?void 0:da.param)&&da;x=
P.isObject(x)&&Ya(x.extent)&&x.extent;(D||x)&&h.set("selectionExtent",null!=(f=D)?f:x,!0);if(c.component.data.isFaceted){for(f=c;!Rh(f)&&f.parent;)f=f.parent;if("shared"===f.component.resolve.scale[Ia])for(const hb of d.value)Pd(hb)&&(hb.data="scale_"+hb.data.replace("scale_",""))}}}function Mj(c){for(var a of c.children){var d=a;Lg(d)?sj(d):Mj(d)}d=c.component.scales;for(const h of ie(d)){let x;a=null;for(const D of c.children){var f=D.component.scales[h];f&&(x=void 0===x?f.getWithExplicit("domains"):
eg(x,f.getWithExplicit("domains"),"domains","scale",$k),f=f.get("selectionExtent"),a&&f&&a.param!==f.param&&za("The same selection must be used to override scale domains in a layered view."),a=f)}d[h].setWithExplicit("domains",x);a&&d[h].set("selectionExtent",a,!0)}}function gk(c,a,d){return c.map(f=>({signal:`{data: ${mf(f,{timeUnit:d,type:a})}}`}))}function Nj(c,a,d){let f;d=null==(f=ae(d))?void 0:f.unit;return"temporal"===a||d?gk(c,a,d):[c]}function Vi(c,a,d,f){var {encoding:h}=d;h=ne(h[f]);const {type:x}=
h,D=h.timeUnit;if(null==a?0:a.unionWith)return f=Vi(c,void 0,d,f),a=Nj(a.unionWith,x,D),Kg([...a,...f.value]);if(Zb(a))return Kg([a]);if(a&&"unaggregated"!==a&&(null==a||!a.param))return Kg(Nj(a,x,D));var da=d.stack;if(da&&f===da.fieldChannel){if("normalize"===da.offset)return Xf([[0,1]]);a=d.requestDataName(Hg.Main);return Xf([{data:a,field:d.vgField(f,{suffix:"start"})},{data:a,field:d.vgField(f,{suffix:"end"})}])}da=Ei[f]&&vb(h)?wl(d,f,c):void 0;if(qc(h))return f=Nj([h.datum],x,D),Xf(f);if("unaggregated"===
a)return f=d.requestDataName(Hg.Main),{field:a}=h,Xf([{data:f,field:yd({field:a,aggregate:"min"})},{data:f,field:yd({field:a,aggregate:"max"})}]);if(X(h.bin)){if(Sc(c))return"bin-ordinal"===c?Xf([]):Xf([{data:Da(da)?d.requestDataName(Hg.Main):d.requestDataName(Hg.Raw),field:d.vgField(f,Hf(h,f)?{binSuffix:"range"}:{}),sort:!0!==da&&P.isObject(da)?da:{field:d.vgField(f,{}),op:"min"}}]);({bin:a}=h);if(X(a)){const ra=Ie(d,h.field,a);return Xf([new og(()=>{const Ia=d.getSignalName(ra);return`[${Ia}.start, ${Ia}.stop]`})])}return Xf([{data:d.requestDataName(Hg.Main),
field:d.vgField(f,{})}])}return h.timeUnit&&Yb(["time","utc"],c)&&ka(h,Lg(d)?d.encoding[C(f)]:void 0,d.markDef,d.config)?(a=d.requestDataName(Hg.Main),Xf([{data:a,field:d.vgField(f)},{data:a,field:d.vgField(f,{suffix:"end"})}])):da?Xf([{data:Da(da)?d.requestDataName(Hg.Main):d.requestDataName(Hg.Raw),field:d.vgField(f),sort:da}]):Xf([{data:d.requestDataName(Hg.Main),field:d.vgField(f)}])}function sk(c,a){const {op:d,field:f,order:h}=c;return Object.assign({},{op:null!=d?d:a?"sum":"min"},f?{field:Wb(f)}:
{},h?{order:h}:{})}function wl(c,a,d){if(Sc(d)){var f=c.fieldDef(a);d=f.sort;if(ce(d))return{op:"min",field:ad(f,a),order:"ascending"};({stack:f}=c);var h=f?new Set([...f.groupbyFields,...f.stackBy.map(x=>x.fieldDef.field)]):void 0;if(Vd(d))return c=f&&!h.has(d.field),sk(d,c);if(null!=d&&d.encoding){const {encoding:x,order:D}=d;c=c.fieldDef(x);const {aggregate:da,field:ra}=c;a=f&&!h.has(ra);if(L(da)||va(da))return sk({field:yd(c),order:D},a);if(La(da)||!da)return sk({op:da,field:ra,order:D},a)}else{if("descending"===
d)return{op:"min",field:c.vgField(a),order:"descending"};if(Yb(["ascending",void 0],d))return!0}}}function xl(c,a){const {aggregate:d,type:f}=c;return d?P.isString(d)&&!$l.has(d)?{valid:!1,reason:`Unaggregated domain not applicable for "${d}" since it produces values outside the origin domain of the source data.`}:"quantitative"===f&&"log"===a?{valid:!1,reason:`Unaggregated domain is currently unsupported for log scale (${Ag(c)}).`}:{valid:!0}:{valid:!1,reason:`Using unaggregated domain with raw field has no effect (${Ag(c)}).`}}
function $k(c,a,d,f){if(c.explicit&&a.explicit){var h=a.value;d=`Conflicting ${f.toString()} property "${d.toString()}" (${Ag(c.value)} and ${Ag(h)}). Using the union of the two domains.`;za(d)}return{explicit:c.explicit,value:[...c.value,...a.value]}}function gh(c){var a=Lb(c.map(h=>Pd(h)?(h=Object.assign({},h),delete h.sort,h):h),Bb),d=Lb(c.map(h=>{if(Pd(h))return h=h.sort,void 0===h||Da(h)||("op"in h&&"count"===h.op&&delete h.field,"ascending"===h.order&&delete h.order),h}).filter(h=>void 0!==
h),Bb);if(0!==a.length){if(1===a.length){a=c[0];if(Pd(a)&&0<d.length){var f=d[0];1<d.length?(za("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),f=d.filter(h=>P.isObject(h)&&"op"in h&&"min"!==h.op),f=d.every(h=>P.isObject(h)&&"op"in h)&&1===f.length?f[0]:!0):P.isObject(f)&&"field"in f&&a.field===f.field&&(f=f.order?{order:f.order}:!0);return Object.assign({},a,{sort:f})}return a}d=Lb(d.map(h=>{if(Da(h)||!("op"in h)||P.isString(h.op)&&h.op in Uk)return h;
za(`Dropping sort property ${Ag(h)} as unioned domains only support boolean or op "count", "min", and "max".`);return!0}),Bb);1===d.length?f=d[0]:1<d.length&&(za("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),f=!0);d=Lb(c.map(h=>Pd(h)?h.data:null),h=>h);return 1===d.length&&null!==d[0]?Object.assign({},{data:d[0],fields:a.map(h=>h.field)},f?{sort:f}:{}):Object.assign({},{fields:a},f?{sort:f}:{})}}function Hk(c){if(Pd(c)&&P.isString(c.field))return c.field;
var a=P.isArray(c)?!1:"fields"in c&&!("data"in c);if(a){let d;for(const f of c.fields)if(Pd(f)&&P.isString(f.field))if(!d)d=f.field;else if(d!==f.field)return za("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),d;za("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");
return d}a=P.isArray(c)?!1:"fields"in c&&"data"in c;if(a)return za("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),c=c.fields[0],P.isString(c)?c:void 0}function vj(c,a){a=c.component.scales[a].get("domains").map(d=>{Pd(d)&&(d.data=c.lookupDataSource(d.data));return d});return gh(a)}function Ik(c){return Xi(c)||gj(c)?c.children.reduce((a,d)=>a.concat(Ik(d)),Qj(c)):Qj(c)}function Qj(c){return ie(c.component.scales).reduce((a,
d)=>{var f=c.component.scales[d];if(f.merged)return a;var h=f.combine(),x=Object.assign({},h);const D=h.name,da=h.type;var ra=h.selectionExtent;const Ia=h.reverse;x=(delete x.name,delete x.type,delete x.selectionExtent,delete x.domains,delete x.range,delete x.reverse,x);h=h.range;V(d)?Rc(h)&&(h={step:{signal:`${D}_step`}}):P.isObject(h)&&Pd(h)&&(h=Object.assign({},h,{data:c.lookupDataSource(h.data)}));d=vj(c,d);ra?(ra=Dg(c,ra.param,ra),f={signal:gd(f.get("type"))&&P.isArray(d)&&d[0]>d[1]?`isValid(${ra}) && reverse(${ra})`:
ra}):f=null;a.push(Object.assign({},{name:D,type:da},d?{domain:d}:{},f?{domainRaw:f}:{},{range:h},void 0!==Ia?{reverse:Ia}:{},x));return a},[])}function hl(c,a){var d=c.fieldDef(a);if(null==d?0:d.bin){const {bin:f,field:h}=d;d=B(a);const x=c.getName(d);if(P.isObject(f)&&f.binned&&void 0!==f.step)return new og(()=>{var D=c.scaleName(a);D=`(domain("${D}")[1] - domain("${D}")[0]) / ${f.step}`;return`${c.getSignalName(x)} / (${D})`});if(X(f)){const D=Ie(c,h,f);return new og(()=>{var da=c.getSignalName(D);
da=`(${da}.stop - ${da}.start) / ${da}.step`;return`${c.getSignalName(x)} / (${da})`})}}}function il(c,a){const d=a.specifiedScales[c];var {size:f}=a,h=a.getScaleComponent(c).get("type");for(var x of bj)if(void 0!==d[x]){const ra=ee(h,x),Ia=Sa(c,x);if(ra)if(Ia)za(Ia);else switch(x){case "range":h=d.range;if(P.isArray(h)){if(V(c))return Kg(h.map(hb=>{if("width"===hb||"height"===hb){hb=a.getName(hb);const Ob=a.getSignalName.bind(a);return og.fromName(Ob,hb)}return hb}))}else if(P.isObject(h))return Kg({data:a.requestDataName(Hg.Main),
field:h.field,sort:{op:"min",field:a.vgField(c)}});return Kg(h);case "scheme":return Kg(hk(d[x]))}else za(Ud(h,x,c))}x="x"===c||"xOffset"===c?"width":"height";f=f[x];if(nf(f))if(V(c))if(Sc(h)){if(f=bi(f,a,c))return Kg({step:f})}else za(Ve(x));else if(c in hj&&"band"===a.getScaleComponent("xOffset"===c?"x":"y").get("type")&&(f=dl(f,h)))return Kg(f);const {rangeMin:D,rangeMax:da}=d;c=wi(c,a);return(void 0!==D||void 0!==da)&&ee(h,"rangeMin")&&P.isArray(c)&&2===c.length?Kg([null!=D?D:c[0],null!=da?da:
c[1]]):Xf(c)}function hk(c){return!P.isString(c)&&c.name?Object.assign({},{scheme:c.name},uc(c,["name"])):{scheme:c}}function wi(c,a){const {size:d,config:f,mark:h,encoding:x}=a;var D=a.getSignalName.bind(a),{type:da}=ne(x[c]);const ra=a.getScaleComponent(c).get("type"),{domain:Ia,domainMid:hb}=a.specifiedScales[c];switch(c){case "x":case "y":if(Yb(["point","band"],ra)&&(da=Oj(c,d,f.view),nf(da)))return{step:bi(da,a,c)};da=B(c);da=a.getName(da);return"y"===c&&gd(ra)?[og.fromName(D,da),0]:[0,og.fromName(D,
da)];case "xOffset":case "yOffset":return Hl(c,a,ra);case "size":return D=a.component.scales[c].get("zero"),D=ik(h,D,f),da=jk(h,d,a,f),di.has(ra)?qg(D,da,zk(ra,f,Ia,c)):[D,da];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,new og(()=>{const Ob=a.getSignalName("width"),tc=a.getSignalName("height");return`min(${Ob},${tc})/2`})];case "strokeWidth":return[f.scale.minStrokeWidth,f.scale.maxStrokeWidth];case "strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";
case "color":case "fill":case "stroke":return"ordinal"===ra?"nominal"===da?"category":"ordinal":void 0!==hb?"diverging":"rect"===h||"geoshape"===h?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[f.scale.minOpacity,f.scale.maxOpacity]}}function bi(c,a,d){var {encoding:f}=a,h=a.getScaleComponent(d);d=E(d);const x=f[d];if("offset"===yf({step:c,offsetIsDiscrete:Hc(x)&&Pc(x.type)})&&Eg(f,d)){f=a.getScaleComponent(d);a=`domain('${a.scaleName(d)}').length`;if("band"===f.get("type")){var D;
let Ia;d=null!=(Ia=null!=(D=f.get("paddingInner"))?D:f.get("padding"))?Ia:0;var da;let hb;D=null!=(hb=null!=(da=f.get("paddingOuter"))?da:f.get("padding"))?hb:0;a=`bandspace(${a}, ${d}, ${D})`}var ra;da=null!=(ra=h.get("paddingInner"))?ra:h.get("padding");c=c.step;h=a;ra=da;ra=Zb(ra)?ra.signal:P.stringValue(ra);return{signal:`${c} * ${h} / (1-${ra})`}}return c.step}function dl(c,a){if("offset"===yf({step:c,offsetIsDiscrete:Sc(a)}))return{step:c.step}}function Hl(c,a,d){const f="xOffset"===c?"x":"y",
h=a.getScaleComponent(f).get("type"),x=a.scaleName(f);if("band"===h)return a=Oj(f,a.size,a.config.view),nf(a)&&(a=dl(a,d))?a:[0,{signal:`bandwidth('${x}')`}];d=a.encoding[f];return vb(d)&&d.timeUnit?(c=kf(d.timeUnit,D=>`scale('${x}', ${D})`),(d=a.config.scale.bandWithNestedOffsetPaddingInner)?(a=Zb(d)?`${d.signal}/2`:`${d/2}`,d=Zb(d)?`(1 - ${d.signal}/2)`:`${1-d/2}`,[{signal:`${a} * (${c})`},{signal:`${d} * (${c})`}]):[0,{signal:c}]):vc(`Cannot use ${c} scale if ${f} scale is not discrete.`)}function Oj(c,
a,d){c="x"===c?"width":"height";return(a=a[c])?a:Cf(d,c)}function zk(c,a,d,f){switch(c){case "quantile":return a.scale.quantileCount;case "quantize":return a.scale.quantizeCount;case "threshold":if(void 0!==d&&P.isArray(d))return d.length+1;za(`Domain for ${f} is required for threshold scale.`);return 3}}function qg(c,a,d){const f=()=>{const h=cc(a),x=cc(c),D=`(${h} - ${x}) / (${d} - 1)`;return`sequence(${x}, ${h} + ${D}, ${D})`};return Zb(a)?new og(f):{signal:f()}}function ik(c,a,d){if(a)return Zb(a)?
{signal:`${a.signal} ? 0 : ${ik(c,!1,d)}`}:0;switch(c){case "bar":case "tick":return d.scale.minBandSize;case "line":case "trail":case "rule":return d.scale.minStrokeWidth;case "text":return d.scale.minFontSize;case "point":case "square":case "circle":return d.scale.minSize}throw Error(Zd("size",c));}function jk(c,a,d,f){d={x:hl(d,"x"),y:hl(d,"y")};switch(c){case "bar":case "tick":if(void 0!==f.scale.maxBandSize)return f.scale.maxBandSize;const h=Gi(a,d,f.view);return P.isNumber(h)?h-1:new og(()=>
`${h.signal} - 1`);case "line":case "trail":case "rule":return f.scale.maxStrokeWidth;case "text":return f.scale.maxFontSize;case "point":case "square":case "circle":if(f.scale.maxSize)return f.scale.maxSize;const x=Gi(a,d,f.view);return P.isNumber(x)?Math.pow(.95*x,2):new og(()=>`pow(${.95} * ${x.signal}, 2)`)}throw Error(Zd("size",c));}function Gi(c,a,d){const f=nf(c.width)?c.width.step:ig(d,"width"),h=nf(c.height)?c.height.step:ig(d,"height");return a.x||a.y?new og(()=>`min(${[a.x?a.x.signal:f,
a.y?a.y.signal:h].join(", ")})`):Math.min(f,h)}function Hi(c,a){if(Lg(c)){const D=c.component.scales,{config:da,encoding:ra,markDef:Ia,specifiedScales:hb}=c;for(const Ob of ie(D)){var d=hb[Ob];const tc=D[Ob];var f=c.getScaleComponent(Ob),h=ne(ra[Ob]),x=d[a];const md=f.get("type"),Jc=f.get("padding");f=f.get("paddingInner");const bd=ee(md,a),pd=Sa(Ob,a);void 0!==x&&(bd?pd&&za(pd):za(Ud(md,a,Ob)));if(bd&&void 0===pd)if(void 0!==x)switch(x=h.timeUnit,h=h.type,a){case "domainMax":case "domainMin":Hb(d[a])||
"temporal"===h||x?tc.set(a,{signal:mf(d[a],{type:h,timeUnit:x})},!0):tc.set(a,d[a],!0);break;default:tc.copyKeyFromObject(a,d)}else d=a in pl?pl[a]({model:c,channel:Ob,fieldOrDatumDef:h,scaleType:md,scalePadding:Jc,scalePaddingInner:f,domain:d.domain,domainMin:d.domainMin,domainMax:d.domainMax,markDef:Ia,config:da,hasNestedOffsetScale:hg(ra,Ob),hasSecondaryRangeChannel:!!ra[C(Ob)]}):da.scale[a],void 0!==d&&tc.set(a,d,!1)}}else tj(c,a)}function Ii(c){if(Lg(c)){const a=c.component.scales;for(const d of dj){const f=
a[d];if(!f)continue;const h=il(d,c);f.setWithExplicit("range",h)}}else tj(c,"range")}function tj(c,a){const d=c.component.scales;for(var f of c.children)"range"===a?Ii(f):Hi(f,a);for(const h of ie(d)){let x;for(const D of c.children)if(f=D.component.scales[h])f=f.getWithExplicit(a),x=eg(x,f,a,"scale",Ff((da,ra)=>{switch(a){case "range":if(da.step&&ra.step)return da.step-ra.step}return 0}));d[h].setWithExplicit(a,x)}}function Pj(c,a){const d=a.bin;if(X(d)){const f=Ie(c,a.field,d);return new og(()=>
c.getSignalName(f))}if(Ca(d)&&P.isObject(d)&&void 0!==d.step)return{step:d.step}}function Wi(c,a,d,f,h){let x=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===c){if(V(a)){const {bandPaddingInner:D,barBandPaddingInner:da,rectBandPaddingInner:ra,bandWithNestedOffsetPaddingInner:Ia}=h;return x?Ia:Fa(D,"bar"===d?da:ra)}if(a in hj&&f===Bg.BAND)return h.offsetBandPaddingInner}}function Il(c,a,d,f,h){let x=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===c)if(V(a)){const {bandPaddingOuter:D,
bandWithNestedOffsetPaddingOuter:da}=h;if(x)return da;if(d===Bg.BAND)return Fa(D,Zb(f)?{signal:`${f.signal}/2`}:f/2)}else if(a in hj){if(d===Bg.POINT)return.5;if(d===Bg.BAND)return h.offsetBandPaddingOuter}}function uj(c,a,d,f){const h=kk(a,d,f,4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1),{type:x}=c;if(!Ei[a])return null;if(void 0!==x){if(!eb(a,x))return za(`Channel "${a}" does not work with "${x}" scale. We are using "${h}" scale instead.`),h;var D;if(D=vb(d))D=d.type,D=!(Yb(["ordinal",
"nominal"],D)?void 0===x||Sc(x):"temporal"===D?Yb([Bg.TIME,Bg.UTC,void 0],x):"quantitative"===D?zj.has(x)||di.has(x)||void 0===x:1);return D?(za(`FieldDef does not work with "${x}" scale. We are using "${h}" scale instead.`),h):x}return h}function kk(c,a,d,f){switch(a.type){case "nominal":case "ordinal":if(Q(c)||"discrete"===t(c))return"shape"===c&&"ordinal"===a.type&&za(de(c,"ordinal")),"ordinal";if(V(c)||c in hj){if(Yb(["rect","bar","image","rule"],d.type)||f)return"band"}else if("arc"===d.type&&
c in ok)return"band";c=d[B(c)];if(Uc(c))return"band";let h;return Kd(a)&&(null==(h=a.axis)?0:h.tickBand)?"band":"point";case "temporal":if(!Q(c)){if("discrete"===t(c))return za(de(c,"temporal")),"ordinal";if(vb(a)&&a.timeUnit&&ae(a.timeUnit).utc)return"utc"}return"time";case "quantitative":if(Q(c)){if(vb(a)&&X(a.bin))return"bin-ordinal"}else if("discrete"===t(c))return za(de(c,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error(`Invalid field type "${a.type}".`);}function lk(c){let {ignoreRange:a}=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Ji(c);Lg(c)?sj(c):Mj(c);for(const d of fi)Hi(c,d);a||Ii(c)}function Ji(c){if(Lg(c)){var a=c.component;const {encoding:ra,mark:Ia,markDef:hb}=c;var d={};for(var f of dj){var h=ne(ra[f]);if(!h||Ia!==Rk||"shape"!==f||"geojson"!==h.type){var x=h&&h.scale;if(f in hj){var D=H(f);if(!hg(ra,D)){x&&za(`${f} encoding has no scale, so specified scale is ignored.`);continue}}h&&null!==x&&!1!==x&&(null!=x||(x={}),D=hg(ra,f),h=uj(x,f,h,hb,D),d[f]=new $f(c.scaleName(`${f}`,
!0),{value:h,explicit:x.type===h}))}}a.scales=d}else{f=c.component;x=c.component.scales={};h={};const ra=c.component.resolve;for(D of c.children){Ji(D);for(var da of ie(D.component.scales)){let Ia,hb;null!=(Ia=ra.scale)[hb=da]||(Ia[hb]=fd(da,c));if("shared"===ra.scale[da]){const Ob=h[da],tc=D.component.scales[da].getWithExplicit("type");if(Ob){const md=Li[Ob.value],Jc=Li[tc.value];md===Jc||"ordinal-position"===md&&"time"===Jc||"ordinal-position"===Jc&&"time"===md?h[da]=eg(Ob,tc,"type","scale",Jm):
(ra.scale[da]="independent",delete h[da])}else h[da]=tc}}}for(a of ie(h)){D=c.scaleName(a,!0);x[a]=new $f(D,h[a]);for(d of c.children)if(da=d.component.scales[a])d.renameScale(da.get("name"),D),da.merged=!0}f.scales=x}}function Lg(c){return"unit"===(null==c?void 0:c.type)}function Rh(c){return"facet"===(null==c?void 0:c.type)}function gj(c){return"concat"===(null==c?void 0:c.type)}function Xi(c){return"layer"===(null==c?void 0:c.type)}function Hj(c){function a(f,h){f instanceof tb&&!(f.isGenerator||
"url"in f.data)&&(c.push(h),h={name:null,source:h.name,transform:[]});if(f instanceof n)if(f.parent instanceof tb&&!h.source){var x;h.format=Object.assign({},null!=(x=h.format)?x:{},{parse:f.assembleFormatParse()});h.transform.push(...f.assembleTransforms(!0))}else h.transform.push(...f.assembleTransforms());if(f instanceof e)h.name||(h.name=`data_${d++}`),!h.source||0<h.transform.length?(c.push(h),f.data=h.name):f.data=h.source,c.push(...f.assemble());else switch((f instanceof oa||f instanceof Ba||
f instanceof Cl||f instanceof qj||f instanceof ej||f instanceof Dl||f instanceof b||f instanceof El||f instanceof pf||f instanceof cf||f instanceof mm||f instanceof nm||f instanceof om||f instanceof pm||f instanceof qm||f instanceof rm||f instanceof K||f instanceof sm||f instanceof tm||f instanceof um)&&h.transform.push(f.assemble()),(f instanceof li||f instanceof ah||f instanceof Gk||f instanceof $e||f instanceof cl)&&h.transform.push(...f.assemble()),f instanceof rh&&(h.source&&0===h.transform.length?
f.setSource(h.source):f.parent instanceof rh?f.setSource(h.name):(h.name||(h.name=`data_${d++}`),f.setSource(h.name),1===f.numChildren()&&(c.push(h),h={name:null,source:h.name,transform:[]}))),f.numChildren()){case 0:f instanceof rh&&(!h.source||0<h.transform.length)&&c.push(h);break;case 1:a(f.children[0],h);break;default:h.name||(h.name=`data_${d++}`);x=h.name;!h.source||0<h.transform.length?c.push(h):x=h.source;for(const D of f.children)a(D,{name:null,source:x,transform:[]})}}let d=0;return a}
function Ml(c){const a=[],d=Hj(a);for(const f of c.children)d(f,{source:c.name,name:null,transform:[]});return a}function al(c,a){const d=[];var f=Hj(d);let h=0;for(const x of c.sources){x.hasName()||(x.dataName=`source_${h++}`);const D=x.assemble();f(x,D)}for(const x of d)0===x.transform.length&&delete x.transform;f=0;for(const x of d.entries()){const [D,da]=x;let ra;0!==(null!=(ra=da.transform)?ra:[]).length||da.source||d.splice(f++,0,d.splice(D,1)[0])}for(const x of d){let D;for(const da of null!=
(D=x.transform)?D:[])"lookup"===da.type&&(da.from=c.outputNodes[da.from].getSource())}for(const x of d)x.name in a&&(x.values=a[x.name]);return d}function Ak(c,a,d){a="row"===a?"height":"width";return{labels:d,sizeSignal:c.child.component.layoutSize.get(a)?c.child.getSizeSignalRef(a):void 0,axes:[]}}function Ij(c,a){var {child:d}=c;if(d.component.axes[a]){const {layoutHeaders:f,resolve:h}=c.component;h.axis[a]=mc(h,a);if("shared"===h.axis[a]){const x="x"===a?"column":"row",D=f[x];for(const da of d.component.axes[a]){a=
da.get("orient");a="top"===a||"left"===a||Zb(a)?"header":"footer";let ra,Ia;null!=(ra=D)[Ia=a]||(ra[Ia]=[Ak(c,x,!1)]);(d=ui(da,"main",c.config,{header:!0}))&&D[a][0].axes.push(d);da.mainExtracted=!0}}}}function Jj(c){for(const a of c.children)a.parseLayoutSize()}function Uj(c,a){const d=Mc(a),f=Aa(d),h=c.component.resolve,x=c.component.layoutSize;let D;for(const da of c.children){const ra=da.component.layoutSize.getWithExplicit(d);let Ia;const hb=null!=(Ia=h.scale[f])?Ia:fd(f,c);if("independent"===
hb&&"step"===ra.value){D=void 0;break}if(D){if("independent"===hb&&D.value!==ra.value){D=void 0;break}D=eg(D,ra,d,"")}else D=ra}if(D){for(const da of c.children)c.renameSignal(da.getName(d),c.getName(a)),da.component.layoutSize.set(d,"merged",!1);x.setWithExplicit(a,D)}else x.setWithExplicit(a,{explicit:!1,value:void 0})}function am(c,a){const d=c.config;var f=c.getScaleComponent("width"===a?"x":"y");if(f)return c=f.get("type"),f=f.get("range"),Sc(c)?(a=Cf(d.view,a),Rc(f)||nf(a)?"step":a):xg(d.view,
a);if(c.hasProjection||"arc"===c.mark)return xg(d.view,a);a=Cf(d.view,a);return nf(a)?a.step:a}function Pk(c,a,d){return yd(a,Object.assign({},{suffix:`by_${yd(c)}`},null!=d?d:{}))}function yl(c,a){for(const f of a){a=f.data;if(c.name&&f.hasName()&&c.name!==f.dataName)continue;let h;const x=null==(h=c.format)?void 0:h.mesh;let D;var d=null==(D=a.format)?void 0:D.feature;if(x&&d)continue;let da;const ra=null==(da=c.format)?void 0:da.feature;if((ra||d)&&ra!==d)continue;let Ia;d=null==(Ia=a.format)?
void 0:Ia.mesh;if(!x&&!d||x===d)if("values"in c&&"values"in a){if(ci(c.values,a.values))return f}else if("url"in c&&"url"in a){if(c.url===a.url)return f}else if(Yf(c)&&c.name===f.dataName)return f}return null}function Ok(c,a){if(c.data||!c.parent){if(null===c.data)return c=new tb({values:[]}),a.push(c),c;const d=yl(c.data,a);if(d)return S(c.data)||(d.data.format=Kb({},c.data.format,d.data.format)),!d.hasName()&&c.data.name&&(d.dataName=c.data.name),d;c=new tb(c.data);a.push(c);return c}return c.parent.component.data.facetRoot?
c.parent.component.data.facetRoot:c.parent.component.data.main}function Bk(c){var a=Ok(c,c.component.data.sources);const {outputNodes:d,outputNodeRefCounts:f}=c.component.data;var h=c.data;const x=h&&(S(h)||"url"in h||"values"in h)||!c.parent?new nj:c.parent.component.data.ancestorParse.clone();if(S(h))"sequence"in h?a=new Ba(a,h.sequence):"graticule"in h&&(a=new oa(a,h.graticule)),x.parseNothing=!0;else{let we;null===(null==h?void 0:null==(we=h.format)?void 0:we.parse)&&(x.parseNothing=!0)}var D;
a=null!=(D=n.makeExplicit(a,c,x))?D:a;a=new K(a);h=c.parent&&Xi(c.parent);if((Lg(c)||Rh(c))&&h){var da;a=null!=(da=li.makeFromEncoding(a,c))?da:a}if(0<c.transforms.length){da=0;for(var ra of c.transforms){var Ia=D=void 0;if("calculate"in ra)Ia=a=new ej(a,ra),D="derived";else if("filter"in ra){Ia=pg(ra);var hb=void 0;Ia=a=null!=(hb=n.makeWithAncestors(a,{},Ia,x))?hb:a;a=new qj(a,c,ra.filter)}else if("bin"in ra)Ia=a=li.makeFromTransform(a,ra,c),D="number";else if("timeUnit"in ra)D="date",void 0===x.getWithExplicit(ra.field).value&&
(a=new n(a,{[ra.field]:D}),x.set(ra.field,D,!1)),Ia=a=ah.makeFromTransform(a,ra);else if("aggregate"in ra)Ia=a=b.makeFromTransform(a,ra),D="number",vg(c)&&(a=new K(a));else if("lookup"in ra)Ia=a=El.make(a,c,ra,da++),D="derived";else if("window"in ra)Ia=a=new pf(a,ra),D="number";else if("joinaggregate"in ra)Ia=a=new cf(a,ra),D="number";else if("stack"in ra)Ia=a=$e.makeFromTransform(a,ra),D="derived";else if("fold"in ra)Ia=a=new mm(a,ra),D="derived";else if("extent"in ra&&!("density"in ra))Ia=a=new um(a,
ra),D="derived";else if("flatten"in ra)Ia=a=new nm(a,ra),D="derived";else if("pivot"in ra)Ia=a=new tm(a,ra),D="derived";else if("sample"in ra)a=new sm(a,ra);else if("impute"in ra)Ia=a=Gk.makeFromTransform(a,ra),D="derived";else if("density"in ra)Ia=a=new om(a,ra),D="derived";else if("quantile"in ra)Ia=a=new qm(a,ra),D="derived";else if("regression"in ra)Ia=a=new rm(a,ra),D="derived";else if("loess"in ra)Ia=a=new pm(a,ra),D="derived";else{za(`Ignoring an invalid transform: ${Ag(ra)}.`);continue}if(Ia&&
void 0!==D){let we;for(const Re of null!=(we=Ia.producedFields())?we:[])x.set(Re,D,!1)}}}ra={};if(Lg(c)&&c.component.selection)for(var Ob of ie(c.component.selection)){hb=c.component.selection[Ob];for(const we of hb.project.items)!we.channel&&1<Z(we.field)&&(ra[we.field]="flatten")}Ob=Qg(c);var tc;a=null!=(tc=n.makeWithAncestors(a,{},Object.assign({},ra,Ob),x))?tc:a;Lg(c)&&(a=cl.parseAll(a,c),a=Dl.parseAll(a,c));if(Lg(c)||Rh(c)){if(!h){let we;a=null!=(we=li.makeFromEncoding(a,c))?we:a}var md;a=null!=
(md=ah.makeFromEncoding(a,c))?md:a;a=ej.parseAllForSortIndex(a,c)}md=c.getDataName(Hg.Raw);tc=new rh(a,md,Hg.Raw,f);a=d[md]=tc;if(Lg(c)){if(md=b.makeFromEncoding(a,c))a=md,vg(c)&&(a=new K(a));var Jc;a=null!=(Jc=Gk.makeFromEncoding(a,c))?Jc:a;var bd;a=null!=(bd=$e.makeFromEncoding(a,c))?bd:a}if(Lg(c)){let we;a=null!=(we=Cl.make(a,c))?we:a}bd=c.getDataName(Hg.Main);Jc=new rh(a,bd,Hg.Main,f);a=d[bd]=Jc;if(Lg(c)){var pd;for(var je of Ki(null!=(pd=c.component.selection)?pd:{})){const [we,Re]=je;pd=c.getName(`lookup_${we}`);
c.component.data.outputNodes[pd]=Re.materialized=new rh(new qj(Jc,c,{param:we}),pd,Hg.Lookup,c.component.data.outputNodeRefCounts)}}pd=null;if(Rh(c)){je=c.getName("facet");let we;{pd=a;const {row:Re,column:gf}=c.facet;if(Re&&gf){bd=null;for(Nd of[Re,gf])if(Vd(Nd.sort)){const {field:Tf,op:Sf="min"}=Nd.sort;pd=bd=new cf(pd,{joinaggregate:[{op:Sf,field:Tf,as:Pk(Nd,Nd.sort,{forAs:!0})}],groupby:[yd(Nd)]})}var Nd=bd}else Nd=null}a=null!=(we=Nd)?we:a;pd=new e(a,c,je,Jc.getSource());d[je]=pd}return Object.assign({},
c.component.data,{outputNodes:d,outputNodeRefCounts:f,raw:tc,main:Jc,facetRoot:pd,ancestorParse:x})}function Ll(c,a,d){const {encoding:f,config:h}=c;let x;const D=null!=(x=ne(f[a]))?x:ne(f[C(a)]);c=c.axis(a)||{};const {format:da,formatType:ra}=c;if(ye(ra))return Object.assign({},{text:ef({fieldOrDatumDef:D,field:"datum.value",format:da,formatType:ra,config:h})},d);if(void 0===da&&void 0===ra&&h.customFormatTypes){if("quantitative"===pc(D)){if(Kd(D)&&"normalize"===D.stack&&h.normalizedNumberFormatType)return Object.assign({},
{text:ef({fieldOrDatumDef:D,field:"datum.value",format:h.normalizedNumberFormat,formatType:h.normalizedNumberFormatType,config:h})},d);if(h.numberFormatType)return Object.assign({},{text:ef({fieldOrDatumDef:D,field:"datum.value",format:h.numberFormat,formatType:h.numberFormatType,config:h})},d)}if("temporal"===pc(D)&&h.timeFormatType&&vb(D)&&!D.timeUnit)return Object.assign({},{text:ef({fieldOrDatumDef:D,field:"datum.value",format:h.timeFormat,formatType:h.timeFormatType,config:h})},d)}return d}function bm(c){return oi.reduce((a,
d)=>{c.component.scales[d]&&(a[d]=[dm(d,c)]);return a},{})}function Ol(c,a){if(c){if(c.length!==a.length)return;const d=c.length;for(let f=0;f<d;f++){const h=c[f],x=a[f];if(!!h!==!!x)return;if(h&&x){const D=h.getWithExplicit("orient"),da=x.getWithExplicit("orient");if(D.explicit&&da.explicit&&D.value!==da.value)return;c[f]=cm(h,x)}}}else return a.map(d=>d.clone());return c}function cm(c,a){for(const d of Bm){const f=eg(c.getWithExplicit(d),a.getWithExplicit(d),d,"axis",(h,x)=>{switch(d){case "title":return sa(h,
x);case "gridScale":return{explicit:h.explicit,value:Fa(h.value,x.value)}}return Mh(h,x,d,"axis")});c.setWithExplicit(d,f)}return c}function ol(c,a,d,f,h){if("disable"===a)return void 0!==d;d=d||{};switch(a){case "titleAngle":case "labelAngle":return c===(Zb(d.labelAngle)?d.labelAngle:na(d.labelAngle));case "values":return!!d.values;case "encode":return!!d.encoding||!!d.labelAngle;case "title":if(c===Sd(f,h))return!0}return c===d[a]}function dm(c,a){let d=a.axis(c);const f=new Cm;var h=ne(a.encoding[c]);
const {mark:x,config:D}=a;var da,ra,Ia,hb=(null==(da=d)?void 0:da.orient)||(null==(ra=D["x"===c?"axisX":"axisY"])?void 0:ra.orient)||(null==(Ia=D.axis)?void 0:Ia.orient)||("x"===c?"bottom":"left");ra=a.getScaleComponent(c).get("type");da=Oa(c,ra,hb,a.config);var Ob;Ia=void 0!==d?!d:Eb("disable",D.style,null==(Ob=d)?void 0:Ob.style,da).configValue;f.set("disable",Ia,void 0!==d);if(Ia)return f;d=d||{};Ob=Sb(h,d,c,D.style,da);Ia=Ec(d.formatType,h,ra);const tc=od(h,h.type,d.format,d.formatType,D,!0);
h={fieldOrDatumDef:h,axis:d,channel:c,model:a,scaleType:ra,orient:hb,labelAngle:Ob,format:tc,formatType:Ia,mark:x,config:D};for(const bd of Bm)if(hb=bd in bk?bk[bd](h):ih[bd]?d[bd]:void 0,ra=void 0!==hb,Ob=ol(hb,bd,d,a,c),ra&&Ob)f.set(bd,hb,Ob);else{const {configValue:pd,configFrom:je}=ih[bd]&&"values"!==bd?Eb(bd,D.style,d.style,da):{};Ia=void 0!==pd;ra&&!Ia?f.set(bd,hb,Ob):("vgAxisConfig"!==je||Km.has(bd)&&Ia||Jf(pd)||Zb(pd))&&f.set(bd,pd,!1)}var md;const Jc=null!=(md=d.encoding)?md:{};md=vk.reduce((bd,
pd)=>{if(!f.hasAxisPart(pd))return bd;var je;const Nd=Ed(null!=(je=Jc[pd])?je:{},a);je="labels"===pd?Ll(a,c,Nd):Nd;void 0===je||Qa(je)||(bd[pd]={update:je});return bd},{});Qa(md)||f.set("encode",md,!!d.encoding||void 0!==d.labelAngle);return f}function em(c){let {encoding:a,size:d}=c;for(const f of oi)c=B(f),nf(d[c])&&rc(a[f])&&(delete d[c],za(Ve(c)));return d}function Jk(c,a){var d=Object,f=d.assign,h=sf(c,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),
x=xe("x",c,{defaultPos:"mid"}),D=xe("y",c,{defaultPos:"mid"}),da=qd("size",c),ra=qd("angle",c);c=a?{shape:{value:a}}:qd("shape",c);return f.call(d,{},h,x,D,da,ra,c)}function fm(c){if(Yb([Cg,gi,Vj],c.mark)){var a=bb(c.mark,c.encoding);if(0<a.length)return Kl(c,a)}else if(c.mark===Jh&&(a=ij.some(d=>zc(d,c.markDef,c.config)),c.stack&&!c.fieldDef("size")&&a))return gm(c);return bl(c)}function Kl(c,a){return[{name:c.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+c.requestDataName(Hg.Main),
data:c.requestDataName(Hg.Main),groupby:a}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:bl(c,{fromPrefix:"faceted_path_"})}]}function gm(c){const [a]=bl(c,{fromPrefix:"stack_group_"}),d=c.scaleName(c.stack.fieldChannel),f=function(){return c.vgField(c.stack.fieldChannel,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})};var h=(Ia,hb)=>{hb=[f({prefix:"min",suffix:"start",expr:hb}),f({prefix:"max",suffix:"start",expr:hb}),f({prefix:"min",suffix:"end",
expr:hb}),f({prefix:"max",suffix:"end",expr:hb})];return`${Ia}(${hb.map(Ob=>`scale('${d}',${Ob})`).join(",")})`};let x;"x"===c.stack.fieldChannel?(h=Object.assign({},Ac(a.encode.update,["y","yc","y2","height",...ij]),{x:{signal:h("min","datum")},x2:{signal:h("max","datum")},clip:{value:!0}}),x={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},a.encode.update=Object.assign({},uc(a.encode.update,["y","yc","y2"]),{height:{field:{group:"height"}}})):(h=Object.assign({},Ac(a.encode.update,
["x","xc","x2","width"]),{y:{signal:h("min","datum")},y2:{signal:h("max","datum")},clip:{value:!0}}),x={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},a.encode.update=Object.assign({},uc(a.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}}));for(var D of ij){var da=Yc(D,c.markDef,c.config);a.encode.update[D]?(h[D]=a.encode.update[D],delete a.encode.update[D]):da&&(h[D]=Tb(da));da&&(a.encode.update[D]={value:0})}D=[];var ra;if(0<(null==(ra=c.stack.groupbyChannels)?void 0:
ra.length))for(const Ia of c.stack.groupbyChannels){ra=c.fieldDef(Ia);(da=yd(ra))&&D.push(da);let hb,Ob;((null==(hb=ra)?0:hb.bin)||(null==(Ob=ra)?0:Ob.timeUnit))&&D.push(yd(ra,{binSuffix:"end"}))}h="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((Ia,hb)=>{if(a.encode.update[hb])return Object.assign({},Ia,{[hb]:a.encode.update[hb]});const Ob=Yc(hb,c.markDef,c.config);return void 0!==Ob?Object.assign({},Ia,{[hb]:Tb(Ob)}):Ia},h);
h.stroke&&(h.strokeForeground={value:!0},h.strokeOffset={value:0});return[{type:"group",from:{facet:{data:c.requestDataName(Hg.Main),name:"stack_group_"+c.requestDataName(Hg.Main),groupby:D,aggregate:{fields:[f({suffix:"start"}),f({suffix:"start"}),f({suffix:"end"}),f({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:h},marks:[{type:"group",encode:{update:x},marks:[a]}]}]}function nl(c){const {encoding:a,stack:d,mark:f,markDef:h,config:x}=c;var D=a.order;if(!(!P.isArray(D)&&zd(D)&&
jc(D.value)||!D&&jc(zc("order",h,x)))){if((P.isArray(D)||vb(D))&&!d)return Ha(D,{expr:"datum"});if(oc(f)){const da="horizontal"===h.orient?"y":"x",ra=a[da];if(vb(ra)){D=ra.sort;if(P.isArray(D))return{field:yd(ra,{prefix:da,suffix:"sort_index",expr:"datum"})};if(Vd(D))return{field:yd({aggregate:xf(c.encoding)?D.op:void 0,field:D.field},{expr:"datum"})};if(null!=D&&D.encoding)return c=c.fieldDef(D.encoding),{field:yd(c,{expr:"datum"}),order:D.order};if(null!==D){let Ia;return{field:yd(ra,{binSuffix:(null==
(Ia=c.stack)?0:Ia.impute)?"mid":void 0,expr:"datum"})}}}}}}function bl(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""};const {mark:d,markDef:f,encoding:h,config:x}=c;var D=f.clip;var da=c.getScaleComponent("x");var ra=c.getScaleComponent("y");da=(null==da?0:da.get("selectionExtent"))||(null==ra?0:ra.get("selectionExtent"))?!0:void 0;ra=c.component.projection;D=Fa(D,da,ra&&!ra.isFit?!0:void 0);da=Ic(f);ra=h.key;const Ia=nl(c);var hb;if(c.component.selection){for(var Ob=
hb=ie(c.component.selection).length,tc=c.parent;tc&&0===Ob;)Ob=ie(tc.component.selection).length,tc=tc.parent;hb=Ob?{interactive:0<hb||"geoshape"===c.mark||!!c.encoding.tooltip}:null}else hb=null;Ob=zc("aria",f,x);tc=Fl[d].postEncodingTransform?Fl[d].postEncodingTransform(c):null;return[Object.assign({},{name:c.getName("marks"),type:Fl[d].vgMark},D?{clip:!0}:{},da?{style:da}:{},ra?{key:ra.field}:{},Ia?{sort:Ia}:{},hb?hb:{},!1===Ob?{aria:Ob}:{},{from:{data:a.fromPrefix+c.requestDataName(Hg.Main)},
encode:{update:Fl[d].encodeEntry(c)}},tc?{transform:tc}:{})]}function Qk(c,a,d,f,h){if("facet"in c)return new Gl(c,a,d,h);if("layer"in c)return new Dm(c,a,d,f,h);if(zf(c))return new Em(c,a,d,f,h);if("vconcat"in c||"hconcat"in c||"concat"in c)return new Lm(c,a,d,h);throw Error(Za(c));}function hm(c,a){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};let f=3<arguments.length?arguments[3]:void 0;const h=c.config?yg(c.config):void 0;d=[].concat(c.assembleSelectionData([]),al(c.component.data,
d));const x=c.assembleProjections(),D=c.assembleTitle(),da=c.assembleGroupStyle(),ra=c.assembleGroupEncodeEntry(!0);let Ia=c.assembleLayoutSignals();Ia=Ia.filter(tc=>"width"!==tc.name&&"height"!==tc.name||void 0===tc.value?!0:(a[tc.name]=+tc.value,!1));var hb=Object.assign({},a);const Ob=a.params;hb=(delete hb.params,hb);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},c.description?{description:c.description}:{},hb,D?{title:D}:{},da?{style:da}:{},ra?{encode:{update:ra}}:
{},{data:d},0<x.length?{projections:x}:{},c.assembleGroup([...Ia,...c.assembleSelectionTopLevelSignals([]),...Lf(Ob)]),h?{config:h}:{},f?{usermeta:f}:{})}var ml={exports:{}};(function(c){var a=function(){function d(Ia,hb){return null!=hb&&Ia instanceof hb}function f(Ia,hb,Ob,tc,md){function Jc(Nd,we){if(null===Nd)return null;if(0===we||"object"!=typeof Nd)return Nd;if(d(Nd,D))var Re=new D;else if(d(Nd,da))Re=new da;else if(d(Nd,ra))Re=new ra(function(Nf,Wg){Nd.then(function(Of){Nf(Jc(Of,we-1))},function(Of){Wg(Jc(Of,
we-1))})});else if(f.__isArray(Nd))Re=[];else if(f.__isRegExp(Nd))Re=new RegExp(Nd.source,x(Nd)),Nd.lastIndex&&(Re.lastIndex=Nd.lastIndex);else if(f.__isDate(Nd))Re=new Date(Nd.getTime());else{if(je&&v.isBuffer(Nd))return Re=v.allocUnsafe?v.allocUnsafe(Nd.length):new v(Nd.length),Nd.copy(Re),Re;if(d(Nd,Error))Re=Object.create(Nd);else if("undefined"==typeof tc){var gf=Object.getPrototypeOf(Nd);Re=Object.create(gf)}else Re=Object.create(tc),gf=tc}if(hb){var Tf=bd.indexOf(Nd);if(-1!=Tf)return pd[Tf];
bd.push(Nd);pd.push(Re)}d(Nd,D)&&Nd.forEach(function(Nf,Wg){Wg=Jc(Wg,we-1);Nf=Jc(Nf,we-1);Re.set(Wg,Nf)});d(Nd,da)&&Nd.forEach(function(Nf){Nf=Jc(Nf,we-1);Re.add(Nf)});for(var Sf in Nd){var lg;gf&&(lg=Object.getOwnPropertyDescriptor(gf,Sf));lg&&null==lg.set||(Re[Sf]=Jc(Nd[Sf],we-1))}if(Object.getOwnPropertySymbols)for(Tf=Object.getOwnPropertySymbols(Nd),Sf=0;Sf<Tf.length;Sf++)if(lg=Tf[Sf],gf=Object.getOwnPropertyDescriptor(Nd,lg),!gf||gf.enumerable||md)Re[lg]=Jc(Nd[lg],we-1),gf.enumerable||Object.defineProperty(Re,
lg,{enumerable:!1});if(md)for(Tf=Object.getOwnPropertyNames(Nd),Sf=0;Sf<Tf.length;Sf++)lg=Tf[Sf],gf=Object.getOwnPropertyDescriptor(Nd,lg),gf&&gf.enumerable||(Re[lg]=Jc(Nd[lg],we-1),Object.defineProperty(Re,lg,{enumerable:!1}));return Re}"object"===typeof hb&&(Ob=hb.depth,tc=hb.prototype,md=hb.includeNonEnumerable,hb=hb.circular);var bd=[],pd=[],je="undefined"!=typeof v;"undefined"==typeof hb&&(hb=!0);"undefined"==typeof Ob&&(Ob=Infinity);return Jc(Ia,Ob)}function h(Ia){return Object.prototype.toString.call(Ia)}
function x(Ia){var hb="";Ia.global&&(hb+="g");Ia.ignoreCase&&(hb+="i");Ia.multiline&&(hb+="m");return hb}try{var D=Map}catch(Ia){D=function(){}}try{var da=Set}catch(Ia){da=function(){}}try{var ra=Promise}catch(Ia){ra=function(){}}f.clonePrototype=function(Ia){if(null===Ia)return null;var hb=function(){};hb.prototype=Ia;return new hb};f.__objToStr=h;f.__isDate=function(Ia){return"object"===typeof Ia&&"[object Date]"===h(Ia)};f.__isArray=function(Ia){return"object"===typeof Ia&&"[object Array]"===h(Ia)};
f.__isRegExp=function(Ia){return"object"===typeof Ia&&"[object RegExp]"===h(Ia)};f.__getRegExpFlags=x;return f}();c.exports&&(c.exports=a)})(ml);var im=ib(ml.exports),Nl=ib(function f(a,d){if(a===d)return!0;if(a&&d&&"object"==typeof a&&"object"==typeof d){if(a.constructor!==d.constructor)return!1;var h;if(Array.isArray(a)){var x=a.length;if(x!=d.length)return!1;for(h=x;0!==h--;)if(!f(a[h],d[h]))return!1;return!0}if(a.constructor===RegExp)return a.source===d.source&&a.flags===d.flags;if(a.valueOf!==
Object.prototype.valueOf)return a.valueOf()===d.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===d.toString();var D=Object.keys(a);x=D.length;if(x!==Object.keys(d).length)return!1;for(h=x;0!==h--;)if(!Object.prototype.hasOwnProperty.call(d,D[h]))return!1;for(h=x;0!==h--;)if(x=D[h],!f(a[x],d[x]))return!1;return!0}return a!==a&&d!==d}),Kk=ib(function(a,d){d||(d={});"function"===typeof d&&(d={cmp:d});var f="boolean"===typeof d.cycles?d.cycles:!1,h=d.cmp&&function(D){return function(da){return function(ra,
Ia){return D({key:ra,value:da[ra]},{key:Ia,value:da[Ia]})}}}(d.cmp),x=[];return function ra(da){da&&da.toJSON&&"function"===typeof da.toJSON&&(da=da.toJSON());if(void 0!==da){if("number"==typeof da)return isFinite(da)?""+da:"null";if("object"!==typeof da)return JSON.stringify(da);var Ia;if(Array.isArray(da)){var hb="[";for(Ia=0;Ia<da.length;Ia++)Ia&&(hb+=","),hb+=ra(da[Ia])||"null";return hb+"]"}if(null===da)return"null";if(-1!==x.indexOf(da)){if(f)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");
}var Ob=x.push(da)-1,tc=Object.keys(da).sort(h&&h(da));hb="";for(Ia=0;Ia<tc.length;Ia++){var md=tc[Ia],Jc=ra(da[md]);Jc&&(hb&&(hb+=","),hb+=JSON.stringify(md)+":"+Jc)}x.splice(Ob,1);return"{"+hb+"}"}}(a)});const ci=Nl,rf=im;Set.prototype.toJSON=function(){return`Set(${[...this].map(a=>Kk(a)).join(",")})`};const Ag=Kk,ie=Object.keys,sh=Object.values,Ki=Object.entries;let kj=42;const Lk={theta:1,theta2:1,radius:1,radius2:1},Yi={longitude:1,longitude2:1,latitude:1,latitude2:1},Rj=ie(Yi),pk=Object.assign({},
{x:1,y:1,x2:1,y2:1},Lk,Yi,{xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),Ck={row:1,column:1,facet:1},ai=ie(Ck),ek=Object.assign({},pk,Ck),ni=ie(ek);var qk=Object.assign({},ek),wj=(delete qk.order,delete qk.detail,delete qk.tooltip,qk),xj=Object.assign({},wj);const Sj=(delete xj.row,delete xj.column,delete xj.facet,xj),Mk="x2 y2 latitude2 longitude2 theta2 radius2".split(" "),
yj=ie(pk);var Ch=Object.assign({},pk);const mk=(delete Ch.x,delete Ch.y,delete Ch.x2,delete Ch.y2,delete Ch.xOffset,delete Ch.yOffset,delete Ch.latitude,delete Ch.longitude,delete Ch.latitude2,delete Ch.longitude2,delete Ch.theta,delete Ch.theta2,delete Ch.radius,delete Ch.radius2,Ch),ll=ie(mk),nk={x:1,y:1},oi=ie(nk),ok={theta:1,radius:1},jl=ie(ok),hj={xOffset:1,yOffset:1};var vi=Object.assign({},mk);const Dk=(delete vi.text,delete vi.tooltip,delete vi.href,delete vi.url,delete vi.description,delete vi.detail,
delete vi.key,delete vi.order,vi),jm=ie(Dk),Ei=Object.assign({},nk,ok,hj,Dk),dj=ie(Ei),kl={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"};var Tj=Object.assign({},kl);const Pl=(delete Tj.geoshape,Tj),Ql={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,
sum:1,valid:1,values:1,variance:1,variancep:1},Uk={count:1,min:1,max:1},Vk=new Set(["count","valid","missing","distinct"]),Xk=new Set(["count","sum","distinct","valid","missing"]),$l=new Set("mean average median q1 q3 min max".split(" ")),zl=ie({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,
innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),Yl={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},
ij=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],pi=P.logger(P.Warn);let Zi=pi;const xi="january february march april may june july august september october november december".split(" "),Nk=xi.map(a=>a.substr(0,3)),vl="sunday monday tuesday wednesday thursday friday saturday".split(" "),Vl=vl.map(a=>a.substr(0,3)),rk={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},$i=ie(rk),aj=
{"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},Ih={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Bg={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},Li={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",
time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},yi={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},zj=new Set(["linear","log","pow","sqrt","symlog"]),Sh=new Set([...zj,"time","utc"]),di=new Set(["quantile","quantize","threshold"]),Aj=new Set([...Sh,...di,
"sequential","identity"]),tk=new Set(["ordinal","bin-ordinal","point","band"]);var zi=Object.assign({},{type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1});const ei=(delete zi.type,delete zi.domain,delete zi.range,delete zi.rangeMax,delete zi.rangeMin,delete zi.scheme,zi),fi=ie(ei),bh={arc:"arc",area:"area",bar:"bar",
image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},Ai=bh.arc,gi=bh.area,Jh=bh.bar,Yh=bh.image,Cg=bh.line,Th=bh.point,Xl=bh.rect,lj=bh.rule,mj=bh.text,Bi=bh.tick,Vj=bh.trail,Mi=bh.circle,Ci=bh.square,Rk=bh.geoshape,uk=new Set(ie(bh)),Ej="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),Tk=ie({color:1,filled:1,invalid:1,order:1,
radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),Bj=ie({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),Di={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},Dj={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},Cj=(a,d)=>{switch(d.fieldTitle){case "plain":return a.field;case "functional":{const {aggregate:f,
bin:h,timeUnit:x,field:D}=a;va(f)?a=`${D} for argmax(${f.argmax})`:L(f)?a=`${D} for argmin(${f.argmin})`:(a=x&&!Nc(x)?ae(x):void 0,a=(a=f||(null==a?void 0:a.unit)||(null==a?void 0:a.maxbins)&&"timeunit"||X(h)&&"bin")?`${a.toUpperCase()}(${D})`:D)}return a;default:return Ld(a,d)}};let Fg=Cj;const cj={compatible:!0},Wj={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",
vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},
tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}},vk=["domain","grid","labels","ticks","title"],oj={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",
domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",
tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",
scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},rg={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,
labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,
titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},ih=Object.assign({},rg,{style:1,labelExpr:1,encoding:1}),kh=ie({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});class pj{constructor(a,d){this.name=a;this.run=
d}hasMatchingType(a){return zf(a)?(a=a.mark,(Lc(a)?a.type:a)===this.name):!1}}const Xj=new pj("boxplot",bg),Yj=new pj("errorbar",Vf),km=new pj("errorband",Rg),Zj={};dh("boxplot",bg,["box","median","outliers","rule","ticks"]);dh("errorbar",Vf,["ticks","rule"]);dh("errorband",Rg,["band","borders"]);const Rl=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],ql={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",
titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},rl={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",
labelPadding:"offset"},Sl=ie(ql),Tl=ie(rl),Oh=ie({header:1,headerRow:1,headerColumn:1,headerFacet:1}),xk="size shape fill stroke strokeDash strokeWidth opacity".split(" "),Ul=ie({align:1,bounds:1,center:1,columns:1,spacing:1}),sl={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,minBandSize:.25,timeUnitBandPosition:.5},
circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,minBandSize:.25,timeUnitBandPosition:.5},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,
minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{point:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},
interval:{on:"[mousedown, window:mouseup] \x3e window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] \x3e window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20},normalizedNumberFormat:".0%"},Qi="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),tl={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},
ak={blue:Qi[0],orange:Qi[1],red:Qi[2],teal:Qi[3],green:Qi[4],yellow:Qi[5],purple:Qi[6],pink:Qi[7],brown:Qi[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},Nh=[...Bj,...kh,...Oh,"background","padding","legend","lineBreak","scale","style","title","view"],Wl=new Set(["view",...uk]),Oe="color fontSize background padding facet concat numberFormat numberFormatType normalizedNumberFormat normalizedNumberFormatType timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),
ul=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],line:["point"],tick:["bandSize","thickness"]});class qh{map(a,d){return"facet"in a?this.mapFacet(a,d):"repeat"in a?this.mapRepeat(a,d):"hconcat"in a?this.mapHConcat(a,d):"vconcat"in a?this.mapVConcat(a,d):"concat"in a?this.mapConcat(a,
d):this.mapLayerOrUnit(a,d)}mapLayerOrUnit(a,d){if("layer"in a)return this.mapLayer(a,d);if(zf(a))return this.mapUnit(a,d);throw Error(Za(a));}mapLayer(a,d){return Object.assign({},a,{layer:a.layer.map(f=>this.mapLayerOrUnit(f,d))})}mapHConcat(a,d){return Object.assign({},a,{hconcat:a.hconcat.map(f=>this.map(f,d))})}mapVConcat(a,d){return Object.assign({},a,{vconcat:a.vconcat.map(f=>this.map(f,d))})}mapConcat(a,d){var f=Object.assign({},a);a=a.concat;f=(delete f.concat,f);return Object.assign({},
f,{concat:a.map(h=>this.map(h,d))})}mapFacet(a,d){return Object.assign({},a,{spec:this.map(a.spec,d)})}mapRepeat(a,d){return Object.assign({},a,{spec:this.map(a.spec,d)})}}const ti={zero:1,center:1,normalize:1},Zl=new Set([Ai,Jh,gi,lj,Th,Mi,Ci,Cg,mj,Bi]),yk=new Set([Jh,gi,Ai]);class Yk{constructor(){G(this,"name","path-overlay")}hasMatchingType(a,d){if(zf(a)){const {mark:f,encoding:h}=a;a=Lc(f)?f:{type:f};switch(a.type){case "line":case "rule":case "trail":return!!Vg(a,d[a.type],h);case "area":return!!Vg(a,
d[a.type],h)||!!mh(a,d[a.type])}}return!1}run(a,d,f){var {config:h}=d,x=Object.assign({},a),D=a.params,da=a.projection,ra=a.mark,Ia=a.name;a=a.encoding;x=(delete x.params,delete x.projection,delete x.mark,delete x.name,delete x.encoding,x);a=Ig(a,h);ra=Lc(ra)?ra:{type:ra};const hb=Vg(ra,h[ra.type],a),Ob="area"===ra.type&&mh(ra,h[ra.type]);var tc=Object,md=tc.assign;var Jc=Object.assign({},"area"===ra.type&&void 0===ra.opacity&&void 0===ra.fillOpacity?{opacity:.7}:{},ra);Jc=Object.assign({},Jc);Jc=
(delete Jc.point,delete Jc.line,Jc);Jc=1<ie(Jc).length?Jc:Jc.type;D=[md.call(tc,{},{name:Ia},D?{params:D}:{},{mark:Jc,encoding:uc(a,["shape"])})];Ia=Yg(wh(ra,a,h),a);tc=a;if(Ia){const {fieldChannel:bd,offset:pd}=Ia;tc=Object.assign({},a,{[bd]:Object.assign({},a[bd],pd?{stack:pd}:{})})}tc=uc(tc,["y2","x2"]);Ob&&D.push(Object.assign({},da?{projection:da}:{},{mark:Object.assign({},{type:"line"},Ac(ra,["clip","interpolate","tension","tooltip"]),Ob),encoding:tc}));hb&&D.push(Object.assign({},da?{projection:da}:
{},{mark:Object.assign({},{type:"point",opacity:1,filled:!0},Ac(ra,["clip","tooltip"]),hb),encoding:tc}));da=Object.assign({},x,{layer:D});x=Object;D=x.assign;for(const bd of["line","area","rule","trail"])h[bd]&&(h=Object.assign({},h,{[bd]:uc(h[bd],["point","line"])}));return f(da,D.call(x,{},d,{config:h}))}}class ji{constructor(){G(this,"name","RuleForRangedLine")}hasMatchingType(a){if(zf(a)){const {encoding:d,mark:f}=a;if("line"===f||Lc(f)&&"line"===f.type)for(const h of Mk)if(a=u(h),a=d[a],d[h]&&
(vb(a)&&!Ca(a.bin)||qc(a)))return!0}return!1}run(a,d,f){const {encoding:h,mark:x}=a;var D=!!h.x2;za(`Line mark is for continuous lines and thus cannot be used with ${D&&h.y2?"x2 and y2":D?"x2":"y2"}. We will use the rule mark (line segments) instead.`);return f(Object.assign({},a,{mark:P.isObject(x)?Object.assign({},x,{type:"rule"}):"rule"}),d)}}class Zf extends qh{constructor(){super(...arguments);G(this,"nonFacetUnitNormalizers",[Xj,Yj,km,new Yk,new ji])}map(a,d){if(zf(a)){const f=Af(a.encoding,
"row"),h=Af(a.encoding,"column"),x=Af(a.encoding,"facet");if(f||h||x)return this.mapFacetedUnit(a,d)}return super.map(a,d)}mapUnit(a,d){const {parentEncoding:f,parentProjection:h}=d;var x=si(a.encoding,d.repeater);a=Object.assign({},a,a.name?{name:[d.repeaterPrefix,a.name].filter(D=>D).join("_")}:{},x?{encoding:x}:{});if(f||h)return this.mapUnitWithParentEncodingOrProjection(a,d);x=this.mapLayerOrUnit.bind(this);for(const D of this.nonFacetUnitNormalizers)if(D.hasMatchingType(a,d.config))return D.run(a,
d,x);return a}mapRepeat(a,d){return!P.isArray(a.repeat)&&a.repeat.layer?this.mapLayerRepeat(a,d):this.mapNonLayerRepeat(a,d)}mapLayerRepeat(a,d){var f=Object.assign({},a);const h=a.repeat,x=a.spec;f=(delete f.repeat,delete f.spec,f);const {row:D,column:da,layer:ra}=h,{repeater:Ia={},repeaterPrefix:hb=""}=d;return D||da?this.mapRepeat(Object.assign({},a,{repeat:Object.assign({},D?{row:D}:{},da?{column:da}:{}),spec:{repeat:{layer:ra},spec:x}}),d):Object.assign({},f,{layer:ra.map(Ob=>{var tc=Object.assign({},
Ia,{layer:Ob});Ob=`${(x.name?`${x.name}_`:"")+hb}child__layer_${Ka(Ob)}`;tc=this.mapLayerOrUnit(x,Object.assign({},d,{repeater:tc,repeaterPrefix:Ob}));tc.name=Ob;return tc})})}mapNonLayerRepeat(a,d){var f=a,h=Object.assign({},f);const x=f.repeat,D=f.spec;f=f.data;h=(delete h.repeat,delete h.spec,delete h.data,h);!P.isArray(x)&&a.columns&&(a=uc(a,["columns"]),za(dd("repeat")));const da=[],{repeater:ra={},repeaterPrefix:Ia=""}=d,hb=!P.isArray(x)&&x.row||[ra?ra.row:null],Ob=!P.isArray(x)&&x.column||
[ra?ra.column:null];var tc=P.isArray(x)&&x||[ra?ra.repeat:null];for(const bd of tc)for(const pd of hb)for(const je of Ob){var md={repeat:bd,row:pd,column:je,layer:ra.layer};tc=(D.name?`${D.name}_`:"")+Ia+"child__"+(P.isArray(x)?`${Ka(bd)}`:(x.row?`row_${Ka(pd)}`:"")+(x.column?`column_${Ka(je)}`:""));md=this.map(D,Object.assign({},d,{repeater:md,repeaterPrefix:tc}));md.name=tc;da.push(uc(md,["data"]))}a=P.isArray(x)?a.columns:x.column?x.column.length:1;let Jc;return Object.assign({},{data:null!=(Jc=
D.data)?Jc:f,align:"all"},h,{columns:a,concat:da})}mapFacet(a,d){const {facet:f}=a;le(f)&&a.columns&&(a=uc(a,["columns"]),za(dd("facet")));return super.mapFacet(a,d)}mapUnitWithParentEncodingOrProjection(a,d){const {encoding:f,projection:h}=a,{parentEncoding:x,parentProjection:D,config:da}=d,ra=xh({parentProjection:D,projection:h});d=nh({parentEncoding:x,encoding:si(f,d.repeater)});return this.mapUnit(Object.assign({},a,ra?{projection:ra}:{},d?{encoding:d}:{}),{config:da})}mapFacetedUnit(a,d){var f=
a.encoding,h=Object.assign({},f),x=f.row;const D=f.column;f=f.facet;const da=(delete h.row,delete h.column,delete h.facet,h);var ra=Object.assign({},a);h=a.mark;const Ia=a.width,hb=a.projection,Ob=a.height,tc=a.view;a=a.params;ra=(delete ra.mark,delete ra.width,delete ra.projection,delete ra.height,delete ra.view,delete ra.params,delete ra.encoding,ra);const {facetMapping:md,layout:Jc}=this.getFacetMappingAndLayout({row:x,column:D,facet:f},d);x=si(da,d.repeater);return this.mapFacet(Object.assign({},
ra,Jc,{facet:md,spec:Object.assign({},Ia?{width:Ia}:{},Ob?{height:Ob}:{},tc?{view:tc}:{},hb?{projection:hb}:{},{mark:h,encoding:x},a?{params:a}:{})}),d)}getFacetMappingAndLayout(a,d){const {row:f,column:h,facet:x}=a;if(f||h){x&&(d=[...(f?["row"]:[]),...(h?["column"]:[])],d=`Facet encoding dropped as ${d.join(" and ")} ${1<d.length?"are":"is"} also specified.`,za(d));d={};const Ob={};for(var D of["row","column"]){const tc=a[D];if(tc){var da=Object.assign({},tc);da=(delete da.align,delete da.center,
delete da.spacing,delete da.columns,da);d[D]=da;for(var ra of["align","center","spacing"])if(void 0!==tc[ra]){var Ia=void 0,hb=void 0;null!=(Ia=Ob)[hb=ra]||(Ia[hb]={});Ob[ra][D]=tc[ra]}}}return{facetMapping:d,layout:Ob}}hb=Object.assign({},x);a=x.align;D=x.center;ra=x.spacing;Ia=x.columns;hb=(delete hb.align,delete hb.center,delete hb.spacing,delete hb.columns,hb);hb=(d=d.repeater)?le(hb)?eh(hb,d):Eh(hb,d):hb;return{facetMapping:hb,layout:Object.assign({},a?{align:a}:{},D?{center:D}:{},ra?{spacing:ra}:
{},Ia?{columns:Ia}:{})}}mapLayer(a,d){var f=Object.assign({},d),h=d.parentEncoding;d=d.parentProjection;f=(delete f.parentEncoding,delete f.parentProjection,f);var x=Object.assign({},a);const D=a.encoding,da=a.projection;x=(delete x.encoding,delete x.projection,x);h=Object.assign({},f,{parentEncoding:nh({parentEncoding:h,encoding:D,layer:!0}),parentProjection:xh({parentProjection:d,projection:da})});return super.mapLayer(Object.assign({},x,a.name?{name:[h.repeaterPrefix,a.name].filter(ra=>ra).join("_")}:
{}),h)}}class th extends qh{map(a,d){null!=d.emptySelections||(d.emptySelections={});null!=d.selectionPredicates||(d.selectionPredicates={});a=Lh(a,d);return super.map(a,d)}mapLayerOrUnit(a,d){a=Lh(a,d);if(a.encoding){const f={};for(const h of Ki(a.encoding)){const [x,D]=h;f[x]=yh(D,d)}a=Object.assign({},a,{encoding:f})}return super.mapLayerOrUnit(a,d)}mapUnit(a,d){var f=Object.assign({},a);const h=a.selection;f=(delete f.selection,f);return h?Object.assign({},f,{params:Ki(h).map(x=>{let [D,da]=x;
var ra=Object.assign({},da);x=da.init;const Ia=da.bind,hb=da.empty;ra=(delete ra.init,delete ra.bind,delete ra.empty,ra);"single"===ra.type?(ra.type="point",ra.toggle=!1):"multi"===ra.type&&(ra.type="point");d.emptySelections[D]="none"!==hb;let Ob;for(const tc of sh(null!=(Ob=d.selectionPredicates[D])?Ob:{}))tc.empty="none"!==hb;return{name:D,value:x,select:ra,bind:Ia}})}):a}}class $g extends qh{map(a,d){var f;const h=null!=(f=d.selections)?f:[];if(a.params&&!zf(a)){f=[];for(const x of a.params)Je(x)?
h.push(x):f.push(x);a.params=f}d.selections=h;return super.map(a,d)}mapUnit(a,d){const f=d.selections;if(!f||!f.length)return a;let h;const x=(null!=(h=d.path)?h:[]).concat(a.name);d=[];for(const D of f)if(D.views&&D.views.length)for(const da of D.views)(P.isString(da)&&(da===a.name||x.includes(da))||P.isArray(da)&&da.map(ra=>x.indexOf(ra)).every((ra,Ia,hb)=>-1!==ra&&(0===Ia||ra>hb[Ia-1])))&&d.push(D);else d.push(D);d.length&&(a.params=d);return a}}for(const a of["mapFacet","mapRepeat","mapHConcat",
"mapVConcat","mapLayer"]){const d=$g.prototype[a];$g.prototype[a]=function(f,h){var x=d,D=x.call;let da;var ra=f.name?Object.assign({},h,{path:(null!=(da=h.path)?da:[]).concat(f.name)}):h;return D.call(x,this,f,ra)}}const Gh=new Zf,$h=new th,Fj=new $g,oh=["background","padding"];class ii{constructor(){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.explicit=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.implicit=a}clone(){return new ii(rf(this.explicit),rf(this.implicit))}combine(){return Object.assign({},
this.explicit,this.implicit)}get(a){return Fa(this.explicit[a],this.implicit[a])}getWithExplicit(a){return void 0!==this.explicit[a]?{explicit:!0,value:this.explicit[a]}:void 0!==this.implicit[a]?{explicit:!1,value:this.implicit[a]}:{explicit:!1,value:void 0}}setWithExplicit(a,d){let {value:f,explicit:h}=d;void 0!==f&&this.set(a,f,h)}set(a,d,f){delete this[f?"implicit":"explicit"][a];this[f?"explicit":"implicit"][a]=d;return this}copyKeyFromSplit(a,d){let {explicit:f,implicit:h}=d;void 0!==f[a]?this.set(a,
f[a],!0):void 0!==h[a]&&this.set(a,h[a],!1)}copyKeyFromObject(a,d){void 0!==d[a]&&this.set(a,d[a],!0)}copyAll(a){for(const d of ie(a.combine())){const f=a.getWithExplicit(d);this.setWithExplicit(d,f)}}}class nj extends ii{constructor(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super(a,d);this.explicit=a;this.implicit=d;this.parseNothing=f}clone(){const a=super.clone();
a.parseNothing=this.parseNothing;return a}}let Hg=function(a){a[a.Raw=0]="Raw";a[a.Main=1]="Main";a[a.Row=2]="Row";a[a.Column=3]="Column";a[a.Lookup=4]="Lookup";return a}({});class kg{constructor(a,d){this.debugName=d;G(this,"_children",[]);G(this,"_parent",null);G(this,"_hash",void 0);a&&(this.parent=a)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(a){(this._parent=a)&&a.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(a,
d){this._children.includes(a)?za("Attempt to add the same child twice."):void 0!==d?this._children.splice(d,0,a):this._children.push(a)}removeChild(a){a=this._children.indexOf(a);this._children.splice(a,1);return a}remove(){let a=this._parent.removeChild(this);for(const d of this._children)d._parent=this._parent,this._parent.addChild(d,a++)}insertAsParentOf(a){const d=a.parent;d.removeChild(this);this.parent=d;a.parent=this}swapWithParent(){const a=this._parent,d=a.parent;for(var f of this._children)f.parent=
a;this._children=[];a.removeChild(this);f=a.parent.removeChild(a);this._parent=d;d.addChild(this,f);a.parent=this}}class rh extends kg{clone(){const a=new this.constructor;a.debugName=`clone_${this.debugName}`;a._source=this._source;a._name=`clone_${this._name}`;a.type=this.type;a.refCounts=this.refCounts;a.refCounts[a._name]=0;return a}constructor(a,d,f,h){super(a,d);this.type=f;this.refCounts=h;G(this,"_source",void 0);G(this,"_name",void 0);this._source=this._name=d;!this.refCounts||this._name in
this.refCounts||(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===this._hash&&(this._hash=`Output ${Ga()}`);return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(a){this._source=a}}class ah extends kg{clone(){return new ah(null,rf(this.formula))}constructor(a,d){super(a);this.formula=d}static makeFromEncoding(a,d){const f=d.reduceFieldDef((h,x)=>{const {field:D,
timeUnit:da}=x;if(da){let ra;if(Nc(da)){if(Lg(d)){const {mark:Ia}=d;if(xd(Ia)||x.bandPosition)ra={timeUnit:ae(da),field:D}}}else ra={as:yd(x,{forAs:!0}),field:D,timeUnit:da};ra&&(h[Bb(ra)]=ra)}return h},{});return Qa(f)?null:new ah(a,f)}static makeFromTransform(a,d){var f=Object.assign({},d);d=Object.assign({},f);f=f.timeUnit;d=(delete d.timeUnit,d);f=ae(f);d=Object.assign({},d,{timeUnit:f});return new ah(a,{[Bb(d)]:d})}merge(a){this.formula=Object.assign({},this.formula);for(const d in a.formula)this.formula[d]||
(this.formula[d]=a.formula[d]);for(const d of a.children)a.removeChild(d),d.parent=this;a.remove()}removeFormulas(a){const d={};for(const f of Ki(this.formula)){const [h,x]=f;a.has(void 0!==x.as?x.as:`${x.field}_end`)||(d[h]=x)}this.formula=d}producedFields(){return new Set(sh(this.formula).map(a=>void 0!==a.as?a.as:`${a.field}_end`))}dependentFields(){return new Set(sh(this.formula).map(a=>a.field))}hash(){return`TimeUnit ${Bb(this.formula)}`}assemble(){const a=[];for(const x of sh(this.formula))if(void 0!==
x.as){const {field:D,as:da,timeUnit:ra}=x;var d=ae(ra),f=Object.assign({},d),h=d.unit;d=d.utc;f=(delete f.unit,delete f.utc,f);a.push(Object.assign({},{field:Wb(D),type:"timeunit"},h?{units:sd(h)}:{},d?{timezone:"utc"}:{},f,{as:[da,`${da}_end`]}))}else if(x){const {field:D,timeUnit:da}=x;let ra;h=Hd(null==(ra=da)?void 0:ra.unit);const {part:Ia,step:hb}=hf(h,da.step);a.push({type:"formula",expr:`timeOffset('${Ia}', datum['${D}'], ${hb})`,as:`${D}_end`})}return a}}class Wk{constructor(){G(this,"hasChannel",
void 0);G(this,"hasField",void 0);G(this,"hasSelectionId",void 0);G(this,"timeUnit",void 0);G(this,"items",void 0);for(var a=arguments.length,d=Array(a),f=0;f<a;f++)d[f]=arguments[f];this.items=d;this.hasChannel={};this.hasField={};this.hasSelectionId=!1}}const Vh={defined:a=>"interval"===a.type&&"global"===a.resolve&&a.bind&&"scales"===a.bind,parse:(a,d)=>{const f=d.scales=[];for(const x of d.project.items){var h=x.channel;if(!Ei[h])continue;const D=(h=a.getScaleComponent(h))?h.get("type"):void 0;
h&&gd(D)?(h.set("selectionExtent",{param:d.name,field:x.field},!0),f.push(x)):za("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(a,d,f)=>{const h=d.scales.filter(D=>0===f.filter(da=>da.name===D.signals.data).length);if(!a.parent||l(a)||0===h.length)return f;a=f.filter(D=>D.name===d.name)[0];let x=a.update;if(0<=x.indexOf("vlSelectionResolve"))a.update=`{${h.map(D=>`${P.stringValue(Wb(D.field))}: ${D.signals.data}`).join(", ")}}`;else{for(const D of h){const da=
`${P.stringValue(Wb(D.field))}: ${D.signals.data}`;x.includes(da)||(x=`${x.substring(0,x.length-1)}, ${da}}`)}a.update=x}return f.concat(h.map(D=>({name:D.signals.data})))},signals:(a,d,f)=>{if(a.parent&&!l(a))for(const h of d.scales)a=f.filter(x=>x.name===h.signals.data)[0],a.push="outer",delete a.value,delete a.update;return f}},Ri={left:"x",center:"xc",right:"x2"},wk={top:"y",middle:"yc",bottom:"y2"},Sk=new Set(["aria","width","height"]),Oi={defined:a=>"point"===a.type&&a.nearest,parse:(a,d)=>
{if(d.events)for(const f of d.events)f.markname=a.getName("voronoi")},marks:(a,d,f)=>{const {x:h,y:x}=d.project.hasChannel;d=a.mark;if(oc(d))return za(`The "nearest" transform is not supported for ${d} marks.`),f;d={name:a.getName("voronoi"),type:"path",interactive:!0,from:{data:a.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},Xa(a,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:h||!x?
"datum.datum.x || 0":"0"},y:{expr:x||!h?"datum.datum.y || 0":"0"},size:[a.getSizeSignalRef("width"),a.getSizeSignalRef("height")]}]};let D=0,da=!1;f.forEach((ra,Ia)=>{let hb;ra=null!=(hb=ra.name)?hb:"";ra===a.component.mark[0].name?D=Ia:0<=ra.indexOf("voronoi")&&(da=!0)});da||f.splice(D+1,0,d);return f}},ck={defined:a=>"point"===a.type&&"global"===a.resolve&&a.bind&&"scales"!==a.bind&&!jh(a.bind),parse:(a,d,f)=>Zh(d,f),topLevelSignals:(a,d,f)=>{const h=d.name;a=d.project;const x=d.bind,D=d.init&&
d.init[0],da=Oi.defined(d)?"(item().isVoronoi ? datum.datum : datum)":"datum";a.items.forEach((ra,Ia)=>{const hb=Ka(`${h}_${ra.field}`);if(!f.filter(Ob=>Ob.name===hb).length){let Ob,tc;f.unshift(Object.assign({},{name:hb},D?{init:Ra(D[Ia])}:{value:null},{on:d.events?[{events:d.events,update:`datum && item().mark.marktype !== 'group' ? ${da}[${P.stringValue(ra.field)}] : null`}]:[],bind:null!=(tc=null!=(Ob=x[ra.field])?Ob:x[ra.channel])?tc:x}))}});return f},signals:(a,d,f)=>{const h=d.name;var x=d.project;
a=f.filter(da=>da.name===h+"_tuple")[0];d=h+"_tuple_fields";x=x.items.map(da=>Ka(`${h}_${da.field}`));const D=x.map(da=>`${da} !== null`).join(" \x26\x26 ");x.length&&(a.update=`${D} ? {fields: ${d}, values: [${x.join(", ")}]} : null`);delete a.value;delete a.on;return f}},Si={defined:a=>"point"===a.type&&!!a.toggle,signals:(a,d,f)=>f.concat({name:d.name+"_toggle",value:!1,on:[{events:d.events,update:d.toggle}]}),modifyExpr:(a,d)=>{const f=d.name+"_tuple",h=d.name+"_toggle";return`${h} ? null : ${f}, `+
("global"===d.resolve?`${h} ? null : true, `:`${h} ? null : {unit: ${Ng(a)}}, `)+`${h} ? ${f} : null`}},dk={defined:a=>{const d="global"===a.resolve&&a.bind&&jh(a.bind);a=1===a.project.items.length&&"_vgsid_"!==a.project.items[0].field;d&&!a&&za("Legend bindings are only supported for selections over an individual field or encoding channel.");return d&&a},parse:(a,d,f)=>{a=rf(f);a.select=P.isString(a.select)?{type:a.select,toggle:d.toggle}:Object.assign({},a.select,{toggle:d.toggle});Zh(d,a);if(P.isObject(f.select)&&
(f.select.on||f.select.clear))for(const h of d.events){let x;h.filter=P.array(null!=(x=h.filter)?x:[]);h.filter.includes('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')||h.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}f=Ee(d.bind)?d.bind.legend:"click";f=P.isString(f)?P.parseSelector(f,"view"):P.array(f);d.bind={legend:{merge:f}}},topLevelSignals:(a,d,f)=>{a=d.name;const h=Ee(d.bind)&&d.bind.legend,x=da=>ra=>{ra=rf(ra);ra.markname=da;return ra};
for(const da of d.project.items){if(!da.hasLegend)continue;var D=`${Ka(da.field)}_legend`;const ra=`${a}_${D}`;0===f.filter(Ia=>Ia.name===ra).length&&(D=h.merge.map(x(`${D}_symbols`)).concat(h.merge.map(x(`${D}_labels`))).concat(h.merge.map(x(`${D}_entries`))),f.unshift(Object.assign({},{name:ra},d.init?{}:{value:null},{on:[{events:D,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:h.merge,update:`!event.item || !datum ? null : ${ra}`,force:!0}]})))}return f},
signals:(a,d,f)=>{const h=d.name;var x=d.project;a=f.find(da=>da.name===h+"_tuple");var D=h+"_tuple_fields";x=x.items.filter(da=>da.hasLegend).map(da=>Ka(`${h}_${Ka(da.field)}_legend`));D=`${x.map(da=>`${da} !== null`).join(" \x26\x26 ")} ? {fields: ${D}, values: [${x.join(", ")}]} : null`;d.events&&0<x.length?a.on.push({events:x.map(da=>({signal:da})),update:D}):0<x.length&&(a.update=D,delete a.value,delete a.on);a=f.find(da=>da.name===h+"_toggle");D=Ee(d.bind)&&d.bind.legend;a&&(d.events?a.on.push(Object.assign({},
a.on[0],{events:D})):a.on[0].events=D);return f}},fj=[{defined:a=>"point"===a.type,signals:(a,d,f)=>{const h=d.name,x=h+"_tuple_fields";var D=d.project,da,ra=sh(null!=(da=a.component.selection)?da:{}).reduce((Ia,hb)=>"interval"===hb.type?Ia.concat(hb.name+"_brush"):Ia,[]).map(Ia=>`indexof(item().mark.name, '${Ia}') < 0`).join(" \x26\x26 ");da=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${ra?` && ${ra}`:""}`;ra=`unit: ${Ng(a)}, `;d.project.hasSelectionId?ra+=
`${"_vgsid_"}: ${"(item().isVoronoi ? datum.datum : datum)"}[${P.stringValue("_vgsid_")}]`:(D=D.items.map(Ia=>{let hb;return(null==(hb=a.fieldDef(Ia.channel))?0:hb.bin)?`[${"(item().isVoronoi ? datum.datum : datum)"}[${P.stringValue(a.vgField(Ia.channel,{}))}], `+`${"(item().isVoronoi ? datum.datum : datum)"}[${P.stringValue(a.vgField(Ia.channel,{binSuffix:"end"}))}]]`:`${"(item().isVoronoi ? datum.datum : datum)"}[${P.stringValue(Ia.field)}]`}).join(", "),ra+=`fields: ${x}, values: [${D}]`);d=d.events;
return f.concat([{name:h+"_tuple",on:d?[{events:d,update:`${da} ? {${ra}} : null`,force:!0}]:[]}])}},{defined:a=>"interval"===a.type,parse:(a,d,f)=>{a.hasProjection&&(a=Object.assign({},P.isObject(f.select)?f.select:{}),a.fields=["_vgsid_"],a.encodings||(a.encodings=f.value?ie(f.value):["longitude","latitude"]),f.select=Object.assign({},{type:"interval"},a));if(d.translate&&!Vh.defined(d)){f=`!event.item || event.item.mark.name !== ${P.stringValue(d.name+"_brush")}`;for(const h of d.events){if(!h.between){za(`${h} is not an ordered event stream for interval selections.`);
continue}let x,D;d=P.array(null!=(D=(x=h.between[0]).filter)?D:x.filter=[]);0>d.indexOf(f)&&d.push(f)}}},signals:(a,d,f)=>{var h=d.name;const x=h+"_tuple";var D=sh(d.project.hasChannel).filter(Ob=>"x"===Ob.channel||"y"===Ob.channel);const da=d.init?d.init[0]:null;f.push(...D.reduce((Ob,tc)=>Ob.concat(z(a,d,tc,da&&da[tc.index])),[]));if(a.hasProjection){var ra=P.stringValue(a.projectionName());const Ob=a.projectionName()+"_center",{x:tc,y:md}=d.project.hasChannel;var Ia=tc&&tc.signals.visual;const Jc=
md&&md.signals.visual;var hb=tc?da&&da[tc.index]:`${Ob}[0]`;const bd=md?da&&da[md.index]:`${Ob}[1]`;Ia="["+`[${Ia?Ia+"[0]":"0"}, ${Jc?Jc+"[0]":"0"}],`+`[${Ia?Ia+"[1]":a.getSizeSignalRef("width").signal}, `+`${Jc?Jc+"[1]":a.getSizeSignalRef("height").signal}]`+"]";da&&(f.unshift({name:h+"_init",init:`[scale(${ra}, [${tc?hb[0]:hb}, ${md?bd[0]:bd}]), `+`scale(${ra}, [${tc?hb[1]:hb}, ${md?bd[1]:bd}])]`}),tc&&md||f.find(pd=>pd.name===Ob)||f.unshift({name:Ob,update:`invert(${ra}, [${a.getSizeSignalRef("width").signal}/2, ${a.getSizeSignalRef("height").signal}/2])`}));
h=`intersect(${Ia}, {markname: ${P.stringValue(a.getName("marks"))}}, unit.mark)`;ra=`{unit: ${Ng(a)}}`;h=`vlSelectionTuples(${h}, ${ra})`;D=D.map(pd=>pd.signals.visual);return f.concat({name:x,on:[{events:[...(D.length?[{signal:D.join(" || ")}]:[]),...(da?[{signal:"geo_interval_init_tick"}]:[])],update:h}]})}Vh.defined(d)||(ra=h+"_scale_trigger",hb=D.map(Ob=>{var tc=Ob.channel;const {data:md,visual:Jc}=Ob.signals;Ob=P.stringValue(a.scaleName(tc));tc=a.getScaleComponent(tc).get("type");tc=gd(tc)?
"+":"";return`(!isArray(${md}) || `+`(${tc}invert(${Ob}, ${Jc})[0] === ${tc}${md}[0] && `+`${tc}invert(${Ob}, ${Jc})[1] === ${tc}${md}[1]))`}),hb.length&&f.push({name:ra,value:{},on:[{events:D.map(Ob=>({scale:a.scaleName(Ob.channel)})),update:hb.join(" \x26\x26 ")+` ? ${ra} : {}`}]}));D=D.map(Ob=>Ob.signals.data);h=`unit: ${Ng(a)}, fields: ${h+"_tuple_fields"}, values`;return f.concat(Object.assign({},{name:x},da?{init:`{${h}: ${Ra(da)}}`}:{},D.length?{on:[{events:[{signal:D.join(" || ")}],update:`${D.join(" \x26\x26 ")} ? {${h}: [${D}]} : null`}]}:
{}))},topLevelSignals:(a,d,f)=>{Lg(a)&&a.hasProjection&&d.init&&(f.filter(h=>"geo_interval_init_tick"===h.name).length||f.unshift({name:"geo_interval_init_tick",value:null,on:[{events:"timer{1}",update:"geo_interval_init_tick \x3d\x3d\x3d null ? {} : geo_interval_init_tick"}]}));return f},marks:(a,d,f)=>{const h=d.name,{x,y:D}=d.project.hasChannel,da=null==x?void 0:x.signals.visual,ra=null==D?void 0:D.signals.visual;var Ia=`data(${P.stringValue(d.name+"_store")})`;if(Vh.defined(d)||!x&&!D)return f;
const hb={x:void 0!==x?{signal:`${da}[0]`}:{value:0},y:void 0!==D?{signal:`${ra}[0]`}:{value:0},x2:void 0!==x?{signal:`${da}[1]`}:{field:{group:"width"}},y2:void 0!==D?{signal:`${ra}[1]`}:{field:{group:"height"}}};if("global"===d.resolve)for(var Ob of ie(hb))hb[Ob]=[Object.assign({},{test:`${Ia}.length && ${Ia}[0].unit === ${Ng(a)}`},hb[Ob]),{value:0}];Ob=d.mark;Ia=Object.assign({},Ob);a=Ob.fill;d=Ob.fillOpacity;Ob=Ob.cursor;const tc=(delete Ia.fill,delete Ia.fillOpacity,delete Ia.cursor,Ia);Ia=ie(tc).reduce((md,
Jc)=>{md[Jc]=[{test:[void 0!==x&&`${da}[0] !== ${da}[1]`,void 0!==D&&`${ra}[0] !== ${ra}[1]`].filter(bd=>bd).join(" \x26\x26 "),value:tc[Jc]},{value:null}];return md},{});return[{name:`${h+"_brush"}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:a},fillOpacity:{value:d}},update:hb}},...f,{name:h+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},Ob?{cursor:{value:Ob}}:{},{fill:{value:"transparent"}}),update:Object.assign({},hb,Ia)}}]}},{defined:()=>!0,parse:(a,d,f)=>{const h=d.name;var x;
const D=null!=(x=d.project)?x:d.project=new Wk,da={};x={};const ra=new Set,Ia=(Nd,we)=>{Nd="visual"===we?Nd.channel:Nd.field;let Re=Ka(`${h}_${Nd}`);for(let gf=1;ra.has(Re);gf++)Re=Ka(`${h}_${Nd}_${gf}`);ra.add(Re);return{[we]:Re}},hb=d.type,Ob=a.config.selection[hb],tc=void 0!==f.value?P.array(f.value):null;let {fields:md,encodings:Jc}=P.isObject(f.select)?f.select:{};if(!md&&!Jc&&tc)for(var bd of tc)if(P.isObject(bd))for(const Nd of ie(bd))if(Sj[Nd])(Jc||(Jc=[])).push(Nd);else if("interval"===hb)za('Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.'),
Jc=Ob.encodings;else{let we;(null!=(we=md)?we:md=[]).push(Nd)}md||Jc||(Jc=Ob.encodings,"fields"in Ob&&(md=Ob.fields));var pd;for(const Nd of null!=(pd=Jc)?pd:[])(pd=a.fieldDef(Nd))?(f=pd.field,pd.aggregate?za(`Cannot project a selection on encoding channel "${Nd}" as it uses an aggregate function ("${pd.aggregate}").`):f?(pd.timeUnit&&!Nc(pd.timeUnit)&&(f=a.vgField(Nd),bd={timeUnit:pd.timeUnit,as:f,field:pd.field},x[Bb(bd)]=bd),da[f]||(pd="interval"===hb&&Ei[Nd]&&gd(a.getScaleComponent(Nd).get("type"))?
"R":pd.bin?"R-RE":"E",pd={field:f,channel:Nd,type:pd,index:D.items.length},pd.signals=Object.assign({},Ia(pd,"data"),Ia(pd,"visual")),D.items.push(da[f]=pd),D.hasField[f]=da[f],D.hasSelectionId=D.hasSelectionId||"_vgsid_"===f,Nd in Yi?(pd.geoChannel=Nd,pd.channel=M(Nd),D.hasChannel[pd.channel]=da[f]):D.hasChannel[Nd]=da[f])):za(ic(Nd))):za(ic(Nd));let je;for(const Nd of null!=(je=md)?je:[])D.hasField[Nd]||(a={type:"E",field:Nd,index:D.items.length},a.signals=Object.assign({},Ia(a,"data")),D.items.push(a),
D.hasField[Nd]=a,D.hasSelectionId=D.hasSelectionId||"_vgsid_"===Nd);tc&&(d.init=tc.map(Nd=>D.items.map(we=>P.isObject(Nd)?void 0!==Nd[we.geoChannel||we.channel]?Nd[we.geoChannel||we.channel]:Nd[we.field]:Nd)));Qa(x)||(D.timeUnit=new ah(null,x))},signals:(a,d,f)=>{const h=d.name+"_tuple_fields";return 0<f.filter(x=>x.name===h).length||d.project.hasSelectionId?f:f.concat({name:h,value:d.project.items.map(wa)})}},Si,ck,Vh,dk,{defined:a=>void 0!==a.clear&&!1!==a.clear,parse:(a,d)=>{d.clear&&(d.clear=
P.isString(d.clear)?P.parseSelector(d.clear,"view"):d.clear)},topLevelSignals:(a,d,f)=>{if(ck.defined(d))for(const h of d.project.items)a=f.findIndex(x=>x.name===Ka(`${d.name}_${h.field}`)),-1!==a&&f[a].on.push({events:d.clear,update:"null"});return f},signals:(a,d,f)=>{function h(x,D){-1!==x&&f[x].on&&f[x].on.push({events:d.clear,update:D})}if("interval"===d.type)for(const x of d.project.items)a=f.findIndex(D=>D.name===x.signals.visual),h(a,"[0, 0]"),-1===a&&(a=f.findIndex(D=>D.name===x.signals.data),
h(a,"null"));else a=f.findIndex(x=>x.name===d.name+"_tuple"),h(a,"null"),Si.defined(d)&&(a=f.findIndex(x=>x.name===d.name+"_toggle"),h(a,"false"));return f}},{defined:a=>"interval"===a.type&&a.translate,signals:(a,d,f)=>{const h=d.name,x=Vh.defined(d),D=h+"_translate_anchor",{x:da,y:ra}=d.project.hasChannel;let Ia=P.parseSelector(d.translate,"scope");x||(Ia=Ia.map(hb=>(hb.between[0].markname=h+"_brush",hb)));f.push({name:D,value:{},on:[{events:Ia.map(hb=>hb.between[0]),update:"{x: x(unit), y: y(unit)"+
(void 0!==da?`, extent_x: ${x?ia(a,"x"):`slice(${da.signals.visual})`}`:"")+(void 0!==ra?`, extent_y: ${x?ia(a,"y"):`slice(${ra.signals.visual})`}`:"")+"}"}]},{name:h+"_translate_delta",value:{},on:[{events:Ia,update:`{x: ${D}.x - x(unit), y: ${D}.y - y(unit)}`}]});void 0!==da&&Bh(a,d,da,"width",f);void 0!==ra&&Bh(a,d,ra,"height",f);return f}},{defined:a=>"interval"===a.type&&a.zoom,signals:(a,d,f)=>{const h=d.name,x=Vh.defined(d),D=h+"_zoom_delta",{x:da,y:ra}=d.project.hasChannel,Ia=P.stringValue(a.scaleName("x")),
hb=P.stringValue(a.scaleName("y"));let Ob=P.parseSelector(d.zoom,"scope");x||(Ob=Ob.map(tc=>(tc.markname=h+"_brush",tc)));f.push({name:h+"_zoom_anchor",on:[{events:Ob,update:x?"{"+[Ia?`x: invert(${Ia}, x(unit))`:"",hb?`y: invert(${hb}, y(unit))`:""].filter(tc=>tc).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:D,on:[{events:Ob,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==da&&ng(a,d,da,"width",f);void 0!==ra&&ng(a,d,ra,"height",f);return f}},Oi];class qj extends kg{clone(){return new qj(null,
this.model,rf(this.filter))}constructor(a,d,f){super(a);this.model=d;this.filter=f;G(this,"expr",void 0);G(this,"_dependentFields",void 0);this.expr=Ti(this.model,this.filter,this);this._dependentFields=Pi(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}const bk={scale:a=>{let {model:d,channel:f}=a;return d.scaleName(f)},format:a=>{({format:a}=a);return a},formatType:a=>{({formatType:a}=
a);return a},grid:a=>{let {fieldOrDatumDef:d,axis:f,scaleType:h}=a,x;return null!=(x=f.grid)?x:!Sc(h)&&vb(d)&&!X(null==d?void 0:d.bin)&&!Ca(null==d?void 0:d.bin)},gridScale:a=>{let {model:d,channel:f}=a;a="x"===f?"y":"x";a=d.getScaleComponent(a)?d.scaleName(a):void 0;return a},labelAlign:a=>{let {axis:d,labelAngle:f,orient:h,channel:x}=a;return d.labelAlign||Jd(f,h,x)},labelAngle:a=>{({labelAngle:a}=a);return a},labelBaseline:a=>{let {axis:d,labelAngle:f,orient:h,channel:x}=a;return d.labelBaseline||
Vc(f,h,x)},labelFlush:a=>{let {axis:d,fieldOrDatumDef:f,channel:h}=a;null==(a=d.labelFlush)&&(a="x"===h&&Yb(["quantitative","temporal"],f.type)?!0:void 0);return a},labelOverlap:a=>{let {axis:d,fieldOrDatumDef:f,scaleType:h}=a;if(null==(a=d.labelOverlap)){a=f.type;var x=vb(f)&&!!f.timeUnit,D=vb(f)?f.sort:void 0;a=x&&!P.isObject(D)||"nominal"!==a&&"ordinal"!==a?"log"===h||"symlog"===h?"greedy":!0:void 0}return a},orient:a=>{({orient:a}=a);return a},tickCount:a=>{let {channel:d,model:f,axis:h,fieldOrDatumDef:x,
scaleType:D}=a;a=(a="x"===d?"width":"y"===d?"height":void 0)?f.getSizeSignalRef(a):void 0;let da;if(null!=(da=h.tickCount))var ra=da;else a:{let {fieldOrDatumDef:Ia,scaleType:hb,size:Ob,values:tc}={fieldOrDatumDef:x,scaleType:D,size:a,values:h.values};if(tc||Sc(hb)||"log"===hb)ra=void 0;else{if(vb(Ia)){if(X(Ia.bin)){ra={signal:`ceil(${Ob.signal}/10)`};break a}if(Ia.timeUnit&&Yb(["month","hours","day","quarter"],null==(ra=ae(Ia.timeUnit))?void 0:ra.unit)){ra=void 0;break a}}ra={signal:`ceil(${Ob.signal}/40)`}}}return ra},
tickMinStep:function(a){let {format:d,fieldOrDatumDef:f}=a;if("d"===d)return 1;if(vb(f)&&({timeUnit:a}=f,a&&(a=kf(a))))return{signal:a}},title:a=>{let {axis:d,model:f,channel:h}=a;if(void 0!==d.title)return d.title;a=Sd(f,h);if(void 0!==a)return a;a=f.typedFieldDef(h);const x=f.fieldDef("x"===h?"x2":"y2");return gb(a?[O(a)]:[],vb(x)?[O(x)]:[])},values:a=>{let {axis:d,fieldOrDatumDef:f}=a;a=d.values;a=P.isArray(a)?af(f,a):Zb(a)?a:void 0;return a},zindex:a=>{let {axis:d,fieldOrDatumDef:f,mark:h}=a;
null==(a=d.zindex)&&(a="rect"===h&&Ae(f)?1:0);return a}};class ej extends kg{clone(){return new ej(null,rf(this.transform))}constructor(a,d){super(a);this.transform=d;G(this,"_dependentFields",void 0);this._dependentFields=Pi(this.transform.calculate)}static parseAllForSortIndex(a,d){d.forEachFieldDef((f,h)=>{if(Dd(f)&&ce(f.sort)){const {field:D,timeUnit:da}=f;var x=f.sort;x=x.map((ra,Ia)=>`${J({field:D,timeUnit:da,equal:ra})} ? ${Ia} : `).join("")+x.length;a=new ej(a,{calculate:x,as:ad(f,h,{forAs:!0})})}});
return a}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${Bb(this.transform)}`}}const Zk=["row","column"],Ek=["header","footer"],Jl={column:{start:0,end:1},row:{start:1,end:0}},el=Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,
gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,
tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),gl=ie(el);class lm extends ii{}const fl={symbols:function(a,d){let {fieldOrDatumDef:f,model:h,channel:x,legendCmpt:D,legendType:da}=
d;if("symbol"===da){var {markDef:ra,encoding:Ia,config:hb,mark:Ob}=h;d=ra.filled&&"trail"!==Ob;var tc=Object,md=tc.assign,Jc={};for(var bd of Ej){const gf=Yc(bd,h.markDef,h.config);void 0!==gf&&(Jc[bd]=Tb(gf))}bd=md.call(tc,{},Jc,Zc(h,{filled:d}));var pd;tc=null!=(pd=D.get("symbolOpacity"))?pd:hb.legend.symbolOpacity;var je;pd=null!=(je=D.get("symbolFillColor"))?je:hb.legend.symbolFillColor;var Nd;je=null!=(Nd=D.get("symbolStrokeColor"))?Nd:hb.legend.symbolStrokeColor;var we;Nd=void 0===tc?null!=
(we=rd(Ia.opacity))?we:ra.opacity:void 0;if(bd.fill)if("fill"===x||d&&"color"===x)delete bd.fill;else if(bd.fill.field)if(pd)delete bd.fill;else{let gf;bd.fill=Tb(null!=(gf=hb.legend.symbolBaseFillColor)?gf:"black");bd.fillOpacity=Tb(null!=Nd?Nd:1)}else if(P.isArray(bd.fill)){var Re;let gf,Tf;if(we=null!=(Tf=null!=(gf=wd(null!=(Re=Ia.fill)?Re:Ia.color))?gf:ra.fill)?Tf:d&&ra.color)bd.fill=Tb(we)}bd.stroke&&("stroke"===x||!d&&"color"===x?delete bd.stroke:bd.stroke.field||je?delete bd.stroke:P.isArray(bd.stroke)&&
(Re=Fa(wd(Ia.stroke||Ia.color),ra.stroke,d?ra.color:void 0))&&(bd.stroke={value:Re}));"opacity"!==x&&((Re=vb(f)&&qe(h,D,f))?bd.opacity=[Object.assign({},{test:Re},Tb(null!=Nd?Nd:1)),Tb(hb.legend.unselectedOpacity)]:Nd&&(bd.opacity=Tb(Nd)));bd=Object.assign({},bd,a);return Qa(bd)?void 0:bd}},gradient:function(a,d){let {model:f,legendType:h,legendCmpt:x}=d;if("gradient"===h){var {config:D,markDef:da,encoding:ra}=f;d={};var Ia,hb=void 0===(null!=(Ia=x.get("gradientOpacity"))?Ia:D.legend.gradientOpacity)?
rd(ra.opacity)||da.opacity:void 0;hb&&(d.opacity=Tb(hb));d=Object.assign({},d,a);return Qa(d)?void 0:d}},labels:function(a,d){let {fieldOrDatumDef:f,model:h,channel:x,legendCmpt:D}=d;var da=h.legend(x)||{};d=h.config;var ra=vb(f)?qe(h,D,f):void 0;ra=ra?[{test:ra,value:1},{value:d.legend.unselectedOpacity}]:void 0;const {format:Ia,formatType:hb}=da;da=void 0;ye(hb)?da=ef({fieldOrDatumDef:f,field:"datum.value",format:Ia,formatType:hb,config:d}):void 0===Ia&&void 0===hb&&d.customFormatTypes&&("quantitative"===
f.type&&d.numberFormatType?da=ef({fieldOrDatumDef:f,field:"datum.value",format:d.numberFormat,formatType:d.numberFormatType,config:d}):"temporal"===f.type&&d.timeFormatType&&vb(f)&&void 0===f.timeUnit&&(da=ef({fieldOrDatumDef:f,field:"datum.value",format:d.timeFormat,formatType:d.timeFormatType,config:d})));a=Object.assign({},ra?{opacity:ra}:{},da?{text:da}:{},a);return Qa(a)?void 0:a},entries:function(a,d){({legendCmpt:d}=d);let f;return(null==(f=d.get("selections"))?0:f.length)?Object.assign({},
a,{fill:{value:"transparent"}}):a}},Al={direction:a=>{({direction:a}=a);return a},format:a=>{let {fieldOrDatumDef:d,legend:f,config:h}=a;const {format:x,formatType:D}=f;return od(d,d.type,x,D,h,!1)},formatType:a=>{let {legend:d,fieldOrDatumDef:f,scaleType:h}=a;({formatType:a}=d);return Ec(a,f,h)},gradientLength:a=>{const {legend:d,legendConfig:f}=a;let h,x;if(null!=(x=null!=(h=d.gradientLength)?h:f.gradientLength))a=x;else{{let {legendConfig:D,model:da,direction:ra,orient:Ia,scaleType:hb}=a;const {gradientHorizontalMaxLength:Ob,
gradientHorizontalMinLength:tc,gradientVerticalMaxLength:md,gradientVerticalMinLength:Jc}=D;a=Sh.has(hb)?"horizontal"===ra?"top"===Ia||"bottom"===Ia?Ue(da,"width",tc,Ob):tc:Ue(da,"height",Jc,md):void 0}}return a},labelOverlap:a=>{let {legend:d,legendConfig:f,scaleType:h}=a;var x;x=null!=(a=null!=(x=d.labelOverlap)?x:f.labelOverlap)?a:Yb(["quantile","threshold","log","symlog"],h)?"greedy":void 0;return x},symbolType:a=>{let {legend:d,markDef:f,channel:h,encoding:x}=a;if(null!=(a=d.symbolType))var D=
a;else a:{a=f.type;var da=f.shape;if("shape"!==h){const ra=null!=(D=wd(x.shape))?D:da;if(ra){D=ra;break a}}switch(a){case "bar":case "rect":case "image":case "square":D="square";break a;case "line":case "trail":case "rule":D="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":D="circle";break a}D=void 0}return D},title:a=>{let {fieldOrDatumDef:d,config:f}=a;return he(d,f,{allowDisabling:!0})},type:a=>{let {legendType:d,scaleType:f,channel:h}=
a;if(Q(h)&&Sh.has(f)){if("gradient"===d)return}else if("symbol"===d)return;return d},values:a=>{let {fieldOrDatumDef:d,legend:f}=a;a=f.values;a=P.isArray(a)?af(d,a):Zb(a)?a:void 0;return a}},fk="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");class Bl extends ii{constructor(a,d,f,h){super(Object.assign({},d),{name:a});this.specifiedProjection=d;this.size=f;this.data=h;G(this,"merged",!1)}get isFit(){return!!this.data}}
class li extends kg{clone(){return new li(null,rf(this.bins))}constructor(a,d){super(a);this.bins=d}static makeFromEncoding(a,d){const f=d.reduceFieldDef((h,x,D)=>{if($c(x)&&X(x.bin)){const {key:tc,binComponent:md}=oe(x,x.bin,d);var da=Object,ra=da.assign,Ia=h[tc];var hb=d.config;if(Hf(x,D)){var Ob;let Jc;const bd=Lg(d)?null!=(Jc=null!=(Ob=d.axis(D))?Ob:d.legend(D))?Jc:{}:{};D=yd(x,{expr:"datum"});Ob=yd(x,{expr:"datum",binSuffix:"end"});x={formulaAs:yd(x,{binSuffix:"range",forAs:!0}),formula:Id(D,
Ob,bd.format,bd.formatType,hb)}}else x={};h[tc]=ra.call(da,{},md,Ia,x)}return h},{});return Qa(f)?null:new li(a,f)}static makeFromTransform(a,d,f){const {key:h,binComponent:x}=oe(d,d.bin,f);return new li(a,{[h]:x})}merge(a,d){for(const f of ie(a.bins))f in this.bins?(d(a.bins[f].signal,this.bins[f].signal),this.bins[f].as=Lb([...this.bins[f].as,...a.bins[f].as],Bb)):this.bins[f]=a.bins[f];for(const f of a.children)a.removeChild(f),f.parent=this;a.remove()}producedFields(){return new Set(sh(this.bins).map(a=>
a.as).flat(2))}dependentFields(){return new Set(sh(this.bins).map(a=>a.field))}hash(){return`Bin ${Bb(this.bins)}`}assemble(){return sh(this.bins).flatMap(a=>{const d=[],[f,...h]=a.as;var x=a.bin,D=Object.assign({},x);x=x.extent;D=(delete D.extent,D);D=Object.assign({},{type:"bin",field:Wb(a.field),as:f,signal:a.signal},Ya(x)?{extent:null}:{extent:x},a.span?{span:{signal:`span(${a.span})`}}:{},D);!x&&a.extentSignal&&(d.push({type:"extent",field:Wb(a.field),signal:a.extentSignal}),D.extent={signal:a.extentSignal});
d.push(D);for(const da of h)for(x=0;2>x;x++)d.push({type:"formula",expr:yd({field:f[x]},{expr:"datum"}),as:da[x]});a.formula&&d.push({type:"formula",expr:a.formula,as:a.formulaAs});return d})}}class b extends kg{clone(){return new b(null,new Set(this.dimensions),rf(this.measures))}constructor(a,d,f){super(a);this.dimensions=d;this.measures=f}get groupBy(){return this.dimensions}static makeFromEncoding(a,d){let f=!1;d.forEachFieldDef(D=>{D.aggregate&&(f=!0)});const h={},x=new Set;if(!f)return null;
d.forEachFieldDef((D,da)=>{const {aggregate:ra,field:Ia}=D;if(ra)if("count"===ra)null!=h["*"]||(h["*"]={}),h["*"].count=new Set([yd(D,{forAs:!0})]);else{if(L(ra)||va(ra)){D=L(ra)?"argmin":"argmax";var hb=ra[D];null!=h[hb]||(h[hb]={});h[hb][D]=new Set([yd({op:D,field:hb},{forAs:!0})])}else null!=h[Ia]||(h[Ia]={}),h[Ia][ra]=new Set([yd(D,{forAs:!0})]);Ei[da]&&"unaggregated"===d.scaleDomain(da)&&(null!=h[Ia]||(h[Ia]={}),h[Ia].min=new Set([yd({field:Ia,aggregate:"min"},{forAs:!0})]),h[Ia].max=new Set([yd({field:Ia,
aggregate:"max"},{forAs:!0})]))}else{const Ob=Lg(d)?d.encoding[C(da)]:void 0;$c(D)&&Lg(d)&&ka(D,Ob,d.markDef,d.config)?(x.add(yd(D,{})),x.add(yd(D,{suffix:"end"})),D.bin&&Hf(D,da)&&x.add(yd(D,{binSuffix:"range"}))):da in Yi?(da=M(da),x.add(d.getName(da))):x.add(yd(D));if(da=Dd(D))da=null==(hb=D.scale)?void 0:hb.range,da=P.isObject(da)&&"field"in da;da&&x.add(D.scale.range.field)}});return 0===x.size+ie(h).length?null:new b(a,x,h)}static makeFromTransform(a,d){const f=new Set,h={};for(const D of d.aggregate){const {op:da,
field:ra,as:Ia}=D;if(da)if("count"===da){let hb;null!=(hb=h)["*"]||(hb["*"]={});h["*"].count=new Set([Ia?Ia:yd(D,{forAs:!0})])}else{let hb,Ob;null!=(hb=h)[Ob=ra]||(hb[Ob]={});h[ra][da]=new Set([Ia?Ia:yd(D,{forAs:!0})])}}let x;for(const D of null!=(x=d.groupby)?x:[])f.add(D);return 0===f.size+ie(h).length?null:new b(a,f,h)}merge(a){if(Cb(this.dimensions,a.dimensions)){var d=this.measures;a=a.measures;for(const f of ie(a)){const h=a[f];for(const x of ie(h))if(f in d){let D;d[f][x]=new Set([...(null!=
(D=d[f][x])?D:[]),...h[x]])}else d[f]={[x]:h[x]}}return!0}fb("different dimensions, cannot merge");return!1}addDimensions(a){a.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...ie(this.measures)])}producedFields(){const a=new Set;for(const d of ie(this.measures))for(const f of ie(this.measures[d])){const h=this.measures[d][f];0===h.size?a.add(`${f}_${d}`):h.forEach(a.add,a)}return a}hash(){return`Aggregate ${Bb({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const a=
[],d=[],f=[];for(const h of ie(this.measures))for(const x of ie(this.measures[h]))for(const D of this.measures[h][x])f.push(D),a.push(x),d.push("*"===h?null:Wb(h));return{type:"aggregate",groupby:[...this.dimensions].map(Wb),ops:a,fields:d,as:f}}}class e extends kg{constructor(a,d,f,h){super(a);this.model=d;this.name=f;this.data=h;G(this,"column",void 0);G(this,"row",void 0);G(this,"facet",void 0);G(this,"childModel",void 0);for(const x of ai)if(a=d.facet[x]){const {bin:D,sort:da}=a;this[x]=Object.assign({},
{name:d.getName(`${x}_domain`),fields:[yd(a),...(X(D)?[yd(a,{binSuffix:"end"})]:[])]},Vd(da)?{sortField:da}:P.isArray(da)?{sortIndexField:ad(a,x)}:{})}this.childModel=d.child}hash(){let a="Facet";for(const d of ai)this[d]&&(a+=` ${d.charAt(0)}:${Bb(this[d])}`);return a}get fields(){const a=[];for(const d of ai){let f;(null==(f=this[d])?0:f.fields)&&a.push(...this[d].fields)}return a}dependentFields(){const a=new Set(this.fields);for(const d of ai)this[d]&&(this[d].sortField&&a.add(this[d].sortField.field),
this[d].sortIndexField&&a.add(this[d].sortIndexField));return a}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const a={};for(const h of oi){var d=this.childModel.component.scales[h];if(d&&!d.merged){var f=d.get("type");d=d.get("range");Sc(f)&&Rc(d)&&(f=vj(this.childModel,h),(f=Hk(f))?a[h]=f:za(ec(h)))}}return a}assembleRowColumnHeaderData(a,d,f){const h={row:"y",column:"x",facet:void 0}[a],x=[],D=[],da=[];h&&f&&f[h]&&(d?(x.push(`distinct_${f[h]}`),
D.push("max")):(x.push(f[h]),D.push("distinct")),da.push(`distinct_${f[h]}`));const {sortField:ra,sortIndexField:Ia}=this[a];if(ra){const {op:hb="min",field:Ob}=ra;x.push(Ob);D.push(hb);da.push(yd(ra,{forAs:!0}))}else Ia&&(x.push(Ia),D.push("max"),da.push(Ia));return{name:this[a].name,source:null!=d?d:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[a].fields},x.length?{fields:x,ops:D,as:da}:{})]}}assembleFacetHeaderData(a){const {columns:d}=this.model.layout,{layoutHeaders:f}=
this.model.component,h=[],x={};for(const Ia of Zk){for(const hb of Ek){let Ob;var D=null!=(Ob=f[Ia]&&f[Ia][hb])?Ob:[];for(const tc of D){let md;if(0<(null==(md=tc.axes)?void 0:md.length)){x[Ia]=!0;break}}}x[Ia]&&(D=`length(data("${this.facet.name}"))`,h.push({name:`${this.facet.name}_${Ia}`,transform:[{type:"sequence",start:0,stop:"row"===Ia?d?{signal:`ceil(${D} / ${d})`}:1:d?{signal:`min(${D}, ${d})`}:{signal:D}}]}))}const {row:da,column:ra}=x;(da||ra)&&h.unshift(this.assembleRowColumnHeaderData("facet",
null,a));return h}assemble(){const a=[];var d=null;const f=this.getChildIndependentFieldsWithStep(),{column:h,row:x,facet:D}=this;if(h&&x&&(f.x||f.y)){d=`cross_${this.column.name}_${this.row.name}`;var da;let ra;const Ia=[].concat(null!=(da=f.x)?da:[],null!=(ra=f.y)?ra:[]);da=Ia.map(()=>"distinct");a.push({name:d,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:Ia,ops:da}]})}for(const ra of["column","row"])this[ra]&&a.push(this.assembleRowColumnHeaderData(ra,d,f));D&&(d=this.assembleFacetHeaderData(f))&&
a.push(...d);return a}}class n extends kg{clone(){return new n(null,rf(this._parse))}constructor(a,d){super(a);G(this,"_parse",void 0);this._parse=d}hash(){return`Parse ${Bb(this._parse)}`}static makeExplicit(a,d,f){let h={};d=d.data;let x;!S(d)&&(null==d?0:null==(x=d.format)?0:x.parse)&&(h=d.format.parse);return this.makeWithAncestors(a,h,{},f)}static makeWithAncestors(a,d,f,h){for(var x of ie(f)){const da=h.getWithExplicit(x);void 0!==da.value&&(da.explicit||da.value===f[x]||"derived"===da.value||
"flatten"===f[x]?delete f[x]:za(ed(x,f[x],da.value)))}for(var D of ie(d))x=h.get(D),void 0!==x&&(x===d[D]?delete d[D]:za(ed(D,d[D],x)));d=new ii(d,f);h.copyAll(d);f={};for(const da of ie(d.combine()))D=d.get(da),null!==D&&(f[da]=D);return 0===ie(f).length||h.parseNothing?null:new n(a,f)}get parse(){return this._parse}merge(a){this._parse=Object.assign({},this._parse,a.parse);a.remove()}assembleFormatParse(){const a={};for(const d of ie(this._parse)){const f=this._parse[d];1===Z(d)&&(a[d]=f)}return a}producedFields(){return new Set(ie(this._parse))}dependentFields(){return new Set(ie(this._parse))}assembleTransforms(){let a=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;return ie(this._parse).filter(d=>a?1<Z(d):!0).map(d=>{const f=se(d,this._parse[d]);return f?{type:"formula",expr:f,as:pa(d)}:null}).filter(d=>null!==d)}}class K extends kg{clone(){return new K(null)}constructor(a){super(a)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:"_vgsid_"}}}class oa extends kg{clone(){return new oa(null,this.params)}constructor(a,
d){super(a);this.params=d}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${Bb(this.params)}`}assemble(){return Object.assign({},{type:"graticule"},!0===this.params?{}:this.params)}}class Ba extends kg{clone(){return new Ba(null,this.params)}constructor(a,d){super(a);this.params=d}dependentFields(){return new Set}producedFields(){let a;return new Set([null!=(a=this.params.as)?a:"data"])}hash(){return`Hash ${Bb(this.params)}`}assemble(){return Object.assign({},{type:"sequence"},
this.params)}}class tb extends kg{constructor(a){super(null);G(this,"_data",void 0);G(this,"_name",void 0);G(this,"_generator",void 0);null!=a||(a={name:"source"});let d;S(a)||(d=a.format?Object.assign({},uc(a.format,["parse"])):{});if("values"in a)this._data={values:a.values};else if("url"in a){if(this._data={url:a.url},!d.type){let f=/(?:\.([^.]+))?$/.exec(a.url)[1];Yb(["json","csv","tsv","dsv","topojson"],f)||(f="json");d.type=f}}else if("sphere"in a)this._data={values:[{type:"Sphere"}]};else if(Yf(a)||
S(a))this._data={};this._generator=S(a);a.name&&(this._name=a.name);d&&!Qa(d)&&(this._data.format=d)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(a){this._name=a}set parent(a){throw Error("Source nodes have to be roots.");}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");}assemble(){return Object.assign({},
{name:this._name},this._data,{transform:[]})}}var wc=new WeakMap;class Oc{constructor(){if(wc.has(this))throw new TypeError("Cannot initialize the same private elements twice on an object");wc.set(this,{writable:!0,value:void 0});ya(this,wc,!1)}setModified(){ya(this,wc,!0)}get modifiedFlag(){var a=Na(this,wc,"get");return a.get?a.get.call(this):a.value}}class Ad extends Oc{getNodeDepths(a,d,f){f.set(a,d);for(const h of a.children)this.getNodeDepths(h,d+1,f);return f}optimize(a){a=[...this.getNodeDepths(a,
0,new Map).entries()].sort((d,f)=>f[1]-d[1]);for(const d of a)this.run(d[0]);return this.modifiedFlag}}class fe extends Oc{optimize(a){this.run(a);for(const d of a.children)this.optimize(d);return this.modifiedFlag}}class me extends fe{mergeNodes(a,d){const f=d.shift();for(const h of d)a.removeChild(h),h.parent=f,h.remove()}run(a){const d=a.children.map(h=>h.hash()),f={};for(let h=0;h<d.length;h++)void 0===f[d[h]]?f[d[h]]=[a.children[h]]:f[d[h]].push(a.children[h]);for(const h of ie(f))1<f[h].length&&
(this.setModified(),this.mergeNodes(a,f[h]))}}class ge extends fe{constructor(a){super();G(this,"requiresSelectionId",void 0);this.requiresSelectionId=a&&vg(a)}run(a){!(a instanceof K)||this.requiresSelectionId&&(zg(a.parent)||a.parent instanceof b||a.parent instanceof n)||(this.setModified(),a.remove())}}class Fe extends Oc{optimize(a){this.run(a,new Set);return this.modifiedFlag}run(a,d){let f=new Set;a instanceof ah&&(f=a.producedFields(),Pb(f,d)&&(this.setModified(),a.removeFormulas(d),0===a.producedFields.length&&
a.remove()));for(const h of a.children)this.run(h,new Set([...d,...f]))}}class Se extends fe{constructor(){super()}run(a){a instanceof rh&&!a.isRequired()&&(this.setModified(),a.remove())}}class We extends Ad{run(a){if(!(zg(a)||1<a.numChildren()))for(const d of a.children)d instanceof n&&(a instanceof n?(this.setModified(),a.merge(d)):pb(a.producedFields(),d.dependentFields())||(this.setModified(),d.swapWithParent()))}}class Xg extends Ad{run(a){const d=[...a.children];var f=a.children.filter(x=>
x instanceof n);if(1<a.numChildren()&&1<=f.length){const x={};var h=new Set;for(const D of f){f=D.parse;for(const da of ie(f))da in x?x[da]!==f[da]&&h.add(da):x[da]=f[da]}for(const D of h)delete x[D];if(!Qa(x)){this.setModified();h=new n(a,x);for(const D of d){if(D instanceof n)for(const da of ie(x))delete D.parse[da];a.removeChild(D);D.parent=h;D instanceof n&&0===ie(D.parse).length&&D.remove()}}}}}class nd extends Ad{run(a){a instanceof rh||0<a.numChildren()||a instanceof e||a instanceof tb||(this.setModified(),
a.remove())}}class Xc extends Ad{run(a){a=a.children.filter(f=>f instanceof ah);const d=a.pop();for(const f of a)this.setModified(),d.merge(f)}}class vd extends Ad{run(a){var d=a.children.filter(x=>x instanceof b);const f={};for(var h of d)d=Bb(h.groupBy),d in f||(f[d]=[]),f[d].push(h);for(const x of ie(f))if(h=f[x],1<h.length){d=h.pop();for(const D of h)d.merge(D)&&(a.removeChild(D),D.parent=d,D.remove(),this.setModified())}}}class te extends Ad{constructor(a){super();this.model=a}run(a){var d=!(zg(a)||
a instanceof qj||a instanceof n||a instanceof K);const f=[],h=[];for(const x of a.children)x instanceof li&&(d&&!pb(a.producedFields(),x.dependentFields())?f.push(x):h.push(x));if(0<f.length){d=f.pop();for(const x of f)d.merge(x,this.model.renameSignal.bind(this.model));this.setModified();a instanceof li?a.merge(d,this.model.renameSignal.bind(this.model)):d.swapWithParent()}if(1<h.length){a=h.pop();for(const x of h)a.merge(x,this.model.renameSignal.bind(this.model));this.setModified()}}}class Ze extends Ad{run(a){var d=
[...a.children];if(Ua(d,x=>x instanceof rh)&&!(1>=a.numChildren())){var f=[];for(const x of d)if(x instanceof rh){for(d=x;1===d.numChildren();){const [D]=d.children;if(D instanceof rh)d=D;else break}f.push(...d.children);if(h)a.removeChild(x),x.parent=h.parent,h.parent.removeChild(h),h.parent=d,this.setModified();else var h=d}else f.push(x);if(f.length){this.setModified();for(const x of f)x.parent.removeChild(x),x.parent=h}}}}class cf extends kg{clone(){return new cf(null,rf(this.transform))}constructor(a,
d){super(a);this.transform=d}addDimensions(a){this.transform.groupby=Lb(this.transform.groupby.concat(a),d=>d)}dependentFields(){const a=new Set;this.transform.groupby&&this.transform.groupby.forEach(a.add,a);this.transform.joinaggregate.map(d=>d.field).filter(d=>void 0!==d).forEach(a.add,a);return a}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(a){let d;return null!=(d=a.as)?d:yd(a)}hash(){return`JoinAggregateTransform ${Bb(this.transform)}`}assemble(){const a=
[],d=[],f=[];for(var h of this.transform.joinaggregate)d.push(h.op),f.push(this.getDefaultName(h)),a.push(void 0===h.field?null:h.field);h=this.transform.groupby;return Object.assign({},{type:"joinaggregate",as:f,ops:d,fields:a},void 0!==h?{groupby:h}:{})}}class $e extends kg{clone(){return new $e(null,rf(this._stack))}constructor(a,d){super(a);G(this,"_stack",void 0);this._stack=d}static makeFromTransform(a,d){const {stack:f,groupby:h,as:x,offset:D="zero"}=d;var da=[];const ra=[];if(void 0!==d.sort)for(const Ia of d.sort)da.push(Ia.field),
ra.push(Fa(Ia.order,"ascending"));da={field:da,order:ra};d=Qh(x)?x:P.isString(x)?[x,`${x}_end`]:[`${d.stack}_start`,`${d.stack}_end`];return new $e(a,{dimensionFieldDefs:[],stackField:f,groupby:h,offset:D,sort:da,facetby:[],as:d})}static makeFromEncoding(a,d){var f=d.stack;const {encoding:h}=d;if(!f)return null;const {groupbyChannels:x,fieldChannel:D,offset:da,impute:ra}=f;f=x.map(Ob=>Ke(h[Ob])).filter(Ob=>!!Ob);const Ia=hh(d);var hb=d.encoding.order;if(P.isArray(hb)||vb(hb))hb=Ha(hb);else{const Ob=
hb&&hb.sort&&!hb.field?hb.sort:"y"===D?"descending":"ascending";hb=Ia.reduce((tc,md)=>{tc.field.push(md);tc.order.push(Ob);return tc},{field:[],order:[]})}return new $e(a,{dimensionFieldDefs:f,stackField:d.vgField(D),facetby:[],stackby:Ia,sort:hb,offset:da,impute:ra,as:[d.vgField(D,{suffix:"start",forAs:!0}),d.vgField(D,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(a){this._stack.facetby.push(...a)}dependentFields(){const a=new Set;a.add(this._stack.stackField);this.getGroupbyFields().forEach(a.add,
a);this._stack.facetby.forEach(a.add,a);this._stack.sort.field.forEach(a.add,a);return a}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${Bb(this._stack)}`}getGroupbyFields(){const {dimensionFieldDefs:a,impute:d,groupby:f}=this._stack;return 0<a.length?a.map(h=>h.bin?d?[yd(h,{binSuffix:"mid"})]:[yd(h,{}),yd(h,{binSuffix:"end"})]:[yd(h)]).flat():null!=f?f:[]}assemble(){const a=[],{facetby:d,dimensionFieldDefs:f,stackField:h,stackby:x,sort:D,offset:da,impute:ra,as:Ia}=this._stack;
if(ra)for(const hb of f){const {bandPosition:Ob=.5,bin:tc}=hb;if(tc){const md=yd(hb,{expr:"datum"}),Jc=yd(hb,{expr:"datum",binSuffix:"end"});a.push({type:"formula",expr:`${Ob}*${md}+${1-Ob}*${Jc}`,as:yd(hb,{binSuffix:"mid",forAs:!0})})}a.push({type:"impute",field:h,groupby:[...x,...d],key:yd(hb,{binSuffix:"mid"}),method:"value",value:0})}a.push({type:"stack",groupby:[...this.getGroupbyFields(),...d],field:h,sort:D,as:Ia,offset:da});return a}}class pf extends kg{clone(){return new pf(null,rf(this.transform))}constructor(a,
d){super(a);this.transform=d}addDimensions(a){this.transform.groupby=Lb(this.transform.groupby.concat(a),d=>d)}dependentFields(){const a=new Set;let d;(null!=(d=this.transform.groupby)?d:[]).forEach(a.add,a);let f;(null!=(f=this.transform.sort)?f:[]).forEach(h=>a.add(h.field));this.transform.window.map(h=>h.field).filter(h=>void 0!==h).forEach(a.add,a);return a}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(a){let d;return null!=(d=a.as)?d:yd(a)}hash(){return`WindowTransform ${Bb(this.transform)}`}assemble(){const a=
[],d=[],f=[],h=[];for(var x of this.transform.window)d.push(x.op),f.push(this.getDefaultName(x)),h.push(void 0===x.param?null:x.param),a.push(void 0===x.field?null:x.field);x=this.transform.frame;const D=this.transform.groupby;if(x&&null===x[0]&&null===x[1]&&d.every(hb=>La(hb)))return Object.assign({},{type:"joinaggregate",as:f,ops:d,fields:a},void 0!==D?{groupby:D}:{});const da=[],ra=[];if(void 0!==this.transform.sort)for(var Ia of this.transform.sort){da.push(Ia.field);let hb;ra.push(null!=(hb=
Ia.order)?hb:"ascending")}Ia=this.transform.ignorePeers;return Object.assign({},{type:"window",params:h,as:f,ops:d,fields:a,sort:{field:da,order:ra}},void 0!==Ia?{ignorePeers:Ia}:{},void 0!==D?{groupby:D}:{},void 0!==x?{frame:x}:{})}}class og{constructor(a){G(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:a})}static fromName(a,d){return new og(()=>a(d))}}class $f extends ii{constructor(a,d){super({},{name:a});G(this,"merged",!1);this.setWithExplicit("type",d)}domainDefinitelyIncludesZero(){return!1!==
this.get("zero")?!0:Ua(this.get("domains"),a=>P.isArray(a)&&2===a.length&&0>=a[0]&&0<=a[1])}}const bj=["range","scheme"],pl={bins:a=>{let {model:d,fieldOrDatumDef:f}=a;return vb(f)?Pj(d,f):void 0},interpolate:a=>{let {channel:d,fieldOrDatumDef:f}=a;a=f.type;a=Yb(["color","fill","stroke"],d)&&"nominal"!==a?"hcl":void 0;return a},nice:a=>{let {scaleType:d,channel:f,domain:h,domainMin:x,domainMax:D,fieldOrDatumDef:da}=a;{let ra;a=(null==(ra=Ke(da))?0:ra.bin)||P.isArray(h)||null!=D||null!=x||Yb([Bg.TIME,
Bg.UTC],d)?void 0:V(f)?!0:void 0}return a},padding:a=>{let {channel:d,scaleType:f,fieldOrDatumDef:h,markDef:x,config:D}=a;a:{a=D.scale;var da=D.bar;if(V(d)){if(Sh.has(f)){if(void 0!==a.continuousPadding){a=a.continuousPadding;break a}const {type:ra,orient:Ia}=x;if("bar"===ra&&(!vb(h)||!h.bin&&!h.timeUnit)&&("vertical"===Ia&&"x"===d||"horizontal"===Ia&&"y"===d)){a=da.continuousBandSize;break a}}if(f===Bg.POINT){a=a.pointPadding;break a}}a=void 0}return a},paddingInner:a=>{let {scalePadding:d,channel:f,
markDef:h,scaleType:x,config:D,hasNestedOffsetScale:da}=a;return Wi(d,f,h.type,x,D.scale,da)},paddingOuter:a=>{let {scalePadding:d,channel:f,scaleType:h,scalePaddingInner:x,config:D,hasNestedOffsetScale:da}=a;return Il(d,f,h,x,D.scale,da)},reverse:a=>{let {fieldOrDatumDef:d,scaleType:f,channel:h,config:x}=a;a=vb(d)?d.sort:void 0;var D=x.scale;a="x"===h&&void 0!==D.xReverse?gd(f)&&"descending"===a?Zb(D.xReverse)?{signal:`!${D.xReverse.signal}`}:!D.xReverse:D.xReverse:gd(f)&&"descending"===a?!0:void 0;
return a},zero:a=>{let {channel:d,fieldOrDatumDef:f,domain:h,markDef:x,scaleType:D,config:da,hasSecondaryRangeChannel:ra}=a;a:if(a=da.scale,h&&"unaggregated"!==h&&gd(D)){if(P.isArray(h)&&(a=h[h.length-1],0>=h[0]&&0<=a)){a=!0;break a}a=!1}else if("size"!==d||"quantitative"!==f.type||di.has(D))if(vb(f)&&f.bin||!Yb([...oi,...jl],d))a=!1;else{const {orient:Ia,type:hb}=x;a=Yb(["bar","area","line","trail"],hb)&&("horizontal"===Ia&&"y"===d||"vertical"===Ia&&"x"===d)?!1:Yb(["bar","area"],hb)&&!ra?!0:null==
a?void 0:a.zero}else a=!0;return a}},Jm=Ff((a,d)=>yi[a]-yi[d]);class vm{constructor(){G(this,"nameMap",void 0);this.nameMap={}}rename(a,d){this.nameMap[a]=d}has(a){return void 0!==this.nameMap[a]}get(a){for(;this.nameMap[a]&&a!==this.nameMap[a];)a=this.nameMap[a];return a}}class wm{constructor(a,d,f,h,x,D,da){this.type=d;this.parent=f;this.config=x;G(this,"name",void 0);G(this,"size",void 0);G(this,"title",void 0);G(this,"description",void 0);G(this,"data",void 0);G(this,"transforms",void 0);G(this,
"layout",void 0);G(this,"scaleNameMap",void 0);G(this,"projectionNameMap",void 0);G(this,"signalNameMap",void 0);G(this,"component",void 0);G(this,"view",void 0);G(this,"children",void 0);G(this,"correctDataNames",hb=>{let Ob;if(null==(Ob=hb.from)?0:Ob.data)hb.from.data=this.lookupDataSource(hb.from.data);let tc,md;if(null==(tc=hb.from)?0:null==(md=tc.facet)?0:md.data)hb.from.facet.data=this.lookupDataSource(hb.from.facet.data);return hb});this.parent=f;this.config=x;this.view=sc(da);let ra;this.name=
null!=(ra=a.name)?ra:h;this.title=cd(a.title)?{text:a.title}:a.title?sc(a.title):void 0;this.scaleNameMap=f?f.scaleNameMap:new vm;this.projectionNameMap=f?f.projectionNameMap:new vm;this.signalNameMap=f?f.signalNameMap:new vm;this.data=a.data;this.description=a.description;let Ia;this.transforms=Jg(null!=(Ia=a.transform)?Ia:[]);this.layout="layer"===d||"unit"===d?{}:ug(a,d,x);this.component={data:{sources:f?f.component.data.sources:[],outputNodes:f?f.component.data.outputNodes:{},outputNodeRefCounts:f?
f.component.data.outputNodeRefCounts:{},isFaceted:"facet"in a||(null==f?void 0:f.component.data.isFaceted)&&void 0===a.data},layoutSize:new ii,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},D?rf(D):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();
this.parseSelections();this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){lk(this)}parseProjection(){uf(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){Ef(this)}assembleEncodeFromView(a){a=Object.assign({},a);a=(delete a.style,a);const d={};for(const f of ie(a)){const h=
a[f];void 0!==h&&(d[f]=Tb(h))}return d}assembleGroupEncodeEntry(a){let d={};this.view&&(d=this.assembleEncodeFromView(this.view));if(!a&&(this.description&&(d.description=Tb(this.description)),"unit"===this.type||"layer"===this.type)){let f;return Object.assign({},{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!=(f=d)?f:{})}return Qa(d)?void 0:d}assembleLayout(){if(this.layout){var a=this.layout,d=Object.assign({},a);a=a.spacing;d=(delete d.spacing,d);var {component:f,
config:h}=this,x=f.layoutHeaders,D={};for(ra of ai){var da=x[ra];let Ia;if(null==(Ia=da)?0:Ia.facetFieldDef){const {titleAnchor:hb,titleOrient:Ob}=Te(["titleAnchor","titleOrient"],da.facetFieldDef.header,h,ra);da=ke(ra,Ob);const tc=Jl[da][hb];void 0!==tc&&(D[da]=tc)}}var ra=Qa(D)?void 0:D;return Object.assign({},{padding:a},this.assembleDefaultLayout(),d,ra?{titleBand:ra}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){var {layoutHeaders:a}=this.component,d=[];for(var f of ai)if(a[f].title){var h=
d,x=h.push;var D=f;var da=this.component.layoutHeaders[D].title,ra=this.config?this.config:void 0,Ia=this.component.layoutHeaders[D].facetFieldDef?this.component.layoutHeaders[D].facetFieldDef:void 0;const {titleAnchor:pd,titleAngle:je,titleOrient:Nd}=Te(["titleAnchor","titleAngle","titleOrient"],Ia.header,ra,D);var hb=ke(D,Nd),Ob=na(je);D={name:`${D}-title`,type:"group",role:`${hb}-title`,title:Object.assign({},{text:da},"row"===D?{orient:"left"}:{},{style:"guide-title"},T(Ob,hb),w(hb,Ob,pd),Ea(ra,
Ia,D,Sl,ql))};x.call(h,D)}for(const pd of Zk){a=d;d=a.concat;h=pd;x=this.component.layoutHeaders[h];f=[];for(const je of Ek)if(x[je])for(const Nd of x[je]){a:{Ia=void 0;D=h;var tc=je,md=x;if(da=Nd){ra=null;({facetFieldDef:bd}=md);hb=this.config?this.config:void 0;bd&&da.labels&&({labelOrient:Ob}=Te(["labelOrient"],bd.header,hb,D),"row"===D&&!Yb(["top","bottom"],Ob)||"column"===D&&!Yb(["left","right"],Ob))&&(ra=aa(bd,D,hb));const we=Rh(this)&&!le(this.facet),Re=da.axes,gf=0<(null==Re?void 0:Re.length);
if(ra||gf){const Tf="row"===D?"height":"width";hb=Object;Ob=hb.assign;tc={name:this.getName(`${D}_${tc}`),type:"group",role:`${D}-${tc}`};if(md.facetFieldDef){md={data:this.getName(`${D}_domain`)};{var Jc=bd;const {sort:Sf}=Jc;var bd=Vd(Sf)?{field:yd(Sf,{expr:"datum"}),order:null!=(Ia=Sf.order)?Ia:"ascending"}:P.isArray(Sf)?{field:ad(Jc,D,{expr:"datum"}),order:"ascending"}:{field:yd(Jc,{expr:"datum"}),order:null!=Sf?Sf:"ascending"}}Ia={from:md,sort:bd}}else Ia={};D=Ob.call(hb,{},tc,Ia,gf&&we?{from:{data:this.getName(`facet_domain_${D}`)}}:
{},ra?{title:ra}:{},da.sizeSignal?{encode:{update:{[Tf]:da.sizeSignal}}}:{},gf?{axes:Re}:{});break a}}D=null}null!=D&&f.push(D)}d=d.call(a,f)}return d}assembleAxes(){return W(this.component.axes,this.config)}assembleLegends(){return mg(this)}assembleProjections(){var a=Xi(this)||gj(this)?Hh(this):gg(this);return a}assembleTitle(){var a,d=null!=(a=this.title)?a:{};a=Object.assign({},d);d=d.encoding;a=(delete a.encoding,a);d=Object.assign({},xc(this.config.title).nonMarkTitleProperties,a,d?{encode:{update:d}}:
{});if(d.text)return Yb(["unit","layer"],this.type)?Yb(["middle",void 0],d.anchor)&&(null!=d.frame||(d.frame="group")):null!=d.anchor||(d.anchor="start"),Qa(d)?void 0:d}assembleGroup(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];const d={};a=a.concat(this.assembleSignals());0<a.length&&(d.signals=a);if(a=this.assembleLayout())d.layout=a;d.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());a=!this.parent||Rh(this.parent)?Ik(this):[];0<a.length&&(d.scales=a);a=this.assembleAxes();
0<a.length&&(d.axes=a);a=this.assembleLegends();0<a.length&&(d.legends=a);return d}getName(a){return Ka((this.name?`${this.name}_`:"")+a)}getDataName(a){return this.getName(Hg[a].toLowerCase())}requestDataName(a){a=this.getDataName(a);const d=this.component.data.outputNodeRefCounts;d[a]=(d[a]||0)+1;return a}getSizeSignalRef(a){if(Rh(this.parent)){var d=Mc(a),f=Aa(d);if((d=this.component.scales[f])&&!d.merged){var h=d.get("type");const x=d.get("range");if(Sc(h)&&Rc(x)){a=d.get("name");h=vj(this,f);
if(h=Hk(h))return f=yd({aggregate:"distinct",field:h},{expr:"datum"}),{signal:Nb(a,d,f)};za(ec(f));return null}}}return{signal:this.signalNameMap.get(this.getName(a))}}lookupDataSource(a){const d=this.component.data.outputNodes[a];return d?d.getSource():a}getSignalName(a){return this.signalNameMap.get(a)}renameSignal(a,d){this.signalNameMap.rename(a,d)}renameScale(a,d){this.scaleNameMap.rename(a,d)}renameProjection(a,d){this.projectionNameMap.rename(a,d)}scaleName(a,d){if(d)return this.getName(a);
if(ek[a]&&Ei[a]&&this.component.scales[a]||this.scaleNameMap.has(this.getName(a)))return this.scaleNameMap.get(this.getName(a))}projectionName(a){if(a)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(a){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");
const d=this.component.scales[a];return d&&!d.merged?d:this.parent?this.parent.getScaleComponent(a):void 0}getSelectionComponent(a,d){let f=this.component.selection[a];!f&&this.parent&&(f=this.parent.getSelectionComponent(a,d));if(!f)throw Error(`Cannot find a selection named "${d}".`);return f}hasAxisOrientSignalRef(){let a,d;return(null==(a=this.component.axes.x)?void 0:a.some(f=>f.hasOrientSignalRef()))||(null==(d=this.component.axes.y)?void 0:d.some(f=>f.hasOrientSignalRef()))}}class Fm extends wm{vgField(a){let d=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const f=this.fieldDef(a);if(f)return yd(f,d)}reduceFieldDef(a,d){return qa(this.getMapping(),(f,h,x)=>(h=Ke(h))?a(f,h,x):f,d)}forEachFieldDef(a,d){Ug(this.getMapping(),(f,h)=>{(f=Ke(f))&&a(f,h)},d)}}class om extends kg{clone(){return new om(null,rf(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=rf(d);let f;a=null!=(f=this.transform.as)?f:[void 0,void 0];let h,x;this.transform.as=[null!=(h=a[0])?h:"value",null!=(x=
a[1])?x:"density"];d.groupby&&null==d.minsteps&&null==d.maxsteps&&null==d.steps&&(this.transform.steps=200)}dependentFields(){let a;return new Set([this.transform.density,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${Bb(this.transform)}`}assemble(){var a=this.transform,d=Object.assign({},a);a=a.density;d=(delete d.density,d);return Object.assign({},{type:"kde",field:a},d)}}class um extends kg{clone(){return new um(null,
rf(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=rf(d)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${Bb(this.transform)}`}assemble(){const {extent:a,param:d}=this.transform;return{type:"extent",field:a,signal:d}}}class Cl extends kg{clone(){return new Cl(null,Object.assign({},this.filter))}constructor(a,d){super(a);this.filter=d}static make(a,d){const {config:f,mark:h,markDef:x}=d;if("filter"!==
zc("invalid",x,f))return null;const D=d.reduceFieldDef((da,ra,Ia)=>{if(Ia=!!Ei[Ia]&&d.getScaleComponent(Ia))Ia=Ia.get("type"),gd(Ia)&&"count"!==ra.aggregate&&!oc(h)&&(da[ra.field]=ra);return da},{});return ie(D).length?new Cl(a,D):null}dependentFields(){return new Set(ie(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${Bb(this.filter)}`}assemble(){const a=ie(this.filter).reduce((d,f)=>{f=this.filter[f];const h=yd(f,{expr:"datum"});null!==f&&("temporal"===f.type?d.push(`(isDate(${h}) || (isValid(${h}) && isFinite(+${h})))`):
"quantitative"===f.type&&(d.push(`isValid(${h})`),d.push(`isFinite(+${h})`)));return d},[]);return 0<a.length?{type:"filter",expr:a.join(" \x26\x26 ")}:null}}class nm extends kg{clone(){return new nm(this.parent,rf(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=rf(d);const {flatten:f,as:h=[]}=this.transform;this.transform.as=f.map((x,D)=>{let da;return null!=(da=h[D])?da:x})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${Bb(this.transform)}`}assemble(){const {flatten:a,
as:d}=this.transform;return{type:"flatten",fields:a,as:d}}}class mm extends kg{clone(){return new mm(null,rf(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=rf(d);let f;a=null!=(f=this.transform.as)?f:[void 0,void 0];let h,x;this.transform.as=[null!=(h=a[0])?h:"key",null!=(x=a[1])?x:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${Bb(this.transform)}`}assemble(){const {fold:a,
as:d}=this.transform;return{type:"fold",fields:a,as:d}}}class cl extends kg{clone(){return new cl(null,rf(this.fields),this.geojson,this.signal)}static parseAll(a,d){if(d.component.projection&&!d.component.projection.isFit)return a;let f=0;for(var h of[["longitude","latitude"],["longitude2","latitude2"]]){const x=h.map(D=>{D=ne(d.encoding[D]);return vb(D)?D.field:qc(D)?{expr:`${D.datum}`}:zd(D)?{expr:`${D.value}`}:void 0});if(x[0]||x[1])a=new cl(a,x,null,d.getName(`geojson_${f++}`))}d.channelHasField("shape")&&
(h=d.typedFieldDef("shape"),"geojson"===h.type&&(a=new cl(a,null,h.field,d.getName(`geojson_${f++}`))));return a}constructor(a,d,f,h){super(a);this.fields=d;this.geojson=f;this.signal=h}dependentFields(){let a;const d=(null!=(a=this.fields)?a:[]).filter(P.isString);return new Set([...(this.geojson?[this.geojson]:[]),...d])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${Bb(this.fields)}`}assemble(){return[...(this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:
[]),Object.assign({},{type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})]}}class Dl extends kg{clone(){return new Dl(null,this.projection,rf(this.fields),rf(this.as))}constructor(a,d,f,h){super(a);this.projection=d;this.fields=f;this.as=h}static parseAll(a,d){if(!d.projectionName())return a;for(const f of[["longitude","latitude"],["longitude2","latitude2"]]){const h=f.map(D=>{D=ne(d.encoding[D]);return vb(D)?D.field:qc(D)?{expr:`${D.datum}`}:
zd(D)?{expr:`${D.value}`}:void 0}),x="longitude2"===f[0]?"2":"";if(h[0]||h[1])a=new Dl(a,d.projectionName(),h,[d.getName(`x${x}`),d.getName(`y${x}`)])}return a}dependentFields(){return new Set(this.fields.filter(P.isString))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${Bb(this.fields)} ${Bb(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Gk extends kg{clone(){return new Gk(null,rf(this.transform))}constructor(a,
d){super(a);this.transform=d}dependentFields(){let a;return new Set([this.transform.impute,this.transform.key,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set([this.transform.impute])}processSequence(a){const {start:d=0,stop:f,step:h}=a;return{signal:`sequence(${[d,f,...(h?[h]:[])].join()})`}}static makeFromTransform(a,d){return new Gk(a,d)}static makeFromEncoding(a,d){const f=d.encoding;var h=f.x;const x=f.y;if(vb(h)&&vb(x)){const D=h.impute?h:x.impute?x:void 0;if(void 0===
D)return;h=h.impute?x:x.impute?h:void 0;const {method:da,value:ra,frame:Ia,keyvals:hb}=D.impute;d=bb(d.mark,f);return new Gk(a,Object.assign({},{impute:D.field,key:h.field},da?{method:da}:{},void 0!==ra?{value:ra}:{},Ia?{frame:Ia}:{},void 0!==hb?{keyvals:hb}:{},d.length?{groupby:d}:{}))}return null}hash(){return`Impute ${Bb(this.transform)}`}assemble(){const {impute:a,key:d,keyvals:f,method:h,groupby:x,value:D,frame:da=[null,null]}=this.transform;var ra=Object,Ia=ra.assign;var hb=f?{keyvals:void 0!==
(null==f?void 0:f.stop)?this.processSequence(f):f}:{};ra=Ia.call(ra,{},{type:"impute",field:a,key:d},hb,{method:"value"},x?{groupby:x}:{},{value:h&&"value"!==h?null:D});return h&&"value"!==h?(Ia=Object.assign({},{type:"window",as:[`imputed_${a}_value`],ops:[h],fields:[a],frame:da,ignorePeers:!1},x?{groupby:x}:{}),[ra,Ia,{type:"formula",expr:`datum.${a} === null ? datum.imputed_${a}_value : datum.${a}`,as:a}]):[ra]}}class pm extends kg{clone(){return new pm(null,rf(this.transform))}constructor(a,d){super(a);
this.transform=d;this.transform=rf(d);let f;a=null!=(f=this.transform.as)?f:[void 0,void 0];let h,x;this.transform.as=[null!=(h=a[0])?h:d.on,null!=(x=a[1])?x:d.loess]}dependentFields(){let a;return new Set([this.transform.loess,this.transform.on,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${Bb(this.transform)}`}assemble(){var a=this.transform,d=Object.assign({},a);const f=a.loess;a=a.on;d=(delete d.loess,delete d.on,
d);return Object.assign({},{type:"loess",x:a,y:f},d)}}class El extends kg{clone(){return new El(null,rf(this.transform),this.secondary)}constructor(a,d,f){super(a);this.transform=d;this.secondary=f}static make(a,d,f,h){const x=d.component.data.sources,{from:D}=f;var da=null;if("data"in D)da=yl(D.data,x),da||(da=new tb(D.data),x.push(da)),h=d.getName(`lookup_${h}`),da=new rh(da,h,Hg.Lookup,d.component.data.outputNodeRefCounts),d.component.data.outputNodes[h]=da;else if("param"in D){h=D.param;f=Object.assign({},
{as:h},f);let ra;try{ra=d.getSelectionComponent(Ka(h),h)}catch(Ia){throw Error(`Lookups can only be performed on selection parameters. "${h}" is a variable parameter.`);}da=ra.materialized;if(!da)throw Error(`Cannot define and lookup the "${h}" selection in the same view. `+"Try moving the lookup into a second, layered view?");}return new El(a,f,da.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?P.array(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${Bb({transform:this.transform,
secondary:this.secondary})}`}assemble(){if(this.transform.from.fields)var a=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:P.array(this.transform.as)}:{});else a=this.transform.as,P.isString(a)||(za('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),a="_lookup"),a={as:[a]};return Object.assign({},{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},
a,this.transform.default?{default:this.transform.default}:{})}}class qm extends kg{clone(){return new qm(null,rf(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=rf(d);let f;a=null!=(f=this.transform.as)?f:[void 0,void 0];let h,x;this.transform.as=[null!=(h=a[0])?h:"prob",null!=(x=a[1])?x:"value"]}dependentFields(){let a;return new Set([this.transform.quantile,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${Bb(this.transform)}`}assemble(){var a=
this.transform,d=Object.assign({},a);a=a.quantile;d=(delete d.quantile,d);return Object.assign({},{type:"quantile",field:a},d)}}class rm extends kg{clone(){return new rm(null,rf(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=rf(d);let f;a=null!=(f=this.transform.as)?f:[void 0,void 0];let h,x;this.transform.as=[null!=(h=a[0])?h:d.on,null!=(x=a[1])?x:d.regression]}dependentFields(){let a;return new Set([this.transform.regression,this.transform.on,...(null!=(a=this.transform.groupby)?
a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${Bb(this.transform)}`}assemble(){var a=this.transform,d=Object.assign({},a);const f=a.regression;a=a.on;d=(delete d.regression,delete d.on,d);return Object.assign({},{type:"regression",x:a,y:f},d)}}class tm extends kg{clone(){return new tm(null,rf(this.transform))}constructor(a,d){super(a);this.transform=d}addDimensions(a){let d;this.transform.groupby=Lb((null!=(d=this.transform.groupby)?d:[]).concat(a),
f=>f)}producedFields(){}dependentFields(){let a;return new Set([this.transform.pivot,this.transform.value,...(null!=(a=this.transform.groupby)?a:[])])}hash(){return`PivotTransform ${Bb(this.transform)}`}assemble(){const {pivot:a,value:d,groupby:f,limit:h,op:x}=this.transform;return Object.assign({},{type:"pivot",field:a,value:d},void 0!==h?{limit:h}:{},void 0!==x?{op:x}:{},void 0!==f?{groupby:f}:{})}}class sm extends kg{clone(){return new sm(null,rf(this.transform))}constructor(a,d){super(a);this.transform=
d}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${Bb(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}class Gl extends Fm{constructor(a,d,f,h){super(a,"facet",d,f,h,a.resolve);G(this,"facet",void 0);G(this,"child",void 0);G(this,"children",void 0);this.child=Qk(a.spec,this,this.getName("child"),void 0,h);this.children=[this.child];this.facet=this.initFacet(a.facet)}initFacet(a){if(!le(a))return{facet:this.initFacetFieldDef(a,
"facet")};var d=ie(a);const f={};for(const h of d){if(!["row","column"].includes(h)){za(Zd(h,"facet"));break}d=a[h];if(void 0===d.field){za(Fd(d,h));break}f[h]=this.initFacetFieldDef(d,h)}return f}initFacetFieldDef(a,d){a=jf(a,d);a.header?a.header=sc(a.header):null===a.header&&(a.header=null);return a}channelHasField(a){return!!this.facet[a]}fieldDef(a){return this.facet[a]}parseData(){this.component.data=Bk(this);this.child.parseData()}parseLayoutSize(){Jj(this)}parseSelections(){this.child.parseSelections();
this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();for(const h of ai){var a=void 0,d=h;const {facet:x,config:D,child:da,component:ra}=this;if(this.channelHasField(d)){const Ia=x[d];var f=Be("title",null,D,d);f=he(Ia,D,{allowDisabling:!0,includeDefault:void 0===f||!!f});da.component.layoutHeaders[d].title&&(f=P.isArray(f)?f.join(", "):f,f+=` / ${da.component.layoutHeaders[d].title}`,da.component.layoutHeaders[d].title=
null);const hb=Be("labelOrient",Ia.header,D,d),Ob=null!==Ia.header?Fa(null==(a=Ia.header)?void 0:a.labels,D.header.labels,!0):!1;a=Yb(["bottom","right"],hb)?"footer":"header";ra.layoutHeaders[d]={title:null!==Ia.header?f:null,facetFieldDef:Ia,[a]:"facet"===d?[]:[Ak(this,d,Ob)]}}}Ij(this,"x");Ij(this,"y")}assembleSelectionTopLevelSignals(a){return this.child.assembleSelectionTopLevelSignals(a)}assembleSignals(){this.child.assembleSignals();return[]}assembleSelectionData(a){return this.child.assembleSelectionData(a)}getHeaderLayoutMixins(){const a=
{};for(const h of ai)for(const x of Ek){const D=this.component.layoutHeaders[h];var d=D[x],{facetFieldDef:f}=D;if(f&&(f=Be("titleOrient",f.header,this.config,h),["right","bottom"].includes(f))){f=ke(h,f);let ra;null!=(ra=a).titleAnchor||(ra.titleAnchor={});a.titleAnchor[f]="end"}let da;if(null==(da=d)?0:da[0]){d="row"===h?"height":"width";f="header"===x?"headerBand":"footerBand";if("facet"!==h&&!this.child.component.layoutSize.get(d)){let ra,Ia;null!=(ra=a)[Ia=f]||(ra[Ia]={});a[f][h]=.5}if(D.title){let ra;
null!=(ra=a).offset||(ra.offset={});a.offset["row"===h?"rowTitle":"columnTitle"]=10}}}return a}assembleDefaultLayout(){const {column:a,row:d}=this.facet,f=a?this.columnDistinctSignal():d?1:void 0;let h="all";d||"independent"!==this.component.resolve.scale.x?a||"independent"!==this.component.resolve.scale.y||(h="none"):h="none";return Object.assign({},this.getHeaderLayoutMixins(),f?{columns:f}:{},{bounds:"full",align:h})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&
this.parent instanceof Gl))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(a){return this.parent&&this.parent instanceof Gl?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:yd(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(a)):super.assembleGroup(a)}getCardinalityAggregateForChild(){const a=[],d=[],f=[];if(this.child instanceof Gl){if(this.child.channelHasField("column")){var h=yd(this.child.facet.column);
a.push(h);d.push("distinct");f.push(`distinct_${h}`)}}else for(h of oi){var x=this.child.component.scales[h];if(x&&!x.merged){var D=x.get("type");x=x.get("range");Sc(D)&&Rc(x)&&(D=vj(this.child,h),(D=Hk(D))?(a.push(D),d.push("distinct"),f.push(`distinct_${D}`)):za(ec(h)))}}return{fields:a,ops:d,as:f}}assembleFacet(){const {name:a,data:d}=this.component.data.facetRoot,{row:f,column:h}=this.facet,{fields:x,ops:D,as:da}=this.getCardinalityAggregateForChild(),ra=[];for(var Ia of ai){var hb=this.facet[Ia];
if(hb){ra.push(yd(hb));const {bin:Ob,sort:tc}=hb;X(Ob)&&ra.push(yd(hb,{binSuffix:"end"}));if(Vd(tc)){const {field:md,op:Jc="min"}=tc;hb=Pk(hb,tc);f&&h?(x.push(hb),D.push("max")):(x.push(md),D.push(Jc));da.push(hb)}else P.isArray(tc)&&(hb=ad(hb,Ia),x.push(hb),D.push("max"),da.push(hb))}}Ia=!!f&&!!h;return Object.assign({},{name:a,data:d,groupby:ra},Ia||0<x.length?{aggregate:Object.assign({},Ia?{cross:Ia}:{},x.length?{fields:x,ops:D,as:da}:{})}:{})}facetSortFields(a){var {facet:d}=this;return(d=d[a])?
Vd(d.sort)?[Pk(d,d.sort,{expr:"datum"})]:P.isArray(d.sort)?[ad(d,a,{expr:"datum"})]:[yd(d,{expr:"datum"})]:[]}facetSortOrder(a){const {facet:d}=this;return(a=d[a])?({sort:a}=a,[(Vd(a)?a.order:!P.isArray(a)&&a)||"ascending"]):[]}assembleLabelTitle(){const {facet:a,config:d}=this;if(a.facet)return aa(a.facet,"facet",d);const f={row:["top","bottom"],column:["left","right"]};for(const h of Zk)if(a[h]){let x;const D=Be("labelOrient",null==(x=a[h])?void 0:x.header,d,h);if(f[h].includes(D))return aa(a[h],
h,d)}}assembleMarks(){const {child:a}=this,d=Ml(this.component.data.facetRoot),f=a.assembleGroupEncodeEntry(!1),h=this.assembleLabelTitle()||a.assembleTitle(),x=a.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},h?{title:h}:{},x?{style:x}:{},{from:{facet:this.assembleFacet()},sort:{field:ai.map(D=>this.facetSortFields(D)).flat(),order:ai.map(D=>this.facetSortOrder(D)).flat()}},0<d.length?{data:d}:{},f?{encode:{update:f}}:{},a.assembleGroup(p(this,[])))]}getMapping(){return this.facet}}
class Lm extends wm{constructor(a,d,f,h){super(a,"concat",d,f,h,a.resolve);G(this,"children",void 0);let x,D,da,ra;"shared"!==(null==(x=a.resolve)?void 0:null==(D=x.axis)?void 0:D.x)&&"shared"!==(null==(da=a.resolve)?void 0:null==(ra=da.axis)?void 0:ra.y)||za("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");this.children=this.getChildren(a).map((Ia,hb)=>Qk(Ia,this,this.getName(`concat_${hb}`),void 0,h))}parseData(){this.component.data=
Bk(this);for(const a of this.children)a.parseData()}parseSelections(){this.component.selection={};for(const a of this.children){a.parseSelections();for(const d of ie(a.component.selection))this.component.selection[d]=a.component.selection[d]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){for(const a of this.children)a.parseAxesAndHeaders()}getChildren(a){return"vconcat"in a?a.vconcat:"hconcat"in a?a.hconcat:a.concat}parseLayoutSize(){Jj(this);const a=void 0===
this.layout.columns?"height":"childHeight";Uj(this,1===this.layout.columns?"width":"childWidth");Uj(this,a)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(a){return this.children.reduce((d,f)=>f.assembleSelectionTopLevelSignals(d),a)}assembleSignals(){this.children.forEach(a=>a.assembleSignals());return[]}assembleLayoutSignals(){const a=rb(this);for(const d of this.children)a.push(...d.assembleLayoutSignals());return a}assembleSelectionData(a){return this.children.reduce((d,f)=>f.assembleSelectionData(d),
a)}assembleMarks(){return this.children.map(a=>{const d=a.assembleTitle(),f=a.assembleGroupStyle(),h=a.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:a.getName("group")},d?{title:d}:{},f?{style:f}:{},h?{encode:{update:h}}:{},a.assembleGroup())})}assembleGroupStyle(){}assembleDefaultLayout(){const a=this.layout.columns;return Object.assign({},null!=a?{columns:a}:{},{bounds:"full",align:"each"})}}const Mm=Object.assign({},{disable:1,gridScale:1,scale:1},rg,{labelExpr:1,encode:1}),
Bm=ie(Mm);class Cm extends ii{constructor(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super();this.explicit=a;this.implicit=d;this.mainExtracted=f}clone(){return new Cm(rf(this.explicit),rf(this.implicit),this.mainExtracted)}hasAxisPart(a){if("axis"===a)return!0;if("grid"===a||"title"===a)return!!this.get(a);a=this.get(a);return!(!1===a||null===a)}hasOrientSignalRef(){return Zb(this.explicit.orient)}}
const Nm={bottom:"top",top:"bottom",left:"right",right:"left"},Km=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),Fl={arc:{vgMark:"arc",encodeEntry:a=>Object.assign({},sf(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),xe("x",a,{defaultPos:"mid"}),xe("y",a,{defaultPos:"mid"}),Qe(a,"radius"),Qe(a,"theta"))},area:{vgMark:"area",encodeEntry:a=>Object.assign({},sf(a,{align:"ignore",baseline:"ignore",
color:"include",orient:"include",size:"ignore",theta:"ignore"}),wf("x",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===a.markDef.orient}),wf("y",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===a.markDef.orient}),Mf(a))},bar:{vgMark:"rect",encodeEntry:a=>Object.assign({},sf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Qe(a,"x"),Qe(a,"y"))},circle:{vgMark:"symbol",encodeEntry:a=>Jk(a,"circle")},geoshape:{vgMark:"shape",
encodeEntry:a=>Object.assign({},sf(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:a=>{var {encoding:d}=a;d=d.shape;return[Object.assign({},{type:"geoshape",projection:a.projectionName()},d&&vb(d)&&"geojson"===d.type?{field:yd(d,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:a=>Object.assign({},sf(a,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),Qe(a,"x"),Qe(a,"y"),
ma(a,"url"))},line:{vgMark:"line",encodeEntry:a=>Object.assign({},sf(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),xe("x",a,{defaultPos:"mid"}),xe("y",a,{defaultPos:"mid"}),qd("size",a,{vgChannel:"strokeWidth"}),Mf(a))},point:{vgMark:"symbol",encodeEntry:a=>Jk(a)},rect:{vgMark:"rect",encodeEntry:a=>Object.assign({},sf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Qe(a,"x"),Qe(a,"y"))},rule:{vgMark:"rule",
encodeEntry:a=>{var {markDef:d}=a;d=d.orient;return a.encoding.x||a.encoding.y||a.encoding.latitude||a.encoding.longitude?Object.assign({},sf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),wf("x",a,{defaultPos:"horizontal"===d?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==d}),wf("y",a,{defaultPos:"vertical"===d?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==d}),qd("size",a,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",
encodeEntry:a=>Jk(a,"square")},text:{vgMark:"text",encodeEntry:a=>{var {config:d}=a,f=Object,h=f.assign,x=sf(a,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),D=xe("x",a,{defaultPos:"mid"}),da=xe("y",a,{defaultPos:"mid"}),ra=ma(a),Ia=qd("size",a,{vgChannel:"fontSize"}),hb=qd("angle",a);var Ob=void 0===zc("align",a.markDef,d)?"center":void 0;Ob=jg("align",Ob);d=void 0===zc("baseline",a.markDef,d)?"middle":void 0;return h.call(f,{},x,D,da,ra,Ia,hb,
Ob,jg("baseline",d),xe("radius",a,{defaultPos:null}),xe("theta",a,{defaultPos:null}))}},tick:{vgMark:"rect",encodeEntry:a=>{const {config:d,markDef:f}=a;var h=f.orient;const x="horizontal"===h?"width":"height";h="horizontal"===h?"height":"width";var D=Object,da=D.assign,ra=sf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Ia=xe("x",a,{defaultPos:"mid",vgChannel:"xc"}),hb=xe("y",a,{defaultPos:"mid",vgChannel:"yc"});{const {config:Jc,markDef:bd}=a;
var {orient:Ob}=bd;var tc="horizontal"===Ob?"width":"height";Ob=a.getScaleComponent("horizontal"===Ob?"x":"y");var md;const pd=null!=(md=zc("size",bd,Jc,{vgChannel:tc}))?md:Jc.tick.bandSize;tc=void 0!==pd?pd:(md=Ob?Ob.get("range"):void 0)&&Rc(md)&&P.isNumber(md.step)?3*md.step/4:3*ig(Jc.view,tc)/4}return da.call(D,{},ra,Ia,hb,qd("size",a,{defaultValue:tc,vgChannel:x}),{[h]:Tb(zc("thickness",f,d))})}},trail:{vgMark:"trail",encodeEntry:a=>Object.assign({},sf(a,{align:"ignore",baseline:"ignore",color:"include",
size:"include",orient:"ignore",theta:"ignore"}),xe("x",a,{defaultPos:"mid"}),xe("y",a,{defaultPos:"mid"}),qd("size",a),Mf(a))}};class Em extends Fm{constructor(a,d,f){let h=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},x=4<arguments.length?arguments[4]:void 0;super(a,"unit",d,f,x,void 0,Bf(a)?a.view:void 0);G(this,"markDef",void 0);G(this,"encoding",void 0);G(this,"specifiedScales",{});G(this,"stack",void 0);G(this,"specifiedAxes",{});G(this,"specifiedLegends",{});G(this,"specifiedProjection",
{});G(this,"selection",[]);G(this,"children",[]);const D=Lc(a.mark)?Object.assign({},a.mark):{type:a.mark},da=D.type;void 0===D.filled&&(D.filled=Dh(D,x,{graticule:a.data&&"graticule"in a.data}));const ra=this.encoding=ch(a.encoding||{},da,D.filled,x);this.markDef=wh(D,ra,x);this.size=em({encoding:ra,size:Bf(a)?Object.assign({},h,a.width?{width:a.width}:{},a.height?{height:a.height}:{}):h});this.stack=Yg(this.markDef,ra);this.specifiedScales=this.initScales(da,ra);this.specifiedAxes=this.initAxes(ra);
this.specifiedLegends=this.initLegends(ra);this.specifiedProjection=a.projection;let Ia;this.selection=(null!=(Ia=a.params)?Ia:[]).filter(hb=>Je(hb))}get hasProjection(){const {encoding:a}=this,d=this.mark===Rk,f=a&&Rj.some(h=>Hc(a[h]));return d||f}scaleDomain(a){return(a=this.specifiedScales[a])?a.domain:void 0}axis(a){return this.specifiedAxes[a]}legend(a){return this.specifiedLegends[a]}initScales(a,d){return dj.reduce((f,h)=>{const x=ne(d[h]);if(x){let D;f[h]=this.initScale(null!=(D=x.scale)?
D:{})}return f},{})}initScale(a){const {domain:d,range:f}=a;a=sc(a);P.isArray(d)&&(a.domain=d.map(Vb));P.isArray(f)&&(a.range=f.map(Vb));return a}initAxes(a){return oi.reduce((d,f)=>{var h=a[f];if(Hc(h)||"x"===f&&Hc(a.x2)||"y"===f&&Hc(a.y2))h=Hc(h)?h.axis:void 0,d[f]=h?this.initAxis(Object.assign({},h)):h;return d},{})}initAxis(a){var d=ie(a);const f={};for(const h of d)d=a[h],f[h]=Jf(d)?Ma(d):Vb(d);return f}initLegends(a){return jm.reduce((d,f)=>{var h=ne(a[f]),x;if(x=h)a:{switch(f){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":x=
!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":x=!1;break a}x=void 0}x&&(h=h.legend,d[f]=h?sc(h):h);return d},{})}parseData(){this.component.data=Bk(this)}parseLayoutSize(){const {size:a,component:d}=this;for(const h of oi){const x=B(h);if(a[x]){var f=a[x];d.layoutSize.set(x,nf(f)?"step":f,!0)}else f=am(this,x),d.layoutSize.set(x,f,!1)}}parseSelections(){var a=this.component;{var d=this.selection;var f={};const D=this.config.selection;if(d&&d.length)for(const da of d){d=Ka(da.name);
var h=da.select,x=P.isString(h)?h:h.type;h=P.isObject(h)?rf(h):{type:x};const ra=D[x];for(const Ia in ra)if("fields"!==Ia&&"encodings"!==Ia&&("mark"===Ia&&(h[Ia]=Object.assign({},ra[Ia],h[Ia])),void 0===h[Ia]||!0===h[Ia])){let hb;h[Ia]=rf(null!=(hb=ra[Ia])?hb:h[Ia])}d=f[d]=Object.assign({},h,{name:d,type:x,init:da.value,bind:da.bind,events:P.isString(h.on)?P.parseSelector(h.on,"scope"):P.array(rf(h.on))});x=rf(da);for(const Ia of fj)Ia.defined(d)&&Ia.parse&&Ia.parse(this,d,x)}}a.selection=f}parseMarkGroup(){this.component.mark=
fm(this)}parseAxesAndHeaders(){this.component.axes=bm(this)}assembleSelectionTopLevelSignals(a){return R(this,a)}assembleSignals(){var a=[...y(this)];var d=[];var f;for(const h of sh(null!=(f=this.component.selection)?f:{})){f=h.name;let x=`${f}${"_tuple"}, ${"global"===h.resolve?"true":`{unit: ${Ng(this)}}`}`;for(const D of fj)D.defined(h)&&(D.signals&&(d=D.signals(this,h,d)),D.modifyExpr&&(x=D.modifyExpr(this,h,x)));d.push({name:f+"_modify",on:[{events:{signal:h.name+"_tuple"},update:`modify(${P.stringValue(h.name+
"_store")}, ${x})`}]})}d=F(d);return[...a,...d]}assembleSelectionData(a){return ja(this,a)}assembleLayout(){return null}assembleLayoutSignals(){return rb(this)}assembleMarks(){let a,d=null!=(a=this.component.mark)?a:[];this.parent&&Xi(this.parent)||(d=xa(this,d));return d.map(this.correctDataNames)}assembleGroupStyle(){const {style:a}=this.view||{};return void 0!==a?a:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(a){return Af(this.encoding,
a)}fieldDef(a){return Ke(this.encoding[a])}typedFieldDef(a){a=this.fieldDef(a);return $c(a)?a:null}}class Dm extends wm{constructor(a,d,f,h,x){super(a,"layer",d,f,x,a.resolve,a.view);G(this,"children",void 0);const D=Object.assign({},h,a.width?{width:a.width}:{},a.height?{height:a.height}:{});this.children=a.layer.map((da,ra)=>{if("layer"in da)return new Dm(da,this,this.getName(`layer_${ra}`),D,x);if(zf(da))return new Em(da,this,this.getName(`layer_${ra}`),D,x);throw Error(Za(da));})}parseData(){this.component.data=
Bk(this);for(const a of this.children)a.parseData()}parseLayoutSize(){Jj(this);Uj(this,"width");Uj(this,"height")}parseSelections(){this.component.selection={};for(const a of this.children){a.parseSelections();for(const d of ie(a.component.selection))this.component.selection[d]=a.component.selection[d]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){const {axes:a,resolve:d}=this.component,f={top:0,bottom:0,right:0,left:0};for(var h of this.children){h.parseAxesAndHeaders();
for(const x of ie(h.component.axes))d.axis[x]=mc(this.component.resolve,x),"shared"===d.axis[x]&&(a[x]=Ol(a[x],h.component.axes[x]),a[x]||(d.axis[x]="independent",delete a[x]))}for(const x of oi){for(const D of this.children)if(D.component.axes[x]){if("independent"===d.axis[x]){let da;a[x]=(null!=(da=a[x])?da:[]).concat(D.component.axes[x]);for(const ra of D.component.axes[x]){const {value:Ia,explicit:hb}=ra.getWithExplicit("orient");Zb(Ia)||(0<f[Ia]&&!hb&&(h=Nm[Ia],f[Ia]>f[h]&&ra.set("orient",h,
!1)),f[Ia]++)}}delete D.component.axes[x]}if("independent"===d.axis[x]&&a[x]&&1<a[x].length)for(const D of(a[x]||[]).entries()){const [da,ra]=D;0<da&&ra.get("grid")&&!ra.explicit.grid&&(ra.implicit.grid=!1)}}}assembleSelectionTopLevelSignals(a){return this.children.reduce((d,f)=>f.assembleSelectionTopLevelSignals(d),a)}assembleSignals(){return this.children.reduce((a,d)=>a.concat(d.assembleSignals()),y(this))}assembleLayoutSignals(){return this.children.reduce((a,d)=>a.concat(d.assembleLayoutSignals()),
rb(this))}assembleSelectionData(a){return this.children.reduce((d,f)=>f.assembleSelectionData(d),a)}assembleGroupStyle(){var a=new Set;for(const d of this.children)for(const f of P.array(d.assembleGroupStyle()))a.add(f);a=Array.from(a);return 1<a.length?a:1===a.length?a[0]:void 0}assembleTitle(){let a=super.assembleTitle();if(a)return a;for(const d of this.children)if(a=d.assembleTitle())return a}assembleLayout(){return null}assembleMarks(){return r(this,this.children.flatMap(a=>a.assembleMarks()))}assembleLegends(){return this.children.reduce((a,
d)=>a.concat(d.assembleLegends()),mg(this))}}k.accessPathDepth=Z;k.accessPathWithDatum=xb;k.compile=function(a){let d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};d.logger&&(Zi=d.logger);d.fieldTitle&&(Fg=d.fieldTitle);try{const Ob=lh(P.mergeConfig(d.config,a.config)),tc=Wh(a,Ob),md=Qk(tc,null,"",void 0,Ob);md.parse();var f=md.component.data,h=md;Lj(f.sources);let Jc=0,bd=0;for(var x=0;5>x&&Gj(f,h,!0);x++)Jc++;f.sources.map(Ui);for(x=0;5>x&&Gj(f,h,!1);x++)bd++;Lj(f.sources);5===Math.max(Jc,
bd)&&za("Maximum optimization runs(5) reached.");var D=tc.autosize;f=Ob;h=md;const pd=h.component.layoutSize.get("width"),je=h.component.layoutSize.get("height");void 0===D?(D={type:"pad"},h.hasAxisOrientSignalRef()&&(D.resize=!0)):P.isString(D)&&(D={type:D});var da;if(da=pd&&je){var ra=D.type;da="fit"===ra||"fit-x"===ra||"fit-y"===ra}if(da)if("step"===pd&&"step"===je)za(nc()),D.type="pad";else if("step"===pd||"step"===je){ra="step"===pd?"width":"height";za(nc(Aa(ra)));da=D;var Ia=(ra="width"===ra?
"height":"width",`fit-${Aa(ra)}`);da.type=Ia}var hb=Object.assign({},1===ie(D).length&&D.type?"pad"===D.type?{}:{autosize:D.type}:{autosize:D},Wf(f,!1),Wf(a,!0));return{spec:hm(md,hb,a.datasets,a.usermeta),normalized:tc}}finally{d.logger&&(Zi=pi),d.fieldTitle&&(Fg=Cj)}};k.contains=Yb;k.deepEqual=ci;k.deleteNestedProperty=mb;k.duplicate=rf;k.entries=Ki;k.every=ub;k.fieldIntersection=pb;k.flatAccessWithDatum=sb;k.getFirstDefined=Fa;k.hasIntersection=Pb;k.hash=Bb;k.internalField=db;k.isBoolean=Da;k.isEmpty=
Qa;k.isEqual=function(a,d){const f=ie(a),h=ie(d);if(f.length!==h.length)return!1;for(const x of f)if(a[x]!==d[x])return!1;return!0};k.isInternalField=ba;k.isNullOrFalse=jc;k.isNumeric=q;k.keys=ie;k.logicalExpr=lb;k.mergeDeep=Kb;k.never=vc;k.normalize=Wh;k.normalizeAngle=na;k.omit=uc;k.pick=Ac;k.prefixGenerator=ab;k.removePathFromField=pa;k.replaceAll=ob;k.replacePathInField=Wb;k.resetIdCounter=function(){kj=42};k.setEqual=Cb;k.some=Ua;k.stringify=Ag;k.titleCase=Pa;k.unique=Lb;k.uniqueId=Ga;k.vals=
sh;k.varName=Ka;k.version="5.14.1"})};
shadow$provide[66]=function(dc,Db,Wc,nb){function v(){throw Error("setTimeout has not been defined");}function k(){throw Error("clearTimeout has not been defined");}function P(Kb){if(uc===setTimeout)return setTimeout(Kb,0);if((uc===v||!uc)&&setTimeout)return uc=setTimeout,setTimeout(Kb,0);try{return uc(Kb,0)}catch(Lb){try{return uc.call(null,Kb,0)}catch(Cb){return uc.call(this,Kb,0)}}}function ib(Kb){if(Bb===clearTimeout)return clearTimeout(Kb);if((Bb===k||!Bb)&&clearTimeout)return Bb=clearTimeout,
clearTimeout(Kb);try{return Bb(Kb)}catch(Lb){try{return Bb.call(null,Kb)}catch(Cb){return Bb.call(this,Kb)}}}function Gb(){Yb&&Ua&&(Yb=!1,Ua.length?jc=Ua.concat(jc):ub=-1,jc.length&&ac())}function ac(){if(!Yb){var Kb=P(Gb);Yb=!0;for(var Lb=jc.length;Lb;){Ua=jc;for(jc=[];++ub<Lb;)Ua&&Ua[ub].run();ub=-1;Lb=jc.length}Ua=null;Yb=!1;ib(Kb)}}function vc(Kb,Lb){this.fun=Kb;this.array=Lb}function Ac(){}dc=Wc.exports={};try{var uc="function"===typeof setTimeout?setTimeout:v}catch(Kb){uc=v}try{var Bb="function"===
typeof clearTimeout?clearTimeout:k}catch(Kb){Bb=k}var jc=[],Yb=!1,Ua,ub=-1;dc.nextTick=function(Kb){var Lb=Array(arguments.length-1);if(1<arguments.length)for(var Cb=1;Cb<arguments.length;Cb++)Lb[Cb-1]=arguments[Cb];jc.push(new vc(Kb,Lb));1!==jc.length||Yb||P(ac)};vc.prototype.run=function(){this.fun.apply(null,this.array)};dc.title="browser";dc.browser=!0;dc.env={};dc.argv=[];dc.version="";dc.versions={};dc.on=Ac;dc.addListener=Ac;dc.once=Ac;dc.off=Ac;dc.removeListener=Ac;dc.removeAllListeners=Ac;
dc.emit=Ac;dc.prependListener=Ac;dc.prependOnceListener=Ac;dc.listeners=function(Kb){return[]};dc.binding=function(Kb){throw Error("process.binding is not supported");};dc.cwd=function(){return"/"};dc.chdir=function(Kb){throw Error("process.chdir is not supported");};dc.umask=function(){return 0}};
shadow$provide[67]=function(dc,Db,Wc,nb){var v=Db(66);(function(k,P){"object"===typeof nb&&"undefined"!==typeof Wc?Wc.exports=P(Db(64),Db(65)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],P):(k="undefined"!==typeof globalThis?globalThis:k||self,k.vegaEmbed=P(k.vega,k.vegaLite))})(this,function(k,P){function ib(U){if(U&&U.__esModule)return U;var ua=Object.create(null);U&&Object.keys(U).forEach(function(cb){if("default"!==cb){var Ab=Object.getOwnPropertyDescriptor(U,cb);Object.defineProperty(ua,
cb,Ab.get?Ab:{enumerable:!0,get:function(){return U[cb]}})}});ua["default"]=U;return Object.freeze(ua)}function Gb(U){if(Array.isArray(U)){U=Array(U.length);for(var ua=0;ua<U.length;ua++)U[ua]=""+ua;return U}if(Object.keys)return Object.keys(U);ua=[];for(var cb in U)m.call(U,cb)&&ua.push(cb);return ua}function ac(U){switch(typeof U){case "object":return JSON.parse(JSON.stringify(U));case "undefined":return null;default:return U}}function vc(U){for(var ua=0,cb=U.length,Ab;ua<cb;)if(Ab=U.charCodeAt(ua),
48<=Ab&&57>=Ab)ua++;else return!1;return!0}function Ac(U){return-1===U.indexOf("/")&&-1===U.indexOf("~")?U:U.replace(/~/g,"~0").replace(/\//g,"~1")}function uc(U){return U.replace(/~1/g,"/").replace(/~0/g,"~")}function Bb(U){if(void 0===U)return!0;if(U)if(Array.isArray(U))for(var ua=0,cb=U.length;ua<cb;ua++){if(Bb(U[ua]))return!0}else if("object"===typeof U){ua=Gb(U);cb=ua.length;for(var Ab=0;Ab<cb;Ab++)if(Bb(U[ua[Ab]]))return!0}return!1}function jc(U,ua){U=[U];for(var cb in ua){var Ab="object"===
typeof ua[cb]?JSON.stringify(ua[cb],null,2):ua[cb];"undefined"!==typeof Ab&&U.push(cb+": "+Ab)}return U.join("\n")}function Yb(U,ua){if(""==ua)return U;ua={op:"_get",path:ua};Ua(U,ua);return ua.value}function Ua(U,ua,cb,Ab,fc,Cc){void 0===cb&&(cb=!1);void 0===Ab&&(Ab=!0);void 0===fc&&(fc=!0);void 0===Cc&&(Cc=0);cb&&("function"==typeof cb?cb(ua,0,U,ua.path):Kb(ua,0));if(""===ua.path){fc={newDocument:U};if("add"===ua.op)return fc.newDocument=ua.value,fc;if("replace"===ua.op)return fc.newDocument=ua.value,
fc.removed=U,fc;if("move"===ua.op||"copy"===ua.op)return fc.newDocument=Yb(U,ua.from),"move"===ua.op&&(fc.removed=U),fc;if("test"===ua.op){fc.test=Cb(U,ua.value);if(!1===fc.test)throw new B("Test operation failed","TEST_OPERATION_FAILED",Cc,ua,U);fc.newDocument=U;return fc}if("remove"===ua.op)return fc.removed=U,fc.newDocument=null,fc;if("_get"===ua.op)return ua.value=U,fc;if(cb)throw new B("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",Cc,ua,U);return fc}Ab||
(U=ac(U));Ab=(ua.path||"").split("/");var $b=U,J=1,fa=Ab.length,Ta=void 0,bc,Pc;for(Pc="function"==typeof cb?cb:Kb;;){(bc=Ab[J])&&-1!=bc.indexOf("~")&&(bc=uc(bc));if(fc&&("__proto__"==bc||"prototype"==bc&&0<J&&"constructor"==Ab[J-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");cb&&void 0===
Ta&&(void 0===$b[bc]?Ta=Ab.slice(0,J).join("/"):J==fa-1&&(Ta=ua.path),void 0!==Ta&&Pc(ua,0,U,Ta));J++;if(Array.isArray($b)){if("-"===bc)bc=$b.length;else{if(cb&&!vc(bc))throw new B("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",Cc,ua,U);vc(bc)&&(bc=~~bc)}if(J>=fa){if(cb&&"add"===ua.op&&bc>$b.length)throw new B("The specified index MUST NOT be greater than the number of elements in the array",
"OPERATION_VALUE_OUT_OF_BOUNDS",Cc,ua,U);fc=E[ua.op].call(ua,$b,bc,U);if(!1===fc.test)throw new B("Test operation failed","TEST_OPERATION_FAILED",Cc,ua,U);return fc}}else if(J>=fa){fc=A[ua.op].call(ua,$b,bc,U);if(!1===fc.test)throw new B("Test operation failed","TEST_OPERATION_FAILED",Cc,ua,U);return fc}$b=$b[bc];if(cb&&J<fa&&(!$b||"object"!==typeof $b))throw new B("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",Cc,ua,U);}}function ub(U,ua,cb,Ab,fc){void 0===Ab&&(Ab=!0);
void 0===fc&&(fc=!0);if(cb&&!Array.isArray(ua))throw new B("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");Ab||(U=ac(U));Ab=Array(ua.length);for(var Cc=0,$b=ua.length;Cc<$b;Cc++)Ab[Cc]=Ua(U,ua[Cc],cb,!0,fc,Cc),U=Ab[Cc].newDocument;Ab.newDocument=U;return Ab}function Kb(U,ua,cb,Ab){if("object"!==typeof U||null===U||Array.isArray(U))throw new B("Operation is not an object","OPERATION_NOT_AN_OBJECT",ua,U,cb);if(A[U.op]){if("string"!==typeof U.path)throw new B("Operation `path` property is not a string",
"OPERATION_PATH_INVALID",ua,U,cb);if(0!==U.path.indexOf("/")&&0<U.path.length)throw new B('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",ua,U,cb);if("move"!==U.op&&"copy"!==U.op||"string"===typeof U.from)if("add"!==U.op&&"replace"!==U.op&&"test"!==U.op||void 0!==U.value){if(("add"===U.op||"replace"===U.op||"test"===U.op)&&Bb(U.value))throw new B("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",
ua,U,cb);if(cb)if("add"==U.op){var fc=U.path.split("/").length;Ab=Ab.split("/").length;if(fc!==Ab+1&&fc!==Ab)throw new B("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",ua,U,cb);}else if("replace"===U.op||"remove"===U.op||"_get"===U.op){if(U.path!==Ab)throw new B("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",ua,U,cb);}else if(("move"===U.op||"copy"===U.op)&&(fc=Lb([{op:"_get",path:U.from,value:void 0}],cb))&&"OPERATION_PATH_UNRESOLVABLE"===
fc.name)throw new B("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",ua,U,cb);}else throw new B("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",ua,U,cb);else throw new B("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",ua,U,cb);}else throw new B("Operation `op` property is not one of operations defined in RFC-6902",
"OPERATION_OP_INVALID",ua,U,cb);}function Lb(U,ua,cb){try{if(!Array.isArray(U))throw new B("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(ua)ub(ac(ua),ac(U),cb||!0);else{cb=cb||Kb;for(var Ab=0;Ab<U.length;Ab++)cb(U[Ab],Ab,ua,void 0)}}catch(fc){if(fc instanceof B)return fc;throw fc;}}function Cb(U,ua){if(U===ua)return!0;if(U&&ua&&"object"==typeof U&&"object"==typeof ua){var cb=Array.isArray(U),Ab=Array.isArray(ua);if(cb&&Ab){var fc=U.length;if(fc!=ua.length)return!1;for(cb=fc;0!==cb--;)if(!Cb(U[cb],
ua[cb]))return!1;return!0}if(cb!=Ab)return!1;Ab=Object.keys(U);fc=Ab.length;if(fc!==Object.keys(ua).length)return!1;for(cb=fc;0!==cb--;)if(!ua.hasOwnProperty(Ab[cb]))return!1;for(cb=fc;0!==cb--;)if(fc=Ab[cb],!Cb(U[fc],ua[fc]))return!1;return!0}return U!==U&&ua!==ua}function Pb(U,ua){void 0===ua&&(ua=!1);var cb=V.get(U.object);ab(cb.value,U.object,U.patches,"",ua);U.patches.length&&ub(cb.value,U.patches);ua=U.patches;0<ua.length&&(U.patches=[],U.callback&&U.callback(ua));return ua}function ab(U,ua,
cb,Ab,fc){if(ua!==U){"function"===typeof ua.toJSON&&(ua=ua.toJSON());for(var Cc=Gb(ua),$b=Gb(U),J=!1,fa=$b.length-1;0<=fa;fa--){var Ta=$b[fa],bc=U[Ta];if(!m.call(ua,Ta)||void 0===ua[Ta]&&void 0!==bc&&!1===Array.isArray(ua))Array.isArray(U)===Array.isArray(ua)?(fc&&cb.push({op:"test",path:Ab+"/"+Ac(Ta),value:ac(bc)}),cb.push({op:"remove",path:Ab+"/"+Ac(Ta)}),J=!0):(fc&&cb.push({op:"test",path:Ab,value:U}),cb.push({op:"replace",path:Ab,value:ua}));else{var Pc=ua[Ta];"object"==typeof bc&&null!=bc&&"object"==
typeof Pc&&null!=Pc&&Array.isArray(bc)===Array.isArray(Pc)?ab(bc,Pc,cb,Ab+"/"+Ac(Ta),fc):bc!==Pc&&(fc&&cb.push({op:"test",path:Ab+"/"+Ac(Ta),value:ac(bc)}),cb.push({op:"replace",path:Ab+"/"+Ac(Ta),value:ac(Pc)}))}}if(J||Cc.length!=$b.length)for(fa=0;fa<Cc.length;fa++)Ta=Cc[fa],m.call(U,Ta)||void 0===ua[Ta]||cb.push({op:"add",path:Ab+"/"+Ac(Ta),value:ac(ua[Ta])})}}function pb(U){var ua=this;ua instanceof pb||(ua=new pb);ua.tail=null;ua.head=null;ua.length=0;if(U&&"function"===typeof U.forEach)U.forEach(function(fc){ua.push(fc)});
else if(0<arguments.length)for(var cb=0,Ab=arguments.length;cb<Ab;cb++)ua.push(arguments[cb]);return ua}function Qa(U,ua,cb,Ab){if(!(this instanceof Qa))return new Qa(U,ua,cb,Ab);this.list=Ab;this.value=U;ua?(ua.next=this,this.prev=ua):this.prev=null;cb?(cb.prev=this,this.next=cb):this.next=null}function Da(){if(ed)return dd;ed=1;const U=Symbol("SemVer ANY");class ua{static get ANY(){return U}constructor(Ta,bc){bc=cb(bc);if(Ta instanceof ua){if(Ta.loose===!!bc.loose)return Ta;Ta=Ta.value}$b("comparator",
Ta,bc);this.options=bc;this.loose=!!bc.loose;this.parse(Ta);this.value=this.semver===U?"":this.operator+this.semver.version;$b("comp",this)}parse(Ta){const bc=Ta.match(this.options.loose?Ab[fc.COMPARATORLOOSE]:Ab[fc.COMPARATOR]);if(!bc)throw new TypeError("Invalid comparator: ".concat(Ta));this.operator=void 0!==bc[1]?bc[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=bc[2]?new J(bc[2],this.options.loose):U}toString(){return this.value}test(Ta){$b("Comparator.test",Ta,this.options.loose);
if(this.semver===U||Ta===U)return!0;if("string"===typeof Ta)try{Ta=new J(Ta,this.options)}catch(bc){return!1}return Cc(Ta,this.operator,this.semver,this.options)}intersects(Ta,bc){if(!(Ta instanceof ua))throw new TypeError("a Comparator is required");bc&&"object"===typeof bc||(bc={loose:!!bc,includePrerelease:!1});if(""===this.operator)return""===this.value?!0:(new fa(Ta.value,bc)).test(this.value);if(""===Ta.operator)return""===Ta.value?!0:(new fa(this.value,bc)).test(Ta.semver);const Pc=("\x3e\x3d"===
this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===Ta.operator||"\x3e"===Ta.operator),Dc=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===Ta.operator||"\x3c"===Ta.operator),Sc=this.semver.version===Ta.semver.version,gd=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===Ta.operator||"\x3c\x3d"===Ta.operator),ee=Cc(this.semver,"\x3c",Ta.semver,bc)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===Ta.operator||"\x3c"===Ta.operator);Ta=Cc(this.semver,
"\x3e",Ta.semver,bc)&&("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3e\x3d"===Ta.operator||"\x3e"===Ta.operator);return Pc||Dc||Sc&&gd||ee||Ta}}dd=ua;const cb=Ic,{re:Ab,t:fc}=zc.exports,Cc=Tc,$b=Md,J=nc,fa=Ka();return dd}function Ka(){if(Td)return Qd;Td=1;class U{constructor(Lc,Uc){Uc=cb(Uc);if(Lc instanceof U)return Lc.loose===!!Uc.loose&&Lc.includePrerelease===!!Uc.includePrerelease?Lc:new U(Lc.raw,Uc);if(Lc instanceof Ab)return this.raw=Lc.value,this.set=[[Lc]],this.format(),this;this.options=
Uc;this.loose=!!Uc.loose;this.includePrerelease=!!Uc.includePrerelease;this.raw=Lc;this.set=Lc.split("||").map(Qc=>this.parseRange(Qc.trim())).filter(Qc=>Qc.length);if(!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(Lc));if(1<this.set.length)if(Lc=this.set[0],this.set=this.set.filter(Qc=>"\x3c0.0.0-0"!==Qc[0].value),0===this.set.length)this.set=[Lc];else if(1<this.set.length)for(const Qc of this.set)if(1===Qc.length&&""===Qc[0].value){this.set=[Qc];break}this.format()}format(){return this.range=
this.set.map(Lc=>Lc.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(Lc){Lc=Lc.trim();var Uc=Object.keys(this.options).join(",");Uc="parseRange:".concat(Uc,":").concat(Lc);var Qc=ua.get(Uc);if(Qc)return Qc;Qc=this.options.loose;Lc=Lc.replace(Qc?$b[J.HYPHENRANGELOOSE]:$b[J.HYPHENRANGE],xd(this.options.includePrerelease));fc("hyphen replace",Lc);Lc=Lc.replace($b[J.COMPARATORTRIM],fa);fc("comparator trim",Lc);Lc=Lc.replace($b[J.TILDETRIM],Ta);Lc=Lc.replace($b[J.CARETTRIM],
bc);Lc=Lc.split(/\s+/).join(" ");Lc=Lc.split(" ").map(jd=>{var Od=jd;jd=this.options;fc("comp",Od,jd);Od=ee(Od,jd);fc("caret",Od);Od=Sc(Od,jd);fc("tildes",Od);Od=eb(Od,jd);fc("xrange",Od);fc("replaceStars",Od,jd);Od=Od.trim().replace($b[J.STAR],"");fc("stars",Od);return Od}).join(" ").split(/\s+/).map(jd=>{var Od=this.options;fc("replaceGTE0",jd,Od);return jd.trim().replace($b[Od.includePrerelease?J.GTE0PRE:J.GTE0],"")});Qc&&(Lc=Lc.filter(jd=>{fc("loose invalid filter",jd,this.options);return!!jd.match($b[J.COMPARATORLOOSE])}));
fc("range list",Lc);Qc=new Map;Lc=Lc.map(jd=>new Ab(jd,this.options));for(var td of Lc){if("\x3c0.0.0-0"===td.value)return[td];Qc.set(td.value,td)}1<Qc.size&&Qc.has("")&&Qc.delete("");td=[...Qc.values()];ua.set(Uc,td);return td}intersects(Lc,Uc){if(!(Lc instanceof U))throw new TypeError("a Range is required");return this.set.some(Qc=>Pc(Qc,Uc)&&Lc.set.some(td=>Pc(td,Uc)&&Qc.every(jd=>td.every(Od=>jd.intersects(Od,Uc)))))}test(Lc){if(!Lc)return!1;if("string"===typeof Lc)try{Lc=new Cc(Lc,this.options)}catch(Od){return!1}for(let Od=
0;Od<this.set.length;Od++){a:{var Uc=this.set[Od];var Qc=Lc,td=this.options;for(var jd=0;jd<Uc.length;jd++)if(!Uc[jd].test(Qc)){Uc=!1;break a}if(Qc.prerelease.length&&!td.includePrerelease){for(td=0;td<Uc.length;td++)if(fc(Uc[td].semver),Uc[td].semver!==Ab.ANY&&0<Uc[td].semver.prerelease.length&&(jd=Uc[td].semver,jd.major===Qc.major&&jd.minor===Qc.minor&&jd.patch===Qc.patch)){Uc=!0;break a}Uc=!1}else Uc=!0}if(Uc)return!0}return!1}}Qd=U;const ua=new gc({max:1E3}),cb=Ic,Ab=Da(),fc=Md,Cc=nc,{re:$b,t:J,
comparatorTrimReplace:fa,tildeTrimReplace:Ta,caretTrimReplace:bc}=zc.exports,Pc=(Lc,Uc)=>{let Qc=!0;Lc=Lc.slice();let td=Lc.pop();for(;Qc&&Lc.length;)Qc=Lc.every(jd=>td.intersects(jd,Uc)),td=Lc.pop();return Qc},Dc=Lc=>!Lc||"x"===Lc.toLowerCase()||"*"===Lc,Sc=(Lc,Uc)=>Lc.trim().split(/\s+/).map(Qc=>gd(Qc,Uc)).join(" "),gd=(Lc,Uc)=>Lc.replace(Uc.loose?$b[J.TILDELOOSE]:$b[J.TILDE],(Qc,td,jd,Od,Cd)=>{fc("tilde",Lc,Qc,td,jd,Od,Cd);Dc(td)?Qc="":Dc(jd)?Qc="\x3e\x3d".concat(td,".0.0 \x3c").concat(+td+1,".0.0-0"):
Dc(Od)?Qc="\x3e\x3d".concat(td,".").concat(jd,".0 \x3c").concat(td,".").concat(+jd+1,".0-0"):Cd?(fc("replaceTilde pr",Cd),Qc="\x3e\x3d".concat(td,".").concat(jd,".").concat(Od,"-").concat(Cd," \x3c").concat(td,".").concat(+jd+1,".0-0")):Qc="\x3e\x3d".concat(td,".").concat(jd,".").concat(Od," \x3c").concat(td,".").concat(+jd+1,".0-0");fc("tilde return",Qc);return Qc}),ee=(Lc,Uc)=>Lc.trim().split(/\s+/).map(Qc=>Sa(Qc,Uc)).join(" "),Sa=(Lc,Uc)=>{fc("caret",Lc,Uc);const Qc=Uc.includePrerelease?"-0":"";
return Lc.replace(Uc.loose?$b[J.CARETLOOSE]:$b[J.CARET],(td,jd,Od,Cd,be)=>{fc("caret",Lc,td,jd,Od,Cd,be);Dc(jd)?td="":Dc(Od)?td="\x3e\x3d".concat(jd,".0.0").concat(Qc," \x3c").concat(+jd+1,".0.0-0"):Dc(Cd)?td="0"===jd?"\x3e\x3d".concat(jd,".").concat(Od,".0").concat(Qc," \x3c").concat(jd,".").concat(+Od+1,".0-0"):"\x3e\x3d".concat(jd,".").concat(Od,".0").concat(Qc," \x3c").concat(+jd+1,".0.0-0"):be?(fc("replaceCaret pr",be),td="0"===jd?"0"===Od?"\x3e\x3d".concat(jd,".").concat(Od,".").concat(Cd,"-").concat(be,
" \x3c").concat(jd,".").concat(Od,".").concat(+Cd+1,"-0"):"\x3e\x3d".concat(jd,".").concat(Od,".").concat(Cd,"-").concat(be," \x3c").concat(jd,".").concat(+Od+1,".0-0"):"\x3e\x3d".concat(jd,".").concat(Od,".").concat(Cd,"-").concat(be," \x3c").concat(+jd+1,".0.0-0")):(fc("no pr"),td="0"===jd?"0"===Od?"\x3e\x3d".concat(jd,".").concat(Od,".").concat(Cd).concat(Qc," \x3c").concat(jd,".").concat(Od,".").concat(+Cd+1,"-0"):"\x3e\x3d".concat(jd,".").concat(Od,".").concat(Cd).concat(Qc," \x3c").concat(jd,
".").concat(+Od+1,".0-0"):"\x3e\x3d".concat(jd,".").concat(Od,".").concat(Cd," \x3c").concat(+jd+1,".0.0-0"));fc("caret return",td);return td})},eb=(Lc,Uc)=>{fc("replaceXRanges",Lc,Uc);return Lc.split(/\s+/).map(Qc=>oc(Qc,Uc)).join(" ")},oc=(Lc,Uc)=>{Lc=Lc.trim();return Lc.replace(Uc.loose?$b[J.XRANGELOOSE]:$b[J.XRANGE],(Qc,td,jd,Od,Cd,be)=>{fc("xRange",Lc,Qc,td,jd,Od,Cd,be);const ye=Dc(jd),Le=ye||Dc(Od);Cd=Le||Dc(Cd);"\x3d"===td&&Cd&&(td="");be=Uc.includePrerelease?"-0":"";ye?Qc="\x3e"===td||"\x3c"===
td?"\x3c0.0.0-0":"*":td&&Cd?(Le&&(Od=0),Cd=0,"\x3e"===td?(td="\x3e\x3d",Le?(jd=+jd+1,Od=0):Od=+Od+1,Cd=0):"\x3c\x3d"===td&&(td="\x3c",Le?jd=+jd+1:Od=+Od+1),"\x3c"===td&&(be="-0"),Qc="".concat(td+jd,".").concat(Od,".").concat(Cd).concat(be)):Le?Qc="\x3e\x3d".concat(jd,".0.0").concat(be," \x3c").concat(+jd+1,".0.0-0"):Cd&&(Qc="\x3e\x3d".concat(jd,".").concat(Od,".0").concat(be," \x3c").concat(jd,".").concat(+Od+1,".0-0"));fc("xRange return",Qc);return Qc})},xd=Lc=>(Uc,Qc,td,jd,Od,Cd,be,ye,Le,Ye,ef,
od,Ec)=>{Qc=Dc(td)?"":Dc(jd)?"\x3e\x3d".concat(td,".0.0").concat(Lc?"-0":""):Dc(Od)?"\x3e\x3d".concat(td,".").concat(jd,".0").concat(Lc?"-0":""):Cd?"\x3e\x3d".concat(Qc):"\x3e\x3d".concat(Qc).concat(Lc?"-0":"");ye=Dc(Le)?"":Dc(Ye)?"\x3c".concat(+Le+1,".0.0-0"):Dc(ef)?"\x3c".concat(Le,".").concat(+Ye+1,".0-0"):od?"\x3c\x3d".concat(Le,".").concat(Ye,".").concat(ef,"-").concat(od):Lc?"\x3c".concat(Le,".").concat(Ye,".").concat(+ef+1,"-0"):"\x3c\x3d".concat(ye);return"".concat(Qc," ").concat(ye).trim()};
return Qd}function lb(U,ua,cb,Ab,fc,Cc){const $b=J=>fb[J.type]($b,J);$b.memberDepth=0;$b.fn=Object.create(ua);$b.params=cb;$b.datum=Ab;$b.event=fc;$b.item=Cc;za.forEach(J=>$b.fn[J]=function(){return fc.vega[J](...arguments)});return $b(U)}function mb(U){const [ua,cb]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(U).slice(1,3);return{library:ua,version:cb}}function Pa(U,ua,cb){U.fields=ua||[];U.fname=cb;return U}function xb(U){return 1===U.length?Gc(U[0]):id(U)}function sb(U){function ua(){cb.push($b+
U.substring(J,fa));$b="";J=fa+1}const cb=[],Ab=U.length;let fc=null,Cc=0,$b="",J,fa,Ta;U+="";for(J=fa=0;fa<Ab;++fa)if(Ta=U[fa],"\\"===Ta)$b+=U.substring(J,fa),$b+=U.substring(++fa,++fa),J=fa;else if(Ta===fc)ua(),fc=null,Cc=-1;else if(!fc)if(J===Cc&&'"'===Ta)J=fa+1,fc=Ta;else if(J===Cc&&"'"===Ta)J=fa+1,fc=Ta;else if("."===Ta&&!Cc)fa>J?ua():J=fa+1;else if("["===Ta)fa>J&&ua(),Cc=J=fa+1;else if("]"===Ta){if(!Cc)throw Error("Access path missing open bracket: "+U);0<Cc&&ua();Cc=0;J=fa+1}if(Cc)throw Error("Access path missing closing bracket: "+
U);if(fc)throw Error("Access path missing closing quote: "+U);fa>J&&(fa++,ua());return cb}function Qb(U,ua){var cb={},Ab;for(Ab in U)Object.prototype.hasOwnProperty.call(U,Ab)&&0>ua.indexOf(Ab)&&(cb[Ab]=U[Ab]);if(null!=U&&"function"===typeof Object.getOwnPropertySymbols){var fc=0;for(Ab=Object.getOwnPropertySymbols(U);fc<Ab.length;fc++)0>ua.indexOf(Ab[fc])&&Object.prototype.propertyIsEnumerable.call(U,Ab[fc])&&(cb[Ab[fc]]=U[Ab[fc]])}return cb}function Wb(U){const ua=[];return function(cb,Ab){if("object"!==
typeof Ab||null===Ab)return Ab;cb=ua.indexOf(this)+1;ua.length=cb;if(ua.length>U)return"[Object]";if(0<=ua.indexOf(Ab))return"[Circular]";ua.push(Ab);return Ab}}function ob(U,ua,cb){function Ab(fa){fa.source===Cc&&(J=0,U.removeEventListener("message",Ab,!1))}function fc(){0>=J||(Cc.postMessage(cb,$b),setTimeout(fc,250),--J)}const Cc=U.open(ua),{origin:$b}=new URL(ua);let J=40;U.addEventListener("message",Ab,!1);setTimeout(fc,250)}function pa(U){for(var ua=arguments.length,cb=Array(1<ua?ua-1:0),Ab=
1;Ab<ua;Ab++)cb[Ab-1]=arguments[Ab];for(const fc of cb){ua=U;cb=fc;for(const Cc of Object.keys(cb))k.writeConfig(ua,Cc,cb[Cc],!0)}return U}function Z(U,ua,cb,Ab){ua="\x3chtml\x3e\x3chead\x3e".concat(ua,'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e');cb="\x3c/code\x3e\x3c/pre\x3e".concat(cb,"\x3c/body\x3e\x3c/html\x3e");const fc=window.open("");fc.document.write(ua+U+cb);fc.document.title="".concat(hf[Ab]," JSON Source")}function Fa(U,ua){if(U.$schema){U=mb(U.$schema);if(ua&&ua!==
U.library){var cb;console.warn("The given visualization spec is written in ".concat(hf[U.library],", but mode argument sets ").concat(null!==(cb=hf[ua])&&void 0!==cb?cb:ua,"."))}ua=U.library;Zd(df[ua],"^".concat(U.version.slice(1)))||console.warn("The input spec uses ".concat(hf[ua]," ").concat(U.version,", but the current version of ").concat(hf[ua]," is v").concat(df[ua],"."));return ua}return"mark"in U||"encoding"in U||"layer"in U||"hconcat"in U||"vconcat"in U||"facet"in U||"repeat"in U?"vega-lite":
"marks"in U||"signals"in U||"scales"in U||"axes"in U?"vega":null!==ua&&void 0!==ua?ua:"vega"}function Ga(U){return U&&"load"in U?U:$d.loader(U)}function db(U,ua){const cb=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Ab,fc,Cc=2<cb.length&&void 0!==cb[2]?cb[2]:{};let $b,J;k.isString(ua)?(J=Ga(Cc.loader),$b=JSON.parse(yield J.load(ua))):$b=ua;var fa,Ta,bc=null!==(fa=null===(Ta=$b.usermeta)||void 0===Ta?void 0:Ta.embedOptions)&&void 0!==fa?fa:{};k.isString(bc.defaultStyle)&&
(bc.defaultStyle=!1);fa=bc.loader;if(!J||fa){var Pc;J=Ga(null!==(Pc=Cc.loader)&&void 0!==Pc?Pc:fa)}bc=yield ba(bc,J);Cc=yield ba(Cc,J);Cc=Object.assign({},pa(Cc,bc),{config:k.mergeConfig(null!==(Ab=Cc.config)&&void 0!==Ab?Ab:{},null!==(fc=bc.config)&&void 0!==fc?fc:{})});return yield q(U,$b,Cc,J)})}function ba(U,ua){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var cb;const Ab=k.isString(U.config)?JSON.parse(yield ua.load(U.config)):null!==(cb=U.config)&&void 0!==cb?cb:{};cb=k.isString(U.patch)?
JSON.parse(yield ua.load(U.patch)):U.patch;return Object.assign({},U,cb?{patch:cb}:{},Ab?{config:Ab}:{})})}function na(U){var ua;U=U.getRootNode?U.getRootNode():document;return U instanceof ShadowRoot?{root:U,rootContainer:U}:{root:document,rootContainer:null!==(ua=document.head)&&void 0!==ua?ua:document.body}}function q(U,ua){const cb=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Ab,fc,Cc,$b,J,fa,Ta;let bc=2<cb.length&&void 0!==cb[2]?cb[2]:{};var Pc=3<cb.length?cb[3]:
void 0;const Dc=bc.theme?k.mergeConfig(lc[bc.theme],null!==(Ab=bc.config)&&void 0!==Ab?Ab:{}):bc.config;Ab=k.isBoolean(bc.actions)?bc.actions:pa({},Ce,null!==(fc=bc.actions)&&void 0!==fc?fc:{});fc=Object.assign({},kf,bc.i18n);const Sc=null!==(Cc=bc.renderer)&&void 0!==Cc?Cc:"canvas";Cc=null!==($b=bc.logLevel)&&void 0!==$b?$b:$d.Warn;$b=null!==(J=bc.downloadFileName)&&void 0!==J?J:"visualization";J="string"===typeof U?document.querySelector(U):U;if(!J)throw Error("".concat(U," does not exist"));if(!1!==
bc.defaultStyle){const {root:Qc,rootContainer:td}=na(J);if(!Qc.getElementById("vega-embed-style")){var gd=document.createElement("style");gd.id="vega-embed-style";gd.innerHTML=void 0===bc.defaultStyle||!0===bc.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n}\n.vega-embed.has-actions {\n  padding-right: 38px;\n}\n.vega-embed details:not([open]) \x3e :not(summary) {\n  display: none !important;\n}\n.vega-embed summary {\n  list-style: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 6px;\n  z-index: 1000;\n  background: white;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n  color: #1b1e23;\n  border: 1px solid #aaa;\n  border-radius: 999px;\n  opacity: 0.2;\n  transition: opacity 0.4s ease-in;\n  cursor: pointer;\n  line-height: 0px;\n}\n.vega-embed summary::-webkit-details-marker {\n  display: none;\n}\n.vega-embed summary:active {\n  box-shadow: #aaa 0px 0px 0px 1px inset;\n}\n.vega-embed summary svg {\n  width: 14px;\n  height: 14px;\n}\n.vega-embed details[open] summary {\n  opacity: 0.7;\n}\n.vega-embed:hover summary, .vega-embed:focus-within summary {\n  opacity: 1 !important;\n  transition: opacity 0.2s ease;\n}\n.vega-embed .vega-actions {\n  position: absolute;\n  z-index: 1001;\n  top: 35px;\n  right: -9px;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #d9d9d9;\n  background: white;\n  animation-duration: 0.15s;\n  animation-name: scale-in;\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n  text-align: left;\n}\n.vega-embed .vega-actions a {\n  padding: 8px 16px;\n  font-family: sans-serif;\n  font-size: 14px;\n  font-weight: 600;\n  white-space: nowrap;\n  color: #434a56;\n  text-decoration: none;\n}\n.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {\n  background-color: #f7f7f9;\n  color: black;\n}\n.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n  content: "";\n  display: inline-block;\n  position: absolute;\n}\n.vega-embed .vega-actions::before {\n  left: auto;\n  right: 14px;\n  top: -16px;\n  border: 8px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #d9d9d9;\n}\n.vega-embed .vega-actions::after {\n  left: auto;\n  right: 15px;\n  top: -14px;\n  border: 7px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #fff;\n}\n.vega-embed .chart-wrapper.fit-x {\n  width: 100%;\n}\n.vega-embed .chart-wrapper.fit-y {\n  height: 100%;\n}\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px;\n}\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n'.toString():
bc.defaultStyle;td.appendChild(gd)}}const ee=Fa(ua,bc.mode);let Sa=re[ee](ua,Dc);"vega-lite"===ee&&Sa.$schema&&(gd=mb(Sa.$schema),Zd(df.vega,"^".concat(gd.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(gd.version,", but current version is v").concat(df.vega,".")));J.classList.add("vega-embed");Ab&&J.classList.add("has-actions");J.innerHTML="";let eb=J;Ab&&(gd=document.createElement("div"),gd.classList.add("chart-wrapper"),J.appendChild(gd),eb=gd);(gd=bc.patch)&&(Sa=gd instanceof
Function?gd(Sa):ub(Sa,gd,!0,!1).newDocument);bc.formatLocale&&$d.formatLocale(bc.formatLocale);bc.timeFormatLocale&&$d.timeFormatLocale(bc.timeFormatLocale);if(bc.expressionFunctions)for(var oc in bc.expressionFunctions)gd=bc.expressionFunctions[oc],"fn"in gd?$d.expressionFunction(oc,gd.fn,gd.visitor):gd instanceof Function&&$d.expressionFunction(oc,gd);({ast:oc}=bc);gd=$d.parse(Sa,"vega-lite"===ee?{}:Dc,{ast:oc});const xd=new (bc.viewClass||$d.View)(gd,Object.assign({},{loader:Pc,logLevel:Cc,renderer:Sc},
oc?{expr:null!==(fa=null!==(Ta=$d.expressionInterpreter)&&void 0!==Ta?Ta:bc.expr)&&void 0!==fa?fa:Hb}:{}));xd.addSignalListener("autosize",(Qc,td)=>{({type:Qc}=td);"fit-x"==Qc?(eb.classList.add("fit-x"),eb.classList.remove("fit-y")):"fit-y"==Qc?(eb.classList.remove("fit-x"),eb.classList.add("fit-y")):"fit"==Qc?eb.classList.add("fit-x","fit-y"):eb.classList.remove("fit-x","fit-y")});!1!==bc.tooltip&&(fa="function"===typeof bc.tooltip?bc.tooltip:(new Hd(!0===bc.tooltip?{}:bc.tooltip)).call,xd.tooltip(fa));
({hover:fa}=bc);void 0===fa&&(fa="vega"===ee);if(fa){const {hoverSet:Qc,updateSet:td}="boolean"===typeof fa?{}:fa;xd.hover(Qc,td)}bc&&(null!=bc.width&&xd.width(bc.width),null!=bc.height&&xd.height(bc.height),null!=bc.padding&&xd.padding(bc.padding));yield xd.initialize(eb,bc.bind).runAsync();let Lc;if(!1!==Ab){Ta=J;if(!1!==bc.defaultStyle){const Qc=document.createElement("details");Qc.title=fc.CLICK_TO_VIEW_ACTIONS;J.append(Qc);Ta=Qc;fa=document.createElement("summary");fa.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e';
Qc.append(fa);Lc=td=>{Qc.contains(td.target)||Qc.removeAttribute("open")};document.addEventListener("click",Lc)}fa=document.createElement("div");Ta.append(fa);fa.classList.add("vega-actions");if(!0===Ab||!1!==Ab.export)for(const Qc of["svg","png"])if(!0===Ab||!0===Ab.export||Ab.export[Qc])Ta=fc["".concat(Qc.toUpperCase(),"_ACTION")],Pc=document.createElement("a"),Pc.text=Ta,Pc.href="#",Pc.target="_blank",Pc.download="".concat($b,".").concat(Qc),Pc.addEventListener("mousedown",function(td){const jd=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){td.preventDefault();const Od=yield xd.toImageURL(Qc,bc.scaleFactor);jd.href=Od})}),fa.append(Pc);if(!0===Ab||!1!==Ab.source)$b=document.createElement("a"),$b.text=fc.SOURCE_ACTION,$b.href="#",$b.addEventListener("click",function(Qc){var td,jd;Z(va(ua),null!==(td=bc.sourceHeader)&&void 0!==td?td:"",null!==(jd=bc.sourceFooter)&&void 0!==jd?jd:"",ee);Qc.preventDefault()}),fa.append($b);"vega-lite"!==ee||!0!==Ab&&!1===Ab.compiled||($b=
document.createElement("a"),$b.text=fc.COMPILED_ACTION,$b.href="#",$b.addEventListener("click",function(Qc){var td,jd;Z(va(Sa),null!==(td=bc.sourceHeader)&&void 0!==td?td:"",null!==(jd=bc.sourceFooter)&&void 0!==jd?jd:"","vega");Qc.preventDefault()}),fa.append($b));if(!0===Ab||!1!==Ab.editor){var Uc;const Qc=null!==(Uc=bc.editorUrl)&&void 0!==Uc?Uc:"https://vega.github.io/editor/";Uc=document.createElement("a");Uc.text=fc.EDITOR_ACTION;Uc.href="#";Uc.addEventListener("click",function(td){ob(window,
Qc,{config:Dc,mode:ee,renderer:Sc,spec:va(ua)});td.preventDefault()});fa.append(Uc)}}return{view:xd,spec:ua,vgSpec:Sa,finalize:function(){Lc&&document.removeEventListener("click",Lc);xd.finalize()},embedOptions:bc}})}function M(U){const ua=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var cb;let Ab=1<ua.length&&void 0!==ua[1]?ua[1]:{};const fc=document.createElement("div");fc.classList.add("vega-embed-wrapper");const Cc=document.createElement("div");fc.appendChild(Cc);
const $b=!0===Ab.actions||!1===Ab.actions?Ab.actions:Object.assign({},{export:!0,source:!1,compiled:!0,editor:!0},null!==(cb=Ab.actions)&&void 0!==cb?cb:{});cb=yield db(Cc,U,Object.assign({},{actions:$b},null!==Ab&&void 0!==Ab?Ab:{}));fc.value=cb.view;return fc})}var Q=ib(k),g=ib(P),u=function(){var U=function(ua,cb){U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ab,fc){Ab.__proto__=fc}||function(Ab,fc){for(var Cc in fc)fc.hasOwnProperty(Cc)&&(Ab[Cc]=fc[Cc])};return U(ua,cb)};return function(ua,
cb){function Ab(){this.constructor=ua}U(ua,cb);ua.prototype=null===cb?Object.create(cb):(Ab.prototype=cb.prototype,new Ab)}}(),m=Object.prototype.hasOwnProperty,C=function(U){function ua(cb,Ab,fc,Cc,$b){var J=this.constructor,fa=U.call(this,jc(cb,{name:Ab,index:fc,operation:Cc,tree:$b}))||this;fa.name=Ab;fa.index=fc;fa.operation=Cc;fa.tree=$b;Object.setPrototypeOf(fa,J.prototype);fa.message=jc(cb,{name:Ab,index:fc,operation:Cc,tree:$b});return fa}u(ua,U);return ua}(Error),B=C,A={add:function(U,ua,
cb){U[ua]=this.value;return{newDocument:cb}},remove:function(U,ua,cb){var Ab=U[ua];delete U[ua];return{newDocument:cb,removed:Ab}},replace:function(U,ua,cb){var Ab=U[ua];U[ua]=this.value;return{newDocument:cb,removed:Ab}},move:function(U,ua,cb){(U=Yb(cb,this.path))&&(U=ac(U));ua=Ua(cb,{op:"remove",path:this.from}).removed;Ua(cb,{op:"add",path:this.path,value:ua});return{newDocument:cb,removed:U}},copy:function(U,ua,cb){U=Yb(cb,this.from);Ua(cb,{op:"add",path:this.path,value:ac(U)});return{newDocument:cb}},
test:function(U,ua,cb){return{newDocument:cb,test:Cb(U[ua],this.value)}},_get:function(U,ua,cb){this.value=U[ua];return{newDocument:cb}}},E={add:function(U,ua,cb){vc(ua)?U.splice(ua,0,this.value):U[ua]=this.value;return{newDocument:cb,index:ua}},remove:function(U,ua,cb){U=U.splice(ua,1);return{newDocument:cb,removed:U[0]}},replace:function(U,ua,cb){var Ab=U[ua];U[ua]=this.value;return{newDocument:cb,removed:Ab}},move:A.move,copy:A.copy,test:A.test,_get:A._get},H=Object.freeze({__proto__:null,JsonPatchError:B,
deepClone:ac,getValueByPointer:Yb,applyOperation:Ua,applyPatch:ub,applyReducer:function(U,ua,cb){var Ab=Ua(U,ua);if(!1===Ab.test)throw new B("Test operation failed","TEST_OPERATION_FAILED",cb,ua,U);return Ab.newDocument},validator:Kb,validate:Lb,_areEquals:Cb}),V=new WeakMap,Aa=function(){return function(U){this.observers=new Map;this.obj=U}}(),Y=function(){return function(U,ua){this.callback=U;this.observer=ua}}(),t=Object.freeze({__proto__:null,unobserve:function(U,ua){ua.unobserve()},observe:function(U,
ua){var cb=V.get(U);if(cb){var Ab=cb.observers.get(ua);var fc=Ab&&Ab.observer}else cb=new Aa(U),V.set(U,cb);if(fc)return fc;fc={};cb.value=ac(U);if(ua){fc.callback=ua;fc.next=null;var Cc=function(){Pb(fc)},$b=function(){clearTimeout(fc.next);fc.next=setTimeout(Cc)};"undefined"!==typeof window&&(window.addEventListener("mouseup",$b),window.addEventListener("keyup",$b),window.addEventListener("mousedown",$b),window.addEventListener("keydown",$b),window.addEventListener("change",$b))}fc.patches=[];fc.object=
U;fc.unobserve=function(){Pb(fc);clearTimeout(fc.next);cb.observers.delete(fc.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",$b),window.removeEventListener("keyup",$b),window.removeEventListener("mousedown",$b),window.removeEventListener("keydown",$b),window.removeEventListener("change",$b))};cb.observers.set(ua,new Y(ua,fc));return fc},generate:Pb,compare:function(U,ua,cb){void 0===cb&&(cb=!1);var Ab=[];ab(U,ua,Ab,"",cb);return Ab}});Object.assign({},H,t,{JsonPatchError:C,
deepClone:ac,escapePathComponent:Ac,unescapePathComponent:uc});var L=/("(?:[^\\"]|\\.)*")|[:,]/g,va=function(U,ua){ua=ua||{};var cb=JSON.stringify([1],void 0,void 0===ua.indent?2:ua.indent).slice(2,-3);var Ab=""===cb?Infinity:void 0===ua.maxLength?80:ua.maxLength;var fc=ua.replacer;return function Ta($b,J,fa){$b&&"function"===typeof $b.toJSON&&($b=$b.toJSON());var bc=JSON.stringify($b,fc);if(void 0===bc)return bc;fa=Ab-J.length-fa;if(bc.length<=fa){var Pc=bc.replace(L,function(xd,Lc){return Lc||xd+
" "});if(Pc.length<=fa)return Pc}null!=fc&&($b=JSON.parse(bc),fc=void 0);if("object"===typeof $b&&null!==$b){var Dc=J+cb;var Sc=[];var gd=0;if(Array.isArray($b)){var ee="[";Pc="]";for(fa=$b.length;gd<fa;gd++)Sc.push(Ta($b[gd],Dc,gd===fa-1?0:1)||"null")}else{ee="{";Pc="}";var Sa=Object.keys($b);for(fa=Sa.length;gd<fa;gd++){var eb=Sa[gd];var oc=JSON.stringify(eb)+": ";eb=Ta($b[eb],Dc,oc.length+(gd===fa-1?0:1));void 0!==eb&&Sc.push(oc+eb)}}if(0<Sc.length)return[ee,cb+Sc.join(",\n"+Dc),Pc].join("\n"+
J)}return bc}(U,"",0)};pb.Node=Qa;pb.create=pb;pb.prototype.removeNode=function(U){if(U.list!==this)throw Error("removing node which does not belong to this list");var ua=U.next,cb=U.prev;ua&&(ua.prev=cb);cb&&(cb.next=ua);U===this.head&&(this.head=ua);U===this.tail&&(this.tail=cb);U.list.length--;U.next=null;U.prev=null;U.list=null;return ua};pb.prototype.unshiftNode=function(U){if(U!==this.head){U.list&&U.list.removeNode(U);var ua=this.head;U.list=this;if(U.next=ua)ua.prev=U;this.head=U;this.tail||
(this.tail=U);this.length++}};pb.prototype.pushNode=function(U){if(U!==this.tail){U.list&&U.list.removeNode(U);var ua=this.tail;U.list=this;if(U.prev=ua)ua.next=U;this.tail=U;this.head||(this.head=U);this.length++}};pb.prototype.push=function(){for(var U=0,ua=arguments.length;U<ua;U++)this.tail=new Qa(arguments[U],this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length};pb.prototype.unshift=function(){for(var U=0,ua=arguments.length;U<ua;U++)this.head=new Qa(arguments[U],
null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length};pb.prototype.pop=function(){if(this.tail){var U=this.tail.value;(this.tail=this.tail.prev)?this.tail.next=null:this.head=null;this.length--;return U}};pb.prototype.shift=function(){if(this.head){var U=this.head.value;(this.head=this.head.next)?this.head.prev=null:this.tail=null;this.length--;return U}};pb.prototype.forEach=function(U,ua){ua=ua||this;for(var cb=this.head,Ab=0;null!==cb;Ab++)U.call(ua,cb.value,Ab,
this),cb=cb.next};pb.prototype.forEachReverse=function(U,ua){ua=ua||this;for(var cb=this.tail,Ab=this.length-1;null!==cb;Ab--)U.call(ua,cb.value,Ab,this),cb=cb.prev};pb.prototype.get=function(U){for(var ua=0,cb=this.head;null!==cb&&ua<U;ua++)cb=cb.next;if(ua===U&&null!==cb)return cb.value};pb.prototype.getReverse=function(U){for(var ua=0,cb=this.tail;null!==cb&&ua<U;ua++)cb=cb.prev;if(ua===U&&null!==cb)return cb.value};pb.prototype.map=function(U,ua){ua=ua||this;for(var cb=new pb,Ab=this.head;null!==
Ab;)cb.push(U.call(ua,Ab.value,this)),Ab=Ab.next;return cb};pb.prototype.mapReverse=function(U,ua){ua=ua||this;for(var cb=new pb,Ab=this.tail;null!==Ab;)cb.push(U.call(ua,Ab.value,this)),Ab=Ab.prev;return cb};pb.prototype.reduce=function(U,ua){var cb=this.head;if(1<arguments.length)var Ab=ua;else if(this.head)cb=this.head.next,Ab=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var fc=0;null!==cb;fc++)Ab=U(Ab,cb.value,fc),cb=cb.next;return Ab};pb.prototype.reduceReverse=
function(U,ua){var cb=this.tail;if(1<arguments.length)var Ab=ua;else if(this.tail)cb=this.tail.prev,Ab=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var fc=this.length-1;null!==cb;fc--)Ab=U(Ab,cb.value,fc),cb=cb.prev;return Ab};pb.prototype.toArray=function(){for(var U=Array(this.length),ua=0,cb=this.head;null!==cb;ua++)U[ua]=cb.value,cb=cb.next;return U};pb.prototype.toArrayReverse=function(){for(var U=Array(this.length),ua=0,cb=this.tail;null!==cb;ua++)U[ua]=
cb.value,cb=cb.prev;return U};pb.prototype.slice=function(U,ua){ua=ua||this.length;0>ua&&(ua+=this.length);U=U||0;0>U&&(U+=this.length);var cb=new pb;if(ua<U||0>ua)return cb;0>U&&(U=0);ua>this.length&&(ua=this.length);for(var Ab=0,fc=this.head;null!==fc&&Ab<U;Ab++)fc=fc.next;for(;null!==fc&&Ab<ua;Ab++,fc=fc.next)cb.push(fc.value);return cb};pb.prototype.sliceReverse=function(U,ua){ua=ua||this.length;0>ua&&(ua+=this.length);U=U||0;0>U&&(U+=this.length);var cb=new pb;if(ua<U||0>ua)return cb;0>U&&(U=
0);ua>this.length&&(ua=this.length);for(var Ab=this.length,fc=this.tail;null!==fc&&Ab>ua;Ab--)fc=fc.prev;for(;null!==fc&&Ab>U;Ab--,fc=fc.prev)cb.push(fc.value);return cb};pb.prototype.splice=function(U,ua){U>this.length&&(U=this.length-1);0>U&&(U=this.length+U);for(var cb=0,Ab=this.head;null!==Ab&&cb<U;cb++)Ab=Ab.next;var fc=[];for(cb=0;Ab&&cb<ua;cb++)fc.push(Ab.value),Ab=this.removeNode(Ab);null===Ab&&(Ab=this.tail);Ab!==this.head&&Ab!==this.tail&&(Ab=Ab.prev);for(cb=0;cb<(2>=arguments.length?0:
arguments.length-2);cb++){var Cc=2>cb+2||arguments.length<=cb+2?void 0:arguments[cb+2];Ab=Ab===this.head?new Qa(Cc,null,Ab,this):new Qa(Cc,Ab,Ab.next,this);null===Ab.next&&(this.tail=Ab);null===Ab.prev&&(this.head=Ab);this.length++}return fc};pb.prototype.reverse=function(){for(var U=this.head,ua=this.tail,cb=U;null!==cb;cb=cb.prev){var Ab=cb.prev;cb.prev=cb.next;cb.next=Ab}this.head=ua;this.tail=U;return this};try{pb.prototype[Symbol.iterator]=function*(){for(let U=this.head;U;U=U.next)yield U.value}}catch(U){}const La=
Symbol("max"),Wa=Symbol("length"),$a=Symbol("lengthCalculator"),X=Symbol("allowStale"),Ca=Symbol("maxAge"),Ya=Symbol("dispose"),Ib=Symbol("noDisposeOnSet"),yc=Symbol("lruList"),sc=Symbol("cache"),xc=Symbol("updateAgeOnGet"),cd=()=>1;class Zb{constructor(U){"number"===typeof U&&(U={max:U});U||(U={});if(U.max&&("number"!==typeof U.max||0>U.max))throw new TypeError("max must be a non-negative number");this[La]=U.max||Infinity;const ua=U.length||cd;this[$a]="function"!==typeof ua?cd:ua;this[X]=U.stale||
!1;if(U.maxAge&&"number"!==typeof U.maxAge)throw new TypeError("maxAge must be a number");this[Ca]=U.maxAge||0;this[Ya]=U.dispose;this[Ib]=U.noDisposeOnSet||!1;this[xc]=U.updateAgeOnGet||!1;this.reset()}set max(U){if("number"!==typeof U||0>U)throw new TypeError("max must be a non-negative number");this[La]=U||Infinity;Ma(this)}get max(){return this[La]}set allowStale(U){this[X]=!!U}get allowStale(){return this[X]}set maxAge(U){if("number"!==typeof U)throw new TypeError("maxAge must be a non-negative number");
this[Ca]=U;Ma(this)}get maxAge(){return this[Ca]}set lengthCalculator(U){"function"!==typeof U&&(U=cd);U!==this[$a]&&(this[$a]=U,this[Wa]=0,this[yc].forEach(ua=>{ua.length=this[$a](ua.value,ua.key);this[Wa]+=ua.length}));Ma(this)}get lengthCalculator(){return this[$a]}get length(){return this[Wa]}get itemCount(){return this[yc].length}rforEach(U,ua){ua=ua||this;for(let cb=this[yc].tail;null!==cb;){const Ab=cb.prev;Tb(this,U,cb,ua);cb=Ab}}forEach(U,ua){ua=ua||this;for(let cb=this[yc].head;null!==cb;){const Ab=
cb.next;Tb(this,U,cb,ua);cb=Ab}}keys(){return this[yc].toArray().map(U=>U.key)}values(){return this[yc].toArray().map(U=>U.value)}reset(){this[Ya]&&this[yc]&&this[yc].length&&this[yc].forEach(U=>this[Ya](U.key,U.value));this[sc]=new Map;this[yc]=new pb;this[Wa]=0}dump(){return this[yc].map(U=>Pd(this,U)?!1:{k:U.key,v:U.value,e:U.now+(U.maxAge||0)}).toArray().filter(U=>U)}dumpLru(){return this[yc]}set(U,ua,cb){if((cb=cb||this[Ca])&&"number"!==typeof cb)throw new TypeError("maxAge must be a number");
const Ab=cb?Date.now():0,fc=this[$a](ua,U);if(this[sc].has(U)){if(fc>this[La])return Vb(this,this[sc].get(U)),!1;const Cc=this[sc].get(U).value;if(this[Ya]&&!this[Ib])this[Ya](U,Cc.value);Cc.now=Ab;Cc.maxAge=cb;Cc.value=ua;this[Wa]+=fc-Cc.length;Cc.length=fc;this.get(U);Ma(this);return!0}cb=new qb(U,ua,fc,Ab,cb);if(cb.length>this[La]){if(this[Ya])this[Ya](U,ua);return!1}this[Wa]+=cb.length;this[yc].unshift(cb);this[sc].set(U,this[yc].head);Ma(this);return!0}has(U){if(!this[sc].has(U))return!1;U=this[sc].get(U).value;
return!Pd(this,U)}get(U){return Rc(this,U,!0)}peek(U){return Rc(this,U,!1)}pop(){const U=this[yc].tail;if(!U)return null;Vb(this,U);return U.value}del(U){Vb(this,this[sc].get(U))}load(U){this.reset();const ua=Date.now();for(let Ab=U.length-1;0<=Ab;Ab--){const fc=U[Ab];var cb=fc.e||0;0===cb?this.set(fc.k,fc.v):(cb-=ua,0<cb&&this.set(fc.k,fc.v,cb))}}prune(){this[sc].forEach((U,ua)=>Rc(this,ua,!1))}}const Rc=(U,ua,cb)=>{if(ua=U[sc].get(ua)){const Ab=ua.value;if(Pd(U,Ab)){if(Vb(U,ua),!U[X])return}else cb&&
(U[xc]&&(ua.value.now=Date.now()),U[yc].unshiftNode(ua));return Ab.value}},Pd=(U,ua)=>{if(!ua||!ua.maxAge&&!U[Ca])return!1;const cb=Date.now()-ua.now;return ua.maxAge?cb>ua.maxAge:U[Ca]&&cb>U[Ca]},Ma=U=>{if(U[Wa]>U[La])for(let ua=U[yc].tail;U[Wa]>U[La]&&null!==ua;){const cb=ua.prev;Vb(U,ua);ua=cb}},Vb=(U,ua)=>{if(ua){const cb=ua.value;if(U[Ya])U[Ya](cb.key,cb.value);U[Wa]-=cb.length;U[sc].delete(cb.key);U[yc].removeNode(ua)}};class qb{constructor(U,ua,cb,Ab,fc){this.key=U;this.value=ua;this.length=
cb;this.now=Ab;this.maxAge=fc||0}}const Tb=(U,ua,cb,Ab)=>{let fc=cb.value;Pd(U,fc)&&(Vb(U,cb),U[X]||(fc=void 0));fc&&ua.call(Ab,fc.value,fc.key,U)};var gc=Zb;const cc=["includePrerelease","loose","rtl"];var Ic=U=>U?"object"!==typeof U?{loose:!0}:cc.filter(ua=>U[ua]).reduce((ua,cb)=>{ua[cb]=!0;return ua},{}):{},zc={exports:{}},Yc={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},Md="object"===typeof v&&v.env&&v.env.NODE_DEBUG&&
/\bsemver\b/i.test(v.env.NODE_DEBUG)?function(){for(var U=arguments.length,ua=Array(U),cb=0;cb<U;cb++)ua[cb]=arguments[cb];return console.error("SEMVER",...ua)}:()=>{};(function(U,ua){const {MAX_SAFE_COMPONENT_LENGTH:cb}=Yc,Ab=Md;ua=U.exports={};const fc=ua.re=[],Cc=ua.src=[],$b=ua.t={};let J=0;U=(fa,Ta,bc)=>{const Pc=J++;Ab(fa,Pc,Ta);$b[fa]=Pc;Cc[Pc]=Ta;fc[Pc]=new RegExp(Ta,bc?"g":void 0)};U("NUMERICIDENTIFIER","0|[1-9]\\d*");U("NUMERICIDENTIFIERLOOSE","[0-9]+");U("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");
U("MAINVERSION","(".concat(Cc[$b.NUMERICIDENTIFIER],")\\.")+"(".concat(Cc[$b.NUMERICIDENTIFIER],")\\.")+"(".concat(Cc[$b.NUMERICIDENTIFIER],")"));U("MAINVERSIONLOOSE","(".concat(Cc[$b.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(Cc[$b.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(Cc[$b.NUMERICIDENTIFIERLOOSE],")"));U("PRERELEASEIDENTIFIER","(?:".concat(Cc[$b.NUMERICIDENTIFIER],"|").concat(Cc[$b.NONNUMERICIDENTIFIER],")"));U("PRERELEASEIDENTIFIERLOOSE","(?:".concat(Cc[$b.NUMERICIDENTIFIERLOOSE],"|").concat(Cc[$b.NONNUMERICIDENTIFIER],
")"));U("PRERELEASE","(?:-(".concat(Cc[$b.PRERELEASEIDENTIFIER],"(?:\\.").concat(Cc[$b.PRERELEASEIDENTIFIER],")*))"));U("PRERELEASELOOSE","(?:-?(".concat(Cc[$b.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(Cc[$b.PRERELEASEIDENTIFIERLOOSE],")*))"));U("BUILDIDENTIFIER","[0-9A-Za-z-]+");U("BUILD","(?:\\+(".concat(Cc[$b.BUILDIDENTIFIER],"(?:\\.").concat(Cc[$b.BUILDIDENTIFIER],")*))"));U("FULLPLAIN","v?".concat(Cc[$b.MAINVERSION]).concat(Cc[$b.PRERELEASE],"?").concat(Cc[$b.BUILD],"?"));U("FULL","^".concat(Cc[$b.FULLPLAIN],
"$"));U("LOOSEPLAIN","[v\x3d\\s]*".concat(Cc[$b.MAINVERSIONLOOSE]).concat(Cc[$b.PRERELEASELOOSE],"?").concat(Cc[$b.BUILD],"?"));U("LOOSE","^".concat(Cc[$b.LOOSEPLAIN],"$"));U("GTLT","((?:\x3c|\x3e)?\x3d?)");U("XRANGEIDENTIFIERLOOSE","".concat(Cc[$b.NUMERICIDENTIFIERLOOSE],"|x|X|\\*"));U("XRANGEIDENTIFIER","".concat(Cc[$b.NUMERICIDENTIFIER],"|x|X|\\*"));U("XRANGEPLAIN","[v\x3d\\s]*(".concat(Cc[$b.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(Cc[$b.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(Cc[$b.XRANGEIDENTIFIER],
")")+"(?:".concat(Cc[$b.PRERELEASE],")?").concat(Cc[$b.BUILD],"?")+")?)?");U("XRANGEPLAINLOOSE","[v\x3d\\s]*(".concat(Cc[$b.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(Cc[$b.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(Cc[$b.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(Cc[$b.PRERELEASELOOSE],")?").concat(Cc[$b.BUILD],"?")+")?)?");U("XRANGE","^".concat(Cc[$b.GTLT],"\\s*").concat(Cc[$b.XRANGEPLAIN],"$"));U("XRANGELOOSE","^".concat(Cc[$b.GTLT],"\\s*").concat(Cc[$b.XRANGEPLAINLOOSE],"$"));U("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(cb,
"})")+"(?:\\.(\\d{1,".concat(cb,"}))?")+"(?:\\.(\\d{1,".concat(cb,"}))?")+"(?:$|[^\\d])");U("COERCERTL",Cc[$b.COERCE],!0);U("LONETILDE","(?:~\x3e?)");U("TILDETRIM","(\\s*)".concat(Cc[$b.LONETILDE],"\\s+"),!0);ua.tildeTrimReplace="$1~";U("TILDE","^".concat(Cc[$b.LONETILDE]).concat(Cc[$b.XRANGEPLAIN],"$"));U("TILDELOOSE","^".concat(Cc[$b.LONETILDE]).concat(Cc[$b.XRANGEPLAINLOOSE],"$"));U("LONECARET","(?:\\^)");U("CARETTRIM","(\\s*)".concat(Cc[$b.LONECARET],"\\s+"),!0);ua.caretTrimReplace="$1^";U("CARET",
"^".concat(Cc[$b.LONECARET]).concat(Cc[$b.XRANGEPLAIN],"$"));U("CARETLOOSE","^".concat(Cc[$b.LONECARET]).concat(Cc[$b.XRANGEPLAINLOOSE],"$"));U("COMPARATORLOOSE","^".concat(Cc[$b.GTLT],"\\s*(").concat(Cc[$b.LOOSEPLAIN],")$|^$"));U("COMPARATOR","^".concat(Cc[$b.GTLT],"\\s*(").concat(Cc[$b.FULLPLAIN],")$|^$"));U("COMPARATORTRIM","(\\s*)".concat(Cc[$b.GTLT],"\\s*(").concat(Cc[$b.LOOSEPLAIN],"|").concat(Cc[$b.XRANGEPLAIN],")"),!0);ua.comparatorTrimReplace="$1$2$3";U("HYPHENRANGE","^\\s*(".concat(Cc[$b.XRANGEPLAIN],
")")+"\\s+-\\s+"+"(".concat(Cc[$b.XRANGEPLAIN],")")+"\\s*$");U("HYPHENRANGELOOSE","^\\s*(".concat(Cc[$b.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(Cc[$b.XRANGEPLAINLOOSE],")")+"\\s*$");U("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");U("GTE0","^\\s*\x3e\x3d\\s*0\\.0\\.0\\s*$");U("GTE0PRE","^\\s*\x3e\x3d\\s*0\\.0\\.0-0\\s*$")})(zc,zc.exports);const ud=/^[0-9]+$/,Ha=(U,ua)=>{const cb=ud.test(U),Ab=ud.test(ua);cb&&Ab&&(U=+U,ua=+ua);return U===ua?0:cb&&!Ab?-1:Ab&&!cb?1:U<ua?-1:1};var gb={compareIdentifiers:Ha,
rcompareIdentifiers:(U,ua)=>Ha(ua,U)};const wb=Md,{MAX_LENGTH:sa,MAX_SAFE_INTEGER:G}=Yc,{re:ya,t:Na}=zc.exports,Za=Ic,{compareIdentifiers:kb}=gb;class Fb{constructor(U,ua){ua=Za(ua);if(U instanceof Fb){if(U.loose===!!ua.loose&&U.includePrerelease===!!ua.includePrerelease)return U;U=U.version}else if("string"!==typeof U)throw new TypeError("Invalid Version: ".concat(U));if(U.length>sa)throw new TypeError("version is longer than ".concat(sa," characters"));wb("SemVer",U,ua);this.options=ua;this.loose=
!!ua.loose;this.includePrerelease=!!ua.includePrerelease;ua=U.trim().match(ua.loose?ya[Na.LOOSE]:ya[Na.FULL]);if(!ua)throw new TypeError("Invalid Version: ".concat(U));this.raw=U;this.major=+ua[1];this.minor=+ua[2];this.patch=+ua[3];if(this.major>G||0>this.major)throw new TypeError("Invalid major version");if(this.minor>G||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>G||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=ua[4]?ua[4].split(".").map(cb=>
{if(/^[0-9]+$/.test(cb)){const Ab=+cb;if(0<=Ab&&Ab<G)return Ab}return cb}):[];this.build=ua[5]?ua[5].split("."):[];this.format()}format(){this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch);this.prerelease.length&&(this.version+="-".concat(this.prerelease.join(".")));return this.version}toString(){return this.version}compare(U){wb("SemVer.compare",this.version,this.options,U);if(!(U instanceof Fb)){if("string"===typeof U&&U===this.version)return 0;U=new Fb(U,this.options)}return U.version===
this.version?0:this.compareMain(U)||this.comparePre(U)}compareMain(U){U instanceof Fb||(U=new Fb(U,this.options));return kb(this.major,U.major)||kb(this.minor,U.minor)||kb(this.patch,U.patch)}comparePre(U){U instanceof Fb||(U=new Fb(U,this.options));if(this.prerelease.length&&!U.prerelease.length)return-1;if(!this.prerelease.length&&U.prerelease.length)return 1;if(!this.prerelease.length&&!U.prerelease.length)return 0;let ua=0;do{const cb=this.prerelease[ua],Ab=U.prerelease[ua];wb("prerelease compare",
ua,cb,Ab);if(void 0===cb&&void 0===Ab)return 0;if(void 0===Ab)return 1;if(void 0===cb)return-1;if(cb!==Ab)return kb(cb,Ab)}while(++ua)}compareBuild(U){U instanceof Fb||(U=new Fb(U,this.options));let ua=0;do{const cb=this.build[ua],Ab=U.build[ua];wb("prerelease compare",ua,cb,Ab);if(void 0===cb&&void 0===Ab)return 0;if(void 0===Ab)return 1;if(void 0===cb)return-1;if(cb!==Ab)return kb(cb,Ab)}while(++ua)}inc(U,ua){switch(U){case "premajor":this.minor=this.patch=this.prerelease.length=0;this.major++;
this.inc("pre",ua);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",ua);break;case "prepatch":this.prerelease.length=0;this.inc("patch",ua);this.inc("pre",ua);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",ua);this.inc("pre",ua);break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&0!==this.prerelease.length||this.minor++;this.patch=
0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(U=this.prerelease.length;0<=--U;)"number"===typeof this.prerelease[U]&&(this.prerelease[U]++,U=-2);-1===U&&this.prerelease.push(0)}ua&&(0===kb(this.prerelease[0],ua)?isNaN(this.prerelease[1])&&(this.prerelease=[ua,0]):this.prerelease=[ua,0]);break;default:throw Error("invalid increment argument: ".concat(U));}this.format();
this.raw=this.version;return this}}var nc=Fb;const ec=nc;var ic=(U,ua,cb)=>(new ec(U,cb)).compare(new ec(ua,cb)),Tc=(U,ua,cb,Ab)=>{switch(ua){case "\x3d\x3d\x3d":return"object"===typeof U&&(U=U.version),"object"===typeof cb&&(cb=cb.version),U===cb;case "!\x3d\x3d":return"object"===typeof U&&(U=U.version),"object"===typeof cb&&(cb=cb.version),U!==cb;case "":case "\x3d":case "\x3d\x3d":return 0===ic(U,cb,Ab);case "!\x3d":return 0!==ic(U,cb,Ab);case "\x3e":return 0<ic(U,cb,Ab);case "\x3e\x3d":return 0<=
ic(U,cb,Ab);case "\x3c":return 0>ic(U,cb,Ab);case "\x3c\x3d":return 0>=ic(U,cb,Ab);default:throw new TypeError("Invalid operator: ".concat(ua));}},dd,ed,Qd,Td;const Fd=Ka();var Zd=(U,ua,cb)=>{try{ua=new Fd(ua,cb)}catch(Ab){return!1}return ua.test(U)},de={NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},Ud={"*":(U,ua)=>U*ua,"+":(U,ua)=>U+ua,"-":(U,ua)=>U-ua,"/":(U,ua)=>
U/ua,"%":(U,ua)=>U%ua,"\x3e":(U,ua)=>U>ua,"\x3c":(U,ua)=>U<ua,"\x3c\x3d":(U,ua)=>U<=ua,"\x3e\x3d":(U,ua)=>U>=ua,"\x3d\x3d":(U,ua)=>U==ua,"!\x3d":(U,ua)=>U!=ua,"\x3d\x3d\x3d":(U,ua)=>U===ua,"!\x3d\x3d":(U,ua)=>U!==ua,"\x26":(U,ua)=>U&ua,"|":(U,ua)=>U|ua,"^":(U,ua)=>U^ua,"\x3c\x3c":(U,ua)=>U<<ua,"\x3e\x3e":(U,ua)=>U>>ua,"\x3e\x3e\x3e":(U,ua)=>U>>>ua},Ve={"+":U=>+U,"-":U=>-U,"~":U=>~U,"!":U=>!U};const Xd=Array.prototype.slice,N=(U,ua,cb)=>{cb=cb?cb(ua[0]):ua[0];return cb[U].apply(cb,Xd.call(ua,1))};
var la={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(U,ua,cb)=>Math.max(ua,Math.min(cb,U)),now:Date.now,utc:Date.UTC,datetime:(U,ua,cb,Ab,fc,Cc,$b)=>new Date(U,ua||0,null!=cb?cb:1,Ab||0,fc||0,Cc||0,$b||0),date:U=>(new Date(U)).getDate(),
day:U=>(new Date(U)).getDay(),year:U=>(new Date(U)).getFullYear(),month:U=>(new Date(U)).getMonth(),hours:U=>(new Date(U)).getHours(),minutes:U=>(new Date(U)).getMinutes(),seconds:U=>(new Date(U)).getSeconds(),milliseconds:U=>(new Date(U)).getMilliseconds(),time:U=>(new Date(U)).getTime(),timezoneoffset:U=>(new Date(U)).getTimezoneOffset(),utcdate:U=>(new Date(U)).getUTCDate(),utcday:U=>(new Date(U)).getUTCDay(),utcyear:U=>(new Date(U)).getUTCFullYear(),utcmonth:U=>(new Date(U)).getUTCMonth(),utchours:U=>
(new Date(U)).getUTCHours(),utcminutes:U=>(new Date(U)).getUTCMinutes(),utcseconds:U=>(new Date(U)).getUTCSeconds(),utcmilliseconds:U=>(new Date(U)).getUTCMilliseconds(),length:U=>U.length,join:function(){return N("join",arguments)},indexof:function(){return N("indexOf",arguments)},lastindexof:function(){return N("lastIndexOf",arguments)},slice:function(){return N("slice",arguments)},reverse:U=>U.slice().reverse(),parseFloat,parseInt,upper:U=>String(U).toUpperCase(),lower:U=>String(U).toLowerCase(),
substring:function(){return N("substring",arguments,String)},split:function(){return N("split",arguments,String)},replace:function(){return N("replace",arguments,String)},trim:U=>String(U).trim(),regexp:RegExp,test:(U,ua)=>RegExp(U).test(ua)};const za="view item group xy x y".split(" "),fb={Literal:(U,ua)=>ua.value,Identifier:(U,ua)=>{ua=ua.name;return 0<U.memberDepth?ua:"datum"===ua?U.datum:"event"===ua?U.event:"item"===ua?U.item:de[ua]||U.params["$"+ua]},MemberExpression:(U,ua)=>{const cb=!ua.computed,
Ab=U(ua.object);cb&&(U.memberDepth+=1);ua=U(ua.property);cb&&--U.memberDepth;return Ab[ua]},CallExpression:(U,ua)=>{const cb=ua.arguments;ua=ua.callee.name;ua.startsWith("_")&&(ua=ua.slice(1));return"if"===ua?U(cb[0])?U(cb[1]):U(cb[2]):(U.fn[ua]||la[ua]).apply(U.fn,cb.map(U))},ArrayExpression:(U,ua)=>ua.elements.map(U),BinaryExpression:(U,ua)=>Ud[ua.operator](U(ua.left),U(ua.right)),UnaryExpression:(U,ua)=>Ve[ua.operator](U(ua.argument)),ConditionalExpression:(U,ua)=>U(ua.test)?U(ua.consequent):U(ua.alternate),
LogicalExpression:(U,ua)=>"\x26\x26"===ua.operator?U(ua.left)&&U(ua.right):U(ua.left)||U(ua.right),ObjectExpression:(U,ua)=>ua.properties.reduce((cb,Ab)=>{U.memberDepth+=1;const fc=U(Ab.key);--U.memberDepth;cb[fc]=U(Ab.value);return cb},{})};var Hb={operator(U,ua){const cb=ua.ast,Ab=U.functions;return fc=>lb(cb,Ab,fc)},parameter(U,ua){const cb=ua.ast,Ab=U.functions;return(fc,Cc)=>lb(cb,Ab,Cc,fc)},event(U,ua){const cb=ua.ast,Ab=U.functions;return fc=>lb(cb,Ab,void 0,void 0,fc)},handler(U,ua){const cb=
ua.ast,Ab=U.functions;return(fc,Cc)=>lb(cb,Ab,fc,Cc.item&&Cc.item.datum,Cc)},encode(U,ua){const {marktype:cb,channels:Ab}=ua,fc=U.functions,Cc="group"===cb||"image"===cb||"rect"===cb;return($b,J)=>{const fa=$b.datum;let Ta=0,bc;for(const Pc in Ab)bc=lb(Ab[Pc].ast,fc,J,fa,void 0,$b),$b[Pc]!==bc&&($b[Pc]=bc,Ta=1);"rule"!==cb&&(Ab.x2&&(Ab.x?(Cc&&$b.x>$b.x2&&(J=$b.x,$b.x=$b.x2,$b.x2=J),$b.width=$b.x2-$b.x):$b.x=$b.x2-($b.width||0)),Ab.xc&&($b.x=$b.xc-($b.width||0)/2),Ab.y2&&(Ab.y?(Cc&&$b.y>$b.y2&&(J=
$b.y,$b.y=$b.y2,$b.y2=J),$b.height=$b.y2-$b.y):$b.y=$b.y2-($b.height||0)),Ab.yc&&($b.y=$b.yc-($b.height||0)/2));return Ta}}};const Xb={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},Bc={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),
"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),
"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11",
"#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),
"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};var lc=Object.freeze({__proto__:null,dark:{background:"#333",title:{color:"#fff",subtitleColor:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},
symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",
gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),
diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,
gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",
padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6",
"#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},
axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:Xb["category-6"],diverging:Xb["fireandice-6"],heatmap:Xb["fire-7"],ordinal:Xb["fire-7"],ramp:Xb["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},
area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},
urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,
labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Bc["six-groups-cat-1"],diverging:Bc["diverging-colors"],heatmap:Bc["diverging-colors"],ordinal:Bc["six-groups-seq"],ramp:Bc["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},
text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},version:"2.10.0",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},
axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}});const Gc=U=>function(ua){return ua[U]},id=U=>{const ua=U.length;return function(cb){for(let Ab=0;Ab<ua;++Ab)cb=cb[U[Ab]];return cb}};(function(U,ua,cb){const Ab=sb(U);U=1===Ab.length?Ab[0]:U;return Pa((cb&&cb.get||xb)(Ab),[U],ua||U)})("id");Pa(U=>U,[],"identity");Pa(()=>0,[],
"zero");Pa(()=>1,[],"one");Pa(()=>!0,[],"true");Pa(()=>!1,[],"false");var Nc=Array.isArray;const sd={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(U){return String(U).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2,formatTooltip:function(U,ua,cb){if(Nc(U))return"[".concat(U.map(fc=>ua("string"===typeof fc?fc:JSON.stringify(fc,Wb(cb)))).join(", "),"]");if(U===Object(U)){let fc="";const {title:Cc,image:$b}=
U;U=Qb(U,["title","image"]);Cc&&(fc+="\x3ch2\x3e".concat(ua(Cc),"\x3c/h2\x3e"));$b&&(fc+='\x3cimg src\x3d"'.concat(ua($b),'"\x3e'));var Ab=Object.keys(U);if(0<Ab.length){fc+="\x3ctable\x3e";for(const J of Ab)Ab=U[J],void 0!==Ab&&(Ab===Object(Ab)&&(Ab=JSON.stringify(Ab,Wb(cb))),fc+='\x3ctr\x3e\x3ctd class\x3d"key"\x3e'.concat(ua(J),':\x3c/td\x3e\x3ctd class\x3d"value"\x3e').concat(ua(Ab),"\x3c/td\x3e\x3c/tr\x3e"));fc+="\x3c/table\x3e"}return fc||"{}"}return ua(U)}};class Hd{constructor(U){this.options=
Object.assign(Object.assign({},sd),U);var ua=this.options.id;this.el=null;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){U=document.createElement("style");U.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(ua))throw Error("Invalid HTML ID");ua="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black;\n}\n#vg-tooltip-element.visible {\n  visibility: visible;\n}\n#vg-tooltip-element h2 {\n  margin-top: 0;\n  margin-bottom: 10px;\n  font-size: 13px;\n}\n#vg-tooltip-element img {\n  max-width: 200px;\n  max-height: 200px;\n}\n#vg-tooltip-element table {\n  border-spacing: 0;\n}\n#vg-tooltip-element table tr {\n  border: none;\n}\n#vg-tooltip-element table tr td {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n#vg-tooltip-element table tr td.key {\n  color: #808080;\n  max-width: 150px;\n  text-align: right;\n  padding-right: 4px;\n}\n#vg-tooltip-element table tr td.value {\n  display: block;\n  max-width: 300px;\n  max-height: 7em;\n  text-align: left;\n}\n#vg-tooltip-element.dark-theme {\n  background-color: rgba(32, 32, 32, 0.9);\n  border: 1px solid #f5f5f5;\n  color: white;\n}\n#vg-tooltip-element.dark-theme td.key {\n  color: #bfbfbf;\n}\n".toString().replace("vg-tooltip-element",
ua);U.innerHTML=ua;ua=document.head;0<ua.childNodes.length?ua.insertBefore(U,ua.childNodes[0]):ua.appendChild(U)}}tooltipHandler(U,ua,cb,Ab){var fc;this.el=document.getElementById(this.options.id);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(null!==(fc=document.fullscreenElement)&&void 0!==fc?fc:document.body).appendChild(this.el));if(null==Ab||""===Ab)this.el.classList.remove("visible","".concat(this.options.theme,
"-theme"));else{this.el.innerHTML=this.options.formatTooltip(Ab,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible","".concat(this.options.theme,"-theme"));U=this.el.getBoundingClientRect();fc=this.options.offsetX;cb=this.options.offsetY;Ab=ua.clientX+fc;Ab+U.width>window.innerWidth&&(Ab=+ua.clientX-fc-U.width);fc=ua.clientY+cb;fc+U.height>window.innerHeight&&(fc=+ua.clientY-cb-U.height);var {x:Cc,y:$b}={x:Ab,y:fc};this.el.setAttribute("style","top: ".concat($b,"px; left: ").concat(Cc,
"px"))}}}String.prototype.startsWith||(String.prototype.startsWith=function(U,ua){return this.substr(!ua||0>ua?0:+ua,U.length)===U});var Gd;const $d=Q;let Wd=g;const ae="undefined"!==typeof window?window:void 0;void 0===Wd&&null!==ae&&void 0!==ae&&null!==(Gd=ae.vl)&&void 0!==Gd&&Gd.compile&&(Wd=ae.vl);const Ce={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},kf={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",
SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},hf={vega:"Vega","vega-lite":"Vega-Lite"},df={vega:$d.version,"vega-lite":Wd?Wd.version:"not available"},re={vega:U=>U,"vega-lite":(U,ua)=>Wd.compile(U,{config:ua}).spec},tf=function(){var U;if(U=1<arguments.length){if(U=k.isString(0>=arguments.length?void 0:arguments[0]))U=0>=arguments.length?void 0:arguments[0],U=!(U.startsWith("http://")||U.startsWith("https://")||U.startsWith("//"));U=U||(0>=arguments.length?void 0:arguments[0])instanceof HTMLElement||
3===arguments.length}return U?db(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1],2>=arguments.length?void 0:arguments[2]):M(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1])};tf.vegaLite=Wd;tf.vl=Wd;tf.container=M;tf.embed=db;tf.vega=$d;tf.default=db;tf.version="6.21.0";return tf})};
shadow$provide[68]=function(dc,Db,Wc,nb){nb.__esModule=!0;nb.default=function(v){const k={};return!!v&&"[object Function]"===k.toString.call(v)}};
shadow$provide[69]=function(dc,Db,Wc,nb){nb.__esModule=!0;nb.default=function(P,ib,Gb){Gb&&((0,k.default)(Gb)?Gb(P.data(ib)):P.change(ib,v.vega.changeset().remove(()=>!0).insert(Gb)))};var v=Db(67),k=function(P){return P&&P.__esModule?P:{default:P}}(Db(68))};
shadow$provide[70]=function(dc,Db,Wc,nb){nb.__esModule=!0;nb.default=function(k,P){Object.keys(P).forEach(ib=>{(0,v.default)(k,ib,P[ib])})};var v=function(k){return k&&k.__esModule?k:{default:k}}(Db(69))};
shadow$provide[71]=function(dc,Db,Wc,nb){nb.__esModule=!0;nb.default=function(v){const k=new Set;v.forEach(P=>{Object.keys(P).forEach(ib=>{k.add(ib)})});return k}};
shadow$provide[72]=function(dc,Db,Wc,nb){nb.__esModule=!0;nb.NOOP=void 0;nb.NOOP=()=>{}};
shadow$provide[73]=function(dc,Db,Wc,nb){nb.__esModule=!0;nb.default=function(v,k){const P=Object.keys(k);P.forEach(ib=>{try{v.addSignalListener(ib,k[ib])}catch(Gb){console.warn("Cannot add invalid signal listener.",Gb)}});return 0<P.length}};
shadow$provide[74]=function(dc,Db,Wc,nb){Wc.exports=function ib(k,P){if(k===P)return!0;if(k&&P&&"object"==typeof k&&"object"==typeof P){if(k.constructor!==P.constructor)return!1;var Gb;if(Array.isArray(k)){var ac=k.length;if(ac!=P.length)return!1;for(Gb=ac;0!==Gb--;)if(!ib(k[Gb],P[Gb]))return!1;return!0}if(k.constructor===RegExp)return k.source===P.source&&k.flags===P.flags;if(k.valueOf!==Object.prototype.valueOf)return k.valueOf()===P.valueOf();if(k.toString!==Object.prototype.toString)return k.toString()===
P.toString();var vc=Object.keys(k);ac=vc.length;if(ac!==Object.keys(P).length)return!1;for(Gb=ac;0!==Gb--;)if(!Object.prototype.hasOwnProperty.call(P,vc[Gb]))return!1;for(Gb=ac;0!==Gb--;)if(ac=vc[Gb],!ib(k[ac],P[ac]))return!1;return!0}return k!==k&&P!==P}};
shadow$provide[75]=function(dc,Db,Wc,nb){function v(ib){return ib&&ib.__esModule?ib:{default:ib}}nb.__esModule=!0;nb.default=function(ib,Gb){if(ib===Gb)return!1;const ac={width:!1,height:!1,isExpensive:!1},vc=(0,P.default)([ib,Gb]);!vc.has("width")||"width"in ib&&"width"in Gb&&ib.width===Gb.width||("width"in ib&&"number"===typeof ib.width?ac.width=ib.width:ac.isExpensive=!0);!vc.has("height")||"height"in ib&&"height"in Gb&&ib.height===Gb.height||("height"in ib&&"number"===typeof ib.height?ac.height=
ib.height:ac.isExpensive=!0);vc.delete("width");vc.delete("height");[...vc].some(Ac=>!(Ac in ib)||!(Ac in Gb)||!(0,k.default)(ib[Ac],Gb[Ac]))&&(ac.isExpensive=!0);return!1!==ac.width||!1!==ac.height||ac.isExpensive?ac:!1};var k=v(Db(74)),P=v(Db(71))};
shadow$provide[76]=function(dc,Db,Wc,nb){nb.__esModule=!0;nb.default=function(v,k){const P=Object.keys(k);P.forEach(ib=>{try{v.removeSignalListener(ib,k[ib])}catch(Gb){console.warn("Cannot remove invalid signal listener.",Gb)}});return 0<P.length}};
shadow$provide[77]=function(dc,Db,Wc,nb){nb.__esModule=!0;nb.default=function(v){const {spec:k,width:P,height:ib}=v;return"undefined"!==typeof P&&"undefined"!==typeof ib?Object.assign({},k,{width:P,height:ib}):"undefined"!==typeof P?Object.assign({},k,{width:P}):"undefined"!==typeof ib?Object.assign({},k,{height:ib}):k}};
shadow$provide[78]=function(dc,Db,Wc,nb){function v(Ua){return Ua&&Ua.__esModule?Ua:{default:Ua}}function k(Ua,ub,Kb){ub in Ua?Object.defineProperty(Ua,ub,{value:Kb,enumerable:!0,configurable:!0,writable:!0}):Ua[ub]=Kb;return Ua}nb.__esModule=!0;nb.default=void 0;dc=v(Db(19));var P=v(Db(2)),ib=v(Db(67)),Gb=v(Db(20)),ac=v(Db(71)),vc=Db(72),Ac=v(Db(73)),uc=v(Db(75)),Bb=v(Db(76)),jc=v(Db(77));class Yb extends P.default.PureComponent{constructor(){super(...arguments);k(this,"containerRef",P.default.createRef());
k(this,"resultPromise",void 0);k(this,"handleError",Ua=>{const {onError:ub=vc.NOOP}=this.props;ub(Ua,this.containerRef.current);console.warn(Ua)});k(this,"modifyView",Ua=>{this.resultPromise&&this.resultPromise.then(ub=>{ub&&Ua(ub.view);return!0}).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(Ua){const ub=(0,ac.default)([this.props,Ua]);ub.delete("className");ub.delete("signalListeners");ub.delete("spec");ub.delete("style");ub.delete("width");ub.delete("height");
if(Array.from(ub).some(Kb=>this.props[Kb]!==Ua[Kb]))this.clearView(),this.createView();else{const Kb=(0,uc.default)((0,jc.default)(this.props),(0,jc.default)(Ua)),{signalListeners:Lb}=this.props,{signalListeners:Cb}=Ua;if(Kb)if(Kb.isExpensive)this.clearView(),this.createView();else{const Pb=!(0,Gb.default)(Lb,Cb);this.modifyView(ab=>{!1!==Kb.width&&ab.width(Kb.width);!1!==Kb.height&&ab.height(Kb.height);Pb&&(Cb&&(0,Bb.default)(ab,Cb),Lb&&(0,Ac.default)(ab,Lb));ab.run()})}else(0,Gb.default)(Lb,Cb)||
this.modifyView(Pb=>{Cb&&(0,Bb.default)(Pb,Cb);Lb&&(0,Ac.default)(Pb,Lb);Pb.run()})}}componentWillUnmount(){this.clearView()}createView(){var Ua=this.props,ub=Object.assign({},Ua);const Kb=Ua.onNewView,Lb=void 0===Ua.signalListeners?{}:Ua.signalListeners;Ua=(delete ub.spec,delete ub.onNewView,delete ub.signalListeners,delete ub.width,delete ub.height,ub);this.containerRef.current&&(ub=(0,jc.default)(this.props),this.resultPromise=(0,ib.default)(this.containerRef.current,ub,Ua).then(Cb=>{if(Cb){const {view:Pb}=
Cb;(0,Ac.default)(Pb,Lb)&&Pb.run()}return Cb}).catch(this.handleError),Kb&&this.modifyView(Kb))}clearView(){this.resultPromise&&this.resultPromise.then(Ua=>{Ua&&Ua.finalize()}).catch(this.handleError);this.resultPromise=void 0;return this}render(){const {className:Ua,style:ub}=this.props;return P.default.createElement("div",{ref:this.containerRef,className:Ua,style:ub})}}nb.default=Yb;k(Yb,"propTypes",{className:dc.default.string,onError:dc.default.func})};
shadow$provide[79]=function(dc,Db,Wc,nb){function v(Bb){return Bb&&Bb.__esModule?Bb:{default:Bb}}function k(){k=Object.assign||function(Bb){for(var jc=1;jc<arguments.length;jc++){var Yb=arguments[jc],Ua;for(Ua in Yb)Object.prototype.hasOwnProperty.call(Yb,Ua)&&(Bb[Ua]=Yb[Ua])}return Bb};return k.apply(this,arguments)}function P(Bb,jc,Yb){jc in Bb?Object.defineProperty(Bb,jc,{value:Yb,enumerable:!0,configurable:!0,writable:!0}):Bb[jc]=Yb;return Bb}nb.__esModule=!0;nb.default=void 0;v(Db(19));var ib=
v(Db(2)),Gb=v(Db(20)),ac=v(Db(70)),vc=v(Db(78)),Ac=Db(72);class uc extends ib.default.PureComponent{constructor(){super(...arguments);P(this,"vegaEmbed",ib.default.createRef());P(this,"handleNewView",Bb=>{this.update();const {onNewView:jc=Ac.NOOP}=this.props;jc(Bb)})}componentDidMount(){this.update()}componentDidUpdate(Bb){(0,Gb.default)(this.props.data,Bb.data)||this.update()}update(){const {data:Bb}=this.props;this.vegaEmbed.current&&Bb&&0<Object.keys(Bb).length&&this.vegaEmbed.current.modifyView(jc=>
{(0,ac.default)(jc,Bb);jc.resize().run()})}render(){var Bb=Object.assign({},this.props);Bb=(delete Bb.data,Bb);return ib.default.createElement(vc.default,k({ref:this.vegaEmbed},Bb,{onNewView:this.handleNewView}))}}nb.default=uc;P(uc,"defaultProps",{data:{}})};
shadow$provide[80]=function(dc,Db,Wc,nb){function v(Gb){return Gb&&Gb.__esModule?Gb:{default:Gb}}function k(){k=Object.assign||function(Gb){for(var ac=1;ac<arguments.length;ac++){var vc=arguments[ac],Ac;for(Ac in vc)Object.prototype.hasOwnProperty.call(vc,Ac)&&(Gb[Ac]=vc[Ac])}return Gb};return k.apply(this,arguments)}nb.__esModule=!0;nb.default=function(Gb){return P.default.createElement(ib.default,k({},Gb,{mode:"vega-lite"}))};var P=v(Db(2)),ib=v(Db(79))};
shadow$provide[81]=function(dc,Db,Wc,nb){function v(ac){return ac&&ac.__esModule?ac:{default:ac}}function k(){k=Object.assign||function(ac){for(var vc=1;vc<arguments.length;vc++){var Ac=arguments[vc],uc;for(uc in Ac)Object.prototype.hasOwnProperty.call(Ac,uc)&&(ac[uc]=Ac[uc])}return ac};return k.apply(this,arguments)}function P(ac,vc,Ac){vc in ac?Object.defineProperty(ac,vc,{value:Ac,enumerable:!0,configurable:!0,writable:!0}):ac[vc]=Ac;return ac}nb.__esModule=!0;nb.default=function(ac){let {mode:vc,
spec:Ac}=ac;class uc extends ib.default.PureComponent{render(){return ib.default.createElement(Gb.default,k({mode:vc,spec:Ac},this.props))}}P(uc,"getSpec",function(){return Ac});return uc};var ib=v(Db(2)),Gb=v(Db(79))};
shadow$provide[82]=function(dc,Db,Wc,nb){nb.__esModule=!0};
shadow$provide[83]=function(dc,Db,Wc,nb){nb.__esModule=!0;var v=Db(82);Object.keys(v).forEach(function(k){"default"!==k&&"__esModule"!==k&&(k in nb&&nb[k]===v[k]||(nb[k]=v[k]))})};
shadow$provide[84]=function(dc,Db,Wc,nb){function v(ib){return ib&&ib.__esModule?ib:{default:ib}}nb.__esModule=!0;var k={Vega:!0,VegaLite:!0,createClassFromSpec:!0};nb.createClassFromSpec=nb.VegaLite=nb.Vega=void 0;dc=v(Db(79));nb.Vega=dc.default;dc=v(Db(80));nb.VegaLite=dc.default;dc=v(Db(81));nb.createClassFromSpec=dc.default;var P=Db(83);Object.keys(P).forEach(function(ib){"default"!==ib&&"__esModule"!==ib&&(Object.prototype.hasOwnProperty.call(k,ib)||ib in nb&&nb[ib]===P[ib]||(nb[ib]=P[ib]))})};
/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var g,aa=this||self;function t(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}function ba(a){return Object.prototype.hasOwnProperty.call(a,ca)&&a[ca]||(a[ca]=++ea)}var ca="closure_uid_"+(1E9*Math.random()>>>0),ea=0;
function fa(a,b){function c(){}c.prototype=b.prototype;a.Dd=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[e].apply(d,h)}};function ha(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function ia(a,b){return null!==a&&b in a?a[b]:void 0}const ja="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ka(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<ja.length;f++)c=ja[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function la(a){if(!Array.isArray(a))for(let b=a.length-1;0<=b;b--)delete a[b];a.length=0};var ma;a:{const a=aa.navigator;if(a){const b=a.userAgent;if(b){ma=b;break a}}ma=""}let na=ma;function oa(a){return-1!=na.indexOf(a)};function pa(a,b){null!=a&&this.append.apply(this,arguments)}g=pa.prototype;g.kb="";g.set=function(a){this.kb=""+a};g.append=function(a,b,c){this.kb+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.kb+=arguments[d];return this};g.clear=function(){this.kb=""};g.toString=function(){return this.kb};var ra={},sa={},ta,u={},ua=null;function va(){return new v(null,5,[wa,!0,xa,!0,ya,!1,za,!1,Aa,null],null)}function x(a){return null!=a&&!1!==a}function Ba(a){return a instanceof Array}function y(a,b){return a[t(null==b?null:b)]?!0:a._?!0:!1}function A(a,b){var c=null==b?null:b.constructor;c=x(x(c)?c.Ib:c)?c.nb:t(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Ca(a){var b=a.nb;return x(b)?b:B.j(a)}
var Da="undefined"!==typeof Symbol&&"function"===t(Symbol)?Symbol.iterator:"@@iterator";function Ea(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Fa(a){function b(d,e){d.push(e);return d}var c=[];return Ga?Ga(b,c,a):Ha.call(null,b,c,a)}function Ia(a){return"symbol"===t(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Ja(){}function Ka(){}function La(){}
function Ma(a){if(null!=a&&null!=a.la)a=a.la(a);else{var b=Ma[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ma._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ICounted.-count",a);}return a}function Na(){}function Oa(a){if(null!=a&&null!=a.ma)a=a.ma(a);else{var b=Oa[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Oa._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEmptyableCollection.-empty",a);}return a}function Pa(){}
function Qa(a,b){if(null!=a&&null!=a.oa)a=a.oa(a,b);else{var c=Qa[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qa._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ICollection.-conj",a);}return a}function Ra(){}
var Ta=function(){function a(d,e,f){var h=Sa[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=Sa._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("IIndexed.-nth",d);}function b(d,e){var f=Sa[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Sa._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),Sa=function Sa(a){switch(arguments.length){case 2:return Sa.B(arguments[0],arguments[1]);case 3:return Sa.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Sa.B=function(a,b){return null!=a&&null!=a.ea?a.ea(a,b):Ta(a,b)};Sa.D=function(a,b,c){return null!=a&&null!=a.Aa?a.Aa(a,b,c):Ta(a,b,c)};Sa.$=3;function Ua(){}
function D(a){if(null!=a&&null!=a.wa)a=a.wa(a);else{var b=D[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=D._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeq.-first",a);}return a}function Va(a){if(null!=a&&null!=a.xa)a=a.xa(a);else{var b=Va[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Va._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeq.-rest",a);}return a}function Wa(){}function Xa(){}
var Za=function(){function a(d,e,f){var h=Ya[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=Ya._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("ILookup.-lookup",d);}function b(d,e){var f=Ya[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Ya._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),Ya=function Ya(a){switch(arguments.length){case 2:return Ya.B(arguments[0],arguments[1]);case 3:return Ya.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Ya.B=function(a,b){return null!=a&&null!=a.ya?a.ya(a,b):Za(a,b)};Ya.D=function(a,b,c){return null!=a&&null!=a.ca?a.ca(a,b,c):Za(a,b,c)};Ya.$=3;function $a(){}
function ab(a,b){if(null!=a&&null!=a.lb)a=a.lb(a,b);else{var c=ab[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ab._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IAssociative.-contains-key?",a);}return a}function bb(a,b,c){if(null!=a&&null!=a.ab)a=a.ab(a,b,c);else{var d=bb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=bb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IAssociative.-assoc",a);}return a}
function cb(a,b){if(null!=a&&null!=a.tb)a=a.tb(a,b);else{var c=cb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=cb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IFind.-find",a);}return a}function db(){}function eb(a,b){if(null!=a&&null!=a.jc)a=a.jc(a,b);else{var c=eb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=eb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IMap.-dissoc",a);}return a}
function fb(a){if(null!=a&&null!=a.Xc)a=a.key;else{var b=fb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=fb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMapEntry.-key",a);}return a}function gb(a){if(null!=a&&null!=a.Yc)a=a.R;else{var b=gb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=gb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMapEntry.-val",a);}return a}function hb(){}
function ib(a,b){if(null!=a&&null!=a.zc)a=a.zc(a,b);else{var c=ib[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ib._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ISet.-disjoin",a);}return a}function jb(a){if(null!=a&&null!=a.vb)a=a.vb(a);else{var b=jb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=jb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IStack.-peek",a);}return a}
function kb(a){if(null!=a&&null!=a.wb)a=a.wb(a);else{var b=kb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=kb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IStack.-pop",a);}return a}function lb(){}function mb(a,b,c){if(null!=a&&null!=a.mb)a=a.mb(a,b,c);else{var d=mb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=mb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IVector.-assoc-n",a);}return a}
function F(a){if(null!=a&&null!=a.fb)a=a.fb(a);else{var b=F[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=F._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IDeref.-deref",a);}return a}function nb(){}function ob(a){if(null!=a&&null!=a.ha)a=a.ha(a);else{var b=ob[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=ob._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMeta.-meta",a);}return a}
function pb(a,b){if(null!=a&&null!=a.ka)a=a.ka(a,b);else{var c=pb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=pb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IWithMeta.-with-meta",a);}return a}function qb(){}
var sb=function(){function a(d,e,f){var h=rb[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=rb._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("IReduce.-reduce",d);}function b(d,e){var f=rb[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=rb._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),rb=function rb(a){switch(arguments.length){case 2:return rb.B(arguments[0],arguments[1]);case 3:return rb.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};rb.B=function(a,b){return null!=a&&null!=a.qa?a.qa(a,b):sb(a,b)};rb.D=function(a,b,c){return null!=a&&null!=a.ra?a.ra(a,b,c):sb(a,b,c)};rb.$=3;function tb(){}
function ub(a,b,c){if(null!=a&&null!=a.Db)a=a.Db(a,b,c);else{var d=ub[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=ub._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IKVReduce.-kv-reduce",a);}return a}function vb(a,b){if(null!=a&&null!=a.fa)a=a.fa(a,b);else{var c=vb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=vb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IEquiv.-equiv",a);}return a}
function wb(a){if(null!=a&&null!=a.ga)a=a.ga(a);else{var b=wb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=wb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IHash.-hash",a);}return a}function xb(){}function yb(a){if(null!=a&&null!=a.ja)a=a.ja(a);else{var b=yb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=yb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeqable.-seq",a);}return a}function zb(){}function Ab(){}function Bb(){}
function G(a,b){if(null!=a&&null!=a.Ac)a=a.Ac(a,b);else{var c=G[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=G._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IWriter.-write",a);}return a}function Cb(){}function Db(a,b,c){if(null!=a&&null!=a.ia)a=a.ia(a,b,c);else{var d=Db[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Db._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IPrintWithWriter.-pr-writer",a);}return a}
function Eb(a,b){var c=Fb;if(null!=a&&null!=a.Sb)a.Sb(a,b,c);else{var d=Eb[t(null==a?null:a)];if(null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Eb._,null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IWatchable.-add-watch",a);}}function Gb(a,b){if(null!=a&&null!=a.Tb)a.Tb(a,b);else{var c=Gb[t(null==a?null:a)];if(null!=c)c.B?c.B(a,b):c.call(null,a,b);else if(c=Gb._,null!=c)c.B?c.B(a,b):c.call(null,a,b);else throw A("IWatchable.-remove-watch",a);}}
function Hb(a){if(null!=a&&null!=a.sb)a=a.sb(a);else{var b=Hb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Hb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEditableCollection.-as-transient",a);}return a}function Ib(a,b){if(null!=a&&null!=a.yb)a=a.yb(a,b);else{var c=Ib[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Ib._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ITransientCollection.-conj!",a);}return a}
function Jb(a){if(null!=a&&null!=a.Hb)a=a.Hb(a);else{var b=Jb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Jb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ITransientCollection.-persistent!",a);}return a}function Kb(a,b,c){if(null!=a&&null!=a.xb)a=a.xb(a,b,c);else{var d=Kb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Kb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("ITransientAssociative.-assoc!",a);}return a}
function Lb(a){if(null!=a&&null!=a.uc)a=a.uc(a);else{var b=Lb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Lb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunk.-drop-first",a);}return a}function Mb(a){if(null!=a&&null!=a.hc)a=a.hc(a);else{var b=Mb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Mb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunkedSeq.-chunked-first",a);}return a}
function Nb(a){if(null!=a&&null!=a.Rb)a=a.Rb(a);else{var b=Nb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Nb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunkedSeq.-chunked-rest",a);}return a}function Ob(a){if(null!=a&&null!=a.Eb)a=a.Eb(a);else{var b=Ob[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ob._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("INamed.-name",a);}return a}
function Pb(a){if(null!=a&&null!=a.Fb)a=a.Fb(a);else{var b=Pb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Pb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("INamed.-namespace",a);}return a}function Qb(a,b){if(null!=a&&null!=a.Sa)a=a.Sa(a,b);else{var c=Qb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IReset.-reset!",a);}return a}
var Sb=function(){function a(f,h,k,l,m){var n=Rb[t(null==f?null:f)];if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);n=Rb._;if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);throw A("ISwap.-swap!",f);}function b(f,h,k,l){var m=Rb[t(null==f?null:f)];if(null!=m)return m.T?m.T(f,h,k,l):m.call(null,f,h,k,l);m=Rb._;if(null!=m)return m.T?m.T(f,h,k,l):m.call(null,f,h,k,l);throw A("ISwap.-swap!",f);}function c(f,h,k){var l=Rb[t(null==f?null:f)];if(null!=l)return l.D?l.D(f,h,k):l.call(null,
f,h,k);l=Rb._;if(null!=l)return l.D?l.D(f,h,k):l.call(null,f,h,k);throw A("ISwap.-swap!",f);}function d(f,h){var k=Rb[t(null==f?null:f)];if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);k=Rb._;if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);throw A("ISwap.-swap!",f);}var e=null;e=function(f,h,k,l,m){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,l);case 5:return a.call(this,f,h,k,l,m)}throw Error("Invalid arity: "+arguments.length);
};e.B=d;e.D=c;e.T=b;e.aa=a;return e}(),Rb=function Rb(a){switch(arguments.length){case 2:return Rb.B(arguments[0],arguments[1]);case 3:return Rb.D(arguments[0],arguments[1],arguments[2]);case 4:return Rb.T(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Rb.aa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Rb.B=function(a,b){return null!=a&&null!=a.kc?a.kc(a,b):Sb(a,b)};
Rb.D=function(a,b,c){return null!=a&&null!=a.lc?a.lc(a,b,c):Sb(a,b,c)};Rb.T=function(a,b,c,d){return null!=a&&null!=a.mc?a.mc(a,b,c,d):Sb(a,b,c,d)};Rb.aa=function(a,b,c,d,e){return null!=a&&null!=a.nc?a.nc(a,b,c,d,e):Sb(a,b,c,d,e)};Rb.$=5;function Tb(){}function Ub(a){if(null!=a&&null!=a.Qa)a=a.Qa(a);else{var b=Ub[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ub._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IIterable.-iterator",a);}return a}
function Vb(a){this.pd=a;this.F=1073741824;this.P=0}Vb.prototype.Ac=function(a,b){return this.pd.append(b)};function Wb(a){var b=new pa;a.ia(null,new Vb(b),va());return B.j(b)}var Xb="undefined"!==typeof Math&&"undefined"!==typeof Math.imul?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function Yb(a){a=Xb(a|0,-862048943);return Xb(a<<15|a>>>-15,461845907)}
function Zb(a,b){a=(a|0)^(b|0);return Xb(a<<13|a>>>-13,5)+-430675100|0}function $b(a,b){a=(a|0)^b;a=Xb(a^a>>>16,-2048144789);a=Xb(a^a>>>13,-1028477387);return a^a>>>16}function ac(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=Zb(c,Yb(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return $b(1===(a.length&1)?b^Yb(a.charCodeAt(a.length-1)):b,Xb(2,a.length))}var bc={},cc=0;
function dc(a){255<cc&&(bc={},cc=0);if(null==a)return 0;var b=bc[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=Xb(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;bc[a]=b;cc+=1;a=b}return a}
function ec(a){if(null!=a&&(a.F&4194304||u===a.td))return a.ga(null)^0;if("number"===typeof a){if(isFinite(a))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=dc(a),a=0===a?a:$b(Zb(0,Yb(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:wb(a)^0,a}function fc(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function gc(a,b,c,d,e){this.Bb=a;this.name=b;this.jb=c;this._hash=d;this.Ya=e;this.F=2154168321;this.P=4096}g=gc.prototype;g.toString=function(){return this.jb};g.fa=function(a,b){return b instanceof gc?this.jb===b.jb:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};
g.j=function(a){return H.B?H.B(a,this):H.call(null,a,this)};g.B=function(a,b){return H.D?H.D(a,this,b):H.call(null,a,this,b)};g.ha=function(){return this.Ya};g.ka=function(a,b){return new gc(this.Bb,this.name,this.jb,this._hash,b)};g.ga=function(){var a=this._hash;return null!=a?a:this._hash=a=fc(ac(this.name),dc(this.Bb))};g.Eb=function(){return this.name};g.Fb=function(){return this.Bb};g.ia=function(a,b){return G(b,this.jb)};
var hc=function hc(a){switch(arguments.length){case 1:return hc.j(arguments[0]);case 2:return hc.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};hc.j=function(a){for(;;){if(a instanceof gc)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?hc.B(null,a):hc.B(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof I)a=a.Ra;else throw Error("no conversion to symbol");}};
hc.B=function(a,b){var c=null!=a?[B.j(a),"/",B.j(b)].join(""):b;return new gc(a,b,c,null,null)};hc.$=2;function ic(a){return null!=a?a.P&131072||u===a.ud?!0:a.P?!1:y(Tb,a):y(Tb,a)}function J(a){if(null==a)return null;if(null!=a&&(a.F&8388608||u===a.ad))return a.ja(null);if(Ba(a)||"string"===typeof a)return 0===a.length?null:new K(a,0,null);if(null!=a&&null!=a[Da])return a=ia(a,Da).call(a),jc.j?jc.j(a):jc.call(null,a);if(y(xb,a))return yb(a);throw Error([B.j(a)," is not ISeqable"].join(""));}
function N(a){if(null==a)return null;if(null!=a&&(a.F&64||u===a.ub))return a.wa(null);a=J(a);return null==a?null:D(a)}function kc(a){return null!=a?null!=a&&(a.F&64||u===a.ub)?a.xa(null):(a=J(a))?a.xa(null):lc:lc}function O(a){return null==a?null:null!=a&&(a.F&128||u===a.Gb)?a.va():J(kc(a))}
var P=function P(a){switch(arguments.length){case 1:return P.j(arguments[0]);case 2:return P.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return P.K(arguments[0],arguments[1],c)}};P.j=function(){return!0};P.B=function(a,b){return null==a?null==b:a===b||vb(a,b)};P.K=function(a,b,c){for(;;)if(P.B(a,b))if(O(c))a=b,b=N(c),c=O(c);else return P.B(b,N(c));else return!1};
P.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};P.$=2;function mc(a){this.s=a}mc.prototype.next=function(){if(null!=this.s){var a=N(this.s);this.s=O(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function nc(a){return new mc(J(a))}function oc(a,b){this.value=a;this.Ab=b;this.bc=null;this.F=8388672;this.P=0}oc.prototype.ja=function(){return this};oc.prototype.wa=function(){return this.value};
oc.prototype.xa=function(){null==this.bc&&(this.bc=jc.j?jc.j(this.Ab):jc.call(null,this.Ab));return this.bc};function jc(a){var b=a.next();return x(b.done)?null:new oc(b.value,a)}function pc(a){var b=0,c=1;for(a=J(a);;)if(null!=a)b+=1,c=Xb(31,c)+ec(N(a))|0,a=O(a);else return $b(Zb(0,Yb(c)),b)}var qc=$b(Zb(0,Yb(1)),0);function rc(a){var b=0,c=0;for(a=J(a);;)if(null!=a)b+=1,c=c+ec(N(a))|0,a=O(a);else return $b(Zb(0,Yb(c)),b)}var sc=$b(Zb(0,Yb(0)),0);La["null"]=!0;Ma["null"]=function(){return 0};
Date.prototype.fa=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};vb.number=function(a,b){return a===b};Ja["function"]=!0;nb["function"]=!0;ob["function"]=function(){return null};wb._=function(a){return ba(a)};function tc(a){return a+1}function uc(){this.R=!1;this.F=32768;this.P=0}uc.prototype.fb=function(){return this.R};function vc(a){return a instanceof uc}function wc(a){return F(a)}
function xc(a,b){var c=a.la(null);if(0===c)return b.O?b.O():b.call(null);for(var d=a.ea(null,0),e=1;;)if(e<c){var f=a.ea(null,e);d=b.B?b.B(d,f):b.call(null,d,f);if(vc(d))return F(d);e+=1}else return d}function yc(a,b,c){var d=a.la(null),e=c;for(c=0;;)if(c<d){var f=a.ea(null,c);e=b.B?b.B(e,f):b.call(null,e,f);if(vc(e))return F(e);c+=1}else return e}
function zc(a,b){var c=a.length;if(0===a.length)return b.O?b.O():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.B?b.B(d,f):b.call(null,d,f);if(vc(d))return F(d);e+=1}else return d}function Ac(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.B?b.B(e,f):b.call(null,e,f);if(vc(e))return F(e);c+=1}else return e}function Bc(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.B?b.B(c,f):b.call(null,c,f);if(vc(c))return F(c);d+=1}else return c}
function Cc(a){return null!=a?a.F&2||u===a.Qc?!0:a.F?!1:y(La,a):y(La,a)}function Dc(a){return null!=a?a.F&16||u===a.wc?!0:a.F?!1:y(Ra,a):y(Ra,a)}function Q(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(P.B(Ec?Ec(a,c):Fc.call(null,a,c),b))return c;c+=1}else return-1}
function S(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(P.B(Ec?Ec(a,c):Fc.call(null,a,c),b))return c;--c}else return-1}function Gc(a,b){this.C=a;this.i=b}Gc.prototype.pa=function(){return this.i<this.C.length};Gc.prototype.next=function(){var a=this.C[this.i];this.i+=1;return a};function K(a,b,c){this.C=a;this.i=b;this.meta=c;this.F=166592766;this.P=139264}g=K.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R.j?R.j(this):R.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ea=function(a,b){a=b+this.i;if(0<=a&&a<this.C.length)return this.C[a];throw Error("Index out of bounds");};g.Aa=function(a,b,c){a=b+this.i;return 0<=a&&a<this.C.length?this.C[a]:c};
g.Qa=function(){return new Gc(this.C,this.i)};g.ha=function(){return this.meta};g.va=function(){return this.i+1<this.C.length?new K(this.C,this.i+1,null):null};g.la=function(){var a=this.C.length-this.i;return 0>a?0:a};g.ga=function(){return pc(this)};g.fa=function(a,b){return Hc.B?Hc.B(this,b):Hc.call(null,this,b)};g.ma=function(){return lc};g.qa=function(a,b){return Bc(this.C,b,this.C[this.i],this.i+1)};g.ra=function(a,b,c){return Bc(this.C,b,c,this.i)};g.wa=function(){return this.C[this.i]};
g.xa=function(){return this.i+1<this.C.length?new K(this.C,this.i+1,null):lc};g.ja=function(){return this.i<this.C.length?this:null};g.ka=function(a,b){return b===this.meta?this:new K(this.C,this.i,b)};g.oa=function(a,b){return U.B?U.B(b,this):U.call(null,b,this)};K.prototype[Da]=function(){return nc(this)};function Ic(a){return 0<a.length?new K(a,0,null):null}vb._=function(a,b){return a===b};
var Jc=function Jc(a){switch(arguments.length){case 0:return Jc.O();case 1:return Jc.j(arguments[0]);case 2:return Jc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Jc.K(arguments[0],arguments[1],c)}};Jc.O=function(){return Kc};Jc.j=function(a){return a};Jc.B=function(a,b){return null!=a?Qa(a,b):new Lc(null,b,null,1,null)};
Jc.K=function(a,b,c){for(;;)if(x(c))a=Jc.B(a,b),b=N(c),c=O(c);else return Jc.B(a,b)};Jc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Jc.$=2;function R(a){if(null!=a)if(null!=a&&(a.F&2||u===a.Qc))a=a.la(null);else if(Ba(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.F&8388608||u===a.ad))a:{a=J(a);for(var b=0;;){if(Cc(a)){a=b+Ma(a);break a}a=O(a);b+=1}}else a=Ma(a);else a=0;return a}
function Mc(a,b,c){for(;;){if(null==a)return c;if(0===b)return J(a)?N(a):c;if(Dc(a))return Sa(a,b,c);if(J(a))a=O(a),--b;else return c}}function Fc(a){switch(arguments.length){case 2:return Ec(arguments[0],arguments[1]);case 3:return V(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}
function Ec(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.F&16||u===a.wc))return a.ea(null,b);if(Ba(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.F&64||u===a.ub)||null!=a&&(a.F&16777216||u===a.yc)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(J(a)){a=N(a);break a}throw Error("Index out of bounds");}if(Dc(a)){a=Sa(a,b);break a}if(J(a))a=O(a),--b;else throw Error("Index out of bounds");}return a}if(y(Ra,a))return Sa(a,b);throw Error(["nth not supported on this type ",B.j(Ca(null==a?null:a.constructor))].join(""));}
function V(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.F&16||u===a.wc))return a.Aa(null,b,c);if(Ba(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.F&64||u===a.ub)||null!=a&&(a.F&16777216||u===a.yc))return 0>b?c:Mc(a,b,c);if(y(Ra,a))return Sa(a,b,c);throw Error(["nth not supported on this type ",B.j(Ca(null==a?null:a.constructor))].join(""));}
var H=function H(a){switch(arguments.length){case 2:return H.B(arguments[0],arguments[1]);case 3:return H.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};H.B=function(a,b){return null==a?null:null!=a&&(a.F&256||u===a.Wc)?a.ya(null,b):Ba(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:y(Xa,a)?Ya(a,b):null};
H.D=function(a,b,c){return null!=a?null!=a&&(a.F&256||u===a.Wc)?a.ca(null,b,c):Ba(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:y(Xa,a)?Ya(a,b,c):c:c};H.$=3;var W=function W(a){switch(arguments.length){case 3:return W.D(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(3),0,null);return W.K(arguments[0],arguments[1],arguments[2],c)}};
W.D=function(a,b,c){return null!=a&&(a.F&512||u===a.Pc)?a.ab(null,b,c):null!=a?bb(a,b,c):Nc([b,c])};W.K=function(a,b,c,d){for(;;)if(a=W.D(a,b,c),x(d))b=N(d),c=N(O(d)),d=O(O(d));else return a};W.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);d=O(d);return this.K(b,a,c,d)};W.$=3;
var Oc=function Oc(a){switch(arguments.length){case 1:return Oc.j(arguments[0]);case 2:return Oc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Oc.K(arguments[0],arguments[1],c)}};Oc.j=function(a){return a};Oc.B=function(a,b){return null==a?null:eb(a,b)};Oc.K=function(a,b,c){for(;;){if(null==a)return null;a=Oc.B(a,b);if(x(c))b=N(c),c=O(c);else return a}};
Oc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Oc.$=2;function Pc(a){var b="function"===typeof a;return b?b:null!=a?u===a.Oc?!0:a.Bc?!1:y(Ja,a):y(Ja,a)}function Qc(a,b){this.I=a;this.meta=b;this.F=393217;this.P=0}g=Qc.prototype;g.ha=function(){return this.meta};g.ka=function(a,b){return new Qc(this.I,b)};g.Oc=u;
g.call=function(a){switch(arguments.length-1){case 0:return this.O();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.T(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Oa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ia(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ka(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.ic(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.O=function(){return this.I.O?this.I.O():this.I.call(null)};g.j=function(a){return this.I.j?this.I.j(a):this.I.call(null,a)};g.B=function(a,b){return this.I.B?this.I.B(a,b):this.I.call(null,a,b)};g.D=function(a,b,c){return this.I.D?this.I.D(a,b,c):this.I.call(null,a,b,c)};
g.T=function(a,b,c,d){return this.I.T?this.I.T(a,b,c,d):this.I.call(null,a,b,c,d)};g.aa=function(a,b,c,d,e){return this.I.aa?this.I.aa(a,b,c,d,e):this.I.call(null,a,b,c,d,e)};g.Na=function(a,b,c,d,e,f){return this.I.Na?this.I.Na(a,b,c,d,e,f):this.I.call(null,a,b,c,d,e,f)};g.Oa=function(a,b,c,d,e,f,h){return this.I.Oa?this.I.Oa(a,b,c,d,e,f,h):this.I.call(null,a,b,c,d,e,f,h)};g.za=function(a,b,c,d,e,f,h,k){return this.I.za?this.I.za(a,b,c,d,e,f,h,k):this.I.call(null,a,b,c,d,e,f,h,k)};
g.Pa=function(a,b,c,d,e,f,h,k,l){return this.I.Pa?this.I.Pa(a,b,c,d,e,f,h,k,l):this.I.call(null,a,b,c,d,e,f,h,k,l)};g.Ca=function(a,b,c,d,e,f,h,k,l,m){return this.I.Ca?this.I.Ca(a,b,c,d,e,f,h,k,l,m):this.I.call(null,a,b,c,d,e,f,h,k,l,m)};g.Da=function(a,b,c,d,e,f,h,k,l,m,n){return this.I.Da?this.I.Da(a,b,c,d,e,f,h,k,l,m,n):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Ea=function(a,b,c,d,e,f,h,k,l,m,n,p){return this.I.Ea?this.I.Ea(a,b,c,d,e,f,h,k,l,m,n,p):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.Fa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){return this.I.Fa?this.I.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};g.Ga=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){return this.I.Ga?this.I.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};g.Ha=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w){return this.I.Ha?this.I.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w)};
g.Ia=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z){return this.I.Ia?this.I.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z)};g.Ja=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C){return this.I.Ja?this.I.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C)};g.Ka=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E){return this.I.Ka?this.I.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E)};
g.La=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M){return this.I.La?this.I.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M)};g.Ma=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T){return this.I.Ma?this.I.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T)};
g.ic=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da){return Rc.Vc?Rc.Vc(this.I,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da):Rc.call(null,this.I,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da)};function Sc(a,b){return"function"===typeof a?new Qc(a,b):null==a?null:pb(a,b)}function Tc(a){var b=null!=a;return(b?null!=a?a.F&131072||u===a.Zc||(a.F?0:y(nb,a)):y(nb,a):b)?ob(a):null}
var Uc=function Uc(a){switch(arguments.length){case 1:return Uc.j(arguments[0]);case 2:return Uc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Uc.K(arguments[0],arguments[1],c)}};Uc.j=function(a){return a};Uc.B=function(a,b){return null==a?null:ib(a,b)};Uc.K=function(a,b,c){for(;;){if(null==a)return null;a=Uc.B(a,b);if(x(c))b=N(c),c=O(c);else return a}};
Uc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Uc.$=2;function Vc(a){var b;(b=null==a)||(a=J(a),b=null==a?!0:!1===a?!0:!1);return b}function Wc(a){return null==a?!1:null!=a?a.F&8||u===a.rd?!0:a.F?!1:y(Pa,a):y(Pa,a)}function Xc(a){return null==a?!1:null!=a?a.F&4096||u===a.Ad?!0:a.F?!1:y(hb,a):y(hb,a)}function Yc(a){return null!=a?a.F&16777216||u===a.yc?!0:a.F?!1:y(zb,a):y(zb,a)}function $c(a){return null==a?!1:null!=a?a.F&1024||u===a.xd?!0:a.F?!1:y(db,a):y(db,a)}
function ad(a){return null!=a?a.F&67108864||u===a.zd?!0:a.F?!1:y(Bb,a):y(Bb,a)}function bd(a){return null!=a?a.F&16384||u===a.Bd?!0:a.F?!1:y(lb,a):y(lb,a)}function cd(a){return null!=a?a.P&512||u===a.qd?!0:!1:!1}function dd(a,b,c,d,e){for(;;){if(0===e)return c;c[d]=a[b];d+=1;--e;b+=1}}var ed={};function fd(a){return null==a?!1:!1===a?!1:!0}function gd(a){var b=Pc(a);return b?b:null!=a?a.F&1||u===a.sd?!0:a.F?!1:y(Ka,a):y(Ka,a)}
function hd(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function id(a,b){return null!=a&&(a.F&512||u===a.Pc)?a.lb(null,b):y($a,a)?ab(a,b):H.D(a,b,ed)===ed?!1:!0}function jd(a,b){var c=J(b);return c?(b=N(c),c=O(c),Ga?Ga(a,b,c):Ha.call(null,a,b,c)):a.O?a.O():a.call(null)}function kd(a,b,c){for(c=J(c);;)if(c){var d=N(c);b=a.B?a.B(b,d):a.call(null,b,d);if(vc(b))return F(b);c=O(c)}else return b}
function ld(a,b){a=Ub(a);if(x(a.pa()))for(var c=a.next();;)if(a.pa()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(vc(c))return F(c)}else return c;else return b.O?b.O():b.call(null)}function md(a,b,c){for(a=Ub(a);;)if(a.pa()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(vc(c))return F(c)}else return c}
function Ha(a){switch(arguments.length){case 2:return nd(arguments[0],arguments[1]);case 3:return Ga(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function nd(a,b){return null!=b&&(b.F&524288||u===b.$c)?b.qa(null,a):Ba(b)?zc(b,a):"string"===typeof b?zc(b,a):y(qb,b)?rb(b,a):ic(b)?ld(b,a):jd(a,b)}
function Ga(a,b,c){return null!=c&&(c.F&524288||u===c.$c)?c.ra(null,a,b):Ba(c)?Ac(c,a,b):"string"===typeof c?Ac(c,a,b):y(qb,c)?rb(c,a,b):ic(c)?md(c,a,b):kd(a,b,c)}function od(a,b,c){return null!=c?ub(c,a,b):b}function pd(a){return a}function qd(a,b,c,d){a=a.j?a.j(b):a.call(null,b);c=Ga(a,c,d);return a.j?a.j(c):a.call(null,c)}
var rd=function rd(a){switch(arguments.length){case 0:return rd.O();case 1:return rd.j(arguments[0]);case 2:return rd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return rd.K(arguments[0],arguments[1],c)}};rd.O=function(){return 0};rd.j=function(a){return a};rd.B=function(a,b){return a+b};rd.K=function(a,b,c){return Ga(rd,a+b,c)};
rd.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};rd.$=2;var sd=function sd(a){switch(arguments.length){case 1:return sd.j(arguments[0]);case 2:return sd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return sd.K(arguments[0],arguments[1],c)}};sd.j=function(a){return-a};sd.B=function(a,b){return a-b};sd.K=function(a,b,c){return Ga(sd,a-b,c)};
sd.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};sd.$=2;function td(a){a=(a-a%2)/2;return 0<=a?Math.floor(a):Math.ceil(a)}function ud(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var B=function B(a){switch(arguments.length){case 0:return B.O();case 1:return B.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(1),0,null);return B.K(arguments[0],c)}};B.O=function(){return""};
B.j=function(a){return null==a?"":[a].join("")};B.K=function(a,b){for(a=new pa(B.j(a));;)if(x(b))a=a.append(B.j(N(b))),b=O(b);else return a.toString()};B.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};B.$=1;function Hc(a,b){if(Yc(b))if(Cc(a)&&Cc(b)&&R(a)!==R(b))a=!1;else a:for(a=J(a),b=J(b);;){if(null==a){a=null==b;break a}if(null!=b&&P.B(N(a),N(b)))a=O(a),b=O(b);else{a=!1;break a}}else a=null;return fd(a)}
function Lc(a,b,c,d,e){this.meta=a;this.first=b;this.eb=c;this.count=d;this.N=e;this.F=65937646;this.P=8192}g=Lc.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return 1===this.count?null:this.eb};g.la=function(){return this.count};g.vb=function(){return this.first};g.wb=function(){return this.xa(null)};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return pb(lc,this.meta)};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.first};g.xa=function(){return 1===this.count?lc:this.eb};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Lc(b,this.first,this.eb,this.count,this.N)};g.oa=function(a,b){return new Lc(this.meta,b,this,this.count+1,null)};
Lc.prototype[Da]=function(){return nc(this)};function vd(a){this.meta=a;this.F=65937614;this.P=8192}g=vd.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null};g.la=function(){return 0};g.vb=function(){return null};g.wb=function(){throw Error("Can't pop empty list");};g.ga=function(){return qc};
g.fa=function(a,b){return(null!=b?b.F&33554432||u===b.wd||(b.F?0:y(Ab,b)):y(Ab,b))||Yc(b)?null==J(b):!1};g.ma=function(){return this};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return null};g.xa=function(){return lc};g.ja=function(){return null};g.ka=function(a,b){return b===this.meta?this:new vd(b)};g.oa=function(a,b){return new Lc(this.meta,b,null,1,null)};var lc=new vd(null);vd.prototype[Da]=function(){return nc(this)};
function wd(a,b,c,d){this.meta=a;this.first=b;this.eb=c;this.N=d;this.F=65929452;this.P=8192}g=wd.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null==this.eb?null:J(this.eb)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};
g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.first};g.xa=function(){return null==this.eb?lc:this.eb};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new wd(b,this.first,this.eb,this.N)};g.oa=function(a,b){return new wd(null,b,this,null)};wd.prototype[Da]=function(){return nc(this)};
function U(a,b){return null==b?new Lc(null,a,null,1,null):null!=b&&(b.F&64||u===b.ub)?new wd(null,a,b,null):new wd(null,a,J(b),null)}function I(a,b,c,d){this.Bb=a;this.name=b;this.Ra=c;this._hash=d;this.F=2153775105;this.P=4096}g=I.prototype;g.toString=function(){return[":",B.j(this.Ra)].join("")};g.fa=function(a,b){return b instanceof I?this.Ra===b.Ra:!1};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return H.B(a,this)};g.B=function(a,b){return H.D(a,this,b)};g.ga=function(){var a=this._hash;return null!=a?a:this._hash=a=fc(ac(this.name),dc(this.Bb))+2654435769|0};g.Eb=function(){return this.name};
g.Fb=function(){return this.Bb};g.ia=function(a,b){return G(b,[":",B.j(this.Ra)].join(""))};function xd(a){if(null!=a&&(a.P&4096||u===a.xc))return a.Fb(null);throw Error(["Doesn't support namespace: ",B.j(a)].join(""));}var yd=function yd(a){switch(arguments.length){case 1:return yd.j(arguments[0]);case 2:return yd.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};
yd.j=function(a){if(a instanceof I)return a;if(a instanceof gc)return new I(xd(a),X.j?X.j(a):X.call(null,a),a.jb,null);if(P.B("/",a))return new I(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new I(b[0],b[1],a,null):new I(null,b[0],a,null)}return null};
yd.B=function(a,b){a=a instanceof I?X.j?X.j(a):X.call(null,a):a instanceof gc?X.j?X.j(a):X.call(null,a):a;b=b instanceof I?X.j?X.j(b):X.call(null,b):b instanceof gc?X.j?X.j(b):X.call(null,b):b;return new I(a,b,[x(a)?[B.j(a),"/"].join(""):null,B.j(b)].join(""),null)};yd.$=2;function zd(a,b,c){this.meta=a;this.fn=b;this.s=null;this.N=c;this.F=32374988;this.P=1}g=zd.prototype;g.toString=function(){return Wb(this)};
function Ad(a){null!=a.fn&&(a.s=a.fn.O?a.fn.O():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){this.ja(null);return null==this.s?null:O(this.s)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};
g.ma=function(){return pb(lc,this.meta)};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){this.ja(null);return null==this.s?null:N(this.s)};g.xa=function(){this.ja(null);return null!=this.s?kc(this.s):lc};g.ja=function(){Ad(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof zd)a=Ad(a);else return this.s=a,J(this.s)};g.ka=function(a,b){var c=this;return b===this.meta?c:new zd(b,function(){return c.ja(null)},this.N)};
g.oa=function(a,b){return U(b,this)};zd.prototype[Da]=function(){return nc(this)};function Bd(a){this.cc=a;this.end=0;this.F=2;this.P=0}Bd.prototype.add=function(a){this.cc[this.end]=a;return this.end+=1};Bd.prototype.$a=function(){var a=new Cd(this.cc,0,this.end);this.cc=null;return a};Bd.prototype.la=function(){return this.end};function Cd(a,b,c){this.C=a;this.off=b;this.end=c;this.F=524306;this.P=0}g=Cd.prototype;g.la=function(){return this.end-this.off};
g.ea=function(a,b){return this.C[this.off+b]};g.Aa=function(a,b,c){return 0<=b&&b<this.end-this.off?this.C[this.off+b]:c};g.uc=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Cd(this.C,this.off+1,this.end)};g.qa=function(a,b){return Bc(this.C,b,this.C[this.off],this.off+1)};g.ra=function(a,b,c){return Bc(this.C,b,c,this.off)};function Dd(a,b,c,d){this.$a=a;this.Va=b;this.meta=c;this.N=d;this.F=31850732;this.P=1536}g=Dd.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return 1<Ma(this.$a)?new Dd(Lb(this.$a),this.Va,null,null):null==this.Va?null:yb(this.Va)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.wa=function(){return Sa(this.$a,0)};g.xa=function(){return 1<Ma(this.$a)?new Dd(Lb(this.$a),this.Va,null,null):null==this.Va?lc:this.Va};g.ja=function(){return this};g.hc=function(){return this.$a};g.Rb=function(){return null==this.Va?lc:this.Va};g.ka=function(a,b){return b===this.meta?this:new Dd(this.$a,this.Va,b,this.N)};g.oa=function(a,b){return U(b,this)};g.vc=function(){return null==this.Va?null:this.Va};Dd.prototype[Da]=function(){return nc(this)};
function Ed(a,b){return 0===Ma(a)?b:new Dd(a,b,null,null)}function Fd(a,b){a.add(b)}function Gd(a,b){if(Cc(b))return R(b);var c=0;for(b=J(b);;)if(null!=b&&c<a)c+=1,b=O(b);else return c}var Hd=function Hd(a){if(null==a)return null;var c=O(a);return null==c?J(N(a)):U(N(a),Hd.j?Hd.j(c):Hd.call(null,c))};
function Id(a,b,c){var d=J(c);if(0===b)return a.O?a.O():a.call(null);c=D(d);var e=Va(d);if(1===b)return a.j?a.j(c):a.call(null,c);d=D(e);var f=Va(e);if(2===b)return a.B?a.B(c,d):a.call(null,c,d);e=D(f);var h=Va(f);if(3===b)return a.D?a.D(c,d,e):a.call(null,c,d,e);f=D(h);var k=Va(h);if(4===b)return a.T?a.T(c,d,e,f):a.call(null,c,d,e,f);h=D(k);var l=Va(k);if(5===b)return a.aa?a.aa(c,d,e,f,h):a.call(null,c,d,e,f,h);k=D(l);var m=Va(l);if(6===b)return a.Na?a.Na(c,d,e,f,h,k):a.call(null,c,d,e,f,h,k);l=
D(m);var n=Va(m);if(7===b)return a.Oa?a.Oa(c,d,e,f,h,k,l):a.call(null,c,d,e,f,h,k,l);m=D(n);var p=Va(n);if(8===b)return a.za?a.za(c,d,e,f,h,k,l,m):a.call(null,c,d,e,f,h,k,l,m);n=D(p);var q=Va(p);if(9===b)return a.Pa?a.Pa(c,d,e,f,h,k,l,m,n):a.call(null,c,d,e,f,h,k,l,m,n);p=D(q);var r=Va(q);if(10===b)return a.Ca?a.Ca(c,d,e,f,h,k,l,m,n,p):a.call(null,c,d,e,f,h,k,l,m,n,p);q=D(r);var w=Va(r);if(11===b)return a.Da?a.Da(c,d,e,f,h,k,l,m,n,p,q):a.call(null,c,d,e,f,h,k,l,m,n,p,q);r=D(w);var z=Va(w);if(12===
b)return a.Ea?a.Ea(c,d,e,f,h,k,l,m,n,p,q,r):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r);w=D(z);var C=Va(z);if(13===b)return a.Fa?a.Fa(c,d,e,f,h,k,l,m,n,p,q,r,w):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w);z=D(C);var E=Va(C);if(14===b)return a.Ga?a.Ga(c,d,e,f,h,k,l,m,n,p,q,r,w,z):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z);C=D(E);var M=Va(E);if(15===b)return a.Ha?a.Ha(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C);E=D(M);var T=Va(M);if(16===b)return a.Ia?a.Ia(c,d,e,f,h,k,l,m,n,p,q,r,w,
z,C,E):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E);M=D(T);var da=Va(T);if(17===b)return a.Ja?a.Ja(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M);T=D(da);var qa=Va(da);if(18===b)return a.Ka?a.Ka(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T);da=D(qa);qa=Va(qa);if(19===b)return a.La?a.La(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da);var Zc=D(qa);Va(qa);if(20===b)return a.Ma?a.Ma(c,
d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da,Zc):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da,Zc);throw Error("Only up to 20 arguments supported on functions");}function Jd(a){return null!=a&&(a.F&128||u===a.Gb)?a.va():J(kc(a))}function Kd(a,b,c){return null==c?a.j?a.j(b):a.call(a,b):Ld(a,b,D(c),Jd(c))}function Ld(a,b,c,d){return null==d?a.B?a.B(b,c):a.call(a,b,c):Md(a,b,c,D(d),Jd(d))}function Md(a,b,c,d,e){return null==e?a.D?a.D(b,c,d):a.call(a,b,c,d):Nd(a,b,c,d,D(e),Jd(e))}
function Nd(a,b,c,d,e,f){if(null==f)return a.T?a.T(b,c,d,e):a.call(a,b,c,d,e);var h=D(f),k=O(f);if(null==k)return a.aa?a.aa(b,c,d,e,h):a.call(a,b,c,d,e,h);f=D(k);var l=O(k);if(null==l)return a.Na?a.Na(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=D(l);var m=O(l);if(null==m)return a.Oa?a.Oa(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);l=D(m);var n=O(m);if(null==n)return a.za?a.za(b,c,d,e,h,f,k,l):a.call(a,b,c,d,e,h,f,k,l);m=D(n);var p=O(n);if(null==p)return a.Pa?a.Pa(b,c,d,e,h,f,k,l,m):a.call(a,b,c,d,e,h,f,k,l,m);
n=D(p);var q=O(p);if(null==q)return a.Ca?a.Ca(b,c,d,e,h,f,k,l,m,n):a.call(a,b,c,d,e,h,f,k,l,m,n);p=D(q);var r=O(q);if(null==r)return a.Da?a.Da(b,c,d,e,h,f,k,l,m,n,p):a.call(a,b,c,d,e,h,f,k,l,m,n,p);q=D(r);var w=O(r);if(null==w)return a.Ea?a.Ea(b,c,d,e,h,f,k,l,m,n,p,q):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q);r=D(w);var z=O(w);if(null==z)return a.Fa?a.Fa(b,c,d,e,h,f,k,l,m,n,p,q,r):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r);w=D(z);var C=O(z);if(null==C)return a.Ga?a.Ga(b,c,d,e,h,f,k,l,m,n,p,q,r,w):a.call(a,b,c,d,
e,h,f,k,l,m,n,p,q,r,w);z=D(C);var E=O(C);if(null==E)return a.Ha?a.Ha(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z);C=D(E);var M=O(E);if(null==M)return a.Ia?a.Ia(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C);E=D(M);var T=O(M);if(null==T)return a.Ja?a.Ja(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E);M=D(T);var da=O(T);if(null==da)return a.Ka?a.Ka(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M):a.call(a,b,c,d,e,h,f,k,l,m,n,p,
q,r,w,z,C,E,M);T=D(da);var qa=O(da);if(null==qa)return a.La?a.La(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T);da=D(qa);qa=O(qa);if(null==qa)return a.Ma?a.Ma(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da);b=[b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da];for(c=qa;;)if(c)b.push(D(c)),c=O(c);else break;return a.apply(a,b)}
function Rc(a){switch(arguments.length){case 2:return Od(arguments[0],arguments[1]);case 3:return Pd(arguments[0],arguments[1],arguments[2]);case 4:var b=arguments[0];var c=arguments[1],d=arguments[2],e=arguments[3];b.ba?(c=U(c,U(d,e)),d=b.$,e=2+Gd(d-1,e),b=e<=d?Id(b,e,c):b.ba(c)):b=Ld(b,c,d,J(e));return b;case 5:return Qd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:b=[];e=arguments.length;for(c=0;;)if(c<e)b.push(arguments[c]),c+=1;else break;b=new K(b.slice(5),0,null);
return Rd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}function Od(a,b){if(a.ba){var c=a.$,d=Gd(c+1,b);return d<=c?Id(a,d,b):a.ba(b)}b=J(b);return null==b?a.O?a.O():a.call(a):Kd(a,D(b),Jd(b))}function Pd(a,b,c){if(a.ba){b=U(b,c);var d=a.$;c=Gd(d,c)+1;return c<=d?Id(a,c,b):a.ba(b)}return Kd(a,b,J(c))}function Qd(a,b,c,d,e){return a.ba?(b=U(b,U(c,U(d,e))),c=a.$,e=3+Gd(c-2,e),e<=c?Id(a,e,b):a.ba(b)):Md(a,b,c,d,J(e))}
function Rd(a,b,c,d,e,f){return a.ba?(f=Hd(f),b=U(b,U(c,U(d,U(e,f)))),c=a.$,f=4+Gd(c-3,f),f<=c?Id(a,f,b):a.ba(b)):Nd(a,b,c,d,e,Hd(f))}function Sd(a){if(null!=a&&(a.F&64||u===a.ub))if(O(a)){a:{var b=[];for(a=J(a);;)if(null!=a)b.push(N(a)),a=O(a);else break a}b=Nc(b)}else b=J(a)?N(a):Td;else b=a;return b}
function Ud(){if("undefined"===typeof ra||"undefined"===typeof sa||"undefined"===typeof ta)ta=function(a){this.gd=a;this.F=393216;this.P=0},ta.prototype.ka=function(a,b){return new ta(b)},ta.prototype.ha=function(){return this.gd},ta.prototype.pa=function(){return!1},ta.prototype.next=function(){return Error("No such element")},ta.prototype.remove=function(){return Error("Unsupported operation")},ta.Ib=!0,ta.nb="cljs.core/t_cljs$core20121",ta.Ub=function(a){return G(a,"cljs.core/t_cljs$core20121")};
return new ta(Td)}var Vd={},Wd={};function Xd(a){this.Cb=Vd;this._next=a}Xd.prototype.pa=function(){this.Cb===Vd?(this.Cb=Wd,this._next=J(this._next)):this.Cb===this._next&&(this._next=O(this.Cb));return null!=this._next};Xd.prototype.next=function(){if(this.pa())return this.Cb=this._next,N(this._next);throw Error("No such element");};Xd.prototype.remove=function(){return Error("Unsupported operation")};
function Yd(a,b){for(;;){if(null==J(b))return!0;var c=N(b);c=a.j?a.j(c):a.call(null,c);if(x(c))b=O(b);else return!1}}function Zd(a){for(var b=pd;;)if(a=J(a)){var c=N(a);c=b.j?b.j(c):b.call(null,c);if(x(c))return c;a=O(a)}else return null}
function $d(a,b){return new zd(null,function(){var c=J(b);if(c){if(cd(c)){for(var d=Mb(c),e=R(d),f=new Bd(Array(e)),h=0;;)if(h<e){var k=function(){var l=Sa(d,h);return a.j?a.j(l):a.call(null,l)}();null!=k&&f.add(k);h+=1}else break;return Ed(f.$a(),$d(a,Nb(c)))}e=function(){var l=N(c);return a.j?a.j(l):a.call(null,l)}();return null==e?$d(a,kc(c)):U(e,$d(a,kc(c)))}return null},null)}function ae(a){this.state=a;this.ua=this.validator=this.meta=null;this.P=16386;this.F=6455296}g=ae.prototype;
g.fa=function(a,b){return this===b};g.fb=function(){return this.state};g.ha=function(){return this.meta};g.oc=function(a,b){for(var c=J(this.ua),d=null,e=0,f=0;;)if(f<e){var h=d.ea(null,f),k=V(h,0,null);h=V(h,1,null);h.T?h.T(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=J(c))cd(c)?(d=Mb(c),c=Nb(c),k=d,e=R(d),d=k):(d=N(c),k=V(d,0,null),h=V(d,1,null),h.T?h.T(k,this,a,b):h.call(null,k,this,a,b),c=O(c),d=null,e=0),f=0;else break};g.Sb=function(a,b,c){this.ua=W.D(this.ua,b,c);return this};
g.Tb=function(a,b){return this.ua=Oc.B(this.ua,b)};g.ga=function(){return ba(this)};function be(a,b){if(a instanceof ae){var c=a.validator;if(null!=c&&!x(c.j?c.j(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.ua&&a.oc(c,b);return b}return Qb(a,b)}
var ce=function ce(a){switch(arguments.length){case 2:return ce.B(arguments[0],arguments[1]);case 3:return ce.D(arguments[0],arguments[1],arguments[2]);case 4:return ce.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return ce.K(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
ce.B=function(a,b){if(a instanceof ae){var c=a.state;b=b.j?b.j(c):b.call(null,c);a=be(a,b)}else a=Rb(a,b);return a};ce.D=function(a,b,c){if(a instanceof ae){var d=a.state;b=b.B?b.B(d,c):b.call(null,d,c);a=be(a,b)}else a=Rb(a,b,c);return a};ce.T=function(a,b,c,d){if(a instanceof ae){var e=a.state;b=b.D?b.D(e,c,d):b.call(null,e,c,d);a=be(a,b)}else a=Rb(a,b,c,d);return a};ce.K=function(a,b,c,d,e){return a instanceof ae?be(a,Qd(b,a.state,c,d,e)):Rb(a,b,c,d,e)};
ce.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);var e=O(d);d=N(e);e=O(e);return this.K(b,a,c,d,e)};ce.$=4;
var de=function de(a){switch(arguments.length){case 1:return de.j(arguments[0]);case 2:return de.B(arguments[0],arguments[1]);case 3:return de.D(arguments[0],arguments[1],arguments[2]);case 4:return de.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return de.K(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
de.j=function(a){return function(b){return function(){function c(k,l){l=a.j?a.j(l):a.call(null,l);return b.B?b.B(k,l):b.call(null,k,l)}function d(k){return b.j?b.j(k):b.call(null,k)}function e(){return b.O?b.O():b.call(null)}var f=null,h=function(){function k(m,n,p){var q=null;if(2<arguments.length){q=0;for(var r=Array(arguments.length-2);q<r.length;)r[q]=arguments[q+2],++q;q=new K(r,0,null)}return l.call(this,m,n,q)}function l(m,n,p){n=Pd(a,n,p);return b.B?b.B(m,n):b.call(null,m,n)}k.$=2;k.ba=function(m){var n=
N(m);m=O(m);var p=N(m);m=kc(m);return l(n,p,m)};k.K=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new K(p,0,null)}return h.K(k,l,n)}throw Error("Invalid arity: "+arguments.length);};f.$=2;f.ba=h.ba;f.O=e;f.j=d;f.B=c;f.K=h.K;return f}()}};
de.B=function(a,b){return new zd(null,function(){var c=J(b);if(c){if(cd(c)){for(var d=Mb(c),e=R(d),f=new Bd(Array(e)),h=0;;)if(h<e)Fd(f,function(){var k=Sa(d,h);return a.j?a.j(k):a.call(null,k)}()),h+=1;else break;return Ed(f.$a(),de.B(a,Nb(c)))}return U(function(){var k=N(c);return a.j?a.j(k):a.call(null,k)}(),de.B(a,kc(c)))}return null},null)};
de.D=function(a,b,c){return new zd(null,function(){var d=J(b),e=J(c);if(d&&e){var f=N(d);var h=N(e);f=a.B?a.B(f,h):a.call(null,f,h);d=U(f,de.D(a,kc(d),kc(e)))}else d=null;return d},null)};de.T=function(a,b,c,d){return new zd(null,function(){var e=J(b),f=J(c),h=J(d);if(e&&f&&h){var k=N(e);var l=N(f),m=N(h);k=a.D?a.D(k,l,m):a.call(null,k,l,m);e=U(k,de.T(a,kc(e),kc(f),kc(h)))}else e=null;return e},null)};
de.K=function(a,b,c,d,e){return de.B(function(f){return Od(a,f)},function k(h){return new zd(null,function(){var l=de.B(J,h);return Yd(pd,l)?U(de.B(N,l),k(de.B(kc,l))):null},null)}(Jc.K(e,d,Ic([c,b]))))};de.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);var e=O(d);d=N(e);e=O(e);return this.K(b,a,c,d,e)};de.$=4;function ee(a,b){return new zd(null,function(){if(0<a){var c=J(b);return c?U(N(c),ee(a-1,kc(c))):null}return null},null)}
function fe(a,b){return new zd(null,function(){a:for(var c=a,d=b;;)if(d=J(d),0<c&&d)--c,d=kc(d);else break a;return d},null)}function ge(a){return de.D(function(b){return b},a,fe(2,a))}function he(a,b,c,d){this.meta=a;this.count=b;this.R=c;this.next=d;this.N=null;this.F=32374988;this.P=1}g=he.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null==this.next?1<this.count?this.next=new he(null,this.count-1,this.R,null):-1===this.count?this:null:this.next};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){if(-1===this.count)for(var c=b.B?b.B(this.R,this.R):b.call(null,this.R,this.R);;){if(vc(c))return F(c);c=b.B?b.B(c,this.R):b.call(null,c,this.R)}else for(a=1,c=this.R;;)if(a<this.count){c=b.B?b.B(c,this.R):b.call(null,c,this.R);if(vc(c))return F(c);a+=1}else return c};
g.ra=function(a,b,c){if(-1===this.count)for(c=b.B?b.B(c,this.R):b.call(null,c,this.R);;){if(vc(c))return F(c);c=b.B?b.B(c,this.R):b.call(null,c,this.R)}else for(a=0;;)if(a<this.count){c=b.B?b.B(c,this.R):b.call(null,c,this.R);if(vc(c))return F(c);a+=1}else return c};g.wa=function(){return this.R};g.xa=function(){return null==this.next?1<this.count?this.next=new he(null,this.count-1,this.R,null):-1===this.count?this:lc:this.next};g.ja=function(){return this};
g.ka=function(a,b){return b===this.meta?this:new he(b,this.count,this.R,this.next)};g.oa=function(a,b){return U(b,this)};var ie=function ie(a){switch(arguments.length){case 0:return ie.O();case 1:return ie.j(arguments[0]);case 2:return ie.B(arguments[0],arguments[1]);case 3:return ie.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};ie.O=function(){return Kc};ie.j=function(a){return a};
ie.B=function(a,b){return null!=a?null!=a&&(a.P&4||u===a.Rc)?pb(Jb(Ga(Ib,Hb(a),b)),Tc(a)):Ga(Qa,a,b):Ga(Jc,a,b)};ie.D=function(a,b,c){if(null!=a&&(a.P&4||u===a.Rc)){var d=Tc(a);return qd(b,function(){function e(h){return pb(Jb(h),d)}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return Ib(h,k)}throw Error("Invalid arity: "+arguments.length);};f.j=e;f.B=function(h,k){return Ib(h,k)};return f}(),Hb(a),c)}return qd(b,Jc,a,c)};ie.$=3;
function je(a,b,c){var d=W.D,e=H.B(a,b);c=c.j?c.j(e):c.call(null,e);return d.call(W,a,b,c)}function ke(a,b,c,d){var e=W.D,f=H.B(a,b);c=c.B?c.B(f,d):c.call(null,f,d);return e.call(W,a,b,c)}function le(a,b){this.da=a;this.C=b}function me(a){return new le(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function ne(a){return new le(a.da,Ea(a.C))}
function oe(a){a=a.G;return 32>a?0:a-1>>>5<<5}function pe(a,b,c){for(;;){if(0===b)return c;var d=me(a);d.C[0]=c;c=d;b-=5}}var qe=function qe(a,b,c,d){var f=ne(c),h=a.G-1>>>b&31;5===b?f.C[h]=d:(c=c.C[h],null!=c?(b-=5,a=qe.T?qe.T(a,b,c,d):qe.call(null,a,b,c,d)):a=pe(null,b-5,d),f.C[h]=a);return f};function re(a,b){throw Error(["No item ",B.j(a)," in vector of length ",B.j(b)].join(""));}
function se(a,b){if(b>=oe(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.C[b>>>a&31];a=d}else return c.C}function te(a,b){return 0<=b&&b<a.G?se(a,b):re(b,a.G)}
var ue=function ue(a,b,c,d,e){var h=ne(c);if(0===b)h.C[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.C[k];a=ue.aa?ue.aa(a,b,c,d,e):ue.call(null,a,b,c,d,e);h.C[k]=a}return h},ve=function ve(a,b,c){var e=a.G-2>>>b&31;if(5<b){b-=5;var f=c.C[e];a=ve.D?ve.D(a,b,f):ve.call(null,a,b,f);if(null==a&&0===e)return null;c=ne(c);c.C[e]=a;return c}if(0===e)return null;c=ne(c);c.C[e]=null;return c};function we(a,b,c,d,e,f){this.i=a;this.base=b;this.C=c;this.v=d;this.start=e;this.end=f}
we.prototype.pa=function(){return this.i<this.end};we.prototype.next=function(){32===this.i-this.base&&(this.C=se(this.v,this.i),this.base+=32);var a=this.C[this.i&31];this.i+=1;return a};function xe(a,b,c){return new we(b,b-b%32,b<R(a)?se(a,b):null,a,b,c)}function ye(a,b,c,d){return c<d?ze(a,b,Ec(a,c),c+1,d):b.O?b.O():b.call(null)}
function ze(a,b,c,d,e){var f=c;c=d;for(d=se(a,d);;)if(c<e){var h=c&31;d=0===h?se(a,c):d;h=d[h];f=b.B?b.B(f,h):b.call(null,f,h);if(vc(f))return F(f);c+=1}else return f}function Y(a,b,c,d,e,f){this.meta=a;this.G=b;this.shift=c;this.root=d;this.tail=e;this.N=f;this.F=167666463;this.P=139268}g=Y.prototype;g.tb=function(a,b){return 0<=b&&b<this.G?new Ae(b,se(this,b)[b&31]):null};g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
g.Db=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=se(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.D?b.D(d,h,k):b.call(null,d,h,k);if(vc(d)){e=d;break a}f+=1}else{e=d;break a}if(vc(e))return F(e);a+=c;d=e}else return d};g.fc=u;g.ea=function(a,b){return te(this,b)[b&31]};g.Aa=function(a,b,c){return 0<=b&&b<this.G?se(this,b)[b&31]:c};
g.mb=function(a,b,c){if(0<=b&&b<this.G)return oe(this)<=b?(a=Ea(this.tail),a[b&31]=c,new Y(this.meta,this.G,this.shift,this.root,a,null)):new Y(this.meta,this.G,this.shift,ue(this,this.shift,this.root,b,c),this.tail,null);if(b===this.G)return this.oa(null,c);throw Error(["Index ",B.j(b)," out of bounds  [0,",B.j(this.G),"]"].join(""));};g.Qa=function(){return xe(this,0,this.G)};g.ha=function(){return this.meta};g.la=function(){return this.G};
g.vb=function(){return 0<this.G?this.ea(null,this.G-1):null};g.wb=function(){if(0===this.G)throw Error("Can't pop empty vector");if(1===this.G)return pb(Kc,this.meta);if(1<this.G-oe(this))return new Y(this.meta,this.G-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=se(this,this.G-2),b=ve(this,this.shift,this.root);b=null==b?Z:b;var c=this.G-1;return 5<this.shift&&null==b.C[1]?new Y(this.meta,c,this.shift-5,b.C[0],a,null):new Y(this.meta,c,this.shift,b,a,null)};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){if(b instanceof Y)if(this.G===R(b))for(a=this.Qa(null),b=b.Qa(null);;)if(a.pa()){var c=a.next(),d=b.next();if(!P.B(c,d))return!1}else return!0;else return!1;else return Hc(this,b)};g.sb=function(){return new Be(this.G,this.shift,Ce.j?Ce.j(this.root):Ce.call(null,this.root),De.j?De.j(this.tail):De.call(null,this.tail))};g.ma=function(){return pb(Kc,this.meta)};g.qa=function(a,b){return ye(this,b,0,this.G)};
g.ra=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=se(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.B?b.B(d,h):b.call(null,d,h);if(vc(d)){e=d;break a}f+=1}else{e=d;break a}if(vc(e))return F(e);a+=c;d=e}else return d};g.ab=function(a,b,c){if("number"===typeof b)return this.mb(null,b,c);throw Error("Vector's key for assoc must be a number.");};g.lb=function(a,b){return hd(b)?0<=b&&b<this.G:!1};
g.ja=function(){if(0===this.G)return null;if(32>=this.G)return new K(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.C[0];else{a=a.C;break a}}return Ee?Ee(this,a,0,0):Fe.call(null,this,a,0,0)};g.ka=function(a,b){return b===this.meta?this:new Y(b,this.G,this.shift,this.root,this.tail,this.N)};
g.oa=function(a,b){if(32>this.G-oe(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new Y(this.meta,this.G+1,this.shift,this.root,c,null)}a=(c=this.G>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=me(null),c.C[0]=this.root,d=pe(null,this.shift,new le(null,this.tail)),c.C[1]=d):c=qe(this,this.shift,this.root,new le(null,this.tail));return new Y(this.meta,this.G+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){if("number"===typeof a)return this.ea(null,a);throw Error("Key must be integer");};
var Z=new le(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Kc=new Y(null,0,5,Z,[],qc);function Ge(a,b){var c=a.length;a=b?a:Ea(a);if(32>c)return new Y(null,c,5,Z,a,null);var d=a.slice(0,32);b=32;for(var e=(new Y(null,32,5,Z,d,null)).sb(null);;)if(b<c)d=b+1,e=Ib(e,a[b]),b=d;else return Jb(e)}Y.prototype[Da]=function(){return nc(this)};
function He(a){return x(Ie.j?Ie.j(a):Ie.call(null,a))?new Y(null,2,5,Z,[Je.j?Je.j(a):Je.call(null,a),Ke.j?Ke.j(a):Ke.call(null,a)],null):bd(a)?Sc(a,null):Ba(a)?Ge(a,!0):Jb(Ga(Ib,Hb(Kc),a))}var Le=function Le(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return Le.K(c)};Le.K=function(a){return a instanceof K&&0===a.i?Ge(a.C,!Ba(a.C)):He(a)};Le.$=0;Le.ba=function(a){return this.K(J(a))};
function Me(a,b,c,d,e){this.Ba=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.N=null;this.F=32375020;this.P=1536}g=Me.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){if(this.off+1<this.node.length){var a=this.Ba;var b=this.node,c=this.i,d=this.off+1;a=Ee?Ee(a,b,c,d):Fe.call(null,a,b,c,d);return null==a?null:a}return this.vc()};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return ye(this.Ba,b,this.i+this.off,R(this.Ba))};g.ra=function(a,b,c){return ze(this.Ba,b,c,this.i+this.off,R(this.Ba))};g.wa=function(){return this.node[this.off]};g.xa=function(){if(this.off+1<this.node.length){var a=this.Ba;var b=this.node,c=this.i,d=this.off+1;a=Ee?Ee(a,b,c,d):Fe.call(null,a,b,c,d);return null==a?lc:a}return this.Rb(null)};g.ja=function(){return this};
g.hc=function(){var a=this.node;return new Cd(a,this.off,a.length)};g.Rb=function(){var a=this.i+this.node.length;if(a<Ma(this.Ba)){var b=this.Ba,c=se(this.Ba,a);return Ee?Ee(b,c,a,0):Fe.call(null,b,c,a,0)}return lc};g.ka=function(a,b){return b===this.meta?this:Ne?Ne(this.Ba,this.node,this.i,this.off,b):Fe.call(null,this.Ba,this.node,this.i,this.off,b)};g.oa=function(a,b){return U(b,this)};
g.vc=function(){var a=this.i+this.node.length;if(a<Ma(this.Ba)){var b=this.Ba,c=se(this.Ba,a);return Ee?Ee(b,c,a,0):Fe.call(null,b,c,a,0)}return null};Me.prototype[Da]=function(){return nc(this)};
function Fe(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Me(b,te(b,c),c,d,null);case 4:return Ee(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ne(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function Ee(a,b,c,d){return new Me(a,b,c,d,null)}function Ne(a,b,c,d,e){return new Me(a,b,c,d,e)}
function Oe(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.N=e;this.F=167666463;this.P=139264}g=Oe.prototype;g.tb=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new Ae(b,Ya(this.v,a)):null};g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
g.Db=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=Sa(this.v,a);c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(vc(c))return F(c);d+=1;a+=1}else return c};g.ea=function(a,b){return 0>b||this.end<=this.start+b?re(b,this.end-this.start):Sa(this.v,this.start+b)};g.Aa=function(a,b,c){return 0>b||this.end<=this.start+b?c:Sa(this.v,this.start+b,c)};
g.mb=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",B.j(b)," out of bounds [0,",B.j(this.la(null)),"]"].join(""));b=this.meta;c=W.D(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return Pe.aa?Pe.aa(b,c,d,a,null):Pe.call(null,b,c,d,a,null)};g.Qa=function(){return null!=this.v&&u===this.v.fc?xe(this.v,this.start,this.end):new Xd(this)};g.ha=function(){return this.meta};g.la=function(){return this.end-this.start};
g.vb=function(){return this.start===this.end?null:Sa(this.v,this.end-1)};g.wb=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return Pe.aa?Pe.aa(a,b,c,d,null):Pe.call(null,a,b,c,d,null)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return pb(Kc,this.meta)};
g.qa=function(a,b){return null!=this.v&&u===this.v.fc?ye(this.v,b,this.start,this.end):xc(this,b)};g.ra=function(a,b,c){return null!=this.v&&u===this.v.fc?ze(this.v,b,c,this.start,this.end):yc(this,b,c)};g.ab=function(a,b,c){if("number"===typeof b)return this.mb(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.lb=function(a,b){return hd(b)?0<=b&&b<this.end-this.start:!1};
g.ja=function(){var a=this;return function d(c){return c===a.end?null:U(Sa(a.v,c),new zd(null,function(){return d(c+1)},null))}(a.start)};g.ka=function(a,b){return b===this.meta?this:Pe.aa?Pe.aa(b,this.v,this.start,this.end,this.N):Pe.call(null,b,this.v,this.start,this.end,this.N)};g.oa=function(a,b){a=this.meta;b=mb(this.v,this.end,b);var c=this.start,d=this.end+1;return Pe.aa?Pe.aa(a,b,c,d,null):Pe.call(null,a,b,c,d,null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ea(null,a)};g.B=function(a,b){return this.Aa(null,a,b)};Oe.prototype[Da]=function(){return nc(this)};
function Pe(a,b,c,d,e){for(;;)if(b instanceof Oe)c=b.start+c,d=b.start+d,b=b.v;else{if(!bd(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>R(b))throw Error("Index out of bounds");return new Oe(a,b,c,d,e)}}function Qe(a,b){return a===b.da?b:new le(a,Ea(b.C))}function Ce(a){return new le({},Ea(a.C))}
function De(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];dd(a,0,b,0,a.length);return b}var Re=function Re(a,b,c,d){c=Qe(a.root.da,c);var f=a.G-1>>>b&31;if(5===b)a=d;else{var h=c.C[f];null!=h?(b-=5,a=Re.T?Re.T(a,b,h,d):Re.call(null,a,b,h,d)):a=pe(a.root.da,b-5,d)}c.C[f]=a;return c};function Be(a,b,c,d){this.G=a;this.shift=b;this.root=c;this.tail=d;this.P=88;this.F=275}g=Be.prototype;
g.yb=function(a,b){if(this.root.da){if(32>this.G-oe(this))this.tail[this.G&31]=b;else{a=new le(this.root.da,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.G>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=pe(this.root.da,this.shift,a),this.root=new le(this.root.da,b),this.shift=c):this.root=Re(this,this.shift,this.root,a)}this.G+=1;return this}throw Error("conj! after persistent!");};g.Hb=function(){if(this.root.da){this.root.da=null;var a=this.G-oe(this),b=Array(a);dd(this.tail,0,b,0,a);return new Y(null,this.G,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.xb=function(a,b,c){if("number"===typeof b)return Se(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Se(a,b,c){if(a.root.da){if(0<=b&&b<a.G){if(oe(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=Qe(a.root.da,h);if(0===f)h.C[b&31]=c;else{var l=b>>>f&31;f=k(f-5,h.C[l]);h.C[l]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.G)return a.yb(null,c);throw Error(["Index ",B.j(b)," out of bounds for TransientVector of length",B.j(a.G)].join(""));}throw Error("assoc! after persistent!");}g.la=function(){if(this.root.da)return this.G;throw Error("count after persistent!");};
g.ea=function(a,b){if(this.root.da)return te(this,b)[b&31];throw Error("nth after persistent!");};g.Aa=function(a,b,c){return 0<=b&&b<this.G?this.ea(null,b):c};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){if(this.root.da)return"number"===typeof b?this.Aa(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};function Te(){this.F=2097152;this.P=0}Te.prototype.fa=function(){return!1};var Ue=new Te;
function Ve(a,b){return fd($c(b)&&!ad(b)?R(a)===R(b)?(null!=a?a.F&1048576||u===a.vd||(a.F?0:y(tb,a)):y(tb,a))?od(function(c,d,e){return P.B(H.D(b,d,Ue),e)?!0:new uc},!0,a):Yd(function(c){return P.B(H.D(b,N(c),Ue),N(O(c)))},a):null:null)}function We(a){this.s=a}We.prototype.next=function(){if(null!=this.s){var a=N(this.s),b=V(a,0,null);a=V(a,1,null);this.s=O(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Xe(a){this.s=a}
Xe.prototype.next=function(){if(null!=this.s){var a=N(this.s);this.s=O(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Ye(a,b){if(b instanceof I)a:{var c=a.length;b=b.Ra;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof I&&b===a[d].Ra){a=d;break a}d+=2}}else if("string"===typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof gc)a:for(c=a.length,b=b.jb,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof gc&&b===a[d].jb){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(P.B(b,a[d])){a=d;break a}d+=2}return a}function Ae(a,b){this.key=a;this.R=b;this.N=null;this.F=166619935;this.P=0}g=Ae.prototype;g.tb=function(a,b){switch(b){case 0:return new Ae(0,this.key);case 1:return new Ae(1,this.R);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.Aa(null,b,null)};g.ca=function(a,b,c){return this.Aa(null,b,c)};g.ea=function(a,b){if(0===b)return this.key;if(1===b)return this.R;throw Error("Index out of bounds");};
g.Aa=function(a,b,c){return 0===b?this.key:1===b?this.R:c};g.mb=function(a,b,c){return(new Y(null,2,5,Z,[this.key,this.R],null)).mb(null,b,c)};g.ha=function(){return null};g.la=function(){return 2};g.Xc=function(){return this.key};g.Yc=function(){return this.R};g.vb=function(){return this.R};g.wb=function(){return new Y(null,1,5,Z,[this.key],null)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return null};
g.qa=function(a,b){return xc(this,b)};g.ra=function(a,b,c){return yc(this,b,c)};g.ab=function(a,b,c){return W.D(new Y(null,2,5,Z,[this.key,this.R],null),b,c)};g.lb=function(a,b){return 0===b||1===b};g.ja=function(){return new K([this.key,this.R],0,null)};g.ka=function(a,b){return Sc(new Y(null,2,5,Z,[this.key,this.R],null),b)};g.oa=function(a,b){return new Y(null,3,5,Z,[this.key,this.R,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ea(null,a)};g.B=function(a,b){return this.Aa(null,a,b)};function Ie(a){return null!=a?a.F&2048||u===a.yd?!0:!1:!1}function Ze(a,b,c){this.C=a;this.i=b;this.Ya=c;this.F=32374990;this.P=0}g=Ze.prototype;
g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){return this.i<this.C.length-2?new Ze(this.C,this.i+2,null):null};g.la=function(){return(this.C.length-this.i)/2};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return new Ae(this.C[this.i],this.C[this.i+1])};g.xa=function(){return this.i<this.C.length-2?new Ze(this.C,this.i+2,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Ze(this.C,this.i,b)};g.oa=function(a,b){return U(b,this)};Ze.prototype[Da]=function(){return nc(this)};
function $e(a,b){this.C=a;this.i=0;this.G=b}$e.prototype.pa=function(){return this.i<this.G};$e.prototype.next=function(){var a=new Ae(this.C[this.i],this.C[this.i+1]);this.i+=2;return a};function v(a,b,c,d){this.meta=a;this.G=b;this.C=c;this.N=d;this.F=16647951;this.P=139268}g=v.prototype;g.tb=function(a,b){a=Ye(this.C,b);return-1===a?null:new Ae(this.C[a],this.C[a+1])};g.toString=function(){return Wb(this)};g.keys=function(){return nc(af.j?af.j(this):af.call(null,this))};g.entries=function(){return new We(J(J(this)))};
g.values=function(){return nc(bf.j?bf.j(this):bf.call(null,this))};g.has=function(a){return id(this,a)};g.get=function(a,b){return this.ca(null,a,b)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};
g.ca=function(a,b,c){a=Ye(this.C,b);return-1===a?c:this.C[a+1]};g.Db=function(a,b,c){a=this.C.length;for(var d=0;;)if(d<a){var e=this.C[d],f=this.C[d+1];c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(vc(c))return F(c);d+=2}else return c};g.Qa=function(){return new $e(this.C,2*this.G)};g.ha=function(){return this.meta};g.la=function(){return this.G};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=rc(this)};
g.fa=function(a,b){if($c(b)&&!ad(b))if(a=this.C.length,this.G===b.la(null))for(var c=0;;)if(c<a){var d=b.ca(null,this.C[c],ed);if(d!==ed)if(P.B(this.C[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.sb=function(){return new cf(this.C.length,Ea(this.C))};g.ma=function(){return pb(Td,this.meta)};g.qa=function(a,b){return ld(this,b)};g.ra=function(a,b,c){return md(this,b,c)};
g.jc=function(a,b){if(0<=Ye(this.C,b)){a=this.C.length;var c=a-2;if(0===c)return this.ma(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new v(this.meta,this.G-1,c,null);P.B(b,this.C[d])?d+=2:(c[e]=this.C[d],c[e+1]=this.C[d+1],e+=2,d+=2)}}else return this};
g.ab=function(a,b,c){a=Ye(this.C,b);if(-1===a){if(this.G<df){a=this.C;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new v(this.meta,this.G+1,e,null)}return pb(bb(ie.B(ef,this),b,c),this.meta)}if(c===this.C[a+1])return this;b=Ea(this.C);b[a+1]=c;return new v(this.meta,this.G,b,null)};g.lb=function(a,b){return-1!==Ye(this.C,b)};g.ja=function(){var a=this.C;return 0<=a.length-2?new Ze(a,0,null):null};
g.ka=function(a,b){return b===this.meta?this:new v(b,this.G,this.C,this.N)};g.oa=function(a,b){if(bd(b))return this.ab(null,Sa(b,0),Sa(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=N(b);if(bd(c))a=bb(a,Sa(c,0),Sa(c,1)),b=O(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};var Td=new v(null,0,[],sc),df=8;function ff(a,b){return a===b?!0:a===b||a instanceof I&&b instanceof I&&a.Ra===b.Ra?!0:P.B(a,b)}
function gf(a){for(var b=0,c=0;;)if(b<a.length){var d;a:for(d=0;;)if(d<b){var e=ff(a[b],a[d]);if(e){d=e;break a}d=2+d}else{d=!1;break a}c=d?c:c+2;b=2+b}else return c}function hf(a,b){var c=a.length-1,d=J(b);b=Array(c+2*R(d));a=dd(a,0,b,0,c);for(b=c;;)if(d){var e=N(d);a[b]=fb(e);a[b+1]=gb(e);b=2+c;d=O(d)}else return a}
function Nc(a){var b=a.length,c=1===(b&1),d;if(!(d=c))a:for(d=0;;)if(d<a.length){var e;b:for(e=0;;)if(e<d){var f=ff(a[d],a[e]);if(f){e=f;break b}e=2+e}else{e=!1;break b}if(e){d=e;break a}d=2+d}else{d=!1;break a}return d?jf(a,c):new v(null,b/2,a,null)}
function jf(a,b){var c=b?hf(a,ie.B(Td,a[a.length-1])):a;a=gf(c);var d=c.length;if(a<d){a=Array(a);for(var e=0,f=0;;)if(e<d)(function(){for(var h=0;;)if(h<f){var k=ff(c[e],c[h]);if(k)return k;h=2+h}else return!1})()?(b=f,e=2+e,f=b):(b=function(){for(var h=d-2;;)if(h>=e){if(ff(c[e],c[h]))return h;h-=2}else return h}(),a[f]=c[e],a[f+1]=c[b+1],b=2+f,e=2+e,f=b);else break;return new v(null,a.length/2,a,null)}return new v(null,c.length/2,c,null)}v.prototype[Da]=function(){return nc(this)};
function cf(a,b){this.zb={};this.pb=a;this.C=b;this.F=259;this.P=56}g=cf.prototype;g.la=function(){if(this.zb)return td(this.pb);throw Error("count after persistent!");};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){if(this.zb)return a=Ye(this.C,b),-1===a?c:this.C[a+1];throw Error("lookup after persistent!");};
g.yb=function(a,b){if(this.zb){if(Ie(b))return this.xb(null,Je.j?Je.j(b):Je.call(null,b),Ke.j?Ke.j(b):Ke.call(null,b));if(bd(b))return this.xb(null,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));a=J(b);for(b=this;;){var c=N(a);if(x(c))a=O(a),b=Kb(b,Je.j?Je.j(c):Je.call(null,c),Ke.j?Ke.j(c):Ke.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.Hb=function(){if(this.zb)return this.zb=!1,new v(null,td(this.pb),this.C,null);throw Error("persistent! called twice");};
g.xb=function(a,b,c){if(this.zb){a=Ye(this.C,b);if(-1===a){if(this.pb+2<=2*df)return this.pb+=2,this.C.push(b),this.C.push(c),this;a=kf.B?kf.B(this.pb,this.C):kf.call(null,this.pb,this.C);return Kb(a,b,c)}c!==this.C[a+1]&&(this.C[a+1]=c);return this}throw Error("assoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ca(null,a,null)};g.B=function(a,b){return this.ca(null,a,b)};function kf(a,b){for(var c=Hb(ef),d=0;;)if(d<a)c=Kb(c,b[d],b[d+1]),d+=2;else return c}function lf(){this.R=!1}function mf(a,b,c){a=Ea(a);a[b]=c;return a}function nf(a,b){var c=Array(a.length-2);dd(a,0,c,0,2*b);dd(a,2*(b+1),c,2*b,c.length-2*b);return c}function of(a,b,c,d){a=a.ob(b);a.C[c]=d;return a}
function pf(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.D?b.D(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Mb(b,f):f;if(vc(c))return c;e+=2;f=c}else return f}function qf(a){this.C=a;this.i=0;this.Wa=this.Nb=null}qf.prototype.advance=function(){for(var a=this.C.length;;)if(this.i<a){var b=this.C[this.i],c=this.C[this.i+1];null!=b?b=this.Nb=new Ae(b,c):null!=c?(b=Ub(c),b=b.pa()?this.Wa=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
qf.prototype.pa=function(){var a=null!=this.Nb;return a?a:(a=null!=this.Wa)?a:this.advance()};qf.prototype.next=function(){if(null!=this.Nb){var a=this.Nb;this.Nb=null;return a}if(null!=this.Wa)return a=this.Wa.next(),this.Wa.pa()||(this.Wa=null),a;if(this.advance())return this.next();throw Error("No such element");};qf.prototype.remove=function(){return Error("Unsupported operation")};function rf(a,b,c){this.da=a;this.bitmap=b;this.C=c;this.P=131072;this.F=0}g=rf.prototype;
g.ob=function(a){if(a===this.da)return this;var b=ud(this.bitmap),c=Array(0>b?4:2*(b+1));dd(this.C,0,c,0,2*b);return new rf(a,this.bitmap,c)};g.Kb=function(){return sf?sf(this.C):tf.call(null,this.C)};g.Mb=function(a,b){return pf(this.C,a,b)};g.hb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ud(this.bitmap&e-1);e=this.C[2*f];f=this.C[2*f+1];return null==e?f.hb(a+5,b,c,d):ff(c,e)?f:d};
g.Ua=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=ud(this.bitmap&h-1);if(0===(this.bitmap&h)){var l=ud(this.bitmap);if(2*l<this.C.length){a=this.ob(a);b=a.C;f.R=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=uf.Ua(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0===
(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.C[e]?uf.Ua(a,b+5,ec(this.C[e]),this.C[e],this.C[e+1],f):this.C[e+1],e+=2,d+=1);else break;return new vf(a,l+1,k)}b=Array(2*(l+4));dd(this.C,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;dd(this.C,2*k,b,2*(k+1),2*(l-k));f.R=!0;a=this.ob(a);a.C=b;a.bitmap|=h;return a}l=this.C[2*k];h=this.C[2*k+1];if(null==l)return l=h.Ua(a,b+5,c,d,e,f),l===h?this:of(this,a,2*k+1,l);if(ff(d,l))return e===h?this:of(this,a,2*k+1,e);f.R=!0;f=b+5;d=wf?wf(a,f,l,h,c,d,e):xf.call(null,a,f,l,h,c,d,
e);e=2*k;k=2*k+1;a=this.ob(a);a.C[e]=null;a.C[k]=d;return a};
g.Ta=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=ud(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=ud(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=uf.Ta(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.C[d]?uf.Ta(a+5,ec(this.C[d]),this.C[d],this.C[d+1],e):this.C[d+1],d+=2,c+=1);else break;return new vf(null,k+1,h)}a=Array(2*
(k+1));dd(this.C,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;dd(this.C,2*h,a,2*(h+1),2*(k-h));e.R=!0;return new rf(null,this.bitmap|f,a)}var l=this.C[2*h];f=this.C[2*h+1];if(null==l)return k=f.Ta(a+5,b,c,d,e),k===f?this:new rf(null,this.bitmap,mf(this.C,2*h+1,k));if(ff(c,l))return d===f?this:new rf(null,this.bitmap,mf(this.C,2*h+1,d));e.R=!0;e=this.bitmap;k=this.C;a+=5;a=yf?yf(a,l,f,b,c,d):xf.call(null,a,l,f,b,c,d);c=2*h;h=2*h+1;d=Ea(k);d[c]=null;d[h]=a;return new rf(null,e,d)};
g.Jb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ud(this.bitmap&e-1);e=this.C[2*f];f=this.C[2*f+1];return null==e?f.Jb(a+5,b,c,d):ff(c,e)?new Ae(e,f):d};
g.Lb=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=ud(this.bitmap&d-1),f=this.C[2*e],h=this.C[2*e+1];return null==f?(a=h.Lb(a+5,b,c),a===h?this:null!=a?new rf(null,this.bitmap,mf(this.C,2*e+1,a)):this.bitmap===d?null:new rf(null,this.bitmap^d,nf(this.C,e))):ff(c,f)?this.bitmap===d?null:new rf(null,this.bitmap^d,nf(this.C,e)):this};g.Qa=function(){return new qf(this.C)};var uf=new rf(null,0,[]);function zf(a){this.C=a;this.i=0;this.Wa=null}
zf.prototype.pa=function(){for(var a=this.C.length;;){if(null!=this.Wa&&this.Wa.pa())return!0;if(this.i<a){var b=this.C[this.i];this.i+=1;null!=b&&(this.Wa=Ub(b))}else return!1}};zf.prototype.next=function(){if(this.pa())return this.Wa.next();throw Error("No such element");};zf.prototype.remove=function(){return Error("Unsupported operation")};function vf(a,b,c){this.da=a;this.G=b;this.C=c;this.P=131072;this.F=0}g=vf.prototype;g.ob=function(a){return a===this.da?this:new vf(a,this.G,Ea(this.C))};
g.Kb=function(){return Af?Af(this.C):Bf.call(null,this.C)};g.Mb=function(a,b){for(var c=this.C.length,d=0;;)if(d<c){var e=this.C[d];if(null!=e){b=e.Mb(a,b);if(vc(b))return b;d+=1}else d+=1}else return b};g.hb=function(a,b,c,d){var e=this.C[b>>>a&31];return null!=e?e.hb(a+5,b,c,d):d};g.Ua=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.C[h];if(null==k)return a=of(this,a,h,uf.Ua(a,b+5,c,d,e,f)),a.G+=1,a;b=k.Ua(a,b+5,c,d,e,f);return b===k?this:of(this,a,h,b)};
g.Ta=function(a,b,c,d,e){var f=b>>>a&31,h=this.C[f];if(null==h)return new vf(null,this.G+1,mf(this.C,f,uf.Ta(a+5,b,c,d,e)));a=h.Ta(a+5,b,c,d,e);return a===h?this:new vf(null,this.G,mf(this.C,f,a))};g.Jb=function(a,b,c,d){var e=this.C[b>>>a&31];return null!=e?e.Jb(a+5,b,c,d):d};
g.Lb=function(a,b,c){var d=b>>>a&31,e=this.C[d];if(null!=e){a=e.Lb(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.G)a:{e=this.C;a=e.length;b=Array(2*(this.G-1));c=0;for(var f=1,h=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,h|=1<<c,c+=1):c+=1;else{d=new rf(null,h,b);break a}}else d=new vf(null,this.G-1,mf(this.C,d,a));else d=new vf(null,this.G,mf(this.C,d,a));return d}return this};g.Qa=function(){return new zf(this.C)};
function Cf(a,b,c){b*=2;for(var d=0;;)if(d<b){if(ff(c,a[d]))return d;d+=2}else return-1}function Df(a,b,c,d){this.da=a;this.bb=b;this.G=c;this.C=d;this.P=131072;this.F=0}g=Df.prototype;g.ob=function(a){if(a===this.da)return this;var b=Array(2*(this.G+1));dd(this.C,0,b,0,2*this.G);return new Df(a,this.bb,this.G,b)};g.Kb=function(){return sf?sf(this.C):tf.call(null,this.C)};g.Mb=function(a,b){return pf(this.C,a,b)};
g.hb=function(a,b,c,d){a=Cf(this.C,this.G,c);return 0>a?d:ff(c,this.C[a])?this.C[a+1]:d};
g.Ua=function(a,b,c,d,e,f){if(c===this.bb){b=Cf(this.C,this.G,d);if(-1===b){if(this.C.length>2*this.G)return b=2*this.G,c=2*this.G+1,a=this.ob(a),a.C[b]=d,a.C[c]=e,f.R=!0,a.G+=1,a;c=this.C.length;b=Array(c+2);dd(this.C,0,b,0,c);b[c]=d;b[c+1]=e;f.R=!0;d=this.G+1;a===this.da?(this.C=b,this.G=d,a=this):a=new Df(this.da,this.bb,d,b);return a}return this.C[b+1]===e?this:of(this,a,b+1,e)}return(new rf(a,1<<(this.bb>>>b&31),[null,this,null,null])).Ua(a,b,c,d,e,f)};
g.Ta=function(a,b,c,d,e){return b===this.bb?(a=Cf(this.C,this.G,c),-1===a?(a=2*this.G,b=Array(a+2),dd(this.C,0,b,0,a),b[a]=c,b[a+1]=d,e.R=!0,new Df(null,this.bb,this.G+1,b)):P.B(this.C[a+1],d)?this:new Df(null,this.bb,this.G,mf(this.C,a+1,d))):(new rf(null,1<<(this.bb>>>a&31),[null,this])).Ta(a,b,c,d,e)};g.Jb=function(a,b,c,d){a=Cf(this.C,this.G,c);return 0>a?d:ff(c,this.C[a])?new Ae(this.C[a],this.C[a+1]):d};
g.Lb=function(a,b,c){a=Cf(this.C,this.G,c);return-1===a?this:1===this.G?null:new Df(null,this.bb,this.G-1,nf(this.C,td(a)))};g.Qa=function(){return new qf(this.C)};function xf(a){switch(arguments.length){case 6:return yf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return wf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}
function yf(a,b,c,d,e,f){var h=ec(b);if(h===d)return new Df(null,h,2,[b,c,e,f]);var k=new lf;return uf.Ta(a,h,b,c,k).Ta(a,d,e,f,k)}function wf(a,b,c,d,e,f,h){var k=ec(c);if(k===e)return new Df(null,k,2,[c,d,f,h]);var l=new lf;return uf.Ua(a,b,k,c,d,l).Ua(a,b,e,f,h,l)}function Ef(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.N=e;this.F=32374988;this.P=0}g=Ef.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return Ff?Ff(a,b,null):tf.call(null,a,b,null)}a=this.nodes;b=this.i;var c=O(this.s);return Ff?Ff(a,b,c):tf.call(null,a,b,c)};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return null==this.s?new Ae(this.nodes[this.i],this.nodes[this.i+1]):N(this.s)};
g.xa=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return Ff?Ff(c,d,null):tf.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=O(a.s);return Ff?Ff(c,d,e):tf.call(null,c,d,e)}();return null!=b?b:lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Ef(b,this.nodes,this.i,this.s,this.N)};g.oa=function(a,b){return U(b,this)};Ef.prototype[Da]=function(){return nc(this)};
function tf(a){switch(arguments.length){case 1:return sf(arguments[0]);case 3:return Ff(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function sf(a){return Ff(a,0,null)}function Ff(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Ef(null,a,b,null,null);var d=a[b+1];if(x(d)&&(d=d.Kb(),x(d)))return new Ef(null,a,b+2,d,null);b+=2}else return null;else return new Ef(null,a,b,c,null)}
function Gf(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.N=e;this.F=32374988;this.P=0}g=Gf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){var a=this.nodes,b=this.i,c=O(this.s);return Hf?Hf(a,b,c):Bf.call(null,a,b,c)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return N(this.s)};g.xa=function(){var a=this.nodes;var b=this.i,c=O(this.s);a=Hf?Hf(a,b,c):Bf.call(null,a,b,c);return null!=a?a:lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Gf(b,this.nodes,this.i,this.s,this.N)};g.oa=function(a,b){return U(b,this)};Gf.prototype[Da]=function(){return nc(this)};
function Bf(a){switch(arguments.length){case 1:return Af(arguments[0]);case 3:return Hf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function Af(a){return Hf(a,0,null)}function Hf(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(x(d)&&(d=d.Kb(),x(d)))return new Gf(null,a,b+1,d,null);b+=1}else return null;else return new Gf(null,a,b,c,null)}function If(a,b){this.ta=a;this.Lc=b;this.seen=!1}
If.prototype.pa=function(){return!this.seen||this.Lc.pa()};If.prototype.next=function(){if(this.seen)return this.Lc.next();this.seen=!0;return new Ae(null,this.ta)};If.prototype.remove=function(){return Error("Unsupported operation")};function Jf(a,b,c,d,e,f){this.meta=a;this.G=b;this.root=c;this.sa=d;this.ta=e;this.N=f;this.F=16123663;this.P=139268}g=Jf.prototype;g.tb=function(a,b){return null==b?this.sa?new Ae(null,this.ta):null:null==this.root?null:this.root.Jb(0,ec(b),b,null)};g.toString=function(){return Wb(this)};
g.keys=function(){return nc(af.j?af.j(this):af.call(null,this))};g.entries=function(){return new We(J(J(this)))};g.values=function(){return nc(bf.j?bf.j(this):bf.call(null,this))};g.has=function(a){return id(this,a)};g.get=function(a,b){return this.ca(null,a,b)};
g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return null==b?this.sa?this.ta:c:null==this.root?c:this.root.hb(0,ec(b),b,c)};
g.Db=function(a,b,c){a=this.sa?b.D?b.D(c,null,this.ta):b.call(null,c,null,this.ta):c;vc(a)?b=F(a):null!=this.root?(b=this.root.Mb(b,a),b=vc(b)?wc.j?wc.j(b):wc.call(null,b):b):b=a;return b};g.Qa=function(){var a=this.root?Ub(this.root):Ud();return this.sa?new If(this.ta,a):a};g.ha=function(){return this.meta};g.la=function(){return this.G};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=rc(this)};g.fa=function(a,b){return Ve(this,b)};g.sb=function(){return new Kf(this.root,this.G,this.sa,this.ta)};
g.ma=function(){return pb(ef,this.meta)};g.jc=function(a,b){if(null==b)return this.sa?new Jf(this.meta,this.G-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Lb(0,ec(b),b);return a===this.root?this:new Jf(this.meta,this.G-1,a,this.sa,this.ta,null)};
g.ab=function(a,b,c){if(null==b)return this.sa&&c===this.ta?this:new Jf(this.meta,this.sa?this.G:this.G+1,this.root,!0,c,null);a=new lf;b=(null==this.root?uf:this.root).Ta(0,ec(b),b,c,a);return b===this.root?this:new Jf(this.meta,a.R?this.G+1:this.G,b,this.sa,this.ta,null)};g.lb=function(a,b){return null==b?this.sa:null==this.root?!1:this.root.hb(0,ec(b),b,ed)!==ed};g.ja=function(){if(0<this.G){var a=null!=this.root?this.root.Kb():null;return this.sa?U(new Ae(null,this.ta),a):a}return null};
g.ka=function(a,b){return b===this.meta?this:new Jf(b,this.G,this.root,this.sa,this.ta,this.N)};g.oa=function(a,b){if(bd(b))return this.ab(null,Sa(b,0),Sa(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=N(b);if(bd(c))a=bb(a,Sa(c,0),Sa(c,1)),b=O(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};var ef=new Jf(null,0,null,!1,null,sc);Jf.prototype[Da]=function(){return nc(this)};
function Kf(a,b,c,d){this.da={};this.root=a;this.count=b;this.sa=c;this.ta=d;this.F=259;this.P=56}function Lf(a,b,c){if(a.da){if(null==b)a.ta!==c&&(a.ta=c),a.sa||(a.count+=1,a.sa=!0);else{var d=new lf;b=(null==a.root?uf:a.root).Ua(a.da,0,ec(b),b,c,d);b!==a.root&&(a.root=b);d.R&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=Kf.prototype;g.la=function(){if(this.da)return this.count;throw Error("count after persistent!");};
g.ya=function(a,b){return null==b?this.sa?this.ta:null:null==this.root?null:this.root.hb(0,ec(b),b)};g.ca=function(a,b,c){return null==b?this.sa?this.ta:c:null==this.root?c:this.root.hb(0,ec(b),b,c)};
g.yb=function(a,b){a:if(this.da)if(Ie(b))a=Lf(this,Je.j?Je.j(b):Je.call(null,b),Ke.j?Ke.j(b):Ke.call(null,b));else if(bd(b))a=Lf(this,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));else for(a=J(b),b=this;;){var c=N(a);if(x(c))a=O(a),b=Lf(b,Je.j?Je.j(c):Je.call(null,c),Ke.j?Ke.j(c):Ke.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.Hb=function(){if(this.da){this.da=null;var a=new Jf(null,this.count,this.root,this.sa,this.ta,null)}else throw Error("persistent! called twice");return a};g.xb=function(a,b,c){return Lf(this,b,c)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};
g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};function Mf(a,b){this.Y=a;this.Ya=b;this.F=32374988;this.P=0}g=Mf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null==a?null:new Mf(a,null)};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.Y.wa(null).key};g.xa=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null!=a?new Mf(a,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Mf(this.Y,b)};g.oa=function(a,b){return U(b,this)};Mf.prototype[Da]=function(){return nc(this)};
function af(a){return(a=J(a))?new Mf(a,null):null}function Je(a){return fb(a)}function Nf(a,b){this.Y=a;this.Ya=b;this.F=32374988;this.P=0}g=Nf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null==a?null:new Nf(a,null)};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.Y.wa(null).R};g.xa=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null!=a?new Nf(a,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Nf(this.Y,b)};g.oa=function(a,b){return U(b,this)};Nf.prototype[Da]=function(){return nc(this)};
function bf(a){return(a=J(a))?new Nf(a,null):null}function Ke(a){return gb(a)}var Of=function Of(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return Of.K(c)};Of.K=function(a){return x(Zd(a))?nd(function(b,c){return Jc.B(x(b)?b:Td,c)},a):null};Of.$=0;Of.ba=function(a){return this.K(J(a))};function Pf(a){for(var b=Td,c=J(Qf);;)if(c){var d=N(c),e=H.D(a,d,Rf);b=P.B(e,Rf)?b:W.D(b,d,e);c=O(c)}else return pb(b,Tc(a))}
function Sf(a){this.Ab=a}Sf.prototype.pa=function(){return this.Ab.pa()};Sf.prototype.next=function(){if(this.Ab.pa())return this.Ab.next().key;throw Error("No such element");};Sf.prototype.remove=function(){return Error("Unsupported operation")};function Tf(a,b,c){this.meta=a;this.cb=b;this.N=c;this.F=15077647;this.P=139268}g=Tf.prototype;g.toString=function(){return Wb(this)};g.keys=function(){return nc(J(this))};g.entries=function(){return new Xe(J(J(this)))};g.values=function(){return nc(J(this))};
g.has=function(a){return id(this,a)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){a=cb(this.cb,b);return x(a)?fb(a):c};g.Qa=function(){return new Sf(Ub(this.cb))};g.ha=function(){return this.meta};
g.la=function(){return Ma(this.cb)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=rc(this)};g.fa=function(a,b){if(a=Xc(b))if(a=R(this)===R(b))try{return od(function(c,d){return(c=id(b,d))?c:new uc},!0,this.cb)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};g.sb=function(){return new Uf(Hb(this.cb))};g.ma=function(){return pb(Vf,this.meta)};g.zc=function(a,b){return new Tf(this.meta,eb(this.cb,b),null)};g.ja=function(){return af(this.cb)};
g.ka=function(a,b){return b===this.meta?this:new Tf(b,this.cb,this.N)};g.oa=function(a,b){return new Tf(this.meta,W.D(this.cb,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};
var Vf=new Tf(null,Td,sc);Tf.prototype[Da]=function(){return nc(this)};function Uf(a){this.qb=a;this.P=136;this.F=259}g=Uf.prototype;g.yb=function(a,b){this.qb=Kb(this.qb,b,null);return this};g.Hb=function(){return new Tf(null,Jb(this.qb),null)};g.la=function(){return R(this.qb)};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return Ya(this.qb,b,ed)===ed?c:b};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return Ya(this.qb,a,ed)===ed?null:a};g.B=function(a,b){return Ya(this.qb,a,ed)===ed?b:a};
function Wf(a){if(Xc(a))return Sc(a,null);a=J(a);if(null==a)return Vf;if(a instanceof K&&0===a.i){a=a.C;for(var b=a.length,c=Hb(Vf),d=0;;)if(d<b)Ib(c,a[d]),d+=1;else break;return Jb(c)}for(c=Hb(Vf);;)if(null!=a)b=O(a),c=Ib(c,D(a)),a=b;else return Jb(c)}function X(a){if(null!=a&&(a.P&4096||u===a.xc))return a.Eb(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",B.j(a)].join(""));}
function Xf(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&P.B(a[0],b)?1===a.length?a[0]:He(a):null;throw new TypeError("re-matches must match against a string.");}
function Yf(a,b,c,d,e,f,h){var k=ua;ua=null==ua?null:ua-1;try{if(null!=ua&&0>ua)return G(a,"#");G(a,c);if(0===Aa.j(f))J(h)&&G(a,function(){var r=Zf.j(f);return x(r)?r:"..."}());else{if(J(h)){var l=N(h);b.D?b.D(l,a,f):b.call(null,l,a,f)}for(var m=O(h),n=Aa.j(f)-1;;)if(!m||null!=n&&0===n){J(m)&&0===n&&(G(a,d),G(a,function(){var r=Zf.j(f);return x(r)?r:"..."}()));break}else{G(a,d);var p=N(m);c=a;h=f;b.D?b.D(p,c,h):b.call(null,p,c,h);var q=O(m);c=n-1;m=q;n=c}}return G(a,e)}finally{ua=k}}
function $f(a,b){b=J(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e);G(a,f);e+=1}else if(b=J(b))c=b,cd(c)?(b=Mb(c),d=Nb(c),c=b,f=R(b),b=d,d=f):(f=N(c),G(a,f),b=O(c),c=null,d=0),e=0;else return null}var ag={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function bg(a){return['"',B.j(a.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(b){return ag[b]})),'"'].join("")}
function cg(a,b){return(a=fd(H.B(a,ya)))?(a=null!=b?b.F&131072||u===b.Zc?!0:!1:!1)?null!=Tc(b):a:a}
function dg(a,b,c){if(null==a)return G(b,"nil");if(cg(c,a)){G(b,"^");var d=Tc(a);eg.D?eg.D(d,b,c):eg.call(null,d,b,c);G(b," ")}if(a.Ib)return a.Ub(b);if(null!=a?a.F&2147483648||u===a.na||(a.F?0:y(Cb,a)):y(Cb,a))return Db(a,b,c);if(!0===a||!1===a)return G(b,B.j(a));if("number"===typeof a)return G(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":B.j(a));if(null!=a&&a.constructor===Object)return G(b,"#js "),d=de.B(function(f){return new Ae(null!=Xf(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?yd.j(f):f,a[f])},ha(a)),fg.T?fg.T(d,eg,b,c):fg.call(null,d,eg,b,c);if(Ba(a))return Yf(b,eg,"#js ["," ","]",c,a);if("string"===typeof a)return x(xa.j(c))?G(b,bg(a)):G(b,a);if("function"===typeof a){var e=a.name;c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Function":e;return $f(b,Ic(["#object[",c,x(!1)?[' "',B.j(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=B.j(f);;)if(f.length<h)f=["0",f].join("");else return f},$f(b,Ic(['#inst "',c(a.getUTCFullYear(),
4),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return $f(b,Ic(['#"',a.source,'"']));if(Ia(a))return $f(b,Ic(["#object[",a.toString(),"]"]));if(x(function(){var f=null==a?null:a.constructor;return null==f?null:f.nb}()))return $f(b,Ic(["#object[",a.constructor.nb.replace(RegExp("/","g"),"."),"]"]));e=function(){var f=null==a?null:a.constructor;
return null==f?null:f.name}();c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Object":e;return null==a.constructor?$f(b,Ic(["#object[",c,"]"])):$f(b,Ic(["#object[",c," ",B.j(a),"]"]))}function eg(a,b,c){var d=gg.j(c);return x(d)?(c=W.D(c,hg,dg),d.D?d.D(a,b,c):d.call(null,a,b,c)):dg(a,b,c)}
function ig(a){var b=va();if(Vc(a))b="";else{var c=B,d=c.j,e=new pa,f=new Vb(e);eg(N(a),f,b);a=J(O(a));for(var h=null,k=0,l=0;;)if(l<k){var m=h.ea(null,l);G(f," ");eg(m,f,b);l+=1}else if(a=J(a))h=a,cd(h)?(a=Mb(h),k=Nb(h),h=a,m=R(a),a=k,k=m):(m=N(h),G(f," "),eg(m,f,b),a=O(h),h=null,k=0),l=0;else break;b=d.call(c,e)}return b}function jg(a){return a instanceof gc?hc.B(null,X(a)):yd.B(null,X(a))}
function kg(a){if(x(!1)){var b=J(a),c=J(b),d=N(c);O(c);V(d,0,null);V(d,1,null);c=null==a?null:null!=a&&(a.F&4||u===a.Sc)?a.ma(null):(null!=a?a.F&4||u===a.Sc||(a.F?0:y(Na,a)):y(Na,a))?Oa(a):null;for(a=null;;){d=a;b=J(b);a=N(b);var e=O(b),f=a;a=V(f,0,null);b=V(f,1,null);if(x(f))if(a instanceof I||a instanceof gc)if(x(d))if(P.B(d,xd(a)))c=W.D(c,jg(a),b),a=d,b=e;else return null;else if(d=xd(a),x(d))c=W.D(c,jg(a),b),a=d,b=e;else return null;else return null;else return new Y(null,2,5,Z,[d,c],null)}}else return null}
function lg(a,b,c,d,e){return Yf(d,function(f,h,k){var l=fb(f);c.D?c.D(l,h,k):c.call(null,l,h,k);G(h," ");f=gb(f);return c.D?c.D(f,h,k):c.call(null,f,h,k)},[B.j(a),"{"].join(""),", ","}",e,J(b))}function fg(a,b,c,d){var e=$c(a)?kg(a):null,f=V(e,0,null);e=V(e,1,null);return x(f)?lg(["#:",B.j(f)].join(""),e,b,c,d):lg(null,a,b,c,d)}K.prototype.na=u;K.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};zd.prototype.na=u;zd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};
Ae.prototype.na=u;Ae.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};Ef.prototype.na=u;Ef.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Ze.prototype.na=u;Ze.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};oc.prototype.na=u;oc.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Me.prototype.na=u;Me.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};wd.prototype.na=u;
wd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Jf.prototype.na=u;Jf.prototype.ia=function(a,b,c){return fg(this,eg,b,c)};Gf.prototype.na=u;Gf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Oe.prototype.na=u;Oe.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};Tf.prototype.na=u;Tf.prototype.ia=function(a,b,c){return Yf(b,eg,"#{"," ","}",c,this)};Dd.prototype.na=u;Dd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};
ae.prototype.na=u;ae.prototype.ia=function(a,b,c){G(b,"#object[cljs.core.Atom ");eg(new v(null,1,[mg,this.state],null),b,c);return G(b,"]")};Nf.prototype.na=u;Nf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};he.prototype.na=u;he.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Y.prototype.na=u;Y.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};vd.prototype.na=u;vd.prototype.ia=function(a,b){return G(b,"()")};v.prototype.na=u;
v.prototype.ia=function(a,b,c){return fg(this,eg,b,c)};Mf.prototype.na=u;Mf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Lc.prototype.na=u;Lc.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};var ng=null;function og(a){null==ng&&(ng=new ae(0));return hc.j([B.j(a),B.j(ce.B(ng,tc))].join(""))}function pg(){}
function qg(a){if(null!=a&&null!=a.Uc)a=a.Uc(a);else{var b=qg[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=qg._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEncodeJS.-clj-\x3ejs",a);}return a}function rg(a,b){return(null!=a?u===a.Tc||(a.Bc?0:y(pg,a)):y(pg,a))?qg(a):"string"===typeof a||"number"===typeof a||a instanceof I||a instanceof gc?b.j?b.j(a):b.call(null,a):ig(Ic([a]))}
var sg=function sg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new K(c.slice(1),0,null):null;return sg.K(arguments[0],c)};
sg.K=function(a,b){b=Sd(b);var c=H.D(b,tg,X),d=function h(f){if(null==f)return null;if(null!=f?u===f.Tc||(f.Bc?0:y(pg,f)):y(pg,f))return qg(f);if(f instanceof I)return c.j?c.j(f):c.call(null,f);if(f instanceof gc)return B.j(f);if($c(f)){var k={};f=J(f);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ea(null,n),q=V(p,0,null);p=V(p,1,null);q=rg(q,d);p=h(p);k[q]=p;n+=1}else if(f=J(f))cd(f)?(m=Mb(f),f=Nb(f),l=m,m=R(m)):(m=N(f),l=V(m,0,null),m=V(m,1,null),l=rg(l,d),m=h(m),k[l]=m,f=O(f),l=null,m=0),n=0;else break;
return k}if(Wc(f)){k=[];f=J(de.B(h,f));l=null;for(n=m=0;;)if(n<m)q=l.ea(null,n),k.push(q),n+=1;else if(f=J(f))l=f,cd(l)?(f=Mb(l),n=Nb(l),l=f,m=R(f),f=n):(f=N(l),k.push(f),f=O(l),l=null,m=0),n=0;else break;return k}return f};return d(a)};sg.$=1;sg.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};var ug=null;function vg(){null==ug&&(ug=new ae(new v(null,3,[wg,Td,xg,Td,yg,Td],null)));return ug}
function zg(a,b,c){var d=P.B(b,c);if(d)return d;d=yg.j(a);d=d.j?d.j(b):d.call(null,b);if(!(d=id(d,c))&&(d=bd(c)))if(d=bd(b))if(d=R(c)===R(b)){d=!0;for(var e=0;;)if(d&&e!==R(c))d=zg(a,b.j?b.j(e):b.call(null,e),c.j?c.j(e):c.call(null,e)),e+=1;else return d}else return d;else return d;else return d}function Ag(a){var b=F(vg());a=H.B(wg.j(b),a);return J(a)?a:null}function Bg(a,b,c,d){ce.B(a,function(){return F(b)});ce.B(c,function(){return F(d)})}
var Cg=function Cg(a,b,c){var e=function(){var f=F(c);return f.j?f.j(a):f.call(null,a)}();e=x(x(e)?e.j?e.j(b):e.call(null,b):e)?!0:null;if(x(e))return e;e=function(){for(var f=Ag(b);;)if(0<R(f)){var h=N(f);Cg.D?Cg.D(a,h,c):Cg.call(null,a,h,c);f=kc(f)}else return null}();if(x(e))return e;e=function(){for(var f=Ag(a);;)if(0<R(f)){var h=N(f);Cg.D?Cg.D(h,b,c):Cg.call(null,h,b,c);f=kc(f)}else return null}();return x(e)?e:!1};function Dg(a,b,c,d){c=Cg(a,b,c);return x(c)?c:zg(d,a,b)}
var Eg=function Eg(a,b,c,d,e,f,h,k){var m=Ga(function(p,q){var r=V(q,0,null);V(q,1,null);if(zg(F(c),b,r)){p=null==p||Dg(r,N(p),e,F(c))?q:p;if(!Dg(N(p),r,e,F(c)))throw Error(["Multiple methods in multimethod '",B.j(a),"' match dispatch value: ",B.j(b)," -\x3e ",B.j(r)," and ",B.j(N(p)),", and neither is preferred"].join(""));return p}return p},null,F(d)),n=function(){var p;if(p=null==m)p=F(d),p=p.j?p.j(k):p.call(null,k);return x(p)?new Y(null,2,5,Z,[k,p],null):m}();if(x(n)){if(P.B(F(h),F(c)))return ce.T(f,
W,b,N(O(n))),N(O(n));Bg(f,d,h,c);return Eg.za?Eg.za(a,b,c,d,e,f,h,k):Eg.call(null,a,b,c,d,e,f,h,k)}return null};function Fg(a,b){throw Error(["No method in multimethod '",B.j(a),"' for dispatch value: ",B.j(b)].join(""));}function Gg(a,b,c,d,e,f,h){var k=Hg;this.name=a;this.J=b;this.fd=k;this.Xb=c;this.Zb=d;this.md=e;this.Yb=f;this.Qb=h;this.F=4194305;this.P=4352}g=Gg.prototype;
g.call=function(a){switch(arguments.length-1){case 0:return this.O();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.T(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Oa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ia(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ka(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.ic(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.O=function(){var a=this.J.O?this.J.O():this.J.call(null),b=Ig(this,a);x(b)||Fg(this.name,a);return b.O?b.O():b.call(null)};g.j=function(a){var b=this.J.j?this.J.j(a):this.J.call(null,a),c=Ig(this,b);x(c)||Fg(this.name,b);return c.j?c.j(a):c.call(null,a)};
g.B=function(a,b){var c=this.J.B?this.J.B(a,b):this.J.call(null,a,b),d=Ig(this,c);x(d)||Fg(this.name,c);return d.B?d.B(a,b):d.call(null,a,b)};g.D=function(a,b,c){var d=this.J.D?this.J.D(a,b,c):this.J.call(null,a,b,c),e=Ig(this,d);x(e)||Fg(this.name,d);return e.D?e.D(a,b,c):e.call(null,a,b,c)};g.T=function(a,b,c,d){var e=this.J.T?this.J.T(a,b,c,d):this.J.call(null,a,b,c,d),f=Ig(this,e);x(f)||Fg(this.name,e);return f.T?f.T(a,b,c,d):f.call(null,a,b,c,d)};
g.aa=function(a,b,c,d,e){var f=this.J.aa?this.J.aa(a,b,c,d,e):this.J.call(null,a,b,c,d,e),h=Ig(this,f);x(h)||Fg(this.name,f);return h.aa?h.aa(a,b,c,d,e):h.call(null,a,b,c,d,e)};g.Na=function(a,b,c,d,e,f){var h=this.J.Na?this.J.Na(a,b,c,d,e,f):this.J.call(null,a,b,c,d,e,f),k=Ig(this,h);x(k)||Fg(this.name,h);return k.Na?k.Na(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
g.Oa=function(a,b,c,d,e,f,h){var k=this.J.Oa?this.J.Oa(a,b,c,d,e,f,h):this.J.call(null,a,b,c,d,e,f,h),l=Ig(this,k);x(l)||Fg(this.name,k);return l.Oa?l.Oa(a,b,c,d,e,f,h):l.call(null,a,b,c,d,e,f,h)};g.za=function(a,b,c,d,e,f,h,k){var l=this.J.za?this.J.za(a,b,c,d,e,f,h,k):this.J.call(null,a,b,c,d,e,f,h,k),m=Ig(this,l);x(m)||Fg(this.name,l);return m.za?m.za(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};
g.Pa=function(a,b,c,d,e,f,h,k,l){var m=this.J.Pa?this.J.Pa(a,b,c,d,e,f,h,k,l):this.J.call(null,a,b,c,d,e,f,h,k,l),n=Ig(this,m);x(n)||Fg(this.name,m);return n.Pa?n.Pa(a,b,c,d,e,f,h,k,l):n.call(null,a,b,c,d,e,f,h,k,l)};g.Ca=function(a,b,c,d,e,f,h,k,l,m){var n=this.J.Ca?this.J.Ca(a,b,c,d,e,f,h,k,l,m):this.J.call(null,a,b,c,d,e,f,h,k,l,m),p=Ig(this,n);x(p)||Fg(this.name,n);return p.Ca?p.Ca(a,b,c,d,e,f,h,k,l,m):p.call(null,a,b,c,d,e,f,h,k,l,m)};
g.Da=function(a,b,c,d,e,f,h,k,l,m,n){var p=this.J.Da?this.J.Da(a,b,c,d,e,f,h,k,l,m,n):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n),q=Ig(this,p);x(q)||Fg(this.name,p);return q.Da?q.Da(a,b,c,d,e,f,h,k,l,m,n):q.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Ea=function(a,b,c,d,e,f,h,k,l,m,n,p){var q=this.J.Ea?this.J.Ea(a,b,c,d,e,f,h,k,l,m,n,p):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p),r=Ig(this,q);x(r)||Fg(this.name,q);return r.Ea?r.Ea(a,b,c,d,e,f,h,k,l,m,n,p):r.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.Fa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){var r=this.J.Fa?this.J.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q),w=Ig(this,r);x(w)||Fg(this.name,r);return w.Fa?w.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):w.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};
g.Ga=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){var w=this.J.Ga?this.J.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r),z=Ig(this,w);x(z)||Fg(this.name,w);return z.Ga?z.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):z.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};
g.Ha=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w){var z=this.J.Ha?this.J.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w),C=Ig(this,z);x(C)||Fg(this.name,z);return C.Ha?C.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):C.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w)};
g.Ia=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z){var C=this.J.Ia?this.J.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z),E=Ig(this,C);x(E)||Fg(this.name,C);return E.Ia?E.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):E.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z)};
g.Ja=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C){var E=this.J.Ja?this.J.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C),M=Ig(this,E);x(M)||Fg(this.name,E);return M.Ja?M.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):M.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C)};
g.Ka=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E){var M=this.J.Ka?this.J.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E),T=Ig(this,M);x(T)||Fg(this.name,M);return T.Ka?T.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):T.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E)};
g.La=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M){var T=this.J.La?this.J.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M),da=Ig(this,T);x(da)||Fg(this.name,T);return da.La?da.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):da.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M)};
g.Ma=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T){var da=this.J.Ma?this.J.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T),qa=Ig(this,da);x(qa)||Fg(this.name,da);return qa.Ma?qa.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):qa.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T)};
g.ic=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da){var qa=Rd(this.J,a,b,c,d,Ic([e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da])),Zc=Ig(this,qa);x(Zc)||Fg(this.name,qa);return Rd(Zc,a,b,c,d,Ic([e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da]))};function Jg(a,b){var c=Kg;ce.T(c.Zb,W,a,b);Bg(c.Yb,c.Zb,c.Qb,c.Xb)}function Ig(a,b){P.B(F(a.Qb),F(a.Xb))||Bg(a.Yb,a.Zb,a.Qb,a.Xb);var c=F(a.Yb);c=c.j?c.j(b):c.call(null,b);return x(c)?c:Eg(a.name,b,a.Xb,a.Zb,a.md,a.Yb,a.Qb,a.fd)}g.Eb=function(){return Ob(this.name)};g.Fb=function(){return Pb(this.name)};
g.ga=function(){return ba(this)};var Lg=new I(null,"button.button.is-primary","button.button.is-primary",-883309392),Mg=new I("skier","leaves-lift","skier/leaves-lift",-1306134627),Ng=new I(null,"div.buttons.is-centered","div.buttons.is-centered",1442792514),mg=new I(null,"val","val",128701612),Og=new I(null,"render","render",-1408033454),Pg=new I(null,"mu","mu",1146469241),Qg=new I(null,"fold","fold",-887461332),Rg=new I(null,"auto-run","auto-run",1958400437),ya=new I(null,"meta","meta",1499536964),Sg=new I(null,"displayName","displayName",
-809144601),Tg=new I(null,"on-dispose","on-dispose",2105306360),Ug=new I(null,"data","data",-232669377),Vg=new I(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),Wg=new I(null,"sigma","sigma",-63715703),Xg=new I(null,"spec","spec",347520401),Yg=new I(null,"constructor","constructor",-1953928811),Zg=new I(null,"div.column","div.column",-1380853326),$g=new I(null,"actions","actions",-812656882),ah=new I(null,"childContextTypes","childContextTypes",578717991),bh=new I(null,"transform",
"transform",1381301764),ch=new I(null,"field","field",-1302436500),dh=new I(null,"\x3e","\x3e",-555517146),xg=new I(null,"descendants","descendants",1824886031),eh=new I(null,"running","running",1554969103),fh=new I(null,"class","class",-2030961996),gh=new I(null,"description","description",-1428560544),hh=new I(null,"title","title",636505583),ih=new I(null,"on-click","on-click",1632826543),jh=new I(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),kh=new I(null,"color","color",1011675173),
lh=new I(null,"stack","stack",-793405930),mh=new I(null,"as","as",1148689641),nh=new I(null,"reagentRender","reagentRender",-358306383),oh=new I(null,"name","name",1843675177),ph=new I(null,"getInitialState","getInitialState",1541760916),gg=new I(null,"alt-impl","alt-impl",670969595),qh=new I(null,"on-set","on-set",-140953470),Rf=new I("cljs.core","not-found","cljs.core/not-found",-1572889185),Hg=new I(null,"default","default",-1987822328),rh=new I("skier","joins-queue","skier/joins-queue",-1286647213),
sh=new I(null,"no-cache","no-cache",1588056370),th=new I(null,"\x3c\x3e","\x3c\x3e",1280186386),uh=new I(null,"div.columns","div.columns",-437221213),za=new I(null,"dup","dup",556298533),Aa=new I(null,"print-length","print-length",1931866356),wa=new I(null,"flush-on-newline","flush-on-newline",-151457939),vh=new I("lift","leaves","lift/leaves",-2138482165),wh=new I(null,"component-did-update","component-did-update",-1468549173),xh=new I("sim","end-time","sim/end-time",-1849965709),yh=new I(null,"reagent-render",
"reagent-render",-985383853),zh=new I(null,"encoding","encoding",1728578272),Ah=new I(null,"function-components","function-components",1492814963),Bh=new I(null,"hierarchy","hierarchy",-1053470341),Ch=new I(null,"on-write","on-write",31519475),Dh=new I("skiers","skiing","skiers/skiing",-957605270),Eh=new I(null,"key","key",-1516042587),Fh=new I(null,"zero","zero",-858964576),Gh=new I("lift","ride-time","lift/ride-time",78775400),Hh=new I(null,"y","y",-1757859776),Ih=new I(null,"x","x",2099068185),
Jh=new I(null,"t","t",-1397832519),Kh=new I(null,"componentWillUnmount","componentWillUnmount",1573788814),Lh=new I(null,"scale","scale",-230427353),Mh=new I(null,"contextType","contextType",1033066077),Nh=new I("skiers","waiting","skiers/waiting",1070582748),Oh=new I(null,"mark","mark",-373816345),Ph=new I(null,"event","event",301435442),wg=new I(null,"parents","parents",-2027538891),Qh=new I(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),Rh=new I(null,"validator","validator",
-1966190681),hg=new I(null,"fallback-impl","fallback-impl",-1501286995),Sh=new I(null,"display-name","display-name",694513143),Th=new I(null,"button.button.is-danger","button.button.is-danger",-948547713),Uh=new I("slope","length","slope/length",1017254753),Vh=new I(null,"section.section","section.section",-416807119),xa=new I(null,"readably","readably",1129599760),Wh=new I(null,"contextTypes","contextTypes",-2023853910),tg=new I(null,"keyword-fn","keyword-fn",-64566675),Xh=new I(null,"shouldComponentUpdate",
"shouldComponentUpdate",1795750960),Yh=new I(null,"unit","unit",375175175),Zh=new I(null,"id","id",-1388402092),$h=new I(null,"$schema","$schema",1635092088),ai=new I(null,"component-will-unmount","component-will-unmount",-2058314698),bi=new I("lift","chair-width","lift/chair-width",1126373462),ci=new I(null,"results","results",-1134170113),di=new I(null,"className","className",-1983287057),ei=new I(null,"h1.title","h1.title",-2139952071),fi=new I("lift","chair-period","lift/chair-period",169813739),
gi=new I(null,"events","events",1792552201),hi=new I("skiers","riding-lift","skiers/riding-lift",1574761189),ii=new I(null,"parse-tag","parse-tag",1427313738),ji=new I(null,"type","type",1174270348),ki=new I("skiers","speed","skiers/speed",88597428),yg=new I(null,"ancestors","ancestors",-776045424),Zf=new I(null,"more-marker","more-marker",-14717935);var li={},mi;function ni(){return oa("iPhone")&&!oa("iPod")&&!oa("iPad")};oa("Opera");oa("Trident")||oa("MSIE");oa("Edge");!oa("Gecko")||-1!=na.toLowerCase().indexOf("webkit")&&!oa("Edge")||oa("Trident")||oa("MSIE")||oa("Edge");-1!=na.toLowerCase().indexOf("webkit")&&!oa("Edge")&&oa("Mobile");oa("Macintosh");oa("Windows");oa("Linux")||oa("CrOS");var oi=aa.navigator||null;oi&&(oi.appVersion||"").indexOf("X11");oa("Android");ni();oa("iPad");oa("iPod");ni()||oa("iPad")||oa("iPod");na.toLowerCase().indexOf("kaios");(function(a){if("undefined"===typeof ra||"undefined"===typeof sa||"undefined"===typeof li||"undefined"===typeof mi)mi=function(b,c,d){this.f=b;this.Nc=c;this.hd=d;this.F=393216;this.P=0},mi.prototype.ka=function(b,c){return new mi(this.f,this.Nc,c)},mi.prototype.ha=function(){return this.hd},mi.Ib=!0,mi.nb="cljs.core.async/t_cljs$core$async23563",mi.Ub=function(b){return G(b,"cljs.core.async/t_cljs$core$async23563")};return new mi(a,!0,Td)})(function(){return null});var pi={},qi={},ri=[];function si(a,b){var c=qi[a];if(void 0!==c)return c;try{ri.push(a);var d=pi[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};pi[a]=d}if(e){delete shadow$provide[a];try{e.call(d,aa,si,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{ri.pop()}return d.exports}si.cache={};si.resolve=function(a){return a};var ti=si(2,{});function ui(a,b,c){var d=RegExp,e=b.source,f=x(b.ignoreCase)?"gi":"g";f=x(b.multiline)?[f,"m"].join(""):f;b=x(b.unicode)?[f,"u"].join(""):f;return a.replace(new d(e,b),c)}
function vi(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){d=ge(d);if(P.B(R(d),1))return d=N(d),a.j?a.j(d):a.call(null,d);d=He(d);return a.j?a.j(d):a.call(null,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}()}
function wi(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?ui(a,b,c):ui(a,b,vi(c));throw["Invalid match arg: ",B.j(b)].join("");}function xi(a){var b=new pa;for(a=J(a);;)if(null!=a)b.append(B.j(N(a))),a=O(a),null!=a&&b.append(" ");else return b.toString()}
function yi(a){var b=/-/;a="/(?:)/"===B.j(b)?Jc.B(He(U("",de.B(B,J(a)))),""):He(B.j(a).split(b));if(1<R(a))a:for(;;)if(""===(null==a?null:jb(a)))a=null==a?null:kb(a);else break a;return a};var zi={};var Ai={},Bi="undefined"!==typeof window&&null!=window.document,Ci=new Tf(null,new v(null,2,["aria",null,"data",null],null),null);function Di(a){return 2>R(a)?a.toUpperCase():[a.substring(0,1).toUpperCase(),a.substring(1)].join("")}function Ei(a){if("string"===typeof a)return a;a=X(a);var b=yi(a),c=J(b);b=N(c);c=O(c);return x(Ci.j?Ci.j(b):Ci.call(null,b))?a:Pd(B,b,de.B(Di,c))}
function Fi(a){var b=function(){var c=function(){var d=Pc(a);if(d){d=a.displayName;if(x(d))return d;d=a.name;return"string"===typeof d&&J(d)?d:null}return d}();if(x(c))return c;c=function(){var d=null!=a?a.P&4096||u===a.xc?!0:!1:!1;return d?X(a):d}();if(x(c))return c;c=Tc(a);return $c(c)?oh.j(c):null}();return x(b)?wi(B.j(b),"$","."):null}function Gi(a){return a instanceof I||a instanceof gc}
var Hi=function Hi(a){switch(arguments.length){case 0:return Hi.O();case 1:return Hi.j(arguments[0]);case 2:return Hi.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Hi.K(arguments[0],arguments[1],c)}};Hi.O=function(){return null};Hi.j=function(a){return Wc(a)?(a=$d(function(b){return x(b)?Gi(b)?X(b):b:null},a),J(a)?xi(a):null):Gi(a)?X(a):a};
Hi.B=function(a,b){return x(a)?x(b)?[B.j(Hi.j(a))," ",B.j(Hi.j(b))].join(""):Hi.j(a):Hi.j(b)};Hi.K=function(a,b,c){return Ga(Hi,Hi.B(a,b),c)};Hi.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Hi.$=2;var Ii=!1;function Ji(a){if($c(a))try{var b=H.B(a,Eh)}catch(c){b=null}else b=null;return b}
function Ki(a){var b=Eh.j(Tc(a));if(null!=b)return b;b=V(a,0,null);switch(b instanceof I?b.Ra:null){case "\x3e":case "f\x3e":return Ji(V(a,2,null));case "r\x3e":return a=V(a,2,null),null==a?null:a.key;default:return Ji(V(a,1,null))}};var Li=0;function Mi(a){return setTimeout(a,16)}var Ni=Bi?function(){var a=window;return function(){var b=a.requestAnimationFrame;if(x(b))return b;b=a.webkitRequestAnimationFrame;if(x(b))return b;b=a.mozRequestAnimationFrame;if(x(b))return b;b=a.msRequestAnimationFrame;return x(b)?b:Mi}().bind(a)}():Mi;function Oi(a,b){return a.qc-b.qc}function Pi(){return null}function Qi(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.O?d.O():d.call(null);c+=1}else return null}
function Ri(a,b,c){b.push(c);return a.schedule()}function Si(){this.ac=!1}g=Si.prototype;g.flush_after_render=function(){var a=this.Ob;if(null==a)return null;this.Ob=null;return Qi(a)};g.queue_render=function(a){null==this.Wb&&(this.Wb=[]);return Ri(this,this.Wb,a)};g.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.ac)return null;this.ac=!0;return Ni.j?Ni.j(a):Ni.call(null,a)};g.flush_before_flush=function(){var a=this.Pb;if(null==a)return null;this.Pb=null;return Qi(a)};
g.flush_queues=function(){this.flush_before_flush();Pi();this.flush_render();return this.flush_after_render()};g.run_queues=function(){this.ac=!1;return this.flush_queues()};g.add_before_flush=function(a){null==this.Pb&&(this.Pb=[]);return Ri(this,this.Pb,a)};g.add_after_render=function(a){null==this.Ob&&(this.Ob=[]);return Ri(this,this.Ob,a)};
g.flush_render=function(){var a=this.Wb;if(null==a)return null;this.Wb=null;a:{a.sort(Oi);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var Ti=new Si;function Ui(a){if(x(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return Ti.queue_render(a)};function Vi(a){if(null!=a&&null!=a.nd)a=a.id;else{var b=Vi[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Vi._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("Compiler.get-id",a);}return a}function Wi(a,b,c){if(null!=a&&null!=a.Jc)a=a.Jc(a,b,c);else{var d=Wi[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Wi._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("Compiler.parse-tag",a);}return a}
function Xi(a,b){if(null!=a&&null!=a.Hc)a=a.Hc(a,b);else{var c=Xi[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Xi._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("Compiler.as-element",a);}return a}
function Yi(a,b,c,d,e){if(null!=a&&null!=a.Ic)a=a.Ic(a,b,c,d,e);else{var f=Yi[t(null==a?null:a)];if(null!=f)a=f.aa?f.aa(a,b,c,d,e):f.call(null,a,b,c,d,e);else if(f=Yi._,null!=f)a=f.aa?f.aa(a,b,c,d,e):f.call(null,a,b,c,d,e);else throw A("Compiler.make-element",a);}return a};var Zi=function Zi(a){switch(arguments.length){case 1:return Zi.j(arguments[0]);case 2:return Zi.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Zi.K(arguments[0],arguments[1],c)}};Zi.j=function(a){return a};Zi.B=function(a,b){return R(a)<R(b)?Ga(function(c,d){return id(b,d)?Uc.B(c,d):c},a,a):Ga(Uc,a,b)};Zi.K=function(a,b,c){return Ga(Zi,a,Jc.B(c,b))};
Zi.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Zi.$=2;var $i;function aj(a,b){b.dc=null;a:{var c=$i;$i=b;try{var d=a.O?a.O():a.call(null);break a}finally{$i=c}d=void 0}a=b.dc;b.gb=!1;a:{c=b.rb;var e=null==a?0:a.length,f=e===(null==c?0:c.length);if(f)for(f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=f}c||b._update_watching(a);return d}function bj(a){var b=$i;if(null!=b){var c=b.dc;null==c?b.dc=[a]:c.push(a)}}function cj(a,b,c){a.ua=W.D(a.ua,b,c);return a.tc=null}
function dj(a,b){a.ua=Oc.B(a.ua,b);return a.tc=null}function ej(a,b,c){var d=a.tc;d=null==d?a.tc=od(function(l,m,n){l.push(m);l.push(n);return l},[],a.ua):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.T?k.T(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function fj(a,b,c,d){G(a,["#object[reagent.ratom.",B.j(c)," "].join(""));a:{c=$i;$i=null;try{var e=d;break a}finally{$i=c}e=void 0}eg(e,a,b);return G(a,"]")}var gj=null;
function hj(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.ua=d;this.F=2154201088;this.P=114690}g=hj.prototype;g.ia=function(a,b,c){return fj(b,c,"RAtom",new v(null,1,[mg,this.fb(null)],null))};g.ha=function(){return this.meta};g.ga=function(){return ba(this)};g.fa=function(a,b){return this===b};g.Sa=function(a,b){a=this.state;this.state=b;null!=this.ua&&ej(this,a,b);return b};g.kc=function(a,b){return this.Sa(null,b.j?b.j(this.state):b.call(null,this.state))};
g.lc=function(a,b,c){return this.Sa(null,b.B?b.B(this.state,c):b.call(null,this.state,c))};g.mc=function(a,b,c,d){return this.Sa(null,b.D?b.D(this.state,c,d):b.call(null,this.state,c,d))};g.nc=function(a,b,c,d,e){return this.Sa(null,Qd(b,this.state,c,d,e))};g.oc=function(a,b){ej(this,a,b)};g.Sb=function(a,b,c){return cj(this,b,c)};g.Tb=function(a,b){return dj(this,b)};g.ka=function(a,b){return new hj(this.state,b,this.validator,this.ua)};g.fb=function(){bj(this);return this.state};
var ij=function ij(a){switch(arguments.length){case 1:return ij.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(1),0,null);return ij.K(arguments[0],c)}};ij.j=function(a){return new hj(a,null,null,null)};ij.K=function(a,b){var c=Sd(b);b=H.B(c,ya);c=H.B(c,Rh);return new hj(a,b,c,null)};ij.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};ij.$=1;
function jj(a){if(null!=a&&null!=a.sc)a=a.sc(a);else{var b=jj[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=jj._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IDisposable.dispose!",a);}return a}function Fb(a,b,c,d){return a._handle_change(b,c,d)}function kj(a){this.f=a;this.state=null;this.gb=!0;this.Fc=!1;this.ec=this.Za=this.ua=this.rb=null;this.F=2153807872;this.P=114690}g=kj.prototype;g._peek_at=function(){var a=$i;$i=null;try{return this.fb(null)}finally{$i=a}};
g._handle_change=function(a,b,c){return b===c||this.gb?null:null==this.Za?(this.gb=!0,null==gj&&(gj=[],!1===Ti.ac&&Ti.schedule()),gj.push(this)):!0===this.Za?this._run(!1):this.Za.j?this.Za.j(this):this.Za.call(null,this)};
g._update_watching=function(a){var b=Wf(a),c=Wf(this.rb);this.rb=a;a=J(Zi.B(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.ea(null,f);Eb(h,this);f+=1}else if(a=J(a))d=a,cd(d)?(a=Mb(d),f=Nb(d),d=a,e=R(a),a=f):(a=N(d),Eb(a,this),a=O(d),d=null,e=0),f=0;else break;b=J(Zi.B(c,b));c=null;for(e=d=0;;)if(e<d)a=c.ea(null,e),Gb(a,this),e+=1;else if(b=J(b))c=b,cd(c)?(b=Mb(c),d=Nb(c),c=b,a=R(b),b=d,d=a):(a=N(c),Gb(a,this),b=O(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.gb&&null!=this.rb?this._run(!0):null};g._try_capture=function(a){try{return this.ec=null,aj(a,this)}catch(b){return this.ec=this.state=a=b,this.gb=!1}};g._run=function(a){var b=this.state;a=x(a)?this._try_capture(this.f):aj(this.f,this);this.Fc||(this.state=a,null==this.ua||P.B(b,a)||ej(this,b,a));return a};
g._set_opts=function(a){var b=Sd(a);a=H.B(b,Rg);var c=H.B(b,qh),d=H.B(b,Tg);b=H.B(b,sh);null!=a&&(this.Za=a);null!=c&&(this.kd=c);null!=d&&(this.Gc=d);return null!=b?this.Fc=b:null};g.ia=function(a,b,c){return fj(b,c,"Reaction",new v(null,1,[mg,this.fb(null)],null))};g.ga=function(){return ba(this)};g.fa=function(a,b){return this===b};
g.sc=function(){var a=this.state,b=this.rb;this.Za=this.state=this.rb=null;this.gb=!0;b=J(Wf(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e);Gb(f,this);e+=1}else if(b=J(b))c=b,cd(c)?(b=Mb(c),e=Nb(c),c=b,d=R(b),b=e):(b=N(c),Gb(b,this),b=O(c),c=null,d=0),e=0;else break;null!=this.Gc&&this.Gc(a);a=this.Cd;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.j?d.j(this):d.call(null,this),c+=1;else return null};g.Sa=function(a,b){a=this.state;this.state=b;this.kd(a,b);ej(this,a,b);return b};
g.kc=function(a,b){a=this.Sa;var c=this._peek_at();b=b.j?b.j(c):b.call(null,c);return a.call(this,null,b)};g.lc=function(a,b,c){a=this.Sa;var d=this._peek_at();b=b.B?b.B(d,c):b.call(null,d,c);return a.call(this,null,b)};g.mc=function(a,b,c,d){a=this.Sa;var e=this._peek_at();b=b.D?b.D(e,c,d):b.call(null,e,c,d);return a.call(this,null,b)};g.nc=function(a,b,c,d,e){return this.Sa(null,Qd(b,this._peek_at(),c,d,e))};g.oc=function(a,b){ej(this,a,b)};g.Sb=function(a,b,c){return cj(this,b,c)};
g.Tb=function(a,b){a=Vc(this.ua);dj(this,b);return!a&&Vc(this.ua)&&null==this.Za?this.sc(null):null};g.fb=function(){var a=this.ec;if(null!=a)throw a;(a=null==$i)&&(lj.O?lj.O():lj.call(null));a&&null==this.Za?this.gb&&(a=this.state,this.state=this.f.O?this.f.O():this.f.call(null),null==this.ua||P.B(a,this.state)||ej(this,a,this.state)):(bj(this),this.gb&&this._run(!1));return this.state};
function lj(){for(;;){var a=gj;if(null==a)return null;gj=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}Pi=lj;function mj(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new K(b.slice(1),0,null):null;b=arguments[0];var e=Sd(c);c=H.B(e,Rg);d=H.B(e,qh);e=H.B(e,Tg);b=new kj(b);b._set_opts(new v(null,3,[Rg,c,qh,d,Tg,e],null));return b}var nj=mj(null);
function oj(a,b){var c=pj,d=nj,e=aj(a,d);null!=d.rb&&(nj=mj(null),d._set_opts(c),d.f=a,d.Za=function(){return Ui.j?Ui.j(b):Ui.call(null,b)},b.cljsRatom=d);return e};var qj;function rj(a,b){var c=b.argv;if(null==c){c=Z;a=a.constructor;a:for(var d=ha(b),e=d.length,f=Td,h=0;;)if(h<e){var k=d[h];f=W.D(f,yd.j(k),ia(b,k));h+=1}else break a;b=new Y(null,2,5,c,[a,f],null)}else b=c;return b}function sj(a){var b;if(b=Pc(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.ib);return b}
function tj(a,b){for(;;){var c=a.ib,d=!0===a.bd?c.call(a,a):function(){var e=rj(a,a.props);switch(R(e)){case 1:return c.call(a);case 2:return c.call(a,Ec(e,1));case 3:return c.call(a,Ec(e,1),Ec(e,2));case 4:return c.call(a,Ec(e,1),Ec(e,2),Ec(e,3));case 5:return c.call(a,Ec(e,1),Ec(e,2),Ec(e,3),Ec(e,4));default:return c.apply(a,Fa(e).slice(1))}}();if(bd(d))return Xi(b,d);if(gd(d))d=sj(d)?function(e,f,h,k,l){return function(){function m(p){var q=null;if(0<arguments.length){q=0;for(var r=Array(arguments.length-
0);q<r.length;)r[q]=arguments[q+0],++q;q=new K(r,0,null)}return n.call(this,q)}function n(p){return Xi(f,Pd(Le,l,p))}m.$=0;m.ba=function(p){p=J(p);return n(p)};m.K=n;return m}()}(a,b,c,null,d):d,a.ib=d;else return d}}var pj=new v(null,1,[sh,!0],null);
function uj(a,b){switch(a instanceof I?a.Ra:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){var e=b.call,f=c.argv;null!=f&&(c=V(f,1,null),c=$c(c)?c:null);return e.call(b,null,c,d)};case "getInitialState":return function(c){var d=c.dd;d=null!=d?d:c.dd=ij.j(null);return be(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,rj(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,rj(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,rj(this,c))};case "shouldComponentUpdate":return function(c){var d=Ii;if(x(d))return d;d=this.props.argv;var e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return!P.B(d,e)}catch(h){return!1}}else return f?b.call(this,this,rj(this,this.props),rj(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,rj(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,rj(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,rj(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=ia(this,"cljsRatom");null!=c&&jj(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}var vj=new v(null,2,[Xh,null,Kh,null],null),wj=function(a){var b=new ae(Td);return function(c){var d=H.B(F(b),c);if(null!=d)return d;d=a.j?a.j(c):a.call(null,c);ce.T(b,W,c,d);return d}}(function(a){if("string"===typeof a)return a;a=X(a);a=wi(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=yi(a);var b=J(a);a=N(b);b=O(b);return Pd(B,a,de.B(Di,b))});function xj(a){return od(function(b,c,d){return W.D(b,yd.j(wj(c)),d)},Td,a)}
function yj(a,b){var c=function(){var h=nh.j(a);return x(h)?h:Og.j(a)}(),d=null==nh.j(a),e=function(){var h=Sg.j(a);if(x(h))return h;h=Fi(c);return x(h)?h:B.j(og("reagent"))}(),f=od(function(h,k,l){var m=W.D,n=uj(k,l);return m.call(W,h,k,x(n)?n:l)},Td,a);return W.K(f,Sg,e,Ic([jh,d,nh,c,Og,function(){var h=this,k=ia(h,"cljsRatom");h.cljsIsDirty=!1;return null==k?oj(function(){a:{var l=qj;qj=h;try{var m=tj(h,b);break a}finally{qj=l}m=void 0}return m},h):k._run(!1)}]))}
function zj(a){return od(function(b,c,d){c=X(c);b[c]=d;return b},{},a)}function Aj(a,b){return yj(Of.K(Ic([vj,xj(a)])),b)}var Qf=new Y(null,5,5,Z,[ah,Wh,Mh,Qh,Vg],null);
function Bj(a,b){function c(k,l,m){ti.Component.call(this,k,l,m);x(h)&&(h.B?h.B(this,k):h.call(null,this,k));x(f)&&(this.state=f.j?f.j(this):f.call(null,this));this.qc=Li+=1;return this}a=Aj(a,b);b=zj(Rd(Oc,a,Sg,ph,Yg,Ic([Og,nh,Qf])));var d=zj(Pf(a)),e=Sg.j(a),f=ph.j(a),h=Yg.j(a);ka(c.prototype,ti.Component.prototype,b);x(Og.j(a))&&(c.prototype.render=Og.j(a));x(nh.j(a))&&(c.prototype.ib=nh.j(a));x(jh.j(a))&&(c.prototype.bd=jh.j(a));ka(c,ti.Component,d);x(e)&&(c.displayName=e,c.nb=e,c.Ub=function(k){return G(k,
e)},Object.defineProperty(c,"name",{value:e,writable:!1}));c.Ib=!0;return c.prototype.constructor=c}function Cj(a,b,c){a=Vi(a);return b[a]=c}
function Dj(a,b){for(;;){var c=b.ib,d=b.argv,e=Od(c,d);if(bd(e))return Xi(a,e);if(gd(e))c=sj(e)?function(f,h,k,l,m,n){return function(){function p(r){var w=null;if(0<arguments.length){w=0;for(var z=Array(arguments.length-0);w<z.length;)z[w]=arguments[w+0],++w;w=new K(z,0,null)}return q.call(this,w)}function q(r){return Xi(f,Pd(Le,n,r))}p.$=0;p.ba=function(r){r=J(r);return q(r)};p.K=q;return p}()}(a,b,c,null,d,e):e,b.ib=c;else return e}}
function Ej(a,b){var c=b.argv,d=b.ib;b=ti.useState(0);V(b,0,null);var e=V(b,1,null),f=ti.useRef();x(f.current)||function(){var k={forceUpdate:function(){return e.j?e.j(tc):e.call(null,tc)}};k.qc=Li+=1;k.constructor=d;k.ib=d;return f.current=k}();var h=f.current;b=ia(h,"cljsRatom");ti.useEffect(function(){return function(){var k=ia(h,"cljsRatom");return null==k?null:jj(k)}},[]);h.argv=c;h.cljsIsDirty=!1;return null==b?oj(function(){a:{var k=qj;qj=h;try{var l=Dj(a,h);break a}finally{qj=k}l=void 0}return l},
h):b._run(!1)}function Fj(a,b){a=a.argv;b=b.argv;var c=!1===Ii;if(c)try{return P.B(a,b)}catch(d){return!1}else return c}function Gj(a,b){function c(e){return Ej(a,e)}var d=ia(b,Vi(a));if(x(d))return d;d=Fi(b);c.displayName=d;Object.defineProperty(c,"name",{value:d,writable:!1});d=ti.memo(c,Fj);Cj(a,b,d);return d};var Hj=new Tf(null,new v(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null),Ij=!1;
function Jj(a,b,c,d){var e=Sd(Td);e=H.B(e,Ch);if(x(function(){var h=!(a===document.activeElement&&id(Hj,a.type)&&"string"===typeof b&&"string"===typeof c);return h?h:Ij}()))return d.Vb=b,a.value=b,Pc(e)?e.j?e.j(b):e.call(null,b):null;var f=a.value;if(!P.B(f,c))return Ti.add_after_render(function(){var h=Ij;Ij=!0;try{return Kj.j?Kj.j(d):Kj.call(null,d)}finally{Ij=h}});f=R(f)-a.selectionStart;f=R(b)-f;d.Vb=b;a.value=b;Pc(e)&&(e.j?e.j(b):e.call(null,b));a.selectionStart=f;return a.selectionEnd=f}
function Kj(a){if(x(a.pc)){a.Cc=!1;var b=a.cd,c=a.Vb,d=a.rc;return P.B(b,c)?null:Jj(d,b,c,a)}return null}function Lj(a,b,c){a.Vb=c.target.value;x(a.Cc)||(a.Cc=!0,Ti.add_after_render(function(){return Kj(a)}));return b.j?b.j(c):b.call(null,c)}
function Mj(a){var b=qj;if(x(function(){var f=null!=a;return f?(f=a.hasOwnProperty("onChange"),x(f)?a.hasOwnProperty("value"):f):f}())){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;x(b.pc)||(b.pc=!0,b.Vb=c);x(b.Kc)||(b.Kc=Pc(e)?function(f){b.rc=f;return e.j?e.j(f):e.call(null,f)}:x(x(e)?e.hasOwnProperty("current"):e)?function(f){b.rc=f;return e.current=f}:function(f){return b.rc=f});b.cd=c;delete a.value;a.defaultValue=c;a.onChange=function(f){return Lj(b,d,f)};a.ref=b.Kc}}
var Nj=new v(null,4,[Sh,"ReagentInput",wh,Kj,ai,function(a){return a.pc=null},yh,function(a,b,c,d,e){Mj(c);return Yi(e,a,b,c,d)}],null);var Oj={},Pj,Qj=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,Rj={"class":"className","for":"htmlFor",charset:"charSet"};function Sj(a,b){return a.hasOwnProperty(b)?ia(a,b):null}function Tj(a,b,c){if(Gi(b)){var d=Sj(Rj,X(b));null==d?(d=Ei(b),b=X(b),b=Rj[b]=d):b=d}c=Uj.j?Uj.j(c):Uj.call(null,c);a[b]=c;return a}
function Uj(a){return"object"!==t(a)?a:Gi(a)?X(a):$c(a)?od(Tj,{},a):Wc(a)?sg(a):gd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return Od(a,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}():sg(a)}var Vj={};function Wj(a,b,c){if(Gi(b)){var d=Sj(Vj,X(b));null==d?(d=Ei(b),b=X(b),b=Vj[b]=d):b=d}c=Uj(c);a[b]=c;return a}
function Xj(a){return"object"!==t(a)?a:Gi(a)?X(a):$c(a)?od(Wj,{},a):Wc(a)?sg(a):gd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return Od(a,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}():sg(a)}
function Yj(a,b,c,d,e){switch(R(b)-e){case 0:return ti.createElement(c,d);case 1:return ti.createElement(c,d,Xi(a,V(b,e,null)));default:return ti.createElement.apply(null,od(function(f,h,k){h>=e&&f.push(Xi(a,k));return f},[c,d],b))}}function Zj(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.ed=d}function ak(a,b,c){var d=ia(a,Vi(c));null==d?sj(a)?a=Cj(c,a,a):(d=Tc(a),d=W.D(d,yh,a),d=Bj(d,c),a=Cj(c,a,d)):a=d;c={};c.argv=b;b=Ki(b);null!=b&&(c.key=b);return ti.createElement(a,c)}
function bk(a,b,c,d){var e={};e.ib=a;var f=R(b);c=Pe(null,b,c|0,f|0,null);e.argv=c;b=Ki(b);null!=b&&(e.key=b);return ti.createElement(Gj(d,a),e)}function ck(a,b,c){var d;if(d=Pc(a))d=null==a?null:a.prototype,d=null!=(null==d?null:d.render);return d?ak(a,b,c):bk(a,b,1,c)}var dk={};function ek(a,b){a=Sj(dk,b);if(null==a){var c=O(Xf(Qj,X(b)));a=V(c,0,null);var d=V(c,1,null);c=V(c,2,null);c=null==c?null:wi(c,/\./," ");var e=a.indexOf("-");e=!P.B(-1,e);a=new Zj(a,d,c,e);return dk[b]=a}return a}
function fk(a,b,c,d){var e=a.tag,f=V(b,c,null),h=null==f||$c(f),k=function(){var n=h?f:null;var p=fh.j(n);p=x(p)?W.D(n,fh,Hi.j(p)):n;var q=a.id;n=a.className;q=null!=q&&null==Zh.j(p)?W.D(p,Zh,q):p;if(x(n)){var r=W.D,w=Hi.B,z=fh.j(p);p=x(z)?z:di.j(p);n=r.call(W,q,fh,w.call(Hi,n,p))}else n=q;n=x(a.ed)?Xj(n):Uj(n);return x(n)?n:{}}();c+=h?1:0;a:switch(e){case "input":case "textarea":var l=!0;break a;default:l=!1}if(l){l=Ji(f);var m=function(){var n=d.od;if(x(n))return n;n=Bj(Nj,d);return d.od=n}();return Xi(d,
Sc(new Y(null,6,5,Z,[m,b,e,k,c,d],null),Of.K(Ic([x(l)?new v(null,1,[Eh,l],null):null,Tc(b)]))))}l=Ji(Tc(b));null!=l&&(k.key=l);return Yi(d,b,e,k,c)}function gk(a,b){return Fa(de.B(function(c){return Xi(b,c)},a))}
function hk(a,b,c){null==b&&console.error("vec-to-elem",ig(Ic([a])));var d=V(a,0,null);switch(d instanceof I?d.Ra:null){case "\x3e":return c=V(a,1,null),fk(new Zj(c,null,null,null),a,2,b);case "r\x3e":c=V(a,1,null);d=V(a,2,null);d=x(d)?d:{};var e=Ji(Tc(a));null!=e&&(d.key=e);return Yi(b,a,c,d,3);case "f\x3e":return bk(V(a,1,null),a,2,b);case "\x3c\x3e":return d=V(a,1,null),c=null==d||$c(d),d=Uj(c?d:null),d=x(d)?d:{},c=1+(c?1:0),e=Ki(a),null!=e&&(d.key=e),Yi(b,a,ti.Fragment,d,c);default:if(Gi(d)||
"string"===typeof d)a:for(;;)switch(c=V(a,0,null),d=X(c),e=d.indexOf("\x3e"),e){case -1:b=fk(Wi(b,d,c),a,1,b);break a;case 0:b=null;break a;default:a=Sc(new Y(null,2,5,Z,[d.substring(0,e),W.D(Sc(a,null),0,d.substring(e+1))],null),Tc(a))}else b=c.D?c.D(d,a,b):c.call(null,d,a,b);return b}}
var ik=function(a){var b=og("reagent-compiler"),c=x(Ah.j(a))?ck:ak,d=H.D(a,ii,ek);if("undefined"===typeof zi||"undefined"===typeof Ai||"undefined"===typeof Oj||"undefined"===typeof Pj)Pj=function(e,f,h,k,l){this.ld=e;this.id=f;this.Dc=h;this.$b=k;this.jd=l;this.F=393216;this.P=0},Pj.prototype.ka=function(e,f){return new Pj(this.ld,this.id,this.Dc,this.$b,f)},Pj.prototype.ha=function(){return this.jd},Pj.prototype.nd=function(){return this.id},Pj.prototype.Jc=function(e,f,h){return this.$b.D?this.$b.D(this,
f,h):this.$b.call(null,this,f,h)},Pj.prototype.Hc=function(e,f){e=this.Dc;return"object"!==t(f)?f:bd(f)?hk(f,this,e):(null==f?0:null!=f?f.F&64||u===f.ub||(f.F?0:y(Ua,f)):y(Ua,f))?gk(f,this):Gi(f)?X(f):(null!=f?f.F&2147483648||u===f.na||(f.F?0:y(Cb,f)):y(Cb,f))?ig(Ic([f])):f},Pj.prototype.Ic=function(e,f,h,k,l){return Yj(this,f,h,k,l)},Pj.Ib=!0,Pj.nb="reagent.impl.template/t_reagent$impl$template26405",Pj.Ub=function(e){return G(e,"reagent.impl.template/t_reagent$impl$template26405")};return new Pj(a,
b,c,d,Td)}(Td);var jk=si(9,{});function kk(a){a=ia(a,"comp");ti.useEffect(function(){var c=Ii;Ii=!1;try{Ti.flush_after_render()}finally{Ii=c}});var b=Ii;Ii=!0;try{return a.O?a.O():a.call(null)}finally{Ii=b}}function lk(){var a=new Y(null,1,5,Z,[mk],null);nk.render(ti.createElement(kk,{comp:function(){return Xi(ik,a)}}))};var ok=si(84,{});function pk(a,b){this.Ec=a;this.Mc=b}pk.prototype.getKey=function(){return this.Ec};pk.prototype.getValue=function(){return this.Mc};pk.prototype.clone=function(){return new pk(this.Ec,this.Mc)};function qk(a){this.Xa=[];if(a)a:{if(a instanceof qk){var b=a.Xa;for(var c=[],d=b.length,e=0;e<d;e++)c.push(b[e].getKey());b=c;a=a.Xa;c=[];d=a.length;for(e=0;e<d;e++)c.push(a[e].getValue());a=c;if(0>=this.Xa.length){c=this.Xa;for(d=0;d<b.length;d++)c.push(new pk(b[d],a[d]));break a}}else{b=ha(a);c=[];d=0;for(e in a)c[d++]=a[e];a=c}for(d=0;d<b.length;d++)this.insert(b[d],a[d])}}g=qk.prototype;
g.insert=function(a,b){var c=this.Xa;c.push(new pk(a,b));a=c.length-1;b=this.Xa;for(c=b[a];0<a;){var d=a-1>>1;if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};g.remove=function(){var a=this.Xa,b=a.length,c=a[0];if(!(0>=b)){if(1==b)la(a);else{a[0]=a.pop();a=0;b=this.Xa;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};g.peek=function(){var a=this.Xa;if(0!=a.length)return a[0].getValue()};
g.clone=function(){return new qk(this)};g.isEmpty=function(){return 0===this.Xa.length};g.clear=function(){la(this.Xa)};function rk(){qk.call(this)}fa(rk,qk);rk.prototype.enqueue=function(a,b){this.insert(a,b)};rk.prototype.dequeue=function(){return this.remove()};function sk(a){--a;return 0<a?a:0}function tk(a){a=Sd(a);var b=H.B(a,Pg);return H.B(a,Wg)*Math.sqrt(-2*Math.log(1-Math.random()))*Math.cos(2*Math.PI*Math.random())+b}var Kg=function(){var a=new ae(Td),b=new ae(Td),c=new ae(Td),d=new ae(Td),e=H.D(Td,Bh,vg.O?vg.O():vg.call(null));return new Gg(hc.B("net.thewagner.skiers.core","handle-event"),function(f,h){return Ph.j(h)},e,a,b,c,d)}();Jg(Hg,function(a){return a});Jg(rh,function(a){return je(je(a,Dh,sk),Nh,tc)});
Jg(Mg,function(a,b){a=Sd(a);var c=H.B(a,ki),d=H.B(a,Uh);b=Sd(b);b=H.B(b,Jh);c=d/tk(c);return ke(je(je(a,hi,sk),Dh,tc),gi,Jc,new v(null,2,[Ph,rh,Jh,b+c],null))});Jg(vh,function(a,b){var c=Sd(a),d=H.B(c,Gh),e=H.B(c,bi);a=H.B(c,fi);b=Sd(b);b=H.B(b,Jh);var f=Nh.j(c);e=0>f?0:0<=f&&f<=e?f:e<f?e:null;c=ke(ke(c,Nh,sd,e),hi,rd,e);d=new v(null,2,[Ph,Mg,Jh,b+tk(d)],null);return ke(ke(c,gi,ie,ee(e,new he(null,-1,d,null))),gi,Jc,new v(null,2,[Ph,vh,Jh,b+a],null))});var uk;
a:for(var vk=[Uh,hi,Gh,gi,Dh,fi,xh,ki,bi,Jh,Nh],wk=[3E3,0,new v(null,2,[Pg,300,Wg,30],null),new Y(null,1,5,Z,[new v(null,2,[Ph,vh,Jh,0],null)],null),0,7,1E4,new v(null,3,[Pg,5,Wg,1,Yh,"m/s"],null),4,0,25],xk=vk.length,yk=0,zk=Hb(ef);;)if(yk<xk){if(wk.length<=yk)throw Error(["No value supplied for key: ",B.j(vk[yk])].join(""));var Ak=yk+1,Bk=Kb(zk,vk[yk],wk[yk]);yk=Ak;zk=Bk}else{uk=Jb(zk);break a};var Ck=new v(null,6,[$h,"https://vega.github.io/schema/vega-lite/v5.json",gh,"A simple bar chart with embedded data.",Ug,new v(null,1,[oh,ci],null),bh,new Y(null,1,5,Z,[new v(null,2,[Qg,new Y(null,3,5,Z,[Dh,Nh,hi],null),mh,new Y(null,2,5,Z,["state","number-of-skiers"],null)],null)],null),Oh,"line",zh,new v(null,3,[Ih,new v(null,4,[ch,Jh,ji,"quantitative",hh,"time",Lh,new v(null,1,[Fh,!1],null)],null),Hh,new v(null,3,[ch,"number-of-skiers",ji,"quantitative",hh,"Number of skiers"],null),kh,new v(null,
1,[ch,"state"],null)],null)],null),Dk=new v(null,6,[$h,"https://vega.github.io/schema/vega-lite/v5.json",gh,"A simple bar chart with embedded data.",Ug,new v(null,1,[oh,ci],null),bh,new Y(null,1,5,Z,[new v(null,2,[Qg,new Y(null,3,5,Z,[Dh,Nh,hi],null),mh,new Y(null,2,5,Z,["state","number-of-skiers"],null)],null)],null),Oh,"bar",zh,new v(null,3,[Ih,new v(null,4,[ch,Jh,ji,"quantitative",hh,"time",Lh,new v(null,1,[Fh,!1],null)],null),Hh,new v(null,4,[ch,"number-of-skiers",ji,"quantitative",lh,"normalize",
hh,"Percentage of skiers"],null),kh,new v(null,1,[ch,"state"],null)],null)],null),Ek=ij.j(new v(null,1,[ci,new Y(null,1,5,Z,[uk],null)],null)),Fk=ij.j(new v(null,1,[eh,!0],null));
function Gk(){return ce.B(Ek,function(a){var b=W.D,c=Jc.B,d=ci.j(a),e;a:for(e=ci.j(a);;){var f=O(e);if(null!=f)e=f;else{e=N(e);break a}}a:{f=e;e=Kg;var h=gi.j(f),k=new rk;h=J(h);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ea(null,n);k.enqueue(Jh.j(p),p);n+=1}else if(h=J(h))l=h,cd(l)?(h=Mb(l),n=Nb(l),l=h,m=R(h),h=n):(h=N(l),k.enqueue(Jh.j(h),h),h=O(l),l=null,m=0),n=0;else break;h=k.dequeue();if(x(h)){m=l=W.D;b:for(n=Kc;;){if(x(k.isEmpty()))break b;p=k.dequeue();n=Jc.B(n,p)}f=m.call(W,f,gi,n);e=e.B?e.B(f,
h):e.call(null,f,h);e=l.call(W,e,Jh,h.j?h.j(Jh):h.call(null,Jh))}else e=f;d=c.call(Jc,d,e);c=J(d);for(d=J(fe(200,d));;)if(d)c=O(c),d=O(d);else break a}return b.call(W,a,ci,He(c))})}function Hk(){return x(eh.j(F(Fk)))?new Y(null,3,5,Z,[Lg,new v(null,1,[ih,function(){return ce.T(Fk,W,eh,!1)}],null),"Pause"],null):new Y(null,3,5,Z,[Lg,new v(null,1,[ih,function(){return ce.T(Fk,W,eh,!0)}],null),"Resume"],null)}
function Ik(){return new Y(null,3,5,Z,[Th,new v(null,2,[ji,"reset",ih,function(){be(Ek,new v(null,1,[ci,new Y(null,1,5,Z,[uk],null)],null));return be(Fk,new v(null,1,[eh,!0],null))}],null),"Restart"],null)}
function mk(){x(eh.j(F(Fk)))&&setTimeout(function(){return Gk()},100);return new Y(null,4,5,Z,[th,new Y(null,2,5,Z,[Vh,new Y(null,2,5,Z,[ei,"Skiers simulation"],null)],null),new Y(null,2,5,Z,[Vh,new Y(null,3,5,Z,[Ng,new Y(null,1,5,Z,[Hk],null),new Y(null,1,5,Z,[Ik],null)],null)],null),new Y(null,2,5,Z,[Vh,new Y(null,3,5,Z,[uh,new Y(null,2,5,Z,[Zg,new Y(null,3,5,Z,[dh,ok.VegaLite,new v(null,3,[Xg,Ck,Ug,F(Ek),$g,!1],null)],null)],null),new Y(null,2,5,Z,[Zg,new Y(null,3,5,Z,[dh,ok.VegaLite,new v(null,
3,[Xg,Dk,Ug,F(Ek),$g,!1],null)],null)],null)],null)],null)],null)}var Jk=jk.createRoot,Kk;Kk=document.getElementById("app");var nk=Jk.call(jk,Kk);try{lk()}catch(a){throw console.error("An error occurred when calling (net.thewagner.skiers.web/init)"),a;};
}).call(this);