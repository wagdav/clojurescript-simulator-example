var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&(c=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+c+"$"+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};
$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(f,g){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,e=function(f){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+d++,f)};return e},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.polyfill("Symbol.asyncIterator",function(a){return a?a:Symbol("Symbol.asyncIterator")},"es9","es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};
(function(){
shadow$provide[0]=function(Fb,pb,zc,Za){function u(){throw Error("setTimeout has not been defined");}function l(){throw Error("clearTimeout has not been defined");}function ja(Cb){if(yb===setTimeout)return setTimeout(Cb,0);if((yb===u||!yb)&&setTimeout)return yb=setTimeout,setTimeout(Cb,0);try{return yb(Cb,0)}catch(xb){try{return yb.call(null,Cb,0)}catch(nb){return yb.call(this,Cb,0)}}}function $a(Cb){if(ub===clearTimeout)return clearTimeout(Cb);if((ub===l||!ub)&&clearTimeout)return ub=clearTimeout,
clearTimeout(Cb);try{return ub(Cb)}catch(xb){try{return ub.call(null,Cb)}catch(nb){return ub.call(this,Cb)}}}function vb(){Yb&&Ba&&(Yb=!1,Ba.length?Lb=Ba.concat(Lb):bb=-1,Lb.length&&Xb())}function Xb(){if(!Yb){var Cb=ja(vb);Yb=!0;for(var xb=Lb.length;xb;){Ba=Lb;for(Lb=[];++bb<xb;)Ba&&Ba[bb].run();bb=-1;xb=Lb.length}Ba=null;Yb=!1;$a(Cb)}}function ec(Cb,xb){this.fun=Cb;this.array=xb}function Bb(){}Fb=zc.exports={};try{var yb="function"===typeof setTimeout?setTimeout:u}catch(Cb){yb=u}try{var ub="function"===
typeof clearTimeout?clearTimeout:l}catch(Cb){ub=l}var Lb=[],Yb=!1,Ba,bb=-1;Fb.nextTick=function(Cb){var xb=Array(arguments.length-1);if(1<arguments.length)for(var nb=1;nb<arguments.length;nb++)xb[nb-1]=arguments[nb];Lb.push(new ec(Cb,xb));1!==Lb.length||Yb||ja(Xb)};ec.prototype.run=function(){this.fun.apply(null,this.array)};Fb.title="browser";Fb.browser=!0;Fb.env={};Fb.argv=[];Fb.version="";Fb.versions={};Fb.on=Bb;Fb.addListener=Bb;Fb.once=Bb;Fb.off=Bb;Fb.removeListener=Bb;Fb.removeAllListeners=
Bb;Fb.emit=Bb;Fb.prependListener=Bb;Fb.prependOnceListener=Bb;Fb.listeners=function(Cb){return[]};Fb.binding=function(Cb){throw Error("process.binding is not supported");};Fb.cwd=function(){return"/"};Fb.chdir=function(Cb){throw Error("process.chdir is not supported");};Fb.umask=function(){return 0}};
shadow$provide[1]=function(Fb,pb,zc,Za){function u(Y){if(null===Y||"object"!==typeof Y)return null;Y=Xa&&Y[Xa]||Y["@@iterator"];return"function"===typeof Y?Y:null}function l(Y,Ca,ma){this.props=Y;this.context=Ca;this.refs=gb;this.updater=ma||Ka}function ja(){}function $a(Y,Ca,ma){this.props=Y;this.context=Ca;this.refs=gb;this.updater=ma||Ka}function vb(Y,Ca,ma,na,n,G){ma=G.ref;return{$$typeof:nb,type:Y,key:Ca,ref:void 0!==ma?ma:null,props:G}}function Xb(Y,Ca){return vb(Y.type,Ca,void 0,void 0,void 0,
Y.props)}function ec(Y){return"object"===typeof Y&&null!==Y&&Y.$$typeof===nb}function Bb(Y){var Ca={"\x3d":"\x3d0",":":"\x3d2"};return"$"+Y.replace(/[=:]/g,function(ma){return Ca[ma]})}function yb(Y,Ca){return"object"===typeof Y&&null!==Y&&null!=Y.key?Bb(""+Y.key):Ca.toString(36)}function ub(){}function Lb(Y){switch(Y.status){case "fulfilled":return Y.value;case "rejected":throw Y.reason;default:switch("string"===typeof Y.status?Y.then(ub,ub):(Y.status="pending",Y.then(function(Ca){"pending"===Y.status&&
(Y.status="fulfilled",Y.value=Ca)},function(Ca){"pending"===Y.status&&(Y.status="rejected",Y.reason=Ca)})),Y.status){case "fulfilled":return Y.value;case "rejected":throw Y.reason;}}throw Y;}function Yb(Y,Ca,ma,na,n){var G=typeof Y;if("undefined"===G||"boolean"===G)Y=null;var M=!1;if(null===Y)M=!0;else switch(G){case "bigint":case "string":case "number":M=!0;break;case "object":switch(Y.$$typeof){case nb:case Db:M=!0;break;case Ua:return M=Y._init,Yb(M(Y._payload),Ca,ma,na,n)}}if(M)return n=n(Y),
M=""===na?"."+yb(Y,0):na,Ub(n)?(ma="",null!=M&&(ma=M.replace(ea,"$\x26/")+"/"),Yb(n,Ca,ma,"",function(D){return D})):null!=n&&(ec(n)&&(n=Xb(n,ma+(null==n.key||Y&&Y.key===n.key?"":(""+n.key).replace(ea,"$\x26/")+"/")+M)),Ca.push(n)),1;M=0;var y=""===na?".":na+":";if(Ub(Y))for(var T=0;T<Y.length;T++)na=Y[T],G=y+yb(na,T),M+=Yb(na,Ca,ma,G,n);else if(T=u(Y),"function"===typeof T)for(Y=T.call(Y),T=0;!(na=Y.next()).done;)na=na.value,G=y+yb(na,T++),M+=Yb(na,Ca,ma,G,n);else if("object"===G){if("function"===
typeof Y.then)return Yb(Lb(Y),Ca,ma,na,n);Ca=String(Y);throw Error("Objects are not valid as a React child (found: "+("[object Object]"===Ca?"object with keys {"+Object.keys(Y).join(", ")+"}":Ca)+"). If you meant to render a collection of children, use an array instead.");}return M}function Ba(Y,Ca,ma){if(null==Y)return Y;var na=[],n=0;Yb(Y,na,"","",function(G){return Ca.call(ma,G,n++)});return na}function bb(Y){if(-1===Y._status){var Ca=Y._result;Ca=Ca();Ca.then(function(ma){if(0===Y._status||-1===
Y._status)Y._status=1,Y._result=ma},function(ma){if(0===Y._status||-1===Y._status)Y._status=2,Y._result=ma});-1===Y._status&&(Y._status=0,Y._result=Ca)}if(1===Y._status)return Y._result.default;throw Y._result;}function Cb(){}var xb=pb(0);"use strict";var nb=Symbol.for("react.transitional.element"),Db=Symbol.for("react.portal");Fb=Symbol.for("react.fragment");pb=Symbol.for("react.strict_mode");zc=Symbol.for("react.profiler");var lb=Symbol.for("react.consumer"),lc=Symbol.for("react.context"),ua=Symbol.for("react.forward_ref"),
ha=Symbol.for("react.suspense"),xa=Symbol.for("react.memo"),Ua=Symbol.for("react.lazy"),Xa=Symbol.iterator,Ka={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jb=Object.assign,gb={};l.prototype.isReactComponent={};l.prototype.setState=function(Y,Ca){if("object"!==typeof Y&&"function"!==typeof Y&&null!=Y)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");
this.updater.enqueueSetState(this,Y,Ca,"setState")};l.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};ja.prototype=l.prototype;var wb=$a.prototype=new ja;wb.constructor=$a;jb(wb,l.prototype);wb.isPureReactComponent=!0;var Ub=Array.isArray,Na={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty,ea=/\/+/g,Ha="function"===typeof reportError?reportError:function(Y){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var Ca=new window.ErrorEvent("error",
{bubbles:!0,cancelable:!0,message:"object"===typeof Y&&null!==Y&&"string"===typeof Y.message?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(Ca))return}else if("object"===typeof xb&&"function"===typeof xb.emit){xb.emit("uncaughtException",Y);return}console.error(Y)};Za.Children={map:Ba,forEach:function(Y,Ca,ma){Ba(Y,function(){Ca.apply(this,arguments)},ma)},count:function(Y){var Ca=0;Ba(Y,function(){Ca++});return Ca},toArray:function(Y){return Ba(Y,function(Ca){return Ca})||[]},only:function(Y){if(!ec(Y))throw Error("React.Children.only expected to receive a single React element child.");
return Y}};Za.Component=l;Za.Fragment=Fb;Za.Profiler=zc;Za.PureComponent=$a;Za.StrictMode=pb;Za.Suspense=ha;Za.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Na;Za.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return Na.H.useMemoCache(Y)}};Za.cache=function(Y){return function(){return Y.apply(null,arguments)}};Za.cloneElement=function(Y,Ca,ma){if(null===Y||void 0===Y)throw Error("The argument must be a React element, but you passed "+Y+".");var na=jb({},Y.props),n=Y.key,G=void 0;
if(null!=Ca)for(M in void 0!==Ca.ref&&(G=void 0),void 0!==Ca.key&&(n=""+Ca.key),Ca)!U.call(Ca,M)||"key"===M||"__self"===M||"__source"===M||"ref"===M&&void 0===Ca.ref||(na[M]=Ca[M]);var M=arguments.length-2;if(1===M)na.children=ma;else if(1<M){for(var y=Array(M),T=0;T<M;T++)y[T]=arguments[T+2];na.children=y}return vb(Y.type,n,void 0,void 0,G,na)};Za.createContext=function(Y){Y={$$typeof:lc,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null};Y.Provider=Y;Y.Consumer={$$typeof:lb,
_context:Y};return Y};Za.createElement=function(Y,Ca,ma){var na,n={},G=null;if(null!=Ca)for(na in void 0!==Ca.key&&(G=""+Ca.key),Ca)U.call(Ca,na)&&"key"!==na&&"__self"!==na&&"__source"!==na&&(n[na]=Ca[na]);var M=arguments.length-2;if(1===M)n.children=ma;else if(1<M){for(var y=Array(M),T=0;T<M;T++)y[T]=arguments[T+2];n.children=y}if(Y&&Y.defaultProps)for(na in M=Y.defaultProps,M)void 0===n[na]&&(n[na]=M[na]);return vb(Y,G,void 0,void 0,null,n)};Za.createRef=function(){return{current:null}};Za.forwardRef=
function(Y){return{$$typeof:ua,render:Y}};Za.isValidElement=ec;Za.lazy=function(Y){return{$$typeof:Ua,_payload:{_status:-1,_result:Y},_init:bb}};Za.memo=function(Y,Ca){return{$$typeof:xa,type:Y,compare:void 0===Ca?null:Ca}};Za.startTransition=function(Y){var Ca=Na.T,ma={};Na.T=ma;try{var na=Y(),n=Na.S;null!==n&&n(ma,na);"object"===typeof na&&null!==na&&"function"===typeof na.then&&na.then(Cb,Ha)}catch(G){Ha(G)}finally{Na.T=Ca}};Za.unstable_useCacheRefresh=function(){return Na.H.useCacheRefresh()};
Za.use=function(Y){return Na.H.use(Y)};Za.useActionState=function(Y,Ca,ma){return Na.H.useActionState(Y,Ca,ma)};Za.useCallback=function(Y,Ca){return Na.H.useCallback(Y,Ca)};Za.useContext=function(Y){return Na.H.useContext(Y)};Za.useDebugValue=function(){};Za.useDeferredValue=function(Y,Ca){return Na.H.useDeferredValue(Y,Ca)};Za.useEffect=function(Y,Ca,ma){var na=Na.H;if("function"===typeof ma)throw Error("useEffect CRUD overload is not enabled in this build of React.");return na.useEffect(Y,Ca)};
Za.useId=function(){return Na.H.useId()};Za.useImperativeHandle=function(Y,Ca,ma){return Na.H.useImperativeHandle(Y,Ca,ma)};Za.useInsertionEffect=function(Y,Ca){return Na.H.useInsertionEffect(Y,Ca)};Za.useLayoutEffect=function(Y,Ca){return Na.H.useLayoutEffect(Y,Ca)};Za.useMemo=function(Y,Ca){return Na.H.useMemo(Y,Ca)};Za.useOptimistic=function(Y,Ca){return Na.H.useOptimistic(Y,Ca)};Za.useReducer=function(Y,Ca,ma){return Na.H.useReducer(Y,Ca,ma)};Za.useRef=function(Y){return Na.H.useRef(Y)};Za.useState=
function(Y){return Na.H.useState(Y)};Za.useSyncExternalStore=function(Y,Ca,ma){return Na.H.useSyncExternalStore(Y,Ca,ma)};Za.useTransition=function(){return Na.H.useTransition()};Za.version="19.1.1"};
shadow$provide[3]=function(Fb,pb,zc,Za){zc.exports=pb(1)};
shadow$provide[4]=function(Fb,pb,zc,Za){function u(Na,U){var ea=Na.length;Na.push(U);a:for(;0<ea;){var Ha=ea-1>>>1,Y=Na[Ha];if(0<$a(Y,U))Na[Ha]=U,Na[ea]=Y,ea=Ha;else break a}}function l(Na){return 0===Na.length?null:Na[0]}function ja(Na){if(0===Na.length)return null;var U=Na[0],ea=Na.pop();if(ea!==U){Na[0]=ea;var Ha=0,Y=Na.length,Ca=Y>>>1;a:for(;Ha<Ca;){var ma=2*(Ha+1)-1,na=Na[ma],n=ma+1,G=Na[n];if(0>$a(na,ea))n<Y&&0>$a(G,na)?(Na[Ha]=G,Na[n]=ea,Ha=n):(Na[Ha]=na,Na[ma]=ea,Ha=ma);else if(n<Y&&0>$a(G,
ea))Na[Ha]=G,Na[n]=ea,Ha=n;else break a}}return U}function $a(Na,U){var ea=Na.sortIndex-U.sortIndex;return 0!==ea?ea:Na.id-U.id}function vb(Na){for(var U=l(bb);null!==U;){if(null===U.callback)ja(bb);else if(U.startTime<=Na)ja(bb),U.sortIndex=U.expirationTime,u(Ba,U);else break;U=l(bb)}}function Xb(Na){lc=!1;vb(Na);if(!lb)if(null!==l(Ba))lb=!0,Xa||(Xa=!0,wb());else{var U=l(bb);null!==U&&yb(Xb,U.startTime-Na)}}function ec(){return ua?!0:Za.unstable_now()-gb<jb?!1:!0}function Bb(){ua=!1;if(Xa){var Na=
Za.unstable_now();gb=Na;var U=!0;try{a:{lb=!1;lc&&(lc=!1,xa(Ka),Ka=-1);Db=!0;var ea=nb;try{b:{vb(Na);for(xb=l(Ba);null!==xb&&!(xb.expirationTime>Na&&ec());){var Ha=xb.callback;if("function"===typeof Ha){xb.callback=null;nb=xb.priorityLevel;var Y=Ha(xb.expirationTime<=Na);Na=Za.unstable_now();if("function"===typeof Y){xb.callback=Y;vb(Na);U=!0;break b}xb===l(Ba)&&ja(Ba);vb(Na)}else ja(Ba);xb=l(Ba)}if(null!==xb)U=!0;else{var Ca=l(bb);null!==Ca&&yb(Xb,Ca.startTime-Na);U=!1}}break a}finally{xb=null,nb=
ea,Db=!1}U=void 0}}finally{U?wb():Xa=!1}}}function yb(Na,U){Ka=ha(function(){Na(Za.unstable_now())},U)}Za.unstable_now=void 0;if("object"===typeof performance&&"function"===typeof performance.now){var ub=performance;Za.unstable_now=function(){return ub.now()}}else{var Lb=Date,Yb=Lb.now();Za.unstable_now=function(){return Lb.now()-Yb}}var Ba=[],bb=[],Cb=1,xb=null,nb=3,Db=!1,lb=!1,lc=!1,ua=!1,ha="function"===typeof setTimeout?setTimeout:null,xa="function"===typeof clearTimeout?clearTimeout:null,Ua=
"undefined"!==typeof setImmediate?setImmediate:null,Xa=!1,Ka=-1,jb=5,gb=-1;if("function"===typeof Ua)var wb=function(){Ua(Bb)};else if("undefined"!==typeof MessageChannel){Fb=new MessageChannel;var Ub=Fb.port2;Fb.port1.onmessage=Bb;wb=function(){Ub.postMessage(null)}}else wb=function(){ha(Bb,0)};Za.unstable_IdlePriority=5;Za.unstable_ImmediatePriority=1;Za.unstable_LowPriority=4;Za.unstable_NormalPriority=3;Za.unstable_Profiling=null;Za.unstable_UserBlockingPriority=2;Za.unstable_cancelCallback=function(Na){Na.callback=
null};Za.unstable_forceFrameRate=function(Na){0>Na||125<Na?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):jb=0<Na?Math.floor(1E3/Na):5};Za.unstable_getCurrentPriorityLevel=function(){return nb};Za.unstable_next=function(Na){switch(nb){case 1:case 2:case 3:var U=3;break;default:U=nb}var ea=nb;nb=U;try{return Na()}finally{nb=ea}};Za.unstable_requestPaint=function(){ua=!0};Za.unstable_runWithPriority=function(Na,U){switch(Na){case 1:case 2:case 3:case 4:case 5:break;
default:Na=3}var ea=nb;nb=Na;try{return U()}finally{nb=ea}};Za.unstable_scheduleCallback=function(Na,U,ea){var Ha=Za.unstable_now();"object"===typeof ea&&null!==ea?(ea=ea.delay,ea="number"===typeof ea&&0<ea?Ha+ea:Ha):ea=Ha;switch(Na){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1E4;break;default:Y=5E3}Y=ea+Y;Na={id:Cb++,callback:U,priorityLevel:Na,startTime:ea,expirationTime:Y,sortIndex:-1};ea>Ha?(Na.sortIndex=ea,u(bb,Na),null===l(Ba)&&Na===l(bb)&&(lc?(xa(Ka),Ka=-1):
lc=!0,yb(Xb,ea-Ha))):(Na.sortIndex=Y,u(Ba,Na),lb||Db||(lb=!0,Xa||(Xa=!0,wb())));return Na};Za.unstable_shouldYield=ec;Za.unstable_wrapCallback=function(Na){var U=nb;return function(){var ea=nb;nb=U;try{return Na.apply(this,arguments)}finally{nb=ea}}}};
shadow$provide[6]=function(Fb,pb,zc,Za){zc.exports=pb(4)};
shadow$provide[7]=function(Fb,pb,zc,Za){function u(Bb){var yb="https://react.dev/errors/"+Bb;if(1<arguments.length){yb+="?args[]\x3d"+encodeURIComponent(arguments[1]);for(var ub=2;ub<arguments.length;ub++)yb+="\x26args[]\x3d"+encodeURIComponent(arguments[ub])}return"Minified React error #"+Bb+"; visit "+yb+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}function ja(Bb,yb,ub){var Lb=3<arguments.length&&void 0!==arguments[3]?
arguments[3]:null;return{$$typeof:Xb,key:null==Lb?null:""+Lb,children:Bb,containerInfo:yb,implementation:ub}}function $a(Bb,yb){if("font"===Bb)return"";if("string"===typeof yb)return"use-credentials"===yb?yb:""}Fb=pb(3);var vb={d:{f:l,r:function(){throw Error(u(522));},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},Xb=Symbol.for("react.portal"),ec=Fb.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;Za.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vb;Za.createPortal=
function(Bb,yb){var ub=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!yb||1!==yb.nodeType&&9!==yb.nodeType&&11!==yb.nodeType)throw Error(u(299));return ja(Bb,yb,null,ub)};Za.flushSync=function(Bb){var yb=ec.T,ub=vb.p;try{if(ec.T=null,vb.p=2,Bb)return Bb()}finally{ec.T=yb,vb.p=ub,vb.d.f()}};Za.preconnect=function(Bb,yb){"string"===typeof Bb&&(yb?(yb=yb.crossOrigin,yb="string"===typeof yb?"use-credentials"===yb?yb:"":void 0):yb=null,vb.d.C(Bb,yb))};Za.prefetchDNS=function(Bb){"string"===
typeof Bb&&vb.d.D(Bb)};Za.preinit=function(Bb,yb){if("string"===typeof Bb&&yb&&"string"===typeof yb.as){var ub=yb.as,Lb=$a(ub,yb.crossOrigin),Yb="string"===typeof yb.integrity?yb.integrity:void 0,Ba="string"===typeof yb.fetchPriority?yb.fetchPriority:void 0;"style"===ub?vb.d.S(Bb,"string"===typeof yb.precedence?yb.precedence:void 0,{crossOrigin:Lb,integrity:Yb,fetchPriority:Ba}):"script"===ub&&vb.d.X(Bb,{crossOrigin:Lb,integrity:Yb,fetchPriority:Ba,nonce:"string"===typeof yb.nonce?yb.nonce:void 0})}};
Za.preinitModule=function(Bb,yb){if("string"===typeof Bb)if("object"===typeof yb&&null!==yb){if(null==yb.as||"script"===yb.as){var ub=$a(yb.as,yb.crossOrigin);vb.d.M(Bb,{crossOrigin:ub,integrity:"string"===typeof yb.integrity?yb.integrity:void 0,nonce:"string"===typeof yb.nonce?yb.nonce:void 0})}}else null==yb&&vb.d.M(Bb)};Za.preload=function(Bb,yb){if("string"===typeof Bb&&"object"===typeof yb&&null!==yb&&"string"===typeof yb.as){var ub=yb.as,Lb=$a(ub,yb.crossOrigin);vb.d.L(Bb,ub,{crossOrigin:Lb,
integrity:"string"===typeof yb.integrity?yb.integrity:void 0,nonce:"string"===typeof yb.nonce?yb.nonce:void 0,type:"string"===typeof yb.type?yb.type:void 0,fetchPriority:"string"===typeof yb.fetchPriority?yb.fetchPriority:void 0,referrerPolicy:"string"===typeof yb.referrerPolicy?yb.referrerPolicy:void 0,imageSrcSet:"string"===typeof yb.imageSrcSet?yb.imageSrcSet:void 0,imageSizes:"string"===typeof yb.imageSizes?yb.imageSizes:void 0,media:"string"===typeof yb.media?yb.media:void 0})}};Za.preloadModule=
function(Bb,yb){if("string"===typeof Bb)if(yb){var ub=$a(yb.as,yb.crossOrigin);vb.d.m(Bb,{as:"string"===typeof yb.as&&"script"!==yb.as?yb.as:void 0,crossOrigin:ub,integrity:"string"===typeof yb.integrity?yb.integrity:void 0})}else vb.d.m(Bb)};Za.requestFormReset=function(Bb){vb.d.r(Bb)};Za.unstable_batchedUpdates=function(Bb,yb){return Bb(yb)};Za.useFormState=function(Bb,yb,ub){return ec.H.useFormState(Bb,yb,ub)};Za.useFormStatus=function(){return ec.H.useHostTransitionStatus()};Za.version="19.1.1"};
shadow$provide[9]=function(Fb,pb,zc,Za){function u(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(l){console.error(l)}}u();zc.exports=pb(7)};
shadow$provide[10]=function(Fb,pb,zc,Za){function u(b){var d="https://react.dev/errors/"+b;if(1<arguments.length){d+="?args[]\x3d"+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="\x26args[]\x3d"+encodeURIComponent(arguments[f])}return"Minified React error #"+b+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(b){return!(!b||1!==b.nodeType&&9!==b.nodeType&&11!==b.nodeType)}function ja(b){var d=
b,f=b;if(b.alternate)for(;d.return;)d=d.return;else{b=d;do d=b,0!==(d.flags&4098)&&(f=d.return),b=d.return;while(b)}return 3===d.tag?f:null}function $a(b){if(13===b.tag){var d=b.memoizedState;null===d&&(b=b.alternate,null!==b&&(d=b.memoizedState));if(null!==d)return d.dehydrated}return null}function vb(b){if(ja(b)!==b)throw Error(u(188));}function Xb(b){var d=b.alternate;if(!d){d=ja(b);if(null===d)throw Error(u(188));return d!==b?null:b}for(var f=b,k=d;;){var v=f.return;if(null===v)break;var N=v.alternate;
if(null===N){k=v.return;if(null!==k){f=k;continue}break}if(v.child===N.child){for(N=v.child;N;){if(N===f)return vb(v),b;if(N===k)return vb(v),d;N=N.sibling}throw Error(u(188));}if(f.return!==k.return)f=v,k=N;else{for(var Ja=!1,hb=v.child;hb;){if(hb===f){Ja=!0;f=v;k=N;break}if(hb===k){Ja=!0;k=v;f=N;break}hb=hb.sibling}if(!Ja){for(hb=N.child;hb;){if(hb===f){Ja=!0;f=N;k=v;break}if(hb===k){Ja=!0;k=N;f=v;break}hb=hb.sibling}if(!Ja)throw Error(u(189));}}if(f.alternate!==k)throw Error(u(190));}if(3!==f.tag)throw Error(u(188));
return f.stateNode.current===f?b:d}function ec(b){var d=b.tag;if(5===d||26===d||27===d||6===d)return b;for(b=b.child;null!==b;){d=ec(b);if(null!==d)return d;b=b.sibling}return null}function Bb(b){if(null===b||"object"!==typeof b)return null;b=Hk&&b[Hk]||b["@@iterator"];return"function"===typeof b?b:null}function yb(b){if(null==b)return null;if("function"===typeof b)return b.$$typeof===jn?null:b.displayName||b.name||null;if("string"===typeof b)return b;switch(b){case nj:return"Fragment";case Ik:return"Profiler";
case Jk:return"StrictMode";case rl:return"Suspense";case oj:return"SuspenseList";case sl:return"Activity"}if("object"===typeof b)switch(b.$$typeof){case Bi:return"Portal";case ki:return(b.displayName||"Context")+".Provider";case ak:return(b._context.displayName||"Context")+".Consumer";case pj:var d=b.render;(b=b.displayName)||(b=d.displayName||d.name||"",b=""!==b?"ForwardRef("+b+")":"ForwardRef");return b;case tl:return d=b.displayName||null,null!==d?d:yb(b.type)||"Memo";case Ci:d=b._payload;b=b._init;
try{return yb(b(d))}catch(f){}}return null}function ub(b){return{current:b}}function Lb(b){0>eh||(b.current=Di[eh],Di[eh]=null,eh--)}function Yb(b,d){eh++;Di[eh]=b.current;b.current=d}function Ba(b,d){Yb(Kg,d);Yb(bk,b);Yb(Jh,null);switch(d.nodeType){case 9:case 11:b=(b=d.documentElement)?(b=b.namespaceURI)?lm(b):0:0;break;default:if(b=d.tagName,d=d.namespaceURI)d=lm(d),b=ul(d,b);else switch(b){case "svg":b=1;break;case "math":b=2;break;default:b=0}}Lb(Jh);Yb(Jh,b)}function bb(){Lb(Jh);Lb(bk);Lb(Kg)}
function Cb(b){null!==b.memoizedState&&Yb(Pi,b);var d=Jh.current,f=ul(d,b.type);d!==f&&(Yb(bk,b),Yb(Jh,f))}function xb(b){bk.current===b&&(Lb(Jh),Lb(bk));Pi.current===b&&(Lb(Pi),vl._currentValue=Qi)}function nb(b){"function"===typeof Kk&&mm(b);if(fh&&"function"===typeof fh.setStrictMode)try{fh.setStrictMode(ck,b)}catch(d){}}function Db(b){b>>>=0;return 0===b?32:31-(nm(b)/wl|0)|0}function lb(b){var d=b&42;if(0!==d)return d;switch(b&-b){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;
case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return b&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return b}}function lc(b,d,
f){var k=b.pendingLanes;if(0===k)return 0;var v=0,N=b.suspendedLanes,Ja=b.pingedLanes;b=b.warmLanes;var hb=k&134217727;0!==hb?(k=hb&~N,0!==k?v=lb(k):(Ja&=hb,0!==Ja?v=lb(Ja):f||(f=hb&~b,0!==f&&(v=lb(f))))):(hb=k&~N,0!==hb?v=lb(hb):0!==Ja?v=lb(Ja):f||(f=k&~b,0!==f&&(v=lb(f))));return 0===v?0:0!==d&&d!==v&&0===(d&N)&&(N=v&-v,f=d&-d,N>=f||32===N&&0!==(f&4194048))?d:v}function ua(b,d){return 0===(b.pendingLanes&~(b.suspendedLanes&~b.pingedLanes)&d)}function ha(b,d){switch(b){case 1:case 2:case 4:case 8:case 64:return d+
250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5E3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xa(){var b=Lk;Lk<<=1;0===(Lk&4194048)&&(Lk=256);return b}function Ua(){var b=Mk;Mk<<=1;0===(Mk&62914560)&&(Mk=4194304);return b}function Xa(b){for(var d=
[],f=0;31>f;f++)d.push(b);return d}function Ka(b,d){b.pendingLanes|=d;268435456!==d&&(b.suspendedLanes=0,b.pingedLanes=0,b.warmLanes=0)}function jb(b,d,f,k,v,N){var Ja=b.pendingLanes;b.pendingLanes=f;b.suspendedLanes=0;b.pingedLanes=0;b.warmLanes=0;b.expiredLanes&=f;b.entangledLanes&=f;b.errorRecoveryDisabledLanes&=f;b.shellSuspendCounter=0;var hb=b.entanglements,cc=b.expirationTimes,Ic=b.hiddenUpdates;for(f=Ja&~f;0<f;){var Xc=31-oh(f),cd=1<<Xc;hb[Xc]=0;cc[Xc]=-1;var Mc=Ic[Xc];if(null!==Mc)for(Ic[Xc]=
null,Xc=0;Xc<Mc.length;Xc++){var Nc=Mc[Xc];null!==Nc&&(Nc.lane&=-536870913)}f&=~cd}0!==k&&gb(b,k,0);0!==N&&0===v&&0!==b.tag&&(b.suspendedLanes|=N&~(Ja&~d))}function gb(b,d,f){b.pendingLanes|=d;b.suspendedLanes&=~d;var k=31-oh(d);b.entangledLanes|=d;b.entanglements[k]=b.entanglements[k]|1073741824|f&4194090}function wb(b,d){var f=b.entangledLanes|=d;for(b=b.entanglements;f;){var k=31-oh(f),v=1<<k;v&d|b[k]&d&&(b[k]|=d);f&=~v}}function Ub(b){switch(b){case 2:b=1;break;case 8:b=4;break;case 32:b=16;break;
case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:b=128;break;case 268435456:b=134217728;break;default:b=0}return b}function Na(b){b&=-b;return 2<b?8<b?0!==(b&134217727)?32:268435456:8:2}function U(){var b=ef.p;if(0!==b)return b;b=window.event;return void 0===b?32:om(b.type)}function ea(b,d){var f=ef.p;try{return ef.p=b,d()}finally{ef.p=f}}function Ha(b){delete b[Cg];
delete b[Tg];delete b[gh];delete b[Ri];delete b[kn]}function Y(b){var d=b[Cg];if(d)return d;for(var f=b.parentNode;f;){if(d=f[Ei]||f[Cg]){f=d.alternate;if(null!==d.child||null!==f&&null!==f.child)for(b=pm(b);null!==b;){if(f=b[Cg])return f;b=pm(b)}return d}b=f;f=b.parentNode}return null}function Ca(b){if(b=b[Cg]||b[Ei]){var d=b.tag;if(5===d||6===d||13===d||26===d||27===d||3===d)return b}return null}function ma(b){var d=b.tag;if(5===d||26===d||27===d||6===d)return b.stateNode;throw Error(u(33));}function na(b){var d=
b[qm];d||(d=b[qm]={hoistableStyles:new Map,hoistableScripts:new Map});return d}function n(b){b[Kh]=!0}function G(b,d){M(b,d);M(b+"Capture",d)}function M(b,d){rm[b]=d;for(b=0;b<d.length;b++)sm.add(d[b])}function y(b){if(Nk.call(dk,b))return!0;if(Nk.call(xl,b))return!1;if(Ug.test(b))return dk[b]=!0;xl[b]=!0;return!1}function T(b,d,f){if(y(d))if(null===f)b.removeAttribute(d);else{switch(typeof f){case "undefined":case "function":case "symbol":b.removeAttribute(d);return;case "boolean":var k=d.toLowerCase().slice(0,
5);if("data-"!==k&&"aria-"!==k){b.removeAttribute(d);return}}b.setAttribute(d,""+f)}}function D(b,d,f){if(null===f)b.removeAttribute(d);else{switch(typeof f){case "undefined":case "function":case "symbol":case "boolean":b.removeAttribute(d);return}b.setAttribute(d,""+f)}}function A(b,d,f,k){if(null===k)b.removeAttribute(f);else{switch(typeof k){case "undefined":case "function":case "symbol":case "boolean":b.removeAttribute(f);return}b.setAttributeNS(d,f,""+k)}}function P(b){if(void 0===qj)try{throw Error();
}catch(f){var d=f.stack.trim().match(/\n( *(at )?)/);qj=d&&d[1]||"";tm=-1<f.stack.indexOf("\n    at")?" (\x3canonymous\x3e)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+qj+b+tm}function B(b,d){if(!b||rj)return"";rj=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var k={DetermineComponentFrameRoot:function(){try{if(d){var cd=function(){throw Error();};Object.defineProperty(cd.prototype,"props",{set:function(){throw Error();}});if("object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(cd,
[])}catch(Nc){var Mc=Nc}Reflect.construct(b,[],cd)}else{try{cd.call()}catch(Nc){Mc=Nc}b.call(cd.prototype)}}else{try{throw Error();}catch(Nc){Mc=Nc}(cd=b())&&"function"===typeof cd.catch&&cd.catch(function(){})}}catch(Nc){if(Nc&&Mc&&"string"===typeof Nc.stack)return[Nc.stack,Mc.stack]}return[null,null]}};k.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(k.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(k.DetermineComponentFrameRoot,
"name",{value:"DetermineComponentFrameRoot"});var N=k.DetermineComponentFrameRoot(),Ja=N[0],hb=N[1];if(Ja&&hb){var cc=Ja.split("\n"),Ic=hb.split("\n");for(v=k=0;k<cc.length&&!cc[k].includes("DetermineComponentFrameRoot");)k++;for(;v<Ic.length&&!Ic[v].includes("DetermineComponentFrameRoot");)v++;if(k===cc.length||v===Ic.length)for(k=cc.length-1,v=Ic.length-1;1<=k&&0<=v&&cc[k]!==Ic[v];)v--;for(;1<=k&&0<=v;k--,v--)if(cc[k]!==Ic[v]){if(1!==k||1!==v){do if(k--,v--,0>v||cc[k]!==Ic[v]){var Xc="\n"+cc[k].replace(" at new ",
" at ");b.displayName&&Xc.includes("\x3canonymous\x3e")&&(Xc=Xc.replace("\x3canonymous\x3e",b.displayName));return Xc}while(1<=k&&0<=v)}break}}}finally{rj=!1,Error.prepareStackTrace=f}return(f=b?b.displayName||b.name:"")?P(f):""}function E(b){switch(b.tag){case 26:case 27:case 5:return P(b.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 15:return B(b.type,!1);case 11:return B(b.type.render,!1);case 1:return B(b.type,!0);case 31:return P("Activity");
default:return""}}function I(b){try{var d="";do d+=E(b),b=b.return;while(b);return d}catch(f){return"\nError generating stack: "+f.message+"\n"+f.stack}}function X(b){switch(typeof b){case "bigint":case "boolean":case "number":case "string":case "undefined":return b;case "object":return b;default:return""}}function Ea(b){var d=b.type;return(b=b.nodeName)&&"input"===b.toLowerCase()&&("checkbox"===d||"radio"===d)}function R(b){var d=Ea(b)?"checked":"value",f=Object.getOwnPropertyDescriptor(b.constructor.prototype,
d),k=""+b[d];if(!b.hasOwnProperty(d)&&"undefined"!==typeof f&&"function"===typeof f.get&&"function"===typeof f.set){var v=f.get,N=f.set;Object.defineProperty(b,d,{configurable:!0,get:function(){return v.call(this)},set:function(Ja){k=""+Ja;N.call(this,Ja)}});Object.defineProperty(b,d,{enumerable:f.enumerable});return{getValue:function(){return k},setValue:function(Ja){k=""+Ja},stopTracking:function(){b._valueTracker=null;delete b[d]}}}}function ia(b){b._valueTracker||(b._valueTracker=R(b))}function Aa(b){if(!b)return!1;
var d=b._valueTracker;if(!d)return!0;var f=d.getValue(),k="";b&&(k=Ea(b)?b.checked?"true":"false":b.value);b=k;return b!==f?(d.setValue(b),!0):!1}function Pa(b){b=b||("undefined"!==typeof document?document:void 0);if("undefined"===typeof b)return null;try{return b.activeElement||b.body}catch(d){return b.body}}function Ra(b){return b.replace(Ok,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function fb(b,d,f,k,v,N,Ja,hb){b.name="";null!=Ja&&"function"!==typeof Ja&&"symbol"!==typeof Ja&&
"boolean"!==typeof Ja?b.type=Ja:b.removeAttribute("type");if(null!=d)if("number"===Ja){if(0===d&&""===b.value||b.value!=d)b.value=""+X(d)}else b.value!==""+X(d)&&(b.value=""+X(d));else"submit"!==Ja&&"reset"!==Ja||b.removeAttribute("value");null!=d?kb(b,Ja,X(d)):null!=f?kb(b,Ja,X(f)):null!=k&&b.removeAttribute("value");null==v&&null!=N&&(b.defaultChecked=!!N);null!=v&&(b.checked=v&&"function"!==typeof v&&"symbol"!==typeof v);null!=hb&&"function"!==typeof hb&&"symbol"!==typeof hb&&"boolean"!==typeof hb?
b.name=""+X(hb):b.removeAttribute("name")}function zb(b,d,f,k,v,N,Ja,hb){null!=N&&"function"!==typeof N&&"symbol"!==typeof N&&"boolean"!==typeof N&&(b.type=N);if(null!=d||null!=f){if(!("submit"!==N&&"reset"!==N||void 0!==d&&null!==d))return;f=null!=f?""+X(f):"";d=null!=d?""+X(d):f;hb||d===b.value||(b.value=d);b.defaultValue=d}k=null!=k?k:v;k="function"!==typeof k&&"symbol"!==typeof k&&!!k;b.checked=hb?b.checked:!!k;b.defaultChecked=!!k;null!=Ja&&"function"!==typeof Ja&&"symbol"!==typeof Ja&&"boolean"!==
typeof Ja&&(b.name=Ja)}function kb(b,d,f){"number"===d&&Pa(b.ownerDocument)===b||b.defaultValue===""+f||(b.defaultValue=""+f)}function Vb(b,d,f,k){b=b.options;if(d){d={};for(var v=0;v<f.length;v++)d["$"+f[v]]=!0;for(f=0;f<b.length;f++)v=d.hasOwnProperty("$"+b[f].value),b[f].selected!==v&&(b[f].selected=v),v&&k&&(b[f].defaultSelected=!0)}else{f=""+X(f);d=null;for(v=0;v<b.length;v++){if(b[v].value===f){b[v].selected=!0;k&&(b[v].defaultSelected=!0);return}null!==d||b[v].disabled||(d=b[v])}null!==d&&
(d.selected=!0)}}function aa(b,d,f){null!=d&&(d=""+X(d),d!==b.value&&(b.value=d),null==f)?b.defaultValue!==d&&(b.defaultValue=d):b.defaultValue=null!=f?""+X(f):""}function Ga(b,d,f,k){if(null==d){if(null!=k){if(null!=f)throw Error(u(92));if(Si(k)){if(1<k.length)throw Error(u(93));k=k[0]}f=k}null==f&&(f="");d=f}f=X(d);b.defaultValue=f;k=b.textContent;k===f&&""!==k&&null!==k&&(b.value=k)}function Qb(b,d){if(d){var f=b.firstChild;if(f&&f===b.lastChild&&3===f.nodeType){f.nodeValue=d;return}}b.textContent=
d}function nc(b,d,f){var k=0===d.indexOf("--");null==f||"boolean"===typeof f||""===f?k?b.setProperty(d,""):"float"===d?b.cssFloat="":b[d]="":k?b.setProperty(d,f):"number"!==typeof f||0===f||ln.has(d)?"float"===d?b.cssFloat=f:b[d]=(""+f).trim():b[d]=f+"px"}function $b(b,d,f){if(null!=d&&"object"!==typeof d)throw Error(u(62));b=b.style;if(null!=f){for(var k in f)!f.hasOwnProperty(k)||null!=d&&d.hasOwnProperty(k)||(0===k.indexOf("--")?b.setProperty(k,""):"float"===k?b.cssFloat="":b[k]="");for(var v in d)k=
d[v],d.hasOwnProperty(v)&&f[v]!==k&&nc(b,v,k)}else for(var N in d)d.hasOwnProperty(N)&&nc(b,N,d[N])}function Ob(b){if(-1===b.indexOf("-"))return!1;switch(b){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;default:return!0}}function Nb(b){return um.test(""+b)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":b}function rc(b){b=
b.target||b.srcElement||window;b.correspondingUseElement&&(b=b.correspondingUseElement);return 3===b.nodeType?b.parentNode:b}function Sc(b){var d=Ca(b);if(d&&(b=d.stateNode)){var f=b[Tg]||null;a:switch(b=d.stateNode,d.type){case "input":fb(b,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name);d=f.name;if("radio"===f.type&&null!=d){for(f=b;f.parentNode;)f=f.parentNode;f=f.querySelectorAll('input[name\x3d"'+Ra(""+d)+'"][type\x3d"radio"]');for(d=0;d<f.length;d++){var k=f[d];
if(k!==b&&k.form===b.form){var v=k[Tg]||null;if(!v)throw Error(u(90));fb(k,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(d=0;d<f.length;d++)k=f[d],k.form===b.form&&Aa(k)}break a;case "textarea":aa(b,f.value,f.defaultValue);break a;case "select":d=f.value,null!=d&&Vb(b,!!f.multiple,d,!1)}}}function ra(b,d,f){if(ek)return b(d,f);ek=!0;try{return b(d)}finally{if(ek=!1,null!==sj||null!==Fi)if(Ti(),sj&&(d=sj,b=Fi,Fi=sj=null,Sc(d),b))for(d=0;d<b.length;d++)Sc(b[d])}}
function Gb(b,d){var f=b.stateNode;if(null===f)return null;var k=f[Tg]||null;if(null===k)return null;f=k[d];a:switch(d){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(k=!k.disabled)||(b=b.type,k=!("button"===b||"input"===b||"select"===b||"textarea"===b));b=!k;break a;default:b=!1}if(b)return null;if(f&&"function"!==
typeof f)throw Error(u(231,d,typeof f));return f}function Va(){if(Pk)return Pk;var b,d=Qk,f=d.length,k,v="value"in li?li.value:li.textContent,N=v.length;for(b=0;b<f&&d[b]===v[b];b++);var Ja=f-b;for(k=1;k<=Ja&&d[f-k]===v[N-k];k++);return Pk=v.slice(b,1<k?1-k:void 0)}function Ab(b){var d=b.keyCode;"charCode"in b?(b=b.charCode,0===b&&13===d&&(b=13)):b=d;10===b&&(b=13);return 32<=b||13===b?b:0}function Jb(){return!0}function Eb(){return!1}function Wb(b){function d(f,k,v,N,Ja){this._reactName=f;this._targetInst=
v;this.type=k;this.nativeEvent=N;this.target=Ja;this.currentTarget=null;for(var hb in b)b.hasOwnProperty(hb)&&(f=b[hb],this[hb]=f?f(N):N[hb]);this.isDefaultPrevented=(null!=N.defaultPrevented?N.defaultPrevented:!1===N.returnValue)?Jb:Eb;this.isPropagationStopped=Eb;return this}Hf(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():"unknown"!==typeof f.returnValue&&(f.returnValue=!1),this.isDefaultPrevented=Jb)},stopPropagation:function(){var f=
this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():"unknown"!==typeof f.cancelBubble&&(f.cancelBubble=!0),this.isPropagationStopped=Jb)},persist:function(){},isPersistent:Jb});return d}function ic(b){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(b):(b=vm[b])?!!d[b]:!1}function wc(){return ic}function Zc(b,d){switch(b){case "keyup":return-1!==mn.indexOf(d.keyCode);case "keydown":return 229!==d.keyCode;case "keypress":case "mousedown":case "focusout":return!0;default:return!1}}
function Pc(b){b=b.detail;return"object"===typeof b&&"data"in b?b.data:null}function oa(b,d){switch(b){case "compositionend":return Pc(d);case "keypress":if(32!==d.which)return null;wm=!0;return Rk;case "textInput":return b=d.data,b===Rk&&wm?null:b;default:return null}}function Ma(b,d){if(tj)return"compositionend"===b||!yl&&Zc(b,d)?(b=Va(),Pk=Qk=li=null,tj=!1,b):null;switch(b){case "paste":return null;case "keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;
if(d.which)return String.fromCharCode(d.which)}return null;case "compositionend":return xm&&"ko"!==d.locale?null:d.data;default:return null}}function ib(b){var d=b&&b.nodeName&&b.nodeName.toLowerCase();return"input"===d?!!nn[b.type]:"textarea"===d?!0:!1}function V(b,d,f,k){sj?Fi?Fi.push(k):Fi=[k]:sj=k;d=Lh(d,"onChange");0<d.length&&(f=new fk("onChange","change",null,f,k),b.push({event:f,listeners:d}))}function x(b){cg(b,0)}function da(b){var d=ma(b);if(Aa(d))return b}function ya(b,d){if("change"===
b)return d}function Ia(){gk&&(gk.detachEvent("onpropertychange",Wa),Ah=gk=null)}function Wa(b){if("value"===b.propertyName&&da(Ah)){var d=[];V(d,Ah,b,rc(b));ra(x,d)}}function qb(b,d,f){"focusin"===b?(Ia(),gk=d,Ah=f,gk.attachEvent("onpropertychange",Wa)):"focusout"===b&&Ia()}function Sb(b){if("selectionchange"===b||"keyup"===b||"keydown"===b)return da(Ah)}function Hb(b,d){if("click"===b)return da(d)}function Pb(b,d){if("input"===b||"change"===b)return da(d)}function uc(b,d){return b===d&&(0!==b||1/
b===1/d)||b!==b&&d!==d}function yc(b,d){if(jg(b,d))return!0;if("object"!==typeof b||null===b||"object"!==typeof d||null===d)return!1;var f=Object.keys(b),k=Object.keys(d);if(f.length!==k.length)return!1;for(k=0;k<f.length;k++){var v=f[k];if(!Nk.call(d,v)||!jg(b[v],d[v]))return!1}return!0}function Kc(b){for(;b&&b.firstChild;)b=b.firstChild;return b}function md(b,d){var f=Kc(b);b=0;for(var k;f;){if(3===f.nodeType){k=b+f.textContent.length;if(b<=d&&k>=d)return{node:f,offset:d-b};b=k}a:{for(;f;){if(f.nextSibling){f=
f.nextSibling;break a}f=f.parentNode}f=void 0}f=Kc(f)}}function fd(b,d){return b&&d?b===d?!0:b&&3===b.nodeType?!1:d&&3===d.nodeType?fd(b,d.parentNode):"contains"in b?b.contains(d):b.compareDocumentPosition?!!(b.compareDocumentPosition(d)&16):!1:!1}function Tc(b){b=null!=b&&null!=b.ownerDocument&&null!=b.ownerDocument.defaultView?b.ownerDocument.defaultView:window;for(var d=Pa(b.document);d instanceof b.HTMLIFrameElement;){try{var f="string"===typeof d.contentWindow.location.href}catch(k){f=!1}if(f)b=
d.contentWindow;else break;d=Pa(b.document)}return d}function ld(b){var d=b&&b.nodeName&&b.nodeName.toLowerCase();return d&&("input"===d&&("text"===b.type||"search"===b.type||"tel"===b.type||"url"===b.type||"password"===b.type)||"textarea"===d||"true"===b.contentEditable)}function nd(b,d,f){var k=f.window===f?f.document:9===f.nodeType?f:f.ownerDocument;zl||null==hh||hh!==Pa(k)||(k=hh,"selectionStart"in k&&ld(k)?k={start:k.selectionStart,end:k.selectionEnd}:(k=(k.ownerDocument&&k.ownerDocument.defaultView||
window).getSelection(),k={anchorNode:k.anchorNode,anchorOffset:k.anchorOffset,focusNode:k.focusNode,focusOffset:k.focusOffset}),hk&&yc(hk,k)||(hk=k,k=Lh(Al,"onSelect"),0<k.length&&(d=new fk("onSelect","select",null,d,f),b.push({event:d,listeners:k}),d.target=hh)))}function dd(b,d){var f={};f[b.toLowerCase()]=d.toLowerCase();f["Webkit"+b]="webkit"+d;f["Moz"+b]="moz"+d;return f}function Wd(b){if(Sk[b])return Sk[b];if(!Ui[b])return b;var d=Ui[b],f;for(f in d)if(d.hasOwnProperty(f)&&f in Bl)return Sk[b]=
d[f];return b}function gd(b,d){ym.set(b,d);G(d,[b])}function z(b,d){if("object"===typeof b&&null!==b){var f=Cl.get(b);if(void 0!==f)return f;d={value:b,source:d,stack:I(d)};Cl.set(b,d);return d}return{value:b,source:d,stack:I(d)}}function J(){for(var b=Vi,d=Tk=Vi=0;d<b;){var f=Bh[d];Bh[d++]=null;var k=Bh[d];Bh[d++]=null;var v=Bh[d];Bh[d++]=null;var N=Bh[d];Bh[d++]=null;if(null!==k&&null!==v){var Ja=k.pending;null===Ja?v.next=v:(v.next=Ja.next,Ja.next=v);k.pending=v}0!==N&&ca(f,v,N)}}function va(b,
d,f,k){Bh[Vi++]=b;Bh[Vi++]=d;Bh[Vi++]=f;Bh[Vi++]=k;Tk|=k;b.lanes|=k;b=b.alternate;null!==b&&(b.lanes|=k)}function w(b,d,f,k){va(b,d,f,k);return wa(b)}function Q(b,d){va(b,null,null,d);return wa(b)}function ca(b,d,f){b.lanes|=f;var k=b.alternate;null!==k&&(k.lanes|=f);for(var v=!1,N=b.return;null!==N;)N.childLanes|=f,k=N.alternate,null!==k&&(k.childLanes|=f),22===N.tag&&(b=N.stateNode,null===b||b._visibility&1||(v=!0)),b=N,N=N.return;return 3===b.tag?(N=b.stateNode,v&&null!==d&&(v=31-oh(f),b=N.hiddenUpdates,
k=b[v],null===k?b[v]=[d]:k.push(d),d.lane=f|536870912),N):null}function wa(b){if(50<Dl)throw Dl=0,on=null,Error(u(185));for(var d=b.return;null!==d;)b=d,d=b.return;return 3===b.tag?b.stateNode:null}function pa(b,d,f,k){this.tag=b;this.key=f;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.refCleanup=this.ref=null;this.pendingProps=d;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=k;this.subtreeFlags=this.flags=
0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function Ya(b,d,f,k){return new pa(b,d,f,k)}function Tb(b){b=b.prototype;return!(!b||!b.isReactComponent)}function Zb(b,d){var f=b.alternate;null===f?(f=Ya(b.tag,d,b.key,b.mode),f.elementType=b.elementType,f.type=b.type,f.stateNode=b.stateNode,f.alternate=b,b.alternate=f):(f.pendingProps=d,f.type=b.type,f.flags=0,f.subtreeFlags=0,f.deletions=null);f.flags=b.flags&65011712;f.childLanes=b.childLanes;f.lanes=b.lanes;f.child=b.child;
f.memoizedProps=b.memoizedProps;f.memoizedState=b.memoizedState;f.updateQueue=b.updateQueue;d=b.dependencies;f.dependencies=null===d?null:{lanes:d.lanes,firstContext:d.firstContext};f.sibling=b.sibling;f.index=b.index;f.ref=b.ref;f.refCleanup=b.refCleanup;return f}function jc(b,d){b.flags&=65011714;var f=b.alternate;null===f?(b.childLanes=0,b.lanes=d,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=f.childLanes,
b.lanes=f.lanes,b.child=f.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=f.memoizedProps,b.memoizedState=f.memoizedState,b.updateQueue=f.updateQueue,b.type=f.type,d=f.dependencies,b.dependencies=null===d?null:{lanes:d.lanes,firstContext:d.firstContext});return b}function Cc(b,d,f,k,v,N){var Ja=0;k=b;if("function"===typeof b)Tb(b)&&(Ja=1);else if("string"===typeof b)Ja=pn(b,f,Jh.current)?26:"html"===b||"head"===b||"body"===b?27:5;else a:switch(b){case sl:return b=Ya(31,f,d,v),b.elementType=
sl,b.lanes=N,b;case nj:return Oc(f.children,v,N,d);case Jk:Ja=8;v|=24;break;case Ik:return b=Ya(12,f,d,v|2),b.elementType=Ik,b.lanes=N,b;case rl:return b=Ya(13,f,d,v),b.elementType=rl,b.lanes=N,b;case oj:return b=Ya(19,f,d,v),b.elementType=oj,b.lanes=N,b;default:if("object"===typeof b&&null!==b)switch(b.$$typeof){case Ch:case ki:Ja=10;break a;case ak:Ja=9;break a;case pj:Ja=11;break a;case tl:Ja=14;break a;case Ci:Ja=16;k=null;break a}Ja=29;f=Error(u(130,null===b?"null":typeof b,""));k=null}d=Ya(Ja,
f,d,v);d.elementType=b;d.type=k;d.lanes=N;return d}function Oc(b,d,f,k){b=Ya(7,b,k,d);b.lanes=f;return b}function Rc(b,d,f){b=Ya(6,b,null,d);b.lanes=f;return b}function od(b,d,f){d=Ya(4,null!==b.children?b.children:[],b.key,d);d.lanes=f;d.stateNode={containerInfo:b.containerInfo,pendingChildren:null,implementation:b.implementation};return d}function sd(b,d){Wi[ih++]=mi;Wi[ih++]=ph;ph=b;mi=d}function zd(b,d,f){If[Dg++]=Dh;If[Dg++]=Vg;If[Dg++]=$h;$h=b;var k=Dh;b=Vg;var v=32-oh(k)-1;k&=~(1<<v);f+=1;
var N=32-oh(d)+v;if(30<N){var Ja=v-v%5;N=(k&(1<<Ja)-1).toString(32);k>>=Ja;v-=Ja;Dh=1<<32-oh(d)+v|f<<v|k;Vg=N+b}else Dh=1<<N|f<<v|k,Vg=b}function Zd(b){null!==b.return&&(sd(b,1),zd(b,1,0))}function Kd(b){for(;b===ph;)ph=Wi[--ih],Wi[ih]=null,mi=Wi[--ih],Wi[ih]=null;for(;b===$h;)$h=If[--Dg],If[Dg]=null,Vg=If[--Dg],If[Dg]=null,Dh=If[--Dg],If[Dg]=null}function $d(b){var d=Error(u(418,""));He(z(d,b));throw El;}function Te(b){var d=b.stateNode,f=b.type,k=b.memoizedProps;d[Cg]=b;d[Tg]=k;switch(f){case "dialog":ee("cancel",
d);ee("close",d);break;case "iframe":case "object":case "embed":ee("load",d);break;case "video":case "audio":for(f=0;f<Fl.length;f++)ee(Fl[f],d);break;case "source":ee("error",d);break;case "img":case "image":case "link":ee("error",d);ee("load",d);break;case "details":ee("toggle",d);break;case "input":ee("invalid",d);zb(d,k.value,k.defaultValue,k.checked,k.defaultChecked,k.type,k.name,!0);ia(d);break;case "select":ee("invalid",d);break;case "textarea":ee("invalid",d),Ga(d,k.value,k.defaultValue,k.children),
ia(d)}f=k.children;"string"!==typeof f&&"number"!==typeof f&&"bigint"!==typeof f||d.textContent===""+f||!0===k.suppressHydrationWarning||ud(d.textContent,f)?(null!=k.popover&&(ee("beforetoggle",d),ee("toggle",d)),null!=k.onScroll&&ee("scroll",d),null!=k.onScrollEnd&&ee("scrollend",d),null!=k.onClick&&(d.onclick=ff),d=!0):d=!1;d||$d(b)}function We(b){for(xg=b.return;xg;)switch(xg.tag){case 5:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:xg=xg.return}}function Le(b){if(b!==xg)return!1;if(!Ue)return We(b),
Ue=!0,!1;var d=b.tag,f;if(f=3!==d&&27!==d){if(f=5===d)f=b.type,f=!("form"!==f&&"button"!==f)||ik(b.type,b.memoizedProps);f=!f}f&&Tf&&$d(b);We(b);if(13===d){b=b.memoizedState;b=null!==b?b.dehydrated:null;if(!b)throw Error(u(317));a:{b=b.nextSibling;for(d=0;b;){if(8===b.nodeType)if(f=b.data,"/$"===f){if(0===d){Tf=Eh(b.nextSibling);break a}d--}else"$"!==f&&"$!"!==f&&"$?"!==f||d++;b=b.nextSibling}Tf=null}}else 27===d?(d=Tf,"head"===b.type?(b=qn,qn=null,Tf=b):Tf=d):Tf=xg?Eh(b.stateNode.nextSibling):null;
return!0}function Ve(){Tf=xg=null;Ue=!1}function Ie(){var b=ni;null!==b&&(null===jh?jh=b:jh.push.apply(jh,b),ni=null);return b}function He(b){null===ni?ni=[b]:ni.push(b)}function ie(b,d,f){Yb(Gl,d._currentValue);d._currentValue=f}function ne(b){b._currentValue=Gl.current;Lb(Gl)}function Ee(b,d,f){for(;null!==b;){var k=b.alternate;(b.childLanes&d)!==d?(b.childLanes|=d,null!==k&&(k.childLanes|=d)):null!==k&&(k.childLanes&d)!==d&&(k.childLanes|=d);if(b===f)break;b=b.return}}function Fd(b,d,f,k){var v=
b.child;for(null!==v&&(v.return=b);null!==v;){var N=v.dependencies;if(null!==N){var Ja=v.child;N=N.firstContext;a:for(;null!==N;){var hb=N;N=v;for(var cc=0;cc<d.length;cc++)if(hb.context===d[cc]){N.lanes|=f;hb=N.alternate;null!==hb&&(hb.lanes|=f);Ee(N.return,f,b);k||(Ja=null);break a}N=hb.next}}else if(18===v.tag){Ja=v.return;if(null===Ja)throw Error(u(341));Ja.lanes|=f;N=Ja.alternate;null!==N&&(N.lanes|=f);Ee(Ja,f,b);Ja=null}else Ja=v.child;if(null!==Ja)Ja.return=v;else for(Ja=v;null!==Ja;){if(Ja===
b){Ja=null;break}v=Ja.sibling;if(null!==v){v.return=Ja.return;Ja=v;break}Ja=Ja.return}v=Ja}}function Uf(b,d,f,k){b=null;for(var v=d,N=!1;null!==v;){if(!N)if(0!==(v.flags&524288))N=!0;else if(0!==(v.flags&262144))break;if(10===v.tag){var Ja=v.alternate;if(null===Ja)throw Error(u(387));Ja=Ja.memoizedProps;if(null!==Ja){var hb=v.type;jg(v.pendingProps.value,Ja.value)||(null!==b?b.push(hb):b=[hb])}}else if(v===Pi.current){Ja=v.alternate;if(null===Ja)throw Error(u(387));Ja.memoizedState.memoizedState!==
v.memoizedState.memoizedState&&(null!==b?b.push(vl):b=[vl])}v=v.return}null!==b&&Fd(d,b,f,k);d.flags|=262144}function rf(b){for(b=b.firstContext;null!==b;){if(!jg(b.context._currentValue,b.memoizedValue))return!0;b=b.next}return!1}function Ne(b){Xi=b;oi=null;b=b.dependencies;null!==b&&(b.firstContext=null)}function ze(b){return Pd(Xi,b)}function Oe(b,d){null===Xi&&Ne(b);return Pd(b,d)}function Pd(b,d){var f=d._currentValue;d={context:d,memoizedValue:f,next:null};if(null===oi){if(null===b)throw Error(u(308));
oi=d;b.dependencies={lanes:0,firstContext:d};b.flags|=524288}else oi=oi.next=d;return f}function dg(){return{controller:new rn,data:new Map,refCount:0}}function gf(b){b.refCount--;0===b.refCount&&sn(tn,function(){b.controller.abort()})}function Da(b,d){if(null===jk){var f=jk=[];Hl=0;Mh=Ld();qh={status:"pending",value:void 0,then:function(k){f.push(k)}}}Hl++;d.then(cb,cb);return d}function cb(){if(0===--Hl&&null!==jk){null!==qh&&(qh.status="fulfilled");var b=jk;jk=null;Mh=0;qh=null;for(var d=0;d<b.length;d++)(0,b[d])()}}
function fc(b,d){var f=[],k={status:"pending",value:null,reason:null,then:function(v){f.push(v)}};b.then(function(){k.status="fulfilled";k.value=d;for(var v=0;v<f.length;v++)(0,f[v])(d)},function(v){k.status="rejected";k.reason=v;for(v=0;v<f.length;v++)(0,f[v])(void 0)});return k}function hd(){var b=eg.current;return null!==b?b:Jc.pooledCache}function id(b,d){null===d?Yb(eg,eg.current):Yb(eg,d.pool)}function ed(){var b=hd();return null===b?null:{parent:yg._currentValue,pool:b}}function Dd(b){b=b.status;
return"fulfilled"===b||"rejected"===b}function Td(){}function Md(b,d,f){f=b[f];void 0===f?b.push(d):f!==d&&(d.then(Td,Td),d=f);switch(d.status){case "fulfilled":return d.value;case "rejected":throw b=d.reason,pd(b),b;default:if("string"===typeof d.status)d.then(Td,Td);else{b=Jc;if(null!==b&&100<b.shellSuspendCounter)throw Error(u(482));b=d;b.status="pending";b.then(function(k){if("pending"===d.status){var v=d;v.status="fulfilled";v.value=k}},function(k){if("pending"===d.status){var v=d;v.status="rejected";
v.reason=k}})}switch(d.status){case "fulfilled":return d.value;case "rejected":throw b=d.reason,pd(b),b;}Yi=d;throw uj;}}function Ze(){if(null===Yi)throw Error(u(459));var b=Yi;Yi=null;return b}function pd(b){if(b===uj||b===kk)throw Error(u(483));}function oe(b){b.updateQueue={baseState:b.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function df(b,d){b=b.updateQueue;d.updateQueue===b&&(d.updateQueue={baseState:b.baseState,
firstBaseUpdate:b.firstBaseUpdate,lastBaseUpdate:b.lastBaseUpdate,shared:b.shared,callbacks:null})}function Pe(b){return{lane:b,tag:0,payload:null,callback:null,next:null}}function Ud(b,d,f){var k=b.updateQueue;if(null===k)return null;k=k.shared;if(0!==(Hc&2)){var v=k.pending;null===v?d.next=d:(d.next=v.next,v.next=d);k.pending=d;d=wa(b);ca(b,null,f);return d}va(b,k,d,f);return wa(b)}function hf(b,d,f){d=d.updateQueue;if(null!==d&&(d=d.shared,0!==(f&4194048))){var k=d.lanes;k&=b.pendingLanes;f|=k;
d.lanes=f;wb(b,f)}}function Cf(b,d){var f=b.updateQueue,k=b.alternate;if(null!==k&&(k=k.updateQueue,f===k)){var v=null,N=null;f=f.firstBaseUpdate;if(null!==f){do{var Ja={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};null===N?v=N=Ja:N=N.next=Ja;f=f.next}while(null!==f);null===N?v=N=d:N=N.next=d}else v=N=d;f={baseState:k.baseState,firstBaseUpdate:v,lastBaseUpdate:N,shared:k.shared,callbacks:k.callbacks};b.updateQueue=f}else b=f.lastBaseUpdate,null===b?f.firstBaseUpdate=d:b.next=d,
f.lastBaseUpdate=d}function Ae(){if(Uk){var b=qh;if(null!==b)throw b;}}function Qe(b,d,f,k){Uk=!1;var v=b.updateQueue;bi=!1;var N=v.firstBaseUpdate,Ja=v.lastBaseUpdate,hb=v.shared.pending;if(null!==hb){v.shared.pending=null;var cc=hb,Ic=cc.next;cc.next=null;null===Ja?N=Ic:Ja.next=Ic;var Xc=b.alternate;null!==Xc&&(Xc=Xc.updateQueue,hb=Xc.lastBaseUpdate,hb!==cc&&(null===hb?Xc.firstBaseUpdate=Ic:hb.next=Ic,Xc.lastBaseUpdate=cc))}if(null!==N){var cd=v.baseState;Ja=0;Xc=Ic=cc=null;hb=N;do{var Mc=hb.lane&
-536870913,Nc=Mc!==hb.lane;if(Nc?(jd&Mc)===Mc:(k&Mc)===Mc){0!==Mc&&Mc===Mh&&(Uk=!0);null!==Xc&&(Xc=Xc.next={lane:0,tag:hb.tag,payload:hb.payload,callback:null,next:null});a:{var Be=b,pe=hb;Mc=d;var Jf=f;switch(pe.tag){case 1:Be=pe.payload;if("function"===typeof Be){cd=Be.call(Jf,cd,Mc);break a}cd=Be;break a;case 3:Be.flags=Be.flags&-65537|128;case 0:Be=pe.payload;Mc="function"===typeof Be?Be.call(Jf,cd,Mc):Be;if(null===Mc||void 0===Mc)break a;cd=Hf({},cd,Mc);break a;case 2:bi=!0}}Mc=hb.callback;null!==
Mc&&(b.flags|=64,Nc&&(b.flags|=8192),Nc=v.callbacks,null===Nc?v.callbacks=[Mc]:Nc.push(Mc))}else Nc={lane:Mc,tag:hb.tag,payload:hb.payload,callback:hb.callback,next:null},null===Xc?(Ic=Xc=Nc,cc=cd):Xc=Xc.next=Nc,Ja|=Mc;hb=hb.next;if(null===hb)if(hb=v.shared.pending,null===hb)break;else Nc=hb,hb=Nc.next,Nc.next=null,v.lastBaseUpdate=Nc,v.shared.pending=null}while(1);null===Xc&&(cc=cd);v.baseState=cc;v.firstBaseUpdate=Ic;v.lastBaseUpdate=Xc;null===N&&(v.shared.lanes=0);Fe|=Ja;b.lanes=Ja;b.memoizedState=
cd}}function kf(b,d){if("function"!==typeof b)throw Error(u(191,b));b.call(d)}function qe(b,d){var f=b.callbacks;if(null!==f)for(b.callbacks=null,b=0;b<f.length;b++)kf(f[b],d)}function Je(b,d){b=Ce;Yb(vj,b);Yb(Gi,d);Ce=b|d.baseLanes}function ae(){Yb(vj,Ce);Yb(Gi,Gi.current)}function qa(){Ce=vj.current;Lb(Gi);Lb(vj)}function m(){throw Error(u(321));}function r(b,d){if(null===d)return!1;for(var f=0;f<d.length&&f<b.length;f++)if(!jg(b[f],d[f]))return!1;return!0}function K(b,d,f,k,v,N){Nh=N;re=d;d.memoizedState=
null;d.updateQueue=null;d.lanes=0;be.H=null===b||null===b.memoizedState?lk:zm;pi=!1;N=f(k,v);pi=!1;Oh&&(N=Fa(d,f,k,v));ka(b);return N}function ka(b){be.H=wj;var d=null!==sf&&null!==sf.next;Nh=0;Vf=sf=re=null;Zi=!1;$i=0;Hi=null;if(d)throw Error(u(300));null===b||g||(b=b.dependencies,null!==b&&rf(b)&&(g=!0))}function Fa(b,d,f,k){re=b;var v=0;do{Oh&&(Hi=null);$i=0;Oh=!1;if(25<=v)throw Error(u(301));v+=1;Vf=sf=null;if(null!=b.updateQueue){var N=b.updateQueue;N.lastEffect=null;N.events=null;N.stores=null;
null!=N.memoCache&&(N.memoCache.index=0)}be.H=un;N=d(f,k)}while(Oh);return N}function Sa(){var b=be.H,d=b.useState()[0];d="function"===typeof d.then?tc(d):d;b=b.useState()[0];(null!==sf?sf.memoizedState:null)!==b&&(re.flags|=1024);return d}function Oa(){var b=0!==aj;aj=0;return b}function tb(b,d,f){d.updateQueue=b.updateQueue;d.flags&=-2053;b.lanes&=~f}function rb(b){if(Zi){for(b=b.memoizedState;null!==b;){var d=b.queue;null!==d&&(d.pending=null);b=b.next}Zi=!1}Nh=0;Vf=sf=re=null;Oh=!1;$i=aj=0;Hi=
null}function oc(){var b={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===Vf?re.memoizedState=Vf=b:Vf=Vf.next=b;return Vf}function kc(){if(null===sf){var b=re.alternate;b=null!==b?b.memoizedState:null}else b=sf.next;var d=null===Vf?re.memoizedState:Vf.next;if(null!==d)Vf=d,sf=b;else{if(null===b){if(null===re.alternate)throw Error(u(467));throw Error(u(310));}sf=b;b={memoizedState:sf.memoizedState,baseState:sf.baseState,baseQueue:sf.baseQueue,queue:sf.queue,next:null};
null===Vf?re.memoizedState=Vf=b:Vf=Vf.next=b}return Vf}function sc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tc(b){var d=$i;$i+=1;null===Hi&&(Hi=[]);b=Md(Hi,b,d);d=re;null===(null===Vf?d.memoizedState:Vf.next)&&(d=d.alternate,be.H=null===d||null===d.memoizedState?lk:zm);return b}function Lc(b){if(null!==b&&"object"===typeof b){if("function"===typeof b.then)return tc(b);if(b.$$typeof===ki)return ze(b)}throw Error(u(438,String(b)));}function Wc(b){var d=null,f=re.updateQueue;
null!==f&&(d=f.memoCache);if(null==d){var k=re.alternate;null!==k&&(k=k.updateQueue,null!==k&&(k=k.memoCache,null!=k&&(d={data:k.data.map(function(v){return v.slice()}),index:0})))}null==d&&(d={data:[],index:0});null===f&&(f=sc(),re.updateQueue=f);f.memoCache=d;f=d.data[d.index];if(void 0===f)for(f=d.data[d.index]=Array(b),k=0;k<b;k++)f[k]=Wg;d.index++;return f}function Bd(b,d){return"function"===typeof d?d(b):d}function qd(b){var d=kc();return xd(d,sf,b)}function xd(b,d,f){var k=b.queue;if(null===
k)throw Error(u(311));k.lastRenderedReducer=f;var v=b.baseQueue,N=k.pending;if(null!==N){if(null!==v){var Ja=v.next;v.next=N.next;N.next=Ja}d.baseQueue=v=N;k.pending=null}N=b.baseState;if(null===v)b.memoizedState=N;else{d=v.next;var hb=Ja=null,cc=null,Ic=d,Xc=!1;do{var cd=Ic.lane&-536870913;if(cd!==Ic.lane?(jd&cd)===cd:(Nh&cd)===cd){var Mc=Ic.revertLane;if(0===Mc)null!==cc&&(cc=cc.next={lane:0,revertLane:0,action:Ic.action,hasEagerState:Ic.hasEagerState,eagerState:Ic.eagerState,next:null}),cd===Mh&&
(Xc=!0);else if((Nh&Mc)===Mc){Ic=Ic.next;Mc===Mh&&(Xc=!0);continue}else cd={lane:0,revertLane:Ic.revertLane,action:Ic.action,hasEagerState:Ic.hasEagerState,eagerState:Ic.eagerState,next:null},null===cc?(hb=cc=cd,Ja=N):cc=cc.next=cd,re.lanes|=Mc,Fe|=Mc;cd=Ic.action;pi&&f(N,cd);N=Ic.hasEagerState?Ic.eagerState:f(N,cd)}else Mc={lane:cd,revertLane:Ic.revertLane,action:Ic.action,hasEagerState:Ic.hasEagerState,eagerState:Ic.eagerState,next:null},null===cc?(hb=cc=Mc,Ja=N):cc=cc.next=Mc,re.lanes|=cd,Fe|=
cd;Ic=Ic.next}while(null!==Ic&&Ic!==d);null===cc?Ja=N:cc.next=hb;if(!jg(N,b.memoizedState)&&(g=!0,Xc&&(f=qh,null!==f)))throw f;b.memoizedState=N;b.baseState=Ja;b.baseQueue=cc;k.lastRenderedState=N}null===v&&(k.lanes=0);return[b.memoizedState,k.dispatch]}function Nd(b){var d=kc(),f=d.queue;if(null===f)throw Error(u(311));f.lastRenderedReducer=b;var k=f.dispatch,v=f.pending,N=d.memoizedState;if(null!==v){f.pending=null;var Ja=v=v.next;do N=b(N,Ja.action),Ja=Ja.next;while(Ja!==v);jg(N,d.memoizedState)||
(g=!0);d.memoizedState=N;null===d.baseQueue&&(d.baseState=N);f.lastRenderedState=N}return[N,k]}function mc(b,d,f){var k=re,v=kc(),N=Ue;if(N){if(void 0===f)throw Error(u(407));f=f()}else f=d();var Ja=!jg((sf||v).memoizedState,f);Ja&&(v.memoizedState=f,g=!0);v=v.queue;var hb=fe.bind(null,k,v,b);Pf(2048,8,hb,[b]);if(v.getSnapshot!==d||Ja||null!==Vf&&Vf.memoizedState.tag&1){k.flags|=2048;Ke(9,Wf(),se.bind(null,k,v,f,d),null);if(null===Jc)throw Error(u(349));N||0!==(Nh&124)||vd(k,d,f)}return f}function vd(b,
d,f){b.flags|=16384;b={getSnapshot:d,value:f};d=re.updateQueue;null===d?(d=sc(),re.updateQueue=d,d.stores=[b]):(f=d.stores,null===f?d.stores=[b]:f.push(b))}function se(b,d,f,k){d.value=f;d.getSnapshot=k;Vd(d)&&Cd(b)}function fe(b,d,f){return f(function(){Vd(d)&&Cd(b)})}function Vd(b){var d=b.getSnapshot;b=b.value;try{var f=d();return!jg(b,f)}catch(k){return!0}}function Cd(b){var d=Q(b,2);null!==d&&Xg(d,b,2)}function Od(b){var d=oc();if("function"===typeof b){var f=b;b=f();if(pi){nb(!0);try{f()}finally{nb(!1)}}}d.memoizedState=
d.baseState=b;d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bd,lastRenderedState:b};return d}function ke(b,d,f,k){b.baseState=f;return xd(b,sf,"function"===typeof k?k:Bd)}function Ge(b,d,f,k,v){if(Jd(b))throw Error(u(485));b=d.action;if(null!==b){var N={payload:v,action:b,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Ja){N.listeners.push(Ja)}};null!==be.T?f(!0):N.isTransition=!1;k(N);f=d.pending;null===f?(N.next=d.pending=N,ce(d,N)):
(N.next=f.next,d.pending=f.next=N)}}function ce(b,d){var f=d.action,k=d.payload,v=b.state;if(d.isTransition){var N=be.T,Ja={};be.T=Ja;try{var hb=f(v,k),cc=be.S;null!==cc&&cc(Ja,hb);$e(b,d,hb)}catch(Ic){le(b,d,Ic)}finally{be.T=N}}else try{N=f(v,k),$e(b,d,N)}catch(Ic){le(b,d,Ic)}}function $e(b,d,f){null!==f&&"object"===typeof f&&"function"===typeof f.then?f.then(function(k){ad(b,d,k)},function(k){return le(b,d,k)}):ad(b,d,f)}function ad(b,d,f){d.status="fulfilled";d.value=f;mf(d);b.state=f;d=b.pending;
null!==d&&(f=d.next,f===d?b.pending=null:(f=f.next,d.next=f,ce(b,f)))}function le(b,d,f){var k=b.pending;b.pending=null;if(null!==k){k=k.next;do d.status="rejected",d.reason=f,mf(d),d=d.next;while(d!==k)}b.action=null}function mf(b){b=b.listeners;for(var d=0;d<b.length;d++)(0,b[d])()}function tf(b,d){return d}function Eg(b,d){if(Ue){var f=Jc.formState;if(null!==f){a:{var k=re;if(Ue){if(Tf){b:{for(var v=Tf,N=ai;8!==v.nodeType;){if(!N){v=null;break b}v=Eh(v.nextSibling);if(null===v){v=null;break b}}N=
v.data;v="F!"===N||"F"===N?v:null}if(v){Tf=Eh(v.nextSibling);k="F!"===v.data;break a}}$d(k)}k=!1}k&&(d=f[0])}}f=oc();f.memoizedState=f.baseState=d;k={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tf,lastRenderedState:d};f.queue=k;f=kg.bind(null,re,k);k.dispatch=f;k=Od(!1);N=rh.bind(null,re,!1,k.queue);k=oc();v={state:d,dispatch:null,action:b,pending:null};k.queue=v;f=Ge.bind(null,re,v,N,f);v.dispatch=f;k.memoizedState=b;return[d,f,!1]}function yf(b){var d=kc();return Qf(d,sf,b)}function Qf(b,
d,f){d=xd(b,d,tf)[0];b=qd(Bd)[0];if("object"===typeof d&&null!==d&&"function"===typeof d.then)try{var k=tc(d)}catch(Ja){if(Ja===uj)throw kk;throw Ja;}else k=d;d=kc();var v=d.queue,N=v.dispatch;f!==d.memoizedState&&(re.flags|=2048,Ke(9,Wf(),lg.bind(null,v,f),null));return[k,N,b]}function lg(b,d){b.action=d}function lf(b){var d=kc(),f=sf;if(null!==f)return Qf(d,f,b);kc();d=d.memoizedState;f=kc();var k=f.queue.dispatch;f.memoizedState=b;return[d,k,!1]}function Ke(b,d,f,k){b={tag:b,create:f,deps:k,inst:d,
next:null};d=re.updateQueue;null===d&&(d=sc(),re.updateQueue=d);f=d.lastEffect;null===f?d.lastEffect=b.next=b:(k=f.next,f.next=b,b.next=k,d.lastEffect=b);return b}function Wf(){return{destroy:void 0,resource:void 0}}function Ng(){return kc().memoizedState}function Kf(b,d,f,k){var v=oc();k=void 0===k?null:k;re.flags|=b;v.memoizedState=Ke(1|d,Wf(),f,k)}function Pf(b,d,f,k){var v=kc();k=void 0===k?null:k;var N=v.memoizedState.inst;null!==sf&&null!==k&&r(k,sf.memoizedState.deps)?v.memoizedState=Ke(d,
N,f,k):(re.flags|=b,v.memoizedState=Ke(1|d,N,f,k))}function Xf(b,d){Kf(8390656,8,b,d)}function kh(b,d){Pf(2048,8,b,d)}function Yg(b,d){return Pf(4,2,b,d)}function Zg(b,d){return Pf(4,4,b,d)}function Og(b,d){if("function"===typeof d){b=b();var f=d(b);return function(){"function"===typeof f?f():d(null)}}if(null!==d&&void 0!==d)return b=b(),d.current=b,function(){d.current=null}}function Pg(b,d,f){f=null!==f&&void 0!==f?f.concat([b]):null;Pf(4,4,Og.bind(null,d,b),f)}function $g(){}function Lf(b,d){var f=
kc();d=void 0===d?null:d;var k=f.memoizedState;if(null!==d&&r(d,k[1]))return k[0];f.memoizedState=[b,d];return b}function W(b,d){var f=kc();d=void 0===d?null:d;var k=f.memoizedState;if(null!==d&&r(d,k[1]))return k[0];k=b();if(pi){nb(!0);try{b()}finally{nb(!1)}}f.memoizedState=[k,d];return k}function La(b,d,f){if(void 0===f||0!==(Nh&1073741824))return b.memoizedState=d;b.memoizedState=f;b=Yf();re.lanes|=b;Fe|=b;return f}function ob(b,d,f,k){if(jg(f,d))return f;if(null!==Gi.current)return b=La(b,f,
k),jg(b,d)||(g=!0),b;if(0===(Nh&42))return g=!0,b.memoizedState=f;b=Yf();re.lanes|=b;Fe|=b;return d}function Ac(b,d,f,k,v){var N=ef.p;ef.p=0!==N&&8>N?N:8;var Ja=be.T,hb={};be.T=hb;rh(b,!1,d,f);try{var cc=v(),Ic=be.S;null!==Ic&&Ic(hb,cc);if(null!==cc&&"object"===typeof cc&&"function"===typeof cc.then){var Xc=fc(cc,k);rg(b,d,Xc,Lg(b))}else rg(b,d,k,Lg(b))}catch(cd){rg(b,d,{then:function(){},status:"rejected",reason:cd},Lg())}finally{ef.p=N,be.T=Ja}}function Bc(){}function yd(b,d,f,k){if(5!==b.tag)throw Error(u(476));
var v=Rd(b).queue;Ac(b,v,d,Qi,null===f?Bc:function(){Id(b);return f(k)})}function Rd(b){var d=b.memoizedState;if(null!==d)return d;d={memoizedState:Qi,baseState:Qi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bd,lastRenderedState:Qi},next:null};var f={};d.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bd,lastRenderedState:f},next:null};b.memoizedState=d;b=b.alternate;null!==b&&(b.memoizedState=d);return d}
function Id(b){var d=Rd(b).next.queue;rg(b,d,{},Lg())}function Zf(){return ze(vl)}function nf(){return kc().memoizedState}function zg(){return kc().memoizedState}function sh(b){for(var d=b.return;null!==d;){switch(d.tag){case 24:case 3:var f=Lg();b=Pe(f);var k=Ud(d,b,f);null!==k&&(Xg(k,d,f),hf(k,d,f));d={cache:dg()};b.payload=d;return}d=d.return}}function lh(b,d,f){var k=Lg();f={lane:k,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};Jd(b)?Xd(d,f):(f=w(b,d,f,k),null!==f&&(Xg(f,b,
k),zf(f,d,k)))}function kg(b,d,f){var k=Lg();rg(b,d,f,k)}function rg(b,d,f,k){var v={lane:k,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(Jd(b))Xd(d,v);else{var N=b.alternate;if(0===b.lanes&&(null===N||0===N.lanes)&&(N=d.lastRenderedReducer,null!==N))try{var Ja=d.lastRenderedState,hb=N(Ja,f);v.hasEagerState=!0;v.eagerState=hb;if(jg(hb,Ja))return va(b,d,v,0),null===Jc&&J(),!1}catch(cc){}finally{}f=w(b,d,v,k);if(null!==f)return Xg(f,b,k),zf(f,d,k),!0}return!1}function rh(b,d,
f,k){k={lane:2,revertLane:Ld(),action:k,hasEagerState:!1,eagerState:null,next:null};if(Jd(b)){if(d)throw Error(u(479));}else d=w(b,f,k,2),null!==d&&Xg(d,b,2)}function Jd(b){var d=b.alternate;return b===re||null!==d&&d===re}function Xd(b,d){Oh=Zi=!0;var f=b.pending;null===f?d.next=d:(d.next=f.next,f.next=d);b.pending=d}function zf(b,d,f){if(0!==(f&4194048)){var k=d.lanes;k&=b.pendingLanes;f|=k;d.lanes=f;wb(b,f)}}function we(b){var d=xj;xj+=1;null===bj&&(bj=[]);return Md(bj,b,d)}function af(b,d){d=
d.props.ref;b.ref=void 0!==d?d:null}function Re(b,d){if(d.$$typeof===Am)throw Error(u(525));b=Object.prototype.toString.call(d);throw Error(u(31,"[object Object]"===b?"object with keys {"+Object.keys(d).join(", ")+"}":b));}function uf(b){var d=b._init;return d(b._payload)}function fg(b){function d(vc,pc){if(b){var Gc=vc.deletions;null===Gc?(vc.deletions=[pc],vc.flags|=16):Gc.push(pc)}}function f(vc,pc){if(!b)return null;for(;null!==pc;)d(vc,pc),pc=pc.sibling;return null}function k(vc){for(var pc=
new Map;null!==vc;)null!==vc.key?pc.set(vc.key,vc):pc.set(vc.index,vc),vc=vc.sibling;return pc}function v(vc,pc){vc=Zb(vc,pc);vc.index=0;vc.sibling=null;return vc}function N(vc,pc,Gc){vc.index=Gc;if(!b)return vc.flags|=1048576,pc;Gc=vc.alternate;if(null!==Gc)return Gc=Gc.index,Gc<pc?(vc.flags|=67108866,pc):Gc;vc.flags|=67108866;return pc}function Ja(vc){b&&null===vc.alternate&&(vc.flags|=67108866);return vc}function hb(vc,pc,Gc,$c){if(null===pc||6!==pc.tag)return pc=Rc(Gc,vc.mode,$c),pc.return=vc,
pc;pc=v(pc,Gc);pc.return=vc;return pc}function cc(vc,pc,Gc,$c){var Sd=Gc.type;if(Sd===nj)return Xc(vc,pc,Gc.props.children,$c,Gc.key);if(null!==pc&&(pc.elementType===Sd||"object"===typeof Sd&&null!==Sd&&Sd.$$typeof===Ci&&uf(Sd)===pc.type))return pc=v(pc,Gc.props),af(pc,Gc),pc.return=vc,pc;pc=Cc(Gc.type,Gc.key,Gc.props,null,vc.mode,$c);af(pc,Gc);pc.return=vc;return pc}function Ic(vc,pc,Gc,$c){if(null===pc||4!==pc.tag||pc.stateNode.containerInfo!==Gc.containerInfo||pc.stateNode.implementation!==Gc.implementation)return pc=
od(Gc,vc.mode,$c),pc.return=vc,pc;pc=v(pc,Gc.children||[]);pc.return=vc;return pc}function Xc(vc,pc,Gc,$c,Sd){if(null===pc||7!==pc.tag)return pc=Oc(Gc,vc.mode,$c,Sd),pc.return=vc,pc;pc=v(pc,Gc);pc.return=vc;return pc}function cd(vc,pc,Gc){if("string"===typeof pc&&""!==pc||"number"===typeof pc||"bigint"===typeof pc)return pc=Rc(""+pc,vc.mode,Gc),pc.return=vc,pc;if("object"===typeof pc&&null!==pc){switch(pc.$$typeof){case yj:return Gc=Cc(pc.type,pc.key,pc.props,null,vc.mode,Gc),af(Gc,pc),Gc.return=
vc,Gc;case Bi:return pc=od(pc,vc.mode,Gc),pc.return=vc,pc;case Ci:var $c=pc._init;pc=$c(pc._payload);return cd(vc,pc,Gc)}if(Si(pc)||Bb(pc))return pc=Oc(pc,vc.mode,Gc,null),pc.return=vc,pc;if("function"===typeof pc.then)return cd(vc,we(pc),Gc);if(pc.$$typeof===ki)return cd(vc,Oe(vc,pc),Gc);Re(vc,pc)}return null}function Mc(vc,pc,Gc,$c){var Sd=null!==pc?pc.key:null;if("string"===typeof Gc&&""!==Gc||"number"===typeof Gc||"bigint"===typeof Gc)return null!==Sd?null:hb(vc,pc,""+Gc,$c);if("object"===typeof Gc&&
null!==Gc){switch(Gc.$$typeof){case yj:return Gc.key===Sd?cc(vc,pc,Gc,$c):null;case Bi:return Gc.key===Sd?Ic(vc,pc,Gc,$c):null;case Ci:return Sd=Gc._init,Gc=Sd(Gc._payload),Mc(vc,pc,Gc,$c)}if(Si(Gc)||Bb(Gc))return null!==Sd?null:Xc(vc,pc,Gc,$c,null);if("function"===typeof Gc.then)return Mc(vc,pc,we(Gc),$c);if(Gc.$$typeof===ki)return Mc(vc,pc,Oe(vc,Gc),$c);Re(vc,Gc)}return null}function Nc(vc,pc,Gc,$c,Sd){if("string"===typeof $c&&""!==$c||"number"===typeof $c||"bigint"===typeof $c)return vc=vc.get(Gc)||
null,hb(pc,vc,""+$c,Sd);if("object"===typeof $c&&null!==$c){switch($c.$$typeof){case yj:return vc=vc.get(null===$c.key?Gc:$c.key)||null,cc(pc,vc,$c,Sd);case Bi:return vc=vc.get(null===$c.key?Gc:$c.key)||null,Ic(pc,vc,$c,Sd);case Ci:var Xe=$c._init;$c=Xe($c._payload);return Nc(vc,pc,Gc,$c,Sd)}if(Si($c)||Bb($c))return vc=vc.get(Gc)||null,Xc(pc,vc,$c,Sd,null);if("function"===typeof $c.then)return Nc(vc,pc,Gc,we($c),Sd);if($c.$$typeof===ki)return Nc(vc,pc,Gc,Oe(pc,$c),Sd);Re(pc,$c)}return null}function Be(vc,
pc,Gc,$c){for(var Sd=null,Xe=null,ge=pc,xe=pc=0,Qg=null;null!==ge&&xe<Gc.length;xe++){ge.index>xe?(Qg=ge,ge=null):Qg=ge.sibling;var vf=Mc(vc,ge,Gc[xe],$c);if(null===vf){null===ge&&(ge=Qg);break}b&&ge&&null===vf.alternate&&d(vc,ge);pc=N(vf,pc,xe);null===Xe?Sd=vf:Xe.sibling=vf;Xe=vf;ge=Qg}if(xe===Gc.length)return f(vc,ge),Ue&&sd(vc,xe),Sd;if(null===ge){for(;xe<Gc.length;xe++)ge=cd(vc,Gc[xe],$c),null!==ge&&(pc=N(ge,pc,xe),null===Xe?Sd=ge:Xe.sibling=ge,Xe=ge);Ue&&sd(vc,xe);return Sd}for(ge=k(ge);xe<Gc.length;xe++)Qg=
Nc(ge,vc,xe,Gc[xe],$c),null!==Qg&&(b&&null!==Qg.alternate&&ge.delete(null===Qg.key?xe:Qg.key),pc=N(Qg,pc,xe),null===Xe?Sd=Qg:Xe.sibling=Qg,Xe=Qg);b&&ge.forEach(function(zj){return d(vc,zj)});Ue&&sd(vc,xe);return Sd}function pe(vc,pc,Gc,$c){if(null==Gc)throw Error(u(151));for(var Sd=null,Xe=null,ge=pc,xe=pc=0,Qg=null,vf=Gc.next();null!==ge&&!vf.done;xe++,vf=Gc.next()){ge.index>xe?(Qg=ge,ge=null):Qg=ge.sibling;var zj=Mc(vc,ge,vf.value,$c);if(null===zj){null===ge&&(ge=Qg);break}b&&ge&&null===zj.alternate&&
d(vc,ge);pc=N(zj,pc,xe);null===Xe?Sd=zj:Xe.sibling=zj;Xe=zj;ge=Qg}if(vf.done)return f(vc,ge),Ue&&sd(vc,xe),Sd;if(null===ge){for(;!vf.done;xe++,vf=Gc.next())vf=cd(vc,vf.value,$c),null!==vf&&(pc=N(vf,pc,xe),null===Xe?Sd=vf:Xe.sibling=vf,Xe=vf);Ue&&sd(vc,xe);return Sd}for(ge=k(ge);!vf.done;xe++,vf=Gc.next())vf=Nc(ge,vc,xe,vf.value,$c),null!==vf&&(b&&null!==vf.alternate&&ge.delete(null===vf.key?xe:vf.key),pc=N(vf,pc,xe),null===Xe?Sd=vf:Xe.sibling=vf,Xe=vf);b&&ge.forEach(function(io){return d(vc,io)});
Ue&&sd(vc,xe);return Sd}function Jf(vc,pc,Gc,$c){"object"===typeof Gc&&null!==Gc&&Gc.type===nj&&null===Gc.key&&(Gc=Gc.props.children);if("object"===typeof Gc&&null!==Gc){switch(Gc.$$typeof){case yj:a:{for(var Sd=Gc.key;null!==pc;){if(pc.key===Sd){Sd=Gc.type;if(Sd===nj){if(7===pc.tag){f(vc,pc.sibling);$c=v(pc,Gc.props.children);$c.return=vc;vc=$c;break a}}else if(pc.elementType===Sd||"object"===typeof Sd&&null!==Sd&&Sd.$$typeof===Ci&&uf(Sd)===pc.type){f(vc,pc.sibling);$c=v(pc,Gc.props);af($c,Gc);$c.return=
vc;vc=$c;break a}f(vc,pc);break}else d(vc,pc);pc=pc.sibling}Gc.type===nj?($c=Oc(Gc.props.children,vc.mode,$c,Gc.key),$c.return=vc,vc=$c):($c=Cc(Gc.type,Gc.key,Gc.props,null,vc.mode,$c),af($c,Gc),$c.return=vc,vc=$c)}return Ja(vc);case Bi:a:{for(Sd=Gc.key;null!==pc;){if(pc.key===Sd)if(4===pc.tag&&pc.stateNode.containerInfo===Gc.containerInfo&&pc.stateNode.implementation===Gc.implementation){f(vc,pc.sibling);$c=v(pc,Gc.children||[]);$c.return=vc;vc=$c;break a}else{f(vc,pc);break}else d(vc,pc);pc=pc.sibling}$c=
od(Gc,vc.mode,$c);$c.return=vc;vc=$c}return Ja(vc);case Ci:return Sd=Gc._init,Gc=Sd(Gc._payload),Jf(vc,pc,Gc,$c)}if(Si(Gc))return Be(vc,pc,Gc,$c);if(Bb(Gc)){Sd=Bb(Gc);if("function"!==typeof Sd)throw Error(u(150));Gc=Sd.call(Gc);return pe(vc,pc,Gc,$c)}if("function"===typeof Gc.then)return Jf(vc,pc,we(Gc),$c);if(Gc.$$typeof===ki)return Jf(vc,pc,Oe(vc,Gc),$c);Re(vc,Gc)}return"string"===typeof Gc&&""!==Gc||"number"===typeof Gc||"bigint"===typeof Gc?(Gc=""+Gc,null!==pc&&6===pc.tag?(f(vc,pc.sibling),$c=
v(pc,Gc),$c.return=vc,vc=$c):(f(vc,pc),$c=Rc(Gc,vc.mode,$c),$c.return=vc,vc=$c),Ja(vc)):f(vc,pc)}return function(vc,pc,Gc,$c){try{xj=0;var Sd=Jf(vc,pc,Gc,$c);bj=null;return Sd}catch(ge){if(ge===uj||ge===kk)throw ge;var Xe=Ya(29,ge,null,vc.mode);Xe.lanes=$c;Xe.return=vc;return Xe}finally{}}}function of(b){var d=b.alternate;Yb(sg,sg.current&1);Yb(ah,b);null===Ph&&(null===d||null!==Gi.current?Ph=b:null!==d.memoizedState&&(Ph=b))}function tg(b){if(22===b.tag){if(Yb(sg,sg.current),Yb(ah,b),null===Ph){var d=
b.alternate;null!==d&&null!==d.memoizedState&&(Ph=b)}}else hg(b)}function hg(){Yb(sg,sg.current);Yb(ah,ah.current)}function Mf(b){Lb(ah);Ph===b&&(Ph=null);Lb(sg)}function Rg(b){for(var d=b;null!==d;){if(13===d.tag){var f=d.memoizedState;if(null!==f&&(f=f.dehydrated,null===f||"$?"===f.data||Il(f)))return d}else if(19===d.tag&&void 0!==d.memoizedProps.revealOrder){if(0!==(d.flags&128))return d}else if(null!==d.child){d.child.return=d;d=d.child;continue}if(d===b)break;for(;null===d.sibling;){if(null===
d.return||d.return===b)return null;d=d.return}d.sibling.return=d.return;d=d.sibling}return null}function Nf(b,d,f,k){d=b.memoizedState;f=f(k,d);f=null===f||void 0===f?d:Hf({},d,f);b.memoizedState=f;0===b.lanes&&(b.updateQueue.baseState=f)}function Qh(b,d,f,k,v,N,Ja){b=b.stateNode;return"function"===typeof b.shouldComponentUpdate?b.shouldComponentUpdate(k,N,Ja):d.prototype&&d.prototype.isPureReactComponent?!yc(f,k)||!yc(v,N):!0}function Ag(b,d,f,k){b=d.state;"function"===typeof d.componentWillReceiveProps&&
d.componentWillReceiveProps(f,k);"function"===typeof d.UNSAFE_componentWillReceiveProps&&d.UNSAFE_componentWillReceiveProps(f,k);d.state!==b&&a.enqueueReplaceState(d,d.state,null)}function Fg(b,d){var f=d;if("ref"in d){f={};for(var k in d)"ref"!==k&&(f[k]=d[k])}if(b=b.defaultProps){f===d&&(f=Hf({},f));for(var v in b)void 0===f[v]&&(f[v]=b[v])}return f}function ug(b){c(b)}function Rh(b){console.error(b)}function Aj(b){c(b)}function vg(b,d){try{var f=b.onUncaughtError;f(d.value,{componentStack:d.stack})}catch(k){setTimeout(function(){throw k;
})}}function Ii(b,d,f){try{var k=b.onCaughtError;k(f.value,{componentStack:f.stack,errorBoundary:1===d.tag?d.stateNode:null})}catch(v){setTimeout(function(){throw v;})}}function qi(b,d,f){f=Pe(f);f.tag=3;f.payload={element:null};f.callback=function(){vg(b,d)};return f}function Ji(b){b=Pe(b);b.tag=3;return b}function ri(b,d,f,k){var v=f.type.getDerivedStateFromError;if("function"===typeof v){var N=k.value;b.payload=function(){return v(N)};b.callback=function(){Ii(d,f,k)}}var Ja=f.stateNode;null!==
Ja&&"function"===typeof Ja.componentDidCatch&&(b.callback=function(){Ii(d,f,k);"function"!==typeof v&&(null===Bj?Bj=new Set([this]):Bj.add(this));var hb=k.stack;this.componentDidCatch(k.value,{componentStack:null!==hb?hb:""})})}function Sh(b,d,f,k,v){f.flags|=32768;if(null!==k&&"object"===typeof k&&"function"===typeof k.then){d=f.alternate;null!==d&&Uf(d,f,v,!0);f=ah.current;if(null!==f){switch(f.tag){case 13:return null===Ph?Cj():null===f.alternate&&0===De&&(De=3),f.flags&=-257,f.flags|=65536,f.lanes=
v,k===Jl?f.flags|=16384:(d=f.updateQueue,null===d?f.updateQueue=new Set([k]):d.add(k),Dj(b,k,v)),!1;case 22:return f.flags|=65536,k===Jl?f.flags|=16384:(d=f.updateQueue,null===d?(d={transitions:null,markerInstances:null,retryQueue:new Set([k])},f.updateQueue=d):(f=d.retryQueue,null===f?d.retryQueue=new Set([k]):f.add(k)),Dj(b,k,v)),!1}throw Error(u(435,f.tag));}Dj(b,k,v);Cj();return!1}if(Ue)return d=ah.current,null!==d?(0===(d.flags&65536)&&(d.flags|=256),d.flags|=65536,d.lanes=v,k!==El&&(b=Error(u(422),
{cause:k}),He(z(b,f)))):(k!==El&&(d=Error(u(423),{cause:k}),He(z(d,f))),b=b.current.alternate,b.flags|=65536,v&=-v,b.lanes|=v,k=z(k,f),v=qi(b.stateNode,k,v),Cf(b,v),4!==De&&(De=2)),!1;var N=Error(u(520),{cause:k});N=z(N,f);null===Ej?Ej=[N]:Ej.push(N);4!==De&&(De=2);if(null===d)return!0;k=z(k,f);f=d;do{switch(f.tag){case 3:return f.flags|=65536,b=v&-v,f.lanes|=b,b=qi(f.stateNode,k,b),Cf(f,b),!1;case 1:if(d=f.type,N=f.stateNode,0===(f.flags&128)&&("function"===typeof d.getDerivedStateFromError||null!==
N&&"function"===typeof N.componentDidCatch&&(null===Bj||!Bj.has(N))))return f.flags|=65536,v&=-v,f.lanes|=v,v=Ji(v),ri(v,b,f,k),Cf(f,v),!1}f=f.return}while(null!==f);return!1}function $f(b,d,f,k){d.child=null===b?Bm(d,null,f,k):Fj(d,b.child,f,k)}function ci(b,d,f,k,v){f=f.render;var N=d.ref;if("ref"in k){var Ja={};for(hb in k)"ref"!==hb&&(Ja[hb]=k[hb])}else Ja=k;Ne(d);k=K(b,d,f,Ja,N,v);var hb=Oa();if(null!==b&&!g)return tb(b,d,v),mg(b,d,v);Ue&&hb&&Zd(d);d.flags|=1;$f(b,d,k,v);return d.child}function Th(b,
d,f,k,v){if(null===b){var N=f.type;if("function"===typeof N&&!Tb(N)&&void 0===N.defaultProps&&null===f.compare)return d.tag=15,d.type=N,th(b,d,N,k,v);b=Cc(f.type,null,k,d,d.mode,v);b.ref=d.ref;b.return=d;return d.child=b}N=b.child;if(!Gg(b,v)){var Ja=N.memoizedProps;f=f.compare;f=null!==f?f:yc;if(f(Ja,k)&&b.ref===d.ref)return mg(b,d,v)}d.flags|=1;b=Zb(N,k);b.ref=d.ref;b.return=d;return d.child=b}function th(b,d,f,k,v){if(null!==b){var N=b.memoizedProps;if(yc(N,k)&&b.ref===d.ref)if(g=!1,d.pendingProps=
k=N,Gg(b,v))0!==(b.flags&131072)&&(g=!0);else return d.lanes=b.lanes,mg(b,d,v)}return Fh(b,d,f,k,v)}function si(b,d,f){var k=d.pendingProps,v=k.children,N=null!==b?b.memoizedState:null;if("hidden"===k.mode){if(0!==(d.flags&128)){k=null!==N?N.baseLanes|f:f;if(null!==b){v=d.child=b.child;for(N=0;null!==v;)N=N|v.lanes|v.childLanes,v=v.sibling;d.childLanes=N&~k}else d.childLanes=0,d.child=null;return Ki(b,d,k,f)}if(0!==(f&536870912))d.memoizedState={baseLanes:0,cachePool:null},null!==b&&id(d,null!==N?
N.cachePool:null),null!==N?Je(d,N):ae(),tg(d);else return d.lanes=d.childLanes=536870912,Ki(b,d,null!==N?N.baseLanes|f:f,f)}else null!==N?(id(d,N.cachePool),Je(d,N),hg(d),d.memoizedState=null):(null!==b&&id(d,null),ae(),hg(d));$f(b,d,v,f);return d.child}function Ki(b,d,f,k){var v=hd();v=null===v?null:{parent:yg._currentValue,pool:v};d.memoizedState={baseLanes:f,cachePool:v};null!==b&&id(d,null);ae();tg(d);null!==b&&Uf(b,d,k,!0);return null}function di(b,d){var f=d.ref;if(null===f)null!==b&&null!==
b.ref&&(d.flags|=4194816);else{if("function"!==typeof f&&"object"!==typeof f)throw Error(u(284));if(null===b||b.ref!==f)d.flags|=4194816}}function Fh(b,d,f,k,v){Ne(d);f=K(b,d,f,k,void 0,v);k=Oa();if(null!==b&&!g)return tb(b,d,v),mg(b,d,v);Ue&&k&&Zd(d);d.flags|=1;$f(b,d,f,v);return d.child}function Uh(b,d,f,k,v,N){Ne(d);d.updateQueue=null;f=Fa(d,k,f,v);ka(b);k=Oa();if(null!==b&&!g)return tb(b,d,N),mg(b,d,N);Ue&&k&&Zd(d);d.flags|=1;$f(b,d,f,N);return d.child}function Li(b,d,f,k,v){Ne(d);if(null===d.stateNode){var N=
Gj,Ja=f.contextType;"object"===typeof Ja&&null!==Ja&&(N=ze(Ja));N=new f(k,N);d.memoizedState=null!==N.state&&void 0!==N.state?N.state:null;N.updater=a;d.stateNode=N;N._reactInternals=d;N=d.stateNode;N.props=k;N.state=d.memoizedState;N.refs={};oe(d);Ja=f.contextType;N.context="object"===typeof Ja&&null!==Ja?ze(Ja):Gj;N.state=d.memoizedState;Ja=f.getDerivedStateFromProps;"function"===typeof Ja&&(Nf(d,f,Ja,k),N.state=d.memoizedState);"function"===typeof f.getDerivedStateFromProps||"function"===typeof N.getSnapshotBeforeUpdate||
"function"!==typeof N.UNSAFE_componentWillMount&&"function"!==typeof N.componentWillMount||(Ja=N.state,"function"===typeof N.componentWillMount&&N.componentWillMount(),"function"===typeof N.UNSAFE_componentWillMount&&N.UNSAFE_componentWillMount(),Ja!==N.state&&a.enqueueReplaceState(N,N.state,null),Qe(d,k,N,v),Ae(),N.state=d.memoizedState);"function"===typeof N.componentDidMount&&(d.flags|=4194308);k=!0}else if(null===b){N=d.stateNode;var hb=d.memoizedProps,cc=Fg(f,hb);N.props=cc;var Ic=N.context,
Xc=f.contextType;Ja=Gj;"object"===typeof Xc&&null!==Xc&&(Ja=ze(Xc));var cd=f.getDerivedStateFromProps;Xc="function"===typeof cd||"function"===typeof N.getSnapshotBeforeUpdate;hb=d.pendingProps!==hb;Xc||"function"!==typeof N.UNSAFE_componentWillReceiveProps&&"function"!==typeof N.componentWillReceiveProps||(hb||Ic!==Ja)&&Ag(d,N,k,Ja);bi=!1;var Mc=d.memoizedState;N.state=Mc;Qe(d,k,N,v);Ae();Ic=d.memoizedState;hb||Mc!==Ic||bi?("function"===typeof cd&&(Nf(d,f,cd,k),Ic=d.memoizedState),(cc=bi||Qh(d,f,
cc,k,Mc,Ic,Ja))?(Xc||"function"!==typeof N.UNSAFE_componentWillMount&&"function"!==typeof N.componentWillMount||("function"===typeof N.componentWillMount&&N.componentWillMount(),"function"===typeof N.UNSAFE_componentWillMount&&N.UNSAFE_componentWillMount()),"function"===typeof N.componentDidMount&&(d.flags|=4194308)):("function"===typeof N.componentDidMount&&(d.flags|=4194308),d.memoizedProps=k,d.memoizedState=Ic),N.props=k,N.state=Ic,N.context=Ja,k=cc):("function"===typeof N.componentDidMount&&(d.flags|=
4194308),k=!1)}else{N=d.stateNode;df(b,d);Ja=d.memoizedProps;Xc=Fg(f,Ja);N.props=Xc;cd=d.pendingProps;Mc=N.context;Ic=f.contextType;cc=Gj;"object"===typeof Ic&&null!==Ic&&(cc=ze(Ic));hb=f.getDerivedStateFromProps;(Ic="function"===typeof hb||"function"===typeof N.getSnapshotBeforeUpdate)||"function"!==typeof N.UNSAFE_componentWillReceiveProps&&"function"!==typeof N.componentWillReceiveProps||(Ja!==cd||Mc!==cc)&&Ag(d,N,k,cc);bi=!1;Mc=d.memoizedState;N.state=Mc;Qe(d,k,N,v);Ae();var Nc=d.memoizedState;
Ja!==cd||Mc!==Nc||bi||null!==b&&null!==b.dependencies&&rf(b.dependencies)?("function"===typeof hb&&(Nf(d,f,hb,k),Nc=d.memoizedState),(Xc=bi||Qh(d,f,Xc,k,Mc,Nc,cc)||null!==b&&null!==b.dependencies&&rf(b.dependencies))?(Ic||"function"!==typeof N.UNSAFE_componentWillUpdate&&"function"!==typeof N.componentWillUpdate||("function"===typeof N.componentWillUpdate&&N.componentWillUpdate(k,Nc,cc),"function"===typeof N.UNSAFE_componentWillUpdate&&N.UNSAFE_componentWillUpdate(k,Nc,cc)),"function"===typeof N.componentDidUpdate&&
(d.flags|=4),"function"===typeof N.getSnapshotBeforeUpdate&&(d.flags|=1024)):("function"!==typeof N.componentDidUpdate||Ja===b.memoizedProps&&Mc===b.memoizedState||(d.flags|=4),"function"!==typeof N.getSnapshotBeforeUpdate||Ja===b.memoizedProps&&Mc===b.memoizedState||(d.flags|=1024),d.memoizedProps=k,d.memoizedState=Nc),N.props=k,N.state=Nc,N.context=cc,k=Xc):("function"!==typeof N.componentDidUpdate||Ja===b.memoizedProps&&Mc===b.memoizedState||(d.flags|=4),"function"!==typeof N.getSnapshotBeforeUpdate||
Ja===b.memoizedProps&&Mc===b.memoizedState||(d.flags|=1024),k=!1)}N=k;di(b,d);k=0!==(d.flags&128);N||k?(N=d.stateNode,f=k&&"function"!==typeof f.getDerivedStateFromError?null:N.render(),d.flags|=1,null!==b&&k?(d.child=Fj(d,b.child,null,v),d.child=Fj(d,null,f,v)):$f(b,d,f,v),d.memoizedState=N.state,b=d.child):b=mg(b,d,v);return b}function Mi(b){return{baseLanes:b,cachePool:ed()}}function uh(b,d,f){b=null!==b?b.childLanes&~f:0;d&&(b|=Gh);return b}function Hh(b,d,f){var k=d.pendingProps,v=!1,N=0!==(d.flags&
128),Ja;(Ja=N)||(Ja=null!==b&&null===b.memoizedState?!1:0!==(sg.current&2));Ja&&(v=!0,d.flags&=-129);Ja=0!==(d.flags&32);d.flags&=-33;if(null===b){if(Ue){v?of(d):hg(d);if(Ue){var hb=Tf,cc;if(cc=hb){a:{cc=hb;for(hb=ai;8!==cc.nodeType;){if(!hb){hb=null;break a}cc=Eh(cc.nextSibling);if(null===cc){hb=null;break a}}hb=cc}null!==hb?(d.memoizedState={dehydrated:hb,treeContext:null!==$h?{id:Dh,overflow:Vg}:null,retryLane:536870912,hydrationErrors:null},cc=Ya(18,null,null,0),cc.stateNode=hb,cc.return=d,d.child=
cc,xg=d,Tf=null,cc=!0):cc=!1}cc||$d(d)}hb=d.memoizedState;if(null!==hb&&(hb=hb.dehydrated,null!==hb))return Il(hb)?d.lanes=32:d.lanes=536870912,null;Mf(d)}hb=k.children;k=k.fallback;if(v)return hg(d),v=d.mode,hb=Me({mode:"hidden",children:hb},v),k=Oc(k,v,f,null),hb.return=d,k.return=d,hb.sibling=k,d.child=hb,v=d.child,v.memoizedState=Mi(f),v.childLanes=uh(b,Ja,f),d.memoizedState=h,k;of(d);return Hg(d,hb)}cc=b.memoizedState;if(null!==cc&&(hb=cc.dehydrated,null!==hb)){if(N)d.flags&256?(of(d),d.flags&=
-257,d=vh(b,d,f)):null!==d.memoizedState?(hg(d),d.child=b.child,d.flags|=128,d=null):(hg(d),v=k.fallback,hb=d.mode,k=Me({mode:"visible",children:k.children},hb),v=Oc(v,hb,f,null),v.flags|=2,k.return=d,v.return=d,k.sibling=v,d.child=k,Fj(d,b.child,null,f),k=d.child,k.memoizedState=Mi(f),k.childLanes=uh(b,Ja,f),d.memoizedState=h,d=v);else if(of(d),Il(hb)){if(Ja=hb.nextSibling&&hb.nextSibling.dataset)var Ic=Ja.dgst;Ja=Ic;k=Error(u(419));k.stack="";k.digest=Ja;He({value:k,source:null,stack:null});d=vh(b,
d,f)}else if(g||Uf(b,d,f,!1),Ja=0!==(f&b.childLanes),g||Ja){Ja=Jc;if(null!==Ja&&(k=f&-f,k=0!==(k&42)?1:Ub(k),k=0!==(k&(Ja.suspendedLanes|f))?0:k,0!==k&&k!==cc.retryLane))throw cc.retryLane=k,Q(b,k),Xg(Ja,b,k),e;"$?"===hb.data||Cj();d=vh(b,d,f)}else"$?"===hb.data?(d.flags|=192,d.child=b.child,d=null):(b=cc.treeContext,Tf=Eh(hb.nextSibling),xg=d,Ue=!0,ni=null,ai=!1,null!==b&&(If[Dg++]=Dh,If[Dg++]=Vg,If[Dg++]=$h,Dh=b.id,Vg=b.overflow,$h=d),d=Hg(d,k.children),d.flags|=4096);return d}if(v)return hg(d),
v=k.fallback,hb=d.mode,cc=b.child,Ic=cc.sibling,k=Zb(cc,{mode:"hidden",children:k.children}),k.subtreeFlags=cc.subtreeFlags&65011712,null!==Ic?v=Zb(Ic,v):(v=Oc(v,hb,f,null),v.flags|=2),v.return=d,k.return=d,k.sibling=v,d.child=k,k=v,v=d.child,hb=b.child.memoizedState,null===hb?hb=Mi(f):(cc=hb.cachePool,null!==cc?(Ic=yg._currentValue,cc=cc.parent!==Ic?{parent:Ic,pool:Ic}:cc):cc=ed(),hb={baseLanes:hb.baseLanes|f,cachePool:cc}),v.memoizedState=hb,v.childLanes=uh(b,Ja,f),d.memoizedState=h,k;of(d);f=b.child;
b=f.sibling;f=Zb(f,{mode:"visible",children:k.children});f.return=d;f.sibling=null;null!==b&&(Ja=d.deletions,null===Ja?(d.deletions=[b],d.flags|=16):Ja.push(b));d.child=f;d.memoizedState=null;return f}function Hg(b,d){d=Me({mode:"visible",children:d},b.mode);d.return=b;return b.child=d}function Me(b,d){b=Ya(22,b,null,d);b.lanes=0;b.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null};return b}function vh(b,d,f){Fj(d,b.child,null,f);b=Hg(d,d.pendingProps.children);b.flags|=
2;d.memoizedState=null;return b}function Mg(b,d,f){b.lanes|=d;var k=b.alternate;null!==k&&(k.lanes|=d);Ee(b.return,d,f)}function Af(b,d,f,k,v){var N=b.memoizedState;null===N?b.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:k,tail:f,tailMode:v}:(N.isBackwards=d,N.rendering=null,N.renderingStartTime=0,N.last=k,N.tail=f,N.tailMode=v)}function cj(b,d,f){var k=d.pendingProps,v=k.revealOrder,N=k.tail;$f(b,d,k.children,f);k=sg.current;if(0!==(k&2))k=k&1|2,d.flags|=128;else{if(null!==
b&&0!==(b.flags&128))a:for(b=d.child;null!==b;){if(13===b.tag)null!==b.memoizedState&&Mg(b,f,d);else if(19===b.tag)Mg(b,f,d);else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===d)break a;for(;null===b.sibling;){if(null===b.return||b.return===d)break a;b=b.return}b.sibling.return=b.return;b=b.sibling}k&=1}Yb(sg,k);switch(v){case "forwards":f=d.child;for(v=null;null!==f;)b=f.alternate,null!==b&&null===Rg(b)&&(v=f),f=f.sibling;f=v;null===f?(v=d.child,d.child=null):(v=f.sibling,f.sibling=
null);Af(d,!1,v,f,N);break;case "backwards":f=null;v=d.child;for(d.child=null;null!==v;){b=v.alternate;if(null!==b&&null===Rg(b)){d.child=v;break}b=v.sibling;v.sibling=f;f=v;v=b}Af(d,!0,f,null,N);break;case "together":Af(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function mg(b,d,f){null!==b&&(d.dependencies=b.dependencies);Fe|=d.lanes;if(0===(f&d.childLanes))if(null!==b){if(Uf(b,d,f,!1),0===(f&d.childLanes))return null}else return null;if(null!==b&&d.child!==b.child)throw Error(u(153));
if(null!==d.child){b=d.child;f=Zb(b,b.pendingProps);d.child=f;for(f.return=d;null!==b.sibling;)b=b.sibling,f=f.sibling=Zb(b,b.pendingProps),f.return=d;f.sibling=null}return d.child}function Gg(b,d){if(0!==(b.lanes&d))return!0;b=b.dependencies;return null!==b&&rf(b)?!0:!1}function wh(b,d,f){switch(d.tag){case 3:Ba(d,d.stateNode.containerInfo);ie(d,yg,b.memoizedState.cache);Ve();break;case 27:case 5:Cb(d);break;case 4:Ba(d,d.stateNode.containerInfo);break;case 10:ie(d,d.type,d.memoizedProps.value);
break;case 13:var k=d.memoizedState;if(null!==k){if(null!==k.dehydrated)return of(d),d.flags|=128,null;if(0!==(f&d.child.childLanes))return Hh(b,d,f);of(d);b=mg(b,d,f);return null!==b?b.sibling:null}of(d);break;case 19:var v=0!==(b.flags&128);(k=0!==(f&d.childLanes))||(Uf(b,d,f,!1),k=0!==(f&d.childLanes));if(v){if(k)return cj(b,d,f);d.flags|=128}v=d.memoizedState;null!==v&&(v.rendering=null,v.tail=null,v.lastEffect=null);Yb(sg,sg.current);if(k)break;else return null;case 22:case 23:return d.lanes=
0,si(b,d,f);case 24:ie(d,yg,b.memoizedState.cache)}return mg(b,d,f)}function dj(b,d,f){if(null!==b)if(b.memoizedProps!==d.pendingProps)g=!0;else{if(!Gg(b,f)&&0===(d.flags&128))return g=!1,wh(b,d,f);g=0!==(b.flags&131072)?!0:!1}else g=!1,Ue&&0!==(d.flags&1048576)&&zd(d,mi,d.index);d.lanes=0;switch(d.tag){case 16:a:{b=d.pendingProps;var k=d.elementType,v=k._init;k=v(k._payload);d.type=k;if("function"===typeof k)Tb(k)?(b=Fg(k,b),d.tag=1,d=Li(null,d,k,b,f)):(d.tag=0,d=Fh(null,d,k,b,f));else{if(void 0!==
k&&null!==k)if(v=k.$$typeof,v===pj){d.tag=11;d=ci(null,d,k,b,f);break a}else if(v===tl){d.tag=14;d=Th(null,d,k,b,f);break a}d=yb(k)||k;throw Error(u(306,d,""));}}return d;case 0:return Fh(b,d,d.type,d.pendingProps,f);case 1:return k=d.type,v=Fg(k,d.pendingProps),Li(b,d,k,v,f);case 3:a:{Ba(d,d.stateNode.containerInfo);if(null===b)throw Error(u(387));k=d.pendingProps;var N=d.memoizedState;v=N.element;df(b,d);Qe(d,k,null,f);var Ja=d.memoizedState;k=Ja.cache;ie(d,yg,k);k!==N.cache&&Fd(d,[yg],f,!0);Ae();
k=Ja.element;if(N.isDehydrated)if(N={element:k,isDehydrated:!1,cache:Ja.cache},d.updateQueue.baseState=N,d.memoizedState=N,d.flags&256){Ve();d.flags|=256;$f(b,d,k,f);d=d.child;break a}else if(k!==v){v=z(Error(u(424)),d);He(v);Ve();d.flags|=256;$f(b,d,k,f);d=d.child;break a}else{b=d.stateNode.containerInfo;switch(b.nodeType){case 9:b=b.body;break;default:b="HTML"===b.nodeName?b.ownerDocument.body:b}Tf=Eh(b.firstChild);xg=d;Ue=!0;ni=null;ai=!0;f=Bm(d,null,k,f);for(d.child=f;f;)f.flags=f.flags&-3|4096,
f=f.sibling}else{Ve();if(k===v){d=mg(b,d,f);break a}$f(b,d,k,f)}d=d.child}return d;case 26:return di(b,d),null===b?(f=Cm(d.type,null,d.pendingProps,null))?d.memoizedState=f:Ue||(f=d.type,b=d.pendingProps,k=mh(Kg.current).createElement(f),k[Cg]=d,k[Tg]=b,Se(k,f,b),n(k),d.stateNode=k):d.memoizedState=Cm(d.type,b.memoizedProps,d.pendingProps,b.memoizedState),null;case 27:return Cb(d),null===b&&Ue&&(k=d.stateNode=Kl(d.type,d.pendingProps,Kg.current),xg=d,ai=!0,v=Tf,"head"===d.type?(qn=v,Tf=Eh(k.firstChild)):
Tf=v),$f(b,d,d.pendingProps.children,f),di(b,d),null===b&&(d.flags|=4194304),d.child;case 5:if(null===b&&Ue){if(v=k=Tf)k=Dm(k,d.type,d.pendingProps,ai),null!==k?(d.stateNode=k,xg=d,Tf=Eh(k.firstChild),ai=!1,v=!0):v=!1;v||$d(d)}Cb(d);v=d.type;N=d.pendingProps;Ja=null!==b?b.memoizedProps:null;k=N.children;ik(v,N)?k=null:null!==Ja&&ik(v,Ja)&&(d.flags|=32);null!==d.memoizedState&&(v=K(b,d,Sa,null,null,f),vl._currentValue=v);di(b,d);$f(b,d,k,f);return d.child;case 6:if(null===b&&Ue){if(b=f=Tf)f=Em(f,d.pendingProps,
ai),null!==f?(d.stateNode=f,xg=d,Tf=null,b=!0):b=!1;b||$d(d)}return null;case 13:return Hh(b,d,f);case 4:return Ba(d,d.stateNode.containerInfo),k=d.pendingProps,null===b?d.child=Fj(d,null,k,f):$f(b,d,k,f),d.child;case 11:return ci(b,d,d.type,d.pendingProps,f);case 7:return $f(b,d,d.pendingProps,f),d.child;case 8:return $f(b,d,d.pendingProps.children,f),d.child;case 12:return $f(b,d,d.pendingProps.children,f),d.child;case 10:return k=d.pendingProps,ie(d,d.type,k.value),$f(b,d,k.children,f),d.child;
case 9:return v=d.type._context,k=d.pendingProps.children,Ne(d),v=ze(v),k=k(v),d.flags|=1,$f(b,d,k,f),d.child;case 14:return Th(b,d,d.type,d.pendingProps,f);case 15:return th(b,d,d.type,d.pendingProps,f);case 19:return cj(b,d,f);case 31:return k=d.pendingProps,f=d.mode,k={mode:k.mode,children:k.children},null===b?(f=Me(k,f),f.ref=d.ref,d.child=f,f.return=d,d=f):(f=Zb(b.child,k),f.ref=d.ref,d.child=f,f.return=d,d=f),d;case 22:return si(b,d,f);case 24:return Ne(d),k=ze(yg),null===b?(v=hd(),null===v&&
(v=Jc,N=dg(),v.pooledCache=N,N.refCount++,null!==N&&(v.pooledCacheLanes|=f),v=N),d.memoizedState={parent:k,cache:v},oe(d),ie(d,yg,v)):(0!==(b.lanes&f)&&(df(b,d),Qe(d,null,null,f),Ae()),v=b.memoizedState,N=d.memoizedState,v.parent!==k?(v={parent:k,cache:k},d.memoizedState=v,0===d.lanes&&(d.memoizedState=d.updateQueue.baseState=v),ie(d,yg,k)):(k=N.cache,ie(d,yg,k),k!==v.cache&&Fd(d,[yg],f,!0))),$f(b,d,d.pendingProps.children,f),d.child;case 29:throw d.pendingProps;}throw Error(u(156,d.tag));}function Ih(b,
d){if("stylesheet"!==d.type||0!==(d.state.loading&4))b.flags&=-16777217;else if(b.flags|=16777216,!Ll(d)){d=ah.current;if(null!==d&&((jd&4194048)===jd?null!==Ph:(jd&62914560)!==jd&&0===(jd&536870912)||d!==Ph))throw Yi=Jl,Fm;b.flags|=8192}}function ei(b,d){null!==d&&(b.flags|=4);b.flags&16384&&(d=22!==b.tag?Ua():536870912,b.lanes|=d,Vh|=d)}function F(b,d){if(!Ue)switch(b.tailMode){case "hidden":d=b.tail;for(var f=null;null!==d;)null!==d.alternate&&(f=d),d=d.sibling;null===f?b.tail=null:f.sibling=null;
break;case "collapsed":f=b.tail;for(var k=null;null!==f;)null!==f.alternate&&(k=f),f=f.sibling;null===k?d||null===b.tail?b.tail=null:b.tail.sibling=null:k.sibling=null}}function Z(b){var d=null!==b.alternate&&b.alternate.child===b.child,f=0,k=0;if(d)for(var v=b.child;null!==v;)f|=v.lanes|v.childLanes,k|=v.subtreeFlags&65011712,k|=v.flags&65011712,v.return=b,v=v.sibling;else for(v=b.child;null!==v;)f|=v.lanes|v.childLanes,k|=v.subtreeFlags,k|=v.flags,v.return=b,v=v.sibling;b.subtreeFlags|=k;b.childLanes=
f;return d}function za(b,d,f){var k=d.pendingProps;Kd(d);switch(d.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Z(d),null;case 1:return Z(d),null;case 3:f=d.stateNode;k=null;null!==b&&(k=b.memoizedState.cache);d.memoizedState.cache!==k&&(d.flags|=2048);ne(yg);bb();f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null);if(null===b||null===b.child)Le(d)?d.flags|=4:null===b||b.memoizedState.isDehydrated&&0===(d.flags&256)||(d.flags|=1024,Ie());
Z(d);return null;case 26:return f=d.memoizedState,null===b?(d.flags|=4,null!==f?(Z(d),Ih(d,f)):(Z(d),d.flags&=-16777217)):f?f!==b.memoizedState?(d.flags|=4,Z(d),Ih(d,f)):(Z(d),d.flags&=-16777217):(b.memoizedProps!==k&&(d.flags|=4),Z(d),d.flags&=-16777217),null;case 27:xb(d);f=Kg.current;var v=d.type;if(null!==b&&null!=d.stateNode)b.memoizedProps!==k&&(d.flags|=4);else{if(!k){if(null===d.stateNode)throw Error(u(166));Z(d);return null}b=Jh.current;Le(d)?Te(d,b):(b=Kl(v,k,f),d.stateNode=b,d.flags|=4)}Z(d);
return null;case 5:xb(d);f=d.type;if(null!==b&&null!=d.stateNode)b.memoizedProps!==k&&(d.flags|=4);else{if(!k){if(null===d.stateNode)throw Error(u(166));Z(d);return null}b=Jh.current;if(Le(d))Te(d,b);else{v=mh(Kg.current);switch(b){case 1:b=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:b=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case "svg":b=v.createElementNS("http://www.w3.org/2000/svg",f);break;case "math":b=v.createElementNS("http://www.w3.org/1998/Math/MathML",
f);break;case "script":b=v.createElement("div");b.innerHTML="\x3cscript\x3e\x3c/script\x3e";b=b.removeChild(b.firstChild);break;case "select":b="string"===typeof k.is?v.createElement("select",{is:k.is}):v.createElement("select");k.multiple?b.multiple=!0:k.size&&(b.size=k.size);break;default:b="string"===typeof k.is?v.createElement(f,{is:k.is}):v.createElement(f)}}b[Cg]=d;b[Tg]=k;v=d.child;a:for(;null!==v;){if(5===v.tag||6===v.tag)b.appendChild(v.stateNode);else if(4!==v.tag&&27!==v.tag&&null!==v.child){v.child.return=
v;v=v.child;continue}if(v===d)break a;for(;null===v.sibling;){if(null===v.return||v.return===d)break a;v=v.return}v.sibling.return=v.return;v=v.sibling}d.stateNode=b;a:switch(Se(b,f,k),f){case "button":case "input":case "select":case "textarea":b=!!k.autoFocus;break a;case "img":b=!0;break a;default:b=!1}b&&(d.flags|=4)}}Z(d);d.flags&=-16777217;return null;case 6:if(b&&null!=d.stateNode)b.memoizedProps!==k&&(d.flags|=4);else{if("string"!==typeof k&&null===d.stateNode)throw Error(u(166));b=Kg.current;
if(Le(d)){b=d.stateNode;f=d.memoizedProps;k=null;v=xg;if(null!==v)switch(v.tag){case 27:case 5:k=v.memoizedProps}b[Cg]=d;(b=b.nodeValue===f||null!==k&&!0===k.suppressHydrationWarning||ud(b.nodeValue,f)?!0:!1)||$d(d)}else b=mh(b).createTextNode(k),b[Cg]=d,d.stateNode=b}Z(d);return null;case 13:k=d.memoizedState;if(null===b||null!==b.memoizedState&&null!==b.memoizedState.dehydrated){v=Le(d);if(null!==k&&null!==k.dehydrated){if(null===b){if(!v)throw Error(u(318));v=d.memoizedState;v=null!==v?v.dehydrated:
null;if(!v)throw Error(u(317));v[Cg]=d}else Ve(),0===(d.flags&128)&&(d.memoizedState=null),d.flags|=4;Z(d);v=!1}else v=Ie(),null!==b&&null!==b.memoizedState&&(b.memoizedState.hydrationErrors=v),v=!0;if(!v){if(d.flags&256)return Mf(d),d;Mf(d);return null}}Mf(d);if(0!==(d.flags&128))return d.lanes=f,d;f=null!==k;b=null!==b&&null!==b.memoizedState;if(f){k=d.child;v=null;null!==k.alternate&&null!==k.alternate.memoizedState&&null!==k.alternate.memoizedState.cachePool&&(v=k.alternate.memoizedState.cachePool.pool);
var N=null;null!==k.memoizedState&&null!==k.memoizedState.cachePool&&(N=k.memoizedState.cachePool.pool);N!==v&&(k.flags|=2048)}f!==b&&f&&(d.child.flags|=8192);ei(d,d.updateQueue);Z(d);return null;case 4:return bb(),null===b&&Ig(d.stateNode.containerInfo),Z(d),null;case 10:return ne(d.type),Z(d),null;case 19:Lb(sg);v=d.memoizedState;if(null===v)return Z(d),null;k=0!==(d.flags&128);N=v.rendering;if(null===N)if(k)F(v,!1);else{if(0!==De||null!==b&&0!==(b.flags&128))for(b=d.child;null!==b;){N=Rg(b);if(null!==
N){d.flags|=128;F(v,!1);b=N.updateQueue;d.updateQueue=b;ei(d,b);d.subtreeFlags=0;b=f;for(f=d.child;null!==f;)jc(f,b),f=f.sibling;Yb(sg,sg.current&1|2);return d.child}b=b.sibling}null!==v.tail&&fi()>mk&&(d.flags|=128,k=!0,F(v,!1),d.lanes=4194304)}else{if(!k)if(b=Rg(N),null!==b){if(d.flags|=128,k=!0,b=b.updateQueue,d.updateQueue=b,ei(d,b),F(v,!0),null===v.tail&&"hidden"===v.tailMode&&!N.alternate&&!Ue)return Z(d),null}else 2*fi()-v.renderingStartTime>mk&&536870912!==f&&(d.flags|=128,k=!0,F(v,!1),d.lanes=
4194304);v.isBackwards?(N.sibling=d.child,d.child=N):(b=v.last,null!==b?b.sibling=N:d.child=N,v.last=N)}if(null!==v.tail)return d=v.tail,v.rendering=d,v.tail=d.sibling,v.renderingStartTime=fi(),d.sibling=null,b=sg.current,Yb(sg,k?b&1|2:b&1),d;Z(d);return null;case 22:case 23:return Mf(d),qa(),k=null!==d.memoizedState,null!==b?null!==b.memoizedState!==k&&(d.flags|=8192):k&&(d.flags|=8192),k?0!==(f&536870912)&&0===(d.flags&128)&&(Z(d),d.subtreeFlags&6&&(d.flags|=8192)):Z(d),f=d.updateQueue,null!==f&&
ei(d,f.retryQueue),f=null,null!==b&&null!==b.memoizedState&&null!==b.memoizedState.cachePool&&(f=b.memoizedState.cachePool.pool),k=null,null!==d.memoizedState&&null!==d.memoizedState.cachePool&&(k=d.memoizedState.cachePool.pool),k!==f&&(d.flags|=2048),null!==b&&Lb(eg),null;case 24:return f=null,null!==b&&(f=b.memoizedState.cache),d.memoizedState.cache!==f&&(d.flags|=2048),ne(yg),Z(d),null;case 25:return null;case 30:return null}throw Error(u(156,d.tag));}function Qa(b,d){Kd(d);switch(d.tag){case 1:return b=
d.flags,b&65536?(d.flags=b&-65537|128,d):null;case 3:return ne(yg),bb(),b=d.flags,0!==(b&65536)&&0===(b&128)?(d.flags=b&-65537|128,d):null;case 26:case 27:case 5:return xb(d),null;case 13:Mf(d);b=d.memoizedState;if(null!==b&&null!==b.dehydrated){if(null===d.alternate)throw Error(u(340));Ve()}b=d.flags;return b&65536?(d.flags=b&-65537|128,d):null;case 19:return Lb(sg),null;case 4:return bb(),null;case 10:return ne(d.type),null;case 22:case 23:return Mf(d),qa(),null!==b&&Lb(eg),b=d.flags,b&65536?(d.flags=
b&-65537|128,d):null;case 24:return ne(yg),null;case 25:return null;default:return null}}function Kb(b,d){Kd(d);switch(d.tag){case 3:ne(yg);bb();break;case 26:case 27:case 5:xb(d);break;case 4:bb();break;case 13:Mf(d);break;case 19:Lb(sg);break;case 10:ne(d.type);break;case 22:case 23:Mf(d);qa();null!==b&&Lb(eg);break;case 24:ne(yg)}}function Ib(b,d){try{var f=d.updateQueue,k=null!==f?f.lastEffect:null;if(null!==k){var v=k.next;f=v;do{if((f.tag&b)===b){k=void 0;var N=f.create,Ja=f.inst;k=N();Ja.destroy=
k}f=f.next}while(f!==v)}}catch(hb){wf(d,d.return,hb)}}function bc(b,d,f){try{var k=d.updateQueue,v=null!==k?k.lastEffect:null;if(null!==v){var N=v.next;k=N;do{if((k.tag&b)===b){var Ja=k.inst,hb=Ja.destroy;if(void 0!==hb){Ja.destroy=void 0;v=d;var cc=f,Ic=hb;try{Ic()}catch(Xc){wf(v,cc,Xc)}}}k=k.next}while(k!==N)}}catch(Xc){wf(d,d.return,Xc)}}function t(b){var d=b.updateQueue;if(null!==d){var f=b.stateNode;try{qe(d,f)}catch(k){wf(b,b.return,k)}}}function L(b,d,f){f.props=Fg(b.type,b.memoizedProps);
f.state=b.memoizedState;try{f.componentWillUnmount()}catch(k){wf(b,d,k)}}function fa(b,d){try{var f=b.ref;if(null!==f){switch(b.tag){case 26:case 27:case 5:var k=b.stateNode;break;case 30:k=b.stateNode;break;default:k=b.stateNode}"function"===typeof f?b.refCleanup=f(k):f.current=k}}catch(v){wf(b,d,v)}}function ta(b,d){var f=b.ref,k=b.refCleanup;if(null!==f)if("function"===typeof k)try{k()}catch(v){wf(b,d,v)}finally{b.refCleanup=null,b=b.alternate,null!=b&&(b.refCleanup=null)}else if("function"===
typeof f)try{f(null)}catch(v){wf(b,d,v)}else f.current=null}function db(b){var d=b.type,f=b.memoizedProps,k=b.stateNode;try{a:switch(d){case "button":case "input":case "select":case "textarea":f.autoFocus&&k.focus();break a;case "img":f.src?k.src=f.src:f.srcSet&&(k.srcset=f.srcSet)}}catch(v){wf(b,b.return,v)}}function Rb(b,d,f){try{var k=b.stateNode;Bg(k,b.type,f,d);k[Tg]=d}catch(v){wf(b,b.return,v)}}function hc(b){return 5===b.tag||3===b.tag||26===b.tag||27===b.tag&&"head"===b.type||4===b.tag}function Dc(b){a:for(;;){for(;null===
b.sibling;){if(null===b.return||hc(b.return))return null;b=b.return}b.sibling.return=b.return;for(b=b.sibling;5!==b.tag&&6!==b.tag&&18!==b.tag;){if(27===b.tag&&"head"===b.type)continue a;if(b.flags&2)continue a;if(null===b.child||4===b.tag)continue a;else b.child.return=b,b=b.child}if(!(b.flags&2))return b.stateNode}}function dc(b,d,f){var k=b.tag;if(5===k||6===k)b=b.stateNode,d?(9===f.nodeType?f.body:"HTML"===f.nodeName?f.ownerDocument.body:f).insertBefore(b,d):(d=9===f.nodeType?f.body:"HTML"===
f.nodeName?f.ownerDocument.body:f,d.appendChild(b),f=f._reactRootContainer,null!==f&&void 0!==f||null!==d.onclick||(d.onclick=ff));else if(4!==k&&(27===k&&"head"===b.type&&(f=b.stateNode,d=null),b=b.child,null!==b))for(dc(b,d,f),b=b.sibling;null!==b;)dc(b,d,f),b=b.sibling}function Uc(b,d,f){var k=b.tag;if(5===k||6===k)b=b.stateNode,d?f.insertBefore(b,d):f.appendChild(b);else if(4!==k&&(27===k&&"head"===b.type&&(f=b.stateNode),b=b.child,null!==b))for(Uc(b,d,f),b=b.sibling;null!==b;)Uc(b,d,f),b=b.sibling}
function Qc(b){var d=b.stateNode,f=b.memoizedProps;try{for(var k=b.type,v=d.attributes;v.length;)d.removeAttributeNode(v[0]);Se(d,k,f);d[Cg]=b;d[Tg]=f}catch(N){wf(b,b.return,N)}}function wd(b,d){b=b.containerInfo;vn=Gm;b=Tc(b);if(ld(b)){if("selectionStart"in b)var f={start:b.selectionStart,end:b.selectionEnd};else a:{f=(f=b.ownerDocument)&&f.defaultView||window;var k=f.getSelection&&f.getSelection();if(k&&0!==k.rangeCount){f=k.anchorNode;var v=k.anchorOffset,N=k.focusNode;k=k.focusOffset;try{f.nodeType,
N.nodeType}catch(pe){f=null;break a}var Ja=0,hb=-1,cc=-1,Ic=0,Xc=0,cd=b,Mc=null;b:for(;;){for(var Nc;;){cd!==f||0!==v&&3!==cd.nodeType||(hb=Ja+v);cd!==N||0!==k&&3!==cd.nodeType||(cc=Ja+k);3===cd.nodeType&&(Ja+=cd.nodeValue.length);if(null===(Nc=cd.firstChild))break;Mc=cd;cd=Nc}for(;;){if(cd===b)break b;Mc===f&&++Ic===v&&(hb=Ja);Mc===N&&++Xc===k&&(cc=Ja);if(null!==(Nc=cd.nextSibling))break;cd=Mc;Mc=cd.parentNode}cd=Nc}f=-1===hb||-1===cc?null:{start:hb,end:cc}}else f=null}f=f||{start:0,end:0}}else f=
null;wn={focusedElem:b,selectionRange:f};Gm=!1;for(sa=d;null!==sa;)if(d=sa,b=d.child,0!==(d.subtreeFlags&1024)&&null!==b)b.return=d,sa=b;else for(;null!==sa;){d=sa;N=d.alternate;b=d.flags;switch(d.tag){case 0:break;case 11:case 15:break;case 1:if(0!==(b&1024)&&null!==N){b=void 0;f=d;v=N.memoizedProps;N=N.memoizedState;k=f.stateNode;try{var Be=Fg(f.type,v,f.elementType===f.type);b=k.getSnapshotBeforeUpdate(Be,N);k.__reactInternalSnapshotBeforeUpdate=b}catch(pe){wf(f,f.return,pe)}}break;case 3:if(0!==
(b&1024))if(b=d.stateNode.containerInfo,f=b.nodeType,9===f)Vk(b);else if(1===f)switch(b.nodeName){case "HEAD":case "HTML":case "BODY":Vk(b);break;default:b.textContent=""}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(0!==(b&1024))throw Error(u(163));}b=d.sibling;if(null!==b){b.return=d.return;sa=b;break}sa=d.return}}function Qd(b,d,f){var k=f.flags;switch(f.tag){case 0:case 11:case 15:bf(b,f);k&4&&Ib(5,f);break;case 1:bf(b,f);if(k&4)if(b=f.stateNode,null===d)try{b.componentDidMount()}catch(Ja){wf(f,
f.return,Ja)}else{var v=Fg(f.type,d.memoizedProps);d=d.memoizedState;try{b.componentDidUpdate(v,d,b.__reactInternalSnapshotBeforeUpdate)}catch(Ja){wf(f,f.return,Ja)}}k&64&&t(f);k&512&&fa(f,f.return);break;case 3:bf(b,f);if(k&64&&(b=f.updateQueue,null!==b)){d=null;if(null!==f.child)switch(f.child.tag){case 27:case 5:d=f.child.stateNode;break;case 1:d=f.child.stateNode}try{qe(b,d)}catch(Ja){wf(f,f.return,Ja)}}break;case 27:null===d&&k&4&&Qc(f);case 26:case 5:bf(b,f);null===d&&k&4&&db(f);k&512&&fa(f,
f.return);break;case 12:bf(b,f);break;case 13:bf(b,f);k&4&&jf(b,f);k&64&&(b=f.memoizedState,null!==b&&(b=b.dehydrated,null!==b&&(f=O.bind(null,f),xn(b,f))));break;case 22:k=null!==f.memoizedState||q;if(!k){d=null!==d&&null!==d.memoizedState||C;v=q;var N=C;q=k;(C=d)&&!N?ng(b,f,0!==(f.subtreeFlags&8772)):bf(b,f);q=v;C=N}break;case 30:break;default:bf(b,f)}}function Yd(b){var d=b.alternate;null!==d&&(b.alternate=null,Yd(d));b.child=null;b.deletions=null;b.sibling=null;5===b.tag&&(d=b.stateNode,null!==
d&&Ha(d));b.stateNode=null;b.return=null;b.dependencies=null;b.memoizedProps=null;b.memoizedState=null;b.pendingProps=null;b.stateNode=null;b.updateQueue=null}function me(b,d,f){for(f=f.child;null!==f;)Df(b,d,f),f=f.sibling}function Df(b,d,f){if(fh&&"function"===typeof fh.onCommitFiberUnmount)try{fh.onCommitFiberUnmount(ck,f)}catch(N){}switch(f.tag){case 26:C||ta(f,d);me(b,d,f);f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:C||ta(f,d);
var k=Ta,v=mb;"head"===f.type&&(Ta=f.stateNode,mb=!1);me(b,d,f);Hj(f.stateNode);Ta=k;mb=v;break;case 5:C||ta(f,d);case 6:k=Ta;v=mb;Ta=null;me(b,d,f);Ta=k;mb=v;if(null!==Ta)if(mb)try{(9===Ta.nodeType?Ta.body:"HTML"===Ta.nodeName?Ta.ownerDocument.body:Ta).removeChild(f.stateNode)}catch(N){wf(f,d,N)}else try{Ta.removeChild(f.stateNode)}catch(N){wf(f,d,N)}break;case 18:null!==Ta&&(mb?(b=Ta,nk(9===b.nodeType?b.body:"HTML"===b.nodeName?b.ownerDocument.body:b,f.stateNode),ej(b)):nk(Ta,f.stateNode));break;
case 4:k=Ta;v=mb;Ta=f.stateNode.containerInfo;mb=!0;me(b,d,f);Ta=k;mb=v;break;case 0:case 11:case 14:case 15:C||bc(2,f,d);C||bc(4,f,d);me(b,d,f);break;case 1:C||(ta(f,d),k=f.stateNode,"function"===typeof k.componentWillUnmount&&L(f,d,k));me(b,d,f);break;case 21:me(b,d,f);break;case 22:C=(k=C)||null!==f.memoizedState;me(b,d,f);C=k;break;default:me(b,d,f)}}function jf(b,d){if(null===d.memoizedState&&(b=d.alternate,null!==b&&(b=b.memoizedState,null!==b&&(b=b.dehydrated,null!==b))))try{ej(b)}catch(f){wf(d,
d.return,f)}}function bh(b){switch(b.tag){case 13:case 19:var d=b.stateNode;null===d&&(d=b.stateNode=new ba);return d;case 22:return b=b.stateNode,d=b._retryCache,null===d&&(d=b._retryCache=new ba),d;default:throw Error(u(435,b.tag));}}function he(b,d){var f=bh(b);d.forEach(function(k){var v=la.bind(null,b,k);f.has(k)||(f.add(k),k.then(v,v))})}function je(b,d){var f=d.deletions;if(null!==f)for(var k=0;k<f.length;k++){var v=f[k],N=b,Ja=d,hb=Ja;a:for(;null!==hb;){switch(hb.tag){case 27:if("head"===
hb.type){Ta=hb.stateNode;mb=!1;break a}break;case 5:Ta=hb.stateNode;mb=!1;break a;case 3:case 4:Ta=hb.stateNode.containerInfo;mb=!0;break a}hb=hb.return}if(null===Ta)throw Error(u(160));Df(N,Ja,v);Ta=null;mb=!1;N=v.alternate;null!==N&&(N.return=null);v.return=null}if(d.subtreeFlags&13878)for(d=d.child;null!==d;)gi(d,b),d=d.sibling}function gi(b,d){var f=b.alternate,k=b.flags;switch(b.tag){case 0:case 11:case 14:case 15:je(d,b);Rf(b);k&4&&(bc(3,b,b.return),Ib(3,b),bc(5,b,b.return));break;case 1:je(d,
b);Rf(b);k&512&&(C||null===f||ta(f,f.return));k&64&&q&&(b=b.updateQueue,null!==b&&(k=b.callbacks,null!==k&&(f=b.shared.hiddenCallbacks,b.shared.hiddenCallbacks=null===f?k:f.concat(k))));break;case 26:var v=ac;je(d,b);Rf(b);k&512&&(C||null===f||ta(f,f.return));if(k&4){var N=null!==f?f.memoizedState:null;k=b.memoizedState;if(null===f)if(null===k)if(null===b.stateNode){a:{k=b.type;f=b.memoizedProps;v=v.ownerDocument||v;b:switch(k){case "title":N=v.getElementsByTagName("title")[0];if(!N||N[Kh]||N[Cg]||
"http://www.w3.org/2000/svg"===N.namespaceURI||N.hasAttribute("itemprop"))N=v.createElement(k),v.head.insertBefore(N,v.querySelector("head \x3e title"));Se(N,k,f);N[Cg]=b;n(N);k=N;break a;case "link":var Ja=Hm("link","href",v).get(k+(f.href||""));if(Ja)for(var hb=0;hb<Ja.length;hb++)if(N=Ja[hb],N.getAttribute("href")===(null==f.href||""===f.href?null:f.href)&&N.getAttribute("rel")===(null==f.rel?null:f.rel)&&N.getAttribute("title")===(null==f.title?null:f.title)&&N.getAttribute("crossorigin")===(null==
f.crossOrigin?null:f.crossOrigin)){Ja.splice(hb,1);break b}N=v.createElement(k);Se(N,k,f);v.head.appendChild(N);break;case "meta":if(Ja=Hm("meta","content",v).get(k+(f.content||"")))for(hb=0;hb<Ja.length;hb++)if(N=Ja[hb],N.getAttribute("content")===(null==f.content?null:""+f.content)&&N.getAttribute("name")===(null==f.name?null:f.name)&&N.getAttribute("property")===(null==f.property?null:f.property)&&N.getAttribute("http-equiv")===(null==f.httpEquiv?null:f.httpEquiv)&&N.getAttribute("charset")===
(null==f.charSet?null:f.charSet)){Ja.splice(hb,1);break b}N=v.createElement(k);Se(N,k,f);v.head.appendChild(N);break;default:throw Error(u(468,k));}N[Cg]=b;n(N);k=N}b.stateNode=k}else Im(v,b.type,b.stateNode);else b.stateNode=Ml(v,k,b.memoizedProps);else N!==k?(null===N?null!==f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f)):N.count--,null===k?Im(v,b.type,b.stateNode):Ml(v,k,b.memoizedProps)):null===k&&null!==b.stateNode&&Rb(b,b.memoizedProps,f.memoizedProps)}break;case 27:je(d,b);Rf(b);k&
512&&(C||null===f||ta(f,f.return));null!==f&&k&4&&Rb(b,b.memoizedProps,f.memoizedProps);break;case 5:je(d,b);Rf(b);k&512&&(C||null===f||ta(f,f.return));if(b.flags&32){v=b.stateNode;try{Qb(v,"")}catch(Nc){wf(b,b.return,Nc)}}k&4&&null!=b.stateNode&&(v=b.memoizedProps,Rb(b,v,null!==f?f.memoizedProps:v));k&1024&&(S=!0);break;case 6:je(d,b);Rf(b);if(k&4){if(null===b.stateNode)throw Error(u(162));k=b.memoizedProps;f=b.stateNode;try{f.nodeValue=k}catch(Nc){wf(b,b.return,Nc)}}break;case 3:Jm=null;v=ac;ac=
Wk(d.containerInfo);je(d,b);ac=v;Rf(b);if(k&4&&null!==f&&f.memoizedState.isDehydrated)try{ej(d.containerInfo)}catch(Nc){wf(b,b.return,Nc)}S&&(S=!1,ti(b));break;case 4:k=ac;ac=Wk(b.stateNode.containerInfo);je(d,b);Rf(b);ac=k;break;case 12:je(d,b);Rf(b);break;case 13:je(d,b);Rf(b);b.child.flags&8192&&null!==b.memoizedState!==(null!==f&&null!==f.memoizedState)&&(hi=fi());k&4&&(k=b.updateQueue,null!==k&&(b.updateQueue=null,he(b,k)));break;case 22:v=null!==b.memoizedState;var cc=null!==f&&null!==f.memoizedState,
Ic=q,Xc=C;q=Ic||v;C=Xc||cc;je(d,b);C=Xc;q=Ic;Rf(b);if(k&8192)a:for(d=b.stateNode,d._visibility=v?d._visibility&-2:d._visibility|1,v&&(null===f||cc||q||C||ag(b)),f=null,d=b;;){if(5===d.tag||26===d.tag){if(null===f){cc=f=d;try{if(N=cc.stateNode,v)Ja=N.style,"function"===typeof Ja.setProperty?Ja.setProperty("display","none","important"):Ja.display="none";else{hb=cc.stateNode;var cd=cc.memoizedProps.style,Mc=void 0!==cd&&null!==cd&&cd.hasOwnProperty("display")?cd.display:null;hb.style.display=null==Mc||
"boolean"===typeof Mc?"":(""+Mc).trim()}}catch(Nc){wf(cc,cc.return,Nc)}}}else if(6===d.tag){if(null===f){cc=d;try{cc.stateNode.nodeValue=v?"":cc.memoizedProps}catch(Nc){wf(cc,cc.return,Nc)}}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===b)&&null!==d.child){d.child.return=d;d=d.child;continue}if(d===b)break a;for(;null===d.sibling;){if(null===d.return||d.return===b)break a;f===d&&(f=null);d=d.return}f===d&&(f=null);d.sibling.return=d.return;d=d.sibling}k&4&&(k=b.updateQueue,null!==k&&
(f=k.retryQueue,null!==f&&(k.retryQueue=null,he(b,f))));break;case 19:je(d,b);Rf(b);k&4&&(k=b.updateQueue,null!==k&&(b.updateQueue=null,he(b,k)));break;case 30:break;case 21:break;default:je(d,b),Rf(b)}}function Rf(b){var d=b.flags;if(d&2){try{for(var f,k=b.return;null!==k;){if(hc(k)){f=k;break}k=k.return}if(null==f)throw Error(u(160));switch(f.tag){case 27:var v=f.stateNode,N=Dc(b);Uc(b,N,v);break;case 5:var Ja=f.stateNode;f.flags&32&&(Qb(Ja,""),f.flags&=-33);var hb=Dc(b);Uc(b,hb,Ja);break;case 3:case 4:var cc=
f.stateNode.containerInfo,Ic=Dc(b);dc(b,Ic,cc);break;default:throw Error(u(161));}}catch(Xc){wf(b,b.return,Xc)}b.flags&=-3}d&4096&&(b.flags&=-4097)}function ti(b){if(b.subtreeFlags&1024)for(b=b.child;null!==b;){var d=b;ti(d);5===d.tag&&d.flags&1024&&d.stateNode.reset();b=b.sibling}}function bf(b,d){if(d.subtreeFlags&8772)for(d=d.child;null!==d;)Qd(b,d.alternate,d),d=d.sibling}function ag(b){for(b=b.child;null!==b;){var d=b;switch(d.tag){case 0:case 11:case 14:case 15:bc(4,d,d.return);ag(d);break;
case 1:ta(d,d.return);var f=d.stateNode;"function"===typeof f.componentWillUnmount&&L(d,d.return,f);ag(d);break;case 27:Hj(d.stateNode);case 26:case 5:ta(d,d.return);ag(d);break;case 22:null===d.memoizedState&&ag(d);break;case 30:ag(d);break;default:ag(d)}b=b.sibling}}function ng(b,d,f){f=f&&0!==(d.subtreeFlags&8772);for(d=d.child;null!==d;){var k=d.alternate,v=b,N=d,Ja=N.flags;switch(N.tag){case 0:case 11:case 15:ng(v,N,f);Ib(4,N);break;case 1:ng(v,N,f);k=N;v=k.stateNode;if("function"===typeof v.componentDidMount)try{v.componentDidMount()}catch(Ic){wf(k,
k.return,Ic)}k=N;v=k.updateQueue;if(null!==v){var hb=k.stateNode;try{var cc=v.shared.hiddenCallbacks;if(null!==cc)for(v.shared.hiddenCallbacks=null,v=0;v<cc.length;v++)kf(cc[v],hb)}catch(Ic){wf(k,k.return,Ic)}}f&&Ja&64&&t(N);fa(N,N.return);break;case 27:Qc(N);case 26:case 5:ng(v,N,f);f&&null===k&&Ja&4&&db(N);fa(N,N.return);break;case 12:ng(v,N,f);break;case 13:ng(v,N,f);f&&Ja&4&&jf(v,N);break;case 22:null===N.memoizedState&&ng(v,N,f);fa(N,N.return);break;case 30:break;default:ng(v,N,f)}d=d.sibling}}
function Bf(b,d){var f=null;null!==b&&null!==b.memoizedState&&null!==b.memoizedState.cachePool&&(f=b.memoizedState.cachePool.pool);b=null;null!==d.memoizedState&&null!==d.memoizedState.cachePool&&(b=d.memoizedState.cachePool.pool);b!==f&&(null!=b&&b.refCount++,null!=f&&gf(f))}function pf(b,d){b=null;null!==d.alternate&&(b=d.alternate.memoizedState.cache);d=d.memoizedState.cache;d!==b&&(d.refCount++,null!=b&&gf(b))}function Ff(b,d,f,k){if(d.subtreeFlags&10256)for(d=d.child;null!==d;)Wh(b,d,f,k),d=
d.sibling}function Wh(b,d,f,k){var v=d.flags;switch(d.tag){case 0:case 11:case 15:Ff(b,d,f,k);v&2048&&Ib(9,d);break;case 1:Ff(b,d,f,k);break;case 3:Ff(b,d,f,k);v&2048&&(b=null,null!==d.alternate&&(b=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==b&&(d.refCount++,null!=b&&gf(b)));break;case 12:if(v&2048){Ff(b,d,f,k);b=d.stateNode;try{var N=d.memoizedProps,Ja=N.id,hb=N.onPostCommit;"function"===typeof hb&&hb(Ja,null===d.alternate?"mount":"update",b.passiveEffectDuration,-0)}catch(cc){wf(d,
d.return,cc)}}else Ff(b,d,f,k);break;case 13:Ff(b,d,f,k);break;case 23:break;case 22:N=d.stateNode;Ja=d.alternate;null!==d.memoizedState?N._visibility&2?Ff(b,d,f,k):nh(b,d):N._visibility&2?Ff(b,d,f,k):(N._visibility|=2,ch(b,d,f,k,0!==(d.subtreeFlags&10256)));v&2048&&Bf(Ja,d);break;case 24:Ff(b,d,f,k);v&2048&&pf(d.alternate,d);break;default:Ff(b,d,f,k)}}function ch(b,d,f,k,v){v=v&&0!==(d.subtreeFlags&10256);for(d=d.child;null!==d;){var N=b,Ja=d,hb=f,cc=k,Ic=Ja.flags;switch(Ja.tag){case 0:case 11:case 15:ch(N,
Ja,hb,cc,v);Ib(8,Ja);break;case 23:break;case 22:var Xc=Ja.stateNode;null!==Ja.memoizedState?Xc._visibility&2?ch(N,Ja,hb,cc,v):nh(N,Ja):(Xc._visibility|=2,ch(N,Ja,hb,cc,v));v&&Ic&2048&&Bf(Ja.alternate,Ja);break;case 24:ch(N,Ja,hb,cc,v);v&&Ic&2048&&pf(Ja.alternate,Ja);break;default:ch(N,Ja,hb,cc,v)}d=d.sibling}}function nh(b,d){if(d.subtreeFlags&10256)for(d=d.child;null!==d;){var f=b,k=d,v=k.flags;switch(k.tag){case 22:nh(f,k);v&2048&&Bf(k.alternate,k);break;case 24:nh(f,k);v&2048&&pf(k.alternate,
k);break;default:nh(f,k)}d=d.sibling}}function wg(b){if(b.subtreeFlags&Ec)for(b=b.child;null!==b;)Sf(b),b=b.sibling}function Sf(b){switch(b.tag){case 26:wg(b);b.flags&Ec&&null!==b.memoizedState&&Xh(ac,b.memoizedState,b.memoizedProps);break;case 5:wg(b);break;case 3:case 4:var d=ac;ac=Wk(b.stateNode.containerInfo);wg(b);ac=d;break;case 22:null===b.memoizedState&&(d=b.alternate,null!==d&&null!==d.memoizedState?(d=Ec,Ec=16777216,wg(b),Ec=d):wg(b));break;default:wg(b)}}function xh(b){var d=b.alternate;
if(null!==d&&(b=d.child,null!==b)){d.child=null;do d=b.sibling,b.sibling=null,b=d;while(null!==b)}}function ui(b){var d=b.deletions;if(0!==(b.flags&16)){if(null!==d)for(var f=0;f<d.length;f++){var k=d[f];sa=k;ok(k,b)}xh(b)}if(b.subtreeFlags&10256)for(b=b.child;null!==b;)pk(b),b=b.sibling}function pk(b){switch(b.tag){case 0:case 11:case 15:ui(b);b.flags&2048&&bc(9,b,b.return);break;case 3:ui(b);break;case 12:ui(b);break;case 22:var d=b.stateNode;null!==b.memoizedState&&d._visibility&2&&(null===b.return||
13!==b.return.tag)?(d._visibility&=-3,fj(b)):ui(b);break;default:ui(b)}}function fj(b){var d=b.deletions;if(0!==(b.flags&16)){if(null!==d)for(var f=0;f<d.length;f++){var k=d[f];sa=k;ok(k,b)}xh(b)}for(b=b.child;null!==b;){d=b;switch(d.tag){case 0:case 11:case 15:bc(8,d,d.return);fj(d);break;case 22:f=d.stateNode;f._visibility&2&&(f._visibility&=-3,fj(d));break;default:fj(d)}b=b.sibling}}function ok(b,d){for(;null!==sa;){var f=sa;switch(f.tag){case 0:case 11:case 15:bc(8,f,d);break;case 23:case 22:if(null!==
f.memoizedState&&null!==f.memoizedState.cachePool){var k=f.memoizedState.cachePool.pool;null!=k&&k.refCount++}break;case 24:gf(f.memoizedState.cache)}k=f.child;if(null!==k)k.return=f,sa=k;else a:for(f=b;null!==sa;){k=sa;var v=k.sibling,N=k.return;Yd(k);if(k===f){sa=null;break a}if(null!==v){v.return=N;sa=v;break a}sa=N}}}function Lg(){if(0!==(Hc&2)&&0!==jd)return jd&-jd;if(null!==be.T){var b=Mh;return 0!==b?b:Ld()}return U()}function Yf(){0===Gh&&(Gh=0===(jd&536870912)||Ue?xa():536870912);var b=ah.current;
null!==b&&(b.flags|=32);return Gh}function Xg(b,d,f){if(b===Jc&&(2===Ad||9===Ad)||null!==b.cancelPendingCommit)Yh(b,0),Zh(b,jd,Gh,!1);Ka(b,f);if(0===(Hc&2)||b!==Jc)b===Jc&&(0===(Hc&2)&&(og|=f),4===De&&Zh(b,jd,Gh,!1)),eb(b)}function Ij(b,d,f){if(0!==(Hc&6))throw Error(u(327));var k=!f&&0===(d&124)&&0===(d&b.expiredLanes)||ua(b,d),v=k?Xk(b,d):Jj(b,d,!0),N=k;do{if(0===v){qf&&!k&&Zh(b,d,0,!1);break}else{f=b.current.alternate;if(N&&!qk(f)){v=Jj(b,d,!1);N=!1;continue}if(2===v){N=d;if(b.errorRecoveryDisabledLanes&
N)var Ja=0;else Ja=b.pendingLanes&-536870913,Ja=0!==Ja?Ja:Ja&536870912?536870912:0;if(0!==Ja){d=Ja;a:{var hb=b;v=Ej;var cc=hb.current.memoizedState.isDehydrated;cc&&(Yh(hb,Ja).flags|=256);Ja=Jj(hb,Ja,!1);if(2!==Ja){if(ig&&!cc){hb.errorRecoveryDisabledLanes|=N;og|=N;v=4;break a}N=jh;jh=v;null!==N&&(null===jh?jh=N:jh.push.apply(jh,N))}v=Ja}N=!1;if(2!==v)continue}}if(1===v){Yh(b,0);Zh(b,d,0,!0);break}a:{k=b;N=v;switch(N){case 0:case 1:throw Error(u(345));case 4:if((d&4194048)!==d)break;case 6:Zh(k,d,
Gh,!cf);break a;case 2:jh=null;break;case 3:case 5:break;default:throw Error(u(329));}(d&62914560)===d&&(v=hi+300-fi(),10<v)?(Zh(k,d,Gh,!cf),0===lc(k,0,!0)&&(k.timeoutHandle=co(yh.bind(null,k,f,jh,Yk,Zk,d,Gh,og,Vh,cf,N,2,-0,0),v))):yh(k,f,jh,Yk,Zk,d,Gh,og,Vh,cf,N,0,-0,0)}}break}while(1);eb(b)}function yh(b,d,f,k,v,N,Ja,hb,cc,Ic,Xc,cd,Mc,Nc){b.timeoutHandle=-1;cd=d.subtreeFlags;if(cd&8192||16785408===(cd&16785408))if(Nl={stylesheets:null,count:0,unsuspend:gg},Sf(d),cd=Ol(),null!==cd){b.cancelPendingCommit=
cd(rk.bind(null,b,d,N,f,k,v,Ja,hb,cc,Xc,1,Mc,Nc));Zh(b,N,Ja,!Ic);return}rk(b,d,N,f,k,v,Ja,hb,cc)}function qk(b){for(var d=b;;){var f=d.tag;if((0===f||11===f||15===f)&&d.flags&16384&&(f=d.updateQueue,null!==f&&(f=f.stores,null!==f)))for(var k=0;k<f.length;k++){var v=f[k],N=v.getSnapshot;v=v.value;try{if(!jg(N(),v))return!1}catch(Ja){return!1}}f=d.child;if(d.subtreeFlags&16384&&null!==f)f.return=d,d=f;else{if(d===b)break;for(;null===d.sibling;){if(null===d.return||d.return===b)return!0;d=d.return}d.sibling.return=
d.return;d=d.sibling}}return!0}function Zh(b,d,f,k){d&=~gj;d&=~og;b.suspendedLanes|=d;b.pingedLanes&=~d;k&&(b.warmLanes|=d);k=b.expirationTimes;for(var v=d;0<v;){var N=31-oh(v),Ja=1<<N;k[N]=-1;v&=~Ja}0!==f&&gb(b,f,d)}function Ti(){return 0===(Hc&6)?(sb(0,!1),!1):!0}function sk(){if(null!==kd){if(0===Ad)var b=kd.return;else b=kd,oi=Xi=null,rb(b),bj=null,xj=0,b=kd;for(;null!==b;)Kb(b.alternate,b),b=b.return;kd=null}}function Yh(b,d){var f=b.timeoutHandle;-1!==f&&(b.timeoutHandle=-1,jo(f));f=b.cancelPendingCommit;
null!==f&&(b.cancelPendingCommit=null,f());sk();Jc=b;kd=f=Zb(b.current,null);jd=d;Ad=0;de=null;cf=!1;qf=ua(b,d);ig=!1;Vh=Gh=gj=og=Fe=De=0;jh=Ej=null;Zk=!1;0!==(d&8)&&(d|=d&32);var k=b.entangledLanes;if(0!==k)for(b=b.entanglements,k&=d;0<k;){var v=31-oh(k),N=1<<v;d|=b[v];k&=~N}Ce=d;J();return f}function hj(b,d){re=null;be.H=wj;d===uj||d===kk?(d=Ze(),Ad=3):d===Fm?(d=Ze(),Ad=4):Ad=d===e?8:null!==d&&"object"===typeof d&&"function"===typeof d.then?6:1;de=d;null===kd&&(De=1,vg(b,z(d,b.current)))}function $k(){var b=
be.H;be.H=wj;return null===b?wj:b}function Kj(){var b=be.A;be.A=gc;return b}function Cj(){De=4;cf||(jd&4194048)!==jd&&null!==ah.current||(qf=!0);0===(Fe&134217727)&&0===(og&134217727)||null===Jc||Zh(Jc,jd,Gh,!1)}function Jj(b,d,f){var k=Hc;Hc|=2;var v=$k(),N=Kj();if(Jc!==b||jd!==d)Yk=null,Yh(b,d);d=!1;var Ja=De;a:do try{if(0!==Ad&&null!==kd){var hb=kd,cc=de;switch(Ad){case 8:sk();Ja=6;break a;case 3:case 2:case 9:case 6:null===ah.current&&(d=!0);var Ic=Ad;Ad=0;de=null;zh(b,hb,cc,Ic);if(f&&qf){Ja=
0;break a}break;default:Ic=Ad,Ad=0,de=null,zh(b,hb,cc,Ic)}}for(;null!==kd;)vi(kd);Ja=De;break}catch(Xc){hj(b,Xc)}while(1);d&&b.shellSuspendCounter++;oi=Xi=null;Hc=k;be.H=v;be.A=N;null===kd&&(Jc=null,jd=0,J());return Ja}function Xk(b,d){var f=Hc;Hc|=2;var k=$k(),v=Kj();Jc!==b||jd!==d?(Yk=null,mk=fi()+500,Yh(b,d)):qf=ua(b,d);a:do try{if(0!==Ad&&null!==kd){d=kd;var N=de;b:switch(Ad){case 1:Ad=0;de=null;zh(b,d,N,1);break;case 2:case 9:if(Dd(N)){Ad=0;de=null;ij(d);break}d=function(){2!==Ad&&9!==Ad||Jc!==
b||(Ad=7);eb(b)};N.then(d,d);break a;case 3:Ad=7;break a;case 4:Ad=5;break a;case 7:Dd(N)?(Ad=0,de=null,ij(d)):(Ad=0,de=null,zh(b,d,N,7));break;case 5:var Ja=null;switch(kd.tag){case 26:Ja=kd.memoizedState;case 5:case 27:var hb=kd;if(Ja?Ll(Ja):1){Ad=0;de=null;var cc=hb.sibling;if(null!==cc)kd=cc;else{var Ic=hb.return;null!==Ic?(kd=Ic,wi(Ic)):kd=null}break b}}Ad=0;de=null;zh(b,d,N,5);break;case 6:Ad=0;de=null;zh(b,d,N,6);break;case 8:sk();De=6;break a;default:throw Error(u(462));}}for(;null!==kd&&
!yn();)vi(kd);break}catch(Xc){hj(b,Xc)}while(1);oi=Xi=null;be.H=k;be.A=v;Hc=f;if(null!==kd)return 0;Jc=null;jd=0;J();return De}function vi(b){var d=dj(b.alternate,b,Ce);b.memoizedProps=b.pendingProps;null===d?wi(b):kd=d}function ij(b){var d=b,f=d.alternate;switch(d.tag){case 15:case 0:d=Uh(f,d,d.pendingProps,d.type,void 0,jd);break;case 11:d=Uh(f,d,d.pendingProps,d.type.render,d.ref,jd);break;case 5:rb(d);default:Kb(f,d),d=kd=jc(d,Ce),d=dj(f,d,Ce)}b.memoizedProps=b.pendingProps;null===d?wi(b):kd=
d}function zh(b,d,f,k){oi=Xi=null;rb(d);bj=null;xj=0;var v=d.return;try{if(Sh(b,v,d,f,jd)){De=1;vg(b,z(f,b.current));kd=null;return}}catch(N){if(null!==v)throw kd=v,N;De=1;vg(b,z(f,b.current));kd=null;return}if(d.flags&32768){if(Ue||1===k)b=!0;else if(qf||0!==(jd&536870912))b=!1;else if(cf=b=!0,2===k||9===k||3===k||6===k)k=ah.current,null!==k&&13===k.tag&&(k.flags|=16384);tk(d,b)}else wi(d)}function wi(b){var d=b;do{if(0!==(d.flags&32768)){tk(d,cf);return}b=d.return;var f=za(d.alternate,d,Ce);if(null!==
f){kd=f;return}d=d.sibling;if(null!==d){kd=d;return}kd=d=b}while(null!==d);0===De&&(De=5)}function tk(b,d){do{var f=Qa(b.alternate,b);if(null!==f){f.flags&=32767;kd=f;return}f=b.return;null!==f&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null);if(!d&&(b=b.sibling,null!==b)){kd=b;return}kd=b=f}while(null!==b);De=6;kd=null}function rk(b,d,f,k,v,N,Ja,hb,cc){b.cancelPendingCommit=null;do xi();while(0!==dh);if(0!==(Hc&6))throw Error(u(327));if(null!==d){if(d===b.current)throw Error(u(177));N=d.lanes|
d.childLanes;N|=Tk;jb(b,f,N,Ja,hb,cc);b===Jc&&(kd=Jc=null,jd=0);al=d;Lj=b;bl=f;zn=N;An=v;eo=k;0!==(d.subtreeFlags&10256)||0!==(d.flags&10256)?(b.callbackNode=null,b.callbackPriority=0,ab(cl,function(){Mj(!0);return null})):(b.callbackNode=null,b.callbackPriority=0);k=0!==(d.flags&13878);if(0!==(d.subtreeFlags&13878)||k){k=be.T;be.T=null;v=ef.p;ef.p=2;Ja=Hc;Hc|=4;try{wd(b,d,f)}finally{Hc=Ja,ef.p=v,be.T=k}}dh=1;jj();uk();Nj()}}function jj(){if(1===dh){dh=0;var b=Lj,d=al,f=0!==(d.flags&13878);if(0!==
(d.subtreeFlags&13878)||f){f=be.T;be.T=null;var k=ef.p;ef.p=2;var v=Hc;Hc|=4;try{gi(d,b);var N=wn,Ja=Tc(b.containerInfo),hb=N.focusedElem,cc=N.selectionRange;if(Ja!==hb&&hb&&hb.ownerDocument&&fd(hb.ownerDocument.documentElement,hb)){if(null!==cc&&ld(hb)){var Ic=cc.start,Xc=cc.end;void 0===Xc&&(Xc=Ic);if("selectionStart"in hb)hb.selectionStart=Ic,hb.selectionEnd=Math.min(Xc,hb.value.length);else{var cd=hb.ownerDocument||document,Mc=cd&&cd.defaultView||window;if(Mc.getSelection){var Nc=Mc.getSelection(),
Be=hb.textContent.length,pe=Math.min(cc.start,Be),Jf=void 0===cc.end?pe:Math.min(cc.end,Be);!Nc.extend&&pe>Jf&&(Ja=Jf,Jf=pe,pe=Ja);var vc=md(hb,pe),pc=md(hb,Jf);if(vc&&pc&&(1!==Nc.rangeCount||Nc.anchorNode!==vc.node||Nc.anchorOffset!==vc.offset||Nc.focusNode!==pc.node||Nc.focusOffset!==pc.offset)){var Gc=cd.createRange();Gc.setStart(vc.node,vc.offset);Nc.removeAllRanges();pe>Jf?(Nc.addRange(Gc),Nc.extend(pc.node,pc.offset)):(Gc.setEnd(pc.node,pc.offset),Nc.addRange(Gc))}}}}cd=[];for(Nc=hb;Nc=Nc.parentNode;)1===
Nc.nodeType&&cd.push({element:Nc,left:Nc.scrollLeft,top:Nc.scrollTop});"function"===typeof hb.focus&&hb.focus();for(hb=0;hb<cd.length;hb++){var $c=cd[hb];$c.element.scrollLeft=$c.left;$c.element.scrollTop=$c.top}}Gm=!!vn;wn=vn=null}finally{Hc=v,ef.p=k,be.T=f}}b.current=d;dh=2}}function uk(){if(2===dh){dh=0;var b=Lj,d=al,f=0!==(d.flags&8772);if(0!==(d.subtreeFlags&8772)||f){f=be.T;be.T=null;var k=ef.p;ef.p=2;var v=Hc;Hc|=4;try{Qd(b,d.alternate,d)}finally{Hc=v,ef.p=k,be.T=f}}dh=3}}function Nj(){if(4===
dh||3===dh){dh=0;Bn();var b=Lj,d=al,f=bl,k=eo;0!==(d.subtreeFlags&10256)||0!==(d.flags&10256)?dh=5:(dh=0,al=Lj=null,kj(b,b.pendingLanes));var v=b.pendingLanes;0===v&&(Bj=null);Na(f);d=d.stateNode;if(fh&&"function"===typeof fh.onCommitFiberRoot)try{fh.onCommitFiberRoot(ck,d,void 0,128===(d.current.flags&128))}catch(cc){}if(null!==k){d=be.T;v=ef.p;ef.p=2;be.T=null;try{for(var N=b.onRecoverableError,Ja=0;Ja<k.length;Ja++){var hb=k[Ja];N(hb.value,{componentStack:hb.stack})}}finally{be.T=d,ef.p=v}}0!==
(bl&3)&&xi();eb(b);v=b.pendingLanes;0!==(f&4194090)&&0!==(v&42)?b===on?Dl++:(Dl=0,on=b):Dl=0;sb(0,!1)}}function kj(b,d){0===(b.pooledCacheLanes&=d)&&(d=b.pooledCache,null!=d&&(b.pooledCache=null,gf(d)))}function xi(b){jj();uk();Nj();return Mj(b)}function Mj(){if(5!==dh)return!1;var b=Lj,d=zn;zn=0;var f=Na(bl),k=be.T,v=ef.p;try{ef.p=32>f?32:f;be.T=null;f=An;An=null;var N=Lj,Ja=bl;dh=0;al=Lj=null;bl=0;if(0!==(Hc&6))throw Error(u(331));var hb=Hc;Hc|=4;pk(N.current);Wh(N,N.current,Ja,f);Hc=hb;sb(0,!1);
if(fh&&"function"===typeof fh.onPostCommitFiberRoot)try{fh.onPostCommitFiberRoot(ck,N)}catch(cc){}return!0}finally{ef.p=v,be.T=k,kj(b,d)}}function vk(b,d,f){d=z(f,d);d=qi(b.stateNode,d,2);b=Ud(b,d,2);null!==b&&(Ka(b,2),eb(b))}function wf(b,d,f){if(3===b.tag)vk(b,b,f);else for(;null!==d;){if(3===d.tag){vk(d,b,f);break}else if(1===d.tag){var k=d.stateNode;if("function"===typeof d.type.getDerivedStateFromError||"function"===typeof k.componentDidCatch&&(null===Bj||!Bj.has(k))){b=z(f,b);f=Ji(2);k=Ud(d,
f,2);null!==k&&(ri(f,k,d,b),Ka(k,2),eb(k));break}}d=d.return}}function Dj(b,d,f){var k=b.pingCache;if(null===k){k=b.pingCache=new Fc;var v=new Set;k.set(d,v)}else v=k.get(d),void 0===v&&(v=new Set,k.set(d,v));v.has(f)||(ig=!0,v.add(f),b=p.bind(null,b,d,f),d.then(b,b))}function p(b,d,f){var k=b.pingCache;null!==k&&k.delete(d);b.pingedLanes|=b.suspendedLanes&f;b.warmLanes&=~f;Jc===b&&(jd&f)===f&&(4===De||3===De&&(jd&62914560)===jd&&300>fi()-hi?0===(Hc&2)&&Yh(b,0):gj|=f,Vh===jd&&(Vh=0));eb(b)}function H(b,
d){0===d&&(d=Ua());b=Q(b,d);null!==b&&(Ka(b,d),eb(b))}function O(b){var d=b.memoizedState,f=0;null!==d&&(f=d.retryLane);H(b,f)}function la(b,d){var f=0;switch(b.tag){case 13:var k=b.stateNode,v=b.memoizedState;null!==v&&(f=v.retryLane);break;case 19:k=b.stateNode;break;case 22:k=b.stateNode._retryCache;break;default:throw Error(u(314));}null!==k&&k.delete(d);H(b,f)}function ab(b,d){return dl(b,d)}function eb(b){b!==el&&null===b.next&&(null===el?Km=el=b:el=el.next=b);Lm=!0;Cn||(Cn=!0,td())}function sb(b,
d){if(!Dn&&Lm){Dn=!0;do for(var f=!1,k=Km;null!==k;){if(!d)if(0!==b){var v=k.pendingLanes;if(0===v)var N=0;else{var Ja=k.suspendedLanes,hb=k.pingedLanes;N=(1<<31-oh(42|b)+1)-1;N&=v&~(Ja&~hb);N=N&201326741?N&201326741|1:N?N|2:0}0!==N&&(f=!0,xc(k,N))}else N=jd,N=lc(k,k===Jc?N:0,null!==k.cancelPendingCommit||-1!==k.timeoutHandle),0===(N&3)||ua(k,N)||(f=!0,xc(k,N));k=k.next}while(f);Dn=!1}}function Mb(){qc()}function qc(){Lm=Cn=!1;var b=0;0!==wk&&(En()&&(b=wk),wk=0);for(var d=fi(),f=null,k=Km;null!==
k;){var v=k.next,N=Vc(k,d);if(0===N)k.next=null,null===f?Km=v:f.next=v,null===v&&(el=f);else if(f=k,0!==b||0!==(N&3))Lm=!0;k=v}sb(b,!1)}function Vc(b,d){for(var f=b.suspendedLanes,k=b.pingedLanes,v=b.expirationTimes,N=b.pendingLanes&-62914561;0<N;){var Ja=31-oh(N),hb=1<<Ja,cc=v[Ja];if(-1===cc){if(0===(hb&f)||0!==(hb&k))v[Ja]=ha(hb,d)}else cc<=d&&(b.expiredLanes|=hb);N&=~hb}d=Jc;f=jd;f=lc(b,b===d?f:0,null!==b.cancelPendingCommit||-1!==b.timeoutHandle);k=b.callbackNode;if(0===f||b===d&&(2===Ad||9===
Ad)||null!==b.cancelPendingCommit)return null!==k&&null!==k&&Pl(k),b.callbackNode=null,b.callbackPriority=0;if(0===(f&3)||ua(b,f)){d=f&-f;if(d===b.callbackPriority)return d;null!==k&&Pl(k);switch(Na(f)){case 2:case 8:f=Mm;break;case 32:f=cl;break;case 268435456:f=Ql;break;default:f=cl}k=bd.bind(null,b);f=dl(f,k);b.callbackPriority=d;b.callbackNode=f;return d}null!==k&&null!==k&&Pl(k);b.callbackPriority=2;b.callbackNode=null;return 2}function bd(b,d){if(0!==dh&&5!==dh)return b.callbackNode=null,b.callbackPriority=
0,null;var f=b.callbackNode;if(xi(!0)&&b.callbackNode!==f)return null;var k=jd;k=lc(b,b===Jc?k:0,null!==b.cancelPendingCommit||-1!==b.timeoutHandle);if(0===k)return null;Ij(b,k,d);Vc(b,fi());return null!=b.callbackNode&&b.callbackNode===f?bd.bind(null,b):null}function xc(b,d){if(xi())return null;Ij(b,d,!0)}function td(){ko(function(){0!==(Hc&6)?dl(Nm,Mb):qc()})}function Ld(){0===wk&&(wk=xa());return wk}function te(b){return null==b||"symbol"===typeof b||"boolean"===typeof b?null:"function"===typeof b?
b:Nb(""+b)}function Hd(b,d){var f=d.ownerDocument.createElement("input");f.name=d.name;f.value=d.value;b.id&&f.setAttribute("form",b.id);d.parentNode.insertBefore(f,d);b=new FormData(b);f.parentNode.removeChild(f);return b}function Ye(b,d,f,k,v){if("submit"===d&&f&&f.stateNode===v){var N=te((v[Tg]||null).action),Ja=k.submitter;Ja&&(d=(d=Ja[Tg]||null)?te(d.formAction):Ja.getAttribute("formAction"),null!==d&&(N=d,Ja=null));var hb=new fk("action","action",null,k,v);b.push({event:hb,listeners:[{instance:null,
listener:function(){if(k.defaultPrevented){if(0!==wk){var cc=Ja?Hd(v,Ja):new FormData(v);yd(f,{pending:!0,data:cc,method:v.method,action:N},null,cc)}}else"function"===typeof N&&(hb.preventDefault(),cc=Ja?Hd(v,Ja):new FormData(v),yd(f,{pending:!0,data:cc,method:v.method,action:N},N,cc))},currentTarget:v}]})}}function cg(b,d){d=0!==(d&4);for(var f=0;f<b.length;f++){var k=b[f],v=k.event;k=k.listeners;a:{var N=void 0;if(d)for(var Ja=k.length-1;0<=Ja;Ja--){var hb=k[Ja],cc=hb.instance,Ic=hb.currentTarget;
hb=hb.listener;if(cc!==N&&v.isPropagationStopped())break a;N=hb;v.currentTarget=Ic;try{N(v)}catch(Xc){c(Xc)}v.currentTarget=null;N=cc}else for(Ja=0;Ja<k.length;Ja++){hb=k[Ja];cc=hb.instance;Ic=hb.currentTarget;hb=hb.listener;if(cc!==N&&v.isPropagationStopped())break a;N=hb;v.currentTarget=Ic;try{N(v)}catch(Xc){c(Xc)}v.currentTarget=null;N=cc}}}}function ee(b,d){var f=d[gh];void 0===f&&(f=d[gh]=new Set);var k=b+"__bubble";f.has(k)||(bg(d,b,2,!1),f.add(k))}function pg(b,d,f){var k=0;d&&(k|=4);bg(f,
b,k,d)}function Ig(b){if(!b[Om]){b[Om]=!0;sm.forEach(function(f){"selectionchange"!==f&&(lo.has(f)||pg(f,!1,b),pg(f,!0,b))});var d=9===b.nodeType?b:b.ownerDocument;null===d||d[Om]||(d[Om]=!0,pg("selectionchange",!1,d))}}function bg(b,d,f,k){switch(om(d)){case 2:var v=Pm;break;case 8:v=Fn;break;default:v=Oj}f=v.bind(null,d,f,b);v=void 0;!Rl||"touchstart"!==d&&"touchmove"!==d&&"wheel"!==d||(v=!0);k?void 0!==v?b.addEventListener(d,f,{capture:!0,passive:v}):b.addEventListener(d,f,!0):void 0!==v?b.addEventListener(d,
f,{passive:v}):b.addEventListener(d,f,!1)}function ue(b,d,f,k,v){var N=k;if(0===(d&1)&&0===(d&2)&&null!==k)a:for(;;){if(null===k)return;var Ja=k.tag;if(3===Ja||4===Ja){var hb=k.stateNode.containerInfo;if(hb===v)break;if(4===Ja)for(Ja=k.return;null!==Ja;){var cc=Ja.tag;if((3===cc||4===cc)&&Ja.stateNode.containerInfo===v)return;Ja=Ja.return}for(;null!==hb;){Ja=Y(hb);if(null===Ja)return;cc=Ja.tag;if(5===cc||6===cc||26===cc||27===cc){k=N=Ja;continue a}hb=hb.parentNode}}k=k.return}ra(function(){var Ic=
N,Xc=rc(f),cd=[];a:{var Mc=ym.get(b);if(void 0!==Mc){var Nc=fk,Be=b;switch(b){case "keypress":if(0===Ab(f))break a;case "keydown":case "keyup":Nc=Gn;break;case "focusin":Be="focus";Nc=Sl;break;case "focusout":Be="blur";Nc=Sl;break;case "beforeblur":case "afterblur":Nc=Sl;break;case "click":if(2===f.button)break a;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":Nc=Tl;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":Nc=
fl;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":Nc=Hn;break;case Ul:case xk:case Pj:Nc=Qm;break;case gl:Nc=In;break;case "scroll":case "scrollend":Nc=Qj;break;case "wheel":Nc=Vl;break;case "copy":case "cut":case "paste":Nc=Rm;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":Nc=Wl;break;case "toggle":case "beforetoggle":Nc=Jn}var pe=0!==(d&4),Jf=!pe&&
("scroll"===b||"scrollend"===b),vc=pe?null!==Mc?Mc+"Capture":null:Mc;pe=[];for(var pc=Ic,Gc;null!==pc;){var $c=pc;Gc=$c.stateNode;$c=$c.tag;5!==$c&&26!==$c&&27!==$c||null===Gc||null===vc||($c=Gb(pc,vc),null!=$c&&pe.push(Gf(pc,$c,Gc)));if(Jf)break;pc=pc.return}0<pe.length&&(Mc=new Nc(Mc,Be,null,f,Xc),cd.push({event:Mc,listeners:pe}))}}if(0===(d&7)){Mc="mouseover"===b||"pointerover"===b;Nc="mouseout"===b||"pointerout"===b;if(!Mc||f===yk||!(Be=f.relatedTarget||f.fromElement)||!Y(Be)&&!Be[Ei])if(Nc||
Mc){Mc=Xc.window===Xc?Xc:(Mc=Xc.ownerDocument)?Mc.defaultView||Mc.parentWindow:window;if(Nc){if(Be=f.relatedTarget||f.toElement,Nc=Ic,Be=Be?Y(Be):null,null!==Be&&(Jf=ja(Be),pe=Be.tag,Be!==Jf||5!==pe&&27!==pe&&6!==pe))Be=null}else Nc=null,Be=Ic;if(Nc!==Be){pe=Tl;$c="onMouseLeave";vc="onMouseEnter";pc="mouse";if("pointerout"===b||"pointerover"===b)pe=Wl,$c="onPointerLeave",vc="onPointerEnter",pc="pointer";Jf=null==Nc?Mc:ma(Nc);Gc=null==Be?Mc:ma(Be);Mc=new pe($c,pc+"leave",Nc,f,Xc);Mc.target=Jf;Mc.relatedTarget=
Gc;$c=null;Y(Xc)===Ic&&(pe=new pe(vc,pc+"enter",Be,f,Xc),pe.target=Gc,pe.relatedTarget=Jf,$c=pe);Jf=$c;if(Nc&&Be)b:{pe=Nc;vc=Be;pc=0;for(Gc=pe;Gc;Gc=Gd(Gc))pc++;Gc=0;for($c=vc;$c;$c=Gd($c))Gc++;for(;0<pc-Gc;)pe=Gd(pe),pc--;for(;0<Gc-pc;)vc=Gd(vc),Gc--;for(;pc--;){if(pe===vc||null!==vc&&pe===vc.alternate)break b;pe=Gd(pe);vc=Gd(vc)}pe=null}else pe=null;null!==Nc&&rd(cd,Mc,Nc,pe,!1);null!==Be&&null!==Jf&&rd(cd,Jf,Be,pe,!0)}}Mc=Ic?ma(Ic):window;Nc=Mc.nodeName&&Mc.nodeName.toLowerCase();if("select"===
Nc||"input"===Nc&&"file"===Mc.type)var Sd=ya;else if(ib(Mc))if(Sm)Sd=Pb;else{Sd=Sb;var Xe=qb}else Nc=Mc.nodeName,!Nc||"input"!==Nc.toLowerCase()||"checkbox"!==Mc.type&&"radio"!==Mc.type?Ic&&Ob(Ic.elementType)&&(Sd=ya):Sd=Hb;Sd&&(Sd=Sd(b,Ic))?V(cd,Sd,f,Xc):(Xe&&Xe(b,Mc,Ic),"focusout"===b&&Ic&&"number"===Mc.type&&null!=Ic.memoizedProps.value&&kb(Mc,"number",Mc.value));Xe=Ic?ma(Ic):window;switch(b){case "focusin":if(ib(Xe)||"true"===Xe.contentEditable)hh=Xe,Al=Ic,hk=null;break;case "focusout":hk=Al=
hh=null;break;case "mousedown":zl=!0;break;case "contextmenu":case "mouseup":case "dragend":zl=!1;nd(cd,f,Xc);break;case "selectionchange":if(Kn)break;case "keydown":case "keyup":nd(cd,f,Xc)}var ge;if(yl)a:{switch(b){case "compositionstart":var xe="onCompositionStart";break a;case "compositionend":xe="onCompositionEnd";break a;case "compositionupdate":xe="onCompositionUpdate";break a}xe=void 0}else tj?Zc(b,f)&&(xe="onCompositionEnd"):"keydown"===b&&229===f.keyCode&&(xe="onCompositionStart");xe&&(xm&&
"ko"!==f.locale&&(tj||"onCompositionStart"!==xe?"onCompositionEnd"===xe&&tj&&(ge=Va()):(li=Xc,Qk="value"in li?li.value:li.textContent,tj=!0)),Xe=Lh(Ic,xe),0<Xe.length&&(xe=new Tm(xe,b,null,f,Xc),cd.push({event:xe,listeners:Xe}),ge?xe.data=ge:(ge=Pc(f),null!==ge&&(xe.data=ge))));if(ge=Ln?oa(b,f):Ma(b,f))xe=Lh(Ic,"onBeforeInput"),0<xe.length&&(Xe=new Tm("onBeforeInput","beforeinput",null,f,Xc),cd.push({event:Xe,listeners:xe}),Xe.data=ge);Ye(cd,b,Ic,f,Xc)}cg(cd,d)})}function Gf(b,d,f){return{instance:b,
listener:d,currentTarget:f}}function Lh(b,d){for(var f=d+"Capture",k=[];null!==b;){var v=b,N=v.stateNode;v=v.tag;5!==v&&26!==v&&27!==v||null===N||(v=Gb(b,f),null!=v&&k.unshift(Gf(b,v,N)),v=Gb(b,d),null!=v&&k.push(Gf(b,v,N)));if(3===b.tag)return k;b=b.return}return[]}function Gd(b){if(null===b)return null;do b=b.return;while(b&&5!==b.tag&&27!==b.tag);return b?b:null}function rd(b,d,f,k,v){for(var N=d._reactName,Ja=[];null!==f&&f!==k;){var hb=f,cc=hb.alternate,Ic=hb.stateNode;hb=hb.tag;if(null!==cc&&
cc===k)break;5!==hb&&26!==hb&&27!==hb||null===Ic||(cc=Ic,v?(Ic=Gb(f,N),null!=Ic&&Ja.unshift(Gf(f,Ic,cc))):v||(Ic=Gb(f,N),null!=Ic&&Ja.push(Gf(f,Ic,cc))));f=f.return}0!==Ja.length&&b.push({event:d,listeners:Ja})}function Ed(b){return("string"===typeof b?b:""+b).replace(mo,"\n").replace(no,"")}function ud(b,d){d=Ed(d);return Ed(b)===d?!0:!1}function ff(){}function ye(b,d,f,k,v,N){switch(f){case "children":"string"===typeof k?"body"===d||"textarea"===d&&""===k||Qb(b,k):("number"===typeof k||"bigint"===
typeof k)&&"body"!==d&&Qb(b,""+k);break;case "className":D(b,"class",k);break;case "tabIndex":D(b,"tabindex",k);break;case "dir":case "role":case "viewBox":case "width":case "height":D(b,f,k);break;case "style":$b(b,k,N);break;case "data":if("object"!==d){D(b,"data",k);break}case "src":case "href":if(""===k&&("a"!==d||"href"!==f)){b.removeAttribute(f);break}if(null==k||"function"===typeof k||"symbol"===typeof k||"boolean"===typeof k){b.removeAttribute(f);break}k=Nb(""+k);b.setAttribute(f,k);break;
case "action":case "formAction":if("function"===typeof k){b.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else"function"===typeof N&&("formAction"===f?("input"!==d&&ye(b,d,"name",v.name,v,null),ye(b,d,"formEncType",v.formEncType,v,null),ye(b,d,"formMethod",
v.formMethod,v,null),ye(b,d,"formTarget",v.formTarget,v,null)):(ye(b,d,"encType",v.encType,v,null),ye(b,d,"method",v.method,v,null),ye(b,d,"target",v.target,v,null)));if(null==k||"symbol"===typeof k||"boolean"===typeof k){b.removeAttribute(f);break}k=Nb(""+k);b.setAttribute(f,k);break;case "onClick":null!=k&&(b.onclick=ff);break;case "onScroll":null!=k&&ee("scroll",b);break;case "onScrollEnd":null!=k&&ee("scrollend",b);break;case "dangerouslySetInnerHTML":if(null!=k){if("object"!==typeof k||!("__html"in
k))throw Error(u(61));f=k.__html;if(null!=f){if(null!=v.children)throw Error(u(60));b.innerHTML=f}}break;case "multiple":b.multiple=k&&"function"!==typeof k&&"symbol"!==typeof k;break;case "muted":b.muted=k&&"function"!==typeof k&&"symbol"!==typeof k;break;case "suppressContentEditableWarning":case "suppressHydrationWarning":case "defaultValue":case "defaultChecked":case "innerHTML":case "ref":break;case "autoFocus":break;case "xlinkHref":if(null==k||"function"===typeof k||"boolean"===typeof k||"symbol"===
typeof k){b.removeAttribute("xlink:href");break}f=Nb(""+k);b.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case "contentEditable":case "spellCheck":case "draggable":case "value":case "autoReverse":case "externalResourcesRequired":case "focusable":case "preserveAlpha":null!=k&&"function"!==typeof k&&"symbol"!==typeof k?b.setAttribute(f,""+k):b.removeAttribute(f);break;case "inert":case "allowFullScreen":case "async":case "autoPlay":case "controls":case "default":case "defer":case "disabled":case "disablePictureInPicture":case "disableRemotePlayback":case "formNoValidate":case "hidden":case "loop":case "noModule":case "noValidate":case "open":case "playsInline":case "readOnly":case "required":case "reversed":case "scoped":case "seamless":case "itemScope":k&&
"function"!==typeof k&&"symbol"!==typeof k?b.setAttribute(f,""):b.removeAttribute(f);break;case "capture":case "download":!0===k?b.setAttribute(f,""):!1!==k&&null!=k&&"function"!==typeof k&&"symbol"!==typeof k?b.setAttribute(f,k):b.removeAttribute(f);break;case "cols":case "rows":case "size":case "span":null!=k&&"function"!==typeof k&&"symbol"!==typeof k&&!isNaN(k)&&1<=k?b.setAttribute(f,k):b.removeAttribute(f);break;case "rowSpan":case "start":null==k||"function"===typeof k||"symbol"===typeof k||
isNaN(k)?b.removeAttribute(f):b.setAttribute(f,k);break;case "popover":ee("beforetoggle",b);ee("toggle",b);T(b,"popover",k);break;case "xlinkActuate":A(b,"http://www.w3.org/1999/xlink","xlink:actuate",k);break;case "xlinkArcrole":A(b,"http://www.w3.org/1999/xlink","xlink:arcrole",k);break;case "xlinkRole":A(b,"http://www.w3.org/1999/xlink","xlink:role",k);break;case "xlinkShow":A(b,"http://www.w3.org/1999/xlink","xlink:show",k);break;case "xlinkTitle":A(b,"http://www.w3.org/1999/xlink","xlink:title",
k);break;case "xlinkType":A(b,"http://www.w3.org/1999/xlink","xlink:type",k);break;case "xmlBase":A(b,"http://www.w3.org/XML/1998/namespace","xml:base",k);break;case "xmlLang":A(b,"http://www.w3.org/XML/1998/namespace","xml:lang",k);break;case "xmlSpace":A(b,"http://www.w3.org/XML/1998/namespace","xml:space",k);break;case "is":T(b,"is",k);break;case "innerText":case "textContent":break;default:if(!(2<f.length)||"o"!==f[0]&&"O"!==f[0]||"n"!==f[1]&&"N"!==f[1])f=hl.get(f)||f,T(b,f,k)}}function Ef(b,
d,f,k,v,N){switch(f){case "style":$b(b,k,N);break;case "dangerouslySetInnerHTML":if(null!=k){if("object"!==typeof k||!("__html"in k))throw Error(u(61));f=k.__html;if(null!=f){if(null!=v.children)throw Error(u(60));b.innerHTML=f}}break;case "children":"string"===typeof k?Qb(b,k):("number"===typeof k||"bigint"===typeof k)&&Qb(b,""+k);break;case "onScroll":null!=k&&ee("scroll",b);break;case "onScrollEnd":null!=k&&ee("scrollend",b);break;case "onClick":null!=k&&(b.onclick=ff);break;case "suppressContentEditableWarning":case "suppressHydrationWarning":case "innerHTML":case "ref":break;
case "innerText":case "textContent":break;default:rm.hasOwnProperty(f)||("o"===f[0]&&"n"===f[1]&&(v=f.endsWith("Capture"),d=f.slice(2,v?f.length-7:void 0),N=b[Tg]||null,N=null!=N?N[f]:null,"function"===typeof N&&b.removeEventListener(d,N,v),"function"===typeof k)?("function"!==typeof N&&null!==N&&(f in b?b[f]=null:b.hasAttribute(f)&&b.removeAttribute(f)),b.addEventListener(d,k,v)):f in b?b[f]=k:!0===k?b.setAttribute(f,""):T(b,f,k))}}function Se(b,d,f){switch(d){case "div":case "span":case "svg":case "path":case "a":case "g":case "p":case "li":break;
case "img":ee("error",b);ee("load",b);var k=!1,v=!1,N;for(N in f)if(f.hasOwnProperty(N)){var Ja=f[N];if(null!=Ja)switch(N){case "src":k=!0;break;case "srcSet":v=!0;break;case "children":case "dangerouslySetInnerHTML":throw Error(u(137,d));default:ye(b,d,N,Ja,f,null)}}v&&ye(b,d,"srcSet",f.srcSet,f,null);k&&ye(b,d,"src",f.src,f,null);return;case "input":ee("invalid",b);var hb=N=Ja=v=null,cc=null,Ic=null;for(k in f)if(f.hasOwnProperty(k)){var Xc=f[k];if(null!=Xc)switch(k){case "name":v=Xc;break;case "type":Ja=
Xc;break;case "checked":cc=Xc;break;case "defaultChecked":Ic=Xc;break;case "value":N=Xc;break;case "defaultValue":hb=Xc;break;case "children":case "dangerouslySetInnerHTML":if(null!=Xc)throw Error(u(137,d));break;default:ye(b,d,k,Xc,f,null)}}zb(b,N,hb,cc,Ic,Ja,v,!1);ia(b);return;case "select":ee("invalid",b);k=Ja=N=null;for(v in f)if(f.hasOwnProperty(v)&&(hb=f[v],null!=hb))switch(v){case "value":N=hb;break;case "defaultValue":Ja=hb;break;case "multiple":k=hb;default:ye(b,d,v,hb,f,null)}d=N;f=Ja;b.multiple=
!!k;null!=d?Vb(b,!!k,d,!1):null!=f&&Vb(b,!!k,f,!0);return;case "textarea":ee("invalid",b);N=v=k=null;for(Ja in f)if(f.hasOwnProperty(Ja)&&(hb=f[Ja],null!=hb))switch(Ja){case "value":k=hb;break;case "defaultValue":v=hb;break;case "children":N=hb;break;case "dangerouslySetInnerHTML":if(null!=hb)throw Error(u(91));break;default:ye(b,d,Ja,hb,f,null)}Ga(b,k,v,N);ia(b);return;case "option":for(cc in f)if(f.hasOwnProperty(cc)&&(k=f[cc],null!=k))switch(cc){case "selected":b.selected=k&&"function"!==typeof k&&
"symbol"!==typeof k;break;default:ye(b,d,cc,k,f,null)}return;case "dialog":ee("beforetoggle",b);ee("toggle",b);ee("cancel",b);ee("close",b);break;case "iframe":case "object":ee("load",b);break;case "video":case "audio":for(k=0;k<Fl.length;k++)ee(Fl[k],b);break;case "image":ee("error",b);ee("load",b);break;case "details":ee("toggle",b);break;case "embed":case "source":case "link":ee("error",b),ee("load",b);case "area":case "base":case "br":case "col":case "hr":case "keygen":case "meta":case "param":case "track":case "wbr":case "menuitem":for(Ic in f)if(f.hasOwnProperty(Ic)&&
(k=f[Ic],null!=k))switch(Ic){case "children":case "dangerouslySetInnerHTML":throw Error(u(137,d));default:ye(b,d,Ic,k,f,null)}return;default:if(Ob(d)){for(Xc in f)f.hasOwnProperty(Xc)&&(k=f[Xc],void 0!==k&&Ef(b,d,Xc,k,f,void 0));return}}for(hb in f)f.hasOwnProperty(hb)&&(k=f[hb],null!=k&&ye(b,d,hb,k,f,null))}function Bg(b,d,f,k){switch(d){case "div":case "span":case "svg":case "path":case "a":case "g":case "p":case "li":break;case "input":var v=null,N=null,Ja=null,hb=null,cc=null,Ic=null,Xc=null;
for(Nc in f){var cd=f[Nc];if(f.hasOwnProperty(Nc)&&null!=cd)switch(Nc){case "checked":break;case "value":break;case "defaultValue":cc=cd;default:k.hasOwnProperty(Nc)||ye(b,d,Nc,null,k,cd)}}for(var Mc in k){var Nc=k[Mc];cd=f[Mc];if(k.hasOwnProperty(Mc)&&(null!=Nc||null!=cd))switch(Mc){case "type":N=Nc;break;case "name":v=Nc;break;case "checked":Ic=Nc;break;case "defaultChecked":Xc=Nc;break;case "value":Ja=Nc;break;case "defaultValue":hb=Nc;break;case "children":case "dangerouslySetInnerHTML":if(null!=
Nc)throw Error(u(137,d));break;default:Nc!==cd&&ye(b,d,Mc,Nc,k,cd)}}fb(b,Ja,hb,cc,Ic,Xc,N,v);return;case "select":Nc=Ja=hb=Mc=null;for(N in f)if(cc=f[N],f.hasOwnProperty(N)&&null!=cc)switch(N){case "value":break;case "multiple":Nc=cc;default:k.hasOwnProperty(N)||ye(b,d,N,null,k,cc)}for(v in k)if(N=k[v],cc=f[v],k.hasOwnProperty(v)&&(null!=N||null!=cc))switch(v){case "value":Mc=N;break;case "defaultValue":hb=N;break;case "multiple":Ja=N;default:N!==cc&&ye(b,d,v,N,k,cc)}d=hb;f=Ja;k=Nc;null!=Mc?Vb(b,
!!f,Mc,!1):!!k!==!!f&&(null!=d?Vb(b,!!f,d,!0):Vb(b,!!f,f?[]:"",!1));return;case "textarea":Nc=Mc=null;for(hb in f)if(v=f[hb],f.hasOwnProperty(hb)&&null!=v&&!k.hasOwnProperty(hb))switch(hb){case "value":break;case "children":break;default:ye(b,d,hb,null,k,v)}for(Ja in k)if(v=k[Ja],N=f[Ja],k.hasOwnProperty(Ja)&&(null!=v||null!=N))switch(Ja){case "value":Mc=v;break;case "defaultValue":Nc=v;break;case "children":break;case "dangerouslySetInnerHTML":if(null!=v)throw Error(u(91));break;default:v!==N&&ye(b,
d,Ja,v,k,N)}aa(b,Mc,Nc);return;case "option":for(var Be in f)if(Mc=f[Be],f.hasOwnProperty(Be)&&null!=Mc&&!k.hasOwnProperty(Be))switch(Be){case "selected":b.selected=!1;break;default:ye(b,d,Be,null,k,Mc)}for(cc in k)if(Mc=k[cc],Nc=f[cc],k.hasOwnProperty(cc)&&Mc!==Nc&&(null!=Mc||null!=Nc))switch(cc){case "selected":b.selected=Mc&&"function"!==typeof Mc&&"symbol"!==typeof Mc;break;default:ye(b,d,cc,Mc,k,Nc)}return;case "img":case "link":case "area":case "base":case "br":case "col":case "embed":case "hr":case "keygen":case "meta":case "param":case "source":case "track":case "wbr":case "menuitem":for(var pe in f)Mc=
f[pe],f.hasOwnProperty(pe)&&null!=Mc&&!k.hasOwnProperty(pe)&&ye(b,d,pe,null,k,Mc);for(Ic in k)if(Mc=k[Ic],Nc=f[Ic],k.hasOwnProperty(Ic)&&Mc!==Nc&&(null!=Mc||null!=Nc))switch(Ic){case "children":case "dangerouslySetInnerHTML":if(null!=Mc)throw Error(u(137,d));break;default:ye(b,d,Ic,Mc,k,Nc)}return;default:if(Ob(d)){for(var Jf in f)Mc=f[Jf],f.hasOwnProperty(Jf)&&void 0!==Mc&&!k.hasOwnProperty(Jf)&&Ef(b,d,Jf,void 0,k,Mc);for(Xc in k)Mc=k[Xc],Nc=f[Xc],!k.hasOwnProperty(Xc)||Mc===Nc||void 0===Mc&&void 0===
Nc||Ef(b,d,Xc,Mc,k,Nc);return}}for(var vc in f)Mc=f[vc],f.hasOwnProperty(vc)&&null!=Mc&&!k.hasOwnProperty(vc)&&ye(b,d,vc,null,k,Mc);for(cd in k)Mc=k[cd],Nc=f[cd],!k.hasOwnProperty(cd)||Mc===Nc||null==Mc&&null==Nc||ye(b,d,cd,Mc,k,Nc)}function mh(b){return 9===b.nodeType?b:b.ownerDocument}function lm(b){switch(b){case "http://www.w3.org/2000/svg":return 1;case "http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ul(b,d){if(0===b)switch(d){case "svg":return 1;case "math":return 2;
default:return 0}return 1===b&&"foreignObject"===d?0:b}function ik(b,d){return"textarea"===b||"noscript"===b||"string"===typeof d.children||"number"===typeof d.children||"bigint"===typeof d.children||"object"===typeof d.dangerouslySetInnerHTML&&null!==d.dangerouslySetInnerHTML&&null!=d.dangerouslySetInnerHTML.__html}function En(){var b=window.event;if(b&&"popstate"===b.type){if(b===Mn)return!1;Mn=b;return!0}Mn=null;return!1}function Xl(b){setTimeout(function(){throw b;})}function nk(b,d){var f=d,
k=0,v=0;do{var N=f.nextSibling;b.removeChild(f);if(N&&8===N.nodeType)if(f=N.data,"/$"===f){if(0<k&&8>k){f=k;var Ja=b.ownerDocument;f&1&&Hj(Ja.documentElement);f&2&&Hj(Ja.body);if(f&4)for(f=Ja.head,Hj(f),Ja=f.firstChild;Ja;){var hb=Ja.nextSibling,cc=Ja.nodeName;Ja[Kh]||"SCRIPT"===cc||"STYLE"===cc||"LINK"===cc&&"stylesheet"===Ja.rel.toLowerCase()||f.removeChild(Ja);Ja=hb}}if(0===v){b.removeChild(N);ej(d);return}v--}else"$"===f||"$?"===f||"$!"===f?v++:k=f.charCodeAt(0)-48;else k=0;f=N}while(f);ej(d)}
function Vk(b){var d=b.firstChild;for(d&&10===d.nodeType&&(d=d.nextSibling);d;){var f=d;d=d.nextSibling;switch(f.nodeName){case "HTML":case "HEAD":case "BODY":Vk(f);Ha(f);continue;case "SCRIPT":case "STYLE":continue;case "LINK":if("stylesheet"===f.rel.toLowerCase())continue}b.removeChild(f)}}function Dm(b,d,f,k){for(;1===b.nodeType;){var v=f;if(b.nodeName.toLowerCase()!==d.toLowerCase()){if(!k&&("INPUT"!==b.nodeName||"hidden"!==b.type))break}else if(!k)if("input"===d&&"hidden"===b.type){var N=null==
v.name?null:""+v.name;if("hidden"===v.type&&b.getAttribute("name")===N)return b}else return b;else if(!b[Kh])switch(d){case "meta":if(!b.hasAttribute("itemprop"))break;return b;case "link":N=b.getAttribute("rel");if("stylesheet"===N&&b.hasAttribute("data-precedence"))break;else if(N!==v.rel||b.getAttribute("href")!==(null==v.href||""===v.href?null:v.href)||b.getAttribute("crossorigin")!==(null==v.crossOrigin?null:v.crossOrigin)||b.getAttribute("title")!==(null==v.title?null:v.title))break;return b;
case "style":if(b.hasAttribute("data-precedence"))break;return b;case "script":N=b.getAttribute("src");if((N!==(null==v.src?null:v.src)||b.getAttribute("type")!==(null==v.type?null:v.type)||b.getAttribute("crossorigin")!==(null==v.crossOrigin?null:v.crossOrigin))&&N&&b.hasAttribute("async")&&!b.hasAttribute("itemprop"))break;return b;default:return b}b=Eh(b.nextSibling);if(null===b)break}return null}function Em(b,d,f){if(""===d)return null;for(;3!==b.nodeType;){if((1!==b.nodeType||"INPUT"!==b.nodeName||
"hidden"!==b.type)&&!f)return null;b=Eh(b.nextSibling);if(null===b)return null}return b}function Il(b){return"$!"===b.data||"$?"===b.data&&"complete"===b.ownerDocument.readyState}function xn(b,d){var f=b.ownerDocument;if("$?"!==b.data||"complete"===f.readyState)d();else{var k=function(){d();f.removeEventListener("DOMContentLoaded",k)};f.addEventListener("DOMContentLoaded",k);b._reactRetry=k}}function Eh(b){for(;null!=b;b=b.nextSibling){var d=b.nodeType;if(1===d||3===d)break;if(8===d){d=b.data;if("$"===
d||"$!"===d||"$?"===d||"F!"===d||"F"===d)break;if("/$"===d)return null}}return b}function pm(b){b=b.previousSibling;for(var d=0;b;){if(8===b.nodeType){var f=b.data;if("$"===f||"$!"===f||"$?"===f){if(0===d)return b;d--}else"/$"===f&&d++}b=b.previousSibling}return null}function Kl(b,d,f){d=mh(f);switch(b){case "html":b=d.documentElement;if(!b)throw Error(u(452));return b;case "head":b=d.head;if(!b)throw Error(u(453));return b;case "body":b=d.body;if(!b)throw Error(u(454));return b;default:throw Error(u(451));
}}function Hj(b){for(var d=b.attributes;d.length;)b.removeAttributeNode(d[0]);Ha(b)}function Wk(b){return"function"===typeof b.getRootNode?b.getRootNode():9===b.nodeType?b:b.ownerDocument}function Yl(b,d,f){var k=il;if(k&&"string"===typeof d&&d){var v=Ra(d);v='link[rel\x3d"'+b+'"][href\x3d"'+v+'"]';"string"===typeof f&&(v+='[crossorigin\x3d"'+f+'"]');fo.has(v)||(fo.add(v),b={rel:b,crossOrigin:f,href:d},null===k.querySelector(v)&&(d=k.createElement("link"),Se(d,"link",b),n(d),k.head.appendChild(d)))}}
function Cm(b,d,f,k){var v=(v=Kg.current)?Wk(v):null;if(!v)throw Error(u(446));switch(b){case "meta":case "title":return null;case "style":return"string"===typeof f.precedence&&"string"===typeof f.href?(d=Rj(f.href),f=na(v).hoistableStyles,k=f.get(d),k||(k={type:"style",instance:null,count:0,state:null},f.set(d,k)),k):{type:"void",instance:null,count:0,state:null};case "link":if("stylesheet"===f.rel&&"string"===typeof f.href&&"string"===typeof f.precedence){b=Rj(f.href);var N=na(v).hoistableStyles,
Ja=N.get(b);Ja||(v=v.ownerDocument||v,Ja={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(b,Ja),(N=v.querySelector(Sj(b)))&&!N._p&&(Ja.instance=N,Ja.state.loading=5),ii.has(b)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},ii.set(b,f),N||Um(v,b,f,Ja.state)));if(d&&null===k)throw Error(u(528,""));return Ja}if(d&&null!==k)throw Error(u(529,""));return null;case "script":return d=
f.async,f=f.src,"string"===typeof f&&d&&"function"!==typeof d&&"symbol"!==typeof d?(d=lj(f),f=na(v).hoistableScripts,k=f.get(d),k||(k={type:"script",instance:null,count:0,state:null},f.set(d,k)),k):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,b));}}function Rj(b){return'href\x3d"'+Ra(b)+'"'}function Sj(b){return'link[rel\x3d"stylesheet"]['+b+"]"}function Vm(b){return Hf({},b,{"data-precedence":b.precedence,precedence:null})}function Um(b,d,f,k){b.querySelector('link[rel\x3d"preload"][as\x3d"style"]['+
d+"]")?k.loading=1:(d=b.createElement("link"),k.preload=d,d.addEventListener("load",function(){return k.loading|=1}),d.addEventListener("error",function(){return k.loading|=2}),Se(d,"link",f),n(d),b.head.appendChild(d))}function lj(b){return'[src\x3d"'+Ra(b)+'"]'}function Tj(b){return"script[async]"+b}function Ml(b,d,f){d.count++;if(null===d.instance)switch(d.type){case "style":var k=b.querySelector('style[data-href~\x3d"'+Ra(f.href)+'"]');if(k)return d.instance=k,n(k),k;var v=Hf({},f,{"data-href":f.href,
"data-precedence":f.precedence,href:null,precedence:null});k=(b.ownerDocument||b).createElement("style");n(k);Se(k,"style",v);jl(k,f.precedence,b);return d.instance=k;case "stylesheet":v=Rj(f.href);var N=b.querySelector(Sj(v));if(N)return d.state.loading|=4,d.instance=N,n(N),N;k=Vm(f);(v=ii.get(v))&&Zl(k,v);N=(b.ownerDocument||b).createElement("link");n(N);var Ja=N;Ja._p=new Promise(function(hb,cc){Ja.onload=hb;Ja.onerror=cc});Se(N,"link",k);d.state.loading|=4;jl(N,f.precedence,b);return d.instance=
N;case "script":N=lj(f.src);if(v=b.querySelector(Tj(N)))return d.instance=v,n(v),v;k=f;if(v=ii.get(N))k=Hf({},f),$l(k,v);b=b.ownerDocument||b;v=b.createElement("script");n(v);Se(v,"link",k);b.head.appendChild(v);return d.instance=v;case "void":return null;default:throw Error(u(443,d.type));}else"stylesheet"===d.type&&0===(d.state.loading&4)&&(k=d.instance,d.state.loading|=4,jl(k,f.precedence,b));return d.instance}function jl(b,d,f){for(var k=f.querySelectorAll('link[rel\x3d"stylesheet"][data-precedence],style[data-precedence]'),
v=k.length?k[k.length-1]:null,N=v,Ja=0;Ja<k.length;Ja++){var hb=k[Ja];if(hb.dataset.precedence===d)N=hb;else if(N!==v)break}N?N.parentNode.insertBefore(b,N.nextSibling):(d=9===f.nodeType?f.head:f,d.insertBefore(b,d.firstChild))}function Zl(b,d){null==b.crossOrigin&&(b.crossOrigin=d.crossOrigin);null==b.referrerPolicy&&(b.referrerPolicy=d.referrerPolicy);null==b.title&&(b.title=d.title)}function $l(b,d){null==b.crossOrigin&&(b.crossOrigin=d.crossOrigin);null==b.referrerPolicy&&(b.referrerPolicy=d.referrerPolicy);
null==b.integrity&&(b.integrity=d.integrity)}function Hm(b,d,f){if(null===Jm){var k=new Map,v=Jm=new Map;v.set(f,k)}else v=Jm,(k=v.get(f))||(k=new Map,v.set(f,k));if(k.has(b))return k;k.set(b,null);f=f.getElementsByTagName(b);for(v=0;v<f.length;v++){var N=f[v];if(!(N[Kh]||N[Cg]||"link"===b&&"stylesheet"===N.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==N.namespaceURI){var Ja=N.getAttribute(d)||"";Ja=b+Ja;var hb=k.get(Ja);hb?hb.push(N):k.set(Ja,[N])}}return k}function Im(b,d,f){b=b.ownerDocument||
b;b.head.insertBefore(f,"title"===d?b.querySelector("head \x3e title"):null)}function pn(b,d,f){if(1===f||null!=d.itemProp)return!1;switch(b){case "meta":case "title":return!0;case "style":if("string"!==typeof d.precedence||"string"!==typeof d.href||""===d.href)break;return!0;case "link":if("string"!==typeof d.rel||"string"!==typeof d.href||""===d.href||d.onLoad||d.onError)break;switch(d.rel){case "stylesheet":return b=d.disabled,"string"===typeof d.precedence&&null==b;default:return!0}case "script":if(d.async&&
"function"!==typeof d.async&&"symbol"!==typeof d.async&&!d.onLoad&&!d.onError&&d.src&&"string"===typeof d.src)return!0}return!1}function Ll(b){return"stylesheet"===b.type&&0===(b.state.loading&3)?!1:!0}function gg(){}function Xh(b,d,f){if(null===Nl)throw Error(u(475));var k=Nl;if("stylesheet"===d.type&&("string"!==typeof f.media||!1!==matchMedia(f.media).matches)&&0===(d.state.loading&4)){if(null===d.instance){var v=Rj(f.href),N=b.querySelector(Sj(v));if(N){b=N._p;null!==b&&"object"===typeof b&&"function"===
typeof b.then&&(k.count++,k=yi.bind(k),b.then(k,k));d.state.loading|=4;d.instance=N;n(N);return}N=b.ownerDocument||b;f=Vm(f);(v=ii.get(v))&&Zl(f,v);N=N.createElement("link");n(N);var Ja=N;Ja._p=new Promise(function(hb,cc){Ja.onload=hb;Ja.onerror=cc});Se(N,"link",f);d.instance=N}null===k.stylesheets&&(k.stylesheets=new Map);k.stylesheets.set(d,b);(b=d.state.preload)&&0===(d.state.loading&3)&&(k.count++,d=yi.bind(k),b.addEventListener("load",d),b.addEventListener("error",d))}}function Ol(){if(null===
Nl)throw Error(u(475));var b=Nl;b.stylesheets&&0===b.count&&kl(b,b.stylesheets);return 0<b.count?function(d){var f=setTimeout(function(){b.stylesheets&&kl(b,b.stylesheets);if(b.unsuspend){var k=b.unsuspend;b.unsuspend=null;k()}},6E4);b.unsuspend=d;return function(){b.unsuspend=null;clearTimeout(f)}}:null}function yi(){this.count--;if(0===this.count)if(this.stylesheets)kl(this,this.stylesheets);else if(this.unsuspend){var b=this.unsuspend;this.unsuspend=null;b()}}function kl(b,d){b.stylesheets=null;
null!==b.unsuspend&&(b.count++,Wm=new Map,d.forEach(Nn,b),Wm=null,yi.call(b))}function Nn(b,d){if(!(d.state.loading&4)){var f=Wm.get(b);if(f)var k=f.get(null);else{f=new Map;Wm.set(b,f);for(var v=b.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<v.length;N++){var Ja=v[N];if("LINK"===Ja.nodeName||"not all"!==Ja.getAttribute("media"))f.set(Ja.dataset.precedence,Ja),k=Ja}k&&f.set(null,k)}v=d.instance;Ja=v.getAttribute("data-precedence");N=f.get(Ja)||k;N===k&&f.set(null,v);f.set(Ja,
v);this.count++;k=yi.bind(this);v.addEventListener("load",k);v.addEventListener("error",k);N?N.parentNode.insertBefore(v,N.nextSibling):(b=9===b.nodeType?b.head:b,b.insertBefore(v,b.firstChild));d.state.loading|=4}}function On(b,d,f,k,v,N,Ja,hb){this.tag=1;this.containerInfo=b;this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null;this.callbackPriority=0;this.expirationTimes=Xa(-1);this.entangledLanes=
this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=Xa(0);this.hiddenUpdates=Xa(null);this.identifierPrefix=k;this.onUncaughtError=v;this.onCaughtError=N;this.onRecoverableError=Ja;this.pooledCache=null;this.pooledCacheLanes=0;this.formState=hb;this.incompleteTransitions=new Map}function am(b,d,f,k,v,N,Ja,hb,cc,Ic,Xc,cd){b=new On(b,d,f,Ja,hb,cc,Ic,cd);d=1;!0===N&&(d|=24);N=Ya(3,null,null,
d);b.current=N;N.stateNode=b;d=dg();d.refCount++;b.pooledCache=d;d.refCount++;N.memoizedState={element:k,isDehydrated:f,cache:d};oe(N);return b}function bm(b){return b?b=Gj:Gj}function ll(b,d,f,k,v,N){v=bm(v);null===k.context?k.context=v:k.pendingContext=v;k=Pe(d);k.payload={element:f};N=void 0===N?null:N;null!==N&&(k.callback=N);f=Ud(b,k,d);null!==f&&(Xg(f,b,d),hf(f,b,d))}function zk(b,d){b=b.memoizedState;if(null!==b&&null!==b.dehydrated){var f=b.retryLane;b.retryLane=0!==f&&f<d?f:d}}function cm(b,
d){zk(b,d);(b=b.alternate)&&zk(b,d)}function ml(b){if(13===b.tag){var d=Q(b,67108864);null!==d&&Xg(d,b,67108864);cm(b,67108864)}}function Pm(b,d,f,k){var v=be.T;be.T=null;var N=ef.p;try{ef.p=2,Oj(b,d,f,k)}finally{ef.p=N,be.T=v}}function Fn(b,d,f,k){var v=be.T;be.T=null;var N=ef.p;try{ef.p=8,Oj(b,d,f,k)}finally{ef.p=N,be.T=v}}function Oj(b,d,f,k){if(Gm){var v=dm(k);if(null===v)ue(b,d,k,Xm,f),Ym(b,k);else if(Pn(v,b,d,f,k))k.stopPropagation();else if(Ym(b,k),d&4&&-1<oo.indexOf(b)){for(;null!==v;){var N=
Ca(v);if(null!==N)switch(N.tag){case 3:N=N.stateNode;if(N.current.memoizedState.isDehydrated){var Ja=lb(N.pendingLanes);if(0!==Ja){var hb=N;hb.pendingLanes|=2;for(hb.entangledLanes|=2;Ja;){var cc=1<<31-oh(Ja);hb.entanglements[1]|=cc;Ja&=~cc}eb(N);0===(Hc&6)&&(mk=fi()+500,sb(0,!1))}}break;case 13:hb=Q(N,2),null!==hb&&Xg(hb,N,2),Ti(),cm(N,2)}N=dm(k);null===N&&ue(b,d,k,Xm,f);if(N===v)break;v=N}null!==v&&k.stopPropagation()}else ue(b,d,k,null,f)}}function dm(b){b=rc(b);return em(b)}function em(b){Xm=
null;b=Y(b);if(null!==b){var d=ja(b);if(null===d)b=null;else{var f=d.tag;if(13===f){b=$a(d);if(null!==b)return b;b=null}else if(3===f){if(d.stateNode.current.memoizedState.isDehydrated)return 3===d.tag?d.stateNode.containerInfo:null;b=null}else d!==b&&(b=null)}}Xm=b;return null}function om(b){switch(b){case "beforetoggle":case "cancel":case "click":case "close":case "contextmenu":case "copy":case "cut":case "auxclick":case "dblclick":case "dragend":case "dragstart":case "drop":case "focusin":case "focusout":case "input":case "invalid":case "keydown":case "keypress":case "keyup":case "mousedown":case "mouseup":case "paste":case "pause":case "play":case "pointercancel":case "pointerdown":case "pointerup":case "ratechange":case "reset":case "resize":case "seeked":case "submit":case "toggle":case "touchcancel":case "touchend":case "touchstart":case "volumechange":case "change":case "selectionchange":case "textInput":case "compositionstart":case "compositionend":case "compositionupdate":case "beforeblur":case "afterblur":case "beforeinput":case "blur":case "fullscreenchange":case "focus":case "hashchange":case "popstate":case "select":case "selectstart":return 2;
case "drag":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "mousemove":case "mouseout":case "mouseover":case "pointermove":case "pointerout":case "pointerover":case "scroll":case "touchmove":case "wheel":case "mouseenter":case "mouseleave":case "pointerenter":case "pointerleave":return 8;case "message":switch(Qn()){case Nm:return 2;case Mm:return 8;case cl:case fm:return 32;case Ql:return 268435456;default:return 32}default:return 32}}function Ym(b,d){switch(b){case "focusin":case "focusout":Uj=
null;break;case "dragenter":case "dragleave":Vj=null;break;case "mouseover":case "mouseout":Wj=null;break;case "pointerover":case "pointerout":gm.delete(d.pointerId);break;case "gotpointercapture":case "lostpointercapture":hm.delete(d.pointerId)}}function Ak(b,d,f,k,v,N){if(null===b||b.nativeEvent!==N)return b={blockedOn:d,domEventName:f,eventSystemFlags:k,nativeEvent:N,targetContainers:[v]},null!==d&&(d=Ca(d),null!==d&&ml(d)),b;b.eventSystemFlags|=k;d=b.targetContainers;null!==v&&-1===d.indexOf(v)&&
d.push(v);return b}function Pn(b,d,f,k,v){switch(d){case "focusin":return Uj=Ak(Uj,b,d,f,k,v),!0;case "dragenter":return Vj=Ak(Vj,b,d,f,k,v),!0;case "mouseover":return Wj=Ak(Wj,b,d,f,k,v),!0;case "pointerover":var N=v.pointerId;gm.set(N,Ak(gm.get(N)||null,b,d,f,k,v));return!0;case "gotpointercapture":return N=v.pointerId,hm.set(N,Ak(hm.get(N)||null,b,d,f,k,v)),!0}return!1}function Zm(b){var d=Y(b.target);if(null!==d){var f=ja(d);if(null!==f)if(d=f.tag,13===d){if(d=$a(f),null!==d){b.blockedOn=d;ea(b.priority,
function(){if(13===f.tag){var k=Lg();k=Ub(k);var v=Q(f,k);null!==v&&Xg(v,f,k);cm(f,k)}});return}}else if(3===d&&f.stateNode.current.memoizedState.isDehydrated){b.blockedOn=3===f.tag?f.stateNode.containerInfo:null;return}}b.blockedOn=null}function Xj(b){if(null!==b.blockedOn)return!1;for(var d=b.targetContainers;0<d.length;){var f=dm(b.nativeEvent);if(null===f){f=b.nativeEvent;var k=new f.constructor(f.type,f);yk=k;f.target.dispatchEvent(k);yk=null}else return d=Ca(f),null!==d&&ml(d),b.blockedOn=f,
!1;d.shift()}return!0}function $m(b,d,f){Xj(b)&&f.delete(d)}function Rn(){Sn=!1;null!==Uj&&Xj(Uj)&&(Uj=null);null!==Vj&&Xj(Vj)&&(Vj=null);null!==Wj&&Xj(Wj)&&(Wj=null);gm.forEach($m);hm.forEach($m)}function nl(b,d){b.blockedOn===d&&(b.blockedOn=null,Sn||(Sn=!0,Yc.unstable_scheduleCallback(Yc.unstable_NormalPriority,Rn)))}function an(b){bn!==b&&(bn=b,Yc.unstable_scheduleCallback(Yc.unstable_NormalPriority,function(){bn===b&&(bn=null);for(var d=0;d<b.length;d+=3){var f=b[d],k=b[d+1],v=b[d+2];if("function"!==
typeof k)if(null===em(k||f))continue;else break;var N=Ca(f);null!==N&&(b.splice(d,3),d-=3,yd(N,{pending:!0,data:v,method:f.method,action:k},k,v))}}))}function ej(b){function d(cc){return nl(cc,b)}null!==Uj&&nl(Uj,b);null!==Vj&&nl(Vj,b);null!==Wj&&nl(Wj,b);gm.forEach(d);hm.forEach(d);for(var f=0;f<Yj.length;f++){var k=Yj[f];k.blockedOn===b&&(k.blockedOn=null)}for(;0<Yj.length&&(f=Yj[0],null===f.blockedOn);)Zm(f),null===f.blockedOn&&Yj.shift();f=(b.ownerDocument||b).$$reactFormReplay;if(null!=f)for(k=
0;k<f.length;k+=3){var v=f[k],N=f[k+1],Ja=v[Tg]||null;if("function"===typeof N)Ja||an(f);else if(Ja){var hb=null;if(N&&N.hasAttribute("formAction"))if(v=N,Ja=N[Tg]||null)hb=Ja.formAction;else{if(null!==em(v))continue}else hb=Ja.action;"function"===typeof hb?f[k+1]=hb:(f.splice(k,3),k-=3);an(f)}}}function Bk(b){this._internalRoot=b}function ol(b){this._internalRoot=b}var ve=pb(0);"use strict";var Yc=pb(6),Jg=pb(3),Ni=pb(9),Hf=Object.assign,Am=Symbol.for("react.element"),yj=Symbol.for("react.transitional.element"),
Bi=Symbol.for("react.portal"),nj=Symbol.for("react.fragment"),Jk=Symbol.for("react.strict_mode"),Ik=Symbol.for("react.profiler"),Ch=Symbol.for("react.provider"),ak=Symbol.for("react.consumer"),ki=Symbol.for("react.context"),pj=Symbol.for("react.forward_ref"),rl=Symbol.for("react.suspense"),oj=Symbol.for("react.suspense_list"),tl=Symbol.for("react.memo"),Ci=Symbol.for("react.lazy");Symbol.for("react.scope");var sl=Symbol.for("react.activity");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");
var Wg=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var Hk=Symbol.iterator,jn=Symbol.for("react.client.reference"),Si=Array.isArray,be=Jg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ef=Ni.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Qi={pending:!1,data:null,method:null,action:null},Di=[],eh=-1,Jh=ub(null),bk=ub(null),Kg=ub(null),Pi=ub(null),Nk=Object.prototype.hasOwnProperty,dl=Yc.unstable_scheduleCallback,Pl=Yc.unstable_cancelCallback,
yn=Yc.unstable_shouldYield,Bn=Yc.unstable_requestPaint,fi=Yc.unstable_now,Qn=Yc.unstable_getCurrentPriorityLevel,Nm=Yc.unstable_ImmediatePriority,Mm=Yc.unstable_UserBlockingPriority,cl=Yc.unstable_NormalPriority,fm=Yc.unstable_LowPriority,Ql=Yc.unstable_IdlePriority,Kk=Yc.log,mm=Yc.unstable_setDisableYieldValue,ck=null,fh=null,oh=Math.clz32?Math.clz32:Db,nm=Math.log,wl=Math.LN2,Lk=256,Mk=4194304,qg=Math.random().toString(36).slice(2),Cg="__reactFiber$"+qg,Tg="__reactProps$"+qg,Ei="__reactContainer$"+
qg,gh="__reactEvents$"+qg,Ri="__reactListeners$"+qg,kn="__reactHandles$"+qg,qm="__reactResources$"+qg,Kh="__reactMarker$"+qg,sm=new Set,rm={},Ug=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),
xl={},dk={},qj,tm,rj=!1,Ok=/[\n"\\]/g,ln=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),
hl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],
["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical",
"glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering",
"shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],
["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],
["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),um=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i,yk=null,sj=null,Fi=null,ek=!1,ji=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Rl=!1;if(ji)try{var Ck={};Object.defineProperty(Ck,"passive",{get:function(){Rl=!0}});window.addEventListener("test",
Ck,Ck);window.removeEventListener("test",Ck,Ck)}catch(b){Rl=!1}var li=null,Qk=null,Pk=null,Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(b){return b.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fk=Wb(Oi),zi=Hf({},Oi,{view:0,detail:0}),Qj=Wb(zi),pl,ql,Dk,Ek=Hf({},zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wc,button:0,buttons:0,relatedTarget:function(b){return void 0===b.relatedTarget?b.fromElement===b.srcElement?
b.toElement:b.fromElement:b.relatedTarget},movementX:function(b){if("movementX"in b)return b.movementX;b!==Dk&&(Dk&&"mousemove"===b.type?(pl=b.screenX-Dk.screenX,ql=b.screenY-Dk.screenY):ql=pl=0,Dk=b);return pl},movementY:function(b){return"movementY"in b?b.movementY:ql}}),Tl=Wb(Ek),cn=Hf({},Ek,{dataTransfer:0}),fl=Wb(cn),Tn=Hf({},zi,{relatedTarget:0}),Sl=Wb(Tn),Un=Hf({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),Qm=Wb(Un),Vn=Hf({},Oi,{clipboardData:function(b){return"clipboardData"in b?
b.clipboardData:window.clipboardData}}),Rm=Wb(Vn),dn=Hf({},Oi,{data:0}),Tm=Wb(dn),Wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},en={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",
40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},Xn=Hf({},zi,{key:function(b){if(b.key){var d=Wn[b.key]||b.key;if("Unidentified"!==d)return d}return"keypress"===b.type?(b=Ab(b),13===b?"Enter":String.fromCharCode(b)):"keydown"===b.type||"keyup"===b.type?en[b.keyCode]||"Unidentified":""},code:0,
location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wc,charCode:function(b){return"keypress"===b.type?Ab(b):0},keyCode:function(b){return"keydown"===b.type||"keyup"===b.type?b.keyCode:0},which:function(b){return"keypress"===b.type?Ab(b):"keydown"===b.type||"keyup"===b.type?b.keyCode:0}}),Gn=Wb(Xn),Ai=Hf({},Ek,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wl=Wb(Ai),fn=Hf({},zi,{touches:0,targetTouches:0,
changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wc}),Hn=Wb(fn),Yn=Hf({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),In=Wb(Yn),Zn=Hf({},Ek,{deltaX:function(b){return"deltaX"in b?b.deltaX:"wheelDeltaX"in b?-b.wheelDeltaX:0},deltaY:function(b){return"deltaY"in b?b.deltaY:"wheelDeltaY"in b?-b.wheelDeltaY:"wheelDelta"in b?-b.wheelDelta:0},deltaZ:0,deltaMode:0}),Vl=Wb(Zn),$n=Hf({},Oi,{newState:0,oldState:0}),Jn=Wb($n),mn=[9,13,27,32],yl=ji&&"CompositionEvent"in window,Fk=
null;ji&&"documentMode"in document&&(Fk=document.documentMode);var Ln=ji&&"TextEvent"in window&&!Fk,xm=ji&&(!yl||Fk&&8<Fk&&11>=Fk),Rk=String.fromCharCode(32),wm=!1,tj=!1,nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},gk=null,Ah=null,Sm=!1;if(ji){if(ji){var Of="oninput"in document;if(!Of){var xf=document.createElement("div");xf.setAttribute("oninput","return;");Of="function"===typeof xf.oninput}var Sg=
Of}else Sg=!1;Sm=Sg&&(!document.documentMode||9<document.documentMode)}var jg="function"===typeof Object.is?Object.is:uc,Kn=ji&&"documentMode"in document&&11>=document.documentMode,hh=null,Al=null,hk=null,zl=!1,Ui={animationend:dd("Animation","AnimationEnd"),animationiteration:dd("Animation","AnimationIteration"),animationstart:dd("Animation","AnimationStart"),transitionrun:dd("Transition","TransitionRun"),transitionstart:dd("Transition","TransitionStart"),transitioncancel:dd("Transition","TransitionCancel"),
transitionend:dd("Transition","TransitionEnd")},Sk={},Bl={};ji&&(Bl=document.createElement("div").style,"AnimationEvent"in window||(delete Ui.animationend.animation,delete Ui.animationiteration.animation,delete Ui.animationstart.animation),"TransitionEvent"in window||delete Ui.transitionend.transition);var Ul=Wd("animationend"),xk=Wd("animationiteration"),Pj=Wd("animationstart"),gn=Wd("transitionrun"),Gk=Wd("transitionstart"),im=Wd("transitioncancel"),gl=Wd("transitionend"),ym=new Map,jm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");
jm.push("scrollEnd");var Cl=new WeakMap,Bh=[],Vi=0,Tk=0,Gj={},Wi=[],ih=0,ph=null,mi=0,If=[],Dg=0,$h=null,Dh=1,Vg="",xg=null,Tf=null,Ue=!1,ni=null,ai=!1,El=Error(u(519)),Gl=ub(null),Xi=null,oi=null,rn="undefined"!==typeof AbortController?AbortController:function(){var b=[],d=this.signal={aborted:!1,addEventListener:function(f,k){b.push(k)}};this.abort=function(){d.aborted=!0;b.forEach(function(f){return f()})}},sn=Yc.unstable_scheduleCallback,tn=Yc.unstable_NormalPriority,yg={$$typeof:ki,Consumer:null,
Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},jk=null,Hl=0,Mh=0,qh=null,Zj=be.S;be.S=function(b,d){"object"===typeof d&&null!==d&&"function"===typeof d.then&&Da(b,d);null!==Zj&&Zj(b,d)};for(var eg=ub(null),uj=Error(u(460)),Fm=Error(u(474)),kk=Error(u(542)),Jl={then:function(){}},Yi=null,bi=!1,Uk=!1,Gi=ub(null),vj=ub(0),Nh=0,re=null,sf=null,Vf=null,Zi=!1,Oh=!1,pi=!1,aj=0,$i=0,Hi=null,km=0,wj={readContext:ze,use:Lc,useCallback:m,useContext:m,useEffect:m,useImperativeHandle:m,
useLayoutEffect:m,useInsertionEffect:m,useMemo:m,useReducer:m,useRef:m,useState:m,useDebugValue:m,useDeferredValue:m,useTransition:m,useSyncExternalStore:m,useId:m,useHostTransitionStatus:m,useFormState:m,useActionState:m,useOptimistic:m,useMemoCache:m,useCacheRefresh:m},lk={readContext:ze,use:Lc,useCallback:function(b,d){oc().memoizedState=[b,void 0===d?null:d];return b},useContext:ze,useEffect:Xf,useImperativeHandle:function(b,d,f){f=null!==f&&void 0!==f?f.concat([b]):null;Kf(4194308,4,Og.bind(null,
d,b),f)},useLayoutEffect:function(b,d){return Kf(4194308,4,b,d)},useInsertionEffect:function(b,d){Kf(4,2,b,d)},useMemo:function(b,d){var f=oc();d=void 0===d?null:d;var k=b();if(pi){nb(!0);try{b()}finally{nb(!1)}}f.memoizedState=[k,d];return k},useReducer:function(b,d,f){var k=oc();if(void 0!==f){var v=f(d);if(pi){nb(!0);try{f(d)}finally{nb(!1)}}}else v=d;k.memoizedState=k.baseState=v;b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:b,lastRenderedState:v};k.queue=b;b=b.dispatch=lh.bind(null,
re,b);return[k.memoizedState,b]},useRef:function(b){var d=oc();b={current:b};return d.memoizedState=b},useState:function(b){b=Od(b);var d=b.queue,f=kg.bind(null,re,d);d.dispatch=f;return[b.memoizedState,f]},useDebugValue:$g,useDeferredValue:function(b,d){var f=oc();return La(f,b,d)},useTransition:function(){var b=Od(!1);b=Ac.bind(null,re,b.queue,!0,!1);oc().memoizedState=b;return[!1,b]},useSyncExternalStore:function(b,d,f){var k=re,v=oc();if(Ue){if(void 0===f)throw Error(u(407));f=f()}else{f=d();
if(null===Jc)throw Error(u(349));0!==(jd&124)||vd(k,d,f)}v.memoizedState=f;var N={value:f,getSnapshot:d};v.queue=N;Xf(fe.bind(null,k,N,b),[b]);k.flags|=2048;Ke(9,Wf(),se.bind(null,k,N,f,d),null);return f},useId:function(){var b=oc(),d=Jc.identifierPrefix;if(Ue){var f=Vg,k=Dh;f=(k&~(1<<32-oh(k)-1)).toString(32)+f;d="«"+d+"R"+f;f=aj++;0<f&&(d+="H"+f.toString(32));d+="»"}else f=km++,d="«"+d+"r"+f.toString(32)+"»";return b.memoizedState=d},useHostTransitionStatus:Zf,useFormState:Eg,useActionState:Eg,
useOptimistic:function(b){var d=oc();d.memoizedState=d.baseState=b;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};d.queue=f;d=rh.bind(null,re,!0,f);f.dispatch=d;return[b,d]},useMemoCache:Wc,useCacheRefresh:function(){return oc().memoizedState=sh.bind(null,re)}},zm={readContext:ze,use:Lc,useCallback:Lf,useContext:ze,useEffect:kh,useImperativeHandle:Pg,useInsertionEffect:Yg,useLayoutEffect:Zg,useMemo:W,useReducer:qd,useRef:Ng,useState:function(){return qd(Bd)},
useDebugValue:$g,useDeferredValue:function(b,d){var f=kc();return ob(f,sf.memoizedState,b,d)},useTransition:function(){var b=qd(Bd)[0],d=kc().memoizedState;return["boolean"===typeof b?b:tc(b),d]},useSyncExternalStore:mc,useId:nf,useHostTransitionStatus:Zf,useFormState:yf,useActionState:yf,useOptimistic:function(b,d){var f=kc();return ke(f,sf,b,d)},useMemoCache:Wc,useCacheRefresh:zg},un={readContext:ze,use:Lc,useCallback:Lf,useContext:ze,useEffect:kh,useImperativeHandle:Pg,useInsertionEffect:Yg,useLayoutEffect:Zg,
useMemo:W,useReducer:Nd,useRef:Ng,useState:function(){return Nd(Bd)},useDebugValue:$g,useDeferredValue:function(b,d){var f=kc();return null===sf?La(f,b,d):ob(f,sf.memoizedState,b,d)},useTransition:function(){var b=Nd(Bd)[0],d=kc().memoizedState;return["boolean"===typeof b?b:tc(b),d]},useSyncExternalStore:mc,useId:nf,useHostTransitionStatus:Zf,useFormState:lf,useActionState:lf,useOptimistic:function(b,d){var f=kc();if(null!==sf)return ke(f,sf,b,d);f.baseState=b;return[b,f.queue.dispatch]},useMemoCache:Wc,
useCacheRefresh:zg},bj=null,xj=0,Fj=fg(!0),Bm=fg(!1),ah=ub(null),Ph=null,sg=ub(0),a={enqueueSetState:function(b,d,f){b=b._reactInternals;var k=Lg(),v=Pe(k);v.payload=d;void 0!==f&&null!==f&&(v.callback=f);d=Ud(b,v,k);null!==d&&(Xg(d,b,k),hf(d,b,k))},enqueueReplaceState:function(b,d,f){b=b._reactInternals;var k=Lg(),v=Pe(k);v.tag=1;v.payload=d;void 0!==f&&null!==f&&(v.callback=f);d=Ud(b,v,k);null!==d&&(Xg(d,b,k),hf(d,b,k))},enqueueForceUpdate:function(b,d){b=b._reactInternals;var f=Lg(),k=Pe(f);k.tag=
2;void 0!==d&&null!==d&&(k.callback=d);d=Ud(b,k,f);null!==d&&(Xg(d,b,f),hf(d,b,f))}},c="function"===typeof reportError?reportError:function(b){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof b&&null!==b&&"string"===typeof b.message?String(b.message):String(b),error:b});if(!window.dispatchEvent(d))return}else if("object"===typeof ve&&"function"===typeof ve.emit){ve.emit("uncaughtException",b);
return}console.error(b)},e=Error(u(461)),g=!1,h={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},q=!1,C=!1,S=!1,ba="function"===typeof WeakSet?WeakSet:Set,sa=null,Ta=null,mb=!1,ac=null,Ec=8192,gc={getCacheForType:function(b){var d=ze(yg),f=d.data.get(b);void 0===f&&(f=b(),d.data.set(b,f));return f}},Fc="function"===typeof WeakMap?WeakMap:Map,Hc=0,Jc=null,kd=null,jd=0,Ad=0,de=null,cf=!1,qf=!1,ig=!1,Ce=0,De=0,Fe=0,og=0,gj=0,Gh=0,Vh=0,Ej=null,jh=null,Zk=!1,hi=0,mk=Infinity,Yk=null,
Bj=null,dh=0,Lj=null,al=null,bl=0,zn=0,An=null,eo=null,Dl=0,on=null,Km=null,el=null,Cn=!1,Lm=!1,Dn=!1,wk=0,ao=0;ao<jm.length;ao++){var bo=jm[ao],po=bo.toLowerCase(),qo=bo[0].toUpperCase()+bo.slice(1);gd(po,"on"+qo)}gd(Ul,"onAnimationEnd");gd(xk,"onAnimationIteration");gd(Pj,"onAnimationStart");gd("dblclick","onDoubleClick");gd("focusin","onFocus");gd("focusout","onBlur");gd(gn,"onTransitionRun");gd(Gk,"onTransitionStart");gd(im,"onTransitionCancel");gd(gl,"onTransitionEnd");M("onMouseEnter",["mouseout",
"mouseover"]);M("onMouseLeave",["mouseout","mouseover"]);M("onPointerEnter",["pointerout","pointerover"]);M("onPointerLeave",["pointerout","pointerover"]);G("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));G("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));G("onBeforeInput",["compositionend","keypress","textInput","paste"]);G("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));
G("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));G("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lo=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl)),
Om="_reactListening"+Math.random().toString(36).slice(2),mo=/\r\n?/g,no=/\u0000|\uFFFD/g,vn=null,wn=null,Mn=null,co="function"===typeof setTimeout?setTimeout:void 0,jo="function"===typeof clearTimeout?clearTimeout:void 0,go="function"===typeof Promise?Promise:void 0,ko="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof go?function(b){return go.resolve(null).then(b).catch(Xl)}:co,qn=null,ii=new Map,fo=new Set,mj=ef.d;ef.d={f:function(){var b=mj.f(),d=Ti();return b||d},r:function(b){var d=
Ca(b);null!==d&&5===d.tag&&"form"===d.type?Id(d):mj.r(b)},D:function(b){mj.D(b);Yl("dns-prefetch",b,null)},C:function(b,d){mj.C(b,d);Yl("preconnect",b,d)},L:function(b,d,f){mj.L(b,d,f);var k=il;if(k&&b&&d){var v='link[rel\x3d"preload"][as\x3d"'+Ra(d)+'"]';"image"===d?f&&f.imageSrcSet?(v+='[imagesrcset\x3d"'+Ra(f.imageSrcSet)+'"]',"string"===typeof f.imageSizes&&(v+='[imagesizes\x3d"'+Ra(f.imageSizes)+'"]')):v+='[href\x3d"'+Ra(b)+'"]':v+='[href\x3d"'+Ra(b)+'"]';var N=v;switch(d){case "style":N=Rj(b);
break;case "script":N=lj(b)}ii.has(N)||(b=Hf({rel:"preload",href:"image"===d&&f&&f.imageSrcSet?void 0:b,as:d},f),ii.set(N,b),null!==k.querySelector(v)||"style"===d&&k.querySelector(Sj(N))||"script"===d&&k.querySelector(Tj(N))||(d=k.createElement("link"),Se(d,"link",b),n(d),k.head.appendChild(d)))}},m:function(b,d){mj.m(b,d);var f=il;if(f&&b){var k=d&&"string"===typeof d.as?d.as:"script",v='link[rel\x3d"modulepreload"][as\x3d"'+Ra(k)+'"][href\x3d"'+Ra(b)+'"]',N=v;switch(k){case "audioworklet":case "paintworklet":case "serviceworker":case "sharedworker":case "worker":case "script":N=
lj(b)}if(!ii.has(N)&&(b=Hf({rel:"modulepreload",href:b},d),ii.set(N,b),null===f.querySelector(v))){switch(k){case "audioworklet":case "paintworklet":case "serviceworker":case "sharedworker":case "worker":case "script":if(f.querySelector(Tj(N)))return}k=f.createElement("link");Se(k,"link",b);n(k);f.head.appendChild(k)}}},X:function(b,d){mj.X(b,d);var f=il;if(f&&b){var k=na(f).hoistableScripts,v=lj(b),N=k.get(v);N||(N=f.querySelector(Tj(v)),N||(b=Hf({src:b,async:!0},d),(d=ii.get(v))&&$l(b,d),N=f.createElement("script"),
n(N),Se(N,"link",b),f.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},k.set(v,N))}},S:function(b,d,f){mj.S(b,d,f);var k=il;if(k&&b){var v=na(k).hoistableStyles,N=Rj(b);d=d||"default";var Ja=v.get(N);if(!Ja){var hb={loading:0,preload:null};if(Ja=k.querySelector(Sj(N)))hb.loading=5;else{b=Hf({rel:"stylesheet",href:b,"data-precedence":d},f);(f=ii.get(N))&&Zl(b,f);var cc=Ja=k.createElement("link");n(cc);Se(cc,"link",b);cc._p=new Promise(function(Ic,Xc){cc.onload=Ic;cc.onerror=Xc});
cc.addEventListener("load",function(){hb.loading|=1});cc.addEventListener("error",function(){hb.loading|=2});hb.loading|=4;jl(Ja,d,k)}Ja={type:"stylesheet",instance:Ja,count:1,state:hb};v.set(N,Ja)}}},M:function(b,d){mj.M(b,d);var f=il;if(f&&b){var k=na(f).hoistableScripts,v=lj(b),N=k.get(v);N||(N=f.querySelector(Tj(v)),N||(b=Hf({src:b,async:!0,type:"module"},d),(d=ii.get(v))&&$l(b,d),N=f.createElement("script"),n(N),Se(N,"link",b),f.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},
k.set(v,N))}}};var il="undefined"===typeof document?null:document,Jm=null,Nl=null,Wm=null,vl={$$typeof:ki,Provider:null,Consumer:null,_currentValue:Qi,_currentValue2:Qi,_threadCount:0},Gm=!0,Xm=null,Sn=!1,Uj=null,Vj=null,Wj=null,gm=new Map,hm=new Map,Yj=[],oo="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" "),
bn=null;ol.prototype.render=Bk.prototype.render=function(b){var d=this._internalRoot;if(null===d)throw Error(u(409));var f=d.current,k=Lg();ll(f,k,b,d,null,null)};ol.prototype.unmount=Bk.prototype.unmount=function(){var b=this._internalRoot;if(null!==b){this._internalRoot=null;var d=b.containerInfo;ll(b.current,2,null,b,null,null);Ti();d[Ei]=null}};ol.prototype.unstable_scheduleHydration=function(b){if(b){var d=U();b={blockedOn:null,target:b,priority:d};for(var f=0;f<Yj.length&&0!==d&&d<Yj[f].priority;f++);
Yj.splice(f,0,b);0===f&&Zm(b)}};var ho=Jg.version;if("19.1.1"!==ho)throw Error(u(527,ho,"19.1.1"));ef.findDOMNode=function(b){var d=b._reactInternals;if(void 0===d){if("function"===typeof b.render)throw Error(u(188));b=Object.keys(b).join(",");throw Error(u(268,b));}b=Xb(d);b=null!==b?ec(b):null;return b=null===b?null:b.stateNode};var ro={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:be,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hn=
__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hn.isDisabled&&hn.supportsFiber)try{ck=hn.inject(ro),fh=hn}catch(b){}}Za.createRoot=function(b,d){if(!l(b))throw Error(u(299));var f=!1,k="",v=ug,N=Rh,Ja=Aj,hb=null;null!==d&&void 0!==d&&(!0===d.unstable_strictMode&&(f=!0),void 0!==d.identifierPrefix&&(k=d.identifierPrefix),void 0!==d.onUncaughtError&&(v=d.onUncaughtError),void 0!==d.onCaughtError&&(N=d.onCaughtError),void 0!==d.onRecoverableError&&(Ja=d.onRecoverableError),void 0!==d.unstable_transitionCallbacks&&
(hb=d.unstable_transitionCallbacks));d=am(b,1,!1,null,null,f,k,v,N,Ja,hb,null);b[Ei]=d.current;Ig(b);return new Bk(d)};Za.hydrateRoot=function(b,d,f){if(!l(b))throw Error(u(299));var k=!1,v="",N=ug,Ja=Rh,hb=Aj,cc=null,Ic=null;null!==f&&void 0!==f&&(!0===f.unstable_strictMode&&(k=!0),void 0!==f.identifierPrefix&&(v=f.identifierPrefix),void 0!==f.onUncaughtError&&(N=f.onUncaughtError),void 0!==f.onCaughtError&&(Ja=f.onCaughtError),void 0!==f.onRecoverableError&&(hb=f.onRecoverableError),void 0!==f.unstable_transitionCallbacks&&
(cc=f.unstable_transitionCallbacks),void 0!==f.formState&&(Ic=f.formState));d=am(b,1,!0,d,null!=f?f:null,k,v,N,Ja,hb,cc,Ic);d.context=bm(null);f=d.current;k=Lg();k=Ub(k);v=Pe(k);v.callback=null;Ud(f,v,k);f=k;d.current.lanes=f;Ka(d,f);eb(d);b[Ei]=d.current;Ig(b);return new ol(d)};Za.version="19.1.1"};
shadow$provide[12]=function(Fb,pb,zc,Za){function u(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(l){console.error(l)}}u();zc.exports=pb(10)};
shadow$provide[17]=function(Fb,pb,zc,Za){zc.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"};
shadow$provide[21]=function(Fb,pb,zc,Za){function u(){}function l(){}var ja=pb(17);l.resetWarningCache=u;zc.exports=function(){function $a(ec,Bb,yb,ub,Lb,Yb){if(Yb!==ja)throw ec=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"),ec.name="Invariant Violation",ec;}function vb(){return $a}$a.isRequired=$a;var Xb={array:$a,bigint:$a,bool:$a,func:$a,number:$a,object:$a,
string:$a,symbol:$a,any:$a,arrayOf:vb,element:$a,elementType:$a,instanceOf:vb,node:$a,objectOf:vb,oneOf:vb,oneOfType:vb,shape:vb,exact:vb,checkPropTypes:l,resetWarningCache:u};return Xb.PropTypes=Xb}};
shadow$provide[22]=function(Fb,pb,zc,Za){zc.exports=pb(21)()};
shadow$provide[23]=function(Fb,pb,zc,Za){Za.__esModule=!0;Za.default=function(l,ja){void 0===l&&(l=u);void 0===ja&&(ja=u);const $a=Object.keys(l),vb=Object.keys(ja);return l===ja||$a.length===vb.length&&$a.every(Xb=>l[Xb]===ja[Xb])};const u={}};
shadow$provide[24]=function(Fb,pb,zc,Za){(function(u,l){"object"===typeof Za&&"undefined"!==typeof zc?l(Za):"function"===typeof define&&define.amd?define(["exports"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={}))})(this,function(u){function l(A,P,B){A.fields=P||[];A.fname=B;return A}function ja(A){return null==A?null:A.fields}function $a(A){return 1===A.length?Xa(A[0]):Ka(A)}function vb(A){throw Error(A);}function Xb(A){function P(){B.push(Ea+A.substring(R,ia));Ea="";R=ia+
1}const B=[],E=A.length;let I=null,X=0,Ea="",R,ia,Aa;A+="";for(R=ia=0;ia<E;++ia)(Aa=A[ia],"\\"===Aa)?(Ea+=A.substring(R,ia++),R=ia):Aa===I?(P(),I=null,X=-1):I||(R===X&&'"'===Aa?(R=ia+1,I=Aa):R===X&&"'"===Aa?(R=ia+1,I=Aa):"."!==Aa||X?"["===Aa?(ia>R&&P(),X=R=ia+1):"]"===Aa&&(X||vb("Access path missing open bracket: "+A),0<X&&P(),X=0,R=ia+1):ia>R?P():R=ia+1);X&&vb("Access path missing closing bracket: "+A);I&&vb("Access path missing closing quote: "+A);ia>R&&(ia++,P());return B}function ec(A,P,B){const E=
Xb(A);A=1===E.length?E[0]:A;return l((B&&B.get||$a)(E),[A],P||A)}function Bb(A,P,B){P=[P].concat([].slice.call(B));console[A].apply(console,P)}function yb(A){return A===Object(A)}function ub(A,P,B,E){if("__proto__"!==P){var I;if(yb(B)&&!ea(B))for(I in A=yb(A[P])?A[P]:A[P]={},B)E&&(!0===E||E[I])?ub(A,I,B[I]):"__proto__"!==I&&(A[I]=B[I]);else A[P]=B}}function Lb(A,P){function B(X){E[X.name]||(E[X.name]=1,I.push(X))}if(null==A)return P;const E={},I=[];P.forEach(B);A.forEach(B);return I}function Yb(A){return A[A.length-
1]}function Ba(A){return null==A||""===A?null:+A}function bb(A,P,B,E){const I=B(A[0]);A=B(Yb(A));P*=A-I;return[E(I-P),E(A-P)]}function Cb(A,P,B,E,I){const X=E(A[0]);A=E(Yb(A));P=null!=P?E(P):(X+A)/2;return[I(P+(X-P)*B),I(P+(A-P)*B)]}function xb(A){return null!=A?ea(A)?A:[A]:[]}function nb(A){return"function"===typeof A}function Db(A){for(let P,B,E=1,I=arguments.length;E<I;++E)for(B in P=arguments[E],P)A[B]=P[B];return A}function lb(A,P){return Object.hasOwn(A,P)}function lc(A){return"[object Date]"===
Object.prototype.toString.call(A)}function ua(A){return"number"===typeof A}function ha(A){return"string"===typeof A}function xa(A,P){let B="";for(;0<=--P;)B+=A;return B}function Ua(A){return ea(A)?"["+A.map(Ua)+"]":yb(A)||ha(A)?JSON.stringify(A).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):A}const Xa=A=>function(P){return P[A]},Ka=A=>{const P=A.length;return function(B){for(let E=0;E<P;++E)B=B[A[E]];return B}},jb=ec("id"),gb=l(A=>A,[],"identity"),wb=l(()=>0,[],"zero"),Ub=l(()=>1,[],"one"),
Na=l(()=>!0,[],"true"),U=l(()=>!1,[],"false");var ea=Array.isArray;const Ha=A=>P=>A*Math.exp(P),Y=A=>P=>Math.log(A*P),Ca=A=>P=>Math.sign(P)*Math.log1p(Math.abs(P/A)),ma=A=>P=>Math.sign(P)*Math.expm1(Math.abs(P))*A,na=A=>P=>0>P?-Math.pow(-P,A):Math.pow(P,A),n=(A,P)=>(A<P||null==A)&&null!=P?-1:(A>P||null==P)&&null!=A?1:(P=P instanceof Date?+P:P,A=A instanceof Date?+A:A)!==A&&P===P?-1:P!==P&&A===A?1:0,G=(A,P)=>1===A.length?M(A[0],P[0]):y(A,P,A.length),M=(A,P)=>function(B,E){return n(A(B),A(E))*P},y=
(A,P,B)=>{P.push(0);return function(E,I){var X=0;let Ea=-1;for(;0===X&&++Ea<B;)X=A[Ea],X=n(X(E),X(I));return X*P[Ea]}},T={},D=A=>ua(A)?A:lc(A)?A:Date.parse(A);u.Debug=4;u.Error=1;u.Info=3;u.None=0;u.Warn=2;u.accessor=l;u.accessorFields=ja;u.accessorName=function(A){return null==A?null:A.fname};u.array=xb;u.ascending=n;u.clampRange=function(A,P,B){let E=A[0];A=A[1];let I;A<E&&(I=A,A=E,E=I);I=A-E;return I>=B-P?[P,B]:[E=Math.min(Math.max(E,P),B-I),E+I]};u.compare=function(A,P,B){B=B||{};P=xb(P)||[];
const E=[],I=[],X={},Ea=B.comparator||G;xb(A).forEach((R,ia)=>{null!=R&&(E.push("descending"===P[ia]?-1:1),I.push(R=nb(R)?R:ec(R,null,B)),(ja(R)||[]).forEach(Aa=>X[Aa]=1))});return 0===I.length?null:l(Ea(I,E),Object.keys(X))};u.constant=function(A){return nb(A)?A:()=>A};u.debounce=function(A,P){let B;return E=>{B&&clearTimeout(B);B=setTimeout(()=>(P(E),B=null),A)}};u.error=vb;u.extend=Db;u.extent=function(A,P){let B=0,E,I,X,Ea;if(A&&(E=A.length))if(null==P){for(I=A[B];B<E&&(null==I||I!==I);I=A[++B]);
for(X=Ea=I;B<E;++B)I=A[B],null!=I&&(I<X&&(X=I),I>Ea&&(Ea=I))}else{for(I=P(A[B]);B<E&&(null==I||I!==I);I=P(A[++B]));for(X=Ea=I;B<E;++B)I=P(A[B]),null!=I&&(I<X&&(X=I),I>Ea&&(Ea=I))}return[X,Ea]};u.extentIndex=function(A,P){const B=A.length;let E=-1,I,X,Ea,R,ia;if(null==P){for(;++E<B;)if(X=A[E],null!=X&&X>=X){I=Ea=X;break}if(E===B)return[-1,-1];for(R=ia=E;++E<B;)X=A[E],null!=X&&(I>X&&(I=X,R=E),Ea<X&&(Ea=X,ia=E))}else{for(;++E<B;)if(X=P(A[E],E,A),null!=X&&X>=X){I=Ea=X;break}if(E===B)return[-1,-1];for(R=
ia=E;++E<B;)X=P(A[E],E,A),null!=X&&(I>X&&(I=X,R=E),Ea<X&&(Ea=X,ia=E))}return[R,ia]};u.falsy=U;u.fastmap=function(A){function P(X){return lb(B,X)&&B[X]!==T}let B={},E;const I={size:0,empty:0,object:B,has:P,get(X){return P(X)?B[X]:void 0},set(X,Ea){P(X)||(++I.size,B[X]===T&&--I.empty);B[X]=Ea;return this},delete(X){P(X)&&(--I.size,++I.empty,B[X]=T);return this},clear(){I.size=I.empty=0;I.object=B={}},test(X){return arguments.length?(E=X,I):E},clean(){const X={};let Ea=0;for(const R in B){const ia=B[R];
ia===T||E&&E(ia)||(X[R]=ia,++Ea)}I.size=Ea;I.empty=0;I.object=B=X}};A&&Object.keys(A).forEach(X=>{I.set(X,A[X])});return I};u.field=ec;u.flush=function(A,P,B,E,I,X){if(!B&&0!==B)return X;B=+B;let Ea=A[0],R=Yb(A);R<Ea&&(A=Ea,Ea=R,R=A);A=Math.abs(P-Ea);P=Math.abs(R-P);return A<P&&A<=B?E:P<=B?I:X};u.hasOwnProperty=lb;u.id=jb;u.identity=gb;u.inherits=function(A,P,B){P=A.prototype=Object.create(P.prototype);Object.defineProperty(P,"constructor",{value:A,writable:!0,enumerable:!0,configurable:!0});return Db(P,
B)};u.inrange=function(A,P,B,E){let I=P[0];P=P[P.length-1];let X;I>P&&(X=I,I=P,P=X);return(void 0===B||B?I<=A:I<A)&&(void 0===E||E?A<=P:A<P)};u.isArray=ea;u.isBoolean=function(A){return"boolean"===typeof A};u.isDate=lc;u.isFunction=nb;u.isIterable=function(A){return A&&nb(A[Symbol.iterator])};u.isNumber=ua;u.isObject=yb;u.isRegExp=function(A){return"[object RegExp]"===Object.prototype.toString.call(A)};u.isString=ha;u.key=function(A,P,B){A&&(A=P?xb(A).map(X=>X.replace(/\\(.)/g,"$1")):xb(A));const E=
A&&A.length,I=B&&B.get||$a;B=X=>I(P?[X]:Xb(X));if(E)if(1===E){const X=B(A[0]);B=function(Ea){return""+X(Ea)}}else{const X=A.map(B);B=function(Ea){let R=""+X[0](Ea),ia=0;for(;++ia<E;)R+="|"+X[ia](Ea);return R}}else B=function(){return""};return l(B,A,"key")};u.lerp=function(A,P){const B=A[0];A=Yb(A);return(P=+P)?1===P?A:B+P*(A-B):B};u.logger=function(A,P,B=Bb){let E=A||0;return{level(I){return arguments.length?(E=+I,this):E},error(){1<=E&&B(P||"error","ERROR",arguments);return this},warn(){2<=E&&B(P||
"warn","WARN",arguments);return this},info(){3<=E&&B(P||"log","INFO",arguments);return this},debug(){4<=E&&B(P||"log","DEBUG",arguments);return this}}};u.lruCache=function(A){A=+A||1E4;let P,B,E;const I=()=>{P={};B={};E=0},X=(Ea,R)=>{++E>A&&(B=P,P={},E=1);return P[Ea]=R};I();return{clear:I,has:Ea=>lb(P,Ea)||lb(B,Ea),get:Ea=>lb(P,Ea)?P[Ea]:lb(B,Ea)?X(Ea,B[Ea]):void 0,set:(Ea,R)=>lb(P,Ea)?P[Ea]=R:X(Ea,R)}};u.merge=function(A,P,B,E){const I=P.length,X=B.length;if(!X)return P;if(!I)return B;E=E||new P.constructor(I+
X);let Ea=0,R=0,ia=0;for(;Ea<I&&R<X;++ia)E[ia]=0<A(P[Ea],B[R])?B[R++]:P[Ea++];for(;Ea<I;++Ea,++ia)E[ia]=P[Ea];for(;R<X;++R,++ia)E[ia]=B[R];return E};u.mergeConfig=function(...A){return A.reduce((P,B)=>{for(const E in B)"signals"===E?P.signals=Lb(P.signals,B.signals):ub(P,E,B[E],"legend"===E?{layout:1}:"style"===E?!0:null);return P},{})};u.one=Ub;u.pad=function(A,P,B,E){B=B||" ";A+="";P-=A.length;return 0>=P?A:"left"===E?xa(B,P)+A:"center"===E?xa(B,~~(P/2))+A+xa(B,Math.ceil(P/2)):A+xa(B,P)};u.panLinear=
function(A,P){return bb(A,P,Ba,gb)};u.panLog=function(A,P){var B=Math.sign(A[0]);return bb(A,P,Y(B),Ha(B))};u.panPow=function(A,P,B){return bb(A,P,na(B),na(1/B))};u.panSymlog=function(A,P,B){return bb(A,P,Ca(B),ma(B))};u.peek=Yb;u.quarter=function(A){return 1+~~((new Date(A)).getMonth()/3)};u.repeat=xa;u.span=function(A){return A&&Yb(A)-A[0]||0};u.splitAccessPath=Xb;u.stringValue=Ua;u.toBoolean=function(A){return null==A||""===A?null:A&&"false"!==A&&"0"!==A?!!A:!1};u.toDate=function(A,P){P=P||D;return null==
A||""===A?null:P(A)};u.toNumber=Ba;u.toSet=function(A){const P={},B=A.length;for(let E=0;E<B;++E)P[A[E]]=!0;return P};u.toString=function(A){return null==A||""===A?null:A+""};u.truncate=function(A,P,B,E){E=null!=E?E:"…";A+="";const I=A.length,X=Math.max(0,P-E.length);return I<=P?A:"left"===B?E+A.slice(I-X):"center"===B?A.slice(0,Math.ceil(X/2))+E+A.slice(I-~~(X/2)):A.slice(0,X)+E};u.truthy=Na;u.utcquarter=function(A){return 1+~~((new Date(A)).getUTCMonth()/3)};u.visitArray=function(A,P,B){if(A)if(P){const E=
A.length;for(let I=0;I<E;++I){const X=P(A[I]);X&&B(X,I,A)}}else A.forEach(B)};u.writeConfig=ub;u.zero=wb;u.zoomLinear=function(A,P,B){return Cb(A,P,B,Ba,gb)};u.zoomLog=function(A,P,B){const E=Math.sign(A[0]);return Cb(A,P,B,Y(E),Ha(E))};u.zoomPow=function(A,P,B,E){return Cb(A,P,B,na(E),na(1/E))};u.zoomSymlog=function(A,P,B,E){return Cb(A,P,B,Ca(E),ma(E))}})};
shadow$provide[25]=function(Fb,pb,zc,Za){(function(u,l){"object"===typeof Za&&"undefined"!==typeof zc?l(Za):"function"===typeof define&&define.amd?define(["exports"],l):(u=u||self,l(u.topojson=u.topojson||{}))})(this,function(u){function l(Ba){return Ba}function ja(Ba){if(null==Ba)return l;var bb,Cb,xb=Ba.scale[0],nb=Ba.scale[1],Db=Ba.translate[0],lb=Ba.translate[1];return function(lc,ua){ua||(bb=Cb=0);ua=2;var ha=lc.length,xa=Array(ha);xa[0]=(bb+=lc[0])*xb+Db;for(xa[1]=(Cb+=lc[1])*nb+lb;ua<ha;)xa[ua]=
lc[ua],++ua;return xa}}function $a(Ba){function bb(ha){ha=xb(ha);ha[0]<Db&&(Db=ha[0]);ha[0]>lc&&(lc=ha[0]);ha[1]<lb&&(lb=ha[1]);ha[1]>ua&&(ua=ha[1])}function Cb(ha){switch(ha.type){case "GeometryCollection":ha.geometries.forEach(Cb);break;case "Point":bb(ha.coordinates);break;case "MultiPoint":ha.coordinates.forEach(bb)}}var xb=ja(Ba.transform),nb,Db=Infinity,lb=Db,lc=-Db,ua=-Db;Ba.arcs.forEach(function(ha){for(var xa=-1,Ua=ha.length,Xa;++xa<Ua;)Xa=xb(ha[xa],xa),Xa[0]<Db&&(Db=Xa[0]),Xa[0]>lc&&(lc=
Xa[0]),Xa[1]<lb&&(lb=Xa[1]),Xa[1]>ua&&(ua=Xa[1])});for(nb in Ba.objects)Cb(Ba.objects[nb]);return[Db,lb,lc,ua]}function vb(Ba,bb){var Cb=bb.id,xb=bb.bbox,nb=null==bb.properties?{}:bb.properties;Ba=Xb(Ba,bb);return null==Cb&&null==xb?{type:"Feature",properties:nb,geometry:Ba}:null==xb?{type:"Feature",id:Cb,properties:nb,geometry:Ba}:{type:"Feature",id:Cb,bbox:xb,properties:nb,geometry:Ba}}function Xb(Ba,bb){function Cb(ha){return lc(ha)}function xb(ha){for(var xa=[],Ua=0,Xa=ha.length;Ua<Xa;++Ua){var Ka=
ha[Ua],jb=xa;jb.length&&jb.pop();for(var gb=ua[0>Ka?~Ka:Ka],wb=0,Ub=gb.length;wb<Ub;++wb)jb.push(lc(gb[wb],wb));if(0>Ka)for(Ka=jb,jb=Ka.length,gb=jb-Ub;gb<--jb;)Ub=Ka[gb],Ka[gb++]=Ka[jb],Ka[jb]=Ub}2>xa.length&&xa.push(xa[0]);return xa}function nb(ha){for(ha=xb(ha);4>ha.length;)ha.push(ha[0]);return ha}function Db(ha){return ha.map(nb)}function lb(ha){var xa=ha.type;switch(xa){case "GeometryCollection":return{type:xa,geometries:ha.geometries.map(lb)};case "Point":ha=lc(ha.coordinates);break;case "MultiPoint":ha=
ha.coordinates.map(Cb);break;case "LineString":ha=xb(ha.arcs);break;case "MultiLineString":ha=ha.arcs.map(xb);break;case "Polygon":ha=Db(ha.arcs);break;case "MultiPolygon":ha=ha.arcs.map(Db);break;default:return null}return{type:xa,coordinates:ha}}var lc=ja(Ba.transform),ua=Ba.arcs;return lb(bb)}function ec(Ba,bb){function Cb(ha){var xa=Ba.arcs[0>ha?~ha:ha],Ua=xa[0];if(Ba.transform){var Xa=[0,0];xa.forEach(function(Ka){Xa[0]+=Ka[0];Xa[1]+=Ka[1]})}else Xa=xa[xa.length-1];return 0>ha?[Xa,Ua]:[Ua,Xa]}
function xb(ha,xa){for(var Ua in ha){var Xa=ha[Ua];delete xa[Xa.start];delete Xa.start;delete Xa.end;Xa.forEach(function(Ka){nb[0>Ka?~Ka:Ka]=1});lc.push(Xa)}}var nb={},Db={},lb={},lc=[],ua=-1;bb.forEach(function(ha,xa){var Ua=Ba.arcs[0>ha?~ha:ha];3>Ua.length&&!Ua[1][0]&&!Ua[1][1]&&(Ua=bb[++ua],bb[ua]=ha,bb[xa]=Ua)});bb.forEach(function(ha){var xa=Cb(ha),Ua=xa[0],Xa=xa[1];(xa=lb[Ua])?(delete lb[xa.end],xa.push(ha),xa.end=Xa,(ha=Db[Xa])?(delete Db[ha.start],Ua=ha===xa?xa:xa.concat(ha),Db[Ua.start=xa.start]=
lb[Ua.end=ha.end]=Ua):Db[xa.start]=lb[xa.end]=xa):(xa=Db[Xa])?(delete Db[xa.start],xa.unshift(ha),xa.start=Ua,(ha=lb[Ua])?(delete lb[ha.end],Ua=ha===xa?xa:ha.concat(xa),Db[Ua.start=ha.start]=lb[Ua.end=xa.end]=Ua):Db[xa.start]=lb[xa.end]=xa):(xa=[ha],Db[xa.start=Ua]=lb[xa.end=Xa]=xa)});xb(lb,Db);xb(Db,lb);bb.forEach(function(ha){nb[0>ha?~ha:ha]||lc.push([ha])});return lc}function Bb(Ba,bb,Cb){var xb;if(1<arguments.length)var nb=yb(Ba,bb,Cb);else{var Db=0;for(nb=Array(xb=Ba.arcs.length);Db<xb;++Db)nb[Db]=
Db}return{type:"MultiLineString",arcs:ec(Ba,nb)}}function yb(Ba,bb,Cb){function xb(xa){var Ua=0>xa?~xa:xa;(ua[Ua]||(ua[Ua]=[])).push({i:xa,g:ha})}function nb(xa){xa.forEach(xb)}function Db(xa){xa.forEach(nb)}function lb(xa){switch(ha=xa,xa.type){case "GeometryCollection":xa.geometries.forEach(lb);break;case "LineString":nb(xa.arcs);break;case "MultiLineString":case "Polygon":Db(xa.arcs);break;case "MultiPolygon":xa.arcs.forEach(Db)}}var lc=[],ua=[],ha;lb(bb);ua.forEach(null==Cb?function(xa){lc.push(xa[0].i)}:
function(xa){Cb(xa[0].g,xa[xa.length-1].g)&&lc.push(xa[0].i)});return lc}function ub(Ba,bb){function Cb(ua){switch(ua.type){case "GeometryCollection":ua.geometries.forEach(Cb);break;case "Polygon":xb(ua.arcs);break;case "MultiPolygon":ua.arcs.forEach(xb)}}function xb(ua){ua.forEach(function(ha){ha.forEach(function(xa){(Db[xa=0>xa?~xa:xa]||(Db[xa]=[])).push(ua)})});lb.push(ua)}function nb(ua){ua=Xb(Ba,{type:"Polygon",arcs:[ua]}).coordinates[0];for(var ha=-1,xa=ua.length,Ua,Xa=ua[xa-1],Ka=0;++ha<xa;)Ua=
Xa,Xa=ua[ha],Ka+=Ua[0]*Xa[1]-Ua[1]*Xa[0];return Math.abs(Ka)}var Db={},lb=[],lc=[];bb.forEach(Cb);lb.forEach(function(ua){if(!ua._){var ha=[],xa=[ua];ua._=1;for(lc.push(ha);ua=xa.pop();)ha.push(ua),ua.forEach(function(Ua){Ua.forEach(function(Xa){Db[0>Xa?~Xa:Xa].forEach(function(Ka){Ka._||(Ka._=1,xa.push(Ka))})})})}});lb.forEach(function(ua){delete ua._});return{type:"MultiPolygon",arcs:lc.map(function(ua){var ha=[];ua.forEach(function(Ka){Ka.forEach(function(jb){jb.forEach(function(gb){2>Db[0>gb?
~gb:gb].length&&ha.push(gb)})})});ha=ec(Ba,ha);if(1<(ua=ha.length))for(var xa=1,Ua=nb(ha[0]),Xa;xa<ua;++xa)(Xa=nb(ha[xa]))>Ua&&(Ua=ha[0],ha[0]=ha[xa],ha[xa]=Ua,Ua=Xa);return ha}).filter(function(ua){return 0<ua.length})}}function Lb(Ba,bb){for(var Cb=0,xb=Ba.length;Cb<xb;){var nb=Cb+xb>>>1;Ba[nb]<bb?Cb=nb+1:xb=nb}return Cb}function Yb(Ba){if(null==Ba)return l;var bb,Cb,xb=Ba.scale[0],nb=Ba.scale[1],Db=Ba.translate[0],lb=Ba.translate[1];return function(lc,ua){ua||(bb=Cb=0);ua=2;var ha=lc.length,xa=
Array(ha),Ua=Math.round((lc[0]-Db)/xb),Xa=Math.round((lc[1]-lb)/nb);xa[0]=Ua-bb;bb=Ua;xa[1]=Xa-Cb;for(Cb=Xa;ua<ha;)xa[ua]=lc[ua],++ua;return xa}}u.bbox=$a;u.feature=function(Ba,bb){"string"===typeof bb&&(bb=Ba.objects[bb]);return"GeometryCollection"===bb.type?{type:"FeatureCollection",features:bb.geometries.map(function(Cb){return vb(Ba,Cb)})}:vb(Ba,bb)};u.merge=function(Ba){return Xb(Ba,ub.apply(this,arguments))};u.mergeArcs=ub;u.mesh=function(Ba){return Xb(Ba,Bb.apply(this,arguments))};u.meshArcs=
Bb;u.neighbors=function(Ba){function bb(jb,gb){jb.forEach(function(wb){0>wb&&(wb=~wb);var Ub=nb[wb];Ub?Ub.push(gb):nb[wb]=[gb]})}function Cb(jb,gb){jb.forEach(function(wb){bb(wb,gb)})}function xb(jb,gb){if("GeometryCollection"===jb.type)jb.geometries.forEach(function(wb){xb(wb,gb)});else if(jb.type in lb)lb[jb.type](jb.arcs,gb)}var nb={},Db=Ba.map(function(){return[]}),lb={LineString:bb,MultiLineString:Cb,Polygon:Cb,MultiPolygon:function(jb,gb){jb.forEach(function(wb){Cb(wb,gb)})}};Ba.forEach(xb);
for(var lc in nb){Ba=nb[lc];for(var ua=Ba.length,ha=0;ha<ua;++ha)for(var xa=ha+1;xa<ua;++xa){var Ua=Ba[ha],Xa=Ba[xa],Ka;(Ka=Db[Ua])[lc=Lb(Ka,Xa)]!==Xa&&Ka.splice(lc,0,Xa);(Ka=Db[Xa])[lc=Lb(Ka,Ua)]!==Ua&&Ka.splice(lc,0,Ua)}}return Db};u.quantize=function(Ba,bb){function Cb(Ua){return ha(Ua)}function xb(Ua){switch(Ua.type){case "GeometryCollection":var Xa={type:"GeometryCollection",geometries:Ua.geometries.map(xb)};break;case "Point":Xa={type:"Point",coordinates:ha(Ua.coordinates)};break;case "MultiPoint":Xa=
{type:"MultiPoint",coordinates:Ua.coordinates.map(Cb)};break;default:return Ua}null!=Ua.id&&(Xa.id=Ua.id);null!=Ua.bbox&&(Xa.bbox=Ua.bbox);null!=Ua.properties&&(Xa.properties=Ua.properties);return Xa}if(Ba.transform)throw Error("already quantized");if(bb&&bb.scale)var nb=Ba.bbox;else{if(!(2<=(ua=Math.floor(bb))))throw Error("n must be ≥2");nb=Ba.bbox||$a(Ba);bb=nb[0];var Db=nb[1],lb=nb[2],lc=nb[3],ua;bb={scale:[lb-bb?(lb-bb)/(ua-1):1,lc-Db?(lc-Db)/(ua-1):1],translate:[bb,Db]}}var ha=Yb(bb),xa;Db=
Ba.objects;lb={};for(xa in Db)lb[xa]=xb(Db[xa]);return{type:"Topology",bbox:nb,transform:bb,objects:lb,arcs:Ba.arcs.map(function(Ua){var Xa=0,Ka=1,jb=Ua.length,gb,wb=Array(jb);for(wb[0]=ha(Ua[0],0);++Xa<jb;)if((gb=ha(Ua[Xa],Xa))[0]||gb[1])wb[Ka++]=gb;1===Ka&&(wb[Ka++]=[0,0]);wb.length=Ka;return wb})}};u.transform=ja;u.untransform=Yb;Object.defineProperty(u,"__esModule",{value:!0})})};
shadow$provide[26]=function(Fb,pb,zc,Za){(function(u,l){"object"===typeof Za&&"undefined"!==typeof zc?l(Za,pb(24)):"function"===typeof define&&define.amd?define(["exports","vega-util"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega))})(this,function(u,l){function ja(aa){const Ga=l.array(aa).slice(),Qb={};Ga.length||l.error("Missing time unit.");Ga.forEach(nc=>{l.hasOwnProperty(Ka,nc)?Qb[nc]=1:l.error(`Invalid time unit: ${nc}.`)});1<(Qb.week||Qb.day?1:0)+(Qb.quarter||
Qb.month||Qb.date?1:0)+(Qb.dayofyear?1:0)&&l.error(`Incompatible time units: ${aa}`);Ga.sort((nc,$b)=>Ka[nc]-Ka[$b]);return Ga}function $a(aa,Ga,Qb,nc){function $b(Ob){return aa(Ob=0===arguments.length?new Date:new Date(+Ob)),Ob}$b.floor=Ob=>(aa(Ob=new Date(+Ob)),Ob);$b.ceil=Ob=>(aa(Ob=new Date(Ob-1)),Ga(Ob,1),aa(Ob),Ob);$b.round=Ob=>{const Nb=$b(Ob),rc=$b.ceil(Ob);return Ob-Nb<rc-Ob?Nb:rc};$b.offset=(Ob,Nb)=>(Ga(Ob=new Date(+Ob),null==Nb?1:Math.floor(Nb)),Ob);$b.range=(Ob,Nb,rc)=>{const Sc=[];Ob=
$b.ceil(Ob);rc=null==rc?1:Math.floor(rc);if(!(Ob<Nb&&0<rc))return Sc;let ra;do Sc.push(ra=new Date(+Ob)),Ga(Ob,rc),aa(Ob);while(ra<Ob&&Ob<Nb);return Sc};$b.filter=Ob=>$a(Nb=>{if(Nb>=Nb)for(;aa(Nb),!Ob(Nb);)Nb.setTime(Nb-1)},(Nb,rc)=>{if(Nb>=Nb)if(0>rc)for(;0>=++rc;)for(;Ga(Nb,-1),!Ob(Nb););else for(;0<=--rc;)for(;Ga(Nb,1),!Ob(Nb););});Qb&&($b.count=(Ob,Nb)=>{gb.setTime(+Ob);wb.setTime(+Nb);aa(gb);aa(wb);return Math.floor(Qb(gb,wb))},$b.every=Ob=>{Ob=Math.floor(Ob);return isFinite(Ob)&&0<Ob?1<Ob?$b.filter(nc?
Nb=>0===nc(Nb)%Ob:Nb=>0===$b.count(0,Nb)%Ob):$b:null});return $b}function vb(aa){return $a(Ga=>{Ga.setDate(Ga.getDate()-(Ga.getDay()+7-aa)%7);Ga.setHours(0,0,0,0)},(Ga,Qb)=>{Ga.setDate(Ga.getDate()+7*Qb)},(Ga,Qb)=>(Qb-Ga-6E4*(Qb.getTimezoneOffset()-Ga.getTimezoneOffset()))/Na)}function Xb(aa){return $a(Ga=>{Ga.setUTCDate(Ga.getUTCDate()-(Ga.getUTCDay()+7-aa)%7);Ga.setUTCHours(0,0,0,0)},(Ga,Qb)=>{Ga.setUTCDate(Ga.getUTCDate()+7*Qb)},(Ga,Qb)=>(Qb-Ga)/Na)}function ec(aa,Ga){return null==aa||null==Ga?
NaN:aa<Ga?-1:aa>Ga?1:aa>=Ga?0:NaN}function Bb(aa,Ga){return null==aa||null==Ga?NaN:Ga<aa?-1:Ga>aa?1:Ga>=aa?0:NaN}function yb(aa){function Ga(Ob,Nb,rc=0,Sc=Ob.length){if(rc<Sc){if(0!==Qb(Nb,Nb))return Sc;do{const ra=rc+Sc>>>1;0>nc(Ob[ra],Nb)?rc=ra+1:Sc=ra}while(rc<Sc)}return rc}let Qb,nc,$b;2!==aa.length?(Qb=ec,nc=(Ob,Nb)=>ec(aa(Ob),Nb),$b=(Ob,Nb)=>aa(Ob)-Nb):(Qb=aa===ec||aa===Bb?aa:ub,$b=nc=aa);return{left:Ga,center:function(Ob,Nb,rc=0,Sc=Ob.length){Sc=Ga(Ob,Nb,rc,Sc-1);return Sc>rc&&$b(Ob[Sc-1],
Nb)>-$b(Ob[Sc],Nb)?Sc-1:Sc},right:function(Ob,Nb,rc=0,Sc=Ob.length){if(rc<Sc){if(0!==Qb(Nb,Nb))return Sc;do{const ra=rc+Sc>>>1;0>=nc(Ob[ra],Nb)?rc=ra+1:Sc=ra}while(rc<Sc)}return rc}}}function ub(){return 0}function Lb(aa,Ga,Qb){var nc=(Ga-aa)/Math.max(0,Qb),$b=Math.floor(Math.log10(nc));nc/=Math.pow(10,$b);nc=nc>=B?10:nc>=E?5:nc>=I?2:1;let Ob;0>$b?(Ob=Math.pow(10,-$b)/nc,$b=Math.round(aa*Ob),nc=Math.round(Ga*Ob),$b/Ob<aa&&++$b,nc/Ob>Ga&&--nc,Ob=-Ob):(Ob=Math.pow(10,$b)*nc,$b=Math.round(aa/Ob),nc=
Math.round(Ga/Ob),$b*Ob<aa&&++$b,nc*Ob>Ga&&--nc);return nc<$b&&.5<=Qb&&2>Qb?Lb(aa,Ga,2*Qb):[$b,nc,Ob]}function Yb(aa,Ga,Qb){return Lb(+aa,+Ga,+Qb)[2]}function Ba(aa,Ga,Qb){Ga=+Ga;aa=+aa;Qb=+Qb;const nc=Ga<aa;aa=nc?Yb(Ga,aa,Qb):Yb(aa,Ga,Qb);return(nc?-1:1)*(0>aa?1/-aa:aa)}function bb(aa){X.setFullYear(aa);X.setMonth(0);X.setDate(1);X.setHours(0,0,0,0);return X}function Cb(aa){return ma.count(bb(aa.getFullYear())-1,aa)}function xb(aa){return G.count(bb(aa.getFullYear())-1,aa)}function nb(aa,Ga,Qb,nc,
$b,Ob,Nb){return 0<=aa&&100>aa?(Ga=new Date(-1,Ga,Qb,nc,$b,Ob,Nb),Ga.setFullYear(aa),Ga):new Date(aa,Ga,Qb,nc,$b,Ob,Nb)}function Db(aa){const Ga=Date.UTC(aa.getUTCFullYear(),0,1);return na.count(Ga-1,aa)}function lb(aa){const Ga=Date.UTC(aa.getUTCFullYear(),0,1);return P.count(Ga-1,aa)}function lc(aa){X.setTime(Date.UTC(aa,0,1));return X.getUTCDay()}function ua(aa,Ga,Qb,nc,$b,Ob,Nb){return 0<=aa&&100>aa?(aa=new Date(Date.UTC(-1,Ga,Qb,nc,$b,Ob,Nb)),aa.setUTCFullYear(Qb.y),aa):new Date(Date.UTC(aa,
Ga,Qb,nc,$b,Ob,Nb))}function ha(aa,Ga,Qb,nc,$b){const Ob=Ga||1,Nb=l.peek(aa);Ga=(Wb,ic,wc)=>{wc=wc||Wb;return xa(Qb[wc],nc[wc],Wb===Nb&&Ob,ic)};const rc=new Date;aa=l.toSet(aa);const Sc=aa.year?Ga("year"):l.constant(2012),ra=aa.month?Ga("month"):aa.quarter?Ga("quarter"):l.zero,Gb=aa.week&&aa.day?Ga("day",1,"weekday"):aa.week?Ga("week",1):aa.day?Ga("day",1):aa.date?Ga("date",1):aa.dayofyear?Ga("dayofyear",1):l.one,Va=aa.hours?Ga("hours"):l.zero,Ab=aa.minutes?Ga("minutes"):l.zero,Jb=aa.seconds?Ga("seconds"):
l.zero,Eb=aa.milliseconds?Ga("milliseconds"):l.zero;return function(Wb){rc.setTime(+Wb);Wb=Sc(rc);return $b(Wb,ra(rc),Gb(rc,Wb),Va(rc),Ab(rc),Jb(rc),Eb(rc))}}function xa(aa,Ga,Qb,nc){const $b=1>=Qb?aa:nc?(Ob,Nb)=>nc+Qb*Math.floor((aa(Ob,Nb)-nc)/Qb):(Ob,Nb)=>Qb*Math.floor(aa(Ob,Nb)/Qb);return Ga?(Ob,Nb)=>Ga($b(Ob,Nb),Nb):$b}function Ua(aa,Ga,Qb){return Ga+7*aa-(Qb+6)%7}const Xa="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),Ka=Xa.reduce((aa,Ga,Qb)=>(aa[Ga]=
1+Qb,aa),{}),jb={year:"%Y ",quarter:"Q%q ",month:"%b ",date:"%d ",week:"W%U ",day:"%a ",dayofyear:"%j ",hours:"%H:00",minutes:"00:%M",seconds:":%S",milliseconds:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"},gb=new Date,wb=new Date,Ub=$a(()=>{},(aa,Ga)=>{aa.setTime(+aa+Ga)},(aa,Ga)=>Ga-aa);Ub.every=aa=>{aa=Math.floor(aa);return isFinite(aa)&&0<aa?1<aa?$a(Ga=>{Ga.setTime(Math.floor(Ga/aa)*aa)},(Ga,Qb)=>{Ga.setTime(+Ga+Qb*aa)},(Ga,Qb)=>(Qb-Ga)/aa):Ub:null};
Ub.range;const Na=6048E5;var U=$a(aa=>{aa.setTime(aa-aa.getMilliseconds())},(aa,Ga)=>{aa.setTime(+aa+1E3*Ga)},(aa,Ga)=>(Ga-aa)/1E3,aa=>aa.getUTCSeconds());U.range;var ea=$a(aa=>{aa.setTime(aa-aa.getMilliseconds()-1E3*aa.getSeconds())},(aa,Ga)=>{aa.setTime(+aa+6E4*Ga)},(aa,Ga)=>(Ga-aa)/6E4,aa=>aa.getMinutes());ea.range;var Ha=$a(aa=>{aa.setUTCSeconds(0,0)},(aa,Ga)=>{aa.setTime(+aa+6E4*Ga)},(aa,Ga)=>(Ga-aa)/6E4,aa=>aa.getUTCMinutes());Ha.range;var Y=$a(aa=>{aa.setTime(aa-aa.getMilliseconds()-1E3*aa.getSeconds()-
6E4*aa.getMinutes())},(aa,Ga)=>{aa.setTime(+aa+36E5*Ga)},(aa,Ga)=>(Ga-aa)/36E5,aa=>aa.getHours());Y.range;var Ca=$a(aa=>{aa.setUTCMinutes(0,0,0)},(aa,Ga)=>{aa.setTime(+aa+36E5*Ga)},(aa,Ga)=>(Ga-aa)/36E5,aa=>aa.getUTCHours());Ca.range;const ma=$a(aa=>aa.setHours(0,0,0,0),(aa,Ga)=>aa.setDate(aa.getDate()+Ga),(aa,Ga)=>(Ga-aa-6E4*(Ga.getTimezoneOffset()-aa.getTimezoneOffset()))/864E5,aa=>aa.getDate()-1);ma.range;const na=$a(aa=>{aa.setUTCHours(0,0,0,0)},(aa,Ga)=>{aa.setUTCDate(aa.getUTCDate()+Ga)},(aa,
Ga)=>(Ga-aa)/864E5,aa=>aa.getUTCDate()-1);na.range;var n=$a(aa=>{aa.setUTCHours(0,0,0,0)},(aa,Ga)=>{aa.setUTCDate(aa.getUTCDate()+Ga)},(aa,Ga)=>(Ga-aa)/864E5,aa=>Math.floor(aa/864E5));n.range;const G=vb(0);n=vb(1);var M=vb(2),y=vb(3),T=vb(4),D=vb(5),A=vb(6);G.range;n.range;M.range;y.range;T.range;D.range;A.range;const P=Xb(0);n=Xb(1);M=Xb(2);y=Xb(3);T=Xb(4);D=Xb(5);A=Xb(6);P.range;n.range;M.range;y.range;T.range;D.range;A.range;n=$a(aa=>{aa.setDate(1);aa.setHours(0,0,0,0)},(aa,Ga)=>{aa.setMonth(aa.getMonth()+
Ga)},(aa,Ga)=>Ga.getMonth()-aa.getMonth()+12*(Ga.getFullYear()-aa.getFullYear()),aa=>aa.getMonth());n.range;M=$a(aa=>{aa.setUTCDate(1);aa.setUTCHours(0,0,0,0)},(aa,Ga)=>{aa.setUTCMonth(aa.getUTCMonth()+Ga)},(aa,Ga)=>Ga.getUTCMonth()-aa.getUTCMonth()+12*(Ga.getUTCFullYear()-aa.getUTCFullYear()),aa=>aa.getUTCMonth());M.range;y=$a(aa=>{aa.setMonth(0,1);aa.setHours(0,0,0,0)},(aa,Ga)=>{aa.setFullYear(aa.getFullYear()+Ga)},(aa,Ga)=>Ga.getFullYear()-aa.getFullYear(),aa=>aa.getFullYear());y.every=aa=>isFinite(aa=
Math.floor(aa))&&0<aa?$a(Ga=>{Ga.setFullYear(Math.floor(Ga.getFullYear()/aa)*aa);Ga.setMonth(0,1);Ga.setHours(0,0,0,0)},(Ga,Qb)=>{Ga.setFullYear(Ga.getFullYear()+Qb*aa)}):null;y.range;T=$a(aa=>{aa.setUTCMonth(0,1);aa.setUTCHours(0,0,0,0)},(aa,Ga)=>{aa.setUTCFullYear(aa.getUTCFullYear()+Ga)},(aa,Ga)=>Ga.getUTCFullYear()-aa.getUTCFullYear(),aa=>aa.getUTCFullYear());T.every=aa=>isFinite(aa=Math.floor(aa))&&0<aa?$a(Ga=>{Ga.setUTCFullYear(Math.floor(Ga.getUTCFullYear()/aa)*aa);Ga.setUTCMonth(0,1);Ga.setUTCHours(0,
0,0,0)},(Ga,Qb)=>{Ga.setUTCFullYear(Ga.getUTCFullYear()+Qb*aa)}):null;T.range;const B=Math.sqrt(50),E=Math.sqrt(10),I=Math.sqrt(2),X=new Date,Ea={year:aa=>aa.getFullYear(),quarter:aa=>Math.floor(aa.getMonth()/3),month:aa=>aa.getMonth(),date:aa=>aa.getDate(),hours:aa=>aa.getHours(),minutes:aa=>aa.getMinutes(),seconds:aa=>aa.getSeconds(),milliseconds:aa=>aa.getMilliseconds(),dayofyear:aa=>Cb(aa),week:aa=>xb(aa),weekday:(aa,Ga)=>Ua(xb(aa),aa.getDay(),bb(Ga).getDay()),day:(aa,Ga)=>Ua(1,aa.getDay(),bb(Ga).getDay())},
R={quarter:aa=>3*aa,week:(aa,Ga)=>Ua(aa,0,bb(Ga).getDay())},ia={year:aa=>aa.getUTCFullYear(),quarter:aa=>Math.floor(aa.getUTCMonth()/3),month:aa=>aa.getUTCMonth(),date:aa=>aa.getUTCDate(),hours:aa=>aa.getUTCHours(),minutes:aa=>aa.getUTCMinutes(),seconds:aa=>aa.getUTCSeconds(),milliseconds:aa=>aa.getUTCMilliseconds(),dayofyear:aa=>Db(aa),week:aa=>lb(aa),day:(aa,Ga)=>Ua(1,aa.getUTCDay(),lc(Ga)),weekday:(aa,Ga)=>Ua(lb(aa),aa.getUTCDay(),lc(Ga))},Aa={quarter:aa=>3*aa,week:(aa,Ga)=>Ua(aa,0,lc(Ga))},Pa=
{year:y,quarter:n.every(3),month:n,week:G,date:ma,day:ma,dayofyear:ma,hours:Y,minutes:ea,seconds:U,milliseconds:Ub},Ra={year:T,quarter:M.every(3),month:M,week:P,date:na,day:na,dayofyear:na,hours:Ca,minutes:Ha,seconds:U,milliseconds:Ub};U=6048E5;ea=2592E6;const fb=31536E6,zb="year month date hours minutes seconds milliseconds".split(" ");Ha=zb.slice(0,-1);Y=Ha.slice(0,-1);Ca=Y.slice(0,-1);n=Ca.slice(0,-1);M=["year","month"];const kb=["year"],Vb=[[Ha,1,1E3],[Ha,5,5E3],[Ha,15,15E3],[Ha,30,3E4],[Y,1,
6E4],[Y,5,3E5],[Y,15,9E5],[Y,30,18E5],[Ca,1,36E5],[Ca,3,108E5],[Ca,6,216E5],[Ca,12,432E5],[n,1,864E5],[["year","week"],1,U],[M,1,ea],[M,3,3*ea],[kb,1,fb]];u.DATE="date";u.DAY="day";u.DAYOFYEAR="dayofyear";u.HOURS="hours";u.MILLISECONDS="milliseconds";u.MINUTES="minutes";u.MONTH="month";u.QUARTER="quarter";u.SECONDS="seconds";u.TIME_UNITS=Xa;u.WEEK="week";u.YEAR="year";u.dayofyear=function(aa){return Cb(new Date(aa))};u.timeBin=function(aa){var Ga=aa.extent;aa=aa.maxbins||40;var Qb=Math.abs(l.span(Ga))/
aa;let nc=yb($b=>$b[2]).right(Vb,Qb);nc===Vb.length?(Qb=kb,Ga=Ba(Ga[0]/fb,Ga[1]/fb,aa)):nc?(nc=Vb[Qb/Vb[nc-1][2]<Vb[nc][2]/Qb?nc-1:nc],Qb=nc[0],Ga=nc[1]):(Qb=zb,Ga=Math.max(Ba(Ga[0],Ga[1],aa),1));return{units:Qb,step:Ga}};u.timeFloor=function(aa,Ga){return ha(aa,Ga||1,Ea,R,nb)};u.timeInterval=function(aa){return Pa[aa]};u.timeOffset=function(aa,Ga,Qb){return(aa=Pa[aa])?aa.offset(Ga,Qb):void 0};u.timeSequence=function(aa,Ga,Qb,nc){return(aa=Pa[aa])?aa.range(Ga,Qb,nc):void 0};u.timeUnitSpecifier=function(aa,
Ga){Ga=l.extend({},jb,Ga);aa=ja(aa);const Qb=aa.length;let nc="",$b,Ob,Nb;for($b=0;$b<Qb;)for(Ob=aa.length;Ob>$b;--Ob)if(Nb=aa.slice($b,Ob).join("-"),null!=Ga[Nb]){nc+=Ga[Nb];$b=Ob;break}return nc.trim()};u.timeUnits=ja;u.utcFloor=function(aa,Ga){return ha(aa,Ga||1,ia,Aa,ua)};u.utcInterval=function(aa){return Ra[aa]};u.utcOffset=function(aa,Ga,Qb){return(aa=Ra[aa])?aa.offset(Ga,Qb):void 0};u.utcSequence=function(aa,Ga,Qb,nc){return(aa=Ra[aa])?aa.range(Ga,Qb,nc):void 0};u.utcdayofyear=function(aa){return Db(new Date(aa))};
u.utcweek=function(aa){return lb(new Date(aa))};u.week=function(aa){return xb(new Date(aa))}})};
shadow$provide[27]=function(Fb,pb,zc,Za){(function(u,l){"object"===typeof Za&&"undefined"!==typeof zc?l(Za,pb(26),pb(24)):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega,u.vega))})(this,function(u,l,ja){function $a(Da){const cb={};return fc=>cb[fc]||(cb[fc]=Da(fc))}function vb(Da,cb,fc){var hd=(cb-Da)/Math.max(0,fc),id=Math.floor(Math.log10(hd));hd/=Math.pow(10,id);hd=hd>=nd?10:hd>=dd?5:hd>=
Wd?2:1;let ed;0>id?(ed=Math.pow(10,-id)/hd,id=Math.round(Da*ed),hd=Math.round(cb*ed),id/ed<Da&&++id,hd/ed>cb&&--hd,ed=-ed):(ed=Math.pow(10,id)*hd,id=Math.round(Da/ed),hd=Math.round(cb/ed),id*ed<Da&&++id,hd*ed>cb&&--hd);return hd<id&&.5<=fc&&2>fc?vb(Da,cb,2*fc):[id,hd,ed]}function Xb(Da,cb,fc){return vb(+Da,+cb,+fc)[2]}function ec(Da,cb){if(0>(cb=(Da=cb?Da.toExponential(cb-1):Da.toExponential()).indexOf("e")))return null;var fc=Da.slice(0,cb);return[1<fc.length?fc[0]+fc.slice(2):fc,+Da.slice(cb+1)]}
function Bb(Da){return Da=ec(Math.abs(Da)),Da?Da[1]:NaN}function yb(Da,cb){return function(fc,hd){for(var id=fc.length,ed=[],Dd=0,Td=Da[0],Md=0;0<id&&0<Td;){Md+Td+1>hd&&(Td=Math.max(1,hd-Md));ed.push(fc.substring(id-=Td,id+Td));if((Md+=Td+1)>hd)break;Td=Da[Dd=(Dd+1)%Da.length]}return ed.reverse().join(cb)}}function ub(Da){return function(cb){return cb.replace(/[0-9]/g,function(fc){return Da[+fc]})}}function Lb(Da){if(!(cb=gd.exec(Da)))throw Error("invalid format: "+Da);var cb;return new Yb({fill:cb[1],
align:cb[2],sign:cb[3],symbol:cb[4],zero:cb[5],width:cb[6],comma:cb[7],precision:cb[8]&&cb[8].slice(1),trim:cb[9],type:cb[10]})}function Yb(Da){this.fill=void 0===Da.fill?" ":Da.fill+"";this.align=void 0===Da.align?"\x3e":Da.align+"";this.sign=void 0===Da.sign?"-":Da.sign+"";this.symbol=void 0===Da.symbol?"":Da.symbol+"";this.zero=!!Da.zero;this.width=void 0===Da.width?void 0:+Da.width;this.comma=!!Da.comma;this.precision=void 0===Da.precision?void 0:+Da.precision;this.trim=!!Da.trim;this.type=void 0===
Da.type?"":Da.type+""}function Ba(Da,cb){cb=ec(Da,cb);if(!cb)return Da+"";Da=cb[0];cb=cb[1];return 0>cb?"0."+Array(-cb).join("0")+Da:Da.length>cb+1?Da.slice(0,cb+1)+"."+Da.slice(cb+1):Da+Array(cb-Da.length+2).join("0")}function bb(Da){return Da}function Cb(Da){function cb(pd){function oe(K){var ka=ae,Fa=qa,Sa,Oa;if("c"===Je)Fa=m(K)+Fa,K="";else{K=+K;var tb=0>K||0>1/K;K=isNaN(K)?Ze:m(Math.abs(K),kf);if(qe){var rb=K.length,oc=1,kc=-1;a:for(;oc<rb;++oc)switch(K[oc]){case ".":kc=Sa=oc;break;case "0":0===
kc&&(kc=oc);Sa=oc;break;default:if(!+K[oc])break a;0<kc&&(kc=0)}K=0<kc?K.slice(0,kc)+K.slice(Sa+1):K}tb&&0===+K&&"+"!==Ud&&(tb=!1);ka=(tb?"("===Ud?Ud:Md:"-"===Ud||"("===Ud?"":Ud)+ka;Fa=("s"===Je?w[8+z/3]:"")+Fa+(tb&&"("===Ud?")":"");if(r)for(tb=-1,Sa=K.length;++tb<Sa;)if(Oa=K.charCodeAt(tb),48>Oa||57<Oa){Fa=(46===Oa?ed+K.slice(tb+1):K.slice(tb))+Fa;K=K.slice(0,tb);break}}Qe&&!Cf&&(K=fc(K,Infinity));Oa=ka.length+K.length+Fa.length;tb=Oa<Ae?Array(Ae-Oa+1).join(df):"";Qe&&Cf&&(K=fc(tb+K,tb.length?Ae-
Fa.length:Infinity),tb="");switch(Pe){case "\x3c":K=ka+K+Fa+tb;break;case "\x3d":K=ka+tb+K+Fa;break;case "^":K=tb.slice(0,Oa=tb.length>>1)+ka+K+Fa+tb.slice(Oa);break;default:K=tb+ka+K+Fa}return Dd(K)}pd=Lb(pd);var df=pd.fill,Pe=pd.align,Ud=pd.sign,hf=pd.symbol,Cf=pd.zero,Ae=pd.width,Qe=pd.comma,kf=pd.precision,qe=pd.trim,Je=pd.type;"n"===Je?(Qe=!0,Je="g"):J[Je]||(void 0===kf&&(kf=12),qe=!0,Je="g");if(Cf||"0"===df&&"\x3d"===Pe)Cf=!0,df="0",Pe="\x3d";var ae="$"===hf?hd:"#"===hf&&/[boxX]/.test(Je)?"0"+
Je.toLowerCase():"",qa="$"===hf?id:/[%p]/.test(Je)?Td:"",m=J[Je],r=/[defgprs%]/.test(Je);kf=void 0===kf?6:/[gprs]/.test(Je)?Math.max(1,Math.min(21,kf)):Math.max(0,Math.min(20,kf));oe.toString=function(){return pd+""};return oe}var fc=void 0===Da.grouping||void 0===Da.thousands?bb:yb(va.call(Da.grouping,Number),Da.thousands+""),hd=void 0===Da.currency?"":Da.currency[0]+"",id=void 0===Da.currency?"":Da.currency[1]+"",ed=void 0===Da.decimal?".":Da.decimal+"",Dd=void 0===Da.numerals?bb:ub(va.call(Da.numerals,
String)),Td=void 0===Da.percent?"%":Da.percent+"",Md=void 0===Da.minus?"−":Da.minus+"",Ze=void 0===Da.nan?"NaN":Da.nan+"";return{format:cb,formatPrefix:function(pd,oe){var df=cb((pd=Lb(pd),pd.type="f",pd));pd=3*Math.max(-8,Math.min(8,Math.floor(Bb(oe)/3)));var Pe=Math.pow(10,-pd),Ud=w[8+pd/3];return function(hf){return df(Pe*hf)+Ud}}}}function xb(Da,cb){return fc=>{fc=Da(fc);const hd=fc.indexOf(cb);if(0>hd)return fc;a:{var id=fc.lastIndexOf("e");if(!(0<id)){for(id=fc.length;--id>hd;){var ed=fc.charCodeAt(id);
if(48<=ed&&57>=ed){id+=1;break a}}id=void 0}}for(ed=id<fc.length?fc.slice(id):"";--id>hd;)if("0"!==fc[id]){++id;break}return fc.slice(0,id)+ed}}function nb(Da){const cb=$a(Da.format),fc=Da.formatPrefix;return{format:cb,formatPrefix:fc,formatFloat(hd){hd=Lb(hd||",");if(null==hd.precision){hd.precision=12;switch(hd.type){case "%":hd.precision-=2;break;case "e":--hd.precision}return xb(cb(hd),cb(".1f")(1)[1])}return cb(hd)},formatSpan(hd,id,ed,Dd){Dd=Lb(null==Dd?",f":Dd);var Td=+id;var Md=+hd;var Ze=
+ed;Md=(ed=Td<Md)?Xb(Td,Md,Ze):Xb(Md,Td,Ze);Md=(ed?-1:1)*(0>Md?1/-Md:Md);hd=Math.max(Math.abs(hd),Math.abs(id));if(null==Dd.precision)switch(Dd.type){case "s":return id=isNaN,Md=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Bb(hd)/3)))-Bb(Math.abs(Md))),id(id=Md)||(Dd.precision=id),fc(Dd,hd);case "":case "e":case "g":case "p":case "r":id=isNaN;Md=Math.abs(Md);hd=Math.abs(hd)-Md;hd=Math.max(0,Bb(hd)-Bb(Md))+1;id(id=hd)||(Dd.precision=id-("e"===Dd.type));break;case "f":case "%":isNaN(id=Math.max(0,
-Bb(Math.abs(Md))))||(Dd.precision=id-2*("%"===Dd.type))}return cb(Dd)}}}function Db(){return pa=nb({format:ca,formatPrefix:wa})}function lb(Da){return nb(Cb(Da))}function lc(Da){return arguments.length?pa=lb(Da):pa}function ua(Da,cb,fc,hd){function id(ed){return Da(ed=0===arguments.length?new Date:new Date(+ed)),ed}id.floor=ed=>(Da(ed=new Date(+ed)),ed);id.ceil=ed=>(Da(ed=new Date(ed-1)),cb(ed,1),Da(ed),ed);id.round=ed=>{const Dd=id(ed),Td=id.ceil(ed);return ed-Dd<Td-ed?Dd:Td};id.offset=(ed,Dd)=>
(cb(ed=new Date(+ed),null==Dd?1:Math.floor(Dd)),ed);id.range=(ed,Dd,Td)=>{const Md=[];ed=id.ceil(ed);Td=null==Td?1:Math.floor(Td);if(!(ed<Dd&&0<Td))return Md;let Ze;do Md.push(Ze=new Date(+ed)),cb(ed,Td),Da(ed);while(Ze<ed&&ed<Dd);return Md};id.filter=ed=>ua(Dd=>{if(Dd>=Dd)for(;Da(Dd),!ed(Dd);)Dd.setTime(Dd-1)},(Dd,Td)=>{if(Dd>=Dd)if(0>Td)for(;0>=++Td;)for(;cb(Dd,-1),!ed(Dd););else for(;0<=--Td;)for(;cb(Dd,1),!ed(Dd););});fc&&(id.count=(ed,Dd)=>{Ya.setTime(+ed);Tb.setTime(+Dd);Da(Ya);Da(Tb);return Math.floor(fc(Ya,
Tb))},id.every=ed=>{ed=Math.floor(ed);return isFinite(ed)&&0<ed?1<ed?id.filter(hd?Dd=>0===hd(Dd)%ed:Dd=>0===id.count(0,Dd)%ed):id:null});return id}function ha(Da){return ua(cb=>{cb.setDate(cb.getDate()-(cb.getDay()+7-Da)%7);cb.setHours(0,0,0,0)},(cb,fc)=>{cb.setDate(cb.getDate()+7*fc)},(cb,fc)=>(fc-cb-6E4*(fc.getTimezoneOffset()-cb.getTimezoneOffset()))/6048E5)}function xa(Da){return ua(cb=>{cb.setUTCDate(cb.getUTCDate()-(cb.getUTCDay()+7-Da)%7);cb.setUTCHours(0,0,0,0)},(cb,fc)=>{cb.setUTCDate(cb.getUTCDate()+
7*fc)},(cb,fc)=>(fc-cb)/6048E5)}function Ua(Da){if(0<=Da.y&&100>Da.y){var cb=new Date(-1,Da.m,Da.d,Da.H,Da.M,Da.S,Da.L);cb.setFullYear(Da.y);return cb}return new Date(Da.y,Da.m,Da.d,Da.H,Da.M,Da.S,Da.L)}function Xa(Da){if(0<=Da.y&&100>Da.y){var cb=new Date(Date.UTC(-1,Da.m,Da.d,Da.H,Da.M,Da.S,Da.L));cb.setUTCFullYear(Da.y);return cb}return new Date(Date.UTC(Da.y,Da.m,Da.d,Da.H,Da.M,Da.S,Da.L))}function Ka(Da,cb,fc){return{y:Da,m:cb,d:fc,H:0,M:0,S:0,L:0}}function jb(Da){function cb(r,K){return function(ka){var Fa=
[],Sa=-1,Oa=0,tb=r.length,rb,oc;for(ka instanceof Date||(ka=new Date(+ka));++Sa<tb;)if(37===r.charCodeAt(Sa)){Fa.push(r.slice(Oa,Sa));null!=(Oa=Ee[rb=r.charAt(++Sa)])?rb=r.charAt(++Sa):Oa="e"===rb?" ":"0";if(oc=K[rb])rb=oc(ka,Oa);Fa.push(rb);Oa=Sa+1}Fa.push(r.slice(Oa,Sa));return Fa.join("")}}function fc(r,K){return function(ka){var Fa=Ka(1900,void 0,1);if(hd(Fa,r,ka+="",0)!=ka.length)return null;if("Q"in Fa)return new Date(Fa.Q);if("s"in Fa)return new Date(1E3*Fa.s+("L"in Fa?Fa.L:0));!K||"Z"in Fa||
(Fa.Z=0);"p"in Fa&&(Fa.H=Fa.H%12+12*Fa.p);void 0===Fa.m&&(Fa.m="q"in Fa?Fa.q:0);if("V"in Fa){if(1>Fa.V||53<Fa.V)return null;"w"in Fa||(Fa.w=1);if("Z"in Fa){ka=Xa(Ka(Fa.y,0,1));var Sa=ka.getUTCDay();ka=4<Sa||0===Sa?Te.ceil(ka):Te(ka);ka=jc.offset(ka,7*(Fa.V-1));Fa.y=ka.getUTCFullYear();Fa.m=ka.getUTCMonth();Fa.d=ka.getUTCDate()+(Fa.w+6)%7}else ka=Ua(Ka(Fa.y,0,1)),Sa=ka.getDay(),ka=4<Sa||0===Sa?Rc.ceil(ka):Rc(ka),ka=Zb.offset(ka,7*(Fa.V-1)),Fa.y=ka.getFullYear(),Fa.m=ka.getMonth(),Fa.d=ka.getDate()+
(Fa.w+6)%7}else if("W"in Fa||"U"in Fa)"w"in Fa||(Fa.w="u"in Fa?Fa.u%7:"W"in Fa?1:0),Sa="Z"in Fa?Xa(Ka(Fa.y,0,1)).getUTCDay():Ua(Ka(Fa.y,0,1)).getDay(),Fa.m=0,Fa.d="W"in Fa?(Fa.w+6)%7+7*Fa.W-(Sa+5)%7:Fa.w+7*Fa.U-(Sa+6)%7;return"Z"in Fa?(Fa.H+=Fa.Z/100|0,Fa.M+=Fa.Z%100,Xa(Fa)):Ua(Fa)}}function hd(r,K,ka,Fa){for(var Sa=0,Oa=K.length,tb=ka.length,rb;Sa<Oa;){if(Fa>=tb)return-1;rb=K.charCodeAt(Sa++);if(37===rb){if(rb=K.charAt(Sa++),rb=m[rb in Ee?K.charAt(Sa++):rb],!rb||0>(Fa=rb(r,ka,Fa)))return-1}else if(rb!=
ka.charCodeAt(Fa++))return-1}return Fa}var id=Da.dateTime,ed=Da.date,Dd=Da.time,Td=Da.periods,Md=Da.days,Ze=Da.shortDays,pd=Da.months,oe=Da.shortMonths,df=Ub(Td),Pe=Na(Td),Ud=Ub(Md),hf=Na(Md),Cf=Ub(Ze),Ae=Na(Ze),Qe=Ub(pd),kf=Na(pd),qe=Ub(oe),Je=Na(oe),ae={a:function(r){return Ze[r.getDay()]},A:function(r){return Md[r.getDay()]},b:function(r){return oe[r.getMonth()]},B:function(r){return pd[r.getMonth()]},c:null,d:R,e:R,f:fb,g:rc,G:ra,H:ia,I:Aa,j:Pa,L:Ra,m:zb,M:kb,p:function(r){return Td[+(12<=r.getHours())]},
q:function(r){return 1+~~(r.getMonth()/3)},Q:Pb,s:uc,S:Vb,u:aa,U:Ga,V:nc,w:$b,W:Ob,x:null,X:null,y:Nb,Y:Sc,Z:Gb,"%":Hb},qa={a:function(r){return Ze[r.getUTCDay()]},A:function(r){return Md[r.getUTCDay()]},b:function(r){return oe[r.getUTCMonth()]},B:function(r){return pd[r.getUTCMonth()]},c:null,d:Va,e:Va,f:ic,g:Ia,G:qb,H:Ab,I:Jb,j:Eb,L:Wb,m:wc,M:Zc,p:function(r){return Td[+(12<=r.getUTCHours())]},q:function(r){return 1+~~(r.getUTCMonth()/3)},Q:Pb,s:uc,S:Pc,u:oa,U:Ma,V,w:x,W:da,x:null,X:null,y:ya,Y:Wa,
Z:Sb,"%":Hb},m={a:function(r,K,ka){return(K=Cf.exec(K.slice(ka)))?(r.w=Ae.get(K[0].toLowerCase()),ka+K[0].length):-1},A:function(r,K,ka){return(K=Ud.exec(K.slice(ka)))?(r.w=hf.get(K[0].toLowerCase()),ka+K[0].length):-1},b:function(r,K,ka){return(K=qe.exec(K.slice(ka)))?(r.m=Je.get(K[0].toLowerCase()),ka+K[0].length):-1},B:function(r,K,ka){return(K=Qe.exec(K.slice(ka)))?(r.m=kf.get(K[0].toLowerCase()),ka+K[0].length):-1},c:function(r,K,ka){return hd(r,id,K,ka)},d:y,e:y,f:E,g:na,G:ma,H:D,I:D,j:T,L:B,
m:M,M:A,p:function(r,K,ka){return(K=df.exec(K.slice(ka)))?(r.p=Pe.get(K[0].toLowerCase()),ka+K[0].length):-1},q:G,Q:X,s:Ea,S:P,u:ea,U:Ha,V:Y,w:U,W:Ca,x:function(r,K,ka){return hd(r,ed,K,ka)},X:function(r,K,ka){return hd(r,Dd,K,ka)},y:na,Y:ma,Z:n,"%":I};ae.x=cb(ed,ae);ae.X=cb(Dd,ae);ae.c=cb(id,ae);qa.x=cb(ed,qa);qa.X=cb(Dd,qa);qa.c=cb(id,qa);return{format:function(r){var K=cb(r+="",ae);K.toString=function(){return r};return K},parse:function(r){var K=fc(r+="",!1);K.toString=function(){return r};return K},
utcFormat:function(r){var K=cb(r+="",qa);K.toString=function(){return r};return K},utcParse:function(r){var K=fc(r+="",!0);K.toString=function(){return r};return K}}}function gb(Da,cb,fc){var hd=0>Da?"-":"";Da=(hd?-Da:Da)+"";var id=Da.length;return hd+(id<fc?Array(fc-id+1).join(cb)+Da:Da)}function wb(Da){return Da.replace(rf,"\\$\x26")}function Ub(Da){return new RegExp("^(?:"+Da.map(wb).join("|")+")","i")}function Na(Da){return new Map(Da.map((cb,fc)=>[cb.toLowerCase(),fc]))}function U(Da,cb,fc){return(cb=
Fd.exec(cb.slice(fc,fc+1)))?(Da.w=+cb[0],fc+cb[0].length):-1}function ea(Da,cb,fc){return(cb=Fd.exec(cb.slice(fc,fc+1)))?(Da.u=+cb[0],fc+cb[0].length):-1}function Ha(Da,cb,fc){return(cb=Fd.exec(cb.slice(fc,fc+2)))?(Da.U=+cb[0],fc+cb[0].length):-1}function Y(Da,cb,fc){return(cb=Fd.exec(cb.slice(fc,fc+2)))?(Da.V=+cb[0],fc+cb[0].length):-1}function Ca(Da,cb,fc){return(cb=Fd.exec(cb.slice(fc,fc+2)))?(Da.W=+cb[0],fc+cb[0].length):-1}function ma(Da,cb,fc){return(cb=Fd.exec(cb.slice(fc,fc+4)))?(Da.y=+cb[0],
fc+cb[0].length):-1}function na(Da,cb,fc){return(cb=Fd.exec(cb.slice(fc,fc+2)))?(Da.y=+cb[0]+(68<+cb[0]?1900:2E3),fc+cb[0].length):-1}function n(Da,cb,fc){return(cb=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(cb.slice(fc,fc+6)))?(Da.Z=cb[1]?0:-(cb[2]+(cb[3]||"00")),fc+cb[0].length):-1}function G(Da,cb,fc){return(cb=Fd.exec(cb.slice(fc,fc+1)))?(Da.q=3*cb[0]-3,fc+cb[0].length):-1}function M(Da,cb,fc){return(cb=Fd.exec(cb.slice(fc,fc+2)))?(Da.m=cb[0]-1,fc+cb[0].length):-1}function y(Da,cb,fc){return(cb=Fd.exec(cb.slice(fc,
fc+2)))?(Da.d=+cb[0],fc+cb[0].length):-1}function T(Da,cb,fc){return(cb=Fd.exec(cb.slice(fc,fc+3)))?(Da.m=0,Da.d=+cb[0],fc+cb[0].length):-1}function D(Da,cb,fc){return(cb=Fd.exec(cb.slice(fc,fc+2)))?(Da.H=+cb[0],fc+cb[0].length):-1}function A(Da,cb,fc){return(cb=Fd.exec(cb.slice(fc,fc+2)))?(Da.M=+cb[0],fc+cb[0].length):-1}function P(Da,cb,fc){return(cb=Fd.exec(cb.slice(fc,fc+2)))?(Da.S=+cb[0],fc+cb[0].length):-1}function B(Da,cb,fc){return(cb=Fd.exec(cb.slice(fc,fc+3)))?(Da.L=+cb[0],fc+cb[0].length):
-1}function E(Da,cb,fc){return(cb=Fd.exec(cb.slice(fc,fc+6)))?(Da.L=Math.floor(cb[0]/1E3),fc+cb[0].length):-1}function I(Da,cb,fc){return(Da=Uf.exec(cb.slice(fc,fc+1)))?fc+Da[0].length:-1}function X(Da,cb,fc){return(cb=Fd.exec(cb.slice(fc)))?(Da.Q=+cb[0],fc+cb[0].length):-1}function Ea(Da,cb,fc){return(cb=Fd.exec(cb.slice(fc)))?(Da.s=+cb[0],fc+cb[0].length):-1}function R(Da,cb){return gb(Da.getDate(),cb,2)}function ia(Da,cb){return gb(Da.getHours(),cb,2)}function Aa(Da,cb){return gb(Da.getHours()%
12||12,cb,2)}function Pa(Da,cb){return gb(1+Zb.count(ie(Da),Da),cb,3)}function Ra(Da,cb){return gb(Da.getMilliseconds(),cb,3)}function fb(Da,cb){return Ra(Da,cb)+"000"}function zb(Da,cb){return gb(Da.getMonth()+1,cb,2)}function kb(Da,cb){return gb(Da.getMinutes(),cb,2)}function Vb(Da,cb){return gb(Da.getSeconds(),cb,2)}function aa(Da){Da=Da.getDay();return 0===Da?7:Da}function Ga(Da,cb){return gb(Oc.count(ie(Da)-1,Da),cb,2)}function Qb(Da){var cb=Da.getDay();return 4<=cb||0===cb?zd(Da):zd.ceil(Da)}
function nc(Da,cb){Da=Qb(Da);return gb(zd.count(ie(Da),Da)+(4===ie(Da).getDay()),cb,2)}function $b(Da){return Da.getDay()}function Ob(Da,cb){return gb(Rc.count(ie(Da)-1,Da),cb,2)}function Nb(Da,cb){return gb(Da.getFullYear()%100,cb,2)}function rc(Da,cb){Da=Qb(Da);return gb(Da.getFullYear()%100,cb,2)}function Sc(Da,cb){return gb(Da.getFullYear()%1E4,cb,4)}function ra(Da,cb){var fc=Da.getDay();Da=4<=fc||0===fc?zd(Da):zd.ceil(Da);return gb(Da.getFullYear()%1E4,cb,4)}function Gb(Da){Da=Da.getTimezoneOffset();
return(0<Da?"-":(Da*=-1,"+"))+gb(Da/60|0,"0",2)+gb(Da%60,"0",2)}function Va(Da,cb){return gb(Da.getUTCDate(),cb,2)}function Ab(Da,cb){return gb(Da.getUTCHours(),cb,2)}function Jb(Da,cb){return gb(Da.getUTCHours()%12||12,cb,2)}function Eb(Da,cb){return gb(1+jc.count(ne(Da),Da),cb,3)}function Wb(Da,cb){return gb(Da.getUTCMilliseconds(),cb,3)}function ic(Da,cb){return Wb(Da,cb)+"000"}function wc(Da,cb){return gb(Da.getUTCMonth()+1,cb,2)}function Zc(Da,cb){return gb(Da.getUTCMinutes(),cb,2)}function Pc(Da,
cb){return gb(Da.getUTCSeconds(),cb,2)}function oa(Da){Da=Da.getUTCDay();return 0===Da?7:Da}function Ma(Da,cb){return gb($d.count(ne(Da)-1,Da),cb,2)}function ib(Da){var cb=Da.getUTCDay();return 4<=cb||0===cb?Ve(Da):Ve.ceil(Da)}function V(Da,cb){Da=ib(Da);return gb(Ve.count(ne(Da),Da)+(4===ne(Da).getUTCDay()),cb,2)}function x(Da){return Da.getUTCDay()}function da(Da,cb){return gb(Te.count(ne(Da)-1,Da),cb,2)}function ya(Da,cb){return gb(Da.getUTCFullYear()%100,cb,2)}function Ia(Da,cb){Da=ib(Da);return gb(Da.getUTCFullYear()%
100,cb,2)}function Wa(Da,cb){return gb(Da.getUTCFullYear()%1E4,cb,4)}function qb(Da,cb){var fc=Da.getUTCDay();Da=4<=fc||0===fc?Ve(Da):Ve.ceil(Da);return gb(Da.getUTCFullYear()%1E4,cb,4)}function Sb(){return"+0000"}function Hb(){return"%"}function Pb(Da){return+Da}function uc(Da){return Math.floor(+Da/1E3)}function yc(Da,cb,fc){fc=fc||{};ja.isObject(fc)||ja.error(`Invalid time multi-format specifier: ${fc}`);const hd=cb(l.SECONDS),id=cb(l.MINUTES),ed=cb(l.HOURS),Dd=cb(l.DATE),Td=cb(l.WEEK),Md=cb(l.MONTH),
Ze=cb(l.QUARTER),pd=cb(l.YEAR),oe=Da(fc[l.MILLISECONDS]||".%L"),df=Da(fc[l.SECONDS]||":%S"),Pe=Da(fc[l.MINUTES]||"%I:%M"),Ud=Da(fc[l.HOURS]||"%I %p"),hf=Da(fc[l.DATE]||fc[l.DAY]||"%a %d"),Cf=Da(fc[l.WEEK]||"%b %d"),Ae=Da(fc[l.MONTH]||"%B"),Qe=Da(fc[l.QUARTER]||"%B"),kf=Da(fc[l.YEAR]||"%Y");return qe=>(hd(qe)<qe?oe:id(qe)<qe?df:ed(qe)<qe?Pe:Dd(qe)<qe?Ud:Md(qe)<qe?Td(qe)<qe?hf:Cf:pd(qe)<qe?Ze(qe)<qe?Ae:Qe:kf)(qe)}function Kc(Da){const cb=$a(Da.format),fc=$a(Da.utcFormat);return{timeFormat:hd=>ja.isString(hd)?
cb(hd):yc(cb,l.timeInterval,hd),utcFormat:hd=>ja.isString(hd)?fc(hd):yc(fc,l.utcInterval,hd),timeParse:$a(Da.parse),utcParse:$a(Da.utcParse)}}function md(){return gf=Kc({format:ze,parse:Oe,utcFormat:Pd,utcParse:dg})}function fd(Da){return Kc(jb(Da))}function Tc(Da){return arguments.length?gf=fd(Da):gf}function ld(Da,cb){var fc=arguments.length;fc&&2!==fc&&ja.error("defaultLocale expects either zero or two arguments.");if(fc){fc=lc(Da);var hd=Tc(cb);fc=ja.extend({},fc,hd)}else fc=lc(),hd=Tc(),fc=ja.extend({},
fc,hd);return fc}const nd=Math.sqrt(50),dd=Math.sqrt(10),Wd=Math.sqrt(2);var gd=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Lb.prototype=Yb.prototype;Yb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var z,J={"%":(Da,cb)=>(100*Da).toFixed(cb),b:Da=>Math.round(Da).toString(2),
c:Da=>Da+"",d:function(Da){return 1E21<=Math.abs(Da=Math.round(Da))?Da.toLocaleString("en").replace(/,/g,""):Da.toString(10)},e:(Da,cb)=>Da.toExponential(cb),f:(Da,cb)=>Da.toFixed(cb),g:(Da,cb)=>Da.toPrecision(cb),o:Da=>Math.round(Da).toString(8),p:(Da,cb)=>Ba(100*Da,cb),r:Ba,s:function(Da,cb){var fc=ec(Da,cb);if(!fc)return Da+"";var hd=fc[0];fc=fc[1];fc=fc-(z=3*Math.max(-8,Math.min(8,Math.floor(fc/3))))+1;var id=hd.length;return fc===id?hd:fc>id?hd+Array(fc-id+1).join("0"):0<fc?hd.slice(0,fc)+"."+
hd.slice(fc):"0."+Array(1-fc).join("0")+ec(Da,Math.max(0,cb+fc-1))[0]},X:Da=>Math.round(Da).toString(16).toUpperCase(),x:Da=>Math.round(Da).toString(16)},va=Array.prototype.map,w="y z a f p n µ m  k M G T P E Z Y".split(" "),Q,ca,wa;(function(Da){Q=Cb(Da);ca=Q.format;wa=Q.formatPrefix;return Q})({thousands:",",grouping:[3],currency:["$",""]});let pa;Db();const Ya=new Date,Tb=new Date,Zb=ua(Da=>Da.setHours(0,0,0,0),(Da,cb)=>Da.setDate(Da.getDate()+cb),(Da,cb)=>(cb-Da-6E4*(cb.getTimezoneOffset()-Da.getTimezoneOffset()))/
864E5,Da=>Da.getDate()-1);Zb.range;const jc=ua(Da=>{Da.setUTCHours(0,0,0,0)},(Da,cb)=>{Da.setUTCDate(Da.getUTCDate()+cb)},(Da,cb)=>(cb-Da)/864E5,Da=>Da.getUTCDate()-1);jc.range;const Cc=ua(Da=>{Da.setUTCHours(0,0,0,0)},(Da,cb)=>{Da.setUTCDate(Da.getUTCDate()+cb)},(Da,cb)=>(cb-Da)/864E5,Da=>Math.floor(Da/864E5));Cc.range;const Oc=ha(0),Rc=ha(1),od=ha(2),sd=ha(3),zd=ha(4),Zd=ha(5),Kd=ha(6);Oc.range;Rc.range;od.range;sd.range;zd.range;Zd.range;Kd.range;const $d=xa(0),Te=xa(1),We=xa(2),Le=xa(3),Ve=xa(4),
Ie=xa(5),He=xa(6);$d.range;Te.range;We.range;Le.range;Ve.range;Ie.range;He.range;const ie=ua(Da=>{Da.setMonth(0,1);Da.setHours(0,0,0,0)},(Da,cb)=>{Da.setFullYear(Da.getFullYear()+cb)},(Da,cb)=>cb.getFullYear()-Da.getFullYear(),Da=>Da.getFullYear());ie.every=Da=>isFinite(Da=Math.floor(Da))&&0<Da?ua(cb=>{cb.setFullYear(Math.floor(cb.getFullYear()/Da)*Da);cb.setMonth(0,1);cb.setHours(0,0,0,0)},(cb,fc)=>{cb.setFullYear(cb.getFullYear()+fc*Da)}):null;ie.range;const ne=ua(Da=>{Da.setUTCMonth(0,1);Da.setUTCHours(0,
0,0,0)},(Da,cb)=>{Da.setUTCFullYear(Da.getUTCFullYear()+cb)},(Da,cb)=>cb.getUTCFullYear()-Da.getUTCFullYear(),Da=>Da.getUTCFullYear());ne.every=Da=>isFinite(Da=Math.floor(Da))&&0<Da?ua(cb=>{cb.setUTCFullYear(Math.floor(cb.getUTCFullYear()/Da)*Da);cb.setUTCMonth(0,1);cb.setUTCHours(0,0,0,0)},(cb,fc)=>{cb.setUTCFullYear(cb.getUTCFullYear()+fc*Da)}):null;ne.range;var Ee={"-":"",_:" ",0:"0"},Fd=/^\s*\d+/,Uf=/^%/,rf=/[\\^$*+?|[\]().{}]/g,Ne,ze,Oe,Pd,dg;(function(Da){Ne=jb(Da);ze=Ne.format;Oe=Ne.parse;
Pd=Ne.utcFormat;dg=Ne.utcParse;return Ne})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});let gf;md();u.defaultLocale=ld;u.locale=function(Da,cb){Da=Da?lb(Da):lc();
cb=cb?fd(cb):Tc();return ja.extend({},Da,cb)};u.numberFormatDefaultLocale=lc;u.numberFormatLocale=lb;u.resetDefaultLocale=function(){Db();md();return ld()};u.resetNumberFormatDefaultLocale=Db;u.resetTimeFormatDefaultLocale=md;u.timeFormatDefaultLocale=Tc;u.timeFormatLocale=fd})};
shadow$provide[28]=function(Fb,pb,zc,Za){function u(vb){var Xb=vb.length;if(0<Xb%4)throw Error("Invalid string. Length must be a multiple of 4");vb=vb.indexOf("\x3d");-1===vb&&(vb=Xb);return[vb,vb===Xb?0:4-vb%4]}Za.byteLength=function(vb){vb=u(vb);var Xb=vb[1];return 3*(vb[0]+Xb)/4-Xb};Za.toByteArray=function(vb){var Xb=u(vb);var ec=Xb[0];Xb=Xb[1];var Bb=new $a(3*(ec+Xb)/4-Xb),yb=0,ub=0<Xb?ec-4:ec,Lb;for(Lb=0;Lb<ub;Lb+=4)ec=ja[vb.charCodeAt(Lb)]<<18|ja[vb.charCodeAt(Lb+1)]<<12|ja[vb.charCodeAt(Lb+
2)]<<6|ja[vb.charCodeAt(Lb+3)],Bb[yb++]=ec>>16&255,Bb[yb++]=ec>>8&255,Bb[yb++]=ec&255;2===Xb&&(ec=ja[vb.charCodeAt(Lb)]<<2|ja[vb.charCodeAt(Lb+1)]>>4,Bb[yb++]=ec&255);1===Xb&&(ec=ja[vb.charCodeAt(Lb)]<<10|ja[vb.charCodeAt(Lb+1)]<<4|ja[vb.charCodeAt(Lb+2)]>>2,Bb[yb++]=ec>>8&255,Bb[yb++]=ec&255);return Bb};Za.fromByteArray=function(vb){for(var Xb=vb.length,ec=Xb%3,Bb=[],yb=0,ub=Xb-ec;yb<ub;yb+=16383){for(var Lb=Bb,Yb=Lb.push,Ba,bb=vb,Cb=yb+16383>ub?ub:yb+16383,xb=[],nb=yb;nb<Cb;nb+=3)Ba=(bb[nb]<<16&
16711680)+(bb[nb+1]<<8&65280)+(bb[nb+2]&255),xb.push(l[Ba>>18&63]+l[Ba>>12&63]+l[Ba>>6&63]+l[Ba&63]);Ba=xb.join("");Yb.call(Lb,Ba)}1===ec?(vb=vb[Xb-1],Bb.push(l[vb>>2]+l[vb<<4&63]+"\x3d\x3d")):2===ec&&(vb=(vb[Xb-2]<<8)+vb[Xb-1],Bb.push(l[vb>>10]+l[vb>>4&63]+l[vb<<2&63]+"\x3d"));return Bb.join("")};var l=[],ja=[],$a="undefined"!==typeof Uint8Array?Uint8Array:Array;for(Fb=0;64>Fb;++Fb)l[Fb]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Fb],ja["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(Fb)]=
Fb;ja[45]=62;ja[95]=63};
shadow$provide[29]=function(Fb,pb,zc,Za){Za.read=function(u,l,ja,$a,vb){var Xb=8*vb-$a-1;var ec=(1<<Xb)-1,Bb=ec>>1,yb=-7;vb=ja?vb-1:0;var ub=ja?-1:1,Lb=u[l+vb];vb+=ub;ja=Lb&(1<<-yb)-1;Lb>>=-yb;for(yb+=Xb;0<yb;ja=256*ja+u[l+vb],vb+=ub,yb-=8);Xb=ja&(1<<-yb)-1;ja>>=-yb;for(yb+=$a;0<yb;Xb=256*Xb+u[l+vb],vb+=ub,yb-=8);if(0===ja)ja=1-Bb;else{if(ja===ec)return Xb?NaN:Infinity*(Lb?-1:1);Xb+=Math.pow(2,$a);ja-=Bb}return(Lb?-1:1)*Xb*Math.pow(2,ja-$a)};Za.write=function(u,l,ja,$a,vb,Xb){var ec,Bb=8*Xb-vb-1,
yb=(1<<Bb)-1,ub=yb>>1,Lb=23===vb?Math.pow(2,-24)-Math.pow(2,-77):0;Xb=$a?0:Xb-1;var Yb=$a?1:-1,Ba=0>l||0===l&&0>1/l?1:0;l=Math.abs(l);isNaN(l)||Infinity===l?(l=isNaN(l)?1:0,$a=yb):($a=Math.floor(Math.log(l)/Math.LN2),1>l*(ec=Math.pow(2,-$a))&&($a--,ec*=2),l=1<=$a+ub?l+Lb/ec:l+Lb*Math.pow(2,1-ub),2<=l*ec&&($a++,ec/=2),$a+ub>=yb?(l=0,$a=yb):1<=$a+ub?(l=(l*ec-1)*Math.pow(2,vb),$a+=ub):(l=l*Math.pow(2,ub-1)*Math.pow(2,vb),$a=0));for(;8<=vb;u[ja+Xb]=l&255,Xb+=Yb,l/=256,vb-=8);$a=$a<<vb|l;for(Bb+=vb;0<
Bb;u[ja+Xb]=$a&255,Xb+=Yb,$a/=256,Bb-=8);u[ja+Xb-Yb]|=128*Ba}};
shadow$provide[30]=function(Fb,pb,zc,Za){function u(n){if(2147483647<n)throw new RangeError('The value "'+n+'" is invalid for option "size"');n=new Uint8Array(n);Object.setPrototypeOf(n,l.prototype);return n}function l(n,G,M){if("number"===typeof n){if("string"===typeof G)throw new TypeError('The "string" argument must be of type string. Received type number');return vb(n)}return ja(n,G,M)}function ja(n,G,M){if("string"===typeof n){var y=G;if("string"!==typeof y||""===y)y="utf8";if(!l.isEncoding(y))throw new TypeError("Unknown encoding: "+
y);G=ub(n,y)|0;M=u(G);n=M.write(n,y);n!==G&&(M=M.slice(0,n));return M}if(ArrayBuffer.isView(n))return Na(n,Uint8Array)?(n=new Uint8Array(n),n=ec(n.buffer,n.byteOffset,n.byteLength)):n=Xb(n),n;if(null==n)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);if(Na(n,ArrayBuffer)||n&&Na(n.buffer,ArrayBuffer)||"undefined"!==typeof SharedArrayBuffer&&(Na(n,SharedArrayBuffer)||n&&Na(n.buffer,SharedArrayBuffer)))return ec(n,
G,M);if("number"===typeof n)throw new TypeError('The "value" argument must not be of type number. Received type number');y=n.valueOf&&n.valueOf();if(null!=y&&y!==n)return l.from(y,G,M);if(y=Bb(n))return y;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof n[Symbol.toPrimitive])return l.from(n[Symbol.toPrimitive]("string"),G,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);}
function $a(n){if("number"!==typeof n)throw new TypeError('"size" argument must be of type number');if(0>n)throw new RangeError('The value "'+n+'" is invalid for option "size"');}function vb(n){$a(n);return u(0>n?0:yb(n)|0)}function Xb(n){const G=0>n.length?0:yb(n.length)|0,M=u(G);for(let y=0;y<G;y+=1)M[y]=n[y]&255;return M}function ec(n,G,M){if(0>G||n.byteLength<G)throw new RangeError('"offset" is outside of buffer bounds');if(n.byteLength<G+(M||0))throw new RangeError('"length" is outside of buffer bounds');
n=void 0===G&&void 0===M?new Uint8Array(n):void 0===M?new Uint8Array(n,G):new Uint8Array(n,G,M);Object.setPrototypeOf(n,l.prototype);return n}function Bb(n){if(l.isBuffer(n)){var G=yb(n.length)|0;const M=u(G);if(0===M.length)return M;n.copy(M,0,0,G);return M}if(void 0!==n.length)return(G="number"!==typeof n.length)||(G=n.length,G=G!==G),G?u(0):Xb(n);if("Buffer"===n.type&&Array.isArray(n.data))return Xb(n.data)}function yb(n){if(2147483647<=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+
(2147483647).toString(16)+" bytes");return n|0}function ub(n,G){if(l.isBuffer(n))return n.length;if(ArrayBuffer.isView(n)||Na(n,ArrayBuffer))return n.byteLength;if("string"!==typeof n)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof n);const M=n.length,y=2<arguments.length&&!0===arguments[2];if(!y&&0===M)return 0;let T=!1;for(;;)switch(G){case "ascii":case "latin1":case "binary":return M;case "utf8":case "utf-8":return gb(n).length;
case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*M;case "hex":return M>>>1;case "base64":return wb(n).length;default:if(T)return y?-1:gb(n).length;G=(""+G).toLowerCase();T=!0}}function Lb(n,G,M){let y=!1;if(void 0===G||0>G)G=0;if(G>this.length)return"";if(void 0===M||M>this.length)M=this.length;if(0>=M)return"";M>>>=0;G>>>=0;if(M<=G)return"";for(n||(n="utf8");;)switch(n){case "hex":n=G;G=this.length;if(!n||0>n)n=0;if(!M||0>M||M>G)M=G;for(G="";n<M;++n)G+=na[this[n]];return G;case "utf8":case "utf-8":return Cb(this,
G,M);case "ascii":n=G;G="";for(M=Math.min(this.length,M);n<M;++n)G+=String.fromCharCode(this[n]&127);return G;case "latin1":case "binary":n=G;G="";for(M=Math.min(this.length,M);n<M;++n)G+=String.fromCharCode(this[n]);return G;case "base64":return n=G,M=0===n&&M===this.length?Ha.fromByteArray(this):Ha.fromByteArray(this.slice(n,M)),M;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":M=this.slice(G,M);n="";for(G=0;G<M.length-1;G+=2)n+=String.fromCharCode(M[G]+256*M[G+1]);return n;default:if(y)throw new TypeError("Unknown encoding: "+
n);n=(n+"").toLowerCase();y=!0}}function Yb(n,G,M){const y=n[G];n[G]=n[M];n[M]=y}function Ba(n,G,M,y,T){if(0===n.length)return-1;"string"===typeof M?(y=M,M=0):2147483647<M?M=2147483647:-2147483648>M&&(M=-2147483648);M=+M;M!==M&&(M=T?0:n.length-1);0>M&&(M=n.length+M);if(M>=n.length){if(T)return-1;M=n.length-1}else if(0>M)if(T)M=0;else return-1;"string"===typeof G&&(G=l.from(G,y));if(l.isBuffer(G))return 0===G.length?-1:bb(n,G,M,y,T);if("number"===typeof G)return G&=255,"function"===typeof Uint8Array.prototype.indexOf?
T?Uint8Array.prototype.indexOf.call(n,G,M):Uint8Array.prototype.lastIndexOf.call(n,G,M):bb(n,[G],M,y,T);throw new TypeError("val must be string, number or Buffer");}function bb(n,G,M,y,T){function D(E,I){return 1===A?E[I]:E.readUInt16BE(I*A)}let A=1;var P=n.length;let B=G.length;if(void 0!==y&&(y=String(y).toLowerCase(),"ucs2"===y||"ucs-2"===y||"utf16le"===y||"utf-16le"===y)){if(2>n.length||2>G.length)return-1;A=2;P/=2;B/=2;M/=2}if(T)for(y=-1;M<P;M++)if(D(n,M)===D(G,-1===y?0:M-y)){if(-1===y&&(y=M),
M-y+1===B)return y*A}else-1!==y&&(M-=M-y),y=-1;else for(M+B>P&&(M=P-B);0<=M;M--){P=!0;for(y=0;y<B;y++)if(D(n,M+y)!==D(G,y)){P=!1;break}if(P)return M}return-1}function Cb(n,G,M){M=Math.min(n.length,M);for(var y=[];G<M;){var T=n[G];let D=null,A=239<T?4:223<T?3:191<T?2:1;if(G+A<=M){let P,B,E;switch(A){case 1:128>T&&(D=T);break;case 2:P=n[G+1];128===(P&192)&&(T=(T&31)<<6|P&63,127<T&&(D=T));break;case 3:P=n[G+1];B=n[G+2];128===(P&192)&&128===(B&192)&&(T=(T&15)<<12|(P&63)<<6|B&63,2047<T&&(55296>T||57343<
T)&&(D=T));break;case 4:P=n[G+1],B=n[G+2],E=n[G+3],128===(P&192)&&128===(B&192)&&128===(E&192)&&(T=(T&15)<<18|(P&63)<<12|(B&63)<<6|E&63,65535<T&&1114112>T&&(D=T))}}null===D?(D=65533,A=1):65535<D&&(D-=65536,y.push(D>>>10&1023|55296),D=56320|D&1023);y.push(D);G+=A}G=y.length;if(4096>=G)y=String.fromCharCode.apply(String,y);else{n="";for(M=0;M<G;)n+=String.fromCharCode.apply(String,y.slice(M,M+=4096));y=n}return y}function xb(n,G,M){if(0!==n%1||0>n)throw new RangeError("offset is not uint");if(n+G>M)throw new RangeError("Trying to access beyond buffer length");
}function nb(n,G,M,y,T,D){if(!l.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(G>T||G<D)throw new RangeError('"value" argument is out of bounds');if(M+y>n.length)throw new RangeError("Index out of range");}function Db(n,G,M,y,T){Xa(G,y,T,n,M,7);y=Number(G&BigInt(4294967295));n[M++]=y;y>>=8;n[M++]=y;y>>=8;n[M++]=y;n[M++]=y>>8;G=Number(G>>BigInt(32)&BigInt(4294967295));n[M++]=G;G>>=8;n[M++]=G;G>>=8;n[M++]=G;n[M++]=G>>8;return M}function lb(n,G,M,y,T){Xa(G,y,T,n,M,
7);y=Number(G&BigInt(4294967295));n[M+7]=y;y>>=8;n[M+6]=y;y>>=8;n[M+5]=y;n[M+4]=y>>8;G=Number(G>>BigInt(32)&BigInt(4294967295));n[M+3]=G;G>>=8;n[M+2]=G;G>>=8;n[M+1]=G;n[M]=G>>8;return M+8}function lc(n,G,M,y,T,D){if(M+y>n.length)throw new RangeError("Index out of range");if(0>M)throw new RangeError("Index out of range");}function ua(n,G,M,y,T){G=+G;M>>>=0;T||lc(n,G,M,4,3.4028234663852886E38,-3.4028234663852886E38);Y.write(n,G,M,y,23,4);return M+4}function ha(n,G,M,y,T){G=+G;M>>>=0;T||lc(n,G,M,8,1.7976931348623157E308,
-1.7976931348623157E308);Y.write(n,G,M,y,52,8);return M+8}function xa(n,G,M){Ca[n]=class extends M{constructor(){super();Object.defineProperty(this,"message",{value:G.apply(this,arguments),writable:!0,configurable:!0});this.name=`${this.name} [${n}]`;this.stack;delete this.name}get code(){return n}set code(y){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:y,writable:!0})}toString(){return`${this.name} [${n}]: ${this.message}`}}}function Ua(n){let G="",M=n.length;const y="-"===
n[0]?1:0;for(;M>=y+4;M-=3)G=`_${n.slice(M-3,M)}${G}`;return`${n.slice(0,M)}${G}`}function Xa(n,G,M,y,T,D){if(n>M||n<G)throw y="bigint"===typeof G?"n":"",new Ca.ERR_OUT_OF_RANGE("value",3<D?0===G||G===BigInt(0)?`>= 0${y} and < 2${y} ** ${8*(D+1)}${y}`:`>= -(2${y} ** ${8*(D+1)-1}${y}) and < 2 ** `+`${8*(D+1)-1}${y}`:`>= ${G}${y} and <= ${M}${y}`,n);Ka(T,"offset");void 0!==y[T]&&void 0!==y[T+D]||jb(T,y.length-(D+1))}function Ka(n,G){if("number"!==typeof n)throw new Ca.ERR_INVALID_ARG_TYPE(G,"number",
n);}function jb(n,G,M){if(Math.floor(n)!==n)throw Ka(n,M),new Ca.ERR_OUT_OF_RANGE(M||"offset","an integer",n);if(0>G)throw new Ca.ERR_BUFFER_OUT_OF_BOUNDS;throw new Ca.ERR_OUT_OF_RANGE(M||"offset",`>= ${M?1:0} and <= ${G}`,n);}function gb(n,G){G=G||Infinity;let M;const y=n.length;let T=null;const D=[];for(let A=0;A<y;++A){M=n.charCodeAt(A);if(55295<M&&57344>M){if(!T){if(56319<M){-1<(G-=3)&&D.push(239,191,189);continue}else if(A+1===y){-1<(G-=3)&&D.push(239,191,189);continue}T=M;continue}if(56320>
M){-1<(G-=3)&&D.push(239,191,189);T=M;continue}M=(T-55296<<10|M-56320)+65536}else T&&-1<(G-=3)&&D.push(239,191,189);T=null;if(128>M){if(0>--G)break;D.push(M)}else if(2048>M){if(0>(G-=2))break;D.push(M>>6|192,M&63|128)}else if(65536>M){if(0>(G-=3))break;D.push(M>>12|224,M>>6&63|128,M&63|128)}else if(1114112>M){if(0>(G-=4))break;D.push(M>>18|240,M>>12&63|128,M>>6&63|128,M&63|128)}else throw Error("Invalid code point");}return D}function wb(n){var G=Ha,M=G.toByteArray;n=n.split("\x3d")[0];n=n.trim().replace(ma,
"");if(2>n.length)n="";else for(;0!==n.length%4;)n+="\x3d";return M.call(G,n)}function Ub(n,G,M,y){let T;for(T=0;T<y&&!(T+M>=G.length||T>=n.length);++T)G[T+M]=n[T];return T}function Na(n,G){return n instanceof G||null!=n&&null!=n.constructor&&null!=n.constructor.name&&n.constructor.name===G.name}function U(n){return"undefined"===typeof BigInt?ea:n}function ea(){throw Error("BigInt not supported");}const Ha=pb(28),Y=pb(29);Fb="function"===typeof Symbol&&"function"===typeof Symbol["for"]?Symbol["for"]("nodejs.util.inspect.custom"):
null;Za.Buffer=l;Za.SlowBuffer=function(n){+n!=n&&(n=0);return l.alloc(+n)};Za.INSPECT_MAX_BYTES=50;Za.kMaxLength=2147483647;l.TYPED_ARRAY_SUPPORT=function(){try{const n=new Uint8Array(1),G={foo:function(){return 42}};Object.setPrototypeOf(G,Uint8Array.prototype);Object.setPrototypeOf(n,G);return 42===n.foo()}catch(n){return!1}}();l.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");
Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}});Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});l.poolSize=8192;l.from=function(n,G,M){return ja(n,G,M)};Object.setPrototypeOf(l.prototype,Uint8Array.prototype);Object.setPrototypeOf(l,Uint8Array);l.alloc=function(n,G,M){$a(n);n=0>=n?u(n):void 0!==G?"string"===typeof M?u(n).fill(G,M):u(n).fill(G):u(n);return n};l.allocUnsafe=
function(n){return vb(n)};l.allocUnsafeSlow=function(n){return vb(n)};l.isBuffer=function(n){return null!=n&&!0===n._isBuffer&&n!==l.prototype};l.compare=function(n,G){Na(n,Uint8Array)&&(n=l.from(n,n.offset,n.byteLength));Na(G,Uint8Array)&&(G=l.from(G,G.offset,G.byteLength));if(!l.isBuffer(n)||!l.isBuffer(G))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(n===G)return 0;let M=n.length,y=G.length;for(let T=0,D=Math.min(M,y);T<D;++T)if(n[T]!==G[T]){M=
n[T];y=G[T];break}return M<y?-1:y<M?1:0};l.isEncoding=function(n){switch(String(n).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};l.concat=function(n,G){if(!Array.isArray(n))throw new TypeError('"list" argument must be an Array of Buffers');if(0===n.length)return l.alloc(0);let M;if(void 0===G)for(M=G=0;M<n.length;++M)G+=n[M].length;G=l.allocUnsafe(G);let y=
0;for(M=0;M<n.length;++M){let T=n[M];if(Na(T,Uint8Array))y+T.length>G.length?(l.isBuffer(T)||(T=l.from(T)),T.copy(G,y)):Uint8Array.prototype.set.call(G,T,y);else if(l.isBuffer(T))T.copy(G,y);else throw new TypeError('"list" argument must be an Array of Buffers');y+=T.length}return G};l.byteLength=ub;l.prototype._isBuffer=!0;l.prototype.swap16=function(){const n=this.length;if(0!==n%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let G=0;G<n;G+=2)Yb(this,G,G+1);return this};
l.prototype.swap32=function(){const n=this.length;if(0!==n%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let G=0;G<n;G+=4)Yb(this,G,G+3),Yb(this,G+1,G+2);return this};l.prototype.swap64=function(){const n=this.length;if(0!==n%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let G=0;G<n;G+=8)Yb(this,G,G+7),Yb(this,G+1,G+6),Yb(this,G+2,G+5),Yb(this,G+3,G+4);return this};l.prototype.toString=function(){const n=this.length;return 0===n?"":0===arguments.length?
Cb(this,0,n):Lb.apply(this,arguments)};l.prototype.toLocaleString=l.prototype.toString;l.prototype.equals=function(n){if(!l.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n?!0:0===l.compare(this,n)};l.prototype.inspect=function(){let n;const G=Za.INSPECT_MAX_BYTES;n=this.toString("hex",0,G).replace(/(.{2})/g,"$1 ").trim();this.length>G&&(n+=" ... ");return"\x3cBuffer "+n+"\x3e"};Fb&&(l.prototype[Fb]=l.prototype.inspect);l.prototype.compare=function(n,G,M,y,T){Na(n,Uint8Array)&&
(n=l.from(n,n.offset,n.byteLength));if(!l.isBuffer(n))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof n);void 0===G&&(G=0);void 0===M&&(M=n?n.length:0);void 0===y&&(y=0);void 0===T&&(T=this.length);if(0>G||M>n.length||0>y||T>this.length)throw new RangeError("out of range index");if(y>=T&&G>=M)return 0;if(y>=T)return-1;if(G>=M)return 1;G>>>=0;M>>>=0;y>>>=0;T>>>=0;if(this===n)return 0;let D=T-y,A=M-G;const P=Math.min(D,A);y=this.slice(y,T);
n=n.slice(G,M);for(G=0;G<P;++G)if(y[G]!==n[G]){D=y[G];A=n[G];break}return D<A?-1:A<D?1:0};l.prototype.includes=function(n,G,M){return-1!==this.indexOf(n,G,M)};l.prototype.indexOf=function(n,G,M){return Ba(this,n,G,M,!0)};l.prototype.lastIndexOf=function(n,G,M){return Ba(this,n,G,M,!1)};l.prototype.write=function(n,G,M,y){if(void 0===G)y="utf8",M=this.length,G=0;else if(void 0===M&&"string"===typeof G)y=G,M=this.length,G=0;else if(isFinite(G))G>>>=0,isFinite(M)?(M>>>=0,void 0===y&&(y="utf8")):(y=M,
M=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var T=this.length-G;if(void 0===M||M>T)M=T;if(0<n.length&&(0>M||0>G)||G>this.length)throw new RangeError("Attempt to write outside buffer bounds");y||(y="utf8");for(T=!1;;)switch(y){case "hex":a:{G=Number(G)||0;y=this.length-G;M?(M=Number(M),M>y&&(M=y)):M=y;y=n.length;M>y/2&&(M=y/2);for(y=0;y<M;++y){T=parseInt(n.substr(2*y,2),16);if(T!==T){n=y;break a}this[G+y]=T}n=y}return n;case "utf8":case "utf-8":return Ub(gb(n,
this.length-G),this,G,M);case "ascii":case "latin1":case "binary":y=[];for(T=0;T<n.length;++T)y.push(n.charCodeAt(T)&255);return Ub(y,this,G,M);case "base64":return Ub(wb(n),this,G,M);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":var D=void 0;y=this.length-G;const A=[];for(let P=0;P<n.length&&!(0>(y-=2));++P)D=n.charCodeAt(P),T=D>>8,D%=256,A.push(D),A.push(T);return Ub(A,this,G,M);default:if(T)throw new TypeError("Unknown encoding: "+y);y=(""+y).toLowerCase();T=!0}};l.prototype.toJSON=function(){return{type:"Buffer",
data:Array.prototype.slice.call(this._arr||this,0)}};l.prototype.slice=function(n,G){const M=this.length;n=~~n;G=void 0===G?M:~~G;0>n?(n+=M,0>n&&(n=0)):n>M&&(n=M);0>G?(G+=M,0>G&&(G=0)):G>M&&(G=M);G<n&&(G=n);n=this.subarray(n,G);Object.setPrototypeOf(n,l.prototype);return n};l.prototype.readUintLE=l.prototype.readUIntLE=function(n,G,M){n>>>=0;G>>>=0;M||xb(n,G,this.length);M=this[n];let y=1,T=0;for(;++T<G&&(y*=256);)M+=this[n+T]*y;return M};l.prototype.readUintBE=l.prototype.readUIntBE=function(n,G,
M){n>>>=0;G>>>=0;M||xb(n,G,this.length);M=this[n+--G];let y=1;for(;0<G&&(y*=256);)M+=this[n+--G]*y;return M};l.prototype.readUint8=l.prototype.readUInt8=function(n,G){n>>>=0;G||xb(n,1,this.length);return this[n]};l.prototype.readUint16LE=l.prototype.readUInt16LE=function(n,G){n>>>=0;G||xb(n,2,this.length);return this[n]|this[n+1]<<8};l.prototype.readUint16BE=l.prototype.readUInt16BE=function(n,G){n>>>=0;G||xb(n,2,this.length);return this[n]<<8|this[n+1]};l.prototype.readUint32LE=l.prototype.readUInt32LE=
function(n,G){n>>>=0;G||xb(n,4,this.length);return(this[n]|this[n+1]<<8|this[n+2]<<16)+16777216*this[n+3]};l.prototype.readUint32BE=l.prototype.readUInt32BE=function(n,G){n>>>=0;G||xb(n,4,this.length);return 16777216*this[n]+(this[n+1]<<16|this[n+2]<<8|this[n+3])};l.prototype.readBigUInt64LE=U(function(n){n>>>=0;Ka(n,"offset");var G=this[n];const M=this[n+7];void 0!==G&&void 0!==M||jb(n,this.length-8);G=G+this[++n]*Math.pow(2,8)+this[++n]*Math.pow(2,16)+this[++n]*Math.pow(2,24);n=this[++n]+this[++n]*
Math.pow(2,8)+this[++n]*Math.pow(2,16)+M*Math.pow(2,24);return BigInt(G)+(BigInt(n)<<BigInt(32))});l.prototype.readBigUInt64BE=U(function(n){n>>>=0;Ka(n,"offset");var G=this[n];const M=this[n+7];void 0!==G&&void 0!==M||jb(n,this.length-8);G=G*Math.pow(2,24)+this[++n]*Math.pow(2,16)+this[++n]*Math.pow(2,8)+this[++n];n=this[++n]*Math.pow(2,24)+this[++n]*Math.pow(2,16)+this[++n]*Math.pow(2,8)+M;return(BigInt(G)<<BigInt(32))+BigInt(n)});l.prototype.readIntLE=function(n,G,M){n>>>=0;G>>>=0;M||xb(n,G,this.length);
M=this[n];let y=1,T=0;for(;++T<G&&(y*=256);)M+=this[n+T]*y;M>=128*y&&(M-=Math.pow(2,8*G));return M};l.prototype.readIntBE=function(n,G,M){n>>>=0;G>>>=0;M||xb(n,G,this.length);M=G;let y=1,T=this[n+--M];for(;0<M&&(y*=256);)T+=this[n+--M]*y;T>=128*y&&(T-=Math.pow(2,8*G));return T};l.prototype.readInt8=function(n,G){n>>>=0;G||xb(n,1,this.length);return this[n]&128?-1*(255-this[n]+1):this[n]};l.prototype.readInt16LE=function(n,G){n>>>=0;G||xb(n,2,this.length);n=this[n]|this[n+1]<<8;return n&32768?n|4294901760:
n};l.prototype.readInt16BE=function(n,G){n>>>=0;G||xb(n,2,this.length);n=this[n+1]|this[n]<<8;return n&32768?n|4294901760:n};l.prototype.readInt32LE=function(n,G){n>>>=0;G||xb(n,4,this.length);return this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24};l.prototype.readInt32BE=function(n,G){n>>>=0;G||xb(n,4,this.length);return this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]};l.prototype.readBigInt64LE=U(function(n){n>>>=0;Ka(n,"offset");const G=this[n],M=this[n+7];void 0!==G&&void 0!==M||jb(n,this.length-
8);return(BigInt(this[n+4]+this[n+5]*Math.pow(2,8)+this[n+6]*Math.pow(2,16)+(M<<24))<<BigInt(32))+BigInt(G+this[++n]*Math.pow(2,8)+this[++n]*Math.pow(2,16)+this[++n]*Math.pow(2,24))});l.prototype.readBigInt64BE=U(function(n){n>>>=0;Ka(n,"offset");var G=this[n];const M=this[n+7];void 0!==G&&void 0!==M||jb(n,this.length-8);G=(G<<24)+this[++n]*Math.pow(2,16)+this[++n]*Math.pow(2,8)+this[++n];return(BigInt(G)<<BigInt(32))+BigInt(this[++n]*Math.pow(2,24)+this[++n]*Math.pow(2,16)+this[++n]*Math.pow(2,8)+
M)});l.prototype.readFloatLE=function(n,G){n>>>=0;G||xb(n,4,this.length);return Y.read(this,n,!0,23,4)};l.prototype.readFloatBE=function(n,G){n>>>=0;G||xb(n,4,this.length);return Y.read(this,n,!1,23,4)};l.prototype.readDoubleLE=function(n,G){n>>>=0;G||xb(n,8,this.length);return Y.read(this,n,!0,52,8)};l.prototype.readDoubleBE=function(n,G){n>>>=0;G||xb(n,8,this.length);return Y.read(this,n,!1,52,8)};l.prototype.writeUintLE=l.prototype.writeUIntLE=function(n,G,M,y){n=+n;G>>>=0;M>>>=0;y||nb(this,n,
G,M,Math.pow(2,8*M)-1,0);y=1;let T=0;for(this[G]=n&255;++T<M&&(y*=256);)this[G+T]=n/y&255;return G+M};l.prototype.writeUintBE=l.prototype.writeUIntBE=function(n,G,M,y){n=+n;G>>>=0;M>>>=0;y||nb(this,n,G,M,Math.pow(2,8*M)-1,0);y=M-1;let T=1;for(this[G+y]=n&255;0<=--y&&(T*=256);)this[G+y]=n/T&255;return G+M};l.prototype.writeUint8=l.prototype.writeUInt8=function(n,G,M){n=+n;G>>>=0;M||nb(this,n,G,1,255,0);this[G]=n&255;return G+1};l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(n,G,M){n=
+n;G>>>=0;M||nb(this,n,G,2,65535,0);this[G]=n&255;this[G+1]=n>>>8;return G+2};l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(n,G,M){n=+n;G>>>=0;M||nb(this,n,G,2,65535,0);this[G]=n>>>8;this[G+1]=n&255;return G+2};l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(n,G,M){n=+n;G>>>=0;M||nb(this,n,G,4,4294967295,0);this[G+3]=n>>>24;this[G+2]=n>>>16;this[G+1]=n>>>8;this[G]=n&255;return G+4};l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(n,G,M){n=+n;G>>>=0;M||nb(this,
n,G,4,4294967295,0);this[G]=n>>>24;this[G+1]=n>>>16;this[G+2]=n>>>8;this[G+3]=n&255;return G+4};l.prototype.writeBigUInt64LE=U(function(n,G=0){return Db(this,n,G,BigInt(0),BigInt("0xffffffffffffffff"))});l.prototype.writeBigUInt64BE=U(function(n,G=0){return lb(this,n,G,BigInt(0),BigInt("0xffffffffffffffff"))});l.prototype.writeIntLE=function(n,G,M,y){n=+n;G>>>=0;y||(y=Math.pow(2,8*M-1),nb(this,n,G,M,y-1,-y));y=0;let T=1,D=0;for(this[G]=n&255;++y<M&&(T*=256);)0>n&&0===D&&0!==this[G+y-1]&&(D=1),this[G+
y]=(n/T>>0)-D&255;return G+M};l.prototype.writeIntBE=function(n,G,M,y){n=+n;G>>>=0;y||(y=Math.pow(2,8*M-1),nb(this,n,G,M,y-1,-y));y=M-1;let T=1,D=0;for(this[G+y]=n&255;0<=--y&&(T*=256);)0>n&&0===D&&0!==this[G+y+1]&&(D=1),this[G+y]=(n/T>>0)-D&255;return G+M};l.prototype.writeInt8=function(n,G,M){n=+n;G>>>=0;M||nb(this,n,G,1,127,-128);0>n&&(n=255+n+1);this[G]=n&255;return G+1};l.prototype.writeInt16LE=function(n,G,M){n=+n;G>>>=0;M||nb(this,n,G,2,32767,-32768);this[G]=n&255;this[G+1]=n>>>8;return G+
2};l.prototype.writeInt16BE=function(n,G,M){n=+n;G>>>=0;M||nb(this,n,G,2,32767,-32768);this[G]=n>>>8;this[G+1]=n&255;return G+2};l.prototype.writeInt32LE=function(n,G,M){n=+n;G>>>=0;M||nb(this,n,G,4,2147483647,-2147483648);this[G]=n&255;this[G+1]=n>>>8;this[G+2]=n>>>16;this[G+3]=n>>>24;return G+4};l.prototype.writeInt32BE=function(n,G,M){n=+n;G>>>=0;M||nb(this,n,G,4,2147483647,-2147483648);0>n&&(n=4294967295+n+1);this[G]=n>>>24;this[G+1]=n>>>16;this[G+2]=n>>>8;this[G+3]=n&255;return G+4};l.prototype.writeBigInt64LE=
U(function(n,G=0){return Db(this,n,G,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});l.prototype.writeBigInt64BE=U(function(n,G=0){return lb(this,n,G,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});l.prototype.writeFloatLE=function(n,G,M){return ua(this,n,G,!0,M)};l.prototype.writeFloatBE=function(n,G,M){return ua(this,n,G,!1,M)};l.prototype.writeDoubleLE=function(n,G,M){return ha(this,n,G,!0,M)};l.prototype.writeDoubleBE=function(n,G,M){return ha(this,n,G,!1,M)};l.prototype.copy=
function(n,G,M,y){if(!l.isBuffer(n))throw new TypeError("argument should be a Buffer");M||(M=0);y||0===y||(y=this.length);G>=n.length&&(G=n.length);G||(G=0);0<y&&y<M&&(y=M);if(y===M||0===n.length||0===this.length)return 0;if(0>G)throw new RangeError("targetStart out of bounds");if(0>M||M>=this.length)throw new RangeError("Index out of range");if(0>y)throw new RangeError("sourceEnd out of bounds");y>this.length&&(y=this.length);n.length-G<y-M&&(y=n.length-G+M);const T=y-M;this===n&&"function"===typeof Uint8Array.prototype.copyWithin?
this.copyWithin(G,M,y):Uint8Array.prototype.set.call(n,this.subarray(M,y),G);return T};l.prototype.fill=function(n,G,M,y){if("string"===typeof n){"string"===typeof G?(y=G,G=0,M=this.length):"string"===typeof M&&(y=M,M=this.length);if(void 0!==y&&"string"!==typeof y)throw new TypeError("encoding must be a string");if("string"===typeof y&&!l.isEncoding(y))throw new TypeError("Unknown encoding: "+y);if(1===n.length){var T=n.charCodeAt(0);if("utf8"===y&&128>T||"latin1"===y)n=T}}else"number"===typeof n?
n&=255:"boolean"===typeof n&&(n=Number(n));if(0>G||this.length<G||this.length<M)throw new RangeError("Out of range index");if(M<=G)return this;G>>>=0;M=void 0===M?this.length:M>>>0;n||(n=0);if("number"===typeof n)for(y=G;y<M;++y)this[y]=n;else{T=l.isBuffer(n)?n:l.from(n,y);const D=T.length;if(0===D)throw new TypeError('The value "'+n+'" is invalid for argument "value"');for(y=0;y<M-G;++y)this[y+G]=T[y%D]}return this};const Ca={};xa("ERR_BUFFER_OUT_OF_BOUNDS",function(n){return n?`${n} is outside of buffer bounds`:
"Attempt to access memory outside buffer bounds"},RangeError);xa("ERR_INVALID_ARG_TYPE",function(n,G){return`The "${n}" argument must be of type number. Received type ${typeof G}`},TypeError);xa("ERR_OUT_OF_RANGE",function(n,G,M){n=`The value of "${n}" is out of range.`;let y=M;if(Number.isInteger(M)&&Math.abs(M)>Math.pow(2,32))y=Ua(String(M));else if("bigint"===typeof M){y=String(M);if(M>Math.pow(BigInt(2),BigInt(32))||M<-Math.pow(BigInt(2),BigInt(32)))y=Ua(y);y+="n"}return n+` It must be ${G}. Received ${y}`},
RangeError);const ma=/[^+/0-9A-Za-z-_]/g,na=function(){const n=Array(256);for(let G=0;16>G;++G){const M=16*G;for(let y=0;16>y;++y)n[M+y]="0123456789abcdef"[G]+"0123456789abcdef"[y]}return n}()};
shadow$provide[31]=function(Fb,pb,zc,Za){var u=pb(30).Buffer;(function(l,ja){"object"===typeof Za&&"undefined"!==typeof zc?ja(Za,pb(24),pb(25),pb(27)):"function"===typeof define&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],ja):(l="undefined"!==typeof globalThis?globalThis:l||self,ja(l.vega={},l.vega,l.topojson,l.vega))})(this,function(l,ja,$a,vb){function Xb(ma,na){const n=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const G=yield n.sanitize(ma,
na),M=G.href;return G.localFile?n.file(M):n.http(M,na)})}function ec(ma,na){const n=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){na=ja.extend({},n.options,na);const G=n.fileAccess,M={href:null};var y;let T;var D=Ka.test(ma.replace(jb,""));null!=ma&&"string"===typeof ma&&D||ja.error("Sanitize failure, invalid URI: "+ja.stringValue(ma));D=Xa.test(ma);(y=na.baseURL)&&!D&&(ma.startsWith("/")||y.endsWith("/")||(ma="/"+ma),ma=y+ma);T=(y=ma.startsWith("file://"))||"file"===na.mode||
"http"!==na.mode&&!D&&G;y?ma=ma.slice(7):ma.startsWith("//")&&("file"===na.defaultProtocol?(ma=ma.slice(2),T=!0):ma=(na.defaultProtocol||"http")+":"+ma);Object.defineProperty(M,"localFile",{value:!!T});M.href=ma;na.target&&(M.target=na.target+"");na.rel&&(M.rel=na.rel+"");"image"===na.context&&na.crossOrigin&&(M.crossOrigin=na.crossOrigin+"");return M})}function Bb(ma){return ma?na=>new Promise((n,G)=>{ma.readFile(na,(M,y)=>{M?G(M):n(y)})}):yb}function yb(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ja.error("No file system access.")})}
function ub(ma){return ma?function(na,n){const G=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var M=ja.extend({},G.options.http,n);const y=n&&n.response;M=yield ma(na,M);return M.ok?ja.isFunction(M[y])?M[y]():M.text():ja.error(M.status+""+M.statusText)})}:Lb}function Lb(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ja.error("No HTTP fetch method available.")})}function Yb(ma,na){if(!ma||!ma.length)return"unknown";const n=ma.length,G=Ub.length,M=Ub.map((y,
T)=>T+1);for(let y=0,T=0,D,A;y<n;++y)for(A=na?ma[y][na]:ma[y],D=0;D<G;++D)if(M[D]&&null!=A&&A===A&&!Ub[D](A)&&(M[D]=0,++T,T===Ub.length))return"string";return Na[M.reduce((y,T)=>0===y?T:y,0)-1]}function Ba(ma,na){return na.reduce((n,G)=>{n[G]=Yb(ma,G);return n},{})}function bb(ma){return new Function("d","return {"+ma.map(function(na,n){return JSON.stringify(na)+": d["+n+'] || ""'}).join(",")+"}")}function Cb(ma,na){var n=bb(ma);return function(G,M){return na(n(G),M,ma)}}function xb(ma){var na=Object.create(null),
n=[];ma.forEach(function(G){for(var M in G)M in na||n.push(na[M]=M)});return n}function nb(ma,na){ma+="";var n=ma.length;return n<na?Array(na-n+1).join(0)+ma:ma}function Db(ma){function na(D,A){function P(){if(R)return ea;if(ia)return ia=!1,U;var Pa,Ra=I,fb;if(34===D.charCodeAt(Ra)){for(;I++<E&&34!==D.charCodeAt(I)||34===D.charCodeAt(++I););(Pa=I)>=E?R=!0:10===(fb=D.charCodeAt(I++))?ia=!0:13===fb&&(ia=!0,10===D.charCodeAt(I)&&++I);return D.slice(Ra+1,Pa-1).replace(/""/g,'"')}for(;I<E;){if(10===(fb=
D.charCodeAt(Pa=I++)))ia=!0;else if(13===fb)ia=!0,10===D.charCodeAt(I)&&++I;else if(fb!==T)continue;return D.slice(Ra,Pa)}return R=!0,D.slice(Ra,E)}var B=[],E=D.length,I=0,X=0,Ea,R=0>=E,ia=!1;10===D.charCodeAt(E-1)&&--E;for(13===D.charCodeAt(E-1)&&--E;(Ea=P())!==ea;){for(var Aa=[];Ea!==U&&Ea!==ea;)Aa.push(Ea),Ea=P();A&&null==(Aa=A(Aa,X++))||B.push(Aa)}return B}function n(D,A){return D.map(function(P){return A.map(function(B){return M(P[B])}).join(ma)})}function G(D){return D.map(M).join(ma)}function M(D){if(null==
D)D="";else{if(D instanceof Date){var A=D.getUTCHours();var P=D.getUTCMinutes(),B=D.getUTCSeconds(),E=D.getUTCMilliseconds();if(isNaN(D))D="Invalid Date";else{var I=D.getUTCFullYear();D=(0>I?"-"+nb(-I,6):9999<I?"+"+nb(I,6):nb(I,4))+"-"+nb(D.getUTCMonth()+1,2)+"-"+nb(D.getUTCDate(),2)+(E?"T"+nb(A,2)+":"+nb(P,2)+":"+nb(B,2)+"."+nb(E,3)+"Z":B?"T"+nb(A,2)+":"+nb(P,2)+":"+nb(B,2)+"Z":P||A?"T"+nb(A,2)+":"+nb(P,2)+"Z":"")}A=D}else A=y.test(D+="")?'"'+D.replace(/"/g,'""')+'"':D;D=A}return D}var y=new RegExp('["'+
ma+"\n\r]"),T=ma.charCodeAt(0);return{parse:function(D,A){var P,B;D=na(D,function(E,I){if(P)return P(E,I-1);B=E;P=A?Cb(E,A):bb(E)});D.columns=B||[];return D},parseRows:na,format:function(D,A){null==A&&(A=xb(D));return[A.map(M).join(ma)].concat(n(D,A)).join("\n")},formatBody:function(D,A){null==A&&(A=xb(D));return n(D,A).join("\n")},formatRows:function(D){return D.map(G).join("\n")},formatRow:G,formatValue:M}}function lb(ma){const na=function(n,G){const M={delimiter:ma};return lc(n,G?ja.extend(G,M):
M)};na.responseType="text";return na}function lc(ma,na){na.header&&(ma=na.header.map(ja.stringValue).join(na.delimiter)+"\n"+ma);return Db(na.delimiter).parse(ma+"")}function ua(ma,na){const n=na&&na.property?ja.field(na.property):ja.identity;var G;if(G=ja.isObject(ma))G=!("function"===typeof u&&ja.isFunction(u.isBuffer)&&u.isBuffer(ma));G?(ma=n(ma),!ja.isArray(ma)&&ja.isIterable(ma)&&(ma=[...ma]),na=na&&na.copy?JSON.parse(JSON.stringify(ma)):ma):na=n(JSON.parse(ma));return na}function ha(ma,na){let n,
G,M,y;ma=ua(ma,na);na&&na.feature?(n=$a.feature,M=na.feature):na&&na.mesh?(n=$a.mesh,M=na.mesh,y=Ha[na.filter]):ja.error("Missing TopoJSON feature or mesh parameter.");return(G=(G=ma.objects[M])?n(ma,G,y):ja.error("Invalid TopoJSON object: "+M))&&G.features||[G]}function xa(ma,na){return 1<arguments.length?(Y[ma]=na,this):ja.hasOwnProperty(Y,ma)?Y[ma]:null}function Ua(ma,na,n,G){if(ma.length){var M=vb.timeFormatDefaultLocale();n=n||M.timeParse;G=G||M.utcParse;M=ma.columns||Object.keys(ma[0]);var y,
T;"auto"===na&&(na=Ba(ma,M));M=Object.keys(na);var D=M.map(I=>{var X=na[I];if(X&&(X.startsWith("date:")||X.startsWith("utc:"))){I=X.split(/:(.+)?/,2);X=I[1];if("'"===X[0]&&"'"===X[X.length-1]||'"'===X[0]&&'"'===X[X.length-1])X=X.slice(1,-1);return("utc"===I[0]?G:n)(X)}if(!wb[X])throw Error("Illegal format pattern: "+I+":"+X);return wb[X]});var A=0;var P=ma.length;for(T=M.length;A<P;++A){var B=ma[A];for(y=0;y<T;++y){var E=M[y];B[E]=D[y](B[E])}}}}const Xa=/^(data:|([A-Za-z]+:)?\/\/)/,Ka=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
jb=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,gb=ma=>!Number.isNaN(+ma)&&!(ma instanceof Date),wb={boolean:ja.toBoolean,integer:ja.toNumber,number:ja.toNumber,date:ja.toDate,string:ja.toString,unknown:ja.identity},Ub=[ma=>"true"===ma||"false"===ma||!0===ma||!1===ma,ma=>gb(ma)&&Number.isInteger(+ma),gb,ma=>!Number.isNaN(Date.parse(ma))],Na=["boolean","integer","number","date"];var U={},ea={};lc.responseType="text";ua.responseType="json";const Ha={interior:(ma,na)=>ma!==na,exterior:(ma,
na)=>ma===na};ha.responseType="json";const Y={dsv:lc,csv:lb(","),tsv:lb("\t"),json:ua,topojson:ha},Ca=function(ma,na){return n=>({options:n||{},sanitize:ec,load:Xb,fileAccess:!1,file:Bb(na),http:ub(ma)})}("undefined"!==typeof fetch&&fetch,null);l.format=Y;l.formats=xa;l.inferType=Yb;l.inferTypes=Ba;l.loader=Ca;l.read=function(ma,na,n,G){na=na||{};const M=xa(na.type||"json");M||ja.error("Unknown data format type: "+na.type);ma=M(ma,na);na.parse&&Ua(ma,na.parse,n,G);ja.hasOwnProperty(ma,"columns")&&
delete ma.columns;return ma};l.responseType=function(ma){return(ma=xa(ma))&&ma.responseType||"text"};l.typeParsers=wb})};
shadow$provide[32]=function(Fb,pb,zc,Za){(function(u,l){"object"===typeof Za&&"undefined"!==typeof zc?l(Za,pb(24),pb(31),pb(27)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega,u.vega,u.vega))})(this,function(u,l,ja,$a){function vb(y){const T=y||l.identity,D=[],A={};D.add=P=>{const B=T(P);A[B]||(A[B]=1,D.push(P));return D};D.remove=P=>{const B=T(P);A[B]&&(A[B]=0,P=D.indexOf(P),
0<=P&&D.splice(P,1));return D};return D}function Xb(y,T){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield T(y)}catch(D){y.error(D)}})}function ec(y){y=y===Object(y)?y:{data:y};if(!y[ea]){var T=Ha++;y[ea]=T}return y}function Bb(y,T){for(const D in y)T[D]=y[D];return T}function yb(y){return y&&y.constructor===ub}function ub(){const y=[],T=[],D=[],A=[],P=[];let B=null,E=!1;return{constructor:ub,insert(I){I=l.array(I);const X=I.length;for(let Ea=0;Ea<X;++Ea)y.push(I[Ea]);return this},
remove(I){const X=l.isFunction(I)?A:T;I=l.array(I);const Ea=I.length;for(let R=0;R<Ea;++R)X.push(I[R]);return this},modify(I,X,Ea){X={field:X,value:l.constant(Ea)};l.isFunction(I)?(X.filter=I,P.push(X)):(X.tuple=I,D.push(X));return this},encode(I,X){l.isFunction(I)?P.push({filter:I,field:X}):D.push({tuple:I,field:X});return this},clean(I){B=I;return this},reflow(){E=!0;return this},pulse(I,X){function Ea(Vb,aa,Ga){Ga?Vb[aa]=Ga(Vb):I.encode=aa;E||(ia[Vb[ea]]=Vb)}const R={},ia={};let Aa,Pa,Ra,fb,zb,
kb;Aa=0;for(Pa=X.length;Aa<Pa;++Aa)R[X[Aa][ea]]=1;Aa=0;for(Pa=T.length;Aa<Pa;++Aa)zb=T[Aa],R[zb[ea]]=-1;Aa=0;for(Pa=A.length;Aa<Pa;++Aa)fb=A[Aa],X.forEach(Vb=>{fb(Vb)&&(R[Vb[ea]]=-1)});Aa=0;for(Pa=y.length;Aa<Pa;++Aa)zb=y[Aa],kb=zb[ea],R[kb]?R[kb]=1:I.add.push(ec(y[Aa]));Aa=0;for(Pa=X.length;Aa<Pa;++Aa)zb=X[Aa],0>R[zb[ea]]&&I.rem.push(zb);Aa=0;for(Pa=D.length;Aa<Pa;++Aa)Ra=D[Aa],zb=Ra.tuple,fb=Ra.field,kb=R[zb[ea]],0<kb&&(Ea(zb,fb,Ra.value),I.modifies(fb));Aa=0;for(Pa=P.length;Aa<Pa;++Aa)Ra=P[Aa],
fb=Ra.filter,X.forEach(Vb=>{fb(Vb)&&0<R[Vb[ea]]&&Ea(Vb,Ra.field,Ra.value)}),I.modifies(Ra.field);if(E)I.mod=T.length||A.length?X.filter(Vb=>0<R[Vb[ea]]):X.slice();else for(kb in ia)I.mod.push(ia[kb]);(B||null==B&&(T.length||A.length))&&I.clean(!0);return I}}}function Lb(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function Yb(y,T,D,A){this.id=++Y;this.value=y;this.qrank=this.rank=this.stamp=-1;this.flags=0;T&&(this._update=T);D&&this.parameters(D,A)}function Ba(y){return function(T){const D=
this.flags;if(0===arguments.length)return!!(D&y);this.flags=T?D|y:D&~y;return this}}function bb(y,T,D){this.id=++ma;this.value=null;D&&(this.receive=D);y&&(this._filter=y);T&&(this._apply=T)}function Cb(y,T,D){return new bb(y,T,D)}function xb(y){let T;const D=new Promise(A=>T=A);D.requests=0;D.done=()=>{0===--D.requests&&(y._pending=null,T(y))};return y._pending=D}function nb(y,T,D,A,P,B){const E=l.extend({},B,na);let I;l.isFunction(D)||(D=l.constant(D));void 0===A?P=X=>y.touch(D(X)):l.isFunction(A)?
(I=new Yb(null,A,P,!1),P=X=>{I.evaluate(X);X=D(X);const Ea=I.value;yb(Ea)?y.pulse(X,Ea,B):y.update(X,Ea,E)}):P=X=>y.update(D(X),A,E);T.apply(P)}function Db(y,T,D,A,P,B){void 0===A?T.targets().add(D):(B=B||{},A=new Yb(null,lb(D,A),P,!1),A.modified(B.force),A.rank=T.rank,T.targets().add(A),D&&(A.skip(!0),A.value=D.value,A.targets().add(D),y.connect(D,[A])))}function lb(y,T){T=l.isFunction(T)?T:l.constant(T);return y?function(D,A){D=T(D,A);y.skip()||(y.skip(D!==this.value).value=D);return D}:T}function lc(y,
T,D){this.dataflow=y;this.stamp=null==T?-1:T;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=D||null}function ua(y,T){const D=[];l.visitArray(y,T,A=>D.push(A));return D}function ha(y,T){const D={};y.visit(T,A=>{D[A[ea]]=1});return A=>D[A[ea]]?null:A}function xa(y,T){return y?(D,A)=>y(D,A)&&T(D,A):T}function Ua(y,T,D,A){let P=0;this.dataflow=y;this.stamp=T;this.fields=null;this.encode=A||null;this.pulses=D;for(const B of D)if(B.stamp===T){if(B.fields){y=this.fields||(this.fields={});
for(const E in B.fields)y[E]=1}B.changed(this.ADD)&&(P|=this.ADD);B.changed(this.REM)&&(P|=this.REM);B.changed(this.MOD)&&(P|=this.MOD)}this.changes=P}function Xa(y){y.error("Dataflow already running. Use runAsync() to chain invocations.");return y}function Ka(y,T){if(T&&T.stamp===y.stamp)return T;y=y.fork();T&&T!==n&&(y.source=T.source);return y}function jb(y){let T=[];return{clear:()=>T=[],size:()=>T.length,peek:()=>T[0],push:D=>{T.push(D);return gb(T,0,T.length-1,y)},pop:()=>{var D=T.pop();let A;
if(T.length){A=T[0];T[0]=D;D=T;var P=0;const B=P,E=D.length,I=D[P];let X=(P<<1)+1,Ea;for(;X<E;)Ea=X+1,Ea<E&&0<=y(D[X],D[Ea])&&(X=Ea),D[P]=D[X],P=X,X=(P<<1)+1;D[P]=I;gb(D,B,P,y)}else A=D;return A}}}function gb(y,T,D,A){let P,B;const E=y[D];for(;D>T;)if(B=D-1>>1,P=y[B],0>A(E,P))y[D]=P,D=B;else break;return y[D]=E}function wb(){this.logger(l.logger());this.logLevel(l.Error);this._rank=this._clock=0;this._locale=$a.defaultLocale();try{this._loader=ja.loader()}catch(y){}this._touched=vb(l.id);this._input=
{};this._pulse=null;this._heap=jb((y,T)=>y.qrank-T.qrank);this._postrun=[]}function Ub(y){return function(){return this._log[y].apply(this,arguments)}}function Na(y,T){Yb.call(this,y,null,T)}function U(y){y=y&&y.toLowerCase();return l.hasOwnProperty(M,y)?M[y]:null}const ea=Symbol("vega_id");let Ha=1;Lb.prototype={set(y,T,D,A){const P=this[y],B=this["_:mod:_"];if(null!=T&&0<=T){if(P[T]!==D||A)P[T]=D,B[T+":"+y]=-1,B[y]=-1}else if(P!==D||A)this[y]=D,B[y]=l.isArray(D)?1+D.length:-1;return this},modified(y,
T){const D=this["_:mod:_"];if(!arguments.length){for(var A in D)if(D[A])return!0;return!1}if(l.isArray(y)){for(A=0;A<y.length;++A)if(D[y[A]])return!0;return!1}return null!=T&&0<=T?T+1<D[y]||!!D[T+":"+y]:!!D[y]},clear(){this["_:mod:_"]={};return this}};let Y=0;const Ca=new Lb;Yb.prototype={targets(){return this._targets||(this._targets=vb(l.id))},set(y){return this.value!==y?(this.value=y,1):0},skip:Ba(1),modified:Ba(2),parameters(y,T,D){T=!1!==T;const A=this._argval=this._argval||new Lb,P=this._argops=
this._argops||[],B=[];let E,I,X,Ea;const R=(ia,Aa,Pa)=>{Pa instanceof Yb?(Pa!==this&&(T&&Pa.targets().add(this),B.push(Pa)),P.push({op:Pa,name:ia,index:Aa})):A.set(ia,Aa,Pa)};for(E in y)if(I=y[E],"pulse"===E)l.array(I).forEach(ia=>{ia instanceof Yb?ia!==this&&(ia.targets().add(this),B.push(ia)):l.error("Pulse parameters must be operator instances.")}),this.source=I;else if(l.isArray(I))for(A.set(E,-1,Array(X=I.length)),Ea=0;Ea<X;++Ea)R(E,Ea,I[Ea]);else R(E,-1,I);this.marshall().clear();D&&(P.initonly=
!0);return B},marshall(y){const T=this._argval||Ca,D=this._argops;let A,P,B,E;if(D){const I=D.length;for(P=0;P<I;++P)A=D[P],B=A.op,E=B.modified()&&B.stamp===y,T.set(A.name,A.index,B.value,E);if(D.initonly){for(P=0;P<I;++P)A=D[P],A.op.targets().remove(this);this._update=this._argops=null}}return T},detach(){const y=this._argops;let T,D;if(y)for(T=0,D=y.length;T<D;++T){var A=y[T];A=A.op;A._targets&&A._targets.remove(this)}this.source=this.pulse=null},evaluate(y){var T=this._update;if(T){const D=this.marshall(y.stamp);
T=T.call(this,D,y);D.clear();if(T!==this.value)this.value=T;else if(!this.modified())return y.StopPropagation}},run(y){if(y.stamp<this.stamp)return y.StopPropagation;let T;this.skip()?(this.skip(!1),T=0):T=this.evaluate(y);return this.pulse=T||y}};let ma=0;bb.prototype={_filter:l.truthy,_apply:l.identity,targets(){return this._targets||(this._targets=vb(l.id))},consume(y){if(!arguments.length)return!!this._consume;this._consume=!!y;return this},receive(y){if(this._filter(y)){const T=this.value=this._apply(y),
D=this._targets,A=D?D.length:0;for(let P=0;P<A;++P)D[P].receive(T);this._consume&&(y.preventDefault(),y.stopPropagation())}},filter(y){y=Cb(y);this.targets().add(y);return y},apply(y){y=Cb(null,y);this.targets().add(y);return y},merge(){const y=Cb();this.targets().add(y);for(let T=0,D=arguments.length;T<D;++T)arguments[T].targets().add(y);return y},throttle(y){let T=-1;return this.filter(()=>{const D=Date.now();return D-T>y?(T=D,1):0})},debounce(y){const T=Cb();this.targets().add(Cb(null,null,l.debounce(y,
D=>{const A=D.dataflow;T.receive(D);A&&A.run&&A.run()})));return T},between(y,T){let D=!1;y.targets().add(Cb(null,null,()=>D=!0));T.targets().add(Cb(null,null,()=>D=!1));return this.filter(()=>D)},detach(){this._filter=l.truthy;this._targets=null}};const na={skip:!0},n={};lc.prototype={StopPropagation:n,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(y){return(new lc(this.dataflow)).init(this,y)},clone(){const y=this.fork(7);y.add=y.add.slice();y.rem=
y.rem.slice();y.mod=y.mod.slice();y.source&&(y.source=y.source.slice());return y.materialize(23)},addAll(){let y=this;y.source&&y.add!==y.rem&&(y.rem.length||y.source.length!==y.add.length)&&(y=(new lc(this.dataflow)).init(this),y.add=y.source,y.rem=[]);return y},init(y,T){this.stamp=y.stamp;this.encode=y.encode;!y.fields||T&64||(this.fields=y.fields);T&1?(this.addF=y.addF,this.add=y.add):(this.addF=null,this.add=[]);T&2?(this.remF=y.remF,this.rem=y.rem):(this.remF=null,this.rem=[]);T&4?(this.modF=
y.modF,this.mod=y.mod):(this.modF=null,this.mod=[]);T&32?this.source=this.srcF=null:(this.srcF=y.srcF,this.source=y.source,y.cleans&&(this.cleans=y.cleans));return this},runAfter(y){this.dataflow.runAfter(y)},changed(y){y=y||7;return y&1&&this.add.length||y&2&&this.rem.length||y&4&&this.mod.length},reflow(y){if(y)return this.fork(7).reflow();y=this.add.length;const T=this.source&&this.source.length;T&&T!==y&&(this.mod=this.source,y&&this.filter(4,ha(this,1)));return this},clean(y){return arguments.length?
(this.cleans=!!y,this):this.cleans},modifies(y){const T=this.fields||(this.fields={});l.isArray(y)?y.forEach(D=>T[D]=!0):T[y]=!0;return this},modified(y,T){const D=this.fields;return(T||this.mod.length)&&D?arguments.length?l.isArray(y)?y.some(A=>D[A]):D[y]:!!D:!1},filter(y,T){y&1&&(this.addF=xa(this.addF,T));y&2&&(this.remF=xa(this.remF,T));y&4&&(this.modF=xa(this.modF,T));y&16&&(this.srcF=xa(this.srcF,T));return this},materialize(y){y=y||7;y&1&&this.addF&&(this.add=ua(this.add,this.addF),this.addF=
null);y&2&&this.remF&&(this.rem=ua(this.rem,this.remF),this.remF=null);y&4&&this.modF&&(this.mod=ua(this.mod,this.modF),this.modF=null);y&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(y,T){if(y&16)return l.visitArray(this.source,this.srcF,T),this;y&1&&l.visitArray(this.add,this.addF,T);y&2&&l.visitArray(this.rem,this.remF,T);y&4&&l.visitArray(this.mod,this.modF,T);const D=this.source;y&8&&D&&(y=this.add.length+this.mod.length,y!==D.length&&(y?l.visitArray(D,
ha(this,5),T):l.visitArray(D,this.srcF,T)));return this}};l.inherits(Ua,lc,{fork(y){const T=(new lc(this.dataflow)).init(this,y&this.NO_FIELDS);void 0!==y&&(y&T.ADD&&this.visit(T.ADD,D=>T.add.push(D)),y&T.REM&&this.visit(T.REM,D=>T.rem.push(D)),y&T.MOD&&this.visit(T.MOD,D=>T.mod.push(D)));return T},changed(y){return this.changes&y},modified(y){const T=this.fields;return T&&this.changes&this.MOD?l.isArray(y)?y.some(D=>T[D]):T[y]:0},filter(){l.error("MultiPulse does not support filtering.")},materialize(){l.error("MultiPulse does not support materialization.")},
visit(y,T){const D=this.pulses,A=D.length;let P=0;if(y&this.SOURCE)for(;P<A;++P)D[P].visit(y,T);else for(;P<A;++P)D[P].stamp===this.stamp&&D[P].visit(y,T);return this}});const G={skip:!1,force:!1};wb.prototype={stamp(){return this._clock},loader(y){return arguments.length?(this._loader=y,this):this._loader},locale(y){return arguments.length?(this._locale=y,this):this._locale},logger(y){return arguments.length?(this._log=y,this):this._log},error:Ub("error"),warn:Ub("warn"),info:Ub("info"),debug:Ub("debug"),
logLevel:Ub("level"),cleanThreshold:1E4,add:function(y,T,D,A){let P=1;y instanceof Yb||(y&&y.prototype instanceof Yb?y=new y:l.isFunction(y)?y=new Yb(null,y):(P=0,y=new Yb(y,T)));this.rank(y);P&&(A=D,D=T);D&&this.connect(y,y.parameters(D,A));this.touch(y);return y},connect:function(y,T){const D=y.rank,A=T.length;for(let P=0;P<A;++P)if(D<T[P].rank){this.rerank(y);break}},rank:function(y){y.rank=++this._rank},rerank:function(y){const T=[y];let D,A,P;for(;T.length;)if(this.rank(D=T.pop()),A=D._targets)for(P=
A.length;0<=--P;)T.push(D=A[P]),D===y&&l.error("Cycle detected in dataflow graph.")},pulse:function(y,T,D){this.touch(y,D||G);D=new lc(this,this._clock+(this._pulse?0:1));const A=y.pulse&&y.pulse.source||[];D.target=y;this._input[y.id]=T.pulse(D,A);return this},touch:function(y,T){T=T||G;this._pulse?this._enqueue(y):this._touched.add(y);T.skip&&y.skip(!0);return this},update:function(y,T,D){D=D||G;(y.set(T)||D.force)&&this.touch(y,D);return this},changeset:ub,ingest:function(y,T,D){T=this.parse(T,
D);return this.pulse(y,this.changeset().insert(T))},parse:function(y,T){const D=this.locale();return ja.read(y,T,D.timeParse,D.utcParse)},preload:function(y,T,D){const A=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const P=A._pending||xb(A);P.requests+=1;const B=yield A.request(T,D);A.pulse(y,A.changeset().remove(l.truthy).insert(B.data||[]));P.done();return B})},request:function(y,T){const D=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let A=0,P;try{P=
yield D.loader().load(y,{context:"dataflow",response:ja.responseType(T&&T.type)});try{P=D.parse(P,T)}catch(B){A=-2,D.warn("Data ingestion failed",y,B)}}catch(B){A=-1,D.warn("Loading failed",y,B)}return{data:P,status:A}})},events:function(y,T,D,A){const P=this,B=Cb(D,A);D=function(E){E.dataflow=P;try{B.receive(E)}catch(I){P.error(I)}finally{P.run()}};y="string"===typeof y&&"undefined"!==typeof document?document.querySelectorAll(y):l.array(y);A=y.length;for(let E=0;E<A;++E)y[E].addEventListener(T,D);
return B},on:function(y,T,D,A,P){(y instanceof Yb?Db:nb)(this,y,T,D,A,P);return this},evaluate:function(y,T,D){const A=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const P=[];if(A._pulse)return Xa(A);A._pending&&(yield A._pending);T&&(yield Xb(A,T));if(!A._touched.length)return A.debug("Dataflow invoked, but nothing to do."),A;var B=++A._clock;A._pulse=new lc(A,B,y);A._touched.forEach(R=>A._enqueue(R,!0));A._touched=vb(l.id);var E=0;let I,X,Ea;try{for(;0<A._heap.size();)I=
A._heap.pop(),I.rank!==I.qrank?A._enqueue(I,!0):(X=I.run(A._getPulse(I,y)),X.then?X=yield X:X.async&&(P.push(X.async),X=n),X!==n&&I._targets&&I._targets.forEach(R=>A._enqueue(R)),++E)}catch(R){A._heap.clear(),Ea=R}A._input={};A._pulse=null;A.debug(`Pulse ${B}: ${E} operators`);Ea&&(A._postrun=[],A.error(Ea));if(A._postrun.length)for(B=A._postrun.sort((R,ia)=>ia.priority-R.priority),A._postrun=[],E=0;E<B.length;++E)yield Xb(A,B[E].callback);D&&(yield Xb(A,D));P.length&&Promise.all(P).then(R=>A.runAsync(null,
()=>{R.forEach(ia=>{try{ia(A)}catch(Aa){A.error(Aa)}})}));return A})},run:function(y,T,D){return this._pulse?Xa(this):(this.evaluate(y,T,D),this)},runAsync:function(y,T,D){const A=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;A._running;)yield A._running;const P=()=>A._running=null;(A._running=A.evaluate(y,T,D)).then(P,P);return A._running})},runAfter:function(y,T,D){if(this._pulse||T)this._postrun.push({priority:D||0,callback:y});else try{y(this)}catch(A){this.error(A)}},
_enqueue:function(y,T){const D=y.stamp<this._clock;D&&(y.stamp=this._clock);if(D||T)y.qrank=y.rank,this._heap.push(y)},_getPulse:function(y,T){const D=y.source,A=this._clock;return D&&l.isArray(D)?new Ua(this,A,D.map(P=>P.pulse),T):this._input[y.id]||Ka(this._pulse,D&&D.pulse)}};l.inherits(Na,Yb,{run(y){if(y.stamp<this.stamp)return y.StopPropagation;let T;this.skip()?this.skip(!1):T=this.evaluate(y);T=T||y;T.then?T=T.then(D=>this.pulse=D):T!==y.StopPropagation&&(this.pulse=T);return T},evaluate(y){const T=
this.marshall(y.stamp);y=this.transform(T,y);T.clear();return y},transform(){}});const M={};u.Dataflow=wb;u.EventStream=bb;u.MultiPulse=Ua;u.Operator=Yb;u.Parameters=Lb;u.Pulse=lc;u.Transform=Na;u.UniqueList=vb;u.asyncCallback=Xb;u.changeset=ub;u.definition=function(y){return(y=U(y))&&y.Definition||null};u.derive=function(y){return Bb(y,ec({}))};u.ingest=ec;u.isChangeSet=yb;u.isTuple=function(y){return!(!y||!y[ea])};u.rederive=Bb;u.replace=function(y,T){T[ea]=y[ea];return T};u.stableCompare=function(y,
T){return y?T?(D,A)=>y(D,A)||T(D)[ea]-T(A)[ea]:(D,A)=>y(D,A)||D[ea]-A[ea]:null};u.transform=U;u.transforms=M;u.tupleid=function(y){return y[ea]}})};
shadow$provide[33]=function(Fb,pb,zc,Za){(function(u,l){"object"===typeof Za&&"undefined"!==typeof zc?l(Za):"function"===typeof define&&define.amd?define(["exports"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={}))})(this,function(u){function*l(D,A){if(null==A)for(var P of D)null!=P&&""!==P&&(P=+P)>=P&&(yield P);else{P=-1;for(let B of D)B=A(B,++P,D),null!=B&&""!==B&&(B=+B)>=B&&(yield B)}}function ja(D,A){return null==D||null==A?NaN:D<A?-1:D>A?1:D>=A?0:NaN}function $a(D){return null===
D?NaN:+D}function*vb(D,A){if(void 0===A)for(var P of D)null!=P&&(P=+P)>=P&&(yield P);else{P=-1;for(let B of D)null!=(B=A(B,++P,D))&&(B=+B)>=B&&(yield B)}}function Xb(D=ja){if(D===ja)return ec;if("function"!==typeof D)throw new TypeError("compare is not a function");return(A,P)=>{const B=D(A,P);return B||0===B?B:(0===D(P,P))-(0===D(A,A))}}function ec(D,A){return(null==D||!(D>=D))-(null==A||!(A>=A))||(D<A?-1:D>A?1:0)}function Bb(D,A){let P;if(void 0===A)for(var B of D)null!=B&&(P<B||void 0===P&&B>=
B)&&(P=B);else{B=-1;for(let E of D)null!=(E=A(E,++B,D))&&(P<E||void 0===P&&E>=E)&&(P=E)}return P}function yb(D,A){let P;if(void 0===A)for(var B of D)null!=B&&(P>B||void 0===P&&B>=B)&&(P=B);else{B=-1;for(let E of D)null!=(E=A(E,++B,D))&&(P>E||void 0===P&&E>=E)&&(P=E)}return P}function ub(D,A,P=0,B=Infinity,E){A=Math.floor(A);P=Math.floor(Math.max(0,P));B=Math.floor(Math.min(D.length-1,B));if(!(P<=A&&A<=B))return D;for(E=void 0===E?ec:Xb(E);B>P;){if(600<B-P){var I=B-P+1,X=A-P+1,Ea=Math.log(I),R=.5*
Math.exp(2*Ea/3);Ea=.5*Math.sqrt(Ea*R*(I-R)/I)*(0>X-I/2?-1:1);ub(D,A,Math.max(P,Math.floor(A-X*R/I+Ea)),Math.min(B,Math.floor(A+(I-X)*R/I+Ea)),E)}I=D[A];X=P;R=B;Lb(D,P,A);for(0<E(D[B],I)&&Lb(D,P,B);X<R;){Lb(D,X,R);++X;for(--R;0>E(D[X],I);)++X;for(;0<E(D[R],I);)--R}0===E(D[P],I)?Lb(D,P,R):(++R,Lb(D,R,B));R<=A&&(P=R+1);A<=R&&(B=R-1)}return D}function Lb(D,A,P){const B=D[A];D[A]=D[P];D[P]=B}function Yb(D,A,P){D=Float64Array.from(vb(D,P));if((P=D.length)&&!isNaN(A=+A)){if(0>=A||2>P)return yb(D);if(1<=
A)return Bb(D);A*=P-1;P=Math.floor(A);var B=Bb(ub(D,P).subarray(0,P+1));D=yb(D.subarray(P+1));return B+(D-B)*(A-P)}}function Ba(D,A,P=$a){if((B=D.length)&&!isNaN(A=+A)){if(0>=A||2>B)return+P(D[0],0,D);if(1<=A)return+P(D[B-1],B-1,D);var B;A*=B-1;B=Math.floor(A);var E=+P(D[B],B,D);D=+P(D[B+1],B+1,D);return E+(D-E)*(A-B)}}function bb(D,A,P){const B=Float64Array.from(l(D,P));B.sort(ja);return A.map(E=>Ba(B,E))}function Cb(D,A){return bb(D,[.25,.5,.75],A)}function xb(D,A){const P=D.length;{var B=0;let I,
X=0,Ea=0;if(void 0===A)for(var E of D)null!=E&&(E=+E)>=E&&(I=E-X,X+=I/++B,Ea+=I*(E-X));else{E=-1;for(let R of D)null!=(R=A(R,++E,D))&&(R=+R)>=R&&(I=R-X,X+=I/++B,Ea+=I*(R-X))}B=1<B?Ea/(B-1):void 0}B=B?Math.sqrt(B):B;D=Cb(D,A);return 1.06*(Math.min(B,(D[2]-D[0])/1.34)||B||Math.abs(D[0])||1)*Math.pow(P,-.2)}function nb(D,A){const P=D.length;let B=0,E=1,I,X;for(;D[B]===D[E];)++E;for(;E<P;){for(I=E+1;D[E]===D[I];)++I;if(D[E]-D[E-1]<A){for(X=E+(B+I-E-E>>1);X<E;)D[X++]=D[E];for(;X>E;)D[X--]=D[B]}B=E;E=I}return D}
function Db(D,A){D=D||0;A=null==A?1:A;let P,B;if(y===y)P=y,y=NaN;else{do{P=2*u.random()-1;B=2*u.random()-1;var E=P*P+B*B}while(0===E||1<E);E=Math.sqrt(-2*Math.log(E)/E);P*=E;y=B*E}return D+P*A}function lb(D,A,P){P=null==P?1:P;D=(D-(A||0))/P;return Math.exp(-.5*D*D)/(P*G)}function lc(D,A,P){D=(D-(A||0))/(null==P?1:P);A=Math.abs(D);37<A?P=0:(P=Math.exp(-A*A/2),7.07106781186547>A?(P*=(((((.0352624965998911*A+.700383064443688)*A+6.37396220353165)*A+33.912866078383)*A+112.079291497871)*A+221.213596169931)*
A+220.206867912376,P/=((((((.0883883476483184*A+1.75566716318264)*A+16.064177579207)*A+86.7807322029461)*A+296.564248779674)*A+637.333633378831)*A+793.826512519948)*A+440.413735824752):P=P/(A+1/(A+2/(A+3/(A+4/(A+.65)))))/2.506628274631);return 0<D?1-P:P}function ua(D,A,P){if(0>D||1<D)return NaN;D=2*D-1;var B=-Math.log((1-D)*(1+D));6.25>B?(B-=3.125,B=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+
(4.2347877827932404E-7+(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B):16>B?(B=Math.sqrt(B)-3.25,B=3.0838856104922208+(1.0052589676941592+
(.005370914553590064+(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B):Number.isFinite(B)?(B=Math.sqrt(B)-5,B=4.849906401408584+(1.0103004648645344+
(-1.3871931833623122E-4+(-2.1503011930044477E-4+(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B)*B):B=Infinity;return(A||0)+(null==P?1:P)*M*B*D}function ha(D,A){let P,B;const E={mean(I){return arguments.length?(P=
I||0,E):P},stdev(I){return arguments.length?(B=null==I?1:I,E):B},sample:()=>Db(P,B),pdf:I=>lb(I,P,B),cdf:I=>lc(I,P,B),icdf:I=>ua(I,P,B)};return E.mean(D).stdev(A)}function xa(D,A){A=null==A?1:A;return Math.exp((D||0)+Db()*A)}function Ua(D,A,P){if(0>=D)return 0;P=null==P?1:P;A=(Math.log(D)-(A||0))/P;return Math.exp(-.5*A*A)/(P*G*D)}function Xa(D,A,P){return lc(Math.log(D),A,P)}function Ka(D,A,P){return Math.exp(ua(D,A,P))}function jb(D,A){null==A&&(A=null==D?1:D,D=0);return D+(A-D)*u.random()}function gb(D,
A,P){null==P&&(P=null==A?1:A,A=0);return D>=A&&D<=P?1/(P-A):0}function wb(D,A,P){null==P&&(P=null==A?1:A,A=0);return D<A?0:D>P?1:(D-A)/(P-A)}function Ub(D,A,P){null==P&&(P=null==A?1:A,A=0);return 0<=D&&1>=D?A+D*(P-A):NaN}function Na(D,A,P){let B=0,E=0;for(const I of D)D=P(I),null==A(I)||null==D||isNaN(D)||(B+=(D-B)/++E);return{coef:[B],predict:()=>B,rSquared:0}}function U(D,A,P,B){B-=D*D;P=1E-24>Math.abs(B)?0:(P-D*A)/B;return[A-P*D,P]}function ea(D,A,P,B){D=D.filter(Pa=>{let Ra=A(Pa);Pa=P(Pa);return null!=
Ra&&(Ra=+Ra)>=Ra&&null!=Pa&&(Pa=+Pa)>=Pa});B&&D.sort((Pa,Ra)=>A(Pa)-A(Ra));B=D.length;const E=new Float64Array(B),I=new Float64Array(B);let X=0,Ea=0,R=0,ia,Aa;for(Aa of D)E[X]=D=+A(Aa),I[X]=ia=+P(Aa),++X,Ea+=(D-Ea)/X,R+=(ia-R)/X;for(X=0;X<B;++X)E[X]-=Ea,I[X]-=R;return[E,I,Ea,R]}function Ha(D,A,P,B){let E=-1,I;for(const X of D)D=A(X),I=P(X),null!=D&&(D=+D)>=D&&null!=I&&(I=+I)>=I&&B(D,I,++E)}function Y(D,A,P,B,E){let I=0,X=0;Ha(D,A,P,(Ea,R)=>{Ea=R-E(Ea);R-=B;I+=Ea*Ea;X+=R*R});return 1-I/X}function Ca(D,
A,P){let B=0,E=0,I=0,X=0,Ea=0;Ha(D,A,P,(Aa,Pa)=>{++Ea;B+=(Aa-B)/Ea;E+=(Pa-E)/Ea;I+=(Aa*Pa-I)/Ea;X+=(Aa*Aa-X)/Ea});const R=U(B,E,I,X),ia=Aa=>R[0]+R[1]*Aa;return{coef:R,predict:ia,rSquared:Y(D,A,P,E,ia)}}function ma(D,A,P){const [B,E,I,X]=ea(D,A,P);var Ea=B.length,R=0;let ia=0;var Aa=0;let Pa=0,Ra=0,fb,zb,kb,Vb;for(fb=0;fb<Ea;)zb=B[fb],kb=E[fb++],Vb=zb*zb,R+=(Vb-R)/fb,ia+=(Vb*zb-ia)/fb,Aa+=(Vb*Vb-Aa)/fb,Pa+=(zb*kb-Pa)/fb,Ra+=(Vb*kb-Ra)/fb;Ea=Aa-R*R;Aa=R*Ea-ia*ia;const aa=(Ra*R-Pa*ia)/Aa,Ga=(Pa*Ea-Ra*
ia)/Aa,Qb=-aa*R;R=nc=>{nc-=I;return aa*nc*nc+Ga*nc+Qb+X};return{coef:[Qb-Ga*I+aa*I*I+X,Ga-2*aa*I,aa],predict:R,rSquared:Y(D,A,P,X,R)}}function na(D,A,P,B){const E=Array(D);let I,X,Ea;for(I=0;I<D;++I)E[I]=0;for(I=D-1;0<=I;--I)for(X=A[I],Ea=1,E[I]+=X,D=1;D<=I;++D)Ea*=(I+1-D)/D,E[I-D]+=X*Math.pow(P,D)*Ea;E[0]+=B;return E}function n(D){const A=D.length-1,P=[];let B,E,I,X,Ea;for(B=0;B<A;++B){X=B;for(E=B+1;E<A;++E)Math.abs(D[B][E])>Math.abs(D[B][X])&&(X=E);for(I=B;I<A+1;++I)Ea=D[I][B],D[I][B]=D[I][X],D[I][X]=
Ea;for(E=B+1;E<A;++E)for(I=A;I>=B;I--)D[I][E]-=D[I][B]*D[B][E]/D[B][B]}for(E=A-1;0<=E;--E){Ea=0;for(I=E+1;I<A;++I)Ea+=D[I][E]*P[I];P[E]=(D[A][E]-Ea)/D[E][E]}return P}u.random=Math.random;const G=Math.sqrt(2*Math.PI),M=Math.SQRT2;let y=NaN;const T=.5*Math.PI/180;u.bandwidthNRD=xb;u.bin=function(D){var A=D.maxbins||20;const P=D.base||10,B=Math.log(P),E=D.divide||[5,2];let I=D.extent[0],X=D.extent[1];let Ea,R,ia,Aa;const Pa=D.span||X-I||Math.abs(I)||1;if(D.step)var Ra=D.step;else if(D.steps){R=Pa/A;
ia=0;for(Aa=D.steps.length;ia<Aa&&D.steps[ia]<R;++ia);Ra=D.steps[Math.max(0,ia-1)]}else{Ra=Math.ceil(Math.log(A)/B);Ea=D.minstep||0;for(Ra=Math.max(Ea,Math.pow(P,Math.round(Math.log(Pa)/B)-Ra));Math.ceil(Pa/Ra)>A;)Ra*=P;ia=0;for(Aa=E.length;ia<Aa;++ia)R=Ra/E[ia],R>=Ea&&Pa/R<=A&&(Ra=R)}R=Math.log(Ra);A=Math.pow(P,-(0<=R?0:~~(-R/B)+1)-1);if(D.nice||void 0===D.nice)R=Math.floor(I/Ra+A)*Ra,I=I<R?R-Ra:R,X=Math.ceil(X/Ra)*Ra;return{start:I,stop:X===I?I+Ra:X,step:Ra}};u.bootstrapCI=function(D,A,P,B){if(!D.length)return[void 0,
void 0];D=Float64Array.from(l(D,B));B=D.length;let E,I,X,Ea;X=0;for(Ea=Array(A);X<A;++X){for(I=E=0;I<B;++I)E+=D[~~(u.random()*B)];Ea[X]=E/B}Ea.sort(ja);return[Yb(Ea,P/2),Yb(Ea,1-P/2)]};u.cumulativeLogNormal=Xa;u.cumulativeNormal=lc;u.cumulativeUniform=wb;u.densityLogNormal=Ua;u.densityNormal=lb;u.densityUniform=gb;u.dotbin=function(D,A,P,B){B=B||(Ra=>Ra);const E=D.length,I=new Float64Array(E);let X=0,Ea=1,R=B(D[0]),ia=R,Aa=R+A,Pa;for(;Ea<E;++Ea){Pa=B(D[Ea]);if(Pa>=Aa){for(ia=(R+ia)/2;X<Ea;++X)I[X]=
ia;Aa=Pa+A;R=Pa}ia=Pa}for(ia=(R+ia)/2;X<Ea;++X)I[X]=ia;return P?nb(I,A+A/4):I};u.quantileLogNormal=Ka;u.quantileNormal=ua;u.quantileUniform=Ub;u.quantiles=bb;u.quartiles=Cb;u.randomInteger=function(D,A){null==A&&(A=D,D=0);let P,B,E;const I={min(X){return arguments.length?(P=X||0,E=B-P,I):P},max(X){return arguments.length?(B=X||0,E=B-P,I):B},sample(){return P+Math.floor(E*u.random())},pdf(X){return X===Math.floor(X)&&X>=P&&X<B?1/E:0},cdf(X){X=Math.floor(X);return X<P?0:X>=B?1:(X-P+1)/E},icdf(X){return 0<=
X&&1>=X?P-1+Math.floor(X*E):NaN}};return I.min(D).max(A)};u.randomKDE=function(D,A){const P=ha();let B=0;const E={data(I){return arguments.length?(B=(D=I)?I.length:0,E.bandwidth(A)):D},bandwidth(I){if(!arguments.length)return A;A=I;!A&&D&&(A=xb(D));return E},sample(){return D[~~(u.random()*B)]+A*P.sample()},pdf(I){let X=0,Ea=0;for(;Ea<B;++Ea)X+=P.pdf((I-D[Ea])/A);return X/A/B},cdf(I){let X=0,Ea=0;for(;Ea<B;++Ea)X+=P.cdf((I-D[Ea])/A);return X/B},icdf(){throw Error("KDE icdf not supported.");}};return E.data(D)};
u.randomLCG=function(D){return function(){D=(1103515245*D+12345)%2147483647;return D/2147483647}};u.randomLogNormal=function(D,A){let P,B;const E={mean(I){return arguments.length?(P=I||0,E):P},stdev(I){return arguments.length?(B=null==I?1:I,E):B},sample:()=>xa(P,B),pdf:I=>Ua(I,P,B),cdf:I=>Xa(I,P,B),icdf:I=>Ka(I,P,B)};return E.mean(D).stdev(A)};u.randomMixture=function(D,A){let P=0,B;const E={weights(I){if(arguments.length){var X=A=I||[];const Ea=[];let R=0,ia;for(ia=0;ia<P;++ia)R+=Ea[ia]=null==X[ia]?
1:+X[ia];for(ia=0;ia<P;++ia)Ea[ia]/=R;B=Ea;return E}return A},distributions(I){return arguments.length?(I?(P=I.length,D=I):(P=0,D=[]),E.weights(A)):D},sample(){const I=u.random();let X=D[P-1],Ea=B[0],R=0;for(;R<P-1;Ea+=B[++R])if(I<Ea){X=D[R];break}return X.sample()},pdf(I){let X=0,Ea=0;for(;Ea<P;++Ea)X+=B[Ea]*D[Ea].pdf(I);return X},cdf(I){let X=0,Ea=0;for(;Ea<P;++Ea)X+=B[Ea]*D[Ea].cdf(I);return X},icdf(){throw Error("Mixture icdf not supported.");}};return E.distributions(D).weights(A)};u.randomNormal=
ha;u.randomUniform=function(D,A){let P,B;const E={min(I){return arguments.length?(P=I||0,E):P},max(I){return arguments.length?(B=null==I?1:I,E):B},sample:()=>jb(P,B),pdf:I=>gb(I,P,B),cdf:I=>wb(I,P,B),icdf:I=>Ub(I,P,B)};null==A&&(A=null==D?1:D,D=0);return E.min(D).max(A)};u.regressionConstant=Na;u.regressionExp=function(D,A,P){const [B,,E,I]=ea(D,A,P);let X=0,Ea=0,R=0,ia=0,Aa=0,Pa,Ra,fb;Ha(D,A,P,(aa,Ga)=>{Pa=B[Aa++];Ra=Math.log(Ga);fb=Pa*Ga;X+=(Ga*Ra-X)/Aa;Ea+=(fb-Ea)/Aa;R+=(fb*Ra-R)/Aa;ia+=(Pa*fb-
ia)/Aa});const [zb,kb]=U(Ea/I,X/I,R/I,ia/I),Vb=aa=>Math.exp(zb+kb*(aa-E));return{coef:[Math.exp(zb-kb*E),kb],predict:Vb,rSquared:Y(D,A,P,I,Vb)}};u.regressionLinear=Ca;u.regressionLoess=function(D,A,P,B){const [E,I,X,Ea]=ea(D,A,P,!0);D=E.length;A=Math.max(2,~~(B*D));B=new Float64Array(D);P=new Float64Array(D);var R=(new Float64Array(D)).fill(1);for(var ia=-1;2>=++ia;){var Aa=[0,A-1];for(let Qb=0;Qb<D;++Qb){var Pa=E[Qb],Ra=Aa[0],fb=Aa[1],zb=0,kb=0,Vb=0,aa=0;let nc=0;const $b=1/Math.abs(E[Pa-E[Ra]>E[fb]-
Pa?Ra:fb]-Pa||1);for(;Ra<=fb;++Ra){const rc=E[Ra],Sc=I[Ra];var Ga=Math.abs(Pa-rc)*$b;const ra=(Ga=1-Ga*Ga*Ga)*Ga*Ga*R[Ra];Ga=rc*ra;zb+=ra;kb+=Ga;Vb+=Sc*ra;aa+=Sc*Ga;nc+=rc*Ga}const [Ob,Nb]=U(kb/zb,Vb/zb,aa/zb,nc/zb);B[Qb]=Ob+Nb*Pa;P[Qb]=Math.abs(I[Qb]-B[Qb]);Pa=E;fb=Qb+1;zb=Aa;kb=Pa[fb];Vb=zb[0];aa=zb[1]+1;if(!(aa>=Pa.length))for(;fb>Vb&&Pa[aa]-kb<=kb-Pa[Vb];)zb[0]=++Vb,zb[1]=aa,++aa}if(2===ia)break;Aa=Yb(P,.5,void 0);if(1E-12>Math.abs(Aa))break;for(let Qb=0,nc,$b;Qb<D;++Qb)nc=P[Qb]/(6*Aa),R[Qb]=
1<=nc?1E-12:($b=1-nc*nc)*$b}D=E.length;A=[];R=P=0;for(ia=[];P<D;++P)Aa=E[P]+X,ia[0]===Aa?ia[1]+=(B[P]-ia[1])/++R:(R=0,ia[1]+=Ea,ia=[Aa,B[P]],A.push(ia));ia[1]+=Ea;return A};u.regressionLog=function(D,A,P){let B=0,E=0,I=0,X=0,Ea=0;Ha(D,A,P,(Aa,Pa)=>{++Ea;Aa=Math.log(Aa);B+=(Aa-B)/Ea;E+=(Pa-E)/Ea;I+=(Aa*Pa-I)/Ea;X+=(Aa*Aa-X)/Ea});const R=U(B,E,I,X),ia=Aa=>R[0]+R[1]*Math.log(Aa);return{coef:R,predict:ia,rSquared:Y(D,A,P,E,ia)}};u.regressionPoly=function(D,A,P,B){if(0===B)return Na(D,A,P);if(1===B)return Ca(D,
A,P);if(2===B)return ma(D,A,P);const [E,I,X,Ea]=ea(D,A,P);var R=E.length;const ia=[],Aa=[],Pa=B+1;let Ra,fb,zb,kb;for(Ra=0;Ra<Pa;++Ra){for(zb=fb=0;fb<R;++fb)zb+=Math.pow(E[fb],Ra)*I[fb];ia.push(zb);kb=new Float64Array(Pa);for(B=0;B<Pa;++B){for(zb=fb=0;fb<R;++fb)zb+=Math.pow(E[fb],Ra+B);kb[B]=zb}Aa.push(kb)}Aa.push(ia);const Vb=n(Aa);R=aa=>{aa-=X;let Ga=Ea+Vb[0]+Vb[1]*aa+Vb[2]*aa*aa;for(Ra=3;Ra<Pa;++Ra)Ga+=Vb[Ra]*Math.pow(aa,Ra);return Ga};return{coef:na(Pa,Vb,-X,Ea),predict:R,rSquared:Y(D,A,P,Ea,
R)}};u.regressionPow=function(D,A,P){let B=0,E=0,I=0,X=0,Ea=0,R=0;Ha(D,A,P,(Pa,Ra)=>{Pa=Math.log(Pa);const fb=Math.log(Ra);++R;B+=(Pa-B)/R;E+=(fb-E)/R;I+=(Pa*fb-I)/R;X+=(Pa*Pa-X)/R;Ea+=(Ra-Ea)/R});const ia=U(B,E,I,X),Aa=Pa=>ia[0]*Math.pow(Pa,ia[1]);ia[0]=Math.exp(ia[0]);return{coef:ia,predict:Aa,rSquared:Y(D,A,P,Ea,Aa)}};u.regressionQuad=ma;u.sampleCurve=function(D,A,P,B){P=P||25;B=Math.max(P,B||200);var E=A[0],I=A[1],X=I-E,Ea=X/B;A=[[E,D(E)]];var R=[];if(P===B){for(var ia=1;ia<B;++ia){Ea=A;R=Ea.push;
var Aa=E+ia/P*X;Aa=[Aa,D(Aa)];R.call(Ea,Aa)}A.push([I,D(I)]);return A}R.push([I,D(I)]);for(ia=P;0<--ia;)B=R,I=B.push,Aa=E+ia/P*X,Aa=[Aa,D(Aa)],I.call(B,Aa);P=A[0];E=R[R.length-1];X=1/X;B=I=P[1];ia=R.length;for(Aa=0;Aa<ia;++Aa){const Pa=R[Aa][1];Pa<B&&(B=Pa);Pa>I&&(I=Pa)}for(B=1/(I-B);E;)I=(P[0]+E[0])/2,I=[I,D(I)],I[0]-P[0]>=Ea&&Math.abs(Math.atan2(B*(E[1]-P[1]),X*(E[0]-P[0]))-Math.atan2(B*(I[1]-P[1]),X*(I[0]-P[0])))>T?R.push(I):(P=E,A.push(E),R.pop()),E=R[R.length-1];return A};u.sampleLogNormal=xa;
u.sampleNormal=Db;u.sampleUniform=jb;u.setRandom=function(D){u.random=D}})};
shadow$provide[34]=function(Fb,pb,zc,Za){(function(u,l){"object"===typeof Za&&"undefined"!==typeof zc?l(Za,pb(24),pb(32),pb(33),pb(26)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow","vega-statistics","vega-time"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega,u.vega,u.vega,u.vega))})(this,function(u,l,ja,$a,vb){function Xb(z){return J=>{const va=z.length;let w=1,Q=String(z[0](J));for(;w<va;++w)Q+="|"+z[w](J);return Q}}function ec(z){return z&&
z.length?1===z.length?z[0]:Xb(z):function(){return""}}function Bb(z,J){return(va,w)=>l.extend({name:z,aggregate_param:w,out:va||z},Pb,J)}function yb(z,J){return z.idx-J.idx}function ub(z){const J={};z.forEach(w=>J[w.name]=w);const va=w=>{w.req&&w.req.forEach(Q=>{J[Q]||va(J[Q]=uc[Q]())})};z.forEach(va);return Object.values(J).sort(yb)}function Lb(){this.missing=this.valid=0;this._ops.forEach(z=>null==z.aggregate_param?z.init(this):z.init(this,z.aggregate_param))}function Yb(z,J){null==z||""===z?++this.missing:
z===z&&(++this.valid,this._ops.forEach(va=>va.add(this,z,J)))}function Ba(z,J){null==z||""===z?--this.missing:z===z&&(--this.valid,this._ops.forEach(va=>va.rem(this,z,J)))}function bb(z){this._out.forEach(J=>z[J.out]=J.value(this));return z}function Cb(z,J){function va(ca){this._ops=w;this._out=Q;this.cell=ca;this.init()}J=J||l.identity;const w=ub(z),Q=z.slice().sort(yb);va.prototype.init=Lb;va.prototype.add=Yb;va.prototype.rem=Ba;va.prototype.set=bb;va.prototype.get=J;va.fields=z.map(ca=>ca.out);
return va}function xb(z){this._key=z?l.field(z):ja.tupleid;this.reset()}function nb(z){ja.Transform.call(this,null,z);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function Db(z){ja.Transform.call(this,null,z)}function lb(z,J,va){let w=J||[],Q=va||[],ca={},wa=0;return{add:pa=>Q.push(pa),remove:pa=>ca[z(pa)]=++wa,size:()=>w.length,data:(pa,Ya)=>
{wa&&(w=w.filter(Tb=>!ca[z(Tb)]),ca={},wa=0);Ya&&pa&&w.sort(pa);Q.length&&(w=pa?l.merge(pa,w,Q.sort(pa)):w.concat(Q),Q=[]);return w}}}function lc(z){ja.Transform.call(this,[],z)}function ua(z){ja.Operator.call(this,null,ha,z)}function ha(z){return this.value&&!z.modified()?this.value:l.compare(z.fields,z.orders)}function xa(z){ja.Transform.call(this,null,z)}function Ua(z){ja.Transform.call(this,null,z)}function Xa(z,J){var va=z["function"];l.hasOwnProperty(md,va)||l.error("Unknown distribution function: "+
va);va=md[va]();for(const w in z)if("field"===w)va.data((z.from||J()).map(z[w]));else if("distributions"===w)va[w](z[w].map(Q=>Xa(Q,J)));else if("function"===typeof va[w])va[w](z[w]);return va}function Ka(z){ja.Transform.call(this,null,z)}function jb(z){return()=>z.materialize(z.SOURCE).source}function gb(z,J){return z?z.map((va,w)=>J[w]||l.accessorName(va)):null}function wb(z,J,va){const w=[],Q=jc=>jc(Ya);let ca,wa,pa,Ya,Tb,Zb;if(null==J)w.push(z.map(va));else for(ca={},wa=0,pa=z.length;wa<pa;++wa)Ya=
z[wa],Tb=J.map(Q),Zb=ca[Tb],Zb||(ca[Tb]=Zb=[],Zb.dims=Tb,w.push(Zb)),Zb.push(va(Ya));return w}function Ub(z){ja.Transform.call(this,null,z)}function Na(z){ja.Operator.call(this,null,U,z);this.modified(!0)}function U(z){const J=z.expr;return this.value&&!z.modified("expr")?this.value:l.accessor(va=>J(va,z),l.accessorFields(J),l.accessorName(J))}function ea(z){ja.Transform.call(this,[void 0,void 0],z)}function Ha(z,J){ja.Operator.call(this,z);this.parent=J;this.count=0}function Y(z){ja.Transform.call(this,
{},z);this._keys=l.fastmap();const J=this._targets=[];J.active=0;J.forEach=va=>{for(let w=0,Q=J.active;w<Q;++w)va(J[w],w,J)}}function Ca(z){ja.Operator.call(this,null,ma,z)}function ma(z){return this.value&&!z.modified()?this.value:l.isArray(z.name)?l.array(z.name).map(J=>l.field(J)):l.field(z.name,z.as)}function na(z){ja.Transform.call(this,l.fastmap(),z)}function n(z){ja.Transform.call(this,[],z)}function G(z){ja.Transform.call(this,[],z)}function M(z){ja.Transform.call(this,null,z)}function y(z){ja.Transform.call(this,
[],z)}function T(z,J){return null==z||null==J?NaN:z<J?-1:z>J?1:z>=J?0:NaN}function D(z,J){return null==z||null==J?NaN:J<z?-1:J>z?1:J>=z?0:NaN}function A(z){function J(ca,wa,pa=0,Ya=ca.length){if(pa<Ya){if(0!==va(wa,wa))return Ya;do{const Tb=pa+Ya>>>1;0>w(ca[Tb],wa)?pa=Tb+1:Ya=Tb}while(pa<Ya)}return pa}let va,w,Q;2!==z.length?(va=T,w=(ca,wa)=>T(z(ca),wa),Q=(ca,wa)=>z(ca)-wa):(va=z===T||z===D?z:P,Q=w=z);return{left:J,center:function(ca,wa,pa=0,Ya=ca.length){Ya=J(ca,wa,pa,Ya-1);return Ya>pa&&Q(ca[Ya-
1],wa)>-Q(ca[Ya],wa)?Ya-1:Ya},right:function(ca,wa,pa=0,Ya=ca.length){if(pa<Ya){if(0!==va(wa,wa))return Ya;do{const Tb=pa+Ya>>>1;0>=w(ca[Tb],wa)?pa=Tb+1:Ya=Tb}while(pa<Ya)}return pa}}}function P(){return 0}function*B(z,J){if(void 0===J)for(var va of z)null!=va&&(va=+va)>=va&&(yield va);else{va=-1;for(let w of z)null!=(w=J(w,++va,z))&&(w=+w)>=w&&(yield w)}}function E(z=T){if(z===T)return I;if("function"!==typeof z)throw new TypeError("compare is not a function");return(J,va)=>{const w=z(J,va);return w||
0===w?w:(0===z(va,va))-(0===z(J,J))}}function I(z,J){return(null==z||!(z>=z))-(null==J||!(J>=J))||(z<J?-1:z>J?1:0)}function X(z,J){let va;if(void 0===J)for(var w of z)null!=w&&(va<w||void 0===va&&w>=w)&&(va=w);else{w=-1;for(let Q of z)null!=(Q=J(Q,++w,z))&&(va<Q||void 0===va&&Q>=Q)&&(va=Q)}return va}function Ea(z,J){let va;if(void 0===J)for(var w of z)null!=w&&(va>w||void 0===va&&w>=w)&&(va=w);else{w=-1;for(let Q of z)null!=(Q=J(Q,++w,z))&&(va>Q||void 0===va&&Q>=Q)&&(va=Q)}return va}function R(z,
J,va=0,w=Infinity,Q){J=Math.floor(J);va=Math.floor(Math.max(0,va));w=Math.floor(Math.min(z.length-1,w));if(!(va<=J&&J<=w))return z;for(Q=void 0===Q?I:E(Q);w>va;){if(600<w-va){var ca=w-va+1,wa=J-va+1,pa=Math.log(ca),Ya=.5*Math.exp(2*pa/3);pa=.5*Math.sqrt(pa*Ya*(ca-Ya)/ca)*(0>wa-ca/2?-1:1);R(z,J,Math.max(va,Math.floor(J-wa*Ya/ca+pa)),Math.min(w,Math.floor(J+(ca-wa)*Ya/ca+pa)),Q)}ca=z[J];wa=va;Ya=w;ia(z,va,J);for(0<Q(z[w],ca)&&ia(z,va,w);wa<Ya;){ia(z,wa,Ya);++wa;for(--Ya;0>Q(z[wa],ca);)++wa;for(;0<Q(z[Ya],
ca);)--Ya}0===Q(z[va],ca)?ia(z,va,Ya):(++Ya,ia(z,Ya,w));Ya<=J&&(va=Ya+1);J<=Ya&&(w=Ya-1)}return z}function ia(z,J,va){const w=z[J];z[J]=z[va];z[va]=w}function Aa(z,J,va){z=+z;J=+J;va=2>(Q=arguments.length)?(J=z,z=0,1):3>Q?1:+va;for(var w=-1,Q=Math.max(0,Math.ceil((J-z)/va))|0,ca=Array(Q);++w<Q;)ca[w]=z+w*va;return ca}function Pa(z){ja.Transform.call(this,[],z)}function Ra(z){var J=z.method||Tc.value;if(null==Tc[J])l.error("Unrecognized imputation method: "+J);else{if(J===Tc.value){var va=void 0!==
z.value?z.value:0;return()=>va}return Tc[J]}}function fb(z){const J=z.field;return va=>va?J(va):NaN}function zb(z,J,va,w){var Q=od=>od(jc),ca=[];w=w?w.slice():[];var wa={},pa={},Ya,Tb;w.forEach((od,sd)=>wa[od]=sd+1);var Zb=0;for(Tb=z.length;Zb<Tb;++Zb){var jc=z[Zb];var Cc=va(jc);var Oc=wa[Cc]||(wa[Cc]=w.push(Cc));var Rc=(Cc=J?J.map(Q):ld)+"";(Ya=pa[Rc])||(Ya=pa[Rc]=[],ca.push(Ya),Ya.values=Cc);Ya[Oc-1]=jc}ca.domain=w;return ca}function kb(z){nb.call(this,z)}function Vb(z){ja.Transform.call(this,null,
z)}function aa(z){ja.Operator.call(this,null,Ga,z)}function Ga(z){return this.value&&!z.modified()?this.value:l.key(z.fields,z.flat)}function Qb(z){ja.Transform.call(this,[],z);this._pending=null}function nc(z){return z.modified("async")&&!(z.modified("values")||z.modified("url")||z.modified("format"))}function $b(z,J,va){va.forEach(ja.ingest);J=J.fork(J.NO_FIELDS&J.NO_SOURCE);J.rem=z.value;z.value=J.source=J.add=va;z._pending=null;J.rem.length&&J.clean(!0);return J}function Ob(z){ja.Transform.call(this,
{},z)}function Nb(z){ja.Operator.call(this,null,rc,z)}function rc(z){if(this.value&&!z.modified())return this.value;z=z.extents;const J=z.length;let va=Infinity,w=-Infinity,Q,ca;for(Q=0;Q<J;++Q)ca=z[Q],ca[0]<va&&(va=ca[0]),ca[1]>w&&(w=ca[1]);return[va,w]}function Sc(z){ja.Operator.call(this,null,ra,z)}function ra(z){return this.value&&!z.modified()?this.value:z.values.reduce((J,va)=>J.concat(va),[])}function Gb(z){ja.Transform.call(this,null,z)}function Va(z){nb.call(this,z)}function Ab(z,J){const va=
z.field,w=z.value,Q=("count"===z.op?"__count__":z.op)||"sum",ca=l.accessorFields(va).concat(l.accessorFields(w)),wa=Eb(va,z.limit||0,J);J.changed()&&z.set("__pivot__",null,null,!0);return{key:z.key,groupby:z.groupby,ops:wa.map(()=>Q),fields:wa.map(pa=>Jb(pa,va,w,ca)),as:wa.map(pa=>pa+""),modified:z.modified.bind(z)}}function Jb(z,J,va,w){return l.accessor(Q=>J(Q)===z?va(Q):NaN,w,z+"")}function Eb(z,J,va){const w={},Q=[];va.visit(va.SOURCE,ca=>{ca=z(ca);w[ca]||(w[ca]=1,Q.push(ca))});Q.sort(l.ascending);
return J?Q.slice(0,J):Q}function Wb(z){Y.call(this,z)}function ic(z){ja.Transform.call(this,null,z)}function wc(z){ja.Transform.call(this,null,z)}function Zc(z){ja.Transform.call(this,null,z)}function Pc(z){ja.Transform.call(this,null,z)}function oa(z){ja.Transform.call(this,[],z);this.count=0}function Ma(z){ja.Transform.call(this,null,z)}function ib(z){ja.Transform.call(this,null,z);this.modified(!0)}function V(z){ja.Transform.call(this,null,z)}function x(z){ja.Transform.call(this,l.fastmap(),z)}
function da(z){ja.Transform.call(this,null,z)}function ya(z,J,va,w){const Q=dd[z](J,va);return{init:Q.init||l.zero,update:function(ca,wa){wa[w]=Q.next(ca)}}}function Ia(z){function J(Rc){l.array(l.accessorFields(Rc)).forEach(od=>Tb[od]=1)}const va=l.array(z.ops),w=l.array(z.fields),Q=l.array(z.params),ca=l.array(z.aggregate_params),wa=l.array(z.as),pa=this.outputs=[],Ya=this.windows=[],Tb={},Zb={},jc=[],Cc=[];let Oc=!0;J(z.sort);va.forEach((Rc,od)=>{const sd=w[od];var zd=Q[od];const Zd=ca[od]||null,
Kd=l.accessorName(sd);od=wa[od]||Rc+(Kd?"_"+Kd:"");J(sd);pa.push(od);l.hasOwnProperty(dd,Rc)?Ya.push(ya(Rc,sd,zd,od)):(null==sd&&"count"!==Rc&&l.error("Null aggregate field specified."),"count"===Rc?jc.push(od):(Oc=!1,zd=Zb[Kd],zd||(zd=Zb[Kd]=[],zd.field=sd,Cc.push(zd)),zd.push(uc[Rc](od,Zd))))});if(jc.length||Cc.length)this.cell=Wa(Cc,jc,Oc);this.inputs=Object.keys(Tb)}function Wa(z,J,va){z=z.map(Ya=>Cb(Ya,Ya.field));const w={num:0,agg:null,store:!1,count:J};if(!va)for(var Q=z.length,ca=w.agg=Array(Q),
wa=0;wa<Q;++wa)ca[wa]=new z[wa](w);if(w.store)var pa=w.data=new xb;w.add=function(Ya){w.num+=1;if(!va){pa&&pa.add(Ya);for(let Tb=0;Tb<Q;++Tb)ca[Tb].add(ca[Tb].get(Ya),Ya)}};w.rem=function(Ya){--w.num;if(!va){pa&&pa.rem(Ya);for(let Tb=0;Tb<Q;++Tb)ca[Tb].rem(ca[Tb].get(Ya),Ya)}};w.set=function(Ya){let Tb,Zb;pa&&pa.values();Tb=0;for(Zb=J.length;Tb<Zb;++Tb)Ya[J[Tb]]=w.num;if(!va)for(Tb=0,Zb=ca.length;Tb<Zb;++Tb)ca[Tb].set(Ya)};w.init=function(){w.num=0;pa&&pa.reset();for(let Ya=0;Ya<Q;++Ya)ca[Ya].init()};
return w}function qb(z){ja.Transform.call(this,{},z);this._mlen=0;this._mods=[]}function Sb(z,J,va,w){var Q=w.sort;const ca=Q&&!w.ignorePeers;w=w.frame||[null,0];z=z.data(va);va=z.length;const wa=ca?A(Q):null;Q={i0:0,i1:0,p0:0,p1:0,index:0,data:z,compare:Q||l.constant(-1)};J.init();for(let jc=0;jc<va;++jc){var pa=Q,Ya=w,Tb=jc,Zb=va;pa.p0=pa.i0;pa.p1=pa.i1;pa.i0=null==Ya[0]?0:Math.max(0,Tb-Math.abs(Ya[0]));pa.i1=null==Ya[1]?Zb:Math.min(Zb,Tb+Math.abs(Ya[1])+1);pa.index=Tb;if(ca){pa=Q;Ya=wa;Tb=pa.i0;
Zb=pa.i1-1;const Cc=pa.compare,Oc=pa.data,Rc=Oc.length-1;0<Tb&&!Cc(Oc[Tb],Oc[Tb-1])&&(pa.i0=Ya.left(Oc,Oc[Tb]));Zb<Rc&&!Cc(Oc[Zb],Oc[Zb+1])&&(pa.i1=Ya.right(Oc,Oc[Zb]))}J.update(Q,z[jc])}}const Hb=()=>{},Pb={init:Hb,add:Hb,rem:Hb,idx:0},uc={values:{init:z=>z.cell.store=!0,value:z=>z.cell.data.values(),idx:-1},count:{value:z=>z.cell.num},__count__:{value:z=>z.missing+z.valid},missing:{value:z=>z.missing},valid:{value:z=>z.valid},sum:{init:z=>z.sum=0,value:z=>z.valid?z.sum:void 0,add:(z,J)=>z.sum+=
+J,rem:(z,J)=>z.sum-=J},product:{init:z=>z.product=1,value:z=>z.valid?z.product:void 0,add:(z,J)=>z.product*=J,rem:(z,J)=>z.product/=J},mean:{init:z=>z.mean=0,value:z=>z.valid?z.mean:void 0,add:(z,J)=>(z.mean_d=J-z.mean,z.mean+=z.mean_d/z.valid),rem:(z,J)=>(z.mean_d=J-z.mean,z.mean-=z.valid?z.mean_d/z.valid:z.mean)},average:{value:z=>z.valid?z.mean:void 0,req:["mean"],idx:1},variance:{init:z=>z.dev=0,value:z=>1<z.valid?z.dev/(z.valid-1):void 0,add:(z,J)=>z.dev+=z.mean_d*(J-z.mean),rem:(z,J)=>z.dev-=
z.mean_d*(J-z.mean),req:["mean"],idx:1},variancep:{value:z=>1<z.valid?z.dev/z.valid:void 0,req:["variance"],idx:2},stdev:{value:z=>1<z.valid?Math.sqrt(z.dev/(z.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:z=>1<z.valid?Math.sqrt(z.dev/z.valid):void 0,req:["variance"],idx:2},stderr:{value:z=>1<z.valid?Math.sqrt(z.dev/(z.valid*(z.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:z=>z.cell.data.distinct(z.get),req:["values"],idx:3},ci0:{value:z=>z.cell.data.ci0(z.get),req:["values"],
idx:3},ci1:{value:z=>z.cell.data.ci1(z.get),req:["values"],idx:3},median:{value:z=>z.cell.data.q2(z.get),req:["values"],idx:3},q1:{value:z=>z.cell.data.q1(z.get),req:["values"],idx:3},q3:{value:z=>z.cell.data.q3(z.get),req:["values"],idx:3},min:{init:z=>z.min=void 0,value:z=>z.min=Number.isNaN(z.min)?z.cell.data.min(z.get):z.min,add:(z,J)=>{if(J<z.min||void 0===z.min)z.min=J},rem:(z,J)=>{J<=z.min&&(z.min=NaN)},req:["values"],idx:4},max:{init:z=>z.max=void 0,value:z=>z.max=Number.isNaN(z.max)?z.cell.data.max(z.get):
z.max,add:(z,J)=>{if(J>z.max||void 0===z.max)z.max=J},rem:(z,J)=>{J>=z.max&&(z.max=NaN)},req:["values"],idx:4},argmin:{init:z=>z.argmin=void 0,value:z=>z.argmin||z.cell.data.argmin(z.get),add:(z,J,va)=>{J<z.min&&(z.argmin=va)},rem:(z,J)=>{J<=z.min&&(z.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:z=>z.argmax=void 0,value:z=>z.argmax||z.cell.data.argmax(z.get),add:(z,J,va)=>{J>z.max&&(z.argmax=va)},rem:(z,J)=>{J>=z.max&&(z.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(z,
J)=>{z.exp=0;z.exp_r=J},value:z=>z.valid?z.exp*(1-z.exp_r)/(1-Math.pow(z.exp_r,z.valid)):void 0,add:(z,J)=>z.exp=z.exp_r*z.exp+J,rem:(z,J)=>z.exp=(z.exp-J/Math.pow(z.exp_r,z.valid-1))/z.exp_r},exponentialb:{value:z=>z.valid?z.exp*(1-z.exp_r):void 0,req:["exponential"],idx:1}},yc=Object.keys(uc).filter(z=>"__count__"!==z);[...yc,"__count__"].forEach(z=>{uc[z]=Bb(z,uc[z])});const Kc=xb.prototype;Kc.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};Kc.add=function(z){this._add.push(z)};
Kc.rem=function(z){this._rem.push(z)};Kc.values=function(){this._get=null;if(0===this._rem.length)return this._add;const z=this._add;var J=this._rem;const va=this._key,w=z.length,Q=J.length,ca=Array(w-Q),wa={};let pa,Ya;for(pa=0;pa<Q;++pa)wa[va(J[pa])]=1;for(J=pa=0;pa<w;++pa)wa[va(Ya=z[pa])]?wa[va(Ya)]=0:ca[J++]=Ya;this._rem=[];return this._add=ca};Kc.distinct=function(z){const J=this.values(),va={};let w=J.length,Q=0,ca;for(;0<=--w;)ca=z(J[w])+"",l.hasOwnProperty(va,ca)||(va[ca]=1,++Q);return Q};
Kc.extent=function(z){if(this._get!==z||!this._ext){const J=this.values(),va=l.extentIndex(J,z);this._ext=[J[va[0]],J[va[1]]];this._get=z}return this._ext};Kc.argmin=function(z){return this.extent(z)[0]||{}};Kc.argmax=function(z){return this.extent(z)[1]||{}};Kc.min=function(z){const J=this.extent(z)[0];return null!=J?z(J):void 0};Kc.max=function(z){const J=this.extent(z)[1];return null!=J?z(J):void 0};Kc.quartile=function(z){this._get===z&&this._q||(this._q=$a.quartiles(this.values(),z),this._get=
z);return this._q};Kc.q1=function(z){return this.quartile(z)[0]};Kc.q2=function(z){return this.quartile(z)[1]};Kc.q3=function(z){return this.quartile(z)[2]};Kc.ci=function(z){this._get===z&&this._ci||(this._ci=$a.bootstrapCI(this.values(),1E3,.05,z),this._get=z);return this._ci};Kc.ci0=function(z){return this.ci(z)[0]};Kc.ci1=function(z){return this.ci(z)[1]};nb.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,
values:yc},{name:"aggregate_params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean","default":!1},{name:"key",type:"field"}]};l.inherits(nb,ja.Transform,{transform(z,J){const va=this,w=J.fork(J.NO_SOURCE|J.NO_FIELDS),Q=z.modified();va.stamp=w.stamp;va.value&&(Q||J.modified(va._inputs,!0))?(va._prev=va.value,va.value=Q?va.init(z):Object.create(null),
J.visit(J.SOURCE,ca=>va.add(ca))):(va.value=va.value||va.init(z),J.visit(J.REM,ca=>va.rem(ca)),J.visit(J.ADD,ca=>va.add(ca)));w.modifies(va._outputs);va._drop=!1!==z.drop;z.cross&&1<va._dims.length&&(va._drop=!1,va.cross());J.clean()&&va._drop&&w.clean(!0).runAfter(()=>this.clean());return va.changes(w)},cross(){function z(pa){let Ya,Tb,Zb,jc;for(Ya in pa)for(Zb=pa[Ya].tuple,Tb=0;Tb<wa;++Tb)ca[Tb][jc=Zb[Q[Tb]]]=jc}function J(pa,Ya,Tb){const Zb=Q[Tb],jc=ca[Tb++];for(const Cc in jc){const Oc=pa?pa+
"|"+Cc:Cc;Ya[Zb]=jc[Cc];Tb<wa?J(Oc,Ya,Tb):w[Oc]||va.cell(Oc,Ya)}}const va=this,w=va.value,Q=va._dnames,ca=Q.map(()=>({})),wa=Q.length;z(va._prev);z(w);J("",{},0)},init(z){function J(zd){zd=l.array(l.accessorFields(zd));const Zd=zd.length;let Kd=0,$d;for(;Kd<Zd;++Kd)Q[$d=zd[Kd]]||(Q[$d]=1,va.push($d))}const va=this._inputs=[],w=this._outputs=[],Q={};this._dims=l.array(z.groupby);this._dnames=this._dims.map(zd=>{const Zd=l.accessorName(zd);J(zd);w.push(Zd);return Zd});this.cellkey=z.key?z.key:ec(this._dims);
this._countOnly=!0;this._counts=[];this._measures=[];const ca=z.fields||[null],wa=z.ops||["count"],pa=z.aggregate_params||[null];z=z.as||[];const Ya=ca.length,Tb={};let Zb,jc,Cc,Oc,Rc,od,sd;Ya!==wa.length&&l.error("Unmatched number of fields and aggregate ops.");for(sd=0;sd<Ya;++sd)Zb=ca[sd],jc=wa[sd],Cc=pa[sd]||null,null==Zb&&"count"!==jc&&l.error("Null aggregate field specified."),Rc=l.accessorName(Zb),od=z[sd]||jc+(Rc?"_"+Rc:""),w.push(od),"count"===jc?this._counts.push(od):(Oc=Tb[Rc],Oc||(J(Zb),
Oc=Tb[Rc]=[],Oc.field=Zb,this._measures.push(Oc)),"count"!==jc&&(this._countOnly=!1),Oc.push(uc[jc](od,Cc)));this._measures=this._measures.map(zd=>Cb(zd,zd.field));return Object.create(null)},cellkey:ec(),cell(z,J){let va=this.value[z];va?0===va.num&&this._drop&&va.stamp<this.stamp?(va.stamp=this.stamp,this._adds[this._alen++]=va):va.stamp<this.stamp&&(va.stamp=this.stamp,this._mods[this._mlen++]=va):(va=this.value[z]=this.newcell(z,J),this._adds[this._alen++]=va);return va},newcell(z,J){z={key:z,
num:0,agg:null,tuple:this.newtuple(J,this._prev&&this._prev[z]),stamp:this.stamp,store:!1};if(!this._countOnly){J=this._measures;const va=J.length;z.agg=Array(va);for(let w=0;w<va;++w)z.agg[w]=new J[w](z)}z.store&&(z.data=new xb);return z},newtuple(z,J){const va=this._dnames,w=this._dims,Q=w.length,ca={};for(let wa=0;wa<Q;++wa)ca[va[wa]]=w[wa](z);return J?ja.replace(J.tuple,ca):ja.ingest(ca)},clean(){const z=this.value;for(const J in z)0===z[J].num&&delete z[J]},add(z){var J=this.cellkey(z);J=this.cell(J,
z);J.num+=1;if(!this._countOnly){J.store&&J.data.add(z);J=J.agg;for(let va=0,w=J.length;va<w;++va)J[va].add(J[va].get(z),z)}},rem(z){var J=this.cellkey(z);J=this.cell(J,z);--J.num;if(!this._countOnly){J.store&&J.data.rem(z);J=J.agg;for(let va=0,w=J.length;va<w;++va)J[va].rem(J[va].get(z),z)}},celltuple(z){const J=z.tuple,va=this._counts;z.store&&z.data.values();for(let w=0,Q=va.length;w<Q;++w)J[va[w]]=z.num;if(!this._countOnly){z=z.agg;for(let w=0,Q=z.length;w<Q;++w)z[w].set(J)}return J},changes(z){const J=
this._adds,va=this._mods;var w=this._prev;const Q=this._drop,ca=z.add,wa=z.rem,pa=z.mod;let Ya;var Tb;if(w)for(Tb in w)Ya=w[Tb],Q&&!Ya.num||wa.push(Ya.tuple);w=0;for(Tb=this._alen;w<Tb;++w)ca.push(this.celltuple(J[w])),J[w]=null;w=0;for(Tb=this._mlen;w<Tb;++w)Ya=va[w],(0===Ya.num&&Q?wa:pa).push(this.celltuple(Ya)),va[w]=null;this._alen=this._mlen=0;this._prev=null;return z}});Db.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",
"default":!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0",
"bin1"]}]};l.inherits(Db,ja.Transform,{transform(z,J){const va=!1!==z.interval,w=this._bins(z),Q=w.start,ca=w.step,wa=z.as||["bin0","bin1"],pa=wa[0],Ya=wa[1];z.modified()?(J=J.reflow(!0),z=J.SOURCE):z=J.modified(l.accessorFields(z.field))?J.ADD_MOD:J.ADD;J.visit(z,va?Tb=>{const Zb=w(Tb);Tb[pa]=Zb;Tb[Ya]=null==Zb?null:Q+ca*(1+(Zb-Q)/ca)}:Tb=>Tb[pa]=w(Tb));return J.modifies(va?wa:pa)},_bins(z){if(this.value&&!z.modified())return this.value;const J=z.field,va=$a.bin(z),w=va.step;let Q=va.start,ca=Q+
Math.ceil((va.stop-Q)/w)*w;var wa;null!=(wa=z.anchor)&&(wa-=Q+w*Math.floor((wa-Q)/w),Q+=wa,ca+=wa);wa=function(pa){pa=l.toNumber(J(pa));return null==pa?null:pa<Q?-Infinity:pa>ca?Infinity:(pa=Math.max(Q,Math.min(pa,ca-w)),Q+w*Math.floor(1E-14+(pa-Q)/w))};wa.start=Q;wa.stop=va.stop;wa.step=w;return this.value=l.accessor(wa,l.accessorFields(J),z.name||"bin_"+l.accessorName(J))}});lc.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};l.inherits(lc,ja.Transform,{transform(z,
J){const va=J.fork(J.ALL),w=lb(ja.tupleid,this.value,va.materialize(va.ADD).add),Q=z.sort;z=J.changed()||Q&&(z.modified("sort")||J.modified(Q.fields));va.visit(va.REM,w.remove);this.modified(z);this.value=va.source=w.data(ja.stableCompare(Q),z);J.source&&J.source.root&&(this.value.root=J.source.root);return va}});l.inherits(ua,ja.Operator);xa.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper",
"lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};l.inherits(xa,ja.Transform,{transform(z,J){var va=Zb=>jc=>{jc=pa(jc);var Cc=ca;switch(z.case){case "upper":jc=jc.toUpperCase();break;case "lower":jc=jc.toLowerCase()}jc=jc.match(Cc)||[];var Oc;Cc=0;for(var Rc=jc.length;Cc<Rc;++Cc)wa.test(Oc=jc[Cc])||Zb(Oc)};const w=this._parameterCheck(z,J),Q=this._counts,
ca=this._match,wa=this._stop,pa=z.field,Ya=z.as||["text","count"],Tb=va(Zb=>Q[Zb]=1+(Q[Zb]||0));va=va(Zb=>--Q[Zb]);w?J.visit(J.SOURCE,Tb):(J.visit(J.ADD,Tb),J.visit(J.REM,va));return this._finish(J,Ya)},_parameterCheck(z,J){let va=!1;if(z.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(z.stopwords||"")+"$","i"),va=!0;if(z.modified("pattern")||!this._match)this._match=new RegExp(z.pattern||"[\\w']+","g"),va=!0;if(z.modified("field")||J.modified(z.field.fields))va=!0;va&&(this._counts=
{});return va},_finish(z,J){const va=this._counts,w=this._tuples||(this._tuples={}),Q=J[0],ca=J[1];z=z.fork(z.NO_SOURCE|z.NO_FIELDS);let wa,pa,Ya;for(wa in va)pa=w[wa],Ya=va[wa]||0,!pa&&Ya?(w[wa]=pa=ja.ingest({}),pa[Q]=wa,pa[ca]=Ya,z.add.push(pa)):0===Ya?(pa&&z.rem.push(pa),va[wa]=null,w[wa]=null):pa[ca]!==Ya&&(pa[ca]=Ya,z.mod.push(pa));return z.modifies(J)}});Ua.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,"default":["a",
"b"]}]};l.inherits(Ua,ja.Transform,{transform(z,J){const va=J.fork(J.NO_SOURCE),w=z.as||["a","b"],Q=w[0],ca=w[1];var wa=!this.value||J.changed(J.ADD_REM)||z.modified("as")||z.modified("filter"),pa=this.value;if(wa){pa&&(va.rem=pa);J=pa=J.materialize(J.SOURCE).source;z=z.filter||l.truthy;wa=[];pa={};for(var Ya=J.length,Tb=0,Zb,jc;Tb<Ya;++Tb)for(pa[Q]=jc=J[Tb],Zb=0;Zb<Ya;++Zb)pa[ca]=J[Zb],z(pa)&&(wa.push(ja.ingest(pa)),pa={},pa[Q]=jc);va.add=this.value=wa}else va.mod=pa;va.source=this.value;return va.modifies(w)}});
const md={kde:$a.randomKDE,mixture:$a.randomMixture,normal:$a.randomNormal,lognormal:$a.randomLogNormal,uniform:$a.randomUniform},fd=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",type:"number","default":1}]},{key:{"function":"kde"},
params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];Ka.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:fd.concat({key:{"function":"mixture"},params:[{name:"distributions",
type:"param",array:!0,params:fd},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};l.inherits(Ka,ja.Transform,{transform(z,J){const va=J.fork(J.NO_SOURCE|J.NO_FIELDS);if(!this.value||J.changed()||z.modified()){const w=Xa(z.distribution,jb(J));J=z.steps||z.minsteps||25;const Q=z.steps||z.maxsteps||200;let ca=z.method||"pdf";"pdf"!==ca&&"cdf"!==ca&&l.error("Invalid density method: "+ca);z.extent||w.data||l.error("Missing density extent parameter.");
ca=w[ca];const wa=z.as||["value","density"];z=z.extent||l.extent(w.data());z=$a.sampleCurve(ca,z,J,Q).map(pa=>{const Ya={};Ya[wa[0]]=pa[0];Ya[wa[1]]=pa[1];return ja.ingest(Ya)});this.value&&(va.rem=this.value);this.value=va.add=va.source=z}return va}});Ub.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};
l.inherits(Ub,ja.Transform,{transform(z,J){if(this.value&&!z.modified()&&!J.changed())return J;var va=J.materialize(J.SOURCE).source;const w=wb(J.source,z.groupby,l.identity),Q=z.smooth||!1,ca=z.field;va=z.step||l.span(l.extent(va,ca))/30;const wa=ja.stableCompare((Cc,Oc)=>ca(Cc)-ca(Oc));z=z.as||"bin";const pa=w.length;let Ya=Infinity,Tb=-Infinity,Zb=0,jc;for(;Zb<pa;++Zb){const Cc=w[Zb].sort(wa);jc=-1;for(const Oc of $a.dotbin(Cc,va,Q,ca))Oc<Ya&&(Ya=Oc),Oc>Tb&&(Tb=Oc),Cc[++jc][z]=Oc}this.value={start:Ya,
stop:Tb,step:va};return J.reflow(!0).modifies(z)}});l.inherits(Na,ja.Operator);ea.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};l.inherits(ea,ja.Transform,{transform(z,J){var va=this.value;const w=z.field;z=J.changed()||J.modified(w.fields)||z.modified("field");let Q=va[0],ca=va[1];if(z||null==Q)Q=Infinity,ca=-Infinity;J.visit(z?J.SOURCE:J.ADD,wa=>{wa=l.toNumber(w(wa));null!=wa&&(wa<Q&&(Q=wa),wa>ca&&(ca=wa))});Number.isFinite(Q)&&Number.isFinite(ca)||((va=
l.accessorName(w))&&(va=` for field "${va}"`),J.dataflow.warn(`Infinite extent${va}: [${Q}, ${ca}]`),Q=ca=void 0);this.value=[Q,ca]}});l.inherits(Ha,ja.Operator,{connect(z){this.detachSubflow=z.detachSubflow;this.targets().add(z);return z.source=this},add(z){this.count+=1;this.value.add.push(z)},rem(z){--this.count;this.value.rem.push(z)},mod(z){this.value.mod.push(z)},init(z){this.value.init(z,z.NO_SOURCE)},evaluate(){return this.value}});l.inherits(Y,ja.Transform,{activate(z){this._targets[this._targets.active++]=
z},subflow(z,J,va,w){const Q=this.value;let ca=l.hasOwnProperty(Q,z)&&Q[z],wa;ca?ca.value.stamp<va.stamp&&(ca.init(va),this.activate(ca)):(wa=w||(wa=this._group[z])&&wa.tuple,w=va.dataflow,ca=new Ha(va.fork(va.NO_SOURCE),this),w.add(ca).connect(J(w,z,wa)),Q[z]=ca,this.activate(ca));return ca},clean(){var z=this.value;let J=0;for(const va in z)if(0===z[va].count){const w=z[va].detachSubflow;w&&w();delete z[va];++J}J&&(z=this._targets.filter(va=>va&&0<va.count),this.initTargets(z))},initTargets(z){const J=
this._targets,va=J.length,w=z?z.length:0;let Q=0;for(;Q<w;++Q)J[Q]=z[Q];for(;Q<va&&null!=J[Q];++Q)J[Q]=null;J.active=w},transform(z,J){const va=J.dataflow,w=z.key,Q=z.subflow,ca=this._keys,wa=z.modified("key"),pa=Ya=>this.subflow(Ya,Q,J);this._group=z.group||{};this.initTargets();J.visit(J.REM,Ya=>{const Tb=ja.tupleid(Ya),Zb=ca.get(Tb);void 0!==Zb&&(ca.delete(Tb),pa(Zb).rem(Ya))});J.visit(J.ADD,Ya=>{const Tb=w(Ya);ca.set(ja.tupleid(Ya),Tb);pa(Tb).add(Ya)});wa||J.modified(w.fields)?J.visit(J.MOD,Ya=>
{const Tb=ja.tupleid(Ya),Zb=ca.get(Tb),jc=w(Ya);Zb===jc?pa(jc).mod(Ya):(ca.set(Tb,jc),pa(Zb).rem(Ya),pa(jc).add(Ya))}):J.changed(J.MOD)&&J.visit(J.MOD,Ya=>{pa(ca.get(ja.tupleid(Ya))).mod(Ya)});wa&&J.visit(J.REFLOW,Ya=>{const Tb=ja.tupleid(Ya),Zb=ca.get(Tb),jc=w(Ya);Zb!==jc&&(ca.set(Tb,jc),pa(Zb).rem(Ya),pa(jc).add(Ya))});J.clean()?va.runAfter(()=>{this.clean();ca.clean()}):ca.empty>va.cleanThreshold&&va.runAfter(ca.clean);return J}});l.inherits(Ca,ja.Operator);na.Definition={type:"Filter",metadata:{changes:!0},
params:[{name:"expr",type:"expr",required:!0}]};l.inherits(na,ja.Transform,{transform(z,J){function va(jc){const Cc=ja.tupleid(jc),Oc=Tb(jc,z),Rc=Q.get(Cc);Oc&&Rc?(Q.delete(Cc),wa.push(jc)):Oc||Rc?Zb&&Oc&&!Rc&&Ya.push(jc):(Q.set(Cc,1),pa.push(jc))}const w=J.dataflow,Q=this.value,ca=J.fork(),wa=ca.add,pa=ca.rem,Ya=ca.mod,Tb=z.expr;let Zb=!0;J.visit(J.REM,jc=>{const Cc=ja.tupleid(jc);Q.has(Cc)?Q.delete(Cc):pa.push(jc)});J.visit(J.ADD,jc=>{Tb(jc,z)?wa.push(jc):Q.set(ja.tupleid(jc),1)});J.visit(J.MOD,
va);z.modified()&&(Zb=!1,J.visit(J.REFLOW,va));Q.empty>w.cleanThreshold&&w.runAfter(Q.clean);return ca}});n.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};l.inherits(n,ja.Transform,{transform(z,J){const va=J.fork(J.NO_SOURCE),w=z.fields,Q=gb(w,z.as||[]),ca=z.index||null,wa=Q.length;va.rem=this.value;J.visit(J.SOURCE,pa=>{const Ya=w.map(Rc=>Rc(pa)),Tb=Ya.reduce((Rc,od)=>Math.max(Rc,
od.length),0);let Zb=0,jc,Cc,Oc;for(;Zb<Tb;++Zb){Cc=ja.derive(pa);for(jc=0;jc<wa;++jc)Cc[Q[jc]]=null==(Oc=Ya[jc][Zb])?null:Oc;ca&&(Cc[ca]=Zb);va.add.push(Cc)}});this.value=va.source=va.add;ca&&va.modifies(ca);return va.modifies(Q)}});G.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};l.inherits(G,ja.Transform,{transform(z,J){const va=J.fork(J.NO_SOURCE),w=z.fields,Q=w.map(l.accessorName);
z=z.as||["key","value"];const ca=z[0],wa=z[1],pa=w.length;va.rem=this.value;J.visit(J.SOURCE,Ya=>{for(let Tb=0,Zb;Tb<pa;++Tb)Zb=ja.derive(Ya),Zb[ca]=Q[Tb],Zb[wa]=w[Tb](Ya),va.add.push(Zb)});this.value=va.source=va.add;return va.modifies(z)}});M.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};l.inherits(M,ja.Transform,{transform(z,J){const va=z.expr,w=z.as,Q=z.modified(),ca=z.initonly?
J.ADD:Q?J.SOURCE:J.modified(va.fields)||J.modified(w)?J.ADD_MOD:J.ADD;Q&&(J=J.materialize().reflow(!0));z.initonly||J.modifies(w);return J.visit(ca,wa=>wa[w]=va(wa,z))}});l.inherits(y,ja.Transform,{transform(z,J){J=J.fork(J.ALL);const va=z.generator;let w=this.value,Q=z.size-w.length,ca,wa;if(0<Q){for(ca=[];0<=--Q;)ca.push(wa=ja.ingest(va(z))),w.push(wa);J.add=J.add.length?J.materialize(J.ADD).add.concat(ca):ca}else z=w.slice(0,-Q),J.rem=J.rem.length?J.materialize(J.REM).rem.concat(z):z,w=w.slice(-Q);
J.source=this.value=w;return J}});const Tc={value:"value",median:function(z,J){var va=.5;z=Float64Array.from(B(z,J));if((J=z.length)&&!isNaN(va=+va))if(0>=va||2>J)z=Ea(z);else if(1<=va)z=X(z);else{va*=J-1;J=Math.floor(va);var w=X(R(z,J).subarray(0,J+1));z=Ea(z.subarray(J+1));z=w+(z-w)*(va-J)}else z=void 0;return z},mean:function(z,J){let va=0,w=0;if(void 0===J)for(var Q of z)null!=Q&&(Q=+Q)>=Q&&(++va,w+=Q);else{Q=-1;for(let ca of z)null!=(ca=J(ca,++Q,z))&&(ca=+ca)>=ca&&(++va,w+=ca)}if(va)return w/
va},min:Ea,max:X},ld=[];Pa.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median","max","min"]},{name:"value","default":0}]};l.inherits(Pa,ja.Transform,{transform(z,J){var va=J.fork(J.ALL),w=Ra(z),Q=fb(z),ca=l.accessorName(z.field),wa=l.accessorName(z.key),pa=(z.groupby||[]).map(l.accessorName);
z=zb(J.source,z.groupby,z.key,z.keyvals);J=[];var Ya=this.value,Tb=z.domain.length,Zb,jc,Cc;var Oc=0;for(jc=z.length;Oc<jc;++Oc){var Rc=z[Oc];var od=Rc.values;var sd=NaN;for(Zb=0;Zb<Tb;++Zb)if(null==Rc[Zb]){var zd=z.domain[Zb];var Zd={_impute:!0};var Kd=0;for(Cc=od.length;Kd<Cc;++Kd)Zd[pa[Kd]]=od[Kd];Zd[wa]=zd;Zd[ca]=Number.isNaN(sd)?sd=w(Rc,Q):sd;J.push(ja.ingest(Zd))}}J.length&&(va.add=va.materialize(va.ADD).add.concat(J));Ya.length&&(va.rem=va.materialize(va.REM).rem.concat(Ya));this.value=J;return va}});
kb.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:yc},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};l.inherits(kb,nb,{transform(z,J){const va=this,w=z.modified();let Q;va.value&&(w||J.modified(va._inputs,!0))?(Q=va.value=w?va.init(z):{},J.visit(J.SOURCE,ca=>va.add(ca))):(Q=va.value=va.value||this.init(z),J.visit(J.REM,ca=>va.rem(ca)),
J.visit(J.ADD,ca=>va.add(ca)));va.changes();J.visit(J.SOURCE,ca=>{l.extend(ca,Q[va.cellkey(ca)].tuple)});return J.reflow(w).modifies(this._outputs)},changes(){const z=this._adds,J=this._mods;let va,w;va=0;for(w=this._alen;va<w;++va)this.celltuple(z[va]),z[va]=null;va=0;for(w=this._mlen;va<w;++va)this.celltuple(J[va]),J[va]=null;this._alen=this._mlen=0}});Vb.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",
type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};l.inherits(Vb,ja.Transform,{transform(z,J){const va=J.fork(J.NO_SOURCE|
J.NO_FIELDS);if(!this.value||J.changed()||z.modified()){J=J.materialize(J.SOURCE).source;const w=wb(J,z.groupby,z.field),Q=(z.groupby||[]).map(l.accessorName),ca=z.bandwidth,wa=z.cumulative?"cdf":"pdf",pa=z.as||["value","density"],Ya=[];let Tb=z.extent,Zb=z.steps||z.minsteps||25,jc=z.steps||z.maxsteps||200;"pdf"!==wa&&"cdf"!==wa&&l.error("Invalid density method: "+wa);"shared"===z.resolve&&(Tb||(Tb=l.extent(J,z.field)),Zb=jc=z.steps||jc);w.forEach(Cc=>{const Oc=$a.randomKDE(Cc,ca)[wa],Rc=z.counts?
Cc.length:1,od=Tb||l.extent(Cc);$a.sampleCurve(Oc,od,Zb,jc).forEach(sd=>{const zd={};for(let Zd=0;Zd<Q.length;++Zd)zd[Q[Zd]]=Cc.dims[Zd];zd[pa[0]]=sd[0];zd[pa[1]]=sd[1]*Rc;Ya.push(ja.ingest(zd))})});this.value&&(va.rem=this.value);this.value=va.add=va.source=Ya}return va}});l.inherits(aa,ja.Operator);l.inherits(Qb,ja.Transform,{transform(z,J){const va=J.dataflow;return this._pending?$b(this,J,this._pending):nc(z)?J.StopPropagation:z.values?$b(this,J,va.parse(z.values,z.format)):z.async?{async:va.request(z.url,
z.format).then(w=>{this._pending=l.array(w.data);return Q=>Q.touch(this)})}:va.request(z.url,z.format).then(w=>$b(this,J,l.array(w.data)))}});Ob.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};l.inherits(Ob,ja.Transform,{transform(z,
J){const va=z.fields,w=z.index,Q=z.values,ca=null==z.default?null:z.default;var wa=z.modified();const pa=va.length;let Ya=wa?J.SOURCE:J.ADD,Tb=J,Zb=z.as,jc;Q?(jc=Q.length,1<pa&&!Zb&&l.error('Multi-field lookup requires explicit "as" parameter.'),Zb&&Zb.length!==pa*jc&&l.error('The "as" parameter has too few output field names.'),Zb=Zb||Q.map(l.accessorName),z=function(Cc){for(var Oc=0,Rc=0,od,sd;Oc<pa;++Oc)if(sd=w.get(va[Oc](Cc)),null==sd)for(od=0;od<jc;++od,++Rc)Cc[Zb[Rc]]=ca;else for(od=0;od<jc;++od,
++Rc)Cc[Zb[Rc]]=Q[od](sd)}):(Zb||l.error("Missing output field names."),z=function(Cc){for(var Oc=0,Rc;Oc<pa;++Oc)Rc=w.get(va[Oc](Cc)),Cc[Zb[Oc]]=null==Rc?ca:Rc});wa?Tb=J.reflow(!0):(wa=va.some(Cc=>J.modified(Cc.fields)),Ya|=wa?J.MOD:0);J.visit(Ya,z);return Tb.modifies(Zb)}});l.inherits(Nb,ja.Operator);l.inherits(Sc,ja.Operator);l.inherits(Gb,ja.Transform,{transform(z,J){this.modified(z.modified());this.value=z;return J.fork(J.NO_SOURCE|J.NO_FIELDS)}});Va.Definition={type:"Pivot",metadata:{generates:!0,
changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:yc,"default":"sum"},{name:"limit",type:"number","default":0},{name:"key",type:"field"}]};l.inherits(Va,nb,{_transform:nb.prototype.transform,transform(z,J){return this._transform(Ab(z,J),J)}});l.inherits(Wb,Y,{transform(z,J){const va=z.subflow,w=z.field,Q=ca=>this.subflow(ja.tupleid(ca),va,J,ca);(z.modified("field")||w&&J.modified(l.accessorFields(w)))&&
l.error("PreFacet does not support field modification.");this.initTargets();w?(J.visit(J.MOD,ca=>{const wa=Q(ca);w(ca).forEach(pa=>wa.mod(pa))}),J.visit(J.ADD,ca=>{const wa=Q(ca);w(ca).forEach(pa=>wa.add(ja.ingest(pa)))}),J.visit(J.REM,ca=>{const wa=Q(ca);w(ca).forEach(pa=>wa.rem(pa))})):(J.visit(J.MOD,ca=>Q(ca).mod(ca)),J.visit(J.ADD,ca=>Q(ca).add(ca)),J.visit(J.REM,ca=>Q(ca).rem(ca)));J.clean()&&J.runAfter(()=>this.clean());return J}});ic.Definition={type:"Project",metadata:{generates:!0,changes:!0},
params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string","null":!0,array:!0}]};l.inherits(ic,ja.Transform,{transform(z,J){const va=J.fork(J.NO_SOURCE),w=z.fields,Q=gb(z.fields,z.as||[]),ca=w?(pa,Ya)=>{for(let Tb=0,Zb=w.length;Tb<Zb;++Tb)Ya[Q[Tb]]=w[Tb](pa);return Ya}:ja.rederive;let wa;this.value?wa=this.value:(J=J.addAll(),wa=this.value={});J.visit(J.REM,pa=>{pa=ja.tupleid(pa);va.rem.push(wa[pa]);wa[pa]=null});J.visit(J.ADD,pa=>{const Ya=ca(pa,ja.ingest({}));wa[ja.tupleid(pa)]=Ya;va.add.push(Ya)});
J.visit(J.MOD,pa=>{va.mod.push(ca(pa,wa[ja.tupleid(pa)]))});return va}});l.inherits(wc,ja.Transform,{transform(z,J){this.value=z.value;return z.modified("value")?J.fork(J.NO_SOURCE|J.NO_FIELDS):J.StopPropagation}});Zc.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};
l.inherits(Zc,ja.Transform,{transform(z,J){const va=J.fork(J.NO_SOURCE|J.NO_FIELDS),w=z.as||["prob","value"];if(this.value&&!z.modified()&&!J.changed())return va.source=this.value,va;J=J.materialize(J.SOURCE).source;J=wb(J,z.groupby,z.field);const Q=(z.groupby||[]).map(l.accessorName),ca=[],wa=z.step||.01,pa=z.probs||Aa(wa/2,1-1E-14,wa),Ya=pa.length;J.forEach(Tb=>{const Zb=$a.quantiles(Tb,pa);for(let jc=0;jc<Ya;++jc){const Cc={};for(let Oc=0;Oc<Q.length;++Oc)Cc[Q[Oc]]=Tb.dims[Oc];Cc[w[0]]=pa[jc];
Cc[w[1]]=Zb[jc];ca.push(ja.ingest(Cc))}});this.value&&(va.rem=this.value);this.value=va.add=va.source=ca;return va}});l.inherits(Pc,ja.Transform,{transform(z,J){let va,w;this.value?w=this.value:(va=J=J.addAll(),w=this.value={});z.derive&&(va=J.fork(J.NO_SOURCE),J.visit(J.REM,Q=>{Q=ja.tupleid(Q);va.rem.push(w[Q]);w[Q]=null}),J.visit(J.ADD,Q=>{const ca=ja.derive(Q);w[ja.tupleid(Q)]=ca;va.add.push(ca)}),J.visit(J.MOD,Q=>{const ca=w[ja.tupleid(Q)];for(const wa in Q)ca[wa]=Q[wa],va.modifies(wa);va.mod.push(ca)}));
return va}});oa.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};l.inherits(oa,ja.Transform,{transform(z,J){function va(Zb){let jc,Cc;pa.length<ca?pa.push(Zb):(Cc=~~((Ya+1)*$a.random()),Cc<pa.length&&Cc>=Tb&&(jc=pa[Cc],wa[ja.tupleid(jc)]&&w.rem.push(jc),pa[Cc]=Zb));++Ya}const w=J.fork(J.NO_SOURCE);var Q=z.modified("size");const ca=z.size,wa=this.value.reduce((Zb,jc)=>(Zb[ja.tupleid(jc)]=1,Zb),{});let pa=this.value,Ya=this.count,Tb=0;J.rem.length&&(J.visit(J.REM,
Zb=>{const jc=ja.tupleid(Zb);wa[jc]&&(wa[jc]=-1,w.rem.push(Zb));--Ya}),pa=pa.filter(Zb=>-1!==wa[ja.tupleid(Zb)]));(J.rem.length||Q)&&pa.length<ca&&J.source&&(Tb=Ya=pa.length,J.visit(J.SOURCE,Zb=>{wa[ja.tupleid(Zb)]||va(Zb)}),Tb=-1);if(Q&&pa.length>ca){z=pa.length-ca;for(Q=0;Q<z;++Q)wa[ja.tupleid(pa[Q])]=-1,w.rem.push(pa[Q]);pa=pa.slice(z)}J.mod.length&&J.visit(J.MOD,Zb=>{wa[ja.tupleid(Zb)]&&w.mod.push(Zb)});J.add.length&&J.visit(J.ADD,va);if(J.add.length||0>Tb)w.add=pa.filter(Zb=>!wa[ja.tupleid(Zb)]);
this.count=Ya;this.value=w.source=pa;return w}});Ma.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};l.inherits(Ma,ja.Transform,{transform(z,J){if(!this.value||z.modified()){var va=J.materialize().fork(J.MOD),w=z.as||"data";va.rem=this.value?J.rem.concat(this.value):J.rem;this.value=Aa(z.start,z.stop,z.step||1).map(Q=>
{const ca={};ca[w]=Q;return ja.ingest(ca)});va.add=J.add.concat(this.value);return va}}});l.inherits(ib,ja.Transform,{transform(z,J){this.value=J.source;return J.changed()?J.fork(J.NO_SOURCE|J.NO_FIELDS):J.StopPropagation}});const nd=["unit0","unit1"];V.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"units",type:"enum",values:vb.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",
type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum","default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":nd}]};l.inherits(V,ja.Transform,{transform(z,J){const va=z.field,w=!1!==z.interval;var Q="utc"===z.timezone;const ca=this._floor(z,J),wa=(Q?vb.utcInterval:vb.timeInterval)(ca.unit).offset;Q=z.as||nd;const pa=Q[0],Ya=Q[1],Tb=ca.step;let Zb=ca.start||Infinity,jc=ca.stop||-Infinity,Cc=J.ADD;if(z.modified()||J.changed(J.REM)||
J.modified(l.accessorFields(va)))J=J.reflow(!0),Cc=J.SOURCE,Zb=Infinity,jc=-Infinity;J.visit(Cc,Oc=>{var Rc=va(Oc);let od;null==Rc?(Oc[pa]=null,w&&(Oc[Ya]=null)):(Oc[pa]=Rc=od=ca(Rc),w&&(Oc[Ya]=od=wa(Rc,Tb)),Rc<Zb&&(Zb=Rc),od>jc&&(jc=od))});ca.start=Zb;ca.stop=jc;return J.modifies(w?Q:pa)},_floor(z,J){var va="utc"===z.timezone;const {units:w,step:Q}=z.units?{units:z.units,step:z.step||1}:vb.timeBin({extent:z.extent||l.extent(J.materialize(J.SOURCE).source,z.field),maxbins:z.maxbins});z=vb.timeUnits(w);
J=this.value||{};va=(va?vb.utcFloor:vb.timeFloor)(z,Q);va.unit=l.peek(z);va.units=z;va.step=Q;va.start=J.start;va.stop=J.stop;return this.value=va}});l.inherits(x,ja.Transform,{transform(z,J){const va=J.dataflow,w=z.field,Q=this.value,ca=pa=>Q.set(w(pa),pa);let wa=!0;z.modified("field")||J.modified(w.fields)?(Q.clear(),J.visit(J.SOURCE,ca)):J.changed()?(J.visit(J.REM,pa=>Q.delete(w(pa))),J.visit(J.ADD,ca)):wa=!1;this.modified(wa);Q.empty>va.cleanThreshold&&va.runAfter(Q.clean);return J.fork()}});
l.inherits(da,ja.Transform,{transform(z,J){if(!this.value||z.modified("field")||z.modified("sort")||J.changed()||z.sort&&J.modified(z.sort.fields))this.value=(z.sort?J.source.slice().sort(ja.stableCompare(z.sort)):J.source).map(z.field)}});const dd={row_number:function(){return{next:z=>z.index+1}},rank:function(){let z;return{init:()=>z=1,next:J=>{const va=J.index,w=J.data;return va&&J.compare(w[va-1],w[va])?z=va+1:z}}},dense_rank:function(){let z;return{init:()=>z=1,next:J=>{const va=J.index,w=J.data;
return va&&J.compare(w[va-1],w[va])?++z:z}}},percent_rank:function(){const z=dd.rank(),J=z.next;return{init:z.init,next:va=>(J(va)-1)/(va.data.length-1)}},cume_dist:function(){let z;return{init:()=>z=0,next:J=>{const va=J.data,w=J.compare;J=J.index;if(z<J){for(;J+1<va.length&&!w(va[J],va[J+1]);)++J;z=J}return(1+z)/va.length}}},ntile:function(z,J){J=+J;0<J||l.error("ntile num must be greater than zero.");z=dd.cume_dist();const va=z.next;return{init:z.init,next:w=>Math.ceil(J*va(w))}},lag:function(z,
J){J=+J||1;return{next:va=>{const w=va.index-J;return 0<=w?z(va.data[w]):null}}},lead:function(z,J){J=+J||1;return{next:va=>{const w=va.index+J;va=va.data;return w<va.length?z(va[w]):null}}},first_value:function(z){return{next:J=>z(J.data[J.i0])}},last_value:function(z){return{next:J=>z(J.data[J.i1-1])}},nth_value:function(z,J){J=+J;0<J||l.error("nth_value nth must be greater than zero.");return{next:va=>{const w=va.i0+(J-1);return w<va.i1?z(va.data[w]):null}}},prev_value:function(z){let J;return{init:()=>
J=null,next:va=>{va=z(va.data[va.index]);return null!=va?J=va:J}}},next_value:function(z){let J,va;return{init:()=>(J=null,va=-1),next:w=>{var Q=w.data;if(w.index<=va)Q=J;else{a:{w=w.index;for(let ca=Q.length;w<ca;++w)if(null!=z(Q[w]))break a;w=-1}Q=0>(va=w)?(va=Q.length,J=null):J=z(Q[va])}return Q}}}},Wd=Object.keys(dd),gd=Ia.prototype;gd.init=function(){this.windows.forEach(z=>z.init());this.cell&&this.cell.init()};gd.update=function(z,J){const va=this.cell,w=this.windows,Q=z.data,ca=w&&w.length;
let wa;if(va){for(wa=z.p0;wa<z.i0;++wa)va.rem(Q[wa]);for(wa=z.p1;wa<z.i1;++wa)va.add(Q[wa]);va.set(J)}for(wa=0;wa<ca;++wa)w[wa].update(z,J)};qb.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Wd.concat(yc)},{name:"params",type:"number","null":!0,array:!0},{name:"aggregate_params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string",
"null":!0,array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};l.inherits(qb,ja.Transform,{transform(z,J){this.stamp=J.stamp;const va=z.modified(),w=ja.stableCompare(z.sort),Q=ec(z.groupby),ca=pa=>this.group(Q(pa));let wa=this.state;if(!wa||va)wa=this.state=new Ia(z);va||J.modified(wa.inputs)?(this.value={},J.visit(J.SOURCE,pa=>ca(pa).add(pa))):(J.visit(J.REM,pa=>ca(pa).remove(pa)),J.visit(J.ADD,pa=>ca(pa).add(pa)));
for(let pa=0,Ya=this._mlen;pa<Ya;++pa)Sb(this._mods[pa],wa,w,z);this._mlen=0;this._mods=[];return J.reflow(va).modifies(wa.outputs)},group(z){let J=this.value[z];J||(J=this.value[z]=lb(ja.tupleid),J.stamp=-1);J.stamp<this.stamp&&(J.stamp=this.stamp,this._mods[this._mlen++]=J);return J}});u.aggregate=nb;u.bin=Db;u.collect=lc;u.compare=ua;u.countpattern=xa;u.cross=Ua;u.density=Ka;u.dotbin=Ub;u.expression=Na;u.extent=ea;u.facet=Y;u.field=Ca;u.filter=na;u.flatten=n;u.fold=G;u.formula=M;u.generate=y;u.impute=
Pa;u.joinaggregate=kb;u.kde=Vb;u.key=aa;u.load=Qb;u.lookup=Ob;u.multiextent=Nb;u.multivalues=Sc;u.params=Gb;u.pivot=Va;u.prefacet=Wb;u.project=ic;u.proxy=wc;u.quantile=Zc;u.relay=Pc;u.sample=oa;u.sequence=Ma;u.sieve=ib;u.subflow=Ha;u.timeunit=V;u.tupleindex=x;u.values=da;u.window=qb})};
shadow$provide[35]=function(Fb,pb,zc,Za){(function(u,l){"object"===typeof Za&&"undefined"!==typeof zc?l(Za):"function"===typeof define&&define.amd?define(["exports"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={}))})(this,function(u){function l(ja,$a){if("undefined"!==typeof document&&document.createElement){const vb=document.createElement("canvas");if(vb&&vb.getContext)return vb.width=ja,vb.height=$a,vb}return null}u.canvas=l;u.domCanvas=l;u.image=()=>"undefined"!==typeof Image?
Image:null})};
shadow$provide[36]=function(Fb,pb,zc,Za){(function(u,l){"object"===typeof Za&&"undefined"!==typeof zc?l(Za,pb(24),pb(26)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-time"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega,u.vega))})(this,function(u,l,ja){function $a(p,H,O){H=p-H+2*O;return p?0<H?H:1:0}function vb(p){return function(H){let O=H[0];H=H[1];let la;H<O&&(la=O,O=H,H=la);return[p.invert(O),p.invert(H)]}}function Xb(p){return function(H){const O=
p.range();let la=H[0];H=H[1];let ab=-1,eb;let sb;if(H<la){var Mb=la;la=H;H=Mb}Mb=0;for(sb=O.length;Mb<sb;++Mb)O[Mb]>=la&&O[Mb]<=H&&(0>ab&&(ab=Mb),eb=Mb);if(!(0>ab))return la=p.invertExtent(O[ab]),H=p.invertExtent(O[eb]),[void 0===la[0]?la[1]:la[0],void 0===H[1]?H[0]:H[1]]}}function ec(p,H){return null==p||null==H?NaN:p<H?-1:p>H?1:p>=H?0:NaN}function Bb(p,H){return null==p||null==H?NaN:H<p?-1:H>p?1:H>=p?0:NaN}function yb(p){function H(eb,sb,Mb=0,qc=eb.length){if(Mb<qc){if(0!==O(sb,sb))return qc;do{const Vc=
Mb+qc>>>1;0>la(eb[Vc],sb)?Mb=Vc+1:qc=Vc}while(Mb<qc)}return Mb}let O,la,ab;2!==p.length?(O=ec,la=(eb,sb)=>ec(p(eb),sb),ab=(eb,sb)=>p(eb)-sb):(O=p===ec||p===Bb?p:ub,ab=la=p);return{left:H,center:function(eb,sb,Mb=0,qc=eb.length){qc=H(eb,sb,Mb,qc-1);return qc>Mb&&ab(eb[qc-1],sb)>-ab(eb[qc],sb)?qc-1:qc},right:function(eb,sb,Mb=0,qc=eb.length){if(Mb<qc){if(0!==O(sb,sb))return qc;do{const Vc=Mb+qc>>>1;0>=la(eb[Vc],sb)?Mb=Vc+1:qc=Vc}while(Mb<qc)}return Mb}}}function ub(){return 0}function Lb(p){return null===
p?NaN:+p}function Yb({_intern:p,_key:H},O){H=H(O);return p.has(H)?p.get(H):O}function Ba({_intern:p,_key:H},O){H=H(O);if(p.has(H))return p.get(H);p.set(H,O);return O}function bb({_intern:p,_key:H},O){H=H(O);p.has(H)&&(O=p.get(H),p.delete(H));return O}function Cb(p){return null!==p&&"object"===typeof p?p.valueOf():p}function xb(p,H,O){var la=(H-p)/Math.max(0,O),ab=Math.floor(Math.log10(la));la/=Math.pow(10,ab);la=la>=Nf?10:la>=Qh?5:la>=Ag?2:1;let eb;0>ab?(eb=Math.pow(10,-ab)/la,ab=Math.round(p*eb),
la=Math.round(H*eb),ab/eb<p&&++ab,la/eb>H&&--la,eb=-eb):(eb=Math.pow(10,ab)*la,ab=Math.round(p/eb),la=Math.round(H/eb),ab*eb<p&&++ab,la*eb>H&&--la);return la<ab&&.5<=O&&2>O?xb(p,H,2*O):[ab,la,eb]}function nb(p,H,O){H=+H;p=+p;O=+O;if(!(0<O))return[];if(p===H)return[p];var la=H<p;const [ab,eb,sb]=la?xb(H,p,O):xb(p,H,O);if(!(eb>=ab))return[];p=eb-ab+1;H=Array(p);if(la)if(0>sb)for(la=0;la<p;++la)H[la]=(eb-la)/-sb;else for(la=0;la<p;++la)H[la]=(eb-la)*sb;else if(0>sb)for(la=0;la<p;++la)H[la]=(ab+la)/-sb;
else for(la=0;la<p;++la)H[la]=(ab+la)*sb;return H}function Db(p,H,O){return xb(+p,+H,+O)[2]}function lb(p,H,O){H=+H;p=+p;O=+O;const la=H<p;p=la?Db(H,p,O):Db(p,H,O);return(la?-1:1)*(0>p?1/-p:p)}function lc(p,H,O=Lb){if((la=p.length)&&!isNaN(H=+H)){if(0>=H||2>la)return+O(p[0],0,p);if(1<=H)return+O(p[la-1],la-1,p);var la;H*=la-1;la=Math.floor(H);var ab=+O(p[la],la,p);p=+O(p[la+1],la+1,p);return ab+(p-ab)*(H-la)}}function ua(p,H,O){p=+p;H=+H;O=2>(ab=arguments.length)?(H=p,p=0,1):3>ab?1:+O;for(var la=
-1,ab=Math.max(0,Math.ceil((H-p)/O))|0,eb=Array(ab);++la<ab;)eb[la]=p+la*O;return eb}function ha(p,H){switch(arguments.length){case 0:break;case 1:this.range(p);break;default:this.range(H).domain(p)}return this}function xa(p,H){switch(arguments.length){case 0:break;case 1:"function"===typeof p?this.interpolator(p):this.range(p);break;default:this.domain(p),"function"===typeof H?this.interpolator(H):this.range(H)}return this}function Ua(){function p(eb){let sb=H.get(eb);if(void 0===sb){if(ab!==Fg)return ab;
H.set(eb,sb=O.push(eb)-1)}return la[sb%la.length]}var H=new Rg,O=[],la=[],ab=Fg;p.domain=function(eb){if(!arguments.length)return O.slice();O=[];H=new Rg;for(const sb of eb)H.has(sb)||H.set(sb,O.push(sb)-1);return p};p.range=function(eb){return arguments.length?(la=Array.from(eb),p):la.slice()};p.unknown=function(eb){return arguments.length?(ab=eb,p):ab};p.copy=function(){return Ua(O,la).unknown(ab)};ha.apply(p,arguments);return p}function Xa(p,H,O){p.prototype=H.prototype=O;O.constructor=p}function Ka(p,
H){p=Object.create(p.prototype);for(var O in H)p[O]=H[O];return p}function jb(){}function gb(){return this.rgb().formatHex()}function wb(){return this.rgb().formatRgb()}function Ub(p){var H,O;p=(p+"").trim().toLowerCase();return(H=Rh.exec(p))?(O=H[1].length,H=parseInt(H[1],16),6===O?Na(H):3===O?new Y(H>>8&15|H>>4&240,H>>4&15|H&240,(H&15)<<4|H&15,1):8===O?U(H>>24&255,H>>16&255,H>>8&255,(H&255)/255):4===O?U(H>>12&15|H>>8&240,H>>8&15|H>>4&240,H>>4&15|H&240,((H&15)<<4|H&15)/255):null):(H=Aj.exec(p))?
new Y(H[1],H[2],H[3],1):(H=vg.exec(p))?new Y(255*H[1]/100,255*H[2]/100,255*H[3]/100,1):(H=Ii.exec(p))?U(H[1],H[2],H[3],H[4]):(H=qi.exec(p))?U(255*H[1]/100,255*H[2]/100,255*H[3]/100,H[4]):(H=Ji.exec(p))?M(H[1],H[2]/100,H[3]/100,1):(H=ri.exec(p))?M(H[1],H[2]/100,H[3]/100,H[4]):Sh.hasOwnProperty(p)?Na(Sh[p]):"transparent"===p?new Y(NaN,NaN,NaN,0):null}function Na(p){return new Y(p>>16&255,p>>8&255,p&255,1)}function U(p,H,O,la){0>=la&&(p=H=O=NaN);return new Y(p,H,O,la)}function ea(p){p instanceof jb||
(p=Ub(p));if(!p)return new Y;p=p.rgb();return new Y(p.r,p.g,p.b,p.opacity)}function Ha(p,H,O,la){return 1===arguments.length?ea(p):new Y(p,H,O,null==la?1:la)}function Y(p,H,O,la){this.r=+p;this.g=+H;this.b=+O;this.opacity=+la}function Ca(){return`#${G(this.r)}${G(this.g)}${G(this.b)}`}function ma(){const p=na(this.opacity);return`${1===p?"rgb(":"rgba("}${n(this.r)}, ${n(this.g)}, ${n(this.b)}${1===p?")":`, ${p})`}`}function na(p){return isNaN(p)?1:Math.max(0,Math.min(1,p))}function n(p){return Math.max(0,
Math.min(255,Math.round(p)||0))}function G(p){p=n(p);return(16>p?"0":"")+p.toString(16)}function M(p,H,O,la){0>=la?p=H=O=NaN:0>=O||1<=O?p=H=NaN:0>=H&&(p=NaN);return new D(p,H,O,la)}function y(p){if(p instanceof D)return new D(p.h,p.s,p.l,p.opacity);p instanceof jb||(p=Ub(p));if(!p)return new D;if(p instanceof D)return p;p=p.rgb();var H=p.r/255,O=p.g/255,la=p.b/255,ab=Math.min(H,O,la),eb=Math.max(H,O,la),sb=NaN,Mb=eb-ab,qc=(eb+ab)/2;Mb?(sb=H===eb?(O-la)/Mb+6*(O<la):O===eb?(la-H)/Mb+2:(H-O)/Mb+4,Mb/=
.5>qc?eb+ab:2-eb-ab,sb*=60):Mb=0<qc&&1>qc?0:sb;return new D(sb,Mb,qc,p.opacity)}function T(p,H,O,la){return 1===arguments.length?y(p):new D(p,H,O,null==la?1:la)}function D(p,H,O,la){this.h=+p;this.s=+H;this.l=+O;this.opacity=+la}function A(p){p=(p||0)%360;return 0>p?p+360:p}function P(p){return Math.max(0,Math.min(1,p||0))}function B(p,H,O){return 255*(60>p?H+(O-H)*p/60:180>p?O:240>p?H+(O-H)*(240-p)/60:H)}function E(p){if(p instanceof X)return new X(p.l,p.a,p.b,p.opacity);if(p instanceof fb)return zb(p);
p instanceof Y||(p=ea(p));var H=Aa(p.r),O=Aa(p.g),la=Aa(p.b),ab=Ea(.2225045*H+.7168786*O+.0606169*la);if(H===O&&O===la)var eb=H=ab;else eb=Ea((.4360747*H+.3850649*O+.1430804*la)/.96422),H=Ea((.0139322*H+.0971045*O+.7141733*la)/.82521);return new X(116*ab-16,500*(eb-ab),200*(ab-H),p.opacity)}function I(p,H,O,la){return 1===arguments.length?E(p):new X(p,H,O,null==la?1:la)}function X(p,H,O,la){this.l=+p;this.a=+H;this.b=+O;this.opacity=+la}function Ea(p){return p>Ki?Math.pow(p,1/3):p/si+Th}function R(p){return p>
th?p*p*p:si*(p-Th)}function ia(p){return 255*(.0031308>=p?12.92*p:1.055*Math.pow(p,1/2.4)-.055)}function Aa(p){return.04045>=(p/=255)?p/12.92:Math.pow((p+.055)/1.055,2.4)}function Pa(p){if(p instanceof fb)return new fb(p.h,p.c,p.l,p.opacity);p instanceof X||(p=E(p));if(0===p.a&&0===p.b)return new fb(NaN,0<p.l&&100>p.l?0:NaN,p.l,p.opacity);var H=Math.atan2(p.b,p.a)*ci;return new fb(0>H?H+360:H,Math.sqrt(p.a*p.a+p.b*p.b),p.l,p.opacity)}function Ra(p,H,O,la){return 1===arguments.length?Pa(p):new fb(p,
H,O,null==la?1:la)}function fb(p,H,O,la){this.h=+p;this.c=+H;this.l=+O;this.opacity=+la}function zb(p){if(isNaN(p.h))return new X(p.l,0,0,p.opacity);var H=p.h*$f;return new X(p.l,Math.cos(H)*p.c,Math.sin(H)*p.c,p.opacity)}function kb(p,H,O,la){if(1===arguments.length){var ab=p;if(ab instanceof Vb)ab=new Vb(ab.h,ab.s,ab.l,ab.opacity);else{ab instanceof Y||(ab=ea(ab));var eb=ab.g/255,sb=ab.b/255,Mb=(di*sb+ab.r/255*-1.7884503806-3.5172982438*eb)/(di+-1.7884503806-3.5172982438);sb-=Mb;var qc=(1.97294*
(eb-Mb)- -.29227*sb)/-.90649;sb=(eb=Math.sqrt(qc*qc+sb*sb)/(1.97294*Mb*(1-Mb)))?Math.atan2(qc,sb)*ci-120:NaN;ab=new Vb(0>sb?sb+360:sb,eb,Mb,ab.opacity)}}else ab=new Vb(p,H,O,null==la?1:la);return ab}function Vb(p,H,O,la){this.h=+p;this.s=+H;this.l=+O;this.opacity=+la}function aa(p,H,O,la,ab){var eb=p*p,sb=eb*p;return((1-3*p+3*eb-sb)*H+(4-6*eb+3*sb)*O+(1+3*p+3*eb-3*sb)*la+sb*ab)/6}function Ga(p){var H=p.length-1;return function(O){var la=0>=O?O=0:1<=O?(O=1,H-1):Math.floor(O*H),ab=p[la],eb=p[la+1];
return aa((O-la/H)*H,0<la?p[la-1]:2*ab-eb,ab,eb,la<H-1?p[la+2]:2*eb-ab)}}function Qb(p){var H=p.length;return function(O){var la=Math.floor((0>(O%=1)?++O:O)*H);return aa((O-la/H)*H,p[(la+H-1)%H],p[la%H],p[(la+1)%H],p[(la+2)%H])}}function nc(p,H){return function(O){return p+O*H}}function $b(p,H,O){return p=Math.pow(p,O),H=Math.pow(H,O)-p,O=1/O,function(la){return Math.pow(p+la*H,O)}}function Ob(p,H){var O=H-p;return O?nc(p,180<O||-180>O?O-360*Math.round(O/360):O):Fh(isNaN(p)?H:p)}function Nb(p){return 1===
(p=+p)?rc:function(H,O){return O-H?$b(H,O,p):Fh(isNaN(H)?O:H)}}function rc(p,H){var O=H-p;return O?nc(p,O):Fh(isNaN(p)?H:p)}function Sc(p){return function(H){var O=H.length,la=Array(O),ab=Array(O),eb=Array(O),sb;for(sb=0;sb<O;++sb){var Mb=Ha(H[sb]);la[sb]=Mb.r||0;ab[sb]=Mb.g||0;eb[sb]=Mb.b||0}la=p(la);ab=p(ab);eb=p(eb);Mb.opacity=1;return function(qc){Mb.r=la(qc);Mb.g=ab(qc);Mb.b=eb(qc);return Mb+""}}}function ra(p,H){H||(H=[]);var O=p?Math.min(H.length,p.length):0,la=H.slice(),ab;return function(eb){for(ab=
0;ab<O;++ab)la[ab]=p[ab]*(1-eb)+H[ab]*eb;return la}}function Gb(p){return ArrayBuffer.isView(p)&&!(p instanceof DataView)}function Va(p,H){var O=H?H.length:0,la=p?Math.min(O,p.length):0,ab=Array(la),eb=Array(O),sb;for(sb=0;sb<la;++sb)ab[sb]=Zc(p[sb],H[sb]);for(;sb<O;++sb)eb[sb]=H[sb];return function(Mb){for(sb=0;sb<la;++sb)eb[sb]=ab[sb](Mb);return eb}}function Ab(p,H){var O=new Date;return p=+p,H=+H,function(la){return O.setTime(p*(1-la)+H*la),O}}function Jb(p,H){return p=+p,H=+H,function(O){return p*
(1-O)+H*O}}function Eb(p,H){var O={},la={},ab;if(null===p||"object"!==typeof p)p={};if(null===H||"object"!==typeof H)H={};for(ab in H)ab in p?O[ab]=Zc(p[ab],H[ab]):la[ab]=H[ab];return function(eb){for(ab in O)la[ab]=O[ab](eb);return la}}function Wb(p){return function(){return p}}function ic(p){return function(H){return p(H)+""}}function wc(p,H){var O=uh.lastIndex=Hh.lastIndex=0,la,ab,eb,sb=-1,Mb=[],qc=[];p+="";for(H+="";(la=uh.exec(p))&&(ab=Hh.exec(H));)(eb=ab.index)>O&&(eb=H.slice(O,eb),Mb[sb]?Mb[sb]+=
eb:Mb[++sb]=eb),(la=la[0])===(ab=ab[0])?Mb[sb]?Mb[sb]+=ab:Mb[++sb]=ab:(Mb[++sb]=null,qc.push({i:sb,x:Jb(la,ab)})),O=Hh.lastIndex;O<H.length&&(eb=H.slice(O),Mb[sb]?Mb[sb]+=eb:Mb[++sb]=eb);return 2>Mb.length?qc[0]?ic(qc[0].x):Wb(H):(H=qc.length,function(Vc){for(var bd=0,xc;bd<H;++bd)Mb[(xc=qc[bd]).i]=xc.x(Vc);return Mb.join("")})}function Zc(p,H){var O=typeof H,la;return null==H||"boolean"===O?Fh(H):("number"===O?Jb:"string"===O?(la=Ub(H))?(H=la,Uh):wc:H instanceof Ub?Uh:H instanceof Date?Ab:Gb(H)?
ra:Array.isArray(H)?Va:"function"!==typeof H.valueOf&&"function"!==typeof H.toString||isNaN(H)?Eb:Jb)(p,H)}function Pc(p,H){return p=+p,H=+H,function(O){return Math.round(p*(1-O)+H*O)}}function oa(p,H,O,la,ab,eb){var sb,Mb,qc;if(sb=Math.sqrt(p*p+H*H))p/=sb,H/=sb;if(qc=p*O+H*la)O-=p*qc,la-=H*qc;if(Mb=Math.sqrt(O*O+la*la))O/=Mb,la/=Mb,qc/=Mb;p*la<H*O&&(p=-p,H=-H,qc=-qc,sb=-sb);return{translateX:ab,translateY:eb,rotate:Math.atan2(H,p)*Hg,skewX:Math.atan(qc)*Hg,scaleX:sb,scaleY:Mb}}function Ma(p,H,O,
la){function ab(Vc){return Vc.length?Vc.pop()+" ":""}function eb(Vc,bd,xc,td,Ld,te){Vc!==xc||bd!==td?(Ld=Ld.push("translate(",null,H,null,O),te.push({i:Ld-4,x:Jb(Vc,xc)},{i:Ld-2,x:Jb(bd,td)})):(xc||td)&&Ld.push("translate("+xc+H+td+O)}function sb(Vc,bd,xc,td){Vc!==bd?(180<Vc-bd?bd+=360:180<bd-Vc&&(Vc+=360),td.push({i:xc.push(ab(xc)+"rotate(",null,la)-2,x:Jb(Vc,bd)})):bd&&xc.push(ab(xc)+"rotate("+bd+la)}function Mb(Vc,bd,xc,td){Vc!==bd?td.push({i:xc.push(ab(xc)+"skewX(",null,la)-2,x:Jb(Vc,bd)}):bd&&
xc.push(ab(xc)+"skewX("+bd+la)}function qc(Vc,bd,xc,td,Ld,te){Vc!==xc||bd!==td?(Ld=Ld.push(ab(Ld)+"scale(",null,",",null,")"),te.push({i:Ld-4,x:Jb(Vc,xc)},{i:Ld-2,x:Jb(bd,td)})):1===xc&&1===td||Ld.push(ab(Ld)+"scale("+xc+","+td+")")}return function(Vc,bd){var xc=[],td=[];Vc=p(Vc);bd=p(bd);eb(Vc.translateX,Vc.translateY,bd.translateX,bd.translateY,xc,td);sb(Vc.rotate,bd.rotate,xc,td);Mb(Vc.skewX,bd.skewX,xc,td);qc(Vc.scaleX,Vc.scaleY,bd.scaleX,bd.scaleY,xc,td);Vc=bd=null;return function(Ld){for(var te=
-1,Hd=td.length,Ye;++te<Hd;)xc[(Ye=td[te]).i]=Ye.x(Ld);return xc.join("")}}}function ib(p){return((p=Math.exp(p))+1/p)/2}function V(p){return function(H,O){var la=p((H=T(H)).h,(O=T(O)).h),ab=rc(H.s,O.s),eb=rc(H.l,O.l),sb=rc(H.opacity,O.opacity);return function(Mb){H.h=la(Mb);H.s=ab(Mb);H.l=eb(Mb);H.opacity=sb(Mb);return H+""}}}function x(p){return function(H,O){var la=p((H=Ra(H)).h,(O=Ra(O)).h),ab=rc(H.c,O.c),eb=rc(H.l,O.l),sb=rc(H.opacity,O.opacity);return function(Mb){H.h=la(Mb);H.c=ab(Mb);H.l=
eb(Mb);H.opacity=sb(Mb);return H+""}}}function da(p){return function la(O){function ab(eb,sb){var Mb=p((eb=kb(eb)).h,(sb=kb(sb)).h),qc=rc(eb.s,sb.s),Vc=rc(eb.l,sb.l),bd=rc(eb.opacity,sb.opacity);return function(xc){eb.h=Mb(xc);eb.s=qc(xc);eb.l=Vc(Math.pow(xc,O));eb.opacity=bd(xc);return eb+""}}O=+O;ab.gamma=la;return ab}(1)}function ya(p,H){void 0===H&&(H=p,p=Zc);for(var O=0,la=H.length-1,ab=H[0],eb=Array(0>la?0:la);O<la;)eb[O]=p(ab,ab=H[++O]);return function(sb){var Mb=Math.max(0,Math.min(la-1,Math.floor(sb*=
la)));return eb[Mb](sb-Mb)}}function Ia(p){return function(){return p}}function Wa(p){return+p}function qb(p){return p}function Sb(p,H){return(H-=p=+p)?function(O){return(O-p)/H}:Ia(isNaN(H)?NaN:.5)}function Hb(p,H){if(p>H){var O=p;p=H;H=O}return function(la){return Math.max(p,Math.min(H,la))}}function Pb(p,H,O){var la=p[0];p=p[1];var ab=H[0];H=H[1];p<la?(la=Sb(p,la),ab=O(H,ab)):(la=Sb(la,p),ab=O(ab,H));return function(eb){return ab(la(eb))}}function uc(p,H,O){var la=Math.min(p.length,H.length)-1,
ab=Array(la),eb=Array(la),sb=-1;p[la]<p[0]&&(p=p.slice().reverse(),H=H.slice().reverse());for(;++sb<la;)ab[sb]=Sb(p[sb],p[sb+1]),eb[sb]=O(H[sb],H[sb+1]);return function(Mb){var qc=Mf(p,Mb,1,la)-1;return eb[qc](ab[qc](Mb))}}function yc(p,H){return H.domain(p.domain()).range(p.range()).interpolate(p.interpolate()).clamp(p.clamp()).unknown(p.unknown())}function Kc(){function p(){var td=Math.min(O.length,la.length);qc!==qb&&(qc=Hb(O[0],O[td-1]));Vc=2<td?uc:Pb;bd=xc=null;return H}function H(td){return null==
td||isNaN(td=+td)?Mb:(bd||(bd=Vc(O.map(eb),la,ab)))(eb(qc(td)))}var O=Z,la=Z,ab=Zc,eb,sb,Mb,qc=qb,Vc,bd,xc;H.invert=function(td){return qc(sb((xc||(xc=Vc(la,O.map(eb),Jb)))(td)))};H.domain=function(td){return arguments.length?(O=Array.from(td,Wa),p()):O.slice()};H.range=function(td){return arguments.length?(la=Array.from(td),p()):la.slice()};H.rangeRound=function(td){return la=Array.from(td),ab=Pc,p()};H.clamp=function(td){return arguments.length?(qc=td?!0:qb,p()):qc!==qb};H.interpolate=function(td){return arguments.length?
(ab=td,p()):ab};H.unknown=function(td){return arguments.length?(Mb=td,H):Mb};return function(td,Ld){eb=td;sb=Ld;return p()}}function md(p,H){if(0>(H=(p=H?p.toExponential(H-1):p.toExponential()).indexOf("e")))return null;var O=p.slice(0,H);return[1<O.length?O[0]+O.slice(2):O,+p.slice(H+1)]}function fd(p){return p=md(Math.abs(p)),p?p[1]:NaN}function Tc(p,H){return function(O,la){for(var ab=O.length,eb=[],sb=0,Mb=p[0],qc=0;0<ab&&0<Mb;){qc+Mb+1>la&&(Mb=Math.max(1,la-qc));eb.push(O.substring(ab-=Mb,ab+
Mb));if((qc+=Mb+1)>la)break;Mb=p[sb=(sb+1)%p.length]}return eb.reverse().join(H)}}function ld(p){return function(H){return H.replace(/[0-9]/g,function(O){return p[+O]})}}function nd(p){if(!(H=za.exec(p)))throw Error("invalid format: "+p);var H;return new dd({fill:H[1],align:H[2],sign:H[3],symbol:H[4],zero:H[5],width:H[6],comma:H[7],precision:H[8]&&H[8].slice(1),trim:H[9],type:H[10]})}function dd(p){this.fill=void 0===p.fill?" ":p.fill+"";this.align=void 0===p.align?"\x3e":p.align+"";this.sign=void 0===
p.sign?"-":p.sign+"";this.symbol=void 0===p.symbol?"":p.symbol+"";this.zero=!!p.zero;this.width=void 0===p.width?void 0:+p.width;this.comma=!!p.comma;this.precision=void 0===p.precision?void 0:+p.precision;this.trim=!!p.trim;this.type=void 0===p.type?"":p.type+""}function Wd(p,H){H=md(p,H);if(!H)return p+"";p=H[0];H=H[1];return 0>H?"0."+Array(-H).join("0")+p:p.length>H+1?p.slice(0,H+1)+"."+p.slice(H+1):p+Array(H-p.length+2).join("0")}function gd(p){return p}function z(p){function H(bd){function xc(rd){var Ed=
ue,ud=Gf,ff,ye;if("c"===bg)ud=Lh(rd)+ud,rd="";else{rd=+rd;var Ef=0>rd||0>1/rd;rd=isNaN(rd)?Vc:Lh(Math.abs(rd),pg);if(Ig){var Se=rd.length,Bg=1,mh=-1;a:for(;Bg<Se;++Bg)switch(rd[Bg]){case ".":mh=ff=Bg;break;case "0":0===mh&&(mh=Bg);ff=Bg;break;default:if(!+rd[Bg])break a;0<mh&&(mh=0)}rd=0<mh?rd.slice(0,mh)+rd.slice(ff+1):rd}Ef&&0===+rd&&"+"!==te&&(Ef=!1);Ed=(Ef?"("===te?te:qc:"-"===te||"("===te?"":te)+Ed;ud=("s"===bg?bc[8+Qa/3]:"")+ud+(Ef&&"("===te?")":"");if(Gd)for(Ef=-1,ff=rd.length;++Ef<ff;)if(ye=
rd.charCodeAt(Ef),48>ye||57<ye){ud=(46===ye?eb+rd.slice(Ef+1):rd.slice(Ef))+ud;rd=rd.slice(0,Ef);break}}ee&&!Ye&&(rd=O(rd,Infinity));ye=Ed.length+rd.length+ud.length;Ef=ye<cg?Array(cg-ye+1).join(td):"";ee&&Ye&&(rd=O(Ef+rd,Ef.length?cg-ud.length:Infinity),Ef="");switch(Ld){case "\x3c":rd=Ed+rd+ud+Ef;break;case "\x3d":rd=Ed+Ef+rd+ud;break;case "^":rd=Ef.slice(0,ye=Ef.length>>1)+Ed+rd+ud+Ef.slice(ye);break;default:rd=Ef+Ed+rd+ud}return sb(rd)}bd=nd(bd);var td=bd.fill,Ld=bd.align,te=bd.sign,Hd=bd.symbol,
Ye=bd.zero,cg=bd.width,ee=bd.comma,pg=bd.precision,Ig=bd.trim,bg=bd.type;"n"===bg?(ee=!0,bg="g"):Kb[bg]||(void 0===pg&&(pg=12),Ig=!0,bg="g");if(Ye||"0"===td&&"\x3d"===Ld)Ye=!0,td="0",Ld="\x3d";var ue="$"===Hd?la:"#"===Hd&&/[boxX]/.test(bg)?"0"+bg.toLowerCase():"",Gf="$"===Hd?ab:/[%p]/.test(bg)?Mb:"",Lh=Kb[bg],Gd=/[defgprs%]/.test(bg);pg=void 0===pg?6:/[gprs]/.test(bg)?Math.max(1,Math.min(21,pg)):Math.max(0,Math.min(20,pg));xc.toString=function(){return bd+""};return xc}var O=void 0===p.grouping||
void 0===p.thousands?gd:Tc(Ib.call(p.grouping,Number),p.thousands+""),la=void 0===p.currency?"":p.currency[0]+"",ab=void 0===p.currency?"":p.currency[1]+"",eb=void 0===p.decimal?".":p.decimal+"",sb=void 0===p.numerals?gd:ld(Ib.call(p.numerals,String)),Mb=void 0===p.percent?"%":p.percent+"",qc=void 0===p.minus?"−":p.minus+"",Vc=void 0===p.nan?"NaN":p.nan+"";return{format:H,formatPrefix:function(bd,xc){var td=H((bd=nd(bd),bd.type="f",bd));bd=3*Math.max(-8,Math.min(8,Math.floor(fd(xc)/3)));var Ld=Math.pow(10,
-bd),te=bc[8+bd/3];return function(Hd){return td(Ld*Hd)+te}}}}function J(p,H,O,la){O=lb(p,H,O);la=nd(null==la?",f":la);switch(la.type){case "s":p=Math.max(Math.abs(p),Math.abs(H));if(H=null==la.precision){var ab=isNaN;O=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(fd(p)/3)))-fd(Math.abs(O)));H=!ab(ab=O)}H&&(la.precision=ab);return fa(la,p);case "":case "e":case "g":case "p":case "r":var eb;if(eb=null==la.precision)ab=isNaN,p=Math.max(Math.abs(p),Math.abs(H)),O=Math.abs(O),p=Math.abs(p)-O,O=Math.max(0,
fd(p)-fd(O))+1,eb=!ab(ab=O);eb&&(la.precision=ab-("e"===la.type));break;case "f":case "%":null!=la.precision||isNaN(ab=Math.max(0,-fd(Math.abs(O))))||(la.precision=ab-2*("%"===la.type))}return L(la)}function va(p){var H=p.domain;p.ticks=function(O){var la=H();return nb(la[0],la[la.length-1],null==O?10:O)};p.tickFormat=function(O,la){var ab=H();return J(ab[0],ab[ab.length-1],null==O?10:O,la)};p.nice=function(O){null==O&&(O=10);var la=H(),ab=0,eb=la.length-1,sb=la[ab],Mb=la[eb],qc=10;if(Mb<sb){var Vc=
sb;sb=Mb;Mb=Vc;Vc=ab;ab=eb;eb=Vc}for(;0<qc--;){Vc=Db(sb,Mb,O);if(Vc===bd)return la[ab]=sb,la[eb]=Mb,H(la);if(0<Vc)sb=Math.floor(sb/Vc)*Vc,Mb=Math.ceil(Mb/Vc)*Vc;else if(0>Vc)sb=Math.ceil(sb*Vc)/Vc,Mb=Math.floor(Mb*Vc)/Vc;else break;var bd=Vc}return p};return p}function w(){var p=Kc()(qb,qb);p.copy=function(){return yc(p,w())};ha.apply(p,arguments);return va(p)}function Q(p){function H(la){return null==la||isNaN(la=+la)?O:la}var O;H.invert=H;H.domain=H.range=function(la){return arguments.length?(p=
Array.from(la,Wa),H):p.slice()};H.unknown=function(la){return arguments.length?(O=la,H):O};H.copy=function(){return Q(p).unknown(O)};p=arguments.length?Array.from(p,Wa):[0,1];return va(H)}function ca(p,H){p=p.slice();var O=0,la=p.length-1,ab=p[O],eb=p[la];if(eb<ab){var sb=O;O=la;la=sb;sb=ab;ab=eb;eb=sb}p[O]=H.floor(ab);p[la]=H.ceil(eb);return p}function wa(p){return Math.log(p)}function pa(p){return Math.exp(p)}function Ya(p){return-Math.log(-p)}function Tb(p){return-Math.exp(-p)}function Zb(p){return isFinite(p)?
+("1e"+p):0>p?0:p}function jc(p){return 10===p?Zb:p===Math.E?Math.exp:H=>Math.pow(p,H)}function Cc(p){return p===Math.E?Math.log:10===p&&Math.log10||2===p&&Math.log2||(p=Math.log(p),H=>Math.log(H)/p)}function Oc(p){return(H,O)=>-p(-H,O)}function Rc(p){function H(){eb=Cc(ab);sb=jc(ab);0>la()[0]?(eb=Oc(eb),sb=Oc(sb),p(Ya,Tb)):p(wa,pa);return O}const O=p(wa,pa),la=O.domain;let ab=10,eb,sb;O.base=function(Mb){return arguments.length?(ab=+Mb,H()):ab};O.domain=function(Mb){return arguments.length?(la(Mb),
H()):la()};O.ticks=Mb=>{var qc=la();let Vc=qc[0];qc=qc[qc.length-1];const bd=qc<Vc;bd&&([Vc,qc]=[qc,Vc]);let xc=eb(Vc),td=eb(qc),Ld;const te=null==Mb?10:+Mb;let Hd=[];if(!(ab%1)&&td-xc<te){xc=Math.floor(xc);td=Math.ceil(td);if(0<Vc)for(;xc<=td;++xc)for(Mb=1;Mb<ab;++Mb){if(Ld=0>xc?Mb/sb(-xc):Mb*sb(xc),!(Ld<Vc)){if(Ld>qc)break;Hd.push(Ld)}}else for(;xc<=td;++xc)for(Mb=ab-1;1<=Mb;--Mb)if(Ld=0<xc?Mb/sb(-xc):Mb*sb(xc),!(Ld<Vc)){if(Ld>qc)break;Hd.push(Ld)}2*Hd.length<te&&(Hd=nb(Vc,qc,te))}else Hd=nb(xc,
td,Math.min(td-xc,te)).map(sb);return bd?Hd.reverse():Hd};O.tickFormat=(Mb,qc)=>{null==Mb&&(Mb=10);null==qc&&(qc=10===ab?"s":",");"function"!==typeof qc&&(ab%1||null!=(qc=nd(qc)).precision||(qc.trim=!0),qc=L(qc));if(Infinity===Mb)return qc;const Vc=Math.max(1,ab*Mb/O.ticks().length);return bd=>{let xc=bd/sb(Math.round(eb(bd)));xc*ab<ab-.5&&(xc*=ab);return xc<=Vc?qc(bd):""}};O.nice=()=>la(ca(la(),{floor:Mb=>sb(Math.floor(eb(Mb))),ceil:Mb=>sb(Math.ceil(eb(Mb)))}));return O}function od(){const p=Rc(Kc()).domain([1,
10]);p.copy=()=>yc(p,od()).base(p.base());ha.apply(p,arguments);return p}function sd(p){return function(H){return Math.sign(H)*Math.log1p(Math.abs(H/p))}}function zd(p){return function(H){return Math.sign(H)*Math.expm1(Math.abs(H))*p}}function Zd(p){var H=1,O=p(sd(H),zd(H));O.constant=function(la){return arguments.length?p(sd(H=+la),zd(H)):H};return va(O)}function Kd(){var p=Zd(Kc());p.copy=function(){return yc(p,Kd()).constant(p.constant())};return ha.apply(p,arguments)}function $d(p){return function(H){return 0>
H?-Math.pow(-H,p):Math.pow(H,p)}}function Te(p){return 0>p?-Math.sqrt(-p):Math.sqrt(p)}function We(p){return 0>p?-p*p:p*p}function Le(p){var H=p(qb,qb),O=1;H.exponent=function(la){return arguments.length?(O=+la,1===O?p(qb,qb):.5===O?p(Te,We):p($d(O),$d(1/O))):O};return va(H)}function Ve(){var p=Le(Kc());p.copy=function(){return yc(p,Ve()).exponent(p.exponent())};ha.apply(p,arguments);return p}function Ie(){function p(){var sb=0,Mb=Math.max(1,la.length);for(ab=Array(Mb-1);++sb<Mb;)ab[sb-1]=lc(O,sb/
Mb);return H}function H(sb){return null==sb||isNaN(sb=+sb)?eb:la[Mf(ab,sb)]}var O=[],la=[],ab=[],eb;H.invertExtent=function(sb){sb=la.indexOf(sb);return 0>sb?[NaN,NaN]:[0<sb?ab[sb-1]:O[0],sb<ab.length?ab[sb]:O[O.length-1]]};H.domain=function(sb){if(!arguments.length)return O.slice();O=[];for(let Mb of sb)null==Mb||isNaN(Mb=+Mb)||O.push(Mb);O.sort(ec);return p()};H.range=function(sb){return arguments.length?(la=Array.from(sb),p()):la.slice()};H.unknown=function(sb){return arguments.length?(eb=sb,H):
eb};H.quantiles=function(){return ab.slice()};H.copy=function(){return Ie().domain(O).range(la).unknown(eb)};return ha.apply(H,arguments)}function He(){function p(qc){return null!=qc&&qc<=qc?sb[Mf(eb,qc,0,ab)]:Mb}function H(){var qc=-1;for(eb=Array(ab);++qc<ab;)eb[qc]=((qc+1)*la-(qc-ab)*O)/(ab+1);return p}var O=0,la=1,ab=1,eb=[.5],sb=[0,1],Mb;p.domain=function(qc){return arguments.length?([O,la]=qc,O=+O,la=+la,H()):[O,la]};p.range=function(qc){return arguments.length?(ab=(sb=Array.from(qc)).length-
1,H()):sb.slice()};p.invertExtent=function(qc){qc=sb.indexOf(qc);return 0>qc?[NaN,NaN]:1>qc?[O,eb[0]]:qc>=ab?[eb[ab-1],la]:[eb[qc-1],eb[qc]]};p.unknown=function(qc){return arguments.length?(Mb=qc,p):p};p.thresholds=function(){return eb.slice()};p.copy=function(){return He().domain([O,la]).range(sb).unknown(Mb)};return ha.apply(va(p),arguments)}function ie(){function p(eb){return null!=eb&&eb<=eb?O[Mf(H,eb,0,ab)]:la}var H=[.5],O=[0,1],la,ab=1;p.domain=function(eb){return arguments.length?(H=Array.from(eb),
ab=Math.min(H.length,O.length-1),p):H.slice()};p.range=function(eb){return arguments.length?(O=Array.from(eb),ab=Math.min(H.length,O.length-1),p):O.slice()};p.invertExtent=function(eb){eb=O.indexOf(eb);return[H[eb-1],H[eb]]};p.unknown=function(eb){return arguments.length?(la=eb,p):la};p.copy=function(){return ie().domain(H).range(O).unknown(la)};return ha.apply(p,arguments)}function ne(p,H,O,la){function ab(eb){return p(eb=0===arguments.length?new Date:new Date(+eb)),eb}ab.floor=eb=>(p(eb=new Date(+eb)),
eb);ab.ceil=eb=>(p(eb=new Date(eb-1)),H(eb,1),p(eb),eb);ab.round=eb=>{const sb=ab(eb),Mb=ab.ceil(eb);return eb-sb<Mb-eb?sb:Mb};ab.offset=(eb,sb)=>(H(eb=new Date(+eb),null==sb?1:Math.floor(sb)),eb);ab.range=(eb,sb,Mb)=>{const qc=[];eb=ab.ceil(eb);Mb=null==Mb?1:Math.floor(Mb);if(!(eb<sb&&0<Mb))return qc;let Vc;do qc.push(Vc=new Date(+eb)),H(eb,Mb),p(eb);while(Vc<eb&&eb<sb);return qc};ab.filter=eb=>ne(sb=>{if(sb>=sb)for(;p(sb),!eb(sb);)sb.setTime(sb-1)},(sb,Mb)=>{if(sb>=sb)if(0>Mb)for(;0>=++Mb;)for(;H(sb,
-1),!eb(sb););else for(;0<=--Mb;)for(;H(sb,1),!eb(sb););});O&&(ab.count=(eb,sb)=>{ta.setTime(+eb);db.setTime(+sb);p(ta);p(db);return Math.floor(O(ta,db))},ab.every=eb=>{eb=Math.floor(eb);return isFinite(eb)&&0<eb?1<eb?ab.filter(la?sb=>0===la(sb)%eb:sb=>0===ab.count(0,sb)%eb):ab:null});return ab}function Ee(p){return ne(H=>{H.setDate(H.getDate()-(H.getDay()+7-p)%7);H.setHours(0,0,0,0)},(H,O)=>{H.setDate(H.getDate()+7*O)},(H,O)=>(O-H-6E4*(O.getTimezoneOffset()-H.getTimezoneOffset()))/hc)}function Fd(p){return ne(H=>
{H.setUTCDate(H.getUTCDate()-(H.getUTCDay()+7-p)%7);H.setUTCHours(0,0,0,0)},(H,O)=>{H.setUTCDate(H.getUTCDate()+7*O)},(H,O)=>(O-H)/hc)}function Uf(p,H,O,la,ab,eb){function sb(qc,Vc,bd){const xc=Math.abs(Vc-qc)/bd,td=yb(([,,Hd])=>Hd).right(Mb,xc);if(td===Mb.length)return p.every(lb(qc/dc,Vc/dc,bd));if(0===td)return Rb.every(Math.max(lb(qc,Vc,bd),1));const [Ld,te]=Mb[xc/Mb[td-1][2]<Mb[td][2]/xc?td-1:td];return Ld.every(te)}const Mb=[[Uc,1,1E3],[Uc,5,5E3],[Uc,15,15E3],[Uc,30,3E4],[eb,1,6E4],[eb,5,3E5],
[eb,15,9E5],[eb,30,18E5],[ab,1,36E5],[ab,3,108E5],[ab,6,216E5],[ab,12,432E5],[la,1,864E5],[la,2,1728E5],[O,1,hc],[H,1,Dc],[H,3,3*Dc],[p,1,dc]];return[function(qc,Vc,bd){const xc=Vc<qc;xc&&([qc,Vc]=[Vc,qc]);qc=(bd=bd&&"function"===typeof bd.range?bd:sb(qc,Vc,bd))?bd.range(qc,+Vc+1):[];return xc?qc.reverse():qc},sb]}function rf(p){if(0<=p.y&&100>p.y){var H=new Date(-1,p.m,p.d,p.H,p.M,p.S,p.L);H.setFullYear(p.y);return H}return new Date(p.y,p.m,p.d,p.H,p.M,p.S,p.L)}function Ne(p){if(0<=p.y&&100>p.y){var H=
new Date(Date.UTC(-1,p.m,p.d,p.H,p.M,p.S,p.L));H.setUTCFullYear(p.y);return H}return new Date(Date.UTC(p.y,p.m,p.d,p.H,p.M,p.S,p.L))}function ze(p,H,O){return{y:p,m:H,d:O,H:0,M:0,S:0,L:0}}function Oe(p){function H(Gd,rd){return function(Ed){var ud=[],ff=-1,ye=0,Ef=Gd.length,Se,Bg;for(Ed instanceof Date||(Ed=new Date(+Ed));++ff<Ef;)if(37===Gd.charCodeAt(ff)){ud.push(Gd.slice(ye,ff));null!=(ye=Lg[Se=Gd.charAt(++ff)])?Se=Gd.charAt(++ff):ye="e"===Se?" ":"0";if(Bg=rd[Se])Se=Bg(Ed,ye);ud.push(Se);ye=ff+
1}ud.push(Gd.slice(ye,ff));return ud.join("")}}function O(Gd,rd){return function(Ed){var ud=ze(1900,void 0,1);if(la(ud,Gd,Ed+="",0)!=Ed.length)return null;if("Q"in ud)return new Date(ud.Q);if("s"in ud)return new Date(1E3*ud.s+("L"in ud?ud.L:0));!rd||"Z"in ud||(ud.Z=0);"p"in ud&&(ud.H=ud.H%12+12*ud.p);void 0===ud.m&&(ud.m="q"in ud?ud.q:0);if("V"in ud){if(1>ud.V||53<ud.V)return null;"w"in ud||(ud.w=1);if("Z"in ud){Ed=Ne(ze(ud.y,0,1));var ff=Ed.getUTCDay();Ed=4<ff||0===ff?ng.ceil(Ed):ng(Ed);Ed=Df.offset(Ed,
7*(ud.V-1));ud.y=Ed.getUTCFullYear();ud.m=Ed.getUTCMonth();ud.d=Ed.getUTCDate()+(ud.w+6)%7}else Ed=rf(ze(ud.y,0,1)),ff=Ed.getDay(),Ed=4<ff||0===ff?he.ceil(Ed):he(Ed),Ed=me.offset(Ed,7*(ud.V-1)),ud.y=Ed.getFullYear(),ud.m=Ed.getMonth(),ud.d=Ed.getDate()+(ud.w+6)%7}else if("W"in ud||"U"in ud)"w"in ud||(ud.w="u"in ud?ud.u%7:"W"in ud?1:0),ff="Z"in ud?Ne(ze(ud.y,0,1)).getUTCDay():rf(ze(ud.y,0,1)).getDay(),ud.m=0,ud.d="W"in ud?(ud.w+6)%7+7*ud.W-(ff+5)%7:ud.w+7*ud.U-(ff+6)%7;return"Z"in ud?(ud.H+=ud.Z/100|
0,ud.M+=ud.Z%100,Ne(ud)):rf(ud)}}function la(Gd,rd,Ed,ud){for(var ff=0,ye=rd.length,Ef=Ed.length,Se;ff<ye;){if(ud>=Ef)return-1;Se=rd.charCodeAt(ff++);if(37===Se){if(Se=rd.charAt(ff++),Se=Lh[Se in Lg?rd.charAt(ff++):Se],!Se||0>(ud=Se(Gd,Ed,ud)))return-1}else if(Se!=Ed.charCodeAt(ud++))return-1}return ud}var ab=p.dateTime,eb=p.date,sb=p.time,Mb=p.periods,qc=p.days,Vc=p.shortDays,bd=p.months,xc=p.shortMonths,td=gf(Mb),Ld=Da(Mb),te=gf(qc),Hd=Da(qc),Ye=gf(Vc),cg=Da(Vc),ee=gf(bd),pg=Da(bd),Ig=gf(xc),bg=
Da(xc),ue={a:function(Gd){return Vc[Gd.getDay()]},A:function(Gd){return qc[Gd.getDay()]},b:function(Gd){return xc[Gd.getMonth()]},B:function(Gd){return bd[Gd.getMonth()]},c:null,d:Je,e:Je,f:K,g:Lc,G:Bd,H:ae,I:qa,j:m,L:r,m:ka,M:Fa,p:function(Gd){return Mb[+(12<=Gd.getHours())]},q:function(Gd){return 1+~~(Gd.getMonth()/3)},Q:lf,s:Ke,S:Sa,u:Oa,U:tb,V:oc,w:kc,W:sc,x:null,X:null,y:tc,Y:Wc,Z:qd,"%":lg},Gf={a:function(Gd){return Vc[Gd.getUTCDay()]},A:function(Gd){return qc[Gd.getUTCDay()]},b:function(Gd){return xc[Gd.getUTCMonth()]},
B:function(Gd){return bd[Gd.getUTCMonth()]},c:null,d:xd,e:xd,f:fe,g:tf,G:yf,H:Nd,I:mc,j:vd,L:se,m:Vd,M:Cd,p:function(Gd){return Mb[+(12<=Gd.getUTCHours())]},q:function(Gd){return 1+~~(Gd.getUTCMonth()/3)},Q:lf,s:Ke,S:Od,u:ke,U:Ge,V:$e,w:ad,W:le,x:null,X:null,y:mf,Y:Eg,Z:Qf,"%":lg},Lh={a:function(Gd,rd,Ed){return(rd=Ye.exec(rd.slice(Ed)))?(Gd.w=cg.get(rd[0].toLowerCase()),Ed+rd[0].length):-1},A:function(Gd,rd,Ed){return(rd=te.exec(rd.slice(Ed)))?(Gd.w=Hd.get(rd[0].toLowerCase()),Ed+rd[0].length):-1},
b:function(Gd,rd,Ed){return(rd=Ig.exec(rd.slice(Ed)))?(Gd.m=bg.get(rd[0].toLowerCase()),Ed+rd[0].length):-1},B:function(Gd,rd,Ed){return(rd=ee.exec(rd.slice(Ed)))?(Gd.m=pg.get(rd[0].toLowerCase()),Ed+rd[0].length):-1},c:function(Gd,rd,Ed){return la(Gd,ab,rd,Ed)},d:oe,e:oe,f:Ae,g:Td,G:Dd,H:Pe,I:Pe,j:df,L:Cf,m:pd,M:Ud,p:function(Gd,rd,Ed){return(rd=td.exec(rd.slice(Ed)))?(Gd.p=Ld.get(rd[0].toLowerCase()),Ed+rd[0].length):-1},q:Ze,Q:kf,s:qe,S:hf,u:fc,U:hd,V:id,w:cb,W:ed,x:function(Gd,rd,Ed){return la(Gd,
eb,rd,Ed)},X:function(Gd,rd,Ed){return la(Gd,sb,rd,Ed)},y:Td,Y:Dd,Z:Md,"%":Qe};ue.x=H(eb,ue);ue.X=H(sb,ue);ue.c=H(ab,ue);Gf.x=H(eb,Gf);Gf.X=H(sb,Gf);Gf.c=H(ab,Gf);return{format:function(Gd){var rd=H(Gd+="",ue);rd.toString=function(){return Gd};return rd},parse:function(Gd){var rd=O(Gd+="",!1);rd.toString=function(){return Gd};return rd},utcFormat:function(Gd){var rd=H(Gd+="",Gf);rd.toString=function(){return Gd};return rd},utcParse:function(Gd){var rd=O(Gd+="",!0);rd.toString=function(){return Gd};
return rd}}}function Pd(p,H,O){var la=0>p?"-":"";p=(la?-p:p)+"";var ab=p.length;return la+(ab<O?Array(O-ab+1).join(H)+p:p)}function dg(p){return p.replace(Ij,"\\$\x26")}function gf(p){return new RegExp("^(?:"+p.map(dg).join("|")+")","i")}function Da(p){return new Map(p.map((H,O)=>[H.toLowerCase(),O]))}function cb(p,H,O){return(H=Yf.exec(H.slice(O,O+1)))?(p.w=+H[0],O+H[0].length):-1}function fc(p,H,O){return(H=Yf.exec(H.slice(O,O+1)))?(p.u=+H[0],O+H[0].length):-1}function hd(p,H,O){return(H=Yf.exec(H.slice(O,
O+2)))?(p.U=+H[0],O+H[0].length):-1}function id(p,H,O){return(H=Yf.exec(H.slice(O,O+2)))?(p.V=+H[0],O+H[0].length):-1}function ed(p,H,O){return(H=Yf.exec(H.slice(O,O+2)))?(p.W=+H[0],O+H[0].length):-1}function Dd(p,H,O){return(H=Yf.exec(H.slice(O,O+4)))?(p.y=+H[0],O+H[0].length):-1}function Td(p,H,O){return(H=Yf.exec(H.slice(O,O+2)))?(p.y=+H[0]+(68<+H[0]?1900:2E3),O+H[0].length):-1}function Md(p,H,O){return(H=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(H.slice(O,O+6)))?(p.Z=H[1]?0:-(H[2]+(H[3]||"00")),O+H[0].length):
-1}function Ze(p,H,O){return(H=Yf.exec(H.slice(O,O+1)))?(p.q=3*H[0]-3,O+H[0].length):-1}function pd(p,H,O){return(H=Yf.exec(H.slice(O,O+2)))?(p.m=H[0]-1,O+H[0].length):-1}function oe(p,H,O){return(H=Yf.exec(H.slice(O,O+2)))?(p.d=+H[0],O+H[0].length):-1}function df(p,H,O){return(H=Yf.exec(H.slice(O,O+3)))?(p.m=0,p.d=+H[0],O+H[0].length):-1}function Pe(p,H,O){return(H=Yf.exec(H.slice(O,O+2)))?(p.H=+H[0],O+H[0].length):-1}function Ud(p,H,O){return(H=Yf.exec(H.slice(O,O+2)))?(p.M=+H[0],O+H[0].length):
-1}function hf(p,H,O){return(H=Yf.exec(H.slice(O,O+2)))?(p.S=+H[0],O+H[0].length):-1}function Cf(p,H,O){return(H=Yf.exec(H.slice(O,O+3)))?(p.L=+H[0],O+H[0].length):-1}function Ae(p,H,O){return(H=Yf.exec(H.slice(O,O+6)))?(p.L=Math.floor(H[0]/1E3),O+H[0].length):-1}function Qe(p,H,O){return(p=Xg.exec(H.slice(O,O+1)))?O+p[0].length:-1}function kf(p,H,O){return(H=Yf.exec(H.slice(O)))?(p.Q=+H[0],O+H[0].length):-1}function qe(p,H,O){return(H=Yf.exec(H.slice(O)))?(p.s=+H[0],O+H[0].length):-1}function Je(p,
H){return Pd(p.getDate(),H,2)}function ae(p,H){return Pd(p.getHours(),H,2)}function qa(p,H){return Pd(p.getHours()%12||12,H,2)}function m(p,H){return Pd(1+me.count(Sf(p),p),H,3)}function r(p,H){return Pd(p.getMilliseconds(),H,3)}function K(p,H){return r(p,H)+"000"}function ka(p,H){return Pd(p.getMonth()+1,H,2)}function Fa(p,H){return Pd(p.getMinutes(),H,2)}function Sa(p,H){return Pd(p.getSeconds(),H,2)}function Oa(p){p=p.getDay();return 0===p?7:p}function tb(p,H){return Pd(bh.count(Sf(p)-1,p),H,2)}
function rb(p){var H=p.getDay();return 4<=H||0===H?Rf(p):Rf.ceil(p)}function oc(p,H){p=rb(p);return Pd(Rf.count(Sf(p),p)+(4===Sf(p).getDay()),H,2)}function kc(p){return p.getDay()}function sc(p,H){return Pd(he.count(Sf(p)-1,p),H,2)}function tc(p,H){return Pd(p.getFullYear()%100,H,2)}function Lc(p,H){p=rb(p);return Pd(p.getFullYear()%100,H,2)}function Wc(p,H){return Pd(p.getFullYear()%1E4,H,4)}function Bd(p,H){var O=p.getDay();p=4<=O||0===O?Rf(p):Rf.ceil(p);return Pd(p.getFullYear()%1E4,H,4)}function qd(p){p=
p.getTimezoneOffset();return(0<p?"-":(p*=-1,"+"))+Pd(p/60|0,"0",2)+Pd(p%60,"0",2)}function xd(p,H){return Pd(p.getUTCDate(),H,2)}function Nd(p,H){return Pd(p.getUTCHours(),H,2)}function mc(p,H){return Pd(p.getUTCHours()%12||12,H,2)}function vd(p,H){return Pd(1+Df.count(xh(p),p),H,3)}function se(p,H){return Pd(p.getUTCMilliseconds(),H,3)}function fe(p,H){return se(p,H)+"000"}function Vd(p,H){return Pd(p.getUTCMonth()+1,H,2)}function Cd(p,H){return Pd(p.getUTCMinutes(),H,2)}function Od(p,H){return Pd(p.getUTCSeconds(),
H,2)}function ke(p){p=p.getUTCDay();return 0===p?7:p}function Ge(p,H){return Pd(ag.count(xh(p)-1,p),H,2)}function ce(p){var H=p.getUTCDay();return 4<=H||0===H?Ff(p):Ff.ceil(p)}function $e(p,H){p=ce(p);return Pd(Ff.count(xh(p),p)+(4===xh(p).getUTCDay()),H,2)}function ad(p){return p.getUTCDay()}function le(p,H){return Pd(ng.count(xh(p)-1,p),H,2)}function mf(p,H){return Pd(p.getUTCFullYear()%100,H,2)}function tf(p,H){p=ce(p);return Pd(p.getUTCFullYear()%100,H,2)}function Eg(p,H){return Pd(p.getUTCFullYear()%
1E4,H,4)}function yf(p,H){var O=p.getUTCDay();p=4<=O||0===O?Ff(p):Ff.ceil(p);return Pd(p.getUTCFullYear()%1E4,H,4)}function Qf(){return"+0000"}function lg(){return"%"}function lf(p){return+p}function Ke(p){return Math.floor(+p/1E3)}function Wf(p){return new Date(p)}function Ng(p){return p instanceof Date?+p:+new Date(+p)}function Kf(p,H,O,la,ab,eb,sb,Mb,qc,Vc){function bd(ue){return(qc(ue)<ue?te:Mb(ue)<ue?Hd:sb(ue)<ue?Ye:eb(ue)<ue?cg:la(ue)<ue?ab(ue)<ue?ee:pg:O(ue)<ue?Ig:bg)(ue)}var xc=Kc()(qb,qb),
td=xc.invert,Ld=xc.domain,te=Vc(".%L"),Hd=Vc(":%S"),Ye=Vc("%I:%M"),cg=Vc("%I %p"),ee=Vc("%a %d"),pg=Vc("%b %d"),Ig=Vc("%B"),bg=Vc("%Y");xc.invert=function(ue){return new Date(td(ue))};xc.domain=function(ue){return arguments.length?Ld(Array.from(ue,Ng)):Ld().map(Wf)};xc.ticks=function(ue){var Gf=Ld();return p(Gf[0],Gf[Gf.length-1],null==ue?10:ue)};xc.tickFormat=function(ue,Gf){return null==Gf?bd:Vc(Gf)};xc.nice=function(ue){var Gf=Ld();ue&&"function"===typeof ue.range||(ue=H(Gf[0],Gf[Gf.length-1],
null==ue?10:ue));return ue?Ld(ca(Gf,ue)):xc};xc.copy=function(){return yc(xc,Kf(p,H,O,la,ab,eb,sb,Mb,qc,Vc))};return xc}function Pf(){function p(xc){return null==xc||isNaN(xc=+xc)?bd:qc(0===sb?.5:(xc=(Mb(xc)-ab)*sb,Vc?Math.max(0,Math.min(1,xc)):xc))}function H(xc){return function(td){var Ld,te;return arguments.length?([Ld,te]=td,qc=xc(Ld,te),p):[qc(0),qc(1)]}}var O=0,la=1,ab,eb,sb,Mb,qc=qb,Vc=!1,bd;p.domain=function(xc){return arguments.length?([O,la]=xc,ab=Mb(O=+O),eb=Mb(la=+la),sb=ab===eb?0:1/(eb-
ab),p):[O,la]};p.clamp=function(xc){return arguments.length?(Vc=!!xc,p):Vc};p.interpolator=function(xc){return arguments.length?(qc=xc,p):qc};p.range=H(Zc);p.rangeRound=H(Pc);p.unknown=function(xc){return arguments.length?(bd=xc,p):bd};return function(xc){Mb=xc;ab=xc(O);eb=xc(la);sb=ab===eb?0:1/(eb-ab);return p}}function Xf(p,H){return H.domain(p.domain()).interpolator(p.interpolator()).clamp(p.clamp()).unknown(p.unknown())}function kh(){var p=va(Pf()(qb));p.copy=function(){return Xf(p,kh())};return xa.apply(p,
arguments)}function Yg(){var p=Rc(Pf()).domain([1,10]);p.copy=function(){return Xf(p,Yg()).base(p.base())};return xa.apply(p,arguments)}function Zg(){var p=Zd(Pf());p.copy=function(){return Xf(p,Zg()).constant(p.constant())};return xa.apply(p,arguments)}function Og(){var p=Le(Pf());p.copy=function(){return Xf(p,Og()).exponent(p.exponent())};return xa.apply(p,arguments)}function Pg(){function p(Hd){return isNaN(Hd=+Hd)?te:(Hd=.5+((Hd=+td(Hd))-Mb)*(eb*Hd<eb*Mb?Vc:bd),xc(Ld?Math.max(0,Math.min(1,Hd)):
Hd))}function H(Hd){return function(Ye){var cg,ee,pg;return arguments.length?([cg,ee,pg]=Ye,xc=ya(Hd,[cg,ee,pg]),p):[xc(0),xc(.5),xc(1)]}}var O=0,la=.5,ab=1,eb=1,sb,Mb,qc,Vc,bd,xc=qb,td,Ld=!1,te;p.domain=function(Hd){return arguments.length?([O,la,ab]=Hd,sb=td(O=+O),Mb=td(la=+la),qc=td(ab=+ab),Vc=sb===Mb?0:.5/(Mb-sb),bd=Mb===qc?0:.5/(qc-Mb),eb=Mb<sb?-1:1,p):[O,la,ab]};p.clamp=function(Hd){return arguments.length?(Ld=!!Hd,p):Ld};p.interpolator=function(Hd){return arguments.length?(xc=Hd,p):xc};p.range=
H(Zc);p.rangeRound=H(Pc);p.unknown=function(Hd){return arguments.length?(te=Hd,p):te};return function(Hd){td=Hd;sb=Hd(O);Mb=Hd(la);qc=Hd(ab);Vc=sb===Mb?0:.5/(Mb-sb);bd=Mb===qc?0:.5/(qc-Mb);eb=Mb<sb?-1:1;return p}}function $g(){var p=va(Pg()(qb));p.copy=function(){return Xf(p,$g())};return xa.apply(p,arguments)}function Lf(){var p=Rc(Pg()).domain([.1,1,10]);p.copy=function(){return Xf(p,Lf()).base(p.base())};return xa.apply(p,arguments)}function W(){var p=Zd(Pg());p.copy=function(){return Xf(p,W()).constant(p.constant())};
return xa.apply(p,arguments)}function La(){var p=Le(Pg());p.copy=function(){return Xf(p,La()).exponent(p.exponent())};return xa.apply(p,arguments)}function ob(){function p(){var xc=O().length;const td=ab[1]<ab[0],Ld=ab[1-td],te=$a(xc,qc,Vc);let Hd=ab[td-0];eb=(Ld-Hd)/(te||1);Mb&&(eb=Math.floor(eb));Hd+=(Ld-Hd-eb*(xc-qc))*bd;sb=eb*(1-qc);Mb&&(Hd=Math.round(Hd),sb=Math.round(sb));xc=ua(xc).map(Ye=>Hd+eb*Ye);return la(td?xc.reverse():xc)}const H=Ua().unknown(void 0),O=H.domain,la=H.range;let ab=[0,1],
eb,sb,Mb=!1,qc=0,Vc=0,bd=.5;delete H.unknown;H.domain=function(xc){return arguments.length?(O(xc),p()):O()};H.range=function(xc){return arguments.length?(ab=[+xc[0],+xc[1]],p()):ab.slice()};H.rangeRound=function(xc){ab=[+xc[0],+xc[1]];Mb=!0;return p()};H.bandwidth=function(){return sb};H.step=function(){return eb};H.round=function(xc){return arguments.length?(Mb=!!xc,p()):Mb};H.padding=function(xc){return arguments.length?(qc=Vc=Math.max(0,Math.min(1,xc)),p()):qc};H.paddingInner=function(xc){return arguments.length?
(qc=Math.max(0,Math.min(1,xc)),p()):qc};H.paddingOuter=function(xc){return arguments.length?(Vc=Math.max(0,Math.min(1,xc)),p()):Vc};H.align=function(xc){return arguments.length?(bd=Math.max(0,Math.min(1,xc)),p()):bd};H.invertRange=function(xc){if(null!=xc[0]&&null!=xc[1]){var td=ab[1]<ab[0],Ld=td?la().reverse():la(),te=Ld.length-1,Hd=+xc[0],Ye=+xc[1];if(Hd===Hd&&Ye===Ye){if(Ye<Hd){var cg=Hd;Hd=Ye;Ye=cg}if(!(Ye<Ld[0]||Hd>ab[1-td]))return xc=Math.max(0,Mf(Ld,Hd)-1),Ye=Hd===Ye?xc:Mf(Ld,Ye)-1,Hd-Ld[xc]>
sb+1E-10&&++xc,td&&(cg=xc,xc=te-Ye,Ye=te-cg),xc>Ye?void 0:O().slice(xc,Ye+1)}}};H.invert=function(xc){return(xc=H.invertRange([xc,xc]))?xc[0]:xc};H.copy=function(){return ob().domain(O()).range(ab).round(Mb).paddingInner(qc).paddingOuter(Vc).align(bd)};return p()}function Ac(p){const H=p.copy;p.padding=p.paddingOuter;delete p.paddingInner;p.copy=function(){return Ac(H())};return p}function Bc(){function p(la){return null==la||la!==la?void 0:O[(Mf(H,la)-1)%O.length]}let H=[],O=[];p.domain=function(la){return arguments.length?
(H=Ti.call(la,l.toNumber),p):H.slice()};p.range=function(la){return arguments.length?(O=sk.call(la),p):O.slice()};p.tickFormat=function(la,ab){return J(H[0],l.peek(H),null==la?10:la,ab)};p.copy=function(){return Bc().domain(p.domain()).range(p.range())};return p}function yd(p){p[hj]=!0;return p}function Rd(p,H,O){const la=function(){const ab=H();ab.invertRange||(ab.invertRange=ab.invert?vb(ab):ab.invertExtent?Xb(ab):void 0);ab.type=p;return yd(ab)};la.metadata=l.toSet(l.array(O));return la}function Id(p,
H,O){return 1<arguments.length?(Yh.set(p,Rd(p,H,O)),this):Zf(p)?Yh.get(p):void 0}function Zf(p){return Yh.has(p)}function nf(p,H){return(p=Yh.get(p))&&p.metadata[H]}function zg(p){return nf(p,"discrete")}function sh(p){return nf(p,"discretizing")}function lh(p){return nf(p,"log")}function kg(p){return nf(p,"temporal")}function rg(p,H,O){return ya(rh(H||"rgb",O),p)}function rh(p,H){p=F[Jd(p)];return null!=H&&p&&p.gamma?p.gamma(H):p}function Jd(p){return"interpolate"+p.toLowerCase().split("-").map(H=>
H[0].toUpperCase()+H.slice(1)).join("")}function Xd(p){for(var H=p.length/6|0,O=Array(H),la=0;la<H;)O[la]="#"+p.slice(6*la,6*++la);return O}function zf(p){if(l.isArray(p))return p;const H=p.length/6|0,O=Array(H);for(let la=0;la<H;)O[la]="#"+p.slice(6*la,6*++la);return O}function we(p,H){for(const O in p)af(O,H(p[O]))}function af(p,H){p=p&&p.toLowerCase();return 1<arguments.length?(jj[p]=H,this):jj[p]}function Re(p,H,O){var la=p.range();let ab=la[0],eb=l.peek(la);la=Nj;ab>eb&&(la=eb,eb=ab,ab=la,la=
kj);ab=Math.floor(ab);eb=Math.ceil(eb);H=H.map(sb=>[sb,p(sb)]).filter(sb=>ab<=sb[1]&&sb[1]<=eb).sort(la).map(sb=>sb[0]);if(0<O&&1<H.length){for(la=[H[0],l.peek(H)];H.length>O&&3<=H.length;)H=H.filter((sb,Mb)=>!(Mb%2));3>H.length&&(H=la)}return H}function uf(p,H){return p.bins?Re(p,p.bins,H):p.ticks?p.ticks(H):p.domain()}function fg(p,H,O,la,ab,eb){const sb=H.type;let Mb=uk;if("time"===sb||"time"===ab)Mb=p.timeFormat(la);else if("utc"===sb||"utc"===ab)Mb=p.utcFormat(la);else if(lh(sb)){const qc=p.formatFloat(la);
if(eb||H.bins)Mb=qc;else{const Vc=of(H,O,!1);Mb=bd=>Vc(bd)?qc(bd):""}}else H.tickFormat?(H=H.domain(),Mb=p.formatSpan(H[0],H[H.length-1],O,la)):la&&(Mb=p.format(la));return Mb}function of(p,H,O){const la=uf(p,H),ab=p.base(),eb=Math.log(ab),sb=Math.max(1,ab*H/la.length);p=Mb=>{Mb/=Math.pow(ab,Math.round(Math.log(Mb)/eb));Mb*ab<ab-.5&&(Mb*=ab);return Mb<=sb};return O?la.filter(p):p}function tg(p,H){p.bins?(p=p.bins,H=p.slice(0,-1),H.max=l.peek(p),p=H):"log"===p.type?p=of(p,H,!0):xi[p.type]?(p=p[xi[p.type]](),
p=[-Infinity].concat(p),p.max=Infinity):p=uf(p,H);return p}function hg(p,H,O,la,ab,eb,sb){if(Mj[H.type]&&"time"!==eb&&"utc"!==eb){O=H[Mj[H.type]]();eb=O.length;sb=1<eb?O[1]-O[0]:O[0];let Mb;for(Mb=1;Mb<eb;++Mb)sb=Math.min(sb,O[Mb]-O[Mb-1]);p=p.formatSpan(0,sb,30,ab)}else p=fg(p,H,O,ab,eb,sb);return"symbol"===la&&(xi[H.type]||H.bins)?vk(p):"discrete"===la?wf(p):Dj(p)}const Mf=yb(ec).right;yb(Lb).center;class Rg extends Map{constructor(p,H=Cb){super();Object.defineProperties(this,{_intern:{value:new Map},
_key:{value:H}});if(null!=p)for(const [O,la]of p)this.set(O,la)}get(p){return super.get(Yb(this,p))}has(p){return super.has(Yb(this,p))}set(p,H){return super.set(Ba(this,p),H)}delete(p){return super.delete(bb(this,p))}}const Nf=Math.sqrt(50),Qh=Math.sqrt(10),Ag=Math.sqrt(2),Fg=Symbol("implicit");var ug=1/.7,Rh=/^#([0-9a-f]{3,8})$/,Aj=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),vg=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
Ii=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),qi=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Ji=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
ri=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Sh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,
cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,
dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,
lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,
mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,
seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xa(jb,Ub,{copy(p){return Object.assign(new this.constructor,this,p)},displayable(){return this.rgb().displayable()},hex:gb,formatHex:gb,
formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return y(this).formatHsl()},formatRgb:wb,toString:wb});Xa(Y,Ha,Ka(jb,{brighter(p){p=null==p?ug:Math.pow(ug,p);return new Y(this.r*p,this.g*p,this.b*p,this.opacity)},darker(p){p=null==p?.7:Math.pow(.7,p);return new Y(this.r*p,this.g*p,this.b*p,this.opacity)},rgb(){return this},clamp(){return new Y(n(this.r),n(this.g),n(this.b),na(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=
this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Ca,formatHex:Ca,formatHex8:function(){return`#${G(this.r)}${G(this.g)}${G(this.b)}${G(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:ma,toString:ma}));Xa(D,T,Ka(jb,{brighter(p){p=null==p?ug:Math.pow(ug,p);return new D(this.h,this.s,this.l*p,this.opacity)},darker(p){p=null==p?.7:Math.pow(.7,p);return new D(this.h,this.s,this.l*p,this.opacity)},rgb(){var p=this.h%360+360*(0>this.h),H=isNaN(p)||isNaN(this.s)?0:this.s,O=this.l;H=O+(.5>
O?O:1-O)*H;O=2*O-H;return new Y(B(240<=p?p-240:p+120,O,H),B(p,O,H),B(120>p?p+240:p-120,O,H),this.opacity)},clamp(){return new D(A(this.h),P(this.s),P(this.l),na(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const p=na(this.opacity);return`${1===p?"hsl(":"hsla("}${A(this.h)}, ${100*P(this.s)}%, ${100*P(this.l)}%${1===p?")":`, ${p})`}`}}));const $f=Math.PI/180,ci=180/Math.PI,Th=4/29,th=6/29,si=3*th*th,Ki=
th*th*th;Xa(X,I,Ka(jb,{brighter(p){return new X(this.l+18*(null==p?1:p),this.a,this.b,this.opacity)},darker(p){return new X(this.l-18*(null==p?1:p),this.a,this.b,this.opacity)},rgb(){var p=(this.l+16)/116,H=isNaN(this.a)?p:p+this.a/500,O=isNaN(this.b)?p:p-this.b/200;H=.96422*R(H);p=1*R(p);O=.82521*R(O);return new Y(ia(3.1338561*H-1.6168667*p-.4906146*O),ia(-.9787684*H+1.9161415*p+.033454*O),ia(.0719453*H-.2289914*p+1.4052427*O),this.opacity)}}));Xa(fb,Ra,Ka(jb,{brighter(p){return new fb(this.h,this.c,
this.l+18*(null==p?1:p),this.opacity)},darker(p){return new fb(this.h,this.c,this.l-18*(null==p?1:p),this.opacity)},rgb(){return zb(this).rgb()}}));var di=1.78277*-.29227-.1347134789;Xa(Vb,kb,Ka(jb,{brighter(p){p=null==p?ug:Math.pow(ug,p);return new Vb(this.h,this.s,this.l*p,this.opacity)},darker(p){p=null==p?.7:Math.pow(.7,p);return new Vb(this.h,this.s,this.l*p,this.opacity)},rgb(){var p=isNaN(this.h)?0:(this.h+120)*$f,H=+this.l,O=isNaN(this.s)?0:this.s*H*(1-H),la=Math.cos(p);p=Math.sin(p);return new Y(255*
(H+O*(-.14861*la+1.78277*p)),255*(H+O*(-.29227*la+-.90649*p)),255*(H+1.97294*O*la),this.opacity)}}));var Fh=p=>()=>p,Uh=function O(H){function la(eb,sb){var Mb=ab((eb=Ha(eb)).r,(sb=Ha(sb)).r),qc=ab(eb.g,sb.g),Vc=ab(eb.b,sb.b),bd=rc(eb.opacity,sb.opacity);return function(xc){eb.r=Mb(xc);eb.g=qc(xc);eb.b=Vc(xc);eb.opacity=bd(xc);return eb+""}}var ab=Nb(H);la.gamma=O;return la}(1),Li=Sc(Ga),Mi=Sc(Qb),uh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hh=new RegExp(uh.source,"g"),Hg=180/Math.PI,Me={translateX:0,
translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},vh,Mg=Ma(function(H){H=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(H+"");return H.isIdentity?Me:oa(H.a,H.b,H.c,H.d,H.e,H.f)},"px, ","px)","deg)"),Af=Ma(function(H){if(null==H)return Me;vh||(vh=document.createElementNS("http://www.w3.org/2000/svg","g"));vh.setAttribute("transform",H);if(!(H=vh.transform.baseVal.consolidate()))return Me;H=H.matrix;return oa(H.a,H.b,H.c,H.d,H.e,H.f)},", ",")",")"),cj=function eb(O,la,ab){function sb(Mb,
qc){var Vc=Mb[0],bd=Mb[1],xc=Mb[2];Mb=qc[2];var td=qc[0]-Vc,Ld=qc[1]-bd,te=td*td+Ld*Ld;if(1E-12>te){var Hd=Math.log(Mb/xc)/O;Mb=function(ee){return[Vc+ee*td,bd+ee*Ld,xc*Math.exp(O*ee*Hd)]}}else{var Ye=Math.sqrt(te);qc=(Mb*Mb-xc*xc+ab*te)/(2*xc*la*Ye);Mb=(Mb*Mb-xc*xc-ab*te)/(2*Mb*la*Ye);var cg=Math.log(Math.sqrt(qc*qc+1)-qc);Hd=(Math.log(Math.sqrt(Mb*Mb+1)-Mb)-cg)/O;Mb=function(ee){ee*=Hd;var pg=ib(cg),Ig=O*ee+cg;var bg=((Ig=Math.exp(2*Ig))-1)/(Ig+1);var ue=cg;Ig=((ue=Math.exp(ue))-1/ue)/2;bg=xc/(la*
Ye)*(pg*bg-Ig);return[Vc+bg*td,bd+bg*Ld,xc*pg/ib(O*ee+cg)]}}Mb.duration=1E3*Hd*O/Math.SQRT2;return Mb}sb.rho=function(Mb){Mb=Math.max(.001,+Mb);var qc=Mb*Mb;return eb(Mb,qc,qc*qc)};return sb}(Math.SQRT2,2,4),mg=V(Ob),Gg=V(rc),wh=x(Ob),dj=x(rc),Ih=da(Ob),ei=da(rc),F=Object.freeze({__proto__:null,interpolate:Zc,interpolateArray:function(O,la){return(Gb(la)?ra:Va)(O,la)},interpolateBasis:Ga,interpolateBasisClosed:Qb,interpolateCubehelix:Ih,interpolateCubehelixLong:ei,interpolateDate:Ab,interpolateDiscrete:function(O){var la=
O.length;return function(ab){return O[Math.max(0,Math.min(la-1,Math.floor(ab*la)))]}},interpolateHcl:wh,interpolateHclLong:dj,interpolateHsl:mg,interpolateHslLong:Gg,interpolateHue:function(O,la){var ab=Ob(+O,+la);return function(eb){eb=ab(eb);return eb-360*Math.floor(eb/360)}},interpolateLab:function(O,la){var ab=rc((O=I(O)).l,(la=I(la)).l),eb=rc(O.a,la.a),sb=rc(O.b,la.b),Mb=rc(O.opacity,la.opacity);return function(qc){O.l=ab(qc);O.a=eb(qc);O.b=sb(qc);O.opacity=Mb(qc);return O+""}},interpolateNumber:Jb,
interpolateNumberArray:ra,interpolateObject:Eb,interpolateRgb:Uh,interpolateRgbBasis:Li,interpolateRgbBasisClosed:Mi,interpolateRound:Pc,interpolateString:wc,interpolateTransformCss:Mg,interpolateTransformSvg:Af,interpolateZoom:cj,piecewise:ya,quantize:function(O,la){for(var ab=Array(la),eb=0;eb<la;++eb)ab[eb]=O(eb/(la-1));return ab}}),Z=[0,1],za=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;nd.prototype=dd.prototype;dd.prototype.toString=function(){return this.fill+this.align+
this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var Qa,Kb={"%":(O,la)=>(100*O).toFixed(la),b:O=>Math.round(O).toString(2),c:O=>O+"",d:function(O){return 1E21<=Math.abs(O=Math.round(O))?O.toLocaleString("en").replace(/,/g,""):O.toString(10)},e:(O,la)=>O.toExponential(la),f:(O,la)=>O.toFixed(la),g:(O,la)=>O.toPrecision(la),o:O=>Math.round(O).toString(8),
p:(O,la)=>Wd(100*O,la),r:Wd,s:function(O,la){var ab=md(O,la);if(!ab)return O+"";var eb=ab[0];ab=ab[1];ab=ab-(Qa=3*Math.max(-8,Math.min(8,Math.floor(ab/3))))+1;var sb=eb.length;return ab===sb?eb:ab>sb?eb+Array(ab-sb+1).join("0"):0<ab?eb.slice(0,ab)+"."+eb.slice(ab):"0."+Array(1-ab).join("0")+md(O,Math.max(0,la+ab-1))[0]},X:O=>Math.round(O).toString(16).toUpperCase(),x:O=>Math.round(O).toString(16)},Ib=Array.prototype.map,bc="y z a f p n µ m  k M G T P E Z Y".split(" "),t,L,fa;(function(O){t=z(O);L=
t.format;fa=t.formatPrefix;return t})({thousands:",",grouping:[3],currency:["$",""]});const ta=new Date,db=new Date,Rb=ne(()=>{},(O,la)=>{O.setTime(+O+la)},(O,la)=>la-O);Rb.every=O=>{O=Math.floor(O);return isFinite(O)&&0<O?1<O?ne(la=>{la.setTime(Math.floor(la/O)*O)},(la,ab)=>{la.setTime(+la+ab*O)},(la,ab)=>(ab-la)/O):Rb:null};Rb.range;const hc=6048E5,Dc=2592E6,dc=31536E6,Uc=ne(O=>{O.setTime(O-O.getMilliseconds())},(O,la)=>{O.setTime(+O+1E3*la)},(O,la)=>(la-O)/1E3,O=>O.getUTCSeconds());Uc.range;const Qc=
ne(O=>{O.setTime(O-O.getMilliseconds()-1E3*O.getSeconds())},(O,la)=>{O.setTime(+O+6E4*la)},(O,la)=>(la-O)/6E4,O=>O.getMinutes());Qc.range;const wd=ne(O=>{O.setUTCSeconds(0,0)},(O,la)=>{O.setTime(+O+6E4*la)},(O,la)=>(la-O)/6E4,O=>O.getUTCMinutes());wd.range;const Qd=ne(O=>{O.setTime(O-O.getMilliseconds()-1E3*O.getSeconds()-6E4*O.getMinutes())},(O,la)=>{O.setTime(+O+36E5*la)},(O,la)=>(la-O)/36E5,O=>O.getHours());Qd.range;const Yd=ne(O=>{O.setUTCMinutes(0,0,0)},(O,la)=>{O.setTime(+O+36E5*la)},(O,la)=>
(la-O)/36E5,O=>O.getUTCHours());Yd.range;const me=ne(O=>O.setHours(0,0,0,0),(O,la)=>O.setDate(O.getDate()+la),(O,la)=>(la-O-6E4*(la.getTimezoneOffset()-O.getTimezoneOffset()))/864E5,O=>O.getDate()-1);me.range;const Df=ne(O=>{O.setUTCHours(0,0,0,0)},(O,la)=>{O.setUTCDate(O.getUTCDate()+la)},(O,la)=>(la-O)/864E5,O=>O.getUTCDate()-1);Df.range;const jf=ne(O=>{O.setUTCHours(0,0,0,0)},(O,la)=>{O.setUTCDate(O.getUTCDate()+la)},(O,la)=>(la-O)/864E5,O=>Math.floor(O/864E5));jf.range;const bh=Ee(0),he=Ee(1),
je=Ee(2),gi=Ee(3),Rf=Ee(4),ti=Ee(5),bf=Ee(6);bh.range;he.range;je.range;gi.range;Rf.range;ti.range;bf.range;const ag=Fd(0),ng=Fd(1),Bf=Fd(2),pf=Fd(3),Ff=Fd(4),Wh=Fd(5),ch=Fd(6);ag.range;ng.range;Bf.range;pf.range;Ff.range;Wh.range;ch.range;const nh=ne(O=>{O.setDate(1);O.setHours(0,0,0,0)},(O,la)=>{O.setMonth(O.getMonth()+la)},(O,la)=>la.getMonth()-O.getMonth()+12*(la.getFullYear()-O.getFullYear()),O=>O.getMonth());nh.range;const wg=ne(O=>{O.setUTCDate(1);O.setUTCHours(0,0,0,0)},(O,la)=>{O.setUTCMonth(O.getUTCMonth()+
la)},(O,la)=>la.getUTCMonth()-O.getUTCMonth()+12*(la.getUTCFullYear()-O.getUTCFullYear()),O=>O.getUTCMonth());wg.range;const Sf=ne(O=>{O.setMonth(0,1);O.setHours(0,0,0,0)},(O,la)=>{O.setFullYear(O.getFullYear()+la)},(O,la)=>la.getFullYear()-O.getFullYear(),O=>O.getFullYear());Sf.every=O=>isFinite(O=Math.floor(O))&&0<O?ne(la=>{la.setFullYear(Math.floor(la.getFullYear()/O)*O);la.setMonth(0,1);la.setHours(0,0,0,0)},(la,ab)=>{la.setFullYear(la.getFullYear()+ab*O)}):null;Sf.range;const xh=ne(O=>{O.setUTCMonth(0,
1);O.setUTCHours(0,0,0,0)},(O,la)=>{O.setUTCFullYear(O.getUTCFullYear()+la)},(O,la)=>la.getUTCFullYear()-O.getUTCFullYear(),O=>O.getUTCFullYear());xh.every=O=>isFinite(O=Math.floor(O))&&0<O?ne(la=>{la.setUTCFullYear(Math.floor(la.getUTCFullYear()/O)*O);la.setUTCMonth(0,1);la.setUTCHours(0,0,0,0)},(la,ab)=>{la.setUTCFullYear(la.getUTCFullYear()+ab*O)}):null;xh.range;const [ui,pk]=Uf(xh,wg,ag,jf,Yd,wd),[fj,ok]=Uf(Sf,nh,bh,me,Qd,Qc);var Lg={"-":"",_:" ",0:"0"},Yf=/^\s*\d+/,Xg=/^%/,Ij=/[\\^$*+?|[\]().{}]/g,
yh,qk,Zh;(function(O){yh=Oe(O);qk=yh.format;yh.parse;Zh=yh.utcFormat;yh.utcParse;return yh})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var Ti=Array.prototype.map;
const sk=Array.prototype.slice,Yh=new Map,hj=Symbol("vega_scale");Id("identity",Q);Id("linear",w,"continuous");Id("log",od,["continuous","log"]);Id("pow",Ve,"continuous");Id("sqrt",function(){return Ve.apply(null,arguments).exponent(.5)},"continuous");Id("symlog",Kd,"continuous");Id("time",function(){return ha.apply(Kf(fj,ok,Sf,nh,bh,me,Qd,Qc,Uc,qk).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)},["continuous","temporal"]);Id("utc",function(){return ha.apply(Kf(ui,pk,xh,wg,ag,Df,Yd,wd,Uc,
Zh).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)},["continuous","temporal"]);Id("sequential",kh,["continuous","interpolating"]);Id("sequential-linear",kh,["continuous","interpolating"]);Id("sequential-log",Yg,["continuous","interpolating","log"]);Id("sequential-pow",Og,["continuous","interpolating"]);Id("sequential-sqrt",function(){return Og.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);Id("sequential-symlog",Zg,["continuous","interpolating"]);Id("diverging-linear",
$g,["continuous","interpolating"]);Id("diverging-log",Lf,["continuous","interpolating","log"]);Id("diverging-pow",La,["continuous","interpolating"]);Id("diverging-sqrt",function(){return La.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);Id("diverging-symlog",W,["continuous","interpolating"]);Id("quantile",Ie,["discretizing","quantile"]);Id("quantize",He,"discretizing");Id("threshold",ie,"discretizing");Id("bin-ordinal",Bc,["discrete","discretizing"]);Id("ordinal",Ua,"discrete");
Id("band",ob,"discrete");Id("point",function(){return Ac(ob().paddingInner(1))},"discrete");const $k=["clamp","base","constant","exponent"];var Kj=Xd("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Cj=Xd("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Jj=Xd("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Xk=Xd("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),vi=Xd("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),ij=Xd("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),
zh=Xd("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),wi=Xd("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),tk=Xd("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),rk=Xd("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");const jj={};we({accent:Cj,category10:Kj,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",
category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:Jj,observable10:Xk,paired:vi,pastel1:ij,pastel2:zh,set1:wi,set2:tk,set3:rk,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"},zf);we({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",
greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",
greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",
yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",
redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},O=>rg(zf(O)));const uk=O=>l.isArray(O)?O.map(la=>String(la)):String(O),Nj=(O,la)=>O[1]-la[1],kj=(O,la)=>la[1]-O[1],xi={quantile:"quantiles",quantize:"thresholds",threshold:"domain"},Mj={quantile:"quantiles",quantize:"domain"},vk=O=>(la,ab,eb)=>{ab=eb[ab+1];eb=eb.max;eb=null!=eb?eb:Infinity;ab=null!=ab?ab:eb;
la=Number.isFinite(la)?O(la):null;ab=Number.isFinite(ab)?O(ab):null;return la&&ab?la+" – "+ab:ab?"\x3c "+ab:"≥ "+la},wf=O=>(la,ab)=>ab?O(la):null,Dj=O=>la=>O(la);u.Band="band";u.BinOrdinal="bin-ordinal";u.DiscreteLegend="discrete";u.Diverging="diverging";u.GradientLegend="gradient";u.Identity="identity";u.Linear="linear";u.Log="log";u.Ordinal="ordinal";u.Point="point";u.Pow="pow";u.Quantile="quantile";u.Quantize="quantize";u.Sequential="sequential";u.Sqrt="sqrt";u.SymbolLegend="symbol";u.Symlog="symlog";
u.Threshold="threshold";u.Time="time";u.UTC="utc";u.bandSpace=$a;u.domainCaption=function(O,la,ab){ab=ab||{};var eb=Math.max(3,ab.maxlen||7),sb=ab.format;const Mb=(ab=ab.formatType)||la.type;l.isString(sb)&&kg(Mb)&&(sb=sb.replace(/%a/g,"%A").replace(/%b/g,"%B"));O=sb||"time"!==Mb?sb||"utc"!==Mb?hg(O,la,5,null,sb,ab,!0):O.utcFormat("%A, %d %B %Y, %X UTC"):O.timeFormat("%A, %d %B %Y, %X");if(sh(la.type))return eb=tg(la).slice(1).map(O),la=eb.length,`${la} boundar${1===la?"y":"ies"}: ${eb.join(", ")}`;
if(zg(la.type))return sb=la.domain(),la=sb.length,eb=la>eb?sb.slice(0,eb-2).map(O).join(", ")+", ending with "+sb.slice(-1).map(O):sb.map(O).join(", "),`${la} value${1===la?"":"s"}: ${eb}`;eb=la.domain();return`values from ${O(eb[0])} to ${O(l.peek(eb))}`};u.interpolate=rh;u.interpolateColors=rg;u.interpolateRange=function(O,la){const ab=la[0],eb=l.peek(la)-ab;return function(sb){return O(ab+sb*eb)}};u.isContinuous=function(O){return nf(O,"continuous")};u.isDiscrete=zg;u.isDiscretizing=sh;u.isInterpolating=
function(O){return nf(O,"interpolating")};u.isLogarithmic=lh;u.isQuantile=function(O){return nf(O,"quantile")};u.isRegisteredScale=function(O){return O&&!0===O[hj]};u.isTemporal=kg;u.isValidScaleType=Zf;u.labelFormat=hg;u.labelFraction=function(O){var la=O.domain();const ab=la.length-1;let eb=+la[0];la=+l.peek(la);let sb=la-eb;"threshold"===O.type&&(O=ab?sb/ab:.1,eb-=O,la+=O,sb=la-eb);return Mb=>(Mb-eb)/sb};u.labelValues=tg;u.quantizeInterpolator=function(O,la){const ab=Array(la),eb=la+1;for(let sb=
0;sb<la;)ab[sb]=O(++sb/eb);return ab};u.registerScale=yd;u.scale=Id;u.scaleCopy=function(O){const la=O.type;O=O.copy();O.type=la;return O};u.scaleFraction=function(O,la,ab){var eb=ab-la;let sb,Mb;return eb&&Number.isFinite(eb)?(eb=(sb=O.type).indexOf("-"),sb=0>eb?sb:sb.slice(eb+1),Mb=Id(sb)().domain([la,ab]).range([0,1]),$k.forEach(qc=>O[qc]?Mb[qc](O[qc]()):0),Mb):l.constant(.5)};u.scaleImplicit=Fg;u.scheme=af;u.tickCount=function(O,la,ab){let eb;l.isNumber(la)&&(O.bins&&(la=Math.max(la,O.bins.length)),
null!=ab&&(la=Math.min(la,Math.floor(l.span(O.domain())/ab||1)+1)));l.isObject(la)&&(eb=la.step,la=la.interval);l.isString(la)&&(la="time"===O.type?ja.timeInterval(la):"utc"==O.type?ja.utcInterval(la):l.error("Only time and utc scales accept interval strings."),eb&&(la=la.every(eb)));return la};u.tickFormat=fg;u.tickValues=uf;u.validTicks=Re})};
shadow$provide[37]=function(Fb,pb,zc,Za){(function(u,l){"object"===typeof Za&&"undefined"!==typeof zc?l(Za,pb(24),pb(35),pb(31),pb(36)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-canvas","vega-loader","vega-scale"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega,u.vega,u.vega,u.vega))})(this,function(u,l,ja,$a,vb){function Xb(F,Z,za){const Qa=F.gradient;let Kb=F.id,Ib="radial"===Qa?"p_":"";Kb||(Kb=F.id="gradient_"+qa++,"radial"===Qa?(F.x1=
ec(F.x1,.5),F.y1=ec(F.y1,.5),F.r1=ec(F.r1,0),F.x2=ec(F.x2,.5),F.y2=ec(F.y2,.5),F.r2=ec(F.r2,.5),Ib="p_"):(F.x1=ec(F.x1,0),F.y1=ec(F.y1,0),F.x2=ec(F.x2,1),F.y2=ec(F.y2,0)));Z[Kb]=F;return"url("+(za||"")+"#"+Ib+Kb+")"}function ec(F,Z){return null!=F?F:Z}function Bb(F){return function(){return F}}function yb(F){return 1<=F?rb:-1>=F?-rb:Math.asin(F)}function ub(F){this._+=F[0];for(let Z=1,za=F.length;Z<za;++Z)this._+=arguments[Z]+F[Z]}function Lb(F){let Z=Math.floor(F);if(!(0<=Z))throw Error(`invalid digits: ${F}`);
if(15<Z)return ub;const za=Math.pow(10,Z);return function(Qa){this._+=Qa[0];for(let Kb=1,Ib=Qa.length;Kb<Ib;++Kb)this._+=Math.round(arguments[Kb]*za)/za+Qa[Kb]}}function Yb(){return new Lc}function Ba(F){let Z=3;F.digits=function(za){if(!arguments.length)return Z;if(null==za)Z=null;else{const Qa=Math.floor(za);if(!(0<=Qa))throw new RangeError(`invalid digits: ${za}`);Z=Qa}return F};return()=>new Lc(Z)}function bb(F){return F.innerRadius}function Cb(F){return F.outerRadius}function xb(F){return F.startAngle}
function nb(F){return F.endAngle}function Db(F){return F&&F.padAngle}function lb(F,Z,za,Qa,Kb,Ib,bc){var t=F-za,L=Z-Qa;bc=(bc?Ib:-Ib)/Oa(t*t+L*L);L*=bc;t*=-bc;var fa=F+L,ta=Z+t,db=za+L,Rb=Qa+t;za=(fa+db)/2;Qa=(ta+Rb)/2;Z=db-fa;F=Rb-ta;bc=Z*Z+F*F;Ib=Kb-Ib;Rb=fa*Rb-db*ta;var hc=(0>F?-1:1)*Oa(ka(0,Ib*Ib*bc-Rb*Rb));fa=(Rb*F-Z*hc)/bc;ta=(-Rb*Z-F*hc)/bc;db=(Rb*F+Z*hc)/bc;Z=(-Rb*Z+F*hc)/bc;F=fa-za;bc=ta-Qa;za=db-za;Qa=Z-Qa;F*F+bc*bc>za*za+Qa*Qa&&(fa=db,ta=Z);return{cx:fa,cy:ta,x01:-L,y01:-t,x11:fa*(Kb/Ib-
1),y11:ta*(Kb/Ib-1)}}function lc(F){return"object"===typeof F&&"length"in F?F:Array.from(F)}function ua(F){this._context=F}function ha(F){return new ua(F)}function xa(F){return F[0]}function Ua(F){return F[1]}function Xa(F,Z){function za(L){var fa,ta=(L=lc(L)).length,db,Rb=!1,hc;null==Kb&&(bc=Ib(hc=t()));for(fa=0;fa<=ta;++fa)!(fa<ta&&Qa(db=L[fa],fa,L))===Rb&&((Rb=!Rb)?bc.lineStart():bc.lineEnd()),Rb&&bc.point(+F(db,fa,L),+Z(db,fa,L));if(hc)return bc=null,hc+""||null}var Qa=Bb(!0),Kb=null,Ib=ha,bc=
null,t=Ba(za);F="function"===typeof F?F:void 0===F?xa:Bb(F);Z="function"===typeof Z?Z:void 0===Z?Ua:Bb(Z);za.x=function(L){return arguments.length?(F="function"===typeof L?L:Bb(+L),za):F};za.y=function(L){return arguments.length?(Z="function"===typeof L?L:Bb(+L),za):Z};za.defined=function(L){return arguments.length?(Qa="function"===typeof L?L:Bb(!!L),za):Qa};za.curve=function(L){return arguments.length?(Ib=L,null!=Kb&&(bc=Ib(Kb)),za):Ib};za.context=function(L){return arguments.length?(null==L?Kb=
bc=null:bc=Ib(Kb=L),za):Kb};return za}function Ka(F,Z,za){function Qa(db){var Rb,hc,Dc=(db=lc(db)).length,dc,Uc=!1,Qc,wd=Array(Dc),Qd=Array(Dc);null==t&&(fa=L(Qc=ta()));for(Rb=0;Rb<=Dc;++Rb){if(!(Rb<Dc&&bc(dc=db[Rb],Rb,db))===Uc)if(Uc=!Uc){var Yd=Rb;fa.areaStart();fa.lineStart()}else{fa.lineEnd();fa.lineStart();for(hc=Rb-1;hc>=Yd;--hc)fa.point(wd[hc],Qd[hc]);fa.lineEnd();fa.areaEnd()}Uc&&(wd[Rb]=+F(dc,Rb,db),Qd[Rb]=+Z(dc,Rb,db),fa.point(Ib?+Ib(dc,Rb,db):wd[Rb],za?+za(dc,Rb,db):Qd[Rb]))}if(Qc)return fa=
null,Qc+""||null}function Kb(){return Xa().defined(bc).curve(L).context(t)}var Ib=null,bc=Bb(!0),t=null,L=ha,fa=null,ta=Ba(Qa);F="function"===typeof F?F:void 0===F?xa:Bb(+F);Z="function"===typeof Z?Z:void 0===Z?Bb(0):Bb(+Z);za="function"===typeof za?za:void 0===za?Ua:Bb(+za);Qa.x=function(db){return arguments.length?(F="function"===typeof db?db:Bb(+db),Ib=null,Qa):F};Qa.x0=function(db){return arguments.length?(F="function"===typeof db?db:Bb(+db),Qa):F};Qa.x1=function(db){return arguments.length?(Ib=
null==db?null:"function"===typeof db?db:Bb(+db),Qa):Ib};Qa.y=function(db){return arguments.length?(Z="function"===typeof db?db:Bb(+db),za=null,Qa):Z};Qa.y0=function(db){return arguments.length?(Z="function"===typeof db?db:Bb(+db),Qa):Z};Qa.y1=function(db){return arguments.length?(za=null==db?null:"function"===typeof db?db:Bb(+db),Qa):za};Qa.lineX0=Qa.lineY0=function(){return Kb().x(F).y(Z)};Qa.lineY1=function(){return Kb().x(F).y(za)};Qa.lineX1=function(){return Kb().x(Ib).y(Z)};Qa.defined=function(db){return arguments.length?
(bc="function"===typeof db?db:Bb(!!db),Qa):bc};Qa.curve=function(db){return arguments.length?(L=db,null!=t&&(fa=L(t)),Qa):L};Qa.context=function(db){return arguments.length?(null==db?t=fa=null:fa=L(t=db),Qa):t};return Qa}function jb(){}function gb(F,Z,za){F._context.bezierCurveTo((2*F._x0+F._x1)/3,(2*F._y0+F._y1)/3,(F._x0+2*F._x1)/3,(F._y0+2*F._y1)/3,(F._x0+4*F._x1+Z)/6,(F._y0+4*F._y1+za)/6)}function wb(F){this._context=F}function Ub(F){this._context=F}function Na(F){this._context=F}function U(F,
Z){this._basis=new wb(F);this._beta=Z}function ea(F,Z,za){F._context.bezierCurveTo(F._x1+F._k*(F._x2-F._x0),F._y1+F._k*(F._y2-F._y0),F._x2+F._k*(F._x1-Z),F._y2+F._k*(F._y1-za),F._x2,F._y2)}function Ha(F,Z){this._context=F;this._k=(1-Z)/6}function Y(F,Z){this._context=F;this._k=(1-Z)/6}function Ca(F,Z){this._context=F;this._k=(1-Z)/6}function ma(F,Z,za){var Qa=F._x1,Kb=F._y1,Ib=F._x2,bc=F._y2;if(1E-12<F._l01_a){var t=2*F._l01_2a+3*F._l01_a*F._l12_a+F._l12_2a,L=3*F._l01_a*(F._l01_a+F._l12_a);Qa=(Qa*
t-F._x0*F._l12_2a+F._x2*F._l01_2a)/L;Kb=(Kb*t-F._y0*F._l12_2a+F._y2*F._l01_2a)/L}1E-12<F._l23_a&&(t=2*F._l23_2a+3*F._l23_a*F._l12_a+F._l12_2a,L=3*F._l23_a*(F._l23_a+F._l12_a),Ib=(Ib*t+F._x1*F._l23_2a-Z*F._l12_2a)/L,bc=(bc*t+F._y1*F._l23_2a-za*F._l12_2a)/L);F._context.bezierCurveTo(Qa,Kb,Ib,bc,F._x2,F._y2)}function na(F,Z){this._context=F;this._alpha=Z}function n(F,Z){this._context=F;this._alpha=Z}function G(F,Z){this._context=F;this._alpha=Z}function M(F){this._context=F}function y(F,Z,za){var Qa=
F._x1-F._x0;Z-=F._x1;var Kb=(F._y1-F._y0)/(Qa||0>Z&&-0);F=(za-F._y1)/(Z||0>Qa&&-0);return((0>Kb?-1:1)+(0>F?-1:1))*Math.min(Math.abs(Kb),Math.abs(F),.5*Math.abs((Kb*Z+F*Qa)/(Qa+Z)))||0}function T(F,Z){var za=F._x1-F._x0;return za?(3*(F._y1-F._y0)/za-Z)/2:Z}function D(F,Z,za){var Qa=F._x0,Kb=F._x1,Ib=F._y1,bc=(Kb-Qa)/3;F._context.bezierCurveTo(Qa+bc,F._y0+bc*Z,Kb-bc,Ib-bc*za,Kb,Ib)}function A(F){this._context=F}function P(F){this._context=new B(F)}function B(F){this._context=F}function E(F){this._context=
F}function I(F){var Z,za=F.length-1,Qa=Array(za),Kb=Array(za),Ib=Array(za);Qa[0]=0;Kb[0]=2;Ib[0]=F[0]+2*F[1];for(Z=1;Z<za-1;++Z)Qa[Z]=1,Kb[Z]=4,Ib[Z]=4*F[Z]+2*F[Z+1];Qa[za-1]=2;Kb[za-1]=7;Ib[za-1]=8*F[za-1]+F[za];for(Z=1;Z<za;++Z){var bc=Qa[Z]/Kb[Z-1];Kb[Z]-=bc;Ib[Z]-=bc*Ib[Z-1]}Qa[za-1]=Ib[za-1]/Kb[za-1];for(Z=za-2;0<=Z;--Z)Qa[Z]=(Ib[Z]-Qa[Z+1])/Kb[Z];Kb[za-1]=(F[za]+Qa[za-1])/2;for(Z=0;Z<za-1;++Z)Kb[Z]=2*F[Z+1]-Qa[Z+1];return[Qa,Kb]}function X(F,Z){this._context=F;this._t=Z}function Ea(F,Z,za){F=
l.hasOwnProperty(fe,F)&&fe[F];var Qa=null;F&&(Qa=F.curve||F[Z||"vertical"],F.tension&&null!=za&&(Qa=Qa[F.tension](za)));return Qa}function R(F){const Z=[];(F.match(Cd)||[]).forEach(za=>{let Qa=za[0];var Kb=Qa.toLowerCase();const Ib=Vd[Kb];var bc=za.slice(1).trim();za=[];for(let L=0;Ib&&L<bc.length;)for(let fa=0;fa<Ib;++fa){var t="a"!==Kb||3!==fa&&4!==fa?Od:Ge;t=bc.slice(L).match(t);if(null===t)throw Error("Invalid SVG path, incorrect parameter type");L+=t[0].length;za.push(+t[0]);t=bc.slice(L).match(ke);
null!==t&&(L+=t[0].length)}bc=za.length;if(bc<Ib||bc&&0!==bc%Ib)throw Error("Invalid SVG path, incorrect parameter count");Z.push([Qa,...za.slice(0,Ib)]);if(bc!==Ib)for("m"===Kb&&(Qa="M"===Qa?"L":"l"),Kb=Ib;Kb<bc;Kb+=Ib)Z.push([Qa,...za.slice(Kb,Kb+Ib)])});return Z}function ia(F,Z,za,Qa,Kb,Ib,bc,t,L){const fa=Eg.call(arguments);if(mf[fa])return mf[fa];var ta=bc*ce;const db=Math.sin(ta);ta=Math.cos(ta);za=Math.abs(za);Qa=Math.abs(Qa);var Rb=ta*(t-F)*.5+db*(L-Z)*.5,hc=ta*(L-Z)*.5-db*(t-F)*.5;Rb=Rb*
Rb/(za*za)+hc*hc/(Qa*Qa);1<Rb&&(Rb=Math.sqrt(Rb),za*=Rb,Qa*=Rb);var Dc=ta/za,dc=db/za,Uc=-db/Qa,Qc=ta/Qa;Rb=Dc*t+dc*L;hc=Uc*t+Qc*L;Dc=Dc*F+dc*Z;dc=Uc*F+Qc*Z;Uc=1/((Dc-Rb)*(Dc-Rb)+(dc-hc)*(dc-hc))-.25;0>Uc&&(Uc=0);Qc=Math.sqrt(Uc);Ib==Kb&&(Qc=-Qc);Uc=.5*(Rb+Dc)-Qc*(dc-hc);Qc=.5*(hc+dc)+Qc*(Dc-Rb);Rb=Math.atan2(hc-Qc,Rb-Uc);hc=Math.atan2(dc-Qc,Dc-Uc)-Rb;0>hc&&1===Ib?hc+=ad:0<hc&&0===Ib&&(hc-=ad);Dc=Math.ceil(Math.abs(hc/($e+.001)));dc=[];for(let wd=0;wd<Dc;++wd)dc[wd]=[Uc,Qc,Rb+wd*hc/Dc,Rb+(wd+1)*hc/
Dc,za,Qa,db,ta];return mf[fa]=dc}function Aa(F,Z,za,Qa,Kb,Ib){var bc=null,t=0,L=0,fa=0,ta=0,db=0,Rb=0;null==za&&(za=0);null==Qa&&(Qa=0);null==Kb&&(Kb=1);null==Ib&&(Ib=Kb);F.beginPath&&F.beginPath();for(var hc=0,Dc=Z.length;hc<Dc;++hc){var dc=Z[hc];if(1!==Kb||1!==Ib){var Uc=Kb;var Qc=Ib;var wd=yf[0]=dc[0];if("a"===wd||"A"===wd)yf[1]=Uc*dc[1],yf[2]=Qc*dc[2],yf[3]=dc[3],yf[4]=dc[4],yf[5]=dc[5],yf[6]=Uc*dc[6],yf[7]=Qc*dc[7];else if("h"===wd||"H"===wd)yf[1]=Uc*dc[1];else if("v"===wd||"V"===wd)yf[1]=Qc*
dc[1];else{wd=1;for(var Qd=dc.length;wd<Qd;++wd)yf[wd]=(1==wd%2?Uc:Qc)*dc[wd]}dc=yf}switch(dc[0]){case "l":t+=dc[1];L+=dc[2];F.lineTo(t+za,L+Qa);break;case "L":t=dc[1];L=dc[2];F.lineTo(t+za,L+Qa);break;case "h":t+=dc[1];F.lineTo(t+za,L+Qa);break;case "H":t=dc[1];F.lineTo(t+za,L+Qa);break;case "v":L+=dc[1];F.lineTo(t+za,L+Qa);break;case "V":L=dc[1];F.lineTo(t+za,L+Qa);break;case "m":t+=dc[1];L+=dc[2];db=t;Rb=L;F.moveTo(t+za,L+Qa);break;case "M":t=dc[1];L=dc[2];db=t;Rb=L;F.moveTo(t+za,L+Qa);break;case "c":Uc=
t+dc[5];Qc=L+dc[6];fa=t+dc[3];ta=L+dc[4];F.bezierCurveTo(t+dc[1]+za,L+dc[2]+Qa,fa+za,ta+Qa,Uc+za,Qc+Qa);t=Uc;L=Qc;break;case "C":t=dc[5];L=dc[6];fa=dc[3];ta=dc[4];F.bezierCurveTo(dc[1]+za,dc[2]+Qa,fa+za,ta+Qa,t+za,L+Qa);break;case "s":Uc=t+dc[3];Qc=L+dc[4];fa=2*t-fa;ta=2*L-ta;F.bezierCurveTo(fa+za,ta+Qa,t+dc[1]+za,L+dc[2]+Qa,Uc+za,Qc+Qa);fa=t+dc[1];ta=L+dc[2];t=Uc;L=Qc;break;case "S":Uc=dc[3];Qc=dc[4];fa=2*t-fa;ta=2*L-ta;F.bezierCurveTo(fa+za,ta+Qa,dc[1]+za,dc[2]+Qa,Uc+za,Qc+Qa);t=Uc;L=Qc;fa=dc[1];
ta=dc[2];break;case "q":Uc=t+dc[3];Qc=L+dc[4];fa=t+dc[1];ta=L+dc[2];F.quadraticCurveTo(fa+za,ta+Qa,Uc+za,Qc+Qa);t=Uc;L=Qc;break;case "Q":Uc=dc[3];Qc=dc[4];F.quadraticCurveTo(dc[1]+za,dc[2]+Qa,Uc+za,Qc+Qa);t=Uc;L=Qc;fa=dc[1];ta=dc[2];break;case "t":Uc=t+dc[1];Qc=L+dc[2];null===bc[0].match(/[QqTt]/)?(fa=t,ta=L):"t"===bc[0]?(fa=2*t-Yd,ta=2*L-me):"q"===bc[0]&&(fa=2*t-fa,ta=2*L-ta);var Yd=fa;var me=ta;F.quadraticCurveTo(fa+za,ta+Qa,Uc+za,Qc+Qa);t=Uc;L=Qc;fa=t+dc[1];ta=L+dc[2];break;case "T":Uc=dc[1];Qc=
dc[2];fa=2*t-fa;ta=2*L-ta;F.quadraticCurveTo(fa+za,ta+Qa,Uc+za,Qc+Qa);t=Uc;L=Qc;break;case "a":Pa(F,t+za,L+Qa,[dc[1],dc[2],dc[3],dc[4],dc[5],dc[6]+t+za,dc[7]+L+Qa]);t+=dc[6];L+=dc[7];break;case "A":Pa(F,t+za,L+Qa,[dc[1],dc[2],dc[3],dc[4],dc[5],dc[6]+za,dc[7]+Qa]);t=dc[6];L=dc[7];break;case "z":case "Z":t=db,L=Rb,F.closePath()}bc=dc}}function Pa(F,Z,za,Qa){Z=ia(Qa[5],Qa[6],Qa[0],Qa[1],Qa[3],Qa[4],Qa[2],Z,za);for(za=0;za<Z.length;++za){a:{var Kb=Z[za];Qa=Eg.call(Kb);if(tf[Qa]){Qa=tf[Qa];break a}var Ib=
Kb[0],bc=Kb[1],t=Kb[2],L=Kb[3],fa=Kb[4],ta=Kb[5],db=Kb[6],Rb=Kb[7];Kb=Rb*fa;const Dc=-db*ta;fa*=db;ta*=Rb;var hc=Math.cos(t);const dc=Math.sin(t);db=Math.cos(L);Rb=Math.sin(L);t=.5*(L-t);L=Math.sin(.5*t);L=8/3*L*L/Math.sin(t);t=Ib+hc-L*dc;hc=bc+dc+L*hc;Ib+=db;bc+=Rb;Rb=Ib+L*Rb;db=bc-L*db;Qa=tf[Qa]=[Kb*t+Dc*hc,fa*t+ta*hc,Kb*Rb+Dc*db,fa*Rb+ta*db,Kb*Ib+Dc*bc,fa*Ib+ta*bc]}F.bezierCurveTo(Qa[0],Qa[1],Qa[2],Qa[3],Qa[4],Qa[5])}}function Ra(F){return l.hasOwnProperty(Qf,F)?Qf[F]:fb(F)}function fb(F){if(!l.hasOwnProperty(lg,
F)){const Z=R(F);lg[F]={draw:function(za,Qa){Aa(za,Z,0,0,Math.sqrt(Qa)/2)}}}return lg[F]}function zb(F){return F.x}function kb(F){return F.y}function Vb(F){return F.width}function aa(F){return F.height}function Ga(F){return"function"===typeof F?F:()=>+F}function Qb(F,Z,za){return Math.max(Z,Math.min(F,za))}function nc(){function F(ta,db,Rb){var hc;db=null!=db?db:+Z.call(this,ta);Rb=null!=Rb?Rb:+za.call(this,ta);var Dc=+Qa.call(this,ta),dc=+Kb.call(this,ta),Uc=Math.min(Dc,dc)/2,Qc=Qb(+Ib.call(this,
ta),0,Uc),wd=Qb(+bc.call(this,ta),0,Uc),Qd=Qb(+t.call(this,ta),0,Uc);ta=Qb(+L.call(this,ta),0,Uc);fa||(fa=hc=Yb());0>=Qc&&0>=wd&&0>=Qd&&0>=ta?fa.rect(db,Rb,Dc,dc):(Dc=db+Dc,dc=Rb+dc,fa.moveTo(db+Qc,Rb),fa.lineTo(Dc-wd,Rb),fa.bezierCurveTo(Dc-.448084975506*wd,Rb,Dc,Rb+.448084975506*wd,Dc,Rb+wd),fa.lineTo(Dc,dc-ta),fa.bezierCurveTo(Dc,dc-.448084975506*ta,Dc-.448084975506*ta,dc,Dc-ta,dc),fa.lineTo(db+Qd,dc),fa.bezierCurveTo(db+.448084975506*Qd,dc,db,dc-.448084975506*Qd,db,dc-Qd),fa.lineTo(db,Rb+Qc),
fa.bezierCurveTo(db,Rb+.448084975506*Qc,db+.448084975506*Qc,Rb,db+Qc,Rb),fa.closePath());if(hc)return fa=null,hc+""||null}var Z=zb,za=kb,Qa=Vb,Kb=aa,Ib=Ga(0),bc=Ib,t=Ib,L=Ib,fa=null;F.x=function(ta){return arguments.length?(Z=Ga(ta),F):Z};F.y=function(ta){return arguments.length?(za=Ga(ta),F):za};F.width=function(ta){return arguments.length?(Qa=Ga(ta),F):Qa};F.height=function(ta){return arguments.length?(Kb=Ga(ta),F):Kb};F.cornerRadius=function(ta,db,Rb,hc){return arguments.length?(Ib=Ga(ta),bc=null!=
db?Ga(db):Ib,L=null!=Rb?Ga(Rb):Ib,t=null!=hc?Ga(hc):bc,F):Ib};F.context=function(ta){return arguments.length?(fa=null==ta?null:ta,F):fa};return F}function $b(){function F(ta){var db,Rb=ta.length,hc,Dc=!1,dc;null==Ib&&(Ib=dc=Yb());for(db=0;db<=Rb;++db)if(!(db<Rb&&Kb(hc=ta[db],db,ta))===Dc&&(Dc=!Dc)&&(bc=0),Dc){var Uc=+Z(hc,db,ta),Qc=+za(hc,db,ta);const jf=+Qa(hc,db,ta)/2;if(bc){var wd=L-Qc,Qd=Uc-t;if(wd||Qd){var Yd=Math.hypot(wd,Qd),me=(wd/=Yd)*fa;Yd=(Qd/=Yd)*fa;var Df=Math.atan2(Qd,wd);Ib.moveTo(t-
me,L-Yd);Ib.lineTo(Uc-wd*jf,Qc-Qd*jf);Ib.arc(Uc,Qc,jf,Df-Math.PI,Df);Ib.lineTo(t+me,L+Yd);Ib.arc(t,L,fa,Df,Df+Math.PI)}else Ib.arc(Uc,Qc,jf,0,ad);Ib.closePath()}else bc=1;t=Uc;L=Qc;fa=jf}if(dc)return Ib=null,dc+""||null}var Z,za,Qa,Kb,Ib=null,bc,t,L,fa;F.x=function(ta){return arguments.length?(Z=ta,F):Z};F.y=function(ta){return arguments.length?(za=ta,F):za};F.size=function(ta){return arguments.length?(Qa=ta,F):Qa};F.defined=function(ta){return arguments.length?(Kb=ta,F):Kb};F.context=function(ta){return arguments.length?
(Ib=null==ta?null:ta,F):Ib};return F}function Ob(F,Z){return null!=F?F:Z}function Nb(F){return F.cornerRadius||F.cornerRadiusTopLeft||F.cornerRadiusTopRight||F.cornerRadiusBottomRight||F.cornerRadiusBottomLeft}function rc(F,Z,za,Qa){return kh.context(F)(Z,za,Qa)}function Sc(F,Z,za){var Qa=Z.clip;F=F._defs;Z=Z.clip_id||(Z.clip_id="clip"+Og++);F=F.clipping[Z]||(F.clipping[Z]={id:Z});l.isFunction(Qa)?F.path=Qa(null):Nb(za)?F.path=rc(null,za,0,0):(F.width=za.width||0,F.height=za.height||0);return"url(#"+
Z+")"}function ra(F){this.clear();F&&this.union(F)}function Gb(F){this.mark=F;this.bounds=this.bounds||new ra}function Va(F){Gb.call(this,F);this.items=this.items||[]}function Ab(F,Z,za){if(Z.stroke&&0!==Z.opacity&&0!==Z.strokeOpacity){const Qa=null!=Z.strokeWidth?+Z.strokeWidth:1;F.expand(Qa+(za?Z.strokeJoin&&"miter"!==Z.strokeJoin?0:Qa:0))}return F}function Jb(F,Z){Lf=F;Z?(ob=Z*ce,Ac=Rd=Math.cos(ob),Bc=Math.sin(ob),yd=-Bc):(Ac=Rd=1,ob=Bc=yd=0);return lh}function Eb(F,Z,za,Qa){za=(F-Z)/(F+za-2*Z);
0<za&&1>za&&Qa(F+(Z-F)*za)}function Wb(F,Z,za,Qa,Kb){const Ib=Qa-F+3*Z-3*za,bc=F+za-2*Z;var t=F-Z;let L=0,fa=0;1E-14<Math.abs(Ib)?(t=bc*bc+t*Ib,0<=t&&(t=Math.sqrt(t),L=(-bc+t)/Ib,fa=(-bc-t)/Ib)):L=.5*t/bc;0<L&&1>L&&Kb(ic(L,F,Z,za,Qa));0<fa&&1>fa&&Kb(ic(fa,F,Z,za,Qa))}function ic(F,Z,za,Qa,Kb){const Ib=1-F,bc=Ib*Ib,t=F*F;return bc*Ib*Z+3*bc*F*za+3*Ib*t*Qa+t*F*Kb}function wc(F){return function(Z,za){if(!kg)return!0;F(kg,Z);rg.clear().union(Z.bounds).intersect(za).round();const {x1:Qa,y1:Kb,x2:Ib,y2:bc}=
rg;for(Z=Kb;Z<=bc;++Z)for(za=Qa;za<=Ib;++za)if(kg.isPointInPath(za,Z))return!0;return!1}}function Zc(F,Z){return Z.contains(F.x||0,F.y||0)}function Pc(F,Z){const za=F.x||0,Qa=F.y||0;return Z.intersects(rg.set(za,Qa,za+(F.width||0),Qa+(F.height||0)))}function oa(F,Z){const za=F.x||0,Qa=F.y||0;return Ma(Z,za,Qa,null!=F.x2?F.x2:za,null!=F.y2?F.y2:Qa)}function Ma(F,Z,za,Qa,Kb){const {x1:Ib,y1:bc,x2:t,y2:L}=F;F=Qa-Z;Kb-=za;Qa=0;let fa=1,ta,db,Rb,hc;for(hc=0;4>hc;++hc){0===hc&&(ta=-F,db=-(Ib-Z));1===hc&&
(ta=F,db=t-Z);2===hc&&(ta=-Kb,db=-(bc-za));3===hc&&(ta=Kb,db=L-za);if(1E-10>Math.abs(ta)&&0>db)return!1;Rb=db/ta;if(0>ta){if(Rb>fa)return!1;Rb>Qa&&(Qa=Rb)}else if(0<ta){if(Rb<Qa)return!1;Rb<fa&&(fa=Rb)}}return!0}function ib(F,Z){F.globalCompositeOperation=Z.blend||"source-over"}function V(F,Z){return null==F?Z:F}function x(F,Z){const za=Z.length;for(let Qa=0;Qa<za;++Qa)F.addColorStop(Z[Qa].offset,Z[Qa].color);return F}function da(F,Z,za){const Qa=za.width(),Kb=za.height();if("radial"===Z.gradient)F=
F.createRadialGradient(za.x1+V(Z.x1,.5)*Qa,za.y1+V(Z.y1,.5)*Kb,Math.max(Qa,Kb)*V(Z.r1,0),za.x1+V(Z.x2,.5)*Qa,za.y1+V(Z.y2,.5)*Kb,Math.max(Qa,Kb)*V(Z.r2,.5));else{const Ib=V(Z.x1,0),bc=V(Z.y1,0),t=V(Z.x2,1),L=V(Z.y2,0);if(Ib===t||bc===L||Qa===Kb)F=F.createLinearGradient(za.x1+Ib*Qa,za.y1+bc*Kb,za.x1+t*Qa,za.y1+L*Kb);else{za=ja.canvas(Math.ceil(Qa),Math.ceil(Kb));const fa=za.getContext("2d");fa.scale(Qa,Kb);fa.fillStyle=x(fa.createLinearGradient(Ib,bc,t,L),Z.stops);fa.fillRect(0,0,Qa,Kb);return F.createPattern(za,
"no-repeat")}}return x(F,Z.stops)}function ya(F,Z,za){za*=null==Z.fillOpacity?1:Z.fillOpacity;return 0<za?(F.globalAlpha=za,Z=(za=Z.fill)&&za.gradient?da(F,za,Z.bounds):za,F.fillStyle=Z,!0):!1}function Ia(F,Z,za){var Qa=null!=(Qa=Z.strokeWidth)?Qa:1;if(0>=Qa)return!1;za*=null==Z.strokeOpacity?1:Z.strokeOpacity;return 0<za?(F.globalAlpha=za,za=(za=Z.stroke)&&za.gradient?da(F,za,Z.bounds):za,F.strokeStyle=za,F.lineWidth=Qa,F.lineCap=Z.strokeCap||"butt",F.lineJoin=Z.strokeJoin||"miter",F.miterLimit=
Z.strokeMiterLimit||10,F.setLineDash&&(F.setLineDash(Z.strokeDash||rh),F.lineDashOffset=Z.strokeDashOffset||0),!0):!1}function Wa(F,Z){return F.zindex-Z.zindex||F.index-Z.index}function qb(F){if(!F.zdirty)return F.zitems;var Z=F.items,za=[],Qa;var Kb=0;for(Qa=Z.length;Kb<Qa;++Kb){var Ib=Z[Kb];Ib.index=Kb;Ib.zindex&&za.push(Ib)}F.zdirty=!1;return F.zitems=za.sort(Wa)}function Sb(F,Z){var za=F.items,Qa;if(za&&za.length){var Kb=qb(F);if(Kb&&Kb.length){F=0;for(Qa=za.length;F<Qa;++F)za[F].zindex||Z(za[F]);
za=Kb}F=0;for(Qa=za.length;F<Qa;++F)Z(za[F])}}function Hb(F,Z){var za=F.items,Qa,Kb;if(!za||!za.length)return null;const Ib=qb(F);Ib&&Ib.length&&(za=Ib);for(Kb=za.length;0<=--Kb;)if(Qa=Z(za[Kb]))return Qa;if(za===Ib)for(za=F.items,Kb=za.length;0<=--Kb;)if(!za[Kb].zindex&&(Qa=Z(za[Kb])))return Qa;return null}function Pb(F){return function(Z,za,Qa){Sb(za,Kb=>{Qa&&!Qa.intersects(Kb.bounds)||yc(F,Z,Kb,Kb)})}}function uc(F){return function(Z,za,Qa){!za.items.length||Qa&&!Qa.intersects(za.bounds)||yc(F,
Z,za.items[0],za.items)}}function yc(F,Z,za,Qa){var Kb=null==za.opacity?1:za.opacity;0===Kb||F(Z,Qa)||(ib(Z,za),za.fill&&ya(Z,za,Kb)&&Z.fill(),za.stroke&&Ia(Z,za,Kb)&&Z.stroke())}function Kc(F){F=F||l.truthy;return function(Z,za,Qa,Kb,Ib,bc){Qa*=Z.pixelRatio;Kb*=Z.pixelRatio;return Hb(za,t=>{const L=t.bounds;if((!L||L.contains(Ib,bc))&&L&&F(Z,t,Qa,Kb,Ib,bc))return t})}}function md(F,Z){return function(za,Qa,Kb,Ib){var bc=Array.isArray(Qa)?Qa[0]:Qa,t=null==Z?bc.fill:Z,L=bc.stroke&&za.isPointInStroke;
if(L){var fa=bc.strokeWidth;bc=bc.strokeCap;za.lineWidth=null!=fa?fa:1;za.lineCap=null!=bc?bc:"butt"}return F(za,Qa)?!1:t&&za.isPointInPath(Kb,Ib)||L&&za.isPointInStroke(Kb,Ib)}}function fd(F,Z){return"translate("+F+","+Z+")"}function Tc(F,Z,za){function Qa(Kb,Ib){var bc=Ib.x||0,t=Ib.y||0,L=Ib.angle||0;Kb.translate(bc,t);L&&Kb.rotate(L*=ce);Kb.beginPath();Z(Kb,Ib);L&&Kb.rotate(-L);Kb.translate(-bc,-t)}return{type:F,tag:"path",nested:!1,attr:function(Kb,Ib){var bc=fd(Ib.x||0,Ib.y||0)+(Ib.angle?" rotate("+
(Ib.angle+")"):"");Kb("transform",bc);Kb("d",Z(null,Ib))},bound:function(Kb,Ib){Z(Jb(Kb,Ib.angle),Ib);return Ab(Kb,Ib).translate(Ib.x||0,Ib.y||0)},draw:Pb(Qa),pick:Kc(md(Qa)),isect:za||wc(Qa)}}function ld(F,Z,za){function Qa(Ib,bc){Ib.beginPath();Z(Ib,bc)}const Kb=md(Qa);return{type:F,tag:"path",nested:!0,attr:function(Ib,bc){bc=bc.mark.items;bc.length&&Ib("d",Z(null,bc))},bound:function(Ib,bc){bc=bc.items;if(0===bc.length)return Ib;Z(Jb(Ib),bc);return Ab(Ib,bc[0])},draw:uc(Qa),pick:function(Ib,bc,
t,L,fa,ta){var db=bc.items;bc=bc.bounds;if(!db||!db.length||bc&&!bc.contains(fa,ta))return null;t*=Ib.pixelRatio;L*=Ib.pixelRatio;return Kb(Ib,db,t,L)?db[0]:null},isect:Zc,tip:za}}function nd(F,Z){F.beginPath();Nb(Z)?rc(F,Z,0,0):F.rect(0,0,Z.width||0,Z.height||0);F.clip()}function dd(F){const Z=V(F.strokeWidth,1);return null!=F.strokeOffset?F.strokeOffset:F.stroke&&.5<Z&&1.5>Z?.5-Math.abs(Z-1):0}function Wd(F,Z,za,Qa){const Kb=dd(Z);F.beginPath();rc(F,Z,(za||0)+Kb,(Qa||0)+Kb)}function gd(F,Z){var za=
F.image;if(!za||F.url&&F.url!==za.url)za={complete:!1,width:0,height:0},Z.loadImage(F.url).then(Qa=>{F.image=Qa;F.image.url=F.url});return za}function z(F,Z){return null!=F.width?F.width:Z&&Z.width?!1!==F.aspect&&F.height?F.height*Z.width/Z.height:Z.width:0}function J(F,Z){return null!=F.height?F.height:Z&&Z.height?!1!==F.aspect&&F.width?F.width*Z.height/Z.width:Z.height:0}function va(F,Z){return"center"===F?Z/2:"right"===F?Z:0}function w(F,Z){return"middle"===F?Z/2:"bottom"===F?Z:0}function Q(F,
Z){var za=Z.path;if(null==za)return!0;var Qa=Z.x||0,Kb=Z.y||0,Ib=Z.scaleX||1,bc=Z.scaleY||1,t=(Z.angle||0)*ce,L=Z.pathCache;L&&L.path===za||((Z.pathCache=L=R(za)).path=za);t&&F.rotate&&F.translate?(F.translate(Qa,Kb),F.rotate(t),Aa(F,L,0,0,Ib,bc),F.rotate(-t),F.translate(-Qa,-Kb)):Aa(F,L,Qa,Kb,Ib,bc)}function ca(F,Z){F.beginPath();rc(F,Z)}function wa(F,Z,za){if(Z.stroke&&Ia(F,Z,za)){za=Z.x||0;var Qa=Z.y||0;var Kb=null!=Z.x2?Z.x2:za;Z=null!=Z.y2?Z.y2:Qa;F.beginPath();F.moveTo(za,Qa);F.lineTo(Kb,Z);
return!0}return!1}function pa(F){Ag.width=F&&kg?Tb:Ya}function Ya(F,Z){Z=Rc(F,Z);F=jc(F);return~~(.8*Z.length*F)}function Tb(F,Z){return 0>=jc(F)||!(Z=Rc(F,Z))?0:Zb(Z,zd(F))}function Zb(F,Z){const za=`(${Z}) ${F}`;let Qa=Qh.get(za);void 0===Qa&&(kg.font=Z,Qa=kg.measureText(F).width,Qh.set(za,Qa));return Qa}function jc(F){return null!=F.fontSize?+F.fontSize||0:11}function Cc(F){return null!=F.lineHeight?F.lineHeight:jc(F)+2}function Oc(F){F=F.lineBreak&&F.text&&!l.isArray(F.text)?F.text.split(F.lineBreak):
F.text;return l.isArray(F)?1<F.length?F:F[0]:F}function Rc(F,Z){Z=null==Z?"":(Z+"").trim();if(0<F.limit&&Z.length){var za=+F.limit,Qa=od(F);if(!(Qa(Z)<za)){var Kb=F.ellipsis||"…",Ib="rtl"===F.dir;F=0;var bc=Z.length;za-=Qa(Kb);if(Ib){for(;F<bc;)Ib=F+bc>>>1,Qa(Z.slice(Ib))>za?F=Ib+1:bc=Ib;Z=Kb+Z.slice(F)}else{for(;F<bc;)Ib=1+(F+bc>>>1),Qa(Z.slice(0,Ib))<za?F=Ib:bc=Ib-1;Z=Z.slice(0,F)+Kb}}}return Z}function od(F){if(Ag.width===Tb){const Z=zd(F);return za=>Zb(za,Z)}if(Ag.width===Ya){const Z=jc(F);return za=>
~~(.8*za.length*Z)}return Z=>Ag.width(F,Z)}function sd(F,Z){F=F.font;return(Z&&F?String(F).replace(/"/g,"'"):F)||"sans-serif"}function zd(F,Z){return(F.fontStyle?F.fontStyle+" ":"")+(F.fontVariant?F.fontVariant+" ":"")+(F.fontWeight?F.fontWeight+" ":"")+jc(F)+"px "+sd(F,Z)}function Zd(F){var Z=F.baseline,za=jc(F);return Math.round("top"===Z?.79*za:"middle"===Z?.3*za:"bottom"===Z?-.21*za:"line-top"===Z?.29*za+.5*Cc(F):"line-bottom"===Z?.29*za-.5*Cc(F):0)}function Kd(F){var Z=F.x||0,za=F.y||0,Qa=F.radius||
0;Qa&&(F=(F.theta||0)-$e,Z+=Qa*Math.cos(F),za+=Qa*Math.sin(F));ug.x1=Z;ug.y1=za;return ug}function $d(F,Z,za){var Qa=Ag.height(Z),Kb=Z.align,Ib=Kd(Z),bc=Ib.x1;Ib=Ib.y1;var t=Z.dx||0,L=(Z.dy||0)+Zd(Z)-Math.round(.8*Qa),fa=Oc(Z);l.isArray(fa)?(Qa+=Cc(Z)*(fa.length-1),fa=fa.reduce((ta,db)=>Math.max(ta,Ag.width(Z,db)),0)):fa=Ag.width(Z,fa);"center"===Kb?t-=fa/2:"right"===Kb&&(t-=fa);F.set(t+=bc,L+=Ib,t+fa,L+Qa);if(Z.angle&&!za)F.rotate(Z.angle*ce,bc,Ib);else if(2===za)return F.rotatedPoints(Z.angle*ce,
bc,Ib);return F}function Te(F,Z,za){var Qa=vg[F.mark.marktype];Z=Z||Qa.bound;Qa.nested&&(F=F.mark);return Z(F.bounds||(F.bounds=new ra),F,za)}function We(F,Z,za){var Qa=vg[F.marktype],Kb=Qa.bound,Ib=F.items,bc=Ib&&Ib.length;if(Qa.nested)return bc?F=Ib[0]:(Ii.mark=F,F=Ii),za=Te(F,Kb,za),Z=Z&&Z.union(za)||za;Z=Z||F.bounds&&F.bounds.clear()||new ra;if(bc)for(Qa=0,bc=Ib.length;Qa<bc;++Qa)Z.union(Te(Ib[Qa],Kb,za));return F.bounds=Z}function Le(F,Z){return JSON.stringify(F,qi,Z)}function Ve(F){F="string"===
typeof F?JSON.parse(F):F;return Ie(F)}function Ie(F){var Z=F.marktype,za=F.items,Qa;if(za){var Kb=0;for(Qa=za.length;Kb<Qa;++Kb){var Ib=Z?"mark":"group";za[Kb][Ib]=F;za[Kb].zindex&&(za[Kb][Ib].zdirty=!0);"group"===(Z||Ib)&&Ie(za[Kb])}}Z&&We(F);return F}function He(F,Z){Z={bounds:new ra,clip:!!F.clip,group:Z,interactive:!1===F.interactive?!1:!0,items:[],marktype:F.marktype,name:F.name||void 0,role:F.role||void 0,zindex:F.zindex||0};null!=F.aria&&(Z.aria=F.aria);F.description&&(Z.description=F.description);
return Z}function ie(F,Z,za){!F&&"undefined"!==typeof document&&document.createElement&&(F=document);return F?za?F.createElementNS(za,Z):F.createElement(Z):null}function ne(F,Z){Z=Z.toLowerCase();F=F.childNodes;for(var za=0,Qa=F.length;za<Qa;++za)if(F[za].tagName.toLowerCase()===Z)return F[za]}function Ee(F,Z,za,Qa){Z=F.childNodes[Z];if(!Z||Z.tagName.toLowerCase()!==za.toLowerCase()){var Kb=Z||null;Z=ie(F.ownerDocument,za,Qa);F.insertBefore(Z,Kb)}return Z}function Fd(F,Z){for(var za=F.childNodes,
Qa=za.length;Qa>Z;)F.removeChild(za[--Qa]);return F}function Uf(F){return"mark-"+F.marktype+(F.role?" role-"+F.role:"")+(F.name?" "+F.name:"")}function rf(F,Z){const za=Z.getBoundingClientRect();return[F.clientX-za.left-(Z.clientLeft||0),F.clientY-za.top-(Z.clientTop||0)]}function Ne(F,Z,za,Qa){F.element().setAttribute("title",Qa||"")}function ze(F,Z){("touchstart"===Z||"touchmove"===Z||"touchend"===Z?["touchstart","touchmove","touchend"]:[Z]).forEach(za=>Oe(F,za))}function Oe(F,Z){const za=F.canvas();
za&&!F._events[Z]&&(F._events[Z]=1,za.addEventListener(Z,F[Z]?Qa=>F[Z](Qa):Qa=>F.fire(Z,Qa)))}function Pd(F,Z,za){Z.forEach(Qa=>F.fire(Qa,za))}function dg(F,Z,za){return function(Qa){const Kb=this._active,Ib=this.pickEvent(Qa);Ib!==Kb&&(Kb&&Kb.exit||Pd(this,za,Qa),this._active=Ib,Pd(this,Z,Qa));Pd(this,F,Qa)}}function gf(F){return function(Z){Pd(this,F,Z);this._active=null}}function Da(F,Z){var za=!1===Z.aria;F("aria-hidden",za||void 0);if(za||null==Z.description)for(const Qa in Uh)F(Uh[Qa],void 0);
else za=Z.mark.marktype,F("aria-label",Z.description),F("role",Z.ariaRole||("group"===za?"graphics-object":"graphics-symbol")),F("aria-roledescription",Z.ariaRoleDescription||`${za} mark`)}function cb(F){return!1===F.aria?{["aria-hidden"]:!0}:di[F.role]?null:Fh[F.role]?hd(F,Fh[F.role]):fc(F)}function fc(F){const Z=F.marktype,za="group"===Z||"text"===Z||F.items.some(Qa=>null!=Qa.description&&!1!==Qa.aria);return Ki(za?"graphics-object":"graphics-symbol",`${Z} mark container`,F.description)}function hd(F,
Z){try{const za=F.items[0],Qa=Z.caption||(()=>"");return Ki(Z.role||"graphics-symbol",Z.desc,za.description||Qa(za))}catch(za){return null}}function id(F){try{return l.array(l.peek(F.items).items[0].text).join(" ")}catch(Z){return null}}function ed(F){F=F.map(Z=>Z+("fill"===Z||"stroke"===Z?" color":""));return 2>F.length?F[0]:F.slice(0,-1).join(", ")+" and "+l.peek(F)}function Dd(){let F="",Z="",za="";const Qa=[],Kb=(bc,t)=>{null!=t&&(Z+=` ${bc}="${Li(t).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,
"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return Ib},Ib={open(bc,...t){Z&&(F+=`${Z}>${za}`,Z=za="");Qa.push(bc);Z="\x3c"+bc;for(const L of t)for(const fa in L)Kb(fa,L[fa]);return Ib},close(){const bc=Qa.pop();F=Z?F+(Z+(za?`>${za}</${bc}>`:"/\x3e")):F+`</${bc}>`;Z=za="";return Ib},attr:Kb,text:bc=>(za+=Li(bc),Ib),toString:()=>F};return Ib}function Td(F,Z){F.open(Z.tagName);if(Z.hasAttributes()){const za=Z.attributes,Qa=za.length;for(let Kb=0;Kb<Qa;++Kb)F.attr(za[Kb].name,za[Kb].value)}if(Z.hasChildNodes()){Z=
Z.childNodes;for(const za of Z)3===za.nodeType?F.text(za.nodeValue):Td(F,za)}return F.close()}function Md(F,Z){for(;F&&F.dirty!==Z;F=F.mark.group)if(F.dirty=Z,F.mark&&F.mark.dirty!==Z)F.mark.dirty=Z;else break}function Ze(F,Z,za,Qa){Z=Z.lastChild.previousSibling;let Kb,Ib=0;Sb(za,bc=>{Kb=F.mark(Z,bc,Kb,Qa);++Ib});Fd(Z,1+Ib)}function pd(F,Z,za,Qa,Kb){let Ib=F._svg;if(!Ib){var bc=Z.ownerDocument;Ib=ie(bc,Qa,Me);F._svg=Ib;F.mark&&(Ib.__data__=F,Ib.__values__={fill:"default"},"g"===Qa&&(Qa=ie(bc,"path",
Me),Ib.appendChild(Qa),Qa.__data__=F,Qa=ie(bc,"g",Me),Ib.appendChild(Qa),Qa.__data__=F,bc=ie(bc,"path",Me),Ib.appendChild(bc),bc.__data__=F,bc.__values__={fill:"default"}))}(Ib.ownerSVGElement!==Kb||Ib.parentNode&&1<Ib.parentNode.childNodes.length&&Ib.previousSibling!=za)&&Z.insertBefore(Ib,za?za.nextSibling:Z.firstChild);return Ib}function oe(F,Z,za){if(Z!==Af[F]){if(za){var Qa=Mg;null!=Z?Qa.setAttributeNS(za,F,Z):Qa.removeAttributeNS(za,F)}else Ud(Mg,F,Z);Af[F]=Z}}function df(F,Z,za){za!==Af[Z]&&
(null==za?F.style.removeProperty(Z):F.style.setProperty(Z,za+""),Af[Z]=za)}function Pe(F,Z){for(const za in Z)Ud(F,za,Z[za])}function Ud(F,Z,za){null!=za?F.setAttribute(Z,za):F.removeAttribute(Z)}function hf(){let F;return"undefined"===typeof window?"":(F=window.location).hash?F.href.slice(0,-F.hash.length):F.href}function Cf(F,Z,za,Qa,Kb){let Ib;if(null==Z)return F;"bgrect"===Qa&&!1===za.interactive&&(F["pointer-events"]="none");if("bgfore"===Qa&&(!1===za.interactive&&(F["pointer-events"]="none"),
F.display="none",null!==Z.fill))return F;"image"===Qa&&!1===Z.smooth&&(Ib=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]);"text"===Qa&&(F["font-family"]=sd(Z),F["font-size"]=jc(Z)+"px",F["font-style"]=Z.fontStyle,F["font-variant"]=Z.fontVariant,F["font-weight"]=Z.fontWeight);for(const bc in uh)za=Z[bc],Qa=uh[bc],("transparent"!==za||"fill"!==Qa&&"stroke"!==Qa)&&null!=za&&(za&&za.gradient&&(za=Xb(za,Kb.gradient,"")),F[Qa]=za);for(const bc in Hh)Kb=Z[bc],null!=Kb&&(Ib=Ib||[],Ib.push(`${Hh[bc]}: ${Kb};`));
Ib&&(F.style=Ib.join(" "));return F}function Ae(F,Z,za,Qa){if(F.bounds&&Z.intersects(F.bounds)&&("group"===F.marktype||!1!==F.interactive&&(!za||za(F)))){const Ib=F.items;var Kb=F.marktype;F=Ib.length;let bc=0;if("group"===Kb)for(;bc<F;++bc)Qe(Ib[bc],Z,za,Qa);else for(za=vg[Kb].isect;bc<F;++bc)Kb=Ib[bc],kf(Kb,Z,za)&&Qa.push(Kb)}return Qa}function Qe(F,Z,za,Qa){za&&za(F.mark)&&kf(F,Z,vg.group.isect)&&Qa.push(F);const Kb=F.items,Ib=Kb&&Kb.length;if(Ib){const bc=F.x||0;F=F.y||0;Z.translate(-bc,-F);for(let t=
0;t<Ib;++t)Ae(Kb[t],Z,za,Qa);Z.translate(bc,F)}return Qa}function kf(F,Z,za){const Qa=F.bounds;return Z.encloses(Qa)||Z.intersects(Qa)&&za(F,Z)}function qe(F,Z,za){return F===Z?!0:"path"===za?Je(F,Z):F instanceof Date&&Z instanceof Date?+F===+Z:l.isNumber(F)&&l.isNumber(Z)?1E-9>=Math.abs(F-Z):F&&Z&&(l.isObject(F)||l.isObject(Z))?ae(F,Z):F==Z}function Je(F,Z){return qe(R(F),R(Z))}function ae(F,Z){var za=Object.keys(F),Qa=Object.keys(Z),Kb;if(za.length!==Qa.length)return!1;za.sort();Qa.sort();for(Kb=
za.length-1;0<=Kb;Kb--)if(za[Kb]!=Qa[Kb])return!1;for(Kb=za.length-1;0<=Kb;Kb--)if(Qa=za[Kb],!qe(F[Qa],Z[Qa],Qa))return!1;return typeof F===typeof Z}let qa=0;const m=Math.abs,r=Math.atan2,K=Math.cos,ka=Math.max,Fa=Math.min,Sa=Math.sin,Oa=Math.sqrt,tb=Math.PI,rb=tb/2,oc=2*tb,kc=Math.PI,sc=2*kc,tc=sc-1E-6;class Lc{constructor(F){this._x0=this._y0=this._x1=this._y1=null;this._="";this._append=null==F?ub:Lb(F)}moveTo(F,Z){this._append`M${this._x0=this._x1=+F},${this._y0=this._y1=+Z}`}closePath(){null!==
this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(F,Z){this._append`L${this._x1=+F},${this._y1=+Z}`}quadraticCurveTo(F,Z,za,Qa){this._append`Q${+F},${+Z},${this._x1=+za},${this._y1=+Qa}`}bezierCurveTo(F,Z,za,Qa,Kb,Ib){this._append`C${+F},${+Z},${+za},${+Qa},${this._x1=+Kb},${this._y1=+Ib}`}arcTo(F,Z,za,Qa,Kb){F=+F;Z=+Z;za=+za;Qa=+Qa;Kb=+Kb;if(0>Kb)throw Error(`negative radius: ${Kb}`);var Ib=this._x1,bc=this._y1;let t=za-F,L=Qa-Z,fa=Ib-F,ta=bc-Z;var db=fa*fa+ta*ta;if(null===this._x1)this._append`M${this._x1=
F},${this._y1=Z}`;else if(1E-6<db)if(1E-6<Math.abs(ta*t-L*fa)&&Kb){za-=Ib;Qa-=bc;let Rb=t*t+L*L;bc=Math.sqrt(Rb);Ib=Math.sqrt(db);db=Kb*Math.tan((kc-Math.acos((Rb+db-(za*za+Qa*Qa))/(2*bc*Ib)))/2);Ib=db/Ib;db/=bc;1E-6<Math.abs(Ib-1)&&this._append`L${F+Ib*fa},${Z+Ib*ta}`;this._append`A${Kb},${Kb},0,0,${+(ta*za>fa*Qa)},${this._x1=F+db*t},${this._y1=Z+db*L}`}else this._append`L${this._x1=F},${this._y1=Z}`}arc(F,Z,za,Qa,Kb,Ib){F=+F;Z=+Z;za=+za;Ib=!!Ib;if(0>za)throw Error(`negative radius: ${za}`);let bc=
za*Math.cos(Qa),t=za*Math.sin(Qa),L=F+bc,fa=Z+t,ta=1^Ib;Qa=Ib?Qa-Kb:Kb-Qa;null===this._x1?this._append`M${L},${fa}`:(1E-6<Math.abs(this._x1-L)||1E-6<Math.abs(this._y1-fa))&&this._append`L${L},${fa}`;za&&(0>Qa&&(Qa=Qa%sc+sc),Qa>tc?this._append`A${za},${za},0,1,${ta},${F-bc},${Z-t}A${za},${za},0,1,${ta},${this._x1=L},${this._y1=fa}`:1E-6<Qa&&this._append`A${za},${za},0,${+(Qa>=kc)},${ta},${this._x1=F+za*Math.cos(Kb)},${this._y1=Z+za*Math.sin(Kb)}`)}rect(F,Z,za,Qa){this._append`M${this._x0=this._x1=
+F},${this._y0=this._y1=+Z}h${za=+za}v${+Qa}h${-za}Z`}toString(){return this._}}Yb.prototype=Lc.prototype;ua.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(F,Z){F=+F;Z=+Z;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(F,Z):this._context.moveTo(F,Z);break;case 1:this._point=
2;default:this._context.lineTo(F,Z)}}};var Wc={draw(F,Z){Z=Oa(Z/tb);F.moveTo(Z,0);F.arc(0,0,Z,0,oc)}};wb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:gb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(F,Z){F=
+F;Z=+Z;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(F,Z):this._context.moveTo(F,Z);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gb(this,F,Z)}this._x0=this._x1;this._x1=F;this._y0=this._y1;this._y1=Z}};Ub.prototype={areaStart:jb,areaEnd:jb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,
this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(F,Z){F=+F;Z=+Z;switch(this._point){case 0:this._point=1;this._x2=F;this._y2=Z;break;case 1:this._point=2;this._x3=F;this._y3=Z;break;case 2:this._point=3;this._x4=F;this._y4=
Z;this._context.moveTo((this._x0+4*this._x1+F)/6,(this._y0+4*this._y1+Z)/6);break;default:gb(this,F,Z)}this._x0=this._x1;this._x1=F;this._y0=this._y1;this._y1=Z}};Na.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(F,Z){F=+F;Z=+Z;switch(this._point){case 0:this._point=
1;break;case 1:this._point=2;break;case 2:this._point=3;var za=(this._x0+4*this._x1+F)/6,Qa=(this._y0+4*this._y1+Z)/6;this._line?this._context.lineTo(za,Qa):this._context.moveTo(za,Qa);break;case 3:this._point=4;default:gb(this,F,Z)}this._x0=this._x1;this._x1=F;this._y0=this._y1;this._y1=Z}};U.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var F=this._x,Z=this._y,za=F.length-1;if(0<za)for(var Qa=F[0],Kb=Z[0],Ib=F[za]-Qa,bc=Z[za]-Kb,t=-1,L;++t<=za;)L=
t/za,this._basis.point(this._beta*F[t]+(1-this._beta)*(Qa+L*Ib),this._beta*Z[t]+(1-this._beta)*(Kb+L*bc));this._x=this._y=null;this._basis.lineEnd()},point:function(F,Z){this._x.push(+F);this._y.push(+Z)}};var Bd=function za(Z){function Qa(Kb){return 1===Z?new wb(Kb):new U(Kb,Z)}Qa.beta=function(Kb){return za(+Kb)};return Qa}(.85);Ha.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=
0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ea(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Z,za){Z=+Z;za=+za;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Z,za):this._context.moveTo(Z,za);break;case 1:this._point=2;this._x1=Z;this._y1=za;break;case 2:this._point=3;default:ea(this,Z,za)}this._x0=this._x1;this._x1=this._x2;
this._x2=Z;this._y0=this._y1;this._y1=this._y2;this._y2=za}};var qd=function Qa(za){function Kb(Ib){return new Ha(Ib,za)}Kb.tension=function(Ib){return Qa(+Ib)};return Kb}(0);Y.prototype={areaStart:jb,areaEnd:jb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,
this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(za,Qa){za=+za;Qa=+Qa;switch(this._point){case 0:this._point=1;this._x3=za;this._y3=Qa;break;case 1:this._point=2;this._context.moveTo(this._x4=za,this._y4=Qa);break;case 2:this._point=3;this._x5=za;this._y5=Qa;break;default:ea(this,za,Qa)}this._x0=this._x1;this._x1=this._x2;this._x2=za;this._y0=this._y1;this._y1=this._y2;this._y2=Qa}};var xd=function Kb(Qa){function Ib(bc){return new Y(bc,
Qa)}Ib.tension=function(bc){return Kb(+bc)};return Ib}(0);Ca.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Qa,Kb){Qa=+Qa;Kb=+Kb;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,
this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ea(this,Qa,Kb)}this._x0=this._x1;this._x1=this._x2;this._x2=Qa;this._y0=this._y1;this._y1=this._y2;this._y2=Kb}};var Nd=function Ib(Kb){function bc(t){return new Ca(t,Kb)}bc.tension=function(t){return Ib(+t)};return bc}(0);na.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=
this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Kb,Ib){Kb=+Kb;Ib=+Ib;if(this._point){var bc=this._x2-Kb,t=this._y2-Ib;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(bc*bc+t*t,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Kb,
Ib):this._context.moveTo(Kb,Ib);break;case 1:this._point=2;break;case 2:this._point=3;default:ma(this,Kb,Ib)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Kb;this._y0=this._y1;this._y1=this._y2;this._y2=Ib}};var mc=function bc(Ib){function t(L){return Ib?new na(L,Ib):new Ha(L,0)}t.alpha=function(L){return bc(+L)};return t}(.5);n.prototype={areaStart:jb,areaEnd:jb,lineStart:function(){this._x0=this._x1=
this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Ib,bc){Ib=
+Ib;bc=+bc;if(this._point){var t=this._x2-Ib,L=this._y2-bc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(t*t+L*L,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=Ib;this._y3=bc;break;case 1:this._point=2;this._context.moveTo(this._x4=Ib,this._y4=bc);break;case 2:this._point=3;this._x5=Ib;this._y5=bc;break;default:ma(this,Ib,bc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Ib;this._y0=this._y1;
this._y1=this._y2;this._y2=bc}};var vd=function t(bc){function L(fa){return bc?new n(fa,bc):new Y(fa,0)}L.alpha=function(fa){return t(+fa)};return L}(.5);G.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=
1-this._line},point:function(bc,t){bc=+bc;t=+t;if(this._point){var L=this._x2-bc,fa=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(L*L+fa*fa,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ma(this,bc,t)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=
this._x1;this._x1=this._x2;this._x2=bc;this._y0=this._y1;this._y1=this._y2;this._y2=t}};var se=function L(t){function fa(ta){return t?new G(ta,t):new Ca(ta,0)}fa.alpha=function(ta){return L(+ta)};return fa}(.5);M.prototype={areaStart:jb,areaEnd:jb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,L){t=+t;L=+L;this._point?this._context.lineTo(t,L):(this._point=1,this._context.moveTo(t,L))}};A.prototype={areaStart:function(){this._line=0},
areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:D(this,this._t0,T(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(t,L){var fa=NaN;t=+t;L=+L;if(t!==this._x1||L!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(t,L):
this._context.moveTo(t,L);break;case 1:this._point=2;break;case 2:this._point=3;D(this,T(this,fa=y(this,t,L)),fa);break;default:D(this,this._t0,fa=y(this,t,L))}this._x0=this._x1;this._x1=t;this._y0=this._y1;this._y1=L;this._t0=fa}}};(P.prototype=Object.create(A.prototype)).point=function(t,L){A.prototype.point.call(this,L,t)};B.prototype={moveTo:function(t,L){this._context.moveTo(L,t)},closePath:function(){this._context.closePath()},lineTo:function(t,L){this._context.lineTo(L,t)},bezierCurveTo:function(t,
L,fa,ta,db,Rb){this._context.bezierCurveTo(L,t,ta,fa,Rb,db)}};E.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var t=this._x,L=this._y,fa=t.length;if(fa)if(this._line?this._context.lineTo(t[0],L[0]):this._context.moveTo(t[0],L[0]),2===fa)this._context.lineTo(t[1],L[1]);else for(var ta=I(t),db=I(L),Rb=0,hc=1;hc<fa;++Rb,++hc)this._context.bezierCurveTo(ta[0][Rb],db[0][Rb],ta[1][Rb],db[1][Rb],t[hc],L[hc]);
(this._line||0!==this._line&&1===fa)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(t,L){this._x.push(+t);this._y.push(+L)}};X.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,
this._line=1-this._line)},point:function(t,L){t=+t;L=+L;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(t,L):this._context.moveTo(t,L);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,L),this._context.lineTo(t,L);else{var fa=this._x*(1-this._t)+t*this._t;this._context.lineTo(fa,this._y);this._context.lineTo(fa,L)}}this._x=t;this._y=L}};const fe={basis:{curve:function(t){return new wb(t)}},"basis-closed":{curve:function(t){return new Ub(t)}},"basis-open":{curve:function(t){return new Na(t)}},
bundle:{curve:Bd,tension:"beta",value:.85},cardinal:{curve:qd,tension:"tension",value:0},"cardinal-open":{curve:Nd,tension:"tension",value:0},"cardinal-closed":{curve:xd,tension:"tension",value:0},"catmull-rom":{curve:mc,tension:"alpha",value:.5},"catmull-rom-closed":{curve:vd,tension:"alpha",value:.5},"catmull-rom-open":{curve:se,tension:"alpha",value:.5},linear:{curve:ha},"linear-closed":{curve:function(t){return new M(t)}},monotone:{horizontal:function(t){return new P(t)},vertical:function(t){return new A(t)}},
natural:{curve:function(t){return new E(t)}},step:{curve:function(t){return new X(t,.5)}},"step-after":{curve:function(t){return new X(t,1)}},"step-before":{curve:function(t){return new X(t,0)}}},Vd={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},Cd=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,Od=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,ke=/^((\s+,?\s*)|(,\s*))/,Ge=/^[01]/,ce=Math.PI/180,$e=Math.PI/2,ad=2*Math.PI,le=Math.sqrt(3)/2;var mf={},tf={},Eg=[].join;const yf=["l",0,0,0,0,0,0,0],Qf=
{circle:{draw:function(t,L){L=Math.sqrt(L)/2;t.moveTo(L,0);t.arc(0,0,L,0,ad)}},cross:{draw:function(t,L){L=Math.sqrt(L)/2;var fa=L/2.5;t.moveTo(-L,-fa);t.lineTo(-L,fa);t.lineTo(-fa,fa);t.lineTo(-fa,L);t.lineTo(fa,L);t.lineTo(fa,fa);t.lineTo(L,fa);t.lineTo(L,-fa);t.lineTo(fa,-fa);t.lineTo(fa,-L);t.lineTo(-fa,-L);t.lineTo(-fa,-fa);t.closePath()}},diamond:{draw:function(t,L){L=Math.sqrt(L)/2;t.moveTo(-L,0);t.lineTo(0,-L);t.lineTo(L,0);t.lineTo(0,L);t.closePath()}},square:{draw:function(t,L){L=Math.sqrt(L);
var fa=-L/2;t.rect(fa,fa,L,L)}},arrow:{draw:function(t,L){L=Math.sqrt(L)/2;var fa=L/7,ta=L/2.5,db=L/8;t.moveTo(-fa,L);t.lineTo(fa,L);t.lineTo(fa,-db);t.lineTo(ta,-db);t.lineTo(0,-L);t.lineTo(-ta,-db);t.lineTo(-fa,-db);t.closePath()}},wedge:{draw:function(t,L){var fa=Math.sqrt(L)/2;L=le*fa;var ta=L-.5773502691896257*fa;fa/=4;t.moveTo(0,-L-ta);t.lineTo(-fa,L-ta);t.lineTo(fa,L-ta);t.closePath()}},triangle:{draw:function(t,L){L=Math.sqrt(L)/2;var fa=le*L,ta=fa-.5773502691896257*L;t.moveTo(0,-fa-ta);t.lineTo(-L,
fa-ta);t.lineTo(L,fa-ta);t.closePath()}},"triangle-up":{draw:function(t,L){L=Math.sqrt(L)/2;var fa=le*L;t.moveTo(0,-fa);t.lineTo(-L,fa);t.lineTo(L,fa);t.closePath()}},"triangle-down":{draw:function(t,L){L=Math.sqrt(L)/2;var fa=le*L;t.moveTo(0,fa);t.lineTo(-L,-fa);t.lineTo(L,-fa);t.closePath()}},"triangle-right":{draw:function(t,L){L=Math.sqrt(L)/2;var fa=le*L;t.moveTo(fa,0);t.lineTo(-fa,-L);t.lineTo(-fa,L);t.closePath()}},"triangle-left":{draw:function(t,L){L=Math.sqrt(L)/2;var fa=le*L;t.moveTo(-fa,
0);t.lineTo(fa,-L);t.lineTo(fa,L);t.closePath()}},stroke:{draw:function(t,L){L=Math.sqrt(L)/2;t.moveTo(-L,0);t.lineTo(L,0)}}};var lg={};const lf=t=>t.x||0,Ke=t=>t.y||0,Wf=t=>!1!==t.defined,Ng=function(){function t(){var Qc,wd=+L.apply(this,arguments),Qd=+fa.apply(this,arguments),Yd=Rb.apply(this,arguments)-rb,me=hc.apply(this,arguments)-rb,Df=m(me-Yd),jf=me>Yd;dc||(dc=Qc=Uc());if(Qd<wd){var bh=Qd;Qd=wd;wd=bh}if(1E-12<Qd)if(Df>oc-1E-12)dc.moveTo(Qd*K(Yd),Qd*Sa(Yd)),dc.arc(0,0,Qd,Yd,me,!jf),1E-12<wd&&
(dc.moveTo(wd*K(me),wd*Sa(me)),dc.arc(0,0,wd,me,Yd,jf));else{var he=Yd,je=me;bh=Yd;var gi=me,Rf=Df,ti=Df,bf=Dc.apply(this,arguments)/2,ag=1E-12<bf&&(db?+db.apply(this,arguments):Oa(wd*wd+Qd*Qd)),ng=Fa(m(Qd-wd)/2,+ta.apply(this,arguments)),Bf=ng,pf=ng;if(1E-12<ag){var Ff=yb(ag/wd*Sa(bf));bf=yb(ag/Qd*Sa(bf));1E-12<(Rf-=2*Ff)?(Ff*=jf?1:-1,bh+=Ff,gi-=Ff):(Rf=0,bh=gi=(Yd+me)/2);1E-12<(ti-=2*bf)?(bf*=jf?1:-1,he+=bf,je-=bf):(ti=0,he=je=(Yd+me)/2)}Yd=Qd*K(he);me=Qd*Sa(he);Ff=wd*K(gi);bf=wd*Sa(gi);if(1E-12<
ng){var Wh=Qd*K(je),ch=Qd*Sa(je),nh=wd*K(bh),wg=wd*Sa(bh);if(Df<tb){Bf=nh-Yd;pf=wg-me;Df=Ff-Wh;ag=bf-ch;var Sf=ag*Bf-Df*pf;1E-12>Sf*Sf?Bf=void 0:(Sf=(Df*(me-ch)-ag*(Yd-Wh))/Sf,Bf=[Yd+Sf*Bf,me+Sf*pf]);Bf?(pf=Yd-Bf[0],Df=me-Bf[1],ag=Wh-Bf[0],Sf=ch-Bf[1],pf=(pf*ag+Df*Sf)/(Oa(pf*pf+Df*Df)*Oa(ag*ag+Sf*Sf)),pf=1/Sa((1<pf?0:-1>pf?tb:Math.acos(pf))/2),Df=Oa(Bf[0]*Bf[0]+Bf[1]*Bf[1]),Bf=Fa(ng,(wd-Df)/(pf-1)),pf=Fa(ng,(Qd-Df)/(pf+1))):Bf=pf=0}}1E-12<ti?1E-12<pf?(he=lb(nh,wg,Yd,me,Qd,pf,jf),je=lb(Wh,ch,Ff,bf,
Qd,pf,jf),dc.moveTo(he.cx+he.x01,he.cy+he.y01),pf<ng?dc.arc(he.cx,he.cy,pf,r(he.y01,he.x01),r(je.y01,je.x01),!jf):(dc.arc(he.cx,he.cy,pf,r(he.y01,he.x01),r(he.y11,he.x11),!jf),dc.arc(0,0,Qd,r(he.cy+he.y11,he.cx+he.x11),r(je.cy+je.y11,je.cx+je.x11),!jf),dc.arc(je.cx,je.cy,pf,r(je.y11,je.x11),r(je.y01,je.x01),!jf))):(dc.moveTo(Yd,me),dc.arc(0,0,Qd,he,je,!jf)):dc.moveTo(Yd,me);1E-12<wd&&1E-12<Rf?1E-12<Bf?(he=lb(Ff,bf,Wh,ch,wd,-Bf,jf),je=lb(Yd,me,nh,wg,wd,-Bf,jf),dc.lineTo(he.cx+he.x01,he.cy+he.y01),
Bf<ng?dc.arc(he.cx,he.cy,Bf,r(he.y01,he.x01),r(je.y01,je.x01),!jf):(dc.arc(he.cx,he.cy,Bf,r(he.y01,he.x01),r(he.y11,he.x11),!jf),dc.arc(0,0,wd,r(he.cy+he.y11,he.cx+he.x11),r(je.cy+je.y11,je.cx+je.x11),jf),dc.arc(je.cx,je.cy,Bf,r(je.y11,je.x11),r(je.y01,je.x01),!jf))):dc.arc(0,0,wd,gi,bh,jf):dc.lineTo(Ff,bf)}else dc.moveTo(0,0);dc.closePath();if(Qc)return dc=null,Qc+""||null}var L=bb,fa=Cb,ta=Bb(0),db=null,Rb=xb,hc=nb,Dc=Db,dc=null,Uc=Ba(t);t.centroid=function(){var Qc=(+L.apply(this,arguments)+ +fa.apply(this,
arguments))/2,wd=(+Rb.apply(this,arguments)+ +hc.apply(this,arguments))/2-tb/2;return[K(wd)*Qc,Sa(wd)*Qc]};t.innerRadius=function(Qc){return arguments.length?(L="function"===typeof Qc?Qc:Bb(+Qc),t):L};t.outerRadius=function(Qc){return arguments.length?(fa="function"===typeof Qc?Qc:Bb(+Qc),t):fa};t.cornerRadius=function(Qc){return arguments.length?(ta="function"===typeof Qc?Qc:Bb(+Qc),t):ta};t.padRadius=function(Qc){return arguments.length?(db=null==Qc?null:"function"===typeof Qc?Qc:Bb(+Qc),t):db};
t.startAngle=function(Qc){return arguments.length?(Rb="function"===typeof Qc?Qc:Bb(+Qc),t):Rb};t.endAngle=function(Qc){return arguments.length?(hc="function"===typeof Qc?Qc:Bb(+Qc),t):hc};t.padAngle=function(Qc){return arguments.length?(Dc="function"===typeof Qc?Qc:Bb(+Qc),t):Dc};t.context=function(Qc){return arguments.length?(dc=null==Qc?null:Qc,t):dc};return t}().startAngle(t=>t.startAngle||0).endAngle(t=>t.endAngle||0).padAngle(t=>t.padAngle||0).innerRadius(t=>t.innerRadius||0).outerRadius(t=>
t.outerRadius||0).cornerRadius(t=>t.cornerRadius||0),Kf=Ka().x(lf).y1(Ke).y0(t=>(t.y||0)+(t.height||0)).defined(Wf),Pf=Ka().y(Ke).x1(lf).x0(t=>(t.x||0)+(t.width||0)).defined(Wf),Xf=Xa().x(lf).y(Ke).defined(Wf),kh=nc().x(lf).y(Ke).width(t=>t.width||0).height(t=>t.height||0).cornerRadius(t=>Ob(t.cornerRadiusTopLeft,t.cornerRadius)||0,t=>Ob(t.cornerRadiusTopRight,t.cornerRadius)||0,t=>Ob(t.cornerRadiusBottomRight,t.cornerRadius)||0,t=>Ob(t.cornerRadiusBottomLeft,t.cornerRadius)||0),Yg=function(t,L){function fa(){let Rb;
ta||(ta=Rb=db());t.apply(this,arguments).draw(ta,+L.apply(this,arguments));if(Rb)return ta=null,Rb+""||null}let ta=null,db=Ba(fa);t="function"===typeof t?t:Bb(t||Wc);L="function"===typeof L?L:Bb(void 0===L?64:+L);fa.type=function(Rb){return arguments.length?(t="function"===typeof Rb?Rb:Bb(Rb),fa):t};fa.size=function(Rb){return arguments.length?(L="function"===typeof Rb?Rb:Bb(+Rb),fa):L};fa.context=function(Rb){return arguments.length?(ta=null==Rb?null:Rb,fa):ta};return fa}().type(t=>Ra(t.shape||"circle")).size(t=>
Ob(t.size,64)),Zg=$b().x(lf).y(Ke).defined(Wf).size(t=>t.size||1);var Og=1;ra.prototype={clone(){return new ra(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(t){return this.x1===t.x1&&this.y1===t.y1&&this.x2===t.x2&&this.y2===t.y2},set(t,L,fa,ta){fa<t?(this.x2=t,this.x1=fa):(this.x1=
t,this.x2=fa);ta<L?(this.y2=L,this.y1=ta):(this.y1=L,this.y2=ta);return this},add(t,L){t<this.x1&&(this.x1=t);L<this.y1&&(this.y1=L);t>this.x2&&(this.x2=t);L>this.y2&&(this.y2=L);return this},expand(t){this.x1-=t;this.y1-=t;this.x2+=t;this.y2+=t;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(t){this.x1*=t;this.y1*=t;this.x2*=t;this.y2*=t;return this},translate(t,L){this.x1+=t;this.x2+=t;this.y1+=
L;this.y2+=L;return this},rotate(t,L,fa){t=this.rotatedPoints(t,L,fa);return this.clear().add(t[0],t[1]).add(t[2],t[3]).add(t[4],t[5]).add(t[6],t[7])},rotatedPoints(t,L,fa){var {x1:ta,y1:db,x2:Rb,y2:hc}=this,Dc=Math.cos(t);t=Math.sin(t);var dc=L-L*Dc+fa*t;L=fa-L*t-fa*Dc;return[Dc*ta-t*db+dc,t*ta+Dc*db+L,Dc*ta-t*hc+dc,t*ta+Dc*hc+L,Dc*Rb-t*db+dc,t*Rb+Dc*db+L,Dc*Rb-t*hc+dc,t*Rb+Dc*hc+L]},union(t){t.x1<this.x1&&(this.x1=t.x1);t.y1<this.y1&&(this.y1=t.y1);t.x2>this.x2&&(this.x2=t.x2);t.y2>this.y2&&(this.y2=
t.y2);return this},intersect(t){t.x1>this.x1&&(this.x1=t.x1);t.y1>this.y1&&(this.y1=t.y1);t.x2<this.x2&&(this.x2=t.x2);t.y2<this.y2&&(this.y2=t.y2);return this},encloses(t){return t&&this.x1<=t.x1&&this.x2>=t.x2&&this.y1<=t.y1&&this.y2>=t.y2},alignsWith(t){return t&&(this.x1==t.x1||this.x2==t.x2||this.y1==t.y1||this.y2==t.y2)},intersects(t){return t&&!(this.x2<t.x1||this.x1>t.x2||this.y2<t.y1||this.y1>t.y2)},contains(t,L){return!(t<this.x1||t>this.x2||L<this.y1||L>this.y2)},width(){return this.x2-
this.x1},height(){return this.y2-this.y1}};l.inherits(Va,Gb);class Pg{constructor(t){this._pending=0;this._loader=t||$a.loader()}pending(){return this._pending}sanitizeURL(t){const L=this;L._pending+=1;return L._loader.sanitize(t,{context:"href"}).then(fa=>{--L._pending;return fa}).catch(()=>{--L._pending;return null})}loadImage(t){const L=this,fa=ja.image();L._pending+=1;return L._loader.sanitize(t,{context:"image"}).then(ta=>{const db=ta.href;if(!db||!fa)throw{url:db};const Rb=new fa;ta=l.hasOwnProperty(ta,
"crossOrigin")?ta.crossOrigin:"anonymous";null!=ta&&(Rb.crossOrigin=ta);Rb.onload=()=>{--L._pending};Rb.onerror=()=>{--L._pending};Rb.src=db;return Rb}).catch(ta=>{--L._pending;return{complete:!1,width:0,height:0,src:ta&&ta.url||""}})}ready(){const t=this;return new Promise(L=>{function fa(ta){t.pending()?setTimeout(()=>{fa(!0)},10):L(ta)}fa(!1)})}}const $g=ad-1E-8;let Lf,W,La,ob,Ac,Bc,yd,Rd;const Id=(t,L)=>{t=W=t;L=La=L;return Lf.add(t,L)},Zf=t=>Lf.add(t,Lf.y1),nf=t=>Lf.add(Lf.x1,t),zg=(t,L)=>Lf.add(Ac*
t+yd*L,Bc*t+Rd*L),sh=(t,L)=>Id(Ac*t+yd*L,Bc*t+Rd*L),lh={beginPath(){},closePath(){},moveTo:sh,lineTo:sh,rect(t,L,fa,ta){ob?(zg(t+fa,L),zg(t+fa,L+ta),zg(t,L+ta),sh(t,L)):(Lf.add(t+fa,L+ta),Id(t,L))},quadraticCurveTo(t,L,fa,ta){const db=Bc*t+Rd*L,Rb=Ac*fa+yd*ta;fa=Bc*fa+Rd*ta;Eb(W,Ac*t+yd*L,Rb,Zf);Eb(La,db,fa,nf);Id(Rb,fa)},bezierCurveTo(t,L,fa,ta,db,Rb){const hc=Bc*t+Rd*L,Dc=Bc*fa+Rd*ta,dc=Ac*db+yd*Rb;db=Bc*db+Rd*Rb;Wb(W,Ac*t+yd*L,Ac*fa+yd*ta,dc,Zf);Wb(La,hc,Dc,db,nf);Id(dc,db)},arc(t,L,fa,ta,db,Rb){ta+=
ob;db+=ob;W=fa*Math.cos(db)+t;La=fa*Math.sin(db)+L;if(Math.abs(db-ta)>$g)Lf.add(t-fa,L-fa),Lf.add(t+fa,L+fa);else{const hc=dc=>Lf.add(fa*Math.cos(dc)+t,fa*Math.sin(dc)+L);let Dc;hc(ta);hc(db);if(db!==ta)if(ta%=ad,0>ta&&(ta+=ad),db%=ad,0>db&&(db+=ad),db<ta&&(Rb=!Rb,Dc=ta,ta=db,db=Dc),Rb)for(db-=ad,Dc=ta-ta%$e,ta=0;4>ta&&Dc>db;++ta,Dc-=$e)hc(Dc);else for(Dc=ta-ta%$e+$e,ta=0;4>ta&&Dc<db;++ta,Dc+=$e)hc(Dc)}}};var kg=(kg=ja.canvas(1,1))?kg.getContext("2d"):null;const rg=new ra;var rh=[],Jd=Tc("arc",function(t,
L){return Ng.context(t)(L)}),Xd=ld("area",function(t,L){const fa=L[0];return("horizontal"===fa.orient?Pf:Kf).curve(Ea(fa.interpolate||"linear",fa.orient,fa.tension)).context(t)(L)},function(t,L){L="horizontal"===t[0].orient?L[1]:L[0];for(var fa="horizontal"===t[0].orient?"y":"x",ta=t.length,db=Infinity,Rb,hc;0<=--ta;)!1!==t[ta].defined&&(hc=Math.abs(t[ta][fa]-L),hc<db&&(db=hc,Rb=t[ta]));return Rb});const zf=md(Wd),we=md(Wd,!1),af=md(Wd,!0);var Re={type:"group",tag:"g",nested:!1,attr:function(t,L){t("transform",
fd(L.x||0,L.y||0))},bound:function(t,L){if(!L.clip&&L.items){const fa=L.items,ta=fa.length;for(let db=0;db<ta;++db)t.union(fa[db].bounds)}(L.clip||L.width||L.height)&&!L.noBound&&t.add(0,0).add(L.width||0,L.height||0);Ab(t,L);return t.translate(L.x||0,L.y||0)},draw:function(t,L,fa,ta){Sb(L,db=>{const Rb=db.x||0,hc=db.y||0,Dc=db.strokeForeground,dc=null==db.opacity?1:db.opacity;(db.stroke||db.fill)&&dc&&(Wd(t,db,Rb,hc),ib(t,db),db.fill&&ya(t,db,dc)&&t.fill(),db.stroke&&!Dc&&Ia(t,db,dc)&&t.stroke());
t.save();t.translate(Rb,hc);db.clip&&nd(t,db);fa&&fa.translate(-Rb,-hc);Sb(db,Uc=>{("group"===Uc.marktype||null==ta||ta.includes(Uc.marktype))&&this.draw(t,Uc,fa,ta)});fa&&fa.translate(Rb,hc);t.restore();Dc&&db.stroke&&dc&&(Wd(t,db,Rb,hc),ib(t,db),Ia(t,db,dc)&&t.stroke())})},pick:function(t,L,fa,ta,db,Rb){if(L.bounds&&!L.bounds.contains(db,Rb)||!L.items)return null;const hc=fa*t.pixelRatio,Dc=ta*t.pixelRatio;return Hb(L,dc=>{let Uc,Qc;var wd=dc.bounds;if(!wd||wd.contains(db,Rb)){Uc=dc.x||0;Qc=dc.y||
0;wd=Uc+(dc.width||0);var Qd=Qc+(dc.height||0),Yd=dc.clip;if(!Yd||!(db<Uc||db>wd||Rb<Qc||Rb>Qd)){t.save();t.translate(Uc,Qc);Uc=db-Uc;Qc=Rb-Qc;if(Yd&&Nb(dc)&&!af(t,dc,hc,Dc))return t.restore(),null;Qd=dc.strokeForeground;if((Yd=!1!==L.interactive)&&Qd&&dc.stroke&&we(t,dc,hc,Dc))return t.restore(),dc;wd=Hb(dc,me=>(!1!==me.interactive||"group"===me.marktype)&&me.bounds&&me.bounds.contains(Uc,Qc)?this.pick(me,fa,ta,Uc,Qc):null);!wd&&Yd&&(dc.fill||!Qd&&dc.stroke)&&zf(t,dc,hc,Dc)&&(wd=dc);t.restore();
return wd||null}}})},isect:Pc,content:function(t,L,fa){L=L.clip?Sc(fa,L,L):null;t("clip-path",L)},background:function(t,L){t("class","background");t("aria-hidden",!0);const fa=dd(L);t("d",rc(null,L,fa,fa))},foreground:function(t,L){t("class","foreground");t("aria-hidden",!0);if(L.strokeForeground){const fa=dd(L);t("d",rc(null,L,fa,fa))}else t("d","")}},uf={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},fg={type:"image",tag:"image",nested:!1,attr:function(t,
L,fa){var ta=gd(L,fa);fa=z(L,ta);const db=J(L,ta),Rb=(L.x||0)-va(L.align,fa),hc=(L.y||0)-w(L.baseline,db);ta=!ta.src&&ta.toDataURL?ta.toDataURL():ta.src||"";t("href",ta,uf["xmlns:xlink"],"xlink:href");t("transform",fd(Rb,hc));t("width",fa);t("height",db);t("preserveAspectRatio",!1===L.aspect?"none":"xMidYMid")},bound:function(t,L){var fa=L.image;const ta=z(L,fa);fa=J(L,fa);const db=(L.x||0)-va(L.align,ta);L=(L.y||0)-w(L.baseline,fa);return t.set(db,L,db+ta,L+fa)},draw:function(t,L,fa){Sb(L,ta=>{if(!fa||
fa.intersects(ta.bounds)){var db=gd(ta,this),Rb=z(ta,db),hc=J(ta,db);if(0!==Rb&&0!==hc){var Dc=(ta.x||0)-va(ta.align,Rb),dc=(ta.y||0)-w(ta.baseline,hc),Uc;if(!1!==ta.aspect){var Qc=db.width/db.height;var wd=ta.width/ta.height;Qc===Qc&&wd===wd&&Qc!==wd&&(wd<Qc?(Qc=Rb/Qc,dc+=(hc-Qc)/2,hc=Qc):(Qc*=hc,Dc+=(Rb-Qc)/2,Rb=Qc))}if(db.complete||db.toDataURL)ib(t,ta),t.globalAlpha=null!=(Uc=ta.opacity)?Uc:1,t.imageSmoothingEnabled=!1!==ta.smooth,t.drawImage(db,Dc,dc,Rb,hc)}}})},pick:Kc(),isect:l.truthy,get:gd,
xOffset:va,yOffset:w},of=ld("line",function(t,L){const fa=L[0];return Xf.curve(Ea(fa.interpolate||"linear",fa.orient,fa.tension)).context(t)(L)},function(t,L){for(var fa=Math.pow(t[0].strokeWidth||1,2),ta=t.length,db,Rb;0<=--ta;)if(!1!==t[ta].defined&&(db=t[ta].x-L[0],Rb=t[ta].y-L[1],db=db*db+Rb*Rb,db<fa))return t[ta];return null}),tg={type:"path",tag:"path",nested:!1,attr:function(t,L){var fa=L.scaleY||1;1===(L.scaleX||1)&&1===fa||t("vector-effect","non-scaling-stroke");fa=fd(L.x||0,L.y||0)+(L.angle?
" rotate("+(L.angle+")"):"")+(L.scaleX||L.scaleY?" scale("+((L.scaleX||1)+","+(L.scaleY||1)+")"):"");t("transform",fa);t("d",L.path)},bound:function(t,L){return Q(Jb(t,L.angle),L)?t.set(0,0,0,0):Ab(t,L,!0)},draw:Pb(Q),pick:Kc(md(Q)),isect:wc(Q)},hg={type:"rect",tag:"path",nested:!1,attr:function(t,L){t("d",rc(null,L))},bound:function(t,L){var fa,ta;return Ab(t.set(fa=L.x||0,ta=L.y||0,fa+L.width||0,ta+L.height||0),L)},draw:Pb(ca),pick:Kc(md(ca)),isect:Pc},Mf={type:"rule",tag:"line",nested:!1,attr:function(t,
L){t("transform",fd(L.x||0,L.y||0));t("x2",null!=L.x2?L.x2-(L.x||0):0);t("y2",null!=L.y2?L.y2-(L.y||0):0)},bound:function(t,L){var fa,ta;return Ab(t.set(fa=L.x||0,ta=L.y||0,null!=L.x2?L.x2:fa,null!=L.y2?L.y2:ta),L)},draw:function(t,L,fa){Sb(L,ta=>{if(!fa||fa.intersects(ta.bounds)){var db=null==ta.opacity?1:ta.opacity;db&&wa(t,ta,db)&&(ib(t,ta),t.stroke())}})},pick:Kc(function(t,L,fa,ta){return t.isPointInStroke?wa(t,L,1)&&t.isPointInStroke(fa,ta):!1}),isect:oa},Rg=Tc("shape",function(t,L){return(L.mark.shape||
L.shape).context(t)(L)}),Nf=Tc("symbol",function(t,L){return Yg.context(t)(L)},Zc);const Qh=l.lruCache();var Ag={height:jc,measureWidth:Tb,estimateWidth:Ya,width:Ya,canvas:pa};pa(!0);const Fg={left:"start",center:"middle",right:"end"},ug=new ra;var Rh={type:"text",tag:"text",nested:!1,attr:function(t,L){var fa=L.dx||0,ta=(L.dy||0)+Zd(L),db=Kd(L),Rb=db.x1;db=db.y1;var hc=L.angle||0;t("text-anchor",Fg[L.align]||"start");if(hc){if(L=fd(Rb,db)+" rotate("+(hc+")"),fa||ta)L+=" "+fd(fa,ta)}else L=fd(Rb+
fa,db+ta);t("transform",L)},bound:$d,draw:function(t,L,fa){Sb(L,ta=>{var db=null==ta.opacity?1:ta.opacity,Rb;if(!(fa&&!fa.intersects(ta.bounds)||0===db||0>=ta.fontSize||null==ta.text||0===ta.text.length)){t.font=zd(ta);t.textAlign=ta.align||"left";var hc=Kd(ta);var Dc=hc.x1;hc=hc.y1;ta.angle&&(t.save(),t.translate(Dc,hc),t.rotate(ta.angle*ce),Dc=hc=0);Dc+=ta.dx||0;hc+=(ta.dy||0)+Zd(ta);var dc=Oc(ta);ib(t,ta);if(l.isArray(dc)){var Uc=Cc(ta);for(Rb=0;Rb<dc.length;++Rb){var Qc=Rc(ta,dc[Rb]);ta.fill&&
ya(t,ta,db)&&t.fillText(Qc,Dc,hc);ta.stroke&&Ia(t,ta,db)&&t.strokeText(Qc,Dc,hc);hc+=Uc}}else Qc=Rc(ta,dc),ta.fill&&ya(t,ta,db)&&t.fillText(Qc,Dc,hc),ta.stroke&&Ia(t,ta,db)&&t.strokeText(Qc,Dc,hc);ta.angle&&t.restore()}})},pick:Kc(function(t,L,fa,ta,db,Rb){if(0>=L.fontSize)return!1;if(!L.angle)return!0;fa=Kd(L);t=fa.x1;fa=fa.y1;ta=$d(ug,L,1);var hc=-L.angle*ce;L=Math.cos(hc);hc=Math.sin(hc);return ta.contains(L*db-hc*Rb+(t-L*t+hc*fa),hc*db+L*Rb+(fa-hc*t-L*fa))}),isect:function(t,L){t=$d(ug,t,2);return Ma(L,
t[0],t[1],t[2],t[3])||Ma(L,t[0],t[1],t[4],t[5])||Ma(L,t[4],t[5],t[6],t[7])||Ma(L,t[2],t[3],t[6],t[7])}},Aj=ld("trail",function(t,L){return Zg.context(t)(L)},function(t,L){for(var fa=t.length,ta,db;0<=--fa;)if(!1!==t[fa].defined&&(ta=t[fa].x-L[0],db=t[fa].y-L[1],db=ta*ta+db*db,ta=t[fa].size||1,db<ta*ta))return t[fa];return null}),vg={arc:Jd,area:Xd,group:Re,image:fg,line:of,path:tg,rect:hg,rule:Mf,shape:Rg,symbol:Nf,text:Rh,trail:Aj},Ii={mark:null};const qi="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
class Ji{constructor(t){arguments.length?this.root=Ve(t):(this.root=He({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Va(this.root)])}toJSON(t){return Le(this.root,t||0)}mark(t,L,fa){L=L||this.root.items[0];t=He(t,L);L.items[fa]=t;t.zindex&&(t.group.zdirty=!0);return t}}class ri{constructor(t,L){this._active=null;this._handlers={};this._loader=t||$a.loader();this._tooltip=L||Ne}initialize(t,L,fa){this._el=t;this._obj=fa||null;return this.origin(L)}element(){return this._el}canvas(){return this._el&&
this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){if(!arguments.length)return this._scene;this._scene=t;return this}on(){}off(){}_handlerIndex(t,L,fa){for(let ta=t?t.length:0;0<=--ta;)if(t[ta].type===L&&(!fa||t[ta].handler===fa))return ta;return-1}handlers(t){const L=this._handlers,fa=[];if(t)fa.push(...L[this.eventName(t)]);else for(const ta in L)fa.push(...L[ta]);return fa}eventName(t){const L=t.indexOf(".");return 0>L?t:t.slice(0,L)}handleHref(t,
L,fa){this._loader.sanitize(fa,{context:"href"}).then(ta=>{const db=new MouseEvent(t.type,t),Rb=ie(null,"a");for(const hc in ta)Rb.setAttribute(hc,ta[hc]);Rb.dispatchEvent(db)}).catch(()=>{})}handleTooltip(t,L,fa){if(L&&null!=L.tooltip){var ta=this.canvas(),db=this._origin,Rb=L&&L.mark,hc;if(Rb&&(hc=vg[Rb.marktype]).tip){ta=rf(t,ta);ta[0]-=db[0];for(ta[1]-=db[1];L=L.mark.group;)ta[0]-=L.x||0,ta[1]-=L.y||0;L=hc.tip(Rb.items,ta)}this._tooltip.call(this._obj,this,t,L,fa&&L&&L.tooltip||null)}}getItemBoundingClientRect(t){var L=
this.canvas();if(L){var fa=L.getBoundingClientRect(),ta=this._origin,db=t.bounds;L=db.width();var Rb=db.height(),hc=db.x1+ta[0]+fa.left;for(fa=db.y1+ta[1]+fa.top;t.mark&&(t=t.mark.group);)hc+=t.x||0,fa+=t.y||0;return{x:hc,y:fa,width:L,height:Rb,left:hc,top:fa,right:hc+L,bottom:fa+Rb}}}}class Sh{constructor(t){this._bgcolor=this._el=null;this._loader=new Pg(t)}initialize(t,L,fa,ta,db){this._el=t;return this.resize(L,fa,ta,db)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){if(0===
arguments.length)return this._bgcolor;this._bgcolor=t;return this}resize(t,L,fa,ta){this._width=t;this._height=L;this._origin=fa||[0,0];this._scale=ta||1;return this}dirty(){}render(t,L){const fa=this;fa._call=function(){fa._render(t,L)};fa._call();fa._call=null;return fa}_render(){}renderAsync(t,L){const fa=this.render(t,L);return this._ready?this._ready.then(()=>fa):Promise.resolve(fa)}_load(t,L){var fa=this;t=fa._loader[t](L);if(!fa._ready){const ta=fa._call;fa._ready=fa._loader.ready().then(db=>
{db&&ta();fa._ready=null})}return t}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const $f="keydown keypress keyup dragenter dragleave dragover pointerdown pointerup pointermove pointerout pointerover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" ");class ci extends ri{constructor(t,L){super(t,L);this._touch=this._down=null;this._first=!0;this._events={};this.events=$f;this.pointermove=
dg(["pointermove","mousemove"],["pointerover","mouseover"],["pointerout","mouseout"]);this.dragover=dg(["dragover"],["dragenter"],["dragleave"]);this.pointerout=gf(["pointerout","mouseout"]);this.dragleave=gf(["dragleave"])}initialize(t,L,fa){this._canvas=t&&ne(t,"canvas");"click mousedown pointerdown pointermove pointerout dragleave".split(" ").forEach(ta=>ze(this,ta));return super.initialize(t,L,fa)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire("mousewheel",
t)}pointerdown(t){this._down=this._active;this.fire("pointerdown",t)}mousedown(t){this._down=this._active;this.fire("mousedown",t)}click(t){this._down===this._active&&(this.fire("click",t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",t,!0)}touchmove(t){this.fire("touchmove",t,!0)}touchend(t){this.fire("touchend",t,!0);this._touch=null}fire(t,L,fa){fa=fa?this._touch:this._active;const ta=
this._handlers[t];L.vegaType=t;"click"===t&&fa&&fa.href?this.handleHref(L,fa,fa.href):("pointermove"===t||"mouseout"===t)&&this.handleTooltip(L,fa,"mouseout"!==t);if(ta)for(let db=0,Rb=ta.length;db<Rb;++db)ta[db].handler.call(this._obj,L,fa)}on(t,L){const fa=this.eventName(t),ta=this._handlers;0>this._handlerIndex(ta[fa],t,L)&&(ze(this,t),(ta[fa]||(ta[fa]=[])).push({type:t,handler:L}));return this}off(t,L){var fa=this.eventName(t);fa=this._handlers[fa];t=this._handlerIndex(fa,t,L);0<=t&&fa.splice(t,
1);return this}pickEvent(t){t=rf(t,this._canvas);const L=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-L[0],t[1]-L[1])}pick(t,L,fa,ta,db){const Rb=this.context();return vg[t.marktype].pick.call(this,Rb,t,L,fa,ta,db)}}class Th extends Sh{constructor(t){super(t);this._options={};this._redraw=!1;this._dirty=new ra;this._tempb=new ra}initialize(t,L,fa,ta,db,Rb){this._options=Rb||{};this._canvas=this._options.externalContext?null:ja.canvas(1,1,this._options.type);t&&this._canvas&&(Fd(t,0).appendChild(this._canvas),
this._canvas.setAttribute("class","marks"));return super.initialize(t,L,fa,ta,db)}resize(t,L,fa,ta){super.resize(t,L,fa,ta);if(this._canvas){t=this._canvas;L=this._width;fa=this._height;ta=this._origin;var db=this._scale,Rb=this._options.context;const Dc="undefined"!==typeof HTMLElement&&t instanceof HTMLElement&&null!=t.parentNode,dc=t.getContext("2d");db=Dc?"undefined"!==typeof window?window.devicePixelRatio||1:1:db;t.width=L*db;t.height=fa*db;for(var hc in Rb)dc[hc]=Rb[hc];Dc&&1!==db&&(t.style.width=
L+"px",t.style.height=fa+"px");dc.pixelRatio=db;dc.setTransform(db,0,0,db,db*ta[0],db*ta[1])}else(hc=this._options.externalContext)||l.error("CanvasRenderer is missing a valid canvas or context"),hc.scale(this._scale,this._scale),hc.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const L=this._tempb.clear().union(t.bounds);for(t=t.mark.group;t;)L.translate(t.x||
0,t.y||0),t=t.mark.group;this._dirty.union(L)}_render(t,L){const fa=this.context(),ta=this._origin,db=this._width,Rb=this._height,hc=this._dirty;var Dc=(new ra).set(0,0,db,Rb).translate(-ta[0],-ta[1]);fa.save();this._redraw||hc.empty()?Dc=(this._redraw=!1,Dc.expand(1)):(Dc=Dc.intersect(hc),Dc.expand(1).round(),fa.pixelRatio%1&&Dc.scale(fa.pixelRatio).round().scale(1/fa.pixelRatio),Dc.translate(-(ta[0]%1),-(ta[1]%1)),fa.beginPath(),fa.rect(Dc.x1,Dc.y1,Dc.width(),Dc.height()),fa.clip());this.clear(-ta[0],
-ta[1],db,Rb);this.draw(fa,t,Dc,L);fa.restore();hc.clear();return this}draw(t,L,fa,ta){if("group"===L.marktype||null==ta||ta.includes(L.marktype)){var db=vg[L.marktype];if(L.clip){var Rb=L.clip;t.save();l.isFunction(Rb)?(t.beginPath(),Rb(t),t.clip()):nd(t,L.group)}db.draw.call(this,t,L,fa,ta);L.clip&&t.restore()}}clear(t,L,fa,ta){const db=this._options,Rb=this.context();"pdf"===db.type||db.externalContext||Rb.clearRect(t,L,fa,ta);null!=this._bgcolor&&(Rb.fillStyle=this._bgcolor,Rb.fillRect(t,L,fa,
ta))}}class th extends ri{constructor(t,L){super(t,L);const fa=this;fa._hrefHandler=si(fa,(ta,db)=>{db&&db.href&&fa.handleHref(ta,db,db.href)});fa._tooltipHandler=si(fa,(ta,db)=>{fa.handleTooltip(ta,db,"mouseout"!==ta.type)})}initialize(t,L,fa){let ta=this._svg;ta&&(ta.removeEventListener("click",this._hrefHandler),ta.removeEventListener("pointermove",this._tooltipHandler),ta.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=ta=t&&ne(t,"svg"))ta.addEventListener("click",this._hrefHandler),
ta.addEventListener("pointermove",this._tooltipHandler),ta.addEventListener("mouseout",this._tooltipHandler);return super.initialize(t,L,fa)}canvas(){return this._svg}on(t,L){const fa=this.eventName(t),ta=this._handlers;0>this._handlerIndex(ta[fa],t,L)&&(t={type:t,handler:L,listener:si(this,L)},(ta[fa]||(ta[fa]=[])).push(t),this._svg&&this._svg.addEventListener(fa,t.listener));return this}off(t,L){const fa=this.eventName(t),ta=this._handlers[fa];t=this._handlerIndex(ta,t,L);0<=t&&(this._svg&&this._svg.removeEventListener(fa,
ta[t].listener),ta.splice(t,1));return this}}const si=(t,L)=>fa=>{let ta=fa.target.__data__;ta=Array.isArray(ta)?ta[0]:ta;fa.vegaType=fa.type;L.call(t._obj,fa,ta)},Ki=(t,L,fa)=>({role:t,["aria-roledescription"]:L,["aria-label"]:fa||void 0}),di=l.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),Fh={axis:{desc:"axis",caption:function(t){var L=t.datum;const fa=t.orient,ta=L.title?id(t):null;
var db=t.context;L=db.scales[L.scale].value;db=db.dataflow.locale();const Rb=L.type;return`${"left"===fa||"right"===fa?"Y":"X"}-axis`+(ta?` titled '${ta}'`:"")+` for a ${vb.isDiscrete(Rb)?"discrete":Rb} scale`+` with ${vb.domainCaption(db,L,t)}`}},legend:{desc:"legend",caption:function(t){var L=t.datum;const fa=L.title?id(t):null,ta=`${L.type||""} legend`.trim();var db=L.scales;L=Object.keys(db);var Rb=t.context;db=Rb.scales[db[L[0]]].value;Rb=Rb.dataflow.locale();return(ta.length?ta[0].toUpperCase()+
ta.slice(1):ta)+(fa?` titled '${fa}'`:"")+` for ${ed(L)}`+` with ${vb.domainCaption(Rb,db,t)}`}},"title-text":{desc:"title",caption:t=>`Title text '${l.array(t.text).join(" ")}'`},"title-subtitle":{desc:"subtitle",caption:t=>`Subtitle text '${l.array(t.text).join(" ")}'`}},Uh={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},Li=t=>(t+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"),Mi=t=>Td(Dd(),t)+"",uh={fill:"fill",fillOpacity:"fill-opacity",
stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},Hh={blend:"mix-blend-mode"},Hg={fill:"none","stroke-miterlimit":10},Me=uf.xmlns;class vh extends Sh{constructor(t){super(t);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}initialize(t,L,fa,ta,db){this._defs={};this._clearDefs();
t&&(this._svg=Ee(t,0,"svg",Me),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns",Me),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",uf["xmlns:xlink"]),this._svg.setAttribute("version",uf.version),this._svg.setAttribute("class","marks"),Fd(t,1),this._root=Ee(this._svg,0,"g",Me),Pe(this._root,Hg),Fd(this._svg,1));this.background(this._bgcolor);return super.initialize(t,L,fa,ta,db)}background(t){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",
t);return super.background(...arguments)}resize(t,L,fa,ta){super.resize(t,L,fa,ta);this._svg&&(Pe(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this}canvas(){return this._svg}svg(){const t=this._svg,L=this._bgcolor;if(!t)return null;let fa;L&&(t.removeAttribute("style"),fa=Ee(t,0,"rect",Me),Pe(fa,{width:this._width,height:this._height,fill:L}));
const ta=Mi(t);L&&(t.removeChild(fa),this._svg.style.setProperty("background-color",L));return ta}_render(t,L){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,L),Fd(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||
!this._dirtyID)return!0;const L=++this._dirtyID;let fa;let ta,db,Rb,hc;Rb=0;for(hc=t.length;Rb<hc;++Rb){fa=t[Rb];var Dc=fa.mark;Dc.marktype!==ta&&(ta=Dc.marktype,db=vg[ta]);Dc.zdirty&&Dc.dirty!==L&&(this._dirtyAll=!1,Md(fa,L),Dc.items.forEach(dc=>{dc.dirty=L}));Dc.zdirty||(fa.exit?(db.nested&&Dc.items.length?(Dc=Dc.items[0],Dc._svg&&this._update(db,Dc._svg,Dc)):fa._svg&&(Dc=fa._svg.parentNode)&&Dc.removeChild(fa._svg),fa._svg=null):(fa=db.nested?Dc.items[0]:fa,fa._update!==L&&(fa._svg&&fa._svg.ownerSVGElement?
this._update(db,fa._svg,fa):(this._dirtyAll=!1,Md(fa,L)),fa._update=L)))}return!this._dirtyAll}mark(t,L,fa,ta){if(!this.isDirty(L))return L._svg;const db=this._svg,Rb=L.marktype,hc=vg[Rb];var Dc=!1===L.interactive?"none":null;const dc="g"===hc.tag,Uc=pd(L,t,fa,"g",db);if("group"!==Rb&&null!=ta&&!ta.includes(Rb))return Fd(Uc,0),L._svg;Uc.setAttribute("class",Uf(L));t=cb(L);for(const Qd in t)Ud(Uc,Qd,t[Qd]);dc||Ud(Uc,"pointer-events",Dc);Ud(Uc,"clip-path",L.clip?Sc(this,L,L.group):null);let Qc=null,
wd=0;Dc=Qd=>{const Yd=this.isDirty(Qd),me=pd(Qd,Uc,Qc,hc.tag,db);Yd&&(this._update(hc,me,Qd),dc&&Ze(this,me,Qd,ta));Qc=me;++wd};hc.nested?L.items.length&&Dc(L.items[0]):Sb(L,Dc);Fd(Uc,wd);return Uc}_update(t,L,fa){Mg=L;Af=L.__values__;Da(oe,fa);t.attr(oe,fa,this);const ta=cj[t.type];ta&&ta.call(this,t,L,fa);Mg&&this.style(Mg,fa)}style(t,L){if(null!=L){for(const fa in uh){let ta="font"===fa?sd(L):L[fa];if(ta===Af[fa])continue;const db=uh[fa];null==ta?t.removeAttribute(db):(ta&&ta.gradient&&(ta=Xb(ta,
this._defs.gradient,hf())),t.setAttribute(db,ta+""));Af[fa]=ta}for(const fa in Hh)df(t,Hh[fa],L[fa])}}defs(){const t=this._svg,L=this._defs;let fa=L.el;var ta=0;for(var db in L.gradient){fa||(L.el=fa=Ee(t,1,"defs",Me));var Rb=void 0;let dc,Uc;var hc=fa,Dc=L.gradient[db];"radial"===Dc.gradient?(Rb=Ee(hc,ta++,"pattern",Me),Pe(Rb,{id:"p_"+Dc.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Rb=Ee(Rb,0,"rect",Me),Pe(Rb,{width:1,height:1,fill:`url(${hf()}#${Dc.id})`}),
hc=Ee(hc,ta++,"radialGradient",Me),Pe(hc,{id:Dc.id,fx:Dc.x1,fy:Dc.y1,fr:Dc.r1,cx:Dc.x2,cy:Dc.y2,r:Dc.r2})):(hc=Ee(hc,ta++,"linearGradient",Me),Pe(hc,{id:Dc.id,x1:Dc.x1,x2:Dc.x2,y1:Dc.y1,y2:Dc.y2}));Uc=0;for(dc=Dc.stops.length;Uc<dc;++Uc)Rb=Ee(hc,Uc,"stop",Me),Rb.setAttribute("offset",Dc.stops[Uc].offset),Rb.setAttribute("stop-color",Dc.stops[Uc].color);Fd(hc,Uc)}for(const dc in L.clipping)fa||(L.el=fa=Ee(t,1,"defs",Me)),hc=fa,Dc=L.clipping[dc],db=ta,hc=Ee(hc,db,"clipPath",Me),hc.setAttribute("id",
Dc.id),Dc.path?(ta=Ee(hc,0,"path",Me),ta.setAttribute("d",Dc.path)):(ta=Ee(hc,0,"rect",Me),Pe(ta,{x:0,y:0,width:Dc.width,height:Dc.height})),Fd(hc,1),ta=db+1;fa&&(0===ta?(t.removeChild(fa),L.el=null):Fd(fa,ta))}_clearDefs(){const t=this._defs;t.gradient={};t.clipping={}}}let Mg=null,Af=null;const cj={group(t,L,fa){const ta=Mg=L.childNodes[2];Af=ta.__values__;t.foreground(oe,fa,this);Af=L.__values__;Mg=L.childNodes[1];t.content(oe,fa,this);L=Mg=L.childNodes[0];t.background(oe,fa,this);t=!1===fa.mark.interactive?
"none":null;t!==Af.events&&(Ud(ta,"pointer-events",t),Ud(L,"pointer-events",t),Af.events=t);fa.strokeForeground&&fa.stroke?(t=fa.fill,Ud(ta,"display",null),this.style(L,fa),Ud(L,"stroke",null),t&&(fa.fill=null),Af=ta.__values__,this.style(ta,fa),t&&(fa.fill=t),Mg=null):Ud(ta,"display","none")},image(t,L,fa){!1===fa.smooth?(df(L,"image-rendering","optimizeSpeed"),df(L,"image-rendering","pixelated")):df(L,"image-rendering",null)},text(t,L,fa){t=Oc(fa);let ta,db,Rb;l.isArray(t)?(ta=t.map(hc=>Rc(fa,hc)),
t=ta.join("\n"),t!==Af.text&&(Fd(L,0),db=L.ownerDocument,Rb=Cc(fa),ta.forEach((hc,Dc)=>{const dc=ie(db,"tspan",Me);dc.__data__=fa;dc.textContent=hc;Dc&&(dc.setAttribute("x",0),dc.setAttribute("dy",Rb));L.appendChild(dc)}),Af.text=t)):(ta=Rc(fa,t),ta!==Af.text&&(L.textContent=ta,Af.text=ta));Ud(L,"font-family",sd(fa));Ud(L,"font-size",jc(fa)+"px");Ud(L,"font-style",fa.fontStyle);Ud(L,"font-variant",fa.fontVariant);Ud(L,"font-weight",fa.fontWeight)}};class mg extends Sh{constructor(t){super(t);this._text=
null;this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const L=Dd();L.open("svg",l.extend({},uf,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const fa=this._bgcolor;fa&&"transparent"!==fa&&"none"!==fa&&L.open("rect",{width:this._width,height:this._height,fill:fa}).close();L.open("g",Hg,{transform:"translate("+this._origin+")"});this.mark(L,t);L.close();this.defs(L);this._text=L.close()+"";return this}mark(t,
L){const fa=vg[L.marktype],ta=fa.tag,db=[Da,fa.attr];t.open("g",{"class":Uf(L),"clip-path":L.clip?Sc(this,L,L.group):null},cb(L),{"pointer-events":"g"!==ta&&!1===L.interactive?"none":null});const Rb=hc=>{const Dc=this.href(hc);Dc&&t.open("a",Dc);t.open(ta,this.attr(L,hc,db,"g"!==ta?ta:null));if("text"===ta){var dc=Oc(hc);if(l.isArray(dc)){var Uc={x:0,dy:Cc(hc)};for(var Qc=0;Qc<dc.length;++Qc)t.open("tspan",Qc?Uc:null).text(Rc(hc,dc[Qc])).close()}else t.text(Rc(hc,dc))}else"g"===ta&&(dc=hc.strokeForeground,
Uc=hc.fill,Qc=hc.stroke,dc&&Qc&&(hc.stroke=null),t.open("path",this.attr(L,hc,fa.background,"bgrect")).close(),t.open("g",this.attr(L,hc,fa.content)),Sb(hc,wd=>this.mark(t,wd)),t.close(),dc&&Qc?(Uc&&(hc.fill=null),hc.stroke=Qc,t.open("path",this.attr(L,hc,fa.foreground,"bgrect")).close(),Uc&&(hc.fill=Uc)):t.open("path",this.attr(L,hc,fa.foreground,"bgfore")).close());t.close();Dc&&t.close()};fa.nested?L.items&&L.items.length&&Rb(L.items[0]):Sb(L,Rb);return t.close()}href(t){const L=t.href;if(L){if(t=
this._hrefs&&this._hrefs[L])return t;this.sanitizeURL(L).then(fa=>{fa["xlink:href"]=fa.href;fa.href=null;(this._hrefs||(this._hrefs={}))[L]=fa})}return null}attr(t,L,fa,ta){const db={},Rb=(hc,Dc,dc,Uc)=>{db[Uc||hc]=Dc};Array.isArray(fa)?fa.forEach(hc=>hc(Rb,L,this)):fa(Rb,L,this);ta&&Cf(db,L,t,ta,this._defs);return db}defs(t){var L=this._defs.gradient;const fa=this._defs.clipping;if(0!==Object.keys(L).length+Object.keys(fa).length){t.open("defs");for(const db in L){var ta=L[db];const Rb=ta.stops;
"radial"===ta.gradient?(t.open("pattern",{id:"p_"+db,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+db+")"}).close(),t.close(),t.open("radialGradient",{id:db,fx:ta.x1,fy:ta.y1,fr:ta.r1,cx:ta.x2,cy:ta.y2,r:ta.r2})):t.open("linearGradient",{id:db,x1:ta.x1,x2:ta.x2,y1:ta.y1,y2:ta.y2});for(ta=0;ta<Rb.length;++ta)t.open("stop",{offset:Rb[ta].offset,"stop-color":Rb[ta].color}).close();t.close()}for(const db in fa)L=fa[db],
t.open("clipPath",{id:db}),L.path?t.open("path",{d:L.path}).close():t.open("rect",{x:0,y:0,width:L.width,height:L.height}).close(),t.close();t.close()}}}const Gg={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};class wh extends Sh{constructor(t){super(t);this._svgRenderer=new vh(t);this._canvasRenderer=new Th(t)}initialize(t,L,fa,ta,db){this._root_el=Ee(t,0,"div");const Rb=Ee(this._root_el,0,"div"),hc=Ee(this._root_el,1,"div");this._root_el.style.position="relative";Gg.debug||(Rb.style.height="100%",
hc.style.position="absolute",hc.style.top="0",hc.style.left="0",hc.style.height="100%",hc.style.width="100%");this._svgEl=Gg.svgOnTop?hc:Rb;this._canvasEl=Gg.svgOnTop?Rb:hc;this._svgEl.style.pointerEvents="none";this._canvasRenderer.initialize(this._canvasEl,L,fa,ta,db);this._svgRenderer.initialize(this._svgEl,L,fa,ta,db);return super.initialize(t,L,fa,ta,db)}dirty(t){Gg.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t);return this}_render(t,L){L=(null!=
L?L:"arc area image line path rect rule shape symbol text trail".split(" ")).filter(fa=>!Gg.svgMarkTypes.includes(fa));this._svgRenderer.render(t,Gg.svgMarkTypes);this._canvasRenderer.render(t,L)}resize(t,L,fa,ta){super.resize(t,L,fa,ta);this._svgRenderer.resize(t,L,fa,ta);this._canvasRenderer.resize(t,L,fa,ta);return this}background(t){Gg.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t);return this}}class dj extends ci{constructor(t,L){super(t,L)}initialize(t,L,fa){t=Ee(Ee(t,
0,"div"),Gg.svgOnTop?0:1,"div");return super.initialize(t,L,fa)}}const Ih={};Ih.canvas=Ih.png={renderer:Th,headless:Th,handler:ci};Ih.svg={renderer:vh,headless:mg,handler:th};Ih.hybrid={renderer:wh,headless:wh,handler:dj};Ih.none={};const ei=new ra;u.Bounds=ra;u.CanvasHandler=ci;u.CanvasRenderer=Th;u.Gradient=function(t,L){var fa=[],ta;return ta={gradient:"linear",x1:t?t[0]:0,y1:t?t[1]:0,x2:L?L[0]:1,y2:L?L[1]:0,stops:fa,stop:function(db,Rb){fa.push({offset:db,color:Rb});return ta}}};u.GroupItem=Va;
u.Handler=ri;u.HybridHandler=dj;u.HybridRenderer=wh;u.Item=Gb;u.Marks=vg;u.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",Hybrid:"hybrid",None:"none"};u.Renderer=Sh;u.ResourceLoader=Pg;u.SVGHandler=th;u.SVGRenderer=vh;u.SVGStringRenderer=mg;u.Scenegraph=Ji;u.boundClip=function(t){const L=t.clip;if(l.isFunction(L))L(Jb(ei.clear()));else if(L)ei.set(0,0,t.group.width,t.group.height);else return;t.bounds.intersect(ei)};u.boundContext=Jb;u.boundItem=Te;u.boundMark=We;u.boundStroke=Ab;u.domChild=Ee;u.domClear=
Fd;u.domCreate=ie;u.domFind=ne;u.font=zd;u.fontFamily=sd;u.fontSize=jc;u.intersect=function(t,L,fa){const ta=[];L=(new ra).union(L);const db=t.marktype;return db?Ae(t,L,fa,ta):"group"===db?Qe(t,L,fa,ta):l.error("Intersect scene must be mark node or group item.")};u.intersectBoxLine=Ma;u.intersectPath=wc;u.intersectPoint=Zc;u.intersectRule=oa;u.lineHeight=Cc;u.markup=Dd;u.multiLineOffset=function(t){const L=Oc(t);return(l.isArray(L)?L.length-1:0)*Cc(t)};u.path=Yb;u.pathCurves=Ea;u.pathEqual=Je;u.pathParse=
R;u.pathRectangle=nc;u.pathRender=Aa;u.pathSymbols=Ra;u.pathTrail=$b;u.point=rf;u.renderModule=function(t,L){t=String(t||"").toLowerCase();return 1<arguments.length?(Ih[t]=L,this):Ih[t]};u.resetSVGClipId=function(){Og=1};u.resetSVGDefIds=function(){Og=1;qa=0};u.sceneEqual=qe;u.sceneFromJSON=Ve;u.scenePickVisit=Hb;u.sceneToJSON=Le;u.sceneVisit=Sb;u.sceneZOrder=qb;u.serializeXML=Mi;u.setHybridRendererOptions=function(t){let L;Gg.svgMarkTypes=null!=(L=t.svgMarkTypes)?L:["text"];let fa;Gg.svgOnTop=null!=
(fa=t.svgOnTop)?fa:!0;let ta;Gg.debug=null!=(ta=t.debug)?ta:!1};u.textMetrics=Ag})};
shadow$provide[38]=function(Fb,pb,zc,Za){(function(u,l){"object"===typeof Za&&"undefined"!==typeof zc?l(Za,pb(32),pb(37),pb(24)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l((u.vega=u.vega||{},u.vega.transforms={}),u.vega,u.vega,u.vega))})(this,function(u,l,ja,$a){function vb(E){l.Transform.call(this,null,E)}function Xb(E,I,X){return I(E.bounds.clear(),E,X)}function ec(E){l.Transform.call(this,
0,E)}function Bb(E){return E._signals[":vega_identifier:"]||(E._signals[":vega_identifier:"]=E.add(0))}function yb(E){l.Transform.call(this,null,E)}function ub(E){const I=E.groups;E=E.parent;return I&&1===I.size?I.get(Object.keys(I.object)[0]):I&&E?I.lookup(E):null}function Lb(E){l.Transform.call(this,null,E)}function Yb(E){l.Transform.call(this,null,E)}function Ba(E,I,X){return E[I]===X?0:(E[I]=X,1)}function bb(E){E=E.items[0].orient;return"left"===E||"right"===E}function Cb(E,I,X,Ea){I=I.items[0];
var R=I.datum,ia=null!=I.translate?I.translate:.5,Aa=I.orient,Pa=+R.grid;var Ra=[R.ticks?Pa++:-1,R.labels?Pa++:-1,Pa+ +R.domain];Pa=I.range;var fb=I.offset,zb=I.position,kb=I.minExtent,Vb=I.maxExtent;R=R.title&&I.items[Ra[2]].items[0];var aa=I.titlePadding,Ga=I.bounds,Qb=R&&ja.multiLineOffset(R),nc;A.clear().union(Ga);Ga.clear();-1<(nc=Ra[0])&&Ga.union(I.items[nc].bounds);-1<(nc=Ra[1])&&Ga.union(I.items[nc].bounds);switch(Aa){case "top":X=zb||0;Ea=-fb;kb=Math.max(kb,Math.min(Vb,-Ga.y1));Ga.add(0,
-kb).add(Pa,0);R&&xb(E,R,kb,aa,Qb,0,-1,Ga);break;case "left":X=-fb;Ea=zb||0;kb=Math.max(kb,Math.min(Vb,-Ga.x1));Ga.add(-kb,0).add(0,Pa);R&&xb(E,R,kb,aa,Qb,1,-1,Ga);break;case "right":X+=fb;Ea=zb||0;kb=Math.max(kb,Math.min(Vb,Ga.x2));Ga.add(0,0).add(kb,Pa);R&&xb(E,R,kb,aa,Qb,1,1,Ga);break;case "bottom":X=zb||0;Ea+=fb;kb=Math.max(kb,Math.min(Vb,Ga.y2));Ga.add(0,0).add(Pa,kb);R&&xb(E,R,kb,aa,0,0,1,Ga);break;default:X=I.x,Ea=I.y}ja.boundStroke(Ga.translate(X,Ea),I);Ba(I,"x",X+ia)|Ba(I,"y",Ea+ia)&&(I.bounds=
A,E.dirty(I),I.bounds=Ga,E.dirty(I));return I.mark.bounds.clear().union(Ga)}function xb(E,I,X,Ea,R,ia,Aa,Pa){const Ra=I.bounds;I.auto&&(X=Aa*(X+R+Ea),R=Ea=0,E.dirty(I),ia?Ea=(I.x||0)-(I.x=X):R=(I.y||0)-(I.y=X),I.mark.bounds.clear().union(Ra.translate(-Ea,-R)),E.dirty(I));Pa.union(Ra)}function nb(E){return(new ja.Bounds).set(0,0,E.width||0,E.height||0)}function Db(E){const I=E.bounds.clone();return I.empty()?I.set(0,0,0,0):I.translate(-(E.x||0),-(E.y||0))}function lb(E,I,X){E=$a.isObject(E)?E[I]:E;
return null!=E?E:void 0!==X?X:0}function lc(E){return 0>E?Math.ceil(-E):0}function ua(E,I,X){var Ea=!X.nodirty,R="flush"===X.bounds?nb:Db,ia=A.set(0,0,0,0),Aa=lb(X.align,"column"),Pa=lb(X.align,"row"),Ra=lb(X.padding,"column"),fb=lb(X.padding,"row"),zb=X.columns||I.length,kb=0>=zb?1:Math.ceil(I.length/zb),Vb=I.length,aa=Array(Vb),Ga=Array(zb),Qb=0,nc=Array(Vb),$b=Array(kb),Ob=0,Nb=Array(Vb),rc=Array(Vb),Sc=Array(Vb),ra,Gb,Va;for(ra=0;ra<zb;++ra)Ga[ra]=0;for(ra=0;ra<kb;++ra)$b[ra]=0;for(ra=0;ra<Vb;++ra){var Ab=
I[ra];var Jb=Sc[ra]=R(Ab);Ab.x=Ab.x||0;Nb[ra]=0;Ab.y=Ab.y||0;rc[ra]=0;Ab=ra%zb;var Eb=~~(ra/zb);Qb=Math.max(Qb,Gb=Math.ceil(Jb.x2));Ob=Math.max(Ob,Va=Math.ceil(Jb.y2));Ga[Ab]=Math.max(Ga[Ab],Gb);$b[Eb]=Math.max($b[Eb],Va);aa[ra]=Ra+lc(Jb.x1);nc[ra]=fb+lc(Jb.y1);Ea&&E.dirty(I[ra])}for(ra=0;ra<Vb;++ra)0===ra%zb&&(aa[ra]=0),ra<zb&&(nc[ra]=0);if("each"===Aa)for(Ab=1;Ab<zb;++Ab){R=0;for(ra=Ab;ra<Vb;ra+=zb)R<aa[ra]&&(R=aa[ra]);for(ra=Ab;ra<Vb;ra+=zb)aa[ra]=R+Ga[Ab-1]}else if("all"===Aa){for(ra=R=0;ra<Vb;++ra)ra%
zb&&R<aa[ra]&&(R=aa[ra]);for(ra=0;ra<Vb;++ra)ra%zb&&(aa[ra]=R+Qb)}else for(Aa=!1,Ab=1;Ab<zb;++Ab)for(ra=Ab;ra<Vb;ra+=zb)aa[ra]+=Ga[Ab-1];if("each"===Pa)for(Eb=1;Eb<kb;++Eb){R=0;ra=Eb*zb;for(Ab=ra+zb;ra<Ab;++ra)R<nc[ra]&&(R=nc[ra]);for(ra=Eb*zb;ra<Ab;++ra)nc[ra]=R+$b[Eb-1]}else if("all"===Pa){R=0;for(ra=zb;ra<Vb;++ra)R<nc[ra]&&(R=nc[ra]);for(ra=zb;ra<Vb;++ra)nc[ra]=R+Ob}else for(Pa=!1,Eb=1;Eb<kb;++Eb)for(ra=Eb*zb,Ab=ra+zb;ra<Ab;++ra)nc[ra]+=$b[Eb-1];for(ra=Eb=0;ra<Vb;++ra)Eb=aa[ra]+(ra%zb?Eb:0),Nb[ra]+=
Eb-I[ra].x;for(Ab=0;Ab<zb;++Ab)for(aa=0,ra=Ab;ra<Vb;ra+=zb)aa+=nc[ra],rc[ra]+=aa-I[ra].y;if(Aa&&lb(X.center,"column")&&1<kb)for(ra=0;ra<Vb;++ra)Jb="all"===Aa?Qb:Ga[ra%zb],Eb=Jb-Sc[ra].x2-I[ra].x-Nb[ra],0<Eb&&(Nb[ra]+=Eb/2);if(Pa&&lb(X.center,"row")&&1!==zb)for(ra=0;ra<Vb;++ra)Jb="all"===Pa?Ob:$b[~~(ra/zb)],aa=Jb-Sc[ra].y2-I[ra].y-rc[ra],0<aa&&(rc[ra]+=aa/2);for(ra=0;ra<Vb;++ra)ia.union(Sc[ra].translate(Nb[ra],rc[ra]));Eb=lb(X.anchor,"x");aa=lb(X.anchor,"y");switch(lb(X.anchor,"column")){case "end":Eb-=
ia.width();break;case "middle":Eb-=ia.width()/2}switch(lb(X.anchor,"row")){case "end":aa-=ia.height();break;case "middle":aa-=ia.height()/2}Eb=Math.round(Eb);aa=Math.round(aa);ia.clear();for(ra=0;ra<Vb;++ra)I[ra].mark.bounds.clear();for(ra=0;ra<Vb;++ra)Ab=I[ra],Ab.x+=Nb[ra]+=Eb,Ab.y+=rc[ra]+=aa,ia.union(Ab.mark.bounds.union(Ab.bounds.translate(Nb[ra],rc[ra]))),Ea&&E.dirty(Ab);return ia}function ha(E,I){return"x1"===I?E.x||0:"y1"===I?E.y||0:"x2"===I?(E.x||0)+(E.width||0):"y2"===I?(E.y||0)+(E.height||
0):void 0}function xa(E,I){return E.bounds[I]}function Ua(E,I,X,Ea,R,ia,Aa,Pa,Ra,fb,zb,kb,Vb,aa){var Ga=X.length,Qb=Ea=0,nc,$b;if(!Ga)return Ea;for(nc=zb;nc<Ga;nc+=kb)X[nc]&&(Ea=Aa(Ea,Ra(X[nc],fb)));if(!I.length)return Ea;I.length>R&&(E.warn("Grid headers exceed limit: "+R),I=I.slice(0,R));Ea+=ia;R=0;for(ia=I.length;R<ia;++R)E.dirty(I[R]),I[R].mark.bounds.clear();nc=zb;R=0;for(ia=I.length;R<ia;++R,nc+=kb){Ra=I[R];zb=Ra.mark.bounds;for(Ga=nc;0<=Ga&&null==($b=X[Ga]);Ga-=Vb);if(Pa){Ga=null==aa?$b.x:
Math.round($b.bounds.x1+aa*$b.bounds.width());var Ob=Ea}else Ga=Ea,Ob=null==aa?$b.y:Math.round($b.bounds.y1+aa*$b.bounds.height());zb.union(Ra.bounds.translate(Ga-(Ra.x||0),Ob-(Ra.y||0)));Ra.x=Ga;Ra.y=Ob;E.dirty(Ra);Qb=Aa(Qb,zb[fb])}return Qb}function Xa(E,I,X,Ea,R,ia){if(I){E.dirty(I);var Aa=X;Ea?Aa=Math.round(R.x1+ia*R.width()):X=Math.round(R.y1+ia*R.height());I.bounds.translate(Aa-(I.x||0),X-(I.y||0));I.mark.bounds.clear().union(I.bounds);I.x=Aa;I.y=X;E.dirty(I)}}function Ka(E,I){const X=E[I]||
{};return(Ea,R)=>null!=X[Ea]?X[Ea]:null!=E[Ea]?E[Ea]:R}function jb(E,I){let X=-Infinity;E.forEach(Ea=>{null!=Ea.offset&&(X=Math.max(X,Ea.offset))});return-Infinity<X?X:I}function gb(E,I,X,Ea,R,ia,Aa){const Pa=Ka(X,I);X=jb(E,Pa("offset",0));const Ra=Pa("anchor","start"),fb="end"===Ra?1:"middle"===Ra?.5:0;E={align:"each",bounds:Pa("bounds","flush"),columns:"vertical"===Pa("direction")?1:E.length,padding:Pa("margin",8),center:Pa("center"),nodirty:!0};switch(I){case "left":E.anchor={x:Math.floor(Ea.x1)-
X,column:"end",y:fb*(Aa||Ea.height()+2*Ea.y1),row:Ra};break;case "right":E.anchor={x:Math.ceil(Ea.x2)+X,y:fb*(Aa||Ea.height()+2*Ea.y1),row:Ra};break;case "top":E.anchor={y:Math.floor(R.y1)-X,row:"end",x:fb*(ia||R.width()+2*R.x1),column:Ra};break;case "bottom":E.anchor={y:Math.ceil(R.y2)+X,x:fb*(ia||R.width()+2*R.x1),column:Ra};break;case "top-left":E.anchor={x:X,y:X};break;case "top-right":E.anchor={x:ia-X,y:X,column:"end"};break;case "bottom-left":E.anchor={x:X,y:Aa-X,row:"end"};break;case "bottom-right":E.anchor=
{x:ia-X,y:Aa-X,column:"end",row:"end"}}return E}function wb(E,I){I=I.items[0];var X=I.datum,Ea=I.orient,R=I.bounds,ia=I.x,Aa=I.y;I._bounds?I._bounds.clear().union(R):I._bounds=R.clone();R.clear();var Pa=I.items[0].items[0];var Ra=I.padding,fb=Ra-Pa.x,zb=Ra-Pa.y;if(I.datum.title){var kb=I.items[1].items[0],Vb=kb.anchor,aa=I.titlePadding||0,Ga=Ra-kb.x,Qb=Ra-kb.y;switch(kb.orient){case "left":fb+=Math.ceil(kb.bounds.width())+aa;break;case "right":case "bottom":break;default:zb+=kb.bounds.height()+aa}(fb||
zb)&&U(E,Pa,fb,zb);switch(kb.orient){case "left":Qb+=Na(I,Pa,kb,Vb,1,1);break;case "right":Ga+=Na(I,Pa,kb,"end",0,0)+aa;Qb+=Na(I,Pa,kb,Vb,1,1);break;case "bottom":Ga+=Na(I,Pa,kb,Vb,0,0);Qb+=Na(I,Pa,kb,"end",-1,0,1)+aa;break;default:Ga+=Na(I,Pa,kb,Vb,0,0)}(Ga||Qb)&&U(E,kb,Ga,Qb);0>(Ga=Math.round(kb.bounds.x1-Ra))&&(U(E,Pa,-Ga,0),U(E,kb,-Ga,0))}else(fb||zb)&&U(E,Pa,fb,zb);R=Ub(I,R);E=2*I.padding;Pa=2*I.padding;R.empty()||(E=Math.ceil(R.width()+E),Pa=Math.ceil(R.height()+Pa));"symbol"===X.type&&ea(I.items[0].items[0].items[0].items);
"none"!==Ea&&(I.x=ia=0,I.y=Aa=0);I.width=E;I.height=Pa;ja.boundStroke(R.set(ia,Aa,ia+E,Aa+Pa),I);I.mark.bounds.clear().union(R);return I}function Ub(E,I){E.items.forEach(X=>I.union(X.bounds));I.x1=E.padding;I.y1=E.padding;return I}function Na(E,I,X,Ea,R,ia,Aa){const Pa=X.datum.vgrad;E=("symbol"===E.datum.type||!ia&&Pa||Aa?I:I.items[0]).bounds[R?"y2":"x2"]-E.padding;I=Pa&&ia?E:0;ia=Pa&&ia?0:E;X=0>=R?0:ja.multiLineOffset(X);return Math.round("start"===Ea?I:"end"===Ea?ia-X:.5*(E-X))}function U(E,I,X,
Ea){I.x+=X;I.y+=Ea;I.bounds.translate(X,Ea);I.mark.bounds.translate(X,Ea);E.dirty(I)}function ea(E){const I=E.reduce((X,Ea)=>{X[Ea.column]=Math.max(Ea.bounds.x2-Ea.x,X[Ea.column]||0);return X},{});E.forEach(X=>{X.width=I[X.column];X.height=X.bounds.y2-X.y})}function Ha(E,I,X,Ea,R){var ia=I.items[0],Aa=ia.orient,Pa=ia.anchor,Ra=ia.offset,fb=ia.padding,zb=ia.items[0].items[0],kb=ia.items[1]&&ia.items[1].items[0],Vb="left"===Aa||"right"===Aa?Ea:X,aa=0,Ga=X=0;"group"!==ia.frame?"left"===Aa?(aa=R.y2,Vb=
R.y1):"right"===Aa?(aa=R.y1,Vb=R.y2):(aa=R.x1,Vb=R.x2):"left"===Aa&&(aa=Ea,Vb=0);Ea="start"===Pa?aa:"end"===Pa?Vb:(aa+Vb)/2;if(kb&&kb.text){switch(Aa){case "top":case "bottom":Ga=zb.bounds.height()+fb;break;case "left":X=zb.bounds.width()+fb;break;case "right":X=-zb.bounds.width()-fb}A.clear().union(kb.bounds);A.translate(X-(kb.x||0),Ga-(kb.y||0));Ba(kb,"x",X)|Ba(kb,"y",Ga)&&(E.dirty(kb),kb.bounds.clear().union(A),kb.mark.bounds.clear().union(A),E.dirty(kb));A.clear().union(kb.bounds)}else A.clear();
A.union(zb.bounds);switch(Aa){case "top":Aa=Ea;R=R.y1-A.height()-Ra;break;case "left":Aa=R.x1-A.width()-Ra;R=Ea;break;case "right":Aa=R.x2+A.width()+Ra;R=Ea;break;case "bottom":Aa=Ea;R=R.y2+Ra;break;default:Aa=ia.x,R=ia.y}Ba(ia,"x",Aa)|Ba(ia,"y",R)&&(A.translate(Aa,R),E.dirty(ia),ia.bounds.clear().union(A),I.bounds.clear().union(A),E.dirty(ia));return ia.bounds}function Y(E){l.Transform.call(this,null,E)}function Ca(E){return E&&"legend-entry"!==E.mark.role}function ma(E,I,X){var Ea=I.items,R=Math.max(0,
I.width||0),ia=Math.max(0,I.height||0),Aa=(new ja.Bounds).set(0,0,R,ia),Pa=Aa.clone(),Ra=Aa.clone(),fb=[],zb,kb;var Vb=0;for(kb=Ea.length;Vb<kb;++Vb){var aa=Ea[Vb];switch(aa.role){case "axis":var Ga=bb(aa)?Pa:Ra;Ga.union(Cb(E,aa,R,ia));break;case "title":var Qb=aa;break;case "legend":fb.push(wb(E,aa));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":Pa.union(aa.bounds);Ra.union(aa.bounds);break;default:Aa.union(aa.bounds)}}if(fb.length){const nc=
{};fb.forEach($b=>{zb=$b.orient||"right";"none"!==zb&&(nc[zb]||(nc[zb]=[])).push($b)});for(const $b in nc)Ea=nc[$b],ua(E,Ea,gb(Ea,$b,X.legends,Pa,Ra,R,ia));fb.forEach($b=>{const Ob=$b.bounds;Ob.equals($b._bounds)||($b.bounds=$b._bounds,E.dirty($b),$b.bounds=Ob,E.dirty($b));if(!X.autosize||"fit"!==X.autosize.type&&"fit-x"!==X.autosize.type&&"fit-y"!==X.autosize.type)Aa.union(Ob);else switch($b.orient){case "left":case "right":Aa.add(Ob.x1,0).add(Ob.x2,0);break;case "top":case "bottom":Aa.add(0,Ob.y1).add(0,
Ob.y2)}})}Aa.union(Pa).union(Ra);Qb&&Aa.union(Ha(E,Qb,R,ia,Aa));I.clip&&Aa.set(0,0,I.width||0,I.height||0);na(E,I,Aa,X)}function na(E,I,X,Ea){Ea=Ea.autosize||{};const R=Ea.type;if(!(1>E._autosize)&&R){var ia=E._width,Aa=E._height,Pa=Math.max(0,I.width||0),Ra=Math.max(0,Math.ceil(-X.x1));I=Math.max(0,I.height||0);var fb=Math.max(0,Math.ceil(-X.y1)),zb=Math.max(0,Math.ceil(X.x2-Pa));X=Math.max(0,Math.ceil(X.y2-I));if("padding"===Ea.contains){const kb=E.padding();ia-=kb.left+kb.right;Aa-=kb.top+kb.bottom}"none"===
R?(fb=Ra=0,Pa=ia,I=Aa):"fit"===R?(Pa=Math.max(0,ia-Ra-zb),I=Math.max(0,Aa-fb-X)):"fit-x"===R?(Pa=Math.max(0,ia-Ra-zb),Aa=I+fb+X):"fit-y"===R?(ia=Pa+Ra+zb,I=Math.max(0,Aa-fb-X)):"pad"===R&&(ia=Pa+Ra+zb,Aa=I+fb+X);E._resizeView(ia,Aa,Pa,I,[Ra,fb],Ea.resize)}}$a.inherits(vb,l.Transform,{transform(E,I){const X=I.dataflow,Ea=E.mark,R=Ea.marktype,ia=ja.Marks[R],Aa=ia.bound;let Pa=Ea.bounds,Ra;if(ia.nested)Ea.items.length&&X.dirty(Ea.items[0]),Pa=Xb(Ea,Aa),Ea.items.forEach(fb=>{fb.bounds.clear().union(Pa)});
else if("group"===R||E.modified())switch(I.visit(I.MOD,fb=>X.dirty(fb)),Pa.clear(),Ea.items.forEach(fb=>Pa.union(Xb(fb,Aa))),Ea.role){case "axis":case "legend":case "title":I.reflow()}else Ra=I.changed(I.REM),I.visit(I.ADD,fb=>{Pa.union(Xb(fb,Aa))}),I.visit(I.MOD,fb=>{Ra=Ra||Pa.alignsWith(fb.bounds);X.dirty(fb);Pa.union(Xb(fb,Aa))}),Ra&&(Pa.clear(),Ea.items.forEach(fb=>Pa.union(fb.bounds)));ja.boundClip(Ea);return I.modifies("bounds")}});ec.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",
type:"string",required:!0}]};$a.inherits(ec,l.Transform,{transform(E,I){const X=Bb(I.dataflow),Ea=E.as;let R=X.value;I.visit(I.ADD,ia=>ia[Ea]=ia[Ea]||++R);X.set(this.value=R);return I}});$a.inherits(yb,l.Transform,{transform(E,I){let X=this.value;X||(X=I.dataflow.scenegraph().mark(E.markdef,ub(E),E.index),X.group.context=E.context,E.context.group||(E.context.group=X.group),X.source=this.source,X.clip=E.clip,X.interactive=E.interactive,this.value=X);const Ea="group"===X.marktype?ja.GroupItem:ja.Item;
I.visit(I.ADD,R=>Ea.call(R,X));if(E.modified("clip")||E.modified("interactive"))X.clip=E.clip,X.interactive=!!E.interactive,X.zdirty=!0,I.reflow();X.items=I.source;return I}});const n={parity:E=>E.filter((I,X)=>X%2?I.opacity=0:1),greedy:(E,I)=>{let X;return E.filter((Ea,R)=>R&&G(X.bounds,Ea.bounds,I)?Ea.opacity=0:(X=Ea,1))}},G=(E,I,X)=>X>Math.max(I.x1-E.x2,E.x1-I.x2,I.y1-E.y2,E.y1-I.y2),M=(E,I)=>{for(var X=1,Ea=E.length,R=E[0].bounds;X<Ea;++X)if(G(R,R=E[X].bounds,I))return!0},y=E=>{E=E.bounds;return 1<
E.width()&&1<E.height()},T=(E,I,X)=>{E=E.range();var Ea=new ja.Bounds;"top"===I||"bottom"===I?Ea.set(E[0],-Infinity,E[1],Infinity):Ea.set(-Infinity,E[0],Infinity,E[1]);Ea.expand(X||1);return R=>Ea.encloses(R.bounds)},D=E=>{E.forEach(I=>I.opacity=1);return E};$a.inherits(Lb,l.Transform,{transform(E,I){const X=n[E.method]||n.parity,Ea=E.separation||0;let R=I.materialize(I.SOURCE).source,ia,Aa;if(R&&R.length){if(!E.method)return E.modified("method")&&(D(R),I=I.reflow(E.modified()).modifies("opacity")),
I;R=R.filter(y);if(R.length){E.sort&&(R=R.slice().sort(E.sort));ia=D(R);I=I.reflow(E.modified()).modifies("opacity");if(3<=ia.length&&M(ia,Ea)){do ia=X(ia,Ea);while(3<=ia.length&&M(ia,Ea));3>ia.length&&!$a.peek(R).opacity&&(1<ia.length&&($a.peek(ia).opacity=0),$a.peek(R).opacity=1)}E.boundScale&&0<=E.boundTolerance&&(Aa=T(E.boundScale,E.boundOrient,+E.boundTolerance),R.forEach(Ra=>{Aa(Ra)||(Ra.opacity=0)}));var Pa=ia[0].mark.bounds.clear();R.forEach(Ra=>{Ra.opacity&&Pa.union(Ra.bounds)});return I}}}});
$a.inherits(Yb,l.Transform,{transform(E,I){const X=I.dataflow;I.visit(I.ALL,Ea=>X.dirty(Ea));I.fields&&I.fields.zindex&&(E=I.source&&I.source[0])&&(E.mark.zdirty=!0)}});const A=new ja.Bounds,P=(E,I)=>Math.floor(Math.min(E,I)),B=(E,I)=>Math.ceil(Math.max(E,I));$a.inherits(Y,l.Transform,{transform(E,I){const X=I.dataflow;E.mark.items.forEach(Ea=>{if(E.layout){var R=E.layout;var ia=Ea.items;for(var Aa=ia.length,Pa=0,Ra,fb,zb={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,
coltitle:null};Pa<Aa;++Pa)if(Ra=ia[Pa],fb=Ra.items,"group"===Ra.marktype)switch(Ra.role){case "axis":case "legend":case "title":break;case "row-header":zb.rowheaders.push(...fb);break;case "row-footer":zb.rowfooters.push(...fb);break;case "column-header":zb.colheaders.push(...fb);break;case "column-footer":zb.colfooters.push(...fb);break;case "row-title":zb.rowtitle=fb[0];break;case "column-title":zb.coltitle=fb[0];break;default:zb.marks.push(...fb)}ia=zb;fb=ia.marks;zb="flush"===R.bounds?ha:xa;Aa=
R.offset;var kb=R.columns||fb.length,Vb=0>=kb?1:Math.ceil(fb.length/kb),aa=Vb*kb;Pa=ua(X,fb,R);Pa.empty()&&Pa.set(0,0,0,0);if(ia.rowheaders){Ra=lb(R.headerBand,"row",null);var Ga=Ua(X,ia.rowheaders,fb,kb,Vb,-lb(Aa,"rowHeader"),P,0,zb,"x1",0,kb,1,Ra)}if(ia.colheaders){Ra=lb(R.headerBand,"column",null);var Qb=Ua(X,ia.colheaders,fb,kb,kb,-lb(Aa,"columnHeader"),P,1,zb,"y1",0,1,kb,Ra)}if(ia.rowfooters){Ra=lb(R.footerBand,"row",null);var nc=Ua(X,ia.rowfooters,fb,kb,Vb,lb(Aa,"rowFooter"),B,0,zb,"x2",kb-
1,kb,1,Ra)}if(ia.colfooters){Ra=lb(R.footerBand,"column",null);var $b=Ua(X,ia.colfooters,fb,kb,kb,lb(Aa,"columnFooter"),B,1,zb,"y2",aa-kb,1,kb,Ra)}ia.rowtitle&&(Ra=lb(R.titleAnchor,"row"),fb=lb(Aa,"rowTitle"),fb="end"===Ra?nc+fb:Ga-fb,Ra=lb(R.titleBand,"row",.5),Xa(X,ia.rowtitle,fb,0,Pa,Ra));ia.coltitle&&(Ra=lb(R.titleAnchor,"column"),fb=lb(Aa,"columnTitle"),fb="end"===Ra?$b+fb:Qb-fb,Ra=lb(R.titleBand,"column",.5),Xa(X,ia.coltitle,fb,1,Pa,Ra))}ma(X,Ea,E)});return Ca(E.mark.group)?I.reflow():I}});
u.bound=vb;u.identifier=ec;u.mark=yb;u.overlap=Lb;u.render=Yb;u.viewlayout=Y})};
shadow$provide[39]=function(Fb,pb,zc,Za){(function(u,l){"object"===typeof Za&&"undefined"!==typeof zc?l(Za,pb(32),pb(36),pb(24)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scale","vega-util"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega,u.vega,u.vega))})(this,function(u,l,ja,$a){function vb(V){l.Transform.call(this,null,V)}function Xb(V){l.Transform.call(this,null,V)}function ec(){return l.ingest({})}function Bb(V){const x=$a.fastmap().test(da=>
da.exit);x.lookup=da=>x.get(V(da));return x}function yb(V){l.Transform.call(this,null,V)}function ub(V){l.Transform.call(this,[],V)}function Lb(V){l.Transform.call(this,{},V)}function Yb(V,x,da){V=+V;x=+x;da=2>(Ia=arguments.length)?(x=V,V=0,1):3>Ia?1:+da;for(var ya=-1,Ia=Math.max(0,Math.ceil((x-V)/da))|0,Wa=Array(Ia);++ya<Ia;)Wa[ya]=V+ya*da;return Wa}function Ba(V,x){x=0;for(let da of V)if(da=+da)x+=da;return x}function bb(V){l.Transform.call(this,null,V)}function Cb(V,x,da){V.prototype=x.prototype=
da;da.constructor=V}function xb(V,x){V=Object.create(V.prototype);for(var da in x)V[da]=x[da];return V}function nb(){}function Db(){return this.rgb().formatHex()}function lb(){return this.rgb().formatRgb()}function lc(V){var x,da;V=(V+"").trim().toLowerCase();return(x=ra.exec(V))?(da=x[1].length,x=parseInt(x[1],16),6===da?ua(x):3===da?new Ua(x>>8&15|x>>4&240,x>>4&15|x&240,(x&15)<<4|x&15,1):8===da?ha(x>>24&255,x>>16&255,x>>8&255,(x&255)/255):4===da?ha(x>>12&15|x>>8&240,x>>8&15|x>>4&240,x>>4&15|x&240,
((x&15)<<4|x&15)/255):null):(x=Gb.exec(V))?new Ua(x[1],x[2],x[3],1):(x=Va.exec(V))?new Ua(255*x[1]/100,255*x[2]/100,255*x[3]/100,1):(x=Ab.exec(V))?ha(x[1],x[2],x[3],x[4]):(x=Jb.exec(V))?ha(255*x[1]/100,255*x[2]/100,255*x[3]/100,x[4]):(x=Eb.exec(V))?Ub(x[1],x[2]/100,x[3]/100,1):(x=Wb.exec(V))?Ub(x[1],x[2]/100,x[3]/100,x[4]):ic.hasOwnProperty(V)?ua(ic[V]):"transparent"===V?new Ua(NaN,NaN,NaN,0):null}function ua(V){return new Ua(V>>16&255,V>>8&255,V&255,1)}function ha(V,x,da,ya){0>=ya&&(V=x=da=NaN);
return new Ua(V,x,da,ya)}function xa(V,x,da,ya){if(1===arguments.length){var Ia=V;Ia instanceof nb||(Ia=lc(Ia));Ia?(Ia=Ia.rgb(),Ia=new Ua(Ia.r,Ia.g,Ia.b,Ia.opacity)):Ia=new Ua}else Ia=new Ua(V,x,da,null==ya?1:ya);return Ia}function Ua(V,x,da,ya){this.r=+V;this.g=+x;this.b=+da;this.opacity=+ya}function Xa(){return`#${wb(this.r)}${wb(this.g)}${wb(this.b)}`}function Ka(){const V=jb(this.opacity);return`${1===V?"rgb(":"rgba("}${gb(this.r)}, ${gb(this.g)}, ${gb(this.b)}${1===V?")":`, ${V})`}`}function jb(V){return isNaN(V)?
1:Math.max(0,Math.min(1,V))}function gb(V){return Math.max(0,Math.min(255,Math.round(V)||0))}function wb(V){V=gb(V);return(16>V?"0":"")+V.toString(16)}function Ub(V,x,da,ya){0>=ya?V=x=da=NaN:0>=da||1<=da?V=x=NaN:0>=x&&(V=NaN);return new U(V,x,da,ya)}function Na(V){if(V instanceof U)return new U(V.h,V.s,V.l,V.opacity);V instanceof nb||(V=lc(V));if(!V)return new U;if(V instanceof U)return V;V=V.rgb();var x=V.r/255,da=V.g/255,ya=V.b/255,Ia=Math.min(x,da,ya),Wa=Math.max(x,da,ya),qb=NaN,Sb=Wa-Ia,Hb=(Wa+
Ia)/2;Sb?(qb=x===Wa?(da-ya)/Sb+6*(da<ya):da===Wa?(ya-x)/Sb+2:(x-da)/Sb+4,Sb/=.5>Hb?Wa+Ia:2-Wa-Ia,qb*=60):Sb=0<Hb&&1>Hb?0:qb;return new U(qb,Sb,Hb,V.opacity)}function U(V,x,da,ya){this.h=+V;this.s=+x;this.l=+da;this.opacity=+ya}function ea(V){V=(V||0)%360;return 0>V?V+360:V}function Ha(V){return Math.max(0,Math.min(1,V||0))}function Y(V,x,da){return 255*(60>V?x+(da-x)*V/60:180>V?da:240>V?x+(da-x)*(240-V)/60:x)}function Ca(V,x){return function(da){return V+da*x}}function ma(V,x,da){return V=Math.pow(V,
da),x=Math.pow(x,da)-V,da=1/da,function(ya){return Math.pow(V+ya*x,da)}}function na(V){return 1===(V=+V)?n:function(x,da){return da-x?ma(x,da,V):wc(isNaN(x)?da:x)}}function n(V,x){var da=x-V;return da?Ca(V,da):wc(isNaN(V)?x:V)}function G(V,x){x||(x=[]);var da=V?Math.min(x.length,V.length):0,ya=x.slice(),Ia;return function(Wa){for(Ia=0;Ia<da;++Ia)ya[Ia]=V[Ia]*(1-Wa)+x[Ia]*Wa;return ya}}function M(V,x){var da=x?x.length:0,ya=V?Math.min(da,V.length):0,Ia=Array(ya),Wa=Array(da),qb;for(qb=0;qb<ya;++qb)Ia[qb]=
E(V[qb],x[qb]);for(;qb<da;++qb)Wa[qb]=x[qb];return function(Sb){for(qb=0;qb<ya;++qb)Wa[qb]=Ia[qb](Sb);return Wa}}function y(V,x){var da=new Date;return V=+V,x=+x,function(ya){return da.setTime(V*(1-ya)+x*ya),da}}function T(V,x){return V=+V,x=+x,function(da){return V*(1-da)+x*da}}function D(V,x){var da={},ya={},Ia;if(null===V||"object"!==typeof V)V={};if(null===x||"object"!==typeof x)x={};for(Ia in x)Ia in V?da[Ia]=E(V[Ia],x[Ia]):ya[Ia]=x[Ia];return function(Wa){for(Ia in da)ya[Ia]=da[Ia](Wa);return ya}}
function A(V){return function(){return V}}function P(V){return function(x){return V(x)+""}}function B(V,x){var da=Pc.lastIndex=oa.lastIndex=0,ya,Ia,Wa,qb=-1,Sb=[],Hb=[];V+="";for(x+="";(ya=Pc.exec(V))&&(Ia=oa.exec(x));)(Wa=Ia.index)>da&&(Wa=x.slice(da,Wa),Sb[qb]?Sb[qb]+=Wa:Sb[++qb]=Wa),(ya=ya[0])===(Ia=Ia[0])?Sb[qb]?Sb[qb]+=Ia:Sb[++qb]=Ia:(Sb[++qb]=null,Hb.push({i:qb,x:T(ya,Ia)})),da=oa.lastIndex;da<x.length&&(Wa=x.slice(da),Sb[qb]?Sb[qb]+=Wa:Sb[++qb]=Wa);return 2>Sb.length?Hb[0]?P(Hb[0].x):A(x):
(x=Hb.length,function(Pb){for(var uc=0,yc;uc<x;++uc)Sb[(yc=Hb[uc]).i]=yc.x(Pb);return Sb.join("")})}function E(V,x){var da=typeof x;if(null==x||"boolean"===da)V=wc(x);else{if("number"===da)var ya=T;else"string"===da?da=(ya=lc(x))?(x=ya,Zc):B:(x instanceof lc?ya=Zc:x instanceof Date?ya=y:(ya=x,ya=!ArrayBuffer.isView(ya)||ya instanceof DataView?Array.isArray(x)?M:"function"!==typeof x.valueOf&&"function"!==typeof x.toString||isNaN(x)?D:T:G),da=ya),ya=da;V=ya(V,x)}return V}function I(V,x){return V=+V,
x=+x,function(da){return Math.round(V*(1-da)+x*da)}}function X(V){return ja.isContinuous(V)&&V!==ja.Sequential}function Ea(V){l.Transform.call(this,null,V);this.modified(!0)}function R(V,x,da){ja.isLogarithmic(V)&&Math.abs(x.reduce((ya,Ia)=>ya+(0>Ia?-1:0<Ia?1:0),0))!==x.length&&da.warn("Log scale domain includes zero: "+$a.stringValue(x));return x}function ia(V,x,da){return $a.isFunction(V)&&(x||da)?ja.interpolateRange(V,Aa(x||[0,1],da)):V}function Aa(V,x){return x?V.slice().reverse():V}function Pa(V){l.Transform.call(this,
null,V)}function Ra(V){l.Transform.call(this,null,V)}function fb(V,x,da,ya,Ia){x=(x-V.sum)/2;for(var Wa=V.length,qb=0,Sb;qb<Wa;++qb)Sb=V[qb],Sb[ya]=x,Sb[Ia]=x+=Math.abs(da(Sb))}function zb(V,x,da,ya,Ia){x=1/V.sum;for(var Wa=0,qb=V.length,Sb=0,Hb=0,Pb;Sb<qb;++Sb)Pb=V[Sb],Pb[ya]=Wa,Pb[Ia]=Wa=x*(Hb+=Math.abs(da(Pb)))}function kb(V,x,da,ya,Ia){for(var Wa=x=0,qb=V.length,Sb=0,Hb,Pb;Sb<qb;++Sb)Pb=V[Sb],Hb=+da(Pb),0>Hb?(Pb[ya]=Wa,Pb[Ia]=Wa+=Hb):(Pb[ya]=x,Pb[Ia]=x+=Hb)}function Vb(V,x,da,ya){var Ia=[],Wa=
Kc=>Kc(Pb),qb;if(null==x)Ia.push(V.slice());else{var Sb={};var Hb=0;for(qb=V.length;Hb<qb;++Hb){var Pb=V[Hb];var uc=x.map(Wa);var yc=Sb[uc];yc||(Sb[uc]=yc=[],Ia.push(yc));yc.push(Pb)}}Wa=uc=0;for(V=Ia.length;uc<V;++uc){yc=Ia[uc];x=Hb=0;for(qb=yc.length;Hb<qb;++Hb)x+=Math.abs(ya(yc[Hb]));yc.sum=x;x>Wa&&(Wa=x);da&&yc.sort(da)}Ia.max=Wa;return Ia}$a.inherits(vb,l.Transform,{transform(V,x){if(this.value&&!V.modified())return x.StopPropagation;var da=x.dataflow.locale();x=x.fork(x.NO_SOURCE|x.NO_FIELDS);
var ya=this.value,Ia=V.scale,Wa=ja.tickCount(Ia,null==V.count?V.values?V.values.length:10:V.count,V.minstep),qb=V.format||ja.tickFormat(da,Ia,Wa,V.formatSpecifier,V.formatType,!!V.values),Sb=V.values?ja.validTicks(Ia,V.values,Wa):ja.tickValues(Ia,Wa);ya&&(x.rem=ya);ya=Sb.map((Hb,Pb)=>l.ingest({index:Pb/(Sb.length-1||1),value:Hb,label:qb(Hb)}));V.extra&&ya.length&&ya.push(l.ingest({index:-1,extra:{value:ya[0].value},label:""}));x.source=ya;this.value=x.add=ya;return x}});$a.inherits(Xb,l.Transform,
{transform(V,x){var da=x.dataflow,ya=x.fork(x.NO_SOURCE|x.NO_FIELDS),Ia=V.item||ec,Wa=V.key||l.tupleid,qb=this.value;$a.isArray(ya.encode)&&(ya.encode=null);qb&&(V.modified("key")||x.modified(Wa))&&$a.error("DataJoin does not support modified key function or fields.");qb||(x=x.addAll(),this.value=qb=Bb(Wa));x.visit(x.ADD,Sb=>{const Hb=Wa(Sb);let Pb=qb.get(Hb);Pb?Pb.exit?(qb.empty--,ya.add.push(Pb)):ya.mod.push(Pb):(Pb=Ia(Sb),qb.set(Hb,Pb),ya.add.push(Pb));Pb.datum=Sb;Pb.exit=!1});x.visit(x.MOD,Sb=>
{var Hb=Wa(Sb);if(Hb=qb.get(Hb))Hb.datum=Sb,ya.mod.push(Hb)});x.visit(x.REM,Sb=>{var Hb=Wa(Sb);Hb=qb.get(Hb);Sb!==Hb.datum||Hb.exit||(ya.rem.push(Hb),Hb.exit=!0,++qb.empty)});x.changed(x.ADD_MOD)&&ya.modifies("datum");(x.clean()||V.clean&&qb.empty>da.cleanThreshold)&&da.runAfter(qb.clean);return ya}});$a.inherits(yb,l.Transform,{transform(V,x){var da=x.fork(x.ADD_REM),ya=V.mod||!1,Ia=V.encoders,Wa=x.encode;if($a.isArray(Wa))if(da.changed()||Wa.every(yc=>Ia[yc]))Wa=Wa[0],da.encode=null;else return x.StopPropagation;
var qb="enter"===Wa,Sb=Ia.update||$a.falsy,Hb=Ia.enter||$a.falsy,Pb=Ia.exit||$a.falsy,uc=(Wa&&!qb?Ia[Wa]:Sb)||$a.falsy;x.changed(x.ADD)&&(x.visit(x.ADD,yc=>{Hb(yc,V);Sb(yc,V)}),da.modifies(Hb.output),da.modifies(Sb.output),uc!==$a.falsy&&uc!==Sb&&(x.visit(x.ADD,yc=>{uc(yc,V)}),da.modifies(uc.output)));x.changed(x.REM)&&Pb!==$a.falsy&&(x.visit(x.REM,yc=>{Pb(yc,V)}),da.modifies(Pb.output));if(qb||uc!==$a.falsy)Wa=x.MOD|(V.modified()?x.REFLOW:0),qb?(x.visit(Wa,yc=>{const Kc=Hb(yc,V)||ya;(uc(yc,V)||Kc)&&
da.mod.push(yc)}),da.mod.length&&da.modifies(Hb.output)):x.visit(Wa,yc=>{(uc(yc,V)||ya)&&da.mod.push(yc)}),da.mod.length&&da.modifies(uc.output);return da.changed()?da:x.StopPropagation}});$a.inherits(ub,l.Transform,{transform(V,x){if(null!=this.value&&!V.modified())return x.StopPropagation;var da=x.dataflow.locale(),ya=x.fork(x.NO_SOURCE|x.NO_FIELDS),Ia=this.value,Wa=V.type||ja.SymbolLegend,qb=V.scale,Sb=+V.limit,Hb=ja.tickCount(qb,null==V.count?5:V.count,V.minstep),Pb=!!V.values||Wa===ja.SymbolLegend,
uc=V.format||ja.labelFormat(da,qb,Hb,Wa,V.formatSpecifier,V.formatType,Pb),yc=V.values||ja.labelValues(qb,Hb),Kc;Ia&&(ya.rem=Ia);if(Wa===ja.SymbolLegend){if(Sb&&yc.length>Sb){x.dataflow.warn("Symbol legend count exceeds limit, filtering items.");Ia=yc.slice(0,Sb-1);var md=!0}else Ia=yc;if($a.isFunction(Kc=V.size)){V.values||0!==qb(Ia[0])||(Ia=Ia.slice(1));var fd=Ia.reduce((ld,nd)=>Math.max(ld,Kc(nd,V)),0)}else Kc=$a.constant(fd=Kc||8);Ia=Ia.map((ld,nd)=>l.ingest({index:nd,label:uc(ld,nd,Ia),value:ld,
offset:fd,size:Kc(ld,V)}));md&&(md=yc[Ia.length],Ia.push(l.ingest({index:Ia.length,label:`\u2026${yc.length-Ia.length} entries`,value:md,offset:fd,size:Kc(md,V)})))}else if(Wa===ja.GradientLegend){x=qb.domain();var Tc=ja.scaleFraction(qb,x[0],$a.peek(x));3>yc.length&&!V.values&&x[0]!==$a.peek(x)&&(yc=[x[0],$a.peek(x)]);Ia=yc.map((ld,nd)=>l.ingest({index:nd,label:uc(ld,nd,yc),value:ld,perc:Tc(ld)}))}else Kc=yc.length-1,Tc=ja.labelFraction(qb),Ia=yc.map((ld,nd)=>l.ingest({index:nd,label:uc(ld,nd,yc),
value:ld,perc:nd?Tc(ld):0,perc2:nd===Kc?1:Tc(yc[nd+1])}));ya.source=Ia;this.value=ya.add=Ia;return ya}});const aa=V=>V.source.x,Ga=V=>V.source.y,Qb=V=>V.target.x,nc=V=>V.target.y;Lb.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal",
"vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string","default":"path"}]};$a.inherits(Lb,l.Transform,{transform(V,x){var da=V.sourceX||aa,ya=V.sourceY||Ga,Ia=V.targetX||Qb,Wa=V.targetY||nc,qb=V.as||"path",Sb=V.shape||"line",Hb=rc.get(Sb+"-"+(V.orient||"vertical"))||rc.get(Sb);Hb||$a.error("LinkPath unsupported type: "+V.shape+(V.orient?"-"+V.orient:""));x.visit(x.SOURCE,Pb=>{Pb[qb]=
Hb(da(Pb),ya(Pb),Ia(Pb),Wa(Pb))});return x.reflow(V.modified()).modifies(qb)}});const $b=(V,x,da,ya)=>"M"+V+","+x+"L"+da+","+ya,Ob=(V,x,da,ya)=>{var Ia=da-V,Wa=ya-x,qb=Math.hypot(Ia,Wa)/2;return"M"+V+","+x+"A"+qb+","+qb+" "+180*Math.atan2(Wa,Ia)/Math.PI+" 0 1 "+da+","+ya},Nb=(V,x,da,ya)=>{var Ia=da-V;const Wa=ya-x,qb=.2*(Ia+Wa);Ia=.2*(Wa-Ia);return"M"+V+","+x+"C"+(V+qb)+","+(x+Ia)+" "+(da+Ia)+","+(ya-qb)+" "+da+","+ya},rc=$a.fastmap({line:$b,"line-radial":(V,x,da,ya)=>$b(x*Math.cos(V),x*Math.sin(V),
ya*Math.cos(da),ya*Math.sin(da)),arc:Ob,"arc-radial":(V,x,da,ya)=>Ob(x*Math.cos(V),x*Math.sin(V),ya*Math.cos(da),ya*Math.sin(da)),curve:Nb,"curve-radial":(V,x,da,ya)=>Nb(x*Math.cos(V),x*Math.sin(V),ya*Math.cos(da),ya*Math.sin(da)),"orthogonal-horizontal":(V,x,da,ya)=>"M"+V+","+x+"V"+ya+"H"+da,"orthogonal-vertical":(V,x,da,ya)=>"M"+V+","+x+"H"+da+"V"+ya,"orthogonal-radial":(V,x,da,ya)=>{const Ia=Math.cos(da),Wa=Math.sin(da);return"M"+x*Math.cos(V)+","+x*Math.sin(V)+"A"+x+","+x+" 0 0,"+((Math.abs(da-
V)>Math.PI?da<=V:da>V)?1:0)+" "+x*Ia+","+x*Wa+"L"+ya*Ia+","+ya*Wa},"diagonal-horizontal":(V,x,da,ya)=>{const Ia=(V+da)/2;return"M"+V+","+x+"C"+Ia+","+x+" "+Ia+","+ya+" "+da+","+ya},"diagonal-vertical":(V,x,da,ya)=>{const Ia=(x+ya)/2;return"M"+V+","+x+"C"+V+","+Ia+" "+da+","+Ia+" "+da+","+ya},"diagonal-radial":(V,x,da,ya)=>{const Ia=Math.cos(V);V=Math.sin(V);const Wa=Math.cos(da);da=Math.sin(da);const qb=(x+ya)/2;return"M"+x*Ia+","+x*V+"C"+qb*Ia+","+qb*V+" "+qb*Wa+","+qb*da+" "+ya*Wa+","+ya*da}});
bb.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};$a.inherits(bb,l.Transform,{transform(V,x){var da=V.as||["startAngle","endAngle"],ya=da[0],Ia=da[1],Wa=V.startAngle||0,qb=null!=V.endAngle?V.endAngle:2*Math.PI,Sb=x.source,Hb=Sb.map(V.field||
$a.one),Pb=Hb.length,uc=Wa;Wa=(qb-Wa)/Ba(Hb);qb=Yb(Pb);var yc;V.sort&&qb.sort((fd,Tc)=>Hb[fd]-Hb[Tc]);for(yc=0;yc<Pb;++yc){var Kc=Hb[qb[yc]];var md=Sb[qb[yc]];md[ya]=uc;md[Ia]=uc+=Kc*Wa}this.value=Hb;return x.reflow(V.modified()).modifies(da)}});var Sc=1/.7,ra=/^#([0-9a-f]{3,8})$/,Gb=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),Va=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
Ab=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Jb=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Eb=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
Wb=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),ic={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,
cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,
dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,
lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,
mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,
seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Cb(nb,lc,{copy(V){return Object.assign(new this.constructor,this,V)},displayable(){return this.rgb().displayable()},hex:Db,formatHex:Db,
formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Na(this).formatHsl()},formatRgb:lb,toString:lb});Cb(Ua,xa,xb(nb,{brighter(V){V=null==V?Sc:Math.pow(Sc,V);return new Ua(this.r*V,this.g*V,this.b*V,this.opacity)},darker(V){V=null==V?.7:Math.pow(.7,V);return new Ua(this.r*V,this.g*V,this.b*V,this.opacity)},rgb(){return this},clamp(){return new Ua(gb(this.r),gb(this.g),gb(this.b),jb(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&
-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Xa,formatHex:Xa,formatHex8:function(){return`#${wb(this.r)}${wb(this.g)}${wb(this.b)}${wb(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ka,toString:Ka}));Cb(U,function(V,x,da,ya){return 1===arguments.length?Na(V):new U(V,x,da,null==ya?1:ya)},xb(nb,{brighter(V){V=null==V?Sc:Math.pow(Sc,V);return new U(this.h,this.s,this.l*V,this.opacity)},darker(V){V=null==V?.7:Math.pow(.7,V);return new U(this.h,this.s,this.l*V,this.opacity)},
rgb(){var V=this.h%360+360*(0>this.h),x=isNaN(V)||isNaN(this.s)?0:this.s,da=this.l;x=da+(.5>da?da:1-da)*x;da=2*da-x;return new Ua(Y(240<=V?V-240:V+120,da,x),Y(V,da,x),Y(120>V?V+240:V-120,da,x),this.opacity)},clamp(){return new U(ea(this.h),Ha(this.s),Ha(this.l),jb(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const V=jb(this.opacity);return`${1===V?"hsl(":"hsla("}${ea(this.h)}, ${100*Ha(this.s)}%, ${100*
Ha(this.l)}%${1===V?")":`, ${V})`}`}}));var wc=V=>()=>V,Zc=function da(x){function ya(Wa,qb){var Sb=Ia((Wa=xa(Wa)).r,(qb=xa(qb)).r),Hb=Ia(Wa.g,qb.g),Pb=Ia(Wa.b,qb.b),uc=n(Wa.opacity,qb.opacity);return function(yc){Wa.r=Sb(yc);Wa.g=Hb(yc);Wa.b=Pb(yc);Wa.opacity=uc(yc);return Wa+""}}var Ia=na(x);ya.gamma=da;return ya}(1),Pc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oa=new RegExp(Pc.source,"g");const Ma=$a.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));
$a.inherits(Ea,l.Transform,{transform(x,da){var ya=da.dataflow,Ia=this.value;var Wa=x.type;var qb="";if(Wa===ja.Sequential)Wa=ja.Sequential+"-"+ja.Linear;else{var Sb=x.type;ja.isContinuous(Sb)&&Sb!==ja.Time&&Sb!==ja.UTC&&(x.scheme||x.range&&x.range.length&&x.range.every($a.isString))&&(qb=x.rawDomain?x.rawDomain.length:x.domain?x.domain.length+ +(null!=x.domainMid):0,qb=2===qb?ja.Sequential+"-":3===qb?ja.Diverging+"-":"");Wa=(qb+Wa||ja.Linear).toLowerCase()}Ia&&Wa===Ia.type||(this.value=Ia=ja.scale(Wa)());
for(Wa in x)Ma[Wa]||"padding"===Wa&&X(Ia.type)||($a.isFunction(Ia[Wa])?Ia[Wa](x[Wa]):ya.warn("Unsupported scale property: "+Wa));qb=Wa=Ia;(Sb=x.domainRaw)?(Ia.domain(R(Ia.type,Sb,ya)),Sb=Sb.length):Sb=-1;if(-1<Sb)ya=Sb;else{var Hb=x.domain;Sb=Ia.type;var Pb;!(Pb=x.zero)&&(Pb=void 0===x.zero)&&(Pb=Ia.type,Pb=!Ia.bins&&(Pb===ja.Linear||Pb===ja.Pow||Pb===ja.Sqrt));var uc=Pb;if(Hb){if(uc||null!=x.domainMin||null!=x.domainMax||null!=x.domainMid)if(Pb=(Hb=Hb.slice()).length-1||1,uc&&(0<Hb[0]&&(Hb[0]=0),
0>Hb[Pb]&&(Hb[Pb]=0)),null!=x.domainMin&&(Hb[0]=x.domainMin),null!=x.domainMax&&(Hb[Pb]=x.domainMax),null!=x.domainMid){uc=x.domainMid;var yc=uc>Hb[Pb]?Pb+1:uc<Hb[0]?0:Pb;yc!==Pb&&ya.warn("Scale domainMid exceeds domain min or max.",uc);Hb.splice(yc,0,uc)}if(X(Sb)&&x.padding&&Hb[0]!==$a.peek(Hb)){var Kc=x.range;yc=x.padding;Pb=x.exponent;uc=x.constant;Kc=Math.abs($a.peek(Kc)-Kc[0]);yc=Kc/(Kc-2*yc);Pb=Sb===ja.Log?$a.zoomLog(Hb,null,yc):Sb===ja.Sqrt?$a.zoomPow(Hb,null,yc,.5):Sb===ja.Pow?$a.zoomPow(Hb,
null,yc,Pb||1):Sb===ja.Symlog?$a.zoomSymlog(Hb,null,yc,uc||1):$a.zoomLinear(Hb,null,yc);Hb=Hb.slice();Hb[0]=Pb[0];Hb[Hb.length-1]=Pb[1]}Ia.domain(R(Sb,Hb,ya));Sb===ja.Ordinal&&Ia.unknown(x.domainImplicit?ja.scaleImplicit:void 0);x.nice&&Ia.nice&&Ia.nice(!0!==x.nice&&ja.tickCount(Ia,x.nice)||null);ya=Hb.length}else ya=0}(Sb=x.bins)&&!$a.isArray(Sb)&&(Hb=qb.domain(),Ia=Hb[0],Hb=$a.peek(Hb),Pb=Sb.step,uc=null==Sb.start?Ia:Sb.start,Sb=null==Sb.stop?Hb:Sb.stop,Pb||$a.error("Scale bins parameter missing step property."),
uc<Ia&&(uc=Pb*Math.ceil(Ia/Pb)),Sb>Hb&&(Sb=Pb*Math.floor(Hb/Pb)),Sb=Yb(uc,Sb+Pb/2,Pb));Sb?qb.bins=Sb:qb.bins&&delete qb.bins;qb.type===ja.BinOrdinal&&(Sb?x.domain||x.domainRaw||(qb.domain(Sb),ya=Sb.length):qb.bins=qb.domain());Ia=ya;a:{qb=Wa.type;ya=x.round||!1;Sb=x.range;if(null!=x.rangeStep)qb!==ja.Band&&qb!==ja.Point&&$a.error("Only band and point scales support rangeStep."),Sb=[0,x.rangeStep*ja.bandSpace(Ia,qb===ja.Point?1:(null!=x.paddingInner?x.paddingInner:x.padding)||0,(null!=x.paddingOuter?
x.paddingOuter:x.padding)||0)];else if(x.scheme&&(Sb=x.schemeExtent,$a.isArray(x.scheme)?Hb=ja.interpolateColors(x.scheme,x.interpolate,x.interpolateGamma):(Hb=x.scheme.toLowerCase(),(Hb=ja.scheme(Hb))||$a.error(`Unrecognized scheme name: ${x.scheme}`)),Ia=qb===ja.Threshold?Ia+1:qb===ja.BinOrdinal?Ia-1:qb===ja.Quantile||qb===ja.Quantize?+x.schemeCount||5:Ia,Sb=ja.isInterpolating(qb)?ia(Hb,Sb,x.reverse):$a.isFunction(Hb)?ja.quantizeInterpolator(ia(Hb,Sb),Ia):qb===ja.Ordinal?Hb:Hb.slice(0,Ia),$a.isFunction(Sb)))if(Wa.interpolator){Wa.interpolator(Sb);
break a}else $a.error(`Scale type ${qb} does not support interpolating color schemes.`);Sb&&ja.isInterpolating(qb)?Wa.interpolator(ja.interpolateColors(Aa(Sb,x.reverse),x.interpolate,x.interpolateGamma)):(Sb&&x.interpolate&&Wa.interpolate?Wa.interpolate(ja.interpolate(x.interpolate,x.interpolateGamma)):$a.isFunction(Wa.round)?Wa.round(ya):$a.isFunction(Wa.rangeRound)&&Wa.interpolate(ya?I:E),Sb&&Wa.range(Aa(Sb,x.reverse)))}return da.fork(da.NO_SOURCE|da.NO_FIELDS)}});$a.inherits(Pa,l.Transform,{transform(x,
da){const ya=x.modified("sort")||da.changed(da.ADD)||da.modified(x.sort.fields)||da.modified("datum");ya&&da.source.sort(l.stableCompare(x.sort));this.modified(ya);return da}});const ib=["y0","y1"];Ra.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":ib}]};$a.inherits(Ra,
l.Transform,{transform(x,da){var ya=x.as||ib,Ia=ya[0],Wa=ya[1],qb=l.stableCompare(x.sort),Sb=x.field||$a.one,Hb="center"===x.offset?fb:"normalize"===x.offset?zb:kb,Pb;qb=Vb(da.source,x.groupby,qb,Sb);var uc=0;var yc=qb.length;for(Pb=qb.max;uc<yc;++uc)Hb(qb[uc],Pb,Sb,Ia,Wa);return da.reflow(x.modified()).modifies(ya)}});u.axisticks=vb;u.datajoin=Xb;u.encode=yb;u.legendentries=ub;u.linkpath=Lb;u.pie=bb;u.scale=Ea;u.sortitems=Pa;u.stack=Ra})};
shadow$provide[40]=function(Fb,pb,zc,Za){(function(u,l){"object"===typeof Za&&"undefined"!==typeof zc?l(Za,pb(36)):"function"===typeof define&&define.amd?define(["exports","vega-scale"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega))})(this,function(u,l){function*ja(qa){for(const m of qa)yield*m}function $a(qa){return 1<qa?0:-1>qa?Pb:Math.acos(qa)}function vb(qa){return 1<qa?uc:-1>qa?-uc:Math.asin(qa)}function Xb(){}function ec(qa,m){if(qa&&wa.hasOwnProperty(qa.type))wa[qa.type](qa,
m)}function Bb(qa,m,r){var K=-1;r=qa.length-r;for(m.lineStart();++K<r;){var ka=qa[K];m.point(ka[0],ka[1],ka[2])}m.lineEnd()}function yb(qa,m){var r=-1,K=qa.length;for(m.polygonStart();++r<K;)Bb(qa[r],m,1);m.polygonEnd()}function ub(qa,m){if(qa&&ca.hasOwnProperty(qa.type))ca[qa.type](qa,m);else ec(qa,m)}function Lb(qa){return[nd(qa[1],qa[0]),vb(qa[2])]}function Yb(qa){var m=qa[0];qa=qa[1];var r=dd(qa);return[r*dd(m),r*J(m),J(qa)]}function Ba(qa,m){return qa[0]*m[0]+qa[1]*m[1]+qa[2]*m[2]}function bb(qa,
m){return[qa[1]*m[2]-qa[2]*m[1],qa[2]*m[0]-qa[0]*m[2],qa[0]*m[1]-qa[1]*m[0]]}function Cb(qa,m){qa[0]+=m[0];qa[1]+=m[1];qa[2]+=m[2]}function xb(qa,m){return[qa[0]*m,qa[1]*m,qa[2]*m]}function nb(qa){var m=w(qa[0]*qa[0]+qa[1]*qa[1]+qa[2]*qa[2]);qa[0]/=m;qa[1]/=m;qa[2]/=m}function Db(qa,m){function r(K,ka){return K=qa(K,ka),m(K[0],K[1])}qa.invert&&m.invert&&(r.invert=function(K,ka){return K=m.invert(K,ka),K&&qa.invert(K[0],K[1])});return r}function lb(qa,m){Tc(qa)>Pb&&(qa-=Math.round(qa/Kc)*Kc);return[qa,
m]}function lc(qa,m,r){return(qa%=Kc)?m||r?Db(ha(qa),xa(m,r)):ha(qa):m||r?xa(m,r):lb}function ua(qa){return function(m,r){m+=qa;Tc(m)>Pb&&(m-=Math.round(m/Kc)*Kc);return[m,r]}}function ha(qa){var m=ua(qa);m.invert=ua(-qa);return m}function xa(qa,m){function r(Oa,tb){var rb=dd(tb),oc=dd(Oa)*rb;Oa=J(Oa)*rb;tb=J(tb);rb=tb*K+oc*ka;return[nd(Oa*Fa-rb*Sa,oc*K-tb*ka),vb(rb*Fa+Oa*Sa)]}var K=dd(qa),ka=J(qa),Fa=dd(m),Sa=J(m);r.invert=function(Oa,tb){var rb=dd(tb),oc=dd(Oa)*rb;Oa=J(Oa)*rb;tb=J(tb);rb=tb*Fa-
Oa*Sa;return[nd(Oa*Fa+tb*Sa,oc*K+rb*ka),vb(rb*K-oc*ka)]};return r}function Ua(qa){function m(r){r=qa(r[0]*fd,r[1]*fd);return r[0]*=md,r[1]*=md,r}qa=lc(qa[0]*fd,qa[1]*fd,2<qa.length?qa[2]*fd:0);m.invert=function(r){r=qa.invert(r[0]*fd,r[1]*fd);return r[0]*=md,r[1]*=md,r};return m}function Xa(qa,m){m=Yb(m);m[0]-=qa;nb(m);qa=$a(-m[1]);return((0>-m[2]?-qa:qa)+Kc-1E-6)%Kc}function Ka(){var qa=[],m;return{point:function(r,K,ka){m.push([r,K,ka])},lineStart:function(){qa.push(m=[])},lineEnd:Xb,rejoin:function(){1<
qa.length&&qa.push(qa.pop().concat(qa.shift()))},result:function(){var r=qa;qa=[];m=null;return r}}}function jb(qa,m){return 1E-6>Tc(qa[0]-m[0])&&1E-6>Tc(qa[1]-m[1])}function gb(qa,m,r,K){this.x=qa;this.z=m;this.o=r;this.e=K;this.v=!1;this.n=this.p=null}function wb(qa,m,r,K,ka){var Fa=[],Sa=[];qa.forEach(function(kc){if(!(0>=(sc=kc.length-1))){var sc,tc=kc[0],Lc=kc[sc];if(jb(tc,Lc)){if(!tc[2]&&!Lc[2]){ka.lineStart();for(Oa=0;Oa<sc;++Oa)ka.point((tc=kc[Oa])[0],tc[1]);ka.lineEnd();return}Lc[0]+=2E-6}Fa.push(sc=
new gb(tc,kc,null,!0));Sa.push(sc.o=new gb(tc,null,sc,!1));Fa.push(sc=new gb(Lc,kc,null,!1));Sa.push(sc.o=new gb(Lc,null,sc,!0))}});if(Fa.length){Sa.sort(m);Ub(Fa);Ub(Sa);var Oa=0;for(qa=Sa.length;Oa<qa;++Oa)Sa[Oa].e=r=!r;r=Fa[0];for(var tb;;){for(var rb=r,oc=!0;rb.v;)if((rb=rb.n)===r)return;m=rb.z;ka.lineStart();do{rb.v=rb.o.v=!0;if(rb.e){if(oc)for(Oa=0,qa=m.length;Oa<qa;++Oa)ka.point((tb=m[Oa])[0],tb[1]);else K(rb.x,rb.n.x,1,ka);rb=rb.n}else{if(oc)for(m=rb.p.z,Oa=m.length-1;0<=Oa;--Oa)ka.point((tb=
m[Oa])[0],tb[1]);else K(rb.x,rb.p.x,-1,ka);rb=rb.p}rb=rb.o;m=rb.z;oc=!oc}while(!rb.v);ka.lineEnd()}}}function Ub(qa){if(m=qa.length){for(var m,r=0,K=qa[0],ka;++r<m;)K.n=ka=qa[r],ka.p=K,K=ka;K.n=ka=qa[0];ka.p=K}}function Na(qa){return Tc(qa[0])<=Pb?qa[0]:va(qa[0])*((Tc(qa[0])+Pb)%Kc-Pb)}function U(qa,m,r,K){return function(ka){function Fa(mc,vd){qa(mc,vd)&&ka.point(mc,vd)}function Sa(mc,vd){sc.point(mc,vd)}function Oa(){Nd.point=Sa;sc.lineStart()}function tb(){Nd.point=Fa;sc.lineEnd()}function rb(mc,
vd){xd.push([mc,vd]);Lc.point(mc,vd)}function oc(){Lc.lineStart();xd=[]}function kc(){rb(xd[0][0],xd[0][1]);Lc.lineEnd();var mc=Lc.clean(),vd=tc.result(),se=vd.length,fe;xd.pop();Bd.push(xd);xd=null;if(se)if(mc&1){if(se=vd[0],0<(vd=se.length-1)){Wc||(ka.polygonStart(),Wc=!0);ka.lineStart();for(mc=0;mc<vd;++mc)ka.point((fe=se[mc])[0],fe[1]);ka.lineEnd()}}else 1<se&&mc&2&&vd.push(vd.pop().concat(vd.shift())),qd.push(vd.filter(ea))}var sc=m(ka),tc=Ka(),Lc=m(tc),Wc=!1,Bd,qd,xd,Nd={point:Fa,lineStart:Oa,
lineEnd:tb,polygonStart:function(){Nd.point=rb;Nd.lineStart=oc;Nd.lineEnd=kc;qd=[];Bd=[]},polygonEnd:function(){Nd.point=Fa;Nd.lineStart=Oa;Nd.lineEnd=tb;qd=Array.from(ja(qd));var mc=Bd;var vd=Na(K),se=K[1],fe=J(se),Vd=[J(vd),-dd(vd),0],Cd=0,Od=0,ke=new Hb;1===fe?se=uc+1E-6:-1===fe&&(se=-uc-1E-6);fe=0;for(var Ge=mc.length;fe<Ge;++fe)if($e=(ce=mc[fe]).length){var ce,$e,ad=ce[$e-1],le=Na(ad),mf=ad[1]/2+yc,tf=J(mf),Eg=dd(mf);for(mf=0;mf<$e;++mf,le=Qf,tf=lg,Eg=lf,ad=yf){var yf=ce[mf],Qf=Na(yf);lf=yf[1]/
2+yc;var lg=J(lf),lf=dd(lf),Ke=Qf-le,Wf=0<=Ke?1:-1,Ng=Wf*Ke,Kf=Ng>Pb;tf*=lg;ke.add(nd(tf*Wf*J(Ng),Eg*lf+tf*dd(Ng)));Cd+=Kf?Ke+Wf*Kc:Ke;Kf^le>=vd^Qf>=vd&&(ad=bb(Yb(ad),Yb(yf)),nb(ad),le=bb(Vd,ad),nb(le),le=(Kf^0<=Ke?-1:1)*vb(le[2]),se>le||se===le&&(ad[0]||ad[1]))&&(Od+=Kf^0<=Ke?1:-1)}}mc=(-1E-6>Cd||1E-6>Cd&&-1E-12>ke)^Od&1;qd.length?(Wc||(ka.polygonStart(),Wc=!0),wb(qd,Ha,mc,r,ka)):mc&&(Wc||(ka.polygonStart(),Wc=!0),ka.lineStart(),r(null,null,1,ka),ka.lineEnd());Wc&&(ka.polygonEnd(),Wc=!1);qd=Bd=null},
sphere:function(){ka.polygonStart();ka.lineStart();r(null,null,1,ka);ka.lineEnd();ka.polygonEnd()}};return Nd}}function ea(qa){return 1<qa.length}function Ha(qa,m){return(0>(qa=qa.x)[0]?qa[1]-uc-1E-6:uc-qa[1])-(0>(m=m.x)[0]?m[1]-uc-1E-6:uc-m[1])}function Y(qa){function m(tb,rb){return dd(tb)*dd(rb)>ka}function r(tb,rb,oc){var kc=Yb(tb),sc=Yb(rb),tc=[1,0,0];sc=bb(kc,sc);var Lc=Ba(sc,sc);kc=sc[0];var Wc=Lc-kc*kc;if(!Wc)return!oc&&tb;Lc=ka*Lc/Wc;Wc=-ka*kc/Wc;kc=bb(tc,sc);tc=xb(tc,Lc);sc=xb(sc,Wc);Cb(tc,
sc);sc=Ba(tc,kc);Lc=Ba(kc,kc);Wc=sc*sc-Lc*(Ba(tc,tc)-1);if(!(0>Wc)){var Bd=w(Wc);Wc=xb(kc,(-sc-Bd)/Lc);Cb(Wc,tc);Wc=Lb(Wc);if(!oc)return Wc;oc=tb[0];var qd=rb[0];tb=tb[1];rb=rb[1];if(qd<oc){var xd=oc;oc=qd;qd=xd}var Nd=qd-oc,mc=1E-6>Tc(Nd-Pb);!mc&&rb<tb&&(xd=tb,tb=rb,rb=xd);if(mc||1E-6>Nd?mc?0<tb+rb^Wc[1]<(1E-6>Tc(Wc[0]-oc)?tb:rb):tb<=Wc[1]&&Wc[1]<=rb:Nd>Pb^(oc<=Wc[0]&&Wc[0]<=qd))return rb=xb(kc,(-sc+Bd)/Lc),Cb(rb,tc),[Wc,Lb(rb)]}}function K(tb,rb){var oc=Sa?qa:Pb-qa,kc=0;tb<-oc?kc|=1:tb>oc&&(kc|=
2);rb<-oc?kc|=4:rb>oc&&(kc|=8);return kc}var ka=dd(qa),Fa=6*fd,Sa=0<ka,Oa=1E-6<Tc(ka);return U(m,function(tb){var rb,oc,kc,sc,tc;return{lineStart:function(){sc=kc=!1;tc=1},point:function(Lc,Wc){var Bd=[Lc,Wc],qd=m(Lc,Wc);Wc=Sa?qd?0:K(Lc,Wc):qd?K(Lc+(0>Lc?Pb:-Pb),Wc):0;!rb&&(sc=kc=qd)&&tb.lineStart();qd!==kc&&(Lc=r(rb,Bd),!Lc||jb(rb,Lc)||jb(Bd,Lc))&&(Bd[2]=1);if(qd!==kc)tc=0,qd?(tb.lineStart(),Lc=r(Bd,rb),tb.point(Lc[0],Lc[1])):(Lc=r(rb,Bd),tb.point(Lc[0],Lc[1],2),tb.lineEnd()),rb=Lc;else if(Oa&&rb&&
Sa^qd){var xd;Wc&oc||!(xd=r(Bd,rb,!0))||(tc=0,Sa?(tb.lineStart(),tb.point(xd[0][0],xd[0][1]),tb.point(xd[1][0],xd[1][1]),tb.lineEnd()):(tb.point(xd[1][0],xd[1][1]),tb.lineEnd(),tb.lineStart(),tb.point(xd[0][0],xd[0][1],3)))}!qd||rb&&jb(rb,Bd)||tb.point(Bd[0],Bd[1]);rb=Bd;kc=qd;oc=Wc},lineEnd:function(){kc&&tb.lineEnd();rb=null},clean:function(){return tc|(sc&&kc)<<1}}},function(tb,rb,oc,kc){var sc=tb;if(Fa){tb=dd(qa);var tc=J(qa),Lc=oc*Fa;if(null==sc)sc=qa+oc*Kc,rb=qa-Lc/2;else if(sc=Xa(tb,sc),rb=
Xa(tb,rb),0<oc?sc<rb:sc>rb)sc+=oc*Kc;for(var Wc=sc;0<oc?Wc>rb:Wc<rb;Wc-=Lc)sc=Lb([tb,-tc*dd(Wc),-tc*J(Wc)]),kc.point(sc[0],sc[1])}},Sa?[0,-qa]:[-Pb,qa-Pb])}function Ca(qa,m,r,K,ka,Fa){var Sa=qa[0],Oa=qa[1],tb=0,rb=1,oc=m[0]-Sa,kc=m[1]-Oa;r-=Sa;if(oc||!(0<r)){r/=oc;if(0>oc){if(r<tb)return;r<rb&&(rb=r)}else if(0<oc){if(r>rb)return;r>tb&&(tb=r)}r=ka-Sa;if(oc||!(0>r)){r/=oc;if(0>oc){if(r>rb)return;r>tb&&(tb=r)}else if(0<oc){if(r<tb)return;r<rb&&(rb=r)}r=K-Oa;if(kc||!(0<r)){r/=kc;if(0>kc){if(r<tb)return;
r<rb&&(rb=r)}else if(0<kc){if(r>rb)return;r>tb&&(tb=r)}r=Fa-Oa;if(kc||!(0>r)){r/=kc;if(0>kc){if(r>rb)return;r>tb&&(tb=r)}else if(0<kc){if(r<tb)return;r<rb&&(rb=r)}0<tb&&(qa[0]=Sa+tb*oc,qa[1]=Oa+tb*kc);1>rb&&(m[0]=Sa+rb*oc,m[1]=Oa+rb*kc);return!0}}}}}function ma(qa,m,r,K){function ka(tb,rb,oc,kc){var sc=0,tc=0;if(null==tb||(sc=Fa(tb,oc))!==(tc=Fa(rb,oc))||0>Oa(tb,rb)^0<oc){do kc.point(0===sc||3===sc?qa:r,1<sc?K:m);while((sc=(sc+oc+4)%4)!==tc)}else kc.point(rb[0],rb[1])}function Fa(tb,rb){return 1E-6>
Tc(tb[0]-qa)?0<rb?0:3:1E-6>Tc(tb[0]-r)?0<rb?2:1:1E-6>Tc(tb[1]-m)?0<rb?1:0:0<rb?3:2}function Sa(tb,rb){return Oa(tb.x,rb.x)}function Oa(tb,rb){var oc=Fa(tb,1),kc=Fa(rb,1);return oc!==kc?oc-kc:0===oc?rb[1]-tb[1]:1===oc?tb[0]-rb[0]:2===oc?tb[1]-rb[1]:rb[0]-tb[0]}return function(tb){function rb(Cd,Od){qa<=Cd&&Cd<=r&&m<=Od&&Od<=K&&kc.point(Cd,Od)}function oc(Cd,Od){var ke=qa<=Cd&&Cd<=r&&m<=Od&&Od<=K;Lc&&Wc.push([Cd,Od]);if(se)Bd=Cd,qd=Od,xd=ke,se=!1,ke&&(kc.lineStart(),kc.point(Cd,Od));else if(ke&&vd)kc.point(Cd,
Od);else{var Ge=[Nd=Math.max(-1E9,Math.min(1E9,Nd)),mc=Math.max(-1E9,Math.min(1E9,mc))],ce=[Cd=Math.max(-1E9,Math.min(1E9,Cd)),Od=Math.max(-1E9,Math.min(1E9,Od))];Ca(Ge,ce,qa,m,r,K)?(vd||(kc.lineStart(),kc.point(Ge[0],Ge[1])),kc.point(ce[0],ce[1]),ke||kc.lineEnd(),fe=!1):ke&&(kc.lineStart(),kc.point(Cd,Od),fe=!1)}Nd=Cd;mc=Od;vd=ke}var kc=tb,sc=Ka(),tc,Lc,Wc,Bd,qd,xd,Nd,mc,vd,se,fe,Vd={point:rb,lineStart:function(){Vd.point=oc;Lc&&Lc.push(Wc=[]);se=!0;vd=!1;Nd=mc=NaN},lineEnd:function(){tc&&(oc(Bd,
qd),xd&&vd&&sc.rejoin(),tc.push(sc.result()));Vd.point=rb;vd&&kc.lineEnd()},polygonStart:function(){kc=sc;tc=[];Lc=[];fe=!0},polygonEnd:function(){for(var Cd,Od=Cd=0,ke=Lc.length;Od<ke;++Od){var Ge=Lc[Od],ce=1,$e=Ge.length,ad=Ge[0],le=ad[0];for(ad=ad[1];ce<$e;++ce){var mf=le;var tf=ad;ad=Ge[ce];le=ad[0];ad=ad[1];tf<=K?ad>K&&(le-mf)*(K-tf)>(ad-tf)*(qa-mf)&&++Cd:ad<=K&&(le-mf)*(K-tf)<(ad-tf)*(qa-mf)&&--Cd}}Od=fe&&Cd;ke=(tc=Array.from(ja(tc))).length;if(Od||ke)tb.polygonStart(),Od&&(tb.lineStart(),ka(null,
null,1,tb),tb.lineEnd()),ke&&wb(tc,Sa,Cd,ka,tb),tb.polygonEnd();kc=tb;tc=Lc=Wc=null}};return Vd}}function na(){od.point=n}function n(qa,m){od.point=G;jc=Oc=qa;Cc=Rc=m}function G(qa,m){Zb.add(Rc*qa-Oc*m);Oc=qa;Rc=m}function M(){G(jc,Cc)}function y(qa,m){Te+=qa;We+=m;++Le}function T(){ze.point=D}function D(qa,m){ze.point=A;y(rf=qa,Ne=m)}function A(qa,m){var r=qa-rf,K=m-Ne;r=w(r*r+K*K);Ve+=r*(rf+qa)/2;Ie+=r*(Ne+m)/2;He+=r;y(rf=qa,Ne=m)}function P(){ze.point=y}function B(){ze.point=I}function E(){X(Fd,
Uf)}function I(qa,m){ze.point=X;y(Fd=rf=qa,Uf=Ne=m)}function X(qa,m){var r=qa-rf,K=m-Ne;r=w(r*r+K*K);Ve+=r*(rf+qa)/2;Ie+=r*(Ne+m)/2;He+=r;r=Ne*qa-rf*m;ie+=r*(rf+qa);ne+=r*(Ne+m);Ee+=3*r;y(rf=qa,Ne=m)}function Ea(qa){this._context=qa}function R(qa,m){fc.point=ia;dg=Da=qa;gf=cb=m}function ia(qa,m){Da-=qa;cb-=m;Oe.add(w(Da*Da+cb*cb));Da=qa;cb=m}function Aa(qa){let m=1;this._+=qa[0];for(const r=qa.length;m<r;++m)this._+=arguments[m]+qa[m]}function Pa(qa){const m=Math.floor(qa);if(!(0<=m))throw new RangeError(`invalid digits: ${qa}`);
if(15<m)return Aa;if(m!==hd){const r=Math.pow(10,m);hd=m;id=function(K){let ka=1;this._+=K[0];for(const Fa=K.length;ka<Fa;++ka)this._+=Math.round(arguments[ka]*r)/r+K[ka]}}return id}function Ra(qa,m){function r(Oa){Oa&&("function"===typeof ka&&Sa.pointRadius(+ka.apply(this,arguments)),ub(Oa,Fa(Sa)));return Sa.result()}let K=3,ka=4.5,Fa,Sa;r.area=function(Oa){ub(Oa,Fa(od));return od.result()};r.measure=function(Oa){ub(Oa,Fa(fc));return fc.result()};r.bounds=function(Oa){ub(Oa,Fa($d));return $d.result()};
r.centroid=function(Oa){ub(Oa,Fa(ze));return ze.result()};r.projection=function(Oa){if(!arguments.length)return qa;Fa=null==Oa?(qa=null,Ya):(qa=Oa).stream;return r};r.context=function(Oa){if(!arguments.length)return m;Sa=null==Oa?(m=null,new Td(K)):new Ea(m=Oa);"function"!==typeof ka&&Sa.pointRadius(ka);return r};r.pointRadius=function(Oa){if(!arguments.length)return ka;ka="function"===typeof Oa?Oa:(Sa.pointRadius(+Oa),+Oa);return r};r.digits=function(Oa){if(!arguments.length)return K;if(null==Oa)K=
null;else{const tb=Math.floor(Oa);if(!(0<=tb))throw new RangeError(`invalid digits: ${Oa}`);K=tb}null===m&&(Sa=new Td(K));return r};return r.projection(qa).digits(K).context(m)}function fb(qa){return function(m){var r=new zb,K;for(K in qa)r[K]=qa[K];r.stream=m;return r}}function zb(){}function kb(qa,m,r){var K=qa.clipExtent&&qa.clipExtent();qa.scale(150).translate([0,0]);null!=K&&qa.clipExtent(null);ub(r,qa.stream($d));m($d.result());null!=K&&qa.clipExtent(K);return qa}function Vb(qa,m,r){return kb(qa,
function(K){var ka=m[1][0]-m[0][0],Fa=m[1][1]-m[0][1],Sa=Math.min(ka/(K[1][0]-K[0][0]),Fa/(K[1][1]-K[0][1]));ka=+m[0][0]+(ka-Sa*(K[1][0]+K[0][0]))/2;K=+m[0][1]+(Fa-Sa*(K[1][1]+K[0][1]))/2;qa.scale(150*Sa).translate([ka,K])},r)}function aa(qa,m,r){return kb(qa,function(K){var ka=+m,Fa=ka/(K[1][0]-K[0][0]);ka=(ka-Fa*(K[1][0]+K[0][0]))/2;K=-Fa*K[0][1];qa.scale(150*Fa).translate([ka,K])},r)}function Ga(qa,m,r){return kb(qa,function(K){var ka=+m,Fa=ka/(K[1][1]-K[0][1]),Sa=-Fa*K[0][0];K=(ka-Fa*(K[1][1]+
K[0][1]))/2;qa.scale(150*Fa).translate([Sa,K])},r)}function Qb(qa){return fb({point:function(m,r){m=qa(m,r);this.stream.point(m[0],m[1])}})}function nc(qa,m){function r(K,ka,Fa,Sa,Oa,tb,rb,oc,kc,sc,tc,Lc,Wc,Bd){var qd=rb-K,xd=oc-ka,Nd=qd*qd+xd*xd;if(Nd>4*m&&Wc--){var mc=Sa+sc,vd=Oa+tc,se=tb+Lc,fe=w(mc*mc+vd*vd+se*se),Vd=vb(se/=fe),Cd=1E-6>Tc(Tc(se)-1)||1E-6>Tc(Fa-kc)?(Fa+kc)/2:nd(vd,mc),Od=qa(Cd,Vd);Vd=Od[0];Od=Od[1];var ke=Vd-K,Ge=Od-ka,ce=xd*ke-qd*Ge;if(ce*ce/Nd>m||.3<Tc((qd*ke+xd*Ge)/Nd-.5)||Sa*
sc+Oa*tc+tb*Lc<Md)r(K,ka,Fa,Sa,Oa,tb,Vd,Od,Cd,mc/=fe,vd/=fe,se,Wc,Bd),Bd.point(Vd,Od),r(Vd,Od,Cd,mc,vd,se,rb,oc,kc,sc,tc,Lc,Wc,Bd)}}return function(K){function ka(Vd,Cd){Vd=qa(Vd,Cd);K.point(Vd[0],Vd[1])}function Fa(){xd=NaN;fe.point=Sa;K.lineStart()}function Sa(Vd,Cd){var Od=Yb([Vd,Cd]);Cd=qa(Vd,Cd);r(xd,Nd,qd,mc,vd,se,xd=Cd[0],Nd=Cd[1],qd=Vd,mc=Od[0],vd=Od[1],se=Od[2],16,K);K.point(xd,Nd)}function Oa(){fe.point=ka;K.lineEnd()}function tb(){Fa();fe.point=rb;fe.lineEnd=oc}function rb(Vd,Cd){Sa(kc=
Vd,Cd);sc=xd;tc=Nd;Lc=mc;Wc=vd;Bd=se;fe.point=Sa}function oc(){r(xd,Nd,qd,mc,vd,se,sc,tc,kc,Lc,Wc,Bd,16,K);fe.lineEnd=Oa;Oa()}var kc,sc,tc,Lc,Wc,Bd,qd,xd,Nd,mc,vd,se,fe={point:ka,lineStart:Fa,lineEnd:Oa,polygonStart:function(){K.polygonStart();fe.lineStart=tb},polygonEnd:function(){K.polygonEnd();fe.lineStart=Fa}};return fe}}function $b(qa){return fb({point:function(m,r){m=qa(m,r);return this.stream.point(m[0],m[1])}})}function Ob(qa,m,r,K,ka){function Fa(Sa,Oa){Sa*=K;Oa*=ka;return[m+qa*Sa,r-qa*Oa]}
Fa.invert=function(Sa,Oa){return[(Sa-m)/qa*K,(r-Oa)/qa*ka]};return Fa}function Nb(qa,m,r,K,ka,Fa){function Sa(Lc,Wc){Lc*=K;Wc*=ka;return[tb*Lc-rb*Wc+m,r-rb*Lc-tb*Wc]}if(!Fa)return Ob(qa,m,r,K,ka);var Oa=dd(Fa);Fa=J(Fa);var tb=Oa*qa,rb=Fa*qa,oc=Oa/qa,kc=Fa/qa,sc=(Fa*r-Oa*m)/qa,tc=(Fa*m+Oa*r)/qa;Sa.invert=function(Lc,Wc){return[K*(oc*Lc-kc*Wc+sc),ka*(tc-kc*Lc-oc*Wc)]};return Sa}function rc(qa){return Sc(function(){return qa})()}function Sc(qa){function m(ad){return Ge(ad[0]*fd,ad[1]*fd)}function r(ad){return(ad=
Ge.invert(ad[0],ad[1]))&&[ad[0]*md,ad[1]*md]}function K(){var ad=Nb(Sa,0,0,Bd,qd,Wc).apply(null,Fa(rb,oc));ad=Nb(Sa,Oa-ad[0],tb-ad[1],Bd,qd,Wc);Lc=lc(kc,sc,tc);ke=Db(Fa,ad);Ge=Db(Lc,ke);ad=ke;Od=+Cd?nc(ad,Cd):Qb(ad);return ka()}function ka(){ce=$e=null;return m}var Fa,Sa=150,Oa=480,tb=250,rb=0,oc=0,kc=0,sc=0,tc=0,Lc,Wc=0,Bd=1,qd=1,xd=null,Nd=pa,mc=null,vd,se,fe,Vd=Ya,Cd=.5,Od,ke,Ge,ce,$e;m.stream=function(ad){return ce&&$e===ad?ce:ce=Ze($b(Lc)(Nd(Od(Vd($e=ad)))))};m.preclip=function(ad){return arguments.length?
(Nd=ad,xd=void 0,ka()):Nd};m.postclip=function(ad){return arguments.length?(Vd=ad,mc=vd=se=fe=null,ka()):Vd};m.clipAngle=function(ad){return arguments.length?(Nd=+ad?Y(xd=ad*fd):(xd=null,pa),ka()):xd*md};m.clipExtent=function(ad){return arguments.length?(Vd=null==ad?(mc=vd=se=fe=null,Ya):ma(mc=+ad[0][0],vd=+ad[0][1],se=+ad[1][0],fe=+ad[1][1]),ka()):null==mc?null:[[mc,vd],[se,fe]]};m.scale=function(ad){return arguments.length?(Sa=+ad,K()):Sa};m.translate=function(ad){return arguments.length?(Oa=+ad[0],
tb=+ad[1],K()):[Oa,tb]};m.center=function(ad){return arguments.length?(rb=ad[0]%360*fd,oc=ad[1]%360*fd,K()):[rb*md,oc*md]};m.rotate=function(ad){return arguments.length?(kc=ad[0]%360*fd,sc=ad[1]%360*fd,tc=2<ad.length?ad[2]%360*fd:0,K()):[kc*md,sc*md,tc*md]};m.angle=function(ad){return arguments.length?(Wc=ad%360*fd,K()):Wc*md};m.reflectX=function(ad){return arguments.length?(Bd=ad?-1:1,K()):0>Bd};m.reflectY=function(ad){return arguments.length?(qd=ad?-1:1,K()):0>qd};m.precision=function(ad){if(arguments.length){var le=
ke;var mf=Cd=ad*ad;le=(Od=+mf?nc(le,mf):Qb(le),ka())}else le=w(Cd);return le};m.fitExtent=function(ad,le){return Vb(m,ad,le)};m.fitSize=function(ad,le){return Vb(m,[[0,0],ad],le)};m.fitWidth=function(ad,le){return aa(m,ad,le)};m.fitHeight=function(ad,le){return Ga(m,ad,le)};return function(){Fa=qa.apply(this,arguments);m.invert=Fa.invert&&r;return K()}}function ra(qa){var m=0,r=Pb/3,K=Sc(qa);qa=K(m,r);qa.parallels=function(ka){return arguments.length?K(m=ka[0]*fd,r=ka[1]*fd):[m*md,r*md]};return qa}
function Gb(qa){function m(K,ka){return[K*r,J(ka)/r]}var r=dd(qa);m.invert=function(K,ka){return[K/r,vb(ka*r)]};return m}function Va(qa,m){function r(Oa,tb){tb=w(Fa-2*ka*J(tb))/ka;return[tb*J(Oa*=ka),Sa-tb*dd(Oa)]}var K=J(qa),ka=(K+J(m))/2;if(1E-6>Tc(ka))return Gb(qa);var Fa=1+K*(2*ka-K),Sa=w(Fa)/ka;r.invert=function(Oa,tb){tb=Sa-tb;var rb=nd(Oa,Tc(tb))*va(tb);0>tb*ka&&(rb-=Pb*va(Oa)*va(tb));return[rb/ka,vb((Fa-(Oa*Oa+tb*tb)*ka*ka)/(2*ka))]};return r}function Ab(){return ra(Va).scale(155.424).center([0,
33.6442])}function Jb(){return Ab().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Eb(qa){var m=qa.length;return{point:function(r,K){for(var ka=-1;++ka<m;)qa[ka].point(r,K)},sphere:function(){for(var r=-1;++r<m;)qa[r].sphere()},lineStart:function(){for(var r=-1;++r<m;)qa[r].lineStart()},lineEnd:function(){for(var r=-1;++r<m;)qa[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<m;)qa[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<
m;)qa[r].polygonEnd()}}}function Wb(qa){return function(m,r){var K=dd(m),ka=dd(r);K=qa(K*ka);return Infinity===K?[2,0]:[K*ka*J(m),K*J(r)]}}function ic(qa){return function(m,r){var K=w(m*m+r*r),ka=qa(K),Fa=J(ka);ka=dd(ka);return[nd(m*Fa,K*ka),vb(K&&r*Fa/K)]}}function wc(qa,m){return[qa,gd(Q((uc+m)/2))]}function Zc(qa){function m(){var kc=Pb*ka(),sc=r(Ua(r.rotate()).invert([0,0]));return Sa(null==Oa?[[sc[0]-kc,sc[1]-kc],[sc[0]+kc,sc[1]+kc]]:qa===wc?[[Math.max(sc[0]-kc,Oa),tb],[Math.min(sc[0]+kc,rb),
oc]]:[[Oa,Math.max(sc[1]-kc,tb)],[rb,Math.min(sc[1]+kc,oc)]])}var r=rc(qa),K=r.center,ka=r.scale,Fa=r.translate,Sa=r.clipExtent,Oa=null,tb,rb,oc;r.scale=function(kc){return arguments.length?(ka(kc),m()):ka()};r.translate=function(kc){return arguments.length?(Fa(kc),m()):Fa()};r.center=function(kc){return arguments.length?(K(kc),m()):K()};r.clipExtent=function(kc){return arguments.length?(null==kc?Oa=tb=rb=oc=null:(Oa=+kc[0][0],tb=+kc[0][1],rb=+kc[1][0],oc=+kc[1][1]),m()):null==Oa?null:[[Oa,tb],[rb,
oc]]};return m()}function Pc(qa,m){function r(Sa,Oa){0<Fa?Oa<-uc+1E-6&&(Oa=-uc+1E-6):Oa>uc-1E-6&&(Oa=uc-1E-6);Oa=Fa/z(Q((uc+Oa)/2),ka);return[Oa*J(ka*Sa),Fa-Oa*dd(ka*Sa)]}var K=dd(qa),ka=qa===m?J(qa):gd(K/dd(m))/gd(Q((uc+m)/2)/Q((uc+qa)/2)),Fa=K*z(Q((uc+qa)/2),ka)/ka;if(!ka)return wc;r.invert=function(Sa,Oa){Oa=Fa-Oa;var tb=va(ka)*w(Sa*Sa+Oa*Oa),rb=nd(Sa,Tc(Oa))*va(Oa);0>Oa*ka&&(rb-=Pb*va(Sa)*va(Oa));return[rb/ka,2*ld(z(Fa/tb,1/ka))-uc]};return r}function oa(qa,m){return[qa,m]}function Ma(qa,m){function r(Sa,
Oa){Oa=Fa-Oa;Sa*=ka;return[Oa*J(Sa),Fa-Oa*dd(Sa)]}var K=dd(qa),ka=qa===m?J(qa):(K-dd(m))/(m-qa),Fa=K/ka+qa;if(1E-6>Tc(ka))return oa;r.invert=function(Sa,Oa){Oa=Fa-Oa;var tb=nd(Sa,Tc(Oa))*va(Oa);0>Oa*ka&&(tb-=Pb*va(Sa)*va(Oa));return[tb/ka,Fa-va(ka)*w(Sa*Sa+Oa*Oa)]};return r}function ib(qa,m){m=vb(df*J(m));var r=m*m,K=r*r*r;return[qa*dd(m)/(df*(1.340264+3*-.081106*r+K*(7*8.93E-4+.034164*r))),m*(1.340264+-.081106*r+K*(8.93E-4+.003796*r))]}function V(qa,m){var r=dd(m),K=dd(qa)*r;return[r*J(qa)/K,J(m)/
K]}function x(qa,m){var r=m*m,K=r*r;return[qa*(.8707-.131979*r+K*(-.013791+K*(.003971*r-.001529*K))),m*(1.007226+r*(.015085+K*(-.044475+.028874*r-.005916*K)))]}function da(qa,m){return[dd(m)*J(qa),J(m)]}function ya(qa,m){var r=dd(m),K=1+dd(qa)*r;return[r*J(qa)/K,J(m)/K]}function Ia(qa,m){return[gd(Q((uc+m)/2)),-qa]}function Wa(qa){return 1<qa?Ae:-1>qa?-Ae:Math.asin(qa)}function qb(qa,m){return function K(){const ka=m();ka.type=qa;ka.path=Ra().projection(ka);ka.copy=ka.copy||function(){const Fa=K();
Je.forEach(Sa=>{if(ka[Sa])Fa[Sa](ka[Sa]())});Fa.path.pointRadius(ka.path.pointRadius());return Fa};return l.registerScale(ka)}}function Sb(qa,m){if(!qa||"string"!==typeof qa)throw Error("Projection type must be a name string.");qa=qa.toLowerCase();return 1<arguments.length?(ae[qa]=qb(qa,m),this):ae[qa]||null}class Hb{constructor(){this._partials=new Float64Array(32);this._n=0}add(qa){const m=this._partials;let r=0;for(let K=0;K<this._n&&32>K;K++){const ka=m[K],Fa=qa+ka;(qa=Math.abs(qa)<Math.abs(ka)?
qa-(Fa-ka):ka-(Fa-qa))&&(m[r++]=qa);qa=Fa}m[r]=qa;this._n=r+1;return this}valueOf(){const qa=this._partials;let m=this._n;let r,K=0;if(0<m){for(K=qa[--m];0<m;){var ka=K;r=qa[--m];K=ka+r;if(ka=r-(K-ka))break}0<m&&(0>ka&&0>qa[m-1]||0<ka&&0<qa[m-1])&&(r=2*ka,ka=K+r,r==ka-K&&(K=ka))}return K}}var Pb=Math.PI,uc=Pb/2,yc=Pb/4,Kc=2*Pb,md=180/Pb,fd=Pb/180,Tc=Math.abs,ld=Math.atan,nd=Math.atan2,dd=Math.cos,Wd=Math.exp,gd=Math.log,z=Math.pow,J=Math.sin,va=Math.sign||function(qa){return 0<qa?1:0>qa?-1:0},w=Math.sqrt,
Q=Math.tan,ca={Feature:function(qa,m){ec(qa.geometry,m)},FeatureCollection:function(qa,m){qa=qa.features;for(var r=-1,K=qa.length;++r<K;)ec(qa[r].geometry,m)}},wa={Sphere:function(qa,m){m.sphere()},Point:function(qa,m){qa=qa.coordinates;m.point(qa[0],qa[1],qa[2])},MultiPoint:function(qa,m){for(var r=qa.coordinates,K=-1,ka=r.length;++K<ka;)qa=r[K],m.point(qa[0],qa[1],qa[2])},LineString:function(qa,m){Bb(qa.coordinates,m,0)},MultiLineString:function(qa,m){qa=qa.coordinates;for(var r=-1,K=qa.length;++r<
K;)Bb(qa[r],m,0)},Polygon:function(qa,m){yb(qa.coordinates,m)},MultiPolygon:function(qa,m){qa=qa.coordinates;for(var r=-1,K=qa.length;++r<K;)yb(qa[r],m)},GeometryCollection:function(qa,m){qa=qa.geometries;for(var r=-1,K=qa.length;++r<K;)ec(qa[r],m)}};lb.invert=lb;var pa=U(function(){return!0},function(qa){var m=NaN,r=NaN,K=NaN,ka;return{lineStart:function(){qa.lineStart();ka=1},point:function(Fa,Sa){var Oa=0<Fa?Pb:-Pb,tb=Tc(Fa-m);if(1E-6>Tc(tb-Pb))qa.point(m,r=0<(r+Sa)/2?uc:-uc),qa.point(K,r),qa.lineEnd(),
qa.lineStart(),qa.point(Oa,r),qa.point(Fa,r),ka=0;else if(K!==Oa&&tb>=Pb){1E-6>Tc(m-K)&&(m-=1E-6*K);1E-6>Tc(Fa-Oa)&&(Fa-=1E-6*Oa);tb=m;var rb=r,oc=Fa,kc,sc,tc=J(tb-oc);r=1E-6<Tc(tc)?ld((J(rb)*(sc=dd(Sa))*J(oc)-J(Sa)*(kc=dd(rb))*J(tb))/(kc*sc*tc)):(rb+Sa)/2;qa.point(K,r);qa.lineEnd();qa.lineStart();qa.point(Oa,r);ka=0}qa.point(m=Fa,r=Sa);K=Oa},lineEnd:function(){qa.lineEnd();m=r=NaN},clean:function(){return 2-ka}}},function(qa,m,r,K){null==qa?(r*=uc,K.point(-Pb,r),K.point(0,r),K.point(Pb,r),K.point(Pb,
0),K.point(Pb,-r),K.point(0,-r),K.point(-Pb,-r),K.point(-Pb,0),K.point(-Pb,r)):1E-6<Tc(qa[0]-m[0])?(qa=qa[0]<m[0]?Pb:-Pb,r=r*qa/2,K.point(-qa,r),K.point(0,r),K.point(qa,r)):K.point(m[0],m[1])},[-Pb,-uc]),Ya=qa=>qa,Tb=new Hb,Zb=new Hb,jc,Cc,Oc,Rc,od={point:Xb,lineStart:Xb,lineEnd:Xb,polygonStart:function(){od.lineStart=na;od.lineEnd=M},polygonEnd:function(){od.lineStart=od.lineEnd=od.point=Xb;Tb.add(Tc(Zb));Zb=new Hb},result:function(){var qa=Tb/2;Tb=new Hb;return qa}},sd=Infinity,zd=sd,Zd=-sd,Kd=
Zd,$d={point:function(qa,m){qa<sd&&(sd=qa);qa>Zd&&(Zd=qa);m<zd&&(zd=m);m>Kd&&(Kd=m)},lineStart:Xb,lineEnd:Xb,polygonStart:Xb,polygonEnd:Xb,result:function(){var qa=[[sd,zd],[Zd,Kd]];Zd=Kd=-(zd=sd=Infinity);return qa}},Te=0,We=0,Le=0,Ve=0,Ie=0,He=0,ie=0,ne=0,Ee=0,Fd,Uf,rf,Ne,ze={point:y,lineStart:T,lineEnd:P,polygonStart:function(){ze.lineStart=B;ze.lineEnd=E},polygonEnd:function(){ze.point=y;ze.lineStart=T;ze.lineEnd=P},result:function(){var qa=Ee?[ie/Ee,ne/Ee]:He?[Ve/He,Ie/He]:Le?[Te/Le,We/Le]:[NaN,
NaN];Te=We=Le=Ve=Ie=He=ie=ne=Ee=0;return qa}};Ea.prototype={_radius:4.5,pointRadius:function(qa){return this._radius=qa,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(qa,m){switch(this._point){case 0:this._context.moveTo(qa,m);this._point=1;break;case 1:this._context.lineTo(qa,m);break;default:this._context.moveTo(qa+this._radius,m),this._context.arc(qa,
m,this._radius,0,Kc)}},result:Xb};var Oe=new Hb,Pd,dg,gf,Da,cb,fc={point:Xb,lineStart:function(){fc.point=R},lineEnd:function(){Pd&&ia(dg,gf);fc.point=Xb},polygonStart:function(){Pd=!0},polygonEnd:function(){Pd=null},result:function(){var qa=+Oe;Oe=new Hb;return qa}};let hd,id,ed,Dd;class Td{constructor(qa){this._append=null==qa?Aa:Pa(qa);this._radius=4.5;this._=""}pointRadius(qa){this._radius=+qa;return this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===
this._line&&(this._+="Z");this._point=NaN}point(qa,m){switch(this._point){case 0:this._append`M${qa},${m}`;this._point=1;break;case 1:this._append`L${qa},${m}`;break;default:this._append`M${qa},${m}`;if(this._radius!==ed||this._append!==id)qa=this._radius,m=this._,this._="",this._append`m0,${qa}a${qa},${qa} 0 1,1 0,${-2*qa}a${qa},${qa} 0 1,1 0,${2*qa}z`,ed=qa,id=this._append,Dd=this._,this._=m;this._+=Dd}}result(){const qa=this._;this._="";return qa.length?qa:null}}zb.prototype={constructor:zb,point:function(qa,
m){this.stream.point(qa,m)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Md=dd(30*fd),Ze=fb({point:function(qa,m){this.stream.point(qa*fd,m*fd)}}),pd=Wb(function(qa){return w(2/(1+qa))});pd.invert=ic(function(qa){return 2*vb(qa/2)});var oe=Wb(function(qa){return(qa=$a(qa))&&qa/J(qa)});oe.invert=ic(function(qa){return qa});
wc.invert=function(qa,m){return[qa,2*ld(Wd(m))-uc]};oa.invert=oa;var df=w(3)/2;ib.invert=function(qa,m){for(var r=m,K=r*r,ka=K*K*K,Fa=0,Sa;12>Fa&&!(Sa=r*(1.340264+-.081106*K+ka*(8.93E-4+.003796*K))-m,K=1.340264+3*-.081106*K+ka*(7*8.93E-4+.034164*K),r-=Sa/=K,K=r*r,ka=K*K*K,1E-12>Tc(Sa));++Fa);return[df*qa*(1.340264+3*-.081106*K+ka*(7*8.93E-4+.034164*K))/dd(r),vb(J(r)/df)]};V.invert=ic(ld);x.invert=function(qa,m){var r=m,K=25;do{var ka=r*r;var Fa=ka*ka;r-=Fa=(r*(1.007226+ka*(.015085+Fa*(-.044475+.028874*
ka-.005916*Fa)))-m)/(1.007226+ka*(.045255+Fa*(-.311325+.259866*ka-.005916*11*Fa)))}while(1E-6<Tc(Fa)&&0<--K);return[qa/(.8707+(ka=r*r)*(-.131979+ka*(-.013791+ka*ka*ka*(.003971-.001529*ka)))),r]};da.invert=ic(vb);ya.invert=ic(function(qa){return 2*ld(qa)});Ia.invert=function(qa,m){return[-m,2*ld(Wd(qa))-uc]};var Pe=Math.abs,Ud=Math.cos,hf=Math.sin,Cf=Math.PI,Ae=Cf/2,Qe=Math.sqrt(2),kf=function(qa,m,r){function K(ka,Fa){var Sa=Fa,Oa=r*hf(Sa),tb=30,rb;do Sa-=rb=(Sa+hf(Sa)-Oa)/(1+Ud(Sa));while(1E-6<Pe(rb)&&
0<--tb);return[qa*ka*Ud(Fa=Sa/2),m*hf(Fa)]}K.invert=function(ka,Fa){return Fa=Wa(Fa/m),[ka/(qa*Ud(Fa)),Wa((2*Fa+hf(2*Fa))/r)]};return K}(Qe/Ae,Qe,Cf);const qe=Ra(),Je="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),ae={albers:Jb,albersusa:function(){function qa(sc){var tc=sc[0];sc=sc[1];return oc=null,(Fa.point(tc,sc),oc)||(Oa.point(tc,sc),oc)||(rb.point(tc,sc),oc)}function m(){r=
K=null;return qa}var r,K,ka=Jb(),Fa,Sa=Ab().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Oa,tb=Ab().rotate([157,0]).center([-3,19.9]).parallels([8,18]),rb,oc,kc={point:function(sc,tc){oc=[sc,tc]}};qa.invert=function(sc){var tc=ka.scale(),Lc=ka.translate(),Wc=(sc[0]-Lc[0])/tc;tc=(sc[1]-Lc[1])/tc;return(.12<=tc&&.234>tc&&-.425<=Wc&&-.214>Wc?Sa:.166<=tc&&.234>tc&&-.214<=Wc&&-.115>Wc?tb:ka).invert(sc)};qa.stream=function(sc){return r&&K===sc?r:r=Eb([ka.stream(K=sc),Sa.stream(sc),tb.stream(sc)])};
qa.precision=function(sc){if(!arguments.length)return ka.precision();ka.precision(sc);Sa.precision(sc);tb.precision(sc);return m()};qa.scale=function(sc){if(!arguments.length)return ka.scale();ka.scale(sc);Sa.scale(.35*sc);tb.scale(sc);return qa.translate(ka.translate())};qa.translate=function(sc){if(!arguments.length)return ka.translate();var tc=ka.scale(),Lc=+sc[0],Wc=+sc[1];Fa=ka.translate(sc).clipExtent([[Lc-.455*tc,Wc-.238*tc],[Lc+.455*tc,Wc+.238*tc]]).stream(kc);Oa=Sa.translate([Lc-.307*tc,
Wc+.201*tc]).clipExtent([[Lc-.425*tc+1E-6,Wc+.12*tc+1E-6],[Lc-.214*tc-1E-6,Wc+.234*tc-1E-6]]).stream(kc);rb=tb.translate([Lc-.205*tc,Wc+.212*tc]).clipExtent([[Lc-.214*tc+1E-6,Wc+.166*tc+1E-6],[Lc-.115*tc-1E-6,Wc+.234*tc-1E-6]]).stream(kc);return m()};qa.fitExtent=function(sc,tc){return Vb(qa,sc,tc)};qa.fitSize=function(sc,tc){return Vb(qa,[[0,0],sc],tc)};qa.fitWidth=function(sc,tc){return aa(qa,sc,tc)};qa.fitHeight=function(sc,tc){return Ga(qa,sc,tc)};return qa.scale(1070)},azimuthalequalarea:function(){return rc(pd).scale(124.75).clipAngle(179.999)},
azimuthalequidistant:function(){return rc(oe).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return ra(Pc).scale(109.5).parallels([30,30])},conicequalarea:Ab,conicequidistant:function(){return ra(Ma).scale(131.154).center([0,13.9389])},equalEarth:function(){return rc(ib).scale(177.158)},equirectangular:function(){return rc(oa).scale(152.63)},gnomonic:function(){return rc(V).scale(144.049).clipAngle(60)},identity:function(){function qa(){Lc=r*Fa;Wc=r*Sa;xd=Nd=null;return m}function m(mc){var vd=
mc[0]*Lc;mc=mc[1]*Wc;if(Oa){var se=mc*tb-vd*rb;vd=vd*tb+mc*rb;mc=se}return[vd+K,mc+ka]}var r=1,K=0,ka=0,Fa=1,Sa=1,Oa=0,tb,rb,oc=null,kc,sc,tc,Lc=1,Wc=1,Bd=fb({point:function(mc,vd){mc=m([mc,vd]);this.stream.point(mc[0],mc[1])}}),qd=Ya,xd,Nd;m.invert=function(mc){var vd=mc[0]-K;mc=mc[1]-ka;if(Oa){var se=mc*tb+vd*rb;vd=vd*tb-mc*rb;mc=se}return[vd/Lc,mc/Wc]};m.stream=function(mc){return xd&&Nd===mc?xd:xd=Bd(qd(Nd=mc))};m.postclip=function(mc){return arguments.length?(qd=mc,oc=kc=sc=tc=null,qa()):qd};
m.clipExtent=function(mc){return arguments.length?(qd=null==mc?(oc=kc=sc=tc=null,Ya):ma(oc=+mc[0][0],kc=+mc[0][1],sc=+mc[1][0],tc=+mc[1][1]),qa()):null==oc?null:[[oc,kc],[sc,tc]]};m.scale=function(mc){return arguments.length?(r=+mc,qa()):r};m.translate=function(mc){return arguments.length?(K=+mc[0],ka=+mc[1],qa()):[K,ka]};m.angle=function(mc){return arguments.length?(Oa=mc%360*fd,rb=J(Oa),tb=dd(Oa),qa()):Oa*md};m.reflectX=function(mc){return arguments.length?(Fa=mc?-1:1,qa()):0>Fa};m.reflectY=function(mc){return arguments.length?
(Sa=mc?-1:1,qa()):0>Sa};m.fitExtent=function(mc,vd){return Vb(m,mc,vd)};m.fitSize=function(mc,vd){return Vb(m,[[0,0],mc],vd)};m.fitWidth=function(mc,vd){return aa(m,mc,vd)};m.fitHeight=function(mc,vd){return Ga(m,mc,vd)};return m},mercator:function(){return Zc(wc).scale(961/Kc)},mollweide:function(){return rc(kf).scale(169.529)},naturalEarth1:function(){return rc(x).scale(175.295)},orthographic:function(){return rc(da).scale(249.5).clipAngle(90.000001)},stereographic:function(){return rc(ya).scale(250).clipAngle(142)},
transversemercator:function(){var qa=Zc(Ia),m=qa.center,r=qa.rotate;qa.center=function(K){return arguments.length?m([-K[1],K[0]]):(K=m(),[K[1],-K[0]])};qa.rotate=function(K){return arguments.length?r([K[0],K[1],2<K.length?K[2]+90:90]):(K=r(),[K[0],K[1],K[2]-90])};return r([0,0,90]).scale(159.155)}};for(const qa in ae)Sb(qa,ae[qa]);u.getProjectionPath=function(qa){return qa&&qa.path||qe};u.projection=Sb;u.projectionProperties=Je})};
shadow$provide[41]=function(Fb,pb,zc,Za){(function(u,l){"object"===typeof Za&&"undefined"!==typeof zc?l(Za,pb(32),pb(24),pb(33),pb(40),pb(35)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util vega-statistics vega-projection vega-canvas".split(" "),l):(u="undefined"!==typeof globalThis?globalThis:u||self,l((u.vega=u.vega||{},u.vega.transforms={}),u.vega,u.vega,u.vega,u.vega,u.vega))})(this,function(u,l,ja,$a,vb,Xb){function ec(x,da,ya){var Ia=(da-x)/Math.max(0,ya),Wa=
Math.floor(Math.log10(Ia));Ia/=Math.pow(10,Wa);Ia=Ia>=Sc?10:Ia>=ra?5:Ia>=Gb?2:1;let qb;0>Wa?(qb=Math.pow(10,-Wa)/Ia,Wa=Math.round(x*qb),Ia=Math.round(da*qb),Wa/qb<x&&++Wa,Ia/qb>da&&--Ia,qb=-qb):(qb=Math.pow(10,Wa)*Ia,Wa=Math.round(x/qb),Ia=Math.round(da/qb),Wa*qb<x&&++Wa,Ia*qb>da&&--Ia);return Ia<Wa&&.5<=ya&&2>ya?ec(x,da,2*ya):[Wa,Ia,qb]}function Bb(x,da,ya){return ec(+x,+da,+ya)[2]}function yb(x,da){let ya;for(const Ia of x)null!=Ia&&(ya<Ia||void 0===ya&&Ia>=Ia)&&(ya=Ia);return ya}function ub(x,
da,ya){x=+x;da=+da;ya=2>(Wa=arguments.length)?(da=x,x=0,1):3>Wa?1:+ya;for(var Ia=-1,Wa=Math.max(0,Math.ceil((da-x)/ya))|0,qb=Array(Wa);++Ia<Wa;)qb[Ia]=x+Ia*ya;return qb}function Lb(x,da){da=0;for(let ya of x)if(ya=+ya)da+=ya;return da}function Yb(){}function Ba(){function x(Hb,Pb){return Pb.map(uc=>da(Hb,uc))}function da(Hb,Pb){var uc=[],yc=[];ya(Hb,Pb,Kc=>{Sb(Kc,Hb,Pb);for(var md=0,fd=Kc.length,Tc=Kc[fd-1][1]*Kc[0][0]-Kc[fd-1][0]*Kc[0][1];++md<fd;)Tc+=Kc[md-1][1]*Kc[md][0]-Kc[md-1][0]*Kc[md][1];
0<Tc?uc.push([Kc]):yc.push(Kc)});yc.forEach(Kc=>{for(var md=0,fd=uc.length,Tc;md<fd;++md){a:{var ld=(Tc=uc[md])[0];for(var nd=Kc,dd=-1,Wd=nd.length;++dd<Wd;){b:{var gd=ld;for(var z=nd[dd],J=z[0],va=z[1],w=-1,Q=0,ca=gd.length,wa=ca-1;Q<ca;wa=Q++){var pa=gd[Q],Ya=pa[0],Tb=pa[1],Zb=gd[wa];wa=Zb[0];var jc=Zb[1],Cc,Oc=pa;pa=Zb;Zb=z;if(Cc=(pa[0]-Oc[0])*(Zb[1]-Oc[1])===(Zb[0]-Oc[0])*(pa[1]-Oc[1]))Oc=Oc[Cc=+(Oc[0]===pa[0])],Zb=Zb[Cc],pa=pa[Cc],Cc=Oc<=Zb&&Zb<=pa||pa<=Zb&&Zb<=Oc;if(Cc){gd=0;break b}Tb>va!==
jc>va&&J<(wa-Ya)*(va-Tb)/(jc-Tb)+Ya&&(w=-w)}gd=w}if(gd){ld=gd;break a}}ld=0}if(-1!==ld){Tc.push(Kc);break}}});return{type:"MultiPolygon",value:Pb,coordinates:uc}}function ya(Hb,Pb,uc){function yc(gd){var z=[gd[0][0]+Tc,gd[0][1]+fd];gd=[gd[1][0]+Tc,gd[1][1]+fd];var J=2*z[0]+z[1]*(Wa+1)*4,va=2*gd[0]+gd[1]*(Wa+1)*4,w,Q;(w=md[J])?(Q=Kc[va])?(delete md[w.end],delete Kc[Q.start],w===Q?(w.ring.push(gd),uc(w.ring)):Kc[w.start]=md[Q.end]={start:w.start,end:Q.end,ring:w.ring.concat(Q.ring)}):(delete md[w.end],
w.ring.push(gd),md[w.end=va]=w):(w=Kc[va])?(Q=md[J])?(delete Kc[w.start],delete md[Q.end],w===Q?(w.ring.push(gd),uc(w.ring)):Kc[Q.start]=md[w.end]={start:Q.start,end:w.end,ring:Q.ring.concat(w.ring)}):(delete Kc[w.start],w.ring.unshift(z),Kc[w.start=J]=w):Kc[J]=md[va]={start:J,end:va,ring:[z,gd]}}var Kc=[],md=[],fd;var Tc=fd=-1;var ld=Hb[0]>=Pb;for(Va[ld<<1].forEach(yc);++Tc<Wa-1;){var nd=ld;ld=Hb[Tc+1]>=Pb;Va[nd|ld<<1].forEach(yc)}for(Va[ld<<0].forEach(yc);++fd<qb-1;){Tc=-1;ld=Hb[fd*Wa+Wa]>=Pb;var dd=
Hb[fd*Wa]>=Pb;for(Va[ld<<1|dd<<2].forEach(yc);++Tc<Wa-1;){nd=ld;ld=Hb[fd*Wa+Wa+Tc+1]>=Pb;var Wd=dd;dd=Hb[fd*Wa+Tc+1]>=Pb;Va[nd|ld<<1|dd<<2|Wd<<3].forEach(yc)}Va[ld|dd<<3].forEach(yc)}Tc=-1;dd=Hb[fd*Wa]>=Pb;for(Va[dd<<2].forEach(yc);++Tc<Wa-1;)Wd=dd,dd=Hb[fd*Wa+Tc+1]>=Pb,Va[dd<<2|Wd<<3].forEach(yc);Va[dd<<3].forEach(yc)}function Ia(Hb,Pb,uc){Hb.forEach(yc=>{var Kc=yc[0],md=yc[1],fd=Kc|0,Tc=md|0,ld=Pb[Tc*Wa+fd];if(0<Kc&&Kc<Wa&&fd===Kc){var nd=Pb[Tc*Wa+fd-1];yc[0]=Kc+(uc-nd)/(ld-nd)-.5}0<md&&md<qb&&
Tc===md&&(nd=Pb[(Tc-1)*Wa+fd],yc[1]=md+(uc-nd)/(ld-nd)-.5)})}var Wa=1,qb=1,Sb=Ia;x.contour=da;x.size=function(Hb){if(!arguments.length)return[Wa,qb];var Pb=Math.floor(Hb[0]),uc=Math.floor(Hb[1]);0<=Pb&&0<=uc||ja.error("invalid size");return Wa=Pb,qb=uc,x};x.smooth=function(Hb){return arguments.length?(Sb=Hb?Ia:Yb,x):Sb===Ia};return x}function bb(x,da,ya){return function(Ia){var Wa=ja.extent(Ia);Ia=ya?Math.min(Wa[0],0):Wa[0];Wa=Wa[1];var qb=Wa-Ia;if(da){var Sb=x;var Hb=+Wa;var Pb=+Ia;Sb=+Sb;Pb=(qb=
Hb<Pb)?Bb(Hb,Pb,Sb):Bb(Pb,Hb,Sb);qb=(qb?-1:1)*(0>Pb?1/-Pb:Pb)}else qb/=x+1;return ub(Ia+qb,Wa,qb)}}function Cb(x){l.Transform.call(this,null,x)}function xb(x,da,ya){const Ia=bb(ya.levels||10,ya.nice,!1!==ya.zero);return"shared"!==ya.resolve?Ia:Ia(x.map(Wa=>yb(da(Wa).values)))}function nb(x,da,ya,Ia){var Wa=Ia.scale||da.scale;let qb=Ia.translate||da.translate;ja.isFunction(Wa)&&(Wa=Wa(ya,Ia));ja.isFunction(qb)&&(qb=qb(ya,Ia));if(1!==Wa&&null!=Wa||qb)ya=(ja.isNumber(Wa)?Wa:Wa[0])||1,Wa=(ja.isNumber(Wa)?
Wa:Wa[1])||1,x.forEach(Db(da,ya,Wa,qb&&qb[0]||0,qb&&qb[1]||0))}function Db(x,da,ya,Ia,Wa){function qb(Kc){Kc.forEach(Sb)}function Sb(Kc){yc&&Kc.reverse();Kc.forEach(Hb)}function Hb(Kc){Kc[0]=(Kc[0]-Pb)*da+Ia;Kc[1]=(Kc[1]-uc)*ya+Wa}const Pb=x.x1||0,uc=x.y1||0,yc=0>da*ya;return function(Kc){Kc.coordinates.forEach(qb);return Kc}}function lb(x,da,ya){x=0<=x?x:$a.bandwidthNRD(da,ya);return Math.round((Math.sqrt(4*x*x+1)-1)/2)}function lc(x){return ja.isFunction(x)?x:ja.constant(+x)}function ua(){function x(Pb,
uc){const yc=lb(Wa[0],Pb,da)>>Hb,Kc=lb(Wa[1],Pb,ya)>>Hb,md=yc?yc+2:0,fd=Kc?Kc+2:0,Tc=2*md+(qb>>Hb),ld=2*fd+(Sb>>Hb),nd=new Float32Array(Tc*ld),dd=new Float32Array(Tc*ld);let Wd=nd;Pb.forEach(gd=>{const z=md+(+da(gd)>>Hb),J=fd+(+ya(gd)>>Hb);0<=z&&z<Tc&&0<=J&&J<ld&&(nd[z+J*Tc]+=+Ia(gd))});0<yc&&0<Kc?(ha(Tc,ld,nd,dd,yc),xa(Tc,ld,dd,nd,Kc),ha(Tc,ld,nd,dd,yc),xa(Tc,ld,dd,nd,Kc),ha(Tc,ld,nd,dd,yc),xa(Tc,ld,dd,nd,Kc)):0<yc?(ha(Tc,ld,nd,dd,yc),ha(Tc,ld,dd,nd,yc),ha(Tc,ld,nd,dd,yc),Wd=dd):0<Kc&&(xa(Tc,ld,
nd,dd,Kc),xa(Tc,ld,dd,nd,Kc),xa(Tc,ld,nd,dd,Kc),Wd=dd);Pb=uc?Math.pow(2,-2*Hb):1/Lb(Wd);for(let gd=0,z=Tc*ld;gd<z;++gd)Wd[gd]*=Pb;return{values:Wd,scale:1<<Hb,width:Tc,height:ld,x1:md,y1:fd,x2:md+(qb>>Hb),y2:fd+(Sb>>Hb)}}var da=Pb=>Pb[0],ya=Pb=>Pb[1],Ia=ja.one,Wa=[-1,-1],qb=960,Sb=500,Hb=2;x.x=function(Pb){return arguments.length?(da=lc(Pb),x):da};x.y=function(Pb){return arguments.length?(ya=lc(Pb),x):ya};x.weight=function(Pb){return arguments.length?(Ia=lc(Pb),x):Ia};x.size=function(Pb){if(!arguments.length)return[qb,
Sb];var uc=+Pb[0],yc=+Pb[1];0<=uc&&0<=yc||ja.error("invalid size");return qb=uc,Sb=yc,x};x.cellSize=function(Pb){if(!arguments.length)return 1<<Hb;1<=(Pb=+Pb)||ja.error("invalid cell size");Hb=Math.floor(Math.log(Pb)/Math.LN2);return x};x.bandwidth=function(Pb){if(!arguments.length)return Wa;Pb=ja.array(Pb);1===Pb.length&&(Pb=[+Pb[0],+Pb[0]]);2!==Pb.length&&ja.error("invalid bandwidth");return Wa=Pb,x};return x}function ha(x,da,ya,Ia,Wa){const qb=(Wa<<1)+1;for(let Sb=0;Sb<da;++Sb)for(let Hb=0,Pb=
0;Hb<x+Wa;++Hb)Hb<x&&(Pb+=ya[Hb+Sb*x]),Hb>=Wa&&(Hb>=qb&&(Pb-=ya[Hb-qb+Sb*x]),Ia[Hb-Wa+Sb*x]=Pb/Math.min(Hb+1,x-1+qb-Hb,qb))}function xa(x,da,ya,Ia,Wa){const qb=(Wa<<1)+1;for(let Sb=0;Sb<x;++Sb)for(let Hb=0,Pb=0;Hb<da+Wa;++Hb)Hb<da&&(Pb+=ya[Sb+Hb*x]),Hb>=Wa&&(Hb>=qb&&(Pb-=ya[Sb+(Hb-qb)*x]),Ia[Sb+(Hb-Wa)*x]=Pb/Math.min(Hb+1,da-1+qb-Hb,qb))}function Ua(x){l.Transform.call(this,null,x)}function Xa(x,da){Ab.forEach(ya=>null!=da[ya]?x[ya](da[ya]):0);return x}function Ka(x,da){var ya=[],Ia=yc=>yc(Hb),Wa;
if(null==da)ya.push(x);else{var qb={};var Sb=0;for(Wa=x.length;Sb<Wa;++Sb){var Hb=x[Sb];var Pb=da.map(Ia);var uc=qb[Pb];uc||(qb[Pb]=uc=[],uc.dims=Pb,ya.push(uc));uc.push(Hb)}}return ya}function jb(x){l.Transform.call(this,null,x)}function gb(x){l.Transform.call(this,null,x)}function wb(x){l.Transform.call(this,null,x)}function Ub(x,da){const ya=x.pointRadius();x.context(null);null!=da&&x.pointRadius(da);return ya}function Na(x){l.Transform.call(this,null,x)}function U(x){l.Transform.call(this,null,
x)}function ea(x,da,ya){const Ia=null==ya?Wa=>x(da(Wa)):Wa=>{var qb=x.pointRadius();Wa=x.pointRadius(ya)(da(Wa));x.pointRadius(qb);return Wa};Ia.context=Wa=>{x.context(Wa);return Ia};return Ia}function Ha(x,da,ya){var Ia=ub(x,da-1E-6,ya).concat(da);return function(Wa){return Ia.map(function(qb){return[Wa,qb]})}}function Y(x,da,ya){var Ia=ub(x,da-1E-6,ya).concat(da);return function(Wa){return Ia.map(function(qb){return[qb,Wa]})}}function Ca(){function x(){return{type:"MultiLineString",coordinates:da()}}
function da(){return ub(Eb(qb/md)*md,Wa,md).map(nd).concat(ub(Eb(uc/fd)*fd,Pb,fd).map(dd)).concat(ub(Eb(Ia/yc)*yc,ya,yc).filter(function(gd){return 1E-6<Jb(gd%md)}).map(Tc)).concat(ub(Eb(Hb/Kc)*Kc,Sb,Kc).filter(function(gd){return 1E-6<Jb(gd%fd)}).map(ld))}var ya,Ia,Wa,qb,Sb,Hb,Pb,uc,yc=10,Kc=yc,md=90,fd=360,Tc,ld,nd,dd,Wd=2.5;x.lines=function(){return da().map(function(gd){return{type:"LineString",coordinates:gd}})};x.outline=function(){return{type:"Polygon",coordinates:[nd(qb).concat(dd(Pb).slice(1),
nd(Wa).reverse().slice(1),dd(uc).reverse().slice(1))]}};x.extent=function(gd){return arguments.length?x.extentMajor(gd).extentMinor(gd):x.extentMinor()};x.extentMajor=function(gd){if(!arguments.length)return[[qb,uc],[Wa,Pb]];qb=+gd[0][0];Wa=+gd[1][0];uc=+gd[0][1];Pb=+gd[1][1];qb>Wa&&(gd=qb,qb=Wa,Wa=gd);uc>Pb&&(gd=uc,uc=Pb,Pb=gd);return x.precision(Wd)};x.extentMinor=function(gd){if(!arguments.length)return[[Ia,Hb],[ya,Sb]];Ia=+gd[0][0];ya=+gd[1][0];Hb=+gd[0][1];Sb=+gd[1][1];Ia>ya&&(gd=Ia,Ia=ya,ya=
gd);Hb>Sb&&(gd=Hb,Hb=Sb,Sb=gd);return x.precision(Wd)};x.step=function(gd){return arguments.length?x.stepMajor(gd).stepMinor(gd):x.stepMinor()};x.stepMajor=function(gd){if(!arguments.length)return[md,fd];md=+gd[0];fd=+gd[1];return x};x.stepMinor=function(gd){if(!arguments.length)return[yc,Kc];yc=+gd[0];Kc=+gd[1];return x};x.precision=function(gd){if(!arguments.length)return Wd;Wd=+gd;Tc=Ha(Hb,Sb,90);ld=Y(Ia,ya,Wd);nd=Ha(uc,Pb,90);dd=Y(qb,Wa,Wd);return x};return x.extentMajor([[-180,-89.999999],[180,
89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function ma(x){l.Transform.call(this,[],x);this.generator=Ca()}function na(x,da,ya){x.prototype=da.prototype=ya;ya.constructor=x}function n(x,da){x=Object.create(x.prototype);for(var ya in da)x[ya]=da[ya];return x}function G(){}function M(){return this.rgb().formatHex()}function y(){return this.rgb().formatRgb()}function T(x){var da,ya;x=(x+"").trim().toLowerCase();return(da=ic.exec(x))?(ya=da[1].length,da=parseInt(da[1],16),6===ya?D(da):
3===ya?new B(da>>8&15|da>>4&240,da>>4&15|da&240,(da&15)<<4|da&15,1):8===ya?A(da>>24&255,da>>16&255,da>>8&255,(da&255)/255):4===ya?A(da>>12&15|da>>8&240,da>>8&15|da>>4&240,da>>4&15|da&240,((da&15)<<4|da&15)/255):null):(da=wc.exec(x))?new B(da[1],da[2],da[3],1):(da=Zc.exec(x))?new B(255*da[1]/100,255*da[2]/100,255*da[3]/100,1):(da=Pc.exec(x))?A(da[1],da[2],da[3],da[4]):(da=oa.exec(x))?A(255*da[1]/100,255*da[2]/100,255*da[3]/100,da[4]):(da=Ma.exec(x))?ia(da[1],da[2]/100,da[3]/100,1):(da=ib.exec(x))?
ia(da[1],da[2]/100,da[3]/100,da[4]):V.hasOwnProperty(x)?D(V[x]):"transparent"===x?new B(NaN,NaN,NaN,0):null}function D(x){return new B(x>>16&255,x>>8&255,x&255,1)}function A(x,da,ya,Ia){0>=Ia&&(x=da=ya=NaN);return new B(x,da,ya,Ia)}function P(x,da,ya,Ia){if(1===arguments.length){var Wa=x;Wa instanceof G||(Wa=T(Wa));Wa?(Wa=Wa.rgb(),Wa=new B(Wa.r,Wa.g,Wa.b,Wa.opacity)):Wa=new B}else Wa=new B(x,da,ya,null==Ia?1:Ia);return Wa}function B(x,da,ya,Ia){this.r=+x;this.g=+da;this.b=+ya;this.opacity=+Ia}function E(){return`#${R(this.r)}${R(this.g)}${R(this.b)}`}
function I(){const x=X(this.opacity);return`${1===x?"rgb(":"rgba("}${Ea(this.r)}, ${Ea(this.g)}, ${Ea(this.b)}${1===x?")":`, ${x})`}`}function X(x){return isNaN(x)?1:Math.max(0,Math.min(1,x))}function Ea(x){return Math.max(0,Math.min(255,Math.round(x)||0))}function R(x){x=Ea(x);return(16>x?"0":"")+x.toString(16)}function ia(x,da,ya,Ia){0>=Ia?x=da=ya=NaN:0>=ya||1<=ya?x=da=NaN:0>=da&&(x=NaN);return new Pa(x,da,ya,Ia)}function Aa(x){if(x instanceof Pa)return new Pa(x.h,x.s,x.l,x.opacity);x instanceof
G||(x=T(x));if(!x)return new Pa;if(x instanceof Pa)return x;x=x.rgb();var da=x.r/255,ya=x.g/255,Ia=x.b/255,Wa=Math.min(da,ya,Ia),qb=Math.max(da,ya,Ia),Sb=NaN,Hb=qb-Wa,Pb=(qb+Wa)/2;Hb?(Sb=da===qb?(ya-Ia)/Hb+6*(ya<Ia):ya===qb?(Ia-da)/Hb+2:(da-ya)/Hb+4,Hb/=.5>Pb?qb+Wa:2-qb-Wa,Sb*=60):Hb=0<Pb&&1>Pb?0:Sb;return new Pa(Sb,Hb,Pb,x.opacity)}function Pa(x,da,ya,Ia){this.h=+x;this.s=+da;this.l=+ya;this.opacity=+Ia}function Ra(x){x=(x||0)%360;return 0>x?x+360:x}function fb(x){return Math.max(0,Math.min(1,x||
0))}function zb(x,da,ya){return 255*(60>x?da+(ya-da)*x/60:180>x?ya:240>x?da+(ya-da)*(240-x)/60:da)}function kb(x){l.Transform.call(this,null,x)}function Vb(x,da){let ya;ja.isFunction(x)?(ya=Ia=>P(x(Ia,da)),ya.dep=Ga(x)):ya=ja.constant(P(x||"#888"));return ya}function aa(x,da){let ya;ja.isFunction(x)?(ya=Ia=>x(Ia,da),ya.dep=Ga(x)):x?ya=ja.constant(x):(ya=Ia=>Ia.$value/Ia.$max||0,ya.dep=!0);return ya}function Ga(x){if(!ja.isFunction(x))return!1;x=ja.toSet(ja.accessorFields(x));return x.$x||x.$y||x.$value||
x.$max}function Qb(x,da,ya,Ia){const Wa=x.width;var qb=x.height;const Sb=x.x1||0,Hb=x.y1||0,Pb=x.x2||Wa;qb=x.y2||qb;const uc=x.values;x=uc?Tc=>uc[Tc]:ja.zero;const yc=Xb.canvas(Pb-Sb,qb-Hb),Kc=yc.getContext("2d"),md=Kc.getImageData(0,0,Pb-Sb,qb-Hb),fd=md.data;for(let Tc=Hb,ld=0;Tc<qb;++Tc){da.$y=Tc-Hb;for(let nd=Sb,dd=Tc*Wa;nd<Pb;++nd,ld+=4){da.$x=nd-Sb;da.$value=x(nd+dd);const Wd=ya(da);fd[ld+0]=Wd.r;fd[ld+1]=Wd.g;fd[ld+2]=Wd.b;fd[ld+3]=~~(255*Ia(da))}}Kc.putImageData(md,0,0);return yc}function nc(x){l.Transform.call(this,
null,x);this.modified(!0)}function $b(x,da){const ya=Nb(da.fit);da.extent?x.fitExtent(da.extent,ya):da.size?x.fitSize(da.size,ya):0}function Ob(x){const da=vb.projection((x||"mercator").toLowerCase());da||ja.error("Unrecognized projection type: "+x);return da()}function Nb(x){x=ja.array(x);return 1===x.length?x[0]:{type:"FeatureCollection",features:x.reduce((da,ya)=>da.concat(rc(ya)),[])}}function rc(x){return"FeatureCollection"===x.type?x.features:ja.array(x).filter(da=>null!=da).map(da=>"Feature"===
da.type?da:{type:"Feature",geometry:da})}const Sc=Math.sqrt(50),ra=Math.sqrt(10),Gb=Math.sqrt(2),Va=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];Cb.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},
{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};ja.inherits(Cb,l.Transform,{transform(x,da){if(this.value&&!da.changed()&&
!x.modified())return da.StopPropagation;var ya=da.fork(da.NO_SOURCE|da.NO_FIELDS);da=da.materialize(da.SOURCE).source;var Ia=x.field||ja.identity,Wa=Ba().smooth(!1!==x.smooth),qb=x.thresholds||xb(da,Ia,x),Sb=null===x.as?null:x.as||"contour",Hb=[];da.forEach(Pb=>{const uc=Ia(Pb),yc=Wa.size([uc.width,uc.height])(uc.values,ja.isArray(qb)?qb:qb(uc.values));nb(yc,uc,Pb,x);yc.forEach(Kc=>{Hb.push(l.rederive(Pb,l.ingest(null!=Sb?{[Sb]:Kc}:Kc)))})});this.value&&(ya.rem=this.value);this.value=ya.source=ya.add=
Hb;return ya}});Ua.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const Ab="x y weight size cellSize bandwidth".split(" ");
ja.inherits(Ua,l.Transform,{transform(x,da){if(this.value&&!da.changed()&&!x.modified())return da.StopPropagation;var ya=da.fork(da.NO_SOURCE|da.NO_FIELDS);da=da.materialize(da.SOURCE).source;da=Ka(da,x.groupby);var Ia=(x.groupby||[]).map(ja.accessorName),Wa=Xa(ua(),x),qb=x.as||"grid",Sb=[];Sb=da.map(Hb=>{var Pb=l.ingest,uc={[qb]:Wa(Hb,x.counts)};Hb=Hb.dims;for(let yc=0;yc<Ia.length;++yc)uc[Ia[yc]]=Hb[yc];return Pb.call(l,uc)});this.value&&(ya.rem=this.value);this.value=ya.source=ya.add=Sb;return ya}});
jb.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};ja.inherits(jb,l.Transform,{transform(x,
da){if(this.value&&!da.changed()&&!x.modified())return da.StopPropagation;var ya=da.fork(da.NO_SOURCE|da.NO_FIELDS),Ia=Ba().smooth(!1!==x.smooth),Wa=x.values,qb=x.thresholds||bb(x.count||10,x.nice,!!Wa),Sb=x.size;if(!Wa){Wa=da.materialize(da.SOURCE).source;x=Xa(ua(),x)(Wa,!0);var Hb=Db(x,x.scale||1,x.scale||1,0,0);Sb=[x.width,x.height];Wa=x.values}qb=ja.isArray(qb)?qb:qb(Wa);Wa=Ia.size(Sb)(Wa,qb);Hb&&Wa.forEach(Hb);this.value&&(ya.rem=this.value);this.value=ya.source=ya.add=(Wa||[]).map(l.ingest);
return ya}});gb.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};ja.inherits(gb,l.Transform,{transform(x,da){var ya=this._features,Ia=this._points,Wa=x.fields,qb=Wa&&Wa[0],Sb=Wa&&Wa[1],Hb=x.geojson||!Wa&&ja.identity;Wa=da.ADD;x=x.modified()||da.changed(da.REM)||da.modified(ja.accessorFields(Hb))||qb&&da.modified(ja.accessorFields(qb))||Sb&&da.modified(ja.accessorFields(Sb));if(!this.value||x)Wa=da.SOURCE,this._features=ya=
[],this._points=Ia=[];Hb&&da.visit(Wa,Pb=>ya.push(Hb(Pb)));qb&&Sb&&(da.visit(Wa,Pb=>{var uc=qb(Pb);Pb=Sb(Pb);null!=uc&&null!=Pb&&(uc=+uc)===uc&&(Pb=+Pb)===Pb&&Ia.push([uc,Pb])}),ya=ya.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:Ia}}));this.value={type:"FeatureCollection",features:ya}}});wb.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",
"default":"path"}]};ja.inherits(wb,l.Transform,{transform(x,da){var ya=da.fork(da.ALL),Ia=this.value,Wa=x.field||ja.identity,qb=x.as||"path",Sb=ya.SOURCE;!Ia||x.modified()?(this.value=Ia=vb.getProjectionPath(x.projection),ya.materialize().reflow()):Sb=Wa===ja.identity||da.modified(Wa.fields)?ya.ADD_MOD:ya.ADD;x=Ub(Ia,x.pointRadius);ya.visit(Sb,Hb=>Hb[qb]=Ia(Wa(Hb)));Ia.pointRadius(x);return ya.modifies(qb)}});Na.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",
required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};ja.inherits(Na,l.Transform,{transform(x,da){function ya(uc){const yc=Ia([Wa(uc),qb(uc)]);yc?(uc[Hb]=yc[0],uc[Pb]=yc[1]):(uc[Hb]=void 0,uc[Pb]=void 0)}var Ia=x.projection,Wa=x.fields[0],qb=x.fields[1],Sb=x.as||["x","y"],Hb=Sb[0],Pb=Sb[1];x.modified()?da=da.materialize().reflow(!0).visit(da.SOURCE,ya):(x=da.modified(Wa.fields)||da.modified(qb.fields),da.visit(x?da.ADD_MOD:
da.ADD,ya));return da.modifies(Sb)}});U.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};ja.inherits(U,l.Transform,{transform(x,da){da=da.fork(da.ALL);var ya=this.value,Ia=x.as||"shape",Wa=da.ADD;if(!ya||x.modified())this.value=ya=ea(vb.getProjectionPath(x.projection),x.field||ja.field("datum"),x.pointRadius),
da.materialize().reflow(),Wa=da.SOURCE;da.visit(Wa,qb=>qb[Ia]=ya);return da.modifies(Ia)}});var Jb=Math.abs,Eb=Math.ceil;ma.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,
length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};ja.inherits(ma,l.Transform,{transform(x,da){var ya=this.value,Ia=this.generator;if(!ya.length||x.modified())for(const Wa in x)if(ja.isFunction(Ia[Wa]))Ia[Wa](x[Wa]);x=Ia();ya.length?da.mod.push(l.replace(ya[0],x)):da.add.push(l.ingest(x));ya[0]=x;return da}});var Wb=1/.7,ic=/^#([0-9a-f]{3,8})$/,wc=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),
Zc=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Pc=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),oa=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
Ma=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),ib=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),V={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,
bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,
darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,
lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,
mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,
plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,
yellow:16776960,yellowgreen:10145074};na(G,T,{copy(x){return Object.assign(new this.constructor,this,x)},displayable(){return this.rgb().displayable()},hex:M,formatHex:M,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Aa(this).formatHsl()},formatRgb:y,toString:y});na(B,P,n(G,{brighter(x){x=null==x?Wb:Math.pow(Wb,x);return new B(this.r*x,this.g*x,this.b*x,this.opacity)},darker(x){x=null==x?.7:Math.pow(.7,x);return new B(this.r*x,this.g*x,this.b*x,this.opacity)},rgb(){return this},
clamp(){return new B(Ea(this.r),Ea(this.g),Ea(this.b),X(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:E,formatHex:E,formatHex8:function(){return`#${R(this.r)}${R(this.g)}${R(this.b)}${R(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:I,toString:I}));na(Pa,function(x,da,ya,Ia){return 1===arguments.length?Aa(x):new Pa(x,da,ya,null==Ia?1:Ia)},n(G,{brighter(x){x=null==x?Wb:Math.pow(Wb,x);
return new Pa(this.h,this.s,this.l*x,this.opacity)},darker(x){x=null==x?.7:Math.pow(.7,x);return new Pa(this.h,this.s,this.l*x,this.opacity)},rgb(){var x=this.h%360+360*(0>this.h),da=isNaN(x)||isNaN(this.s)?0:this.s,ya=this.l;da=ya+(.5>ya?ya:1-ya)*da;ya=2*ya-da;return new B(zb(240<=x?x-240:x+120,ya,da),zb(x,ya,da),zb(120>x?x+240:x-120,ya,da),this.opacity)},clamp(){return new Pa(Ra(this.h),fb(this.s),fb(this.l),X(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&
1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const x=X(this.opacity);return`${1===x?"hsl(":"hsla("}${Ra(this.h)}, ${100*fb(this.s)}%, ${100*fb(this.l)}%${1===x?")":`, ${x})`}`}}));kb.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"as",type:"string","default":"image"}]};ja.inherits(kb,
l.Transform,{transform(x,da){if(!da.changed()&&!x.modified())return da.StopPropagation;var ya=da.materialize(da.SOURCE).source,Ia="shared"===x.resolve,Wa=x.field||ja.identity,qb=aa(x.opacity,x),Sb=Vb(x.color,x),Hb=x.as||"image",Pb={$x:0,$y:0,$value:0,$max:Ia?yb(ya.map(uc=>yb(Wa(uc).values))):0};ya.forEach(uc=>{const yc=Wa(uc),Kc=ja.extend({},uc,Pb);Ia||(Kc.$max=yb(yc.values||[]));uc[Hb]=Qb(yc,Kc,Sb.dep?Sb:ja.constant(Sb(Kc)),qb.dep?qb:ja.constant(qb(Kc)))});return da.reflow(!0).modifies(Hb)}});ja.inherits(nc,
l.Transform,{transform(x,da){let ya=this.value;!ya||x.modified("type")?(this.value=ya=Ob(x.type),vb.projectionProperties.forEach(Ia=>{if(null!=x[Ia]){var Wa=ya,qb=x[Ia];if(ja.isFunction(Wa[Ia]))Wa[Ia](qb)}})):vb.projectionProperties.forEach(Ia=>{if(x.modified(Ia)){var Wa=ya,qb=x[Ia];if(ja.isFunction(Wa[Ia]))Wa[Ia](qb)}});null!=x.pointRadius&&ya.path.pointRadius(x.pointRadius);x.fit&&$b(ya,x);return da.fork(da.NO_SOURCE|da.NO_FIELDS)}});u.contour=jb;u.geojson=gb;u.geopath=wb;u.geopoint=Na;u.geoshape=
U;u.graticule=ma;u.heatmap=kb;u.isocontour=Cb;u.kde2d=Ua;u.projection=nc})};
shadow$provide[42]=function(Fb,pb,zc,Za){(function(u,l){"object"===typeof Za&&"undefined"!==typeof zc?l(Za,pb(32),pb(24)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l((u.vega=u.vega||{},u.vega.transforms={}),u.vega,u.vega))})(this,function(u,l,ja){function $a(R,ia,Aa,Pa){if(isNaN(ia)||isNaN(Aa))return R;var Ra,fb=R._root;Pa={data:Pa};var zb=R._x0,kb=R._y0,Vb=R._x1,aa=R._y1,Ga,Qb,nc,$b,Ob;if(!fb)return R._root=
Pa,R;for(;fb.length;)if((nc=ia>=(Ga=(zb+Vb)/2))?zb=Ga:Vb=Ga,($b=Aa>=(Qb=(kb+aa)/2))?kb=Qb:aa=Qb,Ra=fb,!(fb=fb[Ob=$b<<1|nc]))return Ra[Ob]=Pa,R;var Nb=+R._x.call(null,fb.data);var rc=+R._y.call(null,fb.data);if(ia===Nb&&Aa===rc)return Pa.next=fb,Ra?Ra[Ob]=Pa:R._root=Pa,R;do Ra=Ra?Ra[Ob]=Array(4):R._root=Array(4),(nc=ia>=(Ga=(zb+Vb)/2))?zb=Ga:Vb=Ga,($b=Aa>=(Qb=(kb+aa)/2))?kb=Qb:aa=Qb;while((Ob=$b<<1|nc)===(nc=(rc>=Qb)<<1|Nb>=Ga));return Ra[nc]=fb,Ra[Ob]=Pa,R}function vb(R,ia,Aa,Pa,Ra){this.node=R;this.x0=
ia;this.y0=Aa;this.x1=Pa;this.y1=Ra}function Xb(R){return R[0]}function ec(R){return R[1]}function Bb(R,ia,Aa){ia=new yb(null==ia?Xb:ia,null==Aa?ec:Aa,NaN,NaN,NaN,NaN);return null==R?ia:ia.addAll(R)}function yb(R,ia,Aa,Pa,Ra,fb){this._x=R;this._y=ia;this._x0=Aa;this._y0=Pa;this._x1=Ra;this._y1=fb;this._root=void 0}function ub(R){for(var ia={data:R.data},Aa=ia;R=R.next;)Aa=Aa.next={data:R.data};return ia}function Lb(R){return function(){return R}}function Yb(R){return R.x+R.vx}function Ba(R){return R.y+
R.vy}function bb(R){return R.index}function Cb(R,ia){R=R.get(ia);if(!R)throw Error("node not found: "+ia);return R}function xb(){for(var R=0,ia=arguments.length,Aa={},Pa;R<ia;++R){if(!(Pa=arguments[R]+"")||Pa in Aa||/[\s.]/.test(Pa))throw Error("illegal type: "+Pa);Aa[Pa]=[]}return new nb(Aa)}function nb(R){this._=R}function Db(R,ia){return R.trim().split(/^|\s+/).map(function(Aa){var Pa="",Ra=Aa.indexOf(".");0<=Ra&&(Pa=Aa.slice(Ra+1),Aa=Aa.slice(0,Ra));if(Aa&&!ia.hasOwnProperty(Aa))throw Error("unknown type: "+
Aa);return{type:Aa,name:Pa}})}function lb(R,ia,Aa){for(var Pa=0,Ra=R.length;Pa<Ra;++Pa)if(R[Pa].name===ia){R[Pa]=Ca;R=R.slice(0,Pa).concat(R.slice(Pa+1));break}null!=Aa&&R.push({name:ia,value:Aa});return R}function lc(){T=0}function ua(){this._call=this._time=this._next=null}function ha(R,ia,Aa){var Pa=new ua;Pa.restart(R,ia,Aa);return Pa}function xa(){T=(y=A.now())+D;ma=na=0;try{T||(P(lc),T=A.now()+D);++ma;for(var R=G,ia;R;)0<=(ia=T-R._time)&&R._call.call(void 0,ia),R=R._next;--ma}finally{ma=0;R=
G;for(var Aa=Infinity;R;)if(R._call){Aa>R._time&&(Aa=R._time);var Pa=R;R=R._next}else ia=R._next,R._next=null,R=Pa?Pa._next=ia:G=ia;M=Pa;Xa(Aa);T=0}}function Ua(){var R=A.now(),ia=R-y;1E3<ia&&(D-=ia,y=R)}function Xa(R){ma||(na&&(na=clearTimeout(na)),24<R-T?(Infinity>R&&(na=setTimeout(xa,R-A.now()-D)),n&&(n=clearInterval(n))):(n||(y=A.now(),n=setInterval(Ua,1E3)),ma=1,P(xa)))}function Ka(){let R=1;return()=>(R=(1664525*R+1013904223)%4294967296)/4294967296}function jb(R){return R.x}function gb(R){return R.y}
function wb(R){function ia(){Aa();$b.call("tick",fb);zb<kb&&(nc.stop(),$b.call("end",fb))}function Aa(Nb){var rc,Sc=R.length;void 0===Nb&&(Nb=1);for(var ra=0;ra<Nb;++ra)for(zb+=(aa-zb)*Vb,Qb.forEach(function(Va){Va(zb)}),rc=0;rc<Sc;++rc){var Gb=R[rc];null==Gb.fx?Gb.x+=Gb.vx*=Ga:(Gb.x=Gb.fx,Gb.vx=0);null==Gb.fy?Gb.y+=Gb.vy*=Ga:(Gb.y=Gb.fy,Gb.vy=0)}return fb}function Pa(){for(var Nb=0,rc=R.length,Sc;Nb<rc;++Nb){Sc=R[Nb];Sc.index=Nb;null!=Sc.fx&&(Sc.x=Sc.fx);null!=Sc.fy&&(Sc.y=Sc.fy);if(isNaN(Sc.x)||
isNaN(Sc.y)){var ra=10*Math.sqrt(.5+Nb),Gb=Nb*B;Sc.x=ra*Math.cos(Gb);Sc.y=ra*Math.sin(Gb)}if(isNaN(Sc.vx)||isNaN(Sc.vy))Sc.vx=Sc.vy=0}}function Ra(Nb){Nb.initialize&&Nb.initialize(R,Ob);return Nb}var fb,zb=1,kb=.001,Vb=1-Math.pow(kb,1/300),aa=0,Ga=.6,Qb=new Map,nc=ha(ia),$b=xb("tick","end"),Ob=Ka();null==R&&(R=[]);Pa();return fb={tick:Aa,restart:function(){return nc.restart(ia),fb},stop:function(){return nc.stop(),fb},nodes:function(Nb){return arguments.length?(R=Nb,Pa(),Qb.forEach(Ra),fb):R},alpha:function(Nb){return arguments.length?
(zb=+Nb,fb):zb},alphaMin:function(Nb){return arguments.length?(kb=+Nb,fb):kb},alphaDecay:function(Nb){return arguments.length?(Vb=+Nb,fb):+Vb},alphaTarget:function(Nb){return arguments.length?(aa=+Nb,fb):aa},velocityDecay:function(Nb){return arguments.length?(Ga=1-Nb,fb):1-Ga},randomSource:function(Nb){return arguments.length?(Ob=Nb,Qb.forEach(Ra),fb):Ob},force:function(Nb,rc){return 1<arguments.length?(null==rc?Qb.delete(Nb):Qb.set(Nb,Ra(rc)),fb):Qb.get(Nb)},find:function(Nb,rc,Sc){var ra,Gb=R.length;
Sc=null==Sc?Infinity:Sc*Sc;for(ra=0;ra<Gb;++ra){var Va=R[ra];var Ab=Nb-Va.x;var Jb=rc-Va.y;Ab=Ab*Ab+Jb*Jb;if(Ab<Sc){var Eb=Va;Sc=Ab}}return Eb},on:function(Nb,rc){return 1<arguments.length?($b.on(Nb,rc),fb):$b.on(Nb)}}}function Ub(R){l.Transform.call(this,null,R)}function Na(R,ia){return()=>R.touch(ia).run()}function U(R,ia){R=wb(R);const Aa=R.stop,Pa=R.restart;let Ra=!1;R.stopped=()=>Ra;R.restart=()=>(Ra=!1,Pa());R.stop=()=>(Ra=!0,Aa());return ea(R,ia,!0).on("end",()=>Ra=!0)}function ea(R,ia,Aa,
Pa){var Ra=ja.array(ia.forces),fb;var zb=0;for(fb=I.length;zb<fb;++zb){var kb=I[zb];if("forces"!==kb&&ia.modified(kb))R[kb](ia[kb])}zb=0;for(fb=Ra.length;zb<fb;++zb){var Vb="forces"+zb;if(Aa||ia.modified("forces",zb)){kb=void 0;var aa=Ra[zb];ja.hasOwnProperty(E,aa.force)||ja.error("Unrecognized force: "+aa.force);var Ga=E[aa.force]();for(kb in aa)ja.isFunction(Ga[kb])&&Ha(Ga[kb],aa[kb],aa);kb=Ga}else{if(kb=Pa)a:{Ga=kb=void 0;aa=Ra[zb];var Qb=Pa;for(Ga in aa)if(ja.isFunction(kb=aa[Ga])&&Qb.modified(ja.accessorFields(kb))){kb=
1;break a}kb=0}kb=kb?R.force(Vb):null}kb&&R.force(Vb,kb)}for(fb=R.numForces||0;zb<fb;++zb)R.force("forces"+zb,null);R.numForces=Ra.length;return R}function Ha(R,ia,Aa){R(ja.isFunction(ia)?Pa=>ia(Pa,Aa):ia)}var Y=Bb.prototype=yb.prototype;Y.copy=function(){var R=new yb(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ia=this._root,Aa,Pa;if(!ia)return R;if(!ia.length)return R._root=ub(ia),R;for(Aa=[{source:ia,target:R._root=Array(4)}];ia=Aa.pop();)for(var Ra=0;4>Ra;++Ra)if(Pa=ia.source[Ra])Pa.length?
Aa.push({source:Pa,target:ia.target[Ra]=Array(4)}):ia.target[Ra]=ub(Pa);return R};Y.add=function(R){const ia=+this._x.call(null,R),Aa=+this._y.call(null,R);return $a(this.cover(ia,Aa),ia,Aa,R)};Y.addAll=function(R){var ia,Aa,Pa=R.length,Ra,fb,zb=Array(Pa),kb=Array(Pa),Vb=Infinity,aa=Infinity,Ga=-Infinity,Qb=-Infinity;for(Aa=0;Aa<Pa;++Aa)isNaN(Ra=+this._x.call(null,ia=R[Aa]))||isNaN(fb=+this._y.call(null,ia))||(zb[Aa]=Ra,kb[Aa]=fb,Ra<Vb&&(Vb=Ra),Ra>Ga&&(Ga=Ra),fb<aa&&(aa=fb),fb>Qb&&(Qb=fb));if(Vb>
Ga||aa>Qb)return this;this.cover(Vb,aa).cover(Ga,Qb);for(Aa=0;Aa<Pa;++Aa)$a(this,zb[Aa],kb[Aa],R[Aa]);return this};Y.cover=function(R,ia){if(isNaN(R=+R)||isNaN(ia=+ia))return this;var Aa=this._x0,Pa=this._y0,Ra=this._x1,fb=this._y1;if(isNaN(Aa))Ra=(Aa=Math.floor(R))+1,fb=(Pa=Math.floor(ia))+1;else{for(var zb=Ra-Aa||1,kb=this._root,Vb,aa;Aa>R||R>=Ra||Pa>ia||ia>=fb;)switch(aa=(ia<Pa)<<1|R<Aa,Vb=Array(4),Vb[aa]=kb,kb=Vb,zb*=2,aa){case 0:Ra=Aa+zb;fb=Pa+zb;break;case 1:Aa=Ra-zb;fb=Pa+zb;break;case 2:Ra=
Aa+zb;Pa=fb-zb;break;case 3:Aa=Ra-zb,Pa=fb-zb}this._root&&this._root.length&&(this._root=kb)}this._x0=Aa;this._y0=Pa;this._x1=Ra;this._y1=fb;return this};Y.data=function(){var R=[];this.visit(function(ia){if(!ia.length){do R.push(ia.data);while(ia=ia.next)}});return R};Y.extent=function(R){return arguments.length?this.cover(+R[0][0],+R[0][1]).cover(+R[1][0],+R[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};Y.find=function(R,ia,Aa){var Pa=this._x0,Ra=this._y0,fb,zb,kb,Vb,
aa=this._x1,Ga=this._y1,Qb=[],nc=this._root,$b;nc&&Qb.push(new vb(nc,Pa,Ra,aa,Ga));null==Aa?Aa=Infinity:(Pa=R-Aa,Ra=ia-Aa,aa=R+Aa,Ga=ia+Aa,Aa*=Aa);for(;$b=Qb.pop();)if(!(!(nc=$b.node)||(fb=$b.x0)>aa||(zb=$b.y0)>Ga||(kb=$b.x1)<Pa||(Vb=$b.y1)<Ra))if(nc.length){$b=(fb+kb)/2;var Ob=(zb+Vb)/2;Qb.push(new vb(nc[3],$b,Ob,kb,Vb),new vb(nc[2],fb,Ob,$b,Vb),new vb(nc[1],$b,zb,kb,Ob),new vb(nc[0],fb,zb,$b,Ob));if(nc=(ia>=Ob)<<1|R>=$b)$b=Qb[Qb.length-1],Qb[Qb.length-1]=Qb[Qb.length-1-nc],Qb[Qb.length-1-nc]=$b}else if($b=
R-+this._x.call(null,nc.data),Ob=ia-+this._y.call(null,nc.data),$b=$b*$b+Ob*Ob,$b<Aa){var Nb=Math.sqrt(Aa=$b);Pa=R-Nb;Ra=ia-Nb;aa=R+Nb;Ga=ia+Nb;Nb=nc.data}return Nb};Y.remove=function(R){if(isNaN(Vb=+this._x.call(null,R))||isNaN(aa=+this._y.call(null,R)))return this;var ia,Aa=this._root,Pa,Ra=this._x0,fb=this._y0,zb=this._x1,kb=this._y1,Vb,aa,Ga,Qb,nc,$b,Ob;if(!Aa)return this;if(Aa.length)for(;;){(nc=Vb>=(Ga=(Ra+zb)/2))?Ra=Ga:zb=Ga;($b=aa>=(Qb=(fb+kb)/2))?fb=Qb:kb=Qb;if(!(ia=Aa,Aa=Aa[Ob=$b<<1|nc]))return this;
if(!Aa.length)break;if(ia[Ob+1&3]||ia[Ob+2&3]||ia[Ob+3&3]){var Nb=ia;var rc=Ob}}for(;Aa.data!==R;)if(!(Pa=Aa,Aa=Aa.next))return this;(R=Aa.next)&&delete Aa.next;if(Pa)return R?Pa.next=R:delete Pa.next,this;if(!ia)return this._root=R,this;R?ia[Ob]=R:delete ia[Ob];(Aa=ia[0]||ia[1]||ia[2]||ia[3])&&Aa===(ia[3]||ia[2]||ia[1]||ia[0])&&!Aa.length&&(Nb?Nb[rc]=Aa:this._root=Aa);return this};Y.removeAll=function(R){for(var ia=0,Aa=R.length;ia<Aa;++ia)this.remove(R[ia]);return this};Y.root=function(){return this._root};
Y.size=function(){var R=0;this.visit(function(ia){if(!ia.length){do++R;while(ia=ia.next)}});return R};Y.visit=function(R){var ia=[],Aa,Pa=this._root,Ra,fb,zb,kb,Vb;for(Pa&&ia.push(new vb(Pa,this._x0,this._y0,this._x1,this._y1));Aa=ia.pop();)if(!R(Pa=Aa.node,fb=Aa.x0,zb=Aa.y0,kb=Aa.x1,Vb=Aa.y1)&&Pa.length){Aa=(fb+kb)/2;var aa=(zb+Vb)/2;(Ra=Pa[3])&&ia.push(new vb(Ra,Aa,aa,kb,Vb));(Ra=Pa[2])&&ia.push(new vb(Ra,fb,aa,Aa,Vb));(Ra=Pa[1])&&ia.push(new vb(Ra,Aa,zb,kb,aa));(Ra=Pa[0])&&ia.push(new vb(Ra,fb,
zb,Aa,aa))}return this};Y.visitAfter=function(R){var ia=[],Aa=[],Pa;for(this._root&&ia.push(new vb(this._root,this._x0,this._y0,this._x1,this._y1));Pa=ia.pop();){var Ra=Pa.node;if(Ra.length){var fb,zb=Pa.x0,kb=Pa.y0,Vb=Pa.x1,aa=Pa.y1,Ga=(zb+Vb)/2,Qb=(kb+aa)/2;(fb=Ra[0])&&ia.push(new vb(fb,zb,kb,Ga,Qb));(fb=Ra[1])&&ia.push(new vb(fb,Ga,kb,Vb,Qb));(fb=Ra[2])&&ia.push(new vb(fb,zb,Qb,Ga,aa));(fb=Ra[3])&&ia.push(new vb(fb,Ga,Qb,Vb,aa))}Aa.push(Pa)}for(;Pa=Aa.pop();)R(Pa.node,Pa.x0,Pa.y0,Pa.x1,Pa.y1);
return this};Y.x=function(R){return arguments.length?(this._x=R,this):this._x};Y.y=function(R){return arguments.length?(this._y=R,this):this._y};var Ca={value:()=>{}};nb.prototype=xb.prototype={constructor:nb,on:function(R,ia){var Aa=this._,Pa=Db(R+"",Aa),Ra,fb=-1,zb=Pa.length;if(2>arguments.length)for(;++fb<zb;){var kb;if(kb=Ra=(R=Pa[fb]).type){a:{kb=Aa[Ra];for(var Vb=0,aa=kb.length;Vb<aa;++Vb)if((Ra=kb[Vb]).name===R.name){Ra=Ra.value;break a}Ra=void 0}kb=Ra}if(kb)return Ra}else{if(null!=ia&&"function"!==
typeof ia)throw Error("invalid callback: "+ia);for(;++fb<zb;)if(Ra=(R=Pa[fb]).type)Aa[Ra]=lb(Aa[Ra],R.name,ia);else if(null==ia)for(Ra in Aa)Aa[Ra]=lb(Aa[Ra],R.name,null);return this}},copy:function(){var R={},ia=this._,Aa;for(Aa in ia)R[Aa]=ia[Aa].slice();return new nb(R)},call:function(R,ia){if(0<(Ra=arguments.length-2))for(var Aa=Array(Ra),Pa=0,Ra,fb;Pa<Ra;++Pa)Aa[Pa]=arguments[Pa+2];if(!this._.hasOwnProperty(R))throw Error("unknown type: "+R);fb=this._[R];Pa=0;for(Ra=fb.length;Pa<Ra;++Pa)fb[Pa].value.apply(ia,
Aa)},apply:function(R,ia,Aa){if(!this._.hasOwnProperty(R))throw Error("unknown type: "+R);R=this._[R];for(var Pa=0,Ra=R.length;Pa<Ra;++Pa)R[Pa].value.apply(ia,Aa)}};var ma=0,na=0,n=0,G,M,y=0,T=0,D=0,A="object"===typeof performance&&performance.now?performance:Date,P="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(R){setTimeout(R,17)};ua.prototype=ha.prototype={constructor:ua,restart:function(R,ia,Aa){if("function"!==typeof R)throw new TypeError("callback is not a function");
Aa=(null==Aa?T||(P(lc),T=A.now()+D):+Aa)+(null==ia?0:+ia);this._next||M===this||(M?M._next=this:G=this,M=this);this._call=R;this._time=Aa;Xa()},stop:function(){this._call&&(this._call=null,this._time=Infinity,Xa())}};var B=Math.PI*(3-Math.sqrt(5));const E={center:function(R,ia){function Aa(){var fb,zb=Pa.length,kb=0,Vb=0;for(fb=0;fb<zb;++fb){var aa=Pa[fb];kb+=aa.x;Vb+=aa.y}kb=(kb/zb-R)*Ra;Vb=(Vb/zb-ia)*Ra;for(fb=0;fb<zb;++fb)aa=Pa[fb],aa.x-=kb,aa.y-=Vb}var Pa,Ra=1;null==R&&(R=0);null==ia&&(ia=0);
Aa.initialize=function(fb){Pa=fb};Aa.x=function(fb){return arguments.length?(R=+fb,Aa):R};Aa.y=function(fb){return arguments.length?(ia=+fb,Aa):ia};Aa.strength=function(fb){return arguments.length?(Ra=+fb,Aa):Ra};return Aa},collide:function(R){function ia(){function aa(Gb,Va,Ab,Jb,Eb){var Wb=Gb.data;Gb=Gb.r;var ic=rc+Gb;if(Wb)Wb.index>$b.index&&(Va=Ob-Wb.x-Wb.vx,Ab=Nb-Wb.y-Wb.vy,Jb=Va*Va+Ab*Ab,Jb<ic*ic&&(0===Va&&(Va=1E-6*(zb()-.5),Jb+=Va*Va),0===Ab&&(Ab=1E-6*(zb()-.5),Jb+=Ab*Ab),Jb=(ic-(Jb=Math.sqrt(Jb)))/
Jb*kb,$b.vx+=(Va*=Jb)*(ic=(Gb*=Gb)/(Sc+Gb)),$b.vy+=(Ab*=Jb)*ic,Wb.vx-=Va*(ic=1-ic),Wb.vy-=Ab*ic));else return Va>Ob+ic||Jb<Ob-ic||Ab>Nb+ic||Eb<Nb-ic}for(var Ga,Qb=Ra.length,nc,$b,Ob,Nb,rc,Sc,ra=0;ra<Vb;++ra)for(nc=Bb(Ra,Yb,Ba).visitAfter(Aa),Ga=0;Ga<Qb;++Ga)$b=Ra[Ga],rc=fb[$b.index],Sc=rc*rc,Ob=$b.x+$b.vx,Nb=$b.y+$b.vy,nc.visit(aa)}function Aa(aa){if(aa.data)return aa.r=fb[aa.data.index];for(var Ga=aa.r=0;4>Ga;++Ga)aa[Ga]&&aa[Ga].r>aa.r&&(aa.r=aa[Ga].r)}function Pa(){if(Ra){var aa,Ga=Ra.length;fb=
Array(Ga);for(aa=0;aa<Ga;++aa){var Qb=Ra[aa];fb[Qb.index]=+R(Qb,aa,Ra)}}}var Ra,fb,zb,kb=1,Vb=1;"function"!==typeof R&&(R=Lb(null==R?1:+R));ia.initialize=function(aa,Ga){Ra=aa;zb=Ga;Pa()};ia.iterations=function(aa){return arguments.length?(Vb=+aa,ia):Vb};ia.strength=function(aa){return arguments.length?(kb=+aa,ia):kb};ia.radius=function(aa){return arguments.length?(R="function"===typeof aa?aa:Lb(+aa),Pa(),ia):R};return ia},nbody:function(){function R($b){var Ob=Ra.length,Nb=Bb(Ra,jb,gb).visitAfter(Aa);
kb=$b;for($b=0;$b<Ob;++$b)fb=Ra[$b],Nb.visit(Pa)}function ia(){if(Ra){var $b,Ob=Ra.length;aa=Array(Ob);for($b=0;$b<Ob;++$b){var Nb=Ra[$b];aa[Nb.index]=+Vb(Nb,$b,Ra)}}}function Aa($b){var Ob=0,Nb,rc,Sc=0,ra,Gb,Va;if($b.length){for(ra=Gb=Va=0;4>Va;++Va)(Nb=$b[Va])&&(rc=Math.abs(Nb.value))&&(Ob+=Nb.value,Sc+=rc,ra+=rc*Nb.x,Gb+=rc*Nb.y);$b.x=ra/Sc;$b.y=Gb/Sc}else{Nb=$b;Nb.x=Nb.data.x;Nb.y=Nb.data.y;do Ob+=aa[Nb.data.index];while(Nb=Nb.next)}$b.value=Ob}function Pa($b,Ob,Nb,rc){if(!$b.value)return!0;Nb=
$b.x-fb.x;var Sc=$b.y-fb.y;Ob=rc-Ob;rc=Nb*Nb+Sc*Sc;if(Ob*Ob/nc<rc)return rc<Qb&&(0===Nb&&(Nb=1E-6*(zb()-.5),rc+=Nb*Nb),0===Sc&&(Sc=1E-6*(zb()-.5),rc+=Sc*Sc),rc<Ga&&(rc=Math.sqrt(Ga*rc)),fb.vx+=Nb*$b.value*kb/rc,fb.vy+=Sc*$b.value*kb/rc),!0;if(!($b.length||rc>=Qb)){if($b.data!==fb||$b.next)0===Nb&&(Nb=1E-6*(zb()-.5),rc+=Nb*Nb),0===Sc&&(Sc=1E-6*(zb()-.5),rc+=Sc*Sc),rc<Ga&&(rc=Math.sqrt(Ga*rc));do $b.data!==fb&&(Ob=aa[$b.data.index]*kb/rc,fb.vx+=Nb*Ob,fb.vy+=Sc*Ob);while($b=$b.next)}}var Ra,fb,zb,kb,
Vb=Lb(-30),aa,Ga=1,Qb=Infinity,nc=.81;R.initialize=function($b,Ob){Ra=$b;zb=Ob;ia()};R.strength=function($b){return arguments.length?(Vb="function"===typeof $b?$b:Lb(+$b),ia(),R):Vb};R.distanceMin=function($b){return arguments.length?(Ga=$b*$b,R):Math.sqrt(Ga)};R.distanceMax=function($b){return arguments.length?(Qb=$b*$b,R):Math.sqrt(Qb)};R.theta=function($b){return arguments.length?(nc=$b*$b,R):Math.sqrt(nc)};return R},link:function(R){function ia(Nb){for(var rc=0,Sc=R.length;rc<Ob;++rc)for(var ra=
0,Gb,Va,Ab,Jb,Eb;ra<Sc;++ra)Gb=R[ra],Va=Gb.source,Gb=Gb.target,Ab=Gb.x+Gb.vx-Va.x-Va.vx||1E-6*($b()-.5),Jb=Gb.y+Gb.vy-Va.y-Va.vy||1E-6*($b()-.5),Eb=Math.sqrt(Ab*Ab+Jb*Jb),Eb=(Eb-aa[ra])/Eb*Nb*kb[ra],Ab*=Eb,Jb*=Eb,Gb.vx-=Ab*(Eb=nc[ra]),Gb.vy-=Jb*Eb,Va.vx+=Ab*(Eb=1-Eb),Va.vy+=Jb*Eb}function Aa(){if(Ga){var Nb=Ga.length,rc=R.length,Sc=new Map(Ga.map((Gb,Va)=>[fb(Gb,Va,Ga),Gb]));var ra=0;for(Qb=Array(Nb);ra<rc;++ra)Nb=R[ra],Nb.index=ra,"object"!==typeof Nb.source&&(Nb.source=Cb(Sc,Nb.source)),"object"!==
typeof Nb.target&&(Nb.target=Cb(Sc,Nb.target)),Qb[Nb.source.index]=(Qb[Nb.source.index]||0)+1,Qb[Nb.target.index]=(Qb[Nb.target.index]||0)+1;ra=0;for(nc=Array(rc);ra<rc;++ra)Nb=R[ra],nc[ra]=Qb[Nb.source.index]/(Qb[Nb.source.index]+Qb[Nb.target.index]);kb=Array(rc);Pa();aa=Array(rc);Ra()}}function Pa(){if(Ga)for(var Nb=0,rc=R.length;Nb<rc;++Nb)kb[Nb]=+zb(R[Nb],Nb,R)}function Ra(){if(Ga)for(var Nb=0,rc=R.length;Nb<rc;++Nb)aa[Nb]=+Vb(R[Nb],Nb,R)}var fb=bb,zb=function(Nb){return 1/Math.min(Qb[Nb.source.index],
Qb[Nb.target.index])},kb,Vb=Lb(30),aa,Ga,Qb,nc,$b,Ob=1;null==R&&(R=[]);ia.initialize=function(Nb,rc){Ga=Nb;$b=rc;Aa()};ia.links=function(Nb){return arguments.length?(R=Nb,Aa(),ia):R};ia.id=function(Nb){return arguments.length?(fb=Nb,ia):fb};ia.iterations=function(Nb){return arguments.length?(Ob=+Nb,ia):Ob};ia.strength=function(Nb){return arguments.length?(zb="function"===typeof Nb?Nb:Lb(+Nb),Pa(),ia):zb};ia.distance=function(Nb){return arguments.length?(Vb="function"===typeof Nb?Nb:Lb(+Nb),Ra(),ia):
Vb};return ia},x:function(R){function ia(kb){for(var Vb=0,aa=Ra.length,Ga;Vb<aa;++Vb)Ga=Ra[Vb],Ga.vx+=(zb[Vb]-Ga.x)*fb[Vb]*kb}function Aa(){if(Ra){var kb,Vb=Ra.length;fb=Array(Vb);zb=Array(Vb);for(kb=0;kb<Vb;++kb)fb[kb]=isNaN(zb[kb]=+R(Ra[kb],kb,Ra))?0:+Pa(Ra[kb],kb,Ra)}}var Pa=Lb(.1),Ra,fb,zb;"function"!==typeof R&&(R=Lb(null==R?0:+R));ia.initialize=function(kb){Ra=kb;Aa()};ia.strength=function(kb){return arguments.length?(Pa="function"===typeof kb?kb:Lb(+kb),Aa(),ia):Pa};ia.x=function(kb){return arguments.length?
(R="function"===typeof kb?kb:Lb(+kb),Aa(),ia):R};return ia},y:function(R){function ia(kb){for(var Vb=0,aa=Ra.length,Ga;Vb<aa;++Vb)Ga=Ra[Vb],Ga.vy+=(zb[Vb]-Ga.y)*fb[Vb]*kb}function Aa(){if(Ra){var kb,Vb=Ra.length;fb=Array(Vb);zb=Array(Vb);for(kb=0;kb<Vb;++kb)fb[kb]=isNaN(zb[kb]=+R(Ra[kb],kb,Ra))?0:+Pa(Ra[kb],kb,Ra)}}var Pa=Lb(.1),Ra,fb,zb;"function"!==typeof R&&(R=Lb(null==R?0:+R));ia.initialize=function(kb){Ra=kb;Aa()};ia.strength=function(kb){return arguments.length?(Pa="function"===typeof kb?kb:
Lb(+kb),Aa(),ia):Pa};ia.y=function(kb){return arguments.length?(R="function"===typeof kb?kb:Lb(+kb),Aa(),ia):R};return ia}},I=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],X=["static","iterations"],Ea=["x","y","vx","vy"];Ub.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number","default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number",
"default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30,expr:!0},
{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number","default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},
{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":Ea}]};ja.inherits(Ub,l.Transform,{transform(R,ia){var Aa=this.value,Pa=ia.changed(ia.ADD_REM),Ra=R.modified(I),fb=R.iterations||300;Aa?(Pa&&(ia.modifies("index"),Aa.nodes(ia.source)),(Ra||ia.changed(ia.MOD))&&ea(Aa,R,0,ia)):(this.value=Aa=U(ia.source,R),Aa.on("tick",Na(ia.dataflow,this)),R.static||(Pa=!0,Aa.tick()),ia.modifies("index"));if(Ra||Pa||R.modified(X)||ia.changed()&&R.restart)if(Aa.alpha(Math.max(Aa.alpha(),
R.alpha||1)).alphaDecay(1-Math.pow(Aa.alphaMin(),1/fb)),R.static)for(Aa.stop();0<=--fb;)Aa.tick();else if(Aa.stopped()&&Aa.restart(),!Pa)return ia.StopPropagation;return this.finish(R,ia)},finish(R,ia){const Aa=ia.dataflow;for(let kb=this._argops,Vb=0,aa=kb.length,Ga;Vb<aa;++Vb)if(Ga=kb[Vb],"forces"===Ga.name&&"link"===Ga.op._argval.force)for(var Pa=Ga.op._argops,Ra=0,fb=Pa.length,zb;Ra<fb;++Ra)if("links"===Pa[Ra].name&&(zb=Pa[Ra].op.source)){Aa.pulse(zb,Aa.changeset().reflow());break}return ia.reflow(R.modified()).modifies(Ea)}});
u.force=Ub})};
shadow$provide[43]=function(Fb,pb,zc,Za){(function(u,l){"object"===typeof Za&&"undefined"!==typeof zc?l(Za,pb(32),pb(24)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega,u.vega))})(this,function(u,l,ja){function $a(ra,Gb,Va){const Ab={};ra.each(Jb=>{const Eb=Jb.data;Va(Eb)&&(Ab[Gb(Eb)]=Jb)});ra.lookup=Ab;return ra}function vb(ra,Gb){return ra.parent===Gb.parent?1:2}function Xb(ra,Gb){return ra+
Gb.x}function ec(ra,Gb){return Math.max(ra,Gb.y)}function Bb(ra){for(var Gb;Gb=ra.children;)ra=Gb[0];return ra}function yb(ra){for(var Gb;Gb=ra.children;)ra=Gb[Gb.length-1];return ra}function ub(ra){var Gb=0,Va=ra.children,Ab=Va&&Va.length;if(Ab)for(;0<=--Ab;)Gb+=Va[Ab].value;else Gb=1;ra.value=Gb}function Lb(ra,Gb){ra instanceof Map?(ra=[void 0,ra],void 0===Gb&&(Gb=Ba)):void 0===Gb&&(Gb=Yb);ra=new xb(ra);for(var Va,Ab=[ra],Jb,Eb,Wb,ic;Va=Ab.pop();)if((Eb=Gb(Va.data))&&(ic=(Eb=Array.from(Eb)).length))for(Va.children=
Eb,Wb=ic-1;0<=Wb;--Wb)Ab.push(Jb=Eb[Wb]=new xb(Eb[Wb])),Jb.parent=Va,Jb.depth=Va.depth+1;return ra.eachBefore(Cb)}function Yb(ra){return ra.children}function Ba(ra){return Array.isArray(ra)?ra[1]:null}function bb(ra){void 0!==ra.data.value&&(ra.value=ra.data.value);ra.data=ra.data.data}function Cb(ra){var Gb=0;do ra.height=Gb;while((ra=ra.parent)&&ra.height<++Gb)}function xb(ra){this.data=ra;this.depth=this.height=0;this.parent=null}function nb(ra){if("function"!==typeof ra)throw Error();return ra}
function Db(){return 0}function lb(ra){return function(){return ra}}function lc(){let ra=1;return()=>(ra=(1664525*ra+1013904223)%4294967296)/4294967296}function ua(ra,Gb){var Va=ra.r-Gb.r,Ab=Gb.x-ra.x;ra=Gb.y-ra.y;return 0>Va||Va*Va<Ab*Ab+ra*ra}function ha(ra,Gb){var Va=ra.r-Gb.r+1E-9*Math.max(ra.r,Gb.r,1),Ab=Gb.x-ra.x;ra=Gb.y-ra.y;return 0<Va&&Va*Va>Ab*Ab+ra*ra}function xa(ra,Gb){for(var Va=0;Va<Gb.length;++Va)if(!ha(ra,Gb[Va]))return!1;return!0}function Ua(ra,Gb){var Va=ra.x,Ab=ra.y;ra=ra.r;var Jb=
Gb.x,Eb=Gb.y;Gb=Gb.r;var Wb=Jb-Va,ic=Eb-Ab,wc=Gb-ra,Zc=Math.sqrt(Wb*Wb+ic*ic);return{x:(Va+Jb+Wb/Zc*wc)/2,y:(Ab+Eb+ic/Zc*wc)/2,r:(Zc+ra+Gb)/2}}function Xa(ra,Gb,Va){var Ab=ra.x,Jb=ra.y;ra=ra.r;var Eb=Gb.x,Wb=Gb.y,ic=Gb.r,wc=Va.x,Zc=Va.y,Pc=Va.r;Va=Ab-Eb;Gb=Ab-wc;var oa=Jb-Wb,Ma=Jb-Zc,ib=ic-ra,V=Pc-ra,x=Ab*Ab+Jb*Jb-ra*ra;Wb=x-Eb*Eb-Wb*Wb+ic*ic;Zc=x-wc*wc-Zc*Zc+Pc*Pc;wc=Gb*oa-Va*Ma;Eb=(oa*Zc-Ma*Wb)/(2*wc)-Ab;oa=(Ma*ib-oa*V)/wc;Ma=(Gb*Wb-Va*Zc)/(2*wc)-Jb;Va=(Va*V-Gb*ib)/wc;Gb=oa*oa+Va*Va-1;ib=2*(ra+
Eb*oa+Ma*Va);ra=Eb*Eb+Ma*Ma-ra*ra;ra=-(1E-6<Math.abs(Gb)?(ib+Math.sqrt(ib*ib-4*Gb*ra))/(2*Gb):ra/ib);return{x:Ab+Eb+oa*ra,y:Jb+Ma+Va*ra,r:ra}}function Ka(ra,Gb,Va){var Ab=ra.x-Gb.x,Jb=ra.y-Gb.y,Eb=Ab*Ab+Jb*Jb;if(Eb){var Wb=Gb.r+Va.r;Wb*=Wb;var ic=ra.r+Va.r;ic*=ic;if(Wb>ic){var wc=(Eb+ic-Wb)/(2*Eb);Wb=Math.sqrt(Math.max(0,ic/Eb-wc*wc));Va.x=ra.x-wc*Ab-Wb*Jb;Va.y=ra.y-wc*Jb+Wb*Ab}else wc=(Eb+Wb-ic)/(2*Eb),Wb=Math.sqrt(Math.max(0,Wb/Eb-wc*wc)),Va.x=Gb.x+wc*Ab-Wb*Jb,Va.y=Gb.y+wc*Jb+Wb*Ab}else Va.x=Gb.x+
Va.r,Va.y=Gb.y}function jb(ra,Gb){var Va=ra.r+Gb.r-1E-6,Ab=Gb.x-ra.x;ra=Gb.y-ra.y;return 0<Va&&Va*Va>Ab*Ab+ra*ra}function gb(ra){var Gb=ra._,Va=ra.next._,Ab=Gb.r+Va.r;ra=(Gb.x*Va.r+Va.x*Gb.r)/Ab;Gb=(Gb.y*Va.r+Va.y*Gb.r)/Ab;return ra*ra+Gb*Gb}function wb(ra){this._=ra;this.previous=this.next=null}function Ub(ra,Gb){if(!(Ab=(ra="object"===typeof ra&&"length"in ra?ra:Array.from(ra)).length))return 0;var Va,Ab;var Jb=ra[0];Jb.x=0;Jb.y=0;if(!(1<Ab))return Jb.r;var Eb=ra[1];Jb.x=-Eb.r;Eb.x=Jb.r;Eb.y=0;
if(!(2<Ab))return Jb.r+Eb.r;Ka(Eb,Jb,Va=ra[2]);Jb=new wb(Jb);Eb=new wb(Eb);Va=new wb(Va);Jb.next=Va.previous=Eb;Eb.next=Jb.previous=Va;Va.next=Eb.previous=Jb;var Wb=3;a:for(;Wb<Ab;++Wb){Ka(Jb._,Eb._,Va=ra[Wb]);Va=new wb(Va);var ic=Eb.next;var wc=Jb.previous;var Zc=Eb._.r;var Pc=Jb._.r;do if(Zc<=Pc){if(jb(ic._,Va._)){Eb=ic;Jb.next=Eb;Eb.previous=Jb;--Wb;continue a}Zc+=ic._.r;ic=ic.next}else{if(jb(wc._,Va._)){Jb=wc;Jb.next=Eb;Eb.previous=Jb;--Wb;continue a}Pc+=wc._.r;wc=wc.previous}while(ic!==wc.next);
Va.previous=Jb;Va.next=Eb;Jb.next=Eb.previous=Eb=Va;for(ic=gb(Jb);(Va=Va.next)!==Eb;)(wc=gb(Va))<ic&&(Jb=Va,ic=wc);Eb=Jb.next}Jb=[Eb._];for(Va=Eb;(Va=Va.next)!==Eb;)Jb.push(Va._);Eb=0;Jb=Array.from(Jb);for(Va=Jb.length;Va;)ic=Gb()*Va--|0,Wb=Jb[Va],Jb[Va]=Jb[ic],Jb[ic]=Wb;Jb=(Gb=Jb).length;Va=[];for(var oa;Eb<Jb;)if(Wb=Gb[Eb],oa&&ha(oa,Wb))++Eb;else{a:if(oa=Va,xa(Wb,oa))oa=[Wb];else{for(Va=0;Va<oa.length;++Va)if(ua(Wb,oa[Va])&&xa(Ua(oa[Va],Wb),oa)){oa=[oa[Va],Wb];break a}for(Va=0;Va<oa.length-1;++Va)for(Eb=
Va+1;Eb<oa.length;++Eb)if(ua(Ua(oa[Va],oa[Eb]),Wb)&&ua(Ua(oa[Va],Wb),oa[Eb])&&ua(Ua(oa[Eb],Wb),oa[Va])&&xa(Xa(oa[Va],oa[Eb],Wb),oa)){oa=[oa[Va],oa[Eb],Wb];break a}throw Error();}a:{oa=Va=oa;switch(oa.length){case 1:oa=oa[0];oa={x:oa.x,y:oa.y,r:oa.r};break a;case 2:oa=Ua(oa[0],oa[1]);break a;case 3:oa=Xa(oa[0],oa[1],oa[2]);break a}oa=void 0}Eb=0}Va=oa;for(Wb=0;Wb<Ab;++Wb)Jb=ra[Wb],Jb.x-=Va.x,Jb.y-=Va.y;return Va.r}function Na(ra){return Math.sqrt(ra.value)}function U(ra){return function(Gb){Gb.children||
(Gb.r=Math.max(0,+ra(Gb)||0))}}function ea(ra,Gb,Va){return function(Ab){if(Jb=Ab.children){var Jb,Eb,Wb=Jb.length,ic=ra(Ab)*Gb||0;if(ic)for(Eb=0;Eb<Wb;++Eb)Jb[Eb].r+=ic;var wc=Ub(Jb,Va);if(ic)for(Eb=0;Eb<Wb;++Eb)Jb[Eb].r-=ic;Ab.r=wc+ic}}}function Ha(ra){return function(Gb){var Va=Gb.parent;Gb.r*=ra;Va&&(Gb.x=Va.x+ra*Gb.x,Gb.y=Va.y+ra*Gb.y)}}function Y(ra){ra.x0=Math.round(ra.x0);ra.y0=Math.round(ra.y0);ra.x1=Math.round(ra.x1);ra.y1=Math.round(ra.y1)}function Ca(ra,Gb,Va,Ab,Jb){var Eb=ra.children,
Wb=-1,ic=Eb.length;for(Ab=ra.value&&(Ab-Gb)/ra.value;++Wb<ic;)ra=Eb[Wb],ra.y0=Va,ra.y1=Jb,ra.x0=Gb,ra.x1=Gb+=ra.value*Ab}function ma(ra){return ra.id}function na(ra){return ra.parentId}function n(){function ra(Jb){var Eb=Array.from(Jb),Wb=Gb,ic=Va,wc,Zc,Pc=new Map;if(null!=Ab){const da=Eb.map((Ia,Wa)=>{Ia=Ab(Ia,Wa,Jb);Ia=`${Ia}`;Wa=Ia.length;M(Ia,Wa-1)&&!M(Ia,Wa-2)&&(Ia=Ia.slice(0,-1));return"/"===Ia[0]?Ia:`/${Ia}`}),ya=da.map(G);Wb=(new Set(da)).add("");for(ib of ya)Wb.has(ib)||(Wb.add(ib),da.push(ib),
ya.push(G(ib)),Eb.push(Ga));Wb=(Ia,Wa)=>da[Wa];ic=(Ia,Wa)=>ya[Wa]}var oa=0;for(wc=Eb.length;oa<wc;++oa){var Ma=Eb[oa];var ib=Eb[oa]=new xb(Ma);if(null!=(Zc=Wb(Ma,oa,Jb))&&(Zc+="")){var V=ib.id=Zc;Pc.set(V,Pc.has(V)?aa:ib)}null!=(Zc=ic(Ma,oa,Jb))&&(Zc+="")&&(ib.parent=Zc)}for(oa=0;oa<wc;++oa)if(ib=Eb[oa],Zc=ib.parent){Wb=Pc.get(Zc);if(!Wb)throw Error("missing: "+Zc);if(Wb===aa)throw Error("ambiguous: "+Zc);Wb.children?Wb.children.push(ib):Wb.children=[ib];ib.parent=Wb}else{if(x)throw Error("multiple roots");
var x=ib}if(!x)throw Error("no root");if(null!=Ab){for(;x.data===Ga&&1===x.children.length;)x=x.children[0],--wc;for(Zc=Eb.length-1;0<=Zc;--Zc){ib=Eb[Zc];if(ib.data!==Ga)break;ib.data=null}}x.parent=Vb;x.eachBefore(function(da){da.depth=da.parent.depth+1;--wc}).eachBefore(Cb);x.parent=null;if(0<wc)throw Error("cycle");return x}var Gb=ma,Va=na,Ab;ra.id=function(Jb){return arguments.length?(Gb=null==Jb?null:nb(Jb),ra):Gb};ra.parentId=function(Jb){return arguments.length?(Va=null==Jb?null:nb(Jb),ra):
Va};ra.path=function(Jb){return arguments.length?(Ab=null==Jb?null:nb(Jb),ra):Ab};return ra}function G(ra){let Gb=ra.length;if(2>Gb)return"";for(;1<--Gb&&!M(ra,Gb););return ra.slice(0,Gb)}function M(ra,Gb){if("/"===ra[Gb]){let Va=0;for(;0<Gb&&"\\"===ra[--Gb];)++Va;if(0===(Va&1))return!0}return!1}function y(ra,Gb){return ra.parent===Gb.parent?1:2}function T(ra){var Gb=ra.children;return Gb?Gb[0]:ra.t}function D(ra){var Gb=ra.children;return Gb?Gb[Gb.length-1]:ra.t}function A(ra,Gb){this._=ra;this.A=
this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=Gb}function P(ra){ra=new A(ra,0);for(var Gb,Va=[ra],Ab,Jb,Eb;Gb=Va.pop();)if(Jb=Gb._.children)for(Gb.children=Array(Ab=Jb.length),Eb=Ab-1;0<=Eb;--Eb)Va.push(Ab=Gb.children[Eb]=new A(Jb[Eb],Eb)),Ab.parent=Gb;(ra.parent=new A(null,0)).children=[ra];return ra}function B(ra,Gb,Va,Ab,Jb){var Eb=ra.children,Wb=-1,ic=Eb.length;for(Jb=ra.value&&(Jb-Va)/ra.value;++Wb<ic;)ra=Eb[Wb],ra.x0=Gb,ra.x1=Ab,ra.y0=Va,ra.y1=Va+=
ra.value*Jb}function E(ra,Gb,Va,Ab,Jb,Eb){for(var Wb=[],ic=Gb.children,wc,Zc,Pc=wc=0,oa=ic.length,Ma,ib=Gb.value,V,x,da,ya,Ia,Wa;wc<oa;){Gb=Jb-Va;Ma=Eb-Ab;do V=ic[Pc++].value;while(!V&&Pc<oa);x=da=V;Wa=Math.max(Ma/Gb,Gb/Ma)/(ib*ra);ya=V*V*Wa;for(Ia=Math.max(da/ya,ya/x);Pc<oa;++Pc){V+=Zc=ic[Pc].value;Zc<x&&(x=Zc);Zc>da&&(da=Zc);ya=V*V*Wa;ya=Math.max(da/ya,ya/x);if(ya>Ia){V-=Zc;break}Ia=ya}Wb.push(wc={value:V,dice:Gb<Ma,children:ic.slice(wc,Pc)});wc.dice?Ca(wc,Va,Ab,Jb,ib?Ab+=Ma*V/ib:Eb):B(wc,Va,Ab,
ib?Va+=Gb*V/ib:Jb,Eb);ib-=V;wc=Pc}return Wb}function I(){function ra(Ma){Ma.x0=Ma.y0=0;Ma.x1=Jb;Ma.y1=Eb;Ma.eachBefore(Gb);Wb=[0];Ab&&Ma.eachBefore(Y);return Ma}function Gb(Ma){var ib=Wb[Ma.depth],V=Ma.x0+ib,x=Ma.y0+ib,da=Ma.x1-ib,ya=Ma.y1-ib;da<V&&(V=da=(V+da)/2);ya<x&&(x=ya=(x+ya)/2);Ma.x0=V;Ma.y0=x;Ma.x1=da;Ma.y1=ya;Ma.children&&(ib=Wb[Ma.depth+1]=ic(Ma)/2,V+=oa(Ma)-ib,x+=wc(Ma)-ib,da-=Zc(Ma)-ib,ya-=Pc(Ma)-ib,da<V&&(V=da=(V+da)/2),ya<x&&(x=ya=(x+ya)/2),Va(Ma,V,x,da,ya))}var Va=nc,Ab=!1,Jb=1,Eb=
1,Wb=[0],ic=Db,wc=Db,Zc=Db,Pc=Db,oa=Db;ra.round=function(Ma){return arguments.length?(Ab=!!Ma,ra):Ab};ra.size=function(Ma){return arguments.length?(Jb=+Ma[0],Eb=+Ma[1],ra):[Jb,Eb]};ra.tile=function(Ma){return arguments.length?(Va=nb(Ma),ra):Va};ra.padding=function(Ma){return arguments.length?ra.paddingInner(Ma).paddingOuter(Ma):ra.paddingInner()};ra.paddingInner=function(Ma){return arguments.length?(ic="function"===typeof Ma?Ma:lb(+Ma),ra):ic};ra.paddingOuter=function(Ma){return arguments.length?
ra.paddingTop(Ma).paddingRight(Ma).paddingBottom(Ma).paddingLeft(Ma):ra.paddingTop()};ra.paddingTop=function(Ma){return arguments.length?(wc="function"===typeof Ma?Ma:lb(+Ma),ra):wc};ra.paddingRight=function(Ma){return arguments.length?(Zc="function"===typeof Ma?Ma:lb(+Ma),ra):Zc};ra.paddingBottom=function(Ma){return arguments.length?(Pc="function"===typeof Ma?Ma:lb(+Ma),ra):Pc};ra.paddingLeft=function(Ma){return arguments.length?(oa="function"===typeof Ma?Ma:lb(+Ma),ra):oa};return ra}function X(ra){l.Transform.call(this,
null,ra)}function Ea(){function ra(Jb,Eb){if(Eb>=Va.length)return Jb;const Wb=Jb.length,ic=Va[Eb++],wc={},Zc={};let Pc=-1,oa,Ma,ib;for(;++Pc<Wb;)oa=ic(Ma=Jb[Pc])+"",(ib=wc[oa])?ib.push(Ma):wc[oa]=[Ma];for(oa in wc)Zc[oa]=ra(wc[oa],Eb);return Zc}function Gb(Jb,Eb){if(++Eb>Va.length)return Jb;const Wb=[];for(const ic in Jb)Wb.push({key:ic,values:Gb(Jb[ic],Eb)});return Wb}const Va=[],Ab={entries:Jb=>Gb(ra(Jb,0),0),key:Jb=>(Va.push(Jb),Ab)};return Ab}function R(ra){l.Transform.call(this,null,ra)}function ia(ra,
Gb,Va){for(let Ab,Jb=0,Eb=Gb.length;Jb<Eb;++Jb)if(Ab=Gb[Jb],Ab in Va)ra[Ab](Va[Ab])}function Aa(ra){R.call(this,ra)}function Pa(ra){R.call(this,ra)}function Ra(ra){l.Transform.call(this,null,ra)}function fb(ra){R.call(this,ra)}function zb(ra){l.Transform.call(this,[],ra)}function kb(ra){R.call(this,ra)}xb.prototype=Lb.prototype={constructor:xb,count:function(){return this.eachAfter(ub)},each:function(ra,Gb){let Va=-1;for(const Ab of this)ra.call(Gb,Ab,++Va,this);return this},eachAfter:function(ra,
Gb){for(var Va,Ab=[this],Jb=[],Eb,Wb,ic=-1;Va=Ab.pop();)if(Jb.push(Va),Va=Va.children)for(Eb=0,Wb=Va.length;Eb<Wb;++Eb)Ab.push(Va[Eb]);for(;Va=Jb.pop();)ra.call(Gb,Va,++ic,this);return this},eachBefore:function(ra,Gb){for(var Va,Ab=[this],Jb,Eb=-1;Va=Ab.pop();)if(ra.call(Gb,Va,++Eb,this),Va=Va.children)for(Jb=Va.length-1;0<=Jb;--Jb)Ab.push(Va[Jb]);return this},find:function(ra,Gb){let Va=-1;for(const Ab of this)if(ra.call(Gb,Ab,++Va,this))return Ab},sum:function(ra){return this.eachAfter(function(Gb){for(var Va=
+ra(Gb.data)||0,Ab=Gb.children,Jb=Ab&&Ab.length;0<=--Jb;)Va+=Ab[Jb].value;Gb.value=Va})},sort:function(ra){return this.eachBefore(function(Gb){Gb.children&&Gb.children.sort(ra)})},path:function(ra){var Gb=this;var Va=Gb;var Ab=ra;if(Va!==Ab){var Jb=Va.ancestors(),Eb=Ab.ancestors(),Wb=null;Va=Jb.pop();for(Ab=Eb.pop();Va===Ab;)Wb=Va,Va=Jb.pop(),Ab=Eb.pop();Va=Wb}for(Ab=[Gb];Gb!==Va;)Gb=Gb.parent,Ab.push(Gb);for(Gb=Ab.length;ra!==Va;)Ab.splice(Gb,0,ra),ra=ra.parent;return Ab},ancestors:function(){for(var ra=
this,Gb=[ra];ra=ra.parent;)Gb.push(ra);return Gb},descendants:function(){return Array.from(this)},leaves:function(){var ra=[];this.eachBefore(function(Gb){Gb.children||ra.push(Gb)});return ra},links:function(){var ra=this,Gb=[];ra.each(function(Va){Va!==ra&&Gb.push({source:Va.parent,target:Va})});return Gb},copy:function(){return Lb(this).eachBefore(bb)},[Symbol.iterator]:function*(){var ra,Gb=[this],Va;do{var Ab=Gb.reverse();for(Gb=[];ra=Ab.pop();)if(yield ra,ra=ra.children){var Jb=0;for(Va=ra.length;Jb<
Va;++Jb)Gb.push(ra[Jb])}}while(Gb.length)}};var Vb={depth:-1},aa={},Ga={};A.prototype=Object.create(xb.prototype);var Qb=(1+Math.sqrt(5))/2,nc=function Va(Gb){function Ab(Jb,Eb,Wb,ic,wc){E(Gb,Jb,Eb,Wb,ic,wc)}Ab.ratio=function(Jb){return Va(1<(Jb=+Jb)?Jb:1)};return Ab}(Qb);Qb=function Ab(Va){function Jb(Eb,Wb,ic,wc,Zc){if((Pc=Eb._squarify)&&Pc.ratio===Va)for(var Pc,oa,Ma,ib=-1,V,x=Pc.length,da=Eb.value;++ib<x;){Eb=Pc[ib];oa=Eb.children;Ma=Eb.value=0;for(V=oa.length;Ma<V;++Ma)Eb.value+=oa[Ma].value;
Eb.dice?Ca(Eb,Wb,ic,wc,da?ic+=(Zc-ic)*Eb.value/da:Zc):B(Eb,Wb,ic,da?Wb+=(wc-Wb)*Eb.value/da:wc,Zc);da-=Eb.value}else Eb._squarify=Pc=E(Va,Eb,Wb,ic,wc,Zc),Pc.ratio=Va}Jb.ratio=function(Eb){return Ab(1<(Eb=+Eb)?Eb:1)};return Jb}(Qb);X.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const $b=Va=>Va.values;ja.inherits(X,l.Transform,{transform(Va,Ab){Ab.source||ja.error("Nest transform requires an upstream data source.");
var Jb=Va.generate,Eb=Va.modified(),Wb=Ab.clone(),ic=this.value;if(!ic||Eb||Ab.changed())ic&&ic.each(wc=>{wc.children&&l.isTuple(wc.data)&&Wb.rem.push(wc.data)}),this.value=ic=Lb({values:ja.array(Va.keys).reduce((wc,Zc)=>{wc.key(Zc);return wc},Ea()).entries(Wb.source)},$b),Jb&&ic.each(wc=>{wc.children&&(wc=l.ingest(wc.data),Wb.add.push(wc),Wb.source.push(wc))}),$a(ic,l.tupleid,l.tupleid);Wb.source.root=ic;return Wb}});const Ob=(Va,Ab)=>Va.parent===Ab.parent?1:2;ja.inherits(R,l.Transform,{transform(Va,
Ab){Ab.source&&Ab.source.root||ja.error(this.constructor.name+" transform requires a backing tree data source.");const Jb=this.layout(Va.method),Eb=this.fields,Wb=Ab.source.root,ic=Va.as||Eb;Va.field?Wb.sum(Va.field):Wb.count();Va.sort&&Wb.sort(l.stableCompare(Va.sort,wc=>wc.data));ia(Jb,this.params,Va);Jb.separation&&Jb.separation(!1!==Va.separation?Ob:ja.one);try{this.value=Jb(Wb)}catch(wc){ja.error(wc)}Wb.each(wc=>{const Zc=wc.data,Pc=Eb.length-1;for(let oa=0;oa<Pc;++oa)Zc[ic[oa]]=wc[Eb[oa]];Zc[ic[Pc]]=
wc.children?wc.children.length:0});return Ab.reflow(Va.modified()).modifies(ic).modifies("leaf")}});var Nb=["x","y","r","depth","children"];Aa.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Nb.length,"default":Nb}]};ja.inherits(Aa,R,{layout:function(){function Va(ic){const wc=
lc();ic.x=Jb/2;ic.y=Eb/2;Ab?ic.eachBefore(U(Ab)).eachAfter(ea(Wb,.5,wc)).eachBefore(Ha(1)):ic.eachBefore(U(Na)).eachAfter(ea(Db,1,wc)).eachAfter(ea(Wb,ic.r/Math.min(Jb,Eb),wc)).eachBefore(Ha(Math.min(Jb,Eb)/(2*ic.r)));return ic}var Ab=null,Jb=1,Eb=1,Wb=Db;Va.radius=function(ic){return arguments.length?(Ab=null==ic?null:nb(ic),Va):Ab};Va.size=function(ic){return arguments.length?(Jb=+ic[0],Eb=+ic[1],Va):[Jb,Eb]};Va.padding=function(ic){return arguments.length?(Wb="function"===typeof ic?ic:lb(+ic),
Va):Wb};return Va},params:["radius","size","padding"],fields:Nb});Nb="x0 y0 x1 y1 depth children".split(" ");Pa.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Nb.length,"default":Nb}]};ja.inherits(Pa,R,{layout:function(){function Va(wc){var Zc=wc.height+
1;wc.x0=wc.y0=Wb;wc.x1=Jb;wc.y1=Eb/Zc;wc.eachBefore(Ab(Eb,Zc));ic&&wc.eachBefore(Y);return wc}function Ab(wc,Zc){return function(Pc){Pc.children&&Ca(Pc,Pc.x0,wc*(Pc.depth+1)/Zc,Pc.x1,wc*(Pc.depth+2)/Zc);var oa=Pc.x0,Ma=Pc.y0,ib=Pc.x1-Wb,V=Pc.y1-Wb;ib<oa&&(oa=ib=(oa+ib)/2);V<Ma&&(Ma=V=(Ma+V)/2);Pc.x0=oa;Pc.y0=Ma;Pc.x1=ib;Pc.y1=V}}var Jb=1,Eb=1,Wb=0,ic=!1;Va.round=function(wc){return arguments.length?(ic=!!wc,Va):ic};Va.size=function(wc){return arguments.length?(Jb=+wc[0],Eb=+wc[1],Va):[Jb,Eb]};Va.padding=
function(wc){return arguments.length?(Wb=+wc,Va):Wb};return Va},params:["size","round","padding"],fields:Nb});Ra.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};ja.inherits(Ra,l.Transform,{transform(Va,Ab){Ab.source||ja.error("Stratify transform requires an upstream data source.");let Jb=this.value;const Eb=Va.modified(),Wb=Ab.fork(Ab.ALL).materialize(Ab.SOURCE);Ab=!Jb||Eb||Ab.changed(Ab.ADD_REM)||Ab.modified(Va.key.fields)||
Ab.modified(Va.parentKey.fields);Wb.source=Wb.source.slice();Ab&&(Jb=Wb.source.length?$a(n().id(Va.key).parentId(Va.parentKey)(Wb.source),Va.key,ja.truthy):$a(n()([{}]),Va.key,Va.key));Wb.source.root=this.value=Jb;return Wb}});const rc={tidy:function(){function Va(Pc){var oa=P(Pc);oa.eachAfter(Ab);oa.parent.m=-oa.z;oa.eachBefore(Jb);if(Zc)Pc.eachBefore(Eb);else{var Ma=Pc,ib=Pc,V=Pc;Pc.eachBefore(function(Ia){Ia.x<Ma.x&&(Ma=Ia);Ia.x>ib.x&&(ib=Ia);Ia.depth>V.depth&&(V=Ia)});oa=Ma===ib?1:Wb(Ma,ib)/2;
var x=oa-Ma.x,da=ic/(ib.x+oa+x),ya=wc/(V.depth||1);Pc.eachBefore(function(Ia){Ia.x=(Ia.x+x)*da;Ia.y=Ia.depth*ya})}return Pc}function Ab(Pc){var oa=Pc.children,Ma=Pc.parent.children,ib=Pc.i?Ma[Pc.i-1]:null;if(oa){for(var V=0,x=0,da=Pc.children,ya=da.length,Ia;0<=--ya;)Ia=da[ya],Ia.z+=V,Ia.m+=V,V+=Ia.s+(x+=Ia.c);oa=(oa[0].z+oa[oa.length-1].z)/2;ib?(Pc.z=ib.z+Wb(Pc._,ib._),Pc.m=Pc.z-oa):Pc.z=oa}else ib&&(Pc.z=ib.z+Wb(Pc._,ib._));oa=Pc.parent;Ma=Pc.parent.A||Ma[0];if(ib){x=V=Pc;da=V.parent.children[0];
ya=V.m;Ia=x.m;for(var Wa=ib.m,qb=da.m,Sb;ib=D(ib),V=T(V),ib&&V;){da=T(da);x=D(x);x.a=Pc;Sb=ib.z+Wa-V.z-ya+Wb(ib._,V._);if(0<Sb){var Hb=ib.a.parent===Pc.parent?ib.a:Ma,Pb=Pc,uc=Sb,yc=uc/(Pb.i-Hb.i);Pb.c-=yc;Pb.s+=uc;Hb.c+=yc;Pb.z+=uc;Pb.m+=uc;ya+=Sb;Ia+=Sb}Wa+=ib.m;ya+=V.m;qb+=da.m;Ia+=x.m}ib&&!D(x)&&(x.t=ib,x.m+=Wa-Ia);V&&!T(da)&&(da.t=V,da.m+=ya-qb,Ma=Pc)}oa.A=Ma}function Jb(Pc){Pc._.x=Pc.z+Pc.parent.m;Pc.m+=Pc.parent.m}function Eb(Pc){Pc.x*=ic;Pc.y=Pc.depth*wc}var Wb=y,ic=1,wc=1,Zc=null;Va.separation=
function(Pc){return arguments.length?(Wb=Pc,Va):Wb};Va.size=function(Pc){return arguments.length?(Zc=!1,ic=+Pc[0],wc=+Pc[1],Va):Zc?null:[ic,wc]};Va.nodeSize=function(Pc){return arguments.length?(Zc=!0,ic=+Pc[0],wc=+Pc[1],Va):Zc?[ic,wc]:null};return Va},cluster:function(){function Va(ic){var wc,Zc=0;ic.eachAfter(function(V){var x=V.children;if(x){var da=x.reduce(Xb,0)/x.length;V.x=da;V.y=1+x.reduce(ec,0)}else V.x=wc?Zc+=Ab(V,wc):0,V.y=0,wc=V});var Pc=Bb(ic),oa=yb(ic),Ma=Pc.x-Ab(Pc,oa)/2,ib=oa.x+Ab(oa,
Pc)/2;return ic.eachAfter(Wb?function(V){V.x=(V.x-ic.x)*Jb;V.y=(ic.y-V.y)*Eb}:function(V){V.x=(V.x-Ma)/(ib-Ma)*Jb;V.y=(1-(ic.y?V.y/ic.y:1))*Eb})}var Ab=vb,Jb=1,Eb=1,Wb=!1;Va.separation=function(ic){return arguments.length?(Ab=ic,Va):Ab};Va.size=function(ic){return arguments.length?(Wb=!1,Jb=+ic[0],Eb=+ic[1],Va):Wb?null:[Jb,Eb]};Va.nodeSize=function(ic){return arguments.length?(Wb=!0,Jb=+ic[0],Eb=+ic[1],Va):Wb?[Jb,Eb]:null};return Va}};Nb=["x","y","depth","children"];fb.Definition={type:"Tree",metadata:{tree:!0,
modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:Nb.length,"default":Nb}]};ja.inherits(fb,R,{layout(Va){Va=Va||"tidy";if(ja.hasOwnProperty(rc,Va))return rc[Va]();ja.error("Unrecognized Tree layout method: "+Va)},params:["size",
"nodeSize"],fields:Nb});zb.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};ja.inherits(zb,l.Transform,{transform(Va,Ab){Va=this.value;const Jb=Ab.source&&Ab.source.root,Eb=Ab.fork(Ab.NO_SOURCE),Wb={};Jb||ja.error("TreeLinks transform requires a tree data source.");Ab.changed(Ab.ADD_REM)?(Eb.rem=Va,Ab.visit(Ab.SOURCE,ic=>Wb[l.tupleid(ic)]=1),Jb.each(ic=>{const wc=ic.data;(ic=ic.parent&&ic.parent.data)&&Wb[l.tupleid(wc)]&&Wb[l.tupleid(ic)]&&Eb.add.push(l.ingest({source:ic,
target:wc}))}),this.value=Eb.add):Ab.changed(Ab.MOD)&&(Ab.visit(Ab.MOD,ic=>Wb[l.tupleid(ic)]=1),Va.forEach(ic=>{(Wb[l.tupleid(ic.source)]||Wb[l.tupleid(ic.target)])&&Eb.mod.push(ic)}));return Eb}});const Sc={binary:function(Va,Ab,Jb,Eb,Wb){function ic(ib,V,x,da,ya,Ia,Wa){if(ib>=V-1)ib=wc[ib],ib.x0=da,ib.y0=ya,ib.x1=Ia,ib.y1=Wa;else{for(var qb=Ma[ib],Sb=x/2+qb,Hb=ib+1,Pb=V-1;Hb<Pb;){var uc=Hb+Pb>>>1;Ma[uc]<Sb?Hb=uc+1:Pb=uc}Sb-Ma[Hb-1]<Ma[Hb]-Sb&&ib+1<Hb&&--Hb;qb=Ma[Hb]-qb;Sb=x-qb;Ia-da>Wa-ya?(x=x?
(da*Sb+Ia*qb)/x:Ia,ic(ib,Hb,qb,da,ya,x,Wa),ic(Hb,V,Sb,x,ya,Ia,Wa)):(x=x?(ya*Sb+Wa*qb)/x:Wa,ic(ib,Hb,qb,da,ya,Ia,x),ic(Hb,V,Sb,da,x,Ia,Wa))}}var wc=Va.children,Zc,Pc=wc.length,oa,Ma=Array(Pc+1);for(Ma[0]=oa=Zc=0;Zc<Pc;++Zc)Ma[Zc+1]=oa+=wc[Zc].value;ic(0,Pc,Va.value,Ab,Jb,Eb,Wb)},dice:Ca,slice:B,slicedice:function(Va,Ab,Jb,Eb,Wb){(Va.depth&1?B:Ca)(Va,Ab,Jb,Eb,Wb)},squarify:nc,resquarify:Qb};Qb="x0 y0 x1 y1 depth children".split(" ");kb.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",
type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number","default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",
type:"number","default":1.618033988749895},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Qb.length,"default":Qb}]};ja.inherits(kb,R,{layout(){const Va=I();Va.ratio=Ab=>{const Jb=Va.tile();Jb.ratio&&Va.tile(Jb.ratio(Ab))};Va.method=Ab=>{ja.hasOwnProperty(Sc,Ab)?Va.tile(Sc[Ab]):ja.error("Unrecognized Treemap layout method: "+Ab)};return Va},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),
fields:Qb});u.nest=X;u.pack=Aa;u.partition=Pa;u.stratify=Ra;u.tree=fb;u.treelinks=zb;u.treemap=kb})};
shadow$provide[44]=function(Fb,pb,zc,Za){(function(u,l){"object"===typeof Za&&"undefined"!==typeof zc?l(Za,pb(37),pb(35),pb(32),pb(24)):"function"===typeof define&&define.amd?define(["exports","vega-scenegraph","vega-canvas","vega-dataflow","vega-util"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l((u.vega=u.vega||{},u.vega.transforms={}),u.vega,u.vega,u.vega,u.vega))})(this,function(u,l,ja,$a,vb){function Xb(Na,U){const ea=Na.bitmap();(U||[]).forEach(Ha=>ea.set(Na(Ha.boundary[0]),Na(Ha.boundary[3])));
return[ea,void 0]}function ec(Na,U,ea,Ha,Y){const Ca=Na.width,ma=Na.height;Ha=Ha||Y;const na=ja.canvas(Ca,ma).getContext("2d");var n=ja.canvas(Ca,ma).getContext("2d"),G=Ha&&ja.canvas(Ca,ma).getContext("2d");ea.forEach(I=>Bb(na,I,!1));Bb(n,U,!1);Ha&&Bb(G,U,!0);U=new Uint32Array(na.getImageData(0,0,Ca,ma).data.buffer);ea=new Uint32Array(n.getImageData(0,0,Ca,ma).data.buffer);G=Ha&&new Uint32Array(G.getImageData(0,0,Ca,ma).data.buffer);n=Na.bitmap();const M=Ha&&Na.bitmap();let y,T;let D,A,P,B;for(T=
0;T<ma;++T)for(y=0;y<Ca;++y){var E=T*Ca+y;A=U[E]&4278190080;B=ea[E]&4278190080;P=Ha&&G[E]&4278190080;if(A||P||B)E=Na(y),D=Na(T),Y||!A&&!B||n.set(E,D),Ha&&(A||P)&&M.set(E,D)}return[n,M]}function Bb(Na,U,ea){if(U.length){var Ha=U[0].mark.marktype;"group"===Ha?U.forEach(Y=>{Y.items.forEach(Ca=>Bb(Na,Ca.items,ea))}):l.Marks[Ha].draw(Na,{items:ea?U.map(yb):U})}}function yb(Na){Na=$a.rederive(Na,{});return Na.stroke&&0!==Na.strokeOpacity||Na.fill&&0!==Na.fillOpacity?Object.assign({},Na,{strokeOpacity:1,
stroke:"#000",fillOpacity:0}):Na}function ub(Na,U){const ea=new Uint32Array(~~((Na*U+32)/32));return{array:ea,get:(Ha,Y)=>{Ha=Y*Na+Ha;return ea[Ha>>>5]&1<<(Ha&31)},set:(Ha,Y)=>{Ha=Y*Na+Ha;ea[Ha>>>5]|=1<<(Ha&31)},clear:(Ha,Y)=>{Ha=Y*Na+Ha;ea[Ha>>>5]&=~(1<<(Ha&31))},getRange:(Ha,Y,Ca,ma)=>{let na,n,G;for(;ma>=Y;--ma){var M=ma*Na+Ha;na=ma*Na+Ca;n=M>>>5;G=na>>>5;if(n===G){if(ea[n]&ua[M&31]&ha[(na&31)+1])return!0}else{if(ea[n]&ua[M&31]||ea[G]&ha[(na&31)+1])return!0;for(M=n+1;M<G;++M)if(ea[M])return!0}}return!1},
setRange:(Ha,Y,Ca,ma)=>{let na,n,G;for(;Y<=ma;++Y){var M=Y*Na+Ha;na=Y*Na+Ca;n=M>>>5;G=na>>>5;if(n===G)ea[n]|=ua[M&31]&ha[(na&31)+1];else for(ea[n]|=ua[M&31],ea[G]|=ha[(na&31)+1],M=n+1;M<G;++M)ea[M]|=4294967295}},clearRange:(Ha,Y,Ca,ma)=>{let na,n,G;for(;Y<=ma;++Y){var M=Y*Na+Ha;na=Y*Na+Ca;n=M>>>5;G=na>>>5;if(n===G)ea[n]&=ha[M&31]|ua[(na&31)+1];else for(ea[n]&=ha[M&31],ea[G]&=ua[(na&31)+1],M=n+1;M<G;++M)ea[M]&=0}},outOfBounds:(Ha,Y,Ca,ma)=>0>Ha||0>Y||ma>=U||Ca>=Na}}function Lb(Na,U,ea){const Ha=Math.max(1,
Math.sqrt(Na*U/1E6)),Y=~~((Na+2*ea+Ha)/Ha),Ca=~~((U+2*ea+Ha)/Ha),ma=na=>~~((na+ea)/Ha);ma.invert=na=>na*Ha-ea;ma.bitmap=()=>ub(Y,Ca);ma.ratio=Ha;ma.padding=ea;ma.width=Na;ma.height=U;return ma}function Yb(Na,U,ea,Ha,Y,Ca){ea/=2;return 0>Na-ea||Na+ea>Y||0>U-(ea=Ha/2)||U+ea>Ca}function Ba(Na,U,ea,Ha,Y,Ca,ma,na){Y=Y*Ca/(2*Ha);Ha=Na(U-Y);U=Na(U+Y);Y=Na(ea-(Ca/=2));Na=Na(ea+Ca);return ma.outOfBounds(Ha,Y,U,Na)||ma.getRange(Ha,Y,U,Na)||na&&na.getRange(Ha,Y,U,Na)}function bb(Na,U,ea,Ha){const Y=Na.width,
Ca=Na.height,ma=U[0],na=U[1],n=Ha.length;return function(G){const M=G.boundary,y=G.datum.fontSize;if(0>M[2]||0>M[5]||M[0]>Y||M[3]>Ca)return!1;var T;let D=null!=(T=G.textWidth)?T:0,A;let P,B;let E;let I;let X,Ea;for(let nc=0;nc<n;++nc){T=(ea[nc]&3)-1;A=(ea[nc]>>>2&3)-1;var R=0===T&&0===A||0>Ha[nc];var ia=T&&A?Math.SQRT1_2:1;P=0>Ha[nc]?-1:1;B=M[1+T]+Ha[nc]*T*ia;I=M[4+A]+P*y*A/2+Ha[nc]*A*ia;ia=I-y/2;E=I+y/2;var Aa=Na(B);X=Na(ia);Ea=Na(E);if(!D){var Pa=Aa;var Ra=X;var fb=Ea;var zb=ma,kb=na,Vb=R;if(zb.outOfBounds(Pa,
Ra,Aa,fb)||(Vb&&kb||zb).getRange(Pa,Ra,Aa,fb))continue;else D=l.textMetrics.width(G.datum,G.datum.text)}Ra=B+P*D*T/2;B=Ra-D/2;Pa=Ra+D/2;Aa=Na(B);fb=Na(Pa);zb=Aa;kb=fb;Vb=X;var aa=Ea,Ga=ma,Qb=na;if(!Ga.outOfBounds(zb,Vb,kb,aa)&&!(R&&Qb||Ga).getRange(zb,Vb,kb,aa))return G.x=T?0>T*P?Pa:B:Ra,G.y=A?0>A*P?E:ia:I,G.align=Xa[T*P+1],G.baseline=Ka[A*P+1],ma.setRange(Aa,X,fb,Ea),!0}return!1}}function Cb(Na,U,ea,Ha,Y,Ca,ma,na,n,G,M){if(!Na.length)return Na;var y=Math.max(Ha.length,Y.length);const T=xb(Ha,y);
Y=nb(Y,y);const D=Db(Na[0].datum);var A="group"===D&&Na[0].datum.items[n].marktype;y="area"===A;const P=lb(D,A,na,n),B=null===G||Infinity===G;A=y&&"naive"===M;let E=-1,I=-1;na=Na.map(R=>{const ia=B?l.textMetrics.width(R,R.text):void 0;E=Math.max(E,ia);I=Math.max(I,R.fontSize);return{datum:R,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:P(R),textWidth:ia}});G=null===G||Infinity===G?Math.max(E,I)+Math.max(...Ha):G;U=Lb(U[0],U[1],G);if(!A){ea&&na.sort((R,ia)=>ea(R.datum,ia.datum));
var X=!1;for(Ha=0;Ha<Y.length&&!X;++Ha)X=5===Y[Ha]||0>T[Ha];Na=(D&&ma||y)&&Na.map(R=>R.datum);X=Ca.length||Na?ec(U,Na||[],Ca,X,y):Xb(U,ma&&na)}const Ea=y?gb[M](U,X,ma,n):bb(U,X,Y,T);na.forEach(R=>R.opacity=+Ea(R));return na}function xb(Na,U){const ea=new Float64Array(U),Ha=Na.length;for(let Y=0;Y<Ha;++Y)ea[Y]=Na[Y]||0;for(Na=Ha;Na<U;++Na)ea[Na]=ea[Ha-1];return ea}function nb(Na,U){const ea=new Int8Array(U),Ha=Na.length;for(let Y=0;Y<Ha;++Y)ea[Y]|=jb[Na[Y]];for(Na=Ha;Na<U;++Na)ea[Na]=ea[Ha-1];return ea}
function Db(Na){return Na&&Na.mark&&Na.mark.marktype}function lb(Na,U,ea,Ha){const Y=Ca=>[Ca.x,Ca.x,Ca.x,Ca.y,Ca.y,Ca.y];return Na?"line"===Na||"area"===Na?Ca=>Y(Ca.datum):"line"===U?Ca=>{Ca=Ca.datum.items[Ha].items;return Y(Ca.length?Ca["start"===ea?0:Ca.length-1]:{x:NaN,y:NaN})}:Ca=>{Ca=Ca.datum.bounds;return[Ca.x1,(Ca.x1+Ca.x2)/2,Ca.x2,Ca.y1,(Ca.y1+Ca.y2)/2,Ca.y2]}:Y}function lc(Na){$a.Transform.call(this,null,Na)}const ua=new Uint32Array(33),ha=new Uint32Array(33);ha[0]=0;ua[0]=~ha[0];for(let Na=
1;32>=Na;++Na)ha[Na]=ha[Na-1]<<1|1,ua[Na]=~ha[Na];const xa=[-1,-1,1,1],Ua=[-1,1,-1,1],Xa=["right","center","left"],Ka=["bottom","middle","top"],jb={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},gb={naive:function(Na,U,ea,Ha){const Y=Na.width,Ca=Na.height;return function(ma){const na=ma.datum.datum.items[Ha].items,n=na.length,G=ma.datum.fontSize,M=l.textMetrics.width(ma.datum,ma.datum.text);let y=0;let T,D,A,P,B;for(let I=0;I<n;++I){var E=na[I].x;
D=na[I].y;T=void 0===na[I].x2?E:na[I].x2;A=void 0===na[I].y2?D:na[I].y2;P=(E+T)/2;B=(D+A)/2;E=Math.abs(T-E+A-D);E>=y&&(y=E,ma.x=P,ma.y=B)}P=M/2;B=G/2;E=ma.x-P;T=ma.x+P;D=ma.y-B;A=ma.y+B;ma.align="center";0>E&&T<=Y?ma.align="left":0<=E&&Y<T&&(ma.align="right");ma.baseline="middle";0>D&&A<=Ca?ma.baseline="top":0<=D&&Ca<A&&(ma.baseline="bottom");return!0}},"reduced-search":function(Na,U,ea,Ha){function Y(G,M,y,T,D){G=Na.invert(G);M=Na.invert(M);let A=y,P=ma,B;if(!Yb(G,M,T,D,Ca,ma)&&!Ba(Na,G,M,D,T,A,
na,n)&&!Ba(Na,G,M,D,T,D,na,null)){for(;1<=P-A;)B=(A+P)/2,Ba(Na,G,M,D,T,B,na,n)?P=B:A=B;if(A>y)return[G,M,A,!0]}}const Ca=Na.width,ma=Na.height,na=U[0],n=U[1];return function(G){const M=G.datum.datum.items[Ha].items,y=M.length,T=G.datum.fontSize,D=l.textMetrics.width(G.datum,G.datum.text);let A=ea?T:0,P=!1,B=!1,E=0;let I;let X;let Ea,R,ia,Aa,Pa,Ra,fb,zb;for(let Ga=0;Ga<y;++Ga){var kb=M[Ga].x;var Vb=M[Ga].y;I=void 0===M[Ga].x2?kb:M[Ga].x2;X=void 0===M[Ga].y2?Vb:M[Ga].y2;if(kb>I){var aa=kb;kb=I;I=aa}Vb>
X&&(aa=Vb,Vb=X,X=aa);R=Na(kb);Aa=Na(I);ia=~~((R+Aa)/2);Pa=Na(Vb);fb=Na(X);Ra=~~((Pa+fb)/2);for(aa=ia;aa>=R;--aa)for(Ea=Ra;Ea>=Pa;--Ea)(zb=Y(aa,Ea,A,D,T))&&([G.x,G.y,A,P]=zb);for(aa=ia;aa<=Aa;++aa)for(Ea=Ra;Ea<=fb;++Ea)(zb=Y(aa,Ea,A,D,T))&&([G.x,G.y,A,P]=zb);P||ea||(aa=Math.abs(I-kb+X-Vb),kb=(kb+I)/2,Vb=(Vb+X)/2,aa>=E&&!Yb(kb,Vb,D,T,Ca,ma)&&!Ba(Na,kb,Vb,T,D,T,na,null)&&(E=aa,G.x=kb,G.y=Vb,B=!0))}return P||B?(kb=D/2,Vb=T/2,na.setRange(Na(G.x-kb),Na(G.y-Vb),Na(G.x+kb),Na(G.y+Vb)),G.align="center",G.baseline=
"middle",!0):!1}},floodfill:function(Na,U,ea,Ha){const Y=Na.width,Ca=Na.height,ma=U[0],na=U[1],n=Na.bitmap();return function(G){const M=G.datum.datum.items[Ha].items,y=M.length,T=G.datum.fontSize,D=l.textMetrics.width(G.datum,G.datum.text),A=[];let P=ea?T:0,B=!1,E=!1,I=0,X,Ea,R,ia,Aa,Pa;var Ra;for(let kb=0;kb<y;++kb){X=M[kb].x;R=M[kb].y;Ea=void 0===M[kb].x2?X:M[kb].x2;ia=void 0===M[kb].y2?R:M[kb].y2;for(A.push([Na((X+Ea)/2),Na((R+ia)/2)]);A.length;)if([fb,zb]=A.pop(),!(ma.get(fb,zb)||na.get(fb,zb)||
n.get(fb,zb))){n.set(fb,zb);for(Ra=0;4>Ra;++Ra)Aa=fb+xa[Ra],Pa=zb+Ua[Ra],n.outOfBounds(Aa,Pa,Aa,Pa)||A.push([Aa,Pa]);Aa=Na.invert(fb);Pa=Na.invert(zb);var fb=P;var zb=Ca;if(!Yb(Aa,Pa,D,T,Y,Ca)&&!Ba(Na,Aa,Pa,T,D,fb,ma,na)&&!Ba(Na,Aa,Pa,T,D,T,ma,null)){for(;1<=zb-fb;)Ra=(fb+zb)/2,Ba(Na,Aa,Pa,T,D,Ra,ma,na)?zb=Ra:fb=Ra;fb>P&&(G.x=Aa,G.y=Pa,P=fb,B=!0)}}B||ea||(fb=Math.abs(Ea-X+ia-R),Aa=(X+Ea)/2,Pa=(R+ia)/2,fb>=I&&!Yb(Aa,Pa,D,T,Y,Ca)&&!Ba(Na,Aa,Pa,T,D,T,ma,null)&&(I=fb,G.x=Aa,G.y=Pa,E=!0))}return B||E?
(Aa=D/2,Pa=T/2,ma.setRange(Na(G.x-Aa),Na(G.y-Pa),Na(G.x+Aa),Na(G.y+Pa)),G.align="center",G.baseline="middle",!0):!1}}},wb=["x","y","opacity","align","baseline"],Ub="top-left left bottom-left top bottom top-right right bottom-right".split(" ");lc.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:Ub},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",
type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:wb.length,default:wb}]};vb.inherits(lc,$a.Transform,{transform(Na,U){function ea(Ca){Ca=Na[Ca];return vb.isFunction(Ca)&&U.modified(Ca.fields)}const Ha=Na.modified();if(Ha||U.changed(U.ADD_REM)||
ea("sort")){Na.size&&2===Na.size.length||vb.error("Size parameter should be specified as a [width, height] array.");var Y=Na.as||wb;Cb(U.materialize(U.SOURCE).source||[],Na.size,Na.sort,vb.array(null==Na.offset?1:Na.offset),vb.array(Na.anchor||Ub),Na.avoidMarks||[],!1!==Na.avoidBaseMark,Na.lineAnchor||"end",Na.markIndex||0,void 0===Na.padding?0:Na.padding,Na.method||"naive").forEach(Ca=>{const ma=Ca.datum;ma[Y[0]]=Ca.x;ma[Y[1]]=Ca.y;ma[Y[2]]=Ca.opacity;ma[Y[3]]=Ca.align;ma[Y[4]]=Ca.baseline});return U.reflow(Ha).modifies(Y)}}});
u.label=lc})};
shadow$provide[45]=function(Fb,pb,zc,Za){(function(u,l){"object"===typeof Za&&"undefined"!==typeof zc?l(Za,pb(33),pb(32),pb(24)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega,u.vega,u.vega))})(this,function(u,l,ja,$a){function vb(yb,ub){var Lb=[],Yb=function(lb){return lb(xb)},Ba;if(null==ub)Lb.push(yb);else{var bb={};var Cb=0;for(Ba=yb.length;Cb<Ba;++Cb){var xb=yb[Cb];
var nb=ub.map(Yb);var Db=bb[nb];Db||(bb[nb]=Db=[],Db.dims=nb,Lb.push(Db));Db.push(xb)}}return Lb}function Xb(yb){ja.Transform.call(this,null,yb)}function ec(yb){ja.Transform.call(this,null,yb)}Xb.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};$a.inherits(Xb,ja.Transform,{transform(yb,ub){const Lb=
ub.fork(ub.NO_SOURCE|ub.NO_FIELDS);if(!this.value||ub.changed()||yb.modified()){ub=ub.materialize(ub.SOURCE).source;ub=vb(ub,yb.groupby);const Yb=(yb.groupby||[]).map($a.accessorName),Ba=Yb.length,bb=yb.as||[$a.accessorName(yb.x),$a.accessorName(yb.y)],Cb=[];ub.forEach(xb=>{l.regressionLoess(xb,yb.x,yb.y,yb.bandwidth||.3).forEach(nb=>{const Db={};for(let lb=0;lb<Ba;++lb)Db[Yb[lb]]=xb.dims[lb];Db[bb[0]]=nb[0];Db[bb[1]]=nb[1];Cb.push(ja.ingest(Db))})});this.value&&(Lb.rem=this.value);this.value=Lb.add=
Lb.source=Cb}return Lb}});const Bb={constant:l.regressionConstant,linear:l.regressionLinear,log:l.regressionLog,exp:l.regressionExp,pow:l.regressionPow,quad:l.regressionQuad,poly:l.regressionPoly};ec.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(Bb)},{name:"order",type:"number","default":3},{name:"extent",
type:"number",array:!0,length:2},{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};$a.inherits(ec,ja.Transform,{transform(yb,ub){const Lb=ub.fork(ub.NO_SOURCE|ub.NO_FIELDS);if(!this.value||ub.changed()||yb.modified()){var Yb=ub.materialize(ub.SOURCE).source;Yb=vb(Yb,yb.groupby);const Ba=(yb.groupby||[]).map($a.accessorName),bb=yb.method||"linear",Cb=null==yb.order?3:yb.order,xb="poly"===bb?Cb:"quad"===bb?2:1,nb=yb.as||[$a.accessorName(yb.x),$a.accessorName(yb.y)],Db=
Bb[bb],lb=[];let lc=yb.extent;$a.hasOwnProperty(Bb,bb)||$a.error("Invalid regression method: "+bb);null!=lc&&"log"===bb&&0>=lc[0]&&(ub.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),lc=null);Yb.forEach(ua=>{if(ua.length<=xb)ub.dataflow.warn("Skipping regression with more parameters than data points.");else{var ha=Db(ua,yb.x,yb.y,Cb);if(yb.params)lb.push(ja.ingest({keys:ua.dims,coef:ha.coef,rSquared:ha.rSquared}));else{var xa=lc||$a.extent(ua,yb.x),Ua=Xa=>{const Ka={};
for(let jb=0;jb<Ba.length;++jb)Ka[Ba[jb]]=ua.dims[jb];Ka[nb[0]]=Xa[0];Ka[nb[1]]=Xa[1];lb.push(ja.ingest(Ka))};"linear"===bb||"constant"===bb?xa.forEach(Xa=>Ua([Xa,ha.predict(Xa)])):l.sampleCurve(ha.predict,xa,25,200).forEach(Ua)}}});this.value&&(Lb.rem=this.value);this.value=Lb.add=Lb.source=lb}return Lb}});u.loess=Xb;u.regression=ec})};
shadow$provide[46]=function(Fb,pb,zc,Za){(function(u,l){"object"===typeof Za&&"undefined"!==typeof zc?l(Za,pb(32),pb(24)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l((u.vega=u.vega||{},u.vega.transforms={}),u.vega,u.vega))})(this,function(u,l,ja){function $a(U,ea,Ha,Y,Ca){let ma,na;let n=ea[0],G=Y[0],M=0,y=0;G>n===G>-n?(ma=n,n=ea[++M]):(ma=G,G=Y[++y]);let T=0;if(M<U&&y<Ha){if(G>n===G>-n){na=n+ma;var D=
ma-(na-n);n=ea[++M]}else na=G+ma,D=ma-(na-G),G=Y[++y];ma=na;for(0!==D&&(Ca[T++]=D);M<U&&y<Ha;)G>n===G>-n?(na=ma+n,D=na-ma,D=ma-(na-D)+(n-D),n=ea[++M]):(na=ma+G,D=na-ma,D=ma-(na-D)+(G-D),G=Y[++y]),ma=na,0!==D&&(Ca[T++]=D)}for(;M<U;)na=ma+n,D=na-ma,D=ma-(na-D)+(n-D),n=ea[++M],ma=na,0!==D&&(Ca[T++]=D);for(;y<Ha;)na=ma+G,D=na-ma,D=ma-(na-D)+(G-D),G=Y[++y],ma=na,0!==D&&(Ca[T++]=D);if(0!==ma||0===T)Ca[T++]=ma;return T}function vb(U,ea,Ha,Y,Ca,ma){var na=(ea-ma)*(Ha-Ca),n=(U-Ca)*(Y-ma),G=na-n;if(0===na||
0===n||0<na!==0<n)return G;na=Math.abs(na+n);if(Math.abs(G)>=3.3306690738754716E-16*na)return G;{let B;G=U-Ca;const E=Ha-Ca;n=ea-ma;const I=Y-ma;var M=G*I;var y=134217729*G;var T=y-(y-G);var D=G-T;y=134217729*I;y-=y-I;B=I-y;var A=D*B-(M-T*y-D*y-T*B);var P=n*E;y=134217729*n;T=y-(y-n);D=n-T;y=134217729*E;y-=y-E;B=E-y;y=D*B-(P-T*y-D*y-T*B);D=A-y;T=A-D;nb[0]=A-(D+T)+(T-y);A=M+D;T=A-M;M=M-(A-T)+(D-T);D=M-P;T=M-D;nb[1]=M-(D+T)+(T-P);P=A+D;T=P-A;nb[2]=A-(P-T)+(D-T);nb[3]=P;P=nb[0];for(M=1;4>M;M++)P+=nb[M];
M=2.2204460492503146E-16*na;P>=M||-P>=M?Y=P:(T=U-G,U=U-(G+T)+(T-Ca),T=Ha-E,Ha=Ha-(E+T)+(T-Ca),T=ea-n,ea=ea-(n+T)+(T-ma),T=Y-I,Y=Y-(I+T)+(T-ma),0===U&&0===ea&&0===Ha&&0===Y?Y=P:(M=1.1093356479670487E-31*na+3.3306690738754706E-16*Math.abs(P),P+=G*Y+I*U-(n*Ha+E*ea),P>=M||-P>=M?Y=P:(M=U*I,y=134217729*U,T=y-(y-U),D=U-T,y=134217729*I,y-=y-I,B=I-y,A=D*B-(M-T*y-D*y-T*B),P=ea*E,y=134217729*ea,T=y-(y-ea),D=ea-T,y=134217729*E,y-=y-E,B=E-y,y=D*B-(P-T*y-D*y-T*B),D=A-y,T=A-D,ua[0]=A-(D+T)+(T-y),A=M+D,T=A-M,M=M-
(A-T)+(D-T),D=M-P,T=M-D,ua[1]=M-(D+T)+(T-P),P=A+D,T=P-A,ua[2]=A-(P-T)+(D-T),ua[3]=P,ma=$a(4,nb,4,ua,Db),M=G*Y,y=134217729*G,T=y-(y-G),D=G-T,y=134217729*Y,y-=y-Y,B=Y-y,A=D*B-(M-T*y-D*y-T*B),P=n*Ha,y=134217729*n,T=y-(y-n),D=n-T,y=134217729*Ha,y-=y-Ha,B=Ha-y,y=D*B-(P-T*y-D*y-T*B),D=A-y,T=A-D,ua[0]=A-(D+T)+(T-y),A=M+D,T=A-M,M=M-(A-T)+(D-T),D=M-P,T=M-D,ua[1]=M-(D+T)+(T-P),P=A+D,T=P-A,ua[2]=A-(P-T)+(D-T),ua[3]=P,ma=$a(ma,Db,4,ua,lb),M=U*Y,y=134217729*U,T=y-(y-U),D=U-T,y=134217729*Y,y-=y-Y,B=Y-y,A=D*B-(M-
T*y-D*y-T*B),P=ea*Ha,y=134217729*ea,T=y-(y-ea),D=ea-T,y=134217729*Ha,y-=y-Ha,B=Ha-y,y=D*B-(P-T*y-D*y-T*B),D=A-y,T=A-D,ua[0]=A-(D+T)+(T-y),A=M+D,T=A-M,M=M-(A-T)+(D-T),D=M-P,T=M-D,ua[1]=M-(D+T)+(T-P),P=A+D,T=P-A,ua[2]=A-(P-T)+(D-T),ua[3]=P,Y=$a(ma,lb,4,ua,lc),Y=lc[Y-1])))}return-Y}function Xb(U,ea,Ha,Y){U-=Ha;ea-=Y;return U*U+ea*ea}function ec(U,ea,Ha,Y){if(20>=Y-Ha)for(var Ca=Ha+1;Ca<=Y;Ca++){for(var ma=U[Ca],na=ea[ma],n=Ca-1;n>=Ha&&ea[U[n]]>na;)U[n+1]=U[n--];U[n+1]=ma}else{Ca=Ha+1;ma=Y;Bb(U,Ha+Y>>
1,Ca);ea[U[Ha]]>ea[U[Y]]&&Bb(U,Ha,Y);ea[U[Ca]]>ea[U[Y]]&&Bb(U,Ca,Y);ea[U[Ha]]>ea[U[Ca]]&&Bb(U,Ha,Ca);na=U[Ca];for(n=ea[na];;){do Ca++;while(ea[U[Ca]]<n);do ma--;while(ea[U[ma]]>n);if(ma<Ca)break;Bb(U,Ca,ma)}U[Ha+1]=U[ma];U[ma]=na;Y-Ca+1>=ma-Ha?(ec(U,ea,Ca,Y),ec(U,ea,Ha,ma-1)):(ec(U,ea,Ha,ma-1),ec(U,ea,Ca,Y))}}function Bb(U,ea,Ha){const Y=U[ea];U[ea]=U[Ha];U[Ha]=Y}function yb(U){return U[0]}function ub(U){return U[1]}function Lb(U){return U[0]}function Yb(U){return U[1]}function Ba(U){const {triangles:ea,
coords:Ha}=U;for(U=0;U<ea.length;U+=3){const Y=2*ea[U],Ca=2*ea[U+1],ma=2*ea[U+2];if(1E-10<(Ha[ma]-Ha[Y])*(Ha[Ca+1]-Ha[Y+1])-(Ha[Ca]-Ha[Y])*(Ha[ma+1]-Ha[Y+1]))return!1}return!0}function bb(U,ea,Ha){return[U+Math.sin(U+ea)*Ha,ea+Math.cos(U-ea)*Ha]}function*Cb(U,ea,Ha,Y){let Ca=0;for(const ma of U)yield ea.call(Y,ma,Ca,U),yield Ha.call(Y,ma,Ca,U),++Ca}function xb(U){l.Transform.call(this,null,U)}const nb=new Float64Array(4),Db=new Float64Array(8),lb=new Float64Array(12),lc=new Float64Array(16),ua=new Float64Array(4),
ha=Math.pow(2,-52),xa=new Uint32Array(512);class Ua{static from(U,ea=yb,Ha=ub){const Y=U.length,Ca=new Float64Array(2*Y);for(let ma=0;ma<Y;ma++){const na=U[ma];Ca[2*ma]=ea(na);Ca[2*ma+1]=Ha(na)}return new Ua(Ca)}constructor(U){const ea=U.length>>1;if(0<ea&&"number"!==typeof U[0])throw Error("Expected coords to contain numbers.");this.coords=U;U=Math.max(2*ea-5,0);this._triangles=new Uint32Array(3*U);this._halfedges=new Int32Array(3*U);this._hashSize=Math.ceil(Math.sqrt(ea));this._hullPrev=new Uint32Array(ea);
this._hullNext=new Uint32Array(ea);this._hullTri=new Uint32Array(ea);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(ea);this._dists=new Float64Array(ea);this.update()}update(){const {coords:U,_hullPrev:ea,_hullNext:Ha,_hullTri:Y,_hullHash:Ca}=this;var ma=U.length>>1,na=Infinity,n=Infinity,G=-Infinity,M=-Infinity;for(var y=0;y<ma;y++){var T=U[2*y];var D=U[2*y+1];T<na&&(na=T);D<n&&(n=D);T>G&&(G=T);D>M&&(M=D);this._ids[y]=y}G=(na+G)/2;n=(n+M)/2;na=Infinity;for(M=0;M<
ma;M++)if(y=Xb(G,n,U[2*M],U[2*M+1]),y<na){var A=M;na=y}n=U[2*A];M=U[2*A+1];na=Infinity;for(G=0;G<ma;G++)if(G!==A&&(y=Xb(n,M,U[2*G],U[2*G+1]),y<na&&0<y)){var P=G;na=y}na=U[2*P];G=U[2*P+1];D=Infinity;for(y=0;y<ma;y++)if(y!==A&&y!==P){T=na-n;var B=G-M;var E=U[2*y]-n;var I=U[2*y+1]-M,X=T*T+B*B,Ea=E*E+I*I,R=.5/(T*I-B*E);B=(I*X-B*Ea)*R;T=(T*Ea-E*X)*R;T=B*B+T*T;if(T<D){var ia=y;D=T}}y=U[2*ia];T=U[2*ia+1];if(Infinity===D){for(A=0;A<ma;A++)this._dists[A]=U[2*A]-U[0]||U[2*A+1]-U[1];ec(this._ids,this._dists,
0,ma-1);A=new Uint32Array(ma);P=0;for(let Aa=0,Pa=-Infinity;Aa<ma;Aa++)ia=this._ids[Aa],this._dists[ia]>Pa&&(A[P++]=ia,Pa=this._dists[ia]);this.hull=A.subarray(0,P);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{0>vb(n,M,na,G,y,T)&&(D=P,E=na,X=G,P=ia,na=y,G=T,ia=D,y=E,T=X);E=na-n;D=G-M;X=y-n;I=T-M;Ea=E*E+D*D;R=X*X+I*I;B=.5/(E*I-D*X);D=n+(I*Ea-D*R)*B;E=M+(E*R-X*Ea)*B;this._cx=D;this._cy=E;for(X=0;X<ma;X++)this._dists[X]=Xb(U[2*X],U[2*X+1],D,E);ec(this._ids,this._dists,0,ma-
1);this._hullStart=A;ma=3;Ha[A]=ea[ia]=P;Ha[P]=ea[A]=ia;Ha[ia]=ea[P]=A;Y[A]=0;Y[P]=1;Y[ia]=2;Ca.fill(-1);Ca[this._hashKey(n,M)]=A;Ca[this._hashKey(na,G)]=P;Ca[this._hashKey(y,T)]=ia;this.trianglesLen=0;this._addTriangle(A,P,ia,-1,-1,-1);for(let Aa=0,Pa,Ra;Aa<this._ids.length;Aa++){n=this._ids[Aa];M=U[2*n];na=U[2*n+1];if(0<Aa&&Math.abs(M-Pa)<=ha&&Math.abs(na-Ra)<=ha)continue;Pa=M;Ra=na;if(n===A||n===P||n===ia)continue;G=0;for(let zb=0,kb=this._hashKey(M,na);zb<this._hashSize&&(G=Ca[(kb+zb)%this._hashSize],
-1===G||G===Ha[G]);zb++);y=G=ea[G];let fb;for(;fb=Ha[y],0<=vb(M,na,U[2*y],U[2*y+1],U[2*fb],U[2*fb+1]);)if(y=fb,y===G){y=-1;break}if(-1!==y){T=this._addTriangle(y,n,Ha[y],-1,-1,Y[y]);Y[n]=this._legalize(T+2);Y[y]=T;ma++;for(D=Ha[y];fb=Ha[D],0>vb(M,na,U[2*D],U[2*D+1],U[2*fb],U[2*fb+1]);)T=this._addTriangle(D,n,fb,Y[n],-1,Y[D]),Y[n]=this._legalize(T+2),Ha[D]=D,ma--,D=fb;if(y===G)for(;fb=ea[y],0>vb(M,na,U[2*fb],U[2*fb+1],U[2*y],U[2*y+1]);)T=this._addTriangle(fb,n,y,-1,Y[y],Y[fb]),this._legalize(T+2),
Y[fb]=T,Ha[y]=y,ma--,y=fb;this._hullStart=ea[n]=y;Ha[y]=ea[D]=n;Ha[n]=D;Ca[this._hashKey(M,na)]=n;Ca[this._hashKey(U[2*y],U[2*y+1])]=y}}this.hull=new Uint32Array(ma);for(let Aa=0,Pa=this._hullStart;Aa<ma;Aa++)this.hull[Aa]=Pa,Pa=Ha[Pa];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(U,ea){var Ha=Math;U-=this._cx;ea-=this._cy;U/=Math.abs(U)+Math.abs(ea);return Ha.floor.call(Ha,(0<ea?3-U:1+U)/4*this._hashSize)%this._hashSize}_legalize(U){const {_triangles:ea,
_halfedges:Ha,coords:Y}=this;let Ca=0;for(var ma;;){const D=Ha[U];var na=U-U%3;ma=na+(U+2)%3;if(-1===D){if(0===Ca)break;U=xa[--Ca];continue}const A=D-D%3,P=A+(D+2)%3;var n=ea[ma],G=ea[U],M=ea[na+(U+1)%3];na=ea[P];var y=Y[2*na],T=Y[2*na+1];const B=Y[2*n]-y,E=Y[2*n+1]-T,I=Y[2*G]-y;G=Y[2*G+1]-T;y=Y[2*M]-y;T=Y[2*M+1]-T;M=I*I+G*G;const X=y*y+T*T;if(0>B*(G*X-M*T)-E*(I*X-M*y)+(B*B+E*E)*(I*T-G*y)){ea[U]=na;ea[D]=n;n=Ha[P];if(-1===n){na=this._hullStart;do{if(this._hullTri[na]===P){this._hullTri[na]=U;break}na=
this._hullPrev[na]}while(na!==this._hullStart)}this._link(U,n);this._link(D,Ha[ma]);this._link(ma,P);ma=A+(D+1)%3;Ca<xa.length&&(xa[Ca++]=ma)}else{if(0===Ca)break;U=xa[--Ca]}}return ma}_link(U,ea){this._halfedges[U]=ea;-1!==ea&&(this._halfedges[ea]=U)}_addTriangle(U,ea,Ha,Y,Ca,ma){const na=this.trianglesLen;this._triangles[na]=U;this._triangles[na+1]=ea;this._triangles[na+2]=Ha;this._link(na,Y);this._link(na+1,Ca);this._link(na+2,ma);this.trianglesLen+=3;return na}}class Xa{constructor(){this._x0=
this._y0=this._x1=this._y1=null;this._=""}moveTo(U,ea){this._+=`M${this._x0=this._x1=+U},${this._y0=this._y1=+ea}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(U,ea){this._+=`L${this._x1=+U},${this._y1=+ea}`}arc(U,ea,Ha){U=+U;ea=+ea;Ha=+Ha;const Y=U+Ha,Ca=ea;if(0>Ha)throw Error("negative radius");if(null===this._x1)this._+=`M${Y},${Ca}`;else if(1E-6<Math.abs(this._x1-Y)||1E-6<Math.abs(this._y1-Ca))this._+="L"+Y+","+Ca;Ha&&(this._+=`A${Ha},${Ha},0,1,1,${U-Ha},${ea}A${Ha},${Ha},0,1,1,${this._x1=
Y},${this._y1=Ca}`)}rect(U,ea,Ha,Y){this._+=`M${this._x0=this._x1=+U},${this._y0=this._y1=+ea}h${+Ha}v${+Y}h${-Ha}Z`}value(){return this._||null}}class Ka{constructor(){this._=[]}moveTo(U,ea){this._.push([U,ea])}closePath(){this._.push(this._[0].slice())}lineTo(U,ea){this._.push([U,ea])}value(){return this._.length?this._:null}}let jb=class{constructor(U,[ea,Ha,Y,Ca]=[0,0,960,500]){if(!((Y=+Y)>=(ea=+ea)&&(Ca=+Ca)>=(Ha=+Ha)))throw Error("invalid bounds");this.delaunay=U;this._circumcenters=new Float64Array(2*
U.points.length);this.vectors=new Float64Array(2*U.points.length);this.xmax=Y;this.xmin=ea;this.ymax=Ca;this.ymin=Ha;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const {delaunay:{points:U,hull:ea,triangles:Ha},vectors:Y}=this;var Ca,ma=this.circumcenters=this._circumcenters.subarray(0,Ha.length/3*2);for(let B=0,E=0,I=Ha.length,X,Ea;B<I;B+=3,E+=2){var na=2*Ha[B],n=2*Ha[B+1],G=2*Ha[B+2],M=U[na];na=U[na+1];var y=U[G],T=U[G+1];G=U[n]-M;const R=U[n+1]-na;n=y-M;const ia=
T-na;var D=2*(G*ia-R*n);if(1E-9>Math.abs(D)){if(void 0===A){var A=Ca=0;for(var P of ea)A+=U[2*P],Ca+=U[2*P+1];A/=ea.length;Ca/=ea.length}G=1E9*Math.sign((A-M)*ia-(Ca-na)*n);X=(M+y)/2-G*ia;Ea=(na+T)/2+G*n}else y=1/D,T=G*G+R*R,D=n*n+ia*ia,X=M+(ia*T-R*D)*y,Ea=na+(G*D-n*T)*y;ma[E]=X;ma[E+1]=Ea}A=ea[ea.length-1];ma=4*A;P=U[2*A];G=U[2*A+1];Y.fill(0);for(n=0;n<ea.length;++n)A=ea[n],Ca=ma,M=P,na=G,ma=4*A,P=U[2*A],G=U[2*A+1],Y[Ca+2]=Y[ma]=na-G,Y[Ca+3]=Y[ma+1]=P-M}render(U){const ea=null==U?U=new Xa:void 0,
{delaunay:{halfedges:Ha,inedges:Y,hull:Ca},circumcenters:ma,vectors:na}=this;if(1>=Ca.length)return null;for(let T=0,D=Ha.length;T<D;++T){var n=Ha[T];if(!(n<T)){var G=2*Math.floor(T/3);n=2*Math.floor(n/3);this._renderSegment(ma[G],ma[G+1],ma[n],ma[n+1],U)}}G=Ca[Ca.length-1];for(n=0;n<Ca.length;++n){var M=G;G=Ca[n];var y=2*Math.floor(Y[G]/3);const T=ma[y];y=ma[y+1];M*=4;(M=this._project(T,y,na[M+2],na[M+3]))&&this._renderSegment(T,y,M[0],M[1],U)}return ea&&ea.value()}renderBounds(U){const ea=null==
U?U=new Xa:void 0;U.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return ea&&ea.value()}renderCell(U,ea){const Ha=null==ea?ea=new Xa:void 0;U=this._clip(U);if(null!==U&&U.length){ea.moveTo(U[0],U[1]);for(var Y=U.length;U[0]===U[Y-2]&&U[1]===U[Y-1]&&1<Y;)Y-=2;for(let Ca=2;Ca<Y;Ca+=2)U[Ca]===U[Ca-2]&&U[Ca+1]===U[Ca-1]||ea.lineTo(U[Ca],U[Ca+1]);ea.closePath();return Ha&&Ha.value()}}*cellPolygons(){var {delaunay:{points:U}}=this;for(let ea=0,Ha=U.length/2;ea<Ha;++ea)if(U=this.cellPolygon(ea))U.index=
ea,yield U}cellPolygon(U){const ea=new Ka;this.renderCell(U,ea);return ea.value()}_renderSegment(U,ea,Ha,Y,Ca){const ma=this._regioncode(U,ea),na=this._regioncode(Ha,Y);if(0===ma&&0===na)Ca.moveTo(U,ea),Ca.lineTo(Ha,Y);else if(U=this._clipSegment(U,ea,Ha,Y,ma,na))Ca.moveTo(U[0],U[1]),Ca.lineTo(U[2],U[3])}contains(U,ea,Ha){return(ea=+ea,ea!==ea)||(Ha=+Ha,Ha!==Ha)?!1:this.delaunay._step(U,ea,Ha)===U}*neighbors(U){const ea=this._clip(U);if(ea)for(const Ha of this.delaunay.neighbors(U))if(U=this._clip(Ha))a:for(let Y=
0,Ca=ea.length;Y<Ca;Y+=2)for(let ma=0,na=U.length;ma<na;ma+=2)if(ea[Y]===U[ma]&&ea[Y+1]===U[ma+1]&&ea[(Y+2)%Ca]===U[(ma+na-2)%na]&&ea[(Y+3)%Ca]===U[(ma+na-1)%na]){yield Ha;break a}}_cell(U){const {circumcenters:ea,delaunay:{inedges:Ha,halfedges:Y,triangles:Ca}}=this,ma=Ha[U];if(-1===ma)return null;const na=[];let n=ma;do{const G=Math.floor(n/3);na.push(ea[2*G],ea[2*G+1]);n=2===n%3?n-2:n+1;if(Ca[n]!==U)break;n=Y[n]}while(n!==ma&&-1!==n);return na}_clip(U){if(0===U&&1===this.delaunay.hull.length)return[this.xmax,
this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const ea=this._cell(U);if(null===ea)return null;const {vectors:Ha}=this,Y=4*U;return this._simplify(Ha[Y]||Ha[Y+1]?this._clipInfinite(U,ea,Ha[Y],Ha[Y+1],Ha[Y+2],Ha[Y+3]):this._clipFinite(U,ea))}_clipFinite(U,ea){const Ha=ea.length;let Y=null;let Ca=ea[Ha-2],ma=ea[Ha-1];let na=this._regioncode(Ca,ma),n=0;for(let T=0;T<Ha;T+=2){var G=Ca;var M=ma;Ca=ea[T];ma=ea[T+1];var y=na;na=this._regioncode(Ca,ma);if(0===y&&0===na)n=0,Y?Y.push(Ca,
ma):Y=[Ca,ma];else{let D,A;if(0===y){if(null===(G=this._clipSegment(G,M,Ca,ma,y,na)))continue;[M,y,D,A]=G}else{if(null===(G=this._clipSegment(Ca,ma,G,M,na,y)))continue;[D,A,M,y]=G;G=n;n=this._edgecode(M,y);G&&n&&this._edge(U,G,n,Y,Y.length);Y?Y.push(M,y):Y=[M,y]}G=n;n=this._edgecode(D,A);G&&n&&this._edge(U,G,n,Y,Y.length);Y?Y.push(D,A):Y=[D,A]}}if(Y)G=n,n=this._edgecode(Y[0],Y[1]),G&&n&&this._edge(U,G,n,Y,Y.length);else if(this.contains(U,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,
this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return Y}_clipSegment(U,ea,Ha,Y,Ca,ma){const na=Ca<ma;for(na&&([U,ea,Ha,Y,Ca,ma]=[Ha,Y,U,ea,ma,Ca]);;){if(0===Ca&&0===ma)return na?[Ha,Y,U,ea]:[U,ea,Ha,Y];if(Ca&ma)return null;var n=void 0;let G;n=Ca||ma;n&8?(n=U+(Ha-U)*(this.ymax-ea)/(Y-ea),G=this.ymax):n&4?(n=U+(Ha-U)*(this.ymin-ea)/(Y-ea),G=this.ymin):n&2?(G=ea+(Y-ea)*(this.xmax-U)/(Ha-U),n=this.xmax):(G=ea+(Y-ea)*(this.xmin-U)/(Ha-U),n=this.xmin);Ca?(U=n,ea=G,Ca=this._regioncode(U,
ea)):(Ha=n,Y=G,ma=this._regioncode(Ha,Y))}}_clipInfinite(U,ea,Ha,Y,Ca,ma){ea=Array.from(ea);let na;(na=this._project(ea[0],ea[1],Ha,Y))&&ea.unshift(na[0],na[1]);(na=this._project(ea[ea.length-2],ea[ea.length-1],Ca,ma))&&ea.push(na[0],na[1]);if(ea=this._clipFinite(U,ea))for(let n=0,G=ea.length,M,y=this._edgecode(ea[G-2],ea[G-1]);n<G;n+=2)M=y,y=this._edgecode(ea[n],ea[n+1]),M&&y&&(n=this._edge(U,M,y,ea,n),G=ea.length);else this.contains(U,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(ea=[this.xmin,
this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return ea}_edge(U,ea,Ha,Y,Ca){for(;ea!==Ha;){let ma,na;switch(ea){case 5:ea=4;continue;case 4:ea=6;ma=this.xmax;na=this.ymin;break;case 6:ea=2;continue;case 2:ea=10;ma=this.xmax;na=this.ymax;break;case 10:ea=8;continue;case 8:ea=9;ma=this.xmin;na=this.ymax;break;case 9:ea=1;continue;case 1:ea=5,ma=this.xmin,na=this.ymin}Y[Ca]===ma&&Y[Ca+1]===na||!this.contains(U,ma,na)||(Y.splice(Ca,0,ma,na),Ca+=2)}return Ca}_project(U,ea,Ha,
Y){let Ca=Infinity,ma,na,n;if(0>Y){if(ea<=this.ymin)return null;(ma=(this.ymin-ea)/Y)<Ca&&(n=this.ymin,na=U+(Ca=ma)*Ha)}else if(0<Y){if(ea>=this.ymax)return null;(ma=(this.ymax-ea)/Y)<Ca&&(n=this.ymax,na=U+(Ca=ma)*Ha)}if(0<Ha){if(U>=this.xmax)return null;(ma=(this.xmax-U)/Ha)<Ca&&(na=this.xmax,n=ea+ma*Y)}else if(0>Ha){if(U<=this.xmin)return null;(ma=(this.xmin-U)/Ha)<Ca&&(na=this.xmin,n=ea+ma*Y)}return[na,n]}_edgecode(U,ea){return(U===this.xmin?1:U===this.xmax?2:0)|(ea===this.ymin?4:ea===this.ymax?
8:0)}_regioncode(U,ea){return(U<this.xmin?1:U>this.xmax?2:0)|(ea<this.ymin?4:ea>this.ymax?8:0)}_simplify(U){if(U&&4<U.length){for(let ea=0;ea<U.length;ea+=2){const Ha=(ea+2)%U.length,Y=(ea+4)%U.length;if(U[ea]===U[Ha]&&U[Ha]===U[Y]||U[ea+1]===U[Ha+1]&&U[Ha+1]===U[Y+1])U.splice(Ha,2),ea-=2}U.length||(U=null)}return U}};const gb=2*Math.PI,wb=Math.pow;class Ub{static from(U,ea=Lb,Ha=Yb,Y){if("length"in U){const Ca=U.length,ma=new Float64Array(2*Ca);for(let na=0;na<Ca;++na){const n=U[na];ma[2*na]=ea.call(Y,
n,na,U);ma[2*na+1]=Ha.call(Y,n,na,U)}U=ma}else U=Float64Array.from(Cb(U,ea,Ha,Y));return new Ub(U)}constructor(U){this._delaunator=new Ua(U);this.inedges=new Int32Array(U.length/2);this._hullIndex=new Int32Array(U.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();this._init();return this}_init(){var U=this._delaunator;const ea=this.points;if(U.hull&&2<U.hull.length&&Ba(U)){this.collinear=Int32Array.from({length:ea.length/2},(na,n)=>n).sort((na,n)=>ea[2*
na]-ea[2*n]||ea[2*na+1]-ea[2*n+1]);U=this.collinear[0];var Ha=this.collinear[this.collinear.length-1];U=[ea[2*U],ea[2*U+1],ea[2*Ha],ea[2*Ha+1]];U=1E-8*Math.hypot(U[3]-U[1],U[2]-U[0]);for(let na=0,n=ea.length/2;na<n;++na)Ha=bb(ea[2*na],ea[2*na+1],U),ea[2*na]=Ha[0],ea[2*na+1]=Ha[1];this._delaunator=new Ua(ea)}else delete this.collinear;U=this.halfedges=this._delaunator.halfedges;Ha=this.hull=this._delaunator.hull;const Y=this.triangles=this._delaunator.triangles,Ca=this.inedges.fill(-1),ma=this._hullIndex.fill(-1);
for(let na=0,n=U.length;na<n;++na){const G=Y[2===na%3?na-2:na+1];if(-1===U[na]||-1===Ca[G])Ca[G]=na}for(let na=0,n=Ha.length;na<n;++na)ma[Ha[na]]=na;2>=Ha.length&&0<Ha.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=Ha[0],Ca[Ha[0]]=1,2===Ha.length&&(Ca[Ha[1]]=0,this.triangles[1]=Ha[1],this.triangles[2]=Ha[1]))}voronoi(U){return new jb(this,U)}*neighbors(U){const {inedges:ea,hull:Ha,_hullIndex:Y,halfedges:Ca,triangles:ma,collinear:na}=
this;if(na){var n=na.indexOf(U);0<n&&(yield na[n-1]);n<na.length-1&&(yield na[n+1])}else{var G=ea[U];if(-1!==G){var M=G;do{yield(n=ma[M]);M=2===M%3?M-2:M+1;if(ma[M]!==U)break;M=Ca[M];if(-1===M){U=Ha[(Y[U]+1)%Ha.length];U!==n&&(yield U);break}}while(M!==G)}}}find(U,ea,Ha=0){if((U=+U,U!==U)||(ea=+ea,ea!==ea))return-1;const Y=Ha;let Ca;for(;0<=(Ca=this._step(Ha,U,ea))&&Ca!==Ha&&Ca!==Y;)Ha=Ca;return Ca}_step(U,ea,Ha){const {inedges:Y,hull:Ca,_hullIndex:ma,halfedges:na,triangles:n,points:G}=this;if(-1===
Y[U]||!G.length)return(U+1)%(G.length>>1);let M=U,y=wb(ea-G[2*U],2)+wb(Ha-G[2*U+1],2);const T=Y[U];let D=T;do{let A=n[D];const P=wb(ea-G[2*A],2)+wb(Ha-G[2*A+1],2);P<y&&(y=P,M=A);D=2===D%3?D-2:D+1;if(n[D]!==U)break;D=na[D];if(-1===D){D=Ca[(ma[U]+1)%Ca.length];if(D!==A&&wb(ea-G[2*D],2)+wb(Ha-G[2*D+1],2)<y)return D;break}}while(D!==T);return M}render(U){const ea=null==U?U=new Xa:void 0,{points:Ha,halfedges:Y,triangles:Ca}=this;for(let na=0,n=Y.length;na<n;++na){var ma=Y[na];if(ma<na)continue;const G=
2*Ca[na];ma=2*Ca[ma];U.moveTo(Ha[G],Ha[G+1]);U.lineTo(Ha[ma],Ha[ma+1])}this.renderHull(U);return ea&&ea.value()}renderPoints(U,ea){void 0!==ea||U&&"function"===typeof U.moveTo||(ea=U,U=null);ea=void 0==ea?2:+ea;const Ha=null==U?U=new Xa:void 0,{points:Y}=this;for(let Ca=0,ma=Y.length;Ca<ma;Ca+=2){const na=Y[Ca],n=Y[Ca+1];U.moveTo(na+ea,n);U.arc(na,n,ea,0,gb)}return Ha&&Ha.value()}renderHull(U){const ea=null==U?U=new Xa:void 0,{hull:Ha,points:Y}=this;var Ca=2*Ha[0];const ma=Ha.length;U.moveTo(Y[Ca],
Y[Ca+1]);for(Ca=1;Ca<ma;++Ca){const na=2*Ha[Ca];U.lineTo(Y[na],Y[na+1])}U.closePath();return ea&&ea.value()}hullPolygon(){const U=new Ka;this.renderHull(U);return U.value()}renderTriangle(U,ea){const Ha=null==ea?ea=new Xa:void 0,{points:Y,triangles:Ca}=this,ma=2*Ca[U*=3],na=2*Ca[U+1];U=2*Ca[U+2];ea.moveTo(Y[ma],Y[ma+1]);ea.lineTo(Y[na],Y[na+1]);ea.lineTo(Y[U],Y[U+1]);ea.closePath();return Ha&&Ha.value()}*trianglePolygons(){const {triangles:U}=this;for(let ea=0,Ha=U.length/3;ea<Ha;++ea)yield this.trianglePolygon(ea)}trianglePolygon(U){const ea=
new Ka;this.renderTriangle(U,ea);return ea.value()}}xb.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string","default":"path"}]};const Na=[-1E5,-1E5,1E5,1E5];ja.inherits(xb,l.Transform,{transform(U,ea){const Ha=U.as||"path",Y=ea.source;
if(!Y||!Y.length)return ea;var Ca=U.size;Ca=Ca?[0,0,Ca[0],Ca[1]]:(Ca=U.extent)?[Ca[0][0],Ca[0][1],Ca[1][0],Ca[1][1]]:Na;Ca=this.value=Ub.from(Y,U.x,U.y).voronoi(Ca);for(let n=0,G=Y.length;n<G;++n){var ma=Ca.cellPolygon(n),na=Y[n];if(!ma||2===ma.length&&ma[0][0]===ma[1][0]&&ma[0][1]===ma[1][1])ma=null;else{const M=ma[0][0],y=ma[0][1];let T=ma.length-1;for(;ma[T][0]===M&&ma[T][1]===y;--T);ma="M"+ma.slice(0,T+1).join("L")+"Z"}na[Ha]=ma}return ea.reflow(U.modified()).modifies(Ha)}});u.voronoi=xb})};
shadow$provide[47]=function(Fb,pb,zc,Za){(function(u,l){"object"===typeof Za&&"undefined"!==typeof zc?l(Za,pb(35),pb(32),pb(24),pb(36),pb(33)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),l):(u="undefined"!==typeof globalThis?globalThis:u||self,l((u.vega=u.vega||{},u.vega.transforms={}),u.vega,u.vega,u.vega,u.vega,u.vega))})(this,function(u,l,ja,$a,vb,Xb){function ec(){function Db(U){U.width=U.height=1;var ea=Math.sqrt(U.getContext("2d").getImageData(0,
0,1,1).data.length>>2);U.width=2048/ea;U.height=2048/ea;U=U.getContext("2d");U.fillStyle=U.strokeStyle="red";U.textAlign="center";return{context:U,ratio:ea}}function lb(U,ea,Ha){for(var Y=ea.x,Ca=ea.y,ma=Math.hypot(lc[0],lc[1]),na=gb(lc),n=.5>Ub()?1:-1,G=-n,M,y;M=na(G+=n);){y=~~M[0];M=~~M[1];if(Math.min(Math.abs(y),Math.abs(M))>=ma)break;ea.x=Y+y;ea.y=Ca+M;if(!(0>ea.x+ea.x0||0>ea.y+ea.y0||ea.x+ea.x1>lc[0]||ea.y+ea.y1>lc[1])){if(!(y=!Ha)){a:{y=lc[0];y>>=5;M=ea.sprite;var T=ea.width>>5;var D=ea.x-(T<<
4);for(var A=D&127,P=32-A,B=ea.y1-ea.y0,E=(ea.y+ea.y0)*y+(D>>5),I=0;I<B;I++){for(var X=D=0;X<=T;X++)if((D<<P|(X<T?(D=M[I*T+X])>>>A:0))&U[E+X]){y=!0;break a}E+=y}y=!1}y=!y}if(y&&(!Ha||ea.x+ea.x1>Ha[0].x&&ea.x+ea.x0<Ha[1].x&&ea.y+ea.y1>Ha[0].y&&ea.y+ea.y0<Ha[1].y)){Ha=ea.sprite;Y=ea.width>>5;Ca=lc[0]>>5;G=ea.x-(Y<<4);ma=G&127;na=32-ma;n=ea.y1-ea.y0;G=(ea.y+ea.y0)*Ca+(G>>5);for(M=0;M<n;M++){for(T=y=0;T<=Y;T++)U[G+T]=U[G+T]|y<<na|(T<Y?(y=Ha[M*Y+T])>>>ma:0);G+=Ca}ea.sprite=null;return!0}}}return!1}var lc=
[256,256],ua,ha,xa,Ua,Xa,Ka,jb,gb=ub,wb=[],Ub=Math.random,Na={layout:function(){for(var U=Db(l.canvas()),ea=Lb((lc[0]>>5)*lc[1]),Ha=null,Y=wb.length,Ca=-1,ma=[],na=wb.map(G=>({text:ua(G),font:ha(G),style:Ua(G),weight:Xa(G),rotate:Ka(G),size:~~(xa(G)+1E-14),padding:jb(G),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:G})).sort((G,M)=>M.size-G.size);++Ca<Y;){var n=na[Ca];n.x=lc[0]*(Ub()+.5)>>1;n.y=lc[1]*(Ub()+.5)>>1;Bb(U,n,na,Ca);n.hasText&&lb(ea,n,Ha)&&(ma.push(n),Ha?yb(Ha,n):Ha=[{x:n.x+
n.x0,y:n.y+n.y0},{x:n.x+n.x1,y:n.y+n.y1}],n.x-=lc[0]>>1,n.y-=lc[1]>>1)}return ma},words:function(U){return arguments.length?(wb=U,Na):wb},size:function(U){return arguments.length?(lc=[+U[0],+U[1]],Na):lc},font:function(U){return arguments.length?(ha=Yb(U),Na):ha},fontStyle:function(U){return arguments.length?(Ua=Yb(U),Na):Ua},fontWeight:function(U){return arguments.length?(Xa=Yb(U),Na):Xa},rotate:function(U){return arguments.length?(Ka=Yb(U),Na):Ka},text:function(U){return arguments.length?(ua=Yb(U),
Na):ua},spiral:function(U){return arguments.length?(gb=Cb[U]||U,Na):gb},fontSize:function(U){return arguments.length?(xa=Yb(U),Na):xa},padding:function(U){return arguments.length?(jb=Yb(U),Na):jb},random:function(U){return arguments.length?(Ub=U,Na):Ub}};return Na}function Bb(Db,lb,lc,ua){if(!lb.sprite){var ha=Db.context,xa=Db.ratio;ha.clearRect(0,0,2048/xa,2048/xa);var Ua=Db=0,Xa=0,Ka=lc.length;for(--ua;++ua<Ka;){lb=lc[ua];ha.save();ha.font=lb.style+" "+lb.weight+" "+~~((lb.size+1)/xa)+"px "+lb.font;
var jb=ha.measureText(lb.text+"m").width*xa;var gb=lb.size<<1;if(lb.rotate){var wb=Math.sin(lb.rotate*bb),Ub=Math.cos(lb.rotate*bb),Na=jb*Ub,U=jb*wb;Ub*=gb;jb=gb*wb;jb=Math.max(Math.abs(Na+jb),Math.abs(Na-jb))+31>>5<<5;gb=~~Math.max(Math.abs(U+Ub),Math.abs(U-Ub))}else jb=jb+31>>5<<5;gb>Xa&&(Xa=gb);2048<=Db+jb&&(Db=0,Ua+=Xa,Xa=0);if(2048<=Ua+gb)break;ha.translate((Db+(jb>>1))/xa,(Ua+(gb>>1))/xa);lb.rotate&&ha.rotate(lb.rotate*bb);ha.fillText(lb.text,0,0);lb.padding&&(ha.lineWidth=2*lb.padding,ha.strokeText(lb.text,
0,0));ha.restore();lb.width=jb;lb.height=gb;lb.xoff=Db;lb.yoff=Ua;lb.x1=jb>>1;lb.y1=gb>>1;lb.x0=-lb.x1;lb.y0=-lb.y1;lb.hasText=!0;Db+=jb}Ka=ha.getImageData(0,0,2048/xa,2048/xa).data;for(Na=[];0<=--ua;)if(lb=lc[ua],lb.hasText){jb=lb.width;ha=jb>>5;gb=lb.y1-lb.y0;for(xa=0;xa<gb*ha;xa++)Na[xa]=0;Db=lb.xoff;if(null==Db)break;Ua=lb.yoff;U=0;wb=-1;for(Xa=0;Xa<gb;Xa++){for(xa=0;xa<jb;xa++)Ub=Ka[2048*(Ua+Xa)+(Db+xa)<<2]?1<<31-xa%32:0,Na[ha*Xa+(xa>>5)]|=Ub,U|=Ub;U?wb=Xa:(lb.y0++,gb--,Xa--,Ua++)}lb.y1=lb.y0+
wb;lb.sprite=Na.slice(0,(lb.y1-lb.y0)*ha)}}}function yb(Db,lb){var lc=Db[0];Db=Db[1];lb.x+lb.x0<lc.x&&(lc.x=lb.x+lb.x0);lb.y+lb.y0<lc.y&&(lc.y=lb.y+lb.y0);lb.x+lb.x1>Db.x&&(Db.x=lb.x+lb.x1);lb.y+lb.y1>Db.y&&(Db.y=lb.y+lb.y1)}function ub(Db){var lb=Db[0]/Db[1];return function(lc){return[lb*(lc*=.1)*Math.cos(lc),lc*Math.sin(lc)]}}function Lb(Db){for(var lb=[],lc=-1;++lc<Db;)lb[lc]=0;return lb}function Yb(Db){return"function"===typeof Db?Db:function(){return Db}}function Ba(Db){ja.Transform.call(this,
ec(),Db)}var bb=Math.PI/180,Cb={archimedean:ub,rectangular:function(Db){var lb=4*Db[0]/Db[1],lc=0,ua=0;return function(ha){var xa=0>ha?-1:1;switch(Math.sqrt(1+4*xa*ha)-xa&3){case 0:lc+=lb;break;case 1:ua+=4;break;case 2:lc-=lb;break;default:ua-=4}return[lc,ua]}}};const xb="x y font fontSize fontStyle fontWeight angle".split(" "),nb="text font rotate fontSize fontStyle fontWeight".split(" ");Ba.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},
{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",
array:!0,length:7,"default":xb}]};$a.inherits(Ba,ja.Transform,{transform(Db,lb){function lc(jb){jb=Db[jb];return $a.isFunction(jb)&&lb.modified(jb.fields)}!Db.size||Db.size[0]&&Db.size[1]||$a.error("Wordcloud size dimensions must be non-zero.");const ua=Db.modified();if(ua||lb.changed(lb.ADD_REM)||nb.some(lc)){var ha=lb.materialize(lb.SOURCE).source,xa=this.value,Ua=Db.as||xb,Xa=Db.fontSize||14,Ka;$a.isFunction(Xa)?Ka=Db.fontSizeRange:Xa=$a.constant(Xa);if(Ka){const jb=Xa,gb=vb.scale("sqrt")().domain($a.extent(ha,
jb)).range(Ka);Xa=wb=>gb(jb(wb))}ha.forEach(jb=>{jb[Ua[0]]=NaN;jb[Ua[1]]=NaN;jb[Ua[3]]=0});ha=xa.words(ha).text(Db.text).size(Db.size||[500,500]).padding(Db.padding||1).spiral(Db.spiral||"archimedean").rotate(Db.rotate||0).font(Db.font||"sans-serif").fontStyle(Db.fontStyle||"normal").fontWeight(Db.fontWeight||"normal").fontSize(Xa).random(Xb.random).layout();Xa=xa.size();xa=Xa[0]>>1;Xa=Xa[1]>>1;Ka=ha.length;for(let jb=0,gb,wb;jb<Ka;++jb)gb=ha[jb],wb=gb.datum,wb[Ua[0]]=gb.x+xa,wb[Ua[1]]=gb.y+Xa,wb[Ua[2]]=
gb.font,wb[Ua[3]]=gb.size,wb[Ua[4]]=gb.style,wb[Ua[5]]=gb.weight,wb[Ua[6]]=gb.rotate;return lb.reflow(ua).modifies(Ua)}}});u.wordcloud=Ba})};
shadow$provide[48]=function(Fb,pb,zc,Za){(function(u,l){"object"===typeof Za&&"undefined"!==typeof zc?l(Za,pb(32),pb(24)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l((u.vega=u.vega||{},u.vega.transforms={}),u.vega,u.vega))})(this,function(u,l,ja){function $a(){let ha=8,xa=[],Ua=new Uint32Array(0),Xa=vb(0,ha),Ka=vb(0,ha);return{data:()=>xa,seen:()=>{var jb=Ua;var gb=xa.length;jb.length>=gb||(gb=new jb.constructor(gb),
gb.set(jb),jb=gb);return Ua=jb},add(jb){for(let gb=0,wb=xa.length,Ub=jb.length,Na;gb<Ub;++gb)Na=jb[gb],Na._index=wb++,xa.push(Na)},remove(jb,gb){const wb=xa.length;jb=Array(wb-jb);const Ub=xa;let Na,U,ea;for(U=0;!gb[U]&&U<wb;++U)jb[U]=xa[U],Ub[U]=U;for(ea=U;U<wb;++U)Na=xa[U],gb[U]?Ub[U]=-1:(Ub[U]=ea,Xa[ea]=Xa[U],Ka[ea]=Ka[U],jb[ea]=Na,Na._index=ea++),Xa[U]=0;xa=jb;return Ub},size:()=>xa.length,curr:()=>Xa,prev:()=>Ka,reset:jb=>Ka[jb]=Xa[jb],all:()=>257>ha?255:65537>ha?65535:4294967295,set(jb,gb){Xa[jb]|=
gb},clear(jb,gb){Xa[jb]&=~gb},resize(jb,gb){if(jb>Xa.length||gb>ha)ha=Math.max(gb,ha),Xa=vb(jb,ha,Xa),Ka=vb(jb,ha)}}}function vb(ha,xa,Ua){ha=(257>xa?xb:65537>xa?nb:Db)(ha);Ua&&ha.set(Ua);return ha}function Xb(ha,xa,Ua){const Xa=1<<xa;return{one:Xa,zero:~Xa,range:Ua.slice(),bisect:ha.bisect,index:ha.index,size:ha.size,onAdd(Ka,jb){var gb=this.bisect(this.range,Ka.value);Ka=Ka.index;const wb=gb[0];gb=gb[1];const Ub=Ka.length;let Na;for(Na=0;Na<wb;++Na)jb[Ka[Na]]|=Xa;for(Na=gb;Na<Ub;++Na)jb[Ka[Na]]|=
Xa;return this}}}function ec(ha,xa){return null==ha||null==xa?NaN:ha<xa?-1:ha>xa?1:ha>=xa?0:NaN}function Bb(ha,xa){return null==ha||null==xa?NaN:xa<ha?-1:xa>ha?1:xa>=ha?0:NaN}function yb(ha){function xa(jb,gb,wb=0,Ub=jb.length){if(wb<Ub){if(0!==Ua(gb,gb))return Ub;do{const Na=wb+Ub>>>1;0>Xa(jb[Na],gb)?wb=Na+1:Ub=Na}while(wb<Ub)}return wb}let Ua,Xa,Ka;2!==ha.length?(Ua=ec,Xa=(jb,gb)=>ec(ha(jb),gb),Ka=(jb,gb)=>ha(jb)-gb):(Ua=ha===ec||ha===Bb?ha:ub,Ka=Xa=ha);return{left:xa,center:function(jb,gb,wb=0,
Ub=jb.length){Ub=xa(jb,gb,wb,Ub-1);return Ub>wb&&Ka(jb[Ub-1],gb)>-Ka(jb[Ub],gb)?Ub-1:Ub},right:function(jb,gb,wb=0,Ub=jb.length){if(wb<Ub){if(0!==Ua(gb,gb))return Ub;do{const Na=wb+Ub>>>1;0>=Xa(jb[Na],gb)?wb=Na+1:Ub=Na}while(wb<Ub)}return wb}}}function ub(){return 0}function Lb(ha,xa){return Array.from(xa,Ua=>ha[Ua])}function Yb(){let ha=new Uint32Array(0),xa=[],Ua=0;return{insert:function(Xa,Ka,jb){if(!Ka.length)return[];const gb=Ua,wb=Ka.length,Ub=new Uint32Array(wb);let Na=Array(wb);var U;for(U=
0;U<wb;++U)Na[U]=Xa(Ka[U]),Ub[U]=U;Na=Ba(Na,Ub);if(gb){Xa=xa;Ka=ha;xa=Array(gb+wb);ha=new Uint32Array(gb+wb);U=Na;var ea=xa,Ha=ha;let Y=0,Ca=0,ma;for(ma=0;Y<gb&&Ca<wb;++ma)Xa[Y]<U[Ca]?(ea[ma]=Xa[Y],Ha[ma]=Ka[Y++]):(ea[ma]=U[Ca],Ha[ma]=Ub[Ca++]+jb);for(;Y<gb;++Y,++ma)ea[ma]=Xa[Y],Ha[ma]=Ka[Y];for(;Ca<wb;++Ca,++ma)ea[ma]=U[Ca],Ha[ma]=Ub[Ca]+jb}else{if(0<jb)for(U=0;U<wb;++U)Ub[U]+=jb;xa=Na;ha=Ub}Ua=gb+wb;return{index:Ub,value:Na}},remove:function(Xa,Ka){const jb=Ua;let gb,wb,Ub;for(wb=0;!Ka[ha[wb]]&&
wb<jb;++wb);for(Ub=wb;wb<jb;++wb)Ka[gb=ha[wb]]||(ha[Ub]=gb,xa[Ub]=xa[wb],++Ub);Ua=jb-Xa},bisect:function(Xa,Ka){let jb;Ka?jb=Ka.length:(Ka=xa,jb=Ua);return[ua(Ka,Xa[0],0,jb),lc(Ka,Xa[1],0,jb)]},reindex:function(Xa){for(let Ka=0,jb=Ua;Ka<jb;++Ka)ha[Ka]=Xa[ha[Ka]]},index:()=>ha,size:()=>Ua}}function Ba(ha,xa){ha.sort.call(xa,(Ua,Xa)=>{Ua=ha[Ua];Xa=ha[Xa];return Ua<Xa?-1:Ua>Xa?1:0});return Lb(ha,xa)}function bb(ha){l.Transform.call(this,$a(),ha);this._dims=this._indices=null}function Cb(ha){l.Transform.call(this,
null,ha)}const xb=ha=>new Uint8Array(ha),nb=ha=>new Uint16Array(ha),Db=ha=>new Uint32Array(ha),lb=yb(ec),lc=lb.right,ua=lb.left;yb(function(ha){return null===ha?NaN:+ha}).center;bb.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};ja.inherits(bb,l.Transform,{transform(ha,xa){return this._dims?ha.modified("fields")||ha.fields.some(Ua=>xa.modified(Ua.fields))?
this.reinit(ha,xa):this.eval(ha,xa):this.init(ha,xa)},init(ha,xa){const Ua=ha.fields,Xa=ha.query,Ka=this._indices={},jb=this._dims=[],gb=Xa.length;let wb=0;for(var Ub;wb<gb;++wb)Ub=Ua[wb].fname,Ub=Ka[Ub]||(Ka[Ub]=Yb()),jb.push(Xb(Ub,wb,Xa[wb]));return this.eval(ha,xa)},reinit(ha,xa){const Ua=xa.materialize().fork(),Xa=ha.fields,Ka=ha.query,jb=this._indices,gb=this._dims,wb=this.value,Ub=wb.curr(),Na=wb.prev(),U=wb.all(),ea=Ua.rem=Ua.add,Ha=Ua.mod,Y=Ka.length,Ca={};let ma;var na;let n,G,M,y;Na.set(Ub);
xa.rem.length&&(n=this.remove(ha,xa,Ua));xa.add.length&&wb.add(xa.add);if(xa.mod.length){G={};var T=xa.mod;M=0;for(na=T.length;M<na;++M)G[T[M]._index]=1}for(M=0;M<Y;++M)if(y=Xa[M],!gb[M]||ha.modified("fields",M)||xa.modified(y.fields))na=y.fname,(T=Ca[na])||(jb[na]=ma=Yb(),Ca[na]=T=ma.insert(y,xa.source,0)),gb[M]=Xb(ma,M,Ka[M]).onAdd(T,Ub);M=0;for(na=wb.data().length;M<na;++M)n[M]||(Na[M]!==Ub[M]?ea.push(M):G[M]&&Ub[M]!==U&&Ha.push(M));wb.mask=(1<<Y)-1;return Ua},eval(ha,xa){const Ua=xa.materialize().fork(),
Xa=this._dims.length;let Ka=0;xa.rem.length&&(this.remove(ha,xa,Ua),Ka|=(1<<Xa)-1);ha.modified("query")&&!ha.modified("fields")&&(Ka|=this.update(ha,xa,Ua));xa.add.length&&(this.insert(ha,xa,Ua),Ka|=(1<<Xa)-1);xa.mod.length&&(this.modify(xa,Ua),Ka|=(1<<Xa)-1);this.value.mask=Ka;return Ua},insert(ha,xa,Ua){xa=xa.add;var Xa=this.value;const Ka=this._dims,jb=this._indices;ha=ha.fields;const gb={};Ua=Ua.add;const wb=Xa.size()+xa.length,Ub=Ka.length;let Na=Xa.size();Xa.resize(wb,Ub);Xa.add(xa);const U=
Xa.curr(),ea=Xa.prev(),Ha=Xa.all();for(Xa=0;Xa<Ub;++Xa){var Y=ha[Xa].fname;Y=gb[Y]||(gb[Y]=jb[Y].insert(ha[Xa],xa,Na));Ka[Xa].onAdd(Y,U)}for(;Na<wb;++Na)ea[Na]=Ha,U[Na]!==Ha&&Ua.push(Na)},modify(ha,xa){xa=xa.mod;var Ua=this.value;const Xa=Ua.curr();Ua=Ua.all();ha=ha.mod;let Ka,jb,gb;Ka=0;for(jb=ha.length;Ka<jb;++Ka)gb=ha[Ka]._index,Xa[gb]!==Ua&&xa.push(gb)},remove(ha,xa,Ua){ha=this._indices;var Xa=this.value;const Ka=Xa.curr(),jb=Xa.prev();Xa=Xa.all();const gb={};Ua=Ua.rem;const wb=xa.rem;let Ub,
Na,U,ea;Ub=0;for(Na=wb.length;Ub<Na;++Ub)U=wb[Ub]._index,gb[U]=1,jb[U]=ea=Ka[U],Ka[U]=Xa,ea!==Xa&&Ua.push(U);for(U in ha)ha[U].remove(Na,gb);this.reindex(xa,Na,gb);return gb},reindex(ha,xa,Ua){const Xa=this._indices,Ka=this.value;ha.runAfter(()=>{const jb=Ka.remove(xa,Ua);for(const gb in Xa)Xa[gb].reindex(jb)})},update(ha,xa,Ua){const Xa=this._dims,Ka=ha.query;xa=xa.stamp;const jb=Xa.length;let gb=0,wb,Ub;for(Ub=Ua.filters=0;Ub<jb;++Ub)ha.modified("query",Ub)&&(wb=Ub,++gb);if(1===gb)gb=Xa[wb].one,
this.incrementOne(Xa[wb],Ka[wb],Ua.add,Ua.rem);else for(gb=Ub=0;Ub<jb;++Ub)ha.modified("query",Ub)&&(gb|=Xa[Ub].one,this.incrementAll(Xa[Ub],Ka[Ub],xa,Ua.add),Ua.rem=Ua.add);return gb},incrementAll(ha,xa,Ua,Xa){var Ka=this.value;const jb=Ka.seen(),gb=Ka.curr();Ka=Ka.prev();const wb=ha.index();var Ub=ha.bisect(ha.range),Na=ha.bisect(xa);const U=Na[0];Na=Na[1];const ea=Ub[0];Ub=Ub[1];const Ha=ha.one;let Y,Ca,ma;if(U<ea)for(Y=U,Ca=Math.min(ea,Na);Y<Ca;++Y)ma=wb[Y],jb[ma]!==Ua&&(Ka[ma]=gb[ma],jb[ma]=
Ua,Xa.push(ma)),gb[ma]^=Ha;else if(U>ea)for(Y=ea,Ca=Math.min(U,Ub);Y<Ca;++Y)ma=wb[Y],jb[ma]!==Ua&&(Ka[ma]=gb[ma],jb[ma]=Ua,Xa.push(ma)),gb[ma]^=Ha;if(Na>Ub)for(Y=Math.max(U,Ub),Ca=Na;Y<Ca;++Y)ma=wb[Y],jb[ma]!==Ua&&(Ka[ma]=gb[ma],jb[ma]=Ua,Xa.push(ma)),gb[ma]^=Ha;else if(Na<Ub)for(Y=Math.max(ea,Na),Ca=Ub;Y<Ca;++Y)ma=wb[Y],jb[ma]!==Ua&&(Ka[ma]=gb[ma],jb[ma]=Ua,Xa.push(ma)),gb[ma]^=Ha;ha.range=xa.slice()},incrementOne(ha,xa,Ua,Xa){const Ka=this.value.curr(),jb=ha.index();var gb=ha.bisect(ha.range),wb=
ha.bisect(xa);const Ub=wb[0];wb=wb[1];const Na=gb[0];gb=gb[1];const U=ha.one;let ea,Ha,Y;if(Ub<Na)for(ea=Ub,Ha=Math.min(Na,wb);ea<Ha;++ea)Y=jb[ea],Ka[Y]^=U,Ua.push(Y);else if(Ub>Na)for(ea=Na,Ha=Math.min(Ub,gb);ea<Ha;++ea)Y=jb[ea],Ka[Y]^=U,Xa.push(Y);if(wb>gb)for(ea=Math.max(Ub,gb),Ha=wb;ea<Ha;++ea)Y=jb[ea],Ka[Y]^=U,Ua.push(Y);else if(wb<gb)for(ea=Math.max(Na,wb),Ha=gb;ea<Ha;++ea)Y=jb[ea],Ka[Y]^=U,Xa.push(Y);ha.range=xa.slice()}});Cb.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",
type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};ja.inherits(Cb,l.Transform,{transform(ha,xa){const Ua=~(ha.ignore||0);ha=ha.filter;const Xa=ha.mask;if(0===(Xa&Ua))return xa.StopPropagation;xa=xa.fork(xa.ALL);const Ka=ha.data(),jb=ha.curr(),gb=ha.prev(),wb=Ub=>jb[Ub]&Ua?null:Ka[Ub];xa.filter(xa.MOD,wb);Xa&Xa-1?(xa.filter(xa.ADD,Ub=>{const Na=jb[Ub]&
Ua;return!Na&&Na^gb[Ub]&Ua?Ka[Ub]:null}),xa.filter(xa.REM,Ub=>{const Na=jb[Ub]&Ua;return!Na||Na^Na^gb[Ub]&Ua?null:Ka[Ub]})):(xa.filter(xa.ADD,wb),xa.filter(xa.REM,Ub=>(jb[Ub]&Ua)===Xa?Ka[Ub]:null));return xa.filter(xa.SOURCE,Ub=>wb(Ub._index))}});u.crossfilter=bb;u.resolvefilter=Cb})};
shadow$provide[49]=function(Fb,pb,zc,Za){(function(u,l){"object"===typeof Za&&"undefined"!==typeof zc?l(Za,pb(24)):"function"===typeof define&&define.amd?define(["exports","vega-util"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega))})(this,function(u,l){function ja(B){this.type=B}function $a(B){switch(B.type){case "ArrayExpression":return B.elements;case "BinaryExpression":case "LogicalExpression":return[B.left,B.right];case "CallExpression":return[B.callee].concat(B.arguments);
case "ConditionalExpression":return[B.test,B.consequent,B.alternate];case "MemberExpression":return[B.object,B.property];case "ObjectExpression":return B.properties;case "Property":return[B.key,B.value];case "UnaryExpression":return[B.argument];default:return[]}}function vb(B,E){if(!B)throw Error("ASSERT: "+E);}function Xb(B){return 48<=B&&57>=B}function ec(B){return"0123456789abcdefABCDEF".includes(B)}function Bb(B){return"01234567".includes(B)}function yb(B){return 10===B||13===B||8232===B||8233===
B}function ub(B){return 36===B||95===B||65<=B&&90>=B||97<=B&&122>=B||92===B||128<=B&&y.test(String.fromCharCode(B))}function Lb(B){return 36===B||95===B||65<=B&&90>=B||97<=B&&122>=B||48<=B&&57>=B||92===B||128<=B&&T.test(String.fromCharCode(B))}function Yb(){for(;n<G;){const B=na.charCodeAt(n);if(32===B||9===B||11===B||12===B||160===B||5760<=B&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(B)||yb(B))++n;else break}}function Ba(B){var E=0;var I="u"===
B?4:2;for(B=0;B<I;++B)if(n<G&&ec(na[n])){var X=na[n++];E=16*E+"0123456789abcdef".indexOf(X.toLowerCase())}else Ka({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(E)}function bb(){var B=na.charCodeAt(n++);var E=String.fromCharCode(B);92===B&&(117!==na.charCodeAt(n)&&Ka({},"Unexpected token %0","ILLEGAL"),++n,(B=Ba("u"))&&"\\"!==B&&ub(B.charCodeAt(0))||Ka({},"Unexpected token %0","ILLEGAL"),E=B);for(;n<G;){B=na.charCodeAt(n);if(!Lb(B))break;++n;E+=String.fromCharCode(B);92===B&&(E=E.substr(0,
E.length-1),117!==na.charCodeAt(n)&&Ka({},"Unexpected token %0","ILLEGAL"),++n,(B=Ba("u"))&&"\\"!==B&&Lb(B.charCodeAt(0))||Ka({},"Unexpected token %0","ILLEGAL"),E+=B)}return E}function Cb(){var B=n,E=na.charCodeAt(n),I=na[n];switch(E){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++n,{type:7,value:String.fromCharCode(E),start:B,end:n};default:var X=na.charCodeAt(n+1);if(61===X)switch(E){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return n+=
2,{type:7,value:String.fromCharCode(E)+String.fromCharCode(X),start:B,end:n};case 33:case 61:return n+=2,61===na.charCodeAt(n)&&++n,{type:7,value:na.slice(B,n),start:B,end:n}}}E=na.substr(n,4);if("\x3e\x3e\x3e\x3d"===E)return n+=4,{type:7,value:E,start:B,end:n};E=E.substr(0,3);if("\x3e\x3e\x3e"===E||"\x3c\x3c\x3d"===E||"\x3e\x3e\x3d"===E)return n+=3,{type:7,value:E,start:B,end:n};E=E.substr(0,2);if(I===E[1]&&"+-\x3c\x3e\x26|".includes(I)||"\x3d\x3e"===E)return n+=2,{type:7,value:E,start:B,end:n};
"//"===E&&Ka({},"Unexpected token %0","ILLEGAL");if("\x3c\x3e\x3d!+-*%\x26|^/".includes(I))return++n,{type:7,value:I,start:B,end:n};Ka({},"Unexpected token %0","ILLEGAL")}function xb(){var B=na[n];vb(Xb(B.charCodeAt(0))||"."===B,"Numeric literal must start with a decimal digit or a decimal point");var E=n;var I="";if("."!==B){I=na[n++];B=na[n];if("0"===I){if("x"===B||"X"===B){++n;for(I="";n<G&&ec(na[n]);)I+=na[n++];0===I.length&&Ka({},"Unexpected token %0","ILLEGAL");ub(na.charCodeAt(n))&&Ka({},"Unexpected token %0",
"ILLEGAL");return{type:6,value:parseInt("0x"+I,16),start:E,end:n}}if(Bb(B)){for(I="0"+na[n++];n<G&&Bb(na[n]);)I+=na[n++];(ub(na.charCodeAt(n))||Xb(na.charCodeAt(n)))&&Ka({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(I,8),octal:!0,start:E,end:n}}B&&Xb(B.charCodeAt(0))&&Ka({},"Unexpected token %0","ILLEGAL")}for(;Xb(na.charCodeAt(n));)I+=na[n++];B=na[n]}if("."===B){for(I+=na[n++];Xb(na.charCodeAt(n));)I+=na[n++];B=na[n]}if("e"===B||"E"===B){I+=na[n++];B=na[n];if("+"===B||"-"===B)I+=
na[n++];if(Xb(na.charCodeAt(n)))for(;Xb(na.charCodeAt(n));)I+=na[n++];else Ka({},"Unexpected token %0","ILLEGAL")}ub(na.charCodeAt(n))&&Ka({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(I),start:E,end:n}}function nb(B,E){let I=B;E.includes("u")&&(I=I.replace(/\\u\{([0-9a-fA-F]+)\}/g,(X,Ea)=>{if(1114111>=parseInt(Ea,16))return"x";Ka({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(I)}catch(X){Ka({},"Invalid regular expression")}try{return new RegExp(B,
E)}catch(X){return null}}function Db(){Yb();if(n>=G)return{type:2,start:n,end:n};var B=na.charCodeAt(n);if(ub(B)){B=n;if(92===na.charCodeAt(n))var E=bb();else a:{for(E=n++;n<G;){var I=na.charCodeAt(n);if(92===I){n=E;E=bb();break a}if(Lb(I))++n;else break}E=na.slice(E,n)}return{type:1===E.length?3:D.hasOwnProperty(E)?4:"null"===E?5:"true"===E||"false"===E?1:3,value:E,start:B,end:n}}if(40===B||41===B||59===B)return Cb();if(39===B||34===B){var X="";I=!1;B=na[n];vb("'"===B||'"'===B,"String literal must starts with a quote");
E=n;for(++n;n<G;){var Ea=na[n++];if(Ea===B){B="";break}else if("\\"===Ea)if((Ea=na[n++])&&yb(Ea.charCodeAt(0)))"\r"===Ea&&"\n"===na[n]&&++n;else switch(Ea){case "u":case "x":if("{"===na[n]){++n;var R=na[n];Ea=0;for("}"===R&&Ka({},"Unexpected token %0","ILLEGAL");n<G;){R=na[n++];if(!ec(R))break;Ea=16*Ea+"0123456789abcdef".indexOf(R.toLowerCase())}(1114111<Ea||"}"!==R)&&Ka({},"Unexpected token %0","ILLEGAL");Ea=65535>=Ea?String.fromCharCode(Ea):String.fromCharCode((Ea-65536>>10)+55296,(Ea-65536&1023)+
56320);X+=Ea}else X+=Ba(Ea);break;case "n":X+="\n";break;case "r":X+="\r";break;case "t":X+="\t";break;case "b":X+="\b";break;case "f":X+="\f";break;case "v":X+="\v";break;default:Bb(Ea)?(R="01234567".indexOf(Ea),0!==R&&(I=!0),n<G&&Bb(na[n])&&(I=!0,R=8*R+"01234567".indexOf(na[n++]),"0123".includes(Ea)&&n<G&&Bb(na[n])&&(R=8*R+"01234567".indexOf(na[n++]))),X+=String.fromCharCode(R)):X+=Ea}else if(yb(Ea.charCodeAt(0)))break;else X+=Ea}""!==B&&Ka({},"Unexpected token %0","ILLEGAL");return{type:8,value:X,
octal:I,start:E,end:n}}return 46===B?Xb(na.charCodeAt(n+1))?xb():Cb():Xb(B)?xb():Cb()}function lb(){const B=M;n=B.end;M=Db();n=B.end;return B}function lc(){const B=n;M=Db();n=B}function ua(B,E,I){const X=new ja("||"===B||"\x26\x26"===B?"LogicalExpression":"BinaryExpression");X.operator=B;X.left=E;X.right=I;return X}function ha(B){const E=new ja("Identifier");E.name=B;return E}function xa(B){const E=new ja("Literal");E.value=B.value;E.raw=na.slice(B.start,B.end);B.regex&&("//"===E.raw&&(E.raw="/(?:)/"),
E.regex=B.regex);return E}function Ua(B,E,I){const X=new ja("MemberExpression");X.computed="["===B;X.object=E;X.property=I;X.computed||(I.member=!0);return X}function Xa(B,E,I){const X=new ja("Property");X.key=E;X.value=I;X.kind=B;return X}function Ka(B,E){var I=Array.prototype.slice.call(arguments,2),X=E.replace(/%(\d)/g,(R,ia)=>{vb(ia<I.length,"Message reference must be in range");return I[ia]});var Ea=Error(X);Ea.index=n;Ea.description=X;throw Ea;}function jb(B){2===B.type&&Ka(B,"Unexpected end of input");
6===B.type&&Ka(B,"Unexpected number");8===B.type&&Ka(B,"Unexpected string");3===B.type&&Ka(B,"Unexpected identifier");4===B.type&&Ka(B,"Unexpected reserved word");Ka(B,"Unexpected token %0",B.value)}function gb(B){const E=lb();7===E.type&&E.value===B||jb(E)}function wb(B){return 7===M.type&&M.value===B}function Ub(){n=M.start;const B=lb();return 8===B.type||6===B.type?(B.octal&&Ka(B,"Octal literals are not allowed in strict mode."),xa(B)):ha(B.value)}function Na(){if(wb("(")){gb("(");var B=Ca();gb(")");
return B}if(wb("[")){B=[];n=M.start;for(gb("[");!wb("]");)wb(",")?(lb(),B.push(null)):(B.push(Y()),wb("]")||gb(","));lb();var E=new ja("ArrayExpression");E.elements=B;return E}if(wb("{")){B=[];E={};var I=String;n=M.start;for(gb("{");!wb("}");){n=M.start;var X=M;if(3===X.type){var Ea=Ub();gb(":");X=Y();X=Xa("init",Ea,X)}else 2===X.type||7===X.type?(jb(X),X=void 0):(Ea=Ub(),gb(":"),X=Y(),X=Xa("init",Ea,X));Ea="Identifier"===X.key.type?X.key.name:I(X.key.value);Ea="$"+Ea;Object.prototype.hasOwnProperty.call(E,
Ea)?Ka({},"Duplicate data property in object literal not allowed in strict mode"):E[Ea]=!0;B.push(X);wb("}")||gb(",")}gb("}");E=new ja("ObjectExpression");E.properties=B;return E}B=M.type;n=M.start;if(3===B||A[M.value])E=ha(lb().value);else if(8===B||6===B)M.octal&&Ka(M,"Octal literals are not allowed in strict mode."),E=xa(lb());else{if(4===B)throw Error("Disabled.");if(1===B)B=lb(),B.value="true"===B.value,E=xa(B);else if(5===B)B=lb(),B.value=null,E=xa(B);else if(wb("/")||wb("/\x3d")){var R;M=null;
Yb();B=n;E=na[n];vb("/"===E,"Regular expression literal must start with a slash");I=na[n++];for(Ea=X=!1;n<G;)if(E=na[n++],I+=E,"\\"===E)E=na[n++],yb(E.charCodeAt(0))&&Ka({},"Invalid regular expression: missing /"),I+=E;else if(yb(E.charCodeAt(0)))Ka({},"Invalid regular expression: missing /");else if(X)"]"===E&&(X=!1);else if("/"===E){Ea=!0;break}else"["===E&&(X=!0);Ea||Ka({},"Invalid regular expression: missing /");E=I.substr(1,I.length-2);for(R=Ea="";n<G;){X=na[n];if(!Lb(X.charCodeAt(0)))break;
++n;"\\"===X&&n<G?Ka({},"Unexpected token %0","ILLEGAL"):(R+=X,Ea+=X)}0<=R.search(/[^gimuy]/g)&&Ka({},"Invalid regular expression",R);X=R;R=nb(E,X);E=xa({literal:I+Ea,value:R,regex:{pattern:E,flags:X},start:B,end:n});lc()}else jb(lb())}return E}function U(){var B;for(B=Na();;)if(wb(".")){gb(".");n=M.start;var E=lb();3===E.type||4===E.type||1===E.type||5===E.type||jb(E);E=ha(E.value);B=Ua(".",B,E)}else if(wb("(")){E=[];gb("(");if(!wb(")"))for(;n<G;){E.push(Y());if(wb(")"))break;gb(",")}gb(")");const I=
new ja("CallExpression");I.callee=B;I.arguments=E;B=I}else if(wb("["))gb("["),E=Ca(),gb("]"),B=Ua("[",B,E);else break;if(7===M.type&&(wb("++")||wb("--")))throw Error("Disabled.");return B}function ea(){if(7!==M.type&&4!==M.type)var B=U();else{if(wb("++")||wb("--"))throw Error("Disabled.");if(wb("+")||wb("-")||wb("~")||wb("!")){var E=lb();B=ea();E=E.value;const I=new ja("UnaryExpression");I.operator=E;I.argument=B;I.prefix=!0;B=I}else{if(4===M.type&&"delete"===M.value||4===M.type&&"void"===M.value||
4===M.type&&"typeof"===M.value)throw Error("Disabled.");B=U()}}return B}function Ha(B){let E=0;if(7!==B.type&&4!==B.type)return 0;switch(B.value){case "||":E=1;break;case "\x26\x26":E=2;break;case "|":E=3;break;case "^":E=4;break;case "\x26":E=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":E=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":E=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":E=8;break;case "+":case "-":E=
9;break;case "*":case "/":case "%":E=11}return E}function Y(){var B=M;var E=ea();var I=M;var X=Ha(I);if(0===X)var Ea=E;else{I.prec=X;lb();B=[B,M];var R=ea();for(Ea=[E,I,R];0<(X=Ha(M));){for(;2<Ea.length&&X<=Ea[Ea.length-2].prec;)R=Ea.pop(),I=Ea.pop().value,E=Ea.pop(),B.pop(),E=ua(I,E,R),Ea.push(E);I=lb();I.prec=X;Ea.push(I);B.push(M);E=ea();Ea.push(E)}X=Ea.length-1;E=Ea[X];for(B.pop();1<X;)B.pop(),E=ua(Ea[X-1].value,Ea[X-2],E),X-=2;Ea=E}wb("?")&&(lb(),B=Y(),gb(":"),X=Y(),E=new ja("ConditionalExpression"),
E.test=Ea,E.consequent=B,E.alternate=X,Ea=E);return Ea}function Ca(){const B=Y();if(wb(","))throw Error("Disabled.");return B}function ma(B){function E(I,X,Ea){return R=>{let ia=B(R[0]);X&&(ia=X+"("+ia+")",0===X.lastIndexOf("new ",0)&&(ia="("+ia+")"));return ia+"."+I+(0>Ea?"":0===Ea?"()":"("+R.slice(1).map(B).join(",")+")")}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",
floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(I){3>I.length&&l.error("Missing arguments to clamp function.");3<I.length&&l.error("Too many arguments to clamp function.");I=I.map(B);return"Math.max("+I[1]+", Math.min("+I[2]+","+I[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:E("getDate","new Date",0),day:E("getDay","new Date",0),
year:E("getFullYear","new Date",0),month:E("getMonth","new Date",0),hours:E("getHours","new Date",0),minutes:E("getMinutes","new Date",0),seconds:E("getSeconds","new Date",0),milliseconds:E("getMilliseconds","new Date",0),time:E("getTime","new Date",0),timezoneoffset:E("getTimezoneOffset","new Date",0),utcdate:E("getUTCDate","new Date",0),utcday:E("getUTCDay","new Date",0),utcyear:E("getUTCFullYear","new Date",0),utcmonth:E("getUTCMonth","new Date",0),utchours:E("getUTCHours","new Date",0),utcminutes:E("getUTCMinutes",
"new Date",0),utcseconds:E("getUTCSeconds","new Date",0),utcmilliseconds:E("getUTCMilliseconds","new Date",0),length:E("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:E("toUpperCase","String",0),lower:E("toLowerCase","String",0),substring:E("substring","String"),split:E("split","String"),trim:E("trim","String",0),btoa:"btoa",atob:"atob",regexp:"RegExp",test:E("test","RegExp"),if:function(I){3>I.length&&l.error("Missing arguments to if function.");3<I.length&&l.error("Too many arguments to if function.");
I=I.map(B);return"("+I[0]+"?"+I[1]+":"+I[2]+")"}}}ja.prototype.visit=function(B){let E,I,X;if(B(this))return 1;E=$a(this);I=0;for(X=E.length;I<X;++I)if(E[I].visit(B))return 1};var na,n,G,M,y=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),
T=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");
const D={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},A={"if":1};var P={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",
LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};u.ASTNode=ja;u.ArrayExpression="ArrayExpression";u.BinaryExpression="BinaryExpression";u.CallExpression="CallExpression";u.ConditionalExpression="ConditionalExpression";u.Identifier="Identifier";u.Literal="Literal";u.LogicalExpression="LogicalExpression";u.MemberExpression="MemberExpression";u.ObjectExpression="ObjectExpression";u.Property="Property";
u.RawCode="RawCode";u.UnaryExpression="UnaryExpression";u.codegenExpression=function(B){function E(aa){if(l.isString(aa))return aa;const Ga=Vb[aa.type];null==Ga&&l.error("Unsupported type: "+aa.type);return Ga(aa)}function I(aa){aa={code:E(aa),globals:Object.keys(fb),fields:Object.keys(zb)};fb={};zb={};return aa}B=B||{};const X=B.allowed?l.toSet(B.allowed):{},Ea=B.forbidden?l.toSet(B.forbidden):{},R=B.constants||P,ia=(B.functions||ma)(E),Aa=B.globalvar,Pa=B.fieldvar,Ra=l.isFunction(Aa)?Aa:aa=>`${Aa}["${aa}"]`;
let fb={},zb={},kb=0;const Vb={Literal:aa=>aa.raw,Identifier:aa=>{aa=aa.name;if(0<kb)return aa;if(l.hasOwnProperty(Ea,aa))return l.error("Illegal identifier: "+aa);if(l.hasOwnProperty(R,aa))return R[aa];if(l.hasOwnProperty(X,aa))return aa;fb[aa]=1;return Ra(aa)},MemberExpression:aa=>{const Ga=!aa.computed,Qb=E(aa.object);Ga&&(kb+=1);aa=E(aa.property);if(Qb===Pa){var nc=zb;var $b=($b=aa&&aa.length-1)&&('"'===aa[0]&&'"'===aa[$b]||"'"===aa[0]&&"'"===aa[$b])?aa.slice(1,-1):aa;nc[$b]=1}Ga&&--kb;return Qb+
(Ga?"."+aa:"["+aa+"]")},CallExpression:aa=>{"Identifier"!==aa.callee.type&&l.error("Illegal callee type: "+aa.callee.type);const Ga=aa.callee.name;aa=aa.arguments;const Qb=l.hasOwnProperty(ia,Ga)&&ia[Ga];Qb||l.error("Unrecognized function: "+Ga);return l.isFunction(Qb)?Qb(aa):Qb+"("+aa.map(E).join(",")+")"},ArrayExpression:aa=>"["+aa.elements.map(E).join(",")+"]",BinaryExpression:aa=>"("+E(aa.left)+" "+aa.operator+" "+E(aa.right)+")",UnaryExpression:aa=>"("+aa.operator+E(aa.argument)+")",ConditionalExpression:aa=>
"("+E(aa.test)+"?"+E(aa.consequent)+":"+E(aa.alternate)+")",LogicalExpression:aa=>"("+E(aa.left)+aa.operator+E(aa.right)+")",ObjectExpression:aa=>"{"+aa.properties.map(E).join(",")+"}",Property:aa=>{kb+=1;const Ga=E(aa.key);--kb;return Ga+":"+E(aa.value)}};I.functions=ia;I.constants=R;return I};u.constants=P;u.functions=ma;u.parseExpression=function(B){na=B;n=0;G=na.length;M=null;lc();B=Ca();if(2!==M.type)throw Error("Unexpect token after expression.");return B}})};
shadow$provide[50]=function(Fb,pb,zc,Za){(function(u,l){"object"===typeof Za&&"undefined"!==typeof zc?l(Za,pb(24),pb(49)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega,u.vega))})(this,function(u,l,ja){function $a(ua,ha){return null==ua||null==ha?NaN:ua<ha?-1:ua>ha?1:ua>=ha?0:NaN}function vb(ua,ha){return null==ua||null==ha?NaN:ha<ua?-1:ha>ua?1:ha>=ua?0:NaN}function Xb(){return 0}function ec({_intern:ua,
_key:ha},xa){ha=ha(xa);return ua.has(ha)?ua.get(ha):xa}function Bb({_intern:ua,_key:ha},xa){ha=ha(xa);if(ua.has(ha))return ua.get(ha);ua.set(ha,xa);return xa}function yb({_intern:ua,_key:ha},xa){ha=ha(xa);ua.has(ha)&&(xa=ua.get(ha),ua.delete(ha));return xa}function ub(ua){return null!==ua&&"object"===typeof ua?ua.valueOf():ua}function Lb(ua){return ua instanceof bb?ua:new bb(ua)}function Yb(ua){ua.getter&&ua.getter[Cb]||(ua.getter=l.field(ua.field),ua.getter[Cb]=!0);return ua.getter}function Ba(ua,
ha){var xa=ha.fields;ha=ha.values;for(var Ua=xa.length,Xa=0,Ka,jb;Xa<Ua;++Xa)if(jb=xa[Xa],Ka=Yb(jb)(ua),l.isDate(Ka)&&(Ka=l.toNumber(Ka)),l.isDate(ha[Xa])&&(ha[Xa]=l.toNumber(ha[Xa])),l.isArray(ha[Xa])&&l.isDate(ha[Xa][0])&&(ha[Xa]=ha[Xa].map(l.toNumber)),"E"===jb.type){if(l.isArray(ha[Xa])?!ha[Xa].includes(Ka):Ka!==ha[Xa])return!1}else if("R"===jb.type){if(!l.inrange(Ka,ha[Xa]))return!1}else if("R-RE"===jb.type){if(!l.inrange(Ka,ha[Xa],!0,!1))return!1}else if("R-E"===jb.type){if(!l.inrange(Ka,ha[Xa],
!1,!1))return!1}else if("R-LE"===jb.type){if(!l.inrange(Ka,ha[Xa],!1,!0))return!1}else if("E-LT"===jb.type){if(Ka>=ha[Xa])return!1}else if("E-LTE"===jb.type){if(Ka>ha[Xa])return!1}else if("E-GT"===jb.type){if(Ka<=ha[Xa])return!1}else if("E-GTE"===jb.type){if(Ka<ha[Xa])return!1}else if("E-VALID"===jb.type){if(null===Ka||isNaN(Ka))return!1}else if("E-ONE"===jb.type&&-1===ha[Xa].indexOf(Ka))return!1;return!0}class bb extends Set{constructor(ua,ha=ub){super();Object.defineProperties(this,{_intern:{value:new Map},
_key:{value:ha}});if(null!=ua)for(const xa of ua)this.add(xa)}has(ua){return super.has(ec(this,ua))}add(ua){return super.add(Bb(this,ua))}delete(ua){return super.delete(yb(this,ua))}}const Cb=Symbol("vega_selection_getter"),xb=l.field("_vgsid_"),nb=function(ua){function ha(Ka,jb,gb=0,wb=Ka.length){if(gb<wb){if(0!==xa(jb,jb))return wb;do{const Ub=gb+wb>>>1;0>Ua(Ka[Ub],jb)?gb=Ub+1:wb=Ub}while(gb<wb)}return gb}let xa,Ua,Xa;2!==ua.length?(xa=$a,Ua=(Ka,jb)=>$a(ua(Ka),jb),Xa=(Ka,jb)=>ua(Ka)-jb):(xa=ua===
$a||ua===vb?ua:Xb,Xa=Ua=ua);return{left:ha,center:function(Ka,jb,gb=0,wb=Ka.length){wb=ha(Ka,jb,gb,wb-1);return wb>gb&&Xa(Ka[wb-1],jb)>-Xa(Ka[wb],jb)?wb-1:wb},right:function(Ka,jb,gb=0,wb=Ka.length){if(gb<wb){if(0!==xa(jb,jb))return wb;do{const Ub=gb+wb>>>1;0>=Ua(Ka[Ub],jb)?gb=Ub+1:wb=Ub}while(gb<wb)}return gb}}}(xb),Db=nb.left,lb=nb.right;var lc={_vgsid__union:function(...ua){const ha=new bb;for(const xa of ua)for(const Ua of xa)ha.add(Ua);return ha},_vgsid__intersect:function(ua,...ha){ua=new bb(ua);
ha=ha.map(Lb);a:for(const xa of ua)for(const Ua of ha)if(!Ua.has(xa)){ua.delete(xa);continue a}return ua},E_union:function(ua,ha){if(!ua.length)return ha;for(var xa=0,Ua=ha.length;xa<Ua;++xa)ua.includes(ha[xa])||ua.push(ha[xa]);return ua},E_intersect:function(ua,ha){return ua.length?ua.filter(xa=>ha.includes(xa)):ha},R_union:function(ua,ha){var xa=l.toNumber(ha[0]),Ua=l.toNumber(ha[1]);xa>Ua&&(xa=ha[1],Ua=ha[0]);if(!ua.length)return[xa,Ua];ua[0]>xa&&(ua[0]=xa);ua[1]<Ua&&(ua[1]=Ua);return ua},R_intersect:function(ua,
ha){var xa=l.toNumber(ha[0]),Ua=l.toNumber(ha[1]);xa>Ua&&(xa=ha[1],Ua=ha[0]);if(!ua.length)return[xa,Ua];if(Ua<ua[0]||ua[1]<xa)return[];ua[0]<xa&&(ua[0]=xa);ua[1]>Ua&&(ua[1]=Ua);return ua}};u.selectionIdTest=function(ua,ha,xa){var Ua=this.context.data[ua];ua=Ua?Ua.values.value:[];Ua=Ua?Ua["index:unit"]&&Ua["index:unit"].value:void 0;xa="intersect"===xa;ha=xb(ha);const Xa=Db(ua,ha);if(Xa===ua.length||xb(ua[Xa])!==ha)return!1;if(Ua&&xa){if(1===Ua.size)return!0;if(lb(ua,ha)-Xa<Ua.size)return!1}return!0};
u.selectionResolve=function(ua,ha,xa,Ua){ua=(ua=this.context.data[ua])?ua.values.value:[];for(var Xa={},Ka={},jb={},gb,wb,Ub,Na,U,ea,Ha=ua.length,Y=0,Ca,ma;Y<Ha;++Y)if(gb=ua[Y],Na=gb.unit,wb=gb.fields,Ub=gb.values,wb&&Ub){Ca=0;for(ma=wb.length;Ca<ma;++Ca)U=wb[Ca],gb=Xa[U.field]||(Xa[U.field]={}),ea=gb[Na]||(gb[Na]=[]),jb[U.field]=U=U.type.charAt(0),U=lc[`${U}_union`],gb[Na]=U(ea,l.array(Ub[Ca]));xa&&(ea=Ka[Na]||(Ka[Na]=[]),ea.push(l.array(Ub).reduce((na,n,G)=>(na[wb[G].field]=n,na),{})))}else U="_vgsid_",
Ub=xb(gb),gb=Xa[U]||(Xa[U]={}),ea=gb[Na]||(gb[Na]=[]),ea.push(Ub),xa&&(ea=Ka[Na]||(Ka[Na]=[]),ea.push({_vgsid_:Ub}));ha=ha||"union";Xa._vgsid_?Xa._vgsid_=lc[`${"_vgsid_"}_${ha}`](...Object.values(Xa._vgsid_)):Object.keys(Xa).forEach(na=>{Xa[na]=Object.keys(Xa[na]).map(n=>Xa[na][n]).reduce((n,G)=>void 0===n?G:lc[`${jb[na]}_${ha}`](n,G))});ua=Object.keys(Ka);xa&&ua.length&&(Xa[Ua?"vlPoint":"vlMulti"]="union"===ha?{or:ua.reduce((na,n)=>(na.push(...Ka[n]),na),[])}:{and:ua.map(na=>({or:Ka[na]}))});return Xa};
u.selectionTest=function(ua,ha,xa){var Ua=this.context.data[ua];ua=Ua?Ua.values.value:[];Ua=Ua?Ua["index:unit"]&&Ua["index:unit"].value:void 0;xa="intersect"===xa;for(var Xa=ua.length,Ka=0,jb,gb,wb,Ub;Ka<Xa;++Ka)if(jb=ua[Ka],Ua&&xa){if(gb=gb||{},wb=gb[Ub=jb.unit]||0,-1!==wb){jb=Ba(ha,jb);gb[Ub]=jb?-1:++wb;if(jb&&1===Ua.size)return!0;if(!jb&&wb===Ua.get(Ub).count)return!1}}else if(jb=Ba(ha,jb),xa^jb)return jb;return Xa&&xa};u.selectionTuples=function(ua,ha){return ua.map(xa=>l.extend(ha.fields?{values:ha.fields.map(Ua=>
Yb(Ua)(xa.datum))}:{_vgsid_:xb(xa.datum)},ha))};u.selectionVisitor=function(ua,ha,xa,Ua){ha[0].type!==ja.Literal&&l.error("First argument to selection functions must be a string literal.");ua=ha[0].value;ha=2<=ha.length&&l.peek(ha).value;const Xa=":"+ua;"intersect"!==ha||l.hasOwnProperty(Ua,"@unit")||(Ua["@unit"]=xa.getData(ua).indataRef(xa,"unit"));l.hasOwnProperty(Ua,Xa)||(Ua[Xa]=xa.getData(ua).tuplesRef())}})};
shadow$provide[51]=function(Fb,pb,zc,Za){(function(u,l){"object"===typeof Za&&"undefined"!==typeof zc?l(Za,pb(24),pb(49),pb(36),pb(32),pb(37),pb(50),pb(33),pb(26)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression vega-scale vega-dataflow vega-scenegraph vega-selections vega-statistics vega-time".split(" "),l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega,u.vega,u.vega,u.vega,u.vega,u.vega,u.vega,u.vega))})(this,function(u,l,ja,$a,vb,Xb,ec,
Bb,yb){function ub(W){return(W=this.context.data[W])?W.values.value:[]}function Lb(W,La,ob){return(ob=(W=this.context.data[W]["index:"+La])?W.value.get(ob):void 0)?ob.count:ob}function Yb(W,La){const ob=this.context.dataflow;ob.pulse(this.context.data[W].input,ob.changeset().remove(l.truthy).insert(La));return 1}function Ba(W,La,ob){if(W){const Ac=this.context.dataflow;Ac.pulse(W.mark.source,Ac.changeset().encode(W,La))}return void 0!==ob?ob:W}function bb(W,La,ob){if(!Number.isInteger(W)||!Number.isInteger(La))return"";
dg.setYear(2E3);dg.setMonth(W);dg.setDate(La);return Ne.call(this,dg,ob)}function Cb(W){return bb.call(this,W,1,"%B")}function xb(W){return bb.call(this,W,1,"%b")}function nb(W){return bb.call(this,0,2+W,"%A")}function Db(W){return bb.call(this,0,2+W,"%a")}function lb(W,La,ob,Ac){La[0].type!==ja.Literal&&l.error("First argument to data functions must be a string literal.");W=La[0].value;La=":"+W;if(!l.hasOwnProperty(La,Ac))try{Ac[La]=ob.getData(W).tuplesRef()}catch(Bc){}}function lc(W,La,ob,Ac){La[0].type!==
ja.Literal&&l.error("First argument to indata must be a string literal.");La[1].type!==ja.Literal&&l.error("Second argument to indata must be a string literal.");W=La[0].value;La=La[1].value;const Bc="@"+La;l.hasOwnProperty(Bc,Ac)||(Ac[Bc]=ob.getData(W).indataRef(ob,La))}function ua(W,La,ob,Ac){if(La[0].type===ja.Literal)ha(ob,Ac,La[0].value);else for(W in ob.scales)ha(ob,Ac,W)}function ha(W,La,ob){const Ac="%"+ob;if(!l.hasOwnProperty(La,Ac))try{La[Ac]=W.scaleRef(ob)}catch(Bc){}}function xa(W,La){if(l.isString(W))return(W=
La.scales[W])&&$a.isRegisteredScale(W.value)?W.value:void 0;if(l.isFunction(W))return $a.isRegisteredScale(W)?W:void 0}function Ua(W,La,ob){La.__bandwidth=Bc=>Bc&&Bc.bandwidth?Bc.bandwidth():0;ob._bandwidth=ua;ob._range=ua;ob._scale=ua;const Ac=Bc=>"_["+(Bc.type===ja.Literal?l.stringValue("%"+Bc.value):l.stringValue("%")+"+"+W(Bc))+"]";return{_bandwidth:Bc=>`this.__bandwidth(${Ac(Bc[0])})`,_range:Bc=>`${Ac(Bc[0])}.range()`,_scale:Bc=>`${Ac(Bc[0])}(${W(Bc[1])})`}}function Xa(W){return 1<W?cb:-1>W?
-cb:Math.asin(W)}function Ka(){}function jb(W,La){if(W&&Pe.hasOwnProperty(W.type))Pe[W.type](W,La)}function gb(W,La,ob){var Ac=-1;ob=W.length-ob;for(La.lineStart();++Ac<ob;){var Bc=W[Ac];La.point(Bc[0],Bc[1],Bc[2])}La.lineEnd()}function wb(W,La){var ob=-1,Ac=W.length;for(La.polygonStart();++ob<Ac;)gb(W[ob],La,1);La.polygonEnd()}function Ub(W,La){if(W&&df.hasOwnProperty(W.type))df[W.type](W,La);else jb(W,La)}function Na(){Je.point=ea}function U(){Ha(Cf,Ae)}function ea(W,La){Je.point=Ha;Cf=W;Ae=La;
W*=ed;La*=ed;Qe=W;kf=Md(La=La/2+fc);qe=pd(La)}function Ha(W,La){W*=ed;La*=ed;La=La/2+fc;var ob=W-Qe,Ac=0<=ob?1:-1,Bc=Ac*ob;ob=Md(La);La=pd(La);var yd=qe*La,Rd=kf*ob+yd*Md(Bc);Ac=yd*Ac*pd(Bc);Ud.add(Td(Ac,Rd));Qe=W;kf=ob;qe=La}function Y(W,La){return[W[1]*La[2]-W[2]*La[1],W[2]*La[0]-W[0]*La[2],W[0]*La[1]-W[1]*La[0]]}function Ca(W,La){tb.push(rb=[ae=W,m=W]);La<qa&&(qa=La);La>r&&(r=La)}function ma(W,La){var ob=[W*ed,La*ed];var Ac=ob[0];ob=ob[1];var Bc=Md(ob);Ac=[Bc*Md(Ac),Bc*pd(Ac),pd(ob)];if(Sa){ob=
Y(Sa,Ac);Bc=ob=Y([ob[1],-ob[0],0],ob);var yd=oe(Bc[0]*Bc[0]+Bc[1]*Bc[1]+Bc[2]*Bc[2]);Bc[0]/=yd;Bc[1]/=yd;Bc[2]/=yd;ob=[Td(ob[1],ob[0]),Xa(ob[2])];var Rd=W-K;Bc=0<Rd?1:-1;yd=ob[0]*id*Bc;Rd=180<Dd(Rd);Rd^(Bc*K<yd&&yd<Bc*W)?(ob=ob[1]*id,ob>r&&(r=ob)):(yd=(yd+360)%360-180,Rd^(Bc*K<yd&&yd<Bc*W))?(ob=-ob[1]*id,ob<qa&&(qa=ob)):(La<qa&&(qa=La),La>r&&(r=La));Rd?W<K?T(ae,W)>T(ae,m)&&(m=W):T(W,m)>T(ae,m)&&(ae=W):m>=ae?(W<ae&&(ae=W),W>m&&(m=W)):W>K?T(ae,W)>T(ae,m)&&(m=W):T(W,m)>T(ae,m)&&(ae=W)}else tb.push(rb=
[ae=W,m=W]);La<qa&&(qa=La);La>r&&(r=La);Sa=Ac;K=W}function na(){oc.point=ma}function n(){rb[0]=ae;rb[1]=m;oc.point=Ca;Sa=null}function G(W,La){if(Sa){var ob=W-K;Oa.add(180<Dd(ob)?ob+(0<ob?360:-360):ob)}else ka=W,Fa=La;Je.point(W,La);ma(W,La)}function M(){Je.lineStart()}function y(){G(ka,Fa);Je.lineEnd();1E-6<Dd(Oa)&&(ae=-(m=180));rb[0]=ae;rb[1]=m;Sa=null}function T(W,La){return 0>(La-=W)?La+360:La}function D(W,La){return W[0]-La[0]}function A(W,La){return W[0]<=W[1]?W[0]<=La&&La<=W[1]:La<W[0]||W[1]<
La}function P(W,La){W*=ed;La*=ed;var ob=Md(La);B(ob*Md(W),ob*pd(W),pd(La))}function B(W,La,ob){++kc;tc+=(W-tc)/kc;Lc+=(La-Lc)/kc;Wc+=(ob-Wc)/kc}function E(){ke.point=I}function I(W,La){W*=ed;La*=ed;var ob=Md(La);Vd=ob*Md(W);Cd=ob*pd(W);Od=pd(La);ke.point=X;B(Vd,Cd,Od)}function X(W,La){W*=ed;La*=ed;var ob=Md(La),Ac=ob*Md(W);W=ob*pd(W);La=pd(La);var Bc=Td(oe((Bc=Cd*La-Od*W)*Bc+(Bc=Od*Ac-Vd*La)*Bc+(Bc=Vd*W-Cd*Ac)*Bc),Vd*Ac+Cd*W+Od*La);sc+=Bc;Bd+=Bc*(Vd+(Vd=Ac));qd+=Bc*(Cd+(Cd=W));xd+=Bc*(Od+(Od=La));
B(Vd,Cd,Od)}function Ea(){ke.point=P}function R(){ke.point=Aa}function ia(){Pa(se,fe);ke.point=P}function Aa(W,La){se=W;fe=La;W*=ed;La*=ed;ke.point=Pa;var ob=Md(La);Vd=ob*Md(W);Cd=ob*pd(W);Od=pd(La);B(Vd,Cd,Od)}function Pa(W,La){W*=ed;La*=ed;var ob=Md(La),Ac=ob*Md(W);W=ob*pd(W);La=pd(La);ob=Cd*La-Od*W;var Bc=Od*Ac-Vd*La,yd=Vd*W-Cd*Ac,Rd=Ze(ob,Bc,yd),Id=Xa(Rd);Rd=Rd&&-Id/Rd;Nd.add(Rd*ob);mc.add(Rd*Bc);vd.add(Rd*yd);sc+=Id;Bd+=Id*(Vd+(Vd=Ac));qd+=Id*(Cd+(Cd=W));xd+=Id*(Od+(Od=La));B(Vd,Cd,Od)}function Ra(W,
La){return function(ob,Ac,Bc){return ob?(ob=xa(ob,(Bc||this).context))&&ob.path[W](Ac):La(Ac)}}function fb(W,La){return(W=xa(W,(La||this).context))&&W.scale()}function zb(W){const La=this.context.group;let ob=!1;if(La)for(;W;){if(W===La){ob=!0;break}W=W.mark.group}return ob}function kb(W,La,ob){try{W[La].apply(W,["EXPRESSION"].concat([].slice.call(ob)))}catch(Ac){W.warn(Ac)}return ob[ob.length-1]}function Vb(){return kb(this.context.dataflow,"warn",arguments)}function aa(){return kb(this.context.dataflow,
"info",arguments)}function Ga(){return kb(this.context.dataflow,"debug",arguments)}function Qb(W,La,ob){W.prototype=La.prototype=ob;ob.constructor=W}function nc(W,La){W=Object.create(W.prototype);for(var ob in La)W[ob]=La[ob];return W}function $b(){}function Ob(){return this.rgb().formatHex()}function Nb(){return this.rgb().formatRgb()}function rc(W){var La,ob;W=(W+"").trim().toLowerCase();return(La=le.exec(W))?(ob=La[1].length,La=parseInt(La[1],16),6===ob?Sc(La):3===ob?new Ab(La>>8&15|La>>4&240,
La>>4&15|La&240,(La&15)<<4|La&15,1):8===ob?ra(La>>24&255,La>>16&255,La>>8&255,(La&255)/255):4===ob?ra(La>>12&15|La>>8&240,La>>8&15|La>>4&240,La>>4&15|La&240,((La&15)<<4|La&15)/255):null):(La=mf.exec(W))?new Ab(La[1],La[2],La[3],1):(La=tf.exec(W))?new Ab(255*La[1]/100,255*La[2]/100,255*La[3]/100,1):(La=Eg.exec(W))?ra(La[1],La[2],La[3],La[4]):(La=yf.exec(W))?ra(255*La[1]/100,255*La[2]/100,255*La[3]/100,La[4]):(La=Qf.exec(W))?Zc(La[1],La[2]/100,La[3]/100,1):(La=lg.exec(W))?Zc(La[1],La[2]/100,La[3]/100,
La[4]):lf.hasOwnProperty(W)?Sc(lf[W]):"transparent"===W?new Ab(NaN,NaN,NaN,0):null}function Sc(W){return new Ab(W>>16&255,W>>8&255,W&255,1)}function ra(W,La,ob,Ac){0>=Ac&&(W=La=ob=NaN);return new Ab(W,La,ob,Ac)}function Gb(W){W instanceof $b||(W=rc(W));if(!W)return new Ab;W=W.rgb();return new Ab(W.r,W.g,W.b,W.opacity)}function Va(W,La,ob,Ac){return 1===arguments.length?Gb(W):new Ab(W,La,ob,null==Ac?1:Ac)}function Ab(W,La,ob,Ac){this.r=+W;this.g=+La;this.b=+ob;this.opacity=+Ac}function Jb(){return`#${wc(this.r)}${wc(this.g)}${wc(this.b)}`}
function Eb(){const W=Wb(this.opacity);return`${1===W?"rgb(":"rgba("}${ic(this.r)}, ${ic(this.g)}, ${ic(this.b)}${1===W?")":`, ${W})`}`}function Wb(W){return isNaN(W)?1:Math.max(0,Math.min(1,W))}function ic(W){return Math.max(0,Math.min(255,Math.round(W)||0))}function wc(W){W=ic(W);return(16>W?"0":"")+W.toString(16)}function Zc(W,La,ob,Ac){0>=Ac?W=La=ob=NaN:0>=ob||1<=ob?W=La=NaN:0>=La&&(W=NaN);return new Ma(W,La,ob,Ac)}function Pc(W){if(W instanceof Ma)return new Ma(W.h,W.s,W.l,W.opacity);W instanceof
$b||(W=rc(W));if(!W)return new Ma;if(W instanceof Ma)return W;W=W.rgb();var La=W.r/255,ob=W.g/255,Ac=W.b/255,Bc=Math.min(La,ob,Ac),yd=Math.max(La,ob,Ac),Rd=NaN,Id=yd-Bc,Zf=(yd+Bc)/2;Id?(Rd=La===yd?(ob-Ac)/Id+6*(ob<Ac):ob===yd?(Ac-La)/Id+2:(La-ob)/Id+4,Id/=.5>Zf?yd+Bc:2-yd-Bc,Rd*=60):Id=0<Zf&&1>Zf?0:Rd;return new Ma(Rd,Id,Zf,W.opacity)}function oa(W,La,ob,Ac){return 1===arguments.length?Pc(W):new Ma(W,La,ob,null==Ac?1:Ac)}function Ma(W,La,ob,Ac){this.h=+W;this.s=+La;this.l=+ob;this.opacity=+Ac}function ib(W){W=
(W||0)%360;return 0>W?W+360:W}function V(W){return Math.max(0,Math.min(1,W||0))}function x(W,La,ob){return 255*(60>W?La+(ob-La)*W/60:180>W?ob:240>W?La+(ob-La)*(240-W)/60:La)}function da(W){if(W instanceof Ia)return new Ia(W.l,W.a,W.b,W.opacity);if(W instanceof yc)return Kc(W);W instanceof Ab||(W=Gb(W));var La=Hb(W.r),ob=Hb(W.g),Ac=Hb(W.b),Bc=Wa(.2225045*La+.7168786*ob+.0606169*Ac);if(La===ob&&ob===Ac)var yd=La=Bc;else yd=Wa((.4360747*La+.3850649*ob+.1430804*Ac)/.96422),La=Wa((.0139322*La+.0971045*
ob+.7141733*Ac)/.82521);return new Ia(116*Bc-16,500*(yd-Bc),200*(Bc-La),W.opacity)}function ya(W,La,ob,Ac){return 1===arguments.length?da(W):new Ia(W,La,ob,null==Ac?1:Ac)}function Ia(W,La,ob,Ac){this.l=+W;this.a=+La;this.b=+ob;this.opacity=+Ac}function Wa(W){return W>Xf?Math.pow(W,1/3):W/Pf+Ng}function qb(W){return W>Kf?W*W*W:Pf*(W-Ng)}function Sb(W){return 255*(.0031308>=W?12.92*W:1.055*Math.pow(W,1/2.4)-.055)}function Hb(W){return.04045>=(W/=255)?W/12.92:Math.pow((W+.055)/1.055,2.4)}function Pb(W){if(W instanceof
yc)return new yc(W.h,W.c,W.l,W.opacity);W instanceof Ia||(W=da(W));if(0===W.a&&0===W.b)return new yc(NaN,0<W.l&&100>W.l?0:NaN,W.l,W.opacity);var La=Math.atan2(W.b,W.a)*Wf;return new yc(0>La?La+360:La,Math.sqrt(W.a*W.a+W.b*W.b),W.l,W.opacity)}function uc(W,La,ob,Ac){return 1===arguments.length?Pb(W):new yc(W,La,ob,null==Ac?1:Ac)}function yc(W,La,ob,Ac){this.h=+W;this.c=+La;this.l=+ob;this.opacity=+Ac}function Kc(W){if(isNaN(W.h))return new Ia(W.l,0,0,W.opacity);var La=W.h*Ke;return new Ia(W.l,Math.cos(La)*
W.c,Math.sin(La)*W.c,W.opacity)}function md(W){W/=255;return.03928>=W?W/12.92:Math.pow((W+.055)/1.055,2.4)}function fd(W){var La=Va(W);W=md(La.r);const ob=md(La.g);La=md(La.b);return.2126*W+.7152*ob+.0722*La}function Tc(W,La){W=fd(W);La=fd(La);return(Math.max(W,La)+.05)/(Math.min(W,La)+.05)}function ld(){const W=[].slice.call(arguments);W.unshift({});return l.extend(...W)}function nd(W,La){if(W===La||W!==W&&La!==La)W=!0;else if(l.isArray(W))if(l.isArray(La)&&W.length===La.length)a:{for(let ob=0,Ac=
W.length;ob<Ac;++ob)if(!nd(W[ob],La[ob])){W=!1;break a}W=!0}else W=!1;else W=l.isObject(W)&&l.isObject(La)?dd(W,La):!1;return W}function dd(W,La){for(const ob in W)if(!nd(W[ob],La[ob]))return!1;return!0}function Wd(W){return La=>dd(W,La)}function gd(W,La,ob,Ac,Bc,yd){const Rd=this.context.dataflow,Id=this.context.data[W],Zf=Id.input;W=Rd.stamp();let nf=Id.changes,zg;if(!1===Rd._trigger||!(Zf.value.length||La||Ac))return 0;if(!nf||nf.stamp<W)Id.changes=nf=Rd.changeset(),nf.stamp=W,Rd.runAfter(()=>
{Id.modified=!0;Rd.pulse(Zf,nf).run()},!0,1);ob&&(ob=!0===ob?l.truthy:l.isArray(ob)||vb.isTuple(ob)?ob:Wd(ob),nf.remove(ob));La&&nf.insert(La);Ac&&(ob=Wd(Ac),Zf.value.some(ob)?nf.remove(ob):nf.insert(Ac));if(Bc)for(zg in yd)nf.modify(Bc,zg,yd[zg]);return 1}function z(W){W=W.touches;return Math.hypot(W[0].clientX-W[1].clientX,W[0].clientY-W[1].clientY)}function J(W){W=W.touches;return Math.atan2(W[0].clientY-W[1].clientY,W[0].clientX-W[1].clientX)}function va(W,La){La=kh[La]||(kh[La]=l.field(La));
return l.isArray(W)?W.map(La):La(W)}function w(W){return l.isArray(W)||ArrayBuffer.isView(W)?W:null}function Q(W){return w(W)||(l.isString(W)?W:null)}function ca(W,...La){return w(W).join(...La)}function wa(W,...La){return Q(W).indexOf(...La)}function pa(W,...La){return Q(W).lastIndexOf(...La)}function Ya(W,...La){return Q(W).slice(...La)}function Tb(W,La,ob){l.isFunction(ob)&&l.error("Function argument passed to replace.");l.isString(La)||l.isRegExp(La)||l.error("Please pass a string or RegExp argument to replace.");
return String(W).replace(La,ob)}function Zb(W){return w(W).slice().reverse()}function jc(W){return w(W).slice().sort(l.ascending)}function Cc(W,La,ob){return $a.bandSpace(W||0,La||0,ob||0)}function Oc(W,La){return(W=xa(W,(La||this).context))&&W.bandwidth?W.bandwidth():0}function Rc(W,La){return(W=xa(W,(La||this).context))?W.copy():void 0}function od(W,La){return(W=xa(W,(La||this).context))?W.domain():[]}function sd(W,La,ob){return(W=xa(W,(ob||this).context))?l.isArray(La)?(W.invertRange||W.invert)(La):
(W.invert||W.invertExtent)(La):void 0}function zd(W,La){return(W=xa(W,(La||this).context))&&W.range?W.range():[]}function Zd(W,La,ob){return(W=xa(W,(ob||this).context))?W(La):void 0}function Kd(W,La,ob,Ac,Bc){W=xa(W,(Bc||this).context);const yd=Xb.Gradient(La,ob);La=W.domain();ob=La[0];Bc=l.peek(La);let Rd=l.identity;Bc-ob?Rd=$a.scaleFraction(W,ob,Bc):W=(W.interpolator?$a.scale("sequential")().interpolator(W.interpolator()):$a.scale("linear")().interpolate(W.interpolate()).range(W.range())).domain([ob=
0,Bc=1]);W.ticks&&(La=W.ticks(+Ac||15),ob!==La[0]&&La.unshift(ob),Bc!==l.peek(La)&&La.push(Bc));La.forEach(Id=>yd.stop(Rd(Id),W(Id)));return yd}function $d(W,La,ob){const Ac=xa(W,(ob||this).context);return function(Bc){return Ac?Ac.path.context(Bc)(La):""}}function Te(W){let La=null;return function(ob){return ob?Xb.pathRender(ob,La=La||Xb.pathParse(W)):W}}function We(W,La){W=ub.call(La,W);return W.root&&W.root.lookup||{}}function Le(W,La,ob){W=We(W,this);La=W[La];ob=W[ob];return La&&ob?La.path(ob).map(Yg):
void 0}function Ve(W,La){return(W=We(W,this)[La])?W.ancestors().map(Yg):void 0}function Ie(){const W="undefined"!==typeof window&&window||null;return W?W.screen:{}}function He(){const W="undefined"!==typeof window&&window||null;return W?[W.innerWidth,W.innerHeight]:[void 0,void 0]}function ie(){var W=this.context.dataflow;return(W=W.container&&W.container())?[W.clientWidth,W.clientHeight]:[void 0,void 0]}function ne(W,La,ob){if(!W)return[];const [Ac,Bc]=W;W=(new Xb.Bounds).set(Ac[0],Ac[1],Bc[0],Bc[1]);
ob=ob||this.context.dataflow.scenegraph().root;return Xb.intersect(ob,W,Ee(La))}function Ee(W){let La=null;if(W){const ob=l.array(W.marktype),Ac=l.array(W.markname);La=Bc=>(!ob.length||ob.some(yd=>Bc.marktype===yd))&&(!Ac.length||Ac.some(yd=>Bc.name===yd))}return La}function Fd(W,La,ob){if(1===arguments.length)return Zg[W];Zg[W]=La;ob&&(Pg[W]=ob);Lf&&(Lf.functions[W]="this."+W);return this}const Uf=W=>function(La,ob){const Ac=this.context.dataflow.locale();return null===La?"null":Ac[W](ob)(La)},rf=
Uf("format"),Ne=Uf("timeFormat"),ze=Uf("utcFormat"),Oe=Uf("timeParse"),Pd=Uf("utcParse"),dg=new Date(2E3,0,1);class gf{constructor(){this._partials=new Float64Array(32);this._n=0}add(W){const La=this._partials;let ob=0;for(let Ac=0;Ac<this._n&&32>Ac;Ac++){const Bc=La[Ac],yd=W+Bc;(W=Math.abs(W)<Math.abs(Bc)?W-(yd-Bc):Bc-(yd-W))&&(La[ob++]=W);W=yd}La[ob]=W;this._n=ob+1;return this}valueOf(){const W=this._partials;let La=this._n;let ob,Ac=0;if(0<La){for(Ac=W[--La];0<La;){var Bc=Ac;ob=W[--La];Ac=Bc+ob;
if(Bc=ob-(Ac-Bc))break}0<La&&(0>Bc&&0>W[La-1]||0<Bc&&0<W[La-1])&&(ob=2*Bc,Bc=Ac+ob,ob==Bc-Ac&&(Ac=Bc))}return Ac}}var Da=Math.PI,cb=Da/2,fc=Da/4,hd=2*Da,id=180/Da,ed=Da/180,Dd=Math.abs,Td=Math.atan2,Md=Math.cos,Ze=Math.hypot,pd=Math.sin,oe=Math.sqrt,df={Feature:function(W,La){jb(W.geometry,La)},FeatureCollection:function(W,La){W=W.features;for(var ob=-1,Ac=W.length;++ob<Ac;)jb(W[ob].geometry,La)}},Pe={Sphere:function(W,La){La.sphere()},Point:function(W,La){W=W.coordinates;La.point(W[0],W[1],W[2])},
MultiPoint:function(W,La){for(var ob=W.coordinates,Ac=-1,Bc=ob.length;++Ac<Bc;)W=ob[Ac],La.point(W[0],W[1],W[2])},LineString:function(W,La){gb(W.coordinates,La,0)},MultiLineString:function(W,La){W=W.coordinates;for(var ob=-1,Ac=W.length;++ob<Ac;)gb(W[ob],La,0)},Polygon:function(W,La){wb(W.coordinates,La)},MultiPolygon:function(W,La){W=W.coordinates;for(var ob=-1,Ac=W.length;++ob<Ac;)wb(W[ob],La)},GeometryCollection:function(W,La){W=W.geometries;for(var ob=-1,Ac=W.length;++ob<Ac;)jb(W[ob],La)}},Ud=
new gf,hf=new gf,Cf,Ae,Qe,kf,qe,Je={point:Ka,lineStart:Ka,lineEnd:Ka,polygonStart:function(){Ud=new gf;Je.lineStart=Na;Je.lineEnd=U},polygonEnd:function(){var W=+Ud;hf.add(0>W?hd+W:W);this.lineStart=this.lineEnd=this.point=Ka},sphere:function(){hf.add(hd)}},ae,qa,m,r,K,ka,Fa,Sa,Oa,tb,rb,oc={point:Ca,lineStart:na,lineEnd:n,polygonStart:function(){oc.point=G;oc.lineStart=M;oc.lineEnd=y;Oa=new gf;Je.polygonStart()},polygonEnd:function(){Je.polygonEnd();oc.point=Ca;oc.lineStart=na;oc.lineEnd=n;0>Ud?(ae=
-(m=180),qa=-(r=90)):1E-6<Oa?r=90:-1E-6>Oa&&(qa=-90);rb[0]=ae;rb[1]=m},sphere:function(){ae=-(m=180);qa=-(r=90)}},kc,sc,tc,Lc,Wc,Bd,qd,xd,Nd,mc,vd,se,fe,Vd,Cd,Od,ke={sphere:Ka,point:P,lineStart:E,lineEnd:Ea,polygonStart:function(){ke.lineStart=R;ke.lineEnd=ia},polygonEnd:function(){ke.lineStart=E;ke.lineEnd=Ea}};const Ge=Ra("area",function(W){hf=new gf;Ub(W,Je);return 2*hf}),ce=Ra("bounds",function(W){var La,ob,Ac;r=m=-(ae=qa=Infinity);tb=[];Ub(W,oc);if(La=tb.length){tb.sort(D);W=1;var Bc=tb[0];for(ob=
[Bc];W<La;++W){var yd=tb[W];A(Bc,yd[0])||A(Bc,yd[1])?(T(Bc[0],yd[1])>T(Bc[0],Bc[1])&&(Bc[1]=yd[1]),T(yd[0],Bc[1])>T(Bc[0],Bc[1])&&(Bc[0]=yd[0])):ob.push(Bc=yd)}var Rd=-Infinity;La=ob.length-1;W=0;for(Bc=ob[La];W<=La;Bc=yd,++W)yd=ob[W],(Ac=T(Bc[1],yd[0]))>Rd&&(Rd=Ac,ae=yd[0],m=Bc[1])}tb=rb=null;return Infinity===ae||Infinity===qa?[[NaN,NaN],[NaN,NaN]]:[[ae,qa],[m,r]]}),$e=Ra("centroid",function(W){kc=sc=tc=Lc=Wc=Bd=qd=xd=0;Nd=new gf;mc=new gf;vd=new gf;Ub(W,ke);W=+Nd;var La=+mc,ob=+vd,Ac=Ze(W,La,ob);
return 1E-12>Ac&&(W=Bd,La=qd,ob=xd,1E-6>sc&&(W=tc,La=Lc,ob=Wc),Ac=Ze(W,La,ob),1E-12>Ac)?[NaN,NaN]:[Td(La,W)*id,Xa(ob/Ac)*id]});var ad=1/.7,le=/^#([0-9a-f]{3,8})$/,mf=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),tf=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Eg=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
yf=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Qf=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),lg=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
lf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qb($b,rc,{copy(W){return Object.assign(new this.constructor,this,W)},displayable(){return this.rgb().displayable()},hex:Ob,formatHex:Ob,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Pc(this).formatHsl()},formatRgb:Nb,toString:Nb});Qb(Ab,Va,nc($b,{brighter(W){W=null==W?ad:Math.pow(ad,W);return new Ab(this.r*W,this.g*W,this.b*W,this.opacity)},
darker(W){W=null==W?.7:Math.pow(.7,W);return new Ab(this.r*W,this.g*W,this.b*W,this.opacity)},rgb(){return this},clamp(){return new Ab(ic(this.r),ic(this.g),ic(this.b),Wb(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Jb,formatHex:Jb,formatHex8:function(){return`#${wc(this.r)}${wc(this.g)}${wc(this.b)}${wc(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Eb,toString:Eb}));Qb(Ma,oa,nc($b,
{brighter(W){W=null==W?ad:Math.pow(ad,W);return new Ma(this.h,this.s,this.l*W,this.opacity)},darker(W){W=null==W?.7:Math.pow(.7,W);return new Ma(this.h,this.s,this.l*W,this.opacity)},rgb(){var W=this.h%360+360*(0>this.h),La=isNaN(W)||isNaN(this.s)?0:this.s,ob=this.l;La=ob+(.5>ob?ob:1-ob)*La;ob=2*ob-La;return new Ab(x(240<=W?W-240:W+120,ob,La),x(W,ob,La),x(120>W?W+240:W-120,ob,La),this.opacity)},clamp(){return new Ma(ib(this.h),V(this.s),V(this.l),Wb(this.opacity))},displayable(){return(0<=this.s&&
1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const W=Wb(this.opacity);return`${1===W?"hsl(":"hsla("}${ib(this.h)}, ${100*V(this.s)}%, ${100*V(this.l)}%${1===W?")":`, ${W})`}`}}));const Ke=Math.PI/180,Wf=180/Math.PI,Ng=4/29,Kf=6/29,Pf=3*Kf*Kf,Xf=Kf*Kf*Kf;Qb(Ia,ya,nc($b,{brighter(W){return new Ia(this.l+18*(null==W?1:W),this.a,this.b,this.opacity)},darker(W){return new Ia(this.l-18*(null==W?1:W),this.a,this.b,this.opacity)},rgb(){var W=(this.l+16)/116,
La=isNaN(this.a)?W:W+this.a/500,ob=isNaN(this.b)?W:W-this.b/200;La=.96422*qb(La);W=1*qb(W);ob=.82521*qb(ob);return new Ab(Sb(3.1338561*La-1.6168667*W-.4906146*ob),Sb(-.9787684*La+1.9161415*W+.033454*ob),Sb(.0719453*La-.2289914*W+1.4052427*ob),this.opacity)}}));Qb(yc,uc,nc($b,{brighter(W){return new yc(this.h,this.c,this.l+18*(null==W?1:W),this.opacity)},darker(W){return new yc(this.h,this.c,this.l-18*(null==W?1:W),this.opacity)},rgb(){return Kc(this).rgb()}}));const kh={},Yg=W=>W.data,Zg={random(){return Bb.random()},
cumulativeNormal:Bb.cumulativeNormal,cumulativeLogNormal:Bb.cumulativeLogNormal,cumulativeUniform:Bb.cumulativeUniform,densityNormal:Bb.densityNormal,densityLogNormal:Bb.densityLogNormal,densityUniform:Bb.densityUniform,quantileNormal:Bb.quantileNormal,quantileLogNormal:Bb.quantileLogNormal,quantileUniform:Bb.quantileUniform,sampleNormal:Bb.sampleNormal,sampleLogNormal:Bb.sampleLogNormal,sampleUniform:Bb.sampleUniform,isArray:l.isArray,isBoolean:l.isBoolean,isDate:l.isDate,isDefined(W){return void 0!==
W},isNumber:l.isNumber,isObject:l.isObject,isRegExp:l.isRegExp,isString:l.isString,isTuple:vb.isTuple,isValid(W){return null!=W&&W===W},toBoolean:l.toBoolean,toDate(W){return l.toDate(W)},toNumber:l.toNumber,toString:l.toString,indexof:wa,join:ca,lastindexof:pa,replace:Tb,reverse:Zb,sort:jc,slice:Ya,flush:l.flush,lerp:l.lerp,merge:ld,pad:l.pad,peek:l.peek,pluck:va,span:l.span,inrange:l.inrange,truncate:l.truncate,rgb:Va,lab:ya,hcl:uc,hsl:oa,luminance:fd,contrast:Tc,sequence:function(W,La,ob){W=+W;
La=+La;ob=2>(Bc=arguments.length)?(La=W,W=0,1):3>Bc?1:+ob;for(var Ac=-1,Bc=Math.max(0,Math.ceil((La-W)/ob))|0,yd=Array(Bc);++Ac<Bc;)yd[Ac]=W+Ac*ob;return yd},format:rf,utcFormat:ze,utcParse:Pd,utcOffset:yb.utcOffset,utcSequence:yb.utcSequence,timeFormat:Ne,timeParse:Oe,timeOffset:yb.timeOffset,timeSequence:yb.timeSequence,timeUnitSpecifier:yb.timeUnitSpecifier,monthFormat:Cb,monthAbbrevFormat:xb,dayFormat:nb,dayAbbrevFormat:Db,quarter:l.quarter,utcquarter:l.utcquarter,week:yb.week,utcweek:yb.utcweek,
dayofyear:yb.dayofyear,utcdayofyear:yb.utcdayofyear,warn:Vb,info:aa,debug:Ga,extent(W){return l.extent(W)},inScope:zb,intersect:ne,clampRange:l.clampRange,pinchDistance:z,pinchAngle:J,screen:Ie,containerSize:ie,windowSize:He,bandspace:Cc,setdata:Yb,pathShape:Te,panLinear:l.panLinear,panLog:l.panLog,panPow:l.panPow,panSymlog:l.panSymlog,zoomLinear:l.zoomLinear,zoomLog:l.zoomLog,zoomPow:l.zoomPow,zoomSymlog:l.zoomSymlog,encode:Ba,modify:gd,lassoAppend:function(W,La,ob,Ac=5){W=l.array(W);const Bc=W[W.length-
1];return void 0===Bc||Math.hypot(Bc[0]-La,Bc[1]-ob)>Ac?[...W,[La,ob]]:W},lassoPath:function(W){return l.array(W).reduce((La,[ob,Ac],Bc)=>La+(0==Bc?`M ${ob},${Ac} `:Bc===W.length-1?" Z":`L ${ob},${Ac} `),"")},intersectLasso:function(W,La,ob){const {x:Ac,y:Bc,mark:yd}=ob;ob=(new Xb.Bounds).set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const [Rd,Id]of La)Rd<ob.x1&&(ob.x1=Rd),Rd>ob.x2&&(ob.x2=Rd),Id<ob.y1&&(ob.y1=Id),Id>ob.y2&&(ob.y2=Id);ob.translate(Ac,
Bc);return ne([[ob.x1,ob.y1],[ob.x2,ob.y2]],W,yd).filter(Rd=>{var Id=Rd.y;let Zf=0;for(let nf=0,zg=La.length-1;nf<La.length;zg=nf++){const [sh,lh]=La[zg],[kg,rg]=La[nf];rg>Id!=lh>Id&&Rd.x<(sh-kg)*(Id-rg)/(lh-rg)+kg&&Zf++}return Zf&1})}},Og="view item group xy x y".split(" "),Pg={},$g={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:W=>`_[${l.stringValue("$"+W)}]`,functions:function(W){const La=ja.functions(W);Og.forEach(ob=>La[ob]="event.vega."+ob);for(const ob in Zg)La[ob]=
"this."+ob;l.extend(La,Ua(W,Zg,Pg));return La},constants:ja.constants,visitors:Pg},Lf=ja.codegenExpression($g);Fd("bandwidth",Oc,ua);Fd("copy",Rc,ua);Fd("domain",od,ua);Fd("range",zd,ua);Fd("invert",sd,ua);Fd("scale",Zd,ua);Fd("gradient",Kd,ua);Fd("geoArea",Ge,ua);Fd("geoBounds",ce,ua);Fd("geoCentroid",$e,ua);Fd("geoShape",$d,ua);Fd("geoScale",fb,ua);Fd("indata",Lb,lc);Fd("data",ub,lb);Fd("treePath",Le,lb);Fd("treeAncestors",Ve,lb);Fd("vlSelectionTest",ec.selectionTest,ec.selectionVisitor);Fd("vlSelectionIdTest",
ec.selectionIdTest,ec.selectionVisitor);Fd("vlSelectionResolve",ec.selectionResolve,ec.selectionVisitor);Fd("vlSelectionTuples",ec.selectionTuples);u.DataPrefix=":";u.IndexPrefix="@";u.ScalePrefix="%";u.SignalPrefix="$";u.bandspace=Cc;u.bandwidth=Oc;u.codeGenerator=Lf;u.codegenParams=$g;u.containerSize=ie;u.contrast=Tc;u.copy=Rc;u.data=ub;u.dataVisitor=lb;u.dayAbbrevFormat=Db;u.dayFormat=nb;u.debug=Ga;u.domain=od;u.encode=Ba;u.expressionFunction=Fd;u.format=rf;u.functionContext=Zg;u.geoArea=Ge;u.geoBounds=
ce;u.geoCentroid=$e;u.geoScale=fb;u.geoShape=$d;u.inScope=zb;u.indata=Lb;u.indataVisitor=lc;u.indexof=wa;u.info=aa;u.invert=sd;u.join=ca;u.lastindexof=pa;u.luminance=fd;u.merge=ld;u.modify=gd;u.monthAbbrevFormat=xb;u.monthFormat=Cb;u.parseExpression=function(W,La){const ob={};let Ac;try{W=l.isString(W)?W:l.stringValue(W)+"",Ac=ja.parseExpression(W)}catch(Bc){l.error("Expression parse error: "+W)}Ac.visit(Bc=>{if(Bc.type===ja.CallExpression){var yd=Bc.callee.name,Rd=$g.visitors[yd];Rd&&Rd(yd,Bc.arguments,
La,ob)}});W=Lf(Ac);W.globals.forEach(Bc=>{const yd="$"+Bc;!l.hasOwnProperty(ob,yd)&&La.getSignal(Bc)&&(ob[yd]=La.signalRef(Bc))});return{$expr:l.extend({code:W.code},La.options.ast?{ast:Ac}:null),$fields:W.fields,$params:ob}};u.pathShape=Te;u.pinchAngle=J;u.pinchDistance=z;u.pluck=va;u.range=zd;u.replace=Tb;u.reverse=Zb;u.scale=Zd;u.scaleGradient=Kd;u.scaleVisitor=ua;u.screen=Ie;u.setdata=Yb;u.slice=Ya;u.sort=jc;u.timeFormat=Ne;u.timeParse=Oe;u.treeAncestors=Ve;u.treePath=Le;u.utcFormat=ze;u.utcParse=
Pd;u.warn=Vb;u.windowSize=He})};
shadow$provide[52]=function(Fb,pb,zc,Za){(function(u,l){"object"===typeof Za&&"undefined"!==typeof zc?l(Za,pb(24),pb(32)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega,u.vega))})(this,function(u,l,ja){function $a(Ba,bb,Cb){Cb.endsWith(";")||(Cb="return("+Cb+");");bb=Function(...bb.concat(Cb));return Ba&&Ba.functions?bb.bind(Ba.functions):bb}function vb(Ba,bb,Cb){if(!Ba||!l.isObject(Ba))return Ba;
for(let xb=0,nb=Lb.length,Db;xb<nb;++xb)if(Db=Lb[xb],l.hasOwnProperty(Ba,Db.key))return Db.parse(Ba,bb,Cb);return Ba}function Xb(Ba,bb,Cb,xb){this.dataflow=Ba;this.transforms=bb;this.events=Ba.events.bind(Ba);this.expr=xb||ub;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};Cb&&(this.functions=Object.create(Cb),this.functions.context=this)}function ec(Ba){this.dataflow=Ba.dataflow;this.transforms=Ba.transforms;this.events=Ba.events;this.expr=Ba.expr;this.signals=Object.create(Ba.signals);
this.scales=Object.create(Ba.scales);this.nodes=Object.create(Ba.nodes);this.data=Object.create(Ba.data);this.fn=Object.create(Ba.fn);Ba.functions&&(this.functions=Object.create(Ba.functions),this.functions.context=this)}const Bb=l.toSet(["rule"]),yb=l.toSet(["group","image","rect"]);var ub={operator:(Ba,bb)=>$a(Ba,["_"],bb.code),parameter:(Ba,bb)=>$a(Ba,["datum","_"],bb.code),event:(Ba,bb)=>$a(Ba,["event"],bb.code),handler:(Ba,bb)=>$a(Ba,["_","event"],`var datum=event.item&&event.item.datum;return ${bb.code};`),
encode:(Ba,bb)=>{const {marktype:Cb,channels:xb}=bb;bb="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";for(var nb in xb){const Db="o["+l.stringValue(nb)+"]";bb+=`$=${xb[nb].code};if(${Db}!==$)${Db}=$,m=1;`}nb="";Bb[Cb]||(xb.x2&&(xb.x?(yb[Cb]&&(nb+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),nb+="o.width\x3do.x2-o.x;"):nb+="o.x\x3do.x2-(o.width||0);"),xb.xc&&(nb+="o.x\x3do.xc-(o.width||0)/2;"),xb.y2&&(xb.y?(yb[Cb]&&(nb+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),nb+="o.height\x3do.y2-o.y;"):
nb+="o.y\x3do.y2-(o.height||0);"),xb.yc&&(nb+="o.y\x3do.yc-(o.height||0)/2;"));bb+=nb;return $a(Ba,["item","_"],bb+"return m;")},codegen:{get(Ba){Ba=`[${Ba.map(l.stringValue).join("][")}]`;const bb=Function("_",`return _${Ba};`);bb.path=Ba;return bb},comparator(Ba,bb){let Cb;Ba=Function("a","b","var u, v; return "+Ba.map((xb,nb)=>{const Db=bb[nb];let lb;xb.path?(lb=`a${xb.path}`,xb=`b${xb.path}`):((Cb=Cb||{})["f"+nb]=xb,lb=`this.f${nb}(a)`,xb=`this.f${nb}(b)`);nb=-Db;return`((u = ${lb}) < (v = ${xb}) || u == null) && v != null ? ${nb}
  : (u > v || v == null) && u != null ? ${Db}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${nb}
  : v !== v && u === u ? ${Db} : `}).join("")+"0;");return Cb?Ba.bind(Cb):Ba}}},Lb=[{key:"$ref",parse:function(Ba,bb){return bb.get(Ba.$ref)||l.error("Operator not defined: "+Ba.$ref)}},{key:"$key",parse:function(Ba,bb){const Cb="k:"+Ba.$key+"_"+!!Ba.$flat;return bb.fn[Cb]||(bb.fn[Cb]=l.key(Ba.$key,Ba.$flat,bb.expr.codegen))}},{key:"$expr",parse:function(Ba,bb,Cb){Ba.$params&&bb.parseParameters(Ba.$params,Cb);Cb="e:"+Ba.$expr.code;return bb.fn[Cb]||(bb.fn[Cb]=l.accessor(bb.parameterExpression(Ba.$expr),
Ba.$fields))}},{key:"$field",parse:function(Ba,bb){if(!Ba.$field)return null;const Cb="f:"+Ba.$field+"_"+Ba.$name;return bb.fn[Cb]||(bb.fn[Cb]=l.field(Ba.$field,Ba.$name,bb.expr.codegen))}},{key:"$encode",parse:function(Ba,bb){Ba=Ba.$encode;const Cb={};for(const xb in Ba){const nb=Ba[xb];Cb[xb]=l.accessor(bb.encodeExpression(nb.$expr),nb.$fields);Cb[xb].output=nb.$output}return Cb}},{key:"$compare",parse:function(Ba,bb){const Cb="c:"+Ba.$compare+"_"+Ba.$order,xb=l.array(Ba.$compare).map(nb=>nb&&nb.$tupleid?
ja.tupleid:nb);return bb.fn[Cb]||(bb.fn[Cb]=l.compare(xb,Ba.$order,bb.expr.codegen))}},{key:"$context",parse:function(Ba,bb){return bb}},{key:"$subflow",parse:function(Ba,bb){const Cb=Ba.$subflow;return function(xb,nb,Db){const lb=bb.fork().parse(Cb);xb=lb.get(Cb.operators[0].id);(nb=lb.signals.parent)&&nb.set(Db);xb.detachSubflow=()=>bb.detach(lb);return xb}}},{key:"$tupleid",parse:function(){return ja.tupleid}}];const Yb={skip:!0};Xb.prototype=ec.prototype={fork(){const Ba=new ec(this);(this.subcontext||
(this.subcontext=[])).push(Ba);return Ba},detach(Ba){this.subcontext=this.subcontext.filter(Cb=>Cb!==Ba);const bb=Object.keys(Ba.nodes);for(const Cb of bb)Ba.nodes[Cb]._targets=null;for(const Cb of bb)Ba.nodes[Cb].detach();Ba.nodes=null},get(Ba){return this.nodes[Ba]},set(Ba,bb){return this.nodes[Ba]=bb},add(Ba,bb){const Cb=this,xb=Cb.dataflow,nb=Ba.value;Cb.set(Ba.id,bb);"collect"===(Ba.type+"").toLowerCase()&&nb&&(nb.$ingest?xb.ingest(bb,nb.$ingest,nb.$format):nb.$request?xb.preload(bb,nb.$request,
nb.$format):xb.pulse(bb,xb.changeset().insert(nb)));Ba.root&&(Cb.root=bb);if(Ba.parent){let Db=Cb.get(Ba.parent.$ref);Db?(xb.connect(Db,[bb]),bb.targets().add(Db)):(Cb.unresolved=Cb.unresolved||[]).push(()=>{Db=Cb.get(Ba.parent.$ref);xb.connect(Db,[bb]);bb.targets().add(Db)})}Ba.signal&&(Cb.signals[Ba.signal]=bb);Ba.scale&&(Cb.scales[Ba.scale]=bb);if(Ba.data)for(const Db in Ba.data){const lb=Cb.data[Db]||(Cb.data[Db]={});Ba.data[Db].forEach(lc=>lb[lc]=bb)}},resolve(){(this.unresolved||[]).forEach(Ba=>
Ba());delete this.unresolved;return this},operator(Ba,bb){this.add(Ba,this.dataflow.add(Ba.value,bb))},transform(Ba,bb){this.add(Ba,this.dataflow.add(this.transforms[(bb+"").toLowerCase()]))},stream(Ba,bb){this.set(Ba.id,bb)},update(Ba,bb,Cb,xb,nb){this.dataflow.on(bb,Cb,xb,nb,Ba.options)},operatorExpression(Ba){return this.expr.operator(this,Ba)},parameterExpression(Ba){return this.expr.parameter(this,Ba)},eventExpression(Ba){return this.expr.event(this,Ba)},handlerExpression(Ba){return this.expr.handler(this,
Ba)},encodeExpression(Ba){return this.expr.encode(this,Ba)},parse:function(Ba){const bb=this,Cb=Ba.operators||[];Ba.background&&(bb.background=Ba.background);Ba.eventConfig&&(bb.eventConfig=Ba.eventConfig);Ba.locale&&(bb.locale=Ba.locale);Cb.forEach(xb=>bb.parseOperator(xb));Cb.forEach(xb=>bb.parseOperatorParameters(xb));(Ba.streams||[]).forEach(xb=>bb.parseStream(xb));(Ba.updates||[]).forEach(xb=>bb.parseUpdate(xb));return bb.resolve()},parseOperator:function(Ba){"operator"!==(Ba.type+"").toLowerCase()&&
Ba.type?this.transform(Ba,Ba.type):this.operator(Ba,Ba.update?this.operatorExpression(Ba.update):null)},parseOperatorParameters:function(Ba){if(Ba.params){const bb=this.get(Ba.id);bb||l.error("Invalid operator id: "+Ba.id);this.dataflow.connect(bb,bb.parameters(this.parseParameters(Ba.params),Ba.react,Ba.initonly))}},parseParameters:function(Ba,bb){bb=bb||{};const Cb=this;for(const xb in Ba){const nb=Ba[xb];bb[xb]=l.isArray(nb)?nb.map(Db=>vb(Db,Cb,bb)):vb(nb,Cb,bb)}return bb},parseStream:function(Ba){var bb=
this,Cb=null!=Ba.filter?bb.eventExpression(Ba.filter):void 0,xb=null!=Ba.stream?bb.get(Ba.stream):void 0;if(Ba.source)xb=bb.events(Ba.source,Ba.type,Cb);else if(Ba.merge){var nb=Ba.merge.map(Db=>bb.get(Db));xb=nb[0].merge.apply(nb[0],nb.slice(1))}Ba.between&&(nb=Ba.between.map(Db=>bb.get(Db)),xb=xb.between(nb[0],nb[1]));Ba.filter&&(xb=xb.filter(Cb));null!=Ba.throttle&&(xb=xb.throttle(+Ba.throttle));null!=Ba.debounce&&(xb=xb.debounce(+Ba.debounce));null==xb&&l.error("Invalid stream definition: "+JSON.stringify(Ba));
Ba.consume&&xb.consume(!0);bb.stream(Ba,xb)},parseUpdate:function(Ba){var bb=l.isObject(bb=Ba.source)?bb.$ref:bb;bb=this.get(bb);var Cb=Ba.update,xb=void 0;bb||l.error("Source not defined: "+Ba.source);var nb=Ba.target&&Ba.target.$expr?this.eventExpression(Ba.target.$expr):this.get(Ba.target);Cb&&Cb.$expr&&(Cb.$params&&(xb=this.parseParameters(Cb.$params)),Cb=this.handlerExpression(Cb.$expr));this.update(Ba,bb,nb,Cb,xb)},getState:function(Ba){var bb=this,Cb={};if(Ba.signals){var xb=Cb.signals={};
Object.keys(bb.signals).forEach(Db=>{const lb=bb.signals[Db];Ba.signals(Db,lb)&&(xb[Db]=lb.value)})}if(Ba.data){var nb=Cb.data={};Object.keys(bb.data).forEach(Db=>{const lb=bb.data[Db];Ba.data(Db,lb)&&(nb[Db]=lb.input.value)})}bb.subcontext&&!1!==Ba.recurse&&(Cb.subcontext=bb.subcontext.map(Db=>Db.getState(Ba)));return Cb},setState:function(Ba){var bb=this,Cb=bb.dataflow,xb=Ba.data,nb=Ba.signals;Object.keys(nb||{}).forEach(Db=>{Cb.update(bb.signals[Db],nb[Db],Yb)});Object.keys(xb||{}).forEach(Db=>
{Cb.pulse(bb.data[Db].input,Cb.changeset().remove(l.truthy).insert(xb[Db]))});(Ba.subcontext||[]).forEach((Db,lb)=>{(lb=bb.subcontext[lb])&&lb.setState(Db)})}};u.context=function(Ba,bb,Cb,xb){return new Xb(Ba,bb,Cb,xb)}})};
shadow$provide[53]=function(Fb,pb,zc,Za){(function(u,l){"object"===typeof Za&&"undefined"!==typeof zc?l(Za,pb(24),pb(32),pb(37),pb(51),pb(52),pb(27)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph vega-functions vega-runtime vega-format".split(" "),l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega,u.vega,u.vega,u.vega,u.vega,u.vega))})(this,function(u,l,ja,$a,vb,Xb,ec){function Bb(oa){const Ma=oa.container();Ma&&(Ma.setAttribute("role",
"graphics-document"),Ma.setAttribute("aria-roleDescription","visualization"),yb(Ma,oa.description()))}function yb(oa,Ma){oa&&(null==Ma?oa.removeAttribute("aria-label"):oa.setAttribute("aria-label",Ma))}function ub(oa){oa.add(null,Ma=>{oa._background=Ma.bg;oa._resize=1;return Ma.bg},{bg:oa._signals.background})}function Lb(oa){const Ma=oa._signals.cursor||(oa._signals.cursor=oa.add({user:"default",item:null}));oa.on(oa.events("view","pointermove"),Ma,(ib,V)=>{const x=(ib=Ma.value)?l.isString(ib)?ib:
ib.user:"default";V=V.item&&V.item.cursor||null;return ib&&x===ib.user&&V==ib.item?ib:{user:x,item:V}});oa.add(null,function(ib){ib=ib.cursor;let V=this.value;l.isString(ib)||(V=ib.item,ib=ib.user);Yb(oa,ib&&"default"!==ib?ib:V||ib);return V},{cursor:Ma})}function Yb(oa,Ma){if(oa=oa.globalCursor()?"undefined"!==typeof document&&document.body:oa.container())return null==Ma?oa.style.removeProperty("cursor"):oa.style.cursor=Ma}function Ba(oa,Ma){oa=oa._runtime.data;l.hasOwnProperty(oa,Ma)||l.error("Unrecognized data set: "+
Ma);return oa[Ma]}function bb(oa,Ma){ja.isChangeSet(Ma)||l.error("Second argument to changes must be a changeset.");oa=Ba(this,oa);oa.modified=!0;return this.pulse(oa.input,Ma)}function Cb(oa){var Ma=oa.padding();return Math.max(0,oa._viewWidth+Ma.left+Ma.right)}function xb(oa){var Ma=oa.padding();return Math.max(0,oa._viewHeight+Ma.top+Ma.bottom)}function nb(oa){var Ma=oa.padding();oa=oa._origin;return[Ma.left+oa[0],Ma.top+oa[1]]}function Db(oa){var Ma=nb(oa),ib=Cb(oa),V=xb(oa);oa._renderer.background(oa.background());
oa._renderer.resize(ib,V,Ma);oa._handler.origin(Ma);oa._resizeListeners.forEach(x=>{try{x(ib,V)}catch(da){oa.error(da)}})}function lb(oa,Ma,ib){function V(ya){var Ia=da,Wa;if(ya)for(Wa=Ma;Wa;Wa=Wa.mark.group)if(Wa.mark.name===ya){Ia=Wa;break}return Ia&&Ia.mark&&Ia.mark.interactive?Ia:{}}function x(ya){if(!ya)return ib;l.isString(ya)&&(ya=V(ya));const Ia=ib.slice();for(;ya;)Ia[0]-=ya.x||0,Ia[1]-=ya.y||0,ya=ya.mark&&ya.mark.group;return Ia}const da=Ma?"group"===Ma.mark.marktype?Ma:Ma.mark.group:null;
return{view:l.constant(oa),item:l.constant(Ma||{}),group:V,xy:x,x:ya=>x(ya)[0],y:ya=>x(ya)[1]}}function lc(oa){oa=l.extend({defaults:{}},oa);const Ma=(ib,V)=>{V.forEach(x=>{l.isArray(ib[x])&&(ib[x]=l.toSet(ib[x]))})};Ma(oa.defaults,["prevent","allow"]);Ma(oa,["view","window","selector"]);return oa}function ua(oa,Ma,ib,V){oa._eventListeners.push({type:ib,sources:l.array(Ma),handler:V})}function ha(oa,Ma,ib){const V=oa._eventConfig&&oa._eventConfig[Ma];return!1===V||l.isObject(V)&&!V[ib]?(oa.warn(`Blocked ${Ma} ${ib} event listener.`),
!1):!0}function xa(oa){return oa.item}function Ua(oa){return oa.item.mark.source}function Xa(oa){return function(Ma,ib){return ib.vega.view().changeset().encode(ib.item,oa)}}function Ka(oa,Ma,ib){oa=document.createElement(oa);for(const V in Ma)oa.setAttribute(V,Ma[V]);null!=ib&&(oa.textContent=ib);return oa}function jb(oa,Ma,ib){var V=(Ma-oa)/Math.max(0,ib),x=Math.floor(Math.log10(V));V/=Math.pow(10,x);V=V>=Nb?10:V>=rc?5:V>=Sc?2:1;let da;0>x?(da=Math.pow(10,-x)/V,x=Math.round(oa*da),V=Math.round(Ma*
da),x/da<oa&&++x,V/da>Ma&&--V,da=-da):(da=Math.pow(10,x)*V,x=Math.round(oa/da),V=Math.round(Ma/da),x*da<oa&&++x,V*da>Ma&&--V);return V<x&&.5<=ib&&2>ib?jb(oa,Ma,2*ib):[x,V,da]}function gb(oa,Ma,ib){return jb(+oa,+Ma,+ib)[2]}function wb(oa,Ma,ib){Ma=+Ma;oa=+oa;ib=+ib;const V=Ma<oa;oa=V?gb(Ma,oa,ib):gb(oa,Ma,ib);return(V?-1:1)*(0>oa?1/-oa:oa)}function Ub(oa,Ma,ib){if(Ma){var V=ib.param,x=ib.state;x||(x=ib.state={elements:null,active:!1,set:null,update:da=>{da!=oa.signal(V.signal)&&oa.runAsync(null,()=>
{x.source=!0;oa.signal(V.signal,da)})}},V.debounce&&(x.update=l.debounce(V.debounce,x.update)));(null==V.input&&V.element?Na:U)(x,Ma,V,oa);x.active||(oa.on(oa._signals[V.signal],null,()=>{x.source?x.source=!1:x.set(oa.signal(V.signal))}),x.active=!0);return x}}function Na(oa,Ma,ib,V){const x=ib.event||"input",da=()=>oa.update(Ma.value);V.signal(ib.signal,Ma.value);Ma.addEventListener(x,da);ua(V,Ma,x,da);oa.set=ya=>{Ma.value=ya;ya=Ma.dispatchEvent;var Ia="undefined"!==typeof Event?new Event(x):{type:x};
ya.call(Ma,Ia)}}function U(oa,Ma,ib,V){V=V.signal(ib.signal);const x=Ka("div",{"class":"vega-bind"}),da="radio"===ib.input?x:x.appendChild(Ka("label"));da.appendChild(Ka("span",{"class":"vega-bind-name"},ib.name||ib.signal));Ma.appendChild(x);Ma=ea;switch(ib.input){case "checkbox":Ma=Ha;break;case "select":Ma=Y;break;case "radio":Ma=Ca;break;case "range":Ma=ma}Ma(oa,da,ib,V)}function ea(oa,Ma,ib,V){const x=Ka("input");for(const da in ib)"signal"!==da&&"element"!==da&&x.setAttribute("input"===da?"type":
da,ib[da]);x.setAttribute("name",ib.signal);x.value=V;Ma.appendChild(x);x.addEventListener("input",()=>oa.update(x.value));oa.elements=[x];oa.set=da=>x.value=da}function Ha(oa,Ma,ib,V){ib={type:"checkbox",name:ib.signal};V&&(ib.checked=!0);const x=Ka("input",ib);Ma.appendChild(x);x.addEventListener("change",()=>oa.update(x.checked));oa.elements=[x];oa.set=da=>x.checked=!!da||null}function Y(oa,Ma,ib,V){const x=Ka("select",{name:ib.signal}),da=ib.labels||[];ib.options.forEach((ya,Ia)=>{const Wa={value:ya};
na(ya,V)&&(Wa.selected=!0);x.appendChild(Ka("option",Wa,(da[Ia]||ya)+""))});Ma.appendChild(x);x.addEventListener("change",()=>{oa.update(ib.options[x.selectedIndex])});oa.elements=[x];oa.set=ya=>{for(let Ia=0,Wa=ib.options.length;Ia<Wa;++Ia)if(na(ib.options[Ia],ya)){x.selectedIndex=Ia;break}}}function Ca(oa,Ma,ib,V){const x=Ka("span",{"class":"vega-bind-radio"}),da=ib.labels||[];Ma.appendChild(x);oa.elements=ib.options.map((ya,Ia)=>{var Wa={type:"radio",name:ib.signal,value:ya};na(ya,V)&&(Wa.checked=
!0);Wa=Ka("input",Wa);Wa.addEventListener("change",()=>oa.update(ya));Ia=Ka("label",{},(da[Ia]||ya)+"");Ia.prepend(Wa);x.appendChild(Ia);return Wa});oa.set=ya=>{const Ia=oa.elements,Wa=Ia.length;for(let qb=0;qb<Wa;++qb)na(Ia[qb].value,ya)&&(Ia[qb].checked=!0)}}function ma(oa,Ma,ib,V){V=void 0!==V?V:(+ib.max+ +ib.min)/2;const x=null!=ib.max?ib.max:Math.max(100,+V)||100,da=ib.min||Math.min(0,x,+V)||0,ya=ib.step||wb(da,x,100),Ia=Ka("input",{type:"range",name:ib.signal,min:da,max:x,step:ya});Ia.value=
V;const Wa=Ka("span",{},+V);Ma.appendChild(Ia);Ma.appendChild(Wa);Ma=()=>{Wa.textContent=Ia.value;oa.update(+Ia.value)};Ia.addEventListener("input",Ma);Ia.addEventListener("change",Ma);oa.elements=[Ia];oa.set=qb=>{Ia.value=qb;Wa.textContent=qb}}function na(oa,Ma){return oa===Ma||oa+""===Ma+""}function n(oa,Ma,ib,V,x,da){Ma=Ma||new V(oa.loader());return Ma.initialize(ib,Cb(oa),xb(oa),nb(oa),x,da).background(oa.background())}function G(oa,Ma){return Ma?function(){try{Ma.apply(this,arguments)}catch(ib){oa.error(ib)}}:
null}function M(oa,Ma,ib,V){const x=(new V(oa.loader(),G(oa,oa.tooltip()))).scene(oa.scenegraph().root).initialize(ib,nb(oa),oa);Ma&&Ma.handlers().forEach(da=>{x.on(da.type,da.handler)});return x}function y(oa,Ma,ib){if("string"===typeof Ma)if("undefined"!==typeof document){if(Ma=document.querySelector(Ma),!Ma)return oa.error("Signal bind element not found: "+Ma),null}else return oa.error("DOM document instance not found."),null;if(Ma&&ib)try{Ma.textContent=""}catch(V){Ma=null,oa.error(V)}return Ma}
function T(oa){l.isObject(oa)?oa={top:+oa.top||0,bottom:+oa.bottom||0,left:+oa.left||0,right:+oa.right||0}:(oa=+oa||0,oa={top:oa,bottom:oa,left:oa,right:oa});return oa}function D(oa,Ma,ib,V){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var x=$a.renderModule(Ma);(x=x&&x.headless)||l.error("Unrecognized renderer type: "+Ma);yield oa.runAsync();return n(oa,null,null,x,ib,V).renderAsync(oa._scenegraph.root)})}function A(oa,Ma,ib){return Xb.context(oa,ja.transforms,vb.functionContext,
ib).parse(Ma)}function P(oa,Ma){var ib=oa.autosize();oa=oa.padding();return Ma-(ib&&"padding"===ib.contains?oa.left+oa.right:0)}function B(oa,Ma){var ib=oa.autosize();oa=oa.padding();return Ma-(ib&&"padding"===ib.contains?oa.top+oa.bottom:0)}function E(oa){function Ma(){oa._autosize=oa._resize=1}var ib=oa._signals,V=ib.width,x=ib.height;ib=ib.padding;oa._resizeWidth=oa.add(null,ya=>{oa._width=ya.size;oa._viewWidth=P(oa,ya.size);Ma()},{size:V});oa._resizeHeight=oa.add(null,ya=>{oa._height=ya.size;
oa._viewHeight=B(oa,ya.size);Ma()},{size:x});const da=oa.add(null,Ma,{pad:ib});oa._resizeWidth.rank=V.rank+1;oa._resizeHeight.rank=x.rank+1;da.rank=ib.rank+1}function I(oa,Ma){return Ma.modified&&l.isArray(Ma.input.value)&&!oa.startsWith("_:vega:_")}function X(oa,Ma){return!("parent"===oa||Ma instanceof ja.transforms.proxy)}function Ea(){return ic||(Pc(R),ic=Zc.now()+wc)}function R(){ic=0}function ia(){this._call=this._time=this._next=null}function Aa(){ic=(Wb=Zc.now())+wc;Gb=Va=0;try{Ea();++Gb;for(var oa=
Jb,Ma;oa;)0<=(Ma=ic-oa._time)&&oa._call.call(void 0,Ma),oa=oa._next;--Gb}finally{Gb=0;oa=Jb;for(var ib=Infinity;oa;)if(oa._call){ib>oa._time&&(ib=oa._time);var V=oa;oa=oa._next}else Ma=oa._next,oa._next=null,oa=V?V._next=Ma:Jb=Ma;Eb=V;Ra(ib);ic=0}}function Pa(){var oa=Zc.now(),Ma=oa-Wb;1E3<Ma&&(wc-=Ma,Wb=oa)}function Ra(oa){Gb||(Va&&(Va=clearTimeout(Va)),24<oa-ic?(Infinity>oa&&(Va=setTimeout(Aa,oa-Zc.now()-wc)),Ab&&(Ab=clearInterval(Ab))):(Ab||(Wb=Zc.now(),Ab=setInterval(Pa,1E3)),Gb=1,Pc(Aa)))}function fb(oa,
Ma,ib){var V=new ia,x=Ma;if(null==Ma)return V.restart(oa,Ma,ib),V;V._restart=V.restart;V.restart=function(da,ya,Ia){ya=+ya;Ia=null==Ia?Ea():+Ia;V._restart(function Sb(qb){qb+=x;V._restart(Sb,x+=ya,Ia);da(qb)},ya,Ia)};V.restart(oa,Ma,ib);return V}function zb(oa,Ma,ib,V){if(oa=oa.element())Ma=oa.setAttribute,V=null==V?"":l.isArray(V)?"["+V.map(Vb).join(", ")+"]":l.isObject(V)&&!l.isDate(V)?kb(V):V+"",Ma.call(oa,"title",V)}function kb(oa){return Object.keys(oa).map(Ma=>{const ib=oa[Ma];return Ma+": "+
(l.isArray(ib)?"["+ib.map(Vb).join(", ")+"]":Vb(ib))}).join("\n")}function Vb(oa){return l.isArray(oa)?"[…]":l.isObject(oa)&&!l.isDate(oa)?"{…}":oa}function aa(oa,Ma){Ma=Ma||{};ja.Dataflow.call(this);Ma.loader&&this.loader(Ma.loader);Ma.logger&&this.logger(Ma.logger);null!=Ma.logLevel&&this.logLevel(Ma.logLevel);if(Ma.locale||oa.locale){var ib=l.extend({},oa.locale,Ma.locale);this.locale(ec.locale(ib.number,ib.time))}this._elBind=this._el=null;this._renderType=Ma.renderer||$a.RenderType.Canvas;this._scenegraph=
new $a.Scenegraph;ib=this._scenegraph.root;this._renderer=null;this._tooltip=Ma.tooltip||zb;this._redraw=!0;this._handler=(new $a.CanvasHandler).scene(ib);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=lc(oa.eventConfig);this.globalCursor(this._eventConfig.globalCursor);const V=A(this,oa,Ma.expr);this._runtime=V;this._signals=V.signals;this._bind=(oa.bindings||[]).map(x=>({state:null,param:l.extend({},x)}));V.root&&V.root.set(ib);
ib.source=V.data.root.input;this.pulse(V.data.root.input,this.changeset().insert(ib.items));this._width=this.width();this._height=this.height();this._viewWidth=P(this,this._width);this._viewHeight=B(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;E(this);ub(this);Lb(this);this.description(oa.description);Ma.hover&&this.hover();Ma.container&&this.initialize(Ma.container,Ma.bind);Ma.watchPixelRatio&&this._watchPixelRatio()}function Ga(oa,Ma){return l.hasOwnProperty(oa._signals,
Ma)?oa._signals[Ma]:l.error("Unrecognized signal name: "+l.stringValue(Ma))}function Qb(oa,Ma){oa=(oa._targets||[]).filter(ib=>ib._update&&ib._update.handler===Ma);return oa.length?oa[0]:null}function nc(oa,Ma,ib,V){let x=Qb(ib,V);x||(x=G(oa,()=>V(Ma,ib.value)),x.handler=V,oa.on(ib,null,x));return oa}function $b(oa,Ma,ib){(ib=Qb(Ma,ib))&&Ma._targets.remove(ib);return oa}const Ob={trap:!1},Nb=Math.sqrt(50),rc=Math.sqrt(10),Sc=Math.sqrt(2);var ra={skip:!0},Gb=0,Va=0,Ab=0,Jb,Eb,Wb=0,ic=0,wc=0,Zc="object"===
typeof performance&&performance.now?performance:Date,Pc="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(oa){setTimeout(oa,17)};ia.prototype={constructor:ia,restart:function(oa,Ma,ib){if("function"!==typeof oa)throw new TypeError("callback is not a function");ib=(null==ib?Ea():+ib)+(null==Ma?0:+Ma);this._next||Eb===this||(Eb?Eb._next=this:Jb=this,Eb=this);this._call=oa;this._time=ib;Ra()},stop:function(){this._call&&(this._call=null,this._time=
Infinity,Ra())}};l.inherits(aa,ja.Dataflow,{evaluate(oa,Ma,ib){const V=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield ja.Dataflow.prototype.evaluate.call(V,oa,Ma);if(V._redraw||V._resize)try{V._renderer&&(V._resize&&(V._resize=0,Db(V)),yield V._renderer.renderAsync(V._scenegraph.root)),V._redraw=!1}catch(x){V.error(x)}ib&&ja.asyncCallback(V,ib);return V})},dirty(oa){this._redraw=!0;this._renderer&&this._renderer.dirty(oa)},description(oa){if(arguments.length){const Ma=
null!=oa?oa+"":null;Ma!==this._desc&&yb(this._el,this._desc=Ma);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(oa,Ma,ib){const V=Ga(this,oa);return 1===arguments.length?V.value:this.update(V,Ma,ib)},width(oa){return arguments.length?this.signal("width",oa):this.signal("width")},height(oa){return arguments.length?this.signal("height",oa):this.signal("height")},padding(oa){return arguments.length?this.signal("padding",
T(oa)):T(this.signal("padding"))},autosize(oa){return arguments.length?this.signal("autosize",oa):this.signal("autosize")},background(oa){return arguments.length?this.signal("background",oa):this.signal("background")},renderer(oa){if(!arguments.length)return this._renderType;$a.renderModule(oa)||l.error("Unrecognized renderer type: "+oa);oa!==this._renderType&&(this._renderType=oa,this._resetRenderer());return this},tooltip(oa){if(!arguments.length)return this._tooltip;oa!==this._tooltip&&(this._tooltip=
oa,this._resetRenderer());return this},loader(oa){if(!arguments.length)return this._loader;oa!==this._loader&&(ja.Dataflow.prototype.loader.call(this,oa),this._resetRenderer());return this},resize(){this._autosize=1;return this.touch(Ga(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(oa,Ma,ib,V,x,da){this.runAfter(ya=>{let Ia=0;ya._autosize=0;ya.width()!==ib&&(Ia=1,ya.signal("width",ib,ra),ya._resizeWidth.skip(!0));
ya.height()!==V&&(Ia=1,ya.signal("height",V,ra),ya._resizeHeight.skip(!0));ya._viewWidth!==oa&&(ya._resize=1,ya._viewWidth=oa);ya._viewHeight!==Ma&&(ya._resize=1,ya._viewHeight=Ma);if(ya._origin[0]!==x[0]||ya._origin[1]!==x[1])ya._resize=1,ya._origin=x;Ia&&ya.run("enter");da&&ya.runAfter(Wa=>Wa.resize())},!1,1)},addEventListener(oa,Ma,ib){let V=Ma;ib&&!1===ib.trap||(V=G(this,Ma),V.raw=Ma);this._handler.on(oa,V);return this},removeEventListener(oa,Ma){for(var ib=this._handler.handlers(oa),V=ib.length,
x,da;0<=--V;)if(da=ib[V].type,x=ib[V].handler,oa===da&&(Ma===x||Ma===x.raw)){this._handler.off(da,x);break}return this},addResizeListener(oa){const Ma=this._resizeListeners;Ma.includes(oa)||Ma.push(oa);return this},removeResizeListener(oa){var Ma=this._resizeListeners;oa=Ma.indexOf(oa);0<=oa&&Ma.splice(oa,1);return this},addSignalListener(oa,Ma){return nc(this,oa,Ga(this,oa),Ma)},removeSignalListener(oa,Ma){return $b(this,Ga(this,oa),Ma)},addDataListener(oa,Ma){return nc(this,oa,Ba(this,oa).values,
Ma)},removeDataListener(oa,Ma){return $b(this,Ba(this,oa).values,Ma)},globalCursor(oa){if(arguments.length){if(this._globalCursor!==!!oa){const Ma=Yb(this,null);this._globalCursor=!!oa;Ma&&Yb(this,Ma)}return this}return this._globalCursor},preventDefault(oa){return arguments.length?(this._preventDefault=oa,this):this._preventDefault},timer:function(oa,Ma){this._timers.push(fb(function(ib){oa({timestamp:Date.now(),elapsed:ib})},Ma))},events:function(oa,Ma,ib){var V=this,x=new ja.EventStream(ib);ib=
function(Wa,qb){V.runAsync(null,()=>{var Sb;if(Sb="view"===oa){var Hb=V._eventConfig.defaults;Sb=Hb.prevent;Hb=Hb.allow;Sb=!1===Sb||!0===Hb?!1:!0===Sb||!1===Hb?!0:Sb?Sb[Ma]:Hb?!Hb[Ma]:V.preventDefault()}Sb&&Wa.preventDefault();Sb=x.receive;Hb=(Hb=V._renderer)&&Hb.canvas();if(Hb){var Pb=nb(V);var uc=Wa.changedTouches?Wa.changedTouches[0]:Wa;uc=$a.point(uc,Hb);uc[0]-=Pb[0];uc[1]-=Pb[1]}Wa.dataflow=V;Wa.item=qb;Wa.vega=lb(V,qb,uc);Sb.call(x,Wa)})};var da;if("timer"===oa)ha(V,"timer",Ma)&&V.timer(ib,
Ma);else if("view"===oa)ha(V,"view",Ma)&&V.addEventListener(Ma,ib,Ob);else if("window"===oa?ha(V,"window",Ma)&&"undefined"!==typeof window&&(da=[window]):"undefined"!==typeof document&&ha(V,"selector",Ma)&&(da=Array.from(document.querySelectorAll(oa))),da){for(var ya=0,Ia=da.length;ya<Ia;++ya)da[ya].addEventListener(Ma,ib);ua(V,da,Ma,ib)}else V.warn("Can not resolve event source: "+oa);return x},finalize:function(){var oa=this._tooltip,Ma=this._timers,ib=this._handler.handlers(),V=this._eventListeners,
x;for(x=Ma.length;0<=--x;)Ma[x].stop();for(x=V.length;0<=--x;){var da=V[x];for(Ma=da.sources.length;0<=--Ma;)da.sources[Ma].removeEventListener(da.type,da.handler)}oa&&oa.call(this,this._handler,null,null,null);for(x=ib.length;0<=--x;)V=ib[x].type,oa=ib[x].handler,this._handler.off(V,oa);return this},hover:function(oa,Ma){oa=[oa||"hover"];Ma=[Ma||"update",oa[0]];this.on(this.events("view","pointerover",xa),Ua,Xa(oa));this.on(this.events("view","pointerout",xa),Ua,Xa(Ma));return this},data:function(oa,
Ma){return 2>arguments.length?Ba(this,oa).values.value:bb.call(this,oa,ja.changeset().remove(l.truthy).insert(Ma))},change:bb,insert:function(oa,Ma){return bb.call(this,oa,ja.changeset().insert(Ma))},remove:function(oa,Ma){return bb.call(this,oa,ja.changeset().remove(Ma))},scale:function(oa){var Ma=this._runtime.scales;l.hasOwnProperty(Ma,oa)||l.error("Unrecognized scale or projection: "+oa);return Ma[oa].value},initialize:function(oa,Ma){const ib=this;var V=ib._renderType;const x=ib._eventConfig.bind;
var da=$a.renderModule(V);oa=ib._el=oa?y(ib,oa,!0):null;Bb(ib);da||ib.error("Unrecognized renderer type: "+V);V=da.handler||$a.CanvasHandler;da=oa?da.renderer:da.headless;ib._renderer=da?n(ib,ib._renderer,oa,da):null;ib._handler=M(ib,ib._handler,oa,V);ib._redraw=!0;oa&&"none"!==x&&(Ma=Ma?ib._elBind=y(ib,Ma,!0):oa.appendChild(Ka("form",{"class":"vega-bindings"})),ib._bind.forEach(ya=>{ya.param.element&&"container"!==x&&(ya.element=y(ib,ya.param.element,!!ya.param.input))}),ib._bind.forEach(ya=>{Ub(ib,
ya.element||Ma,ya)}));return ib},toImageURL:function(oa,Ma){const ib=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){oa!==$a.RenderType.Canvas&&oa!==$a.RenderType.SVG&&oa!==$a.RenderType.PNG&&l.error("Unrecognized image type: "+oa);var V=yield D(ib,oa,Ma);oa===$a.RenderType.SVG?(V=V.svg(),V=new Blob([V],{type:"image/svg+xml"}),V=window.URL.createObjectURL(V)):V=V.canvas().toDataURL("image/png");return V})},toCanvas:function(oa,Ma){const ib=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield D(ib,
$a.RenderType.Canvas,oa,Ma)).canvas()})},toSVG:function(oa){const Ma=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield D(Ma,$a.RenderType.SVG,oa)).svg()})},getState:function(oa){return this._runtime.getState(oa||{data:I,signals:X,recurse:!0})},setState:function(oa){this.runAsync(null,Ma=>{Ma._trigger=!1;Ma._runtime.setState(oa)},Ma=>{Ma._trigger=!0});return this},_watchPixelRatio:function(){if("canvas"===this.renderer()&&this._renderer._canvas){let oa=null;const Ma=
()=>{null!=oa&&oa();const ib=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);ib.addEventListener("change",Ma);oa=()=>{ib.removeEventListener("change",Ma)};this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1;this._redraw=!0;this._resize=1;this.resize().runAsync()};Ma()}}});u.View=aa})};
shadow$provide[54]=function(Fb,pb,zc,Za){(function(u,l){"object"===typeof Za&&"undefined"!==typeof zc?l(Za):"function"===typeof define&&define.amd?define(["exports"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={}))})(this,function(u){function l(ub,Lb,Yb,Ba,bb){const Cb=ub.length;let xb=0,nb;for(;Lb<Cb;++Lb)if(nb=ub[Lb],xb||nb!==Yb)bb&&0<=bb.indexOf(nb)?--xb:Ba&&0<=Ba.indexOf(nb)&&++xb;else break;return Lb}function ja(ub){const Lb=[],Yb=ub.length;let Ba=0,bb=0;for(;bb<Yb;)bb=
l(ub,bb,",","[{","]}"),Lb.push(ub.substring(Ba,bb).trim()),Ba=++bb;if(0===Lb.length)throw"Empty event selector: "+ub;return Lb}function $a(ub){if("["===ub[0]){var Lb=ub;var Yb=Lb.length;ub=l(Lb,1,"]","[","]");if(ub===Yb)throw"Empty between selector: "+Lb;Yb=ja(Lb.substring(1,ub));if(2!==Yb.length)throw"Between selector must have two elements: "+Lb;Lb=Lb.slice(ub+1).trim();if("\x3e"!==Lb[0])throw"Expected '\x3e' after between selector: "+Lb;Yb=Yb.map($a);Lb=$a(Lb.slice(1).trim());Lb.between?Lb={between:Yb,
stream:Lb}:Lb.between=Yb}else{Yb={source:Bb};const Ba=[];let bb=[0,0],Cb=0,xb=0,nb=ub.length,Db=0,lb;if("}"===ub[nb-1]){Db=ub.lastIndexOf("{");if(0<=Db){try{bb=vb(ub.substring(Db+1,nb-1))}catch(lc){throw"Invalid throttle specification: "+ub;}ub=ub.slice(0,Db).trim();nb=ub.length}else throw"Unmatched right brace: "+ub;Db=0}if(!nb)throw ub;"@"===ub[0]&&(Cb=++Db);lb=l(ub,Db,":");lb<nb&&(Ba.push(ub.substring(xb,lb).trim()),xb=Db=++lb);Db=l(ub,Db,"[");if(Db===nb)Ba.push(ub.substring(xb,nb).trim());else if(Ba.push(ub.substring(xb,
Db).trim()),Lb=[],xb=++Db,xb===nb)throw"Unmatched left bracket: "+ub;for(;Db<nb;){Db=l(ub,Db,"]");if(Db===nb)throw"Unmatched left bracket: "+ub;Lb.push(ub.substring(xb,Db).trim());if(Db<nb-1&&"["!==ub[++Db])throw"Expected left bracket: "+ub;xb=++Db}if(!(nb=Ba.length)||Xb.test(Ba[nb-1]))throw"Invalid event selector: "+ub;1<nb?(Yb.type=Ba[1],Cb?Yb.markname=Ba[0].slice(1):yb[Ba[0]]?Yb.marktype=Ba[0]:Yb.source=Ba[0]):Yb.type=Ba[0];"!"===Yb.type.slice(-1)&&(Yb.consume=!0,Yb.type=Yb.type.slice(0,-1));null!=
Lb&&(Yb.filter=Lb);bb[0]&&(Yb.throttle=bb[0]);bb[1]&&(Yb.debounce=bb[1]);Lb=Yb}return Lb}function vb(ub){const Lb=ub.split(",");if(!ub.length||2<Lb.length)throw ub;return Lb.map(Yb=>{Yb=+Yb;if(Yb!==Yb)throw ub;return Yb})}const Xb=/[[\]{}]/,ec={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Bb,yb;u.parseSelector=function(ub,Lb,Yb){Bb=Lb||"view";yb=Yb||ec;return ja(ub.trim()).map($a)}})};
shadow$provide[55]=function(Fb,pb,zc,Za){(function(u,l){"object"===typeof Za&&"undefined"!==typeof zc?l(Za,pb(24),pb(51),pb(54),pb(36),pb(32)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vega={},u.vega,u.vega,u.vega,u.vega,u.vega))})(this,function(u,l,ja,$a,vb,Xb){function ec(m){return l.isObject(m)?m:{type:m||"pad"}}function Bb(m){l.isObject(m)?
m=m.signal?m:{top:+m.top||0,bottom:+m.bottom||0,left:+m.left||0,right:+m.right||0}:(m=+m||0,m={top:m,bottom:m,left:m,right:m});return m}function yb(m,r,K,ka){return null!=K?(l.isObject(K)&&!l.isArray(K)||l.isArray(K)&&K.length&&l.isObject(K[0])?m.update[r]=K:m[ka||"enter"][r]={value:K},1):0}function ub(m,r,K){for(const ka in r)yb(m,ka,r[ka]);for(const ka in K)yb(m,ka,K[ka],"update")}function Lb(m,r,K){for(const ka in r)K&&l.hasOwnProperty(K,ka)||(m[ka]=l.extend(m[ka]||{},r[ka]));return m}function Yb(m,
r){return r&&(r.enter&&r.enter[m]||r.update&&r.update[m])}function Ba(m,r,K,ka,Fa){const Sa={},Oa={};let tb,rb;rb="lineBreak";"text"!==r||null==Fa[rb]||Yb(rb,m)||bb(Sa,rb,Fa[rb]);if("legend"==K||String(K).startsWith("axis"))K=null;K="frame"===K?Fa.group:"mark"===K?l.extend({},Fa.mark,Fa[r]):null;for(rb in K)(r=Yb(rb,m)||("fill"===rb||"stroke"===rb)&&(Yb("fill",m)||Yb("stroke",m)))||bb(Sa,rb,K[rb]);l.array(ka).forEach(oc=>{oc=Fa.style&&Fa.style[oc];for(const kc in oc)Yb(kc,m)||bb(Sa,kc,oc[kc])});m=
l.extend({},m);for(rb in Sa)K=Sa[rb],K.signal?(tb=tb||{})[rb]=K:Oa[rb]=K;m.enter=l.extend(Oa,m.enter);tb&&(m.update=l.extend(tb,m.update));return m}function bb(m,r,K){m[r]=K&&K.signal?{signal:K.signal}:{value:K}}function Cb(m){if(null!=m.gradient)return xb(m);if(m.signal)var r=`(${m.signal})`;else m.color?(r=m.color,r=r.c?Cc("hcl",r.h,r.c,r.l):r.h||r.s?Cc("hsl",r.h,r.s,r.l):r.l||r.a?Cc("lab",r.l,r.a,r.b):r.r||r.g||r.b?Cc("rgb",r.r,r.g,r.b):null):r=null!=m.field?Db(m.field):void 0!==m.value?l.stringValue(m.value):
void 0;if(null!=m.scale){const K=jc(m.scale);null!=m.range?r=`lerp(_range(${K}), ${+m.range})`:(void 0!==r&&(r=`_scale(${K}, ${r})`),m.band&&(r=(r?r+"+":"")+`_bandwidth(${K})`+(1===+m.band?"":"*"+nb(m.band)),m.extra&&(r=`(datum.extra ? _scale(${K}, datum.extra.value) : ${r})`)),null==r&&(r="0"))}void 0===r&&(r=null);null!=m.exponent&&(r=`pow(${r},${nb(m.exponent)})`);null!=m.mult&&(r+=`*${nb(m.mult)}`);null!=m.offset&&(r+=`+${nb(m.offset)}`);m.round&&(r=`round(${r})`);return r}function xb(m){const r=
[m.start,m.stop,m.count].map(K=>null==K?null:l.stringValue(K));for(;r.length&&null==l.peek(r);)r.pop();r.unshift(jc(m.gradient));return`gradient(${r.join(",")})`}function nb(m){return l.isObject(m)?"("+Cb(m)+")":m}function Db(m){return lb(l.isObject(m)?m:{datum:m})}function lb(m){let r;if(m.signal){r="datum";var K=m.signal}else if(m.group||m.parent){K=Math.max(1,m.level||1);for(r="item";0<K--;)r+=".mark.group";m.parent?(K=m.parent,r+=".datum"):K=m.group}else m.datum?(r="datum",K=m.datum):l.error("Invalid field reference: "+
l.stringValue(m));m.signal||(K=l.isString(K)?l.splitAccessPath(K).map(l.stringValue).join("]["):lb(K));return r+"["+K+"]"}function lc(m){let r="";m.forEach(K=>{const ka=Cb(K);r+=K.test?`(${K.test})?${ka}:`:ka});":"===l.peek(r)&&(r+="null");return r}function ua(m,r,K,ka,Fa,Sa){const Oa={};Sa=Sa||{};Sa.encoders={$encode:Oa};m=Ba(m,r,K,ka,Fa.config);for(const sc in m){K=m[sc];ka=r;var tb=Sa,rb=Fa;const tc={},Lc={};for(const Wc in K)if(null!=K[Wc]){var oc=ha;var kc=K[Wc];kc=l.isArray(kc)?lc(kc):Cb(kc);
tc[Wc]=oc(kc,rb,tb,Lc)}K={$expr:{marktype:ka,channels:tc},$fields:Object.keys(Lc),$output:Object.keys(K)};Oa[sc]=K}return Sa}function ha(m,r,K,ka){m=ja.parseExpression(m,r);m.$fields.forEach(Fa=>ka[Fa]=1);l.extend(K,m.$params);return m.$expr}function xa(m,r){l.error(m+' for "outer" push: '+l.stringValue(r))}function Ua(m,r){const K=m.name;if("outer"===m.push)r.signals[K]||xa("No prior signal definition",K),Oc.forEach(ka=>{void 0!==m[ka]&&xa("Invalid property ",ka)});else{const ka=r.addSignal(K,m.value);
!1===m.react&&(ka.react=!1);m.bind&&r.addBinding(K,m.bind)}}function Xa(m,r,K,ka){this.id=-1;this.type=m;this.value=r;this.params=K;ka&&(this.parent=ka)}function Ka(m){const r={$ref:m.id};0>m.id&&(m.refs=m.refs||[]).push(r);return r}function jb(m,r){return r?{$field:m,$name:r}:{$field:m}}function gb(m,r){m={$key:m};r&&(m.$flat=!0);return m}function wb(m,r){return(m&&m.signal?"$"+m.signal:m||"")+(m&&r?"_":"")+(r&&r.signal?"$"+r.signal:r||"")}function Ub(m){return m&&m.signal}function Na(m){if(Ub(m))return!0;
if(l.isObject(m))for(const r in m)if(Na(m[r]))return!0;return!1}function U(m,r){return null!=m?m:r}function ea(m){return m&&m.signal||m}function Ha(m,r){return(m.merge?Y:m.stream?Ca:m.type?ma:l.error("Invalid stream specification: "+l.stringValue(m)))(m,r)}function Y(m,r){const K=m.merge.map(ka=>Ha(ka,r));m=na({merge:K},m,r);return r.addStream(m).id}function Ca(m,r){const K=Ha(m.stream,r);m=na({stream:K},m,r);return r.addStream(m).id}function ma(m,r){if("timer"===m.type){var K=r.event("timer",m.throttle);
m={between:m.between,filter:m.filter}}else K=m.source,K=r.event.call(r,"scope"===K?"view":K||"view",m.type);m=na({stream:K},m,r);return 1===Object.keys(m).length?K:r.addStream(m).id}function na(m,r,K){let ka=r.between;ka&&(2!==ka.length&&l.error('Stream "between" parameter must have 2 entries: '+l.stringValue(r)),m.between=[Ha(ka[0],K),Ha(ka[1],K)]);ka=r.filter?[].concat(r.filter):[];if(r.marktype||r.markname||r.markrole){var Fa=ka,Sa=r.marktype,Oa=r.markname,tb=r.markrole;Fa.push.call(Fa,"event.item"+
(Sa&&"*"!==Sa?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+Sa+"'":"")+(tb?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+tb+"'":"")+(Oa?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+Oa+"'":""))}"scope"===r.source&&ka.push("inScope(event.item)");ka.length&&(m.filter=ja.parseExpression("("+ka.join(")\x26\x26(")+")",K).$expr);null!=(ka=r.throttle)&&(m.throttle=+ka);null!=(ka=r.debounce)&&(m.debounce=+ka);r.consume&&(m.consume=!0);return m}function n(m,r,K){const ka=m.encode,Fa={target:K};K=m.events;let Sa=
m.update,Oa=[];K||l.error("Signal update missing events specification.");l.isString(K)&&(K=$a.parseSelector(K,r.isSubscope()?"scope":"view"));K=l.array(K).filter(tb=>tb.signal||tb.scale?(Oa.push(tb),0):1);1<Oa.length&&(Oa=[G(Oa)]);K.length&&Oa.push(1<K.length?{merge:K}:K[0]);null!=ka&&(Sa&&l.error("Signal encode and update are mutually exclusive."),Sa="encode(item(),"+l.stringValue(ka)+")");Fa.update=l.isString(Sa)?ja.parseExpression(Sa,r):null!=Sa.expr?ja.parseExpression(Sa.expr,r):null!=Sa.value?
Sa.value:null!=Sa.signal?{$expr:od,$params:{$value:r.signalRef(Sa.signal)}}:l.error("Invalid signal update specification.");m.force&&(Fa.options={force:!0});Oa.forEach(tb=>{var rb=r.addUpdate,oc=l.extend;tb={source:tb.signal?r.signalRef(tb.signal):tb.scale?r.scaleRef(tb.scale):Ha(tb,r)};return rb.call(r,oc.call(l,tb,Fa))})}function G(m){return{signal:"["+m.map(r=>r.scale?'scale("'+r.scale+'")':r.signal)+"]"}}function M(m,r){const K=r.getSignal(m.name);let ka=m.update;m.init&&(ka?l.error("Signals can not include both init and update expressions."):
(ka=m.init,K.initonly=!0));ka&&(ka=ja.parseExpression(ka,r),K.update=ka.$expr,K.params=ka.$params);m.on&&m.on.forEach(Fa=>n(Fa,r,K.id))}function y(m,r){return l.isObject(m)?m.signal?r.signalRef(m.signal):l.error("Unsupported object: "+l.stringValue(m)):m}function T(m,r){return m.signal?r.signalRef(m.signal):m.map(K=>y(K,r))}function D(m){l.error("Can not find data set: "+l.stringValue(m))}function A(m,r,K){if(m)return m.signal?K.signalRef(m.signal):(l.isArray(m)?P:m.fields?E:B)(m,r,K);null==r.domainMin&&
null==r.domainMax||l.error("No scale domain defined for domainMin/domainMax to override.")}function P(m,r,K){return m.map(ka=>y(ka,K))}function B(m,r,K){const ka=K.getData(m.data);ka||D(m.data);return vb.isDiscrete(r.type)?ka.valuesRef(K,m.field,X(m.sort,!1)):vb.isQuantile(r.type)?ka.domainRef(K,m.field):ka.extentRef(K,m.field)}function E(m,r,K){const ka=m.data,Fa=m.fields.reduce((Sa,Oa)=>{if(l.isString(Oa))Oa={data:ka,field:Oa};else if(l.isArray(Oa)||Oa.signal){var tb=Oa;Oa="_:vega:_"+Dd++;const rb=
$d({});l.isArray(tb)?rb.value={$ingest:tb}:tb.signal&&(tb="setdata("+l.stringValue(Oa)+","+tb.signal+")",rb.params.input=K.signalRef(tb));K.addDataPipeline(Oa,[rb,fc({})]);Oa={data:Oa,field:"data"}}Sa.push(Oa);return Sa},[]);return(vb.isDiscrete(r.type)?I:vb.isQuantile(r.type)?Ea:R)(m,K,Fa)}function I(m,r,K){const ka=X(m.sort,!0);m=K.map(Sa=>{const Oa=r.getData(Sa.data);Oa||D(Sa.data);return Oa.countsRef(r,Sa.field,ka)});const Fa={groupby:Rc,pulse:m};ka&&(m=ka.op||"count",K=ka.field?wb(m,ka.field):
"count",Fa.ops=[Td[m]],Fa.fields=[r.fieldRef(K)],Fa.as=[K]);m=r.add(zd(Fa));m=r.add($d({pulse:Ka(m)}));K=r.add(ed({field:Rc,sort:r.sortRef(ka),pulse:Ka(m)}));return Ka(K)}function X(m,r){m&&(m.field||m.op?m.field||"count"===m.op?r&&m.field&&m.op&&!Td[m.op]&&l.error("Multiple domain scales can not be sorted using "+m.op):l.error("No field provided for sort aggregate op: "+m.op):l.isObject(m)?m.field="key":m={field:"key"});return m}function Ea(m,r,K){m=K.map(ka=>{const Fa=r.getData(ka.data);Fa||D(ka.data);
return Fa.domainRef(r,ka.field)});return Ka(r.add(rf({values:m})))}function R(m,r,K){m=K.map(ka=>{const Fa=r.getData(ka.data);Fa||D(ka.data);return Fa.extentRef(r,ka.field)});return Ka(r.add(Uf({extents:m})))}function ia(m,r,K){const ka=r.config.range;let Fa=m.range;if(Fa.signal)return r.signalRef(Fa.signal);if(l.isString(Fa)){if(ka&&l.hasOwnProperty(ka,Fa))return m=l.extend({},m,{range:ka[Fa]}),ia(m,r,K);"width"===Fa?Fa=[0,{signal:"width"}]:"height"===Fa?Fa=vb.isDiscrete(m.type)?[0,{signal:"height"}]:
[{signal:"height"},0]:l.error("Unrecognized scale range value: "+l.stringValue(Fa))}else{if(Fa.scheme){K.scheme=l.isArray(Fa.scheme)?T(Fa.scheme,r):y(Fa.scheme,r);Fa.extent&&(K.schemeExtent=T(Fa.extent,r));Fa.count&&(K.schemeCount=y(Fa.count,r));return}if(Fa.step){K.rangeStep=y(Fa.step,r);return}if(vb.isDiscrete(m.type)&&!l.isArray(Fa))return A(Fa,m,r);l.isArray(Fa)||l.error("Unsupported range type: "+l.stringValue(Fa))}return Fa.map(Sa=>(l.isArray(Sa)?T:y)(Sa,r))}function Aa(m,r,K){return l.isArray(m)?
m.map(ka=>Aa(ka,r,K)):l.isObject(m)?m.signal?K.signalRef(m.signal):"fit"===r?m:l.error("Unsupported parameter object: "+l.stringValue(m)):m}function Pa(m){m.type="group";m.interactive=m.interactive||!1;return m}function Ra(m,r){const K=(ka,Fa)=>U(m[ka],U(r[ka],Fa));K.isVertical=ka=>"vertical"===U(m.direction,r.direction||(ka?r.symbolDirection:r.gradientDirection));K.gradientLength=()=>U(m.gradientLength,r.gradientLength||r.gradientWidth);K.gradientThickness=()=>U(m.gradientThickness,r.gradientThickness||
r.gradientHeight);K.entryColumns=()=>U(m.columns,U(r.columns,+K.isVertical(!0)));return K}function fb(m,r){return(m=r&&(r.update&&r.update[m]||r.enter&&r.enter[m]))&&m.signal?m:m?m.value:null}function zb(m,r,K){return`item.anchor === '${"start"}' ? ${m} : item.anchor === '${"end"}' ? ${r} : ${K}`}function kb(m,r){return r?m?l.isObject(m)?Object.assign({},m,{offset:kb(m.offset,r)}):{value:m,offset:r}:r:m}function Vb(m,r){r?(m.name=r.name,m.style=r.style||m.style,m.interactive=!!r.interactive,m.encode=
Lb(m.encode,r,Ze)):m.interactive=!1;return m}function aa(m,r,K,ka){m=Ra(m,K);K=m.isVertical();var Fa=m.gradientThickness();const Sa=m.gradientLength();let Oa,tb,rb;K?(K=[0,1],tb=[0,0],rb=Fa,Fa=Sa):(K=[0,0],tb=[1,0],rb=Sa);Fa={enter:Oa={opacity:pd,x:pd,y:pd,width:Zb(rb),height:Zb(Fa)},update:l.extend({},Oa,{opacity:oe,fill:{gradient:r,start:K,stop:tb}}),exit:{opacity:pd}};ub(Fa,{stroke:m("gradientStrokeColor"),strokeWidth:m("gradientStrokeWidth")},{opacity:m("gradientOpacity")});return Vb({type:"rect",
role:"legend-gradient",encode:Fa},ka)}function Ga(m,r,K,ka,Fa){m=Ra(m,K);const Sa=m.isVertical();K=m.gradientThickness();const Oa=m.gradientLength();var tb;let rb,oc,kc,sc="";Sa?(tb="y",oc="y2",rb="x",kc="width",sc="1-"):(tb="x",oc="x2",rb="y",kc="height");r={opacity:pd,fill:{scale:r,field:"value"}};r[tb]={signal:sc+"datum.perc",mult:Oa};r[rb]=pd;r[oc]={signal:sc+"datum.perc2",mult:Oa};r[kc]=Zb(K);tb={enter:r,update:l.extend({},r,{opacity:oe}),exit:{opacity:pd}};ub(tb,{stroke:m("gradientStrokeColor"),
strokeWidth:m("gradientStrokeWidth")},{opacity:m("gradientOpacity")});return Vb({type:"rect",role:"legend-band",key:"value",from:Fa,encode:tb},ka)}function Qb(m,r,K,ka){const Fa=Ra(m,r);var Sa=Fa.isVertical();const Oa=Zb(Fa.gradientThickness()),tb=Fa.gradientLength();let rb=Fa("labelOverlap"),oc,kc,sc,tc="";const Lc={enter:oc={opacity:pd},update:kc={opacity:oe,text:{field:"label"}},exit:{opacity:pd}};ub(Lc,{fill:Fa("labelColor"),fillOpacity:Fa("labelOpacity"),font:Fa("labelFont"),fontSize:Fa("labelFontSize"),
fontStyle:Fa("labelFontStyle"),fontWeight:Fa("labelFontWeight"),limit:U(m.labelLimit,r.gradientLabelLimit)});Sa?(oc.align={value:"left"},oc.baseline=kc.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},Sa="y",sc="x",tc="1-"):(oc.align=kc.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},oc.baseline={value:"top"},Sa="x",sc="y");oc[Sa]=kc[Sa]={signal:tc+"datum.perc",mult:tb};oc[sc]=kc[sc]=Oa;Oa.offset=U(m.labelOffset,r.gradientLabelOffset)||
0;rb=rb?{separation:Fa("labelSeparation"),method:rb,order:"datum.index"}:void 0;return Vb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:ka,encode:Lc,overlap:rb},K)}function nc(m,r,K,ka,Fa){var Sa=Ra(m,r);const Oa=K.entries,tb=!(!Oa||!Oa.interactive),rb=Oa?Oa.name:void 0,oc=Sa("clipHeight"),kc=Sa("symbolOffset"),sc={data:"value"},tc=`(${Fa}) ? datum.${"offset"} : datum.${"size"}`,Lc=oc?Zb(oc):{field:"size"},Wc=`max(1, ${Fa})`;let Bd,qd;Lc.mult=.5;var xd={enter:Bd={opacity:pd,
x:{signal:tc,mult:.5,offset:kc},y:Lc},update:qd={opacity:oe,x:Bd.x,y:Bd.y},exit:{opacity:pd}};let Nd=null,mc=null;m.fill||(Nd=r.symbolBaseFillColor,mc=r.symbolBaseStrokeColor);ub(xd,{fill:Sa("symbolFillColor",Nd),shape:Sa("symbolType"),size:Sa("symbolSize"),stroke:Sa("symbolStrokeColor",mc),strokeDash:Sa("symbolDash"),strokeDashOffset:Sa("symbolDashOffset"),strokeWidth:Sa("symbolStrokeWidth")},{opacity:Sa("symbolOpacity")});Md.forEach(vd=>{m[vd]&&(qd[vd]=Bd[vd]={scale:m[vd],field:"value"})});r=Vb({type:"symbol",
role:"legend-symbol",key:"value",from:sc,clip:oc?!0:void 0,encode:xd},K.symbols);xd=Zb(kc);xd.offset=Sa("labelOffset");xd={enter:Bd={opacity:pd,x:{signal:tc,offset:xd},y:Lc},update:qd={opacity:oe,text:{field:"label"},x:Bd.x,y:Bd.y},exit:{opacity:pd}};ub(xd,{align:Sa("labelAlign"),baseline:Sa("labelBaseline"),fill:Sa("labelColor"),fillOpacity:Sa("labelOpacity"),font:Sa("labelFont"),fontSize:Sa("labelFontSize"),fontStyle:Sa("labelFontStyle"),fontWeight:Sa("labelFontWeight"),limit:Sa("labelLimit")});
K=Vb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:sc,encode:xd},K.labels);xd={enter:{noBound:{value:!oc},width:pd,height:oc?Zb(oc):pd,opacity:pd},exit:{opacity:pd},update:qd={opacity:oe,row:{signal:null},column:{signal:null}}};Sa.isVertical(!0)?(Sa=`ceil(item.mark.items.length / ${Wc})`,qd.row.signal=`${"datum.index"}%${Sa}`,qd.column.signal=`floor(${"datum.index"} / ${Sa})`,Sa={field:["row","datum.index"]}):(qd.row.signal=`floor(${"datum.index"} / ${Wc})`,qd.column.signal=
`${"datum.index"} % ${Wc}`,Sa={field:"datum.index"});qd.column.signal=`(${Fa})?${qd.column.signal}:${"datum.index"}`;ka={facet:{data:ka,name:"value",groupby:"index"}};return Pa({role:"scope",from:ka,encode:Lb(xd,Oa,Ze),marks:[r,K],name:rb,interactive:tb,sort:Sa})}function $b(m,r){m=Ra(m,r);return{align:m("gridAlign"),columns:m.entryColumns(),center:{row:!0,column:!1},padding:{row:m("rowPadding"),column:m("columnPadding")}}}function Ob(m,r,K,ka){r=Ra(m,r);const Fa={enter:{opacity:pd},update:{opacity:oe,
x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:pd}};ub(Fa,{orient:r("titleOrient"),_anchor:r("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},align:{signal:Ud},baseline:{signal:hf},text:m.title,fill:r("titleColor"),fillOpacity:r("titleOpacity"),
font:r("titleFont"),fontSize:r("titleFontSize"),fontStyle:r("titleFontStyle"),fontWeight:r("titleFontWeight"),limit:r("titleLimit"),lineHeight:r("titleLineHeight")},{align:r("titleAlign"),baseline:r("titleBaseline")});return Vb({type:"text",role:"legend-title",style:"guide-title",from:ka,encode:Fa},K)}function Nb(m,r){let K;l.isObject(m)&&(m.signal?K=m.signal:m.path?K="pathShape("+rc(m.path)+")":m.sphere&&(K="geoShape("+rc(m.sphere)+', {type: "Sphere"})'));return K?r.signalRef(K):!!m}function rc(m){return l.isObject(m)&&
m.signal?m.signal:l.stringValue(m)}function Sc(m){const r=m.role||"";return r.startsWith("axis")||r.startsWith("legend")||r.startsWith("title")?r:"group"===m.type?"scope":r||"mark"}function ra(m){return{marktype:m.type,name:m.name||void 0,role:m.role||Sc(m),zindex:+m.zindex||void 0,aria:m.aria,description:m.description}}function Gb(m,r){return m&&m.signal?r.signalRef(m.signal):!1===m?!1:!0}function Va(m,r){const K=Xb.definition(m.type);K||l.error("Unrecognized transform type: "+l.stringValue(m.type));
var ka=K.type.toLowerCase();var Fa=Ab(K,m,r);ka=new Xa(ka,null,Fa,void 0);m.signal&&r.addSignal(m.signal,r.proxy(ka));ka.metadata=K.metadata||{};return ka}function Ab(m,r,K){const ka={},Fa=m.params.length;for(let Sa=0;Sa<Fa;++Sa){const Oa=m.params[Sa];ka[Oa.name]=Jb(Oa,r,K)}return ka}function Jb(m,r,K){const ka=m.type,Fa=r[m.name];if("index"===ka)return Wb(m,r,K);if(void 0===Fa)m.required&&l.error("Missing required "+l.stringValue(r.type)+" parameter: "+l.stringValue(m.name));else return"param"===
ka?ic(m,r,K):"projection"===ka?K.projectionRef(r[m.name]):m.array&&!Ub(Fa)?Fa.map(Sa=>Eb(m,Sa,K)):Eb(m,Fa,K)}function Eb(m,r,K){const ka=m.type;return Ub(r)?"expr"===ka?l.error("Expression references can not be signals."):"field"===ka?K.fieldRef(r):"compare"===ka?K.compareRef(r):K.signalRef(r.signal):(m=m.expr||"field"===ka)&&r&&r.expr?K.exprRef(r.expr,r.as):m&&r&&r.field?jb(r.field,r.as):"expr"===ka?ja.parseExpression(r,K):"data"===ka?Ka(K.getData(r).values):"field"===ka?jb(r):"compare"===ka?K.compareRef(r):
r}function Wb(m,r,K){l.isString(r.from)||l.error('Lookup "from" parameter must be a string literal.');return K.getData(r.from).lookupRef(K,r.key)}function ic(m,r,K){r=r[m.name];return m.array?(l.isArray(r)||l.error("Expected an array of sub-parameters. Instead: "+l.stringValue(r)),r.map(ka=>wc(m,ka,K))):wc(m,r,K)}function wc(m,r,K){const ka=m.params.length;let Fa;for(let Sa=0;Sa<ka;++Sa){Fa=m.params[Sa];for(const Oa in Fa.key)if(Fa.key[Oa]!==r[Oa]){Fa=null;break}if(Fa)break}Fa||l.error("Unsupported parameter: "+
l.stringValue(r));m=l.extend(Ab(Fa,r,K),Fa.key);return Ka(K.add(ze(m)))}function Zc(m,r,K){let ka,Fa,Sa,Oa;if(!m)Sa=Ka(K.add($d(null,[{}])));else if(ka=m.facet)r||l.error("Only group marks can be faceted."),null!=ka.field?Sa=Oa=Pc(ka,K):(m.data?Oa=Ka(K.getData(m.data).aggregate):(r=Va(l.extend({type:"aggregate",groupby:l.array(ka.groupby)},ka.aggregate),K),r.params.key=K.keyRef(ka.groupby),r.params.pulse=Pc(ka,K),Sa=Oa=Ka(K.add(r))),Fa=K.keyRef(ka.groupby,!0));Sa||(Sa=Pc(m,K));return{key:Fa,pulse:Sa,
parent:Oa}}function Pc(m,r){return m.$ref?m:m.data&&m.data.$ref?m.data:Ka(r.getData(m.data).output)}function oa(m,r,K,ka,Fa){this.scope=m;this.input=r;this.output=K;this.values=ka;this.aggregate=Fa;this.index={}}function Ma(m){return l.isString(m)?m:null}function ib(m,r,K){const ka=wb(K.op,K.field);let Fa;if(r.ops)for(let Sa=0,Oa=r.as.length;Sa<Oa;++Sa){if(r.as[Sa]===ka)return}else r.ops=["count"],r.fields=[null],r.as=["count"];K.op&&(r.ops.push((Fa=K.op.signal)?m.signalRef(Fa):K.op),r.fields.push(m.fieldRef(K.field)),
r.as.push(ka))}function V(m,r,K,ka,Fa,Sa,Oa){K=r[K]||(r[K]={});var tb=l.isObject(Sa)?("descending"===Sa.order?"-":"+")+wb(Sa.op,Sa.field):"";let rb=Ma(Fa);if(null!=rb){m=r.scope;rb+=tb?"|"+tb:"";var oc=K[rb]}oc||(oc=Sa?{field:Rc,pulse:r.countsRef(m,Fa,Sa)}:{field:m.fieldRef(Fa),pulse:Ka(r.output)},tb&&(oc.sort=m.sortRef(Sa)),m=m.add(new Xa(ka,void 0,oc,void 0)),Oa&&(r.index[Fa]=m),oc=Ka(m),null!=rb&&(K[rb]=oc));return oc}function x(m,r,K){var ka=m.from.facet;const Fa=ka.name,Sa=Pc(ka,r);let Oa;ka.name||
l.error("Facet must have a name: "+l.stringValue(ka));ka.data||l.error("Facet must reference a data set: "+l.stringValue(ka));ka.field?Oa=r.add(Oe({field:r.fieldRef(ka.field),pulse:Sa})):ka.groupby?Oa=r.add(Ie({key:r.keyRef(ka.groupby),group:Ka(r.proxy(K.parent)),pulse:Sa})):l.error("Facet must specify groupby or field: "+l.stringValue(ka));r=r.fork();K=r.add($d());ka=r.add(fc({pulse:Ka(K)}));r.addData(Fa,new oa(r,K,K,ka));r.addSignal("parent",null);Oa.params.subflow={$subflow:r.parse(m).toRuntime()}}
function da(m,r,K){K=r.add(Oe({pulse:K.pulse}));r=r.fork();r.add(fc());r.addSignal("parent",null);K.params.subflow={$subflow:r.parse(m).toRuntime()}}function ya(m,r,K){const ka=m.remove,Fa=m.insert,Sa=m.toggle,Oa=m.modify,tb=m.values,rb=r.add(new Xa("operator",void 0,void 0,void 0));m="if("+m.trigger+',modify("'+K+'",'+[Fa,ka,Sa,Oa,tb].map(oc=>null==oc?"null":oc).join(",")+"),0)";r=ja.parseExpression(m,r);rb.update=r.$expr;rb.params=r.$params}function Ia(m,r){var K=Sc(m),ka="group"===m.type,Fa=m.from&&
m.from.facet;const Sa=m.overlap;let Oa=m.layout||"scope"===K||"frame"===K,tb,rb,oc,kc,sc,tc;const Lc="mark"===K||Oa||Fa,Wc=Zc(m.from,ka,r);rb=r.add(We({key:Wc.key||(m.key?jb(m.key):void 0),pulse:Wc.pulse,clean:!ka}));const Bd=Ka(rb);rb=oc=r.add($d({pulse:Bd}));rb=r.add(Fd({markdef:ra(m),interactive:Gb(m.interactive,r),clip:Nb(m.clip,r),context:{$context:!0},groups:r.lookup(),parent:r.signals.parent?r.signalRef("parent"):null,index:r.markpath(),pulse:Ka(rb)}));var qd=Ka(rb);rb=kc=r.add(Le(ua(m.encode,
m.type,K,m.style,r,{mod:!1,pulse:qd})));rb.params.parent=r.encode();m.transform&&m.transform.forEach(Nd=>{Nd=Va(Nd,r);const mc=Nd.metadata;(mc.generates||mc.changes)&&l.error("Mark transforms should not generate new data.");mc.nomod||(kc.params.mod=!0);Nd.params.pulse=Ka(rb);r.add(rb=Nd)});m.sort&&(rb=r.add(hd({sort:r.compareRef(m.sort),pulse:Ka(rb)})));K=Ka(rb);if(Fa||Oa)Oa=r.add(id({layout:r.objectProperty(m.layout),legends:r.legends,mark:qd,pulse:K})),tc=Ka(Oa);const xd=r.add(Kd({mark:qd,pulse:tc||
K}));qd=Ka(xd);ka&&(Lc&&(tb=r.operators,tb.pop(),Oa&&tb.pop()),r.pushState(K,tc||qd,Bd),Fa?x(m,r,Wc):Lc?da(m,r,Wc):r.parse(m),r.popState(),Lc&&(Oa&&tb.push(Oa),tb.push(xd)));Sa&&(qd=Wa(Sa,qd,r));ka=r.add(Da({pulse:qd}));Fa=r.add(fc({pulse:Ka(ka)},void 0,r.parent()));null!=m.name&&(sc=m.name,r.addData(sc,new oa(r,oc,ka,Fa)),m.on&&m.on.forEach(Nd=>{(Nd.insert||Nd.remove||Nd.toggle)&&l.error("Marks only support modify triggers.");ya(Nd,r,sc)}))}function Wa(m,r,K){const ka=m.method,Fa=m.bound,Sa=m.separation;
r={separation:Ub(Sa)?K.signalRef(Sa.signal):Sa,method:Ub(ka)?K.signalRef(ka.signal):ka,pulse:r};m.order&&(r.sort=K.compareRef({field:m.order}));Fa&&(m=Fa.tolerance,r.boundTolerance=Ub(m)?K.signalRef(m.signal):+m,r.boundScale=K.scaleRef(Fa.scale),r.boundOrient=Fa.orient);return Ka(K.add(Ne(r)))}function qb(m,r){const K=r.config.legend,ka=m.encode||{},Fa=Ra(m,K),Sa=ka.legend||{},Oa=Sa.name||void 0,tb=Sa.interactive,rb=Sa.style,oc={};let kc=0,sc,tc;Md.forEach(xd=>m[xd]?(oc[xd]=m[xd],kc=kc||m[xd]):0);
kc||l.error("Missing valid scale for legend.");var Lc=Sb(m,r.scaleType(kc));const Wc={title:null!=m.title,scales:oc,type:Lc,vgrad:"symbol"!==Lc&&Fa.isVertical()},Bd=Ka(r.add($d(null,[Wc]))),qd=Ka(r.add(ne(tc={type:Lc,scale:r.scaleRef(kc),count:r.objectProperty(Fa("tickCount")),limit:r.property(Fa("symbolLimit")),values:r.objectProperty(m.values),minstep:r.property(m.tickMinStep),formatType:r.property(m.formatType),formatSpecifier:r.property(m.format)})));"gradient"===Lc?(Lc=[aa(m,kc,K,ka.gradient),
Qb(m,K,ka.labels,qd)],tc.count=tc.count||r.signalRef(`max(2,2*floor((${ea(Fa.gradientLength())})/100))`)):"discrete"===Lc?Lc=[Ga(m,kc,K,ka.gradient,qd),Qb(m,K,ka.labels,qd)]:(sc=$b(m,K),Lc=[nc(m,K,ka,qd,ea(sc.columns))],tc.size=uc(m,r,Lc[0].marks));Lc=[Pa({role:"legend-entry",from:Bd,encode:{enter:{x:{value:0},y:{value:0}}},marks:Lc,layout:sc,interactive:tb})];Wc.title&&Lc.push(Ob(m,K,ka.title,Bd));return Ia(Pa({role:"legend",from:Bd,encode:Lb(Pb(Fa,m,K),Sa,Ze),marks:Lc,aria:Fa("aria"),description:Fa("description"),
zindex:Fa("zindex"),name:Oa,interactive:tb,style:rb}),r)}function Sb(m,r){let K=m.type||"symbol";m.type||1!==Hb(m)||!m.fill&&!m.stroke||(K=vb.isContinuous(r)?"gradient":vb.isDiscretizing(r)?"discrete":"symbol");return"gradient"!==K?K:vb.isDiscretizing(r)?"discrete":"gradient"}function Hb(m){return Md.reduce((r,K)=>r+(m[K]?1:0),0)}function Pb(m,r,K){const ka={enter:{},update:{}};ub(ka,{orient:m("orient"),offset:m("offset"),padding:m("padding"),titlePadding:m("titlePadding"),cornerRadius:m("cornerRadius"),
fill:m("fillColor"),stroke:m("strokeColor"),strokeWidth:K.strokeWidth,strokeDash:K.strokeDash,x:m("legendX"),y:m("legendY"),format:r.format,formatType:r.formatType});return ka}function uc(m,r,K){const ka=ea(yc("size",m,K));m=ea(yc("strokeWidth",m,K));(K=fb("fontSize",K[1].encode))||(K=(K=r.config.style["guide-label"])&&K.fontSize);K=ea(K);return ja.parseExpression(`max(ceil(sqrt(${ka})+${m}),${K})`,r)}function yc(m,r,K){return r[m]?`scale("${r[m]}",datum)`:fb(m,K[0].encode)}function Kc(m,r){m=l.isString(m)?
{text:m}:m;const K=Ra(m,r.config.title);var ka=m.encode||{},Fa=ka.group||{};const Sa=Fa.name||void 0,Oa=Fa.interactive,tb=Fa.style,rb=[],oc=Ka(r.add($d(null,[{}])));var kc=rb.push,sc=m;var tc=(tc=m.encode)&&tc.title||l.extend({name:m.name,interactive:m.interactive,style:m.style},tc);var Lc={value:0};Lc={enter:{opacity:Lc},update:{opacity:{value:1}},exit:{opacity:Lc}};ub(Lc,{text:sc.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},
baseline:"top",dx:K("dx"),dy:K("dy"),fill:K("color"),font:K("font"),fontSize:K("fontSize"),fontStyle:K("fontStyle"),fontWeight:K("fontWeight"),lineHeight:K("lineHeight")},{align:K("align"),angle:K("angle"),baseline:K("baseline")});sc=Vb({type:"text",role:"title-text",style:"group-title",from:oc,encode:Lc},tc);kc.call(rb,sc);m.subtitle&&(kc=rb.push,ka=ka.subtitle,sc={value:0},sc={enter:{opacity:sc},update:{opacity:{value:1}},exit:{opacity:sc}},ub(sc,{text:m.subtitle,align:{signal:"item.mark.group.align"},
angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:K("dx"),dy:K("dy"),fill:K("subtitleColor"),font:K("subtitleFont"),fontSize:K("subtitleFontSize"),fontStyle:K("subtitleFontStyle"),fontWeight:K("subtitleFontWeight"),lineHeight:K("subtitleLineHeight")},{align:K("align"),angle:K("angle"),baseline:K("baseline")}),m=Vb({type:"text",role:"title-subtitle",style:"group-subtitle",from:oc,encode:sc},ka),kc.call(rb,m));m={enter:{},update:{}};ub(m,{orient:K("orient"),
anchor:K("anchor"),align:{signal:df},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},limit:K("limit"),frame:K("frame"),offset:K("offset")||0,padding:K("subtitlePadding")});Fa=Lb(m,Fa,Ze);return Ia(Pa({role:"title",from:oc,encode:Fa,marks:rb,aria:K("aria"),description:K("description"),zindex:K("zindex"),name:Sa,interactive:Oa,style:tb}),r)}function md(m,r){const K=[];m.transform&&m.transform.forEach(ka=>{K.push(Va(ka,r))});m.on&&m.on.forEach(ka=>{ya(ka,r,m.name)});
r.addDataPipeline(m.name,fd(m,r,K))}function fd(m,r,K){const ka=[];let Fa=null,Sa=!1,Oa=!1,tb,rb,oc,kc;m.values?Ub(m.values)||Na(m.format)?(ka.push(ld(r,m)),ka.push(Fa=Tc())):ka.push(Fa=Tc({$ingest:m.values,$format:m.format})):m.url?Na(m.url)||Na(m.format)?(ka.push(ld(r,m)),ka.push(Fa=Tc())):ka.push(Fa=Tc({$request:m.url,$format:m.format})):m.source&&(Fa=tb=l.array(m.source).map(sc=>Ka(r.getData(sc).output)),ka.push(null));m=0;for(rb=K.length;m<rb;++m)oc=K[m],kc=oc.metadata,Fa||kc.source||ka.push(Fa=
Tc()),ka.push(oc),kc.generates&&(Oa=!0),kc.modifies&&!Oa&&(Sa=!0),kc.source?Fa=oc:kc.changes&&(Fa=null);tb&&(rb=tb.length-1,ka[0]=gf({derive:Sa,pulse:rb?tb:tb[0]}),(Sa||rb)&&ka.splice(1,0,Tc()));Fa||ka.push(Tc());ka.push(fc({}));return ka}function Tc(m){m=$d({},m);m.metadata={source:!0};return m}function ld(m,r){return Ee({url:r.url?m.property(r.url):void 0,async:r.async?m.property(r.async):void 0,values:r.values?m.property(r.values):void 0,format:m.objectProperty(r.format)})}function nd(m,r,K,ka){let Fa;
if(r&&l.hasOwnProperty(r,m))return r[m];if(l.hasOwnProperty(K,m))return K[m];if(m.startsWith("title")){switch(m){case "titleColor":Fa="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":Fa=m[5].toLowerCase()+m.slice(6)}return ka["guide-title"][Fa]}if(m.startsWith("label")){switch(m){case "labelColor":Fa="fill";break;case "labelFont":case "labelFontSize":Fa=m[5].toLowerCase()+m.slice(6)}return ka["guide-label"][Fa]}return null}function dd(m){const r={};for(const K of m)if(K)for(const ka in K)r[ka]=
1;return Object.keys(r)}function Wd(m,r,K,ka,Fa){return{signal:'flush(range("'+m+'"), scale("'+m+'", datum.value), '+r+","+K+","+ka+","+Fa+")"}}function gd(m,r,K,ka){const Fa=(Oa,tb)=>null!=Oa?(K.update[tb]=qa(Zb(Oa),K.update[tb]),!1):Yb(tb,ka)?!1:!0,Sa=Fa(m("titleX"),"x");m=Fa(m("titleY"),"y");K.enter.auto=m===Sa?Zb(m):Ae(r,Zb(m),Zb(Sa))}function z(m,r,K){const ka=l.array(m.signals),Fa=l.array(m.scales);K||ka.forEach(Sa=>Ua(Sa,r));l.array(m.projections).forEach(Sa=>{const Oa=r.config.projection||
{},tb={};for(const rb in Sa)"name"!==rb&&(tb[rb]=Aa(Sa[rb],rb,r));for(const rb in Oa)null==tb[rb]&&(tb[rb]=Aa(Oa[rb],rb,r));r.addProjection(Sa.name,tb)});Fa.forEach(Sa=>{const Oa=Sa.type||"linear";vb.isValidScaleType(Oa)||l.error("Unrecognized scale type: "+l.stringValue(Oa));r.addScale(Sa.name,{type:Oa,domain:void 0})});l.array(m.data).forEach(Sa=>md(Sa,r));Fa.forEach(Sa=>{const Oa=r.getScale(Sa.name).params;let tb;Oa.domain=A(Sa.domain,Sa,r);null!=Sa.range&&(Oa.range=ia(Sa,r,Oa));if(null!=Sa.interpolate){var rb=
Sa.interpolate;Oa.interpolate=y(rb.type||rb);null!=rb.gamma&&(Oa.interpolateGamma=y(rb.gamma))}null!=Sa.nice&&(rb=Sa.nice,rb=rb.signal?r.signalRef(rb.signal):l.isObject(rb)?{interval:y(rb.interval),step:y(rb.step)}:y(rb),Oa.nice=rb);null!=Sa.bins&&(rb=Sa.bins,rb=rb.signal||l.isArray(rb)?T(rb,r):r.objectProperty(rb),Oa.bins=rb);for(tb in Sa)l.hasOwnProperty(Oa,tb)||"name"===tb||(Oa[tb]=y(Sa[tb],r))});(K||ka).forEach(Sa=>M(Sa,r));l.array(m.axes).forEach(Sa=>{var Oa=r.config,tb=Oa.style,rb=Oa.axis,oc=
"band"===r.scaleType(Sa.scale)&&Oa.axisBand,kc=Sa.orient,sc;if(Ub(kc)){const Jd=dd([Oa.axisX,Oa.axisY]),Xd=dd([Oa.axisTop,Oa.axisBottom,Oa.axisLeft,Oa.axisRight]);var tc={};for(sc of Jd)tc[sc]=Ae(kc,nd(sc,Oa.axisX,rb,tb),nd(sc,Oa.axisY,rb,tb));var Lc={};for(sc of Xd){var Wc=Lc,Bd=sc,qd=kc.signal,xd=nd(sc,Oa.axisTop,rb,tb),Nd=nd(sc,Oa.axisBottom,rb,tb),mc=nd(sc,Oa.axisLeft,rb,tb),vd=nd(sc,Oa.axisRight,rb,tb);var se={signal:(null!=mc?`${qd} === '${"left"}' ? (${ae(mc)}) : `:"")+(null!=Nd?`${qd} === '${"bottom"}' ? (${ae(Nd)}) : `:
"")+(null!=vd?`${qd} === '${"right"}' ? (${ae(vd)}) : `:"")+(null!=xd?`${qd} === '${"top"}' ? (${ae(xd)}) : `:"")+"(null)"};Wc[Bd]=se}}else tc="top"===kc||"bottom"===kc?Oa.axisX:Oa.axisY,Lc=Oa["axis"+kc[0].toUpperCase()+kc.slice(1)];var fe=tc||Lc||oc?l.extend({},rb,tc,Lc,oc):rb;const Vd=Sa.encode||{},Cd=Vd.axis||{},Od=Cd.name||void 0,ke=Cd.interactive,Ge=Cd.style,ce=Ra(Sa,fe),$e=ce("tickBand");let ad=ce("tickOffset"),le,mf;$e?$e.signal?(le={signal:`(${$e.signal}) === 'extent' ? 1 : 0.5`},mf={signal:`(${$e.signal}) === 'extent'`},
l.isObject(ad)||(ad={signal:`(${$e.signal}) === 'extent' ? 0 : ${ad}`})):"extent"===$e?(le=1,mf=!0,ad=0):(le=.5,mf=!1):(le=ce("bandPosition"),mf=ce("tickExtra"));var tf=mf;var Eg=le;var yf=ad;const Qf={scale:Sa.scale,ticks:!!ce("ticks"),labels:!!ce("labels"),grid:!!ce("grid"),domain:!!ce("domain"),title:null!=Sa.title},lg=Ka(r.add($d({},[Qf]))),lf=Ka(r.add(Zd({scale:r.scaleRef(Sa.scale),extra:r.property(tf),count:r.objectProperty(Sa.tickCount),values:r.objectProperty(Sa.values),minstep:r.property(Sa.tickMinStep),
formatType:r.property(Sa.formatType),formatSpecifier:r.property(Sa.format)}))),Ke=[];let Wf;if(Qf.grid){var Ng=Ke.push,Kf=Vd.grid;const Jd=Ra(Sa,fe),Xd=Sa.orient,zf=Sa.gridScale,we=Cf(Xd,1,-1);a:{var Pf=Sa.offset,Xf=we;if(1!==Xf)if(l.isObject(Pf)){let Nf=Pf=l.extend({},Pf);for(;null!=Nf.mult;)if(l.isObject(Nf.mult))Nf=Nf.mult=l.extend({},Nf.mult);else{Nf.mult=Ub(Xf)?{signal:`(${Nf.mult}) * (${Xf.signal})`}:Nf.mult*Xf;var kh=Pf;break a}Nf.mult=Xf}else Pf=Ub(Xf)?{signal:`(${Xf.signal}) * (${Pf||0})`}:
Xf*(Pf||0);kh=Pf}const af=kh;let Re,uf,fg;const of={enter:Re={opacity:pd},update:fg={opacity:oe},exit:uf={opacity:pd}};ub(of,{stroke:Jd("gridColor"),strokeCap:Jd("gridCap"),strokeDash:Jd("gridDash"),strokeDashOffset:Jd("gridDashOffset"),strokeOpacity:Jd("gridOpacity"),strokeWidth:Jd("gridWidth")});const tg={scale:Sa.scale,field:"value",band:Eg,extra:tf,offset:yf,round:Jd("tickRound")},hg=Ae(Xd,{signal:"height"},{signal:"width"}),Mf=zf?{scale:zf,range:0,mult:we,offset:af}:{value:0,offset:af},Rg=zf?
{scale:zf,range:1,mult:we,offset:af}:l.extend(hg,{mult:we,offset:af});Re.x=fg.x=Ae(Xd,tg,Mf);Re.y=fg.y=Qe(Xd,tg,Mf);Re.x2=fg.x2=Qe(Xd,Rg);Re.y2=fg.y2=Ae(Xd,Rg);uf.x=Ae(Xd,tg);uf.y=Qe(Xd,tg);var Yg=Vb({type:"rule",role:"axis-grid",key:"value",from:lf,encode:of},Kf);Ng.call(Ke,Yg)}if(Qf.ticks){Wf=ce("tickSize");var Zg=Ke.push,Og=Vd.ticks,Pg=Wf;const Jd=Ra(Sa,fe),Xd=Sa.orient,zf=Cf(Xd,-1,1);let we,af,Re;const uf={enter:we={opacity:pd},update:Re={opacity:oe},exit:af={opacity:pd}};ub(uf,{stroke:Jd("tickColor"),
strokeCap:Jd("tickCap"),strokeDash:Jd("tickDash"),strokeDashOffset:Jd("tickDashOffset"),strokeOpacity:Jd("tickOpacity"),strokeWidth:Jd("tickWidth")});const fg=Zb(Pg);fg.mult=zf;const of={scale:Sa.scale,field:"value",band:Eg,extra:tf,offset:yf,round:Jd("tickRound")};Re.y=we.y=Ae(Xd,pd,of);Re.y2=we.y2=Ae(Xd,fg);af.x=Ae(Xd,of);Re.x=we.x=Qe(Xd,pd,of);Re.x2=we.x2=Qe(Xd,fg);af.y=Qe(Xd,of);var $g=Vb({type:"rule",role:"axis-tick",key:"value",from:lf,encode:uf},Og);Zg.call(Ke,$g)}if(Qf.labels){Wf=Qf.ticks?
Wf:0;var Lf=Ke.push,W=Vd.labels,La=Wf;const Jd=Ra(Sa,fe),Xd=Sa.orient,zf=Sa.scale,we=Cf(Xd,-1,1),af=ea(Jd("labelFlush")),Re=ea(Jd("labelFlushOffset")),uf=Jd("labelAlign"),fg=Jd("labelBaseline");let of=0===af||!!af,tg;const hg=Zb(La);hg.mult=we;hg.offset=Zb(Jd("labelPadding")||0);hg.offset.mult=we;const Mf={scale:zf,field:"value",band:.5,offset:kb(yf,Jd("labelOffset"))};var ob=of?Wd(zf,af,'"left"','"right"','"center"'):{value:"center"},Ac=Xd;var Bc=Ub(Ac)?Je(`${Ac.signal} === '${"right"}'`,"left",
"right"):"right"===Ac?{value:"left"}:{value:"right"};const Rg=Ae(Xd,ob,Bc),Nf=Ae(Xd,kf(Xd,"bottom","top"),of?Wd(zf,af,'"top"','"bottom"','"middle"'):{value:"middle"}),Qh=Wd(zf,af,`-(${Re})`,Re,0);of=of&&Re;const Ag={opacity:pd,x:Ae(Xd,Mf,hg),y:Qe(Xd,Mf,hg)},Fg={enter:Ag,update:tg={opacity:oe,text:{field:"label"},x:Ag.x,y:Ag.y,align:Rg,baseline:Nf},exit:{opacity:pd,x:Ag.x,y:Ag.y}};ub(Fg,{dx:!uf&&of?Ae(Xd,Qh):null,dy:!fg&&of?Qe(Xd,Qh):null});ub(Fg,{angle:Jd("labelAngle"),fill:Jd("labelColor"),fillOpacity:Jd("labelOpacity"),
font:Jd("labelFont"),fontSize:Jd("labelFontSize"),fontWeight:Jd("labelFontWeight"),fontStyle:Jd("labelFontStyle"),limit:Jd("labelLimit"),lineHeight:Jd("labelLineHeight")},{align:uf,baseline:fg});const ug=Jd("labelBound");let Rh=Jd("labelOverlap");Rh=Rh||ug?{separation:Jd("labelSeparation"),method:Rh,order:"datum.index",bound:ug?{scale:zf,orient:Xd,tolerance:ug}:null}:void 0;tg.align!==Rg&&(tg.align=qa(tg.align,Rg));tg.baseline!==Nf&&(tg.baseline=qa(tg.baseline,Nf));var yd=Vb({type:"text",role:"axis-label",
style:"guide-label",key:"value",from:lf,encode:Fg,overlap:Rh},W);Lf.call(Ke,yd)}if(Qf.domain){var Rd=Ke.push,Id=Vd.domain;const Jd=Ra(Sa,fe),Xd=Sa.orient;let zf,we;const af={enter:zf={opacity:pd},update:we={opacity:oe},exit:{opacity:pd}};ub(af,{stroke:Jd("domainColor"),strokeCap:Jd("domainCap"),strokeDash:Jd("domainDash"),strokeDashOffset:Jd("domainDashOffset"),strokeWidth:Jd("domainWidth"),strokeOpacity:Jd("domainOpacity")});const Re={scale:Sa.scale,range:0},uf={scale:Sa.scale,range:1};zf.x=we.x=
Ae(Xd,Re,pd);zf.x2=we.x2=Ae(Xd,uf);zf.y=we.y=Qe(Xd,Re,pd);zf.y2=we.y2=Qe(Xd,uf);var Zf=Vb({type:"rule",role:"axis-domain",from:lg,encode:af},Id);Rd.call(Ke,Zf)}if(Qf.title){var nf=Ke.push,zg=Vd.title;const Jd=Ra(Sa,fe),Xd=Sa.orient,zf=Cf(Xd,-1,1);let we,af;const Re={enter:we={opacity:pd,anchor:Zb(Jd("titleAnchor",null)),align:{signal:df}},update:af=l.extend({},we,{opacity:oe,text:Zb(Sa.title)}),exit:{opacity:pd}},uf={signal:`lerp(range("${Sa.scale}"), ${zb(0,1,.5)})`};af.x=Ae(Xd,uf);af.y=Qe(Xd,uf);
var sh=we,lh=zf;var kg=Ub(lh)?{signal:`(${lh.signal}) * ${90}`}:{value:90*lh};sh.angle=Ae(Xd,pd,kg);we.baseline=Ae(Xd,kf(Xd,"bottom","top"),{value:"bottom"});af.angle=we.angle;af.baseline=we.baseline;ub(Re,{fill:Jd("titleColor"),fillOpacity:Jd("titleOpacity"),font:Jd("titleFont"),fontSize:Jd("titleFontSize"),fontStyle:Jd("titleFontStyle"),fontWeight:Jd("titleFontWeight"),limit:Jd("titleLimit"),lineHeight:Jd("titleLineHeight")},{align:Jd("titleAlign"),angle:Jd("titleAngle"),baseline:Jd("titleBaseline")});
gd(Jd,Xd,Re,zg);Re.update.align=qa(Re.update.align,we.align);Re.update.angle=qa(Re.update.angle,we.angle);Re.update.baseline=qa(Re.update.baseline,we.baseline);var rg=Vb({type:"text",role:"axis-title",style:"guide-title",from:lg,encode:Re},zg);nf.call(Ke,rg)}const rh={enter:{},update:{}};ub(rh,{orient:ce("orient"),offset:ce("offset")||0,position:U(Sa.position,0),titlePadding:ce("titlePadding"),minExtent:ce("minExtent"),maxExtent:ce("maxExtent"),range:{signal:`abs(span(range("${Sa.scale}")))`},translate:ce("translate"),
format:Sa.format,formatType:Sa.formatType});return Ia(Pa({role:"axis",from:lg,encode:Lb(rh,Cd,Ze),marks:Ke,aria:ce("aria"),description:ce("description"),zindex:ce("zindex"),name:Od,interactive:ke,style:Ge}),r)});l.array(m.marks).forEach(Sa=>Ia(Sa,r));l.array(m.legends).forEach(Sa=>qb(Sa,r));m.title&&Kc(m.title,r);r.parseLambdas();return r}function J(m,r){var K=r.config;const ka=Ka(r.root=r.add(new Xa("operator",void 0,void 0,void 0))),Fa=w(m,K);Fa.forEach(tb=>Ua(tb,r));r.description=m.description||
K.description;r.eventConfig=K.events;r.legends=r.objectProperty(K.legend&&K.legend.layout);r.locale=K.locale;K=r.add($d());const Sa=r.add(Le(ua(Lb({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},m.encode),"group","frame",m.style,r,{pulse:Ka(K)}))),Oa=r.add(id({layout:r.objectProperty(m.layout),legends:r.legends,autosize:r.signalRef("autosize"),mark:ka,pulse:Ka(Sa)}));r.operators.pop();r.pushState(Ka(Sa),Ka(Oa),null);z(m,r,Fa);r.operators.push(Oa);m=r.add(Kd({mark:ka,
pulse:Ka(Oa)}));m=r.add(Da({pulse:Ka(m)}));m=r.add(fc({pulse:Ka(m)}));r.addData("root",new oa(r,K,K,m));return r}function va(m,r){return r&&r.signal?{name:m,update:r.signal}:{name:m,value:r}}function w(m,r){const K=Oa=>U(m[Oa],r[Oa]),ka=[va("background",K("background")),va("autosize",ec(K("autosize"))),va("padding",Bb(K("padding"))),va("width",K("width")||0),va("height",K("height")||0)],Fa=ka.reduce((Oa,tb)=>(Oa[tb.name]=tb,Oa),{}),Sa={};l.array(m.signals).forEach(Oa=>{l.hasOwnProperty(Fa,Oa.name)?
Oa=l.extend(Fa[Oa.name],Oa):ka.push(Oa);Sa[Oa.name]=Oa});l.array(r.signals).forEach(Oa=>{l.hasOwnProperty(Sa,Oa.name)||l.hasOwnProperty(Fa,Oa.name)||ka.push(Oa)});return ka}function Q(m,r){this.config=m||{};this.options=r||{};this.bindings=[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=
[];this._markpath=[]}function ca(m){this.config=m.config;this.options=m.options;this.legends=m.legends;this.field=Object.create(m.field);this.signals=Object.create(m.signals);this.lambdas=Object.create(m.lambdas);this.scales=Object.create(m.scales);this.events=Object.create(m.events);this.data=Object.create(m.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++m._nextsub[0];this._nextsub=m._nextsub;this._parent=m._parent.slice();this._encode=m._encode.slice();this._lookup=
m._lookup.slice();this._markpath=m._markpath}function wa(m){return(l.isArray(m)?pa:Ya)(m)}function pa(m){const r=m.length;let K="[";for(let ka=0;ka<r;++ka){const Fa=m[ka];K+=(0<ka?",":"")+(l.isObject(Fa)?Fa.signal||wa(Fa):l.stringValue(Fa))}return K+"]"}function Ya(m){let r="{",K=0,ka,Fa;for(ka in m)Fa=m[ka],r+=(1<++K?",":"")+l.stringValue(ka)+":"+(l.isObject(Fa)?Fa.signal||wa(Fa):l.stringValue(Fa));return r+"}"}function Tb(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,
events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",
font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,
labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,
labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}
const Zb=m=>l.isObject(m)&&!l.isArray(m)?l.extend({},m):{value:m},jc=m=>l.isString(m)?l.stringValue(m):m.signal?`(${m.signal})`:Db(m),Cc=(m,r,K,ka)=>`(${m}(${[r,K,ka].map(Cb).join(",")})+'')`,Oc=["value","update","init","react","bind"],Rc=jb("key"),od={code:"_.$value",ast:{type:"Identifier",value:"value"}},sd=m=>(r,K,ka)=>new Xa(m,K,r||void 0,ka),zd=sd("aggregate"),Zd=sd("axisticks"),Kd=sd("bound"),$d=sd("collect"),Te=sd("compare"),We=sd("datajoin"),Le=sd("encode"),Ve=sd("expression"),Ie=sd("facet"),
He=sd("field"),ie=sd("key"),ne=sd("legendentries"),Ee=sd("load"),Fd=sd("mark"),Uf=sd("multiextent"),rf=sd("multivalues"),Ne=sd("overlap"),ze=sd("params"),Oe=sd("prefacet"),Pd=sd("projection"),dg=sd("proxy"),gf=sd("relay"),Da=sd("render"),cb=sd("scale"),fc=sd("sieve"),hd=sd("sortitems"),id=sd("viewlayout"),ed=sd("values");let Dd=0;const Td={min:"min",max:"max",count:"sum"},Md="size shape fill stroke strokeWidth strokeDash opacity".split(" "),Ze={name:1,style:1,interactive:1},pd={value:0},oe={value:1},
df=zb(l.stringValue("left"),l.stringValue("right"),l.stringValue("center")),Pe=zb('"top"','"bottom"','"middle"'),Ud=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${zb('"right"','"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${df}`,hf=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${Pe}) : "top"`;
oa.fromEntries=function(m,r){const K=r.length,ka=r[K-1],Fa=r[K-2];let Sa=r[0],Oa=null,tb=1;Sa&&"load"===Sa.type&&(Sa=r[1]);for(m.add(r[0]);tb<K;++tb)r[tb].params.pulse=Ka(r[tb-1]),m.add(r[tb]),"aggregate"===r[tb].type&&(Oa=r[tb]);return new oa(m,Sa,Fa,ka,Oa)};oa.prototype={countsRef(m,r,K){const ka=this.counts||(this.counts={}),Fa=Ma(r);if(null!=Fa){m=this.scope;var Sa=ka[Fa]}Sa?K&&K.field&&ib(m,Sa.agg.params,K):(Sa={groupby:m.fieldRef(r,"key"),pulse:Ka(this.output)},K&&K.field&&ib(m,Sa,K),K=m.add(zd(Sa)),
Sa=m.add($d({pulse:Ka(K)})),Sa={agg:K,ref:Ka(Sa)},null!=Fa&&(ka[Fa]=Sa));return Sa.ref},tuplesRef(){return Ka(this.values)},extentRef(m,r){return V(m,this,"extent","extent",r,!1)},domainRef(m,r){return V(m,this,"domain","values",r,!1)},valuesRef(m,r,K){return V(m,this,"vals","values",r,K||!0)},lookupRef(m,r){return V(m,this,"lookup","tupleindex",r,!1)},indataRef(m,r){return V(m,this,"indata","tupleindex",r,!0,!0)}};const Cf=(m,r,K)=>{Ub(m)?(m=m.signal,r=Je(`${m} === '${"left"}' || ${m} === '${"top"}'`,
r,K)):r="left"===m||"top"===m?r:K;return r},Ae=(m,r,K)=>{Ub(m)?(m=m.signal,r=qe(`${m} === '${"top"}' || ${m} === '${"bottom"}'`,r,K)):r="bottom"===m||"top"===m?r:K;return r},Qe=(m,r,K)=>{Ub(m)?(m=m.signal,r=qe(`${m} !== '${"top"}' && ${m} !== '${"bottom"}'`,r,K)):r="bottom"===m||"top"===m?K:r;return r},kf=(m,r,K)=>Ub(m)?Je(`${m.signal} === '${"top"}'`,r,K):"top"===m?{value:r}:{value:K},qe=(m,r,K)=>{r=null!=r?Zb(r):r;K=null!=K?Zb(K):K;if(null!=r&&1!==Object.keys(r).length||null!=K&&1!==Object.keys(K).length)return[l.extend({test:m},
r)].concat(K||[]);r=r?r.signal||l.stringValue(r.value):null;K=K?K.signal||l.stringValue(K.value):null;return{signal:`${m} ? (${r}) : (${K})`}},Je=(m,r,K)=>({signal:`${m} ? (${ae(r)}) : (${ae(K)})`}),ae=m=>Ub(m)?m.signal:null==m?null:l.stringValue(m),qa=(m,r)=>{const K=m.signal;return K&&K.endsWith("(null)")?{signal:K.slice(0,-6)+r.signal}:m};Q.prototype=ca.prototype={parse(m){return z(m,this)},fork(){return new ca(this)},isSubscope(){return 0<this._subid},toRuntime(){this.finish();return{description:this.description,
operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(m){this.operators.push(m);m.id=this.id();m.refs&&(m.refs.forEach(r=>{r.$ref=m.id}),m.refs=null);return m},proxy(m){m=m instanceof Xa?Ka(m):m;return this.add(dg({value:m}))},addStream(m){this.streams.push(m);m.id=this.id();return m},addUpdate(m){this.updates.push(m);return m},finish(){function m(ka,Fa,
Sa){ka&&(ka=ka.data||(ka.data={}),Fa=ka[Fa]||(ka[Fa]=[]),Fa.push(Sa))}let r,K;this.root&&(this.root.root=!0);for(r in this.signals)this.signals[r].signal=r;for(r in this.scales)this.scales[r].scale=r;for(r in this.data){K=this.data[r];m(K.input,r,"input");m(K.output,r,"output");m(K.values,r,"values");for(const ka in K.index)m(K.index[ka],r,"index:"+ka)}return this},pushState(m,r,K){this._encode.push(Ka(this.add(fc({pulse:m}))));this._parent.push(r);this._lookup.push(K?Ka(this.proxy(K)):null);this._markpath.push(-1)},
popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return l.peek(this._parent)},encode(){return l.peek(this._encode)},lookup(){return l.peek(this._lookup)},markpath(){const m=this._markpath;return++m[m.length-1]},fieldRef(m,r){if(l.isString(m))return jb(m,r);m.signal||l.error("Unsupported field reference: "+l.stringValue(m));m=m.signal;var K=this.field[m];K||(K={name:this.signalRef(m)},r&&(K.as=r),this.field[m]=K=Ka(this.add(He(K))));return K},compareRef(m){let r=
!1;const K=Fa=>Ub(Fa)?(r=!0,this.signalRef(Fa.signal)):Fa&&Fa.expr?(r=!0,this.exprRef(Fa.expr)):Fa,ka=l.array(m.field).map(K);m=l.array(m.order).map(K);return r?Ka(this.add(Te({fields:ka,orders:m}))):{$compare:ka,$order:m}},keyRef(m,r){let K=!1;const ka=this.signals;m=l.array(m).map(Fa=>Ub(Fa)?(K=!0,Ka(ka[Fa.signal])):Fa);return K?Ka(this.add(ie({fields:m,flat:r}))):gb(m,r)},sortRef(m){if(!m)return m;const r=wb(m.op,m.field);m=m.order||"ascending";return m.signal?Ka(this.add(Te({fields:r,orders:this.signalRef(m.signal)}))):
{$compare:r,$order:m}},event(m,r){const K=m+":"+r;if(!this.events[K]){const ka=this.id();this.streams.push({id:ka,source:m,type:r});this.events[K]=ka}return this.events[K]},hasOwnSignal(m){return l.hasOwnProperty(this.signals,m)},addSignal(m,r){this.hasOwnSignal(m)&&l.error("Duplicate signal name: "+l.stringValue(m));r=r instanceof Xa?r:this.add(new Xa("operator",r,void 0,void 0));return this.signals[m]=r},getSignal(m){this.signals[m]||l.error("Unrecognized signal name: "+l.stringValue(m));return this.signals[m]},
signalRef(m){if(this.signals[m])return Ka(this.signals[m]);l.hasOwnProperty(this.lambdas,m)||(this.lambdas[m]=this.add(new Xa("operator",null,void 0,void 0)));return Ka(this.lambdas[m])},parseLambdas(){const m=Object.keys(this.lambdas);for(let K=0,ka=m.length;K<ka;++K){var r=m[K];const Fa=ja.parseExpression(r,this);r=this.lambdas[r];r.params=Fa.$params;r.update=Fa.$expr}},property(m){return m&&m.signal?this.signalRef(m.signal):m},objectProperty(m){return m&&l.isObject(m)?this.signalRef(m.signal||
wa(m)):m},exprRef(m,r){m={expr:ja.parseExpression(m,this)};r&&(m.expr.$name=r);return Ka(this.add(Ve(m)))},addBinding(m,r){this.bindings||l.error("Nested signals do not support binding: "+l.stringValue(m));this.bindings.push(l.extend({signal:m},r))},addScaleProj(m,r){l.hasOwnProperty(this.scales,m)&&l.error("Duplicate scale or projection name: "+l.stringValue(m));this.scales[m]=this.add(r)},addScale(m,r){this.addScaleProj(m,cb(r))},addProjection(m,r){this.addScaleProj(m,Pd(r))},getScale(m){this.scales[m]||
l.error("Unrecognized scale name: "+l.stringValue(m));return this.scales[m]},scaleRef(m){return Ka(this.getScale(m))},scaleType(m){return this.getScale(m).params.type},projectionRef(m){return this.scaleRef(m)},projectionType(m){return this.scaleType(m)},addData(m,r){l.hasOwnProperty(this.data,m)&&l.error("Duplicate data set name: "+l.stringValue(m));return this.data[m]=r},getData(m){this.data[m]||l.error("Undefined data set name: "+l.stringValue(m));return this.data[m]},addDataPipeline(m,r){l.hasOwnProperty(this.data,
m)&&l.error("Duplicate data set name: "+l.stringValue(m));return this.addData(m,oa.fromEntries(this,r))}};u.AxisDomainRole="axis-domain";u.AxisGridRole="axis-grid";u.AxisLabelRole="axis-label";u.AxisRole="axis";u.AxisTickRole="axis-tick";u.AxisTitleRole="axis-title";u.DataScope=oa;u.FrameRole="frame";u.LegendEntryRole="legend-entry";u.LegendLabelRole="legend-label";u.LegendRole="legend";u.LegendSymbolRole="legend-symbol";u.LegendTitleRole="legend-title";u.MarkRole="mark";u.Scope=Q;u.ScopeRole="scope";
u.config=Tb;u.parse=function(m,r,K){l.isObject(m)||l.error("Input Vega specification must be an object.");r=l.mergeConfig(Tb(),r,m.config);return J(m,new Q(r,K)).toRuntime()};u.signal=Ua;u.signalUpdates=M;u.stream=Ha})};
shadow$provide[56]=function(Fb,pb,zc,Za){function u(Ka){var jb=Object.create(null);Ka&&Object.keys(Ka).forEach(function(gb){if("default"!==gb){var wb=Object.getOwnPropertyDescriptor(Ka,gb);Object.defineProperty(jb,gb,wb.get?wb:{enumerable:!0,get:function(){return Ka[gb]}})}});jb.default=Ka;return Object.freeze(jb)}var l=pb(24),ja=pb(32),$a=pb(34),vb=pb(38),Xb=pb(39),ec=pb(41),Bb=pb(42),yb=pb(43),ub=pb(44),Lb=pb(45),Yb=pb(46);zc=pb(47);Fb=pb(48);var Ba=pb(33),bb=pb(26),Cb=pb(31),xb=pb(37),nb=pb(36),
Db=pb(40),lb=pb(53),lc=pb(27),ua=pb(51),ha=pb(55),xa=pb(52),Ua=pb(49),Xa=pb(54);pb=u($a);vb=u(vb);Xb=u(Xb);ec=u(ec);Bb=u(Bb);yb=u(yb);ub=u(ub);Lb=u(Lb);Yb=u(Yb);zc=u(zc);Fb=u(Fb);l.extend(ja.transforms,pb,vb,Xb,ec,Bb,ub,yb,Lb,Yb,zc,Fb);Object.defineProperty(Za,"Dataflow",{enumerable:!0,get:function(){return ja.Dataflow}});Object.defineProperty(Za,"EventStream",{enumerable:!0,get:function(){return ja.EventStream}});Object.defineProperty(Za,"MultiPulse",{enumerable:!0,get:function(){return ja.MultiPulse}});
Object.defineProperty(Za,"Operator",{enumerable:!0,get:function(){return ja.Operator}});Object.defineProperty(Za,"Parameters",{enumerable:!0,get:function(){return ja.Parameters}});Object.defineProperty(Za,"Pulse",{enumerable:!0,get:function(){return ja.Pulse}});Object.defineProperty(Za,"Transform",{enumerable:!0,get:function(){return ja.Transform}});Object.defineProperty(Za,"changeset",{enumerable:!0,get:function(){return ja.changeset}});Object.defineProperty(Za,"definition",{enumerable:!0,get:function(){return ja.definition}});
Object.defineProperty(Za,"ingest",{enumerable:!0,get:function(){return ja.ingest}});Object.defineProperty(Za,"isTuple",{enumerable:!0,get:function(){return ja.isTuple}});Object.defineProperty(Za,"transform",{enumerable:!0,get:function(){return ja.transform}});Object.defineProperty(Za,"transforms",{enumerable:!0,get:function(){return ja.transforms}});Object.defineProperty(Za,"tupleid",{enumerable:!0,get:function(){return ja.tupleid}});Object.defineProperty(Za,"interpolate",{enumerable:!0,get:function(){return nb.interpolate}});
Object.defineProperty(Za,"interpolateColors",{enumerable:!0,get:function(){return nb.interpolateColors}});Object.defineProperty(Za,"interpolateRange",{enumerable:!0,get:function(){return nb.interpolateRange}});Object.defineProperty(Za,"quantizeInterpolator",{enumerable:!0,get:function(){return nb.quantizeInterpolator}});Object.defineProperty(Za,"scale",{enumerable:!0,get:function(){return nb.scale}});Object.defineProperty(Za,"scheme",{enumerable:!0,get:function(){return nb.scheme}});Object.defineProperty(Za,
"projection",{enumerable:!0,get:function(){return Db.projection}});Object.defineProperty(Za,"View",{enumerable:!0,get:function(){return lb.View}});Object.defineProperty(Za,"defaultLocale",{enumerable:!0,get:function(){return lc.defaultLocale}});Object.defineProperty(Za,"formatLocale",{enumerable:!0,get:function(){return lc.numberFormatDefaultLocale}});Object.defineProperty(Za,"locale",{enumerable:!0,get:function(){return lc.locale}});Object.defineProperty(Za,"resetDefaultLocale",{enumerable:!0,get:function(){return lc.resetDefaultLocale}});
Object.defineProperty(Za,"timeFormatLocale",{enumerable:!0,get:function(){return lc.timeFormatDefaultLocale}});Object.defineProperty(Za,"expressionFunction",{enumerable:!0,get:function(){return ua.expressionFunction}});Object.defineProperty(Za,"parse",{enumerable:!0,get:function(){return ha.parse}});Object.defineProperty(Za,"runtimeContext",{enumerable:!0,get:function(){return xa.context}});Object.defineProperty(Za,"codegenExpression",{enumerable:!0,get:function(){return Ua.codegenExpression}});Object.defineProperty(Za,
"parseExpression",{enumerable:!0,get:function(){return Ua.parseExpression}});Object.defineProperty(Za,"parseSelector",{enumerable:!0,get:function(){return Xa.parseSelector}});Za.version="5.33.0";Object.keys(l).forEach(function(Ka){"default"===Ka||Object.prototype.hasOwnProperty.call(Za,Ka)||Object.defineProperty(Za,Ka,{enumerable:!0,get:function(){return l[Ka]}})});Object.keys(Ba).forEach(function(Ka){"default"===Ka||Object.prototype.hasOwnProperty.call(Za,Ka)||Object.defineProperty(Za,Ka,{enumerable:!0,
get:function(){return Ba[Ka]}})});Object.keys(bb).forEach(function(Ka){"default"===Ka||Object.prototype.hasOwnProperty.call(Za,Ka)||Object.defineProperty(Za,Ka,{enumerable:!0,get:function(){return bb[Ka]}})});Object.keys(Cb).forEach(function(Ka){"default"===Ka||Object.prototype.hasOwnProperty.call(Za,Ka)||Object.defineProperty(Za,Ka,{enumerable:!0,get:function(){return Cb[Ka]}})});Object.keys(xb).forEach(function(Ka){"default"===Ka||Object.prototype.hasOwnProperty.call(Za,Ka)||Object.defineProperty(Za,
Ka,{enumerable:!0,get:function(){return xb[Ka]}})})};
shadow$provide[57]=function(Fb,pb,zc,Za){(function(u,l){"object"===typeof Za&&"undefined"!==typeof zc?l(Za,pb(56)):"function"===typeof define&&define.amd?define(["exports","vega"],l):(u="undefined"!==typeof globalThis?globalThis:u||self,l(u.vegaLite={},u.vega))})(this,function(u,l){function ja(a,c){if(a.not)ja(a.not,c);else if(a.and)for(const e of a.and)ja(e,c);else if(a.or)for(const e of a.or)ja(e,c);else c(a)}function $a(a,c){return a.not?{not:$a(a.not,c)}:a.and?{and:a.and.map(e=>$a(e,c))}:a.or?
{or:a.or.map(e=>$a(e,c))}:c(a)}function vb(a){throw Error(a);}function Xb(a,c){const e={};for(const g of c)l.hasOwnProperty(a,g)&&(e[g]=a[g]);return e}function ec(a,c){a=Object.assign({},a);for(const e of c)delete a[e];return a}function Bb(a){if(l.isNumber(a))return a;a=l.isString(a)?a:n(a);if(250>a.length)return a;let c=0;for(let e=0;e<a.length;e++){const g=a.charCodeAt(e);c=(c<<5)-c+g;c&=c}return c}function yb(a){return!1===a||null===a}function ub(a,c){return a.includes(c)}function Lb(a,c){let e=
0;for(const g of a.entries()){const [h,q]=g;if(c(q,h,e++))return!0}return!1}function Yb(a,c){let e=0;for(const g of a.entries()){const [h,q]=g;if(!c(q,h,e++))return!1}return!0}function Ba(a){for(var c=arguments.length,e=Array(1<c?c-1:0),g=1;g<c;g++)e[g-1]=arguments[g];for(const h of e){let q;c=a;e=null!=(q=h)?q:{};for(const C of Yc(e))l.writeConfig(c,C,e[C],!0)}return a}function bb(a,c){const e=[],g={};for(const h of a)a=c(h),a in g||(g[a]=1,e.push(h));return e}function Cb(a,c){if(a.size!==c.size)return!1;
for(const e of a)if(!c.has(e))return!1;return!0}function xb(a,c){for(const e of a)if(c.has(e))return!0;return!1}function nb(a){const c=new Set;for(const e of a){const g=l.splitAccessPath(e).map((h,q)=>0===q?h:`[${h}]`);a=g.map((h,q)=>g.slice(0,q+1).join(""));for(const h of a)c.add(h)}return c}function Db(a,c){return void 0===a||void 0===c?!0:xb(nb(a),nb(c))}function lb(a){return 0===Yc(a).length}function lc(a){return!0===a||!1===a}function ua(a){const c=a.replace(/\W/g,"_");return(a.match(/^\d+/)?
"_":"")+c}function ha(a,c){return a.not?`!(${ha(a.not,c)})`:a.and?`(${a.and.map(e=>ha(e,c)).join(") \x26\x26 (")})`:a.or?`(${a.or.map(e=>ha(e,c)).join(") || (")})`:c(a)}function xa(a,c){if(0===c.length)return!0;const e=c.shift();e in a&&xa(a[e],c)&&delete a[e];return lb(a)}function Ua(a){return a.charAt(0).toUpperCase()+a.substr(1)}function Xa(a){let c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum";const e=l.splitAccessPath(a),g=[];for(let h=1;h<=e.length;h++){const q=`[${e.slice(0,
h).map(l.stringValue).join("][")}]`;g.push(`${c}${q}`)}return g.join(" \x26\x26 ")}function Ka(a){return`${1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum"}[${l.stringValue(l.splitAccessPath(a).join("."))}]`}function jb(a){return a.replace(/(\[|\]|\.|'|")/g,"\\$1")}function gb(a){return`${l.splitAccessPath(a).map(jb).join("\\.")}`}function wb(a,c,e){return a.replace(new RegExp(c.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"),"g"),e)}function Ub(a){return`${l.splitAccessPath(a).join(".")}`}
function Na(a){return a?l.splitAccessPath(a).length:0}function U(){for(var a=arguments.length,c=Array(a),e=0;e<a;e++)c[e]=arguments[e];for(const g of c)if(void 0!==g)return g}function ea(a){const c=++Hf;return a?String(a)+c:c}function Ha(a){return Y(a)?a:`__${a}`}function Y(a){return a.startsWith("__")}function Ca(a){if(void 0!==a)return(a%360+360)%360}function ma(a){return l.isNumber(a)?!0:!isNaN(a)&&!isNaN(parseFloat(a))}function na(a,c){if(a===c)return!0;if(a&&c&&"object"==typeof a&&"object"==
typeof c){if(a.constructor.name!==c.constructor.name)return!1;let g;if(Array.isArray(a)){var e=a.length;if(e!=c.length)return!1;for(g=e;0!==g--;)if(!na(a[g],c[g]))return!1;return!0}if(a instanceof Map&&c instanceof Map){if(a.size!==c.size)return!1;for(g of a.entries())if(!c.has(g[0]))return!1;for(g of a.entries())if(!na(g[1],c.get(g[0])))return!1;return!0}if(a instanceof Set&&c instanceof Set){if(a.size!==c.size)return!1;for(g of a.entries())if(!c.has(g[0]))return!1;return!0}if(ArrayBuffer.isView(a)&&
ArrayBuffer.isView(c)){e=a.length;if(e!=c.length)return!1;for(g=e;0!==g--;)if(a[g]!==c[g])return!1;return!0}if(a.constructor===RegExp)return a.source===c.source&&a.flags===c.flags;if(a.valueOf!==Object.prototype.valueOf&&a.valueOf!==Am.valueOf)return a.valueOf()===c.valueOf();if(a.toString!==Object.prototype.toString&&a.toString!==Am.toString)return a.toString()===c.toString();const h=Object.keys(a);e=h.length;if(e!==Object.keys(c).length)return!1;for(g=e;0!==g--;)if(!Object.prototype.hasOwnProperty.call(c,
h[g]))return!1;for(g=e;0!==g--;)if(e=h[g],!na(a[e],c[e]))return!1;return!0}return a!==a&&c!==c}function n(a){const c=[];return function h(g){g&&g.toJSON&&"function"===typeof g.toJSON&&(g=g.toJSON());if(void 0!==g){if("number"==typeof g)return isFinite(g)?""+g:"null";if("object"!==typeof g)return JSON.stringify(g);var q;if(Array.isArray(g)){var C="[";for(q=0;q<g.length;q++)q&&(C+=","),C+=h(g[q])||"null";return C+"]"}if(null===g)return"null";if(c.includes(g))throw new TypeError("Converting circular structure to JSON");
var S=c.push(g)-1,ba=Object.keys(g).sort();C="";for(q=0;q<ba.length;q++){const sa=ba[q],Ta=h(g[sa]);Ta&&(C&&(C+=","),C+=JSON.stringify(sa)+":"+Ta)}c.splice(S,1);return`{${C}}`}}(a)}function G(a){switch(a){case "latitude":return"y";case "latitude2":return"y2";case "longitude":return"x";case "longitude2":return"x2"}}function M(a){return"color"===a||"fill"===a||"stroke"===a}function y(a){return T(a)!==a}function T(a){switch(a){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";
case "longitude2":return"longitude";case "theta2":return"theta";case "radius2":return"radius"}return a}function D(a){if(a in yj)switch(a){case "theta":return"startAngle";case "theta2":return"endAngle";case "radius":return"outerRadius";case "radius2":return"innerRadius"}return a}function A(a){switch(a){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function P(a){switch(a){case "x":case "x2":return"width";
case "y":case "y2":return"height"}}function B(a){switch(a){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";case "radius":return"radiusOffset";case "theta2":return"theta2Offset";case "radius2":return"radius2Offset"}}function E(a){switch(a){case "x":return"xOffset";case "y":return"yOffset"}}function I(a){return a in Si}function X(a){return"width"===a?"x":"y"}function Ea(a){switch(a){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return Nk;
case "x":case "y":case "xOffset":case "yOffset":case "latitude":case "longitude":return Pl;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",
point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function R(a){switch(a){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";
case "color":case "fill":case "stroke":return"flexible"}}function ia(a){return!!a&&!!a.argmin}function Aa(a){return!!a&&!!a.argmax}function Pa(a){return l.isString(a)&&!!yn[a]}function Ra(a){return l.isString(a)&&fi.has(a)}function fb(a){l.isBoolean(a)&&(a=le(a,void 0));return"bin"+Yc(a).map(c=>Vb(a[c])?ua(`_${c}_${Ni(a[c])}`):ua(`_${c}_${a[c]}`)).join("")}function zb(a){return!0===a||l.isObject(a)&&!a.binned}function kb(a){return"binned"===a||l.isObject(a)&&!0===a.binned}function Vb(a){return null==
a?void 0:a.param}function aa(a){switch(a){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;case "strokeDash":return 4;default:return 10}}function Ga(a){return!(null==a||!a.expr)}function Qb(a){const c=Yc(a||{}),e={};for(const g of c)e[g]=ra(a[g]);return e}function nc(a){var c=Object.assign({},a),e=a.anchor;const g=a.frame,h=a.offset,q=a.orient,C=a.angle,S=a.limit;var ba=a.color,
sa=a.subtitleColor;const Ta=a.subtitleFont,mb=a.subtitleFontSize,ac=a.subtitleFontStyle,Ec=a.subtitleFontWeight,gc=a.subtitleLineHeight,Fc=a.subtitlePadding;c=(delete c.anchor,delete c.frame,delete c.offset,delete c.orient,delete c.angle,delete c.limit,delete c.color,delete c.subtitleColor,delete c.subtitleFont,delete c.subtitleFontSize,delete c.subtitleFontStyle,delete c.subtitleFontWeight,delete c.subtitleLineHeight,delete c.subtitlePadding,c);ba=Object.assign({},c,ba?{fill:ba}:{});e=Object.assign({},
e?{anchor:e}:{},g?{frame:g}:{},h?{offset:h}:{},q?{orient:q}:{},void 0!==C?{angle:C}:{},void 0!==S?{limit:S}:{});sa=Object.assign({},sa?{subtitleColor:sa}:{},Ta?{subtitleFont:Ta}:{},mb?{subtitleFontSize:mb}:{},ac?{subtitleFontStyle:ac}:{},Ec?{subtitleFontWeight:Ec}:{},gc?{subtitleLineHeight:gc}:{},Fc?{subtitlePadding:Fc}:{});a=Xb(a,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:ba,subtitleMarkConfig:a,nonMarkTitleProperties:e,subtitle:sa}}function $b(a){return l.isString(a)||l.isArray(a)&&
l.isString(a[0])}function Ob(a){return!(null==a||!a.signal)}function Nb(a){return!!a.step}function rc(a){return l.isArray(a)?!1:"field"in a&&"data"in a}function Sc(a){const c=l.isArray(a.condition)?a.condition.map(Gb):Gb(a.condition);return Object.assign({},ra(a),{condition:c})}function ra(a){if(Ga(a)){var c=Object.assign({},a);a=a.expr;c=(delete c.expr,c);return Object.assign({},{signal:a},c)}return a}function Gb(a){if(Ga(a)){var c=Object.assign({},a);a=a.expr;c=(delete c.expr,c);return Object.assign({},
{signal:a},c)}return a}function Va(a){if(Ga(a)){var c=Object.assign({},a);a=a.expr;c=(delete c.expr,c);return Object.assign({},{signal:a},c)}return Ob(a)?a:void 0!==a?{value:a}:void 0}function Ab(a){return Ob(a)?a.signal:l.stringValue(a.value)}function Jb(a){return Ob(a)?a.signal:null==a?null:l.stringValue(a)}function Eb(a){let c;return[].concat(a.type,null!=(c=a.style)?c:[])}function Wb(a,c,e){let g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const {vgChannel:h,ignoreVgConfig:q}=g;
if(h&&void 0!==c[h])return c[h];if(void 0!==c[a])return c[a];if(!q||h&&h!==a)return ic(a,c,e,g)}function ic(a,c,e){let {vgChannel:g}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return U(g?wc(a,c,e.style):void 0,wc(a,c,e.style),g?e[c.type][g]:void 0,e[c.type][a],g?e.mark[g]:e.mark[a])}function wc(a,c,e){return Zc(a,Eb(c),e)}function Zc(a,c,e){c=l.array(c);let g;for(const h of c)(c=e[h])&&void 0!==c[a]&&(g=c[a]);return g}function Pc(a,c){return l.array(a).reduce((e,g)=>{e.field.push(mc(g,
c));let h;e.order.push(null!=(h=g.sort)?h:"ascending");return e},{field:[],order:[]})}function oa(a,c){const e=[...a];c.forEach(g=>{for(const h of e)if(na(h,g))return;e.push(g)});return e}function Ma(a,c){return na(a,c)||!c?a:a?[...l.array(a),...l.array(c)].join(", "):c}function ib(a,c){const e=a.value;c=c.value;if(null==e||null===c)return{explicit:a.explicit,value:null};if(($b(e)||Ob(e))&&($b(c)||Ob(c)))return{explicit:a.explicit,value:Ma(e,c)};if($b(e)||Ob(e))return{explicit:a.explicit,value:e};
if($b(c)||Ob(c))return{explicit:a.explicit,value:c};if(!($b(e)||Ob(e)||$b(c)||Ob(c)))return{explicit:a.explicit,value:oa(e,c)};throw Error("It should never reach here");}function V(a,c,e){a:if("object"===typeof c&&null!==c){var g=c[Symbol.toPrimitive];if(void 0!==g){c=g.call(c,"string");if("object"!==typeof c)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}c=String(c)}c="symbol"===typeof c?c:String(c);c in a?Object.defineProperty(a,c,{value:e,enumerable:!0,configurable:!0,
writable:!0}):a[c]=e;return a}function x(a,c,e){c=da(a,c,"set");if(c.set)c.set.call(a,e);else{if(!c.writable)throw new TypeError("attempted to set read only private field");c.value=e}return e}function da(a,c,e){if(!c.has(a))throw new TypeError("attempted to "+e+" private field on non-instance");return c.get(a)}function ya(a){return`Invalid specification ${n(a)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}
function Ia(a){return`${"width"==a?"Width":"Height"} "container" only works for single views and layered views.`}function Wa(a){return`${"width"==a?"Width":"Height"} "container" only works well with autosize "fit" or "fit-${"width"==a?"x":"y"}".`}function qb(a){return a?`Dropping "fit-${a}" because spec has discrete ${P(a)}.`:'Dropping "fit" because spec has discrete size.'}function Sb(a){return`Unknown field for ${a}. Cannot calculate view size.`}function Hb(a){return`Cannot project a selection on encoding channel "${a}", which has no field.`}
function Pb(a){return`Selection not supported for ${a} yet.`}function uc(a){return`The "columns" property cannot be used when "${a}" has nested row/column.`}function yc(a,c,e){return`An ancestor parsed field "${a}" as ${e} but a child wants to parse the field as ${c}.`}function Kc(a){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${a} are dropped.`}function md(a,c){const {fill:e,stroke:g}=c;return`Dropping color ${a} as the plot also has ${e&&g?"fill and stroke":
e?"fill":"stroke"}.`}function fd(a,c){return`Dropping ${n(a)} from channel "${c}" since it does not contain any data field, datum, value, or signal.`}function Tc(a,c,e){return`${a} dropped as it is incompatible with "${c}"${e?` when ${e}`:""}.`}function ld(a,c){return`Using discrete channel "${a}" to encode "${c}" field can be misleading as it does not encode ${"ordinal"===c?"order":"magnitude"}.`}function nd(a,c,e){return`${e}-scale's "${c}" is dropped as it does not work with ${a} scale.`}function dd(a){return`The step for "${a}" is dropped because the ${"width"===
a?"x":"y"} is continuous.`}function Wd(a,c){return`Invalid ${a}: ${n(c)}.`}function gd(a){return`1D error band does not support ${a}.`}function z(a){return`Channel ${a} is required for "binned" bin.`}function J(){Kk.warn(...arguments)}function va(){Kk.debug(...arguments)}function w(a){if(a&&l.isObject(a))for(const c of wl)if(c in a)return!0;return!1}function Q(a){ma(a)&&(a=+a);if(l.isNumber(a))return a-1;var c=a.toLowerCase();const e=mm.indexOf(c);if(-1!==e)return e;c=c.substr(0,3);c=ck.indexOf(c);
if(-1!==c)return c;throw Error(Wd("month",a));}function ca(a){ma(a)&&(a=+a);if(l.isNumber(a))return a%7;var c=a.toLowerCase();const e=fh.indexOf(c);if(-1!==e)return e;c=c.substr(0,3);c=oh.indexOf(c);if(-1!==c)return c;throw Error(Wd("day",a));}function wa(a,c){const e=[];c&&void 0!==a.day&&1<Yc(a).length&&(J(`Dropping day from datetime ${n(a)} as day cannot be combined with other units.`),a=ve(a),delete a.day);void 0!==a.year?e.push(a.year):e.push(2012);if(void 0!==a.month){var g=c?Q(a.month):a.month;
e.push(g)}else if(void 0!==a.quarter){if(c)if(g=a.quarter,ma(g)&&(g=+g),l.isNumber(g))4<g&&J(Wd("quarter",g)),--g;else throw Error(Wd("quarter",g));else g=a.quarter;e.push(l.isNumber(g)?3*g:`${g}*3`)}else e.push(0);void 0!==a.date?e.push(a.date):void 0!==a.day?(c=c?ca(a.day):a.day,e.push(l.isNumber(c)?c+1:`${c}+1`)):e.push(1);for(const h of["hours","minutes","seconds","milliseconds"])c=a[h],e.push("undefined"===typeof c?0:c);return e}function pa(a){const c=wa(a,!0).join(", ");return a.utc?`utc(${c})`:
`datetime(${c})`}function Ya(a){const c=wa(a,!0);return a.utc?+new Date(Date.UTC(...c)):+new Date(...c)}function Tb(a){return l.isObject(a)?a.binned:a&&a.startsWith("binned")}function Zb(a){return wl.filter(c=>Cc(a,c))}function jc(a){a=Zb(a);return a[a.length-1]}function Cc(a,c){const e=a.indexOf(c);return 0>e||0<e&&"seconds"===c&&"i"===a.charAt(e-1)||a.length>e+3&&"day"===c&&"o"===a.charAt(e+3)||0<e&&"year"===c&&"f"===a.charAt(e-1)?!1:!0}function Oc(a,c){var {end:e}=2<arguments.length&&void 0!==
arguments[2]?arguments[2]:{end:!1};const g=Xa(c),h=a.startsWith("utc")?"utc":"";const q={};for(const S of wl)if(Cc(a,S)){var C="quarter"===S?`(${h}quarter(${g})-1)`:`${h}${S}(${g})`;q[S]=C;C=S}e&&(q[C]+="+1");e=wa(q,!1).join(", ");return q.utc?`utc(${e})`:`datetime(${e})`}function Rc(a){if(a)return a=Zb(a),`timeUnitSpecifier(${n(a)}, ${n(Lk)})`}function od(a){if(a){var c;l.isString(a)?c=a&&a.startsWith("binned")?{unit:a.substring(6),binned:!0}:{unit:a}:l.isObject(a)&&(c=Object.assign({},a,a.unit?
{unit:a.unit}:{}));c.unit.startsWith("utc")&&(c.utc=!0,c.unit=c.unit.substring(3));return c}}function sd(a){var c=od(a);a=Object.assign({},c);c=c.utc;const e=(delete a.utc,a);return e.unit?(c?"utc":"")+Yc(e).map(g=>ua(`${"unit"===g?"":`_${g}_`}${e[g]}`)).join(""):(c?"utc":"")+"timeunit"+Yc(e).map(g=>ua(`_${g}_${e[g]}`)).join("")}function zd(a){let c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h=>h;var e=od(a);const g=jc(e.unit);if(g&&"day"!==g){const h={year:2001,month:1,date:1,hours:0,
minutes:0,seconds:0,milliseconds:0},{step:q,part:C}=Zd(g,e.step);e=Object.assign({},h,{[C]:+h[C]+q});return`${c(pa(e))} - ${c(pa(h))}`}}function Zd(a){let c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(Mk[a])return{part:a,step:c};switch(a){case "day":case "dayofyear":return{part:"date",step:c};case "quarter":return{part:"month",step:3*c};case "week":return{part:"date",step:7*c}}}function Kd(a){return!(null==a||!a.field)&&void 0!==a.equal}function $d(a){return!(null==a||!a.field)&&void 0!==
a.lt}function Te(a){return!(null==a||!a.field)&&void 0!==a.lte}function We(a){return!(null==a||!a.field)&&void 0!==a.gt}function Le(a){return!(null==a||!a.field)&&void 0!==a.gte}function Ve(a){if(null==a?0:a.field)if(l.isArray(a.range)&&2===a.range.length||Ob(a.range))return!0;return!1}function Ie(a){return!(null==a||!a.field)&&(l.isArray(a.oneOf)||l.isArray(a.in))}function He(a){return Ie(a)||Kd(a)||Ve(a)||$d(a)||We(a)||Te(a)||Le(a)}function ie(a,c){return Eg(a,{timeUnit:c,wrapTime:!0})}function ne(a,
c){return a.map(e=>ie(e,c))}function Ee(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,{field:e}=a,g=od(a.timeUnit);const {unit:h,binned:q}=g||{};g=mc(a,{expr:"datum"});e=h?`time(${q?g:Oc(h,e)})`:g;if(Kd(a))return`${e}===${ie(a.equal,h)}`;if($d(a))return`${e}<${ie(a.lt,h)}`;if(We(a))return`${e}>${ie(a.gt,h)}`;if(Te(a))return`${e}<=${ie(a.lte,h)}`;if(Le(a))return`${e}>=${ie(a.gte,h)}`;if(Ie(a))return`indexof([${ne(a.oneOf,h).join(",")}], ${e}) !== -1`;if(null!=a&&a.field&&void 0!==
a.valid)return Fd(e,a.valid);if(Ve(a)){var {range:C}=a;g=Ob(C)?{signal:`${C.signal}[0]`}:C[0];C=Ob(C)?{signal:`${C.signal}[1]`}:C[1];if(null!==g&&null!==C&&c)return"inrange("+e+", ["+ie(g,h)+", "+ie(C,h)+"])";c=[];null!==g&&c.push(`${e} >= ${ie(g,h)}`);null!==C&&c.push(`${e} <= ${ie(C,h)}`);return 0<c.length?c.join(" \x26\x26 "):"true"}throw Error(`Invalid field predicate: ${n(a)}`);}function Fd(a){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)?`isValid(${a}) && isFinite(+${a})`:
`!isValid(${a}) || !isFinite(+${a})`}function Uf(a){return He(a)&&a.timeUnit?Object.assign({},a,{timeUnit:od(a.timeUnit)}):a}function rf(a){return"quantitative"===a||"temporal"===a}function Ne(a){return"ordinal"===a||"nominal"===a}function ze(a){if(a)switch(a=a.toLowerCase(),a){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";case "geojson":return"geojson"}}function Oe(a){return qm.has(a)}
function Pd(a){return kn.has(a)}function dg(a,c){switch(c){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!["point","band","identity"].includes(a);case "bins":return!["point","band","identity","ordinal"].includes(a);case "round":return gh.has(a)||"band"===a||"point"===a;case "padding":case "rangeMin":case "rangeMax":return gh.has(a)||["point","band"].includes(a);case "paddingOuter":case "align":return["point","band"].includes(a);case "paddingInner":return"band"===
a;case "domainMax":case "domainMid":case "domainMin":case "domainRaw":case "clamp":return gh.has(a);case "nice":return gh.has(a)||"quantize"===a||"threshold"===a;case "exponent":return"pow"===a;case "base":return"log"===a;case "constant":return"symlog"===a;case "zero":return Pd(a)&&!ub(["log","time","utc","threshold","quantile"],a)}}function gf(a,c){switch(c){case "interpolate":case "scheme":case "domainMid":if(!M(a))return`Cannot use the scale property "${c}" with non-color channel.`}}function Da(a,
c){let e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;if(!Kg[a])return!1;switch(a){case "x":case "y":case "xOffset":case "yOffset":case "theta":case "radius":return gh.has(c)||"band"===c?!0:"point"===c?!e:!1;case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return gh.has(c)||Ri.has(c)||ub(["band","point","ordinal"],c);case "color":case "fill":case "stroke":return"band"!==c;case "strokeDash":case "shape":return"ordinal"===c||Ri.has(c)}}
function cb(a){return["line","area","trail"].includes(a)}function fc(a){return["rect","bar","image","arc"].includes(a)}function hd(a){return a.type}function id(a){return a&&void 0!=a.band}function ed(a){const {channel:c,channelDef:e,markDef:g,scale:h,config:q}=a;a=Ze(a);if(Oa(e)&&!Ra(e.aggregate)&&h&&gh.has(h.get("type"))){{let {fieldDef:S,channel:ba,markDef:sa,ref:Ta,config:mb}={fieldDef:e,channel:c,markDef:g,ref:a,config:q};if(cb(sa.type))a=Ta;else if(null===Wb("invalid",sa,mb)){var C=ba;a=Dd(S,
!0);C="y"===T(C)?{field:{group:"height"}}:{value:0};a=[Object.assign({},{test:a},C),Ta]}else a=Ta}return a}return a}function Dd(a){let c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;return Fd(l.isString(a)?a:mc(a,{expr:"datum"}),!c)}function Td(a,c,e,g){const h={};c&&(h.scale=c);rb(a)?({datum:a}=a,w(a)?h.signal=pa(a):Ob(a)?h.signal=a.signal:Ga(a)?h.signal=a.expr:h.value=a):h.field=mc(a,e);if(g){const {offset:q,band:C}=g;q&&(h.offset=q);C&&(h.band=C)}return h}function Md(a){let {scaleName:c,
fieldOrDatumDef:e,fieldOrDatumDef2:g,offset:h,startSuffix:q,endSuffix:C="end",bandPosition:S=.5}=a;var ba=!Ob(S)&&0<S&&1>S?"datum":void 0;a=mc(e,{expr:ba,suffix:q});const sa=void 0!==g?mc(g,{expr:ba}):mc(e,{suffix:C,expr:ba});ba={};0===S||1===S?(ba.scale=c,ba.field=0===S?a:sa):(a=Ob(S)?`(1-${S.signal}) * ${a} + ${S.signal} * ${sa}`:`${1-S} * ${a} + ${S} * ${sa}`,ba.signal=`scale("${c}", ${a})`);h&&(ba.offset=h);return ba}function Ze(a){let {channel:c,channelDef:e,channel2Def:g,markDef:h,config:q,
scaleName:C,scale:S,stack:ba,offset:sa,defaultRef:Ta,bandPosition:mb}=a;if(e){if(tc(e)){a=null==S?void 0:S.get("type");if(Lc(e)){null!=mb||(mb=m({fieldDef:e,fieldDef2:g,markDef:h,config:q}));const {bin:gc,timeUnit:Fc,type:Hc}=e;if(zb(gc)||mb&&Fc&&"temporal"===Hc)return(null==ba?0:ba.impute)?Td(e,C,{binSuffix:"mid"},{offset:sa}):mb&&!Oe(a)?Md({scaleName:C,fieldOrDatumDef:e,bandPosition:mb,offset:sa}):Td(e,C,Qf(e,c)?{binSuffix:"range"}:{},{offset:sa});if(kb(gc)){if(Oa(g))return Md({scaleName:C,fieldOrDatumDef:e,
fieldOrDatumDef2:g,bandPosition:mb,offset:sa});J(z("x"===c?"x2":"y2"))}}var ac;let Ec;return Td(e,C,Oe(a)?{binSuffix:"range"}:{},{offset:sa,band:"band"===a?null!=(Ec=null!=(ac=mb)?ac:e.bandPosition)?Ec:.5:void 0})}if(Wc(e))return ac=sa?{offset:sa}:{},Object.assign({},pd(c,e.value),ac)}l.isFunction(Ta)&&(Ta=Ta());return Ta?Object.assign({},Ta,sa?{offset:sa}:{}):Ta}function pd(a,c){return ub(["x","x2"],a)&&"width"===c?{field:{group:"width"}}:ub(["y","y2"],a)&&"height"===c?{field:{group:"height"}}:Va(c)}
function oe(a){return a&&"number"!==a&&"time"!==a}function df(a){let {fieldOrDatumDef:c,format:e,formatType:g,expr:h,normalizeStack:q,config:C}=a;if(oe(g))return Ud({fieldOrDatumDef:c,format:e,formatType:g,expr:h,config:C});a=Pe(c,h,q);var S=tb(c);if(void 0===e&&void 0===g&&C.customFormatTypes){if("quantitative"===S){if(q&&C.normalizedNumberFormatType)return Ud({fieldOrDatumDef:c,format:C.normalizedNumberFormat,formatType:C.normalizedNumberFormatType,expr:h,config:C});if(C.numberFormatType)return Ud({fieldOrDatumDef:c,
format:C.numberFormat,formatType:C.numberFormatType,expr:h,config:C})}if("temporal"===S&&C.timeFormatType&&Oa(c)&&void 0===c.timeUnit)return Ud({fieldOrDatumDef:c,format:C.timeFormat,formatType:C.timeFormatType,expr:h,config:C})}if(tf(c)){var ba,sa;{a={field:a,timeUnit:Oa(c)?null==(ba=od(c.timeUnit))?void 0:ba.unit:void 0,format:e,formatType:C.timeFormatType,rawTimeFormat:C.timeFormat,isUTCScale:Bd(c)&&(null==(sa=c.scale)?void 0:sa.type)===qg.UTC};let {field:Ta,timeUnit:mb,format:ac,formatType:Ec,
rawTimeFormat:gc,isUTCScale:Fc}=a;!mb||ac?!mb&&Ec?ba=`${Ec}(${Ta}, '${ac}')`:(ac=l.isString(ac)?ac:gc,ba=`${Fc?"utc":"time"}Format(${Ta}, '${ac}')`):(ba=mb,sa=Ta,a=Fc,ba?(S=Rc(ba),ba=`${a||ba.startsWith("utc")?"utc":"time"}Format(${sa}, ${S})`):ba=void 0)}return ba?{signal:ba}:void 0}e=Ae({type:S,specifiedFormat:e,config:C,normalizeStack:q});return Oa(c)&&zb(c.bin)?(ba=mc(c,{expr:h,binSuffix:"end"}),{signal:kf(a,ba,e,g,C)}):e||"quantitative"===tb(c)?{signal:`${`format(${a}, "${e||""}")`}`}:{signal:`isValid(${a}) ? ${a} : ""+${a}`}}
function Pe(a,c,e){if(Oa(a))return e?`${mc(a,{expr:c,suffix:"end"})}-${mc(a,{expr:c,suffix:"start"})}`:mc(a,{expr:c});({datum:a}=a);a=w(a)?pa(a):`${n(a)}`;return a}function Ud(a){let {fieldOrDatumDef:c,format:e,formatType:g,expr:h,normalizeStack:q,config:C,field:S}=a;null!=S||(S=Pe(c,h,q));return"datum.value"!==S&&Oa(c)&&zb(c.bin)?(a=mc(c,{expr:h,binSuffix:"end"}),{signal:kf(S,a,e,g,C)}):{signal:`${g}(${S}${e?`, ${n(e)}`:""})`}}function hf(a,c,e,g,h,q){if(!l.isString(g)||!oe(g))if(void 0!==e||void 0!==
g||!h.customFormatTypes||"quantitative"!==tb(a)||!(h.normalizedNumberFormatType&&qd(a)&&"normalize"===a.stack||h.numberFormatType)){if(qd(a)&&"normalize"===a.stack&&h.normalizedNumberFormat)return Ae({type:"quantitative",config:h,normalizeStack:!0});if(tf(a)){let C;a=Oa(a)?null==(C=od(a.timeUnit))?void 0:C.unit:void 0;if(void 0===a&&h.customFormatTypes&&h.timeFormatType)return;{let {specifiedFormat:S,timeUnit:ba,config:sa,omitTimeFormatConfig:Ta}={specifiedFormat:e,timeUnit:a,config:h,omitTimeFormatConfig:q};
e=S?S:ba?{signal:Rc(ba)}:Ta?void 0:sa.timeFormat}return e}return Ae({type:c,specifiedFormat:e,config:h})}}function Cf(a,c,e){if(a&&(Ob(a)||"number"===a||"time"===a))return a;if(tf(c)&&"time"!==e&&"utc"!==e){let g;return Oa(c)&&(null==(g=od(null==c?void 0:c.timeUnit))?0:g.utc)?"utc":"time"}}function Ae(a){let {type:c,specifiedFormat:e,config:g,normalizeStack:h}=a;if(l.isString(e))return e;if("quantitative"===c)return h?g.normalizedNumberFormat:g.numberFormat}function Qe(a,c,e,g){if(oe(e))return`${e}(${a}${c?
`, ${n(c)}`:""})`;let h;c=null!=(h=l.isString(c)?c:void 0)?h:g.numberFormat;return`format(${a}, "${c||""}")`}function kf(a,c,e,g,h){if(void 0===e&&void 0===g&&h.customFormatTypes&&h.numberFormatType)return kf(a,c,h.numberFormat,h.numberFormatType,h);const q=Qe(a,e,g,h);c=Qe(c,e,g,h);return`${Fd(a,!1)} ? "null" : ${q} + "${" – "}" + ${c}`}function qe(a){return a&&("count"===a.op||!!a.field)}function Je(a){return a&&l.isArray(a)}function ae(a){return"row"in a||"column"in a}function qa(a){const {field:c,
timeUnit:e,bin:g,aggregate:h}=a;return Object.assign({},e?{timeUnit:e}:{},g?{bin:g}:{},h?{aggregate:h}:{},{field:c})}function m(a){let {fieldDef:c,fieldDef2:e,markDef:g,config:h}=a;if(tc(c)&&void 0!==c.bandPosition)return c.bandPosition;if(Oa(c)){const {timeUnit:q,bin:C}=c;if(q&&!e)return ic("timeUnitBandPosition",g,h);if(zb(C))return.5}}function r(a){let {channel:c,fieldDef:e,fieldDef2:g,markDef:h,config:q,scaleType:C,useVlSizeChannel:S}=a;a=P(c);a=Wb(S?"size":a,h,q,{vgChannel:a});if(void 0!==a)return a;
if(Oa(e)){const {timeUnit:ba,bin:sa}=e;if(ba&&!g)return{band:ic("timeUnitBandSize",h,q)};if(zb(sa)&&!Oe(C))return{band:1}}if(fc(h.type)){if(C){if(Oe(C)){let Ta;return(null==(Ta=q[h.type])?void 0:Ta.discreteBandSize)||{band:1}}let sa;return null==(sa=q[h.type])?void 0:sa.continuousBandSize}let ba;return null==(ba=q[h.type])?void 0:ba.discreteBandSize}}function K(a,c,e,g){return zb(a.bin)||a.timeUnit&&Lc(a)&&"temporal"===a.type?void 0!==m({fieldDef:a,fieldDef2:c,markDef:e,config:g}):!1}function ka(a){return a&&
"condition"in a}function Fa(a){a=null==a?void 0:a.condition;return!!a&&!l.isArray(a)&&Oa(a)}function Sa(a){a=null==a?void 0:a.condition;return!!a&&!l.isArray(a)&&tc(a)}function Oa(a){return a&&(!!a.field||"count"===a.aggregate)}function tb(a){return null==a?void 0:a.type}function rb(a){return a&&"datum"in a}function oc(a){return Lc(a)&&!vd(a)||sc(a)}function kc(a){return Lc(a)&&"quantitative"===a.type&&!a.bin||sc(a)}function sc(a){return rb(a)&&l.isNumber(a.datum)}function tc(a){return Oa(a)||rb(a)}
function Lc(a){return a&&("field"in a||"count"===a.aggregate)&&"type"in a}function Wc(a){return a&&"value"in a&&"value"in a}function Bd(a){return a&&("scale"in a||"sort"in a)}function qd(a){return a&&("axis"in a||"stack"in a||"impute"in a)}function xd(a){return a&&("format"in a||"formatType"in a)}function Nd(a){return ec(a,["legend","axis","header","scale"])}function mc(a){let c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=a.field;const g=c.prefix;let h=c.suffix,q="";if("count"===a.aggregate)e=
Ha("count");else{let C;if(!c.nofn)if("op"in a)C=a.op;else{const {bin:S,aggregate:ba,timeUnit:sa}=a;if(zb(S)){C=fb(S);let Ta,mb;h=(null!=(Ta=c.binSuffix)?Ta:"")+(null!=(mb=c.suffix)?mb:"")}else if(ba)Aa(ba)?(q=`["${e}"]`,e=`argmax_${ba.argmax}`):ia(ba)?(q=`["${e}"]`,e=`argmin_${ba.argmin}`):C=String(ba);else if(sa&&!Tb(sa)){C=sd(sa);let Ta;h=(!["range","mid"].includes(c.binSuffix)&&c.binSuffix||"")+(null!=(Ta=c.suffix)?Ta:"")}}C&&(e=e?`${C}_${e}`:C)}h&&(e=`${e}_${h}`);g&&(e=`${g}_${e}`);return c.forAs?
Ub(e):c.expr?Ka(e,c.expr)+q:gb(e)+q}function vd(a){switch(a.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return Oa(a)&&!!a.bin;case "temporal":return!1}throw Error(`Invalid field type "${a.type}".`);}function se(a,c){const {field:e,bin:g,timeUnit:h,aggregate:q}=a;if("count"===q)return c.countTitle;if(zb(g))return`${e} (binned)`;if(h&&!Tb(h)){let C;if(a=null==(C=od(h))?void 0:C.unit)return`${e} (${Zb(a).join("-")})`}else if(q)return Aa(q)?`${e} for max ${q.argmax}`:
ia(q)?`${e} for min ${q.argmin}`:`${Ua(q)} of ${e}`;return e}function fe(a,c,e){let {allowDisabling:g,includeDefault:h=!0}=e,q;e=null==(q=Vd(a))?void 0:q.title;if(!Oa(a))return null!=e?e:a.title;c=h?zi(a,c):void 0;if(g)return U(e,a.title,c);let C;return null!=(C=null!=e?e:a.title)?C:c}function Vd(a){if(qd(a)&&a.axis)return a.axis;if(a&&"legend"in a&&a.legend)return a.legend;if(a&&"header"in a&&a.header)return a.header}function Cd(a){if(xd(a)){const {format:h,formatType:q}=a;return{format:h,formatType:q}}let c;
a=null!=(c=Vd(a))?c:{};const {format:e,formatType:g}=a;return{format:e,formatType:g}}function Od(a,c){switch(c){case "latitude":case "longitude":return"quantitative";case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";case "order":return"ordinal"}if("sort"in a&&l.isArray(a.sort))return"ordinal";const {aggregate:e,bin:g,timeUnit:h}=a;if(h)return"temporal";if(g||e&&!Aa(e)&&!ia(e))return"quantitative";let q;if(Bd(a)&&(null==(q=a.scale)?0:q.type))switch(Cg[a.scale.type]){case "numeric":case "discretizing":return"quantitative";
case "time":return"temporal"}return"nominal"}function ke(a){if(Oa(a))return a;if(Fa(a))return a.condition}function Ge(a){if(tc(a))return a;if(Sa(a))return a.condition}function ce(a,c,e){var g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return l.isString(a)||l.isNumber(a)||l.isBoolean(a)?(g=l.isString(a)?"string":l.isNumber(a)?"number":"boolean",J(`Channel ${c} is a ${g}. Converted to {value: ${n(a)}}.`),{value:a}):tc(a)?$e(a,c,e,g):Sa(a)?Object.assign({},a,{condition:$e(a.condition,
c,e,g)}):a}function $e(a,c,e,g){if(xd(a)){var h=Object.assign({},a),q=a.formatType;h=(delete h.format,delete h.formatType,h);if(oe(q)&&!e.customFormatTypes)return J(Kc(c)),$e(h,c,e,g)}else if((q=qd(a)?"axis":a&&"legend"in a?"legend":a&&"header"in a?"header":null)&&a[q]){var C=a[q];h=Object.assign({},C);C=C.formatType;h=(delete h.format,delete h.formatType,h);if(oe(C)&&!e.customFormatTypes)return J(Kc(c)),$e(Object.assign({},a,{[q]:h}),c,e,g)}if(Oa(a))return ad(a,c,g);c=a.type;c||({datum:c}=a,c=l.isNumber(c)?
"quantitative":l.isString(c)?"nominal":w(c)?"temporal":void 0,a=Object.assign({},a,{type:c}));return a}function ad(a,c){var {compositeMark:e=!1}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const {aggregate:g,timeUnit:h,bin:q,field:C}=a,S=Object.assign({},a);e||!g||Pa(g)||Aa(g)||ia(g)||(J(`Invalid aggregation operator "${g}".`),delete S.aggregate);h&&(S.timeUnit=od(h));C&&(S.field=`${C}`);zb(q)&&(S.bin=le(q,c));kb(q)&&!I(c)&&J(`Channel ${c} should not be used with "binned" bin.`);if(Lc(S)){({type:e}=
S);var ba=ze(e);e!==ba&&(S.type=ba);"quantitative"!==e&&Ra(g)&&(J(`Invalid field type "${e}" for aggregate: "${g}", using "quantitative" instead.`),S.type="quantitative")}else y(c)||(e=Od(S,c),S.type=e);if(Lc(S)){const {compatible:Ta,warning:mb}=mf(S,c)||{};!1===Ta&&J(mb)}if("sort"in S&&l.isString(S.sort)){({sort:e}=S);if(e in Oi)return Object.assign({},S,{sort:{encoding:e}});ba=e.substr(1);if("-"===e.charAt(0)&&ba in Oi)return Object.assign({},S,{sort:{encoding:ba,order:"descending"}})}if(S&&"header"in
S&&({header:e}=S,e)){var sa=e;ba=Object.assign({},sa);sa=sa.orient;ba=(delete ba.orient,ba);if(sa)return Object.assign({},S,{header:Object.assign({},ba,{labelOrient:e.labelOrient||sa,titleOrient:e.titleOrient||sa})})}return S}function le(a,c){return l.isBoolean(a)?{maxbins:aa(c)}:"binned"===a?{binned:!0}:a.maxbins||a.step?a:Object.assign({},a,{maxbins:aa(c)})}function mf(a,c){var e=a.type;if("geojson"===e&&"shape"!==c)return{compatible:!1,warning:`Channel ${c} should not be used with a geojson data.`};
switch(c){case "row":case "column":case "facet":return vd(a)?Qj:{compatible:!1,warning:`${c} encoding should be discrete (ordinal / nominal / binned).`};case "x":case "y":case "xOffset":case "yOffset":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return Qj;case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==e?{compatible:!1,warning:`Channel ${c} should be used with a quantitative field only, not ${a.type} field.`}:
Qj;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==e||a.sort?Qj:{compatible:!1,warning:`Channel ${c} should not be used with an unsorted discrete field.`};case "shape":case "strokeDash":if(e=!vd(a)){let g;e=!(Bd(a)&&Ri.has(null==(g=a.scale)?void 0:g.type))}return e?{compatible:!1,warning:`${c} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}:
Qj;case "order":return"nominal"!==a.type||"sort"in a?Qj:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function tf(a){var {formatType:c}=Cd(a),e;if(!(e="time"===c)){if(c=!c)c=a&&("temporal"===a.type||Oa(a)&&!!a.timeUnit);e=c}return e}function Eg(a,c){let {timeUnit:e,type:g,wrapTime:h,undefinedIfExprNotRequired:q}=c;var C=(c=e&&(null==(C=od(e))?void 0:C.unit))||"temporal"===g;let S;Ga(a)?S=a.expr:Ob(a)?S=a.signal:w(a)?(C=!0,S=pa(a)):(l.isString(a)||
l.isNumber(a))&&C&&(S=`datetime(${n(a)})`,nm[c]&&(l.isNumber(a)&&1E4>a||l.isString(a)&&isNaN(Date.parse(a)))&&(S=pa({[c]:a})));return S?h&&C?`time(${S})`:S:q?void 0:n(a)}function yf(a,c){const {type:e}=a;return c.map(g=>{var h=Oa(a)&&!Tb(a.timeUnit)?a.timeUnit:void 0;h=Eg(g,{timeUnit:h,type:e,undefinedIfExprNotRequired:!0});return void 0!==h?{signal:h}:g})}function Qf(a,c){return zb(a.bin)?!!Kg[c]&&["ordinal","nominal"].includes(a.type):(console.warn("Only call this method for binned field defs."),
!1)}function lg(a){return null==a?void 0:a.condition}function lf(a){return"mark"in a}function Ke(a,c){return(a=a&&a[c])?l.isArray(a)?Lb(a,e=>!!e.field):Oa(a)||Fa(a):!1}function Wf(a,c){return(a=a&&a[c])?l.isArray(a)?Lb(a,e=>!!e.field):Oa(a)||rb(a)||Sa(a):!1}function Ng(a,c){if(I(c)){const e=a[c];if((Oa(e)||rb(e))&&(Ne(e.type)||Oa(e)&&e.timeUnit))return c=E(c),Wf(a,c)}return!1}function Kf(a){return Lb(ki,c=>Ke(a,c)?(c=a[c],l.isArray(c)?Lb(c,e=>!!e.aggregate):(c=ke(c))&&!!c.aggregate):!1)}function Pf(a,
c){const e=[],g=[],h=[],q=[],C={};Og(a,(S,ba)=>{if(Oa(S)){var sa=Object.assign({},S),Ta=S.field;const ac=S.aggregate,Ec=S.bin,gc=S.timeUnit;sa=(delete sa.field,delete sa.aggregate,delete sa.bin,delete sa.timeUnit,sa);if(ac||gc||Ec){var mb;const Fc=null==(mb=Vd(S))?void 0:mb.title;mb=mc(S,{forAs:!0});sa=Object.assign({},Fc?[]:{title:fe(S,c,{allowDisabling:!0})},sa,{field:mb});if(ac){let Hc;Aa(ac)?(Hc="argmax",mb=mc({op:"argmax",field:ac.argmax},{forAs:!0}),sa.field=`${mb}.${Ta}`):ia(ac)?(Hc="argmin",
mb=mc({op:"argmin",field:ac.argmin},{forAs:!0}),sa.field=`${mb}.${Ta}`):"boxplot"!==ac&&"errorbar"!==ac&&"errorband"!==ac&&(Hc=ac);Hc&&(S={op:Hc,as:mb},Ta&&(S.field=Ta),q.push(S))}else e.push(mb),Lc(S)&&zb(Ec)?(g.push({bin:Ec,field:Ta,as:mb}),e.push(mc(S,{binSuffix:"end"})),Qf(S,ba)&&e.push(mc(S,{binSuffix:"range"})),I(ba)&&(C[`${ba}2`]={field:`${mb}_end`}),sa.bin="binned",y(ba)||(sa.type="quantitative")):gc&&!Tb(gc)&&(h.push({timeUnit:gc,field:Ta,as:mb}),(Ta=Lc(S)&&"temporal"!==S.type&&"time")&&
("text"===ba||"tooltip"===ba?sa.formatType=Ta:Hk[ba]?sa.legend=Object.assign({},{formatType:Ta},sa.legend):I(ba)&&(sa.axis=Object.assign({},{formatType:Ta},sa.axis))));C[ba]=sa}else e.push(Ta),C[ba]=a[ba]}else C[ba]=a[ba]});return{bins:g,timeUnits:h,aggregate:q,groupby:e,encoding:C}}function Xf(a,c,e){e=Ea(c)[e];return e&&("binned"!==e||(e=a["x2"===c?"x":"y"],Oa(e)&&Oa(a[c])&&kb(e.bin)))?!0:!1}function kh(a,c,e,g){const h={};for(var q of Yc(a))ak[q]||J(`${q}-encoding is dropped as ${q} is not a valid encoding channel.`);
for(let S of sl)if(a[S]){q=a[S];if(S in Di){a:{switch(S){case "xOffset":var C="x";break a;case "yOffset":C="y";break a}C=void 0}const ba=h[C];if(Oa(ba)&&rf(ba.type)&&Oa(q)&&!ba.timeUnit){J(`${C}Offset dropped because ${C} is continuous`);continue}}"angle"!==S||"arc"!==c||a.theta||(J("Arc marks uses theta channel rather than angle, replacing angle with theta."),S="theta");if(Xf(a,S,c)){if("size"===S&&"line"===c){let ba;if(null==(ba=ke(a[S]))?0:ba.aggregate){J("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.");
continue}}if("color"===S&&(e?"fill"in a:"stroke"in a))J(md("encoding",{fill:"fill"in a,stroke:"stroke"in a}));else if("detail"===S||"order"===S&&!l.isArray(q)&&!Wc(q)||"tooltip"===S&&l.isArray(q)){if(q){if("order"===S&&(C=a[S])&&C.sort&&!C.field){h[S]=C;continue}h[S]=l.array(q).reduce((ba,sa)=>{Oa(sa)?ba.push(ad(sa,S)):J(fd(sa,S));return ba},[])}}else{if("tooltip"===S&&null===q)h[S]=null;else if(!(Oa(q)||rb(q)||Wc(q)||ka(q)||Ob(q))){J(fd(q,S));continue}h[S]=ce(q,S,g)}}else J(Tc(S,c))}return h}function Yg(a,
c){const e={};for(const g of Yc(a)){const h=ce(a[g],g,c,{compositeMark:!0});e[g]=h}return e}function Zg(a){const c=[];for(const e of Yc(a))if(Ke(a,e)){const g=l.array(a[e]);for(const h of g)Oa(h)?c.push(h):Fa(h)&&c.push(h.condition)}return c}function Og(a,c,e){if(a)for(const g of Yc(a)){const h=a[g];if(l.isArray(h))for(const q of h)c.call(e,q,g);else c.call(e,h,g)}}function Pg(a,c,e,g){return a?Yc(a).reduce((h,q)=>{const C=a[q];return l.isArray(C)?C.reduce((S,ba)=>c.call(g,S,ba,q),h):c.call(g,h,C,
q)},e):e}function $g(a,c){return Yc(c).reduce((e,g)=>{switch(g){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "xOffset":case "yOffset":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return e;case "order":if("line"===a||"trail"===a)return e;case "detail":case "key":g=c[g];if(l.isArray(g)||Oa(g))for(var h of l.array(g))h.aggregate||
e.push(mc(h,{}));return e;case "size":if("trail"===a)return e;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(h=ke(c[g]))&&!h.aggregate&&e.push(mc(h,{})),e}},[])}function Lf(a,c,e){let g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;if("tooltip"in e)return{tooltip:e.tooltip};const h=a.map(C=>{let {fieldPrefix:S,titlePrefix:ba}=C;C=g?` of ${W(c)}`:"";return{field:S+c.field,type:c.type,title:Ob(ba)?
{signal:`${ba}"${escape(C)}"`}:ba+C}}),q=Zg(e).map(Nd);return{tooltip:[...h,...bb(q,Bb)]}}function W(a){const {title:c,field:e}=a;return U(c,e)}function La(a,c,e,g,h){const {scale:q,axis:C}=e;return S=>{let {partName:ba,mark:sa,positionPrefix:Ta,endPositionPrefix:mb,extraEncoding:ac={}}=S;S=W(e);return ob(a,ba,h,{mark:sa,encoding:Object.assign({},{[c]:Object.assign({},{field:`${Ta}_${e.field}`,type:e.type},void 0!==S?{title:S}:{},void 0!==q?{scale:q}:{},void 0!==C?{axis:C}:{})},l.isString(mb)?{[`${c}2`]:{field:`${mb}_${e.field}`}}:
{},g,ac)})}}function ob(a,c,e,g){const {clip:h,color:q,opacity:C}=a,S=a.type;return a[c]||void 0===a[c]&&e[c]?[Object.assign({},g,{mark:Object.assign({},e[c],h?{clip:h}:{},q?{color:q}:{},C?{opacity:C}:{},hd(g.mark)?g.mark:{type:g.mark},{style:`${S}-${String(c)}`},l.isBoolean(a[c])?{}:a[c])})]:[]}function Ac(a,c,e){({encoding:a}=a);c="vertical"===c?"y":"x";const g=a[`${c}2`],h=a[`${c}Error`],q=a[`${c}Error2`];return{continuousAxisChannelDef:Bc(a[c],e),continuousAxisChannelDef2:Bc(g,e),continuousAxisChannelDefError:Bc(h,
e),continuousAxisChannelDefError2:Bc(q,e),continuousAxis:c}}function Bc(a,c){if(null==a?0:a.aggregate){var e=Object.assign({},a);a=a.aggregate;e=(delete e.aggregate,e);a!==c&&J(`Continuous axis should not have customized aggregation function ${a}; ${c} already agregates the axis.`);return e}return a}function yd(a,c){const {mark:e,encoding:g}=a,{x:h,y:q}=g;if(hd(e)&&e.orient)return e.orient;if(oc(h)){if(oc(q)){a=Oa(h)&&h.aggregate;const C=Oa(q)&&q.aggregate;if(!a&&C===c)return"vertical";if(C||a!==
c){if(a===c&&C===c)throw Error("Both x and y cannot have aggregate");return tf(q)&&!tf(h)?"horizontal":"vertical"}}return"horizontal"}if(oc(q))return"vertical";throw Error(`Need a valid continuous axis for ${c}s`);}function Rd(a){return l.isNumber(a)?"tukey":a}function Id(a,c){var {config:e}=c,g=a=Object.assign({},a,{encoding:Yg(a.encoding,e)});c=Object.assign({},g);var h=g.mark;g=g.params;c=(delete c.mark,delete c.encoding,delete c.params,delete c.projection,c);h=hd(h)?h:{type:h};g&&J(Pb("boxplot"));
var q;g=null!=(q=h.extent)?q:e.boxplot.extent;var C=Wb("size",h,e),S=h.invalid;q=Rd(g);var ba=a;a=yd(ba,"boxplot");const {continuousAxisChannelDef:sa,continuousAxis:Ta}=Ac(ba,a,"boxplot");var mb=sa.field,ac=Rd(g),Ec=[...Zf(mb),{op:"median",field:mb,as:`mid_box_${mb}`},{op:"min",field:mb,as:("min-max"===ac?"lower_whisker_":"min_")+mb},{op:"max",field:mb,as:("min-max"===ac?"upper_whisker_":"max_")+mb}];mb="min-max"===ac||"tukey"===ac?[]:[{calculate:`datum["upper_box_${mb}"] - datum["lower_box_${mb}"]`,
as:`iqr_${mb}`},{calculate:`min(datum["upper_box_${mb}"] + datum["iqr_${mb}"] * ${g}, datum["max_${mb}"])`,as:`upper_whisker_${mb}`},{calculate:`max(datum["lower_box_${mb}"] - datum["iqr_${mb}"] * ${g}, datum["min_${mb}"])`,as:`lower_whisker_${mb}`}];ba=Object.assign({},ba.encoding);var gc;ac=(delete ba[Ta],ba);ba=Object.assign({},ac);ac=ac.tooltip;ba=(delete ba.tooltip,ba);if(ac){var Fc;if(l.isArray(ac)){for(var Hc of ac)Hc.aggregate?(gc||(gc=[]),gc.push(Hc)):(Fc||(Fc=[]),Fc.push(Hc));gc&&(ba.tooltip=
gc)}else ac.aggregate?ba.tooltip=ac:Fc=ac;l.isArray(Fc)&&1===Fc.length&&(Fc=Fc[0]);gc={customTooltipWithoutAggregatedField:Fc,filteredEncoding:ba}}else gc={filteredEncoding:ba};const {customTooltipWithoutAggregatedField:Jc,filteredEncoding:kd}=gc,{bins:jd,timeUnits:Ad,aggregate:de,groupby:cf,encoding:qf}=Pf(kd,e);gc=[...jd,...Ad,{aggregate:[...de,...Ec],groupby:cf},...mb];const {bins:ig,timeUnits:Ce,transform:De,continuousAxisChannelDef:Fe,continuousAxis:og,groupby:gj,aggregate:Gh,encodingWithoutContinuousAxis:Vh,
ticksOrient:Ej,boxOrient:jh,customTooltipWithoutAggregatedField:Zk}={bins:jd,timeUnits:Ad,transform:gc,groupby:cf,aggregate:de,continuousAxisChannelDef:sa,continuousAxis:Ta,encodingWithoutContinuousAxis:qf,ticksOrient:"vertical"===a?"horizontal":"vertical",boxOrient:a,customTooltipWithoutAggregatedField:Jc};Fc=Object.assign({},Vh);gc=Vh.color;Ec=Vh.size;Fc=(delete Fc.color,delete Fc.size,Fc);Hc=La(h,og,Fe,Fc,e.boxplot);a=La(h,og,Fe,Vh,e.boxplot);Ec=La(h,og,Fe,Object.assign({},Fc,Ec?{size:Ec}:{}),
e.boxplot);mb=Lf([{fieldPrefix:"min-max"===q?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===q?"lower_whisker_":"min_",titlePrefix:"Min"}],Fe,Vh);ba={type:"tick",color:"black",opacity:1,orient:Ej,invalid:S,aria:!1};ac="min-max"===q?mb:Lf([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],
Fe,Vh);Hc=[...Hc({partName:"rule",mark:{type:"rule",invalid:S,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:ac}),...Hc({partName:"rule",mark:{type:"rule",invalid:S,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:ac}),...Hc({partName:"ticks",mark:ba,positionPrefix:"lower_whisker",extraEncoding:ac}),...Hc({partName:"ticks",mark:ba,positionPrefix:"upper_whisker",extraEncoding:ac})];C=[...("tukey"!==q?Hc:[]),...a({partName:"box",
mark:Object.assign({},{type:"bar"},C?{size:C}:{},{orient:jh,invalid:S,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:mb}),...Ec({partName:"median",mark:Object.assign({},{type:"tick",invalid:S},l.isObject(e.boxplot.median)&&e.boxplot.median.color?{color:e.boxplot.median.color}:{},C?{size:C}:{},{orient:Ej,aria:!1}),positionPrefix:"mid_box",extraEncoding:mb})];if("min-max"===q){var hi;return Object.assign({},c,{transform:(null!=(hi=c.transform)?hi:
[]).concat(De),layer:C})}hi=`datum["lower_box_${Fe.field}"]`;q=`datum["upper_box_${Fe.field}"]`;S=`(${q} - ${hi})`;hi=`${hi} - ${g} * ${S}`;S=`${q} + ${g} * ${S}`;a=`datum["${Fe.field}"]`;g={joinaggregate:Zf(Fe.field),groupby:gj};q={transform:[{filter:`(${hi} <= ${a}) && (${a} <= ${S})`},{aggregate:[{op:"min",field:Fe.field,as:`lower_whisker_${Fe.field}`},{op:"max",field:Fe.field,as:`upper_whisker_${Fe.field}`},{op:"min",field:`lower_box_${Fe.field}`,as:`lower_box_${Fe.field}`},{op:"max",field:`upper_box_${Fe.field}`,
as:`upper_box_${Fe.field}`},...Gh],groupby:gj}],layer:Hc};Fc=Object.assign({},Fc);Fc=(delete Fc.tooltip,Fc);const {scale:mk,axis:Yk}=Fe;Hc=W(Fe);Ec=ec(Yk,["title"]);e=ob(h,"outliers",e.boxplot,{transform:[{filter:`(${a} < ${hi}) || (${a} > ${S})`}],mark:"point",encoding:Object.assign({},{[og]:Object.assign({},{field:Fe.field,type:Fe.type},void 0!==Hc?{title:Hc}:{},void 0!==mk?{scale:mk}:{},lb(Ec)?{}:{axis:Ec})},Fc,gc?{color:gc}:{},Zk?{tooltip:Zk}:{})})[0];h=[...ig,...Ce,g];e?e={transform:h,layer:[e,
q]}:(e=q,e.transform.unshift(...h));return Object.assign({},c,{layer:[e,{transform:De,layer:C}]})}function Zf(a){return[{op:"q1",field:a,as:`lower_box_${a}`},{op:"q3",field:a,as:`upper_box_${a}`}]}function nf(a,c){({config:c}=c);a=Object.assign({},a,{encoding:Yg(a.encoding,c)});const {transform:e,continuousAxisChannelDef:g,continuousAxis:h,encodingWithoutContinuousAxis:q,ticksOrient:C,markDef:S,outerSpec:ba,tooltipEncoding:sa}=sh(a,"errorbar",c);delete q.size;a=La(S,h,g,q,c.errorbar);c=S.thickness;
var Ta=S.size;Ta=Object.assign({},{type:"tick",orient:C,aria:!1},void 0!==c?{thickness:c}:{},void 0!==Ta?{size:Ta}:{});a=[...a({partName:"ticks",mark:Ta,positionPrefix:"lower",extraEncoding:sa}),...a({partName:"ticks",mark:Ta,positionPrefix:"upper",extraEncoding:sa}),...a({partName:"rule",mark:Object.assign({},{type:"rule",ariaRoleDescription:"errorbar"},void 0!==c?{size:c}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:sa})];return Object.assign({},ba,{transform:e},1<a.length?
{layer:a}:Object.assign({},a[0]))}function zg(a,c){var {encoding:e}=a;if(!(!tc(e.x)&&!tc(e.y)||tc(e.x2)||tc(e.y2)||tc(e.xError)||tc(e.xError2)||tc(e.yError)||tc(e.yError2)))return{orient:yd(a,c),inputType:"raw"};var g=tc(e.x2)||tc(e.y2);var h=tc(e.xError)||tc(e.xError2)||tc(e.yError)||tc(e.yError2);a=e.x;const q=e.y;if(g){if(h)throw Error(`${c} cannot be both type aggregated-upper-lower and aggregated-error`);g=e.x2;e=e.y2;if(tc(g)&&tc(e))throw Error(`${c} cannot have both x2 and y2`);if(tc(g)){if(oc(a))return{orient:"horizontal",
inputType:"aggregated-upper-lower"};throw Error(`Both x and x2 have to be quantitative in ${c}`);}if(tc(e)){if(oc(q))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error(`Both y and y2 have to be quantitative in ${c}`);}}else{g=e.xError;h=e.yError;const C=e.yError2;if(tc(e.xError2)&&!tc(g))throw Error(`${c} cannot have xError2 without xError`);if(tc(C)&&!tc(h))throw Error(`${c} cannot have yError2 without yError`);if(tc(g)&&tc(h))throw Error(`${c} cannot have both xError and yError with both are quantiative`);
if(tc(g)){if(oc(a))return{orient:"horizontal",inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(tc(h)){if(oc(q))return{orient:"vertical",inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");}function sh(a,c,e){var g=Object.assign({},a),h=a.mark,q=a.encoding,C=a.params;g=(delete g.mark,delete g.encoding,delete g.params,delete g.projection,g);h=hd(h)?h:{type:h};
C&&J(Pb(c));const {orient:S,inputType:ba}=zg(a,c),{continuousAxisChannelDef:sa,continuousAxisChannelDef2:Ta,continuousAxisChannelDefError:mb,continuousAxisChannelDefError2:ac,continuousAxis:Ec}=Ac(a,S,c);a=[];C=[];var gc=sa.field,Fc=!1;if("raw"===ba){var Hc=h.center?h.center:h.extent?"iqr"===h.extent?"median":"mean":e.errorbar.center;var Jc=h.extent?h.extent:"mean"===Hc?"stderr":"iqr";"median"===Hc!==("iqr"===Jc)&&J(`${Hc} is not usually used with ${Jc} for ${c}.`);"stderr"===Jc||"stdev"===Jc?(a=
[{op:Jc,field:gc,as:`extent_${gc}`},{op:Hc,field:gc,as:`center_${gc}`}],C=[{calculate:`datum["center_${gc}"] + datum["extent_${gc}"]`,as:`upper_${gc}`},{calculate:`datum["center_${gc}"] - datum["extent_${gc}"]`,as:`lower_${gc}`}],gc={fieldPrefix:"center_",titlePrefix:Ua(Hc)},Fc=Jc,Fc={fieldPrefix:"upper_",titlePrefix:`${Ua(Hc)} ${"+"} ${Fc}`},c=Jc,c=`${Ua(Hc)} ${"-"} ${c}`,Hc=[gc,Fc,{fieldPrefix:"lower_",titlePrefix:c}],Fc=!0):("ci"===Jc?(c="mean",Hc="ci0",Jc="ci1"):(c="median",Hc="q1",Jc="q3"),a=
[{op:Hc,field:gc,as:`lower_${gc}`},{op:Jc,field:gc,as:`upper_${gc}`},{op:c,field:gc,as:`center_${gc}`}],Hc=[{fieldPrefix:"upper_",titlePrefix:fe({field:gc,aggregate:Jc,type:"quantitative"},e,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:fe({field:gc,aggregate:Hc,type:"quantitative"},e,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:fe({field:gc,aggregate:c,type:"quantitative"},e,{allowDisabling:!1})}])}else{if(h.center||h.extent){c=h.center;var kd=h.extent;J(`${kd?"extent ":""}${kd&&
c?"and ":""}${c?"center ":""}${kd&&c?"are ":"is "}not needed when data are aggregated.`)}"aggregated-upper-lower"===ba?(Hc=[],C=[{calculate:`datum["${Ta.field}"]`,as:`upper_${gc}`},{calculate:`datum["${gc}"]`,as:`lower_${gc}`}]):"aggregated-error"===ba&&(Hc=[{fieldPrefix:"",titlePrefix:gc}],C=[{calculate:`datum["${gc}"] + datum["${mb.field}"]`,as:`upper_${gc}`}],ac?C.push({calculate:`datum["${gc}"] + datum["${ac.field}"]`,as:`lower_${gc}`}):C.push({calculate:`datum["${gc}"] - datum["${mb.field}"]`,
as:`lower_${gc}`}));for(Jc of C)Hc.push({fieldPrefix:Jc.as.substring(0,6),titlePrefix:wb(wb(Jc.calculate,'datum["',""),'"]',"")})}const {errorBarSpecificAggregate:jd,postAggregateCalculates:Ad,tooltipSummary:de,tooltipTitleWithFieldName:cf}={postAggregateCalculates:C,errorBarSpecificAggregate:a,tooltipSummary:Hc,tooltipTitleWithFieldName:Fc};q=Object.assign({},q);a="x"===Ec?"x2":"y2";C="x"===Ec?"xError":"yError";gc="x"===Ec?"xError2":"yError2";q=(delete q[Ec],delete q[a],delete q[C],delete q[gc],
q);const {bins:qf,timeUnits:ig,aggregate:Ce,groupby:De,encoding:Fe}=Pf(q,e);e=[...Ce,...jd];q="raw"!==ba?[]:De;a=Lf(de,sa,Fe,cf);let og;return{transform:[...(null!=(og=g.transform)?og:[]),...qf,...ig,...(0===e.length?[]:[{aggregate:e,groupby:q}]),...Ad],groupby:q,continuousAxisChannelDef:sa,continuousAxis:Ec,encodingWithoutContinuousAxis:Fe,ticksOrient:"vertical"===S?"horizontal":"vertical",markDef:h,outerSpec:g,tooltipEncoding:a}}function lh(a,c){({config:c}=c);a=Object.assign({},a,{encoding:Yg(a.encoding,
c)});const {transform:e,continuousAxisChannelDef:g,continuousAxis:h,encodingWithoutContinuousAxis:q,markDef:C,outerSpec:S,tooltipEncoding:ba}=sh(a,"errorband",c);c=La(C,h,g,q,c.errorband);a=void 0!==a.encoding.x&&void 0!==a.encoding.y;let sa={type:a?"area":"rect"},Ta={type:a?"line":"rule"};const mb=Object.assign({},C.interpolate?{interpolate:C.interpolate}:{},C.tension&&C.interpolate?{tension:C.tension}:{});a?(sa=Object.assign({},sa,mb,{ariaRoleDescription:"errorband"}),Ta=Object.assign({},Ta,mb,
{aria:!1})):C.interpolate?J(gd("interpolate")):C.tension&&J(gd("tension"));return Object.assign({},S,{transform:e,layer:[...c({partName:"band",mark:sa,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:ba}),...c({partName:"borders",mark:Ta,positionPrefix:"lower",extraEncoding:ba}),...c({partName:"borders",mark:Ta,positionPrefix:"upper",extraEncoding:ba})]})}function kg(a,c,e){c=new fl(a,c);Qm[a]={normalizer:c,parts:e}}function rg(a){return"legend"===a||!(null==a||!a.legend)}function rh(a){return rg(a)&&
l.isObject(a)}function Jd(a){return!(null==a||!a.select)}function Xd(a){const c=[];for(const h of a||[])if(!Jd(h)){var e=h,g=Object.assign({},e);a=e.expr;e=e.bind;g=(delete g.expr,delete g.bind,g);e&&a?(a=Object.assign({},g,{bind:e,init:a}),c.push(a)):(a=Object.assign({},g,a?{update:a}:{},e?{bind:e}:{}),c.push(a))}return c}function zf(a){let {step:c,offsetIsDiscrete:e}=a;if(e){let g;return null!=(g=c.for)?g:"offset"}return"position"}function we(a){return l.isObject(a)&&void 0!==a.step}function af(a){return a.view||
a.width||a.height}function Re(a,c,e){const g={},{spacing:h,columns:q}=e[c];void 0!==h&&(g.spacing=h);void 0!==q&&("facet"in a&&!ae(a.facet)||"concat"in a)&&(g.columns=q);"vconcat"in a&&(g.columns=1);for(const C of Xn)if(void 0!==a[C])if("spacing"===C){c=a[C];let S,ba;g[C]=l.isNumber(c)?c:{row:null!=(S=c.row)?S:h,column:null!=(ba=c.column)?ba:h}}else g[C]=a[C];return g}function uf(a,c){let e;return null!=(e=a[c])?e:a["width"===c?"continuousWidth":"continuousHeight"]}function fg(a,c){a=of(a,c);return we(a)?
a.step:20}function of(a,c){let e;const g=null!=(e=a[c])?e:a["width"===c?"discreteWidth":"discreteHeight"];return U(g,{step:a.step})}function tg(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:l.isObject(a)?Object.assign({},fn,a):fn}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},
"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function hg(a){var c=Yc(a||{});const e={};for(const g of c)c=
a[g],e[g]=lg(c)?Sc(c):ra(c);return e}function Mf(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=Object.assign({},a),e=a.color,g=a.font,h=a.fontSize;a=a.selection;c=(delete c.color,delete c.font,delete c.fontSize,delete c.selection,c);var q=l.mergeConfig,C=ve(Gn);g=g?{text:{font:g},style:{"guide-label":{font:g},"guide-title":{font:g},"group-title":{font:g},"group-subtitle":{font:g}}}:{};e=e?tg(e):{};h=h?{signals:[{name:"fontSize",value:l.isObject(h)?Object.assign({},Wl,h):Wl}],
text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{};h=q.call(l,{},C,g,e,h,c||{});a&&l.writeConfig(h,"selection",a,!0);a=ec(h,Hn);for(var S of["background","lineBreak","padding"])h[S]&&(a[S]=ra(h[S]));for(var ba of Qk)h[ba]&&(a[ba]=Qb(h[ba]));for(var sa of cn)h[sa]&&(a[sa]=
hg(h[sa]));for(const Ta of en)h[Ta]&&(a[Ta]=Qb(h[Ta]));h.legend&&(a.legend=Qb(h.legend));h.scale&&(a.scale=Qb(h.scale));if(h.style){S=h.style;ba=Yc(S);sa={};for(const Ta of ba)sa[Ta]=hg(S[Ta]);a.style=sa}h.title&&(a.title=Qb(h.title));h.view&&(a.view=Qb(h.view));return a}function Rg(a){a=ve(a);for(var c of In)delete a[c];if(a.axis)for(var e in a.axis)lg(a.axis[e])&&delete a.axis[e];if(a.legend)for(var g of Vn)delete a.legend[g];if(a.mark){for(var h of li)delete a.mark[h];a.mark.tooltip&&l.isObject(a.mark.tooltip)&&
delete a.mark.tooltip}a.params&&(a.signals=(a.signals||[]).concat(Xd(a.params)),delete a.params);for(var q of Yn){for(const mb of li)delete a[q][mb];if(c=Zn[q])for(const mb of c)delete a[q][mb];let Ta=h=void 0;c=a;e=q;g=void 0;var C=c[e];"view"===e&&(g="cell");C=Object.assign({},C,c.style[null!=(Ta=g)?Ta:e]);lb(C)||(c.style[null!=(h=g)?h:e]=C);delete c[e]}for(const Ta of Yc(Qm))delete a[Ta];q=a;const {titleMarkConfig:S,subtitleMarkConfig:ba,subtitle:sa}=nc(q.title);lb(S)||(q.style["group-title"]=
Object.assign({},q.style["group-title"],S));lb(ba)||(q.style["group-subtitle"]=Object.assign({},q.style["group-subtitle"],ba));lb(sa)?delete q.title:q.title=sa;for(const Ta in a)l.isObject(a[Ta])&&lb(a[Ta])&&delete a[Ta];return lb(a)?void 0:a}function Nf(a){return Oa(a)&&"quantitative"===tb(a)&&!a.bin}function Qh(a,c,e){let {orient:g,type:h}=e;e="x"===c?"y":"radius";const q="x"===c&&["bar","area"].includes(h);var C=a[c];a=a[e];if(Oa(C)&&Oa(a))if(Nf(C)&&Nf(a)){if(C.stack)return c;if(a.stack)return e;
C=Oa(C)&&!!C.aggregate;a=Oa(a)&&!!a.aggregate;if(C!==a)return C?c:e;if(q){if("vertical"===g)return e;if("horizontal"===g)return c}}else{if(Nf(C))return c;if(Nf(a))return e}else{if(Nf(C))return q&&"vertical"===g?void 0:c;if(Nf(a))return q&&"horizontal"===g?void 0:e}}function Ag(a){switch(a){case "x":return"y";case "y":return"x";case "theta":return"radius";case "radius":return"theta"}}function Fg(a,c){var e=hd(a)?a:{type:a};a=e.type;if(!Jn.has(a))return null;e=Qh(c,"x",e)||Qh(c,"theta",e);if(!e)return null;
const g=c[e];var h=Oa(g)?mc(g,{}):void 0,q=Ag(e);const C=[],S=new Set;if(c[q]){var ba=c[q];(ba=Oa(ba)?mc(ba,{}):void 0)&&ba!==h&&(C.push(q),S.add(ba))}q="x"===q?"xOffset":"yOffset";ba=c[q];(ba=Oa(ba)?mc(ba,{}):void 0)&&ba!==h&&(C.push(q),S.add(ba));h=jn.reduce((ac,Ec)=>{if("tooltip"!==Ec&&Ke(c,Ec)){var gc=c[Ec];for(const Fc of l.array(gc)){gc=ke(Fc);if(gc.aggregate)continue;const Hc=mc(gc,{});Hc&&S.has(Hc)||ac.push({channel:Ec,fieldDef:gc})}}return ac},[]);let sa;void 0!==g.stack?sa=l.isBoolean(g.stack)?
g.stack?"zero":null:g.stack:mn.has(a)&&(sa="zero");if(!(sa&&sa in $n)||Kf(c)&&0===h.length)return null;let Ta,mb;if((null==g?0:null==(Ta=g.scale)?0:Ta.type)&&(null==g?void 0:null==(mb=g.scale)?void 0:mb.type)!==qg.LINEAR)return(null==g?0:g.stack)&&J(`Cannot stack non-linear scale (${g.scale.type}).`),null;if(tc(c[A(e)]))return void 0!==g.stack&&J(`Cannot stack "${e}" if there is already "${e}2".`),null;Oa(g)&&g.aggregate&&!Qn.has(g.aggregate)&&J(`Stacking is applied even though the aggregate function is non-summative ("${g.aggregate}").`);
return{groupbyChannels:C,groupbyFields:S,fieldChannel:e,impute:null===g.impute?!1:cb(a),stackBy:h,offset:sa}}function ug(a,c,e){a=Qb(a);var g=Wb("orient",a,e);a.orient=Aj(a.type,c,g);void 0!==g&&g!==a.orient&&J(`Specified orient "${a.orient}" overridden with "${g}".`);if("bar"===a.type&&a.orient&&(g=Wb("cornerRadiusEnd",a,e),void 0!==g)){const q="horizontal"===a.orient&&c.x2||"vertical"===a.orient&&c.y2?["cornerRadius"]:Pk[a.orient];for(var h of q)a[h]=g;void 0!==a.cornerRadiusEnd&&delete a.cornerRadiusEnd}void 0===
Wb("opacity",a,e)&&(h=ub([Ok,yk,Fi,ek],a.type)&&!Kf(c)?.7:void 0,a.opacity=h);void 0===Wb("cursor",a,e)&&(c=c.href||a.href||Wb("href",a,e)?"pointer":a.cursor,a.cursor=c);return a}function Rh(a,c,e){({graticule:e}=e);if(e)return!1;c=ic("filled",a,c);a=a.type;return U(c,a!==Ok&&a!==rj&&a!==hl)}function Aj(a,c,e){switch(a){case Ok:case Fi:case ek:case um:case ln:case tm:return}const {x:g,y:h,x2:q,y2:C}=c;switch(a){case qj:if(Oa(g)&&(kb(g.bin)||Oa(h)&&h.aggregate&&!g.aggregate))break;if(Oa(h)&&(kb(h.bin)||
Oa(g)&&g.aggregate&&!h.aggregate))return"horizontal";if(C||q){if(e)return e;if(!q){if((Oa(g)&&"quantitative"===g.type&&!zb(g.bin)||sc(g))&&Oa(h)&&kb(h.bin))return"horizontal";break}if(!C){if((Oa(h)&&"quantitative"===h.type&&!zb(h.bin)||sc(h))&&Oa(g)&&kb(g.bin))break;return"horizontal"}}case hl:if(!(!q||Oa(g)&&kb(g.bin)||!C||Oa(h)&&kb(h.bin)))return;case dk:if(C){if(Oa(h)&&kb(h.bin))return"horizontal";break}else if(q)if(Oa(g)&&kb(g.bin))break;else return"horizontal";else if(a===hl)if(g&&!h)break;else if(h&&
!g)return"horizontal";case rj:case yk:c=kc(g);const S=kc(h);if(e)return e;if(c&&!S)return"tick"!==a?"horizontal":"vertical";if(!c&&S)return"tick"!==a?"vertical":"horizontal";if(!c||!S)if(a=Lc(g)&&"temporal"===g.type,e=Lc(h)&&"temporal"===h.type,!a||e){if(!a&&e)return"horizontal";return}}return"vertical"}function vg(a){let c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length?arguments[2]:void 0;if("transparent"===a.point)return{opacity:0};if(a.point)return l.isObject(a.point)?
a.point:{};if(void 0!==a.point)return null;if(c.point||e.shape)return l.isObject(c.point)?c.point:{}}function Ii(a){let c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(a.line)return!0===a.line?{}:a.line;if(void 0!==a.line)return null;if(c.line)return!0===c.line?{}:c.line}function qi(a,c){return c?ci(a,c):a}function Ji(a,c,e){const g=c[a];if(g&&!l.isString(g)&&"repeat"in g){if(g.repeat in e)return Object.assign({},c,{[a]:e[g.repeat]});J(`Unknown repeated value "${g.repeat}".`)}else return c}
function ri(a,c){a=Ji("field",a,c);if(void 0!==a){if(null===a)return null;"sort"in a&&qe(a.sort)&&(c=Ji("field",a.sort,c),a=Object.assign({},a,c?{sort:c}:{}));return a}}function Sh(a,c){if(Oa(a))return ri(a,c);c=Ji("datum",a,c);c===a||c.type||(c.type="nominal");return c}function $f(a,c){if(tc(a)){if(c=Sh(a,c))return c;if(ka(a))return{condition:a.condition}}else{if(Sa(a)){if(c=Sh(a.condition,c))return Object.assign({},a,{condition:c});a=Object.assign({},a);return delete a.condition,a}return a}}function ci(a,
c){const e={};for(const h in a)if(l.hasOwnProperty(a,h)){var g=a[h];l.isArray(g)?e[h]=g.map(q=>$f(q,c)).filter(q=>q):(g=$f(g,c),void 0!==g&&(e[h]=g))}return e}function Th(a){let {parentEncoding:c,encoding:e={},layer:g}=a;a={};if(c){var h=new Set([...Yc(c),...Yc(e)]);for(const q of h){h=e[q];const C=c[q];if(tc(h))h=Object.assign({},C,h),a[q]=h;else if(Sa(h))a[q]=Object.assign({},h,{condition:Object.assign({},C,h.condition)});else if(h||null===h)a[q]=h;else if(g||Wc(C)||Ob(C)||tc(C)||l.isArray(C))a[q]=
C}}else a=e;return!a||lb(a)?void 0:a}function th(a){const {parentProjection:c,projection:e}=a;if(c&&e){const {parentProjection:g,projection:h}={parentProjection:c,projection:e};a=`Layer's shared projection ${n(g)} is overridden by a child projection ${n(h)}.`;J(a)}return null!=e?e:c}function si(a){return a.map(c=>"filter"in c?{filter:$a(c.filter,Uf)}:c)}function Ki(a,c){var e=Object.assign({},a);const g=a.transform;e=(delete e.transform,e);return g?(a=g.map(h=>{if("filter"in h)return{filter:Uh(h,
c)};if("bin"in h&&l.isObject(h.bin))return Object.assign({},h,{bin:Fh(h.bin)});if("lookup"in h){var q=h.from,C=Object.assign({},q);q=q.selection;C=(delete C.selection,C);return q?Object.assign({},h,{from:Object.assign({},{param:q},C)}):h}return h}),Object.assign({},e,{transform:a})):a}function di(a,c){a=ve(a);Oa(a)&&l.isObject(a.bin)&&(a.bin=Fh(a.bin));var e,g;Bd(a)&&(null==(e=a.scale)?0:null==(g=e.domain)?0:g.selection)&&(g=a.scale.domain,e=Object.assign({},g),g=g.selection,e=(delete e.selection,
e),a.scale.domain=Object.assign({},e,g?{param:g}:{}));ka(a)&&(l.isArray(a.condition)?a.condition=a.condition.map(h=>{var q=Object.assign({},h);const C=h.param;q=(delete q.selection,delete q.param,delete q.test,q);return C?h:Object.assign({},q,{test:Uh(h,c)})}):(g=di(a.condition,c),e=Object.assign({},g),g=g.param,e=(delete e.selection,delete e.param,delete e.test,e),a.condition=g?a.condition:Object.assign({},e,{test:Uh(a.condition,c)})));return a}function Fh(a){var c=a.extent;if(null==c?0:c.selection){var e=
Object.assign({},c);c=c.selection;e=(delete e.selection,e);return Object.assign({},a,{extent:Object.assign({},e,{param:c})})}return a}function Uh(a,c){const e=g=>$a(g,h=>{var q;const C=null!=(q=c.emptySelections[h])?q:!0;q={param:h,empty:C};let S;null!=(S=c.selectionPredicates)[h]||(S[h]=[]);c.selectionPredicates[h].push(q);return q});return a.selection?e(a.selection):$a(a.test||a.filter,g=>g.selection?e(g.selection):g)}function Li(a,c){void 0===c&&(c=Mf(a.config));const e=Mi(a,c),{width:g,height:h}=
a;{let {width:q,height:C}={width:g,height:h,autosize:a.autosize};a=lf(e)||"layer"in e;const S={};a?"container"==q&&"container"==C?(S.type="fit",S.contains="padding"):"container"==q?(S.type="fit-x",S.contains="padding"):"container"==C&&(S.type="fit-y",S.contains="padding"):("container"==q&&(J(Ia("width")),q=void 0),"container"==C&&(J(Ia("height")),C=void 0));c=Object.assign({},{type:"pad"},S,c?uh(c.autosize):{},uh(e.autosize));"fit"!==c.type||a||(J('Autosize "fit" only works for single views and layered views.'),
c.type="pad");"container"==q&&"fit"!=c.type&&"fit-x"!=c.type&&J(Wa("width"));"container"==C&&"fit"!=c.type&&"fit-y"!=c.type&&J(Wa("height"));c=na(c,{type:"pad"})?void 0:c}return Object.assign({},e,c?{autosize:c}:{})}function Mi(a){const c={config:1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}};return nn.map(wm.map(tj.map(a,c),c),c)}function uh(a){return l.isString(a)?{type:a}:null!=a?a:{}}function Hh(a,c){const e={};for(const g of gk)a&&void 0!==a[g]&&(e[g]=ra(a[g]));c&&(e.params=a.params);
return e}function Hg(a){return{explicit:!0,value:a}}function Me(a){return{explicit:!1,value:a}}function vh(a){return(c,e,g,h)=>{const q=a(c.value,e.value);return 0<q?c:0>q?e:Mg(c,e,g,h)}}function Mg(a,c,e,g){if(a.explicit&&c.explicit){var h=a.value;c=c.value;e=`Conflicting ${g.toString()} property "${e.toString()}" (${n(h)} and ${n(c)}). Using ${n(h)}.`;J(e)}return a}function Af(a,c,e,g){let h=4<arguments.length&&void 0!==arguments[4]?arguments[4]:Mg;return void 0===a||void 0===a.value?c:a.explicit&&
!c.explicit?a:c.explicit&&!a.explicit?c:na(a.value,c.value)?a:h(a,c,e,g)}function cj(a){return"name"in a&&!("url"in a)&&!("values"in a)&&!mg(a)}function mg(a){return a&&("sequence"in a||"sphere"in a||"graticule"in a)}function Gg(a){a=Object.assign({},a);a=(delete a.signals,delete a.hasLegend,delete a.index,a);a.field=gb(a.field);return a}function wh(a){let c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:l.identity;if(l.isArray(a)){const g=
a.map(h=>wh(h,c,e));return c?`[${g.join(", ")}]`:g}return w(a)?c?e(pa(a)):e(Ya(a)):c?e(n(a)):a}function dj(a,c){a.component.selection&&Yc(a.component.selection).length&&(a=l.stringValue(a.getName("cell")),c.unshift({name:"facet",value:{},on:[{events:l.parseSelector("pointermove","scope"),update:`isTuple(facet) ? facet : group(${a}).datum`}]}));return za(c)}function Ih(a,c){var e=!1,g;for(const h of Jg(null!=(g=a.component.selection)?g:{})){const q=h.name;e=l.stringValue(q+"_store");0===c.filter(C=>
C.name===q).length&&(g="point"===h.type?", true, true)":")",c.push({name:h.name,update:`${"vlSelectionResolve"}(${e}, ${l.stringValue("global"===h.resolve?"union":h.resolve)}${g}`}));e=!0;for(const C of xk)C.defined(h)&&C.topLevelSignals&&(c=C.topLevelSignals(a,h,c))}e&&0===c.filter(h=>"unit"===h.name).length&&c.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]});return za(c)}function ei(a,c){c=[...c];const e=wg(a,{escape:!1});let g;for(const h of Jg(null!=
(g=a.component.selection)?g:{})){a={name:h.name+"_store"};h.project.hasSelectionId&&(a.transform=[{type:"collect",sort:{field:"_vgsid_"}}]);if(h.init){const q=h.project.items.map(Gg);a.values=h.project.hasSelectionId?h.init.map(C=>({unit:e,_vgsid_:wh(C,!1)[0]})):h.init.map(C=>({unit:e,fields:q,values:wh(C,!1)}))}c.filter(q=>q.name===h.name+"_store").length||c.push(a)}return c}function F(a,c){let e;for(const g of Jg(null!=(e=a.component.selection)?e:{}))for(const h of xk)h.defined(g)&&h.marks&&(c=
h.marks(a,g,c));return c}function Z(a,c){for(const e of a.children)gg(e)&&(c=F(e,c));return c}function za(a){return a.map(c=>{c.on&&!c.on.length&&delete c.on;return c})}function Qa(a){let {timeUnit:c,field:e,reverse:g}=a;const {unit:h,utc:q}=c;a=jc(h);const {part:C,step:S}=Zd(a,c.step);return`${q?"utcOffset":"timeOffset"}('${C}', datum['${e}'], ${g?-S:S})`}function Kb(a,c,e){let [g,h]=a;if(void 0!==c&&.5!==c){a=`datum['${g}']`;const q=`datum['${h}']`;return[{type:"formula",expr:Ib([Qa({timeUnit:e,
field:g,reverse:!0}),a],c+.5),as:`${g}_${"offsetted_rect_start"}`},{type:"formula",expr:Ib([a,q],c+.5),as:`${g}_${"offsetted_rect_end"}`}]}return[]}function Ib(a,c){let [e,g]=a;return`${1-c} * ${e} + ${c} * ${g}`}function bc(a,c){return`domain(${l.stringValue(a.scaleName(c))})`}function t(a){let c;return a.parent&&yi(a.parent)&&(null!=(c=!a.parent.parent)?c:t(a.parent.parent))}function L(a,c,e,g){var h=!a.hasProjection,q=e.channel;const C=e.signals.visual,S=l.stringValue(h?a.scaleName(q):a.projectionName());
var ba=ac=>`scale(${S}, ${ac})`;const sa=a.getSizeSignalRef("x"===q?"width":"height").signal,Ta=`${q}(unit)`,mb=c.events.reduce((ac,Ec)=>[...ac,{events:Ec.between[0],update:`[${Ta}, ${Ta}]`},{events:Ec,update:`[${C}[0], clamp(${Ta}, 0, ${sa})]`}],[]);if(h)return e=e.signals.data,h=hh.defined(c),a=(a=a.getScaleComponent(q))?a.get("type"):void 0,q=g?{init:wh(g,!0,ba)}:{value:[]},mb.push({events:{signal:c.name+"_scale_trigger"},update:Pd(a)?`[${ba(`${e}[0]`)}, ${ba(`${e}[1]`)}]`:"[0, 0]"}),h?[{name:e,
on:[]}]:[Object.assign({},{name:C},q,{on:mb}),Object.assign({},{name:e},g?{init:wh(g)}:{},{on:[{events:{signal:C},update:`${C}[0] === ${C}[1] ? null : invert(${S}, ${C})`}]})];ba="x"===q?0:1;c=c.name+"_init";return[Object.assign({},{name:C},g?{init:`[${c}[0][${ba}], ${c}[1][${ba}]]`}:{value:[]},{on:mb})]}function fa(a,c,e,g){var h=ka(c)&&c.condition;c=g(c);return h?(h=l.array(h).map(q=>{const C=g(q);if(q.param){const {param:S,empty:ba}=q;q=ok(a,{param:S,empty:ba});return Object.assign({},{test:q},
C)}q=Yf(a,q.test);return Object.assign({},{test:q},C)}),{[e]:[...h,...(void 0!==c?[c]:[])]}):void 0!==c?{[e]:c}:{}}function ta(a){let c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text";return fa(a,a.encoding[c],c,e=>db(e,a.config))}function db(a,c){let e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"datum";if(a){if(Wc(a))return Va(a.value);if(tc(a)){const {format:g,formatType:h}=Cd(a);return df({fieldOrDatumDef:a,format:g,formatType:h,expr:e,config:c})}}}function Rb(a){let c=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const {encoding:e,markDef:g,config:h,stack:q}=a,C=e.tooltip;if(l.isArray(C))return{tooltip:Dc({tooltip:C},q,h,c)};const S=c.reactiveGeom?"datum.datum":"datum";return fa(a,C,"tooltip",ba=>{const sa=db(ba,h,S);if(sa)return sa;if(null!==ba){ba=Wb("tooltip",g,h);!0===ba&&(ba={content:"encoding"});if(l.isString(ba))return{value:ba};if(l.isObject(ba))return Ob(ba)?ba:"encoding"===ba.content?Dc(e,q,h,c):{signal:S}}})}function hc(a,c,e){function g(sa,
Ta){var mb=T(Ta);sa=Lc(sa)?sa:Object.assign({},sa,{type:a[mb].type});mb=sa.title||zi(sa,q);mb=l.array(mb).join(", ").replaceAll(/"/g,'\\"');if(I(Ta)){const gc="x"===Ta?"x2":"y2";var ac=ke(a[gc]);if(kb(sa.bin)&&ac){var Ec=mc(sa,{expr:S});ac=mc(ac,{expr:S});const {format:Fc,formatType:Hc}=Cd(sa);Ec=kf(Ec,ac,Fc,Hc,q);C[gc]=!0}}if((I(Ta)||"theta"===Ta||"radius"===Ta)&&c&&c.fieldChannel===Ta&&"normalize"===c.offset){const {format:gc,formatType:Fc}=Cd(sa);Ec=df({fieldOrDatumDef:sa,format:gc,formatType:Fc,
expr:S,config:q,normalizeStack:!0}).signal}null!=Ec||(Ec=db(sa,q,S).signal);ba.push({channel:Ta,key:mb,value:Ec})}var {reactiveGeom:h}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const q=Object.assign({},e,e.tooltipFormat),C={},S=h?"datum.datum":"datum",ba=[];Og(a,(sa,Ta)=>{Oa(sa)?g(sa,Ta):Fa(sa)&&g(sa.condition,Ta)});h={};for(const sa of ba){const {channel:Ta,key:mb,value:ac}=sa;C[Ta]||h[mb]||(h[mb]=ac)}return h}function Dc(a,c,e){var {reactiveGeom:g}=3<arguments.length&&void 0!==arguments[3]?
arguments[3]:{};g=hc(a,c,e,{reactiveGeom:g});g=Ni(g).map(h=>{let [q,C]=h;return`"${q}": ${C}`});return 0<g.length?{signal:`{${g.join(", ")}}`}:void 0}function dc(a){const {encoding:c,markDef:e,config:g,stack:h}=a;var q=c.description;if(q)return fa(a,q,"description",C=>db(C,a.config));q=Wb("description",e,g);if(null!=q)return{description:Va(q)};if(!1===g.aria)return{};q=hc(c,h,g);if(!lb(q))return{description:{signal:Ni(q).map((C,S)=>{let [ba,sa]=C;return`"${0<S?"; ":""}${ba}: " + (${sa})`}).join(" + ")}}}
function Uc(a,c){let e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const {markDef:g,encoding:h,config:q}=c,{vgChannel:C}=e;let {defaultRef:S,defaultValue:ba}=e;void 0===S&&(null!=ba||(ba=Wb(a,g,q,{vgChannel:C,ignoreVgConfig:!0})),void 0!==ba&&(S=Va(ba)));return fa(c,h[a],null!=C?C:a,sa=>Ze({channel:a,channelDef:sa,markDef:g,config:q,scaleName:c.scaleName(a),scale:c.getScaleComponent(a),stack:null,defaultRef:S}))}function Qc(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
{filled:void 0};const {markDef:e,encoding:g,config:h}=a;var {type:q}=e,C;c=null!=(C=c.filled)?C:Wb("filled",e,h);C=ub(["bar","point","circle","square","geoshape"],q)?"transparent":void 0;var S,ba;q=null!=(ba=null!=(S=Wb(!0===c?"color":void 0,e,h,{vgChannel:"fill"}))?S:h.mark[!0===c&&"color"])?ba:C;var sa;S=null!=(sa=Wb(!1===c?"color":void 0,e,h,{vgChannel:"stroke"}))?sa:h.mark[!1===c&&"color"];sa=c?"fill":"stroke";ba=Object.assign({},q?{fill:Va(q)}:{},S?{stroke:Va(S)}:{});e.color&&(c?e.fill:e.stroke)&&
J(md("property",{fill:"fill"in e,stroke:"stroke"in e}));return Object.assign({},ba,Uc("color",a,{vgChannel:sa,defaultValue:c?q:S}),Uc("fill",a,{defaultValue:g.fill?q:void 0}),Uc("stroke",a,{defaultValue:g.stroke?S:void 0}))}function wd(a){const {encoding:c,mark:e}=a,g=c.order;return!cb(e)&&Wc(g)?fa(a,g,"zindex",h=>Va(h.value)):{}}function Qd(a){let {channel:c,markDef:e,encoding:g={},model:h,bandPosition:q}=a;a=`${c}Offset`;const C=e[a],S=g[a];return"xOffset"!==a&&"yOffset"!==a||!S?(a=e[a])?{offsetType:"visual",
offset:a}:{}:{offsetType:"encoding",offset:Ze({channel:a,channelDef:S,markDef:e,config:null==h?void 0:h.config,scaleName:h.scaleName(a),scale:h.getScaleComponent(a),stack:null,defaultRef:Va(C),bandPosition:q})}}function Yd(a,c,e){let {defaultPos:g,vgChannel:h}=e;const {encoding:q,markDef:C,config:S,stack:ba}=c;e=q[a];const sa=q[A(a)],Ta=c.scaleName(a),mb=c.getScaleComponent(a),{offset:ac,offsetType:Ec}=Qd({channel:a,markDef:C,encoding:q,model:c,bandPosition:.5}),gc=me({model:c,defaultPos:g,channel:a,
scaleName:Ta,scale:mb});if(!e&&I(a)&&(q.latitude||q.longitude))c={field:c.getName(a)};else a:{c={channel:a,channelDef:e,channel2Def:sa,markDef:C,config:S,scaleName:Ta,scale:mb,stack:ba,offset:ac,defaultRef:gc,bandPosition:"encoding"===Ec?0:void 0};const {channel:Fc,channelDef:Hc,scaleName:Jc,stack:kd,offset:jd,markDef:Ad}=c;if(tc(Hc)&&kd&&Fc===kd.fieldChannel){if(Oa(Hc)&&(c=Hc.bandPosition,void 0!==c||"text"!==Ad.type||"radius"!==Fc&&"theta"!==Fc||(c=.5),void 0!==c)){c=Md({scaleName:Jc,fieldOrDatumDef:Hc,
startSuffix:"start",bandPosition:c,offset:jd});break a}c=Td(Hc,Jc,{suffix:"end"},{offset:jd})}else c=ed(c)}return c?{[h||a]:c}:void 0}function me(a){let {model:c,defaultPos:e,channel:g,scaleName:h,scale:q}=a;const {markDef:C,config:S}=c;return()=>{var ba=T(g),sa=D(g);sa=Wb(g,C,S,{vgChannel:sa});if(void 0!==sa)return pd(g,sa);switch(e){case "zeroOrMin":case "zeroOrMax":if(h&&(sa=q.get("type"),!ub([qg.LOG,qg.TIME,qg.UTC],sa)&&q.domainDefinitelyIncludesZero()))return{scale:h,value:0};if("zeroOrMin"===
e)return"y"===ba?{field:{group:"height"}}:{value:0};switch(ba){case "radius":return{signal:`min(${c.width.signal},${c.height.signal})/2`};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return ba=c[P(g)],Object.assign({},ba,{mult:.5})}}}function Df(a,c,e){let g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"middle";if("radius"===a||"theta"===a)return D(a);var h="x"===a?"align":"baseline";const q=Wb(h,c,e);Ob(q)?(J(`The ${h} for range marks cannot be an expression`),
h=void 0):h=q;return"x"===a?Al[h||("top"===g?"left":"center")]:hk[h||g]}function jf(a,c,e){let {defaultPos:g,defaultPos2:h,range:q}=e;return q?bh(a,c,{defaultPos:g,defaultPos2:h}):Yd(a,c,{defaultPos:g})}function bh(a,c,e){let {defaultPos:g,defaultPos2:h}=e;const {markDef:q,config:C}=c;var S=A(a);e=P(a);{const {encoding:ac,mark:Ec,markDef:gc,stack:Fc,config:Hc}=c;var ba=T(S),sa=P(S);const Jc=D(S);var Ta=ac[ba],mb=c.scaleName(ba);const kd=c.getScaleComponent(ba);({offset:ba}=S in ac||S in gc?Qd({channel:S,
markDef:gc,encoding:ac,model:c}):Qd({channel:ba,markDef:gc,encoding:ac,model:c}));if(Ta||"x2"!==S&&"y2"!==S||!ac.latitude&&!ac.longitude){let {channel:jd,channelDef:Ad,channel2Def:de,markDef:cf,config:qf,scaleName:ig,scale:Ce,stack:De,offset:Fe,defaultRef:og}={channel:S,channelDef:Ta,channel2Def:ac[S],markDef:gc,config:Hc,scaleName:mb,scale:kd,stack:Fc,offset:ba,defaultRef:void 0};Ta=tc(Ad)&&De&&jd.charAt(0)===De.fieldChannel.charAt(0)?Td(Ad,ig,{suffix:"start"},{offset:Fe}):ed({channel:jd,channelDef:de,
scaleName:ig,scale:Ce,stack:De,markDef:cf,config:qf,offset:Fe,defaultRef:og});S=void 0!==Ta?{[Jc]:Ta}:he(S,gc)||he(S,{[S]:wc(S,gc,Hc.style),[sa]:wc(sa,gc,Hc.style)})||he(S,Hc[Ec])||he(S,Hc.mark)||{[Jc]:me({model:c,defaultPos:h,channel:S,scaleName:mb,scale:kd})()}}else sa=P(S),mb=c.markDef[sa],S=null!=mb?{[sa]:{value:mb}}:{[Jc]:{field:c.getName(S)}}}e=S[e]?Df(a,q,C):D(a);return Object.assign({},Yd(a,c,{defaultPos:g,vgChannel:e}),S)}function he(a,c){const e=P(a),g=D(a);if(void 0!==c[g])return{[g]:pd(a,
c[g])};if(void 0!==c[a])return{[g]:pd(a,c[a])};if(c[e])if(c=c[e],id(c))J(`Position range does not support relative band size for ${e}.`);else return{[e]:pd(a,c)}}function je(a,c){const {config:e,encoding:g,markDef:h}=a;var q=h.type,C=A(c),S=P(c),ba=g[c];C=g[C];var sa=a.getScaleComponent(c);sa=sa?sa.get("type"):void 0;const Ta=h.orient;var mb;let ac;const Ec=null!=(ac=null!=(mb=g[S])?mb:g.size)?ac:Wb("size",h,e,{vgChannel:S});S=B(c);q="bar"===q&&("x"===c?"vertical"===Ta:"horizontal"===Ta);if(!Oa(ba)||
!(zb(ba.bin)||kb(ba.bin)||ba.timeUnit&&!C)||Ec&&!id(Ec)||g[S]||Oe(sa)){if((tc(ba)&&Oe(sa)||q)&&!C){var gc;{const {markDef:de,encoding:cf,config:qf,stack:ig}=a;q=de.orient;var Fc=a.scaleName(c),Hc=a.getScaleComponent(c),Jc=P(c),kd=A(c);C=B(c);C=a.scaleName(C);S=a.getScaleComponent(E(c));mb="horizontal"===q&&"y"===c||"vertical"===q&&"x"===c;if(cf.size||de.size)mb?gc=Uc("size",a,{vgChannel:Jc,defaultRef:Va(de.size)}):J(`Cannot apply size to non-oriented mark "${de.type}".`);sa=!!gc;var jd;q=r({channel:c,
fieldDef:ba,markDef:de,config:qf,scaleType:null==(jd=Hc||S)?void 0:jd.get("type"),useVlSizeChannel:mb});gc=gc||{[Jc]:gi(Jc,C||Fc,S||Hc,qf,q,!!ba,de.type)};var Ad;jd="band"===(null==(Ad=Hc||S)?void 0:Ad.get("type"))&&id(q)&&!sa?"top":"middle";Ad=Df(c,de,qf,jd);jd="xc"===Ad||"yc"===Ad;const {offset:Ce,offsetType:De}=Qd({channel:c,markDef:de,encoding:cf,model:a,bandPosition:jd?.5:0});a=ed({channel:c,channelDef:ba,markDef:de,config:qf,scaleName:Fc,scale:Hc,stack:ig,offset:Ce,defaultRef:me({model:a,defaultPos:"mid",
channel:c,scaleName:Fc,scale:Hc}),bandPosition:jd?"encoding"===De?0:.5:Ob(q)?{signal:`(1-${q})/2`}:id(q)?(1-q.band)/2:0});Jc?gc=Object.assign({},{[Ad]:a},gc):(c=D(kd),gc=gc[Jc],gc=Ce?Object.assign({},gc,{offset:Ce}):gc,gc={[Ad]:a,[c]:l.isArray(a)?[a[0],Object.assign({},a[1],{offset:gc})]:Object.assign({},a,{offset:gc})})}return gc}return bh(c,a,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}a:{let {fieldDef:de,fieldDef2:cf,channel:qf,model:ig}={fieldDef:ba,fieldDef2:C,channel:c,model:a};const {config:Ce,
markDef:De,encoding:Fe}=ig;a=ig.getScaleComponent(qf);gc=ig.scaleName(qf);c=a?a.get("type"):void 0;a=a.get("reverse");c=r({channel:qf,fieldDef:de,markDef:De,config:Ce,scaleType:c});jd=null!=(Hc=null==(Fc=null==(kd=ig.component.axes[qf])?void 0:kd[0])?void 0:Fc.get("translate"))?Hc:.5;Fc=I(qf)?null!=(Jc=Wb("binSpacing",De,Ce))?Jc:0:0;Jc=A(qf);ba=D(qf);Ad=D(Jc);Hc=ic("minBandSize",De,Ce);({offset:q}=Qd({channel:qf,markDef:De,encoding:Fe,model:ig,bandPosition:0}));({offset:C}=Qd({channel:Jc,markDef:De,
encoding:Fe,model:ig,bandPosition:0}));let {scaleName:og,fieldDef:gj}={fieldDef:de,scaleName:gc};kd=mc(gj,{expr:"datum"});S=mc(gj,{expr:"datum",suffix:"end"});S=`abs(scale("${og}", ${S}) - scale("${og}", ${kd}))`;kd=Rf(qf,Fc,a,jd,q,Hc,S);a=Rf(Jc,Fc,a,jd,null!=C?C:q,Hc,S);c=Ob(c)?{signal:`(1-${c.signal})/2`}:id(c)?(1-c.band)/2:.5;jd=m({fieldDef:de,fieldDef2:cf,markDef:De,config:Ce});if(zb(de.bin)||de.timeUnit)jd=de.timeUnit&&.5!==jd,gc={[Ad]:ti({fieldDef:de,scaleName:gc,bandPosition:c,offset:a,useRectOffsetField:jd}),
[ba]:ti({fieldDef:de,scaleName:gc,bandPosition:Ob(c)?{signal:`1-${c.signal}`}:1-c,offset:kd,useRectOffsetField:jd})};else{if(kb(de.bin)){a=Td(de,gc,{},{offset:a});if(Oa(cf)){gc={[Ad]:a,[ba]:Td(cf,gc,{},{offset:kd})};break a}if(l.isObject(de.bin)&&de.bin.step){gc={[Ad]:a,[ba]:{signal:`scale("${gc}", ${mc(de,{expr:"datum"})} + ${de.bin.step})`,offset:kd}};break a}}J(z(Jc));gc=void 0}}return gc}function gi(a,c,e,g,h,q,C){if(id(h))if(e){const S=e.get("type");if("band"===S)return a=`bandwidth('${c}')`,
1!==h.band&&(a=`${h.band} * ${a}`),g=ic("minBandSize",{type:C},g),{signal:g?`max(${Jb(g)}, ${a})`:a};1!==h.band&&J(`Cannot use the relative band size with ${S} scale.`)}else return{mult:h.band,field:{group:a}};else{if(Ob(h))return h;if(h)return{value:h}}if(e&&(h=e.get("range"),Nb(h)&&l.isNumber(h.step)))return{value:h.step-2};if(!q){const {bandPaddingInner:S,barBandPaddingInner:ba,rectBandPaddingInner:sa}=g.scale;C=U(S,"bar"===C?ba:sa);if(Ob(C))return{signal:`(1 - (${C.signal})) * ${a}`};if(l.isNumber(C))return{signal:`${1-
C} * ${a}`}}return{value:fg(g.view,a)-2}}function Rf(a,c,e,g,h,q,C){if(a in yj)return 0;c=(a="x"===a||"y2"===a)?-c/2:c/2;if(Ob(e)||Ob(h)||Ob(g)||q){e=Jb(e);h=Jb(h);g=Jb(g);const S=Jb(q);q=q?`(${C} < ${S} ? ${a?"":"-"}0.5 * (${S} - (${C})) : ${c})`:c;return{signal:(g?`${g} + `:"")+(e?`(${e} ? -1 : 1) * `:"")+(h?`(${h} + ${q})`:q)}}h=h||0;return g+(e?-h-c:+h+c)}function ti(a){let {fieldDef:c,scaleName:e,bandPosition:g,offset:h,useRectOffsetField:q}=a;return Md(Object.assign({},{scaleName:e,fieldOrDatumDef:c,
bandPosition:g,offset:h},q?{startSuffix:"offsetted_rect_start",endSuffix:"offsetted_rect_end"}:{}))}function bf(a,c){const {fill:e,stroke:g}="include"===c.color?Qc(a):{};var h=Object,q=h.assign;c=ng(a.markDef,c);var C=ag(a,"fill",e),S=ag(a,"stroke",g),ba=Uc("opacity",a),sa=Uc("fillOpacity",a),Ta=Uc("strokeOpacity",a),mb=Uc("strokeWidth",a),ac=Uc("strokeDash",a),Ec=wd(a),gc=Rb(a),Fc=ta(a,"href");{const {markDef:jd,config:Ad}=a,de=Wb("aria",jd,Ad);if(!1===de)a={};else{var Hc=Object,Jc=Hc.assign;{const {mark:cf,
markDef:qf,config:ig}=a;if(!1===ig.aria)var kd={};else kd=Wb("ariaRoleDescription",qf,ig),kd=null!=kd?{ariaRoleDescription:{value:kd}}:cf in cl?{}:{ariaRoleDescription:{value:cf}}}a=Jc.call(Hc,{},de?{aria:de}:{},kd,dc(a))}}return q.call(h,{},c,C,S,ba,sa,Ta,mb,ac,Ec,gc,Fc,a)}function ag(a,c,e){const {config:g,mark:h,markDef:q}=a;return"hide"===Wb("invalid",q,g)&&e&&!cb(h)&&(a=Bf(a,{invalid:!0,channels:Pi}))?{[c]:[{test:a,value:null},...l.array(e)]}:e?{[c]:e}:{}}function ng(a,c){return Mm.reduce((e,
g)=>{zl.has(g)||void 0===a[g]||"ignore"===c[g]||(e[g]=Va(a[g]));return e},{})}function Bf(a,c){let {invalid:e=!1,channels:g}=c;c=g.reduce((h,q)=>{var C=a.getScaleComponent(q);C&&(C=C.get("type"),(q=a.vgField(q,{expr:"datum"}))&&Pd(C)&&(h[q]=!0));return h},{});c=Yc(c);if(0<c.length){const h=e?"||":"\x26\x26";return c.map(q=>Dd(q,e)).join(` ${h} `)}}function pf(a){const {config:c,markDef:e}=a;return Wb("invalid",e,c)&&(a=Ff(a,{channels:be}))?{defined:{signal:a}}:{}}function Ff(a,c){let {invalid:e=!1,
channels:g}=c;c=g.reduce((h,q)=>{var C=a.getScaleComponent(q);if(C){C=C.get("type");let S;(q=a.vgField(q,{expr:"datum",binSuffix:(null==(S=a.stack)?0:S.impute)?"mid":void 0}))&&Pd(C)&&(h[q]=!0)}return h},{});c=Yc(c);if(0<c.length){const h=e?"||":"\x26\x26";return c.map(q=>Dd(q,e)).join(` ${h} `)}}function Wh(a,c){if(void 0!==c)return{[a]:Va(c)}}function ch(a,c,e,g,h){var q=c.name,C=q+"_translate_anchor";q+="_translate_delta";var S=e.channel;const ba=hh.defined(c);c=h.filter(Ec=>Ec.name===e.signals[ba?
"data":"visual"])[0];g=a.getSizeSignalRef(g).signal;h=(a=a.getScaleComponent(S))&&a.get("type");var sa=a&&a.get("reverse");C=`${C}.extent_${S}`;S=`${ba?"x"===S?sa?"":"-":sa?"-":"":""}${q}.${S} / ${ba?`${g}`:`span(${C})`}`;sa=ba&&a?"log"===h?"panLog":"symlog"===h?"panSymlog":"pow"===h?"panPow":"panLinear":"panLinear";var Ta;let mb;const ac=ba?"pow"===h?`, ${null!=(Ta=a.get("exponent"))?Ta:1}`:"symlog"===h?`, ${null!=(mb=a.get("constant"))?mb:1}`:"":"";Ta=`${sa}(${C}, ${S}${ac})`;c.on.push({events:{signal:q},
update:ba?Ta:`clampRange(${Ta}, 0, ${g})`})}function nh(a,c,e,g,h){var q=c.name,C=e.channel;const S=hh.defined(c);c=h.filter(Ec=>Ec.name===e.signals[S?"data":"visual"])[0];g=a.getSizeSignalRef(g).signal;const ba=(h=a.getScaleComponent(C))&&h.get("type"),sa=S?bc(a,C):c.name;a=q+"_zoom_delta";q=`${q}${"_zoom_anchor"}.${C}`;C=S&&h?"log"===ba?"zoomLog":"symlog"===ba?"zoomSymlog":"pow"===ba?"zoomPow":"zoomLinear":"zoomLinear";var Ta;let mb;const ac=S?"pow"===ba?`, ${null!=(Ta=h.get("exponent"))?Ta:1}`:
"symlog"===ba?`, ${null!=(mb=h.get("constant"))?mb:1}`:"":"";Ta=`${C}(${sa}, ${q}, ${a}${ac})`;c.on.push({events:{signal:a},update:S?Ta:`clampRange(${Ta}, 0, ${g})`})}function wg(a){var {escape:c}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{escape:!0};c=c?l.stringValue(a.name):a.name;var e;for(e=a.parent;e&&!Xh(e);)e=e.parent;if(e){const {facet:g}=e;for(const h of Ch)g[h]&&(c+=` + '__facet_${h}_' + (facet[${l.stringValue(e.vgField(h))}])`)}return c}function Sf(a){let c;return Jg(null!=
(c=a.component.selection)?c:{}).reduce((e,g)=>e||g.project.hasSelectionId,!1)}function xh(a,c){!l.isString(c.select)&&c.select.on||delete a.events;!l.isString(c.select)&&c.select.clear||delete a.clear;!l.isString(c.select)&&c.select.toggle||delete a.toggle}function ui(a){const c=[];if("Identifier"===a.type)return[a.name];if("Literal"===a.type)return[a.value];"MemberExpression"===a.type&&(c.push(...ui(a.object)),c.push(...ui(a.property)));return c}function pk(a){return"MemberExpression"===a.object.type?
pk(a.object):"datum"===a.object.name}function fj(a){a=l.parseExpression(a);const c=new Set;a.visit(e=>{"MemberExpression"===e.type&&pk(e)&&c.add(ui(e).slice(1).join("."))});return c}function ok(a,c,e){var g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"datum",h=l.isString(c)?c:c.param,q=ua(h),C=l.stringValue(q+"_store");try{var S=a.getSelectionComponent(q,h)}catch(ba){return`!!${q}`}S.project.timeUnit&&(h=null!=e?e:a.component.data.raw,q=S.project.timeUnit.clone(),h.parent?q.insertAsParentOf(h):
h.parent=q);h=S.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(";S="global"===S.resolve?")":`, ${l.stringValue(S.resolve)})`;g=`${h}${C}, ${g}${S}`;C=`length(data(${C}))`;return!1===c.empty?`${C} && ${g}`:`!${C} || ${g}`}function Lg(a,c,e){const g=ua(c),h=e.encoding;let q=e.field,C;try{C=a.getSelectionComponent(g,c)}catch(S){return g}h||q?h&&!q&&(a=C.project.items.filter(S=>S.channel===h),!a.length||1<a.length?(q=C.project.items[0].field,J((a.length?"Multiple ":"No ")+`matching ${l.stringValue(h)} encoding found for selection ${l.stringValue(e.param)}. `+
`Using "field": ${l.stringValue(q)}.`)):q=a[0].field):(q=C.project.items[0].field,1<C.project.items.length&&J('A "field" or "encoding" must be specified when using a selection as a scale domain. '+`Using "field": ${l.stringValue(q)}.`));return`${C.name}[${l.stringValue(gb(q))}]`}function Yf(a,c,e){return ha(c,g=>l.isString(g)?g:(null==g?0:g.param)?ok(a,g,e):Ee(g))}function Xg(a,c){if(a)return l.isArray(a)&&!$b(a)?a.map(e=>zi(e,c)).join(", "):a}function Ij(a,c,e,g){null!=a.encode||(a.encode={});let h;
null!=(h=a.encode)[c]||(h[c]={});let q;null!=(q=a.encode[c]).update||(q.update={});a.encode[c].update[e]=g}function yh(a,c,e){var g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{header:!1},h=a.combine(),q=Object.assign({},h),C=h.disable;const S=h.orient,ba=h.scale;var sa=h.labelExpr;const Ta=h.title;h=h.zindex;q=(delete q.disable,delete q.orient,delete q.scale,delete q.labelExpr,delete q.title,delete q.zindex,q);if(!C){for(const ac in q){var mb=Dk[ac];C=q[ac];if(mb&&mb!==c&&"both"!==mb)delete q[ac];
else if(lg(C)){mb=C;C=Object.assign({},mb);mb=mb.condition;C=(delete C.condition,C);mb=l.array(mb);const Ec=pl[ac];if(Ec){const {vgProp:gc,part:Fc}=Ec;C=[...mb.map(Hc=>{var Jc=Object.assign({},Hc);Hc=Hc.test;Jc=(delete Jc.test,Jc);return Object.assign({},{test:Yf(null,Hc)},Jc)}),C];Ij(q,Fc,gc,C);delete q[ac]}else null===Ec&&(C={signal:mb.map(gc=>{var Fc=Object.assign({},gc);gc=gc.test;Fc=(delete Fc.test,Fc);return`${Yf(null,gc)} ? ${Ab(Fc)} : `}).join("")+Ab(C)},q[ac]=C)}else if(Ob(C)&&(mb=pl[ac])){const {vgProp:Ec,
part:gc}=mb;Ij(q,gc,Ec,C);delete q[ac]}ub(["labelAlign","labelBaseline"],ac)&&null===q[ac]&&delete q[ac]}if("grid"===c){if(q.grid)return q.encode&&({grid:sa}=q.encode,q.encode=Object.assign({},sa?{grid:sa}:{}),lb(q.encode)&&delete q.encode),Object.assign({},{scale:ba,orient:S},q,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:U(h,0)})}else if(g.header||!a.mainExtracted){if(void 0!==sa){g=sa;let ac,Ec;(null==(ac=q.encode)?0:null==(Ec=ac.labels)?0:Ec.update)&&Ob(q.encode.labels.update.text)&&
(g=wb(sa,"datum.label",q.encode.labels.update.text.signal));Ij(q,"labels","text",{signal:g})}null===q.labelAlign&&delete q.labelAlign;if(q.encode){for(const ac of ql)a.hasAxisPart(ac)||delete q.encode[ac];lb(q.encode)&&delete q.encode}sa=Xg(Ta,e);return Object.assign({},{scale:ba,orient:S,grid:!1},sa?{title:sa}:{},q,!1===e.aria?{aria:!1}:{},{zindex:U(h,0)})}}}function qk(a){const {axes:c}=a.component,e=[];for(const g of be)if(c[g])for(const h of c[g])if(!h.get("disable")&&!h.get("gridScale")){const q=
"x"===g?"height":"width",C=a.getSizeSignalRef(q).signal;q!==C&&e.push({name:q,update:C})}return e}function Zh(a,c){const {x:e=[],y:g=[]}=a;return[...e.map(h=>yh(h,"grid",c)),...g.map(h=>yh(h,"grid",c)),...e.map(h=>yh(h,"main",c)),...g.map(h=>yh(h,"main",c))].filter(h=>h)}function Ti(a,c,e,g){return Object.assign.apply(null,[{},...a.map(h=>{if("axisOrient"===h){h="x"===e?"bottom":"left";const q=c["x"===e?"axisBottom":"axisLeft"]||{},C=c["x"===e?"axisTop":"axisRight"]||{},S=new Set([...Yc(q),...Yc(C)]),
ba={};for(const sa of S.values())ba[sa]={signal:`${g.signal} === "${h}" ? ${Jb(q[sa])} : ${Jb(C[sa])}`};return ba}return c[h]})])}function sk(a,c,e,g){var h="band"===c?["axisDiscrete","axisBand"]:"point"===c?["axisDiscrete","axisPoint"]:Ei.has(c)?["axisQuantitative"]:"time"===c||"utc"===c?["axisTemporal"]:[];const q="x"===a?"axisX":"axisY";c=Ob(e)?"axisOrient":`axis${Ua(e)}`;h=[...h,...h.map(C=>q+C.substr(4))];c=["axis",c,q];return{vlOnlyAxisConfig:Ti(h,g,a,e),vgAxisConfig:Ti(c,g,a,e),axisConfigStyle:Yh([...c,
...h],g)}}function Yh(a,c){const e=[{}];for(const g of a){let h;if(a=null==(h=c[g])?void 0:h.style){a=l.array(a);for(const q of a)e.push(c.style[q])}}return Object.assign.apply(null,e)}function hj(a,c,e){let g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const h=Zc(a,e,c);if(void 0!==h)return{configFrom:"style",configValue:h};for(const q of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){let C;if(void 0!==(null==(C=g[q])?void 0:C[a]))return{configFrom:q,configValue:g[q][a]}}return{}}
function $k(a,c,e,g,h){const q=null==c?void 0:c.labelAngle;if(void 0!==q)return Ob(q)?q:Ca(q);({configValue:c}=hj("labelAngle",g,null==c?void 0:c.style,h));if(void 0!==c)return Ca(c);if("x"===e&&ub(["nominal","ordinal"],a.type)&&(!Oa(a)||!a.timeUnit))return 270}function Kj(a){return`(((${a.signal} % 360) + 360) % 360)`}function Cj(a,c,e,g){if(void 0!==a)return"x"===e?Ob(a)?(g=Kj(a),c=Ob(c)?`(${c.signal} === "top")`:"top"===c,{signal:`(45 < ${g} && ${g} < 135) || (225 < ${g} && ${g} < 315) ? "middle" :`+
`(${g} <= 45 || 315 <= ${g}) === ${c} ? "bottom" : "top"`}):45<a&&135>a||225<a&&315>a?"middle":Ob(c)?{signal:`${c.signal} ${45>=a||315<=a?"\x3d\x3d\x3d":"!\x3d\x3d"} "top" ? "bottom" : "top"`}:(45>=a||315<=a)===("top"===c)?"bottom":"top":Ob(a)?(a=Kj(a),c=Ob(c)?`(${c.signal} === "left")`:"left"===c,{signal:`${a} <= 45 || 315 <= ${a} || (135 <= ${a} && ${a} <= 225) ? ${g?'"middle"':"null"} : (45 <= ${a} && ${a} <= 135) === ${c} ? "top" : "bottom"`}):45>=a||315<=a||135<=a&&225>=a?g?"middle":null:Ob(c)?
{signal:`${c.signal} ${45<=a&&135>=a?"\x3d\x3d\x3d":"!\x3d\x3d"} "left" ? "top" : "bottom"`}:(45<=a&&135>=a)===("left"===c)?"top":"bottom"}function Jj(a,c,e){if(void 0!==a){var g=(e="x"===e)?0:90,h=e?"bottom":"left";return Ob(a)?(a=Kj(a),c=Ob(c)?`(${c.signal} === "${h}")`:c===h,{signal:`(${g?`(${a} + 90)`:a} % 180 === 0) ? ${e?null:'"center"'} :`+`(${g} < ${a} && ${a} < ${180+g}) === ${c} ? "left" : "right"`}):0===(a+g)%180?e?null:"center":Ob(c)?{signal:`${`${c.signal} ${g<a&&a<180+g?"\x3d\x3d\x3d":
"!\x3d\x3d"} "${h}"`} ? "left" : "right"`}:(g<a&&a<180+g)===(c===h)?"left":"right"}}function Xk(a,c){var e="x"===c?"x2":"y2";c=a.fieldDef(c);a=a.fieldDef(e);e=c?c.title:void 0;a=a?a.title:void 0;if(e&&a)return Ma(e,a);if(e)return e;if(a)return a;if(void 0!==e)return e;if(void 0!==a)return a}function vi(a,c,e){return mc(a,Object.assign({},{prefix:c,suffix:"sort_index"},null!=e?e:{}))}function ij(a,c){return ub(["top","bottom"],c)?"column":ub(["left","right"],c)?"row":"row"===a?"row":"column"}function zh(a,
c,e,g){return U((c||{})[a],("row"===g?e.headerRow:"column"===g?e.headerColumn:e.headerFacet)[a],e.header[a])}function wi(a,c,e,g){const h={};for(const q of a)a=zh(q,c||{},e,g),void 0!==a&&(h[q]=a);return h}function tk(a,c){switch(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"middle"){case "start":return{align:"left"};case "end":return{align:"right"}}const e=Jj(c,"row"===a?"left":"top","row"===a?"y":"x");return e?{align:e}:{}}function rk(a,c){return(a=Cj(a,"row"===c?"left":"top","row"===
c?"y":"x",!0))?{baseline:a}:{}}function jj(a,c,e){const {format:g,formatType:h,labelAngle:q,labelAnchor:C,labelOrient:S,labelExpr:ba}=wi("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),a.header,e,c),sa=df({fieldOrDatumDef:a,format:g,formatType:h,expr:"parent",config:e}).signal,Ta=ij(c,S);return Object.assign({},{text:{signal:ba?wb(wb(ba,"datum.label",sa),"datum.value",mc(a,{expr:"parent"})):sa}},"row"===c?{orient:"left"}:{},{style:"guide-label",frame:"group"},rk(q,Ta),
tk(Ta,q,C),uk(e,a,c,Wn,dn))}function uk(a,c,e,g,h){const q={};for(const C of g){if(!h[C])continue;let S;g=zh(C,null==(S=c)?void 0:S.header,a,e);void 0!==g&&(q[h[C]]=g)}return q}function Nj(a){return[...kj(a,"width"),...kj(a,"height"),...kj(a,"childWidth"),...kj(a,"childHeight")]}function kj(a,c){var e="width"===c?"x":"y",g=a.component.layoutSize.get(c);if(!g||"merged"===g)return[];c=a.getSizeSignalRef(c).signal;if("step"===g){if(g=a.getScaleComponent(e)){var h=g.get("type");const q=g.get("range");
if(Oe(h)&&Nb(q))return h=a.scaleName(e),Xh(a.parent)&&"independent"===a.parent.component.resolve.scale[e]?[xi(h,q)]:[xi(h,q),{name:c,update:Mj(h,g,`domain('${h}').length`)}]}throw Error("layout size is step although width/height is not step.");}return"container"==g?(e=(g=c.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",a=uf(a.config.view,g?"width":"height"),a=`isFinite(${e}) ? ${e} : ${a}`,[{name:c,init:a,on:[{update:a,events:"window:resize"}]}]):[{name:c,value:g}]}function xi(a,c){a=
`${a}_step`;return Ob(c.step)?{name:a,update:c.step.signal}:{name:a,value:c.step}}function Mj(a,c,e){const g=c.get("type"),h=c.get("padding"),q=U(c.get("paddingOuter"),h);c=c.get("paddingInner");return`bandspace(${e}, ${Jb("band"===g?void 0!==c?c:h:1)}, ${Jb(q)}) * ${a}_step`}function vk(a){return"childWidth"===a?"width":"childHeight"===a?"height":a}function wf(a,c){return Yc(a).reduce((e,g)=>Object.assign({},e,fa(c,a[g],g,h=>Va(h.value))),{})}function Dj(a,c){if(Xh(c))return"theta"===a?"independent":
"shared";if(yi(c))return"shared";if(Ol(c))return I(a)||"theta"===a||"radius"===a?"independent":"shared";throw Error("invalid model type for resolve");}function p(a,c){const e=a.scale[c],g=I(c)?"axis":"legend";return"independent"===e?("shared"===a[g][c]&&J(`Setting the scale to be independent for "${c}" means we also have to set the guide (axis or legend) to be independent.`),"independent"):a[g][c]||"shared"}function H(a){return la(a,(c,e)=>Math.max(c,e.value))}function O(a){return la(a,(c,e)=>U(c,
e.value))}function la(a,c){const e=null==a?void 0:a.condition;if(e&&(l.isArray(e)||Wc(e)))return l.array(a.condition).reduce(c,a.value);if(Wc(a))return a.value}function ab(a,c,e){a=c.get("selections");if(null!=a&&a.length){var g=l.stringValue(e.field);return a.map(h=>`(!length(data(${l.stringValue(ua(h)+"_store")})) || (${h}[${g}] && indexof(${h}[${g}], datum.value) >= 0))`).join(" || ")}}function eb(a,c,e,g){return{signal:`clamp(${a.getSizeSignalRef(c).signal}, ${e}, ${g})`}}function sb(a){if(gg(a)){var {encoding:c}=
a,e={};for(Hc of["color",...vm]){var g=Ge(c[Hc]);if(g&&a.getScaleComponent(Hc)&&("shape"!==Hc||!Oa(g)||"geojson"!==g.type)){a:{var h=void 0,q=void 0,C=void 0,S=void 0,ba=void 0,sa,Ta=sa=void 0,mb=void 0;g=a;var ac=Hc;let Jc=g.legend(ac);const {markDef:kd,encoding:jd,config:Ad}=g;var Ec=Ad.legend;b:{var gc=g;var Fc=ac;S=gc.scaleName(Fc);if("trail"===gc.mark){if("color"===Fc){gc={stroke:S};break b}if("size"===Fc){gc={strokeWidth:S};break b}}gc="color"===Fc?gc.markDef.filled?{fill:S}:{stroke:S}:{[Fc]:S}}gc=
new Bh({},gc);Fc=null==(mb=g.fieldDef(ac))?void 0:mb.field;for(const Ce of Jg(null!=(Ta=g.component.selection)?Ta:{})){let De;if((Ta=null!=(De=Ce.project.hasField[Fc])?De:Ce.project.hasChannel[ac])&&Ul.defined(Ce)){let Fe;mb=null!=(Fe=gc.get("selections"))?Fe:[];mb.push(Ce.name);gc.set("selections",mb,!1);Ta.hasLegend=!0}}Ta=void 0!==Jc?!Jc:Ec.disable;gc.set("disable",Ta,void 0!==Jc);if(Ta){g=gc;break a}Jc=Jc||{};mb=g.getScaleComponent(ac).get("type");Ta=Ge(jd[ac]);S=Oa(Ta)?null==(sa=od(Ta.timeUnit))?
void 0:sa.unit:void 0;Fc=Jc.orient||Ad.legend.orient||"right";sa={legend:Jc,channel:ac,timeUnit:S,scaleType:mb};({legend:S}=sa);S=S.type;b:{let {channel:Ce,timeUnit:De,scaleType:Fe}=sa;if(M(Ce)){if(ub(["quarter","month","day"],De)){sa="symbol";break b}if(gh.has(Fe)){sa="gradient";break b}}sa="symbol"}sa=U(S,sa);let {legendConfig:de,legendType:cf,orient:qf,legend:ig}={legend:Jc,legendType:sa,orient:Fc,legendConfig:Ec};if(null!=(S=null!=(ba=ig.direction)?ba:de[cf?"gradientDirection":"symbolDirection"]))ba=
S;else b:{switch(qf){case "top":case "bottom":ba="horizontal";break b;case "left":case "right":case "none":case void 0:break;default:ba="gradient"===cf?"horizontal":void 0;break b}ba=void 0}Ec={legend:Jc,channel:ac,model:g,markDef:kd,encoding:jd,fieldOrDatumDef:Ta,legendConfig:Ec,config:Ad,scaleType:mb,orient:Fc,legendType:sa,direction:ba};for(const Ce of Cl)if(!("gradient"===sa&&Ce.startsWith("symbol")||"symbol"===sa&&Ce.startsWith("gradient"))&&(ba=Ce in Tk?Tk[Ce](Ec):Jc[Ce],void 0!==ba)){b:{mb=
S=void 0;Fc=g.fieldDef(ac);switch(Ce){case "disable":Fc=void 0!==Jc;break b;case "values":Fc=!(null==(mb=Jc)||!mb.values);break b;case "title":if("title"===Ce&&ba===(null==(S=Fc)?void 0:S.title)){Fc=!0;break b}}Fc=ba===(Jc||{})[Ce]}((mb=Fc)||void 0===Ad.legend[Ce])&&gc.set(Ce,ba,mb)}Ec=null!=(q=null==(C=Jc)?void 0:C.encoding)?q:{};q=gc.get("selections");C={};ac={fieldOrDatumDef:Ta,model:g,channel:ac,legendCmpt:gc,legendType:sa};for(const Ce of"labels legend title symbols gradient entries".split(" ")){let De;
ba=wf(null!=(De=Ec[Ce])?De:{},g);ba=Ce in Vi?Vi[Ce](ba,ac):ba;if(void 0!==ba&&!lb(ba)){let Fe,og;C[Ce]=Object.assign({},(null==(Fe=q)?0:Fe.length)&&Oa(Ta)?{name:`${ua(Ta.field)}_legend_${Ce}`}:{},(null==(og=q)?0:og.length)?{interactive:!!q}:{},{update:ba})}}lb(C)||gc.set("encode",C,!(null==(h=Jc)||!h.encoding));g=gc}e[Hc]=g}}var Hc=e}else{const {legends:Jc,resolve:kd}=a.component;for(c of a.children){sb(c);for(e of Yc(c.component.legends))kd.legend[e]=p(a.component.resolve,e),"shared"===kd.legend[e]&&
(Jc[e]=Mb(Jc[e],c.component.legends[e]),Jc[e]||(kd.legend[e]="independent",delete Jc[e]))}for(g of Yc(Jc))for(h of a.children)h.component.legends[g]&&"shared"===kd.legend[g]&&delete h.component.legends[g];Hc=Jc}return a.component.legends=Hc}function Mb(a,c){if(!a)return c.clone();var e=a.getWithExplicit("orient");const g=c.getWithExplicit("orient");if(!e.explicit||!g.explicit||e.value===g.value){var h=!1;for(const q of Cl)e=Af(a.getWithExplicit(q),c.getWithExplicit(q),q,"legend",(C,S)=>{switch(q){case "symbolType":return C=
"circle"===S.value?S:C,C;case "title":return ib(C,S);case "type":return h=!0,Me("symbol")}return Mg(C,S,q,"legend")}),a.setWithExplicit(q,e);if(h){let q,C;(null==(q=a.implicit)?0:null==(C=q.encode)?0:C.gradient)&&xa(a.implicit,["encode","gradient"]);let S,ba;(null==(S=a.explicit)?0:null==(ba=S.encode)?0:ba.gradient)&&xa(a.explicit,["encode","gradient"])}return a}}function qc(a){const c=a.component.legends,e={};for(const h of Yc(c)){var g=a.getScaleComponent(h);g=n(g.get("domains"));if(e[g])for(const q of e[g])Mb(q,
c[h])||e[g].push(c[h]);else e[g]=[c[h].clone()]}return Jg(e).flat().map(h=>{{var q=a.config,C=h.combine();h=Object.assign({},C);const ac=C.disable;C=C.labelExpr;h=(delete h.disable,delete h.labelExpr,delete h.selections,h);if(ac)var S=void 0;else{!1===q.aria&&void 0==h.aria&&(h.aria=!1);var ba;if(null==(ba=h.encode)?0:ba.symbols){q=h.encode.symbols.update;!q.fill||"transparent"===q.fill.value||q.stroke||h.stroke||(q.stroke={value:"transparent"});for(var sa of vm)h[sa]&&delete q[sa]}h.title||delete h.title;
if(void 0!==C){sa=C;var Ta,mb;(null==(Ta=h.encode)?0:null==(mb=Ta.labels)?0:mb.update)&&Ob(h.encode.labels.update.text)&&(sa=wb(C,"datum.label",h.encode.labels.update.text.signal));Ta=h;mb={signal:sa};null!=Ta.encode||(Ta.encode={});null!=(S=Ta.encode).labels||(S.labels={});let Ec;null!=(Ec=Ta.encode.labels).update||(Ec.update={});Ta.encode.labels.update.text=mb}S=h}}return S}).filter(h=>void 0!==h)}function Vc(a){return a.children.reduce((c,e)=>c.concat(e.assembleProjections()),bd(a))}function bd(a){var c=
a.component.projection;if(!c||c.merged)return[];const e=c.combine(),{name:g}=e;if(c.data){const h={signal:`[${c.size.map(q=>q.signal).join(", ")}]`};c=c.data.reduce((q,C)=>{C=Ob(C)?C.signal:`data('${a.lookupDataSource(C)}')`;q.includes(C)||q.push(C);return q},[]);if(0>=c.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:g,size:h,fit:{signal:1<c.length?`[${c.join(", ")}]`:c[0]}},e)]}return[Object.assign({},{name:g},{translate:{signal:"[width / 2, height / 2]"}},
e)]}function xc(a){var c=a.component;if(gg(a))if(a.hasProjection){var e=Qb(a.specifiedProjection);var g=!(e&&(null!=e.scale||null!=e.translate));const q=g?[a.getSizeSignalRef("width"),a.getSizeSignalRef("height")]:void 0;if(g){g=[];const {encoding:S}=a;for(h of[["longitude","latitude"],["longitude2","latitude2"]])(Ge(S[h[0]])||Ge(S[h[1]]))&&g.push({signal:a.getName(`geojson_${g.length}`)});a.channelHasField("shape")&&"geojson"===a.typedFieldDef("shape").type&&g.push({signal:a.getName(`geojson_${g.length}`)});
0===g.length&&g.push(a.requestDataName(Of.Main));var h=g}else h=void 0;let C;a=new Wi(a.projectionName(!0),Object.assign({},null!=(C=Qb(a.config.projection))?C:{},null!=e?e:{}),q,h);a.get("type")||a.set("type","equalEarth",!1);e=a}else e=void 0;else e=Ld(a);c.projection=e}function td(a,c){const e=Yb(Gj,g=>!l.hasOwnProperty(a.explicit,g)&&!l.hasOwnProperty(c.explicit,g)||l.hasOwnProperty(a.explicit,g)&&l.hasOwnProperty(c.explicit,g)&&na(a.get(g),c.get(g))?!0:!1);if(na(a.size,c.size)){if(e)return a;
if(na(a.explicit,{}))return c;if(na(c.explicit,{}))return a}return null}function Ld(a){if(0!==a.children.length){var c;for(var e of a.children)xc(e);e=Yb(a.children,g=>{if(g=g.component.projection){if(c)return(g=td(c,g))&&(c=g),!!g;c=g}return!0});if(c&&e){e=a.projectionName(!0);const g=new Wi(e,c.specifiedProjection,c.size,ve(c.data));for(const h of a.children)if(a=h.component.projection)a.isFit&&g.data.push(...h.component.projection.data),h.renameProjection(a.get("name"),e),a.merged=!0;return g}}}
function te(a,c,e){let g;e=null!=(g=le(e,void 0))?g:{};c=`${fb(e)}_${c}`;return a.getName(`${c}_bins`)}function Hd(a,c,e){let g;g="as"in a?l.isString(a.as)?[a.as,`${a.as}_end`]:[a.as[0],a.as[1]]:[mc(a,{forAs:!0}),mc(a,{binSuffix:"end",forAs:!0})];c=Object.assign({},le(c,void 0));var h=a.field;h=`${fb(c)}_${h}`;var q={signal:e.getName(`${h}_bins`),extentSignal:e.getName(`${h}_extent`)};const {signal:C,extentSignal:S}=q;if(Vb(c.extent)){var ba=c.extent;ba=Lg(e,ba.param,ba);delete c.extent}a=Object.assign({},
{bin:c,field:a.field,as:[g]},C?{signal:C}:{},S?{extentSignal:S}:{},ba?{span:ba}:{});return{key:h,binComponent:a}}function Ye(a){return a.startsWith("'")&&a.endsWith("'")||a.startsWith('"')&&a.endsWith('"')?a.slice(1,-1):a}function cg(a,c){a=Xa(a);if("number"===c)return`toNumber(${a})`;if("boolean"===c)return`toBoolean(${a})`;if("string"===c)return`toString(${a})`;if("date"===c)return`toDate(${a})`;if("flatten"===c)return a;if(c.startsWith("date:"))return c=Ye(c.slice(5,c.length)),`timeParse(${a},'${c}')`;
if(c.startsWith("utc:"))return c=Ye(c.slice(4,c.length)),`utcParse(${a},'${c}')`;J(`Unrecognized parse "${c}".`);return null}function ee(a){const c={};ja(a.filter,e=>{if(He(e)){let g=null;if(Kd(e))g=ra(e.equal);else if(Te(e))g=ra(e.lte);else if($d(e))g=ra(e.lt);else if(We(e))g=ra(e.gt);else if(Le(e))g=ra(e.gte);else if(Ve(e))g=e.range[0];else if(Ie(e)){let h;g=(null!=(h=e.oneOf)?h:e["in"])[0]}g&&(w(g)?c[e.field]="date":l.isNumber(g)?c[e.field]="number":l.isString(g)&&(c[e.field]="string"));e.timeUnit&&
(c[e.field]="date")}});return c}function pg(a){function c(g){if(tf(g))e[g.field]="date";else{var h;if(h="quantitative"===g.type)h=g.aggregate,h=l.isString(h)&&ub(["min","max"],h);h?e[g.field]="number":1<Na(g.field)?g.field in e||(e[g.field]="flatten"):Bd(g)&&qe(g.sort)&&1<Na(g.sort.field)&&(g.sort.field in e||(e[g.sort.field]="flatten"))}}const e={};(gg(a)||Xh(a))&&a.forEachFieldDef((g,h)=>{Lc(g)?c(g):(h=T(h),h=a.fieldDef(h),c(Object.assign({},g,{type:h.type})))});if(gg(a)){const {mark:g,markDef:h,
encoding:q}=a;if(cb(g)&&!a.encoding.order){const C=q["horizontal"===h.orient?"y":"x"];!Oa(C)||"quantitative"!==C.type||C.field in e||(e[C.field]="number")}}return e}function Ig(a){return a instanceof Vg||a instanceof $h||a instanceof Dh}function bg(a){return a.stack.stackBy.reduce((c,e)=>{(e=mc(e.fieldDef))&&c.push(e);return c},[])}function ue(a){return l.isArray(a)&&a.every(c=>l.isString(c))&&1<a.length}function Gf(a){function c(e){if(!(e instanceof mi)){const g=e.clone();if(g instanceof Sg){const h=
"scale_"+g.getSource();g.setSource(h);a.model.component.data.outputNodes[h]=g}else(g instanceof ph||g instanceof qh||g instanceof Zj||g instanceof Mh)&&g.addDimensions(a.fields);for(const h of e.children.flatMap(c))h.parent=g;return[g]}return e.children.flatMap(c)}return c}function Lh(a){if(a instanceof mi)if(1!==a.numChildren()||a.children[0]instanceof Sg){var c=a.model.component.data.main;Gd(c);const e=Gf(a);a=a.children.map(e).flat();for(const g of a)g.parent=c}else c=a.children[0],(c instanceof
ph||c instanceof qh||c instanceof Zj||c instanceof Mh)&&c.addDimensions(a.fields),c.swapWithParent(),Lh(a);else a.children.map(Lh)}function Gd(a){if(a instanceof Sg&&a.type===Of.Main&&1===a.numChildren()){const c=a.children[0];c instanceof mi||(c.swapWithParent(),Gd(a))}}function rd(a){for(const c of a){for(const e of c.children)if(e.parent!==c)return!1;if(!rd(c.children))return!1}return!0}function Ed(a,c){let e=!1;for(const g of c)e=a.optimize(g)||e;return e}function ud(a,c,e){let g=a.sources,h=
!1;h=Ed(new Xi,g)||h;h=Ed(new El(c),g)||h;g=g.filter(q=>0<q.numChildren());h=Ed(new sn,g)||h;g=g.filter(q=>0<q.numChildren());e||(h=Ed(new oi,g)||h,h=Ed(new jk(c),g)||h,h=Ed(new Gl,g)||h,h=Ed(new rn,g)||h,h=Ed(new yg,g)||h,h=Ed(new tn,g)||h,h=Ed(new ai,g)||h,h=Ed(new Hl,g)||h);a.sources=g;return h}function ff(a){const c=a.component.scales;for(const sa of Yc(c)){var e=a,g=sa,h=e.getScaleComponent(g).get("type"),{encoding:q}=e;var C=e.scaleDomain(g);var S=e.typedFieldDef(g),ba=e.config.scale;if("unaggregated"===
C){const {valid:Ta,reason:mb}=ul(S,h);Ta||(J(mb),C=void 0)}else void 0===C&&ba.useUnaggregatedDomain&&({valid:S}=ul(S,h),S&&(C="unaggregated"));C!==e.scaleDomain(g)&&(e.specifiedScales[g]=Object.assign({},e.specifiedScales[g],{domain:C}));e="x"===g&&Ge(q.x2)?Ge(q.x)?Af(Bg(h,C,e,"x"),Bg(h,C,e,"x2"),"domain","scale",ik):Bg(h,C,e,"x2"):"y"===g&&Ge(q.y2)?Ge(q.y)?Af(Bg(h,C,e,"y"),Bg(h,C,e,"y2"),"domain","scale",ik):Bg(h,C,e,"y2"):Bg(h,C,e,g);c[sa].setWithExplicit("domains",e);C=g=void 0;h=a.component.scales[sa];
S=a.specifiedScales[sa].domain;q=null==(C=a.fieldDef(sa))?void 0:C.bin;C=(null==S?void 0:S.param)&&S;q=l.isObject(q)&&Vb(q.extent)&&q.extent;(C||q)&&h.set("selectionExtent",null!=(g=C)?g:q,!0);if(a.component.data.isFaceted){for(g=a;!Xh(g)&&g.parent;)g=g.parent;if("shared"===g.component.resolve.scale[sa])for(const Ta of e.value)rc(Ta)&&(Ta.data="scale_"+Ta.data.replace("scale_",""))}}}function ye(a){for(var c of a.children){var e=c;gg(e)?ff(e):ye(e)}e=a.component.scales;for(const h of Yc(e)){let q;
c=null;for(const C of a.children){var g=C.component.scales[h];g&&(q=void 0===q?g.getWithExplicit("domains"):Af(q,g.getWithExplicit("domains"),"domains","scale",ik),g=g.get("selectionExtent"),c&&g&&c.param!==g.param&&J("The same selection must be used to override scale domains in a layered view."),c=g)}e[h].setWithExplicit("domains",q);c&&e[h].set("selectionExtent",c,!0)}}function Ef(a,c,e){return a.map(g=>({signal:`{data: ${Eg(g,{timeUnit:e,type:c})}}`}))}function Se(a,c,e){let g;e=null==(g=od(e))?
void 0:g.unit;return"temporal"===c||e?Ef(a,c,e):[a]}function Bg(a,c,e,g){const {encoding:h,markDef:q,mark:C,config:S,stack:ba}=e;var sa=Ge(h[g]),{type:Ta}=sa;const mb=sa.timeUnit;if(null==c?0:c.unionWith)return g=Bg(a,void 0,e,g),sa=Se(c.unionWith,Ta,mb),Hg([...sa,...g.value]);if(Ob(c))return Hg([c]);if(c&&"unaggregated"!==c&&(null==c||!c.param))return Hg(Se(c,Ta,mb));if(ba&&g===ba.fieldChannel){if("normalize"===ba.offset)return Me([[0,1]]);sa=e.requestDataName(Of.Main);return Me([{data:sa,field:e.vgField(g,
{suffix:"start"})},{data:sa,field:e.vgField(g,{suffix:"end"})}])}const ac=Kg[g]&&Oa(sa)?lm(e,g,a):void 0;if(rb(sa))return g=Se([sa.datum],Ta,mb),Me(g);if("unaggregated"===c)return g=e.requestDataName(Of.Main),{field:sa}=sa,Me([{data:g,field:mc({field:sa,aggregate:"min"})},{data:g,field:mc({field:sa,aggregate:"max"})}]);if(zb(sa.bin)){if(Oe(a))return"bin-ordinal"===a?Me([]):Me([{data:lc(ac)?e.requestDataName(Of.Main):e.requestDataName(Of.Raw),field:e.vgField(g,Qf(sa,g)?{binSuffix:"range"}:{}),sort:!0!==
ac&&l.isObject(ac)?ac:{field:e.vgField(g,{}),op:"min"}}]);({bin:c}=sa);if(zb(c)){const Ec=te(e,sa.field,c);return Me([new eg(()=>{const gc=e.getSignalName(Ec);return`[${gc}.start, ${gc}.stop]`})])}return Me([{data:e.requestDataName(Of.Main),field:e.vgField(g,{})}])}return sa.timeUnit&&ub(["time","utc"],a)&&(Ta=h[A(g)],K(sa,Ta,q,S))?(c=e.requestDataName(Of.Main),sa=m({fieldDef:sa,fieldDef2:Ta,markDef:q,config:S}),sa=fc(C)&&.5!==sa&&I(g),Me([{data:c,field:e.vgField(g,sa?{suffix:"offsetted_rect_start"}:
{})},{data:c,field:e.vgField(g,{suffix:sa?"offsetted_rect_end":"end"})}])):ac?Me([{data:lc(ac)?e.requestDataName(Of.Main):e.requestDataName(Of.Raw),field:e.vgField(g),sort:ac}]):Me([{data:e.requestDataName(Of.Main),field:e.vgField(g)}])}function mh(a,c){const {op:e,field:g,order:h}=a;return Object.assign({},{op:null!=e?e:c?"sum":"min"},g?{field:gb(g)}:{},h?{order:h}:{})}function lm(a,c,e){if(Oe(e)){var g=a.fieldDef(c);e=g.sort;if(Je(e))return{op:"min",field:vi(g,c),order:"ascending"};({stack:g}=a);
var h=g?new Set([...g.groupbyFields,...g.stackBy.map(q=>q.fieldDef.field)]):void 0;if(qe(e))return a=g&&!h.has(e.field),mh(e,a);if(null!=e&&e.encoding){const {encoding:q,order:C}=e;a=a.fieldDef(q);const {aggregate:S,field:ba}=a;c=g&&!h.has(ba);if(ia(S)||Aa(S))return mh({field:mc(a),order:C},c);if(Pa(S)||!S)return mh({op:S,field:ba,order:C},c)}else{if("descending"===e)return{op:"min",field:a.vgField(c),order:"descending"};if(ub(["ascending",void 0],e))return!0}}}function ul(a,c){const {aggregate:e,
type:g}=a;return e?l.isString(e)&&!Nm.has(e)?{valid:!1,reason:`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}:"quantitative"===g&&"log"===c?{valid:!1,reason:`Unaggregated domain is currently unsupported for log scale (${n(a)}).`}:{valid:!0}:{valid:!1,reason:`Using unaggregated domain with raw field has no effect (${n(a)}).`}}function ik(a,c,e,g){if(a.explicit&&c.explicit){var h=c.value;e=`Conflicting ${g.toString()} property "${e.toString()}" (${n(a.value)} and ${n(h)}). Using the union of the two domains.`;
J(e)}return{explicit:a.explicit,value:[...a.value,...c.value]}}function En(a){var c=bb(a.map(h=>rc(h)?(h=Object.assign({},h),delete h.sort,h):h),Bb),e=bb(a.map(h=>{if(rc(h))return h=h.sort,void 0===h||lc(h)||("op"in h&&"count"===h.op&&delete h.field,"ascending"===h.order&&delete h.order),h}).filter(h=>void 0!==h),Bb);if(0!==c.length){if(1===c.length){c=a[0];if(rc(c)&&0<e.length){var g=e[0];1<e.length?(J("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),g=
e.filter(h=>l.isObject(h)&&"op"in h&&"min"!==h.op),g=e.every(h=>l.isObject(h)&&"op"in h)&&1===g.length?g[0]:!0):l.isObject(g)&&"field"in g&&c.field===g.field&&(g=g.order?{order:g.order}:!0);return Object.assign({},c,{sort:g})}return c}e=bb(e.map(h=>{if(lc(h)||!("op"in h)||l.isString(h.op)&&h.op in Bn)return h;J(`Dropping sort property ${n(h)} as unioned domains only support boolean or op "count", "min", and "max".`);return!0}),Bb);1===e.length?g=e[0]:1<e.length&&(J("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),
g=!0);e=bb(a.map(h=>rc(h)?h.data:null),h=>h);return 1===e.length&&null!==e[0]?Object.assign({},{data:e[0],fields:c.map(h=>h.field)},g?{sort:g}:{}):Object.assign({},{fields:c},g?{sort:g}:{})}}function Xl(a){if(rc(a)&&l.isString(a.field))return a.field;var c=l.isArray(a)?!1:"fields"in a&&!("data"in a);if(c){let e;for(const g of a.fields)if(rc(g)&&l.isString(g.field))if(!e)e=g.field;else if(e!==g.field)return J("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),
e;J("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");return e}c=l.isArray(a)?!1:"fields"in a&&"data"in a;if(c)return J("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),
a=a.fields[0],l.isString(a)?a:void 0}function nk(a,c){c=a.component.scales[c].get("domains").map(e=>{rc(e)&&(e.data=a.lookupDataSource(e.data));return e});return En(c)}function Vk(a){return yi(a)||Ol(a)?a.children.reduce((c,e)=>c.concat(Vk(e)),Dm(a)):Dm(a)}function Dm(a){return Yc(a.component.scales).reduce((c,e)=>{var g=a.component.scales[e];if(g.merged)return c;var h=g.combine(),q=Object.assign({},h);const C=h.name,S=h.type;var ba=h.selectionExtent;const sa=h.reverse;q=(delete q.name,delete q.type,
delete q.selectionExtent,delete q.domains,delete q.range,delete q.reverse,q);h=h.range;I(e)?Nb(h)&&(h={step:{signal:`${C}_step`}}):l.isObject(h)&&rc(h)&&(h=Object.assign({},h,{data:a.lookupDataSource(h.data)}));e=nk(a,e);ba?(ba=Lg(a,ba.param,ba),g={signal:Pd(g.get("type"))&&l.isArray(e)&&e[0]>e[1]?`isValid(${ba}) && reverse(${ba})`:ba}):g=null;c.push(Object.assign({},{name:C,type:S},e?{domain:e}:{},g?{domainRaw:g}:{},{range:h},void 0!==sa?{reverse:sa}:{},q));return c},[])}function Em(a,c){var e=a.fieldDef(c);
if(null==e?0:e.bin){const {bin:g,field:h}=e;e=P(c);const q=a.getName(e);if(l.isObject(g)&&g.binned&&void 0!==g.step)return new eg(()=>{var C=a.scaleName(c);C=`(domain("${C}")[1] - domain("${C}")[0]) / ${g.step}`;return`${a.getSignalName(q)} / (${C})`});if(zb(g)){const C=te(a,h,g);return new eg(()=>{var S=a.getSignalName(C);S=`(${S}.stop - ${S}.start) / ${S}.step`;return`${a.getSignalName(q)} / (${S})`})}}}function Il(a,c){const e=c.specifiedScales[a];var {size:g}=c,h=c.getScaleComponent(a).get("type");
for(var q of Fm)if(void 0!==e[q]){const ba=dg(h,q),sa=gf(a,q);if(ba)if(sa)J(sa);else switch(q){case "range":h=e.range;if(l.isArray(h)){if(I(a))return Hg(h.map(Ta=>{if("width"===Ta||"height"===Ta){Ta=c.getName(Ta);const mb=c.getSignalName.bind(c);return eg.fromName(mb,Ta)}return Ta}))}else if(l.isObject(h))return Hg({data:c.requestDataName(Of.Main),field:h.field,sort:{op:"min",field:c.vgField(a)}});return Hg(h);case "scheme":return Hg(xn(e[q]))}else J(nd(h,q,a))}q="x"===a||"xOffset"===a?"width":"height";
g=g[q];if(we(g))if(I(a))if(Oe(h)){if(g=Kl(g,c,a))return Hg({step:g})}else J(dd(q));else if(a in Di&&"band"===c.getScaleComponent("xOffset"===a?"x":"y").get("type")&&(g=Hj(g,h)))return Hg(g);const {rangeMin:C,rangeMax:S}=e;a=pm(a,c);return(void 0!==C||void 0!==S)&&dg(h,"rangeMin")&&l.isArray(a)&&2===a.length?Hg([null!=C?C:a[0],null!=S?S:a[1]]):Me(a)}function xn(a){return!l.isString(a)&&a.name?Object.assign({},{scheme:a.name},ec(a,["name"])):{scheme:a}}function Eh(a,c,e){let {center:g}=3<arguments.length&&
void 0!==arguments[3]?arguments[3]:{};var h=P(a);h=c.getName(h);const q=c.getSignalName.bind(c);return"y"===a&&Pd(e)?g?[eg.fromName(C=>`${q(C)}/2`,h),eg.fromName(C=>`-${q(C)}/2`,h)]:[eg.fromName(q,h),0]:g?[eg.fromName(C=>`-${q(C)}/2`,h),eg.fromName(C=>`${q(C)}/2`,h)]:[0,eg.fromName(q,h)]}function pm(a,c){const {size:e,config:g,mark:h,encoding:q}=c;var {type:C}=Ge(q[a]);const S=c.getScaleComponent(a).get("type"),{domain:ba,domainMid:sa}=c.specifiedScales[a];switch(a){case "x":case "y":return ub(["point",
"band"],S)&&(C=Yl(a,e,g.view),we(C))?{step:Kl(C,c,a)}:Eh(a,c,S);case "xOffset":case "yOffset":return Wk(a,c,S);case "size":C=c.component.scales[a].get("zero");C=Sj(h,C,g);const Ta=Vm(h,e,c,g);return Ri.has(S)?Rj(C,Ta,Cm(S,g,ba,a)):[C,Ta];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,new eg(()=>{const mb=c.getSignalName("width"),ac=c.getSignalName("height");return`min(${mb},${ac})/2`})];case "strokeWidth":return[g.scale.minStrokeWidth,g.scale.maxStrokeWidth];case "strokeDash":return[[1,
0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===S?"nominal"===C?"category":"ordinal":void 0!==sa?"diverging":"rect"===h||"geoshape"===h?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[g.scale.minOpacity,g.scale.maxOpacity]}}function Kl(a,c,e){var {encoding:g}=c,h=c.getScaleComponent(e);e=E(e);const q=g[e];if("offset"===zf({step:a,offsetIsDiscrete:tc(q)&&Ne(q.type)})&&Wf(g,e)){g=c.getScaleComponent(e);
c=`domain('${c.scaleName(e)}').length`;if("band"===g.get("type")){var C;let sa;e=null!=(sa=null!=(C=g.get("paddingInner"))?C:g.get("padding"))?sa:0;var S;let Ta;C=null!=(Ta=null!=(S=g.get("paddingOuter"))?S:g.get("padding"))?Ta:0;c=`bandspace(${c}, ${e}, ${C})`}var ba;S=null!=(ba=h.get("paddingInner"))?ba:h.get("padding");a=a.step;h=c;ba=S;ba=Ob(ba)?ba.signal:l.stringValue(ba);return{signal:`${a} * ${h} / (1-${ba})`}}return a.step}function Hj(a,c){if("offset"===zf({step:a,offsetIsDiscrete:Oe(c)}))return{step:a.step}}
function Wk(a,c,e){var g="xOffset"===a?"x":"y",h=c.getScaleComponent(g);if(!h)return Eh(g,c,e,{center:!0});h=h.get("type");const q=c.scaleName(g),{markDef:C,config:S}=c;if("band"===h)return c=Yl(g,c.size,c.config.view),we(c)&&(c=Hj(c,e))?c:[0,{signal:`bandwidth('${q}')`}];e=c.encoding[g];return Oa(e)&&e.timeUnit?(a=zd(e.timeUnit,ba=>`scale('${q}', ${ba})`),c=c.config.scale.bandWithNestedOffsetPaddingInner,g=m({fieldDef:e,markDef:C,config:S})-.5,h=0!==g?` + ${g}`:"",c?(e=Ob(c)?`${c.signal}/2`+h:`${c/
2+g}`,c=Ob(c)?`(1 - ${c.signal}/2)`+h:`${1-c/2+g}`,[{signal:`${e} * (${a})`},{signal:`${c} * (${a})`}]):[0,{signal:a}]):vb(`Cannot use ${a} scale if ${g} scale is not discrete.`)}function Yl(a,c,e){a="x"===a?"width":"height";return(c=c[a])?c:of(e,a)}function Cm(a,c,e,g){switch(a){case "quantile":return c.scale.quantileCount;case "quantize":return c.scale.quantizeCount;case "threshold":if(void 0!==e&&l.isArray(e))return e.length+1;J(`Domain for ${g} is required for threshold scale.`);return 3}}function Rj(a,
c,e){const g=()=>{const h=Jb(c),q=Jb(a),C=`(${h} - ${q}) / (${e} - 1)`;return`sequence(${q}, ${h} + ${C}, ${C})`};return Ob(c)?new eg(g):{signal:g()}}function Sj(a,c,e){if(c)return Ob(c)?{signal:`${c.signal} ? 0 : ${Sj(a,!1,e)}`}:0;switch(a){case "bar":case "tick":return e.scale.minBandSize;case "line":case "trail":case "rule":return e.scale.minStrokeWidth;case "text":return e.scale.minFontSize;case "point":case "square":case "circle":return e.scale.minSize}throw Error(Tc("size",a));}function Vm(a,
c,e,g){e={x:Em(e,"x"),y:Em(e,"y")};switch(a){case "bar":case "tick":if(void 0!==g.scale.maxBandSize)return g.scale.maxBandSize;const h=Um(c,e,g.view);return l.isNumber(h)?h-1:new eg(()=>`${h.signal} - 1`);case "line":case "trail":case "rule":return g.scale.maxStrokeWidth;case "text":return g.scale.maxFontSize;case "point":case "square":case "circle":if(g.scale.maxSize)return g.scale.maxSize;const q=Um(c,e,g.view);return l.isNumber(q)?Math.pow(.95*q,2):new eg(()=>`pow(${.95} * ${q.signal}, 2)`)}throw Error(Tc("size",
a));}function Um(a,c,e){const g=we(a.width)?a.width.step:fg(e,"width"),h=we(a.height)?a.height.step:fg(e,"height");return c.x||c.y?new eg(()=>`min(${[c.x?c.x.signal:g,c.y?c.y.signal:h].join(", ")})`):Math.min(g,h)}function lj(a,c){if(gg(a)){const C=a.component.scales,{config:S,encoding:ba,markDef:sa,specifiedScales:Ta}=a;for(const mb of Yc(C)){var e=Ta[mb];const ac=C[mb];var g=a.getScaleComponent(mb),h=Ge(ba[mb]),q=e[c];const Ec=g.get("type"),gc=g.get("padding");g=g.get("paddingInner");const Fc=dg(Ec,
c),Hc=gf(mb,c);void 0!==q&&(Fc?Hc&&J(Hc):J(nd(Ec,c,mb)));if(Fc&&void 0===Hc)if(void 0!==q)switch(q=h.timeUnit,h=h.type,c){case "domainMax":case "domainMin":w(e[c])||"temporal"===h||q?ac.set(c,{signal:Eg(e[c],{type:h,timeUnit:q})},!0):ac.set(c,e[c],!0);break;default:ac.copyKeyFromObject(c,e)}else e=c in kk?kk[c]({model:a,channel:mb,fieldOrDatumDef:h,scaleType:Ec,scalePadding:gc,scalePaddingInner:g,domain:e.domain,domainMin:e.domainMin,domainMax:e.domainMax,markDef:sa,config:S,hasNestedOffsetScale:Ng(ba,
mb),hasSecondaryRangeChannel:!!ba[A(mb)]}):S.scale[c],void 0!==e&&ac.set(c,e,!1)}}else Ml(a,c)}function Tj(a){if(gg(a)){const c=a.component.scales;for(const e of Pi){const g=c[e];if(!g)continue;const h=Il(e,a);g.setWithExplicit("range",h)}}else Ml(a,"range")}function Ml(a,c){const e=a.component.scales;for(var g of a.children)"range"===c?Tj(g):lj(g,c);for(const h of Yc(e)){let q;for(const C of a.children)if(g=C.component.scales[h])g=g.getWithExplicit(c),q=Af(q,g,c,"scale",vh((S,ba)=>{switch(c){case "range":if(S.step&&
ba.step)return S.step-ba.step}return 0}));e[h].setWithExplicit(c,q)}}function jl(a,c){const e=c.bin;if(zb(e)){const g=te(a,c.field,e);return new eg(()=>a.getSignalName(g))}if(kb(e)&&l.isObject(e)&&void 0!==e.step)return{step:e.step}}function Zl(a,c,e,g,h){let q=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===a){if(I(c)){const {bandPaddingInner:C,barBandPaddingInner:S,rectBandPaddingInner:ba,bandWithNestedOffsetPaddingInner:sa}=h;return q?sa:U(C,"bar"===e?S:ba)}if(c in Di&&g===
qg.BAND)return h.offsetBandPaddingInner}}function $l(a,c,e,g,h){let q=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===a)if(I(c)){const {bandPaddingOuter:C,bandWithNestedOffsetPaddingOuter:S}=h;if(q)return S;if(e===qg.BAND)return U(C,Ob(g)?{signal:`${g.signal}/2`}:g/2)}else if(c in Di){if(e===qg.POINT)return.5;if(e===qg.BAND)return h.offsetBandPaddingOuter}}function Hm(a,c,e,g){const h=Im(c,e,g,4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1),{type:q}=a;if(!Kg[c])return null;
if(void 0!==q){if(!Da(c,q))return J(`Channel "${c}" does not work with "${q}" scale. We are using "${h}" scale instead.`),h;var C;if(C=Oa(e))C=e.type,C=!(ub(["ordinal","nominal"],C)?void 0===q||Oe(q):"temporal"===C?ub([qg.TIME,qg.UTC,void 0],q):"quantitative"===C?Ei.has(q)||Ri.has(q)||void 0===q:1);return C?(J(`FieldDef does not work with "${q}" scale. We are using "${h}" scale instead.`),h):q}return h}function Im(a,c,e,g){switch(c.type){case "nominal":case "ordinal":if(M(a)||"discrete"===R(a))return"shape"===
a&&"ordinal"===c.type&&J(ld(a,"ordinal")),"ordinal";if(I(a)||a in Di){if(ub(["rect","bar","image","rule"],e.type)||g)return"band"}else if("arc"===e.type&&a in ef)return"band";a=e[P(a)];if(id(a))return"band";let h;return qd(c)&&(null==(h=c.axis)?0:h.tickBand)?"band":"point";case "temporal":if(!M(a)){if("discrete"===R(a))return J(ld(a,"temporal")),"ordinal";if(Oa(c)&&c.timeUnit&&od(c.timeUnit).utc)return"utc"}return"time";case "quantitative":if(M(a)){if(Oa(c)&&zb(c.bin))return"bin-ordinal"}else if("discrete"===
R(a))return J(ld(a,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error(`Invalid field type "${c.type}".`);}function pn(a){let {ignoreRange:c}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Ll(a);gg(a)?ff(a):ye(a);for(const e of rm)lj(a,e);c||Tj(a)}function Ll(a){if(gg(a)){var c=a.component;const {encoding:ba,mark:sa,markDef:Ta}=a;var e={};for(var g of Pi){var h=Ge(ba[g]);if(!h||sa!==ji||"shape"!==g||"geojson"!==h.type){var q=h&&h.scale;if(h&&null!==q&&!1!==q){null!=
q||(q={});var C=Ng(ba,g);h=Hm(q,g,h,Ta,C);e[g]=new uj(a.scaleName(`${g}`,!0),{value:h,explicit:q.type===h})}}}c.scales=e}else{g=a.component;q=a.component.scales={};h={};const ba=a.component.resolve;for(C of a.children){Ll(C);for(var S of Yc(C.component.scales)){let sa,Ta;null!=(sa=ba.scale)[Ta=S]||(sa[Ta]=Dj(S,a));if("shared"===ba.scale[S]){const mb=h[S],ac=C.component.scales[S].getWithExplicit("type");if(mb){const Ec=Cg[mb.value],gc=Cg[ac.value];Ec===gc||"ordinal-position"===Ec&&"time"===gc||"ordinal-position"===
gc&&"time"===Ec?h[S]=Af(mb,ac,"type","scale",Jl):(ba.scale[S]="independent",delete h[S])}else h[S]=ac}}}for(c of Yc(h)){C=a.scaleName(c,!0);q[c]=new uj(C,h[c]);for(e of a.children)if(S=e.component.scales[c])e.renameScale(S.get("name"),C),S.merged=!0}g.scales=q}}function gg(a){return"unit"===(null==a?void 0:a.type)}function Xh(a){return"facet"===(null==a?void 0:a.type)}function Ol(a){return"concat"===(null==a?void 0:a.type)}function yi(a){return"layer"===(null==a?void 0:a.type)}function kl(a){function c(g,
h){g instanceof Vg&&!(g.isGenerator||"url"in g.data)&&(a.push(h),h={name:null,source:h.name,transform:[]});if(g instanceof If)if(g.parent instanceof Vg&&!h.source){var q;h.format=Object.assign({},null!=(q=h.format)?q:{},{parse:g.assembleFormatParse()});h.transform.push(...g.assembleTransforms(!0))}else h.transform.push(...g.assembleTransforms());if(g instanceof mi)h.name||(h.name=`data_${e++}`),!h.source||0<h.transform.length?(a.push(h),g.data=h.name):g.data=h.source,a.push(...g.assemble());else switch((g instanceof
$h||g instanceof Dh||g instanceof Nh||g instanceof Pj||g instanceof Gk||g instanceof Zi||g instanceof ph||g instanceof aj||g instanceof Zj||g instanceof Mh||g instanceof sf||g instanceof re||g instanceof Gi||g instanceof pi||g instanceof $i||g instanceof Hi||g instanceof Dg||g instanceof wj||g instanceof km||g instanceof vj)&&h.transform.push(g.assemble()),(g instanceof ih||g instanceof jg||g instanceof Oh||g instanceof qh||g instanceof Vf)&&h.transform.push(...g.assemble()),g instanceof Sg&&(h.source&&
0===h.transform.length?g.setSource(h.source):g.parent instanceof Sg?g.setSource(h.name):(h.name||(h.name=`data_${e++}`),g.setSource(h.name),1===g.numChildren()&&(a.push(h),h={name:null,source:h.name,transform:[]}))),g.numChildren()){case 0:g instanceof Sg&&(!h.source||0<h.transform.length)&&a.push(h);break;case 1:c(g.children[0],h);break;default:h.name||(h.name=`data_${e++}`);q=h.name;!h.source||0<h.transform.length?a.push(h):q=h.source;for(const C of g.children)c(C,{name:null,source:q,transform:[]})}}
let e=0;return c}function Nn(a){const c=[],e=kl(c);for(const g of a.children)e(g,{source:a.name,name:null,transform:[]});return c}function On(a,c){const e=[];var g=kl(e);let h=0;for(const q of a.sources){q.hasName()||(q.dataName=`source_${h++}`);const C=q.assemble();g(q,C)}for(const q of e)0===q.transform.length&&delete q.transform;g=0;for(const q of e.entries()){const [C,S]=q;let ba;0!==(null!=(ba=S.transform)?ba:[]).length||S.source||e.splice(g++,0,e.splice(C,1)[0])}for(const q of e){let C;for(const S of null!=
(C=q.transform)?C:[])"lookup"===S.type&&(S.from=a.outputNodes[S.from].getSource())}for(const q of e)q.name in c&&(q.values=c[q.name]);return e}function am(a,c,e){c="row"===c?"height":"width";return{labels:e,sizeSignal:a.child.component.layoutSize.get(c)?a.child.getSizeSignalRef(c):void 0,axes:[]}}function bm(a,c){var {child:e}=a;if(e.component.axes[c]){const {layoutHeaders:g,resolve:h}=a.component;h.axis[c]=p(h,c);if("shared"===h.axis[c]){const q="x"===c?"column":"row",C=g[q];for(const S of e.component.axes[c]){c=
S.get("orient");c="top"===c||"left"===c||Ob(c)?"header":"footer";let ba,sa;null!=(ba=C)[sa=c]||(ba[sa]=[am(a,q,!1)]);(e=yh(S,"main",a.config,{header:!0}))&&C[c][0].axes.push(e);S.mainExtracted=!0}}}}function ll(a){for(const c of a.children)c.parseLayoutSize()}function zk(a,c){const e=vk(c),g=X(e),h=a.component.resolve,q=a.component.layoutSize;let C;for(const S of a.children){const ba=S.component.layoutSize.getWithExplicit(e);let sa;const Ta=null!=(sa=h.scale[g])?sa:Dj(g,a);if("independent"===Ta&&
"step"===ba.value){C=void 0;break}if(C){if("independent"===Ta&&C.value!==ba.value){C=void 0;break}C=Af(C,ba,e,"")}else C=ba}if(C){for(const S of a.children)a.renameSignal(S.getName(e),a.getName(c)),S.component.layoutSize.set(e,"merged",!1);q.setWithExplicit(c,C)}else q.setWithExplicit(c,{explicit:!1,value:void 0})}function cm(a,c){const e=a.config;var g=a.getScaleComponent("width"===c?"x":"y");if(g)return a=g.get("type"),g=g.get("range"),Oe(a)?(c=of(e.view,c),Nb(g)||we(c)?"step":c):uf(e.view,c);if(a.hasProjection||
"arc"===a.mark)return uf(e.view,c);c=of(e.view,c);return we(c)?c.step:c}function ml(a,c,e){return mc(c,Object.assign({},{suffix:`by_${mc(a)}`},null!=e?e:{}))}function Pm(a,c){for(const g of c){c=g.data;if(a.name&&g.hasName()&&a.name!==g.dataName)continue;let h;const q=null==(h=a.format)?void 0:h.mesh;let C;var e=null==(C=c.format)?void 0:C.feature;if(q&&e)continue;let S;const ba=null==(S=a.format)?void 0:S.feature;if((ba||e)&&ba!==e)continue;let sa;e=null==(sa=c.format)?void 0:sa.mesh;if(!q&&!e||
q===e)if("values"in a&&"values"in c){if(na(a.values,c.values))return g}else if("url"in a&&"url"in c){if(a.url===c.url)return g}else if(cj(a)&&a.name===g.dataName)return g}return null}function Fn(a,c){if(a.data||!a.parent){if(null===a.data)return a=new Vg({values:[]}),c.push(a),a;const e=Pm(a.data,c);if(e)return mg(a.data)||(e.data.format=Ba({},a.data.format,e.data.format)),!e.hasName()&&a.data.name&&(e.dataName=a.data.name),e;a=new Vg(a.data);c.push(a);return a}return a.parent.component.data.facetRoot?
a.parent.component.data.facetRoot:a.parent.component.data.main}function Oj(a){var c=Fn(a,a.component.data.sources);const {outputNodes:e,outputNodeRefCounts:g}=a.component.data;var h=a.data;const q=h&&(mg(h)||"url"in h||"values"in h)||!a.parent?new Sm:a.parent.component.data.ancestorParse.clone();if(mg(h))"sequence"in h?c=new Dh(c,h.sequence):"graticule"in h&&(c=new $h(c,h.graticule)),q.parseNothing=!0;else{let jd;null===(null==h?void 0:null==(jd=h.format)?void 0:jd.parse)&&(q.parseNothing=!0)}var C;
c=null!=(C=If.makeExplicit(c,a,q))?C:c;c=new Dg(c);h=a.parent&&yi(a.parent);if((gg(a)||Xh(a))&&h){var S;c=null!=(S=ih.makeFromEncoding(c,a))?S:c}if(0<a.transforms.length){S=0;for(var ba of a.transforms){var sa=C=void 0;if("calculate"in ba)sa=c=new Gk(c,ba),C="derived";else if("filter"in ba){sa=ee(ba);var Ta=void 0;sa=c=null!=(Ta=If.makeWithAncestors(c,{},sa,q))?Ta:c;c=new Pj(c,a,ba.filter)}else if("bin"in ba)sa=c=ih.makeFromTransform(c,ba,a),C="number";else if("timeUnit"in ba)C="date",void 0===q.getWithExplicit(ba.field).value&&
(c=new If(c,{[ba.field]:C}),q.set(ba.field,C,!1)),sa=c=jg.makeFromTransform(c,ba);else if("aggregate"in ba)sa=c=ph.makeFromTransform(c,ba),C="number",Sf(a)&&(c=new Dg(c));else if("lookup"in ba)sa=c=aj.make(c,a,ba,S++),C="derived";else if("window"in ba)sa=c=new Zj(c,ba),C="number";else if("joinaggregate"in ba)sa=c=new Mh(c,ba),C="number";else if("stack"in ba)sa=c=qh.makeFromTransform(c,ba),C="derived";else if("fold"in ba)sa=c=new sf(c,ba),C="derived";else if("extent"in ba&&!("density"in ba))sa=c=new vj(c,
ba),C="derived";else if("flatten"in ba)sa=c=new re(c,ba),C="derived";else if("pivot"in ba)sa=c=new km(c,ba),C="derived";else if("sample"in ba)c=new wj(c,ba);else if("impute"in ba)sa=c=Oh.makeFromTransform(c,ba),C="derived";else if("density"in ba)sa=c=new Gi(c,ba),C="derived";else if("quantile"in ba)sa=c=new $i(c,ba),C="derived";else if("regression"in ba)sa=c=new Hi(c,ba),C="derived";else if("loess"in ba)sa=c=new pi(c,ba),C="derived";else{J(`Ignoring an invalid transform: ${n(ba)}.`);continue}if(sa&&
void 0!==C){let jd;for(const Ad of null!=(jd=sa.producedFields())?jd:[])q.set(Ad,C,!1)}}}ba={};if(gg(a)&&a.component.selection)for(var mb of Yc(a.component.selection)){Ta=a.component.selection[mb];for(const jd of Ta.project.items)!jd.channel&&1<Na(jd.field)&&(ba[jd.field]="flatten")}mb=pg(a);var ac;c=null!=(ac=If.makeWithAncestors(c,{},Object.assign({},ba,mb),q))?ac:c;gg(a)&&(c=Vf.parseAll(c,a),c=Zi.parseAll(c,a));if(gg(a)||Xh(a)){if(!h){let jd;c=null!=(jd=ih.makeFromEncoding(c,a))?jd:c}var Ec;c=
null!=(Ec=jg.makeFromEncoding(c,a))?Ec:c;c=Gk.parseAllForSortIndex(c,a)}Ec=a.getDataName(Of.Raw);ac=new Sg(c,Ec,Of.Raw,g);c=e[Ec]=ac;if(gg(a)){if(Ec=ph.makeFromEncoding(c,a))c=Ec,Sf(a)&&(c=new Dg(c));var gc;c=null!=(gc=Oh.makeFromEncoding(c,a))?gc:c;var Fc;c=null!=(Fc=qh.makeFromEncoding(c,a))?Fc:c}if(gg(a)){let jd;c=null!=(jd=Nh.make(c,a))?jd:c}Fc=a.getDataName(Of.Main);gc=new Sg(c,Fc,Of.Main,g);c=e[Fc]=gc;if(gg(a)){var Hc;for(var Jc of Ni(null!=(Hc=a.component.selection)?Hc:{})){const [jd,Ad]=Jc;
Hc=a.getName(`lookup_${jd}`);a.component.data.outputNodes[Hc]=Ad.materialized=new Sg(new Pj(gc,a,{param:jd}),Hc,Of.Lookup,a.component.data.outputNodeRefCounts)}}Hc=null;if(Xh(a)){Jc=a.getName("facet");let jd;{Hc=c;const {row:Ad,column:de}=a.facet;if(Ad&&de){Fc=null;for(kd of[Ad,de])if(qe(kd.sort)){const {field:cf,op:qf="min"}=kd.sort;Hc=Fc=new Mh(Hc,{joinaggregate:[{op:qf,field:cf,as:ml(kd,kd.sort,{forAs:!0})}],groupby:[mc(kd)]})}var kd=Fc}else kd=null}c=null!=(jd=kd)?jd:c;Hc=new mi(c,a,Jc,gc.getSource());
e[Jc]=Hc}return Object.assign({},a.component.data,{outputNodes:e,outputNodeRefCounts:g,raw:ac,main:gc,facetRoot:Hc,ancestorParse:q})}function dm(a,c,e){const {encoding:g,config:h}=a;let q;const C=null!=(q=Ge(g[c]))?q:Ge(g[A(c)]);a=a.axis(c)||{};const {format:S,formatType:ba}=a;if(oe(ba))return Object.assign({},{text:Ud({fieldOrDatumDef:C,field:"datum.value",format:S,formatType:ba,config:h})},e);if(void 0===S&&void 0===ba&&h.customFormatTypes){if("quantitative"===tb(C)){if(qd(C)&&"normalize"===C.stack&&
h.normalizedNumberFormatType)return Object.assign({},{text:Ud({fieldOrDatumDef:C,field:"datum.value",format:h.normalizedNumberFormat,formatType:h.normalizedNumberFormatType,config:h})},e);if(h.numberFormatType)return Object.assign({},{text:Ud({fieldOrDatumDef:C,field:"datum.value",format:h.numberFormat,formatType:h.numberFormatType,config:h})},e)}if("temporal"===tb(C)&&h.timeFormatType&&Oa(C)&&!C.timeUnit)return Object.assign({},{text:Ud({fieldOrDatumDef:C,field:"datum.value",format:h.timeFormat,
formatType:h.timeFormatType,config:h})},e)}return e}function em(a){return be.reduce((c,e)=>{a.component.scales[e]&&(c[e]=[Pn(e,a)]);return c},{})}function om(a,c){if(a){if(a.length!==c.length)return;const e=a.length;for(let g=0;g<e;g++){const h=a[g],q=c[g];if(!!h!==!!q)return;if(h&&q){const C=h.getWithExplicit("orient"),S=q.getWithExplicit("orient");if(C.explicit&&S.explicit&&C.value!==S.value)return;a[g]=Ym(h,q)}}}else return c.map(e=>e.clone());return a}function Ym(a,c){for(const e of bj){const g=
Af(a.getWithExplicit(e),c.getWithExplicit(e),e,"axis",(h,q)=>{switch(e){case "title":return ib(h,q);case "gridScale":return{explicit:h.explicit,value:U(h.value,q.value)}}return Mg(h,q,e,"axis")});a.setWithExplicit(e,g)}return a}function Ak(a,c,e,g,h){if("disable"===c)return void 0!==e;e=e||{};switch(c){case "titleAngle":case "labelAngle":return a===(Ob(e.labelAngle)?e.labelAngle:Ca(e.labelAngle));case "values":return!!e.values;case "encode":return!!e.encoding||!!e.labelAngle;case "title":if(a===Xk(g,
h))return!0}return a===e[c]}function Pn(a,c){let e=c.axis(a);const g=new xj;var h=Ge(c.encoding[a]);const {mark:q,config:C}=c;var S,ba,sa,Ta=(null==(S=e)?void 0:S.orient)||(null==(ba=C["x"===a?"axisX":"axisY"])?void 0:ba.orient)||(null==(sa=C.axis)?void 0:sa.orient)||("x"===a?"bottom":"left");ba=c.getScaleComponent(a).get("type");S=sk(a,ba,Ta,c.config);var mb;sa=void 0!==e?!e:hj("disable",C.style,null==(mb=e)?void 0:mb.style,S).configValue;g.set("disable",sa,void 0!==e);if(sa)return g;e=e||{};mb=
$k(h,e,a,C.style,S);sa=Cf(e.formatType,h,ba);const ac=hf(h,h.type,e.format,e.formatType,C,!0);h={fieldOrDatumDef:h,axis:e,channel:a,model:c,scaleType:ba,orient:Ta,labelAngle:mb,format:ac,formatType:sa,mark:q,config:C};for(const Fc of bj)if(Ta=Fc in gn?gn[Fc](h):Tl[Fc]?e[Fc]:void 0,ba=void 0!==Ta,mb=Ak(Ta,Fc,e,c,a),ba&&mb)g.set(Fc,Ta,mb);else{const {configValue:Hc,configFrom:Jc}=Tl[Fc]&&"values"!==Fc?hj(Fc,C.style,e.style,S):{};sa=void 0!==Hc;ba&&!sa?g.set(Fc,Ta,mb):("vgAxisConfig"!==Jc||Bm.has(Fc)&&
sa||lg(Hc)||Ob(Hc))&&g.set(Fc,Hc,!1)}var Ec;const gc=null!=(Ec=e.encoding)?Ec:{};Ec=ql.reduce((Fc,Hc)=>{if(!g.hasAxisPart(Hc))return Fc;var Jc;const kd=wf(null!=(Jc=gc[Hc])?Jc:{},c);Jc="labels"===Hc?dm(c,a,kd):kd;void 0===Jc||lb(Jc)||(Fc[Hc]={update:Jc});return Fc},{});lb(Ec)||g.set("encode",Ec,!!e.encoding||void 0!==e.labelAngle);return g}function Zm(a){let {encoding:c,size:e}=a;for(const g of be)a=P(g),we(e[a])&&oc(c[g])&&(delete e[a],J(dd(a)));return e}function Xj(a,c){var e=Object,g=e.assign,
h=bf(a,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),q=Yd("x",a,{defaultPos:"mid"}),C=Yd("y",a,{defaultPos:"mid"}),S=Uc("size",a),ba=Uc("angle",a);a=c?{shape:{value:c}}:Uc("shape",a);return g.call(e,{},h,q,C,S,ba,a)}function $m(a){if(ub([rj,dk,sj],a.mark)){var c=$g(a.mark,a.encoding);if(0<c.length)return Rn(a,c)}else if(a.mark===qj&&(c=fm.some(e=>Wb(e,a.markDef,a.config)),a.stack&&!a.fieldDef("size")&&c))return nl(a);return ej(a)}function Rn(a,c){return[{name:a.getName("pathgroup"),
type:"group",from:{facet:{name:"faceted_path_"+a.requestDataName(Of.Main),data:a.requestDataName(Of.Main),groupby:c}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:ej(a,{fromPrefix:"faceted_path_"})}]}function nl(a){const [c]=ej(a,{fromPrefix:"stack_group_"}),e=a.scaleName(a.stack.fieldChannel),g=function(){return a.vgField(a.stack.fieldChannel,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})};var h=(sa,Ta)=>{Ta=[g({prefix:"min",suffix:"start",expr:Ta}),
g({prefix:"max",suffix:"start",expr:Ta}),g({prefix:"min",suffix:"end",expr:Ta}),g({prefix:"max",suffix:"end",expr:Ta})];return`${sa}(${Ta.map(mb=>`scale('${e}',${mb})`).join(",")})`};let q;"x"===a.stack.fieldChannel?(h=Object.assign({},Xb(c.encode.update,["y","yc","y2","height",...fm]),{x:{signal:h("min","datum")},x2:{signal:h("max","datum")},clip:{value:!0}}),q={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},c.encode.update=Object.assign({},ec(c.encode.update,["y","yc","y2"]),{height:{field:{group:"height"}}})):
(h=Object.assign({},Xb(c.encode.update,["x","xc","x2","width"]),{y:{signal:h("min","datum")},y2:{signal:h("max","datum")},clip:{value:!0}}),q={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},c.encode.update=Object.assign({},ec(c.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}}));for(var C of fm){var S=ic(C,a.markDef,a.config);c.encode.update[C]?(h[C]=c.encode.update[C],delete c.encode.update[C]):S&&(h[C]=Va(S));S&&(c.encode.update[C]={value:0})}C=[];var ba;if(0<(null==(ba=
a.stack.groupbyChannels)?void 0:ba.length))for(const sa of a.stack.groupbyChannels){ba=a.fieldDef(sa);(S=mc(ba))&&C.push(S);let Ta,mb;((null==(Ta=ba)?0:Ta.bin)||(null==(mb=ba)?0:mb.timeUnit))&&C.push(mc(ba,{binSuffix:"end"}))}h="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((sa,Ta)=>{if(c.encode.update[Ta])return Object.assign({},sa,{[Ta]:c.encode.update[Ta]});const mb=ic(Ta,a.markDef,a.config);return void 0!==mb?Object.assign({},
sa,{[Ta]:Va(mb)}):sa},h);h.stroke&&(h.strokeForeground={value:!0},h.strokeOffset={value:0});return[{type:"group",from:{facet:{data:a.requestDataName(Of.Main),name:"stack_group_"+a.requestDataName(Of.Main),groupby:C,aggregate:{fields:[g({suffix:"start"}),g({suffix:"start"}),g({suffix:"end"}),g({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:h},marks:[{type:"group",encode:{update:q},marks:[c]}]}]}function an(a){const {encoding:c,stack:e,mark:g,markDef:h,config:q}=a;var C=c.order;if(!(!l.isArray(C)&&
Wc(C)&&yb(C.value)||!C&&yb(Wb("order",h,q)))){if((l.isArray(C)||Oa(C))&&!e)return Pc(C,{expr:"datum"});if(cb(g)){const S="horizontal"===h.orient?"y":"x",ba=c[S];if(Oa(ba)){C=ba.sort;if(l.isArray(C))return{field:mc(ba,{prefix:S,suffix:"sort_index",expr:"datum"})};if(qe(C))return{field:mc({aggregate:Kf(a.encoding)?C.op:void 0,field:C.field},{expr:"datum"})};if(null!=C&&C.encoding)return a=a.fieldDef(C.encoding),{field:mc(a,{expr:"datum"}),order:C.order};if(null!==C){let sa;return{field:mc(ba,{binSuffix:(null==
(sa=a.stack)?0:sa.impute)?"mid":void 0,expr:"datum"})}}}}}}function ej(a){let c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""};const {mark:e,markDef:g,encoding:h,config:q}=a;var C=g.clip;var S=a.getScaleComponent("x");var ba=a.getScaleComponent("y");S=(null==S?0:S.get("selectionExtent"))||(null==ba?0:ba.get("selectionExtent"))?!0:void 0;ba=a.component.projection;C=U(C,S,ba&&!ba.isFit?!0:void 0);S=Eb(g);ba=h.key;const sa=an(a);var Ta;if(a.component.selection){for(var mb=Ta=
Yc(a.component.selection).length,ac=a.parent;ac&&0===mb;)mb=Yc(ac.component.selection).length,ac=ac.parent;Ta=mb?{interactive:0<Ta||"geoshape"===a.mark||!!a.encoding.tooltip}:null}else Ta=null;mb=Wb("aria",g,q);ac=ah[e].postEncodingTransform?ah[e].postEncodingTransform(a):null;return[Object.assign({},{name:a.getName("marks"),type:ah[e].vgMark},C?{clip:!0}:{},S?{style:S}:{},ba?{key:ba.field}:{},sa?{sort:sa}:{},Ta?Ta:{},!1===mb?{aria:mb}:{},{from:{data:c.fromPrefix+a.requestDataName(Of.Main)},encode:{update:ah[e].encodeEntry(a)}},
ac?{transform:ac}:{})]}function Bk(a,c,e,g,h){if("facet"in a)return new lk(a,c,e,h);if("layer"in a)return new sg(a,c,e,g,h);if(lf(a))return new Ph(a,c,e,g,h);if("vconcat"in a||"hconcat"in a||"concat"in a)return new zm(a,c,e,h);throw Error(ya(a));}function ol(a,c){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};let g=3<arguments.length?arguments[3]:void 0;const h=a.config?Rg(a.config):void 0;e=[].concat(a.assembleSelectionData([]),On(a.component.data,e));const q=a.assembleProjections(),
C=a.assembleTitle(),S=a.assembleGroupStyle(),ba=a.assembleGroupEncodeEntry(!0);let sa=a.assembleLayoutSignals();sa=sa.filter(ac=>"width"!==ac.name&&"height"!==ac.name||void 0===ac.value?!0:(c[ac.name]=+ac.value,!1));var Ta=Object.assign({},c);const mb=c.params;Ta=(delete Ta.params,Ta);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},a.description?{description:a.description}:{},Ta,C?{title:C}:{},S?{style:S}:{},ba?{encode:{update:ba}}:{},{data:e},0<q.length?{projections:q}:
{},a.assembleGroup([...sa,...a.assembleSelectionTopLevelSignals([]),...Xd(mb)]),h?{config:h}:{},g?{usermeta:g}:{})}const ve=structuredClone;Set.prototype.toJSON=function(){return`Set(${[...this].map(a=>n(a)).join(",")})`};const Yc=Object.keys,Jg=Object.values,Ni=Object.entries;let Hf=42;const Am=Object.getPrototypeOf(structuredClone({})),yj={theta:1,theta2:1,radius:1,radius2:1},Bi={longitude:1,longitude2:1,latitude:1,latitude2:1},nj=Yc(Bi),Jk=Object.assign({},{x:1,y:1,x2:1,y2:1},yj,Bi,{xOffset:1,
yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),Ik={row:1,column:1,facet:1},Ch=Yc(Ik),ak=Object.assign({},Jk,Ik),ki=Yc(ak);var pj=Object.assign({},ak),rl=(delete pj.order,delete pj.detail,delete pj.tooltip,pj),oj=Object.assign({},rl);const tl=(delete oj.row,delete oj.column,delete oj.facet,oj),Ci="x2 y2 latitude2 longitude2 theta2 radius2".split(" "),sl=
Yc(Jk);var Wg=Object.assign({},Jk);const Hk=(delete Wg.x,delete Wg.y,delete Wg.x2,delete Wg.y2,delete Wg.xOffset,delete Wg.yOffset,delete Wg.latitude,delete Wg.longitude,delete Wg.latitude2,delete Wg.longitude2,delete Wg.theta,delete Wg.theta2,delete Wg.radius,delete Wg.radius2,Wg),jn=Yc(Hk),Si={x:1,y:1},be=Yc(Si),ef={theta:1,radius:1},Qi=Yc(ef),Di={xOffset:1,yOffset:1};var eh=Object.assign({},Hk);const Jh=(delete eh.text,delete eh.tooltip,delete eh.href,delete eh.url,delete eh.description,delete eh.detail,
delete eh.key,delete eh.order,eh),bk=Yc(Jh),Kg=Object.assign({},Si,ef,Di,Jh),Pi=Yc(Kg),Nk={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"};var dl=Object.assign({},Nk);const Pl=(delete dl.geoshape,dl),yn={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,
sum:1,valid:1,values:1,variance:1,variancep:1},Bn={count:1,min:1,max:1},fi=new Set(["count","valid","missing","distinct"]),Qn=new Set(["count","sum","distinct","valid","missing"]),Nm=new Set("mean average median q1 q3 min max".split(" ")),Mm=Yc({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,
innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),cl={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},
fm=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],Ql=l.logger(l.Warn);let Kk=Ql;const mm="january february march april may june july august september october november december".split(" "),ck=mm.map(a=>a.substr(0,3)),fh="sunday monday tuesday wednesday thursday friday saturday".split(" "),oh=fh.map(a=>a.substr(0,3)),nm={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},wl=Yc(nm),Lk=
{"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},Mk={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},qg={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},Cg={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",
time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},Tg={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},Ei=new Set(["linear","log","pow","sqrt","symlog"]),gh=new Set([...Ei,"time","utc"]),Ri=new Set(["quantile","quantize","threshold"]),kn=new Set([...gh,...Ri,
"sequential","identity"]),qm=new Set(["ordinal","bin-ordinal","point","band"]);var Kh=Object.assign({},{type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1});const sm=(delete Kh.type,delete Kh.domain,delete Kh.range,delete Kh.rangeMax,delete Kh.rangeMin,delete Kh.scheme,Kh),rm=Yc(sm),Ug={arc:"arc",area:"area",bar:"bar",
image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},xl=Ug.arc,dk=Ug.area,qj=Ug.bar,tm=Ug.image,rj=Ug.line,Ok=Ug.point,ln=Ug.rect,hl=Ug.rule,um=Ug.text,yk=Ug.tick,sj=Ug.trail,Fi=Ug.circle,ek=Ug.square,ji=Ug.geoshape,Rl=new Set(Yc(Ug)),Ck="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),li=Yc({color:1,filled:1,invalid:1,order:1,
radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),Qk=Yc({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),Pk={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},Oi={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},fk=(a,c)=>{switch(c.fieldTitle){case "plain":return a.field;case "functional":{const {aggregate:e,
bin:g,timeUnit:h,field:q}=a;Aa(e)?a=`${q} for argmax(${e.argmax})`:ia(e)?a=`${q} for argmin(${e.argmin})`:(a=h&&!Tb(h)?od(h):void 0,a=(a=e||(null==a?void 0:a.unit)||(null==a?void 0:a.maxbins)&&"timeunit"||zb(g)&&"bin")?`${a.toUpperCase()}(${q})`:q)}return a;default:return se(a,c)}};let zi=fk;const Qj={compatible:!0},pl={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",
vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},
tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}},ql=["domain","grid","labels","ticks","title"],Dk={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",
domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",
tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",
scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},Ek={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,
labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,
titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},Tl=Object.assign({},Ek,{style:1,labelExpr:1,encoding:1}),cn=Yc({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});class fl{constructor(a,c){this.name=a;this.run=
c}hasMatchingType(a){return lf(a)?(a=a.mark,(hd(a)?a.type:a)===this.name):!1}}const Tn=new fl("boxplot",Id),Sl=new fl("errorbar",nf),Un=new fl("errorband",lh),Qm={};kg("boxplot",Id,["box","median","outliers","rule","ticks"]);kg("errorbar",nf,["ticks","rule"]);kg("errorband",lh,["band","borders"]);const Vn=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],Rm={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",
titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},dn={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",
labelPadding:"offset"},Tm=Yc(Rm),Wn=Yc(dn),en=Yc({header:1,headerRow:1,headerColumn:1,headerFacet:1}),vm="size shape fill stroke strokeDash strokeWidth opacity".split(" "),Xn=Yc({align:1,bounds:1,center:1,columns:1,spacing:1}),Gn={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,minBandSize:.25,timeUnitBandPosition:.5},
circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,minBandSize:.25,timeUnitBandPosition:.5},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,
minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{point:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},
interval:{on:"[pointerdown, window:pointerup] \x3e window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] \x3e window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20},normalizedNumberFormat:".0%"},Ai="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),Wl={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},
fn={blue:Ai[0],orange:Ai[1],red:Ai[2],teal:Ai[3],green:Ai[4],yellow:Ai[5],purple:Ai[6],pink:Ai[7],brown:Ai[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},Hn=[...Qk,...cn,...en,"background","padding","legend","lineBreak","scale","style","title","view"],Yn=new Set(["view",...Rl]),In="color fontSize background padding facet concat numberFormat numberFormatType normalizedNumberFormat normalizedNumberFormatType timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),
Zn=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],line:["point"],tick:["bandSize","thickness"]});class Vl{map(a,c){return"facet"in a?this.mapFacet(a,c):"repeat"in a?this.mapRepeat(a,c):"hconcat"in a?this.mapHConcat(a,c):"vconcat"in a?this.mapVConcat(a,c):"concat"in a?this.mapConcat(a,
c):this.mapLayerOrUnit(a,c)}mapLayerOrUnit(a,c){if("layer"in a)return this.mapLayer(a,c);if(lf(a))return this.mapUnit(a,c);throw Error(ya(a));}mapLayer(a,c){return Object.assign({},a,{layer:a.layer.map(e=>this.mapLayerOrUnit(e,c))})}mapHConcat(a,c){return Object.assign({},a,{hconcat:a.hconcat.map(e=>this.map(e,c))})}mapVConcat(a,c){return Object.assign({},a,{vconcat:a.vconcat.map(e=>this.map(e,c))})}mapConcat(a,c){var e=Object.assign({},a);a=a.concat;e=(delete e.concat,e);return Object.assign({},
e,{concat:a.map(g=>this.map(g,c))})}mapFacet(a,c){return Object.assign({},a,{spec:this.map(a.spec,c)})}mapRepeat(a,c){return Object.assign({},a,{spec:this.map(a.spec,c)})}}const $n={zero:1,center:1,normalize:1},Jn=new Set([xl,qj,dk,hl,Ok,Fi,ek,rj,um,yk]),mn=new Set([qj,dk,xl]);class yl{constructor(){V(this,"name","path-overlay")}hasMatchingType(a,c){if(lf(a)){const {mark:e,encoding:g}=a;a=hd(e)?e:{type:e};switch(a.type){case "line":case "rule":case "trail":return!!vg(a,c[a.type],g);case "area":return!!vg(a,
c[a.type],g)||!!Ii(a,c[a.type])}}return!1}run(a,c,e){var {config:g}=c,h=Object.assign({},a),q=a.params,C=a.projection,S=a.mark,ba=a.name;a=a.encoding;h=(delete h.params,delete h.projection,delete h.mark,delete h.name,delete h.encoding,h);a=Yg(a,g);S=hd(S)?S:{type:S};const sa=vg(S,g[S.type],a),Ta="area"===S.type&&Ii(S,g[S.type]);var mb=Object,ac=mb.assign;var Ec=Object.assign({},"area"===S.type&&void 0===S.opacity&&void 0===S.fillOpacity?{opacity:.7}:{},S);Ec=Object.assign({},Ec);Ec=(delete Ec.point,
delete Ec.line,Ec);Ec=1<Yc(Ec).length?Ec:Ec.type;q=[ac.call(mb,{},{name:ba},q?{params:q}:{},{mark:Ec,encoding:ec(a,["shape"])})];ba=Fg(ug(S,a,g),a);mb=a;if(ba){const {fieldChannel:gc,offset:Fc}=ba;mb=Object.assign({},a,{[gc]:Object.assign({},a[gc],Fc?{stack:Fc}:{})})}mb=ec(mb,["y2","x2"]);Ta&&q.push(Object.assign({},C?{projection:C}:{},{mark:Object.assign({},{type:"line"},Xb(S,["clip","interpolate","tension","tooltip"]),Ta),encoding:mb}));sa&&q.push(Object.assign({},C?{projection:C}:{},{mark:Object.assign({},
{type:"point",opacity:1,filled:!0},Xb(S,["clip","tooltip"]),sa),encoding:mb}));C=Object.assign({},h,{layer:q});h=Object;q=h.assign;for(const gc of["line","area","rule","trail"])g[gc]&&(g=Object.assign({},g,{[gc]:ec(g[gc],["point","line"])}));return e(C,q.call(h,{},c,{config:g}))}}class Fk{constructor(){V(this,"name","RuleForRangedLine")}hasMatchingType(a){if(lf(a)){const {encoding:c,mark:e}=a;if("line"===e||hd(e)&&"line"===e.type)for(const g of Ci)if(a=T(g),a=c[a],c[g]&&(Oa(a)&&!kb(a.bin)||rb(a)))return!0}return!1}run(a,
c,e){const {encoding:g,mark:h}=a;var q=!!g.x2;J(`Line mark is for continuous lines and thus cannot be used with ${q&&g.y2?"x2 and y2":q?"x2":"y2"}. We will use the rule mark (line segments) instead.`);return e(Object.assign({},a,{mark:l.isObject(h)?Object.assign({},h,{type:"rule"}):"rule"}),c)}}class Ln extends Vl{constructor(){super(...arguments);V(this,"nonFacetUnitNormalizers",[Tn,Sl,Un,new yl,new Fk])}map(a,c){if(lf(a)){const e=Ke(a.encoding,"row"),g=Ke(a.encoding,"column"),h=Ke(a.encoding,"facet");
if(e||g||h)return this.mapFacetedUnit(a,c)}return super.map(a,c)}mapUnit(a,c){const {parentEncoding:e,parentProjection:g}=c;var h=qi(a.encoding,c.repeater);a=Object.assign({},a,a.name?{name:[c.repeaterPrefix,a.name].filter(q=>q).join("_")}:{},h?{encoding:h}:{});if(e||g)return this.mapUnitWithParentEncodingOrProjection(a,c);h=this.mapLayerOrUnit.bind(this);for(const q of this.nonFacetUnitNormalizers)if(q.hasMatchingType(a,c.config))return q.run(a,c,h);return a}mapRepeat(a,c){return!l.isArray(a.repeat)&&
a.repeat.layer?this.mapLayerRepeat(a,c):this.mapNonLayerRepeat(a,c)}mapLayerRepeat(a,c){var e=Object.assign({},a);const g=a.repeat,h=a.spec;e=(delete e.repeat,delete e.spec,e);const {row:q,column:C,layer:S}=g,{repeater:ba={},repeaterPrefix:sa=""}=c;return q||C?this.mapRepeat(Object.assign({},a,{repeat:Object.assign({},q?{row:q}:{},C?{column:C}:{}),spec:{repeat:{layer:S},spec:h}}),c):Object.assign({},e,{layer:S.map(Ta=>{var mb=Object.assign({},ba,{layer:Ta});Ta=`${(h.name?`${h.name}_`:"")+sa}child__layer_${ua(Ta)}`;
mb=this.mapLayerOrUnit(h,Object.assign({},c,{repeater:mb,repeaterPrefix:Ta}));mb.name=Ta;return mb})})}mapNonLayerRepeat(a,c){var e=a,g=Object.assign({},e);const h=e.repeat,q=e.spec;e=e.data;g=(delete g.repeat,delete g.spec,delete g.data,g);!l.isArray(h)&&a.columns&&(a=ec(a,["columns"]),J(uc("repeat")));const C=[],{repeater:S={},repeaterPrefix:ba=""}=c,sa=!l.isArray(h)&&h.row||[S?S.row:null],Ta=!l.isArray(h)&&h.column||[S?S.column:null];var mb=l.isArray(h)&&h||[S?S.repeat:null];for(const gc of mb)for(const Fc of sa)for(const Hc of Ta){var ac=
{repeat:gc,row:Fc,column:Hc,layer:S.layer};mb=(q.name?`${q.name}_`:"")+ba+"child__"+(l.isArray(h)?`${ua(gc)}`:(h.row?`row_${ua(Fc)}`:"")+(h.column?`column_${ua(Hc)}`:""));ac=this.map(q,Object.assign({},c,{repeater:ac,repeaterPrefix:mb}));ac.name=mb;C.push(ec(ac,["data"]))}a=l.isArray(h)?a.columns:h.column?h.column.length:1;let Ec;return Object.assign({},{data:null!=(Ec=q.data)?Ec:e,align:"all"},g,{columns:a,concat:C})}mapFacet(a,c){const {facet:e}=a;ae(e)&&a.columns&&(a=ec(a,["columns"]),J(uc("facet")));
return super.mapFacet(a,c)}mapUnitWithParentEncodingOrProjection(a,c){const {encoding:e,projection:g}=a,{parentEncoding:h,parentProjection:q,config:C}=c,S=th({parentProjection:q,projection:g});c=Th({parentEncoding:h,encoding:qi(e,c.repeater)});return this.mapUnit(Object.assign({},a,S?{projection:S}:{},c?{encoding:c}:{}),{config:C})}mapFacetedUnit(a,c){var e=a.encoding,g=Object.assign({},e),h=e.row;const q=e.column;e=e.facet;const C=(delete g.row,delete g.column,delete g.facet,g);var S=Object.assign({},
a);g=a.mark;const ba=a.width,sa=a.projection,Ta=a.height,mb=a.view;a=a.params;S=(delete S.mark,delete S.width,delete S.projection,delete S.height,delete S.view,delete S.params,delete S.encoding,S);const {facetMapping:ac,layout:Ec}=this.getFacetMappingAndLayout({row:h,column:q,facet:e},c);h=qi(C,c.repeater);return this.mapFacet(Object.assign({},S,Ec,{facet:ac,spec:Object.assign({},ba?{width:ba}:{},Ta?{height:Ta}:{},mb?{view:mb}:{},sa?{projection:sa}:{},{mark:g,encoding:h},a?{params:a}:{})}),c)}getFacetMappingAndLayout(a,
c){const {row:e,column:g,facet:h}=a;if(e||g){h&&(c=[...(e?["row"]:[]),...(g?["column"]:[])],c=`Facet encoding dropped as ${c.join(" and ")} ${1<c.length?"are":"is"} also specified.`,J(c));c={};const Ta={};for(var q of["row","column"]){const mb=a[q];if(mb){var C=Object.assign({},mb);C=(delete C.align,delete C.center,delete C.spacing,delete C.columns,C);c[q]=C;for(var S of["align","center","spacing"])if(void 0!==mb[S]){var ba=void 0,sa=void 0;null!=(ba=Ta)[sa=S]||(ba[sa]={});Ta[S][q]=mb[S]}}}return{facetMapping:c,
layout:Ta}}sa=Object.assign({},h);a=h.align;q=h.center;S=h.spacing;ba=h.columns;sa=(delete sa.align,delete sa.center,delete sa.spacing,delete sa.columns,sa);sa=(c=c.repeater)?ae(sa)?ci(sa,c):ri(sa,c):sa;return{facetMapping:sa,layout:Object.assign({},a?{align:a}:{},q?{center:q}:{},S?{spacing:S}:{},ba?{columns:ba}:{})}}mapLayer(a,c){var e=Object.assign({},c),g=c.parentEncoding;c=c.parentProjection;e=(delete e.parentEncoding,delete e.parentProjection,e);var h=Object.assign({},a);const q=a.encoding,C=
a.projection;h=(delete h.encoding,delete h.projection,h);g=Object.assign({},e,{parentEncoding:Th({parentEncoding:g,encoding:q,layer:!0}),parentProjection:th({parentProjection:c,projection:C})});return super.mapLayer(Object.assign({},h,a.name?{name:[g.repeaterPrefix,a.name].filter(S=>S).join("_")}:{}),g)}}class xm extends Vl{map(a,c){null!=c.emptySelections||(c.emptySelections={});null!=c.selectionPredicates||(c.selectionPredicates={});a=Ki(a,c);return super.map(a,c)}mapLayerOrUnit(a,c){a=Ki(a,c);
if(a.encoding){const e={};for(const g of Ni(a.encoding)){const [h,q]=g;e[h]=di(q,c)}a=Object.assign({},a,{encoding:e})}return super.mapLayerOrUnit(a,c)}mapUnit(a,c){var e=Object.assign({},a);const g=a.selection;e=(delete e.selection,e);return g?Object.assign({},e,{params:Ni(g).map(h=>{let [q,C]=h;var S=Object.assign({},C);h=C.init;const ba=C.bind,sa=C.empty;S=(delete S.init,delete S.bind,delete S.empty,S);"single"===S.type?(S.type="point",S.toggle=!1):"multi"===S.type&&(S.type="point");c.emptySelections[q]=
"none"!==sa;let Ta;for(const mb of Jg(null!=(Ta=c.selectionPredicates[q])?Ta:{}))mb.empty="none"!==sa;return{name:q,value:h,select:S,bind:ba}})}):a}}class Rk extends Vl{map(a,c){var e;const g=null!=(e=c.selections)?e:[];if(a.params&&!lf(a)){e=[];for(const h of a.params)Jd(h)?g.push(h):e.push(h);a.params=e}c.selections=g;return super.map(a,c)}mapUnit(a,c){const e=c.selections;if(!e||!e.length)return a;let g;const h=(null!=(g=c.path)?g:[]).concat(a.name);c=[];for(const q of e)if(q.views&&q.views.length)for(const C of q.views)(l.isString(C)&&
(C===a.name||h.includes(C))||l.isArray(C)&&C.map(S=>h.indexOf(S)).every((S,ba,sa)=>-1!==S&&(0===ba||S>sa[ba-1])))&&c.push(q);else c.push(q);c.length&&(a.params=c);return a}}for(const a of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const c=Rk.prototype[a];Rk.prototype[a]=function(e,g){var h=c,q=h.call;let C;var S=e.name?Object.assign({},g,{path:(null!=(C=g.path)?C:[]).concat(e.name)}):g;return q.call(h,this,e,S)}}const wm=new Ln,tj=new xm,nn=new Rk,gk=["background","padding"];class Ah{constructor(){let a=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.explicit=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.implicit=a}clone(){return new Ah(ve(this.explicit),ve(this.implicit))}combine(){return Object.assign({},this.explicit,this.implicit)}get(a){return U(this.explicit[a],this.implicit[a])}getWithExplicit(a){return void 0!==this.explicit[a]?{explicit:!0,value:this.explicit[a]}:void 0!==this.implicit[a]?{explicit:!1,value:this.implicit[a]}:{explicit:!1,value:void 0}}setWithExplicit(a,
c){let {value:e,explicit:g}=c;void 0!==e&&this.set(a,e,g)}set(a,c,e){delete this[e?"implicit":"explicit"][a];this[e?"explicit":"implicit"][a]=c;return this}copyKeyFromSplit(a,c){let {explicit:e,implicit:g}=c;void 0!==e[a]?this.set(a,e[a],!0):void 0!==g[a]&&this.set(a,g[a],!1)}copyKeyFromObject(a,c){void 0!==c[a]&&this.set(a,c[a],!0)}copyAll(a){for(const c of Yc(a.combine())){const e=a.getWithExplicit(c);this.setWithExplicit(c,e)}}}class Sm extends Ah{constructor(){let a=0<arguments.length&&void 0!==
arguments[0]?arguments[0]:{},c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super(a,c);this.explicit=a;this.implicit=c;this.parseNothing=e}clone(){const a=super.clone();a.parseNothing=this.parseNothing;return a}}let Of=function(a){a[a.Raw=0]="Raw";a[a.Main=1]="Main";a[a.Row=2]="Row";a[a.Column=3]="Column";a[a.Lookup=4]="Lookup";return a}({});class xf{constructor(a,c){this.debugName=c;V(this,"_children",[]);V(this,"_parent",null);
V(this,"_hash",void 0);a&&(this.parent=a)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(a){(this._parent=a)&&a.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(a,c){this._children.includes(a)?J("Attempt to add the same child twice."):void 0!==c?this._children.splice(c,0,a):this._children.push(a)}removeChild(a){a=this._children.indexOf(a);this._children.splice(a,1);return a}remove(){let a=this._parent.removeChild(this);
for(const c of this._children)c._parent=this._parent,this._parent.addChild(c,a++)}insertAsParentOf(a){const c=a.parent;c.removeChild(this);this.parent=c;a.parent=this}swapWithParent(){const a=this._parent,c=a.parent;for(var e of this._children)e.parent=a;this._children=[];a.removeChild(this);e=a.parent.removeChild(a);this._parent=c;c.addChild(this,e);a.parent=this}}class Sg extends xf{clone(){const a=new this.constructor;a.debugName=`clone_${this.debugName}`;a._source=this._source;a._name=`clone_${this._name}`;
a.type=this.type;a.refCounts=this.refCounts;a.refCounts[a._name]=0;return a}constructor(a,c,e,g){super(a,c);this.type=e;this.refCounts=g;V(this,"_source",void 0);V(this,"_name",void 0);this._source=this._name=c;!this.refCounts||this._name in this.refCounts||(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===this._hash&&(this._hash=`Output ${ea()}`);return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(a){this._source=
a}}class jg extends xf{clone(){return new jg(null,ve(this.timeUnits))}constructor(a,c){super(a);this.timeUnits=c}static makeFromEncoding(a,c){const e=c.reduceFieldDef((g,h,q)=>{const {field:C,timeUnit:S}=h;if(S){let ba;if(Tb(S)){if(gg(c)){const {mark:sa,markDef:Ta,config:mb}=c,ac=m({fieldDef:h,markDef:Ta,config:mb});if(fc(sa)||ac)ba={timeUnit:od(S),field:C}}}else ba={as:mc(h,{forAs:!0}),field:C,timeUnit:S};if(gg(c)){const {mark:sa,markDef:Ta,config:mb}=c;h=m({fieldDef:h,markDef:Ta,config:mb});fc(sa)&&
I(q)&&.5!==h&&(ba.rectBandPosition=h)}ba&&(g[Bb(ba)]=ba)}return g},{});return lb(e)?null:new jg(a,e)}static makeFromTransform(a,c){var e=Object.assign({},c);c=Object.assign({},e);e=e.timeUnit;c=(delete c.timeUnit,c);e=od(e);c=Object.assign({},c,{timeUnit:e});return new jg(a,{[Bb(c)]:c})}merge(a){this.timeUnits=Object.assign({},this.timeUnits);for(const c in a.timeUnits)this.timeUnits[c]||(this.timeUnits[c]=a.timeUnits[c]);for(const c of a.children)a.removeChild(c),c.parent=this;a.remove()}removeFormulas(a){const c=
{};for(const e of Ni(this.timeUnits)){const [g,h]=e;a.has(void 0!==h.as?h.as:`${h.field}_end`)||(c[g]=h)}this.timeUnits=c}producedFields(){return new Set(Jg(this.timeUnits).map(a=>void 0!==a.as?a.as:`${a.field}_end`))}dependentFields(){return new Set(Jg(this.timeUnits).map(a=>a.field))}hash(){return`TimeUnit ${Bb(this.timeUnits)}`}assemble(){const a=[];for(const h of Jg(this.timeUnits)){const {rectBandPosition:q}=h,C=od(h.timeUnit);if(void 0!==h.as){const {field:S,as:ba}=h;var c=C,e=Object.assign({},
c),g=c.unit;c=c.utc;e=(delete e.unit,delete e.utc,e);const sa=[ba,`${ba}_end`];a.push(Object.assign({},{field:gb(S),type:"timeunit"},g?{units:Zb(g)}:{},c?{timezone:"utc"}:{},e,{as:sa}));a.push(...Kb(sa,q,C))}else h&&({field:g}=h,g=g.replaceAll("\\.","."),c=Qa({timeUnit:C,field:g}),e=`${g}_end`,a.push({type:"formula",expr:c,as:e}),a.push(...Kb([g,e],q,C)))}return a}}class Kn{constructor(){V(this,"hasChannel",void 0);V(this,"hasField",void 0);V(this,"hasSelectionId",void 0);V(this,"timeUnit",void 0);
V(this,"items",void 0);for(var a=arguments.length,c=Array(a),e=0;e<a;e++)c[e]=arguments[e];this.items=c;this.hasChannel={};this.hasField={};this.hasSelectionId=!1}}const hh={defined:a=>"interval"===a.type&&"global"===a.resolve&&a.bind&&"scales"===a.bind,parse:(a,c)=>{const e=c.scales=[];for(const h of c.project.items){var g=h.channel;if(!Kg[g])continue;const q=(g=a.getScaleComponent(g))?g.get("type"):void 0;g&&Pd(q)?(g.set("selectionExtent",{param:c.name,field:h.field},!0),e.push(h)):J("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},
topLevelSignals:(a,c,e)=>{const g=c.scales.filter(q=>0===e.filter(C=>C.name===q.signals.data).length);if(!a.parent||t(a)||0===g.length)return e;a=e.filter(q=>q.name===c.name)[0];let h=a.update;if(0<=h.indexOf("vlSelectionResolve"))a.update=`{${g.map(q=>`${l.stringValue(gb(q.field))}: ${q.signals.data}`).join(", ")}}`;else{for(const q of g){const C=`${l.stringValue(gb(q.field))}: ${q.signals.data}`;h.includes(C)||(h=`${h.substring(0,h.length-1)}, ${C}}`)}a.update=h}return e.concat(g.map(q=>({name:q.signals.data})))},
signals:(a,c,e)=>{if(a.parent&&!t(a))for(const g of c.scales)a=e.filter(h=>h.name===g.signals.data)[0],a.push="outer",delete a.value,delete a.update;return e}},Al={left:"x",center:"xc",right:"x2"},hk={top:"y",middle:"yc",bottom:"y2"},zl=new Set(["aria","width","height"]),Ui={defined:a=>"point"===a.type&&a.nearest,parse:(a,c)=>{if(c.events)for(const e of c.events)e.markname=a.getName("voronoi")},marks:(a,c,e)=>{const {x:g,y:h}=c.project.hasChannel;c=a.mark;if(cb(c))return J(`The "nearest" transform is not supported for ${c} marks.`),
e;c={name:a.getName("voronoi"),type:"path",interactive:!0,from:{data:a.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},Rb(a,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:g||!h?"datum.datum.x || 0":"0"},y:{expr:h||!g?"datum.datum.y || 0":"0"},size:[a.getSizeSignalRef("width"),a.getSizeSignalRef("height")]}]};let q=0,C=!1;e.forEach((S,ba)=>{let sa;S=null!=(sa=S.name)?sa:"";S===a.component.mark[0].name?
q=ba:0<=S.indexOf("voronoi")&&(C=!0)});C||e.splice(q+1,0,c);return e}},Sk={defined:a=>"point"===a.type&&"global"===a.resolve&&a.bind&&"scales"!==a.bind&&!rg(a.bind),parse:(a,c,e)=>xh(c,e),topLevelSignals:(a,c,e)=>{const g=c.name;a=c.project;const h=c.bind,q=c.init&&c.init[0],C=Ui.defined(c)?"(item().isVoronoi ? datum.datum : datum)":"datum";a.items.forEach((S,ba)=>{const sa=ua(`${g}_${S.field}`);if(!e.filter(Ta=>Ta.name===sa).length){let Ta,mb;e.unshift(Object.assign({},{name:sa},q?{init:wh(q[ba])}:
{value:null},{on:c.events?[{events:c.events,update:`datum && item().mark.marktype !== 'group' ? ${C}[${l.stringValue(S.field)}] : null`}]:[],bind:null!=(mb=null!=(Ta=h[S.field])?Ta:h[S.channel])?mb:h}))}});return e},signals:(a,c,e)=>{const g=c.name;var h=c.project;a=e.filter(C=>C.name===g+"_tuple")[0];c=g+"_tuple_fields";h=h.items.map(C=>ua(`${g}_${C.field}`));const q=h.map(C=>`${C} !== null`).join(" \x26\x26 ");h.length&&(a.update=`${q} ? {fields: ${c}, values: [${h.join(", ")}]} : null`);delete a.value;
delete a.on;return e}},Bl={defined:a=>"point"===a.type&&!!a.toggle,signals:(a,c,e)=>e.concat({name:c.name+"_toggle",value:!1,on:[{events:c.events,update:c.toggle}]}),modifyExpr:(a,c)=>{const e=c.name+"_tuple",g=c.name+"_toggle";return`${g} ? null : ${e}, `+("global"===c.resolve?`${g} ? null : true, `:`${g} ? null : {unit: ${wg(a)}}, `)+`${g} ? ${e} : null`}},Ul={defined:a=>{const c="global"===a.resolve&&a.bind&&rg(a.bind);a=1===a.project.items.length&&"_vgsid_"!==a.project.items[0].field;c&&!a&&J("Legend bindings are only supported for selections over an individual field or encoding channel.");
return c&&a},parse:(a,c,e)=>{a=ve(e);a.select=l.isString(a.select)?{type:a.select,toggle:c.toggle}:Object.assign({},a.select,{toggle:c.toggle});xh(c,a);if(l.isObject(e.select)&&(e.select.on||e.select.clear))for(const g of c.events){let h;g.filter=l.array(null!=(h=g.filter)?h:[]);g.filter.includes('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')||g.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}e=rh(c.bind)?c.bind.legend:"click";e=l.isString(e)?
l.parseSelector(e,"view"):l.array(e);c.bind={legend:{merge:e}}},topLevelSignals:(a,c,e)=>{a=c.name;const g=rh(c.bind)&&c.bind.legend,h=C=>S=>{S=ve(S);S.markname=C;return S};for(const C of c.project.items){if(!C.hasLegend)continue;var q=`${ua(C.field)}_legend`;const S=`${a}_${q}`;0===e.filter(ba=>ba.name===S).length&&(q=g.merge.map(h(`${q}_symbols`)).concat(g.merge.map(h(`${q}_labels`))).concat(g.merge.map(h(`${q}_entries`))),e.unshift(Object.assign({},{name:S},c.init?{}:{value:null},{on:[{events:q,
update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:g.merge,update:`!event.item || !datum ? null : ${S}`,force:!0}]})))}return e},signals:(a,c,e)=>{const g=c.name;var h=c.project;a=e.find(C=>C.name===g+"_tuple");var q=g+"_tuple_fields";h=h.items.filter(C=>C.hasLegend).map(C=>ua(`${g}_${ua(C.field)}_legend`));q=`${h.map(C=>`${C} !== null`).join(" \x26\x26 ")} ? {fields: ${q}, values: [${h.join(", ")}]} : null`;c.events&&0<h.length?a.on.push({events:h.map(C=>
({signal:C})),update:q}):0<h.length&&(a.update=q,delete a.value,delete a.on);a=e.find(C=>C.name===g+"_toggle");q=rh(c.bind)&&c.bind.legend;a&&(c.events?a.on.push(Object.assign({},a.on[0],{events:q})):a.on[0].events=q);return e}},xk=[{defined:a=>"point"===a.type,signals:(a,c,e)=>{const g=c.name,h=g+"_tuple_fields";var q=c.project,C,S=Jg(null!=(C=a.component.selection)?C:{}).reduce((ba,sa)=>"interval"===sa.type?ba.concat(sa.name+"_brush"):ba,[]).map(ba=>`indexof(item().mark.name, '${ba}') < 0`).join(" \x26\x26 ");
C=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${S?` && ${S}`:""}`;S=`unit: ${wg(a)}, `;c.project.hasSelectionId?S+=`${"_vgsid_"}: ${"(item().isVoronoi ? datum.datum : datum)"}[${l.stringValue("_vgsid_")}]`:(q=q.items.map(ba=>{let sa;return(null==(sa=a.fieldDef(ba.channel))?0:sa.bin)?`[${"(item().isVoronoi ? datum.datum : datum)"}[${l.stringValue(a.vgField(ba.channel,{}))}], `+`${"(item().isVoronoi ? datum.datum : datum)"}[${l.stringValue(a.vgField(ba.channel,
{binSuffix:"end"}))}]]`:`${"(item().isVoronoi ? datum.datum : datum)"}[${l.stringValue(ba.field)}]`}).join(", "),S+=`fields: ${h}, values: [${q}]`);c=c.events;return e.concat([{name:g+"_tuple",on:c?[{events:c,update:`${C} ? {${S}} : null`,force:!0}]:[]}])}},{defined:a=>"interval"===a.type,parse:(a,c,e)=>{a.hasProjection&&(a=Object.assign({},l.isObject(e.select)?e.select:{}),a.fields=["_vgsid_"],a.encodings||(a.encodings=e.value?Yc(e.value):["longitude","latitude"]),e.select=Object.assign({},{type:"interval"},
a));if(c.translate&&!hh.defined(c)){e=`!event.item || event.item.mark.name !== ${l.stringValue(c.name+"_brush")}`;for(const g of c.events){if(!g.between){J(`${g} is not an ordered event stream for interval selections.`);continue}let h,q;c=l.array(null!=(q=(h=g.between[0]).filter)?q:h.filter=[]);0>c.indexOf(e)&&c.push(e)}}},signals:(a,c,e)=>{var g=c.name;const h=g+"_tuple";var q=Jg(c.project.hasChannel).filter(Ta=>"x"===Ta.channel||"y"===Ta.channel);const C=c.init?c.init[0]:null;e.push(...q.reduce((Ta,
mb)=>Ta.concat(L(a,c,mb,C&&C[mb.index])),[]));if(a.hasProjection){var S=l.stringValue(a.projectionName());const Ta=a.projectionName()+"_center",{x:mb,y:ac}=c.project.hasChannel;var ba=mb&&mb.signals.visual;const Ec=ac&&ac.signals.visual;var sa=mb?C&&C[mb.index]:`${Ta}[0]`;const gc=ac?C&&C[ac.index]:`${Ta}[1]`;ba="["+`[${ba?ba+"[0]":"0"}, ${Ec?Ec+"[0]":"0"}],`+`[${ba?ba+"[1]":a.getSizeSignalRef("width").signal}, `+`${Ec?Ec+"[1]":a.getSizeSignalRef("height").signal}]`+"]";C&&(e.unshift({name:g+"_init",
init:`[scale(${S}, [${mb?sa[0]:sa}, ${ac?gc[0]:gc}]), `+`scale(${S}, [${mb?sa[1]:sa}, ${ac?gc[1]:gc}])]`}),mb&&ac||e.find(Fc=>Fc.name===Ta)||e.unshift({name:Ta,update:`invert(${S}, [${a.getSizeSignalRef("width").signal}/2, ${a.getSizeSignalRef("height").signal}/2])`}));g=`intersect(${ba}, {markname: ${l.stringValue(a.getName("marks"))}}, unit.mark)`;S=`{unit: ${wg(a)}}`;g=`vlSelectionTuples(${g}, ${S})`;q=q.map(Fc=>Fc.signals.visual);return e.concat({name:h,on:[{events:[...(q.length?[{signal:q.join(" || ")}]:
[]),...(C?[{signal:"geo_interval_init_tick"}]:[])],update:g}]})}hh.defined(c)||(S=g+"_scale_trigger",sa=q.map(Ta=>{var mb=Ta.channel;const {data:ac,visual:Ec}=Ta.signals;Ta=l.stringValue(a.scaleName(mb));mb=a.getScaleComponent(mb).get("type");mb=Pd(mb)?"+":"";return`(!isArray(${ac}) || `+`(${mb}invert(${Ta}, ${Ec})[0] === ${mb}${ac}[0] && `+`${mb}invert(${Ta}, ${Ec})[1] === ${mb}${ac}[1]))`}),sa.length&&e.push({name:S,value:{},on:[{events:q.map(Ta=>({scale:a.scaleName(Ta.channel)})),update:sa.join(" \x26\x26 ")+
` ? ${S} : {}`}]}));q=q.map(Ta=>Ta.signals.data);g=`unit: ${wg(a)}, fields: ${g+"_tuple_fields"}, values`;return e.concat(Object.assign({},{name:h},C?{init:`{${g}: ${wh(C)}}`}:{},q.length?{on:[{events:[{signal:q.join(" || ")}],update:`${q.join(" \x26\x26 ")} ? {${g}: [${q}]} : null`}]}:{}))},topLevelSignals:(a,c,e)=>{gg(a)&&a.hasProjection&&c.init&&(e.filter(g=>"geo_interval_init_tick"===g.name).length||e.unshift({name:"geo_interval_init_tick",value:null,on:[{events:"timer{1}",update:"geo_interval_init_tick \x3d\x3d\x3d null ? {} : geo_interval_init_tick"}]}));
return e},marks:(a,c,e)=>{const g=c.name,{x:h,y:q}=c.project.hasChannel,C=null==h?void 0:h.signals.visual,S=null==q?void 0:q.signals.visual;var ba=`data(${l.stringValue(c.name+"_store")})`;if(hh.defined(c)||!h&&!q)return e;const sa={x:void 0!==h?{signal:`${C}[0]`}:{value:0},y:void 0!==q?{signal:`${S}[0]`}:{value:0},x2:void 0!==h?{signal:`${C}[1]`}:{field:{group:"width"}},y2:void 0!==q?{signal:`${S}[1]`}:{field:{group:"height"}}};if("global"===c.resolve)for(var Ta of Yc(sa))sa[Ta]=[Object.assign({},
{test:`${ba}.length && ${ba}[0].unit === ${wg(a)}`},sa[Ta]),{value:0}];Ta=c.mark;ba=Object.assign({},Ta);a=Ta.fill;c=Ta.fillOpacity;Ta=Ta.cursor;const mb=(delete ba.fill,delete ba.fillOpacity,delete ba.cursor,ba);ba=Yc(mb).reduce((ac,Ec)=>{ac[Ec]=[{test:[void 0!==h&&`${C}[0] !== ${C}[1]`,void 0!==q&&`${S}[0] !== ${S}[1]`].filter(gc=>gc).join(" \x26\x26 "),value:mb[Ec]},{value:null}];return ac},{});return[{name:`${g+"_brush"}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:a},fillOpacity:{value:c}},
update:sa}},...e,{name:g+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},Ta?{cursor:{value:Ta}}:{},{fill:{value:"transparent"}}),update:Object.assign({},sa,ba)}}]}},{defined:()=>!0,parse:(a,c,e)=>{const g=c.name;var h;const q=null!=(h=c.project)?h:c.project=new Kn,C={};h={};const S=new Set,ba=(Jc,kd)=>{Jc="visual"===kd?Jc.channel:Jc.field;let jd=ua(`${g}_${Jc}`);for(let Ad=1;S.has(jd);Ad++)jd=ua(`${g}_${Jc}_${Ad}`);S.add(jd);return{[kd]:jd}},sa=c.type,Ta=a.config.selection[sa],mb=void 0!==
e.value?l.array(e.value):null;let {fields:ac,encodings:Ec}=l.isObject(e.select)?e.select:{};if(!ac&&!Ec&&mb)for(var gc of mb)if(l.isObject(gc))for(const Jc of Yc(gc))if(tl[Jc])(Ec||(Ec=[])).push(Jc);else if("interval"===sa)J('Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.'),Ec=Ta.encodings;else{let kd;(null!=(kd=ac)?kd:ac=[]).push(Jc)}ac||Ec||(Ec=Ta.encodings,"fields"in Ta&&(ac=Ta.fields));var Fc;for(const Jc of null!=(Fc=Ec)?Fc:[])(Fc=a.fieldDef(Jc))?(e=
Fc.field,Fc.aggregate?J(`Cannot project a selection on encoding channel "${Jc}" as it uses an aggregate function ("${Fc.aggregate}").`):e?(Fc.timeUnit&&!Tb(Fc.timeUnit)&&(e=a.vgField(Jc),gc={timeUnit:Fc.timeUnit,as:e,field:Fc.field},h[Bb(gc)]=gc),C[e]||(Fc="interval"===sa&&Kg[Jc]&&Pd(a.getScaleComponent(Jc).get("type"))?"R":Fc.bin?"R-RE":"E",Fc={field:e,channel:Jc,type:Fc,index:q.items.length},Fc.signals=Object.assign({},ba(Fc,"data"),ba(Fc,"visual")),q.items.push(C[e]=Fc),q.hasField[e]=C[e],q.hasSelectionId=
q.hasSelectionId||"_vgsid_"===e,Jc in Bi?(Fc.geoChannel=Jc,Fc.channel=G(Jc),q.hasChannel[Fc.channel]=C[e]):q.hasChannel[Jc]=C[e])):J(Hb(Jc))):J(Hb(Jc));let Hc;for(const Jc of null!=(Hc=ac)?Hc:[])q.hasField[Jc]||(a={type:"E",field:Jc,index:q.items.length},a.signals=Object.assign({},ba(a,"data")),q.items.push(a),q.hasField[Jc]=a,q.hasSelectionId=q.hasSelectionId||"_vgsid_"===Jc);mb&&(c.init=mb.map(Jc=>q.items.map(kd=>l.isObject(Jc)?void 0!==Jc[kd.geoChannel||kd.channel]?Jc[kd.geoChannel||kd.channel]:
Jc[kd.field]:Jc)));lb(h)||(q.timeUnit=new jg(null,h))},signals:(a,c,e)=>{const g=c.name+"_tuple_fields";return 0<e.filter(h=>h.name===g).length||c.project.hasSelectionId?e:e.concat({name:g,value:c.project.items.map(Gg)})}},Bl,Sk,hh,Ul,{defined:a=>void 0!==a.clear&&!1!==a.clear,parse:(a,c)=>{c.clear&&(c.clear=l.isString(c.clear)?l.parseSelector(c.clear,"view"):c.clear)},topLevelSignals:(a,c,e)=>{if(Sk.defined(c))for(const g of c.project.items)a=e.findIndex(h=>h.name===ua(`${c.name}_${g.field}`)),-1!==
a&&e[a].on.push({events:c.clear,update:"null"});return e},signals:(a,c,e)=>{function g(h,q){-1!==h&&e[h].on&&e[h].on.push({events:c.clear,update:q})}if("interval"===c.type)for(const h of c.project.items)a=e.findIndex(q=>q.name===h.signals.visual),g(a,"[0, 0]"),-1===a&&(a=e.findIndex(q=>q.name===h.signals.data),g(a,"null"));else a=e.findIndex(h=>h.name===c.name+"_tuple"),g(a,"null"),Bl.defined(c)&&(a=e.findIndex(h=>h.name===c.name+"_toggle"),g(a,"false"));return e}},{defined:a=>"interval"===a.type&&
a.translate,signals:(a,c,e)=>{const g=c.name,h=hh.defined(c),q=g+"_translate_anchor",{x:C,y:S}=c.project.hasChannel;let ba=l.parseSelector(c.translate,"scope");h||(ba=ba.map(sa=>(sa.between[0].markname=g+"_brush",sa)));e.push({name:q,value:{},on:[{events:ba.map(sa=>sa.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==C?`, extent_x: ${h?bc(a,"x"):`slice(${C.signals.visual})`}`:"")+(void 0!==S?`, extent_y: ${h?bc(a,"y"):`slice(${S.signals.visual})`}`:"")+"}"}]},{name:g+"_translate_delta",value:{},
on:[{events:ba,update:`{x: ${q}.x - x(unit), y: ${q}.y - y(unit)}`}]});void 0!==C&&ch(a,c,C,"width",e);void 0!==S&&ch(a,c,S,"height",e);return e}},{defined:a=>"interval"===a.type&&a.zoom,signals:(a,c,e)=>{const g=c.name,h=hh.defined(c),q=g+"_zoom_delta",{x:C,y:S}=c.project.hasChannel,ba=l.stringValue(a.scaleName("x")),sa=l.stringValue(a.scaleName("y"));let Ta=l.parseSelector(c.zoom,"scope");h||(Ta=Ta.map(mb=>(mb.markname=g+"_brush",mb)));e.push({name:g+"_zoom_anchor",on:[{events:Ta,update:h?"{"+[ba?
`x: invert(${ba}, x(unit))`:"",sa?`y: invert(${sa}, y(unit))`:""].filter(mb=>mb).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:q,on:[{events:Ta,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==C&&nh(a,c,C,"width",e);void 0!==S&&nh(a,c,S,"height",e);return e}},Ui];class Pj extends xf{clone(){return new Pj(null,this.model,ve(this.filter))}constructor(a,c,e){super(a);this.model=c;this.filter=e;V(this,"expr",void 0);V(this,"_dependentFields",void 0);this.expr=Yf(this.model,
this.filter,this);this._dependentFields=fj(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}const gn={scale:a=>{let {model:c,channel:e}=a;return c.scaleName(e)},format:a=>{({format:a}=a);return a},formatType:a=>{({formatType:a}=a);return a},grid:a=>{let {fieldOrDatumDef:c,axis:e,scaleType:g}=a,h;return null!=(h=e.grid)?h:!Oe(g)&&Oa(c)&&!zb(null==c?void 0:c.bin)&&!kb(null==c?
void 0:c.bin)},gridScale:a=>{let {model:c,channel:e}=a;a="x"===e?"y":"x";a=c.getScaleComponent(a)?c.scaleName(a):void 0;return a},labelAlign:a=>{let {axis:c,labelAngle:e,orient:g,channel:h}=a;return c.labelAlign||Jj(e,g,h)},labelAngle:a=>{({labelAngle:a}=a);return a},labelBaseline:a=>{let {axis:c,labelAngle:e,orient:g,channel:h}=a;return c.labelBaseline||Cj(e,g,h)},labelFlush:a=>{let {axis:c,fieldOrDatumDef:e,channel:g}=a;null==(a=c.labelFlush)&&(a="x"===g&&ub(["quantitative","temporal"],e.type)?
!0:void 0);return a},labelOverlap:a=>{let {axis:c,fieldOrDatumDef:e,scaleType:g}=a;if(null==(a=c.labelOverlap)){a=e.type;var h=Oa(e)&&!!e.timeUnit,q=Oa(e)?e.sort:void 0;a=h&&!l.isObject(q)||"nominal"!==a&&"ordinal"!==a?"log"===g||"symlog"===g?"greedy":!0:void 0}return a},orient:a=>{({orient:a}=a);return a},tickCount:a=>{let {channel:c,model:e,axis:g,fieldOrDatumDef:h,scaleType:q}=a;a=(a="x"===c?"width":"y"===c?"height":void 0)?e.getSizeSignalRef(a):void 0;let C;if(null!=(C=g.tickCount))var S=C;else a:{let {fieldOrDatumDef:ba,
scaleType:sa,size:Ta,values:mb}={fieldOrDatumDef:h,scaleType:q,size:a,values:g.values};if(mb||Oe(sa)||"log"===sa)S=void 0;else{if(Oa(ba)){if(zb(ba.bin)){S={signal:`ceil(${Ta.signal}/10)`};break a}if(ba.timeUnit&&ub(["month","hours","day","quarter"],null==(S=od(ba.timeUnit))?void 0:S.unit)){S=void 0;break a}}S={signal:`ceil(${Ta.signal}/40)`}}}return S},tickMinStep:function(a){let {format:c,fieldOrDatumDef:e}=a;if("d"===c)return 1;if(Oa(e)&&({timeUnit:a}=e,a&&(a=zd(a))))return{signal:a}},title:a=>
{let {axis:c,model:e,channel:g}=a;if(void 0!==c.title)return c.title;a=Xk(e,g);if(void 0!==a)return a;a=e.typedFieldDef(g);const h=e.fieldDef("x"===g?"x2":"y2");return oa(a?[qa(a)]:[],Oa(h)?[qa(h)]:[])},values:a=>{let {axis:c,fieldOrDatumDef:e}=a;a=c.values;a=l.isArray(a)?yf(e,a):Ob(a)?a:void 0;return a},zindex:a=>{let {axis:c,fieldOrDatumDef:e,mark:g}=a;null==(a=c.zindex)&&(a="rect"===g&&vd(e)?1:0);return a}};class Gk extends xf{clone(){return new Gk(null,ve(this.transform))}constructor(a,c){super(a);
this.transform=c;V(this,"_dependentFields",void 0);this._dependentFields=fj(this.transform.calculate)}static parseAllForSortIndex(a,c){c.forEachFieldDef((e,g)=>{if(Bd(e)&&Je(e.sort)){const {field:q,timeUnit:C}=e;var h=e.sort;h=h.map((S,ba)=>`${Ee({field:q,timeUnit:C,equal:S})} ? ${ba} : `).join("")+h.length;a=new Gk(a,{calculate:h,as:vi(e,g,{forAs:!0})})}});return a}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",
expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${Bb(this.transform)}`}}const im=["row","column"],gl=["header","footer"],ym={column:{start:0,end:1},row:{start:1,end:0}},jm=Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,
labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,
titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),Cl=Yc(jm);class Bh extends Ah{}const Vi={symbols:function(a,c){let {fieldOrDatumDef:e,model:g,channel:h,legendCmpt:q,legendType:C}=c;if("symbol"===C){var {markDef:S,encoding:ba,config:sa,mark:Ta}=g;c=S.filled&&"trail"!==Ta;var mb=Object,ac=mb.assign,Ec={};for(var gc of Ck){const Ad=
ic(gc,g.markDef,g.config);void 0!==Ad&&(Ec[gc]=Va(Ad))}gc=ac.call(mb,{},Ec,Qc(g,{filled:c}));var Fc;mb=null!=(Fc=q.get("symbolOpacity"))?Fc:sa.legend.symbolOpacity;var Hc;Fc=null!=(Hc=q.get("symbolFillColor"))?Hc:sa.legend.symbolFillColor;var Jc;Hc=null!=(Jc=q.get("symbolStrokeColor"))?Jc:sa.legend.symbolStrokeColor;var kd;Jc=void 0===mb?null!=(kd=H(ba.opacity))?kd:S.opacity:void 0;if(gc.fill)if("fill"===h||c&&"color"===h)delete gc.fill;else if(gc.fill.field)if(Fc)delete gc.fill;else{let Ad;gc.fill=
Va(null!=(Ad=sa.legend.symbolBaseFillColor)?Ad:"black");gc.fillOpacity=Va(null!=Jc?Jc:1)}else if(l.isArray(gc.fill)){var jd;let Ad,de;if(kd=null!=(de=null!=(Ad=O(null!=(jd=ba.fill)?jd:ba.color))?Ad:S.fill)?de:c&&S.color)gc.fill=Va(kd)}gc.stroke&&("stroke"===h||!c&&"color"===h?delete gc.stroke:gc.stroke.field||Hc?delete gc.stroke:l.isArray(gc.stroke)&&(jd=U(O(ba.stroke||ba.color),S.stroke,c?S.color:void 0))&&(gc.stroke={value:jd}));"opacity"!==h&&((jd=Oa(e)&&ab(g,q,e))?gc.opacity=[Object.assign({},
{test:jd},Va(null!=Jc?Jc:1)),Va(sa.legend.unselectedOpacity)]:Jc&&(gc.opacity=Va(Jc)));gc=Object.assign({},gc,a);return lb(gc)?void 0:gc}},gradient:function(a,c){let {model:e,legendType:g,legendCmpt:h}=c;if("gradient"===g){var {config:q,markDef:C,encoding:S}=e;c={};var ba,sa=void 0===(null!=(ba=h.get("gradientOpacity"))?ba:q.legend.gradientOpacity)?H(S.opacity)||C.opacity:void 0;sa&&(c.opacity=Va(sa));c=Object.assign({},c,a);return lb(c)?void 0:c}},labels:function(a,c){let {fieldOrDatumDef:e,model:g,
channel:h,legendCmpt:q}=c;var C=g.legend(h)||{};c=g.config;var S=Oa(e)?ab(g,q,e):void 0;S=S?[{test:S,value:1},{value:c.legend.unselectedOpacity}]:void 0;const {format:ba,formatType:sa}=C;C=void 0;oe(sa)?C=Ud({fieldOrDatumDef:e,field:"datum.value",format:ba,formatType:sa,config:c}):void 0===ba&&void 0===sa&&c.customFormatTypes&&("quantitative"===e.type&&c.numberFormatType?C=Ud({fieldOrDatumDef:e,field:"datum.value",format:c.numberFormat,formatType:c.numberFormatType,config:c}):"temporal"===e.type&&
c.timeFormatType&&Oa(e)&&void 0===e.timeUnit&&(C=Ud({fieldOrDatumDef:e,field:"datum.value",format:c.timeFormat,formatType:c.timeFormatType,config:c})));a=Object.assign({},S?{opacity:S}:{},C?{text:C}:{},a);return lb(a)?void 0:a},entries:function(a,c){({legendCmpt:c}=c);let e;return(null==(e=c.get("selections"))?0:e.length)?Object.assign({},a,{fill:{value:"transparent"}}):a}},Tk={direction:a=>{({direction:a}=a);return a},format:a=>{let {fieldOrDatumDef:c,legend:e,config:g}=a;const {format:h,formatType:q}=
e;return hf(c,c.type,h,q,g,!1)},formatType:a=>{let {legend:c,fieldOrDatumDef:e,scaleType:g}=a;({formatType:a}=c);return Cf(a,e,g)},gradientLength:a=>{const {legend:c,legendConfig:e}=a;let g,h;if(null!=(h=null!=(g=c.gradientLength)?g:e.gradientLength))a=h;else{{let {legendConfig:q,model:C,direction:S,orient:ba,scaleType:sa}=a;const {gradientHorizontalMaxLength:Ta,gradientHorizontalMinLength:mb,gradientVerticalMaxLength:ac,gradientVerticalMinLength:Ec}=q;a=gh.has(sa)?"horizontal"===S?"top"===ba||"bottom"===
ba?eb(C,"width",mb,Ta):mb:eb(C,"height",Ec,ac):void 0}}return a},labelOverlap:a=>{let {legend:c,legendConfig:e,scaleType:g}=a;var h;h=null!=(a=null!=(h=c.labelOverlap)?h:e.labelOverlap)?a:ub(["quantile","threshold","log","symlog"],g)?"greedy":void 0;return h},symbolType:a=>{let {legend:c,markDef:e,channel:g,encoding:h}=a;if(null!=(a=c.symbolType))var q=a;else a:{a=e.type;var C=e.shape;if("shape"!==g){const S=null!=(q=O(h.shape))?q:C;if(S){q=S;break a}}switch(a){case "bar":case "rect":case "image":case "square":q=
"square";break a;case "line":case "trail":case "rule":q="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":q="circle";break a}q=void 0}return q},title:a=>{let {fieldOrDatumDef:c,config:e}=a;return fe(c,e,{allowDisabling:!0})},type:a=>{let {legendType:c,scaleType:e,channel:g}=a;if(M(g)&&gh.has(e)){if("gradient"===c)return}else if("symbol"===c)return;return c},values:a=>{let {fieldOrDatumDef:c,legend:e}=a;a=e.values;a=l.isArray(a)?yf(c,a):Ob(a)?
a:void 0;return a}},Gj="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");class Wi extends Ah{constructor(a,c,e,g){super(Object.assign({},c),{name:a});this.specifiedProjection=c;this.size=e;this.data=g;V(this,"merged",!1)}get isFit(){return!!this.data}}class ih extends xf{clone(){return new ih(null,ve(this.bins))}constructor(a,c){super(a);this.bins=c}static makeFromEncoding(a,c){const e=c.reduceFieldDef((g,
h,q)=>{if(Lc(h)&&zb(h.bin)){const {key:mb,binComponent:ac}=Hd(h,h.bin,c);var C=Object,S=C.assign,ba=g[mb];var sa=c.config;if(Qf(h,q)){var Ta;let Ec;const gc=gg(c)?null!=(Ec=null!=(Ta=c.axis(q))?Ta:c.legend(q))?Ec:{}:{};q=mc(h,{expr:"datum"});Ta=mc(h,{expr:"datum",binSuffix:"end"});h={formulaAs:mc(h,{binSuffix:"range",forAs:!0}),formula:kf(q,Ta,gc.format,gc.formatType,sa)}}else h={};g[mb]=S.call(C,{},ac,ba,h)}return g},{});return lb(e)?null:new ih(a,e)}static makeFromTransform(a,c,e){const {key:g,
binComponent:h}=Hd(c,c.bin,e);return new ih(a,{[g]:h})}merge(a,c){for(const e of Yc(a.bins))e in this.bins?(c(a.bins[e].signal,this.bins[e].signal),this.bins[e].as=bb([...this.bins[e].as,...a.bins[e].as],Bb)):this.bins[e]=a.bins[e];for(const e of a.children)a.removeChild(e),e.parent=this;a.remove()}producedFields(){return new Set(Jg(this.bins).map(a=>a.as).flat(2))}dependentFields(){return new Set(Jg(this.bins).map(a=>a.field))}hash(){return`Bin ${Bb(this.bins)}`}assemble(){return Jg(this.bins).flatMap(a=>
{const c=[],[e,...g]=a.as;var h=a.bin,q=Object.assign({},h);h=h.extent;q=(delete q.extent,q);q=Object.assign({},{type:"bin",field:gb(a.field),as:e,signal:a.signal},Vb(h)?{extent:null}:{extent:h},a.span?{span:{signal:`span(${a.span})`}}:{},q);!h&&a.extentSignal&&(c.push({type:"extent",field:gb(a.field),signal:a.extentSignal}),q.extent={signal:a.extentSignal});c.push(q);for(const C of g)for(h=0;2>h;h++)c.push({type:"formula",expr:mc({field:e[h]},{expr:"datum"}),as:C[h]});a.formula&&c.push({type:"formula",
expr:a.formula,as:a.formulaAs});return c})}}class ph extends xf{clone(){return new ph(null,new Set(this.dimensions),ve(this.measures))}constructor(a,c,e){super(a);this.dimensions=c;this.measures=e}get groupBy(){return this.dimensions}static makeFromEncoding(a,c){let e=!1;c.forEachFieldDef(q=>{q.aggregate&&(e=!0)});const g={},h=new Set;if(!e)return null;c.forEachFieldDef((q,C)=>{const {aggregate:S,field:ba}=q;if(S)if("count"===S)null!=g["*"]||(g["*"]={}),g["*"].count=new Set([mc(q,{forAs:!0})]);else{if(ia(S)||
Aa(S)){q=ia(S)?"argmin":"argmax";var sa=S[q];null!=g[sa]||(g[sa]={});g[sa][q]=new Set([mc({op:q,field:sa},{forAs:!0})])}else null!=g[ba]||(g[ba]={}),g[ba][S]=new Set([mc(q,{forAs:!0})]);Kg[C]&&"unaggregated"===c.scaleDomain(C)&&(null!=g[ba]||(g[ba]={}),g[ba].min=new Set([mc({field:ba,aggregate:"min"},{forAs:!0})]),g[ba].max=new Set([mc({field:ba,aggregate:"max"},{forAs:!0})]))}else{var Ta=gg(c)?c.encoding[A(C)]:void 0;if(Lc(q)&&gg(c)&&K(q,Ta,c.markDef,c.config)){h.add(mc(q,{}));h.add(mc(q,{suffix:"end"}));
const {mark:mb,markDef:ac,config:Ec}=c;Ta=m({fieldDef:q,markDef:ac,config:Ec});fc(mb)&&.5!==Ta&&I(C)&&(h.add(mc(q,{suffix:"offsetted_rect_start"})),h.add(mc(q,{suffix:"offsetted_rect_end"})));q.bin&&Qf(q,C)&&h.add(mc(q,{binSuffix:"range"}))}else C in Bi?(C=G(C),h.add(c.getName(C))):h.add(mc(q));if(C=Bd(q))C=null==(sa=q.scale)?void 0:sa.range,C=l.isObject(C)&&"field"in C;C&&h.add(q.scale.range.field)}});return 0===h.size+Yc(g).length?null:new ph(a,h,g)}static makeFromTransform(a,c){const e=new Set,
g={};for(const q of c.aggregate){const {op:C,field:S,as:ba}=q;if(C)if("count"===C){let sa;null!=(sa=g)["*"]||(sa["*"]={});g["*"].count=new Set([ba?ba:mc(q,{forAs:!0})])}else{let sa,Ta;null!=(sa=g)[Ta=S]||(sa[Ta]={});g[S][C]=new Set([ba?ba:mc(q,{forAs:!0})])}}let h;for(const q of null!=(h=c.groupby)?h:[])e.add(q);return 0===e.size+Yc(g).length?null:new ph(a,e,g)}merge(a){if(Cb(this.dimensions,a.dimensions)){var c=this.measures;a=a.measures;for(const e of Yc(a)){const g=a[e];for(const h of Yc(g))if(e in
c){let q;c[e][h]=new Set([...(null!=(q=c[e][h])?q:[]),...g[h]])}else c[e]={[h]:g[h]}}return!0}va("different dimensions, cannot merge");return!1}addDimensions(a){a.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...Yc(this.measures)])}producedFields(){const a=new Set;for(const c of Yc(this.measures))for(const e of Yc(this.measures[c])){const g=this.measures[c][e];0===g.size?a.add(`${e}_${c}`):g.forEach(a.add,a)}return a}hash(){return`Aggregate ${Bb({dimensions:this.dimensions,
measures:this.measures})}`}assemble(){const a=[],c=[],e=[];for(const g of Yc(this.measures))for(const h of Yc(this.measures[g]))for(const q of this.measures[g][h])e.push(q),a.push(h),c.push("*"===g?null:gb(g));return{type:"aggregate",groupby:[...this.dimensions].map(gb),ops:a,fields:c,as:e}}}class mi extends xf{constructor(a,c,e,g){super(a);this.model=c;this.name=e;this.data=g;V(this,"column",void 0);V(this,"row",void 0);V(this,"facet",void 0);V(this,"childModel",void 0);for(const h of Ch)if(a=c.facet[h]){const {bin:q,
sort:C}=a;this[h]=Object.assign({},{name:c.getName(`${h}_domain`),fields:[mc(a),...(zb(q)?[mc(a,{binSuffix:"end"})]:[])]},qe(C)?{sortField:C}:l.isArray(C)?{sortIndexField:vi(a,h)}:{})}this.childModel=c.child}hash(){let a="Facet";for(const c of Ch)this[c]&&(a+=` ${c.charAt(0)}:${Bb(this[c])}`);return a}get fields(){const a=[];for(const c of Ch){let e;(null==(e=this[c])?0:e.fields)&&a.push(...this[c].fields)}return a}dependentFields(){const a=new Set(this.fields);for(const c of Ch)this[c]&&(this[c].sortField&&
a.add(this[c].sortField.field),this[c].sortIndexField&&a.add(this[c].sortIndexField));return a}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const a={};for(const g of be){var c=this.childModel.component.scales[g];if(c&&!c.merged){var e=c.get("type");c=c.get("range");Oe(e)&&Nb(c)&&(e=nk(this.childModel,g),(e=Xl(e))?a[g]=e:J(Sb(g)))}}return a}assembleRowColumnHeaderData(a,c,e){const g={row:"y",column:"x",facet:void 0}[a],h=[],q=[],C=[];g&&e&&e[g]&&
(c?(h.push(`distinct_${e[g]}`),q.push("max")):(h.push(e[g]),q.push("distinct")),C.push(`distinct_${e[g]}`));const {sortField:S,sortIndexField:ba}=this[a];if(S){const {op:sa="min",field:Ta}=S;h.push(Ta);q.push(sa);C.push(mc(S,{forAs:!0}))}else ba&&(h.push(ba),q.push("max"),C.push(ba));return{name:this[a].name,source:null!=c?c:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[a].fields},h.length?{fields:h,ops:q,as:C}:{})]}}assembleFacetHeaderData(a){const {columns:c}=this.model.layout,
{layoutHeaders:e}=this.model.component,g=[],h={};for(const ba of im){for(const sa of gl){let Ta;var q=null!=(Ta=e[ba]&&e[ba][sa])?Ta:[];for(const mb of q){let ac;if(0<(null==(ac=mb.axes)?void 0:ac.length)){h[ba]=!0;break}}}h[ba]&&(q=`length(data("${this.facet.name}"))`,g.push({name:`${this.facet.name}_${ba}`,transform:[{type:"sequence",start:0,stop:"row"===ba?c?{signal:`ceil(${q} / ${c})`}:1:c?{signal:`min(${q}, ${c})`}:{signal:q}}]}))}const {row:C,column:S}=h;(C||S)&&g.unshift(this.assembleRowColumnHeaderData("facet",
null,a));return g}assemble(){const a=[];var c=null;const e=this.getChildIndependentFieldsWithStep(),{column:g,row:h,facet:q}=this;if(g&&h&&(e.x||e.y)){c=`cross_${this.column.name}_${this.row.name}`;var C;let S;const ba=[].concat(null!=(C=e.x)?C:[],null!=(S=e.y)?S:[]);C=ba.map(()=>"distinct");a.push({name:c,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:ba,ops:C}]})}for(const S of["column","row"])this[S]&&a.push(this.assembleRowColumnHeaderData(S,c,e));q&&(c=this.assembleFacetHeaderData(e))&&
a.push(...c);return a}}class If extends xf{clone(){return new If(null,ve(this._parse))}constructor(a,c){super(a);V(this,"_parse",void 0);this._parse=c}hash(){return`Parse ${Bb(this._parse)}`}static makeExplicit(a,c,e){let g={};c=c.data;let h;!mg(c)&&(null==c?0:null==(h=c.format)?0:h.parse)&&(g=c.format.parse);return this.makeWithAncestors(a,g,{},e)}static makeWithAncestors(a,c,e,g){for(var h of Yc(e)){const C=g.getWithExplicit(h);void 0!==C.value&&(C.explicit||C.value===e[h]||"derived"===C.value||
"flatten"===e[h]?delete e[h]:J(yc(h,e[h],C.value)))}for(var q of Yc(c))h=g.get(q),void 0!==h&&(h===c[q]?delete c[q]:J(yc(q,c[q],h)));c=new Ah(c,e);g.copyAll(c);e={};for(const C of Yc(c.combine()))q=c.get(C),null!==q&&(e[C]=q);return 0===Yc(e).length||g.parseNothing?null:new If(a,e)}get parse(){return this._parse}merge(a){this._parse=Object.assign({},this._parse,a.parse);a.remove()}assembleFormatParse(){const a={};for(const c of Yc(this._parse)){const e=this._parse[c];1===Na(c)&&(a[c]=e)}return a}producedFields(){return new Set(Yc(this._parse))}dependentFields(){return new Set(Yc(this._parse))}assembleTransforms(){let a=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;return Yc(this._parse).filter(c=>a?1<Na(c):!0).map(c=>{const e=cg(c,this._parse[c]);return e?{type:"formula",expr:e,as:Ub(c)}:null}).filter(c=>null!==c)}}class Dg extends xf{clone(){return new Dg(null)}constructor(a){super(a)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:"_vgsid_"}}}class $h extends xf{clone(){return new $h(null,this.params)}constructor(a,
c){super(a);this.params=c}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${Bb(this.params)}`}assemble(){return Object.assign({},{type:"graticule"},!0===this.params?{}:this.params)}}class Dh extends xf{clone(){return new Dh(null,this.params)}constructor(a,c){super(a);this.params=c}dependentFields(){return new Set}producedFields(){let a;return new Set([null!=(a=this.params.as)?a:"data"])}hash(){return`Hash ${Bb(this.params)}`}assemble(){return Object.assign({},{type:"sequence"},
this.params)}}class Vg extends xf{constructor(a){super(null);V(this,"_data",void 0);V(this,"_name",void 0);V(this,"_generator",void 0);null!=a||(a={name:"source"});let c;mg(a)||(c=a.format?Object.assign({},ec(a.format,["parse"])):{});if("values"in a)this._data={values:a.values};else if("url"in a){if(this._data={url:a.url},!c.type){let e=/(?:\.([^.]+))?$/.exec(a.url)[1];ub(["json","csv","tsv","dsv","topojson"],e)||(e="json");c.type=e}}else if("sphere"in a)this._data={values:[{type:"Sphere"}]};else if(cj(a)||
mg(a))this._data={};this._generator=mg(a);a.name&&(this._name=a.name);c&&!lb(c)&&(this._data.format=c)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(a){this._name=a}set parent(a){throw Error("Source nodes have to be roots.");}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");}assemble(){return Object.assign({},
{name:this._name},this._data,{transform:[]})}}var xg=new WeakMap;class Tf{constructor(){if(xg.has(this))throw new TypeError("Cannot initialize the same private elements twice on an object");xg.set(this,{writable:!0,value:void 0});x(this,xg,!1)}setModified(){x(this,xg,!0)}get modifiedFlag(){var a=da(this,xg,"get");return a.get?a.get.call(this):a.value}}class Ue extends Tf{getNodeDepths(a,c,e){e.set(a,c);for(const g of a.children)this.getNodeDepths(g,c+1,e);return e}optimize(a){a=[...this.getNodeDepths(a,
0,new Map).entries()].sort((c,e)=>e[1]-c[1]);for(const c of a)this.run(c[0]);return this.modifiedFlag}}class ni extends Tf{optimize(a){this.run(a);for(const c of a.children)this.optimize(c);return this.modifiedFlag}}class ai extends ni{mergeNodes(a,c){const e=c.shift();for(const g of c)a.removeChild(g),g.parent=e,g.remove()}run(a){const c=a.children.map(g=>g.hash()),e={};for(let g=0;g<c.length;g++)void 0===e[c[g]]?e[c[g]]=[a.children[g]]:e[c[g]].push(a.children[g]);for(const g of Yc(e))1<e[g].length&&
(this.setModified(),this.mergeNodes(a,e[g]))}}class El extends ni{constructor(a){super();V(this,"requiresSelectionId",void 0);this.requiresSelectionId=a&&Sf(a)}run(a){!(a instanceof Dg)||this.requiresSelectionId&&(Ig(a.parent)||a.parent instanceof ph||a.parent instanceof If)||(this.setModified(),a.remove())}}class Gl extends Tf{optimize(a){this.run(a,new Set);return this.modifiedFlag}run(a,c){let e=new Set;a instanceof jg&&(e=a.producedFields(),xb(e,c)&&(this.setModified(),a.removeFormulas(c),0===
a.producedFields.length&&a.remove()));for(const g of a.children)this.run(g,new Set([...c,...e]))}}class Xi extends ni{constructor(){super()}run(a){a instanceof Sg&&!a.isRequired()&&(this.setModified(),a.remove())}}class oi extends Ue{run(a){if(!(Ig(a)||1<a.numChildren()))for(const c of a.children)c instanceof If&&(a instanceof If?(this.setModified(),a.merge(c)):Db(a.producedFields(),c.dependentFields())||(this.setModified(),c.swapWithParent()))}}class rn extends Ue{run(a){const c=[...a.children];
var e=a.children.filter(h=>h instanceof If);if(1<a.numChildren()&&1<=e.length){const h={};var g=new Set;for(const q of e){e=q.parse;for(const C of Yc(e))C in h?h[C]!==e[C]&&g.add(C):h[C]=e[C]}for(const q of g)delete h[q];if(!lb(h)){this.setModified();g=new If(a,h);for(const q of c){if(q instanceof If)for(const C of Yc(h))delete q.parse[C];a.removeChild(q);q.parent=g;q instanceof If&&0===Yc(q.parse).length&&q.remove()}}}}}class sn extends Ue{run(a){a instanceof Sg||0<a.numChildren()||a instanceof mi||
a instanceof Vg||(this.setModified(),a.remove())}}class tn extends Ue{run(a){a=a.children.filter(e=>e instanceof jg);const c=a.pop();for(const e of a)this.setModified(),c.merge(e)}}class yg extends Ue{run(a){var c=a.children.filter(h=>h instanceof ph);const e={};for(var g of c)c=Bb(g.groupBy),c in e||(e[c]=[]),e[c].push(g);for(const h of Yc(e))if(g=e[h],1<g.length){c=g.pop();for(const q of g)c.merge(q)&&(a.removeChild(q),q.parent=c,q.remove(),this.setModified())}}}class jk extends Ue{constructor(a){super();
this.model=a}run(a){var c=!(Ig(a)||a instanceof Pj||a instanceof If||a instanceof Dg);const e=[],g=[];for(const h of a.children)h instanceof ih&&(c&&!Db(a.producedFields(),h.dependentFields())?e.push(h):g.push(h));if(0<e.length){c=e.pop();for(const h of e)c.merge(h,this.model.renameSignal.bind(this.model));this.setModified();a instanceof ih?a.merge(c,this.model.renameSignal.bind(this.model)):c.swapWithParent()}if(1<g.length){a=g.pop();for(const h of g)a.merge(h,this.model.renameSignal.bind(this.model));
this.setModified()}}}class Hl extends Ue{run(a){var c=[...a.children];if(Lb(c,h=>h instanceof Sg)&&!(1>=a.numChildren())){var e=[];for(const h of c)if(h instanceof Sg){for(c=h;1===c.numChildren();){const [q]=c.children;if(q instanceof Sg)c=q;else break}e.push(...c.children);if(g)a.removeChild(h),h.parent=g.parent,g.parent.removeChild(g),g.parent=c,this.setModified();else var g=c}else e.push(h);if(e.length){this.setModified();for(const h of e)h.parent.removeChild(h),h.parent=g}}}}class Mh extends xf{clone(){return new Mh(null,
ve(this.transform))}constructor(a,c){super(a);this.transform=c}addDimensions(a){this.transform.groupby=bb(this.transform.groupby.concat(a),c=>c)}dependentFields(){const a=new Set;this.transform.groupby&&this.transform.groupby.forEach(a.add,a);this.transform.joinaggregate.map(c=>c.field).filter(c=>void 0!==c).forEach(a.add,a);return a}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(a){let c;return null!=(c=a.as)?c:mc(a)}hash(){return`JoinAggregateTransform ${Bb(this.transform)}`}assemble(){const a=
[],c=[],e=[];for(var g of this.transform.joinaggregate)c.push(g.op),e.push(this.getDefaultName(g)),a.push(void 0===g.field?null:g.field);g=this.transform.groupby;return Object.assign({},{type:"joinaggregate",as:e,ops:c,fields:a},void 0!==g?{groupby:g}:{})}}class qh extends xf{clone(){return new qh(null,ve(this._stack))}constructor(a,c){super(a);V(this,"_stack",void 0);this._stack=c}static makeFromTransform(a,c){const {stack:e,groupby:g,as:h,offset:q="zero"}=c;var C=[];const S=[];if(void 0!==c.sort)for(const ba of c.sort)C.push(ba.field),
S.push(U(ba.order,"ascending"));C={field:C,order:S};c=ue(h)?h:l.isString(h)?[h,`${h}_end`]:[`${c.stack}_start`,`${c.stack}_end`];return new qh(a,{dimensionFieldDefs:[],stackField:e,groupby:g,offset:q,sort:C,facetby:[],as:c})}static makeFromEncoding(a,c){var e=c.stack;const {encoding:g}=c;if(!e)return null;const {groupbyChannels:h,fieldChannel:q,offset:C,impute:S}=e;e=h.map(Ta=>ke(g[Ta])).filter(Ta=>!!Ta);const ba=bg(c);var sa=c.encoding.order;if(l.isArray(sa)||Oa(sa))sa=Pc(sa);else{const Ta=sa&&sa.sort&&
!sa.field?sa.sort:"y"===q?"descending":"ascending";sa=ba.reduce((mb,ac)=>{mb.field.push(ac);mb.order.push(Ta);return mb},{field:[],order:[]})}return new qh(a,{dimensionFieldDefs:e,stackField:c.vgField(q),facetby:[],stackby:ba,sort:sa,offset:C,impute:S,as:[c.vgField(q,{suffix:"start",forAs:!0}),c.vgField(q,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(a){this._stack.facetby.push(...a)}dependentFields(){const a=new Set;a.add(this._stack.stackField);this.getGroupbyFields().forEach(a.add,
a);this._stack.facetby.forEach(a.add,a);this._stack.sort.field.forEach(a.add,a);return a}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${Bb(this._stack)}`}getGroupbyFields(){const {dimensionFieldDefs:a,impute:c,groupby:e}=this._stack;return 0<a.length?a.map(g=>g.bin?c?[mc(g,{binSuffix:"mid"})]:[mc(g,{}),mc(g,{binSuffix:"end"})]:[mc(g)]).flat():null!=e?e:[]}assemble(){const a=[],{facetby:c,dimensionFieldDefs:e,stackField:g,stackby:h,sort:q,offset:C,impute:S,as:ba}=this._stack;
if(S)for(const sa of e){const {bandPosition:Ta=.5,bin:mb}=sa;if(mb){const ac=mc(sa,{expr:"datum"}),Ec=mc(sa,{expr:"datum",binSuffix:"end"});a.push({type:"formula",expr:`${Ta}*${ac}+${1-Ta}*${Ec}`,as:mc(sa,{binSuffix:"mid",forAs:!0})})}a.push({type:"impute",field:g,groupby:[...h,...c],key:mc(sa,{binSuffix:"mid"}),method:"value",value:0})}a.push({type:"stack",groupby:[...this.getGroupbyFields(),...c],field:g,sort:q,as:ba,offset:C});return a}}class Zj extends xf{clone(){return new Zj(null,ve(this.transform))}constructor(a,
c){super(a);this.transform=c}addDimensions(a){this.transform.groupby=bb(this.transform.groupby.concat(a),c=>c)}dependentFields(){const a=new Set;let c;(null!=(c=this.transform.groupby)?c:[]).forEach(a.add,a);let e;(null!=(e=this.transform.sort)?e:[]).forEach(g=>a.add(g.field));this.transform.window.map(g=>g.field).filter(g=>void 0!==g).forEach(a.add,a);return a}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(a){let c;return null!=(c=a.as)?c:mc(a)}hash(){return`WindowTransform ${Bb(this.transform)}`}assemble(){const a=
[],c=[],e=[],g=[];for(var h of this.transform.window)c.push(h.op),e.push(this.getDefaultName(h)),g.push(void 0===h.param?null:h.param),a.push(void 0===h.field?null:h.field);h=this.transform.frame;const q=this.transform.groupby;if(h&&null===h[0]&&null===h[1]&&c.every(sa=>Pa(sa)))return Object.assign({},{type:"joinaggregate",as:e,ops:c,fields:a},void 0!==q?{groupby:q}:{});const C=[],S=[];if(void 0!==this.transform.sort)for(var ba of this.transform.sort){C.push(ba.field);let sa;S.push(null!=(sa=ba.order)?
sa:"ascending")}ba=this.transform.ignorePeers;return Object.assign({},{type:"window",params:g,as:e,ops:c,fields:a,sort:{field:C,order:S}},void 0!==ba?{ignorePeers:ba}:{},void 0!==q?{groupby:q}:{},void 0!==h?{frame:h}:{})}}class eg{constructor(a){V(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:a})}static fromName(a,c){return new eg(()=>a(c))}}class uj extends Ah{constructor(a,c){super({},{name:a});V(this,"merged",!1);this.setWithExplicit("type",c)}domainDefinitelyIncludesZero(){return!1!==
this.get("zero")?!0:Lb(this.get("domains"),a=>l.isArray(a)&&2===a.length&&l.isNumber(a[0])&&0>=a[0]&&l.isNumber(a[1])&&0<=a[1])}}const Fm=["range","scheme"],kk={bins:a=>{let {model:c,fieldOrDatumDef:e}=a;return Oa(e)?jl(c,e):void 0},interpolate:a=>{let {channel:c,fieldOrDatumDef:e}=a;a=e.type;a=ub(["color","fill","stroke"],c)&&"nominal"!==a?"hcl":void 0;return a},nice:a=>{let {scaleType:c,channel:e,domain:g,domainMin:h,domainMax:q,fieldOrDatumDef:C}=a;{let S;a=(null==(S=ke(C))?0:S.bin)||l.isArray(g)||
null!=q||null!=h||ub([qg.TIME,qg.UTC],c)?void 0:I(e)?!0:void 0}return a},padding:a=>{let {channel:c,scaleType:e,fieldOrDatumDef:g,markDef:h,config:q}=a;a:{a=q.scale;var C=q.bar;if(I(c)){if(gh.has(e)){if(void 0!==a.continuousPadding){a=a.continuousPadding;break a}const {type:S,orient:ba}=h;if("bar"===S&&(!Oa(g)||!g.bin&&!g.timeUnit)&&("vertical"===ba&&"x"===c||"horizontal"===ba&&"y"===c)){a=C.continuousBandSize;break a}}if(e===qg.POINT){a=a.pointPadding;break a}}a=void 0}return a},paddingInner:a=>
{let {scalePadding:c,channel:e,markDef:g,scaleType:h,config:q,hasNestedOffsetScale:C}=a;return Zl(c,e,g.type,h,q.scale,C)},paddingOuter:a=>{let {scalePadding:c,channel:e,scaleType:g,scalePaddingInner:h,config:q,hasNestedOffsetScale:C}=a;return $l(c,e,g,h,q.scale,C)},reverse:a=>{let {fieldOrDatumDef:c,scaleType:e,channel:g,config:h}=a;a=Oa(c)?c.sort:void 0;var q=h.scale;a="x"===g&&void 0!==q.xReverse?Pd(e)&&"descending"===a?Ob(q.xReverse)?{signal:`!${q.xReverse.signal}`}:!q.xReverse:q.xReverse:Pd(e)&&
"descending"===a?!0:void 0;return a},zero:a=>{let {channel:c,fieldOrDatumDef:e,domain:g,markDef:h,scaleType:q,config:C,hasSecondaryRangeChannel:S}=a;a:if(a=C.scale,g&&"unaggregated"!==g&&Pd(q)){if(l.isArray(g)){a=g[0];const ba=g[g.length-1];if(l.isNumber(a)&&0>=a&&l.isNumber(ba)&&0<=ba){a=!0;break a}}a=!1}else if("size"!==c||"quantitative"!==e.type||Ri.has(q))if(Oa(e)&&e.bin||!ub([...be,...Qi],c))a=!1;else{const {orient:ba,type:sa}=h;a=ub(["bar","area","line","trail"],sa)&&("horizontal"===ba&&"y"===
c||"vertical"===ba&&"x"===c)?!1:ub(["bar","area"],sa)&&!S?!0:null==a?void 0:a.zero}else a=!0;return a}},Jl=vh((a,c)=>Tg[a]-Tg[c]);class Yi{constructor(){V(this,"nameMap",void 0);this.nameMap={}}rename(a,c){this.nameMap[a]=c}has(a){return void 0!==this.nameMap[a]}get(a){for(;this.nameMap[a]&&a!==this.nameMap[a];)a=this.nameMap[a];return a}}class bi{constructor(a,c,e,g,h,q,C){this.type=c;this.parent=e;this.config=h;V(this,"name",void 0);V(this,"size",void 0);V(this,"title",void 0);V(this,"description",
void 0);V(this,"data",void 0);V(this,"transforms",void 0);V(this,"layout",void 0);V(this,"scaleNameMap",void 0);V(this,"projectionNameMap",void 0);V(this,"signalNameMap",void 0);V(this,"component",void 0);V(this,"view",void 0);V(this,"children",void 0);V(this,"correctDataNames",sa=>{let Ta;if(null==(Ta=sa.from)?0:Ta.data)sa.from.data=this.lookupDataSource(sa.from.data);let mb,ac;if(null==(mb=sa.from)?0:null==(ac=mb.facet)?0:ac.data)sa.from.facet.data=this.lookupDataSource(sa.from.facet.data);return sa});
this.parent=e;this.config=h;this.view=Qb(C);let S;this.name=null!=(S=a.name)?S:g;this.title=$b(a.title)?{text:a.title}:a.title?Qb(a.title):void 0;this.scaleNameMap=e?e.scaleNameMap:new Yi;this.projectionNameMap=e?e.projectionNameMap:new Yi;this.signalNameMap=e?e.signalNameMap:new Yi;this.data=a.data;this.description=a.description;let ba;this.transforms=si(null!=(ba=a.transform)?ba:[]);this.layout="layer"===c||"unit"===c?{}:Re(a,c,h);this.component={data:{sources:e?e.component.data.sources:[],outputNodes:e?
e.component.data.outputNodes:{},outputNodeRefCounts:e?e.component.data.outputNodeRefCounts:{},isFaceted:"facet"in a||(null==e?void 0:e.component.data.isFaceted)&&void 0===a.data},layoutSize:new Ah,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},q?ve(q):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();
this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){pn(this)}parseProjection(){xc(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){sb(this)}assembleEncodeFromView(a){a=Object.assign({},
a);a=(delete a.style,a);const c={};for(const e of Yc(a)){const g=a[e];void 0!==g&&(c[e]=Va(g))}return c}assembleGroupEncodeEntry(a){let c={};this.view&&(c=this.assembleEncodeFromView(this.view));if(!a&&(this.description&&(c.description=Va(this.description)),"unit"===this.type||"layer"===this.type)){let e;return Object.assign({},{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!=(e=c)?e:{})}return lb(c)?void 0:c}assembleLayout(){if(this.layout){var a=this.layout,c=
Object.assign({},a);a=a.spacing;c=(delete c.spacing,c);var {component:e,config:g}=this,h=e.layoutHeaders,q={};for(S of Ch){var C=h[S];let ba;if(null==(ba=C)?0:ba.facetFieldDef){const {titleAnchor:sa,titleOrient:Ta}=wi(["titleAnchor","titleOrient"],C.facetFieldDef.header,g,S);C=ij(S,Ta);const mb=ym[C][sa];void 0!==mb&&(q[C]=mb)}}var S=lb(q)?void 0:q;return Object.assign({},{padding:a},this.assembleDefaultLayout(),c,S?{titleBand:S}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){var {layoutHeaders:a}=
this.component,c=[];for(var e of Ch)if(a[e].title){var g=c,h=g.push;var q=e;var C=this.component.layoutHeaders[q].title,S=this.config?this.config:void 0,ba=this.component.layoutHeaders[q].facetFieldDef?this.component.layoutHeaders[q].facetFieldDef:void 0;const {titleAnchor:Fc,titleAngle:Hc,titleOrient:Jc}=wi(["titleAnchor","titleAngle","titleOrient"],ba.header,S,q);var sa=ij(q,Jc),Ta=Ca(Hc);q={name:`${q}-title`,type:"group",role:`${sa}-title`,title:Object.assign({},{text:C},"row"===q?{orient:"left"}:
{},{style:"guide-title"},rk(Ta,sa),tk(sa,Ta,Fc),uk(S,ba,q,Tm,Rm))};h.call(g,q)}for(const Fc of im){a=c;c=a.concat;g=Fc;h=this.component.layoutHeaders[g];e=[];for(const Hc of gl)if(h[Hc])for(const Jc of h[Hc]){a:{ba=void 0;q=g;var mb=Hc,ac=h;if(C=Jc){S=null;({facetFieldDef:gc}=ac);sa=this.config?this.config:void 0;gc&&C.labels&&({labelOrient:Ta}=wi(["labelOrient"],gc.header,sa,q),"row"===q&&!ub(["top","bottom"],Ta)||"column"===q&&!ub(["left","right"],Ta))&&(S=jj(gc,q,sa));const kd=Xh(this)&&!ae(this.facet),
jd=C.axes,Ad=0<(null==jd?void 0:jd.length);if(S||Ad){const de="row"===q?"height":"width";sa=Object;Ta=sa.assign;mb={name:this.getName(`${q}_${mb}`),type:"group",role:`${q}-${mb}`};if(ac.facetFieldDef){ac={data:this.getName(`${q}_domain`)};{var Ec=gc;const {sort:cf}=Ec;var gc=qe(cf)?{field:mc(cf,{expr:"datum"}),order:null!=(ba=cf.order)?ba:"ascending"}:l.isArray(cf)?{field:vi(Ec,q,{expr:"datum"}),order:"ascending"}:{field:mc(Ec,{expr:"datum"}),order:null!=cf?cf:"ascending"}}ba={from:ac,sort:gc}}else ba=
{};q=Ta.call(sa,{},mb,ba,Ad&&kd?{from:{data:this.getName(`facet_domain_${q}`)}}:{},S?{title:S}:{},C.sizeSignal?{encode:{update:{[de]:C.sizeSignal}}}:{},Ad?{axes:jd}:{});break a}}q=null}null!=q&&e.push(q)}c=c.call(a,e)}return c}assembleAxes(){return Zh(this.component.axes,this.config)}assembleLegends(){return qc(this)}assembleProjections(){var a=yi(this)||Ol(this)?Vc(this):bd(this);return a}assembleTitle(){var a,c=null!=(a=this.title)?a:{};a=Object.assign({},c);c=c.encoding;a=(delete a.encoding,a);
c=Object.assign({},nc(this.config.title).nonMarkTitleProperties,a,c?{encode:{update:c}}:{});if(c.text)return ub(["unit","layer"],this.type)?ub(["middle",void 0],c.anchor)&&(null!=c.frame||(c.frame="group")):null!=c.anchor||(c.anchor="start"),lb(c)?void 0:c}assembleGroup(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];const c={};a=a.concat(this.assembleSignals());0<a.length&&(c.signals=a);if(a=this.assembleLayout())c.layout=a;c.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());
a=!this.parent||Xh(this.parent)?Vk(this):[];0<a.length&&(c.scales=a);a=this.assembleAxes();0<a.length&&(c.axes=a);a=this.assembleLegends();0<a.length&&(c.legends=a);return c}getName(a){return ua((this.name?`${this.name}_`:"")+a)}getDataName(a){return this.getName(Of[a].toLowerCase())}requestDataName(a){a=this.getDataName(a);const c=this.component.data.outputNodeRefCounts;c[a]=(c[a]||0)+1;return a}getSizeSignalRef(a){if(Xh(this.parent)){var c=vk(a),e=X(c);if((c=this.component.scales[e])&&!c.merged){var g=
c.get("type");const h=c.get("range");if(Oe(g)&&Nb(h)){a=c.get("name");g=nk(this,e);if(g=Xl(g))return e=mc({aggregate:"distinct",field:g},{expr:"datum"}),{signal:Mj(a,c,e)};J(Sb(e));return null}}}return{signal:this.signalNameMap.get(this.getName(a))}}lookupDataSource(a){const c=this.component.data.outputNodes[a];return c?c.getSource():a}getSignalName(a){return this.signalNameMap.get(a)}renameSignal(a,c){this.signalNameMap.rename(a,c)}renameScale(a,c){this.scaleNameMap.rename(a,c)}renameProjection(a,
c){this.projectionNameMap.rename(a,c)}scaleName(a,c){if(c)return this.getName(a);if(ak[a]&&Kg[a]&&this.component.scales[a]||this.scaleNameMap.has(this.getName(a)))return this.scaleNameMap.get(this.getName(a))}projectionName(a){if(a)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(a){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");
const c=this.component.scales[a];return c&&!c.merged?c:this.parent?this.parent.getScaleComponent(a):void 0}getSelectionComponent(a,c){let e=this.component.selection[a];!e&&this.parent&&(e=this.parent.getSelectionComponent(a,c));if(!e)throw Error(`Cannot find a selection named "${c}".`);return e}hasAxisOrientSignalRef(){let a,c;return(null==(a=this.component.axes.x)?void 0:a.some(e=>e.hasOrientSignalRef()))||(null==(c=this.component.axes.y)?void 0:c.some(e=>e.hasOrientSignalRef()))}}class Uk extends bi{vgField(a){let c=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const e=this.fieldDef(a);if(e)return mc(e,c)}reduceFieldDef(a,c){return Pg(this.getMapping(),(e,g,h)=>(g=ke(g))?a(e,g,h):e,c)}forEachFieldDef(a,c){Og(this.getMapping(),(e,g)=>{(e=ke(e))&&a(e,g)},c)}}class Gi extends xf{clone(){return new Gi(null,ve(this.transform))}constructor(a,c){super(a);this.transform=c;this.transform=ve(c);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let g,h;this.transform.as=[null!=(g=a[0])?g:"value",null!=(h=
a[1])?h:"density"]}dependentFields(){let a;return new Set([this.transform.density,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${Bb(this.transform)}`}assemble(){var a=this.transform,c=Object.assign({},a);a=a.density;c=(delete c.density,c);c=Object.assign({},{type:"kde",field:a},c);this.transform.groupby&&(c.resolve="shared");return c}}class vj extends xf{clone(){return new vj(null,ve(this.transform))}constructor(a,c){super(a);
this.transform=c;this.transform=ve(c)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${Bb(this.transform)}`}assemble(){const {extent:a,param:c}=this.transform;return{type:"extent",field:a,signal:c}}}class Nh extends xf{clone(){return new Nh(null,Object.assign({},this.filter))}constructor(a,c){super(a);this.filter=c}static make(a,c){const {config:e,mark:g,markDef:h}=c;if("filter"!==Wb("invalid",h,e))return null;const q=c.reduceFieldDef((C,
S,ba)=>{if(ba=!!Kg[ba]&&c.getScaleComponent(ba))ba=ba.get("type"),Pd(ba)&&"count"!==S.aggregate&&!cb(g)&&(C[S.field]=S);return C},{});return Yc(q).length?new Nh(a,q):null}dependentFields(){return new Set(Yc(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${Bb(this.filter)}`}assemble(){const a=Yc(this.filter).reduce((c,e)=>{e=this.filter[e];const g=mc(e,{expr:"datum"});null!==e&&("temporal"===e.type?c.push(`(isDate(${g}) || (isValid(${g}) && isFinite(+${g})))`):"quantitative"===
e.type&&(c.push(`isValid(${g})`),c.push(`isFinite(+${g})`)));return c},[]);return 0<a.length?{type:"filter",expr:a.join(" \x26\x26 ")}:null}}class re extends xf{clone(){return new re(this.parent,ve(this.transform))}constructor(a,c){super(a);this.transform=c;this.transform=ve(c);const {flatten:e,as:g=[]}=this.transform;this.transform.as=e.map((h,q)=>{let C;return null!=(C=g[q])?C:h})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${Bb(this.transform)}`}assemble(){const {flatten:a,
as:c}=this.transform;return{type:"flatten",fields:a,as:c}}}class sf extends xf{clone(){return new sf(null,ve(this.transform))}constructor(a,c){super(a);this.transform=c;this.transform=ve(c);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let g,h;this.transform.as=[null!=(g=a[0])?g:"key",null!=(h=a[1])?h:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${Bb(this.transform)}`}assemble(){const {fold:a,
as:c}=this.transform;return{type:"fold",fields:a,as:c}}}class Vf extends xf{clone(){return new Vf(null,ve(this.fields),this.geojson,this.signal)}static parseAll(a,c){if(c.component.projection&&!c.component.projection.isFit)return a;let e=0;for(var g of[["longitude","latitude"],["longitude2","latitude2"]]){const h=g.map(q=>{q=Ge(c.encoding[q]);return Oa(q)?q.field:rb(q)?{expr:`${q.datum}`}:Wc(q)?{expr:`${q.value}`}:void 0});if(h[0]||h[1])a=new Vf(a,h,null,c.getName(`geojson_${e++}`))}c.channelHasField("shape")&&
(g=c.typedFieldDef("shape"),"geojson"===g.type&&(a=new Vf(a,null,g.field,c.getName(`geojson_${e++}`))));return a}constructor(a,c,e,g){super(a);this.fields=c;this.geojson=e;this.signal=g}dependentFields(){let a;const c=(null!=(a=this.fields)?a:[]).filter(l.isString);return new Set([...(this.geojson?[this.geojson]:[]),...c])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${Bb(this.fields)}`}assemble(){return[...(this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:
[]),Object.assign({},{type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})]}}class Zi extends xf{clone(){return new Zi(null,this.projection,ve(this.fields),ve(this.as))}constructor(a,c,e,g){super(a);this.projection=c;this.fields=e;this.as=g}static parseAll(a,c){if(!c.projectionName())return a;for(const e of[["longitude","latitude"],["longitude2","latitude2"]]){const g=e.map(q=>{q=Ge(c.encoding[q]);return Oa(q)?q.field:rb(q)?{expr:`${q.datum}`}:
Wc(q)?{expr:`${q.value}`}:void 0}),h="longitude2"===e[0]?"2":"";if(g[0]||g[1])a=new Zi(a,c.projectionName(),g,[c.getName(`x${h}`),c.getName(`y${h}`)])}return a}dependentFields(){return new Set(this.fields.filter(l.isString))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${Bb(this.fields)} ${Bb(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Oh extends xf{clone(){return new Oh(null,ve(this.transform))}constructor(a,
c){super(a);this.transform=c}dependentFields(){let a;return new Set([this.transform.impute,this.transform.key,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set([this.transform.impute])}processSequence(a){const {start:c=0,stop:e,step:g}=a;return{signal:`sequence(${[c,e,...(g?[g]:[])].join()})`}}static makeFromTransform(a,c){return new Oh(a,c)}static makeFromEncoding(a,c){const e=c.encoding;var g=e.x;const h=e.y;if(Oa(g)&&Oa(h)){const q=g.impute?g:h.impute?h:void 0;if(void 0===
q)return;g=g.impute?h:h.impute?g:void 0;const {method:C,value:S,frame:ba,keyvals:sa}=q.impute;c=$g(c.mark,e);return new Oh(a,Object.assign({},{impute:q.field,key:g.field},C?{method:C}:{},void 0!==S?{value:S}:{},ba?{frame:ba}:{},void 0!==sa?{keyvals:sa}:{},c.length?{groupby:c}:{}))}return null}hash(){return`Impute ${Bb(this.transform)}`}assemble(){const {impute:a,key:c,keyvals:e,method:g,groupby:h,value:q,frame:C=[null,null]}=this.transform;var S=Object,ba=S.assign;var sa=e?{keyvals:void 0!==(null==
e?void 0:e.stop)?this.processSequence(e):e}:{};S=ba.call(S,{},{type:"impute",field:a,key:c},sa,{method:"value"},h?{groupby:h}:{},{value:g&&"value"!==g?null:q});return g&&"value"!==g?(ba=Object.assign({},{type:"window",as:[`imputed_${a}_value`],ops:[g],fields:[a],frame:C,ignorePeers:!1},h?{groupby:h}:{}),[S,ba,{type:"formula",expr:`datum.${a} === null ? datum.imputed_${a}_value : datum.${a}`,as:a}]):[S]}}class pi extends xf{clone(){return new pi(null,ve(this.transform))}constructor(a,c){super(a);this.transform=
c;this.transform=ve(c);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let g,h;this.transform.as=[null!=(g=a[0])?g:c.on,null!=(h=a[1])?h:c.loess]}dependentFields(){let a;return new Set([this.transform.loess,this.transform.on,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${Bb(this.transform)}`}assemble(){var a=this.transform,c=Object.assign({},a);const e=a.loess;a=a.on;c=(delete c.loess,delete c.on,c);return Object.assign({},
{type:"loess",x:a,y:e},c)}}class aj extends xf{clone(){return new aj(null,ve(this.transform),this.secondary)}constructor(a,c,e){super(a);this.transform=c;this.secondary=e}static make(a,c,e,g){const h=c.component.data.sources,{from:q}=e;var C=null;if("data"in q)C=Pm(q.data,h),C||(C=new Vg(q.data),h.push(C)),g=c.getName(`lookup_${g}`),C=new Sg(C,g,Of.Lookup,c.component.data.outputNodeRefCounts),c.component.data.outputNodes[g]=C;else if("param"in q){g=q.param;e=Object.assign({},{as:g},e);let S;try{S=
c.getSelectionComponent(ua(g),g)}catch(ba){throw Error(`Lookups can only be performed on selection parameters. "${g}" is a variable parameter.`);}C=S.materialized;if(!C)throw Error(`Cannot define and lookup the "${g}" selection in the same view. `+"Try moving the lookup into a second, layered view?");}return new aj(a,e,C.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?l.array(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${Bb({transform:this.transform,
secondary:this.secondary})}`}assemble(){if(this.transform.from.fields)var a=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:l.array(this.transform.as)}:{});else a=this.transform.as,l.isString(a)||(J('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),a="_lookup"),a={as:[a]};return Object.assign({},{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},
a,this.transform.default?{default:this.transform.default}:{})}}class $i extends xf{clone(){return new $i(null,ve(this.transform))}constructor(a,c){super(a);this.transform=c;this.transform=ve(c);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let g,h;this.transform.as=[null!=(g=a[0])?g:"prob",null!=(h=a[1])?h:"value"]}dependentFields(){let a;return new Set([this.transform.quantile,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${Bb(this.transform)}`}assemble(){var a=
this.transform,c=Object.assign({},a);a=a.quantile;c=(delete c.quantile,c);return Object.assign({},{type:"quantile",field:a},c)}}class Hi extends xf{clone(){return new Hi(null,ve(this.transform))}constructor(a,c){super(a);this.transform=c;this.transform=ve(c);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let g,h;this.transform.as=[null!=(g=a[0])?g:c.on,null!=(h=a[1])?h:c.regression]}dependentFields(){let a;return new Set([this.transform.regression,this.transform.on,...(null!=(a=this.transform.groupby)?
a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${Bb(this.transform)}`}assemble(){var a=this.transform,c=Object.assign({},a);const e=a.regression;a=a.on;c=(delete c.regression,delete c.on,c);return Object.assign({},{type:"regression",x:a,y:e},c)}}class km extends xf{clone(){return new km(null,ve(this.transform))}constructor(a,c){super(a);this.transform=c}addDimensions(a){let c;this.transform.groupby=bb((null!=(c=this.transform.groupby)?c:[]).concat(a),
e=>e)}producedFields(){}dependentFields(){let a;return new Set([this.transform.pivot,this.transform.value,...(null!=(a=this.transform.groupby)?a:[])])}hash(){return`PivotTransform ${Bb(this.transform)}`}assemble(){const {pivot:a,value:c,groupby:e,limit:g,op:h}=this.transform;return Object.assign({},{type:"pivot",field:a,value:c},void 0!==g?{limit:g}:{},void 0!==h?{op:h}:{},void 0!==e?{groupby:e}:{})}}class wj extends xf{clone(){return new wj(null,ve(this.transform))}constructor(a,c){super(a);this.transform=
c}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${Bb(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}class lk extends Uk{constructor(a,c,e,g){super(a,"facet",c,e,g,a.resolve);V(this,"facet",void 0);V(this,"child",void 0);V(this,"children",void 0);this.child=Bk(a.spec,this,this.getName("child"),void 0,g);this.children=[this.child];this.facet=this.initFacet(a.facet)}initFacet(a){if(!ae(a))return{facet:this.initFacetFieldDef(a,
"facet")};var c=Yc(a);const e={};for(const g of c){if(!["row","column"].includes(g)){J(Tc(g,"facet"));break}c=a[g];if(void 0===c.field){J(fd(c,g));break}e[g]=this.initFacetFieldDef(c,g)}return e}initFacetFieldDef(a,c){a=ad(a,c);a.header?a.header=Qb(a.header):null===a.header&&(a.header=null);return a}channelHasField(a){return!!this.facet[a]}fieldDef(a){return this.facet[a]}parseData(){this.component.data=Oj(this);this.child.parseData()}parseLayoutSize(){ll(this)}parseSelections(){this.child.parseSelections();
this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();for(const g of Ch){var a=void 0,c=g;const {facet:h,config:q,child:C,component:S}=this;if(this.channelHasField(c)){const ba=h[c];var e=zh("title",null,q,c);e=fe(ba,q,{allowDisabling:!0,includeDefault:void 0===e||!!e});C.component.layoutHeaders[c].title&&(e=l.isArray(e)?e.join(", "):e,e+=` / ${C.component.layoutHeaders[c].title}`,C.component.layoutHeaders[c].title=
null);const sa=zh("labelOrient",ba.header,q,c),Ta=null!==ba.header?U(null==(a=ba.header)?void 0:a.labels,q.header.labels,!0):!1;a=ub(["bottom","right"],sa)?"footer":"header";S.layoutHeaders[c]={title:null!==ba.header?e:null,facetFieldDef:ba,[a]:"facet"===c?[]:[am(this,c,Ta)]}}}bm(this,"x");bm(this,"y")}assembleSelectionTopLevelSignals(a){return this.child.assembleSelectionTopLevelSignals(a)}assembleSignals(){this.child.assembleSignals();return[]}assembleSelectionData(a){return this.child.assembleSelectionData(a)}getHeaderLayoutMixins(){const a=
{};for(const g of Ch)for(const h of gl){const q=this.component.layoutHeaders[g];var c=q[h],{facetFieldDef:e}=q;if(e&&(e=zh("titleOrient",e.header,this.config,g),["right","bottom"].includes(e))){e=ij(g,e);let S;null!=(S=a).titleAnchor||(S.titleAnchor={});a.titleAnchor[e]="end"}let C;if(null==(C=c)?0:C[0]){c="row"===g?"height":"width";e="header"===h?"headerBand":"footerBand";if("facet"!==g&&!this.child.component.layoutSize.get(c)){let S,ba;null!=(S=a)[ba=e]||(S[ba]={});a[e][g]=.5}if(q.title){let S;
null!=(S=a).offset||(S.offset={});a.offset["row"===g?"rowTitle":"columnTitle"]=10}}}return a}assembleDefaultLayout(){const {column:a,row:c}=this.facet,e=a?this.columnDistinctSignal():c?1:void 0;let g="all";c||"independent"!==this.component.resolve.scale.x?a||"independent"!==this.component.resolve.scale.y||(g="none"):g="none";return Object.assign({},this.getHeaderLayoutMixins(),e?{columns:e}:{},{bounds:"full",align:g})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&
this.parent instanceof lk))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(a){return this.parent&&this.parent instanceof lk?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:mc(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(a)):super.assembleGroup(a)}getCardinalityAggregateForChild(){const a=[],c=[],e=[];if(this.child instanceof lk){if(this.child.channelHasField("column")){var g=mc(this.child.facet.column);
a.push(g);c.push("distinct");e.push(`distinct_${g}`)}}else for(g of be){var h=this.child.component.scales[g];if(h&&!h.merged){var q=h.get("type");h=h.get("range");Oe(q)&&Nb(h)&&(q=nk(this.child,g),(q=Xl(q))?(a.push(q),c.push("distinct"),e.push(`distinct_${q}`)):J(Sb(g)))}}return{fields:a,ops:c,as:e}}assembleFacet(){const {name:a,data:c}=this.component.data.facetRoot,{row:e,column:g}=this.facet,{fields:h,ops:q,as:C}=this.getCardinalityAggregateForChild(),S=[];for(var ba of Ch){var sa=this.facet[ba];
if(sa){S.push(mc(sa));const {bin:Ta,sort:mb}=sa;zb(Ta)&&S.push(mc(sa,{binSuffix:"end"}));if(qe(mb)){const {field:ac,op:Ec="min"}=mb;sa=ml(sa,mb);e&&g?(h.push(sa),q.push("max")):(h.push(ac),q.push(Ec));C.push(sa)}else l.isArray(mb)&&(sa=vi(sa,ba),h.push(sa),q.push("max"),C.push(sa))}}ba=!!e&&!!g;return Object.assign({},{name:a,data:c,groupby:S},ba||0<h.length?{aggregate:Object.assign({},ba?{cross:ba}:{},h.length?{fields:h,ops:q,as:C}:{})}:{})}facetSortFields(a){var {facet:c}=this;return(c=c[a])?qe(c.sort)?
[ml(c,c.sort,{expr:"datum"})]:l.isArray(c.sort)?[vi(c,a,{expr:"datum"})]:[mc(c,{expr:"datum"})]:[]}facetSortOrder(a){const {facet:c}=this;return(a=c[a])?({sort:a}=a,[(qe(a)?a.order:!l.isArray(a)&&a)||"ascending"]):[]}assembleLabelTitle(){const {facet:a,config:c}=this;if(a.facet)return jj(a.facet,"facet",c);const e={row:["top","bottom"],column:["left","right"]};for(const g of im)if(a[g]){let h;const q=zh("labelOrient",null==(h=a[g])?void 0:h.header,c,g);if(e[g].includes(q))return jj(a[g],g,c)}}assembleMarks(){const {child:a}=
this,c=Nn(this.component.data.facetRoot),e=a.assembleGroupEncodeEntry(!1),g=this.assembleLabelTitle()||a.assembleTitle(),h=a.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},g?{title:g}:{},h?{style:h}:{},{from:{facet:this.assembleFacet()},sort:{field:Ch.map(q=>this.facetSortFields(q)).flat(),order:Ch.map(q=>this.facetSortOrder(q)).flat()}},0<c.length?{data:c}:{},e?{encode:{update:e}}:{},a.assembleGroup(dj(this,[])))]}getMapping(){return this.facet}}class zm extends bi{constructor(a,
c,e,g){super(a,"concat",c,e,g,a.resolve);V(this,"children",void 0);let h,q,C,S;"shared"!==(null==(h=a.resolve)?void 0:null==(q=h.axis)?void 0:q.x)&&"shared"!==(null==(C=a.resolve)?void 0:null==(S=C.axis)?void 0:S.y)||J("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");this.children=this.getChildren(a).map((ba,sa)=>Bk(ba,this,this.getName(`concat_${sa}`),void 0,g))}parseData(){this.component.data=Oj(this);for(const a of this.children)a.parseData()}parseSelections(){this.component.selection=
{};for(const a of this.children){a.parseSelections();for(const c of Yc(a.component.selection))this.component.selection[c]=a.component.selection[c]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){for(const a of this.children)a.parseAxesAndHeaders()}getChildren(a){return"vconcat"in a?a.vconcat:"hconcat"in a?a.hconcat:a.concat}parseLayoutSize(){ll(this);const a=void 0===this.layout.columns?"height":"childHeight";zk(this,1===this.layout.columns?"width":"childWidth");
zk(this,a)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(a){return this.children.reduce((c,e)=>e.assembleSelectionTopLevelSignals(c),a)}assembleSignals(){this.children.forEach(a=>a.assembleSignals());return[]}assembleLayoutSignals(){const a=Nj(this);for(const c of this.children)a.push(...c.assembleLayoutSignals());return a}assembleSelectionData(a){return this.children.reduce((c,e)=>e.assembleSelectionData(c),a)}assembleMarks(){return this.children.map(a=>{const c=a.assembleTitle(),
e=a.assembleGroupStyle(),g=a.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:a.getName("group")},c?{title:c}:{},e?{style:e}:{},g?{encode:{update:g}}:{},a.assembleGroup())})}assembleGroupStyle(){}assembleDefaultLayout(){const a=this.layout.columns;return Object.assign({},null!=a?{columns:a}:{},{bounds:"full",align:"each"})}}const un=Object.assign({},{disable:1,gridScale:1,scale:1},Ek,{labelExpr:1,encode:1}),bj=Yc(un);class xj extends Ah{constructor(){let a=0<arguments.length&&
void 0!==arguments[0]?arguments[0]:{},c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super();this.explicit=a;this.implicit=c;this.mainExtracted=e}clone(){return new xj(ve(this.explicit),ve(this.implicit),this.mainExtracted)}hasAxisPart(a){if("axis"===a)return!0;if("grid"===a||"title"===a)return!!this.get(a);a=this.get(a);return!(!1===a||null===a)}hasOrientSignalRef(){return Ob(this.explicit.orient)}}const Fj={bottom:"top",top:"bottom",
left:"right",right:"left"},Bm=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),ah={arc:{vgMark:"arc",encodeEntry:a=>Object.assign({},bf(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),Yd("x",a,{defaultPos:"mid"}),Yd("y",a,{defaultPos:"mid"}),je(a,"radius"),je(a,"theta"))},area:{vgMark:"area",encodeEntry:a=>Object.assign({},bf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"include",
size:"ignore",theta:"ignore"}),jf("x",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===a.markDef.orient}),jf("y",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===a.markDef.orient}),pf(a))},bar:{vgMark:"rect",encodeEntry:a=>Object.assign({},bf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),je(a,"x"),je(a,"y"))},circle:{vgMark:"symbol",encodeEntry:a=>Xj(a,"circle")},geoshape:{vgMark:"shape",encodeEntry:a=>
Object.assign({},bf(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:a=>{var {encoding:c}=a;c=c.shape;return[Object.assign({},{type:"geoshape",projection:a.projectionName()},c&&Oa(c)&&"geojson"===c.type?{field:mc(c,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:a=>Object.assign({},bf(a,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),je(a,"x"),je(a,"y"),ta(a,"url"))},
line:{vgMark:"line",encodeEntry:a=>Object.assign({},bf(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),Yd("x",a,{defaultPos:"mid"}),Yd("y",a,{defaultPos:"mid"}),Uc("size",a,{vgChannel:"strokeWidth"}),pf(a))},point:{vgMark:"symbol",encodeEntry:a=>Xj(a)},rect:{vgMark:"rect",encodeEntry:a=>Object.assign({},bf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),je(a,"x"),je(a,"y"))},rule:{vgMark:"rule",encodeEntry:a=>
{var {markDef:c}=a;c=c.orient;return a.encoding.x||a.encoding.y||a.encoding.latitude||a.encoding.longitude?Object.assign({},bf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),jf("x",a,{defaultPos:"horizontal"===c?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==c}),jf("y",a,{defaultPos:"vertical"===c?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==c}),Uc("size",a,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",
encodeEntry:a=>Xj(a,"square")},text:{vgMark:"text",encodeEntry:a=>{var {config:c}=a,e=Object,g=e.assign,h=bf(a,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),q=Yd("x",a,{defaultPos:"mid"}),C=Yd("y",a,{defaultPos:"mid"}),S=ta(a),ba=Uc("size",a,{vgChannel:"fontSize"}),sa=Uc("angle",a);var Ta=void 0===Wb("align",a.markDef,c)?"center":void 0;Ta=Wh("align",Ta);c=void 0===Wb("baseline",a.markDef,c)?"middle":void 0;return g.call(e,{},h,q,C,S,ba,sa,Ta,
Wh("baseline",c),Yd("radius",a,{defaultPos:null}),Yd("theta",a,{defaultPos:null}))}},tick:{vgMark:"rect",encodeEntry:a=>{const {config:c,markDef:e}=a;var g=e.orient;const h="horizontal"===g?"width":"height";g="horizontal"===g?"height":"width";var q=Object,C=q.assign,S=bf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),ba=Yd("x",a,{defaultPos:"mid",vgChannel:"xc"}),sa=Yd("y",a,{defaultPos:"mid",vgChannel:"yc"});{const {config:Ec,markDef:gc}=a;var {orient:Ta}=
gc;var mb="horizontal"===Ta?"width":"height";Ta=a.getScaleComponent("horizontal"===Ta?"x":"y");var ac;const Fc=null!=(ac=Wb("size",gc,Ec,{vgChannel:mb}))?ac:Ec.tick.bandSize;mb=void 0!==Fc?Fc:(ac=Ta?Ta.get("range"):void 0)&&Nb(ac)&&l.isNumber(ac.step)?3*ac.step/4:3*fg(Ec.view,mb)/4}return C.call(q,{},S,ba,sa,Uc("size",a,{defaultValue:mb,vgChannel:h}),{[g]:Va(Wb("thickness",e,c))})}},trail:{vgMark:"trail",encodeEntry:a=>Object.assign({},bf(a,{align:"ignore",baseline:"ignore",color:"include",size:"include",
orient:"ignore",theta:"ignore"}),Yd("x",a,{defaultPos:"mid"}),Yd("y",a,{defaultPos:"mid"}),Uc("size",a),pf(a))}};class Ph extends Uk{constructor(a,c,e){let g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},h=4<arguments.length?arguments[4]:void 0;super(a,"unit",c,e,h,void 0,af(a)?a.view:void 0);V(this,"markDef",void 0);V(this,"encoding",void 0);V(this,"specifiedScales",{});V(this,"stack",void 0);V(this,"specifiedAxes",{});V(this,"specifiedLegends",{});V(this,"specifiedProjection",{});V(this,
"selection",[]);V(this,"children",[]);const q=hd(a.mark)?Object.assign({},a.mark):{type:a.mark},C=q.type;void 0===q.filled&&(q.filled=Rh(q,h,{graticule:a.data&&"graticule"in a.data}));const S=this.encoding=kh(a.encoding||{},C,q.filled,h);this.markDef=ug(q,S,h);this.size=Zm({encoding:S,size:af(a)?Object.assign({},g,a.width?{width:a.width}:{},a.height?{height:a.height}:{}):g});this.stack=Fg(this.markDef,S);this.specifiedScales=this.initScales(C,S);this.specifiedAxes=this.initAxes(S);this.specifiedLegends=
this.initLegends(S);this.specifiedProjection=a.projection;let ba;this.selection=(null!=(ba=a.params)?ba:[]).filter(sa=>Jd(sa))}get hasProjection(){const {encoding:a}=this,c=this.mark===ji,e=a&&nj.some(g=>tc(a[g]));return c||e}scaleDomain(a){return(a=this.specifiedScales[a])?a.domain:void 0}axis(a){return this.specifiedAxes[a]}legend(a){return this.specifiedLegends[a]}initScales(a,c){return Pi.reduce((e,g)=>{const h=Ge(c[g]);if(h){let q;e[g]=this.initScale(null!=(q=h.scale)?q:{})}return e},{})}initScale(a){const {domain:c,
range:e}=a;a=Qb(a);l.isArray(c)&&(a.domain=c.map(ra));l.isArray(e)&&(a.range=e.map(ra));return a}initAxes(a){return be.reduce((c,e)=>{var g=a[e];if(tc(g)||"x"===e&&tc(a.x2)||"y"===e&&tc(a.y2))g=tc(g)?g.axis:void 0,c[e]=g?this.initAxis(Object.assign({},g)):g;return c},{})}initAxis(a){var c=Yc(a);const e={};for(const g of c)c=a[g],e[g]=lg(c)?Sc(c):ra(c);return e}initLegends(a){return bk.reduce((c,e)=>{var g=Ge(a[e]),h;if(h=g)a:{switch(e){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":h=
!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":h=!1;break a}h=void 0}h&&(g=g.legend,c[e]=g?Qb(g):g);return c},{})}parseData(){this.component.data=Oj(this)}parseLayoutSize(){const {size:a,component:c}=this;for(const g of be){const h=P(g);if(a[h]){var e=a[h];c.layoutSize.set(h,we(e)?"step":e,!0)}else e=cm(this,h),c.layoutSize.set(h,e,!1)}}parseSelections(){var a=this.component;{var c=this.selection;var e={};const q=this.config.selection;if(c&&c.length)for(const C of c){c=ua(C.name);
var g=C.select,h=l.isString(g)?g:g.type;g=l.isObject(g)?ve(g):{type:h};const S=q[h];for(const ba in S)if("fields"!==ba&&"encodings"!==ba&&("mark"===ba&&(g[ba]=Object.assign({},S[ba],g[ba])),void 0===g[ba]||!0===g[ba])){let sa;g[ba]=ve(null!=(sa=S[ba])?sa:g[ba])}c=e[c]=Object.assign({},g,{name:c,type:h,init:C.value,bind:C.bind,events:l.isString(g.on)?l.parseSelector(g.on,"scope"):l.array(ve(g.on))});h=ve(C);for(const ba of xk)ba.defined(c)&&ba.parse&&ba.parse(this,c,h)}}a.selection=e}parseMarkGroup(){this.component.mark=
$m(this)}parseAxesAndHeaders(){this.component.axes=em(this)}assembleSelectionTopLevelSignals(a){return Ih(this,a)}assembleSignals(){var a=[...qk(this)];var c=[];var e;for(const g of Jg(null!=(e=this.component.selection)?e:{})){e=g.name;let h=`${e}${"_tuple"}, ${"global"===g.resolve?"true":`{unit: ${wg(this)}}`}`;for(const q of xk)q.defined(g)&&(q.signals&&(c=q.signals(this,g,c)),q.modifyExpr&&(h=q.modifyExpr(this,g,h)));c.push({name:e+"_modify",on:[{events:{signal:g.name+"_tuple"},update:`modify(${l.stringValue(g.name+
"_store")}, ${h})`}]})}c=za(c);return[...a,...c]}assembleSelectionData(a){return ei(this,a)}assembleLayout(){return null}assembleLayoutSignals(){return Nj(this)}assembleMarks(){let a,c=null!=(a=this.component.mark)?a:[];this.parent&&yi(this.parent)||(c=F(this,c));return c.map(this.correctDataNames)}assembleGroupStyle(){const {style:a}=this.view||{};return void 0!==a?a:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(a){return Ke(this.encoding,
a)}fieldDef(a){return ke(this.encoding[a])}typedFieldDef(a){a=this.fieldDef(a);return Lc(a)?a:null}}class sg extends bi{constructor(a,c,e,g,h){super(a,"layer",c,e,h,a.resolve,a.view);V(this,"children",void 0);const q=Object.assign({},g,a.width?{width:a.width}:{},a.height?{height:a.height}:{});this.children=a.layer.map((C,S)=>{if("layer"in C)return new sg(C,this,this.getName(`layer_${S}`),q,h);if(lf(C))return new Ph(C,this,this.getName(`layer_${S}`),q,h);throw Error(ya(C));})}parseData(){this.component.data=
Oj(this);for(const a of this.children)a.parseData()}parseLayoutSize(){ll(this);zk(this,"width");zk(this,"height")}parseSelections(){this.component.selection={};for(const a of this.children){a.parseSelections();for(const c of Yc(a.component.selection))this.component.selection[c]=a.component.selection[c]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){const {axes:a,resolve:c}=this.component,e={top:0,bottom:0,right:0,left:0};for(var g of this.children){g.parseAxesAndHeaders();
for(const h of Yc(g.component.axes))c.axis[h]=p(this.component.resolve,h),"shared"===c.axis[h]&&(a[h]=om(a[h],g.component.axes[h]),a[h]||(c.axis[h]="independent",delete a[h]))}for(const h of be){for(const q of this.children)if(q.component.axes[h]){if("independent"===c.axis[h]){let C;a[h]=(null!=(C=a[h])?C:[]).concat(q.component.axes[h]);for(const S of q.component.axes[h]){const {value:ba,explicit:sa}=S.getWithExplicit("orient");Ob(ba)||(0<e[ba]&&!sa&&(g=Fj[ba],e[ba]>e[g]&&S.set("orient",g,!1)),e[ba]++)}}delete q.component.axes[h]}if("independent"===
c.axis[h]&&a[h]&&1<a[h].length)for(const q of(a[h]||[]).entries()){const [C,S]=q;0<C&&S.get("grid")&&!S.explicit.grid&&(S.implicit.grid=!1)}}}assembleSelectionTopLevelSignals(a){return this.children.reduce((c,e)=>e.assembleSelectionTopLevelSignals(c),a)}assembleSignals(){return this.children.reduce((a,c)=>a.concat(c.assembleSignals()),qk(this))}assembleLayoutSignals(){return this.children.reduce((a,c)=>a.concat(c.assembleLayoutSignals()),Nj(this))}assembleSelectionData(a){return this.children.reduce((c,
e)=>e.assembleSelectionData(c),a)}assembleGroupStyle(){var a=new Set;for(const c of this.children)for(const e of l.array(c.assembleGroupStyle()))a.add(e);a=Array.from(a);return 1<a.length?a:1===a.length?a[0]:void 0}assembleTitle(){let a=super.assembleTitle();if(a)return a;for(const c of this.children)if(a=c.assembleTitle())return a}assembleLayout(){return null}assembleMarks(){return Z(this,this.children.flatMap(a=>a.assembleMarks()))}assembleLegends(){return this.children.reduce((a,c)=>a.concat(c.assembleLegends()),
qc(this))}}u.accessPathDepth=Na;u.accessPathWithDatum=Xa;u.compile=function(a){let c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};c.logger&&(Kk=c.logger);c.fieldTitle&&(zi=c.fieldTitle);try{const Ta=Mf(l.mergeConfig(c.config,a.config)),mb=Li(a,Ta),ac=Bk(mb,null,"",void 0,Ta);ac.parse();var e=ac.component.data,g=ac;rd(e.sources);let Ec=0,gc=0;for(var h=0;5>h&&ud(e,g,!0);h++)Ec++;e.sources.map(Lh);for(h=0;5>h&&ud(e,g,!1);h++)gc++;rd(e.sources);5===Math.max(Ec,gc)&&J("Maximum optimization runs(5) reached.");
var q=mb.autosize;e=Ta;g=ac;const Fc=g.component.layoutSize.get("width"),Hc=g.component.layoutSize.get("height");void 0===q?(q={type:"pad"},g.hasAxisOrientSignalRef()&&(q.resize=!0)):l.isString(q)&&(q={type:q});var C;if(C=Fc&&Hc){var S=q.type;C="fit"===S||"fit-x"===S||"fit-y"===S}if(C)if("step"===Fc&&"step"===Hc)J(qb()),q.type="pad";else if("step"===Fc||"step"===Hc){S="step"===Fc?"width":"height";J(qb(X(S)));C=q;var ba=(S="width"===S?"height":"width",`fit-${X(S)}`);C.type=ba}var sa=Object.assign({},
1===Yc(q).length&&q.type?"pad"===q.type?{}:{autosize:q.type}:{autosize:q},Hh(e,!1),Hh(a,!0));return{spec:ol(ac,sa,a.datasets,a.usermeta),normalized:mb}}finally{c.logger&&(Kk=Ql),c.fieldTitle&&(zi=fk)}};u.contains=ub;u.deepEqual=na;u.deleteNestedProperty=xa;u.duplicate=ve;u.entries=Ni;u.every=Yb;u.fieldIntersection=Db;u.flatAccessWithDatum=Ka;u.getFirstDefined=U;u.hasIntersection=xb;u.hash=Bb;u.internalField=Ha;u.isBoolean=lc;u.isEmpty=lb;u.isEqual=function(a,c){const e=Yc(a),g=Yc(c);if(e.length!==
g.length)return!1;for(const h of e)if(a[h]!==c[h])return!1;return!0};u.isInternalField=Y;u.isNullOrFalse=yb;u.isNumeric=ma;u.keys=Yc;u.logicalExpr=ha;u.mergeDeep=Ba;u.never=vb;u.normalize=Li;u.normalizeAngle=Ca;u.omit=ec;u.pick=Xb;u.prefixGenerator=nb;u.removePathFromField=Ub;u.replaceAll=wb;u.replacePathInField=gb;u.resetIdCounter=function(){Hf=42};u.setEqual=Cb;u.some=Lb;u.stringify=n;u.titleCase=Ua;u.unique=bb;u.uniqueId=ea;u.vals=Jg;u.varName=ua;u.version="5.16.3"})};
shadow$provide[58]=function(Fb,pb,zc,Za){var u=pb(0);(function(l,ja){"object"===typeof Za&&"undefined"!==typeof zc?zc.exports=ja(pb(56),pb(57)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],ja):(l=l||self,l.vegaEmbed=ja(l.vega,l.vegaLite))})(this,function(l,ja){function $a(w,Q,ca,wa){function pa(Ya){return Ya instanceof ca?Ya:new ca(function(Tb){Tb(Ya)})}return new (ca||(ca=Promise))(function(Ya,Tb){function Zb(Oc){try{Cc(wa.next(Oc))}catch(Rc){Tb(Rc)}}function jc(Oc){try{Cc(wa["throw"](Oc))}catch(Rc){Tb(Rc)}}
function Cc(Oc){Oc.done?Ya(Oc.value):pa(Oc.value).then(Zb,jc)}Cc((wa=wa.apply(w,Q||[])).next())})}function vb(w){if(Array.isArray(w)){var Q=Array(w.length);for(w=0;w<Q.length;w++)Q[w]=""+w;return Q}if(Object.keys)return Object.keys(w);Q=[];for(var ca in w)G.call(w,ca)&&Q.push(ca);return Q}function Xb(w){switch(typeof w){case "object":return JSON.parse(JSON.stringify(w));case "undefined":return null;default:return w}}function ec(w){for(var Q=0,ca=w.length,wa;Q<ca;)if(wa=w.charCodeAt(Q),48<=wa&&57>=
wa)Q++;else return!1;return!0}function Bb(w){return-1===w.indexOf("/")&&-1===w.indexOf("~")?w:w.replace(/~/g,"~0").replace(/\//g,"~1")}function yb(w){return w.replace(/~1/g,"/").replace(/~0/g,"~")}function ub(w){if(void 0===w)return!0;if(w)if(Array.isArray(w))for(var Q=0,ca=w.length;Q<ca;Q++){if(ub(w[Q]))return!0}else if("object"===typeof w){ca=vb(w);var wa=ca.length;for(Q=0;Q<wa;Q++)if(ub(w[ca[Q]]))return!0}return!1}function Lb(w,Q){w=[w];for(var ca in Q){var wa="object"===typeof Q[ca]?JSON.stringify(Q[ca],
null,2):Q[ca];"undefined"!==typeof wa&&w.push(ca+": "+wa)}return w.join("\n")}function Yb(w,Q){if(""==Q)return w;Q={op:"_get",path:Q};Ba(w,Q);return Q.value}function Ba(w,Q,ca,wa,pa,Ya){void 0===ca&&(ca=!1);void 0===wa&&(wa=!0);void 0===pa&&(pa=!0);void 0===Ya&&(Ya=0);ca&&("function"==typeof ca?ca(Q,0,w,Q.path):Cb(Q,0));if(""===Q.path){pa={newDocument:w};if("add"===Q.op)return pa.newDocument=Q.value,pa;if("replace"===Q.op)return pa.newDocument=Q.value,pa.removed=w,pa;if("move"===Q.op||"copy"===Q.op)return pa.newDocument=
Yb(w,Q.from),"move"===Q.op&&(pa.removed=w),pa;if("test"===Q.op){pa.test=nb(w,Q.value);if(!1===pa.test)throw new y("Test operation failed","TEST_OPERATION_FAILED",Ya,Q,w);pa.newDocument=w;return pa}if("remove"===Q.op)return pa.removed=w,pa.newDocument=null,pa;if("_get"===Q.op)return Q.value=w,pa;if(ca)throw new y("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",Ya,Q,w);return pa}wa||(w=Xb(w));wa=(Q.path||"").split("/");var Tb=w,Zb=1,jc=wa.length,Cc=void 0,
Oc;for(Oc="function"==typeof ca?ca:Cb;;){var Rc=wa[Zb];if(pa&&"__proto__"==Rc)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");ca&&void 0===Cc&&(void 0===Tb[Rc]?Cc=wa.slice(0,Zb).join("/"):Zb==jc-1&&(Cc=Q.path),void 0!==Cc&&Oc(Q,0,w,Cc));Zb++;if(Array.isArray(Tb)){if("-"===Rc)Rc=Tb.length;else{if(ca&&!ec(Rc))throw new y("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index",
"OPERATION_PATH_ILLEGAL_ARRAY_INDEX",Ya,Q,w);ec(Rc)&&(Rc=~~Rc)}if(Zb>=jc){if(ca&&"add"===Q.op&&Rc>Tb.length)throw new y("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",Ya,Q,w);pa=D[Q.op].call(Q,Tb,Rc,w);if(!1===pa.test)throw new y("Test operation failed","TEST_OPERATION_FAILED",Ya,Q,w);return pa}}else if(Rc&&-1!=Rc.indexOf("~")&&(Rc=yb(Rc)),Zb>=jc){pa=T[Q.op].call(Q,Tb,Rc,w);if(!1===pa.test)throw new y("Test operation failed","TEST_OPERATION_FAILED",
Ya,Q,w);return pa}Tb=Tb[Rc]}}function bb(w,Q,ca,wa,pa){void 0===wa&&(wa=!0);void 0===pa&&(pa=!0);if(ca&&!Array.isArray(Q))throw new y("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");wa||(w=Xb(w));wa=Array(Q.length);for(var Ya=0,Tb=Q.length;Ya<Tb;Ya++)wa[Ya]=Ba(w,Q[Ya],ca,!0,pa,Ya),w=wa[Ya].newDocument;wa.newDocument=w;return wa}function Cb(w,Q,ca,wa){if("object"!==typeof w||null===w||Array.isArray(w))throw new y("Operation is not an object","OPERATION_NOT_AN_OBJECT",Q,w,ca);if(T[w.op]){if("string"!==
typeof w.path)throw new y("Operation `path` property is not a string","OPERATION_PATH_INVALID",Q,w,ca);if(0!==w.path.indexOf("/")&&0<w.path.length)throw new y('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",Q,w,ca);if("move"!==w.op&&"copy"!==w.op||"string"===typeof w.from)if("add"!==w.op&&"replace"!==w.op&&"test"!==w.op||void 0!==w.value){if(("add"===w.op||"replace"===w.op||"test"===w.op)&&ub(w.value))throw new y("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)",
"OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",Q,w,ca);if(ca)if("add"==w.op){var pa=w.path.split("/").length;wa=wa.split("/").length;if(pa!==wa+1&&pa!==wa)throw new y("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",Q,w,ca);}else if("replace"===w.op||"remove"===w.op||"_get"===w.op){if(w.path!==wa)throw new y("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",Q,w,ca);}else if(("move"===w.op||"copy"===w.op)&&(pa=xb([{op:"_get",path:w.from,
value:void 0}],ca))&&"OPERATION_PATH_UNRESOLVABLE"===pa.name)throw new y("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",Q,w,ca);}else throw new y("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",Q,w,ca);else throw new y("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",Q,w,ca);}else throw new y("Operation `op` property is not one of operations defined in RFC-6902",
"OPERATION_OP_INVALID",Q,w,ca);}function xb(w,Q,ca){try{if(!Array.isArray(w))throw new y("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(Q)bb(Xb(Q),Xb(w),ca||!0);else{ca=ca||Cb;for(var wa=0;wa<w.length;wa++)ca(w[wa],wa,Q,void 0)}}catch(pa){if(pa instanceof y)return pa;throw pa;}}function nb(w,Q){if(w===Q)return!0;if(w&&Q&&"object"==typeof w&&"object"==typeof Q){var ca=Array.isArray(w),wa=Array.isArray(Q);if(ca&&wa){var pa=w.length;if(pa!=Q.length)return!1;for(ca=pa;0!==ca--;)if(!nb(w[ca],
Q[ca]))return!1;return!0}if(ca!=wa)return!1;wa=Object.keys(w);pa=wa.length;if(pa!==Object.keys(Q).length)return!1;for(ca=pa;0!==ca--;)if(!Q.hasOwnProperty(wa[ca]))return!1;for(ca=pa;0!==ca--;)if(pa=wa[ca],!nb(w[pa],Q[pa]))return!1;return!0}return w!==w&&Q!==Q}function Db(w,Q){void 0===Q&&(Q=!1);var ca=P.get(w.object);lb(ca.value,w.object,w.patches,"",Q);w.patches.length&&bb(ca.value,w.patches);Q=w.patches;0<Q.length&&(w.patches=[],w.callback&&w.callback(Q));return Q}function lb(w,Q,ca,wa,pa){if(Q!==
w){"function"===typeof Q.toJSON&&(Q=Q.toJSON());for(var Ya=vb(Q),Tb=vb(w),Zb=!1,jc=Tb.length-1;0<=jc;jc--){var Cc=Tb[jc],Oc=w[Cc];if(!G.call(Q,Cc)||void 0===Q[Cc]&&void 0!==Oc&&!1===Array.isArray(Q))Array.isArray(w)===Array.isArray(Q)?(pa&&ca.push({op:"test",path:wa+"/"+Bb(Cc),value:Xb(Oc)}),ca.push({op:"remove",path:wa+"/"+Bb(Cc)}),Zb=!0):(pa&&ca.push({op:"test",path:wa,value:w}),ca.push({op:"replace",path:wa,value:Q}));else{var Rc=Q[Cc];"object"==typeof Oc&&null!=Oc&&"object"==typeof Rc&&null!=
Rc?lb(Oc,Rc,ca,wa+"/"+Bb(Cc),pa):Oc!==Rc&&(pa&&ca.push({op:"test",path:wa+"/"+Bb(Cc),value:Xb(Oc)}),ca.push({op:"replace",path:wa+"/"+Bb(Cc),value:Xb(Rc)}))}}if(Zb||Ya.length!=Tb.length)for(jc=0;jc<Ya.length;jc++)Cc=Ya[jc],G.call(w,Cc)||void 0===Q[Cc]||ca.push({op:"add",path:wa+"/"+Bb(Cc),value:Xb(Q[Cc])})}}function lc(w,Q){return Q={exports:{}},w(Q,Q.exports),Q.exports}function ua(w,Q,ca){w.fields=Q||[];w.fname=ca;return w}function ha(w){function Q(){ca.push(Tb+w.substring(Zb,jc));Tb="";Zb=jc+1}
var ca=[],wa=null,pa=0,Ya=w.length,Tb="",Zb,jc;w+="";for(Zb=jc=0;jc<Ya;++jc){var Cc=w[jc];if("\\"===Cc)Tb+=w.substring(Zb,jc),Tb+=w.substring(++jc,++jc),Zb=jc;else if(Cc===wa)Q(),wa=null,pa=-1;else if(!wa)if(Zb===pa&&'"'===Cc)Zb=jc+1,wa=Cc;else if(Zb===pa&&"'"===Cc)Zb=jc+1,wa=Cc;else if("."===Cc&&!pa)jc>Zb?Q():Zb=jc+1;else if("["===Cc)jc>Zb&&Q(),pa=Zb=jc+1;else if("]"===Cc){if(!pa)throw Error("Access path missing open bracket: "+w);0<pa&&Q();pa=0;Zb=jc+1}}if(pa)throw Error("Access path missing closing bracket: "+
w);if(wa)throw Error("Access path missing closing quote: "+w);jc>Zb&&(jc++,Q());return ca}function xa(w){return w===Object(w)}function Ua(w){return"string"===typeof w}function Xa(w){return uc(w)?"["+w.map(Xa)+"]":xa(w)||Ua(w)?JSON.stringify(w).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):w}function Ka(...w){return w.reduce((Q,ca)=>{for(var wa in ca)"signals"===wa?Q.signals=gb(Q.signals,ca.signals):jb(Q,wa,ca[wa],"legend"===wa?{layout:1}:"style"===wa?!0:null);return Q},{})}function jb(w,
Q,ca,wa){if("__proto__"!==Q){var pa;if(xa(ca)&&!uc(ca))for(pa in w=xa(w[Q])?w[Q]:w[Q]={},ca)wa&&(!0===wa||wa[pa])?jb(w,pa,ca[pa]):"__proto__"!==pa&&(w[pa]=ca[pa]);else w[Q]=ca}}function gb(w,Q){function ca(Ya){wa[Ya.name]||(wa[Ya.name]=1,pa.push(Ya))}if(null==w)return Q;const wa={},pa=[];Q.forEach(ca);w.forEach(ca);return pa}function wb(w,Q,ca){if(uc(w))return`[${w.map(pa=>Q(Ua(pa)?pa:JSON.stringify(pa,Ub(ca)))).join(", ")}]`;if(xa(w)){let pa="";var {title:wa}=w;w=Kc(w,["title"]);wa&&(pa+=`<h2>${Q(wa)}</h2>`);
wa=Object.keys(w);if(0<wa.length){pa+="\x3ctable\x3e";for(const Ya of wa)wa=w[Ya],void 0!==wa&&(xa(wa)&&(wa=JSON.stringify(wa,Ub(ca))),pa+=`<tr><td class="key">${Q(Ya)}:</td><td class="value">${Q(wa)}</td></tr>`);pa+="\x3c/table\x3e"}return pa||"{}"}return Q(w)}function Ub(w){const Q=[];return function(ca,wa){if("object"!==typeof wa||null===wa)return wa;ca=Q.indexOf(this)+1;Q.length=ca;if(Q.length>w)return"[Object]";if(0<=Q.indexOf(wa))return"[Circular]";Q.push(wa);return wa}}function Na(w,Q,ca){function wa(Zb){Zb.source===
Ya&&(Tb=0,w.removeEventListener("message",wa,!1))}function pa(){0>=Tb||(Ya.postMessage(ca,"*"),setTimeout(pa,250),--Tb)}const Ya=w.open(Q);let Tb=40;w.addEventListener("message",wa,!1);setTimeout(pa,250)}function U(w,...Q){for(const wa of Q){Q=w;var ca=wa;for(const pa of Object.keys(ca))l.writeConfig(Q,pa,ca[pa],!0)}return w}function ea(w,Q,ca,wa){Q=`<html><head>${Q}</head><body><pre><code class="json">`;ca=`</code></pre>${ca}</body></html>`;const pa=window.open("");pa.document.write(Q+w+ca);pa.document.title=
`${gd[wa]} JSON Source`}function Ha(w,Q){var ca;return w.$schema?(w=Wa(w.$schema),Q&&Q!==w.library&&console.warn(`The given visualization spec is written in ${gd[w.library]}, but mode argument sets ${null!==(ca=gd[Q])&&void 0!==ca?ca:Q}.`),Q=w.library,Ia(z[Q],`^${w.version.slice(1)}`)||console.warn(`The input spec uses ${gd[Q]} ${w.version}, but the current version of ${gd[Q]} is v${z[Q]}.`),Q):"mark"in w||"encoding"in w||"layer"in w||"hconcat"in w||"vconcat"in w||"facet"in w||"repeat"in w?"vega-lite":
"marks"in w||"signals"in w||"scales"in w||"axes"in w?"vega":null!==Q&&void 0!==Q?Q:"vega"}function Y(w,Q,ca={}){var wa,pa,Ya;return $a(this,void 0,void 0,function*(){var Tb=ca.loader;Tb=Tb&&"load"in Tb?ca.loader:Tc.loader(ca.loader);const Zb=Ua(Q)?JSON.parse(yield Tb.load(Q)):Q;var jc=yield Ca(null!==(wa=Zb.usermeta&&Zb.usermeta.embedOptions)&&void 0!==wa?wa:{},Tb);const Cc=yield Ca(ca,Tb);jc=Object.assign(Object.assign({},U(Cc,jc)),{config:Ka(null!==(pa=Cc.config)&&void 0!==pa?pa:{},null!==(Ya=jc.config)&&
void 0!==Ya?Ya:{})});return yield ma(w,Zb,jc,Tb)})}function Ca(w,Q){var ca;return $a(this,void 0,void 0,function*(){const wa=Ua(w.config)?JSON.parse(yield Q.load(w.config)):null!==(ca=w.config)&&void 0!==ca?ca:{},pa=Ua(w.patch)?JSON.parse(yield Q.load(w.patch)):w.patch;return Object.assign(Object.assign(Object.assign({},w),pa?{patch:pa}:{}),wa?{config:wa}:{})})}function ma(w,Q,ca={},wa){var pa,Ya,Tb,Zb,jc,Cc;return $a(this,void 0,void 0,function*(){const Oc=ca.theme?Ka(Hb[ca.theme],null!==(pa=ca.config)&&
void 0!==pa?pa:{}):ca.config;var Rc="boolean"===typeof ca.actions?ca.actions:U({},dd,null!==(Ya=ca.actions)&&void 0!==Ya?Ya:{});const od=Object.assign(Object.assign({},Wd),ca.i18n),sd=null!==(Tb=ca.renderer)&&void 0!==Tb?Tb:"canvas";var zd=null!==(Zb=ca.logLevel)&&void 0!==Zb?Zb:Tc.Warn,Zd=null!==(jc=ca.downloadFileName)&&void 0!==jc?jc:"visualization";if(!1!==ca.defaultStyle&&!document.getElementById("vega-embed-style")){var Kd=document.createElement("style");Kd.id="vega-embed-style";Kd.innerText=
void 0===ca.defaultStyle||!0===ca.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) \x3e :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: scroll;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n'.toString():
ca.defaultStyle;document.head.appendChild(Kd)}const $d=Ha(Q,ca.mode);let Te=J[$d](Q,Oc);"vega-lite"===$d&&Te.$schema&&(Kd=Wa(Te.$schema),Ia(z.vega,`^${Kd.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${Kd.version}, but current version is v${z.vega}.`));Kd="string"===typeof w?document.querySelector(w):w;if(!Kd)throw Error(`${w} does not exist`);Kd.classList.add("vega-embed");Rc&&Kd.classList.add("has-actions");Kd.innerHTML="";var We=ca.patch;We&&(Te=We instanceof Function?We(Te):bb(Te,
We,!0,!1).newDocument);ca.formatLocale&&Tc.formatLocale(ca.formatLocale);ca.timeFormatLocale&&Tc.timeFormatLocale(ca.timeFormatLocale);We=Tc.parse(Te,"vega-lite"===$d?{}:Oc);const Le=new Tc.View(We,{loader:wa,logLevel:zd,renderer:sd});!1!==ca.tooltip&&(zd="function"===typeof ca.tooltip?ca.tooltip:(new md(!0===ca.tooltip?{}:ca.tooltip)).call,Le.tooltip(zd));({hover:zd}=ca);void 0===zd&&(zd="vega"===$d);if(zd){const {hoverSet:Ie,updateSet:He}="boolean"===typeof zd?{}:zd;Le.hover(Ie,He)}ca&&(null!=ca.width&&
Le.width(ca.width),null!=ca.height&&Le.height(ca.height),null!=ca.padding&&Le.padding(ca.padding));yield Le.initialize(w).runAsync();let Ve;if(!1!==Rc){zd=Kd;if(!1!==ca.defaultStyle){const Ie=document.createElement("details");Ie.title=od.CLICK_TO_VIEW_ACTIONS;Kd.append(Ie);zd=Ie;Kd=document.createElement("summary");Kd.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e';
Ie.append(Kd);Ve=He=>{Ie.contains(He.target)||Ie.removeAttribute("open")};document.addEventListener("click",Ve)}Kd=document.createElement("div");zd.append(Kd);Kd.classList.add("vega-actions");if(!0===Rc||!1!==Rc.export)for(const Ie of["svg","png"])if(!0===Rc||!0===Rc.export||Rc.export[Ie])zd=od[`${Ie.toUpperCase()}_ACTION`],We=document.createElement("a"),We.text=zd,We.href="#",We.target="_blank",We.download=`${Zd}.${Ie}`,We.addEventListener("mousedown",function(He){return $a(this,void 0,void 0,function*(){He.preventDefault();
this.href=yield Le.toImageURL(Ie,ca.scaleFactor)})}),Kd.append(We);if(!0===Rc||!1!==Rc.source)Zd=document.createElement("a"),Zd.text=od.SOURCE_ACTION,Zd.href="#",Zd.addEventListener("mousedown",function(Ie){var He,ie;ea(Ea(Q),null!==(He=ca.sourceHeader)&&void 0!==He?He:"",null!==(ie=ca.sourceFooter)&&void 0!==ie?ie:"",$d);Ie.preventDefault()}),Kd.append(Zd);"vega-lite"!==$d||!0!==Rc&&!1===Rc.compiled||(Zd=document.createElement("a"),Zd.text=od.COMPILED_ACTION,Zd.href="#",Zd.addEventListener("mousedown",
function(Ie){var He,ie;ea(Ea(Te),null!==(He=ca.sourceHeader)&&void 0!==He?He:"",null!==(ie=ca.sourceFooter)&&void 0!==ie?ie:"","vega");Ie.preventDefault()}),Kd.append(Zd));if(!0===Rc||!1!==Rc.editor){const Ie=null!==(Cc=ca.editorUrl)&&void 0!==Cc?Cc:"https://vega.github.io/editor/";Rc=document.createElement("a");Rc.text=od.EDITOR_ACTION;Rc.href="#";Rc.addEventListener("mousedown",function(He){Na(window,Ie,{config:Oc,mode:$d,renderer:sd,spec:Ea(Q)});He.preventDefault()});Kd.append(Rc)}}return{view:Le,
spec:Q,vgSpec:Te,finalize:function(){Ve&&document.removeEventListener("click",Ve);Le.finalize()}}})}function na(w,Q={}){var ca;return $a(this,void 0,void 0,function*(){const wa=document.createElement("div");wa.classList.add("vega-embed-wrapper");var pa=document.createElement("div");wa.appendChild(pa);const Ya=!0===Q.actions||!1===Q.actions?Q.actions:Object.assign({export:!0,source:!1,compiled:!0,editor:!0},null!==(ca=Q.actions)&&void 0!==ca?ca:{});pa=yield Y(pa,w,Object.assign({actions:Ya},null!==
Q&&void 0!==Q?Q:{}));wa.value=pa.view;return wa})}var n=function(){var w=function(Q,ca){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(wa,pa){wa.__proto__=pa}||function(wa,pa){for(var Ya in pa)pa.hasOwnProperty(Ya)&&(wa[Ya]=pa[Ya])};return w(Q,ca)};return function(Q,ca){function wa(){this.constructor=Q}w(Q,ca);Q.prototype=null===ca?Object.create(ca):(wa.prototype=ca.prototype,new wa)}}(),G=Object.prototype.hasOwnProperty,M=function(w){function Q(ca,wa,pa,Ya,Tb){var Zb=this.constructor,
jc=w.call(this,Lb(ca,{name:wa,index:pa,operation:Ya,tree:Tb}))||this;jc.name=wa;jc.index=pa;jc.operation=Ya;jc.tree=Tb;Object.setPrototypeOf(jc,Zb.prototype);jc.message=Lb(ca,{name:wa,index:pa,operation:Ya,tree:Tb});return jc}n(Q,w);return Q}(Error),y=M,T={add:function(w,Q,ca){w[Q]=this.value;return{newDocument:ca}},remove:function(w,Q,ca){var wa=w[Q];delete w[Q];return{newDocument:ca,removed:wa}},replace:function(w,Q,ca){var wa=w[Q];w[Q]=this.value;return{newDocument:ca,removed:wa}},move:function(w,
Q,ca){(w=Yb(ca,this.path))&&(w=Xb(w));Q=Ba(ca,{op:"remove",path:this.from}).removed;Ba(ca,{op:"add",path:this.path,value:Q});return{newDocument:ca,removed:w}},copy:function(w,Q,ca){w=Yb(ca,this.from);Ba(ca,{op:"add",path:this.path,value:Xb(w)});return{newDocument:ca}},test:function(w,Q,ca){return{newDocument:ca,test:nb(w[Q],this.value)}},_get:function(w,Q,ca){this.value=w[Q];return{newDocument:ca}}},D={add:function(w,Q,ca){ec(Q)?w.splice(Q,0,this.value):w[Q]=this.value;return{newDocument:ca,index:Q}},
remove:function(w,Q,ca){w=w.splice(Q,1);return{newDocument:ca,removed:w[0]}},replace:function(w,Q,ca){var wa=w[Q];w[Q]=this.value;return{newDocument:ca,removed:wa}},move:T.move,copy:T.copy,test:T.test,_get:T._get},A=Object.freeze({__proto__:null,JsonPatchError:y,deepClone:Xb,getValueByPointer:Yb,applyOperation:Ba,applyPatch:bb,applyReducer:function(w,Q,ca){var wa=Ba(w,Q);if(!1===wa.test)throw new y("Test operation failed","TEST_OPERATION_FAILED",ca,Q,w);return wa.newDocument},validator:Cb,validate:xb,
_areEquals:nb}),P=new WeakMap,B=function(){return function(w){this.observers=new Map;this.obj=w}}(),E=function(){return function(w,Q){this.callback=w;this.observer=Q}}(),I=Object.freeze({__proto__:null,unobserve:function(w,Q){Q.unobserve()},observe:function(w,Q){var ca=P.get(w);if(ca){var wa=ca.observers.get(Q);var pa=wa&&wa.observer}else ca=new B(w),P.set(w,ca);if(pa)return pa;pa={};ca.value=Xb(w);if(Q){pa.callback=Q;pa.next=null;var Ya=function(){Db(pa)},Tb=function(){clearTimeout(pa.next);pa.next=
setTimeout(Ya)};"undefined"!==typeof window&&(window.addEventListener("mouseup",Tb),window.addEventListener("keyup",Tb),window.addEventListener("mousedown",Tb),window.addEventListener("keydown",Tb),window.addEventListener("change",Tb))}pa.patches=[];pa.object=w;pa.unobserve=function(){Db(pa);clearTimeout(pa.next);ca.observers.delete(pa.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",Tb),window.removeEventListener("keyup",Tb),window.removeEventListener("mousedown",Tb),
window.removeEventListener("keydown",Tb),window.removeEventListener("change",Tb))};ca.observers.set(Q,new E(Q,pa));return pa},generate:Db,compare:function(w,Q,ca){void 0===ca&&(ca=!1);var wa=[];lb(w,Q,wa,"",ca);return wa}});Object.assign({},A,I,{JsonPatchError:M,deepClone:Xb,escapePathComponent:Bb,unescapePathComponent:yb});var X=/("(?:[^\\"]|\\.)*")|[:,]/g,Ea=function(w,Q){Q=Q||{};var ca=JSON.stringify([1],void 0,void 0===Q.indent?2:Q.indent).slice(2,-3);var wa=""===ca?Infinity:void 0===Q.maxLength?
80:Q.maxLength;var pa=Q.replacer;return function Cc(Tb,Zb,jc){Tb&&"function"===typeof Tb.toJSON&&(Tb=Tb.toJSON());var Oc=JSON.stringify(Tb,pa);if(void 0===Oc)return Oc;jc=wa-Zb.length-jc;if(Oc.length<=jc){var Rc=Oc.replace(X,function(We,Le){return Le||We+" "});if(Rc.length<=jc)return Rc}null!=pa&&(Tb=JSON.parse(Oc),pa=void 0);if("object"===typeof Tb&&null!==Tb){var od=Zb+ca;var sd=[];var zd=0;if(Array.isArray(Tb)){var Zd="[";Rc="]";for(jc=Tb.length;zd<jc;zd++)sd.push(Cc(Tb[zd],od,zd===jc-1?0:1)||
"null")}else{Zd="{";Rc="}";var Kd=Object.keys(Tb);for(jc=Kd.length;zd<jc;zd++){var $d=Kd[zd];var Te=JSON.stringify($d)+": ";$d=Cc(Tb[$d],od,Te.length+(zd===jc-1?0:1));void 0!==$d&&sd.push(Te+$d)}}if(0<sd.length)return[Zd,ca+sd.join(",\n"+od),Rc].join("\n"+Zb)}return Oc}(w,"",0)},R={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},ia="object"===typeof u&&u.env&&u.env.NODE_DEBUG&&/\bsemver\b/i.test(u.env.NODE_DEBUG)?
(...w)=>console.error("SEMVER",...w):()=>{},Aa=lc(function(w,Q){const {MAX_SAFE_COMPONENT_LENGTH:ca}=R;Q=w.exports={};const wa=Q.re=[],pa=Q.src=[],Ya=Q.t={};let Tb=0;w=(Zb,jc,Cc)=>{const Oc=Tb++;ia(Oc,jc);Ya[Zb]=Oc;pa[Oc]=jc;wa[Oc]=new RegExp(jc,Cc?"g":void 0)};w("NUMERICIDENTIFIER","0|[1-9]\\d*");w("NUMERICIDENTIFIERLOOSE","[0-9]+");w("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");w("MAINVERSION",`(${pa[Ya.NUMERICIDENTIFIER]})\\.`+`(${pa[Ya.NUMERICIDENTIFIER]})\\.`+`(${pa[Ya.NUMERICIDENTIFIER]})`);
w("MAINVERSIONLOOSE",`(${pa[Ya.NUMERICIDENTIFIERLOOSE]})\\.`+`(${pa[Ya.NUMERICIDENTIFIERLOOSE]})\\.`+`(${pa[Ya.NUMERICIDENTIFIERLOOSE]})`);w("PRERELEASEIDENTIFIER",`(?:${pa[Ya.NUMERICIDENTIFIER]}|${pa[Ya.NONNUMERICIDENTIFIER]})`);w("PRERELEASEIDENTIFIERLOOSE",`(?:${pa[Ya.NUMERICIDENTIFIERLOOSE]}|${pa[Ya.NONNUMERICIDENTIFIER]})`);w("PRERELEASE",`(?:-(${pa[Ya.PRERELEASEIDENTIFIER]}(?:\\.${pa[Ya.PRERELEASEIDENTIFIER]})*))`);w("PRERELEASELOOSE",`(?:-?(${pa[Ya.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${pa[Ya.PRERELEASEIDENTIFIERLOOSE]})*))`);
w("BUILDIDENTIFIER","[0-9A-Za-z-]+");w("BUILD",`(?:\\+(${pa[Ya.BUILDIDENTIFIER]}(?:\\.${pa[Ya.BUILDIDENTIFIER]})*))`);w("FULLPLAIN",`v?${pa[Ya.MAINVERSION]}${pa[Ya.PRERELEASE]}?${pa[Ya.BUILD]}?`);w("FULL",`^${pa[Ya.FULLPLAIN]}$`);w("LOOSEPLAIN",`[v=\\s]*${pa[Ya.MAINVERSIONLOOSE]}${pa[Ya.PRERELEASELOOSE]}?${pa[Ya.BUILD]}?`);w("LOOSE",`^${pa[Ya.LOOSEPLAIN]}$`);w("GTLT","((?:\x3c|\x3e)?\x3d?)");w("XRANGEIDENTIFIERLOOSE",`${pa[Ya.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);w("XRANGEIDENTIFIER",`${pa[Ya.NUMERICIDENTIFIER]}|x|X|\\*`);
w("XRANGEPLAIN",`[v=\\s]*(${pa[Ya.XRANGEIDENTIFIER]})`+`(?:\\.(${pa[Ya.XRANGEIDENTIFIER]})`+`(?:\\.(${pa[Ya.XRANGEIDENTIFIER]})`+`(?:${pa[Ya.PRERELEASE]})?${pa[Ya.BUILD]}?`+")?)?");w("XRANGEPLAINLOOSE",`[v=\\s]*(${pa[Ya.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${pa[Ya.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${pa[Ya.XRANGEIDENTIFIERLOOSE]})`+`(?:${pa[Ya.PRERELEASELOOSE]})?${pa[Ya.BUILD]}?`+")?)?");w("XRANGE",`^${pa[Ya.GTLT]}\\s*${pa[Ya.XRANGEPLAIN]}$`);w("XRANGELOOSE",`^${pa[Ya.GTLT]}\\s*${pa[Ya.XRANGEPLAINLOOSE]}$`);
w("COERCE",`${"(^|[^\\d])(\\d{1,"}${ca}})`+`(?:\\.(\\d{1,${ca}}))?`+`(?:\\.(\\d{1,${ca}}))?`+"(?:$|[^\\d])");w("COERCERTL",pa[Ya.COERCE],!0);w("LONETILDE","(?:~\x3e?)");w("TILDETRIM",`(\\s*)${pa[Ya.LONETILDE]}\\s+`,!0);Q.tildeTrimReplace="$1~";w("TILDE",`^${pa[Ya.LONETILDE]}${pa[Ya.XRANGEPLAIN]}$`);w("TILDELOOSE",`^${pa[Ya.LONETILDE]}${pa[Ya.XRANGEPLAINLOOSE]}$`);w("LONECARET","(?:\\^)");w("CARETTRIM",`(\\s*)${pa[Ya.LONECARET]}\\s+`,!0);Q.caretTrimReplace="$1^";w("CARET",`^${pa[Ya.LONECARET]}${pa[Ya.XRANGEPLAIN]}$`);
w("CARETLOOSE",`^${pa[Ya.LONECARET]}${pa[Ya.XRANGEPLAINLOOSE]}$`);w("COMPARATORLOOSE",`^${pa[Ya.GTLT]}\\s*(${pa[Ya.LOOSEPLAIN]})$|^$`);w("COMPARATOR",`^${pa[Ya.GTLT]}\\s*(${pa[Ya.FULLPLAIN]})$|^$`);w("COMPARATORTRIM",`(\\s*)${pa[Ya.GTLT]}\\s*(${pa[Ya.LOOSEPLAIN]}|${pa[Ya.XRANGEPLAIN]})`,!0);Q.comparatorTrimReplace="$1$2$3";w("HYPHENRANGE",`^\\s*(${pa[Ya.XRANGEPLAIN]})`+"\\s+-\\s+"+`(${pa[Ya.XRANGEPLAIN]})`+"\\s*$");w("HYPHENRANGELOOSE",`^\\s*(${pa[Ya.XRANGEPLAINLOOSE]})`+"\\s+-\\s+"+`(${pa[Ya.XRANGEPLAINLOOSE]})`+
"\\s*$");w("STAR","(\x3c|\x3e)?\x3d?\\s*\\*")});const Pa=/^[0-9]+$/,Ra=(w,Q)=>{const ca=Pa.test(w),wa=Pa.test(Q);ca&&wa&&(w=+w,Q=+Q);return w===Q?0:ca&&!wa?-1:wa&&!ca?1:w<Q?-1:1};var fb={compareIdentifiers:Ra,rcompareIdentifiers:(w,Q)=>Ra(Q,w)};const {MAX_LENGTH:zb,MAX_SAFE_INTEGER:kb}=R,{re:Vb,t:aa}=Aa,{compareIdentifiers:Ga}=fb;class Qb{constructor(w,Q){Q&&"object"===typeof Q||(Q={loose:!!Q,includePrerelease:!1});if(w instanceof Qb){if(w.loose===!!Q.loose&&w.includePrerelease===!!Q.includePrerelease)return w;
w=w.version}else if("string"!==typeof w)throw new TypeError(`Invalid Version: ${w}`);if(w.length>zb)throw new TypeError(`version is longer than ${zb} characters`);ia("SemVer",w,Q);this.options=Q;this.loose=!!Q.loose;this.includePrerelease=!!Q.includePrerelease;Q=w.trim().match(Q.loose?Vb[aa.LOOSE]:Vb[aa.FULL]);if(!Q)throw new TypeError(`Invalid Version: ${w}`);this.raw=w;this.major=+Q[1];this.minor=+Q[2];this.patch=+Q[3];if(this.major>kb||0>this.major)throw new TypeError("Invalid major version");
if(this.minor>kb||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>kb||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=Q[4]?Q[4].split(".").map(ca=>{if(/^[0-9]+$/.test(ca)){const wa=+ca;if(0<=wa&&wa<kb)return wa}return ca}):[];this.build=Q[5]?Q[5].split("."):[];this.format()}format(){this.version=`${this.major}.${this.minor}.${this.patch}`;this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`);return this.version}toString(){return this.version}compare(w){ia("SemVer.compare",
this.version,this.options,w);if(!(w instanceof Qb)){if("string"===typeof w&&w===this.version)return 0;w=new Qb(w,this.options)}return w.version===this.version?0:this.compareMain(w)||this.comparePre(w)}compareMain(w){w instanceof Qb||(w=new Qb(w,this.options));return Ga(this.major,w.major)||Ga(this.minor,w.minor)||Ga(this.patch,w.patch)}comparePre(w){w instanceof Qb||(w=new Qb(w,this.options));if(this.prerelease.length&&!w.prerelease.length)return-1;if(!this.prerelease.length&&w.prerelease.length)return 1;
if(!this.prerelease.length&&!w.prerelease.length)return 0;let Q=0;do{const ca=this.prerelease[Q],wa=w.prerelease[Q];ia("prerelease compare",Q,ca,wa);if(void 0===ca&&void 0===wa)return 0;if(void 0===wa)return 1;if(void 0===ca)return-1;if(ca!==wa)return Ga(ca,wa)}while(++Q)}compareBuild(w){w instanceof Qb||(w=new Qb(w,this.options));let Q=0;do{const ca=this.build[Q],wa=w.build[Q];ia("prerelease compare",Q,ca,wa);if(void 0===ca&&void 0===wa)return 0;if(void 0===wa)return 1;if(void 0===ca)return-1;if(ca!==
wa)return Ga(ca,wa)}while(++Q)}inc(w,Q){switch(w){case "premajor":this.minor=this.patch=this.prerelease.length=0;this.major++;this.inc("pre",Q);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",Q);break;case "prepatch":this.prerelease.length=0;this.inc("patch",Q);this.inc("pre",Q);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",Q);this.inc("pre",Q);break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=
this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&0!==this.prerelease.length||this.minor++;this.patch=0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(w=this.prerelease.length;0<=--w;)"number"===typeof this.prerelease[w]&&(this.prerelease[w]++,w=-2);-1===w&&this.prerelease.push(0)}Q&&(this.prerelease[0]===Q?isNaN(this.prerelease[1])&&(this.prerelease=[Q,0]):
this.prerelease=[Q,0]);break;default:throw Error(`invalid increment argument: ${w}`);}this.format();this.raw=this.version;return this}}var nc=Qb,$b=(w,Q,ca)=>(new nc(w,ca)).compare(new nc(Q,ca)),Ob=(w,Q,ca,wa)=>{switch(Q){case "\x3d\x3d\x3d":return"object"===typeof w&&(w=w.version),"object"===typeof ca&&(ca=ca.version),w===ca;case "!\x3d\x3d":return"object"===typeof w&&(w=w.version),"object"===typeof ca&&(ca=ca.version),w!==ca;case "":case "\x3d":case "\x3d\x3d":return 0===$b(w,ca,wa);case "!\x3d":return 0!==
$b(w,ca,wa);case "\x3e":return 0<$b(w,ca,wa);case "\x3e\x3d":return 0<=$b(w,ca,wa);case "\x3c":return 0>$b(w,ca,wa);case "\x3c\x3d":return 0>=$b(w,ca,wa);default:throw new TypeError(`Invalid operator: ${Q}`);}};class Nb{constructor(w,Q){Q&&"object"===typeof Q||(Q={loose:!!Q,includePrerelease:!1});if(w instanceof Nb)return w.loose===!!Q.loose&&w.includePrerelease===!!Q.includePrerelease?w:new Nb(w.raw,Q);if(w instanceof x)return this.raw=w.value,this.set=[[w]],this.format(),this;this.options=Q;this.loose=
!!Q.loose;this.includePrerelease=!!Q.includePrerelease;this.raw=w;this.set=w.split(/\s*\|\|\s*/).map(ca=>this.parseRange(ca.trim())).filter(ca=>ca.length);if(!this.set.length)throw new TypeError(`Invalid SemVer Range: ${w}`);this.format()}format(){return this.range=this.set.map(w=>w.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(w){const Q=this.options.loose;w=w.trim();w=w.replace(Q?Sc[ra.HYPHENRANGELOOSE]:Sc[ra.HYPHENRANGE],Ma);ia("hyphen replace",w);w=w.replace(Sc[ra.COMPARATORTRIM],
Gb);ia("comparator trim",w,Sc[ra.COMPARATORTRIM]);w=w.replace(Sc[ra.TILDETRIM],Va);w=w.replace(Sc[ra.CARETTRIM],Ab);w=w.split(/\s+/).join(" ");const ca=Q?Sc[ra.COMPARATORLOOSE]:Sc[ra.COMPARATOR];return w.split(" ").map(wa=>{var pa=wa;wa=this.options;ia("comp",pa,wa);pa=wc(pa,wa);ia("caret",pa);pa=Wb(pa,wa);ia("tildes",pa);pa=Pc(pa,wa);ia("xrange",pa);ia("replaceStars",pa,wa);pa=pa.trim().replace(Sc[ra.STAR],"");ia("stars",pa);return pa}).join(" ").split(/\s+/).filter(this.options.loose?wa=>!!wa.match(ca):
()=>!0).map(wa=>new x(wa,this.options))}intersects(w,Q){if(!(w instanceof Nb))throw new TypeError("a Range is required");return this.set.some(ca=>Jb(ca,Q)&&w.set.some(wa=>Jb(wa,Q)&&ca.every(pa=>wa.every(Ya=>pa.intersects(Ya,Q)))))}test(w){if(!w)return!1;if("string"===typeof w)try{w=new nc(w,this.options)}catch(Ya){return!1}for(let Ya=0;Ya<this.set.length;Ya++){a:{var Q=this.set[Ya];var ca=w,wa=this.options;for(var pa=0;pa<Q.length;pa++)if(!Q[pa].test(ca)){Q=!1;break a}if(ca.prerelease.length&&!wa.includePrerelease){for(wa=
0;wa<Q.length;wa++)if(ia(Q[wa].semver),Q[wa].semver!==x.ANY&&0<Q[wa].semver.prerelease.length&&(pa=Q[wa].semver,pa.major===ca.major&&pa.minor===ca.minor&&pa.patch===ca.patch)){Q=!0;break a}Q=!1}else Q=!0}if(Q)return!0}return!1}}var rc=Nb;const {re:Sc,t:ra,comparatorTrimReplace:Gb,tildeTrimReplace:Va,caretTrimReplace:Ab}=Aa,Jb=(w,Q)=>{let ca=!0;w=w.slice();let wa=w.pop();for(;ca&&w.length;)ca=w.every(pa=>wa.intersects(pa,Q)),wa=w.pop();return ca},Eb=w=>!w||"x"===w.toLowerCase()||"*"===w,Wb=(w,Q)=>
w.trim().split(/\s+/).map(ca=>ic(ca,Q)).join(" "),ic=(w,Q)=>w.replace(Q.loose?Sc[ra.TILDELOOSE]:Sc[ra.TILDE],(ca,wa,pa,Ya,Tb)=>{ia("tilde",w,ca,wa,pa,Ya,Tb);Eb(wa)?ca="":Eb(pa)?ca=`>=${wa}.0.0 <${+wa+1}.0.0`:Eb(Ya)?ca=`>=${wa}.${pa}.0 <${wa}.${+pa+1}.0`:Tb?(ia("replaceTilde pr",Tb),ca=`>=${wa}.${pa}.${Ya}-${Tb} <${wa}.${+pa+1}.0`):ca=`>=${wa}.${pa}.${Ya} <${wa}.${+pa+1}.0`;ia("tilde return",ca);return ca}),wc=(w,Q)=>w.trim().split(/\s+/).map(ca=>Zc(ca,Q)).join(" "),Zc=(w,Q)=>{ia("caret",w,Q);return w.replace(Q.loose?
Sc[ra.CARETLOOSE]:Sc[ra.CARET],(ca,wa,pa,Ya,Tb)=>{ia("caret",w,ca,wa,pa,Ya,Tb);Eb(wa)?ca="":Eb(pa)?ca=`>=${wa}.0.0 <${+wa+1}.0.0`:Eb(Ya)?ca="0"===wa?`>=${wa}.${pa}.0 <${wa}.${+pa+1}.0`:`>=${wa}.${pa}.0 <${+wa+1}.0.0`:Tb?(ia("replaceCaret pr",Tb),ca="0"===wa?"0"===pa?`>=${wa}.${pa}.${Ya}-${Tb} <${wa}.${pa}.${+Ya+1}`:`>=${wa}.${pa}.${Ya}-${Tb} <${wa}.${+pa+1}.0`:`>=${wa}.${pa}.${Ya}-${Tb} <${+wa+1}.0.0`):(ia("no pr"),ca="0"===wa?"0"===pa?`>=${wa}.${pa}.${Ya} <${wa}.${pa}.${+Ya+1}`:`>=${wa}.${pa}.${Ya} <${wa}.${+pa+
1}.0`:`>=${wa}.${pa}.${Ya} <${+wa+1}.0.0`);ia("caret return",ca);return ca})},Pc=(w,Q)=>{ia("replaceXRanges",w,Q);return w.split(/\s+/).map(ca=>oa(ca,Q)).join(" ")},oa=(w,Q)=>{w=w.trim();return w.replace(Q.loose?Sc[ra.XRANGELOOSE]:Sc[ra.XRANGE],(ca,wa,pa,Ya,Tb,Zb)=>{ia("xRange",w,ca,wa,pa,Ya,Tb,Zb);const jc=Eb(pa),Cc=jc||Eb(Ya);Tb=Cc||Eb(Tb);"\x3d"===wa&&Tb&&(wa="");Zb=Q.includePrerelease?"-0":"";jc?ca="\x3e"===wa||"\x3c"===wa?"\x3c0.0.0-0":"*":wa&&Tb?(Cc&&(Ya=0),Tb=0,"\x3e"===wa?(wa="\x3e\x3d",Cc?
(pa=+pa+1,Ya=0):Ya=+Ya+1,Tb=0):"\x3c\x3d"===wa&&(wa="\x3c",Cc?pa=+pa+1:Ya=+Ya+1),ca=`${wa+pa}.${Ya}.${Tb}${Zb}`):Cc?ca=`>=${pa}.0.0${Zb} <${+pa+1}.0.0${Zb}`:Tb&&(ca=`>=${pa}.${Ya}.0${Zb} <${pa}.${+Ya+1}.0${Zb}`);ia("xRange return",ca);return ca})},Ma=(w,Q,ca,wa,pa,Ya,Tb,Zb,jc,Cc,Oc,Rc,od)=>{Q=Eb(ca)?"":Eb(wa)?`>=${ca}.0.0`:Eb(pa)?`>=${ca}.${wa}.0`:`>=${Q}`;Zb=Eb(jc)?"":Eb(Cc)?`<${+jc+1}.0.0`:Eb(Oc)?`<${jc}.${+Cc+1}.0`:Rc?`<=${jc}.${Cc}.${Oc}-${Rc}`:`<=${Zb}`;return`${Q} ${Zb}`.trim()},ib=Symbol("SemVer ANY");
class V{static get ANY(){return ib}constructor(w,Q){Q&&"object"===typeof Q||(Q={loose:!!Q,includePrerelease:!1});if(w instanceof V){if(w.loose===!!Q.loose)return w;w=w.value}ia("comparator",w,Q);this.options=Q;this.loose=!!Q.loose;this.parse(w);this.value=this.semver===ib?"":this.operator+this.semver.version;ia("comp",this)}parse(w){const Q=w.match(this.options.loose?da[ya.COMPARATORLOOSE]:da[ya.COMPARATOR]);if(!Q)throw new TypeError(`Invalid comparator: ${w}`);this.operator=void 0!==Q[1]?Q[1]:"";
"\x3d"===this.operator&&(this.operator="");this.semver=Q[2]?new nc(Q[2],this.options.loose):ib}toString(){return this.value}test(w){ia("Comparator.test",w,this.options.loose);if(this.semver===ib||w===ib)return!0;if("string"===typeof w)try{w=new nc(w,this.options)}catch(Q){return!1}return Ob(w,this.operator,this.semver,this.options)}intersects(w,Q){if(!(w instanceof V))throw new TypeError("a Comparator is required");Q&&"object"===typeof Q||(Q={loose:!!Q,includePrerelease:!1});if(""===this.operator)return""===
this.value?!0:(new rc(w.value,Q)).test(this.value);if(""===w.operator)return""===w.value?!0:(new rc(this.value,Q)).test(w.semver);const ca=("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===w.operator||"\x3e"===w.operator),wa=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===w.operator||"\x3c"===w.operator),pa=this.semver.version===w.semver.version,Ya=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===w.operator||"\x3c\x3d"===w.operator),Tb=
Ob(this.semver,"\x3c",w.semver,Q)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===w.operator||"\x3c"===w.operator);w=Ob(this.semver,"\x3e",w.semver,Q)&&("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3e\x3d"===w.operator||"\x3e"===w.operator);return ca||wa||pa&&Ya||Tb||w}}var x=V;const {re:da,t:ya}=Aa;var Ia=(w,Q,ca)=>{try{Q=new rc(Q,ca)}catch(wa){return!1}return Q.test(w)},Wa=function(w){return w&&w.__esModule&&Object.prototype.hasOwnProperty.call(w,"default")?w["default"]:
w}(lc(function(w,Q){Object.defineProperty(Q,"__esModule",{value:!0});Q.default=function(ca){ca=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(ca).slice(1,3);return{library:ca[0],version:ca[1]}}}));const qb={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},
Sb={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),
"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000",
"#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),
"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};var Hb=Object.freeze({__proto__:null,version:"2.8.2",dark:{background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},
path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},
area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},
rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},
line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},latimes:{background:"#ffffff",title:{anchor:"start",
color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",
maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:qb["category-6"],diverging:qb["fireandice-6"],heatmap:qb["fire-7"],ordinal:qb["fire-7"],ramp:qb["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},
rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},vox:{background:"#fff",arc:{fill:"#3e5c69"},
area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}},urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",
fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:"Lato",symbolSize:100,titleFontSize:12,
titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Sb["six-groups-cat-1"],diverging:Sb["diverging-colors"],heatmap:Sb["diverging-colors"],ordinal:Sb["six-groups-seq"],ramp:Sb["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:"#1696d2",fontSize:11,
align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},
"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6","#2a56c6"]}}});const Pb={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(w){return String(w).replace(/&/g,
"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2};var uc=Array.isArray,yc=[];(function(w,Q){var ca=ha(w),wa="return _["+ca.map(Xa).join("][")+"];";return ua(Function("_",wa),[w=1===ca.length?ca[0]:w],Q||w)})("id");ua(function(w){return w},yc,"identity");ua(function(){return 0},yc,"zero");ua(function(){return 1},yc,"one");ua(function(){return!0},yc,"true");ua(function(){return!1},yc,"false");var Kc=function(w,Q){var ca={},wa;for(wa in w)Object.prototype.hasOwnProperty.call(w,wa)&&0>Q.indexOf(wa)&&(ca[wa]=
w[wa]);if(null!=w&&"function"===typeof Object.getOwnPropertySymbols){var pa=0;for(wa=Object.getOwnPropertySymbols(w);pa<wa.length;pa++)0>Q.indexOf(wa[pa])&&Object.prototype.propertyIsEnumerable.call(w,wa[pa])&&(ca[wa[pa]]=w[wa[pa]])}return ca};class md{constructor(w){this.options=Object.assign(Object.assign({},Pb),w);w=this.options.id;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const ca=document.createElement("style");
ca.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(w))throw Error("Invalid HTML ID");var Q="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace("vg-tooltip-element",
w);ca.innerHTML=Q;Q=document.head;0<Q.childNodes.length?Q.insertBefore(ca,Q.childNodes[0]):Q.appendChild(ca)}this.el=document.getElementById(w);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",w),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltipHandler(w,Q,ca,wa){if(null==wa||""===wa)this.el.classList.remove("visible",`${this.options.theme}-theme`);else{this.el.innerHTML=wb(wa,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible",
`${this.options.theme}-theme`);w=this.el.getBoundingClientRect();var pa=this.options.offsetX;ca=this.options.offsetY;wa=Q.clientX+pa;wa+w.width>window.innerWidth&&(wa=+Q.clientX-pa-w.width);pa=Q.clientY+ca;pa+w.height>window.innerHeight&&(pa=+Q.clientY-ca-w.height);var {x:Ya,y:Tb}={x:wa,y:pa};this.el.setAttribute("style",`top: ${Tb}px; left: ${Ya}px`)}}}String.prototype.startsWith||(String.prototype.startsWith=function(w,Q){return this.substr(!Q||0>Q?0:+Q,w.length)===w});var fd;const Tc=l;let ld=
ja;const nd="undefined"!==typeof window?window:void 0;void 0===ld&&(null===(fd=null===nd||void 0===nd?void 0:nd.vl)||void 0===fd?0:fd.compile)&&(ld=nd.vl);const dd={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},Wd={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},gd={vega:"Vega","vega-lite":"Vega-Lite"},z={vega:Tc.version,"vega-lite":ld?ld.version:
"not available"},J={vega:w=>w,"vega-lite":(w,Q)=>ld.compile(w,{config:Q}).spec},va=(...w)=>{var Q;if(Q=1<w.length){if(Q=l.isString(w[0]))Q=w[0],Q=!(Q.startsWith("http://")||Q.startsWith("https://")||Q.startsWith("//"));Q=Q||w[0]instanceof HTMLElement||3===w.length}return Q?Y(w[0],w[1],w[2]):na(w[0],w[1])};va.vegaLite=ld;va.vl=ld;va.container=na;va.embed=Y;va.vega=Tc;va.default=Y;va.version="6.5.1";return va})};
shadow$provide[59]=function(Fb,pb,zc,Za){Za.__esModule=!0;Za.default=function(u){const l={};return!!u&&"[object Function]"===l.toString.call(u)}};
shadow$provide[60]=function(Fb,pb,zc,Za){Za.__esModule=!0;Za.default=function(ja,$a,vb){vb&&((0,l.default)(vb)?vb(ja.data($a)):ja.change($a,u.vega.changeset().remove(()=>!0).insert(vb)))};var u=pb(58),l=function(ja){return ja&&ja.__esModule?ja:{default:ja}}(pb(59))};
shadow$provide[61]=function(Fb,pb,zc,Za){Za.__esModule=!0;Za.default=function(l,ja){Object.keys(ja).forEach($a=>{(0,u.default)(l,$a,ja[$a])})};var u=function(l){return l&&l.__esModule?l:{default:l}}(pb(60))};
shadow$provide[62]=function(Fb,pb,zc,Za){Za.__esModule=!0;Za.default=function(u){const l=new Set;u.forEach(ja=>{Object.keys(ja).forEach($a=>{l.add($a)})});return l}};
shadow$provide[63]=function(Fb,pb,zc,Za){Za.__esModule=!0;Za.NOOP=void 0;Za.NOOP=()=>{}};
shadow$provide[64]=function(Fb,pb,zc,Za){Za.__esModule=!0;Za.default=function(u,l){const ja=Object.keys(l);ja.forEach($a=>{try{u.addSignalListener($a,l[$a])}catch(vb){console.warn("Cannot add invalid signal listener.",vb)}});return 0<ja.length}};
shadow$provide[65]=function(Fb,pb,zc,Za){zc.exports=function $a(l,ja){if(l===ja)return!0;if(l&&ja&&"object"==typeof l&&"object"==typeof ja){if(l.constructor!==ja.constructor)return!1;var vb;if(Array.isArray(l)){var Xb=l.length;if(Xb!=ja.length)return!1;for(vb=Xb;0!==vb--;)if(!$a(l[vb],ja[vb]))return!1;return!0}if(l.constructor===RegExp)return l.source===ja.source&&l.flags===ja.flags;if(l.valueOf!==Object.prototype.valueOf)return l.valueOf()===ja.valueOf();if(l.toString!==Object.prototype.toString)return l.toString()===
ja.toString();var ec=Object.keys(l);Xb=ec.length;if(Xb!==Object.keys(ja).length)return!1;for(vb=Xb;0!==vb--;)if(!Object.prototype.hasOwnProperty.call(ja,ec[vb]))return!1;for(vb=Xb;0!==vb--;)if(Xb=ec[vb],!$a(l[Xb],ja[Xb]))return!1;return!0}return l!==l&&ja!==ja}};
shadow$provide[66]=function(Fb,pb,zc,Za){function u($a){return $a&&$a.__esModule?$a:{default:$a}}Za.__esModule=!0;Za.default=function($a,vb){if($a===vb)return!1;const Xb={width:!1,height:!1,isExpensive:!1},ec=(0,ja.default)([$a,vb]);!ec.has("width")||"width"in $a&&"width"in vb&&$a.width===vb.width||("width"in $a&&"number"===typeof $a.width?Xb.width=$a.width:Xb.isExpensive=!0);!ec.has("height")||"height"in $a&&"height"in vb&&$a.height===vb.height||("height"in $a&&"number"===typeof $a.height?Xb.height=
$a.height:Xb.isExpensive=!0);ec.delete("width");ec.delete("height");[...ec].some(Bb=>!(Bb in $a)||!(Bb in vb)||!(0,l.default)($a[Bb],vb[Bb]))&&(Xb.isExpensive=!0);return!1!==Xb.width||!1!==Xb.height||Xb.isExpensive?Xb:!1};var l=u(pb(65)),ja=u(pb(62))};
shadow$provide[67]=function(Fb,pb,zc,Za){Za.__esModule=!0;Za.default=function(u,l){const ja=Object.keys(l);ja.forEach($a=>{try{u.removeSignalListener($a,l[$a])}catch(vb){console.warn("Cannot remove invalid signal listener.",vb)}});return 0<ja.length}};
shadow$provide[68]=function(Fb,pb,zc,Za){Za.__esModule=!0;Za.default=function(u){const {spec:l,width:ja,height:$a}=u;return"undefined"!==typeof ja&&"undefined"!==typeof $a?Object.assign({},l,{width:ja,height:$a}):"undefined"!==typeof ja?Object.assign({},l,{width:ja}):"undefined"!==typeof $a?Object.assign({},l,{height:$a}):l}};
shadow$provide[69]=function(Fb,pb,zc,Za){function u(Ba){return Ba&&Ba.__esModule?Ba:{default:Ba}}function l(Ba,bb,Cb){bb in Ba?Object.defineProperty(Ba,bb,{value:Cb,enumerable:!0,configurable:!0,writable:!0}):Ba[bb]=Cb;return Ba}Za.__esModule=!0;Za.default=void 0;Fb=u(pb(22));var ja=u(pb(3)),$a=u(pb(58)),vb=u(pb(23)),Xb=u(pb(62)),ec=pb(63),Bb=u(pb(64)),yb=u(pb(66)),ub=u(pb(67)),Lb=u(pb(68));class Yb extends ja.default.PureComponent{constructor(){super(...arguments);l(this,"containerRef",ja.default.createRef());
l(this,"resultPromise",void 0);l(this,"handleError",Ba=>{const {onError:bb=ec.NOOP}=this.props;bb(Ba,this.containerRef.current);console.warn(Ba)});l(this,"modifyView",Ba=>{this.resultPromise&&this.resultPromise.then(bb=>{bb&&Ba(bb.view);return!0}).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(Ba){const bb=(0,Xb.default)([this.props,Ba]);bb.delete("className");bb.delete("signalListeners");bb.delete("spec");bb.delete("style");bb.delete("width");bb.delete("height");
if(Array.from(bb).some(Cb=>this.props[Cb]!==Ba[Cb]))this.clearView(),this.createView();else{const Cb=(0,yb.default)((0,Lb.default)(this.props),(0,Lb.default)(Ba)),{signalListeners:xb}=this.props,{signalListeners:nb}=Ba;if(Cb)if(Cb.isExpensive)this.clearView(),this.createView();else{const Db=!(0,vb.default)(xb,nb);this.modifyView(lb=>{!1!==Cb.width&&lb.width(Cb.width);!1!==Cb.height&&lb.height(Cb.height);Db&&(nb&&(0,ub.default)(lb,nb),xb&&(0,Bb.default)(lb,xb));lb.run()})}else(0,vb.default)(xb,nb)||
this.modifyView(Db=>{nb&&(0,ub.default)(Db,nb);xb&&(0,Bb.default)(Db,xb);Db.run()})}}componentWillUnmount(){this.clearView()}createView(){var Ba=this.props,bb=Object.assign({},Ba);const Cb=Ba.onNewView,xb=void 0===Ba.signalListeners?{}:Ba.signalListeners;Ba=(delete bb.spec,delete bb.onNewView,delete bb.signalListeners,delete bb.width,delete bb.height,bb);this.containerRef.current&&(bb=(0,Lb.default)(this.props),this.resultPromise=(0,$a.default)(this.containerRef.current,bb,Ba).then(nb=>{if(nb){const {view:Db}=
nb;(0,Bb.default)(Db,xb)&&Db.run()}return nb}).catch(this.handleError),Cb&&this.modifyView(Cb))}clearView(){this.resultPromise&&this.resultPromise.then(Ba=>{Ba&&Ba.finalize()}).catch(this.handleError);this.resultPromise=void 0;return this}render(){const {className:Ba,style:bb}=this.props;return ja.default.createElement("div",{ref:this.containerRef,className:Ba,style:bb})}}Za.default=Yb;l(Yb,"propTypes",{className:Fb.default.string,onError:Fb.default.func})};
shadow$provide[70]=function(Fb,pb,zc,Za){function u(ub){return ub&&ub.__esModule?ub:{default:ub}}function l(){l=Object.assign||function(ub){for(var Lb=1;Lb<arguments.length;Lb++){var Yb=arguments[Lb],Ba;for(Ba in Yb)Object.prototype.hasOwnProperty.call(Yb,Ba)&&(ub[Ba]=Yb[Ba])}return ub};return l.apply(this,arguments)}function ja(ub,Lb,Yb){Lb in ub?Object.defineProperty(ub,Lb,{value:Yb,enumerable:!0,configurable:!0,writable:!0}):ub[Lb]=Yb;return ub}Za.__esModule=!0;Za.default=void 0;u(pb(22));var $a=
u(pb(3)),vb=u(pb(23)),Xb=u(pb(61)),ec=u(pb(69)),Bb=pb(63);class yb extends $a.default.PureComponent{constructor(){super(...arguments);ja(this,"vegaEmbed",$a.default.createRef());ja(this,"handleNewView",ub=>{this.update();const {onNewView:Lb=Bb.NOOP}=this.props;Lb(ub)})}componentDidMount(){this.update()}componentDidUpdate(ub){(0,vb.default)(this.props.data,ub.data)||this.update()}update(){const {data:ub}=this.props;this.vegaEmbed.current&&ub&&0<Object.keys(ub).length&&this.vegaEmbed.current.modifyView(Lb=>
{(0,Xb.default)(Lb,ub);Lb.resize().run()})}render(){var ub=Object.assign({},this.props);ub=(delete ub.data,ub);return $a.default.createElement(ec.default,l({ref:this.vegaEmbed},ub,{onNewView:this.handleNewView}))}}Za.default=yb;ja(yb,"defaultProps",{data:{}})};
shadow$provide[71]=function(Fb,pb,zc,Za){function u(vb){return vb&&vb.__esModule?vb:{default:vb}}function l(){l=Object.assign||function(vb){for(var Xb=1;Xb<arguments.length;Xb++){var ec=arguments[Xb],Bb;for(Bb in ec)Object.prototype.hasOwnProperty.call(ec,Bb)&&(vb[Bb]=ec[Bb])}return vb};return l.apply(this,arguments)}Za.__esModule=!0;Za.default=function(vb){return ja.default.createElement($a.default,l({},vb,{mode:"vega-lite"}))};var ja=u(pb(3)),$a=u(pb(70))};
shadow$provide[72]=function(Fb,pb,zc,Za){function u(Xb){return Xb&&Xb.__esModule?Xb:{default:Xb}}function l(){l=Object.assign||function(Xb){for(var ec=1;ec<arguments.length;ec++){var Bb=arguments[ec],yb;for(yb in Bb)Object.prototype.hasOwnProperty.call(Bb,yb)&&(Xb[yb]=Bb[yb])}return Xb};return l.apply(this,arguments)}function ja(Xb,ec,Bb){ec in Xb?Object.defineProperty(Xb,ec,{value:Bb,enumerable:!0,configurable:!0,writable:!0}):Xb[ec]=Bb;return Xb}Za.__esModule=!0;Za.default=function(Xb){let {mode:ec,
spec:Bb}=Xb;class yb extends $a.default.PureComponent{render(){return $a.default.createElement(vb.default,l({mode:ec,spec:Bb},this.props))}}ja(yb,"getSpec",function(){return Bb});return yb};var $a=u(pb(3)),vb=u(pb(70))};
shadow$provide[73]=function(Fb,pb,zc,Za){Za.__esModule=!0};
shadow$provide[74]=function(Fb,pb,zc,Za){Za.__esModule=!0;var u=pb(73);Object.keys(u).forEach(function(l){"default"!==l&&"__esModule"!==l&&(l in Za&&Za[l]===u[l]||(Za[l]=u[l]))})};
shadow$provide[75]=function(Fb,pb,zc,Za){function u($a){return $a&&$a.__esModule?$a:{default:$a}}Za.__esModule=!0;var l={Vega:!0,VegaLite:!0,createClassFromSpec:!0};Za.createClassFromSpec=Za.VegaLite=Za.Vega=void 0;Fb=u(pb(70));Za.Vega=Fb.default;Fb=u(pb(71));Za.VegaLite=Fb.default;Fb=u(pb(72));Za.createClassFromSpec=Fb.default;var ja=pb(74);Object.keys(ja).forEach(function($a){"default"!==$a&&"__esModule"!==$a&&(Object.prototype.hasOwnProperty.call(l,$a)||$a in Za&&Za[$a]===ja[$a]||(Za[$a]=ja[$a]))})};
/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var g,aa=this||self;function t(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}function ba(a){return Object.prototype.hasOwnProperty.call(a,ca)&&a[ca]||(a[ca]=++ea)}var ca="closure_uid_"+(1E9*Math.random()>>>0),ea=0;
function fa(a,b){function c(){}c.prototype=b.prototype;a.Hd=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[e].apply(d,h)}};function ha(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function ia(a,b){return null!==a&&b in a?a[b]:void 0}const ja="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ka(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<ja.length;f++)c=ja[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function la(a){if(!Array.isArray(a))for(let b=a.length-1;0<=b;b--)delete a[b];a.length=0};var ma;a:{const a=aa.navigator;if(a){const b=a.userAgent;if(b){ma=b;break a}}ma=""}let na=ma;function oa(a){return-1!=na.indexOf(a)};function pa(a,b){null!=a&&this.append.apply(this,arguments)}g=pa.prototype;g.ob="";g.set=function(a){this.ob=""+a};g.append=function(a,b,c){this.ob+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.ob+=arguments[d];return this};g.clear=function(){this.ob=""};g.toString=function(){return this.ob};var ra={},sa={},ta,u={},ua=null;function va(){return new v(null,5,[wa,!0,xa,!0,ya,!1,za,!1,Aa,null],null)}function x(a){return null!=a&&!1!==a}function Ba(a){return a instanceof Array}function y(a,b){return a[t(null==b?null:b)]?!0:a._?!0:!1}function A(a,b){var c=null==b?null:b.constructor;c=x(x(c)?c.Mb:c)?c.rb:t(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Ca(a){var b=a.rb;return x(b)?b:B.j(a)}
var Da="undefined"!==typeof Symbol&&"function"===t(Symbol)?Symbol.iterator:"@@iterator";function Ea(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Fa(a){function b(d,e){d.push(e);return d}var c=[];return Ga?Ga(b,c,a):Ha.call(null,b,c,a)}function Ia(a){return"symbol"===t(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Ja(){}function Ka(){}function La(){}
function Ma(a){if(null!=a&&null!=a.pa)a=a.pa(a);else{var b=Ma[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ma._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ICounted.-count",a);}return a}function Na(){}function Oa(a){if(null!=a&&null!=a.qa)a=a.qa(a);else{var b=Oa[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Oa._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEmptyableCollection.-empty",a);}return a}function Pa(){}
function Qa(a,b){if(null!=a&&null!=a.sa)a=a.sa(a,b);else{var c=Qa[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qa._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ICollection.-conj",a);}return a}function Ra(){}
var Ta=function(){function a(d,e,f){var h=Sa[t(null==d?null:d)];if(null!=h)return h.G?h.G(d,e,f):h.call(null,d,e,f);h=Sa._;if(null!=h)return h.G?h.G(d,e,f):h.call(null,d,e,f);throw A("IIndexed.-nth",d);}function b(d,e){var f=Sa[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Sa._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.G=a;return c}(),Sa=function Sa(a){switch(arguments.length){case 2:return Sa.B(arguments[0],arguments[1]);case 3:return Sa.G(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Sa.B=function(a,b){return null!=a&&null!=a.ia?a.ia(a,b):Ta(a,b)};Sa.G=function(a,b,c){return null!=a&&null!=a.Ea?a.Ea(a,b,c):Ta(a,b,c)};Sa.da=3;function Ua(){}
function D(a){if(null!=a&&null!=a.Aa)a=a.Aa(a);else{var b=D[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=D._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeq.-first",a);}return a}function Va(a){if(null!=a&&null!=a.Ba)a=a.Ba(a);else{var b=Va[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Va._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeq.-rest",a);}return a}function Wa(){}function Xa(){}
var Za=function(){function a(d,e,f){var h=Ya[t(null==d?null:d)];if(null!=h)return h.G?h.G(d,e,f):h.call(null,d,e,f);h=Ya._;if(null!=h)return h.G?h.G(d,e,f):h.call(null,d,e,f);throw A("ILookup.-lookup",d);}function b(d,e){var f=Ya[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Ya._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.G=a;return c}(),Ya=function Ya(a){switch(arguments.length){case 2:return Ya.B(arguments[0],arguments[1]);case 3:return Ya.G(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Ya.B=function(a,b){return null!=a&&null!=a.Ca?a.Ca(a,b):Za(a,b)};Ya.G=function(a,b,c){return null!=a&&null!=a.ga?a.ga(a,b,c):Za(a,b,c)};Ya.da=3;function $a(){}
function ab(a,b){if(null!=a&&null!=a.pb)a=a.pb(a,b);else{var c=ab[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ab._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IAssociative.-contains-key?",a);}return a}function bb(a,b,c){if(null!=a&&null!=a.fb)a=a.fb(a,b,c);else{var d=bb[t(null==a?null:a)];if(null!=d)a=d.G?d.G(a,b,c):d.call(null,a,b,c);else if(d=bb._,null!=d)a=d.G?d.G(a,b,c):d.call(null,a,b,c);else throw A("IAssociative.-assoc",a);}return a}
function cb(a,b){if(null!=a&&null!=a.xb)a=a.xb(a,b);else{var c=cb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=cb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IFind.-find",a);}return a}function db(){}function eb(a,b){if(null!=a&&null!=a.nc)a=a.nc(a,b);else{var c=eb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=eb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IMap.-dissoc",a);}return a}
function fb(a){if(null!=a&&null!=a.ad)a=a.key;else{var b=fb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=fb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMapEntry.-key",a);}return a}function gb(a){if(null!=a&&null!=a.bd)a=a.aa;else{var b=gb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=gb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMapEntry.-val",a);}return a}function hb(){}
function ib(a,b){if(null!=a&&null!=a.Dc)a=a.Dc(a,b);else{var c=ib[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ib._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ISet.-disjoin",a);}return a}function jb(a){if(null!=a&&null!=a.zb)a=a.zb(a);else{var b=jb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=jb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IStack.-peek",a);}return a}
function kb(a){if(null!=a&&null!=a.Ab)a=a.Ab(a);else{var b=kb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=kb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IStack.-pop",a);}return a}function lb(){}function mb(a,b,c){if(null!=a&&null!=a.qb)a=a.qb(a,b,c);else{var d=mb[t(null==a?null:a)];if(null!=d)a=d.G?d.G(a,b,c):d.call(null,a,b,c);else if(d=mb._,null!=d)a=d.G?d.G(a,b,c):d.call(null,a,b,c);else throw A("IVector.-assoc-n",a);}return a}
function F(a){if(null!=a&&null!=a.jb)a=a.jb(a);else{var b=F[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=F._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IDeref.-deref",a);}return a}function nb(){}function ob(a){if(null!=a&&null!=a.la)a=a.la(a);else{var b=ob[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=ob._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMeta.-meta",a);}return a}
function pb(a,b){if(null!=a&&null!=a.oa)a=a.oa(a,b);else{var c=pb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=pb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IWithMeta.-with-meta",a);}return a}function qb(){}
var sb=function(){function a(d,e,f){var h=rb[t(null==d?null:d)];if(null!=h)return h.G?h.G(d,e,f):h.call(null,d,e,f);h=rb._;if(null!=h)return h.G?h.G(d,e,f):h.call(null,d,e,f);throw A("IReduce.-reduce",d);}function b(d,e){var f=rb[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=rb._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.G=a;return c}(),rb=function rb(a){switch(arguments.length){case 2:return rb.B(arguments[0],arguments[1]);case 3:return rb.G(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};rb.B=function(a,b){return null!=a&&null!=a.ua?a.ua(a,b):sb(a,b)};rb.G=function(a,b,c){return null!=a&&null!=a.va?a.va(a,b,c):sb(a,b,c)};rb.da=3;function tb(){}
function ub(a,b,c){if(null!=a&&null!=a.Hb)a=a.Hb(a,b,c);else{var d=ub[t(null==a?null:a)];if(null!=d)a=d.G?d.G(a,b,c):d.call(null,a,b,c);else if(d=ub._,null!=d)a=d.G?d.G(a,b,c):d.call(null,a,b,c);else throw A("IKVReduce.-kv-reduce",a);}return a}function vb(a,b){if(null!=a&&null!=a.ja)a=a.ja(a,b);else{var c=vb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=vb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IEquiv.-equiv",a);}return a}
function wb(a){if(null!=a&&null!=a.ka)a=a.ka(a);else{var b=wb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=wb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IHash.-hash",a);}return a}function xb(){}function yb(a){if(null!=a&&null!=a.na)a=a.na(a);else{var b=yb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=yb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeqable.-seq",a);}return a}function zb(){}function Ab(){}function Bb(){}
function G(a,b){if(null!=a&&null!=a.Ec)a=a.Ec(a,b);else{var c=G[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=G._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IWriter.-write",a);}return a}function Cb(){}function Db(a,b,c){if(null!=a&&null!=a.ma)a=a.ma(a,b,c);else{var d=Db[t(null==a?null:a)];if(null!=d)a=d.G?d.G(a,b,c):d.call(null,a,b,c);else if(d=Db._,null!=d)a=d.G?d.G(a,b,c):d.call(null,a,b,c);else throw A("IPrintWithWriter.-pr-writer",a);}return a}
function Eb(a,b){var c=Fb;if(null!=a&&null!=a.Wb)a.Wb(a,b,c);else{var d=Eb[t(null==a?null:a)];if(null!=d)d.G?d.G(a,b,c):d.call(null,a,b,c);else if(d=Eb._,null!=d)d.G?d.G(a,b,c):d.call(null,a,b,c);else throw A("IWatchable.-add-watch",a);}}function Gb(a,b){if(null!=a&&null!=a.Xb)a.Xb(a,b);else{var c=Gb[t(null==a?null:a)];if(null!=c)c.B?c.B(a,b):c.call(null,a,b);else if(c=Gb._,null!=c)c.B?c.B(a,b):c.call(null,a,b);else throw A("IWatchable.-remove-watch",a);}}
function Hb(a){if(null!=a&&null!=a.wb)a=a.wb(a);else{var b=Hb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Hb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEditableCollection.-as-transient",a);}return a}function Ib(a,b){if(null!=a&&null!=a.Cb)a=a.Cb(a,b);else{var c=Ib[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Ib._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ITransientCollection.-conj!",a);}return a}
function Jb(a){if(null!=a&&null!=a.Lb)a=a.Lb(a);else{var b=Jb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Jb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ITransientCollection.-persistent!",a);}return a}function Kb(a,b,c){if(null!=a&&null!=a.Bb)a=a.Bb(a,b,c);else{var d=Kb[t(null==a?null:a)];if(null!=d)a=d.G?d.G(a,b,c):d.call(null,a,b,c);else if(d=Kb._,null!=d)a=d.G?d.G(a,b,c):d.call(null,a,b,c);else throw A("ITransientAssociative.-assoc!",a);}return a}
function Lb(a){if(null!=a&&null!=a.yc)a=a.yc(a);else{var b=Lb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Lb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunk.-drop-first",a);}return a}function Mb(a){if(null!=a&&null!=a.lc)a=a.lc(a);else{var b=Mb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Mb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunkedSeq.-chunked-first",a);}return a}
function Nb(a){if(null!=a&&null!=a.Vb)a=a.Vb(a);else{var b=Nb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Nb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunkedSeq.-chunked-rest",a);}return a}function Ob(a){if(null!=a&&null!=a.Ib)a=a.Ib(a);else{var b=Ob[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ob._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("INamed.-name",a);}return a}
function Pb(a){if(null!=a&&null!=a.Jb)a=a.Jb(a);else{var b=Pb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Pb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("INamed.-namespace",a);}return a}function Qb(a,b){if(null!=a&&null!=a.Wa)a=a.Wa(a,b);else{var c=Qb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IReset.-reset!",a);}return a}
var Sb=function(){function a(f,h,k,l,m){var n=Rb[t(null==f?null:f)];if(null!=n)return n.ea?n.ea(f,h,k,l,m):n.call(null,f,h,k,l,m);n=Rb._;if(null!=n)return n.ea?n.ea(f,h,k,l,m):n.call(null,f,h,k,l,m);throw A("ISwap.-swap!",f);}function b(f,h,k,l){var m=Rb[t(null==f?null:f)];if(null!=m)return m.ba?m.ba(f,h,k,l):m.call(null,f,h,k,l);m=Rb._;if(null!=m)return m.ba?m.ba(f,h,k,l):m.call(null,f,h,k,l);throw A("ISwap.-swap!",f);}function c(f,h,k){var l=Rb[t(null==f?null:f)];if(null!=l)return l.G?l.G(f,h,k):
l.call(null,f,h,k);l=Rb._;if(null!=l)return l.G?l.G(f,h,k):l.call(null,f,h,k);throw A("ISwap.-swap!",f);}function d(f,h){var k=Rb[t(null==f?null:f)];if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);k=Rb._;if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);throw A("ISwap.-swap!",f);}var e=null;e=function(f,h,k,l,m){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,l);case 5:return a.call(this,f,h,k,l,m)}throw Error("Invalid arity: "+
arguments.length);};e.B=d;e.G=c;e.ba=b;e.ea=a;return e}(),Rb=function Rb(a){switch(arguments.length){case 2:return Rb.B(arguments[0],arguments[1]);case 3:return Rb.G(arguments[0],arguments[1],arguments[2]);case 4:return Rb.ba(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Rb.ea(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};
Rb.B=function(a,b){return null!=a&&null!=a.oc?a.oc(a,b):Sb(a,b)};Rb.G=function(a,b,c){return null!=a&&null!=a.pc?a.pc(a,b,c):Sb(a,b,c)};Rb.ba=function(a,b,c,d){return null!=a&&null!=a.qc?a.qc(a,b,c,d):Sb(a,b,c,d)};Rb.ea=function(a,b,c,d,e){return null!=a&&null!=a.rc?a.rc(a,b,c,d,e):Sb(a,b,c,d,e)};Rb.da=5;function Tb(){}
function Ub(a){if(null!=a&&null!=a.Ua)a=a.Ua(a);else{var b=Ub[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ub._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IIterable.-iterator",a);}return a}function Vb(a){this.td=a;this.I=1073741824;this.$=0}Vb.prototype.Ec=function(a,b){return this.td.append(b)};function Wb(a){var b=new pa;a.ma(null,new Vb(b),va());return B.j(b)}
var Xb="undefined"!==typeof Math&&"undefined"!==typeof Math.imul?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function Yb(a){a=Xb(a|0,-862048943);return Xb(a<<15|a>>>-15,461845907)}function Zb(a,b){a=(a|0)^(b|0);return Xb(a<<13|a>>>-13,5)+-430675100|0}function $b(a,b){a=(a|0)^b;a=Xb(a^a>>>16,-2048144789);a=Xb(a^a>>>13,-1028477387);return a^a>>>16}
function ac(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=Zb(c,Yb(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return $b(1===(a.length&1)?b^Yb(a.charCodeAt(a.length-1)):b,Xb(2,a.length))}var bc={},cc=0;function dc(a){255<cc&&(bc={},cc=0);if(null==a)return 0;var b=bc[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=Xb(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;bc[a]=b;cc+=1;a=b}return a}
function ec(a){if(null!=a&&(a.I&4194304||u===a.xd))return a.ka(null)^0;if("number"===typeof a){if(isFinite(a))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=dc(a),a=0===a?a:$b(Zb(0,Yb(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:wb(a)^0,a}function fc(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function gc(a,b,c,d,e){this.Fb=a;this.name=b;this.nb=c;this._hash=d;this.bb=e;this.I=2154168321;this.$=4096}g=gc.prototype;g.toString=function(){return this.nb};g.ja=function(a,b){return b instanceof gc?this.nb===b.nb:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};
g.j=function(a){return H.B?H.B(a,this):H.call(null,a,this)};g.B=function(a,b){return H.G?H.G(a,this,b):H.call(null,a,this,b)};g.la=function(){return this.bb};g.oa=function(a,b){return new gc(this.Fb,this.name,this.nb,this._hash,b)};g.ka=function(){var a=this._hash;return null!=a?a:this._hash=a=fc(ac(this.name),dc(this.Fb))};g.Ib=function(){return this.name};g.Jb=function(){return this.Fb};g.ma=function(a,b){return G(b,this.nb)};
var hc=function hc(a){switch(arguments.length){case 1:return hc.j(arguments[0]);case 2:return hc.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};hc.j=function(a){for(;;){if(a instanceof gc)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?hc.B(null,a):hc.B(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof I)a=a.Va;else throw Error("no conversion to symbol");}};
hc.B=function(a,b){var c=null!=a?[B.j(a),"/",B.j(b)].join(""):b;return new gc(a,b,c,null,null)};hc.da=2;function ic(a){return null!=a?a.$&131072||u===a.yd?!0:a.$?!1:y(Tb,a):y(Tb,a)}function J(a){if(null==a)return null;if(null!=a&&(a.I&8388608||u===a.ed))return a.na(null);if(Ba(a)||"string"===typeof a)return 0===a.length?null:new K(a,0,null);if(null!=a&&null!=a[Da])return a=ia(a,Da).call(a),jc.j?jc.j(a):jc.call(null,a);if(y(xb,a))return yb(a);throw Error([B.j(a)," is not ISeqable"].join(""));}
function N(a){if(null==a)return null;if(null!=a&&(a.I&64||u===a.yb))return a.Aa(null);a=J(a);return null==a?null:D(a)}function kc(a){return null!=a?null!=a&&(a.I&64||u===a.yb)?a.Ba(null):(a=J(a))?a.Ba(null):lc:lc}function O(a){return null==a?null:null!=a&&(a.I&128||u===a.Kb)?a.za():J(kc(a))}
var P=function P(a){switch(arguments.length){case 1:return P.j(arguments[0]);case 2:return P.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return P.P(arguments[0],arguments[1],c)}};P.j=function(){return!0};P.B=function(a,b){return null==a?null==b:a===b||vb(a,b)};P.P=function(a,b,c){for(;;)if(P.B(a,b))if(O(c))a=b,b=N(c),c=O(c);else return P.B(b,N(c));else return!1};
P.fa=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.P(b,a,c)};P.da=2;function mc(a){this.s=a}mc.prototype.next=function(){if(null!=this.s){var a=N(this.s);this.s=O(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function nc(a){return new mc(J(a))}function oc(a,b){this.value=a;this.Eb=b;this.fc=null;this.I=8388672;this.$=0}oc.prototype.na=function(){return this};oc.prototype.Aa=function(){return this.value};
oc.prototype.Ba=function(){null==this.fc&&(this.fc=jc.j?jc.j(this.Eb):jc.call(null,this.Eb));return this.fc};function jc(a){var b=a.next();return x(b.done)?null:new oc(b.value,a)}function pc(a){var b=0,c=1;for(a=J(a);;)if(null!=a)b+=1,c=Xb(31,c)+ec(N(a))|0,a=O(a);else return $b(Zb(0,Yb(c)),b)}var qc=$b(Zb(0,Yb(1)),0);function rc(a){var b=0,c=0;for(a=J(a);;)if(null!=a)b+=1,c=c+ec(N(a))|0,a=O(a);else return $b(Zb(0,Yb(c)),b)}var sc=$b(Zb(0,Yb(0)),0);La["null"]=!0;Ma["null"]=function(){return 0};
Date.prototype.ja=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};vb.number=function(a,b){return a===b};Ja["function"]=!0;nb["function"]=!0;ob["function"]=function(){return null};wb._=function(a){return ba(a)};function tc(a){return a+1}function uc(){this.aa=!1;this.I=32768;this.$=0}uc.prototype.jb=function(){return this.aa};function vc(a){return a instanceof uc}function wc(a){return F(a)}
function xc(a,b){var c=a.pa(null);if(0===c)return b.Y?b.Y():b.call(null);for(var d=a.ia(null,0),e=1;;)if(e<c){var f=a.ia(null,e);d=b.B?b.B(d,f):b.call(null,d,f);if(vc(d))return F(d);e+=1}else return d}function yc(a,b,c){var d=a.pa(null),e=c;for(c=0;;)if(c<d){var f=a.ia(null,c);e=b.B?b.B(e,f):b.call(null,e,f);if(vc(e))return F(e);c+=1}else return e}
function zc(a,b){var c=a.length;if(0===a.length)return b.Y?b.Y():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.B?b.B(d,f):b.call(null,d,f);if(vc(d))return F(d);e+=1}else return d}function Ac(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.B?b.B(e,f):b.call(null,e,f);if(vc(e))return F(e);c+=1}else return e}function Bc(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.B?b.B(c,f):b.call(null,c,f);if(vc(c))return F(c);d+=1}else return c}
function Cc(a){return null!=a?a.I&2||u===a.Uc?!0:a.I?!1:y(La,a):y(La,a)}function Dc(a){return null!=a?a.I&16||u===a.Ac?!0:a.I?!1:y(Ra,a):y(Ra,a)}function Q(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(P.B(Ec?Ec(a,c):Fc.call(null,a,c),b))return c;c+=1}else return-1}
function S(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(P.B(Ec?Ec(a,c):Fc.call(null,a,c),b))return c;--c}else return-1}function Gc(a,b){this.F=a;this.i=b}Gc.prototype.ta=function(){return this.i<this.F.length};Gc.prototype.next=function(){var a=this.F[this.i];this.i+=1;return a};function K(a,b,c){this.F=a;this.i=b;this.K=c;this.I=166592766;this.$=139264}g=K.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R.j?R.j(this):R.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ia=function(a,b){a=b+this.i;if(0<=a&&a<this.F.length)return this.F[a];throw Error("Index out of bounds");};g.Ea=function(a,b,c){a=b+this.i;return 0<=a&&a<this.F.length?this.F[a]:c};
g.Ua=function(){return new Gc(this.F,this.i)};g.la=function(){return this.K};g.za=function(){return this.i+1<this.F.length?new K(this.F,this.i+1,null):null};g.pa=function(){var a=this.F.length-this.i;return 0>a?0:a};g.ka=function(){return pc(this)};g.ja=function(a,b){return Hc.B?Hc.B(this,b):Hc.call(null,this,b)};g.qa=function(){return lc};g.ua=function(a,b){return Bc(this.F,b,this.F[this.i],this.i+1)};g.va=function(a,b,c){return Bc(this.F,b,c,this.i)};g.Aa=function(){return this.F[this.i]};
g.Ba=function(){return this.i+1<this.F.length?new K(this.F,this.i+1,null):lc};g.na=function(){return this.i<this.F.length?this:null};g.oa=function(a,b){return b===this.K?this:new K(this.F,this.i,b)};g.sa=function(a,b){return U.B?U.B(b,this):U.call(null,b,this)};K.prototype[Da]=function(){return nc(this)};function Ic(a){return 0<a.length?new K(a,0,null):null}vb._=function(a,b){return a===b};
var Jc=function Jc(a){switch(arguments.length){case 0:return Jc.Y();case 1:return Jc.j(arguments[0]);case 2:return Jc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Jc.P(arguments[0],arguments[1],c)}};Jc.Y=function(){return Kc};Jc.j=function(a){return a};Jc.B=function(a,b){return null!=a?Qa(a,b):new Lc(null,b,null,1,null)};
Jc.P=function(a,b,c){for(;;)if(x(c))a=Jc.B(a,b),b=N(c),c=O(c);else return Jc.B(a,b)};Jc.fa=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.P(b,a,c)};Jc.da=2;function R(a){if(null!=a)if(null!=a&&(a.I&2||u===a.Uc))a=a.pa(null);else if(Ba(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.I&8388608||u===a.ed))a:{a=J(a);for(var b=0;;){if(Cc(a)){a=b+Ma(a);break a}a=O(a);b+=1}}else a=Ma(a);else a=0;return a}
function Mc(a,b,c){for(;;){if(null==a)return c;if(0===b)return J(a)?N(a):c;if(Dc(a))return Sa(a,b,c);if(J(a))a=O(a),--b;else return c}}function Fc(a){switch(arguments.length){case 2:return Ec(arguments[0],arguments[1]);case 3:return V(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}
function Ec(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.I&16||u===a.Ac))return a.ia(null,b);if(Ba(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.I&64||u===a.yb)||null!=a&&(a.I&16777216||u===a.Cc)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(J(a)){a=N(a);break a}throw Error("Index out of bounds");}if(Dc(a)){a=Sa(a,b);break a}if(J(a))a=O(a),--b;else throw Error("Index out of bounds");}return a}if(y(Ra,a))return Sa(a,b);throw Error(["nth not supported on this type ",B.j(Ca(null==a?null:a.constructor))].join(""));}
function V(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.I&16||u===a.Ac))return a.Ea(null,b,c);if(Ba(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.I&64||u===a.yb)||null!=a&&(a.I&16777216||u===a.Cc))return 0>b?c:Mc(a,b,c);if(y(Ra,a))return Sa(a,b,c);throw Error(["nth not supported on this type ",B.j(Ca(null==a?null:a.constructor))].join(""));}
var H=function H(a){switch(arguments.length){case 2:return H.B(arguments[0],arguments[1]);case 3:return H.G(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};H.B=function(a,b){return null==a?null:null!=a&&(a.I&256||u===a.$c)?a.Ca(null,b):Ba(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:y(Xa,a)?Ya(a,b):null};
H.G=function(a,b,c){return null!=a?null!=a&&(a.I&256||u===a.$c)?a.ga(null,b,c):Ba(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:y(Xa,a)?Ya(a,b,c):c:c};H.da=3;var W=function W(a){switch(arguments.length){case 3:return W.G(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(3),0,null);return W.P(arguments[0],arguments[1],arguments[2],c)}};
W.G=function(a,b,c){return null!=a&&(a.I&512||u===a.Tc)?a.fb(null,b,c):null!=a?bb(a,b,c):Nc([b,c])};W.P=function(a,b,c,d){for(;;)if(a=W.G(a,b,c),x(d))b=N(d),c=N(O(d)),d=O(O(d));else return a};W.fa=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);d=O(d);return this.P(b,a,c,d)};W.da=3;
var Oc=function Oc(a){switch(arguments.length){case 1:return Oc.j(arguments[0]);case 2:return Oc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Oc.P(arguments[0],arguments[1],c)}};Oc.j=function(a){return a};Oc.B=function(a,b){return null==a?null:eb(a,b)};Oc.P=function(a,b,c){for(;;){if(null==a)return null;a=Oc.B(a,b);if(x(c))b=N(c),c=O(c);else return a}};
Oc.fa=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.P(b,a,c)};Oc.da=2;function Pc(a){var b="function"===typeof a;return b?b:null!=a?u===a.Sc?!0:a.Fc?!1:y(Ja,a):y(Ja,a)}function Qc(a,b){this.N=a;this.K=b;this.I=393217;this.$=0}g=Qc.prototype;g.la=function(){return this.K};g.oa=function(a,b){return new Qc(this.N,b)};g.Sc=u;
g.call=function(a){switch(arguments.length-1){case 0:return this.Y();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.G(arguments[1],arguments[2],arguments[3]);case 4:return this.ba(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Ra(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Sa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Ta(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ia(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Oa(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Qa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.mc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.Y=function(){return this.N.Y?this.N.Y():this.N.call(null)};g.j=function(a){return this.N.j?this.N.j(a):this.N.call(null,a)};g.B=function(a,b){return this.N.B?this.N.B(a,b):this.N.call(null,a,b)};g.G=function(a,b,c){return this.N.G?this.N.G(a,b,c):this.N.call(null,a,b,c)};
g.ba=function(a,b,c,d){return this.N.ba?this.N.ba(a,b,c,d):this.N.call(null,a,b,c,d)};g.ea=function(a,b,c,d,e){return this.N.ea?this.N.ea(a,b,c,d,e):this.N.call(null,a,b,c,d,e)};g.Ra=function(a,b,c,d,e,f){return this.N.Ra?this.N.Ra(a,b,c,d,e,f):this.N.call(null,a,b,c,d,e,f)};g.Sa=function(a,b,c,d,e,f,h){return this.N.Sa?this.N.Sa(a,b,c,d,e,f,h):this.N.call(null,a,b,c,d,e,f,h)};g.Da=function(a,b,c,d,e,f,h,k){return this.N.Da?this.N.Da(a,b,c,d,e,f,h,k):this.N.call(null,a,b,c,d,e,f,h,k)};
g.Ta=function(a,b,c,d,e,f,h,k,l){return this.N.Ta?this.N.Ta(a,b,c,d,e,f,h,k,l):this.N.call(null,a,b,c,d,e,f,h,k,l)};g.Ga=function(a,b,c,d,e,f,h,k,l,m){return this.N.Ga?this.N.Ga(a,b,c,d,e,f,h,k,l,m):this.N.call(null,a,b,c,d,e,f,h,k,l,m)};g.Ha=function(a,b,c,d,e,f,h,k,l,m,n){return this.N.Ha?this.N.Ha(a,b,c,d,e,f,h,k,l,m,n):this.N.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Ia=function(a,b,c,d,e,f,h,k,l,m,n,p){return this.N.Ia?this.N.Ia(a,b,c,d,e,f,h,k,l,m,n,p):this.N.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.Ja=function(a,b,c,d,e,f,h,k,l,m,n,p,q){return this.N.Ja?this.N.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q):this.N.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};g.Ka=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){return this.N.Ka?this.N.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.N.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};g.La=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w){return this.N.La?this.N.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):this.N.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w)};
g.Ma=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z){return this.N.Ma?this.N.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):this.N.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z)};g.Na=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C){return this.N.Na?this.N.Na(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):this.N.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C)};g.Oa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E){return this.N.Oa?this.N.Oa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):this.N.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E)};
g.Pa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M){return this.N.Pa?this.N.Pa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):this.N.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M)};g.Qa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T){return this.N.Qa?this.N.Qa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):this.N.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T)};
g.mc=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da){return Rc.Zc?Rc.Zc(this.N,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da):Rc.call(null,this.N,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da)};function Sc(a,b){return"function"===typeof a?new Qc(a,b):null==a?null:pb(a,b)}function Tc(a){var b=null!=a;return(b?null!=a?a.I&131072||u===a.cd||(a.I?0:y(nb,a)):y(nb,a):b)?ob(a):null}
var Uc=function Uc(a){switch(arguments.length){case 1:return Uc.j(arguments[0]);case 2:return Uc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Uc.P(arguments[0],arguments[1],c)}};Uc.j=function(a){return a};Uc.B=function(a,b){return null==a?null:ib(a,b)};Uc.P=function(a,b,c){for(;;){if(null==a)return null;a=Uc.B(a,b);if(x(c))b=N(c),c=O(c);else return a}};
Uc.fa=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.P(b,a,c)};Uc.da=2;function Vc(a){var b;(b=null==a)||(a=J(a),b=null==a?!0:!1===a?!0:!1);return b}function Wc(a){return null==a?!1:null!=a?a.I&8||u===a.vd?!0:a.I?!1:y(Pa,a):y(Pa,a)}function Xc(a){return null==a?!1:null!=a?a.I&4096||u===a.Ed?!0:a.I?!1:y(hb,a):y(hb,a)}function Yc(a){return null!=a?a.I&16777216||u===a.Cc?!0:a.I?!1:y(zb,a):y(zb,a)}function $c(a){return null==a?!1:null!=a?a.I&1024||u===a.Bd?!0:a.I?!1:y(db,a):y(db,a)}
function ad(a){return null!=a?a.I&67108864||u===a.Dd?!0:a.I?!1:y(Bb,a):y(Bb,a)}function bd(a){return null!=a?a.I&16384||u===a.Fd?!0:a.I?!1:y(lb,a):y(lb,a)}function cd(a){return null!=a?a.$&512||u===a.ud?!0:!1:!1}function dd(a,b,c,d,e){for(;;){if(0===e)return c;c[d]=a[b];d+=1;--e;b+=1}}var ed={};function fd(a){return null==a?!1:!1===a?!1:!0}function gd(a){var b=Pc(a);return b?b:null!=a?a.I&1||u===a.wd?!0:a.I?!1:y(Ka,a):y(Ka,a)}
function hd(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function id(a,b){return null!=a&&(a.I&512||u===a.Tc)?a.pb(null,b):y($a,a)?ab(a,b):H.G(a,b,ed)===ed?!1:!0}function jd(a,b){var c=J(b);return c?(b=N(c),c=O(c),Ga?Ga(a,b,c):Ha.call(null,a,b,c)):a.Y?a.Y():a.call(null)}function kd(a,b,c){for(c=J(c);;)if(c){var d=N(c);b=a.B?a.B(b,d):a.call(null,b,d);if(vc(b))return F(b);c=O(c)}else return b}
function ld(a,b){a=Ub(a);if(x(a.ta()))for(var c=a.next();;)if(a.ta()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(vc(c))return F(c)}else return c;else return b.Y?b.Y():b.call(null)}function md(a,b,c){for(a=Ub(a);;)if(a.ta()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(vc(c))return F(c)}else return c}
function Ha(a){switch(arguments.length){case 2:return nd(arguments[0],arguments[1]);case 3:return Ga(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function nd(a,b){return null!=b&&(b.I&524288||u===b.dd)?b.ua(null,a):Ba(b)?zc(b,a):"string"===typeof b?zc(b,a):y(qb,b)?rb(b,a):ic(b)?ld(b,a):jd(a,b)}
function Ga(a,b,c){return null!=c&&(c.I&524288||u===c.dd)?c.va(null,a,b):Ba(c)?Ac(c,a,b):"string"===typeof c?Ac(c,a,b):y(qb,c)?rb(c,a,b):ic(c)?md(c,a,b):kd(a,b,c)}function od(a,b,c){return null!=c?ub(c,a,b):b}function pd(a){return a}function qd(a,b,c,d){a=a.j?a.j(b):a.call(null,b);c=Ga(a,c,d);return a.j?a.j(c):a.call(null,c)}
var rd=function rd(a){switch(arguments.length){case 0:return rd.Y();case 1:return rd.j(arguments[0]);case 2:return rd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return rd.P(arguments[0],arguments[1],c)}};rd.Y=function(){return 0};rd.j=function(a){return a};rd.B=function(a,b){return a+b};rd.P=function(a,b,c){return Ga(rd,a+b,c)};
rd.fa=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.P(b,a,c)};rd.da=2;var sd=function sd(a){switch(arguments.length){case 1:return sd.j(arguments[0]);case 2:return sd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return sd.P(arguments[0],arguments[1],c)}};sd.j=function(a){return-a};sd.B=function(a,b){return a-b};sd.P=function(a,b,c){return Ga(sd,a-b,c)};
sd.fa=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.P(b,a,c)};sd.da=2;function td(a){a=(a-a%2)/2;return 0<=a?Math.floor(a):Math.ceil(a)}function ud(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var B=function B(a){switch(arguments.length){case 0:return B.Y();case 1:return B.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(1),0,null);return B.P(arguments[0],c)}};
B.Y=function(){return""};B.j=function(a){return null==a?"":[a].join("")};B.P=function(a,b){for(a=new pa(B.j(a));;)if(x(b))a=a.append(B.j(N(b))),b=O(b);else return a.toString()};B.fa=function(a){var b=N(a);a=O(a);return this.P(b,a)};B.da=1;function Hc(a,b){if(Yc(b))if(Cc(a)&&Cc(b)&&R(a)!==R(b))a=!1;else a:for(a=J(a),b=J(b);;){if(null==a){a=null==b;break a}if(null!=b&&P.B(N(a),N(b)))a=O(a),b=O(b);else{a=!1;break a}}else a=null;return fd(a)}
function Lc(a,b,c,d,e){this.K=a;this.first=b;this.ib=c;this.count=d;this.R=e;this.I=65937646;this.$=8192}g=Lc.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.la=function(){return this.K};g.za=function(){return 1===this.count?null:this.ib};g.pa=function(){return this.count};g.zb=function(){return this.first};g.Ab=function(){return this.Ba(null)};
g.ka=function(){var a=this.R;return null!=a?a:this.R=a=pc(this)};g.ja=function(a,b){return Hc(this,b)};g.qa=function(){return pb(lc,this.K)};g.ua=function(a,b){return jd(b,this)};g.va=function(a,b,c){return kd(b,c,this)};g.Aa=function(){return this.first};g.Ba=function(){return 1===this.count?lc:this.ib};g.na=function(){return this};g.oa=function(a,b){return b===this.K?this:new Lc(b,this.first,this.ib,this.count,this.R)};g.sa=function(a,b){return new Lc(this.K,b,this,this.count+1,null)};
Lc.prototype[Da]=function(){return nc(this)};function vd(a){this.K=a;this.I=65937614;this.$=8192}g=vd.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.la=function(){return this.K};g.za=function(){return null};g.pa=function(){return 0};g.zb=function(){return null};g.Ab=function(){throw Error("Can't pop empty list");};g.ka=function(){return qc};
g.ja=function(a,b){return(null!=b?b.I&33554432||u===b.Ad||(b.I?0:y(Ab,b)):y(Ab,b))||Yc(b)?null==J(b):!1};g.qa=function(){return this};g.ua=function(a,b){return jd(b,this)};g.va=function(a,b,c){return kd(b,c,this)};g.Aa=function(){return null};g.Ba=function(){return lc};g.na=function(){return null};g.oa=function(a,b){return b===this.K?this:new vd(b)};g.sa=function(a,b){return new Lc(this.K,b,null,1,null)};var lc=new vd(null);vd.prototype[Da]=function(){return nc(this)};
function wd(a,b,c,d){this.K=a;this.first=b;this.ib=c;this.R=d;this.I=65929452;this.$=8192}g=wd.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.la=function(){return this.K};g.za=function(){return null==this.ib?null:J(this.ib)};g.ka=function(){var a=this.R;return null!=a?a:this.R=a=pc(this)};g.ja=function(a,b){return Hc(this,b)};g.qa=function(){return lc};
g.ua=function(a,b){return jd(b,this)};g.va=function(a,b,c){return kd(b,c,this)};g.Aa=function(){return this.first};g.Ba=function(){return null==this.ib?lc:this.ib};g.na=function(){return this};g.oa=function(a,b){return b===this.K?this:new wd(b,this.first,this.ib,this.R)};g.sa=function(a,b){return new wd(null,b,this,null)};wd.prototype[Da]=function(){return nc(this)};
function U(a,b){return null==b?new Lc(null,a,null,1,null):null!=b&&(b.I&64||u===b.yb)?new wd(null,a,b,null):new wd(null,a,J(b),null)}function I(a,b,c,d){this.Fb=a;this.name=b;this.Va=c;this._hash=d;this.I=2153775105;this.$=4096}g=I.prototype;g.toString=function(){return[":",B.j(this.Va)].join("")};g.ja=function(a,b){return b instanceof I?this.Va===b.Va:!1};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return H.B(a,this)};g.B=function(a,b){return H.G(a,this,b)};g.ka=function(){var a=this._hash;return null!=a?a:this._hash=a=fc(ac(this.name),dc(this.Fb))+2654435769|0};g.Ib=function(){return this.name};
g.Jb=function(){return this.Fb};g.ma=function(a,b){return G(b,[":",B.j(this.Va)].join(""))};function xd(a){if(null!=a&&(a.$&4096||u===a.Bc))return a.Jb(null);throw Error(["Doesn't support namespace: ",B.j(a)].join(""));}var yd=function yd(a){switch(arguments.length){case 1:return yd.j(arguments[0]);case 2:return yd.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};
yd.j=function(a){if(a instanceof I)return a;if(a instanceof gc)return new I(xd(a),X.j?X.j(a):X.call(null,a),a.nb,null);if(P.B("/",a))return new I(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new I(b[0],b[1],a,null):new I(null,b[0],a,null)}return null};
yd.B=function(a,b){a=a instanceof I?X.j?X.j(a):X.call(null,a):a instanceof gc?X.j?X.j(a):X.call(null,a):a;b=b instanceof I?X.j?X.j(b):X.call(null,b):b instanceof gc?X.j?X.j(b):X.call(null,b):b;return new I(a,b,[x(a)?[B.j(a),"/"].join(""):null,B.j(b)].join(""),null)};yd.da=2;function zd(a,b,c){this.K=a;this.fn=b;this.s=null;this.R=c;this.I=32374988;this.$=1}g=zd.prototype;g.toString=function(){return Wb(this)};function Ad(a){null!=a.fn&&(a.s=a.fn.Y?a.fn.Y():a.fn.call(null),a.fn=null);return a.s}
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.la=function(){return this.K};g.za=function(){this.na(null);return null==this.s?null:O(this.s)};g.ka=function(){var a=this.R;return null!=a?a:this.R=a=pc(this)};g.ja=function(a,b){return Hc(this,b)};
g.qa=function(){return pb(lc,this.K)};g.ua=function(a,b){return jd(b,this)};g.va=function(a,b,c){return kd(b,c,this)};g.Aa=function(){this.na(null);return null==this.s?null:N(this.s)};g.Ba=function(){this.na(null);return null!=this.s?kc(this.s):lc};g.na=function(){Ad(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof zd)a=Ad(a);else return this.s=a,J(this.s)};g.oa=function(a,b){var c=this;return b===this.K?c:new zd(b,function(){return c.na(null)},this.R)};
g.sa=function(a,b){return U(b,this)};zd.prototype[Da]=function(){return nc(this)};function Bd(a){this.hc=a;this.end=0;this.I=2;this.$=0}Bd.prototype.add=function(a){this.hc[this.end]=a;return this.end+=1};Bd.prototype.eb=function(){var a=new Cd(this.hc,0,this.end);this.hc=null;return a};Bd.prototype.pa=function(){return this.end};function Cd(a,b,c){this.F=a;this.off=b;this.end=c;this.I=524306;this.$=0}g=Cd.prototype;g.pa=function(){return this.end-this.off};
g.ia=function(a,b){return this.F[this.off+b]};g.Ea=function(a,b,c){return 0<=b&&b<this.end-this.off?this.F[this.off+b]:c};g.yc=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Cd(this.F,this.off+1,this.end)};g.ua=function(a,b){return Bc(this.F,b,this.F[this.off],this.off+1)};g.va=function(a,b,c){return Bc(this.F,b,c,this.off)};function Dd(a,b,c,d){this.eb=a;this.Za=b;this.K=c;this.R=d;this.I=31850732;this.$=1536}g=Dd.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.la=function(){return this.K};g.za=function(){return 1<Ma(this.eb)?new Dd(Lb(this.eb),this.Za,null,null):null==this.Za?null:yb(this.Za)};g.ka=function(){var a=this.R;return null!=a?a:this.R=a=pc(this)};
g.ja=function(a,b){return Hc(this,b)};g.qa=function(){return lc};g.Aa=function(){return Sa(this.eb,0)};g.Ba=function(){return 1<Ma(this.eb)?new Dd(Lb(this.eb),this.Za,null,null):null==this.Za?lc:this.Za};g.na=function(){return this};g.lc=function(){return this.eb};g.Vb=function(){return null==this.Za?lc:this.Za};g.oa=function(a,b){return b===this.K?this:new Dd(this.eb,this.Za,b,this.R)};g.sa=function(a,b){return U(b,this)};g.zc=function(){return null==this.Za?null:this.Za};Dd.prototype[Da]=function(){return nc(this)};
function Ed(a,b){return 0===Ma(a)?b:new Dd(a,b,null,null)}function Fd(a,b){a.add(b)}function Gd(a,b){if(Cc(b))return R(b);var c=0;for(b=J(b);;)if(null!=b&&c<a)c+=1,b=O(b);else return c}var Hd=function Hd(a){if(null==a)return null;var c=O(a);return null==c?J(N(a)):U(N(a),Hd.j?Hd.j(c):Hd.call(null,c))};
function Id(a,b,c){var d=J(c);if(0===b)return a.Y?a.Y():a.call(null);c=D(d);var e=Va(d);if(1===b)return a.j?a.j(c):a.call(null,c);d=D(e);var f=Va(e);if(2===b)return a.B?a.B(c,d):a.call(null,c,d);e=D(f);var h=Va(f);if(3===b)return a.G?a.G(c,d,e):a.call(null,c,d,e);f=D(h);var k=Va(h);if(4===b)return a.ba?a.ba(c,d,e,f):a.call(null,c,d,e,f);h=D(k);var l=Va(k);if(5===b)return a.ea?a.ea(c,d,e,f,h):a.call(null,c,d,e,f,h);k=D(l);var m=Va(l);if(6===b)return a.Ra?a.Ra(c,d,e,f,h,k):a.call(null,c,d,e,f,h,k);
l=D(m);var n=Va(m);if(7===b)return a.Sa?a.Sa(c,d,e,f,h,k,l):a.call(null,c,d,e,f,h,k,l);m=D(n);var p=Va(n);if(8===b)return a.Da?a.Da(c,d,e,f,h,k,l,m):a.call(null,c,d,e,f,h,k,l,m);n=D(p);var q=Va(p);if(9===b)return a.Ta?a.Ta(c,d,e,f,h,k,l,m,n):a.call(null,c,d,e,f,h,k,l,m,n);p=D(q);var r=Va(q);if(10===b)return a.Ga?a.Ga(c,d,e,f,h,k,l,m,n,p):a.call(null,c,d,e,f,h,k,l,m,n,p);q=D(r);var w=Va(r);if(11===b)return a.Ha?a.Ha(c,d,e,f,h,k,l,m,n,p,q):a.call(null,c,d,e,f,h,k,l,m,n,p,q);r=D(w);var z=Va(w);if(12===
b)return a.Ia?a.Ia(c,d,e,f,h,k,l,m,n,p,q,r):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r);w=D(z);var C=Va(z);if(13===b)return a.Ja?a.Ja(c,d,e,f,h,k,l,m,n,p,q,r,w):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w);z=D(C);var E=Va(C);if(14===b)return a.Ka?a.Ka(c,d,e,f,h,k,l,m,n,p,q,r,w,z):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z);C=D(E);var M=Va(E);if(15===b)return a.La?a.La(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C);E=D(M);var T=Va(M);if(16===b)return a.Ma?a.Ma(c,d,e,f,h,k,l,m,n,p,q,r,w,
z,C,E):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E);M=D(T);var da=Va(T);if(17===b)return a.Na?a.Na(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M);T=D(da);var qa=Va(da);if(18===b)return a.Oa?a.Oa(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T);da=D(qa);qa=Va(qa);if(19===b)return a.Pa?a.Pa(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da);var Zc=D(qa);Va(qa);if(20===b)return a.Qa?a.Qa(c,
d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da,Zc):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da,Zc);throw Error("Only up to 20 arguments supported on functions");}function Jd(a){return null!=a&&(a.I&128||u===a.Kb)?a.za():J(kc(a))}function Kd(a,b,c){return null==c?a.j?a.j(b):a.call(a,b):Ld(a,b,D(c),Jd(c))}function Ld(a,b,c,d){return null==d?a.B?a.B(b,c):a.call(a,b,c):Md(a,b,c,D(d),Jd(d))}function Md(a,b,c,d,e){return null==e?a.G?a.G(b,c,d):a.call(a,b,c,d):Nd(a,b,c,d,D(e),Jd(e))}
function Nd(a,b,c,d,e,f){if(null==f)return a.ba?a.ba(b,c,d,e):a.call(a,b,c,d,e);var h=D(f),k=O(f);if(null==k)return a.ea?a.ea(b,c,d,e,h):a.call(a,b,c,d,e,h);f=D(k);var l=O(k);if(null==l)return a.Ra?a.Ra(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=D(l);var m=O(l);if(null==m)return a.Sa?a.Sa(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);l=D(m);var n=O(m);if(null==n)return a.Da?a.Da(b,c,d,e,h,f,k,l):a.call(a,b,c,d,e,h,f,k,l);m=D(n);var p=O(n);if(null==p)return a.Ta?a.Ta(b,c,d,e,h,f,k,l,m):a.call(a,b,c,d,e,h,f,k,l,
m);n=D(p);var q=O(p);if(null==q)return a.Ga?a.Ga(b,c,d,e,h,f,k,l,m,n):a.call(a,b,c,d,e,h,f,k,l,m,n);p=D(q);var r=O(q);if(null==r)return a.Ha?a.Ha(b,c,d,e,h,f,k,l,m,n,p):a.call(a,b,c,d,e,h,f,k,l,m,n,p);q=D(r);var w=O(r);if(null==w)return a.Ia?a.Ia(b,c,d,e,h,f,k,l,m,n,p,q):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q);r=D(w);var z=O(w);if(null==z)return a.Ja?a.Ja(b,c,d,e,h,f,k,l,m,n,p,q,r):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r);w=D(z);var C=O(z);if(null==C)return a.Ka?a.Ka(b,c,d,e,h,f,k,l,m,n,p,q,r,w):a.call(a,b,
c,d,e,h,f,k,l,m,n,p,q,r,w);z=D(C);var E=O(C);if(null==E)return a.La?a.La(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z);C=D(E);var M=O(E);if(null==M)return a.Ma?a.Ma(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C);E=D(M);var T=O(M);if(null==T)return a.Na?a.Na(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E);M=D(T);var da=O(T);if(null==da)return a.Oa?a.Oa(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M):a.call(a,b,c,d,e,h,f,k,l,m,
n,p,q,r,w,z,C,E,M);T=D(da);var qa=O(da);if(null==qa)return a.Pa?a.Pa(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T);da=D(qa);qa=O(qa);if(null==qa)return a.Qa?a.Qa(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da);b=[b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da];for(c=qa;;)if(c)b.push(D(c)),c=O(c);else break;return a.apply(a,b)}
function Rc(a){switch(arguments.length){case 2:return Od(arguments[0],arguments[1]);case 3:return Pd(arguments[0],arguments[1],arguments[2]);case 4:var b=arguments[0];var c=arguments[1],d=arguments[2],e=arguments[3];b.fa?(c=U(c,U(d,e)),d=b.da,e=2+Gd(d-1,e),b=e<=d?Id(b,e,c):b.fa(c)):b=Ld(b,c,d,J(e));return b;case 5:return Qd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:b=[];e=arguments.length;for(c=0;;)if(c<e)b.push(arguments[c]),c+=1;else break;b=new K(b.slice(5),0,null);
return Rd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}function Od(a,b){if(a.fa){var c=a.da,d=Gd(c+1,b);return d<=c?Id(a,d,b):a.fa(b)}b=J(b);return null==b?a.Y?a.Y():a.call(a):Kd(a,D(b),Jd(b))}function Pd(a,b,c){if(a.fa){b=U(b,c);var d=a.da;c=Gd(d,c)+1;return c<=d?Id(a,c,b):a.fa(b)}return Kd(a,b,J(c))}function Qd(a,b,c,d,e){return a.fa?(b=U(b,U(c,U(d,e))),c=a.da,e=3+Gd(c-2,e),e<=c?Id(a,e,b):a.fa(b)):Md(a,b,c,d,J(e))}
function Rd(a,b,c,d,e,f){return a.fa?(f=Hd(f),b=U(b,U(c,U(d,U(e,f)))),c=a.da,f=4+Gd(c-3,f),f<=c?Id(a,f,b):a.fa(b)):Nd(a,b,c,d,e,Hd(f))}function Sd(a){if(null!=a&&(a.I&64||u===a.yb))if(O(a)){a:{var b=[];for(a=J(a);;)if(null!=a)b.push(N(a)),a=O(a);else break a}b=Nc(b)}else b=J(a)?N(a):Td;else b=a;return b}
function Ud(){if("undefined"===typeof ra||"undefined"===typeof sa||"undefined"===typeof ta)ta=function(a){this.ld=a;this.I=393216;this.$=0},ta.prototype.oa=function(a,b){return new ta(b)},ta.prototype.la=function(){return this.ld},ta.prototype.ta=function(){return!1},ta.prototype.next=function(){return Error("No such element")},ta.prototype.remove=function(){return Error("Unsupported operation")},ta.Mb=!0,ta.rb="cljs.core/t_cljs$core20121",ta.Yb=function(a){return G(a,"cljs.core/t_cljs$core20121")};
return new ta(Td)}var Vd={},Wd={};function Xd(a){this.Gb=Vd;this._next=a}Xd.prototype.ta=function(){this.Gb===Vd?(this.Gb=Wd,this._next=J(this._next)):this.Gb===this._next&&(this._next=O(this.Gb));return null!=this._next};Xd.prototype.next=function(){if(this.ta())return this.Gb=this._next,N(this._next);throw Error("No such element");};Xd.prototype.remove=function(){return Error("Unsupported operation")};
function Yd(a,b){for(;;){if(null==J(b))return!0;var c=N(b);c=a.j?a.j(c):a.call(null,c);if(x(c))b=O(b);else return!1}}function Zd(a){for(var b=pd;;)if(a=J(a)){var c=N(a);c=b.j?b.j(c):b.call(null,c);if(x(c))return c;a=O(a)}else return null}
function $d(a,b){return new zd(null,function(){var c=J(b);if(c){if(cd(c)){for(var d=Mb(c),e=R(d),f=new Bd(Array(e)),h=0;;)if(h<e){var k=function(){var l=Sa(d,h);return a.j?a.j(l):a.call(null,l)}();null!=k&&f.add(k);h+=1}else break;return Ed(f.eb(),$d(a,Nb(c)))}e=function(){var l=N(c);return a.j?a.j(l):a.call(null,l)}();return null==e?$d(a,kc(c)):U(e,$d(a,kc(c)))}return null},null)}function ae(a){this.state=a;this.ya=this.validator=this.K=null;this.$=16386;this.I=6455296}g=ae.prototype;
g.ja=function(a,b){return this===b};g.jb=function(){return this.state};g.la=function(){return this.K};g.sc=function(a,b){for(var c=J(this.ya),d=null,e=0,f=0;;)if(f<e){var h=d.ia(null,f),k=V(h,0,null);h=V(h,1,null);h.ba?h.ba(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=J(c))cd(c)?(d=Mb(c),c=Nb(c),k=d,e=R(d),d=k):(d=N(c),k=V(d,0,null),h=V(d,1,null),h.ba?h.ba(k,this,a,b):h.call(null,k,this,a,b),c=O(c),d=null,e=0),f=0;else break};g.Wb=function(a,b,c){this.ya=W.G(this.ya,b,c);return this};
g.Xb=function(a,b){return this.ya=Oc.B(this.ya,b)};g.ka=function(){return ba(this)};function be(a,b){if(a instanceof ae){var c=a.validator;if(null!=c&&!x(c.j?c.j(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.ya&&a.sc(c,b);return b}return Qb(a,b)}
var ce=function ce(a){switch(arguments.length){case 2:return ce.B(arguments[0],arguments[1]);case 3:return ce.G(arguments[0],arguments[1],arguments[2]);case 4:return ce.ba(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return ce.P(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
ce.B=function(a,b){if(a instanceof ae){var c=a.state;b=b.j?b.j(c):b.call(null,c);a=be(a,b)}else a=Rb(a,b);return a};ce.G=function(a,b,c){if(a instanceof ae){var d=a.state;b=b.B?b.B(d,c):b.call(null,d,c);a=be(a,b)}else a=Rb(a,b,c);return a};ce.ba=function(a,b,c,d){if(a instanceof ae){var e=a.state;b=b.G?b.G(e,c,d):b.call(null,e,c,d);a=be(a,b)}else a=Rb(a,b,c,d);return a};ce.P=function(a,b,c,d,e){return a instanceof ae?be(a,Qd(b,a.state,c,d,e)):Rb(a,b,c,d,e)};
ce.fa=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);var e=O(d);d=N(e);e=O(e);return this.P(b,a,c,d,e)};ce.da=4;
var de=function de(a){switch(arguments.length){case 1:return de.j(arguments[0]);case 2:return de.B(arguments[0],arguments[1]);case 3:return de.G(arguments[0],arguments[1],arguments[2]);case 4:return de.ba(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return de.P(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
de.j=function(a){return function(b){return function(){function c(k,l){l=a.j?a.j(l):a.call(null,l);return b.B?b.B(k,l):b.call(null,k,l)}function d(k){return b.j?b.j(k):b.call(null,k)}function e(){return b.Y?b.Y():b.call(null)}var f=null,h=function(){function k(m,n,p){var q=null;if(2<arguments.length){q=0;for(var r=Array(arguments.length-2);q<r.length;)r[q]=arguments[q+2],++q;q=new K(r,0,null)}return l.call(this,m,n,q)}function l(m,n,p){n=Pd(a,n,p);return b.B?b.B(m,n):b.call(null,m,n)}k.da=2;k.fa=function(m){var n=
N(m);m=O(m);var p=N(m);m=kc(m);return l(n,p,m)};k.P=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new K(p,0,null)}return h.P(k,l,n)}throw Error("Invalid arity: "+arguments.length);};f.da=2;f.fa=h.fa;f.Y=e;f.j=d;f.B=c;f.P=h.P;return f}()}};
de.B=function(a,b){return new zd(null,function(){var c=J(b);if(c){if(cd(c)){for(var d=Mb(c),e=R(d),f=new Bd(Array(e)),h=0;;)if(h<e)Fd(f,function(){var k=Sa(d,h);return a.j?a.j(k):a.call(null,k)}()),h+=1;else break;return Ed(f.eb(),de.B(a,Nb(c)))}return U(function(){var k=N(c);return a.j?a.j(k):a.call(null,k)}(),de.B(a,kc(c)))}return null},null)};
de.G=function(a,b,c){return new zd(null,function(){var d=J(b),e=J(c);if(d&&e){var f=N(d);var h=N(e);f=a.B?a.B(f,h):a.call(null,f,h);d=U(f,de.G(a,kc(d),kc(e)))}else d=null;return d},null)};de.ba=function(a,b,c,d){return new zd(null,function(){var e=J(b),f=J(c),h=J(d);if(e&&f&&h){var k=N(e);var l=N(f),m=N(h);k=a.G?a.G(k,l,m):a.call(null,k,l,m);e=U(k,de.ba(a,kc(e),kc(f),kc(h)))}else e=null;return e},null)};
de.P=function(a,b,c,d,e){return de.B(function(f){return Od(a,f)},function k(h){return new zd(null,function(){var l=de.B(J,h);return Yd(pd,l)?U(de.B(N,l),k(de.B(kc,l))):null},null)}(Jc.P(e,d,Ic([c,b]))))};de.fa=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);var e=O(d);d=N(e);e=O(e);return this.P(b,a,c,d,e)};de.da=4;function ee(a,b){return new zd(null,function(){if(0<a){var c=J(b);return c?U(N(c),ee(a-1,kc(c))):null}return null},null)}
function fe(a,b){return new zd(null,function(){a:for(var c=a,d=b;;)if(d=J(d),0<c&&d)--c,d=kc(d);else break a;return d},null)}function ge(a){return de.G(function(b){return b},a,fe(2,a))}function he(a,b,c,d){this.K=a;this.count=b;this.aa=c;this.next=d;this.R=null;this.I=32374988;this.$=1}g=he.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.la=function(){return this.K};g.za=function(){return null==this.next?1<this.count?this.next=new he(null,this.count-1,this.aa,null):-1===this.count?this:null:this.next};
g.ka=function(){var a=this.R;return null!=a?a:this.R=a=pc(this)};g.ja=function(a,b){return Hc(this,b)};g.qa=function(){return lc};g.ua=function(a,b){if(-1===this.count)for(var c=b.B?b.B(this.aa,this.aa):b.call(null,this.aa,this.aa);;){if(vc(c))return F(c);c=b.B?b.B(c,this.aa):b.call(null,c,this.aa)}else for(a=1,c=this.aa;;)if(a<this.count){c=b.B?b.B(c,this.aa):b.call(null,c,this.aa);if(vc(c))return F(c);a+=1}else return c};
g.va=function(a,b,c){if(-1===this.count)for(c=b.B?b.B(c,this.aa):b.call(null,c,this.aa);;){if(vc(c))return F(c);c=b.B?b.B(c,this.aa):b.call(null,c,this.aa)}else for(a=0;;)if(a<this.count){c=b.B?b.B(c,this.aa):b.call(null,c,this.aa);if(vc(c))return F(c);a+=1}else return c};g.Aa=function(){return this.aa};g.Ba=function(){return null==this.next?1<this.count?this.next=new he(null,this.count-1,this.aa,null):-1===this.count?this:lc:this.next};g.na=function(){return this};
g.oa=function(a,b){return b===this.K?this:new he(b,this.count,this.aa,this.next)};g.sa=function(a,b){return U(b,this)};var ie=function ie(a){switch(arguments.length){case 0:return ie.Y();case 1:return ie.j(arguments[0]);case 2:return ie.B(arguments[0],arguments[1]);case 3:return ie.G(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};ie.Y=function(){return Kc};ie.j=function(a){return a};
ie.B=function(a,b){return null!=a?null!=a&&(a.$&4||u===a.Vc)?pb(Jb(Ga(Ib,Hb(a),b)),Tc(a)):Ga(Qa,a,b):Ga(Jc,a,b)};ie.G=function(a,b,c){if(null!=a&&(a.$&4||u===a.Vc)){var d=Tc(a);return qd(b,function(){function e(h){return pb(Jb(h),d)}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return Ib(h,k)}throw Error("Invalid arity: "+arguments.length);};f.j=e;f.B=function(h,k){return Ib(h,k)};return f}(),Hb(a),c)}return qd(b,Jc,a,c)};ie.da=3;
function je(a,b,c){var d=W.G,e=H.B(a,b);c=c.j?c.j(e):c.call(null,e);return d.call(W,a,b,c)}function ke(a,b,c,d){var e=W.G,f=H.B(a,b);c=c.B?c.B(f,d):c.call(null,f,d);return e.call(W,a,b,c)}function le(a,b){this.ha=a;this.F=b}function me(a){return new le(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function ne(a){return new le(a.ha,Ea(a.F))}
function oe(a){a=a.J;return 32>a?0:a-1>>>5<<5}function pe(a,b,c){for(;;){if(0===b)return c;var d=me(a);d.F[0]=c;c=d;b-=5}}var qe=function qe(a,b,c,d){var f=ne(c),h=a.J-1>>>b&31;5===b?f.F[h]=d:(c=c.F[h],null!=c?(b-=5,a=qe.ba?qe.ba(a,b,c,d):qe.call(null,a,b,c,d)):a=pe(null,b-5,d),f.F[h]=a);return f};function re(a,b){throw Error(["No item ",B.j(a)," in vector of length ",B.j(b)].join(""));}
function se(a,b){if(b>=oe(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.F[b>>>a&31];a=d}else return c.F}function te(a,b){return 0<=b&&b<a.J?se(a,b):re(b,a.J)}
var ue=function ue(a,b,c,d,e){var h=ne(c);if(0===b)h.F[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.F[k];a=ue.ea?ue.ea(a,b,c,d,e):ue.call(null,a,b,c,d,e);h.F[k]=a}return h},ve=function ve(a,b,c){var e=a.J-2>>>b&31;if(5<b){b-=5;var f=c.F[e];a=ve.G?ve.G(a,b,f):ve.call(null,a,b,f);if(null==a&&0===e)return null;c=ne(c);c.F[e]=a;return c}if(0===e)return null;c=ne(c);c.F[e]=null;return c};function we(a,b,c,d,e,f){this.i=a;this.base=b;this.F=c;this.v=d;this.start=e;this.end=f}
we.prototype.ta=function(){return this.i<this.end};we.prototype.next=function(){32===this.i-this.base&&(this.F=se(this.v,this.i),this.base+=32);var a=this.F[this.i&31];this.i+=1;return a};function xe(a,b,c){return new we(b,b-b%32,b<R(a)?se(a,b):null,a,b,c)}function ye(a,b,c,d){return c<d?ze(a,b,Ec(a,c),c+1,d):b.Y?b.Y():b.call(null)}
function ze(a,b,c,d,e){var f=c;c=d;for(d=se(a,d);;)if(c<e){var h=c&31;d=0===h?se(a,c):d;h=d[h];f=b.B?b.B(f,h):b.call(null,f,h);if(vc(f))return F(f);c+=1}else return f}function Y(a,b,c,d,e,f){this.K=a;this.J=b;this.shift=c;this.root=d;this.tail=e;this.R=f;this.I=167666463;this.$=139268}g=Y.prototype;g.xb=function(a,b){return 0<=b&&b<this.J?new Ae(b,se(this,b)[b&31]):null};g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.Ca=function(a,b){return this.ga(null,b,null)};g.ga=function(a,b,c){return"number"===typeof b?this.Ea(null,b,c):c};
g.Hb=function(a,b,c){a=0;for(var d=c;;)if(a<this.J){var e=se(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.G?b.G(d,h,k):b.call(null,d,h,k);if(vc(d)){e=d;break a}f+=1}else{e=d;break a}if(vc(e))return F(e);a+=c;d=e}else return d};g.kc=u;g.ia=function(a,b){return te(this,b)[b&31]};g.Ea=function(a,b,c){return 0<=b&&b<this.J?se(this,b)[b&31]:c};
g.qb=function(a,b,c){if(0<=b&&b<this.J)return oe(this)<=b?(a=Ea(this.tail),a[b&31]=c,new Y(this.K,this.J,this.shift,this.root,a,null)):new Y(this.K,this.J,this.shift,ue(this,this.shift,this.root,b,c),this.tail,null);if(b===this.J)return this.sa(null,c);throw Error(["Index ",B.j(b)," out of bounds  [0,",B.j(this.J),"]"].join(""));};g.Ua=function(){return xe(this,0,this.J)};g.la=function(){return this.K};g.pa=function(){return this.J};g.zb=function(){return 0<this.J?this.ia(null,this.J-1):null};
g.Ab=function(){if(0===this.J)throw Error("Can't pop empty vector");if(1===this.J)return pb(Kc,this.K);if(1<this.J-oe(this))return new Y(this.K,this.J-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=se(this,this.J-2),b=ve(this,this.shift,this.root);b=null==b?Z:b;var c=this.J-1;return 5<this.shift&&null==b.F[1]?new Y(this.K,c,this.shift-5,b.F[0],a,null):new Y(this.K,c,this.shift,b,a,null)};g.ka=function(){var a=this.R;return null!=a?a:this.R=a=pc(this)};
g.ja=function(a,b){if(b instanceof Y)if(this.J===R(b))for(a=this.Ua(null),b=b.Ua(null);;)if(a.ta()){var c=a.next(),d=b.next();if(!P.B(c,d))return!1}else return!0;else return!1;else return Hc(this,b)};g.wb=function(){return new Be(this.J,this.shift,Ce.j?Ce.j(this.root):Ce.call(null,this.root),De.j?De.j(this.tail):De.call(null,this.tail))};g.qa=function(){return pb(Kc,this.K)};g.ua=function(a,b){return ye(this,b,0,this.J)};
g.va=function(a,b,c){a=0;for(var d=c;;)if(a<this.J){var e=se(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.B?b.B(d,h):b.call(null,d,h);if(vc(d)){e=d;break a}f+=1}else{e=d;break a}if(vc(e))return F(e);a+=c;d=e}else return d};g.fb=function(a,b,c){if("number"===typeof b)return this.qb(null,b,c);throw Error("Vector's key for assoc must be a number.");};g.pb=function(a,b){return hd(b)?0<=b&&b<this.J:!1};
g.na=function(){if(0===this.J)return null;if(32>=this.J)return new K(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.F[0];else{a=a.F;break a}}return Ee?Ee(this,a,0,0):Fe.call(null,this,a,0,0)};g.oa=function(a,b){return b===this.K?this:new Y(b,this.J,this.shift,this.root,this.tail,this.R)};
g.sa=function(a,b){if(32>this.J-oe(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new Y(this.K,this.J+1,this.shift,this.root,c,null)}a=(c=this.J>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=me(null),c.F[0]=this.root,d=pe(null,this.shift,new le(null,this.tail)),c.F[1]=d):c=qe(this,this.shift,this.root,new le(null,this.tail));return new Y(this.K,this.J+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){if("number"===typeof a)return this.ia(null,a);throw Error("Key must be integer");};
var Z=new le(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Kc=new Y(null,0,5,Z,[],qc);function Ge(a,b){var c=a.length;a=b?a:Ea(a);if(32>c)return new Y(null,c,5,Z,a,null);var d=a.slice(0,32);b=32;for(var e=(new Y(null,32,5,Z,d,null)).wb(null);;)if(b<c)d=b+1,e=Ib(e,a[b]),b=d;else return Jb(e)}Y.prototype[Da]=function(){return nc(this)};
function He(a){return x(Ie.j?Ie.j(a):Ie.call(null,a))?new Y(null,2,5,Z,[Je.j?Je.j(a):Je.call(null,a),Ke.j?Ke.j(a):Ke.call(null,a)],null):bd(a)?Sc(a,null):Ba(a)?Ge(a,!0):Jb(Ga(Ib,Hb(Kc),a))}var Le=function Le(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return Le.P(c)};Le.P=function(a){return a instanceof K&&0===a.i?Ge(a.F,!Ba(a.F)):He(a)};Le.da=0;Le.fa=function(a){return this.P(J(a))};
function Me(a,b,c,d,e){this.Fa=a;this.node=b;this.i=c;this.off=d;this.K=e;this.R=null;this.I=32375020;this.$=1536}g=Me.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.la=function(){return this.K};g.za=function(){if(this.off+1<this.node.length){var a=this.Fa;var b=this.node,c=this.i,d=this.off+1;a=Ee?Ee(a,b,c,d):Fe.call(null,a,b,c,d);return null==a?null:a}return this.zc()};
g.ka=function(){var a=this.R;return null!=a?a:this.R=a=pc(this)};g.ja=function(a,b){return Hc(this,b)};g.qa=function(){return lc};g.ua=function(a,b){return ye(this.Fa,b,this.i+this.off,R(this.Fa))};g.va=function(a,b,c){return ze(this.Fa,b,c,this.i+this.off,R(this.Fa))};g.Aa=function(){return this.node[this.off]};g.Ba=function(){if(this.off+1<this.node.length){var a=this.Fa;var b=this.node,c=this.i,d=this.off+1;a=Ee?Ee(a,b,c,d):Fe.call(null,a,b,c,d);return null==a?lc:a}return this.Vb(null)};g.na=function(){return this};
g.lc=function(){var a=this.node;return new Cd(a,this.off,a.length)};g.Vb=function(){var a=this.i+this.node.length;if(a<Ma(this.Fa)){var b=this.Fa,c=se(this.Fa,a);return Ee?Ee(b,c,a,0):Fe.call(null,b,c,a,0)}return lc};g.oa=function(a,b){return b===this.K?this:Ne?Ne(this.Fa,this.node,this.i,this.off,b):Fe.call(null,this.Fa,this.node,this.i,this.off,b)};g.sa=function(a,b){return U(b,this)};
g.zc=function(){var a=this.i+this.node.length;if(a<Ma(this.Fa)){var b=this.Fa,c=se(this.Fa,a);return Ee?Ee(b,c,a,0):Fe.call(null,b,c,a,0)}return null};Me.prototype[Da]=function(){return nc(this)};
function Fe(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Me(b,te(b,c),c,d,null);case 4:return Ee(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ne(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function Ee(a,b,c,d){return new Me(a,b,c,d,null)}function Ne(a,b,c,d,e){return new Me(a,b,c,d,e)}
function Oe(a,b,c,d,e){this.K=a;this.v=b;this.start=c;this.end=d;this.R=e;this.I=167666463;this.$=139264}g=Oe.prototype;g.xb=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new Ae(b,Ya(this.v,a)):null};g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.Ca=function(a,b){return this.ga(null,b,null)};g.ga=function(a,b,c){return"number"===typeof b?this.Ea(null,b,c):c};
g.Hb=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=Sa(this.v,a);c=b.G?b.G(c,e,f):b.call(null,c,e,f);if(vc(c))return F(c);d+=1;a+=1}else return c};g.ia=function(a,b){return 0>b||this.end<=this.start+b?re(b,this.end-this.start):Sa(this.v,this.start+b)};g.Ea=function(a,b,c){return 0>b||this.end<=this.start+b?c:Sa(this.v,this.start+b,c)};
g.qb=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",B.j(b)," out of bounds [0,",B.j(this.pa(null)),"]"].join(""));b=this.K;c=W.G(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return Pe.ea?Pe.ea(b,c,d,a,null):Pe.call(null,b,c,d,a,null)};g.Ua=function(){return null!=this.v&&u===this.v.kc?xe(this.v,this.start,this.end):new Xd(this)};g.la=function(){return this.K};g.pa=function(){return this.end-this.start};
g.zb=function(){return this.start===this.end?null:Sa(this.v,this.end-1)};g.Ab=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.K,b=this.v,c=this.start,d=this.end-1;return Pe.ea?Pe.ea(a,b,c,d,null):Pe.call(null,a,b,c,d,null)};g.ka=function(){var a=this.R;return null!=a?a:this.R=a=pc(this)};g.ja=function(a,b){return Hc(this,b)};g.qa=function(){return pb(Kc,this.K)};g.ua=function(a,b){return null!=this.v&&u===this.v.kc?ye(this.v,b,this.start,this.end):xc(this,b)};
g.va=function(a,b,c){return null!=this.v&&u===this.v.kc?ze(this.v,b,c,this.start,this.end):yc(this,b,c)};g.fb=function(a,b,c){if("number"===typeof b)return this.qb(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.pb=function(a,b){return hd(b)?0<=b&&b<this.end-this.start:!1};g.na=function(){var a=this;return function d(c){return c===a.end?null:U(Sa(a.v,c),new zd(null,function(){return d(c+1)},null))}(a.start)};
g.oa=function(a,b){return b===this.K?this:Pe.ea?Pe.ea(b,this.v,this.start,this.end,this.R):Pe.call(null,b,this.v,this.start,this.end,this.R)};g.sa=function(a,b){a=this.K;b=mb(this.v,this.end,b);var c=this.start,d=this.end+1;return Pe.ea?Pe.ea(a,b,c,d,null):Pe.call(null,a,b,c,d,null)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ia(null,a)};g.B=function(a,b){return this.Ea(null,a,b)};Oe.prototype[Da]=function(){return nc(this)};function Pe(a,b,c,d,e){for(;;)if(b instanceof Oe)c=b.start+c,d=b.start+d,b=b.v;else{if(!bd(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>R(b))throw Error("Index out of bounds");return new Oe(a,b,c,d,e)}}function Qe(a,b){return a===b.ha?b:new le(a,Ea(b.F))}
function Ce(a){return new le({},Ea(a.F))}function De(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];dd(a,0,b,0,a.length);return b}var Re=function Re(a,b,c,d){c=Qe(a.root.ha,c);var f=a.J-1>>>b&31;if(5===b)a=d;else{var h=c.F[f];null!=h?(b-=5,a=Re.ba?Re.ba(a,b,h,d):Re.call(null,a,b,h,d)):a=pe(a.root.ha,b-5,d)}c.F[f]=a;return c};
function Be(a,b,c,d){this.J=a;this.shift=b;this.root=c;this.tail=d;this.$=88;this.I=275}g=Be.prototype;
g.Cb=function(a,b){if(this.root.ha){if(32>this.J-oe(this))this.tail[this.J&31]=b;else{a=new le(this.root.ha,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.J>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=pe(this.root.ha,this.shift,a),this.root=new le(this.root.ha,b),this.shift=c):this.root=Re(this,this.shift,this.root,a)}this.J+=1;return this}throw Error("conj! after persistent!");};g.Lb=function(){if(this.root.ha){this.root.ha=null;var a=this.J-oe(this),b=Array(a);dd(this.tail,0,b,0,a);return new Y(null,this.J,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.Bb=function(a,b,c){if("number"===typeof b)return Se(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Se(a,b,c){if(a.root.ha){if(0<=b&&b<a.J){if(oe(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=Qe(a.root.ha,h);if(0===f)h.F[b&31]=c;else{var l=b>>>f&31;f=k(f-5,h.F[l]);h.F[l]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.J)return a.Cb(null,c);throw Error(["Index ",B.j(b)," out of bounds for TransientVector of length",B.j(a.J)].join(""));}throw Error("assoc! after persistent!");}g.pa=function(){if(this.root.ha)return this.J;throw Error("count after persistent!");};
g.ia=function(a,b){if(this.root.ha)return te(this,b)[b&31];throw Error("nth after persistent!");};g.Ea=function(a,b,c){return 0<=b&&b<this.J?this.ia(null,b):c};g.Ca=function(a,b){return this.ga(null,b,null)};g.ga=function(a,b,c){if(this.root.ha)return"number"===typeof b?this.Ea(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.Ca(null,a)};g.B=function(a,b){return this.ga(null,a,b)};function Te(){this.I=2097152;this.$=0}Te.prototype.ja=function(){return!1};var Ue=new Te;
function Ve(a,b){return fd($c(b)&&!ad(b)?R(a)===R(b)?(null!=a?a.I&1048576||u===a.zd||(a.I?0:y(tb,a)):y(tb,a))?od(function(c,d,e){return P.B(H.G(b,d,Ue),e)?!0:new uc},!0,a):Yd(function(c){return P.B(H.G(b,N(c),Ue),N(O(c)))},a):null:null)}function We(a){this.s=a}We.prototype.next=function(){if(null!=this.s){var a=N(this.s),b=V(a,0,null);a=V(a,1,null);this.s=O(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Xe(a){this.s=a}
Xe.prototype.next=function(){if(null!=this.s){var a=N(this.s);this.s=O(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Ye(a,b){if(b instanceof I)a:{var c=a.length;b=b.Va;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof I&&b===a[d].Va){a=d;break a}d+=2}}else if("string"===typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof gc)a:for(c=a.length,b=b.nb,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof gc&&b===a[d].nb){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(P.B(b,a[d])){a=d;break a}d+=2}return a}function Ae(a,b){this.key=a;this.aa=b;this.R=null;this.I=166619935;this.$=0}g=Ae.prototype;g.xb=function(a,b){switch(b){case 0:return new Ae(0,this.key);case 1:return new Ae(1,this.aa);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.Ca=function(a,b){return this.Ea(null,b,null)};g.ga=function(a,b,c){return this.Ea(null,b,c)};g.ia=function(a,b){if(0===b)return this.key;if(1===b)return this.aa;throw Error("Index out of bounds");};
g.Ea=function(a,b,c){return 0===b?this.key:1===b?this.aa:c};g.qb=function(a,b,c){return(new Y(null,2,5,Z,[this.key,this.aa],null)).qb(null,b,c)};g.la=function(){return null};g.pa=function(){return 2};g.ad=function(){return this.key};g.bd=function(){return this.aa};g.zb=function(){return this.aa};g.Ab=function(){return new Y(null,1,5,Z,[this.key],null)};g.ka=function(){var a=this.R;return null!=a?a:this.R=a=pc(this)};g.ja=function(a,b){return Hc(this,b)};g.qa=function(){return null};
g.ua=function(a,b){return xc(this,b)};g.va=function(a,b,c){return yc(this,b,c)};g.fb=function(a,b,c){return W.G(new Y(null,2,5,Z,[this.key,this.aa],null),b,c)};g.pb=function(a,b){return 0===b||1===b};g.na=function(){return new K([this.key,this.aa],0,null)};g.oa=function(a,b){return Sc(new Y(null,2,5,Z,[this.key,this.aa],null),b)};g.sa=function(a,b){return new Y(null,3,5,Z,[this.key,this.aa,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ia(null,a)};g.B=function(a,b){return this.Ea(null,a,b)};function Ie(a){return null!=a?a.I&2048||u===a.Cd?!0:!1:!1}function Ze(a,b,c){this.F=a;this.i=b;this.bb=c;this.I=32374990;this.$=0}g=Ze.prototype;
g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.la=function(){return this.bb};g.za=function(){return this.i<this.F.length-2?new Ze(this.F,this.i+2,null):null};g.pa=function(){return(this.F.length-this.i)/2};g.ka=function(){return pc(this)};
g.ja=function(a,b){return Hc(this,b)};g.qa=function(){return lc};g.ua=function(a,b){return jd(b,this)};g.va=function(a,b,c){return kd(b,c,this)};g.Aa=function(){return new Ae(this.F[this.i],this.F[this.i+1])};g.Ba=function(){return this.i<this.F.length-2?new Ze(this.F,this.i+2,null):lc};g.na=function(){return this};g.oa=function(a,b){return b===this.bb?this:new Ze(this.F,this.i,b)};g.sa=function(a,b){return U(b,this)};Ze.prototype[Da]=function(){return nc(this)};
function $e(a,b){this.F=a;this.i=0;this.J=b}$e.prototype.ta=function(){return this.i<this.J};$e.prototype.next=function(){var a=new Ae(this.F[this.i],this.F[this.i+1]);this.i+=2;return a};function v(a,b,c,d){this.K=a;this.J=b;this.F=c;this.R=d;this.I=16647951;this.$=139268}g=v.prototype;g.xb=function(a,b){a=Ye(this.F,b);return-1===a?null:new Ae(this.F[a],this.F[a+1])};g.toString=function(){return Wb(this)};g.keys=function(){return nc(af.j?af.j(this):af.call(null,this))};g.entries=function(){return new We(J(J(this)))};
g.values=function(){return nc(bf.j?bf.j(this):bf.call(null,this))};g.has=function(a){return id(this,a)};g.get=function(a,b){return this.ga(null,a,b)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ia(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.Ca=function(a,b){return this.ga(null,b,null)};
g.ga=function(a,b,c){a=Ye(this.F,b);return-1===a?c:this.F[a+1]};g.Hb=function(a,b,c){a=this.F.length;for(var d=0;;)if(d<a){var e=this.F[d],f=this.F[d+1];c=b.G?b.G(c,e,f):b.call(null,c,e,f);if(vc(c))return F(c);d+=2}else return c};g.Ua=function(){return new $e(this.F,2*this.J)};g.la=function(){return this.K};g.pa=function(){return this.J};g.ka=function(){var a=this.R;return null!=a?a:this.R=a=rc(this)};
g.ja=function(a,b){if($c(b)&&!ad(b))if(a=this.F.length,this.J===b.pa(null))for(var c=0;;)if(c<a){var d=b.ga(null,this.F[c],ed);if(d!==ed)if(P.B(this.F[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.wb=function(){return new cf(this.F.length,Ea(this.F))};g.qa=function(){return pb(Td,this.K)};g.ua=function(a,b){return ld(this,b)};g.va=function(a,b,c){return md(this,b,c)};
g.nc=function(a,b){if(0<=Ye(this.F,b)){a=this.F.length;var c=a-2;if(0===c)return this.qa(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new v(this.K,this.J-1,c,null);P.B(b,this.F[d])?d+=2:(c[e]=this.F[d],c[e+1]=this.F[d+1],e+=2,d+=2)}}else return this};
g.fb=function(a,b,c){a=Ye(this.F,b);if(-1===a){if(this.J<df){a=this.F;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new v(this.K,this.J+1,e,null)}return pb(bb(ie.B(ef,this),b,c),this.K)}if(c===this.F[a+1])return this;b=Ea(this.F);b[a+1]=c;return new v(this.K,this.J,b,null)};g.pb=function(a,b){return-1!==Ye(this.F,b)};g.na=function(){var a=this.F;return 0<=a.length-2?new Ze(a,0,null):null};
g.oa=function(a,b){return b===this.K?this:new v(b,this.J,this.F,this.R)};g.sa=function(a,b){if(bd(b))return this.fb(null,Sa(b,0),Sa(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=N(b);if(bd(c))a=bb(a,Sa(c,0),Sa(c,1)),b=O(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.Ca(null,a)};g.B=function(a,b){return this.ga(null,a,b)};var Td=new v(null,0,[],sc),df=8;function ff(a,b){return a===b?!0:a===b||a instanceof I&&b instanceof I&&a.Va===b.Va?!0:P.B(a,b)}
function gf(a){for(var b=0,c=0;;)if(b<a.length){var d;a:for(d=0;;)if(d<b){var e=ff(a[b],a[d]);if(e){d=e;break a}d=2+d}else{d=!1;break a}c=d?c:c+2;b=2+b}else return c}function hf(a,b){var c=a.length-1,d=J(b);b=Array(c+2*R(d));a=dd(a,0,b,0,c);for(b=c;;)if(d){var e=N(d);a[b]=fb(e);a[b+1]=gb(e);b=2+c;d=O(d)}else return a}
function Nc(a){var b=a.length,c=1===(b&1),d;if(!(d=c))a:for(d=0;;)if(d<a.length){var e;b:for(e=0;;)if(e<d){var f=ff(a[d],a[e]);if(f){e=f;break b}e=2+e}else{e=!1;break b}if(e){d=e;break a}d=2+d}else{d=!1;break a}return d?jf(a,c):new v(null,b/2,a,null)}
function jf(a,b){var c=b?hf(a,ie.B(Td,a[a.length-1])):a;a=gf(c);var d=c.length;if(a<d){a=Array(a);for(var e=0,f=0;;)if(e<d)(function(){for(var h=0;;)if(h<f){var k=ff(c[e],c[h]);if(k)return k;h=2+h}else return!1})()?(b=f,e=2+e,f=b):(b=function(){for(var h=d-2;;)if(h>=e){if(ff(c[e],c[h]))return h;h-=2}else return h}(),a[f]=c[e],a[f+1]=c[b+1],b=2+f,e=2+e,f=b);else break;return new v(null,a.length/2,a,null)}return new v(null,c.length/2,c,null)}v.prototype[Da]=function(){return nc(this)};
function cf(a,b){this.Db={};this.tb=a;this.F=b;this.I=259;this.$=56}g=cf.prototype;g.pa=function(){if(this.Db)return td(this.tb);throw Error("count after persistent!");};g.Ca=function(a,b){return this.ga(null,b,null)};g.ga=function(a,b,c){if(this.Db)return a=Ye(this.F,b),-1===a?c:this.F[a+1];throw Error("lookup after persistent!");};
g.Cb=function(a,b){if(this.Db){if(Ie(b))return this.Bb(null,Je.j?Je.j(b):Je.call(null,b),Ke.j?Ke.j(b):Ke.call(null,b));if(bd(b))return this.Bb(null,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));a=J(b);for(b=this;;){var c=N(a);if(x(c))a=O(a),b=Kb(b,Je.j?Je.j(c):Je.call(null,c),Ke.j?Ke.j(c):Ke.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.Lb=function(){if(this.Db)return this.Db=!1,new v(null,td(this.tb),this.F,null);throw Error("persistent! called twice");};
g.Bb=function(a,b,c){if(this.Db){a=Ye(this.F,b);if(-1===a){if(this.tb+2<=2*df)return this.tb+=2,this.F.push(b),this.F.push(c),this;a=kf.B?kf.B(this.tb,this.F):kf.call(null,this.tb,this.F);return Kb(a,b,c)}c!==this.F[a+1]&&(this.F[a+1]=c);return this}throw Error("assoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ga(null,a,null)};g.B=function(a,b){return this.ga(null,a,b)};function kf(a,b){for(var c=Hb(ef),d=0;;)if(d<a)c=Kb(c,b[d],b[d+1]),d+=2;else return c}function lf(){this.aa=!1}function mf(a,b,c){a=Ea(a);a[b]=c;return a}function nf(a,b){var c=Array(a.length-2);dd(a,0,c,0,2*b);dd(a,2*(b+1),c,2*b,c.length-2*b);return c}function of(a,b,c,d){a=a.sb(b);a.F[c]=d;return a}
function pf(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.G?b.G(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Qb(b,f):f;if(vc(c))return c;e+=2;f=c}else return f}function qf(a){this.F=a;this.i=0;this.$a=this.Rb=null}qf.prototype.advance=function(){for(var a=this.F.length;;)if(this.i<a){var b=this.F[this.i],c=this.F[this.i+1];null!=b?b=this.Rb=new Ae(b,c):null!=c?(b=Ub(c),b=b.ta()?this.$a=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
qf.prototype.ta=function(){var a=null!=this.Rb;return a?a:(a=null!=this.$a)?a:this.advance()};qf.prototype.next=function(){if(null!=this.Rb){var a=this.Rb;this.Rb=null;return a}if(null!=this.$a)return a=this.$a.next(),this.$a.ta()||(this.$a=null),a;if(this.advance())return this.next();throw Error("No such element");};qf.prototype.remove=function(){return Error("Unsupported operation")};function rf(a,b,c){this.ha=a;this.bitmap=b;this.F=c;this.$=131072;this.I=0}g=rf.prototype;
g.sb=function(a){if(a===this.ha)return this;var b=ud(this.bitmap),c=Array(0>b?4:2*(b+1));dd(this.F,0,c,0,2*b);return new rf(a,this.bitmap,c)};g.Ob=function(){return sf?sf(this.F):tf.call(null,this.F)};g.Qb=function(a,b){return pf(this.F,a,b)};g.lb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ud(this.bitmap&e-1);e=this.F[2*f];f=this.F[2*f+1];return null==e?f.lb(a+5,b,c,d):ff(c,e)?f:d};
g.Ya=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=ud(this.bitmap&h-1);if(0===(this.bitmap&h)){var l=ud(this.bitmap);if(2*l<this.F.length){a=this.sb(a);b=a.F;f.aa=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=uf.Ya(a,b+5,c,d,e,f);for(e=d=0;;)if(32>
d)0===(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.F[e]?uf.Ya(a,b+5,ec(this.F[e]),this.F[e],this.F[e+1],f):this.F[e+1],e+=2,d+=1);else break;return new vf(a,l+1,k)}b=Array(2*(l+4));dd(this.F,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;dd(this.F,2*k,b,2*(k+1),2*(l-k));f.aa=!0;a=this.sb(a);a.F=b;a.bitmap|=h;return a}l=this.F[2*k];h=this.F[2*k+1];if(null==l)return l=h.Ya(a,b+5,c,d,e,f),l===h?this:of(this,a,2*k+1,l);if(ff(d,l))return e===h?this:of(this,a,2*k+1,e);f.aa=!0;f=b+5;d=wf?wf(a,f,l,h,c,d,e):xf.call(null,a,f,
l,h,c,d,e);e=2*k;k=2*k+1;a=this.sb(a);a.F[e]=null;a.F[k]=d;return a};
g.Xa=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=ud(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=ud(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=uf.Xa(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.F[d]?uf.Xa(a+5,ec(this.F[d]),this.F[d],this.F[d+1],e):this.F[d+1],d+=2,c+=1);else break;return new vf(null,k+1,h)}a=Array(2*
(k+1));dd(this.F,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;dd(this.F,2*h,a,2*(h+1),2*(k-h));e.aa=!0;return new rf(null,this.bitmap|f,a)}var l=this.F[2*h];f=this.F[2*h+1];if(null==l)return k=f.Xa(a+5,b,c,d,e),k===f?this:new rf(null,this.bitmap,mf(this.F,2*h+1,k));if(ff(c,l))return d===f?this:new rf(null,this.bitmap,mf(this.F,2*h+1,d));e.aa=!0;e=this.bitmap;k=this.F;a+=5;a=yf?yf(a,l,f,b,c,d):xf.call(null,a,l,f,b,c,d);c=2*h;h=2*h+1;d=Ea(k);d[c]=null;d[h]=a;return new rf(null,e,d)};
g.Nb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ud(this.bitmap&e-1);e=this.F[2*f];f=this.F[2*f+1];return null==e?f.Nb(a+5,b,c,d):ff(c,e)?new Ae(e,f):d};
g.Pb=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=ud(this.bitmap&d-1),f=this.F[2*e],h=this.F[2*e+1];return null==f?(a=h.Pb(a+5,b,c),a===h?this:null!=a?new rf(null,this.bitmap,mf(this.F,2*e+1,a)):this.bitmap===d?null:new rf(null,this.bitmap^d,nf(this.F,e))):ff(c,f)?this.bitmap===d?null:new rf(null,this.bitmap^d,nf(this.F,e)):this};g.Ua=function(){return new qf(this.F)};var uf=new rf(null,0,[]);function zf(a){this.F=a;this.i=0;this.$a=null}
zf.prototype.ta=function(){for(var a=this.F.length;;){if(null!=this.$a&&this.$a.ta())return!0;if(this.i<a){var b=this.F[this.i];this.i+=1;null!=b&&(this.$a=Ub(b))}else return!1}};zf.prototype.next=function(){if(this.ta())return this.$a.next();throw Error("No such element");};zf.prototype.remove=function(){return Error("Unsupported operation")};function vf(a,b,c){this.ha=a;this.J=b;this.F=c;this.$=131072;this.I=0}g=vf.prototype;g.sb=function(a){return a===this.ha?this:new vf(a,this.J,Ea(this.F))};
g.Ob=function(){return Af?Af(this.F):Bf.call(null,this.F)};g.Qb=function(a,b){for(var c=this.F.length,d=0;;)if(d<c){var e=this.F[d];if(null!=e){b=e.Qb(a,b);if(vc(b))return b;d+=1}else d+=1}else return b};g.lb=function(a,b,c,d){var e=this.F[b>>>a&31];return null!=e?e.lb(a+5,b,c,d):d};g.Ya=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.F[h];if(null==k)return a=of(this,a,h,uf.Ya(a,b+5,c,d,e,f)),a.J+=1,a;b=k.Ya(a,b+5,c,d,e,f);return b===k?this:of(this,a,h,b)};
g.Xa=function(a,b,c,d,e){var f=b>>>a&31,h=this.F[f];if(null==h)return new vf(null,this.J+1,mf(this.F,f,uf.Xa(a+5,b,c,d,e)));a=h.Xa(a+5,b,c,d,e);return a===h?this:new vf(null,this.J,mf(this.F,f,a))};g.Nb=function(a,b,c,d){var e=this.F[b>>>a&31];return null!=e?e.Nb(a+5,b,c,d):d};
g.Pb=function(a,b,c){var d=b>>>a&31,e=this.F[d];if(null!=e){a=e.Pb(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.J)a:{e=this.F;a=e.length;b=Array(2*(this.J-1));c=0;for(var f=1,h=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,h|=1<<c,c+=1):c+=1;else{d=new rf(null,h,b);break a}}else d=new vf(null,this.J-1,mf(this.F,d,a));else d=new vf(null,this.J,mf(this.F,d,a));return d}return this};g.Ua=function(){return new zf(this.F)};
function Cf(a,b,c){b*=2;for(var d=0;;)if(d<b){if(ff(c,a[d]))return d;d+=2}else return-1}function Df(a,b,c,d){this.ha=a;this.gb=b;this.J=c;this.F=d;this.$=131072;this.I=0}g=Df.prototype;g.sb=function(a){if(a===this.ha)return this;var b=Array(2*(this.J+1));dd(this.F,0,b,0,2*this.J);return new Df(a,this.gb,this.J,b)};g.Ob=function(){return sf?sf(this.F):tf.call(null,this.F)};g.Qb=function(a,b){return pf(this.F,a,b)};
g.lb=function(a,b,c,d){a=Cf(this.F,this.J,c);return 0>a?d:ff(c,this.F[a])?this.F[a+1]:d};
g.Ya=function(a,b,c,d,e,f){if(c===this.gb){b=Cf(this.F,this.J,d);if(-1===b){if(this.F.length>2*this.J)return b=2*this.J,c=2*this.J+1,a=this.sb(a),a.F[b]=d,a.F[c]=e,f.aa=!0,a.J+=1,a;c=this.F.length;b=Array(c+2);dd(this.F,0,b,0,c);b[c]=d;b[c+1]=e;f.aa=!0;d=this.J+1;a===this.ha?(this.F=b,this.J=d,a=this):a=new Df(this.ha,this.gb,d,b);return a}return this.F[b+1]===e?this:of(this,a,b+1,e)}return(new rf(a,1<<(this.gb>>>b&31),[null,this,null,null])).Ya(a,b,c,d,e,f)};
g.Xa=function(a,b,c,d,e){return b===this.gb?(a=Cf(this.F,this.J,c),-1===a?(a=2*this.J,b=Array(a+2),dd(this.F,0,b,0,a),b[a]=c,b[a+1]=d,e.aa=!0,new Df(null,this.gb,this.J+1,b)):P.B(this.F[a+1],d)?this:new Df(null,this.gb,this.J,mf(this.F,a+1,d))):(new rf(null,1<<(this.gb>>>a&31),[null,this])).Xa(a,b,c,d,e)};g.Nb=function(a,b,c,d){a=Cf(this.F,this.J,c);return 0>a?d:ff(c,this.F[a])?new Ae(this.F[a],this.F[a+1]):d};
g.Pb=function(a,b,c){a=Cf(this.F,this.J,c);return-1===a?this:1===this.J?null:new Df(null,this.gb,this.J-1,nf(this.F,td(a)))};g.Ua=function(){return new qf(this.F)};function xf(a){switch(arguments.length){case 6:return yf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return wf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}
function yf(a,b,c,d,e,f){var h=ec(b);if(h===d)return new Df(null,h,2,[b,c,e,f]);var k=new lf;return uf.Xa(a,h,b,c,k).Xa(a,d,e,f,k)}function wf(a,b,c,d,e,f,h){var k=ec(c);if(k===e)return new Df(null,k,2,[c,d,f,h]);var l=new lf;return uf.Ya(a,b,k,c,d,l).Ya(a,b,e,f,h,l)}function Ef(a,b,c,d,e){this.K=a;this.nodes=b;this.i=c;this.s=d;this.R=e;this.I=32374988;this.$=0}g=Ef.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.la=function(){return this.K};g.za=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return Ff?Ff(a,b,null):tf.call(null,a,b,null)}a=this.nodes;b=this.i;var c=O(this.s);return Ff?Ff(a,b,c):tf.call(null,a,b,c)};
g.ka=function(){var a=this.R;return null!=a?a:this.R=a=pc(this)};g.ja=function(a,b){return Hc(this,b)};g.qa=function(){return lc};g.ua=function(a,b){return jd(b,this)};g.va=function(a,b,c){return kd(b,c,this)};g.Aa=function(){return null==this.s?new Ae(this.nodes[this.i],this.nodes[this.i+1]):N(this.s)};
g.Ba=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return Ff?Ff(c,d,null):tf.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=O(a.s);return Ff?Ff(c,d,e):tf.call(null,c,d,e)}();return null!=b?b:lc};g.na=function(){return this};g.oa=function(a,b){return b===this.K?this:new Ef(b,this.nodes,this.i,this.s,this.R)};g.sa=function(a,b){return U(b,this)};Ef.prototype[Da]=function(){return nc(this)};
function tf(a){switch(arguments.length){case 1:return sf(arguments[0]);case 3:return Ff(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function sf(a){return Ff(a,0,null)}function Ff(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Ef(null,a,b,null,null);var d=a[b+1];if(x(d)&&(d=d.Ob(),x(d)))return new Ef(null,a,b+2,d,null);b+=2}else return null;else return new Ef(null,a,b,c,null)}
function Gf(a,b,c,d,e){this.K=a;this.nodes=b;this.i=c;this.s=d;this.R=e;this.I=32374988;this.$=0}g=Gf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.la=function(){return this.K};g.za=function(){var a=this.nodes,b=this.i,c=O(this.s);return Hf?Hf(a,b,c):Bf.call(null,a,b,c)};g.ka=function(){var a=this.R;return null!=a?a:this.R=a=pc(this)};
g.ja=function(a,b){return Hc(this,b)};g.qa=function(){return lc};g.ua=function(a,b){return jd(b,this)};g.va=function(a,b,c){return kd(b,c,this)};g.Aa=function(){return N(this.s)};g.Ba=function(){var a=this.nodes;var b=this.i,c=O(this.s);a=Hf?Hf(a,b,c):Bf.call(null,a,b,c);return null!=a?a:lc};g.na=function(){return this};g.oa=function(a,b){return b===this.K?this:new Gf(b,this.nodes,this.i,this.s,this.R)};g.sa=function(a,b){return U(b,this)};Gf.prototype[Da]=function(){return nc(this)};
function Bf(a){switch(arguments.length){case 1:return Af(arguments[0]);case 3:return Hf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function Af(a){return Hf(a,0,null)}function Hf(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(x(d)&&(d=d.Ob(),x(d)))return new Gf(null,a,b+1,d,null);b+=1}else return null;else return new Gf(null,a,b,c,null)}function If(a,b){this.xa=a;this.Pc=b;this.seen=!1}
If.prototype.ta=function(){return!this.seen||this.Pc.ta()};If.prototype.next=function(){if(this.seen)return this.Pc.next();this.seen=!0;return new Ae(null,this.xa)};If.prototype.remove=function(){return Error("Unsupported operation")};function Jf(a,b,c,d,e,f){this.K=a;this.J=b;this.root=c;this.wa=d;this.xa=e;this.R=f;this.I=16123663;this.$=139268}g=Jf.prototype;g.xb=function(a,b){return null==b?this.wa?new Ae(null,this.xa):null:null==this.root?null:this.root.Nb(0,ec(b),b,null)};g.toString=function(){return Wb(this)};
g.keys=function(){return nc(af.j?af.j(this):af.call(null,this))};g.entries=function(){return new We(J(J(this)))};g.values=function(){return nc(bf.j?bf.j(this):bf.call(null,this))};g.has=function(a){return id(this,a)};g.get=function(a,b){return this.ga(null,a,b)};
g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ia(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.Ca=function(a,b){return this.ga(null,b,null)};g.ga=function(a,b,c){return null==b?this.wa?this.xa:c:null==this.root?c:this.root.lb(0,ec(b),b,c)};
g.Hb=function(a,b,c){a=this.wa?b.G?b.G(c,null,this.xa):b.call(null,c,null,this.xa):c;vc(a)?b=F(a):null!=this.root?(b=this.root.Qb(b,a),b=vc(b)?wc.j?wc.j(b):wc.call(null,b):b):b=a;return b};g.Ua=function(){var a=this.root?Ub(this.root):Ud();return this.wa?new If(this.xa,a):a};g.la=function(){return this.K};g.pa=function(){return this.J};g.ka=function(){var a=this.R;return null!=a?a:this.R=a=rc(this)};g.ja=function(a,b){return Ve(this,b)};g.wb=function(){return new Kf(this.root,this.J,this.wa,this.xa)};
g.qa=function(){return pb(ef,this.K)};g.nc=function(a,b){if(null==b)return this.wa?new Jf(this.K,this.J-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Pb(0,ec(b),b);return a===this.root?this:new Jf(this.K,this.J-1,a,this.wa,this.xa,null)};
g.fb=function(a,b,c){if(null==b)return this.wa&&c===this.xa?this:new Jf(this.K,this.wa?this.J:this.J+1,this.root,!0,c,null);a=new lf;b=(null==this.root?uf:this.root).Xa(0,ec(b),b,c,a);return b===this.root?this:new Jf(this.K,a.aa?this.J+1:this.J,b,this.wa,this.xa,null)};g.pb=function(a,b){return null==b?this.wa:null==this.root?!1:this.root.lb(0,ec(b),b,ed)!==ed};g.na=function(){if(0<this.J){var a=null!=this.root?this.root.Ob():null;return this.wa?U(new Ae(null,this.xa),a):a}return null};
g.oa=function(a,b){return b===this.K?this:new Jf(b,this.J,this.root,this.wa,this.xa,this.R)};g.sa=function(a,b){if(bd(b))return this.fb(null,Sa(b,0),Sa(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=N(b);if(bd(c))a=bb(a,Sa(c,0),Sa(c,1)),b=O(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.Ca(null,a)};g.B=function(a,b){return this.ga(null,a,b)};var ef=new Jf(null,0,null,!1,null,sc);Jf.prototype[Da]=function(){return nc(this)};
function Kf(a,b,c,d){this.ha={};this.root=a;this.count=b;this.wa=c;this.xa=d;this.I=259;this.$=56}function Lf(a,b,c){if(a.ha){if(null==b)a.xa!==c&&(a.xa=c),a.wa||(a.count+=1,a.wa=!0);else{var d=new lf;b=(null==a.root?uf:a.root).Ya(a.ha,0,ec(b),b,c,d);b!==a.root&&(a.root=b);d.aa&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=Kf.prototype;g.pa=function(){if(this.ha)return this.count;throw Error("count after persistent!");};
g.Ca=function(a,b){return null==b?this.wa?this.xa:null:null==this.root?null:this.root.lb(0,ec(b),b)};g.ga=function(a,b,c){return null==b?this.wa?this.xa:c:null==this.root?c:this.root.lb(0,ec(b),b,c)};
g.Cb=function(a,b){a:if(this.ha)if(Ie(b))a=Lf(this,Je.j?Je.j(b):Je.call(null,b),Ke.j?Ke.j(b):Ke.call(null,b));else if(bd(b))a=Lf(this,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));else for(a=J(b),b=this;;){var c=N(a);if(x(c))a=O(a),b=Lf(b,Je.j?Je.j(c):Je.call(null,c),Ke.j?Ke.j(c):Ke.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.Lb=function(){if(this.ha){this.ha=null;var a=new Jf(null,this.count,this.root,this.wa,this.xa,null)}else throw Error("persistent! called twice");return a};g.Bb=function(a,b,c){return Lf(this,b,c)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};
g.j=function(a){return this.Ca(null,a)};g.B=function(a,b){return this.ga(null,a,b)};function Mf(a,b){this.ca=a;this.bb=b;this.I=32374988;this.$=0}g=Mf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.la=function(){return this.bb};g.za=function(){var a=(null!=this.ca?this.ca.I&128||u===this.ca.Kb||(this.ca.I?0:y(Wa,this.ca)):y(Wa,this.ca))?this.ca.za():O(this.ca);return null==a?null:new Mf(a,null)};g.ka=function(){return pc(this)};
g.ja=function(a,b){return Hc(this,b)};g.qa=function(){return lc};g.ua=function(a,b){return jd(b,this)};g.va=function(a,b,c){return kd(b,c,this)};g.Aa=function(){return this.ca.Aa(null).key};g.Ba=function(){var a=(null!=this.ca?this.ca.I&128||u===this.ca.Kb||(this.ca.I?0:y(Wa,this.ca)):y(Wa,this.ca))?this.ca.za():O(this.ca);return null!=a?new Mf(a,null):lc};g.na=function(){return this};g.oa=function(a,b){return b===this.bb?this:new Mf(this.ca,b)};g.sa=function(a,b){return U(b,this)};
Mf.prototype[Da]=function(){return nc(this)};function af(a){return(a=J(a))?new Mf(a,null):null}function Je(a){return fb(a)}function Nf(a,b){this.ca=a;this.bb=b;this.I=32374988;this.$=0}g=Nf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.la=function(){return this.bb};g.za=function(){var a=(null!=this.ca?this.ca.I&128||u===this.ca.Kb||(this.ca.I?0:y(Wa,this.ca)):y(Wa,this.ca))?this.ca.za():O(this.ca);return null==a?null:new Nf(a,null)};g.ka=function(){return pc(this)};
g.ja=function(a,b){return Hc(this,b)};g.qa=function(){return lc};g.ua=function(a,b){return jd(b,this)};g.va=function(a,b,c){return kd(b,c,this)};g.Aa=function(){return this.ca.Aa(null).aa};g.Ba=function(){var a=(null!=this.ca?this.ca.I&128||u===this.ca.Kb||(this.ca.I?0:y(Wa,this.ca)):y(Wa,this.ca))?this.ca.za():O(this.ca);return null!=a?new Nf(a,null):lc};g.na=function(){return this};g.oa=function(a,b){return b===this.bb?this:new Nf(this.ca,b)};g.sa=function(a,b){return U(b,this)};
Nf.prototype[Da]=function(){return nc(this)};function bf(a){return(a=J(a))?new Nf(a,null):null}function Ke(a){return gb(a)}var Of=function Of(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return Of.P(c)};Of.P=function(a){return x(Zd(a))?nd(function(b,c){return Jc.B(x(b)?b:Td,c)},a):null};Of.da=0;Of.fa=function(a){return this.P(J(a))};
function Pf(a){for(var b=Td,c=J(Qf);;)if(c){var d=N(c),e=H.G(a,d,Rf);b=P.B(e,Rf)?b:W.G(b,d,e);c=O(c)}else return pb(b,Tc(a))}function Sf(a){this.Eb=a}Sf.prototype.ta=function(){return this.Eb.ta()};Sf.prototype.next=function(){if(this.Eb.ta())return this.Eb.next().key;throw Error("No such element");};Sf.prototype.remove=function(){return Error("Unsupported operation")};function Tf(a,b,c){this.K=a;this.hb=b;this.R=c;this.I=15077647;this.$=139268}g=Tf.prototype;g.toString=function(){return Wb(this)};
g.keys=function(){return nc(J(this))};g.entries=function(){return new Xe(J(J(this)))};g.values=function(){return nc(J(this))};g.has=function(a){return id(this,a)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ia(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};
g.Ca=function(a,b){return this.ga(null,b,null)};g.ga=function(a,b,c){a=cb(this.hb,b);return x(a)?fb(a):c};g.Ua=function(){return new Sf(Ub(this.hb))};g.la=function(){return this.K};g.pa=function(){return Ma(this.hb)};g.ka=function(){var a=this.R;return null!=a?a:this.R=a=rc(this)};g.ja=function(a,b){if(a=Xc(b))if(a=R(this)===R(b))try{return od(function(c,d){return(c=id(b,d))?c:new uc},!0,this.hb)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};g.wb=function(){return new Uf(Hb(this.hb))};
g.qa=function(){return pb(Vf,this.K)};g.Dc=function(a,b){return new Tf(this.K,eb(this.hb,b),null)};g.na=function(){return af(this.hb)};g.oa=function(a,b){return b===this.K?this:new Tf(b,this.hb,this.R)};g.sa=function(a,b){return new Tf(this.K,W.G(this.hb,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.Ca(null,a)};g.B=function(a,b){return this.ga(null,a,b)};var Vf=new Tf(null,Td,sc);Tf.prototype[Da]=function(){return nc(this)};function Uf(a){this.ub=a;this.$=136;this.I=259}g=Uf.prototype;g.Cb=function(a,b){this.ub=Kb(this.ub,b,null);return this};g.Lb=function(){return new Tf(null,Jb(this.ub),null)};g.pa=function(){return R(this.ub)};g.Ca=function(a,b){return this.ga(null,b,null)};
g.ga=function(a,b,c){return Ya(this.ub,b,ed)===ed?c:b};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return Ya(this.ub,a,ed)===ed?null:a};g.B=function(a,b){return Ya(this.ub,a,ed)===ed?b:a};
function Wf(a){if(Xc(a))return Sc(a,null);a=J(a);if(null==a)return Vf;if(a instanceof K&&0===a.i){a=a.F;for(var b=a.length,c=Hb(Vf),d=0;;)if(d<b)Ib(c,a[d]),d+=1;else break;return Jb(c)}for(c=Hb(Vf);;)if(null!=a)b=O(a),c=Ib(c,D(a)),a=b;else return Jb(c)}function X(a){if(null!=a&&(a.$&4096||u===a.Bc))return a.Ib(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",B.j(a)].join(""));}
function Xf(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&P.B(a[0],b)?1===a.length?a[0]:He(a):null;throw new TypeError("re-matches must match against a string.");}
function Yf(a,b,c,d,e,f,h){var k=ua;ua=null==ua?null:ua-1;try{if(null!=ua&&0>ua)return G(a,"#");G(a,c);if(0===Aa.j(f))J(h)&&G(a,function(){var r=Zf.j(f);return x(r)?r:"..."}());else{if(J(h)){var l=N(h);b.G?b.G(l,a,f):b.call(null,l,a,f)}for(var m=O(h),n=Aa.j(f)-1;;)if(!m||null!=n&&0===n){J(m)&&0===n&&(G(a,d),G(a,function(){var r=Zf.j(f);return x(r)?r:"..."}()));break}else{G(a,d);var p=N(m);c=a;h=f;b.G?b.G(p,c,h):b.call(null,p,c,h);var q=O(m);c=n-1;m=q;n=c}}return G(a,e)}finally{ua=k}}
function $f(a,b){b=J(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.ia(null,e);G(a,f);e+=1}else if(b=J(b))c=b,cd(c)?(b=Mb(c),d=Nb(c),c=b,f=R(b),b=d,d=f):(f=N(c),G(a,f),b=O(c),c=null,d=0),e=0;else return null}var ag={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function bg(a){return['"',B.j(a.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(b){return ag[b]})),'"'].join("")}
function cg(a,b){return(a=fd(H.B(a,ya)))?(a=null!=b?b.I&131072||u===b.cd?!0:!1:!1)?null!=Tc(b):a:a}
function dg(a,b,c){if(null==a)return G(b,"nil");if(cg(c,a)){G(b,"^");var d=Tc(a);eg.G?eg.G(d,b,c):eg.call(null,d,b,c);G(b," ")}if(a.Mb)return a.Yb(b);if(null!=a?a.I&2147483648||u===a.ra||(a.I?0:y(Cb,a)):y(Cb,a))return Db(a,b,c);if(!0===a||!1===a)return G(b,B.j(a));if("number"===typeof a)return G(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":B.j(a));if(null!=a&&a.constructor===Object)return G(b,"#js "),d=de.B(function(f){return new Ae(null!=Xf(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?yd.j(f):f,a[f])},ha(a)),fg.ba?fg.ba(d,eg,b,c):fg.call(null,d,eg,b,c);if(Ba(a))return Yf(b,eg,"#js ["," ","]",c,a);if("string"===typeof a)return x(xa.j(c))?G(b,bg(a)):G(b,a);if("function"===typeof a){var e=a.name;c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Function":e;return $f(b,Ic(["#object[",c,x(!1)?[' "',B.j(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=B.j(f);;)if(f.length<h)f=["0",f].join("");else return f},$f(b,Ic(['#inst "',c(a.getUTCFullYear(),
4),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return $f(b,Ic(['#"',a.source,'"']));if(Ia(a))return $f(b,Ic(["#object[",a.toString(),"]"]));if(x(function(){var f=null==a?null:a.constructor;return null==f?null:f.rb}()))return $f(b,Ic(["#object[",a.constructor.rb.replace(RegExp("/","g"),"."),"]"]));e=function(){var f=null==a?null:a.constructor;
return null==f?null:f.name}();c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Object":e;return null==a.constructor?$f(b,Ic(["#object[",c,"]"])):$f(b,Ic(["#object[",c," ",B.j(a),"]"]))}function eg(a,b,c){var d=gg.j(c);return x(d)?(c=W.G(c,hg,dg),d.G?d.G(a,b,c):d.call(null,a,b,c)):dg(a,b,c)}
function ig(a){var b=va();if(Vc(a))b="";else{var c=B,d=c.j,e=new pa,f=new Vb(e);eg(N(a),f,b);a=J(O(a));for(var h=null,k=0,l=0;;)if(l<k){var m=h.ia(null,l);G(f," ");eg(m,f,b);l+=1}else if(a=J(a))h=a,cd(h)?(a=Mb(h),k=Nb(h),h=a,m=R(a),a=k,k=m):(m=N(h),G(f," "),eg(m,f,b),a=O(h),h=null,k=0),l=0;else break;b=d.call(c,e)}return b}function jg(a){return a instanceof gc?hc.B(null,X(a)):yd.B(null,X(a))}
function kg(a){if(x(!1)){var b=J(a),c=J(b),d=N(c);O(c);V(d,0,null);V(d,1,null);c=null==a?null:null!=a&&(a.I&4||u===a.Wc)?a.qa(null):(null!=a?a.I&4||u===a.Wc||(a.I?0:y(Na,a)):y(Na,a))?Oa(a):null;for(a=null;;){d=a;b=J(b);a=N(b);var e=O(b),f=a;a=V(f,0,null);b=V(f,1,null);if(x(f))if(a instanceof I||a instanceof gc)if(x(d))if(P.B(d,xd(a)))c=W.G(c,jg(a),b),a=d,b=e;else return null;else if(d=xd(a),x(d))c=W.G(c,jg(a),b),a=d,b=e;else return null;else return null;else return new Y(null,2,5,Z,[d,c],null)}}else return null}
function lg(a,b,c,d,e){return Yf(d,function(f,h,k){var l=fb(f);c.G?c.G(l,h,k):c.call(null,l,h,k);G(h," ");f=gb(f);return c.G?c.G(f,h,k):c.call(null,f,h,k)},[B.j(a),"{"].join(""),", ","}",e,J(b))}function fg(a,b,c,d){var e=$c(a)?kg(a):null,f=V(e,0,null);e=V(e,1,null);return x(f)?lg(["#:",B.j(f)].join(""),e,b,c,d):lg(null,a,b,c,d)}K.prototype.ra=u;K.prototype.ma=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};zd.prototype.ra=u;zd.prototype.ma=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};
Ae.prototype.ra=u;Ae.prototype.ma=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};Ef.prototype.ra=u;Ef.prototype.ma=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Ze.prototype.ra=u;Ze.prototype.ma=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};oc.prototype.ra=u;oc.prototype.ma=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Me.prototype.ra=u;Me.prototype.ma=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};wd.prototype.ra=u;
wd.prototype.ma=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Jf.prototype.ra=u;Jf.prototype.ma=function(a,b,c){return fg(this,eg,b,c)};Gf.prototype.ra=u;Gf.prototype.ma=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Oe.prototype.ra=u;Oe.prototype.ma=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};Tf.prototype.ra=u;Tf.prototype.ma=function(a,b,c){return Yf(b,eg,"#{"," ","}",c,this)};Dd.prototype.ra=u;Dd.prototype.ma=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};
ae.prototype.ra=u;ae.prototype.ma=function(a,b,c){G(b,"#object[cljs.core.Atom ");eg(new v(null,1,[mg,this.state],null),b,c);return G(b,"]")};Nf.prototype.ra=u;Nf.prototype.ma=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};he.prototype.ra=u;he.prototype.ma=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Y.prototype.ra=u;Y.prototype.ma=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};vd.prototype.ra=u;vd.prototype.ma=function(a,b){return G(b,"()")};v.prototype.ra=u;
v.prototype.ma=function(a,b,c){return fg(this,eg,b,c)};Mf.prototype.ra=u;Mf.prototype.ma=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Lc.prototype.ra=u;Lc.prototype.ma=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};var ng=null;function og(a){null==ng&&(ng=new ae(0));return hc.j([B.j(a),B.j(ce.B(ng,tc))].join(""))}function pg(){}
function qg(a){if(null!=a&&null!=a.Yc)a=a.Yc(a);else{var b=qg[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=qg._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEncodeJS.-clj-\x3ejs",a);}return a}function rg(a,b){return(null!=a?u===a.Xc||(a.Fc?0:y(pg,a)):y(pg,a))?qg(a):"string"===typeof a||"number"===typeof a||a instanceof I||a instanceof gc?b.j?b.j(a):b.call(null,a):ig(Ic([a]))}
var sg=function sg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new K(c.slice(1),0,null):null;return sg.P(arguments[0],c)};
sg.P=function(a,b){b=Sd(b);var c=H.G(b,tg,X),d=function h(f){if(null==f)return null;if(null!=f?u===f.Xc||(f.Fc?0:y(pg,f)):y(pg,f))return qg(f);if(f instanceof I)return c.j?c.j(f):c.call(null,f);if(f instanceof gc)return B.j(f);if($c(f)){var k={};f=J(f);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ia(null,n),q=V(p,0,null);p=V(p,1,null);q=rg(q,d);p=h(p);k[q]=p;n+=1}else if(f=J(f))cd(f)?(m=Mb(f),f=Nb(f),l=m,m=R(m)):(m=N(f),l=V(m,0,null),m=V(m,1,null),l=rg(l,d),m=h(m),k[l]=m,f=O(f),l=null,m=0),n=0;else break;
return k}if(Wc(f)){k=[];f=J(de.B(h,f));l=null;for(n=m=0;;)if(n<m)q=l.ia(null,n),k.push(q),n+=1;else if(f=J(f))l=f,cd(l)?(f=Mb(l),n=Nb(l),l=f,m=R(f),f=n):(f=N(l),k.push(f),f=O(l),l=null,m=0),n=0;else break;return k}return f};return d(a)};sg.da=1;sg.fa=function(a){var b=N(a);a=O(a);return this.P(b,a)};var ug=null;function vg(){null==ug&&(ug=new ae(new v(null,3,[wg,Td,xg,Td,yg,Td],null)));return ug}
function zg(a,b,c){var d=P.B(b,c);if(d)return d;d=yg.j(a);d=d.j?d.j(b):d.call(null,b);if(!(d=id(d,c))&&(d=bd(c)))if(d=bd(b))if(d=R(c)===R(b)){d=!0;for(var e=0;;)if(d&&e!==R(c))d=zg(a,b.j?b.j(e):b.call(null,e),c.j?c.j(e):c.call(null,e)),e+=1;else return d}else return d;else return d;else return d}function Ag(a){var b=F(vg());a=H.B(wg.j(b),a);return J(a)?a:null}function Bg(a,b,c,d){ce.B(a,function(){return F(b)});ce.B(c,function(){return F(d)})}
var Cg=function Cg(a,b,c){var e=function(){var f=F(c);return f.j?f.j(a):f.call(null,a)}();e=x(x(e)?e.j?e.j(b):e.call(null,b):e)?!0:null;if(x(e))return e;e=function(){for(var f=Ag(b);;)if(0<R(f)){var h=N(f);Cg.G?Cg.G(a,h,c):Cg.call(null,a,h,c);f=kc(f)}else return null}();if(x(e))return e;e=function(){for(var f=Ag(a);;)if(0<R(f)){var h=N(f);Cg.G?Cg.G(h,b,c):Cg.call(null,h,b,c);f=kc(f)}else return null}();return x(e)?e:!1};function Dg(a,b,c,d){c=Cg(a,b,c);return x(c)?c:zg(d,a,b)}
var Eg=function Eg(a,b,c,d,e,f,h,k){var m=Ga(function(p,q){var r=V(q,0,null);V(q,1,null);if(zg(F(c),b,r)){p=null==p||Dg(r,N(p),e,F(c))?q:p;if(!Dg(N(p),r,e,F(c)))throw Error(["Multiple methods in multimethod '",B.j(a),"' match dispatch value: ",B.j(b)," -\x3e ",B.j(r)," and ",B.j(N(p)),", and neither is preferred"].join(""));return p}return p},null,F(d)),n=function(){var p;if(p=null==m)p=F(d),p=p.j?p.j(k):p.call(null,k);return x(p)?new Y(null,2,5,Z,[k,p],null):m}();if(x(n)){if(P.B(F(h),F(c)))return ce.ba(f,
W,b,N(O(n))),N(O(n));Bg(f,d,h,c);return Eg.Da?Eg.Da(a,b,c,d,e,f,h,k):Eg.call(null,a,b,c,d,e,f,h,k)}return null};function Fg(a,b){throw Error(["No method in multimethod '",B.j(a),"' for dispatch value: ",B.j(b)].join(""));}function Gg(a,b,c,d,e,f,h){var k=Hg;this.name=a;this.O=b;this.kd=k;this.ac=c;this.cc=d;this.qd=e;this.bc=f;this.Ub=h;this.I=4194305;this.$=4352}g=Gg.prototype;
g.call=function(a){switch(arguments.length-1){case 0:return this.Y();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.G(arguments[1],arguments[2],arguments[3]);case 4:return this.ba(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Ra(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Sa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Ta(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ia(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Oa(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Qa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.mc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.Y=function(){var a=this.O.Y?this.O.Y():this.O.call(null),b=Ig(this,a);x(b)||Fg(this.name,a);return b.Y?b.Y():b.call(null)};g.j=function(a){var b=this.O.j?this.O.j(a):this.O.call(null,a),c=Ig(this,b);x(c)||Fg(this.name,b);return c.j?c.j(a):c.call(null,a)};
g.B=function(a,b){var c=this.O.B?this.O.B(a,b):this.O.call(null,a,b),d=Ig(this,c);x(d)||Fg(this.name,c);return d.B?d.B(a,b):d.call(null,a,b)};g.G=function(a,b,c){var d=this.O.G?this.O.G(a,b,c):this.O.call(null,a,b,c),e=Ig(this,d);x(e)||Fg(this.name,d);return e.G?e.G(a,b,c):e.call(null,a,b,c)};g.ba=function(a,b,c,d){var e=this.O.ba?this.O.ba(a,b,c,d):this.O.call(null,a,b,c,d),f=Ig(this,e);x(f)||Fg(this.name,e);return f.ba?f.ba(a,b,c,d):f.call(null,a,b,c,d)};
g.ea=function(a,b,c,d,e){var f=this.O.ea?this.O.ea(a,b,c,d,e):this.O.call(null,a,b,c,d,e),h=Ig(this,f);x(h)||Fg(this.name,f);return h.ea?h.ea(a,b,c,d,e):h.call(null,a,b,c,d,e)};g.Ra=function(a,b,c,d,e,f){var h=this.O.Ra?this.O.Ra(a,b,c,d,e,f):this.O.call(null,a,b,c,d,e,f),k=Ig(this,h);x(k)||Fg(this.name,h);return k.Ra?k.Ra(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
g.Sa=function(a,b,c,d,e,f,h){var k=this.O.Sa?this.O.Sa(a,b,c,d,e,f,h):this.O.call(null,a,b,c,d,e,f,h),l=Ig(this,k);x(l)||Fg(this.name,k);return l.Sa?l.Sa(a,b,c,d,e,f,h):l.call(null,a,b,c,d,e,f,h)};g.Da=function(a,b,c,d,e,f,h,k){var l=this.O.Da?this.O.Da(a,b,c,d,e,f,h,k):this.O.call(null,a,b,c,d,e,f,h,k),m=Ig(this,l);x(m)||Fg(this.name,l);return m.Da?m.Da(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};
g.Ta=function(a,b,c,d,e,f,h,k,l){var m=this.O.Ta?this.O.Ta(a,b,c,d,e,f,h,k,l):this.O.call(null,a,b,c,d,e,f,h,k,l),n=Ig(this,m);x(n)||Fg(this.name,m);return n.Ta?n.Ta(a,b,c,d,e,f,h,k,l):n.call(null,a,b,c,d,e,f,h,k,l)};g.Ga=function(a,b,c,d,e,f,h,k,l,m){var n=this.O.Ga?this.O.Ga(a,b,c,d,e,f,h,k,l,m):this.O.call(null,a,b,c,d,e,f,h,k,l,m),p=Ig(this,n);x(p)||Fg(this.name,n);return p.Ga?p.Ga(a,b,c,d,e,f,h,k,l,m):p.call(null,a,b,c,d,e,f,h,k,l,m)};
g.Ha=function(a,b,c,d,e,f,h,k,l,m,n){var p=this.O.Ha?this.O.Ha(a,b,c,d,e,f,h,k,l,m,n):this.O.call(null,a,b,c,d,e,f,h,k,l,m,n),q=Ig(this,p);x(q)||Fg(this.name,p);return q.Ha?q.Ha(a,b,c,d,e,f,h,k,l,m,n):q.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Ia=function(a,b,c,d,e,f,h,k,l,m,n,p){var q=this.O.Ia?this.O.Ia(a,b,c,d,e,f,h,k,l,m,n,p):this.O.call(null,a,b,c,d,e,f,h,k,l,m,n,p),r=Ig(this,q);x(r)||Fg(this.name,q);return r.Ia?r.Ia(a,b,c,d,e,f,h,k,l,m,n,p):r.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.Ja=function(a,b,c,d,e,f,h,k,l,m,n,p,q){var r=this.O.Ja?this.O.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q):this.O.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q),w=Ig(this,r);x(w)||Fg(this.name,r);return w.Ja?w.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q):w.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};
g.Ka=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){var w=this.O.Ka?this.O.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.O.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r),z=Ig(this,w);x(z)||Fg(this.name,w);return z.Ka?z.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r):z.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};
g.La=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w){var z=this.O.La?this.O.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):this.O.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w),C=Ig(this,z);x(C)||Fg(this.name,z);return C.La?C.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):C.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w)};
g.Ma=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z){var C=this.O.Ma?this.O.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):this.O.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z),E=Ig(this,C);x(E)||Fg(this.name,C);return E.Ma?E.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):E.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z)};
g.Na=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C){var E=this.O.Na?this.O.Na(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):this.O.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C),M=Ig(this,E);x(M)||Fg(this.name,E);return M.Na?M.Na(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):M.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C)};
g.Oa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E){var M=this.O.Oa?this.O.Oa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):this.O.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E),T=Ig(this,M);x(T)||Fg(this.name,M);return T.Oa?T.Oa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):T.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E)};
g.Pa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M){var T=this.O.Pa?this.O.Pa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):this.O.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M),da=Ig(this,T);x(da)||Fg(this.name,T);return da.Pa?da.Pa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):da.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M)};
g.Qa=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T){var da=this.O.Qa?this.O.Qa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):this.O.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T),qa=Ig(this,da);x(qa)||Fg(this.name,da);return qa.Qa?qa.Qa(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):qa.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T)};
g.mc=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da){var qa=Rd(this.O,a,b,c,d,Ic([e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da])),Zc=Ig(this,qa);x(Zc)||Fg(this.name,qa);return Rd(Zc,a,b,c,d,Ic([e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da]))};function Jg(a,b){var c=Kg;ce.ba(c.cc,W,a,b);Bg(c.bc,c.cc,c.Ub,c.ac)}function Ig(a,b){P.B(F(a.Ub),F(a.ac))||Bg(a.bc,a.cc,a.Ub,a.ac);var c=F(a.bc);c=c.j?c.j(b):c.call(null,b);return x(c)?c:Eg(a.name,b,a.ac,a.cc,a.qd,a.bc,a.Ub,a.kd)}g.Ib=function(){return Ob(this.name)};
g.Jb=function(){return Pb(this.name)};g.ka=function(){return ba(this)};var Lg=new I(null,"button.button.is-primary","button.button.is-primary",-883309392),Mg=new I("skier","leaves-lift","skier/leaves-lift",-1306134627),Ng=new I(null,"div.buttons.is-centered","div.buttons.is-centered",1442792514),mg=new I(null,"val","val",128701612),Og=new I(null,"render","render",-1408033454),Pg=new I(null,"mu","mu",1146469241),Qg=new I(null,"fold","fold",-887461332),Rg=new I(null,"auto-run","auto-run",1958400437),ya=new I(null,"meta","meta",1499536964),Sg=new I(null,"displayName","displayName",
-809144601),Tg=new I(null,"on-dispose","on-dispose",2105306360),Ug=new I(null,"data","data",-232669377),Vg=new I(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),Wg=new I(null,"sigma","sigma",-63715703),Xg=new I(null,"spec","spec",347520401),Yg=new I(null,"constructor","constructor",-1953928811),Zg=new I(null,"div.column","div.column",-1380853326),$g=new I(null,"actions","actions",-812656882),ah=new I(null,"childContextTypes","childContextTypes",578717991),bh=new I(null,"transform",
"transform",1381301764),ch=new I(null,"field","field",-1302436500),dh=new I(null,"\x3e","\x3e",-555517146),xg=new I(null,"descendants","descendants",1824886031),eh=new I(null,"running","running",1554969103),fh=new I(null,"class","class",-2030961996),gh=new I(null,"description","description",-1428560544),hh=new I(null,"title","title",636505583),ih=new I(null,"on-click","on-click",1632826543),jh=new I(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),kh=new I(null,"color","color",1011675173),
lh=new I(null,"stack","stack",-793405930),mh=new I(null,"as","as",1148689641),nh=new I(null,"reagentRender","reagentRender",-358306383),oh=new I(null,"name","name",1843675177),ph=new I(null,"getInitialState","getInitialState",1541760916),gg=new I(null,"alt-impl","alt-impl",670969595),qh=new I(null,"on-set","on-set",-140953470),Rf=new I("cljs.core","not-found","cljs.core/not-found",-1572889185),Hg=new I(null,"default","default",-1987822328),rh=new I("skier","joins-queue","skier/joins-queue",-1286647213),
sh=new I(null,"no-cache","no-cache",1588056370),th=new I(null,"\x3c\x3e","\x3c\x3e",1280186386),uh=new I(null,"div.columns","div.columns",-437221213),za=new I(null,"dup","dup",556298533),Aa=new I(null,"print-length","print-length",1931866356),wa=new I(null,"flush-on-newline","flush-on-newline",-151457939),vh=new I("lift","leaves","lift/leaves",-2138482165),wh=new I(null,"component-did-update","component-did-update",-1468549173),xh=new I("sim","end-time","sim/end-time",-1849965709),yh=new I(null,"reagent-render",
"reagent-render",-985383853),zh=new I(null,"encoding","encoding",1728578272),Ah=new I(null,"function-components","function-components",1492814963),Bh=new I(null,"hierarchy","hierarchy",-1053470341),Ch=new I(null,"on-write","on-write",31519475),Dh=new I("skiers","skiing","skiers/skiing",-957605270),Eh=new I(null,"key","key",-1516042587),Fh=new I(null,"zero","zero",-858964576),Gh=new I("lift","ride-time","lift/ride-time",78775400),Hh=new I(null,"y","y",-1757859776),Ih=new I(null,"x","x",2099068185),
Jh=new I(null,"t","t",-1397832519),Kh=new I(null,"componentWillUnmount","componentWillUnmount",1573788814),Lh=new I(null,"scale","scale",-230427353),Mh=new I(null,"contextType","contextType",1033066077),Nh=new I("skiers","waiting","skiers/waiting",1070582748),Oh=new I(null,"mark","mark",-373816345),Ph=new I(null,"event","event",301435442),wg=new I(null,"parents","parents",-2027538891),Qh=new I(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),Rh=new I(null,"validator","validator",
-1966190681),hg=new I(null,"fallback-impl","fallback-impl",-1501286995),Sh=new I(null,"display-name","display-name",694513143),Th=new I(null,"button.button.is-danger","button.button.is-danger",-948547713),Uh=new I("slope","length","slope/length",1017254753),Vh=new I(null,"section.section","section.section",-416807119),xa=new I(null,"readably","readably",1129599760),Wh=new I(null,"contextTypes","contextTypes",-2023853910),tg=new I(null,"keyword-fn","keyword-fn",-64566675),Xh=new I(null,"shouldComponentUpdate",
"shouldComponentUpdate",1795750960),Yh=new I(null,"unit","unit",375175175),Zh=new I(null,"id","id",-1388402092),$h=new I(null,"$schema","$schema",1635092088),ai=new I(null,"component-will-unmount","component-will-unmount",-2058314698),bi=new I("lift","chair-width","lift/chair-width",1126373462),ci=new I(null,"results","results",-1134170113),di=new I(null,"className","className",-1983287057),ei=new I(null,"h1.title","h1.title",-2139952071),fi=new I("lift","chair-period","lift/chair-period",169813739),
gi=new I(null,"events","events",1792552201),hi=new I("skiers","riding-lift","skiers/riding-lift",1574761189),ii=new I(null,"parse-tag","parse-tag",1427313738),ji=new I(null,"type","type",1174270348),ki=new I("skiers","speed","skiers/speed",88597428),yg=new I(null,"ancestors","ancestors",-776045424),Zf=new I(null,"more-marker","more-marker",-14717935);var li={},mi;function ni(){return oa("iPhone")&&!oa("iPod")&&!oa("iPad")};oa("Opera");oa("Trident")||oa("MSIE");oa("Edge");!oa("Gecko")||-1!=na.toLowerCase().indexOf("webkit")&&!oa("Edge")||oa("Trident")||oa("MSIE")||oa("Edge");-1!=na.toLowerCase().indexOf("webkit")&&!oa("Edge")&&oa("Mobile");oa("Macintosh");oa("Windows");oa("Linux")||oa("CrOS");var oi=aa.navigator||null;oi&&(oi.appVersion||"").indexOf("X11");oa("Android");ni();oa("iPad");oa("iPod");ni()||oa("iPad")||oa("iPod");na.toLowerCase().indexOf("kaios");(function(a){if("undefined"===typeof ra||"undefined"===typeof sa||"undefined"===typeof li||"undefined"===typeof mi)mi=function(b,c,d){this.f=b;this.Rc=c;this.md=d;this.I=393216;this.$=0},mi.prototype.oa=function(b,c){return new mi(this.f,this.Rc,c)},mi.prototype.la=function(){return this.md},mi.Mb=!0,mi.rb="cljs.core.async/t_cljs$core$async23185",mi.Yb=function(b){return G(b,"cljs.core.async/t_cljs$core$async23185")};return new mi(a,!0,Td)})(function(){return null});var pi={},qi={},ri=[];function si(a,b){var c=qi[a];if(void 0!==c)return c;try{ri.push(a);var d=pi[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};pi[a]=d}if(e){delete shadow$provide[a];try{e.call(d,aa,si,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{ri.pop()}return d.exports}si.cache={};si.resolve=function(a){return a};var ti=si(3,{});function ui(a,b,c){var d=RegExp,e=b.source,f=x(b.ignoreCase)?"gi":"g";f=x(b.multiline)?[f,"m"].join(""):f;b=x(b.unicode)?[f,"u"].join(""):f;return a.replace(new d(e,b),c)}
function vi(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){d=ge(d);if(P.B(R(d),1))return d=N(d),a.j?a.j(d):a.call(null,d);d=He(d);return a.j?a.j(d):a.call(null,d)}b.da=0;b.fa=function(d){d=J(d);return c(d)};b.P=c;return b}()}
function wi(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?ui(a,b,c):ui(a,b,vi(c));throw["Invalid match arg: ",B.j(b)].join("");}function xi(a){var b=new pa;for(a=J(a);;)if(null!=a)b.append(B.j(N(a))),a=O(a),null!=a&&b.append(" ");else return b.toString()}
function yi(a){var b=/-/;a="/(?:)/"===B.j(b)?Jc.B(He(U("",de.B(B,J(a)))),""):He(B.j(a).split(b));if(1<R(a))a:for(;;)if(""===(null==a?null:jb(a)))a=null==a?null:kb(a);else break a;return a};var zi={};var Ai={},Bi="undefined"!==typeof window&&null!=window.document,Ci=new Tf(null,new v(null,2,["aria",null,"data",null],null),null);function Di(a){return 2>R(a)?a.toUpperCase():[a.substring(0,1).toUpperCase(),a.substring(1)].join("")}function Ei(a){if("string"===typeof a)return a;a=X(a);var b=yi(a),c=J(b);b=N(c);c=O(c);return x(Ci.j?Ci.j(b):Ci.call(null,b))?a:Pd(B,b,de.B(Di,c))}
function Fi(a){var b=function(){var c=function(){var d=Pc(a);if(d){d=a.displayName;if(x(d))return d;d=a.name;return"string"===typeof d&&J(d)?d:null}return d}();if(x(c))return c;c=function(){var d=null!=a?a.$&4096||u===a.Bc?!0:!1:!1;return d?X(a):d}();if(x(c))return c;c=Tc(a);return $c(c)?oh.j(c):null}();return x(b)?wi(B.j(b),"$","."):null}function Gi(a){return a instanceof I||a instanceof gc}
var Hi=function Hi(a){switch(arguments.length){case 0:return Hi.Y();case 1:return Hi.j(arguments[0]);case 2:return Hi.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Hi.P(arguments[0],arguments[1],c)}};Hi.Y=function(){return null};Hi.j=function(a){return Wc(a)?(a=$d(function(b){return x(b)?Gi(b)?X(b):b:null},a),J(a)?xi(a):null):Gi(a)?X(a):a};
Hi.B=function(a,b){return x(a)?x(b)?[B.j(Hi.j(a))," ",B.j(Hi.j(b))].join(""):Hi.j(a):Hi.j(b)};Hi.P=function(a,b,c){return Ga(Hi,Hi.B(a,b),c)};Hi.fa=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.P(b,a,c)};Hi.da=2;var Ii=!1;function Ji(a){if($c(a))try{var b=H.B(a,Eh)}catch(c){b=null}else b=null;return b}
function Ki(a){var b=Eh.j(Tc(a));if(null!=b)return b;b=V(a,0,null);switch(b instanceof I?b.Va:null){case "\x3e":case "f\x3e":return Ji(V(a,2,null));case "r\x3e":return a=V(a,2,null),null==a?null:a.key;default:return Ji(V(a,1,null))}};var Li=0;function Mi(a){return setTimeout(a,16)}var Ni=Bi?function(){var a=window;return function(){var b=a.requestAnimationFrame;if(x(b))return b;b=a.webkitRequestAnimationFrame;if(x(b))return b;b=a.mozRequestAnimationFrame;if(x(b))return b;b=a.msRequestAnimationFrame;return x(b)?b:Mi}().bind(a)}():Mi;function Oi(a,b){return a.uc-b.uc}function Pi(){return null}function Qi(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.Y?d.Y():d.call(null);c+=1}else return null}
function Ri(a,b,c){b.push(c);return a.schedule()}function Si(){this.ec=!1}g=Si.prototype;g.flush_after_render=function(){var a=this.Sb;if(null==a)return null;this.Sb=null;return Qi(a)};g.queue_render=function(a){null==this.$b&&(this.$b=[]);return Ri(this,this.$b,a)};g.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.ec)return null;this.ec=!0;return Ni.j?Ni.j(a):Ni.call(null,a)};g.flush_before_flush=function(){var a=this.Tb;if(null==a)return null;this.Tb=null;return Qi(a)};
g.flush_queues=function(){this.flush_before_flush();Pi();this.flush_render();return this.flush_after_render()};g.run_queues=function(){this.ec=!1;return this.flush_queues()};g.add_before_flush=function(a){null==this.Tb&&(this.Tb=[]);return Ri(this,this.Tb,a)};g.add_after_render=function(a){null==this.Sb&&(this.Sb=[]);return Ri(this,this.Sb,a)};
g.flush_render=function(){var a=this.$b;if(null==a)return null;this.$b=null;a:{a.sort(Oi);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var Ti=new Si;function Ui(a){if(x(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return Ti.queue_render(a)};function Vi(a){if(null!=a&&null!=a.rd)a=a.id;else{var b=Vi[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Vi._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("Compiler.get-id",a);}return a}function Wi(a,b,c){if(null!=a&&null!=a.Nc)a=a.Nc(a,b,c);else{var d=Wi[t(null==a?null:a)];if(null!=d)a=d.G?d.G(a,b,c):d.call(null,a,b,c);else if(d=Wi._,null!=d)a=d.G?d.G(a,b,c):d.call(null,a,b,c);else throw A("Compiler.parse-tag",a);}return a}
function Xi(a,b){if(null!=a&&null!=a.Lc)a=a.Lc(a,b);else{var c=Xi[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Xi._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("Compiler.as-element",a);}return a}
function Yi(a,b,c,d,e){if(null!=a&&null!=a.Mc)a=a.Mc(a,b,c,d,e);else{var f=Yi[t(null==a?null:a)];if(null!=f)a=f.ea?f.ea(a,b,c,d,e):f.call(null,a,b,c,d,e);else if(f=Yi._,null!=f)a=f.ea?f.ea(a,b,c,d,e):f.call(null,a,b,c,d,e);else throw A("Compiler.make-element",a);}return a};var Zi=function Zi(a){switch(arguments.length){case 1:return Zi.j(arguments[0]);case 2:return Zi.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Zi.P(arguments[0],arguments[1],c)}};Zi.j=function(a){return a};Zi.B=function(a,b){return R(a)<R(b)?Ga(function(c,d){return id(b,d)?Uc.B(c,d):c},a,a):Ga(Uc,a,b)};Zi.P=function(a,b,c){return Ga(Zi,a,Jc.B(c,b))};
Zi.fa=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.P(b,a,c)};Zi.da=2;var $i;function aj(a,b){b.ic=null;a:{var c=$i;$i=b;try{var d=a.Y?a.Y():a.call(null);break a}finally{$i=c}d=void 0}a=b.ic;b.kb=!1;a:{c=b.vb;var e=null==a?0:a.length,f=e===(null==c?0:c.length);if(f)for(f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=f}c||b._update_watching(a);return d}function bj(a){var b=$i;if(null!=b){var c=b.ic;null==c?b.ic=[a]:c.push(a)}}function cj(a,b,c){a.ya=W.G(a.ya,b,c);return a.xc=null}
function dj(a,b){a.ya=Oc.B(a.ya,b);return a.xc=null}function ej(a,b,c){var d=a.xc;d=null==d?a.xc=od(function(l,m,n){l.push(m);l.push(n);return l},[],a.ya):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.ba?k.ba(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function fj(a,b,c,d){G(a,["#object[reagent.ratom.",B.j(c)," "].join(""));a:{c=$i;$i=null;try{var e=d;break a}finally{$i=c}e=void 0}eg(e,a,b);return G(a,"]")}var gj=null;
function hj(a,b,c,d){this.state=a;this.K=b;this.validator=c;this.ya=d;this.I=2154201088;this.$=114690}g=hj.prototype;g.ma=function(a,b,c){return fj(b,c,"RAtom",new v(null,1,[mg,this.jb(null)],null))};g.la=function(){return this.K};g.ka=function(){return ba(this)};g.ja=function(a,b){return this===b};g.Wa=function(a,b){a=this.state;this.state=b;null!=this.ya&&ej(this,a,b);return b};g.oc=function(a,b){return this.Wa(null,b.j?b.j(this.state):b.call(null,this.state))};
g.pc=function(a,b,c){return this.Wa(null,b.B?b.B(this.state,c):b.call(null,this.state,c))};g.qc=function(a,b,c,d){return this.Wa(null,b.G?b.G(this.state,c,d):b.call(null,this.state,c,d))};g.rc=function(a,b,c,d,e){return this.Wa(null,Qd(b,this.state,c,d,e))};g.sc=function(a,b){ej(this,a,b)};g.Wb=function(a,b,c){return cj(this,b,c)};g.Xb=function(a,b){return dj(this,b)};g.oa=function(a,b){return new hj(this.state,b,this.validator,this.ya)};g.jb=function(){bj(this);return this.state};
var ij=function ij(a){switch(arguments.length){case 1:return ij.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(1),0,null);return ij.P(arguments[0],c)}};ij.j=function(a){return new hj(a,null,null,null)};ij.P=function(a,b){var c=Sd(b);b=H.B(c,ya);c=H.B(c,Rh);return new hj(a,b,c,null)};ij.fa=function(a){var b=N(a);a=O(a);return this.P(b,a)};ij.da=1;
function jj(a){if(null!=a&&null!=a.wc)a=a.wc(a);else{var b=jj[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=jj._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IDisposable.dispose!",a);}return a}function Fb(a,b,c,d){return a._handle_change(b,c,d)}function kj(a){this.f=a;this.state=null;this.kb=!0;this.Jc=!1;this.jc=this.cb=this.ya=this.vb=null;this.I=2153807872;this.$=114690}g=kj.prototype;g._peek_at=function(){var a=$i;$i=null;try{return this.jb(null)}finally{$i=a}};
g._handle_change=function(a,b,c){return b===c||this.kb?null:null==this.cb?(this.kb=!0,null==gj&&(gj=[],!1===Ti.ec&&Ti.schedule()),gj.push(this)):!0===this.cb?this._run(!1):this.cb.j?this.cb.j(this):this.cb.call(null,this)};
g._update_watching=function(a){var b=Wf(a),c=Wf(this.vb);this.vb=a;a=J(Zi.B(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.ia(null,f);Eb(h,this);f+=1}else if(a=J(a))d=a,cd(d)?(a=Mb(d),f=Nb(d),d=a,e=R(a),a=f):(a=N(d),Eb(a,this),a=O(d),d=null,e=0),f=0;else break;b=J(Zi.B(c,b));c=null;for(e=d=0;;)if(e<d)a=c.ia(null,e),Gb(a,this),e+=1;else if(b=J(b))c=b,cd(c)?(b=Mb(c),d=Nb(c),c=b,a=R(b),b=d,d=a):(a=N(c),Gb(a,this),b=O(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.kb&&null!=this.vb?this._run(!0):null};g._try_capture=function(a){try{return this.jc=null,aj(a,this)}catch(b){return this.jc=this.state=a=b,this.kb=!1}};g._run=function(a){var b=this.state;a=x(a)?this._try_capture(this.f):aj(this.f,this);this.Jc||(this.state=a,null==this.ya||P.B(b,a)||ej(this,b,a));return a};
g._set_opts=function(a){var b=Sd(a);a=H.B(b,Rg);var c=H.B(b,qh),d=H.B(b,Tg);b=H.B(b,sh);null!=a&&(this.cb=a);null!=c&&(this.od=c);null!=d&&(this.Kc=d);return null!=b?this.Jc=b:null};g.ma=function(a,b,c){return fj(b,c,"Reaction",new v(null,1,[mg,this.jb(null)],null))};g.ka=function(){return ba(this)};g.ja=function(a,b){return this===b};
g.wc=function(){var a=this.state,b=this.vb;this.cb=this.state=this.vb=null;this.kb=!0;b=J(Wf(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.ia(null,e);Gb(f,this);e+=1}else if(b=J(b))c=b,cd(c)?(b=Mb(c),e=Nb(c),c=b,d=R(b),b=e):(b=N(c),Gb(b,this),b=O(c),c=null,d=0),e=0;else break;null!=this.Kc&&this.Kc(a);a=this.Gd;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.j?d.j(this):d.call(null,this),c+=1;else return null};g.Wa=function(a,b){a=this.state;this.state=b;this.od(a,b);ej(this,a,b);return b};
g.oc=function(a,b){a=this.Wa;var c=this._peek_at();b=b.j?b.j(c):b.call(null,c);return a.call(this,null,b)};g.pc=function(a,b,c){a=this.Wa;var d=this._peek_at();b=b.B?b.B(d,c):b.call(null,d,c);return a.call(this,null,b)};g.qc=function(a,b,c,d){a=this.Wa;var e=this._peek_at();b=b.G?b.G(e,c,d):b.call(null,e,c,d);return a.call(this,null,b)};g.rc=function(a,b,c,d,e){return this.Wa(null,Qd(b,this._peek_at(),c,d,e))};g.sc=function(a,b){ej(this,a,b)};g.Wb=function(a,b,c){return cj(this,b,c)};
g.Xb=function(a,b){a=Vc(this.ya);dj(this,b);return!a&&Vc(this.ya)&&null==this.cb?this.wc(null):null};g.jb=function(){var a=this.jc;if(null!=a)throw a;(a=null==$i)&&(lj.Y?lj.Y():lj.call(null));a&&null==this.cb?this.kb&&(a=this.state,this.state=this.f.Y?this.f.Y():this.f.call(null),null==this.ya||P.B(a,this.state)||ej(this,a,this.state)):(bj(this),this.kb&&this._run(!1));return this.state};
function lj(){for(;;){var a=gj;if(null==a)return null;gj=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}Pi=lj;function mj(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new K(b.slice(1),0,null):null;b=arguments[0];var e=Sd(c);c=H.B(e,Rg);d=H.B(e,qh);e=H.B(e,Tg);b=new kj(b);b._set_opts(new v(null,3,[Rg,c,qh,d,Tg,e],null));return b}var nj=mj(null);
function oj(a,b){var c=pj,d=nj,e=aj(a,d);null!=d.vb&&(nj=mj(null),d._set_opts(c),d.f=a,d.cb=function(){return Ui.j?Ui.j(b):Ui.call(null,b)},b.cljsRatom=d);return e};var qj;function rj(a,b){var c=b.argv;if(null==c){c=Z;a=a.constructor;a:for(var d=ha(b),e=d.length,f=Td,h=0;;)if(h<e){var k=d[h];f=W.G(f,yd.j(k),ia(b,k));h+=1}else break a;b=new Y(null,2,5,c,[a,f],null)}else b=c;return b}function sj(a){var b;if(b=Pc(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.mb);return b}
function tj(a,b){for(;;){var c=a.mb,d=!0===a.fd?c.call(a,a):function(){var e=rj(a,a.props);switch(R(e)){case 1:return c.call(a);case 2:return c.call(a,Ec(e,1));case 3:return c.call(a,Ec(e,1),Ec(e,2));case 4:return c.call(a,Ec(e,1),Ec(e,2),Ec(e,3));case 5:return c.call(a,Ec(e,1),Ec(e,2),Ec(e,3),Ec(e,4));default:return c.apply(a,Fa(e).slice(1))}}();if(bd(d))return Xi(b,d);if(gd(d))d=sj(d)?function(e,f,h,k,l){return function(){function m(p){var q=null;if(0<arguments.length){q=0;for(var r=Array(arguments.length-
0);q<r.length;)r[q]=arguments[q+0],++q;q=new K(r,0,null)}return n.call(this,q)}function n(p){return Xi(f,Pd(Le,l,p))}m.da=0;m.fa=function(p){p=J(p);return n(p)};m.P=n;return m}()}(a,b,c,null,d):d,a.mb=d;else return d}}var pj=new v(null,1,[sh,!0],null);
function uj(a,b){switch(a instanceof I?a.Va:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){var e=b.call,f=c.argv;null!=f&&(c=V(f,1,null),c=$c(c)?c:null);return e.call(b,null,c,d)};case "getInitialState":return function(c){var d=c.hd;d=null!=d?d:c.hd=ij.j(null);return be(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,rj(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,rj(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,rj(this,c))};case "shouldComponentUpdate":return function(c){var d=Ii;if(x(d))return d;d=this.props.argv;var e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return!P.B(d,e)}catch(h){return!1}}else return f?b.call(this,this,rj(this,this.props),rj(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,rj(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,rj(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,rj(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=ia(this,"cljsRatom");null!=c&&jj(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}var vj=new v(null,2,[Xh,null,Kh,null],null),wj=function(a){var b=new ae(Td);return function(c){var d=H.B(F(b),c);if(null!=d)return d;d=a.j?a.j(c):a.call(null,c);ce.ba(b,W,c,d);return d}}(function(a){if("string"===typeof a)return a;a=X(a);a=wi(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=yi(a);var b=J(a);a=N(b);b=O(b);return Pd(B,a,de.B(Di,b))});function xj(a){return od(function(b,c,d){return W.G(b,yd.j(wj(c)),d)},Td,a)}
function yj(a,b){var c=function(){var h=nh.j(a);return x(h)?h:Og.j(a)}(),d=null==nh.j(a),e=function(){var h=Sg.j(a);if(x(h))return h;h=Fi(c);return x(h)?h:B.j(og("reagent"))}(),f=od(function(h,k,l){var m=W.G,n=uj(k,l);return m.call(W,h,k,x(n)?n:l)},Td,a);return W.P(f,Sg,e,Ic([jh,d,nh,c,Og,function(){var h=this,k=ia(h,"cljsRatom");h.cljsIsDirty=!1;return null==k?oj(function(){a:{var l=qj;qj=h;try{var m=tj(h,b);break a}finally{qj=l}m=void 0}return m},h):k._run(!1)}]))}
function zj(a){return od(function(b,c,d){c=X(c);b[c]=d;return b},{},a)}function Aj(a,b){return yj(Of.P(Ic([vj,xj(a)])),b)}var Qf=new Y(null,5,5,Z,[ah,Wh,Mh,Qh,Vg],null);
function Bj(a,b){function c(k,l,m){ti.Component.call(this,k,l,m);x(h)&&(h.B?h.B(this,k):h.call(null,this,k));x(f)&&(this.state=f.j?f.j(this):f.call(null,this));this.uc=Li+=1;return this}a=Aj(a,b);b=zj(Rd(Oc,a,Sg,ph,Yg,Ic([Og,nh,Qf])));var d=zj(Pf(a)),e=Sg.j(a),f=ph.j(a),h=Yg.j(a);ka(c.prototype,ti.Component.prototype,b);x(Og.j(a))&&(c.prototype.render=Og.j(a));x(nh.j(a))&&(c.prototype.mb=nh.j(a));x(jh.j(a))&&(c.prototype.fd=jh.j(a));ka(c,ti.Component,d);x(e)&&(c.displayName=e,c.rb=e,c.Yb=function(k){return G(k,
e)},Object.defineProperty(c,"name",{value:e,writable:!1}));c.Mb=!0;return c.prototype.constructor=c}function Cj(a,b,c){a=Vi(a);return b[a]=c}
function Dj(a,b){for(;;){var c=b.mb,d=b.argv,e=Od(c,d);if(bd(e))return Xi(a,e);if(gd(e))c=sj(e)?function(f,h,k,l,m,n){return function(){function p(r){var w=null;if(0<arguments.length){w=0;for(var z=Array(arguments.length-0);w<z.length;)z[w]=arguments[w+0],++w;w=new K(z,0,null)}return q.call(this,w)}function q(r){return Xi(f,Pd(Le,n,r))}p.da=0;p.fa=function(r){r=J(r);return q(r)};p.P=q;return p}()}(a,b,c,null,d,e):e,b.mb=c;else return e}}
function Ej(a,b){var c=b.argv,d=b.mb;b=ti.useState(0);V(b,0,null);var e=V(b,1,null),f=ti.useRef();x(f.current)||function(){var k={forceUpdate:function(){return e.j?e.j(tc):e.call(null,tc)}};k.uc=Li+=1;k.constructor=d;k.mb=d;return f.current=k}();var h=f.current;b=ia(h,"cljsRatom");ti.useEffect(function(){return function(){var k=ia(h,"cljsRatom");return null==k?null:jj(k)}},[]);h.argv=c;h.cljsIsDirty=!1;return null==b?oj(function(){a:{var k=qj;qj=h;try{var l=Dj(a,h);break a}finally{qj=k}l=void 0}return l},
h):b._run(!1)}function Fj(a,b){a=a.argv;b=b.argv;var c=!1===Ii;if(c)try{return P.B(a,b)}catch(d){return!1}else return c}function Gj(a,b){function c(e){return Ej(a,e)}var d=ia(b,Vi(a));if(x(d))return d;d=Fi(b);c.displayName=d;Object.defineProperty(c,"name",{value:d,writable:!1});d=ti.memo(c,Fj);Cj(a,b,d);return d};var Hj=new Tf(null,new v(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null),Ij=!1;
function Jj(a,b,c,d){var e=Sd(Td);e=H.B(e,Ch);if(x(function(){var h=!(a===document.activeElement&&id(Hj,a.type)&&"string"===typeof b&&"string"===typeof c);return h?h:Ij}()))return d.Zb=b,a.value=b,Pc(e)?e.j?e.j(b):e.call(null,b):null;var f=a.value;if(!P.B(f,c))return Ti.add_after_render(function(){var h=Ij;Ij=!0;try{return Kj.j?Kj.j(d):Kj.call(null,d)}finally{Ij=h}});f=R(f)-a.selectionStart;f=R(b)-f;d.Zb=b;a.value=b;Pc(e)&&(e.j?e.j(b):e.call(null,b));a.selectionStart=f;return a.selectionEnd=f}
function Kj(a){if(x(a.tc)){a.Gc=!1;var b=a.gd,c=a.Zb,d=a.vc;return P.B(b,c)?null:Jj(d,b,c,a)}return null}function Lj(a,b,c){a.Zb=c.target.value;x(a.Gc)||(a.Gc=!0,Ti.add_after_render(function(){return Kj(a)}));return b.j?b.j(c):b.call(null,c)}
function Mj(a){var b=qj;if(x(function(){var f=null!=a;return f?(f=a.hasOwnProperty("onChange"),x(f)?a.hasOwnProperty("value"):f):f}())){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;x(b.tc)||(b.tc=!0,b.Zb=c);x(b.Oc)||(b.Oc=Pc(e)?function(f){b.vc=f;return e.j?e.j(f):e.call(null,f)}:x(x(e)?e.hasOwnProperty("current"):e)?function(f){b.vc=f;return e.current=f}:function(f){return b.vc=f});b.gd=c;delete a.value;a.defaultValue=c;a.onChange=function(f){return Lj(b,d,f)};a.ref=b.Oc}}
var Nj=new v(null,4,[Sh,"ReagentInput",wh,Kj,ai,function(a){return a.tc=null},yh,function(a,b,c,d,e){Mj(c);return Yi(e,a,b,c,d)}],null);var Oj={},Pj,Qj=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,Rj={"class":"className","for":"htmlFor",charset:"charSet"};function Sj(a,b){return a.hasOwnProperty(b)?ia(a,b):null}function Tj(a,b,c){if(Gi(b)){var d=Sj(Rj,X(b));null==d?(d=Ei(b),b=X(b),b=Rj[b]=d):b=d}c=Uj.j?Uj.j(c):Uj.call(null,c);a[b]=c;return a}
function Uj(a){return"object"!==t(a)?a:Gi(a)?X(a):$c(a)?od(Tj,{},a):Wc(a)?sg(a):gd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return Od(a,d)}b.da=0;b.fa=function(d){d=J(d);return c(d)};b.P=c;return b}():sg(a)}var Vj={};function Wj(a,b,c){if(Gi(b)){var d=Sj(Vj,X(b));null==d?(d=Ei(b),b=X(b),b=Vj[b]=d):b=d}c=Uj(c);a[b]=c;return a}
function Xj(a){return"object"!==t(a)?a:Gi(a)?X(a):$c(a)?od(Wj,{},a):Wc(a)?sg(a):gd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return Od(a,d)}b.da=0;b.fa=function(d){d=J(d);return c(d)};b.P=c;return b}():sg(a)}
function Yj(a,b,c,d,e){switch(R(b)-e){case 0:return ti.createElement(c,d);case 1:return ti.createElement(c,d,Xi(a,V(b,e,null)));default:return ti.createElement.apply(null,od(function(f,h,k){h>=e&&f.push(Xi(a,k));return f},[c,d],b))}}function Zj(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.jd=d}function ak(a,b,c){var d=ia(a,Vi(c));null==d?sj(a)?a=Cj(c,a,a):(d=Tc(a),d=W.G(d,yh,a),d=Bj(d,c),a=Cj(c,a,d)):a=d;c={};c.argv=b;b=Ki(b);null!=b&&(c.key=b);return ti.createElement(a,c)}
function bk(a,b,c,d){var e={};e.mb=a;var f=R(b);c=Pe(null,b,c|0,f|0,null);e.argv=c;b=Ki(b);null!=b&&(e.key=b);return ti.createElement(Gj(d,a),e)}function ck(a,b,c){var d;if(d=Pc(a))d=null==a?null:a.prototype,d=null!=(null==d?null:d.render);return d?ak(a,b,c):bk(a,b,1,c)}var dk={};function ek(a,b){a=Sj(dk,b);if(null==a){var c=O(Xf(Qj,X(b)));a=V(c,0,null);var d=V(c,1,null);c=V(c,2,null);c=null==c?null:wi(c,/\./," ");var e=a.indexOf("-");e=!P.B(-1,e);a=new Zj(a,d,c,e);return dk[b]=a}return a}
function fk(a,b,c,d){var e=a.tag,f=V(b,c,null),h=null==f||$c(f),k=function(){var n=h?f:null;var p=fh.j(n);p=x(p)?W.G(n,fh,Hi.j(p)):n;var q=a.id;n=a.className;q=null!=q&&null==Zh.j(p)?W.G(p,Zh,q):p;if(x(n)){var r=W.G,w=Hi.B,z=fh.j(p);p=x(z)?z:di.j(p);n=r.call(W,q,fh,w.call(Hi,n,p))}else n=q;n=x(a.jd)?Xj(n):Uj(n);return x(n)?n:{}}();c+=h?1:0;a:switch(e){case "input":case "textarea":var l=!0;break a;default:l=!1}if(l){l=Ji(f);var m=function(){var n=d.sd;if(x(n))return n;n=Bj(Nj,d);return d.sd=n}();return Xi(d,
Sc(new Y(null,6,5,Z,[m,b,e,k,c,d],null),Of.P(Ic([x(l)?new v(null,1,[Eh,l],null):null,Tc(b)]))))}l=Ji(Tc(b));null!=l&&(k.key=l);return Yi(d,b,e,k,c)}function gk(a,b){return Fa(de.B(function(c){return Xi(b,c)},a))}
function hk(a,b,c){null==b&&console.error("vec-to-elem",ig(Ic([a])));var d=V(a,0,null);switch(d instanceof I?d.Va:null){case "\x3e":return c=V(a,1,null),fk(new Zj(c,null,null,null),a,2,b);case "r\x3e":c=V(a,1,null);d=V(a,2,null);d=x(d)?d:{};var e=Ji(Tc(a));null!=e&&(d.key=e);return Yi(b,a,c,d,3);case "f\x3e":return bk(V(a,1,null),a,2,b);case "\x3c\x3e":return d=V(a,1,null),c=null==d||$c(d),d=Uj(c?d:null),d=x(d)?d:{},c=1+(c?1:0),e=Ki(a),null!=e&&(d.key=e),Yi(b,a,ti.Fragment,d,c);default:if(Gi(d)||
"string"===typeof d)a:for(;;)switch(c=V(a,0,null),d=X(c),e=d.indexOf("\x3e"),e){case -1:b=fk(Wi(b,d,c),a,1,b);break a;case 0:b=null;break a;default:a=Sc(new Y(null,2,5,Z,[d.substring(0,e),W.G(Sc(a,null),0,d.substring(e+1))],null),Tc(a))}else b=c.G?c.G(d,a,b):c.call(null,d,a,b);return b}}
var ik=function(a){var b=og("reagent-compiler"),c=x(Ah.j(a))?ck:ak,d=H.G(a,ii,ek);if("undefined"===typeof zi||"undefined"===typeof Ai||"undefined"===typeof Oj||"undefined"===typeof Pj)Pj=function(e,f,h,k,l){this.pd=e;this.id=f;this.Hc=h;this.dc=k;this.nd=l;this.I=393216;this.$=0},Pj.prototype.oa=function(e,f){return new Pj(this.pd,this.id,this.Hc,this.dc,f)},Pj.prototype.la=function(){return this.nd},Pj.prototype.rd=function(){return this.id},Pj.prototype.Nc=function(e,f,h){return this.dc.G?this.dc.G(this,
f,h):this.dc.call(null,this,f,h)},Pj.prototype.Lc=function(e,f){e=this.Hc;return"object"!==t(f)?f:bd(f)?hk(f,this,e):(null==f?0:null!=f?f.I&64||u===f.yb||(f.I?0:y(Ua,f)):y(Ua,f))?gk(f,this):Gi(f)?X(f):(null!=f?f.I&2147483648||u===f.ra||(f.I?0:y(Cb,f)):y(Cb,f))?ig(Ic([f])):f},Pj.prototype.Mc=function(e,f,h,k,l){return Yj(this,f,h,k,l)},Pj.Mb=!0,Pj.rb="reagent.impl.template/t_reagent$impl$template26326",Pj.Yb=function(e){return G(e,"reagent.impl.template/t_reagent$impl$template26326")};return new Pj(a,
b,c,d,Td)}(Td);var jk=si(12,{});function kk(a){a=ia(a,"comp");ti.useEffect(function(){var c=Ii;Ii=!1;try{Ti.flush_after_render()}finally{Ii=c}});var b=Ii;Ii=!0;try{return a.Y?a.Y():a.call(null)}finally{Ii=b}}function lk(){var a=new Y(null,1,5,Z,[mk],null);nk.render(ti.createElement(kk,{comp:function(){return Xi(ik,a)}}))};var ok=si(75,{});function pk(a,b){this.Ic=a;this.Qc=b}pk.prototype.getKey=function(){return this.Ic};pk.prototype.getValue=function(){return this.Qc};pk.prototype.clone=function(){return new pk(this.Ic,this.Qc)};function qk(a){this.ab=[];if(a)a:{if(a instanceof qk){var b=a.ab;for(var c=[],d=b.length,e=0;e<d;e++)c.push(b[e].getKey());b=c;a=a.ab;c=[];d=a.length;for(e=0;e<d;e++)c.push(a[e].getValue());a=c;if(0>=this.ab.length){c=this.ab;for(d=0;d<b.length;d++)c.push(new pk(b[d],a[d]));break a}}else{b=ha(a);c=[];d=0;for(e in a)c[d++]=a[e];a=c}for(d=0;d<b.length;d++)this.insert(b[d],a[d])}}g=qk.prototype;
g.insert=function(a,b){var c=this.ab;c.push(new pk(a,b));a=c.length-1;b=this.ab;for(c=b[a];0<a;){var d=a-1>>1;if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};g.remove=function(){var a=this.ab,b=a.length,c=a[0];if(!(0>=b)){if(1==b)la(a);else{a[0]=a.pop();a=0;b=this.ab;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};g.peek=function(){var a=this.ab;if(0!=a.length)return a[0].getValue()};
g.clone=function(){return new qk(this)};g.isEmpty=function(){return 0===this.ab.length};g.clear=function(){la(this.ab)};function rk(){qk.call(this)}fa(rk,qk);rk.prototype.enqueue=function(a,b){this.insert(a,b)};rk.prototype.dequeue=function(){return this.remove()};function sk(a){--a;return 0<a?a:0}function tk(a){a=Sd(a);var b=H.B(a,Pg);return H.B(a,Wg)*Math.sqrt(-2*Math.log(1-Math.random()))*Math.cos(2*Math.PI*Math.random())+b}var Kg=function(){var a=new ae(Td),b=new ae(Td),c=new ae(Td),d=new ae(Td),e=H.G(Td,Bh,vg.Y?vg.Y():vg.call(null));return new Gg(hc.B("net.thewagner.skiers.core","handle-event"),function(f,h){return Ph.j(h)},e,a,b,c,d)}();Jg(Hg,function(a){return a});Jg(rh,function(a){return je(je(a,Dh,sk),Nh,tc)});
Jg(Mg,function(a,b){a=Sd(a);var c=H.B(a,ki),d=H.B(a,Uh);b=Sd(b);b=H.B(b,Jh);c=d/tk(c);return ke(je(je(a,hi,sk),Dh,tc),gi,Jc,new v(null,2,[Ph,rh,Jh,b+c],null))});Jg(vh,function(a,b){var c=Sd(a),d=H.B(c,Gh),e=H.B(c,bi);a=H.B(c,fi);b=Sd(b);b=H.B(b,Jh);var f=Nh.j(c);e=0>f?0:0<=f&&f<=e?f:e<f?e:null;c=ke(ke(c,Nh,sd,e),hi,rd,e);d=new v(null,2,[Ph,Mg,Jh,b+tk(d)],null);return ke(ke(c,gi,ie,ee(e,new he(null,-1,d,null))),gi,Jc,new v(null,2,[Ph,vh,Jh,b+a],null))});var uk;
a:for(var vk=[Uh,hi,Gh,gi,Dh,fi,xh,ki,bi,Jh,Nh],wk=[3E3,0,new v(null,2,[Pg,300,Wg,30],null),new Y(null,1,5,Z,[new v(null,2,[Ph,vh,Jh,0],null)],null),0,7,1E4,new v(null,3,[Pg,5,Wg,1,Yh,"m/s"],null),4,0,25],xk=vk.length,yk=0,zk=Hb(ef);;)if(yk<xk){if(wk.length<=yk)throw Error(["No value supplied for key: ",B.j(vk[yk])].join(""));var Ak=yk+1,Bk=Kb(zk,vk[yk],wk[yk]);yk=Ak;zk=Bk}else{uk=Jb(zk);break a};var Ck=new v(null,6,[$h,"https://vega.github.io/schema/vega-lite/v5.json",gh,"A simple bar chart with embedded data.",Ug,new v(null,1,[oh,ci],null),bh,new Y(null,1,5,Z,[new v(null,2,[Qg,new Y(null,3,5,Z,[Dh,Nh,hi],null),mh,new Y(null,2,5,Z,["state","number-of-skiers"],null)],null)],null),Oh,"line",zh,new v(null,3,[Ih,new v(null,4,[ch,Jh,ji,"quantitative",hh,"time",Lh,new v(null,1,[Fh,!1],null)],null),Hh,new v(null,3,[ch,"number-of-skiers",ji,"quantitative",hh,"Number of skiers"],null),kh,new v(null,
1,[ch,"state"],null)],null)],null),Dk=new v(null,6,[$h,"https://vega.github.io/schema/vega-lite/v5.json",gh,"A simple bar chart with embedded data.",Ug,new v(null,1,[oh,ci],null),bh,new Y(null,1,5,Z,[new v(null,2,[Qg,new Y(null,3,5,Z,[Dh,Nh,hi],null),mh,new Y(null,2,5,Z,["state","number-of-skiers"],null)],null)],null),Oh,"bar",zh,new v(null,3,[Ih,new v(null,4,[ch,Jh,ji,"quantitative",hh,"time",Lh,new v(null,1,[Fh,!1],null)],null),Hh,new v(null,4,[ch,"number-of-skiers",ji,"quantitative",lh,"normalize",
hh,"Percentage of skiers"],null),kh,new v(null,1,[ch,"state"],null)],null)],null),Ek=ij.j(new v(null,1,[ci,new Y(null,1,5,Z,[uk],null)],null)),Fk=ij.j(new v(null,1,[eh,!0],null));
function Gk(){return ce.B(Ek,function(a){var b=W.G,c=Jc.B,d=ci.j(a),e;a:for(e=ci.j(a);;){var f=O(e);if(null!=f)e=f;else{e=N(e);break a}}a:{f=e;e=Kg;var h=gi.j(f),k=new rk;h=J(h);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ia(null,n);k.enqueue(Jh.j(p),p);n+=1}else if(h=J(h))l=h,cd(l)?(h=Mb(l),n=Nb(l),l=h,m=R(h),h=n):(h=N(l),k.enqueue(Jh.j(h),h),h=O(l),l=null,m=0),n=0;else break;h=k.dequeue();if(x(h)){m=l=W.G;b:for(n=Kc;;){if(x(k.isEmpty()))break b;p=k.dequeue();n=Jc.B(n,p)}f=m.call(W,f,gi,n);e=e.B?e.B(f,
h):e.call(null,f,h);e=l.call(W,e,Jh,h.j?h.j(Jh):h.call(null,Jh))}else e=f;d=c.call(Jc,d,e);c=J(d);for(d=J(fe(200,d));;)if(d)c=O(c),d=O(d);else break a}return b.call(W,a,ci,He(c))})}function Hk(){return x(eh.j(F(Fk)))?new Y(null,3,5,Z,[Lg,new v(null,1,[ih,function(){return ce.ba(Fk,W,eh,!1)}],null),"Pause"],null):new Y(null,3,5,Z,[Lg,new v(null,1,[ih,function(){return ce.ba(Fk,W,eh,!0)}],null),"Resume"],null)}
function Ik(){return new Y(null,3,5,Z,[Th,new v(null,2,[ji,"reset",ih,function(){be(Ek,new v(null,1,[ci,new Y(null,1,5,Z,[uk],null)],null));return be(Fk,new v(null,1,[eh,!0],null))}],null),"Restart"],null)}
function mk(){x(eh.j(F(Fk)))&&setTimeout(function(){return Gk()},100);return new Y(null,4,5,Z,[th,new Y(null,2,5,Z,[Vh,new Y(null,2,5,Z,[ei,"Skiers simulation"],null)],null),new Y(null,2,5,Z,[Vh,new Y(null,3,5,Z,[Ng,new Y(null,1,5,Z,[Hk],null),new Y(null,1,5,Z,[Ik],null)],null)],null),new Y(null,2,5,Z,[Vh,new Y(null,3,5,Z,[uh,new Y(null,2,5,Z,[Zg,new Y(null,3,5,Z,[dh,ok.VegaLite,new v(null,3,[Xg,Ck,Ug,F(Ek),$g,!1],null)],null)],null),new Y(null,2,5,Z,[Zg,new Y(null,3,5,Z,[dh,ok.VegaLite,new v(null,
3,[Xg,Dk,Ug,F(Ek),$g,!1],null)],null)],null)],null)],null)],null)}var Jk=jk.createRoot,Kk;Kk=document.getElementById("app");var nk=Jk.call(jk,Kk);try{lk()}catch(a){throw console.error("An error occurred when calling (net.thewagner.skiers.web/init)"),a;};
}).call(this);