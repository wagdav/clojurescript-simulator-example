var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&(c=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+c+"$"+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};
$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(f,g){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,e=function(f){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+d++,f)};return e},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.polyfill("Symbol.asyncIterator",function(a){return a?a:Symbol("Symbol.asyncIterator")},"es9","es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};
(function(){
shadow$provide[0]=function(fc,Eb,Wc,nb){function t(Y){if(null===Y||"object"!==typeof Y)return null;Y=Na&&Y[Na]||Y["@@iterator"];return"function"===typeof Y?Y:null}function l(Y,Ea,Ga){this.props=Y;this.context=Ea;this.refs=kb;this.updater=Ga||Da}function R(){}function hb(Y,Ea,Ga){this.props=Y;this.context=Ea;this.refs=kb;this.updater=Ga||Da}function Cb(Y,Ea,Ga){var cb,ca={},pa=null,x=null;if(null!=Ea)for(cb in void 0!==Ea.ref&&(x=Ea.ref),void 0!==Ea.key&&(pa=""+Ea.key),Ea)vb.call(Ea,cb)&&!Ob.hasOwnProperty(cb)&&
(ca[cb]=Ea[cb]);var N=arguments.length-2;if(1===N)ca.children=Ga;else if(1<N){for(var S=Array(N),g=0;g<N;g++)S[g]=arguments[g+2];ca.children=S}if(Y&&Y.defaultProps)for(cb in N=Y.defaultProps,N)void 0===ca[cb]&&(ca[cb]=N[cb]);return{$$typeof:Ua,type:Y,key:pa,ref:x,props:ca,_owner:qb.current}}function Yb(Y,Ea){return{$$typeof:Ua,type:Y.type,key:Ea,ref:Y.ref,props:Y.props,_owner:Y._owner}}function sc(Y){return"object"===typeof Y&&null!==Y&&Y.$$typeof===Ua}function zc(Y){var Ea={"\x3d":"\x3d0",":":"\x3d2"};
return"$"+Y.replace(/[=:]/g,function(Ga){return Ea[Ga]})}function pc(Y,Ea){return"object"===typeof Y&&null!==Y&&null!=Y.key?zc(""+Y.key):Ea.toString(36)}function Ab(Y,Ea,Ga,cb,ca){var pa=typeof Y;if("undefined"===pa||"boolean"===pa)Y=null;var x=!1;if(null===Y)x=!0;else switch(pa){case "string":case "number":x=!0;break;case "object":switch(Y.$$typeof){case Ua:case rb:x=!0}}if(x)return x=Y,ca=ca(x),Y=""===cb?"."+pc(x,0):cb,Ma(ca)?(Ga="",null!=Y&&(Ga=Y.replace(Vb,"$\x26/")+"/"),Ab(ca,Ea,Ga,"",function(g){return g})):
null!=ca&&(sc(ca)&&(ca=Yb(ca,Ga+(!ca.key||x&&x.key===ca.key?"":(""+ca.key).replace(Vb,"$\x26/")+"/")+Y)),Ea.push(ca)),1;x=0;cb=""===cb?".":cb+":";if(Ma(Y))for(var N=0;N<Y.length;N++){pa=Y[N];var S=cb+pc(pa,N);x+=Ab(pa,Ea,Ga,S,ca)}else if(S=t(Y),"function"===typeof S)for(Y=S.call(Y),N=0;!(pa=Y.next()).done;)pa=pa.value,S=cb+pc(pa,N++),x+=Ab(pa,Ea,Ga,S,ca);else if("object"===pa)throw Ea=String(Y),Error("Objects are not valid as a React child (found: "+("[object Object]"===Ea?"object with keys {"+Object.keys(Y).join(", ")+
"}":Ea)+"). If you meant to render a collection of children, use an array instead.");return x}function jc(Y,Ea,Ga){if(null==Y)return Y;var cb=[],ca=0;Ab(Y,cb,"","",function(pa){return Ea.call(Ga,pa,ca++)});return cb}function Sb(Y){if(-1===Y._status){var Ea=Y._result;Ea=Ea();Ea.then(function(Ga){if(0===Y._status||-1===Y._status)Y._status=1,Y._result=Ga},function(Ga){if(0===Y._status||-1===Y._status)Y._status=2,Y._result=Ga});-1===Y._status&&(Y._status=0,Y._result=Ea)}if(1===Y._status)return Y._result.default;
throw Y._result;}var Ua=Symbol.for("react.element"),rb=Symbol.for("react.portal");fc=Symbol.for("react.fragment");Eb=Symbol.for("react.strict_mode");Wc=Symbol.for("react.profiler");var Fb=Symbol.for("react.provider"),Hb=Symbol.for("react.context"),Bb=Symbol.for("react.forward_ref"),Lb=Symbol.for("react.suspense"),Wa=Symbol.for("react.memo"),pb=Symbol.for("react.lazy"),Na=Symbol.iterator,Da={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},
Ia=Object.assign,kb={};l.prototype.isReactComponent={};l.prototype.setState=function(Y,Ea){if("object"!==typeof Y&&"function"!==typeof Y&&null!=Y)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,Ea,"setState")};l.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};R.prototype=l.prototype;var mb=hb.prototype=new R;mb.constructor=hb;Ia(mb,l.prototype);
mb.isPureReactComponent=!0;var Ma=Array.isArray,vb=Object.prototype.hasOwnProperty,qb={current:null},Ob={key:!0,ref:!0,__self:!0,__source:!0},Vb=/\/+/g,ob={current:null},ra={transition:null};mb={ReactCurrentDispatcher:ob,ReactCurrentBatchConfig:ra,ReactCurrentOwner:qb};nb.Children={map:jc,forEach:function(Y,Ea,Ga){jc(Y,function(){Ea.apply(this,arguments)},Ga)},count:function(Y){var Ea=0;jc(Y,function(){Ea++});return Ea},toArray:function(Y){return jc(Y,function(Ea){return Ea})||[]},only:function(Y){if(!sc(Y))throw Error("React.Children.only expected to receive a single React element child.");
return Y}};nb.Component=l;nb.Fragment=fc;nb.Profiler=Wc;nb.PureComponent=hb;nb.StrictMode=Eb;nb.Suspense=Lb;nb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mb;nb.cloneElement=function(Y,Ea,Ga){if(null===Y||void 0===Y)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var cb=Ia({},Y.props),ca=Y.key,pa=Y.ref,x=Y._owner;if(null!=Ea){void 0!==Ea.ref&&(pa=Ea.ref,x=qb.current);void 0!==Ea.key&&(ca=""+Ea.key);if(Y.type&&Y.type.defaultProps)var N=Y.type.defaultProps;
for(S in Ea)vb.call(Ea,S)&&!Ob.hasOwnProperty(S)&&(cb[S]=void 0===Ea[S]&&void 0!==N?N[S]:Ea[S])}var S=arguments.length-2;if(1===S)cb.children=Ga;else if(1<S){N=Array(S);for(var g=0;g<S;g++)N[g]=arguments[g+2];cb.children=N}return{$$typeof:Ua,type:Y.type,key:ca,ref:pa,props:cb,_owner:x}};nb.createContext=function(Y){Y={$$typeof:Hb,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};Y.Provider={$$typeof:Fb,_context:Y};return Y.Consumer=Y};
nb.createElement=Cb;nb.createFactory=function(Y){var Ea=Cb.bind(null,Y);Ea.type=Y;return Ea};nb.createRef=function(){return{current:null}};nb.forwardRef=function(Y){return{$$typeof:Bb,render:Y}};nb.isValidElement=sc;nb.lazy=function(Y){return{$$typeof:pb,_payload:{_status:-1,_result:Y},_init:Sb}};nb.memo=function(Y,Ea){return{$$typeof:Wa,type:Y,compare:void 0===Ea?null:Ea}};nb.startTransition=function(Y){var Ea=ra.transition;ra.transition={};try{Y()}finally{ra.transition=Ea}};nb.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.");
};nb.useCallback=function(Y,Ea){return ob.current.useCallback(Y,Ea)};nb.useContext=function(Y){return ob.current.useContext(Y)};nb.useDebugValue=function(){};nb.useDeferredValue=function(Y){return ob.current.useDeferredValue(Y)};nb.useEffect=function(Y,Ea){return ob.current.useEffect(Y,Ea)};nb.useId=function(){return ob.current.useId()};nb.useImperativeHandle=function(Y,Ea,Ga){return ob.current.useImperativeHandle(Y,Ea,Ga)};nb.useInsertionEffect=function(Y,Ea){return ob.current.useInsertionEffect(Y,
Ea)};nb.useLayoutEffect=function(Y,Ea){return ob.current.useLayoutEffect(Y,Ea)};nb.useMemo=function(Y,Ea){return ob.current.useMemo(Y,Ea)};nb.useReducer=function(Y,Ea,Ga){return ob.current.useReducer(Y,Ea,Ga)};nb.useRef=function(Y){return ob.current.useRef(Y)};nb.useState=function(Y){return ob.current.useState(Y)};nb.useSyncExternalStore=function(Y,Ea,Ga){return ob.current.useSyncExternalStore(Y,Ea,Ga)};nb.useTransition=function(){return ob.current.useTransition()};nb.version="18.2.0"};
shadow$provide[2]=function(fc,Eb,Wc,nb){Wc.exports=Eb(0)};
shadow$provide[3]=function(fc,Eb,Wc,nb){function t(Y,Ea){var Ga=Y.length;Y.push(Ea);a:for(;0<Ga;){var cb=Ga-1>>>1,ca=Y[cb];if(0<hb(ca,Ea))Y[cb]=Ea,Y[Ga]=ca,Ga=cb;else break a}}function l(Y){return 0===Y.length?null:Y[0]}function R(Y){if(0===Y.length)return null;var Ea=Y[0],Ga=Y.pop();if(Ga!==Ea){Y[0]=Ga;var cb=0,ca=Y.length,pa=ca>>>1;a:for(;cb<pa;){var x=2*(cb+1)-1,N=Y[x],S=x+1,g=Y[S];if(0>hb(N,Ga))S<ca&&0>hb(g,N)?(Y[cb]=g,Y[S]=Ga,cb=S):(Y[cb]=N,Y[x]=Ga,cb=x);else if(S<ca&&0>hb(g,Ga))Y[cb]=g,Y[S]=
Ga,cb=S;else break a}}return Ea}function hb(Y,Ea){var Ga=Y.sortIndex-Ea.sortIndex;return 0!==Ga?Ga:Y.id-Ea.id}function Cb(Y){for(var Ea=l(Hb);null!==Ea;){if(null===Ea.callback)R(Hb);else if(Ea.startTime<=Y)R(Hb),Ea.sortIndex=Ea.expirationTime,t(Fb,Ea);else break;Ea=l(Hb)}}function Yb(Y){Da=!1;Cb(Y);if(!Na)if(null!==l(Fb))Na=!0,Ab(sc);else{var Ea=l(Hb);null!==Ea&&jc(Yb,Ea.startTime-Y)}}function sc(Y,Ea){Na=!1;Da&&(Da=!1,kb(qb),qb=-1);pb=!0;var Ga=Wa;try{Cb(Ea);for(Lb=l(Fb);null!==Lb&&(!(Lb.expirationTime>
Ea)||Y&&!zc());){var cb=Lb.callback;if("function"===typeof cb){Lb.callback=null;Wa=Lb.priorityLevel;var ca=cb(Lb.expirationTime<=Ea);Ea=nb.unstable_now();"function"===typeof ca?Lb.callback=ca:Lb===l(Fb)&&R(Fb);Cb(Ea)}else R(Fb);Lb=l(Fb)}if(null!==Lb)var pa=!0;else{var x=l(Hb);null!==x&&jc(Yb,x.startTime-Ea);pa=!1}return pa}finally{Lb=null,Wa=Ga,pb=!1}}function zc(){return nb.unstable_now()-Vb<Ob?!1:!0}function pc(){if(null!==vb){var Y=nb.unstable_now();Vb=Y;var Ea=!0;try{Ea=vb(!0,Y)}finally{Ea?ob():
(Ma=!1,vb=null)}}else Ma=!1}function Ab(Y){vb=Y;Ma||(Ma=!0,ob())}function jc(Y,Ea){qb=Ia(function(){Y(nb.unstable_now())},Ea)}if("object"===typeof performance&&"function"===typeof performance.now){var Sb=performance;nb.unstable_now=function(){return Sb.now()}}else{var Ua=Date,rb=Ua.now();nb.unstable_now=function(){return Ua.now()-rb}}var Fb=[],Hb=[],Bb=1,Lb=null,Wa=3,pb=!1,Na=!1,Da=!1,Ia="function"===typeof setTimeout?setTimeout:null,kb="function"===typeof clearTimeout?clearTimeout:null,mb="undefined"!==
typeof setImmediate?setImmediate:null;"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var Ma=!1,vb=null,qb=-1,Ob=5,Vb=-1;if("function"===typeof mb)var ob=function(){mb(pc)};else if("undefined"!==typeof MessageChannel){fc=new MessageChannel;var ra=fc.port2;fc.port1.onmessage=pc;ob=function(){ra.postMessage(null)}}else ob=function(){Ia(pc,0)};nb.unstable_IdlePriority=5;nb.unstable_ImmediatePriority=
1;nb.unstable_LowPriority=4;nb.unstable_NormalPriority=3;nb.unstable_Profiling=null;nb.unstable_UserBlockingPriority=2;nb.unstable_cancelCallback=function(Y){Y.callback=null};nb.unstable_continueExecution=function(){Na||pb||(Na=!0,Ab(sc))};nb.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ob=0<Y?Math.floor(1E3/Y):5};nb.unstable_getCurrentPriorityLevel=function(){return Wa};
nb.unstable_getFirstCallbackNode=function(){return l(Fb)};nb.unstable_next=function(Y){switch(Wa){case 1:case 2:case 3:var Ea=3;break;default:Ea=Wa}var Ga=Wa;Wa=Ea;try{return Y()}finally{Wa=Ga}};nb.unstable_pauseExecution=function(){};nb.unstable_requestPaint=function(){};nb.unstable_runWithPriority=function(Y,Ea){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Ga=Wa;Wa=Y;try{return Ea()}finally{Wa=Ga}};nb.unstable_scheduleCallback=function(Y,Ea,Ga){var cb=nb.unstable_now();"object"===
typeof Ga&&null!==Ga?(Ga=Ga.delay,Ga="number"===typeof Ga&&0<Ga?cb+Ga:cb):Ga=cb;switch(Y){case 1:var ca=-1;break;case 2:ca=250;break;case 5:ca=1073741823;break;case 4:ca=1E4;break;default:ca=5E3}ca=Ga+ca;Y={id:Bb++,callback:Ea,priorityLevel:Y,startTime:Ga,expirationTime:ca,sortIndex:-1};Ga>cb?(Y.sortIndex=Ga,t(Hb,Y),null===l(Fb)&&Y===l(Hb)&&(Da?(kb(qb),qb=-1):Da=!0,jc(Yb,Ga-cb))):(Y.sortIndex=ca,t(Fb,Y),Na||pb||(Na=!0,Ab(sc)));return Y};nb.unstable_shouldYield=zc;nb.unstable_wrapCallback=function(Y){var Ea=
Wa;return function(){var Ga=Wa;Wa=Ea;try{return Y.apply(this,arguments)}finally{Wa=Ga}}}};
shadow$provide[5]=function(fc,Eb,Wc,nb){Wc.exports=Eb(3)};
shadow$provide[6]=function(fc,Eb,Wc,nb){function t(b){for(var e="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+b,q=1;q<arguments.length;q++)e+="\x26args[]\x3d"+encodeURIComponent(arguments[q]);return"Minified React error #"+b+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(b,e){R(b,e);R(b+"Capture",e)}function R(b,e){V[b]=e;for(b=0;b<e.length;b++)A.add(e[b])}function hb(b){if(Fa.call(Mb,b))return!0;
if(Fa.call(xb,b))return!1;if(tb.test(b))return Mb[b]=!0;xb[b]=!0;return!1}function Cb(b,e,q,M){if(null!==q&&0===q.type)return!1;switch(typeof e){case "function":case "symbol":return!0;case "boolean":if(M)return!1;if(null!==q)return!q.acceptsBooleans;b=b.toLowerCase().slice(0,5);return"data-"!==b&&"aria-"!==b;default:return!1}}function Yb(b,e,q,M){if(null===e||"undefined"===typeof e||Cb(b,e,q,M))return!0;if(M)return!1;if(null!==q)switch(q.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);
case 6:return isNaN(e)||1>e}return!1}function sc(b,e,q,M,qa,Ba,ub){this.acceptsBooleans=2===e||3===e||4===e;this.attributeName=M;this.attributeNamespace=qa;this.mustUseProperty=q;this.propertyName=b;this.type=e;this.sanitizeURL=Ba;this.removeEmptyString=ub}function zc(b){return b[1].toUpperCase()}function pc(b,e,q,M){var qa=Nb.hasOwnProperty(e)?Nb[e]:null;if(null!==qa?0!==qa.type:M||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])Yb(e,q,qa,M)&&(q=null),M||null===qa?hb(e)&&(null===q?
b.removeAttribute(e):b.setAttribute(e,""+q)):qa.mustUseProperty?b[qa.propertyName]=null===q?3===qa.type?!1:"":q:(e=qa.attributeName,M=qa.attributeNamespace,null===q?b.removeAttribute(e):(qa=qa.type,q=3===qa||4===qa&&!0===q?"":""+q,M?b.setAttributeNS(M,e,q):b.setAttribute(e,q)))}function Ab(b){if(null===b||"object"!==typeof b)return null;b=Pg&&b[Pg]||b["@@iterator"];return"function"===typeof b?b:null}function jc(b){if(void 0===Je)try{throw Error();}catch(q){var e=q.stack.trim().match(/\n( *(at )?)/);
Je=e&&e[1]||""}return"\n"+Je+b}function Sb(b,e){if(!b||le)return"";le=!0;var q=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error();},Object.defineProperty(e.prototype,"props",{set:function(){throw Error();}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(zd){var M=zd}Reflect.construct(b,[],e)}else{try{e.call()}catch(zd){M=zd}b.call(e.prototype)}else{try{throw Error();}catch(zd){M=zd}b()}}catch(zd){if(zd&&M&&"string"===typeof zd.stack){for(var qa=
zd.stack.split("\n"),Ba=M.stack.split("\n"),ub=qa.length-1,wc=Ba.length-1;1<=ub&&0<=wc&&qa[ub]!==Ba[wc];)wc--;for(;1<=ub&&0<=wc;ub--,wc--)if(qa[ub]!==Ba[wc]){if(1!==ub||1!==wc){do if(ub--,wc--,0>wc||qa[ub]!==Ba[wc]){var Oc="\n"+qa[ub].replace(" at new "," at ");b.displayName&&Oc.includes("\x3canonymous\x3e")&&(Oc=Oc.replace("\x3canonymous\x3e",b.displayName));return Oc}while(1<=ub&&0<=wc)}break}}}finally{le=!1,Error.prepareStackTrace=q}return(b=b?b.displayName||b.name:"")?jc(b):""}function Ua(b){switch(b.tag){case 5:return jc(b.type);
case 16:return jc("Lazy");case 13:return jc("Suspense");case 19:return jc("SuspenseList");case 0:case 2:case 15:return b=Sb(b.type,!1),b;case 11:return b=Sb(b.type.render,!1),b;case 1:return b=Sb(b.type,!0),b;default:return""}}function rb(b){if(null==b)return null;if("function"===typeof b)return b.displayName||b.name||null;if("string"===typeof b)return b;switch(b){case sd:return"Fragment";case nc:return"Portal";case ze:return"Profiler";case xd:return"StrictMode";case Zf:return"Suspense";case ig:return"SuspenseList"}if("object"===
typeof b)switch(b.$$typeof){case Xe:return(b.displayName||"Context")+".Consumer";case oe:return(b._context.displayName||"Context")+".Provider";case Ef:var e=b.render;(b=b.displayName)||(b=e.displayName||e.name||"",b=""!==b?"ForwardRef("+b+")":"ForwardRef");return b;case Gh:return e=b.displayName||null,null!==e?e:rb(b.type)||"Memo";case jg:e=b._payload;b=b._init;try{return rb(b(e))}catch(q){}}return null}function Fb(b){var e=b.type;switch(b.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+
".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return b=e.render,b=b.displayName||b.name||"",e.displayName||(""!==b?"ForwardRef("+b+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rb(e);case 8:return e===xd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";
case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function Hb(b){switch(typeof b){case "boolean":case "number":case "string":case "undefined":return b;case "object":return b;default:return""}}function Bb(b){var e=b.type;return(b=b.nodeName)&&"input"===b.toLowerCase()&&("checkbox"===e||"radio"===e)}function Lb(b){var e=Bb(b)?"checked":"value",q=Object.getOwnPropertyDescriptor(b.constructor.prototype,
e),M=""+b[e];if(!b.hasOwnProperty(e)&&"undefined"!==typeof q&&"function"===typeof q.get&&"function"===typeof q.set){var qa=q.get,Ba=q.set;Object.defineProperty(b,e,{configurable:!0,get:function(){return qa.call(this)},set:function(ub){M=""+ub;Ba.call(this,ub)}});Object.defineProperty(b,e,{enumerable:q.enumerable});return{getValue:function(){return M},setValue:function(ub){M=""+ub},stopTracking:function(){b._valueTracker=null;delete b[e]}}}}function Wa(b){b._valueTracker||(b._valueTracker=Lb(b))}function pb(b){if(!b)return!1;
var e=b._valueTracker;if(!e)return!0;var q=e.getValue(),M="";b&&(M=Bb(b)?b.checked?"true":"false":b.value);b=M;return b!==q?(e.setValue(b),!0):!1}function Na(b){b=b||("undefined"!==typeof document?document:void 0);if("undefined"===typeof b)return null;try{return b.activeElement||b.body}catch(e){return b.body}}function Da(b,e){var q=e.checked;return vg({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=q?q:b._wrapperState.initialChecked})}function Ia(b,e){var q=null==e.defaultValue?
"":e.defaultValue,M=null!=e.checked?e.checked:e.defaultChecked;q=Hb(null!=e.value?e.value:q);b._wrapperState={initialChecked:M,initialValue:q,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function kb(b,e){e=e.checked;null!=e&&pc(b,"checked",e,!1)}function mb(b,e){kb(b,e);var q=Hb(e.value),M=e.type;if(null!=q)if("number"===M){if(0===q&&""===b.value||b.value!=q)b.value=""+q}else b.value!==""+q&&(b.value=""+q);else if("submit"===M||"reset"===M){b.removeAttribute("value");
return}e.hasOwnProperty("value")?vb(b,e.type,q):e.hasOwnProperty("defaultValue")&&vb(b,e.type,Hb(e.defaultValue));null==e.checked&&null!=e.defaultChecked&&(b.defaultChecked=!!e.defaultChecked)}function Ma(b,e,q){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var M=e.type;if(!("submit"!==M&&"reset"!==M||void 0!==e.value&&null!==e.value))return;e=""+b._wrapperState.initialValue;q||e===b.value||(b.value=e);b.defaultValue=e}q=b.name;""!==q&&(b.name="");b.defaultChecked=!!b._wrapperState.initialChecked;
""!==q&&(b.name=q)}function vb(b,e,q){if("number"!==e||Na(b.ownerDocument)!==b)null==q?b.defaultValue=""+b._wrapperState.initialValue:b.defaultValue!==""+q&&(b.defaultValue=""+q)}function qb(b,e,q,M){b=b.options;if(e){e={};for(var qa=0;qa<q.length;qa++)e["$"+q[qa]]=!0;for(q=0;q<b.length;q++)qa=e.hasOwnProperty("$"+b[q].value),b[q].selected!==qa&&(b[q].selected=qa),qa&&M&&(b[q].defaultSelected=!0)}else{q=""+Hb(q);e=null;for(qa=0;qa<b.length;qa++){if(b[qa].value===q){b[qa].selected=!0;M&&(b[qa].defaultSelected=
!0);return}null!==e||b[qa].disabled||(e=b[qa])}null!==e&&(e.selected=!0)}}function Ob(b,e){if(null!=e.dangerouslySetInnerHTML)throw Error(t(91));return vg({},e,{value:void 0,defaultValue:void 0,children:""+b._wrapperState.initialValue})}function Vb(b,e){var q=e.value;if(null==q){q=e.children;e=e.defaultValue;if(null!=q){if(null!=e)throw Error(t(92));if(Oe(q)){if(1<q.length)throw Error(t(93));q=q[0]}e=q}null==e&&(e="");q=e}b._wrapperState={initialValue:Hb(q)}}function ob(b,e){var q=Hb(e.value),M=Hb(e.defaultValue);
null!=q&&(q=""+q,q!==b.value&&(b.value=q),null==e.defaultValue&&b.defaultValue!==q&&(b.defaultValue=q));null!=M&&(b.defaultValue=""+M)}function ra(b){var e=b.textContent;e===b._wrapperState.initialValue&&""!==e&&null!==e&&(b.value=e)}function Y(b){switch(b){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ea(b,e){return null==b||"http://www.w3.org/1999/xhtml"===b?Y(e):"http://www.w3.org/2000/svg"===
b&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":b}function Ga(b,e){if(e){var q=b.firstChild;if(q&&q===b.lastChild&&3===q.nodeType){q.nodeValue=e;return}}b.textContent=e}function cb(b,e,q){return null==e||"boolean"===typeof e||""===e?"":q||"number"!==typeof e||0===e||Ig.hasOwnProperty(b)&&Ig[b]?(""+e).trim():e+"px"}function ca(b,e){b=b.style;for(var q in e)if(e.hasOwnProperty(q)){var M=0===q.indexOf("--"),qa=cb(q,e[q],M);"float"===q&&(q="cssFloat");M?b.setProperty(q,qa):b[q]=qa}}function pa(b,
e){if(e){if(mg[b]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(t(137,b));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(t(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(t(61));}if(null!=e.style&&"object"!==typeof e.style)throw Error(t(62));}}function x(b,e){if(-1===b.indexOf("-"))return"string"===typeof e.is;switch(b){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;
default:return!0}}function N(b){b=b.target||b.srcElement||window;b.correspondingUseElement&&(b=b.correspondingUseElement);return 3===b.nodeType?b.parentNode:b}function S(b){if(b=cc(b)){if("function"!==typeof fi)throw Error(t(280));var e=b.stateNode;e&&(e=Bc(e),fi(b.stateNode,b.type,e))}}function g(b){ej?qj?qj.push(b):qj=[b]:ej=b}function z(){if(ej){var b=ej,e=qj;qj=ej=null;S(b);if(e)for(b=0;b<e.length;b++)S(e[b])}}function m(b,e){return b(e)}function E(){}function h(b,e,q){if(Gj)return b(e,q);Gj=
!0;try{return m(b,e,q)}finally{if(Gj=!1,null!==ej||null!==qj)E(),z()}}function p(b,e){var q=b.stateNode;if(null===q)return null;var M=Bc(q);if(null===M)return null;q=M[e];a:switch(e){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(M=!M.disabled)||(b=b.type,M=!("button"===b||"input"===b||"select"===b||"textarea"===
b));b=!M;break a;default:b=!1}if(b)return null;if(q&&"function"!==typeof q)throw Error(t(231,e,typeof q));return q}function r(b,e,q,M,qa,Ba,ub,wc,Oc){var zd=Array.prototype.slice.call(arguments,3);try{e.apply(q,zd)}catch(ge){this.onError(ge)}}function v(b,e,q,M,qa,Ba,ub,wc,Oc){Hj=!1;Ij=null;r.apply(Fk,arguments)}function F(b,e,q,M,qa,Ba,ub,wc,Oc){v.apply(this,arguments);if(Hj){if(Hj){var zd=Ij;Hj=!1;Ij=null}else throw Error(t(198));rj||(rj=!0,Gk=zd)}}function aa(b){var e=b,q=b;if(b.alternate)for(;e.return;)e=
e.return;else{b=e;do e=b,0!==(e.flags&4098)&&(q=e.return),b=e.return;while(b)}return 3===e.tag?q:null}function O(b){if(13===b.tag){var e=b.memoizedState;null===e&&(b=b.alternate,null!==b&&(e=b.memoizedState));if(null!==e)return e.dehydrated}return null}function u(b){if(aa(b)!==b)throw Error(t(188));}function I(b){var e=b.alternate;if(!e){e=aa(b);if(null===e)throw Error(t(188));return e!==b?null:b}for(var q=b,M=e;;){var qa=q.return;if(null===qa)break;var Ba=qa.alternate;if(null===Ba){M=qa.return;if(null!==
M){q=M;continue}break}if(qa.child===Ba.child){for(Ba=qa.child;Ba;){if(Ba===q)return u(qa),b;if(Ba===M)return u(qa),e;Ba=Ba.sibling}throw Error(t(188));}if(q.return!==M.return)q=qa,M=Ba;else{for(var ub=!1,wc=qa.child;wc;){if(wc===q){ub=!0;q=qa;M=Ba;break}if(wc===M){ub=!0;M=qa;q=Ba;break}wc=wc.sibling}if(!ub){for(wc=Ba.child;wc;){if(wc===q){ub=!0;q=Ba;M=qa;break}if(wc===M){ub=!0;M=Ba;q=qa;break}wc=wc.sibling}if(!ub)throw Error(t(189));}}if(q.alternate!==M)throw Error(t(190));}if(3!==q.tag)throw Error(t(188));
return q.stateNode.current===q?b:e}function va(b){b=I(b);return null!==b?La(b):null}function La(b){if(5===b.tag||6===b.tag)return b;for(b=b.child;null!==b;){var e=La(b);if(null!==e)return e;b=b.sibling}return null}function Xa(b){if(si&&"function"===typeof si.onCommitFiberRoot)try{si.onCommitFiberRoot(ik,b,void 0,128===(b.current.flags&128))}catch(e){}}function ab(b){b>>>=0;return 0===b?32:31-(Hl(b)/gl|0)|0}function Z(b){switch(b&-b){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;
case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return b&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return b}}function Ca(b,e){var q=b.pendingLanes;if(0===
q)return 0;var M=0,qa=b.suspendedLanes,Ba=b.pingedLanes,ub=q&268435455;if(0!==ub){var wc=ub&~qa;0!==wc?M=Z(wc):(Ba&=ub,0!==Ba&&(M=Z(Ba)))}else ub=q&~qa,0!==ub?M=Z(ub):0!==Ba&&(M=Z(Ba));if(0===M)return 0;if(0!==e&&e!==M&&0===(e&qa)&&(qa=M&-M,Ba=e&-e,qa>=Ba||16===qa&&0!==(Ba&4194240)))return e;0!==(M&4)&&(M|=q&16);e=b.entangledLanes;if(0!==e)for(b=b.entanglements,e&=M;0<e;)q=31-gi(e),qa=1<<q,M|=b[q],e&=~qa;return M}function Ya(b,e){switch(b){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+
5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kb(b,e){for(var q=b.suspendedLanes,M=b.pingedLanes,qa=b.expirationTimes,Ba=b.pendingLanes;0<Ba;){var ub=31-gi(Ba),wc=1<<ub,Oc=qa[ub];if(-1===Oc){if(0===(wc&q)||0!==(wc&M))qa[ub]=Ya(wc,e)}else Oc<=e&&(b.expiredLanes|=wc);Ba&=~wc}}function xc(b){b=b.pendingLanes&-1073741825;return 0!==b?b:b&1073741824?1073741824:0}function rc(){var b=
Jj;Jj<<=1;0===(Jj&4194240)&&(Jj=64);return b}function yc(b){for(var e=[],q=0;31>q;q++)e.push(b);return e}function dd(b,e,q){b.pendingLanes|=e;536870912!==e&&(b.suspendedLanes=0,b.pingedLanes=0);b=b.eventTimes;e=31-gi(e);b[e]=q}function $b(b,e){var q=b.pendingLanes&~e;b.pendingLanes=e;b.suspendedLanes=0;b.pingedLanes=0;b.expiredLanes&=e;b.mutableReadLanes&=e;b.entangledLanes&=e;e=b.entanglements;var M=b.eventTimes;for(b=b.expirationTimes;0<q;){var qa=31-gi(q),Ba=1<<qa;e[qa]=0;M[qa]=-1;b[qa]=-1;q&=
~Ba}}function Rc(b,e){var q=b.entangledLanes|=e;for(b=b.entanglements;q;){var M=31-gi(q),qa=1<<M;qa&e|b[M]&e&&(b[M]|=e);q&=~qa}}function Pd(b){b&=-b;return 1<b?4<b?0!==(b&268435455)?16:536870912:4:1}function Pa(b,e){switch(b){case "focusin":case "focusout":Ti=null;break;case "dragenter":case "dragleave":Ui=null;break;case "mouseover":case "mouseout":Vi=null;break;case "pointerover":case "pointerout":Kj.delete(e.pointerId);break;case "gotpointercapture":case "lostpointercapture":sj.delete(e.pointerId)}}
function Wb(b,e,q,M,qa,Ba){if(null===b||b.nativeEvent!==Ba)return b={blockedOn:e,domEventName:q,eventSystemFlags:M,nativeEvent:Ba,targetContainers:[qa]},null!==e&&(e=cc(e),null!==e&&Hk(e)),b;b.eventSystemFlags|=M;e=b.targetContainers;null!==qa&&-1===e.indexOf(qa)&&e.push(qa);return b}function sb(b,e,q,M,qa){switch(e){case "focusin":return Ti=Wb(Ti,b,e,q,M,qa),!0;case "dragenter":return Ui=Wb(Ui,b,e,q,M,qa),!0;case "mouseover":return Vi=Wb(Vi,b,e,q,M,qa),!0;case "pointerover":var Ba=qa.pointerId;Kj.set(Ba,
Wb(Kj.get(Ba)||null,b,e,q,M,qa));return!0;case "gotpointercapture":return Ba=qa.pointerId,sj.set(Ba,Wb(sj.get(Ba)||null,b,e,q,M,qa)),!0}return!1}function Tb(b){var e=Sa(b.target);if(null!==e){var q=aa(e);if(null!==q)if(e=q.tag,13===e){if(e=O(q),null!==e){b.blockedOn=e;Gi(b.priority,function(){Il(q)});return}}else if(3===e&&q.stateNode.current.memoizedState.isDehydrated){b.blockedOn=3===q.tag?q.stateNode.containerInfo:null;return}}b.blockedOn=null}function ic(b){if(null!==b.blockedOn)return!1;for(var e=
b.targetContainers;0<e.length;){var q=gb(b.domEventName,b.eventSystemFlags,e[0],b.nativeEvent);if(null===q){q=b.nativeEvent;var M=new q.constructor(q.type,q);Oh=M;q.target.dispatchEvent(M);Oh=null}else return e=cc(q),null!==e&&Hk(e),b.blockedOn=q,!1;e.shift()}return!0}function dc(b,e,q){ic(b)&&q.delete(e)}function Ic(){Ik=!1;null!==Ti&&ic(Ti)&&(Ti=null);null!==Ui&&ic(Ui)&&(Ui=null);null!==Vi&&ic(Vi)&&(Vi=null);Kj.forEach(dc);sj.forEach(dc)}function Ac(b,e){b.blockedOn===e&&(b.blockedOn=null,Ik||(Ik=
!0,Ve.unstable_scheduleCallback(Ve.unstable_NormalPriority,Ic)))}function Zc(b){function e(qa){return Ac(qa,b)}if(0<jk.length){Ac(jk[0],b);for(var q=1;q<jk.length;q++){var M=jk[q];M.blockedOn===b&&(M.blockedOn=null)}}null!==Ti&&Ac(Ti,b);null!==Ui&&Ac(Ui,b);null!==Vi&&Ac(Vi,b);Kj.forEach(e);sj.forEach(e);for(q=0;q<qg.length;q++)M=qg[q],M.blockedOn===b&&(M.blockedOn=null);for(;0<qg.length&&(q=qg[0],null===q.blockedOn);)Tb(q),null===q.blockedOn&&qg.shift()}function Nd(b,e,q,M){var qa=ng,Ba=Wi.transition;
Wi.transition=null;try{ng=1,Ha(b,e,q,M)}finally{ng=qa,Wi.transition=Ba}}function ud(b,e,q,M){var qa=ng,Ba=Wi.transition;Wi.transition=null;try{ng=4,Ha(b,e,q,M)}finally{ng=qa,Wi.transition=Ba}}function Ha(b,e,q,M){if(Hi){var qa=gb(b,e,q,M);if(null===qa)df(b,e,M,Lj,q),Pa(b,M);else if(sb(qa,b,e,q,M))M.stopPropagation();else if(Pa(b,M),e&4&&-1<ni.indexOf(b)){for(;null!==qa;){var Ba=cc(qa);null!==Ba&&hl(Ba);Ba=gb(b,e,q,M);null===Ba&&df(b,e,M,Lj,q);if(Ba===qa)break;qa=Ba}null!==qa&&M.stopPropagation()}else df(b,
e,M,null,q)}}function gb(b,e,q,M){Lj=null;b=N(M);b=Sa(b);if(null!==b)if(e=aa(b),null===e)b=null;else if(q=e.tag,13===q){b=O(e);if(null!==b)return b;b=null}else if(3===q){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;b=null}else e!==b&&(b=null);Lj=b;return null}function wb(b){switch(b){case "cancel":case "click":case "close":case "contextmenu":case "copy":case "cut":case "auxclick":case "dblclick":case "dragend":case "dragstart":case "drop":case "focusin":case "focusout":case "input":case "invalid":case "keydown":case "keypress":case "keyup":case "mousedown":case "mouseup":case "paste":case "pause":case "play":case "pointercancel":case "pointerdown":case "pointerup":case "ratechange":case "reset":case "resize":case "seeked":case "submit":case "touchcancel":case "touchend":case "touchstart":case "volumechange":case "change":case "selectionchange":case "textInput":case "compositionstart":case "compositionend":case "compositionupdate":case "beforeblur":case "afterblur":case "beforeinput":case "blur":case "fullscreenchange":case "focus":case "hashchange":case "popstate":case "select":case "selectstart":return 1;
case "drag":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "mousemove":case "mouseout":case "mouseover":case "pointermove":case "pointerout":case "pointerover":case "scroll":case "toggle":case "touchmove":case "wheel":case "mouseenter":case "mouseleave":case "pointerenter":case "pointerleave":return 4;case "message":switch(Jl()){case Jk:return 1;case Kk:return 4;case Mj:case Kl:return 16;case Lk:return 536870912;default:return 16}default:return 16}}function ua(){if(Nj)return Nj;
var b,e=Mk,q=e.length,M,qa="value"in Xi?Xi.value:Xi.textContent,Ba=qa.length;for(b=0;b<q&&e[b]===qa[b];b++);var ub=q-b;for(M=1;M<=ub&&e[q-M]===qa[Ba-M];M++);return Nj=qa.slice(b,1<M?1-M:void 0)}function H(b){var e=b.keyCode;"charCode"in b?(b=b.charCode,0===b&&13===e&&(b=13)):b=e;10===b&&(b=13);return 32<=b||13===b?b:0}function za(){return!0}function Qa(){return!1}function $a(b){function e(q,M,qa,Ba,ub){this._reactName=q;this._targetInst=qa;this.type=M;this.nativeEvent=Ba;this.target=ub;this.currentTarget=
null;for(var wc in b)b.hasOwnProperty(wc)&&(q=b[wc],this[wc]=q?q(Ba):Ba[wc]);this.isDefaultPrevented=(null!=Ba.defaultPrevented?Ba.defaultPrevented:!1===Ba.returnValue)?za:Qa;this.isPropagationStopped=Qa;return this}vg(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var q=this.nativeEvent;q&&(q.preventDefault?q.preventDefault():"unknown"!==typeof q.returnValue&&(q.returnValue=!1),this.isDefaultPrevented=za)},stopPropagation:function(){var q=this.nativeEvent;q&&(q.stopPropagation?q.stopPropagation():
"unknown"!==typeof q.cancelBubble&&(q.cancelBubble=!0),this.isPropagationStopped=za)},persist:function(){},isPersistent:za});return e}function lb(b){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(b):(b=Ll[b])?!!e[b]:!1}function Gb(){return lb}function oc(b,e){switch(b){case "keyup":return-1!==Ag.indexOf(e.keyCode);case "keydown":return 229!==e.keyCode;case "keypress":case "mousedown":case "focusout":return!0;default:return!1}}function ec(b){b=b.detail;return"object"===typeof b&&
"data"in b?b.data:null}function kc(b,e){switch(b){case "compositionend":return ec(e);case "keypress":if(32!==e.which)return null;Oj=!0;return kk;case "textInput":return b=e.data,b===kk&&Oj?null:b;default:return null}}function Sc(b,e){if(tj)return"compositionend"===b||!ce&&oc(b,e)?(b=ua(),Nj=Mk=Xi=null,tj=!1,b):null;switch(b){case "paste":return null;case "keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;
case "compositionend":return Nk&&"ko"!==e.locale?null:e.data;default:return null}}function ed(b){var e=b&&b.nodeName&&b.nodeName.toLowerCase();return"input"===e?!!Ok[b.type]:"textarea"===e?!0:!1}function fd(b,e,q,M){g(M);e=pe(e,"onChange");0<e.length&&(q=new Pj("onChange","change",null,q,M),b.push({event:q,listeners:e}))}function Qd(b){Xd(b,0)}function Td(b){var e=Jc(b);if(pb(e))return b}function Ed(b,e){if("change"===b)return e}function Yd(){uj&&(uj.detachEvent("onpropertychange",ae),Jh=uj=null)}
function ae(b){if("value"===b.propertyName&&Td(Jh)){var e=[];fd(e,Jh,b,N(b));h(Qd,e)}}function Ud(b,e,q){"focusin"===b?(Yd(),uj=e,Jh=q,uj.attachEvent("onpropertychange",ae)):"focusout"===b&&Yd()}function Ye(b){if("selectionchange"===b||"keyup"===b||"keydown"===b)return Td(Jh)}function Wd(b,e){if("click"===b)return Td(e)}function P(b,e){if("input"===b||"change"===b)return Td(e)}function na(b,e){return b===e&&(0!==b||1/b===1/e)||b!==b&&e!==e}function Aa(b,e){if(Vh(b,e))return!0;if("object"!==typeof b||
null===b||"object"!==typeof e||null===e)return!1;var q=Object.keys(b),M=Object.keys(e);if(q.length!==M.length)return!1;for(M=0;M<q.length;M++){var qa=q[M];if(!Fa.call(e,qa)||!Vh(b[qa],e[qa]))return!1}return!0}function fb(b){for(;b&&b.firstChild;)b=b.firstChild;return b}function Jb(b,e){var q=fb(b);b=0;for(var M;q;){if(3===q.nodeType){M=b+q.textContent.length;if(b<=e&&M>=e)return{node:q,offset:e-b};b=M}a:{for(;q;){if(q.nextSibling){q=q.nextSibling;break a}q=q.parentNode}q=void 0}q=fb(q)}}function Zb(b,
e){return b&&e?b===e?!0:b&&3===b.nodeType?!1:e&&3===e.nodeType?Zb(b,e.parentNode):"contains"in b?b.contains(e):b.compareDocumentPosition?!!(b.compareDocumentPosition(e)&16):!1:!1}function Cc(){for(var b=window,e=Na();e instanceof b.HTMLIFrameElement;){try{var q="string"===typeof e.contentWindow.location.href}catch(M){q=!1}if(q)b=e.contentWindow;else break;e=Na(b.document)}return e}function mc(b){var e=b&&b.nodeName&&b.nodeName.toLowerCase();return e&&("input"===e&&("text"===b.type||"search"===b.type||
"tel"===b.type||"url"===b.type||"password"===b.type)||"textarea"===e||"true"===b.contentEditable)}function Hc(b){var e=Cc(),q=b.focusedElem,M=b.selectionRange;if(e!==q&&q&&q.ownerDocument&&Zb(q.ownerDocument.documentElement,q)){if(null!==M&&mc(q))if(e=M.start,b=M.end,void 0===b&&(b=e),"selectionStart"in q)q.selectionStart=e,q.selectionEnd=Math.min(b,q.value.length);else if(b=(e=q.ownerDocument||document)&&e.defaultView||window,b.getSelection){b=b.getSelection();var qa=q.textContent.length,Ba=Math.min(M.start,
qa);M=void 0===M.end?Ba:Math.min(M.end,qa);!b.extend&&Ba>M&&(qa=M,M=Ba,Ba=qa);qa=Jb(q,Ba);var ub=Jb(q,M);qa&&ub&&(1!==b.rangeCount||b.anchorNode!==qa.node||b.anchorOffset!==qa.offset||b.focusNode!==ub.node||b.focusOffset!==ub.offset)&&(e=e.createRange(),e.setStart(qa.node,qa.offset),b.removeAllRanges(),Ba>M?(b.addRange(e),b.extend(ub.node,ub.offset)):(e.setEnd(ub.node,ub.offset),b.addRange(e)))}e=[];for(b=q;b=b.parentNode;)1===b.nodeType&&e.push({element:b,left:b.scrollLeft,top:b.scrollTop});"function"===
typeof q.focus&&q.focus();for(q=0;q<e.length;q++)b=e[q],b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}function jd(b,e,q){var M=q.window===q?q.document:9===q.nodeType?q:q.ownerDocument;Qj||null==vj||vj!==Na(M)||(M=vj,"selectionStart"in M&&mc(M)?M={start:M.selectionStart,end:M.selectionEnd}:(M=(M.ownerDocument&&M.ownerDocument.defaultView||window).getSelection(),M={anchorNode:M.anchorNode,anchorOffset:M.anchorOffset,focusNode:M.focusNode,focusOffset:M.focusOffset}),nh&&Aa(nh,M)||(nh=M,M=pe(Pk,
"onSelect"),0<M.length&&(e=new Pj("onSelect","select",null,e,q),b.push({event:e,listeners:M}),e.target=vj)))}function Nc(b,e){var q={};q[b.toLowerCase()]=e.toLowerCase();q["Webkit"+b]="webkit"+e;q["Moz"+b]="moz"+e;return q}function vd(b){if(Rj[b])return Rj[b];if(!wj[b])return b;var e=wj[b],q;for(q in e)if(e.hasOwnProperty(q)&&q in oi)return Rj[b]=e[q];return b}function Gd(b,e){Qk.set(b,e);l(e,[b])}function Fd(b,e,q){var M=b.type||"unknown-event";b.currentTarget=q;F(M,e,void 0,b);b.currentTarget=null}
function Xd(b,e){e=0!==(e&4);for(var q=0;q<b.length;q++){var M=b[q],qa=M.event;M=M.listeners;a:{var Ba=void 0;if(e)for(var ub=M.length-1;0<=ub;ub--){var wc=M[ub],Oc=wc.instance,zd=wc.currentTarget;wc=wc.listener;if(Oc!==Ba&&qa.isPropagationStopped())break a;Fd(qa,wc,zd);Ba=Oc}else for(ub=0;ub<M.length;ub++){wc=M[ub];Oc=wc.instance;zd=wc.currentTarget;wc=wc.listener;if(Oc!==Ba&&qa.isPropagationStopped())break a;Fd(qa,wc,zd);Ba=Oc}}}if(rj)throw b=Gk,rj=!1,Gk=null,b;}function Od(b,e){var q=e[lk];void 0===
q&&(q=e[lk]=new Set);var M=b+"__bubble";q.has(M)||(gf(e,b,2,!1),q.add(M))}function qe(b,e,q){var M=0;e&&(M|=4);gf(q,b,M,e)}function De(b){if(!b[mk]){b[mk]=!0;A.forEach(function(q){"selectionchange"!==q&&(Ml.has(q)||qe(q,!1,b),qe(q,!0,b))});var e=9===b.nodeType?b:b.ownerDocument;null===e||e[mk]||(e[mk]=!0,qe("selectionchange",!1,e))}}function gf(b,e,q,M){switch(wb(e)){case 1:var qa=Nd;break;case 4:qa=ud;break;default:qa=Ha}q=qa.bind(null,e,q,b);qa=void 0;!ti||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==
e||(qa=!0);M?void 0!==qa?b.addEventListener(e,q,{capture:!0,passive:qa}):b.addEventListener(e,q,!0):void 0!==qa?b.addEventListener(e,q,{passive:qa}):b.addEventListener(e,q,!1)}function df(b,e,q,M,qa){var Ba=M;if(0===(e&1)&&0===(e&2)&&null!==M)a:for(;;){if(null===M)return;var ub=M.tag;if(3===ub||4===ub){var wc=M.stateNode.containerInfo;if(wc===qa||8===wc.nodeType&&wc.parentNode===qa)break;if(4===ub)for(ub=M.return;null!==ub;){var Oc=ub.tag;if(3===Oc||4===Oc)if(Oc=ub.stateNode.containerInfo,Oc===qa||
8===Oc.nodeType&&Oc.parentNode===qa)return;ub=ub.return}for(;null!==wc;){ub=Sa(wc);if(null===ub)return;Oc=ub.tag;if(5===Oc||6===Oc){M=Ba=ub;continue a}wc=wc.parentNode}}M=M.return}h(function(){var zd=Ba,ge=N(q),je=[];a:{var de=Qk.get(b);if(void 0!==de){var He=Pj,Ue=b;switch(b){case "keypress":if(0===H(q))break a;case "keydown":case "keyup":He=Rk;break;case "focusin":Ue="focus";He=Sk;break;case "focusout":Ue="blur";He=Sk;break;case "beforeblur":case "afterblur":He=Sk;break;case "click":if(2===q.button)break a;
case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":He=il;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":He=Nl;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":He=Ol;break;case nk:case jl:case Yi:He=Pl;break;case ui:He=Tk;break;case "scroll":He=Ql;break;case "wheel":He=zf;break;case "copy":case "cut":case "paste":He=
Rl;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":He=kl}var Ze=0!==(e&4),bh=!Ze&&"scroll"===b,md=Ze?null!==de?de+"Capture":null:de;Ze=[];for(var Tc=zd,rd;null!==Tc;){rd=Tc;var me=rd.stateNode;5===rd.tag&&null!==me&&(rd=me,null!==md&&(me=p(Tc,md),null!=me&&Ze.push(ef(Tc,me,rd))));if(bh)break;Tc=Tc.return}0<Ze.length&&(de=new He(de,Ue,null,q,ge),je.push({event:de,listeners:Ze}))}}if(0===
(e&7)){de="mouseover"===b||"pointerover"===b;He="mouseout"===b||"pointerout"===b;if(!de||q===Oh||!(Ue=q.relatedTarget||q.fromElement)||!Sa(Ue)&&!Ue[Ii])if(He||de){de=ge.window===ge?ge:(de=ge.ownerDocument)?de.defaultView||de.parentWindow:window;if(He){if(Ue=q.relatedTarget||q.toElement,He=zd,Ue=Ue?Sa(Ue):null,null!==Ue&&(bh=aa(Ue),Ue!==bh||5!==Ue.tag&&6!==Ue.tag))Ue=null}else He=null,Ue=zd;if(He!==Ue){Ze=il;me="onMouseLeave";md="onMouseEnter";Tc="mouse";if("pointerout"===b||"pointerover"===b)Ze=kl,
me="onPointerLeave",md="onPointerEnter",Tc="pointer";bh=null==He?de:Jc(He);rd=null==Ue?de:Jc(Ue);de=new Ze(me,Tc+"leave",He,q,ge);de.target=bh;de.relatedTarget=rd;me=null;Sa(ge)===zd&&(Ze=new Ze(md,Tc+"enter",Ue,q,ge),Ze.target=rd,Ze.relatedTarget=bh,me=Ze);bh=me;if(He&&Ue)b:{Ze=He;md=Ue;Tc=0;for(rd=Ze;rd;rd=nf(rd))Tc++;rd=0;for(me=md;me;me=nf(me))rd++;for(;0<Tc-rd;)Ze=nf(Ze),Tc--;for(;0<rd-Tc;)md=nf(md),rd--;for(;Tc--;){if(Ze===md||null!==md&&Ze===md.alternate)break b;Ze=nf(Ze);md=nf(md)}Ze=null}else Ze=
null;null!==He&&W(je,de,He,Ze,!1);null!==Ue&&null!==bh&&W(je,bh,Ue,Ze,!0)}}de=zd?Jc(zd):window;He=de.nodeName&&de.nodeName.toLowerCase();if("select"===He||"input"===He&&"file"===de.type)var Fe=Ed;else if(ed(de))if(Sj)Fe=P;else{Fe=Ye;var kf=Ud}else(He=de.nodeName)&&"input"===He.toLowerCase()&&("checkbox"===de.type||"radio"===de.type)&&(Fe=Wd);Fe&&(Fe=Fe(b,zd))?fd(je,Fe,q,ge):(kf&&kf(b,de,zd),"focusout"===b&&(kf=de._wrapperState)&&kf.controlled&&"number"===de.type&&vb(de,"number",de.value));kf=zd?Jc(zd):
window;switch(b){case "focusin":if(ed(kf)||"true"===kf.contentEditable)vj=kf,Pk=zd,nh=null;break;case "focusout":nh=Pk=vj=null;break;case "mousedown":Qj=!0;break;case "contextmenu":case "mouseup":case "dragend":Qj=!1;jd(je,q,ge);break;case "selectionchange":if(Sl)break;case "keydown":case "keyup":jd(je,q,ge)}var lf;if(ce)a:{switch(b){case "compositionstart":var rf="onCompositionStart";break a;case "compositionend":rf="onCompositionEnd";break a;case "compositionupdate":rf="onCompositionUpdate";break a}rf=
void 0}else tj?oc(b,q)&&(rf="onCompositionEnd"):"keydown"===b&&229===q.keyCode&&(rf="onCompositionStart");rf&&(Nk&&"ko"!==q.locale&&(tj||"onCompositionStart"!==rf?"onCompositionEnd"===rf&&tj&&(lf=ua()):(Xi=ge,Mk="value"in Xi?Xi.value:Xi.textContent,tj=!0)),kf=pe(zd,rf),0<kf.length&&(rf=new ok(rf,b,null,q,ge),je.push({event:rf,listeners:kf}),lf?rf.data=lf:(lf=ec(q),null!==lf&&(rf.data=lf))));if(lf=Zi?kc(b,q):Sc(b,q))zd=pe(zd,"onBeforeInput"),0<zd.length&&(ge=new ok("onBeforeInput","beforeinput",null,
q,ge),je.push({event:ge,listeners:zd}),ge.data=lf)}Xd(je,e)})}function ef(b,e,q){return{instance:b,listener:e,currentTarget:q}}function pe(b,e){for(var q=e+"Capture",M=[];null!==b;){var qa=b,Ba=qa.stateNode;5===qa.tag&&null!==Ba&&(qa=Ba,Ba=p(b,q),null!=Ba&&M.unshift(ef(b,Ba,qa)),Ba=p(b,e),null!=Ba&&M.push(ef(b,Ba,qa)));b=b.return}return M}function nf(b){if(null===b)return null;do b=b.return;while(b&&5!==b.tag);return b?b:null}function W(b,e,q,M,qa){for(var Ba=e._reactName,ub=[];null!==q&&q!==M;){var wc=
q,Oc=wc.alternate,zd=wc.stateNode;if(null!==Oc&&Oc===M)break;5===wc.tag&&null!==zd&&(wc=zd,qa?(Oc=p(q,Ba),null!=Oc&&ub.unshift(ef(q,Oc,wc))):qa||(Oc=p(q,Ba),null!=Oc&&ub.push(ef(q,Oc,wc))));q=q.return}0!==ub.length&&b.push({event:e,listeners:ub})}function wa(b){return("string"===typeof b?b:""+b).replace(Tl,"\n").replace(Ul,"")}function db(b,e,q){e=wa(e);if(wa(b)!==e&&q)throw Error(t(425));}function yb(){}function hc(b,e){return"textarea"===b||"noscript"===b||"string"===typeof e.children||"number"===
typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}function Ec(b){setTimeout(function(){throw b;})}function ac(b,e){var q=e,M=0;do{var qa=q.nextSibling;b.removeChild(q);if(qa&&8===qa.nodeType)if(q=qa.data,"/$"===q){if(0===M){b.removeChild(qa);Zc(e);return}M--}else"$"!==q&&"$?"!==q&&"$!"!==q||M++;q=qa}while(q);Zc(e)}function L(b){for(;null!=b;b=b.nextSibling){var e=b.nodeType;if(1===e||3===e)break;if(8===e){e=b.data;
if("$"===e||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return b}function fa(b){b=b.previousSibling;for(var e=0;b;){if(8===b.nodeType){var q=b.data;if("$"===q||"$!"===q||"$?"===q){if(0===e)return b;e--}else"/$"===q&&e++}b=b.previousSibling}return null}function Sa(b){var e=b[vi];if(e)return e;for(var q=b.parentNode;q;){if(e=q[Ii]||q[vi]){q=e.alternate;if(null!==e.child||null!==q&&null!==q.child)for(b=fa(b);null!==b;){if(q=b[vi])return q;b=fa(b)}return e}b=q;q=b.parentNode}return null}function cc(b){b=
b[vi]||b[Ii];return!b||5!==b.tag&&6!==b.tag&&13!==b.tag&&3!==b.tag?null:b}function Jc(b){if(5===b.tag||6===b.tag)return b.stateNode;throw Error(t(33));}function Bc(b){return b[xj]||null}function $c(b){return{current:b}}function pd(b){0>$i||(b.current=Kh[$i],Kh[$i]=null,$i--)}function ee(b,e){$i++;Kh[$i]=b.current;b.current=e}function Ra(b,e){var q=b.type.contextTypes;if(!q)return Ji;var M=b.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===e)return M.__reactInternalMemoizedMaskedChildContext;
var qa={},Ba;for(Ba in q)qa[Ba]=e[Ba];M&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=e,b.__reactInternalMemoizedMaskedChildContext=qa);return qa}function eb(b){b=b.childContextTypes;return null!==b&&void 0!==b}function qc(){pd(Jg);pd(wh)}function wd(b,e,q){if(wh.current!==Ji)throw Error(t(168));ee(wh,e);ee(Jg,q)}function Mc(b,e,q){var M=b.stateNode;e=e.childContextTypes;if("function"!==typeof M.getChildContext)return q;M=M.getChildContext();for(var qa in M)if(!(qa in e))throw Error(t(108,
Fb(b)||"Unknown",qa));return vg({},q,M)}function Uc(b){b=(b=b.stateNode)&&b.__reactInternalMemoizedMergedChildContext||Ji;$h=wh.current;ee(wh,b);ee(Jg,Jg.current);return!0}function Qc(b,e,q){var M=b.stateNode;if(!M)throw Error(t(169));q?(b=Mc(b,e,$h),M.__reactInternalMemoizedMergedChildContext=b,pd(Jg),pd(wh),ee(wh,b)):pd(Jg);ee(Jg,q)}function td(b){null===Ki?Ki=[b]:Ki.push(b)}function kd(b){pk=!0;td(b)}function Ld(){if(!Li&&null!==Ki){Li=!0;var b=0,e=ng;try{var q=Ki;for(ng=1;b<q.length;b++){var M=
q[b];do M=M(!0);while(null!==M)}Ki=null;pk=!1}catch(qa){throw null!==Ki&&(Ki=Ki.slice(b+1)),Tj(Jk,Ld),qa;}finally{ng=e,Li=!1}}return null}function Cd(b,e){yj[zj++]=Uj;yj[zj++]=xh;xh=b;Uj=e}function be(b,e,q){Ph[Qh++]=hi;Ph[Qh++]=ii;Ph[Qh++]=fj;fj=b;var M=hi;b=ii;var qa=32-gi(M)-1;M&=~(1<<qa);q+=1;var Ba=32-gi(e)+qa;if(30<Ba){var ub=qa-qa%5;Ba=(M&(1<<ub)-1).toString(32);M>>=ub;qa-=ub;hi=1<<32-gi(e)+qa|q<<qa|M;ii=Ba+b}else hi=1<<Ba|q<<qa|M,ii=b}function ve(b){null!==b.return&&(Cd(b,1),be(b,1,0))}function Me(b){for(;b===
xh;)xh=yj[--zj],yj[zj]=null,Uj=yj[--zj],yj[zj]=null;for(;b===fj;)fj=Ph[--Qh],Ph[Qh]=null,ii=Ph[--Qh],Ph[Qh]=null,hi=Ph[--Qh],Ph[Qh]=null}function $e(b,e){var q=og(5,null,null,0);q.elementType="DELETED";q.stateNode=e;q.return=b;e=b.deletions;null===e?(b.deletions=[q],b.flags|=16):e.push(q)}function sf(b,e){switch(b.tag){case 5:var q=b.type;e=1!==e.nodeType||q.toLowerCase()!==e.nodeName.toLowerCase()?null:e;return null!==e?(b.stateNode=e,ai=b,Lh=L(e.firstChild),!0):!1;case 6:return e=""===b.pendingProps||
3!==e.nodeType?null:e,null!==e?(b.stateNode=e,ai=b,Lh=null,!0):!1;case 13:return e=8!==e.nodeType?null:e,null!==e?(q=null!==fj?{id:hi,overflow:ii}:null,b.memoizedState={dehydrated:e,treeContext:q,retryLane:1073741824},q=og(18,null,null,0),q.stateNode=e,q.return=b,b.child=q,ai=b,Lh=null,!0):!1;default:return!1}}function nd(b){return 0!==(b.mode&1)&&0===(b.flags&128)}function Fc(b){if(Kg){var e=Lh;if(e){var q=e;if(!sf(b,e)){if(nd(b))throw Error(t(418));e=L(q.nextSibling);var M=ai;e&&sf(b,e)?$e(M,q):
(b.flags=b.flags&-4097|2,Kg=!1,ai=b)}}else{if(nd(b))throw Error(t(418));b.flags=b.flags&-4097|2;Kg=!1;ai=b}}}function bd(b){for(b=b.return;null!==b&&5!==b.tag&&3!==b.tag&&13!==b.tag;)b=b.return;ai=b}function Gc(b){if(b!==ai)return!1;if(!Kg)return bd(b),Kg=!0,!1;var e;(e=3!==b.tag)&&!(e=5!==b.tag)&&(e=b.type,e="head"!==e&&"body"!==e&&!hc(b.type,b.memoizedProps));if(e&&(e=Lh)){if(nd(b))throw Jd(),Error(t(418));for(;e;)$e(b,e),e=L(e.nextSibling)}bd(b);if(13===b.tag){b=b.memoizedState;b=null!==b?b.dehydrated:
null;if(!b)throw Error(t(317));a:{b=b.nextSibling;for(e=0;b;){if(8===b.nodeType){var q=b.data;if("/$"===q){if(0===e){Lh=L(b.nextSibling);break a}e--}else"$"!==q&&"$!"!==q&&"$?"!==q||e++}b=b.nextSibling}Lh=null}}else Lh=ai?L(b.stateNode.nextSibling):null;return!0}function Jd(){for(var b=Lh;b;)b=L(b.nextSibling)}function Zd(){Lh=ai=null;Kg=!1}function $d(b){null===bi?bi=[b]:bi.push(b)}function ke(b,e){if(b&&b.defaultProps){e=vg({},e);b=b.defaultProps;for(var q in b)void 0===e[q]&&(e[q]=b[q])}return e}
function Q(b){var e=Aj.current;pd(Aj);b._currentValue=e}function ea(b,e,q){for(;null!==b;){var M=b.alternate;(b.childLanes&e)!==e?(b.childLanes|=e,null!==M&&(M.childLanes|=e)):null!==M&&(M.childLanes&e)!==e&&(M.childLanes|=e);if(b===q)break;b=b.return}}function J(b,e){aj=b;Vj=Mi=null;b=b.dependencies;null!==b&&null!==b.firstContext&&(0!==(b.lanes&e)&&(ch=!0),b.firstContext=null)}function la(b){var e=b._currentValue;if(Vj!==b)if(b={context:b,memoizedValue:e,next:null},null===Mi){if(null===aj)throw Error(t(308));
Mi=b;aj.dependencies={lanes:0,firstContext:b}}else Mi=Mi.next=b;return e}function ma(b){null===gj?gj=[b]:gj.push(b)}function Ja(b,e,q,M){var qa=e.interleaved;null===qa?(q.next=q,ma(e)):(q.next=qa.next,qa.next=q);e.interleaved=q;return ib(b,M)}function ib(b,e){b.lanes|=e;var q=b.alternate;null!==q&&(q.lanes|=e);q=b;for(b=b.return;null!==b;)b.childLanes|=e,q=b.alternate,null!==q&&(q.childLanes|=e),q=b,b=b.return;return 3===q.tag?q.stateNode:null}function gc(b){b.updateQueue={baseState:b.memoizedState,
firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tc(b,e){b=b.updateQueue;e.updateQueue===b&&(e.updateQueue={baseState:b.baseState,firstBaseUpdate:b.firstBaseUpdate,lastBaseUpdate:b.lastBaseUpdate,shared:b.shared,effects:b.effects})}function vc(b,e){return{eventTime:b,lane:e,tag:0,payload:null,callback:null,next:null}}function Xb(b,e,q){var M=b.updateQueue;if(null===M)return null;M=M.shared;if(0!==($f&2)){var qa=M.pending;null===qa?e.next=
e:(e.next=qa.next,qa.next=e);M.pending=e;return ib(b,q)}qa=M.interleaved;null===qa?(e.next=e,ma(M)):(e.next=qa.next,qa.next=e);M.interleaved=e;return ib(b,q)}function Dc(b,e,q){e=e.updateQueue;if(null!==e&&(e=e.shared,0!==(q&4194240))){var M=e.lanes;M&=b.pendingLanes;q|=M;e.lanes=q;Rc(b,q)}}function yd(b,e){var q=b.updateQueue,M=b.alternate;if(null!==M&&(M=M.updateQueue,q===M)){var qa=null,Ba=null;q=q.firstBaseUpdate;if(null!==q){do{var ub={eventTime:q.eventTime,lane:q.lane,tag:q.tag,payload:q.payload,
callback:q.callback,next:null};null===Ba?qa=Ba=ub:Ba=Ba.next=ub;q=q.next}while(null!==q);null===Ba?qa=Ba=e:Ba=Ba.next=e}else qa=Ba=e;q={baseState:M.baseState,firstBaseUpdate:qa,lastBaseUpdate:Ba,shared:M.shared,effects:M.effects};b.updateQueue=q}else b=q.lastBaseUpdate,null===b?q.firstBaseUpdate=e:b.next=e,q.lastBaseUpdate=e}function Yc(b,e,q,M){var qa=b.updateQueue;Ni=!1;var Ba=qa.firstBaseUpdate,ub=qa.lastBaseUpdate,wc=qa.shared.pending;if(null!==wc){qa.shared.pending=null;var Oc=wc,zd=Oc.next;
Oc.next=null;null===ub?Ba=zd:ub.next=zd;var ge=b.alternate;null!==ge&&(ge=ge.updateQueue,wc=ge.lastBaseUpdate,wc!==Oc&&(null===wc?ge.firstBaseUpdate=zd:wc.next=zd,ge.lastBaseUpdate=Oc))}if(null!==Ba){var je=qa.baseState;ub=0;ge=zd=Oc=null;wc=Ba;do{var de=wc.lane,He=wc.eventTime;if((M&de)===de){null!==ge&&(ge=ge.next={eventTime:He,lane:0,tag:wc.tag,payload:wc.payload,callback:wc.callback,next:null});a:{var Ue=b,Ze=wc;de=e;He=q;switch(Ze.tag){case 1:Ue=Ze.payload;if("function"===typeof Ue){je=Ue.call(He,
je,de);break a}je=Ue;break a;case 3:Ue.flags=Ue.flags&-65537|128;case 0:Ue=Ze.payload;de="function"===typeof Ue?Ue.call(He,je,de):Ue;if(null===de||void 0===de)break a;je=vg({},je,de);break a;case 2:Ni=!0}}null!==wc.callback&&0!==wc.lane&&(b.flags|=64,de=qa.effects,null===de?qa.effects=[wc]:de.push(wc))}else He={eventTime:He,lane:de,tag:wc.tag,payload:wc.payload,callback:wc.callback,next:null},null===ge?(zd=ge=He,Oc=je):ge=ge.next=He,ub|=de;wc=wc.next;if(null===wc)if(wc=qa.shared.pending,null===wc)break;
else de=wc,wc=de.next,de.next=null,qa.lastBaseUpdate=de,qa.shared.pending=null}while(1);null===ge&&(Oc=je);qa.baseState=Oc;qa.firstBaseUpdate=zd;qa.lastBaseUpdate=ge;e=qa.shared.interleaved;if(null!==e){qa=e;do ub|=qa.lane,qa=qa.next;while(qa!==e)}else null===Ba&&(qa.shared.lanes=0);Rh|=ub;b.lanes=ub;b.memoizedState=je}}function hd(b,e,q){b=e.effects;e.effects=null;if(null!==b)for(e=0;e<b.length;e++){var M=b[e],qa=M.callback;if(null!==qa){M.callback=null;M=q;if("function"!==typeof qa)throw Error(t(191,
qa));qa.call(M)}}}function Ad(b,e,q,M){e=b.memoizedState;q=q(M,e);q=null===q||void 0===q?e:vg({},e,q);b.memoizedState=q;0===b.lanes&&(b.updateQueue.baseState=q)}function Hd(b,e,q,M,qa,Ba,ub){b=b.stateNode;return"function"===typeof b.shouldComponentUpdate?b.shouldComponentUpdate(M,Ba,ub):e.prototype&&e.prototype.isPureReactComponent?!Aa(q,M)||!Aa(qa,Ba):!0}function Pc(b,e,q){var M=!1,qa=Ji,Ba=e.contextType;"object"===typeof Ba&&null!==Ba?Ba=la(Ba):(qa=eb(e)?$h:wh.current,M=e.contextTypes,Ba=(M=null!==
M&&void 0!==M)?Ra(b,qa):Ji);e=new e(q,Ba);b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;e.updater=qk;b.stateNode=e;e._reactInternals=b;M&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=qa,b.__reactInternalMemoizedMaskedChildContext=Ba);return e}function Ee(b,e,q,M){b=e.state;"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(q,M);"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(q,M);e.state!==b&&qk.enqueueReplaceState(e,
e.state,null)}function Ge(b,e,q,M){var qa=b.stateNode;qa.props=q;qa.state=b.memoizedState;qa.refs=Uk;gc(b);var Ba=e.contextType;"object"===typeof Ba&&null!==Ba?qa.context=la(Ba):(Ba=eb(e)?$h:wh.current,qa.context=Ra(b,Ba));qa.state=b.memoizedState;Ba=e.getDerivedStateFromProps;"function"===typeof Ba&&(Ad(b,e,Ba,q),qa.state=b.memoizedState);"function"===typeof e.getDerivedStateFromProps||"function"===typeof qa.getSnapshotBeforeUpdate||"function"!==typeof qa.UNSAFE_componentWillMount&&"function"!==
typeof qa.componentWillMount||(e=qa.state,"function"===typeof qa.componentWillMount&&qa.componentWillMount(),"function"===typeof qa.UNSAFE_componentWillMount&&qa.UNSAFE_componentWillMount(),e!==qa.state&&qk.enqueueReplaceState(qa,qa.state,null),Yc(b,q,qa,M),qa.state=b.memoizedState);"function"===typeof qa.componentDidMount&&(b.flags|=4194308)}function Ae(b,e,q){b=q.ref;if(null!==b&&"function"!==typeof b&&"object"!==typeof b){if(q._owner){if(q=q._owner){if(1!==q.tag)throw Error(t(309));var M=q.stateNode}if(!M)throw Error(t(147,
b));var qa=M,Ba=""+b;if(null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===Ba)return e.ref;e=function(ub){var wc=qa.refs;wc===Uk&&(wc=qa.refs={});null===ub?delete wc[Ba]:wc[Ba]=ub};e._stringRef=Ba;return e}if("string"!==typeof b)throw Error(t(284));if(!q._owner)throw Error(t(290,b));}return b}function Be(b,e){b=Object.prototype.toString.call(e);throw Error(t(31,"[object Object]"===b?"object with keys {"+Object.keys(e).join(", ")+"}":b));}function Id(b){var e=b._init;return e(b._payload)}
function he(b){function e(md,Tc){if(b){var rd=md.deletions;null===rd?(md.deletions=[Tc],md.flags|=16):rd.push(Tc)}}function q(md,Tc){if(!b)return null;for(;null!==Tc;)e(md,Tc),Tc=Tc.sibling;return null}function M(md,Tc){for(md=new Map;null!==Tc;)null!==Tc.key?md.set(Tc.key,Tc):md.set(Tc.index,Tc),Tc=Tc.sibling;return md}function qa(md,Tc){md=Sh(md,Tc);md.index=0;md.sibling=null;return md}function Ba(md,Tc,rd){md.index=rd;if(!b)return md.flags|=1048576,Tc;rd=md.alternate;if(null!==rd)return rd=rd.index,
rd<Tc?(md.flags|=2,Tc):rd;md.flags|=2;return Tc}function ub(md){b&&null===md.alternate&&(md.flags|=2);return md}function wc(md,Tc,rd,me){if(null===Tc||6!==Tc.tag)return Tc=Oi(rd,md.mode,me),Tc.return=md,Tc;Tc=qa(Tc,rd);Tc.return=md;return Tc}function Oc(md,Tc,rd,me){var Fe=rd.type;if(Fe===sd)return ge(md,Tc,rd.props.children,me,rd.key);if(null!==Tc&&(Tc.elementType===Fe||"object"===typeof Fe&&null!==Fe&&Fe.$$typeof===jg&&Id(Fe)===Tc.type))return me=qa(Tc,rd.props),me.ref=Ae(md,Tc,rd),me.return=md,
me;me=Pi(rd.type,rd.key,rd.props,null,md.mode,me);me.ref=Ae(md,Tc,rd);me.return=md;return me}function zd(md,Tc,rd,me){if(null===Tc||4!==Tc.tag||Tc.stateNode.containerInfo!==rd.containerInfo||Tc.stateNode.implementation!==rd.implementation)return Tc=Cg(rd,md.mode,me),Tc.return=md,Tc;Tc=qa(Tc,rd.children||[]);Tc.return=md;return Tc}function ge(md,Tc,rd,me,Fe){if(null===Tc||7!==Tc.tag)return Tc=ci(rd,md.mode,me,Fe),Tc.return=md,Tc;Tc=qa(Tc,rd);Tc.return=md;return Tc}function je(md,Tc,rd){if("string"===
typeof Tc&&""!==Tc||"number"===typeof Tc)return Tc=Oi(""+Tc,md.mode,rd),Tc.return=md,Tc;if("object"===typeof Tc&&null!==Tc){switch(Tc.$$typeof){case gd:return rd=Pi(Tc.type,Tc.key,Tc.props,null,md.mode,rd),rd.ref=Ae(md,null,Tc),rd.return=md,rd;case nc:return Tc=Cg(Tc,md.mode,rd),Tc.return=md,Tc;case jg:var me=Tc._init;return je(md,me(Tc._payload),rd)}if(Oe(Tc)||Ab(Tc))return Tc=ci(Tc,md.mode,rd,null),Tc.return=md,Tc;Be(md,Tc)}return null}function de(md,Tc,rd,me){var Fe=null!==Tc?Tc.key:null;if("string"===
typeof rd&&""!==rd||"number"===typeof rd)return null!==Fe?null:wc(md,Tc,""+rd,me);if("object"===typeof rd&&null!==rd){switch(rd.$$typeof){case gd:return rd.key===Fe?Oc(md,Tc,rd,me):null;case nc:return rd.key===Fe?zd(md,Tc,rd,me):null;case jg:return Fe=rd._init,de(md,Tc,Fe(rd._payload),me)}if(Oe(rd)||Ab(rd))return null!==Fe?null:ge(md,Tc,rd,me,null);Be(md,rd)}return null}function He(md,Tc,rd,me,Fe){if("string"===typeof me&&""!==me||"number"===typeof me)return md=md.get(rd)||null,wc(Tc,md,""+me,Fe);
if("object"===typeof me&&null!==me){switch(me.$$typeof){case gd:return md=md.get(null===me.key?rd:me.key)||null,Oc(Tc,md,me,Fe);case nc:return md=md.get(null===me.key?rd:me.key)||null,zd(Tc,md,me,Fe);case jg:var kf=me._init;return He(md,Tc,rd,kf(me._payload),Fe)}if(Oe(me)||Ab(me))return md=md.get(rd)||null,ge(Tc,md,me,Fe,null);Be(Tc,me)}return null}function Ue(md,Tc,rd,me){for(var Fe=null,kf=null,lf=Tc,rf=Tc=0,yh=null;null!==lf&&rf<rd.length;rf++){lf.index>rf?(yh=lf,lf=null):yh=lf.sibling;var Vf=
de(md,lf,rd[rf],me);if(null===Vf){null===lf&&(lf=yh);break}b&&lf&&null===Vf.alternate&&e(md,lf);Tc=Ba(Vf,Tc,rf);null===kf?Fe=Vf:kf.sibling=Vf;kf=Vf;lf=yh}if(rf===rd.length)return q(md,lf),Kg&&Cd(md,rf),Fe;if(null===lf){for(;rf<rd.length;rf++)lf=je(md,rd[rf],me),null!==lf&&(Tc=Ba(lf,Tc,rf),null===kf?Fe=lf:kf.sibling=lf,kf=lf);Kg&&Cd(md,rf);return Fe}for(lf=M(md,lf);rf<rd.length;rf++)yh=He(lf,md,rf,rd[rf],me),null!==yh&&(b&&null!==yh.alternate&&lf.delete(null===yh.key?rf:yh.key),Tc=Ba(yh,Tc,rf),null===
kf?Fe=yh:kf.sibling=yh,kf=yh);b&&lf.forEach(function(wi){return e(md,wi)});Kg&&Cd(md,rf);return Fe}function Ze(md,Tc,rd,me){var Fe=Ab(rd);if("function"!==typeof Fe)throw Error(t(150));rd=Fe.call(rd);if(null==rd)throw Error(t(151));for(var kf=Fe=null,lf=Tc,rf=Tc=0,yh=null,Vf=rd.next();null!==lf&&!Vf.done;rf++,Vf=rd.next()){lf.index>rf?(yh=lf,lf=null):yh=lf.sibling;var wi=de(md,lf,Vf.value,me);if(null===wi){null===lf&&(lf=yh);break}b&&lf&&null===wi.alternate&&e(md,lf);Tc=Ba(wi,Tc,rf);null===kf?Fe=wi:
kf.sibling=wi;kf=wi;lf=yh}if(Vf.done)return q(md,lf),Kg&&Cd(md,rf),Fe;if(null===lf){for(;!Vf.done;rf++,Vf=rd.next())Vf=je(md,Vf.value,me),null!==Vf&&(Tc=Ba(Vf,Tc,rf),null===kf?Fe=Vf:kf.sibling=Vf,kf=Vf);Kg&&Cd(md,rf);return Fe}for(lf=M(md,lf);!Vf.done;rf++,Vf=rd.next())Vf=He(lf,md,rf,Vf.value,me),null!==Vf&&(b&&null!==Vf.alternate&&lf.delete(null===Vf.key?rf:Vf.key),Tc=Ba(Vf,Tc,rf),null===kf?Fe=Vf:kf.sibling=Vf,kf=Vf);b&&lf.forEach(function(ll){return e(md,ll)});Kg&&Cd(md,rf);return Fe}function bh(md,
Tc,rd,me){"object"===typeof rd&&null!==rd&&rd.type===sd&&null===rd.key&&(rd=rd.props.children);if("object"===typeof rd&&null!==rd){switch(rd.$$typeof){case gd:a:{for(var Fe=rd.key,kf=Tc;null!==kf;){if(kf.key===Fe){Fe=rd.type;if(Fe===sd){if(7===kf.tag){q(md,kf.sibling);Tc=qa(kf,rd.props.children);Tc.return=md;md=Tc;break a}}else if(kf.elementType===Fe||"object"===typeof Fe&&null!==Fe&&Fe.$$typeof===jg&&Id(Fe)===kf.type){q(md,kf.sibling);Tc=qa(kf,rd.props);Tc.ref=Ae(md,kf,rd);Tc.return=md;md=Tc;break a}q(md,
kf);break}else e(md,kf);kf=kf.sibling}rd.type===sd?(Tc=ci(rd.props.children,md.mode,me,rd.key),Tc.return=md,md=Tc):(me=Pi(rd.type,rd.key,rd.props,null,md.mode,me),me.ref=Ae(md,Tc,rd),me.return=md,md=me)}return ub(md);case nc:a:{for(kf=rd.key;null!==Tc;){if(Tc.key===kf)if(4===Tc.tag&&Tc.stateNode.containerInfo===rd.containerInfo&&Tc.stateNode.implementation===rd.implementation){q(md,Tc.sibling);Tc=qa(Tc,rd.children||[]);Tc.return=md;md=Tc;break a}else{q(md,Tc);break}else e(md,Tc);Tc=Tc.sibling}Tc=
Cg(rd,md.mode,me);Tc.return=md;md=Tc}return ub(md);case jg:return kf=rd._init,bh(md,Tc,kf(rd._payload),me)}if(Oe(rd))return Ue(md,Tc,rd,me);if(Ab(rd))return Ze(md,Tc,rd,me);Be(md,rd)}return"string"===typeof rd&&""!==rd||"number"===typeof rd?(rd=""+rd,null!==Tc&&6===Tc.tag?(q(md,Tc.sibling),Tc=qa(Tc,rd),Tc.return=md,md=Tc):(q(md,Tc),Tc=Oi(rd,md.mode,me),Tc.return=md,md=Tc),ub(md)):q(md,Tc)}return bh}function xe(b){if(b===Qi)throw Error(t(174));return b}function Le(b,e){ee(Bj,e);ee(Cj,b);ee(Th,Qi);
b=e.nodeType;switch(b){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ea(null,"");break;default:b=8===b?e.parentNode:e,e=b.namespaceURI||null,b=b.tagName,e=Ea(e,b)}pd(Th);ee(Th,e)}function of(){pd(Th);pd(Cj);pd(Bj)}function We(b){xe(Bj.current);var e=xe(Th.current),q=Ea(e,b.type);e!==q&&(ee(Cj,b),ee(Th,q))}function we(b){Cj.current===b&&(pd(Th),pd(Cj))}function vf(b){for(var e=b;null!==e;){if(13===e.tag){var q=e.memoizedState;if(null!==q&&(q=q.dehydrated,null===q||"$?"===q.data||"$!"===q.data))return e}else if(19===
e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(e.flags&128))return e}else if(null!==e.child){e.child.return=e;e=e.child;continue}if(e===b)break;for(;null===e.sibling;){if(null===e.return||e.return===b)return null;e=e.return}e.sibling.return=e.return;e=e.sibling}return null}function Of(){for(var b=0;b<rk.length;b++)rk[b]._workInProgressVersionPrimary=null;rk.length=0}function af(){throw Error(t(321));}function ag(b,e){if(null===e)return!1;for(var q=0;q<e.length&&q<b.length;q++)if(!Vh(b[q],e[q]))return!1;
return!0}function Vd(b,e,q,M,qa,Ba){xi=Ba;wg=e;e.memoizedState=null;e.updateQueue=null;e.lanes=0;Wj.current=null===b||null===b.memoizedState?Vl:ml;b=q(M,qa);if(Xj){Ba=0;do{Xj=!1;Dj=0;if(25<=Ba)throw Error(t(301));Ba+=1;zh=oh=null;e.updateQueue=null;Wj.current=nl;b=q(M,qa)}while(Xj)}Wj.current=sk;e=null!==oh&&null!==oh.next;xi=0;zh=oh=wg=null;Yj=!1;if(e)throw Error(t(300));return b}function hf(){var b=0!==Dj;Dj=0;return b}function jf(){var b={memoizedState:null,baseState:null,baseQueue:null,queue:null,
next:null};null===zh?wg.memoizedState=zh=b:zh=zh.next=b;return zh}function Qe(){if(null===oh){var b=wg.alternate;b=null!==b?b.memoizedState:null}else b=oh.next;var e=null===zh?wg.memoizedState:zh.next;if(null!==e)zh=e,oh=b;else{if(null===b)throw Error(t(310));oh=b;b={memoizedState:oh.memoizedState,baseState:oh.baseState,baseQueue:oh.baseQueue,queue:oh.queue,next:null};null===zh?wg.memoizedState=zh=b:zh=zh.next=b}return zh}function Cf(b,e){return"function"===typeof e?e(b):e}function Pf(b){var e=Qe(),
q=e.queue;if(null===q)throw Error(t(311));q.lastRenderedReducer=b;var M=oh,qa=M.baseQueue,Ba=q.pending;if(null!==Ba){if(null!==qa){var ub=qa.next;qa.next=Ba.next;Ba.next=ub}M.baseQueue=qa=Ba;q.pending=null}if(null!==qa){Ba=qa.next;M=M.baseState;var wc=ub=null,Oc=null,zd=Ba;do{var ge=zd.lane;if((xi&ge)===ge)null!==Oc&&(Oc=Oc.next={lane:0,action:zd.action,hasEagerState:zd.hasEagerState,eagerState:zd.eagerState,next:null}),M=zd.hasEagerState?zd.eagerState:b(M,zd.action);else{var je={lane:ge,action:zd.action,
hasEagerState:zd.hasEagerState,eagerState:zd.eagerState,next:null};null===Oc?(wc=Oc=je,ub=M):Oc=Oc.next=je;wg.lanes|=ge;Rh|=ge}zd=zd.next}while(null!==zd&&zd!==Ba);null===Oc?ub=M:Oc.next=wc;Vh(M,e.memoizedState)||(ch=!0);e.memoizedState=M;e.baseState=ub;e.baseQueue=Oc;q.lastRenderedState=M}b=q.interleaved;if(null!==b){qa=b;do Ba=qa.lane,wg.lanes|=Ba,Rh|=Ba,qa=qa.next;while(qa!==b)}else null===qa&&(q.lanes=0);return[e.memoizedState,q.dispatch]}function Jf(b){var e=Qe(),q=e.queue;if(null===q)throw Error(t(311));
q.lastRenderedReducer=b;var M=q.dispatch,qa=q.pending,Ba=e.memoizedState;if(null!==qa){q.pending=null;var ub=qa=qa.next;do Ba=b(Ba,ub.action),ub=ub.next;while(ub!==qa);Vh(Ba,e.memoizedState)||(ch=!0);e.memoizedState=Ba;null===e.baseQueue&&(e.baseState=Ba);q.lastRenderedState=Ba}return[Ba,M]}function Gf(){}function Bg(b,e){var q=wg,M=Qe(),qa=e(),Ba=!Vh(M.memoizedState,qa);Ba&&(M.memoizedState=qa,ch=!0);M=M.queue;id(Hf.bind(null,q,M,b),[b]);if(M.getSnapshot!==e||Ba||null!==zh&&zh.memoizedState.tag&
1){q.flags|=2048;Dg(9,Af.bind(null,q,M,qa,e),void 0,null);if(null===Ah)throw Error(t(349));0!==(xi&30)||rg(q,e,qa)}return qa}function rg(b,e,q){b.flags|=16384;b={getSnapshot:e,value:q};e=wg.updateQueue;null===e?(e={lastEffect:null,stores:null},wg.updateQueue=e,e.stores=[b]):(q=e.stores,null===q?e.stores=[b]:q.push(b))}function Af(b,e,q,M){e.value=q;e.getSnapshot=M;dg(e)&&Ug(b)}function Hf(b,e,q){return q(function(){dg(e)&&Ug(b)})}function dg(b){var e=b.getSnapshot;b=b.value;try{var q=e();return!Vh(b,
q)}catch(M){return!0}}function Ug(b){var e=ib(b,1);null!==e&&da(e,b,1,-1)}function Vg(b){var e=jf();"function"===typeof b&&(b=b());e.memoizedState=e.baseState=b;b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cf,lastRenderedState:b};e.queue=b;b=b.dispatch=Lg.bind(null,wg,b);return[e.memoizedState,b]}function Dg(b,e,q,M){b={tag:b,create:e,destroy:q,deps:M,next:null};e=wg.updateQueue;null===e?(e={lastEffect:null,stores:null},wg.updateQueue=e,e.lastEffect=b.next=b):(q=e.lastEffect,
null===q?e.lastEffect=b.next=b:(M=q.next,q.next=b,b.next=M,e.lastEffect=b));return b}function Wg(){return Qe().memoizedState}function sa(b,e,q,M){var qa=jf();wg.flags|=b;qa.memoizedState=Dg(1|e,q,void 0,void 0===M?null:M)}function bb(b,e,q,M){var qa=Qe();M=void 0===M?null:M;var Ba=void 0;if(null!==oh){var ub=oh.memoizedState;Ba=ub.destroy;if(null!==M&&ag(M,ub.deps)){qa.memoizedState=Dg(e,q,Ba,M);return}}wg.flags|=b;qa.memoizedState=Dg(1|e,q,Ba,M)}function Rb(b,e){return sa(8390656,8,b,e)}function id(b,
e){return bb(2048,8,b,e)}function od(b,e){return bb(4,2,b,e)}function ne(b,e){return bb(4,4,b,e)}function Re(b,e){if("function"===typeof e)return b=b(),e(b),function(){e(null)};if(null!==e&&void 0!==e)return b=b(),e.current=b,function(){e.current=null}}function pf(b,e,q){q=null!==q&&void 0!==q?q.concat([b]):null;return bb(4,4,Re.bind(null,e,b),q)}function Ff(){}function Ne(b,e){var q=Qe();e=void 0===e?null:e;var M=q.memoizedState;if(null!==M&&null!==e&&ag(e,M[1]))return M[0];q.memoizedState=[b,e];
return b}function eg(b,e){var q=Qe();e=void 0===e?null:e;var M=q.memoizedState;if(null!==M&&null!==e&&ag(e,M[1]))return M[0];b=b();q.memoizedState=[b,e];return b}function Sf(b,e,q){if(0===(xi&21))return b.baseState&&(b.baseState=!1,ch=!0),b.memoizedState=q;Vh(q,e)||(q=rc(),wg.lanes|=q,Rh|=q,b.baseState=!0);return e}function Wf(b,e){var q=ng;ng=0!==q&&4>q?q:4;b(!0);var M=tk.transition;tk.transition={};try{b(!1),e()}finally{ng=q,tk.transition=M}}function kg(){return Qe().memoizedState}function pg(b,
e,q){var M=D(b);q={lane:M,action:q,hasEagerState:!1,eagerState:null,next:null};if(fh(b))ph(e,q);else if(q=Ja(b,e,q,M),null!==q){var qa=n();da(q,b,M,qa);Ie(q,e,M)}}function Lg(b,e,q){var M=D(b),qa={lane:M,action:q,hasEagerState:!1,eagerState:null,next:null};if(fh(b))ph(e,qa);else{var Ba=b.alternate;if(0===b.lanes&&(null===Ba||0===Ba.lanes)&&(Ba=e.lastRenderedReducer,null!==Ba))try{var ub=e.lastRenderedState,wc=Ba(ub,q);qa.hasEagerState=!0;qa.eagerState=wc;if(Vh(wc,ub)){var Oc=e.interleaved;null===
Oc?(qa.next=qa,ma(e)):(qa.next=Oc.next,Oc.next=qa);e.interleaved=qa;return}}catch(zd){}finally{}q=Ja(b,e,qa,M);null!==q&&(qa=n(),da(q,b,M,qa),Ie(q,e,M))}}function fh(b){var e=b.alternate;return b===wg||null!==e&&e===wg}function ph(b,e){Xj=Yj=!0;var q=b.pending;null===q?e.next=e:(e.next=q.next,q.next=e);b.pending=e}function Ie(b,e,q){if(0!==(q&4194240)){var M=e.lanes;M&=b.pendingLanes;q|=M;e.lanes=q;Rc(b,q)}}function ye(b,e){try{var q="",M=e;do q+=Ua(M),M=M.return;while(M)}catch(qa){q="\nError generating stack: "+
qa.message+"\n"+qa.stack}return{value:b,source:e,stack:q,digest:null}}function Kf(b,e,q){return{value:b,source:null,stack:null!=q?q:null,digest:null!=e?e:null}}function wf(b,e){try{console.error(e.value)}catch(q){setTimeout(function(){throw q;})}}function Bf(b,e,q){q=vc(-1,q);q.tag=3;q.payload={element:null};var M=e.value;q.callback=function(){Zj||(Zj=!0,uk=M);wf(b,e)};return q}function tf(b,e,q){q=vc(-1,q);q.tag=3;var M=b.type.getDerivedStateFromError;if("function"===typeof M){var qa=e.value;q.payload=
function(){return M(qa)};q.callback=function(){wf(b,e)}}var Ba=b.stateNode;null!==Ba&&"function"===typeof Ba.componentDidCatch&&(q.callback=function(){wf(b,e);"function"!==typeof M&&(null===pi?pi=new Set([this]):pi.add(this));var ub=e.stack;this.componentDidCatch(e.value,{componentStack:null!==ub?ub:""})});return q}function fg(b,e,q){var M=b.pingCache;if(null===M){M=b.pingCache=new Wl;var qa=new Set;M.set(e,qa)}else qa=M.get(e),void 0===qa&&(qa=new Set,M.set(e,qa));qa.has(q)||(qa.add(q),b=Qf.bind(null,
b,e,q),e.then(b,b))}function Eg(b){do{var e;if(e=13===b.tag)e=b.memoizedState,e=null!==e?null!==e.dehydrated?!0:!1:!0;if(e)return b;b=b.return}while(null!==b);return null}function sg(b,e,q,M,qa){if(0===(b.mode&1))return b===e?b.flags|=65536:(b.flags|=128,q.flags|=131072,q.flags&=-52805,1===q.tag&&(null===q.alternate?q.tag=17:(e=vc(-1,1),e.tag=2,Xb(q,e,1))),q.lanes|=1),b;b.flags|=65536;b.lanes=qa;return b}function Df(b,e,q,M){e.child=null===b?Vk(e,null,q,M):hj(e,b.child,q,M)}function Qg(b,e,q,M,qa){q=
q.render;var Ba=e.ref;J(e,qa);M=Vd(b,e,q,M,Ba,qa);q=hf();if(null!==b&&!ch)return e.updateQueue=b.updateQueue,e.flags&=-2053,b.lanes&=~qa,gh(b,e,qa);Kg&&q&&ve(e);e.flags|=1;Df(b,e,M,qa);return e.child}function Mg(b,e,q,M,qa){if(null===b){var Ba=q.type;if("function"===typeof Ba&&!jh(Ba)&&void 0===Ba.defaultProps&&null===q.compare&&void 0===q.defaultProps)return e.tag=15,e.type=Ba,qh(b,e,Ba,M,qa);b=Pi(q.type,null,M,e,e.mode,qa);b.ref=e.ref;b.return=e;return e.child=b}Ba=b.child;if(0===(b.lanes&qa)){var ub=
Ba.memoizedProps;q=q.compare;q=null!==q?q:Aa;if(q(ub,M)&&b.ref===e.ref)return gh(b,e,qa)}e.flags|=1;b=Sh(Ba,M);b.ref=e.ref;b.return=e;return e.child=b}function qh(b,e,q,M,qa){if(null!==b){var Ba=b.memoizedProps;if(Aa(Ba,M)&&b.ref===e.ref)if(ch=!1,e.pendingProps=M=Ba,0!==(b.lanes&qa))0!==(b.flags&131072)&&(ch=!0);else return e.lanes=b.lanes,gh(b,e,qa)}return rh(b,e,q,M,qa)}function xg(b,e,q){var M=e.pendingProps,qa=M.children,Ba=null!==b?b.memoizedState:null;if("hidden"===M.mode)if(0===(e.mode&1))e.memoizedState=
{baseLanes:0,cachePool:null,transitions:null},ee(tg,di),di|=q;else{if(0===(q&1073741824))return b=null!==Ba?Ba.baseLanes|q:q,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:b,cachePool:null,transitions:null},e.updateQueue=null,ee(tg,di),di|=b,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null};M=null!==Ba?Ba.baseLanes:q;ee(tg,di);di|=M}else null!==Ba?(M=Ba.baseLanes|q,e.memoizedState=null):M=q,ee(tg,di),di|=M;Df(b,e,qa,q);return e.child}function Wh(b,e){var q=e.ref;if(null===
b&&null!==q||null!==b&&b.ref!==q)e.flags|=512,e.flags|=2097152}function rh(b,e,q,M,qa){var Ba=eb(q)?$h:wh.current;Ba=Ra(e,Ba);J(e,qa);q=Vd(b,e,q,M,Ba,qa);M=hf();if(null!==b&&!ch)return e.updateQueue=b.updateQueue,e.flags&=-2053,b.lanes&=~qa,gh(b,e,qa);Kg&&M&&ve(e);e.flags|=1;Df(b,e,q,qa);return e.child}function Hh(b,e,q,M,qa){if(eb(q)){var Ba=!0;Uc(e)}else Ba=!1;J(e,qa);if(null===e.stateNode)Rg(b,e),Pc(e,q,M),Ge(e,q,M,qa),M=!0;else if(null===b){var ub=e.stateNode,wc=e.memoizedProps;ub.props=wc;var Oc=
ub.context,zd=q.contextType;"object"===typeof zd&&null!==zd?zd=la(zd):(zd=eb(q)?$h:wh.current,zd=Ra(e,zd));var ge=q.getDerivedStateFromProps,je="function"===typeof ge||"function"===typeof ub.getSnapshotBeforeUpdate;je||"function"!==typeof ub.UNSAFE_componentWillReceiveProps&&"function"!==typeof ub.componentWillReceiveProps||(wc!==M||Oc!==zd)&&Ee(e,ub,M,zd);Ni=!1;var de=e.memoizedState;ub.state=de;Yc(e,M,ub,qa);Oc=e.memoizedState;wc!==M||de!==Oc||Jg.current||Ni?("function"===typeof ge&&(Ad(e,q,ge,
M),Oc=e.memoizedState),(wc=Ni||Hd(e,q,wc,M,de,Oc,zd))?(je||"function"!==typeof ub.UNSAFE_componentWillMount&&"function"!==typeof ub.componentWillMount||("function"===typeof ub.componentWillMount&&ub.componentWillMount(),"function"===typeof ub.UNSAFE_componentWillMount&&ub.UNSAFE_componentWillMount()),"function"===typeof ub.componentDidMount&&(e.flags|=4194308)):("function"===typeof ub.componentDidMount&&(e.flags|=4194308),e.memoizedProps=M,e.memoizedState=Oc),ub.props=M,ub.state=Oc,ub.context=zd,
M=wc):("function"===typeof ub.componentDidMount&&(e.flags|=4194308),M=!1)}else{ub=e.stateNode;tc(b,e);wc=e.memoizedProps;zd=e.type===e.elementType?wc:ke(e.type,wc);ub.props=zd;je=e.pendingProps;de=ub.context;Oc=q.contextType;"object"===typeof Oc&&null!==Oc?Oc=la(Oc):(Oc=eb(q)?$h:wh.current,Oc=Ra(e,Oc));var He=q.getDerivedStateFromProps;(ge="function"===typeof He||"function"===typeof ub.getSnapshotBeforeUpdate)||"function"!==typeof ub.UNSAFE_componentWillReceiveProps&&"function"!==typeof ub.componentWillReceiveProps||
(wc!==je||de!==Oc)&&Ee(e,ub,M,Oc);Ni=!1;de=e.memoizedState;ub.state=de;Yc(e,M,ub,qa);var Ue=e.memoizedState;wc!==je||de!==Ue||Jg.current||Ni?("function"===typeof He&&(Ad(e,q,He,M),Ue=e.memoizedState),(zd=Ni||Hd(e,q,zd,M,de,Ue,Oc)||!1)?(ge||"function"!==typeof ub.UNSAFE_componentWillUpdate&&"function"!==typeof ub.componentWillUpdate||("function"===typeof ub.componentWillUpdate&&ub.componentWillUpdate(M,Ue,Oc),"function"===typeof ub.UNSAFE_componentWillUpdate&&ub.UNSAFE_componentWillUpdate(M,Ue,Oc)),
"function"===typeof ub.componentDidUpdate&&(e.flags|=4),"function"===typeof ub.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof ub.componentDidUpdate||wc===b.memoizedProps&&de===b.memoizedState||(e.flags|=4),"function"!==typeof ub.getSnapshotBeforeUpdate||wc===b.memoizedProps&&de===b.memoizedState||(e.flags|=1024),e.memoizedProps=M,e.memoizedState=Ue),ub.props=M,ub.state=Ue,ub.context=Oc,M=zd):("function"!==typeof ub.componentDidUpdate||wc===b.memoizedProps&&de===b.memoizedState||(e.flags|=
4),"function"!==typeof ub.getSnapshotBeforeUpdate||wc===b.memoizedProps&&de===b.memoizedState||(e.flags|=1024),M=!1)}return Xg(b,e,q,M,Ba,qa)}function Xg(b,e,q,M,qa,Ba){Wh(b,e);var ub=0!==(e.flags&128);if(!M&&!ub)return qa&&Qc(e,q,!1),gh(b,e,Ba);M=e.stateNode;Xl.current=e;var wc=ub&&"function"!==typeof q.getDerivedStateFromError?null:M.render();e.flags|=1;null!==b&&ub?(e.child=hj(e,b.child,null,Ba),e.child=hj(e,null,wc,Ba)):Df(b,e,wc,Ba);e.memoizedState=M.state;qa&&Qc(e,q,!0);return e.child}function sh(b){var e=
b.stateNode;e.pendingContext?wd(b,e.pendingContext,e.pendingContext!==e.context):e.context&&wd(b,e.context,!1);Le(b,e.containerInfo)}function Bh(b){return{baseLanes:b,cachePool:null,transitions:null}}function ji(b,e,q){var M=e.pendingProps,qa=Yg.current,Ba=!1,ub=0!==(e.flags&128),wc;(wc=ub)||(wc=null!==b&&null===b.memoizedState?!1:0!==(qa&2));if(wc)Ba=!0,e.flags&=-129;else if(null===b||null!==b.memoizedState)qa|=1;ee(Yg,qa&1);if(null===b){Fc(e);b=e.memoizedState;if(null!==b&&(b=b.dehydrated,null!==
b))return 0===(e.mode&1)?e.lanes=1:"$!"===b.data?e.lanes=8:e.lanes=1073741824,null;ub=M.children;b=M.fallback;return Ba?(M=e.mode,Ba=e.child,ub={mode:"hidden",children:ub},0===(M&1)&&null!==Ba?(Ba.childLanes=0,Ba.pendingProps=ub):Ba=ki(ub,M,0,null),b=ci(b,M,q,null),Ba.return=e,b.return=e,Ba.sibling=b,e.child=Ba,e.child.memoizedState=Bh(q),e.memoizedState=vk,b):dh(e,ub)}qa=b.memoizedState;if(null!==qa&&(wc=qa.dehydrated,null!==wc))return yi(b,e,ub,M,wc,qa,q);if(Ba){Ba=M.fallback;ub=e.mode;qa=b.child;
wc=qa.sibling;var Oc={mode:"hidden",children:M.children};0===(ub&1)&&e.child!==qa?(M=e.child,M.childLanes=0,M.pendingProps=Oc,e.deletions=null):(M=Sh(qa,Oc),M.subtreeFlags=qa.subtreeFlags&14680064);null!==wc?Ba=Sh(wc,Ba):(Ba=ci(Ba,ub,q,null),Ba.flags|=2);Ba.return=e;M.return=e;M.sibling=Ba;e.child=M;M=Ba;Ba=e.child;ub=b.child.memoizedState;ub=null===ub?Bh(q):{baseLanes:ub.baseLanes|q,cachePool:null,transitions:ub.transitions};Ba.memoizedState=ub;Ba.childLanes=b.childLanes&~q;e.memoizedState=vk;return M}Ba=
b.child;b=Ba.sibling;M=Sh(Ba,{mode:"visible",children:M.children});0===(e.mode&1)&&(M.lanes=q);M.return=e;M.sibling=null;null!==b&&(q=e.deletions,null===q?(e.deletions=[b],e.flags|=16):q.push(b));e.child=M;e.memoizedState=null;return M}function dh(b,e){e=ki({mode:"visible",children:e},b.mode,0,null);e.return=b;return b.child=e}function th(b,e,q,M){null!==M&&$d(M);hj(e,b.child,null,q);b=dh(e,e.pendingProps.children);b.flags|=2;e.memoizedState=null;return b}function yi(b,e,q,M,qa,Ba,ub){if(q){if(e.flags&
256)return e.flags&=-257,M=Kf(Error(t(422))),th(b,e,ub,M);if(null!==e.memoizedState)return e.child=b.child,e.flags|=128,null;Ba=M.fallback;qa=e.mode;M=ki({mode:"visible",children:M.children},qa,0,null);Ba=ci(Ba,qa,ub,null);Ba.flags|=2;M.return=e;Ba.return=e;M.sibling=Ba;e.child=M;0!==(e.mode&1)&&hj(e,b.child,null,ub);e.child.memoizedState=Bh(ub);e.memoizedState=vk;return Ba}if(0===(e.mode&1))return th(b,e,ub,null);if("$!"===qa.data){if(M=qa.nextSibling&&qa.nextSibling.dataset)var wc=M.dgst;M=wc;Ba=
Error(t(419));M=Kf(Ba,M,void 0);return th(b,e,ub,M)}wc=0!==(ub&b.childLanes);if(ch||wc){M=Ah;if(null!==M){switch(ub&-ub){case 4:qa=2;break;case 16:qa=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:qa=32;break;case 536870912:qa=268435456;break;default:qa=0}qa=0!==(qa&(M.suspendedLanes|ub))?0:qa;0!==qa&&
qa!==Ba.retryLane&&(Ba.retryLane=qa,ib(b,qa),da(M,b,qa,-1))}xf();M=Kf(Error(t(421)));return th(b,e,ub,M)}if("$?"===qa.data)return e.flags|=128,e.child=b.child,e=Lf.bind(null,b),qa._reactRetry=e,null;b=Ba.treeContext;Lh=L(qa.nextSibling);ai=e;Kg=!0;bi=null;null!==b&&(Ph[Qh++]=hi,Ph[Qh++]=ii,Ph[Qh++]=fj,hi=b.id,ii=b.overflow,fj=e);e=dh(e,M.children);e.flags|=4096;return e}function Fg(b,e,q){b.lanes|=e;var M=b.alternate;null!==M&&(M.lanes|=e);ea(b.return,e,q)}function Mh(b,e,q,M,qa){var Ba=b.memoizedState;
null===Ba?b.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:M,tail:q,tailMode:qa}:(Ba.isBackwards=e,Ba.rendering=null,Ba.renderingStartTime=0,Ba.last=M,Ba.tail=q,Ba.tailMode=qa)}function Xh(b,e,q){var M=e.pendingProps,qa=M.revealOrder,Ba=M.tail;Df(b,e,M.children,q);M=Yg.current;if(0!==(M&2))M=M&1|2,e.flags|=128;else{if(null!==b&&0!==(b.flags&128))a:for(b=e.child;null!==b;){if(13===b.tag)null!==b.memoizedState&&Fg(b,q,e);else if(19===b.tag)Fg(b,q,e);else if(null!==b.child){b.child.return=
b;b=b.child;continue}if(b===e)break a;for(;null===b.sibling;){if(null===b.return||b.return===e)break a;b=b.return}b.sibling.return=b.return;b=b.sibling}M&=1}ee(Yg,M);if(0===(e.mode&1))e.memoizedState=null;else switch(qa){case "forwards":q=e.child;for(qa=null;null!==q;)b=q.alternate,null!==b&&null===vf(b)&&(qa=q),q=q.sibling;q=qa;null===q?(qa=e.child,e.child=null):(qa=q.sibling,q.sibling=null);Mh(e,!1,qa,q,Ba);break;case "backwards":q=null;qa=e.child;for(e.child=null;null!==qa;){b=qa.alternate;if(null!==
b&&null===vf(b)){e.child=qa;break}b=qa.sibling;qa.sibling=q;q=qa;qa=b}Mh(e,!0,q,null,Ba);break;case "together":Mh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rg(b,e){0===(e.mode&1)&&null!==b&&(b.alternate=null,e.alternate=null,e.flags|=2)}function gh(b,e,q){null!==b&&(e.dependencies=b.dependencies);Rh|=e.lanes;if(0===(q&e.childLanes))return null;if(null!==b&&e.child!==b.child)throw Error(t(153));if(null!==e.child){b=e.child;q=Sh(b,b.pendingProps);e.child=q;for(q.return=
e;null!==b.sibling;)b=b.sibling,q=q.sibling=Sh(b,b.pendingProps),q.return=e;q.sibling=null}return e.child}function kh(b,e,q){switch(e.tag){case 3:sh(e);Zd();break;case 5:We(e);break;case 1:eb(e.type)&&Uc(e);break;case 4:Le(e,e.stateNode.containerInfo);break;case 10:var M=e.type._context,qa=e.memoizedProps.value;ee(Aj,M._currentValue);M._currentValue=qa;break;case 13:M=e.memoizedState;if(null!==M){if(null!==M.dehydrated)return ee(Yg,Yg.current&1),e.flags|=128,null;if(0!==(q&e.child.childLanes))return ji(b,
e,q);ee(Yg,Yg.current&1);b=gh(b,e,q);return null!==b?b.sibling:null}ee(Yg,Yg.current&1);break;case 19:M=0!==(q&e.childLanes);if(0!==(b.flags&128)){if(M)return Xh(b,e,q);e.flags|=128}qa=e.memoizedState;null!==qa&&(qa.rendering=null,qa.tail=null,qa.lastEffect=null);ee(Yg,Yg.current);if(M)break;else return null;case 22:case 23:return e.lanes=0,xg(b,e,q)}return gh(b,e,q)}function Ch(b,e){if(!Kg)switch(b.tailMode){case "hidden":e=b.tail;for(var q=null;null!==e;)null!==e.alternate&&(q=e),e=e.sibling;null===
q?b.tail=null:q.sibling=null;break;case "collapsed":q=b.tail;for(var M=null;null!==q;)null!==q.alternate&&(M=q),q=q.sibling;null===M?e||null===b.tail?b.tail=null:b.tail.sibling=null:M.sibling=null}}function Gg(b){var e=null!==b.alternate&&b.alternate.child===b.child,q=0,M=0;if(e)for(var qa=b.child;null!==qa;)q|=qa.lanes|qa.childLanes,M|=qa.subtreeFlags&14680064,M|=qa.flags&14680064,qa.return=b,qa=qa.sibling;else for(qa=b.child;null!==qa;)q|=qa.lanes|qa.childLanes,M|=qa.subtreeFlags,M|=qa.flags,qa.return=
b,qa=qa.sibling;b.subtreeFlags|=M;b.childLanes=q;return e}function Nh(b,e,q){var M=e.pendingProps;Me(e);switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gg(e),null;case 1:return eb(e.type)&&qc(),Gg(e),null;case 3:M=e.stateNode;of();pd(Jg);pd(wh);Of();M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null);if(null===b||null===b.child)Gc(e)?e.flags|=4:null===b||b.memoizedState.isDehydrated&&0===(e.flags&256)||(e.flags|=1024,null!==bi&&(Ib(bi),
bi=null));ol(b,e);Gg(e);return null;case 5:we(e);var qa=xe(Bj.current);q=e.type;if(null!==b&&null!=e.stateNode)Yl(b,e,q,M,qa),b.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!M){if(null===e.stateNode)throw Error(t(166));Gg(e);return null}b=xe(Th.current);if(Gc(e)){M=e.stateNode;q=e.type;var Ba=e.memoizedProps;M[vi]=e;M[xj]=Ba;b=0!==(e.mode&1);switch(q){case "dialog":Od("cancel",M);Od("close",M);break;case "iframe":case "object":case "embed":Od("load",M);break;case "video":case "audio":for(qa=
0;qa<ak.length;qa++)Od(ak[qa],M);break;case "source":Od("error",M);break;case "img":case "image":case "link":Od("error",M);Od("load",M);break;case "details":Od("toggle",M);break;case "input":Ia(M,Ba);Od("invalid",M);break;case "select":M._wrapperState={wasMultiple:!!Ba.multiple};Od("invalid",M);break;case "textarea":Vb(M,Ba),Od("invalid",M)}pa(q,Ba);qa=null;for(var ub in Ba)if(Ba.hasOwnProperty(ub)){var wc=Ba[ub];"children"===ub?"string"===typeof wc?M.textContent!==wc&&(!0!==Ba.suppressHydrationWarning&&
db(M.textContent,wc,b),qa=["children",wc]):"number"===typeof wc&&M.textContent!==""+wc&&(!0!==Ba.suppressHydrationWarning&&db(M.textContent,wc,b),qa=["children",""+wc]):V.hasOwnProperty(ub)&&null!=wc&&"onScroll"===ub&&Od("scroll",M)}switch(q){case "input":Wa(M);Ma(M,Ba,!0);break;case "textarea":Wa(M);ra(M);break;case "select":case "option":break;default:"function"===typeof Ba.onClick&&(M.onclick=yb)}M=qa;e.updateQueue=M;null!==M&&(e.flags|=4)}else{ub=9===qa.nodeType?qa:qa.ownerDocument;"http://www.w3.org/1999/xhtml"===
b&&(b=Y(q));"http://www.w3.org/1999/xhtml"===b?"script"===q?(b=ub.createElement("div"),b.innerHTML="\x3cscript\x3e\x3c/script\x3e",b=b.removeChild(b.firstChild)):"string"===typeof M.is?b=ub.createElement(q,{is:M.is}):(b=ub.createElement(q),"select"===q&&(ub=b,M.multiple?ub.multiple=!0:M.size&&(ub.size=M.size))):b=ub.createElementNS(b,q);b[vi]=e;b[xj]=M;pl(b,e,!1,!1);e.stateNode=b;a:{ub=x(q,M);switch(q){case "dialog":Od("cancel",b);Od("close",b);qa=M;break;case "iframe":case "object":case "embed":Od("load",
b);qa=M;break;case "video":case "audio":for(qa=0;qa<ak.length;qa++)Od(ak[qa],b);qa=M;break;case "source":Od("error",b);qa=M;break;case "img":case "image":case "link":Od("error",b);Od("load",b);qa=M;break;case "details":Od("toggle",b);qa=M;break;case "input":Ia(b,M);qa=Da(b,M);Od("invalid",b);break;case "option":qa=M;break;case "select":b._wrapperState={wasMultiple:!!M.multiple};qa=vg({},M,{value:void 0});Od("invalid",b);break;case "textarea":Vb(b,M);qa=Ob(b,M);Od("invalid",b);break;default:qa=M}pa(q,
qa);wc=qa;for(Ba in wc)if(wc.hasOwnProperty(Ba)){var Oc=wc[Ba];"style"===Ba?ca(b,Oc):"dangerouslySetInnerHTML"===Ba?(Oc=Oc?Oc.__html:void 0,null!=Oc&&gg(b,Oc)):"children"===Ba?"string"===typeof Oc?("textarea"!==q||""!==Oc)&&Ga(b,Oc):"number"===typeof Oc&&Ga(b,""+Oc):"suppressContentEditableWarning"!==Ba&&"suppressHydrationWarning"!==Ba&&"autoFocus"!==Ba&&(V.hasOwnProperty(Ba)?null!=Oc&&"onScroll"===Ba&&Od("scroll",b):null!=Oc&&pc(b,Ba,Oc,ub))}switch(q){case "input":Wa(b);Ma(b,M,!1);break;case "textarea":Wa(b);
ra(b);break;case "option":null!=M.value&&b.setAttribute("value",""+Hb(M.value));break;case "select":b.multiple=!!M.multiple;Ba=M.value;null!=Ba?qb(b,!!M.multiple,Ba,!1):null!=M.defaultValue&&qb(b,!!M.multiple,M.defaultValue,!0);break;default:"function"===typeof qa.onClick&&(b.onclick=yb)}switch(q){case "button":case "input":case "select":case "textarea":M=!!M.autoFocus;break a;case "img":M=!0;break a;default:M=!1}}M&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}Gg(e);return null;case 6:if(b&&
null!=e.stateNode)Zl(b,e,b.memoizedProps,M);else{if("string"!==typeof M&&null===e.stateNode)throw Error(t(166));q=xe(Bj.current);xe(Th.current);if(Gc(e)){M=e.stateNode;q=e.memoizedProps;M[vi]=e;if(Ba=M.nodeValue!==q)if(b=ai,null!==b)switch(b.tag){case 3:db(M.nodeValue,q,0!==(b.mode&1));break;case 5:!0!==b.memoizedProps.suppressHydrationWarning&&db(M.nodeValue,q,0!==(b.mode&1))}Ba&&(e.flags|=4)}else M=(9===q.nodeType?q:q.ownerDocument).createTextNode(M),M[vi]=e,e.stateNode=M}Gg(e);return null;case 13:pd(Yg);
M=e.memoizedState;if(null===b||null!==b.memoizedState&&null!==b.memoizedState.dehydrated){if(Kg&&null!==Lh&&0!==(e.mode&1)&&0===(e.flags&128))Jd(),Zd(),e.flags|=98560,Ba=!1;else if(Ba=Gc(e),null!==M&&null!==M.dehydrated){if(null===b){if(!Ba)throw Error(t(318));Ba=e.memoizedState;Ba=null!==Ba?Ba.dehydrated:null;if(!Ba)throw Error(t(317));Ba[vi]=e}else Zd(),0===(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gg(e);Ba=!1}else null!==bi&&(Ib(bi),bi=null),Ba=!0;if(!Ba)return e.flags&65536?e:null}if(0!==
(e.flags&128))return e.lanes=q,e;M=null!==M;M!==(null!==b&&null!==b.memoizedState)&&M&&(e.child.flags|=8192,0!==(e.mode&1)&&(null===b||0!==(Yg.current&1)?0===yf&&(yf=3):xf()));null!==e.updateQueue&&(e.flags|=4);Gg(e);return null;case 4:return of(),ol(b,e),null===b&&De(e.stateNode.containerInfo),Gg(e),null;case 10:return Q(e.type._context),Gg(e),null;case 17:return eb(e.type)&&qc(),Gg(e),null;case 19:pd(Yg);Ba=e.memoizedState;if(null===Ba)return Gg(e),null;M=0!==(e.flags&128);ub=Ba.rendering;if(null===
ub)if(M)Ch(Ba,!1);else{if(0!==yf||null!==b&&0!==(b.flags&128))for(b=e.child;null!==b;){ub=vf(b);if(null!==ub){e.flags|=128;Ch(Ba,!1);M=ub.updateQueue;null!==M&&(e.updateQueue=M,e.flags|=4);e.subtreeFlags=0;M=q;for(q=e.child;null!==q;)Ba=q,b=M,Ba.flags&=14680066,ub=Ba.alternate,null===ub?(Ba.childLanes=0,Ba.lanes=b,Ba.child=null,Ba.subtreeFlags=0,Ba.memoizedProps=null,Ba.memoizedState=null,Ba.updateQueue=null,Ba.dependencies=null,Ba.stateNode=null):(Ba.childLanes=ub.childLanes,Ba.lanes=ub.lanes,Ba.child=
ub.child,Ba.subtreeFlags=0,Ba.deletions=null,Ba.memoizedProps=ub.memoizedProps,Ba.memoizedState=ub.memoizedState,Ba.updateQueue=ub.updateQueue,Ba.type=ub.type,b=ub.dependencies,Ba.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext}),q=q.sibling;ee(Yg,Yg.current&1|2);return e.child}b=b.sibling}null!==Ba.tail&&hh()>ij&&(e.flags|=128,M=!0,Ch(Ba,!1),e.lanes=4194304)}else{if(!M)if(b=vf(ub),null!==b){if(e.flags|=128,M=!0,q=b.updateQueue,null!==q&&(e.updateQueue=q,e.flags|=4),Ch(Ba,!0),
null===Ba.tail&&"hidden"===Ba.tailMode&&!ub.alternate&&!Kg)return Gg(e),null}else 2*hh()-Ba.renderingStartTime>ij&&1073741824!==q&&(e.flags|=128,M=!0,Ch(Ba,!1),e.lanes=4194304);Ba.isBackwards?(ub.sibling=e.child,e.child=ub):(q=Ba.last,null!==q?q.sibling=ub:e.child=ub,Ba.last=ub)}if(null!==Ba.tail)return e=Ba.tail,Ba.rendering=e,Ba.tail=e.sibling,Ba.renderingStartTime=hh(),e.sibling=null,q=Yg.current,ee(Yg,M?q&1|2:q&1),e;Gg(e);return null;case 22:case 23:return se(),M=null!==e.memoizedState,null!==
b&&null!==b.memoizedState!==M&&(e.flags|=8192),M&&0!==(e.mode&1)?0!==(di&1073741824)&&(Gg(e),e.subtreeFlags&6&&(e.flags|=8192)):Gg(e),null;case 24:return null;case 25:return null}throw Error(t(156,e.tag));}function Dh(b,e){Me(e);switch(e.tag){case 1:return eb(e.type)&&qc(),b=e.flags,b&65536?(e.flags=b&-65537|128,e):null;case 3:return of(),pd(Jg),pd(wh),Of(),b=e.flags,0!==(b&65536)&&0===(b&128)?(e.flags=b&-65537|128,e):null;case 5:return we(e),null;case 13:pd(Yg);b=e.memoizedState;if(null!==b&&null!==
b.dehydrated){if(null===e.alternate)throw Error(t(340));Zd()}b=e.flags;return b&65536?(e.flags=b&-65537|128,e):null;case 19:return pd(Yg),null;case 4:return of(),null;case 10:return Q(e.type._context),null;case 22:case 23:return se(),null;case 24:return null;default:return null}}function Hg(b,e){var q=b.ref;if(null!==q)if("function"===typeof q)try{q(null)}catch(M){mf(b,e,M)}else q.current=null}function Ng(b,e,q){try{q()}catch(M){mf(b,e,M)}}function Yh(b,e){Wk=Hi;b=Cc();if(mc(b)){if("selectionStart"in
b)var q={start:b.selectionStart,end:b.selectionEnd};else a:{q=(q=b.ownerDocument)&&q.defaultView||window;var M=q.getSelection&&q.getSelection();if(M&&0!==M.rangeCount){q=M.anchorNode;var qa=M.anchorOffset,Ba=M.focusNode;M=M.focusOffset;try{q.nodeType,Ba.nodeType}catch(me){q=null;break a}var ub=0,wc=-1,Oc=-1,zd=0,ge=0,je=b,de=null;b:for(;;){for(var He;;){je!==q||0!==qa&&3!==je.nodeType||(wc=ub+qa);je!==Ba||0!==M&&3!==je.nodeType||(Oc=ub+M);3===je.nodeType&&(ub+=je.nodeValue.length);if(null===(He=je.firstChild))break;
de=je;je=He}for(;;){if(je===b)break b;de===q&&++zd===qa&&(wc=ub);de===Ba&&++ge===M&&(Oc=ub);if(null!==(He=je.nextSibling))break;je=de;de=je.parentNode}je=He}q=-1===wc||-1===Oc?null:{start:wc,end:Oc}}else q=null}q=q||{start:0,end:0}}else q=null;Xk={focusedElem:b,selectionRange:q};Hi=!1;for(Pe=e;null!==Pe;)if(e=Pe,b=e.child,0!==(e.subtreeFlags&1028)&&null!==b)b.return=e,Pe=b;else for(;null!==Pe;){e=Pe;try{var Ue=e.alternate;if(0!==(e.flags&1024))switch(e.tag){case 0:case 11:case 15:break;case 1:if(null!==
Ue){var Ze=Ue.memoizedProps,bh=Ue.memoizedState,md=e.stateNode,Tc=md.getSnapshotBeforeUpdate(e.elementType===e.type?Ze:ke(e.type,Ze),bh);md.__reactInternalSnapshotBeforeUpdate=Tc}break;case 3:var rd=e.stateNode.containerInfo;1===rd.nodeType?rd.textContent="":9===rd.nodeType&&rd.documentElement&&rd.removeChild(rd.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163));}}catch(me){mf(e,e.return,me)}b=e.sibling;if(null!==b){b.return=e.return;Pe=b;break}Pe=e.return}Ue=ql;
ql=!1;return Ue}function eh(b,e,q){var M=e.updateQueue;M=null!==M?M.lastEffect:null;if(null!==M){var qa=M=M.next;do{if((qa.tag&b)===b){var Ba=qa.destroy;qa.destroy=void 0;void 0!==Ba&&Ng(e,q,Ba)}qa=qa.next}while(qa!==M)}}function Zg(b,e){e=e.updateQueue;e=null!==e?e.lastEffect:null;if(null!==e){var q=e=e.next;do{if((q.tag&b)===b){var M=q.create;q.destroy=M()}q=q.next}while(q!==e)}}function Xf(b){var e=b.ref;if(null!==e){var q=b.stateNode;switch(b.tag){case 5:b=q;break;default:b=q}"function"===typeof e?
e(b):e.current=b}}function Sg(b){var e=b.alternate;null!==e&&(b.alternate=null,Sg(e));b.child=null;b.deletions=null;b.sibling=null;5===b.tag&&(e=b.stateNode,null!==e&&(delete e[vi],delete e[xj],delete e[lk],delete e[Yk],delete e[$l]));b.stateNode=null;b.return=null;b.dependencies=null;b.memoizedProps=null;b.memoizedState=null;b.pendingProps=null;b.stateNode=null;b.updateQueue=null}function $g(b){return 5===b.tag||3===b.tag||4===b.tag}function qf(b){a:for(;;){for(;null===b.sibling;){if(null===b.return||
$g(b.return))return null;b=b.return}b.sibling.return=b.return;for(b=b.sibling;5!==b.tag&&6!==b.tag&&18!==b.tag;){if(b.flags&2)continue a;if(null===b.child||4===b.tag)continue a;else b.child.return=b,b=b.child}if(!(b.flags&2))return b.stateNode}}function ei(b,e,q){var M=b.tag;if(5===M||6===M)b=b.stateNode,e?8===q.nodeType?q.parentNode.insertBefore(b,e):q.insertBefore(b,e):(8===q.nodeType?(e=q.parentNode,e.insertBefore(b,q)):(e=q,e.appendChild(b)),q=q._reactRootContainer,null!==q&&void 0!==q||null!==
e.onclick||(e.onclick=yb));else if(4!==M&&(b=b.child,null!==b))for(ei(b,e,q),b=b.sibling;null!==b;)ei(b,e,q),b=b.sibling}function Og(b,e,q){var M=b.tag;if(5===M||6===M)b=b.stateNode,e?q.insertBefore(b,e):q.appendChild(b);else if(4!==M&&(b=b.child,null!==b))for(Og(b,e,q),b=b.sibling;null!==b;)Og(b,e,q),b=b.sibling}function bg(b,e,q){for(q=q.child;null!==q;)U(b,e,q),q=q.sibling}function U(b,e,q){if(si&&"function"===typeof si.onCommitFiberUnmount)try{si.onCommitFiberUnmount(ik,q)}catch(wc){}switch(q.tag){case 5:Eh||
Hg(q,e);case 6:var M=Ih,qa=qi;Ih=null;bg(b,e,q);Ih=M;qi=qa;null!==Ih&&(qi?(b=Ih,q=q.stateNode,8===b.nodeType?b.parentNode.removeChild(q):b.removeChild(q)):Ih.removeChild(q.stateNode));break;case 18:null!==Ih&&(qi?(b=Ih,q=q.stateNode,8===b.nodeType?ac(b.parentNode,q):1===b.nodeType&&ac(b,q),Zc(b)):ac(Ih,q.stateNode));break;case 4:M=Ih;qa=qi;Ih=q.stateNode.containerInfo;qi=!0;bg(b,e,q);Ih=M;qi=qa;break;case 0:case 11:case 14:case 15:if(!Eh&&(M=q.updateQueue,null!==M&&(M=M.lastEffect,null!==M))){qa=
M=M.next;do{var Ba=qa,ub=Ba.destroy;Ba=Ba.tag;void 0!==ub&&(0!==(Ba&2)?Ng(q,e,ub):0!==(Ba&4)&&Ng(q,e,ub));qa=qa.next}while(qa!==M)}bg(b,e,q);break;case 1:if(!Eh&&(Hg(q,e),M=q.stateNode,"function"===typeof M.componentWillUnmount))try{M.props=q.memoizedProps,M.state=q.memoizedState,M.componentWillUnmount()}catch(wc){mf(q,e,wc)}bg(b,e,q);break;case 21:bg(b,e,q);break;case 22:q.mode&1?(Eh=(M=Eh)||null!==q.memoizedState,bg(b,e,q),Eh=M):bg(b,e,q);break;default:bg(b,e,q)}}function ya(b){var e=b.updateQueue;
if(null!==e){b.updateQueue=null;var q=b.stateNode;null===q&&(q=b.stateNode=new am);e.forEach(function(M){var qa=ah.bind(null,b,M);q.has(M)||(q.add(M),M.then(qa,qa))})}}function Ta(b,e){var q=e.deletions;if(null!==q)for(var M=0;M<q.length;M++){var qa=q[M];try{var Ba=b,ub=e,wc=ub;a:for(;null!==wc;){switch(wc.tag){case 5:Ih=wc.stateNode;qi=!1;break a;case 3:Ih=wc.stateNode.containerInfo;qi=!0;break a;case 4:Ih=wc.stateNode.containerInfo;qi=!0;break a}wc=wc.return}if(null===Ih)throw Error(t(160));U(Ba,
ub,qa);Ih=null;qi=!1;var Oc=qa.alternate;null!==Oc&&(Oc.return=null);qa.return=null}catch(zd){mf(qa,e,zd)}}if(e.subtreeFlags&12854)for(e=e.child;null!==e;)w(e,b),e=e.sibling}function w(b,e){var q=b.alternate,M=b.flags;switch(b.tag){case 0:case 11:case 14:case 15:Ta(e,b);T(b);if(M&4){try{eh(3,b,b.return),Zg(3,b)}catch(Ze){mf(b,b.return,Ze)}try{eh(5,b,b.return)}catch(Ze){mf(b,b.return,Ze)}}break;case 1:Ta(e,b);T(b);M&512&&null!==q&&Hg(q,q.return);break;case 5:Ta(e,b);T(b);M&512&&null!==q&&Hg(q,q.return);
if(b.flags&32){var qa=b.stateNode;try{Ga(qa,"")}catch(Ze){mf(b,b.return,Ze)}}if(M&4&&(qa=b.stateNode,null!=qa)){var Ba=b.memoizedProps,ub=null!==q?q.memoizedProps:Ba,wc=b.type,Oc=b.updateQueue;b.updateQueue=null;if(null!==Oc)try{"input"===wc&&"radio"===Ba.type&&null!=Ba.name&&kb(qa,Ba);x(wc,ub);var zd=x(wc,Ba);for(ub=0;ub<Oc.length;ub+=2){var ge=Oc[ub],je=Oc[ub+1];"style"===ge?ca(qa,je):"dangerouslySetInnerHTML"===ge?gg(qa,je):"children"===ge?Ga(qa,je):pc(qa,ge,je,zd)}switch(wc){case "input":mb(qa,
Ba);break;case "textarea":ob(qa,Ba);break;case "select":var de=qa._wrapperState.wasMultiple;qa._wrapperState.wasMultiple=!!Ba.multiple;var He=Ba.value;null!=He?qb(qa,!!Ba.multiple,He,!1):de!==!!Ba.multiple&&(null!=Ba.defaultValue?qb(qa,!!Ba.multiple,Ba.defaultValue,!0):qb(qa,!!Ba.multiple,Ba.multiple?[]:"",!1))}qa[xj]=Ba}catch(Ze){mf(b,b.return,Ze)}}break;case 6:Ta(e,b);T(b);if(M&4){if(null===b.stateNode)throw Error(t(162));qa=b.stateNode;Ba=b.memoizedProps;try{qa.nodeValue=Ba}catch(Ze){mf(b,b.return,
Ze)}}break;case 3:Ta(e,b);T(b);if(M&4&&null!==q&&q.memoizedState.isDehydrated)try{Zc(e.containerInfo)}catch(Ze){mf(b,b.return,Ze)}break;case 4:Ta(e,b);T(b);break;case 13:Ta(e,b);T(b);qa=b.child;qa.flags&8192&&(Ba=null!==qa.memoizedState,qa.stateNode.isHidden=Ba,!Ba||null!==qa.alternate&&null!==qa.alternate.memoizedState||(Zk=hh()));M&4&&ya(b);break;case 22:ge=null!==q&&null!==q.memoizedState;b.mode&1?(Eh=(zd=Eh)||ge,Ta(e,b),Eh=zd):Ta(e,b);T(b);if(M&8192){zd=null!==b.memoizedState;if((b.stateNode.isHidden=
zd)&&!ge&&0!==(b.mode&1))for(Pe=b,ge=b.child;null!==ge;){for(je=Pe=ge;null!==Pe;){de=Pe;He=de.child;switch(de.tag){case 0:case 11:case 14:case 15:eh(4,de,de.return);break;case 1:Hg(de,de.return);var Ue=de.stateNode;if("function"===typeof Ue.componentWillUnmount){M=de;q=de.return;try{e=M,Ue.props=e.memoizedProps,Ue.state=e.memoizedState,Ue.componentWillUnmount()}catch(Ze){mf(M,q,Ze)}}break;case 5:Hg(de,de.return);break;case 22:if(null!==de.memoizedState){G(je);continue}}null!==He?(He.return=de,Pe=
He):G(je)}ge=ge.sibling}ge=null;je=b;a:for(;;){if(5===je.tag){if(null===ge){ge=je;try{qa=je.stateNode,zd?(Ba=qa.style,"function"===typeof Ba.setProperty?Ba.setProperty("display","none","important"):Ba.display="none"):(wc=je.stateNode,Oc=je.memoizedProps.style,ub=void 0!==Oc&&null!==Oc&&Oc.hasOwnProperty("display")?Oc.display:null,wc.style.display=cb("display",ub))}catch(Ze){mf(b,b.return,Ze)}}}else if(6===je.tag){if(null===ge)try{je.stateNode.nodeValue=zd?"":je.memoizedProps}catch(Ze){mf(b,b.return,
Ze)}}else if((22!==je.tag&&23!==je.tag||null===je.memoizedState||je===b)&&null!==je.child){je.child.return=je;je=je.child;continue}if(je===b)break a;for(;null===je.sibling;){if(null===je.return||je.return===b)break a;ge===je&&(ge=null);je=je.return}ge===je&&(ge=null);je.sibling.return=je.return;je=je.sibling}}break;case 19:Ta(e,b);T(b);M&4&&ya(b);break;case 21:break;default:Ta(e,b),T(b)}}function T(b){var e=b.flags;if(e&2){try{a:{for(var q=b.return;null!==q;){if($g(q))break a;q=q.return}throw Error(t(160));
}switch(q.tag){case 5:var M=q.stateNode;q.flags&32&&(Ga(M,""),q.flags&=-33);var qa=qf(b);Og(b,qa,M);break;case 3:case 4:var Ba=q.stateNode.containerInfo,ub=qf(b);ei(b,ub,Ba);break;default:throw Error(t(161));}}catch(wc){mf(b,b.return,wc)}b.flags&=-3}e&4096&&(b.flags&=-4097)}function ka(b,e,q){Pe=b;xa(b,e,q)}function xa(b,e,q){for(var M=0!==(b.mode&1);null!==Pe;){var qa=Pe,Ba=qa.child;if(22===qa.tag&&M){var ub=null!==qa.memoizedState||wk;if(!ub){var wc=qa.alternate,Oc=null!==wc&&null!==wc.memoizedState||
Eh;wc=wk;var zd=Eh;wk=ub;if((Eh=Oc)&&!zd)for(Pe=qa;null!==Pe;)ub=Pe,Oc=ub.child,22===ub.tag&&null!==ub.memoizedState?ja(qa):null!==Oc?(Oc.return=ub,Pe=Oc):ja(qa);for(;null!==Ba;)Pe=Ba,xa(Ba,e,q),Ba=Ba.sibling;Pe=qa;wk=wc;Eh=zd}y(b,e,q)}else 0!==(qa.subtreeFlags&8772)&&null!==Ba?(Ba.return=qa,Pe=Ba):y(b,e,q)}}function y(b){for(;null!==Pe;){var e=Pe;if(0!==(e.flags&8772)){var q=e.alternate;try{if(0!==(e.flags&8772))switch(e.tag){case 0:case 11:case 15:Eh||Zg(5,e);break;case 1:var M=e.stateNode;if(e.flags&
4&&!Eh)if(null===q)M.componentDidMount();else{var qa=e.elementType===e.type?q.memoizedProps:ke(e.type,q.memoizedProps);M.componentDidUpdate(qa,q.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var Ba=e.updateQueue;null!==Ba&&hd(e,Ba,M);break;case 3:var ub=e.updateQueue;if(null!==ub){q=null;if(null!==e.child)switch(e.child.tag){case 5:q=e.child.stateNode;break;case 1:q=e.child.stateNode}hd(e,ub,q)}break;case 5:var wc=e.stateNode;if(null===q&&e.flags&4){q=wc;var Oc=e.memoizedProps;switch(e.type){case "button":case "input":case "select":case "textarea":Oc.autoFocus&&
q.focus();break;case "img":Oc.src&&(q.src=Oc.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===e.memoizedState){var zd=e.alternate;if(null!==zd){var ge=zd.memoizedState;if(null!==ge){var je=ge.dehydrated;null!==je&&Zc(je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163));}Eh||e.flags&512&&Xf(e)}catch(de){mf(e,e.return,de)}}if(e===b){Pe=null;break}q=e.sibling;if(null!==q){q.return=e.return;Pe=q;break}Pe=e.return}}function G(b){for(;null!==
Pe;){var e=Pe;if(e===b){Pe=null;break}var q=e.sibling;if(null!==q){q.return=e.return;Pe=q;break}Pe=e.return}}function ja(b){for(;null!==Pe;){var e=Pe;try{switch(e.tag){case 0:case 11:case 15:var q=e.return;try{Zg(4,e)}catch(Oc){mf(e,q,Oc)}break;case 1:var M=e.stateNode;if("function"===typeof M.componentDidMount){var qa=e.return;try{M.componentDidMount()}catch(Oc){mf(e,qa,Oc)}}var Ba=e.return;try{Xf(e)}catch(Oc){mf(e,Ba,Oc)}break;case 5:var ub=e.return;try{Xf(e)}catch(Oc){mf(e,ub,Oc)}}}catch(Oc){mf(e,
e.return,Oc)}if(e===b){Pe=null;break}var wc=e.sibling;if(null!==wc){wc.return=e.return;Pe=wc;break}Pe=e.return}}function n(){return 0!==($f&6)?hh():-1!==xk?xk:xk=hh()}function D(b){if(0===(b.mode&1))return 1;if(0!==($f&2)&&0!==Tg)return Tg&-Tg;if(null!==bm.transition)return 0===yk&&(yk=rc()),yk;b=ng;if(0!==b)return b;b=window.event;return b=void 0===b?16:wb(b.type)}function da(b,e,q,M){if(50<jj)throw jj=0,bk=null,Error(t(185));dd(b,q,M);if(0===($f&2)||b!==Ah)b===Ah&&(0===($f&2)&&(zk|=q),4===yf&&Ub(b,
Tg)),oa(b,M),1===q&&0===$f&&0===(e.mode&1)&&(ij=hh()+500,pk&&Ld())}function oa(b,e){var q=b.callbackNode;Kb(b,e);var M=Ca(b,b===Ah?Tg:0);if(0===M)null!==q&&$k(q),b.callbackNode=null,b.callbackPriority=0;else if(e=M&-M,b.callbackPriority!==e){null!=q&&$k(q);if(1===e)0===b.tag?kd(Bd.bind(null,b)):td(Bd.bind(null,b)),Ak(function(){0===($f&6)&&Ld()}),q=null;else{switch(Pd(M)){case 1:q=Jk;break;case 4:q=Kk;break;case 16:q=Mj;break;case 536870912:q=Lk;break;default:q=Mj}q=hg(q,Va.bind(null,b))}b.callbackPriority=
e;b.callbackNode=q}}function Va(b,e){xk=-1;yk=0;if(0!==($f&6))throw Error(t(327));var q=b.callbackNode;if(lg()&&b.callbackNode!==q)return null;var M=Ca(b,b===Ah?Tg:0);if(0===M)return null;if(0!==(M&30)||0!==(M&b.expiredLanes)||e)e=Tf(b,M);else{e=M;var qa=$f;$f|=2;var Ba=Se();if(Ah!==b||Tg!==e)zi=null,ij=hh()+500,Ce(b,e);do try{for(;null!==lh&&!rl();)ff(lh);break}catch(wc){te(b,wc)}while(1);Vj=Mi=aj=null;Bk.current=Ba;$f=qa;null!==lh?e=0:(Ah=null,Tg=0,e=yf)}if(0!==e){2===e&&(qa=xc(b),0!==qa&&(M=qa,
e=Za(b,qa)));if(1===e)throw q=uh,Ce(b,0),Ub(b,M),oa(b,hh()),q;if(6===e)Ub(b,M);else{qa=b.current.alternate;if(0===(M&30)&&!bc(qa)&&(e=Tf(b,M),2===e&&(Ba=xc(b),0!==Ba&&(M=Ba,e=Za(b,Ba))),1===e))throw q=uh,Ce(b,0),Ub(b,M),oa(b,hh()),q;b.finishedWork=qa;b.finishedLanes=M;switch(e){case 0:case 1:throw Error(t(345));case 2:cg(b,Zh,zi);break;case 3:Ub(b,M);if((M&130023424)===M&&(e=Zk+500-hh(),10<e)){if(0!==Ca(b,0))break;qa=b.suspendedLanes;if((qa&M)!==M){n();b.pingedLanes|=b.suspendedLanes&qa;break}b.timeoutHandle=
al(cg.bind(null,b,Zh,zi),e);break}cg(b,Zh,zi);break;case 4:Ub(b,M);if((M&4194240)===M)break;e=b.eventTimes;for(qa=-1;0<M;){var ub=31-gi(M);Ba=1<<ub;ub=e[ub];ub>qa&&(qa=ub);M&=~Ba}M=qa;M=hh()-M;M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3E3>M?3E3:4320>M?4320:1960*cm(M/1960))-M;if(10<M){b.timeoutHandle=al(cg.bind(null,b,Zh,zi),M);break}cg(b,Zh,zi);break;case 5:cg(b,Zh,zi);break;default:throw Error(t(329));}}}oa(b,hh());return b.callbackNode===q?Va.bind(null,b):null}function Za(b,e){var q=ck;b.current.memoizedState.isDehydrated&&
(Ce(b,e).flags|=256);b=Tf(b,e);2!==b&&(e=Zh,Zh=q,null!==e&&Ib(e));return b}function Ib(b){null===Zh?Zh=b:Zh.push.apply(Zh,b)}function bc(b){for(var e=b;;){if(e.flags&16384){var q=e.updateQueue;if(null!==q&&(q=q.stores,null!==q))for(var M=0;M<q.length;M++){var qa=q[M],Ba=qa.getSnapshot;qa=qa.value;try{if(!Vh(Ba(),qa))return!1}catch(ub){return!1}}}q=e.child;if(e.subtreeFlags&16384&&null!==q)q.return=e,e=q;else{if(e===b)break;for(;null===e.sibling;){if(null===e.return||e.return===b)return!0;e=e.return}e.sibling.return=
e.return;e=e.sibling}}return!0}function Ub(b,e){e&=~ri;e&=~zk;b.suspendedLanes|=e;b.pingedLanes&=~e;for(b=b.expirationTimes;0<e;){var q=31-gi(e),M=1<<q;b[q]=-1;e&=~M}}function Bd(b){if(0!==($f&6))throw Error(t(327));lg();var e=Ca(b,0);if(0===(e&1))return oa(b,hh()),null;var q=Tf(b,e);if(0!==b.tag&&2===q){var M=xc(b);0!==M&&(e=M,q=Za(b,M))}if(1===q)throw q=uh,Ce(b,0),Ub(b,e),oa(b,hh()),q;if(6===q)throw Error(t(345));b.finishedWork=b.current.alternate;b.finishedLanes=e;cg(b,Zh,zi);oa(b,hh());return null}
function Xc(b,e){var q=$f;$f|=1;try{return b(e)}finally{$f=q,0===$f&&(ij=hh()+500,pk&&Ld())}}function Rd(b){null!==Ri&&0===Ri.tag&&0===($f&6)&&lg();var e=$f;$f|=1;var q=li.transition,M=ng;try{if(li.transition=null,ng=1,b)return b()}finally{ng=M,li.transition=q,$f=e,0===($f&6)&&Ld()}}function se(){di=tg.current;pd(tg)}function Ce(b,e){b.finishedWork=null;b.finishedLanes=0;var q=b.timeoutHandle;-1!==q&&(b.timeoutHandle=-1,bl(q));if(null!==lh)for(q=lh.return;null!==q;){var M=q;Me(M);switch(M.tag){case 1:M=
M.type.childContextTypes;null!==M&&void 0!==M&&qc();break;case 3:of();pd(Jg);pd(wh);Of();break;case 5:we(M);break;case 4:of();break;case 13:pd(Yg);break;case 19:pd(Yg);break;case 10:Q(M.type._context);break;case 22:case 23:se()}q=q.return}Ah=b;lh=b=Sh(b.current,null);Tg=di=e;yf=0;uh=null;ri=zk=Rh=0;Zh=ck=null;if(null!==gj){for(e=0;e<gj.length;e++)if(q=gj[e],M=q.interleaved,null!==M){q.interleaved=null;var qa=M.next,Ba=q.pending;if(null!==Ba){var ub=Ba.next;Ba.next=qa;M.next=ub}q.pending=M}gj=null}return b}
function te(b,e){do{var q=lh;try{Vj=Mi=aj=null;Wj.current=sk;if(Yj){for(var M=wg.memoizedState;null!==M;){var qa=M.queue;null!==qa&&(qa.pending=null);M=M.next}Yj=!1}xi=0;zh=oh=wg=null;Xj=!1;Dj=0;dk.current=null;if(null===q||null===q.return){yf=1;uh=e;lh=null;break}a:{var Ba=b,ub=q.return,wc=q,Oc=e;e=Tg;wc.flags|=32768;if(null!==Oc&&"object"===typeof Oc&&"function"===typeof Oc.then){var zd=Oc,ge=wc,je=ge.tag;if(0===(ge.mode&1)&&(0===je||11===je||15===je)){var de=ge.alternate;de?(ge.updateQueue=de.updateQueue,
ge.memoizedState=de.memoizedState,ge.lanes=de.lanes):(ge.updateQueue=null,ge.memoizedState=null)}var He=Eg(ub);if(null!==He){He.flags&=-257;sg(He,ub,wc,Ba,e);He.mode&1&&fg(Ba,zd,e);e=He;Oc=zd;var Ue=e.updateQueue;if(null===Ue){var Ze=new Set;Ze.add(Oc);e.updateQueue=Ze}else Ue.add(Oc);break a}else{if(0===(e&1)){fg(Ba,zd,e);xf();break a}Oc=Error(t(426))}}else if(Kg&&wc.mode&1){var bh=Eg(ub);if(null!==bh){0===(bh.flags&65536)&&(bh.flags|=256);sg(bh,ub,wc,Ba,e);$d(ye(Oc,wc));break a}}Ba=Oc=ye(Oc,wc);
4!==yf&&(yf=2);null===ck?ck=[Ba]:ck.push(Ba);Ba=ub;do{switch(Ba.tag){case 3:Ba.flags|=65536;e&=-e;Ba.lanes|=e;var md=Bf(Ba,Oc,e);yd(Ba,md);break a;case 1:wc=Oc;var Tc=Ba.type,rd=Ba.stateNode;if(0===(Ba.flags&128)&&("function"===typeof Tc.getDerivedStateFromError||null!==rd&&"function"===typeof rd.componentDidCatch&&(null===pi||!pi.has(rd)))){Ba.flags|=65536;e&=-e;Ba.lanes|=e;var me=tf(Ba,wc,e);yd(Ba,me);break a}}Ba=Ba.return}while(null!==Ba)}bf(q)}catch(Fe){e=Fe;lh===q&&null!==q&&(lh=q.return);continue}break}while(1)}
function Se(){var b=Bk.current;Bk.current=sk;return null===b?sk:b}function xf(){if(0===yf||3===yf||2===yf)yf=4;null===Ah||0===(Rh&268435455)&&0===(zk&268435455)||Ub(Ah,Tg)}function Tf(b,e){var q=$f;$f|=2;var M=Se();if(Ah!==b||Tg!==e)zi=null,Ce(b,e);do try{for(;null!==lh;)ff(lh);break}catch(qa){te(b,qa)}while(1);Vj=Mi=aj=null;$f=q;Bk.current=M;if(null!==lh)throw Error(t(261));Ah=null;Tg=0;return yf}function ff(b){var e=sl(b.alternate,b,di);b.memoizedProps=b.pendingProps;null===e?bf(b):lh=e;dk.current=
null}function bf(b){var e=b;do{var q=e.alternate;b=e.return;if(0===(e.flags&32768)){if(q=Nh(q,e,di),null!==q){lh=q;return}}else{q=Dh(q,e);if(null!==q){q.flags&=32767;lh=q;return}if(null!==b)b.flags|=32768,b.subtreeFlags=0,b.deletions=null;else{yf=6;lh=null;return}}e=e.sibling;if(null!==e){lh=e;return}lh=e=b}while(null!==e);0===yf&&(yf=5)}function cg(b,e,q){var M=ng,qa=li.transition;try{li.transition=null,ng=1,vh(b,e,q,M)}finally{li.transition=qa,ng=M}return null}function vh(b,e,q,M){do lg();while(null!==
Ri);if(0!==($f&6))throw Error(t(327));q=b.finishedWork;var qa=b.finishedLanes;if(null===q)return null;b.finishedWork=null;b.finishedLanes=0;if(q===b.current)throw Error(t(177));b.callbackNode=null;b.callbackPriority=0;var Ba=q.lanes|q.childLanes;$b(b,Ba);b===Ah&&(lh=Ah=null,Tg=0);0===(q.subtreeFlags&2064)&&0===(q.flags&2064)||bj||(bj=!0,hg(Mj,function(){lg();return null}));Ba=0!==(q.flags&15990);if(0!==(q.subtreeFlags&15990)||Ba){Ba=li.transition;li.transition=null;var ub=ng;ng=1;var wc=$f;$f|=4;
dk.current=null;Yh(b,q);w(q,b);Hc(Xk);Hi=!!Wk;Xk=Wk=null;b.current=q;ka(q,b,qa);tl();$f=wc;ng=ub;li.transition=Ba}else b.current=q;bj&&(bj=!1,Ri=b,cj=qa);Ba=b.pendingLanes;0===Ba&&(pi=null);Xa(q.stateNode,M);oa(b,hh());if(null!==e)for(M=b.onRecoverableError,q=0;q<e.length;q++)qa=e[q],M(qa.value,{componentStack:qa.stack,digest:qa.digest});if(Zj)throw Zj=!1,b=uk,uk=null,b;0!==(cj&1)&&0!==b.tag&&lg();Ba=b.pendingLanes;0!==(Ba&1)?b===bk?jj++:(jj=0,bk=b):jj=0;Ld();return null}function lg(){if(null!==Ri){var b=
Pd(cj),e=li.transition,q=ng;try{li.transition=null;ng=16>b?16:b;if(null===Ri)var M=!1;else{b=Ri;Ri=null;cj=0;if(0!==($f&6))throw Error(t(331));var qa=$f;$f|=4;for(Pe=b.current;null!==Pe;){var Ba=Pe,ub=Ba.child;if(0!==(Pe.flags&16)){var wc=Ba.deletions;if(null!==wc){for(var Oc=0;Oc<wc.length;Oc++){var zd=wc[Oc];for(Pe=zd;null!==Pe;){var ge=Pe;switch(ge.tag){case 0:case 11:case 15:eh(8,ge,Ba)}var je=ge.child;if(null!==je)je.return=ge,Pe=je;else for(;null!==Pe;){ge=Pe;var de=ge.sibling,He=ge.return;
Sg(ge);if(ge===zd){Pe=null;break}if(null!==de){de.return=He;Pe=de;break}Pe=He}}}var Ue=Ba.alternate;if(null!==Ue){var Ze=Ue.child;if(null!==Ze){Ue.child=null;do{var bh=Ze.sibling;Ze.sibling=null;Ze=bh}while(null!==Ze)}}Pe=Ba}}if(0!==(Ba.subtreeFlags&2064)&&null!==ub)ub.return=Ba,Pe=ub;else a:for(;null!==Pe;){Ba=Pe;if(0!==(Ba.flags&2048))switch(Ba.tag){case 0:case 11:case 15:eh(9,Ba,Ba.return)}var md=Ba.sibling;if(null!==md){md.return=Ba.return;Pe=md;break a}Pe=Ba.return}}var Tc=b.current;for(Pe=Tc;null!==
Pe;){ub=Pe;var rd=ub.child;if(0!==(ub.subtreeFlags&2064)&&null!==rd)rd.return=ub,Pe=rd;else a:for(ub=Tc;null!==Pe;){wc=Pe;if(0!==(wc.flags&2048))try{switch(wc.tag){case 0:case 11:case 15:Zg(9,wc)}}catch(Fe){mf(wc,wc.return,Fe)}if(wc===ub){Pe=null;break a}var me=wc.sibling;if(null!==me){me.return=wc.return;Pe=me;break a}Pe=wc.return}}$f=qa;Ld();if(si&&"function"===typeof si.onPostCommitFiberRoot)try{si.onPostCommitFiberRoot(ik,b)}catch(Fe){}M=!0}return M}finally{ng=q,li.transition=e}}return!1}function Mf(b,
e,q){e=ye(q,e);e=Bf(b,e,1);b=Xb(b,e,1);e=n();null!==b&&(dd(b,1,e),oa(b,e))}function mf(b,e,q){if(3===b.tag)Mf(b,b,q);else for(;null!==e;){if(3===e.tag){Mf(e,b,q);break}else if(1===e.tag){var M=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof M.componentDidCatch&&(null===pi||!pi.has(M))){b=ye(q,b);b=tf(e,b,1);e=Xb(e,b,1);b=n();null!==e&&(dd(e,1,b),oa(e,b));break}}e=e.return}}function Qf(b,e,q){var M=b.pingCache;null!==M&&M.delete(e);e=n();b.pingedLanes|=b.suspendedLanes&
q;Ah===b&&(Tg&q)===q&&(4===yf||3===yf&&(Tg&130023424)===Tg&&500>hh()-Zk?Ce(b,0):ri|=q);oa(b,e)}function If(b,e){0===e&&(0===(b.mode&1)?e=1:(e=ek,ek<<=1,0===(ek&130023424)&&(ek=4194304)));var q=n();b=ib(b,e);null!==b&&(dd(b,e,q),oa(b,q))}function Lf(b){var e=b.memoizedState,q=0;null!==e&&(q=e.retryLane);If(b,q)}function ah(b,e){var q=0;switch(b.tag){case 13:var M=b.stateNode,qa=b.memoizedState;null!==qa&&(q=qa.retryLane);break;case 19:M=b.stateNode;break;default:throw Error(t(314));}null!==M&&M.delete(e);
If(b,q)}function hg(b,e){return Tj(b,e)}function Fh(b,e,q,M){this.tag=b;this.key=q;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=e;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=M;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function og(b,e,q,M){return new Fh(b,e,q,M)}function jh(b){b=b.prototype;return!(!b||!b.isReactComponent)}
function yg(b){if("function"===typeof b)return jh(b)?1:0;if(void 0!==b&&null!==b){b=b.$$typeof;if(b===Ef)return 11;if(b===Gh)return 14}return 2}function Sh(b,e){var q=b.alternate;null===q?(q=og(b.tag,e,b.key,b.mode),q.elementType=b.elementType,q.type=b.type,q.stateNode=b.stateNode,q.alternate=b,b.alternate=q):(q.pendingProps=e,q.type=b.type,q.flags=0,q.subtreeFlags=0,q.deletions=null);q.flags=b.flags&14680064;q.childLanes=b.childLanes;q.lanes=b.lanes;q.child=b.child;q.memoizedProps=b.memoizedProps;
q.memoizedState=b.memoizedState;q.updateQueue=b.updateQueue;e=b.dependencies;q.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext};q.sibling=b.sibling;q.index=b.index;q.ref=b.ref;return q}function Pi(b,e,q,M,qa,Ba){var ub=2;M=b;if("function"===typeof b)jh(b)&&(ub=1);else if("string"===typeof b)ub=5;else a:switch(b){case sd:return ci(q.children,qa,Ba,e);case xd:ub=8;qa|=8;break;case ze:return b=og(12,q,e,qa|2),b.elementType=ze,b.lanes=Ba,b;case Zf:return b=og(13,q,e,qa),b.elementType=
Zf,b.lanes=Ba,b;case ig:return b=og(19,q,e,qa),b.elementType=ig,b.lanes=Ba,b;case uf:return ki(q,qa,Ba,e);default:if("object"===typeof b&&null!==b)switch(b.$$typeof){case oe:ub=10;break a;case Xe:ub=9;break a;case Ef:ub=11;break a;case Gh:ub=14;break a;case jg:ub=16;M=null;break a}throw Error(t(130,null==b?b:typeof b,""));}e=og(ub,q,e,qa);e.elementType=b;e.type=M;e.lanes=Ba;return e}function ci(b,e,q,M){b=og(7,b,M,e);b.lanes=q;return b}function ki(b,e,q,M){b=og(22,b,M,e);b.elementType=uf;b.lanes=
q;b.stateNode={isHidden:!1};return b}function Oi(b,e,q){b=og(6,b,null,e);b.lanes=q;return b}function Cg(b,e,q){e=og(4,null!==b.children?b.children:[],b.key,e);e.lanes=q;e.stateNode={containerInfo:b.containerInfo,pendingChildren:null,implementation:b.implementation};return e}function kj(b,e,q,M,qa){this.tag=e;this.containerInfo=b;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=
0;this.eventTimes=yc(0);this.expirationTimes=yc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=yc(0);this.identifierPrefix=M;this.onRecoverableError=qa;this.mutableSourceEagerHydrationData=null}function lj(b,e,q,M,qa,Ba,ub,wc,Oc){b=new kj(b,e,q,wc,Oc);1===e?(e=1,!0===Ba&&(e|=8)):e=0;Ba=og(3,null,null,e);b.current=Ba;Ba.stateNode=b;Ba.memoizedState={element:M,isDehydrated:q,cache:null,transitions:null,
pendingSuspenseBoundaries:null};gc(Ba);return b}function Ai(b,e,q){var M=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:nc,key:null==M?null:""+M,children:b,containerInfo:e,implementation:q}}function Si(b){if(!b)return Ji;b=b._reactInternals;a:{if(aa(b)!==b||1!==b.tag)throw Error(t(170));var e=b;do{switch(e.tag){case 3:e=e.stateNode.context;break a;case 1:if(eb(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break a}}e=e.return}while(null!==e);throw Error(t(171));
}if(1===b.tag){var q=b.type;if(eb(q))return Mc(b,q,e)}return e}function C(b,e,q,M,qa,Ba,ub,wc,Oc){b=lj(q,M,!0,b,qa,Ba,ub,wc,Oc);b.context=Si(null);q=b.current;M=n();qa=D(q);Ba=vc(M,qa);Ba.callback=void 0!==e&&null!==e?e:null;Xb(q,Ba,qa);b.current.lanes=qa;dd(b,qa,M);oa(b,M);return b}function X(b,e,q,M){var qa=e.current,Ba=n(),ub=D(qa);q=Si(q);null===e.context?e.context=q:e.pendingContext=q;e=vc(Ba,ub);e.payload={element:b};M=void 0===M?null:M;null!==M&&(e.callback=M);b=Xb(qa,e,ub);null!==b&&(da(b,
qa,ub,Ba),Dc(b,qa,ub));return ub}function ha(b){b=b.current;if(!b.child)return null;switch(b.child.tag){case 5:return b.child.stateNode;default:return b.child.stateNode}}function Oa(b,e){b=b.memoizedState;if(null!==b&&null!==b.dehydrated){var q=b.retryLane;b.retryLane=0!==q&&q<e?q:e}}function zb(b,e){Oa(b,e);(b=b.alternate)&&Oa(b,e)}function Db(){return null}function Pb(b){this._internalRoot=b}function lc(b){this._internalRoot=b}function Vc(b){return!(!b||1!==b.nodeType&&9!==b.nodeType&&11!==b.nodeType)}
function Kd(b){return!(!b||1!==b.nodeType&&9!==b.nodeType&&11!==b.nodeType&&(8!==b.nodeType||" react-mount-point-unstable "!==b.nodeValue))}function Sd(){}function ad(b,e,q,M,qa){if(qa){if("function"===typeof M){var Ba=M;M=function(){var zd=ha(ub);Ba.call(zd)}}var ub=C(e,M,b,0,null,!1,!1,"",Sd);b._reactRootContainer=ub;b[Ii]=ub.current;De(8===b.nodeType?b.parentNode:b);Rd();return ub}for(;qa=b.lastChild;)b.removeChild(qa);if("function"===typeof M){var wc=M;M=function(){var zd=ha(Oc);wc.call(zd)}}var Oc=
lj(b,0,!1,null,null,!1,!1,"",Sd);b._reactRootContainer=Oc;b[Ii]=Oc.current;De(8===b.nodeType?b.parentNode:b);Rd(function(){X(e,Oc,q,M)});return Oc}function ie(b,e,q,M,qa){var Ba=q._reactRootContainer;if(Ba){var ub=Ba;if("function"===typeof qa){var wc=qa;qa=function(){var Oc=ha(ub);wc.call(Oc)}}X(e,ub,b,qa)}else ub=ad(q,e,b,qa,M);return ha(ub)}var Ke=Eb(2),Ve=Eb(5),A=new Set,V={},ba=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),
Fa=Object.prototype.hasOwnProperty,tb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xb={},Mb={},Nb={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(b){Nb[b]=
new sc(b,0,!1,b,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(b){var e=b[0];Nb[e]=new sc(e,1,!1,b[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(b){Nb[b]=new sc(b,2,!1,b.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(b){Nb[b]=new sc(b,2,!1,b,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(b){Nb[b]=
new sc(b,3,!1,b.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(b){Nb[b]=new sc(b,3,!0,b,null,!1,!1)});["capture","download"].forEach(function(b){Nb[b]=new sc(b,4,!1,b,null,!1,!1)});["cols","rows","size","span"].forEach(function(b){Nb[b]=new sc(b,6,!1,b,null,!1,!1)});["rowSpan","start"].forEach(function(b){Nb[b]=new sc(b,5,!1,b.toLowerCase(),null,!1,!1)});var Lc=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(b){var e=
b.replace(Lc,zc);Nb[e]=new sc(e,1,!1,b,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(b){var e=b.replace(Lc,zc);Nb[e]=new sc(e,1,!1,b,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(b){var e=b.replace(Lc,zc);Nb[e]=new sc(e,1,!1,b,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(b){Nb[b]=new sc(b,1,!1,b.toLowerCase(),null,!1,!1)});Nb.xlinkHref=
new sc("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(b){Nb[b]=new sc(b,1,!1,b.toLowerCase(),null,!0,!0)});var Dd=Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gd=Symbol.for("react.element"),nc=Symbol.for("react.portal"),sd=Symbol.for("react.fragment"),xd=Symbol.for("react.strict_mode"),ze=Symbol.for("react.profiler"),oe=Symbol.for("react.provider"),Xe=Symbol.for("react.context"),Ef=Symbol.for("react.forward_ref"),
Zf=Symbol.for("react.suspense"),ig=Symbol.for("react.suspense_list"),Gh=Symbol.for("react.memo"),jg=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var uf=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var Pg=Symbol.iterator,vg=Object.assign,Je,le=!1,Oe=Array.isArray,re,gg=function(b){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,q,M,qa){MSApp.execUnsafeLocalFunction(function(){return b(e,
q,M,qa)})}:b}(function(b,e){if("http://www.w3.org/2000/svg"!==b.namespaceURI||"innerHTML"in b)b.innerHTML=e;else{re=re||document.createElement("div");re.innerHTML="\x3csvg\x3e"+e.valueOf().toString()+"\x3c/svg\x3e";for(e=re.firstChild;b.firstChild;)b.removeChild(b.firstChild);for(;e.firstChild;)b.appendChild(e.firstChild)}}),Ig={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,
flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zg=["Webkit","ms","Moz","O"];Object.keys(Ig).forEach(function(b){zg.forEach(function(e){e=
e+b.charAt(0).toUpperCase()+b.substring(1);Ig[e]=Ig[b]})});var mg=vg({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Oh=null,fi=null,ej=null,qj=null,Gj=!1,ti=!1;if(ba)try{var mj={};Object.defineProperty(mj,"passive",{get:function(){ti=!0}});window.addEventListener("test",mj,mj);window.removeEventListener("test",mj,mj)}catch(b){ti=!1}var Hj=!1,Ij=null,rj=!1,Gk=null,Fk={onError:function(b){Hj=!0;Ij=b}},Tj=Ve.unstable_scheduleCallback,
$k=Ve.unstable_cancelCallback,rl=Ve.unstable_shouldYield,tl=Ve.unstable_requestPaint,hh=Ve.unstable_now,Jl=Ve.unstable_getCurrentPriorityLevel,Jk=Ve.unstable_ImmediatePriority,Kk=Ve.unstable_UserBlockingPriority,Mj=Ve.unstable_NormalPriority,Kl=Ve.unstable_LowPriority,Lk=Ve.unstable_IdlePriority,ik=null,si=null,gi=Math.clz32?Math.clz32:ab,Hl=Math.log,gl=Math.LN2,Jj=64,ek=4194304,ng=0,Ik=!1,jk=[],Ti=null,Ui=null,Vi=null,Kj=new Map,sj=new Map,qg=[],ni="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),
Wi=Dd.ReactCurrentBatchConfig,Hi=!0,Lj=null,Xi=null,Mk=null,Nj=null,nj={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(b){return b.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pj=$a(nj),dj=vg({},nj,{view:0,detail:0}),Ql=$a(dj),fk,Ck,gk,oj=vg({},dj,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gb,button:0,buttons:0,relatedTarget:function(b){return void 0===b.relatedTarget?b.fromElement===b.srcElement?b.toElement:
b.fromElement:b.relatedTarget},movementX:function(b){if("movementX"in b)return b.movementX;b!==gk&&(gk&&"mousemove"===b.type?(fk=b.screenX-gk.screenX,Ck=b.screenY-gk.screenY):Ck=fk=0,gk=b);return fk},movementY:function(b){return"movementY"in b?b.movementY:Ck}}),il=$a(oj),dm=vg({},oj,{dataTransfer:0}),Nl=$a(dm),em=vg({},dj,{relatedTarget:0}),Sk=$a(em),fm=vg({},nj,{animationName:0,elapsedTime:0,pseudoElement:0}),Pl=$a(fm),gm=vg({},nj,{clipboardData:function(b){return"clipboardData"in b?b.clipboardData:
window.clipboardData}}),Rl=$a(gm),hm=vg({},nj,{data:0}),ok=$a(hm),im={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",
45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ll={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},km=vg({},dj,{key:function(b){if(b.key){var e=im[b.key]||b.key;if("Unidentified"!==e)return e}return"keypress"===b.type?(b=H(b),13===b?"Enter":String.fromCharCode(b)):"keydown"===b.type||"keyup"===b.type?jm[b.keyCode]||"Unidentified":""},code:0,location:0,
ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gb,charCode:function(b){return"keypress"===b.type?H(b):0},keyCode:function(b){return"keydown"===b.type||"keyup"===b.type?b.keyCode:0},which:function(b){return"keypress"===b.type?H(b):"keydown"===b.type||"keyup"===b.type?b.keyCode:0}}),Rk=$a(km),cl=vg({},oj,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kl=$a(cl),ul=vg({},dj,{touches:0,targetTouches:0,changedTouches:0,
altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gb}),Ol=$a(ul),lm=vg({},nj,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tk=$a(lm),Bi=vg({},oj,{deltaX:function(b){return"deltaX"in b?b.deltaX:"wheelDeltaX"in b?-b.wheelDeltaX:0},deltaY:function(b){return"deltaY"in b?b.deltaY:"wheelDeltaY"in b?-b.wheelDeltaY:"wheelDelta"in b?-b.wheelDelta:0},deltaZ:0,deltaMode:0}),zf=$a(Bi),Ag=[9,13,27,32],ce=ba&&"CompositionEvent"in window,ih=null;ba&&"documentMode"in document&&(ih=document.documentMode);
var Zi=ba&&"TextEvent"in window&&!ih,Nk=ba&&(!ce||ih&&8<ih&&11>=ih),kk=String.fromCharCode(32),Oj=!1,tj=!1,Ok={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},uj=null,Jh=null,Sj=!1;if(ba){if(ba){var dl="oninput"in document;if(!dl){var hk=document.createElement("div");hk.setAttribute("oninput","return;");dl="function"===typeof hk.oninput}var vl=dl}else vl=!1;Sj=vl&&(!document.documentMode||9<document.documentMode)}var Vh=
"function"===typeof Object.is?Object.is:na,Sl=ba&&"documentMode"in document&&11>=document.documentMode,vj=null,Pk=null,nh=null,Qj=!1,wj={animationend:Nc("Animation","AnimationEnd"),animationiteration:Nc("Animation","AnimationIteration"),animationstart:Nc("Animation","AnimationStart"),transitionend:Nc("Transition","TransitionEnd")},Rj={},oi={};ba&&(oi=document.createElement("div").style,"AnimationEvent"in window||(delete wj.animationend.animation,delete wj.animationiteration.animation,delete wj.animationstart.animation),
"TransitionEvent"in window||delete wj.transitionend.transition);for(var nk=vd("animationend"),jl=vd("animationiteration"),Yi=vd("animationstart"),ui=vd("transitionend"),Qk=new Map,wl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" "),
mi=0;mi<wl.length;mi++){var Ej=wl[mi],xl=Ej.toLowerCase(),yl=Ej[0].toUpperCase()+Ej.slice(1);Gd(xl,"on"+yl)}Gd(nk,"onAnimationEnd");Gd(jl,"onAnimationIteration");Gd(Yi,"onAnimationStart");Gd("dblclick","onDoubleClick");Gd("focusin","onFocus");Gd("focusout","onBlur");Gd(ui,"onTransitionEnd");R("onMouseEnter",["mouseout","mouseover"]);R("onMouseLeave",["mouseout","mouseover"]);R("onPointerEnter",["pointerout","pointerover"]);R("onPointerLeave",["pointerout","pointerover"]);l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));
l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));l("onBeforeInput",["compositionend","keypress","textInput","paste"]);l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ak="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),
Ml=new Set("cancel close invalid load scroll toggle".split(" ").concat(ak)),mk="_reactListening"+Math.random().toString(36).slice(2),Tl=/\r\n?/g,Ul=/\u0000|\uFFFD/g,Wk=null,Xk=null,al="function"===typeof setTimeout?setTimeout:void 0,bl="function"===typeof clearTimeout?clearTimeout:void 0,el="function"===typeof Promise?Promise:void 0,Ak="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof el?function(b){return el.resolve(null).then(b).catch(Ec)}:al,pj=Math.random().toString(36).slice(2),
vi="__reactFiber$"+pj,xj="__reactProps$"+pj,Ii="__reactContainer$"+pj,lk="__reactEvents$"+pj,Yk="__reactListeners$"+pj,$l="__reactHandles$"+pj,Kh=[],$i=-1,Ji={},wh=$c(Ji),Jg=$c(!1),$h=Ji,Ki=null,pk=!1,Li=!1,yj=[],zj=0,xh=null,Uj=0,Ph=[],Qh=0,fj=null,hi=1,ii="",ai=null,Lh=null,Kg=!1,bi=null,bm=Dd.ReactCurrentBatchConfig,Aj=$c(null),aj=null,Mi=null,Vj=null,gj=null,Ni=!1,Uk=(new Ke.Component).refs,qk={isMounted:function(b){return(b=b._reactInternals)?aa(b)===b:!1},enqueueSetState:function(b,e,q){b=b._reactInternals;
var M=n(),qa=D(b),Ba=vc(M,qa);Ba.payload=e;void 0!==q&&null!==q&&(Ba.callback=q);e=Xb(b,Ba,qa);null!==e&&(da(e,b,qa,M),Dc(e,b,qa))},enqueueReplaceState:function(b,e,q){b=b._reactInternals;var M=n(),qa=D(b),Ba=vc(M,qa);Ba.tag=1;Ba.payload=e;void 0!==q&&null!==q&&(Ba.callback=q);e=Xb(b,Ba,qa);null!==e&&(da(e,b,qa,M),Dc(e,b,qa))},enqueueForceUpdate:function(b,e){b=b._reactInternals;var q=n(),M=D(b),qa=vc(q,M);qa.tag=2;void 0!==e&&null!==e&&(qa.callback=e);e=Xb(b,qa,M);null!==e&&(da(e,b,M,q),Dc(e,b,M))}},
hj=he(!0),Vk=he(!1),Qi={},Th=$c(Qi),Cj=$c(Qi),Bj=$c(Qi),Yg=$c(0),rk=[],Wj=Dd.ReactCurrentDispatcher,tk=Dd.ReactCurrentBatchConfig,xi=0,wg=null,oh=null,zh=null,Yj=!1,Xj=!1,Dj=0,zl=0,sk={readContext:la,useCallback:af,useContext:af,useEffect:af,useImperativeHandle:af,useInsertionEffect:af,useLayoutEffect:af,useMemo:af,useReducer:af,useRef:af,useState:af,useDebugValue:af,useDeferredValue:af,useTransition:af,useMutableSource:af,useSyncExternalStore:af,useId:af,unstable_isNewReconciler:!1},Vl={readContext:la,
useCallback:function(b,e){jf().memoizedState=[b,void 0===e?null:e];return b},useContext:la,useEffect:Rb,useImperativeHandle:function(b,e,q){q=null!==q&&void 0!==q?q.concat([b]):null;return sa(4194308,4,Re.bind(null,e,b),q)},useLayoutEffect:function(b,e){return sa(4194308,4,b,e)},useInsertionEffect:function(b,e){return sa(4,2,b,e)},useMemo:function(b,e){var q=jf();e=void 0===e?null:e;b=b();q.memoizedState=[b,e];return b},useReducer:function(b,e,q){var M=jf();e=void 0!==q?q(e):e;M.memoizedState=M.baseState=
e;b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:b,lastRenderedState:e};M.queue=b;b=b.dispatch=pg.bind(null,wg,b);return[M.memoizedState,b]},useRef:function(b){var e=jf();b={current:b};return e.memoizedState=b},useState:Vg,useDebugValue:Ff,useDeferredValue:function(b){return jf().memoizedState=b},useTransition:function(){var b=Vg(!1),e=b[0];b=Wf.bind(null,b[1]);jf().memoizedState=b;return[e,b]},useMutableSource:function(){},useSyncExternalStore:function(b,e,q){var M=wg,
qa=jf();if(Kg){if(void 0===q)throw Error(t(407));q=q()}else{q=e();if(null===Ah)throw Error(t(349));0!==(xi&30)||rg(M,e,q)}qa.memoizedState=q;var Ba={value:q,getSnapshot:e};qa.queue=Ba;Rb(Hf.bind(null,M,Ba,b),[b]);M.flags|=2048;Dg(9,Af.bind(null,M,Ba,q,e),void 0,null);return q},useId:function(){var b=jf(),e=Ah.identifierPrefix;if(Kg){var q=ii,M=hi;q=(M&~(1<<32-gi(M)-1)).toString(32)+q;e=":"+e+"R"+q;q=Dj++;0<q&&(e+="H"+q.toString(32));e+=":"}else q=zl++,e=":"+e+"r"+q.toString(32)+":";return b.memoizedState=
e},unstable_isNewReconciler:!1},ml={readContext:la,useCallback:Ne,useContext:la,useEffect:id,useImperativeHandle:pf,useInsertionEffect:od,useLayoutEffect:ne,useMemo:eg,useReducer:Pf,useRef:Wg,useState:function(){return Pf(Cf)},useDebugValue:Ff,useDeferredValue:function(b){var e=Qe();return Sf(e,oh.memoizedState,b)},useTransition:function(){var b=Pf(Cf)[0],e=Qe().memoizedState;return[b,e]},useMutableSource:Gf,useSyncExternalStore:Bg,useId:kg,unstable_isNewReconciler:!1},nl={readContext:la,useCallback:Ne,
useContext:la,useEffect:id,useImperativeHandle:pf,useInsertionEffect:od,useLayoutEffect:ne,useMemo:eg,useReducer:Jf,useRef:Wg,useState:function(){return Jf(Cf)},useDebugValue:Ff,useDeferredValue:function(b){var e=Qe();return null===oh?e.memoizedState=b:Sf(e,oh.memoizedState,b)},useTransition:function(){var b=Jf(Cf)[0],e=Qe().memoizedState;return[b,e]},useMutableSource:Gf,useSyncExternalStore:Bg,useId:kg,unstable_isNewReconciler:!1},Wl="function"===typeof WeakMap?WeakMap:Map,Xl=Dd.ReactCurrentOwner,
ch=!1,vk={dehydrated:null,treeContext:null,retryLane:0};var pl=function(b,e){for(var q=e.child;null!==q;){if(5===q.tag||6===q.tag)b.appendChild(q.stateNode);else if(4!==q.tag&&null!==q.child){q.child.return=q;q=q.child;continue}if(q===e)break;for(;null===q.sibling;){if(null===q.return||q.return===e)return;q=q.return}q.sibling.return=q.return;q=q.sibling}};var ol=function(){};var Yl=function(b,e,q,M){var qa=b.memoizedProps;if(qa!==M){b=e.stateNode;xe(Th.current);var Ba=null;switch(q){case "input":qa=
Da(b,qa);M=Da(b,M);Ba=[];break;case "select":qa=vg({},qa,{value:void 0});M=vg({},M,{value:void 0});Ba=[];break;case "textarea":qa=Ob(b,qa);M=Ob(b,M);Ba=[];break;default:"function"!==typeof qa.onClick&&"function"===typeof M.onClick&&(b.onclick=yb)}pa(q,M);var ub;q=null;for(zd in qa)if(!M.hasOwnProperty(zd)&&qa.hasOwnProperty(zd)&&null!=qa[zd])if("style"===zd){var wc=qa[zd];for(ub in wc)wc.hasOwnProperty(ub)&&(q||(q={}),q[ub]="")}else"dangerouslySetInnerHTML"!==zd&&"children"!==zd&&"suppressContentEditableWarning"!==
zd&&"suppressHydrationWarning"!==zd&&"autoFocus"!==zd&&(V.hasOwnProperty(zd)?Ba||(Ba=[]):(Ba=Ba||[]).push(zd,null));for(zd in M){var Oc=M[zd];wc=null!=qa?qa[zd]:void 0;if(M.hasOwnProperty(zd)&&Oc!==wc&&(null!=Oc||null!=wc))if("style"===zd)if(wc){for(ub in wc)!wc.hasOwnProperty(ub)||Oc&&Oc.hasOwnProperty(ub)||(q||(q={}),q[ub]="");for(ub in Oc)Oc.hasOwnProperty(ub)&&wc[ub]!==Oc[ub]&&(q||(q={}),q[ub]=Oc[ub])}else q||(Ba||(Ba=[]),Ba.push(zd,q)),q=Oc;else"dangerouslySetInnerHTML"===zd?(Oc=Oc?Oc.__html:
void 0,wc=wc?wc.__html:void 0,null!=Oc&&wc!==Oc&&(Ba=Ba||[]).push(zd,Oc)):"children"===zd?"string"!==typeof Oc&&"number"!==typeof Oc||(Ba=Ba||[]).push(zd,""+Oc):"suppressContentEditableWarning"!==zd&&"suppressHydrationWarning"!==zd&&(V.hasOwnProperty(zd)?(null!=Oc&&"onScroll"===zd&&Od("scroll",b),Ba||wc===Oc||(Ba=[])):(Ba=Ba||[]).push(zd,Oc))}q&&(Ba=Ba||[]).push("style",q);var zd;if(e.updateQueue=Ba)e.flags|=4}};var Zl=function(b,e,q,M){q!==M&&(e.flags|=4)};var wk=!1,Eh=!1,am="function"===typeof WeakSet?
WeakSet:Set,Pe=null,ql=!1,Ih=null,qi=!1,cm=Math.ceil,Bk=Dd.ReactCurrentDispatcher,dk=Dd.ReactCurrentOwner,li=Dd.ReactCurrentBatchConfig,$f=0,Ah=null,lh=null,Tg=0,di=0,tg=$c(0),yf=0,uh=null,Rh=0,zk=0,ri=0,ck=null,Zh=null,Zk=0,ij=Infinity,zi=null,Zj=!1,uk=null,pi=null,bj=!1,Ri=null,cj=0,jj=0,bk=null,xk=-1,yk=0;var sl=function(b,e,q){if(null!==b)if(b.memoizedProps!==e.pendingProps||Jg.current)ch=!0;else{if(0===(b.lanes&q)&&0===(e.flags&128))return ch=!1,kh(b,e,q);ch=0!==(b.flags&131072)?!0:!1}else ch=
!1,Kg&&0!==(e.flags&1048576)&&be(e,Uj,e.index);e.lanes=0;switch(e.tag){case 2:var M=e.type;Rg(b,e);b=e.pendingProps;var qa=Ra(e,wh.current);J(e,q);qa=Vd(null,e,M,b,qa,q);var Ba=hf();e.flags|=1;"object"===typeof qa&&null!==qa&&"function"===typeof qa.render&&void 0===qa.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,eb(M)?(Ba=!0,Uc(e)):Ba=!1,e.memoizedState=null!==qa.state&&void 0!==qa.state?qa.state:null,gc(e),qa.updater=qk,e.stateNode=qa,qa._reactInternals=e,Ge(e,M,b,q),e=Xg(null,e,M,!0,
Ba,q)):(e.tag=0,Kg&&Ba&&ve(e),Df(null,e,qa,q),e=e.child);return e;case 16:M=e.elementType;a:{Rg(b,e);b=e.pendingProps;qa=M._init;M=qa(M._payload);e.type=M;qa=e.tag=yg(M);b=ke(M,b);switch(qa){case 0:e=rh(null,e,M,b,q);break a;case 1:e=Hh(null,e,M,b,q);break a;case 11:e=Qg(null,e,M,b,q);break a;case 14:e=Mg(null,e,M,ke(M.type,b),q);break a}throw Error(t(306,M,""));}return e;case 0:return M=e.type,qa=e.pendingProps,qa=e.elementType===M?qa:ke(M,qa),rh(b,e,M,qa,q);case 1:return M=e.type,qa=e.pendingProps,
qa=e.elementType===M?qa:ke(M,qa),Hh(b,e,M,qa,q);case 3:a:{sh(e);if(null===b)throw Error(t(387));M=e.pendingProps;Ba=e.memoizedState;qa=Ba.element;tc(b,e);Yc(e,M,null,q);var ub=e.memoizedState;M=ub.element;if(Ba.isDehydrated)if(Ba={element:M,isDehydrated:!1,cache:ub.cache,pendingSuspenseBoundaries:ub.pendingSuspenseBoundaries,transitions:ub.transitions},e.updateQueue.baseState=Ba,e.memoizedState=Ba,e.flags&256){qa=ye(Error(t(423)),e);Zd();$d(qa);e.flags|=256;Df(b,e,M,q);e=e.child;break a}else if(M!==
qa){qa=ye(Error(t(424)),e);Zd();$d(qa);e.flags|=256;Df(b,e,M,q);e=e.child;break a}else for(Lh=L(e.stateNode.containerInfo.firstChild),ai=e,Kg=!0,bi=null,q=Vk(e,null,M,q),e.child=q;q;)q.flags=q.flags&-3|4096,q=q.sibling;else{Zd();if(M===qa){e=gh(b,e,q);break a}Df(b,e,M,q)}e=e.child}return e;case 5:return We(e),null===b&&Fc(e),M=e.type,qa=e.pendingProps,Ba=null!==b?b.memoizedProps:null,ub=qa.children,hc(M,qa)?ub=null:null!==Ba&&hc(M,Ba)&&(e.flags|=32),Wh(b,e),Df(b,e,ub,q),e.child;case 6:return null===
b&&Fc(e),null;case 13:return ji(b,e,q);case 4:return Le(e,e.stateNode.containerInfo),M=e.pendingProps,null===b?e.child=hj(e,null,M,q):Df(b,e,M,q),e.child;case 11:return M=e.type,qa=e.pendingProps,qa=e.elementType===M?qa:ke(M,qa),Qg(b,e,M,qa,q);case 7:return Df(b,e,e.pendingProps,q),e.child;case 8:return Df(b,e,e.pendingProps.children,q),e.child;case 12:return Df(b,e,e.pendingProps.children,q),e.child;case 10:a:{M=e.type._context;qa=e.pendingProps;Ba=e.memoizedProps;ub=qa.value;ee(Aj,M._currentValue);
M._currentValue=ub;if(null!==Ba)if(Vh(Ba.value,ub)){if(Ba.children===qa.children&&!Jg.current){e=gh(b,e,q);break a}}else for(Ba=e.child,null!==Ba&&(Ba.return=e);null!==Ba;){var wc=Ba.dependencies;if(null!==wc){ub=Ba.child;for(var Oc=wc.firstContext;null!==Oc;){if(Oc.context===M){if(1===Ba.tag){Oc=vc(-1,q&-q);Oc.tag=2;var zd=Ba.updateQueue;if(null!==zd){zd=zd.shared;var ge=zd.pending;null===ge?Oc.next=Oc:(Oc.next=ge.next,ge.next=Oc);zd.pending=Oc}}Ba.lanes|=q;Oc=Ba.alternate;null!==Oc&&(Oc.lanes|=
q);ea(Ba.return,q,e);wc.lanes|=q;break}Oc=Oc.next}}else if(10===Ba.tag)ub=Ba.type===e.type?null:Ba.child;else if(18===Ba.tag){ub=Ba.return;if(null===ub)throw Error(t(341));ub.lanes|=q;wc=ub.alternate;null!==wc&&(wc.lanes|=q);ea(ub,q,e);ub=Ba.sibling}else ub=Ba.child;if(null!==ub)ub.return=Ba;else for(ub=Ba;null!==ub;){if(ub===e){ub=null;break}Ba=ub.sibling;if(null!==Ba){Ba.return=ub.return;ub=Ba;break}ub=ub.return}Ba=ub}Df(b,e,qa.children,q);e=e.child}return e;case 9:return qa=e.type,M=e.pendingProps.children,
J(e,q),qa=la(qa),M=M(qa),e.flags|=1,Df(b,e,M,q),e.child;case 14:return M=e.type,qa=ke(M,e.pendingProps),qa=ke(M.type,qa),Mg(b,e,M,qa,q);case 15:return qh(b,e,e.type,e.pendingProps,q);case 17:return M=e.type,qa=e.pendingProps,qa=e.elementType===M?qa:ke(M,qa),Rg(b,e),e.tag=1,eb(M)?(b=!0,Uc(e)):b=!1,J(e,q),Pc(e,M,qa),Ge(e,M,qa,q),Xg(null,e,M,!0,b,q);case 19:return Xh(b,e,q);case 22:return xg(b,e,q)}throw Error(t(156,e.tag));};var Al="function"===typeof reportError?reportError:function(b){console.error(b)};
lc.prototype.render=Pb.prototype.render=function(b){var e=this._internalRoot;if(null===e)throw Error(t(409));X(b,e,null,null)};lc.prototype.unmount=Pb.prototype.unmount=function(){var b=this._internalRoot;if(null!==b){this._internalRoot=null;var e=b.containerInfo;Rd(function(){X(null,b,null,null)});e[Ii]=null}};lc.prototype.unstable_scheduleHydration=function(b){if(b){var e=Bl();b={blockedOn:null,target:b,priority:e};for(var q=0;q<qg.length&&0!==e&&e<qg[q].priority;q++);qg.splice(q,0,b);0===q&&Tb(b)}};
var hl=function(b){switch(b.tag){case 3:var e=b.stateNode;if(e.current.memoizedState.isDehydrated){var q=Z(e.pendingLanes);0!==q&&(Rc(e,q|1),oa(e,hh()),0===($f&6)&&(ij=hh()+500,Ld()))}break;case 13:Rd(function(){var M=ib(b,1);if(null!==M){var qa=n();da(M,b,1,qa)}}),zb(b,1)}};var Hk=function(b){if(13===b.tag){var e=ib(b,134217728);if(null!==e){var q=n();da(e,b,134217728,q)}zb(b,134217728)}};var Il=function(b){if(13===b.tag){var e=D(b),q=ib(b,e);if(null!==q){var M=n();da(q,b,e,M)}zb(b,e)}};var Bl=function(){return ng};
var Gi=function(b,e){var q=ng;try{return ng=b,e()}finally{ng=q}};fi=function(b,e,q){switch(e){case "input":mb(b,q);e=q.name;if("radio"===q.type&&null!=e){for(q=b;q.parentNode;)q=q.parentNode;q=q.querySelectorAll("input[name\x3d"+JSON.stringify(""+e)+'][type\x3d"radio"]');for(e=0;e<q.length;e++){var M=q[e];if(M!==b&&M.form===b.form){var qa=Bc(M);if(!qa)throw Error(t(90));pb(M);mb(M,qa)}}}break;case "textarea":ob(b,q);break;case "select":e=q.value,null!=e&&qb(b,!!q.multiple,e,!1)}};m=Xc;E=Rd;var Ci=
{usingClientEntryPoint:!1,Events:[cc,Jc,Bc,g,z,Xc]},Di={findFiberByHostInstance:Sa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Uh={bundleType:Di.bundleType,version:Di.version,rendererPackageName:Di.rendererPackageName,rendererConfig:Di.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,
currentDispatcherRef:Dd.ReactCurrentDispatcher,findHostInstanceByFiber:function(b){b=va(b);return null===b?null:b.stateNode},findFiberByHostInstance:Di.findFiberByHostInstance||Db,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ei=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ei.isDisabled&&Ei.supportsFiber)try{ik=Ei.inject(Uh),si=
Ei}catch(b){}}nb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ci;nb.createPortal=function(b,e){var q=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Vc(e))throw Error(t(200));return Ai(b,e,null,q)};nb.createRoot=function(b,e){if(!Vc(b))throw Error(t(299));var q=!1,M="",qa=Al;null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(q=!0),void 0!==e.identifierPrefix&&(M=e.identifierPrefix),void 0!==e.onRecoverableError&&(qa=e.onRecoverableError));e=lj(b,1,!1,null,null,q,!1,M,qa);b[Ii]=
e.current;De(8===b.nodeType?b.parentNode:b);return new Pb(e)};nb.findDOMNode=function(b){if(null==b)return null;if(1===b.nodeType)return b;var e=b._reactInternals;if(void 0===e){if("function"===typeof b.render)throw Error(t(188));b=Object.keys(b).join(",");throw Error(t(268,b));}b=va(e);return b=null===b?null:b.stateNode};nb.flushSync=function(b){return Rd(b)};nb.hydrate=function(b,e,q){if(!Kd(e))throw Error(t(200));return ie(null,b,e,!0,q)};nb.hydrateRoot=function(b,e,q){if(!Vc(b))throw Error(t(405));
var M=null!=q&&q.hydratedSources||null,qa=!1,Ba="",ub=Al;null!==q&&void 0!==q&&(!0===q.unstable_strictMode&&(qa=!0),void 0!==q.identifierPrefix&&(Ba=q.identifierPrefix),void 0!==q.onRecoverableError&&(ub=q.onRecoverableError));e=C(e,null,b,1,null!=q?q:null,qa,!1,Ba,ub);b[Ii]=e.current;De(b);if(M)for(b=0;b<M.length;b++)q=M[b],qa=q._getVersion,qa=qa(q._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[q,qa]:e.mutableSourceEagerHydrationData.push(q,qa);return new lc(e)};
nb.render=function(b,e,q){if(!Kd(e))throw Error(t(200));return ie(null,b,e,!1,q)};nb.unmountComponentAtNode=function(b){if(!Kd(b))throw Error(t(40));return b._reactRootContainer?(Rd(function(){ie(null,null,b,!1,function(){b._reactRootContainer=null;b[Ii]=null})}),!0):!1};nb.unstable_batchedUpdates=Xc;nb.unstable_renderSubtreeIntoContainer=function(b,e,q,M){if(!Kd(q))throw Error(t(200));if(null==b||void 0===b._reactInternals)throw Error(t(38));return ie(b,e,q,!1,M)};nb.version="18.2.0-next-9e3b772b8-20220608"};
shadow$provide[8]=function(fc,Eb,Wc,nb){function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(l){console.error(l)}}t();Wc.exports=Eb(6)};
shadow$provide[13]=function(fc,Eb,Wc,nb){Wc.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"};
shadow$provide[17]=function(fc,Eb,Wc,nb){function t(){}function l(){}var R=Eb(13);l.resetWarningCache=t;Wc.exports=function(){function hb(sc,zc,pc,Ab,jc,Sb){if(Sb!==R)throw sc=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"),sc.name="Invariant Violation",sc;}function Cb(){return hb}hb.isRequired=hb;var Yb={array:hb,bigint:hb,bool:hb,func:hb,number:hb,object:hb,string:hb,
symbol:hb,any:hb,arrayOf:Cb,element:hb,elementType:hb,instanceOf:Cb,node:hb,objectOf:Cb,oneOf:Cb,oneOfType:Cb,shape:Cb,exact:Cb,checkPropTypes:l,resetWarningCache:t};return Yb.PropTypes=Yb}};
shadow$provide[18]=function(fc,Eb,Wc,nb){Wc.exports=Eb(17)()};
shadow$provide[19]=function(fc,Eb,Wc,nb){nb.__esModule=!0;nb.default=function(l,R){void 0===l&&(l=t);void 0===R&&(R=t);const hb=Object.keys(l),Cb=Object.keys(R);return l===R||hb.length===Cb.length&&hb.every(Yb=>l[Yb]===R[Yb])};const t={}};
shadow$provide[20]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb):"function"===typeof define&&define.amd?define(["exports"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l(t.vega={}))})(this,function(t){function l(h,p,r){h.fields=p||[];h.fname=r;return h}function R(h){return null==h?null:h.fields}function hb(h){return 1===h.length?mb(h[0]):Ma(h)}function Cb(h){throw Error(h);}function Yb(h){function p(){r.push(O+h.substring(u,I));O="";u=I+1}const r=
[],v=h.length;let F=null,aa=0,O="",u,I,va;h+="";for(u=I=0;I<v;++I)(va=h[I],"\\"===va)?(O+=h.substring(u,I++),u=I):va===F?(p(),F=null,aa=-1):F||(u===aa&&'"'===va?(u=I+1,F=va):u===aa&&"'"===va?(u=I+1,F=va):"."!==va||aa?"["===va?(I>u&&p(),aa=u=I+1):"]"===va&&(aa||Cb("Access path missing open bracket: "+h),0<aa&&p(),aa=0,u=I+1):I>u?p():u=I+1);aa&&Cb("Access path missing closing bracket: "+h);F&&Cb("Access path missing closing quote: "+h);I>u&&(I++,p());return r}function sc(h,p,r){const v=Yb(h);h=1===
v.length?v[0]:h;return l((r&&r.get||hb)(v),[h],p||h)}function zc(h,p,r){p=[p].concat([].slice.call(r));console[h].apply(console,p)}function pc(h){return h===Object(h)}function Ab(h,p,r,v){if("__proto__"!==p){var F;if(pc(r)&&!Y(r))for(F in h=pc(h[p])?h[p]:h[p]={},r)v&&(!0===v||v[F])?Ab(h,F,r[F]):"__proto__"!==F&&(h[F]=r[F]);else h[p]=r}}function jc(h,p){function r(aa){v[aa.name]||(v[aa.name]=1,F.push(aa))}if(null==h)return p;const v={},F=[];p.forEach(r);h.forEach(r);return F}function Sb(h){return h[h.length-
1]}function Ua(h){return null==h||""===h?null:+h}function rb(h,p,r,v){const F=r(h[0]);h=r(Sb(h));p*=h-F;return[v(F-p),v(h-p)]}function Fb(h,p,r,v,F){const aa=v(h[0]);h=v(Sb(h));p=null!=p?v(p):(aa+h)/2;return[F(p+(aa-p)*r),F(p+(h-p)*r)]}function Hb(h){return null!=h?Y(h)?h:[h]:[]}function Bb(h){return"function"===typeof h}function Lb(h){for(let p,r,v=1,F=arguments.length;v<F;++v)for(r in p=arguments[v],p)h[r]=p[r];return h}function Wa(h,p){return z.call(h,p)}function pb(h){return"[object Date]"===
Object.prototype.toString.call(h)}function Na(h){return"number"===typeof h}function Da(h){return"string"===typeof h}function Ia(h,p){let r="";for(;0<=--p;)r+=h;return r}function kb(h){return Y(h)?"["+h.map(kb)+"]":pc(h)||Da(h)?JSON.stringify(h).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):h}const mb=h=>function(p){return p[h]},Ma=h=>{const p=h.length;return function(r){for(let v=0;v<p;++v)r=r[h[v]];return r}},vb=sc("id"),qb=l(h=>h,[],"identity"),Ob=l(()=>0,[],"zero"),Vb=l(()=>1,[],"one"),
ob=l(()=>!0,[],"true"),ra=l(()=>!1,[],"false");var Y=Array.isArray;const Ea=h=>p=>h*Math.exp(p),Ga=h=>p=>Math.log(h*p),cb=h=>p=>Math.sign(p)*Math.log1p(Math.abs(p/h)),ca=h=>p=>Math.sign(p)*Math.expm1(Math.abs(p))*h,pa=h=>p=>0>p?-Math.pow(-p,h):Math.pow(p,h),x=(h,p)=>(h<p||null==h)&&null!=p?-1:(h>p||null==p)&&null!=h?1:(p=p instanceof Date?+p:p,h=h instanceof Date?+h:h)!==h&&p===p?-1:p!==p&&h===h?1:0,N=(h,p)=>1===h.length?S(h[0],p[0]):g(h,p,h.length),S=(h,p)=>function(r,v){return x(h(r),h(v))*p},g=
(h,p,r)=>{p.push(0);return function(v,F){var aa=0;let O=-1;for(;0===aa&&++O<r;)aa=h[O],aa=x(aa(v),aa(F));return aa*p[O]}},z=Object.prototype.hasOwnProperty,m={},E=h=>Na(h)?h:pb(h)?h:Date.parse(h);t.Debug=4;t.Error=1;t.Info=3;t.None=0;t.Warn=2;t.accessor=l;t.accessorFields=R;t.accessorName=function(h){return null==h?null:h.fname};t.array=Hb;t.ascending=x;t.clampRange=function(h,p,r){let v=h[0];h=h[1];let F;h<v&&(F=h,h=v,v=F);F=h-v;return F>=r-p?[p,r]:[v=Math.min(Math.max(v,p),r-F),v+F]};t.compare=
function(h,p,r){r=r||{};p=Hb(p)||[];const v=[],F=[],aa={},O=r.comparator||N;Hb(h).forEach((u,I)=>{null!=u&&(v.push("descending"===p[I]?-1:1),F.push(u=Bb(u)?u:sc(u,null,r)),(R(u)||[]).forEach(va=>aa[va]=1))});return 0===F.length?null:l(O(F,v),Object.keys(aa))};t.constant=function(h){return Bb(h)?h:()=>h};t.debounce=function(h,p){let r;return v=>{r&&clearTimeout(r);r=setTimeout(()=>(p(v),r=null),h)}};t.error=Cb;t.extend=Lb;t.extent=function(h,p){let r=0,v,F,aa,O;if(h&&(v=h.length))if(null==p){for(F=
h[r];r<v&&(null==F||F!==F);F=h[++r]);for(aa=O=F;r<v;++r)F=h[r],null!=F&&(F<aa&&(aa=F),F>O&&(O=F))}else{for(F=p(h[r]);r<v&&(null==F||F!==F);F=p(h[++r]));for(aa=O=F;r<v;++r)F=p(h[r]),null!=F&&(F<aa&&(aa=F),F>O&&(O=F))}return[aa,O]};t.extentIndex=function(h,p){const r=h.length;let v=-1,F,aa,O,u,I;if(null==p){for(;++v<r;)if(aa=h[v],null!=aa&&aa>=aa){F=O=aa;break}if(v===r)return[-1,-1];for(u=I=v;++v<r;)aa=h[v],null!=aa&&(F>aa&&(F=aa,u=v),O<aa&&(O=aa,I=v))}else{for(;++v<r;)if(aa=p(h[v],v,h),null!=aa&&aa>=
aa){F=O=aa;break}if(v===r)return[-1,-1];for(u=I=v;++v<r;)aa=p(h[v],v,h),null!=aa&&(F>aa&&(F=aa,u=v),O<aa&&(O=aa,I=v))}return[u,I]};t.falsy=ra;t.fastmap=function(h){function p(aa){return Wa(r,aa)&&r[aa]!==m}let r={},v;const F={size:0,empty:0,object:r,has:p,get(aa){return p(aa)?r[aa]:void 0},set(aa,O){p(aa)||(++F.size,r[aa]===m&&--F.empty);r[aa]=O;return this},delete(aa){p(aa)&&(--F.size,++F.empty,r[aa]=m);return this},clear(){F.size=F.empty=0;F.object=r={}},test(aa){return arguments.length?(v=aa,F):
v},clean(){const aa={};let O=0;for(const u in r){const I=r[u];I===m||v&&v(I)||(aa[u]=I,++O)}F.size=O;F.empty=0;F.object=r=aa}};h&&Object.keys(h).forEach(aa=>{F.set(aa,h[aa])});return F};t.field=sc;t.flush=function(h,p,r,v,F,aa){if(!r&&0!==r)return aa;r=+r;let O=h[0],u=Sb(h);u<O&&(h=O,O=u,u=h);h=Math.abs(p-O);p=Math.abs(u-p);return h<p&&h<=r?v:p<=r?F:aa};t.hasOwnProperty=Wa;t.id=vb;t.identity=qb;t.inherits=function(h,p,r){p=h.prototype=Object.create(p.prototype);Object.defineProperty(p,"constructor",
{value:h,writable:!0,enumerable:!0,configurable:!0});return Lb(p,r)};t.inrange=function(h,p,r,v){let F=p[0];p=p[p.length-1];let aa;F>p&&(aa=F,F=p,p=aa);return(void 0===r||r?F<=h:F<h)&&(void 0===v||v?h<=p:h<p)};t.isArray=Y;t.isBoolean=function(h){return"boolean"===typeof h};t.isDate=pb;t.isFunction=Bb;t.isIterable=function(h){return h&&Bb(h[Symbol.iterator])};t.isNumber=Na;t.isObject=pc;t.isRegExp=function(h){return"[object RegExp]"===Object.prototype.toString.call(h)};t.isString=Da;t.key=function(h,
p,r){h&&(h=p?Hb(h).map(aa=>aa.replace(/\\(.)/g,"$1")):Hb(h));const v=h&&h.length,F=r&&r.get||hb;r=aa=>F(p?[aa]:Yb(aa));if(v)if(1===v){const aa=r(h[0]);r=function(O){return""+aa(O)}}else{const aa=h.map(r);r=function(O){let u=""+aa[0](O),I=0;for(;++I<v;)u+="|"+aa[I](O);return u}}else r=function(){return""};return l(r,h,"key")};t.lerp=function(h,p){const r=h[0];h=Sb(h);return(p=+p)?1===p?h:r+p*(h-r):r};t.logger=function(h,p,r=zc){let v=h||0;return{level(F){return arguments.length?(v=+F,this):v},error(){1<=
v&&r(p||"error","ERROR",arguments);return this},warn(){2<=v&&r(p||"warn","WARN",arguments);return this},info(){3<=v&&r(p||"log","INFO",arguments);return this},debug(){4<=v&&r(p||"log","DEBUG",arguments);return this}}};t.lruCache=function(h){h=+h||1E4;let p,r,v;const F=()=>{p={};r={};v=0},aa=(O,u)=>{++v>h&&(r=p,p={},v=1);return p[O]=u};F();return{clear:F,has:O=>Wa(p,O)||Wa(r,O),get:O=>Wa(p,O)?p[O]:Wa(r,O)?aa(O,r[O]):void 0,set:(O,u)=>Wa(p,O)?p[O]=u:aa(O,u)}};t.merge=function(h,p,r,v){const F=p.length,
aa=r.length;if(!aa)return p;if(!F)return r;v=v||new p.constructor(F+aa);let O=0,u=0,I=0;for(;O<F&&u<aa;++I)v[I]=0<h(p[O],r[u])?r[u++]:p[O++];for(;O<F;++O,++I)v[I]=p[O];for(;u<aa;++u,++I)v[I]=r[u];return v};t.mergeConfig=function(...h){return h.reduce((p,r)=>{for(const v in r)"signals"===v?p.signals=jc(p.signals,r.signals):Ab(p,v,r[v],"legend"===v?{layout:1}:"style"===v?!0:null);return p},{})};t.one=Vb;t.pad=function(h,p,r,v){r=r||" ";h+="";p-=h.length;return 0>=p?h:"left"===v?Ia(r,p)+h:"center"===
v?Ia(r,~~(p/2))+h+Ia(r,Math.ceil(p/2)):h+Ia(r,p)};t.panLinear=function(h,p){return rb(h,p,Ua,qb)};t.panLog=function(h,p){var r=Math.sign(h[0]);return rb(h,p,Ga(r),Ea(r))};t.panPow=function(h,p,r){return rb(h,p,pa(r),pa(1/r))};t.panSymlog=function(h,p,r){return rb(h,p,cb(r),ca(r))};t.peek=Sb;t.quarter=function(h){return 1+~~((new Date(h)).getMonth()/3)};t.repeat=Ia;t.span=function(h){return h&&Sb(h)-h[0]||0};t.splitAccessPath=Yb;t.stringValue=kb;t.toBoolean=function(h){return null==h||""===h?null:
h&&"false"!==h&&"0"!==h?!!h:!1};t.toDate=function(h,p){p=p||E;return null==h||""===h?null:p(h)};t.toNumber=Ua;t.toSet=function(h){const p={},r=h.length;for(let v=0;v<r;++v)p[h[v]]=!0;return p};t.toString=function(h){return null==h||""===h?null:h+""};t.truncate=function(h,p,r,v){v=null!=v?v:"";h+="";const F=h.length,aa=Math.max(0,p-v.length);return F<=p?h:"left"===r?v+h.slice(F-aa):"center"===r?h.slice(0,Math.ceil(aa/2))+v+h.slice(F-~~(aa/2)):h.slice(0,aa)+v};t.truthy=ob;t.utcquarter=function(h){return 1+
~~((new Date(h)).getUTCMonth()/3)};t.visitArray=function(h,p,r){if(h)if(p){const v=h.length;for(let F=0;F<v;++F){const aa=p(h[F]);aa&&r(aa,F,h)}}else h.forEach(r)};t.writeConfig=Ab;t.zero=Ob;t.zoomLinear=function(h,p,r){return Fb(h,p,r,Ua,qb)};t.zoomLog=function(h,p,r){const v=Math.sign(h[0]);return Fb(h,p,r,Ga(v),Ea(v))};t.zoomPow=function(h,p,r,v){return Fb(h,p,r,pa(v),pa(1/v))};t.zoomSymlog=function(h,p,r,v){return Fb(h,p,r,cb(v),ca(v))}})};
shadow$provide[21]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb):"function"===typeof define&&define.amd?define(["exports"],l):(t=t||self,l(t.topojson=t.topojson||{}))})(this,function(t){function l(Ua){return Ua}function R(Ua){if(null==Ua)return l;var rb,Fb,Hb=Ua.scale[0],Bb=Ua.scale[1],Lb=Ua.translate[0],Wa=Ua.translate[1];return function(pb,Na){Na||(rb=Fb=0);Na=2;var Da=pb.length,Ia=Array(Da);Ia[0]=(rb+=pb[0])*Hb+Lb;for(Ia[1]=(Fb+=pb[1])*Bb+Wa;Na<Da;)Ia[Na]=
pb[Na],++Na;return Ia}}function hb(Ua){function rb(Da){Da=Hb(Da);Da[0]<Lb&&(Lb=Da[0]);Da[0]>pb&&(pb=Da[0]);Da[1]<Wa&&(Wa=Da[1]);Da[1]>Na&&(Na=Da[1])}function Fb(Da){switch(Da.type){case "GeometryCollection":Da.geometries.forEach(Fb);break;case "Point":rb(Da.coordinates);break;case "MultiPoint":Da.coordinates.forEach(rb)}}var Hb=R(Ua.transform),Bb,Lb=Infinity,Wa=Lb,pb=-Lb,Na=-Lb;Ua.arcs.forEach(function(Da){for(var Ia=-1,kb=Da.length,mb;++Ia<kb;)mb=Hb(Da[Ia],Ia),mb[0]<Lb&&(Lb=mb[0]),mb[0]>pb&&(pb=
mb[0]),mb[1]<Wa&&(Wa=mb[1]),mb[1]>Na&&(Na=mb[1])});for(Bb in Ua.objects)Fb(Ua.objects[Bb]);return[Lb,Wa,pb,Na]}function Cb(Ua,rb){var Fb=rb.id,Hb=rb.bbox,Bb=null==rb.properties?{}:rb.properties;Ua=Yb(Ua,rb);return null==Fb&&null==Hb?{type:"Feature",properties:Bb,geometry:Ua}:null==Hb?{type:"Feature",id:Fb,properties:Bb,geometry:Ua}:{type:"Feature",id:Fb,bbox:Hb,properties:Bb,geometry:Ua}}function Yb(Ua,rb){function Fb(Da){return pb(Da)}function Hb(Da){for(var Ia=[],kb=0,mb=Da.length;kb<mb;++kb){var Ma=
Da[kb],vb=Ia;vb.length&&vb.pop();for(var qb=Na[0>Ma?~Ma:Ma],Ob=0,Vb=qb.length;Ob<Vb;++Ob)vb.push(pb(qb[Ob],Ob));if(0>Ma)for(Ma=vb,vb=Ma.length,qb=vb-Vb;qb<--vb;)Vb=Ma[qb],Ma[qb++]=Ma[vb],Ma[vb]=Vb}2>Ia.length&&Ia.push(Ia[0]);return Ia}function Bb(Da){for(Da=Hb(Da);4>Da.length;)Da.push(Da[0]);return Da}function Lb(Da){return Da.map(Bb)}function Wa(Da){var Ia=Da.type;switch(Ia){case "GeometryCollection":return{type:Ia,geometries:Da.geometries.map(Wa)};case "Point":Da=pb(Da.coordinates);break;case "MultiPoint":Da=
Da.coordinates.map(Fb);break;case "LineString":Da=Hb(Da.arcs);break;case "MultiLineString":Da=Da.arcs.map(Hb);break;case "Polygon":Da=Lb(Da.arcs);break;case "MultiPolygon":Da=Da.arcs.map(Lb);break;default:return null}return{type:Ia,coordinates:Da}}var pb=R(Ua.transform),Na=Ua.arcs;return Wa(rb)}function sc(Ua,rb){function Fb(Da){var Ia=Ua.arcs[0>Da?~Da:Da],kb=Ia[0];if(Ua.transform){var mb=[0,0];Ia.forEach(function(Ma){mb[0]+=Ma[0];mb[1]+=Ma[1]})}else mb=Ia[Ia.length-1];return 0>Da?[mb,kb]:[kb,mb]}
function Hb(Da,Ia){for(var kb in Da){var mb=Da[kb];delete Ia[mb.start];delete mb.start;delete mb.end;mb.forEach(function(Ma){Bb[0>Ma?~Ma:Ma]=1});pb.push(mb)}}var Bb={},Lb={},Wa={},pb=[],Na=-1;rb.forEach(function(Da,Ia){var kb=Ua.arcs[0>Da?~Da:Da];3>kb.length&&!kb[1][0]&&!kb[1][1]&&(kb=rb[++Na],rb[Na]=Da,rb[Ia]=kb)});rb.forEach(function(Da){var Ia=Fb(Da),kb=Ia[0],mb=Ia[1];(Ia=Wa[kb])?(delete Wa[Ia.end],Ia.push(Da),Ia.end=mb,(Da=Lb[mb])?(delete Lb[Da.start],kb=Da===Ia?Ia:Ia.concat(Da),Lb[kb.start=Ia.start]=
Wa[kb.end=Da.end]=kb):Lb[Ia.start]=Wa[Ia.end]=Ia):(Ia=Lb[mb])?(delete Lb[Ia.start],Ia.unshift(Da),Ia.start=kb,(Da=Wa[kb])?(delete Wa[Da.end],kb=Da===Ia?Ia:Da.concat(Ia),Lb[kb.start=Da.start]=Wa[kb.end=Ia.end]=kb):Lb[Ia.start]=Wa[Ia.end]=Ia):(Ia=[Da],Lb[Ia.start=kb]=Wa[Ia.end=mb]=Ia)});Hb(Wa,Lb);Hb(Lb,Wa);rb.forEach(function(Da){Bb[0>Da?~Da:Da]||pb.push([Da])});return pb}function zc(Ua,rb,Fb){var Hb;if(1<arguments.length)var Bb=pc(Ua,rb,Fb);else{var Lb=0;for(Bb=Array(Hb=Ua.arcs.length);Lb<Hb;++Lb)Bb[Lb]=
Lb}return{type:"MultiLineString",arcs:sc(Ua,Bb)}}function pc(Ua,rb,Fb){function Hb(Ia){var kb=0>Ia?~Ia:Ia;(Na[kb]||(Na[kb]=[])).push({i:Ia,g:Da})}function Bb(Ia){Ia.forEach(Hb)}function Lb(Ia){Ia.forEach(Bb)}function Wa(Ia){switch(Da=Ia,Ia.type){case "GeometryCollection":Ia.geometries.forEach(Wa);break;case "LineString":Bb(Ia.arcs);break;case "MultiLineString":case "Polygon":Lb(Ia.arcs);break;case "MultiPolygon":Ia.arcs.forEach(Lb)}}var pb=[],Na=[],Da;Wa(rb);Na.forEach(null==Fb?function(Ia){pb.push(Ia[0].i)}:
function(Ia){Fb(Ia[0].g,Ia[Ia.length-1].g)&&pb.push(Ia[0].i)});return pb}function Ab(Ua,rb){function Fb(Na){switch(Na.type){case "GeometryCollection":Na.geometries.forEach(Fb);break;case "Polygon":Hb(Na.arcs);break;case "MultiPolygon":Na.arcs.forEach(Hb)}}function Hb(Na){Na.forEach(function(Da){Da.forEach(function(Ia){(Lb[Ia=0>Ia?~Ia:Ia]||(Lb[Ia]=[])).push(Na)})});Wa.push(Na)}function Bb(Na){Na=Yb(Ua,{type:"Polygon",arcs:[Na]}).coordinates[0];for(var Da=-1,Ia=Na.length,kb,mb=Na[Ia-1],Ma=0;++Da<Ia;)kb=
mb,mb=Na[Da],Ma+=kb[0]*mb[1]-kb[1]*mb[0];return Math.abs(Ma)}var Lb={},Wa=[],pb=[];rb.forEach(Fb);Wa.forEach(function(Na){if(!Na._){var Da=[],Ia=[Na];Na._=1;for(pb.push(Da);Na=Ia.pop();)Da.push(Na),Na.forEach(function(kb){kb.forEach(function(mb){Lb[0>mb?~mb:mb].forEach(function(Ma){Ma._||(Ma._=1,Ia.push(Ma))})})})}});Wa.forEach(function(Na){delete Na._});return{type:"MultiPolygon",arcs:pb.map(function(Na){var Da=[];Na.forEach(function(Ma){Ma.forEach(function(vb){vb.forEach(function(qb){2>Lb[0>qb?
~qb:qb].length&&Da.push(qb)})})});Da=sc(Ua,Da);if(1<(Na=Da.length))for(var Ia=1,kb=Bb(Da[0]),mb;Ia<Na;++Ia)(mb=Bb(Da[Ia]))>kb&&(kb=Da[0],Da[0]=Da[Ia],Da[Ia]=kb,kb=mb);return Da}).filter(function(Na){return 0<Na.length})}}function jc(Ua,rb){for(var Fb=0,Hb=Ua.length;Fb<Hb;){var Bb=Fb+Hb>>>1;Ua[Bb]<rb?Fb=Bb+1:Hb=Bb}return Fb}function Sb(Ua){if(null==Ua)return l;var rb,Fb,Hb=Ua.scale[0],Bb=Ua.scale[1],Lb=Ua.translate[0],Wa=Ua.translate[1];return function(pb,Na){Na||(rb=Fb=0);Na=2;var Da=pb.length,Ia=
Array(Da),kb=Math.round((pb[0]-Lb)/Hb),mb=Math.round((pb[1]-Wa)/Bb);Ia[0]=kb-rb;rb=kb;Ia[1]=mb-Fb;for(Fb=mb;Na<Da;)Ia[Na]=pb[Na],++Na;return Ia}}t.bbox=hb;t.feature=function(Ua,rb){"string"===typeof rb&&(rb=Ua.objects[rb]);return"GeometryCollection"===rb.type?{type:"FeatureCollection",features:rb.geometries.map(function(Fb){return Cb(Ua,Fb)})}:Cb(Ua,rb)};t.merge=function(Ua){return Yb(Ua,Ab.apply(this,arguments))};t.mergeArcs=Ab;t.mesh=function(Ua){return Yb(Ua,zc.apply(this,arguments))};t.meshArcs=
zc;t.neighbors=function(Ua){function rb(vb,qb){vb.forEach(function(Ob){0>Ob&&(Ob=~Ob);var Vb=Bb[Ob];Vb?Vb.push(qb):Bb[Ob]=[qb]})}function Fb(vb,qb){vb.forEach(function(Ob){rb(Ob,qb)})}function Hb(vb,qb){if("GeometryCollection"===vb.type)vb.geometries.forEach(function(Ob){Hb(Ob,qb)});else if(vb.type in Wa)Wa[vb.type](vb.arcs,qb)}var Bb={},Lb=Ua.map(function(){return[]}),Wa={LineString:rb,MultiLineString:Fb,Polygon:Fb,MultiPolygon:function(vb,qb){vb.forEach(function(Ob){Fb(Ob,qb)})}};Ua.forEach(Hb);
for(var pb in Bb){Ua=Bb[pb];for(var Na=Ua.length,Da=0;Da<Na;++Da)for(var Ia=Da+1;Ia<Na;++Ia){var kb=Ua[Da],mb=Ua[Ia],Ma;(Ma=Lb[kb])[pb=jc(Ma,mb)]!==mb&&Ma.splice(pb,0,mb);(Ma=Lb[mb])[pb=jc(Ma,kb)]!==kb&&Ma.splice(pb,0,kb)}}return Lb};t.quantize=function(Ua,rb){function Fb(kb){return Da(kb)}function Hb(kb){switch(kb.type){case "GeometryCollection":var mb={type:"GeometryCollection",geometries:kb.geometries.map(Hb)};break;case "Point":mb={type:"Point",coordinates:Da(kb.coordinates)};break;case "MultiPoint":mb=
{type:"MultiPoint",coordinates:kb.coordinates.map(Fb)};break;default:return kb}null!=kb.id&&(mb.id=kb.id);null!=kb.bbox&&(mb.bbox=kb.bbox);null!=kb.properties&&(mb.properties=kb.properties);return mb}if(Ua.transform)throw Error("already quantized");if(rb&&rb.scale)var Bb=Ua.bbox;else{if(!(2<=(Na=Math.floor(rb))))throw Error("n must be 2");Bb=Ua.bbox||hb(Ua);rb=Bb[0];var Lb=Bb[1],Wa=Bb[2],pb=Bb[3],Na;rb={scale:[Wa-rb?(Wa-rb)/(Na-1):1,pb-Lb?(pb-Lb)/(Na-1):1],translate:[rb,Lb]}}var Da=Sb(rb),Ia;Lb=
Ua.objects;Wa={};for(Ia in Lb)Wa[Ia]=Hb(Lb[Ia]);return{type:"Topology",bbox:Bb,transform:rb,objects:Wa,arcs:Ua.arcs.map(function(kb){var mb=0,Ma=1,vb=kb.length,qb,Ob=Array(vb);for(Ob[0]=Da(kb[0],0);++mb<vb;)if((qb=Da(kb[mb],mb))[0]||qb[1])Ob[Ma++]=qb;1===Ma&&(Ob[Ma++]=[0,0]);Ob.length=Ma;return Ob})}};t.transform=R;t.untransform=Sb;Object.defineProperty(t,"__esModule",{value:!0})})};
shadow$provide[22]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(20)):"function"===typeof define&&define.amd?define(["exports","vega-util"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l(t.vega={},t.vega))})(this,function(t,l){function R(Z){const Ca=l.array(Z).slice(),Ya={};Ca.length||l.error("Missing time unit.");Ca.forEach(Kb=>{l.hasOwnProperty(Ma,Kb)?Ya[Kb]=1:l.error(`Invalid time unit: ${Kb}.`)});1<(Ya.week||Ya.day?1:0)+(Ya.quarter||Ya.month||
Ya.date?1:0)+(Ya.dayofyear?1:0)&&l.error(`Incompatible time units: ${Z}`);Ca.sort((Kb,xc)=>Ma[Kb]-Ma[xc]);return Ca}function hb(Z,Ca,Ya,Kb){function xc(rc){return Z(rc=0===arguments.length?new Date:new Date(+rc)),rc}xc.floor=rc=>(Z(rc=new Date(+rc)),rc);xc.ceil=rc=>(Z(rc=new Date(rc-1)),Ca(rc,1),Z(rc),rc);xc.round=rc=>{const yc=xc(rc),dd=xc.ceil(rc);return rc-yc<dd-rc?yc:dd};xc.offset=(rc,yc)=>(Ca(rc=new Date(+rc),null==yc?1:Math.floor(yc)),rc);xc.range=(rc,yc,dd)=>{const $b=[];rc=xc.ceil(rc);dd=
null==dd?1:Math.floor(dd);if(!(rc<yc&&0<dd))return $b;let Rc;do $b.push(Rc=new Date(+rc)),Ca(rc,dd),Z(rc);while(Rc<rc&&rc<yc);return $b};xc.filter=rc=>hb(yc=>{if(yc>=yc)for(;Z(yc),!rc(yc);)yc.setTime(yc-1)},(yc,dd)=>{if(yc>=yc)if(0>dd)for(;0>=++dd;)for(;Ca(yc,-1),!rc(yc););else for(;0<=--dd;)for(;Ca(yc,1),!rc(yc););});Ya&&(xc.count=(rc,yc)=>{qb.setTime(+rc);Ob.setTime(+yc);Z(qb);Z(Ob);return Math.floor(Ya(qb,Ob))},xc.every=rc=>{rc=Math.floor(rc);return isFinite(rc)&&0<rc?1<rc?xc.filter(Kb?yc=>0===
Kb(yc)%rc:yc=>0===xc.count(0,yc)%rc):xc:null});return xc}function Cb(Z){return hb(Ca=>{Ca.setDate(Ca.getDate()-(Ca.getDay()+7-Z)%7);Ca.setHours(0,0,0,0)},(Ca,Ya)=>{Ca.setDate(Ca.getDate()+7*Ya)},(Ca,Ya)=>(Ya-Ca-6E4*(Ya.getTimezoneOffset()-Ca.getTimezoneOffset()))/6048E5)}function Yb(Z){return hb(Ca=>{Ca.setUTCDate(Ca.getUTCDate()-(Ca.getUTCDay()+7-Z)%7);Ca.setUTCHours(0,0,0,0)},(Ca,Ya)=>{Ca.setUTCDate(Ca.getUTCDate()+7*Ya)},(Ca,Ya)=>(Ya-Ca)/6048E5)}function sc(Z,Ca){return null==Z||null==Ca?NaN:Z<
Ca?-1:Z>Ca?1:Z>=Ca?0:NaN}function zc(Z,Ca){return null==Z||null==Ca?NaN:Ca<Z?-1:Ca>Z?1:Ca>=Z?0:NaN}function pc(Z){function Ca(rc,yc,dd=0,$b=rc.length){if(dd<$b){if(0!==Ya(yc,yc))return $b;do{const Rc=dd+$b>>>1;0>Kb(rc[Rc],yc)?dd=Rc+1:$b=Rc}while(dd<$b)}return dd}let Ya,Kb,xc;2!==Z.length?(Ya=sc,Kb=(rc,yc)=>sc(Z(rc),yc),xc=(rc,yc)=>Z(rc)-yc):(Ya=Z===sc||Z===zc?Z:Ab,xc=Kb=Z);return{left:Ca,center:function(rc,yc,dd=0,$b=rc.length){$b=Ca(rc,yc,dd,$b-1);return $b>dd&&xc(rc[$b-1],yc)>-xc(rc[$b],yc)?$b-
1:$b},right:function(rc,yc,dd=0,$b=rc.length){if(dd<$b){if(0!==Ya(yc,yc))return $b;do{const Rc=dd+$b>>>1;0>=Kb(rc[Rc],yc)?dd=Rc+1:$b=Rc}while(dd<$b)}return dd}}}function Ab(){return 0}function jc(Z,Ca,Ya){var Kb=(Ca-Z)/Math.max(0,Ya),xc=Math.floor(Math.log10(Kb));Kb/=Math.pow(10,xc);Kb=Kb>=h?10:Kb>=p?5:Kb>=r?2:1;let rc;0>xc?(rc=Math.pow(10,-xc)/Kb,xc=Math.round(Z*rc),Kb=Math.round(Ca*rc),xc/rc<Z&&++xc,Kb/rc>Ca&&--Kb,rc=-rc):(rc=Math.pow(10,xc)*Kb,xc=Math.round(Z/rc),Kb=Math.round(Ca/rc),xc*rc<Z&&
++xc,Kb*rc>Ca&&--Kb);return Kb<xc&&.5<=Ya&&2>Ya?jc(Z,Ca,2*Ya):[xc,Kb,rc]}function Sb(Z,Ca,Ya){return jc(+Z,+Ca,+Ya)[2]}function Ua(Z,Ca,Ya){Ca=+Ca;Z=+Z;Ya=+Ya;const Kb=Ca<Z;Z=Kb?Sb(Ca,Z,Ya):Sb(Z,Ca,Ya);return(Kb?-1:1)*(0>Z?1/-Z:Z)}function rb(Z){v.setFullYear(Z);v.setMonth(0);v.setDate(1);v.setHours(0,0,0,0);return v}function Fb(Z){return cb.count(rb(Z.getFullYear())-1,Z)}function Hb(Z){return x.count(rb(Z.getFullYear())-1,Z)}function Bb(Z,Ca,Ya,Kb,xc,rc,yc){return 0<=Z&&100>Z?(Ca=new Date(-1,Ca,
Ya,Kb,xc,rc,yc),Ca.setFullYear(Z),Ca):new Date(Z,Ca,Ya,Kb,xc,rc,yc)}function Lb(Z){const Ca=Date.UTC(Z.getUTCFullYear(),0,1);return ca.count(Ca-1,Z)}function Wa(Z){const Ca=Date.UTC(Z.getUTCFullYear(),0,1);return E.count(Ca-1,Z)}function pb(Z){v.setTime(Date.UTC(Z,0,1));return v.getUTCDay()}function Na(Z,Ca,Ya,Kb,xc,rc,yc){return 0<=Z&&100>Z?(Z=new Date(Date.UTC(-1,Ca,Ya,Kb,xc,rc,yc)),Z.setUTCFullYear(Ya.y),Z):new Date(Date.UTC(Z,Ca,Ya,Kb,xc,rc,yc))}function Da(Z,Ca,Ya,Kb,xc){const rc=Ca||1,yc=l.peek(Z);
Ca=(ic,dc,Ic)=>{Ic=Ic||ic;return Ia(Ya[Ic],Kb[Ic],ic===yc&&rc,dc)};const dd=new Date;Z=l.toSet(Z);const $b=Z.year?Ca("year"):l.constant(2012),Rc=Z.month?Ca("month"):Z.quarter?Ca("quarter"):l.zero,Pd=Z.week&&Z.day?Ca("day",1,"weekday"):Z.week?Ca("week",1):Z.day?Ca("day",1):Z.date?Ca("date",1):Z.dayofyear?Ca("dayofyear",1):l.one,Pa=Z.hours?Ca("hours"):l.zero,Wb=Z.minutes?Ca("minutes"):l.zero,sb=Z.seconds?Ca("seconds"):l.zero,Tb=Z.milliseconds?Ca("milliseconds"):l.zero;return function(ic){dd.setTime(+ic);
ic=$b(dd);return xc(ic,Rc(dd),Pd(dd,ic),Pa(dd),Wb(dd),sb(dd),Tb(dd))}}function Ia(Z,Ca,Ya,Kb){const xc=1>=Ya?Z:Kb?(rc,yc)=>Kb+Ya*Math.floor((Z(rc,yc)-Kb)/Ya):(rc,yc)=>Ya*Math.floor(Z(rc,yc)/Ya);return Ca?(rc,yc)=>Ca(xc(rc,yc),yc):xc}function kb(Z,Ca,Ya){return Ca+7*Z-(Ya+6)%7}const mb="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),Ma=mb.reduce((Z,Ca,Ya)=>(Z[Ca]=1+Ya,Z),{}),vb={year:"%Y ",quarter:"Q%q ",month:"%b ",date:"%d ",week:"W%U ",day:"%a ",dayofyear:"%j ",
hours:"%H:00",minutes:"00:%M",seconds:":%S",milliseconds:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"},qb=new Date,Ob=new Date,Vb=hb(()=>{},(Z,Ca)=>{Z.setTime(+Z+Ca)},(Z,Ca)=>Ca-Z);Vb.every=Z=>{Z=Math.floor(Z);return isFinite(Z)&&0<Z?1<Z?hb(Ca=>{Ca.setTime(Math.floor(Ca/Z)*Z)},(Ca,Ya)=>{Ca.setTime(+Ca+Ya*Z)},(Ca,Ya)=>(Ya-Ca)/Z):Vb:null};Vb.range;var ob=hb(Z=>{Z.setTime(Z-Z.getMilliseconds())},(Z,Ca)=>{Z.setTime(+Z+1E3*Ca)},(Z,Ca)=>(Ca-Z)/1E3,Z=>Z.getUTCSeconds());
ob.range;var ra=hb(Z=>{Z.setTime(Z-Z.getMilliseconds()-1E3*Z.getSeconds())},(Z,Ca)=>{Z.setTime(+Z+6E4*Ca)},(Z,Ca)=>(Ca-Z)/6E4,Z=>Z.getMinutes());ra.range;var Y=hb(Z=>{Z.setUTCSeconds(0,0)},(Z,Ca)=>{Z.setTime(+Z+6E4*Ca)},(Z,Ca)=>(Ca-Z)/6E4,Z=>Z.getUTCMinutes());Y.range;var Ea=hb(Z=>{Z.setTime(Z-Z.getMilliseconds()-1E3*Z.getSeconds()-6E4*Z.getMinutes())},(Z,Ca)=>{Z.setTime(+Z+36E5*Ca)},(Z,Ca)=>(Ca-Z)/36E5,Z=>Z.getHours());Ea.range;var Ga=hb(Z=>{Z.setUTCMinutes(0,0,0)},(Z,Ca)=>{Z.setTime(+Z+36E5*Ca)},
(Z,Ca)=>(Ca-Z)/36E5,Z=>Z.getUTCHours());Ga.range;const cb=hb(Z=>Z.setHours(0,0,0,0),(Z,Ca)=>Z.setDate(Z.getDate()+Ca),(Z,Ca)=>(Ca-Z-6E4*(Ca.getTimezoneOffset()-Z.getTimezoneOffset()))/864E5,Z=>Z.getDate()-1);cb.range;const ca=hb(Z=>{Z.setUTCHours(0,0,0,0)},(Z,Ca)=>{Z.setUTCDate(Z.getUTCDate()+Ca)},(Z,Ca)=>(Ca-Z)/864E5,Z=>Z.getUTCDate()-1);ca.range;var pa=hb(Z=>{Z.setUTCHours(0,0,0,0)},(Z,Ca)=>{Z.setUTCDate(Z.getUTCDate()+Ca)},(Z,Ca)=>(Ca-Z)/864E5,Z=>Math.floor(Z/864E5));pa.range;const x=Cb(0);pa=
Cb(1);var N=Cb(2),S=Cb(3),g=Cb(4),z=Cb(5),m=Cb(6);x.range;pa.range;N.range;S.range;g.range;z.range;m.range;const E=Yb(0);pa=Yb(1);N=Yb(2);S=Yb(3);g=Yb(4);z=Yb(5);m=Yb(6);E.range;pa.range;N.range;S.range;g.range;z.range;m.range;pa=hb(Z=>{Z.setDate(1);Z.setHours(0,0,0,0)},(Z,Ca)=>{Z.setMonth(Z.getMonth()+Ca)},(Z,Ca)=>Ca.getMonth()-Z.getMonth()+12*(Ca.getFullYear()-Z.getFullYear()),Z=>Z.getMonth());pa.range;N=hb(Z=>{Z.setUTCDate(1);Z.setUTCHours(0,0,0,0)},(Z,Ca)=>{Z.setUTCMonth(Z.getUTCMonth()+Ca)},
(Z,Ca)=>Ca.getUTCMonth()-Z.getUTCMonth()+12*(Ca.getUTCFullYear()-Z.getUTCFullYear()),Z=>Z.getUTCMonth());N.range;S=hb(Z=>{Z.setMonth(0,1);Z.setHours(0,0,0,0)},(Z,Ca)=>{Z.setFullYear(Z.getFullYear()+Ca)},(Z,Ca)=>Ca.getFullYear()-Z.getFullYear(),Z=>Z.getFullYear());S.every=Z=>isFinite(Z=Math.floor(Z))&&0<Z?hb(Ca=>{Ca.setFullYear(Math.floor(Ca.getFullYear()/Z)*Z);Ca.setMonth(0,1);Ca.setHours(0,0,0,0)},(Ca,Ya)=>{Ca.setFullYear(Ca.getFullYear()+Ya*Z)}):null;S.range;g=hb(Z=>{Z.setUTCMonth(0,1);Z.setUTCHours(0,
0,0,0)},(Z,Ca)=>{Z.setUTCFullYear(Z.getUTCFullYear()+Ca)},(Z,Ca)=>Ca.getUTCFullYear()-Z.getUTCFullYear(),Z=>Z.getUTCFullYear());g.every=Z=>isFinite(Z=Math.floor(Z))&&0<Z?hb(Ca=>{Ca.setUTCFullYear(Math.floor(Ca.getUTCFullYear()/Z)*Z);Ca.setUTCMonth(0,1);Ca.setUTCHours(0,0,0,0)},(Ca,Ya)=>{Ca.setUTCFullYear(Ca.getUTCFullYear()+Ya*Z)}):null;g.range;const h=Math.sqrt(50),p=Math.sqrt(10),r=Math.sqrt(2),v=new Date,F={year:Z=>Z.getFullYear(),quarter:Z=>Math.floor(Z.getMonth()/3),month:Z=>Z.getMonth(),date:Z=>
Z.getDate(),hours:Z=>Z.getHours(),minutes:Z=>Z.getMinutes(),seconds:Z=>Z.getSeconds(),milliseconds:Z=>Z.getMilliseconds(),dayofyear:Z=>Fb(Z),week:Z=>Hb(Z),weekday:(Z,Ca)=>kb(Hb(Z),Z.getDay(),rb(Ca).getDay()),day:(Z,Ca)=>kb(1,Z.getDay(),rb(Ca).getDay())},aa={quarter:Z=>3*Z,week:(Z,Ca)=>kb(Z,0,rb(Ca).getDay())},O={year:Z=>Z.getUTCFullYear(),quarter:Z=>Math.floor(Z.getUTCMonth()/3),month:Z=>Z.getUTCMonth(),date:Z=>Z.getUTCDate(),hours:Z=>Z.getUTCHours(),minutes:Z=>Z.getUTCMinutes(),seconds:Z=>Z.getUTCSeconds(),
milliseconds:Z=>Z.getUTCMilliseconds(),dayofyear:Z=>Lb(Z),week:Z=>Wa(Z),day:(Z,Ca)=>kb(1,Z.getUTCDay(),pb(Ca)),weekday:(Z,Ca)=>kb(Wa(Z),Z.getUTCDay(),pb(Ca))},u={quarter:Z=>3*Z,week:(Z,Ca)=>kb(Z,0,pb(Ca))},I={year:S,quarter:pa.every(3),month:pa,week:x,date:cb,day:cb,dayofyear:cb,hours:Ea,minutes:ra,seconds:ob,milliseconds:Vb},va={year:g,quarter:N.every(3),month:N,week:E,date:ca,day:ca,dayofyear:ca,hours:Ga,minutes:Y,seconds:ob,milliseconds:Vb},La="year month date hours minutes seconds milliseconds".split(" ");
ob=La.slice(0,-1);ra=ob.slice(0,-1);Y=ra.slice(0,-1);Ea=Y.slice(0,-1);Ga=["year","month"];const Xa=["year"],ab=[[ob,1,1E3],[ob,5,5E3],[ob,15,15E3],[ob,30,3E4],[ra,1,6E4],[ra,5,3E5],[ra,15,9E5],[ra,30,18E5],[Y,1,36E5],[Y,3,108E5],[Y,6,216E5],[Y,12,432E5],[Ea,1,864E5],[["year","week"],1,6048E5],[Ga,1,2592E6],[Ga,3,7776E6],[Xa,1,31536E6]];t.DATE="date";t.DAY="day";t.DAYOFYEAR="dayofyear";t.HOURS="hours";t.MILLISECONDS="milliseconds";t.MINUTES="minutes";t.MONTH="month";t.QUARTER="quarter";t.SECONDS="seconds";
t.TIME_UNITS=mb;t.WEEK="week";t.YEAR="year";t.dayofyear=function(Z){return Fb(new Date(Z))};t.timeBin=function(Z){var Ca=Z.extent;Z=Z.maxbins||40;var Ya=Math.abs(l.span(Ca))/Z;let Kb=pc(xc=>xc[2]).right(ab,Ya);Kb===ab.length?(Ya=Xa,Ca=Ua(Ca[0]/31536E6,Ca[1]/31536E6,Z)):Kb?(Kb=ab[Ya/ab[Kb-1][2]<ab[Kb][2]/Ya?Kb-1:Kb],Ya=Kb[0],Ca=Kb[1]):(Ya=La,Ca=Math.max(Ua(Ca[0],Ca[1],Z),1));return{units:Ya,step:Ca}};t.timeFloor=function(Z,Ca){return Da(Z,Ca||1,F,aa,Bb)};t.timeInterval=function(Z){return I[Z]};t.timeOffset=
function(Z,Ca,Ya){return(Z=I[Z])?Z.offset(Ca,Ya):void 0};t.timeSequence=function(Z,Ca,Ya,Kb){return(Z=I[Z])?Z.range(Ca,Ya,Kb):void 0};t.timeUnitSpecifier=function(Z,Ca){Ca=l.extend({},vb,Ca);Z=R(Z);const Ya=Z.length;let Kb="",xc,rc,yc;for(xc=0;xc<Ya;)for(rc=Z.length;rc>xc;--rc)if(yc=Z.slice(xc,rc).join("-"),null!=Ca[yc]){Kb+=Ca[yc];xc=rc;break}return Kb.trim()};t.timeUnits=R;t.utcFloor=function(Z,Ca){return Da(Z,Ca||1,O,u,Na)};t.utcInterval=function(Z){return va[Z]};t.utcOffset=function(Z,Ca,Ya){return(Z=
va[Z])?Z.offset(Ca,Ya):void 0};t.utcSequence=function(Z,Ca,Ya,Kb){return(Z=va[Z])?Z.range(Ca,Ya,Kb):void 0};t.utcdayofyear=function(Z){return Lb(new Date(Z))};t.utcweek=function(Z){return Wa(new Date(Z))};t.week=function(Z){return Hb(new Date(Z))}})};
shadow$provide[23]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(22),Eb(20)):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l(t.vega={},t.vega,t.vega))})(this,function(t,l,R){function hb(Ra){const eb={};return qc=>eb[qc]||(eb[qc]=Ra(qc))}function Cb(Ra,eb,qc){var wd=(eb-Ra)/Math.max(0,qc),Mc=Math.floor(Math.log10(wd));wd/=Math.pow(10,Mc);wd=wd>=ae?10:wd>=Ud?5:wd>=
Ye?2:1;let Uc;0>Mc?(Uc=Math.pow(10,-Mc)/wd,Mc=Math.round(Ra*Uc),wd=Math.round(eb*Uc),Mc/Uc<Ra&&++Mc,wd/Uc>eb&&--wd,Uc=-Uc):(Uc=Math.pow(10,Mc)*wd,Mc=Math.round(Ra/Uc),wd=Math.round(eb/Uc),Mc*Uc<Ra&&++Mc,wd*Uc>eb&&--wd);return wd<Mc&&.5<=qc&&2>qc?Cb(Ra,eb,2*qc):[Mc,wd,Uc]}function Yb(Ra,eb,qc){return Cb(+Ra,+eb,+qc)[2]}function sc(Ra,eb){if(0>(eb=(Ra=eb?Ra.toExponential(eb-1):Ra.toExponential()).indexOf("e")))return null;var qc=Ra.slice(0,eb);return[1<qc.length?qc[0]+qc.slice(2):qc,+Ra.slice(eb+1)]}
function zc(Ra){return Ra=sc(Math.abs(Ra)),Ra?Ra[1]:NaN}function pc(Ra,eb){return function(qc,wd){for(var Mc=qc.length,Uc=[],Qc=0,td=Ra[0],kd=0;0<Mc&&0<td;){kd+td+1>wd&&(td=Math.max(1,wd-kd));Uc.push(qc.substring(Mc-=td,Mc+td));if((kd+=td+1)>wd)break;td=Ra[Qc=(Qc+1)%Ra.length]}return Uc.reverse().join(eb)}}function Ab(Ra){return function(eb){return eb.replace(/[0-9]/g,function(qc){return Ra[+qc]})}}function jc(Ra){if(!(eb=Wd.exec(Ra)))throw Error("invalid format: "+Ra);var eb;return new Sb({fill:eb[1],
align:eb[2],sign:eb[3],symbol:eb[4],zero:eb[5],width:eb[6],comma:eb[7],precision:eb[8]&&eb[8].slice(1),trim:eb[9],type:eb[10]})}function Sb(Ra){this.fill=void 0===Ra.fill?" ":Ra.fill+"";this.align=void 0===Ra.align?"\x3e":Ra.align+"";this.sign=void 0===Ra.sign?"-":Ra.sign+"";this.symbol=void 0===Ra.symbol?"":Ra.symbol+"";this.zero=!!Ra.zero;this.width=void 0===Ra.width?void 0:+Ra.width;this.comma=!!Ra.comma;this.precision=void 0===Ra.precision?void 0:+Ra.precision;this.trim=!!Ra.trim;this.type=void 0===
Ra.type?"":Ra.type+""}function Ua(Ra,eb){eb=sc(Ra,eb);if(!eb)return Ra+"";Ra=eb[0];eb=eb[1];return 0>eb?"0."+Array(-eb).join("0")+Ra:Ra.length>eb+1?Ra.slice(0,eb+1)+"."+Ra.slice(eb+1):Ra+Array(eb-Ra.length+2).join("0")}function rb(Ra){return Ra}function Fb(Ra){function eb(Cd){function be(J){var la=$d,ma=ke,Ja,ib;if("c"===Zd)ma=Q(J)+ma,J="";else{J=+J;var gc=0>J||0>1/J;J=isNaN(J)?Ld:Q(Math.abs(J),Gc);if(Jd){var tc=J.length,vc=1,Xb=-1;a:for(;vc<tc;++vc)switch(J[vc]){case ".":Xb=Ja=vc;break;case "0":0===
Xb&&(Xb=vc);Ja=vc;break;default:if(!+J[vc])break a;0<Xb&&(Xb=0)}J=0<Xb?J.slice(0,Xb)+J.slice(Ja+1):J}gc&&0===+J&&"+"!==$e&&(gc=!1);la=(gc?"("===$e?$e:kd:"-"===$e||"("===$e?"":$e)+la;ma=("s"===Zd?fb[8+P/3]:"")+ma+(gc&&"("===$e?")":"");if(ea)for(gc=-1,Ja=J.length;++gc<Ja;)if(ib=J.charCodeAt(gc),48>ib||57<ib){ma=(46===ib?Uc+J.slice(gc+1):J.slice(gc))+ma;J=J.slice(0,gc);break}}bd&&!nd&&(J=qc(J,Infinity));ib=la.length+J.length+ma.length;gc=ib<Fc?Array(Fc-ib+1).join(ve):"";bd&&nd&&(J=qc(gc+J,gc.length?
Fc-ma.length:Infinity),gc="");switch(Me){case "\x3c":J=la+J+ma+gc;break;case "\x3d":J=la+gc+J+ma;break;case "^":J=gc.slice(0,ib=gc.length>>1)+la+J+ma+gc.slice(ib);break;default:J=gc+la+J+ma}return Qc(J)}Cd=jc(Cd);var ve=Cd.fill,Me=Cd.align,$e=Cd.sign,sf=Cd.symbol,nd=Cd.zero,Fc=Cd.width,bd=Cd.comma,Gc=Cd.precision,Jd=Cd.trim,Zd=Cd.type;"n"===Zd?(bd=!0,Zd="g"):na[Zd]||(void 0===Gc&&(Gc=12),Jd=!0,Zd="g");if(nd||"0"===ve&&"\x3d"===Me)nd=!0,ve="0",Me="\x3d";var $d="$"===sf?wd:"#"===sf&&/[boxX]/.test(Zd)?
"0"+Zd.toLowerCase():"",ke="$"===sf?Mc:/[%p]/.test(Zd)?td:"",Q=na[Zd],ea=/[defgprs%]/.test(Zd);Gc=void 0===Gc?6:/[gprs]/.test(Zd)?Math.max(1,Math.min(21,Gc)):Math.max(0,Math.min(20,Gc));be.toString=function(){return Cd+""};return be}var qc=void 0===Ra.grouping||void 0===Ra.thousands?rb:pc(Aa.call(Ra.grouping,Number),Ra.thousands+""),wd=void 0===Ra.currency?"":Ra.currency[0]+"",Mc=void 0===Ra.currency?"":Ra.currency[1]+"",Uc=void 0===Ra.decimal?".":Ra.decimal+"",Qc=void 0===Ra.numerals?rb:Ab(Aa.call(Ra.numerals,
String)),td=void 0===Ra.percent?"%":Ra.percent+"",kd=void 0===Ra.minus?"":Ra.minus+"",Ld=void 0===Ra.nan?"NaN":Ra.nan+"";return{format:eb,formatPrefix:function(Cd,be){var ve=eb((Cd=jc(Cd),Cd.type="f",Cd));Cd=3*Math.max(-8,Math.min(8,Math.floor(zc(be)/3)));var Me=Math.pow(10,-Cd),$e=fb[8+Cd/3];return function(sf){return ve(Me*sf)+$e}}}}function Hb(Ra,eb){return qc=>{qc=Ra(qc);const wd=qc.indexOf(eb);if(0>wd)return qc;a:{var Mc=qc.lastIndexOf("e");if(!(0<Mc)){for(Mc=qc.length;--Mc>wd;){var Uc=qc.charCodeAt(Mc);
if(48<=Uc&&57>=Uc){Mc+=1;break a}}Mc=void 0}}for(Uc=Mc<qc.length?qc.slice(Mc):"";--Mc>wd;)if("0"!==qc[Mc]){++Mc;break}return qc.slice(0,Mc)+Uc}}function Bb(Ra){const eb=hb(Ra.format),qc=Ra.formatPrefix;return{format:eb,formatPrefix:qc,formatFloat(wd){wd=jc(wd||",");if(null==wd.precision){wd.precision=12;switch(wd.type){case "%":wd.precision-=2;break;case "e":--wd.precision}return Hb(eb(wd),eb(".1f")(1)[1])}return eb(wd)},formatSpan(wd,Mc,Uc,Qc){Qc=jc(null==Qc?",f":Qc);var td=+Mc;var kd=+wd;var Ld=
+Uc;kd=(Uc=td<kd)?Yb(td,kd,Ld):Yb(kd,td,Ld);kd=(Uc?-1:1)*(0>kd?1/-kd:kd);wd=Math.max(Math.abs(wd),Math.abs(Mc));if(null==Qc.precision)switch(Qc.type){case "s":return Mc=isNaN,kd=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(zc(wd)/3)))-zc(Math.abs(kd))),Mc(Mc=kd)||(Qc.precision=Mc),qc(Qc,wd);case "":case "e":case "g":case "p":case "r":Mc=isNaN;kd=Math.abs(kd);wd=Math.abs(wd)-kd;wd=Math.max(0,zc(wd)-zc(kd))+1;Mc(Mc=wd)||(Qc.precision=Mc-("e"===Qc.type));break;case "f":case "%":isNaN(Mc=Math.max(0,
-zc(Math.abs(kd))))||(Qc.precision=Mc-2*("%"===Qc.type))}return eb(Qc)}}}function Lb(){return mc=Bb({format:Zb,formatPrefix:Cc})}function Wa(Ra){return Bb(Fb(Ra))}function pb(Ra){return arguments.length?mc=Wa(Ra):mc}function Na(Ra,eb,qc,wd){function Mc(Uc){return Ra(Uc=0===arguments.length?new Date:new Date(+Uc)),Uc}Mc.floor=Uc=>(Ra(Uc=new Date(+Uc)),Uc);Mc.ceil=Uc=>(Ra(Uc=new Date(Uc-1)),eb(Uc,1),Ra(Uc),Uc);Mc.round=Uc=>{const Qc=Mc(Uc),td=Mc.ceil(Uc);return Uc-Qc<td-Uc?Qc:td};Mc.offset=(Uc,Qc)=>
(eb(Uc=new Date(+Uc),null==Qc?1:Math.floor(Qc)),Uc);Mc.range=(Uc,Qc,td)=>{const kd=[];Uc=Mc.ceil(Uc);td=null==td?1:Math.floor(td);if(!(Uc<Qc&&0<td))return kd;let Ld;do kd.push(Ld=new Date(+Uc)),eb(Uc,td),Ra(Uc);while(Ld<Uc&&Uc<Qc);return kd};Mc.filter=Uc=>Na(Qc=>{if(Qc>=Qc)for(;Ra(Qc),!Uc(Qc);)Qc.setTime(Qc-1)},(Qc,td)=>{if(Qc>=Qc)if(0>td)for(;0>=++td;)for(;eb(Qc,-1),!Uc(Qc););else for(;0<=--td;)for(;eb(Qc,1),!Uc(Qc););});qc&&(Mc.count=(Uc,Qc)=>{Hc.setTime(+Uc);jd.setTime(+Qc);Ra(Hc);Ra(jd);return Math.floor(qc(Hc,
jd))},Mc.every=Uc=>{Uc=Math.floor(Uc);return isFinite(Uc)&&0<Uc?1<Uc?Mc.filter(wd?Qc=>0===wd(Qc)%Uc:Qc=>0===Mc.count(0,Qc)%Uc):Mc:null});return Mc}function Da(Ra){return Na(eb=>{eb.setDate(eb.getDate()-(eb.getDay()+7-Ra)%7);eb.setHours(0,0,0,0)},(eb,qc)=>{eb.setDate(eb.getDate()+7*qc)},(eb,qc)=>(qc-eb-6E4*(qc.getTimezoneOffset()-eb.getTimezoneOffset()))/6048E5)}function Ia(Ra){return Na(eb=>{eb.setUTCDate(eb.getUTCDate()-(eb.getUTCDay()+7-Ra)%7);eb.setUTCHours(0,0,0,0)},(eb,qc)=>{eb.setUTCDate(eb.getUTCDate()+
7*qc)},(eb,qc)=>(qc-eb)/6048E5)}function kb(Ra){if(0<=Ra.y&&100>Ra.y){var eb=new Date(-1,Ra.m,Ra.d,Ra.H,Ra.M,Ra.S,Ra.L);eb.setFullYear(Ra.y);return eb}return new Date(Ra.y,Ra.m,Ra.d,Ra.H,Ra.M,Ra.S,Ra.L)}function mb(Ra){if(0<=Ra.y&&100>Ra.y){var eb=new Date(Date.UTC(-1,Ra.m,Ra.d,Ra.H,Ra.M,Ra.S,Ra.L));eb.setUTCFullYear(Ra.y);return eb}return new Date(Date.UTC(Ra.y,Ra.m,Ra.d,Ra.H,Ra.M,Ra.S,Ra.L))}function Ma(Ra,eb,qc){return{y:Ra,m:eb,d:qc,H:0,M:0,S:0,L:0}}function vb(Ra){function eb(ea,J){return function(la){var ma=
[],Ja=-1,ib=0,gc=ea.length,tc,vc;for(la instanceof Date||(la=new Date(+la));++Ja<gc;)if(37===ea.charCodeAt(Ja)){ma.push(ea.slice(ib,Ja));null!=(ib=ac[tc=ea.charAt(++Ja)])?tc=ea.charAt(++Ja):ib="e"===tc?" ":"0";if(vc=J[tc])tc=vc(la,ib);ma.push(tc);ib=Ja+1}ma.push(ea.slice(ib,Ja));return ma.join("")}}function qc(ea,J){return function(la){var ma=Ma(1900,void 0,1);if(wd(ma,ea,la+="",0)!=la.length)return null;if("Q"in ma)return new Date(ma.Q);if("s"in ma)return new Date(1E3*ma.s+("L"in ma?ma.L:0));!J||
"Z"in ma||(ma.Z=0);"p"in ma&&(ma.H=ma.H%12+12*ma.p);void 0===ma.m&&(ma.m="q"in ma?ma.q:0);if("V"in ma){if(1>ma.V||53<ma.V)return null;"w"in ma||(ma.w=1);if("Z"in ma){la=mb(Ma(ma.y,0,1));var Ja=la.getUTCDay();la=4<Ja||0===Ja?pe.ceil(la):pe(la);la=vd.offset(la,7*(ma.V-1));ma.y=la.getUTCFullYear();ma.m=la.getUTCMonth();ma.d=la.getUTCDate()+(ma.w+6)%7}else la=kb(Ma(ma.y,0,1)),Ja=la.getDay(),la=4<Ja||0===Ja?Xd.ceil(la):Xd(la),la=Nc.offset(la,7*(ma.V-1)),ma.y=la.getFullYear(),ma.m=la.getMonth(),ma.d=la.getDate()+
(ma.w+6)%7}else if("W"in ma||"U"in ma)"w"in ma||(ma.w="u"in ma?ma.u%7:"W"in ma?1:0),Ja="Z"in ma?mb(Ma(ma.y,0,1)).getUTCDay():kb(Ma(ma.y,0,1)).getDay(),ma.m=0,ma.d="W"in ma?(ma.w+6)%7+7*ma.W-(Ja+5)%7:ma.w+7*ma.U-(Ja+6)%7;return"Z"in ma?(ma.H+=ma.Z/100|0,ma.M+=ma.Z%100,mb(ma)):kb(ma)}}function wd(ea,J,la,ma){for(var Ja=0,ib=J.length,gc=la.length,tc;Ja<ib;){if(ma>=gc)return-1;tc=J.charCodeAt(Ja++);if(37===tc){if(tc=J.charAt(Ja++),tc=Q[tc in ac?J.charAt(Ja++):tc],!tc||0>(ma=tc(ea,la,ma)))return-1}else if(tc!=
la.charCodeAt(ma++))return-1}return ma}var Mc=Ra.dateTime,Uc=Ra.date,Qc=Ra.time,td=Ra.periods,kd=Ra.days,Ld=Ra.shortDays,Cd=Ra.months,be=Ra.shortMonths,ve=Vb(td),Me=ob(td),$e=Vb(kd),sf=ob(kd),nd=Vb(Ld),Fc=ob(Ld),bd=Vb(Cd),Gc=ob(Cd),Jd=Vb(be),Zd=ob(be),$d={a:function(ea){return Ld[ea.getDay()]},A:function(ea){return kd[ea.getDay()]},b:function(ea){return be[ea.getMonth()]},B:function(ea){return Cd[ea.getMonth()]},c:null,d:O,e:O,f:Xa,g:Rc,G:Pa,H:u,I,j:va,L:La,m:ab,M:Z,p:function(ea){return td[+(12<=
ea.getHours())]},q:function(ea){return 1+~~(ea.getMonth()/3)},Q:kc,s:Sc,S:Ca,u:Ya,U:Kb,V:rc,w:yc,W:dd,x:null,X:null,y:$b,Y:Pd,Z:Wb,"%":ec},ke={a:function(ea){return Ld[ea.getUTCDay()]},A:function(ea){return kd[ea.getUTCDay()]},b:function(ea){return be[ea.getUTCMonth()]},B:function(ea){return Cd[ea.getUTCMonth()]},c:null,d:sb,e:sb,f:Ac,g:$a,G:Gb,H:Tb,I:ic,j:dc,L:Ic,m:Zc,M:Nd,p:function(ea){return td[+(12<=ea.getUTCHours())]},q:function(ea){return 1+~~(ea.getUTCMonth()/3)},Q:kc,s:Sc,S:ud,u:Ha,U:gb,
V:ua,w:H,W:za,x:null,X:null,y:Qa,Y:lb,Z:oc,"%":ec},Q={a:function(ea,J,la){return(J=nd.exec(J.slice(la)))?(ea.w=Fc.get(J[0].toLowerCase()),la+J[0].length):-1},A:function(ea,J,la){return(J=$e.exec(J.slice(la)))?(ea.w=sf.get(J[0].toLowerCase()),la+J[0].length):-1},b:function(ea,J,la){return(J=Jd.exec(J.slice(la)))?(ea.m=Zd.get(J[0].toLowerCase()),la+J[0].length):-1},B:function(ea,J,la){return(J=bd.exec(J.slice(la)))?(ea.m=Gc.get(J[0].toLowerCase()),la+J[0].length):-1},c:function(ea,J,la){return wd(ea,
Mc,J,la)},d:g,e:g,f:r,g:pa,G:ca,H:m,I:m,j:z,L:p,m:S,M:E,p:function(ea,J,la){return(J=ve.exec(J.slice(la)))?(ea.p=Me.get(J[0].toLowerCase()),la+J[0].length):-1},q:N,Q:F,s:aa,S:h,u:Y,U:Ea,V:Ga,w:ra,W:cb,x:function(ea,J,la){return wd(ea,Uc,J,la)},X:function(ea,J,la){return wd(ea,Qc,J,la)},y:pa,Y:ca,Z:x,"%":v};$d.x=eb(Uc,$d);$d.X=eb(Qc,$d);$d.c=eb(Mc,$d);ke.x=eb(Uc,ke);ke.X=eb(Qc,ke);ke.c=eb(Mc,ke);return{format:function(ea){var J=eb(ea+="",$d);J.toString=function(){return ea};return J},parse:function(ea){var J=
qc(ea+="",!1);J.toString=function(){return ea};return J},utcFormat:function(ea){var J=eb(ea+="",ke);J.toString=function(){return ea};return J},utcParse:function(ea){var J=qc(ea+="",!0);J.toString=function(){return ea};return J}}}function qb(Ra,eb,qc){var wd=0>Ra?"-":"";Ra=(wd?-Ra:Ra)+"";var Mc=Ra.length;return wd+(Mc<qc?Array(qc-Mc+1).join(eb)+Ra:Ra)}function Ob(Ra){return Ra.replace(Sa,"\\$\x26")}function Vb(Ra){return new RegExp("^(?:"+Ra.map(Ob).join("|")+")","i")}function ob(Ra){return new Map(Ra.map((eb,
qc)=>[eb.toLowerCase(),qc]))}function ra(Ra,eb,qc){return(eb=L.exec(eb.slice(qc,qc+1)))?(Ra.w=+eb[0],qc+eb[0].length):-1}function Y(Ra,eb,qc){return(eb=L.exec(eb.slice(qc,qc+1)))?(Ra.u=+eb[0],qc+eb[0].length):-1}function Ea(Ra,eb,qc){return(eb=L.exec(eb.slice(qc,qc+2)))?(Ra.U=+eb[0],qc+eb[0].length):-1}function Ga(Ra,eb,qc){return(eb=L.exec(eb.slice(qc,qc+2)))?(Ra.V=+eb[0],qc+eb[0].length):-1}function cb(Ra,eb,qc){return(eb=L.exec(eb.slice(qc,qc+2)))?(Ra.W=+eb[0],qc+eb[0].length):-1}function ca(Ra,
eb,qc){return(eb=L.exec(eb.slice(qc,qc+4)))?(Ra.y=+eb[0],qc+eb[0].length):-1}function pa(Ra,eb,qc){return(eb=L.exec(eb.slice(qc,qc+2)))?(Ra.y=+eb[0]+(68<+eb[0]?1900:2E3),qc+eb[0].length):-1}function x(Ra,eb,qc){return(eb=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(eb.slice(qc,qc+6)))?(Ra.Z=eb[1]?0:-(eb[2]+(eb[3]||"00")),qc+eb[0].length):-1}function N(Ra,eb,qc){return(eb=L.exec(eb.slice(qc,qc+1)))?(Ra.q=3*eb[0]-3,qc+eb[0].length):-1}function S(Ra,eb,qc){return(eb=L.exec(eb.slice(qc,qc+2)))?(Ra.m=eb[0]-1,qc+
eb[0].length):-1}function g(Ra,eb,qc){return(eb=L.exec(eb.slice(qc,qc+2)))?(Ra.d=+eb[0],qc+eb[0].length):-1}function z(Ra,eb,qc){return(eb=L.exec(eb.slice(qc,qc+3)))?(Ra.m=0,Ra.d=+eb[0],qc+eb[0].length):-1}function m(Ra,eb,qc){return(eb=L.exec(eb.slice(qc,qc+2)))?(Ra.H=+eb[0],qc+eb[0].length):-1}function E(Ra,eb,qc){return(eb=L.exec(eb.slice(qc,qc+2)))?(Ra.M=+eb[0],qc+eb[0].length):-1}function h(Ra,eb,qc){return(eb=L.exec(eb.slice(qc,qc+2)))?(Ra.S=+eb[0],qc+eb[0].length):-1}function p(Ra,eb,qc){return(eb=
L.exec(eb.slice(qc,qc+3)))?(Ra.L=+eb[0],qc+eb[0].length):-1}function r(Ra,eb,qc){return(eb=L.exec(eb.slice(qc,qc+6)))?(Ra.L=Math.floor(eb[0]/1E3),qc+eb[0].length):-1}function v(Ra,eb,qc){return(Ra=fa.exec(eb.slice(qc,qc+1)))?qc+Ra[0].length:-1}function F(Ra,eb,qc){return(eb=L.exec(eb.slice(qc)))?(Ra.Q=+eb[0],qc+eb[0].length):-1}function aa(Ra,eb,qc){return(eb=L.exec(eb.slice(qc)))?(Ra.s=+eb[0],qc+eb[0].length):-1}function O(Ra,eb){return qb(Ra.getDate(),eb,2)}function u(Ra,eb){return qb(Ra.getHours(),
eb,2)}function I(Ra,eb){return qb(Ra.getHours()%12||12,eb,2)}function va(Ra,eb){return qb(1+Nc.count(hc(Ra),Ra),eb,3)}function La(Ra,eb){return qb(Ra.getMilliseconds(),eb,3)}function Xa(Ra,eb){return La(Ra,eb)+"000"}function ab(Ra,eb){return qb(Ra.getMonth()+1,eb,2)}function Z(Ra,eb){return qb(Ra.getMinutes(),eb,2)}function Ca(Ra,eb){return qb(Ra.getSeconds(),eb,2)}function Ya(Ra){Ra=Ra.getDay();return 0===Ra?7:Ra}function Kb(Ra,eb){return qb(Fd.count(hc(Ra)-1,Ra),eb,2)}function xc(Ra){var eb=Ra.getDay();
return 4<=eb||0===eb?De(Ra):De.ceil(Ra)}function rc(Ra,eb){Ra=xc(Ra);return qb(De.count(hc(Ra),Ra)+(4===hc(Ra).getDay()),eb,2)}function yc(Ra){return Ra.getDay()}function dd(Ra,eb){return qb(Xd.count(hc(Ra)-1,Ra),eb,2)}function $b(Ra,eb){return qb(Ra.getFullYear()%100,eb,2)}function Rc(Ra,eb){Ra=xc(Ra);return qb(Ra.getFullYear()%100,eb,2)}function Pd(Ra,eb){return qb(Ra.getFullYear()%1E4,eb,4)}function Pa(Ra,eb){var qc=Ra.getDay();Ra=4<=qc||0===qc?De(Ra):De.ceil(Ra);return qb(Ra.getFullYear()%1E4,
eb,4)}function Wb(Ra){Ra=Ra.getTimezoneOffset();return(0<Ra?"-":(Ra*=-1,"+"))+qb(Ra/60|0,"0",2)+qb(Ra%60,"0",2)}function sb(Ra,eb){return qb(Ra.getUTCDate(),eb,2)}function Tb(Ra,eb){return qb(Ra.getUTCHours(),eb,2)}function ic(Ra,eb){return qb(Ra.getUTCHours()%12||12,eb,2)}function dc(Ra,eb){return qb(1+vd.count(Ec(Ra),Ra),eb,3)}function Ic(Ra,eb){return qb(Ra.getUTCMilliseconds(),eb,3)}function Ac(Ra,eb){return Ic(Ra,eb)+"000"}function Zc(Ra,eb){return qb(Ra.getUTCMonth()+1,eb,2)}function Nd(Ra,
eb){return qb(Ra.getUTCMinutes(),eb,2)}function ud(Ra,eb){return qb(Ra.getUTCSeconds(),eb,2)}function Ha(Ra){Ra=Ra.getUTCDay();return 0===Ra?7:Ra}function gb(Ra,eb){return qb(ef.count(Ec(Ra)-1,Ra),eb,2)}function wb(Ra){var eb=Ra.getUTCDay();return 4<=eb||0===eb?wa(Ra):wa.ceil(Ra)}function ua(Ra,eb){Ra=wb(Ra);return qb(wa.count(Ec(Ra),Ra)+(4===Ec(Ra).getUTCDay()),eb,2)}function H(Ra){return Ra.getUTCDay()}function za(Ra,eb){return qb(pe.count(Ec(Ra)-1,Ra),eb,2)}function Qa(Ra,eb){return qb(Ra.getUTCFullYear()%
100,eb,2)}function $a(Ra,eb){Ra=wb(Ra);return qb(Ra.getUTCFullYear()%100,eb,2)}function lb(Ra,eb){return qb(Ra.getUTCFullYear()%1E4,eb,4)}function Gb(Ra,eb){var qc=Ra.getUTCDay();Ra=4<=qc||0===qc?wa(Ra):wa.ceil(Ra);return qb(Ra.getUTCFullYear()%1E4,eb,4)}function oc(){return"+0000"}function ec(){return"%"}function kc(Ra){return+Ra}function Sc(Ra){return Math.floor(+Ra/1E3)}function ed(Ra,eb,qc){qc=qc||{};R.isObject(qc)||R.error(`Invalid time multi-format specifier: ${qc}`);const wd=eb(l.SECONDS),
Mc=eb(l.MINUTES),Uc=eb(l.HOURS),Qc=eb(l.DATE),td=eb(l.WEEK),kd=eb(l.MONTH),Ld=eb(l.QUARTER),Cd=eb(l.YEAR),be=Ra(qc[l.MILLISECONDS]||".%L"),ve=Ra(qc[l.SECONDS]||":%S"),Me=Ra(qc[l.MINUTES]||"%I:%M"),$e=Ra(qc[l.HOURS]||"%I %p"),sf=Ra(qc[l.DATE]||qc[l.DAY]||"%a %d"),nd=Ra(qc[l.WEEK]||"%b %d"),Fc=Ra(qc[l.MONTH]||"%B"),bd=Ra(qc[l.QUARTER]||"%B"),Gc=Ra(qc[l.YEAR]||"%Y");return Jd=>(wd(Jd)<Jd?be:Mc(Jd)<Jd?ve:Uc(Jd)<Jd?Me:Qc(Jd)<Jd?$e:kd(Jd)<Jd?td(Jd)<Jd?sf:nd:Cd(Jd)<Jd?Ld(Jd)<Jd?Fc:bd:Gc)(Jd)}function fd(Ra){const eb=
hb(Ra.format),qc=hb(Ra.utcFormat);return{timeFormat:wd=>R.isString(wd)?eb(wd):ed(eb,l.timeInterval,wd),utcFormat:wd=>R.isString(wd)?qc(wd):ed(qc,l.utcInterval,wd),timeParse:hb(Ra.parse),utcParse:hb(Ra.utcParse)}}function Qd(){return ee=fd({format:Jc,parse:Bc,utcFormat:$c,utcParse:pd})}function Td(Ra){return fd(vb(Ra))}function Ed(Ra){return arguments.length?ee=Td(Ra):ee}function Yd(Ra,eb){var qc=arguments.length;qc&&2!==qc&&R.error("defaultLocale expects either zero or two arguments.");if(qc){qc=
pb(Ra);var wd=Ed(eb);qc=R.extend({},qc,wd)}else qc=pb(),wd=Ed(),qc=R.extend({},qc,wd);return qc}const ae=Math.sqrt(50),Ud=Math.sqrt(10),Ye=Math.sqrt(2);var Wd=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;jc.prototype=Sb.prototype;Sb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?
"~":"")+this.type};var P,na={"%":(Ra,eb)=>(100*Ra).toFixed(eb),b:Ra=>Math.round(Ra).toString(2),c:Ra=>Ra+"",d:function(Ra){return 1E21<=Math.abs(Ra=Math.round(Ra))?Ra.toLocaleString("en").replace(/,/g,""):Ra.toString(10)},e:(Ra,eb)=>Ra.toExponential(eb),f:(Ra,eb)=>Ra.toFixed(eb),g:(Ra,eb)=>Ra.toPrecision(eb),o:Ra=>Math.round(Ra).toString(8),p:(Ra,eb)=>Ua(100*Ra,eb),r:Ua,s:function(Ra,eb){var qc=sc(Ra,eb);if(!qc)return Ra+"";var wd=qc[0];qc=qc[1];qc=qc-(P=3*Math.max(-8,Math.min(8,Math.floor(qc/3))))+
1;var Mc=wd.length;return qc===Mc?wd:qc>Mc?wd+Array(qc-Mc+1).join("0"):0<qc?wd.slice(0,qc)+"."+wd.slice(qc):"0."+Array(1-qc).join("0")+sc(Ra,Math.max(0,eb+qc-1))[0]},X:Ra=>Math.round(Ra).toString(16).toUpperCase(),x:Ra=>Math.round(Ra).toString(16)},Aa=Array.prototype.map,fb="y z a f p n  m  k M G T P E Z Y".split(" "),Jb,Zb,Cc;(function(Ra){Jb=Fb(Ra);Zb=Jb.format;Cc=Jb.formatPrefix;return Jb})({thousands:",",grouping:[3],currency:["$",""]});let mc;Lb();const Hc=new Date,jd=new Date,Nc=Na(Ra=>Ra.setHours(0,
0,0,0),(Ra,eb)=>Ra.setDate(Ra.getDate()+eb),(Ra,eb)=>(eb-Ra-6E4*(eb.getTimezoneOffset()-Ra.getTimezoneOffset()))/864E5,Ra=>Ra.getDate()-1);Nc.range;const vd=Na(Ra=>{Ra.setUTCHours(0,0,0,0)},(Ra,eb)=>{Ra.setUTCDate(Ra.getUTCDate()+eb)},(Ra,eb)=>(eb-Ra)/864E5,Ra=>Ra.getUTCDate()-1);vd.range;const Gd=Na(Ra=>{Ra.setUTCHours(0,0,0,0)},(Ra,eb)=>{Ra.setUTCDate(Ra.getUTCDate()+eb)},(Ra,eb)=>(eb-Ra)/864E5,Ra=>Math.floor(Ra/864E5));Gd.range;const Fd=Da(0),Xd=Da(1),Od=Da(2),qe=Da(3),De=Da(4),gf=Da(5),df=Da(6);
Fd.range;Xd.range;Od.range;qe.range;De.range;gf.range;df.range;const ef=Ia(0),pe=Ia(1),nf=Ia(2),W=Ia(3),wa=Ia(4),db=Ia(5),yb=Ia(6);ef.range;pe.range;nf.range;W.range;wa.range;db.range;yb.range;const hc=Na(Ra=>{Ra.setMonth(0,1);Ra.setHours(0,0,0,0)},(Ra,eb)=>{Ra.setFullYear(Ra.getFullYear()+eb)},(Ra,eb)=>eb.getFullYear()-Ra.getFullYear(),Ra=>Ra.getFullYear());hc.every=Ra=>isFinite(Ra=Math.floor(Ra))&&0<Ra?Na(eb=>{eb.setFullYear(Math.floor(eb.getFullYear()/Ra)*Ra);eb.setMonth(0,1);eb.setHours(0,0,0,
0)},(eb,qc)=>{eb.setFullYear(eb.getFullYear()+qc*Ra)}):null;hc.range;const Ec=Na(Ra=>{Ra.setUTCMonth(0,1);Ra.setUTCHours(0,0,0,0)},(Ra,eb)=>{Ra.setUTCFullYear(Ra.getUTCFullYear()+eb)},(Ra,eb)=>eb.getUTCFullYear()-Ra.getUTCFullYear(),Ra=>Ra.getUTCFullYear());Ec.every=Ra=>isFinite(Ra=Math.floor(Ra))&&0<Ra?Na(eb=>{eb.setUTCFullYear(Math.floor(eb.getUTCFullYear()/Ra)*Ra);eb.setUTCMonth(0,1);eb.setUTCHours(0,0,0,0)},(eb,qc)=>{eb.setUTCFullYear(eb.getUTCFullYear()+qc*Ra)}):null;Ec.range;var ac={"-":"",
_:" ",0:"0"},L=/^\s*\d+/,fa=/^%/,Sa=/[\\^$*+?|[\]().{}]/g,cc,Jc,Bc,$c,pd;(function(Ra){cc=vb(Ra);Jc=cc.format;Bc=cc.parse;$c=cc.utcFormat;pd=cc.utcParse;return cc})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});
let ee;Qd();t.defaultLocale=Yd;t.locale=function(Ra,eb){Ra=Ra?Wa(Ra):pb();eb=eb?Td(eb):Ed();return R.extend({},Ra,eb)};t.numberFormatDefaultLocale=pb;t.numberFormatLocale=Wa;t.resetDefaultLocale=function(){Lb();Qd();return Yd()};t.resetNumberFormatDefaultLocale=Lb;t.resetTimeFormatDefaultLocale=Qd;t.timeFormatDefaultLocale=Ed;t.timeFormatLocale=Td})};
shadow$provide[24]=function(fc,Eb,Wc,nb){function t(Cb){var Yb=Cb.length;if(0<Yb%4)throw Error("Invalid string. Length must be a multiple of 4");Cb=Cb.indexOf("\x3d");-1===Cb&&(Cb=Yb);return[Cb,Cb===Yb?0:4-Cb%4]}nb.byteLength=function(Cb){Cb=t(Cb);var Yb=Cb[1];return 3*(Cb[0]+Yb)/4-Yb};nb.toByteArray=function(Cb){var Yb=t(Cb);var sc=Yb[0];Yb=Yb[1];var zc=new hb(3*(sc+Yb)/4-Yb),pc=0,Ab=0<Yb?sc-4:sc,jc;for(jc=0;jc<Ab;jc+=4)sc=R[Cb.charCodeAt(jc)]<<18|R[Cb.charCodeAt(jc+1)]<<12|R[Cb.charCodeAt(jc+2)]<<
6|R[Cb.charCodeAt(jc+3)],zc[pc++]=sc>>16&255,zc[pc++]=sc>>8&255,zc[pc++]=sc&255;2===Yb&&(sc=R[Cb.charCodeAt(jc)]<<2|R[Cb.charCodeAt(jc+1)]>>4,zc[pc++]=sc&255);1===Yb&&(sc=R[Cb.charCodeAt(jc)]<<10|R[Cb.charCodeAt(jc+1)]<<4|R[Cb.charCodeAt(jc+2)]>>2,zc[pc++]=sc>>8&255,zc[pc++]=sc&255);return zc};nb.fromByteArray=function(Cb){for(var Yb=Cb.length,sc=Yb%3,zc=[],pc=0,Ab=Yb-sc;pc<Ab;pc+=16383){for(var jc=zc,Sb=jc.push,Ua,rb=Cb,Fb=pc+16383>Ab?Ab:pc+16383,Hb=[],Bb=pc;Bb<Fb;Bb+=3)Ua=(rb[Bb]<<16&16711680)+
(rb[Bb+1]<<8&65280)+(rb[Bb+2]&255),Hb.push(l[Ua>>18&63]+l[Ua>>12&63]+l[Ua>>6&63]+l[Ua&63]);Ua=Hb.join("");Sb.call(jc,Ua)}1===sc?(Cb=Cb[Yb-1],zc.push(l[Cb>>2]+l[Cb<<4&63]+"\x3d\x3d")):2===sc&&(Cb=(Cb[Yb-2]<<8)+Cb[Yb-1],zc.push(l[Cb>>10]+l[Cb>>4&63]+l[Cb<<2&63]+"\x3d"));return zc.join("")};var l=[],R=[],hb="undefined"!==typeof Uint8Array?Uint8Array:Array;for(fc=0;64>fc;++fc)l[fc]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[fc],R["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(fc)]=
fc;R[45]=62;R[95]=63};
shadow$provide[25]=function(fc,Eb,Wc,nb){nb.read=function(t,l,R,hb,Cb){var Yb=8*Cb-hb-1;var sc=(1<<Yb)-1,zc=sc>>1,pc=-7;Cb=R?Cb-1:0;var Ab=R?-1:1,jc=t[l+Cb];Cb+=Ab;R=jc&(1<<-pc)-1;jc>>=-pc;for(pc+=Yb;0<pc;R=256*R+t[l+Cb],Cb+=Ab,pc-=8);Yb=R&(1<<-pc)-1;R>>=-pc;for(pc+=hb;0<pc;Yb=256*Yb+t[l+Cb],Cb+=Ab,pc-=8);if(0===R)R=1-zc;else{if(R===sc)return Yb?NaN:Infinity*(jc?-1:1);Yb+=Math.pow(2,hb);R-=zc}return(jc?-1:1)*Yb*Math.pow(2,R-hb)};nb.write=function(t,l,R,hb,Cb,Yb){var sc,zc=8*Yb-Cb-1,pc=(1<<zc)-1,Ab=
pc>>1,jc=23===Cb?Math.pow(2,-24)-Math.pow(2,-77):0;Yb=hb?0:Yb-1;var Sb=hb?1:-1,Ua=0>l||0===l&&0>1/l?1:0;l=Math.abs(l);isNaN(l)||Infinity===l?(l=isNaN(l)?1:0,hb=pc):(hb=Math.floor(Math.log(l)/Math.LN2),1>l*(sc=Math.pow(2,-hb))&&(hb--,sc*=2),l=1<=hb+Ab?l+jc/sc:l+jc*Math.pow(2,1-Ab),2<=l*sc&&(hb++,sc/=2),hb+Ab>=pc?(l=0,hb=pc):1<=hb+Ab?(l=(l*sc-1)*Math.pow(2,Cb),hb+=Ab):(l=l*Math.pow(2,Ab-1)*Math.pow(2,Cb),hb=0));for(;8<=Cb;t[R+Yb]=l&255,Yb+=Sb,l/=256,Cb-=8);hb=hb<<Cb|l;for(zc+=Cb;0<zc;t[R+Yb]=hb&255,
Yb+=Sb,hb/=256,zc-=8);t[R+Yb-Sb]|=128*Ua}};
shadow$provide[26]=function(fc,Eb,Wc,nb){function t(x){if(2147483647<x)throw new RangeError('The value "'+x+'" is invalid for option "size"');x=new Uint8Array(x);Object.setPrototypeOf(x,l.prototype);return x}function l(x,N,S){if("number"===typeof x){if("string"===typeof N)throw new TypeError('The "string" argument must be of type string. Received type number');return Cb(x)}return R(x,N,S)}function R(x,N,S){if("string"===typeof x){var g=N;if("string"!==typeof g||""===g)g="utf8";if(!l.isEncoding(g))throw new TypeError("Unknown encoding: "+
g);N=Ab(x,g)|0;S=t(N);x=S.write(x,g);x!==N&&(S=S.slice(0,x));return S}if(ArrayBuffer.isView(x))return ob(x,Uint8Array)?(x=new Uint8Array(x),x=sc(x.buffer,x.byteOffset,x.byteLength)):x=Yb(x),x;if(null==x)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x);if(ob(x,ArrayBuffer)||x&&ob(x.buffer,ArrayBuffer)||"undefined"!==typeof SharedArrayBuffer&&(ob(x,SharedArrayBuffer)||x&&ob(x.buffer,SharedArrayBuffer)))return sc(x,
N,S);if("number"===typeof x)throw new TypeError('The "value" argument must not be of type number. Received type number');g=x.valueOf&&x.valueOf();if(null!=g&&g!==x)return l.from(g,N,S);if(g=zc(x))return g;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof x[Symbol.toPrimitive])return l.from(x[Symbol.toPrimitive]("string"),N,S);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x);}
function hb(x){if("number"!==typeof x)throw new TypeError('"size" argument must be of type number');if(0>x)throw new RangeError('The value "'+x+'" is invalid for option "size"');}function Cb(x){hb(x);return t(0>x?0:pc(x)|0)}function Yb(x){const N=0>x.length?0:pc(x.length)|0,S=t(N);for(let g=0;g<N;g+=1)S[g]=x[g]&255;return S}function sc(x,N,S){if(0>N||x.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if(x.byteLength<N+(S||0))throw new RangeError('"length" is outside of buffer bounds');
x=void 0===N&&void 0===S?new Uint8Array(x):void 0===S?new Uint8Array(x,N):new Uint8Array(x,N,S);Object.setPrototypeOf(x,l.prototype);return x}function zc(x){if(l.isBuffer(x)){var N=pc(x.length)|0;const S=t(N);if(0===S.length)return S;x.copy(S,0,0,N);return S}if(void 0!==x.length)return(N="number"!==typeof x.length)||(N=x.length,N=N!==N),N?t(0):Yb(x);if("Buffer"===x.type&&Array.isArray(x.data))return Yb(x.data)}function pc(x){if(2147483647<=x)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+
(2147483647).toString(16)+" bytes");return x|0}function Ab(x,N){if(l.isBuffer(x))return x.length;if(ArrayBuffer.isView(x)||ob(x,ArrayBuffer))return x.byteLength;if("string"!==typeof x)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof x);const S=x.length,g=2<arguments.length&&!0===arguments[2];if(!g&&0===S)return 0;let z=!1;for(;;)switch(N){case "ascii":case "latin1":case "binary":return S;case "utf8":case "utf-8":return qb(x).length;
case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*S;case "hex":return S>>>1;case "base64":return Ob(x).length;default:if(z)return g?-1:qb(x).length;N=(""+N).toLowerCase();z=!0}}function jc(x,N,S){let g=!1;if(void 0===N||0>N)N=0;if(N>this.length)return"";if(void 0===S||S>this.length)S=this.length;if(0>=S)return"";S>>>=0;N>>>=0;if(S<=N)return"";for(x||(x="utf8");;)switch(x){case "hex":x=N;N=this.length;if(!x||0>x)x=0;if(!S||0>S||S>N)S=N;for(N="";x<S;++x)N+=pa[this[x]];return N;case "utf8":case "utf-8":return Fb(this,
N,S);case "ascii":x=N;N="";for(S=Math.min(this.length,S);x<S;++x)N+=String.fromCharCode(this[x]&127);return N;case "latin1":case "binary":x=N;N="";for(S=Math.min(this.length,S);x<S;++x)N+=String.fromCharCode(this[x]);return N;case "base64":return x=N,S=0===x&&S===this.length?Ea.fromByteArray(this):Ea.fromByteArray(this.slice(x,S)),S;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":S=this.slice(N,S);x="";for(N=0;N<S.length-1;N+=2)x+=String.fromCharCode(S[N]+256*S[N+1]);return x;default:if(g)throw new TypeError("Unknown encoding: "+
x);x=(x+"").toLowerCase();g=!0}}function Sb(x,N,S){const g=x[N];x[N]=x[S];x[S]=g}function Ua(x,N,S,g,z){if(0===x.length)return-1;"string"===typeof S?(g=S,S=0):2147483647<S?S=2147483647:-2147483648>S&&(S=-2147483648);S=+S;S!==S&&(S=z?0:x.length-1);0>S&&(S=x.length+S);if(S>=x.length){if(z)return-1;S=x.length-1}else if(0>S)if(z)S=0;else return-1;"string"===typeof N&&(N=l.from(N,g));if(l.isBuffer(N))return 0===N.length?-1:rb(x,N,S,g,z);if("number"===typeof N)return N&=255,"function"===typeof Uint8Array.prototype.indexOf?
z?Uint8Array.prototype.indexOf.call(x,N,S):Uint8Array.prototype.lastIndexOf.call(x,N,S):rb(x,[N],S,g,z);throw new TypeError("val must be string, number or Buffer");}function rb(x,N,S,g,z){function m(r,v){return 1===E?r[v]:r.readUInt16BE(v*E)}let E=1;var h=x.length;let p=N.length;if(void 0!==g&&(g=String(g).toLowerCase(),"ucs2"===g||"ucs-2"===g||"utf16le"===g||"utf-16le"===g)){if(2>x.length||2>N.length)return-1;E=2;h/=2;p/=2;S/=2}if(z)for(g=-1;S<h;S++)if(m(x,S)===m(N,-1===g?0:S-g)){if(-1===g&&(g=S),
S-g+1===p)return g*E}else-1!==g&&(S-=S-g),g=-1;else for(S+p>h&&(S=h-p);0<=S;S--){h=!0;for(g=0;g<p;g++)if(m(x,S+g)!==m(N,g)){h=!1;break}if(h)return S}return-1}function Fb(x,N,S){S=Math.min(x.length,S);for(var g=[];N<S;){var z=x[N];let m=null,E=239<z?4:223<z?3:191<z?2:1;if(N+E<=S){let h,p,r;switch(E){case 1:128>z&&(m=z);break;case 2:h=x[N+1];128===(h&192)&&(z=(z&31)<<6|h&63,127<z&&(m=z));break;case 3:h=x[N+1];p=x[N+2];128===(h&192)&&128===(p&192)&&(z=(z&15)<<12|(h&63)<<6|p&63,2047<z&&(55296>z||57343<
z)&&(m=z));break;case 4:h=x[N+1],p=x[N+2],r=x[N+3],128===(h&192)&&128===(p&192)&&128===(r&192)&&(z=(z&15)<<18|(h&63)<<12|(p&63)<<6|r&63,65535<z&&1114112>z&&(m=z))}}null===m?(m=65533,E=1):65535<m&&(m-=65536,g.push(m>>>10&1023|55296),m=56320|m&1023);g.push(m);N+=E}N=g.length;if(4096>=N)g=String.fromCharCode.apply(String,g);else{x="";for(S=0;S<N;)x+=String.fromCharCode.apply(String,g.slice(S,S+=4096));g=x}return g}function Hb(x,N,S){if(0!==x%1||0>x)throw new RangeError("offset is not uint");if(x+N>S)throw new RangeError("Trying to access beyond buffer length");
}function Bb(x,N,S,g,z,m){if(!l.isBuffer(x))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>z||N<m)throw new RangeError('"value" argument is out of bounds');if(S+g>x.length)throw new RangeError("Index out of range");}function Lb(x,N,S,g,z){mb(N,g,z,x,S,7);g=Number(N&BigInt(4294967295));x[S++]=g;g>>=8;x[S++]=g;g>>=8;x[S++]=g;x[S++]=g>>8;N=Number(N>>BigInt(32)&BigInt(4294967295));x[S++]=N;N>>=8;x[S++]=N;N>>=8;x[S++]=N;x[S++]=N>>8;return S}function Wa(x,N,S,g,z){mb(N,g,z,x,S,
7);g=Number(N&BigInt(4294967295));x[S+7]=g;g>>=8;x[S+6]=g;g>>=8;x[S+5]=g;x[S+4]=g>>8;N=Number(N>>BigInt(32)&BigInt(4294967295));x[S+3]=N;N>>=8;x[S+2]=N;N>>=8;x[S+1]=N;x[S]=N>>8;return S+8}function pb(x,N,S,g,z,m){if(S+g>x.length)throw new RangeError("Index out of range");if(0>S)throw new RangeError("Index out of range");}function Na(x,N,S,g,z){N=+N;S>>>=0;z||pb(x,N,S,4,3.4028234663852886E38,-3.4028234663852886E38);Ga.write(x,N,S,g,23,4);return S+4}function Da(x,N,S,g,z){N=+N;S>>>=0;z||pb(x,N,S,8,
1.7976931348623157E308,-1.7976931348623157E308);Ga.write(x,N,S,g,52,8);return S+8}function Ia(x,N,S){cb[x]=class extends S{constructor(){super();Object.defineProperty(this,"message",{value:N.apply(this,arguments),writable:!0,configurable:!0});this.name=`${this.name} [${x}]`;this.stack;delete this.name}get code(){return x}set code(g){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:g,writable:!0})}toString(){return`${this.name} [${x}]: ${this.message}`}}}function kb(x){let N=
"",S=x.length;const g="-"===x[0]?1:0;for(;S>=g+4;S-=3)N=`_${x.slice(S-3,S)}${N}`;return`${x.slice(0,S)}${N}`}function mb(x,N,S,g,z,m){if(x>S||x<N)throw g="bigint"===typeof N?"n":"",new cb.ERR_OUT_OF_RANGE("value",3<m?0===N||N===BigInt(0)?`>= 0${g} and < 2${g} ** ${8*(m+1)}${g}`:`>= -(2${g} ** ${8*(m+1)-1}${g}) and < 2 ** `+`${8*(m+1)-1}${g}`:`>= ${N}${g} and <= ${S}${g}`,x);Ma(z,"offset");void 0!==g[z]&&void 0!==g[z+m]||vb(z,g.length-(m+1))}function Ma(x,N){if("number"!==typeof x)throw new cb.ERR_INVALID_ARG_TYPE(N,
"number",x);}function vb(x,N,S){if(Math.floor(x)!==x)throw Ma(x,S),new cb.ERR_OUT_OF_RANGE(S||"offset","an integer",x);if(0>N)throw new cb.ERR_BUFFER_OUT_OF_BOUNDS;throw new cb.ERR_OUT_OF_RANGE(S||"offset",`>= ${S?1:0} and <= ${N}`,x);}function qb(x,N){N=N||Infinity;let S;const g=x.length;let z=null;const m=[];for(let E=0;E<g;++E){S=x.charCodeAt(E);if(55295<S&&57344>S){if(!z){if(56319<S){-1<(N-=3)&&m.push(239,191,189);continue}else if(E+1===g){-1<(N-=3)&&m.push(239,191,189);continue}z=S;continue}if(56320>
S){-1<(N-=3)&&m.push(239,191,189);z=S;continue}S=(z-55296<<10|S-56320)+65536}else z&&-1<(N-=3)&&m.push(239,191,189);z=null;if(128>S){if(0>--N)break;m.push(S)}else if(2048>S){if(0>(N-=2))break;m.push(S>>6|192,S&63|128)}else if(65536>S){if(0>(N-=3))break;m.push(S>>12|224,S>>6&63|128,S&63|128)}else if(1114112>S){if(0>(N-=4))break;m.push(S>>18|240,S>>12&63|128,S>>6&63|128,S&63|128)}else throw Error("Invalid code point");}return m}function Ob(x){var N=Ea,S=N.toByteArray;x=x.split("\x3d")[0];x=x.trim().replace(ca,
"");if(2>x.length)x="";else for(;0!==x.length%4;)x+="\x3d";return S.call(N,x)}function Vb(x,N,S,g){let z;for(z=0;z<g&&!(z+S>=N.length||z>=x.length);++z)N[z+S]=x[z];return z}function ob(x,N){return x instanceof N||null!=x&&null!=x.constructor&&null!=x.constructor.name&&x.constructor.name===N.name}function ra(x){return"undefined"===typeof BigInt?Y:x}function Y(){throw Error("BigInt not supported");}const Ea=Eb(24),Ga=Eb(25);fc="function"===typeof Symbol&&"function"===typeof Symbol["for"]?Symbol["for"]("nodejs.util.inspect.custom"):
null;nb.Buffer=l;nb.SlowBuffer=function(x){+x!=x&&(x=0);return l.alloc(+x)};nb.INSPECT_MAX_BYTES=50;nb.kMaxLength=2147483647;l.TYPED_ARRAY_SUPPORT=function(){try{const x=new Uint8Array(1),N={foo:function(){return 42}};Object.setPrototypeOf(N,Uint8Array.prototype);Object.setPrototypeOf(x,N);return 42===x.foo()}catch(x){return!1}}();l.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");
Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}});Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});l.poolSize=8192;l.from=function(x,N,S){return R(x,N,S)};Object.setPrototypeOf(l.prototype,Uint8Array.prototype);Object.setPrototypeOf(l,Uint8Array);l.alloc=function(x,N,S){hb(x);x=0>=x?t(x):void 0!==N?"string"===typeof S?t(x).fill(N,S):t(x).fill(N):t(x);return x};l.allocUnsafe=
function(x){return Cb(x)};l.allocUnsafeSlow=function(x){return Cb(x)};l.isBuffer=function(x){return null!=x&&!0===x._isBuffer&&x!==l.prototype};l.compare=function(x,N){ob(x,Uint8Array)&&(x=l.from(x,x.offset,x.byteLength));ob(N,Uint8Array)&&(N=l.from(N,N.offset,N.byteLength));if(!l.isBuffer(x)||!l.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(x===N)return 0;let S=x.length,g=N.length;for(let z=0,m=Math.min(S,g);z<m;++z)if(x[z]!==N[z]){S=
x[z];g=N[z];break}return S<g?-1:g<S?1:0};l.isEncoding=function(x){switch(String(x).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};l.concat=function(x,N){if(!Array.isArray(x))throw new TypeError('"list" argument must be an Array of Buffers');if(0===x.length)return l.alloc(0);let S;if(void 0===N)for(S=N=0;S<x.length;++S)N+=x[S].length;N=l.allocUnsafe(N);let g=
0;for(S=0;S<x.length;++S){let z=x[S];if(ob(z,Uint8Array))g+z.length>N.length?(l.isBuffer(z)||(z=l.from(z)),z.copy(N,g)):Uint8Array.prototype.set.call(N,z,g);else if(l.isBuffer(z))z.copy(N,g);else throw new TypeError('"list" argument must be an Array of Buffers');g+=z.length}return N};l.byteLength=Ab;l.prototype._isBuffer=!0;l.prototype.swap16=function(){const x=this.length;if(0!==x%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let N=0;N<x;N+=2)Sb(this,N,N+1);return this};
l.prototype.swap32=function(){const x=this.length;if(0!==x%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let N=0;N<x;N+=4)Sb(this,N,N+3),Sb(this,N+1,N+2);return this};l.prototype.swap64=function(){const x=this.length;if(0!==x%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let N=0;N<x;N+=8)Sb(this,N,N+7),Sb(this,N+1,N+6),Sb(this,N+2,N+5),Sb(this,N+3,N+4);return this};l.prototype.toString=function(){const x=this.length;return 0===x?"":0===arguments.length?
Fb(this,0,x):jc.apply(this,arguments)};l.prototype.toLocaleString=l.prototype.toString;l.prototype.equals=function(x){if(!l.isBuffer(x))throw new TypeError("Argument must be a Buffer");return this===x?!0:0===l.compare(this,x)};l.prototype.inspect=function(){let x;const N=nb.INSPECT_MAX_BYTES;x=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim();this.length>N&&(x+=" ... ");return"\x3cBuffer "+x+"\x3e"};fc&&(l.prototype[fc]=l.prototype.inspect);l.prototype.compare=function(x,N,S,g,z){ob(x,Uint8Array)&&
(x=l.from(x,x.offset,x.byteLength));if(!l.isBuffer(x))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof x);void 0===N&&(N=0);void 0===S&&(S=x?x.length:0);void 0===g&&(g=0);void 0===z&&(z=this.length);if(0>N||S>x.length||0>g||z>this.length)throw new RangeError("out of range index");if(g>=z&&N>=S)return 0;if(g>=z)return-1;if(N>=S)return 1;N>>>=0;S>>>=0;g>>>=0;z>>>=0;if(this===x)return 0;let m=z-g,E=S-N;const h=Math.min(m,E);g=this.slice(g,z);
x=x.slice(N,S);for(N=0;N<h;++N)if(g[N]!==x[N]){m=g[N];E=x[N];break}return m<E?-1:E<m?1:0};l.prototype.includes=function(x,N,S){return-1!==this.indexOf(x,N,S)};l.prototype.indexOf=function(x,N,S){return Ua(this,x,N,S,!0)};l.prototype.lastIndexOf=function(x,N,S){return Ua(this,x,N,S,!1)};l.prototype.write=function(x,N,S,g){if(void 0===N)g="utf8",S=this.length,N=0;else if(void 0===S&&"string"===typeof N)g=N,S=this.length,N=0;else if(isFinite(N))N>>>=0,isFinite(S)?(S>>>=0,void 0===g&&(g="utf8")):(g=S,
S=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var z=this.length-N;if(void 0===S||S>z)S=z;if(0<x.length&&(0>S||0>N)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");g||(g="utf8");for(z=!1;;)switch(g){case "hex":a:{N=Number(N)||0;g=this.length-N;S?(S=Number(S),S>g&&(S=g)):S=g;g=x.length;S>g/2&&(S=g/2);for(g=0;g<S;++g){z=parseInt(x.substr(2*g,2),16);if(z!==z){x=g;break a}this[N+g]=z}x=g}return x;case "utf8":case "utf-8":return Vb(qb(x,
this.length-N),this,N,S);case "ascii":case "latin1":case "binary":g=[];for(z=0;z<x.length;++z)g.push(x.charCodeAt(z)&255);return Vb(g,this,N,S);case "base64":return Vb(Ob(x),this,N,S);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":var m=void 0;g=this.length-N;const E=[];for(let h=0;h<x.length&&!(0>(g-=2));++h)m=x.charCodeAt(h),z=m>>8,m%=256,E.push(m),E.push(z);return Vb(E,this,N,S);default:if(z)throw new TypeError("Unknown encoding: "+g);g=(""+g).toLowerCase();z=!0}};l.prototype.toJSON=function(){return{type:"Buffer",
data:Array.prototype.slice.call(this._arr||this,0)}};l.prototype.slice=function(x,N){const S=this.length;x=~~x;N=void 0===N?S:~~N;0>x?(x+=S,0>x&&(x=0)):x>S&&(x=S);0>N?(N+=S,0>N&&(N=0)):N>S&&(N=S);N<x&&(N=x);x=this.subarray(x,N);Object.setPrototypeOf(x,l.prototype);return x};l.prototype.readUintLE=l.prototype.readUIntLE=function(x,N,S){x>>>=0;N>>>=0;S||Hb(x,N,this.length);S=this[x];let g=1,z=0;for(;++z<N&&(g*=256);)S+=this[x+z]*g;return S};l.prototype.readUintBE=l.prototype.readUIntBE=function(x,N,
S){x>>>=0;N>>>=0;S||Hb(x,N,this.length);S=this[x+--N];let g=1;for(;0<N&&(g*=256);)S+=this[x+--N]*g;return S};l.prototype.readUint8=l.prototype.readUInt8=function(x,N){x>>>=0;N||Hb(x,1,this.length);return this[x]};l.prototype.readUint16LE=l.prototype.readUInt16LE=function(x,N){x>>>=0;N||Hb(x,2,this.length);return this[x]|this[x+1]<<8};l.prototype.readUint16BE=l.prototype.readUInt16BE=function(x,N){x>>>=0;N||Hb(x,2,this.length);return this[x]<<8|this[x+1]};l.prototype.readUint32LE=l.prototype.readUInt32LE=
function(x,N){x>>>=0;N||Hb(x,4,this.length);return(this[x]|this[x+1]<<8|this[x+2]<<16)+16777216*this[x+3]};l.prototype.readUint32BE=l.prototype.readUInt32BE=function(x,N){x>>>=0;N||Hb(x,4,this.length);return 16777216*this[x]+(this[x+1]<<16|this[x+2]<<8|this[x+3])};l.prototype.readBigUInt64LE=ra(function(x){x>>>=0;Ma(x,"offset");var N=this[x];const S=this[x+7];void 0!==N&&void 0!==S||vb(x,this.length-8);N=N+this[++x]*Math.pow(2,8)+this[++x]*Math.pow(2,16)+this[++x]*Math.pow(2,24);x=this[++x]+this[++x]*
Math.pow(2,8)+this[++x]*Math.pow(2,16)+S*Math.pow(2,24);return BigInt(N)+(BigInt(x)<<BigInt(32))});l.prototype.readBigUInt64BE=ra(function(x){x>>>=0;Ma(x,"offset");var N=this[x];const S=this[x+7];void 0!==N&&void 0!==S||vb(x,this.length-8);N=N*Math.pow(2,24)+this[++x]*Math.pow(2,16)+this[++x]*Math.pow(2,8)+this[++x];x=this[++x]*Math.pow(2,24)+this[++x]*Math.pow(2,16)+this[++x]*Math.pow(2,8)+S;return(BigInt(N)<<BigInt(32))+BigInt(x)});l.prototype.readIntLE=function(x,N,S){x>>>=0;N>>>=0;S||Hb(x,N,this.length);
S=this[x];let g=1,z=0;for(;++z<N&&(g*=256);)S+=this[x+z]*g;S>=128*g&&(S-=Math.pow(2,8*N));return S};l.prototype.readIntBE=function(x,N,S){x>>>=0;N>>>=0;S||Hb(x,N,this.length);S=N;let g=1,z=this[x+--S];for(;0<S&&(g*=256);)z+=this[x+--S]*g;z>=128*g&&(z-=Math.pow(2,8*N));return z};l.prototype.readInt8=function(x,N){x>>>=0;N||Hb(x,1,this.length);return this[x]&128?-1*(255-this[x]+1):this[x]};l.prototype.readInt16LE=function(x,N){x>>>=0;N||Hb(x,2,this.length);x=this[x]|this[x+1]<<8;return x&32768?x|4294901760:
x};l.prototype.readInt16BE=function(x,N){x>>>=0;N||Hb(x,2,this.length);x=this[x+1]|this[x]<<8;return x&32768?x|4294901760:x};l.prototype.readInt32LE=function(x,N){x>>>=0;N||Hb(x,4,this.length);return this[x]|this[x+1]<<8|this[x+2]<<16|this[x+3]<<24};l.prototype.readInt32BE=function(x,N){x>>>=0;N||Hb(x,4,this.length);return this[x]<<24|this[x+1]<<16|this[x+2]<<8|this[x+3]};l.prototype.readBigInt64LE=ra(function(x){x>>>=0;Ma(x,"offset");const N=this[x],S=this[x+7];void 0!==N&&void 0!==S||vb(x,this.length-
8);return(BigInt(this[x+4]+this[x+5]*Math.pow(2,8)+this[x+6]*Math.pow(2,16)+(S<<24))<<BigInt(32))+BigInt(N+this[++x]*Math.pow(2,8)+this[++x]*Math.pow(2,16)+this[++x]*Math.pow(2,24))});l.prototype.readBigInt64BE=ra(function(x){x>>>=0;Ma(x,"offset");var N=this[x];const S=this[x+7];void 0!==N&&void 0!==S||vb(x,this.length-8);N=(N<<24)+this[++x]*Math.pow(2,16)+this[++x]*Math.pow(2,8)+this[++x];return(BigInt(N)<<BigInt(32))+BigInt(this[++x]*Math.pow(2,24)+this[++x]*Math.pow(2,16)+this[++x]*Math.pow(2,
8)+S)});l.prototype.readFloatLE=function(x,N){x>>>=0;N||Hb(x,4,this.length);return Ga.read(this,x,!0,23,4)};l.prototype.readFloatBE=function(x,N){x>>>=0;N||Hb(x,4,this.length);return Ga.read(this,x,!1,23,4)};l.prototype.readDoubleLE=function(x,N){x>>>=0;N||Hb(x,8,this.length);return Ga.read(this,x,!0,52,8)};l.prototype.readDoubleBE=function(x,N){x>>>=0;N||Hb(x,8,this.length);return Ga.read(this,x,!1,52,8)};l.prototype.writeUintLE=l.prototype.writeUIntLE=function(x,N,S,g){x=+x;N>>>=0;S>>>=0;g||Bb(this,
x,N,S,Math.pow(2,8*S)-1,0);g=1;let z=0;for(this[N]=x&255;++z<S&&(g*=256);)this[N+z]=x/g&255;return N+S};l.prototype.writeUintBE=l.prototype.writeUIntBE=function(x,N,S,g){x=+x;N>>>=0;S>>>=0;g||Bb(this,x,N,S,Math.pow(2,8*S)-1,0);g=S-1;let z=1;for(this[N+g]=x&255;0<=--g&&(z*=256);)this[N+g]=x/z&255;return N+S};l.prototype.writeUint8=l.prototype.writeUInt8=function(x,N,S){x=+x;N>>>=0;S||Bb(this,x,N,1,255,0);this[N]=x&255;return N+1};l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(x,N,S){x=
+x;N>>>=0;S||Bb(this,x,N,2,65535,0);this[N]=x&255;this[N+1]=x>>>8;return N+2};l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(x,N,S){x=+x;N>>>=0;S||Bb(this,x,N,2,65535,0);this[N]=x>>>8;this[N+1]=x&255;return N+2};l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(x,N,S){x=+x;N>>>=0;S||Bb(this,x,N,4,4294967295,0);this[N+3]=x>>>24;this[N+2]=x>>>16;this[N+1]=x>>>8;this[N]=x&255;return N+4};l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(x,N,S){x=+x;N>>>=0;S||Bb(this,
x,N,4,4294967295,0);this[N]=x>>>24;this[N+1]=x>>>16;this[N+2]=x>>>8;this[N+3]=x&255;return N+4};l.prototype.writeBigUInt64LE=ra(function(x,N=0){return Lb(this,x,N,BigInt(0),BigInt("0xffffffffffffffff"))});l.prototype.writeBigUInt64BE=ra(function(x,N=0){return Wa(this,x,N,BigInt(0),BigInt("0xffffffffffffffff"))});l.prototype.writeIntLE=function(x,N,S,g){x=+x;N>>>=0;g||(g=Math.pow(2,8*S-1),Bb(this,x,N,S,g-1,-g));g=0;let z=1,m=0;for(this[N]=x&255;++g<S&&(z*=256);)0>x&&0===m&&0!==this[N+g-1]&&(m=1),this[N+
g]=(x/z>>0)-m&255;return N+S};l.prototype.writeIntBE=function(x,N,S,g){x=+x;N>>>=0;g||(g=Math.pow(2,8*S-1),Bb(this,x,N,S,g-1,-g));g=S-1;let z=1,m=0;for(this[N+g]=x&255;0<=--g&&(z*=256);)0>x&&0===m&&0!==this[N+g+1]&&(m=1),this[N+g]=(x/z>>0)-m&255;return N+S};l.prototype.writeInt8=function(x,N,S){x=+x;N>>>=0;S||Bb(this,x,N,1,127,-128);0>x&&(x=255+x+1);this[N]=x&255;return N+1};l.prototype.writeInt16LE=function(x,N,S){x=+x;N>>>=0;S||Bb(this,x,N,2,32767,-32768);this[N]=x&255;this[N+1]=x>>>8;return N+
2};l.prototype.writeInt16BE=function(x,N,S){x=+x;N>>>=0;S||Bb(this,x,N,2,32767,-32768);this[N]=x>>>8;this[N+1]=x&255;return N+2};l.prototype.writeInt32LE=function(x,N,S){x=+x;N>>>=0;S||Bb(this,x,N,4,2147483647,-2147483648);this[N]=x&255;this[N+1]=x>>>8;this[N+2]=x>>>16;this[N+3]=x>>>24;return N+4};l.prototype.writeInt32BE=function(x,N,S){x=+x;N>>>=0;S||Bb(this,x,N,4,2147483647,-2147483648);0>x&&(x=4294967295+x+1);this[N]=x>>>24;this[N+1]=x>>>16;this[N+2]=x>>>8;this[N+3]=x&255;return N+4};l.prototype.writeBigInt64LE=
ra(function(x,N=0){return Lb(this,x,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});l.prototype.writeBigInt64BE=ra(function(x,N=0){return Wa(this,x,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});l.prototype.writeFloatLE=function(x,N,S){return Na(this,x,N,!0,S)};l.prototype.writeFloatBE=function(x,N,S){return Na(this,x,N,!1,S)};l.prototype.writeDoubleLE=function(x,N,S){return Da(this,x,N,!0,S)};l.prototype.writeDoubleBE=function(x,N,S){return Da(this,x,N,!1,S)};l.prototype.copy=
function(x,N,S,g){if(!l.isBuffer(x))throw new TypeError("argument should be a Buffer");S||(S=0);g||0===g||(g=this.length);N>=x.length&&(N=x.length);N||(N=0);0<g&&g<S&&(g=S);if(g===S||0===x.length||0===this.length)return 0;if(0>N)throw new RangeError("targetStart out of bounds");if(0>S||S>=this.length)throw new RangeError("Index out of range");if(0>g)throw new RangeError("sourceEnd out of bounds");g>this.length&&(g=this.length);x.length-N<g-S&&(g=x.length-N+S);const z=g-S;this===x&&"function"===typeof Uint8Array.prototype.copyWithin?
this.copyWithin(N,S,g):Uint8Array.prototype.set.call(x,this.subarray(S,g),N);return z};l.prototype.fill=function(x,N,S,g){if("string"===typeof x){"string"===typeof N?(g=N,N=0,S=this.length):"string"===typeof S&&(g=S,S=this.length);if(void 0!==g&&"string"!==typeof g)throw new TypeError("encoding must be a string");if("string"===typeof g&&!l.isEncoding(g))throw new TypeError("Unknown encoding: "+g);if(1===x.length){var z=x.charCodeAt(0);if("utf8"===g&&128>z||"latin1"===g)x=z}}else"number"===typeof x?
x&=255:"boolean"===typeof x&&(x=Number(x));if(0>N||this.length<N||this.length<S)throw new RangeError("Out of range index");if(S<=N)return this;N>>>=0;S=void 0===S?this.length:S>>>0;x||(x=0);if("number"===typeof x)for(g=N;g<S;++g)this[g]=x;else{z=l.isBuffer(x)?x:l.from(x,g);const m=z.length;if(0===m)throw new TypeError('The value "'+x+'" is invalid for argument "value"');for(g=0;g<S-N;++g)this[g+N]=z[g%m]}return this};const cb={};Ia("ERR_BUFFER_OUT_OF_BOUNDS",function(x){return x?`${x} is outside of buffer bounds`:
"Attempt to access memory outside buffer bounds"},RangeError);Ia("ERR_INVALID_ARG_TYPE",function(x,N){return`The "${x}" argument must be of type number. Received type ${typeof N}`},TypeError);Ia("ERR_OUT_OF_RANGE",function(x,N,S){x=`The value of "${x}" is out of range.`;let g=S;if(Number.isInteger(S)&&Math.abs(S)>Math.pow(2,32))g=kb(String(S));else if("bigint"===typeof S){g=String(S);if(S>Math.pow(BigInt(2),BigInt(32))||S<-Math.pow(BigInt(2),BigInt(32)))g=kb(g);g+="n"}return x+` It must be ${N}. Received ${g}`},
RangeError);const ca=/[^+/0-9A-Za-z-_]/g,pa=function(){const x=Array(256);for(let N=0;16>N;++N){const S=16*N;for(let g=0;16>g;++g)x[S+g]="0123456789abcdef"[N]+"0123456789abcdef"[g]}return x}()};
shadow$provide[27]=function(fc,Eb,Wc,nb){var t=Eb(26).Buffer;(function(l,R){"object"===typeof nb&&"undefined"!==typeof Wc?R(nb,Eb(20),Eb(21),Eb(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],R):(l="undefined"!==typeof globalThis?globalThis:l||self,R(l.vega={},l.vega,l.topojson,l.vega))})(this,function(l,R,hb,Cb){function Yb(ca,pa){const x=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const N=yield x.sanitize(ca,pa),
S=N.href;return N.localFile?x.file(S):x.http(S,pa)})}function sc(ca,pa){const x=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){pa=R.extend({},x.options,pa);const N=x.fileAccess,S={href:null};var g;let z;var m=Ma.test(ca.replace(vb,""));null!=ca&&"string"===typeof ca&&m||R.error("Sanitize failure, invalid URI: "+R.stringValue(ca));m=mb.test(ca);(g=pa.baseURL)&&!m&&(ca.startsWith("/")||g.endsWith("/")||(ca="/"+ca),ca=g+ca);z=(g=ca.startsWith("file://"))||"file"===pa.mode||"http"!==
pa.mode&&!m&&N;g?ca=ca.slice(7):ca.startsWith("//")&&("file"===pa.defaultProtocol?(ca=ca.slice(2),z=!0):ca=(pa.defaultProtocol||"http")+":"+ca);Object.defineProperty(S,"localFile",{value:!!z});S.href=ca;pa.target&&(S.target=pa.target+"");pa.rel&&(S.rel=pa.rel+"");"image"===pa.context&&pa.crossOrigin&&(S.crossOrigin=pa.crossOrigin+"");return S})}function zc(ca){return ca?pa=>new Promise((x,N)=>{ca.readFile(pa,(S,g)=>{S?N(S):x(g)})}):pc}function pc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){R.error("No file system access.")})}
function Ab(ca){return ca?function(pa,x){const N=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var S=R.extend({},N.options.http,x);const g=x&&x.response;S=yield ca(pa,S);return S.ok?R.isFunction(S[g])?S[g]():S.text():R.error(S.status+""+S.statusText)})}:jc}function jc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){R.error("No HTTP fetch method available.")})}function Sb(ca,pa){if(!ca||!ca.length)return"unknown";const x=ca.length,N=Vb.length,S=Vb.map((g,z)=>
z+1);for(let g=0,z=0,m,E;g<x;++g)for(E=pa?ca[g][pa]:ca[g],m=0;m<N;++m)if(S[m]&&null!=E&&E===E&&!Vb[m](E)&&(S[m]=0,++z,z===Vb.length))return"string";return ob[S.reduce((g,z)=>0===g?z:g,0)-1]}function Ua(ca,pa){return pa.reduce((x,N)=>{x[N]=Sb(ca,N);return x},{})}function rb(ca){return new Function("d","return {"+ca.map(function(pa,x){return JSON.stringify(pa)+": d["+x+'] || ""'}).join(",")+"}")}function Fb(ca,pa){var x=rb(ca);return function(N,S){return pa(x(N),S,ca)}}function Hb(ca){var pa=Object.create(null),
x=[];ca.forEach(function(N){for(var S in N)S in pa||x.push(pa[S]=S)});return x}function Bb(ca,pa){ca+="";var x=ca.length;return x<pa?Array(pa-x+1).join(0)+ca:ca}function Lb(ca){function pa(m,E){function h(){if(O)return Y;if(u)return u=!1,ra;var va,La=v,Xa;if(34===m.charCodeAt(La)){for(;v++<r&&34!==m.charCodeAt(v)||34===m.charCodeAt(++v););(va=v)>=r?O=!0:10===(Xa=m.charCodeAt(v++))?u=!0:13===Xa&&(u=!0,10===m.charCodeAt(v)&&++v);return m.slice(La+1,va-1).replace(/""/g,'"')}for(;v<r;){if(10===(Xa=m.charCodeAt(va=
v++)))u=!0;else if(13===Xa)u=!0,10===m.charCodeAt(v)&&++v;else if(Xa!==z)continue;return m.slice(La,va)}return O=!0,m.slice(La,r)}var p=[],r=m.length,v=0,F=0,aa,O=0>=r,u=!1;10===m.charCodeAt(r-1)&&--r;for(13===m.charCodeAt(r-1)&&--r;(aa=h())!==Y;){for(var I=[];aa!==ra&&aa!==Y;)I.push(aa),aa=h();E&&null==(I=E(I,F++))||p.push(I)}return p}function x(m,E){return m.map(function(h){return E.map(function(p){return S(h[p])}).join(ca)})}function N(m){return m.map(S).join(ca)}function S(m){if(null==m)m="";
else{if(m instanceof Date){var E=m.getUTCHours();var h=m.getUTCMinutes(),p=m.getUTCSeconds(),r=m.getUTCMilliseconds();if(isNaN(m))m="Invalid Date";else{var v=m.getUTCFullYear();m=(0>v?"-"+Bb(-v,6):9999<v?"+"+Bb(v,6):Bb(v,4))+"-"+Bb(m.getUTCMonth()+1,2)+"-"+Bb(m.getUTCDate(),2)+(r?"T"+Bb(E,2)+":"+Bb(h,2)+":"+Bb(p,2)+"."+Bb(r,3)+"Z":p?"T"+Bb(E,2)+":"+Bb(h,2)+":"+Bb(p,2)+"Z":h||E?"T"+Bb(E,2)+":"+Bb(h,2)+"Z":"")}E=m}else E=g.test(m+="")?'"'+m.replace(/"/g,'""')+'"':m;m=E}return m}var g=new RegExp('["'+
ca+"\n\r]"),z=ca.charCodeAt(0);return{parse:function(m,E){var h,p;m=pa(m,function(r,v){if(h)return h(r,v-1);p=r;h=E?Fb(r,E):rb(r)});m.columns=p||[];return m},parseRows:pa,format:function(m,E){null==E&&(E=Hb(m));return[E.map(S).join(ca)].concat(x(m,E)).join("\n")},formatBody:function(m,E){null==E&&(E=Hb(m));return x(m,E).join("\n")},formatRows:function(m){return m.map(N).join("\n")},formatRow:N,formatValue:S}}function Wa(ca){const pa=function(x,N){const S={delimiter:ca};return pb(x,N?R.extend(N,S):
S)};pa.responseType="text";return pa}function pb(ca,pa){pa.header&&(ca=pa.header.map(R.stringValue).join(pa.delimiter)+"\n"+ca);return Lb(pa.delimiter).parse(ca+"")}function Na(ca,pa){const x=pa&&pa.property?R.field(pa.property):R.identity;var N;if(N=R.isObject(ca))N=!("function"===typeof t&&R.isFunction(t.isBuffer)&&t.isBuffer(ca));N?(ca=x(ca),!R.isArray(ca)&&R.isIterable(ca)&&(ca=[...ca]),pa=pa&&pa.copy?JSON.parse(JSON.stringify(ca)):ca):pa=x(JSON.parse(ca));return pa}function Da(ca,pa){let x,N,
S,g;ca=Na(ca,pa);pa&&pa.feature?(x=hb.feature,S=pa.feature):pa&&pa.mesh?(x=hb.mesh,S=pa.mesh,g=Ea[pa.filter]):R.error("Missing TopoJSON feature or mesh parameter.");return(N=(N=ca.objects[S])?x(ca,N,g):R.error("Invalid TopoJSON object: "+S))&&N.features||[N]}function Ia(ca,pa){return 1<arguments.length?(Ga[ca]=pa,this):R.hasOwnProperty(Ga,ca)?Ga[ca]:null}function kb(ca,pa,x,N){if(ca.length){var S=Cb.timeFormatDefaultLocale();x=x||S.timeParse;N=N||S.utcParse;S=ca.columns||Object.keys(ca[0]);var g,
z;"auto"===pa&&(pa=Ua(ca,S));S=Object.keys(pa);var m=S.map(v=>{var F=pa[v];if(F&&(F.startsWith("date:")||F.startsWith("utc:"))){v=F.split(/:(.+)?/,2);F=v[1];if("'"===F[0]&&"'"===F[F.length-1]||'"'===F[0]&&'"'===F[F.length-1])F=F.slice(1,-1);return("utc"===v[0]?N:x)(F)}if(!Ob[F])throw Error("Illegal format pattern: "+v+":"+F);return Ob[F]});var E=0;var h=ca.length;for(z=S.length;E<h;++E){var p=ca[E];for(g=0;g<z;++g){var r=S[g];p[r]=m[g](p[r])}}}}const mb=/^(data:|([A-Za-z]+:)?\/\/)/,Ma=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
vb=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,qb=ca=>!Number.isNaN(+ca)&&!(ca instanceof Date),Ob={boolean:R.toBoolean,integer:R.toNumber,number:R.toNumber,date:R.toDate,string:R.toString,unknown:R.identity},Vb=[ca=>"true"===ca||"false"===ca||!0===ca||!1===ca,ca=>qb(ca)&&Number.isInteger(+ca),qb,ca=>!Number.isNaN(Date.parse(ca))],ob=["boolean","integer","number","date"];var ra={},Y={};pb.responseType="text";Na.responseType="json";const Ea={interior:(ca,pa)=>ca!==pa,exterior:(ca,
pa)=>ca===pa};Da.responseType="json";const Ga={dsv:pb,csv:Wa(","),tsv:Wa("\t"),json:Na,topojson:Da},cb=function(ca,pa){return x=>({options:x||{},sanitize:sc,load:Yb,fileAccess:!!pa,file:zc(pa),http:Ab(ca)})}("undefined"!==typeof fetch&&fetch,null);l.format=Ga;l.formats=Ia;l.inferType=Sb;l.inferTypes=Ua;l.loader=cb;l.read=function(ca,pa,x,N){pa=pa||{};const S=Ia(pa.type||"json");S||R.error("Unknown data format type: "+pa.type);ca=S(ca,pa);pa.parse&&kb(ca,pa.parse,x,N);R.hasOwnProperty(ca,"columns")&&
delete ca.columns;return ca};l.responseType=function(ca){return(ca=Ia(ca))&&ca.responseType||"text"};l.typeParsers=Ob})};
shadow$provide[28]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(20),Eb(27),Eb(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l(t.vega={},t.vega,t.vega,t.vega))})(this,function(t,l,R,hb){function Cb(g){const z=g||l.identity,m=[],E={};m.add=h=>{const p=z(h);E[p]||(E[p]=1,m.push(h));return m};m.remove=h=>{const p=z(h);E[p]&&(E[p]=0,h=m.indexOf(h),
0<=h&&m.splice(h,1));return m};return m}function Yb(g,z){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield z(g)}catch(m){g.error(m)}})}function sc(g){g=g===Object(g)?g:{data:g};if(!g[Y]){var z=Ea++;g[Y]=z}return g}function zc(g,z){for(const m in g)z[m]=g[m];return z}function pc(g){return g&&g.constructor===Ab}function Ab(){const g=[],z=[],m=[],E=[],h=[];let p=null,r=!1;return{constructor:Ab,insert(v){v=l.array(v);const F=v.length;for(let aa=0;aa<F;++aa)g.push(v[aa]);return this},
remove(v){const F=l.isFunction(v)?E:z;v=l.array(v);const aa=v.length;for(let O=0;O<aa;++O)F.push(v[O]);return this},modify(v,F,aa){F={field:F,value:l.constant(aa)};l.isFunction(v)?(F.filter=v,h.push(F)):(F.tuple=v,m.push(F));return this},encode(v,F){l.isFunction(v)?h.push({filter:v,field:F}):m.push({tuple:v,field:F});return this},clean(v){p=v;return this},reflow(){r=!0;return this},pulse(v,F){function aa(Ca,Ya,Kb){Kb?Ca[Ya]=Kb(Ca):v.encode=Ya;r||(u[Ca[Y]]=Ca)}const O={},u={};let I,va,La,Xa,ab,Z;I=
0;for(va=F.length;I<va;++I)O[F[I][Y]]=1;I=0;for(va=z.length;I<va;++I)ab=z[I],O[ab[Y]]=-1;I=0;for(va=E.length;I<va;++I)Xa=E[I],F.forEach(Ca=>{Xa(Ca)&&(O[Ca[Y]]=-1)});I=0;for(va=g.length;I<va;++I)ab=g[I],Z=ab[Y],O[Z]?O[Z]=1:v.add.push(sc(g[I]));I=0;for(va=F.length;I<va;++I)ab=F[I],0>O[ab[Y]]&&v.rem.push(ab);I=0;for(va=m.length;I<va;++I)La=m[I],ab=La.tuple,Xa=La.field,Z=O[ab[Y]],0<Z&&(aa(ab,Xa,La.value),v.modifies(Xa));I=0;for(va=h.length;I<va;++I)La=h[I],Xa=La.filter,F.forEach(Ca=>{Xa(Ca)&&0<O[Ca[Y]]&&
aa(Ca,La.field,La.value)}),v.modifies(La.field);if(r)v.mod=z.length||E.length?F.filter(Ca=>0<O[Ca[Y]]):F.slice();else for(Z in u)v.mod.push(u[Z]);(p||null==p&&(z.length||E.length))&&v.clean(!0);return v}}}function jc(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function Sb(g,z,m,E){this.id=++Ga;this.value=g;this.qrank=this.rank=this.stamp=-1;this.flags=0;z&&(this._update=z);m&&this.parameters(m,E)}function Ua(g){return function(z){const m=this.flags;if(0===arguments.length)return!!(m&
g);this.flags=z?m|g:m&~g;return this}}function rb(g,z,m){this.id=++ca;this.value=null;m&&(this.receive=m);g&&(this._filter=g);z&&(this._apply=z)}function Fb(g,z,m){return new rb(g,z,m)}function Hb(g){let z;const m=new Promise(E=>z=E);m.requests=0;m.done=()=>{0===--m.requests&&(g._pending=null,z(g))};return g._pending=m}function Bb(g,z,m,E,h,p){const r=l.extend({},p,pa);let v;l.isFunction(m)||(m=l.constant(m));void 0===E?h=F=>g.touch(m(F)):l.isFunction(E)?(v=new Sb(null,E,h,!1),h=F=>{v.evaluate(F);
F=m(F);const aa=v.value;pc(aa)?g.pulse(F,aa,p):g.update(F,aa,r)}):h=F=>g.update(m(F),E,r);z.apply(h)}function Lb(g,z,m,E,h,p){void 0===E?z.targets().add(m):(p=p||{},E=new Sb(null,Wa(m,E),h,!1),E.modified(p.force),E.rank=z.rank,z.targets().add(E),m&&(E.skip(!0),E.value=m.value,E.targets().add(m),g.connect(m,[E])))}function Wa(g,z){z=l.isFunction(z)?z:l.constant(z);return g?function(m,E){m=z(m,E);g.skip()||(g.skip(m!==this.value).value=m);return m}:z}function pb(g,z,m){this.dataflow=g;this.stamp=null==
z?-1:z;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=m||null}function Na(g,z){const m=[];l.visitArray(g,z,E=>m.push(E));return m}function Da(g,z){const m={};g.visit(z,E=>{m[E[Y]]=1});return E=>m[E[Y]]?null:E}function Ia(g,z){return g?(m,E)=>g(m,E)&&z(m,E):z}function kb(g,z,m,E){let h=0;this.dataflow=g;this.stamp=z;this.fields=null;this.encode=E||null;this.pulses=m;for(const p of m)if(p.stamp===z){if(p.fields){g=this.fields||(this.fields={});for(const r in p.fields)g[r]=1}p.changed(this.ADD)&&
(h|=this.ADD);p.changed(this.REM)&&(h|=this.REM);p.changed(this.MOD)&&(h|=this.MOD)}this.changes=h}function mb(g){g.error("Dataflow already running. Use runAsync() to chain invocations.");return g}function Ma(g,z){if(z&&z.stamp===g.stamp)return z;g=g.fork();z&&z!==x&&(g.source=z.source);return g}function vb(g){let z=[];return{clear:()=>z=[],size:()=>z.length,peek:()=>z[0],push:m=>{z.push(m);return qb(z,0,z.length-1,g)},pop:()=>{var m=z.pop();let E;if(z.length){E=z[0];z[0]=m;m=z;var h=0;const p=h,
r=m.length,v=m[h];let F=(h<<1)+1,aa;for(;F<r;)aa=F+1,aa<r&&0<=g(m[F],m[aa])&&(F=aa),m[h]=m[F],h=F,F=(h<<1)+1;m[h]=v;qb(m,p,h,g)}else E=m;return E}}}function qb(g,z,m,E){let h,p;const r=g[m];for(;m>z;)if(p=m-1>>1,h=g[p],0>E(r,h))g[m]=h,m=p;else break;return g[m]=r}function Ob(){this.logger(l.logger());this.logLevel(l.Error);this._rank=this._clock=0;this._locale=hb.defaultLocale();try{this._loader=R.loader()}catch(g){}this._touched=Cb(l.id);this._input={};this._pulse=null;this._heap=vb((g,z)=>g.qrank-
z.qrank);this._postrun=[]}function Vb(g){return function(){return this._log[g].apply(this,arguments)}}function ob(g,z){Sb.call(this,g,null,z)}function ra(g){g=g&&g.toLowerCase();return l.hasOwnProperty(S,g)?S[g]:null}const Y=Symbol("vega_id");let Ea=1;jc.prototype={set(g,z,m,E){const h=this[g],p=this["_:mod:_"];if(null!=z&&0<=z){if(h[z]!==m||E)h[z]=m,p[z+":"+g]=-1,p[g]=-1}else if(h!==m||E)this[g]=m,p[g]=l.isArray(m)?1+m.length:-1;return this},modified(g,z){const m=this["_:mod:_"];if(!arguments.length){for(var E in m)if(m[E])return!0;
return!1}if(l.isArray(g)){for(E=0;E<g.length;++E)if(m[g[E]])return!0;return!1}return null!=z&&0<=z?z+1<m[g]||!!m[z+":"+g]:!!m[g]},clear(){this["_:mod:_"]={};return this}};let Ga=0;const cb=new jc;Sb.prototype={targets(){return this._targets||(this._targets=Cb(l.id))},set(g){return this.value!==g?(this.value=g,1):0},skip:Ua(1),modified:Ua(2),parameters(g,z,m){z=!1!==z;const E=this._argval=this._argval||new jc,h=this._argops=this._argops||[],p=[];let r,v,F,aa;const O=(u,I,va)=>{va instanceof Sb?(va!==
this&&(z&&va.targets().add(this),p.push(va)),h.push({op:va,name:u,index:I})):E.set(u,I,va)};for(r in g)if(v=g[r],"pulse"===r)l.array(v).forEach(u=>{u instanceof Sb?u!==this&&(u.targets().add(this),p.push(u)):l.error("Pulse parameters must be operator instances.")}),this.source=v;else if(l.isArray(v))for(E.set(r,-1,Array(F=v.length)),aa=0;aa<F;++aa)O(r,aa,v[aa]);else O(r,-1,v);this.marshall().clear();m&&(h.initonly=!0);return p},marshall(g){const z=this._argval||cb,m=this._argops;let E,h,p,r;if(m){const v=
m.length;for(h=0;h<v;++h)E=m[h],p=E.op,r=p.modified()&&p.stamp===g,z.set(E.name,E.index,p.value,r);if(m.initonly){for(h=0;h<v;++h)E=m[h],E.op.targets().remove(this);this._update=this._argops=null}}return z},detach(){const g=this._argops;let z,m;if(g)for(z=0,m=g.length;z<m;++z){var E=g[z];E=E.op;E._targets&&E._targets.remove(this)}this.source=this.pulse=null},evaluate(g){var z=this._update;if(z){const m=this.marshall(g.stamp);z=z.call(this,m,g);m.clear();if(z!==this.value)this.value=z;else if(!this.modified())return g.StopPropagation}},
run(g){if(g.stamp<this.stamp)return g.StopPropagation;let z;this.skip()?(this.skip(!1),z=0):z=this.evaluate(g);return this.pulse=z||g}};let ca=0;rb.prototype={_filter:l.truthy,_apply:l.identity,targets(){return this._targets||(this._targets=Cb(l.id))},consume(g){if(!arguments.length)return!!this._consume;this._consume=!!g;return this},receive(g){if(this._filter(g)){const z=this.value=this._apply(g),m=this._targets,E=m?m.length:0;for(let h=0;h<E;++h)m[h].receive(z);this._consume&&(g.preventDefault(),
g.stopPropagation())}},filter(g){g=Fb(g);this.targets().add(g);return g},apply(g){g=Fb(null,g);this.targets().add(g);return g},merge(){const g=Fb();this.targets().add(g);for(let z=0,m=arguments.length;z<m;++z)arguments[z].targets().add(g);return g},throttle(g){let z=-1;return this.filter(()=>{const m=Date.now();return m-z>g?(z=m,1):0})},debounce(g){const z=Fb();this.targets().add(Fb(null,null,l.debounce(g,m=>{const E=m.dataflow;z.receive(m);E&&E.run&&E.run()})));return z},between(g,z){let m=!1;g.targets().add(Fb(null,
null,()=>m=!0));z.targets().add(Fb(null,null,()=>m=!1));return this.filter(()=>m)},detach(){this._filter=l.truthy;this._targets=null}};const pa={skip:!0},x={};pb.prototype={StopPropagation:x,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(g){return(new pb(this.dataflow)).init(this,g)},clone(){const g=this.fork(7);g.add=g.add.slice();g.rem=g.rem.slice();g.mod=g.mod.slice();g.source&&(g.source=g.source.slice());return g.materialize(23)},addAll(){let g=this;
g.source&&g.add!==g.rem&&(g.rem.length||g.source.length!==g.add.length)&&(g=(new pb(this.dataflow)).init(this),g.add=g.source,g.rem=[]);return g},init(g,z){this.stamp=g.stamp;this.encode=g.encode;!g.fields||z&64||(this.fields=g.fields);z&1?(this.addF=g.addF,this.add=g.add):(this.addF=null,this.add=[]);z&2?(this.remF=g.remF,this.rem=g.rem):(this.remF=null,this.rem=[]);z&4?(this.modF=g.modF,this.mod=g.mod):(this.modF=null,this.mod=[]);z&32?this.source=this.srcF=null:(this.srcF=g.srcF,this.source=g.source,
g.cleans&&(this.cleans=g.cleans));return this},runAfter(g){this.dataflow.runAfter(g)},changed(g){g=g||7;return g&1&&this.add.length||g&2&&this.rem.length||g&4&&this.mod.length},reflow(g){if(g)return this.fork(7).reflow();g=this.add.length;const z=this.source&&this.source.length;z&&z!==g&&(this.mod=this.source,g&&this.filter(4,Da(this,1)));return this},clean(g){return arguments.length?(this.cleans=!!g,this):this.cleans},modifies(g){const z=this.fields||(this.fields={});l.isArray(g)?g.forEach(m=>z[m]=
!0):z[g]=!0;return this},modified(g,z){const m=this.fields;return(z||this.mod.length)&&m?arguments.length?l.isArray(g)?g.some(E=>m[E]):m[g]:!!m:!1},filter(g,z){g&1&&(this.addF=Ia(this.addF,z));g&2&&(this.remF=Ia(this.remF,z));g&4&&(this.modF=Ia(this.modF,z));g&16&&(this.srcF=Ia(this.srcF,z));return this},materialize(g){g=g||7;g&1&&this.addF&&(this.add=Na(this.add,this.addF),this.addF=null);g&2&&this.remF&&(this.rem=Na(this.rem,this.remF),this.remF=null);g&4&&this.modF&&(this.mod=Na(this.mod,this.modF),
this.modF=null);g&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(g,z){if(g&16)return l.visitArray(this.source,this.srcF,z),this;g&1&&l.visitArray(this.add,this.addF,z);g&2&&l.visitArray(this.rem,this.remF,z);g&4&&l.visitArray(this.mod,this.modF,z);const m=this.source;g&8&&m&&(g=this.add.length+this.mod.length,g!==m.length&&(g?l.visitArray(m,Da(this,5),z):l.visitArray(m,this.srcF,z)));return this}};l.inherits(kb,pb,{fork(g){const z=(new pb(this.dataflow)).init(this,
g&this.NO_FIELDS);void 0!==g&&(g&z.ADD&&this.visit(z.ADD,m=>z.add.push(m)),g&z.REM&&this.visit(z.REM,m=>z.rem.push(m)),g&z.MOD&&this.visit(z.MOD,m=>z.mod.push(m)));return z},changed(g){return this.changes&g},modified(g){const z=this.fields;return z&&this.changes&this.MOD?l.isArray(g)?g.some(m=>z[m]):z[g]:0},filter(){l.error("MultiPulse does not support filtering.")},materialize(){l.error("MultiPulse does not support materialization.")},visit(g,z){const m=this.pulses,E=m.length;let h=0;if(g&this.SOURCE)for(;h<
E;++h)m[h].visit(g,z);else for(;h<E;++h)m[h].stamp===this.stamp&&m[h].visit(g,z);return this}});const N={skip:!1,force:!1};Ob.prototype={stamp(){return this._clock},loader(g){return arguments.length?(this._loader=g,this):this._loader},locale(g){return arguments.length?(this._locale=g,this):this._locale},logger(g){return arguments.length?(this._log=g,this):this._log},error:Vb("error"),warn:Vb("warn"),info:Vb("info"),debug:Vb("debug"),logLevel:Vb("level"),cleanThreshold:1E4,add:function(g,z,m,E){let h=
1;g instanceof Sb||(g&&g.prototype instanceof Sb?g=new g:l.isFunction(g)?g=new Sb(null,g):(h=0,g=new Sb(g,z)));this.rank(g);h&&(E=m,m=z);m&&this.connect(g,g.parameters(m,E));this.touch(g);return g},connect:function(g,z){const m=g.rank,E=z.length;for(let h=0;h<E;++h)if(m<z[h].rank){this.rerank(g);break}},rank:function(g){g.rank=++this._rank},rerank:function(g){const z=[g];let m,E,h;for(;z.length;)if(this.rank(m=z.pop()),E=m._targets)for(h=E.length;0<=--h;)z.push(m=E[h]),m===g&&l.error("Cycle detected in dataflow graph.")},
pulse:function(g,z,m){this.touch(g,m||N);m=new pb(this,this._clock+(this._pulse?0:1));const E=g.pulse&&g.pulse.source||[];m.target=g;this._input[g.id]=z.pulse(m,E);return this},touch:function(g,z){z=z||N;this._pulse?this._enqueue(g):this._touched.add(g);z.skip&&g.skip(!0);return this},update:function(g,z,m){m=m||N;(g.set(z)||m.force)&&this.touch(g,m);return this},changeset:Ab,ingest:function(g,z,m){z=this.parse(z,m);return this.pulse(g,this.changeset().insert(z))},parse:function(g,z){const m=this.locale();
return R.read(g,z,m.timeParse,m.utcParse)},preload:function(g,z,m){const E=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const h=E._pending||Hb(E);h.requests+=1;const p=yield E.request(z,m);E.pulse(g,E.changeset().remove(l.truthy).insert(p.data||[]));h.done();return p})},request:function(g,z){const m=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let E=0,h;try{h=yield m.loader().load(g,{context:"dataflow",response:R.responseType(z&&z.type)});try{h=m.parse(h,
z)}catch(p){E=-2,m.warn("Data ingestion failed",g,p)}}catch(p){E=-1,m.warn("Loading failed",g,p)}return{data:h,status:E}})},events:function(g,z,m,E){const h=this,p=Fb(m,E);m=function(r){r.dataflow=h;try{p.receive(r)}catch(v){h.error(v)}finally{h.run()}};g="string"===typeof g&&"undefined"!==typeof document?document.querySelectorAll(g):l.array(g);E=g.length;for(let r=0;r<E;++r)g[r].addEventListener(z,m);return p},on:function(g,z,m,E,h){(g instanceof Sb?Lb:Bb)(this,g,z,m,E,h);return this},evaluate:function(g,
z,m){const E=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const h=[];if(E._pulse)return mb(E);E._pending&&(yield E._pending);z&&(yield Yb(E,z));if(!E._touched.length)return E.debug("Dataflow invoked, but nothing to do."),E;var p=++E._clock;E._pulse=new pb(E,p,g);E._touched.forEach(O=>E._enqueue(O,!0));E._touched=Cb(l.id);var r=0;let v,F,aa;try{for(;0<E._heap.size();)v=E._heap.pop(),v.rank!==v.qrank?E._enqueue(v,!0):(F=v.run(E._getPulse(v,g)),F.then?F=yield F:F.async&&(h.push(F.async),
F=x),F!==x&&v._targets&&v._targets.forEach(O=>E._enqueue(O)),++r)}catch(O){E._heap.clear(),aa=O}E._input={};E._pulse=null;E.debug(`Pulse ${p}: ${r} operators`);aa&&(E._postrun=[],E.error(aa));if(E._postrun.length)for(p=E._postrun.sort((O,u)=>u.priority-O.priority),E._postrun=[],r=0;r<p.length;++r)yield Yb(E,p[r].callback);m&&(yield Yb(E,m));h.length&&Promise.all(h).then(O=>E.runAsync(null,()=>{O.forEach(u=>{try{u(E)}catch(I){E.error(I)}})}));return E})},run:function(g,z,m){return this._pulse?mb(this):
(this.evaluate(g,z,m),this)},runAsync:function(g,z,m){const E=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;E._running;)yield E._running;const h=()=>E._running=null;(E._running=E.evaluate(g,z,m)).then(h,h);return E._running})},runAfter:function(g,z,m){if(this._pulse||z)this._postrun.push({priority:m||0,callback:g});else try{g(this)}catch(E){this.error(E)}},_enqueue:function(g,z){const m=g.stamp<this._clock;m&&(g.stamp=this._clock);if(m||z)g.qrank=g.rank,this._heap.push(g)},
_getPulse:function(g,z){const m=g.source,E=this._clock;return m&&l.isArray(m)?new kb(this,E,m.map(h=>h.pulse),z):this._input[g.id]||Ma(this._pulse,m&&m.pulse)}};l.inherits(ob,Sb,{run(g){if(g.stamp<this.stamp)return g.StopPropagation;let z;this.skip()?this.skip(!1):z=this.evaluate(g);z=z||g;z.then?z=z.then(m=>this.pulse=m):z!==g.StopPropagation&&(this.pulse=z);return z},evaluate(g){const z=this.marshall(g.stamp);g=this.transform(z,g);z.clear();return g},transform(){}});const S={};t.Dataflow=Ob;t.EventStream=
rb;t.MultiPulse=kb;t.Operator=Sb;t.Parameters=jc;t.Pulse=pb;t.Transform=ob;t.UniqueList=Cb;t.asyncCallback=Yb;t.changeset=Ab;t.definition=function(g){return(g=ra(g))&&g.Definition||null};t.derive=function(g){return zc(g,sc({}))};t.ingest=sc;t.isChangeSet=pc;t.isTuple=function(g){return!(!g||!g[Y])};t.rederive=zc;t.replace=function(g,z){z[Y]=g[Y];return z};t.stableCompare=function(g,z){return g?z?(m,E)=>g(m,E)||z(m)[Y]-z(E)[Y]:(m,E)=>g(m,E)||m[Y]-E[Y]:null};t.transform=ra;t.transforms=S;t.tupleid=
function(g){return g[Y]}})};
shadow$provide[29]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb):"function"===typeof define&&define.amd?define(["exports"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l(t.vega={}))})(this,function(t){function*l(m,E){if(null==E)for(var h of m)null!=h&&""!==h&&(h=+h)>=h&&(yield h);else{h=-1;for(let p of m)p=E(p,++h,m),null!=p&&""!==p&&(p=+p)>=p&&(yield p)}}function R(m,E){return null==m||null==E?NaN:m<E?-1:m>E?1:m>=E?0:NaN}function hb(m){return null===
m?NaN:+m}function*Cb(m,E){if(void 0===E)for(var h of m)null!=h&&(h=+h)>=h&&(yield h);else{h=-1;for(let p of m)null!=(p=E(p,++h,m))&&(p=+p)>=p&&(yield p)}}function Yb(m=R){if(m===R)return sc;if("function"!==typeof m)throw new TypeError("compare is not a function");return(E,h)=>{const p=m(E,h);return p||0===p?p:(0===m(h,h))-(0===m(E,E))}}function sc(m,E){return(null==m||!(m>=m))-(null==E||!(E>=E))||(m<E?-1:m>E?1:0)}function zc(m,E){let h;if(void 0===E)for(var p of m)null!=p&&(h<p||void 0===h&&p>=p)&&
(h=p);else{p=-1;for(let r of m)null!=(r=E(r,++p,m))&&(h<r||void 0===h&&r>=r)&&(h=r)}return h}function pc(m,E){let h;if(void 0===E)for(var p of m)null!=p&&(h>p||void 0===h&&p>=p)&&(h=p);else{p=-1;for(let r of m)null!=(r=E(r,++p,m))&&(h>r||void 0===h&&r>=r)&&(h=r)}return h}function Ab(m,E,h=0,p=Infinity,r){E=Math.floor(E);h=Math.floor(Math.max(0,h));p=Math.floor(Math.min(m.length-1,p));if(!(h<=E&&E<=p))return m;for(r=void 0===r?sc:Yb(r);p>h;){if(600<p-h){var v=p-h+1,F=E-h+1,aa=Math.log(v),O=.5*Math.exp(2*
aa/3);aa=.5*Math.sqrt(aa*O*(v-O)/v)*(0>F-v/2?-1:1);Ab(m,E,Math.max(h,Math.floor(E-F*O/v+aa)),Math.min(p,Math.floor(E+(v-F)*O/v+aa)),r)}v=m[E];F=h;O=p;jc(m,h,E);for(0<r(m[p],v)&&jc(m,h,p);F<O;){jc(m,F,O);++F;for(--O;0>r(m[F],v);)++F;for(;0<r(m[O],v);)--O}0===r(m[h],v)?jc(m,h,O):(++O,jc(m,O,p));O<=E&&(h=O+1);E<=O&&(p=O-1)}return m}function jc(m,E,h){const p=m[E];m[E]=m[h];m[h]=p}function Sb(m,E,h){m=Float64Array.from(Cb(m,h));if((h=m.length)&&!isNaN(E=+E)){if(0>=E||2>h)return pc(m);if(1<=E)return zc(m);
E*=h-1;h=Math.floor(E);var p=zc(Ab(m,h).subarray(0,h+1));m=pc(m.subarray(h+1));return p+(m-p)*(E-h)}}function Ua(m,E,h=hb){if((p=m.length)&&!isNaN(E=+E)){if(0>=E||2>p)return+h(m[0],0,m);if(1<=E)return+h(m[p-1],p-1,m);var p;E*=p-1;p=Math.floor(E);var r=+h(m[p],p,m);m=+h(m[p+1],p+1,m);return r+(m-r)*(E-p)}}function rb(m,E,h){const p=Float64Array.from(l(m,h));p.sort(R);return E.map(r=>Ua(p,r))}function Fb(m,E){return rb(m,[.25,.5,.75],E)}function Hb(m,E){const h=m.length;{var p=0;let v,F=0,aa=0;if(void 0===
E)for(var r of m)null!=r&&(r=+r)>=r&&(v=r-F,F+=v/++p,aa+=v*(r-F));else{r=-1;for(let O of m)null!=(O=E(O,++r,m))&&(O=+O)>=O&&(v=O-F,F+=v/++p,aa+=v*(O-F))}p=1<p?aa/(p-1):void 0}p=p?Math.sqrt(p):p;m=Fb(m,E);return 1.06*(Math.min(p,(m[2]-m[0])/1.34)||p||Math.abs(m[0])||1)*Math.pow(h,-.2)}function Bb(m,E){const h=m.length;let p=0,r=1,v,F;for(;m[p]===m[r];)++r;for(;r<h;){for(v=r+1;m[r]===m[v];)++v;if(m[r]-m[r-1]<E){for(F=r+(p+v-r-r>>1);F<r;)m[F++]=m[r];for(;F>r;)m[F--]=m[p]}p=r;r=v}return m}function Lb(m,
E){m=m||0;E=null==E?1:E;let h,p;if(g===g)h=g,g=NaN;else{do{h=2*t.random()-1;p=2*t.random()-1;var r=h*h+p*p}while(0===r||1<r);r=Math.sqrt(-2*Math.log(r)/r);h*=r;g=p*r}return m+h*E}function Wa(m,E,h){h=null==h?1:h;m=(m-(E||0))/h;return Math.exp(-.5*m*m)/(h*N)}function pb(m,E,h){m=(m-(E||0))/(null==h?1:h);E=Math.abs(m);37<E?h=0:(h=Math.exp(-E*E/2),7.07106781186547>E?(h*=(((((.0352624965998911*E+.700383064443688)*E+6.37396220353165)*E+33.912866078383)*E+112.079291497871)*E+221.213596169931)*E+220.206867912376,
h/=((((((.0883883476483184*E+1.75566716318264)*E+16.064177579207)*E+86.7807322029461)*E+296.564248779674)*E+637.333633378831)*E+793.826512519948)*E+440.413735824752):h=h/(E+1/(E+2/(E+3/(E+4/(E+.65)))))/2.506628274631);return 0<m?1-h:h}function Na(m,E,h){if(0>m||1<m)return NaN;m=2*m-1;var p=-Math.log((1-m)*(1+m));6.25>p?(p-=3.125,p=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+(4.2347877827932404E-7+
(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*p)*p)*p)*p)*p)*p)*p)*p)*p)*p)*p)*p)*p)*p)*p)*p)*p)*p)*p)*p)*p)*p):16>p?(p=Math.sqrt(p)-3.25,p=3.0838856104922208+(1.0052589676941592+(.005370914553590064+
(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*p)*p)*p)*p)*p)*p)*p)*p)*p)*p)*p)*p)*p)*p)*p)*p)*p)*p):Number.isFinite(p)?(p=Math.sqrt(p)-5,p=4.849906401408584+(1.0103004648645344+(-1.3871931833623122E-4+
(-2.1503011930044477E-4+(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*p)*p)*p)*p)*p)*p)*p)*p)*p)*p)*p)*p)*p)*p)*p)*p):p=Infinity;return(E||0)+(null==h?1:h)*S*p*m}function Da(m,E){let h,p;const r={mean(v){return arguments.length?(h=v||0,r):h},stdev(v){return arguments.length?
(p=null==v?1:v,r):p},sample:()=>Lb(h,p),pdf:v=>Wa(v,h,p),cdf:v=>pb(v,h,p),icdf:v=>Na(v,h,p)};return r.mean(m).stdev(E)}function Ia(m,E){E=null==E?1:E;return Math.exp((m||0)+Lb()*E)}function kb(m,E,h){if(0>=m)return 0;h=null==h?1:h;E=(Math.log(m)-(E||0))/h;return Math.exp(-.5*E*E)/(h*N*m)}function mb(m,E,h){return pb(Math.log(m),E,h)}function Ma(m,E,h){return Math.exp(Na(m,E,h))}function vb(m,E){null==E&&(E=null==m?1:m,m=0);return m+(E-m)*t.random()}function qb(m,E,h){null==h&&(h=null==E?1:E,E=0);
return m>=E&&m<=h?1/(h-E):0}function Ob(m,E,h){null==h&&(h=null==E?1:E,E=0);return m<E?0:m>h?1:(m-E)/(h-E)}function Vb(m,E,h){null==h&&(h=null==E?1:E,E=0);return 0<=m&&1>=m?E+m*(h-E):NaN}function ob(m,E,h){let p=0,r=0;for(const v of m)m=h(v),null==E(v)||null==m||isNaN(m)||(p+=(m-p)/++r);return{coef:[p],predict:()=>p,rSquared:0}}function ra(m,E,h,p){p-=m*m;h=1E-24>Math.abs(p)?0:(h-m*E)/p;return[E-h*m,h]}function Y(m,E,h,p){m=m.filter(va=>{let La=E(va);va=h(va);return null!=La&&(La=+La)>=La&&null!=
va&&(va=+va)>=va});p&&m.sort((va,La)=>E(va)-E(La));p=m.length;const r=new Float64Array(p),v=new Float64Array(p);let F=0,aa=0,O=0,u,I;for(I of m)r[F]=m=+E(I),v[F]=u=+h(I),++F,aa+=(m-aa)/F,O+=(u-O)/F;for(F=0;F<p;++F)r[F]-=aa,v[F]-=O;return[r,v,aa,O]}function Ea(m,E,h,p){let r=-1,v;for(const F of m)m=E(F),v=h(F),null!=m&&(m=+m)>=m&&null!=v&&(v=+v)>=v&&p(m,v,++r)}function Ga(m,E,h,p,r){let v=0,F=0;Ea(m,E,h,(aa,O)=>{aa=O-r(aa);O-=p;v+=aa*aa;F+=O*O});return 1-v/F}function cb(m,E,h){let p=0,r=0,v=0,F=0,
aa=0;Ea(m,E,h,(I,va)=>{++aa;p+=(I-p)/aa;r+=(va-r)/aa;v+=(I*va-v)/aa;F+=(I*I-F)/aa});const O=ra(p,r,v,F),u=I=>O[0]+O[1]*I;return{coef:O,predict:u,rSquared:Ga(m,E,h,r,u)}}function ca(m,E,h){const [p,r,v,F]=Y(m,E,h);var aa=p.length,O=0;let u=0;var I=0;let va=0,La=0,Xa,ab,Z,Ca;for(Xa=0;Xa<aa;)ab=p[Xa],Z=r[Xa++],Ca=ab*ab,O+=(Ca-O)/Xa,u+=(Ca*ab-u)/Xa,I+=(Ca*Ca-I)/Xa,va+=(ab*Z-va)/Xa,La+=(Ca*Z-La)/Xa;aa=I-O*O;I=O*aa-u*u;const Ya=(La*O-va*u)/I,Kb=(va*aa-La*u)/I,xc=-Ya*O;O=rc=>{rc-=v;return Ya*rc*rc+Kb*rc+
xc+F};return{coef:[xc-Kb*v+Ya*v*v+F,Kb-2*Ya*v,Ya],predict:O,rSquared:Ga(m,E,h,F,O)}}function pa(m,E,h,p){const r=Array(m);let v,F,aa;for(v=0;v<m;++v)r[v]=0;for(v=m-1;0<=v;--v)for(F=E[v],aa=1,r[v]+=F,m=1;m<=v;++m)aa*=(v+1-m)/m,r[v-m]+=F*Math.pow(h,m)*aa;r[0]+=p;return r}function x(m){const E=m.length-1,h=[];let p,r,v,F,aa;for(p=0;p<E;++p){F=p;for(r=p+1;r<E;++r)Math.abs(m[p][r])>Math.abs(m[p][F])&&(F=r);for(v=p;v<E+1;++v)aa=m[v][p],m[v][p]=m[v][F],m[v][F]=aa;for(r=p+1;r<E;++r)for(v=E;v>=p;v--)m[v][r]-=
m[v][p]*m[p][r]/m[p][p]}for(r=E-1;0<=r;--r){aa=0;for(v=r+1;v<E;++v)aa+=m[v][r]*h[v];h[r]=(m[E][r]-aa)/m[r][r]}return h}t.random=Math.random;const N=Math.sqrt(2*Math.PI),S=Math.SQRT2;let g=NaN;const z=.5*Math.PI/180;t.bandwidthNRD=Hb;t.bin=function(m){var E=m.maxbins||20;const h=m.base||10,p=Math.log(h),r=m.divide||[5,2];let v=m.extent[0],F=m.extent[1];let aa,O,u,I;const va=m.span||F-v||Math.abs(v)||1;if(m.step)var La=m.step;else if(m.steps){O=va/E;u=0;for(I=m.steps.length;u<I&&m.steps[u]<O;++u);La=
m.steps[Math.max(0,u-1)]}else{La=Math.ceil(Math.log(E)/p);aa=m.minstep||0;for(La=Math.max(aa,Math.pow(h,Math.round(Math.log(va)/p)-La));Math.ceil(va/La)>E;)La*=h;u=0;for(I=r.length;u<I;++u)O=La/r[u],O>=aa&&va/O<=E&&(La=O)}O=Math.log(La);E=Math.pow(h,-(0<=O?0:~~(-O/p)+1)-1);if(m.nice||void 0===m.nice)O=Math.floor(v/La+E)*La,v=v<O?O-La:O,F=Math.ceil(F/La)*La;return{start:v,stop:F===v?v+La:F,step:La}};t.bootstrapCI=function(m,E,h,p){if(!m.length)return[void 0,void 0];m=Float64Array.from(l(m,p));p=m.length;
let r,v,F,aa;F=0;for(aa=Array(E);F<E;++F){for(v=r=0;v<p;++v)r+=m[~~(t.random()*p)];aa[F]=r/p}aa.sort(R);return[Sb(aa,h/2),Sb(aa,1-h/2)]};t.cumulativeLogNormal=mb;t.cumulativeNormal=pb;t.cumulativeUniform=Ob;t.densityLogNormal=kb;t.densityNormal=Wa;t.densityUniform=qb;t.dotbin=function(m,E,h,p){p=p||(La=>La);const r=m.length,v=new Float64Array(r);let F=0,aa=1,O=p(m[0]),u=O,I=O+E,va;for(;aa<r;++aa){va=p(m[aa]);if(va>=I){for(u=(O+u)/2;F<aa;++F)v[F]=u;I=va+E;O=va}u=va}for(u=(O+u)/2;F<aa;++F)v[F]=u;return h?
Bb(v,E+E/4):v};t.quantileLogNormal=Ma;t.quantileNormal=Na;t.quantileUniform=Vb;t.quantiles=rb;t.quartiles=Fb;t.randomInteger=function(m,E){null==E&&(E=m,m=0);let h,p,r;const v={min(F){return arguments.length?(h=F||0,r=p-h,v):h},max(F){return arguments.length?(p=F||0,r=p-h,v):p},sample(){return h+Math.floor(r*t.random())},pdf(F){return F===Math.floor(F)&&F>=h&&F<p?1/r:0},cdf(F){F=Math.floor(F);return F<h?0:F>=p?1:(F-h+1)/r},icdf(F){return 0<=F&&1>=F?h-1+Math.floor(F*r):NaN}};return v.min(m).max(E)};
t.randomKDE=function(m,E){const h=Da();let p=0;const r={data(v){return arguments.length?(p=(m=v)?v.length:0,r.bandwidth(E)):m},bandwidth(v){if(!arguments.length)return E;E=v;!E&&m&&(E=Hb(m));return r},sample(){return m[~~(t.random()*p)]+E*h.sample()},pdf(v){let F=0,aa=0;for(;aa<p;++aa)F+=h.pdf((v-m[aa])/E);return F/E/p},cdf(v){let F=0,aa=0;for(;aa<p;++aa)F+=h.cdf((v-m[aa])/E);return F/p},icdf(){throw Error("KDE icdf not supported.");}};return r.data(m)};t.randomLCG=function(m){return function(){m=
(1103515245*m+12345)%2147483647;return m/2147483647}};t.randomLogNormal=function(m,E){let h,p;const r={mean(v){return arguments.length?(h=v||0,r):h},stdev(v){return arguments.length?(p=null==v?1:v,r):p},sample:()=>Ia(h,p),pdf:v=>kb(v,h,p),cdf:v=>mb(v,h,p),icdf:v=>Ma(v,h,p)};return r.mean(m).stdev(E)};t.randomMixture=function(m,E){let h=0,p;const r={weights(v){if(arguments.length){var F=E=v||[];const aa=[];let O=0,u;for(u=0;u<h;++u)O+=aa[u]=null==F[u]?1:+F[u];for(u=0;u<h;++u)aa[u]/=O;p=aa;return r}return E},
distributions(v){return arguments.length?(v?(h=v.length,m=v):(h=0,m=[]),r.weights(E)):m},sample(){const v=t.random();let F=m[h-1],aa=p[0],O=0;for(;O<h-1;aa+=p[++O])if(v<aa){F=m[O];break}return F.sample()},pdf(v){let F=0,aa=0;for(;aa<h;++aa)F+=p[aa]*m[aa].pdf(v);return F},cdf(v){let F=0,aa=0;for(;aa<h;++aa)F+=p[aa]*m[aa].cdf(v);return F},icdf(){throw Error("Mixture icdf not supported.");}};return r.distributions(m).weights(E)};t.randomNormal=Da;t.randomUniform=function(m,E){let h,p;const r={min(v){return arguments.length?
(h=v||0,r):h},max(v){return arguments.length?(p=null==v?1:v,r):p},sample:()=>vb(h,p),pdf:v=>qb(v,h,p),cdf:v=>Ob(v,h,p),icdf:v=>Vb(v,h,p)};null==E&&(E=null==m?1:m,m=0);return r.min(m).max(E)};t.regressionConstant=ob;t.regressionExp=function(m,E,h){const [p,,r,v]=Y(m,E,h);let F=0,aa=0,O=0,u=0,I=0,va,La,Xa;Ea(m,E,h,(Ya,Kb)=>{va=p[I++];La=Math.log(Kb);Xa=va*Kb;F+=(Kb*La-F)/I;aa+=(Xa-aa)/I;O+=(Xa*La-O)/I;u+=(va*Xa-u)/I});const [ab,Z]=ra(aa/v,F/v,O/v,u/v),Ca=Ya=>Math.exp(ab+Z*(Ya-r));return{coef:[Math.exp(ab-
Z*r),Z],predict:Ca,rSquared:Ga(m,E,h,v,Ca)}};t.regressionLinear=cb;t.regressionLoess=function(m,E,h,p){const [r,v,F,aa]=Y(m,E,h,!0);m=r.length;E=Math.max(2,~~(p*m));p=new Float64Array(m);h=new Float64Array(m);var O=(new Float64Array(m)).fill(1);for(var u=-1;2>=++u;){var I=[0,E-1];for(let xc=0;xc<m;++xc){var va=r[xc],La=I[0],Xa=I[1],ab=0,Z=0,Ca=0,Ya=0;let rc=0;const yc=1/Math.abs(r[va-r[La]>r[Xa]-va?La:Xa]-va||1);for(;La<=Xa;++La){const Rc=r[La],Pd=v[La];var Kb=Math.abs(va-Rc)*yc;const Pa=(Kb=1-Kb*
Kb*Kb)*Kb*Kb*O[La];Kb=Rc*Pa;ab+=Pa;Z+=Kb;Ca+=Pd*Pa;Ya+=Pd*Kb;rc+=Rc*Kb}const [dd,$b]=ra(Z/ab,Ca/ab,Ya/ab,rc/ab);p[xc]=dd+$b*va;h[xc]=Math.abs(v[xc]-p[xc]);va=r;Xa=xc+1;ab=I;Z=va[Xa];Ca=ab[0];Ya=ab[1]+1;if(!(Ya>=va.length))for(;Xa>Ca&&va[Ya]-Z<=Z-va[Ca];)ab[0]=++Ca,ab[1]=Ya,++Ya}if(2===u)break;I=Sb(h,.5,void 0);if(1E-12>Math.abs(I))break;for(let xc=0,rc,yc;xc<m;++xc)rc=h[xc]/(6*I),O[xc]=1<=rc?1E-12:(yc=1-rc*rc)*yc}m=r.length;E=[];O=h=0;for(u=[];h<m;++h)I=r[h]+F,u[0]===I?u[1]+=(p[h]-u[1])/++O:(O=0,
u[1]+=aa,u=[I,p[h]],E.push(u));u[1]+=aa;return E};t.regressionLog=function(m,E,h){let p=0,r=0,v=0,F=0,aa=0;Ea(m,E,h,(I,va)=>{++aa;I=Math.log(I);p+=(I-p)/aa;r+=(va-r)/aa;v+=(I*va-v)/aa;F+=(I*I-F)/aa});const O=ra(p,r,v,F),u=I=>O[0]+O[1]*Math.log(I);return{coef:O,predict:u,rSquared:Ga(m,E,h,r,u)}};t.regressionPoly=function(m,E,h,p){if(0===p)return ob(m,E,h);if(1===p)return cb(m,E,h);if(2===p)return ca(m,E,h);const [r,v,F,aa]=Y(m,E,h);var O=r.length;const u=[],I=[],va=p+1;let La,Xa,ab,Z;for(La=0;La<va;++La){for(ab=
Xa=0;Xa<O;++Xa)ab+=Math.pow(r[Xa],La)*v[Xa];u.push(ab);Z=new Float64Array(va);for(p=0;p<va;++p){for(ab=Xa=0;Xa<O;++Xa)ab+=Math.pow(r[Xa],La+p);Z[p]=ab}I.push(Z)}I.push(u);const Ca=x(I);O=Ya=>{Ya-=F;let Kb=aa+Ca[0]+Ca[1]*Ya+Ca[2]*Ya*Ya;for(La=3;La<va;++La)Kb+=Ca[La]*Math.pow(Ya,La);return Kb};return{coef:pa(va,Ca,-F,aa),predict:O,rSquared:Ga(m,E,h,aa,O)}};t.regressionPow=function(m,E,h){let p=0,r=0,v=0,F=0,aa=0,O=0;Ea(m,E,h,(va,La)=>{va=Math.log(va);const Xa=Math.log(La);++O;p+=(va-p)/O;r+=(Xa-r)/
O;v+=(va*Xa-v)/O;F+=(va*va-F)/O;aa+=(La-aa)/O});const u=ra(p,r,v,F),I=va=>u[0]*Math.pow(va,u[1]);u[0]=Math.exp(u[0]);return{coef:u,predict:I,rSquared:Ga(m,E,h,aa,I)}};t.regressionQuad=ca;t.sampleCurve=function(m,E,h,p){h=h||25;p=Math.max(h,p||200);var r=E[0],v=E[1],F=v-r,aa=F/p;E=[[r,m(r)]];var O=[];if(h===p){for(var u=1;u<p;++u){aa=E;O=aa.push;var I=r+u/h*F;I=[I,m(I)];O.call(aa,I)}E.push([v,m(v)]);return E}O.push([v,m(v)]);for(u=h;0<--u;)p=O,v=p.push,I=r+u/h*F,I=[I,m(I)],v.call(p,I);h=E[0];r=O[O.length-
1];F=1/F;p=v=h[1];u=O.length;for(I=0;I<u;++I){const va=O[I][1];va<p&&(p=va);va>v&&(v=va)}for(p=1/(v-p);r;)v=(h[0]+r[0])/2,v=[v,m(v)],v[0]-h[0]>=aa&&Math.abs(Math.atan2(p*(r[1]-h[1]),F*(r[0]-h[0]))-Math.atan2(p*(v[1]-h[1]),F*(v[0]-h[0])))>z?O.push(v):(h=r,E.push(r),O.pop()),r=O[O.length-1];return E};t.sampleLogNormal=Ia;t.sampleNormal=Lb;t.sampleUniform=vb;t.setRandom=function(m){t.random=m}})};
shadow$provide[30]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(20),Eb(28),Eb(29),Eb(22)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow","vega-statistics","vega-time"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l(t.vega={},t.vega,t.vega,t.vega,t.vega))})(this,function(t,l,R,hb,Cb){function Yb(P){return na=>{const Aa=P.length;let fb=1,Jb=String(P[0](na));for(;fb<Aa;++fb)Jb+="|"+P[fb](na);return Jb}}function sc(P){return P&&
P.length?1===P.length?P[0]:Yb(P):function(){return""}}function zc(P,na){return Aa=>l.extend({name:P,out:Aa||P},kc,na)}function pc(P,na){return P.idx-na.idx}function Ab(P){const na={};P.forEach(fb=>na[fb.name]=fb);const Aa=fb=>{fb.req&&fb.req.forEach(Jb=>{na[Jb]||Aa(na[Jb]=Sc[Jb]())})};P.forEach(Aa);return Object.values(na).sort(pc)}function jc(){this.missing=this.valid=0;this._ops.forEach(P=>P.init(this))}function Sb(P,na){null==P||""===P?++this.missing:P===P&&(++this.valid,this._ops.forEach(Aa=>
Aa.add(this,P,na)))}function Ua(P,na){null==P||""===P?--this.missing:P===P&&(--this.valid,this._ops.forEach(Aa=>Aa.rem(this,P,na)))}function rb(P){this._out.forEach(na=>P[na.out]=na.value(this));return P}function Fb(P,na){function Aa(Zb){this._ops=fb;this._out=Jb;this.cell=Zb;this.init()}na=na||l.identity;const fb=Ab(P),Jb=P.slice().sort(pc);Aa.prototype.init=jc;Aa.prototype.add=Sb;Aa.prototype.rem=Ua;Aa.prototype.set=rb;Aa.prototype.get=na;Aa.fields=P.map(Zb=>Zb.out);return Aa}function Hb(P){this._key=
P?l.field(P):R.tupleid;this.reset()}function Bb(P){R.Transform.call(this,null,P);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function Lb(P){R.Transform.call(this,null,P)}function Wa(P,na,Aa){let fb=na||[],Jb=Aa||[],Zb={},Cc=0;return{add:mc=>Jb.push(mc),remove:mc=>Zb[P(mc)]=++Cc,size:()=>fb.length,data:(mc,Hc)=>{Cc&&(fb=fb.filter(jd=>!Zb[P(jd)]),
Zb={},Cc=0);Hc&&mc&&fb.sort(mc);Jb.length&&(fb=mc?l.merge(mc,fb,Jb.sort(mc)):fb.concat(Jb),Jb=[]);return fb}}}function pb(P){R.Transform.call(this,[],P)}function Na(P){R.Operator.call(this,null,Da,P)}function Da(P){return this.value&&!P.modified()?this.value:l.compare(P.fields,P.orders)}function Ia(P){R.Transform.call(this,null,P)}function kb(P){R.Transform.call(this,null,P)}function mb(P,na){var Aa=P["function"];l.hasOwnProperty(Qd,Aa)||l.error("Unknown distribution function: "+Aa);Aa=Qd[Aa]();for(const fb in P)if("field"===
fb)Aa.data((P.from||na()).map(P[fb]));else if("distributions"===fb)Aa[fb](P[fb].map(Jb=>mb(Jb,na)));else if("function"===typeof Aa[fb])Aa[fb](P[fb]);return Aa}function Ma(P){R.Transform.call(this,null,P)}function vb(P){return()=>P.materialize(P.SOURCE).source}function qb(P,na){return P?P.map((Aa,fb)=>na[fb]||l.accessorName(Aa)):null}function Ob(P,na,Aa){const fb=[],Jb=vd=>vd(Hc);let Zb,Cc,mc,Hc,jd,Nc;if(null==na)fb.push(P.map(Aa));else for(Zb={},Cc=0,mc=P.length;Cc<mc;++Cc)Hc=P[Cc],jd=na.map(Jb),
Nc=Zb[jd],Nc||(Zb[jd]=Nc=[],Nc.dims=jd,fb.push(Nc)),Nc.push(Aa(Hc));return fb}function Vb(P){R.Transform.call(this,null,P)}function ob(P){R.Operator.call(this,null,ra,P);this.modified(!0)}function ra(P){const na=P.expr;return this.value&&!P.modified("expr")?this.value:l.accessor(Aa=>na(Aa,P),l.accessorFields(na),l.accessorName(na))}function Y(P){R.Transform.call(this,[void 0,void 0],P)}function Ea(P,na){R.Operator.call(this,P);this.parent=na;this.count=0}function Ga(P){R.Transform.call(this,{},P);
this._keys=l.fastmap();const na=this._targets=[];na.active=0;na.forEach=Aa=>{for(let fb=0,Jb=na.active;fb<Jb;++fb)Aa(na[fb],fb,na)}}function cb(P){R.Operator.call(this,null,ca,P)}function ca(P){return this.value&&!P.modified()?this.value:l.isArray(P.name)?l.array(P.name).map(na=>l.field(na)):l.field(P.name,P.as)}function pa(P){R.Transform.call(this,l.fastmap(),P)}function x(P){R.Transform.call(this,[],P)}function N(P){R.Transform.call(this,[],P)}function S(P){R.Transform.call(this,null,P)}function g(P){R.Transform.call(this,
[],P)}function z(P,na){return null==P||null==na?NaN:P<na?-1:P>na?1:P>=na?0:NaN}function m(P,na){return null==P||null==na?NaN:na<P?-1:na>P?1:na>=P?0:NaN}function E(P){function na(Zb,Cc,mc=0,Hc=Zb.length){if(mc<Hc){if(0!==Aa(Cc,Cc))return Hc;do{const jd=mc+Hc>>>1;0>fb(Zb[jd],Cc)?mc=jd+1:Hc=jd}while(mc<Hc)}return mc}let Aa,fb,Jb;2!==P.length?(Aa=z,fb=(Zb,Cc)=>z(P(Zb),Cc),Jb=(Zb,Cc)=>P(Zb)-Cc):(Aa=P===z||P===m?P:h,Jb=fb=P);return{left:na,center:function(Zb,Cc,mc=0,Hc=Zb.length){Hc=na(Zb,Cc,mc,Hc-1);return Hc>
mc&&Jb(Zb[Hc-1],Cc)>-Jb(Zb[Hc],Cc)?Hc-1:Hc},right:function(Zb,Cc,mc=0,Hc=Zb.length){if(mc<Hc){if(0!==Aa(Cc,Cc))return Hc;do{const jd=mc+Hc>>>1;0>=fb(Zb[jd],Cc)?mc=jd+1:Hc=jd}while(mc<Hc)}return mc}}}function h(){return 0}function*p(P,na){if(void 0===na)for(var Aa of P)null!=Aa&&(Aa=+Aa)>=Aa&&(yield Aa);else{Aa=-1;for(let fb of P)null!=(fb=na(fb,++Aa,P))&&(fb=+fb)>=fb&&(yield fb)}}function r(P=z){if(P===z)return v;if("function"!==typeof P)throw new TypeError("compare is not a function");return(na,
Aa)=>{const fb=P(na,Aa);return fb||0===fb?fb:(0===P(Aa,Aa))-(0===P(na,na))}}function v(P,na){return(null==P||!(P>=P))-(null==na||!(na>=na))||(P<na?-1:P>na?1:0)}function F(P,na){let Aa;if(void 0===na)for(var fb of P)null!=fb&&(Aa<fb||void 0===Aa&&fb>=fb)&&(Aa=fb);else{fb=-1;for(let Jb of P)null!=(Jb=na(Jb,++fb,P))&&(Aa<Jb||void 0===Aa&&Jb>=Jb)&&(Aa=Jb)}return Aa}function aa(P,na){let Aa;if(void 0===na)for(var fb of P)null!=fb&&(Aa>fb||void 0===Aa&&fb>=fb)&&(Aa=fb);else{fb=-1;for(let Jb of P)null!=
(Jb=na(Jb,++fb,P))&&(Aa>Jb||void 0===Aa&&Jb>=Jb)&&(Aa=Jb)}return Aa}function O(P,na,Aa=0,fb=Infinity,Jb){na=Math.floor(na);Aa=Math.floor(Math.max(0,Aa));fb=Math.floor(Math.min(P.length-1,fb));if(!(Aa<=na&&na<=fb))return P;for(Jb=void 0===Jb?v:r(Jb);fb>Aa;){if(600<fb-Aa){var Zb=fb-Aa+1,Cc=na-Aa+1,mc=Math.log(Zb),Hc=.5*Math.exp(2*mc/3);mc=.5*Math.sqrt(mc*Hc*(Zb-Hc)/Zb)*(0>Cc-Zb/2?-1:1);O(P,na,Math.max(Aa,Math.floor(na-Cc*Hc/Zb+mc)),Math.min(fb,Math.floor(na+(Zb-Cc)*Hc/Zb+mc)),Jb)}Zb=P[na];Cc=Aa;Hc=
fb;u(P,Aa,na);for(0<Jb(P[fb],Zb)&&u(P,Aa,fb);Cc<Hc;){u(P,Cc,Hc);++Cc;for(--Hc;0>Jb(P[Cc],Zb);)++Cc;for(;0<Jb(P[Hc],Zb);)--Hc}0===Jb(P[Aa],Zb)?u(P,Aa,Hc):(++Hc,u(P,Hc,fb));Hc<=na&&(Aa=Hc+1);na<=Hc&&(fb=Hc-1)}return P}function u(P,na,Aa){const fb=P[na];P[na]=P[Aa];P[Aa]=fb}function I(P,na,Aa){P=+P;na=+na;Aa=2>(Jb=arguments.length)?(na=P,P=0,1):3>Jb?1:+Aa;for(var fb=-1,Jb=Math.max(0,Math.ceil((na-P)/Aa))|0,Zb=Array(Jb);++fb<Jb;)Zb[fb]=P+fb*Aa;return Zb}function va(P){R.Transform.call(this,[],P)}function La(P){var na=
P.method||Ed.value;if(null==Ed[na])l.error("Unrecognized imputation method: "+na);else{if(na===Ed.value){var Aa=void 0!==P.value?P.value:0;return()=>Aa}return Ed[na]}}function Xa(P){const na=P.field;return Aa=>Aa?na(Aa):NaN}function ab(P,na,Aa,fb){var Jb=Od=>Od(vd),Zb=[];fb=fb?fb.slice():[];var Cc={},mc={},Hc,jd;fb.forEach((Od,qe)=>Cc[Od]=qe+1);var Nc=0;for(jd=P.length;Nc<jd;++Nc){var vd=P[Nc];var Gd=Aa(vd);var Fd=Cc[Gd]||(Cc[Gd]=fb.push(Gd));var Xd=(Gd=na?na.map(Jb):Yd)+"";(Hc=mc[Xd])||(Hc=mc[Xd]=
[],Zb.push(Hc),Hc.values=Gd);Hc[Fd-1]=vd}Zb.domain=fb;return Zb}function Z(P){Bb.call(this,P)}function Ca(P){R.Transform.call(this,null,P)}function Ya(P){R.Operator.call(this,null,Kb,P)}function Kb(P){return this.value&&!P.modified()?this.value:l.key(P.fields,P.flat)}function xc(P){R.Transform.call(this,[],P);this._pending=null}function rc(P){return P.modified("async")&&!(P.modified("values")||P.modified("url")||P.modified("format"))}function yc(P,na,Aa){Aa.forEach(R.ingest);na=na.fork(na.NO_FIELDS&
na.NO_SOURCE);na.rem=P.value;P.value=na.source=na.add=Aa;P._pending=null;na.rem.length&&na.clean(!0);return na}function dd(P){R.Transform.call(this,{},P)}function $b(P){R.Operator.call(this,null,Rc,P)}function Rc(P){if(this.value&&!P.modified())return this.value;P=P.extents;const na=P.length;let Aa=Infinity,fb=-Infinity,Jb,Zb;for(Jb=0;Jb<na;++Jb)Zb=P[Jb],Zb[0]<Aa&&(Aa=Zb[0]),Zb[1]>fb&&(fb=Zb[1]);return[Aa,fb]}function Pd(P){R.Operator.call(this,null,Pa,P)}function Pa(P){return this.value&&!P.modified()?
this.value:P.values.reduce((na,Aa)=>na.concat(Aa),[])}function Wb(P){R.Transform.call(this,null,P)}function sb(P){Bb.call(this,P)}function Tb(P,na){const Aa=P.field,fb=P.value,Jb=("count"===P.op?"__count__":P.op)||"sum",Zb=l.accessorFields(Aa).concat(l.accessorFields(fb)),Cc=dc(Aa,P.limit||0,na);na.changed()&&P.set("__pivot__",null,null,!0);return{key:P.key,groupby:P.groupby,ops:Cc.map(()=>Jb),fields:Cc.map(mc=>ic(mc,Aa,fb,Zb)),as:Cc.map(mc=>mc+""),modified:P.modified.bind(P)}}function ic(P,na,Aa,
fb){return l.accessor(Jb=>na(Jb)===P?Aa(Jb):NaN,fb,P+"")}function dc(P,na,Aa){const fb={},Jb=[];Aa.visit(Aa.SOURCE,Zb=>{Zb=P(Zb);fb[Zb]||(fb[Zb]=1,Jb.push(Zb))});Jb.sort(l.ascending);return na?Jb.slice(0,na):Jb}function Ic(P){Ga.call(this,P)}function Ac(P){R.Transform.call(this,null,P)}function Zc(P){R.Transform.call(this,null,P)}function Nd(P){R.Transform.call(this,null,P)}function ud(P){R.Transform.call(this,null,P)}function Ha(P){R.Transform.call(this,[],P);this.count=0}function gb(P){R.Transform.call(this,
null,P)}function wb(P){R.Transform.call(this,null,P);this.modified(!0)}function ua(P){R.Transform.call(this,null,P)}function H(P){R.Transform.call(this,l.fastmap(),P)}function za(P){R.Transform.call(this,null,P)}function Qa(P,na,Aa,fb){const Jb=Ud[P](na,Aa);return{init:Jb.init||l.zero,update:function(Zb,Cc){Cc[fb]=Jb.next(Zb)}}}function $a(P){function na(Fd){l.array(l.accessorFields(Fd)).forEach(Xd=>Hc[Xd]=1)}const Aa=l.array(P.ops),fb=l.array(P.fields),Jb=l.array(P.params),Zb=l.array(P.as),Cc=this.outputs=
[],mc=this.windows=[],Hc={},jd={},Nc=[],vd=[];let Gd=!0;na(P.sort);Aa.forEach((Fd,Xd)=>{const Od=fb[Xd],qe=l.accessorName(Od),De=Zb[Xd]||Fd+(qe?"_"+qe:"");na(Od);Cc.push(De);l.hasOwnProperty(Ud,Fd)?mc.push(Qa(Fd,fb[Xd],Jb[Xd],De)):(null==Od&&"count"!==Fd&&l.error("Null aggregate field specified."),"count"===Fd?Nc.push(De):(Gd=!1,Xd=jd[qe],Xd||(Xd=jd[qe]=[],Xd.field=Od,vd.push(Xd)),Xd.push(Sc[Fd](De))))});if(Nc.length||vd.length)this.cell=lb(vd,Nc,Gd);this.inputs=Object.keys(Hc)}function lb(P,na,Aa){P=
P.map(Hc=>Fb(Hc,Hc.field));const fb={num:0,agg:null,store:!1,count:na};if(!Aa)for(var Jb=P.length,Zb=fb.agg=Array(Jb),Cc=0;Cc<Jb;++Cc)Zb[Cc]=new P[Cc](fb);if(fb.store)var mc=fb.data=new Hb;fb.add=function(Hc){fb.num+=1;if(!Aa){mc&&mc.add(Hc);for(let jd=0;jd<Jb;++jd)Zb[jd].add(Zb[jd].get(Hc),Hc)}};fb.rem=function(Hc){--fb.num;if(!Aa){mc&&mc.rem(Hc);for(let jd=0;jd<Jb;++jd)Zb[jd].rem(Zb[jd].get(Hc),Hc)}};fb.set=function(Hc){let jd,Nc;mc&&mc.values();jd=0;for(Nc=na.length;jd<Nc;++jd)Hc[na[jd]]=fb.num;
if(!Aa)for(jd=0,Nc=Zb.length;jd<Nc;++jd)Zb[jd].set(Hc)};fb.init=function(){fb.num=0;mc&&mc.reset();for(let Hc=0;Hc<Jb;++Hc)Zb[Hc].init()};return fb}function Gb(P){R.Transform.call(this,{},P);this._mlen=0;this._mods=[]}function oc(P,na,Aa,fb){var Jb=fb.sort;const Zb=Jb&&!fb.ignorePeers;fb=fb.frame||[null,0];P=P.data(Aa);Aa=P.length;const Cc=Zb?E(Jb):null;Jb={i0:0,i1:0,p0:0,p1:0,index:0,data:P,compare:Jb||l.constant(-1)};na.init();for(let vd=0;vd<Aa;++vd){var mc=Jb,Hc=fb,jd=vd,Nc=Aa;mc.p0=mc.i0;mc.p1=
mc.i1;mc.i0=null==Hc[0]?0:Math.max(0,jd-Math.abs(Hc[0]));mc.i1=null==Hc[1]?Nc:Math.min(Nc,jd+Math.abs(Hc[1])+1);mc.index=jd;if(Zb){mc=Jb;Hc=Cc;jd=mc.i0;Nc=mc.i1-1;const Gd=mc.compare,Fd=mc.data,Xd=Fd.length-1;0<jd&&!Gd(Fd[jd],Fd[jd-1])&&(mc.i0=Hc.left(Fd,Fd[jd]));Nc<Xd&&!Gd(Fd[Nc],Fd[Nc+1])&&(mc.i1=Hc.right(Fd,Fd[Nc]))}na.update(Jb,P[vd])}}const ec=()=>{},kc={init:ec,add:ec,rem:ec,idx:0},Sc={values:{init:P=>P.cell.store=!0,value:P=>P.cell.data.values(),idx:-1},count:{value:P=>P.cell.num},__count__:{value:P=>
P.missing+P.valid},missing:{value:P=>P.missing},valid:{value:P=>P.valid},sum:{init:P=>P.sum=0,value:P=>P.sum,add:(P,na)=>P.sum+=+na,rem:(P,na)=>P.sum-=na},product:{init:P=>P.product=1,value:P=>P.valid?P.product:void 0,add:(P,na)=>P.product*=na,rem:(P,na)=>P.product/=na},mean:{init:P=>P.mean=0,value:P=>P.valid?P.mean:void 0,add:(P,na)=>(P.mean_d=na-P.mean,P.mean+=P.mean_d/P.valid),rem:(P,na)=>(P.mean_d=na-P.mean,P.mean-=P.valid?P.mean_d/P.valid:P.mean)},average:{value:P=>P.valid?P.mean:void 0,req:["mean"],
idx:1},variance:{init:P=>P.dev=0,value:P=>1<P.valid?P.dev/(P.valid-1):void 0,add:(P,na)=>P.dev+=P.mean_d*(na-P.mean),rem:(P,na)=>P.dev-=P.mean_d*(na-P.mean),req:["mean"],idx:1},variancep:{value:P=>1<P.valid?P.dev/P.valid:void 0,req:["variance"],idx:2},stdev:{value:P=>1<P.valid?Math.sqrt(P.dev/(P.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:P=>1<P.valid?Math.sqrt(P.dev/P.valid):void 0,req:["variance"],idx:2},stderr:{value:P=>1<P.valid?Math.sqrt(P.dev/(P.valid*(P.valid-1))):void 0,req:["variance"],
idx:2},distinct:{value:P=>P.cell.data.distinct(P.get),req:["values"],idx:3},ci0:{value:P=>P.cell.data.ci0(P.get),req:["values"],idx:3},ci1:{value:P=>P.cell.data.ci1(P.get),req:["values"],idx:3},median:{value:P=>P.cell.data.q2(P.get),req:["values"],idx:3},q1:{value:P=>P.cell.data.q1(P.get),req:["values"],idx:3},q3:{value:P=>P.cell.data.q3(P.get),req:["values"],idx:3},min:{init:P=>P.min=void 0,value:P=>P.min=Number.isNaN(P.min)?P.cell.data.min(P.get):P.min,add:(P,na)=>{if(na<P.min||void 0===P.min)P.min=
na},rem:(P,na)=>{na<=P.min&&(P.min=NaN)},req:["values"],idx:4},max:{init:P=>P.max=void 0,value:P=>P.max=Number.isNaN(P.max)?P.cell.data.max(P.get):P.max,add:(P,na)=>{if(na>P.max||void 0===P.max)P.max=na},rem:(P,na)=>{na>=P.max&&(P.max=NaN)},req:["values"],idx:4},argmin:{init:P=>P.argmin=void 0,value:P=>P.argmin||P.cell.data.argmin(P.get),add:(P,na,Aa)=>{na<P.min&&(P.argmin=Aa)},rem:(P,na)=>{na<=P.min&&(P.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:P=>P.argmax=void 0,value:P=>P.argmax||
P.cell.data.argmax(P.get),add:(P,na,Aa)=>{na>P.max&&(P.argmax=Aa)},rem:(P,na)=>{na>=P.max&&(P.argmax=void 0)},req:["max","values"],idx:3}},ed=Object.keys(Sc).filter(P=>"__count__"!==P);[...ed,"__count__"].forEach(P=>{Sc[P]=zc(P,Sc[P])});const fd=Hb.prototype;fd.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};fd.add=function(P){this._add.push(P)};fd.rem=function(P){this._rem.push(P)};fd.values=function(){this._get=null;if(0===this._rem.length)return this._add;const P=this._add;
var na=this._rem;const Aa=this._key,fb=P.length,Jb=na.length,Zb=Array(fb-Jb),Cc={};let mc,Hc;for(mc=0;mc<Jb;++mc)Cc[Aa(na[mc])]=1;for(na=mc=0;mc<fb;++mc)Cc[Aa(Hc=P[mc])]?Cc[Aa(Hc)]=0:Zb[na++]=Hc;this._rem=[];return this._add=Zb};fd.distinct=function(P){const na=this.values(),Aa={};let fb=na.length,Jb=0,Zb;for(;0<=--fb;)Zb=P(na[fb])+"",l.hasOwnProperty(Aa,Zb)||(Aa[Zb]=1,++Jb);return Jb};fd.extent=function(P){if(this._get!==P||!this._ext){const na=this.values(),Aa=l.extentIndex(na,P);this._ext=[na[Aa[0]],
na[Aa[1]]];this._get=P}return this._ext};fd.argmin=function(P){return this.extent(P)[0]||{}};fd.argmax=function(P){return this.extent(P)[1]||{}};fd.min=function(P){const na=this.extent(P)[0];return null!=na?P(na):void 0};fd.max=function(P){const na=this.extent(P)[1];return null!=na?P(na):void 0};fd.quartile=function(P){this._get===P&&this._q||(this._q=hb.quartiles(this.values(),P),this._get=P);return this._q};fd.q1=function(P){return this.quartile(P)[0]};fd.q2=function(P){return this.quartile(P)[1]};
fd.q3=function(P){return this.quartile(P)[2]};fd.ci=function(P){this._get===P&&this._ci||(this._ci=hb.bootstrapCI(this.values(),1E3,.05,P),this._get=P);return this._ci};fd.ci0=function(P){return this.ci(P)[0]};fd.ci1=function(P){return this.ci(P)[1]};Bb.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:ed},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},
{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean","default":!1},{name:"key",type:"field"}]};l.inherits(Bb,R.Transform,{transform(P,na){const Aa=this,fb=na.fork(na.NO_SOURCE|na.NO_FIELDS),Jb=P.modified();Aa.stamp=fb.stamp;Aa.value&&(Jb||na.modified(Aa._inputs,!0))?(Aa._prev=Aa.value,Aa.value=Jb?Aa.init(P):Object.create(null),na.visit(na.SOURCE,Zb=>Aa.add(Zb))):(Aa.value=Aa.value||Aa.init(P),na.visit(na.REM,Zb=>Aa.rem(Zb)),na.visit(na.ADD,Zb=>Aa.add(Zb)));fb.modifies(Aa._outputs);
Aa._drop=!1!==P.drop;P.cross&&1<Aa._dims.length&&(Aa._drop=!1,Aa.cross());na.clean()&&Aa._drop&&fb.clean(!0).runAfter(()=>this.clean());return Aa.changes(fb)},cross(){function P(mc){let Hc,jd,Nc,vd;for(Hc in mc)for(Nc=mc[Hc].tuple,jd=0;jd<Cc;++jd)Zb[jd][vd=Nc[Jb[jd]]]=vd}function na(mc,Hc,jd){const Nc=Jb[jd],vd=Zb[jd++];for(const Gd in vd){const Fd=mc?mc+"|"+Gd:Gd;Hc[Nc]=vd[Gd];jd<Cc?na(Fd,Hc,jd):fb[Fd]||Aa.cell(Fd,Hc)}}const Aa=this,fb=Aa.value,Jb=Aa._dnames,Zb=Jb.map(()=>({})),Cc=Jb.length;P(Aa._prev);
P(fb);na("",{},0)},init(P){function na(Od){Od=l.array(l.accessorFields(Od));const qe=Od.length;let De=0,gf;for(;De<qe;++De)Jb[gf=Od[De]]||(Jb[gf]=1,Aa.push(gf))}const Aa=this._inputs=[],fb=this._outputs=[],Jb={};this._dims=l.array(P.groupby);this._dnames=this._dims.map(Od=>{const qe=l.accessorName(Od);na(Od);fb.push(qe);return qe});this.cellkey=P.key?P.key:sc(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];const Zb=P.fields||[null],Cc=P.ops||["count"];P=P.as||[];const mc=Zb.length,
Hc={};let jd,Nc,vd,Gd,Fd,Xd;mc!==Cc.length&&l.error("Unmatched number of fields and aggregate ops.");for(Xd=0;Xd<mc;++Xd)jd=Zb[Xd],Nc=Cc[Xd],null==jd&&"count"!==Nc&&l.error("Null aggregate field specified."),Gd=l.accessorName(jd),Fd=P[Xd]||Nc+(Gd?"_"+Gd:""),fb.push(Fd),"count"===Nc?this._counts.push(Fd):(vd=Hc[Gd],vd||(na(jd),vd=Hc[Gd]=[],vd.field=jd,this._measures.push(vd)),"count"!==Nc&&(this._countOnly=!1),vd.push(Sc[Nc](Fd)));this._measures=this._measures.map(Od=>Fb(Od,Od.field));return Object.create(null)},
cellkey:sc(),cell(P,na){let Aa=this.value[P];Aa?0===Aa.num&&this._drop&&Aa.stamp<this.stamp?(Aa.stamp=this.stamp,this._adds[this._alen++]=Aa):Aa.stamp<this.stamp&&(Aa.stamp=this.stamp,this._mods[this._mlen++]=Aa):(Aa=this.value[P]=this.newcell(P,na),this._adds[this._alen++]=Aa);return Aa},newcell(P,na){P={key:P,num:0,agg:null,tuple:this.newtuple(na,this._prev&&this._prev[P]),stamp:this.stamp,store:!1};if(!this._countOnly){na=this._measures;const Aa=na.length;P.agg=Array(Aa);for(let fb=0;fb<Aa;++fb)P.agg[fb]=
new na[fb](P)}P.store&&(P.data=new Hb);return P},newtuple(P,na){const Aa=this._dnames,fb=this._dims,Jb=fb.length,Zb={};for(let Cc=0;Cc<Jb;++Cc)Zb[Aa[Cc]]=fb[Cc](P);return na?R.replace(na.tuple,Zb):R.ingest(Zb)},clean(){const P=this.value;for(const na in P)0===P[na].num&&delete P[na]},add(P){var na=this.cellkey(P);na=this.cell(na,P);na.num+=1;if(!this._countOnly){na.store&&na.data.add(P);na=na.agg;for(let Aa=0,fb=na.length;Aa<fb;++Aa)na[Aa].add(na[Aa].get(P),P)}},rem(P){var na=this.cellkey(P);na=this.cell(na,
P);--na.num;if(!this._countOnly){na.store&&na.data.rem(P);na=na.agg;for(let Aa=0,fb=na.length;Aa<fb;++Aa)na[Aa].rem(na[Aa].get(P),P)}},celltuple(P){const na=P.tuple,Aa=this._counts;P.store&&P.data.values();for(let fb=0,Jb=Aa.length;fb<Jb;++fb)na[Aa[fb]]=P.num;if(!this._countOnly){P=P.agg;for(let fb=0,Jb=P.length;fb<Jb;++fb)P[fb].set(na)}return na},changes(P){const na=this._adds,Aa=this._mods;var fb=this._prev;const Jb=this._drop,Zb=P.add,Cc=P.rem,mc=P.mod;let Hc;var jd;if(fb)for(jd in fb)Hc=fb[jd],
Jb&&!Hc.num||Cc.push(Hc.tuple);fb=0;for(jd=this._alen;fb<jd;++fb)Zb.push(this.celltuple(na[fb])),na[fb]=null;fb=0;for(jd=this._mlen;fb<jd;++fb)Hc=Aa[fb],(0===Hc.num&&Jb?Cc:mc).push(this.celltuple(Hc)),Aa[fb]=null;this._alen=this._mlen=0;this._prev=null;return P}});Lb.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number","default":20},{name:"base",type:"number",
"default":10},{name:"divide",type:"number",array:!0,"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};l.inherits(Lb,R.Transform,{transform(P,na){const Aa=!1!==P.interval,fb=this._bins(P),Jb=fb.start,
Zb=fb.step,Cc=P.as||["bin0","bin1"],mc=Cc[0],Hc=Cc[1];P.modified()?(na=na.reflow(!0),P=na.SOURCE):P=na.modified(l.accessorFields(P.field))?na.ADD_MOD:na.ADD;na.visit(P,Aa?jd=>{const Nc=fb(jd);jd[mc]=Nc;jd[Hc]=null==Nc?null:Jb+Zb*(1+(Nc-Jb)/Zb)}:jd=>jd[mc]=fb(jd));return na.modifies(Aa?Cc:mc)},_bins(P){if(this.value&&!P.modified())return this.value;const na=P.field,Aa=hb.bin(P),fb=Aa.step;let Jb=Aa.start,Zb=Jb+Math.ceil((Aa.stop-Jb)/fb)*fb;var Cc;null!=(Cc=P.anchor)&&(Cc-=Jb+fb*Math.floor((Cc-Jb)/
fb),Jb+=Cc,Zb+=Cc);Cc=function(mc){mc=l.toNumber(na(mc));return null==mc?null:mc<Jb?-Infinity:mc>Zb?Infinity:(mc=Math.max(Jb,Math.min(mc,Zb-fb)),Jb+fb*Math.floor(1E-14+(mc-Jb)/fb))};Cc.start=Jb;Cc.stop=Aa.stop;Cc.step=fb;return this.value=l.accessor(Cc,l.accessorFields(na),P.name||"bin_"+l.accessorName(na))}});pb.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};l.inherits(pb,R.Transform,{transform(P,na){const Aa=na.fork(na.ALL),fb=Wa(R.tupleid,this.value,Aa.materialize(Aa.ADD).add),
Jb=P.sort;P=na.changed()||Jb&&(P.modified("sort")||na.modified(Jb.fields));Aa.visit(Aa.REM,fb.remove);this.modified(P);this.value=Aa.source=fb.data(R.stableCompare(Jb),P);na.source&&na.source.root&&(this.value.root=na.source.root);return Aa}});l.inherits(Na,R.Operator);Ia.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},
{name:"stopwords",type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};l.inherits(Ia,R.Transform,{transform(P,na){var Aa=Nc=>vd=>{vd=mc(vd);var Gd=Zb;switch(P.case){case "upper":vd=vd.toUpperCase();break;case "lower":vd=vd.toLowerCase()}vd=vd.match(Gd)||[];var Fd;Gd=0;for(var Xd=vd.length;Gd<Xd;++Gd)Cc.test(Fd=vd[Gd])||Nc(Fd)};const fb=this._parameterCheck(P,na),Jb=this._counts,Zb=this._match,Cc=this._stop,mc=P.field,Hc=P.as||["text","count"],jd=Aa(Nc=>
Jb[Nc]=1+(Jb[Nc]||0));Aa=Aa(Nc=>--Jb[Nc]);fb?na.visit(na.SOURCE,jd):(na.visit(na.ADD,jd),na.visit(na.REM,Aa));return this._finish(na,Hc)},_parameterCheck(P,na){let Aa=!1;if(P.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(P.stopwords||"")+"$","i"),Aa=!0;if(P.modified("pattern")||!this._match)this._match=new RegExp(P.pattern||"[\\w']+","g"),Aa=!0;if(P.modified("field")||na.modified(P.field.fields))Aa=!0;Aa&&(this._counts={});return Aa},_finish(P,na){const Aa=this._counts,fb=this._tuples||
(this._tuples={}),Jb=na[0],Zb=na[1];P=P.fork(P.NO_SOURCE|P.NO_FIELDS);let Cc,mc,Hc;for(Cc in Aa)mc=fb[Cc],Hc=Aa[Cc]||0,!mc&&Hc?(fb[Cc]=mc=R.ingest({}),mc[Jb]=Cc,mc[Zb]=Hc,P.add.push(mc)):0===Hc?(mc&&P.rem.push(mc),Aa[Cc]=null,fb[Cc]=null):mc[Zb]!==Hc&&(mc[Zb]=Hc,P.mod.push(mc));return P.modifies(na)}});kb.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,"default":["a","b"]}]};l.inherits(kb,R.Transform,{transform(P,na){const Aa=
na.fork(na.NO_SOURCE),fb=P.as||["a","b"],Jb=fb[0],Zb=fb[1];var Cc=!this.value||na.changed(na.ADD_REM)||P.modified("as")||P.modified("filter"),mc=this.value;if(Cc){mc&&(Aa.rem=mc);na=mc=na.materialize(na.SOURCE).source;P=P.filter||l.truthy;Cc=[];mc={};for(var Hc=na.length,jd=0,Nc,vd;jd<Hc;++jd)for(mc[Jb]=vd=na[jd],Nc=0;Nc<Hc;++Nc)mc[Zb]=na[Nc],P(mc)&&(Cc.push(R.ingest(mc)),mc={},mc[Jb]=vd);Aa.add=this.value=Cc}else Aa.mod=mc;Aa.source=this.value;return Aa.modifies(fb)}});const Qd={kde:hb.randomKDE,
mixture:hb.randomMixture,normal:hb.randomNormal,lognormal:hb.randomLogNormal,uniform:hb.randomUniform},Td=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",
type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];Ma.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Td.concat({key:{"function":"mixture"},params:[{name:"distributions",
type:"param",array:!0,params:Td},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};l.inherits(Ma,R.Transform,{transform(P,na){const Aa=na.fork(na.NO_SOURCE|na.NO_FIELDS);if(!this.value||na.changed()||P.modified()){const fb=mb(P.distribution,vb(na));na=P.steps||P.minsteps||25;const Jb=P.steps||P.maxsteps||200;let Zb=P.method||"pdf";"pdf"!==Zb&&"cdf"!==Zb&&l.error("Invalid density method: "+Zb);P.extent||fb.data||l.error("Missing density extent parameter.");
Zb=fb[Zb];const Cc=P.as||["value","density"];P=P.extent||l.extent(fb.data());P=hb.sampleCurve(Zb,P,na,Jb).map(mc=>{const Hc={};Hc[Cc[0]]=mc[0];Hc[Cc[1]]=mc[1];return R.ingest(Hc)});this.value&&(Aa.rem=this.value);this.value=Aa.add=Aa.source=P}return Aa}});Vb.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};
l.inherits(Vb,R.Transform,{transform(P,na){if(this.value&&!P.modified()&&!na.changed())return na;var Aa=na.materialize(na.SOURCE).source;const fb=Ob(na.source,P.groupby,l.identity),Jb=P.smooth||!1,Zb=P.field;Aa=P.step||l.span(l.extent(Aa,Zb))/30;const Cc=R.stableCompare((Gd,Fd)=>Zb(Gd)-Zb(Fd));P=P.as||"bin";const mc=fb.length;let Hc=Infinity,jd=-Infinity,Nc=0,vd;for(;Nc<mc;++Nc){const Gd=fb[Nc].sort(Cc);vd=-1;for(const Fd of hb.dotbin(Gd,Aa,Jb,Zb))Fd<Hc&&(Hc=Fd),Fd>jd&&(jd=Fd),Gd[++vd][P]=Fd}this.value=
{start:Hc,stop:jd,step:Aa};return na.reflow(!0).modifies(P)}});l.inherits(ob,R.Operator);Y.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};l.inherits(Y,R.Transform,{transform(P,na){var Aa=this.value;const fb=P.field;P=na.changed()||na.modified(fb.fields)||P.modified("field");let Jb=Aa[0],Zb=Aa[1];if(P||null==Jb)Jb=Infinity,Zb=-Infinity;na.visit(P?na.SOURCE:na.ADD,Cc=>{Cc=l.toNumber(fb(Cc));null!=Cc&&(Cc<Jb&&(Jb=Cc),Cc>Zb&&(Zb=Cc))});Number.isFinite(Jb)&&Number.isFinite(Zb)||
((Aa=l.accessorName(fb))&&(Aa=` for field "${Aa}"`),na.dataflow.warn(`Infinite extent${Aa}: [${Jb}, ${Zb}]`),Jb=Zb=void 0);this.value=[Jb,Zb]}});l.inherits(Ea,R.Operator,{connect(P){this.detachSubflow=P.detachSubflow;this.targets().add(P);return P.source=this},add(P){this.count+=1;this.value.add.push(P)},rem(P){--this.count;this.value.rem.push(P)},mod(P){this.value.mod.push(P)},init(P){this.value.init(P,P.NO_SOURCE)},evaluate(){return this.value}});l.inherits(Ga,R.Transform,{activate(P){this._targets[this._targets.active++]=
P},subflow(P,na,Aa,fb){const Jb=this.value;let Zb=l.hasOwnProperty(Jb,P)&&Jb[P],Cc;Zb?Zb.value.stamp<Aa.stamp&&(Zb.init(Aa),this.activate(Zb)):(Cc=fb||(Cc=this._group[P])&&Cc.tuple,fb=Aa.dataflow,Zb=new Ea(Aa.fork(Aa.NO_SOURCE),this),fb.add(Zb).connect(na(fb,P,Cc)),Jb[P]=Zb,this.activate(Zb));return Zb},clean(){var P=this.value;let na=0;for(const Aa in P)if(0===P[Aa].count){const fb=P[Aa].detachSubflow;fb&&fb();delete P[Aa];++na}na&&(P=this._targets.filter(Aa=>Aa&&0<Aa.count),this.initTargets(P))},
initTargets(P){const na=this._targets,Aa=na.length,fb=P?P.length:0;let Jb=0;for(;Jb<fb;++Jb)na[Jb]=P[Jb];for(;Jb<Aa&&null!=na[Jb];++Jb)na[Jb]=null;na.active=fb},transform(P,na){const Aa=na.dataflow,fb=P.key,Jb=P.subflow,Zb=this._keys,Cc=P.modified("key"),mc=Hc=>this.subflow(Hc,Jb,na);this._group=P.group||{};this.initTargets();na.visit(na.REM,Hc=>{const jd=R.tupleid(Hc),Nc=Zb.get(jd);void 0!==Nc&&(Zb.delete(jd),mc(Nc).rem(Hc))});na.visit(na.ADD,Hc=>{const jd=fb(Hc);Zb.set(R.tupleid(Hc),jd);mc(jd).add(Hc)});
Cc||na.modified(fb.fields)?na.visit(na.MOD,Hc=>{const jd=R.tupleid(Hc),Nc=Zb.get(jd),vd=fb(Hc);Nc===vd?mc(vd).mod(Hc):(Zb.set(jd,vd),mc(Nc).rem(Hc),mc(vd).add(Hc))}):na.changed(na.MOD)&&na.visit(na.MOD,Hc=>{mc(Zb.get(R.tupleid(Hc))).mod(Hc)});Cc&&na.visit(na.REFLOW,Hc=>{const jd=R.tupleid(Hc),Nc=Zb.get(jd),vd=fb(Hc);Nc!==vd&&(Zb.set(jd,vd),mc(Nc).rem(Hc),mc(vd).add(Hc))});na.clean()?Aa.runAfter(()=>{this.clean();Zb.clean()}):Zb.empty>Aa.cleanThreshold&&Aa.runAfter(Zb.clean);return na}});l.inherits(cb,
R.Operator);pa.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};l.inherits(pa,R.Transform,{transform(P,na){function Aa(vd){const Gd=R.tupleid(vd),Fd=jd(vd,P),Xd=Jb.get(Gd);Fd&&Xd?(Jb.delete(Gd),Cc.push(vd)):Fd||Xd?Nc&&Fd&&!Xd&&Hc.push(vd):(Jb.set(Gd,1),mc.push(vd))}const fb=na.dataflow,Jb=this.value,Zb=na.fork(),Cc=Zb.add,mc=Zb.rem,Hc=Zb.mod,jd=P.expr;let Nc=!0;na.visit(na.REM,vd=>{const Gd=R.tupleid(vd);Jb.has(Gd)?Jb.delete(Gd):mc.push(vd)});na.visit(na.ADD,
vd=>{jd(vd,P)?Cc.push(vd):Jb.set(R.tupleid(vd),1)});na.visit(na.MOD,Aa);P.modified()&&(Nc=!1,na.visit(na.REFLOW,Aa));Jb.empty>fb.cleanThreshold&&fb.runAfter(Jb.clean);return Zb}});x.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};l.inherits(x,R.Transform,{transform(P,na){const Aa=na.fork(na.NO_SOURCE),fb=P.fields,Jb=qb(fb,P.as||[]),Zb=P.index||null,Cc=Jb.length;Aa.rem=this.value;
na.visit(na.SOURCE,mc=>{const Hc=fb.map(Xd=>Xd(mc)),jd=Hc.reduce((Xd,Od)=>Math.max(Xd,Od.length),0);let Nc=0,vd,Gd,Fd;for(;Nc<jd;++Nc){Gd=R.derive(mc);for(vd=0;vd<Cc;++vd)Gd[Jb[vd]]=null==(Fd=Hc[vd][Nc])?null:Fd;Zb&&(Gd[Zb]=Nc);Aa.add.push(Gd)}});this.value=Aa.source=Aa.add;Zb&&Aa.modifies(Zb);return Aa.modifies(Jb)}});N.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};
l.inherits(N,R.Transform,{transform(P,na){const Aa=na.fork(na.NO_SOURCE),fb=P.fields,Jb=fb.map(l.accessorName);P=P.as||["key","value"];const Zb=P[0],Cc=P[1],mc=fb.length;Aa.rem=this.value;na.visit(na.SOURCE,Hc=>{for(let jd=0,Nc;jd<mc;++jd)Nc=R.derive(Hc),Nc[Zb]=Jb[jd],Nc[Cc]=fb[jd](Hc),Aa.add.push(Nc)});this.value=Aa.source=Aa.add;return Aa.modifies(P)}});S.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",
type:"boolean"}]};l.inherits(S,R.Transform,{transform(P,na){const Aa=P.expr,fb=P.as,Jb=P.modified(),Zb=P.initonly?na.ADD:Jb?na.SOURCE:na.modified(Aa.fields)||na.modified(fb)?na.ADD_MOD:na.ADD;Jb&&(na=na.materialize().reflow(!0));P.initonly||na.modifies(fb);return na.visit(Zb,Cc=>Cc[fb]=Aa(Cc,P))}});l.inherits(g,R.Transform,{transform(P,na){na=na.fork(na.ALL);const Aa=P.generator;let fb=this.value,Jb=P.size-fb.length,Zb,Cc;if(0<Jb){for(Zb=[];0<=--Jb;)Zb.push(Cc=R.ingest(Aa(P))),fb.push(Cc);na.add=
na.add.length?na.materialize(na.ADD).add.concat(Zb):Zb}else P=fb.slice(0,-Jb),na.rem=na.rem.length?na.materialize(na.REM).rem.concat(P):P,fb=fb.slice(-Jb);na.source=this.value=fb;return na}});const Ed={value:"value",median:function(P,na){var Aa=.5;P=Float64Array.from(p(P,na));if((na=P.length)&&!isNaN(Aa=+Aa))if(0>=Aa||2>na)P=aa(P);else if(1<=Aa)P=F(P);else{Aa*=na-1;na=Math.floor(Aa);var fb=F(O(P,na).subarray(0,na+1));P=aa(P.subarray(na+1));P=fb+(P-fb)*(Aa-na)}else P=void 0;return P},mean:function(P,
na){let Aa=0,fb=0;if(void 0===na)for(var Jb of P)null!=Jb&&(Jb=+Jb)>=Jb&&(++Aa,fb+=Jb);else{Jb=-1;for(let Zb of P)null!=(Zb=na(Zb,++Jb,P))&&(Zb=+Zb)>=Zb&&(++Aa,fb+=Zb)}if(Aa)return fb/Aa},min:aa,max:F},Yd=[];va.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median","max","min"]},
{name:"value","default":0}]};l.inherits(va,R.Transform,{transform(P,na){var Aa=na.fork(na.ALL),fb=La(P),Jb=Xa(P),Zb=l.accessorName(P.field),Cc=l.accessorName(P.key),mc=(P.groupby||[]).map(l.accessorName);P=ab(na.source,P.groupby,P.key,P.keyvals);na=[];var Hc=this.value,jd=P.domain.length,Nc,vd,Gd;var Fd=0;for(vd=P.length;Fd<vd;++Fd){var Xd=P[Fd];var Od=Xd.values;var qe=NaN;for(Nc=0;Nc<jd;++Nc)if(null==Xd[Nc]){var De=P.domain[Nc];var gf={_impute:!0};var df=0;for(Gd=Od.length;df<Gd;++df)gf[mc[df]]=
Od[df];gf[Cc]=De;gf[Zb]=Number.isNaN(qe)?qe=fb(Xd,Jb):qe;na.push(R.ingest(gf))}}na.length&&(Aa.add=Aa.materialize(Aa.ADD).add.concat(na));Hc.length&&(Aa.rem=Aa.materialize(Aa.REM).rem.concat(Hc));this.value=na;return Aa}});Z.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:ed},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};l.inherits(Z,
Bb,{transform(P,na){const Aa=this,fb=P.modified();let Jb;Aa.value&&(fb||na.modified(Aa._inputs,!0))?(Jb=Aa.value=fb?Aa.init(P):{},na.visit(na.SOURCE,Zb=>Aa.add(Zb))):(Jb=Aa.value=Aa.value||this.init(P),na.visit(na.REM,Zb=>Aa.rem(Zb)),na.visit(na.ADD,Zb=>Aa.add(Zb)));Aa.changes();na.visit(na.SOURCE,Zb=>{l.extend(Zb,Jb[Aa.cellkey(Zb)].tuple)});return na.reflow(fb).modifies(this._outputs)},changes(){const P=this._adds,na=this._mods;let Aa,fb;Aa=0;for(fb=this._alen;Aa<fb;++Aa)this.celltuple(P[Aa]),P[Aa]=
null;Aa=0;for(fb=this._mlen;Aa<fb;++Aa)this.celltuple(na[Aa]),na[Aa]=null;this._alen=this._mlen=0}});Ca.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},
{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};l.inherits(Ca,R.Transform,{transform(P,na){const Aa=na.fork(na.NO_SOURCE|na.NO_FIELDS);if(!this.value||na.changed()||P.modified()){na=na.materialize(na.SOURCE).source;const fb=Ob(na,P.groupby,P.field),Jb=(P.groupby||[]).map(l.accessorName),Zb=P.bandwidth,Cc=P.cumulative?"cdf":"pdf",mc=P.as||["value","density"],Hc=
[];let jd=P.extent,Nc=P.steps||P.minsteps||25,vd=P.steps||P.maxsteps||200;"pdf"!==Cc&&"cdf"!==Cc&&l.error("Invalid density method: "+Cc);"shared"===P.resolve&&(jd||(jd=l.extent(na,P.field)),Nc=vd=P.steps||vd);fb.forEach(Gd=>{const Fd=hb.randomKDE(Gd,Zb)[Cc],Xd=P.counts?Gd.length:1,Od=jd||l.extent(Gd);hb.sampleCurve(Fd,Od,Nc,vd).forEach(qe=>{const De={};for(let gf=0;gf<Jb.length;++gf)De[Jb[gf]]=Gd.dims[gf];De[mc[0]]=qe[0];De[mc[1]]=qe[1]*Xd;Hc.push(R.ingest(De))})});this.value&&(Aa.rem=this.value);
this.value=Aa.add=Aa.source=Hc}return Aa}});l.inherits(Ya,R.Operator);l.inherits(xc,R.Transform,{transform(P,na){const Aa=na.dataflow;return this._pending?yc(this,na,this._pending):rc(P)?na.StopPropagation:P.values?yc(this,na,Aa.parse(P.values,P.format)):P.async?{async:Aa.request(P.url,P.format).then(fb=>{this._pending=l.array(fb.data);return Jb=>Jb.touch(this)})}:Aa.request(P.url,P.format).then(fb=>yc(this,na,l.array(fb.data)))}});dd.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",
type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};l.inherits(dd,R.Transform,{transform(P,na){const Aa=P.fields,fb=P.index,Jb=P.values,Zb=null==P.default?null:P.default;var Cc=P.modified();const mc=Aa.length;let Hc=Cc?na.SOURCE:na.ADD,jd=na,Nc=P.as,vd;Jb?(vd=Jb.length,1<mc&&!Nc&&l.error('Multi-field lookup requires explicit "as" parameter.'),
Nc&&Nc.length!==mc*vd&&l.error('The "as" parameter has too few output field names.'),Nc=Nc||Jb.map(l.accessorName),P=function(Gd){for(var Fd=0,Xd=0,Od,qe;Fd<mc;++Fd)if(qe=fb.get(Aa[Fd](Gd)),null==qe)for(Od=0;Od<vd;++Od,++Xd)Gd[Nc[Xd]]=Zb;else for(Od=0;Od<vd;++Od,++Xd)Gd[Nc[Xd]]=Jb[Od](qe)}):(Nc||l.error("Missing output field names."),P=function(Gd){for(var Fd=0,Xd;Fd<mc;++Fd)Xd=fb.get(Aa[Fd](Gd)),Gd[Nc[Fd]]=null==Xd?Zb:Xd});Cc?jd=na.reflow(!0):(Cc=Aa.some(Gd=>na.modified(Gd.fields)),Hc|=Cc?na.MOD:
0);na.visit(Hc,P);return jd.modifies(Nc)}});l.inherits($b,R.Operator);l.inherits(Pd,R.Operator);l.inherits(Wb,R.Transform,{transform(P,na){this.modified(P.modified());this.value=P;return na.fork(na.NO_SOURCE|na.NO_FIELDS)}});sb.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:ed,"default":"sum"},{name:"limit",type:"number","default":0},
{name:"key",type:"field"}]};l.inherits(sb,Bb,{_transform:Bb.prototype.transform,transform(P,na){return this._transform(Tb(P,na),na)}});l.inherits(Ic,Ga,{transform(P,na){const Aa=P.subflow,fb=P.field,Jb=Zb=>this.subflow(R.tupleid(Zb),Aa,na,Zb);(P.modified("field")||fb&&na.modified(l.accessorFields(fb)))&&l.error("PreFacet does not support field modification.");this.initTargets();fb?(na.visit(na.MOD,Zb=>{const Cc=Jb(Zb);fb(Zb).forEach(mc=>Cc.mod(mc))}),na.visit(na.ADD,Zb=>{const Cc=Jb(Zb);fb(Zb).forEach(mc=>
Cc.add(R.ingest(mc)))}),na.visit(na.REM,Zb=>{const Cc=Jb(Zb);fb(Zb).forEach(mc=>Cc.rem(mc))})):(na.visit(na.MOD,Zb=>Jb(Zb).mod(Zb)),na.visit(na.ADD,Zb=>Jb(Zb).add(Zb)),na.visit(na.REM,Zb=>Jb(Zb).rem(Zb)));na.clean()&&na.runAfter(()=>this.clean());return na}});Ac.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string","null":!0,array:!0}]};l.inherits(Ac,R.Transform,{transform(P,na){const Aa=na.fork(na.NO_SOURCE),fb=P.fields,
Jb=qb(P.fields,P.as||[]),Zb=fb?(mc,Hc)=>{for(let jd=0,Nc=fb.length;jd<Nc;++jd)Hc[Jb[jd]]=fb[jd](mc);return Hc}:R.rederive;let Cc;this.value?Cc=this.value:(na=na.addAll(),Cc=this.value={});na.visit(na.REM,mc=>{mc=R.tupleid(mc);Aa.rem.push(Cc[mc]);Cc[mc]=null});na.visit(na.ADD,mc=>{const Hc=Zb(mc,R.ingest({}));Cc[R.tupleid(mc)]=Hc;Aa.add.push(Hc)});na.visit(na.MOD,mc=>{Aa.mod.push(Zb(mc,Cc[R.tupleid(mc)]))});return Aa}});l.inherits(Zc,R.Transform,{transform(P,na){this.value=P.value;return P.modified("value")?
na.fork(na.NO_SOURCE|na.NO_FIELDS):na.StopPropagation}});Nd.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};l.inherits(Nd,R.Transform,{transform(P,na){const Aa=na.fork(na.NO_SOURCE|na.NO_FIELDS),fb=P.as||["prob","value"];if(this.value&&!P.modified()&&!na.changed())return Aa.source=
this.value,Aa;na=na.materialize(na.SOURCE).source;na=Ob(na,P.groupby,P.field);const Jb=(P.groupby||[]).map(l.accessorName),Zb=[],Cc=P.step||.01,mc=P.probs||I(Cc/2,1-1E-14,Cc),Hc=mc.length;na.forEach(jd=>{const Nc=hb.quantiles(jd,mc);for(let vd=0;vd<Hc;++vd){const Gd={};for(let Fd=0;Fd<Jb.length;++Fd)Gd[Jb[Fd]]=jd.dims[Fd];Gd[fb[0]]=mc[vd];Gd[fb[1]]=Nc[vd];Zb.push(R.ingest(Gd))}});this.value&&(Aa.rem=this.value);this.value=Aa.add=Aa.source=Zb;return Aa}});l.inherits(ud,R.Transform,{transform(P,na){let Aa,
fb;this.value?fb=this.value:(Aa=na=na.addAll(),fb=this.value={});P.derive&&(Aa=na.fork(na.NO_SOURCE),na.visit(na.REM,Jb=>{Jb=R.tupleid(Jb);Aa.rem.push(fb[Jb]);fb[Jb]=null}),na.visit(na.ADD,Jb=>{const Zb=R.derive(Jb);fb[R.tupleid(Jb)]=Zb;Aa.add.push(Zb)}),na.visit(na.MOD,Jb=>{const Zb=fb[R.tupleid(Jb)];for(const Cc in Jb)Zb[Cc]=Jb[Cc],Aa.modifies(Cc);Aa.mod.push(Zb)}));return Aa}});Ha.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};l.inherits(Ha,R.Transform,
{transform(P,na){function Aa(Nc){let vd,Gd;mc.length<Zb?mc.push(Nc):(Gd=~~((Hc+1)*hb.random()),Gd<mc.length&&Gd>=jd&&(vd=mc[Gd],Cc[R.tupleid(vd)]&&fb.rem.push(vd),mc[Gd]=Nc));++Hc}const fb=na.fork(na.NO_SOURCE);var Jb=P.modified("size");const Zb=P.size,Cc=this.value.reduce((Nc,vd)=>(Nc[R.tupleid(vd)]=1,Nc),{});let mc=this.value,Hc=this.count,jd=0;na.rem.length&&(na.visit(na.REM,Nc=>{const vd=R.tupleid(Nc);Cc[vd]&&(Cc[vd]=-1,fb.rem.push(Nc));--Hc}),mc=mc.filter(Nc=>-1!==Cc[R.tupleid(Nc)]));(na.rem.length||
Jb)&&mc.length<Zb&&na.source&&(jd=Hc=mc.length,na.visit(na.SOURCE,Nc=>{Cc[R.tupleid(Nc)]||Aa(Nc)}),jd=-1);if(Jb&&mc.length>Zb){P=mc.length-Zb;for(Jb=0;Jb<P;++Jb)Cc[R.tupleid(mc[Jb])]=-1,fb.rem.push(mc[Jb]);mc=mc.slice(P)}na.mod.length&&na.visit(na.MOD,Nc=>{Cc[R.tupleid(Nc)]&&fb.mod.push(Nc)});na.add.length&&na.visit(na.ADD,Aa);if(na.add.length||0>jd)fb.add=mc.filter(Nc=>!Cc[R.tupleid(Nc)]);this.count=Hc;this.value=fb.source=mc;return fb}});gb.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},
params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};l.inherits(gb,R.Transform,{transform(P,na){if(!this.value||P.modified()){var Aa=na.materialize().fork(na.MOD),fb=P.as||"data";Aa.rem=this.value?na.rem.concat(this.value):na.rem;this.value=I(P.start,P.stop,P.step||1).map(Jb=>{const Zb={};Zb[fb]=Jb;return R.ingest(Zb)});Aa.add=na.add.concat(this.value);return Aa}}});l.inherits(wb,
R.Transform,{transform(P,na){this.value=na.source;return na.changed()?na.fork(na.NO_SOURCE|na.NO_FIELDS):na.StopPropagation}});const ae=["unit0","unit1"];ua.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"units",type:"enum",values:Cb.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",
"default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":ae}]};l.inherits(ua,R.Transform,{transform(P,na){const Aa=P.field,fb=!1!==P.interval;var Jb="utc"===P.timezone;const Zb=this._floor(P,na),Cc=(Jb?Cb.utcInterval:Cb.timeInterval)(Zb.unit).offset;Jb=P.as||ae;const mc=Jb[0],Hc=Jb[1],jd=Zb.step;let Nc=Zb.start||Infinity,vd=Zb.stop||-Infinity,Gd=na.ADD;if(P.modified()||na.changed(na.REM)||na.modified(l.accessorFields(Aa)))na=na.reflow(!0),Gd=na.SOURCE,Nc=Infinity,
vd=-Infinity;na.visit(Gd,Fd=>{var Xd=Aa(Fd);let Od;null==Xd?(Fd[mc]=null,fb&&(Fd[Hc]=null)):(Fd[mc]=Xd=Od=Zb(Xd),fb&&(Fd[Hc]=Od=Cc(Xd,jd)),Xd<Nc&&(Nc=Xd),Od>vd&&(vd=Od))});Zb.start=Nc;Zb.stop=vd;return na.modifies(fb?Jb:mc)},_floor(P,na){var Aa="utc"===P.timezone;const {units:fb,step:Jb}=P.units?{units:P.units,step:P.step||1}:Cb.timeBin({extent:P.extent||l.extent(na.materialize(na.SOURCE).source,P.field),maxbins:P.maxbins});P=Cb.timeUnits(fb);na=this.value||{};Aa=(Aa?Cb.utcFloor:Cb.timeFloor)(P,Jb);
Aa.unit=l.peek(P);Aa.units=P;Aa.step=Jb;Aa.start=na.start;Aa.stop=na.stop;return this.value=Aa}});l.inherits(H,R.Transform,{transform(P,na){const Aa=na.dataflow,fb=P.field,Jb=this.value,Zb=mc=>Jb.set(fb(mc),mc);let Cc=!0;P.modified("field")||na.modified(fb.fields)?(Jb.clear(),na.visit(na.SOURCE,Zb)):na.changed()?(na.visit(na.REM,mc=>Jb.delete(fb(mc))),na.visit(na.ADD,Zb)):Cc=!1;this.modified(Cc);Jb.empty>Aa.cleanThreshold&&Aa.runAfter(Jb.clean);return na.fork()}});l.inherits(za,R.Transform,{transform(P,
na){if(!this.value||P.modified("field")||P.modified("sort")||na.changed()||P.sort&&na.modified(P.sort.fields))this.value=(P.sort?na.source.slice().sort(R.stableCompare(P.sort)):na.source).map(P.field)}});const Ud={row_number:function(){return{next:P=>P.index+1}},rank:function(){let P;return{init:()=>P=1,next:na=>{const Aa=na.index,fb=na.data;return Aa&&na.compare(fb[Aa-1],fb[Aa])?P=Aa+1:P}}},dense_rank:function(){let P;return{init:()=>P=1,next:na=>{const Aa=na.index,fb=na.data;return Aa&&na.compare(fb[Aa-
1],fb[Aa])?++P:P}}},percent_rank:function(){const P=Ud.rank(),na=P.next;return{init:P.init,next:Aa=>(na(Aa)-1)/(Aa.data.length-1)}},cume_dist:function(){let P;return{init:()=>P=0,next:na=>{const Aa=na.data,fb=na.compare;na=na.index;if(P<na){for(;na+1<Aa.length&&!fb(Aa[na],Aa[na+1]);)++na;P=na}return(1+P)/Aa.length}}},ntile:function(P,na){na=+na;0<na||l.error("ntile num must be greater than zero.");P=Ud.cume_dist();const Aa=P.next;return{init:P.init,next:fb=>Math.ceil(na*Aa(fb))}},lag:function(P,na){na=
+na||1;return{next:Aa=>{const fb=Aa.index-na;return 0<=fb?P(Aa.data[fb]):null}}},lead:function(P,na){na=+na||1;return{next:Aa=>{const fb=Aa.index+na;Aa=Aa.data;return fb<Aa.length?P(Aa[fb]):null}}},first_value:function(P){return{next:na=>P(na.data[na.i0])}},last_value:function(P){return{next:na=>P(na.data[na.i1-1])}},nth_value:function(P,na){na=+na;0<na||l.error("nth_value nth must be greater than zero.");return{next:Aa=>{const fb=Aa.i0+(na-1);return fb<Aa.i1?P(Aa.data[fb]):null}}},prev_value:function(P){let na;
return{init:()=>na=null,next:Aa=>{Aa=P(Aa.data[Aa.index]);return null!=Aa?na=Aa:na}}},next_value:function(P){let na,Aa;return{init:()=>(na=null,Aa=-1),next:fb=>{var Jb=fb.data;if(fb.index<=Aa)Jb=na;else{a:{fb=fb.index;for(let Zb=Jb.length;fb<Zb;++fb)if(null!=P(Jb[fb]))break a;fb=-1}Jb=0>(Aa=fb)?(Aa=Jb.length,na=null):na=P(Jb[Aa])}return Jb}}}},Ye=Object.keys(Ud),Wd=$a.prototype;Wd.init=function(){this.windows.forEach(P=>P.init());this.cell&&this.cell.init()};Wd.update=function(P,na){const Aa=this.cell,
fb=this.windows,Jb=P.data,Zb=fb&&fb.length;let Cc;if(Aa){for(Cc=P.p0;Cc<P.i0;++Cc)Aa.rem(Jb[Cc]);for(Cc=P.p1;Cc<P.i1;++Cc)Aa.add(Jb[Cc]);Aa.set(na)}for(Cc=0;Cc<Zb;++Cc)fb[Cc].update(P,na)};Gb.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Ye.concat(ed)},{name:"params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,
array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};l.inherits(Gb,R.Transform,{transform(P,na){this.stamp=na.stamp;const Aa=P.modified(),fb=R.stableCompare(P.sort),Jb=sc(P.groupby),Zb=mc=>this.group(Jb(mc));let Cc=this.state;if(!Cc||Aa)Cc=this.state=new $a(P);Aa||na.modified(Cc.inputs)?(this.value={},na.visit(na.SOURCE,mc=>Zb(mc).add(mc))):(na.visit(na.REM,mc=>Zb(mc).remove(mc)),na.visit(na.ADD,mc=>Zb(mc).add(mc)));
for(let mc=0,Hc=this._mlen;mc<Hc;++mc)oc(this._mods[mc],Cc,fb,P);this._mlen=0;this._mods=[];return na.reflow(Aa).modifies(Cc.outputs)},group(P){let na=this.value[P];na||(na=this.value[P]=Wa(R.tupleid),na.stamp=-1);na.stamp<this.stamp&&(na.stamp=this.stamp,this._mods[this._mlen++]=na);return na}});t.aggregate=Bb;t.bin=Lb;t.collect=pb;t.compare=Na;t.countpattern=Ia;t.cross=kb;t.density=Ma;t.dotbin=Vb;t.expression=ob;t.extent=Y;t.facet=Ga;t.field=cb;t.filter=pa;t.flatten=x;t.fold=N;t.formula=S;t.generate=
g;t.impute=va;t.joinaggregate=Z;t.kde=Ca;t.key=Ya;t.load=xc;t.lookup=dd;t.multiextent=$b;t.multivalues=Pd;t.params=Wb;t.pivot=sb;t.prefacet=Ic;t.project=Ac;t.proxy=Zc;t.quantile=Nd;t.relay=ud;t.sample=Ha;t.sequence=gb;t.sieve=wb;t.subflow=Ea;t.timeunit=ua;t.tupleindex=H;t.values=za;t.window=Gb})};
shadow$provide[31]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb):"function"===typeof define&&define.amd?define(["exports"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l(t.vega={}))})(this,function(t){function l(R,hb){if("undefined"!==typeof document&&document.createElement){const Cb=document.createElement("canvas");if(Cb&&Cb.getContext)return Cb.width=R,Cb.height=hb,Cb}return null}t.canvas=l;t.domCanvas=l;t.image=()=>"undefined"!==typeof Image?
Image:null})};
shadow$provide[32]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(20),Eb(22)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-time"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l(t.vega={},t.vega,t.vega))})(this,function(t,l,R){function hb(A,V,ba){V=A-V+2*ba;return A?0<V?V:1:0}function Cb(A){return function(V){let ba=V[0];V=V[1];let Fa;V<ba&&(Fa=ba,ba=V,V=Fa);return[A.invert(ba),A.invert(V)]}}function Yb(A){return function(V){const ba=
A.range();let Fa=V[0];V=V[1];let tb=-1,xb;let Mb;if(V<Fa){var Nb=Fa;Fa=V;V=Nb}Nb=0;for(Mb=ba.length;Nb<Mb;++Nb)ba[Nb]>=Fa&&ba[Nb]<=V&&(0>tb&&(tb=Nb),xb=Nb);if(!(0>tb))return Fa=A.invertExtent(ba[tb]),V=A.invertExtent(ba[xb]),[void 0===Fa[0]?Fa[1]:Fa[0],void 0===V[1]?V[0]:V[1]]}}function sc(A,V){return null==A||null==V?NaN:A<V?-1:A>V?1:A>=V?0:NaN}function zc(A,V){return null==A||null==V?NaN:V<A?-1:V>A?1:V>=A?0:NaN}function pc(A){function V(xb,Mb,Nb=0,Lc=xb.length){if(Nb<Lc){if(0!==ba(Mb,Mb))return Lc;
do{const Dd=Nb+Lc>>>1;0>Fa(xb[Dd],Mb)?Nb=Dd+1:Lc=Dd}while(Nb<Lc)}return Nb}let ba,Fa,tb;2!==A.length?(ba=sc,Fa=(xb,Mb)=>sc(A(xb),Mb),tb=(xb,Mb)=>A(xb)-Mb):(ba=A===sc||A===zc?A:Ab,tb=Fa=A);return{left:V,center:function(xb,Mb,Nb=0,Lc=xb.length){Lc=V(xb,Mb,Nb,Lc-1);return Lc>Nb&&tb(xb[Lc-1],Mb)>-tb(xb[Lc],Mb)?Lc-1:Lc},right:function(xb,Mb,Nb=0,Lc=xb.length){if(Nb<Lc){if(0!==ba(Mb,Mb))return Lc;do{const Dd=Nb+Lc>>>1;0>=Fa(xb[Dd],Mb)?Nb=Dd+1:Lc=Dd}while(Nb<Lc)}return Nb}}}function Ab(){return 0}function jc(A){return null===
A?NaN:+A}function Sb({_intern:A,_key:V},ba){V=V(ba);return A.has(V)?A.get(V):ba}function Ua({_intern:A,_key:V},ba){V=V(ba);if(A.has(V))return A.get(V);A.set(V,ba);return ba}function rb({_intern:A,_key:V},ba){V=V(ba);A.has(V)&&(ba=A.get(V),A.delete(V));return ba}function Fb(A){return null!==A&&"object"===typeof A?A.valueOf():A}function Hb(A,V,ba){var Fa=(V-A)/Math.max(0,ba),tb=Math.floor(Math.log10(Fa));Fa/=Math.pow(10,tb);Fa=Fa>=xg?10:Fa>=Wh?5:Fa>=rh?2:1;let xb;0>tb?(xb=Math.pow(10,-tb)/Fa,tb=Math.round(A*
xb),Fa=Math.round(V*xb),tb/xb<A&&++tb,Fa/xb>V&&--Fa,xb=-xb):(xb=Math.pow(10,tb)*Fa,tb=Math.round(A/xb),Fa=Math.round(V/xb),tb*xb<A&&++tb,Fa*xb>V&&--Fa);return Fa<tb&&.5<=ba&&2>ba?Hb(A,V,2*ba):[tb,Fa,xb]}function Bb(A,V,ba){V=+V;A=+A;ba=+ba;if(!(0<ba))return[];if(A===V)return[A];var Fa=V<A;const [tb,xb,Mb]=Fa?Hb(V,A,ba):Hb(A,V,ba);if(!(xb>=tb))return[];A=xb-tb+1;V=Array(A);if(Fa)if(0>Mb)for(Fa=0;Fa<A;++Fa)V[Fa]=(xb-Fa)/-Mb;else for(Fa=0;Fa<A;++Fa)V[Fa]=(xb-Fa)*Mb;else if(0>Mb)for(Fa=0;Fa<A;++Fa)V[Fa]=
(tb+Fa)/-Mb;else for(Fa=0;Fa<A;++Fa)V[Fa]=(tb+Fa)*Mb;return V}function Lb(A,V,ba){return Hb(+A,+V,+ba)[2]}function Wa(A,V,ba){V=+V;A=+A;ba=+ba;const Fa=V<A;A=Fa?Lb(V,A,ba):Lb(A,V,ba);return(Fa?-1:1)*(0>A?1/-A:A)}function pb(A,V,ba=jc){if((Fa=A.length)&&!isNaN(V=+V)){if(0>=V||2>Fa)return+ba(A[0],0,A);if(1<=V)return+ba(A[Fa-1],Fa-1,A);var Fa;V*=Fa-1;Fa=Math.floor(V);var tb=+ba(A[Fa],Fa,A);A=+ba(A[Fa+1],Fa+1,A);return tb+(A-tb)*(V-Fa)}}function Na(A,V,ba){A=+A;V=+V;ba=2>(tb=arguments.length)?(V=A,A=
0,1):3>tb?1:+ba;for(var Fa=-1,tb=Math.max(0,Math.ceil((V-A)/ba))|0,xb=Array(tb);++Fa<tb;)xb[Fa]=A+Fa*ba;return xb}function Da(A,V){switch(arguments.length){case 0:break;case 1:this.range(A);break;default:this.range(V).domain(A)}return this}function Ia(A,V){switch(arguments.length){case 0:break;case 1:"function"===typeof A?this.interpolator(A):this.range(A);break;default:this.domain(A),"function"===typeof V?this.interpolator(V):this.range(V)}return this}function kb(){function A(xb){let Mb=V.get(xb);
if(void 0===Mb){if(tb!==Hh)return tb;V.set(xb,Mb=ba.push(xb)-1)}return Fa[Mb%Fa.length]}var V=new qh,ba=[],Fa=[],tb=Hh;A.domain=function(xb){if(!arguments.length)return ba.slice();ba=[];V=new qh;for(const Mb of xb)V.has(Mb)||V.set(Mb,ba.push(Mb)-1);return A};A.range=function(xb){return arguments.length?(Fa=Array.from(xb),A):Fa.slice()};A.unknown=function(xb){return arguments.length?(tb=xb,A):tb};A.copy=function(){return kb(ba,Fa).unknown(tb)};Da.apply(A,arguments);return A}function mb(A,V,ba){A.prototype=
V.prototype=ba;ba.constructor=A}function Ma(A,V){A=Object.create(A.prototype);for(var ba in V)A[ba]=V[ba];return A}function vb(){}function qb(){return this.rgb().formatHex()}function Ob(){return this.rgb().formatRgb()}function Vb(A){var V,ba;A=(A+"").trim().toLowerCase();return(V=sh.exec(A))?(ba=V[1].length,V=parseInt(V[1],16),6===ba?ob(V):3===ba?new Ga(V>>8&15|V>>4&240,V>>4&15|V&240,(V&15)<<4|V&15,1):8===ba?ra(V>>24&255,V>>16&255,V>>8&255,(V&255)/255):4===ba?ra(V>>12&15|V>>8&240,V>>8&15|V>>4&240,
V>>4&15|V&240,((V&15)<<4|V&15)/255):null):(V=Bh.exec(A))?new Ga(V[1],V[2],V[3],1):(V=ji.exec(A))?new Ga(255*V[1]/100,255*V[2]/100,255*V[3]/100,1):(V=dh.exec(A))?ra(V[1],V[2],V[3],V[4]):(V=th.exec(A))?ra(255*V[1]/100,255*V[2]/100,255*V[3]/100,V[4]):(V=yi.exec(A))?S(V[1],V[2]/100,V[3]/100,1):(V=Fg.exec(A))?S(V[1],V[2]/100,V[3]/100,V[4]):Mh.hasOwnProperty(A)?ob(Mh[A]):"transparent"===A?new Ga(NaN,NaN,NaN,0):null}function ob(A){return new Ga(A>>16&255,A>>8&255,A&255,1)}function ra(A,V,ba,Fa){0>=Fa&&(A=
V=ba=NaN);return new Ga(A,V,ba,Fa)}function Y(A){A instanceof vb||(A=Vb(A));if(!A)return new Ga;A=A.rgb();return new Ga(A.r,A.g,A.b,A.opacity)}function Ea(A,V,ba,Fa){return 1===arguments.length?Y(A):new Ga(A,V,ba,null==Fa?1:Fa)}function Ga(A,V,ba,Fa){this.r=+A;this.g=+V;this.b=+ba;this.opacity=+Fa}function cb(){return`#${N(this.r)}${N(this.g)}${N(this.b)}`}function ca(){const A=pa(this.opacity);return`${1===A?"rgb(":"rgba("}${x(this.r)}, ${x(this.g)}, ${x(this.b)}${1===A?")":`, ${A})`}`}function pa(A){return isNaN(A)?
1:Math.max(0,Math.min(1,A))}function x(A){return Math.max(0,Math.min(255,Math.round(A)||0))}function N(A){A=x(A);return(16>A?"0":"")+A.toString(16)}function S(A,V,ba,Fa){0>=Fa?A=V=ba=NaN:0>=ba||1<=ba?A=V=NaN:0>=V&&(A=NaN);return new m(A,V,ba,Fa)}function g(A){if(A instanceof m)return new m(A.h,A.s,A.l,A.opacity);A instanceof vb||(A=Vb(A));if(!A)return new m;if(A instanceof m)return A;A=A.rgb();var V=A.r/255,ba=A.g/255,Fa=A.b/255,tb=Math.min(V,ba,Fa),xb=Math.max(V,ba,Fa),Mb=NaN,Nb=xb-tb,Lc=(xb+tb)/
2;Nb?(Mb=V===xb?(ba-Fa)/Nb+6*(ba<Fa):ba===xb?(Fa-V)/Nb+2:(V-ba)/Nb+4,Nb/=.5>Lc?xb+tb:2-xb-tb,Mb*=60):Nb=0<Lc&&1>Lc?0:Mb;return new m(Mb,Nb,Lc,A.opacity)}function z(A,V,ba,Fa){return 1===arguments.length?g(A):new m(A,V,ba,null==Fa?1:Fa)}function m(A,V,ba,Fa){this.h=+A;this.s=+V;this.l=+ba;this.opacity=+Fa}function E(A){A=(A||0)%360;return 0>A?A+360:A}function h(A){return Math.max(0,Math.min(1,A||0))}function p(A,V,ba){return 255*(60>A?V+(ba-V)*A/60:180>A?ba:240>A?V+(ba-V)*(240-A)/60:V)}function r(A){if(A instanceof
F)return new F(A.l,A.a,A.b,A.opacity);if(A instanceof Xa)return ab(A);A instanceof Ga||(A=Y(A));var V=I(A.r),ba=I(A.g),Fa=I(A.b),tb=aa(.2225045*V+.7168786*ba+.0606169*Fa);if(V===ba&&ba===Fa)var xb=V=tb;else xb=aa((.4360747*V+.3850649*ba+.1430804*Fa)/.96422),V=aa((.0139322*V+.0971045*ba+.7141733*Fa)/.82521);return new F(116*tb-16,500*(xb-tb),200*(tb-V),A.opacity)}function v(A,V,ba,Fa){return 1===arguments.length?r(A):new F(A,V,ba,null==Fa?1:Fa)}function F(A,V,ba,Fa){this.l=+A;this.a=+V;this.b=+ba;
this.opacity=+Fa}function aa(A){return A>Gg?Math.pow(A,1/3):A/Ch+gh}function O(A){return A>kh?A*A*A:Ch*(A-gh)}function u(A){return 255*(.0031308>=A?12.92*A:1.055*Math.pow(A,1/2.4)-.055)}function I(A){return.04045>=(A/=255)?A/12.92:Math.pow((A+.055)/1.055,2.4)}function va(A){if(A instanceof Xa)return new Xa(A.h,A.c,A.l,A.opacity);A instanceof F||(A=r(A));if(0===A.a&&0===A.b)return new Xa(NaN,0<A.l&&100>A.l?0:NaN,A.l,A.opacity);var V=Math.atan2(A.b,A.a)*Rg;return new Xa(0>V?V+360:V,Math.sqrt(A.a*A.a+
A.b*A.b),A.l,A.opacity)}function La(A,V,ba,Fa){return 1===arguments.length?va(A):new Xa(A,V,ba,null==Fa?1:Fa)}function Xa(A,V,ba,Fa){this.h=+A;this.c=+V;this.l=+ba;this.opacity=+Fa}function ab(A){if(isNaN(A.h))return new F(A.l,0,0,A.opacity);var V=A.h*Xh;return new F(A.l,Math.cos(V)*A.c,Math.sin(V)*A.c,A.opacity)}function Z(A,V,ba,Fa){if(1===arguments.length){var tb=A;if(tb instanceof Ca)tb=new Ca(tb.h,tb.s,tb.l,tb.opacity);else{tb instanceof Ga||(tb=Y(tb));var xb=tb.g/255,Mb=tb.b/255,Nb=(Nh*Mb+tb.r/
255*-1.7884503806-3.5172982438*xb)/(Nh+-1.7884503806-3.5172982438);Mb-=Nb;var Lc=(1.97294*(xb-Nb)- -.29227*Mb)/-.90649;Mb=(xb=Math.sqrt(Lc*Lc+Mb*Mb)/(1.97294*Nb*(1-Nb)))?Math.atan2(Lc,Mb)*Rg-120:NaN;tb=new Ca(0>Mb?Mb+360:Mb,xb,Nb,tb.opacity)}}else tb=new Ca(A,V,ba,null==Fa?1:Fa);return tb}function Ca(A,V,ba,Fa){this.h=+A;this.s=+V;this.l=+ba;this.opacity=+Fa}function Ya(A,V,ba,Fa,tb){var xb=A*A,Mb=xb*A;return((1-3*A+3*xb-Mb)*V+(4-6*xb+3*Mb)*ba+(1+3*A+3*xb-3*Mb)*Fa+Mb*tb)/6}function Kb(A){var V=A.length-
1;return function(ba){var Fa=0>=ba?ba=0:1<=ba?(ba=1,V-1):Math.floor(ba*V),tb=A[Fa],xb=A[Fa+1];return Ya((ba-Fa/V)*V,0<Fa?A[Fa-1]:2*tb-xb,tb,xb,Fa<V-1?A[Fa+2]:2*xb-tb)}}function xc(A){var V=A.length;return function(ba){var Fa=Math.floor((0>(ba%=1)?++ba:ba)*V);return Ya((ba-Fa/V)*V,A[(Fa+V-1)%V],A[Fa%V],A[(Fa+1)%V],A[(Fa+2)%V])}}function rc(A,V){return function(ba){return A+ba*V}}function yc(A,V,ba){return A=Math.pow(A,ba),V=Math.pow(V,ba)-A,ba=1/ba,function(Fa){return Math.pow(A+Fa*V,ba)}}function dd(A,
V){var ba=V-A;return ba?rc(A,180<ba||-180>ba?ba-360*Math.round(ba/360):ba):Dh(isNaN(A)?V:A)}function $b(A){return 1===(A=+A)?Rc:function(V,ba){return ba-V?yc(V,ba,A):Dh(isNaN(V)?ba:V)}}function Rc(A,V){var ba=V-A;return ba?rc(A,ba):Dh(isNaN(A)?V:A)}function Pd(A){return function(V){var ba=V.length,Fa=Array(ba),tb=Array(ba),xb=Array(ba),Mb;for(Mb=0;Mb<ba;++Mb){var Nb=Ea(V[Mb]);Fa[Mb]=Nb.r||0;tb[Mb]=Nb.g||0;xb[Mb]=Nb.b||0}Fa=A(Fa);tb=A(tb);xb=A(xb);Nb.opacity=1;return function(Lc){Nb.r=Fa(Lc);Nb.g=
tb(Lc);Nb.b=xb(Lc);return Nb+""}}}function Pa(A,V){V||(V=[]);var ba=A?Math.min(V.length,A.length):0,Fa=V.slice(),tb;return function(xb){for(tb=0;tb<ba;++tb)Fa[tb]=A[tb]*(1-xb)+V[tb]*xb;return Fa}}function Wb(A){return ArrayBuffer.isView(A)&&!(A instanceof DataView)}function sb(A,V){var ba=V?V.length:0,Fa=A?Math.min(ba,A.length):0,tb=Array(Fa),xb=Array(ba),Mb;for(Mb=0;Mb<Fa;++Mb)tb[Mb]=Nd(A[Mb],V[Mb]);for(;Mb<ba;++Mb)xb[Mb]=V[Mb];return function(Nb){for(Mb=0;Mb<Fa;++Mb)xb[Mb]=tb[Mb](Nb);return xb}}
function Tb(A,V){var ba=new Date;return A=+A,V=+V,function(Fa){return ba.setTime(A*(1-Fa)+V*Fa),ba}}function ic(A,V){return A=+A,V=+V,function(ba){return A*(1-ba)+V*ba}}function dc(A,V){var ba={},Fa={},tb;if(null===A||"object"!==typeof A)A={};if(null===V||"object"!==typeof V)V={};for(tb in V)tb in A?ba[tb]=Nd(A[tb],V[tb]):Fa[tb]=V[tb];return function(xb){for(tb in ba)Fa[tb]=ba[tb](xb);return Fa}}function Ic(A){return function(){return A}}function Ac(A){return function(V){return A(V)+""}}function Zc(A,
V){var ba=eh.lastIndex=Zg.lastIndex=0,Fa,tb,xb,Mb=-1,Nb=[],Lc=[];A+="";for(V+="";(Fa=eh.exec(A))&&(tb=Zg.exec(V));)(xb=tb.index)>ba&&(xb=V.slice(ba,xb),Nb[Mb]?Nb[Mb]+=xb:Nb[++Mb]=xb),(Fa=Fa[0])===(tb=tb[0])?Nb[Mb]?Nb[Mb]+=tb:Nb[++Mb]=tb:(Nb[++Mb]=null,Lc.push({i:Mb,x:ic(Fa,tb)})),ba=Zg.lastIndex;ba<V.length&&(xb=V.slice(ba),Nb[Mb]?Nb[Mb]+=xb:Nb[++Mb]=xb);return 2>Nb.length?Lc[0]?Ac(Lc[0].x):Ic(V):(V=Lc.length,function(Dd){for(var gd=0,nc;gd<V;++gd)Nb[(nc=Lc[gd]).i]=nc.x(Dd);return Nb.join("")})}function Nd(A,
V){var ba=typeof V,Fa;return null==V||"boolean"===ba?Dh(V):("number"===ba?ic:"string"===ba?(Fa=Vb(V))?(V=Fa,Hg):Zc:V instanceof Vb?Hg:V instanceof Date?Tb:Wb(V)?Pa:Array.isArray(V)?sb:"function"!==typeof V.valueOf&&"function"!==typeof V.toString||isNaN(V)?dc:ic)(A,V)}function ud(A,V){return A=+A,V=+V,function(ba){return Math.round(A*(1-ba)+V*ba)}}function Ha(A,V,ba,Fa,tb,xb){var Mb,Nb,Lc;if(Mb=Math.sqrt(A*A+V*V))A/=Mb,V/=Mb;if(Lc=A*ba+V*Fa)ba-=A*Lc,Fa-=V*Lc;if(Nb=Math.sqrt(ba*ba+Fa*Fa))ba/=Nb,Fa/=
Nb,Lc/=Nb;A*Fa<V*ba&&(A=-A,V=-V,Lc=-Lc,Mb=-Mb);return{translateX:tb,translateY:xb,rotate:Math.atan2(V,A)*Xf,skewX:Math.atan(Lc)*Xf,scaleX:Mb,scaleY:Nb}}function gb(A,V,ba,Fa){function tb(Dd){return Dd.length?Dd.pop()+" ":""}function xb(Dd,gd,nc,sd,xd,ze){Dd!==nc||gd!==sd?(xd=xd.push("translate(",null,V,null,ba),ze.push({i:xd-4,x:ic(Dd,nc)},{i:xd-2,x:ic(gd,sd)})):(nc||sd)&&xd.push("translate("+nc+V+sd+ba)}function Mb(Dd,gd,nc,sd){Dd!==gd?(180<Dd-gd?gd+=360:180<gd-Dd&&(Dd+=360),sd.push({i:nc.push(tb(nc)+
"rotate(",null,Fa)-2,x:ic(Dd,gd)})):gd&&nc.push(tb(nc)+"rotate("+gd+Fa)}function Nb(Dd,gd,nc,sd){Dd!==gd?sd.push({i:nc.push(tb(nc)+"skewX(",null,Fa)-2,x:ic(Dd,gd)}):gd&&nc.push(tb(nc)+"skewX("+gd+Fa)}function Lc(Dd,gd,nc,sd,xd,ze){Dd!==nc||gd!==sd?(xd=xd.push(tb(xd)+"scale(",null,",",null,")"),ze.push({i:xd-4,x:ic(Dd,nc)},{i:xd-2,x:ic(gd,sd)})):1===nc&&1===sd||xd.push(tb(xd)+"scale("+nc+","+sd+")")}return function(Dd,gd){var nc=[],sd=[];Dd=A(Dd);gd=A(gd);xb(Dd.translateX,Dd.translateY,gd.translateX,
gd.translateY,nc,sd);Mb(Dd.rotate,gd.rotate,nc,sd);Nb(Dd.skewX,gd.skewX,nc,sd);Lc(Dd.scaleX,Dd.scaleY,gd.scaleX,gd.scaleY,nc,sd);Dd=gd=null;return function(xd){for(var ze=-1,oe=sd.length,Xe;++ze<oe;)nc[(Xe=sd[ze]).i]=Xe.x(xd);return nc.join("")}}}function wb(A){return((A=Math.exp(A))+1/A)/2}function ua(A){return function(V,ba){var Fa=A((V=z(V)).h,(ba=z(ba)).h),tb=Rc(V.s,ba.s),xb=Rc(V.l,ba.l),Mb=Rc(V.opacity,ba.opacity);return function(Nb){V.h=Fa(Nb);V.s=tb(Nb);V.l=xb(Nb);V.opacity=Mb(Nb);return V+
""}}}function H(A){return function(V,ba){var Fa=A((V=La(V)).h,(ba=La(ba)).h),tb=Rc(V.c,ba.c),xb=Rc(V.l,ba.l),Mb=Rc(V.opacity,ba.opacity);return function(Nb){V.h=Fa(Nb);V.c=tb(Nb);V.l=xb(Nb);V.opacity=Mb(Nb);return V+""}}}function za(A){return function Fa(ba){function tb(xb,Mb){var Nb=A((xb=Z(xb)).h,(Mb=Z(Mb)).h),Lc=Rc(xb.s,Mb.s),Dd=Rc(xb.l,Mb.l),gd=Rc(xb.opacity,Mb.opacity);return function(nc){xb.h=Nb(nc);xb.s=Lc(nc);xb.l=Dd(Math.pow(nc,ba));xb.opacity=gd(nc);return xb+""}}ba=+ba;tb.gamma=Fa;return tb}(1)}
function Qa(A,V){void 0===V&&(V=A,A=Nd);for(var ba=0,Fa=V.length-1,tb=V[0],xb=Array(0>Fa?0:Fa);ba<Fa;)xb[ba]=A(tb,tb=V[++ba]);return function(Mb){var Nb=Math.max(0,Math.min(Fa-1,Math.floor(Mb*=Fa)));return xb[Nb](Mb-Nb)}}function $a(A){return function(){return A}}function lb(A){return+A}function Gb(A){return A}function oc(A,V){return(V-=A=+A)?function(ba){return(ba-A)/V}:$a(isNaN(V)?NaN:.5)}function ec(A,V){if(A>V){var ba=A;A=V;V=ba}return function(Fa){return Math.max(A,Math.min(V,Fa))}}function kc(A,
V,ba){var Fa=A[0];A=A[1];var tb=V[0];V=V[1];A<Fa?(Fa=oc(A,Fa),tb=ba(V,tb)):(Fa=oc(Fa,A),tb=ba(tb,V));return function(xb){return tb(Fa(xb))}}function Sc(A,V,ba){var Fa=Math.min(A.length,V.length)-1,tb=Array(Fa),xb=Array(Fa),Mb=-1;A[Fa]<A[0]&&(A=A.slice().reverse(),V=V.slice().reverse());for(;++Mb<Fa;)tb[Mb]=oc(A[Mb],A[Mb+1]),xb[Mb]=ba(V[Mb],V[Mb+1]);return function(Nb){var Lc=Mg(A,Nb,1,Fa)-1;return xb[Lc](tb[Lc](Nb))}}function ed(A,V){return V.domain(A.domain()).range(A.range()).interpolate(A.interpolate()).clamp(A.clamp()).unknown(A.unknown())}
function fd(){function A(){var sd=Math.min(ba.length,Fa.length);Lc!==Gb&&(Lc=ec(ba[0],ba[sd-1]));Dd=2<sd?Sc:kc;gd=nc=null;return V}function V(sd){return null==sd||isNaN(sd=+sd)?Nb:(gd||(gd=Dd(ba.map(xb),Fa,tb)))(xb(Lc(sd)))}var ba=xa,Fa=xa,tb=Nd,xb,Mb,Nb,Lc=Gb,Dd,gd,nc;V.invert=function(sd){return Lc(Mb((nc||(nc=Dd(Fa,ba.map(xb),ic)))(sd)))};V.domain=function(sd){return arguments.length?(ba=Array.from(sd,lb),A()):ba.slice()};V.range=function(sd){return arguments.length?(Fa=Array.from(sd),A()):Fa.slice()};
V.rangeRound=function(sd){return Fa=Array.from(sd),tb=ud,A()};V.clamp=function(sd){return arguments.length?(Lc=sd?!0:Gb,A()):Lc!==Gb};V.interpolate=function(sd){return arguments.length?(tb=sd,A()):tb};V.unknown=function(sd){return arguments.length?(Nb=sd,V):Nb};return function(sd,xd){xb=sd;Mb=xd;return A()}}function Qd(A,V){if(0>(V=(A=V?A.toExponential(V-1):A.toExponential()).indexOf("e")))return null;var ba=A.slice(0,V);return[1<ba.length?ba[0]+ba.slice(2):ba,+A.slice(V+1)]}function Td(A){return A=
Qd(Math.abs(A)),A?A[1]:NaN}function Ed(A,V){return function(ba,Fa){for(var tb=ba.length,xb=[],Mb=0,Nb=A[0],Lc=0;0<tb&&0<Nb;){Lc+Nb+1>Fa&&(Nb=Math.max(1,Fa-Lc));xb.push(ba.substring(tb-=Nb,tb+Nb));if((Lc+=Nb+1)>Fa)break;Nb=A[Mb=(Mb+1)%A.length]}return xb.reverse().join(V)}}function Yd(A){return function(V){return V.replace(/[0-9]/g,function(ba){return A[+ba]})}}function ae(A){if(!(V=y.exec(A)))throw Error("invalid format: "+A);var V;return new Ud({fill:V[1],align:V[2],sign:V[3],symbol:V[4],zero:V[5],
width:V[6],comma:V[7],precision:V[8]&&V[8].slice(1),trim:V[9],type:V[10]})}function Ud(A){this.fill=void 0===A.fill?" ":A.fill+"";this.align=void 0===A.align?"\x3e":A.align+"";this.sign=void 0===A.sign?"-":A.sign+"";this.symbol=void 0===A.symbol?"":A.symbol+"";this.zero=!!A.zero;this.width=void 0===A.width?void 0:+A.width;this.comma=!!A.comma;this.precision=void 0===A.precision?void 0:+A.precision;this.trim=!!A.trim;this.type=void 0===A.type?"":A.type+""}function Ye(A,V){V=Qd(A,V);if(!V)return A+
"";A=V[0];V=V[1];return 0>V?"0."+Array(-V).join("0")+A:A.length>V+1?A.slice(0,V+1)+"."+A.slice(V+1):A+Array(V-A.length+2).join("0")}function Wd(A){return A}function P(A){function V(gd){function nc(le){var Oe=uf,re=Pg,gg,Ig;if("c"===jg)re=vg(le)+re,le="";else{le=+le;var zg=0>le||0>1/le;le=isNaN(le)?Dd:vg(Math.abs(le),ig);if(Gh){var mg=le.length,Oh=1,fi=-1;a:for(;Oh<mg;++Oh)switch(le[Oh]){case ".":fi=gg=Oh;break;case "0":0===fi&&(fi=Oh);gg=Oh;break;default:if(!+le[Oh])break a;0<fi&&(fi=0)}le=0<fi?le.slice(0,
fi)+le.slice(gg+1):le}zg&&0===+le&&"+"!==ze&&(zg=!1);Oe=(zg?"("===ze?ze:Lc:"-"===ze||"("===ze?"":ze)+Oe;re=("s"===jg?D[8+G/3]:"")+re+(zg&&"("===ze?")":"");if(Je)for(zg=-1,gg=le.length;++zg<gg;)if(Ig=le.charCodeAt(zg),48>Ig||57<Ig){re=(46===Ig?xb+le.slice(zg+1):le.slice(zg))+re;le=le.slice(0,zg);break}}Zf&&!Xe&&(le=ba(le,Infinity));Ig=Oe.length+le.length+re.length;zg=Ig<Ef?Array(Ef-Ig+1).join(sd):"";Zf&&Xe&&(le=ba(zg+le,zg.length?Ef-re.length:Infinity),zg="");switch(xd){case "\x3c":le=Oe+le+re+zg;
break;case "\x3d":le=Oe+zg+le+re;break;case "^":le=zg.slice(0,Ig=zg.length>>1)+Oe+le+re+zg.slice(Ig);break;default:le=zg+Oe+le+re}return Mb(le)}gd=ae(gd);var sd=gd.fill,xd=gd.align,ze=gd.sign,oe=gd.symbol,Xe=gd.zero,Ef=gd.width,Zf=gd.comma,ig=gd.precision,Gh=gd.trim,jg=gd.type;"n"===jg?(Zf=!0,jg="g"):ja[jg]||(void 0===ig&&(ig=12),Gh=!0,jg="g");if(Xe||"0"===sd&&"\x3d"===xd)Xe=!0,sd="0",xd="\x3d";var uf="$"===oe?Fa:"#"===oe&&/[boxX]/.test(jg)?"0"+jg.toLowerCase():"",Pg="$"===oe?tb:/[%p]/.test(jg)?Nb:
"",vg=ja[jg],Je=/[defgprs%]/.test(jg);ig=void 0===ig?6:/[gprs]/.test(jg)?Math.max(1,Math.min(21,ig)):Math.max(0,Math.min(20,ig));nc.toString=function(){return gd+""};return nc}var ba=void 0===A.grouping||void 0===A.thousands?Wd:Ed(n.call(A.grouping,Number),A.thousands+""),Fa=void 0===A.currency?"":A.currency[0]+"",tb=void 0===A.currency?"":A.currency[1]+"",xb=void 0===A.decimal?".":A.decimal+"",Mb=void 0===A.numerals?Wd:Yd(n.call(A.numerals,String)),Nb=void 0===A.percent?"%":A.percent+"",Lc=void 0===
A.minus?"":A.minus+"",Dd=void 0===A.nan?"NaN":A.nan+"";return{format:V,formatPrefix:function(gd,nc){var sd=V((gd=ae(gd),gd.type="f",gd));gd=3*Math.max(-8,Math.min(8,Math.floor(Td(nc)/3)));var xd=Math.pow(10,-gd),ze=D[8+gd/3];return function(oe){return sd(xd*oe)+ze}}}}function na(A,V,ba,Fa){ba=Wa(A,V,ba);Fa=ae(null==Fa?",f":Fa);switch(Fa.type){case "s":A=Math.max(Math.abs(A),Math.abs(V));if(V=null==Fa.precision){var tb=isNaN;ba=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Td(A)/3)))-Td(Math.abs(ba)));
V=!tb(tb=ba)}V&&(Fa.precision=tb);return Va(Fa,A);case "":case "e":case "g":case "p":case "r":var xb;if(xb=null==Fa.precision)tb=isNaN,A=Math.max(Math.abs(A),Math.abs(V)),ba=Math.abs(ba),A=Math.abs(A)-ba,ba=Math.max(0,Td(A)-Td(ba))+1,xb=!tb(tb=ba);xb&&(Fa.precision=tb-("e"===Fa.type));break;case "f":case "%":null!=Fa.precision||isNaN(tb=Math.max(0,-Td(Math.abs(ba))))||(Fa.precision=tb-2*("%"===Fa.type))}return oa(Fa)}function Aa(A){var V=A.domain;A.ticks=function(ba){var Fa=V();return Bb(Fa[0],Fa[Fa.length-
1],null==ba?10:ba)};A.tickFormat=function(ba,Fa){var tb=V();return na(tb[0],tb[tb.length-1],null==ba?10:ba,Fa)};A.nice=function(ba){null==ba&&(ba=10);var Fa=V(),tb=0,xb=Fa.length-1,Mb=Fa[tb],Nb=Fa[xb],Lc=10;if(Nb<Mb){var Dd=Mb;Mb=Nb;Nb=Dd;Dd=tb;tb=xb;xb=Dd}for(;0<Lc--;){Dd=Lb(Mb,Nb,ba);if(Dd===gd)return Fa[tb]=Mb,Fa[xb]=Nb,V(Fa);if(0<Dd)Mb=Math.floor(Mb/Dd)*Dd,Nb=Math.ceil(Nb/Dd)*Dd;else if(0>Dd)Mb=Math.ceil(Mb*Dd)/Dd,Nb=Math.floor(Nb*Dd)/Dd;else break;var gd=Dd}return A};return A}function fb(){var A=
fd()(Gb,Gb);A.copy=function(){return ed(A,fb())};Da.apply(A,arguments);return Aa(A)}function Jb(A){function V(Fa){return null==Fa||isNaN(Fa=+Fa)?ba:Fa}var ba;V.invert=V;V.domain=V.range=function(Fa){return arguments.length?(A=Array.from(Fa,lb),V):A.slice()};V.unknown=function(Fa){return arguments.length?(ba=Fa,V):ba};V.copy=function(){return Jb(A).unknown(ba)};A=arguments.length?Array.from(A,lb):[0,1];return Aa(V)}function Zb(A,V){A=A.slice();var ba=0,Fa=A.length-1,tb=A[ba],xb=A[Fa];if(xb<tb){var Mb=
ba;ba=Fa;Fa=Mb;Mb=tb;tb=xb;xb=Mb}A[ba]=V.floor(tb);A[Fa]=V.ceil(xb);return A}function Cc(A){return Math.log(A)}function mc(A){return Math.exp(A)}function Hc(A){return-Math.log(-A)}function jd(A){return-Math.exp(-A)}function Nc(A){return isFinite(A)?+("1e"+A):0>A?0:A}function vd(A){return 10===A?Nc:A===Math.E?Math.exp:V=>Math.pow(A,V)}function Gd(A){return A===Math.E?Math.log:10===A&&Math.log10||2===A&&Math.log2||(A=Math.log(A),V=>Math.log(V)/A)}function Fd(A){return(V,ba)=>-A(-V,ba)}function Xd(A){function V(){xb=
Gd(tb);Mb=vd(tb);0>Fa()[0]?(xb=Fd(xb),Mb=Fd(Mb),A(Hc,jd)):A(Cc,mc);return ba}const ba=A(Cc,mc),Fa=ba.domain;let tb=10,xb,Mb;ba.base=function(Nb){return arguments.length?(tb=+Nb,V()):tb};ba.domain=function(Nb){return arguments.length?(Fa(Nb),V()):Fa()};ba.ticks=Nb=>{var Lc=Fa();let Dd=Lc[0];Lc=Lc[Lc.length-1];const gd=Lc<Dd;gd&&([Dd,Lc]=[Lc,Dd]);let nc=xb(Dd),sd=xb(Lc),xd;const ze=null==Nb?10:+Nb;let oe=[];if(!(tb%1)&&sd-nc<ze){nc=Math.floor(nc);sd=Math.ceil(sd);if(0<Dd)for(;nc<=sd;++nc)for(Nb=1;Nb<
tb;++Nb){if(xd=0>nc?Nb/Mb(-nc):Nb*Mb(nc),!(xd<Dd)){if(xd>Lc)break;oe.push(xd)}}else for(;nc<=sd;++nc)for(Nb=tb-1;1<=Nb;--Nb)if(xd=0<nc?Nb/Mb(-nc):Nb*Mb(nc),!(xd<Dd)){if(xd>Lc)break;oe.push(xd)}2*oe.length<ze&&(oe=Bb(Dd,Lc,ze))}else oe=Bb(nc,sd,Math.min(sd-nc,ze)).map(Mb);return gd?oe.reverse():oe};ba.tickFormat=(Nb,Lc)=>{null==Nb&&(Nb=10);null==Lc&&(Lc=10===tb?"s":",");"function"!==typeof Lc&&(tb%1||null!=(Lc=ae(Lc)).precision||(Lc.trim=!0),Lc=oa(Lc));if(Infinity===Nb)return Lc;const Dd=Math.max(1,
tb*Nb/ba.ticks().length);return gd=>{let nc=gd/Mb(Math.round(xb(gd)));nc*tb<tb-.5&&(nc*=tb);return nc<=Dd?Lc(gd):""}};ba.nice=()=>Fa(Zb(Fa(),{floor:Nb=>Mb(Math.floor(xb(Nb))),ceil:Nb=>Mb(Math.ceil(xb(Nb)))}));return ba}function Od(){const A=Xd(fd()).domain([1,10]);A.copy=()=>ed(A,Od()).base(A.base());Da.apply(A,arguments);return A}function qe(A){return function(V){return Math.sign(V)*Math.log1p(Math.abs(V/A))}}function De(A){return function(V){return Math.sign(V)*Math.expm1(Math.abs(V))*A}}function gf(A){var V=
1,ba=A(qe(V),De(V));ba.constant=function(Fa){return arguments.length?A(qe(V=+Fa),De(V)):V};return Aa(ba)}function df(){var A=gf(fd());A.copy=function(){return ed(A,df()).constant(A.constant())};return Da.apply(A,arguments)}function ef(A){return function(V){return 0>V?-Math.pow(-V,A):Math.pow(V,A)}}function pe(A){return 0>A?-Math.sqrt(-A):Math.sqrt(A)}function nf(A){return 0>A?-A*A:A*A}function W(A){var V=A(Gb,Gb),ba=1;V.exponent=function(Fa){return arguments.length?(ba=+Fa,1===ba?A(Gb,Gb):.5===ba?
A(pe,nf):A(ef(ba),ef(1/ba))):ba};return Aa(V)}function wa(){var A=W(fd());A.copy=function(){return ed(A,wa()).exponent(A.exponent())};Da.apply(A,arguments);return A}function db(){function A(){var Mb=0,Nb=Math.max(1,Fa.length);for(tb=Array(Nb-1);++Mb<Nb;)tb[Mb-1]=pb(ba,Mb/Nb);return V}function V(Mb){return null==Mb||isNaN(Mb=+Mb)?xb:Fa[Mg(tb,Mb)]}var ba=[],Fa=[],tb=[],xb;V.invertExtent=function(Mb){Mb=Fa.indexOf(Mb);return 0>Mb?[NaN,NaN]:[0<Mb?tb[Mb-1]:ba[0],Mb<tb.length?tb[Mb]:ba[ba.length-1]]};V.domain=
function(Mb){if(!arguments.length)return ba.slice();ba=[];for(let Nb of Mb)null==Nb||isNaN(Nb=+Nb)||ba.push(Nb);ba.sort(sc);return A()};V.range=function(Mb){return arguments.length?(Fa=Array.from(Mb),A()):Fa.slice()};V.unknown=function(Mb){return arguments.length?(xb=Mb,V):xb};V.quantiles=function(){return tb.slice()};V.copy=function(){return db().domain(ba).range(Fa).unknown(xb)};return Da.apply(V,arguments)}function yb(){function A(Lc){return null!=Lc&&Lc<=Lc?Mb[Mg(xb,Lc,0,tb)]:Nb}function V(){var Lc=
-1;for(xb=Array(tb);++Lc<tb;)xb[Lc]=((Lc+1)*Fa-(Lc-tb)*ba)/(tb+1);return A}var ba=0,Fa=1,tb=1,xb=[.5],Mb=[0,1],Nb;A.domain=function(Lc){return arguments.length?([ba,Fa]=Lc,ba=+ba,Fa=+Fa,V()):[ba,Fa]};A.range=function(Lc){return arguments.length?(tb=(Mb=Array.from(Lc)).length-1,V()):Mb.slice()};A.invertExtent=function(Lc){Lc=Mb.indexOf(Lc);return 0>Lc?[NaN,NaN]:1>Lc?[ba,xb[0]]:Lc>=tb?[xb[tb-1],Fa]:[xb[Lc-1],xb[Lc]]};A.unknown=function(Lc){return arguments.length?(Nb=Lc,A):A};A.thresholds=function(){return xb.slice()};
A.copy=function(){return yb().domain([ba,Fa]).range(Mb).unknown(Nb)};return Da.apply(Aa(A),arguments)}function hc(){function A(xb){return null!=xb&&xb<=xb?ba[Mg(V,xb,0,tb)]:Fa}var V=[.5],ba=[0,1],Fa,tb=1;A.domain=function(xb){return arguments.length?(V=Array.from(xb),tb=Math.min(V.length,ba.length-1),A):V.slice()};A.range=function(xb){return arguments.length?(ba=Array.from(xb),tb=Math.min(V.length,ba.length-1),A):ba.slice()};A.invertExtent=function(xb){xb=ba.indexOf(xb);return[V[xb-1],V[xb]]};A.unknown=
function(xb){return arguments.length?(Fa=xb,A):Fa};A.copy=function(){return hc().domain(V).range(ba).unknown(Fa)};return Da.apply(A,arguments)}function Ec(A,V,ba,Fa){function tb(xb){return A(xb=0===arguments.length?new Date:new Date(+xb)),xb}tb.floor=xb=>(A(xb=new Date(+xb)),xb);tb.ceil=xb=>(A(xb=new Date(xb-1)),V(xb,1),A(xb),xb);tb.round=xb=>{const Mb=tb(xb),Nb=tb.ceil(xb);return xb-Mb<Nb-xb?Mb:Nb};tb.offset=(xb,Mb)=>(V(xb=new Date(+xb),null==Mb?1:Math.floor(Mb)),xb);tb.range=(xb,Mb,Nb)=>{const Lc=
[];xb=tb.ceil(xb);Nb=null==Nb?1:Math.floor(Nb);if(!(xb<Mb&&0<Nb))return Lc;let Dd;do Lc.push(Dd=new Date(+xb)),V(xb,Nb),A(xb);while(Dd<xb&&xb<Mb);return Lc};tb.filter=xb=>Ec(Mb=>{if(Mb>=Mb)for(;A(Mb),!xb(Mb);)Mb.setTime(Mb-1)},(Mb,Nb)=>{if(Mb>=Mb)if(0>Nb)for(;0>=++Nb;)for(;V(Mb,-1),!xb(Mb););else for(;0<=--Nb;)for(;V(Mb,1),!xb(Mb););});ba&&(tb.count=(xb,Mb)=>{Za.setTime(+xb);Ib.setTime(+Mb);A(Za);A(Ib);return Math.floor(ba(Za,Ib))},tb.every=xb=>{xb=Math.floor(xb);return isFinite(xb)&&0<xb?1<xb?tb.filter(Fa?
Mb=>0===Fa(Mb)%xb:Mb=>0===tb.count(0,Mb)%xb):tb:null});return tb}function ac(A){return Ec(V=>{V.setDate(V.getDate()-(V.getDay()+7-A)%7);V.setHours(0,0,0,0)},(V,ba)=>{V.setDate(V.getDate()+7*ba)},(V,ba)=>(ba-V-6E4*(ba.getTimezoneOffset()-V.getTimezoneOffset()))/6048E5)}function L(A){return Ec(V=>{V.setUTCDate(V.getUTCDate()-(V.getUTCDay()+7-A)%7);V.setUTCHours(0,0,0,0)},(V,ba)=>{V.setUTCDate(V.getUTCDate()+7*ba)},(V,ba)=>(ba-V)/6048E5)}function fa(A,V,ba,Fa,tb,xb){function Mb(Lc,Dd,gd){const nc=Math.abs(Dd-
Lc)/gd,sd=pc(([,,oe])=>oe).right(Nb,nc);if(sd===Nb.length)return A.every(Wa(Lc/31536E6,Dd/31536E6,gd));if(0===sd)return bc.every(Math.max(Wa(Lc,Dd,gd),1));const [xd,ze]=Nb[nc/Nb[sd-1][2]<Nb[sd][2]/nc?sd-1:sd];return xd.every(ze)}const Nb=[[Ub,1,1E3],[Ub,5,5E3],[Ub,15,15E3],[Ub,30,3E4],[xb,1,6E4],[xb,5,3E5],[xb,15,9E5],[xb,30,18E5],[tb,1,36E5],[tb,3,108E5],[tb,6,216E5],[tb,12,432E5],[Fa,1,864E5],[Fa,2,1728E5],[ba,1,6048E5],[V,1,2592E6],[V,3,7776E6],[A,1,31536E6]];return[function(Lc,Dd,gd){const nc=
Dd<Lc;nc&&([Lc,Dd]=[Dd,Lc]);Lc=(gd=gd&&"function"===typeof gd.range?gd:Mb(Lc,Dd,gd))?gd.range(Lc,+Dd+1):[];return nc?Lc.reverse():Lc},Mb]}function Sa(A){if(0<=A.y&&100>A.y){var V=new Date(-1,A.m,A.d,A.H,A.M,A.S,A.L);V.setFullYear(A.y);return V}return new Date(A.y,A.m,A.d,A.H,A.M,A.S,A.L)}function cc(A){if(0<=A.y&&100>A.y){var V=new Date(Date.UTC(-1,A.m,A.d,A.H,A.M,A.S,A.L));V.setUTCFullYear(A.y);return V}return new Date(Date.UTC(A.y,A.m,A.d,A.H,A.M,A.S,A.L))}function Jc(A,V,ba){return{y:A,m:V,d:ba,
H:0,M:0,S:0,L:0}}function Bc(A){function V(Je,le){return function(Oe){var re=[],gg=-1,Ig=0,zg=Je.length,mg,Oh;for(Oe instanceof Date||(Oe=new Date(+Oe));++gg<zg;)if(37===Je.charCodeAt(gg)){re.push(Je.slice(Ig,gg));null!=(Ig=Oi[mg=Je.charAt(++gg)])?mg=Je.charAt(++gg):Ig="e"===mg?" ":"0";if(Oh=le[mg])mg=Oh(Oe,Ig);re.push(mg);Ig=gg+1}re.push(Je.slice(Ig,gg));return re.join("")}}function ba(Je,le){return function(Oe){var re=Jc(1900,void 0,1);if(Fa(re,Je,Oe+="",0)!=Oe.length)return null;if("Q"in re)return new Date(re.Q);
if("s"in re)return new Date(1E3*re.s+("L"in re?re.L:0));!le||"Z"in re||(re.Z=0);"p"in re&&(re.H=re.H%12+12*re.p);void 0===re.m&&(re.m="q"in re?re.q:0);if("V"in re){if(1>re.V||53<re.V)return null;"w"in re||(re.w=1);if("Z"in re){Oe=cc(Jc(re.y,0,1));var gg=Oe.getUTCDay();Oe=4<gg||0===gg?mf.ceil(Oe):mf(Oe);Oe=te.offset(Oe,7*(re.V-1));re.y=Oe.getUTCFullYear();re.m=Oe.getUTCMonth();re.d=Oe.getUTCDate()+(re.w+6)%7}else Oe=Sa(Jc(re.y,0,1)),gg=Oe.getDay(),Oe=4<gg||0===gg?Tf.ceil(Oe):Tf(Oe),Oe=Ce.offset(Oe,
7*(re.V-1)),re.y=Oe.getFullYear(),re.m=Oe.getMonth(),re.d=Oe.getDate()+(re.w+6)%7}else if("W"in re||"U"in re)"w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),gg="Z"in re?cc(Jc(re.y,0,1)).getUTCDay():Sa(Jc(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+7*re.W-(gg+5)%7:re.w+7*re.U-(gg+6)%7;return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,cc(re)):Sa(re)}}function Fa(Je,le,Oe,re){for(var gg=0,Ig=le.length,zg=Oe.length,mg;gg<Ig;){if(re>=zg)return-1;mg=le.charCodeAt(gg++);if(37===mg){if(mg=le.charAt(gg++),
mg=vg[mg in Oi?le.charAt(gg++):mg],!mg||0>(re=mg(Je,Oe,re)))return-1}else if(mg!=Oe.charCodeAt(re++))return-1}return re}var tb=A.dateTime,xb=A.date,Mb=A.time,Nb=A.periods,Lc=A.days,Dd=A.shortDays,gd=A.months,nc=A.shortMonths,sd=ee(Nb),xd=Ra(Nb),ze=ee(Lc),oe=Ra(Lc),Xe=ee(Dd),Ef=Ra(Dd),Zf=ee(gd),ig=Ra(gd),Gh=ee(nc),jg=Ra(nc),uf={a:function(Je){return Dd[Je.getDay()]},A:function(Je){return Lc[Je.getDay()]},b:function(Je){return nc[Je.getMonth()]},B:function(Je){return gd[Je.getMonth()]},c:null,d:Zd,
e:Zd,f:J,g:Yc,G:Ad,H:$d,I:ke,j:Q,L:ea,m:la,M:ma,p:function(Je){return Nb[+(12<=Je.getHours())]},q:function(Je){return 1+~~(Je.getMonth()/3)},Q:Pf,s:Jf,S:Ja,u:ib,U:gc,V:vc,w:Xb,W:Dc,x:null,X:null,y:yd,Y:hd,Z:Hd,"%":Cf},Pg={a:function(Je){return Dd[Je.getUTCDay()]},A:function(Je){return Lc[Je.getUTCDay()]},b:function(Je){return nc[Je.getUTCMonth()]},B:function(Je){return gd[Je.getUTCMonth()]},c:null,d:Pc,e:Pc,f:Id,g:Vd,G:jf,H:Ee,I:Ge,j:Ae,L:Be,m:he,M:xe,p:function(Je){return Nb[+(12<=Je.getUTCHours())]},
q:function(Je){return 1+~~(Je.getUTCMonth()/3)},Q:Pf,s:Jf,S:Le,u:of,U:We,V:vf,w:Of,W:af,x:null,X:null,y:ag,Y:hf,Z:Qe,"%":Cf},vg={a:function(Je,le,Oe){return(le=Xe.exec(le.slice(Oe)))?(Je.w=Ef.get(le[0].toLowerCase()),Oe+le[0].length):-1},A:function(Je,le,Oe){return(le=ze.exec(le.slice(Oe)))?(Je.w=oe.get(le[0].toLowerCase()),Oe+le[0].length):-1},b:function(Je,le,Oe){return(le=Gh.exec(le.slice(Oe)))?(Je.m=jg.get(le[0].toLowerCase()),Oe+le[0].length):-1},B:function(Je,le,Oe){return(le=Zf.exec(le.slice(Oe)))?
(Je.m=ig.get(le[0].toLowerCase()),Oe+le[0].length):-1},c:function(Je,le,Oe){return Fa(Je,tb,le,Oe)},d:be,e:be,f:Fc,g:td,G:Qc,H:Me,I:Me,j:ve,L:nd,m:Cd,M:$e,p:function(Je,le,Oe){return(le=sd.exec(le.slice(Oe)))?(Je.p=xd.get(le[0].toLowerCase()),Oe+le[0].length):-1},q:Ld,Q:Gc,s:Jd,S:sf,u:qc,U:wd,V:Mc,w:eb,W:Uc,x:function(Je,le,Oe){return Fa(Je,xb,le,Oe)},X:function(Je,le,Oe){return Fa(Je,Mb,le,Oe)},y:td,Y:Qc,Z:kd,"%":bd};uf.x=V(xb,uf);uf.X=V(Mb,uf);uf.c=V(tb,uf);Pg.x=V(xb,Pg);Pg.X=V(Mb,Pg);Pg.c=V(tb,
Pg);return{format:function(Je){var le=V(Je+="",uf);le.toString=function(){return Je};return le},parse:function(Je){var le=ba(Je+="",!1);le.toString=function(){return Je};return le},utcFormat:function(Je){var le=V(Je+="",Pg);le.toString=function(){return Je};return le},utcParse:function(Je){var le=ba(Je+="",!0);le.toString=function(){return Je};return le}}}function $c(A,V,ba){var Fa=0>A?"-":"";A=(Fa?-A:A)+"";var tb=A.length;return Fa+(tb<ba?Array(ba-tb+1).join(V)+A:A)}function pd(A){return A.replace(lj,
"\\$\x26")}function ee(A){return new RegExp("^(?:"+A.map(pd).join("|")+")","i")}function Ra(A){return new Map(A.map((V,ba)=>[V.toLowerCase(),ba]))}function eb(A,V,ba){return(V=Cg.exec(V.slice(ba,ba+1)))?(A.w=+V[0],ba+V[0].length):-1}function qc(A,V,ba){return(V=Cg.exec(V.slice(ba,ba+1)))?(A.u=+V[0],ba+V[0].length):-1}function wd(A,V,ba){return(V=Cg.exec(V.slice(ba,ba+2)))?(A.U=+V[0],ba+V[0].length):-1}function Mc(A,V,ba){return(V=Cg.exec(V.slice(ba,ba+2)))?(A.V=+V[0],ba+V[0].length):-1}function Uc(A,
V,ba){return(V=Cg.exec(V.slice(ba,ba+2)))?(A.W=+V[0],ba+V[0].length):-1}function Qc(A,V,ba){return(V=Cg.exec(V.slice(ba,ba+4)))?(A.y=+V[0],ba+V[0].length):-1}function td(A,V,ba){return(V=Cg.exec(V.slice(ba,ba+2)))?(A.y=+V[0]+(68<+V[0]?1900:2E3),ba+V[0].length):-1}function kd(A,V,ba){return(V=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(V.slice(ba,ba+6)))?(A.Z=V[1]?0:-(V[2]+(V[3]||"00")),ba+V[0].length):-1}function Ld(A,V,ba){return(V=Cg.exec(V.slice(ba,ba+1)))?(A.q=3*V[0]-3,ba+V[0].length):-1}function Cd(A,
V,ba){return(V=Cg.exec(V.slice(ba,ba+2)))?(A.m=V[0]-1,ba+V[0].length):-1}function be(A,V,ba){return(V=Cg.exec(V.slice(ba,ba+2)))?(A.d=+V[0],ba+V[0].length):-1}function ve(A,V,ba){return(V=Cg.exec(V.slice(ba,ba+3)))?(A.m=0,A.d=+V[0],ba+V[0].length):-1}function Me(A,V,ba){return(V=Cg.exec(V.slice(ba,ba+2)))?(A.H=+V[0],ba+V[0].length):-1}function $e(A,V,ba){return(V=Cg.exec(V.slice(ba,ba+2)))?(A.M=+V[0],ba+V[0].length):-1}function sf(A,V,ba){return(V=Cg.exec(V.slice(ba,ba+2)))?(A.S=+V[0],ba+V[0].length):
-1}function nd(A,V,ba){return(V=Cg.exec(V.slice(ba,ba+3)))?(A.L=+V[0],ba+V[0].length):-1}function Fc(A,V,ba){return(V=Cg.exec(V.slice(ba,ba+6)))?(A.L=Math.floor(V[0]/1E3),ba+V[0].length):-1}function bd(A,V,ba){return(A=kj.exec(V.slice(ba,ba+1)))?ba+A[0].length:-1}function Gc(A,V,ba){return(V=Cg.exec(V.slice(ba)))?(A.Q=+V[0],ba+V[0].length):-1}function Jd(A,V,ba){return(V=Cg.exec(V.slice(ba)))?(A.s=+V[0],ba+V[0].length):-1}function Zd(A,V){return $c(A.getDate(),V,2)}function $d(A,V){return $c(A.getHours(),
V,2)}function ke(A,V){return $c(A.getHours()%12||12,V,2)}function Q(A,V){return $c(1+Ce.count(jh(A),A),V,3)}function ea(A,V){return $c(A.getMilliseconds(),V,3)}function J(A,V){return ea(A,V)+"000"}function la(A,V){return $c(A.getMonth()+1,V,2)}function ma(A,V){return $c(A.getMinutes(),V,2)}function Ja(A,V){return $c(A.getSeconds(),V,2)}function ib(A){A=A.getDay();return 0===A?7:A}function gc(A,V){return $c(xf.count(jh(A)-1,A),V,2)}function tc(A){var V=A.getDay();return 4<=V||0===V?cg(A):cg.ceil(A)}
function vc(A,V){A=tc(A);return $c(cg.count(jh(A),A)+(4===jh(A).getDay()),V,2)}function Xb(A){return A.getDay()}function Dc(A,V){return $c(Tf.count(jh(A)-1,A),V,2)}function yd(A,V){return $c(A.getFullYear()%100,V,2)}function Yc(A,V){A=tc(A);return $c(A.getFullYear()%100,V,2)}function hd(A,V){return $c(A.getFullYear()%1E4,V,4)}function Ad(A,V){var ba=A.getDay();A=4<=ba||0===ba?cg(A):cg.ceil(A);return $c(A.getFullYear()%1E4,V,4)}function Hd(A){A=A.getTimezoneOffset();return(0<A?"-":(A*=-1,"+"))+$c(A/
60|0,"0",2)+$c(A%60,"0",2)}function Pc(A,V){return $c(A.getUTCDate(),V,2)}function Ee(A,V){return $c(A.getUTCHours(),V,2)}function Ge(A,V){return $c(A.getUTCHours()%12||12,V,2)}function Ae(A,V){return $c(1+te.count(yg(A),A),V,3)}function Be(A,V){return $c(A.getUTCMilliseconds(),V,3)}function Id(A,V){return Be(A,V)+"000"}function he(A,V){return $c(A.getUTCMonth()+1,V,2)}function xe(A,V){return $c(A.getUTCMinutes(),V,2)}function Le(A,V){return $c(A.getUTCSeconds(),V,2)}function of(A){A=A.getUTCDay();
return 0===A?7:A}function We(A,V){return $c(Mf.count(yg(A)-1,A),V,2)}function we(A){var V=A.getUTCDay();return 4<=V||0===V?Lf(A):Lf.ceil(A)}function vf(A,V){A=we(A);return $c(Lf.count(yg(A),A)+(4===yg(A).getUTCDay()),V,2)}function Of(A){return A.getUTCDay()}function af(A,V){return $c(mf.count(yg(A)-1,A),V,2)}function ag(A,V){return $c(A.getUTCFullYear()%100,V,2)}function Vd(A,V){A=we(A);return $c(A.getUTCFullYear()%100,V,2)}function hf(A,V){return $c(A.getUTCFullYear()%1E4,V,4)}function jf(A,V){var ba=
A.getUTCDay();A=4<=ba||0===ba?Lf(A):Lf.ceil(A);return $c(A.getUTCFullYear()%1E4,V,4)}function Qe(){return"+0000"}function Cf(){return"%"}function Pf(A){return+A}function Jf(A){return Math.floor(+A/1E3)}function Gf(A){return new Date(A)}function Bg(A){return A instanceof Date?+A:+new Date(+A)}function rg(A,V,ba,Fa,tb,xb,Mb,Nb,Lc,Dd){function gd(uf){return(Lc(uf)<uf?ze:Nb(uf)<uf?oe:Mb(uf)<uf?Xe:xb(uf)<uf?Ef:Fa(uf)<uf?tb(uf)<uf?Zf:ig:ba(uf)<uf?Gh:jg)(uf)}var nc=fd()(Gb,Gb),sd=nc.invert,xd=nc.domain,
ze=Dd(".%L"),oe=Dd(":%S"),Xe=Dd("%I:%M"),Ef=Dd("%I %p"),Zf=Dd("%a %d"),ig=Dd("%b %d"),Gh=Dd("%B"),jg=Dd("%Y");nc.invert=function(uf){return new Date(sd(uf))};nc.domain=function(uf){return arguments.length?xd(Array.from(uf,Bg)):xd().map(Gf)};nc.ticks=function(uf){var Pg=xd();return A(Pg[0],Pg[Pg.length-1],null==uf?10:uf)};nc.tickFormat=function(uf,Pg){return null==Pg?gd:Dd(Pg)};nc.nice=function(uf){var Pg=xd();uf&&"function"===typeof uf.range||(uf=V(Pg[0],Pg[Pg.length-1],null==uf?10:uf));return uf?
xd(Zb(Pg,uf)):nc};nc.copy=function(){return ed(nc,rg(A,V,ba,Fa,tb,xb,Mb,Nb,Lc,Dd))};return nc}function Af(){function A(nc){return null==nc||isNaN(nc=+nc)?gd:Lc(0===Mb?.5:(nc=(Nb(nc)-tb)*Mb,Dd?Math.max(0,Math.min(1,nc)):nc))}function V(nc){return function(sd){var xd,ze;return arguments.length?([xd,ze]=sd,Lc=nc(xd,ze),A):[Lc(0),Lc(1)]}}var ba=0,Fa=1,tb,xb,Mb,Nb,Lc=Gb,Dd=!1,gd;A.domain=function(nc){return arguments.length?([ba,Fa]=nc,tb=Nb(ba=+ba),xb=Nb(Fa=+Fa),Mb=tb===xb?0:1/(xb-tb),A):[ba,Fa]};A.clamp=
function(nc){return arguments.length?(Dd=!!nc,A):Dd};A.interpolator=function(nc){return arguments.length?(Lc=nc,A):Lc};A.range=V(Nd);A.rangeRound=V(ud);A.unknown=function(nc){return arguments.length?(gd=nc,A):gd};return function(nc){Nb=nc;tb=nc(ba);xb=nc(Fa);Mb=tb===xb?0:1/(xb-tb);return A}}function Hf(A,V){return V.domain(A.domain()).interpolator(A.interpolator()).clamp(A.clamp()).unknown(A.unknown())}function dg(){var A=Aa(Af()(Gb));A.copy=function(){return Hf(A,dg())};return Ia.apply(A,arguments)}
function Ug(){var A=Xd(Af()).domain([1,10]);A.copy=function(){return Hf(A,Ug()).base(A.base())};return Ia.apply(A,arguments)}function Vg(){var A=gf(Af());A.copy=function(){return Hf(A,Vg()).constant(A.constant())};return Ia.apply(A,arguments)}function Dg(){var A=W(Af());A.copy=function(){return Hf(A,Dg()).exponent(A.exponent())};return Ia.apply(A,arguments)}function Wg(){function A(oe){return isNaN(oe=+oe)?ze:(oe=.5+((oe=+sd(oe))-Nb)*(xb*oe<xb*Nb?Dd:gd),nc(xd?Math.max(0,Math.min(1,oe)):oe))}function V(oe){return function(Xe){var Ef,
Zf,ig;return arguments.length?([Ef,Zf,ig]=Xe,nc=Qa(oe,[Ef,Zf,ig]),A):[nc(0),nc(.5),nc(1)]}}var ba=0,Fa=.5,tb=1,xb=1,Mb,Nb,Lc,Dd,gd,nc=Gb,sd,xd=!1,ze;A.domain=function(oe){return arguments.length?([ba,Fa,tb]=oe,Mb=sd(ba=+ba),Nb=sd(Fa=+Fa),Lc=sd(tb=+tb),Dd=Mb===Nb?0:.5/(Nb-Mb),gd=Nb===Lc?0:.5/(Lc-Nb),xb=Nb<Mb?-1:1,A):[ba,Fa,tb]};A.clamp=function(oe){return arguments.length?(xd=!!oe,A):xd};A.interpolator=function(oe){return arguments.length?(nc=oe,A):nc};A.range=V(Nd);A.rangeRound=V(ud);A.unknown=function(oe){return arguments.length?
(ze=oe,A):ze};return function(oe){sd=oe;Mb=oe(ba);Nb=oe(Fa);Lc=oe(tb);Dd=Mb===Nb?0:.5/(Nb-Mb);gd=Nb===Lc?0:.5/(Lc-Nb);xb=Nb<Mb?-1:1;return A}}function sa(){var A=Aa(Wg()(Gb));A.copy=function(){return Hf(A,sa())};return Ia.apply(A,arguments)}function bb(){var A=Xd(Wg()).domain([.1,1,10]);A.copy=function(){return Hf(A,bb()).base(A.base())};return Ia.apply(A,arguments)}function Rb(){var A=gf(Wg());A.copy=function(){return Hf(A,Rb()).constant(A.constant())};return Ia.apply(A,arguments)}function id(){var A=
W(Wg());A.copy=function(){return Hf(A,id()).exponent(A.exponent())};return Ia.apply(A,arguments)}function od(){function A(){var nc=ba().length;const sd=tb[1]<tb[0],xd=tb[1-sd],ze=hb(nc,Lc,Dd);let oe=tb[sd-0];xb=(xd-oe)/(ze||1);Nb&&(xb=Math.floor(xb));oe+=(xd-oe-xb*(nc-Lc))*gd;Mb=xb*(1-Lc);Nb&&(oe=Math.round(oe),Mb=Math.round(Mb));nc=Na(nc).map(Xe=>oe+xb*Xe);return Fa(sd?nc.reverse():nc)}const V=kb().unknown(void 0),ba=V.domain,Fa=V.range;let tb=[0,1],xb,Mb,Nb=!1,Lc=0,Dd=0,gd=.5;delete V.unknown;V.domain=
function(nc){return arguments.length?(ba(nc),A()):ba()};V.range=function(nc){return arguments.length?(tb=[+nc[0],+nc[1]],A()):tb.slice()};V.rangeRound=function(nc){tb=[+nc[0],+nc[1]];Nb=!0;return A()};V.bandwidth=function(){return Mb};V.step=function(){return xb};V.round=function(nc){return arguments.length?(Nb=!!nc,A()):Nb};V.padding=function(nc){return arguments.length?(Lc=Dd=Math.max(0,Math.min(1,nc)),A()):Lc};V.paddingInner=function(nc){return arguments.length?(Lc=Math.max(0,Math.min(1,nc)),A()):
Lc};V.paddingOuter=function(nc){return arguments.length?(Dd=Math.max(0,Math.min(1,nc)),A()):Dd};V.align=function(nc){return arguments.length?(gd=Math.max(0,Math.min(1,nc)),A()):gd};V.invertRange=function(nc){if(null!=nc[0]&&null!=nc[1]){var sd=tb[1]<tb[0],xd=sd?Fa().reverse():Fa(),ze=xd.length-1,oe=+nc[0],Xe=+nc[1];if(oe===oe&&Xe===Xe){if(Xe<oe){var Ef=oe;oe=Xe;Xe=Ef}if(!(Xe<xd[0]||oe>tb[1-sd]))return nc=Math.max(0,Qg(xd,oe)-1),Xe=oe===Xe?nc:Qg(xd,Xe)-1,oe-xd[nc]>Mb+1E-10&&++nc,sd&&(Ef=nc,nc=ze-Xe,
Xe=ze-Ef),nc>Xe?void 0:ba().slice(nc,Xe+1)}}};V.invert=function(nc){return(nc=V.invertRange([nc,nc]))?nc[0]:nc};V.copy=function(){return od().domain(ba()).range(tb).round(Nb).paddingInner(Lc).paddingOuter(Dd).align(gd)};return A()}function ne(A){const V=A.copy;A.padding=A.paddingOuter;delete A.paddingInner;A.copy=function(){return ne(V())};return A}function Re(){function A(Fa){return null==Fa||Fa!==Fa?void 0:ba[(Mg(V,Fa)-1)%ba.length]}let V=[],ba=[];A.domain=function(Fa){return arguments.length?(V=
X.call(Fa,l.toNumber),A):V.slice()};A.range=function(Fa){return arguments.length?(ba=ha.call(Fa),A):ba.slice()};A.tickFormat=function(Fa,tb){return na(V[0],l.peek(V),null==Fa?10:Fa,tb)};A.copy=function(){return Re().domain(A.domain()).range(A.range())};return A}function pf(A){A[zb]=!0;return A}function Ff(A,V,ba){const Fa=function(){const tb=V();tb.invertRange||(tb.invertRange=tb.invert?Cb(tb):tb.invertExtent?Yb(tb):void 0);tb.type=A;return pf(tb)};Fa.metadata=l.toSet(l.array(ba));return Fa}function Ne(A,
V,ba){return 1<arguments.length?(Oa.set(A,Ff(A,V,ba)),this):eg(A)?Oa.get(A):void 0}function eg(A){return Oa.has(A)}function Sf(A,V){return(A=Oa.get(A))&&A.metadata[V]}function Wf(A){return Sf(A,"discrete")}function kg(A){return Sf(A,"discretizing")}function pg(A){return Sf(A,"log")}function Lg(A){return Sf(A,"temporal")}function fh(A,V,ba){return Qa(ph(V||"rgb",ba),A)}function ph(A,V){A=ka[Ie(A)];return null!=V&&A&&A.gamma?A.gamma(V):A}function Ie(A){return"interpolate"+A.toLowerCase().split("-").map(V=>
V[0].toUpperCase()+V.slice(1)).join("")}function ye(A){const V=A.length/6|0,ba=Array(V);for(let Fa=0;Fa<V;)ba[Fa]="#"+A.slice(6*Fa,6*++Fa);return ba}function Kf(A,V){for(const ba in A)wf(ba,V(A[ba]))}function wf(A,V){A=A&&A.toLowerCase();return 1<arguments.length?(Pb[A]=V,this):Pb[A]}function Bf(A,V,ba){var Fa=A.range();let tb=Fa[0],xb=l.peek(Fa);Fa=Vc;tb>xb&&(Fa=xb,xb=tb,tb=Fa,Fa=Kd);tb=Math.floor(tb);xb=Math.ceil(xb);V=V.map(Mb=>[Mb,A(Mb)]).filter(Mb=>tb<=Mb[1]&&Mb[1]<=xb).sort(Fa).map(Mb=>Mb[0]);
if(0<ba&&1<V.length){for(Fa=[V[0],l.peek(V)];V.length>ba&&3<=V.length;)V=V.filter((Mb,Nb)=>!(Nb%2));3>V.length&&(V=Fa)}return V}function tf(A,V){return A.bins?Bf(A,A.bins):A.ticks?A.ticks(V):A.domain()}function fg(A,V,ba,Fa,tb,xb){const Mb=V.type;let Nb=lc;if("time"===Mb||"time"===tb)Nb=A.timeFormat(Fa);else if("utc"===Mb||"utc"===tb)Nb=A.utcFormat(Fa);else if(pg(Mb)){const Lc=A.formatFloat(Fa);if(xb||V.bins)Nb=Lc;else{const Dd=Eg(V,ba,!1);Nb=gd=>Dd(gd)?Lc(gd):""}}else V.tickFormat?(V=V.domain(),
Nb=A.formatSpan(V[0],V[V.length-1],ba,Fa)):Fa&&(Nb=A.format(Fa));return Nb}function Eg(A,V,ba){const Fa=tf(A,V),tb=A.base(),xb=Math.log(tb),Mb=Math.max(1,tb*V/Fa.length);A=Nb=>{Nb/=Math.pow(tb,Math.round(Math.log(Nb)/xb));Nb*tb<tb-.5&&(Nb*=tb);return Nb<=Mb};return ba?Fa.filter(A):A}function sg(A,V){A.bins?(A=A.bins,V=A.slice(0,-1),V.max=l.peek(A),A=V):"log"===A.type?A=Eg(A,V,!0):Sd[A.type]?(A=A[Sd[A.type]](),A=[-Infinity].concat(A),A.max=Infinity):A=tf(A,V);return A}function Df(A,V,ba,Fa,tb,xb,Mb){if(ad[V.type]&&
"time"!==xb&&"utc"!==xb){ba=V[ad[V.type]]();xb=ba.length;Mb=1<xb?ba[1]-ba[0]:ba[0];let Nb;for(Nb=1;Nb<xb;++Nb)Mb=Math.min(Mb,ba[Nb]-ba[Nb-1]);A=A.formatSpan(0,Mb,30,tb)}else A=fg(A,V,ba,tb,xb,Mb);return"symbol"===Fa&&(Sd[V.type]||V.bins)?ie(A):"discrete"===Fa?Ke(A):Ve(A)}const Qg=pc(sc).right;pc(jc).center;var Mg=Qg;class qh extends Map{constructor(A,V=Fb){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:V}});if(null!=A)for(const [ba,Fa]of A)this.set(ba,Fa)}get(A){return super.get(Sb(this,
A))}has(A){return super.has(Sb(this,A))}set(A,V){return super.set(Ua(this,A),V)}delete(A){return super.delete(rb(this,A))}}const xg=Math.sqrt(50),Wh=Math.sqrt(10),rh=Math.sqrt(2),Hh=Symbol("implicit");var Xg=1/.7,sh=/^#([0-9a-f]{3,8})$/,Bh=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),ji=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),dh=
RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),th=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),yi=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
Fg=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Mh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,
cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,
dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,
lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,
mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,
seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mb(vb,Vb,{copy(A){return Object.assign(new this.constructor,this,A)},displayable(){return this.rgb().displayable()},hex:qb,formatHex:qb,
formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return g(this).formatHsl()},formatRgb:Ob,toString:Ob});mb(Ga,Ea,Ma(vb,{brighter(A){A=null==A?Xg:Math.pow(Xg,A);return new Ga(this.r*A,this.g*A,this.b*A,this.opacity)},darker(A){A=null==A?.7:Math.pow(.7,A);return new Ga(this.r*A,this.g*A,this.b*A,this.opacity)},rgb(){return this},clamp(){return new Ga(x(this.r),x(this.g),x(this.b),pa(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=
this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:cb,formatHex:cb,formatHex8:function(){return`#${N(this.r)}${N(this.g)}${N(this.b)}${N(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:ca,toString:ca}));mb(m,z,Ma(vb,{brighter(A){A=null==A?Xg:Math.pow(Xg,A);return new m(this.h,this.s,this.l*A,this.opacity)},darker(A){A=null==A?.7:Math.pow(.7,A);return new m(this.h,this.s,this.l*A,this.opacity)},rgb(){var A=this.h%360+360*(0>this.h),V=isNaN(A)||isNaN(this.s)?0:this.s,ba=this.l;V=ba+
(.5>ba?ba:1-ba)*V;ba=2*ba-V;return new Ga(p(240<=A?A-240:A+120,ba,V),p(A,ba,V),p(120>A?A+240:A-120,ba,V),this.opacity)},clamp(){return new m(E(this.h),h(this.s),h(this.l),pa(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const A=pa(this.opacity);return`${1===A?"hsl(":"hsla("}${E(this.h)}, ${100*h(this.s)}%, ${100*h(this.l)}%${1===A?")":`, ${A})`}`}}));const Xh=Math.PI/180,Rg=180/Math.PI,gh=4/29,kh=6/29,
Ch=3*kh*kh,Gg=kh*kh*kh;mb(F,v,Ma(vb,{brighter(A){return new F(this.l+18*(null==A?1:A),this.a,this.b,this.opacity)},darker(A){return new F(this.l-18*(null==A?1:A),this.a,this.b,this.opacity)},rgb(){var A=(this.l+16)/116,V=isNaN(this.a)?A:A+this.a/500,ba=isNaN(this.b)?A:A-this.b/200;V=.96422*O(V);A=1*O(A);ba=.82521*O(ba);return new Ga(u(3.1338561*V-1.6168667*A-.4906146*ba),u(-.9787684*V+1.9161415*A+.033454*ba),u(.0719453*V-.2289914*A+1.4052427*ba),this.opacity)}}));mb(Xa,La,Ma(vb,{brighter(A){return new Xa(this.h,
this.c,this.l+18*(null==A?1:A),this.opacity)},darker(A){return new Xa(this.h,this.c,this.l-18*(null==A?1:A),this.opacity)},rgb(){return ab(this).rgb()}}));var Nh=1.78277*-.29227-.1347134789;mb(Ca,Z,Ma(vb,{brighter(A){A=null==A?Xg:Math.pow(Xg,A);return new Ca(this.h,this.s,this.l*A,this.opacity)},darker(A){A=null==A?.7:Math.pow(.7,A);return new Ca(this.h,this.s,this.l*A,this.opacity)},rgb(){var A=isNaN(this.h)?0:(this.h+120)*Xh,V=+this.l,ba=isNaN(this.s)?0:this.s*V*(1-V),Fa=Math.cos(A);A=Math.sin(A);
return new Ga(255*(V+ba*(-.14861*Fa+1.78277*A)),255*(V+ba*(-.29227*Fa+-.90649*A)),255*(V+1.97294*ba*Fa),this.opacity)}}));var Dh=A=>()=>A,Hg=function ba(V){function Fa(xb,Mb){var Nb=tb((xb=Ea(xb)).r,(Mb=Ea(Mb)).r),Lc=tb(xb.g,Mb.g),Dd=tb(xb.b,Mb.b),gd=Rc(xb.opacity,Mb.opacity);return function(nc){xb.r=Nb(nc);xb.g=Lc(nc);xb.b=Dd(nc);xb.opacity=gd(nc);return xb+""}}var tb=$b(V);Fa.gamma=ba;return Fa}(1),Ng=Pd(Kb),Yh=Pd(xc),eh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zg=new RegExp(eh.source,"g"),
Xf=180/Math.PI,Sg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},$g,qf=gb(function(V){V=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(V+"");return V.isIdentity?Sg:Ha(V.a,V.b,V.c,V.d,V.e,V.f)},"px, ","px)","deg)"),ei=gb(function(V){if(null==V)return Sg;$g||($g=document.createElementNS("http://www.w3.org/2000/svg","g"));$g.setAttribute("transform",V);if(!(V=$g.transform.baseVal.consolidate()))return Sg;V=V.matrix;return Ha(V.a,V.b,V.c,V.d,V.e,V.f)},", ",")",")"),Og=function xb(ba,
Fa,tb){function Mb(Nb,Lc){var Dd=Nb[0],gd=Nb[1],nc=Nb[2];Nb=Lc[2];var sd=Lc[0]-Dd,xd=Lc[1]-gd,ze=sd*sd+xd*xd;if(1E-12>ze){var oe=Math.log(Nb/nc)/ba;Nb=function(Zf){return[Dd+Zf*sd,gd+Zf*xd,nc*Math.exp(ba*Zf*oe)]}}else{var Xe=Math.sqrt(ze);Lc=(Nb*Nb-nc*nc+tb*ze)/(2*nc*Fa*Xe);Nb=(Nb*Nb-nc*nc-tb*ze)/(2*Nb*Fa*Xe);var Ef=Math.log(Math.sqrt(Lc*Lc+1)-Lc);oe=(Math.log(Math.sqrt(Nb*Nb+1)-Nb)-Ef)/ba;Nb=function(Zf){Zf*=oe;var ig=wb(Ef),Gh=ba*Zf+Ef;var jg=((Gh=Math.exp(2*Gh))-1)/(Gh+1);var uf=Ef;Gh=((uf=Math.exp(uf))-
1/uf)/2;jg=nc/(Fa*Xe)*(ig*jg-Gh);return[Dd+jg*sd,gd+jg*xd,nc*ig/wb(ba*Zf+Ef)]}}Nb.duration=1E3*oe*ba/Math.SQRT2;return Nb}Mb.rho=function(Nb){Nb=Math.max(.001,+Nb);var Lc=Nb*Nb;return xb(Nb,Lc,Lc*Lc)};return Mb}(Math.SQRT2,2,4),bg=ua(dd),U=ua(Rc),ya=H(dd),Ta=H(Rc),w=za(dd),T=za(Rc),ka=Object.freeze({__proto__:null,interpolate:Nd,interpolateArray:function(ba,Fa){return(Wb(Fa)?Pa:sb)(ba,Fa)},interpolateBasis:Kb,interpolateBasisClosed:xc,interpolateCubehelix:w,interpolateCubehelixLong:T,interpolateDate:Tb,
interpolateDiscrete:function(ba){var Fa=ba.length;return function(tb){return ba[Math.max(0,Math.min(Fa-1,Math.floor(tb*Fa)))]}},interpolateHcl:ya,interpolateHclLong:Ta,interpolateHsl:bg,interpolateHslLong:U,interpolateHue:function(ba,Fa){var tb=dd(+ba,+Fa);return function(xb){xb=tb(xb);return xb-360*Math.floor(xb/360)}},interpolateLab:function(ba,Fa){var tb=Rc((ba=v(ba)).l,(Fa=v(Fa)).l),xb=Rc(ba.a,Fa.a),Mb=Rc(ba.b,Fa.b),Nb=Rc(ba.opacity,Fa.opacity);return function(Lc){ba.l=tb(Lc);ba.a=xb(Lc);ba.b=
Mb(Lc);ba.opacity=Nb(Lc);return ba+""}},interpolateNumber:ic,interpolateNumberArray:Pa,interpolateObject:dc,interpolateRgb:Hg,interpolateRgbBasis:Ng,interpolateRgbBasisClosed:Yh,interpolateRound:ud,interpolateString:Zc,interpolateTransformCss:qf,interpolateTransformSvg:ei,interpolateZoom:Og,piecewise:Qa,quantize:function(ba,Fa){for(var tb=Array(Fa),xb=0;xb<Fa;++xb)tb[xb]=ba(xb/(Fa-1));return tb}}),xa=[0,1],y=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;ae.prototype=Ud.prototype;
Ud.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var G,ja={"%":(ba,Fa)=>(100*ba).toFixed(Fa),b:ba=>Math.round(ba).toString(2),c:ba=>ba+"",d:function(ba){return 1E21<=Math.abs(ba=Math.round(ba))?ba.toLocaleString("en").replace(/,/g,""):ba.toString(10)},e:(ba,Fa)=>ba.toExponential(Fa),f:(ba,
Fa)=>ba.toFixed(Fa),g:(ba,Fa)=>ba.toPrecision(Fa),o:ba=>Math.round(ba).toString(8),p:(ba,Fa)=>Ye(100*ba,Fa),r:Ye,s:function(ba,Fa){var tb=Qd(ba,Fa);if(!tb)return ba+"";var xb=tb[0];tb=tb[1];tb=tb-(G=3*Math.max(-8,Math.min(8,Math.floor(tb/3))))+1;var Mb=xb.length;return tb===Mb?xb:tb>Mb?xb+Array(tb-Mb+1).join("0"):0<tb?xb.slice(0,tb)+"."+xb.slice(tb):"0."+Array(1-tb).join("0")+Qd(ba,Math.max(0,Fa+tb-1))[0]},X:ba=>Math.round(ba).toString(16).toUpperCase(),x:ba=>Math.round(ba).toString(16)},n=Array.prototype.map,
D="y z a f p n  m  k M G T P E Z Y".split(" "),da,oa,Va;(function(ba){da=P(ba);oa=da.format;Va=da.formatPrefix;return da})({thousands:",",grouping:[3],currency:["$",""]});const Za=new Date,Ib=new Date,bc=Ec(()=>{},(ba,Fa)=>{ba.setTime(+ba+Fa)},(ba,Fa)=>Fa-ba);bc.every=ba=>{ba=Math.floor(ba);return isFinite(ba)&&0<ba?1<ba?Ec(Fa=>{Fa.setTime(Math.floor(Fa/ba)*ba)},(Fa,tb)=>{Fa.setTime(+Fa+tb*ba)},(Fa,tb)=>(tb-Fa)/ba):bc:null};bc.range;const Ub=Ec(ba=>{ba.setTime(ba-ba.getMilliseconds())},(ba,Fa)=>
{ba.setTime(+ba+1E3*Fa)},(ba,Fa)=>(Fa-ba)/1E3,ba=>ba.getUTCSeconds());Ub.range;const Bd=Ec(ba=>{ba.setTime(ba-ba.getMilliseconds()-1E3*ba.getSeconds())},(ba,Fa)=>{ba.setTime(+ba+6E4*Fa)},(ba,Fa)=>(Fa-ba)/6E4,ba=>ba.getMinutes());Bd.range;const Xc=Ec(ba=>{ba.setUTCSeconds(0,0)},(ba,Fa)=>{ba.setTime(+ba+6E4*Fa)},(ba,Fa)=>(Fa-ba)/6E4,ba=>ba.getUTCMinutes());Xc.range;const Rd=Ec(ba=>{ba.setTime(ba-ba.getMilliseconds()-1E3*ba.getSeconds()-6E4*ba.getMinutes())},(ba,Fa)=>{ba.setTime(+ba+36E5*Fa)},(ba,Fa)=>
(Fa-ba)/36E5,ba=>ba.getHours());Rd.range;const se=Ec(ba=>{ba.setUTCMinutes(0,0,0)},(ba,Fa)=>{ba.setTime(+ba+36E5*Fa)},(ba,Fa)=>(Fa-ba)/36E5,ba=>ba.getUTCHours());se.range;const Ce=Ec(ba=>ba.setHours(0,0,0,0),(ba,Fa)=>ba.setDate(ba.getDate()+Fa),(ba,Fa)=>(Fa-ba-6E4*(Fa.getTimezoneOffset()-ba.getTimezoneOffset()))/864E5,ba=>ba.getDate()-1);Ce.range;const te=Ec(ba=>{ba.setUTCHours(0,0,0,0)},(ba,Fa)=>{ba.setUTCDate(ba.getUTCDate()+Fa)},(ba,Fa)=>(Fa-ba)/864E5,ba=>ba.getUTCDate()-1);te.range;const Se=Ec(ba=>
{ba.setUTCHours(0,0,0,0)},(ba,Fa)=>{ba.setUTCDate(ba.getUTCDate()+Fa)},(ba,Fa)=>(Fa-ba)/864E5,ba=>Math.floor(ba/864E5));Se.range;const xf=ac(0),Tf=ac(1),ff=ac(2),bf=ac(3),cg=ac(4),vh=ac(5),lg=ac(6);xf.range;Tf.range;ff.range;bf.range;cg.range;vh.range;lg.range;const Mf=L(0),mf=L(1),Qf=L(2),If=L(3),Lf=L(4),ah=L(5),hg=L(6);Mf.range;mf.range;Qf.range;If.range;Lf.range;ah.range;hg.range;const Fh=Ec(ba=>{ba.setDate(1);ba.setHours(0,0,0,0)},(ba,Fa)=>{ba.setMonth(ba.getMonth()+Fa)},(ba,Fa)=>Fa.getMonth()-
ba.getMonth()+12*(Fa.getFullYear()-ba.getFullYear()),ba=>ba.getMonth());Fh.range;const og=Ec(ba=>{ba.setUTCDate(1);ba.setUTCHours(0,0,0,0)},(ba,Fa)=>{ba.setUTCMonth(ba.getUTCMonth()+Fa)},(ba,Fa)=>Fa.getUTCMonth()-ba.getUTCMonth()+12*(Fa.getUTCFullYear()-ba.getUTCFullYear()),ba=>ba.getUTCMonth());og.range;const jh=Ec(ba=>{ba.setMonth(0,1);ba.setHours(0,0,0,0)},(ba,Fa)=>{ba.setFullYear(ba.getFullYear()+Fa)},(ba,Fa)=>Fa.getFullYear()-ba.getFullYear(),ba=>ba.getFullYear());jh.every=ba=>isFinite(ba=Math.floor(ba))&&
0<ba?Ec(Fa=>{Fa.setFullYear(Math.floor(Fa.getFullYear()/ba)*ba);Fa.setMonth(0,1);Fa.setHours(0,0,0,0)},(Fa,tb)=>{Fa.setFullYear(Fa.getFullYear()+tb*ba)}):null;jh.range;const yg=Ec(ba=>{ba.setUTCMonth(0,1);ba.setUTCHours(0,0,0,0)},(ba,Fa)=>{ba.setUTCFullYear(ba.getUTCFullYear()+Fa)},(ba,Fa)=>Fa.getUTCFullYear()-ba.getUTCFullYear(),ba=>ba.getUTCFullYear());yg.every=ba=>isFinite(ba=Math.floor(ba))&&0<ba?Ec(Fa=>{Fa.setUTCFullYear(Math.floor(Fa.getUTCFullYear()/ba)*ba);Fa.setUTCMonth(0,1);Fa.setUTCHours(0,
0,0,0)},(Fa,tb)=>{Fa.setUTCFullYear(Fa.getUTCFullYear()+tb*ba)}):null;yg.range;const [Sh,Pi]=fa(yg,og,Mf,Se,se,Xc),[ci,ki]=fa(jh,Fh,xf,Ce,Rd,Bd);var Oi={"-":"",_:" ",0:"0"},Cg=/^\s*\d+/,kj=/^%/,lj=/[\\^$*+?|[\]().{}]/g,Ai,Si,C;(function(ba){Ai=Bc(ba);Si=Ai.format;Ai.parse;C=Ai.utcFormat;Ai.utcParse;return Ai})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),
months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var X=Array.prototype.map;const ha=Array.prototype.slice,Oa=new Map,zb=Symbol("vega_scale");Ne("identity",Jb);Ne("linear",fb,"continuous");Ne("log",Od,["continuous","log"]);Ne("pow",wa,"continuous");Ne("sqrt",function(){return wa.apply(null,arguments).exponent(.5)},"continuous");Ne("symlog",df,"continuous");Ne("time",function(){return Da.apply(rg(ci,
ki,jh,Fh,xf,Ce,Rd,Bd,Ub,Si).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)},["continuous","temporal"]);Ne("utc",function(){return Da.apply(rg(Sh,Pi,yg,og,Mf,te,se,Xc,Ub,C).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)},["continuous","temporal"]);Ne("sequential",dg,["continuous","interpolating"]);Ne("sequential-linear",dg,["continuous","interpolating"]);Ne("sequential-log",Ug,["continuous","interpolating","log"]);Ne("sequential-pow",Dg,["continuous","interpolating"]);Ne("sequential-sqrt",
function(){return Dg.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);Ne("sequential-symlog",Vg,["continuous","interpolating"]);Ne("diverging-linear",sa,["continuous","interpolating"]);Ne("diverging-log",bb,["continuous","interpolating","log"]);Ne("diverging-pow",id,["continuous","interpolating"]);Ne("diverging-sqrt",function(){return id.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);Ne("diverging-symlog",Rb,["continuous","interpolating"]);Ne("quantile",db,
["discretizing","quantile"]);Ne("quantize",yb,"discretizing");Ne("threshold",hc,"discretizing");Ne("bin-ordinal",Re,["discrete","discretizing"]);Ne("ordinal",kb,"discrete");Ne("band",od,"discrete");Ne("point",function(){return ne(od().paddingInner(1))},"discrete");const Db=["clamp","base","constant","exponent"],Pb={};Kf({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",
category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",
dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},ye);Kf({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",
greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",
greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",
yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",
redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},ba=>fh(ye(ba)));const lc=ba=>l.isArray(ba)?ba.map(Fa=>String(Fa)):String(ba),Vc=(ba,Fa)=>ba[1]-Fa[1],Kd=(ba,Fa)=>Fa[1]-ba[1],Sd={quantile:"quantiles",quantize:"thresholds",threshold:"domain"},ad={quantile:"quantiles",quantize:"domain"},ie=ba=>(Fa,tb,xb)=>{tb=xb[tb+1];xb=xb.max;xb=null!=xb?xb:Infinity;tb=null!=
tb?tb:xb;Fa=Number.isFinite(Fa)?ba(Fa):null;tb=Number.isFinite(tb)?ba(tb):null;return Fa&&tb?Fa+"  "+tb:tb?"\x3c "+tb:" "+Fa},Ke=ba=>(Fa,tb)=>tb?ba(Fa):null,Ve=ba=>Fa=>ba(Fa);t.Band="band";t.BinOrdinal="bin-ordinal";t.DiscreteLegend="discrete";t.Diverging="diverging";t.GradientLegend="gradient";t.Identity="identity";t.Linear="linear";t.Log="log";t.Ordinal="ordinal";t.Point="point";t.Pow="pow";t.Quantile="quantile";t.Quantize="quantize";t.Sequential="sequential";t.Sqrt="sqrt";t.SymbolLegend="symbol";
t.Symlog="symlog";t.Threshold="threshold";t.Time="time";t.UTC="utc";t.bandSpace=hb;t.domainCaption=function(ba,Fa,tb){tb=tb||{};var xb=Math.max(3,tb.maxlen||7),Mb=tb.format;const Nb=(tb=tb.formatType)||Fa.type;l.isString(Mb)&&Lg(Nb)&&(Mb=Mb.replace(/%a/g,"%A").replace(/%b/g,"%B"));ba=Mb||"time"!==Nb?Mb||"utc"!==Nb?Df(ba,Fa,5,null,Mb,tb,!0):ba.utcFormat("%A, %d %B %Y, %X UTC"):ba.timeFormat("%A, %d %B %Y, %X");if(kg(Fa.type))return xb=sg(Fa).slice(1).map(ba),Fa=xb.length,`${Fa} boundar${1===Fa?"y":
"ies"}: ${xb.join(", ")}`;if(Wf(Fa.type))return Mb=Fa.domain(),Fa=Mb.length,xb=Fa>xb?Mb.slice(0,xb-2).map(ba).join(", ")+", ending with "+Mb.slice(-1).map(ba):Mb.map(ba).join(", "),`${Fa} value${1===Fa?"":"s"}: ${xb}`;xb=Fa.domain();return`values from ${ba(xb[0])} to ${ba(l.peek(xb))}`};t.interpolate=ph;t.interpolateColors=fh;t.interpolateRange=function(ba,Fa){const tb=Fa[0],xb=l.peek(Fa)-tb;return function(Mb){return ba(tb+Mb*xb)}};t.isContinuous=function(ba){return Sf(ba,"continuous")};t.isDiscrete=
Wf;t.isDiscretizing=kg;t.isInterpolating=function(ba){return Sf(ba,"interpolating")};t.isLogarithmic=pg;t.isQuantile=function(ba){return Sf(ba,"quantile")};t.isRegisteredScale=function(ba){return ba&&!0===ba[zb]};t.isTemporal=Lg;t.isValidScaleType=eg;t.labelFormat=Df;t.labelFraction=function(ba){var Fa=ba.domain();const tb=Fa.length-1;let xb=+Fa[0];Fa=+l.peek(Fa);let Mb=Fa-xb;"threshold"===ba.type&&(ba=tb?Mb/tb:.1,xb-=ba,Fa+=ba,Mb=Fa-xb);return Nb=>(Nb-xb)/Mb};t.labelValues=sg;t.quantizeInterpolator=
function(ba,Fa){const tb=Array(Fa),xb=Fa+1;for(let Mb=0;Mb<Fa;)tb[Mb]=ba(++Mb/xb);return tb};t.registerScale=pf;t.scale=Ne;t.scaleCopy=function(ba){const Fa=ba.type;ba=ba.copy();ba.type=Fa;return ba};t.scaleFraction=function(ba,Fa,tb){var xb=tb-Fa;let Mb,Nb;return xb&&Number.isFinite(xb)?(xb=(Mb=ba.type).indexOf("-"),Mb=0>xb?Mb:Mb.slice(xb+1),Nb=Ne(Mb)().domain([Fa,tb]).range([0,1]),Db.forEach(Lc=>ba[Lc]?Nb[Lc](ba[Lc]()):0),Nb):l.constant(.5)};t.scaleImplicit=Hh;t.scheme=wf;t.tickCount=function(ba,
Fa,tb){let xb;l.isNumber(Fa)&&(ba.bins&&(Fa=Math.max(Fa,ba.bins.length)),null!=tb&&(Fa=Math.min(Fa,Math.floor(l.span(ba.domain())/tb||1))));l.isObject(Fa)&&(xb=Fa.step,Fa=Fa.interval);l.isString(Fa)&&(Fa="time"===ba.type?R.timeInterval(Fa):"utc"==ba.type?R.utcInterval(Fa):l.error("Only time and utc scales accept interval strings."),xb&&(Fa=Fa.every(xb)));return Fa};t.tickFormat=fg;t.tickValues=tf;t.validTicks=Bf})};
shadow$provide[33]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(20),Eb(31),Eb(27),Eb(32)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-canvas","vega-loader","vega-scale"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l(t.vega={},t.vega,t.vega,t.vega,t.vega))})(this,function(t,l,R,hb,Cb){function Yb(w,T,ka){const xa=w.gradient;let y=w.id,G="radial"===xa?"p_":"";y||(y=w.id="gradient_"+gc++,"radial"===xa?(w.x1=sc(w.x1,
.5),w.y1=sc(w.y1,.5),w.r1=sc(w.r1,0),w.x2=sc(w.x2,.5),w.y2=sc(w.y2,.5),w.r2=sc(w.r2,.5),G="p_"):(w.x1=sc(w.x1,0),w.y1=sc(w.y1,0),w.x2=sc(w.x2,1),w.y2=sc(w.y2,0)));T[y]=w;return"url("+(ka||"")+"#"+G+y+")"}function sc(w,T){return null!=w?w:T}function zc(w){return function(){return w}}function pc(w){return 1<=w?Hd:-1>=w?-Hd:Math.asin(w)}function Ab(w){this._+=w[0];for(let T=1,ka=w.length;T<ka;++T)this._+=arguments[T]+w[T]}function jc(w){let T=Math.floor(w);if(!(0<=T))throw Error(`invalid digits: ${w}`);
if(15<T)return Ab;const ka=Math.pow(10,T);return function(xa){this._+=xa[0];for(let y=1,G=xa.length;y<G;++y)this._+=Math.round(arguments[y]*ka)/ka+xa[y]}}function Sb(){return new Be}function Ua(w){let T=3;w.digits=function(ka){if(!arguments.length)return T;if(null==ka)T=null;else{const xa=Math.floor(ka);if(!(0<=xa))throw new RangeError(`invalid digits: ${ka}`);T=xa}return w};return()=>new Be(T)}function rb(w){return w.innerRadius}function Fb(w){return w.outerRadius}function Hb(w){return w.startAngle}
function Bb(w){return w.endAngle}function Lb(w){return w&&w.padAngle}function Wa(w,T,ka,xa,y,G,ja){var n=w-ka,D=T-xa;ja=(ja?G:-G)/hd(n*n+D*D);D*=ja;n*=-ja;var da=w+D,oa=T+n,Va=ka+D,Za=xa+n;ka=(da+Va)/2;xa=(oa+Za)/2;T=Va-da;w=Za-oa;ja=T*T+w*w;G=y-G;Za=da*Za-Va*oa;var Ib=(0>w?-1:1)*hd(Dc(0,G*G*ja-Za*Za));da=(Za*w-T*Ib)/ja;oa=(-Za*T-w*Ib)/ja;Va=(Za*w+T*Ib)/ja;T=(-Za*T+w*Ib)/ja;w=da-ka;ja=oa-xa;ka=Va-ka;xa=T-xa;w*w+ja*ja>ka*ka+xa*xa&&(da=Va,oa=T);return{cx:da,cy:oa,x01:-D,y01:-n,x11:da*(y/G-1),y11:oa*
(y/G-1)}}function pb(w){return"object"===typeof w&&"length"in w?w:Array.from(w)}function Na(w){this._context=w}function Da(w){return new Na(w)}function Ia(w){return w[0]}function kb(w){return w[1]}function mb(w,T){function ka(D){var da,oa=(D=pb(D)).length,Va,Za=!1,Ib;null==y&&(ja=G(Ib=n()));for(da=0;da<=oa;++da)!(da<oa&&xa(Va=D[da],da,D))===Za&&((Za=!Za)?ja.lineStart():ja.lineEnd()),Za&&ja.point(+w(Va,da,D),+T(Va,da,D));if(Ib)return ja=null,Ib+""||null}var xa=zc(!0),y=null,G=Da,ja=null,n=Ua(ka);w=
"function"===typeof w?w:void 0===w?Ia:zc(w);T="function"===typeof T?T:void 0===T?kb:zc(T);ka.x=function(D){return arguments.length?(w="function"===typeof D?D:zc(+D),ka):w};ka.y=function(D){return arguments.length?(T="function"===typeof D?D:zc(+D),ka):T};ka.defined=function(D){return arguments.length?(xa="function"===typeof D?D:zc(!!D),ka):xa};ka.curve=function(D){return arguments.length?(G=D,null!=y&&(ja=G(y)),ka):G};ka.context=function(D){return arguments.length?(null==D?y=ja=null:ja=G(y=D),ka):
y};return ka}function Ma(w,T,ka){function xa(Va){var Za,Ib,bc=(Va=pb(Va)).length,Ub,Bd=!1,Xc,Rd=Array(bc),se=Array(bc);null==n&&(da=D(Xc=oa()));for(Za=0;Za<=bc;++Za){if(!(Za<bc&&ja(Ub=Va[Za],Za,Va))===Bd)if(Bd=!Bd){var Ce=Za;da.areaStart();da.lineStart()}else{da.lineEnd();da.lineStart();for(Ib=Za-1;Ib>=Ce;--Ib)da.point(Rd[Ib],se[Ib]);da.lineEnd();da.areaEnd()}Bd&&(Rd[Za]=+w(Ub,Za,Va),se[Za]=+T(Ub,Za,Va),da.point(G?+G(Ub,Za,Va):Rd[Za],ka?+ka(Ub,Za,Va):se[Za]))}if(Xc)return da=null,Xc+""||null}function y(){return mb().defined(ja).curve(D).context(n)}
var G=null,ja=zc(!0),n=null,D=Da,da=null,oa=Ua(xa);w="function"===typeof w?w:void 0===w?Ia:zc(+w);T="function"===typeof T?T:void 0===T?zc(0):zc(+T);ka="function"===typeof ka?ka:void 0===ka?kb:zc(+ka);xa.x=function(Va){return arguments.length?(w="function"===typeof Va?Va:zc(+Va),G=null,xa):w};xa.x0=function(Va){return arguments.length?(w="function"===typeof Va?Va:zc(+Va),xa):w};xa.x1=function(Va){return arguments.length?(G=null==Va?null:"function"===typeof Va?Va:zc(+Va),xa):G};xa.y=function(Va){return arguments.length?
(T="function"===typeof Va?Va:zc(+Va),ka=null,xa):T};xa.y0=function(Va){return arguments.length?(T="function"===typeof Va?Va:zc(+Va),xa):T};xa.y1=function(Va){return arguments.length?(ka=null==Va?null:"function"===typeof Va?Va:zc(+Va),xa):ka};xa.lineX0=xa.lineY0=function(){return y().x(w).y(T)};xa.lineY1=function(){return y().x(w).y(ka)};xa.lineX1=function(){return y().x(G).y(T)};xa.defined=function(Va){return arguments.length?(ja="function"===typeof Va?Va:zc(!!Va),xa):ja};xa.curve=function(Va){return arguments.length?
(D=Va,null!=n&&(da=D(n)),xa):D};xa.context=function(Va){return arguments.length?(null==Va?n=da=null:da=D(n=Va),xa):n};return xa}function vb(){}function qb(w,T,ka){w._context.bezierCurveTo((2*w._x0+w._x1)/3,(2*w._y0+w._y1)/3,(w._x0+2*w._x1)/3,(w._y0+2*w._y1)/3,(w._x0+4*w._x1+T)/6,(w._y0+4*w._y1+ka)/6)}function Ob(w){this._context=w}function Vb(w){this._context=w}function ob(w){this._context=w}function ra(w,T){this._basis=new Ob(w);this._beta=T}function Y(w,T,ka){w._context.bezierCurveTo(w._x1+w._k*
(w._x2-w._x0),w._y1+w._k*(w._y2-w._y0),w._x2+w._k*(w._x1-T),w._y2+w._k*(w._y1-ka),w._x2,w._y2)}function Ea(w,T){this._context=w;this._k=(1-T)/6}function Ga(w,T){this._context=w;this._k=(1-T)/6}function cb(w,T){this._context=w;this._k=(1-T)/6}function ca(w,T,ka){var xa=w._x1,y=w._y1,G=w._x2,ja=w._y2;if(1E-12<w._l01_a){var n=2*w._l01_2a+3*w._l01_a*w._l12_a+w._l12_2a,D=3*w._l01_a*(w._l01_a+w._l12_a);xa=(xa*n-w._x0*w._l12_2a+w._x2*w._l01_2a)/D;y=(y*n-w._y0*w._l12_2a+w._y2*w._l01_2a)/D}1E-12<w._l23_a&&
(n=2*w._l23_2a+3*w._l23_a*w._l12_a+w._l12_2a,D=3*w._l23_a*(w._l23_a+w._l12_a),G=(G*n+w._x1*w._l23_2a-T*w._l12_2a)/D,ja=(ja*n+w._y1*w._l23_2a-ka*w._l12_2a)/D);w._context.bezierCurveTo(xa,y,G,ja,w._x2,w._y2)}function pa(w,T){this._context=w;this._alpha=T}function x(w,T){this._context=w;this._alpha=T}function N(w,T){this._context=w;this._alpha=T}function S(w){this._context=w}function g(w,T,ka){var xa=w._x1-w._x0;T-=w._x1;var y=(w._y1-w._y0)/(xa||0>T&&-0);w=(ka-w._y1)/(T||0>xa&&-0);return((0>y?-1:1)+
(0>w?-1:1))*Math.min(Math.abs(y),Math.abs(w),.5*Math.abs((y*T+w*xa)/(xa+T)))||0}function z(w,T){var ka=w._x1-w._x0;return ka?(3*(w._y1-w._y0)/ka-T)/2:T}function m(w,T,ka){var xa=w._x0,y=w._x1,G=w._y1,ja=(y-xa)/3;w._context.bezierCurveTo(xa+ja,w._y0+ja*T,y-ja,G-ja*ka,y,G)}function E(w){this._context=w}function h(w){this._context=new p(w)}function p(w){this._context=w}function r(w){this._context=w}function v(w){var T,ka=w.length-1,xa=Array(ka),y=Array(ka),G=Array(ka);xa[0]=0;y[0]=2;G[0]=w[0]+2*w[1];
for(T=1;T<ka-1;++T)xa[T]=1,y[T]=4,G[T]=4*w[T]+2*w[T+1];xa[ka-1]=2;y[ka-1]=7;G[ka-1]=8*w[ka-1]+w[ka];for(T=1;T<ka;++T){var ja=xa[T]/y[T-1];y[T]-=ja;G[T]-=ja*G[T-1]}xa[ka-1]=G[ka-1]/y[ka-1];for(T=ka-2;0<=T;--T)xa[T]=(G[T]-xa[T+1])/y[T];y[ka-1]=(w[ka]+xa[ka-1])/2;for(T=0;T<ka-1;++T)y[T]=2*w[T+1]-xa[T+1];return[xa,y]}function F(w,T){this._context=w;this._t=T}function aa(w,T,ka){w=l.hasOwnProperty(Of,w)&&Of[w];var xa=null;w&&(xa=w.curve||w[T||"vertical"],w.tension&&null!=ka&&(xa=xa[w.tension](ka)));return xa}
function O(w){const T=[];(w.match(ag)||[]).forEach(ka=>{let xa=ka[0];var y=xa.toLowerCase();const G=af[y];var ja=ka.slice(1).trim();ka=[];for(let D=0;G&&D<ja.length;)for(let da=0;da<G;++da){var n="a"!==y||3!==da&&4!==da?Vd:jf;n=ja.slice(D).match(n);if(null===n)throw Error("Invalid SVG path, incorrect parameter type");D+=n[0].length;ka.push(+n[0]);n=ja.slice(D).match(hf);null!==n&&(D+=n[0].length)}ja=ka.length;if(ja<G||ja&&0!==ja%G)throw Error("Invalid SVG path, incorrect parameter count");T.push([xa,
...ka.slice(0,G)]);if(ja!==G)for("m"===y&&(xa="M"===xa?"L":"l"),y=G;y<ja;y+=G)T.push([xa,...ka.slice(y,y+G)])});return T}function u(w,T,ka,xa,y,G,ja,n,D){const da=rg.call(arguments);if(Gf[da])return Gf[da];var oa=ja*Qe;const Va=Math.sin(oa);oa=Math.cos(oa);ka=Math.abs(ka);xa=Math.abs(xa);var Za=oa*(n-w)*.5+Va*(D-T)*.5,Ib=oa*(D-T)*.5-Va*(n-w)*.5;Za=Za*Za/(ka*ka)+Ib*Ib/(xa*xa);1<Za&&(Za=Math.sqrt(Za),ka*=Za,xa*=Za);var bc=oa/ka,Ub=Va/ka,Bd=-Va/xa,Xc=oa/xa;Za=bc*n+Ub*D;Ib=Bd*n+Xc*D;bc=bc*w+Ub*T;Ub=Bd*
w+Xc*T;Bd=1/((bc-Za)*(bc-Za)+(Ub-Ib)*(Ub-Ib))-.25;0>Bd&&(Bd=0);Xc=Math.sqrt(Bd);G==y&&(Xc=-Xc);Bd=.5*(Za+bc)-Xc*(Ub-Ib);Xc=.5*(Ib+Ub)+Xc*(bc-Za);Za=Math.atan2(Ib-Xc,Za-Bd);Ib=Math.atan2(Ub-Xc,bc-Bd)-Za;0>Ib&&1===G?Ib+=Pf:0<Ib&&0===G&&(Ib-=Pf);bc=Math.ceil(Math.abs(Ib/(Cf+.001)));Ub=[];for(let Rd=0;Rd<bc;++Rd)Ub[Rd]=[Bd,Xc,Za+Rd*Ib/bc,Za+(Rd+1)*Ib/bc,ka,xa,Va,oa];return Gf[da]=Ub}function I(w,T,ka,xa,y,G){var ja=null,n=0,D=0,da=0,oa=0,Va=0,Za=0;null==ka&&(ka=0);null==xa&&(xa=0);null==y&&(y=1);null==
G&&(G=y);w.beginPath&&w.beginPath();for(var Ib=0,bc=T.length;Ib<bc;++Ib){var Ub=T[Ib];if(1!==y||1!==G){var Bd=y;var Xc=G;var Rd=Af[0]=Ub[0];if("a"===Rd||"A"===Rd)Af[1]=Bd*Ub[1],Af[2]=Xc*Ub[2],Af[3]=Ub[3],Af[4]=Ub[4],Af[5]=Ub[5],Af[6]=Bd*Ub[6],Af[7]=Xc*Ub[7];else if("h"===Rd||"H"===Rd)Af[1]=Bd*Ub[1];else if("v"===Rd||"V"===Rd)Af[1]=Xc*Ub[1];else{Rd=1;for(var se=Ub.length;Rd<se;++Rd)Af[Rd]=(1==Rd%2?Bd:Xc)*Ub[Rd]}Ub=Af}switch(Ub[0]){case "l":n+=Ub[1];D+=Ub[2];w.lineTo(n+ka,D+xa);break;case "L":n=Ub[1];
D=Ub[2];w.lineTo(n+ka,D+xa);break;case "h":n+=Ub[1];w.lineTo(n+ka,D+xa);break;case "H":n=Ub[1];w.lineTo(n+ka,D+xa);break;case "v":D+=Ub[1];w.lineTo(n+ka,D+xa);break;case "V":D=Ub[1];w.lineTo(n+ka,D+xa);break;case "m":n+=Ub[1];D+=Ub[2];Va=n;Za=D;w.moveTo(n+ka,D+xa);break;case "M":n=Ub[1];D=Ub[2];Va=n;Za=D;w.moveTo(n+ka,D+xa);break;case "c":Bd=n+Ub[5];Xc=D+Ub[6];da=n+Ub[3];oa=D+Ub[4];w.bezierCurveTo(n+Ub[1]+ka,D+Ub[2]+xa,da+ka,oa+xa,Bd+ka,Xc+xa);n=Bd;D=Xc;break;case "C":n=Ub[5];D=Ub[6];da=Ub[3];oa=
Ub[4];w.bezierCurveTo(Ub[1]+ka,Ub[2]+xa,da+ka,oa+xa,n+ka,D+xa);break;case "s":Bd=n+Ub[3];Xc=D+Ub[4];da=2*n-da;oa=2*D-oa;w.bezierCurveTo(da+ka,oa+xa,n+Ub[1]+ka,D+Ub[2]+xa,Bd+ka,Xc+xa);da=n+Ub[1];oa=D+Ub[2];n=Bd;D=Xc;break;case "S":Bd=Ub[3];Xc=Ub[4];da=2*n-da;oa=2*D-oa;w.bezierCurveTo(da+ka,oa+xa,Ub[1]+ka,Ub[2]+xa,Bd+ka,Xc+xa);n=Bd;D=Xc;da=Ub[1];oa=Ub[2];break;case "q":Bd=n+Ub[3];Xc=D+Ub[4];da=n+Ub[1];oa=D+Ub[2];w.quadraticCurveTo(da+ka,oa+xa,Bd+ka,Xc+xa);n=Bd;D=Xc;break;case "Q":Bd=Ub[3];Xc=Ub[4];
w.quadraticCurveTo(Ub[1]+ka,Ub[2]+xa,Bd+ka,Xc+xa);n=Bd;D=Xc;da=Ub[1];oa=Ub[2];break;case "t":Bd=n+Ub[1];Xc=D+Ub[2];null===ja[0].match(/[QqTt]/)?(da=n,oa=D):"t"===ja[0]?(da=2*n-Ce,oa=2*D-te):"q"===ja[0]&&(da=2*n-da,oa=2*D-oa);var Ce=da;var te=oa;w.quadraticCurveTo(da+ka,oa+xa,Bd+ka,Xc+xa);n=Bd;D=Xc;da=n+Ub[1];oa=D+Ub[2];break;case "T":Bd=Ub[1];Xc=Ub[2];da=2*n-da;oa=2*D-oa;w.quadraticCurveTo(da+ka,oa+xa,Bd+ka,Xc+xa);n=Bd;D=Xc;break;case "a":va(w,n+ka,D+xa,[Ub[1],Ub[2],Ub[3],Ub[4],Ub[5],Ub[6]+n+ka,Ub[7]+
D+xa]);n+=Ub[6];D+=Ub[7];break;case "A":va(w,n+ka,D+xa,[Ub[1],Ub[2],Ub[3],Ub[4],Ub[5],Ub[6]+ka,Ub[7]+xa]);n=Ub[6];D=Ub[7];break;case "z":case "Z":n=Va,D=Za,w.closePath()}ja=Ub}}function va(w,T,ka,xa){T=u(xa[5],xa[6],xa[0],xa[1],xa[3],xa[4],xa[2],T,ka);for(ka=0;ka<T.length;++ka){a:{var y=T[ka];xa=rg.call(y);if(Bg[xa]){xa=Bg[xa];break a}var G=y[0],ja=y[1],n=y[2],D=y[3],da=y[4],oa=y[5],Va=y[6],Za=y[7];y=Za*da;const bc=-Va*oa;da*=Va;oa*=Za;var Ib=Math.cos(n);const Ub=Math.sin(n);Va=Math.cos(D);Za=Math.sin(D);
n=.5*(D-n);D=Math.sin(.5*n);D=8/3*D*D/Math.sin(n);n=G+Ib-D*Ub;Ib=ja+Ub+D*Ib;G+=Va;ja+=Za;Za=G+D*Za;Va=ja-D*Va;xa=Bg[xa]=[y*n+bc*Ib,da*n+oa*Ib,y*Za+bc*Va,da*Za+oa*Va,y*G+bc*ja,da*G+oa*ja]}w.bezierCurveTo(xa[0],xa[1],xa[2],xa[3],xa[4],xa[5])}}function La(w){return l.hasOwnProperty(Hf,w)?Hf[w]:Xa(w)}function Xa(w){if(!l.hasOwnProperty(dg,w)){const T=O(w);dg[w]={draw:function(ka,xa){I(ka,T,0,0,Math.sqrt(xa)/2)}}}return dg[w]}function ab(w){return w.x}function Z(w){return w.y}function Ca(w){return w.width}
function Ya(w){return w.height}function Kb(w){return"function"===typeof w?w:()=>+w}function xc(w,T,ka){return Math.max(T,Math.min(w,ka))}function rc(){function w(oa,Va,Za){var Ib;Va=null!=Va?Va:+T.call(this,oa);Za=null!=Za?Za:+ka.call(this,oa);var bc=+xa.call(this,oa),Ub=+y.call(this,oa),Bd=Math.min(bc,Ub)/2,Xc=xc(+G.call(this,oa),0,Bd),Rd=xc(+ja.call(this,oa),0,Bd),se=xc(+n.call(this,oa),0,Bd);oa=xc(+D.call(this,oa),0,Bd);da||(da=Ib=Sb());0>=Xc&&0>=Rd&&0>=se&&0>=oa?da.rect(Va,Za,bc,Ub):(bc=Va+bc,
Ub=Za+Ub,da.moveTo(Va+Xc,Za),da.lineTo(bc-Rd,Za),da.bezierCurveTo(bc-.448084975506*Rd,Za,bc,Za+.448084975506*Rd,bc,Za+Rd),da.lineTo(bc,Ub-oa),da.bezierCurveTo(bc,Ub-.448084975506*oa,bc-.448084975506*oa,Ub,bc-oa,Ub),da.lineTo(Va+se,Ub),da.bezierCurveTo(Va+.448084975506*se,Ub,Va,Ub-.448084975506*se,Va,Ub-se),da.lineTo(Va,Za+Xc),da.bezierCurveTo(Va,Za+.448084975506*Xc,Va+.448084975506*Xc,Za,Va+Xc,Za),da.closePath());if(Ib)return da=null,Ib+""||null}var T=ab,ka=Z,xa=Ca,y=Ya,G=Kb(0),ja=G,n=G,D=G,da=null;
w.x=function(oa){return arguments.length?(T=Kb(oa),w):T};w.y=function(oa){return arguments.length?(ka=Kb(oa),w):ka};w.width=function(oa){return arguments.length?(xa=Kb(oa),w):xa};w.height=function(oa){return arguments.length?(y=Kb(oa),w):y};w.cornerRadius=function(oa,Va,Za,Ib){return arguments.length?(G=Kb(oa),ja=null!=Va?Kb(Va):G,D=null!=Za?Kb(Za):G,n=null!=Ib?Kb(Ib):ja,w):G};w.context=function(oa){return arguments.length?(da=null==oa?null:oa,w):da};return w}function yc(){function w(oa){var Va,Za=
oa.length,Ib,bc=!1,Ub;null==G&&(G=Ub=Sb());for(Va=0;Va<=Za;++Va)if(!(Va<Za&&y(Ib=oa[Va],Va,oa))===bc&&(bc=!bc)&&(ja=0),bc){var Bd=+T(Ib,Va,oa),Xc=+ka(Ib,Va,oa);const xf=+xa(Ib,Va,oa)/2;if(ja){var Rd=D-Xc,se=Bd-n;if(Rd||se){var Ce=Math.sqrt(Rd*Rd+se*se),te=(Rd/=Ce)*da;Ce=(se/=Ce)*da;var Se=Math.atan2(se,Rd);G.moveTo(n-te,D-Ce);G.lineTo(Bd-Rd*xf,Xc-se*xf);G.arc(Bd,Xc,xf,Se-Math.PI,Se);G.lineTo(n+te,D+Ce);G.arc(n,D,da,Se,Se+Math.PI)}else G.arc(Bd,Xc,xf,0,Pf);G.closePath()}else ja=1;n=Bd;D=Xc;da=xf}if(Ub)return G=
null,Ub+""||null}var T,ka,xa,y,G=null,ja,n,D,da;w.x=function(oa){return arguments.length?(T=oa,w):T};w.y=function(oa){return arguments.length?(ka=oa,w):ka};w.size=function(oa){return arguments.length?(xa=oa,w):xa};w.defined=function(oa){return arguments.length?(y=oa,w):y};w.context=function(oa){return arguments.length?(G=null==oa?null:oa,w):G};return w}function dd(w,T){return null!=w?w:T}function $b(w){return w.cornerRadius||w.cornerRadiusTopLeft||w.cornerRadiusTopRight||w.cornerRadiusBottomRight||
w.cornerRadiusBottomLeft}function Rc(w,T,ka,xa){return id.context(w)(T,ka,xa)}function Pd(w,T,ka){var xa=T.clip;w=w._defs;T=T.clip_id||(T.clip_id="clip"+Re++);w=w.clipping[T]||(w.clipping[T]={id:T});l.isFunction(xa)?w.path=xa(null):$b(ka)?w.path=Rc(null,ka,0,0):(w.width=ka.width||0,w.height=ka.height||0);return"url(#"+T+")"}function Pa(w){this.clear();w&&this.union(w)}function Wb(w){this.mark=w;this.bounds=this.bounds||new Pa}function sb(w){Wb.call(this,w);this.items=this.items||[]}function Tb(w){this._pending=
0;this._loader=w||hb.loader()}function ic(w,T,ka){if(T.stroke&&0!==T.opacity&&0!==T.strokeOpacity){const xa=null!=T.strokeWidth?+T.strokeWidth:1;w.expand(xa+(ka?T.strokeJoin&&"miter"!==T.strokeJoin?0:xa:0))}return w}function dc(w,T){Ff=w;T?(Sf=T*Qe,Wf=Lg=Math.cos(Sf),kg=Math.sin(Sf),pg=-kg):(Wf=Lg=1,Sf=kg=pg=0);return wf}function Ic(w,T,ka,xa){ka=(w-T)/(w+ka-2*T);0<ka&&1>ka&&xa(w+(T-w)*ka)}function Ac(w,T,ka,xa,y){const G=xa-w+3*T-3*ka,ja=w+ka-2*T;var n=w-T;let D=0,da=0;1E-14<Math.abs(G)?(n=ja*ja+
n*G,0<=n&&(n=Math.sqrt(n),D=(-ja+n)/G,da=(-ja-n)/G)):D=.5*n/ja;0<D&&1>D&&y(Zc(D,w,T,ka,xa));0<da&&1>da&&y(Zc(da,w,T,ka,xa))}function Zc(w,T,ka,xa,y){const G=1-w,ja=G*G,n=w*w;return ja*G*T+3*ja*w*ka+3*G*n*xa+n*w*y}function Nd(w){return function(T,ka){if(!Bf)return!0;w(Bf,T);tf.clear().union(T.bounds).intersect(ka).round();const {x1:xa,y1:y,x2:G,y2:ja}=tf;for(T=y;T<=ja;++T)for(ka=xa;ka<=G;++ka)if(Bf.isPointInPath(ka,T))return!0;return!1}}function ud(w,T){return T.contains(w.x||0,w.y||0)}function Ha(w,
T){const ka=w.x||0,xa=w.y||0;return T.intersects(tf.set(ka,xa,ka+(w.width||0),xa+(w.height||0)))}function gb(w,T){const ka=w.x||0,xa=w.y||0;return wb(T,ka,xa,null!=w.x2?w.x2:ka,null!=w.y2?w.y2:xa)}function wb(w,T,ka,xa,y){const {x1:G,y1:ja,x2:n,y2:D}=w;w=xa-T;y-=ka;xa=0;let da=1,oa,Va,Za,Ib;for(Ib=0;4>Ib;++Ib){0===Ib&&(oa=-w,Va=-(G-T));1===Ib&&(oa=w,Va=n-T);2===Ib&&(oa=-y,Va=-(ja-ka));3===Ib&&(oa=y,Va=D-ka);if(1E-10>Math.abs(oa)&&0>Va)return!1;Za=Va/oa;if(0>oa){if(Za>da)return!1;Za>xa&&(xa=Za)}else if(0<
oa){if(Za<xa)return!1;Za<da&&(da=Za)}}return!0}function ua(w,T){w.globalCompositeOperation=T.blend||"source-over"}function H(w,T){return null==w?T:w}function za(w,T){const ka=T.length;for(let xa=0;xa<ka;++xa)w.addColorStop(T[xa].offset,T[xa].color);return w}function Qa(w,T,ka){const xa=ka.width(),y=ka.height();if("radial"===T.gradient)w=w.createRadialGradient(ka.x1+H(T.x1,.5)*xa,ka.y1+H(T.y1,.5)*y,Math.max(xa,y)*H(T.r1,0),ka.x1+H(T.x2,.5)*xa,ka.y1+H(T.y2,.5)*y,Math.max(xa,y)*H(T.r2,.5));else{const G=
H(T.x1,0),ja=H(T.y1,0),n=H(T.x2,1),D=H(T.y2,0);if(G===n||ja===D||xa===y)w=w.createLinearGradient(ka.x1+G*xa,ka.y1+ja*y,ka.x1+n*xa,ka.y1+D*y);else{ka=R.canvas(Math.ceil(xa),Math.ceil(y));const da=ka.getContext("2d");da.scale(xa,y);da.fillStyle=za(da.createLinearGradient(G,ja,n,D),T.stops);da.fillRect(0,0,xa,y);return w.createPattern(ka,"no-repeat")}}return za(w,T.stops)}function $a(w,T,ka){ka*=null==T.fillOpacity?1:T.fillOpacity;return 0<ka?(w.globalAlpha=ka,T=(ka=T.fill)&&ka.gradient?Qa(w,ka,T.bounds):
ka,w.fillStyle=T,!0):!1}function lb(w,T,ka){var xa=null!=(xa=T.strokeWidth)?xa:1;if(0>=xa)return!1;ka*=null==T.strokeOpacity?1:T.strokeOpacity;return 0<ka?(w.globalAlpha=ka,ka=(ka=T.stroke)&&ka.gradient?Qa(w,ka,T.bounds):ka,w.strokeStyle=ka,w.lineWidth=xa,w.lineCap=T.strokeCap||"butt",w.lineJoin=T.strokeJoin||"miter",w.miterLimit=T.strokeMiterLimit||10,w.setLineDash&&(w.setLineDash(T.strokeDash||fg),w.lineDashOffset=T.strokeDashOffset||0),!0):!1}function Gb(w,T){return w.zindex-T.zindex||w.index-
T.index}function oc(w){if(!w.zdirty)return w.zitems;var T=w.items,ka=[],xa;var y=0;for(xa=T.length;y<xa;++y){var G=T[y];G.index=y;G.zindex&&ka.push(G)}w.zdirty=!1;return w.zitems=ka.sort(Gb)}function ec(w,T){var ka=w.items,xa;if(ka&&ka.length){var y=oc(w);if(y&&y.length){w=0;for(xa=ka.length;w<xa;++w)ka[w].zindex||T(ka[w]);ka=y}w=0;for(xa=ka.length;w<xa;++w)T(ka[w])}}function kc(w,T){var ka=w.items,xa,y;if(!ka||!ka.length)return null;const G=oc(w);G&&G.length&&(ka=G);for(y=ka.length;0<=--y;)if(xa=
T(ka[y]))return xa;if(ka===G)for(ka=w.items,y=ka.length;0<=--y;)if(!ka[y].zindex&&(xa=T(ka[y])))return xa;return null}function Sc(w){return function(T,ka,xa){ec(ka,y=>{xa&&!xa.intersects(y.bounds)||fd(w,T,y,y)})}}function ed(w){return function(T,ka,xa){!ka.items.length||xa&&!xa.intersects(ka.bounds)||fd(w,T,ka.items[0],ka.items)}}function fd(w,T,ka,xa){var y=null==ka.opacity?1:ka.opacity;0===y||w(T,xa)||(ua(T,ka),ka.fill&&$a(T,ka,y)&&T.fill(),ka.stroke&&lb(T,ka,y)&&T.stroke())}function Qd(w){w=w||
l.truthy;return function(T,ka,xa,y,G,ja){xa*=T.pixelRatio;y*=T.pixelRatio;return kc(ka,n=>{const D=n.bounds;if((!D||D.contains(G,ja))&&D&&w(T,n,xa,y,G,ja))return n})}}function Td(w,T){return function(ka,xa,y,G){var ja=Array.isArray(xa)?xa[0]:xa,n=null==T?ja.fill:T,D=ja.stroke&&ka.isPointInStroke;if(D){var da=ja.strokeWidth;ja=ja.strokeCap;ka.lineWidth=null!=da?da:1;ka.lineCap=null!=ja?ja:"butt"}return w(ka,xa)?!1:n&&ka.isPointInPath(y,G)||D&&ka.isPointInStroke(y,G)}}function Ed(w,T){return"translate("+
w+","+T+")"}function Yd(w,T,ka){function xa(y,G){var ja=G.x||0,n=G.y||0,D=G.angle||0;y.translate(ja,n);D&&y.rotate(D*=Qe);y.beginPath();T(y,G);D&&y.rotate(-D);y.translate(-ja,-n)}return{type:w,tag:"path",nested:!1,attr:function(y,G){var ja=Ed(G.x||0,G.y||0)+(G.angle?" rotate("+(G.angle+")"):"");y("transform",ja);y("d",T(null,G))},bound:function(y,G){T(dc(y,G.angle),G);return ic(y,G).translate(G.x||0,G.y||0)},draw:Sc(xa),pick:Qd(Td(xa)),isect:ka||Nd(xa)}}function ae(w,T,ka){function xa(G,ja){G.beginPath();
T(G,ja)}const y=Td(xa);return{type:w,tag:"path",nested:!0,attr:function(G,ja){ja=ja.mark.items;ja.length&&G("d",T(null,ja))},bound:function(G,ja){ja=ja.items;if(0===ja.length)return G;T(dc(G),ja);return ic(G,ja[0])},draw:ed(xa),pick:function(G,ja,n,D,da,oa){var Va=ja.items;ja=ja.bounds;if(!Va||!Va.length||ja&&!ja.contains(da,oa))return null;n*=G.pixelRatio;D*=G.pixelRatio;return y(G,Va,n,D)?Va[0]:null},isect:ud,tip:ka}}function Ud(w,T){w.beginPath();$b(T)?Rc(w,T,0,0):w.rect(0,0,T.width||0,T.height||
0);w.clip()}function Ye(w){const T=H(w.strokeWidth,1);return null!=w.strokeOffset?w.strokeOffset:w.stroke&&.5<T&&1.5>T?.5-Math.abs(T-1):0}function Wd(w,T,ka,xa){const y=Ye(T);w.beginPath();Rc(w,T,(ka||0)+y,(xa||0)+y)}function P(w,T){var ka=w.image;if(!ka||w.url&&w.url!==ka.url)ka={complete:!1,width:0,height:0},T.loadImage(w.url).then(xa=>{w.image=xa;w.image.url=w.url});return ka}function na(w,T){return null!=w.width?w.width:T&&T.width?!1!==w.aspect&&w.height?w.height*T.width/T.height:T.width:0}function Aa(w,
T){return null!=w.height?w.height:T&&T.height?!1!==w.aspect&&w.width?w.width*T.height/T.width:T.height:0}function fb(w,T){return"center"===w?T/2:"right"===w?T:0}function Jb(w,T){return"middle"===w?T/2:"bottom"===w?T:0}function Zb(w,T){var ka=T.path;if(null==ka)return!0;var xa=T.x||0,y=T.y||0,G=T.scaleX||1,ja=T.scaleY||1,n=(T.angle||0)*Qe,D=T.pathCache;D&&D.path===ka||((T.pathCache=D=O(ka)).path=ka);n&&w.rotate&&w.translate?(w.translate(xa,y),w.rotate(n),I(w,D,0,0,G,ja),w.rotate(-n),w.translate(-xa,
-y)):I(w,D,xa,y,G,ja)}function Cc(w,T){w.beginPath();Rc(w,T)}function mc(w,T,ka){if(T.stroke&&lb(w,T,ka)){ka=T.x||0;var xa=T.y||0;var y=null!=T.x2?T.x2:ka;T=null!=T.y2?T.y2:xa;w.beginPath();w.moveTo(ka,xa);w.lineTo(y,T);return!0}return!1}function Hc(w){th.width=w&&Bf?Nc:jd}function jd(w,T){T=Od(w,T);w=Gd(w);return~~(.8*T.length*w)}function Nc(w,T){return 0>=Gd(w)||!(T=Od(w,T))?0:vd(T,gf(w))}function vd(w,T){const ka=`(${T}) ${w}`;let xa=dh.get(ka);void 0===xa&&(Bf.font=T,xa=Bf.measureText(w).width,
dh.set(ka,xa));return xa}function Gd(w){return null!=w.fontSize?+w.fontSize||0:11}function Fd(w){return null!=w.lineHeight?w.lineHeight:Gd(w)+2}function Xd(w){w=w.lineBreak&&w.text&&!l.isArray(w.text)?w.text.split(w.lineBreak):w.text;return l.isArray(w)?1<w.length?w:w[0]:w}function Od(w,T){T=null==T?"":(T+"").trim();if(0<w.limit&&T.length){var ka=+w.limit,xa=qe(w);if(!(xa(T)<ka)){var y=w.ellipsis||"",G="rtl"===w.dir;w=0;var ja=T.length;ka-=xa(y);if(G){for(;w<ja;)G=w+ja>>>1,xa(T.slice(G))>ka?w=G+
1:ja=G;T=y+T.slice(w)}else{for(;w<ja;)G=1+(w+ja>>>1),xa(T.slice(0,G))<ka?w=G:ja=G-1;T=T.slice(0,w)+y}}}return T}function qe(w){if(th.width===Nc){const ka=gf(w);return xa=>vd(xa,ka)}const T=Gd(w);return ka=>~~(.8*ka.length*T)}function De(w,T){w=w.font;return(T&&w?String(w).replace(/"/g,"'"):w)||"sans-serif"}function gf(w,T){return(w.fontStyle?w.fontStyle+" ":"")+(w.fontVariant?w.fontVariant+" ":"")+(w.fontWeight?w.fontWeight+" ":"")+Gd(w)+"px "+De(w,T)}function df(w){var T=w.baseline,ka=Gd(w);return Math.round("top"===
T?.79*ka:"middle"===T?.3*ka:"bottom"===T?-.21*ka:"line-top"===T?.29*ka+.5*Fd(w):"line-bottom"===T?.29*ka-.5*Fd(w):0)}function ef(w){var T=w.x||0,ka=w.y||0,xa=w.radius||0;xa&&(w=(w.theta||0)-Cf,T+=xa*Math.cos(w),ka+=xa*Math.sin(w));Fg.x1=T;Fg.y1=ka;return Fg}function pe(w,T,ka){var xa=th.height(T),y=T.align,G=ef(T),ja=G.x1;G=G.y1;var n=T.dx||0,D=(T.dy||0)+df(T)-Math.round(.8*xa),da=Xd(T);l.isArray(da)?(xa+=Fd(T)*(da.length-1),da=da.reduce((oa,Va)=>Math.max(oa,th.width(T,Va)),0)):da=th.width(T,da);
"center"===y?n-=da/2:"right"===y&&(n-=da);w.set(n+=ja,D+=G,n+da,D+xa);if(T.angle&&!ka)w.rotate(T.angle*Qe,ja,G);else if(2===ka)return w.rotatedPoints(T.angle*Qe,ja,G);return w}function nf(w,T,ka){var xa=Rg[w.mark.marktype];T=T||xa.bound;xa.nested&&(w=w.mark);return T(w.bounds||(w.bounds=new Pa),w,ka)}function W(w,T,ka){var xa=Rg[w.marktype],y=xa.bound,G=w.items,ja=G&&G.length;if(xa.nested)return ja?w=G[0]:(gh.mark=w,w=gh),ka=nf(w,y,ka),T=T&&T.union(ka)||ka;T=T||w.bounds&&w.bounds.clear()||new Pa;
if(ja)for(xa=0,ja=G.length;xa<ja;++xa)T.union(nf(G[xa],y,ka));return w.bounds=T}function wa(w,T){return JSON.stringify(w,kh,T)}function db(w){w="string"===typeof w?JSON.parse(w):w;return yb(w)}function yb(w){var T=w.marktype,ka=w.items,xa;if(ka){var y=0;for(xa=ka.length;y<xa;++y){var G=T?"mark":"group";ka[y][G]=w;ka[y].zindex&&(ka[y][G].zdirty=!0);"group"===(T||G)&&yb(ka[y])}}T&&W(w);return w}function hc(w){arguments.length?this.root=db(w):(this.root=Ec({marktype:"group",name:"root",role:"frame"}),
this.root.items=[new sb(this.root)])}function Ec(w,T){T={bounds:new Pa,clip:!!w.clip,group:T,interactive:!1===w.interactive?!1:!0,items:[],marktype:w.marktype,name:w.name||void 0,role:w.role||void 0,zindex:w.zindex||0};null!=w.aria&&(T.aria=w.aria);w.description&&(T.description=w.description);return T}function ac(w,T,ka){!w&&"undefined"!==typeof document&&document.createElement&&(w=document);return w?ka?w.createElementNS(ka,T):w.createElement(T):null}function L(w,T){T=T.toLowerCase();w=w.childNodes;
for(var ka=0,xa=w.length;ka<xa;++ka)if(w[ka].tagName.toLowerCase()===T)return w[ka]}function fa(w,T,ka,xa){T=w.childNodes[T];if(!T||T.tagName.toLowerCase()!==ka.toLowerCase()){var y=T||null;T=ac(w.ownerDocument,ka,xa);w.insertBefore(T,y)}return T}function Sa(w,T){for(var ka=w.childNodes,xa=ka.length;xa>T;)w.removeChild(ka[--xa]);return w}function cc(w){return"mark-"+w.marktype+(w.role?" role-"+w.role:"")+(w.name?" "+w.name:"")}function Jc(w,T){const ka=T.getBoundingClientRect();return[w.clientX-ka.left-
(T.clientLeft||0),w.clientY-ka.top-(T.clientTop||0)]}function Bc(w,T){this._active=null;this._handlers={};this._loader=w||hb.loader();this._tooltip=T||$c}function $c(w,T,ka,xa){w.element().setAttribute("title",xa||"")}function pd(w){this._bgcolor=this._el=null;this._loader=new Tb(w)}function ee(w,T){Bc.call(this,w,T);this._touch=this._down=null;this._first=!0;this._events={}}function Ra(w,T){("touchstart"===T||"touchmove"===T||"touchend"===T?["touchstart","touchmove","touchend"]:[T]).forEach(ka=>
eb(w,ka))}function eb(w,T){const ka=w.canvas();ka&&!w._events[T]&&(w._events[T]=1,ka.addEventListener(T,w[T]?xa=>w[T](xa):xa=>w.fire(T,xa)))}function qc(w,T,ka){return function(xa){const y=this._active,G=this.pickEvent(xa);G!==y&&(y&&y.exit||this.fire(ka,xa),this._active=G,this.fire(T,xa));this.fire(w,xa)}}function wd(w){return function(T){this.fire(w,T);this._active=null}}function Mc(w){pd.call(this,w);this._options={};this._redraw=!1;this._dirty=new Pa;this._tempb=new Pa}function Uc(w,T){Bc.call(this,
w,T);const ka=this;ka._hrefHandler=Nh(ka,(xa,y)=>{y&&y.href&&ka.handleHref(xa,y,y.href)});ka._tooltipHandler=Nh(ka,(xa,y)=>{ka.handleTooltip(xa,y,"mouseout"!==xa.type)})}function Qc(w,T){var ka=!1===T.aria;w("aria-hidden",ka||void 0);if(ka||null==T.description)for(const xa in Yh)w(Yh[xa],void 0);else ka=T.mark.marktype,w("aria-label",T.description),w("role",T.ariaRole||("group"===ka?"graphics-object":"graphics-symbol")),w("aria-roledescription",T.ariaRoleDescription||`${ka} mark`)}function td(w){return!1===
w.aria?{["aria-hidden"]:!0}:Hg[w.role]?null:Ng[w.role]?Ld(w,Ng[w.role]):kd(w)}function kd(w){const T=w.marktype,ka="group"===T||"text"===T||w.items.some(xa=>null!=xa.description&&!1!==xa.aria);return Dh(ka?"graphics-object":"graphics-symbol",`${T} mark container`,w.description)}function Ld(w,T){try{const ka=w.items[0],xa=T.caption||(()=>"");return Dh(T.role||"graphics-symbol",T.desc,ka.description||xa(ka))}catch(ka){return null}}function Cd(w){try{return l.array(l.peek(w.items).items[0].text).join(" ")}catch(T){return null}}
function be(w){w=w.map(T=>T+("fill"===T||"stroke"===T?" color":""));return 2>w.length?w[0]:w.slice(0,-1).join(", ")+" and "+l.peek(w)}function ve(){let w="",T="",ka="";const xa=[],y=(ja,n)=>{null!=n&&(T+=` ${ja}="${eh(n).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return G},G={open(ja,...n){T&&(w+=`${T}>${ka}`,T=ka="");xa.push(ja);T="\x3c"+ja;for(const D of n)for(const da in D)y(da,D[da]);return G},close(){const ja=xa.pop();w=T?w+(T+
(ka?`>${ka}</${ja}>`:"/\x3e")):w+`</${ja}>`;T=ka="";return G},attr:y,text:ja=>(ka+=eh(ja),G),toString:()=>w};return G}function Me(w,T){w.open(T.tagName);if(T.hasAttributes()){const ka=T.attributes,xa=ka.length;for(let y=0;y<xa;++y)w.attr(ka[y].name,ka[y].value)}if(T.hasChildNodes()){T=T.childNodes;for(const ka of T)3===ka.nodeType?w.text(ka.nodeValue):Me(w,ka)}return w.close()}function $e(w){pd.call(this,w);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function sf(w,T){for(;w&&
w.dirty!==T;w=w.mark.group)if(w.dirty=T,w.mark&&w.mark.dirty!==T)w.mark.dirty=T;else break}function nd(w,T,ka){T=T.lastChild.previousSibling;let xa,y=0;ec(ka,G=>{xa=w.mark(T,G,xa);++y});Sa(T,1+y)}function Fc(w,T,ka,xa,y){let G=w._svg;if(!G){var ja=T.ownerDocument;G=ac(ja,xa,qf);w._svg=G;w.mark&&(G.__data__=w,G.__values__={fill:"default"},"g"===xa&&(xa=ac(ja,"path",qf),G.appendChild(xa),xa.__data__=w,xa=ac(ja,"g",qf),G.appendChild(xa),xa.__data__=w,ja=ac(ja,"path",qf),G.appendChild(ja),ja.__data__=
w,ja.__values__={fill:"default"}))}(G.ownerSVGElement!==y||G.parentNode&&1<G.parentNode.childNodes.length&&G.previousSibling!=ka)&&T.insertBefore(G,ka?ka.nextSibling:T.firstChild);return G}function bd(w,T,ka){if(T!==bg[w]){if(ka){var xa=Og;null!=T?xa.setAttributeNS(ka,w,T):xa.removeAttributeNS(ka,w)}else Zd(Og,w,T);bg[w]=T}}function Gc(w,T,ka){ka!==bg[T]&&(null==ka?w.style.removeProperty(T):w.style.setProperty(T,ka+""),bg[T]=ka)}function Jd(w,T){for(const ka in T)Zd(w,ka,T[ka])}function Zd(w,T,ka){null!=
ka?w.setAttribute(T,ka):w.removeAttribute(T)}function $d(){let w;return"undefined"===typeof window?"":(w=window.location).hash?w.href.slice(0,-w.hash.length):w.href}function ke(w){pd.call(this,w);this._text=null;this._defs={gradient:{},clipping:{}}}function Q(w,T,ka,xa,y){let G;if(null==T)return w;"bgrect"===xa&&!1===ka.interactive&&(w["pointer-events"]="none");if("bgfore"===xa&&(!1===ka.interactive&&(w["pointer-events"]="none"),w.display="none",null!==T.fill))return w;"image"===xa&&!1===T.smooth&&
(G=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]);"text"===xa&&(w["font-family"]=De(T),w["font-size"]=Gd(T)+"px",w["font-style"]=T.fontStyle,w["font-variant"]=T.fontVariant,w["font-weight"]=T.fontWeight);for(const ja in Xf)ka=T[ja],xa=Xf[ja],("transparent"!==ka||"fill"!==xa&&"stroke"!==xa)&&null!=ka&&(ka&&ka.gradient&&(ka=Yb(ka,y.gradient,"")),w[xa]=ka);for(const ja in Sg)y=T[ja],null!=y&&(G=G||[],G.push(`${Sg[ja]}: ${y};`));G&&(w.style=G.join(" "));return w}function ea(w,T,ka,
xa){if(w.bounds&&T.intersects(w.bounds)&&("group"===w.marktype||!1!==w.interactive&&(!ka||ka(w)))){const G=w.items;var y=w.marktype;w=G.length;let ja=0;if("group"===y)for(;ja<w;++ja)J(G[ja],T,ka,xa);else for(ka=Rg[y].isect;ja<w;++ja)y=G[ja],la(y,T,ka)&&xa.push(y)}return xa}function J(w,T,ka,xa){ka&&ka(w.mark)&&la(w,T,Rg.group.isect)&&xa.push(w);const y=w.items,G=y&&y.length;if(G){const ja=w.x||0;w=w.y||0;T.translate(-ja,-w);for(let n=0;n<G;++n)ea(y[n],T,ka,xa);T.translate(ja,w)}return xa}function la(w,
T,ka){const xa=w.bounds;return T.encloses(xa)||T.intersects(xa)&&ka(w,T)}function ma(w,T,ka){return w===T?!0:"path"===ka?Ja(w,T):w instanceof Date&&T instanceof Date?+w===+T:l.isNumber(w)&&l.isNumber(T)?1E-9>=Math.abs(w-T):w&&T&&(l.isObject(w)||l.isObject(T))?ib(w,T):w==T}function Ja(w,T){return ma(O(w),O(T))}function ib(w,T){var ka=Object.keys(w),xa=Object.keys(T),y;if(ka.length!==xa.length)return!1;ka.sort();xa.sort();for(y=ka.length-1;0<=y;y--)if(ka[y]!=xa[y])return!1;for(y=ka.length-1;0<=y;y--)if(xa=
ka[y],!ma(w[xa],T[xa],xa))return!1;return typeof w===typeof T}let gc=0;const tc=Math.abs,vc=Math.atan2,Xb=Math.cos,Dc=Math.max,yd=Math.min,Yc=Math.sin,hd=Math.sqrt,Ad=Math.PI,Hd=Ad/2,Pc=2*Ad,Ee=Math.PI,Ge=2*Ee,Ae=Ge-1E-6;class Be{constructor(w){this._x0=this._y0=this._x1=this._y1=null;this._="";this._append=null==w?Ab:jc(w)}moveTo(w,T){this._append`M${this._x0=this._x1=+w},${this._y0=this._y1=+T}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(w,T){this._append`L${this._x1=
+w},${this._y1=+T}`}quadraticCurveTo(w,T,ka,xa){this._append`Q${+w},${+T},${this._x1=+ka},${this._y1=+xa}`}bezierCurveTo(w,T,ka,xa,y,G){this._append`C${+w},${+T},${+ka},${+xa},${this._x1=+y},${this._y1=+G}`}arcTo(w,T,ka,xa,y){w=+w;T=+T;ka=+ka;xa=+xa;y=+y;if(0>y)throw Error(`negative radius: ${y}`);var G=this._x1,ja=this._y1;let n=ka-w,D=xa-T,da=G-w,oa=ja-T;var Va=da*da+oa*oa;if(null===this._x1)this._append`M${this._x1=w},${this._y1=T}`;else if(1E-6<Va)if(1E-6<Math.abs(oa*n-D*da)&&y){ka-=G;xa-=ja;
let Za=n*n+D*D;ja=Math.sqrt(Za);G=Math.sqrt(Va);Va=y*Math.tan((Ee-Math.acos((Za+Va-(ka*ka+xa*xa))/(2*ja*G)))/2);G=Va/G;Va/=ja;1E-6<Math.abs(G-1)&&this._append`L${w+G*da},${T+G*oa}`;this._append`A${y},${y},0,0,${+(oa*ka>da*xa)},${this._x1=w+Va*n},${this._y1=T+Va*D}`}else this._append`L${this._x1=w},${this._y1=T}`}arc(w,T,ka,xa,y,G){w=+w;T=+T;ka=+ka;G=!!G;if(0>ka)throw Error(`negative radius: ${ka}`);let ja=ka*Math.cos(xa),n=ka*Math.sin(xa),D=w+ja,da=T+n,oa=1^G;xa=G?xa-y:y-xa;null===this._x1?this._append`M${D},${da}`:
(1E-6<Math.abs(this._x1-D)||1E-6<Math.abs(this._y1-da))&&this._append`L${D},${da}`;ka&&(0>xa&&(xa=xa%Ge+Ge),xa>Ae?this._append`A${ka},${ka},0,1,${oa},${w-ja},${T-n}A${ka},${ka},0,1,${oa},${this._x1=D},${this._y1=da}`:1E-6<xa&&this._append`A${ka},${ka},0,${+(xa>=Ee)},${oa},${this._x1=w+ka*Math.cos(y)},${this._y1=T+ka*Math.sin(y)}`)}rect(w,T,ka,xa){this._append`M${this._x0=this._x1=+w},${this._y0=this._y1=+T}h${ka=+ka}v${+xa}h${-ka}Z`}toString(){return this._}}Sb.prototype=Be.prototype;Na.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(w,T){w=+w;T=+T;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(w,T):this._context.moveTo(w,T);break;case 1:this._point=2;default:this._context.lineTo(w,T)}}};var Id={draw(w,T){T=hd(T/Ad);w.moveTo(T,0);w.arc(0,0,T,0,Pc)}};Ob.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:qb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(w,T){w=+w;T=+T;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(w,T):this._context.moveTo(w,T);break;case 1:this._point=2;break;case 2:this._point=
3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qb(this,w,T)}this._x0=this._x1;this._x1=w;this._y0=this._y1;this._y1=T}};Vb.prototype={areaStart:vb,areaEnd:vb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+
2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(w,T){w=+w;T=+T;switch(this._point){case 0:this._point=1;this._x2=w;this._y2=T;break;case 1:this._point=2;this._x3=w;this._y3=T;break;case 2:this._point=3;this._x4=w;this._y4=T;this._context.moveTo((this._x0+4*this._x1+w)/6,(this._y0+4*this._y1+T)/6);break;default:qb(this,
w,T)}this._x0=this._x1;this._x1=w;this._y0=this._y1;this._y1=T}};ob.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(w,T){w=+w;T=+T;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var ka=(this._x0+4*this._x1+w)/6,xa=
(this._y0+4*this._y1+T)/6;this._line?this._context.lineTo(ka,xa):this._context.moveTo(ka,xa);break;case 3:this._point=4;default:qb(this,w,T)}this._x0=this._x1;this._x1=w;this._y0=this._y1;this._y1=T}};ra.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var w=this._x,T=this._y,ka=w.length-1;if(0<ka)for(var xa=w[0],y=T[0],G=w[ka]-xa,ja=T[ka]-y,n=-1,D;++n<=ka;)D=n/ka,this._basis.point(this._beta*w[n]+(1-this._beta)*(xa+D*G),this._beta*T[n]+(1-this._beta)*
(y+D*ja));this._x=this._y=null;this._basis.lineEnd()},point:function(w,T){this._x.push(+w);this._y.push(+T)}};var he=function ka(T){function xa(y){return 1===T?new Ob(y):new ra(y,T)}xa.beta=function(y){return ka(+y)};return xa}(.85);Ea.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;
case 3:Y(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(T,ka){T=+T;ka=+ka;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(T,ka):this._context.moveTo(T,ka);break;case 1:this._point=2;this._x1=T;this._y1=ka;break;case 2:this._point=3;default:Y(this,T,ka)}this._x0=this._x1;this._x1=this._x2;this._x2=T;this._y0=this._y1;this._y1=this._y2;this._y2=ka}};var xe=function xa(ka){function y(G){return new Ea(G,
ka)}y.tension=function(G){return xa(+G)};return y}(0);Ga.prototype={areaStart:vb,areaEnd:vb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),
this.point(this._x5,this._y5)}},point:function(ka,xa){ka=+ka;xa=+xa;switch(this._point){case 0:this._point=1;this._x3=ka;this._y3=xa;break;case 1:this._point=2;this._context.moveTo(this._x4=ka,this._y4=xa);break;case 2:this._point=3;this._x5=ka;this._y5=xa;break;default:Y(this,ka,xa)}this._x0=this._x1;this._x1=this._x2;this._x2=ka;this._y0=this._y1;this._y1=this._y2;this._y2=xa}};var Le=function y(xa){function G(ja){return new Ga(ja,xa)}G.tension=function(ja){return y(+ja)};return G}(0);cb.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(xa,y){xa=+xa;y=+y;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);
break;case 3:this._point=4;default:Y(this,xa,y)}this._x0=this._x1;this._x1=this._x2;this._x2=xa;this._y0=this._y1;this._y1=this._y2;this._y2=y}};var of=function G(y){function ja(n){return new cb(n,y)}ja.tension=function(n){return G(+n)};return ja}(0);pa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=
0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(y,G){y=+y;G=+G;if(this._point){var ja=this._x2-y,n=this._y2-G;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(ja*ja+n*n,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(y,G):this._context.moveTo(y,G);break;case 1:this._point=
2;break;case 2:this._point=3;default:ca(this,y,G)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=y;this._y0=this._y1;this._y1=this._y2;this._y2=G}};var We=function ja(G){function n(D){return G?new pa(D,G):new Ea(D,0)}n.alpha=function(D){return ja(+D)};return n}(.5);x.prototype={areaStart:vb,areaEnd:vb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=
this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(G,ja){G=+G;ja=+ja;if(this._point){var n=this._x2-G,D=this._y2-ja;this._l23_a=
Math.sqrt(this._l23_2a=Math.pow(n*n+D*D,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=G;this._y3=ja;break;case 1:this._point=2;this._context.moveTo(this._x4=G,this._y4=ja);break;case 2:this._point=3;this._x5=G;this._y5=ja;break;default:ca(this,G,ja)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=G;this._y0=this._y1;this._y1=this._y2;this._y2=ja}};var we=function n(ja){function D(da){return ja?
new x(da,ja):new Ga(da,0)}D.alpha=function(da){return n(+da)};return D}(.5);N.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(ja,n){ja=+ja;n=+n;if(this._point){var D=this._x2-
ja,da=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(D*D+da*da,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ca(this,ja,n)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=ja;this._y0=this._y1;this._y1=this._y2;
this._y2=n}};var vf=function D(n){function da(oa){return n?new N(oa,n):new cb(oa,0)}da.alpha=function(oa){return D(+oa)};return da}(.5);S.prototype={areaStart:vb,areaEnd:vb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,D){n=+n;D=+D;this._point?this._context.lineTo(n,D):(this._point=1,this._context.moveTo(n,D))}};E.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=
this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:m(this,this._t0,z(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(n,D){var da=NaN;n=+n;D=+D;if(n!==this._x1||D!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(n,D):this._context.moveTo(n,D);break;case 1:this._point=2;break;case 2:this._point=
3;m(this,z(this,da=g(this,n,D)),da);break;default:m(this,this._t0,da=g(this,n,D))}this._x0=this._x1;this._x1=n;this._y0=this._y1;this._y1=D;this._t0=da}}};(h.prototype=Object.create(E.prototype)).point=function(n,D){E.prototype.point.call(this,D,n)};p.prototype={moveTo:function(n,D){this._context.moveTo(D,n)},closePath:function(){this._context.closePath()},lineTo:function(n,D){this._context.lineTo(D,n)},bezierCurveTo:function(n,D,da,oa,Va,Za){this._context.bezierCurveTo(D,n,oa,da,Za,Va)}};r.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var n=this._x,D=this._y,da=n.length;if(da)if(this._line?this._context.lineTo(n[0],D[0]):this._context.moveTo(n[0],D[0]),2===da)this._context.lineTo(n[1],D[1]);else for(var oa=v(n),Va=v(D),Za=0,Ib=1;Ib<da;++Za,++Ib)this._context.bezierCurveTo(oa[0][Za],Va[0][Za],oa[1][Za],Va[1][Za],n[Ib],D[Ib]);(this._line||0!==this._line&&1===da)&&this._context.closePath();this._line=
1-this._line;this._x=this._y=null},point:function(n,D){this._x.push(+n);this._y.push(+D)}};F.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,D){n=+n;D=+D;switch(this._point){case 0:this._point=
1;this._line?this._context.lineTo(n,D):this._context.moveTo(n,D);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,D),this._context.lineTo(n,D);else{var da=this._x*(1-this._t)+n*this._t;this._context.lineTo(da,this._y);this._context.lineTo(da,D)}}this._x=n;this._y=D}};const Of={basis:{curve:function(n){return new Ob(n)}},"basis-closed":{curve:function(n){return new Vb(n)}},"basis-open":{curve:function(n){return new ob(n)}},bundle:{curve:he,tension:"beta",value:.85},cardinal:{curve:xe,
tension:"tension",value:0},"cardinal-open":{curve:of,tension:"tension",value:0},"cardinal-closed":{curve:Le,tension:"tension",value:0},"catmull-rom":{curve:We,tension:"alpha",value:.5},"catmull-rom-closed":{curve:we,tension:"alpha",value:.5},"catmull-rom-open":{curve:vf,tension:"alpha",value:.5},linear:{curve:Da},"linear-closed":{curve:function(n){return new S(n)}},monotone:{horizontal:function(n){return new h(n)},vertical:function(n){return new E(n)}},natural:{curve:function(n){return new r(n)}},
step:{curve:function(n){return new F(n,.5)}},"step-after":{curve:function(n){return new F(n,1)}},"step-before":{curve:function(n){return new F(n,0)}}},af={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},ag=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,Vd=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,hf=/^((\s+,?\s*)|(,\s*))/,jf=/^[01]/,Qe=Math.PI/180,Cf=Math.PI/2,Pf=2*Math.PI,Jf=Math.sqrt(3)/2;var Gf={},Bg={},rg=[].join;const Af=["l",0,0,0,0,0,0,0],Hf={circle:{draw:function(n,D){D=Math.sqrt(D)/2;
n.moveTo(D,0);n.arc(0,0,D,0,Pf)}},cross:{draw:function(n,D){D=Math.sqrt(D)/2;var da=D/2.5;n.moveTo(-D,-da);n.lineTo(-D,da);n.lineTo(-da,da);n.lineTo(-da,D);n.lineTo(da,D);n.lineTo(da,da);n.lineTo(D,da);n.lineTo(D,-da);n.lineTo(da,-da);n.lineTo(da,-D);n.lineTo(-da,-D);n.lineTo(-da,-da);n.closePath()}},diamond:{draw:function(n,D){D=Math.sqrt(D)/2;n.moveTo(-D,0);n.lineTo(0,-D);n.lineTo(D,0);n.lineTo(0,D);n.closePath()}},square:{draw:function(n,D){D=Math.sqrt(D);var da=-D/2;n.rect(da,da,D,D)}},arrow:{draw:function(n,
D){D=Math.sqrt(D)/2;var da=D/7,oa=D/2.5,Va=D/8;n.moveTo(-da,D);n.lineTo(da,D);n.lineTo(da,-Va);n.lineTo(oa,-Va);n.lineTo(0,-D);n.lineTo(-oa,-Va);n.lineTo(-da,-Va);n.closePath()}},wedge:{draw:function(n,D){var da=Math.sqrt(D)/2;D=Jf*da;var oa=D-.5773502691896257*da;da/=4;n.moveTo(0,-D-oa);n.lineTo(-da,D-oa);n.lineTo(da,D-oa);n.closePath()}},triangle:{draw:function(n,D){D=Math.sqrt(D)/2;var da=Jf*D,oa=da-.5773502691896257*D;n.moveTo(0,-da-oa);n.lineTo(-D,da-oa);n.lineTo(D,da-oa);n.closePath()}},"triangle-up":{draw:function(n,
D){D=Math.sqrt(D)/2;var da=Jf*D;n.moveTo(0,-da);n.lineTo(-D,da);n.lineTo(D,da);n.closePath()}},"triangle-down":{draw:function(n,D){D=Math.sqrt(D)/2;var da=Jf*D;n.moveTo(0,da);n.lineTo(-D,-da);n.lineTo(D,-da);n.closePath()}},"triangle-right":{draw:function(n,D){D=Math.sqrt(D)/2;var da=Jf*D;n.moveTo(da,0);n.lineTo(-da,-D);n.lineTo(-da,D);n.closePath()}},"triangle-left":{draw:function(n,D){D=Math.sqrt(D)/2;var da=Jf*D;n.moveTo(-da,0);n.lineTo(da,-D);n.lineTo(da,D);n.closePath()}},stroke:{draw:function(n,
D){D=Math.sqrt(D)/2;n.moveTo(-D,0);n.lineTo(D,0)}}};var dg={};const Ug=n=>n.x||0,Vg=n=>n.y||0,Dg=n=>!1!==n.defined,Wg=function(){function n(){var Xc,Rd=+D.apply(this,arguments),se=+da.apply(this,arguments),Ce=Za.apply(this,arguments)-Hd,te=Ib.apply(this,arguments)-Hd,Se=tc(te-Ce),xf=te>Ce;Ub||(Ub=Xc=Bd());if(se<Rd){var Tf=se;se=Rd;Rd=Tf}if(1E-12<se)if(Se>Pc-1E-12)Ub.moveTo(se*Xb(Ce),se*Yc(Ce)),Ub.arc(0,0,se,Ce,te,!xf),1E-12<Rd&&(Ub.moveTo(Rd*Xb(te),Rd*Yc(te)),Ub.arc(0,0,Rd,te,Ce,xf));else{var ff=
Ce,bf=te;Tf=Ce;var cg=te,vh=Se,lg=Se,Mf=bc.apply(this,arguments)/2,mf=1E-12<Mf&&(Va?+Va.apply(this,arguments):hd(Rd*Rd+se*se)),Qf=yd(tc(se-Rd)/2,+oa.apply(this,arguments)),If=Qf,Lf=Qf;if(1E-12<mf){var ah=pc(mf/Rd*Yc(Mf));Mf=pc(mf/se*Yc(Mf));1E-12<(vh-=2*ah)?(ah*=xf?1:-1,Tf+=ah,cg-=ah):(vh=0,Tf=cg=(Ce+te)/2);1E-12<(lg-=2*Mf)?(Mf*=xf?1:-1,ff+=Mf,bf-=Mf):(lg=0,ff=bf=(Ce+te)/2)}Ce=se*Xb(ff);te=se*Yc(ff);ah=Rd*Xb(cg);Mf=Rd*Yc(cg);if(1E-12<Qf){var hg=se*Xb(bf),Fh=se*Yc(bf),og=Rd*Xb(Tf),jh=Rd*Yc(Tf);if(Se<
Ad){If=og-Ce;Lf=jh-te;Se=ah-hg;mf=Mf-Fh;var yg=mf*If-Se*Lf;1E-12>yg*yg?If=void 0:(yg=(Se*(te-Fh)-mf*(Ce-hg))/yg,If=[Ce+yg*If,te+yg*Lf]);If?(Lf=Ce-If[0],Se=te-If[1],mf=hg-If[0],yg=Fh-If[1],Lf=(Lf*mf+Se*yg)/(hd(Lf*Lf+Se*Se)*hd(mf*mf+yg*yg)),Lf=1/Yc((1<Lf?0:-1>Lf?Ad:Math.acos(Lf))/2),Se=hd(If[0]*If[0]+If[1]*If[1]),If=yd(Qf,(Rd-Se)/(Lf-1)),Lf=yd(Qf,(se-Se)/(Lf+1))):If=Lf=0}}1E-12<lg?1E-12<Lf?(ff=Wa(og,jh,Ce,te,se,Lf,xf),bf=Wa(hg,Fh,ah,Mf,se,Lf,xf),Ub.moveTo(ff.cx+ff.x01,ff.cy+ff.y01),Lf<Qf?Ub.arc(ff.cx,
ff.cy,Lf,vc(ff.y01,ff.x01),vc(bf.y01,bf.x01),!xf):(Ub.arc(ff.cx,ff.cy,Lf,vc(ff.y01,ff.x01),vc(ff.y11,ff.x11),!xf),Ub.arc(0,0,se,vc(ff.cy+ff.y11,ff.cx+ff.x11),vc(bf.cy+bf.y11,bf.cx+bf.x11),!xf),Ub.arc(bf.cx,bf.cy,Lf,vc(bf.y11,bf.x11),vc(bf.y01,bf.x01),!xf))):(Ub.moveTo(Ce,te),Ub.arc(0,0,se,ff,bf,!xf)):Ub.moveTo(Ce,te);1E-12<Rd&&1E-12<vh?1E-12<If?(ff=Wa(ah,Mf,hg,Fh,Rd,-If,xf),bf=Wa(Ce,te,og,jh,Rd,-If,xf),Ub.lineTo(ff.cx+ff.x01,ff.cy+ff.y01),If<Qf?Ub.arc(ff.cx,ff.cy,If,vc(ff.y01,ff.x01),vc(bf.y01,bf.x01),
!xf):(Ub.arc(ff.cx,ff.cy,If,vc(ff.y01,ff.x01),vc(ff.y11,ff.x11),!xf),Ub.arc(0,0,Rd,vc(ff.cy+ff.y11,ff.cx+ff.x11),vc(bf.cy+bf.y11,bf.cx+bf.x11),xf),Ub.arc(bf.cx,bf.cy,If,vc(bf.y11,bf.x11),vc(bf.y01,bf.x01),!xf))):Ub.arc(0,0,Rd,cg,Tf,xf):Ub.lineTo(ah,Mf)}else Ub.moveTo(0,0);Ub.closePath();if(Xc)return Ub=null,Xc+""||null}var D=rb,da=Fb,oa=zc(0),Va=null,Za=Hb,Ib=Bb,bc=Lb,Ub=null,Bd=Ua(n);n.centroid=function(){var Xc=(+D.apply(this,arguments)+ +da.apply(this,arguments))/2,Rd=(+Za.apply(this,arguments)+
+Ib.apply(this,arguments))/2-Ad/2;return[Xb(Rd)*Xc,Yc(Rd)*Xc]};n.innerRadius=function(Xc){return arguments.length?(D="function"===typeof Xc?Xc:zc(+Xc),n):D};n.outerRadius=function(Xc){return arguments.length?(da="function"===typeof Xc?Xc:zc(+Xc),n):da};n.cornerRadius=function(Xc){return arguments.length?(oa="function"===typeof Xc?Xc:zc(+Xc),n):oa};n.padRadius=function(Xc){return arguments.length?(Va=null==Xc?null:"function"===typeof Xc?Xc:zc(+Xc),n):Va};n.startAngle=function(Xc){return arguments.length?
(Za="function"===typeof Xc?Xc:zc(+Xc),n):Za};n.endAngle=function(Xc){return arguments.length?(Ib="function"===typeof Xc?Xc:zc(+Xc),n):Ib};n.padAngle=function(Xc){return arguments.length?(bc="function"===typeof Xc?Xc:zc(+Xc),n):bc};n.context=function(Xc){return arguments.length?(Ub=null==Xc?null:Xc,n):Ub};return n}().startAngle(n=>n.startAngle||0).endAngle(n=>n.endAngle||0).padAngle(n=>n.padAngle||0).innerRadius(n=>n.innerRadius||0).outerRadius(n=>n.outerRadius||0).cornerRadius(n=>n.cornerRadius||
0),sa=Ma().x(Ug).y1(Vg).y0(n=>(n.y||0)+(n.height||0)).defined(Dg),bb=Ma().y(Vg).x1(Ug).x0(n=>(n.x||0)+(n.width||0)).defined(Dg),Rb=mb().x(Ug).y(Vg).defined(Dg),id=rc().x(Ug).y(Vg).width(n=>n.width||0).height(n=>n.height||0).cornerRadius(n=>dd(n.cornerRadiusTopLeft,n.cornerRadius)||0,n=>dd(n.cornerRadiusTopRight,n.cornerRadius)||0,n=>dd(n.cornerRadiusBottomRight,n.cornerRadius)||0,n=>dd(n.cornerRadiusBottomLeft,n.cornerRadius)||0),od=function(n,D){function da(){let Za;oa||(oa=Za=Va());n.apply(this,
arguments).draw(oa,+D.apply(this,arguments));if(Za)return oa=null,Za+""||null}let oa=null,Va=Ua(da);n="function"===typeof n?n:zc(n||Id);D="function"===typeof D?D:zc(void 0===D?64:+D);da.type=function(Za){return arguments.length?(n="function"===typeof Za?Za:zc(Za),da):n};da.size=function(Za){return arguments.length?(D="function"===typeof Za?Za:zc(+Za),da):D};da.context=function(Za){return arguments.length?(oa=null==Za?null:Za,da):oa};return da}().type(n=>La(n.shape||"circle")).size(n=>dd(n.size,64)),
ne=yc().x(Ug).y(Vg).defined(Dg).size(n=>n.size||1);var Re=1;Pa.prototype={clone(){return new Pa(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(n){return this.x1===n.x1&&this.y1===n.y1&&this.x2===n.x2&&this.y2===n.y2},set(n,D,da,oa){da<n?(this.x2=n,this.x1=da):(this.x1=n,this.x2=
da);oa<D?(this.y2=D,this.y1=oa):(this.y1=D,this.y2=oa);return this},add(n,D){n<this.x1&&(this.x1=n);D<this.y1&&(this.y1=D);n>this.x2&&(this.x2=n);D>this.y2&&(this.y2=D);return this},expand(n){this.x1-=n;this.y1-=n;this.x2+=n;this.y2+=n;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(n){this.x1*=n;this.y1*=n;this.x2*=n;this.y2*=n;return this},translate(n,D){this.x1+=n;this.x2+=n;this.y1+=D;this.y2+=
D;return this},rotate(n,D,da){n=this.rotatedPoints(n,D,da);return this.clear().add(n[0],n[1]).add(n[2],n[3]).add(n[4],n[5]).add(n[6],n[7])},rotatedPoints(n,D,da){var {x1:oa,y1:Va,x2:Za,y2:Ib}=this,bc=Math.cos(n);n=Math.sin(n);var Ub=D-D*bc+da*n;D=da-D*n-da*bc;return[bc*oa-n*Va+Ub,n*oa+bc*Va+D,bc*oa-n*Ib+Ub,n*oa+bc*Ib+D,bc*Za-n*Va+Ub,n*Za+bc*Va+D,bc*Za-n*Ib+Ub,n*Za+bc*Ib+D]},union(n){n.x1<this.x1&&(this.x1=n.x1);n.y1<this.y1&&(this.y1=n.y1);n.x2>this.x2&&(this.x2=n.x2);n.y2>this.y2&&(this.y2=n.y2);
return this},intersect(n){n.x1>this.x1&&(this.x1=n.x1);n.y1>this.y1&&(this.y1=n.y1);n.x2<this.x2&&(this.x2=n.x2);n.y2<this.y2&&(this.y2=n.y2);return this},encloses(n){return n&&this.x1<=n.x1&&this.x2>=n.x2&&this.y1<=n.y1&&this.y2>=n.y2},alignsWith(n){return n&&(this.x1==n.x1||this.x2==n.x2||this.y1==n.y1||this.y2==n.y2)},intersects(n){return n&&!(this.x2<n.x1||this.x1>n.x2||this.y2<n.y1||this.y1>n.y2)},contains(n,D){return!(n<this.x1||n>this.x2||D<this.y1||D>this.y2)},width(){return this.x2-this.x1},
height(){return this.y2-this.y1}};l.inherits(sb,Wb);Tb.prototype={pending(){return this._pending},sanitizeURL(n){const D=this;D._pending+=1;return D._loader.sanitize(n,{context:"href"}).then(da=>{--D._pending;return da}).catch(()=>{--D._pending;return null})},loadImage(n){const D=this,da=R.image();D._pending+=1;return D._loader.sanitize(n,{context:"image"}).then(oa=>{const Va=oa.href;if(!Va||!da)throw{url:Va};const Za=new da;oa=l.hasOwnProperty(oa,"crossOrigin")?oa.crossOrigin:"anonymous";null!=oa&&
(Za.crossOrigin=oa);Za.onload=()=>{--D._pending};Za.onerror=()=>{--D._pending};Za.src=Va;return Za}).catch(oa=>{--D._pending;return{complete:!1,width:0,height:0,src:oa&&oa.url||""}})},ready(){const n=this;return new Promise(D=>{function da(oa){n.pending()?setTimeout(()=>{da(!0)},10):D(oa)}da(!1)})}};const pf=Pf-1E-8;let Ff,Ne,eg,Sf,Wf,kg,pg,Lg;const fh=(n,D)=>{n=Ne=n;D=eg=D;return Ff.add(n,D)},ph=n=>Ff.add(n,Ff.y1),Ie=n=>Ff.add(Ff.x1,n),ye=(n,D)=>Ff.add(Wf*n+pg*D,kg*n+Lg*D),Kf=(n,D)=>fh(Wf*n+pg*D,
kg*n+Lg*D),wf={beginPath(){},closePath(){},moveTo:Kf,lineTo:Kf,rect(n,D,da,oa){Sf?(ye(n+da,D),ye(n+da,D+oa),ye(n,D+oa),Kf(n,D)):(Ff.add(n+da,D+oa),fh(n,D))},quadraticCurveTo(n,D,da,oa){const Va=kg*n+Lg*D,Za=Wf*da+pg*oa;da=kg*da+Lg*oa;Ic(Ne,Wf*n+pg*D,Za,ph);Ic(eg,Va,da,Ie);fh(Za,da)},bezierCurveTo(n,D,da,oa,Va,Za){const Ib=kg*n+Lg*D,bc=kg*da+Lg*oa,Ub=Wf*Va+pg*Za;Va=kg*Va+Lg*Za;Ac(Ne,Wf*n+pg*D,Wf*da+pg*oa,Ub,ph);Ac(eg,Ib,bc,Va,Ie);fh(Ub,Va)},arc(n,D,da,oa,Va,Za){oa+=Sf;Va+=Sf;Ne=da*Math.cos(Va)+n;eg=
da*Math.sin(Va)+D;if(Math.abs(Va-oa)>pf)Ff.add(n-da,D-da),Ff.add(n+da,D+da);else{const Ib=Ub=>Ff.add(da*Math.cos(Ub)+n,da*Math.sin(Ub)+D);let bc;Ib(oa);Ib(Va);if(Va!==oa)if(oa%=Pf,0>oa&&(oa+=Pf),Va%=Pf,0>Va&&(Va+=Pf),Va<oa&&(Za=!Za,bc=oa,oa=Va,Va=bc),Za)for(Va-=Pf,bc=oa-oa%Cf,oa=0;4>oa&&bc>Va;++oa,bc-=Cf)Ib(bc);else for(bc=oa-oa%Cf+Cf,oa=0;4>oa&&bc<Va;++oa,bc+=Cf)Ib(bc)}}};var Bf=(Bf=R.canvas(1,1))?Bf.getContext("2d"):null;const tf=new Pa;var fg=[],Eg=Yd("arc",function(n,D){return Wg.context(n)(D)}),
sg=ae("area",function(n,D){const da=D[0];return("horizontal"===da.orient?bb:sa).curve(aa(da.interpolate||"linear",da.orient,da.tension)).context(n)(D)},function(n,D){D="horizontal"===n[0].orient?D[1]:D[0];for(var da="horizontal"===n[0].orient?"y":"x",oa=n.length,Va=Infinity,Za,Ib;0<=--oa;)!1!==n[oa].defined&&(Ib=Math.abs(n[oa][da]-D),Ib<Va&&(Va=Ib,Za=n[oa]));return Za});const Df=Td(Wd),Qg=Td(Wd,!1),Mg=Td(Wd,!0);var qh={type:"group",tag:"g",nested:!1,attr:function(n,D){n("transform",Ed(D.x||0,D.y||
0))},bound:function(n,D){if(!D.clip&&D.items){const da=D.items,oa=da.length;for(let Va=0;Va<oa;++Va)n.union(da[Va].bounds)}(D.clip||D.width||D.height)&&!D.noBound&&n.add(0,0).add(D.width||0,D.height||0);ic(n,D);return n.translate(D.x||0,D.y||0)},draw:function(n,D,da){ec(D,oa=>{const Va=oa.x||0,Za=oa.y||0,Ib=oa.strokeForeground,bc=null==oa.opacity?1:oa.opacity;(oa.stroke||oa.fill)&&bc&&(Wd(n,oa,Va,Za),ua(n,oa),oa.fill&&$a(n,oa,bc)&&n.fill(),oa.stroke&&!Ib&&lb(n,oa,bc)&&n.stroke());n.save();n.translate(Va,
Za);oa.clip&&Ud(n,oa);da&&da.translate(-Va,-Za);ec(oa,Ub=>{this.draw(n,Ub,da)});da&&da.translate(Va,Za);n.restore();Ib&&oa.stroke&&bc&&(Wd(n,oa,Va,Za),ua(n,oa),lb(n,oa,bc)&&n.stroke())})},pick:function(n,D,da,oa,Va,Za){if(D.bounds&&!D.bounds.contains(Va,Za)||!D.items)return null;const Ib=da*n.pixelRatio,bc=oa*n.pixelRatio;return kc(D,Ub=>{let Bd,Xc;var Rd=Ub.bounds;if(!Rd||Rd.contains(Va,Za)){Bd=Ub.x||0;Xc=Ub.y||0;Rd=Bd+(Ub.width||0);var se=Xc+(Ub.height||0),Ce=Ub.clip;if(!Ce||!(Va<Bd||Va>Rd||Za<
Xc||Za>se)){n.save();n.translate(Bd,Xc);Bd=Va-Bd;Xc=Za-Xc;if(Ce&&$b(Ub)&&!Mg(n,Ub,Ib,bc))return n.restore(),null;se=Ub.strokeForeground;if((Ce=!1!==D.interactive)&&se&&Ub.stroke&&Qg(n,Ub,Ib,bc))return n.restore(),Ub;Rd=kc(Ub,te=>(!1!==te.interactive||"group"===te.marktype)&&te.bounds&&te.bounds.contains(Bd,Xc)?this.pick(te,da,oa,Bd,Xc):null);!Rd&&Ce&&(Ub.fill||!se&&Ub.stroke)&&Df(n,Ub,Ib,bc)&&(Rd=Ub);n.restore();return Rd||null}}})},isect:Ha,content:function(n,D,da){D=D.clip?Pd(da,D,D):null;n("clip-path",
D)},background:function(n,D){n("class","background");n("aria-hidden",!0);const da=Ye(D);n("d",Rc(null,D,da,da))},foreground:function(n,D){n("class","foreground");n("aria-hidden",!0);if(D.strokeForeground){const da=Ye(D);n("d",Rc(null,D,da,da))}else n("d","")}},xg={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},Wh={type:"image",tag:"image",nested:!1,attr:function(n,D,da){var oa=P(D,da);da=na(D,oa);const Va=Aa(D,oa),Za=(D.x||0)-fb(D.align,da),Ib=(D.y||
0)-Jb(D.baseline,Va);oa=!oa.src&&oa.toDataURL?oa.toDataURL():oa.src||"";n("href",oa,xg["xmlns:xlink"],"xlink:href");n("transform",Ed(Za,Ib));n("width",da);n("height",Va);n("preserveAspectRatio",!1===D.aspect?"none":"xMidYMid")},bound:function(n,D){var da=D.image;const oa=na(D,da);da=Aa(D,da);const Va=(D.x||0)-fb(D.align,oa);D=(D.y||0)-Jb(D.baseline,da);return n.set(Va,D,Va+oa,D+da)},draw:function(n,D,da){ec(D,oa=>{if(!da||da.intersects(oa.bounds)){var Va=P(oa,this),Za=na(oa,Va),Ib=Aa(oa,Va);if(0!==
Za&&0!==Ib){var bc=(oa.x||0)-fb(oa.align,Za),Ub=(oa.y||0)-Jb(oa.baseline,Ib),Bd;if(!1!==oa.aspect){var Xc=Va.width/Va.height;var Rd=oa.width/oa.height;Xc===Xc&&Rd===Rd&&Xc!==Rd&&(Rd<Xc?(Xc=Za/Xc,Ub+=(Ib-Xc)/2,Ib=Xc):(Xc*=Ib,bc+=(Za-Xc)/2,Za=Xc))}if(Va.complete||Va.toDataURL)ua(n,oa),n.globalAlpha=null!=(Bd=oa.opacity)?Bd:1,n.imageSmoothingEnabled=!1!==oa.smooth,n.drawImage(Va,bc,Ub,Za,Ib)}}})},pick:Qd(),isect:l.truthy,get:P,xOffset:fb,yOffset:Jb},rh=ae("line",function(n,D){const da=D[0];return Rb.curve(aa(da.interpolate||
"linear",da.orient,da.tension)).context(n)(D)},function(n,D){for(var da=Math.pow(n[0].strokeWidth||1,2),oa=n.length,Va,Za;0<=--oa;)if(!1!==n[oa].defined&&(Va=n[oa].x-D[0],Za=n[oa].y-D[1],Va=Va*Va+Za*Za,Va<da))return n[oa];return null}),Hh={type:"path",tag:"path",nested:!1,attr:function(n,D){var da=D.scaleY||1;1===(D.scaleX||1)&&1===da||n("vector-effect","non-scaling-stroke");da=Ed(D.x||0,D.y||0)+(D.angle?" rotate("+(D.angle+")"):"")+(D.scaleX||D.scaleY?" scale("+((D.scaleX||1)+","+(D.scaleY||1)+")"):
"");n("transform",da);n("d",D.path)},bound:function(n,D){return Zb(dc(n,D.angle),D)?n.set(0,0,0,0):ic(n,D,!0)},draw:Sc(Zb),pick:Qd(Td(Zb)),isect:Nd(Zb)},Xg={type:"rect",tag:"path",nested:!1,attr:function(n,D){n("d",Rc(null,D))},bound:function(n,D){var da,oa;return ic(n.set(da=D.x||0,oa=D.y||0,da+D.width||0,oa+D.height||0),D)},draw:Sc(Cc),pick:Qd(Td(Cc)),isect:Ha},sh={type:"rule",tag:"line",nested:!1,attr:function(n,D){n("transform",Ed(D.x||0,D.y||0));n("x2",null!=D.x2?D.x2-(D.x||0):0);n("y2",null!=
D.y2?D.y2-(D.y||0):0)},bound:function(n,D){var da,oa;return ic(n.set(da=D.x||0,oa=D.y||0,null!=D.x2?D.x2:da,null!=D.y2?D.y2:oa),D)},draw:function(n,D,da){ec(D,oa=>{if(!da||da.intersects(oa.bounds)){var Va=null==oa.opacity?1:oa.opacity;Va&&mc(n,oa,Va)&&(ua(n,oa),n.stroke())}})},pick:Qd(function(n,D,da,oa){return n.isPointInStroke?mc(n,D,1)&&n.isPointInStroke(da,oa):!1}),isect:gb},Bh=Yd("shape",function(n,D){return(D.mark.shape||D.shape).context(n)(D)}),ji=Yd("symbol",function(n,D){return od.context(n)(D)},
ud);const dh=l.lruCache();var th={height:Gd,measureWidth:Nc,estimateWidth:jd,width:jd,canvas:Hc};Hc(!0);const yi={left:"start",center:"middle",right:"end"},Fg=new Pa;var Mh={type:"text",tag:"text",nested:!1,attr:function(n,D){var da=D.dx||0,oa=(D.dy||0)+df(D),Va=ef(D),Za=Va.x1;Va=Va.y1;var Ib=D.angle||0;n("text-anchor",yi[D.align]||"start");if(Ib){if(D=Ed(Za,Va)+" rotate("+(Ib+")"),da||oa)D+=" "+Ed(da,oa)}else D=Ed(Za+da,Va+oa);n("transform",D)},bound:pe,draw:function(n,D,da){ec(D,oa=>{var Va=null==
oa.opacity?1:oa.opacity,Za;if(!(da&&!da.intersects(oa.bounds)||0===Va||0>=oa.fontSize||null==oa.text||0===oa.text.length)){n.font=gf(oa);n.textAlign=oa.align||"left";var Ib=ef(oa);var bc=Ib.x1;Ib=Ib.y1;oa.angle&&(n.save(),n.translate(bc,Ib),n.rotate(oa.angle*Qe),bc=Ib=0);bc+=oa.dx||0;Ib+=(oa.dy||0)+df(oa);var Ub=Xd(oa);ua(n,oa);if(l.isArray(Ub)){var Bd=Fd(oa);for(Za=0;Za<Ub.length;++Za){var Xc=Od(oa,Ub[Za]);oa.fill&&$a(n,oa,Va)&&n.fillText(Xc,bc,Ib);oa.stroke&&lb(n,oa,Va)&&n.strokeText(Xc,bc,Ib);
Ib+=Bd}}else Xc=Od(oa,Ub),oa.fill&&$a(n,oa,Va)&&n.fillText(Xc,bc,Ib),oa.stroke&&lb(n,oa,Va)&&n.strokeText(Xc,bc,Ib);oa.angle&&n.restore()}})},pick:Qd(function(n,D,da,oa,Va,Za){if(0>=D.fontSize)return!1;if(!D.angle)return!0;da=ef(D);n=da.x1;da=da.y1;oa=pe(Fg,D,1);var Ib=-D.angle*Qe;D=Math.cos(Ib);Ib=Math.sin(Ib);return oa.contains(D*Va-Ib*Za+(n-D*n+Ib*da),Ib*Va+D*Za+(da-Ib*n-D*da))}),isect:function(n,D){n=pe(Fg,n,2);return wb(D,n[0],n[1],n[2],n[3])||wb(D,n[0],n[1],n[4],n[5])||wb(D,n[4],n[5],n[6],n[7])||
wb(D,n[2],n[3],n[6],n[7])}},Xh=ae("trail",function(n,D){return ne.context(n)(D)},function(n,D){for(var da=n.length,oa,Va;0<=--da;)if(!1!==n[da].defined&&(oa=n[da].x-D[0],Va=n[da].y-D[1],Va=oa*oa+Va*Va,oa=n[da].size||1,Va<oa*oa))return n[da];return null}),Rg={arc:Eg,area:sg,group:qh,image:Wh,line:rh,path:Hh,rect:Xg,rule:sh,shape:Bh,symbol:ji,text:Mh,trail:Xh},gh={mark:null};const kh="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
hc.prototype={toJSON(n){return wa(this.root,n||0)},mark(n,D,da){D=D||this.root.items[0];n=Ec(n,D);D.items[da]=n;n.zindex&&(n.group.zdirty=!0);return n}};Bc.prototype={initialize(n,D,da){this._el=n;this._obj=da||null;return this.origin(D)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(n){return arguments.length?(this._origin=n||[0,0],this):this._origin.slice()},scene(n){if(!arguments.length)return this._scene;this._scene=n;return this},on(){},off(){},_handlerIndex(n,
D,da){for(let oa=n?n.length:0;0<=--oa;)if(n[oa].type===D&&(!da||n[oa].handler===da))return oa;return-1},handlers(n){const D=this._handlers,da=[];if(n)da.push(...D[this.eventName(n)]);else for(const oa in D)da.push(...D[oa]);return da},eventName(n){const D=n.indexOf(".");return 0>D?n:n.slice(0,D)},handleHref(n,D,da){this._loader.sanitize(da,{context:"href"}).then(oa=>{const Va=new MouseEvent(n.type,n),Za=ac(null,"a");for(const Ib in oa)Za.setAttribute(Ib,oa[Ib]);Za.dispatchEvent(Va)}).catch(()=>{})},
handleTooltip(n,D,da){if(D&&null!=D.tooltip){var oa=this.canvas(),Va=this._origin,Za=D&&D.mark,Ib;if(Za&&(Ib=Rg[Za.marktype]).tip){oa=Jc(n,oa);oa[0]-=Va[0];for(oa[1]-=Va[1];D=D.mark.group;)oa[0]-=D.x||0,oa[1]-=D.y||0;D=Ib.tip(Za.items,oa)}this._tooltip.call(this._obj,this,n,D,da&&D&&D.tooltip||null)}},getItemBoundingClientRect(n){var D=this.canvas();if(D){var da=D.getBoundingClientRect(),oa=this._origin,Va=n.bounds;D=Va.width();var Za=Va.height(),Ib=Va.x1+oa[0]+da.left;for(da=Va.y1+oa[1]+da.top;n.mark&&
(n=n.mark.group);)Ib+=n.x||0,da+=n.y||0;return{x:Ib,y:da,width:D,height:Za,left:Ib,top:da,right:Ib+D,bottom:da+Za}}}};pd.prototype={initialize(n,D,da,oa,Va){this._el=n;return this.resize(D,da,oa,Va)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(n){if(0===arguments.length)return this._bgcolor;this._bgcolor=n;return this},resize(n,D,da,oa){this._width=n;this._height=D;this._origin=da||[0,0];this._scale=oa||1;return this},dirty(){},render(n){const D=this;D._call=
function(){D._render(n)};D._call();D._call=null;return D},_render(){},renderAsync(n){const D=this.render(n);return this._ready?this._ready.then(()=>D):Promise.resolve(D)},_load(n,D){var da=this;n=da._loader[n](D);if(!da._ready){const oa=da._call;da._ready=da._loader.ready().then(Va=>{Va&&oa();da._ready=null})}return n},sanitizeURL(n){return this._load("sanitizeURL",n)},loadImage(n){return this._load("loadImage",n)}};l.inherits(ee,Bc,{initialize(n,D,da){this._canvas=n&&L(n,"canvas");["click","mousedown",
"mousemove","mouseout","dragleave"].forEach(oa=>Ra(this,oa));return Bc.prototype.initialize.call(this,n,D,da)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(n){this.fire("mousewheel",n)},mousemove:qc("mousemove","mouseover","mouseout"),dragover:qc("dragover","dragenter","dragleave"),
mouseout:wd("mouseout"),dragleave:wd("dragleave"),mousedown(n){this._down=this._active;this.fire("mousedown",n)},click(n){this._down===this._active&&(this.fire("click",n),this._down=null)},touchstart(n){this._touch=this.pickEvent(n.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",n,!0)},touchmove(n){this.fire("touchmove",n,!0)},touchend(n){this.fire("touchend",n,!0);this._touch=null},fire(n,D,da){da=da?this._touch:this._active;const oa=this._handlers[n];
D.vegaType=n;"click"===n&&da&&da.href?this.handleHref(D,da,da.href):("mousemove"===n||"mouseout"===n)&&this.handleTooltip(D,da,"mouseout"!==n);if(oa)for(let Va=0,Za=oa.length;Va<Za;++Va)oa[Va].handler.call(this._obj,D,da)},on(n,D){const da=this.eventName(n),oa=this._handlers;0>this._handlerIndex(oa[da],n,D)&&(Ra(this,n),(oa[da]||(oa[da]=[])).push({type:n,handler:D}));return this},off(n,D){var da=this.eventName(n);da=this._handlers[da];n=this._handlerIndex(da,n,D);0<=n&&da.splice(n,1);return this},
pickEvent(n){n=Jc(n,this._canvas);const D=this._origin;return this.pick(this._scene,n[0],n[1],n[0]-D[0],n[1]-D[1])},pick(n,D,da,oa,Va){const Za=this.context();return Rg[n.marktype].pick.call(this,Za,n,D,da,oa,Va)}});var Ch="undefined"!==typeof window?window.devicePixelRatio||1:1;const Gg=pd.prototype;l.inherits(Mc,pd,{initialize(n,D,da,oa,Va,Za){this._options=Za||{};this._canvas=this._options.externalContext?null:R.canvas(1,1,this._options.type);n&&this._canvas&&(Sa(n,0).appendChild(this._canvas),
this._canvas.setAttribute("class","marks"));return Gg.initialize.call(this,n,D,da,oa,Va)},resize(n,D,da,oa){Gg.resize.call(this,n,D,da,oa);if(this._canvas){n=this._canvas;D=this._width;da=this._height;oa=this._origin;var Va=this._scale,Za=this._options.context;const bc="undefined"!==typeof HTMLElement&&n instanceof HTMLElement&&null!=n.parentNode,Ub=n.getContext("2d");Va=bc?Ch:Va;n.width=D*Va;n.height=da*Va;for(var Ib in Za)Ub[Ib]=Za[Ib];bc&&1!==Va&&(n.style.width=D+"px",n.style.height=da+"px");Ub.pixelRatio=
Va;Ub.setTransform(Va,0,0,Va,Va*oa[0],Va*oa[1])}else(Ib=this._options.externalContext)||l.error("CanvasRenderer is missing a valid canvas or context"),Ib.scale(this._scale,this._scale),Ib.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(n){const D=this._tempb.clear().union(n.bounds);for(n=n.mark.group;n;)D.translate(n.x||0,n.y||0),n=n.mark.group;
this._dirty.union(D)},_render(n){const D=this.context(),da=this._origin,oa=this._width,Va=this._height,Za=this._dirty;var Ib=(new Pa).set(0,0,oa,Va).translate(-da[0],-da[1]);D.save();this._redraw||Za.empty()?Ib=(this._redraw=!1,Ib.expand(1)):(Ib=Ib.intersect(Za),Ib.expand(1).round(),D.pixelRatio%1&&Ib.scale(D.pixelRatio).round().scale(1/D.pixelRatio),Ib.translate(-(da[0]%1),-(da[1]%1)),D.beginPath(),D.rect(Ib.x1,Ib.y1,Ib.width(),Ib.height()),D.clip());this.clear(-da[0],-da[1],oa,Va);this.draw(D,n,
Ib);D.restore();Za.clear();return this},draw(n,D,da){const oa=Rg[D.marktype];if(D.clip){var Va=D.clip;n.save();l.isFunction(Va)?(n.beginPath(),Va(n),n.clip()):Ud(n,D.group)}oa.draw.call(this,n,D,da);D.clip&&n.restore()},clear(n,D,da,oa){const Va=this._options,Za=this.context();"pdf"===Va.type||Va.externalContext||Za.clearRect(n,D,da,oa);null!=this._bgcolor&&(Za.fillStyle=this._bgcolor,Za.fillRect(n,D,da,oa))}});const Nh=(n,D)=>da=>{let oa=da.target.__data__;oa=Array.isArray(oa)?oa[0]:oa;da.vegaType=
da.type;D.call(n._obj,da,oa)};l.inherits(Uc,Bc,{initialize(n,D,da){let oa=this._svg;oa&&(oa.removeEventListener("click",this._hrefHandler),oa.removeEventListener("mousemove",this._tooltipHandler),oa.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=oa=n&&L(n,"svg"))oa.addEventListener("click",this._hrefHandler),oa.addEventListener("mousemove",this._tooltipHandler),oa.addEventListener("mouseout",this._tooltipHandler);return Bc.prototype.initialize.call(this,n,D,da)},canvas(){return this._svg},
on(n,D){const da=this.eventName(n),oa=this._handlers;0>this._handlerIndex(oa[da],n,D)&&(n={type:n,handler:D,listener:Nh(this,D)},(oa[da]||(oa[da]=[])).push(n),this._svg&&this._svg.addEventListener(da,n.listener));return this},off(n,D){const da=this.eventName(n),oa=this._handlers[da];n=this._handlerIndex(oa,n,D);0<=n&&(this._svg&&this._svg.removeEventListener(da,oa[n].listener),oa.splice(n,1));return this}});const Dh=(n,D,da)=>({role:n,["aria-roledescription"]:D,["aria-label"]:da||void 0}),Hg=l.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),
Ng={axis:{desc:"axis",caption:function(n){var D=n.datum;const da=n.orient,oa=D.title?Cd(n):null;var Va=n.context;D=Va.scales[D.scale].value;Va=Va.dataflow.locale();const Za=D.type;return`${"left"===da||"right"===da?"Y":"X"}-axis`+(oa?` titled '${oa}'`:"")+` for a ${Cb.isDiscrete(Za)?"discrete":Za} scale`+` with ${Cb.domainCaption(Va,D,n)}`}},legend:{desc:"legend",caption:function(n){var D=n.datum;const da=D.title?Cd(n):null,oa=`${D.type||""} legend`.trim();var Va=D.scales;D=Object.keys(Va);var Za=
n.context;Va=Za.scales[Va[D[0]]].value;Za=Za.dataflow.locale();return(oa.length?oa[0].toUpperCase()+oa.slice(1):oa)+(da?` titled '${da}'`:"")+` for ${be(D)}`+` with ${Cb.domainCaption(Za,Va,n)}`}},"title-text":{desc:"title",caption:n=>`Title text '${l.array(n.text).join(" ")}'`},"title-subtitle":{desc:"subtitle",caption:n=>`Subtitle text '${l.array(n.text).join(" ")}'`}},Yh={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},eh=n=>(n+"").replace(/&/g,"\x26amp;").replace(/</g,
"\x26lt;").replace(/>/g,"\x26gt;"),Zg=n=>Me(ve(),n)+"",Xf={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},Sg={blend:"mix-blend-mode"},$g={fill:"none","stroke-miterlimit":10},qf=xg.xmlns,ei=pd.prototype;l.inherits($e,pd,{initialize(n,D,da,oa,Va){this._defs=
{};this._clearDefs();n&&(this._svg=fa(n,0,"svg",qf),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns",qf),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",xg["xmlns:xlink"]),this._svg.setAttribute("version",xg.version),this._svg.setAttribute("class","marks"),Sa(n,1),this._root=fa(this._svg,0,"g",qf),Jd(this._root,$g),Sa(this._svg,1));this.background(this._bgcolor);return ei.initialize.call(this,n,D,da,oa,Va)},background(n){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",
n);return ei.background.apply(this,arguments)},resize(n,D,da,oa){ei.resize.call(this,n,D,da,oa);this._svg&&(Jd(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const n=this._svg,D=this._bgcolor;if(!n)return null;let da;D&&(n.removeAttribute("style"),da=fa(n,0,"rect",qf),Jd(da,{width:this._width,height:this._height,
fill:D}));const oa=Zg(n);D&&(n.removeChild(da),this._svg.style.setProperty("background-color",D));return oa},_render(n){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,n),Sa(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this},dirty(n){n.dirty!==this._dirtyID&&(n.dirty=this._dirtyID,this._dirty.push(n))},isDirty(n){return this._dirtyAll||!n._svg||!n._svg.ownerSVGElement||n.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const n=this._dirty;if(!n.length||
!this._dirtyID)return!0;const D=++this._dirtyID;let da;let oa,Va,Za,Ib;Za=0;for(Ib=n.length;Za<Ib;++Za){da=n[Za];var bc=da.mark;bc.marktype!==oa&&(oa=bc.marktype,Va=Rg[oa]);bc.zdirty&&bc.dirty!==D&&(this._dirtyAll=!1,sf(da,D),bc.items.forEach(Ub=>{Ub.dirty=D}));bc.zdirty||(da.exit?(Va.nested&&bc.items.length?(bc=bc.items[0],bc._svg&&this._update(Va,bc._svg,bc)):da._svg&&(bc=da._svg.parentNode)&&bc.removeChild(da._svg),da._svg=null):(da=Va.nested?bc.items[0]:da,da._update!==D&&(da._svg&&da._svg.ownerSVGElement?
this._update(Va,da._svg,da):(this._dirtyAll=!1,sf(da,D)),da._update=D)))}return!this._dirtyAll},mark(n,D,da){if(!this.isDirty(D))return D._svg;const oa=this._svg,Va=Rg[D.marktype];var Za=!1===D.interactive?"none":null;const Ib="g"===Va.tag,bc=Fc(D,n,da,"g",oa);bc.setAttribute("class",cc(D));n=td(D);for(const Xc in n)Zd(bc,Xc,n[Xc]);Ib||Zd(bc,"pointer-events",Za);Zd(bc,"clip-path",D.clip?Pd(this,D,D.group):null);let Ub=null,Bd=0;Za=Xc=>{const Rd=this.isDirty(Xc),se=Fc(Xc,bc,Ub,Va.tag,oa);Rd&&(this._update(Va,
se,Xc),Ib&&nd(this,se,Xc));Ub=se;++Bd};Va.nested?D.items.length&&Za(D.items[0]):ec(D,Za);Sa(bc,Bd);return bc},_update(n,D,da){Og=D;bg=D.__values__;Qc(bd,da);n.attr(bd,da,this);const oa=U[n.type];oa&&oa.call(this,n,D,da);Og&&this.style(Og,da)},style(n,D){if(null!=D){for(const da in Xf){let oa="font"===da?De(D):D[da];if(oa===bg[da])continue;const Va=Xf[da];null==oa?n.removeAttribute(Va):(oa&&oa.gradient&&(oa=Yb(oa,this._defs.gradient,$d())),n.setAttribute(Va,oa+""));bg[da]=oa}for(const da in Sg)Gc(n,
Sg[da],D[da])}},defs(){const n=this._svg,D=this._defs;let da=D.el;var oa=0;for(var Va in D.gradient){da||(D.el=da=fa(n,1,"defs",qf));var Za=void 0;let Ub,Bd;var Ib=da,bc=D.gradient[Va];"radial"===bc.gradient?(Za=fa(Ib,oa++,"pattern",qf),Jd(Za,{id:"p_"+bc.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Za=fa(Za,0,"rect",qf),Jd(Za,{width:1,height:1,fill:`url(${$d()}#${bc.id})`}),Ib=fa(Ib,oa++,"radialGradient",qf),Jd(Ib,{id:bc.id,fx:bc.x1,fy:bc.y1,fr:bc.r1,cx:bc.x2,
cy:bc.y2,r:bc.r2})):(Ib=fa(Ib,oa++,"linearGradient",qf),Jd(Ib,{id:bc.id,x1:bc.x1,x2:bc.x2,y1:bc.y1,y2:bc.y2}));Bd=0;for(Ub=bc.stops.length;Bd<Ub;++Bd)Za=fa(Ib,Bd,"stop",qf),Za.setAttribute("offset",bc.stops[Bd].offset),Za.setAttribute("stop-color",bc.stops[Bd].color);Sa(Ib,Bd)}for(const Ub in D.clipping)da||(D.el=da=fa(n,1,"defs",qf)),Ib=da,bc=D.clipping[Ub],Va=oa,Ib=fa(Ib,Va,"clipPath",qf),Ib.setAttribute("id",bc.id),bc.path?(oa=fa(Ib,0,"path",qf),oa.setAttribute("d",bc.path)):(oa=fa(Ib,0,"rect",
qf),Jd(oa,{x:0,y:0,width:bc.width,height:bc.height})),Sa(Ib,1),oa=Va+1;da&&(0===oa?(n.removeChild(da),D.el=null):Sa(da,oa))},_clearDefs(){const n=this._defs;n.gradient={};n.clipping={}}});let Og=null,bg=null;const U={group(n,D,da){const oa=Og=D.childNodes[2];bg=oa.__values__;n.foreground(bd,da,this);bg=D.__values__;Og=D.childNodes[1];n.content(bd,da,this);D=Og=D.childNodes[0];n.background(bd,da,this);n=!1===da.mark.interactive?"none":null;n!==bg.events&&(Zd(oa,"pointer-events",n),Zd(D,"pointer-events",
n),bg.events=n);da.strokeForeground&&da.stroke?(n=da.fill,Zd(oa,"display",null),this.style(D,da),Zd(D,"stroke",null),n&&(da.fill=null),bg=oa.__values__,this.style(oa,da),n&&(da.fill=n),Og=null):Zd(oa,"display","none")},image(n,D,da){!1===da.smooth?(Gc(D,"image-rendering","optimizeSpeed"),Gc(D,"image-rendering","pixelated")):Gc(D,"image-rendering",null)},text(n,D,da){n=Xd(da);let oa,Va,Za;l.isArray(n)?(oa=n.map(Ib=>Od(da,Ib)),n=oa.join("\n"),n!==bg.text&&(Sa(D,0),Va=D.ownerDocument,Za=Fd(da),oa.forEach((Ib,
bc)=>{const Ub=ac(Va,"tspan",qf);Ub.__data__=da;Ub.textContent=Ib;bc&&(Ub.setAttribute("x",0),Ub.setAttribute("dy",Za));D.appendChild(Ub)}),bg.text=n)):(oa=Od(da,n),oa!==bg.text&&(D.textContent=oa,bg.text=oa));Zd(D,"font-family",De(da));Zd(D,"font-size",Gd(da)+"px");Zd(D,"font-style",da.fontStyle);Zd(D,"font-variant",da.fontVariant);Zd(D,"font-weight",da.fontWeight)}};l.inherits(ke,pd,{svg(){return this._text},_render(n){const D=ve();D.open("svg",l.extend({},xg,{class:"marks",width:this._width*this._scale,
height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const da=this._bgcolor;da&&"transparent"!==da&&"none"!==da&&D.open("rect",{width:this._width,height:this._height,fill:da}).close();D.open("g",$g,{transform:"translate("+this._origin+")"});this.mark(D,n);D.close();this.defs(D);this._text=D.close()+"";return this},mark(n,D){const da=Rg[D.marktype],oa=da.tag,Va=[Qc,da.attr];n.open("g",{"class":cc(D),"clip-path":D.clip?Pd(this,D,D.group):null},td(D),{"pointer-events":"g"!==
oa&&!1===D.interactive?"none":null});const Za=Ib=>{const bc=this.href(Ib);bc&&n.open("a",bc);n.open(oa,this.attr(D,Ib,Va,"g"!==oa?oa:null));if("text"===oa){var Ub=Xd(Ib);if(l.isArray(Ub)){var Bd={x:0,dy:Fd(Ib)};for(var Xc=0;Xc<Ub.length;++Xc)n.open("tspan",Xc?Bd:null).text(Od(Ib,Ub[Xc])).close()}else n.text(Od(Ib,Ub))}else"g"===oa&&(Ub=Ib.strokeForeground,Bd=Ib.fill,Xc=Ib.stroke,Ub&&Xc&&(Ib.stroke=null),n.open("path",this.attr(D,Ib,da.background,"bgrect")).close(),n.open("g",this.attr(D,Ib,da.content)),
ec(Ib,Rd=>this.mark(n,Rd)),n.close(),Ub&&Xc?(Bd&&(Ib.fill=null),Ib.stroke=Xc,n.open("path",this.attr(D,Ib,da.foreground,"bgrect")).close(),Bd&&(Ib.fill=Bd)):n.open("path",this.attr(D,Ib,da.foreground,"bgfore")).close());n.close();bc&&n.close()};da.nested?D.items&&D.items.length&&Za(D.items[0]):ec(D,Za);return n.close()},href(n){const D=n.href;if(D){if(n=this._hrefs&&this._hrefs[D])return n;this.sanitizeURL(D).then(da=>{da["xlink:href"]=da.href;da.href=null;(this._hrefs||(this._hrefs={}))[D]=da})}return null},
attr(n,D,da,oa){const Va={},Za=(Ib,bc,Ub,Bd)=>{Va[Bd||Ib]=bc};Array.isArray(da)?da.forEach(Ib=>Ib(Za,D,this)):da(Za,D,this);oa&&Q(Va,D,n,oa,this._defs);return Va},defs(n){var D=this._defs.gradient;const da=this._defs.clipping;if(0!==Object.keys(D).length+Object.keys(da).length){n.open("defs");for(const Va in D){var oa=D[Va];const Za=oa.stops;"radial"===oa.gradient?(n.open("pattern",{id:"p_"+Va,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),n.open("rect",{width:"1",
height:"1",fill:"url(#"+Va+")"}).close(),n.close(),n.open("radialGradient",{id:Va,fx:oa.x1,fy:oa.y1,fr:oa.r1,cx:oa.x2,cy:oa.y2,r:oa.r2})):n.open("linearGradient",{id:Va,x1:oa.x1,x2:oa.x2,y1:oa.y1,y2:oa.y2});for(oa=0;oa<Za.length;++oa)n.open("stop",{offset:Za[oa].offset,"stop-color":Za[oa].color}).close();n.close()}for(const Va in da)D=da[Va],n.open("clipPath",{id:Va}),D.path?n.open("path",{d:D.path}).close():n.open("rect",{x:0,y:0,width:D.width,height:D.height}).close(),n.close();n.close()}}});const ya=
{};ya.canvas=ya.png={renderer:Mc,headless:Mc,handler:ee};ya.svg={renderer:$e,headless:ke,handler:Uc};ya.none={};const Ta=new Pa;t.Bounds=Pa;t.CanvasHandler=ee;t.CanvasRenderer=Mc;t.Gradient=function(n,D){var da=[],oa;return oa={gradient:"linear",x1:n?n[0]:0,y1:n?n[1]:0,x2:D?D[0]:1,y2:D?D[1]:0,stops:da,stop:function(Va,Za){da.push({offset:Va,color:Za});return oa}}};t.GroupItem=sb;t.Handler=Bc;t.Item=Wb;t.Marks=Rg;t.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};t.Renderer=pd;t.ResourceLoader=
Tb;t.SVGHandler=Uc;t.SVGRenderer=$e;t.SVGStringRenderer=ke;t.Scenegraph=hc;t.boundClip=function(n){const D=n.clip;if(l.isFunction(D))D(dc(Ta.clear()));else if(D)Ta.set(0,0,n.group.width,n.group.height);else return;n.bounds.intersect(Ta)};t.boundContext=dc;t.boundItem=nf;t.boundMark=W;t.boundStroke=ic;t.domChild=fa;t.domClear=Sa;t.domCreate=ac;t.domFind=L;t.font=gf;t.fontFamily=De;t.fontSize=Gd;t.intersect=function(n,D,da){const oa=[];D=(new Pa).union(D);const Va=n.marktype;return Va?ea(n,D,da,oa):
"group"===Va?J(n,D,da,oa):l.error("Intersect scene must be mark node or group item.")};t.intersectBoxLine=wb;t.intersectPath=Nd;t.intersectPoint=ud;t.intersectRule=gb;t.lineHeight=Fd;t.markup=ve;t.multiLineOffset=function(n){const D=Xd(n);return(l.isArray(D)?D.length-1:0)*Fd(n)};t.path=Sb;t.pathCurves=aa;t.pathEqual=Ja;t.pathParse=O;t.pathRectangle=rc;t.pathRender=I;t.pathSymbols=La;t.pathTrail=yc;t.point=Jc;t.renderModule=function(n,D){n=String(n||"").toLowerCase();return 1<arguments.length?(ya[n]=
D,this):ya[n]};t.resetSVGClipId=function(){Re=1};t.resetSVGDefIds=function(){Re=1;gc=0};t.sceneEqual=ma;t.sceneFromJSON=db;t.scenePickVisit=kc;t.sceneToJSON=wa;t.sceneVisit=ec;t.sceneZOrder=oc;t.serializeXML=Zg;t.textMetrics=th})};
shadow$provide[34]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(28),Eb(33),Eb(20)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l((t.vega=t.vega||{},t.vega.transforms={}),t.vega,t.vega,t.vega))})(this,function(t,l,R,hb){function Cb(r){l.Transform.call(this,null,r)}function Yb(r,v,F){return v(r.bounds.clear(),r,F)}function sc(r){l.Transform.call(this,
0,r)}function zc(r){return r._signals[":vega_identifier:"]||(r._signals[":vega_identifier:"]=r.add(0))}function pc(r){l.Transform.call(this,null,r)}function Ab(r){const v=r.groups;r=r.parent;return v&&1===v.size?v.get(Object.keys(v.object)[0]):v&&r?v.lookup(r):null}function jc(r){l.Transform.call(this,null,r)}function Sb(r){l.Transform.call(this,null,r)}function Ua(r,v,F){return r[v]===F?0:(r[v]=F,1)}function rb(r){r=r.items[0].orient;return"left"===r||"right"===r}function Fb(r,v,F,aa){v=v.items[0];
var O=v.datum,u=null!=v.translate?v.translate:.5,I=v.orient,va=+O.grid;var La=[O.ticks?va++:-1,O.labels?va++:-1,va+ +O.domain];va=v.range;var Xa=v.offset,ab=v.position,Z=v.minExtent,Ca=v.maxExtent;O=O.title&&v.items[La[2]].items[0];var Ya=v.titlePadding,Kb=v.bounds,xc=O&&R.multiLineOffset(O),rc;E.clear().union(Kb);Kb.clear();-1<(rc=La[0])&&Kb.union(v.items[rc].bounds);-1<(rc=La[1])&&Kb.union(v.items[rc].bounds);switch(I){case "top":F=ab||0;aa=-Xa;Z=Math.max(Z,Math.min(Ca,-Kb.y1));Kb.add(0,-Z).add(va,
0);O&&Hb(r,O,Z,Ya,xc,0,-1,Kb);break;case "left":F=-Xa;aa=ab||0;Z=Math.max(Z,Math.min(Ca,-Kb.x1));Kb.add(-Z,0).add(0,va);O&&Hb(r,O,Z,Ya,xc,1,-1,Kb);break;case "right":F+=Xa;aa=ab||0;Z=Math.max(Z,Math.min(Ca,Kb.x2));Kb.add(0,0).add(Z,va);O&&Hb(r,O,Z,Ya,xc,1,1,Kb);break;case "bottom":F=ab||0;aa+=Xa;Z=Math.max(Z,Math.min(Ca,Kb.y2));Kb.add(0,0).add(va,Z);O&&Hb(r,O,Z,Ya,0,0,1,Kb);break;default:F=v.x,aa=v.y}R.boundStroke(Kb.translate(F,aa),v);Ua(v,"x",F+u)|Ua(v,"y",aa+u)&&(v.bounds=E,r.dirty(v),v.bounds=
Kb,r.dirty(v));return v.mark.bounds.clear().union(Kb)}function Hb(r,v,F,aa,O,u,I,va){const La=v.bounds;v.auto&&(F=I*(F+O+aa),O=aa=0,r.dirty(v),u?aa=(v.x||0)-(v.x=F):O=(v.y||0)-(v.y=F),v.mark.bounds.clear().union(La.translate(-aa,-O)),r.dirty(v));va.union(La)}function Bb(r){return(new R.Bounds).set(0,0,r.width||0,r.height||0)}function Lb(r){const v=r.bounds.clone();return v.empty()?v.set(0,0,0,0):v.translate(-(r.x||0),-(r.y||0))}function Wa(r,v,F){r=hb.isObject(r)?r[v]:r;return null!=r?r:void 0!==
F?F:0}function pb(r){return 0>r?Math.ceil(-r):0}function Na(r,v,F){var aa=!F.nodirty,O="flush"===F.bounds?Bb:Lb,u=E.set(0,0,0,0),I=Wa(F.align,"column"),va=Wa(F.align,"row"),La=Wa(F.padding,"column"),Xa=Wa(F.padding,"row"),ab=F.columns||v.length,Z=0>=ab?1:Math.ceil(v.length/ab),Ca=v.length,Ya=Array(Ca),Kb=Array(ab),xc=0,rc=Array(Ca),yc=Array(Z),dd=0,$b=Array(Ca),Rc=Array(Ca),Pd=Array(Ca),Pa,Wb,sb;for(Pa=0;Pa<ab;++Pa)Kb[Pa]=0;for(Pa=0;Pa<Z;++Pa)yc[Pa]=0;for(Pa=0;Pa<Ca;++Pa){var Tb=v[Pa];var ic=Pd[Pa]=
O(Tb);Tb.x=Tb.x||0;$b[Pa]=0;Tb.y=Tb.y||0;Rc[Pa]=0;Tb=Pa%ab;var dc=~~(Pa/ab);xc=Math.max(xc,Wb=Math.ceil(ic.x2));dd=Math.max(dd,sb=Math.ceil(ic.y2));Kb[Tb]=Math.max(Kb[Tb],Wb);yc[dc]=Math.max(yc[dc],sb);Ya[Pa]=La+pb(ic.x1);rc[Pa]=Xa+pb(ic.y1);aa&&r.dirty(v[Pa])}for(Pa=0;Pa<Ca;++Pa)0===Pa%ab&&(Ya[Pa]=0),Pa<ab&&(rc[Pa]=0);if("each"===I)for(Tb=1;Tb<ab;++Tb){O=0;for(Pa=Tb;Pa<Ca;Pa+=ab)O<Ya[Pa]&&(O=Ya[Pa]);for(Pa=Tb;Pa<Ca;Pa+=ab)Ya[Pa]=O+Kb[Tb-1]}else if("all"===I){for(Pa=O=0;Pa<Ca;++Pa)Pa%ab&&O<Ya[Pa]&&
(O=Ya[Pa]);for(Pa=0;Pa<Ca;++Pa)Pa%ab&&(Ya[Pa]=O+xc)}else for(I=!1,Tb=1;Tb<ab;++Tb)for(Pa=Tb;Pa<Ca;Pa+=ab)Ya[Pa]+=Kb[Tb-1];if("each"===va)for(dc=1;dc<Z;++dc){O=0;Pa=dc*ab;for(Tb=Pa+ab;Pa<Tb;++Pa)O<rc[Pa]&&(O=rc[Pa]);for(Pa=dc*ab;Pa<Tb;++Pa)rc[Pa]=O+yc[dc-1]}else if("all"===va){O=0;for(Pa=ab;Pa<Ca;++Pa)O<rc[Pa]&&(O=rc[Pa]);for(Pa=ab;Pa<Ca;++Pa)rc[Pa]=O+dd}else for(va=!1,dc=1;dc<Z;++dc)for(Pa=dc*ab,Tb=Pa+ab;Pa<Tb;++Pa)rc[Pa]+=yc[dc-1];for(Pa=dc=0;Pa<Ca;++Pa)dc=Ya[Pa]+(Pa%ab?dc:0),$b[Pa]+=dc-v[Pa].x;
for(Tb=0;Tb<ab;++Tb)for(Ya=0,Pa=Tb;Pa<Ca;Pa+=ab)Ya+=rc[Pa],Rc[Pa]+=Ya-v[Pa].y;if(I&&Wa(F.center,"column")&&1<Z)for(Pa=0;Pa<Ca;++Pa)ic="all"===I?xc:Kb[Pa%ab],dc=ic-Pd[Pa].x2-v[Pa].x-$b[Pa],0<dc&&($b[Pa]+=dc/2);if(va&&Wa(F.center,"row")&&1!==ab)for(Pa=0;Pa<Ca;++Pa)ic="all"===va?dd:yc[~~(Pa/ab)],Ya=ic-Pd[Pa].y2-v[Pa].y-Rc[Pa],0<Ya&&(Rc[Pa]+=Ya/2);for(Pa=0;Pa<Ca;++Pa)u.union(Pd[Pa].translate($b[Pa],Rc[Pa]));dc=Wa(F.anchor,"x");Ya=Wa(F.anchor,"y");switch(Wa(F.anchor,"column")){case "end":dc-=u.width();
break;case "middle":dc-=u.width()/2}switch(Wa(F.anchor,"row")){case "end":Ya-=u.height();break;case "middle":Ya-=u.height()/2}dc=Math.round(dc);Ya=Math.round(Ya);u.clear();for(Pa=0;Pa<Ca;++Pa)v[Pa].mark.bounds.clear();for(Pa=0;Pa<Ca;++Pa)Tb=v[Pa],Tb.x+=$b[Pa]+=dc,Tb.y+=Rc[Pa]+=Ya,u.union(Tb.mark.bounds.union(Tb.bounds.translate($b[Pa],Rc[Pa]))),aa&&r.dirty(Tb);return u}function Da(r,v){return"x1"===v?r.x||0:"y1"===v?r.y||0:"x2"===v?(r.x||0)+(r.width||0):"y2"===v?(r.y||0)+(r.height||0):void 0}function Ia(r,
v){return r.bounds[v]}function kb(r,v,F,aa,O,u,I,va,La,Xa,ab,Z,Ca,Ya){var Kb=F.length,xc=aa=0,rc,yc;if(!Kb)return aa;for(rc=ab;rc<Kb;rc+=Z)F[rc]&&(aa=I(aa,La(F[rc],Xa)));if(!v.length)return aa;v.length>O&&(r.warn("Grid headers exceed limit: "+O),v=v.slice(0,O));aa+=u;O=0;for(u=v.length;O<u;++O)r.dirty(v[O]),v[O].mark.bounds.clear();rc=ab;O=0;for(u=v.length;O<u;++O,rc+=Z){La=v[O];ab=La.mark.bounds;for(Kb=rc;0<=Kb&&null==(yc=F[Kb]);Kb-=Ca);if(va){Kb=null==Ya?yc.x:Math.round(yc.bounds.x1+Ya*yc.bounds.width());
var dd=aa}else Kb=aa,dd=null==Ya?yc.y:Math.round(yc.bounds.y1+Ya*yc.bounds.height());ab.union(La.bounds.translate(Kb-(La.x||0),dd-(La.y||0)));La.x=Kb;La.y=dd;r.dirty(La);xc=I(xc,ab[Xa])}return xc}function mb(r,v,F,aa,O,u){if(v){r.dirty(v);var I=F;aa?I=Math.round(O.x1+u*O.width()):F=Math.round(O.y1+u*O.height());v.bounds.translate(I-(v.x||0),F-(v.y||0));v.mark.bounds.clear().union(v.bounds);v.x=I;v.y=F;r.dirty(v)}}function Ma(r,v){const F=r[v]||{};return(aa,O)=>null!=F[aa]?F[aa]:null!=r[aa]?r[aa]:
O}function vb(r,v){let F=-Infinity;r.forEach(aa=>{null!=aa.offset&&(F=Math.max(F,aa.offset))});return-Infinity<F?F:v}function qb(r,v,F,aa,O,u,I){const va=Ma(F,v);F=vb(r,va("offset",0));const La=va("anchor","start"),Xa="end"===La?1:"middle"===La?.5:0;r={align:"each",bounds:va("bounds","flush"),columns:"vertical"===va("direction")?1:r.length,padding:va("margin",8),center:va("center"),nodirty:!0};switch(v){case "left":r.anchor={x:Math.floor(aa.x1)-F,column:"end",y:Xa*(I||aa.height()+2*aa.y1),row:La};
break;case "right":r.anchor={x:Math.ceil(aa.x2)+F,y:Xa*(I||aa.height()+2*aa.y1),row:La};break;case "top":r.anchor={y:Math.floor(O.y1)-F,row:"end",x:Xa*(u||O.width()+2*O.x1),column:La};break;case "bottom":r.anchor={y:Math.ceil(O.y2)+F,x:Xa*(u||O.width()+2*O.x1),column:La};break;case "top-left":r.anchor={x:F,y:F};break;case "top-right":r.anchor={x:u-F,y:F,column:"end"};break;case "bottom-left":r.anchor={x:F,y:I-F,row:"end"};break;case "bottom-right":r.anchor={x:u-F,y:I-F,column:"end",row:"end"}}return r}
function Ob(r,v){v=v.items[0];var F=v.datum,aa=v.orient,O=v.bounds,u=v.x,I=v.y;v._bounds?v._bounds.clear().union(O):v._bounds=O.clone();O.clear();var va=v.items[0].items[0];var La=v.padding,Xa=La-va.x,ab=La-va.y;if(v.datum.title){var Z=v.items[1].items[0],Ca=Z.anchor,Ya=v.titlePadding||0,Kb=La-Z.x,xc=La-Z.y;switch(Z.orient){case "left":Xa+=Math.ceil(Z.bounds.width())+Ya;break;case "right":case "bottom":break;default:ab+=Z.bounds.height()+Ya}(Xa||ab)&&ra(r,va,Xa,ab);switch(Z.orient){case "left":xc+=
ob(v,va,Z,Ca,1,1);break;case "right":Kb+=ob(v,va,Z,"end",0,0)+Ya;xc+=ob(v,va,Z,Ca,1,1);break;case "bottom":Kb+=ob(v,va,Z,Ca,0,0);xc+=ob(v,va,Z,"end",-1,0,1)+Ya;break;default:Kb+=ob(v,va,Z,Ca,0,0)}(Kb||xc)&&ra(r,Z,Kb,xc);0>(Kb=Math.round(Z.bounds.x1-La))&&(ra(r,va,-Kb,0),ra(r,Z,-Kb,0))}else(Xa||ab)&&ra(r,va,Xa,ab);O=Vb(v,O);r=2*v.padding;va=2*v.padding;O.empty()||(r=Math.ceil(O.width()+r),va=Math.ceil(O.height()+va));"symbol"===F.type&&Y(v.items[0].items[0].items[0].items);"none"!==aa&&(v.x=u=0,v.y=
I=0);v.width=r;v.height=va;R.boundStroke(O.set(u,I,u+r,I+va),v);v.mark.bounds.clear().union(O);return v}function Vb(r,v){r.items.forEach(F=>v.union(F.bounds));v.x1=r.padding;v.y1=r.padding;return v}function ob(r,v,F,aa,O,u,I){const va=F.datum.vgrad;r=("symbol"===r.datum.type||!u&&va||I?v:v.items[0]).bounds[O?"y2":"x2"]-r.padding;v=va&&u?r:0;u=va&&u?0:r;F=0>=O?0:R.multiLineOffset(F);return Math.round("start"===aa?v:"end"===aa?u-F:.5*(r-F))}function ra(r,v,F,aa){v.x+=F;v.y+=aa;v.bounds.translate(F,
aa);v.mark.bounds.translate(F,aa);r.dirty(v)}function Y(r){const v=r.reduce((F,aa)=>{F[aa.column]=Math.max(aa.bounds.x2-aa.x,F[aa.column]||0);return F},{});r.forEach(F=>{F.width=v[F.column];F.height=F.bounds.y2-F.y})}function Ea(r,v,F,aa,O){var u=v.items[0],I=u.orient,va=u.anchor,La=u.offset,Xa=u.padding,ab=u.items[0].items[0],Z=u.items[1]&&u.items[1].items[0],Ca="left"===I||"right"===I?aa:F,Ya=0,Kb=F=0;"group"!==u.frame?"left"===I?(Ya=O.y2,Ca=O.y1):"right"===I?(Ya=O.y1,Ca=O.y2):(Ya=O.x1,Ca=O.x2):
"left"===I&&(Ya=aa,Ca=0);aa="start"===va?Ya:"end"===va?Ca:(Ya+Ca)/2;if(Z&&Z.text){switch(I){case "top":case "bottom":Kb=ab.bounds.height()+Xa;break;case "left":F=ab.bounds.width()+Xa;break;case "right":F=-ab.bounds.width()-Xa}E.clear().union(Z.bounds);E.translate(F-(Z.x||0),Kb-(Z.y||0));Ua(Z,"x",F)|Ua(Z,"y",Kb)&&(r.dirty(Z),Z.bounds.clear().union(E),Z.mark.bounds.clear().union(E),r.dirty(Z));E.clear().union(Z.bounds)}else E.clear();E.union(ab.bounds);switch(I){case "top":I=aa;O=O.y1-E.height()-La;
break;case "left":I=O.x1-E.width()-La;O=aa;break;case "right":I=O.x2+E.width()+La;O=aa;break;case "bottom":I=aa;O=O.y2+La;break;default:I=u.x,O=u.y}Ua(u,"x",I)|Ua(u,"y",O)&&(E.translate(I,O),r.dirty(u),u.bounds.clear().union(E),v.bounds.clear().union(E),r.dirty(u));return u.bounds}function Ga(r){l.Transform.call(this,null,r)}function cb(r){return r&&"legend-entry"!==r.mark.role}function ca(r,v,F){var aa=v.items,O=Math.max(0,v.width||0),u=Math.max(0,v.height||0),I=(new R.Bounds).set(0,0,O,u),va=I.clone(),
La=I.clone(),Xa=[],ab,Z;var Ca=0;for(Z=aa.length;Ca<Z;++Ca){var Ya=aa[Ca];switch(Ya.role){case "axis":var Kb=rb(Ya)?va:La;Kb.union(Fb(r,Ya,O,u));break;case "title":var xc=Ya;break;case "legend":Xa.push(Ob(r,Ya));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":va.union(Ya.bounds);La.union(Ya.bounds);break;default:I.union(Ya.bounds)}}if(Xa.length){const rc={};Xa.forEach(yc=>{ab=yc.orient||"right";"none"!==
ab&&(rc[ab]||(rc[ab]=[])).push(yc)});for(const yc in rc)aa=rc[yc],Na(r,aa,qb(aa,yc,F.legends,va,La,O,u));Xa.forEach(yc=>{const dd=yc.bounds;dd.equals(yc._bounds)||(yc.bounds=yc._bounds,r.dirty(yc),yc.bounds=dd,r.dirty(yc));if(!F.autosize||"fit"!==F.autosize.type&&"fit-x"!==F.autosize.type&&"fit-y"!==F.autosize.type)I.union(dd);else switch(yc.orient){case "left":case "right":I.add(dd.x1,0).add(dd.x2,0);break;case "top":case "bottom":I.add(0,dd.y1).add(0,dd.y2)}})}I.union(va).union(La);xc&&I.union(Ea(r,
xc,O,u,I));v.clip&&I.set(0,0,v.width||0,v.height||0);pa(r,v,I,F)}function pa(r,v,F,aa){aa=aa.autosize||{};const O=aa.type;if(!(1>r._autosize)&&O){var u=r._width,I=r._height,va=Math.max(0,v.width||0),La=Math.max(0,Math.ceil(-F.x1));v=Math.max(0,v.height||0);var Xa=Math.max(0,Math.ceil(-F.y1)),ab=Math.max(0,Math.ceil(F.x2-va));F=Math.max(0,Math.ceil(F.y2-v));if("padding"===aa.contains){const Z=r.padding();u-=Z.left+Z.right;I-=Z.top+Z.bottom}"none"===O?(Xa=La=0,va=u,v=I):"fit"===O?(va=Math.max(0,u-La-
ab),v=Math.max(0,I-Xa-F)):"fit-x"===O?(va=Math.max(0,u-La-ab),I=v+Xa+F):"fit-y"===O?(u=va+La+ab,v=Math.max(0,I-Xa-F)):"pad"===O&&(u=va+La+ab,I=v+Xa+F);r._resizeView(u,I,va,v,[La,Xa],aa.resize)}}hb.inherits(Cb,l.Transform,{transform(r,v){const F=v.dataflow,aa=r.mark,O=aa.marktype,u=R.Marks[O],I=u.bound;let va=aa.bounds,La;if(u.nested)aa.items.length&&F.dirty(aa.items[0]),va=Yb(aa,I),aa.items.forEach(Xa=>{Xa.bounds.clear().union(va)});else if("group"===O||r.modified())switch(v.visit(v.MOD,Xa=>F.dirty(Xa)),
va.clear(),aa.items.forEach(Xa=>va.union(Yb(Xa,I))),aa.role){case "axis":case "legend":case "title":v.reflow()}else La=v.changed(v.REM),v.visit(v.ADD,Xa=>{va.union(Yb(Xa,I))}),v.visit(v.MOD,Xa=>{La=La||va.alignsWith(Xa.bounds);F.dirty(Xa);va.union(Yb(Xa,I))}),La&&(va.clear(),aa.items.forEach(Xa=>va.union(Xa.bounds)));R.boundClip(aa);return v.modifies("bounds")}});sc.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};hb.inherits(sc,l.Transform,{transform(r,
v){const F=zc(v.dataflow),aa=r.as;let O=F.value;v.visit(v.ADD,u=>u[aa]=u[aa]||++O);F.set(this.value=O);return v}});hb.inherits(pc,l.Transform,{transform(r,v){let F=this.value;F||(F=v.dataflow.scenegraph().mark(r.markdef,Ab(r),r.index),F.group.context=r.context,r.context.group||(r.context.group=F.group),F.source=this.source,F.clip=r.clip,F.interactive=r.interactive,this.value=F);const aa="group"===F.marktype?R.GroupItem:R.Item;v.visit(v.ADD,O=>aa.call(O,F));if(r.modified("clip")||r.modified("interactive"))F.clip=
r.clip,F.interactive=!!r.interactive,F.zdirty=!0,v.reflow();F.items=v.source;return v}});const x={parity:r=>r.filter((v,F)=>F%2?v.opacity=0:1),greedy:(r,v)=>{let F;return r.filter((aa,O)=>O&&N(F.bounds,aa.bounds,v)?aa.opacity=0:(F=aa,1))}},N=(r,v,F)=>F>Math.max(v.x1-r.x2,r.x1-v.x2,v.y1-r.y2,r.y1-v.y2),S=(r,v)=>{for(var F=1,aa=r.length,O=r[0].bounds;F<aa;++F)if(N(O,O=r[F].bounds,v))return!0},g=r=>{r=r.bounds;return 1<r.width()&&1<r.height()},z=(r,v,F)=>{r=r.range();var aa=new R.Bounds;"top"===v||"bottom"===
v?aa.set(r[0],-Infinity,r[1],Infinity):aa.set(-Infinity,r[0],Infinity,r[1]);aa.expand(F||1);return O=>aa.encloses(O.bounds)},m=r=>{r.forEach(v=>v.opacity=1);return r};hb.inherits(jc,l.Transform,{transform(r,v){const F=x[r.method]||x.parity,aa=r.separation||0;let O=v.materialize(v.SOURCE).source,u,I;if(O&&O.length){if(!r.method)return r.modified("method")&&(m(O),v=v.reflow(r.modified()).modifies("opacity")),v;O=O.filter(g);if(O.length){r.sort&&(O=O.slice().sort(r.sort));u=m(O);v=v.reflow(r.modified()).modifies("opacity");
if(3<=u.length&&S(u,aa)){do u=F(u,aa);while(3<=u.length&&S(u,aa));3>u.length&&!hb.peek(O).opacity&&(1<u.length&&(hb.peek(u).opacity=0),hb.peek(O).opacity=1)}r.boundScale&&0<=r.boundTolerance&&(I=z(r.boundScale,r.boundOrient,+r.boundTolerance),O.forEach(La=>{I(La)||(La.opacity=0)}));var va=u[0].mark.bounds.clear();O.forEach(La=>{La.opacity&&va.union(La.bounds)});return v}}}});hb.inherits(Sb,l.Transform,{transform(r,v){const F=v.dataflow;v.visit(v.ALL,aa=>F.dirty(aa));v.fields&&v.fields.zindex&&(r=
v.source&&v.source[0])&&(r.mark.zdirty=!0)}});const E=new R.Bounds,h=(r,v)=>Math.floor(Math.min(r,v)),p=(r,v)=>Math.ceil(Math.max(r,v));hb.inherits(Ga,l.Transform,{transform(r,v){const F=v.dataflow;r.mark.items.forEach(aa=>{if(r.layout){var O=r.layout;var u=aa.items;for(var I=u.length,va=0,La,Xa,ab={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};va<I;++va)if(La=u[va],Xa=La.items,"group"===La.marktype)switch(La.role){case "axis":case "legend":case "title":break;
case "row-header":ab.rowheaders.push(...Xa);break;case "row-footer":ab.rowfooters.push(...Xa);break;case "column-header":ab.colheaders.push(...Xa);break;case "column-footer":ab.colfooters.push(...Xa);break;case "row-title":ab.rowtitle=Xa[0];break;case "column-title":ab.coltitle=Xa[0];break;default:ab.marks.push(...Xa)}u=ab;Xa=u.marks;ab="flush"===O.bounds?Da:Ia;I=O.offset;var Z=O.columns||Xa.length,Ca=0>=Z?1:Math.ceil(Xa.length/Z),Ya=Ca*Z;va=Na(F,Xa,O);va.empty()&&va.set(0,0,0,0);if(u.rowheaders){La=
Wa(O.headerBand,"row",null);var Kb=kb(F,u.rowheaders,Xa,Z,Ca,-Wa(I,"rowHeader"),h,0,ab,"x1",0,Z,1,La)}if(u.colheaders){La=Wa(O.headerBand,"column",null);var xc=kb(F,u.colheaders,Xa,Z,Z,-Wa(I,"columnHeader"),h,1,ab,"y1",0,1,Z,La)}if(u.rowfooters){La=Wa(O.footerBand,"row",null);var rc=kb(F,u.rowfooters,Xa,Z,Ca,Wa(I,"rowFooter"),p,0,ab,"x2",Z-1,Z,1,La)}if(u.colfooters){La=Wa(O.footerBand,"column",null);var yc=kb(F,u.colfooters,Xa,Z,Z,Wa(I,"columnFooter"),p,1,ab,"y2",Ya-Z,1,Z,La)}u.rowtitle&&(La=Wa(O.titleAnchor,
"row"),Xa=Wa(I,"rowTitle"),Xa="end"===La?rc+Xa:Kb-Xa,La=Wa(O.titleBand,"row",.5),mb(F,u.rowtitle,Xa,0,va,La));u.coltitle&&(La=Wa(O.titleAnchor,"column"),Xa=Wa(I,"columnTitle"),Xa="end"===La?yc+Xa:xc-Xa,La=Wa(O.titleBand,"column",.5),mb(F,u.coltitle,Xa,1,va,La))}ca(F,aa,r)});return cb(r.mark.group)?v.reflow():v}});t.bound=Cb;t.identifier=sc;t.mark=pc;t.overlap=jc;t.render=Sb;t.viewlayout=Ga})};
shadow$provide[35]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(28),Eb(32),Eb(20)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scale","vega-util"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l(t.vega={},t.vega,t.vega,t.vega))})(this,function(t,l,R,hb){function Cb(ua){l.Transform.call(this,null,ua)}function Yb(ua){l.Transform.call(this,null,ua)}function sc(){return l.ingest({})}function zc(ua){const H=hb.fastmap().test(za=>
za.exit);H.lookup=za=>H.get(ua(za));return H}function pc(ua){l.Transform.call(this,null,ua)}function Ab(ua){l.Transform.call(this,[],ua)}function jc(ua){l.Transform.call(this,{},ua)}function Sb(ua,H,za){ua=+ua;H=+H;za=2>($a=arguments.length)?(H=ua,ua=0,1):3>$a?1:+za;for(var Qa=-1,$a=Math.max(0,Math.ceil((H-ua)/za))|0,lb=Array($a);++Qa<$a;)lb[Qa]=ua+Qa*za;return lb}function Ua(ua,H){let za=0;if(void 0===H)for(var Qa of ua){if(Qa=+Qa)za+=Qa}else{Qa=-1;for(let $a of ua)if($a=+H($a,++Qa,ua))za+=$a}return za}
function rb(ua){l.Transform.call(this,null,ua)}function Fb(ua,H,za){ua.prototype=H.prototype=za;za.constructor=ua}function Hb(ua,H){ua=Object.create(ua.prototype);for(var za in H)ua[za]=H[za];return ua}function Bb(){}function Lb(){return this.rgb().formatHex()}function Wa(){return this.rgb().formatRgb()}function pb(ua){var H,za;ua=(ua+"").trim().toLowerCase();return(H=Pa.exec(ua))?(za=H[1].length,H=parseInt(H[1],16),6===za?Na(H):3===za?new kb(H>>8&15|H>>4&240,H>>4&15|H&240,(H&15)<<4|H&15,1):8===za?
Da(H>>24&255,H>>16&255,H>>8&255,(H&255)/255):4===za?Da(H>>12&15|H>>8&240,H>>8&15|H>>4&240,H>>4&15|H&240,((H&15)<<4|H&15)/255):null):(H=Wb.exec(ua))?new kb(H[1],H[2],H[3],1):(H=sb.exec(ua))?new kb(255*H[1]/100,255*H[2]/100,255*H[3]/100,1):(H=Tb.exec(ua))?Da(H[1],H[2],H[3],H[4]):(H=ic.exec(ua))?Da(255*H[1]/100,255*H[2]/100,255*H[3]/100,H[4]):(H=dc.exec(ua))?Vb(H[1],H[2]/100,H[3]/100,1):(H=Ic.exec(ua))?Vb(H[1],H[2]/100,H[3]/100,H[4]):Ac.hasOwnProperty(ua)?Na(Ac[ua]):"transparent"===ua?new kb(NaN,NaN,
NaN,0):null}function Na(ua){return new kb(ua>>16&255,ua>>8&255,ua&255,1)}function Da(ua,H,za,Qa){0>=Qa&&(ua=H=za=NaN);return new kb(ua,H,za,Qa)}function Ia(ua,H,za,Qa){if(1===arguments.length){var $a=ua;$a instanceof Bb||($a=pb($a));$a?($a=$a.rgb(),$a=new kb($a.r,$a.g,$a.b,$a.opacity)):$a=new kb}else $a=new kb(ua,H,za,null==Qa?1:Qa);return $a}function kb(ua,H,za,Qa){this.r=+ua;this.g=+H;this.b=+za;this.opacity=+Qa}function mb(){return`#${Ob(this.r)}${Ob(this.g)}${Ob(this.b)}`}function Ma(){const ua=
vb(this.opacity);return`${1===ua?"rgb(":"rgba("}${qb(this.r)}, ${qb(this.g)}, ${qb(this.b)}${1===ua?")":`, ${ua})`}`}function vb(ua){return isNaN(ua)?1:Math.max(0,Math.min(1,ua))}function qb(ua){return Math.max(0,Math.min(255,Math.round(ua)||0))}function Ob(ua){ua=qb(ua);return(16>ua?"0":"")+ua.toString(16)}function Vb(ua,H,za,Qa){0>=Qa?ua=H=za=NaN:0>=za||1<=za?ua=H=NaN:0>=H&&(ua=NaN);return new ra(ua,H,za,Qa)}function ob(ua){if(ua instanceof ra)return new ra(ua.h,ua.s,ua.l,ua.opacity);ua instanceof
Bb||(ua=pb(ua));if(!ua)return new ra;if(ua instanceof ra)return ua;ua=ua.rgb();var H=ua.r/255,za=ua.g/255,Qa=ua.b/255,$a=Math.min(H,za,Qa),lb=Math.max(H,za,Qa),Gb=NaN,oc=lb-$a,ec=(lb+$a)/2;oc?(Gb=H===lb?(za-Qa)/oc+6*(za<Qa):za===lb?(Qa-H)/oc+2:(H-za)/oc+4,oc/=.5>ec?lb+$a:2-lb-$a,Gb*=60):oc=0<ec&&1>ec?0:Gb;return new ra(Gb,oc,ec,ua.opacity)}function ra(ua,H,za,Qa){this.h=+ua;this.s=+H;this.l=+za;this.opacity=+Qa}function Y(ua){ua=(ua||0)%360;return 0>ua?ua+360:ua}function Ea(ua){return Math.max(0,
Math.min(1,ua||0))}function Ga(ua,H,za){return 255*(60>ua?H+(za-H)*ua/60:180>ua?za:240>ua?H+(za-H)*(240-ua)/60:H)}function cb(ua,H){return function(za){return ua+za*H}}function ca(ua,H,za){return ua=Math.pow(ua,za),H=Math.pow(H,za)-ua,za=1/za,function(Qa){return Math.pow(ua+Qa*H,za)}}function pa(ua){return 1===(ua=+ua)?x:function(H,za){return za-H?ca(H,za,ua):Zc(isNaN(H)?za:H)}}function x(ua,H){var za=H-ua;return za?cb(ua,za):Zc(isNaN(ua)?H:ua)}function N(ua,H){H||(H=[]);var za=ua?Math.min(H.length,
ua.length):0,Qa=H.slice(),$a;return function(lb){for($a=0;$a<za;++$a)Qa[$a]=ua[$a]*(1-lb)+H[$a]*lb;return Qa}}function S(ua,H){var za=H?H.length:0,Qa=ua?Math.min(za,ua.length):0,$a=Array(Qa),lb=Array(za),Gb;for(Gb=0;Gb<Qa;++Gb)$a[Gb]=r(ua[Gb],H[Gb]);for(;Gb<za;++Gb)lb[Gb]=H[Gb];return function(oc){for(Gb=0;Gb<Qa;++Gb)lb[Gb]=$a[Gb](oc);return lb}}function g(ua,H){var za=new Date;return ua=+ua,H=+H,function(Qa){return za.setTime(ua*(1-Qa)+H*Qa),za}}function z(ua,H){return ua=+ua,H=+H,function(za){return ua*
(1-za)+H*za}}function m(ua,H){var za={},Qa={},$a;if(null===ua||"object"!==typeof ua)ua={};if(null===H||"object"!==typeof H)H={};for($a in H)$a in ua?za[$a]=r(ua[$a],H[$a]):Qa[$a]=H[$a];return function(lb){for($a in za)Qa[$a]=za[$a](lb);return Qa}}function E(ua){return function(){return ua}}function h(ua){return function(H){return ua(H)+""}}function p(ua,H){var za=ud.lastIndex=Ha.lastIndex=0,Qa,$a,lb,Gb=-1,oc=[],ec=[];ua+="";for(H+="";(Qa=ud.exec(ua))&&($a=Ha.exec(H));)(lb=$a.index)>za&&(lb=H.slice(za,
lb),oc[Gb]?oc[Gb]+=lb:oc[++Gb]=lb),(Qa=Qa[0])===($a=$a[0])?oc[Gb]?oc[Gb]+=$a:oc[++Gb]=$a:(oc[++Gb]=null,ec.push({i:Gb,x:z(Qa,$a)})),za=Ha.lastIndex;za<H.length&&(lb=H.slice(za),oc[Gb]?oc[Gb]+=lb:oc[++Gb]=lb);return 2>oc.length?ec[0]?h(ec[0].x):E(H):(H=ec.length,function(kc){for(var Sc=0,ed;Sc<H;++Sc)oc[(ed=ec[Sc]).i]=ed.x(kc);return oc.join("")})}function r(ua,H){var za=typeof H;if(null==H||"boolean"===za)ua=Zc(H);else{if("number"===za)var Qa=z;else"string"===za?za=(Qa=pb(H))?(H=Qa,Nd):p:(H instanceof
pb?Qa=Nd:H instanceof Date?Qa=g:(Qa=H,Qa=!ArrayBuffer.isView(Qa)||Qa instanceof DataView?Array.isArray(H)?S:"function"!==typeof H.valueOf&&"function"!==typeof H.toString||isNaN(H)?m:z:N),za=Qa),Qa=za;ua=Qa(ua,H)}return ua}function v(ua,H){return ua=+ua,H=+H,function(za){return Math.round(ua*(1-za)+H*za)}}function F(ua){return R.isContinuous(ua)&&ua!==R.Sequential}function aa(ua){l.Transform.call(this,null,ua);this.modified(!0)}function O(ua,H,za){R.isLogarithmic(ua)&&Math.abs(H.reduce((Qa,$a)=>Qa+
(0>$a?-1:0<$a?1:0),0))!==H.length&&za.warn("Log scale domain includes zero: "+hb.stringValue(H));return H}function u(ua,H,za){return hb.isFunction(ua)&&(H||za)?R.interpolateRange(ua,I(H||[0,1],za)):ua}function I(ua,H){return H?ua.slice().reverse():ua}function va(ua){l.Transform.call(this,null,ua)}function La(ua){l.Transform.call(this,null,ua)}function Xa(ua,H,za,Qa,$a){H=(H-ua.sum)/2;for(var lb=ua.length,Gb=0,oc;Gb<lb;++Gb)oc=ua[Gb],oc[Qa]=H,oc[$a]=H+=Math.abs(za(oc))}function ab(ua,H,za,Qa,$a){H=
1/ua.sum;for(var lb=0,Gb=ua.length,oc=0,ec=0,kc;oc<Gb;++oc)kc=ua[oc],kc[Qa]=lb,kc[$a]=lb=H*(ec+=Math.abs(za(kc)))}function Z(ua,H,za,Qa,$a){for(var lb=H=0,Gb=ua.length,oc=0,ec,kc;oc<Gb;++oc)kc=ua[oc],ec=+za(kc),0>ec?(kc[Qa]=lb,kc[$a]=lb+=ec):(kc[Qa]=H,kc[$a]=H+=ec)}function Ca(ua,H,za,Qa){var $a=[],lb=fd=>fd(kc),Gb;if(null==H)$a.push(ua.slice());else{var oc={};var ec=0;for(Gb=ua.length;ec<Gb;++ec){var kc=ua[ec];var Sc=H.map(lb);var ed=oc[Sc];ed||(oc[Sc]=ed=[],$a.push(ed));ed.push(kc)}}lb=Sc=0;for(ua=
$a.length;Sc<ua;++Sc){ed=$a[Sc];H=ec=0;for(Gb=ed.length;ec<Gb;++ec)H+=Math.abs(Qa(ed[ec]));ed.sum=H;H>lb&&(lb=H);za&&ed.sort(za)}$a.max=lb;return $a}hb.inherits(Cb,l.Transform,{transform(ua,H){if(this.value&&!ua.modified())return H.StopPropagation;var za=H.dataflow.locale();H=H.fork(H.NO_SOURCE|H.NO_FIELDS);var Qa=this.value,$a=ua.scale,lb=R.tickCount($a,null==ua.count?ua.values?ua.values.length:10:ua.count,ua.minstep),Gb=ua.format||R.tickFormat(za,$a,lb,ua.formatSpecifier,ua.formatType,!!ua.values),
oc=ua.values?R.validTicks($a,ua.values,lb):R.tickValues($a,lb);Qa&&(H.rem=Qa);Qa=oc.map((ec,kc)=>l.ingest({index:kc/(oc.length-1||1),value:ec,label:Gb(ec)}));ua.extra&&Qa.length&&Qa.push(l.ingest({index:-1,extra:{value:Qa[0].value},label:""}));H.source=Qa;this.value=H.add=Qa;return H}});hb.inherits(Yb,l.Transform,{transform(ua,H){var za=H.dataflow,Qa=H.fork(H.NO_SOURCE|H.NO_FIELDS),$a=ua.item||sc,lb=ua.key||l.tupleid,Gb=this.value;hb.isArray(Qa.encode)&&(Qa.encode=null);Gb&&(ua.modified("key")||H.modified(lb))&&
hb.error("DataJoin does not support modified key function or fields.");Gb||(H=H.addAll(),this.value=Gb=zc(lb));H.visit(H.ADD,oc=>{const ec=lb(oc);let kc=Gb.get(ec);kc?kc.exit?(Gb.empty--,Qa.add.push(kc)):Qa.mod.push(kc):(kc=$a(oc),Gb.set(ec,kc),Qa.add.push(kc));kc.datum=oc;kc.exit=!1});H.visit(H.MOD,oc=>{var ec=lb(oc);if(ec=Gb.get(ec))ec.datum=oc,Qa.mod.push(ec)});H.visit(H.REM,oc=>{var ec=lb(oc);ec=Gb.get(ec);oc!==ec.datum||ec.exit||(Qa.rem.push(ec),ec.exit=!0,++Gb.empty)});H.changed(H.ADD_MOD)&&
Qa.modifies("datum");(H.clean()||ua.clean&&Gb.empty>za.cleanThreshold)&&za.runAfter(Gb.clean);return Qa}});hb.inherits(pc,l.Transform,{transform(ua,H){var za=H.fork(H.ADD_REM),Qa=ua.mod||!1,$a=ua.encoders,lb=H.encode;if(hb.isArray(lb))if(za.changed()||lb.every(ed=>$a[ed]))lb=lb[0],za.encode=null;else return H.StopPropagation;var Gb="enter"===lb,oc=$a.update||hb.falsy,ec=$a.enter||hb.falsy,kc=$a.exit||hb.falsy,Sc=(lb&&!Gb?$a[lb]:oc)||hb.falsy;H.changed(H.ADD)&&(H.visit(H.ADD,ed=>{ec(ed,ua);oc(ed,ua)}),
za.modifies(ec.output),za.modifies(oc.output),Sc!==hb.falsy&&Sc!==oc&&(H.visit(H.ADD,ed=>{Sc(ed,ua)}),za.modifies(Sc.output)));H.changed(H.REM)&&kc!==hb.falsy&&(H.visit(H.REM,ed=>{kc(ed,ua)}),za.modifies(kc.output));if(Gb||Sc!==hb.falsy)lb=H.MOD|(ua.modified()?H.REFLOW:0),Gb?(H.visit(lb,ed=>{const fd=ec(ed,ua)||Qa;(Sc(ed,ua)||fd)&&za.mod.push(ed)}),za.mod.length&&za.modifies(ec.output)):H.visit(lb,ed=>{(Sc(ed,ua)||Qa)&&za.mod.push(ed)}),za.mod.length&&za.modifies(Sc.output);return za.changed()?za:
H.StopPropagation}});hb.inherits(Ab,l.Transform,{transform(ua,H){if(null!=this.value&&!ua.modified())return H.StopPropagation;var za=H.dataflow.locale(),Qa=H.fork(H.NO_SOURCE|H.NO_FIELDS),$a=this.value,lb=ua.type||R.SymbolLegend,Gb=ua.scale,oc=+ua.limit,ec=R.tickCount(Gb,null==ua.count?5:ua.count,ua.minstep),kc=!!ua.values||lb===R.SymbolLegend,Sc=ua.format||R.labelFormat(za,Gb,ec,lb,ua.formatSpecifier,ua.formatType,kc),ed=ua.values||R.labelValues(Gb,ec),fd;$a&&(Qa.rem=$a);if(lb===R.SymbolLegend){if(oc&&
ed.length>oc){H.dataflow.warn("Symbol legend count exceeds limit, filtering items.");$a=ed.slice(0,oc-1);var Qd=!0}else $a=ed;if(hb.isFunction(fd=ua.size)){ua.values||0!==Gb($a[0])||($a=$a.slice(1));var Td=$a.reduce((Yd,ae)=>Math.max(Yd,fd(ae,ua)),0)}else fd=hb.constant(Td=fd||8);$a=$a.map((Yd,ae)=>l.ingest({index:ae,label:Sc(Yd,ae,$a),value:Yd,offset:Td,size:fd(Yd,ua)}));Qd&&(Qd=ed[$a.length],$a.push(l.ingest({index:$a.length,label:`\u2026${ed.length-$a.length} entries`,value:Qd,offset:Td,size:fd(Qd,
ua)})))}else if(lb===R.GradientLegend){H=Gb.domain();var Ed=R.scaleFraction(Gb,H[0],hb.peek(H));3>ed.length&&!ua.values&&H[0]!==hb.peek(H)&&(ed=[H[0],hb.peek(H)]);$a=ed.map((Yd,ae)=>l.ingest({index:ae,label:Sc(Yd,ae,ed),value:Yd,perc:Ed(Yd)}))}else fd=ed.length-1,Ed=R.labelFraction(Gb),$a=ed.map((Yd,ae)=>l.ingest({index:ae,label:Sc(Yd,ae,ed),value:Yd,perc:ae?Ed(Yd):0,perc2:ae===fd?1:Ed(ed[ae+1])}));Qa.source=$a;this.value=Qa.add=$a;return Qa}});const Ya=ua=>ua.source.x,Kb=ua=>ua.source.y,xc=ua=>ua.target.x,
rc=ua=>ua.target.y;jc.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},
{name:"as",type:"string","default":"path"}]};hb.inherits(jc,l.Transform,{transform(ua,H){var za=ua.sourceX||Ya,Qa=ua.sourceY||Kb,$a=ua.targetX||xc,lb=ua.targetY||rc,Gb=ua.as||"path",oc=ua.shape||"line",ec=Rc.get(oc+"-"+(ua.orient||"vertical"))||Rc.get(oc);ec||hb.error("LinkPath unsupported type: "+ua.shape+(ua.orient?"-"+ua.orient:""));H.visit(H.SOURCE,kc=>{kc[Gb]=ec(za(kc),Qa(kc),$a(kc),lb(kc))});return H.reflow(ua.modified()).modifies(Gb)}});const yc=(ua,H,za,Qa)=>"M"+ua+","+H+"L"+za+","+Qa,dd=
(ua,H,za,Qa)=>{var $a=za-ua,lb=Qa-H,Gb=Math.hypot($a,lb)/2;return"M"+ua+","+H+"A"+Gb+","+Gb+" "+180*Math.atan2(lb,$a)/Math.PI+" 0 1 "+za+","+Qa},$b=(ua,H,za,Qa)=>{var $a=za-ua;const lb=Qa-H,Gb=.2*($a+lb);$a=.2*(lb-$a);return"M"+ua+","+H+"C"+(ua+Gb)+","+(H+$a)+" "+(za+$a)+","+(Qa-Gb)+" "+za+","+Qa},Rc=hb.fastmap({line:yc,"line-radial":(ua,H,za,Qa)=>yc(H*Math.cos(ua),H*Math.sin(ua),Qa*Math.cos(za),Qa*Math.sin(za)),arc:dd,"arc-radial":(ua,H,za,Qa)=>dd(H*Math.cos(ua),H*Math.sin(ua),Qa*Math.cos(za),Qa*
Math.sin(za)),curve:$b,"curve-radial":(ua,H,za,Qa)=>$b(H*Math.cos(ua),H*Math.sin(ua),Qa*Math.cos(za),Qa*Math.sin(za)),"orthogonal-horizontal":(ua,H,za,Qa)=>"M"+ua+","+H+"V"+Qa+"H"+za,"orthogonal-vertical":(ua,H,za,Qa)=>"M"+ua+","+H+"H"+za+"V"+Qa,"orthogonal-radial":(ua,H,za,Qa)=>{const $a=Math.cos(za),lb=Math.sin(za);return"M"+H*Math.cos(ua)+","+H*Math.sin(ua)+"A"+H+","+H+" 0 0,"+((Math.abs(za-ua)>Math.PI?za<=ua:za>ua)?1:0)+" "+H*$a+","+H*lb+"L"+Qa*$a+","+Qa*lb},"diagonal-horizontal":(ua,H,za,Qa)=>
{const $a=(ua+za)/2;return"M"+ua+","+H+"C"+$a+","+H+" "+$a+","+Qa+" "+za+","+Qa},"diagonal-vertical":(ua,H,za,Qa)=>{const $a=(H+Qa)/2;return"M"+ua+","+H+"C"+ua+","+$a+" "+za+","+$a+" "+za+","+Qa},"diagonal-radial":(ua,H,za,Qa)=>{const $a=Math.cos(ua);ua=Math.sin(ua);const lb=Math.cos(za);za=Math.sin(za);const Gb=(H+Qa)/2;return"M"+H*$a+","+H*ua+"C"+Gb*$a+","+Gb*ua+" "+Gb*lb+","+Gb*za+" "+Qa*lb+","+Qa*za}});rb.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",
type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};hb.inherits(rb,l.Transform,{transform(ua,H){var za=ua.as||["startAngle","endAngle"],Qa=za[0],$a=za[1],lb=ua.startAngle||0,Gb=null!=ua.endAngle?ua.endAngle:2*Math.PI,oc=H.source,ec=oc.map(ua.field||hb.one),kc=ec.length,Sc=lb;lb=(Gb-lb)/Ua(ec);Gb=Sb(kc);var ed;ua.sort&&Gb.sort((Td,Ed)=>ec[Td]-
ec[Ed]);for(ed=0;ed<kc;++ed){var fd=ec[Gb[ed]];var Qd=oc[Gb[ed]];Qd[Qa]=Sc;Qd[$a]=Sc+=fd*lb}this.value=ec;return H.reflow(ua.modified()).modifies(za)}});var Pd=1/.7,Pa=/^#([0-9a-f]{3,8})$/,Wb=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),sb=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Tb=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
ic=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),dc=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Ic=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
Ac={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fb(Bb,pb,{copy(ua){return Object.assign(new this.constructor,this,ua)},displayable(){return this.rgb().displayable()},hex:Lb,formatHex:Lb,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ob(this).formatHsl()},formatRgb:Wa,toString:Wa});Fb(kb,Ia,Hb(Bb,{brighter(ua){ua=null==ua?Pd:Math.pow(Pd,ua);return new kb(this.r*ua,this.g*ua,this.b*ua,this.opacity)},
darker(ua){ua=null==ua?.7:Math.pow(.7,ua);return new kb(this.r*ua,this.g*ua,this.b*ua,this.opacity)},rgb(){return this},clamp(){return new kb(qb(this.r),qb(this.g),qb(this.b),vb(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:mb,formatHex:mb,formatHex8:function(){return`#${Ob(this.r)}${Ob(this.g)}${Ob(this.b)}${Ob(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ma,toString:Ma}));Fb(ra,
function(ua,H,za,Qa){return 1===arguments.length?ob(ua):new ra(ua,H,za,null==Qa?1:Qa)},Hb(Bb,{brighter(ua){ua=null==ua?Pd:Math.pow(Pd,ua);return new ra(this.h,this.s,this.l*ua,this.opacity)},darker(ua){ua=null==ua?.7:Math.pow(.7,ua);return new ra(this.h,this.s,this.l*ua,this.opacity)},rgb(){var ua=this.h%360+360*(0>this.h),H=isNaN(ua)||isNaN(this.s)?0:this.s,za=this.l;H=za+(.5>za?za:1-za)*H;za=2*za-H;return new kb(Ga(240<=ua?ua-240:ua+120,za,H),Ga(ua,za,H),Ga(120>ua?ua+240:ua-120,za,H),this.opacity)},
clamp(){return new ra(Y(this.h),Ea(this.s),Ea(this.l),vb(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const ua=vb(this.opacity);return`${1===ua?"hsl(":"hsla("}${Y(this.h)}, ${100*Ea(this.s)}%, ${100*Ea(this.l)}%${1===ua?")":`, ${ua})`}`}}));var Zc=ua=>()=>ua,Nd=function za(H){function Qa(lb,Gb){var oc=$a((lb=Ia(lb)).r,(Gb=Ia(Gb)).r),ec=$a(lb.g,Gb.g),kc=$a(lb.b,Gb.b),Sc=x(lb.opacity,Gb.opacity);return function(ed){lb.r=
oc(ed);lb.g=ec(ed);lb.b=kc(ed);lb.opacity=Sc(ed);return lb+""}}var $a=pa(H);Qa.gamma=za;return Qa}(1),ud=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ha=new RegExp(ud.source,"g");const gb=hb.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));hb.inherits(aa,l.Transform,{transform(H,za){var Qa=za.dataflow,$a=this.value;var lb=H.type;var Gb=
"";if(lb===R.Sequential)lb=R.Sequential+"-"+R.Linear;else{var oc=H.type;R.isContinuous(oc)&&oc!==R.Time&&oc!==R.UTC&&(H.scheme||H.range&&H.range.length&&H.range.every(hb.isString))&&(Gb=H.rawDomain?H.rawDomain.length:H.domain?H.domain.length+ +(null!=H.domainMid):0,Gb=2===Gb?R.Sequential+"-":3===Gb?R.Diverging+"-":"");lb=(Gb+lb||R.Linear).toLowerCase()}$a&&lb===$a.type||(this.value=$a=R.scale(lb)());for(lb in H)gb[lb]||"padding"===lb&&F($a.type)||(hb.isFunction($a[lb])?$a[lb](H[lb]):Qa.warn("Unsupported scale property: "+
lb));Gb=lb=$a;(oc=H.domainRaw)?($a.domain(O($a.type,oc,Qa)),oc=oc.length):oc=-1;if(-1<oc)Qa=oc;else{var ec=H.domain;oc=$a.type;var kc;!(kc=H.zero)&&(kc=void 0===H.zero)&&(kc=$a.type,kc=!$a.bins&&(kc===R.Linear||kc===R.Pow||kc===R.Sqrt));if(ec){if(F(oc)&&H.padding&&ec[0]!==hb.peek(ec)){var Sc=H.range,ed=H.padding;var fd=H.exponent;var Qd=H.constant;Sc=Math.abs(hb.peek(Sc)-Sc[0]);ed=Sc/(Sc-2*ed);fd=oc===R.Log?hb.zoomLog(ec,null,ed):oc===R.Sqrt?hb.zoomPow(ec,null,ed,.5):oc===R.Pow?hb.zoomPow(ec,null,
ed,fd||1):oc===R.Symlog?hb.zoomSymlog(ec,null,ed,Qd||1):hb.zoomLinear(ec,null,ed);ec=ec.slice();ec[0]=fd[0];ec[ec.length-1]=fd[1]}if(kc||null!=H.domainMin||null!=H.domainMax||null!=H.domainMid)fd=(ec=ec.slice()).length-1||1,kc&&(0<ec[0]&&(ec[0]=0),0>ec[fd]&&(ec[fd]=0)),null!=H.domainMin&&(ec[0]=H.domainMin),null!=H.domainMax&&(ec[fd]=H.domainMax),null!=H.domainMid&&(kc=H.domainMid,Qd=kc>ec[fd]?fd+1:kc<ec[0]?0:fd,Qd!==fd&&Qa.warn("Scale domainMid exceeds domain min or max.",kc),ec.splice(Qd,0,kc));
$a.domain(O(oc,ec,Qa));oc===R.Ordinal&&$a.unknown(H.domainImplicit?R.scaleImplicit:void 0);H.nice&&$a.nice&&$a.nice(!0!==H.nice&&R.tickCount($a,H.nice)||null);Qa=ec.length}else Qa=0}(oc=H.bins)&&!hb.isArray(oc)&&(kc=Gb.domain(),$a=kc[0],kc=hb.peek(kc),ec=oc.step,fd=null==oc.start?$a:oc.start,oc=null==oc.stop?kc:oc.stop,ec||hb.error("Scale bins parameter missing step property."),fd<$a&&(fd=ec*Math.ceil($a/ec)),oc>kc&&(oc=ec*Math.floor(kc/ec)),oc=Sb(fd,oc+ec/2,ec));oc?Gb.bins=oc:Gb.bins&&delete Gb.bins;
Gb.type===R.BinOrdinal&&(oc?H.domain||H.domainRaw||(Gb.domain(oc),Qa=oc.length):Gb.bins=Gb.domain());$a=Qa;a:{Gb=lb.type;Qa=H.round||!1;oc=H.range;if(null!=H.rangeStep)Gb!==R.Band&&Gb!==R.Point&&hb.error("Only band and point scales support rangeStep."),oc=[0,H.rangeStep*R.bandSpace($a,Gb===R.Point?1:(null!=H.paddingInner?H.paddingInner:H.padding)||0,(null!=H.paddingOuter?H.paddingOuter:H.padding)||0)];else if(H.scheme&&(oc=H.schemeExtent,hb.isArray(H.scheme)?kc=R.interpolateColors(H.scheme,H.interpolate,
H.interpolateGamma):(kc=H.scheme.toLowerCase(),(kc=R.scheme(kc))||hb.error(`Unrecognized scheme name: ${H.scheme}`)),$a=Gb===R.Threshold?$a+1:Gb===R.BinOrdinal?$a-1:Gb===R.Quantile||Gb===R.Quantize?+H.schemeCount||5:$a,oc=R.isInterpolating(Gb)?u(kc,oc,H.reverse):hb.isFunction(kc)?R.quantizeInterpolator(u(kc,oc),$a):Gb===R.Ordinal?kc:kc.slice(0,$a),hb.isFunction(oc)))if(lb.interpolator){lb.interpolator(oc);break a}else hb.error(`Scale type ${Gb} does not support interpolating color schemes.`);oc&&
R.isInterpolating(Gb)?lb.interpolator(R.interpolateColors(I(oc,H.reverse),H.interpolate,H.interpolateGamma)):(oc&&H.interpolate&&lb.interpolate?lb.interpolate(R.interpolate(H.interpolate,H.interpolateGamma)):hb.isFunction(lb.round)?lb.round(Qa):hb.isFunction(lb.rangeRound)&&lb.interpolate(Qa?v:r),oc&&lb.range(I(oc,H.reverse)))}return za.fork(za.NO_SOURCE|za.NO_FIELDS)}});hb.inherits(va,l.Transform,{transform(H,za){const Qa=H.modified("sort")||za.changed(za.ADD)||za.modified(H.sort.fields)||za.modified("datum");
Qa&&za.source.sort(l.stableCompare(H.sort));this.modified(Qa);return za}});const wb=["y0","y1"];La.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":wb}]};hb.inherits(La,l.Transform,{transform(H,za){var Qa=H.as||wb,$a=Qa[0],lb=Qa[1],Gb=l.stableCompare(H.sort),oc=H.field||
hb.one,ec="center"===H.offset?Xa:"normalize"===H.offset?ab:Z,kc;Gb=Ca(za.source,H.groupby,Gb,oc);var Sc=0;var ed=Gb.length;for(kc=Gb.max;Sc<ed;++Sc)ec(Gb[Sc],kc,oc,$a,lb);return za.reflow(H.modified()).modifies(Qa)}});t.axisticks=Cb;t.datajoin=Yb;t.encode=pc;t.legendentries=Ab;t.linkpath=jc;t.pie=rb;t.scale=aa;t.sortitems=va;t.stack=La})};
shadow$provide[36]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(32)):"function"===typeof define&&define.amd?define(["exports","vega-scale"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l(t.vega={},t.vega))})(this,function(t,l){function*R(J){for(const la of J)yield*la}function hb(J){return 1<J?0:-1>J?kc:Math.acos(J)}function Cb(J){return 1<J?Sc:-1>J?-Sc:Math.asin(J)}function Yb(){}function sc(J,la){if(J&&Cc.hasOwnProperty(J.type))Cc[J.type](J,
la)}function zc(J,la,ma){var Ja=-1;ma=J.length-ma;for(la.lineStart();++Ja<ma;){var ib=J[Ja];la.point(ib[0],ib[1],ib[2])}la.lineEnd()}function pc(J,la){var ma=-1,Ja=J.length;for(la.polygonStart();++ma<Ja;)zc(J[ma],la,1);la.polygonEnd()}function Ab(J,la){if(J&&Zb.hasOwnProperty(J.type))Zb[J.type](J,la);else sc(J,la)}function jc(J){return[ae(J[1],J[0]),Cb(J[2])]}function Sb(J){var la=J[0];J=J[1];var ma=Ud(J);return[ma*Ud(la),ma*na(la),na(J)]}function Ua(J,la){return J[0]*la[0]+J[1]*la[1]+J[2]*la[2]}
function rb(J,la){return[J[1]*la[2]-J[2]*la[1],J[2]*la[0]-J[0]*la[2],J[0]*la[1]-J[1]*la[0]]}function Fb(J,la){J[0]+=la[0];J[1]+=la[1];J[2]+=la[2]}function Hb(J,la){return[J[0]*la,J[1]*la,J[2]*la]}function Bb(J){var la=fb(J[0]*J[0]+J[1]*J[1]+J[2]*J[2]);J[0]/=la;J[1]/=la;J[2]/=la}function Lb(J,la){function ma(Ja,ib){return Ja=J(Ja,ib),la(Ja[0],Ja[1])}J.invert&&la.invert&&(ma.invert=function(Ja,ib){return Ja=la.invert(Ja,ib),Ja&&J.invert(Ja[0],Ja[1])});return ma}function Wa(J,la){Ed(J)>kc&&(J-=Math.round(J/
fd)*fd);return[J,la]}function pb(J,la,ma){return(J%=fd)?la||ma?Lb(Da(J),Ia(la,ma)):Da(J):la||ma?Ia(la,ma):Wa}function Na(J){return function(la,ma){la+=J;Ed(la)>kc&&(la-=Math.round(la/fd)*fd);return[la,ma]}}function Da(J){var la=Na(J);la.invert=Na(-J);return la}function Ia(J,la){function ma(vc,Xb){var Dc=Ud(Xb),yd=Ud(vc)*Dc;vc=na(vc)*Dc;Xb=na(Xb);Dc=Xb*Ja+yd*ib;return[ae(vc*gc-Dc*tc,yd*Ja-Xb*ib),Cb(Dc*gc+vc*tc)]}var Ja=Ud(J),ib=na(J),gc=Ud(la),tc=na(la);ma.invert=function(vc,Xb){var Dc=Ud(Xb),yd=Ud(vc)*
Dc;vc=na(vc)*Dc;Xb=na(Xb);Dc=Xb*gc-vc*tc;return[ae(vc*gc+Xb*tc,yd*Ja+Dc*ib),Cb(Dc*Ja-yd*ib)]};return ma}function kb(J){function la(ma){ma=J(ma[0]*Td,ma[1]*Td);return ma[0]*=Qd,ma[1]*=Qd,ma}J=pb(J[0]*Td,J[1]*Td,2<J.length?J[2]*Td:0);la.invert=function(ma){ma=J.invert(ma[0]*Td,ma[1]*Td);return ma[0]*=Qd,ma[1]*=Qd,ma};return la}function mb(J,la){la=Sb(la);la[0]-=J;Bb(la);J=hb(-la[1]);return((0>-la[2]?-J:J)+fd-1E-6)%fd}function Ma(){var J=[],la;return{point:function(ma,Ja,ib){la.push([ma,Ja,ib])},lineStart:function(){J.push(la=
[])},lineEnd:Yb,rejoin:function(){1<J.length&&J.push(J.pop().concat(J.shift()))},result:function(){var ma=J;J=[];la=null;return ma}}}function vb(J,la){return 1E-6>Ed(J[0]-la[0])&&1E-6>Ed(J[1]-la[1])}function qb(J,la,ma,Ja){this.x=J;this.z=la;this.o=ma;this.e=Ja;this.v=!1;this.n=this.p=null}function Ob(J,la,ma,Ja,ib){var gc=[],tc=[];J.forEach(function(Yc){if(!(0>=(hd=Yc.length-1))){var hd,Ad=Yc[0],Hd=Yc[hd];if(vb(Ad,Hd)){if(!Ad[2]&&!Hd[2]){ib.lineStart();for(vc=0;vc<hd;++vc)ib.point((Ad=Yc[vc])[0],
Ad[1]);ib.lineEnd();return}Hd[0]+=2E-6}gc.push(hd=new qb(Ad,Yc,null,!0));tc.push(hd.o=new qb(Ad,null,hd,!1));gc.push(hd=new qb(Hd,Yc,null,!1));tc.push(hd.o=new qb(Hd,null,hd,!0))}});if(gc.length){tc.sort(la);Vb(gc);Vb(tc);var vc=0;for(J=tc.length;vc<J;++vc)tc[vc].e=ma=!ma;ma=gc[0];for(var Xb;;){for(var Dc=ma,yd=!0;Dc.v;)if((Dc=Dc.n)===ma)return;la=Dc.z;ib.lineStart();do{Dc.v=Dc.o.v=!0;if(Dc.e){if(yd)for(vc=0,J=la.length;vc<J;++vc)ib.point((Xb=la[vc])[0],Xb[1]);else Ja(Dc.x,Dc.n.x,1,ib);Dc=Dc.n}else{if(yd)for(la=
Dc.p.z,vc=la.length-1;0<=vc;--vc)ib.point((Xb=la[vc])[0],Xb[1]);else Ja(Dc.x,Dc.p.x,-1,ib);Dc=Dc.p}Dc=Dc.o;la=Dc.z;yd=!yd}while(!Dc.v);ib.lineEnd()}}}function Vb(J){if(la=J.length){for(var la,ma=0,Ja=J[0],ib;++ma<la;)Ja.n=ib=J[ma],ib.p=Ja,Ja=ib;Ja.n=ib=J[0];ib.p=Ja}}function ob(J){return Ed(J[0])<=kc?J[0]:Aa(J[0])*((Ed(J[0])+kc)%fd-kc)}function ra(J,la,ma,Ja){return function(ib){function gc(Id,he){J(Id,he)&&ib.point(Id,he)}function tc(Id,he){hd.point(Id,he)}function vc(){Be.point=tc;hd.lineStart()}
function Xb(){Be.point=gc;hd.lineEnd()}function Dc(Id,he){Ae.push([Id,he]);Hd.point(Id,he)}function yd(){Hd.lineStart();Ae=[]}function Yc(){Dc(Ae[0][0],Ae[0][1]);Hd.lineEnd();var Id=Hd.clean(),he=Ad.result(),xe=he.length,Le;Ae.pop();Ee.push(Ae);Ae=null;if(xe)if(Id&1){if(xe=he[0],0<(he=xe.length-1)){Pc||(ib.polygonStart(),Pc=!0);ib.lineStart();for(Id=0;Id<he;++Id)ib.point((Le=xe[Id])[0],Le[1]);ib.lineEnd()}}else 1<xe&&Id&2&&he.push(he.pop().concat(he.shift())),Ge.push(he.filter(Y))}var hd=la(ib),Ad=
Ma(),Hd=la(Ad),Pc=!1,Ee,Ge,Ae,Be={point:gc,lineStart:vc,lineEnd:Xb,polygonStart:function(){Be.point=Dc;Be.lineStart=yd;Be.lineEnd=Yc;Ge=[];Ee=[]},polygonEnd:function(){Be.point=gc;Be.lineStart=vc;Be.lineEnd=Xb;Ge=Array.from(R(Ge));var Id=Ee;var he=ob(Ja),xe=Ja[1],Le=na(xe),of=[na(he),-Ud(he),0],We=0,we=0,vf=new ec;1===Le?xe=Sc+1E-6:-1===Le&&(xe=-Sc-1E-6);Le=0;for(var Of=Id.length;Le<Of;++Le)if(ag=(af=Id[Le]).length){var af,ag,Vd=af[ag-1],hf=ob(Vd),jf=Vd[1]/2+ed,Qe=na(jf),Cf=Ud(jf);for(jf=0;jf<ag;++jf,
hf=Jf,Qe=Gf,Cf=Bg,Vd=Pf){var Pf=af[jf],Jf=ob(Pf);Bg=Pf[1]/2+ed;var Gf=na(Bg),Bg=Ud(Bg),rg=Jf-hf,Af=0<=rg?1:-1,Hf=Af*rg,dg=Hf>kc;Qe*=Gf;vf.add(ae(Qe*Af*na(Hf),Cf*Bg+Qe*Ud(Hf)));We+=dg?rg+Af*fd:rg;dg^hf>=he^Jf>=he&&(Vd=rb(Sb(Vd),Sb(Pf)),Bb(Vd),hf=rb(of,Vd),Bb(hf),hf=(dg^0<=rg?-1:1)*Cb(hf[2]),xe>hf||xe===hf&&(Vd[0]||Vd[1]))&&(we+=dg^0<=rg?1:-1)}}Id=(-1E-6>We||1E-6>We&&-1E-12>vf)^we&1;Ge.length?(Pc||(ib.polygonStart(),Pc=!0),Ob(Ge,Ea,Id,ma,ib)):Id&&(Pc||(ib.polygonStart(),Pc=!0),ib.lineStart(),ma(null,
null,1,ib),ib.lineEnd());Pc&&(ib.polygonEnd(),Pc=!1);Ge=Ee=null},sphere:function(){ib.polygonStart();ib.lineStart();ma(null,null,1,ib);ib.lineEnd();ib.polygonEnd()}};return Be}}function Y(J){return 1<J.length}function Ea(J,la){return(0>(J=J.x)[0]?J[1]-Sc-1E-6:Sc-J[1])-(0>(la=la.x)[0]?la[1]-Sc-1E-6:Sc-la[1])}function Ga(J){function la(Xb,Dc){return Ud(Xb)*Ud(Dc)>ib}function ma(Xb,Dc,yd){var Yc=Sb(Xb),hd=Sb(Dc),Ad=[1,0,0];hd=rb(Yc,hd);var Hd=Ua(hd,hd);Yc=hd[0];var Pc=Hd-Yc*Yc;if(!Pc)return!yd&&Xb;Hd=
ib*Hd/Pc;Pc=-ib*Yc/Pc;Yc=rb(Ad,hd);Ad=Hb(Ad,Hd);hd=Hb(hd,Pc);Fb(Ad,hd);hd=Ua(Ad,Yc);Hd=Ua(Yc,Yc);Pc=hd*hd-Hd*(Ua(Ad,Ad)-1);if(!(0>Pc)){var Ee=fb(Pc);Pc=Hb(Yc,(-hd-Ee)/Hd);Fb(Pc,Ad);Pc=jc(Pc);if(!yd)return Pc;yd=Xb[0];var Ge=Dc[0];Xb=Xb[1];Dc=Dc[1];if(Ge<yd){var Ae=yd;yd=Ge;Ge=Ae}var Be=Ge-yd,Id=1E-6>Ed(Be-kc);!Id&&Dc<Xb&&(Ae=Xb,Xb=Dc,Dc=Ae);if(Id||1E-6>Be?Id?0<Xb+Dc^Pc[1]<(1E-6>Ed(Pc[0]-yd)?Xb:Dc):Xb<=Pc[1]&&Pc[1]<=Dc:Be>kc^(yd<=Pc[0]&&Pc[0]<=Ge))return Dc=Hb(Yc,(-hd+Ee)/Hd),Fb(Dc,Ad),[Pc,jc(Dc)]}}
function Ja(Xb,Dc){var yd=tc?J:kc-J,Yc=0;Xb<-yd?Yc|=1:Xb>yd&&(Yc|=2);Dc<-yd?Yc|=4:Dc>yd&&(Yc|=8);return Yc}var ib=Ud(J),gc=6*Td,tc=0<ib,vc=1E-6<Ed(ib);return ra(la,function(Xb){var Dc,yd,Yc,hd,Ad;return{lineStart:function(){hd=Yc=!1;Ad=1},point:function(Hd,Pc){var Ee=[Hd,Pc],Ge=la(Hd,Pc);Pc=tc?Ge?0:Ja(Hd,Pc):Ge?Ja(Hd+(0>Hd?kc:-kc),Pc):0;!Dc&&(hd=Yc=Ge)&&Xb.lineStart();Ge!==Yc&&(Hd=ma(Dc,Ee),!Hd||vb(Dc,Hd)||vb(Ee,Hd))&&(Ee[2]=1);if(Ge!==Yc)Ad=0,Ge?(Xb.lineStart(),Hd=ma(Ee,Dc),Xb.point(Hd[0],Hd[1])):
(Hd=ma(Dc,Ee),Xb.point(Hd[0],Hd[1],2),Xb.lineEnd()),Dc=Hd;else if(vc&&Dc&&tc^Ge){var Ae;Pc&yd||!(Ae=ma(Ee,Dc,!0))||(Ad=0,tc?(Xb.lineStart(),Xb.point(Ae[0][0],Ae[0][1]),Xb.point(Ae[1][0],Ae[1][1]),Xb.lineEnd()):(Xb.point(Ae[1][0],Ae[1][1]),Xb.lineEnd(),Xb.lineStart(),Xb.point(Ae[0][0],Ae[0][1],3)))}!Ge||Dc&&vb(Dc,Ee)||Xb.point(Ee[0],Ee[1]);Dc=Ee;Yc=Ge;yd=Pc},lineEnd:function(){Yc&&Xb.lineEnd();Dc=null},clean:function(){return Ad|(hd&&Yc)<<1}}},function(Xb,Dc,yd,Yc){var hd=Xb;if(gc){Xb=Ud(J);var Ad=
na(J),Hd=yd*gc;if(null==hd)hd=J+yd*fd,Dc=J-Hd/2;else if(hd=mb(Xb,hd),Dc=mb(Xb,Dc),0<yd?hd<Dc:hd>Dc)hd+=yd*fd;for(var Pc=hd;0<yd?Pc>Dc:Pc<Dc;Pc-=Hd)hd=jc([Xb,-Ad*Ud(Pc),-Ad*na(Pc)]),Yc.point(hd[0],hd[1])}},tc?[0,-J]:[-kc,J-kc])}function cb(J,la,ma,Ja,ib,gc){var tc=J[0],vc=J[1],Xb=0,Dc=1,yd=la[0]-tc,Yc=la[1]-vc;ma-=tc;if(yd||!(0<ma)){ma/=yd;if(0>yd){if(ma<Xb)return;ma<Dc&&(Dc=ma)}else if(0<yd){if(ma>Dc)return;ma>Xb&&(Xb=ma)}ma=ib-tc;if(yd||!(0>ma)){ma/=yd;if(0>yd){if(ma>Dc)return;ma>Xb&&(Xb=ma)}else if(0<
yd){if(ma<Xb)return;ma<Dc&&(Dc=ma)}ma=Ja-vc;if(Yc||!(0<ma)){ma/=Yc;if(0>Yc){if(ma<Xb)return;ma<Dc&&(Dc=ma)}else if(0<Yc){if(ma>Dc)return;ma>Xb&&(Xb=ma)}ma=gc-vc;if(Yc||!(0>ma)){ma/=Yc;if(0>Yc){if(ma>Dc)return;ma>Xb&&(Xb=ma)}else if(0<Yc){if(ma<Xb)return;ma<Dc&&(Dc=ma)}0<Xb&&(J[0]=tc+Xb*yd,J[1]=vc+Xb*Yc);1>Dc&&(la[0]=tc+Dc*yd,la[1]=vc+Dc*Yc);return!0}}}}}function ca(J,la,ma,Ja){function ib(Xb,Dc,yd,Yc){var hd=0,Ad=0;if(null==Xb||(hd=gc(Xb,yd))!==(Ad=gc(Dc,yd))||0>vc(Xb,Dc)^0<yd){do Yc.point(0===hd||
3===hd?J:ma,1<hd?Ja:la);while((hd=(hd+yd+4)%4)!==Ad)}else Yc.point(Dc[0],Dc[1])}function gc(Xb,Dc){return 1E-6>Ed(Xb[0]-J)?0<Dc?0:3:1E-6>Ed(Xb[0]-ma)?0<Dc?2:1:1E-6>Ed(Xb[1]-la)?0<Dc?1:0:0<Dc?3:2}function tc(Xb,Dc){return vc(Xb.x,Dc.x)}function vc(Xb,Dc){var yd=gc(Xb,1),Yc=gc(Dc,1);return yd!==Yc?yd-Yc:0===yd?Dc[1]-Xb[1]:1===yd?Xb[0]-Dc[0]:2===yd?Xb[1]-Dc[1]:Dc[0]-Xb[0]}return function(Xb){function Dc(We,we){J<=We&&We<=ma&&la<=we&&we<=Ja&&Yc.point(We,we)}function yd(We,we){var vf=J<=We&&We<=ma&&la<=
we&&we<=Ja;Hd&&Pc.push([We,we]);if(xe)Ee=We,Ge=we,Ae=vf,xe=!1,vf&&(Yc.lineStart(),Yc.point(We,we));else if(vf&&he)Yc.point(We,we);else{var Of=[Be=Math.max(-1E9,Math.min(1E9,Be)),Id=Math.max(-1E9,Math.min(1E9,Id))],af=[We=Math.max(-1E9,Math.min(1E9,We)),we=Math.max(-1E9,Math.min(1E9,we))];cb(Of,af,J,la,ma,Ja)?(he||(Yc.lineStart(),Yc.point(Of[0],Of[1])),Yc.point(af[0],af[1]),vf||Yc.lineEnd(),Le=!1):vf&&(Yc.lineStart(),Yc.point(We,we),Le=!1)}Be=We;Id=we;he=vf}var Yc=Xb,hd=Ma(),Ad,Hd,Pc,Ee,Ge,Ae,Be,Id,
he,xe,Le,of={point:Dc,lineStart:function(){of.point=yd;Hd&&Hd.push(Pc=[]);xe=!0;he=!1;Be=Id=NaN},lineEnd:function(){Ad&&(yd(Ee,Ge),Ae&&he&&hd.rejoin(),Ad.push(hd.result()));of.point=Dc;he&&Yc.lineEnd()},polygonStart:function(){Yc=hd;Ad=[];Hd=[];Le=!0},polygonEnd:function(){for(var We,we=We=0,vf=Hd.length;we<vf;++we){var Of=Hd[we],af=1,ag=Of.length,Vd=Of[0],hf=Vd[0];for(Vd=Vd[1];af<ag;++af){var jf=hf;var Qe=Vd;Vd=Of[af];hf=Vd[0];Vd=Vd[1];Qe<=Ja?Vd>Ja&&(hf-jf)*(Ja-Qe)>(Vd-Qe)*(J-jf)&&++We:Vd<=Ja&&(hf-
jf)*(Ja-Qe)<(Vd-Qe)*(J-jf)&&--We}}we=Le&&We;vf=(Ad=Array.from(R(Ad))).length;if(we||vf)Xb.polygonStart(),we&&(Xb.lineStart(),ib(null,null,1,Xb),Xb.lineEnd()),vf&&Ob(Ad,tc,We,ib,Xb),Xb.polygonEnd();Yc=Xb;Ad=Hd=Pc=null}};return of}}function pa(){Od.point=x}function x(J,la){Od.point=N;vd=Fd=J;Gd=Xd=la}function N(J,la){Nc.add(Xd*J-Fd*la);Fd=J;Xd=la}function S(){N(vd,Gd)}function g(J,la){nf+=J;W+=la;++wa}function z(){Bc.point=m}function m(J,la){Bc.point=E;g(cc=J,Jc=la)}function E(J,la){var ma=J-cc,Ja=
la-Jc;ma=fb(ma*ma+Ja*Ja);db+=ma*(cc+J)/2;yb+=ma*(Jc+la)/2;hc+=ma;g(cc=J,Jc=la)}function h(){Bc.point=g}function p(){Bc.point=v}function r(){F(fa,Sa)}function v(J,la){Bc.point=F;g(fa=cc=J,Sa=Jc=la)}function F(J,la){var ma=J-cc,Ja=la-Jc;ma=fb(ma*ma+Ja*Ja);db+=ma*(cc+J)/2;yb+=ma*(Jc+la)/2;hc+=ma;ma=Jc*J-cc*la;Ec+=ma*(cc+J);ac+=ma*(Jc+la);L+=3*ma;g(cc=J,Jc=la)}function aa(J){this._context=J}function O(J,la){Mc.point=u;Ra=qc=J;eb=wd=la}function u(J,la){qc-=J;wd-=la;pd.add(fb(qc*qc+wd*wd));qc=J;wd=la}function I(J){let la=
1;this._+=J[0];for(const ma=J.length;la<ma;++la)this._+=arguments[la]+J[la]}function va(J){const la=Math.floor(J);if(!(0<=la))throw new RangeError(`invalid digits: ${J}`);if(15<la)return I;if(la!==Qc){const ma=Math.pow(10,la);Qc=la;td=function(Ja){let ib=1;this._+=Ja[0];for(const gc=Ja.length;ib<gc;++ib)this._+=Math.round(arguments[ib]*ma)/ma+Ja[ib]}}return td}function La(J,la){function ma(vc){vc&&("function"===typeof ib&&tc.pointRadius(+ib.apply(this,arguments)),Ab(vc,gc(tc)));return tc.result()}
let Ja=3,ib=4.5,gc,tc;ma.area=function(vc){Ab(vc,gc(qe));return qe.result()};ma.measure=function(vc){Ab(vc,gc(Uc));return Uc.result()};ma.bounds=function(vc){Ab(vc,gc(pe));return pe.result()};ma.centroid=function(vc){Ab(vc,gc($c));return $c.result()};ma.projection=function(vc){if(!arguments.length)return J;gc=null==vc?(J=null,Hc):(J=vc).stream;return ma};ma.context=function(vc){if(!arguments.length)return la;tc=null==vc?(la=null,new Cd(Ja)):new aa(la=vc);"function"!==typeof ib&&tc.pointRadius(ib);
return ma};ma.pointRadius=function(vc){if(!arguments.length)return ib;ib="function"===typeof vc?vc:(tc.pointRadius(+vc),+vc);return ma};ma.digits=function(vc){if(!arguments.length)return Ja;if(null==vc)Ja=null;else{const Xb=Math.floor(vc);if(!(0<=Xb))throw new RangeError(`invalid digits: ${vc}`);Ja=Xb}null===la&&(tc=new Cd(Ja));return ma};return ma.projection(J).digits(Ja).context(la)}function Xa(J){return function(la){var ma=new ab,Ja;for(Ja in J)ma[Ja]=J[Ja];ma.stream=la;return ma}}function ab(){}
function Z(J,la,ma){var Ja=J.clipExtent&&J.clipExtent();J.scale(150).translate([0,0]);null!=Ja&&J.clipExtent(null);Ab(ma,J.stream(pe));la(pe.result());null!=Ja&&J.clipExtent(Ja);return J}function Ca(J,la,ma){return Z(J,function(Ja){var ib=la[1][0]-la[0][0],gc=la[1][1]-la[0][1],tc=Math.min(ib/(Ja[1][0]-Ja[0][0]),gc/(Ja[1][1]-Ja[0][1]));ib=+la[0][0]+(ib-tc*(Ja[1][0]+Ja[0][0]))/2;Ja=+la[0][1]+(gc-tc*(Ja[1][1]+Ja[0][1]))/2;J.scale(150*tc).translate([ib,Ja])},ma)}function Ya(J,la,ma){return Z(J,function(Ja){var ib=
+la,gc=ib/(Ja[1][0]-Ja[0][0]);ib=(ib-gc*(Ja[1][0]+Ja[0][0]))/2;Ja=-gc*Ja[0][1];J.scale(150*gc).translate([ib,Ja])},ma)}function Kb(J,la,ma){return Z(J,function(Ja){var ib=+la,gc=ib/(Ja[1][1]-Ja[0][1]),tc=-gc*Ja[0][0];Ja=(ib-gc*(Ja[1][1]+Ja[0][1]))/2;J.scale(150*gc).translate([tc,Ja])},ma)}function xc(J){return Xa({point:function(la,ma){la=J(la,ma);this.stream.point(la[0],la[1])}})}function rc(J,la){function ma(Ja,ib,gc,tc,vc,Xb,Dc,yd,Yc,hd,Ad,Hd,Pc,Ee){var Ge=Dc-Ja,Ae=yd-ib,Be=Ge*Ge+Ae*Ae;if(Be>4*
la&&Pc--){var Id=tc+hd,he=vc+Ad,xe=Xb+Hd,Le=fb(Id*Id+he*he+xe*xe),of=Cb(xe/=Le),We=1E-6>Ed(Ed(xe)-1)||1E-6>Ed(gc-Yc)?(gc+Yc)/2:ae(he,Id),we=J(We,of);of=we[0];we=we[1];var vf=of-Ja,Of=we-ib,af=Ae*vf-Ge*Of;if(af*af/Be>la||.3<Ed((Ge*vf+Ae*Of)/Be-.5)||tc*hd+vc*Ad+Xb*Hd<be)ma(Ja,ib,gc,tc,vc,Xb,of,we,We,Id/=Le,he/=Le,xe,Pc,Ee),Ee.point(of,we),ma(of,we,We,Id,he,xe,Dc,yd,Yc,hd,Ad,Hd,Pc,Ee)}}return function(Ja){function ib(of,We){of=J(of,We);Ja.point(of[0],of[1])}function gc(){Ae=NaN;Le.point=tc;Ja.lineStart()}
function tc(of,We){var we=Sb([of,We]);We=J(of,We);ma(Ae,Be,Ge,Id,he,xe,Ae=We[0],Be=We[1],Ge=of,Id=we[0],he=we[1],xe=we[2],16,Ja);Ja.point(Ae,Be)}function vc(){Le.point=ib;Ja.lineEnd()}function Xb(){gc();Le.point=Dc;Le.lineEnd=yd}function Dc(of,We){tc(Yc=of,We);hd=Ae;Ad=Be;Hd=Id;Pc=he;Ee=xe;Le.point=tc}function yd(){ma(Ae,Be,Ge,Id,he,xe,hd,Ad,Yc,Hd,Pc,Ee,16,Ja);Le.lineEnd=vc;vc()}var Yc,hd,Ad,Hd,Pc,Ee,Ge,Ae,Be,Id,he,xe,Le={point:ib,lineStart:gc,lineEnd:vc,polygonStart:function(){Ja.polygonStart();
Le.lineStart=Xb},polygonEnd:function(){Ja.polygonEnd();Le.lineStart=gc}};return Le}}function yc(J){return Xa({point:function(la,ma){la=J(la,ma);return this.stream.point(la[0],la[1])}})}function dd(J,la,ma,Ja,ib){function gc(tc,vc){tc*=Ja;vc*=ib;return[la+J*tc,ma-J*vc]}gc.invert=function(tc,vc){return[(tc-la)/J*Ja,(ma-vc)/J*ib]};return gc}function $b(J,la,ma,Ja,ib,gc){function tc(Hd,Pc){Hd*=Ja;Pc*=ib;return[Xb*Hd-Dc*Pc+la,ma-Dc*Hd-Xb*Pc]}if(!gc)return dd(J,la,ma,Ja,ib);var vc=Ud(gc);gc=na(gc);var Xb=
vc*J,Dc=gc*J,yd=vc/J,Yc=gc/J,hd=(gc*ma-vc*la)/J,Ad=(gc*la+vc*ma)/J;tc.invert=function(Hd,Pc){return[Ja*(yd*Hd-Yc*Pc+hd),ib*(Ad-Yc*Hd-yd*Pc)]};return tc}function Rc(J){return Pd(function(){return J})()}function Pd(J){function la(Vd){return Of(Vd[0]*Td,Vd[1]*Td)}function ma(Vd){return(Vd=Of.invert(Vd[0],Vd[1]))&&[Vd[0]*Qd,Vd[1]*Qd]}function Ja(){var Vd=$b(tc,0,0,Ee,Ge,Pc).apply(null,gc(Dc,yd));Vd=$b(tc,vc-Vd[0],Xb-Vd[1],Ee,Ge,Pc);Hd=pb(Yc,hd,Ad);vf=Lb(gc,Vd);Of=Lb(Hd,vf);Vd=vf;we=+We?rc(Vd,We):xc(Vd);
return ib()}function ib(){af=ag=null;return la}var gc,tc=150,vc=480,Xb=250,Dc=0,yd=0,Yc=0,hd=0,Ad=0,Hd,Pc=0,Ee=1,Ge=1,Ae=null,Be=mc,Id=null,he,xe,Le,of=Hc,We=.5,we,vf,Of,af,ag;la.stream=function(Vd){return af&&ag===Vd?af:af=ve(yc(Hd)(Be(we(of(ag=Vd)))))};la.preclip=function(Vd){return arguments.length?(Be=Vd,Ae=void 0,ib()):Be};la.postclip=function(Vd){return arguments.length?(of=Vd,Id=he=xe=Le=null,ib()):of};la.clipAngle=function(Vd){return arguments.length?(Be=+Vd?Ga(Ae=Vd*Td):(Ae=null,mc),ib()):
Ae*Qd};la.clipExtent=function(Vd){return arguments.length?(of=null==Vd?(Id=he=xe=Le=null,Hc):ca(Id=+Vd[0][0],he=+Vd[0][1],xe=+Vd[1][0],Le=+Vd[1][1]),ib()):null==Id?null:[[Id,he],[xe,Le]]};la.scale=function(Vd){return arguments.length?(tc=+Vd,Ja()):tc};la.translate=function(Vd){return arguments.length?(vc=+Vd[0],Xb=+Vd[1],Ja()):[vc,Xb]};la.center=function(Vd){return arguments.length?(Dc=Vd[0]%360*Td,yd=Vd[1]%360*Td,Ja()):[Dc*Qd,yd*Qd]};la.rotate=function(Vd){return arguments.length?(Yc=Vd[0]%360*Td,
hd=Vd[1]%360*Td,Ad=2<Vd.length?Vd[2]%360*Td:0,Ja()):[Yc*Qd,hd*Qd,Ad*Qd]};la.angle=function(Vd){return arguments.length?(Pc=Vd%360*Td,Ja()):Pc*Qd};la.reflectX=function(Vd){return arguments.length?(Ee=Vd?-1:1,Ja()):0>Ee};la.reflectY=function(Vd){return arguments.length?(Ge=Vd?-1:1,Ja()):0>Ge};la.precision=function(Vd){if(arguments.length){var hf=vf;var jf=We=Vd*Vd;hf=(we=+jf?rc(hf,jf):xc(hf),ib())}else hf=fb(We);return hf};la.fitExtent=function(Vd,hf){return Ca(la,Vd,hf)};la.fitSize=function(Vd,hf){return Ca(la,
[[0,0],Vd],hf)};la.fitWidth=function(Vd,hf){return Ya(la,Vd,hf)};la.fitHeight=function(Vd,hf){return Kb(la,Vd,hf)};return function(){gc=J.apply(this,arguments);la.invert=gc.invert&&ma;return Ja()}}function Pa(J){var la=0,ma=kc/3,Ja=Pd(J);J=Ja(la,ma);J.parallels=function(ib){return arguments.length?Ja(la=ib[0]*Td,ma=ib[1]*Td):[la*Qd,ma*Qd]};return J}function Wb(J){function la(Ja,ib){return[Ja*ma,na(ib)/ma]}var ma=Ud(J);la.invert=function(Ja,ib){return[Ja/ma,Cb(ib*ma)]};return la}function sb(J,la){function ma(vc,
Xb){Xb=fb(gc-2*ib*na(Xb))/ib;return[Xb*na(vc*=ib),tc-Xb*Ud(vc)]}var Ja=na(J),ib=(Ja+na(la))/2;if(1E-6>Ed(ib))return Wb(J);var gc=1+Ja*(2*ib-Ja),tc=fb(gc)/ib;ma.invert=function(vc,Xb){Xb=tc-Xb;var Dc=ae(vc,Ed(Xb))*Aa(Xb);0>Xb*ib&&(Dc-=kc*Aa(vc)*Aa(Xb));return[Dc/ib,Cb((gc-(vc*vc+Xb*Xb)*ib*ib)/(2*ib))]};return ma}function Tb(){return Pa(sb).scale(155.424).center([0,33.6442])}function ic(){return Tb().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function dc(J){var la=
J.length;return{point:function(ma,Ja){for(var ib=-1;++ib<la;)J[ib].point(ma,Ja)},sphere:function(){for(var ma=-1;++ma<la;)J[ma].sphere()},lineStart:function(){for(var ma=-1;++ma<la;)J[ma].lineStart()},lineEnd:function(){for(var ma=-1;++ma<la;)J[ma].lineEnd()},polygonStart:function(){for(var ma=-1;++ma<la;)J[ma].polygonStart()},polygonEnd:function(){for(var ma=-1;++ma<la;)J[ma].polygonEnd()}}}function Ic(J){return function(la,ma){var Ja=Ud(la),ib=Ud(ma);Ja=J(Ja*ib);return Infinity===Ja?[2,0]:[Ja*ib*
na(la),Ja*na(ma)]}}function Ac(J){return function(la,ma){var Ja=fb(la*la+ma*ma),ib=J(Ja),gc=na(ib);ib=Ud(ib);return[ae(la*gc,Ja*ib),Cb(Ja&&ma*gc/Ja)]}}function Zc(J,la){return[J,Wd(Jb((Sc+la)/2))]}function Nd(J){function la(){var Yc=kc*ib(),hd=ma(kb(ma.rotate()).invert([0,0]));return tc(null==vc?[[hd[0]-Yc,hd[1]-Yc],[hd[0]+Yc,hd[1]+Yc]]:J===Zc?[[Math.max(hd[0]-Yc,vc),Xb],[Math.min(hd[0]+Yc,Dc),yd]]:[[vc,Math.max(hd[1]-Yc,Xb)],[Dc,Math.min(hd[1]+Yc,yd)]])}var ma=Rc(J),Ja=ma.center,ib=ma.scale,gc=ma.translate,
tc=ma.clipExtent,vc=null,Xb,Dc,yd;ma.scale=function(Yc){return arguments.length?(ib(Yc),la()):ib()};ma.translate=function(Yc){return arguments.length?(gc(Yc),la()):gc()};ma.center=function(Yc){return arguments.length?(Ja(Yc),la()):Ja()};ma.clipExtent=function(Yc){return arguments.length?(null==Yc?vc=Xb=Dc=yd=null:(vc=+Yc[0][0],Xb=+Yc[0][1],Dc=+Yc[1][0],yd=+Yc[1][1]),la()):null==vc?null:[[vc,Xb],[Dc,yd]]};return la()}function ud(J,la){function ma(tc,vc){0<gc?vc<-Sc+1E-6&&(vc=-Sc+1E-6):vc>Sc-1E-6&&
(vc=Sc-1E-6);vc=gc/P(Jb((Sc+vc)/2),ib);return[vc*na(ib*tc),gc-vc*Ud(ib*tc)]}var Ja=Ud(J),ib=J===la?na(J):Wd(Ja/Ud(la))/Wd(Jb((Sc+la)/2)/Jb((Sc+J)/2)),gc=Ja*P(Jb((Sc+J)/2),ib)/ib;if(!ib)return Zc;ma.invert=function(tc,vc){vc=gc-vc;var Xb=Aa(ib)*fb(tc*tc+vc*vc),Dc=ae(tc,Ed(vc))*Aa(vc);0>vc*ib&&(Dc-=kc*Aa(tc)*Aa(vc));return[Dc/ib,2*Yd(P(gc/Xb,1/ib))-Sc]};return ma}function Ha(J,la){return[J,la]}function gb(J,la){function ma(tc,vc){vc=gc-vc;tc*=ib;return[vc*na(tc),gc-vc*Ud(tc)]}var Ja=Ud(J),ib=J===la?
na(J):(Ja-Ud(la))/(la-J),gc=Ja/ib+J;if(1E-6>Ed(ib))return Ha;ma.invert=function(tc,vc){vc=gc-vc;var Xb=ae(tc,Ed(vc))*Aa(vc);0>vc*ib&&(Xb-=kc*Aa(tc)*Aa(vc));return[Xb/ib,gc-Aa(ib)*fb(tc*tc+vc*vc)]};return ma}function wb(J,la){la=Cb(sf*na(la));var ma=la*la,Ja=ma*ma*ma;return[J*Ud(la)/(sf*(1.340264+3*-.081106*ma+Ja*(7*8.93E-4+.034164*ma))),la*(1.340264+-.081106*ma+Ja*(8.93E-4+.003796*ma))]}function ua(J,la){var ma=Ud(la),Ja=Ud(J)*ma;return[ma*na(J)/Ja,na(la)/Ja]}function H(J,la){var ma=la*la,Ja=ma*ma;
return[J*(.8707-.131979*ma+Ja*(-.013791+Ja*(.003971*ma-.001529*Ja))),la*(1.007226+ma*(.015085+Ja*(-.044475+.028874*ma-.005916*Ja)))]}function za(J,la){return[Ud(la)*na(J),na(la)]}function Qa(J,la){var ma=Ud(la),Ja=1+Ud(J)*ma;return[ma*na(J)/Ja,na(la)/Ja]}function $a(J,la){return[Wd(Jb((Sc+la)/2)),-J]}function lb(J){return 1<J?Jd:-1>J?-Jd:Math.asin(J)}function Gb(J,la){return function Ja(){const ib=la();ib.type=J;ib.path=La().projection(ib);ib.copy=ib.copy||function(){const gc=Ja();Q.forEach(tc=>{if(ib[tc])gc[tc](ib[tc]())});
gc.path.pointRadius(ib.path.pointRadius());return gc};return l.registerScale(ib)}}function oc(J,la){if(!J||"string"!==typeof J)throw Error("Projection type must be a name string.");J=J.toLowerCase();return 1<arguments.length?(ea[J]=Gb(J,la),this):ea[J]||null}class ec{constructor(){this._partials=new Float64Array(32);this._n=0}add(J){const la=this._partials;let ma=0;for(let Ja=0;Ja<this._n&&32>Ja;Ja++){const ib=la[Ja],gc=J+ib;(J=Math.abs(J)<Math.abs(ib)?J-(gc-ib):ib-(gc-J))&&(la[ma++]=J);J=gc}la[ma]=
J;this._n=ma+1;return this}valueOf(){const J=this._partials;let la=this._n;let ma,Ja=0;if(0<la){for(Ja=J[--la];0<la;){var ib=Ja;ma=J[--la];Ja=ib+ma;if(ib=ma-(Ja-ib))break}0<la&&(0>ib&&0>J[la-1]||0<ib&&0<J[la-1])&&(ma=2*ib,ib=Ja+ma,ma==ib-Ja&&(Ja=ib))}return Ja}}var kc=Math.PI,Sc=kc/2,ed=kc/4,fd=2*kc,Qd=180/kc,Td=kc/180,Ed=Math.abs,Yd=Math.atan,ae=Math.atan2,Ud=Math.cos,Ye=Math.exp,Wd=Math.log,P=Math.pow,na=Math.sin,Aa=Math.sign||function(J){return 0<J?1:0>J?-1:0},fb=Math.sqrt,Jb=Math.tan,Zb={Feature:function(J,
la){sc(J.geometry,la)},FeatureCollection:function(J,la){J=J.features;for(var ma=-1,Ja=J.length;++ma<Ja;)sc(J[ma].geometry,la)}},Cc={Sphere:function(J,la){la.sphere()},Point:function(J,la){J=J.coordinates;la.point(J[0],J[1],J[2])},MultiPoint:function(J,la){for(var ma=J.coordinates,Ja=-1,ib=ma.length;++Ja<ib;)J=ma[Ja],la.point(J[0],J[1],J[2])},LineString:function(J,la){zc(J.coordinates,la,0)},MultiLineString:function(J,la){J=J.coordinates;for(var ma=-1,Ja=J.length;++ma<Ja;)zc(J[ma],la,0)},Polygon:function(J,
la){pc(J.coordinates,la)},MultiPolygon:function(J,la){J=J.coordinates;for(var ma=-1,Ja=J.length;++ma<Ja;)pc(J[ma],la)},GeometryCollection:function(J,la){J=J.geometries;for(var ma=-1,Ja=J.length;++ma<Ja;)sc(J[ma],la)}};Wa.invert=Wa;var mc=ra(function(){return!0},function(J){var la=NaN,ma=NaN,Ja=NaN,ib;return{lineStart:function(){J.lineStart();ib=1},point:function(gc,tc){var vc=0<gc?kc:-kc,Xb=Ed(gc-la);if(1E-6>Ed(Xb-kc))J.point(la,ma=0<(ma+tc)/2?Sc:-Sc),J.point(Ja,ma),J.lineEnd(),J.lineStart(),J.point(vc,
ma),J.point(gc,ma),ib=0;else if(Ja!==vc&&Xb>=kc){1E-6>Ed(la-Ja)&&(la-=1E-6*Ja);1E-6>Ed(gc-vc)&&(gc-=1E-6*vc);Xb=la;var Dc=ma,yd=gc,Yc,hd,Ad=na(Xb-yd);ma=1E-6<Ed(Ad)?Yd((na(Dc)*(hd=Ud(tc))*na(yd)-na(tc)*(Yc=Ud(Dc))*na(Xb))/(Yc*hd*Ad)):(Dc+tc)/2;J.point(Ja,ma);J.lineEnd();J.lineStart();J.point(vc,ma);ib=0}J.point(la=gc,ma=tc);Ja=vc},lineEnd:function(){J.lineEnd();la=ma=NaN},clean:function(){return 2-ib}}},function(J,la,ma,Ja){null==J?(ma*=Sc,Ja.point(-kc,ma),Ja.point(0,ma),Ja.point(kc,ma),Ja.point(kc,
0),Ja.point(kc,-ma),Ja.point(0,-ma),Ja.point(-kc,-ma),Ja.point(-kc,0),Ja.point(-kc,ma)):1E-6<Ed(J[0]-la[0])?(J=J[0]<la[0]?kc:-kc,ma=ma*J/2,Ja.point(-J,ma),Ja.point(0,ma),Ja.point(J,ma)):Ja.point(la[0],la[1])},[-kc,-Sc]),Hc=J=>J,jd=new ec,Nc=new ec,vd,Gd,Fd,Xd,Od={point:Yb,lineStart:Yb,lineEnd:Yb,polygonStart:function(){Od.lineStart=pa;Od.lineEnd=S},polygonEnd:function(){Od.lineStart=Od.lineEnd=Od.point=Yb;jd.add(Ed(Nc));Nc=new ec},result:function(){var J=jd/2;jd=new ec;return J}},qe=Od,De=Infinity,
gf=De,df=-De,ef=df,pe={point:function(J,la){J<De&&(De=J);J>df&&(df=J);la<gf&&(gf=la);la>ef&&(ef=la)},lineStart:Yb,lineEnd:Yb,polygonStart:Yb,polygonEnd:Yb,result:function(){var J=[[De,gf],[df,ef]];df=ef=-(gf=De=Infinity);return J}},nf=0,W=0,wa=0,db=0,yb=0,hc=0,Ec=0,ac=0,L=0,fa,Sa,cc,Jc,Bc={point:g,lineStart:z,lineEnd:h,polygonStart:function(){Bc.lineStart=p;Bc.lineEnd=r},polygonEnd:function(){Bc.point=g;Bc.lineStart=z;Bc.lineEnd=h},result:function(){var J=L?[Ec/L,ac/L]:hc?[db/hc,yb/hc]:wa?[nf/wa,
W/wa]:[NaN,NaN];nf=W=wa=db=yb=hc=Ec=ac=L=0;return J}},$c=Bc;aa.prototype={_radius:4.5,pointRadius:function(J){return this._radius=J,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(J,la){switch(this._point){case 0:this._context.moveTo(J,la);this._point=1;break;case 1:this._context.lineTo(J,la);break;default:this._context.moveTo(J+this._radius,
la),this._context.arc(J,la,this._radius,0,fd)}},result:Yb};var pd=new ec,ee,Ra,eb,qc,wd,Mc={point:Yb,lineStart:function(){Mc.point=O},lineEnd:function(){ee&&u(Ra,eb);Mc.point=Yb},polygonStart:function(){ee=!0},polygonEnd:function(){ee=null},result:function(){var J=+pd;pd=new ec;return J}},Uc=Mc;let Qc,td,kd,Ld;class Cd{constructor(J){this._append=null==J?I:va(J);this._radius=4.5;this._=""}pointRadius(J){this._radius=+J;return this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=
0}lineEnd(){0===this._line&&(this._+="Z");this._point=NaN}point(J,la){switch(this._point){case 0:this._append`M${J},${la}`;this._point=1;break;case 1:this._append`L${J},${la}`;break;default:this._append`M${J},${la}`;if(this._radius!==kd||this._append!==td)J=this._radius,la=this._,this._="",this._append`m0,${J}a${J},${J} 0 1,1 0,${-2*J}a${J},${J} 0 1,1 0,${2*J}z`,kd=J,td=this._append,Ld=this._,this._=la;this._+=Ld}}result(){const J=this._;this._="";return J.length?J:null}}ab.prototype={constructor:ab,
point:function(J,la){this.stream.point(J,la)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var be=Ud(30*Td),ve=Xa({point:function(J,la){this.stream.point(J*Td,la*Td)}}),Me=Ic(function(J){return fb(2/(1+J))});Me.invert=Ac(function(J){return 2*Cb(J/2)});var $e=Ic(function(J){return(J=hb(J))&&J/na(J)});$e.invert=Ac(function(J){return J});
Zc.invert=function(J,la){return[J,2*Yd(Ye(la))-Sc]};Ha.invert=Ha;var sf=fb(3)/2;wb.invert=function(J,la){for(var ma=la,Ja=ma*ma,ib=Ja*Ja*Ja,gc=0,tc;12>gc&&!(tc=ma*(1.340264+-.081106*Ja+ib*(8.93E-4+.003796*Ja))-la,Ja=1.340264+3*-.081106*Ja+ib*(7*8.93E-4+.034164*Ja),ma-=tc/=Ja,Ja=ma*ma,ib=Ja*Ja*Ja,1E-12>Ed(tc));++gc);return[sf*J*(1.340264+3*-.081106*Ja+ib*(7*8.93E-4+.034164*Ja))/Ud(ma),Cb(na(ma)/sf)]};ua.invert=Ac(Yd);H.invert=function(J,la){var ma=la,Ja=25;do{var ib=ma*ma;var gc=ib*ib;ma-=gc=(ma*(1.007226+
ib*(.015085+gc*(-.044475+.028874*ib-.005916*gc)))-la)/(1.007226+ib*(.045255+gc*(-.311325+.259866*ib-.005916*11*gc)))}while(1E-6<Ed(gc)&&0<--Ja);return[J/(.8707+(ib=ma*ma)*(-.131979+ib*(-.013791+ib*ib*ib*(.003971-.001529*ib)))),ma]};za.invert=Ac(Cb);Qa.invert=Ac(function(J){return 2*Yd(J)});$a.invert=function(J,la){return[-la,2*Yd(Ye(J))-Sc]};var nd=Math.abs,Fc=Math.cos,bd=Math.sin,Gc=Math.PI,Jd=Gc/2,Zd=Math.sqrt(2),$d=function(J,la,ma){function Ja(ib,gc){var tc=gc,vc=ma*bd(tc),Xb=30,Dc;do tc-=Dc=
(tc+bd(tc)-vc)/(1+Fc(tc));while(1E-6<nd(Dc)&&0<--Xb);return[J*ib*Fc(gc=tc/2),la*bd(gc)]}Ja.invert=function(ib,gc){return gc=lb(gc/la),[ib/(J*Fc(gc)),lb((2*gc+bd(2*gc))/ma)]};return Ja}(Zd/Jd,Zd,Gc);const ke=La(),Q="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),ea={albers:ic,albersusa:function(){function J(hd){var Ad=hd[0];hd=hd[1];return yd=null,(gc.point(Ad,hd),yd)||(vc.point(Ad,
hd),yd)||(Dc.point(Ad,hd),yd)}function la(){ma=Ja=null;return J}var ma,Ja,ib=ic(),gc,tc=Tb().rotate([154,0]).center([-2,58.5]).parallels([55,65]),vc,Xb=Tb().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Dc,yd,Yc={point:function(hd,Ad){yd=[hd,Ad]}};J.invert=function(hd){var Ad=ib.scale(),Hd=ib.translate(),Pc=(hd[0]-Hd[0])/Ad;Ad=(hd[1]-Hd[1])/Ad;return(.12<=Ad&&.234>Ad&&-.425<=Pc&&-.214>Pc?tc:.166<=Ad&&.234>Ad&&-.214<=Pc&&-.115>Pc?Xb:ib).invert(hd)};J.stream=function(hd){return ma&&Ja===hd?ma:
ma=dc([ib.stream(Ja=hd),tc.stream(hd),Xb.stream(hd)])};J.precision=function(hd){if(!arguments.length)return ib.precision();ib.precision(hd);tc.precision(hd);Xb.precision(hd);return la()};J.scale=function(hd){if(!arguments.length)return ib.scale();ib.scale(hd);tc.scale(.35*hd);Xb.scale(hd);return J.translate(ib.translate())};J.translate=function(hd){if(!arguments.length)return ib.translate();var Ad=ib.scale(),Hd=+hd[0],Pc=+hd[1];gc=ib.translate(hd).clipExtent([[Hd-.455*Ad,Pc-.238*Ad],[Hd+.455*Ad,Pc+
.238*Ad]]).stream(Yc);vc=tc.translate([Hd-.307*Ad,Pc+.201*Ad]).clipExtent([[Hd-.425*Ad+1E-6,Pc+.12*Ad+1E-6],[Hd-.214*Ad-1E-6,Pc+.234*Ad-1E-6]]).stream(Yc);Dc=Xb.translate([Hd-.205*Ad,Pc+.212*Ad]).clipExtent([[Hd-.214*Ad+1E-6,Pc+.166*Ad+1E-6],[Hd-.115*Ad-1E-6,Pc+.234*Ad-1E-6]]).stream(Yc);return la()};J.fitExtent=function(hd,Ad){return Ca(J,hd,Ad)};J.fitSize=function(hd,Ad){return Ca(J,[[0,0],hd],Ad)};J.fitWidth=function(hd,Ad){return Ya(J,hd,Ad)};J.fitHeight=function(hd,Ad){return Kb(J,hd,Ad)};return J.scale(1070)},
azimuthalequalarea:function(){return Rc(Me).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return Rc($e).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return Pa(ud).scale(109.5).parallels([30,30])},conicequalarea:Tb,conicequidistant:function(){return Pa(gb).scale(131.154).center([0,13.9389])},equalEarth:function(){return Rc(wb).scale(177.158)},equirectangular:function(){return Rc(Ha).scale(152.63)},gnomonic:function(){return Rc(ua).scale(144.049).clipAngle(60)},identity:function(){function J(){Hd=
ma*gc;Pc=ma*tc;Ae=Be=null;return la}function la(Id){var he=Id[0]*Hd;Id=Id[1]*Pc;if(vc){var xe=Id*Xb-he*Dc;he=he*Xb+Id*Dc;Id=xe}return[he+Ja,Id+ib]}var ma=1,Ja=0,ib=0,gc=1,tc=1,vc=0,Xb,Dc,yd=null,Yc,hd,Ad,Hd=1,Pc=1,Ee=Xa({point:function(Id,he){Id=la([Id,he]);this.stream.point(Id[0],Id[1])}}),Ge=Hc,Ae,Be;la.invert=function(Id){var he=Id[0]-Ja;Id=Id[1]-ib;if(vc){var xe=Id*Xb+he*Dc;he=he*Xb-Id*Dc;Id=xe}return[he/Hd,Id/Pc]};la.stream=function(Id){return Ae&&Be===Id?Ae:Ae=Ee(Ge(Be=Id))};la.postclip=function(Id){return arguments.length?
(Ge=Id,yd=Yc=hd=Ad=null,J()):Ge};la.clipExtent=function(Id){return arguments.length?(Ge=null==Id?(yd=Yc=hd=Ad=null,Hc):ca(yd=+Id[0][0],Yc=+Id[0][1],hd=+Id[1][0],Ad=+Id[1][1]),J()):null==yd?null:[[yd,Yc],[hd,Ad]]};la.scale=function(Id){return arguments.length?(ma=+Id,J()):ma};la.translate=function(Id){return arguments.length?(Ja=+Id[0],ib=+Id[1],J()):[Ja,ib]};la.angle=function(Id){return arguments.length?(vc=Id%360*Td,Dc=na(vc),Xb=Ud(vc),J()):vc*Qd};la.reflectX=function(Id){return arguments.length?
(gc=Id?-1:1,J()):0>gc};la.reflectY=function(Id){return arguments.length?(tc=Id?-1:1,J()):0>tc};la.fitExtent=function(Id,he){return Ca(la,Id,he)};la.fitSize=function(Id,he){return Ca(la,[[0,0],Id],he)};la.fitWidth=function(Id,he){return Ya(la,Id,he)};la.fitHeight=function(Id,he){return Kb(la,Id,he)};return la},mercator:function(){return Nd(Zc).scale(961/fd)},mollweide:function(){return Rc($d).scale(169.529)},naturalEarth1:function(){return Rc(H).scale(175.295)},orthographic:function(){return Rc(za).scale(249.5).clipAngle(90.000001)},
stereographic:function(){return Rc(Qa).scale(250).clipAngle(142)},transversemercator:function(){var J=Nd($a),la=J.center,ma=J.rotate;J.center=function(Ja){return arguments.length?la([-Ja[1],Ja[0]]):(Ja=la(),[Ja[1],-Ja[0]])};J.rotate=function(Ja){return arguments.length?ma([Ja[0],Ja[1],2<Ja.length?Ja[2]+90:90]):(Ja=ma(),[Ja[0],Ja[1],Ja[2]-90])};return ma([0,0,90]).scale(159.155)}};for(const J in ea)oc(J,ea[J]);t.getProjectionPath=function(J){return J&&J.path||ke};t.projection=oc;t.projectionProperties=
Q})};
shadow$provide[37]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(28),Eb(20),Eb(29),Eb(36),Eb(31)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util vega-statistics vega-projection vega-canvas".split(" "),l):(t="undefined"!==typeof globalThis?globalThis:t||self,l((t.vega=t.vega||{},t.vega.transforms={}),t.vega,t.vega,t.vega,t.vega,t.vega))})(this,function(t,l,R,hb,Cb,Yb){function sc(H,za,Qa){var $a=(za-H)/Math.max(0,Qa),lb=Math.floor(Math.log10($a));
$a/=Math.pow(10,lb);$a=$a>=Pd?10:$a>=Pa?5:$a>=Wb?2:1;let Gb;0>lb?(Gb=Math.pow(10,-lb)/$a,lb=Math.round(H*Gb),$a=Math.round(za*Gb),lb/Gb<H&&++lb,$a/Gb>za&&--$a,Gb=-Gb):(Gb=Math.pow(10,lb)*$a,lb=Math.round(H/Gb),$a=Math.round(za/Gb),lb*Gb<H&&++lb,$a*Gb>za&&--$a);return $a<lb&&.5<=Qa&&2>Qa?sc(H,za,2*Qa):[lb,$a,Gb]}function zc(H,za,Qa){return sc(+H,+za,+Qa)[2]}function pc(H,za){let Qa;if(void 0===za)for(var $a of H)null!=$a&&(Qa<$a||void 0===Qa&&$a>=$a)&&(Qa=$a);else{$a=-1;for(let lb of H)null!=(lb=za(lb,
++$a,H))&&(Qa<lb||void 0===Qa&&lb>=lb)&&(Qa=lb)}return Qa}function Ab(H,za,Qa){H=+H;za=+za;Qa=2>(lb=arguments.length)?(za=H,H=0,1):3>lb?1:+Qa;for(var $a=-1,lb=Math.max(0,Math.ceil((za-H)/Qa))|0,Gb=Array(lb);++$a<lb;)Gb[$a]=H+$a*Qa;return Gb}function jc(H,za){let Qa=0;if(void 0===za)for(var $a of H){if($a=+$a)Qa+=$a}else{$a=-1;for(let lb of H)if(lb=+za(lb,++$a,H))Qa+=lb}return Qa}function Sb(){}function Ua(){function H(ec,kc){return kc.map(Sc=>za(ec,Sc))}function za(ec,kc){var Sc=[],ed=[];Qa(ec,kc,
fd=>{oc(fd,ec,kc);for(var Qd=0,Td=fd.length,Ed=fd[Td-1][1]*fd[0][0]-fd[Td-1][0]*fd[0][1];++Qd<Td;)Ed+=fd[Qd-1][1]*fd[Qd][0]-fd[Qd-1][0]*fd[Qd][1];0<Ed?Sc.push([fd]):ed.push(fd)});ed.forEach(fd=>{for(var Qd=0,Td=Sc.length,Ed;Qd<Td;++Qd){a:{var Yd=(Ed=Sc[Qd])[0];for(var ae=fd,Ud=-1,Ye=ae.length;++Ud<Ye;){b:{var Wd=Yd;for(var P=ae[Ud],na=P[0],Aa=P[1],fb=-1,Jb=0,Zb=Wd.length,Cc=Zb-1;Jb<Zb;Cc=Jb++){var mc=Wd[Jb],Hc=mc[0],jd=mc[1],Nc=Wd[Cc];Cc=Nc[0];var vd=Nc[1],Gd,Fd=mc;mc=Nc;Nc=P;if(Gd=(mc[0]-Fd[0])*
(Nc[1]-Fd[1])===(Nc[0]-Fd[0])*(mc[1]-Fd[1]))Fd=Fd[Gd=+(Fd[0]===mc[0])],Nc=Nc[Gd],mc=mc[Gd],Gd=Fd<=Nc&&Nc<=mc||mc<=Nc&&Nc<=Fd;if(Gd){Wd=0;break b}jd>Aa!==vd>Aa&&na<(Cc-Hc)*(Aa-jd)/(vd-jd)+Hc&&(fb=-fb)}Wd=fb}if(Wd){Yd=Wd;break a}}Yd=0}if(-1!==Yd){Ed.push(fd);break}}});return{type:"MultiPolygon",value:kc,coordinates:Sc}}function Qa(ec,kc,Sc){function ed(Wd){var P=[Wd[0][0]+Ed,Wd[0][1]+Td];Wd=[Wd[1][0]+Ed,Wd[1][1]+Td];var na=2*P[0]+P[1]*(lb+1)*4,Aa=2*Wd[0]+Wd[1]*(lb+1)*4,fb,Jb;(fb=Qd[na])?(Jb=fd[Aa])?
(delete Qd[fb.end],delete fd[Jb.start],fb===Jb?(fb.ring.push(Wd),Sc(fb.ring)):fd[fb.start]=Qd[Jb.end]={start:fb.start,end:Jb.end,ring:fb.ring.concat(Jb.ring)}):(delete Qd[fb.end],fb.ring.push(Wd),Qd[fb.end=Aa]=fb):(fb=fd[Aa])?(Jb=Qd[na])?(delete fd[fb.start],delete Qd[Jb.end],fb===Jb?(fb.ring.push(Wd),Sc(fb.ring)):fd[Jb.start]=Qd[fb.end]={start:Jb.start,end:fb.end,ring:Jb.ring.concat(fb.ring)}):(delete fd[fb.start],fb.ring.unshift(P),fd[fb.start=na]=fb):fd[na]=Qd[Aa]={start:na,end:Aa,ring:[P,Wd]}}
var fd=[],Qd=[],Td;var Ed=Td=-1;var Yd=ec[0]>=kc;for(sb[Yd<<1].forEach(ed);++Ed<lb-1;){var ae=Yd;Yd=ec[Ed+1]>=kc;sb[ae|Yd<<1].forEach(ed)}for(sb[Yd<<0].forEach(ed);++Td<Gb-1;){Ed=-1;Yd=ec[Td*lb+lb]>=kc;var Ud=ec[Td*lb]>=kc;for(sb[Yd<<1|Ud<<2].forEach(ed);++Ed<lb-1;){ae=Yd;Yd=ec[Td*lb+lb+Ed+1]>=kc;var Ye=Ud;Ud=ec[Td*lb+Ed+1]>=kc;sb[ae|Yd<<1|Ud<<2|Ye<<3].forEach(ed)}sb[Yd|Ud<<3].forEach(ed)}Ed=-1;Ud=ec[Td*lb]>=kc;for(sb[Ud<<2].forEach(ed);++Ed<lb-1;)Ye=Ud,Ud=ec[Td*lb+Ed+1]>=kc,sb[Ud<<2|Ye<<3].forEach(ed);
sb[Ud<<3].forEach(ed)}function $a(ec,kc,Sc){ec.forEach(ed=>{var fd=ed[0],Qd=ed[1],Td=fd|0,Ed=Qd|0,Yd=kc[Ed*lb+Td];if(0<fd&&fd<lb&&Td===fd){var ae=kc[Ed*lb+Td-1];ed[0]=fd+(Sc-ae)/(Yd-ae)-.5}0<Qd&&Qd<Gb&&Ed===Qd&&(ae=kc[(Ed-1)*lb+Td],ed[1]=Qd+(Sc-ae)/(Yd-ae)-.5)})}var lb=1,Gb=1,oc=$a;H.contour=za;H.size=function(ec){if(!arguments.length)return[lb,Gb];var kc=Math.floor(ec[0]),Sc=Math.floor(ec[1]);0<=kc&&0<=Sc||R.error("invalid size");return lb=kc,Gb=Sc,H};H.smooth=function(ec){return arguments.length?
(oc=ec?$a:Sb,H):oc===$a};return H}function rb(H,za,Qa){return function($a){var lb=R.extent($a);$a=Qa?Math.min(lb[0],0):lb[0];lb=lb[1];var Gb=lb-$a;if(za){var oc=H;var ec=+lb;var kc=+$a;oc=+oc;kc=(Gb=ec<kc)?zc(ec,kc,oc):zc(kc,ec,oc);Gb=(Gb?-1:1)*(0>kc?1/-kc:kc)}else Gb/=H+1;return Ab($a+Gb,lb,Gb)}}function Fb(H){l.Transform.call(this,null,H)}function Hb(H,za,Qa){const $a=rb(Qa.levels||10,Qa.nice,!1!==Qa.zero);return"shared"!==Qa.resolve?$a:$a(H.map(lb=>pc(za(lb).values)))}function Bb(H,za,Qa,$a){var lb=
$a.scale||za.scale;let Gb=$a.translate||za.translate;R.isFunction(lb)&&(lb=lb(Qa,$a));R.isFunction(Gb)&&(Gb=Gb(Qa,$a));if(1!==lb&&null!=lb||Gb)Qa=(R.isNumber(lb)?lb:lb[0])||1,lb=(R.isNumber(lb)?lb:lb[1])||1,H.forEach(Lb(za,Qa,lb,Gb&&Gb[0]||0,Gb&&Gb[1]||0))}function Lb(H,za,Qa,$a,lb){function Gb(fd){fd.forEach(oc)}function oc(fd){ed&&fd.reverse();fd.forEach(ec)}function ec(fd){fd[0]=(fd[0]-kc)*za+$a;fd[1]=(fd[1]-Sc)*Qa+lb}const kc=H.x1||0,Sc=H.y1||0,ed=0>za*Qa;return function(fd){fd.coordinates.forEach(Gb);
return fd}}function Wa(H,za,Qa){H=0<=H?H:hb.bandwidthNRD(za,Qa);return Math.round((Math.sqrt(4*H*H+1)-1)/2)}function pb(H){return R.isFunction(H)?H:R.constant(+H)}function Na(){function H(kc,Sc){const ed=Wa(lb[0],kc,za)>>ec,fd=Wa(lb[1],kc,Qa)>>ec,Qd=ed?ed+2:0,Td=fd?fd+2:0,Ed=2*Qd+(Gb>>ec),Yd=2*Td+(oc>>ec),ae=new Float32Array(Ed*Yd),Ud=new Float32Array(Ed*Yd);let Ye=ae;kc.forEach(Wd=>{const P=Qd+(+za(Wd)>>ec),na=Td+(+Qa(Wd)>>ec);0<=P&&P<Ed&&0<=na&&na<Yd&&(ae[P+na*Ed]+=+$a(Wd))});0<ed&&0<fd?(Da(Ed,
Yd,ae,Ud,ed),Ia(Ed,Yd,Ud,ae,fd),Da(Ed,Yd,ae,Ud,ed),Ia(Ed,Yd,Ud,ae,fd),Da(Ed,Yd,ae,Ud,ed),Ia(Ed,Yd,Ud,ae,fd)):0<ed?(Da(Ed,Yd,ae,Ud,ed),Da(Ed,Yd,Ud,ae,ed),Da(Ed,Yd,ae,Ud,ed),Ye=Ud):0<fd&&(Ia(Ed,Yd,ae,Ud,fd),Ia(Ed,Yd,Ud,ae,fd),Ia(Ed,Yd,ae,Ud,fd),Ye=Ud);kc=Sc?Math.pow(2,-2*ec):1/jc(Ye);for(let Wd=0,P=Ed*Yd;Wd<P;++Wd)Ye[Wd]*=kc;return{values:Ye,scale:1<<ec,width:Ed,height:Yd,x1:Qd,y1:Td,x2:Qd+(Gb>>ec),y2:Td+(oc>>ec)}}var za=kc=>kc[0],Qa=kc=>kc[1],$a=R.one,lb=[-1,-1],Gb=960,oc=500,ec=2;H.x=function(kc){return arguments.length?
(za=pb(kc),H):za};H.y=function(kc){return arguments.length?(Qa=pb(kc),H):Qa};H.weight=function(kc){return arguments.length?($a=pb(kc),H):$a};H.size=function(kc){if(!arguments.length)return[Gb,oc];var Sc=+kc[0],ed=+kc[1];0<=Sc&&0<=ed||R.error("invalid size");return Gb=Sc,oc=ed,H};H.cellSize=function(kc){if(!arguments.length)return 1<<ec;1<=(kc=+kc)||R.error("invalid cell size");ec=Math.floor(Math.log(kc)/Math.LN2);return H};H.bandwidth=function(kc){if(!arguments.length)return lb;kc=R.array(kc);1===
kc.length&&(kc=[+kc[0],+kc[0]]);2!==kc.length&&R.error("invalid bandwidth");return lb=kc,H};return H}function Da(H,za,Qa,$a,lb){const Gb=(lb<<1)+1;for(let oc=0;oc<za;++oc)for(let ec=0,kc=0;ec<H+lb;++ec)ec<H&&(kc+=Qa[ec+oc*H]),ec>=lb&&(ec>=Gb&&(kc-=Qa[ec-Gb+oc*H]),$a[ec-lb+oc*H]=kc/Math.min(ec+1,H-1+Gb-ec,Gb))}function Ia(H,za,Qa,$a,lb){const Gb=(lb<<1)+1;for(let oc=0;oc<H;++oc)for(let ec=0,kc=0;ec<za+lb;++ec)ec<za&&(kc+=Qa[oc+ec*H]),ec>=lb&&(ec>=Gb&&(kc-=Qa[oc+(ec-Gb)*H]),$a[oc+(ec-lb)*H]=kc/Math.min(ec+
1,za-1+Gb-ec,Gb))}function kb(H){l.Transform.call(this,null,H)}function mb(H,za){Tb.forEach(Qa=>null!=za[Qa]?H[Qa](za[Qa]):0);return H}function Ma(H,za){var Qa=[],$a=ed=>ed(ec),lb;if(null==za)Qa.push(H);else{var Gb={};var oc=0;for(lb=H.length;oc<lb;++oc){var ec=H[oc];var kc=za.map($a);var Sc=Gb[kc];Sc||(Gb[kc]=Sc=[],Sc.dims=kc,Qa.push(Sc));Sc.push(ec)}}return Qa}function vb(H){l.Transform.call(this,null,H)}function qb(H){l.Transform.call(this,null,H)}function Ob(H){l.Transform.call(this,null,H)}function Vb(H,
za){const Qa=H.pointRadius();H.context(null);null!=za&&H.pointRadius(za);return Qa}function ob(H){l.Transform.call(this,null,H)}function ra(H){l.Transform.call(this,null,H)}function Y(H,za,Qa){const $a=null==Qa?lb=>H(za(lb)):lb=>{var Gb=H.pointRadius();lb=H.pointRadius(Qa)(za(lb));H.pointRadius(Gb);return lb};$a.context=lb=>{H.context(lb);return $a};return $a}function Ea(H,za,Qa){var $a=Ab(H,za-1E-6,Qa).concat(za);return function(lb){return $a.map(function(Gb){return[lb,Gb]})}}function Ga(H,za,Qa){var $a=
Ab(H,za-1E-6,Qa).concat(za);return function(lb){return $a.map(function(Gb){return[Gb,lb]})}}function cb(){function H(){return{type:"MultiLineString",coordinates:za()}}function za(){return Ab(dc(Gb/Qd)*Qd,lb,Qd).map(ae).concat(Ab(dc(Sc/Td)*Td,kc,Td).map(Ud)).concat(Ab(dc($a/ed)*ed,Qa,ed).filter(function(Wd){return 1E-6<ic(Wd%Qd)}).map(Ed)).concat(Ab(dc(ec/fd)*fd,oc,fd).filter(function(Wd){return 1E-6<ic(Wd%Td)}).map(Yd))}var Qa,$a,lb,Gb,oc,ec,kc,Sc,ed=10,fd=ed,Qd=90,Td=360,Ed,Yd,ae,Ud,Ye=2.5;H.lines=
function(){return za().map(function(Wd){return{type:"LineString",coordinates:Wd}})};H.outline=function(){return{type:"Polygon",coordinates:[ae(Gb).concat(Ud(kc).slice(1),ae(lb).reverse().slice(1),Ud(Sc).reverse().slice(1))]}};H.extent=function(Wd){return arguments.length?H.extentMajor(Wd).extentMinor(Wd):H.extentMinor()};H.extentMajor=function(Wd){if(!arguments.length)return[[Gb,Sc],[lb,kc]];Gb=+Wd[0][0];lb=+Wd[1][0];Sc=+Wd[0][1];kc=+Wd[1][1];Gb>lb&&(Wd=Gb,Gb=lb,lb=Wd);Sc>kc&&(Wd=Sc,Sc=kc,kc=Wd);
return H.precision(Ye)};H.extentMinor=function(Wd){if(!arguments.length)return[[$a,ec],[Qa,oc]];$a=+Wd[0][0];Qa=+Wd[1][0];ec=+Wd[0][1];oc=+Wd[1][1];$a>Qa&&(Wd=$a,$a=Qa,Qa=Wd);ec>oc&&(Wd=ec,ec=oc,oc=Wd);return H.precision(Ye)};H.step=function(Wd){return arguments.length?H.stepMajor(Wd).stepMinor(Wd):H.stepMinor()};H.stepMajor=function(Wd){if(!arguments.length)return[Qd,Td];Qd=+Wd[0];Td=+Wd[1];return H};H.stepMinor=function(Wd){if(!arguments.length)return[ed,fd];ed=+Wd[0];fd=+Wd[1];return H};H.precision=
function(Wd){if(!arguments.length)return Ye;Ye=+Wd;Ed=Ea(ec,oc,90);Yd=Ga($a,Qa,Ye);ae=Ea(Sc,kc,90);Ud=Ga(Gb,lb,Ye);return H};return H.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function ca(H){l.Transform.call(this,[],H);this.generator=cb()}function pa(H,za,Qa){H.prototype=za.prototype=Qa;Qa.constructor=H}function x(H,za){H=Object.create(H.prototype);for(var Qa in za)H[Qa]=za[Qa];return H}function N(){}function S(){return this.rgb().formatHex()}
function g(){return this.rgb().formatRgb()}function z(H){var za,Qa;H=(H+"").trim().toLowerCase();return(za=Ac.exec(H))?(Qa=za[1].length,za=parseInt(za[1],16),6===Qa?m(za):3===Qa?new p(za>>8&15|za>>4&240,za>>4&15|za&240,(za&15)<<4|za&15,1):8===Qa?E(za>>24&255,za>>16&255,za>>8&255,(za&255)/255):4===Qa?E(za>>12&15|za>>8&240,za>>8&15|za>>4&240,za>>4&15|za&240,((za&15)<<4|za&15)/255):null):(za=Zc.exec(H))?new p(za[1],za[2],za[3],1):(za=Nd.exec(H))?new p(255*za[1]/100,255*za[2]/100,255*za[3]/100,1):(za=
ud.exec(H))?E(za[1],za[2],za[3],za[4]):(za=Ha.exec(H))?E(255*za[1]/100,255*za[2]/100,255*za[3]/100,za[4]):(za=gb.exec(H))?u(za[1],za[2]/100,za[3]/100,1):(za=wb.exec(H))?u(za[1],za[2]/100,za[3]/100,za[4]):ua.hasOwnProperty(H)?m(ua[H]):"transparent"===H?new p(NaN,NaN,NaN,0):null}function m(H){return new p(H>>16&255,H>>8&255,H&255,1)}function E(H,za,Qa,$a){0>=$a&&(H=za=Qa=NaN);return new p(H,za,Qa,$a)}function h(H,za,Qa,$a){if(1===arguments.length){var lb=H;lb instanceof N||(lb=z(lb));lb?(lb=lb.rgb(),
lb=new p(lb.r,lb.g,lb.b,lb.opacity)):lb=new p}else lb=new p(H,za,Qa,null==$a?1:$a);return lb}function p(H,za,Qa,$a){this.r=+H;this.g=+za;this.b=+Qa;this.opacity=+$a}function r(){return`#${O(this.r)}${O(this.g)}${O(this.b)}`}function v(){const H=F(this.opacity);return`${1===H?"rgb(":"rgba("}${aa(this.r)}, ${aa(this.g)}, ${aa(this.b)}${1===H?")":`, ${H})`}`}function F(H){return isNaN(H)?1:Math.max(0,Math.min(1,H))}function aa(H){return Math.max(0,Math.min(255,Math.round(H)||0))}function O(H){H=aa(H);
return(16>H?"0":"")+H.toString(16)}function u(H,za,Qa,$a){0>=$a?H=za=Qa=NaN:0>=Qa||1<=Qa?H=za=NaN:0>=za&&(H=NaN);return new va(H,za,Qa,$a)}function I(H){if(H instanceof va)return new va(H.h,H.s,H.l,H.opacity);H instanceof N||(H=z(H));if(!H)return new va;if(H instanceof va)return H;H=H.rgb();var za=H.r/255,Qa=H.g/255,$a=H.b/255,lb=Math.min(za,Qa,$a),Gb=Math.max(za,Qa,$a),oc=NaN,ec=Gb-lb,kc=(Gb+lb)/2;ec?(oc=za===Gb?(Qa-$a)/ec+6*(Qa<$a):Qa===Gb?($a-za)/ec+2:(za-Qa)/ec+4,ec/=.5>kc?Gb+lb:2-Gb-lb,oc*=60):
ec=0<kc&&1>kc?0:oc;return new va(oc,ec,kc,H.opacity)}function va(H,za,Qa,$a){this.h=+H;this.s=+za;this.l=+Qa;this.opacity=+$a}function La(H){H=(H||0)%360;return 0>H?H+360:H}function Xa(H){return Math.max(0,Math.min(1,H||0))}function ab(H,za,Qa){return 255*(60>H?za+(Qa-za)*H/60:180>H?Qa:240>H?za+(Qa-za)*(240-H)/60:za)}function Z(H){l.Transform.call(this,null,H)}function Ca(H,za){let Qa;R.isFunction(H)?(Qa=$a=>h(H($a,za)),Qa.dep=Kb(H)):Qa=R.constant(h(H||"#888"));return Qa}function Ya(H,za){let Qa;
R.isFunction(H)?(Qa=$a=>H($a,za),Qa.dep=Kb(H)):H?Qa=R.constant(H):(Qa=$a=>$a.$value/$a.$max||0,Qa.dep=!0);return Qa}function Kb(H){if(!R.isFunction(H))return!1;H=R.toSet(R.accessorFields(H));return H.$x||H.$y||H.$value||H.$max}function xc(H,za,Qa,$a){const lb=H.width;var Gb=H.height;const oc=H.x1||0,ec=H.y1||0,kc=H.x2||lb;Gb=H.y2||Gb;const Sc=H.values;H=Sc?Ed=>Sc[Ed]:R.zero;const ed=Yb.canvas(kc-oc,Gb-ec),fd=ed.getContext("2d"),Qd=fd.getImageData(0,0,kc-oc,Gb-ec),Td=Qd.data;for(let Ed=ec,Yd=0;Ed<
Gb;++Ed){za.$y=Ed-ec;for(let ae=oc,Ud=Ed*lb;ae<kc;++ae,Yd+=4){za.$x=ae-oc;za.$value=H(ae+Ud);const Ye=Qa(za);Td[Yd+0]=Ye.r;Td[Yd+1]=Ye.g;Td[Yd+2]=Ye.b;Td[Yd+3]=~~(255*$a(za))}}fd.putImageData(Qd,0,0);return ed}function rc(H){l.Transform.call(this,null,H);this.modified(!0)}function yc(H,za){const Qa=$b(za.fit);za.extent?H.fitExtent(za.extent,Qa):za.size?H.fitSize(za.size,Qa):0}function dd(H){const za=Cb.projection((H||"mercator").toLowerCase());za||R.error("Unrecognized projection type: "+H);return za()}
function $b(H){H=R.array(H);return 1===H.length?H[0]:{type:"FeatureCollection",features:H.reduce((za,Qa)=>za.concat(Rc(Qa)),[])}}function Rc(H){return"FeatureCollection"===H.type?H.features:R.array(H).filter(za=>null!=za).map(za=>"Feature"===za.type?za:{type:"Feature",geometry:za})}const Pd=Math.sqrt(50),Pa=Math.sqrt(10),Wb=Math.sqrt(2),sb=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,
1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];Fb.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",type:"boolean",
"default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};R.inherits(Fb,l.Transform,{transform(H,za){if(this.value&&!za.changed()&&!H.modified())return za.StopPropagation;var Qa=za.fork(za.NO_SOURCE|za.NO_FIELDS);za=za.materialize(za.SOURCE).source;var $a=H.field||R.identity,lb=Ua().smooth(!1!==H.smooth),Gb=H.thresholds||Hb(za,$a,H),oc=null===H.as?null:H.as||"contour",ec=[];za.forEach(kc=>{const Sc=
$a(kc),ed=lb.size([Sc.width,Sc.height])(Sc.values,R.isArray(Gb)?Gb:Gb(Sc.values));Bb(ed,Sc,kc,H);ed.forEach(fd=>{ec.push(l.rederive(kc,l.ingest(null!=oc?{[oc]:fd}:fd)))})});this.value&&(Qa.rem=this.value);this.value=Qa.source=Qa.add=ec;return Qa}});kb.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},
{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const Tb="x y weight size cellSize bandwidth".split(" ");R.inherits(kb,l.Transform,{transform(H,za){if(this.value&&!za.changed()&&!H.modified())return za.StopPropagation;var Qa=za.fork(za.NO_SOURCE|za.NO_FIELDS);za=za.materialize(za.SOURCE).source;za=Ma(za,H.groupby);var $a=(H.groupby||[]).map(R.accessorName),lb=mb(Na(),H),Gb=H.as||
"grid",oc=[];oc=za.map(ec=>{var kc=l.ingest,Sc={[Gb]:lb(ec,H.counts)};ec=ec.dims;for(let ed=0;ed<$a.length;++ed)Sc[$a[ed]]=ec[ed];return kc.call(l,Sc)});this.value&&(Qa.rem=this.value);this.value=Qa.source=Qa.add=oc;return Qa}});vb.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",
type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};R.inherits(vb,l.Transform,{transform(H,za){if(this.value&&!za.changed()&&!H.modified())return za.StopPropagation;var Qa=za.fork(za.NO_SOURCE|za.NO_FIELDS),$a=Ua().smooth(!1!==H.smooth),lb=H.values,Gb=H.thresholds||rb(H.count||10,H.nice,!!lb),oc=H.size;if(!lb){lb=za.materialize(za.SOURCE).source;H=mb(Na(),H)(lb,!0);var ec=Lb(H,
H.scale||1,H.scale||1,0,0);oc=[H.width,H.height];lb=H.values}Gb=R.isArray(Gb)?Gb:Gb(lb);lb=$a.size(oc)(lb,Gb);ec&&lb.forEach(ec);this.value&&(Qa.rem=this.value);this.value=Qa.source=Qa.add=(lb||[]).map(l.ingest);return Qa}});qb.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};R.inherits(qb,l.Transform,{transform(H,za){var Qa=this._features,$a=this._points,lb=H.fields,Gb=lb&&lb[0],oc=lb&&lb[1],ec=H.geojson||!lb&&R.identity;
lb=za.ADD;H=H.modified()||za.changed(za.REM)||za.modified(R.accessorFields(ec))||Gb&&za.modified(R.accessorFields(Gb))||oc&&za.modified(R.accessorFields(oc));if(!this.value||H)lb=za.SOURCE,this._features=Qa=[],this._points=$a=[];ec&&za.visit(lb,kc=>Qa.push(ec(kc)));Gb&&oc&&(za.visit(lb,kc=>{var Sc=Gb(kc);kc=oc(kc);null!=Sc&&null!=kc&&(Sc=+Sc)===Sc&&(kc=+kc)===kc&&$a.push([Sc,kc])}),Qa=Qa.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:$a}}));this.value={type:"FeatureCollection",features:Qa}}});
Ob.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};R.inherits(Ob,l.Transform,{transform(H,za){var Qa=za.fork(za.ALL),$a=this.value,lb=H.field||R.identity,Gb=H.as||"path",oc=Qa.SOURCE;!$a||H.modified()?(this.value=$a=Cb.getProjectionPath(H.projection),Qa.materialize().reflow()):oc=lb===R.identity||za.modified(lb.fields)?Qa.ADD_MOD:Qa.ADD;
H=Vb($a,H.pointRadius);Qa.visit(oc,ec=>ec[Gb]=$a(lb(ec)));$a.pointRadius(H);return Qa.modifies(Gb)}});ob.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};R.inherits(ob,l.Transform,{transform(H,za){function Qa(Sc){const ed=$a([lb(Sc),Gb(Sc)]);ed?(Sc[ec]=ed[0],Sc[kc]=ed[1]):(Sc[ec]=void 0,Sc[kc]=void 0)}var $a=H.projection,
lb=H.fields[0],Gb=H.fields[1],oc=H.as||["x","y"],ec=oc[0],kc=oc[1];H.modified()?za=za.materialize().reflow(!0).visit(za.SOURCE,Qa):(H=za.modified(lb.fields)||za.modified(Gb.fields),za.visit(H?za.ADD_MOD:za.ADD,Qa));return za.modifies(oc)}});ra.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};R.inherits(ra,l.Transform,
{transform(H,za){za=za.fork(za.ALL);var Qa=this.value,$a=H.as||"shape",lb=za.ADD;if(!Qa||H.modified())this.value=Qa=Y(Cb.getProjectionPath(H.projection),H.field||R.field("datum"),H.pointRadius),za.materialize().reflow(),lb=za.SOURCE;za.visit(lb,Gb=>Gb[$a]=Qa);return za.modifies($a)}});var ic=Math.abs,dc=Math.ceil;ca.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",
array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};R.inherits(ca,l.Transform,{transform(H,za){var Qa=this.value,$a=this.generator;if(!Qa.length||H.modified())for(const lb in H)if(R.isFunction($a[lb]))$a[lb](H[lb]);
H=$a();Qa.length?za.mod.push(l.replace(Qa[0],H)):za.add.push(l.ingest(H));Qa[0]=H;return za}});var Ic=1/.7,Ac=/^#([0-9a-f]{3,8})$/,Zc=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),Nd=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),ud=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
Ha=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),gb=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),wb=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
ua={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pa(N,z,{copy(H){return Object.assign(new this.constructor,this,H)},displayable(){return this.rgb().displayable()},hex:S,formatHex:S,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return I(this).formatHsl()},formatRgb:g,toString:g});pa(p,h,x(N,{brighter(H){H=null==H?Ic:Math.pow(Ic,H);return new p(this.r*H,this.g*H,this.b*H,this.opacity)},darker(H){H=
null==H?.7:Math.pow(.7,H);return new p(this.r*H,this.g*H,this.b*H,this.opacity)},rgb(){return this},clamp(){return new p(aa(this.r),aa(this.g),aa(this.b),F(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:r,formatHex:r,formatHex8:function(){return`#${O(this.r)}${O(this.g)}${O(this.b)}${O(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:v,toString:v}));pa(va,function(H,za,Qa,$a){return 1===
arguments.length?I(H):new va(H,za,Qa,null==$a?1:$a)},x(N,{brighter(H){H=null==H?Ic:Math.pow(Ic,H);return new va(this.h,this.s,this.l*H,this.opacity)},darker(H){H=null==H?.7:Math.pow(.7,H);return new va(this.h,this.s,this.l*H,this.opacity)},rgb(){var H=this.h%360+360*(0>this.h),za=isNaN(H)||isNaN(this.s)?0:this.s,Qa=this.l;za=Qa+(.5>Qa?Qa:1-Qa)*za;Qa=2*Qa-za;return new p(ab(240<=H?H-240:H+120,Qa,za),ab(H,Qa,za),ab(120>H?H+240:H-120,Qa,za),this.opacity)},clamp(){return new va(La(this.h),Xa(this.s),
Xa(this.l),F(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const H=F(this.opacity);return`${1===H?"hsl(":"hsla("}${La(this.h)}, ${100*Xa(this.s)}%, ${100*Xa(this.l)}%${1===H?")":`, ${H})`}`}}));Z.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],
"default":"independent"},{name:"as",type:"string","default":"image"}]};R.inherits(Z,l.Transform,{transform(H,za){if(!za.changed()&&!H.modified())return za.StopPropagation;var Qa=za.materialize(za.SOURCE).source,$a="shared"===H.resolve,lb=H.field||R.identity,Gb=Ya(H.opacity,H),oc=Ca(H.color,H),ec=H.as||"image",kc={$x:0,$y:0,$value:0,$max:$a?pc(Qa.map(Sc=>pc(lb(Sc).values))):0};Qa.forEach(Sc=>{const ed=lb(Sc),fd=R.extend({},Sc,kc);$a||(fd.$max=pc(ed.values||[]));Sc[ec]=xc(ed,fd,oc.dep?oc:R.constant(oc(fd)),
Gb.dep?Gb:R.constant(Gb(fd)))});return za.reflow(!0).modifies(ec)}});R.inherits(rc,l.Transform,{transform(H,za){let Qa=this.value;!Qa||H.modified("type")?(this.value=Qa=dd(H.type),Cb.projectionProperties.forEach($a=>{if(null!=H[$a]){var lb=Qa,Gb=H[$a];if(R.isFunction(lb[$a]))lb[$a](Gb)}})):Cb.projectionProperties.forEach($a=>{if(H.modified($a)){var lb=Qa,Gb=H[$a];if(R.isFunction(lb[$a]))lb[$a](Gb)}});null!=H.pointRadius&&Qa.path.pointRadius(H.pointRadius);H.fit&&yc(Qa,H);return za.fork(za.NO_SOURCE|
za.NO_FIELDS)}});t.contour=vb;t.geojson=qb;t.geopath=Ob;t.geopoint=ob;t.geoshape=ra;t.graticule=ca;t.heatmap=Z;t.isocontour=Fb;t.kde2d=kb;t.projection=rc})};
shadow$provide[38]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(28),Eb(20)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l((t.vega=t.vega||{},t.vega.transforms={}),t.vega,t.vega))})(this,function(t,l,R){function hb(O,u,I,va){if(isNaN(u)||isNaN(I))return O;var La,Xa=O._root;va={data:va};var ab=O._x0,Z=O._y0,Ca=O._x1,Ya=O._y1,Kb,xc,rc,yc,dd;if(!Xa)return O._root=
va,O;for(;Xa.length;)if((rc=u>=(Kb=(ab+Ca)/2))?ab=Kb:Ca=Kb,(yc=I>=(xc=(Z+Ya)/2))?Z=xc:Ya=xc,La=Xa,!(Xa=Xa[dd=yc<<1|rc]))return La[dd]=va,O;var $b=+O._x.call(null,Xa.data);var Rc=+O._y.call(null,Xa.data);if(u===$b&&I===Rc)return va.next=Xa,La?La[dd]=va:O._root=va,O;do La=La?La[dd]=Array(4):O._root=Array(4),(rc=u>=(Kb=(ab+Ca)/2))?ab=Kb:Ca=Kb,(yc=I>=(xc=(Z+Ya)/2))?Z=xc:Ya=xc;while((dd=yc<<1|rc)===(rc=(Rc>=xc)<<1|$b>=Kb));return La[rc]=Xa,La[dd]=va,O}function Cb(O,u,I,va,La){this.node=O;this.x0=u;this.y0=
I;this.x1=va;this.y1=La}function Yb(O){return O[0]}function sc(O){return O[1]}function zc(O,u,I){u=new pc(null==u?Yb:u,null==I?sc:I,NaN,NaN,NaN,NaN);return null==O?u:u.addAll(O)}function pc(O,u,I,va,La,Xa){this._x=O;this._y=u;this._x0=I;this._y0=va;this._x1=La;this._y1=Xa;this._root=void 0}function Ab(O){for(var u={data:O.data},I=u;O=O.next;)I=I.next={data:O.data};return u}function jc(O){return function(){return O}}function Sb(O){return O.x+O.vx}function Ua(O){return O.y+O.vy}function rb(O){return O.index}
function Fb(O,u){O=O.get(u);if(!O)throw Error("node not found: "+u);return O}function Hb(){for(var O=0,u=arguments.length,I={},va;O<u;++O){if(!(va=arguments[O]+"")||va in I||/[\s.]/.test(va))throw Error("illegal type: "+va);I[va]=[]}return new Bb(I)}function Bb(O){this._=O}function Lb(O,u){return O.trim().split(/^|\s+/).map(function(I){var va="",La=I.indexOf(".");0<=La&&(va=I.slice(La+1),I=I.slice(0,La));if(I&&!u.hasOwnProperty(I))throw Error("unknown type: "+I);return{type:I,name:va}})}function Wa(O,
u,I){for(var va=0,La=O.length;va<La;++va)if(O[va].name===u){O[va]=cb;O=O.slice(0,va).concat(O.slice(va+1));break}null!=I&&O.push({name:u,value:I});return O}function pb(){z=0}function Na(){this._call=this._time=this._next=null}function Da(O,u,I){var va=new Na;va.restart(O,u,I);return va}function Ia(){z=(g=E.now())+m;ca=pa=0;try{z||(h(pb),z=E.now()+m);++ca;for(var O=N,u;O;)0<=(u=z-O._time)&&O._call.call(void 0,u),O=O._next;--ca}finally{ca=0;O=N;for(var I=Infinity;O;)if(O._call){I>O._time&&(I=O._time);
var va=O;O=O._next}else u=O._next,O._next=null,O=va?va._next=u:N=u;S=va;mb(I);z=0}}function kb(){var O=E.now(),u=O-g;1E3<u&&(m-=u,g=O)}function mb(O){ca||(pa&&(pa=clearTimeout(pa)),24<O-z?(Infinity>O&&(pa=setTimeout(Ia,O-E.now()-m)),x&&(x=clearInterval(x))):(x||(g=E.now(),x=setInterval(kb,1E3)),ca=1,h(Ia)))}function Ma(){let O=1;return()=>(O=(1664525*O+1013904223)%4294967296)/4294967296}function vb(O){return O.x}function qb(O){return O.y}function Ob(O){function u(){I();yc.call("tick",Xa);ab<Z&&(rc.stop(),
yc.call("end",Xa))}function I($b){var Rc,Pd=O.length;void 0===$b&&($b=1);for(var Pa=0;Pa<$b;++Pa)for(ab+=(Ya-ab)*Ca,xc.forEach(function(sb){sb(ab)}),Rc=0;Rc<Pd;++Rc){var Wb=O[Rc];null==Wb.fx?Wb.x+=Wb.vx*=Kb:(Wb.x=Wb.fx,Wb.vx=0);null==Wb.fy?Wb.y+=Wb.vy*=Kb:(Wb.y=Wb.fy,Wb.vy=0)}return Xa}function va(){for(var $b=0,Rc=O.length,Pd;$b<Rc;++$b){Pd=O[$b];Pd.index=$b;null!=Pd.fx&&(Pd.x=Pd.fx);null!=Pd.fy&&(Pd.y=Pd.fy);if(isNaN(Pd.x)||isNaN(Pd.y)){var Pa=10*Math.sqrt(.5+$b),Wb=$b*p;Pd.x=Pa*Math.cos(Wb);Pd.y=
Pa*Math.sin(Wb)}if(isNaN(Pd.vx)||isNaN(Pd.vy))Pd.vx=Pd.vy=0}}function La($b){$b.initialize&&$b.initialize(O,dd);return $b}var Xa,ab=1,Z=.001,Ca=1-Math.pow(Z,1/300),Ya=0,Kb=.6,xc=new Map,rc=Da(u),yc=Hb("tick","end"),dd=Ma();null==O&&(O=[]);va();return Xa={tick:I,restart:function(){return rc.restart(u),Xa},stop:function(){return rc.stop(),Xa},nodes:function($b){return arguments.length?(O=$b,va(),xc.forEach(La),Xa):O},alpha:function($b){return arguments.length?(ab=+$b,Xa):ab},alphaMin:function($b){return arguments.length?
(Z=+$b,Xa):Z},alphaDecay:function($b){return arguments.length?(Ca=+$b,Xa):+Ca},alphaTarget:function($b){return arguments.length?(Ya=+$b,Xa):Ya},velocityDecay:function($b){return arguments.length?(Kb=1-$b,Xa):1-Kb},randomSource:function($b){return arguments.length?(dd=$b,xc.forEach(La),Xa):dd},force:function($b,Rc){return 1<arguments.length?(null==Rc?xc.delete($b):xc.set($b,La(Rc)),Xa):xc.get($b)},find:function($b,Rc,Pd){var Pa,Wb=O.length;Pd=null==Pd?Infinity:Pd*Pd;for(Pa=0;Pa<Wb;++Pa){var sb=O[Pa];
var Tb=$b-sb.x;var ic=Rc-sb.y;Tb=Tb*Tb+ic*ic;if(Tb<Pd){var dc=sb;Pd=Tb}}return dc},on:function($b,Rc){return 1<arguments.length?(yc.on($b,Rc),Xa):yc.on($b)}}}function Vb(O){l.Transform.call(this,null,O)}function ob(O,u){return()=>O.touch(u).run()}function ra(O,u){O=Ob(O);const I=O.stop,va=O.restart;let La=!1;O.stopped=()=>La;O.restart=()=>(La=!1,va());O.stop=()=>(La=!0,I());return Y(O,u,!0).on("end",()=>La=!0)}function Y(O,u,I,va){var La=R.array(u.forces),Xa;var ab=0;for(Xa=v.length;ab<Xa;++ab){var Z=
v[ab];if("forces"!==Z&&u.modified(Z))O[Z](u[Z])}ab=0;for(Xa=La.length;ab<Xa;++ab){var Ca="forces"+ab;if(I||u.modified("forces",ab)){Z=void 0;var Ya=La[ab];R.hasOwnProperty(r,Ya.force)||R.error("Unrecognized force: "+Ya.force);var Kb=r[Ya.force]();for(Z in Ya)R.isFunction(Kb[Z])&&Ea(Kb[Z],Ya[Z],Ya);Z=Kb}else{if(Z=va)a:{Kb=Z=void 0;Ya=La[ab];var xc=va;for(Kb in Ya)if(R.isFunction(Z=Ya[Kb])&&xc.modified(R.accessorFields(Z))){Z=1;break a}Z=0}Z=Z?O.force(Ca):null}Z&&O.force(Ca,Z)}for(Xa=O.numForces||0;ab<
Xa;++ab)O.force("forces"+ab,null);O.numForces=La.length;return O}function Ea(O,u,I){O(R.isFunction(u)?va=>u(va,I):u)}var Ga=zc.prototype=pc.prototype;Ga.copy=function(){var O=new pc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),u=this._root,I,va;if(!u)return O;if(!u.length)return O._root=Ab(u),O;for(I=[{source:u,target:O._root=Array(4)}];u=I.pop();)for(var La=0;4>La;++La)if(va=u.source[La])va.length?I.push({source:va,target:u.target[La]=Array(4)}):u.target[La]=Ab(va);return O};Ga.add=function(O){const u=
+this._x.call(null,O),I=+this._y.call(null,O);return hb(this.cover(u,I),u,I,O)};Ga.addAll=function(O){var u,I,va=O.length,La,Xa,ab=Array(va),Z=Array(va),Ca=Infinity,Ya=Infinity,Kb=-Infinity,xc=-Infinity;for(I=0;I<va;++I)isNaN(La=+this._x.call(null,u=O[I]))||isNaN(Xa=+this._y.call(null,u))||(ab[I]=La,Z[I]=Xa,La<Ca&&(Ca=La),La>Kb&&(Kb=La),Xa<Ya&&(Ya=Xa),Xa>xc&&(xc=Xa));if(Ca>Kb||Ya>xc)return this;this.cover(Ca,Ya).cover(Kb,xc);for(I=0;I<va;++I)hb(this,ab[I],Z[I],O[I]);return this};Ga.cover=function(O,
u){if(isNaN(O=+O)||isNaN(u=+u))return this;var I=this._x0,va=this._y0,La=this._x1,Xa=this._y1;if(isNaN(I))La=(I=Math.floor(O))+1,Xa=(va=Math.floor(u))+1;else{for(var ab=La-I||1,Z=this._root,Ca,Ya;I>O||O>=La||va>u||u>=Xa;)switch(Ya=(u<va)<<1|O<I,Ca=Array(4),Ca[Ya]=Z,Z=Ca,ab*=2,Ya){case 0:La=I+ab;Xa=va+ab;break;case 1:I=La-ab;Xa=va+ab;break;case 2:La=I+ab;va=Xa-ab;break;case 3:I=La-ab,va=Xa-ab}this._root&&this._root.length&&(this._root=Z)}this._x0=I;this._y0=va;this._x1=La;this._y1=Xa;return this};
Ga.data=function(){var O=[];this.visit(function(u){if(!u.length){do O.push(u.data);while(u=u.next)}});return O};Ga.extent=function(O){return arguments.length?this.cover(+O[0][0],+O[0][1]).cover(+O[1][0],+O[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};Ga.find=function(O,u,I){var va=this._x0,La=this._y0,Xa,ab,Z,Ca,Ya=this._x1,Kb=this._y1,xc=[],rc=this._root,yc;rc&&xc.push(new Cb(rc,va,La,Ya,Kb));null==I?I=Infinity:(va=O-I,La=u-I,Ya=O+I,Kb=u+I,I*=I);for(;yc=xc.pop();)if(!(!(rc=
yc.node)||(Xa=yc.x0)>Ya||(ab=yc.y0)>Kb||(Z=yc.x1)<va||(Ca=yc.y1)<La))if(rc.length){yc=(Xa+Z)/2;var dd=(ab+Ca)/2;xc.push(new Cb(rc[3],yc,dd,Z,Ca),new Cb(rc[2],Xa,dd,yc,Ca),new Cb(rc[1],yc,ab,Z,dd),new Cb(rc[0],Xa,ab,yc,dd));if(rc=(u>=dd)<<1|O>=yc)yc=xc[xc.length-1],xc[xc.length-1]=xc[xc.length-1-rc],xc[xc.length-1-rc]=yc}else if(yc=O-+this._x.call(null,rc.data),dd=u-+this._y.call(null,rc.data),yc=yc*yc+dd*dd,yc<I){var $b=Math.sqrt(I=yc);va=O-$b;La=u-$b;Ya=O+$b;Kb=u+$b;$b=rc.data}return $b};Ga.remove=
function(O){if(isNaN(Ca=+this._x.call(null,O))||isNaN(Ya=+this._y.call(null,O)))return this;var u,I=this._root,va,La=this._x0,Xa=this._y0,ab=this._x1,Z=this._y1,Ca,Ya,Kb,xc,rc,yc,dd;if(!I)return this;if(I.length)for(;;){(rc=Ca>=(Kb=(La+ab)/2))?La=Kb:ab=Kb;(yc=Ya>=(xc=(Xa+Z)/2))?Xa=xc:Z=xc;if(!(u=I,I=I[dd=yc<<1|rc]))return this;if(!I.length)break;if(u[dd+1&3]||u[dd+2&3]||u[dd+3&3]){var $b=u;var Rc=dd}}for(;I.data!==O;)if(!(va=I,I=I.next))return this;(O=I.next)&&delete I.next;if(va)return O?va.next=
O:delete va.next,this;if(!u)return this._root=O,this;O?u[dd]=O:delete u[dd];(I=u[0]||u[1]||u[2]||u[3])&&I===(u[3]||u[2]||u[1]||u[0])&&!I.length&&($b?$b[Rc]=I:this._root=I);return this};Ga.removeAll=function(O){for(var u=0,I=O.length;u<I;++u)this.remove(O[u]);return this};Ga.root=function(){return this._root};Ga.size=function(){var O=0;this.visit(function(u){if(!u.length){do++O;while(u=u.next)}});return O};Ga.visit=function(O){var u=[],I,va=this._root,La,Xa,ab,Z,Ca;for(va&&u.push(new Cb(va,this._x0,
this._y0,this._x1,this._y1));I=u.pop();)if(!O(va=I.node,Xa=I.x0,ab=I.y0,Z=I.x1,Ca=I.y1)&&va.length){I=(Xa+Z)/2;var Ya=(ab+Ca)/2;(La=va[3])&&u.push(new Cb(La,I,Ya,Z,Ca));(La=va[2])&&u.push(new Cb(La,Xa,Ya,I,Ca));(La=va[1])&&u.push(new Cb(La,I,ab,Z,Ya));(La=va[0])&&u.push(new Cb(La,Xa,ab,I,Ya))}return this};Ga.visitAfter=function(O){var u=[],I=[],va;for(this._root&&u.push(new Cb(this._root,this._x0,this._y0,this._x1,this._y1));va=u.pop();){var La=va.node;if(La.length){var Xa,ab=va.x0,Z=va.y0,Ca=va.x1,
Ya=va.y1,Kb=(ab+Ca)/2,xc=(Z+Ya)/2;(Xa=La[0])&&u.push(new Cb(Xa,ab,Z,Kb,xc));(Xa=La[1])&&u.push(new Cb(Xa,Kb,Z,Ca,xc));(Xa=La[2])&&u.push(new Cb(Xa,ab,xc,Kb,Ya));(Xa=La[3])&&u.push(new Cb(Xa,Kb,xc,Ca,Ya))}I.push(va)}for(;va=I.pop();)O(va.node,va.x0,va.y0,va.x1,va.y1);return this};Ga.x=function(O){return arguments.length?(this._x=O,this):this._x};Ga.y=function(O){return arguments.length?(this._y=O,this):this._y};var cb={value:()=>{}};Bb.prototype=Hb.prototype={constructor:Bb,on:function(O,u){var I=
this._,va=Lb(O+"",I),La,Xa=-1,ab=va.length;if(2>arguments.length)for(;++Xa<ab;){var Z;if(Z=La=(O=va[Xa]).type){a:{Z=I[La];for(var Ca=0,Ya=Z.length;Ca<Ya;++Ca)if((La=Z[Ca]).name===O.name){La=La.value;break a}La=void 0}Z=La}if(Z)return La}else{if(null!=u&&"function"!==typeof u)throw Error("invalid callback: "+u);for(;++Xa<ab;)if(La=(O=va[Xa]).type)I[La]=Wa(I[La],O.name,u);else if(null==u)for(La in I)I[La]=Wa(I[La],O.name,null);return this}},copy:function(){var O={},u=this._,I;for(I in u)O[I]=u[I].slice();
return new Bb(O)},call:function(O,u){if(0<(La=arguments.length-2))for(var I=Array(La),va=0,La,Xa;va<La;++va)I[va]=arguments[va+2];if(!this._.hasOwnProperty(O))throw Error("unknown type: "+O);Xa=this._[O];va=0;for(La=Xa.length;va<La;++va)Xa[va].value.apply(u,I)},apply:function(O,u,I){if(!this._.hasOwnProperty(O))throw Error("unknown type: "+O);O=this._[O];for(var va=0,La=O.length;va<La;++va)O[va].value.apply(u,I)}};var ca=0,pa=0,x=0,N,S,g=0,z=0,m=0,E="object"===typeof performance&&performance.now?
performance:Date,h="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(O){setTimeout(O,17)};Na.prototype=Da.prototype={constructor:Na,restart:function(O,u,I){if("function"!==typeof O)throw new TypeError("callback is not a function");I=(null==I?z||(h(pb),z=E.now()+m):+I)+(null==u?0:+u);this._next||S===this||(S?S._next=this:N=this,S=this);this._call=O;this._time=I;mb()},stop:function(){this._call&&(this._call=null,this._time=Infinity,mb())}};var p=
Math.PI*(3-Math.sqrt(5));const r={center:function(O,u){function I(){var Xa,ab=va.length,Z=0,Ca=0;for(Xa=0;Xa<ab;++Xa){var Ya=va[Xa];Z+=Ya.x;Ca+=Ya.y}Z=(Z/ab-O)*La;Ca=(Ca/ab-u)*La;for(Xa=0;Xa<ab;++Xa)Ya=va[Xa],Ya.x-=Z,Ya.y-=Ca}var va,La=1;null==O&&(O=0);null==u&&(u=0);I.initialize=function(Xa){va=Xa};I.x=function(Xa){return arguments.length?(O=+Xa,I):O};I.y=function(Xa){return arguments.length?(u=+Xa,I):u};I.strength=function(Xa){return arguments.length?(La=+Xa,I):La};return I},collide:function(O){function u(){function Ya(Wb,
sb,Tb,ic,dc){var Ic=Wb.data;Wb=Wb.r;var Ac=Rc+Wb;if(Ic)Ic.index>yc.index&&(sb=dd-Ic.x-Ic.vx,Tb=$b-Ic.y-Ic.vy,ic=sb*sb+Tb*Tb,ic<Ac*Ac&&(0===sb&&(sb=1E-6*(ab()-.5),ic+=sb*sb),0===Tb&&(Tb=1E-6*(ab()-.5),ic+=Tb*Tb),ic=(Ac-(ic=Math.sqrt(ic)))/ic*Z,yc.vx+=(sb*=ic)*(Ac=(Wb*=Wb)/(Pd+Wb)),yc.vy+=(Tb*=ic)*Ac,Ic.vx-=sb*(Ac=1-Ac),Ic.vy-=Tb*Ac));else return sb>dd+Ac||ic<dd-Ac||Tb>$b+Ac||dc<$b-Ac}for(var Kb,xc=La.length,rc,yc,dd,$b,Rc,Pd,Pa=0;Pa<Ca;++Pa)for(rc=zc(La,Sb,Ua).visitAfter(I),Kb=0;Kb<xc;++Kb)yc=La[Kb],
Rc=Xa[yc.index],Pd=Rc*Rc,dd=yc.x+yc.vx,$b=yc.y+yc.vy,rc.visit(Ya)}function I(Ya){if(Ya.data)return Ya.r=Xa[Ya.data.index];for(var Kb=Ya.r=0;4>Kb;++Kb)Ya[Kb]&&Ya[Kb].r>Ya.r&&(Ya.r=Ya[Kb].r)}function va(){if(La){var Ya,Kb=La.length;Xa=Array(Kb);for(Ya=0;Ya<Kb;++Ya){var xc=La[Ya];Xa[xc.index]=+O(xc,Ya,La)}}}var La,Xa,ab,Z=1,Ca=1;"function"!==typeof O&&(O=jc(null==O?1:+O));u.initialize=function(Ya,Kb){La=Ya;ab=Kb;va()};u.iterations=function(Ya){return arguments.length?(Ca=+Ya,u):Ca};u.strength=function(Ya){return arguments.length?
(Z=+Ya,u):Z};u.radius=function(Ya){return arguments.length?(O="function"===typeof Ya?Ya:jc(+Ya),va(),u):O};return u},nbody:function(){function O(yc){var dd=La.length,$b=zc(La,vb,qb).visitAfter(I);Z=yc;for(yc=0;yc<dd;++yc)Xa=La[yc],$b.visit(va)}function u(){if(La){var yc,dd=La.length;Ya=Array(dd);for(yc=0;yc<dd;++yc){var $b=La[yc];Ya[$b.index]=+Ca($b,yc,La)}}}function I(yc){var dd=0,$b,Rc,Pd=0,Pa,Wb,sb;if(yc.length){for(Pa=Wb=sb=0;4>sb;++sb)($b=yc[sb])&&(Rc=Math.abs($b.value))&&(dd+=$b.value,Pd+=Rc,
Pa+=Rc*$b.x,Wb+=Rc*$b.y);yc.x=Pa/Pd;yc.y=Wb/Pd}else{$b=yc;$b.x=$b.data.x;$b.y=$b.data.y;do dd+=Ya[$b.data.index];while($b=$b.next)}yc.value=dd}function va(yc,dd,$b,Rc){if(!yc.value)return!0;$b=yc.x-Xa.x;var Pd=yc.y-Xa.y;dd=Rc-dd;Rc=$b*$b+Pd*Pd;if(dd*dd/rc<Rc)return Rc<xc&&(0===$b&&($b=1E-6*(ab()-.5),Rc+=$b*$b),0===Pd&&(Pd=1E-6*(ab()-.5),Rc+=Pd*Pd),Rc<Kb&&(Rc=Math.sqrt(Kb*Rc)),Xa.vx+=$b*yc.value*Z/Rc,Xa.vy+=Pd*yc.value*Z/Rc),!0;if(!(yc.length||Rc>=xc)){if(yc.data!==Xa||yc.next)0===$b&&($b=1E-6*(ab()-
.5),Rc+=$b*$b),0===Pd&&(Pd=1E-6*(ab()-.5),Rc+=Pd*Pd),Rc<Kb&&(Rc=Math.sqrt(Kb*Rc));do yc.data!==Xa&&(dd=Ya[yc.data.index]*Z/Rc,Xa.vx+=$b*dd,Xa.vy+=Pd*dd);while(yc=yc.next)}}var La,Xa,ab,Z,Ca=jc(-30),Ya,Kb=1,xc=Infinity,rc=.81;O.initialize=function(yc,dd){La=yc;ab=dd;u()};O.strength=function(yc){return arguments.length?(Ca="function"===typeof yc?yc:jc(+yc),u(),O):Ca};O.distanceMin=function(yc){return arguments.length?(Kb=yc*yc,O):Math.sqrt(Kb)};O.distanceMax=function(yc){return arguments.length?(xc=
yc*yc,O):Math.sqrt(xc)};O.theta=function(yc){return arguments.length?(rc=yc*yc,O):Math.sqrt(rc)};return O},link:function(O){function u($b){for(var Rc=0,Pd=O.length;Rc<dd;++Rc)for(var Pa=0,Wb,sb,Tb,ic,dc;Pa<Pd;++Pa)Wb=O[Pa],sb=Wb.source,Wb=Wb.target,Tb=Wb.x+Wb.vx-sb.x-sb.vx||1E-6*(yc()-.5),ic=Wb.y+Wb.vy-sb.y-sb.vy||1E-6*(yc()-.5),dc=Math.sqrt(Tb*Tb+ic*ic),dc=(dc-Ya[Pa])/dc*$b*Z[Pa],Tb*=dc,ic*=dc,Wb.vx-=Tb*(dc=rc[Pa]),Wb.vy-=ic*dc,sb.vx+=Tb*(dc=1-dc),sb.vy+=ic*dc}function I(){if(Kb){var $b=Kb.length,
Rc=O.length,Pd=new Map(Kb.map((Wb,sb)=>[Xa(Wb,sb,Kb),Wb]));var Pa=0;for(xc=Array($b);Pa<Rc;++Pa)$b=O[Pa],$b.index=Pa,"object"!==typeof $b.source&&($b.source=Fb(Pd,$b.source)),"object"!==typeof $b.target&&($b.target=Fb(Pd,$b.target)),xc[$b.source.index]=(xc[$b.source.index]||0)+1,xc[$b.target.index]=(xc[$b.target.index]||0)+1;Pa=0;for(rc=Array(Rc);Pa<Rc;++Pa)$b=O[Pa],rc[Pa]=xc[$b.source.index]/(xc[$b.source.index]+xc[$b.target.index]);Z=Array(Rc);va();Ya=Array(Rc);La()}}function va(){if(Kb)for(var $b=
0,Rc=O.length;$b<Rc;++$b)Z[$b]=+ab(O[$b],$b,O)}function La(){if(Kb)for(var $b=0,Rc=O.length;$b<Rc;++$b)Ya[$b]=+Ca(O[$b],$b,O)}var Xa=rb,ab=function($b){return 1/Math.min(xc[$b.source.index],xc[$b.target.index])},Z,Ca=jc(30),Ya,Kb,xc,rc,yc,dd=1;null==O&&(O=[]);u.initialize=function($b,Rc){Kb=$b;yc=Rc;I()};u.links=function($b){return arguments.length?(O=$b,I(),u):O};u.id=function($b){return arguments.length?(Xa=$b,u):Xa};u.iterations=function($b){return arguments.length?(dd=+$b,u):dd};u.strength=function($b){return arguments.length?
(ab="function"===typeof $b?$b:jc(+$b),va(),u):ab};u.distance=function($b){return arguments.length?(Ca="function"===typeof $b?$b:jc(+$b),La(),u):Ca};return u},x:function(O){function u(Z){for(var Ca=0,Ya=La.length,Kb;Ca<Ya;++Ca)Kb=La[Ca],Kb.vx+=(ab[Ca]-Kb.x)*Xa[Ca]*Z}function I(){if(La){var Z,Ca=La.length;Xa=Array(Ca);ab=Array(Ca);for(Z=0;Z<Ca;++Z)Xa[Z]=isNaN(ab[Z]=+O(La[Z],Z,La))?0:+va(La[Z],Z,La)}}var va=jc(.1),La,Xa,ab;"function"!==typeof O&&(O=jc(null==O?0:+O));u.initialize=function(Z){La=Z;I()};
u.strength=function(Z){return arguments.length?(va="function"===typeof Z?Z:jc(+Z),I(),u):va};u.x=function(Z){return arguments.length?(O="function"===typeof Z?Z:jc(+Z),I(),u):O};return u},y:function(O){function u(Z){for(var Ca=0,Ya=La.length,Kb;Ca<Ya;++Ca)Kb=La[Ca],Kb.vy+=(ab[Ca]-Kb.y)*Xa[Ca]*Z}function I(){if(La){var Z,Ca=La.length;Xa=Array(Ca);ab=Array(Ca);for(Z=0;Z<Ca;++Z)Xa[Z]=isNaN(ab[Z]=+O(La[Z],Z,La))?0:+va(La[Z],Z,La)}}var va=jc(.1),La,Xa,ab;"function"!==typeof O&&(O=jc(null==O?0:+O));u.initialize=
function(Z){La=Z;I()};u.strength=function(Z){return arguments.length?(va="function"===typeof Z?Z:jc(+Z),I(),u):va};u.y=function(Z){return arguments.length?(O="function"===typeof Z?Z:jc(+Z),I(),u):O};return u}},v=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],F=["static","iterations"],aa=["x","y","vx","vy"];Vb.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number",
"default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},
{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30,expr:!0},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number","default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",
type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":aa}]};R.inherits(Vb,l.Transform,{transform(O,u){var I=this.value,va=u.changed(u.ADD_REM),La=O.modified(v),Xa=O.iterations||300;I?(va&&(u.modifies("index"),I.nodes(u.source)),(La||u.changed(u.MOD))&&Y(I,O,0,u)):(this.value=I=ra(u.source,O),I.on("tick",ob(u.dataflow,this)),O.static||(va=!0,I.tick()),u.modifies("index"));if(La||va||O.modified(F)||
u.changed()&&O.restart)if(I.alpha(Math.max(I.alpha(),O.alpha||1)).alphaDecay(1-Math.pow(I.alphaMin(),1/Xa)),O.static)for(I.stop();0<=--Xa;)I.tick();else if(I.stopped()&&I.restart(),!va)return u.StopPropagation;return this.finish(O,u)},finish(O,u){const I=u.dataflow;for(let Z=this._argops,Ca=0,Ya=Z.length,Kb;Ca<Ya;++Ca)if(Kb=Z[Ca],"forces"===Kb.name&&"link"===Kb.op._argval.force)for(var va=Kb.op._argops,La=0,Xa=va.length,ab;La<Xa;++La)if("links"===va[La].name&&(ab=va[La].op.source)){I.pulse(ab,I.changeset().reflow());
break}return u.reflow(O.modified()).modifies(aa)}});t.force=Vb})};
shadow$provide[39]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(28),Eb(20)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l(t.vega={},t.vega,t.vega))})(this,function(t,l,R){function hb(Pa,Wb,sb){const Tb={};Pa.each(ic=>{const dc=ic.data;sb(dc)&&(Tb[Wb(dc)]=ic)});Pa.lookup=Tb;return Pa}function Cb(Pa,Wb){return Pa.parent===Wb.parent?1:2}function Yb(Pa,Wb){return Pa+
Wb.x}function sc(Pa,Wb){return Math.max(Pa,Wb.y)}function zc(Pa){for(var Wb;Wb=Pa.children;)Pa=Wb[0];return Pa}function pc(Pa){for(var Wb;Wb=Pa.children;)Pa=Wb[Wb.length-1];return Pa}function Ab(Pa){var Wb=0,sb=Pa.children,Tb=sb&&sb.length;if(Tb)for(;0<=--Tb;)Wb+=sb[Tb].value;else Wb=1;Pa.value=Wb}function jc(Pa,Wb){Pa instanceof Map?(Pa=[void 0,Pa],void 0===Wb&&(Wb=Ua)):void 0===Wb&&(Wb=Sb);Pa=new Hb(Pa);for(var sb,Tb=[Pa],ic,dc,Ic,Ac;sb=Tb.pop();)if((dc=Wb(sb.data))&&(Ac=(dc=Array.from(dc)).length))for(sb.children=
dc,Ic=Ac-1;0<=Ic;--Ic)Tb.push(ic=dc[Ic]=new Hb(dc[Ic])),ic.parent=sb,ic.depth=sb.depth+1;return Pa.eachBefore(Fb)}function Sb(Pa){return Pa.children}function Ua(Pa){return Array.isArray(Pa)?Pa[1]:null}function rb(Pa){void 0!==Pa.data.value&&(Pa.value=Pa.data.value);Pa.data=Pa.data.data}function Fb(Pa){var Wb=0;do Pa.height=Wb;while((Pa=Pa.parent)&&Pa.height<++Wb)}function Hb(Pa){this.data=Pa;this.depth=this.height=0;this.parent=null}function Bb(Pa){if("function"!==typeof Pa)throw Error();return Pa}
function Lb(){return 0}function Wa(Pa){return function(){return Pa}}function pb(){let Pa=1;return()=>(Pa=(1664525*Pa+1013904223)%4294967296)/4294967296}function Na(Pa,Wb){var sb=Pa.r-Wb.r,Tb=Wb.x-Pa.x;Pa=Wb.y-Pa.y;return 0>sb||sb*sb<Tb*Tb+Pa*Pa}function Da(Pa,Wb){var sb=Pa.r-Wb.r+1E-9*Math.max(Pa.r,Wb.r,1),Tb=Wb.x-Pa.x;Pa=Wb.y-Pa.y;return 0<sb&&sb*sb>Tb*Tb+Pa*Pa}function Ia(Pa,Wb){for(var sb=0;sb<Wb.length;++sb)if(!Da(Pa,Wb[sb]))return!1;return!0}function kb(Pa,Wb){var sb=Pa.x,Tb=Pa.y;Pa=Pa.r;var ic=
Wb.x,dc=Wb.y;Wb=Wb.r;var Ic=ic-sb,Ac=dc-Tb,Zc=Wb-Pa,Nd=Math.sqrt(Ic*Ic+Ac*Ac);return{x:(sb+ic+Ic/Nd*Zc)/2,y:(Tb+dc+Ac/Nd*Zc)/2,r:(Nd+Pa+Wb)/2}}function mb(Pa,Wb,sb){var Tb=Pa.x,ic=Pa.y;Pa=Pa.r;var dc=Wb.x,Ic=Wb.y,Ac=Wb.r,Zc=sb.x,Nd=sb.y,ud=sb.r;sb=Tb-dc;Wb=Tb-Zc;var Ha=ic-Ic,gb=ic-Nd,wb=Ac-Pa,ua=ud-Pa,H=Tb*Tb+ic*ic-Pa*Pa;Ic=H-dc*dc-Ic*Ic+Ac*Ac;Nd=H-Zc*Zc-Nd*Nd+ud*ud;Zc=Wb*Ha-sb*gb;dc=(Ha*Nd-gb*Ic)/(2*Zc)-Tb;Ha=(gb*wb-Ha*ua)/Zc;gb=(Wb*Ic-sb*Nd)/(2*Zc)-ic;sb=(sb*ua-Wb*wb)/Zc;Wb=Ha*Ha+sb*sb-1;wb=2*(Pa+
dc*Ha+gb*sb);Pa=dc*dc+gb*gb-Pa*Pa;Pa=-(1E-6<Math.abs(Wb)?(wb+Math.sqrt(wb*wb-4*Wb*Pa))/(2*Wb):Pa/wb);return{x:Tb+dc+Ha*Pa,y:ic+gb+sb*Pa,r:Pa}}function Ma(Pa,Wb,sb){var Tb=Pa.x-Wb.x,ic=Pa.y-Wb.y,dc=Tb*Tb+ic*ic;if(dc){var Ic=Wb.r+sb.r;Ic*=Ic;var Ac=Pa.r+sb.r;Ac*=Ac;if(Ic>Ac){var Zc=(dc+Ac-Ic)/(2*dc);Ic=Math.sqrt(Math.max(0,Ac/dc-Zc*Zc));sb.x=Pa.x-Zc*Tb-Ic*ic;sb.y=Pa.y-Zc*ic+Ic*Tb}else Zc=(dc+Ic-Ac)/(2*dc),Ic=Math.sqrt(Math.max(0,Ic/dc-Zc*Zc)),sb.x=Wb.x+Zc*Tb-Ic*ic,sb.y=Wb.y+Zc*ic+Ic*Tb}else sb.x=Wb.x+
sb.r,sb.y=Wb.y}function vb(Pa,Wb){var sb=Pa.r+Wb.r-1E-6,Tb=Wb.x-Pa.x;Pa=Wb.y-Pa.y;return 0<sb&&sb*sb>Tb*Tb+Pa*Pa}function qb(Pa){var Wb=Pa._,sb=Pa.next._,Tb=Wb.r+sb.r;Pa=(Wb.x*sb.r+sb.x*Wb.r)/Tb;Wb=(Wb.y*sb.r+sb.y*Wb.r)/Tb;return Pa*Pa+Wb*Wb}function Ob(Pa){this._=Pa;this.previous=this.next=null}function Vb(Pa,Wb){if(!(Tb=(Pa="object"===typeof Pa&&"length"in Pa?Pa:Array.from(Pa)).length))return 0;var sb,Tb;var ic=Pa[0];ic.x=0;ic.y=0;if(!(1<Tb))return ic.r;var dc=Pa[1];ic.x=-dc.r;dc.x=ic.r;dc.y=0;
if(!(2<Tb))return ic.r+dc.r;Ma(dc,ic,sb=Pa[2]);ic=new Ob(ic);dc=new Ob(dc);sb=new Ob(sb);ic.next=sb.previous=dc;dc.next=ic.previous=sb;sb.next=dc.previous=ic;var Ic=3;a:for(;Ic<Tb;++Ic){Ma(ic._,dc._,sb=Pa[Ic]);sb=new Ob(sb);var Ac=dc.next;var Zc=ic.previous;var Nd=dc._.r;var ud=ic._.r;do if(Nd<=ud){if(vb(Ac._,sb._)){dc=Ac;ic.next=dc;dc.previous=ic;--Ic;continue a}Nd+=Ac._.r;Ac=Ac.next}else{if(vb(Zc._,sb._)){ic=Zc;ic.next=dc;dc.previous=ic;--Ic;continue a}ud+=Zc._.r;Zc=Zc.previous}while(Ac!==Zc.next);
sb.previous=ic;sb.next=dc;ic.next=dc.previous=dc=sb;for(Ac=qb(ic);(sb=sb.next)!==dc;)(Zc=qb(sb))<Ac&&(ic=sb,Ac=Zc);dc=ic.next}ic=[dc._];for(sb=dc;(sb=sb.next)!==dc;)ic.push(sb._);dc=0;ic=Array.from(ic);for(sb=ic.length;sb;)Ac=Wb()*sb--|0,Ic=ic[sb],ic[sb]=ic[Ac],ic[Ac]=Ic;ic=(Wb=ic).length;sb=[];for(var Ha;dc<ic;)if(Ic=Wb[dc],Ha&&Da(Ha,Ic))++dc;else{a:if(Ha=sb,Ia(Ic,Ha))Ha=[Ic];else{for(sb=0;sb<Ha.length;++sb)if(Na(Ic,Ha[sb])&&Ia(kb(Ha[sb],Ic),Ha)){Ha=[Ha[sb],Ic];break a}for(sb=0;sb<Ha.length-1;++sb)for(dc=
sb+1;dc<Ha.length;++dc)if(Na(kb(Ha[sb],Ha[dc]),Ic)&&Na(kb(Ha[sb],Ic),Ha[dc])&&Na(kb(Ha[dc],Ic),Ha[sb])&&Ia(mb(Ha[sb],Ha[dc],Ic),Ha)){Ha=[Ha[sb],Ha[dc],Ic];break a}throw Error();}a:{Ha=sb=Ha;switch(Ha.length){case 1:Ha=Ha[0];Ha={x:Ha.x,y:Ha.y,r:Ha.r};break a;case 2:Ha=kb(Ha[0],Ha[1]);break a;case 3:Ha=mb(Ha[0],Ha[1],Ha[2]);break a}Ha=void 0}dc=0}sb=Ha;for(Ic=0;Ic<Tb;++Ic)ic=Pa[Ic],ic.x-=sb.x,ic.y-=sb.y;return sb.r}function ob(Pa){return Math.sqrt(Pa.value)}function ra(Pa){return function(Wb){Wb.children||
(Wb.r=Math.max(0,+Pa(Wb)||0))}}function Y(Pa,Wb,sb){return function(Tb){if(ic=Tb.children){var ic,dc,Ic=ic.length,Ac=Pa(Tb)*Wb||0;if(Ac)for(dc=0;dc<Ic;++dc)ic[dc].r+=Ac;var Zc=Vb(ic,sb);if(Ac)for(dc=0;dc<Ic;++dc)ic[dc].r-=Ac;Tb.r=Zc+Ac}}}function Ea(Pa){return function(Wb){var sb=Wb.parent;Wb.r*=Pa;sb&&(Wb.x=sb.x+Pa*Wb.x,Wb.y=sb.y+Pa*Wb.y)}}function Ga(Pa){Pa.x0=Math.round(Pa.x0);Pa.y0=Math.round(Pa.y0);Pa.x1=Math.round(Pa.x1);Pa.y1=Math.round(Pa.y1)}function cb(Pa,Wb,sb,Tb,ic){var dc=Pa.children,
Ic=-1,Ac=dc.length;for(Tb=Pa.value&&(Tb-Wb)/Pa.value;++Ic<Ac;)Pa=dc[Ic],Pa.y0=sb,Pa.y1=ic,Pa.x0=Wb,Pa.x1=Wb+=Pa.value*Tb}function ca(Pa){return Pa.id}function pa(Pa){return Pa.parentId}function x(){function Pa(ic){var dc=Array.from(ic),Ic=Wb,Ac=sb,Zc,Nd,ud=new Map;if(null!=Tb){const za=dc.map(($a,lb)=>{$a=Tb($a,lb,ic);$a=`${$a}`;lb=$a.length;S($a,lb-1)&&!S($a,lb-2)&&($a=$a.slice(0,-1));return"/"===$a[0]?$a:`/${$a}`}),Qa=za.map(N);Ic=(new Set(za)).add("");for(wb of Qa)Ic.has(wb)||(Ic.add(wb),za.push(wb),
Qa.push(N(wb)),dc.push(Kb));Ic=($a,lb)=>za[lb];Ac=($a,lb)=>Qa[lb]}var Ha=0;for(Zc=dc.length;Ha<Zc;++Ha){var gb=dc[Ha];var wb=dc[Ha]=new Hb(gb);if(null!=(Nd=Ic(gb,Ha,ic))&&(Nd+="")){var ua=wb.id=Nd;ud.set(ua,ud.has(ua)?Ya:wb)}null!=(Nd=Ac(gb,Ha,ic))&&(Nd+="")&&(wb.parent=Nd)}for(Ha=0;Ha<Zc;++Ha)if(wb=dc[Ha],Nd=wb.parent){Ic=ud.get(Nd);if(!Ic)throw Error("missing: "+Nd);if(Ic===Ya)throw Error("ambiguous: "+Nd);Ic.children?Ic.children.push(wb):Ic.children=[wb];wb.parent=Ic}else{if(H)throw Error("multiple roots");
var H=wb}if(!H)throw Error("no root");if(null!=Tb){for(;H.data===Kb&&1===H.children.length;)H=H.children[0],--Zc;for(Nd=dc.length-1;0<=Nd;--Nd){wb=dc[Nd];if(wb.data!==Kb)break;wb.data=null}}H.parent=Ca;H.eachBefore(function(za){za.depth=za.parent.depth+1;--Zc}).eachBefore(Fb);H.parent=null;if(0<Zc)throw Error("cycle");return H}var Wb=ca,sb=pa,Tb;Pa.id=function(ic){return arguments.length?(Wb=null==ic?null:Bb(ic),Pa):Wb};Pa.parentId=function(ic){return arguments.length?(sb=null==ic?null:Bb(ic),Pa):
sb};Pa.path=function(ic){return arguments.length?(Tb=null==ic?null:Bb(ic),Pa):Tb};return Pa}function N(Pa){let Wb=Pa.length;if(2>Wb)return"";for(;1<--Wb&&!S(Pa,Wb););return Pa.slice(0,Wb)}function S(Pa,Wb){if("/"===Pa[Wb]){let sb=0;for(;0<Wb&&"\\"===Pa[--Wb];)++sb;if(0===(sb&1))return!0}return!1}function g(Pa,Wb){return Pa.parent===Wb.parent?1:2}function z(Pa){var Wb=Pa.children;return Wb?Wb[0]:Pa.t}function m(Pa){var Wb=Pa.children;return Wb?Wb[Wb.length-1]:Pa.t}function E(Pa,Wb){this._=Pa;this.A=
this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=Wb}function h(Pa){Pa=new E(Pa,0);for(var Wb,sb=[Pa],Tb,ic,dc;Wb=sb.pop();)if(ic=Wb._.children)for(Wb.children=Array(Tb=ic.length),dc=Tb-1;0<=dc;--dc)sb.push(Tb=Wb.children[dc]=new E(ic[dc],dc)),Tb.parent=Wb;(Pa.parent=new E(null,0)).children=[Pa];return Pa}function p(Pa,Wb,sb,Tb,ic){var dc=Pa.children,Ic=-1,Ac=dc.length;for(ic=Pa.value&&(ic-sb)/Pa.value;++Ic<Ac;)Pa=dc[Ic],Pa.x0=Wb,Pa.x1=Tb,Pa.y0=sb,Pa.y1=sb+=
Pa.value*ic}function r(Pa,Wb,sb,Tb,ic,dc){for(var Ic=[],Ac=Wb.children,Zc,Nd,ud=Zc=0,Ha=Ac.length,gb,wb=Wb.value,ua,H,za,Qa,$a,lb;Zc<Ha;){Wb=ic-sb;gb=dc-Tb;do ua=Ac[ud++].value;while(!ua&&ud<Ha);H=za=ua;lb=Math.max(gb/Wb,Wb/gb)/(wb*Pa);Qa=ua*ua*lb;for($a=Math.max(za/Qa,Qa/H);ud<Ha;++ud){ua+=Nd=Ac[ud].value;Nd<H&&(H=Nd);Nd>za&&(za=Nd);Qa=ua*ua*lb;Qa=Math.max(za/Qa,Qa/H);if(Qa>$a){ua-=Nd;break}$a=Qa}Ic.push(Zc={value:ua,dice:Wb<gb,children:Ac.slice(Zc,ud)});Zc.dice?cb(Zc,sb,Tb,ic,wb?Tb+=gb*ua/wb:dc):
p(Zc,sb,Tb,wb?sb+=Wb*ua/wb:ic,dc);wb-=ua;Zc=ud}return Ic}function v(){function Pa(gb){gb.x0=gb.y0=0;gb.x1=ic;gb.y1=dc;gb.eachBefore(Wb);Ic=[0];Tb&&gb.eachBefore(Ga);return gb}function Wb(gb){var wb=Ic[gb.depth],ua=gb.x0+wb,H=gb.y0+wb,za=gb.x1-wb,Qa=gb.y1-wb;za<ua&&(ua=za=(ua+za)/2);Qa<H&&(H=Qa=(H+Qa)/2);gb.x0=ua;gb.y0=H;gb.x1=za;gb.y1=Qa;gb.children&&(wb=Ic[gb.depth+1]=Ac(gb)/2,ua+=Ha(gb)-wb,H+=Zc(gb)-wb,za-=Nd(gb)-wb,Qa-=ud(gb)-wb,za<ua&&(ua=za=(ua+za)/2),Qa<H&&(H=Qa=(H+Qa)/2),sb(gb,ua,H,za,Qa))}
var sb=rc,Tb=!1,ic=1,dc=1,Ic=[0],Ac=Lb,Zc=Lb,Nd=Lb,ud=Lb,Ha=Lb;Pa.round=function(gb){return arguments.length?(Tb=!!gb,Pa):Tb};Pa.size=function(gb){return arguments.length?(ic=+gb[0],dc=+gb[1],Pa):[ic,dc]};Pa.tile=function(gb){return arguments.length?(sb=Bb(gb),Pa):sb};Pa.padding=function(gb){return arguments.length?Pa.paddingInner(gb).paddingOuter(gb):Pa.paddingInner()};Pa.paddingInner=function(gb){return arguments.length?(Ac="function"===typeof gb?gb:Wa(+gb),Pa):Ac};Pa.paddingOuter=function(gb){return arguments.length?
Pa.paddingTop(gb).paddingRight(gb).paddingBottom(gb).paddingLeft(gb):Pa.paddingTop()};Pa.paddingTop=function(gb){return arguments.length?(Zc="function"===typeof gb?gb:Wa(+gb),Pa):Zc};Pa.paddingRight=function(gb){return arguments.length?(Nd="function"===typeof gb?gb:Wa(+gb),Pa):Nd};Pa.paddingBottom=function(gb){return arguments.length?(ud="function"===typeof gb?gb:Wa(+gb),Pa):ud};Pa.paddingLeft=function(gb){return arguments.length?(Ha="function"===typeof gb?gb:Wa(+gb),Pa):Ha};return Pa}function F(Pa){l.Transform.call(this,
null,Pa)}function aa(){function Pa(ic,dc){if(dc>=sb.length)return ic;const Ic=ic.length,Ac=sb[dc++],Zc={},Nd={};let ud=-1,Ha,gb,wb;for(;++ud<Ic;)Ha=Ac(gb=ic[ud])+"",(wb=Zc[Ha])?wb.push(gb):Zc[Ha]=[gb];for(Ha in Zc)Nd[Ha]=Pa(Zc[Ha],dc);return Nd}function Wb(ic,dc){if(++dc>sb.length)return ic;const Ic=[];for(const Ac in ic)Ic.push({key:Ac,values:Wb(ic[Ac],dc)});return Ic}const sb=[],Tb={entries:ic=>Wb(Pa(ic,0),0),key:ic=>(sb.push(ic),Tb)};return Tb}function O(Pa){l.Transform.call(this,null,Pa)}function u(Pa,
Wb,sb){for(let Tb,ic=0,dc=Wb.length;ic<dc;++ic)if(Tb=Wb[ic],Tb in sb)Pa[Tb](sb[Tb])}function I(Pa){O.call(this,Pa)}function va(Pa){O.call(this,Pa)}function La(Pa){l.Transform.call(this,null,Pa)}function Xa(Pa){O.call(this,Pa)}function ab(Pa){l.Transform.call(this,[],Pa)}function Z(Pa){O.call(this,Pa)}Hb.prototype=jc.prototype={constructor:Hb,count:function(){return this.eachAfter(Ab)},each:function(Pa,Wb){let sb=-1;for(const Tb of this)Pa.call(Wb,Tb,++sb,this);return this},eachAfter:function(Pa,Wb){for(var sb,
Tb=[this],ic=[],dc,Ic,Ac=-1;sb=Tb.pop();)if(ic.push(sb),sb=sb.children)for(dc=0,Ic=sb.length;dc<Ic;++dc)Tb.push(sb[dc]);for(;sb=ic.pop();)Pa.call(Wb,sb,++Ac,this);return this},eachBefore:function(Pa,Wb){for(var sb,Tb=[this],ic,dc=-1;sb=Tb.pop();)if(Pa.call(Wb,sb,++dc,this),sb=sb.children)for(ic=sb.length-1;0<=ic;--ic)Tb.push(sb[ic]);return this},find:function(Pa,Wb){let sb=-1;for(const Tb of this)if(Pa.call(Wb,Tb,++sb,this))return Tb},sum:function(Pa){return this.eachAfter(function(Wb){for(var sb=
+Pa(Wb.data)||0,Tb=Wb.children,ic=Tb&&Tb.length;0<=--ic;)sb+=Tb[ic].value;Wb.value=sb})},sort:function(Pa){return this.eachBefore(function(Wb){Wb.children&&Wb.children.sort(Pa)})},path:function(Pa){var Wb=this;var sb=Wb;var Tb=Pa;if(sb!==Tb){var ic=sb.ancestors(),dc=Tb.ancestors(),Ic=null;sb=ic.pop();for(Tb=dc.pop();sb===Tb;)Ic=sb,sb=ic.pop(),Tb=dc.pop();sb=Ic}for(Tb=[Wb];Wb!==sb;)Wb=Wb.parent,Tb.push(Wb);for(Wb=Tb.length;Pa!==sb;)Tb.splice(Wb,0,Pa),Pa=Pa.parent;return Tb},ancestors:function(){for(var Pa=
this,Wb=[Pa];Pa=Pa.parent;)Wb.push(Pa);return Wb},descendants:function(){return Array.from(this)},leaves:function(){var Pa=[];this.eachBefore(function(Wb){Wb.children||Pa.push(Wb)});return Pa},links:function(){var Pa=this,Wb=[];Pa.each(function(sb){sb!==Pa&&Wb.push({source:sb.parent,target:sb})});return Wb},copy:function(){return jc(this).eachBefore(rb)},[Symbol.iterator]:function*(){var Pa,Wb=[this],sb;do{var Tb=Wb.reverse();for(Wb=[];Pa=Tb.pop();)if(yield Pa,Pa=Pa.children){var ic=0;for(sb=Pa.length;ic<
sb;++ic)Wb.push(Pa[ic])}}while(Wb.length)}};var Ca={depth:-1},Ya={},Kb={};E.prototype=Object.create(Hb.prototype);var xc=(1+Math.sqrt(5))/2,rc=function sb(Wb){function Tb(ic,dc,Ic,Ac,Zc){r(Wb,ic,dc,Ic,Ac,Zc)}Tb.ratio=function(ic){return sb(1<(ic=+ic)?ic:1)};return Tb}(xc);xc=function Tb(sb){function ic(dc,Ic,Ac,Zc,Nd){if((ud=dc._squarify)&&ud.ratio===sb)for(var ud,Ha,gb,wb=-1,ua,H=ud.length,za=dc.value;++wb<H;){dc=ud[wb];Ha=dc.children;gb=dc.value=0;for(ua=Ha.length;gb<ua;++gb)dc.value+=Ha[gb].value;
dc.dice?cb(dc,Ic,Ac,Zc,za?Ac+=(Nd-Ac)*dc.value/za:Nd):p(dc,Ic,Ac,za?Ic+=(Zc-Ic)*dc.value/za:Zc,Nd);za-=dc.value}else dc._squarify=ud=r(sb,dc,Ic,Ac,Zc,Nd),ud.ratio=sb}ic.ratio=function(dc){return Tb(1<(dc=+dc)?dc:1)};return ic}(xc);F.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const yc=sb=>sb.values;R.inherits(F,l.Transform,{transform(sb,Tb){Tb.source||R.error("Nest transform requires an upstream data source.");
var ic=sb.generate,dc=sb.modified(),Ic=Tb.clone(),Ac=this.value;if(!Ac||dc||Tb.changed())Ac&&Ac.each(Zc=>{Zc.children&&l.isTuple(Zc.data)&&Ic.rem.push(Zc.data)}),this.value=Ac=jc({values:R.array(sb.keys).reduce((Zc,Nd)=>{Zc.key(Nd);return Zc},aa()).entries(Ic.source)},yc),ic&&Ac.each(Zc=>{Zc.children&&(Zc=l.ingest(Zc.data),Ic.add.push(Zc),Ic.source.push(Zc))}),hb(Ac,l.tupleid,l.tupleid);Ic.source.root=Ac;return Ic}});const dd=(sb,Tb)=>sb.parent===Tb.parent?1:2;R.inherits(O,l.Transform,{transform(sb,
Tb){Tb.source&&Tb.source.root||R.error(this.constructor.name+" transform requires a backing tree data source.");const ic=this.layout(sb.method),dc=this.fields,Ic=Tb.source.root,Ac=sb.as||dc;sb.field?Ic.sum(sb.field):Ic.count();sb.sort&&Ic.sort(l.stableCompare(sb.sort,Zc=>Zc.data));u(ic,this.params,sb);ic.separation&&ic.separation(!1!==sb.separation?dd:R.one);try{this.value=ic(Ic)}catch(Zc){R.error(Zc)}Ic.each(Zc=>{const Nd=Zc.data,ud=dc.length-1;for(let Ha=0;Ha<ud;++Ha)Nd[Ac[Ha]]=Zc[dc[Ha]];Nd[Ac[ud]]=
Zc.children?Zc.children.length:0});return Tb.reflow(sb.modified()).modifies(Ac).modifies("leaf")}});var $b=["x","y","r","depth","children"];I.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:$b.length,"default":$b}]};R.inherits(I,O,{layout:function(){function sb(Ac){const Zc=
pb();Ac.x=ic/2;Ac.y=dc/2;Tb?Ac.eachBefore(ra(Tb)).eachAfter(Y(Ic,.5,Zc)).eachBefore(Ea(1)):Ac.eachBefore(ra(ob)).eachAfter(Y(Lb,1,Zc)).eachAfter(Y(Ic,Ac.r/Math.min(ic,dc),Zc)).eachBefore(Ea(Math.min(ic,dc)/(2*Ac.r)));return Ac}var Tb=null,ic=1,dc=1,Ic=Lb;sb.radius=function(Ac){return arguments.length?(Tb=null==Ac?null:Bb(Ac),sb):Tb};sb.size=function(Ac){return arguments.length?(ic=+Ac[0],dc=+Ac[1],sb):[ic,dc]};sb.padding=function(Ac){return arguments.length?(Ic="function"===typeof Ac?Ac:Wa(+Ac),sb):
Ic};return sb},params:["radius","size","padding"],fields:$b});$b="x0 y0 x1 y1 depth children".split(" ");va.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:$b.length,"default":$b}]};R.inherits(va,O,{layout:function(){function sb(Zc){var Nd=Zc.height+1;
Zc.x0=Zc.y0=Ic;Zc.x1=ic;Zc.y1=dc/Nd;Zc.eachBefore(Tb(dc,Nd));Ac&&Zc.eachBefore(Ga);return Zc}function Tb(Zc,Nd){return function(ud){ud.children&&cb(ud,ud.x0,Zc*(ud.depth+1)/Nd,ud.x1,Zc*(ud.depth+2)/Nd);var Ha=ud.x0,gb=ud.y0,wb=ud.x1-Ic,ua=ud.y1-Ic;wb<Ha&&(Ha=wb=(Ha+wb)/2);ua<gb&&(gb=ua=(gb+ua)/2);ud.x0=Ha;ud.y0=gb;ud.x1=wb;ud.y1=ua}}var ic=1,dc=1,Ic=0,Ac=!1;sb.round=function(Zc){return arguments.length?(Ac=!!Zc,sb):Ac};sb.size=function(Zc){return arguments.length?(ic=+Zc[0],dc=+Zc[1],sb):[ic,dc]};
sb.padding=function(Zc){return arguments.length?(Ic=+Zc,sb):Ic};return sb},params:["size","round","padding"],fields:$b});La.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};R.inherits(La,l.Transform,{transform(sb,Tb){Tb.source||R.error("Stratify transform requires an upstream data source.");let ic=this.value;const dc=sb.modified(),Ic=Tb.fork(Tb.ALL).materialize(Tb.SOURCE);Tb=!ic||dc||Tb.changed(Tb.ADD_REM)||
Tb.modified(sb.key.fields)||Tb.modified(sb.parentKey.fields);Ic.source=Ic.source.slice();Tb&&(ic=Ic.source.length?hb(x().id(sb.key).parentId(sb.parentKey)(Ic.source),sb.key,R.truthy):hb(x()([{}]),sb.key,sb.key));Ic.source.root=this.value=ic;return Ic}});const Rc={tidy:function(){function sb(ud){var Ha=h(ud);Ha.eachAfter(Tb);Ha.parent.m=-Ha.z;Ha.eachBefore(ic);if(Nd)ud.eachBefore(dc);else{var gb=ud,wb=ud,ua=ud;ud.eachBefore(function($a){$a.x<gb.x&&(gb=$a);$a.x>wb.x&&(wb=$a);$a.depth>ua.depth&&(ua=
$a)});Ha=gb===wb?1:Ic(gb,wb)/2;var H=Ha-gb.x,za=Ac/(wb.x+Ha+H),Qa=Zc/(ua.depth||1);ud.eachBefore(function($a){$a.x=($a.x+H)*za;$a.y=$a.depth*Qa})}return ud}function Tb(ud){var Ha=ud.children,gb=ud.parent.children,wb=ud.i?gb[ud.i-1]:null;if(Ha){for(var ua=0,H=0,za=ud.children,Qa=za.length,$a;0<=--Qa;)$a=za[Qa],$a.z+=ua,$a.m+=ua,ua+=$a.s+(H+=$a.c);Ha=(Ha[0].z+Ha[Ha.length-1].z)/2;wb?(ud.z=wb.z+Ic(ud._,wb._),ud.m=ud.z-Ha):ud.z=Ha}else wb&&(ud.z=wb.z+Ic(ud._,wb._));Ha=ud.parent;gb=ud.parent.A||gb[0];
if(wb){H=ua=ud;za=ua.parent.children[0];Qa=ua.m;$a=H.m;for(var lb=wb.m,Gb=za.m,oc;wb=m(wb),ua=z(ua),wb&&ua;){za=z(za);H=m(H);H.a=ud;oc=wb.z+lb-ua.z-Qa+Ic(wb._,ua._);if(0<oc){var ec=wb.a.parent===ud.parent?wb.a:gb,kc=ud,Sc=oc,ed=Sc/(kc.i-ec.i);kc.c-=ed;kc.s+=Sc;ec.c+=ed;kc.z+=Sc;kc.m+=Sc;Qa+=oc;$a+=oc}lb+=wb.m;Qa+=ua.m;Gb+=za.m;$a+=H.m}wb&&!m(H)&&(H.t=wb,H.m+=lb-$a);ua&&!z(za)&&(za.t=ua,za.m+=Qa-Gb,gb=ud)}Ha.A=gb}function ic(ud){ud._.x=ud.z+ud.parent.m;ud.m+=ud.parent.m}function dc(ud){ud.x*=Ac;ud.y=
ud.depth*Zc}var Ic=g,Ac=1,Zc=1,Nd=null;sb.separation=function(ud){return arguments.length?(Ic=ud,sb):Ic};sb.size=function(ud){return arguments.length?(Nd=!1,Ac=+ud[0],Zc=+ud[1],sb):Nd?null:[Ac,Zc]};sb.nodeSize=function(ud){return arguments.length?(Nd=!0,Ac=+ud[0],Zc=+ud[1],sb):Nd?[Ac,Zc]:null};return sb},cluster:function(){function sb(Ac){var Zc,Nd=0;Ac.eachAfter(function(ua){var H=ua.children;if(H){var za=H.reduce(Yb,0)/H.length;ua.x=za;ua.y=1+H.reduce(sc,0)}else ua.x=Zc?Nd+=Tb(ua,Zc):0,ua.y=0,Zc=
ua});var ud=zc(Ac),Ha=pc(Ac),gb=ud.x-Tb(ud,Ha)/2,wb=Ha.x+Tb(Ha,ud)/2;return Ac.eachAfter(Ic?function(ua){ua.x=(ua.x-Ac.x)*ic;ua.y=(Ac.y-ua.y)*dc}:function(ua){ua.x=(ua.x-gb)/(wb-gb)*ic;ua.y=(1-(Ac.y?ua.y/Ac.y:1))*dc})}var Tb=Cb,ic=1,dc=1,Ic=!1;sb.separation=function(Ac){return arguments.length?(Tb=Ac,sb):Tb};sb.size=function(Ac){return arguments.length?(Ic=!1,ic=+Ac[0],dc=+Ac[1],sb):Ic?null:[ic,dc]};sb.nodeSize=function(Ac){return arguments.length?(Ic=!0,ic=+Ac[0],dc=+Ac[1],sb):Ic?[ic,dc]:null};return sb}};
$b=["x","y","depth","children"];Xa.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:$b.length,"default":$b}]};R.inherits(Xa,O,{layout(sb){sb=sb||"tidy";if(R.hasOwnProperty(Rc,
sb))return Rc[sb]();R.error("Unrecognized Tree layout method: "+sb)},params:["size","nodeSize"],fields:$b});ab.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};R.inherits(ab,l.Transform,{transform(sb,Tb){sb=this.value;const ic=Tb.source&&Tb.source.root,dc=Tb.fork(Tb.NO_SOURCE),Ic={};ic||R.error("TreeLinks transform requires a tree data source.");Tb.changed(Tb.ADD_REM)?(dc.rem=sb,Tb.visit(Tb.SOURCE,Ac=>Ic[l.tupleid(Ac)]=1),ic.each(Ac=>{const Zc=Ac.data;(Ac=Ac.parent&&
Ac.parent.data)&&Ic[l.tupleid(Zc)]&&Ic[l.tupleid(Ac)]&&dc.add.push(l.ingest({source:Ac,target:Zc}))}),this.value=dc.add):Tb.changed(Tb.MOD)&&(Tb.visit(Tb.MOD,Ac=>Ic[l.tupleid(Ac)]=1),sb.forEach(Ac=>{(Ic[l.tupleid(Ac.source)]||Ic[l.tupleid(Ac.target)])&&dc.mod.push(Ac)}));return dc}});const Pd={binary:function(sb,Tb,ic,dc,Ic){function Ac(wb,ua,H,za,Qa,$a,lb){if(wb>=ua-1)wb=Zc[wb],wb.x0=za,wb.y0=Qa,wb.x1=$a,wb.y1=lb;else{for(var Gb=gb[wb],oc=H/2+Gb,ec=wb+1,kc=ua-1;ec<kc;){var Sc=ec+kc>>>1;gb[Sc]<oc?
ec=Sc+1:kc=Sc}oc-gb[ec-1]<gb[ec]-oc&&wb+1<ec&&--ec;Gb=gb[ec]-Gb;oc=H-Gb;$a-za>lb-Qa?(H=H?(za*oc+$a*Gb)/H:$a,Ac(wb,ec,Gb,za,Qa,H,lb),Ac(ec,ua,oc,H,Qa,$a,lb)):(H=H?(Qa*oc+lb*Gb)/H:lb,Ac(wb,ec,Gb,za,Qa,$a,H),Ac(ec,ua,oc,za,H,$a,lb))}}var Zc=sb.children,Nd,ud=Zc.length,Ha,gb=Array(ud+1);for(gb[0]=Ha=Nd=0;Nd<ud;++Nd)gb[Nd+1]=Ha+=Zc[Nd].value;Ac(0,ud,sb.value,Tb,ic,dc,Ic)},dice:cb,slice:p,slicedice:function(sb,Tb,ic,dc,Ic){(sb.depth&1?p:cb)(sb,Tb,ic,dc,Ic)},squarify:rc,resquarify:xc};xc="x0 y0 x1 y1 depth children".split(" ");
Z.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number",
"default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",type:"number","default":1.618033988749895},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:xc.length,"default":xc}]};R.inherits(Z,O,{layout(){const sb=v();sb.ratio=Tb=>{const ic=sb.tile();ic.ratio&&sb.tile(ic.ratio(Tb))};sb.method=Tb=>{R.hasOwnProperty(Pd,Tb)?sb.tile(Pd[Tb]):R.error("Unrecognized Treemap layout method: "+Tb)};return sb},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),
fields:xc});t.nest=F;t.pack=I;t.partition=va;t.stratify=La;t.tree=Xa;t.treelinks=ab;t.treemap=Z})};
shadow$provide[40]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb):"function"===typeof define&&define.amd?define(["exports"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l(t.vega={}))})(this,function(t){function l(h,p,r){h.fields=p||[];h.fname=r;return h}function R(h){return null==h?null:h.fields}function hb(h){return 1===h.length?mb(h[0]):Ma(h)}function Cb(h){throw Error(h);}function Yb(h){function p(){r.push(O+h.substring(u,I));O="";u=I+1}const r=
[],v=h.length;let F=null,aa=0,O="",u,I,va;h+="";for(u=I=0;I<v;++I)(va=h[I],"\\"===va)?(O+=h.substring(u,I),O+=h.substring(++I,++I),u=I):va===F?(p(),F=null,aa=-1):F||(u===aa&&'"'===va?(u=I+1,F=va):u===aa&&"'"===va?(u=I+1,F=va):"."!==va||aa?"["===va?(I>u&&p(),aa=u=I+1):"]"===va&&(aa||Cb("Access path missing open bracket: "+h),0<aa&&p(),aa=0,u=I+1):I>u?p():u=I+1);aa&&Cb("Access path missing closing bracket: "+h);F&&Cb("Access path missing closing quote: "+h);I>u&&(I++,p());return r}function sc(h,p,r){const v=
Yb(h);h=1===v.length?v[0]:h;return l((r&&r.get||hb)(v),[h],p||h)}function zc(h,p,r){p=[p].concat([].slice.call(r));console[h].apply(console,p)}function pc(h){return h===Object(h)}function Ab(h,p,r,v){if("__proto__"!==p){var F;if(pc(r)&&!Y(r))for(F in h=pc(h[p])?h[p]:h[p]={},r)v&&(!0===v||v[F])?Ab(h,F,r[F]):"__proto__"!==F&&(h[F]=r[F]);else h[p]=r}}function jc(h,p){function r(aa){v[aa.name]||(v[aa.name]=1,F.push(aa))}if(null==h)return p;const v={},F=[];p.forEach(r);h.forEach(r);return F}function Sb(h){return h[h.length-
1]}function Ua(h){return null==h||""===h?null:+h}function rb(h,p,r,v){const F=r(h[0]);h=r(Sb(h));p*=h-F;return[v(F-p),v(h-p)]}function Fb(h,p,r,v,F){const aa=v(h[0]);h=v(Sb(h));p=null!=p?v(p):(aa+h)/2;return[F(p+(aa-p)*r),F(p+(h-p)*r)]}function Hb(h){return null!=h?Y(h)?h:[h]:[]}function Bb(h){return"function"===typeof h}function Lb(h){for(let p,r,v=1,F=arguments.length;v<F;++v)for(r in p=arguments[v],p)h[r]=p[r];return h}function Wa(h,p){return z.call(h,p)}function pb(h){return"[object Date]"===
Object.prototype.toString.call(h)}function Na(h){return"number"===typeof h}function Da(h){return"string"===typeof h}function Ia(h,p){let r="";for(;0<=--p;)r+=h;return r}function kb(h){return Y(h)?"["+h.map(kb)+"]":pc(h)||Da(h)?JSON.stringify(h).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):h}const mb=h=>function(p){return p[h]},Ma=h=>{const p=h.length;return function(r){for(let v=0;v<p;++v)r=r[h[v]];return r}},vb=sc("id"),qb=l(h=>h,[],"identity"),Ob=l(()=>0,[],"zero"),Vb=l(()=>1,[],"one"),
ob=l(()=>!0,[],"true"),ra=l(()=>!1,[],"false");var Y=Array.isArray;const Ea=h=>p=>h*Math.exp(p),Ga=h=>p=>Math.log(h*p),cb=h=>p=>Math.sign(p)*Math.log1p(Math.abs(p/h)),ca=h=>p=>Math.sign(p)*Math.expm1(Math.abs(p))*h,pa=h=>p=>0>p?-Math.pow(-p,h):Math.pow(p,h),x=(h,p)=>(h<p||null==h)&&null!=p?-1:(h>p||null==p)&&null!=h?1:(p=p instanceof Date?+p:p,h=h instanceof Date?+h:h)!==h&&p===p?-1:p!==p&&h===h?1:0,N=(h,p)=>1===h.length?S(h[0],p[0]):g(h,p,h.length),S=(h,p)=>function(r,v){return x(h(r),h(v))*p},g=
(h,p,r)=>{p.push(0);return function(v,F){var aa=0;let O=-1;for(;0===aa&&++O<r;)aa=h[O],aa=x(aa(v),aa(F));return aa*p[O]}},z=Object.prototype.hasOwnProperty,m={},E=h=>Na(h)?h:pb(h)?h:Date.parse(h);t.Debug=4;t.Error=1;t.Info=3;t.None=0;t.Warn=2;t.accessor=l;t.accessorFields=R;t.accessorName=function(h){return null==h?null:h.fname};t.array=Hb;t.ascending=x;t.clampRange=function(h,p,r){let v=h[0];h=h[1];let F;h<v&&(F=h,h=v,v=F);F=h-v;return F>=r-p?[p,r]:[v=Math.min(Math.max(v,p),r-F),v+F]};t.compare=
function(h,p,r){r=r||{};p=Hb(p)||[];const v=[],F=[],aa={},O=r.comparator||N;Hb(h).forEach((u,I)=>{null!=u&&(v.push("descending"===p[I]?-1:1),F.push(u=Bb(u)?u:sc(u,null,r)),(R(u)||[]).forEach(va=>aa[va]=1))});return 0===F.length?null:l(O(F,v),Object.keys(aa))};t.constant=function(h){return Bb(h)?h:()=>h};t.debounce=function(h,p){let r;return v=>{r&&clearTimeout(r);r=setTimeout(()=>(p(v),r=null),h)}};t.error=Cb;t.extend=Lb;t.extent=function(h,p){let r=0,v,F,aa,O;if(h&&(v=h.length))if(null==p){for(F=
h[r];r<v&&(null==F||F!==F);F=h[++r]);for(aa=O=F;r<v;++r)F=h[r],null!=F&&(F<aa&&(aa=F),F>O&&(O=F))}else{for(F=p(h[r]);r<v&&(null==F||F!==F);F=p(h[++r]));for(aa=O=F;r<v;++r)F=p(h[r]),null!=F&&(F<aa&&(aa=F),F>O&&(O=F))}return[aa,O]};t.extentIndex=function(h,p){const r=h.length;let v=-1,F,aa,O,u,I;if(null==p){for(;++v<r;)if(aa=h[v],null!=aa&&aa>=aa){F=O=aa;break}if(v===r)return[-1,-1];for(u=I=v;++v<r;)aa=h[v],null!=aa&&(F>aa&&(F=aa,u=v),O<aa&&(O=aa,I=v))}else{for(;++v<r;)if(aa=p(h[v],v,h),null!=aa&&aa>=
aa){F=O=aa;break}if(v===r)return[-1,-1];for(u=I=v;++v<r;)aa=p(h[v],v,h),null!=aa&&(F>aa&&(F=aa,u=v),O<aa&&(O=aa,I=v))}return[u,I]};t.falsy=ra;t.fastmap=function(h){function p(aa){return Wa(r,aa)&&r[aa]!==m}let r={},v;const F={size:0,empty:0,object:r,has:p,get(aa){return p(aa)?r[aa]:void 0},set(aa,O){p(aa)||(++F.size,r[aa]===m&&--F.empty);r[aa]=O;return this},delete(aa){p(aa)&&(--F.size,++F.empty,r[aa]=m);return this},clear(){F.size=F.empty=0;F.object=r={}},test(aa){return arguments.length?(v=aa,F):
v},clean(){const aa={};let O=0;for(const u in r){const I=r[u];I===m||v&&v(I)||(aa[u]=I,++O)}F.size=O;F.empty=0;F.object=r=aa}};h&&Object.keys(h).forEach(aa=>{F.set(aa,h[aa])});return F};t.field=sc;t.flush=function(h,p,r,v,F,aa){if(!r&&0!==r)return aa;r=+r;let O=h[0],u=Sb(h);u<O&&(h=O,O=u,u=h);h=Math.abs(p-O);p=Math.abs(u-p);return h<p&&h<=r?v:p<=r?F:aa};t.hasOwnProperty=Wa;t.id=vb;t.identity=qb;t.inherits=function(h,p,r){p=h.prototype=Object.create(p.prototype);Object.defineProperty(p,"constructor",
{value:h,writable:!0,enumerable:!0,configurable:!0});return Lb(p,r)};t.inrange=function(h,p,r,v){let F=p[0];p=p[p.length-1];let aa;F>p&&(aa=F,F=p,p=aa);return(void 0===r||r?F<=h:F<h)&&(void 0===v||v?h<=p:h<p)};t.isArray=Y;t.isBoolean=function(h){return"boolean"===typeof h};t.isDate=pb;t.isFunction=Bb;t.isIterable=function(h){return h&&Bb(h[Symbol.iterator])};t.isNumber=Na;t.isObject=pc;t.isRegExp=function(h){return"[object RegExp]"===Object.prototype.toString.call(h)};t.isString=Da;t.key=function(h,
p,r){h&&(h=p?Hb(h).map(aa=>aa.replace(/\\(.)/g,"$1")):Hb(h));const v=h&&h.length,F=r&&r.get||hb;r=aa=>F(p?[aa]:Yb(aa));if(v)if(1===v){const aa=r(h[0]);r=function(O){return""+aa(O)}}else{const aa=h.map(r);r=function(O){let u=""+aa[0](O),I=0;for(;++I<v;)u+="|"+aa[I](O);return u}}else r=function(){return""};return l(r,h,"key")};t.lerp=function(h,p){const r=h[0];h=Sb(h);return(p=+p)?1===p?h:r+p*(h-r):r};t.logger=function(h,p,r=zc){let v=h||0;return{level(F){return arguments.length?(v=+F,this):v},error(){1<=
v&&r(p||"error","ERROR",arguments);return this},warn(){2<=v&&r(p||"warn","WARN",arguments);return this},info(){3<=v&&r(p||"log","INFO",arguments);return this},debug(){4<=v&&r(p||"log","DEBUG",arguments);return this}}};t.lruCache=function(h){h=+h||1E4;let p,r,v;const F=()=>{p={};r={};v=0},aa=(O,u)=>{++v>h&&(r=p,p={},v=1);return p[O]=u};F();return{clear:F,has:O=>Wa(p,O)||Wa(r,O),get:O=>Wa(p,O)?p[O]:Wa(r,O)?aa(O,r[O]):void 0,set:(O,u)=>Wa(p,O)?p[O]=u:aa(O,u)}};t.merge=function(h,p,r,v){const F=p.length,
aa=r.length;if(!aa)return p;if(!F)return r;v=v||new p.constructor(F+aa);let O=0,u=0,I=0;for(;O<F&&u<aa;++I)v[I]=0<h(p[O],r[u])?r[u++]:p[O++];for(;O<F;++O,++I)v[I]=p[O];for(;u<aa;++u,++I)v[I]=r[u];return v};t.mergeConfig=function(...h){return h.reduce((p,r)=>{for(const v in r)"signals"===v?p.signals=jc(p.signals,r.signals):Ab(p,v,r[v],"legend"===v?{layout:1}:"style"===v?!0:null);return p},{})};t.one=Vb;t.pad=function(h,p,r,v){r=r||" ";h+="";p-=h.length;return 0>=p?h:"left"===v?Ia(r,p)+h:"center"===
v?Ia(r,~~(p/2))+h+Ia(r,Math.ceil(p/2)):h+Ia(r,p)};t.panLinear=function(h,p){return rb(h,p,Ua,qb)};t.panLog=function(h,p){var r=Math.sign(h[0]);return rb(h,p,Ga(r),Ea(r))};t.panPow=function(h,p,r){return rb(h,p,pa(r),pa(1/r))};t.panSymlog=function(h,p,r){return rb(h,p,cb(r),ca(r))};t.peek=Sb;t.quarter=function(h){return 1+~~((new Date(h)).getMonth()/3)};t.repeat=Ia;t.span=function(h){return h&&Sb(h)-h[0]||0};t.splitAccessPath=Yb;t.stringValue=kb;t.toBoolean=function(h){return null==h||""===h?null:
h&&"false"!==h&&"0"!==h?!!h:!1};t.toDate=function(h,p){p=p||E;return null==h||""===h?null:p(h)};t.toNumber=Ua;t.toSet=function(h){const p={},r=h.length;for(let v=0;v<r;++v)p[h[v]]=!0;return p};t.toString=function(h){return null==h||""===h?null:h+""};t.truncate=function(h,p,r,v){v=null!=v?v:"";h+="";const F=h.length,aa=Math.max(0,p-v.length);return F<=p?h:"left"===r?v+h.slice(F-aa):"center"===r?h.slice(0,Math.ceil(aa/2))+v+h.slice(F-~~(aa/2)):h.slice(0,aa)+v};t.truthy=ob;t.utcquarter=function(h){return 1+
~~((new Date(h)).getUTCMonth()/3)};t.visitArray=function(h,p,r){if(h)if(p){const v=h.length;for(let F=0;F<v;++F){const aa=p(h[F]);aa&&r(aa,F,h)}}else h.forEach(r)};t.writeConfig=Ab;t.zero=Ob;t.zoomLinear=function(h,p,r){return Fb(h,p,r,Ua,qb)};t.zoomLog=function(h,p,r){const v=Math.sign(h[0]);return Fb(h,p,r,Ga(v),Ea(v))};t.zoomPow=function(h,p,r,v){return Fb(h,p,r,pa(v),pa(1/v))};t.zoomSymlog=function(h,p,r,v){return Fb(h,p,r,cb(v),ca(v))};Object.defineProperty(t,"__esModule",{value:!0})})};
shadow$provide[41]=function(fc,Eb,Wc,nb){!function(t,l){"object"==typeof nb&&"undefined"!=typeof Wc?l(nb):"function"==typeof define&&define.amd?define(["exports"],l):l((t="undefined"!=typeof globalThis?globalThis:t||self).vega={})}(this,function(t){function l(R,hb){if("undefined"!=typeof document&&document.createElement){const Cb=document.createElement("canvas");if(Cb&&Cb.getContext)return Cb.width=R,Cb.height=hb,Cb}return null}t.canvas=l;t.domCanvas=l;t.image=()=>"undefined"!=typeof Image?Image:
null;Object.defineProperty(t,"__esModule",{value:!0})})};
shadow$provide[42]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(40)):"function"===typeof define&&define.amd?define(["exports","vega-util"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l(t.vega={},t.vega))})(this,function(t,l){function R(u){const I=l.array(u).slice(),va={};I.length||l.error("Missing time unit.");I.forEach(La=>{l.hasOwnProperty(Da,La)?va[La]=1:l.error(`Invalid time unit: ${La}.`)});1<(va.week||va.day?1:0)+(va.quarter||va.month||
va.date?1:0)+(va.dayofyear?1:0)&&l.error(`Incompatible time units: ${u}`);I.sort((La,Xa)=>Da[La]-Da[Xa]);return I}function hb(u,I,va,La){function Xa(ab){return u(ab=0===arguments.length?new Date:new Date(+ab)),ab}Xa.floor=function(ab){return u(ab=new Date(+ab)),ab};Xa.ceil=function(ab){return u(ab=new Date(ab-1)),I(ab,1),u(ab),ab};Xa.round=function(ab){var Z=Xa(ab),Ca=Xa.ceil(ab);return ab-Z<Ca-ab?Z:Ca};Xa.offset=function(ab,Z){return I(ab=new Date(+ab),null==Z?1:Math.floor(Z)),ab};Xa.range=function(ab,
Z,Ca){var Ya=[],Kb;ab=Xa.ceil(ab);Ca=null==Ca?1:Math.floor(Ca);if(!(ab<Z&&0<Ca))return Ya;do Ya.push(Kb=new Date(+ab)),I(ab,Ca),u(ab);while(Kb<ab&&ab<Z);return Ya};Xa.filter=function(ab){return hb(function(Z){if(Z>=Z)for(;u(Z),!ab(Z);)Z.setTime(Z-1)},function(Z,Ca){if(Z>=Z)if(0>Ca)for(;0>=++Ca;)for(;I(Z,-1),!ab(Z););else for(;0<=--Ca;)for(;I(Z,1),!ab(Z););})};va&&(Xa.count=function(ab,Z){kb.setTime(+ab);mb.setTime(+Z);u(kb);u(mb);return Math.floor(va(kb,mb))},Xa.every=function(ab){ab=Math.floor(ab);
return isFinite(ab)&&0<ab?1<ab?Xa.filter(La?function(Z){return 0===La(Z)%ab}:function(Z){return 0===Xa.count(0,Z)%ab}):Xa:null});return Xa}function Cb(u){return hb(function(I){I.setDate(I.getDate()-(I.getDay()+7-u)%7);I.setHours(0,0,0,0)},function(I,va){I.setDate(I.getDate()+7*va)},function(I,va){return(va-I-6E4*(va.getTimezoneOffset()-I.getTimezoneOffset()))/6048E5})}function Yb(u){return hb(function(I){I.setUTCDate(I.getUTCDate()-(I.getUTCDay()+7-u)%7);I.setUTCHours(0,0,0,0)},function(I,va){I.setUTCDate(I.getUTCDate()+
7*va)},function(I,va){return(va-I)/6048E5})}function sc(u,I){return null==u||null==I?NaN:u<I?-1:u>I?1:u>=I?0:NaN}function zc(u){function I(ab,Z,Ca=0,Ya=ab.length){if(Ca<Ya){if(0!==La(Z,Z))return Ya;do{const Kb=Ca+Ya>>>1;0>Xa(ab[Kb],Z)?Ca=Kb+1:Ya=Kb}while(Ca<Ya)}return Ca}let va=u,La=u,Xa=u;2!==u.length&&(va=(ab,Z)=>u(ab)-Z,La=sc,Xa=(ab,Z)=>sc(u(ab),Z));return{left:I,center:function(ab,Z,Ca=0,Ya=ab.length){Ya=I(ab,Z,Ca,Ya-1);return Ya>Ca&&va(ab[Ya-1],Z)>-va(ab[Ya],Z)?Ya-1:Ya},right:function(ab,Z,Ca=
0,Ya=ab.length){if(Ca<Ya){if(0!==La(Z,Z))return Ya;do{const Kb=Ca+Ya>>>1;0>=Xa(ab[Kb],Z)?Ca=Kb+1:Ya=Kb}while(Ca<Ya)}return Ca}}}function pc(u,I,va){var La=Math.abs(I-u)/Math.max(0,va);va=Math.pow(10,Math.floor(Math.log(La)/Math.LN10));La/=va;La>=N?va*=10:La>=S?va*=5:La>=g&&(va*=2);return I<u?-va:va}function Ab(u){z.setFullYear(u);z.setMonth(0);z.setDate(1);z.setHours(0,0,0,0);return z}function jc(u){return Vb.count(Ab(u.getFullYear())-1,u)}function Sb(u){return ob.count(Ab(u.getFullYear())-1,u)}function Ua(u,
I,va,La,Xa,ab,Z){return 0<=u&&100>u?(I=new Date(-1,I,va,La,Xa,ab,Z),I.setFullYear(u),I):new Date(u,I,va,La,Xa,ab,Z)}function rb(u){const I=Date.UTC(u.getUTCFullYear(),0,1);return cb.count(I-1,u)}function Fb(u){const I=Date.UTC(u.getUTCFullYear(),0,1);return ca.count(I-1,u)}function Hb(u){z.setTime(Date.UTC(u,0,1));return z.getUTCDay()}function Bb(u,I,va,La,Xa,ab,Z){return 0<=u&&100>u?(u=new Date(Date.UTC(-1,I,va,La,Xa,ab,Z)),u.setUTCFullYear(va.y),u):new Date(Date.UTC(u,I,va,La,Xa,ab,Z))}function Lb(u,
I,va,La,Xa){const ab=I||1,Z=l.peek(u);I=(Rc,Pd,Pa)=>{Pa=Pa||Rc;return Wa(va[Pa],La[Pa],Rc===Z&&ab,Pd)};const Ca=new Date;u=l.toSet(u);const Ya=u.year?I("year"):l.constant(2012),Kb=u.month?I("month"):u.quarter?I("quarter"):l.zero,xc=u.week&&u.day?I("day",1,"weekday"):u.week?I("week",1):u.day?I("day",1):u.date?I("date",1):u.dayofyear?I("dayofyear",1):l.one,rc=u.hours?I("hours"):l.zero,yc=u.minutes?I("minutes"):l.zero,dd=u.seconds?I("seconds"):l.zero,$b=u.milliseconds?I("milliseconds"):l.zero;return function(Rc){Ca.setTime(+Rc);
Rc=Ya(Ca);return Xa(Rc,Kb(Ca),xc(Ca,Rc),rc(Ca),yc(Ca),dd(Ca),$b(Ca))}}function Wa(u,I,va,La){const Xa=1>=va?u:La?(ab,Z)=>La+va*Math.floor((u(ab,Z)-La)/va):(ab,Z)=>va*Math.floor(u(ab,Z)/va);return I?(ab,Z)=>I(Xa(ab,Z),Z):Xa}function pb(u,I,va){return I+7*u-(va+6)%7}const Na="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),Da=Na.reduce((u,I,va)=>(u[I]=1+va,u),{}),Ia={year:"%Y ",quarter:"Q%q ",month:"%b ",date:"%d ",week:"W%U ",day:"%a ",dayofyear:"%j ",hours:"%H:00",
minutes:"00:%M",seconds:":%S",milliseconds:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"};var kb=new Date,mb=new Date,Ma=hb(function(){},function(u,I){u.setTime(+u+I)},function(u,I){return I-u});Ma.every=function(u){u=Math.floor(u);return isFinite(u)&&0<u?1<u?hb(function(I){I.setTime(Math.floor(I/u)*u)},function(I,va){I.setTime(+I+va*u)},function(I,va){return(va-I)/u}):Ma:null};var vb=hb(function(u){u.setTime(u-u.getMilliseconds())},function(u,I){u.setTime(+u+
1E3*I)},function(u,I){return(I-u)/1E3},function(u){return u.getUTCSeconds()}),qb=hb(function(u){u.setTime(u-u.getMilliseconds()-1E3*u.getSeconds())},function(u,I){u.setTime(+u+6E4*I)},function(u,I){return(I-u)/6E4},function(u){return u.getMinutes()}),Ob=hb(function(u){u.setTime(u-u.getMilliseconds()-1E3*u.getSeconds()-6E4*u.getMinutes())},function(u,I){u.setTime(+u+36E5*I)},function(u,I){return(I-u)/36E5},function(u){return u.getHours()}),Vb=hb(u=>u.setHours(0,0,0,0),(u,I)=>u.setDate(u.getDate()+
I),(u,I)=>(I-u-6E4*(I.getTimezoneOffset()-u.getTimezoneOffset()))/864E5,u=>u.getDate()-1),ob=Cb(0);Cb(1);Cb(2);Cb(3);Cb(4);Cb(5);Cb(6);var ra=hb(function(u){u.setDate(1);u.setHours(0,0,0,0)},function(u,I){u.setMonth(u.getMonth()+I)},function(u,I){return I.getMonth()-u.getMonth()+12*(I.getFullYear()-u.getFullYear())},function(u){return u.getMonth()}),Y=hb(function(u){u.setMonth(0,1);u.setHours(0,0,0,0)},function(u,I){u.setFullYear(u.getFullYear()+I)},function(u,I){return I.getFullYear()-u.getFullYear()},
function(u){return u.getFullYear()});Y.every=function(u){return isFinite(u=Math.floor(u))&&0<u?hb(function(I){I.setFullYear(Math.floor(I.getFullYear()/u)*u);I.setMonth(0,1);I.setHours(0,0,0,0)},function(I,va){I.setFullYear(I.getFullYear()+va*u)}):null};var Ea=hb(function(u){u.setUTCSeconds(0,0)},function(u,I){u.setTime(+u+6E4*I)},function(u,I){return(I-u)/6E4},function(u){return u.getUTCMinutes()}),Ga=hb(function(u){u.setUTCMinutes(0,0,0)},function(u,I){u.setTime(+u+36E5*I)},function(u,I){return(I-
u)/36E5},function(u){return u.getUTCHours()}),cb=hb(function(u){u.setUTCHours(0,0,0,0)},function(u,I){u.setUTCDate(u.getUTCDate()+I)},function(u,I){return(I-u)/864E5},function(u){return u.getUTCDate()-1}),ca=Yb(0);Yb(1);Yb(2);Yb(3);Yb(4);Yb(5);Yb(6);var pa=hb(function(u){u.setUTCDate(1);u.setUTCHours(0,0,0,0)},function(u,I){u.setUTCMonth(u.getUTCMonth()+I)},function(u,I){return I.getUTCMonth()-u.getUTCMonth()+12*(I.getUTCFullYear()-u.getUTCFullYear())},function(u){return u.getUTCMonth()}),x=hb(function(u){u.setUTCMonth(0,
1);u.setUTCHours(0,0,0,0)},function(u,I){u.setUTCFullYear(u.getUTCFullYear()+I)},function(u,I){return I.getUTCFullYear()-u.getUTCFullYear()},function(u){return u.getUTCFullYear()});x.every=function(u){return isFinite(u=Math.floor(u))&&0<u?hb(function(I){I.setUTCFullYear(Math.floor(I.getUTCFullYear()/u)*u);I.setUTCMonth(0,1);I.setUTCHours(0,0,0,0)},function(I,va){I.setUTCFullYear(I.getUTCFullYear()+va*u)}):null};var N=Math.sqrt(50),S=Math.sqrt(10),g=Math.sqrt(2);const z=new Date,m={year:u=>u.getFullYear(),
quarter:u=>Math.floor(u.getMonth()/3),month:u=>u.getMonth(),date:u=>u.getDate(),hours:u=>u.getHours(),minutes:u=>u.getMinutes(),seconds:u=>u.getSeconds(),milliseconds:u=>u.getMilliseconds(),dayofyear:u=>jc(u),week:u=>Sb(u),weekday:(u,I)=>pb(Sb(u),u.getDay(),Ab(I).getDay()),day:(u,I)=>pb(1,u.getDay(),Ab(I).getDay())},E={quarter:u=>3*u,week:(u,I)=>pb(u,0,Ab(I).getDay())},h={year:u=>u.getUTCFullYear(),quarter:u=>Math.floor(u.getUTCMonth()/3),month:u=>u.getUTCMonth(),date:u=>u.getUTCDate(),hours:u=>u.getUTCHours(),
minutes:u=>u.getUTCMinutes(),seconds:u=>u.getUTCSeconds(),milliseconds:u=>u.getUTCMilliseconds(),dayofyear:u=>rb(u),week:u=>Fb(u),day:(u,I)=>pb(1,u.getUTCDay(),Hb(I)),weekday:(u,I)=>pb(Fb(u),u.getUTCDay(),Hb(I))},p={quarter:u=>3*u,week:(u,I)=>pb(u,0,Hb(I))},r={year:Y,quarter:ra.every(3),month:ra,week:ob,date:Vb,day:Vb,dayofyear:Vb,hours:Ob,minutes:qb,seconds:vb,milliseconds:Ma},v={year:x,quarter:pa.every(3),month:pa,week:ca,date:cb,day:cb,dayofyear:cb,hours:Ga,minutes:Ea,seconds:vb,milliseconds:Ma},
F="year month date hours minutes seconds milliseconds".split(" ");vb=F.slice(0,-1);qb=vb.slice(0,-1);Ob=qb.slice(0,-1);ra=Ob.slice(0,-1);Y=["year","month"];const aa=["year"],O=[[vb,1,1E3],[vb,5,5E3],[vb,15,15E3],[vb,30,3E4],[qb,1,6E4],[qb,5,3E5],[qb,15,9E5],[qb,30,18E5],[Ob,1,36E5],[Ob,3,108E5],[Ob,6,216E5],[Ob,12,432E5],[ra,1,864E5],[["year","week"],1,6048E5],[Y,1,2592E6],[Y,3,7776E6],[aa,1,31536E6]];t.DATE="date";t.DAY="day";t.DAYOFYEAR="dayofyear";t.HOURS="hours";t.MILLISECONDS="milliseconds";
t.MINUTES="minutes";t.MONTH="month";t.QUARTER="quarter";t.SECONDS="seconds";t.TIME_UNITS=Na;t.WEEK="week";t.YEAR="year";t.dayofyear=function(u){return jc(new Date(u))};t.timeBin=function(u){var I=u.extent;u=u.maxbins||40;var va=Math.abs(l.span(I))/u;let La=zc(Xa=>Xa[2]).right(O,va);La===O.length?(va=aa,I=pc(I[0]/31536E6,I[1]/31536E6,u)):La?(La=O[va/O[La-1][2]<O[La][2]/va?La-1:La],va=La[0],I=La[1]):(va=F,I=Math.max(pc(I[0],I[1],u),1));return{units:va,step:I}};t.timeFloor=function(u,I){return Lb(u,
I||1,m,E,Ua)};t.timeInterval=function(u){return r[u]};t.timeOffset=function(u,I,va){return(u=r[u])?u.offset(I,va):void 0};t.timeSequence=function(u,I,va,La){return(u=r[u])?u.range(I,va,La):void 0};t.timeUnitSpecifier=function(u,I){I=l.extend({},Ia,I);u=R(u);const va=u.length;let La="",Xa,ab,Z;for(Xa=0;Xa<va;)for(ab=u.length;ab>Xa;--ab)if(Z=u.slice(Xa,ab).join("-"),null!=I[Z]){La+=I[Z];Xa=ab;break}return La.trim()};t.timeUnits=R;t.utcFloor=function(u,I){return Lb(u,I||1,h,p,Bb)};t.utcInterval=function(u){return v[u]};
t.utcOffset=function(u,I,va){return(u=v[u])?u.offset(I,va):void 0};t.utcSequence=function(u,I,va,La){return(u=v[u])?u.range(I,va,La):void 0};t.utcdayofyear=function(u){return rb(new Date(u))};t.utcweek=function(u){return Fb(new Date(u))};t.week=function(u){return Sb(new Date(u))};Object.defineProperty(t,"__esModule",{value:!0})})};
shadow$provide[43]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(42),Eb(40)):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l(t.vega={},t.vega,t.vega))})(this,function(t,l,R){function hb(L){const fa={};return Sa=>fa[Sa]||(fa[Sa]=L(Sa))}function Cb(L,fa){if(0>(fa=(L=fa?L.toExponential(fa-1):L.toExponential()).indexOf("e")))return null;var Sa=L.slice(0,fa);return[1<
Sa.length?Sa[0]+Sa.slice(2):Sa,+L.slice(fa+1)]}function Yb(L){return L=Cb(Math.abs(L)),L?L[1]:NaN}function sc(L,fa){return function(Sa,cc){for(var Jc=Sa.length,Bc=[],$c=0,pd=L[0],ee=0;0<Jc&&0<pd;){ee+pd+1>cc&&(pd=Math.max(1,cc-ee));Bc.push(Sa.substring(Jc-=pd,Jc+pd));if((ee+=pd+1)>cc)break;pd=L[$c=($c+1)%L.length]}return Bc.reverse().join(fa)}}function zc(L){return function(fa){return fa.replace(/[0-9]/g,function(Sa){return L[+Sa]})}}function pc(L){if(!(fa=Ud.exec(L)))throw Error("invalid format: "+
L);var fa;return new Ab({fill:fa[1],align:fa[2],sign:fa[3],symbol:fa[4],zero:fa[5],width:fa[6],comma:fa[7],precision:fa[8]&&fa[8].slice(1),trim:fa[9],type:fa[10]})}function Ab(L){this.fill=void 0===L.fill?" ":L.fill+"";this.align=void 0===L.align?"\x3e":L.align+"";this.sign=void 0===L.sign?"-":L.sign+"";this.symbol=void 0===L.symbol?"":L.symbol+"";this.zero=!!L.zero;this.width=void 0===L.width?void 0:+L.width;this.comma=!!L.comma;this.precision=void 0===L.precision?void 0:+L.precision;this.trim=!!L.trim;
this.type=void 0===L.type?"":L.type+""}function jc(L,fa){fa=Cb(L,fa);if(!fa)return L+"";L=fa[0];fa=fa[1];return 0>fa?"0."+Array(-fa).join("0")+L:L.length>fa+1?L.slice(0,fa+1)+"."+L.slice(fa+1):L+Array(fa-L.length+2).join("0")}function Sb(L){return L}function Ua(L){function fa(eb){function qc(Fc){var bd=Me,Gc=$e,Jd,Zd;if("c"===ve)Gc=sf(Fc)+Gc,Fc="";else{Fc=+Fc;var $d=0>Fc||0>1/Fc;Fc=isNaN(Fc)?Ra:sf(Math.abs(Fc),Cd);if(be){var ke=Fc.length,Q=1,ea=-1;a:for(;Q<ke;++Q)switch(Fc[Q]){case ".":ea=Jd=Q;break;
case "0":0===ea&&(ea=Q);Jd=Q;break;default:if(!+Fc[Q])break a;0<ea&&(ea=0)}Fc=0<ea?Fc.slice(0,ea)+Fc.slice(Jd+1):Fc}$d&&0===+Fc&&"+"!==Uc&&($d=!1);bd=($d?"("===Uc?Uc:ee:"-"===Uc||"("===Uc?"":Uc)+bd;Gc=("s"===ve?na[8+Ye/3]:"")+Gc+($d&&"("===Uc?")":"");if(nd)for($d=-1,Jd=Fc.length;++$d<Jd;)if(Zd=Fc.charCodeAt($d),48>Zd||57<Zd){Gc=(46===Zd?Bc+Fc.slice($d+1):Fc.slice($d))+Gc;Fc=Fc.slice(0,$d);break}}Ld&&!td&&(Fc=Sa(Fc,Infinity));Zd=bd.length+Fc.length+Gc.length;$d=Zd<kd?Array(kd-Zd+1).join(wd):"";Ld&&
td&&(Fc=Sa($d+Fc,$d.length?kd-Gc.length:Infinity),$d="");switch(Mc){case "\x3c":Fc=bd+Fc+Gc+$d;break;case "\x3d":Fc=bd+$d+Fc+Gc;break;case "^":Fc=$d.slice(0,Zd=$d.length>>1)+bd+Fc+Gc+$d.slice(Zd);break;default:Fc=$d+bd+Fc+Gc}return $c(Fc)}eb=pc(eb);var wd=eb.fill,Mc=eb.align,Uc=eb.sign,Qc=eb.symbol,td=eb.zero,kd=eb.width,Ld=eb.comma,Cd=eb.precision,be=eb.trim,ve=eb.type;"n"===ve?(Ld=!0,ve="g"):Wd[ve]||(void 0===Cd&&(Cd=12),be=!0,ve="g");if(td||"0"===wd&&"\x3d"===Mc)td=!0,wd="0",Mc="\x3d";var Me="$"===
Qc?cc:"#"===Qc&&/[boxX]/.test(ve)?"0"+ve.toLowerCase():"",$e="$"===Qc?Jc:/[%p]/.test(ve)?pd:"",sf=Wd[ve],nd=/[defgprs%]/.test(ve);Cd=void 0===Cd?6:/[gprs]/.test(ve)?Math.max(1,Math.min(21,Cd)):Math.max(0,Math.min(20,Cd));qc.toString=function(){return eb+""};return qc}var Sa=void 0===L.grouping||void 0===L.thousands?Sb:sc(P.call(L.grouping,Number),L.thousands+""),cc=void 0===L.currency?"":L.currency[0]+"",Jc=void 0===L.currency?"":L.currency[1]+"",Bc=void 0===L.decimal?".":L.decimal+"",$c=void 0===
L.numerals?Sb:zc(P.call(L.numerals,String)),pd=void 0===L.percent?"%":L.percent+"",ee=void 0===L.minus?"":L.minus+"",Ra=void 0===L.nan?"NaN":L.nan+"";return{format:fa,formatPrefix:function(eb,qc){var wd=fa((eb=pc(eb),eb.type="f",eb));eb=3*Math.max(-8,Math.min(8,Math.floor(Yb(qc)/3)));var Mc=Math.pow(10,-eb),Uc=na[8+eb/3];return function(Qc){return wd(Mc*Qc)+Uc}}}}function rb(L,fa){return Sa=>{Sa=L(Sa);const cc=Sa.indexOf(fa);if(0>cc)return Sa;a:{var Jc=Sa.lastIndexOf("e");if(!(0<Jc)){for(Jc=Sa.length;--Jc>
cc;){var Bc=Sa.charCodeAt(Jc);if(48<=Bc&&57>=Bc){Jc+=1;break a}}Jc=void 0}}for(Bc=Jc<Sa.length?Sa.slice(Jc):"";--Jc>cc;)if("0"!==Sa[Jc]){++Jc;break}return Sa.slice(0,Jc)+Bc}}function Fb(L){const fa=hb(L.format),Sa=L.formatPrefix;return{format:fa,formatPrefix:Sa,formatFloat(cc){cc=pc(cc||",");if(null==cc.precision){cc.precision=12;switch(cc.type){case "%":cc.precision-=2;break;case "e":--cc.precision}return rb(fa(cc),fa(".1f")(1)[1])}return fa(cc)},formatSpan(cc,Jc,Bc,$c){$c=pc(null==$c?",f":$c);var pd=
Math.abs(Jc-cc)/Math.max(0,Bc);Bc=Math.pow(10,Math.floor(Math.log(pd)/Math.LN10));pd/=Bc;pd>=Ed?Bc*=10:pd>=Yd?Bc*=5:pd>=ae&&(Bc*=2);Bc=Jc<cc?-Bc:Bc;cc=Math.max(Math.abs(cc),Math.abs(Jc));if(null==$c.precision)switch($c.type){case "s":return Jc=isNaN,Bc=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Yb(cc)/3)))-Yb(Math.abs(Bc))),Jc(Jc=Bc)||($c.precision=Jc),Sa($c,cc);case "":case "e":case "g":case "p":case "r":Jc=isNaN;Bc=Math.abs(Bc);cc=Math.abs(cc)-Bc;cc=Math.max(0,Yb(cc)-Yb(Bc))+1;Jc(Jc=cc)||($c.precision=
Jc-("e"===$c.type));break;case "f":case "%":isNaN(Jc=Math.max(0,-Yb(Math.abs(Bc))))||($c.precision=Jc-2*("%"===$c.type))}return fa($c)}}}function Hb(){return Zb=Fb({format:fb,formatPrefix:Jb})}function Bb(L){return Fb(Ua(L))}function Lb(L){return arguments.length?Zb=Bb(L):Zb}function Wa(L,fa,Sa,cc){function Jc(Bc){return L(Bc=0===arguments.length?new Date:new Date(+Bc)),Bc}Jc.floor=function(Bc){return L(Bc=new Date(+Bc)),Bc};Jc.ceil=function(Bc){return L(Bc=new Date(Bc-1)),fa(Bc,1),L(Bc),Bc};Jc.round=
function(Bc){var $c=Jc(Bc),pd=Jc.ceil(Bc);return Bc-$c<pd-Bc?$c:pd};Jc.offset=function(Bc,$c){return fa(Bc=new Date(+Bc),null==$c?1:Math.floor($c)),Bc};Jc.range=function(Bc,$c,pd){var ee=[],Ra;Bc=Jc.ceil(Bc);pd=null==pd?1:Math.floor(pd);if(!(Bc<$c&&0<pd))return ee;do ee.push(Ra=new Date(+Bc)),fa(Bc,pd),L(Bc);while(Ra<Bc&&Bc<$c);return ee};Jc.filter=function(Bc){return Wa(function($c){if($c>=$c)for(;L($c),!Bc($c);)$c.setTime($c-1)},function($c,pd){if($c>=$c)if(0>pd)for(;0>=++pd;)for(;fa($c,-1),!Bc($c););
else for(;0<=--pd;)for(;fa($c,1),!Bc($c););})};Sa&&(Jc.count=function(Bc,$c){Cc.setTime(+Bc);mc.setTime(+$c);L(Cc);L(mc);return Math.floor(Sa(Cc,mc))},Jc.every=function(Bc){Bc=Math.floor(Bc);return isFinite(Bc)&&0<Bc?1<Bc?Jc.filter(cc?function($c){return 0===cc($c)%Bc}:function($c){return 0===Jc.count(0,$c)%Bc}):Jc:null});return Jc}function pb(L){return Wa(function(fa){fa.setDate(fa.getDate()-(fa.getDay()+7-L)%7);fa.setHours(0,0,0,0)},function(fa,Sa){fa.setDate(fa.getDate()+7*Sa)},function(fa,Sa){return(Sa-
fa-6E4*(Sa.getTimezoneOffset()-fa.getTimezoneOffset()))/6048E5})}function Na(L){return Wa(function(fa){fa.setUTCDate(fa.getUTCDate()-(fa.getUTCDay()+7-L)%7);fa.setUTCHours(0,0,0,0)},function(fa,Sa){fa.setUTCDate(fa.getUTCDate()+7*Sa)},function(fa,Sa){return(Sa-fa)/6048E5})}function Da(L){if(0<=L.y&&100>L.y){var fa=new Date(-1,L.m,L.d,L.H,L.M,L.S,L.L);fa.setFullYear(L.y);return fa}return new Date(L.y,L.m,L.d,L.H,L.M,L.S,L.L)}function Ia(L){if(0<=L.y&&100>L.y){var fa=new Date(Date.UTC(-1,L.m,L.d,L.H,
L.M,L.S,L.L));fa.setUTCFullYear(L.y);return fa}return new Date(Date.UTC(L.y,L.m,L.d,L.H,L.M,L.S,L.L))}function kb(L,fa,Sa){return{y:L,m:fa,d:Sa,H:0,M:0,S:0,L:0}}function mb(L){function fa(nd,Fc){return function(bd){var Gc=[],Jd=-1,Zd=0,$d=nd.length,ke,Q;for(bd instanceof Date||(bd=new Date(+bd));++Jd<$d;)if(37===nd.charCodeAt(Jd)){Gc.push(nd.slice(Zd,Jd));null!=(Zd=ef[ke=nd.charAt(++Jd)])?ke=nd.charAt(++Jd):Zd="e"===ke?" ":"0";if(Q=Fc[ke])ke=Q(bd,Zd);Gc.push(ke);Zd=Jd+1}Gc.push(nd.slice(Zd,Jd));return Gc.join("")}}
function Sa(nd,Fc){return function(bd){var Gc=kb(1900,void 0,1);if(cc(Gc,nd,bd+="",0)!=bd.length)return null;if("Q"in Gc)return new Date(Gc.Q);if("s"in Gc)return new Date(1E3*Gc.s+("L"in Gc?Gc.L:0));!Fc||"Z"in Gc||(Gc.Z=0);"p"in Gc&&(Gc.H=Gc.H%12+12*Gc.p);void 0===Gc.m&&(Gc.m="q"in Gc?Gc.q:0);if("V"in Gc){if(1>Gc.V||53<Gc.V)return null;"w"in Gc||(Gc.w=1);if("Z"in Gc){bd=Ia(kb(Gc.y,0,1));var Jd=bd.getUTCDay();bd=4<Jd||0===Jd?qe.ceil(bd):qe(bd);bd=Xd.offset(bd,7*(Gc.V-1));Gc.y=bd.getUTCFullYear();Gc.m=
bd.getUTCMonth();Gc.d=bd.getUTCDate()+(Gc.w+6)%7}else bd=Da(kb(Gc.y,0,1)),Jd=bd.getDay(),bd=4<Jd||0===Jd?Nc.ceil(bd):Nc(bd),bd=Hc.offset(bd,7*(Gc.V-1)),Gc.y=bd.getFullYear(),Gc.m=bd.getMonth(),Gc.d=bd.getDate()+(Gc.w+6)%7}else if("W"in Gc||"U"in Gc)"w"in Gc||(Gc.w="u"in Gc?Gc.u%7:"W"in Gc?1:0),Jd="Z"in Gc?Ia(kb(Gc.y,0,1)).getUTCDay():Da(kb(Gc.y,0,1)).getDay(),Gc.m=0,Gc.d="W"in Gc?(Gc.w+6)%7+7*Gc.W-(Jd+5)%7:Gc.w+7*Gc.U-(Jd+6)%7;return"Z"in Gc?(Gc.H+=Gc.Z/100|0,Gc.M+=Gc.Z%100,Ia(Gc)):Da(Gc)}}function cc(nd,
Fc,bd,Gc){for(var Jd=0,Zd=Fc.length,$d=bd.length,ke;Jd<Zd;){if(Gc>=$d)return-1;ke=Fc.charCodeAt(Jd++);if(37===ke){if(ke=Fc.charAt(Jd++),ke=sf[ke in ef?Fc.charAt(Jd++):ke],!ke||0>(Gc=ke(nd,bd,Gc)))return-1}else if(ke!=bd.charCodeAt(Gc++))return-1}return Gc}var Jc=L.dateTime,Bc=L.date,$c=L.time,pd=L.periods,ee=L.days,Ra=L.shortDays,eb=L.months,qc=L.shortMonths,wd=qb(pd),Mc=Ob(pd),Uc=qb(ee),Qc=Ob(ee),td=qb(Ra),kd=Ob(Ra),Ld=qb(eb),Cd=Ob(eb),be=qb(qc),ve=Ob(qc),Me={a:function(nd){return Ra[nd.getDay()]},
A:function(nd){return ee[nd.getDay()]},b:function(nd){return qc[nd.getMonth()]},B:function(nd){return eb[nd.getMonth()]},c:null,d:F,e:F,f:va,g:dd,G:Rc,H:aa,I:O,j:u,L:I,m:La,M:Xa,p:function(nd){return pd[+(12<=nd.getHours())]},q:function(nd){return 1+~~(nd.getMonth()/3)},Q:oc,s:ec,S:ab,u:Z,U:Ca,V:Kb,w:xc,W:rc,x:null,X:null,y:yc,Y:$b,Z:Pd,"%":Gb},$e={a:function(nd){return Ra[nd.getUTCDay()]},A:function(nd){return ee[nd.getUTCDay()]},b:function(nd){return qc[nd.getUTCMonth()]},B:function(nd){return eb[nd.getUTCMonth()]},
c:null,d:Pa,e:Pa,f:dc,g:za,G:$a,H:Wb,I:sb,j:Tb,L:ic,m:Ic,M:Ac,p:function(nd){return pd[+(12<=nd.getUTCHours())]},q:function(nd){return 1+~~(nd.getUTCMonth()/3)},Q:oc,s:ec,S:Zc,u:Nd,U:ud,V:gb,w:wb,W:ua,x:null,X:null,y:H,Y:Qa,Z:lb,"%":Gb},sf={a:function(nd,Fc,bd){return(Fc=td.exec(Fc.slice(bd)))?(nd.w=kd.get(Fc[0].toLowerCase()),bd+Fc[0].length):-1},A:function(nd,Fc,bd){return(Fc=Uc.exec(Fc.slice(bd)))?(nd.w=Qc.get(Fc[0].toLowerCase()),bd+Fc[0].length):-1},b:function(nd,Fc,bd){return(Fc=be.exec(Fc.slice(bd)))?
(nd.m=ve.get(Fc[0].toLowerCase()),bd+Fc[0].length):-1},B:function(nd,Fc,bd){return(Fc=Ld.exec(Fc.slice(bd)))?(nd.m=Cd.get(Fc[0].toLowerCase()),bd+Fc[0].length):-1},c:function(nd,Fc,bd){return cc(nd,Jc,Fc,bd)},d:N,e:N,f:h,g:cb,G:Ga,H:g,I:g,j:S,L:E,m:x,M:z,p:function(nd,Fc,bd){return(Fc=wd.exec(Fc.slice(bd)))?(nd.p=Mc.get(Fc[0].toLowerCase()),bd+Fc[0].length):-1},q:pa,Q:r,s:v,S:m,u:ob,U:ra,V:Y,w:Vb,W:Ea,x:function(nd,Fc,bd){return cc(nd,Bc,Fc,bd)},X:function(nd,Fc,bd){return cc(nd,$c,Fc,bd)},y:cb,Y:Ga,
Z:ca,"%":p};Me.x=fa(Bc,Me);Me.X=fa($c,Me);Me.c=fa(Jc,Me);$e.x=fa(Bc,$e);$e.X=fa($c,$e);$e.c=fa(Jc,$e);return{format:function(nd){var Fc=fa(nd+="",Me);Fc.toString=function(){return nd};return Fc},parse:function(nd){var Fc=Sa(nd+="",!1);Fc.toString=function(){return nd};return Fc},utcFormat:function(nd){var Fc=fa(nd+="",$e);Fc.toString=function(){return nd};return Fc},utcParse:function(nd){var Fc=Sa(nd+="",!0);Fc.toString=function(){return nd};return Fc}}}function Ma(L,fa,Sa){var cc=0>L?"-":"";L=(cc?
-L:L)+"";var Jc=L.length;return cc+(Jc<Sa?Array(Sa-Jc+1).join(fa)+L:L)}function vb(L){return L.replace(W,"\\$\x26")}function qb(L){return new RegExp("^(?:"+L.map(vb).join("|")+")","i")}function Ob(L){return new Map(L.map((fa,Sa)=>[fa.toLowerCase(),Sa]))}function Vb(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+1)))?(L.w=+fa[0],Sa+fa[0].length):-1}function ob(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+1)))?(L.u=+fa[0],Sa+fa[0].length):-1}function ra(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(L.U=+fa[0],
Sa+fa[0].length):-1}function Y(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(L.V=+fa[0],Sa+fa[0].length):-1}function Ea(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(L.W=+fa[0],Sa+fa[0].length):-1}function Ga(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+4)))?(L.y=+fa[0],Sa+fa[0].length):-1}function cb(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(L.y=+fa[0]+(68<+fa[0]?1900:2E3),Sa+fa[0].length):-1}function ca(L,fa,Sa){return(fa=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(fa.slice(Sa,Sa+6)))?(L.Z=fa[1]?
0:-(fa[2]+(fa[3]||"00")),Sa+fa[0].length):-1}function pa(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+1)))?(L.q=3*fa[0]-3,Sa+fa[0].length):-1}function x(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(L.m=fa[0]-1,Sa+fa[0].length):-1}function N(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(L.d=+fa[0],Sa+fa[0].length):-1}function S(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+3)))?(L.m=0,L.d=+fa[0],Sa+fa[0].length):-1}function g(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(L.H=+fa[0],Sa+fa[0].length):
-1}function z(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(L.M=+fa[0],Sa+fa[0].length):-1}function m(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(L.S=+fa[0],Sa+fa[0].length):-1}function E(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+3)))?(L.L=+fa[0],Sa+fa[0].length):-1}function h(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+6)))?(L.L=Math.floor(fa[0]/1E3),Sa+fa[0].length):-1}function p(L,fa,Sa){return(L=nf.exec(fa.slice(Sa,Sa+1)))?Sa+L[0].length:-1}function r(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa)))?
(L.Q=+fa[0],Sa+fa[0].length):-1}function v(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa)))?(L.s=+fa[0],Sa+fa[0].length):-1}function F(L,fa){return Ma(L.getDate(),fa,2)}function aa(L,fa){return Ma(L.getHours(),fa,2)}function O(L,fa){return Ma(L.getHours()%12||12,fa,2)}function u(L,fa){return Ma(1+Hc.count(Fd(L),L),fa,3)}function I(L,fa){return Ma(L.getMilliseconds(),fa,3)}function va(L,fa){return I(L,fa)+"000"}function La(L,fa){return Ma(L.getMonth()+1,fa,2)}function Xa(L,fa){return Ma(L.getMinutes(),fa,
2)}function ab(L,fa){return Ma(L.getSeconds(),fa,2)}function Z(L){L=L.getDay();return 0===L?7:L}function Ca(L,fa){return Ma(jd.count(Fd(L)-1,L),fa,2)}function Ya(L){var fa=L.getDay();return 4<=fa||0===fa?vd(L):vd.ceil(L)}function Kb(L,fa){L=Ya(L);return Ma(vd.count(Fd(L),L)+(4===Fd(L).getDay()),fa,2)}function xc(L){return L.getDay()}function rc(L,fa){return Ma(Nc.count(Fd(L)-1,L),fa,2)}function yc(L,fa){return Ma(L.getFullYear()%100,fa,2)}function dd(L,fa){L=Ya(L);return Ma(L.getFullYear()%100,fa,
2)}function $b(L,fa){return Ma(L.getFullYear()%1E4,fa,4)}function Rc(L,fa){var Sa=L.getDay();L=4<=Sa||0===Sa?vd(L):vd.ceil(L);return Ma(L.getFullYear()%1E4,fa,4)}function Pd(L){L=L.getTimezoneOffset();return(0<L?"-":(L*=-1,"+"))+Ma(L/60|0,"0",2)+Ma(L%60,"0",2)}function Pa(L,fa){return Ma(L.getUTCDate(),fa,2)}function Wb(L,fa){return Ma(L.getUTCHours(),fa,2)}function sb(L,fa){return Ma(L.getUTCHours()%12||12,fa,2)}function Tb(L,fa){return Ma(1+Xd.count(df(L),L),fa,3)}function ic(L,fa){return Ma(L.getUTCMilliseconds(),
fa,3)}function dc(L,fa){return ic(L,fa)+"000"}function Ic(L,fa){return Ma(L.getUTCMonth()+1,fa,2)}function Ac(L,fa){return Ma(L.getUTCMinutes(),fa,2)}function Zc(L,fa){return Ma(L.getUTCSeconds(),fa,2)}function Nd(L){L=L.getUTCDay();return 0===L?7:L}function ud(L,fa){return Ma(Od.count(df(L)-1,L),fa,2)}function Ha(L){var fa=L.getUTCDay();return 4<=fa||0===fa?De(L):De.ceil(L)}function gb(L,fa){L=Ha(L);return Ma(De.count(df(L),L)+(4===df(L).getUTCDay()),fa,2)}function wb(L){return L.getUTCDay()}function ua(L,
fa){return Ma(qe.count(df(L)-1,L),fa,2)}function H(L,fa){return Ma(L.getUTCFullYear()%100,fa,2)}function za(L,fa){L=Ha(L);return Ma(L.getUTCFullYear()%100,fa,2)}function Qa(L,fa){return Ma(L.getUTCFullYear()%1E4,fa,4)}function $a(L,fa){var Sa=L.getUTCDay();L=4<=Sa||0===Sa?De(L):De.ceil(L);return Ma(L.getUTCFullYear()%1E4,fa,4)}function lb(){return"+0000"}function Gb(){return"%"}function oc(L){return+L}function ec(L){return Math.floor(+L/1E3)}function kc(L,fa,Sa){Sa=Sa||{};R.isObject(Sa)||R.error(`Invalid time multi-format specifier: ${Sa}`);
const cc=fa(l.SECONDS),Jc=fa(l.MINUTES),Bc=fa(l.HOURS),$c=fa(l.DATE),pd=fa(l.WEEK),ee=fa(l.MONTH),Ra=fa(l.QUARTER),eb=fa(l.YEAR),qc=L(Sa[l.MILLISECONDS]||".%L"),wd=L(Sa[l.SECONDS]||":%S"),Mc=L(Sa[l.MINUTES]||"%I:%M"),Uc=L(Sa[l.HOURS]||"%I %p"),Qc=L(Sa[l.DATE]||Sa[l.DAY]||"%a %d"),td=L(Sa[l.WEEK]||"%b %d"),kd=L(Sa[l.MONTH]||"%B"),Ld=L(Sa[l.QUARTER]||"%B"),Cd=L(Sa[l.YEAR]||"%Y");return be=>(cc(be)<be?qc:Jc(be)<be?wd:Bc(be)<be?Mc:$c(be)<be?Uc:ee(be)<be?pd(be)<be?Qc:td:eb(be)<be?Ra(be)<be?kd:Ld:Cd)(be)}
function Sc(L){const fa=hb(L.format),Sa=hb(L.utcFormat);return{timeFormat:cc=>R.isString(cc)?fa(cc):kc(fa,l.timeInterval,cc),utcFormat:cc=>R.isString(cc)?Sa(cc):kc(Sa,l.utcInterval,cc),timeParse:hb(L.parse),utcParse:hb(L.utcParse)}}function ed(){return ac=Sc({format:db,parse:yb,utcFormat:hc,utcParse:Ec})}function fd(L){return Sc(mb(L))}function Qd(L){return arguments.length?ac=fd(L):ac}function Td(L,fa){var Sa=arguments.length;Sa&&2!==Sa&&R.error("defaultLocale expects either zero or two arguments.");
if(Sa){Sa=Lb(L);var cc=Qd(fa);Sa=R.extend({},Sa,cc)}else Sa=Lb(),cc=Qd(),Sa=R.extend({},Sa,cc);return Sa}var Ed=Math.sqrt(50),Yd=Math.sqrt(10),ae=Math.sqrt(2),Ud=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;pc.prototype=Ab.prototype;Ab.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?
"~":"")+this.type};var Ye,Wd={"%":(L,fa)=>(100*L).toFixed(fa),b:L=>Math.round(L).toString(2),c:L=>L+"",d:function(L){return 1E21<=Math.abs(L=Math.round(L))?L.toLocaleString("en").replace(/,/g,""):L.toString(10)},e:(L,fa)=>L.toExponential(fa),f:(L,fa)=>L.toFixed(fa),g:(L,fa)=>L.toPrecision(fa),o:L=>Math.round(L).toString(8),p:(L,fa)=>jc(100*L,fa),r:jc,s:function(L,fa){var Sa=Cb(L,fa);if(!Sa)return L+"";var cc=Sa[0];Sa=Sa[1];Sa=Sa-(Ye=3*Math.max(-8,Math.min(8,Math.floor(Sa/3))))+1;var Jc=cc.length;
return Sa===Jc?cc:Sa>Jc?cc+Array(Sa-Jc+1).join("0"):0<Sa?cc.slice(0,Sa)+"."+cc.slice(Sa):"0."+Array(1-Sa).join("0")+Cb(L,Math.max(0,fa+Sa-1))[0]},X:L=>Math.round(L).toString(16).toUpperCase(),x:L=>Math.round(L).toString(16)},P=Array.prototype.map,na="y z a f p n  m  k M G T P E Z Y".split(" "),Aa,fb,Jb;(function(L){Aa=Ua(L);fb=Aa.format;Jb=Aa.formatPrefix;return Aa})({thousands:",",grouping:[3],currency:["$",""]});let Zb;Hb();var Cc=new Date,mc=new Date,Hc=Wa(L=>L.setHours(0,0,0,0),(L,fa)=>L.setDate(L.getDate()+
fa),(L,fa)=>(fa-L-6E4*(fa.getTimezoneOffset()-L.getTimezoneOffset()))/864E5,L=>L.getDate()-1),jd=pb(0),Nc=pb(1);pb(2);pb(3);var vd=pb(4);pb(5);pb(6);var Gd=Wa(function(L){L.setMonth(0,1);L.setHours(0,0,0,0)},function(L,fa){L.setFullYear(L.getFullYear()+fa)},function(L,fa){return fa.getFullYear()-L.getFullYear()},function(L){return L.getFullYear()});Gd.every=function(L){return isFinite(L=Math.floor(L))&&0<L?Wa(function(fa){fa.setFullYear(Math.floor(fa.getFullYear()/L)*L);fa.setMonth(0,1);fa.setHours(0,
0,0,0)},function(fa,Sa){fa.setFullYear(fa.getFullYear()+Sa*L)}):null};var Fd=Gd,Xd=Wa(function(L){L.setUTCHours(0,0,0,0)},function(L,fa){L.setUTCDate(L.getUTCDate()+fa)},function(L,fa){return(fa-L)/864E5},function(L){return L.getUTCDate()-1}),Od=Na(0),qe=Na(1);Na(2);Na(3);var De=Na(4);Na(5);Na(6);var gf=Wa(function(L){L.setUTCMonth(0,1);L.setUTCHours(0,0,0,0)},function(L,fa){L.setUTCFullYear(L.getUTCFullYear()+fa)},function(L,fa){return fa.getUTCFullYear()-L.getUTCFullYear()},function(L){return L.getUTCFullYear()});
gf.every=function(L){return isFinite(L=Math.floor(L))&&0<L?Wa(function(fa){fa.setUTCFullYear(Math.floor(fa.getUTCFullYear()/L)*L);fa.setUTCMonth(0,1);fa.setUTCHours(0,0,0,0)},function(fa,Sa){fa.setUTCFullYear(fa.getUTCFullYear()+Sa*L)}):null};var df=gf,ef={"-":"",_:" ",0:"0"},pe=/^\s*\d+/,nf=/^%/,W=/[\\^$*+?|[\]().{}]/g,wa,db,yb,hc,Ec;(function(L){wa=mb(L);db=wa.format;yb=wa.parse;hc=wa.utcFormat;Ec=wa.utcParse;return wa})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],
days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});let ac;ed();t.defaultLocale=Td;t.locale=function(L,fa){L=L?Bb(L):Lb();fa=fa?fd(fa):Qd();return R.extend({},L,fa)};t.numberFormatDefaultLocale=Lb;t.numberFormatLocale=Bb;t.resetDefaultLocale=function(){Hb();
ed();return Td()};t.resetNumberFormatDefaultLocale=Hb;t.resetTimeFormatDefaultLocale=ed;t.timeFormatDefaultLocale=Qd;t.timeFormatLocale=fd;Object.defineProperty(t,"__esModule",{value:!0})})};
shadow$provide[44]=function(fc,Eb,Wc,nb){var t=Eb(26).Buffer;(function(l,R){"object"===typeof nb&&"undefined"!==typeof Wc?R(nb,Eb(40),Eb(21),Eb(43)):"function"===typeof define&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],R):(l="undefined"!==typeof globalThis?globalThis:l||self,R(l.vega={},l.vega,l.topojson,l.vega))})(this,function(l,R,hb,Cb){function Yb(ca,pa){const x=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const N=yield x.sanitize(ca,pa),
S=N.href;return N.localFile?x.file(S):x.http(S,pa)})}function sc(ca,pa){const x=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){pa=R.extend({},x.options,pa);const N=x.fileAccess,S={href:null};var g;let z;var m=Ma.test(ca.replace(vb,""));null!=ca&&"string"===typeof ca&&m||R.error("Sanitize failure, invalid URI: "+R.stringValue(ca));m=mb.test(ca);(g=pa.baseURL)&&!m&&(ca.startsWith("/")||g.endsWith("/")||(ca="/"+ca),ca=g+ca);z=(g=ca.startsWith("file://"))||"file"===pa.mode||"http"!==
pa.mode&&!m&&N;g?ca=ca.slice(7):ca.startsWith("//")&&("file"===pa.defaultProtocol?(ca=ca.slice(2),z=!0):ca=(pa.defaultProtocol||"http")+":"+ca);Object.defineProperty(S,"localFile",{value:!!z});S.href=ca;pa.target&&(S.target=pa.target+"");pa.rel&&(S.rel=pa.rel+"");"image"===pa.context&&pa.crossOrigin&&(S.crossOrigin=pa.crossOrigin+"");return S})}function zc(ca){return ca?pa=>new Promise((x,N)=>{ca.readFile(pa,(S,g)=>{S?N(S):x(g)})}):pc}function pc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){R.error("No file system access.")})}
function Ab(ca){return ca?function(pa,x){const N=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var S=R.extend({},N.options.http,x);const g=x&&x.response;S=yield ca(pa,S);return S.ok?R.isFunction(S[g])?S[g]():S.text():R.error(S.status+""+S.statusText)})}:jc}function jc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){R.error("No HTTP fetch method available.")})}function Sb(ca,pa){if(!ca||!ca.length)return"unknown";const x=ca.length,N=Vb.length,S=Vb.map((g,z)=>
z+1);for(let g=0,z=0,m,E;g<x;++g)for(E=pa?ca[g][pa]:ca[g],m=0;m<N;++m)if(S[m]&&null!=E&&E===E&&!Vb[m](E)&&(S[m]=0,++z,z===Vb.length))return"string";return ob[S.reduce((g,z)=>0===g?z:g,0)-1]}function Ua(ca,pa){return pa.reduce((x,N)=>{x[N]=Sb(ca,N);return x},{})}function rb(ca){return new Function("d","return {"+ca.map(function(pa,x){return JSON.stringify(pa)+": d["+x+'] || ""'}).join(",")+"}")}function Fb(ca,pa){var x=rb(ca);return function(N,S){return pa(x(N),S,ca)}}function Hb(ca){var pa=Object.create(null),
x=[];ca.forEach(function(N){for(var S in N)S in pa||x.push(pa[S]=S)});return x}function Bb(ca,pa){ca+="";var x=ca.length;return x<pa?Array(pa-x+1).join(0)+ca:ca}function Lb(ca){function pa(m,E){function h(){if(O)return Y;if(u)return u=!1,ra;var va,La=v,Xa;if(34===m.charCodeAt(La)){for(;v++<r&&34!==m.charCodeAt(v)||34===m.charCodeAt(++v););(va=v)>=r?O=!0:10===(Xa=m.charCodeAt(v++))?u=!0:13===Xa&&(u=!0,10===m.charCodeAt(v)&&++v);return m.slice(La+1,va-1).replace(/""/g,'"')}for(;v<r;){if(10===(Xa=m.charCodeAt(va=
v++)))u=!0;else if(13===Xa)u=!0,10===m.charCodeAt(v)&&++v;else if(Xa!==z)continue;return m.slice(La,va)}return O=!0,m.slice(La,r)}var p=[],r=m.length,v=0,F=0,aa,O=0>=r,u=!1;10===m.charCodeAt(r-1)&&--r;for(13===m.charCodeAt(r-1)&&--r;(aa=h())!==Y;){for(var I=[];aa!==ra&&aa!==Y;)I.push(aa),aa=h();E&&null==(I=E(I,F++))||p.push(I)}return p}function x(m,E){return m.map(function(h){return E.map(function(p){return S(h[p])}).join(ca)})}function N(m){return m.map(S).join(ca)}function S(m){if(null==m)m="";
else{if(m instanceof Date){var E=m.getUTCHours();var h=m.getUTCMinutes(),p=m.getUTCSeconds(),r=m.getUTCMilliseconds();if(isNaN(m))m="Invalid Date";else{var v=m.getUTCFullYear();m=(0>v?"-"+Bb(-v,6):9999<v?"+"+Bb(v,6):Bb(v,4))+"-"+Bb(m.getUTCMonth()+1,2)+"-"+Bb(m.getUTCDate(),2)+(r?"T"+Bb(E,2)+":"+Bb(h,2)+":"+Bb(p,2)+"."+Bb(r,3)+"Z":p?"T"+Bb(E,2)+":"+Bb(h,2)+":"+Bb(p,2)+"Z":h||E?"T"+Bb(E,2)+":"+Bb(h,2)+"Z":"")}E=m}else E=g.test(m+="")?'"'+m.replace(/"/g,'""')+'"':m;m=E}return m}var g=new RegExp('["'+
ca+"\n\r]"),z=ca.charCodeAt(0);return{parse:function(m,E){var h,p;m=pa(m,function(r,v){if(h)return h(r,v-1);p=r;h=E?Fb(r,E):rb(r)});m.columns=p||[];return m},parseRows:pa,format:function(m,E){null==E&&(E=Hb(m));return[E.map(S).join(ca)].concat(x(m,E)).join("\n")},formatBody:function(m,E){null==E&&(E=Hb(m));return x(m,E).join("\n")},formatRows:function(m){return m.map(N).join("\n")},formatRow:N,formatValue:S}}function Wa(ca){const pa=function(x,N){const S={delimiter:ca};return pb(x,N?R.extend(N,S):
S)};pa.responseType="text";return pa}function pb(ca,pa){pa.header&&(ca=pa.header.map(R.stringValue).join(pa.delimiter)+"\n"+ca);return Lb(pa.delimiter).parse(ca+"")}function Na(ca,pa){const x=pa&&pa.property?R.field(pa.property):R.identity;var N;if(N=R.isObject(ca))N=!("function"===typeof t&&R.isFunction(t.isBuffer)&&t.isBuffer(ca));N?(ca=x(ca),!R.isArray(ca)&&R.isIterable(ca)&&(ca=[...ca]),pa=pa&&pa.copy?JSON.parse(JSON.stringify(ca)):ca):pa=x(JSON.parse(ca));return pa}function Da(ca,pa){let x,N,
S,g;ca=Na(ca,pa);pa&&pa.feature?(x=hb.feature,S=pa.feature):pa&&pa.mesh?(x=hb.mesh,S=pa.mesh,g=Ea[pa.filter]):R.error("Missing TopoJSON feature or mesh parameter.");return(N=(N=ca.objects[S])?x(ca,N,g):R.error("Invalid TopoJSON object: "+S))&&N.features||[N]}function Ia(ca,pa){return 1<arguments.length?(Ga[ca]=pa,this):R.hasOwnProperty(Ga,ca)?Ga[ca]:null}function kb(ca,pa,x,N){if(ca.length){var S=Cb.timeFormatDefaultLocale();x=x||S.timeParse;N=N||S.utcParse;S=ca.columns||Object.keys(ca[0]);var g,
z;"auto"===pa&&(pa=Ua(ca,S));S=Object.keys(pa);var m=S.map(v=>{var F=pa[v];if(F&&(F.startsWith("date:")||F.startsWith("utc:"))){v=F.split(/:(.+)?/,2);F=v[1];if("'"===F[0]&&"'"===F[F.length-1]||'"'===F[0]&&'"'===F[F.length-1])F=F.slice(1,-1);return("utc"===v[0]?N:x)(F)}if(!Ob[F])throw Error("Illegal format pattern: "+v+":"+F);return Ob[F]});var E=0;var h=ca.length;for(z=S.length;E<h;++E){var p=ca[E];for(g=0;g<z;++g){var r=S[g];p[r]=m[g](p[r])}}}}const mb=/^(data:|([A-Za-z]+:)?\/\/)/,Ma=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
vb=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,qb=ca=>!Number.isNaN(+ca)&&!(ca instanceof Date),Ob={boolean:R.toBoolean,integer:R.toNumber,number:R.toNumber,date:R.toDate,string:R.toString,unknown:R.identity},Vb=[ca=>"true"===ca||"false"===ca||!0===ca||!1===ca,ca=>qb(ca)&&Number.isInteger(+ca),qb,ca=>!Number.isNaN(Date.parse(ca))],ob=["boolean","integer","number","date"];var ra={},Y={};pb.responseType="text";Na.responseType="json";const Ea={interior:(ca,pa)=>ca!==pa,exterior:(ca,
pa)=>ca===pa};Da.responseType="json";const Ga={dsv:pb,csv:Wa(","),tsv:Wa("\t"),json:Na,topojson:Da},cb=function(ca,pa){return x=>({options:x||{},sanitize:sc,load:Yb,fileAccess:!!pa,file:zc(pa),http:Ab(ca)})}("undefined"!==typeof fetch&&fetch,null);l.format=Ga;l.formats=Ia;l.inferType=Sb;l.inferTypes=Ua;l.loader=cb;l.read=function(ca,pa,x,N){pa=pa||{};const S=Ia(pa.type||"json");S||R.error("Unknown data format type: "+pa.type);ca=S(ca,pa);pa.parse&&kb(ca,pa.parse,x,N);R.hasOwnProperty(ca,"columns")&&
delete ca.columns;return ca};l.responseType=function(ca){return(ca=Ia(ca))&&ca.responseType||"text"};l.typeParsers=Ob;Object.defineProperty(l,"__esModule",{value:!0})})};
shadow$provide[45]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(40),Eb(42)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-time"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l(t.vega={},t.vega,t.vega))})(this,function(t,l,R){function hb(C,X,ha){X=C-X+2*ha;return C?0<X?X:1:0}function Cb(C){return function(X){let ha=X[0];X=X[1];let Oa;X<ha&&(Oa=ha,ha=X,X=Oa);return[C.invert(ha),C.invert(X)]}}function Yb(C){return function(X){const ha=
C.range();let Oa=X[0];X=X[1];let zb=-1,Db;let Pb;if(X<Oa){var lc=Oa;Oa=X;X=lc}lc=0;for(Pb=ha.length;lc<Pb;++lc)ha[lc]>=Oa&&ha[lc]<=X&&(0>zb&&(zb=lc),Db=lc);if(!(0>zb))return Oa=C.invertExtent(ha[zb]),X=C.invertExtent(ha[Db]),[void 0===Oa[0]?Oa[1]:Oa[0],void 0===X[1]?X[0]:X[1]]}}function sc(C,X){return null==C||null==X?NaN:C<X?-1:C>X?1:C>=X?0:NaN}function zc(C){function X(Db,Pb,lc=0,Vc=Db.length){if(lc<Vc){if(0!==Oa(Pb,Pb))return Vc;do{const Kd=lc+Vc>>>1;0>zb(Db[Kd],Pb)?lc=Kd+1:Vc=Kd}while(lc<Vc)}return lc}
let ha=C,Oa=C,zb=C;2!==C.length&&(ha=(Db,Pb)=>C(Db)-Pb,Oa=sc,zb=(Db,Pb)=>sc(C(Db),Pb));return{left:X,center:function(Db,Pb,lc=0,Vc=Db.length){Vc=X(Db,Pb,lc,Vc-1);return Vc>lc&&ha(Db[Vc-1],Pb)>-ha(Db[Vc],Pb)?Vc-1:Vc},right:function(Db,Pb,lc=0,Vc=Db.length){if(lc<Vc){if(0!==Oa(Pb,Pb))return Vc;do{const Kd=lc+Vc>>>1;0>=zb(Db[Kd],Pb)?lc=Kd+1:Vc=Kd}while(lc<Vc)}return lc}}}function pc(C){return null===C?NaN:+C}function Ab({_intern:C,_key:X},ha){X=X(ha);return C.has(X)?C.get(X):ha}function jc({_intern:C,
_key:X},ha){X=X(ha);if(C.has(X))return C.get(X);C.set(X,ha);return ha}function Sb({_intern:C,_key:X},ha){X=X(ha);C.has(X)&&(ha=C.get(X),C.delete(X));return ha}function Ua(C){return null!==C&&"object"===typeof C?C.valueOf():C}function rb(C,X,ha){var Oa,zb=-1,Db;X=+X;C=+C;ha=+ha;if(C===X&&0<ha)return[C];if(Oa=X<C){var Pb=C;C=X;X=Pb}if(0===(Db=Fb(C,X,ha))||!isFinite(Db))return[];if(0<Db)for(ha=Math.round(C/Db),Pb=Math.round(X/Db),ha*Db<C&&++ha,Pb*Db>X&&--Pb,C=Array(Pb=Pb-ha+1);++zb<Pb;)C[zb]=(ha+zb)*
Db;else for(Db=-Db,ha=Math.round(C*Db),Pb=Math.round(X*Db),ha/Db<C&&++ha,Pb/Db>X&&--Pb,C=Array(Pb=Pb-ha+1);++zb<Pb;)C[zb]=(ha+zb)/Db;Oa&&C.reverse();return C}function Fb(C,X,ha){X=(X-C)/Math.max(0,ha);C=Math.floor(Math.log(X)/Math.LN10);X/=Math.pow(10,C);return 0<=C?(X>=tf?10:X>=fg?5:X>=Eg?2:1)*Math.pow(10,C):-Math.pow(10,-C)/(X>=tf?10:X>=fg?5:X>=Eg?2:1)}function Hb(C,X,ha){var Oa=Math.abs(X-C)/Math.max(0,ha);ha=Math.pow(10,Math.floor(Math.log(Oa)/Math.LN10));Oa/=ha;Oa>=tf?ha*=10:Oa>=fg?ha*=5:Oa>=
Eg&&(ha*=2);return X<C?-ha:ha}function Bb(C,X,ha=pc){if(Oa=C.length){if(0>=(X=+X)||2>Oa)return+ha(C[0],0,C);if(1<=X)return+ha(C[Oa-1],Oa-1,C);var Oa;X*=Oa-1;Oa=Math.floor(X);var zb=+ha(C[Oa],Oa,C);C=+ha(C[Oa+1],Oa+1,C);return zb+(C-zb)*(X-Oa)}}function Lb(C,X,ha){C=+C;X=+X;ha=2>(zb=arguments.length)?(X=C,C=0,1):3>zb?1:+ha;for(var Oa=-1,zb=Math.max(0,Math.ceil((X-C)/ha))|0,Db=Array(zb);++Oa<zb;)Db[Oa]=C+Oa*ha;return Db}function Wa(C,X){switch(arguments.length){case 0:break;case 1:this.range(C);break;
default:this.range(X).domain(C)}return this}function pb(C,X){switch(arguments.length){case 0:break;case 1:"function"===typeof C?this.interpolator(C):this.range(C);break;default:this.domain(C),"function"===typeof X?this.interpolator(X):this.range(X)}return this}function Na(){function C(Db){let Pb=X.get(Db);if(void 0===Pb){if(zb!==sg)return zb;X.set(Db,Pb=ha.push(Db)-1)}return Oa[Pb%Oa.length]}var X=new Bf,ha=[],Oa=[],zb=sg;C.domain=function(Db){if(!arguments.length)return ha.slice();ha=[];X=new Bf;
for(const Pb of Db)X.has(Pb)||X.set(Pb,ha.push(Pb)-1);return C};C.range=function(Db){return arguments.length?(Oa=Array.from(Db),C):Oa.slice()};C.unknown=function(Db){return arguments.length?(zb=Db,C):zb};C.copy=function(){return Na(ha,Oa).unknown(zb)};Wa.apply(C,arguments);return C}function Da(C,X,ha){C.prototype=X.prototype=ha;ha.constructor=C}function Ia(C,X){C=Object.create(C.prototype);for(var ha in X)C[ha]=X[ha];return C}function kb(){}function mb(){return this.rgb().formatHex()}function Ma(){return this.rgb().formatRgb()}
function vb(C){var X,ha;C=(C+"").trim().toLowerCase();return(X=Qg.exec(C))?(ha=X[1].length,X=parseInt(X[1],16),6===ha?qb(X):3===ha?new ra(X>>8&15|X>>4&240,X>>4&15|X&240,(X&15)<<4|X&15,1):8===ha?Ob(X>>24&255,X>>16&255,X>>8&255,(X&255)/255):4===ha?Ob(X>>12&15|X>>8&240,X>>8&15|X>>4&240,X>>4&15|X&240,((X&15)<<4|X&15)/255):null):(X=Mg.exec(C))?new ra(X[1],X[2],X[3],1):(X=qh.exec(C))?new ra(255*X[1]/100,255*X[2]/100,255*X[3]/100,1):(X=xg.exec(C))?Ob(X[1],X[2],X[3],X[4]):(X=Wh.exec(C))?Ob(255*X[1]/100,255*
X[2]/100,255*X[3]/100,X[4]):(X=rh.exec(C))?cb(X[1],X[2]/100,X[3]/100,1):(X=Hh.exec(C))?cb(X[1],X[2]/100,X[3]/100,X[4]):Xg.hasOwnProperty(C)?qb(Xg[C]):"transparent"===C?new ra(NaN,NaN,NaN,0):null}function qb(C){return new ra(C>>16&255,C>>8&255,C&255,1)}function Ob(C,X,ha,Oa){0>=Oa&&(C=X=ha=NaN);return new ra(C,X,ha,Oa)}function Vb(C){C instanceof kb||(C=vb(C));if(!C)return new ra;C=C.rgb();return new ra(C.r,C.g,C.b,C.opacity)}function ob(C,X,ha,Oa){return 1===arguments.length?Vb(C):new ra(C,X,ha,null==
Oa?1:Oa)}function ra(C,X,ha,Oa){this.r=+C;this.g=+X;this.b=+ha;this.opacity=+Oa}function Y(){return"#"+Ga(this.r)+Ga(this.g)+Ga(this.b)}function Ea(){var C=this.opacity;C=isNaN(C)?1:Math.max(0,Math.min(1,C));return(1===C?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===C?")":", "+C+")")}function Ga(C){C=Math.max(0,Math.min(255,Math.round(C)||0));return(16>C?"0":"")+C.toString(16)}
function cb(C,X,ha,Oa){0>=Oa?C=X=ha=NaN:0>=ha||1<=ha?C=X=NaN:0>=X&&(C=NaN);return new x(C,X,ha,Oa)}function ca(C){if(C instanceof x)return new x(C.h,C.s,C.l,C.opacity);C instanceof kb||(C=vb(C));if(!C)return new x;if(C instanceof x)return C;C=C.rgb();var X=C.r/255,ha=C.g/255,Oa=C.b/255,zb=Math.min(X,ha,Oa),Db=Math.max(X,ha,Oa),Pb=NaN,lc=Db-zb,Vc=(Db+zb)/2;lc?(Pb=X===Db?(ha-Oa)/lc+6*(ha<Oa):ha===Db?(Oa-X)/lc+2:(X-ha)/lc+4,lc/=.5>Vc?Db+zb:2-Db-zb,Pb*=60):lc=0<Vc&&1>Vc?0:Pb;return new x(Pb,lc,Vc,C.opacity)}
function pa(C,X,ha,Oa){return 1===arguments.length?ca(C):new x(C,X,ha,null==Oa?1:Oa)}function x(C,X,ha,Oa){this.h=+C;this.s=+X;this.l=+ha;this.opacity=+Oa}function N(C,X,ha){return 255*(60>C?X+(ha-X)*C/60:180>C?ha:240>C?X+(ha-X)*(240-C)/60:X)}function S(C){if(C instanceof z)return new z(C.l,C.a,C.b,C.opacity);if(C instanceof F)return aa(C);C instanceof ra||(C=Vb(C));var X=p(C.r),ha=p(C.g),Oa=p(C.b),zb=m(.2225045*X+.7168786*ha+.0606169*Oa);if(X===ha&&ha===Oa)var Db=X=zb;else Db=m((.4360747*X+.3850649*
ha+.1430804*Oa)/.96422),X=m((.0139322*X+.0971045*ha+.7141733*Oa)/.82521);return new z(116*zb-16,500*(Db-zb),200*(zb-X),C.opacity)}function g(C,X,ha,Oa){return 1===arguments.length?S(C):new z(C,X,ha,null==Oa?1:Oa)}function z(C,X,ha,Oa){this.l=+C;this.a=+X;this.b=+ha;this.opacity=+Oa}function m(C){return C>yi?Math.pow(C,1/3):C/th+ji}function E(C){return C>dh?C*C*C:th*(C-ji)}function h(C){return 255*(.0031308>=C?12.92*C:1.055*Math.pow(C,1/2.4)-.055)}function p(C){return.04045>=(C/=255)?C/12.92:Math.pow((C+
.055)/1.055,2.4)}function r(C){if(C instanceof F)return new F(C.h,C.c,C.l,C.opacity);C instanceof z||(C=S(C));if(0===C.a&&0===C.b)return new F(NaN,0<C.l&&100>C.l?0:NaN,C.l,C.opacity);var X=Math.atan2(C.b,C.a)*Bh;return new F(0>X?X+360:X,Math.sqrt(C.a*C.a+C.b*C.b),C.l,C.opacity)}function v(C,X,ha,Oa){return 1===arguments.length?r(C):new F(C,X,ha,null==Oa?1:Oa)}function F(C,X,ha,Oa){this.h=+C;this.c=+X;this.l=+ha;this.opacity=+Oa}function aa(C){if(isNaN(C.h))return new z(C.l,0,0,C.opacity);var X=C.h*
sh;return new z(C.l,Math.cos(X)*C.c,Math.sin(X)*C.c,C.opacity)}function O(C,X,ha,Oa){if(1===arguments.length){var zb=C;if(zb instanceof u)zb=new u(zb.h,zb.s,zb.l,zb.opacity);else{zb instanceof ra||(zb=Vb(zb));var Db=zb.g/255,Pb=zb.b/255,lc=(Fg*Pb+zb.r/255*-1.7884503806-3.5172982438*Db)/(Fg+-1.7884503806-3.5172982438);Pb-=lc;var Vc=(1.97294*(Db-lc)- -.29227*Pb)/-.90649;Pb=(Db=Math.sqrt(Vc*Vc+Pb*Pb)/(1.97294*lc*(1-lc)))?Math.atan2(Vc,Pb)*Bh-120:NaN;zb=new u(0>Pb?Pb+360:Pb,Db,lc,zb.opacity)}}else zb=
new u(C,X,ha,null==Oa?1:Oa);return zb}function u(C,X,ha,Oa){this.h=+C;this.s=+X;this.l=+ha;this.opacity=+Oa}function I(C,X,ha,Oa,zb){var Db=C*C,Pb=Db*C;return((1-3*C+3*Db-Pb)*X+(4-6*Db+3*Pb)*ha+(1+3*C+3*Db-3*Pb)*Oa+Pb*zb)/6}function va(C){var X=C.length-1;return function(ha){var Oa=0>=ha?ha=0:1<=ha?(ha=1,X-1):Math.floor(ha*X),zb=C[Oa],Db=C[Oa+1];return I((ha-Oa/X)*X,0<Oa?C[Oa-1]:2*zb-Db,zb,Db,Oa<X-1?C[Oa+2]:2*Db-zb)}}function La(C){var X=C.length;return function(ha){var Oa=Math.floor((0>(ha%=1)?++ha:
ha)*X);return I((ha-Oa/X)*X,C[(Oa+X-1)%X],C[Oa%X],C[(Oa+1)%X],C[(Oa+2)%X])}}function Xa(C,X){return function(ha){return C+ha*X}}function ab(C,X,ha){return C=Math.pow(C,ha),X=Math.pow(X,ha)-C,ha=1/ha,function(Oa){return Math.pow(C+Oa*X,ha)}}function Z(C,X){var ha=X-C;return ha?Xa(C,180<ha||-180>ha?ha-360*Math.round(ha/360):ha):Mh(isNaN(C)?X:C)}function Ca(C){return 1===(C=+C)?Ya:function(X,ha){return ha-X?ab(X,ha,C):Mh(isNaN(X)?ha:X)}}function Ya(C,X){var ha=X-C;return ha?Xa(C,ha):Mh(isNaN(C)?X:C)}
function Kb(C){return function(X){var ha=X.length,Oa=Array(ha),zb=Array(ha),Db=Array(ha),Pb;for(Pb=0;Pb<ha;++Pb){var lc=ob(X[Pb]);Oa[Pb]=lc.r||0;zb[Pb]=lc.g||0;Db[Pb]=lc.b||0}Oa=C(Oa);zb=C(zb);Db=C(Db);lc.opacity=1;return function(Vc){lc.r=Oa(Vc);lc.g=zb(Vc);lc.b=Db(Vc);return lc+""}}}function xc(C,X){X||(X=[]);var ha=C?Math.min(X.length,C.length):0,Oa=X.slice(),zb;return function(Db){for(zb=0;zb<ha;++zb)Oa[zb]=C[zb]*(1-Db)+X[zb]*Db;return Oa}}function rc(C){return ArrayBuffer.isView(C)&&!(C instanceof
DataView)}function yc(C,X){var ha=X?X.length:0,Oa=C?Math.min(ha,C.length):0,zb=Array(Oa),Db=Array(ha),Pb;for(Pb=0;Pb<Oa;++Pb)zb[Pb]=sb(C[Pb],X[Pb]);for(;Pb<ha;++Pb)Db[Pb]=X[Pb];return function(lc){for(Pb=0;Pb<Oa;++Pb)Db[Pb]=zb[Pb](lc);return Db}}function dd(C,X){var ha=new Date;return C=+C,X=+X,function(Oa){return ha.setTime(C*(1-Oa)+X*Oa),ha}}function $b(C,X){return C=+C,X=+X,function(ha){return C*(1-ha)+X*ha}}function Rc(C,X){var ha={},Oa={},zb;if(null===C||"object"!==typeof C)C={};if(null===X||
"object"!==typeof X)X={};for(zb in X)zb in C?ha[zb]=sb(C[zb],X[zb]):Oa[zb]=X[zb];return function(Db){for(zb in ha)Oa[zb]=ha[zb](Db);return Oa}}function Pd(C){return function(){return C}}function Pa(C){return function(X){return C(X)+""}}function Wb(C,X){var ha=kh.lastIndex=Ch.lastIndex=0,Oa,zb,Db,Pb=-1,lc=[],Vc=[];C+="";for(X+="";(Oa=kh.exec(C))&&(zb=Ch.exec(X));)(Db=zb.index)>ha&&(Db=X.slice(ha,Db),lc[Pb]?lc[Pb]+=Db:lc[++Pb]=Db),(Oa=Oa[0])===(zb=zb[0])?lc[Pb]?lc[Pb]+=zb:lc[++Pb]=zb:(lc[++Pb]=null,
Vc.push({i:Pb,x:$b(Oa,zb)})),ha=Ch.lastIndex;ha<X.length&&(Db=X.slice(ha),lc[Pb]?lc[Pb]+=Db:lc[++Pb]=Db);return 2>lc.length?Vc[0]?Pa(Vc[0].x):Pd(X):(X=Vc.length,function(Kd){for(var Sd=0,ad;Sd<X;++Sd)lc[(ad=Vc[Sd]).i]=ad.x(Kd);return lc.join("")})}function sb(C,X){var ha=typeof X,Oa;return null==X||"boolean"===ha?Mh(X):("number"===ha?$b:"string"===ha?(Oa=vb(X))?(X=Oa,Xh):Wb:X instanceof vb?Xh:X instanceof Date?dd:rc(X)?xc:Array.isArray(X)?yc:"function"!==typeof X.valueOf&&"function"!==typeof X.toString||
isNaN(X)?Rc:$b)(C,X)}function Tb(C,X){return C=+C,X=+X,function(ha){return Math.round(C*(1-ha)+X*ha)}}function ic(C,X,ha,Oa,zb,Db){var Pb,lc,Vc;if(Pb=Math.sqrt(C*C+X*X))C/=Pb,X/=Pb;if(Vc=C*ha+X*Oa)ha-=C*Vc,Oa-=X*Vc;if(lc=Math.sqrt(ha*ha+Oa*Oa))ha/=lc,Oa/=lc,Vc/=lc;C*Oa<X*ha&&(C=-C,X=-X,Vc=-Vc,Pb=-Pb);return{translateX:zb,translateY:Db,rotate:Math.atan2(X,C)*Gg,skewX:Math.atan(Vc)*Gg,scaleX:Pb,scaleY:lc}}function dc(C,X,ha,Oa){function zb(Kd){return Kd.length?Kd.pop()+" ":""}function Db(Kd,Sd,ad,ie,
Ke,Ve){Kd!==ad||Sd!==ie?(Ke=Ke.push("translate(",null,X,null,ha),Ve.push({i:Ke-4,x:$b(Kd,ad)},{i:Ke-2,x:$b(Sd,ie)})):(ad||ie)&&Ke.push("translate("+ad+X+ie+ha)}function Pb(Kd,Sd,ad,ie){Kd!==Sd?(180<Kd-Sd?Sd+=360:180<Sd-Kd&&(Kd+=360),ie.push({i:ad.push(zb(ad)+"rotate(",null,Oa)-2,x:$b(Kd,Sd)})):Sd&&ad.push(zb(ad)+"rotate("+Sd+Oa)}function lc(Kd,Sd,ad,ie){Kd!==Sd?ie.push({i:ad.push(zb(ad)+"skewX(",null,Oa)-2,x:$b(Kd,Sd)}):Sd&&ad.push(zb(ad)+"skewX("+Sd+Oa)}function Vc(Kd,Sd,ad,ie,Ke,Ve){Kd!==ad||Sd!==
ie?(Ke=Ke.push(zb(Ke)+"scale(",null,",",null,")"),Ve.push({i:Ke-4,x:$b(Kd,ad)},{i:Ke-2,x:$b(Sd,ie)})):1===ad&&1===ie||Ke.push(zb(Ke)+"scale("+ad+","+ie+")")}return function(Kd,Sd){var ad=[],ie=[];Kd=C(Kd);Sd=C(Sd);Db(Kd.translateX,Kd.translateY,Sd.translateX,Sd.translateY,ad,ie);Pb(Kd.rotate,Sd.rotate,ad,ie);lc(Kd.skewX,Sd.skewX,ad,ie);Vc(Kd.scaleX,Kd.scaleY,Sd.scaleX,Sd.scaleY,ad,ie);Kd=Sd=null;return function(Ke){for(var Ve=-1,A=ie.length,V;++Ve<A;)ad[(V=ie[Ve]).i]=V.x(Ke);return ad.join("")}}}
function Ic(C){return((C=Math.exp(C))+1/C)/2}function Ac(C){return function(X,ha){var Oa=C((X=pa(X)).h,(ha=pa(ha)).h),zb=Ya(X.s,ha.s),Db=Ya(X.l,ha.l),Pb=Ya(X.opacity,ha.opacity);return function(lc){X.h=Oa(lc);X.s=zb(lc);X.l=Db(lc);X.opacity=Pb(lc);return X+""}}}function Zc(C){return function(X,ha){var Oa=C((X=v(X)).h,(ha=v(ha)).h),zb=Ya(X.c,ha.c),Db=Ya(X.l,ha.l),Pb=Ya(X.opacity,ha.opacity);return function(lc){X.h=Oa(lc);X.c=zb(lc);X.l=Db(lc);X.opacity=Pb(lc);return X+""}}}function Nd(C){return function Oa(ha){function zb(Db,
Pb){var lc=C((Db=O(Db)).h,(Pb=O(Pb)).h),Vc=Ya(Db.s,Pb.s),Kd=Ya(Db.l,Pb.l),Sd=Ya(Db.opacity,Pb.opacity);return function(ad){Db.h=lc(ad);Db.s=Vc(ad);Db.l=Kd(Math.pow(ad,ha));Db.opacity=Sd(ad);return Db+""}}ha=+ha;zb.gamma=Oa;return zb}(1)}function ud(C,X){void 0===X&&(X=C,C=sb);for(var ha=0,Oa=X.length-1,zb=X[0],Db=Array(0>Oa?0:Oa);ha<Oa;)Db[ha]=C(zb,zb=X[++ha]);return function(Pb){var lc=Math.max(0,Math.min(Oa-1,Math.floor(Pb*=Oa)));return Db[lc](Pb-lc)}}function Ha(C){return function(){return C}}
function gb(C){return+C}function wb(C){return C}function ua(C,X){return(X-=C=+C)?function(ha){return(ha-C)/X}:Ha(isNaN(X)?NaN:.5)}function H(C,X){if(C>X){var ha=C;C=X;X=ha}return function(Oa){return Math.max(C,Math.min(X,Oa))}}function za(C,X,ha){var Oa=C[0];C=C[1];var zb=X[0];X=X[1];C<Oa?(Oa=ua(C,Oa),zb=ha(X,zb)):(Oa=ua(Oa,C),zb=ha(zb,X));return function(Db){return zb(Oa(Db))}}function Qa(C,X,ha){var Oa=Math.min(C.length,X.length)-1,zb=Array(Oa),Db=Array(Oa),Pb=-1;C[Oa]<C[0]&&(C=C.slice().reverse(),
X=X.slice().reverse());for(;++Pb<Oa;)zb[Pb]=ua(C[Pb],C[Pb+1]),Db[Pb]=ha(X[Pb],X[Pb+1]);return function(lc){var Vc=wf(C,lc,1,Oa)-1;return Db[Vc](zb[Vc](lc))}}function $a(C,X){return X.domain(C.domain()).range(C.range()).interpolate(C.interpolate()).clamp(C.clamp()).unknown(C.unknown())}function lb(){function C(){var ie=Math.min(ha.length,Oa.length);Vc!==wb&&(Vc=H(ha[0],ha[ie-1]));Kd=2<ie?Qa:za;Sd=ad=null;return X}function X(ie){return null==ie||isNaN(ie=+ie)?lc:(Sd||(Sd=Kd(ha.map(Db),Oa,zb)))(Db(Vc(ie)))}
var ha=Og,Oa=Og,zb=sb,Db,Pb,lc,Vc=wb,Kd,Sd,ad;X.invert=function(ie){return Vc(Pb((ad||(ad=Kd(Oa,ha.map(Db),$b)))(ie)))};X.domain=function(ie){return arguments.length?(ha=Array.from(ie,gb),C()):ha.slice()};X.range=function(ie){return arguments.length?(Oa=Array.from(ie),C()):Oa.slice()};X.rangeRound=function(ie){return Oa=Array.from(ie),zb=Tb,C()};X.clamp=function(ie){return arguments.length?(Vc=ie?!0:wb,C()):Vc!==wb};X.interpolate=function(ie){return arguments.length?(zb=ie,C()):zb};X.unknown=function(ie){return arguments.length?
(lc=ie,X):lc};return function(ie,Ke){Db=ie;Pb=Ke;return C()}}function Gb(C,X){if(0>(X=(C=X?C.toExponential(X-1):C.toExponential()).indexOf("e")))return null;var ha=C.slice(0,X);return[1<ha.length?ha[0]+ha.slice(2):ha,+C.slice(X+1)]}function oc(C){return C=Gb(Math.abs(C)),C?C[1]:NaN}function ec(C,X){return function(ha,Oa){for(var zb=ha.length,Db=[],Pb=0,lc=C[0],Vc=0;0<zb&&0<lc;){Vc+lc+1>Oa&&(lc=Math.max(1,Oa-Vc));Db.push(ha.substring(zb-=lc,zb+lc));if((Vc+=lc+1)>Oa)break;lc=C[Pb=(Pb+1)%C.length]}return Db.reverse().join(X)}}
function kc(C){return function(X){return X.replace(/[0-9]/g,function(ha){return C[+ha]})}}function Sc(C){if(!(X=bg.exec(C)))throw Error("invalid format: "+C);var X;return new ed({fill:X[1],align:X[2],sign:X[3],symbol:X[4],zero:X[5],width:X[6],comma:X[7],precision:X[8]&&X[8].slice(1),trim:X[9],type:X[10]})}function ed(C){this.fill=void 0===C.fill?" ":C.fill+"";this.align=void 0===C.align?"\x3e":C.align+"";this.sign=void 0===C.sign?"-":C.sign+"";this.symbol=void 0===C.symbol?"":C.symbol+"";this.zero=
!!C.zero;this.width=void 0===C.width?void 0:+C.width;this.comma=!!C.comma;this.precision=void 0===C.precision?void 0:+C.precision;this.trim=!!C.trim;this.type=void 0===C.type?"":C.type+""}function fd(C,X){X=Gb(C,X);if(!X)return C+"";C=X[0];X=X[1];return 0>X?"0."+Array(-X).join("0")+C:C.length>X+1?C.slice(0,X+1)+"."+C.slice(X+1):C+Array(X-C.length+2).join("0")}function Qd(C){return C}function Td(C){function X(Sd){function ad(nc){var sd=Nb,xd=Lc,ze,oe;if("c"===Mb)xd=Dd(nc)+xd,nc="";else{nc=+nc;var Xe=
0>nc||0>1/nc;nc=isNaN(nc)?Kd:Dd(Math.abs(nc),tb);if(xb){var Ef=nc.length,Zf=1,ig=-1;a:for(;Zf<Ef;++Zf)switch(nc[Zf]){case ".":ig=ze=Zf;break;case "0":0===ig&&(ig=Zf);ze=Zf;break;default:if(!+nc[Zf])break a;0<ig&&(ig=0)}nc=0<ig?nc.slice(0,ig)+nc.slice(ze+1):nc}Xe&&0===+nc&&"+"!==Ve&&(Xe=!1);sd=(Xe?"("===Ve?Ve:Vc:"-"===Ve||"("===Ve?"":Ve)+sd;xd=("s"===Mb?w[8+U/3]:"")+xd+(Xe&&"("===Ve?")":"");if(gd)for(Xe=-1,ze=nc.length;++Xe<ze;)if(oe=nc.charCodeAt(Xe),48>oe||57<oe){xd=(46===oe?Db+nc.slice(Xe+1):nc.slice(Xe))+
xd;nc=nc.slice(0,Xe);break}}Fa&&!V&&(nc=ha(nc,Infinity));oe=sd.length+nc.length+xd.length;Xe=oe<ba?Array(ba-oe+1).join(ie):"";Fa&&V&&(nc=ha(Xe+nc,Xe.length?ba-xd.length:Infinity),Xe="");switch(Ke){case "\x3c":nc=sd+nc+xd+Xe;break;case "\x3d":nc=sd+Xe+nc+xd;break;case "^":nc=Xe.slice(0,oe=Xe.length>>1)+sd+nc+xd+Xe.slice(oe);break;default:nc=Xe+sd+nc+xd}return Pb(nc)}Sd=Sc(Sd);var ie=Sd.fill,Ke=Sd.align,Ve=Sd.sign,A=Sd.symbol,V=Sd.zero,ba=Sd.width,Fa=Sd.comma,tb=Sd.precision,xb=Sd.trim,Mb=Sd.type;"n"===
Mb?(Fa=!0,Mb="g"):ya[Mb]||(void 0===tb&&(tb=12),xb=!0,Mb="g");if(V||"0"===ie&&"\x3d"===Ke)V=!0,ie="0",Ke="\x3d";var Nb="$"===A?Oa:"#"===A&&/[boxX]/.test(Mb)?"0"+Mb.toLowerCase():"",Lc="$"===A?zb:/[%p]/.test(Mb)?lc:"",Dd=ya[Mb],gd=/[defgprs%]/.test(Mb);tb=void 0===tb?6:/[gprs]/.test(Mb)?Math.max(1,Math.min(21,tb)):Math.max(0,Math.min(20,tb));ad.toString=function(){return Sd+""};return ad}var ha=void 0===C.grouping||void 0===C.thousands?Qd:ec(Ta.call(C.grouping,Number),C.thousands+""),Oa=void 0===C.currency?
"":C.currency[0]+"",zb=void 0===C.currency?"":C.currency[1]+"",Db=void 0===C.decimal?".":C.decimal+"",Pb=void 0===C.numerals?Qd:kc(Ta.call(C.numerals,String)),lc=void 0===C.percent?"%":C.percent+"",Vc=void 0===C.minus?"":C.minus+"",Kd=void 0===C.nan?"NaN":C.nan+"";return{format:X,formatPrefix:function(Sd,ad){var ie=X((Sd=Sc(Sd),Sd.type="f",Sd));Sd=3*Math.max(-8,Math.min(8,Math.floor(oc(ad)/3)));var Ke=Math.pow(10,-Sd),Ve=w[8+Sd/3];return function(A){return ie(Ke*A)+Ve}}}}function Ed(C,X,ha,Oa){ha=
Hb(C,X,ha);Oa=Sc(null==Oa?",f":Oa);switch(Oa.type){case "s":C=Math.max(Math.abs(C),Math.abs(X));if(X=null==Oa.precision){var zb=isNaN;ha=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(oc(C)/3)))-oc(Math.abs(ha)));X=!zb(zb=ha)}X&&(Oa.precision=zb);return xa(Oa,C);case "":case "e":case "g":case "p":case "r":var Db;if(Db=null==Oa.precision)zb=isNaN,C=Math.max(Math.abs(C),Math.abs(X)),ha=Math.abs(ha),C=Math.abs(C)-ha,ha=Math.max(0,oc(C)-oc(ha))+1,Db=!zb(zb=ha);Db&&(Oa.precision=zb-("e"===Oa.type));break;
case "f":case "%":null!=Oa.precision||isNaN(zb=Math.max(0,-oc(Math.abs(ha))))||(Oa.precision=zb-2*("%"===Oa.type))}return ka(Oa)}function Yd(C){var X=C.domain;C.ticks=function(ha){var Oa=X();return rb(Oa[0],Oa[Oa.length-1],null==ha?10:ha)};C.tickFormat=function(ha,Oa){var zb=X();return Ed(zb[0],zb[zb.length-1],null==ha?10:ha,Oa)};C.nice=function(ha){null==ha&&(ha=10);var Oa=X(),zb=0,Db=Oa.length-1,Pb=Oa[zb],lc=Oa[Db],Vc=10;if(lc<Pb){var Kd=Pb;Pb=lc;lc=Kd;Kd=zb;zb=Db;Db=Kd}for(;0<Vc--;){Kd=Fb(Pb,lc,
ha);if(Kd===Sd)return Oa[zb]=Pb,Oa[Db]=lc,X(Oa);if(0<Kd)Pb=Math.floor(Pb/Kd)*Kd,lc=Math.ceil(lc/Kd)*Kd;else if(0>Kd)Pb=Math.ceil(Pb*Kd)/Kd,lc=Math.floor(lc*Kd)/Kd;else break;var Sd=Kd}return C};return C}function ae(){var C=lb()(wb,wb);C.copy=function(){return $a(C,ae())};Wa.apply(C,arguments);return Yd(C)}function Ud(C){function X(Oa){return null==Oa||isNaN(Oa=+Oa)?ha:Oa}var ha;X.invert=X;X.domain=X.range=function(Oa){return arguments.length?(C=Array.from(Oa,gb),X):C.slice()};X.unknown=function(Oa){return arguments.length?
(ha=Oa,X):ha};X.copy=function(){return Ud(C).unknown(ha)};C=arguments.length?Array.from(C,gb):[0,1];return Yd(X)}function Ye(C,X){C=C.slice();var ha=0,Oa=C.length-1,zb=C[ha],Db=C[Oa];if(Db<zb){var Pb=ha;ha=Oa;Oa=Pb;Pb=zb;zb=Db;Db=Pb}C[ha]=X.floor(zb);C[Oa]=X.ceil(Db);return C}function Wd(C){return Math.log(C)}function P(C){return Math.exp(C)}function na(C){return-Math.log(-C)}function Aa(C){return-Math.exp(-C)}function fb(C){return isFinite(C)?+("1e"+C):0>C?0:C}function Jb(C){return 10===C?fb:C===
Math.E?Math.exp:X=>Math.pow(C,X)}function Zb(C){return C===Math.E?Math.log:10===C&&Math.log10||2===C&&Math.log2||(C=Math.log(C),X=>Math.log(X)/C)}function Cc(C){return(X,ha)=>-C(-X,ha)}function mc(C){function X(){Db=Zb(zb);Pb=Jb(zb);0>Oa()[0]?(Db=Cc(Db),Pb=Cc(Pb),C(na,Aa)):C(Wd,P);return ha}const ha=C(Wd,P),Oa=ha.domain;let zb=10,Db,Pb;ha.base=function(lc){return arguments.length?(zb=+lc,X()):zb};ha.domain=function(lc){return arguments.length?(Oa(lc),X()):Oa()};ha.ticks=lc=>{var Vc=Oa();let Kd=Vc[0];
Vc=Vc[Vc.length-1];const Sd=Vc<Kd;Sd&&([Kd,Vc]=[Vc,Kd]);let ad=Db(Kd),ie=Db(Vc),Ke;const Ve=null==lc?10:+lc;let A=[];if(!(zb%1)&&ie-ad<Ve){ad=Math.floor(ad);ie=Math.ceil(ie);if(0<Kd)for(;ad<=ie;++ad)for(lc=1;lc<zb;++lc){if(Ke=0>ad?lc/Pb(-ad):lc*Pb(ad),!(Ke<Kd)){if(Ke>Vc)break;A.push(Ke)}}else for(;ad<=ie;++ad)for(lc=zb-1;1<=lc;--lc)if(Ke=0<ad?lc/Pb(-ad):lc*Pb(ad),!(Ke<Kd)){if(Ke>Vc)break;A.push(Ke)}2*A.length<Ve&&(A=rb(Kd,Vc,Ve))}else A=rb(ad,ie,Math.min(ie-ad,Ve)).map(Pb);return Sd?A.reverse():A};
ha.tickFormat=(lc,Vc)=>{null==lc&&(lc=10);null==Vc&&(Vc=10===zb?"s":",");"function"!==typeof Vc&&(zb%1||null!=(Vc=Sc(Vc)).precision||(Vc.trim=!0),Vc=ka(Vc));if(Infinity===lc)return Vc;const Kd=Math.max(1,zb*lc/ha.ticks().length);return Sd=>{let ad=Sd/Pb(Math.round(Db(Sd)));ad*zb<zb-.5&&(ad*=zb);return ad<=Kd?Vc(Sd):""}};ha.nice=()=>Oa(Ye(Oa(),{floor:lc=>Pb(Math.floor(Db(lc))),ceil:lc=>Pb(Math.ceil(Db(lc)))}));return ha}function Hc(){const C=mc(lb()).domain([1,10]);C.copy=()=>$a(C,Hc()).base(C.base());
Wa.apply(C,arguments);return C}function jd(C){return function(X){return Math.sign(X)*Math.log1p(Math.abs(X/C))}}function Nc(C){return function(X){return Math.sign(X)*Math.expm1(Math.abs(X))*C}}function vd(C){var X=1,ha=C(jd(X),Nc(X));ha.constant=function(Oa){return arguments.length?C(jd(X=+Oa),Nc(X)):X};return Yd(ha)}function Gd(){var C=vd(lb());C.copy=function(){return $a(C,Gd()).constant(C.constant())};return Wa.apply(C,arguments)}function Fd(C){return function(X){return 0>X?-Math.pow(-X,C):Math.pow(X,
C)}}function Xd(C){return 0>C?-Math.sqrt(-C):Math.sqrt(C)}function Od(C){return 0>C?-C*C:C*C}function qe(C){var X=C(wb,wb),ha=1;X.exponent=function(Oa){return arguments.length?(ha=+Oa,1===ha?C(wb,wb):.5===ha?C(Xd,Od):C(Fd(ha),Fd(1/ha))):ha};return Yd(X)}function De(){var C=qe(lb());C.copy=function(){return $a(C,De()).exponent(C.exponent())};Wa.apply(C,arguments);return C}function gf(){function C(){var Pb=0,lc=Math.max(1,Oa.length);for(zb=Array(lc-1);++Pb<lc;)zb[Pb-1]=Bb(ha,Pb/lc);return X}function X(Pb){return null==
Pb||isNaN(Pb=+Pb)?Db:Oa[wf(zb,Pb)]}var ha=[],Oa=[],zb=[],Db;X.invertExtent=function(Pb){Pb=Oa.indexOf(Pb);return 0>Pb?[NaN,NaN]:[0<Pb?zb[Pb-1]:ha[0],Pb<zb.length?zb[Pb]:ha[ha.length-1]]};X.domain=function(Pb){if(!arguments.length)return ha.slice();ha=[];for(let lc of Pb)null==lc||isNaN(lc=+lc)||ha.push(lc);ha.sort(sc);return C()};X.range=function(Pb){return arguments.length?(Oa=Array.from(Pb),C()):Oa.slice()};X.unknown=function(Pb){return arguments.length?(Db=Pb,X):Db};X.quantiles=function(){return zb.slice()};
X.copy=function(){return gf().domain(ha).range(Oa).unknown(Db)};return Wa.apply(X,arguments)}function df(){function C(Vc){return null!=Vc&&Vc<=Vc?Pb[wf(Db,Vc,0,zb)]:lc}function X(){var Vc=-1;for(Db=Array(zb);++Vc<zb;)Db[Vc]=((Vc+1)*Oa-(Vc-zb)*ha)/(zb+1);return C}var ha=0,Oa=1,zb=1,Db=[.5],Pb=[0,1],lc;C.domain=function(Vc){return arguments.length?([ha,Oa]=Vc,ha=+ha,Oa=+Oa,X()):[ha,Oa]};C.range=function(Vc){return arguments.length?(zb=(Pb=Array.from(Vc)).length-1,X()):Pb.slice()};C.invertExtent=function(Vc){Vc=
Pb.indexOf(Vc);return 0>Vc?[NaN,NaN]:1>Vc?[ha,Db[0]]:Vc>=zb?[Db[zb-1],Oa]:[Db[Vc-1],Db[Vc]]};C.unknown=function(Vc){return arguments.length?(lc=Vc,C):C};C.thresholds=function(){return Db.slice()};C.copy=function(){return df().domain([ha,Oa]).range(Pb).unknown(lc)};return Wa.apply(Yd(C),arguments)}function ef(){function C(Db){return null!=Db&&Db<=Db?ha[wf(X,Db,0,zb)]:Oa}var X=[.5],ha=[0,1],Oa,zb=1;C.domain=function(Db){return arguments.length?(X=Array.from(Db),zb=Math.min(X.length,ha.length-1),C):
X.slice()};C.range=function(Db){return arguments.length?(ha=Array.from(Db),zb=Math.min(X.length,ha.length-1),C):ha.slice()};C.invertExtent=function(Db){Db=ha.indexOf(Db);return[X[Db-1],X[Db]]};C.unknown=function(Db){return arguments.length?(Oa=Db,C):Oa};C.copy=function(){return ef().domain(X).range(ha).unknown(Oa)};return Wa.apply(C,arguments)}function pe(C,X,ha,Oa){function zb(Db){return C(Db=0===arguments.length?new Date:new Date(+Db)),Db}zb.floor=function(Db){return C(Db=new Date(+Db)),Db};zb.ceil=
function(Db){return C(Db=new Date(Db-1)),X(Db,1),C(Db),Db};zb.round=function(Db){var Pb=zb(Db),lc=zb.ceil(Db);return Db-Pb<lc-Db?Pb:lc};zb.offset=function(Db,Pb){return X(Db=new Date(+Db),null==Pb?1:Math.floor(Pb)),Db};zb.range=function(Db,Pb,lc){var Vc=[],Kd;Db=zb.ceil(Db);lc=null==lc?1:Math.floor(lc);if(!(Db<Pb&&0<lc))return Vc;do Vc.push(Kd=new Date(+Db)),X(Db,lc),C(Db);while(Kd<Db&&Db<Pb);return Vc};zb.filter=function(Db){return pe(function(Pb){if(Pb>=Pb)for(;C(Pb),!Db(Pb);)Pb.setTime(Pb-1)},
function(Pb,lc){if(Pb>=Pb)if(0>lc)for(;0>=++lc;)for(;X(Pb,-1),!Db(Pb););else for(;0<=--lc;)for(;X(Pb,1),!Db(Pb););})};ha&&(zb.count=function(Db,Pb){y.setTime(+Db);G.setTime(+Pb);C(y);C(G);return Math.floor(ha(y,G))},zb.every=function(Db){Db=Math.floor(Db);return isFinite(Db)&&0<Db?1<Db?zb.filter(Oa?function(Pb){return 0===Oa(Pb)%Db}:function(Pb){return 0===zb.count(0,Pb)%Db}):zb:null});return zb}function nf(C){return pe(function(X){X.setDate(X.getDate()-(X.getDay()+7-C)%7);X.setHours(0,0,0,0)},function(X,
ha){X.setDate(X.getDate()+7*ha)},function(X,ha){return(ha-X-6E4*(ha.getTimezoneOffset()-X.getTimezoneOffset()))/6048E5})}function W(C){return pe(function(X){X.setUTCDate(X.getUTCDate()-(X.getUTCDay()+7-C)%7);X.setUTCHours(0,0,0,0)},function(X,ha){X.setUTCDate(X.getUTCDate()+7*ha)},function(X,ha){return(ha-X)/6048E5})}function wa(C,X,ha,Oa,zb,Db){function Pb(Vc,Kd,Sd){const ad=Math.abs(Kd-Vc)/Sd,ie=zc(([,,A])=>A).right(lc,ad);if(ie===lc.length)return C.every(Hb(Vc/31536E6,Kd/31536E6,Sd));if(0===ie)return n.every(Math.max(Hb(Vc,
Kd,Sd),1));const [Ke,Ve]=lc[ad/lc[ie-1][2]<lc[ie][2]/ad?ie-1:ie];return Ke.every(Ve)}const lc=[[D,1,1E3],[D,5,5E3],[D,15,15E3],[D,30,3E4],[Db,1,6E4],[Db,5,3E5],[Db,15,9E5],[Db,30,18E5],[zb,1,36E5],[zb,3,108E5],[zb,6,216E5],[zb,12,432E5],[Oa,1,864E5],[Oa,2,1728E5],[ha,1,6048E5],[X,1,2592E6],[X,3,7776E6],[C,1,31536E6]];return[function(Vc,Kd,Sd){const ad=Kd<Vc;ad&&([Vc,Kd]=[Kd,Vc]);Vc=(Sd=Sd&&"function"===typeof Sd.range?Sd:Pb(Vc,Kd,Sd))?Sd.range(Vc,+Kd+1):[];return ad?Vc.reverse():Vc},Pb]}function db(C){if(0<=
C.y&&100>C.y){var X=new Date(-1,C.m,C.d,C.H,C.M,C.S,C.L);X.setFullYear(C.y);return X}return new Date(C.y,C.m,C.d,C.H,C.M,C.S,C.L)}function yb(C){if(0<=C.y&&100>C.y){var X=new Date(Date.UTC(-1,C.m,C.d,C.H,C.M,C.S,C.L));X.setUTCFullYear(C.y);return X}return new Date(Date.UTC(C.y,C.m,C.d,C.H,C.M,C.S,C.L))}function hc(C,X,ha){return{y:C,m:X,d:ha,H:0,M:0,S:0,L:0}}function Ec(C){function X(gd,nc){return function(sd){var xd=[],ze=-1,oe=0,Xe=gd.length,Ef,Zf;for(sd instanceof Date||(sd=new Date(+sd));++ze<
Xe;)if(37===gd.charCodeAt(ze)){xd.push(gd.slice(oe,ze));null!=(oe=mf[Ef=gd.charAt(++ze)])?Ef=gd.charAt(++ze):oe="e"===Ef?" ":"0";if(Zf=nc[Ef])Ef=Zf(sd,oe);xd.push(Ef);oe=ze+1}xd.push(gd.slice(oe,ze));return xd.join("")}}function ha(gd,nc){return function(sd){var xd=hc(1900,void 0,1);if(Oa(xd,gd,sd+="",0)!=sd.length)return null;if("Q"in xd)return new Date(xd.Q);if("s"in xd)return new Date(1E3*xd.s+("L"in xd?xd.L:0));!nc||"Z"in xd||(xd.Z=0);"p"in xd&&(xd.H=xd.H%12+12*xd.p);void 0===xd.m&&(xd.m="q"in
xd?xd.q:0);if("V"in xd){if(1>xd.V||53<xd.V)return null;"w"in xd||(xd.w=1);if("Z"in xd){sd=yb(hc(xd.y,0,1));var ze=sd.getUTCDay();sd=4<ze||0===ze?Se.ceil(sd):Se(sd);sd=Ce.offset(sd,7*(xd.V-1));xd.y=sd.getUTCFullYear();xd.m=sd.getUTCMonth();xd.d=sd.getUTCDate()+(xd.w+6)%7}else sd=db(hc(xd.y,0,1)),ze=sd.getDay(),sd=4<ze||0===ze?Ib.ceil(sd):Ib(sd),sd=Va.offset(sd,7*(xd.V-1)),xd.y=sd.getFullYear(),xd.m=sd.getMonth(),xd.d=sd.getDate()+(xd.w+6)%7}else if("W"in xd||"U"in xd)"w"in xd||(xd.w="u"in xd?xd.u%
7:"W"in xd?1:0),ze="Z"in xd?yb(hc(xd.y,0,1)).getUTCDay():db(hc(xd.y,0,1)).getDay(),xd.m=0,xd.d="W"in xd?(xd.w+6)%7+7*xd.W-(ze+5)%7:xd.w+7*xd.U-(ze+6)%7;return"Z"in xd?(xd.H+=xd.Z/100|0,xd.M+=xd.Z%100,yb(xd)):db(xd)}}function Oa(gd,nc,sd,xd){for(var ze=0,oe=nc.length,Xe=sd.length,Ef;ze<oe;){if(xd>=Xe)return-1;Ef=nc.charCodeAt(ze++);if(37===Ef){if(Ef=nc.charAt(ze++),Ef=Dd[Ef in mf?nc.charAt(ze++):Ef],!Ef||0>(xd=Ef(gd,sd,xd)))return-1}else if(Ef!=sd.charCodeAt(xd++))return-1}return xd}var zb=C.dateTime,
Db=C.date,Pb=C.time,lc=C.periods,Vc=C.days,Kd=C.shortDays,Sd=C.months,ad=C.shortMonths,ie=fa(lc),Ke=Sa(lc),Ve=fa(Vc),A=Sa(Vc),V=fa(Kd),ba=Sa(Kd),Fa=fa(Sd),tb=Sa(Sd),xb=fa(ad),Mb=Sa(ad),Nb={a:function(gd){return Kd[gd.getDay()]},A:function(gd){return Vc[gd.getDay()]},b:function(gd){return ad[gd.getMonth()]},B:function(gd){return Sd[gd.getMonth()]},c:null,d:$e,e:$e,f:Gc,g:ib,G:tc,H:sf,I:nd,j:Fc,L:bd,m:Jd,M:Zd,p:function(gd){return lc[+(12<=gd.getHours())]},q:function(gd){return 1+~~(gd.getMonth()/3)},
Q:af,s:ag,S:$d,u:ke,U:Q,V:J,w:la,W:ma,x:null,X:null,y:Ja,Y:gc,Z:vc,"%":Of},Lc={a:function(gd){return Kd[gd.getUTCDay()]},A:function(gd){return Vc[gd.getUTCDay()]},b:function(gd){return ad[gd.getUTCMonth()]},B:function(gd){return Sd[gd.getUTCMonth()]},c:null,d:Xb,e:Xb,f:Ad,g:of,G:we,H:Dc,I:yd,j:Yc,L:hd,m:Hd,M:Pc,p:function(gd){return lc[+(12<=gd.getUTCHours())]},q:function(gd){return 1+~~(gd.getUTCMonth()/3)},Q:af,s:ag,S:Ee,u:Ge,U:Ae,V:Id,w:he,W:xe,x:null,X:null,y:Le,Y:We,Z:vf,"%":Of},Dd={a:function(gd,
nc,sd){return(nc=V.exec(nc.slice(sd)))?(gd.w=ba.get(nc[0].toLowerCase()),sd+nc[0].length):-1},A:function(gd,nc,sd){return(nc=Ve.exec(nc.slice(sd)))?(gd.w=A.get(nc[0].toLowerCase()),sd+nc[0].length):-1},b:function(gd,nc,sd){return(nc=xb.exec(nc.slice(sd)))?(gd.m=Mb.get(nc[0].toLowerCase()),sd+nc[0].length):-1},B:function(gd,nc,sd){return(nc=Fa.exec(nc.slice(sd)))?(gd.m=tb.get(nc[0].toLowerCase()),sd+nc[0].length):-1},c:function(gd,nc,sd){return Oa(gd,zb,nc,sd)},d:Mc,e:Mc,f:Cd,g:Ra,G:ee,H:Qc,I:Qc,j:Uc,
L:Ld,m:wd,M:td,p:function(gd,nc,sd){return(nc=ie.exec(nc.slice(sd)))?(gd.p=Ke.get(nc[0].toLowerCase()),sd+nc[0].length):-1},q:qc,Q:ve,s:Me,S:kd,u:Jc,U:Bc,V:$c,w:cc,W:pd,x:function(gd,nc,sd){return Oa(gd,Db,nc,sd)},X:function(gd,nc,sd){return Oa(gd,Pb,nc,sd)},y:Ra,Y:ee,Z:eb,"%":be};Nb.x=X(Db,Nb);Nb.X=X(Pb,Nb);Nb.c=X(zb,Nb);Lc.x=X(Db,Lc);Lc.X=X(Pb,Lc);Lc.c=X(zb,Lc);return{format:function(gd){var nc=X(gd+="",Nb);nc.toString=function(){return gd};return nc},parse:function(gd){var nc=ha(gd+="",!1);nc.toString=
function(){return gd};return nc},utcFormat:function(gd){var nc=X(gd+="",Lc);nc.toString=function(){return gd};return nc},utcParse:function(gd){var nc=ha(gd+="",!0);nc.toString=function(){return gd};return nc}}}function ac(C,X,ha){var Oa=0>C?"-":"";C=(Oa?-C:C)+"";var zb=C.length;return Oa+(zb<ha?Array(ha-zb+1).join(X)+C:C)}function L(C){return C.replace(Lf,"\\$\x26")}function fa(C){return new RegExp("^(?:"+C.map(L).join("|")+")","i")}function Sa(C){return new Map(C.map((X,ha)=>[X.toLowerCase(),ha]))}
function cc(C,X,ha){return(X=Qf.exec(X.slice(ha,ha+1)))?(C.w=+X[0],ha+X[0].length):-1}function Jc(C,X,ha){return(X=Qf.exec(X.slice(ha,ha+1)))?(C.u=+X[0],ha+X[0].length):-1}function Bc(C,X,ha){return(X=Qf.exec(X.slice(ha,ha+2)))?(C.U=+X[0],ha+X[0].length):-1}function $c(C,X,ha){return(X=Qf.exec(X.slice(ha,ha+2)))?(C.V=+X[0],ha+X[0].length):-1}function pd(C,X,ha){return(X=Qf.exec(X.slice(ha,ha+2)))?(C.W=+X[0],ha+X[0].length):-1}function ee(C,X,ha){return(X=Qf.exec(X.slice(ha,ha+4)))?(C.y=+X[0],ha+X[0].length):
-1}function Ra(C,X,ha){return(X=Qf.exec(X.slice(ha,ha+2)))?(C.y=+X[0]+(68<+X[0]?1900:2E3),ha+X[0].length):-1}function eb(C,X,ha){return(X=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(X.slice(ha,ha+6)))?(C.Z=X[1]?0:-(X[2]+(X[3]||"00")),ha+X[0].length):-1}function qc(C,X,ha){return(X=Qf.exec(X.slice(ha,ha+1)))?(C.q=3*X[0]-3,ha+X[0].length):-1}function wd(C,X,ha){return(X=Qf.exec(X.slice(ha,ha+2)))?(C.m=X[0]-1,ha+X[0].length):-1}function Mc(C,X,ha){return(X=Qf.exec(X.slice(ha,ha+2)))?(C.d=+X[0],ha+X[0].length):
-1}function Uc(C,X,ha){return(X=Qf.exec(X.slice(ha,ha+3)))?(C.m=0,C.d=+X[0],ha+X[0].length):-1}function Qc(C,X,ha){return(X=Qf.exec(X.slice(ha,ha+2)))?(C.H=+X[0],ha+X[0].length):-1}function td(C,X,ha){return(X=Qf.exec(X.slice(ha,ha+2)))?(C.M=+X[0],ha+X[0].length):-1}function kd(C,X,ha){return(X=Qf.exec(X.slice(ha,ha+2)))?(C.S=+X[0],ha+X[0].length):-1}function Ld(C,X,ha){return(X=Qf.exec(X.slice(ha,ha+3)))?(C.L=+X[0],ha+X[0].length):-1}function Cd(C,X,ha){return(X=Qf.exec(X.slice(ha,ha+6)))?(C.L=Math.floor(X[0]/
1E3),ha+X[0].length):-1}function be(C,X,ha){return(C=If.exec(X.slice(ha,ha+1)))?ha+C[0].length:-1}function ve(C,X,ha){return(X=Qf.exec(X.slice(ha)))?(C.Q=+X[0],ha+X[0].length):-1}function Me(C,X,ha){return(X=Qf.exec(X.slice(ha)))?(C.s=+X[0],ha+X[0].length):-1}function $e(C,X){return ac(C.getDate(),X,2)}function sf(C,X){return ac(C.getHours(),X,2)}function nd(C,X){return ac(C.getHours()%12||12,X,2)}function Fc(C,X){return ac(1+Va.count(Xc(C),C),X,3)}function bd(C,X){return ac(C.getMilliseconds(),X,
3)}function Gc(C,X){return bd(C,X)+"000"}function Jd(C,X){return ac(C.getMonth()+1,X,2)}function Zd(C,X){return ac(C.getMinutes(),X,2)}function $d(C,X){return ac(C.getSeconds(),X,2)}function ke(C){C=C.getDay();return 0===C?7:C}function Q(C,X){return ac(Za.count(Xc(C)-1,C),X,2)}function ea(C){var X=C.getDay();return 4<=X||0===X?bc(C):bc.ceil(C)}function J(C,X){C=ea(C);return ac(bc.count(Xc(C),C)+(4===Xc(C).getDay()),X,2)}function la(C){return C.getDay()}function ma(C,X){return ac(Ib.count(Xc(C)-1,
C),X,2)}function Ja(C,X){return ac(C.getFullYear()%100,X,2)}function ib(C,X){C=ea(C);return ac(C.getFullYear()%100,X,2)}function gc(C,X){return ac(C.getFullYear()%1E4,X,4)}function tc(C,X){var ha=C.getDay();C=4<=ha||0===ha?bc(C):bc.ceil(C);return ac(C.getFullYear()%1E4,X,4)}function vc(C){C=C.getTimezoneOffset();return(0<C?"-":(C*=-1,"+"))+ac(C/60|0,"0",2)+ac(C%60,"0",2)}function Xb(C,X){return ac(C.getUTCDate(),X,2)}function Dc(C,X){return ac(C.getUTCHours(),X,2)}function yd(C,X){return ac(C.getUTCHours()%
12||12,X,2)}function Yc(C,X){return ac(1+Ce.count(bf(C),C),X,3)}function hd(C,X){return ac(C.getUTCMilliseconds(),X,3)}function Ad(C,X){return hd(C,X)+"000"}function Hd(C,X){return ac(C.getUTCMonth()+1,X,2)}function Pc(C,X){return ac(C.getUTCMinutes(),X,2)}function Ee(C,X){return ac(C.getUTCSeconds(),X,2)}function Ge(C){C=C.getUTCDay();return 0===C?7:C}function Ae(C,X){return ac(te.count(bf(C)-1,C),X,2)}function Be(C){var X=C.getUTCDay();return 4<=X||0===X?xf(C):xf.ceil(C)}function Id(C,X){C=Be(C);
return ac(xf.count(bf(C),C)+(4===bf(C).getUTCDay()),X,2)}function he(C){return C.getUTCDay()}function xe(C,X){return ac(Se.count(bf(C)-1,C),X,2)}function Le(C,X){return ac(C.getUTCFullYear()%100,X,2)}function of(C,X){C=Be(C);return ac(C.getUTCFullYear()%100,X,2)}function We(C,X){return ac(C.getUTCFullYear()%1E4,X,4)}function we(C,X){var ha=C.getUTCDay();C=4<=ha||0===ha?xf(C):xf.ceil(C);return ac(C.getUTCFullYear()%1E4,X,4)}function vf(){return"+0000"}function Of(){return"%"}function af(C){return+C}
function ag(C){return Math.floor(+C/1E3)}function Vd(C){return new Date(C)}function hf(C){return C instanceof Date?+C:+new Date(+C)}function jf(C,X,ha,Oa,zb,Db,Pb,lc,Vc,Kd){function Sd(Nb){return(Vc(Nb)<Nb?Ve:lc(Nb)<Nb?A:Pb(Nb)<Nb?V:Db(Nb)<Nb?ba:Oa(Nb)<Nb?zb(Nb)<Nb?Fa:tb:ha(Nb)<Nb?xb:Mb)(Nb)}var ad=lb()(wb,wb),ie=ad.invert,Ke=ad.domain,Ve=Kd(".%L"),A=Kd(":%S"),V=Kd("%I:%M"),ba=Kd("%I %p"),Fa=Kd("%a %d"),tb=Kd("%b %d"),xb=Kd("%B"),Mb=Kd("%Y");ad.invert=function(Nb){return new Date(ie(Nb))};ad.domain=
function(Nb){return arguments.length?Ke(Array.from(Nb,hf)):Ke().map(Vd)};ad.ticks=function(Nb){var Lc=Ke();return C(Lc[0],Lc[Lc.length-1],null==Nb?10:Nb)};ad.tickFormat=function(Nb,Lc){return null==Lc?Sd:Kd(Lc)};ad.nice=function(Nb){var Lc=Ke();Nb&&"function"===typeof Nb.range||(Nb=X(Lc[0],Lc[Lc.length-1],null==Nb?10:Nb));return Nb?Ke(Ye(Lc,Nb)):ad};ad.copy=function(){return $a(ad,jf(C,X,ha,Oa,zb,Db,Pb,lc,Vc,Kd))};return ad}function Qe(){function C(ad){return null==ad||isNaN(ad=+ad)?Sd:Vc(0===Pb?
.5:(ad=(lc(ad)-zb)*Pb,Kd?Math.max(0,Math.min(1,ad)):ad))}function X(ad){return function(ie){var Ke,Ve;return arguments.length?([Ke,Ve]=ie,Vc=ad(Ke,Ve),C):[Vc(0),Vc(1)]}}var ha=0,Oa=1,zb,Db,Pb,lc,Vc=wb,Kd=!1,Sd;C.domain=function(ad){return arguments.length?([ha,Oa]=ad,zb=lc(ha=+ha),Db=lc(Oa=+Oa),Pb=zb===Db?0:1/(Db-zb),C):[ha,Oa]};C.clamp=function(ad){return arguments.length?(Kd=!!ad,C):Kd};C.interpolator=function(ad){return arguments.length?(Vc=ad,C):Vc};C.range=X(sb);C.rangeRound=X(Tb);C.unknown=
function(ad){return arguments.length?(Sd=ad,C):Sd};return function(ad){lc=ad;zb=ad(ha);Db=ad(Oa);Pb=zb===Db?0:1/(Db-zb);return C}}function Cf(C,X){return X.domain(C.domain()).interpolator(C.interpolator()).clamp(C.clamp()).unknown(C.unknown())}function Pf(){var C=Yd(Qe()(wb));C.copy=function(){return Cf(C,Pf())};return pb.apply(C,arguments)}function Jf(){var C=mc(Qe()).domain([1,10]);C.copy=function(){return Cf(C,Jf()).base(C.base())};return pb.apply(C,arguments)}function Gf(){var C=vd(Qe());C.copy=
function(){return Cf(C,Gf()).constant(C.constant())};return pb.apply(C,arguments)}function Bg(){var C=qe(Qe());C.copy=function(){return Cf(C,Bg()).exponent(C.exponent())};return pb.apply(C,arguments)}function rg(){function C(A){return isNaN(A=+A)?Ve:(A=.5+((A=+ie(A))-lc)*(Db*A<Db*lc?Kd:Sd),ad(Ke?Math.max(0,Math.min(1,A)):A))}function X(A){return function(V){var ba,Fa,tb;return arguments.length?([ba,Fa,tb]=V,ad=ud(A,[ba,Fa,tb]),C):[ad(0),ad(.5),ad(1)]}}var ha=0,Oa=.5,zb=1,Db=1,Pb,lc,Vc,Kd,Sd,ad=wb,
ie,Ke=!1,Ve;C.domain=function(A){return arguments.length?([ha,Oa,zb]=A,Pb=ie(ha=+ha),lc=ie(Oa=+Oa),Vc=ie(zb=+zb),Kd=Pb===lc?0:.5/(lc-Pb),Sd=lc===Vc?0:.5/(Vc-lc),Db=lc<Pb?-1:1,C):[ha,Oa,zb]};C.clamp=function(A){return arguments.length?(Ke=!!A,C):Ke};C.interpolator=function(A){return arguments.length?(ad=A,C):ad};C.range=X(sb);C.rangeRound=X(Tb);C.unknown=function(A){return arguments.length?(Ve=A,C):Ve};return function(A){ie=A;Pb=A(ha);lc=A(Oa);Vc=A(zb);Kd=Pb===lc?0:.5/(lc-Pb);Sd=lc===Vc?0:.5/(Vc-lc);
Db=lc<Pb?-1:1;return C}}function Af(){var C=Yd(rg()(wb));C.copy=function(){return Cf(C,Af())};return pb.apply(C,arguments)}function Hf(){var C=mc(rg()).domain([.1,1,10]);C.copy=function(){return Cf(C,Hf()).base(C.base())};return pb.apply(C,arguments)}function dg(){var C=vd(rg());C.copy=function(){return Cf(C,dg()).constant(C.constant())};return pb.apply(C,arguments)}function Ug(){var C=qe(rg());C.copy=function(){return Cf(C,Ug()).exponent(C.exponent())};return pb.apply(C,arguments)}function Vg(){function C(){var ad=
ha().length;const ie=zb[1]<zb[0],Ke=zb[1-ie],Ve=hb(ad,Vc,Kd);let A=zb[ie-0];Db=(Ke-A)/(Ve||1);lc&&(Db=Math.floor(Db));A+=(Ke-A-Db*(ad-Vc))*Sd;Pb=Db*(1-Vc);lc&&(A=Math.round(A),Pb=Math.round(Pb));ad=Lb(ad).map(V=>A+Db*V);return Oa(ie?ad.reverse():ad)}const X=Na().unknown(void 0),ha=X.domain,Oa=X.range;let zb=[0,1],Db,Pb,lc=!1,Vc=0,Kd=0,Sd=.5;delete X.unknown;X.domain=function(ad){return arguments.length?(ha(ad),C()):ha()};X.range=function(ad){return arguments.length?(zb=[+ad[0],+ad[1]],C()):zb.slice()};
X.rangeRound=function(ad){zb=[+ad[0],+ad[1]];lc=!0;return C()};X.bandwidth=function(){return Pb};X.step=function(){return Db};X.round=function(ad){return arguments.length?(lc=!!ad,C()):lc};X.padding=function(ad){return arguments.length?(Vc=Kd=Math.max(0,Math.min(1,ad)),C()):Vc};X.paddingInner=function(ad){return arguments.length?(Vc=Math.max(0,Math.min(1,ad)),C()):Vc};X.paddingOuter=function(ad){return arguments.length?(Kd=Math.max(0,Math.min(1,ad)),C()):Kd};X.align=function(ad){return arguments.length?
(Sd=Math.max(0,Math.min(1,ad)),C()):Sd};X.invertRange=function(ad){if(null!=ad[0]&&null!=ad[1]){var ie=zb[1]<zb[0],Ke=ie?Oa().reverse():Oa(),Ve=Ke.length-1,A=+ad[0],V=+ad[1];if(A===A&&V===V){if(V<A){var ba=A;A=V;V=ba}if(!(V<Ke[0]||A>zb[1-ie]))return ad=Math.max(0,Kf(Ke,A)-1),V=A===V?ad:Kf(Ke,V)-1,A-Ke[ad]>Pb+1E-10&&++ad,ie&&(ba=ad,ad=Ve-V,V=Ve-ba),ad>V?void 0:ha().slice(ad,V+1)}}};X.invert=function(ad){return(ad=X.invertRange([ad,ad]))?ad[0]:ad};X.copy=function(){return Vg().domain(ha()).range(zb).round(lc).paddingInner(Vc).paddingOuter(Kd).align(Sd)};
return C()}function Dg(C){const X=C.copy;C.padding=C.paddingOuter;delete C.paddingInner;C.copy=function(){return Dg(X())};return C}function Wg(){function C(Oa){return null==Oa||Oa!==Oa?void 0:ha[(wf(X,Oa)-1)%ha.length]}let X=[],ha=[];C.domain=function(Oa){return arguments.length?(X=og.call(Oa,l.toNumber),C):X.slice()};C.range=function(Oa){return arguments.length?(ha=jh.call(Oa),C):ha.slice()};C.tickFormat=function(Oa,zb){return Ed(X[0],l.peek(X),null==Oa?10:Oa,zb)};C.copy=function(){return Wg().domain(C.domain()).range(C.range())};
return C}function sa(C,X,ha){const Oa=function(){const zb=X();zb.invertRange||(zb.invertRange=zb.invert?Cb(zb):zb.invertExtent?Yb(zb):void 0);zb.type=C;return zb};Oa.metadata=l.toSet(l.array(ha));return Oa}function bb(C,X,ha){return 1<arguments.length?(yg[C]=sa(C,X,ha),this):Rb(C)?yg[C]:void 0}function Rb(C){return l.hasOwnProperty(yg,C)}function id(C,X){return(C=yg[C])&&C.metadata[X]}function od(C){return id(C,"discrete")}function ne(C){return id(C,"discretizing")}function Re(C){return id(C,"log")}
function pf(C){return id(C,"temporal")}function Ff(C,X,ha){return ud(Ne(X||"rgb",ha),C)}function Ne(C,X){C=ei[eg(C)];return null!=X&&C&&C.gamma?C.gamma(X):C}function eg(C){return"interpolate"+C.toLowerCase().split("-").map(X=>X[0].toUpperCase()+X.slice(1)).join("")}function Sf(C){const X=C.length/6|0,ha=Array(X);for(let Oa=0;Oa<X;)ha[Oa]="#"+C.slice(6*Oa,6*++Oa);return ha}function Wf(C,X){for(const ha in C)kg(ha,X(C[ha]))}function kg(C,X){C=C&&C.toLowerCase();return 1<arguments.length?(Pi[C]=X,this):
Pi[C]}function pg(C,X,ha){var Oa=C.range();let zb=Oa[0],Db=l.peek(Oa);Oa=ki;zb>Db&&(Oa=Db,Db=zb,zb=Oa,Oa=Oi);zb=Math.floor(zb);Db=Math.ceil(Db);X=X.map(Pb=>[Pb,C(Pb)]).filter(Pb=>zb<=Pb[1]&&Pb[1]<=Db).sort(Oa).map(Pb=>Pb[0]);if(0<ha&&1<X.length){for(Oa=[X[0],l.peek(X)];X.length>ha&&3<=X.length;)X=X.filter((Pb,lc)=>!(lc%2));3>X.length&&(X=Oa)}return X}function Lg(C,X){return C.bins?pg(C,C.bins):C.ticks?C.ticks(X):C.domain()}function fh(C,X,ha,Oa,zb,Db){const Pb=X.type;let lc=ci;if("time"===Pb||"time"===
zb)lc=C.timeFormat(Oa);else if("utc"===Pb||"utc"===zb)lc=C.utcFormat(Oa);else if(Re(Pb)){const Vc=C.formatFloat(Oa);if(Db||X.bins)lc=Vc;else{const Kd=ph(X,ha,!1);lc=Sd=>Kd(Sd)?Vc(Sd):""}}else X.tickFormat?(X=X.domain(),lc=C.formatSpan(X[0],X[X.length-1],ha,Oa)):Oa&&(lc=C.format(Oa));return lc}function ph(C,X,ha){const Oa=Lg(C,X),zb=C.base(),Db=Math.log(zb),Pb=Math.max(1,zb*X/Oa.length);C=lc=>{lc/=Math.pow(zb,Math.round(Math.log(lc)/Db));lc*zb<zb-.5&&(lc*=zb);return lc<=Pb};return ha?Oa.filter(C):
C}function Ie(C,X){C.bins?(C=C.bins,X=C.slice(0,-1),X.max=l.peek(C),C=X):"log"===C.type?C=ph(C,X,!0):Cg[C.type]?(C=C[Cg[C.type]](),C=[-Infinity].concat(C),C.max=Infinity):C=Lg(C,X);return C}function ye(C,X,ha,Oa,zb,Db,Pb){if(kj[X.type]&&"time"!==Db&&"utc"!==Db){ha=X[kj[X.type]]();Db=ha.length;Pb=1<Db?ha[1]-ha[0]:ha[0];let lc;for(lc=1;lc<Db;++lc)Pb=Math.min(Pb,ha[lc]-ha[lc-1]);C=C.formatSpan(0,Pb,30,zb)}else C=fh(C,X,ha,zb,Db,Pb);return"symbol"===Oa&&(Cg[X.type]||X.bins)?lj(C):"discrete"===Oa?Ai(C):
Si(C)}const Kf=zc(sc).right;zc(pc).center;var wf=Kf;class Bf extends Map{constructor(C,X=Ua){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:X}});if(null!=C)for(const [ha,Oa]of C)this.set(ha,Oa)}get(C){return super.get(Ab(this,C))}has(C){return super.has(Ab(this,C))}set(C,X){return super.set(jc(this,C),X)}delete(C){return super.delete(Sb(this,C))}}var tf=Math.sqrt(50),fg=Math.sqrt(10),Eg=Math.sqrt(2);const sg=Symbol("implicit");var Df=1/.7,Qg=/^#([0-9a-f]{3,8})$/,Mg=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),
qh=RegExp("^rgb\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),xg=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Wh=RegExp("^rgba\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
rh=RegExp("^hsl\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Hh=RegExp("^hsla\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Xg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,
blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,
darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,
lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,
mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,
purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};
Da(kb,vb,{copy:function(C){return Object.assign(new this.constructor,this,C)},displayable:function(){return this.rgb().displayable()},hex:mb,formatHex:mb,formatHsl:function(){return ca(this).formatHsl()},formatRgb:Ma,toString:Ma});Da(ra,ob,Ia(kb,{brighter:function(C){C=null==C?Df:Math.pow(Df,C);return new ra(this.r*C,this.g*C,this.b*C,this.opacity)},darker:function(C){C=null==C?.7:Math.pow(.7,C);return new ra(this.r*C,this.g*C,this.b*C,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=
this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Y,formatHex:Y,formatRgb:Ea,toString:Ea}));Da(x,pa,Ia(kb,{brighter:function(C){C=null==C?Df:Math.pow(Df,C);return new x(this.h,this.s,this.l*C,this.opacity)},darker:function(C){C=null==C?.7:Math.pow(.7,C);return new x(this.h,this.s,this.l*C,this.opacity)},rgb:function(){var C=this.h%360+360*(0>this.h),X=isNaN(C)||isNaN(this.s)?0:this.s,ha=this.l;X=ha+(.5>ha?ha:1-ha)*X;ha=2*ha-X;return new ra(N(240<=
C?C-240:C+120,ha,X),N(C,ha,X),N(120>C?C+240:C-120,ha,X),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var C=this.opacity;C=isNaN(C)?1:Math.max(0,Math.min(1,C));return(1===C?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===C?")":", "+C+")")}}));const sh=Math.PI/180,Bh=180/Math.PI,ji=4/29,dh=6/29,th=3*dh*dh,yi=dh*dh*dh;Da(z,g,Ia(kb,{brighter:function(C){return new z(this.l+
18*(null==C?1:C),this.a,this.b,this.opacity)},darker:function(C){return new z(this.l-18*(null==C?1:C),this.a,this.b,this.opacity)},rgb:function(){var C=(this.l+16)/116,X=isNaN(this.a)?C:C+this.a/500,ha=isNaN(this.b)?C:C-this.b/200;X=.96422*E(X);C=1*E(C);ha=.82521*E(ha);return new ra(h(3.1338561*X-1.6168667*C-.4906146*ha),h(-.9787684*X+1.9161415*C+.033454*ha),h(.0719453*X-.2289914*C+1.4052427*ha),this.opacity)}}));Da(F,v,Ia(kb,{brighter:function(C){return new F(this.h,this.c,this.l+18*(null==C?1:C),
this.opacity)},darker:function(C){return new F(this.h,this.c,this.l-18*(null==C?1:C),this.opacity)},rgb:function(){return aa(this).rgb()}}));var Fg=1.78277*-.29227-.1347134789;Da(u,O,Ia(kb,{brighter:function(C){C=null==C?Df:Math.pow(Df,C);return new u(this.h,this.s,this.l*C,this.opacity)},darker:function(C){C=null==C?.7:Math.pow(.7,C);return new u(this.h,this.s,this.l*C,this.opacity)},rgb:function(){var C=isNaN(this.h)?0:(this.h+120)*sh,X=+this.l,ha=isNaN(this.s)?0:this.s*X*(1-X),Oa=Math.cos(C);C=
Math.sin(C);return new ra(255*(X+ha*(-.14861*Oa+1.78277*C)),255*(X+ha*(-.29227*Oa+-.90649*C)),255*(X+1.97294*ha*Oa),this.opacity)}}));var Mh=C=>()=>C,Xh=function ha(X){function Oa(Db,Pb){var lc=zb((Db=ob(Db)).r,(Pb=ob(Pb)).r),Vc=zb(Db.g,Pb.g),Kd=zb(Db.b,Pb.b),Sd=Ya(Db.opacity,Pb.opacity);return function(ad){Db.r=lc(ad);Db.g=Vc(ad);Db.b=Kd(ad);Db.opacity=Sd(ad);return Db+""}}var zb=Ca(X);Oa.gamma=ha;return Oa}(1),Rg=Kb(va),gh=Kb(La),kh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ch=new RegExp(kh.source,
"g"),Gg=180/Math.PI,Nh={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Dh,Hg=dc(function(X){X=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(X+"");return X.isIdentity?Nh:ic(X.a,X.b,X.c,X.d,X.e,X.f)},"px, ","px)","deg)"),Ng=dc(function(X){if(null==X)return Nh;Dh||(Dh=document.createElementNS("http://www.w3.org/2000/svg","g"));Dh.setAttribute("transform",X);if(!(X=Dh.transform.baseVal.consolidate()))return Nh;X=X.matrix;return ic(X.a,X.b,X.c,X.d,X.e,X.f)},", ",")",")"),
Yh=function Db(ha,Oa,zb){function Pb(lc,Vc){var Kd=lc[0],Sd=lc[1],ad=lc[2];lc=Vc[2];var ie=Vc[0]-Kd,Ke=Vc[1]-Sd,Ve=ie*ie+Ke*Ke;if(1E-12>Ve){var A=Math.log(lc/ad)/ha;lc=function(Fa){return[Kd+Fa*ie,Sd+Fa*Ke,ad*Math.exp(ha*Fa*A)]}}else{var V=Math.sqrt(Ve);Vc=(lc*lc-ad*ad+zb*Ve)/(2*ad*Oa*V);lc=(lc*lc-ad*ad-zb*Ve)/(2*lc*Oa*V);var ba=Math.log(Math.sqrt(Vc*Vc+1)-Vc);A=(Math.log(Math.sqrt(lc*lc+1)-lc)-ba)/ha;lc=function(Fa){Fa*=A;var tb=Ic(ba),xb=ha*Fa+ba;var Mb=((xb=Math.exp(2*xb))-1)/(xb+1);var Nb=ba;
xb=((Nb=Math.exp(Nb))-1/Nb)/2;Mb=ad/(Oa*V)*(tb*Mb-xb);return[Kd+Mb*ie,Sd+Mb*Ke,ad*tb/Ic(ha*Fa+ba)]}}lc.duration=1E3*A*ha/Math.SQRT2;return lc}Pb.rho=function(lc){lc=Math.max(.001,+lc);var Vc=lc*lc;return Db(lc,Vc,Vc*Vc)};return Pb}(Math.SQRT2,2,4),eh=Ac(Z),Zg=Ac(Ya),Xf=Zc(Z),Sg=Zc(Ya),$g=Nd(Z),qf=Nd(Ya),ei=Object.freeze({__proto__:null,interpolate:sb,interpolateArray:function(ha,Oa){return(rc(Oa)?xc:yc)(ha,Oa)},interpolateBasis:va,interpolateBasisClosed:La,interpolateDate:dd,interpolateDiscrete:function(ha){var Oa=
ha.length;return function(zb){return ha[Math.max(0,Math.min(Oa-1,Math.floor(zb*Oa)))]}},interpolateHue:function(ha,Oa){var zb=Z(+ha,+Oa);return function(Db){Db=zb(Db);return Db-360*Math.floor(Db/360)}},interpolateNumber:$b,interpolateNumberArray:xc,interpolateObject:Rc,interpolateRound:Tb,interpolateString:Wb,interpolateTransformCss:Hg,interpolateTransformSvg:Ng,interpolateZoom:Yh,interpolateRgb:Xh,interpolateRgbBasis:Rg,interpolateRgbBasisClosed:gh,interpolateHsl:eh,interpolateHslLong:Zg,interpolateLab:function(ha,
Oa){var zb=Ya((ha=g(ha)).l,(Oa=g(Oa)).l),Db=Ya(ha.a,Oa.a),Pb=Ya(ha.b,Oa.b),lc=Ya(ha.opacity,Oa.opacity);return function(Vc){ha.l=zb(Vc);ha.a=Db(Vc);ha.b=Pb(Vc);ha.opacity=lc(Vc);return ha+""}},interpolateHcl:Xf,interpolateHclLong:Sg,interpolateCubehelix:$g,interpolateCubehelixLong:qf,piecewise:ud,quantize:function(ha,Oa){for(var zb=Array(Oa),Db=0;Db<Oa;++Db)zb[Db]=ha(Db/(Oa-1));return zb}}),Og=[0,1],bg=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Sc.prototype=ed.prototype;
ed.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var U,ya={"%":(ha,Oa)=>(100*ha).toFixed(Oa),b:ha=>Math.round(ha).toString(2),c:ha=>ha+"",d:function(ha){return 1E21<=Math.abs(ha=Math.round(ha))?ha.toLocaleString("en").replace(/,/g,""):ha.toString(10)},e:(ha,Oa)=>ha.toExponential(Oa),f:(ha,
Oa)=>ha.toFixed(Oa),g:(ha,Oa)=>ha.toPrecision(Oa),o:ha=>Math.round(ha).toString(8),p:(ha,Oa)=>fd(100*ha,Oa),r:fd,s:function(ha,Oa){var zb=Gb(ha,Oa);if(!zb)return ha+"";var Db=zb[0];zb=zb[1];zb=zb-(U=3*Math.max(-8,Math.min(8,Math.floor(zb/3))))+1;var Pb=Db.length;return zb===Pb?Db:zb>Pb?Db+Array(zb-Pb+1).join("0"):0<zb?Db.slice(0,zb)+"."+Db.slice(zb):"0."+Array(1-zb).join("0")+Gb(ha,Math.max(0,Oa+zb-1))[0]},X:ha=>Math.round(ha).toString(16).toUpperCase(),x:ha=>Math.round(ha).toString(16)},Ta=Array.prototype.map,
w="y z a f p n  m  k M G T P E Z Y".split(" "),T,ka,xa;(function(ha){T=Td(ha);ka=T.format;xa=T.formatPrefix;return T})({thousands:",",grouping:[3],currency:["$",""]});var y=new Date,G=new Date,ja=pe(function(){},function(ha,Oa){ha.setTime(+ha+Oa)},function(ha,Oa){return Oa-ha});ja.every=function(ha){ha=Math.floor(ha);return isFinite(ha)&&0<ha?1<ha?pe(function(Oa){Oa.setTime(Math.floor(Oa/ha)*ha)},function(Oa,zb){Oa.setTime(+Oa+zb*ha)},function(Oa,zb){return(zb-Oa)/ha}):ja:null};var n=ja,D=pe(function(ha){ha.setTime(ha-
ha.getMilliseconds())},function(ha,Oa){ha.setTime(+ha+1E3*Oa)},function(ha,Oa){return(Oa-ha)/1E3},function(ha){return ha.getUTCSeconds()}),da=pe(function(ha){ha.setTime(ha-ha.getMilliseconds()-1E3*ha.getSeconds())},function(ha,Oa){ha.setTime(+ha+6E4*Oa)},function(ha,Oa){return(Oa-ha)/6E4},function(ha){return ha.getMinutes()}),oa=pe(function(ha){ha.setTime(ha-ha.getMilliseconds()-1E3*ha.getSeconds()-6E4*ha.getMinutes())},function(ha,Oa){ha.setTime(+ha+36E5*Oa)},function(ha,Oa){return(Oa-ha)/36E5},
function(ha){return ha.getHours()}),Va=pe(ha=>ha.setHours(0,0,0,0),(ha,Oa)=>ha.setDate(ha.getDate()+Oa),(ha,Oa)=>(Oa-ha-6E4*(Oa.getTimezoneOffset()-ha.getTimezoneOffset()))/864E5,ha=>ha.getDate()-1),Za=nf(0),Ib=nf(1);nf(2);nf(3);var bc=nf(4);nf(5);nf(6);var Ub=pe(function(ha){ha.setDate(1);ha.setHours(0,0,0,0)},function(ha,Oa){ha.setMonth(ha.getMonth()+Oa)},function(ha,Oa){return Oa.getMonth()-ha.getMonth()+12*(Oa.getFullYear()-ha.getFullYear())},function(ha){return ha.getMonth()}),Bd=pe(function(ha){ha.setMonth(0,
1);ha.setHours(0,0,0,0)},function(ha,Oa){ha.setFullYear(ha.getFullYear()+Oa)},function(ha,Oa){return Oa.getFullYear()-ha.getFullYear()},function(ha){return ha.getFullYear()});Bd.every=function(ha){return isFinite(ha=Math.floor(ha))&&0<ha?pe(function(Oa){Oa.setFullYear(Math.floor(Oa.getFullYear()/ha)*ha);Oa.setMonth(0,1);Oa.setHours(0,0,0,0)},function(Oa,zb){Oa.setFullYear(Oa.getFullYear()+zb*ha)}):null};var Xc=Bd,Rd=pe(function(ha){ha.setUTCSeconds(0,0)},function(ha,Oa){ha.setTime(+ha+6E4*Oa)},function(ha,
Oa){return(Oa-ha)/6E4},function(ha){return ha.getUTCMinutes()}),se=pe(function(ha){ha.setUTCMinutes(0,0,0)},function(ha,Oa){ha.setTime(+ha+36E5*Oa)},function(ha,Oa){return(Oa-ha)/36E5},function(ha){return ha.getUTCHours()}),Ce=pe(function(ha){ha.setUTCHours(0,0,0,0)},function(ha,Oa){ha.setUTCDate(ha.getUTCDate()+Oa)},function(ha,Oa){return(Oa-ha)/864E5},function(ha){return ha.getUTCDate()-1}),te=W(0),Se=W(1);W(2);W(3);var xf=W(4);W(5);W(6);var Tf=pe(function(ha){ha.setUTCDate(1);ha.setUTCHours(0,
0,0,0)},function(ha,Oa){ha.setUTCMonth(ha.getUTCMonth()+Oa)},function(ha,Oa){return Oa.getUTCMonth()-ha.getUTCMonth()+12*(Oa.getUTCFullYear()-ha.getUTCFullYear())},function(ha){return ha.getUTCMonth()}),ff=pe(function(ha){ha.setUTCMonth(0,1);ha.setUTCHours(0,0,0,0)},function(ha,Oa){ha.setUTCFullYear(ha.getUTCFullYear()+Oa)},function(ha,Oa){return Oa.getUTCFullYear()-ha.getUTCFullYear()},function(ha){return ha.getUTCFullYear()});ff.every=function(ha){return isFinite(ha=Math.floor(ha))&&0<ha?pe(function(Oa){Oa.setUTCFullYear(Math.floor(Oa.getUTCFullYear()/
ha)*ha);Oa.setUTCMonth(0,1);Oa.setUTCHours(0,0,0,0)},function(Oa,zb){Oa.setUTCFullYear(Oa.getUTCFullYear()+zb*ha)}):null};var bf=ff;const [cg,vh]=wa(bf,Tf,te,Ce,se,Rd),[lg,Mf]=wa(Xc,Ub,Za,Va,oa,da);var mf={"-":"",_:" ",0:"0"},Qf=/^\s*\d+/,If=/^%/,Lf=/[\\^$*+?|[\]().{}]/g,ah,hg,Fh;(function(ha){ah=Ec(ha);hg=ah.format;Fh=ah.utcFormat;return ah})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),
months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var og=Array.prototype.map;const jh=Array.prototype.slice,yg={};bb("identity",Ud);bb("linear",ae,"continuous");bb("log",Hc,["continuous","log"]);bb("pow",De,"continuous");bb("sqrt",function(){return De.apply(null,arguments).exponent(.5)},"continuous");bb("symlog",Gd,"continuous");bb("time",function(){return Wa.apply(jf(lg,
Mf,Xc,Ub,Za,Va,oa,da,D,hg).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)},["continuous","temporal"]);bb("utc",function(){return Wa.apply(jf(cg,vh,bf,Tf,te,Ce,se,Rd,D,Fh).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)},["continuous","temporal"]);bb("sequential",Pf,["continuous","interpolating"]);bb("sequential-linear",Pf,["continuous","interpolating"]);bb("sequential-log",Jf,["continuous","interpolating","log"]);bb("sequential-pow",Bg,["continuous","interpolating"]);bb("sequential-sqrt",
function(){return Bg.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);bb("sequential-symlog",Gf,["continuous","interpolating"]);bb("diverging-linear",Af,["continuous","interpolating"]);bb("diverging-log",Hf,["continuous","interpolating","log"]);bb("diverging-pow",Ug,["continuous","interpolating"]);bb("diverging-sqrt",function(){return Ug.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);bb("diverging-symlog",dg,["continuous","interpolating"]);bb("quantile",gf,
["discretizing","quantile"]);bb("quantize",df,"discretizing");bb("threshold",ef,"discretizing");bb("bin-ordinal",Wg,["discrete","discretizing"]);bb("ordinal",Na,"discrete");bb("band",Vg,"discrete");bb("point",function(){return Dg(Vg().paddingInner(1))},"discrete");const Sh=["clamp","base","constant","exponent"],Pi={};Wf({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",
category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",
dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},Sf);Wf({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",
greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",
greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",
yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",
redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},ha=>Ff(Sf(ha)));const ci=ha=>l.isArray(ha)?ha.map(Oa=>String(Oa)):String(ha),ki=(ha,Oa)=>ha[1]-Oa[1],Oi=(ha,Oa)=>Oa[1]-ha[1],Cg={quantile:"quantiles",quantize:"thresholds",threshold:"domain"},kj={quantile:"quantiles",quantize:"domain"},lj=ha=>(Oa,zb,Db)=>{zb=Db[zb+1];Db=Db.max;Db=null!=Db?Db:Infinity;zb=null!=
zb?zb:Db;Oa=Number.isFinite(Oa)?ha(Oa):null;zb=Number.isFinite(zb)?ha(zb):null;return Oa&&zb?Oa+"  "+zb:zb?"\x3c "+zb:" "+Oa},Ai=ha=>(Oa,zb)=>zb?ha(Oa):null,Si=ha=>Oa=>ha(Oa);t.Band="band";t.BinOrdinal="bin-ordinal";t.DiscreteLegend="discrete";t.Diverging="diverging";t.GradientLegend="gradient";t.Identity="identity";t.Linear="linear";t.Log="log";t.Ordinal="ordinal";t.Point="point";t.Pow="pow";t.Quantile="quantile";t.Quantize="quantize";t.Sequential="sequential";t.Sqrt="sqrt";t.SymbolLegend="symbol";
t.Symlog="symlog";t.Threshold="threshold";t.Time="time";t.UTC="utc";t.bandSpace=hb;t.domainCaption=function(ha,Oa,zb){zb=zb||{};var Db=Math.max(3,zb.maxlen||7),Pb=zb.format;const lc=(zb=zb.formatType)||Oa.type;l.isString(Pb)&&pf(lc)&&(Pb=Pb.replace(/%a/g,"%A").replace(/%b/g,"%B"));ha=Pb||"time"!==lc?Pb||"utc"!==lc?ye(ha,Oa,5,null,Pb,zb,!0):ha.utcFormat("%A, %d %B %Y, %X UTC"):ha.timeFormat("%A, %d %B %Y, %X");if(ne(Oa.type))return Db=Ie(Oa).slice(1).map(ha),Oa=Db.length,`${Oa} boundar${1===Oa?"y":
"ies"}: ${Db.join(", ")}`;if(od(Oa.type))return Pb=Oa.domain(),Oa=Pb.length,Db=Oa>Db?Pb.slice(0,Db-2).map(ha).join(", ")+", ending with "+Pb.slice(-1).map(ha):Pb.map(ha).join(", "),`${Oa} value${1===Oa?"":"s"}: ${Db}`;Db=Oa.domain();return`values from ${ha(Db[0])} to ${ha(l.peek(Db))}`};t.interpolate=Ne;t.interpolateColors=Ff;t.interpolateRange=function(ha,Oa){const zb=Oa[0],Db=l.peek(Oa)-zb;return function(Pb){return ha(zb+Pb*Db)}};t.isContinuous=function(ha){return id(ha,"continuous")};t.isDiscrete=
od;t.isDiscretizing=ne;t.isInterpolating=function(ha){return id(ha,"interpolating")};t.isLogarithmic=Re;t.isQuantile=function(ha){return id(ha,"quantile")};t.isTemporal=pf;t.isValidScaleType=Rb;t.labelFormat=ye;t.labelFraction=function(ha){var Oa=ha.domain();const zb=Oa.length-1;let Db=+Oa[0];Oa=+l.peek(Oa);let Pb=Oa-Db;"threshold"===ha.type&&(ha=zb?Pb/zb:.1,Db-=ha,Oa+=ha,Pb=Oa-Db);return lc=>(lc-Db)/Pb};t.labelValues=Ie;t.quantizeInterpolator=function(ha,Oa){const zb=Array(Oa),Db=Oa+1;for(let Pb=
0;Pb<Oa;)zb[Pb]=ha(++Pb/Db);return zb};t.scale=bb;t.scaleCopy=function(ha){const Oa=ha.type;ha=ha.copy();ha.type=Oa;return ha};t.scaleFraction=function(ha,Oa,zb){var Db=zb-Oa;let Pb,lc;return Db&&Number.isFinite(Db)?(Db=(Pb=ha.type).indexOf("-"),Pb=0>Db?Pb:Pb.slice(Db+1),lc=bb(Pb)().domain([Oa,zb]).range([0,1]),Sh.forEach(Vc=>ha[Vc]?lc[Vc](ha[Vc]()):0),lc):l.constant(.5)};t.scaleImplicit=sg;t.scheme=kg;t.tickCount=function(ha,Oa,zb){let Db;l.isNumber(Oa)&&(ha.bins&&(Oa=Math.max(Oa,ha.bins.length)),
null!=zb&&(Oa=Math.min(Oa,Math.floor(l.span(ha.domain())/zb||1))));l.isObject(Oa)&&(Db=Oa.step,Oa=Oa.interval);l.isString(Oa)&&(Oa="time"===ha.type?R.timeInterval(Oa):"utc"==ha.type?R.utcInterval(Oa):l.error("Only time and utc scales accept interval strings."),Db&&(Oa=Oa.every(Db)));return Oa};t.tickFormat=fh;t.tickValues=Lg;t.validTicks=pg;Object.defineProperty(t,"__esModule",{value:!0})})};
shadow$provide[46]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(40),Eb(41),Eb(44),Eb(45)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-canvas","vega-loader","vega-scale"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l(t.vega={},t.vega,t.vega,t.vega,t.vega))})(this,function(t,l,R,hb,Cb){function Yb(U,ya,Ta){const w=U.gradient;let T=U.id,ka="radial"===w?"p_":"";T||(T=U.id="gradient_"+Ja++,"radial"===w?(U.x1=sc(U.x1,
.5),U.y1=sc(U.y1,.5),U.r1=sc(U.r1,0),U.x2=sc(U.x2,.5),U.y2=sc(U.y2,.5),U.r2=sc(U.r2,.5),ka="p_"):(U.x1=sc(U.x1,0),U.y1=sc(U.y1,0),U.x2=sc(U.x2,1),U.y2=sc(U.y2,0)));ya[T]=U;return"url("+(Ta||"")+"#"+ka+T+")"}function sc(U,ya){return null!=U?U:ya}function zc(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function pc(){return new zc}function Ab(U){return function(){return U}}function jc(U){return 1<=U?Pc:-1>=U?-Pc:Math.asin(U)}function Sb(U){return U.innerRadius}function Ua(U){return U.outerRadius}
function rb(U){return U.startAngle}function Fb(U){return U.endAngle}function Hb(U){return U&&U.padAngle}function Bb(U,ya,Ta,w,T,ka,xa){var y=U-Ta,G=ya-w;xa=(xa?ka:-ka)/Ad(y*y+G*G);G*=xa;y*=-xa;var ja=U+G,n=ya+y,D=Ta+G,da=w+y;Ta=(ja+D)/2;w=(n+da)/2;ya=D-ja;U=da-n;xa=ya*ya+U*U;ka=T-ka;da=ja*da-D*n;var oa=(0>U?-1:1)*Ad(yd(0,ka*ka*xa-da*da));ja=(da*U-ya*oa)/xa;n=(-da*ya-U*oa)/xa;D=(da*U+ya*oa)/xa;ya=(-da*ya+U*oa)/xa;U=ja-Ta;xa=n-w;Ta=D-Ta;w=ya-w;U*U+xa*xa>Ta*Ta+w*w&&(ja=D,n=ya);return{cx:ja,cy:n,x01:-G,
y01:-y,x11:ja*(T/ka-1),y11:n*(T/ka-1)}}function Lb(U){return"object"===typeof U&&"length"in U?U:Array.from(U)}function Wa(U){this._context=U}function pb(U){return new Wa(U)}function Na(U){return U[0]}function Da(U){return U[1]}function Ia(U,ya){function Ta(y){var G,ja=(y=Lb(y)).length,n,D=!1,da;null==T&&(xa=ka(da=pc()));for(G=0;G<=ja;++G)!(G<ja&&w(n=y[G],G,y))===D&&((D=!D)?xa.lineStart():xa.lineEnd()),D&&xa.point(+U(n,G,y),+ya(n,G,y));if(da)return xa=null,da+""||null}var w=Ab(!0),T=null,ka=pb,xa=
null;U="function"===typeof U?U:void 0===U?Na:Ab(U);ya="function"===typeof ya?ya:void 0===ya?Da:Ab(ya);Ta.x=function(y){return arguments.length?(U="function"===typeof y?y:Ab(+y),Ta):U};Ta.y=function(y){return arguments.length?(ya="function"===typeof y?y:Ab(+y),Ta):ya};Ta.defined=function(y){return arguments.length?(w="function"===typeof y?y:Ab(!!y),Ta):w};Ta.curve=function(y){return arguments.length?(ka=y,null!=T&&(xa=ka(T)),Ta):ka};Ta.context=function(y){return arguments.length?(null==y?T=xa=null:
xa=ka(T=y),Ta):T};return Ta}function kb(U,ya,Ta){function w(n){var D,da,oa=(n=Lb(n)).length,Va,Za=!1,Ib,bc=Array(oa),Ub=Array(oa);null==y&&(ja=G(Ib=pc()));for(D=0;D<=oa;++D){if(!(D<oa&&xa(Va=n[D],D,n))===Za)if(Za=!Za){var Bd=D;ja.areaStart();ja.lineStart()}else{ja.lineEnd();ja.lineStart();for(da=D-1;da>=Bd;--da)ja.point(bc[da],Ub[da]);ja.lineEnd();ja.areaEnd()}Za&&(bc[D]=+U(Va,D,n),Ub[D]=+ya(Va,D,n),ja.point(ka?+ka(Va,D,n):bc[D],Ta?+Ta(Va,D,n):Ub[D]))}if(Ib)return ja=null,Ib+""||null}function T(){return Ia().defined(xa).curve(G).context(y)}
var ka=null,xa=Ab(!0),y=null,G=pb,ja=null;U="function"===typeof U?U:void 0===U?Na:Ab(+U);ya="function"===typeof ya?ya:void 0===ya?Ab(0):Ab(+ya);Ta="function"===typeof Ta?Ta:void 0===Ta?Da:Ab(+Ta);w.x=function(n){return arguments.length?(U="function"===typeof n?n:Ab(+n),ka=null,w):U};w.x0=function(n){return arguments.length?(U="function"===typeof n?n:Ab(+n),w):U};w.x1=function(n){return arguments.length?(ka=null==n?null:"function"===typeof n?n:Ab(+n),w):ka};w.y=function(n){return arguments.length?
(ya="function"===typeof n?n:Ab(+n),Ta=null,w):ya};w.y0=function(n){return arguments.length?(ya="function"===typeof n?n:Ab(+n),w):ya};w.y1=function(n){return arguments.length?(Ta=null==n?null:"function"===typeof n?n:Ab(+n),w):Ta};w.lineX0=w.lineY0=function(){return T().x(U).y(ya)};w.lineY1=function(){return T().x(U).y(Ta)};w.lineX1=function(){return T().x(ka).y(ya)};w.defined=function(n){return arguments.length?(xa="function"===typeof n?n:Ab(!!n),w):xa};w.curve=function(n){return arguments.length?
(G=n,null!=y&&(ja=G(y)),w):G};w.context=function(n){return arguments.length?(null==n?y=ja=null:ja=G(y=n),w):y};return w}function mb(){}function Ma(U,ya,Ta){U._context.bezierCurveTo((2*U._x0+U._x1)/3,(2*U._y0+U._y1)/3,(U._x0+2*U._x1)/3,(U._y0+2*U._y1)/3,(U._x0+4*U._x1+ya)/6,(U._y0+4*U._y1+Ta)/6)}function vb(U){this._context=U}function qb(U){this._context=U}function Ob(U){this._context=U}function Vb(U,ya){this._basis=new vb(U);this._beta=ya}function ob(U,ya,Ta){U._context.bezierCurveTo(U._x1+U._k*(U._x2-
U._x0),U._y1+U._k*(U._y2-U._y0),U._x2+U._k*(U._x1-ya),U._y2+U._k*(U._y1-Ta),U._x2,U._y2)}function ra(U,ya){this._context=U;this._k=(1-ya)/6}function Y(U,ya){this._context=U;this._k=(1-ya)/6}function Ea(U,ya){this._context=U;this._k=(1-ya)/6}function Ga(U,ya,Ta){var w=U._x1,T=U._y1,ka=U._x2,xa=U._y2;if(1E-12<U._l01_a){var y=2*U._l01_2a+3*U._l01_a*U._l12_a+U._l12_2a,G=3*U._l01_a*(U._l01_a+U._l12_a);w=(w*y-U._x0*U._l12_2a+U._x2*U._l01_2a)/G;T=(T*y-U._y0*U._l12_2a+U._y2*U._l01_2a)/G}1E-12<U._l23_a&&(y=
2*U._l23_2a+3*U._l23_a*U._l12_a+U._l12_2a,G=3*U._l23_a*(U._l23_a+U._l12_a),ka=(ka*y+U._x1*U._l23_2a-ya*U._l12_2a)/G,xa=(xa*y+U._y1*U._l23_2a-Ta*U._l12_2a)/G);U._context.bezierCurveTo(w,T,ka,xa,U._x2,U._y2)}function cb(U,ya){this._context=U;this._alpha=ya}function ca(U,ya){this._context=U;this._alpha=ya}function pa(U,ya){this._context=U;this._alpha=ya}function x(U){this._context=U}function N(U,ya,Ta){var w=U._x1-U._x0;ya-=U._x1;var T=(U._y1-U._y0)/(w||0>ya&&-0);U=(Ta-U._y1)/(ya||0>w&&-0);return((0>
T?-1:1)+(0>U?-1:1))*Math.min(Math.abs(T),Math.abs(U),.5*Math.abs((T*ya+U*w)/(w+ya)))||0}function S(U,ya){var Ta=U._x1-U._x0;return Ta?(3*(U._y1-U._y0)/Ta-ya)/2:ya}function g(U,ya,Ta){var w=U._x0,T=U._x1,ka=U._y1,xa=(T-w)/3;U._context.bezierCurveTo(w+xa,U._y0+xa*ya,T-xa,ka-xa*Ta,T,ka)}function z(U){this._context=U}function m(U){this._context=new E(U)}function E(U){this._context=U}function h(U){this._context=U}function p(U){var ya,Ta=U.length-1,w=Array(Ta),T=Array(Ta),ka=Array(Ta);w[0]=0;T[0]=2;ka[0]=
U[0]+2*U[1];for(ya=1;ya<Ta-1;++ya)w[ya]=1,T[ya]=4,ka[ya]=4*U[ya]+2*U[ya+1];w[Ta-1]=2;T[Ta-1]=7;ka[Ta-1]=8*U[Ta-1]+U[Ta];for(ya=1;ya<Ta;++ya){var xa=w[ya]/T[ya-1];T[ya]-=xa;ka[ya]-=xa*ka[ya-1]}w[Ta-1]=ka[Ta-1]/T[Ta-1];for(ya=Ta-2;0<=ya;--ya)w[ya]=(ka[ya]-w[ya+1])/T[ya];T[Ta-1]=(U[Ta]+w[Ta-1])/2;for(ya=0;ya<Ta-1;++ya)T[ya]=2*U[ya+1]-w[ya+1];return[w,T]}function r(U,ya){this._context=U;this._t=ya}function v(U,ya,Ta){U=l.hasOwnProperty(We,U)&&We[U];var w=null;U&&(w=U.curve||U[ya||"vertical"],U.tension&&
null!=Ta&&(w=w[U.tension](Ta)));return w}function F(U){const ya=[];(U.match(vf)||[]).forEach(Ta=>{let w=Ta[0];var T=w.toLowerCase();const ka=we[T];var xa=Ta.slice(1).trim();Ta=[];for(let G=0;ka&&G<xa.length;)for(let ja=0;ja<ka;++ja){var y="a"!==T||3!==ja&&4!==ja?Of:ag;y=xa.slice(G).match(y);if(null===y)throw Error("Invalid SVG path, incorrect parameter type");G+=y[0].length;Ta.push(+y[0]);y=xa.slice(G).match(af);null!==y&&(G+=y[0].length)}xa=Ta.length;if(xa<ka||xa&&0!==xa%ka)throw Error("Invalid SVG path, incorrect parameter count");
ya.push([w,...Ta.slice(0,ka)]);if(xa!==ka)for("m"===T&&(w="M"===w?"L":"l"),T=ka;T<xa;T+=ka)ya.push([w,...Ta.slice(T,T+ka)])});return ya}function aa(U,ya,Ta,w,T,ka,xa,y,G){const ja=Jf.call(arguments);if(Cf[ja])return Cf[ja];var n=xa*Vd;const D=Math.sin(n);n=Math.cos(n);Ta=Math.abs(Ta);w=Math.abs(w);var da=n*(y-U)*.5+D*(G-ya)*.5,oa=n*(G-ya)*.5-D*(y-U)*.5;da=da*da/(Ta*Ta)+oa*oa/(w*w);1<da&&(da=Math.sqrt(da),Ta*=da,w*=da);var Va=n/Ta,Za=D/Ta,Ib=-D/w,bc=n/w;da=Va*y+Za*G;oa=Ib*y+bc*G;Va=Va*U+Za*ya;Za=Ib*
U+bc*ya;Ib=1/((Va-da)*(Va-da)+(Za-oa)*(Za-oa))-.25;0>Ib&&(Ib=0);bc=Math.sqrt(Ib);ka==T&&(bc=-bc);Ib=.5*(da+Va)-bc*(Za-oa);bc=.5*(oa+Za)+bc*(Va-da);da=Math.atan2(oa-bc,da-Ib);oa=Math.atan2(Za-bc,Va-Ib)-da;0>oa&&1===ka?oa+=jf:0<oa&&0===ka&&(oa-=jf);Va=Math.ceil(Math.abs(oa/(hf+.001)));Za=[];for(let Ub=0;Ub<Va;++Ub)Za[Ub]=[Ib,bc,da+Ub*oa/Va,da+(Ub+1)*oa/Va,Ta,w,D,n];return Cf[ja]=Za}function O(U,ya,Ta,w,T,ka){var xa=null,y=0,G=0,ja=0,n=0,D=0,da=0;null==Ta&&(Ta=0);null==w&&(w=0);null==T&&(T=1);null==
ka&&(ka=T);U.beginPath&&U.beginPath();for(var oa=0,Va=ya.length;oa<Va;++oa){var Za=ya[oa];if(1!==T||1!==ka){var Ib=T;var bc=ka;var Ub=Gf[0]=Za[0];if("a"===Ub||"A"===Ub)Gf[1]=Ib*Za[1],Gf[2]=bc*Za[2],Gf[3]=Za[3],Gf[4]=Za[4],Gf[5]=Za[5],Gf[6]=Ib*Za[6],Gf[7]=bc*Za[7];else if("h"===Ub||"H"===Ub)Gf[1]=Ib*Za[1];else if("v"===Ub||"V"===Ub)Gf[1]=bc*Za[1];else{Ub=1;for(var Bd=Za.length;Ub<Bd;++Ub)Gf[Ub]=(1==Ub%2?Ib:bc)*Za[Ub]}Za=Gf}switch(Za[0]){case "l":y+=Za[1];G+=Za[2];U.lineTo(y+Ta,G+w);break;case "L":y=
Za[1];G=Za[2];U.lineTo(y+Ta,G+w);break;case "h":y+=Za[1];U.lineTo(y+Ta,G+w);break;case "H":y=Za[1];U.lineTo(y+Ta,G+w);break;case "v":G+=Za[1];U.lineTo(y+Ta,G+w);break;case "V":G=Za[1];U.lineTo(y+Ta,G+w);break;case "m":y+=Za[1];G+=Za[2];D=y;da=G;U.moveTo(y+Ta,G+w);break;case "M":y=Za[1];G=Za[2];D=y;da=G;U.moveTo(y+Ta,G+w);break;case "c":Ib=y+Za[5];bc=G+Za[6];ja=y+Za[3];n=G+Za[4];U.bezierCurveTo(y+Za[1]+Ta,G+Za[2]+w,ja+Ta,n+w,Ib+Ta,bc+w);y=Ib;G=bc;break;case "C":y=Za[5];G=Za[6];ja=Za[3];n=Za[4];U.bezierCurveTo(Za[1]+
Ta,Za[2]+w,ja+Ta,n+w,y+Ta,G+w);break;case "s":Ib=y+Za[3];bc=G+Za[4];ja=2*y-ja;n=2*G-n;U.bezierCurveTo(ja+Ta,n+w,y+Za[1]+Ta,G+Za[2]+w,Ib+Ta,bc+w);ja=y+Za[1];n=G+Za[2];y=Ib;G=bc;break;case "S":Ib=Za[3];bc=Za[4];ja=2*y-ja;n=2*G-n;U.bezierCurveTo(ja+Ta,n+w,Za[1]+Ta,Za[2]+w,Ib+Ta,bc+w);y=Ib;G=bc;ja=Za[1];n=Za[2];break;case "q":Ib=y+Za[3];bc=G+Za[4];ja=y+Za[1];n=G+Za[2];U.quadraticCurveTo(ja+Ta,n+w,Ib+Ta,bc+w);y=Ib;G=bc;break;case "Q":Ib=Za[3];bc=Za[4];U.quadraticCurveTo(Za[1]+Ta,Za[2]+w,Ib+Ta,bc+w);y=
Ib;G=bc;ja=Za[1];n=Za[2];break;case "t":Ib=y+Za[1];bc=G+Za[2];null===xa[0].match(/[QqTt]/)?(ja=y,n=G):"t"===xa[0]?(ja=2*y-Xc,n=2*G-Rd):"q"===xa[0]&&(ja=2*y-ja,n=2*G-n);var Xc=ja;var Rd=n;U.quadraticCurveTo(ja+Ta,n+w,Ib+Ta,bc+w);y=Ib;G=bc;ja=y+Za[1];n=G+Za[2];break;case "T":Ib=Za[1];bc=Za[2];ja=2*y-ja;n=2*G-n;U.quadraticCurveTo(ja+Ta,n+w,Ib+Ta,bc+w);y=Ib;G=bc;break;case "a":u(U,y+Ta,G+w,[Za[1],Za[2],Za[3],Za[4],Za[5],Za[6]+y+Ta,Za[7]+G+w]);y+=Za[6];G+=Za[7];break;case "A":u(U,y+Ta,G+w,[Za[1],Za[2],
Za[3],Za[4],Za[5],Za[6]+Ta,Za[7]+w]);y=Za[6];G=Za[7];break;case "z":case "Z":y=D,G=da,U.closePath()}xa=Za}}function u(U,ya,Ta,w){ya=aa(w[5],w[6],w[0],w[1],w[3],w[4],w[2],ya,Ta);for(Ta=0;Ta<ya.length;++Ta){a:{var T=ya[Ta];w=Jf.call(T);if(Pf[w]){w=Pf[w];break a}var ka=T[0],xa=T[1],y=T[2],G=T[3],ja=T[4],n=T[5],D=T[6],da=T[7];T=da*ja;const Va=-D*n;ja*=D;n*=da;var oa=Math.cos(y);const Za=Math.sin(y);D=Math.cos(G);da=Math.sin(G);y=.5*(G-y);G=Math.sin(.5*y);G=8/3*G*G/Math.sin(y);y=ka+oa-G*Za;oa=xa+Za+G*
oa;ka+=D;xa+=da;da=ka+G*da;D=xa-G*D;w=Pf[w]=[T*y+Va*oa,ja*y+n*oa,T*da+Va*D,ja*da+n*D,T*ka+Va*xa,ja*ka+n*xa]}U.bezierCurveTo(w[0],w[1],w[2],w[3],w[4],w[5])}}function I(U){return l.hasOwnProperty(Bg,U)?Bg[U]:va(U)}function va(U){if(!l.hasOwnProperty(rg,U)){const ya=F(U);rg[U]={draw:function(Ta,w){O(Ta,ya,0,0,Math.sqrt(w)/2)}}}return rg[U]}function La(U){return U.x}function Xa(U){return U.y}function ab(U){return U.width}function Z(U){return U.height}function Ca(U){return"function"===typeof U?U:()=>+U}
function Ya(U,ya,Ta){return Math.max(ya,Math.min(U,Ta))}function Kb(){function U(n,D,da){var oa;D=null!=D?D:+ya.call(this,n);da=null!=da?da:+Ta.call(this,n);var Va=+w.call(this,n),Za=+T.call(this,n),Ib=Math.min(Va,Za)/2,bc=Ya(+ka.call(this,n),0,Ib),Ub=Ya(+xa.call(this,n),0,Ib),Bd=Ya(+y.call(this,n),0,Ib);n=Ya(+G.call(this,n),0,Ib);ja||(ja=oa=pc());0>=bc&&0>=Ub&&0>=Bd&&0>=n?ja.rect(D,da,Va,Za):(Va=D+Va,Za=da+Za,ja.moveTo(D+bc,da),ja.lineTo(Va-Ub,da),ja.bezierCurveTo(Va-.448084975506*Ub,da,Va,da+.448084975506*
Ub,Va,da+Ub),ja.lineTo(Va,Za-n),ja.bezierCurveTo(Va,Za-.448084975506*n,Va-.448084975506*n,Za,Va-n,Za),ja.lineTo(D+Bd,Za),ja.bezierCurveTo(D+.448084975506*Bd,Za,D,Za-.448084975506*Bd,D,Za-Bd),ja.lineTo(D,da+bc),ja.bezierCurveTo(D,da+.448084975506*bc,D+.448084975506*bc,da,D+bc,da),ja.closePath());if(oa)return ja=null,oa+""||null}var ya=La,Ta=Xa,w=ab,T=Z,ka=Ca(0),xa=ka,y=ka,G=ka,ja=null;U.x=function(n){return arguments.length?(ya=Ca(n),U):ya};U.y=function(n){return arguments.length?(Ta=Ca(n),U):Ta};
U.width=function(n){return arguments.length?(w=Ca(n),U):w};U.height=function(n){return arguments.length?(T=Ca(n),U):T};U.cornerRadius=function(n,D,da,oa){return arguments.length?(ka=Ca(n),xa=null!=D?Ca(D):ka,G=null!=da?Ca(da):ka,y=null!=oa?Ca(oa):xa,U):ka};U.context=function(n){return arguments.length?(ja=null==n?null:n,U):ja};return U}function xc(){function U(n){var D,da=n.length,oa,Va=!1,Za;null==ka&&(ka=Za=pc());for(D=0;D<=da;++D)if(!(D<da&&T(oa=n[D],D,n))===Va&&(Va=!Va)&&(xa=0),Va){var Ib=+ya(oa,
D,n),bc=+Ta(oa,D,n);const Ce=+w(oa,D,n)/2;if(xa){var Ub=G-bc,Bd=Ib-y;if(Ub||Bd){var Xc=Math.sqrt(Ub*Ub+Bd*Bd),Rd=(Ub/=Xc)*ja;Xc=(Bd/=Xc)*ja;var se=Math.atan2(Bd,Ub);ka.moveTo(y-Rd,G-Xc);ka.lineTo(Ib-Ub*Ce,bc-Bd*Ce);ka.arc(Ib,bc,Ce,se-Math.PI,se);ka.lineTo(y+Rd,G+Xc);ka.arc(y,G,ja,se,se+Math.PI)}else ka.arc(Ib,bc,Ce,0,jf);ka.closePath()}else xa=1;y=Ib;G=bc;ja=Ce}if(Za)return ka=null,Za+""||null}var ya,Ta,w,T,ka=null,xa,y,G,ja;U.x=function(n){return arguments.length?(ya=n,U):ya};U.y=function(n){return arguments.length?
(Ta=n,U):Ta};U.size=function(n){return arguments.length?(w=n,U):w};U.defined=function(n){return arguments.length?(T=n,U):T};U.context=function(n){return arguments.length?(ka=null==n?null:n,U):ka};return U}function rc(U,ya){return null!=U?U:ya}function yc(U){return U.cornerRadius||U.cornerRadiusTopLeft||U.cornerRadiusTopRight||U.cornerRadiusBottomRight||U.cornerRadiusBottomLeft}function dd(U,ya,Ta,w){return sa.context(U)(ya,Ta,w)}function $b(U,ya,Ta){var w=ya.clip;U=U._defs;ya=ya.clip_id||(ya.clip_id=
"clip"+id++);U=U.clipping[ya]||(U.clipping[ya]={id:ya});l.isFunction(w)?U.path=w(null):yc(Ta)?U.path=dd(null,Ta,0,0):(U.width=Ta.width||0,U.height=Ta.height||0);return"url(#"+ya+")"}function Rc(U){this.clear();U&&this.union(U)}function Pd(U){this.mark=U;this.bounds=this.bounds||new Rc}function Pa(U){Pd.call(this,U);this.items=this.items||[]}function Wb(U){this._pending=0;this._loader=U||hb.loader()}function sb(U,ya,Ta){if(ya.stroke&&0!==ya.opacity&&0!==ya.strokeOpacity){const w=null!=ya.strokeWidth?
+ya.strokeWidth:1;U.expand(w+(Ta?ya.strokeJoin&&"miter"!==ya.strokeJoin?0:w:0))}return U}function Tb(U,ya){ne=U;ya?(Ff=ya*Vd,Ne=Wf=Math.cos(Ff),eg=Math.sin(Ff),Sf=-eg):(Ne=Wf=1,Ff=eg=Sf=0);return Ie}function ic(U,ya,Ta,w){Ta=(U-ya)/(U+Ta-2*ya);0<Ta&&1>Ta&&w(U+(ya-U)*Ta)}function dc(U,ya,Ta,w,T){const ka=w-U+3*ya-3*Ta,xa=U+Ta-2*ya;var y=U-ya;let G=0,ja=0;1E-14<Math.abs(ka)?(y=xa*xa+y*ka,0<=y&&(y=Math.sqrt(y),G=(-xa+y)/ka,ja=(-xa-y)/ka)):G=.5*y/xa;0<G&&1>G&&T(Ic(G,U,ya,Ta,w));0<ja&&1>ja&&T(Ic(ja,U,
ya,Ta,w))}function Ic(U,ya,Ta,w,T){const ka=1-U,xa=ka*ka,y=U*U;return xa*ka*ya+3*xa*U*Ta+3*ka*y*w+y*U*T}function Ac(U){return function(ya,Ta){if(!ye)return!0;U(ye,ya);Kf.clear().union(ya.bounds).intersect(Ta).round();const {x1:w,y1:T,x2:ka,y2:xa}=Kf;for(ya=T;ya<=xa;++ya)for(Ta=w;Ta<=ka;++Ta)if(ye.isPointInPath(Ta,ya))return!0;return!1}}function Zc(U,ya){return ya.contains(U.x||0,U.y||0)}function Nd(U,ya){const Ta=U.x||0,w=U.y||0;return ya.intersects(Kf.set(Ta,w,Ta+(U.width||0),w+(U.height||0)))}function ud(U,
ya){const Ta=U.x||0,w=U.y||0;return Ha(ya,Ta,w,null!=U.x2?U.x2:Ta,null!=U.y2?U.y2:w)}function Ha(U,ya,Ta,w,T){const {x1:ka,y1:xa,x2:y,y2:G}=U;U=w-ya;T-=Ta;w=0;let ja=1,n,D,da,oa;for(oa=0;4>oa;++oa){0===oa&&(n=-U,D=-(ka-ya));1===oa&&(n=U,D=y-ya);2===oa&&(n=-T,D=-(xa-Ta));3===oa&&(n=T,D=G-Ta);if(1E-10>Math.abs(n)&&0>D)return!1;da=D/n;if(0>n){if(da>ja)return!1;da>w&&(w=da)}else if(0<n){if(da<w)return!1;da<ja&&(ja=da)}}return!0}function gb(U,ya){U.globalCompositeOperation=ya.blend||"source-over"}function wb(U,
ya){return null==U?ya:U}function ua(U,ya){const Ta=ya.length;for(let w=0;w<Ta;++w)U.addColorStop(ya[w].offset,ya[w].color);return U}function H(U,ya,Ta){const w=Ta.width(),T=Ta.height();if("radial"===ya.gradient)U=U.createRadialGradient(Ta.x1+wb(ya.x1,.5)*w,Ta.y1+wb(ya.y1,.5)*T,Math.max(w,T)*wb(ya.r1,0),Ta.x1+wb(ya.x2,.5)*w,Ta.y1+wb(ya.y2,.5)*T,Math.max(w,T)*wb(ya.r2,.5));else{const ka=wb(ya.x1,0),xa=wb(ya.y1,0),y=wb(ya.x2,1),G=wb(ya.y2,0);if(ka===y||xa===G||w===T)U=U.createLinearGradient(Ta.x1+ka*
w,Ta.y1+xa*T,Ta.x1+y*w,Ta.y1+G*T);else{Ta=R.canvas(Math.ceil(w),Math.ceil(T));const ja=Ta.getContext("2d");ja.scale(w,T);ja.fillStyle=ua(ja.createLinearGradient(ka,xa,y,G),ya.stops);ja.fillRect(0,0,w,T);return U.createPattern(Ta,"no-repeat")}}return ua(U,ya.stops)}function za(U,ya,Ta){Ta*=null==ya.fillOpacity?1:ya.fillOpacity;return 0<Ta?(U.globalAlpha=Ta,ya=(Ta=ya.fill)&&Ta.gradient?H(U,Ta,ya.bounds):Ta,U.fillStyle=ya,!0):!1}function Qa(U,ya,Ta){var w=null!=(w=ya.strokeWidth)?w:1;if(0>=w)return!1;
Ta*=null==ya.strokeOpacity?1:ya.strokeOpacity;return 0<Ta?(U.globalAlpha=Ta,Ta=(Ta=ya.stroke)&&Ta.gradient?H(U,Ta,ya.bounds):Ta,U.strokeStyle=Ta,U.lineWidth=w,U.lineCap=ya.strokeCap||"butt",U.lineJoin=ya.strokeJoin||"miter",U.miterLimit=ya.strokeMiterLimit||10,U.setLineDash&&(U.setLineDash(ya.strokeDash||wf),U.lineDashOffset=ya.strokeDashOffset||0),!0):!1}function $a(U,ya){return U.zindex-ya.zindex||U.index-ya.index}function lb(U){if(!U.zdirty)return U.zitems;var ya=U.items,Ta=[],w;var T=0;for(w=
ya.length;T<w;++T){var ka=ya[T];ka.index=T;ka.zindex&&Ta.push(ka)}U.zdirty=!1;return U.zitems=Ta.sort($a)}function Gb(U,ya){var Ta=U.items,w;if(Ta&&Ta.length){var T=lb(U);if(T&&T.length){U=0;for(w=Ta.length;U<w;++U)Ta[U].zindex||ya(Ta[U]);Ta=T}U=0;for(w=Ta.length;U<w;++U)ya(Ta[U])}}function oc(U,ya){var Ta=U.items,w,T;if(!Ta||!Ta.length)return null;const ka=lb(U);ka&&ka.length&&(Ta=ka);for(T=Ta.length;0<=--T;)if(w=ya(Ta[T]))return w;if(Ta===ka)for(Ta=U.items,T=Ta.length;0<=--T;)if(!Ta[T].zindex&&
(w=ya(Ta[T])))return w;return null}function ec(U){return function(ya,Ta,w){Gb(Ta,T=>{w&&!w.intersects(T.bounds)||Sc(U,ya,T,T)})}}function kc(U){return function(ya,Ta,w){!Ta.items.length||w&&!w.intersects(Ta.bounds)||Sc(U,ya,Ta.items[0],Ta.items)}}function Sc(U,ya,Ta,w){var T=null==Ta.opacity?1:Ta.opacity;0===T||U(ya,w)||(gb(ya,Ta),Ta.fill&&za(ya,Ta,T)&&ya.fill(),Ta.stroke&&Qa(ya,Ta,T)&&ya.stroke())}function ed(U){U=U||l.truthy;return function(ya,Ta,w,T,ka,xa){w*=ya.pixelRatio;T*=ya.pixelRatio;return oc(Ta,
y=>{const G=y.bounds;if((!G||G.contains(ka,xa))&&G&&U(ya,y,w,T,ka,xa))return y})}}function fd(U,ya){return function(Ta,w,T,ka){var xa=Array.isArray(w)?w[0]:w,y=null==ya?xa.fill:ya,G=xa.stroke&&Ta.isPointInStroke;if(G){var ja=xa.strokeWidth;xa=xa.strokeCap;Ta.lineWidth=null!=ja?ja:1;Ta.lineCap=null!=xa?xa:"butt"}return U(Ta,w)?!1:y&&Ta.isPointInPath(T,ka)||G&&Ta.isPointInStroke(T,ka)}}function Qd(U,ya){return"translate("+U+","+ya+")"}function Td(U,ya,Ta){function w(T,ka){var xa=ka.x||0,y=ka.y||0,G=
ka.angle||0;T.translate(xa,y);G&&T.rotate(G*=Vd);T.beginPath();ya(T,ka);G&&T.rotate(-G);T.translate(-xa,-y)}return{type:U,tag:"path",nested:!1,attr:function(T,ka){var xa=Qd(ka.x||0,ka.y||0)+(ka.angle?" rotate("+(ka.angle+")"):"");T("transform",xa);T("d",ya(null,ka))},bound:function(T,ka){ya(Tb(T,ka.angle),ka);return sb(T,ka).translate(ka.x||0,ka.y||0)},draw:ec(w),pick:ed(fd(w)),isect:Ta||Ac(w)}}function Ed(U,ya,Ta){function w(ka,xa){ka.beginPath();ya(ka,xa)}const T=fd(w);return{type:U,tag:"path",
nested:!0,attr:function(ka,xa){xa=xa.mark.items;xa.length&&ka("d",ya(null,xa))},bound:function(ka,xa){xa=xa.items;if(0===xa.length)return ka;ya(Tb(ka),xa);return sb(ka,xa[0])},draw:kc(w),pick:function(ka,xa,y,G,ja,n){var D=xa.items;xa=xa.bounds;if(!D||!D.length||xa&&!xa.contains(ja,n))return null;y*=ka.pixelRatio;G*=ka.pixelRatio;return T(ka,D,y,G)?D[0]:null},isect:Zc,tip:Ta}}function Yd(U,ya){U.beginPath();yc(ya)?dd(U,ya,0,0):U.rect(0,0,ya.width||0,ya.height||0);U.clip()}function ae(U){const ya=
wb(U.strokeWidth,1);return null!=U.strokeOffset?U.strokeOffset:U.stroke&&.5<ya&&1.5>ya?.5-Math.abs(ya-1):0}function Ud(U,ya,Ta,w){const T=ae(ya);U.beginPath();dd(U,ya,(Ta||0)+T,(w||0)+T)}function Ye(U,ya){var Ta=U.image;if(!Ta||U.url&&U.url!==Ta.url)Ta={complete:!1,width:0,height:0},ya.loadImage(U.url).then(w=>{U.image=w;U.image.url=U.url});return Ta}function Wd(U,ya){return null!=U.width?U.width:ya&&ya.width?!1!==U.aspect&&U.height?U.height*ya.width/ya.height:ya.width:0}function P(U,ya){return null!=
U.height?U.height:ya&&ya.height?!1!==U.aspect&&U.width?U.width*ya.height/ya.width:ya.height:0}function na(U,ya){return"center"===U?ya/2:"right"===U?ya:0}function Aa(U,ya){return"middle"===U?ya/2:"bottom"===U?ya:0}function fb(U,ya){var Ta=ya.path;if(null==Ta)return!0;var w=ya.x||0,T=ya.y||0,ka=ya.scaleX||1,xa=ya.scaleY||1,y=(ya.angle||0)*Vd,G=ya.pathCache;G&&G.path===Ta||((ya.pathCache=G=F(Ta)).path=Ta);y&&U.rotate&&U.translate?(U.translate(w,T),U.rotate(y),O(U,G,0,0,ka,xa),U.rotate(-y),U.translate(-w,
-T)):O(U,G,w,T,ka,xa)}function Jb(U,ya){U.beginPath();dd(U,ya)}function Zb(U,ya,Ta){if(ya.stroke&&Qa(U,ya,Ta)){Ta=ya.x||0;var w=ya.y||0;var T=null!=ya.x2?ya.x2:Ta;ya=null!=ya.y2?ya.y2:w;U.beginPath();U.moveTo(Ta,w);U.lineTo(T,ya);return!0}return!1}function Cc(U){Bh.width=U&&ye?Hc:mc}function mc(U,ya){ya=Fd(U,ya);U=Nc(U);return~~(.8*ya.length*U)}function Hc(U,ya){return 0>=Nc(U)||!(ya=Fd(U,ya))?0:jd(ya,qe(U))}function jd(U,ya){const Ta=`(${ya}) ${U}`;let w=sh.get(Ta);void 0===w&&(ye.font=ya,w=ye.measureText(U).width,
sh.set(Ta,w));return w}function Nc(U){return null!=U.fontSize?+U.fontSize||0:11}function vd(U){return null!=U.lineHeight?U.lineHeight:Nc(U)+2}function Gd(U){U=U.lineBreak&&U.text&&!l.isArray(U.text)?U.text.split(U.lineBreak):U.text;return l.isArray(U)?1<U.length?U:U[0]:U}function Fd(U,ya){ya=null==ya?"":(ya+"").trim();if(0<U.limit&&ya.length){var Ta=+U.limit,w=Xd(U);if(!(w(ya)<Ta)){var T=U.ellipsis||"",ka="rtl"===U.dir;U=0;var xa=ya.length;Ta-=w(T);if(ka){for(;U<xa;)ka=U+xa>>>1,w(ya.slice(ka))>Ta?
U=ka+1:xa=ka;ya=T+ya.slice(U)}else{for(;U<xa;)ka=1+(U+xa>>>1),w(ya.slice(0,ka))<Ta?U=ka:xa=ka-1;ya=ya.slice(0,U)+T}}}return ya}function Xd(U){if(Bh.width===Hc){const Ta=qe(U);return w=>jd(w,Ta)}const ya=Nc(U);return Ta=>~~(.8*Ta.length*ya)}function Od(U,ya){U=U.font;return(ya&&U?String(U).replace(/"/g,"'"):U)||"sans-serif"}function qe(U,ya){return(U.fontStyle?U.fontStyle+" ":"")+(U.fontVariant?U.fontVariant+" ":"")+(U.fontWeight?U.fontWeight+" ":"")+Nc(U)+"px "+Od(U,ya)}function De(U){var ya=U.baseline,
Ta=Nc(U);return Math.round("top"===ya?.79*Ta:"middle"===ya?.3*Ta:"bottom"===ya?-.21*Ta:"line-top"===ya?.29*Ta+.5*vd(U):"line-bottom"===ya?.29*Ta-.5*vd(U):0)}function gf(U){var ya=U.x||0,Ta=U.y||0,w=U.radius||0;w&&(U=(U.theta||0)-hf,ya+=w*Math.cos(U),Ta+=w*Math.sin(U));dh.x1=ya;dh.y1=Ta;return dh}function df(U,ya,Ta){var w=Bh.height(ya),T=ya.align,ka=gf(ya),xa=ka.x1;ka=ka.y1;var y=ya.dx||0,G=(ya.dy||0)+De(ya)-Math.round(.8*w),ja=Gd(ya);l.isArray(ja)?(w+=vd(ya)*(ja.length-1),ja=ja.reduce((n,D)=>Math.max(n,
Bh.width(ya,D)),0)):ja=Bh.width(ya,ja);"center"===T?y-=ja/2:"right"===T&&(y-=ja);U.set(y+=xa,G+=ka,y+ja,G+w);if(ya.angle&&!Ta)U.rotate(ya.angle*Vd,xa,ka);else if(2===Ta)return U.rotatedPoints(ya.angle*Vd,xa,ka);return U}function ef(U,ya,Ta){var w=Fg[U.mark.marktype];ya=ya||w.bound;w.nested&&(U=U.mark);return ya(U.bounds||(U.bounds=new Rc),U,Ta)}function pe(U,ya,Ta){var w=Fg[U.marktype],T=w.bound,ka=U.items,xa=ka&&ka.length;if(w.nested)return xa?U=ka[0]:(Mh.mark=U,U=Mh),Ta=ef(U,T,Ta),ya=ya&&ya.union(Ta)||
Ta;ya=ya||U.bounds&&U.bounds.clear()||new Rc;if(xa)for(w=0,xa=ka.length;w<xa;++w)ya.union(ef(ka[w],T,Ta));return U.bounds=ya}function nf(U,ya){return JSON.stringify(U,Xh,ya)}function W(U){U="string"===typeof U?JSON.parse(U):U;return wa(U)}function wa(U){var ya=U.marktype,Ta=U.items,w;if(Ta){var T=0;for(w=Ta.length;T<w;++T){var ka=ya?"mark":"group";Ta[T][ka]=U;Ta[T].zindex&&(Ta[T][ka].zdirty=!0);"group"===(ya||ka)&&wa(Ta[T])}}ya&&pe(U);return U}function db(U){arguments.length?this.root=W(U):(this.root=
yb({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Pa(this.root)])}function yb(U,ya){ya={bounds:new Rc,clip:!!U.clip,group:ya,interactive:!1===U.interactive?!1:!0,items:[],marktype:U.marktype,name:U.name||void 0,role:U.role||void 0,zindex:U.zindex||0};null!=U.aria&&(ya.aria=U.aria);U.description&&(ya.description=U.description);return ya}function hc(U,ya,Ta){!U&&"undefined"!==typeof document&&document.createElement&&(U=document);return U?Ta?U.createElementNS(Ta,ya):U.createElement(ya):
null}function Ec(U,ya){ya=ya.toLowerCase();U=U.childNodes;for(var Ta=0,w=U.length;Ta<w;++Ta)if(U[Ta].tagName.toLowerCase()===ya)return U[Ta]}function ac(U,ya,Ta,w){ya=U.childNodes[ya];if(!ya||ya.tagName.toLowerCase()!==Ta.toLowerCase()){var T=ya||null;ya=hc(U.ownerDocument,Ta,w);U.insertBefore(ya,T)}return ya}function L(U,ya){for(var Ta=U.childNodes,w=Ta.length;w>ya;)U.removeChild(Ta[--w]);return U}function fa(U){return"mark-"+U.marktype+(U.role?" role-"+U.role:"")+(U.name?" "+U.name:"")}function Sa(U,
ya){const Ta=ya.getBoundingClientRect();return[U.clientX-Ta.left-(ya.clientLeft||0),U.clientY-Ta.top-(ya.clientTop||0)]}function cc(U,ya){this._active=null;this._handlers={};this._loader=U||hb.loader();this._tooltip=ya||Jc}function Jc(U,ya,Ta,w){U.element().setAttribute("title",w||"")}function Bc(U){this._bgcolor=this._el=null;this._loader=new Wb(U)}function $c(U,ya){cc.call(this,U,ya);this._touch=this._down=null;this._first=!0;this._events={}}function pd(U,ya){("touchstart"===ya||"touchmove"===ya||
"touchend"===ya?["touchstart","touchmove","touchend"]:[ya]).forEach(Ta=>ee(U,Ta))}function ee(U,ya){const Ta=U.canvas();Ta&&!U._events[ya]&&(U._events[ya]=1,Ta.addEventListener(ya,U[ya]?w=>U[ya](w):w=>U.fire(ya,w)))}function Ra(U,ya,Ta){return function(w){const T=this._active,ka=this.pickEvent(w);ka!==T&&(T&&T.exit||this.fire(Ta,w),this._active=ka,this.fire(ya,w));this.fire(U,w)}}function eb(U){return function(ya){this.fire(U,ya);this._active=null}}function qc(U){Bc.call(this,U);this._options={};
this._redraw=!1;this._dirty=new Rc;this._tempb=new Rc}function wd(U,ya){cc.call(this,U,ya);const Ta=this;Ta._hrefHandler=kh(Ta,(w,T)=>{T&&T.href&&Ta.handleHref(w,T,T.href)});Ta._tooltipHandler=kh(Ta,(w,T)=>{Ta.handleTooltip(w,T,"mouseout"!==w.type)})}function Mc(U,ya){var Ta=!1===ya.aria;U("aria-hidden",Ta||void 0);if(Ta||null==ya.description)for(const w in Dh)U(Dh[w],void 0);else Ta=ya.mark.marktype,U("aria-label",ya.description),U("role",ya.ariaRole||("group"===Ta?"graphics-object":"graphics-symbol")),
U("aria-roledescription",ya.ariaRoleDescription||`${Ta} mark`)}function Uc(U){return!1===U.aria?{["aria-hidden"]:!0}:Gg[U.role]?null:Nh[U.role]?td(U,Nh[U.role]):Qc(U)}function Qc(U){const ya=U.marktype,Ta="group"===ya||"text"===ya||U.items.some(w=>null!=w.description&&!1!==w.aria);return Ch(Ta?"graphics-object":"graphics-symbol",`${ya} mark container`,U.description)}function td(U,ya){try{const Ta=U.items[0],w=ya.caption||(()=>"");return Ch(ya.role||"graphics-symbol",ya.desc,Ta.description||w(Ta))}catch(Ta){return null}}
function kd(U){try{return l.array(l.peek(U.items).items[0].text).join(" ")}catch(ya){return null}}function Ld(U){U=U.map(ya=>ya+("fill"===ya||"stroke"===ya?" color":""));return 2>U.length?U[0]:U.slice(0,-1).join(", ")+" and "+l.peek(U)}function Cd(){let U="",ya="",Ta="";const w=[],T=(xa,y)=>{null!=y&&(ya+=` ${xa}="${Hg(y).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return ka},ka={open(xa,...y){ya&&(U+=`${ya}>${Ta}`,ya=Ta="");w.push(xa);
ya="\x3c"+xa;for(const G of y)for(const ja in G)T(ja,G[ja]);return ka},close(){const xa=w.pop();U=ya?U+(ya+(Ta?`>${Ta}</${xa}>`:"/\x3e")):U+`</${xa}>`;ya=Ta="";return ka},attr:T,text:xa=>(Ta+=Hg(xa),ka),toString:()=>U};return ka}function be(U,ya){U.open(ya.tagName);if(ya.hasAttributes()){const Ta=ya.attributes,w=Ta.length;for(let T=0;T<w;++T)U.attr(Ta[T].name,Ta[T].value)}if(ya.hasChildNodes()){ya=ya.childNodes;for(const Ta of ya)3===Ta.nodeType?U.text(Ta.nodeValue):be(U,Ta)}return U.close()}function ve(U){Bc.call(this,
U);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function Me(U,ya){for(;U&&U.dirty!==ya;U=U.mark.group)if(U.dirty=ya,U.mark&&U.mark.dirty!==ya)U.mark.dirty=ya;else break}function $e(U,ya,Ta){ya=ya.lastChild.previousSibling;let w,T=0;Gb(Ta,ka=>{w=U.mark(ya,ka,w);++T});L(ya,1+T)}function sf(U,ya,Ta,w,T){let ka=U._svg;if(!ka){var xa=ya.ownerDocument;ka=hc(xa,w,Xf);U._svg=ka;U.mark&&(ka.__data__=U,ka.__values__={fill:"default"},"g"===w&&(w=hc(xa,"path",Xf),ka.appendChild(w),w.__data__=
U,w=hc(xa,"g",Xf),ka.appendChild(w),w.__data__=U,xa=hc(xa,"path",Xf),ka.appendChild(xa),xa.__data__=U,xa.__values__={fill:"default"}))}(ka.ownerSVGElement!==T||ka.parentNode&&1<ka.parentNode.childNodes.length&&ka.previousSibling!=Ta)&&ya.insertBefore(ka,Ta?Ta.nextSibling:ya.firstChild);return ka}function nd(U,ya,Ta){if(ya!==qf[U]){if(Ta){var w=$g;null!=ya?w.setAttributeNS(Ta,U,ya):w.removeAttributeNS(Ta,U)}else Gc($g,U,ya);qf[U]=ya}}function Fc(U,ya,Ta){Ta!==qf[ya]&&(null==Ta?U.style.removeProperty(ya):
U.style.setProperty(ya,Ta+""),qf[ya]=Ta)}function bd(U,ya){for(const Ta in ya)Gc(U,Ta,ya[Ta])}function Gc(U,ya,Ta){null!=Ta?U.setAttribute(ya,Ta):U.removeAttribute(ya)}function Jd(){let U;return"undefined"===typeof window?"":(U=window.location).hash?U.href.slice(0,-U.hash.length):U.href}function Zd(U){Bc.call(this,U);this._text=null;this._defs={gradient:{},clipping:{}}}function $d(U,ya,Ta,w,T){let ka;if(null==ya)return U;"bgrect"===w&&!1===Ta.interactive&&(U["pointer-events"]="none");if("bgfore"===
w&&(!1===Ta.interactive&&(U["pointer-events"]="none"),U.display="none",null!==ya.fill))return U;"image"===w&&!1===ya.smooth&&(ka=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]);"text"===w&&(U["font-family"]=Od(ya),U["font-size"]=Nc(ya)+"px",U["font-style"]=ya.fontStyle,U["font-variant"]=ya.fontVariant,U["font-weight"]=ya.fontWeight);for(const xa in Yh)Ta=ya[xa],w=Yh[xa],("transparent"!==Ta||"fill"!==w&&"stroke"!==w)&&null!=Ta&&(Ta&&Ta.gradient&&(Ta=Yb(Ta,T.gradient,"")),U[w]=Ta);
for(const xa in eh)T=ya[xa],null!=T&&(ka=ka||[],ka.push(`${eh[xa]}: ${T};`));ka&&(U.style=ka.join(" "));return U}function ke(U,ya,Ta,w){if(U.bounds&&ya.intersects(U.bounds)&&("group"===U.marktype||!1!==U.interactive&&(!Ta||Ta(U)))){const ka=U.items;var T=U.marktype;U=ka.length;let xa=0;if("group"===T)for(;xa<U;++xa)Q(ka[xa],ya,Ta,w);else for(Ta=Fg[T].isect;xa<U;++xa)T=ka[xa],ea(T,ya,Ta)&&w.push(T)}return w}function Q(U,ya,Ta,w){Ta&&Ta(U.mark)&&ea(U,ya,Fg.group.isect)&&w.push(U);const T=U.items,ka=
T&&T.length;if(ka){const xa=U.x||0;U=U.y||0;ya.translate(-xa,-U);for(let y=0;y<ka;++y)ke(T[y],ya,Ta,w);ya.translate(xa,U)}return w}function ea(U,ya,Ta){const w=U.bounds;return ya.encloses(w)||ya.intersects(w)&&Ta(U,ya)}function J(U,ya,Ta){return U===ya?!0:"path"===Ta?la(U,ya):U instanceof Date&&ya instanceof Date?+U===+ya:l.isNumber(U)&&l.isNumber(ya)?1E-9>=Math.abs(U-ya):U&&ya&&(l.isObject(U)||l.isObject(ya))?ma(U,ya):U==ya}function la(U,ya){return J(F(U),F(ya))}function ma(U,ya){var Ta=Object.keys(U),
w=Object.keys(ya),T;if(Ta.length!==w.length)return!1;Ta.sort();w.sort();for(T=Ta.length-1;0<=T;T--)if(Ta[T]!=w[T])return!1;for(T=Ta.length-1;0<=T;T--)if(w=Ta[T],!J(U[w],ya[w],w))return!1;return typeof U===typeof ya}let Ja=0;const ib=Math.PI,gc=2*ib,tc=gc-1E-6;zc.prototype=pc.prototype={constructor:zc,moveTo:function(U,ya){this._+="M"+(this._x0=this._x1=+U)+","+(this._y0=this._y1=+ya)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(U,ya){this._+=
"L"+(this._x1=+U)+","+(this._y1=+ya)},quadraticCurveTo:function(U,ya,Ta,w){this._+="Q"+ +U+","+ +ya+","+(this._x1=+Ta)+","+(this._y1=+w)},bezierCurveTo:function(U,ya,Ta,w,T,ka){this._+="C"+ +U+","+ +ya+","+ +Ta+","+ +w+","+(this._x1=+T)+","+(this._y1=+ka)},arcTo:function(U,ya,Ta,w,T){U=+U;ya=+ya;Ta=+Ta;w=+w;T=+T;var ka=this._x1,xa=this._y1,y=Ta-U,G=w-ya,ja=ka-U,n=xa-ya,D=ja*ja+n*n;if(0>T)throw Error("negative radius: "+T);if(null===this._x1)this._+="M"+(this._x1=U)+","+(this._y1=ya);else if(1E-6<
D)if(1E-6<Math.abs(n*y-G*ja)&&T){Ta-=ka;w-=xa;var da=y*y+G*G;xa=Math.sqrt(da);ka=Math.sqrt(D);D=T*Math.tan((ib-Math.acos((da+D-(Ta*Ta+w*w))/(2*xa*ka)))/2);ka=D/ka;D/=xa;1E-6<Math.abs(ka-1)&&(this._+="L"+(U+ka*ja)+","+(ya+ka*n));this._+="A"+T+","+T+",0,0,"+ +(n*Ta>ja*w)+","+(this._x1=U+D*y)+","+(this._y1=ya+D*G)}else this._+="L"+(this._x1=U)+","+(this._y1=ya)},arc:function(U,ya,Ta,w,T,ka){U=+U;ya=+ya;Ta=+Ta;ka=!!ka;var xa=Ta*Math.cos(w),y=Ta*Math.sin(w),G=U+xa,ja=ya+y,n=1^ka;w=ka?w-T:T-w;if(0>Ta)throw Error("negative radius: "+
Ta);if(null===this._x1)this._+="M"+G+","+ja;else if(1E-6<Math.abs(this._x1-G)||1E-6<Math.abs(this._y1-ja))this._+="L"+G+","+ja;Ta&&(0>w&&(w=w%gc+gc),w>tc?this._+="A"+Ta+","+Ta+",0,1,"+n+","+(U-xa)+","+(ya-y)+"A"+Ta+","+Ta+",0,1,"+n+","+(this._x1=G)+","+(this._y1=ja):1E-6<w&&(this._+="A"+Ta+","+Ta+",0,"+ +(w>=ib)+","+n+","+(this._x1=U+Ta*Math.cos(T))+","+(this._y1=ya+Ta*Math.sin(T))))},rect:function(U,ya,Ta,w){this._+="M"+(this._x0=this._x1=+U)+","+(this._y0=this._y1=+ya)+"h"+ +Ta+"v"+ +w+"h"+-Ta+
"Z"},toString:function(){return this._}};const vc=Math.abs,Xb=Math.atan2,Dc=Math.cos,yd=Math.max,Yc=Math.min,hd=Math.sin,Ad=Math.sqrt,Hd=Math.PI,Pc=Hd/2,Ee=2*Hd;Wa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(U,ya){U=+U;ya=+ya;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(U,
ya):this._context.moveTo(U,ya);break;case 1:this._point=2;default:this._context.lineTo(U,ya)}}};var Ge={draw(U,ya){ya=Ad(ya/Hd);U.moveTo(ya,0);U.arc(0,0,ya,0,Ee)}};vb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:Ma(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();
this._line=1-this._line},point:function(U,ya){U=+U;ya=+ya;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(U,ya):this._context.moveTo(U,ya);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ma(this,U,ya)}this._x0=this._x1;this._x1=U;this._y0=this._y1;this._y1=ya}};qb.prototype={areaStart:mb,areaEnd:mb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=
this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(U,ya){U=+U;ya=+ya;switch(this._point){case 0:this._point=
1;this._x2=U;this._y2=ya;break;case 1:this._point=2;this._x3=U;this._y3=ya;break;case 2:this._point=3;this._x4=U;this._y4=ya;this._context.moveTo((this._x0+4*this._x1+U)/6,(this._y0+4*this._y1+ya)/6);break;default:Ma(this,U,ya)}this._x0=this._x1;this._x1=U;this._y0=this._y1;this._y1=ya}};Ob.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===
this._point)&&this._context.closePath();this._line=1-this._line},point:function(U,ya){U=+U;ya=+ya;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var Ta=(this._x0+4*this._x1+U)/6,w=(this._y0+4*this._y1+ya)/6;this._line?this._context.lineTo(Ta,w):this._context.moveTo(Ta,w);break;case 3:this._point=4;default:Ma(this,U,ya)}this._x0=this._x1;this._x1=U;this._y0=this._y1;this._y1=ya}};Vb.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},
lineEnd:function(){var U=this._x,ya=this._y,Ta=U.length-1;if(0<Ta)for(var w=U[0],T=ya[0],ka=U[Ta]-w,xa=ya[Ta]-T,y=-1,G;++y<=Ta;)G=y/Ta,this._basis.point(this._beta*U[y]+(1-this._beta)*(w+G*ka),this._beta*ya[y]+(1-this._beta)*(T+G*xa));this._x=this._y=null;this._basis.lineEnd()},point:function(U,ya){this._x.push(+U);this._y.push(+ya)}};var Ae=function Ta(ya){function w(T){return 1===ya?new vb(T):new Vb(T,ya)}w.beta=function(T){return Ta(+T)};return w}(.85);ra.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ob(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(ya,Ta){ya=+ya;Ta=+Ta;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(ya,Ta):this._context.moveTo(ya,Ta);break;
case 1:this._point=2;this._x1=ya;this._y1=Ta;break;case 2:this._point=3;default:ob(this,ya,Ta)}this._x0=this._x1;this._x1=this._x2;this._x2=ya;this._y0=this._y1;this._y1=this._y2;this._y2=Ta}};var Be=function w(Ta){function T(ka){return new ra(ka,Ta)}T.tension=function(ka){return w(+ka)};return T}(0);Y.prototype={areaStart:mb,areaEnd:mb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,
this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Ta,w){Ta=+Ta;w=+w;switch(this._point){case 0:this._point=1;this._x3=Ta;this._y3=w;break;case 1:this._point=2;this._context.moveTo(this._x4=Ta,this._y4=w);break;case 2:this._point=3;this._x5=Ta;this._y5=w;break;default:ob(this,Ta,w)}this._x0=this._x1;this._x1=this._x2;
this._x2=Ta;this._y0=this._y1;this._y1=this._y2;this._y2=w}};var Id=function T(w){function ka(xa){return new Y(xa,w)}ka.tension=function(xa){return T(+xa)};return ka}(0);Ea.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(w,T){w=+w;T=+T;switch(this._point){case 0:this._point=
1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ob(this,w,T)}this._x0=this._x1;this._x1=this._x2;this._x2=w;this._y0=this._y1;this._y1=this._y2;this._y2=T}};var he=function ka(T){function xa(y){return new Ea(y,T)}xa.tension=function(y){return ka(+y)};return xa}(0);cb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=
this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(T,ka){T=+T;ka=+ka;if(this._point){var xa=this._x2-T,y=this._y2-ka;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(xa*xa+y*y,
this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(T,ka):this._context.moveTo(T,ka);break;case 1:this._point=2;break;case 2:this._point=3;default:Ga(this,T,ka)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=T;this._y0=this._y1;this._y1=this._y2;this._y2=ka}};var xe=function xa(ka){function y(G){return ka?new cb(G,ka):new ra(G,0)}y.alpha=function(G){return xa(+G)};return y}(.5);
ca.prototype={areaStart:mb,areaEnd:mb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,
this._y4),this.point(this._x5,this._y5)}},point:function(ka,xa){ka=+ka;xa=+xa;if(this._point){var y=this._x2-ka,G=this._y2-xa;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(y*y+G*G,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=ka;this._y3=xa;break;case 1:this._point=2;this._context.moveTo(this._x4=ka,this._y4=xa);break;case 2:this._point=3;this._x5=ka;this._y5=xa;break;default:Ga(this,ka,xa)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;
this._x0=this._x1;this._x1=this._x2;this._x2=ka;this._y0=this._y1;this._y1=this._y2;this._y2=xa}};var Le=function y(xa){function G(ja){return xa?new ca(ja,xa):new Y(ja,0)}G.alpha=function(ja){return y(+ja)};return G}(.5);pa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||
0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(xa,y){xa=+xa;y=+y;if(this._point){var G=this._x2-xa,ja=this._y2-y;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(G*G+ja*ja,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ga(this,xa,y)}this._l01_a=this._l12_a;this._l12_a=
this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=xa;this._y0=this._y1;this._y1=this._y2;this._y2=y}};var of=function G(y){function ja(n){return y?new pa(n,y):new Ea(n,0)}ja.alpha=function(n){return G(+n)};return ja}(.5);x.prototype={areaStart:mb,areaEnd:mb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(y,G){y=+y;G=+G;this._point?this._context.lineTo(y,G):(this._point=1,this._context.moveTo(y,
G))}};z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:g(this,this._t0,S(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(y,G){var ja=NaN;y=+y;G=+G;if(y!==this._x1||G!==this._y1){switch(this._point){case 0:this._point=
1;this._line?this._context.lineTo(y,G):this._context.moveTo(y,G);break;case 1:this._point=2;break;case 2:this._point=3;g(this,S(this,ja=N(this,y,G)),ja);break;default:g(this,this._t0,ja=N(this,y,G))}this._x0=this._x1;this._x1=y;this._y0=this._y1;this._y1=G;this._t0=ja}}};(m.prototype=Object.create(z.prototype)).point=function(y,G){z.prototype.point.call(this,G,y)};E.prototype={moveTo:function(y,G){this._context.moveTo(G,y)},closePath:function(){this._context.closePath()},lineTo:function(y,G){this._context.lineTo(G,
y)},bezierCurveTo:function(y,G,ja,n,D,da){this._context.bezierCurveTo(G,y,n,ja,da,D)}};h.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var y=this._x,G=this._y,ja=y.length;if(ja)if(this._line?this._context.lineTo(y[0],G[0]):this._context.moveTo(y[0],G[0]),2===ja)this._context.lineTo(y[1],G[1]);else for(var n=p(y),D=p(G),da=0,oa=1;oa<ja;++da,++oa)this._context.bezierCurveTo(n[0][da],D[0][da],n[1][da],D[1][da],
y[oa],G[oa]);(this._line||0!==this._line&&1===ja)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(y,G){this._x.push(+y);this._y.push(+G)}};r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&
(this._t=1-this._t,this._line=1-this._line)},point:function(y,G){y=+y;G=+G;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(y,G):this._context.moveTo(y,G);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,G),this._context.lineTo(y,G);else{var ja=this._x*(1-this._t)+y*this._t;this._context.lineTo(ja,this._y);this._context.lineTo(ja,G)}}this._x=y;this._y=G}};const We={basis:{curve:function(y){return new vb(y)}},"basis-closed":{curve:function(y){return new qb(y)}},
"basis-open":{curve:function(y){return new Ob(y)}},bundle:{curve:Ae,tension:"beta",value:.85},cardinal:{curve:Be,tension:"tension",value:0},"cardinal-open":{curve:he,tension:"tension",value:0},"cardinal-closed":{curve:Id,tension:"tension",value:0},"catmull-rom":{curve:xe,tension:"alpha",value:.5},"catmull-rom-closed":{curve:Le,tension:"alpha",value:.5},"catmull-rom-open":{curve:of,tension:"alpha",value:.5},linear:{curve:pb},"linear-closed":{curve:function(y){return new x(y)}},monotone:{horizontal:function(y){return new m(y)},
vertical:function(y){return new z(y)}},natural:{curve:function(y){return new h(y)}},step:{curve:function(y){return new r(y,.5)}},"step-after":{curve:function(y){return new r(y,1)}},"step-before":{curve:function(y){return new r(y,0)}}},we={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},vf=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,Of=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,af=/^((\s+,?\s*)|(,\s*))/,ag=/^[01]/,Vd=Math.PI/180,hf=Math.PI/2,jf=2*Math.PI,Qe=Math.sqrt(3)/2;var Cf={},Pf={},Jf=
[].join;const Gf=["l",0,0,0,0,0,0,0],Bg={circle:{draw:function(y,G){G=Math.sqrt(G)/2;y.moveTo(G,0);y.arc(0,0,G,0,jf)}},cross:{draw:function(y,G){G=Math.sqrt(G)/2;var ja=G/2.5;y.moveTo(-G,-ja);y.lineTo(-G,ja);y.lineTo(-ja,ja);y.lineTo(-ja,G);y.lineTo(ja,G);y.lineTo(ja,ja);y.lineTo(G,ja);y.lineTo(G,-ja);y.lineTo(ja,-ja);y.lineTo(ja,-G);y.lineTo(-ja,-G);y.lineTo(-ja,-ja);y.closePath()}},diamond:{draw:function(y,G){G=Math.sqrt(G)/2;y.moveTo(-G,0);y.lineTo(0,-G);y.lineTo(G,0);y.lineTo(0,G);y.closePath()}},
square:{draw:function(y,G){G=Math.sqrt(G);var ja=-G/2;y.rect(ja,ja,G,G)}},arrow:{draw:function(y,G){G=Math.sqrt(G)/2;var ja=G/7,n=G/2.5,D=G/8;y.moveTo(-ja,G);y.lineTo(ja,G);y.lineTo(ja,-D);y.lineTo(n,-D);y.lineTo(0,-G);y.lineTo(-n,-D);y.lineTo(-ja,-D);y.closePath()}},wedge:{draw:function(y,G){var ja=Math.sqrt(G)/2;G=Qe*ja;var n=G-.5773502691896257*ja;ja/=4;y.moveTo(0,-G-n);y.lineTo(-ja,G-n);y.lineTo(ja,G-n);y.closePath()}},triangle:{draw:function(y,G){G=Math.sqrt(G)/2;var ja=Qe*G,n=ja-.5773502691896257*
G;y.moveTo(0,-ja-n);y.lineTo(-G,ja-n);y.lineTo(G,ja-n);y.closePath()}},"triangle-up":{draw:function(y,G){G=Math.sqrt(G)/2;var ja=Qe*G;y.moveTo(0,-ja);y.lineTo(-G,ja);y.lineTo(G,ja);y.closePath()}},"triangle-down":{draw:function(y,G){G=Math.sqrt(G)/2;var ja=Qe*G;y.moveTo(0,ja);y.lineTo(-G,-ja);y.lineTo(G,-ja);y.closePath()}},"triangle-right":{draw:function(y,G){G=Math.sqrt(G)/2;var ja=Qe*G;y.moveTo(ja,0);y.lineTo(-ja,-G);y.lineTo(-ja,G);y.closePath()}},"triangle-left":{draw:function(y,G){G=Math.sqrt(G)/
2;var ja=Qe*G;y.moveTo(-ja,0);y.lineTo(ja,-G);y.lineTo(ja,G);y.closePath()}},stroke:{draw:function(y,G){G=Math.sqrt(G)/2;y.moveTo(-G,0);y.lineTo(G,0)}}};var rg={};const Af=y=>y.x||0,Hf=y=>y.y||0,dg=y=>!1!==y.defined,Ug=function(){function y(){var Ib,bc=+G.apply(this,arguments),Ub=+ja.apply(this,arguments),Bd=da.apply(this,arguments)-Pc,Xc=oa.apply(this,arguments)-Pc,Rd=vc(Xc-Bd),se=Xc>Bd;Za||(Za=Ib=pc());if(Ub<bc){var Ce=Ub;Ub=bc;bc=Ce}if(1E-12<Ub)if(Rd>Ee-1E-12)Za.moveTo(Ub*Dc(Bd),Ub*hd(Bd)),Za.arc(0,
0,Ub,Bd,Xc,!se),1E-12<bc&&(Za.moveTo(bc*Dc(Xc),bc*hd(Xc)),Za.arc(0,0,bc,Xc,Bd,se));else{var te=Bd,Se=Xc;Ce=Bd;var xf=Xc,Tf=Rd,ff=Rd,bf=Va.apply(this,arguments)/2,cg=1E-12<bf&&(D?+D.apply(this,arguments):Ad(bc*bc+Ub*Ub)),vh=Yc(vc(Ub-bc)/2,+n.apply(this,arguments)),lg=vh,Mf=vh;if(1E-12<cg){var mf=jc(cg/bc*hd(bf));bf=jc(cg/Ub*hd(bf));1E-12<(Tf-=2*mf)?(mf*=se?1:-1,Ce+=mf,xf-=mf):(Tf=0,Ce=xf=(Bd+Xc)/2);1E-12<(ff-=2*bf)?(bf*=se?1:-1,te+=bf,Se-=bf):(ff=0,te=Se=(Bd+Xc)/2)}Bd=Ub*Dc(te);Xc=Ub*hd(te);mf=bc*
Dc(xf);bf=bc*hd(xf);if(1E-12<vh){var Qf=Ub*Dc(Se),If=Ub*hd(Se),Lf=bc*Dc(Ce),ah=bc*hd(Ce);if(Rd=Rd<Hd){var hg=Lf-Bd;Rd=ah-Xc;cg=mf-Qf;var Fh=bf-If,og=Fh*hg-cg*Rd;1E-12>og*og?hg=void 0:(og=(cg*(Xc-If)-Fh*(Bd-Qf))/og,hg=[Bd+og*hg,Xc+og*Rd]);Rd=hg}Rd&&(lg=Bd-hg[0],Mf=Xc-hg[1],Rd=Qf-hg[0],cg=If-hg[1],lg=(lg*Rd+Mf*cg)/(Ad(lg*lg+Mf*Mf)*Ad(Rd*Rd+cg*cg)),Mf=1/hd((1<lg?0:-1>lg?Hd:Math.acos(lg))/2),hg=Ad(hg[0]*hg[0]+hg[1]*hg[1]),lg=Yc(vh,(bc-hg)/(Mf-1)),Mf=Yc(vh,(Ub-hg)/(Mf+1)))}1E-12<ff?1E-12<Mf?(te=Bb(Lf,
ah,Bd,Xc,Ub,Mf,se),Se=Bb(Qf,If,mf,bf,Ub,Mf,se),Za.moveTo(te.cx+te.x01,te.cy+te.y01),Mf<vh?Za.arc(te.cx,te.cy,Mf,Xb(te.y01,te.x01),Xb(Se.y01,Se.x01),!se):(Za.arc(te.cx,te.cy,Mf,Xb(te.y01,te.x01),Xb(te.y11,te.x11),!se),Za.arc(0,0,Ub,Xb(te.cy+te.y11,te.cx+te.x11),Xb(Se.cy+Se.y11,Se.cx+Se.x11),!se),Za.arc(Se.cx,Se.cy,Mf,Xb(Se.y11,Se.x11),Xb(Se.y01,Se.x01),!se))):(Za.moveTo(Bd,Xc),Za.arc(0,0,Ub,te,Se,!se)):Za.moveTo(Bd,Xc);1E-12<bc&&1E-12<Tf?1E-12<lg?(te=Bb(mf,bf,Qf,If,bc,-lg,se),Se=Bb(Bd,Xc,Lf,ah,bc,
-lg,se),Za.lineTo(te.cx+te.x01,te.cy+te.y01),lg<vh?Za.arc(te.cx,te.cy,lg,Xb(te.y01,te.x01),Xb(Se.y01,Se.x01),!se):(Za.arc(te.cx,te.cy,lg,Xb(te.y01,te.x01),Xb(te.y11,te.x11),!se),Za.arc(0,0,bc,Xb(te.cy+te.y11,te.cx+te.x11),Xb(Se.cy+Se.y11,Se.cx+Se.x11),se),Za.arc(Se.cx,Se.cy,lg,Xb(Se.y11,Se.x11),Xb(Se.y01,Se.x01),!se))):Za.arc(0,0,bc,xf,Ce,se):Za.lineTo(mf,bf)}else Za.moveTo(0,0);Za.closePath();if(Ib)return Za=null,Ib+""||null}var G=Sb,ja=Ua,n=Ab(0),D=null,da=rb,oa=Fb,Va=Hb,Za=null;y.centroid=function(){var Ib=
(+G.apply(this,arguments)+ +ja.apply(this,arguments))/2,bc=(+da.apply(this,arguments)+ +oa.apply(this,arguments))/2-Hd/2;return[Dc(bc)*Ib,hd(bc)*Ib]};y.innerRadius=function(Ib){return arguments.length?(G="function"===typeof Ib?Ib:Ab(+Ib),y):G};y.outerRadius=function(Ib){return arguments.length?(ja="function"===typeof Ib?Ib:Ab(+Ib),y):ja};y.cornerRadius=function(Ib){return arguments.length?(n="function"===typeof Ib?Ib:Ab(+Ib),y):n};y.padRadius=function(Ib){return arguments.length?(D=null==Ib?null:
"function"===typeof Ib?Ib:Ab(+Ib),y):D};y.startAngle=function(Ib){return arguments.length?(da="function"===typeof Ib?Ib:Ab(+Ib),y):da};y.endAngle=function(Ib){return arguments.length?(oa="function"===typeof Ib?Ib:Ab(+Ib),y):oa};y.padAngle=function(Ib){return arguments.length?(Va="function"===typeof Ib?Ib:Ab(+Ib),y):Va};y.context=function(Ib){return arguments.length?(Za=null==Ib?null:Ib,y):Za};return y}().startAngle(y=>y.startAngle||0).endAngle(y=>y.endAngle||0).padAngle(y=>y.padAngle||0).innerRadius(y=>
y.innerRadius||0).outerRadius(y=>y.outerRadius||0).cornerRadius(y=>y.cornerRadius||0),Vg=kb().x(Af).y1(Hf).y0(y=>(y.y||0)+(y.height||0)).defined(dg),Dg=kb().y(Hf).x1(Af).x0(y=>(y.x||0)+(y.width||0)).defined(dg),Wg=Ia().x(Af).y(Hf).defined(dg),sa=Kb().x(Af).y(Hf).width(y=>y.width||0).height(y=>y.height||0).cornerRadius(y=>rc(y.cornerRadiusTopLeft,y.cornerRadius)||0,y=>rc(y.cornerRadiusTopRight,y.cornerRadius)||0,y=>rc(y.cornerRadiusBottomRight,y.cornerRadius)||0,y=>rc(y.cornerRadiusBottomLeft,y.cornerRadius)||
0),bb=function(y,G){function ja(){let D;n||(n=D=pc());y.apply(this,arguments).draw(n,+G.apply(this,arguments));if(D)return n=null,D+""||null}let n=null;y="function"===typeof y?y:Ab(y||Ge);G="function"===typeof G?G:Ab(void 0===G?64:+G);ja.type=function(D){return arguments.length?(y="function"===typeof D?D:Ab(D),ja):y};ja.size=function(D){return arguments.length?(G="function"===typeof D?D:Ab(+D),ja):G};ja.context=function(D){return arguments.length?(n=null==D?null:D,ja):n};return ja}().type(y=>I(y.shape||
"circle")).size(y=>rc(y.size,64)),Rb=xc().x(Af).y(Hf).defined(dg).size(y=>y.size||1);var id=1;Rc.prototype={clone(){return new Rc(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(y){return this.x1===y.x1&&this.y1===y.y1&&this.x2===y.x2&&this.y2===y.y2},set(y,G,ja,n){ja<y?(this.x2=
y,this.x1=ja):(this.x1=y,this.x2=ja);n<G?(this.y2=G,this.y1=n):(this.y1=G,this.y2=n);return this},add(y,G){y<this.x1&&(this.x1=y);G<this.y1&&(this.y1=G);y>this.x2&&(this.x2=y);G>this.y2&&(this.y2=G);return this},expand(y){this.x1-=y;this.y1-=y;this.x2+=y;this.y2+=y;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(y){this.x1*=y;this.y1*=y;this.x2*=y;this.y2*=y;return this},translate(y,G){this.x1+=y;
this.x2+=y;this.y1+=G;this.y2+=G;return this},rotate(y,G,ja){y=this.rotatedPoints(y,G,ja);return this.clear().add(y[0],y[1]).add(y[2],y[3]).add(y[4],y[5]).add(y[6],y[7])},rotatedPoints(y,G,ja){var {x1:n,y1:D,x2:da,y2:oa}=this,Va=Math.cos(y);y=Math.sin(y);var Za=G-G*Va+ja*y;G=ja-G*y-ja*Va;return[Va*n-y*D+Za,y*n+Va*D+G,Va*n-y*oa+Za,y*n+Va*oa+G,Va*da-y*D+Za,y*da+Va*D+G,Va*da-y*oa+Za,y*da+Va*oa+G]},union(y){y.x1<this.x1&&(this.x1=y.x1);y.y1<this.y1&&(this.y1=y.y1);y.x2>this.x2&&(this.x2=y.x2);y.y2>this.y2&&
(this.y2=y.y2);return this},intersect(y){y.x1>this.x1&&(this.x1=y.x1);y.y1>this.y1&&(this.y1=y.y1);y.x2<this.x2&&(this.x2=y.x2);y.y2<this.y2&&(this.y2=y.y2);return this},encloses(y){return y&&this.x1<=y.x1&&this.x2>=y.x2&&this.y1<=y.y1&&this.y2>=y.y2},alignsWith(y){return y&&(this.x1==y.x1||this.x2==y.x2||this.y1==y.y1||this.y2==y.y2)},intersects(y){return y&&!(this.x2<y.x1||this.x1>y.x2||this.y2<y.y1||this.y1>y.y2)},contains(y,G){return!(y<this.x1||y>this.x2||G<this.y1||G>this.y2)},width(){return this.x2-
this.x1},height(){return this.y2-this.y1}};l.inherits(Pa,Pd);Wb.prototype={pending(){return this._pending},sanitizeURL(y){const G=this;G._pending+=1;return G._loader.sanitize(y,{context:"href"}).then(ja=>{--G._pending;return ja}).catch(()=>{--G._pending;return null})},loadImage(y){const G=this,ja=R.image();G._pending+=1;return G._loader.sanitize(y,{context:"image"}).then(n=>{const D=n.href;if(!D||!ja)throw{url:D};const da=new ja;n=l.hasOwnProperty(n,"crossOrigin")?n.crossOrigin:"anonymous";null!=
n&&(da.crossOrigin=n);da.onload=()=>{--G._pending};da.onerror=()=>{--G._pending};da.src=D;return da}).catch(n=>{--G._pending;return{complete:!1,width:0,height:0,src:n&&n.url||""}})},ready(){const y=this;return new Promise(G=>{function ja(n){y.pending()?setTimeout(()=>{ja(!0)},10):G(n)}ja(!1)})}};const od=jf-1E-8;let ne,Re,pf,Ff,Ne,eg,Sf,Wf;const kg=(y,G)=>{y=Re=y;G=pf=G;return ne.add(y,G)},pg=y=>ne.add(y,ne.y1),Lg=y=>ne.add(ne.x1,y),fh=(y,G)=>ne.add(Ne*y+Sf*G,eg*y+Wf*G),ph=(y,G)=>kg(Ne*y+Sf*G,eg*
y+Wf*G),Ie={beginPath(){},closePath(){},moveTo:ph,lineTo:ph,rect(y,G,ja,n){Ff?(fh(y+ja,G),fh(y+ja,G+n),fh(y,G+n),ph(y,G)):(ne.add(y+ja,G+n),kg(y,G))},quadraticCurveTo(y,G,ja,n){const D=eg*y+Wf*G,da=Ne*ja+Sf*n;ja=eg*ja+Wf*n;ic(Re,Ne*y+Sf*G,da,pg);ic(pf,D,ja,Lg);kg(da,ja)},bezierCurveTo(y,G,ja,n,D,da){const oa=eg*y+Wf*G,Va=eg*ja+Wf*n,Za=Ne*D+Sf*da;D=eg*D+Wf*da;dc(Re,Ne*y+Sf*G,Ne*ja+Sf*n,Za,pg);dc(pf,oa,Va,D,Lg);kg(Za,D)},arc(y,G,ja,n,D,da){n+=Ff;D+=Ff;Re=ja*Math.cos(D)+y;pf=ja*Math.sin(D)+G;if(Math.abs(D-
n)>od)ne.add(y-ja,G-ja),ne.add(y+ja,G+ja);else{const oa=Za=>ne.add(ja*Math.cos(Za)+y,ja*Math.sin(Za)+G);let Va;oa(n);oa(D);if(D!==n)if(n%=jf,0>n&&(n+=jf),D%=jf,0>D&&(D+=jf),D<n&&(da=!da,Va=n,n=D,D=Va),da)for(D-=jf,Va=n-n%hf,n=0;4>n&&Va>D;++n,Va-=hf)oa(Va);else for(Va=n-n%hf+hf,n=0;4>n&&Va<D;++n,Va+=hf)oa(Va)}}};var ye=(ye=R.canvas(1,1))?ye.getContext("2d"):null;const Kf=new Rc;var wf=[],Bf=Td("arc",function(y,G){return Ug.context(y)(G)}),tf=Ed("area",function(y,G){const ja=G[0];return("horizontal"===
ja.orient?Dg:Vg).curve(v(ja.interpolate||"linear",ja.orient,ja.tension)).context(y)(G)},function(y,G){G="horizontal"===y[0].orient?G[1]:G[0];for(var ja="horizontal"===y[0].orient?"y":"x",n=y.length,D=Infinity,da,oa;0<=--n;)!1!==y[n].defined&&(oa=Math.abs(y[n][ja]-G),oa<D&&(D=oa,da=y[n]));return da});const fg=fd(Ud),Eg=fd(Ud,!1),sg=fd(Ud,!0);var Df={type:"group",tag:"g",nested:!1,attr:function(y,G){y("transform",Qd(G.x||0,G.y||0))},bound:function(y,G){if(!G.clip&&G.items){const ja=G.items,n=ja.length;
for(let D=0;D<n;++D)y.union(ja[D].bounds)}(G.clip||G.width||G.height)&&!G.noBound&&y.add(0,0).add(G.width||0,G.height||0);sb(y,G);return y.translate(G.x||0,G.y||0)},draw:function(y,G,ja){Gb(G,n=>{const D=n.x||0,da=n.y||0,oa=n.strokeForeground,Va=null==n.opacity?1:n.opacity;(n.stroke||n.fill)&&Va&&(Ud(y,n,D,da),gb(y,n),n.fill&&za(y,n,Va)&&y.fill(),n.stroke&&!oa&&Qa(y,n,Va)&&y.stroke());y.save();y.translate(D,da);n.clip&&Yd(y,n);ja&&ja.translate(-D,-da);Gb(n,Za=>{this.draw(y,Za,ja)});ja&&ja.translate(D,
da);y.restore();oa&&n.stroke&&Va&&(Ud(y,n,D,da),gb(y,n),Qa(y,n,Va)&&y.stroke())})},pick:function(y,G,ja,n,D,da){if(G.bounds&&!G.bounds.contains(D,da)||!G.items)return null;const oa=ja*y.pixelRatio,Va=n*y.pixelRatio;return oc(G,Za=>{let Ib,bc;var Ub=Za.bounds;if(!Ub||Ub.contains(D,da)){Ib=Za.x||0;bc=Za.y||0;Ub=Ib+(Za.width||0);var Bd=bc+(Za.height||0),Xc=Za.clip;if(!Xc||!(D<Ib||D>Ub||da<bc||da>Bd)){y.save();y.translate(Ib,bc);Ib=D-Ib;bc=da-bc;if(Xc&&yc(Za)&&!sg(y,Za,oa,Va))return y.restore(),null;
Bd=Za.strokeForeground;if((Xc=!1!==G.interactive)&&Bd&&Za.stroke&&Eg(y,Za,oa,Va))return y.restore(),Za;Ub=oc(Za,Rd=>(!1!==Rd.interactive||"group"===Rd.marktype)&&Rd.bounds&&Rd.bounds.contains(Ib,bc)?this.pick(Rd,ja,n,Ib,bc):null);!Ub&&Xc&&(Za.fill||!Bd&&Za.stroke)&&fg(y,Za,oa,Va)&&(Ub=Za);y.restore();return Ub||null}}})},isect:Nd,content:function(y,G,ja){G=G.clip?$b(ja,G,G):null;y("clip-path",G)},background:function(y,G){y("class","background");y("aria-hidden",!0);const ja=ae(G);y("d",dd(null,G,ja,
ja))},foreground:function(y,G){y("class","foreground");y("aria-hidden",!0);if(G.strokeForeground){const ja=ae(G);y("d",dd(null,G,ja,ja))}else y("d","")}},Qg={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},Mg={type:"image",tag:"image",nested:!1,attr:function(y,G,ja){var n=Ye(G,ja);ja=Wd(G,n);const D=P(G,n),da=(G.x||0)-na(G.align,ja),oa=(G.y||0)-Aa(G.baseline,D);n=!n.src&&n.toDataURL?n.toDataURL():n.src||"";y("href",n,Qg["xmlns:xlink"],"xlink:href");y("transform",
Qd(da,oa));y("width",ja);y("height",D);y("preserveAspectRatio",!1===G.aspect?"none":"xMidYMid")},bound:function(y,G){var ja=G.image;const n=Wd(G,ja);ja=P(G,ja);const D=(G.x||0)-na(G.align,n);G=(G.y||0)-Aa(G.baseline,ja);return y.set(D,G,D+n,G+ja)},draw:function(y,G,ja){Gb(G,n=>{if(!ja||ja.intersects(n.bounds)){var D=Ye(n,this),da=Wd(n,D),oa=P(n,D);if(0!==da&&0!==oa){var Va=(n.x||0)-na(n.align,da),Za=(n.y||0)-Aa(n.baseline,oa),Ib;if(!1!==n.aspect){var bc=D.width/D.height;var Ub=n.width/n.height;bc===
bc&&Ub===Ub&&bc!==Ub&&(Ub<bc?(bc=da/bc,Za+=(oa-bc)/2,oa=bc):(bc*=oa,Va+=(da-bc)/2,da=bc))}if(D.complete||D.toDataURL)gb(y,n),y.globalAlpha=null!=(Ib=n.opacity)?Ib:1,y.imageSmoothingEnabled=!1!==n.smooth,y.drawImage(D,Va,Za,da,oa)}}})},pick:ed(),isect:l.truthy,get:Ye,xOffset:na,yOffset:Aa},qh=Ed("line",function(y,G){const ja=G[0];return Wg.curve(v(ja.interpolate||"linear",ja.orient,ja.tension)).context(y)(G)},function(y,G){for(var ja=Math.pow(y[0].strokeWidth||1,2),n=y.length,D,da;0<=--n;)if(!1!==
y[n].defined&&(D=y[n].x-G[0],da=y[n].y-G[1],D=D*D+da*da,D<ja))return y[n];return null}),xg={type:"path",tag:"path",nested:!1,attr:function(y,G){var ja=G.scaleY||1;1===(G.scaleX||1)&&1===ja||y("vector-effect","non-scaling-stroke");ja=Qd(G.x||0,G.y||0)+(G.angle?" rotate("+(G.angle+")"):"")+(G.scaleX||G.scaleY?" scale("+((G.scaleX||1)+","+(G.scaleY||1)+")"):"");y("transform",ja);y("d",G.path)},bound:function(y,G){return fb(Tb(y,G.angle),G)?y.set(0,0,0,0):sb(y,G,!0)},draw:ec(fb),pick:ed(fd(fb)),isect:Ac(fb)},
Wh={type:"rect",tag:"path",nested:!1,attr:function(y,G){y("d",dd(null,G))},bound:function(y,G){var ja,n;return sb(y.set(ja=G.x||0,n=G.y||0,ja+G.width||0,n+G.height||0),G)},draw:ec(Jb),pick:ed(fd(Jb)),isect:Nd},rh={type:"rule",tag:"line",nested:!1,attr:function(y,G){y("transform",Qd(G.x||0,G.y||0));y("x2",null!=G.x2?G.x2-(G.x||0):0);y("y2",null!=G.y2?G.y2-(G.y||0):0)},bound:function(y,G){var ja,n;return sb(y.set(ja=G.x||0,n=G.y||0,null!=G.x2?G.x2:ja,null!=G.y2?G.y2:n),G)},draw:function(y,G,ja){Gb(G,
n=>{if(!ja||ja.intersects(n.bounds)){var D=null==n.opacity?1:n.opacity;D&&Zb(y,n,D)&&(gb(y,n),y.stroke())}})},pick:ed(function(y,G,ja,n){return y.isPointInStroke?Zb(y,G,1)&&y.isPointInStroke(ja,n):!1}),isect:ud},Hh=Td("shape",function(y,G){return(G.mark.shape||G.shape).context(y)(G)}),Xg=Td("symbol",function(y,G){return bb.context(y)(G)},Zc);const sh=l.lruCache();var Bh={height:Nc,measureWidth:Hc,estimateWidth:mc,width:mc,canvas:Cc};Cc(!0);const ji={left:"start",center:"middle",right:"end"},dh=new Rc;
var th={type:"text",tag:"text",nested:!1,attr:function(y,G){var ja=G.dx||0,n=(G.dy||0)+De(G),D=gf(G),da=D.x1;D=D.y1;var oa=G.angle||0;y("text-anchor",ji[G.align]||"start");if(oa){if(G=Qd(da,D)+" rotate("+(oa+")"),ja||n)G+=" "+Qd(ja,n)}else G=Qd(da+ja,D+n);y("transform",G)},bound:df,draw:function(y,G,ja){Gb(G,n=>{var D=null==n.opacity?1:n.opacity,da;if(!(ja&&!ja.intersects(n.bounds)||0===D||0>=n.fontSize||null==n.text||0===n.text.length)){y.font=qe(n);y.textAlign=n.align||"left";var oa=gf(n);var Va=
oa.x1;oa=oa.y1;n.angle&&(y.save(),y.translate(Va,oa),y.rotate(n.angle*Vd),Va=oa=0);Va+=n.dx||0;oa+=(n.dy||0)+De(n);var Za=Gd(n);gb(y,n);if(l.isArray(Za)){var Ib=vd(n);for(da=0;da<Za.length;++da){var bc=Fd(n,Za[da]);n.fill&&za(y,n,D)&&y.fillText(bc,Va,oa);n.stroke&&Qa(y,n,D)&&y.strokeText(bc,Va,oa);oa+=Ib}}else bc=Fd(n,Za),n.fill&&za(y,n,D)&&y.fillText(bc,Va,oa),n.stroke&&Qa(y,n,D)&&y.strokeText(bc,Va,oa);n.angle&&y.restore()}})},pick:ed(function(y,G,ja,n,D,da){if(0>=G.fontSize)return!1;if(!G.angle)return!0;
ja=gf(G);y=ja.x1;ja=ja.y1;n=df(dh,G,1);var oa=-G.angle*Vd;G=Math.cos(oa);oa=Math.sin(oa);return n.contains(G*D-oa*da+(y-G*y+oa*ja),oa*D+G*da+(ja-oa*y-G*ja))}),isect:function(y,G){y=df(dh,y,2);return Ha(G,y[0],y[1],y[2],y[3])||Ha(G,y[0],y[1],y[4],y[5])||Ha(G,y[4],y[5],y[6],y[7])||Ha(G,y[2],y[3],y[6],y[7])}},yi=Ed("trail",function(y,G){return Rb.context(y)(G)},function(y,G){for(var ja=y.length,n,D;0<=--ja;)if(!1!==y[ja].defined&&(n=y[ja].x-G[0],D=y[ja].y-G[1],D=n*n+D*D,n=y[ja].size||1,D<n*n))return y[ja];
return null}),Fg={arc:Bf,area:tf,group:Df,image:Mg,line:qh,path:xg,rect:Wh,rule:rh,shape:Hh,symbol:Xg,text:th,trail:yi},Mh={mark:null};const Xh="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
db.prototype={toJSON(y){return nf(this.root,y||0)},mark(y,G,ja){G=G||this.root.items[0];y=yb(y,G);G.items[ja]=y;y.zindex&&(y.group.zdirty=!0);return y}};cc.prototype={initialize(y,G,ja){this._el=y;this._obj=ja||null;return this.origin(G)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(y){return arguments.length?(this._origin=y||[0,0],this):this._origin.slice()},scene(y){if(!arguments.length)return this._scene;this._scene=y;return this},on(){},off(){},_handlerIndex(y,
G,ja){for(let n=y?y.length:0;0<=--n;)if(y[n].type===G&&(!ja||y[n].handler===ja))return n;return-1},handlers(y){const G=this._handlers,ja=[];if(y)ja.push(...G[this.eventName(y)]);else for(const n in G)ja.push(...G[n]);return ja},eventName(y){const G=y.indexOf(".");return 0>G?y:y.slice(0,G)},handleHref(y,G,ja){this._loader.sanitize(ja,{context:"href"}).then(n=>{const D=new MouseEvent(y.type,y),da=hc(null,"a");for(const oa in n)da.setAttribute(oa,n[oa]);da.dispatchEvent(D)}).catch(()=>{})},handleTooltip(y,
G,ja){if(G&&null!=G.tooltip){var n=this.canvas(),D=this._origin,da=G&&G.mark,oa;if(da&&(oa=Fg[da.marktype]).tip){n=Sa(y,n);n[0]-=D[0];for(n[1]-=D[1];G=G.mark.group;)n[0]-=G.x||0,n[1]-=G.y||0;G=oa.tip(da.items,n)}this._tooltip.call(this._obj,this,y,G,ja&&G&&G.tooltip||null)}},getItemBoundingClientRect(y){var G=this.canvas();if(G){var ja=G.getBoundingClientRect(),n=this._origin,D=y.bounds;G=D.width();var da=D.height(),oa=D.x1+n[0]+ja.left;for(ja=D.y1+n[1]+ja.top;y.mark&&(y=y.mark.group);)oa+=y.x||0,
ja+=y.y||0;return{x:oa,y:ja,width:G,height:da,left:oa,top:ja,right:oa+G,bottom:ja+da}}}};Bc.prototype={initialize(y,G,ja,n,D){this._el=y;return this.resize(G,ja,n,D)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(y){if(0===arguments.length)return this._bgcolor;this._bgcolor=y;return this},resize(y,G,ja,n){this._width=y;this._height=G;this._origin=ja||[0,0];this._scale=n||1;return this},dirty(){},render(y){const G=this;G._call=function(){G._render(y)};G._call();
G._call=null;return G},_render(){},renderAsync(y){const G=this.render(y);return this._ready?this._ready.then(()=>G):Promise.resolve(G)},_load(y,G){var ja=this;y=ja._loader[y](G);if(!ja._ready){const n=ja._call;ja._ready=ja._loader.ready().then(D=>{D&&n();ja._ready=null})}return y},sanitizeURL(y){return this._load("sanitizeURL",y)},loadImage(y){return this._load("loadImage",y)}};l.inherits($c,cc,{initialize(y,G,ja){this._canvas=y&&Ec(y,"canvas");["click","mousedown","mousemove","mouseout","dragleave"].forEach(n=>
pd(this,n));return cc.prototype.initialize.call(this,y,G,ja)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(y){this.fire("mousewheel",y)},mousemove:Ra("mousemove","mouseover","mouseout"),dragover:Ra("dragover","dragenter","dragleave"),mouseout:eb("mouseout"),dragleave:eb("dragleave"),
mousedown(y){this._down=this._active;this.fire("mousedown",y)},click(y){this._down===this._active&&(this.fire("click",y),this._down=null)},touchstart(y){this._touch=this.pickEvent(y.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",y,!0)},touchmove(y){this.fire("touchmove",y,!0)},touchend(y){this.fire("touchend",y,!0);this._touch=null},fire(y,G,ja){ja=ja?this._touch:this._active;const n=this._handlers[y];G.vegaType=y;"click"===y&&ja&&ja.href?this.handleHref(G,
ja,ja.href):("mousemove"===y||"mouseout"===y)&&this.handleTooltip(G,ja,"mouseout"!==y);if(n)for(let D=0,da=n.length;D<da;++D)n[D].handler.call(this._obj,G,ja)},on(y,G){const ja=this.eventName(y),n=this._handlers;0>this._handlerIndex(n[ja],y,G)&&(pd(this,y),(n[ja]||(n[ja]=[])).push({type:y,handler:G}));return this},off(y,G){var ja=this.eventName(y);ja=this._handlers[ja];y=this._handlerIndex(ja,y,G);0<=y&&ja.splice(y,1);return this},pickEvent(y){y=Sa(y,this._canvas);const G=this._origin;return this.pick(this._scene,
y[0],y[1],y[0]-G[0],y[1]-G[1])},pick(y,G,ja,n,D){const da=this.context();return Fg[y.marktype].pick.call(this,da,y,G,ja,n,D)}});var Rg="undefined"!==typeof window?window.devicePixelRatio||1:1;const gh=Bc.prototype;l.inherits(qc,Bc,{initialize(y,G,ja,n,D,da){this._options=da||{};this._canvas=this._options.externalContext?null:R.canvas(1,1,this._options.type);y&&this._canvas&&(L(y,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks"));return gh.initialize.call(this,y,G,ja,n,D)},resize(y,
G,ja,n){gh.resize.call(this,y,G,ja,n);if(this._canvas){y=this._canvas;G=this._width;ja=this._height;n=this._origin;var D=this._scale,da=this._options.context;const Va="undefined"!==typeof HTMLElement&&y instanceof HTMLElement&&null!=y.parentNode,Za=y.getContext("2d");D=Va?Rg:D;y.width=G*D;y.height=ja*D;for(var oa in da)Za[oa]=da[oa];Va&&1!==D&&(y.style.width=G+"px",y.style.height=ja+"px");Za.pixelRatio=D;Za.setTransform(D,0,0,D,D*n[0],D*n[1])}else(oa=this._options.externalContext)||l.error("CanvasRenderer is missing a valid canvas or context"),
oa.scale(this._scale,this._scale),oa.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(y){const G=this._tempb.clear().union(y.bounds);for(y=y.mark.group;y;)G.translate(y.x||0,y.y||0),y=y.mark.group;this._dirty.union(G)},_render(y){const G=this.context(),ja=this._origin,n=this._width,D=this._height,da=this._dirty;var oa=(new Rc).set(0,0,n,D).translate(-ja[0],
-ja[1]);G.save();this._redraw||da.empty()?oa=(this._redraw=!1,oa.expand(1)):(oa=oa.intersect(da),oa.expand(1).round(),G.pixelRatio%1&&oa.scale(G.pixelRatio).round().scale(1/G.pixelRatio),oa.translate(-(ja[0]%1),-(ja[1]%1)),G.beginPath(),G.rect(oa.x1,oa.y1,oa.width(),oa.height()),G.clip());this.clear(-ja[0],-ja[1],n,D);this.draw(G,y,oa);G.restore();da.clear();return this},draw(y,G,ja){const n=Fg[G.marktype];if(G.clip){var D=G.clip;y.save();l.isFunction(D)?(y.beginPath(),D(y),y.clip()):Yd(y,G.group)}n.draw.call(this,
y,G,ja);G.clip&&y.restore()},clear(y,G,ja,n){const D=this._options,da=this.context();"pdf"===D.type||D.externalContext||da.clearRect(y,G,ja,n);null!=this._bgcolor&&(da.fillStyle=this._bgcolor,da.fillRect(y,G,ja,n))}});const kh=(y,G)=>ja=>{let n=ja.target.__data__;n=Array.isArray(n)?n[0]:n;ja.vegaType=ja.type;G.call(y._obj,ja,n)};l.inherits(wd,cc,{initialize(y,G,ja){let n=this._svg;n&&(n.removeEventListener("click",this._hrefHandler),n.removeEventListener("mousemove",this._tooltipHandler),n.removeEventListener("mouseout",
this._tooltipHandler));if(this._svg=n=y&&Ec(y,"svg"))n.addEventListener("click",this._hrefHandler),n.addEventListener("mousemove",this._tooltipHandler),n.addEventListener("mouseout",this._tooltipHandler);return cc.prototype.initialize.call(this,y,G,ja)},canvas(){return this._svg},on(y,G){const ja=this.eventName(y),n=this._handlers;0>this._handlerIndex(n[ja],y,G)&&(y={type:y,handler:G,listener:kh(this,G)},(n[ja]||(n[ja]=[])).push(y),this._svg&&this._svg.addEventListener(ja,y.listener));return this},
off(y,G){const ja=this.eventName(y),n=this._handlers[ja];y=this._handlerIndex(n,y,G);0<=y&&(this._svg&&this._svg.removeEventListener(ja,n[y].listener),n.splice(y,1));return this}});const Ch=(y,G,ja)=>({role:y,["aria-roledescription"]:G,["aria-label"]:ja||void 0}),Gg=l.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),Nh={axis:{desc:"axis",caption:function(y){var G=y.datum;const ja=y.orient,
n=G.title?kd(y):null;var D=y.context;G=D.scales[G.scale].value;D=D.dataflow.locale();const da=G.type;return`${"left"===ja||"right"===ja?"Y":"X"}-axis`+(n?` titled '${n}'`:"")+` for a ${Cb.isDiscrete(da)?"discrete":da} scale`+` with ${Cb.domainCaption(D,G,y)}`}},legend:{desc:"legend",caption:function(y){var G=y.datum;const ja=G.title?kd(y):null,n=`${G.type||""} legend`.trim();var D=G.scales;G=Object.keys(D);var da=y.context;D=da.scales[D[G[0]]].value;da=da.dataflow.locale();return(n.length?n[0].toUpperCase()+
n.slice(1):n)+(ja?` titled '${ja}'`:"")+` for ${Ld(G)}`+` with ${Cb.domainCaption(da,D,y)}`}},"title-text":{desc:"title",caption:y=>`Title text '${l.array(y.text).join(" ")}'`},"title-subtitle":{desc:"subtitle",caption:y=>`Subtitle text '${l.array(y.text).join(" ")}'`}},Dh={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},Hg=y=>(y+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"),Ng=y=>be(Cd(),y)+"",Yh={fill:"fill",fillOpacity:"fill-opacity",
stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},eh={blend:"mix-blend-mode"},Zg={fill:"none","stroke-miterlimit":10},Xf=Qg.xmlns,Sg=Bc.prototype;l.inherits(ve,Bc,{initialize(y,G,ja,n,D){this._defs={};this._clearDefs();y&&(this._svg=ac(y,0,"svg",Xf),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/",
"xmlns",Xf),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",Qg["xmlns:xlink"]),this._svg.setAttribute("version",Qg.version),this._svg.setAttribute("class","marks"),L(y,1),this._root=ac(this._svg,0,"g",Xf),bd(this._root,Zg),L(this._svg,1));this.background(this._bgcolor);return Sg.initialize.call(this,y,G,ja,n,D)},background(y){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",y);return Sg.background.apply(this,arguments)},resize(y,G,ja,n){Sg.resize.call(this,
y,G,ja,n);this._svg&&(bd(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const y=this._svg,G=this._bgcolor;if(!y)return null;let ja;G&&(y.removeAttribute("style"),ja=ac(y,0,"rect",Xf),bd(ja,{width:this._width,height:this._height,fill:G}));const n=Ng(y);G&&(y.removeChild(ja),this._svg.style.setProperty("background-color",
G));return n},_render(y){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,y),L(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this},dirty(y){y.dirty!==this._dirtyID&&(y.dirty=this._dirtyID,this._dirty.push(y))},isDirty(y){return this._dirtyAll||!y._svg||!y._svg.ownerSVGElement||y.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const y=this._dirty;if(!y.length||!this._dirtyID)return!0;const G=++this._dirtyID;let ja;let n,D,da,oa;da=0;for(oa=y.length;da<
oa;++da){ja=y[da];var Va=ja.mark;Va.marktype!==n&&(n=Va.marktype,D=Fg[n]);Va.zdirty&&Va.dirty!==G&&(this._dirtyAll=!1,Me(ja,G),Va.items.forEach(Za=>{Za.dirty=G}));Va.zdirty||(ja.exit?(D.nested&&Va.items.length?(Va=Va.items[0],Va._svg&&this._update(D,Va._svg,Va)):ja._svg&&(Va=ja._svg.parentNode)&&Va.removeChild(ja._svg),ja._svg=null):(ja=D.nested?Va.items[0]:ja,ja._update!==G&&(ja._svg&&ja._svg.ownerSVGElement?this._update(D,ja._svg,ja):(this._dirtyAll=!1,Me(ja,G)),ja._update=G)))}return!this._dirtyAll},
mark(y,G,ja){if(!this.isDirty(G))return G._svg;const n=this._svg,D=Fg[G.marktype];var da=!1===G.interactive?"none":null;const oa="g"===D.tag,Va=sf(G,y,ja,"g",n);Va.setAttribute("class",fa(G));y=Uc(G);for(const bc in y)Gc(Va,bc,y[bc]);oa||Gc(Va,"pointer-events",da);Gc(Va,"clip-path",G.clip?$b(this,G,G.group):null);let Za=null,Ib=0;da=bc=>{const Ub=this.isDirty(bc),Bd=sf(bc,Va,Za,D.tag,n);Ub&&(this._update(D,Bd,bc),oa&&$e(this,Bd,bc));Za=Bd;++Ib};D.nested?G.items.length&&da(G.items[0]):Gb(G,da);L(Va,
Ib);return Va},_update(y,G,ja){$g=G;qf=G.__values__;Mc(nd,ja);y.attr(nd,ja,this);const n=ei[y.type];n&&n.call(this,y,G,ja);$g&&this.style($g,ja)},style(y,G){if(null!=G){for(const ja in Yh){let n="font"===ja?Od(G):G[ja];if(n===qf[ja])continue;const D=Yh[ja];null==n?y.removeAttribute(D):(n&&n.gradient&&(n=Yb(n,this._defs.gradient,Jd())),y.setAttribute(D,n+""));qf[ja]=n}for(const ja in eh)Fc(y,eh[ja],G[ja])}},defs(){const y=this._svg,G=this._defs;let ja=G.el;var n=0;for(var D in G.gradient){ja||(G.el=
ja=ac(y,1,"defs",Xf));var da=void 0;let Za,Ib;var oa=ja,Va=G.gradient[D];"radial"===Va.gradient?(da=ac(oa,n++,"pattern",Xf),bd(da,{id:"p_"+Va.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),da=ac(da,0,"rect",Xf),bd(da,{width:1,height:1,fill:`url(${Jd()}#${Va.id})`}),oa=ac(oa,n++,"radialGradient",Xf),bd(oa,{id:Va.id,fx:Va.x1,fy:Va.y1,fr:Va.r1,cx:Va.x2,cy:Va.y2,r:Va.r2})):(oa=ac(oa,n++,"linearGradient",Xf),bd(oa,{id:Va.id,x1:Va.x1,x2:Va.x2,y1:Va.y1,y2:Va.y2}));
Ib=0;for(Za=Va.stops.length;Ib<Za;++Ib)da=ac(oa,Ib,"stop",Xf),da.setAttribute("offset",Va.stops[Ib].offset),da.setAttribute("stop-color",Va.stops[Ib].color);L(oa,Ib)}for(const Za in G.clipping)ja||(G.el=ja=ac(y,1,"defs",Xf)),oa=ja,Va=G.clipping[Za],D=n,oa=ac(oa,D,"clipPath",Xf),oa.setAttribute("id",Va.id),Va.path?(n=ac(oa,0,"path",Xf),n.setAttribute("d",Va.path)):(n=ac(oa,0,"rect",Xf),bd(n,{x:0,y:0,width:Va.width,height:Va.height})),L(oa,1),n=D+1;ja&&(0===n?(y.removeChild(ja),G.el=null):L(ja,n))},
_clearDefs(){const y=this._defs;y.gradient={};y.clipping={}}});let $g=null,qf=null;const ei={group(y,G,ja){const n=$g=G.childNodes[2];qf=n.__values__;y.foreground(nd,ja,this);qf=G.__values__;$g=G.childNodes[1];y.content(nd,ja,this);G=$g=G.childNodes[0];y.background(nd,ja,this);y=!1===ja.mark.interactive?"none":null;y!==qf.events&&(Gc(n,"pointer-events",y),Gc(G,"pointer-events",y),qf.events=y);ja.strokeForeground&&ja.stroke?(y=ja.fill,Gc(n,"display",null),this.style(G,ja),Gc(G,"stroke",null),y&&(ja.fill=
null),qf=n.__values__,this.style(n,ja),y&&(ja.fill=y),$g=null):Gc(n,"display","none")},image(y,G,ja){!1===ja.smooth?(Fc(G,"image-rendering","optimizeSpeed"),Fc(G,"image-rendering","pixelated")):Fc(G,"image-rendering",null)},text(y,G,ja){y=Gd(ja);let n,D,da;l.isArray(y)?(n=y.map(oa=>Fd(ja,oa)),y=n.join("\n"),y!==qf.text&&(L(G,0),D=G.ownerDocument,da=vd(ja),n.forEach((oa,Va)=>{const Za=hc(D,"tspan",Xf);Za.__data__=ja;Za.textContent=oa;Va&&(Za.setAttribute("x",0),Za.setAttribute("dy",da));G.appendChild(Za)}),
qf.text=y)):(n=Fd(ja,y),n!==qf.text&&(G.textContent=n,qf.text=n));Gc(G,"font-family",Od(ja));Gc(G,"font-size",Nc(ja)+"px");Gc(G,"font-style",ja.fontStyle);Gc(G,"font-variant",ja.fontVariant);Gc(G,"font-weight",ja.fontWeight)}};l.inherits(Zd,Bc,{svg(){return this._text},_render(y){const G=Cd();G.open("svg",l.extend({},Qg,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const ja=this._bgcolor;ja&&"transparent"!==ja&&"none"!==
ja&&G.open("rect",{width:this._width,height:this._height,fill:ja}).close();G.open("g",Zg,{transform:"translate("+this._origin+")"});this.mark(G,y);G.close();this.defs(G);this._text=G.close()+"";return this},mark(y,G){const ja=Fg[G.marktype],n=ja.tag,D=[Mc,ja.attr];y.open("g",{"class":fa(G),"clip-path":G.clip?$b(this,G,G.group):null},Uc(G),{"pointer-events":"g"!==n&&!1===G.interactive?"none":null});const da=oa=>{const Va=this.href(oa);Va&&y.open("a",Va);y.open(n,this.attr(G,oa,D,"g"!==n?n:null));if("text"===
n){var Za=Gd(oa);if(l.isArray(Za)){var Ib={x:0,dy:vd(oa)};for(var bc=0;bc<Za.length;++bc)y.open("tspan",bc?Ib:null).text(Fd(oa,Za[bc])).close()}else y.text(Fd(oa,Za))}else"g"===n&&(Za=oa.strokeForeground,Ib=oa.fill,bc=oa.stroke,Za&&bc&&(oa.stroke=null),y.open("path",this.attr(G,oa,ja.background,"bgrect")).close(),y.open("g",this.attr(G,oa,ja.content)),Gb(oa,Ub=>this.mark(y,Ub)),y.close(),Za&&bc?(Ib&&(oa.fill=null),oa.stroke=bc,y.open("path",this.attr(G,oa,ja.foreground,"bgrect")).close(),Ib&&(oa.fill=
Ib)):y.open("path",this.attr(G,oa,ja.foreground,"bgfore")).close());y.close();Va&&y.close()};ja.nested?G.items&&G.items.length&&da(G.items[0]):Gb(G,da);return y.close()},href(y){const G=y.href;if(G){if(y=this._hrefs&&this._hrefs[G])return y;this.sanitizeURL(G).then(ja=>{ja["xlink:href"]=ja.href;ja.href=null;(this._hrefs||(this._hrefs={}))[G]=ja})}return null},attr(y,G,ja,n){const D={},da=(oa,Va,Za,Ib)=>{D[Ib||oa]=Va};Array.isArray(ja)?ja.forEach(oa=>oa(da,G,this)):ja(da,G,this);n&&$d(D,G,y,n,this._defs);
return D},defs(y){var G=this._defs.gradient;const ja=this._defs.clipping;if(0!==Object.keys(G).length+Object.keys(ja).length){y.open("defs");for(const D in G){var n=G[D];const da=n.stops;"radial"===n.gradient?(y.open("pattern",{id:"p_"+D,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),y.open("rect",{width:"1",height:"1",fill:"url(#"+D+")"}).close(),y.close(),y.open("radialGradient",{id:D,fx:n.x1,fy:n.y1,fr:n.r1,cx:n.x2,cy:n.y2,r:n.r2})):y.open("linearGradient",
{id:D,x1:n.x1,x2:n.x2,y1:n.y1,y2:n.y2});for(n=0;n<da.length;++n)y.open("stop",{offset:da[n].offset,"stop-color":da[n].color}).close();y.close()}for(const D in ja)G=ja[D],y.open("clipPath",{id:D}),G.path?y.open("path",{d:G.path}).close():y.open("rect",{x:0,y:0,width:G.width,height:G.height}).close(),y.close();y.close()}}});const Og={};Og.canvas=Og.png={renderer:qc,headless:qc,handler:$c};Og.svg={renderer:ve,headless:Zd,handler:wd};Og.none={};const bg=new Rc;t.Bounds=Rc;t.CanvasHandler=$c;t.CanvasRenderer=
qc;t.Gradient=function(y,G){var ja=[],n;return n={gradient:"linear",x1:y?y[0]:0,y1:y?y[1]:0,x2:G?G[0]:1,y2:G?G[1]:0,stops:ja,stop:function(D,da){ja.push({offset:D,color:da});return n}}};t.GroupItem=Pa;t.Handler=cc;t.Item=Pd;t.Marks=Fg;t.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};t.Renderer=Bc;t.ResourceLoader=Wb;t.SVGHandler=wd;t.SVGRenderer=ve;t.SVGStringRenderer=Zd;t.Scenegraph=db;t.boundClip=function(y){const G=y.clip;if(l.isFunction(G))G(Tb(bg.clear()));else if(G)bg.set(0,0,
y.group.width,y.group.height);else return;y.bounds.intersect(bg)};t.boundContext=Tb;t.boundItem=ef;t.boundMark=pe;t.boundStroke=sb;t.domChild=ac;t.domClear=L;t.domCreate=hc;t.domFind=Ec;t.font=qe;t.fontFamily=Od;t.fontSize=Nc;t.intersect=function(y,G,ja){const n=[];G=(new Rc).union(G);const D=y.marktype;return D?ke(y,G,ja,n):"group"===D?Q(y,G,ja,n):l.error("Intersect scene must be mark node or group item.")};t.intersectBoxLine=Ha;t.intersectPath=Ac;t.intersectPoint=Zc;t.intersectRule=ud;t.lineHeight=
vd;t.markup=Cd;t.multiLineOffset=function(y){const G=Gd(y);return(l.isArray(G)?G.length-1:0)*vd(y)};t.path=pc;t.pathCurves=v;t.pathEqual=la;t.pathParse=F;t.pathRectangle=Kb;t.pathRender=O;t.pathSymbols=I;t.pathTrail=xc;t.point=Sa;t.renderModule=function(y,G){y=String(y||"").toLowerCase();return 1<arguments.length?(Og[y]=G,this):Og[y]};t.resetSVGClipId=function(){id=1};t.resetSVGDefIds=function(){id=1;Ja=0};t.sceneEqual=J;t.sceneFromJSON=W;t.scenePickVisit=oc;t.sceneToJSON=nf;t.sceneVisit=Gb;t.sceneZOrder=
lb;t.serializeXML=Ng;t.textMetrics=Bh;Object.defineProperty(t,"__esModule",{value:!0})})};
shadow$provide[47]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(40),Eb(44),Eb(43)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l(t.vega={},t.vega,t.vega,t.vega))})(this,function(t,l,R,hb){function Cb(g){const z=g||l.identity,m=[],E={};m.add=h=>{const p=z(h);E[p]||(E[p]=1,m.push(h));return m};m.remove=h=>{const p=z(h);E[p]&&(E[p]=0,h=m.indexOf(h),
0<=h&&m.splice(h,1));return m};return m}function Yb(g,z){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield z(g)}catch(m){g.error(m)}})}function sc(g){g=g===Object(g)?g:{data:g};if(!g[Y]){var z=Ea++;g[Y]=z}return g}function zc(g,z){for(const m in g)z[m]=g[m];return z}function pc(g){return g&&g.constructor===Ab}function Ab(){const g=[],z=[],m=[],E=[],h=[];let p=null,r=!1;return{constructor:Ab,insert(v){v=l.array(v);const F=v.length;for(let aa=0;aa<F;++aa)g.push(v[aa]);return this},
remove(v){const F=l.isFunction(v)?E:z;v=l.array(v);const aa=v.length;for(let O=0;O<aa;++O)F.push(v[O]);return this},modify(v,F,aa){F={field:F,value:l.constant(aa)};l.isFunction(v)?(F.filter=v,h.push(F)):(F.tuple=v,m.push(F));return this},encode(v,F){l.isFunction(v)?h.push({filter:v,field:F}):m.push({tuple:v,field:F});return this},clean(v){p=v;return this},reflow(){r=!0;return this},pulse(v,F){function aa(Ca,Ya,Kb){Kb?Ca[Ya]=Kb(Ca):v.encode=Ya;r||(u[Ca[Y]]=Ca)}const O={},u={};let I,va,La,Xa,ab,Z;I=
0;for(va=F.length;I<va;++I)O[F[I][Y]]=1;I=0;for(va=z.length;I<va;++I)ab=z[I],O[ab[Y]]=-1;I=0;for(va=E.length;I<va;++I)Xa=E[I],F.forEach(Ca=>{Xa(Ca)&&(O[Ca[Y]]=-1)});I=0;for(va=g.length;I<va;++I)ab=g[I],Z=ab[Y],O[Z]?O[Z]=1:v.add.push(sc(g[I]));I=0;for(va=F.length;I<va;++I)ab=F[I],0>O[ab[Y]]&&v.rem.push(ab);I=0;for(va=m.length;I<va;++I)La=m[I],ab=La.tuple,Xa=La.field,Z=O[ab[Y]],0<Z&&(aa(ab,Xa,La.value),v.modifies(Xa));I=0;for(va=h.length;I<va;++I)La=h[I],Xa=La.filter,F.forEach(Ca=>{Xa(Ca)&&0<O[Ca[Y]]&&
aa(Ca,La.field,La.value)}),v.modifies(La.field);if(r)v.mod=z.length||E.length?F.filter(Ca=>0<O[Ca[Y]]):F.slice();else for(Z in u)v.mod.push(u[Z]);(p||null==p&&(z.length||E.length))&&v.clean(!0);return v}}}function jc(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function Sb(g,z,m,E){this.id=++Ga;this.value=g;this.qrank=this.rank=this.stamp=-1;this.flags=0;z&&(this._update=z);m&&this.parameters(m,E)}function Ua(g){return function(z){const m=this.flags;if(0===arguments.length)return!!(m&
g);this.flags=z?m|g:m&~g;return this}}function rb(g,z,m){this.id=++ca;this.value=null;m&&(this.receive=m);g&&(this._filter=g);z&&(this._apply=z)}function Fb(g,z,m){return new rb(g,z,m)}function Hb(g){let z;const m=new Promise(E=>z=E);m.requests=0;m.done=()=>{0===--m.requests&&(g._pending=null,z(g))};return g._pending=m}function Bb(g,z,m,E,h,p){const r=l.extend({},p,pa);let v;l.isFunction(m)||(m=l.constant(m));void 0===E?h=F=>g.touch(m(F)):l.isFunction(E)?(v=new Sb(null,E,h,!1),h=F=>{v.evaluate(F);
F=m(F);const aa=v.value;pc(aa)?g.pulse(F,aa,p):g.update(F,aa,r)}):h=F=>g.update(m(F),E,r);z.apply(h)}function Lb(g,z,m,E,h,p){void 0===E?z.targets().add(m):(p=p||{},E=new Sb(null,Wa(m,E),h,!1),E.modified(p.force),E.rank=z.rank,z.targets().add(E),m&&(E.skip(!0),E.value=m.value,E.targets().add(m),g.connect(m,[E])))}function Wa(g,z){z=l.isFunction(z)?z:l.constant(z);return g?function(m,E){m=z(m,E);g.skip()||(g.skip(m!==this.value).value=m);return m}:z}function pb(g,z,m){this.dataflow=g;this.stamp=null==
z?-1:z;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=m||null}function Na(g,z){const m=[];l.visitArray(g,z,E=>m.push(E));return m}function Da(g,z){const m={};g.visit(z,E=>{m[E[Y]]=1});return E=>m[E[Y]]?null:E}function Ia(g,z){return g?(m,E)=>g(m,E)&&z(m,E):z}function kb(g,z,m,E){const h=m.length;let p=0;this.dataflow=g;this.stamp=z;this.fields=null;this.encode=E||null;this.pulses=m;for(g=0;g<h;++g)if(E=m[g],E.stamp===z){if(E.fields){const r=this.fields||(this.fields={});for(const v in E.fields)r[v]=
1}E.changed(this.ADD)&&(p|=this.ADD);E.changed(this.REM)&&(p|=this.REM);E.changed(this.MOD)&&(p|=this.MOD)}this.changes=p}function mb(g){g.error("Dataflow already running. Use runAsync() to chain invocations.");return g}function Ma(g,z){if(z&&z.stamp===g.stamp)return z;g=g.fork();z&&z!==x&&(g.source=z.source);return g}function vb(g){let z=[];return{clear:()=>z=[],size:()=>z.length,peek:()=>z[0],push:m=>{z.push(m);return qb(z,0,z.length-1,g)},pop:()=>{var m=z.pop();let E;if(z.length){E=z[0];z[0]=m;
m=z;var h=0;const p=h,r=m.length,v=m[h];let F=(h<<1)+1,aa;for(;F<r;)aa=F+1,aa<r&&0<=g(m[F],m[aa])&&(F=aa),m[h]=m[F],h=F,F=(h<<1)+1;m[h]=v;qb(m,p,h,g)}else E=m;return E}}}function qb(g,z,m,E){let h,p;const r=g[m];for(;m>z;)if(p=m-1>>1,h=g[p],0>E(r,h))g[m]=h,m=p;else break;return g[m]=r}function Ob(){this.logger(l.logger());this.logLevel(l.Error);this._rank=this._clock=0;this._locale=hb.defaultLocale();try{this._loader=R.loader()}catch(g){}this._touched=Cb(l.id);this._input={};this._pulse=null;this._heap=
vb((g,z)=>g.qrank-z.qrank);this._postrun=[]}function Vb(g){return function(){return this._log[g].apply(this,arguments)}}function ob(g,z){Sb.call(this,g,null,z)}function ra(g){g=g&&g.toLowerCase();return l.hasOwnProperty(S,g)?S[g]:null}const Y=Symbol("vega_id");let Ea=1;jc.prototype={set(g,z,m,E){const h=this[g],p=this["_:mod:_"];if(null!=z&&0<=z){if(h[z]!==m||E)h[z]=m,p[z+":"+g]=-1,p[g]=-1}else if(h!==m||E)this[g]=m,p[g]=l.isArray(m)?1+m.length:-1;return this},modified(g,z){const m=this["_:mod:_"];
if(!arguments.length){for(var E in m)if(m[E])return!0;return!1}if(l.isArray(g)){for(E=0;E<g.length;++E)if(m[g[E]])return!0;return!1}return null!=z&&0<=z?z+1<m[g]||!!m[z+":"+g]:!!m[g]},clear(){this["_:mod:_"]={};return this}};let Ga=0;const cb=new jc;Sb.prototype={targets(){return this._targets||(this._targets=Cb(l.id))},set(g){return this.value!==g?(this.value=g,1):0},skip:Ua(1),modified:Ua(2),parameters(g,z,m){z=!1!==z;const E=this._argval=this._argval||new jc,h=this._argops=this._argops||[],p=[];
let r,v,F,aa;const O=(u,I,va)=>{va instanceof Sb?(va!==this&&(z&&va.targets().add(this),p.push(va)),h.push({op:va,name:u,index:I})):E.set(u,I,va)};for(r in g)if(v=g[r],"pulse"===r)l.array(v).forEach(u=>{u instanceof Sb?u!==this&&(u.targets().add(this),p.push(u)):l.error("Pulse parameters must be operator instances.")}),this.source=v;else if(l.isArray(v))for(E.set(r,-1,Array(F=v.length)),aa=0;aa<F;++aa)O(r,aa,v[aa]);else O(r,-1,v);this.marshall().clear();m&&(h.initonly=!0);return p},marshall(g){const z=
this._argval||cb,m=this._argops;let E,h,p,r;if(m){const v=m.length;for(h=0;h<v;++h)E=m[h],p=E.op,r=p.modified()&&p.stamp===g,z.set(E.name,E.index,p.value,r);if(m.initonly){for(h=0;h<v;++h)E=m[h],E.op.targets().remove(this);this._update=this._argops=null}}return z},detach(){const g=this._argops;let z,m;if(g)for(z=0,m=g.length;z<m;++z){var E=g[z];E=E.op;E._targets&&E._targets.remove(this)}this.source=this.pulse=null},evaluate(g){var z=this._update;if(z){const m=this.marshall(g.stamp);z=z.call(this,
m,g);m.clear();if(z!==this.value)this.value=z;else if(!this.modified())return g.StopPropagation}},run(g){if(g.stamp<this.stamp)return g.StopPropagation;let z;this.skip()?(this.skip(!1),z=0):z=this.evaluate(g);return this.pulse=z||g}};let ca=0;rb.prototype={_filter:l.truthy,_apply:l.identity,targets(){return this._targets||(this._targets=Cb(l.id))},consume(g){if(!arguments.length)return!!this._consume;this._consume=!!g;return this},receive(g){if(this._filter(g)){const z=this.value=this._apply(g),m=
this._targets,E=m?m.length:0;for(let h=0;h<E;++h)m[h].receive(z);this._consume&&(g.preventDefault(),g.stopPropagation())}},filter(g){g=Fb(g);this.targets().add(g);return g},apply(g){g=Fb(null,g);this.targets().add(g);return g},merge(){const g=Fb();this.targets().add(g);for(let z=0,m=arguments.length;z<m;++z)arguments[z].targets().add(g);return g},throttle(g){let z=-1;return this.filter(()=>{const m=Date.now();return m-z>g?(z=m,1):0})},debounce(g){const z=Fb();this.targets().add(Fb(null,null,l.debounce(g,
m=>{const E=m.dataflow;z.receive(m);E&&E.run&&E.run()})));return z},between(g,z){let m=!1;g.targets().add(Fb(null,null,()=>m=!0));z.targets().add(Fb(null,null,()=>m=!1));return this.filter(()=>m)},detach(){this._filter=l.truthy;this._targets=null}};const pa={skip:!0},x={};pb.prototype={StopPropagation:x,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(g){return(new pb(this.dataflow)).init(this,g)},clone(){const g=this.fork(7);g.add=g.add.slice();g.rem=
g.rem.slice();g.mod=g.mod.slice();g.source&&(g.source=g.source.slice());return g.materialize(23)},addAll(){let g=this;g.source&&g.add!==g.rem&&(g.rem.length||g.source.length!==g.add.length)&&(g=(new pb(this.dataflow)).init(this),g.add=g.source,g.rem=[]);return g},init(g,z){this.stamp=g.stamp;this.encode=g.encode;!g.fields||z&64||(this.fields=g.fields);z&1?(this.addF=g.addF,this.add=g.add):(this.addF=null,this.add=[]);z&2?(this.remF=g.remF,this.rem=g.rem):(this.remF=null,this.rem=[]);z&4?(this.modF=
g.modF,this.mod=g.mod):(this.modF=null,this.mod=[]);z&32?this.source=this.srcF=null:(this.srcF=g.srcF,this.source=g.source,g.cleans&&(this.cleans=g.cleans));return this},runAfter(g){this.dataflow.runAfter(g)},changed(g){g=g||7;return g&1&&this.add.length||g&2&&this.rem.length||g&4&&this.mod.length},reflow(g){if(g)return this.fork(7).reflow();g=this.add.length;const z=this.source&&this.source.length;z&&z!==g&&(this.mod=this.source,g&&this.filter(4,Da(this,1)));return this},clean(g){return arguments.length?
(this.cleans=!!g,this):this.cleans},modifies(g){const z=this.fields||(this.fields={});l.isArray(g)?g.forEach(m=>z[m]=!0):z[g]=!0;return this},modified(g,z){const m=this.fields;return(z||this.mod.length)&&m?arguments.length?l.isArray(g)?g.some(E=>m[E]):m[g]:!!m:!1},filter(g,z){g&1&&(this.addF=Ia(this.addF,z));g&2&&(this.remF=Ia(this.remF,z));g&4&&(this.modF=Ia(this.modF,z));g&16&&(this.srcF=Ia(this.srcF,z));return this},materialize(g){g=g||7;g&1&&this.addF&&(this.add=Na(this.add,this.addF),this.addF=
null);g&2&&this.remF&&(this.rem=Na(this.rem,this.remF),this.remF=null);g&4&&this.modF&&(this.mod=Na(this.mod,this.modF),this.modF=null);g&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(g,z){if(g&16)return l.visitArray(this.source,this.srcF,z),this;g&1&&l.visitArray(this.add,this.addF,z);g&2&&l.visitArray(this.rem,this.remF,z);g&4&&l.visitArray(this.mod,this.modF,z);const m=this.source;g&8&&m&&(g=this.add.length+this.mod.length,g!==m.length&&(g?l.visitArray(m,
Da(this,5),z):l.visitArray(m,this.srcF,z)));return this}};l.inherits(kb,pb,{fork(g){const z=(new pb(this.dataflow)).init(this,g&this.NO_FIELDS);void 0!==g&&(g&z.ADD&&this.visit(z.ADD,m=>z.add.push(m)),g&z.REM&&this.visit(z.REM,m=>z.rem.push(m)),g&z.MOD&&this.visit(z.MOD,m=>z.mod.push(m)));return z},changed(g){return this.changes&g},modified(g){const z=this.fields;return z&&this.changes&this.MOD?l.isArray(g)?g.some(m=>z[m]):z[g]:0},filter(){l.error("MultiPulse does not support filtering.")},materialize(){l.error("MultiPulse does not support materialization.")},
visit(g,z){const m=this.pulses,E=m.length;let h=0;if(g&this.SOURCE)for(;h<E;++h)m[h].visit(g,z);else for(;h<E;++h)m[h].stamp===this.stamp&&m[h].visit(g,z);return this}});const N={skip:!1,force:!1};Ob.prototype={stamp(){return this._clock},loader(g){return arguments.length?(this._loader=g,this):this._loader},locale(g){return arguments.length?(this._locale=g,this):this._locale},logger(g){return arguments.length?(this._log=g,this):this._log},error:Vb("error"),warn:Vb("warn"),info:Vb("info"),debug:Vb("debug"),
logLevel:Vb("level"),cleanThreshold:1E4,add:function(g,z,m,E){let h=1;g instanceof Sb||(g&&g.prototype instanceof Sb?g=new g:l.isFunction(g)?g=new Sb(null,g):(h=0,g=new Sb(g,z)));this.rank(g);h&&(E=m,m=z);m&&this.connect(g,g.parameters(m,E));this.touch(g);return g},connect:function(g,z){const m=g.rank,E=z.length;for(let h=0;h<E;++h)if(m<z[h].rank){this.rerank(g);break}},rank:function(g){g.rank=++this._rank},rerank:function(g){const z=[g];let m,E,h;for(;z.length;)if(this.rank(m=z.pop()),E=m._targets)for(h=
E.length;0<=--h;)z.push(m=E[h]),m===g&&l.error("Cycle detected in dataflow graph.")},pulse:function(g,z,m){this.touch(g,m||N);m=new pb(this,this._clock+(this._pulse?0:1));const E=g.pulse&&g.pulse.source||[];m.target=g;this._input[g.id]=z.pulse(m,E);return this},touch:function(g,z){z=z||N;this._pulse?this._enqueue(g):this._touched.add(g);z.skip&&g.skip(!0);return this},update:function(g,z,m){m=m||N;(g.set(z)||m.force)&&this.touch(g,m);return this},changeset:Ab,ingest:function(g,z,m){z=this.parse(z,
m);return this.pulse(g,this.changeset().insert(z))},parse:function(g,z){const m=this.locale();return R.read(g,z,m.timeParse,m.utcParse)},preload:function(g,z,m){const E=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const h=E._pending||Hb(E);h.requests+=1;const p=yield E.request(z,m);E.pulse(g,E.changeset().remove(l.truthy).insert(p.data||[]));h.done();return p})},request:function(g,z){const m=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let E=0,h;try{h=
yield m.loader().load(g,{context:"dataflow",response:R.responseType(z&&z.type)});try{h=m.parse(h,z)}catch(p){E=-2,m.warn("Data ingestion failed",g,p)}}catch(p){E=-1,m.warn("Loading failed",g,p)}return{data:h,status:E}})},events:function(g,z,m,E){const h=this,p=Fb(m,E);m=function(r){r.dataflow=h;try{p.receive(r)}catch(v){h.error(v)}finally{h.run()}};g="string"===typeof g&&"undefined"!==typeof document?document.querySelectorAll(g):l.array(g);E=g.length;for(let r=0;r<E;++r)g[r].addEventListener(z,m);
return p},on:function(g,z,m,E,h){(g instanceof Sb?Lb:Bb)(this,g,z,m,E,h);return this},evaluate:function(g,z,m){const E=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const h=[];if(E._pulse)return mb(E);E._pending&&(yield E._pending);z&&(yield Yb(E,z));if(!E._touched.length)return E.debug("Dataflow invoked, but nothing to do."),E;var p=++E._clock;E._pulse=new pb(E,p,g);E._touched.forEach(O=>E._enqueue(O,!0));E._touched=Cb(l.id);var r=0;let v,F,aa;try{for(;0<E._heap.size();)v=
E._heap.pop(),v.rank!==v.qrank?E._enqueue(v,!0):(F=v.run(E._getPulse(v,g)),F.then?F=yield F:F.async&&(h.push(F.async),F=x),F!==x&&v._targets&&v._targets.forEach(O=>E._enqueue(O)),++r)}catch(O){E._heap.clear(),aa=O}E._input={};E._pulse=null;E.debug(`Pulse ${p}: ${r} operators`);aa&&(E._postrun=[],E.error(aa));if(E._postrun.length)for(p=E._postrun.sort((O,u)=>u.priority-O.priority),E._postrun=[],r=0;r<p.length;++r)yield Yb(E,p[r].callback);m&&(yield Yb(E,m));h.length&&Promise.all(h).then(O=>E.runAsync(null,
()=>{O.forEach(u=>{try{u(E)}catch(I){E.error(I)}})}));return E})},run:function(g,z,m){return this._pulse?mb(this):(this.evaluate(g,z,m),this)},runAsync:function(g,z,m){const E=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;E._running;)yield E._running;const h=()=>E._running=null;(E._running=E.evaluate(g,z,m)).then(h,h);return E._running})},runAfter:function(g,z,m){if(this._pulse||z)this._postrun.push({priority:m||0,callback:g});else try{g(this)}catch(E){this.error(E)}},
_enqueue:function(g,z){const m=g.stamp<this._clock;m&&(g.stamp=this._clock);if(m||z)g.qrank=g.rank,this._heap.push(g)},_getPulse:function(g,z){const m=g.source,E=this._clock;return m&&l.isArray(m)?new kb(this,E,m.map(h=>h.pulse),z):this._input[g.id]||Ma(this._pulse,m&&m.pulse)}};l.inherits(ob,Sb,{run(g){if(g.stamp<this.stamp)return g.StopPropagation;let z;this.skip()?this.skip(!1):z=this.evaluate(g);z=z||g;z.then?z=z.then(m=>this.pulse=m):z!==g.StopPropagation&&(this.pulse=z);return z},evaluate(g){const z=
this.marshall(g.stamp);g=this.transform(z,g);z.clear();return g},transform(){}});const S={};t.Dataflow=Ob;t.EventStream=rb;t.MultiPulse=kb;t.Operator=Sb;t.Parameters=jc;t.Pulse=pb;t.Transform=ob;t.UniqueList=Cb;t.asyncCallback=Yb;t.changeset=Ab;t.definition=function(g){return(g=ra(g))&&g.Definition||null};t.derive=function(g){return zc(g,sc({}))};t.ingest=sc;t.isChangeSet=pc;t.isTuple=function(g){return!(!g||!g[Y])};t.rederive=zc;t.replace=function(g,z){z[Y]=g[Y];return z};t.stableCompare=function(g,
z){return g?z?(m,E)=>g(m,E)||z(m)[Y]-z(E)[Y]:(m,E)=>g(m,E)||m[Y]-E[Y]:null};t.transform=ra;t.transforms=S;t.tupleid=function(g){return g[Y]};Object.defineProperty(t,"__esModule",{value:!0})})};
shadow$provide[48]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(46),Eb(41),Eb(47),Eb(40)):"function"===typeof define&&define.amd?define(["exports","vega-scenegraph","vega-canvas","vega-dataflow","vega-util"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l((t.vega=t.vega||{},t.vega.transforms={}),t.vega,t.vega,t.vega,t.vega))})(this,function(t,l,R,hb,Cb){function Yb(ob,ra){const Y=ob.bitmap();(ra||[]).forEach(Ea=>Y.set(ob(Ea.boundary[0]),ob(Ea.boundary[3])));
return[Y,void 0]}function sc(ob,ra,Y,Ea,Ga){const cb=ob.width,ca=ob.height;Ea=Ea||Ga;const pa=R.canvas(cb,ca).getContext("2d");var x=R.canvas(cb,ca).getContext("2d"),N=Ea&&R.canvas(cb,ca).getContext("2d");Y.forEach(v=>zc(pa,v,!1));zc(x,ra,!1);Ea&&zc(N,ra,!0);ra=new Uint32Array(pa.getImageData(0,0,cb,ca).data.buffer);Y=new Uint32Array(x.getImageData(0,0,cb,ca).data.buffer);N=Ea&&new Uint32Array(N.getImageData(0,0,cb,ca).data.buffer);x=ob.bitmap();const S=Ea&&ob.bitmap();let g,z;let m,E,h,p;for(z=0;z<
ca;++z)for(g=0;g<cb;++g){var r=z*cb+g;E=ra[r]&4278190080;p=Y[r]&4278190080;h=Ea&&N[r]&4278190080;if(E||h||p)r=ob(g),m=ob(z),Ga||!E&&!p||x.set(r,m),Ea&&(E||h)&&S.set(r,m)}return[x,S]}function zc(ob,ra,Y){if(ra.length){var Ea=ra[0].mark.marktype;"group"===Ea?ra.forEach(Ga=>{Ga.items.forEach(cb=>zc(ob,cb.items,Y))}):l.Marks[Ea].draw(ob,{items:Y?ra.map(pc):ra})}}function pc(ob){ob=hb.rederive(ob,{});return ob.stroke&&0!==ob.strokeOpacity||ob.fill&&0!==ob.fillOpacity?Object.assign({},ob,{strokeOpacity:1,
stroke:"#000",fillOpacity:0}):ob}function Ab(ob,ra){const Y=new Uint32Array(~~((ob*ra+32)/32));return{array:Y,get:(Ea,Ga)=>{Ea=Ga*ob+Ea;return Y[Ea>>>5]&1<<(Ea&31)},set:(Ea,Ga)=>{Ea=Ga*ob+Ea;Y[Ea>>>5]|=1<<(Ea&31)},clear:(Ea,Ga)=>{Ea=Ga*ob+Ea;Y[Ea>>>5]&=~(1<<(Ea&31))},getRange:(Ea,Ga,cb,ca)=>{let pa,x,N;for(;ca>=Ga;--ca){var S=ca*ob+Ea;pa=ca*ob+cb;x=S>>>5;N=pa>>>5;if(x===N){if(Y[x]&Na[S&31]&Da[(pa&31)+1])return!0}else{if(Y[x]&Na[S&31]||Y[N]&Da[(pa&31)+1])return!0;for(S=x+1;S<N;++S)if(Y[S])return!0}}return!1},
setRange:(Ea,Ga,cb,ca)=>{let pa,x,N;for(;Ga<=ca;++Ga){var S=Ga*ob+Ea;pa=Ga*ob+cb;x=S>>>5;N=pa>>>5;if(x===N)Y[x]|=Na[S&31]&Da[(pa&31)+1];else for(Y[x]|=Na[S&31],Y[N]|=Da[(pa&31)+1],S=x+1;S<N;++S)Y[S]|=4294967295}},clearRange:(Ea,Ga,cb,ca)=>{let pa,x,N;for(;Ga<=ca;++Ga){var S=Ga*ob+Ea;pa=Ga*ob+cb;x=S>>>5;N=pa>>>5;if(x===N)Y[x]&=Da[S&31]|Na[(pa&31)+1];else for(Y[x]&=Da[S&31],Y[N]&=Na[(pa&31)+1],S=x+1;S<N;++S)Y[S]&=0}},outOfBounds:(Ea,Ga,cb,ca)=>0>Ea||0>Ga||ca>=ra||cb>=ob}}function jc(ob,ra,Y){const Ea=
Math.max(1,Math.sqrt(ob*ra/1E6)),Ga=~~((ob+2*Y+Ea)/Ea),cb=~~((ra+2*Y+Ea)/Ea),ca=pa=>~~((pa+Y)/Ea);ca.invert=pa=>pa*Ea-Y;ca.bitmap=()=>Ab(Ga,cb);ca.ratio=Ea;ca.padding=Y;ca.width=ob;ca.height=ra;return ca}function Sb(ob,ra,Y,Ea,Ga,cb){Y/=2;return 0>ob-Y||ob+Y>Ga||0>ra-(Y=Ea/2)||ra+Y>cb}function Ua(ob,ra,Y,Ea,Ga,cb,ca,pa){Ga=Ga*cb/(2*Ea);Ea=ob(ra-Ga);ra=ob(ra+Ga);Ga=ob(Y-(cb/=2));ob=ob(Y+cb);return ca.outOfBounds(Ea,Ga,ra,ob)||ca.getRange(Ea,Ga,ra,ob)||pa&&pa.getRange(Ea,Ga,ra,ob)}function rb(ob,ra,
Y,Ea){const Ga=ob.width,cb=ob.height,ca=ra[0],pa=ra[1],x=Ea.length;return function(N){const S=N.boundary,g=N.datum.fontSize;if(0>S[2]||0>S[5]||S[0]>Ga||S[3]>cb)return!1;var z;let m=null!=(z=N.textWidth)?z:0,E;let h,p;let r;let v;let F,aa;for(let rc=0;rc<x;++rc){z=(Y[rc]&3)-1;E=(Y[rc]>>>2&3)-1;var O=0===z&&0===E||0>Ea[rc];var u=z&&E?Math.SQRT1_2:1;h=0>Ea[rc]?-1:1;p=S[1+z]+Ea[rc]*z*u;v=S[4+E]+h*g*E/2+Ea[rc]*E*u;u=v-g/2;r=v+g/2;var I=ob(p);F=ob(u);aa=ob(r);if(!m){var va=I;var La=F;var Xa=aa;var ab=ca,
Z=pa,Ca=O;if(ab.outOfBounds(va,La,I,Xa)||(Ca&&Z||ab).getRange(va,La,I,Xa))continue;else m=l.textMetrics.width(N.datum,N.datum.text)}La=p+h*m*z/2;p=La-m/2;va=La+m/2;I=ob(p);Xa=ob(va);ab=I;Z=Xa;Ca=F;var Ya=aa,Kb=ca,xc=pa;if(!Kb.outOfBounds(ab,Ca,Z,Ya)&&!(O&&xc||Kb).getRange(ab,Ca,Z,Ya))return N.x=z?0>z*h?va:p:La,N.y=E?0>E*h?r:u:v,N.align=mb[z*h+1],N.baseline=Ma[E*h+1],ca.setRange(I,F,Xa,aa),!0}return!1}}function Fb(ob,ra,Y,Ea,Ga,cb,ca,pa,x,N,S){if(!ob.length)return ob;var g=Math.max(Ea.length,Ga.length);
const z=Hb(Ea,g);Ga=Bb(Ga,g);const m=Lb(ob[0].datum);var E="group"===m&&ob[0].datum.items[x].marktype;g="area"===E;const h=Wa(m,E,pa,x),p=null===N||Infinity===N;E=g&&"naive"===S;let r=-1,v=-1;pa=ob.map(O=>{const u=p?l.textMetrics.width(O,O.text):void 0;r=Math.max(r,u);v=Math.max(v,O.fontSize);return{datum:O,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:h(O),textWidth:u}});N=null===N||Infinity===N?Math.max(r,v)+Math.max(...Ea):N;ra=jc(ra[0],ra[1],N);if(!E){Y&&pa.sort((O,u)=>Y(O.datum,
u.datum));var F=!1;for(Ea=0;Ea<Ga.length&&!F;++Ea)F=5===Ga[Ea]||0>z[Ea];ob=(m&&ca||g)&&ob.map(O=>O.datum);F=cb.length||ob?sc(ra,ob||[],cb,F,g):Yb(ra,ca&&pa)}const aa=g?qb[S](ra,F,ca,x):rb(ra,F,Ga,z);pa.forEach(O=>O.opacity=+aa(O));return pa}function Hb(ob,ra){const Y=new Float64Array(ra),Ea=ob.length;for(let Ga=0;Ga<Ea;++Ga)Y[Ga]=ob[Ga]||0;for(ob=Ea;ob<ra;++ob)Y[ob]=Y[Ea-1];return Y}function Bb(ob,ra){const Y=new Int8Array(ra),Ea=ob.length;for(let Ga=0;Ga<Ea;++Ga)Y[Ga]|=vb[ob[Ga]];for(ob=Ea;ob<ra;++ob)Y[ob]=
Y[Ea-1];return Y}function Lb(ob){return ob&&ob.mark&&ob.mark.marktype}function Wa(ob,ra,Y,Ea){const Ga=cb=>[cb.x,cb.x,cb.x,cb.y,cb.y,cb.y];return ob?"line"===ob||"area"===ob?cb=>Ga(cb.datum):"line"===ra?cb=>{cb=cb.datum.items[Ea].items;return Ga(cb.length?cb["start"===Y?0:cb.length-1]:{x:NaN,y:NaN})}:cb=>{cb=cb.datum.bounds;return[cb.x1,(cb.x1+cb.x2)/2,cb.x2,cb.y1,(cb.y1+cb.y2)/2,cb.y2]}:Ga}function pb(ob){hb.Transform.call(this,null,ob)}const Na=new Uint32Array(33),Da=new Uint32Array(33);Da[0]=0;
Na[0]=~Da[0];for(let ob=1;32>=ob;++ob)Da[ob]=Da[ob-1]<<1|1,Na[ob]=~Da[ob];const Ia=[-1,-1,1,1],kb=[-1,1,-1,1],mb=["right","center","left"],Ma=["bottom","middle","top"],vb={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},qb={naive:function(ob,ra,Y,Ea){const Ga=ob.width,cb=ob.height;return function(ca){const pa=ca.datum.datum.items[Ea].items,x=pa.length,N=ca.datum.fontSize,S=l.textMetrics.width(ca.datum,ca.datum.text);let g=0;let z,m,E,h,p;for(let v=
0;v<x;++v){var r=pa[v].x;m=pa[v].y;z=void 0===pa[v].x2?r:pa[v].x2;E=void 0===pa[v].y2?m:pa[v].y2;h=(r+z)/2;p=(m+E)/2;r=Math.abs(z-r+E-m);r>=g&&(g=r,ca.x=h,ca.y=p)}h=S/2;p=N/2;r=ca.x-h;z=ca.x+h;m=ca.y-p;E=ca.y+p;ca.align="center";0>r&&z<=Ga?ca.align="left":0<=r&&Ga<z&&(ca.align="right");ca.baseline="middle";0>m&&E<=cb?ca.baseline="top":0<=m&&cb<E&&(ca.baseline="bottom");return!0}},"reduced-search":function(ob,ra,Y,Ea){function Ga(N,S,g,z,m){N=ob.invert(N);S=ob.invert(S);let E=g,h=ca,p;if(!Sb(N,S,z,
m,cb,ca)&&!Ua(ob,N,S,m,z,E,pa,x)&&!Ua(ob,N,S,m,z,m,pa,null)){for(;1<=h-E;)p=(E+h)/2,Ua(ob,N,S,m,z,p,pa,x)?h=p:E=p;if(E>g)return[N,S,E,!0]}}const cb=ob.width,ca=ob.height,pa=ra[0],x=ra[1];return function(N){const S=N.datum.datum.items[Ea].items,g=S.length,z=N.datum.fontSize,m=l.textMetrics.width(N.datum,N.datum.text);let E=Y?z:0,h=!1,p=!1,r=0;let v;let F;let aa,O,u,I,va,La,Xa,ab;for(let Kb=0;Kb<g;++Kb){var Z=S[Kb].x;var Ca=S[Kb].y;v=void 0===S[Kb].x2?Z:S[Kb].x2;F=void 0===S[Kb].y2?Ca:S[Kb].y2;if(Z>
v){var Ya=Z;Z=v;v=Ya}Ca>F&&(Ya=Ca,Ca=F,F=Ya);O=ob(Z);I=ob(v);u=~~((O+I)/2);va=ob(Ca);Xa=ob(F);La=~~((va+Xa)/2);for(Ya=u;Ya>=O;--Ya)for(aa=La;aa>=va;--aa)(ab=Ga(Ya,aa,E,m,z))&&([N.x,N.y,E,h]=ab);for(Ya=u;Ya<=I;++Ya)for(aa=La;aa<=Xa;++aa)(ab=Ga(Ya,aa,E,m,z))&&([N.x,N.y,E,h]=ab);h||Y||(Ya=Math.abs(v-Z+F-Ca),Z=(Z+v)/2,Ca=(Ca+F)/2,Ya>=r&&!Sb(Z,Ca,m,z,cb,ca)&&!Ua(ob,Z,Ca,z,m,z,pa,null)&&(r=Ya,N.x=Z,N.y=Ca,p=!0))}return h||p?(Z=m/2,Ca=z/2,pa.setRange(ob(N.x-Z),ob(N.y-Ca),ob(N.x+Z),ob(N.y+Ca)),N.align="center",
N.baseline="middle",!0):!1}},floodfill:function(ob,ra,Y,Ea){const Ga=ob.width,cb=ob.height,ca=ra[0],pa=ra[1],x=ob.bitmap();return function(N){const S=N.datum.datum.items[Ea].items,g=S.length,z=N.datum.fontSize,m=l.textMetrics.width(N.datum,N.datum.text),E=[];let h=Y?z:0,p=!1,r=!1,v=0,F,aa,O,u,I,va;var La;for(let Z=0;Z<g;++Z){F=S[Z].x;O=S[Z].y;aa=void 0===S[Z].x2?F:S[Z].x2;u=void 0===S[Z].y2?O:S[Z].y2;for(E.push([ob((F+aa)/2),ob((O+u)/2)]);E.length;)if([Xa,ab]=E.pop(),!(ca.get(Xa,ab)||pa.get(Xa,ab)||
x.get(Xa,ab))){x.set(Xa,ab);for(La=0;4>La;++La)I=Xa+Ia[La],va=ab+kb[La],x.outOfBounds(I,va,I,va)||E.push([I,va]);I=ob.invert(Xa);va=ob.invert(ab);var Xa=h;var ab=cb;if(!Sb(I,va,m,z,Ga,cb)&&!Ua(ob,I,va,z,m,Xa,ca,pa)&&!Ua(ob,I,va,z,m,z,ca,null)){for(;1<=ab-Xa;)La=(Xa+ab)/2,Ua(ob,I,va,z,m,La,ca,pa)?ab=La:Xa=La;Xa>h&&(N.x=I,N.y=va,h=Xa,p=!0)}}p||Y||(Xa=Math.abs(aa-F+u-O),I=(F+aa)/2,va=(O+u)/2,Xa>=v&&!Sb(I,va,m,z,Ga,cb)&&!Ua(ob,I,va,z,m,z,ca,null)&&(v=Xa,N.x=I,N.y=va,r=!0))}return p||r?(I=m/2,va=z/2,ca.setRange(ob(N.x-
I),ob(N.y-va),ob(N.x+I),ob(N.y+va)),N.align="center",N.baseline="middle",!0):!1}}},Ob=["x","y","opacity","align","baseline"],Vb="top-left left bottom-left top bottom top-right right bottom-right".split(" ");pb.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:Vb},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},
{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:Ob.length,default:Ob}]};Cb.inherits(pb,hb.Transform,{transform(ob,ra){function Y(cb){cb=ob[cb];return Cb.isFunction(cb)&&ra.modified(cb.fields)}const Ea=ob.modified();if(Ea||ra.changed(ra.ADD_REM)||Y("sort")){ob.size&&
2===ob.size.length||Cb.error("Size parameter should be specified as a [width, height] array.");var Ga=ob.as||Ob;Fb(ra.materialize(ra.SOURCE).source||[],ob.size,ob.sort,Cb.array(null==ob.offset?1:ob.offset),Cb.array(ob.anchor||Vb),ob.avoidMarks||[],!1!==ob.avoidBaseMark,ob.lineAnchor||"end",ob.markIndex||0,void 0===ob.padding?0:ob.padding,ob.method||"naive").forEach(cb=>{const ca=cb.datum;ca[Ga[0]]=cb.x;ca[Ga[1]]=cb.y;ca[Ga[2]]=cb.opacity;ca[Ga[3]]=cb.align;ca[Ga[4]]=cb.baseline});return ra.reflow(Ea).modifies(Ga)}}});
t.label=pb})};
shadow$provide[49]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb):"function"===typeof define&&define.amd?define(["exports"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l(t.vega={}))})(this,function(t){function l(h,p,r){h.fields=p||[];h.fname=r;return h}function R(h){return null==h?null:h.fields}function hb(h){return 1===h.length?mb(h[0]):Ma(h)}function Cb(h){throw Error(h);}function Yb(h){function p(){r.push(O+h.substring(u,I));O="";u=I+1}const r=
[],v=h.length;let F=null,aa=0,O="",u,I,va;h+="";for(u=I=0;I<v;++I)(va=h[I],"\\"===va)?(O+=h.substring(u,I),O+=h.substring(++I,++I),u=I):va===F?(p(),F=null,aa=-1):F||(u===aa&&'"'===va?(u=I+1,F=va):u===aa&&"'"===va?(u=I+1,F=va):"."!==va||aa?"["===va?(I>u&&p(),aa=u=I+1):"]"===va&&(aa||Cb("Access path missing open bracket: "+h),0<aa&&p(),aa=0,u=I+1):I>u?p():u=I+1);aa&&Cb("Access path missing closing bracket: "+h);F&&Cb("Access path missing closing quote: "+h);I>u&&(I++,p());return r}function sc(h,p,r){const v=
Yb(h);h=1===v.length?v[0]:h;return l((r&&r.get||hb)(v),[h],p||h)}function zc(h,p,r){p=[p].concat([].slice.call(r));console[h].apply(console,p)}function pc(h){return h===Object(h)}function Ab(h,p,r,v){if("__proto__"!==p){var F;if(pc(r)&&!Y(r))for(F in h=pc(h[p])?h[p]:h[p]={},r)v&&(!0===v||v[F])?Ab(h,F,r[F]):"__proto__"!==F&&(h[F]=r[F]);else h[p]=r}}function jc(h,p){function r(aa){v[aa.name]||(v[aa.name]=1,F.push(aa))}if(null==h)return p;const v={},F=[];p.forEach(r);h.forEach(r);return F}function Sb(h){return h[h.length-
1]}function Ua(h){return null==h||""===h?null:+h}function rb(h,p,r,v){const F=r(h[0]);h=r(Sb(h));p*=h-F;return[v(F-p),v(h-p)]}function Fb(h,p,r,v,F){const aa=v(h[0]);h=v(Sb(h));p=null!=p?v(p):(aa+h)/2;return[F(p+(aa-p)*r),F(p+(h-p)*r)]}function Hb(h){return null!=h?Y(h)?h:[h]:[]}function Bb(h){return"function"===typeof h}function Lb(h){for(let p,r,v=1,F=arguments.length;v<F;++v)for(r in p=arguments[v],p)h[r]=p[r];return h}function Wa(h,p){return z.call(h,p)}function pb(h){return"[object Date]"===
Object.prototype.toString.call(h)}function Na(h){return"number"===typeof h}function Da(h){return"string"===typeof h}function Ia(h,p){let r="";for(;0<=--p;)r+=h;return r}function kb(h){return Y(h)?"["+h.map(kb)+"]":pc(h)||Da(h)?JSON.stringify(h).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):h}const mb=h=>function(p){return p[h]},Ma=h=>{const p=h.length;return function(r){for(let v=0;v<p;++v)r=r[h[v]];return r}},vb=sc("id"),qb=l(h=>h,[],"identity"),Ob=l(()=>0,[],"zero"),Vb=l(()=>1,[],"one"),
ob=l(()=>!0,[],"true"),ra=l(()=>!1,[],"false");var Y=Array.isArray;const Ea=h=>p=>h*Math.exp(p),Ga=h=>p=>Math.log(h*p),cb=h=>p=>Math.sign(p)*Math.log1p(Math.abs(p/h)),ca=h=>p=>Math.sign(p)*Math.expm1(Math.abs(p))*h,pa=h=>p=>0>p?-Math.pow(-p,h):Math.pow(p,h),x=(h,p)=>(h<p||null==h)&&null!=p?-1:(h>p||null==p)&&null!=h?1:(p=p instanceof Date?+p:p,h=h instanceof Date?+h:h)!==h&&p===p?-1:p!==p&&h===h?1:0,N=(h,p)=>1===h.length?S(h[0],p[0]):g(h,p,h.length),S=(h,p)=>function(r,v){return x(h(r),h(v))*p},g=
(h,p,r)=>{p.push(0);return function(v,F){var aa=0;let O=-1;for(;0===aa&&++O<r;)aa=h[O],aa=x(aa(v),aa(F));return aa*p[O]}},z=Object.prototype.hasOwnProperty,m={},E=h=>Na(h)?h:pb(h)?h:Date.parse(h);t.Debug=4;t.Error=1;t.Info=3;t.None=0;t.Warn=2;t.accessor=l;t.accessorFields=R;t.accessorName=function(h){return null==h?null:h.fname};t.array=Hb;t.ascending=x;t.clampRange=function(h,p,r){let v=h[0];h=h[1];let F;h<v&&(F=h,h=v,v=F);F=h-v;return F>=r-p?[p,r]:[v=Math.min(Math.max(v,p),r-F),v+F]};t.compare=
function(h,p,r){r=r||{};p=Hb(p)||[];const v=[],F=[],aa={},O=r.comparator||N;Hb(h).forEach((u,I)=>{null!=u&&(v.push("descending"===p[I]?-1:1),F.push(u=Bb(u)?u:sc(u,null,r)),(R(u)||[]).forEach(va=>aa[va]=1))});return 0===F.length?null:l(O(F,v),Object.keys(aa))};t.constant=function(h){return Bb(h)?h:()=>h};t.debounce=function(h,p){let r;return v=>{r&&clearTimeout(r);r=setTimeout(()=>(p(v),r=null),h)}};t.error=Cb;t.extend=Lb;t.extent=function(h,p){let r=0,v,F,aa,O;if(h&&(v=h.length))if(null==p){for(F=
h[r];r<v&&(null==F||F!==F);F=h[++r]);for(aa=O=F;r<v;++r)F=h[r],null!=F&&(F<aa&&(aa=F),F>O&&(O=F))}else{for(F=p(h[r]);r<v&&(null==F||F!==F);F=p(h[++r]));for(aa=O=F;r<v;++r)F=p(h[r]),null!=F&&(F<aa&&(aa=F),F>O&&(O=F))}return[aa,O]};t.extentIndex=function(h,p){const r=h.length;let v=-1,F,aa,O,u,I;if(null==p){for(;++v<r;)if(aa=h[v],null!=aa&&aa>=aa){F=O=aa;break}if(v===r)return[-1,-1];for(u=I=v;++v<r;)aa=h[v],null!=aa&&(F>aa&&(F=aa,u=v),O<aa&&(O=aa,I=v))}else{for(;++v<r;)if(aa=p(h[v],v,h),null!=aa&&aa>=
aa){F=O=aa;break}if(v===r)return[-1,-1];for(u=I=v;++v<r;)aa=p(h[v],v,h),null!=aa&&(F>aa&&(F=aa,u=v),O<aa&&(O=aa,I=v))}return[u,I]};t.falsy=ra;t.fastmap=function(h){function p(aa){return Wa(r,aa)&&r[aa]!==m}let r={},v;const F={size:0,empty:0,object:r,has:p,get(aa){return p(aa)?r[aa]:void 0},set(aa,O){p(aa)||(++F.size,r[aa]===m&&--F.empty);r[aa]=O;return this},delete(aa){p(aa)&&(--F.size,++F.empty,r[aa]=m);return this},clear(){F.size=F.empty=0;F.object=r={}},test(aa){return arguments.length?(v=aa,F):
v},clean(){const aa={};let O=0;for(const u in r){const I=r[u];I===m||v&&v(I)||(aa[u]=I,++O)}F.size=O;F.empty=0;F.object=r=aa}};h&&Object.keys(h).forEach(aa=>{F.set(aa,h[aa])});return F};t.field=sc;t.flush=function(h,p,r,v,F,aa){if(!r&&0!==r)return aa;r=+r;let O=h[0],u=Sb(h);u<O&&(h=O,O=u,u=h);h=Math.abs(p-O);p=Math.abs(u-p);return h<p&&h<=r?v:p<=r?F:aa};t.hasOwnProperty=Wa;t.id=vb;t.identity=qb;t.inherits=function(h,p,r){p=h.prototype=Object.create(p.prototype);Object.defineProperty(p,"constructor",
{value:h,writable:!0,enumerable:!0,configurable:!0});return Lb(p,r)};t.inrange=function(h,p,r,v){let F=p[0];p=p[p.length-1];let aa;F>p&&(aa=F,F=p,p=aa);return(void 0===r||r?F<=h:F<h)&&(void 0===v||v?h<=p:h<p)};t.isArray=Y;t.isBoolean=function(h){return"boolean"===typeof h};t.isDate=pb;t.isFunction=Bb;t.isIterable=function(h){return h&&Bb(h[Symbol.iterator])};t.isNumber=Na;t.isObject=pc;t.isRegExp=function(h){return"[object RegExp]"===Object.prototype.toString.call(h)};t.isString=Da;t.key=function(h,
p,r){h&&(h=p?Hb(h).map(aa=>aa.replace(/\\(.)/g,"$1")):Hb(h));const v=h&&h.length,F=r&&r.get||hb;r=aa=>F(p?[aa]:Yb(aa));if(v)if(1===v){const aa=r(h[0]);r=function(O){return""+aa(O)}}else{const aa=h.map(r);r=function(O){let u=""+aa[0](O),I=0;for(;++I<v;)u+="|"+aa[I](O);return u}}else r=function(){return""};return l(r,h,"key")};t.lerp=function(h,p){const r=h[0];h=Sb(h);return(p=+p)?1===p?h:r+p*(h-r):r};t.logger=function(h,p,r=zc){let v=h||0;return{level(F){return arguments.length?(v=+F,this):v},error(){1<=
v&&r(p||"error","ERROR",arguments);return this},warn(){2<=v&&r(p||"warn","WARN",arguments);return this},info(){3<=v&&r(p||"log","INFO",arguments);return this},debug(){4<=v&&r(p||"log","DEBUG",arguments);return this}}};t.lruCache=function(h){h=+h||1E4;let p,r,v;const F=()=>{p={};r={};v=0},aa=(O,u)=>{++v>h&&(r=p,p={},v=1);return p[O]=u};F();return{clear:F,has:O=>Wa(p,O)||Wa(r,O),get:O=>Wa(p,O)?p[O]:Wa(r,O)?aa(O,r[O]):void 0,set:(O,u)=>Wa(p,O)?p[O]=u:aa(O,u)}};t.merge=function(h,p,r,v){const F=p.length,
aa=r.length;if(!aa)return p;if(!F)return r;v=v||new p.constructor(F+aa);let O=0,u=0,I=0;for(;O<F&&u<aa;++I)v[I]=0<h(p[O],r[u])?r[u++]:p[O++];for(;O<F;++O,++I)v[I]=p[O];for(;u<aa;++u,++I)v[I]=r[u];return v};t.mergeConfig=function(...h){return h.reduce((p,r)=>{for(const v in r)"signals"===v?p.signals=jc(p.signals,r.signals):Ab(p,v,r[v],"legend"===v?{layout:1}:"style"===v?!0:null);return p},{})};t.one=Vb;t.pad=function(h,p,r,v){r=r||" ";h+="";p-=h.length;return 0>=p?h:"left"===v?Ia(r,p)+h:"center"===
v?Ia(r,~~(p/2))+h+Ia(r,Math.ceil(p/2)):h+Ia(r,p)};t.panLinear=function(h,p){return rb(h,p,Ua,qb)};t.panLog=function(h,p){var r=Math.sign(h[0]);return rb(h,p,Ga(r),Ea(r))};t.panPow=function(h,p,r){return rb(h,p,pa(r),pa(1/r))};t.panSymlog=function(h,p,r){return rb(h,p,cb(r),ca(r))};t.peek=Sb;t.quarter=function(h){return 1+~~((new Date(h)).getMonth()/3)};t.repeat=Ia;t.span=function(h){return h&&Sb(h)-h[0]||0};t.splitAccessPath=Yb;t.stringValue=kb;t.toBoolean=function(h){return null==h||""===h?null:
h&&"false"!==h&&"0"!==h?!!h:!1};t.toDate=function(h,p){p=p||E;return null==h||""===h?null:p(h)};t.toNumber=Ua;t.toSet=function(h){const p={},r=h.length;for(let v=0;v<r;++v)p[h[v]]=!0;return p};t.toString=function(h){return null==h||""===h?null:h+""};t.truncate=function(h,p,r,v){v=null!=v?v:"";h+="";const F=h.length,aa=Math.max(0,p-v.length);return F<=p?h:"left"===r?v+h.slice(F-aa):"center"===r?h.slice(0,Math.ceil(aa/2))+v+h.slice(F-~~(aa/2)):h.slice(0,aa)+v};t.truthy=ob;t.utcquarter=function(h){return 1+
~~((new Date(h)).getUTCMonth()/3)};t.visitArray=function(h,p,r){if(h)if(p){const v=h.length;for(let F=0;F<v;++F){const aa=p(h[F]);aa&&r(aa,F,h)}}else h.forEach(r)};t.writeConfig=Ab;t.zero=Ob;t.zoomLinear=function(h,p,r){return Fb(h,p,r,Ua,qb)};t.zoomLog=function(h,p,r){const v=Math.sign(h[0]);return Fb(h,p,r,Ga(v),Ea(v))};t.zoomPow=function(h,p,r,v){return Fb(h,p,r,pa(v),pa(1/v))};t.zoomSymlog=function(h,p,r,v){return Fb(h,p,r,cb(v),ca(v))};Object.defineProperty(t,"__esModule",{value:!0})})};
shadow$provide[50]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(49)):"function"===typeof define&&define.amd?define(["exports","vega-util"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l(t.vega={},t.vega))})(this,function(t,l){function R(u){const I=l.array(u).slice(),va={};I.length||l.error("Missing time unit.");I.forEach(La=>{l.hasOwnProperty(Da,La)?va[La]=1:l.error(`Invalid time unit: ${La}.`)});1<(va.week||va.day?1:0)+(va.quarter||va.month||
va.date?1:0)+(va.dayofyear?1:0)&&l.error(`Incompatible time units: ${u}`);I.sort((La,Xa)=>Da[La]-Da[Xa]);return I}function hb(u,I,va,La){function Xa(ab){return u(ab=0===arguments.length?new Date:new Date(+ab)),ab}Xa.floor=function(ab){return u(ab=new Date(+ab)),ab};Xa.ceil=function(ab){return u(ab=new Date(ab-1)),I(ab,1),u(ab),ab};Xa.round=function(ab){var Z=Xa(ab),Ca=Xa.ceil(ab);return ab-Z<Ca-ab?Z:Ca};Xa.offset=function(ab,Z){return I(ab=new Date(+ab),null==Z?1:Math.floor(Z)),ab};Xa.range=function(ab,
Z,Ca){var Ya=[],Kb;ab=Xa.ceil(ab);Ca=null==Ca?1:Math.floor(Ca);if(!(ab<Z&&0<Ca))return Ya;do Ya.push(Kb=new Date(+ab)),I(ab,Ca),u(ab);while(Kb<ab&&ab<Z);return Ya};Xa.filter=function(ab){return hb(function(Z){if(Z>=Z)for(;u(Z),!ab(Z);)Z.setTime(Z-1)},function(Z,Ca){if(Z>=Z)if(0>Ca)for(;0>=++Ca;)for(;I(Z,-1),!ab(Z););else for(;0<=--Ca;)for(;I(Z,1),!ab(Z););})};va&&(Xa.count=function(ab,Z){kb.setTime(+ab);mb.setTime(+Z);u(kb);u(mb);return Math.floor(va(kb,mb))},Xa.every=function(ab){ab=Math.floor(ab);
return isFinite(ab)&&0<ab?1<ab?Xa.filter(La?function(Z){return 0===La(Z)%ab}:function(Z){return 0===Xa.count(0,Z)%ab}):Xa:null});return Xa}function Cb(u){return hb(function(I){I.setDate(I.getDate()-(I.getDay()+7-u)%7);I.setHours(0,0,0,0)},function(I,va){I.setDate(I.getDate()+7*va)},function(I,va){return(va-I-6E4*(va.getTimezoneOffset()-I.getTimezoneOffset()))/6048E5})}function Yb(u){return hb(function(I){I.setUTCDate(I.getUTCDate()-(I.getUTCDay()+7-u)%7);I.setUTCHours(0,0,0,0)},function(I,va){I.setUTCDate(I.getUTCDate()+
7*va)},function(I,va){return(va-I)/6048E5})}function sc(u,I){return null==u||null==I?NaN:u<I?-1:u>I?1:u>=I?0:NaN}function zc(u){function I(ab,Z,Ca=0,Ya=ab.length){if(Ca<Ya){if(0!==La(Z,Z))return Ya;do{const Kb=Ca+Ya>>>1;0>Xa(ab[Kb],Z)?Ca=Kb+1:Ya=Kb}while(Ca<Ya)}return Ca}let va=u,La=u,Xa=u;2!==u.length&&(va=(ab,Z)=>u(ab)-Z,La=sc,Xa=(ab,Z)=>sc(u(ab),Z));return{left:I,center:function(ab,Z,Ca=0,Ya=ab.length){Ya=I(ab,Z,Ca,Ya-1);return Ya>Ca&&va(ab[Ya-1],Z)>-va(ab[Ya],Z)?Ya-1:Ya},right:function(ab,Z,Ca=
0,Ya=ab.length){if(Ca<Ya){if(0!==La(Z,Z))return Ya;do{const Kb=Ca+Ya>>>1;0>=Xa(ab[Kb],Z)?Ca=Kb+1:Ya=Kb}while(Ca<Ya)}return Ca}}}function pc(u,I,va){var La=Math.abs(I-u)/Math.max(0,va);va=Math.pow(10,Math.floor(Math.log(La)/Math.LN10));La/=va;La>=N?va*=10:La>=S?va*=5:La>=g&&(va*=2);return I<u?-va:va}function Ab(u){z.setFullYear(u);z.setMonth(0);z.setDate(1);z.setHours(0,0,0,0);return z}function jc(u){return Vb.count(Ab(u.getFullYear())-1,u)}function Sb(u){return ob.count(Ab(u.getFullYear())-1,u)}function Ua(u,
I,va,La,Xa,ab,Z){return 0<=u&&100>u?(I=new Date(-1,I,va,La,Xa,ab,Z),I.setFullYear(u),I):new Date(u,I,va,La,Xa,ab,Z)}function rb(u){const I=Date.UTC(u.getUTCFullYear(),0,1);return cb.count(I-1,u)}function Fb(u){const I=Date.UTC(u.getUTCFullYear(),0,1);return ca.count(I-1,u)}function Hb(u){z.setTime(Date.UTC(u,0,1));return z.getUTCDay()}function Bb(u,I,va,La,Xa,ab,Z){return 0<=u&&100>u?(u=new Date(Date.UTC(-1,I,va,La,Xa,ab,Z)),u.setUTCFullYear(va.y),u):new Date(Date.UTC(u,I,va,La,Xa,ab,Z))}function Lb(u,
I,va,La,Xa){const ab=I||1,Z=l.peek(u);I=(Rc,Pd,Pa)=>{Pa=Pa||Rc;return Wa(va[Pa],La[Pa],Rc===Z&&ab,Pd)};const Ca=new Date;u=l.toSet(u);const Ya=u.year?I("year"):l.constant(2012),Kb=u.month?I("month"):u.quarter?I("quarter"):l.zero,xc=u.week&&u.day?I("day",1,"weekday"):u.week?I("week",1):u.day?I("day",1):u.date?I("date",1):u.dayofyear?I("dayofyear",1):l.one,rc=u.hours?I("hours"):l.zero,yc=u.minutes?I("minutes"):l.zero,dd=u.seconds?I("seconds"):l.zero,$b=u.milliseconds?I("milliseconds"):l.zero;return function(Rc){Ca.setTime(+Rc);
Rc=Ya(Ca);return Xa(Rc,Kb(Ca),xc(Ca,Rc),rc(Ca),yc(Ca),dd(Ca),$b(Ca))}}function Wa(u,I,va,La){const Xa=1>=va?u:La?(ab,Z)=>La+va*Math.floor((u(ab,Z)-La)/va):(ab,Z)=>va*Math.floor(u(ab,Z)/va);return I?(ab,Z)=>I(Xa(ab,Z),Z):Xa}function pb(u,I,va){return I+7*u-(va+6)%7}const Na="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),Da=Na.reduce((u,I,va)=>(u[I]=1+va,u),{}),Ia={year:"%Y ",quarter:"Q%q ",month:"%b ",date:"%d ",week:"W%U ",day:"%a ",dayofyear:"%j ",hours:"%H:00",
minutes:"00:%M",seconds:":%S",milliseconds:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"};var kb=new Date,mb=new Date,Ma=hb(function(){},function(u,I){u.setTime(+u+I)},function(u,I){return I-u});Ma.every=function(u){u=Math.floor(u);return isFinite(u)&&0<u?1<u?hb(function(I){I.setTime(Math.floor(I/u)*u)},function(I,va){I.setTime(+I+va*u)},function(I,va){return(va-I)/u}):Ma:null};var vb=hb(function(u){u.setTime(u-u.getMilliseconds())},function(u,I){u.setTime(+u+
1E3*I)},function(u,I){return(I-u)/1E3},function(u){return u.getUTCSeconds()}),qb=hb(function(u){u.setTime(u-u.getMilliseconds()-1E3*u.getSeconds())},function(u,I){u.setTime(+u+6E4*I)},function(u,I){return(I-u)/6E4},function(u){return u.getMinutes()}),Ob=hb(function(u){u.setTime(u-u.getMilliseconds()-1E3*u.getSeconds()-6E4*u.getMinutes())},function(u,I){u.setTime(+u+36E5*I)},function(u,I){return(I-u)/36E5},function(u){return u.getHours()}),Vb=hb(u=>u.setHours(0,0,0,0),(u,I)=>u.setDate(u.getDate()+
I),(u,I)=>(I-u-6E4*(I.getTimezoneOffset()-u.getTimezoneOffset()))/864E5,u=>u.getDate()-1),ob=Cb(0);Cb(1);Cb(2);Cb(3);Cb(4);Cb(5);Cb(6);var ra=hb(function(u){u.setDate(1);u.setHours(0,0,0,0)},function(u,I){u.setMonth(u.getMonth()+I)},function(u,I){return I.getMonth()-u.getMonth()+12*(I.getFullYear()-u.getFullYear())},function(u){return u.getMonth()}),Y=hb(function(u){u.setMonth(0,1);u.setHours(0,0,0,0)},function(u,I){u.setFullYear(u.getFullYear()+I)},function(u,I){return I.getFullYear()-u.getFullYear()},
function(u){return u.getFullYear()});Y.every=function(u){return isFinite(u=Math.floor(u))&&0<u?hb(function(I){I.setFullYear(Math.floor(I.getFullYear()/u)*u);I.setMonth(0,1);I.setHours(0,0,0,0)},function(I,va){I.setFullYear(I.getFullYear()+va*u)}):null};var Ea=hb(function(u){u.setUTCSeconds(0,0)},function(u,I){u.setTime(+u+6E4*I)},function(u,I){return(I-u)/6E4},function(u){return u.getUTCMinutes()}),Ga=hb(function(u){u.setUTCMinutes(0,0,0)},function(u,I){u.setTime(+u+36E5*I)},function(u,I){return(I-
u)/36E5},function(u){return u.getUTCHours()}),cb=hb(function(u){u.setUTCHours(0,0,0,0)},function(u,I){u.setUTCDate(u.getUTCDate()+I)},function(u,I){return(I-u)/864E5},function(u){return u.getUTCDate()-1}),ca=Yb(0);Yb(1);Yb(2);Yb(3);Yb(4);Yb(5);Yb(6);var pa=hb(function(u){u.setUTCDate(1);u.setUTCHours(0,0,0,0)},function(u,I){u.setUTCMonth(u.getUTCMonth()+I)},function(u,I){return I.getUTCMonth()-u.getUTCMonth()+12*(I.getUTCFullYear()-u.getUTCFullYear())},function(u){return u.getUTCMonth()}),x=hb(function(u){u.setUTCMonth(0,
1);u.setUTCHours(0,0,0,0)},function(u,I){u.setUTCFullYear(u.getUTCFullYear()+I)},function(u,I){return I.getUTCFullYear()-u.getUTCFullYear()},function(u){return u.getUTCFullYear()});x.every=function(u){return isFinite(u=Math.floor(u))&&0<u?hb(function(I){I.setUTCFullYear(Math.floor(I.getUTCFullYear()/u)*u);I.setUTCMonth(0,1);I.setUTCHours(0,0,0,0)},function(I,va){I.setUTCFullYear(I.getUTCFullYear()+va*u)}):null};var N=Math.sqrt(50),S=Math.sqrt(10),g=Math.sqrt(2);const z=new Date,m={year:u=>u.getFullYear(),
quarter:u=>Math.floor(u.getMonth()/3),month:u=>u.getMonth(),date:u=>u.getDate(),hours:u=>u.getHours(),minutes:u=>u.getMinutes(),seconds:u=>u.getSeconds(),milliseconds:u=>u.getMilliseconds(),dayofyear:u=>jc(u),week:u=>Sb(u),weekday:(u,I)=>pb(Sb(u),u.getDay(),Ab(I).getDay()),day:(u,I)=>pb(1,u.getDay(),Ab(I).getDay())},E={quarter:u=>3*u,week:(u,I)=>pb(u,0,Ab(I).getDay())},h={year:u=>u.getUTCFullYear(),quarter:u=>Math.floor(u.getUTCMonth()/3),month:u=>u.getUTCMonth(),date:u=>u.getUTCDate(),hours:u=>u.getUTCHours(),
minutes:u=>u.getUTCMinutes(),seconds:u=>u.getUTCSeconds(),milliseconds:u=>u.getUTCMilliseconds(),dayofyear:u=>rb(u),week:u=>Fb(u),day:(u,I)=>pb(1,u.getUTCDay(),Hb(I)),weekday:(u,I)=>pb(Fb(u),u.getUTCDay(),Hb(I))},p={quarter:u=>3*u,week:(u,I)=>pb(u,0,Hb(I))},r={year:Y,quarter:ra.every(3),month:ra,week:ob,date:Vb,day:Vb,dayofyear:Vb,hours:Ob,minutes:qb,seconds:vb,milliseconds:Ma},v={year:x,quarter:pa.every(3),month:pa,week:ca,date:cb,day:cb,dayofyear:cb,hours:Ga,minutes:Ea,seconds:vb,milliseconds:Ma},
F="year month date hours minutes seconds milliseconds".split(" ");vb=F.slice(0,-1);qb=vb.slice(0,-1);Ob=qb.slice(0,-1);ra=Ob.slice(0,-1);Y=["year","month"];const aa=["year"],O=[[vb,1,1E3],[vb,5,5E3],[vb,15,15E3],[vb,30,3E4],[qb,1,6E4],[qb,5,3E5],[qb,15,9E5],[qb,30,18E5],[Ob,1,36E5],[Ob,3,108E5],[Ob,6,216E5],[Ob,12,432E5],[ra,1,864E5],[["year","week"],1,6048E5],[Y,1,2592E6],[Y,3,7776E6],[aa,1,31536E6]];t.DATE="date";t.DAY="day";t.DAYOFYEAR="dayofyear";t.HOURS="hours";t.MILLISECONDS="milliseconds";
t.MINUTES="minutes";t.MONTH="month";t.QUARTER="quarter";t.SECONDS="seconds";t.TIME_UNITS=Na;t.WEEK="week";t.YEAR="year";t.dayofyear=function(u){return jc(new Date(u))};t.timeBin=function(u){var I=u.extent;u=u.maxbins||40;var va=Math.abs(l.span(I))/u;let La=zc(Xa=>Xa[2]).right(O,va);La===O.length?(va=aa,I=pc(I[0]/31536E6,I[1]/31536E6,u)):La?(La=O[va/O[La-1][2]<O[La][2]/va?La-1:La],va=La[0],I=La[1]):(va=F,I=Math.max(pc(I[0],I[1],u),1));return{units:va,step:I}};t.timeFloor=function(u,I){return Lb(u,
I||1,m,E,Ua)};t.timeInterval=function(u){return r[u]};t.timeOffset=function(u,I,va){return(u=r[u])?u.offset(I,va):void 0};t.timeSequence=function(u,I,va,La){return(u=r[u])?u.range(I,va,La):void 0};t.timeUnitSpecifier=function(u,I){I=l.extend({},Ia,I);u=R(u);const va=u.length;let La="",Xa,ab,Z;for(Xa=0;Xa<va;)for(ab=u.length;ab>Xa;--ab)if(Z=u.slice(Xa,ab).join("-"),null!=I[Z]){La+=I[Z];Xa=ab;break}return La.trim()};t.timeUnits=R;t.utcFloor=function(u,I){return Lb(u,I||1,h,p,Bb)};t.utcInterval=function(u){return v[u]};
t.utcOffset=function(u,I,va){return(u=v[u])?u.offset(I,va):void 0};t.utcSequence=function(u,I,va,La){return(u=v[u])?u.range(I,va,La):void 0};t.utcdayofyear=function(u){return rb(new Date(u))};t.utcweek=function(u){return Fb(new Date(u))};t.week=function(u){return Sb(new Date(u))};Object.defineProperty(t,"__esModule",{value:!0})})};
shadow$provide[51]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(50),Eb(49)):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l(t.vega={},t.vega,t.vega))})(this,function(t,l,R){function hb(L){const fa={};return Sa=>fa[Sa]||(fa[Sa]=L(Sa))}function Cb(L,fa){if(0>(fa=(L=fa?L.toExponential(fa-1):L.toExponential()).indexOf("e")))return null;var Sa=L.slice(0,fa);return[1<
Sa.length?Sa[0]+Sa.slice(2):Sa,+L.slice(fa+1)]}function Yb(L){return L=Cb(Math.abs(L)),L?L[1]:NaN}function sc(L,fa){return function(Sa,cc){for(var Jc=Sa.length,Bc=[],$c=0,pd=L[0],ee=0;0<Jc&&0<pd;){ee+pd+1>cc&&(pd=Math.max(1,cc-ee));Bc.push(Sa.substring(Jc-=pd,Jc+pd));if((ee+=pd+1)>cc)break;pd=L[$c=($c+1)%L.length]}return Bc.reverse().join(fa)}}function zc(L){return function(fa){return fa.replace(/[0-9]/g,function(Sa){return L[+Sa]})}}function pc(L){if(!(fa=Ud.exec(L)))throw Error("invalid format: "+
L);var fa;return new Ab({fill:fa[1],align:fa[2],sign:fa[3],symbol:fa[4],zero:fa[5],width:fa[6],comma:fa[7],precision:fa[8]&&fa[8].slice(1),trim:fa[9],type:fa[10]})}function Ab(L){this.fill=void 0===L.fill?" ":L.fill+"";this.align=void 0===L.align?"\x3e":L.align+"";this.sign=void 0===L.sign?"-":L.sign+"";this.symbol=void 0===L.symbol?"":L.symbol+"";this.zero=!!L.zero;this.width=void 0===L.width?void 0:+L.width;this.comma=!!L.comma;this.precision=void 0===L.precision?void 0:+L.precision;this.trim=!!L.trim;
this.type=void 0===L.type?"":L.type+""}function jc(L,fa){fa=Cb(L,fa);if(!fa)return L+"";L=fa[0];fa=fa[1];return 0>fa?"0."+Array(-fa).join("0")+L:L.length>fa+1?L.slice(0,fa+1)+"."+L.slice(fa+1):L+Array(fa-L.length+2).join("0")}function Sb(L){return L}function Ua(L){function fa(eb){function qc(Fc){var bd=Me,Gc=$e,Jd,Zd;if("c"===ve)Gc=sf(Fc)+Gc,Fc="";else{Fc=+Fc;var $d=0>Fc||0>1/Fc;Fc=isNaN(Fc)?Ra:sf(Math.abs(Fc),Cd);if(be){var ke=Fc.length,Q=1,ea=-1;a:for(;Q<ke;++Q)switch(Fc[Q]){case ".":ea=Jd=Q;break;
case "0":0===ea&&(ea=Q);Jd=Q;break;default:if(!+Fc[Q])break a;0<ea&&(ea=0)}Fc=0<ea?Fc.slice(0,ea)+Fc.slice(Jd+1):Fc}$d&&0===+Fc&&"+"!==Uc&&($d=!1);bd=($d?"("===Uc?Uc:ee:"-"===Uc||"("===Uc?"":Uc)+bd;Gc=("s"===ve?na[8+Ye/3]:"")+Gc+($d&&"("===Uc?")":"");if(nd)for($d=-1,Jd=Fc.length;++$d<Jd;)if(Zd=Fc.charCodeAt($d),48>Zd||57<Zd){Gc=(46===Zd?Bc+Fc.slice($d+1):Fc.slice($d))+Gc;Fc=Fc.slice(0,$d);break}}Ld&&!td&&(Fc=Sa(Fc,Infinity));Zd=bd.length+Fc.length+Gc.length;$d=Zd<kd?Array(kd-Zd+1).join(wd):"";Ld&&
td&&(Fc=Sa($d+Fc,$d.length?kd-Gc.length:Infinity),$d="");switch(Mc){case "\x3c":Fc=bd+Fc+Gc+$d;break;case "\x3d":Fc=bd+$d+Fc+Gc;break;case "^":Fc=$d.slice(0,Zd=$d.length>>1)+bd+Fc+Gc+$d.slice(Zd);break;default:Fc=$d+bd+Fc+Gc}return $c(Fc)}eb=pc(eb);var wd=eb.fill,Mc=eb.align,Uc=eb.sign,Qc=eb.symbol,td=eb.zero,kd=eb.width,Ld=eb.comma,Cd=eb.precision,be=eb.trim,ve=eb.type;"n"===ve?(Ld=!0,ve="g"):Wd[ve]||(void 0===Cd&&(Cd=12),be=!0,ve="g");if(td||"0"===wd&&"\x3d"===Mc)td=!0,wd="0",Mc="\x3d";var Me="$"===
Qc?cc:"#"===Qc&&/[boxX]/.test(ve)?"0"+ve.toLowerCase():"",$e="$"===Qc?Jc:/[%p]/.test(ve)?pd:"",sf=Wd[ve],nd=/[defgprs%]/.test(ve);Cd=void 0===Cd?6:/[gprs]/.test(ve)?Math.max(1,Math.min(21,Cd)):Math.max(0,Math.min(20,Cd));qc.toString=function(){return eb+""};return qc}var Sa=void 0===L.grouping||void 0===L.thousands?Sb:sc(P.call(L.grouping,Number),L.thousands+""),cc=void 0===L.currency?"":L.currency[0]+"",Jc=void 0===L.currency?"":L.currency[1]+"",Bc=void 0===L.decimal?".":L.decimal+"",$c=void 0===
L.numerals?Sb:zc(P.call(L.numerals,String)),pd=void 0===L.percent?"%":L.percent+"",ee=void 0===L.minus?"":L.minus+"",Ra=void 0===L.nan?"NaN":L.nan+"";return{format:fa,formatPrefix:function(eb,qc){var wd=fa((eb=pc(eb),eb.type="f",eb));eb=3*Math.max(-8,Math.min(8,Math.floor(Yb(qc)/3)));var Mc=Math.pow(10,-eb),Uc=na[8+eb/3];return function(Qc){return wd(Mc*Qc)+Uc}}}}function rb(L,fa){return Sa=>{Sa=L(Sa);const cc=Sa.indexOf(fa);if(0>cc)return Sa;a:{var Jc=Sa.lastIndexOf("e");if(!(0<Jc)){for(Jc=Sa.length;--Jc>
cc;){var Bc=Sa.charCodeAt(Jc);if(48<=Bc&&57>=Bc){Jc+=1;break a}}Jc=void 0}}for(Bc=Jc<Sa.length?Sa.slice(Jc):"";--Jc>cc;)if("0"!==Sa[Jc]){++Jc;break}return Sa.slice(0,Jc)+Bc}}function Fb(L){const fa=hb(L.format),Sa=L.formatPrefix;return{format:fa,formatPrefix:Sa,formatFloat(cc){cc=pc(cc||",");if(null==cc.precision){cc.precision=12;switch(cc.type){case "%":cc.precision-=2;break;case "e":--cc.precision}return rb(fa(cc),fa(".1f")(1)[1])}return fa(cc)},formatSpan(cc,Jc,Bc,$c){$c=pc(null==$c?",f":$c);var pd=
Math.abs(Jc-cc)/Math.max(0,Bc);Bc=Math.pow(10,Math.floor(Math.log(pd)/Math.LN10));pd/=Bc;pd>=Ed?Bc*=10:pd>=Yd?Bc*=5:pd>=ae&&(Bc*=2);Bc=Jc<cc?-Bc:Bc;cc=Math.max(Math.abs(cc),Math.abs(Jc));if(null==$c.precision)switch($c.type){case "s":return Jc=isNaN,Bc=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Yb(cc)/3)))-Yb(Math.abs(Bc))),Jc(Jc=Bc)||($c.precision=Jc),Sa($c,cc);case "":case "e":case "g":case "p":case "r":Jc=isNaN;Bc=Math.abs(Bc);cc=Math.abs(cc)-Bc;cc=Math.max(0,Yb(cc)-Yb(Bc))+1;Jc(Jc=cc)||($c.precision=
Jc-("e"===$c.type));break;case "f":case "%":isNaN(Jc=Math.max(0,-Yb(Math.abs(Bc))))||($c.precision=Jc-2*("%"===$c.type))}return fa($c)}}}function Hb(){return Zb=Fb({format:fb,formatPrefix:Jb})}function Bb(L){return Fb(Ua(L))}function Lb(L){return arguments.length?Zb=Bb(L):Zb}function Wa(L,fa,Sa,cc){function Jc(Bc){return L(Bc=0===arguments.length?new Date:new Date(+Bc)),Bc}Jc.floor=function(Bc){return L(Bc=new Date(+Bc)),Bc};Jc.ceil=function(Bc){return L(Bc=new Date(Bc-1)),fa(Bc,1),L(Bc),Bc};Jc.round=
function(Bc){var $c=Jc(Bc),pd=Jc.ceil(Bc);return Bc-$c<pd-Bc?$c:pd};Jc.offset=function(Bc,$c){return fa(Bc=new Date(+Bc),null==$c?1:Math.floor($c)),Bc};Jc.range=function(Bc,$c,pd){var ee=[],Ra;Bc=Jc.ceil(Bc);pd=null==pd?1:Math.floor(pd);if(!(Bc<$c&&0<pd))return ee;do ee.push(Ra=new Date(+Bc)),fa(Bc,pd),L(Bc);while(Ra<Bc&&Bc<$c);return ee};Jc.filter=function(Bc){return Wa(function($c){if($c>=$c)for(;L($c),!Bc($c);)$c.setTime($c-1)},function($c,pd){if($c>=$c)if(0>pd)for(;0>=++pd;)for(;fa($c,-1),!Bc($c););
else for(;0<=--pd;)for(;fa($c,1),!Bc($c););})};Sa&&(Jc.count=function(Bc,$c){Cc.setTime(+Bc);mc.setTime(+$c);L(Cc);L(mc);return Math.floor(Sa(Cc,mc))},Jc.every=function(Bc){Bc=Math.floor(Bc);return isFinite(Bc)&&0<Bc?1<Bc?Jc.filter(cc?function($c){return 0===cc($c)%Bc}:function($c){return 0===Jc.count(0,$c)%Bc}):Jc:null});return Jc}function pb(L){return Wa(function(fa){fa.setDate(fa.getDate()-(fa.getDay()+7-L)%7);fa.setHours(0,0,0,0)},function(fa,Sa){fa.setDate(fa.getDate()+7*Sa)},function(fa,Sa){return(Sa-
fa-6E4*(Sa.getTimezoneOffset()-fa.getTimezoneOffset()))/6048E5})}function Na(L){return Wa(function(fa){fa.setUTCDate(fa.getUTCDate()-(fa.getUTCDay()+7-L)%7);fa.setUTCHours(0,0,0,0)},function(fa,Sa){fa.setUTCDate(fa.getUTCDate()+7*Sa)},function(fa,Sa){return(Sa-fa)/6048E5})}function Da(L){if(0<=L.y&&100>L.y){var fa=new Date(-1,L.m,L.d,L.H,L.M,L.S,L.L);fa.setFullYear(L.y);return fa}return new Date(L.y,L.m,L.d,L.H,L.M,L.S,L.L)}function Ia(L){if(0<=L.y&&100>L.y){var fa=new Date(Date.UTC(-1,L.m,L.d,L.H,
L.M,L.S,L.L));fa.setUTCFullYear(L.y);return fa}return new Date(Date.UTC(L.y,L.m,L.d,L.H,L.M,L.S,L.L))}function kb(L,fa,Sa){return{y:L,m:fa,d:Sa,H:0,M:0,S:0,L:0}}function mb(L){function fa(nd,Fc){return function(bd){var Gc=[],Jd=-1,Zd=0,$d=nd.length,ke,Q;for(bd instanceof Date||(bd=new Date(+bd));++Jd<$d;)if(37===nd.charCodeAt(Jd)){Gc.push(nd.slice(Zd,Jd));null!=(Zd=ef[ke=nd.charAt(++Jd)])?ke=nd.charAt(++Jd):Zd="e"===ke?" ":"0";if(Q=Fc[ke])ke=Q(bd,Zd);Gc.push(ke);Zd=Jd+1}Gc.push(nd.slice(Zd,Jd));return Gc.join("")}}
function Sa(nd,Fc){return function(bd){var Gc=kb(1900,void 0,1);if(cc(Gc,nd,bd+="",0)!=bd.length)return null;if("Q"in Gc)return new Date(Gc.Q);if("s"in Gc)return new Date(1E3*Gc.s+("L"in Gc?Gc.L:0));!Fc||"Z"in Gc||(Gc.Z=0);"p"in Gc&&(Gc.H=Gc.H%12+12*Gc.p);void 0===Gc.m&&(Gc.m="q"in Gc?Gc.q:0);if("V"in Gc){if(1>Gc.V||53<Gc.V)return null;"w"in Gc||(Gc.w=1);if("Z"in Gc){bd=Ia(kb(Gc.y,0,1));var Jd=bd.getUTCDay();bd=4<Jd||0===Jd?qe.ceil(bd):qe(bd);bd=Xd.offset(bd,7*(Gc.V-1));Gc.y=bd.getUTCFullYear();Gc.m=
bd.getUTCMonth();Gc.d=bd.getUTCDate()+(Gc.w+6)%7}else bd=Da(kb(Gc.y,0,1)),Jd=bd.getDay(),bd=4<Jd||0===Jd?Nc.ceil(bd):Nc(bd),bd=Hc.offset(bd,7*(Gc.V-1)),Gc.y=bd.getFullYear(),Gc.m=bd.getMonth(),Gc.d=bd.getDate()+(Gc.w+6)%7}else if("W"in Gc||"U"in Gc)"w"in Gc||(Gc.w="u"in Gc?Gc.u%7:"W"in Gc?1:0),Jd="Z"in Gc?Ia(kb(Gc.y,0,1)).getUTCDay():Da(kb(Gc.y,0,1)).getDay(),Gc.m=0,Gc.d="W"in Gc?(Gc.w+6)%7+7*Gc.W-(Jd+5)%7:Gc.w+7*Gc.U-(Jd+6)%7;return"Z"in Gc?(Gc.H+=Gc.Z/100|0,Gc.M+=Gc.Z%100,Ia(Gc)):Da(Gc)}}function cc(nd,
Fc,bd,Gc){for(var Jd=0,Zd=Fc.length,$d=bd.length,ke;Jd<Zd;){if(Gc>=$d)return-1;ke=Fc.charCodeAt(Jd++);if(37===ke){if(ke=Fc.charAt(Jd++),ke=sf[ke in ef?Fc.charAt(Jd++):ke],!ke||0>(Gc=ke(nd,bd,Gc)))return-1}else if(ke!=bd.charCodeAt(Gc++))return-1}return Gc}var Jc=L.dateTime,Bc=L.date,$c=L.time,pd=L.periods,ee=L.days,Ra=L.shortDays,eb=L.months,qc=L.shortMonths,wd=qb(pd),Mc=Ob(pd),Uc=qb(ee),Qc=Ob(ee),td=qb(Ra),kd=Ob(Ra),Ld=qb(eb),Cd=Ob(eb),be=qb(qc),ve=Ob(qc),Me={a:function(nd){return Ra[nd.getDay()]},
A:function(nd){return ee[nd.getDay()]},b:function(nd){return qc[nd.getMonth()]},B:function(nd){return eb[nd.getMonth()]},c:null,d:F,e:F,f:va,g:dd,G:Rc,H:aa,I:O,j:u,L:I,m:La,M:Xa,p:function(nd){return pd[+(12<=nd.getHours())]},q:function(nd){return 1+~~(nd.getMonth()/3)},Q:oc,s:ec,S:ab,u:Z,U:Ca,V:Kb,w:xc,W:rc,x:null,X:null,y:yc,Y:$b,Z:Pd,"%":Gb},$e={a:function(nd){return Ra[nd.getUTCDay()]},A:function(nd){return ee[nd.getUTCDay()]},b:function(nd){return qc[nd.getUTCMonth()]},B:function(nd){return eb[nd.getUTCMonth()]},
c:null,d:Pa,e:Pa,f:dc,g:za,G:$a,H:Wb,I:sb,j:Tb,L:ic,m:Ic,M:Ac,p:function(nd){return pd[+(12<=nd.getUTCHours())]},q:function(nd){return 1+~~(nd.getUTCMonth()/3)},Q:oc,s:ec,S:Zc,u:Nd,U:ud,V:gb,w:wb,W:ua,x:null,X:null,y:H,Y:Qa,Z:lb,"%":Gb},sf={a:function(nd,Fc,bd){return(Fc=td.exec(Fc.slice(bd)))?(nd.w=kd.get(Fc[0].toLowerCase()),bd+Fc[0].length):-1},A:function(nd,Fc,bd){return(Fc=Uc.exec(Fc.slice(bd)))?(nd.w=Qc.get(Fc[0].toLowerCase()),bd+Fc[0].length):-1},b:function(nd,Fc,bd){return(Fc=be.exec(Fc.slice(bd)))?
(nd.m=ve.get(Fc[0].toLowerCase()),bd+Fc[0].length):-1},B:function(nd,Fc,bd){return(Fc=Ld.exec(Fc.slice(bd)))?(nd.m=Cd.get(Fc[0].toLowerCase()),bd+Fc[0].length):-1},c:function(nd,Fc,bd){return cc(nd,Jc,Fc,bd)},d:N,e:N,f:h,g:cb,G:Ga,H:g,I:g,j:S,L:E,m:x,M:z,p:function(nd,Fc,bd){return(Fc=wd.exec(Fc.slice(bd)))?(nd.p=Mc.get(Fc[0].toLowerCase()),bd+Fc[0].length):-1},q:pa,Q:r,s:v,S:m,u:ob,U:ra,V:Y,w:Vb,W:Ea,x:function(nd,Fc,bd){return cc(nd,Bc,Fc,bd)},X:function(nd,Fc,bd){return cc(nd,$c,Fc,bd)},y:cb,Y:Ga,
Z:ca,"%":p};Me.x=fa(Bc,Me);Me.X=fa($c,Me);Me.c=fa(Jc,Me);$e.x=fa(Bc,$e);$e.X=fa($c,$e);$e.c=fa(Jc,$e);return{format:function(nd){var Fc=fa(nd+="",Me);Fc.toString=function(){return nd};return Fc},parse:function(nd){var Fc=Sa(nd+="",!1);Fc.toString=function(){return nd};return Fc},utcFormat:function(nd){var Fc=fa(nd+="",$e);Fc.toString=function(){return nd};return Fc},utcParse:function(nd){var Fc=Sa(nd+="",!0);Fc.toString=function(){return nd};return Fc}}}function Ma(L,fa,Sa){var cc=0>L?"-":"";L=(cc?
-L:L)+"";var Jc=L.length;return cc+(Jc<Sa?Array(Sa-Jc+1).join(fa)+L:L)}function vb(L){return L.replace(W,"\\$\x26")}function qb(L){return new RegExp("^(?:"+L.map(vb).join("|")+")","i")}function Ob(L){return new Map(L.map((fa,Sa)=>[fa.toLowerCase(),Sa]))}function Vb(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+1)))?(L.w=+fa[0],Sa+fa[0].length):-1}function ob(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+1)))?(L.u=+fa[0],Sa+fa[0].length):-1}function ra(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(L.U=+fa[0],
Sa+fa[0].length):-1}function Y(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(L.V=+fa[0],Sa+fa[0].length):-1}function Ea(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(L.W=+fa[0],Sa+fa[0].length):-1}function Ga(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+4)))?(L.y=+fa[0],Sa+fa[0].length):-1}function cb(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(L.y=+fa[0]+(68<+fa[0]?1900:2E3),Sa+fa[0].length):-1}function ca(L,fa,Sa){return(fa=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(fa.slice(Sa,Sa+6)))?(L.Z=fa[1]?
0:-(fa[2]+(fa[3]||"00")),Sa+fa[0].length):-1}function pa(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+1)))?(L.q=3*fa[0]-3,Sa+fa[0].length):-1}function x(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(L.m=fa[0]-1,Sa+fa[0].length):-1}function N(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(L.d=+fa[0],Sa+fa[0].length):-1}function S(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+3)))?(L.m=0,L.d=+fa[0],Sa+fa[0].length):-1}function g(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(L.H=+fa[0],Sa+fa[0].length):
-1}function z(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(L.M=+fa[0],Sa+fa[0].length):-1}function m(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+2)))?(L.S=+fa[0],Sa+fa[0].length):-1}function E(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+3)))?(L.L=+fa[0],Sa+fa[0].length):-1}function h(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa,Sa+6)))?(L.L=Math.floor(fa[0]/1E3),Sa+fa[0].length):-1}function p(L,fa,Sa){return(L=nf.exec(fa.slice(Sa,Sa+1)))?Sa+L[0].length:-1}function r(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa)))?
(L.Q=+fa[0],Sa+fa[0].length):-1}function v(L,fa,Sa){return(fa=pe.exec(fa.slice(Sa)))?(L.s=+fa[0],Sa+fa[0].length):-1}function F(L,fa){return Ma(L.getDate(),fa,2)}function aa(L,fa){return Ma(L.getHours(),fa,2)}function O(L,fa){return Ma(L.getHours()%12||12,fa,2)}function u(L,fa){return Ma(1+Hc.count(Fd(L),L),fa,3)}function I(L,fa){return Ma(L.getMilliseconds(),fa,3)}function va(L,fa){return I(L,fa)+"000"}function La(L,fa){return Ma(L.getMonth()+1,fa,2)}function Xa(L,fa){return Ma(L.getMinutes(),fa,
2)}function ab(L,fa){return Ma(L.getSeconds(),fa,2)}function Z(L){L=L.getDay();return 0===L?7:L}function Ca(L,fa){return Ma(jd.count(Fd(L)-1,L),fa,2)}function Ya(L){var fa=L.getDay();return 4<=fa||0===fa?vd(L):vd.ceil(L)}function Kb(L,fa){L=Ya(L);return Ma(vd.count(Fd(L),L)+(4===Fd(L).getDay()),fa,2)}function xc(L){return L.getDay()}function rc(L,fa){return Ma(Nc.count(Fd(L)-1,L),fa,2)}function yc(L,fa){return Ma(L.getFullYear()%100,fa,2)}function dd(L,fa){L=Ya(L);return Ma(L.getFullYear()%100,fa,
2)}function $b(L,fa){return Ma(L.getFullYear()%1E4,fa,4)}function Rc(L,fa){var Sa=L.getDay();L=4<=Sa||0===Sa?vd(L):vd.ceil(L);return Ma(L.getFullYear()%1E4,fa,4)}function Pd(L){L=L.getTimezoneOffset();return(0<L?"-":(L*=-1,"+"))+Ma(L/60|0,"0",2)+Ma(L%60,"0",2)}function Pa(L,fa){return Ma(L.getUTCDate(),fa,2)}function Wb(L,fa){return Ma(L.getUTCHours(),fa,2)}function sb(L,fa){return Ma(L.getUTCHours()%12||12,fa,2)}function Tb(L,fa){return Ma(1+Xd.count(df(L),L),fa,3)}function ic(L,fa){return Ma(L.getUTCMilliseconds(),
fa,3)}function dc(L,fa){return ic(L,fa)+"000"}function Ic(L,fa){return Ma(L.getUTCMonth()+1,fa,2)}function Ac(L,fa){return Ma(L.getUTCMinutes(),fa,2)}function Zc(L,fa){return Ma(L.getUTCSeconds(),fa,2)}function Nd(L){L=L.getUTCDay();return 0===L?7:L}function ud(L,fa){return Ma(Od.count(df(L)-1,L),fa,2)}function Ha(L){var fa=L.getUTCDay();return 4<=fa||0===fa?De(L):De.ceil(L)}function gb(L,fa){L=Ha(L);return Ma(De.count(df(L),L)+(4===df(L).getUTCDay()),fa,2)}function wb(L){return L.getUTCDay()}function ua(L,
fa){return Ma(qe.count(df(L)-1,L),fa,2)}function H(L,fa){return Ma(L.getUTCFullYear()%100,fa,2)}function za(L,fa){L=Ha(L);return Ma(L.getUTCFullYear()%100,fa,2)}function Qa(L,fa){return Ma(L.getUTCFullYear()%1E4,fa,4)}function $a(L,fa){var Sa=L.getUTCDay();L=4<=Sa||0===Sa?De(L):De.ceil(L);return Ma(L.getUTCFullYear()%1E4,fa,4)}function lb(){return"+0000"}function Gb(){return"%"}function oc(L){return+L}function ec(L){return Math.floor(+L/1E3)}function kc(L,fa,Sa){Sa=Sa||{};R.isObject(Sa)||R.error(`Invalid time multi-format specifier: ${Sa}`);
const cc=fa(l.SECONDS),Jc=fa(l.MINUTES),Bc=fa(l.HOURS),$c=fa(l.DATE),pd=fa(l.WEEK),ee=fa(l.MONTH),Ra=fa(l.QUARTER),eb=fa(l.YEAR),qc=L(Sa[l.MILLISECONDS]||".%L"),wd=L(Sa[l.SECONDS]||":%S"),Mc=L(Sa[l.MINUTES]||"%I:%M"),Uc=L(Sa[l.HOURS]||"%I %p"),Qc=L(Sa[l.DATE]||Sa[l.DAY]||"%a %d"),td=L(Sa[l.WEEK]||"%b %d"),kd=L(Sa[l.MONTH]||"%B"),Ld=L(Sa[l.QUARTER]||"%B"),Cd=L(Sa[l.YEAR]||"%Y");return be=>(cc(be)<be?qc:Jc(be)<be?wd:Bc(be)<be?Mc:$c(be)<be?Uc:ee(be)<be?pd(be)<be?Qc:td:eb(be)<be?Ra(be)<be?kd:Ld:Cd)(be)}
function Sc(L){const fa=hb(L.format),Sa=hb(L.utcFormat);return{timeFormat:cc=>R.isString(cc)?fa(cc):kc(fa,l.timeInterval,cc),utcFormat:cc=>R.isString(cc)?Sa(cc):kc(Sa,l.utcInterval,cc),timeParse:hb(L.parse),utcParse:hb(L.utcParse)}}function ed(){return ac=Sc({format:db,parse:yb,utcFormat:hc,utcParse:Ec})}function fd(L){return Sc(mb(L))}function Qd(L){return arguments.length?ac=fd(L):ac}function Td(L,fa){var Sa=arguments.length;Sa&&2!==Sa&&R.error("defaultLocale expects either zero or two arguments.");
if(Sa){Sa=Lb(L);var cc=Qd(fa);Sa=R.extend({},Sa,cc)}else Sa=Lb(),cc=Qd(),Sa=R.extend({},Sa,cc);return Sa}var Ed=Math.sqrt(50),Yd=Math.sqrt(10),ae=Math.sqrt(2),Ud=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;pc.prototype=Ab.prototype;Ab.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?
"~":"")+this.type};var Ye,Wd={"%":(L,fa)=>(100*L).toFixed(fa),b:L=>Math.round(L).toString(2),c:L=>L+"",d:function(L){return 1E21<=Math.abs(L=Math.round(L))?L.toLocaleString("en").replace(/,/g,""):L.toString(10)},e:(L,fa)=>L.toExponential(fa),f:(L,fa)=>L.toFixed(fa),g:(L,fa)=>L.toPrecision(fa),o:L=>Math.round(L).toString(8),p:(L,fa)=>jc(100*L,fa),r:jc,s:function(L,fa){var Sa=Cb(L,fa);if(!Sa)return L+"";var cc=Sa[0];Sa=Sa[1];Sa=Sa-(Ye=3*Math.max(-8,Math.min(8,Math.floor(Sa/3))))+1;var Jc=cc.length;
return Sa===Jc?cc:Sa>Jc?cc+Array(Sa-Jc+1).join("0"):0<Sa?cc.slice(0,Sa)+"."+cc.slice(Sa):"0."+Array(1-Sa).join("0")+Cb(L,Math.max(0,fa+Sa-1))[0]},X:L=>Math.round(L).toString(16).toUpperCase(),x:L=>Math.round(L).toString(16)},P=Array.prototype.map,na="y z a f p n  m  k M G T P E Z Y".split(" "),Aa,fb,Jb;(function(L){Aa=Ua(L);fb=Aa.format;Jb=Aa.formatPrefix;return Aa})({thousands:",",grouping:[3],currency:["$",""]});let Zb;Hb();var Cc=new Date,mc=new Date,Hc=Wa(L=>L.setHours(0,0,0,0),(L,fa)=>L.setDate(L.getDate()+
fa),(L,fa)=>(fa-L-6E4*(fa.getTimezoneOffset()-L.getTimezoneOffset()))/864E5,L=>L.getDate()-1),jd=pb(0),Nc=pb(1);pb(2);pb(3);var vd=pb(4);pb(5);pb(6);var Gd=Wa(function(L){L.setMonth(0,1);L.setHours(0,0,0,0)},function(L,fa){L.setFullYear(L.getFullYear()+fa)},function(L,fa){return fa.getFullYear()-L.getFullYear()},function(L){return L.getFullYear()});Gd.every=function(L){return isFinite(L=Math.floor(L))&&0<L?Wa(function(fa){fa.setFullYear(Math.floor(fa.getFullYear()/L)*L);fa.setMonth(0,1);fa.setHours(0,
0,0,0)},function(fa,Sa){fa.setFullYear(fa.getFullYear()+Sa*L)}):null};var Fd=Gd,Xd=Wa(function(L){L.setUTCHours(0,0,0,0)},function(L,fa){L.setUTCDate(L.getUTCDate()+fa)},function(L,fa){return(fa-L)/864E5},function(L){return L.getUTCDate()-1}),Od=Na(0),qe=Na(1);Na(2);Na(3);var De=Na(4);Na(5);Na(6);var gf=Wa(function(L){L.setUTCMonth(0,1);L.setUTCHours(0,0,0,0)},function(L,fa){L.setUTCFullYear(L.getUTCFullYear()+fa)},function(L,fa){return fa.getUTCFullYear()-L.getUTCFullYear()},function(L){return L.getUTCFullYear()});
gf.every=function(L){return isFinite(L=Math.floor(L))&&0<L?Wa(function(fa){fa.setUTCFullYear(Math.floor(fa.getUTCFullYear()/L)*L);fa.setUTCMonth(0,1);fa.setUTCHours(0,0,0,0)},function(fa,Sa){fa.setUTCFullYear(fa.getUTCFullYear()+Sa*L)}):null};var df=gf,ef={"-":"",_:" ",0:"0"},pe=/^\s*\d+/,nf=/^%/,W=/[\\^$*+?|[\]().{}]/g,wa,db,yb,hc,Ec;(function(L){wa=mb(L);db=wa.format;yb=wa.parse;hc=wa.utcFormat;Ec=wa.utcParse;return wa})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],
days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});let ac;ed();t.defaultLocale=Td;t.locale=function(L,fa){L=L?Bb(L):Lb();fa=fa?fd(fa):Qd();return R.extend({},L,fa)};t.numberFormatDefaultLocale=Lb;t.numberFormatLocale=Bb;t.resetDefaultLocale=function(){Hb();
ed();return Td()};t.resetNumberFormatDefaultLocale=Hb;t.resetTimeFormatDefaultLocale=ed;t.timeFormatDefaultLocale=Qd;t.timeFormatLocale=fd;Object.defineProperty(t,"__esModule",{value:!0})})};
shadow$provide[52]=function(fc,Eb,Wc,nb){var t=Eb(26).Buffer;(function(l,R){"object"===typeof nb&&"undefined"!==typeof Wc?R(nb,Eb(49),Eb(21),Eb(51)):"function"===typeof define&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],R):(l="undefined"!==typeof globalThis?globalThis:l||self,R(l.vega={},l.vega,l.topojson,l.vega))})(this,function(l,R,hb,Cb){function Yb(ca,pa){const x=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const N=yield x.sanitize(ca,pa),
S=N.href;return N.localFile?x.file(S):x.http(S,pa)})}function sc(ca,pa){const x=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){pa=R.extend({},x.options,pa);const N=x.fileAccess,S={href:null};var g;let z;var m=Ma.test(ca.replace(vb,""));null!=ca&&"string"===typeof ca&&m||R.error("Sanitize failure, invalid URI: "+R.stringValue(ca));m=mb.test(ca);(g=pa.baseURL)&&!m&&(ca.startsWith("/")||g.endsWith("/")||(ca="/"+ca),ca=g+ca);z=(g=ca.startsWith("file://"))||"file"===pa.mode||"http"!==
pa.mode&&!m&&N;g?ca=ca.slice(7):ca.startsWith("//")&&("file"===pa.defaultProtocol?(ca=ca.slice(2),z=!0):ca=(pa.defaultProtocol||"http")+":"+ca);Object.defineProperty(S,"localFile",{value:!!z});S.href=ca;pa.target&&(S.target=pa.target+"");pa.rel&&(S.rel=pa.rel+"");"image"===pa.context&&pa.crossOrigin&&(S.crossOrigin=pa.crossOrigin+"");return S})}function zc(ca){return ca?pa=>new Promise((x,N)=>{ca.readFile(pa,(S,g)=>{S?N(S):x(g)})}):pc}function pc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){R.error("No file system access.")})}
function Ab(ca){return ca?function(pa,x){const N=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var S=R.extend({},N.options.http,x);const g=x&&x.response;S=yield ca(pa,S);return S.ok?R.isFunction(S[g])?S[g]():S.text():R.error(S.status+""+S.statusText)})}:jc}function jc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){R.error("No HTTP fetch method available.")})}function Sb(ca,pa){if(!ca||!ca.length)return"unknown";const x=ca.length,N=Vb.length,S=Vb.map((g,z)=>
z+1);for(let g=0,z=0,m,E;g<x;++g)for(E=pa?ca[g][pa]:ca[g],m=0;m<N;++m)if(S[m]&&null!=E&&E===E&&!Vb[m](E)&&(S[m]=0,++z,z===Vb.length))return"string";return ob[S.reduce((g,z)=>0===g?z:g,0)-1]}function Ua(ca,pa){return pa.reduce((x,N)=>{x[N]=Sb(ca,N);return x},{})}function rb(ca){return new Function("d","return {"+ca.map(function(pa,x){return JSON.stringify(pa)+": d["+x+'] || ""'}).join(",")+"}")}function Fb(ca,pa){var x=rb(ca);return function(N,S){return pa(x(N),S,ca)}}function Hb(ca){var pa=Object.create(null),
x=[];ca.forEach(function(N){for(var S in N)S in pa||x.push(pa[S]=S)});return x}function Bb(ca,pa){ca+="";var x=ca.length;return x<pa?Array(pa-x+1).join(0)+ca:ca}function Lb(ca){function pa(m,E){function h(){if(O)return Y;if(u)return u=!1,ra;var va,La=v,Xa;if(34===m.charCodeAt(La)){for(;v++<r&&34!==m.charCodeAt(v)||34===m.charCodeAt(++v););(va=v)>=r?O=!0:10===(Xa=m.charCodeAt(v++))?u=!0:13===Xa&&(u=!0,10===m.charCodeAt(v)&&++v);return m.slice(La+1,va-1).replace(/""/g,'"')}for(;v<r;){if(10===(Xa=m.charCodeAt(va=
v++)))u=!0;else if(13===Xa)u=!0,10===m.charCodeAt(v)&&++v;else if(Xa!==z)continue;return m.slice(La,va)}return O=!0,m.slice(La,r)}var p=[],r=m.length,v=0,F=0,aa,O=0>=r,u=!1;10===m.charCodeAt(r-1)&&--r;for(13===m.charCodeAt(r-1)&&--r;(aa=h())!==Y;){for(var I=[];aa!==ra&&aa!==Y;)I.push(aa),aa=h();E&&null==(I=E(I,F++))||p.push(I)}return p}function x(m,E){return m.map(function(h){return E.map(function(p){return S(h[p])}).join(ca)})}function N(m){return m.map(S).join(ca)}function S(m){if(null==m)m="";
else{if(m instanceof Date){var E=m.getUTCHours();var h=m.getUTCMinutes(),p=m.getUTCSeconds(),r=m.getUTCMilliseconds();if(isNaN(m))m="Invalid Date";else{var v=m.getUTCFullYear();m=(0>v?"-"+Bb(-v,6):9999<v?"+"+Bb(v,6):Bb(v,4))+"-"+Bb(m.getUTCMonth()+1,2)+"-"+Bb(m.getUTCDate(),2)+(r?"T"+Bb(E,2)+":"+Bb(h,2)+":"+Bb(p,2)+"."+Bb(r,3)+"Z":p?"T"+Bb(E,2)+":"+Bb(h,2)+":"+Bb(p,2)+"Z":h||E?"T"+Bb(E,2)+":"+Bb(h,2)+"Z":"")}E=m}else E=g.test(m+="")?'"'+m.replace(/"/g,'""')+'"':m;m=E}return m}var g=new RegExp('["'+
ca+"\n\r]"),z=ca.charCodeAt(0);return{parse:function(m,E){var h,p;m=pa(m,function(r,v){if(h)return h(r,v-1);p=r;h=E?Fb(r,E):rb(r)});m.columns=p||[];return m},parseRows:pa,format:function(m,E){null==E&&(E=Hb(m));return[E.map(S).join(ca)].concat(x(m,E)).join("\n")},formatBody:function(m,E){null==E&&(E=Hb(m));return x(m,E).join("\n")},formatRows:function(m){return m.map(N).join("\n")},formatRow:N,formatValue:S}}function Wa(ca){const pa=function(x,N){const S={delimiter:ca};return pb(x,N?R.extend(N,S):
S)};pa.responseType="text";return pa}function pb(ca,pa){pa.header&&(ca=pa.header.map(R.stringValue).join(pa.delimiter)+"\n"+ca);return Lb(pa.delimiter).parse(ca+"")}function Na(ca,pa){const x=pa&&pa.property?R.field(pa.property):R.identity;var N;if(N=R.isObject(ca))N=!("function"===typeof t&&R.isFunction(t.isBuffer)&&t.isBuffer(ca));N?(ca=x(ca),!R.isArray(ca)&&R.isIterable(ca)&&(ca=[...ca]),pa=pa&&pa.copy?JSON.parse(JSON.stringify(ca)):ca):pa=x(JSON.parse(ca));return pa}function Da(ca,pa){let x,N,
S,g;ca=Na(ca,pa);pa&&pa.feature?(x=hb.feature,S=pa.feature):pa&&pa.mesh?(x=hb.mesh,S=pa.mesh,g=Ea[pa.filter]):R.error("Missing TopoJSON feature or mesh parameter.");return(N=(N=ca.objects[S])?x(ca,N,g):R.error("Invalid TopoJSON object: "+S))&&N.features||[N]}function Ia(ca,pa){return 1<arguments.length?(Ga[ca]=pa,this):R.hasOwnProperty(Ga,ca)?Ga[ca]:null}function kb(ca,pa,x,N){if(ca.length){var S=Cb.timeFormatDefaultLocale();x=x||S.timeParse;N=N||S.utcParse;S=ca.columns||Object.keys(ca[0]);var g,
z;"auto"===pa&&(pa=Ua(ca,S));S=Object.keys(pa);var m=S.map(v=>{var F=pa[v];if(F&&(F.startsWith("date:")||F.startsWith("utc:"))){v=F.split(/:(.+)?/,2);F=v[1];if("'"===F[0]&&"'"===F[F.length-1]||'"'===F[0]&&'"'===F[F.length-1])F=F.slice(1,-1);return("utc"===v[0]?N:x)(F)}if(!Ob[F])throw Error("Illegal format pattern: "+v+":"+F);return Ob[F]});var E=0;var h=ca.length;for(z=S.length;E<h;++E){var p=ca[E];for(g=0;g<z;++g){var r=S[g];p[r]=m[g](p[r])}}}}const mb=/^(data:|([A-Za-z]+:)?\/\/)/,Ma=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
vb=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,qb=ca=>!Number.isNaN(+ca)&&!(ca instanceof Date),Ob={boolean:R.toBoolean,integer:R.toNumber,number:R.toNumber,date:R.toDate,string:R.toString,unknown:R.identity},Vb=[ca=>"true"===ca||"false"===ca||!0===ca||!1===ca,ca=>qb(ca)&&Number.isInteger(+ca),qb,ca=>!Number.isNaN(Date.parse(ca))],ob=["boolean","integer","number","date"];var ra={},Y={};pb.responseType="text";Na.responseType="json";const Ea={interior:(ca,pa)=>ca!==pa,exterior:(ca,
pa)=>ca===pa};Da.responseType="json";const Ga={dsv:pb,csv:Wa(","),tsv:Wa("\t"),json:Na,topojson:Da},cb=function(ca,pa){return x=>({options:x||{},sanitize:sc,load:Yb,fileAccess:!!pa,file:zc(pa),http:Ab(ca)})}("undefined"!==typeof fetch&&fetch,null);l.format=Ga;l.formats=Ia;l.inferType=Sb;l.inferTypes=Ua;l.loader=cb;l.read=function(ca,pa,x,N){pa=pa||{};const S=Ia(pa.type||"json");S||R.error("Unknown data format type: "+pa.type);ca=S(ca,pa);pa.parse&&kb(ca,pa.parse,x,N);R.hasOwnProperty(ca,"columns")&&
delete ca.columns;return ca};l.responseType=function(ca){return(ca=Ia(ca))&&ca.responseType||"text"};l.typeParsers=Ob;Object.defineProperty(l,"__esModule",{value:!0})})};
shadow$provide[53]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(49),Eb(52),Eb(51)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l(t.vega={},t.vega,t.vega,t.vega))})(this,function(t,l,R,hb){function Cb(g){const z=g||l.identity,m=[],E={};m.add=h=>{const p=z(h);E[p]||(E[p]=1,m.push(h));return m};m.remove=h=>{const p=z(h);E[p]&&(E[p]=0,h=m.indexOf(h),
0<=h&&m.splice(h,1));return m};return m}function Yb(g,z){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield z(g)}catch(m){g.error(m)}})}function sc(g){g=g===Object(g)?g:{data:g};if(!g[Y]){var z=Ea++;g[Y]=z}return g}function zc(g,z){for(const m in g)z[m]=g[m];return z}function pc(g){return g&&g.constructor===Ab}function Ab(){const g=[],z=[],m=[],E=[],h=[];let p=null,r=!1;return{constructor:Ab,insert(v){v=l.array(v);const F=v.length;for(let aa=0;aa<F;++aa)g.push(v[aa]);return this},
remove(v){const F=l.isFunction(v)?E:z;v=l.array(v);const aa=v.length;for(let O=0;O<aa;++O)F.push(v[O]);return this},modify(v,F,aa){F={field:F,value:l.constant(aa)};l.isFunction(v)?(F.filter=v,h.push(F)):(F.tuple=v,m.push(F));return this},encode(v,F){l.isFunction(v)?h.push({filter:v,field:F}):m.push({tuple:v,field:F});return this},clean(v){p=v;return this},reflow(){r=!0;return this},pulse(v,F){function aa(Ca,Ya,Kb){Kb?Ca[Ya]=Kb(Ca):v.encode=Ya;r||(u[Ca[Y]]=Ca)}const O={},u={};let I,va,La,Xa,ab,Z;I=
0;for(va=F.length;I<va;++I)O[F[I][Y]]=1;I=0;for(va=z.length;I<va;++I)ab=z[I],O[ab[Y]]=-1;I=0;for(va=E.length;I<va;++I)Xa=E[I],F.forEach(Ca=>{Xa(Ca)&&(O[Ca[Y]]=-1)});I=0;for(va=g.length;I<va;++I)ab=g[I],Z=ab[Y],O[Z]?O[Z]=1:v.add.push(sc(g[I]));I=0;for(va=F.length;I<va;++I)ab=F[I],0>O[ab[Y]]&&v.rem.push(ab);I=0;for(va=m.length;I<va;++I)La=m[I],ab=La.tuple,Xa=La.field,Z=O[ab[Y]],0<Z&&(aa(ab,Xa,La.value),v.modifies(Xa));I=0;for(va=h.length;I<va;++I)La=h[I],Xa=La.filter,F.forEach(Ca=>{Xa(Ca)&&0<O[Ca[Y]]&&
aa(Ca,La.field,La.value)}),v.modifies(La.field);if(r)v.mod=z.length||E.length?F.filter(Ca=>0<O[Ca[Y]]):F.slice();else for(Z in u)v.mod.push(u[Z]);(p||null==p&&(z.length||E.length))&&v.clean(!0);return v}}}function jc(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function Sb(g,z,m,E){this.id=++Ga;this.value=g;this.qrank=this.rank=this.stamp=-1;this.flags=0;z&&(this._update=z);m&&this.parameters(m,E)}function Ua(g){return function(z){const m=this.flags;if(0===arguments.length)return!!(m&
g);this.flags=z?m|g:m&~g;return this}}function rb(g,z,m){this.id=++ca;this.value=null;m&&(this.receive=m);g&&(this._filter=g);z&&(this._apply=z)}function Fb(g,z,m){return new rb(g,z,m)}function Hb(g){let z;const m=new Promise(E=>z=E);m.requests=0;m.done=()=>{0===--m.requests&&(g._pending=null,z(g))};return g._pending=m}function Bb(g,z,m,E,h,p){const r=l.extend({},p,pa);let v;l.isFunction(m)||(m=l.constant(m));void 0===E?h=F=>g.touch(m(F)):l.isFunction(E)?(v=new Sb(null,E,h,!1),h=F=>{v.evaluate(F);
F=m(F);const aa=v.value;pc(aa)?g.pulse(F,aa,p):g.update(F,aa,r)}):h=F=>g.update(m(F),E,r);z.apply(h)}function Lb(g,z,m,E,h,p){void 0===E?z.targets().add(m):(p=p||{},E=new Sb(null,Wa(m,E),h,!1),E.modified(p.force),E.rank=z.rank,z.targets().add(E),m&&(E.skip(!0),E.value=m.value,E.targets().add(m),g.connect(m,[E])))}function Wa(g,z){z=l.isFunction(z)?z:l.constant(z);return g?function(m,E){m=z(m,E);g.skip()||(g.skip(m!==this.value).value=m);return m}:z}function pb(g,z,m){this.dataflow=g;this.stamp=null==
z?-1:z;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=m||null}function Na(g,z){const m=[];l.visitArray(g,z,E=>m.push(E));return m}function Da(g,z){const m={};g.visit(z,E=>{m[E[Y]]=1});return E=>m[E[Y]]?null:E}function Ia(g,z){return g?(m,E)=>g(m,E)&&z(m,E):z}function kb(g,z,m,E){const h=m.length;let p=0;this.dataflow=g;this.stamp=z;this.fields=null;this.encode=E||null;this.pulses=m;for(g=0;g<h;++g)if(E=m[g],E.stamp===z){if(E.fields){const r=this.fields||(this.fields={});for(const v in E.fields)r[v]=
1}E.changed(this.ADD)&&(p|=this.ADD);E.changed(this.REM)&&(p|=this.REM);E.changed(this.MOD)&&(p|=this.MOD)}this.changes=p}function mb(g){g.error("Dataflow already running. Use runAsync() to chain invocations.");return g}function Ma(g,z){if(z&&z.stamp===g.stamp)return z;g=g.fork();z&&z!==x&&(g.source=z.source);return g}function vb(g){let z=[];return{clear:()=>z=[],size:()=>z.length,peek:()=>z[0],push:m=>{z.push(m);return qb(z,0,z.length-1,g)},pop:()=>{var m=z.pop();let E;if(z.length){E=z[0];z[0]=m;
m=z;var h=0;const p=h,r=m.length,v=m[h];let F=(h<<1)+1,aa;for(;F<r;)aa=F+1,aa<r&&0<=g(m[F],m[aa])&&(F=aa),m[h]=m[F],h=F,F=(h<<1)+1;m[h]=v;qb(m,p,h,g)}else E=m;return E}}}function qb(g,z,m,E){let h,p;const r=g[m];for(;m>z;)if(p=m-1>>1,h=g[p],0>E(r,h))g[m]=h,m=p;else break;return g[m]=r}function Ob(){this.logger(l.logger());this.logLevel(l.Error);this._rank=this._clock=0;this._locale=hb.defaultLocale();try{this._loader=R.loader()}catch(g){}this._touched=Cb(l.id);this._input={};this._pulse=null;this._heap=
vb((g,z)=>g.qrank-z.qrank);this._postrun=[]}function Vb(g){return function(){return this._log[g].apply(this,arguments)}}function ob(g,z){Sb.call(this,g,null,z)}function ra(g){g=g&&g.toLowerCase();return l.hasOwnProperty(S,g)?S[g]:null}const Y=Symbol("vega_id");let Ea=1;jc.prototype={set(g,z,m,E){const h=this[g],p=this["_:mod:_"];if(null!=z&&0<=z){if(h[z]!==m||E)h[z]=m,p[z+":"+g]=-1,p[g]=-1}else if(h!==m||E)this[g]=m,p[g]=l.isArray(m)?1+m.length:-1;return this},modified(g,z){const m=this["_:mod:_"];
if(!arguments.length){for(var E in m)if(m[E])return!0;return!1}if(l.isArray(g)){for(E=0;E<g.length;++E)if(m[g[E]])return!0;return!1}return null!=z&&0<=z?z+1<m[g]||!!m[z+":"+g]:!!m[g]},clear(){this["_:mod:_"]={};return this}};let Ga=0;const cb=new jc;Sb.prototype={targets(){return this._targets||(this._targets=Cb(l.id))},set(g){return this.value!==g?(this.value=g,1):0},skip:Ua(1),modified:Ua(2),parameters(g,z,m){z=!1!==z;const E=this._argval=this._argval||new jc,h=this._argops=this._argops||[],p=[];
let r,v,F,aa;const O=(u,I,va)=>{va instanceof Sb?(va!==this&&(z&&va.targets().add(this),p.push(va)),h.push({op:va,name:u,index:I})):E.set(u,I,va)};for(r in g)if(v=g[r],"pulse"===r)l.array(v).forEach(u=>{u instanceof Sb?u!==this&&(u.targets().add(this),p.push(u)):l.error("Pulse parameters must be operator instances.")}),this.source=v;else if(l.isArray(v))for(E.set(r,-1,Array(F=v.length)),aa=0;aa<F;++aa)O(r,aa,v[aa]);else O(r,-1,v);this.marshall().clear();m&&(h.initonly=!0);return p},marshall(g){const z=
this._argval||cb,m=this._argops;let E,h,p,r;if(m){const v=m.length;for(h=0;h<v;++h)E=m[h],p=E.op,r=p.modified()&&p.stamp===g,z.set(E.name,E.index,p.value,r);if(m.initonly){for(h=0;h<v;++h)E=m[h],E.op.targets().remove(this);this._update=this._argops=null}}return z},detach(){const g=this._argops;let z,m;if(g)for(z=0,m=g.length;z<m;++z){var E=g[z];E=E.op;E._targets&&E._targets.remove(this)}this.source=this.pulse=null},evaluate(g){var z=this._update;if(z){const m=this.marshall(g.stamp);z=z.call(this,
m,g);m.clear();if(z!==this.value)this.value=z;else if(!this.modified())return g.StopPropagation}},run(g){if(g.stamp<this.stamp)return g.StopPropagation;let z;this.skip()?(this.skip(!1),z=0):z=this.evaluate(g);return this.pulse=z||g}};let ca=0;rb.prototype={_filter:l.truthy,_apply:l.identity,targets(){return this._targets||(this._targets=Cb(l.id))},consume(g){if(!arguments.length)return!!this._consume;this._consume=!!g;return this},receive(g){if(this._filter(g)){const z=this.value=this._apply(g),m=
this._targets,E=m?m.length:0;for(let h=0;h<E;++h)m[h].receive(z);this._consume&&(g.preventDefault(),g.stopPropagation())}},filter(g){g=Fb(g);this.targets().add(g);return g},apply(g){g=Fb(null,g);this.targets().add(g);return g},merge(){const g=Fb();this.targets().add(g);for(let z=0,m=arguments.length;z<m;++z)arguments[z].targets().add(g);return g},throttle(g){let z=-1;return this.filter(()=>{const m=Date.now();return m-z>g?(z=m,1):0})},debounce(g){const z=Fb();this.targets().add(Fb(null,null,l.debounce(g,
m=>{const E=m.dataflow;z.receive(m);E&&E.run&&E.run()})));return z},between(g,z){let m=!1;g.targets().add(Fb(null,null,()=>m=!0));z.targets().add(Fb(null,null,()=>m=!1));return this.filter(()=>m)},detach(){this._filter=l.truthy;this._targets=null}};const pa={skip:!0},x={};pb.prototype={StopPropagation:x,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(g){return(new pb(this.dataflow)).init(this,g)},clone(){const g=this.fork(7);g.add=g.add.slice();g.rem=
g.rem.slice();g.mod=g.mod.slice();g.source&&(g.source=g.source.slice());return g.materialize(23)},addAll(){let g=this;g.source&&g.add!==g.rem&&(g.rem.length||g.source.length!==g.add.length)&&(g=(new pb(this.dataflow)).init(this),g.add=g.source,g.rem=[]);return g},init(g,z){this.stamp=g.stamp;this.encode=g.encode;!g.fields||z&64||(this.fields=g.fields);z&1?(this.addF=g.addF,this.add=g.add):(this.addF=null,this.add=[]);z&2?(this.remF=g.remF,this.rem=g.rem):(this.remF=null,this.rem=[]);z&4?(this.modF=
g.modF,this.mod=g.mod):(this.modF=null,this.mod=[]);z&32?this.source=this.srcF=null:(this.srcF=g.srcF,this.source=g.source,g.cleans&&(this.cleans=g.cleans));return this},runAfter(g){this.dataflow.runAfter(g)},changed(g){g=g||7;return g&1&&this.add.length||g&2&&this.rem.length||g&4&&this.mod.length},reflow(g){if(g)return this.fork(7).reflow();g=this.add.length;const z=this.source&&this.source.length;z&&z!==g&&(this.mod=this.source,g&&this.filter(4,Da(this,1)));return this},clean(g){return arguments.length?
(this.cleans=!!g,this):this.cleans},modifies(g){const z=this.fields||(this.fields={});l.isArray(g)?g.forEach(m=>z[m]=!0):z[g]=!0;return this},modified(g,z){const m=this.fields;return(z||this.mod.length)&&m?arguments.length?l.isArray(g)?g.some(E=>m[E]):m[g]:!!m:!1},filter(g,z){g&1&&(this.addF=Ia(this.addF,z));g&2&&(this.remF=Ia(this.remF,z));g&4&&(this.modF=Ia(this.modF,z));g&16&&(this.srcF=Ia(this.srcF,z));return this},materialize(g){g=g||7;g&1&&this.addF&&(this.add=Na(this.add,this.addF),this.addF=
null);g&2&&this.remF&&(this.rem=Na(this.rem,this.remF),this.remF=null);g&4&&this.modF&&(this.mod=Na(this.mod,this.modF),this.modF=null);g&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(g,z){if(g&16)return l.visitArray(this.source,this.srcF,z),this;g&1&&l.visitArray(this.add,this.addF,z);g&2&&l.visitArray(this.rem,this.remF,z);g&4&&l.visitArray(this.mod,this.modF,z);const m=this.source;g&8&&m&&(g=this.add.length+this.mod.length,g!==m.length&&(g?l.visitArray(m,
Da(this,5),z):l.visitArray(m,this.srcF,z)));return this}};l.inherits(kb,pb,{fork(g){const z=(new pb(this.dataflow)).init(this,g&this.NO_FIELDS);void 0!==g&&(g&z.ADD&&this.visit(z.ADD,m=>z.add.push(m)),g&z.REM&&this.visit(z.REM,m=>z.rem.push(m)),g&z.MOD&&this.visit(z.MOD,m=>z.mod.push(m)));return z},changed(g){return this.changes&g},modified(g){const z=this.fields;return z&&this.changes&this.MOD?l.isArray(g)?g.some(m=>z[m]):z[g]:0},filter(){l.error("MultiPulse does not support filtering.")},materialize(){l.error("MultiPulse does not support materialization.")},
visit(g,z){const m=this.pulses,E=m.length;let h=0;if(g&this.SOURCE)for(;h<E;++h)m[h].visit(g,z);else for(;h<E;++h)m[h].stamp===this.stamp&&m[h].visit(g,z);return this}});const N={skip:!1,force:!1};Ob.prototype={stamp(){return this._clock},loader(g){return arguments.length?(this._loader=g,this):this._loader},locale(g){return arguments.length?(this._locale=g,this):this._locale},logger(g){return arguments.length?(this._log=g,this):this._log},error:Vb("error"),warn:Vb("warn"),info:Vb("info"),debug:Vb("debug"),
logLevel:Vb("level"),cleanThreshold:1E4,add:function(g,z,m,E){let h=1;g instanceof Sb||(g&&g.prototype instanceof Sb?g=new g:l.isFunction(g)?g=new Sb(null,g):(h=0,g=new Sb(g,z)));this.rank(g);h&&(E=m,m=z);m&&this.connect(g,g.parameters(m,E));this.touch(g);return g},connect:function(g,z){const m=g.rank,E=z.length;for(let h=0;h<E;++h)if(m<z[h].rank){this.rerank(g);break}},rank:function(g){g.rank=++this._rank},rerank:function(g){const z=[g];let m,E,h;for(;z.length;)if(this.rank(m=z.pop()),E=m._targets)for(h=
E.length;0<=--h;)z.push(m=E[h]),m===g&&l.error("Cycle detected in dataflow graph.")},pulse:function(g,z,m){this.touch(g,m||N);m=new pb(this,this._clock+(this._pulse?0:1));const E=g.pulse&&g.pulse.source||[];m.target=g;this._input[g.id]=z.pulse(m,E);return this},touch:function(g,z){z=z||N;this._pulse?this._enqueue(g):this._touched.add(g);z.skip&&g.skip(!0);return this},update:function(g,z,m){m=m||N;(g.set(z)||m.force)&&this.touch(g,m);return this},changeset:Ab,ingest:function(g,z,m){z=this.parse(z,
m);return this.pulse(g,this.changeset().insert(z))},parse:function(g,z){const m=this.locale();return R.read(g,z,m.timeParse,m.utcParse)},preload:function(g,z,m){const E=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const h=E._pending||Hb(E);h.requests+=1;const p=yield E.request(z,m);E.pulse(g,E.changeset().remove(l.truthy).insert(p.data||[]));h.done();return p})},request:function(g,z){const m=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let E=0,h;try{h=
yield m.loader().load(g,{context:"dataflow",response:R.responseType(z&&z.type)});try{h=m.parse(h,z)}catch(p){E=-2,m.warn("Data ingestion failed",g,p)}}catch(p){E=-1,m.warn("Loading failed",g,p)}return{data:h,status:E}})},events:function(g,z,m,E){const h=this,p=Fb(m,E);m=function(r){r.dataflow=h;try{p.receive(r)}catch(v){h.error(v)}finally{h.run()}};g="string"===typeof g&&"undefined"!==typeof document?document.querySelectorAll(g):l.array(g);E=g.length;for(let r=0;r<E;++r)g[r].addEventListener(z,m);
return p},on:function(g,z,m,E,h){(g instanceof Sb?Lb:Bb)(this,g,z,m,E,h);return this},evaluate:function(g,z,m){const E=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const h=[];if(E._pulse)return mb(E);E._pending&&(yield E._pending);z&&(yield Yb(E,z));if(!E._touched.length)return E.debug("Dataflow invoked, but nothing to do."),E;var p=++E._clock;E._pulse=new pb(E,p,g);E._touched.forEach(O=>E._enqueue(O,!0));E._touched=Cb(l.id);var r=0;let v,F,aa;try{for(;0<E._heap.size();)v=
E._heap.pop(),v.rank!==v.qrank?E._enqueue(v,!0):(F=v.run(E._getPulse(v,g)),F.then?F=yield F:F.async&&(h.push(F.async),F=x),F!==x&&v._targets&&v._targets.forEach(O=>E._enqueue(O)),++r)}catch(O){E._heap.clear(),aa=O}E._input={};E._pulse=null;E.debug(`Pulse ${p}: ${r} operators`);aa&&(E._postrun=[],E.error(aa));if(E._postrun.length)for(p=E._postrun.sort((O,u)=>u.priority-O.priority),E._postrun=[],r=0;r<p.length;++r)yield Yb(E,p[r].callback);m&&(yield Yb(E,m));h.length&&Promise.all(h).then(O=>E.runAsync(null,
()=>{O.forEach(u=>{try{u(E)}catch(I){E.error(I)}})}));return E})},run:function(g,z,m){return this._pulse?mb(this):(this.evaluate(g,z,m),this)},runAsync:function(g,z,m){const E=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;E._running;)yield E._running;const h=()=>E._running=null;(E._running=E.evaluate(g,z,m)).then(h,h);return E._running})},runAfter:function(g,z,m){if(this._pulse||z)this._postrun.push({priority:m||0,callback:g});else try{g(this)}catch(E){this.error(E)}},
_enqueue:function(g,z){const m=g.stamp<this._clock;m&&(g.stamp=this._clock);if(m||z)g.qrank=g.rank,this._heap.push(g)},_getPulse:function(g,z){const m=g.source,E=this._clock;return m&&l.isArray(m)?new kb(this,E,m.map(h=>h.pulse),z):this._input[g.id]||Ma(this._pulse,m&&m.pulse)}};l.inherits(ob,Sb,{run(g){if(g.stamp<this.stamp)return g.StopPropagation;let z;this.skip()?this.skip(!1):z=this.evaluate(g);z=z||g;z.then?z=z.then(m=>this.pulse=m):z!==g.StopPropagation&&(this.pulse=z);return z},evaluate(g){const z=
this.marshall(g.stamp);g=this.transform(z,g);z.clear();return g},transform(){}});const S={};t.Dataflow=Ob;t.EventStream=rb;t.MultiPulse=kb;t.Operator=Sb;t.Parameters=jc;t.Pulse=pb;t.Transform=ob;t.UniqueList=Cb;t.asyncCallback=Yb;t.changeset=Ab;t.definition=function(g){return(g=ra(g))&&g.Definition||null};t.derive=function(g){return zc(g,sc({}))};t.ingest=sc;t.isChangeSet=pc;t.isTuple=function(g){return!(!g||!g[Y])};t.rederive=zc;t.replace=function(g,z){z[Y]=g[Y];return z};t.stableCompare=function(g,
z){return g?z?(m,E)=>g(m,E)||z(m)[Y]-z(E)[Y]:(m,E)=>g(m,E)||m[Y]-E[Y]:null};t.transform=ra;t.transforms=S;t.tupleid=function(g){return g[Y]};Object.defineProperty(t,"__esModule",{value:!0})})};
shadow$provide[54]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(29),Eb(53),Eb(49)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l(t.vega={},t.vega,t.vega,t.vega))})(this,function(t,l,R,hb){function Cb(pc,Ab){var jc=[],Sb=function(Wa){return Wa(Hb)},Ua;if(null==Ab)jc.push(pc);else{var rb={};var Fb=0;for(Ua=pc.length;Fb<Ua;++Fb){var Hb=pc[Fb];
var Bb=Ab.map(Sb);var Lb=rb[Bb];Lb||(rb[Bb]=Lb=[],Lb.dims=Bb,jc.push(Lb));Lb.push(Hb)}}return jc}function Yb(pc){R.Transform.call(this,null,pc)}function sc(pc){R.Transform.call(this,null,pc)}Yb.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};hb.inherits(Yb,R.Transform,{transform(pc,Ab){const jc=Ab.fork(Ab.NO_SOURCE|
Ab.NO_FIELDS);if(!this.value||Ab.changed()||pc.modified()){Ab=Ab.materialize(Ab.SOURCE).source;Ab=Cb(Ab,pc.groupby);const Sb=(pc.groupby||[]).map(hb.accessorName),Ua=Sb.length,rb=pc.as||[hb.accessorName(pc.x),hb.accessorName(pc.y)],Fb=[];Ab.forEach(Hb=>{l.regressionLoess(Hb,pc.x,pc.y,pc.bandwidth||.3).forEach(Bb=>{const Lb={};for(let Wa=0;Wa<Ua;++Wa)Lb[Sb[Wa]]=Hb.dims[Wa];Lb[rb[0]]=Bb[0];Lb[rb[1]]=Bb[1];Fb.push(R.ingest(Lb))})});this.value&&(jc.rem=this.value);this.value=jc.add=jc.source=Fb}return jc}});
const zc={constant:l.regressionConstant,linear:l.regressionLinear,log:l.regressionLog,exp:l.regressionExp,pow:l.regressionPow,quad:l.regressionQuad,poly:l.regressionPoly};sc.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(zc)},{name:"order",type:"number","default":3},{name:"extent",type:"number",array:!0,length:2},
{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};hb.inherits(sc,R.Transform,{transform(pc,Ab){const jc=Ab.fork(Ab.NO_SOURCE|Ab.NO_FIELDS);if(!this.value||Ab.changed()||pc.modified()){var Sb=Ab.materialize(Ab.SOURCE).source;Sb=Cb(Sb,pc.groupby);const Ua=(pc.groupby||[]).map(hb.accessorName),rb=pc.method||"linear",Fb=null==pc.order?3:pc.order,Hb="poly"===rb?Fb:"quad"===rb?2:1,Bb=pc.as||[hb.accessorName(pc.x),hb.accessorName(pc.y)],Lb=zc[rb],Wa=[];let pb=pc.extent;hb.hasOwnProperty(zc,
rb)||hb.error("Invalid regression method: "+rb);null!=pb&&"log"===rb&&0>=pb[0]&&(Ab.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),pb=null);Sb.forEach(Na=>{if(Na.length<=Hb)Ab.dataflow.warn("Skipping regression with more parameters than data points.");else{var Da=Lb(Na,pc.x,pc.y,Fb);if(pc.params)Wa.push(R.ingest({keys:Na.dims,coef:Da.coef,rSquared:Da.rSquared}));else{var Ia=pb||hb.extent(Na,pc.x),kb=mb=>{const Ma={};for(let vb=0;vb<Ua.length;++vb)Ma[Ua[vb]]=Na.dims[vb];
Ma[Bb[0]]=mb[0];Ma[Bb[1]]=mb[1];Wa.push(R.ingest(Ma))};"linear"===rb||"constant"===rb?Ia.forEach(mb=>kb([mb,Da.predict(mb)])):l.sampleCurve(Da.predict,Ia,25,200).forEach(kb)}}});this.value&&(jc.rem=this.value);this.value=jc.add=jc.source=Wa}return jc}});t.loess=Yb;t.regression=sc})};
shadow$provide[55]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(28),Eb(20)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l((t.vega=t.vega||{},t.vega.transforms={}),t.vega,t.vega))})(this,function(t,l,R){function hb(ra,Y,Ea,Ga,cb){let ca,pa;let x=Y[0],N=Ga[0],S=0,g=0;N>x===N>-x?(ca=x,x=Y[++S]):(ca=N,N=Ga[++g]);let z=0;if(S<ra&&g<Ea){if(N>x===N>-x){pa=x+ca;
var m=ca-(pa-x);x=Y[++S]}else pa=N+ca,m=ca-(pa-N),N=Ga[++g];ca=pa;for(0!==m&&(cb[z++]=m);S<ra&&g<Ea;)N>x===N>-x?(pa=ca+x,m=pa-ca,m=ca-(pa-m)+(x-m),x=Y[++S]):(pa=ca+N,m=pa-ca,m=ca-(pa-m)+(N-m),N=Ga[++g]),ca=pa,0!==m&&(cb[z++]=m)}for(;S<ra;)pa=ca+x,m=pa-ca,m=ca-(pa-m)+(x-m),x=Y[++S],ca=pa,0!==m&&(cb[z++]=m);for(;g<Ea;)pa=ca+N,m=pa-ca,m=ca-(pa-m)+(N-m),N=Ga[++g],ca=pa,0!==m&&(cb[z++]=m);if(0!==ca||0===z)cb[z++]=ca;return z}function Cb(ra,Y,Ea,Ga,cb,ca){var pa=(Y-ca)*(Ea-cb),x=(ra-cb)*(Ga-ca),N=pa-x;
if(0===pa||0===x||0<pa!==0<x)return N;pa=Math.abs(pa+x);if(Math.abs(N)>=3.3306690738754716E-16*pa)return N;{let p;N=ra-cb;const r=Ea-cb;x=Y-ca;const v=Ga-ca;var S=N*v;var g=134217729*N;var z=g-(g-N);var m=N-z;g=134217729*v;g-=g-v;p=v-g;var E=m*p-(S-z*g-m*g-z*p);var h=x*r;g=134217729*x;z=g-(g-x);m=x-z;g=134217729*r;g-=g-r;p=r-g;g=m*p-(h-z*g-m*g-z*p);m=E-g;z=E-m;Bb[0]=E-(m+z)+(z-g);E=S+m;z=E-S;S=S-(E-z)+(m-z);m=S-h;z=S-m;Bb[1]=S-(m+z)+(z-h);h=E+m;z=h-E;Bb[2]=E-(h-z)+(m-z);Bb[3]=h;h=Bb[0];for(S=1;4>
S;S++)h+=Bb[S];S=2.2204460492503146E-16*pa;h>=S||-h>=S?Ga=h:(z=ra-N,ra=ra-(N+z)+(z-cb),z=Ea-r,Ea=Ea-(r+z)+(z-cb),z=Y-x,Y=Y-(x+z)+(z-ca),z=Ga-v,Ga=Ga-(v+z)+(z-ca),0===ra&&0===Y&&0===Ea&&0===Ga?Ga=h:(S=1.1093356479670487E-31*pa+3.3306690738754706E-16*Math.abs(h),h+=N*Ga+v*ra-(x*Ea+r*Y),h>=S||-h>=S?Ga=h:(S=ra*v,g=134217729*ra,z=g-(g-ra),m=ra-z,g=134217729*v,g-=g-v,p=v-g,E=m*p-(S-z*g-m*g-z*p),h=Y*r,g=134217729*Y,z=g-(g-Y),m=Y-z,g=134217729*r,g-=g-r,p=r-g,g=m*p-(h-z*g-m*g-z*p),m=E-g,z=E-m,Na[0]=E-(m+z)+
(z-g),E=S+m,z=E-S,S=S-(E-z)+(m-z),m=S-h,z=S-m,Na[1]=S-(m+z)+(z-h),h=E+m,z=h-E,Na[2]=E-(h-z)+(m-z),Na[3]=h,ca=hb(4,Bb,4,Na,Lb),S=N*Ga,g=134217729*N,z=g-(g-N),m=N-z,g=134217729*Ga,g-=g-Ga,p=Ga-g,E=m*p-(S-z*g-m*g-z*p),h=x*Ea,g=134217729*x,z=g-(g-x),m=x-z,g=134217729*Ea,g-=g-Ea,p=Ea-g,g=m*p-(h-z*g-m*g-z*p),m=E-g,z=E-m,Na[0]=E-(m+z)+(z-g),E=S+m,z=E-S,S=S-(E-z)+(m-z),m=S-h,z=S-m,Na[1]=S-(m+z)+(z-h),h=E+m,z=h-E,Na[2]=E-(h-z)+(m-z),Na[3]=h,ca=hb(ca,Lb,4,Na,Wa),S=ra*Ga,g=134217729*ra,z=g-(g-ra),m=ra-z,g=134217729*
Ga,g-=g-Ga,p=Ga-g,E=m*p-(S-z*g-m*g-z*p),h=Y*Ea,g=134217729*Y,z=g-(g-Y),m=Y-z,g=134217729*Ea,g-=g-Ea,p=Ea-g,g=m*p-(h-z*g-m*g-z*p),m=E-g,z=E-m,Na[0]=E-(m+z)+(z-g),E=S+m,z=E-S,S=S-(E-z)+(m-z),m=S-h,z=S-m,Na[1]=S-(m+z)+(z-h),h=E+m,z=h-E,Na[2]=E-(h-z)+(m-z),Na[3]=h,Ga=hb(ca,Wa,4,Na,pb),Ga=pb[Ga-1])))}return-Ga}function Yb(ra,Y,Ea,Ga){ra-=Ea;Y-=Ga;return ra*ra+Y*Y}function sc(ra,Y,Ea,Ga){if(20>=Ga-Ea)for(var cb=Ea+1;cb<=Ga;cb++){for(var ca=ra[cb],pa=Y[ca],x=cb-1;x>=Ea&&Y[ra[x]]>pa;)ra[x+1]=ra[x--];ra[x+
1]=ca}else{cb=Ea+1;ca=Ga;zc(ra,Ea+Ga>>1,cb);Y[ra[Ea]]>Y[ra[Ga]]&&zc(ra,Ea,Ga);Y[ra[cb]]>Y[ra[Ga]]&&zc(ra,cb,Ga);Y[ra[Ea]]>Y[ra[cb]]&&zc(ra,Ea,cb);pa=ra[cb];for(x=Y[pa];;){do cb++;while(Y[ra[cb]]<x);do ca--;while(Y[ra[ca]]>x);if(ca<cb)break;zc(ra,cb,ca)}ra[Ea+1]=ra[ca];ra[ca]=pa;Ga-cb+1>=ca-Ea?(sc(ra,Y,cb,Ga),sc(ra,Y,Ea,ca-1)):(sc(ra,Y,Ea,ca-1),sc(ra,Y,cb,Ga))}}function zc(ra,Y,Ea){const Ga=ra[Y];ra[Y]=ra[Ea];ra[Ea]=Ga}function pc(ra){return ra[0]}function Ab(ra){return ra[1]}function jc(ra){return ra[0]}
function Sb(ra){return ra[1]}function Ua(ra){const {triangles:Y,coords:Ea}=ra;for(ra=0;ra<Y.length;ra+=3){const Ga=2*Y[ra],cb=2*Y[ra+1],ca=2*Y[ra+2];if(1E-10<(Ea[ca]-Ea[Ga])*(Ea[cb+1]-Ea[Ga+1])-(Ea[cb]-Ea[Ga])*(Ea[ca+1]-Ea[Ga+1]))return!1}return!0}function rb(ra,Y,Ea){return[ra+Math.sin(ra+Y)*Ea,Y+Math.cos(ra-Y)*Ea]}function*Fb(ra,Y,Ea,Ga){let cb=0;for(const ca of ra)yield Y.call(Ga,ca,cb,ra),yield Ea.call(Ga,ca,cb,ra),++cb}function Hb(ra){l.Transform.call(this,null,ra)}const Bb=new Float64Array(4),
Lb=new Float64Array(8),Wa=new Float64Array(12),pb=new Float64Array(16),Na=new Float64Array(4),Da=Math.pow(2,-52),Ia=new Uint32Array(512);class kb{static from(ra,Y=pc,Ea=Ab){const Ga=ra.length,cb=new Float64Array(2*Ga);for(let ca=0;ca<Ga;ca++){const pa=ra[ca];cb[2*ca]=Y(pa);cb[2*ca+1]=Ea(pa)}return new kb(cb)}constructor(ra){const Y=ra.length>>1;if(0<Y&&"number"!==typeof ra[0])throw Error("Expected coords to contain numbers.");this.coords=ra;ra=Math.max(2*Y-5,0);this._triangles=new Uint32Array(3*ra);
this._halfedges=new Int32Array(3*ra);this._hashSize=Math.ceil(Math.sqrt(Y));this._hullPrev=new Uint32Array(Y);this._hullNext=new Uint32Array(Y);this._hullTri=new Uint32Array(Y);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(Y);this._dists=new Float64Array(Y);this.update()}update(){const {coords:ra,_hullPrev:Y,_hullNext:Ea,_hullTri:Ga,_hullHash:cb}=this;var ca=ra.length>>1,pa=Infinity,x=Infinity,N=-Infinity,S=-Infinity;for(var g=0;g<ca;g++){var z=ra[2*g];var m=ra[2*
g+1];z<pa&&(pa=z);m<x&&(x=m);z>N&&(N=z);m>S&&(S=m);this._ids[g]=g}N=(pa+N)/2;x=(x+S)/2;pa=Infinity;for(S=0;S<ca;S++)if(g=Yb(N,x,ra[2*S],ra[2*S+1]),g<pa){var E=S;pa=g}x=ra[2*E];S=ra[2*E+1];pa=Infinity;for(N=0;N<ca;N++)if(N!==E&&(g=Yb(x,S,ra[2*N],ra[2*N+1]),g<pa&&0<g)){var h=N;pa=g}pa=ra[2*h];N=ra[2*h+1];m=Infinity;for(g=0;g<ca;g++)if(g!==E&&g!==h){z=pa-x;var p=N-S;var r=ra[2*g]-x;var v=ra[2*g+1]-S,F=z*z+p*p,aa=r*r+v*v,O=.5/(z*v-p*r);p=(v*F-p*aa)*O;z=(z*aa-r*F)*O;z=p*p+z*z;if(z<m){var u=g;m=z}}g=ra[2*
u];z=ra[2*u+1];if(Infinity===m){for(E=0;E<ca;E++)this._dists[E]=ra[2*E]-ra[0]||ra[2*E+1]-ra[1];sc(this._ids,this._dists,0,ca-1);E=new Uint32Array(ca);h=0;for(let I=0,va=-Infinity;I<ca;I++)u=this._ids[I],this._dists[u]>va&&(E[h++]=u,va=this._dists[u]);this.hull=E.subarray(0,h);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{0>Cb(x,S,pa,N,g,z)&&(m=h,r=pa,F=N,h=u,pa=g,N=z,u=m,g=r,z=F);r=pa-x;m=N-S;F=g-x;v=z-S;aa=r*r+m*m;O=F*F+v*v;p=.5/(r*v-m*F);m=x+(v*aa-m*O)*p;r=S+(r*O-F*aa)*
p;this._cx=m;this._cy=r;for(F=0;F<ca;F++)this._dists[F]=Yb(ra[2*F],ra[2*F+1],m,r);sc(this._ids,this._dists,0,ca-1);this._hullStart=E;ca=3;Ea[E]=Y[u]=h;Ea[h]=Y[E]=u;Ea[u]=Y[h]=E;Ga[E]=0;Ga[h]=1;Ga[u]=2;cb.fill(-1);cb[this._hashKey(x,S)]=E;cb[this._hashKey(pa,N)]=h;cb[this._hashKey(g,z)]=u;this.trianglesLen=0;this._addTriangle(E,h,u,-1,-1,-1);for(let I=0,va,La;I<this._ids.length;I++){x=this._ids[I];S=ra[2*x];pa=ra[2*x+1];if(0<I&&Math.abs(S-va)<=Da&&Math.abs(pa-La)<=Da)continue;va=S;La=pa;if(x===E||
x===h||x===u)continue;N=0;for(let ab=0,Z=this._hashKey(S,pa);ab<this._hashSize&&(N=cb[(Z+ab)%this._hashSize],-1===N||N===Ea[N]);ab++);g=N=Y[N];let Xa;for(;Xa=Ea[g],0<=Cb(S,pa,ra[2*g],ra[2*g+1],ra[2*Xa],ra[2*Xa+1]);)if(g=Xa,g===N){g=-1;break}if(-1!==g){z=this._addTriangle(g,x,Ea[g],-1,-1,Ga[g]);Ga[x]=this._legalize(z+2);Ga[g]=z;ca++;for(m=Ea[g];Xa=Ea[m],0>Cb(S,pa,ra[2*m],ra[2*m+1],ra[2*Xa],ra[2*Xa+1]);)z=this._addTriangle(m,x,Xa,Ga[x],-1,Ga[m]),Ga[x]=this._legalize(z+2),Ea[m]=m,ca--,m=Xa;if(g===N)for(;Xa=
Y[g],0>Cb(S,pa,ra[2*Xa],ra[2*Xa+1],ra[2*g],ra[2*g+1]);)z=this._addTriangle(Xa,x,g,-1,Ga[g],Ga[Xa]),this._legalize(z+2),Ga[Xa]=z,Ea[g]=g,ca--,g=Xa;this._hullStart=Y[x]=g;Ea[g]=Y[m]=x;Ea[x]=m;cb[this._hashKey(S,pa)]=x;cb[this._hashKey(ra[2*g],ra[2*g+1])]=g}}this.hull=new Uint32Array(ca);for(let I=0,va=this._hullStart;I<ca;I++)this.hull[I]=va,va=Ea[va];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(ra,Y){var Ea=Math;
ra-=this._cx;Y-=this._cy;ra/=Math.abs(ra)+Math.abs(Y);return Ea.floor.call(Ea,(0<Y?3-ra:1+ra)/4*this._hashSize)%this._hashSize}_legalize(ra){const {_triangles:Y,_halfedges:Ea,coords:Ga}=this;let cb=0;for(var ca;;){const m=Ea[ra];var pa=ra-ra%3;ca=pa+(ra+2)%3;if(-1===m){if(0===cb)break;ra=Ia[--cb];continue}const E=m-m%3,h=E+(m+2)%3;var x=Y[ca],N=Y[ra],S=Y[pa+(ra+1)%3];pa=Y[h];var g=Ga[2*pa],z=Ga[2*pa+1];const p=Ga[2*x]-g,r=Ga[2*x+1]-z,v=Ga[2*N]-g;N=Ga[2*N+1]-z;g=Ga[2*S]-g;z=Ga[2*S+1]-z;S=v*v+N*N;const F=
g*g+z*z;if(0>p*(N*F-S*z)-r*(v*F-S*g)+(p*p+r*r)*(v*z-N*g)){Y[ra]=pa;Y[m]=x;x=Ea[h];if(-1===x){pa=this._hullStart;do{if(this._hullTri[pa]===h){this._hullTri[pa]=ra;break}pa=this._hullPrev[pa]}while(pa!==this._hullStart)}this._link(ra,x);this._link(m,Ea[ca]);this._link(ca,h);ca=E+(m+1)%3;cb<Ia.length&&(Ia[cb++]=ca)}else{if(0===cb)break;ra=Ia[--cb]}}return ca}_link(ra,Y){this._halfedges[ra]=Y;-1!==Y&&(this._halfedges[Y]=ra)}_addTriangle(ra,Y,Ea,Ga,cb,ca){const pa=this.trianglesLen;this._triangles[pa]=
ra;this._triangles[pa+1]=Y;this._triangles[pa+2]=Ea;this._link(pa,Ga);this._link(pa+1,cb);this._link(pa+2,ca);this.trianglesLen+=3;return pa}}class mb{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(ra,Y){this._+=`M${this._x0=this._x1=+ra},${this._y0=this._y1=+Y}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(ra,Y){this._+=`L${this._x1=+ra},${this._y1=+Y}`}arc(ra,Y,Ea){ra=+ra;Y=+Y;Ea=+Ea;const Ga=ra+Ea,cb=Y;if(0>Ea)throw Error("negative radius");
if(null===this._x1)this._+=`M${Ga},${cb}`;else if(1E-6<Math.abs(this._x1-Ga)||1E-6<Math.abs(this._y1-cb))this._+="L"+Ga+","+cb;Ea&&(this._+=`A${Ea},${Ea},0,1,1,${ra-Ea},${Y}A${Ea},${Ea},0,1,1,${this._x1=Ga},${this._y1=cb}`)}rect(ra,Y,Ea,Ga){this._+=`M${this._x0=this._x1=+ra},${this._y0=this._y1=+Y}h${+Ea}v${+Ga}h${-Ea}Z`}value(){return this._||null}}class Ma{constructor(){this._=[]}moveTo(ra,Y){this._.push([ra,Y])}closePath(){this._.push(this._[0].slice())}lineTo(ra,Y){this._.push([ra,Y])}value(){return this._.length?
this._:null}}let vb=class{constructor(ra,[Y,Ea,Ga,cb]=[0,0,960,500]){if(!((Ga=+Ga)>=(Y=+Y)&&(cb=+cb)>=(Ea=+Ea)))throw Error("invalid bounds");this.delaunay=ra;this._circumcenters=new Float64Array(2*ra.points.length);this.vectors=new Float64Array(2*ra.points.length);this.xmax=Ga;this.xmin=Y;this.ymax=cb;this.ymin=Ea;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const {delaunay:{points:ra,hull:Y,triangles:Ea},vectors:Ga}=this;var cb=this.circumcenters=this._circumcenters.subarray(0,
Ea.length/3*2);for(let h=0,p=0,r=Ea.length,v,F;h<r;h+=3,p+=2){var ca=2*Ea[h],pa=2*Ea[h+1],x=2*Ea[h+2],N=ra[ca];ca=ra[ca+1];var S=ra[x],g=ra[x+1],z=ra[pa]-N,m=ra[pa+1]-ca;pa=S-N;x=g-ca;var E=2*(z*x-m*pa);1E-9>Math.abs(E)?(z=1E9,m=2*Ea[0],z*=Math.sign((ra[m]-N)*x-(ra[m+1]-ca)*pa),v=(N+S)/2-z*x,F=(ca+g)/2+z*pa):(S=1/E,g=z*z+m*m,E=pa*pa+x*x,v=N+(x*g-m*E)*S,F=ca+(z*E-pa*g)*S);cb[p]=v;cb[p+1]=F}cb=Y[Y.length-1];ca=4*cb;x=ra[2*cb];z=ra[2*cb+1];Ga.fill(0);for(g=0;g<Y.length;++g)cb=Y[g],N=ca,pa=x,S=z,ca=4*
cb,x=ra[2*cb],z=ra[2*cb+1],Ga[N+2]=Ga[ca]=S-z,Ga[N+3]=Ga[ca+1]=x-pa}render(ra){const Y=null==ra?ra=new mb:void 0,{delaunay:{halfedges:Ea,inedges:Ga,hull:cb},circumcenters:ca,vectors:pa}=this;if(1>=cb.length)return null;for(let z=0,m=Ea.length;z<m;++z){var x=Ea[z];if(!(x<z)){var N=2*Math.floor(z/3);x=2*Math.floor(x/3);this._renderSegment(ca[N],ca[N+1],ca[x],ca[x+1],ra)}}N=cb[cb.length-1];for(x=0;x<cb.length;++x){var S=N;N=cb[x];var g=2*Math.floor(Ga[N]/3);const z=ca[g];g=ca[g+1];S*=4;(S=this._project(z,
g,pa[S+2],pa[S+3]))&&this._renderSegment(z,g,S[0],S[1],ra)}return Y&&Y.value()}renderBounds(ra){const Y=null==ra?ra=new mb:void 0;ra.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return Y&&Y.value()}renderCell(ra,Y){const Ea=null==Y?Y=new mb:void 0;ra=this._clip(ra);if(null!==ra&&ra.length){Y.moveTo(ra[0],ra[1]);for(var Ga=ra.length;ra[0]===ra[Ga-2]&&ra[1]===ra[Ga-1]&&1<Ga;)Ga-=2;for(let cb=2;cb<Ga;cb+=2)ra[cb]===ra[cb-2]&&ra[cb+1]===ra[cb-1]||Y.lineTo(ra[cb],ra[cb+1]);Y.closePath();
return Ea&&Ea.value()}}*cellPolygons(){var {delaunay:{points:ra}}=this;for(let Y=0,Ea=ra.length/2;Y<Ea;++Y)if(ra=this.cellPolygon(Y))ra.index=Y,yield ra}cellPolygon(ra){const Y=new Ma;this.renderCell(ra,Y);return Y.value()}_renderSegment(ra,Y,Ea,Ga,cb){const ca=this._regioncode(ra,Y),pa=this._regioncode(Ea,Ga);if(0===ca&&0===pa)cb.moveTo(ra,Y),cb.lineTo(Ea,Ga);else if(ra=this._clipSegment(ra,Y,Ea,Ga,ca,pa))cb.moveTo(ra[0],ra[1]),cb.lineTo(ra[2],ra[3])}contains(ra,Y,Ea){return(Y=+Y,Y!==Y)||(Ea=+Ea,
Ea!==Ea)?!1:this.delaunay._step(ra,Y,Ea)===ra}*neighbors(ra){const Y=this._clip(ra);if(Y)for(const Ea of this.delaunay.neighbors(ra))if(ra=this._clip(Ea))a:for(let Ga=0,cb=Y.length;Ga<cb;Ga+=2)for(let ca=0,pa=ra.length;ca<pa;ca+=2)if(Y[Ga]==ra[ca]&&Y[Ga+1]==ra[ca+1]&&Y[(Ga+2)%cb]==ra[(ca+pa-2)%pa]&&Y[(Ga+3)%cb]==ra[(ca+pa-1)%pa]){yield Ea;break a}}_cell(ra){const {circumcenters:Y,delaunay:{inedges:Ea,halfedges:Ga,triangles:cb}}=this,ca=Ea[ra];if(-1===ca)return null;const pa=[];let x=ca;do{const N=
Math.floor(x/3);pa.push(Y[2*N],Y[2*N+1]);x=2===x%3?x-2:x+1;if(cb[x]!==ra)break;x=Ga[x]}while(x!==ca&&-1!==x);return pa}_clip(ra){if(0===ra&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const Y=this._cell(ra);if(null===Y)return null;const {vectors:Ea}=this,Ga=4*ra;return Ea[Ga]||Ea[Ga+1]?this._clipInfinite(ra,Y,Ea[Ga],Ea[Ga+1],Ea[Ga+2],Ea[Ga+3]):this._clipFinite(ra,Y)}_clipFinite(ra,Y){const Ea=Y.length;let Ga=null;let cb=Y[Ea-
2],ca=Y[Ea-1];let pa=this._regioncode(cb,ca),x=0;for(let z=0;z<Ea;z+=2){var N=cb;var S=ca;cb=Y[z];ca=Y[z+1];var g=pa;pa=this._regioncode(cb,ca);if(0===g&&0===pa)x=0,Ga?Ga.push(cb,ca):Ga=[cb,ca];else{let m,E;if(0===g){if(null===(N=this._clipSegment(N,S,cb,ca,g,pa)))continue;[S,g,m,E]=N}else{if(null===(N=this._clipSegment(cb,ca,N,S,pa,g)))continue;[m,E,S,g]=N;N=x;x=this._edgecode(S,g);N&&x&&this._edge(ra,N,x,Ga,Ga.length);Ga?Ga.push(S,g):Ga=[S,g]}N=x;x=this._edgecode(m,E);N&&x&&this._edge(ra,N,x,Ga,
Ga.length);Ga?Ga.push(m,E):Ga=[m,E]}}if(Ga)N=x,x=this._edgecode(Ga[0],Ga[1]),N&&x&&this._edge(ra,N,x,Ga,Ga.length);else if(this.contains(ra,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return Ga}_clipSegment(ra,Y,Ea,Ga,cb,ca){for(;;){if(0===cb&&0===ca)return[ra,Y,Ea,Ga];if(cb&ca)return null;var pa=void 0;let x;pa=cb||ca;pa&8?(pa=ra+(Ea-ra)*(this.ymax-Y)/(Ga-Y),x=this.ymax):pa&4?(pa=ra+(Ea-ra)*(this.ymin-Y)/
(Ga-Y),x=this.ymin):pa&2?(x=Y+(Ga-Y)*(this.xmax-ra)/(Ea-ra),pa=this.xmax):(x=Y+(Ga-Y)*(this.xmin-ra)/(Ea-ra),pa=this.xmin);cb?(ra=pa,Y=x,cb=this._regioncode(ra,Y)):(Ea=pa,Ga=x,ca=this._regioncode(Ea,Ga))}}_clipInfinite(ra,Y,Ea,Ga,cb,ca){Y=Array.from(Y);let pa;(pa=this._project(Y[0],Y[1],Ea,Ga))&&Y.unshift(pa[0],pa[1]);(pa=this._project(Y[Y.length-2],Y[Y.length-1],cb,ca))&&Y.push(pa[0],pa[1]);if(Y=this._clipFinite(ra,Y))for(let x=0,N=Y.length,S,g=this._edgecode(Y[N-2],Y[N-1]);x<N;x+=2)S=g,g=this._edgecode(Y[x],
Y[x+1]),S&&g&&(x=this._edge(ra,S,g,Y,x),N=Y.length);else this.contains(ra,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(Y=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return Y}_edge(ra,Y,Ea,Ga,cb){for(;Y!==Ea;){let ca,pa;switch(Y){case 5:Y=4;continue;case 4:Y=6;ca=this.xmax;pa=this.ymin;break;case 6:Y=2;continue;case 2:Y=10;ca=this.xmax;pa=this.ymax;break;case 10:Y=8;continue;case 8:Y=9;ca=this.xmin;pa=this.ymax;break;case 9:Y=1;continue;case 1:Y=5,ca=this.xmin,
pa=this.ymin}Ga[cb]===ca&&Ga[cb+1]===pa||!this.contains(ra,ca,pa)||(Ga.splice(cb,0,ca,pa),cb+=2)}if(4<Ga.length)for(ra=0;ra<Ga.length;ra+=2)if(Y=(ra+2)%Ga.length,Ea=(ra+4)%Ga.length,Ga[ra]===Ga[Y]&&Ga[Y]===Ga[Ea]||Ga[ra+1]===Ga[Y+1]&&Ga[Y+1]===Ga[Ea+1])Ga.splice(Y,2),ra-=2;return cb}_project(ra,Y,Ea,Ga){let cb=Infinity,ca,pa,x;if(0>Ga){if(Y<=this.ymin)return null;(ca=(this.ymin-Y)/Ga)<cb&&(x=this.ymin,pa=ra+(cb=ca)*Ea)}else if(0<Ga){if(Y>=this.ymax)return null;(ca=(this.ymax-Y)/Ga)<cb&&(x=this.ymax,
pa=ra+(cb=ca)*Ea)}if(0<Ea){if(ra>=this.xmax)return null;(ca=(this.xmax-ra)/Ea)<cb&&(pa=this.xmax,x=Y+ca*Ga)}else if(0>Ea){if(ra<=this.xmin)return null;(ca=(this.xmin-ra)/Ea)<cb&&(pa=this.xmin,x=Y+ca*Ga)}return[pa,x]}_edgecode(ra,Y){return(ra===this.xmin?1:ra===this.xmax?2:0)|(Y===this.ymin?4:Y===this.ymax?8:0)}_regioncode(ra,Y){return(ra<this.xmin?1:ra>this.xmax?2:0)|(Y<this.ymin?4:Y>this.ymax?8:0)}};const qb=2*Math.PI,Ob=Math.pow;class Vb{static from(ra,Y=jc,Ea=Sb,Ga){if("length"in ra){const cb=
ra.length,ca=new Float64Array(2*cb);for(let pa=0;pa<cb;++pa){const x=ra[pa];ca[2*pa]=Y.call(Ga,x,pa,ra);ca[2*pa+1]=Ea.call(Ga,x,pa,ra)}ra=ca}else ra=Float64Array.from(Fb(ra,Y,Ea,Ga));return new Vb(ra)}constructor(ra){this._delaunator=new kb(ra);this.inedges=new Int32Array(ra.length/2);this._hullIndex=new Int32Array(ra.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();this._init();return this}_init(){var ra=this._delaunator;const Y=this.points;if(ra.hull&&
2<ra.hull.length&&Ua(ra)){this.collinear=Int32Array.from({length:Y.length/2},(pa,x)=>x).sort((pa,x)=>Y[2*pa]-Y[2*x]||Y[2*pa+1]-Y[2*x+1]);ra=this.collinear[0];var Ea=this.collinear[this.collinear.length-1];ra=[Y[2*ra],Y[2*ra+1],Y[2*Ea],Y[2*Ea+1]];ra=1E-8*Math.hypot(ra[3]-ra[1],ra[2]-ra[0]);for(let pa=0,x=Y.length/2;pa<x;++pa)Ea=rb(Y[2*pa],Y[2*pa+1],ra),Y[2*pa]=Ea[0],Y[2*pa+1]=Ea[1];this._delaunator=new kb(Y)}else delete this.collinear;ra=this.halfedges=this._delaunator.halfedges;Ea=this.hull=this._delaunator.hull;
const Ga=this.triangles=this._delaunator.triangles,cb=this.inedges.fill(-1),ca=this._hullIndex.fill(-1);for(let pa=0,x=ra.length;pa<x;++pa){const N=Ga[2===pa%3?pa-2:pa+1];if(-1===ra[pa]||-1===cb[N])cb[N]=pa}for(let pa=0,x=Ea.length;pa<x;++pa)ca[Ea[pa]]=pa;2>=Ea.length&&0<Ea.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=Ea[0],cb[Ea[0]]=1,2===Ea.length&&(cb[Ea[1]]=0,this.triangles[1]=Ea[1],this.triangles[2]=Ea[1]))}voronoi(ra){return new vb(this,
ra)}*neighbors(ra){const {inedges:Y,hull:Ea,_hullIndex:Ga,halfedges:cb,triangles:ca,collinear:pa}=this;if(pa){var x=pa.indexOf(ra);0<x&&(yield pa[x-1]);x<pa.length-1&&(yield pa[x+1])}else{var N=Y[ra];if(-1!==N){var S=N;do{yield(x=ca[S]);S=2===S%3?S-2:S+1;if(ca[S]!==ra)break;S=cb[S];if(-1===S){ra=Ea[(Ga[ra]+1)%Ea.length];ra!==x&&(yield ra);break}}while(S!==N)}}}find(ra,Y,Ea=0){if((ra=+ra,ra!==ra)||(Y=+Y,Y!==Y))return-1;const Ga=Ea;let cb;for(;0<=(cb=this._step(Ea,ra,Y))&&cb!==Ea&&cb!==Ga;)Ea=cb;return cb}_step(ra,
Y,Ea){const {inedges:Ga,hull:cb,_hullIndex:ca,halfedges:pa,triangles:x,points:N}=this;if(-1===Ga[ra]||!N.length)return(ra+1)%(N.length>>1);let S=ra,g=Ob(Y-N[2*ra],2)+Ob(Ea-N[2*ra+1],2);const z=Ga[ra];let m=z;do{let E=x[m];const h=Ob(Y-N[2*E],2)+Ob(Ea-N[2*E+1],2);h<g&&(g=h,S=E);m=2===m%3?m-2:m+1;if(x[m]!==ra)break;m=pa[m];if(-1===m){m=cb[(ca[ra]+1)%cb.length];if(m!==E&&Ob(Y-N[2*m],2)+Ob(Ea-N[2*m+1],2)<g)return m;break}}while(m!==z);return S}render(ra){const Y=null==ra?ra=new mb:void 0,{points:Ea,halfedges:Ga,
triangles:cb}=this;for(let pa=0,x=Ga.length;pa<x;++pa){var ca=Ga[pa];if(ca<pa)continue;const N=2*cb[pa];ca=2*cb[ca];ra.moveTo(Ea[N],Ea[N+1]);ra.lineTo(Ea[ca],Ea[ca+1])}this.renderHull(ra);return Y&&Y.value()}renderPoints(ra,Y){void 0!==Y||ra&&"function"===typeof ra.moveTo||(Y=ra,ra=null);Y=void 0==Y?2:+Y;const Ea=null==ra?ra=new mb:void 0,{points:Ga}=this;for(let cb=0,ca=Ga.length;cb<ca;cb+=2){const pa=Ga[cb],x=Ga[cb+1];ra.moveTo(pa+Y,x);ra.arc(pa,x,Y,0,qb)}return Ea&&Ea.value()}renderHull(ra){const Y=
null==ra?ra=new mb:void 0,{hull:Ea,points:Ga}=this;var cb=2*Ea[0];const ca=Ea.length;ra.moveTo(Ga[cb],Ga[cb+1]);for(cb=1;cb<ca;++cb){const pa=2*Ea[cb];ra.lineTo(Ga[pa],Ga[pa+1])}ra.closePath();return Y&&Y.value()}hullPolygon(){const ra=new Ma;this.renderHull(ra);return ra.value()}renderTriangle(ra,Y){const Ea=null==Y?Y=new mb:void 0,{points:Ga,triangles:cb}=this,ca=2*cb[ra*=3],pa=2*cb[ra+1];ra=2*cb[ra+2];Y.moveTo(Ga[ca],Ga[ca+1]);Y.lineTo(Ga[pa],Ga[pa+1]);Y.lineTo(Ga[ra],Ga[ra+1]);Y.closePath();return Ea&&
Ea.value()}*trianglePolygons(){const {triangles:ra}=this;for(let Y=0,Ea=ra.length/3;Y<Ea;++Y)yield this.trianglePolygon(Y)}trianglePolygon(ra){const Y=new Ma;this.renderTriangle(ra,Y);return Y.value()}}Hb.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},
{name:"as",type:"string","default":"path"}]};const ob=[-1E5,-1E5,1E5,1E5];R.inherits(Hb,l.Transform,{transform(ra,Y){const Ea=ra.as||"path",Ga=Y.source;if(!Ga||!Ga.length)return Y;var cb=ra.size;cb=cb?[0,0,cb[0],cb[1]]:(cb=ra.extent)?[cb[0][0],cb[0][1],cb[1][0],cb[1][1]]:ob;cb=this.value=Vb.from(Ga,ra.x,ra.y).voronoi(cb);for(let x=0,N=Ga.length;x<N;++x){var ca=cb.cellPolygon(x),pa=Ga[x];if(ca){const S=ca[0][0],g=ca[0][1];let z=ca.length-1;for(;ca[z][0]===S&&ca[z][1]===g;--z);ca="M"+ca.slice(0,z+1).join("L")+
"Z"}else ca=null;pa[Ea]=ca}return Y.reflow(ra.modified()).modifies(Ea)}});t.voronoi=Hb})};
shadow$provide[56]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(31),Eb(28),Eb(20),Eb(32),Eb(29)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),l):(t="undefined"!==typeof globalThis?globalThis:t||self,l((t.vega=t.vega||{},t.vega.transforms={}),t.vega,t.vega,t.vega,t.vega,t.vega))})(this,function(t,l,R,hb,Cb,Yb){function sc(){function Lb(ra){ra.width=ra.height=1;var Y=Math.sqrt(ra.getContext("2d").getImageData(0,
0,1,1).data.length>>2);ra.width=2048/Y;ra.height=2048/Y;ra=ra.getContext("2d");ra.fillStyle=ra.strokeStyle="red";ra.textAlign="center";return{context:ra,ratio:Y}}function Wa(ra,Y,Ea){for(var Ga=Y.x,cb=Y.y,ca=Math.sqrt(pb[0]*pb[0]+pb[1]*pb[1]),pa=qb(pb),x=.5>Vb()?1:-1,N=-x,S,g;S=pa(N+=x);){g=~~S[0];S=~~S[1];if(Math.min(Math.abs(g),Math.abs(S))>=ca)break;Y.x=Ga+g;Y.y=cb+S;if(!(0>Y.x+Y.x0||0>Y.y+Y.y0||Y.x+Y.x1>pb[0]||Y.y+Y.y1>pb[1])){if(!(g=!Ea)){a:{g=pb[0];g>>=5;S=Y.sprite;var z=Y.width>>5;var m=Y.x-
(z<<4);for(var E=m&127,h=32-E,p=Y.y1-Y.y0,r=(Y.y+Y.y0)*g+(m>>5),v=0;v<p;v++){for(var F=m=0;F<=z;F++)if((m<<h|(F<z?(m=S[v*z+F])>>>E:0))&ra[r+F]){g=!0;break a}r+=g}g=!1}g=!g}if(g&&(!Ea||Y.x+Y.x1>Ea[0].x&&Y.x+Y.x0<Ea[1].x&&Y.y+Y.y1>Ea[0].y&&Y.y+Y.y0<Ea[1].y)){Ea=Y.sprite;Ga=Y.width>>5;cb=pb[0]>>5;N=Y.x-(Ga<<4);ca=N&127;pa=32-ca;x=Y.y1-Y.y0;N=(Y.y+Y.y0)*cb+(N>>5);for(S=0;S<x;S++){for(z=g=0;z<=Ga;z++)ra[N+z]=ra[N+z]|g<<pa|(z<Ga?(g=Ea[S*Ga+z])>>>ca:0);N+=cb}Y.sprite=null;return!0}}}return!1}var pb=[256,
256],Na,Da,Ia,kb,mb,Ma,vb,qb=Ab,Ob=[],Vb=Math.random,ob={layout:function(){for(var ra=Lb(l.canvas()),Y=jc((pb[0]>>5)*pb[1]),Ea=null,Ga=Ob.length,cb=-1,ca=[],pa=Ob.map(N=>({text:Na(N),font:Da(N),style:kb(N),weight:mb(N),rotate:Ma(N),size:~~(Ia(N)+1E-14),padding:vb(N),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:N})).sort((N,S)=>S.size-N.size);++cb<Ga;){var x=pa[cb];x.x=pb[0]*(Vb()+.5)>>1;x.y=pb[1]*(Vb()+.5)>>1;zc(ra,x,pa,cb);x.hasText&&Wa(Y,x,Ea)&&(ca.push(x),Ea?pc(Ea,x):Ea=[{x:x.x+
x.x0,y:x.y+x.y0},{x:x.x+x.x1,y:x.y+x.y1}],x.x-=pb[0]>>1,x.y-=pb[1]>>1)}return ca},words:function(ra){return arguments.length?(Ob=ra,ob):Ob},size:function(ra){return arguments.length?(pb=[+ra[0],+ra[1]],ob):pb},font:function(ra){return arguments.length?(Da=Sb(ra),ob):Da},fontStyle:function(ra){return arguments.length?(kb=Sb(ra),ob):kb},fontWeight:function(ra){return arguments.length?(mb=Sb(ra),ob):mb},rotate:function(ra){return arguments.length?(Ma=Sb(ra),ob):Ma},text:function(ra){return arguments.length?
(Na=Sb(ra),ob):Na},spiral:function(ra){return arguments.length?(qb=Fb[ra]||ra,ob):qb},fontSize:function(ra){return arguments.length?(Ia=Sb(ra),ob):Ia},padding:function(ra){return arguments.length?(vb=Sb(ra),ob):vb},random:function(ra){return arguments.length?(Vb=ra,ob):Vb}};return ob}function zc(Lb,Wa,pb,Na){if(!Wa.sprite){var Da=Lb.context,Ia=Lb.ratio;Da.clearRect(0,0,2048/Ia,2048/Ia);var kb=Lb=0,mb=0,Ma=pb.length;for(--Na;++Na<Ma;){Wa=pb[Na];Da.save();Da.font=Wa.style+" "+Wa.weight+" "+~~((Wa.size+
1)/Ia)+"px "+Wa.font;var vb=Da.measureText(Wa.text+"m").width*Ia;var qb=Wa.size<<1;if(Wa.rotate){var Ob=Math.sin(Wa.rotate*rb),Vb=Math.cos(Wa.rotate*rb),ob=vb*Vb,ra=vb*Ob;Vb*=qb;vb=qb*Ob;vb=Math.max(Math.abs(ob+vb),Math.abs(ob-vb))+31>>5<<5;qb=~~Math.max(Math.abs(ra+Vb),Math.abs(ra-Vb))}else vb=vb+31>>5<<5;qb>mb&&(mb=qb);2048<=Lb+vb&&(Lb=0,kb+=mb,mb=0);if(2048<=kb+qb)break;Da.translate((Lb+(vb>>1))/Ia,(kb+(qb>>1))/Ia);Wa.rotate&&Da.rotate(Wa.rotate*rb);Da.fillText(Wa.text,0,0);Wa.padding&&(Da.lineWidth=
2*Wa.padding,Da.strokeText(Wa.text,0,0));Da.restore();Wa.width=vb;Wa.height=qb;Wa.xoff=Lb;Wa.yoff=kb;Wa.x1=vb>>1;Wa.y1=qb>>1;Wa.x0=-Wa.x1;Wa.y0=-Wa.y1;Wa.hasText=!0;Lb+=vb}Ma=Da.getImageData(0,0,2048/Ia,2048/Ia).data;for(ob=[];0<=--Na;)if(Wa=pb[Na],Wa.hasText){vb=Wa.width;Da=vb>>5;qb=Wa.y1-Wa.y0;for(Ia=0;Ia<qb*Da;Ia++)ob[Ia]=0;Lb=Wa.xoff;if(null==Lb)break;kb=Wa.yoff;ra=0;Ob=-1;for(mb=0;mb<qb;mb++){for(Ia=0;Ia<vb;Ia++)Vb=Ma[2048*(kb+mb)+(Lb+Ia)<<2]?1<<31-Ia%32:0,ob[Da*mb+(Ia>>5)]|=Vb,ra|=Vb;ra?Ob=
mb:(Wa.y0++,qb--,mb--,kb++)}Wa.y1=Wa.y0+Ob;Wa.sprite=ob.slice(0,(Wa.y1-Wa.y0)*Da)}}}function pc(Lb,Wa){var pb=Lb[0];Lb=Lb[1];Wa.x+Wa.x0<pb.x&&(pb.x=Wa.x+Wa.x0);Wa.y+Wa.y0<pb.y&&(pb.y=Wa.y+Wa.y0);Wa.x+Wa.x1>Lb.x&&(Lb.x=Wa.x+Wa.x1);Wa.y+Wa.y1>Lb.y&&(Lb.y=Wa.y+Wa.y1)}function Ab(Lb){var Wa=Lb[0]/Lb[1];return function(pb){return[Wa*(pb*=.1)*Math.cos(pb),pb*Math.sin(pb)]}}function jc(Lb){for(var Wa=[],pb=-1;++pb<Lb;)Wa[pb]=0;return Wa}function Sb(Lb){return"function"===typeof Lb?Lb:function(){return Lb}}
function Ua(Lb){R.Transform.call(this,sc(),Lb)}var rb=Math.PI/180,Fb={archimedean:Ab,rectangular:function(Lb){var Wa=4*Lb[0]/Lb[1],pb=0,Na=0;return function(Da){var Ia=0>Da?-1:1;switch(Math.sqrt(1+4*Ia*Da)-Ia&3){case 0:pb+=Wa;break;case 1:Na+=4;break;case 2:pb-=Wa;break;default:Na-=4}return[pb,Na]}}};const Hb="x y font fontSize fontStyle fontWeight angle".split(" "),Bb="text font rotate fontSize fontStyle fontWeight".split(" ");Ua.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",
type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",
expr:!0},{name:"as",type:"string",array:!0,length:7,"default":Hb}]};hb.inherits(Ua,R.Transform,{transform(Lb,Wa){function pb(vb){vb=Lb[vb];return hb.isFunction(vb)&&Wa.modified(vb.fields)}!Lb.size||Lb.size[0]&&Lb.size[1]||hb.error("Wordcloud size dimensions must be non-zero.");const Na=Lb.modified();if(Na||Wa.changed(Wa.ADD_REM)||Bb.some(pb)){var Da=Wa.materialize(Wa.SOURCE).source,Ia=this.value,kb=Lb.as||Hb,mb=Lb.fontSize||14,Ma;hb.isFunction(mb)?Ma=Lb.fontSizeRange:mb=hb.constant(mb);if(Ma){const vb=
mb,qb=Cb.scale("sqrt")().domain(hb.extent(Da,vb)).range(Ma);mb=Ob=>qb(vb(Ob))}Da.forEach(vb=>{vb[kb[0]]=NaN;vb[kb[1]]=NaN;vb[kb[3]]=0});Da=Ia.words(Da).text(Lb.text).size(Lb.size||[500,500]).padding(Lb.padding||1).spiral(Lb.spiral||"archimedean").rotate(Lb.rotate||0).font(Lb.font||"sans-serif").fontStyle(Lb.fontStyle||"normal").fontWeight(Lb.fontWeight||"normal").fontSize(mb).random(Yb.random).layout();mb=Ia.size();Ia=mb[0]>>1;mb=mb[1]>>1;Ma=Da.length;for(let vb=0,qb,Ob;vb<Ma;++vb)qb=Da[vb],Ob=qb.datum,
Ob[kb[0]]=qb.x+Ia,Ob[kb[1]]=qb.y+mb,Ob[kb[2]]=qb.font,Ob[kb[3]]=qb.size,Ob[kb[4]]=qb.style,Ob[kb[5]]=qb.weight,Ob[kb[6]]=qb.rotate;return Wa.reflow(Na).modifies(kb)}}});t.wordcloud=Ua})};
shadow$provide[57]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(28),Eb(20)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l((t.vega=t.vega||{},t.vega.transforms={}),t.vega,t.vega))})(this,function(t,l,R){function hb(){let Da=8,Ia=[],kb=new Uint32Array(0),mb=Cb(0,Da),Ma=Cb(0,Da);return{data:()=>Ia,seen:()=>{var vb=kb;var qb=Ia.length;vb.length>=qb||(qb=new vb.constructor(qb),
qb.set(vb),vb=qb);return kb=vb},add(vb){for(let qb=0,Ob=Ia.length,Vb=vb.length,ob;qb<Vb;++qb)ob=vb[qb],ob._index=Ob++,Ia.push(ob)},remove(vb,qb){const Ob=Ia.length;vb=Array(Ob-vb);const Vb=Ia;let ob,ra,Y;for(ra=0;!qb[ra]&&ra<Ob;++ra)vb[ra]=Ia[ra],Vb[ra]=ra;for(Y=ra;ra<Ob;++ra)ob=Ia[ra],qb[ra]?Vb[ra]=-1:(Vb[ra]=Y,mb[Y]=mb[ra],Ma[Y]=Ma[ra],vb[Y]=ob,ob._index=Y++),mb[ra]=0;Ia=vb;return Vb},size:()=>Ia.length,curr:()=>mb,prev:()=>Ma,reset:vb=>Ma[vb]=mb[vb],all:()=>257>Da?255:65537>Da?65535:4294967295,
set(vb,qb){mb[vb]|=qb},clear(vb,qb){mb[vb]&=~qb},resize(vb,qb){if(vb>mb.length||qb>Da)Da=Math.max(qb,Da),mb=Cb(vb,Da,mb),Ma=Cb(vb,Da)}}}function Cb(Da,Ia,kb){Da=(257>Ia?Hb:65537>Ia?Bb:Lb)(Da);kb&&Da.set(kb);return Da}function Yb(Da,Ia,kb){const mb=1<<Ia;return{one:mb,zero:~mb,range:kb.slice(),bisect:Da.bisect,index:Da.index,size:Da.size,onAdd(Ma,vb){var qb=this.bisect(this.range,Ma.value);Ma=Ma.index;const Ob=qb[0];qb=qb[1];const Vb=Ma.length;let ob;for(ob=0;ob<Ob;++ob)vb[Ma[ob]]|=mb;for(ob=qb;ob<
Vb;++ob)vb[Ma[ob]]|=mb;return this}}}function sc(Da,Ia){return null==Da||null==Ia?NaN:Da<Ia?-1:Da>Ia?1:Da>=Ia?0:NaN}function zc(Da,Ia){return null==Da||null==Ia?NaN:Ia<Da?-1:Ia>Da?1:Ia>=Da?0:NaN}function pc(Da){function Ia(vb,qb,Ob=0,Vb=vb.length){if(Ob<Vb){if(0!==kb(qb,qb))return Vb;do{const ob=Ob+Vb>>>1;0>mb(vb[ob],qb)?Ob=ob+1:Vb=ob}while(Ob<Vb)}return Ob}let kb,mb,Ma;2!==Da.length?(kb=sc,mb=(vb,qb)=>sc(Da(vb),qb),Ma=(vb,qb)=>Da(vb)-qb):(kb=Da===sc||Da===zc?Da:Ab,Ma=mb=Da);return{left:Ia,center:function(vb,
qb,Ob=0,Vb=vb.length){Vb=Ia(vb,qb,Ob,Vb-1);return Vb>Ob&&Ma(vb[Vb-1],qb)>-Ma(vb[Vb],qb)?Vb-1:Vb},right:function(vb,qb,Ob=0,Vb=vb.length){if(Ob<Vb){if(0!==kb(qb,qb))return Vb;do{const ob=Ob+Vb>>>1;0>=mb(vb[ob],qb)?Ob=ob+1:Vb=ob}while(Ob<Vb)}return Ob}}}function Ab(){return 0}function jc(Da,Ia){return Array.from(Ia,kb=>Da[kb])}function Sb(){let Da=new Uint32Array(0),Ia=[],kb=0;return{insert:function(mb,Ma,vb){if(!Ma.length)return[];const qb=kb,Ob=Ma.length,Vb=new Uint32Array(Ob);let ob=Array(Ob);var ra;
for(ra=0;ra<Ob;++ra)ob[ra]=mb(Ma[ra]),Vb[ra]=ra;ob=Ua(ob,Vb);if(qb){mb=Ia;Ma=Da;Ia=Array(qb+Ob);Da=new Uint32Array(qb+Ob);ra=ob;var Y=Ia,Ea=Da;let Ga=0,cb=0,ca;for(ca=0;Ga<qb&&cb<Ob;++ca)mb[Ga]<ra[cb]?(Y[ca]=mb[Ga],Ea[ca]=Ma[Ga++]):(Y[ca]=ra[cb],Ea[ca]=Vb[cb++]+vb);for(;Ga<qb;++Ga,++ca)Y[ca]=mb[Ga],Ea[ca]=Ma[Ga];for(;cb<Ob;++cb,++ca)Y[ca]=ra[cb],Ea[ca]=Vb[cb]+vb}else{if(0<vb)for(ra=0;ra<Ob;++ra)Vb[ra]+=vb;Ia=ob;Da=Vb}kb=qb+Ob;return{index:Vb,value:ob}},remove:function(mb,Ma){const vb=kb;let qb,Ob,
Vb;for(Ob=0;!Ma[Da[Ob]]&&Ob<vb;++Ob);for(Vb=Ob;Ob<vb;++Ob)Ma[qb=Da[Ob]]||(Da[Vb]=qb,Ia[Vb]=Ia[Ob],++Vb);kb=vb-mb},bisect:function(mb,Ma){let vb;Ma?vb=Ma.length:(Ma=Ia,vb=kb);return[Na(Ma,mb[0],0,vb),pb(Ma,mb[1],0,vb)]},reindex:function(mb){for(let Ma=0,vb=kb;Ma<vb;++Ma)Da[Ma]=mb[Da[Ma]]},index:()=>Da,size:()=>kb}}function Ua(Da,Ia){Da.sort.call(Ia,(kb,mb)=>{kb=Da[kb];mb=Da[mb];return kb<mb?-1:kb>mb?1:0});return jc(Da,Ia)}function rb(Da){l.Transform.call(this,hb(),Da);this._dims=this._indices=null}
function Fb(Da){l.Transform.call(this,null,Da)}const Hb=Da=>new Uint8Array(Da),Bb=Da=>new Uint16Array(Da),Lb=Da=>new Uint32Array(Da),Wa=pc(sc),pb=Wa.right,Na=Wa.left;pc(function(Da){return null===Da?NaN:+Da}).center;rb.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};R.inherits(rb,l.Transform,{transform(Da,Ia){return this._dims?Da.modified("fields")||Da.fields.some(kb=>
Ia.modified(kb.fields))?this.reinit(Da,Ia):this.eval(Da,Ia):this.init(Da,Ia)},init(Da,Ia){const kb=Da.fields,mb=Da.query,Ma=this._indices={},vb=this._dims=[],qb=mb.length;let Ob=0;for(var Vb;Ob<qb;++Ob)Vb=kb[Ob].fname,Vb=Ma[Vb]||(Ma[Vb]=Sb()),vb.push(Yb(Vb,Ob,mb[Ob]));return this.eval(Da,Ia)},reinit(Da,Ia){const kb=Ia.materialize().fork(),mb=Da.fields,Ma=Da.query,vb=this._indices,qb=this._dims,Ob=this.value,Vb=Ob.curr(),ob=Ob.prev(),ra=Ob.all(),Y=kb.rem=kb.add,Ea=kb.mod,Ga=Ma.length,cb={};let ca;
var pa;let x,N,S,g;ob.set(Vb);Ia.rem.length&&(x=this.remove(Da,Ia,kb));Ia.add.length&&Ob.add(Ia.add);if(Ia.mod.length){N={};var z=Ia.mod;S=0;for(pa=z.length;S<pa;++S)N[z[S]._index]=1}for(S=0;S<Ga;++S)if(g=mb[S],!qb[S]||Da.modified("fields",S)||Ia.modified(g.fields))pa=g.fname,(z=cb[pa])||(vb[pa]=ca=Sb(),cb[pa]=z=ca.insert(g,Ia.source,0)),qb[S]=Yb(ca,S,Ma[S]).onAdd(z,Vb);S=0;for(pa=Ob.data().length;S<pa;++S)x[S]||(ob[S]!==Vb[S]?Y.push(S):N[S]&&Vb[S]!==ra&&Ea.push(S));Ob.mask=(1<<Ga)-1;return kb},eval(Da,
Ia){const kb=Ia.materialize().fork(),mb=this._dims.length;let Ma=0;Ia.rem.length&&(this.remove(Da,Ia,kb),Ma|=(1<<mb)-1);Da.modified("query")&&!Da.modified("fields")&&(Ma|=this.update(Da,Ia,kb));Ia.add.length&&(this.insert(Da,Ia,kb),Ma|=(1<<mb)-1);Ia.mod.length&&(this.modify(Ia,kb),Ma|=(1<<mb)-1);this.value.mask=Ma;return kb},insert(Da,Ia,kb){Ia=Ia.add;var mb=this.value;const Ma=this._dims,vb=this._indices;Da=Da.fields;const qb={};kb=kb.add;const Ob=mb.size()+Ia.length,Vb=Ma.length;let ob=mb.size();
mb.resize(Ob,Vb);mb.add(Ia);const ra=mb.curr(),Y=mb.prev(),Ea=mb.all();for(mb=0;mb<Vb;++mb){var Ga=Da[mb].fname;Ga=qb[Ga]||(qb[Ga]=vb[Ga].insert(Da[mb],Ia,ob));Ma[mb].onAdd(Ga,ra)}for(;ob<Ob;++ob)Y[ob]=Ea,ra[ob]!==Ea&&kb.push(ob)},modify(Da,Ia){Ia=Ia.mod;var kb=this.value;const mb=kb.curr();kb=kb.all();Da=Da.mod;let Ma,vb,qb;Ma=0;for(vb=Da.length;Ma<vb;++Ma)qb=Da[Ma]._index,mb[qb]!==kb&&Ia.push(qb)},remove(Da,Ia,kb){Da=this._indices;var mb=this.value;const Ma=mb.curr(),vb=mb.prev();mb=mb.all();const qb=
{};kb=kb.rem;const Ob=Ia.rem;let Vb,ob,ra,Y;Vb=0;for(ob=Ob.length;Vb<ob;++Vb)ra=Ob[Vb]._index,qb[ra]=1,vb[ra]=Y=Ma[ra],Ma[ra]=mb,Y!==mb&&kb.push(ra);for(ra in Da)Da[ra].remove(ob,qb);this.reindex(Ia,ob,qb);return qb},reindex(Da,Ia,kb){const mb=this._indices,Ma=this.value;Da.runAfter(()=>{const vb=Ma.remove(Ia,kb);for(const qb in mb)mb[qb].reindex(vb)})},update(Da,Ia,kb){const mb=this._dims,Ma=Da.query;Ia=Ia.stamp;const vb=mb.length;let qb=0,Ob,Vb;for(Vb=kb.filters=0;Vb<vb;++Vb)Da.modified("query",
Vb)&&(Ob=Vb,++qb);if(1===qb)qb=mb[Ob].one,this.incrementOne(mb[Ob],Ma[Ob],kb.add,kb.rem);else for(qb=Vb=0;Vb<vb;++Vb)Da.modified("query",Vb)&&(qb|=mb[Vb].one,this.incrementAll(mb[Vb],Ma[Vb],Ia,kb.add),kb.rem=kb.add);return qb},incrementAll(Da,Ia,kb,mb){var Ma=this.value;const vb=Ma.seen(),qb=Ma.curr();Ma=Ma.prev();const Ob=Da.index();var Vb=Da.bisect(Da.range),ob=Da.bisect(Ia);const ra=ob[0];ob=ob[1];const Y=Vb[0];Vb=Vb[1];const Ea=Da.one;let Ga,cb,ca;if(ra<Y)for(Ga=ra,cb=Math.min(Y,ob);Ga<cb;++Ga)ca=
Ob[Ga],vb[ca]!==kb&&(Ma[ca]=qb[ca],vb[ca]=kb,mb.push(ca)),qb[ca]^=Ea;else if(ra>Y)for(Ga=Y,cb=Math.min(ra,Vb);Ga<cb;++Ga)ca=Ob[Ga],vb[ca]!==kb&&(Ma[ca]=qb[ca],vb[ca]=kb,mb.push(ca)),qb[ca]^=Ea;if(ob>Vb)for(Ga=Math.max(ra,Vb),cb=ob;Ga<cb;++Ga)ca=Ob[Ga],vb[ca]!==kb&&(Ma[ca]=qb[ca],vb[ca]=kb,mb.push(ca)),qb[ca]^=Ea;else if(ob<Vb)for(Ga=Math.max(Y,ob),cb=Vb;Ga<cb;++Ga)ca=Ob[Ga],vb[ca]!==kb&&(Ma[ca]=qb[ca],vb[ca]=kb,mb.push(ca)),qb[ca]^=Ea;Da.range=Ia.slice()},incrementOne(Da,Ia,kb,mb){const Ma=this.value.curr(),
vb=Da.index();var qb=Da.bisect(Da.range),Ob=Da.bisect(Ia);const Vb=Ob[0];Ob=Ob[1];const ob=qb[0];qb=qb[1];const ra=Da.one;let Y,Ea,Ga;if(Vb<ob)for(Y=Vb,Ea=Math.min(ob,Ob);Y<Ea;++Y)Ga=vb[Y],Ma[Ga]^=ra,kb.push(Ga);else if(Vb>ob)for(Y=ob,Ea=Math.min(Vb,qb);Y<Ea;++Y)Ga=vb[Y],Ma[Ga]^=ra,mb.push(Ga);if(Ob>qb)for(Y=Math.max(Vb,qb),Ea=Ob;Y<Ea;++Y)Ga=vb[Y],Ma[Ga]^=ra,kb.push(Ga);else if(Ob<qb)for(Y=Math.max(ob,Ob),Ea=qb;Y<Ea;++Y)Ga=vb[Y],Ma[Ga]^=ra,mb.push(Ga);Da.range=Ia.slice()}});Fb.Definition={type:"ResolveFilter",
metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};R.inherits(Fb,l.Transform,{transform(Da,Ia){const kb=~(Da.ignore||0);Da=Da.filter;const mb=Da.mask;if(0===(mb&kb))return Ia.StopPropagation;Ia=Ia.fork(Ia.ALL);const Ma=Da.data(),vb=Da.curr(),qb=Da.prev(),Ob=Vb=>vb[Vb]&kb?null:Ma[Vb];Ia.filter(Ia.MOD,Ob);mb&mb-1?(Ia.filter(Ia.ADD,
Vb=>{const ob=vb[Vb]&kb;return!ob&&ob^qb[Vb]&kb?Ma[Vb]:null}),Ia.filter(Ia.REM,Vb=>{const ob=vb[Vb]&kb;return!ob||ob^ob^qb[Vb]&kb?null:Ma[Vb]})):(Ia.filter(Ia.ADD,Ob),Ia.filter(Ia.REM,Vb=>(vb[Vb]&kb)===mb?Ma[Vb]:null));return Ia.filter(Ia.SOURCE,Vb=>Ob(Vb._index))}});t.crossfilter=rb;t.resolvefilter=Fb})};
shadow$provide[58]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(20)):"function"===typeof define&&define.amd?define(["exports","vega-util"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l(t.vega={},t.vega))})(this,function(t,l){function R(p){this.type=p}function hb(p){switch(p.type){case "ArrayExpression":return p.elements;case "BinaryExpression":case "LogicalExpression":return[p.left,p.right];case "CallExpression":return[p.callee].concat(p.arguments);
case "ConditionalExpression":return[p.test,p.consequent,p.alternate];case "MemberExpression":return[p.object,p.property];case "ObjectExpression":return p.properties;case "Property":return[p.key,p.value];case "UnaryExpression":return[p.argument];default:return[]}}function Cb(p,r){if(!p)throw Error("ASSERT: "+r);}function Yb(p){return 48<=p&&57>=p}function sc(p){return 0<="0123456789abcdefABCDEF".indexOf(p)}function zc(p){return 0<="01234567".indexOf(p)}function pc(p){return 10===p||13===p||8232===
p||8233===p}function Ab(p){return 36===p||95===p||65<=p&&90>=p||97<=p&&122>=p||92===p||128<=p&&g.test(String.fromCharCode(p))}function jc(p){return 36===p||95===p||65<=p&&90>=p||97<=p&&122>=p||48<=p&&57>=p||92===p||128<=p&&z.test(String.fromCharCode(p))}function Sb(){for(;x<N;){const p=pa.charCodeAt(x);if(32===p||9===p||11===p||12===p||160===p||5760<=p&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(p)||pc(p))++x;else break}}function Ua(p){var r=
0;var v="u"===p?4:2;for(p=0;p<v;++p)if(x<N&&sc(pa[x])){var F=pa[x++];r=16*r+"0123456789abcdef".indexOf(F.toLowerCase())}else Ma({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(r)}function rb(){var p=pa.charCodeAt(x++);var r=String.fromCharCode(p);92===p&&(117!==pa.charCodeAt(x)&&Ma({},"Unexpected token %0","ILLEGAL"),++x,(p=Ua("u"))&&"\\"!==p&&Ab(p.charCodeAt(0))||Ma({},"Unexpected token %0","ILLEGAL"),r=p);for(;x<N;){p=pa.charCodeAt(x);if(!jc(p))break;++x;r+=String.fromCharCode(p);
92===p&&(r=r.substr(0,r.length-1),117!==pa.charCodeAt(x)&&Ma({},"Unexpected token %0","ILLEGAL"),++x,(p=Ua("u"))&&"\\"!==p&&jc(p.charCodeAt(0))||Ma({},"Unexpected token %0","ILLEGAL"),r+=p)}return r}function Fb(){var p=x,r=pa.charCodeAt(x),v=pa[x];switch(r){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++x,{type:7,value:String.fromCharCode(r),start:p,end:x};default:var F=pa.charCodeAt(x+1);if(61===F)switch(r){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return x+=
2,{type:7,value:String.fromCharCode(r)+String.fromCharCode(F),start:p,end:x};case 33:case 61:return x+=2,61===pa.charCodeAt(x)&&++x,{type:7,value:pa.slice(p,x),start:p,end:x}}}r=pa.substr(x,4);if("\x3e\x3e\x3e\x3d"===r)return x+=4,{type:7,value:r,start:p,end:x};r=r.substr(0,3);if("\x3e\x3e\x3e"===r||"\x3c\x3c\x3d"===r||"\x3e\x3e\x3d"===r)return x+=3,{type:7,value:r,start:p,end:x};r=r.substr(0,2);if(v===r[1]&&0<="+-\x3c\x3e\x26|".indexOf(v)||"\x3d\x3e"===r)return x+=2,{type:7,value:r,start:p,end:x};
"//"===r&&Ma({},"Unexpected token %0","ILLEGAL");if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(v))return++x,{type:7,value:v,start:p,end:x};Ma({},"Unexpected token %0","ILLEGAL")}function Hb(){var p=pa[x];Cb(Yb(p.charCodeAt(0))||"."===p,"Numeric literal must start with a decimal digit or a decimal point");var r=x;var v="";if("."!==p){v=pa[x++];p=pa[x];if("0"===v){if("x"===p||"X"===p){++x;for(v="";x<N&&sc(pa[x]);)v+=pa[x++];0===v.length&&Ma({},"Unexpected token %0","ILLEGAL");Ab(pa.charCodeAt(x))&&Ma({},
"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt("0x"+v,16),start:r,end:x}}if(zc(p)){for(v="0"+pa[x++];x<N&&zc(pa[x]);)v+=pa[x++];(Ab(pa.charCodeAt(x))||Yb(pa.charCodeAt(x)))&&Ma({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(v,8),octal:!0,start:r,end:x}}p&&Yb(p.charCodeAt(0))&&Ma({},"Unexpected token %0","ILLEGAL")}for(;Yb(pa.charCodeAt(x));)v+=pa[x++];p=pa[x]}if("."===p){for(v+=pa[x++];Yb(pa.charCodeAt(x));)v+=pa[x++];p=pa[x]}if("e"===p||"E"===p){v+=pa[x++];p=pa[x];
if("+"===p||"-"===p)v+=pa[x++];if(Yb(pa.charCodeAt(x)))for(;Yb(pa.charCodeAt(x));)v+=pa[x++];else Ma({},"Unexpected token %0","ILLEGAL")}Ab(pa.charCodeAt(x))&&Ma({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(v),start:r,end:x}}function Bb(p,r){let v=p;0<=r.indexOf("u")&&(v=v.replace(/\\u\{([0-9a-fA-F]+)\}/g,(F,aa)=>{if(1114111>=parseInt(aa,16))return"x";Ma({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(v)}catch(F){Ma({},"Invalid regular expression")}try{return new RegExp(p,
r)}catch(F){return null}}function Lb(){Sb();if(x>=N)return{type:2,start:x,end:x};var p=pa.charCodeAt(x);if(Ab(p)){p=x;if(92===pa.charCodeAt(x))var r=rb();else a:{for(r=x++;x<N;){var v=pa.charCodeAt(x);if(92===v){x=r;r=rb();break a}if(jc(v))++x;else break}r=pa.slice(r,x)}return{type:1===r.length?3:m.hasOwnProperty(r)?4:"null"===r?5:"true"===r||"false"===r?1:3,value:r,start:p,end:x}}if(40===p||41===p||59===p)return Fb();if(39===p||34===p){var F="";v=!1;p=pa[x];Cb("'"===p||'"'===p,"String literal must starts with a quote");
r=x;for(++x;x<N;){var aa=pa[x++];if(aa===p){p="";break}else if("\\"===aa)if((aa=pa[x++])&&pc(aa.charCodeAt(0)))"\r"===aa&&"\n"===pa[x]&&++x;else switch(aa){case "u":case "x":if("{"===pa[x]){++x;var O=pa[x];aa=0;for("}"===O&&Ma({},"Unexpected token %0","ILLEGAL");x<N;){O=pa[x++];if(!sc(O))break;aa=16*aa+"0123456789abcdef".indexOf(O.toLowerCase())}(1114111<aa||"}"!==O)&&Ma({},"Unexpected token %0","ILLEGAL");aa=65535>=aa?String.fromCharCode(aa):String.fromCharCode((aa-65536>>10)+55296,(aa-65536&1023)+
56320);F+=aa}else F+=Ua(aa);break;case "n":F+="\n";break;case "r":F+="\r";break;case "t":F+="\t";break;case "b":F+="\b";break;case "f":F+="\f";break;case "v":F+="\v";break;default:zc(aa)?(O="01234567".indexOf(aa),0!==O&&(v=!0),x<N&&zc(pa[x])&&(v=!0,O=8*O+"01234567".indexOf(pa[x++]),0<="0123".indexOf(aa)&&x<N&&zc(pa[x])&&(O=8*O+"01234567".indexOf(pa[x++]))),F+=String.fromCharCode(O)):F+=aa}else if(pc(aa.charCodeAt(0)))break;else F+=aa}""!==p&&Ma({},"Unexpected token %0","ILLEGAL");return{type:8,value:F,
octal:v,start:r,end:x}}return 46===p?Yb(pa.charCodeAt(x+1))?Hb():Fb():Yb(p)?Hb():Fb()}function Wa(){const p=S;x=p.end;S=Lb();x=p.end;return p}function pb(){const p=x;S=Lb();x=p}function Na(p,r,v){const F=new R("||"===p||"\x26\x26"===p?"LogicalExpression":"BinaryExpression");F.operator=p;F.left=r;F.right=v;return F}function Da(p){const r=new R("Identifier");r.name=p;return r}function Ia(p){const r=new R("Literal");r.value=p.value;r.raw=pa.slice(p.start,p.end);p.regex&&("//"===r.raw&&(r.raw="/(?:)/"),
r.regex=p.regex);return r}function kb(p,r,v){const F=new R("MemberExpression");F.computed="["===p;F.object=r;F.property=v;F.computed||(v.member=!0);return F}function mb(p,r,v){const F=new R("Property");F.key=r;F.value=v;F.kind=p;return F}function Ma(p,r){var v=Array.prototype.slice.call(arguments,2),F=r.replace(/%(\d)/g,(O,u)=>{Cb(u<v.length,"Message reference must be in range");return v[u]});var aa=Error(F);aa.index=x;aa.description=F;throw aa;}function vb(p){2===p.type&&Ma(p,"Unexpected end of input");
6===p.type&&Ma(p,"Unexpected number");8===p.type&&Ma(p,"Unexpected string");3===p.type&&Ma(p,"Unexpected identifier");4===p.type&&Ma(p,"Unexpected reserved word");Ma(p,"Unexpected token %0",p.value)}function qb(p){const r=Wa();7===r.type&&r.value===p||vb(r)}function Ob(p){return 7===S.type&&S.value===p}function Vb(){x=S.start;const p=Wa();return 8===p.type||6===p.type?(p.octal&&Ma(p,"Octal literals are not allowed in strict mode."),Ia(p)):Da(p.value)}function ob(){if(Ob("(")){qb("(");var p=cb();qb(")");
return p}if(Ob("[")){p=[];x=S.start;for(qb("[");!Ob("]");)Ob(",")?(Wa(),p.push(null)):(p.push(Ga()),Ob("]")||qb(","));Wa();var r=new R("ArrayExpression");r.elements=p;return r}if(Ob("{")){p=[];r={};var v=String;x=S.start;for(qb("{");!Ob("}");){x=S.start;var F=S;if(3===F.type){var aa=Vb();qb(":");F=Ga();F=mb("init",aa,F)}else 2===F.type||7===F.type?(vb(F),F=void 0):(aa=Vb(),qb(":"),F=Ga(),F=mb("init",aa,F));aa="Identifier"===F.key.type?F.key.name:v(F.key.value);aa="$"+aa;Object.prototype.hasOwnProperty.call(r,
aa)?Ma({},"Duplicate data property in object literal not allowed in strict mode"):r[aa]=!0;p.push(F);Ob("}")||qb(",")}qb("}");r=new R("ObjectExpression");r.properties=p;return r}p=S.type;x=S.start;if(3===p||E[S.value])r=Da(Wa().value);else if(8===p||6===p)S.octal&&Ma(S,"Octal literals are not allowed in strict mode."),r=Ia(Wa());else{if(4===p)throw Error("Disabled.");if(1===p)p=Wa(),p.value="true"===p.value,r=Ia(p);else if(5===p)p=Wa(),p.value=null,r=Ia(p);else if(Ob("/")||Ob("/\x3d")){var O;S=null;
Sb();p=x;r=pa[x];Cb("/"===r,"Regular expression literal must start with a slash");v=pa[x++];for(aa=F=!1;x<N;)if(r=pa[x++],v+=r,"\\"===r)r=pa[x++],pc(r.charCodeAt(0))&&Ma({},"Invalid regular expression: missing /"),v+=r;else if(pc(r.charCodeAt(0)))Ma({},"Invalid regular expression: missing /");else if(F)"]"===r&&(F=!1);else if("/"===r){aa=!0;break}else"["===r&&(F=!0);aa||Ma({},"Invalid regular expression: missing /");r=v.substr(1,v.length-2);for(O=aa="";x<N;){F=pa[x];if(!jc(F.charCodeAt(0)))break;
++x;"\\"===F&&x<N?Ma({},"Unexpected token %0","ILLEGAL"):(O+=F,aa+=F)}0<=O.search(/[^gimuy]/g)&&Ma({},"Invalid regular expression",O);F=O;O=Bb(r,F);r=Ia({literal:v+aa,value:O,regex:{pattern:r,flags:F},start:p,end:x});pb()}else vb(Wa())}return r}function ra(){var p;for(p=ob();;)if(Ob(".")){qb(".");x=S.start;var r=Wa();3===r.type||4===r.type||1===r.type||5===r.type||vb(r);r=Da(r.value);p=kb(".",p,r)}else if(Ob("(")){r=[];qb("(");if(!Ob(")"))for(;x<N;){r.push(Ga());if(Ob(")"))break;qb(",")}qb(")");const v=
new R("CallExpression");v.callee=p;v.arguments=r;p=v}else if(Ob("["))qb("["),r=cb(),qb("]"),p=kb("[",p,r);else break;if(7===S.type&&(Ob("++")||Ob("--")))throw Error("Disabled.");return p}function Y(){if(7!==S.type&&4!==S.type)var p=ra();else{if(Ob("++")||Ob("--"))throw Error("Disabled.");if(Ob("+")||Ob("-")||Ob("~")||Ob("!")){var r=Wa();p=Y();r=r.value;const v=new R("UnaryExpression");v.operator=r;v.argument=p;v.prefix=!0;p=v}else{if(4===S.type&&"delete"===S.value||4===S.type&&"void"===S.value||4===
S.type&&"typeof"===S.value)throw Error("Disabled.");p=ra()}}return p}function Ea(p){let r=0;if(7!==p.type&&4!==p.type)return 0;switch(p.value){case "||":r=1;break;case "\x26\x26":r=2;break;case "|":r=3;break;case "^":r=4;break;case "\x26":r=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":r=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":r=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":r=8;break;case "+":case "-":r=
9;break;case "*":case "/":case "%":r=11}return r}function Ga(){var p=S;var r=Y();var v=S;var F=Ea(v);if(0===F)var aa=r;else{v.prec=F;Wa();p=[p,S];var O=Y();for(aa=[r,v,O];0<(F=Ea(S));){for(;2<aa.length&&F<=aa[aa.length-2].prec;)O=aa.pop(),v=aa.pop().value,r=aa.pop(),p.pop(),r=Na(v,r,O),aa.push(r);v=Wa();v.prec=F;aa.push(v);p.push(S);r=Y();aa.push(r)}F=aa.length-1;r=aa[F];for(p.pop();1<F;)p.pop(),r=Na(aa[F-1].value,aa[F-2],r),F-=2;aa=r}Ob("?")&&(Wa(),p=Ga(),qb(":"),F=Ga(),r=new R("ConditionalExpression"),
r.test=aa,r.consequent=p,r.alternate=F,aa=r);return aa}function cb(){const p=Ga();if(Ob(","))throw Error("Disabled.");return p}function ca(p){function r(v,F,aa){return O=>{let u=p(O[0]);F&&(u=F+"("+u+")",0===F.lastIndexOf("new ",0)&&(u="("+u+")"));return u+"."+v+(0>aa?"":0===aa?"()":"("+O.slice(1).map(p).join(",")+")")}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",
floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(v){3>v.length&&l.error("Missing arguments to clamp function.");3<v.length&&l.error("Too many arguments to clamp function.");v=v.map(p);return"Math.max("+v[1]+", Math.min("+v[2]+","+v[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:r("getDate","new Date",0),day:r("getDay","new Date",0),
year:r("getFullYear","new Date",0),month:r("getMonth","new Date",0),hours:r("getHours","new Date",0),minutes:r("getMinutes","new Date",0),seconds:r("getSeconds","new Date",0),milliseconds:r("getMilliseconds","new Date",0),time:r("getTime","new Date",0),timezoneoffset:r("getTimezoneOffset","new Date",0),utcdate:r("getUTCDate","new Date",0),utcday:r("getUTCDay","new Date",0),utcyear:r("getUTCFullYear","new Date",0),utcmonth:r("getUTCMonth","new Date",0),utchours:r("getUTCHours","new Date",0),utcminutes:r("getUTCMinutes",
"new Date",0),utcseconds:r("getUTCSeconds","new Date",0),utcmilliseconds:r("getUTCMilliseconds","new Date",0),length:r("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:r("toUpperCase","String",0),lower:r("toLowerCase","String",0),substring:r("substring","String"),split:r("split","String"),trim:r("trim","String",0),regexp:"RegExp",test:r("test","RegExp"),if:function(v){3>v.length&&l.error("Missing arguments to if function.");3<v.length&&l.error("Too many arguments to if function.");
v=v.map(p);return"("+v[0]+"?"+v[1]+":"+v[2]+")"}}}R.prototype.visit=function(p){let r,v,F;if(p(this))return 1;r=hb(this);v=0;for(F=r.length;v<F;++v)if(r[v].visit(p))return 1};var pa,x,N,S,g=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),
z=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");
const m={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},E={"if":1};var h={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",
LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};t.ASTNode=R;t.ArrayExpression="ArrayExpression";t.BinaryExpression="BinaryExpression";t.CallExpression="CallExpression";t.ConditionalExpression="ConditionalExpression";t.Identifier="Identifier";t.Literal="Literal";t.LogicalExpression="LogicalExpression";t.MemberExpression="MemberExpression";t.ObjectExpression="ObjectExpression";t.Property="Property";
t.RawCode="RawCode";t.UnaryExpression="UnaryExpression";t.codegenExpression=function(p){function r(Ya){if(l.isString(Ya))return Ya;const Kb=Ca[Ya.type];null==Kb&&l.error("Unsupported type: "+Ya.type);return Kb(Ya)}function v(Ya){Ya={code:r(Ya),globals:Object.keys(Xa),fields:Object.keys(ab)};Xa={};ab={};return Ya}p=p||{};const F=p.allowed?l.toSet(p.allowed):{},aa=p.forbidden?l.toSet(p.forbidden):{},O=p.constants||h,u=(p.functions||ca)(r),I=p.globalvar,va=p.fieldvar,La=l.isFunction(I)?I:Ya=>`${I}["${Ya}"]`;
let Xa={},ab={},Z=0;const Ca={Literal:Ya=>Ya.raw,Identifier:Ya=>{Ya=Ya.name;if(0<Z)return Ya;if(l.hasOwnProperty(aa,Ya))return l.error("Illegal identifier: "+Ya);if(l.hasOwnProperty(O,Ya))return O[Ya];if(l.hasOwnProperty(F,Ya))return Ya;Xa[Ya]=1;return La(Ya)},MemberExpression:Ya=>{const Kb=!Ya.computed,xc=r(Ya.object);Kb&&(Z+=1);Ya=r(Ya.property);if(xc===va){var rc=ab;var yc=(yc=Ya&&Ya.length-1)&&('"'===Ya[0]&&'"'===Ya[yc]||"'"===Ya[0]&&"'"===Ya[yc])?Ya.slice(1,-1):Ya;rc[yc]=1}Kb&&--Z;return xc+
(Kb?"."+Ya:"["+Ya+"]")},CallExpression:Ya=>{"Identifier"!==Ya.callee.type&&l.error("Illegal callee type: "+Ya.callee.type);const Kb=Ya.callee.name;Ya=Ya.arguments;const xc=l.hasOwnProperty(u,Kb)&&u[Kb];xc||l.error("Unrecognized function: "+Kb);return l.isFunction(xc)?xc(Ya):xc+"("+Ya.map(r).join(",")+")"},ArrayExpression:Ya=>"["+Ya.elements.map(r).join(",")+"]",BinaryExpression:Ya=>"("+r(Ya.left)+" "+Ya.operator+" "+r(Ya.right)+")",UnaryExpression:Ya=>"("+Ya.operator+r(Ya.argument)+")",ConditionalExpression:Ya=>
"("+r(Ya.test)+"?"+r(Ya.consequent)+":"+r(Ya.alternate)+")",LogicalExpression:Ya=>"("+r(Ya.left)+Ya.operator+r(Ya.right)+")",ObjectExpression:Ya=>"{"+Ya.properties.map(r).join(",")+"}",Property:Ya=>{Z+=1;const Kb=r(Ya.key);--Z;return Kb+":"+r(Ya.value)}};v.functions=u;v.constants=O;return v};t.constants=h;t.functions=ca;t.parseExpression=function(p){pa=p;x=0;N=pa.length;S=null;pb();p=cb();if(2!==S.type)throw Error("Unexpect token after expression.");return p}})};
shadow$provide[59]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(20),Eb(58)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l(t.vega={},t.vega,t.vega))})(this,function(t,l,R){function hb(Wa,pb){return null==Wa||null==pb?NaN:Wa<pb?-1:Wa>pb?1:Wa>=pb?0:NaN}function Cb(Wa,pb){return null==Wa||null==pb?NaN:pb<Wa?-1:pb>Wa?1:pb>=Wa?0:NaN}function Yb(){return 0}function sc({_intern:Wa,
_key:pb},Na){pb=pb(Na);return Wa.has(pb)?Wa.get(pb):Na}function zc({_intern:Wa,_key:pb},Na){pb=pb(Na);if(Wa.has(pb))return Wa.get(pb);Wa.set(pb,Na);return Na}function pc({_intern:Wa,_key:pb},Na){pb=pb(Na);Wa.has(pb)&&(Na=Wa.get(pb),Wa.delete(pb));return Na}function Ab(Wa){return null!==Wa&&"object"===typeof Wa?Wa.valueOf():Wa}function jc(Wa){return Wa instanceof Ua?Wa:new Ua(Wa)}function Sb(Wa,pb){var Na=pb.fields;pb=pb.values;for(var Da=Na.length,Ia=0,kb,mb;Ia<Da;++Ia)if(mb=Na[Ia],mb.getter=l.field.getter||
l.field(mb.field),kb=mb.getter(Wa),l.isDate(kb)&&(kb=l.toNumber(kb)),l.isDate(pb[Ia])&&(pb[Ia]=l.toNumber(pb[Ia])),l.isDate(pb[Ia][0])&&(pb[Ia]=pb[Ia].map(l.toNumber)),"E"===mb.type){if(l.isArray(pb[Ia])?0>pb[Ia].indexOf(kb):kb!==pb[Ia])return!1}else if("R"===mb.type){if(!l.inrange(kb,pb[Ia]))return!1}else if("R-RE"===mb.type){if(!l.inrange(kb,pb[Ia],!0,!1))return!1}else if("R-E"===mb.type){if(!l.inrange(kb,pb[Ia],!1,!1))return!1}else if("R-LE"===mb.type&&!l.inrange(kb,pb[Ia],!1,!0))return!1;return!0}
class Ua extends Set{constructor(Wa,pb=Ab){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:pb}});if(null!=Wa)for(const Na of Wa)this.add(Na)}has(Wa){return super.has(sc(this,Wa))}add(Wa){return super.add(zc(this,Wa))}delete(Wa){return super.delete(pc(this,Wa))}}const rb=l.field("_vgsid_"),Fb=function(Wa){function pb(kb,mb,Ma=0,vb=kb.length){if(Ma<vb){if(0!==Na(mb,mb))return vb;do{const qb=Ma+vb>>>1;0>Da(kb[qb],mb)?Ma=qb+1:vb=qb}while(Ma<vb)}return Ma}let Na,Da,Ia;2!==Wa.length?
(Na=hb,Da=(kb,mb)=>hb(Wa(kb),mb),Ia=(kb,mb)=>Wa(kb)-mb):(Na=Wa===hb||Wa===Cb?Wa:Yb,Ia=Da=Wa);return{left:pb,center:function(kb,mb,Ma=0,vb=kb.length){vb=pb(kb,mb,Ma,vb-1);return vb>Ma&&Ia(kb[vb-1],mb)>-Ia(kb[vb],mb)?vb-1:vb},right:function(kb,mb,Ma=0,vb=kb.length){if(Ma<vb){if(0!==Na(mb,mb))return vb;do{const qb=Ma+vb>>>1;0>=Da(kb[qb],mb)?Ma=qb+1:vb=qb}while(Ma<vb)}return Ma}}}(rb),Hb=Fb.left,Bb=Fb.right;var Lb={_vgsid__union:function(...Wa){const pb=new Ua;for(const Na of Wa)for(const Da of Na)pb.add(Da);
return pb},_vgsid__intersect:function(Wa,...pb){Wa=new Ua(Wa);pb=pb.map(jc);a:for(const Na of Wa)for(const Da of pb)if(!Da.has(Na)){Wa.delete(Na);continue a}return Wa},E_union:function(Wa,pb){if(!Wa.length)return pb;for(var Na=0,Da=pb.length;Na<Da;++Na)0>Wa.indexOf(pb[Na])&&Wa.push(pb[Na]);return Wa},E_intersect:function(Wa,pb){return Wa.length?Wa.filter(Na=>0<=pb.indexOf(Na)):pb},R_union:function(Wa,pb){var Na=l.toNumber(pb[0]),Da=l.toNumber(pb[1]);Na>Da&&(Na=pb[1],Da=pb[0]);if(!Wa.length)return[Na,
Da];Wa[0]>Na&&(Wa[0]=Na);Wa[1]<Da&&(Wa[1]=Da);return Wa},R_intersect:function(Wa,pb){var Na=l.toNumber(pb[0]),Da=l.toNumber(pb[1]);Na>Da&&(Na=pb[1],Da=pb[0]);if(!Wa.length)return[Na,Da];if(Da<Wa[0]||Wa[1]<Na)return[];Wa[0]<Na&&(Wa[0]=Na);Wa[1]>Da&&(Wa[1]=Da);return Wa}};t.selectionIdTest=function(Wa,pb,Na){var Da=this.context.data[Wa];Wa=Da?Da.values.value:[];Da=Da?Da["index:unit"]&&Da["index:unit"].value:void 0;Na="intersect"===Na;pb=rb(pb);const Ia=Hb(Wa,pb);if(Ia===Wa.length||rb(Wa[Ia])!==pb)return!1;
if(Da&&Na){if(1===Da.size)return!0;if(Bb(Wa,pb)-Ia<Da.size)return!1}return!0};t.selectionResolve=function(Wa,pb,Na,Da){Wa=(Wa=this.context.data[Wa])?Wa.values.value:[];for(var Ia={},kb={},mb={},Ma,vb,qb,Ob,Vb,ob,ra=Wa.length,Y=0,Ea,Ga;Y<ra;++Y)if(Ma=Wa[Y],Ob=Ma.unit,vb=Ma.fields,qb=Ma.values,vb&&qb){Ea=0;for(Ga=vb.length;Ea<Ga;++Ea)Vb=vb[Ea],Ma=Ia[Vb.field]||(Ia[Vb.field]={}),ob=Ma[Ob]||(Ma[Ob]=[]),mb[Vb.field]=Vb=Vb.type.charAt(0),Vb=Lb[`${Vb}_union`],Ma[Ob]=Vb(ob,l.array(qb[Ea]));Na&&(ob=kb[Ob]||
(kb[Ob]=[]),ob.push(l.array(qb).reduce((cb,ca,pa)=>(cb[vb[pa].field]=ca,cb),{})))}else Vb="_vgsid_",qb=rb(Ma),Ma=Ia[Vb]||(Ia[Vb]={}),ob=Ma[Ob]||(Ma[Ob]=[]),ob.push(qb),Na&&(ob=kb[Ob]||(kb[Ob]=[]),ob.push({_vgsid_:qb}));pb=pb||"union";Ia._vgsid_?Ia._vgsid_=Lb[`${"_vgsid_"}_${pb}`](...Object.values(Ia._vgsid_)):Object.keys(Ia).forEach(cb=>{Ia[cb]=Object.keys(Ia[cb]).map(ca=>Ia[cb][ca]).reduce((ca,pa)=>void 0===ca?pa:Lb[`${mb[cb]}_${pb}`](ca,pa))});Wa=Object.keys(kb);Na&&Wa.length&&(Ia[Da?"vlPoint":
"vlMulti"]="union"===pb?{or:Wa.reduce((cb,ca)=>(cb.push(...kb[ca]),cb),[])}:{and:Wa.map(cb=>({or:kb[cb]}))});return Ia};t.selectionTest=function(Wa,pb,Na){var Da=this.context.data[Wa];Wa=Da?Da.values.value:[];Da=Da?Da["index:unit"]&&Da["index:unit"].value:void 0;Na="intersect"===Na;for(var Ia=Wa.length,kb=0,mb,Ma,vb,qb;kb<Ia;++kb)if(mb=Wa[kb],Da&&Na){if(Ma=Ma||{},vb=Ma[qb=mb.unit]||0,-1!==vb){mb=Sb(pb,mb);Ma[qb]=mb?-1:++vb;if(mb&&1===Da.size)return!0;if(!mb&&vb===Da.get(qb).count)return!1}}else if(mb=
Sb(pb,mb),Na^mb)return mb;return Ia&&Na};t.selectionTuples=function(Wa,pb){return Wa.map(Na=>l.extend(pb.fields?{values:pb.fields.map(Da=>(Da.getter||(Da.getter=l.field(Da.field)))(Na.datum))}:{_vgsid_:rb(Na.datum)},pb))};t.selectionVisitor=function(Wa,pb,Na,Da){pb[0].type!==R.Literal&&l.error("First argument to selection functions must be a string literal.");Wa=pb[0].value;pb=2<=pb.length&&l.peek(pb).value;const Ia=":"+Wa;"intersect"!==pb||l.hasOwnProperty(Da,"@unit")||(Da["@unit"]=Na.getData(Wa).indataRef(Na,
"unit"));l.hasOwnProperty(Da,Ia)||(Da[Ia]=Na.getData(Wa).tuplesRef())}})};
shadow$provide[60]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(20),Eb(58),Eb(32),Eb(28),Eb(33),Eb(59),Eb(29),Eb(22)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression vega-scale vega-dataflow vega-scenegraph vega-selections vega-statistics vega-time".split(" "),l):(t="undefined"!==typeof globalThis?globalThis:t||self,l(t.vega={},t.vega,t.vega,t.vega,t.vega,t.vega,t.vega,t.vega,t.vega))})(this,function(t,l,R,hb,Cb,Yb,sc,
zc,pc){function Ab(sa){return(sa=this.context.data[sa])?sa.values.value:[]}function jc(sa,bb,Rb){return(Rb=(sa=this.context.data[sa]["index:"+bb])?sa.value.get(Rb):void 0)?Rb.count:Rb}function Sb(sa,bb){const Rb=this.context.dataflow;Rb.pulse(this.context.data[sa].input,Rb.changeset().remove(l.truthy).insert(bb));return 1}function Ua(sa,bb,Rb){if(sa){const id=this.context.dataflow;id.pulse(sa.mark.source,id.changeset().encode(sa,bb))}return void 0!==Rb?Rb:sa}function rb(sa,bb,Rb){if(!Number.isInteger(sa)||
!Number.isInteger(bb))return"";Bc.setYear(2E3);Bc.setMonth(sa);Bc.setDate(bb);return fa.call(this,Bc,Rb)}function Fb(sa){return rb.call(this,sa,1,"%B")}function Hb(sa){return rb.call(this,sa,1,"%b")}function Bb(sa){return rb.call(this,0,2+sa,"%A")}function Lb(sa){return rb.call(this,0,2+sa,"%a")}function Wa(sa,bb,Rb,id){bb[0].type!==R.Literal&&l.error("First argument to data functions must be a string literal.");sa=bb[0].value;bb=":"+sa;if(!l.hasOwnProperty(bb,id))try{id[bb]=Rb.getData(sa).tuplesRef()}catch(od){}}
function pb(sa,bb,Rb,id){bb[0].type!==R.Literal&&l.error("First argument to indata must be a string literal.");bb[1].type!==R.Literal&&l.error("Second argument to indata must be a string literal.");sa=bb[0].value;bb=bb[1].value;const od="@"+bb;l.hasOwnProperty(od,id)||(id[od]=Rb.getData(sa).indataRef(Rb,bb))}function Na(sa,bb,Rb,id){if(bb[0].type===R.Literal)Da(Rb,id,bb[0].value);else for(sa in Rb.scales)Da(Rb,id,sa)}function Da(sa,bb,Rb){const id="%"+Rb;if(!l.hasOwnProperty(bb,id))try{bb[id]=sa.scaleRef(Rb)}catch(od){}}
function Ia(sa,bb){if(l.isFunction(sa))return sa;if(l.isString(sa))return(sa=bb.scales[sa])&&hb.isRegisteredScale(sa.value)?sa.value:void 0}function kb(sa,bb,Rb){bb.__bandwidth=od=>od&&od.bandwidth?od.bandwidth():0;Rb._bandwidth=Na;Rb._range=Na;Rb._scale=Na;const id=od=>"_["+(od.type===R.Literal?l.stringValue("%"+od.value):l.stringValue("%")+"+"+sa(od))+"]";return{_bandwidth:od=>`this.__bandwidth(${id(od[0])})`,_range:od=>`${id(od[0])}.range()`,_scale:od=>`${id(od[0])}(${sa(od[1])})`}}function mb(sa){return 1<
sa?ee:-1>sa?-ee:Math.asin(sa)}function Ma(){}function vb(sa,bb){if(sa&&be.hasOwnProperty(sa.type))be[sa.type](sa,bb)}function qb(sa,bb,Rb){var id=-1;Rb=sa.length-Rb;for(bb.lineStart();++id<Rb;){var od=sa[id];bb.point(od[0],od[1],od[2])}bb.lineEnd()}function Ob(sa,bb){var Rb=-1,id=sa.length;for(bb.polygonStart();++Rb<id;)qb(sa[Rb],bb,1);bb.polygonEnd()}function Vb(sa,bb){if(sa&&Cd.hasOwnProperty(sa.type))Cd[sa.type](sa,bb);else vb(sa,bb)}function ob(){Gc.point=Y}function ra(){Ea($e,sf)}function Y(sa,
bb){Gc.point=Ea;$e=sa;sf=bb;sa*=wd;bb*=wd;nd=sa;Fc=Qc(bb=bb/2+Ra);bd=kd(bb)}function Ea(sa,bb){sa*=wd;bb*=wd;bb=bb/2+Ra;var Rb=sa-nd,id=0<=Rb?1:-1,od=id*Rb;Rb=Qc(bb);bb=kd(bb);var ne=bd*bb,Re=Fc*Rb+ne*Qc(od);id=ne*id*kd(od);ve.add(Uc(id,Re));nd=sa;Fc=Rb;bd=bb}function Ga(sa,bb){return[sa[1]*bb[2]-sa[2]*bb[1],sa[2]*bb[0]-sa[0]*bb[2],sa[0]*bb[1]-sa[1]*bb[0]]}function cb(sa,bb){Ja.push(ib=[Jd=sa,$d=sa]);bb<Zd&&(Zd=bb);bb>ke&&(ke=bb)}function ca(sa,bb){var Rb=[sa*wd,bb*wd];var id=Rb[0];Rb=Rb[1];var od=
Qc(Rb);id=[od*Qc(id),od*kd(id),kd(Rb)];if(la){Rb=Ga(la,id);od=Rb=Ga([Rb[1],-Rb[0],0],Rb);var ne=Ld(od[0]*od[0]+od[1]*od[1]+od[2]*od[2]);od[0]/=ne;od[1]/=ne;od[2]/=ne;Rb=[Uc(Rb[1],Rb[0]),mb(Rb[2])];var Re=sa-Q;od=0<Re?1:-1;ne=Rb[0]*qc*od;Re=180<Mc(Re);Re^(od*Q<ne&&ne<od*sa)?(Rb=Rb[1]*qc,Rb>ke&&(ke=Rb)):(ne=(ne+360)%360-180,Re^(od*Q<ne&&ne<od*sa))?(Rb=-Rb[1]*qc,Rb<Zd&&(Zd=Rb)):(bb<Zd&&(Zd=bb),bb>ke&&(ke=bb));Re?sa<Q?z(Jd,sa)>z(Jd,$d)&&($d=sa):z(sa,$d)>z(Jd,$d)&&(Jd=sa):$d>=Jd?(sa<Jd&&(Jd=sa),sa>$d&&
($d=sa)):sa>Q?z(Jd,sa)>z(Jd,$d)&&($d=sa):z(sa,$d)>z(Jd,$d)&&(Jd=sa)}else Ja.push(ib=[Jd=sa,$d=sa]);bb<Zd&&(Zd=bb);bb>ke&&(ke=bb);la=id;Q=sa}function pa(){gc.point=ca}function x(){ib[0]=Jd;ib[1]=$d;gc.point=cb;la=null}function N(sa,bb){if(la){var Rb=sa-Q;ma.add(180<Mc(Rb)?Rb+(0<Rb?360:-360):Rb)}else ea=sa,J=bb;Gc.point(sa,bb);ca(sa,bb)}function S(){Gc.lineStart()}function g(){N(ea,J);Gc.lineEnd();1E-6<Mc(ma)&&(Jd=-($d=180));ib[0]=Jd;ib[1]=$d;la=null}function z(sa,bb){return 0>(bb-=sa)?bb+360:bb}function m(sa,
bb){return sa[0]-bb[0]}function E(sa,bb){return sa[0]<=sa[1]?sa[0]<=bb&&bb<=sa[1]:bb<sa[0]||sa[1]<bb}function h(sa,bb){sa*=wd;bb*=wd;var Rb=Qc(bb);p(Rb*Qc(sa),Rb*kd(sa),kd(bb))}function p(sa,bb,Rb){++tc;Xb+=(sa-Xb)/tc;Dc+=(bb-Dc)/tc;yd+=(Rb-yd)/tc}function r(){xe.point=v}function v(sa,bb){sa*=wd;bb*=wd;var Rb=Qc(bb);Be=Rb*Qc(sa);Id=Rb*kd(sa);he=kd(bb);xe.point=F;p(Be,Id,he)}function F(sa,bb){sa*=wd;bb*=wd;var Rb=Qc(bb),id=Rb*Qc(sa);sa=Rb*kd(sa);bb=kd(bb);var od=Uc(Ld((od=Id*bb-he*sa)*od+(od=he*id-
Be*bb)*od+(od=Be*sa-Id*id)*od),Be*id+Id*sa+he*bb);vc+=od;Yc+=od*(Be+(Be=id));hd+=od*(Id+(Id=sa));Ad+=od*(he+(he=bb));p(Be,Id,he)}function aa(){xe.point=h}function O(){xe.point=I}function u(){va(Ge,Ae);xe.point=h}function I(sa,bb){Ge=sa;Ae=bb;sa*=wd;bb*=wd;xe.point=va;var Rb=Qc(bb);Be=Rb*Qc(sa);Id=Rb*kd(sa);he=kd(bb);p(Be,Id,he)}function va(sa,bb){sa*=wd;bb*=wd;var Rb=Qc(bb),id=Rb*Qc(sa);sa=Rb*kd(sa);bb=kd(bb);Rb=Id*bb-he*sa;var od=he*id-Be*bb,ne=Be*sa-Id*id,Re=td(Rb,od,ne),pf=mb(Re);Re=Re&&-pf/Re;
Hd.add(Re*Rb);Pc.add(Re*od);Ee.add(Re*ne);vc+=pf;Yc+=pf*(Be+(Be=id));hd+=pf*(Id+(Id=sa));Ad+=pf*(he+(he=bb));p(Be,Id,he)}function La(sa,bb){return function(Rb,id,od){return Rb?(Rb=Ia(Rb,(od||this).context))&&Rb.path[sa](id):bb(id)}}function Xa(sa){const bb=this.context.group;let Rb=!1;if(bb)for(;sa;){if(sa===bb){Rb=!0;break}sa=sa.mark.group}return Rb}function ab(sa,bb,Rb){try{sa[bb].apply(sa,["EXPRESSION"].concat([].slice.call(Rb)))}catch(id){sa.warn(id)}return Rb[Rb.length-1]}function Z(){return ab(this.context.dataflow,
"warn",arguments)}function Ca(){return ab(this.context.dataflow,"info",arguments)}function Ya(){return ab(this.context.dataflow,"debug",arguments)}function Kb(sa,bb,Rb){sa.prototype=bb.prototype=Rb;Rb.constructor=sa}function xc(sa,bb){sa=Object.create(sa.prototype);for(var Rb in bb)sa[Rb]=bb[Rb];return sa}function rc(){}function yc(){return this.rgb().formatHex()}function dd(){return this.rgb().formatRgb()}function $b(sa){var bb,Rb;sa=(sa+"").trim().toLowerCase();return(bb=vf.exec(sa))?(Rb=bb[1].length,
bb=parseInt(bb[1],16),6===Rb?Rc(bb):3===Rb?new sb(bb>>8&15|bb>>4&240,bb>>4&15|bb&240,(bb&15)<<4|bb&15,1):8===Rb?Pd(bb>>24&255,bb>>16&255,bb>>8&255,(bb&255)/255):4===Rb?Pd(bb>>12&15|bb>>8&240,bb>>8&15|bb>>4&240,bb>>4&15|bb&240,((bb&15)<<4|bb&15)/255):null):(bb=Of.exec(sa))?new sb(bb[1],bb[2],bb[3],1):(bb=af.exec(sa))?new sb(255*bb[1]/100,255*bb[2]/100,255*bb[3]/100,1):(bb=ag.exec(sa))?Pd(bb[1],bb[2],bb[3],bb[4]):(bb=Vd.exec(sa))?Pd(255*bb[1]/100,255*bb[2]/100,255*bb[3]/100,bb[4]):(bb=hf.exec(sa))?
Zc(bb[1],bb[2]/100,bb[3]/100,1):(bb=jf.exec(sa))?Zc(bb[1],bb[2]/100,bb[3]/100,bb[4]):Qe.hasOwnProperty(sa)?Rc(Qe[sa]):"transparent"===sa?new sb(NaN,NaN,NaN,0):null}function Rc(sa){return new sb(sa>>16&255,sa>>8&255,sa&255,1)}function Pd(sa,bb,Rb,id){0>=id&&(sa=bb=Rb=NaN);return new sb(sa,bb,Rb,id)}function Pa(sa){sa instanceof rc||(sa=$b(sa));if(!sa)return new sb;sa=sa.rgb();return new sb(sa.r,sa.g,sa.b,sa.opacity)}function Wb(sa,bb,Rb,id){return 1===arguments.length?Pa(sa):new sb(sa,bb,Rb,null==
id?1:id)}function sb(sa,bb,Rb,id){this.r=+sa;this.g=+bb;this.b=+Rb;this.opacity=+id}function Tb(){return`#${Ac(this.r)}${Ac(this.g)}${Ac(this.b)}`}function ic(){const sa=dc(this.opacity);return`${1===sa?"rgb(":"rgba("}${Ic(this.r)}, ${Ic(this.g)}, ${Ic(this.b)}${1===sa?")":`, ${sa})`}`}function dc(sa){return isNaN(sa)?1:Math.max(0,Math.min(1,sa))}function Ic(sa){return Math.max(0,Math.min(255,Math.round(sa)||0))}function Ac(sa){sa=Ic(sa);return(16>sa?"0":"")+sa.toString(16)}function Zc(sa,bb,Rb,id){0>=
id?sa=bb=Rb=NaN:0>=Rb||1<=Rb?sa=bb=NaN:0>=bb&&(sa=NaN);return new Ha(sa,bb,Rb,id)}function Nd(sa){if(sa instanceof Ha)return new Ha(sa.h,sa.s,sa.l,sa.opacity);sa instanceof rc||(sa=$b(sa));if(!sa)return new Ha;if(sa instanceof Ha)return sa;sa=sa.rgb();var bb=sa.r/255,Rb=sa.g/255,id=sa.b/255,od=Math.min(bb,Rb,id),ne=Math.max(bb,Rb,id),Re=NaN,pf=ne-od,Ff=(ne+od)/2;pf?(Re=bb===ne?(Rb-id)/pf+6*(Rb<id):Rb===ne?(id-bb)/pf+2:(bb-Rb)/pf+4,pf/=.5>Ff?ne+od:2-ne-od,Re*=60):pf=0<Ff&&1>Ff?0:Re;return new Ha(Re,
pf,Ff,sa.opacity)}function ud(sa,bb,Rb,id){return 1===arguments.length?Nd(sa):new Ha(sa,bb,Rb,null==id?1:id)}function Ha(sa,bb,Rb,id){this.h=+sa;this.s=+bb;this.l=+Rb;this.opacity=+id}function gb(sa){sa=(sa||0)%360;return 0>sa?sa+360:sa}function wb(sa){return Math.max(0,Math.min(1,sa||0))}function ua(sa,bb,Rb){return 255*(60>sa?bb+(Rb-bb)*sa/60:180>sa?Rb:240>sa?bb+(Rb-bb)*(240-sa)/60:bb)}function H(sa){if(sa instanceof Qa)return new Qa(sa.l,sa.a,sa.b,sa.opacity);if(sa instanceof Sc)return ed(sa);
sa instanceof sb||(sa=Pa(sa));var bb=oc(sa.r),Rb=oc(sa.g),id=oc(sa.b),od=$a(.2225045*bb+.7168786*Rb+.0606169*id);if(bb===Rb&&Rb===id)var ne=bb=od;else ne=$a((.4360747*bb+.3850649*Rb+.1430804*id)/.96422),bb=$a((.0139322*bb+.0971045*Rb+.7141733*id)/.82521);return new Qa(116*od-16,500*(ne-od),200*(od-bb),sa.opacity)}function za(sa,bb,Rb,id){return 1===arguments.length?H(sa):new Qa(sa,bb,Rb,null==id?1:id)}function Qa(sa,bb,Rb,id){this.l=+sa;this.a=+bb;this.b=+Rb;this.opacity=+id}function $a(sa){return sa>
rg?Math.pow(sa,1/3):sa/Bg+Jf}function lb(sa){return sa>Gf?sa*sa*sa:Bg*(sa-Jf)}function Gb(sa){return 255*(.0031308>=sa?12.92*sa:1.055*Math.pow(sa,1/2.4)-.055)}function oc(sa){return.04045>=(sa/=255)?sa/12.92:Math.pow((sa+.055)/1.055,2.4)}function ec(sa){if(sa instanceof Sc)return new Sc(sa.h,sa.c,sa.l,sa.opacity);sa instanceof Qa||(sa=H(sa));if(0===sa.a&&0===sa.b)return new Sc(NaN,0<sa.l&&100>sa.l?0:NaN,sa.l,sa.opacity);var bb=Math.atan2(sa.b,sa.a)*Pf;return new Sc(0>bb?bb+360:bb,Math.sqrt(sa.a*sa.a+
sa.b*sa.b),sa.l,sa.opacity)}function kc(sa,bb,Rb,id){return 1===arguments.length?ec(sa):new Sc(sa,bb,Rb,null==id?1:id)}function Sc(sa,bb,Rb,id){this.h=+sa;this.c=+bb;this.l=+Rb;this.opacity=+id}function ed(sa){if(isNaN(sa.h))return new Qa(sa.l,0,0,sa.opacity);var bb=sa.h*Cf;return new Qa(sa.l,Math.cos(bb)*sa.c,Math.sin(bb)*sa.c,sa.opacity)}function fd(sa){sa/=255;return.03928>=sa?sa/12.92:Math.pow((sa+.055)/1.055,2.4)}function Qd(sa){var bb=Wb(sa);sa=fd(bb.r);const Rb=fd(bb.g);bb=fd(bb.b);return.2126*
sa+.7152*Rb+.0722*bb}function Td(sa,bb){sa=Qd(sa);bb=Qd(bb);return(Math.max(sa,bb)+.05)/(Math.min(sa,bb)+.05)}function Ed(){const sa=[].slice.call(arguments);sa.unshift({});return l.extend(...sa)}function Yd(sa,bb){if(sa===bb||sa!==sa&&bb!==bb)sa=!0;else if(l.isArray(sa))if(l.isArray(bb)&&sa.length===bb.length)a:{for(let Rb=0,id=sa.length;Rb<id;++Rb)if(!Yd(sa[Rb],bb[Rb])){sa=!1;break a}sa=!0}else sa=!1;else sa=l.isObject(sa)&&l.isObject(bb)?ae(sa,bb):!1;return sa}function ae(sa,bb){for(const Rb in sa)if(!Yd(sa[Rb],
bb[Rb]))return!1;return!0}function Ud(sa){return bb=>ae(sa,bb)}function Ye(sa,bb,Rb,id,od,ne){const Re=this.context.dataflow,pf=this.context.data[sa],Ff=pf.input;sa=Re.stamp();let Ne=pf.changes,eg;if(!1===Re._trigger||!(Ff.value.length||bb||id))return 0;if(!Ne||Ne.stamp<sa)pf.changes=Ne=Re.changeset(),Ne.stamp=sa,Re.runAfter(()=>{pf.modified=!0;Re.pulse(Ff,Ne).run()},!0,1);Rb&&(Rb=!0===Rb?l.truthy:l.isArray(Rb)||Cb.isTuple(Rb)?Rb:Ud(Rb),Ne.remove(Rb));bb&&Ne.insert(bb);id&&(Rb=Ud(id),Ff.value.some(Rb)?
Ne.remove(Rb):Ne.insert(id));if(od)for(eg in ne)Ne.modify(od,eg,ne[eg]);return 1}function Wd(sa){sa=sa.touches;return Math.hypot(sa[0].clientX-sa[1].clientX,sa[0].clientY-sa[1].clientY)}function P(sa){sa=sa.touches;return Math.atan2(sa[0].clientY-sa[1].clientY,sa[0].clientX-sa[1].clientX)}function na(sa,bb){bb=Af[bb]||(Af[bb]=l.field(bb));return l.isArray(sa)?sa.map(bb):bb(sa)}function Aa(sa){return l.isArray(sa)||ArrayBuffer.isView(sa)?sa:null}function fb(sa){return Aa(sa)||(l.isString(sa)?sa:null)}
function Jb(sa,...bb){return Aa(sa).join(...bb)}function Zb(sa,...bb){return fb(sa).indexOf(...bb)}function Cc(sa,...bb){return fb(sa).lastIndexOf(...bb)}function mc(sa,...bb){return fb(sa).slice(...bb)}function Hc(sa,bb,Rb){l.isFunction(Rb)&&l.error("Function argument passed to replace.");return String(sa).replace(bb,Rb)}function jd(sa){return Aa(sa).slice().reverse()}function Nc(sa,bb,Rb){return hb.bandSpace(sa||0,bb||0,Rb||0)}function vd(sa,bb){return(sa=Ia(sa,(bb||this).context))&&sa.bandwidth?
sa.bandwidth():0}function Gd(sa,bb){return(sa=Ia(sa,(bb||this).context))?sa.copy():void 0}function Fd(sa,bb){return(sa=Ia(sa,(bb||this).context))?sa.domain():[]}function Xd(sa,bb,Rb){return(sa=Ia(sa,(Rb||this).context))?l.isArray(bb)?(sa.invertRange||sa.invert)(bb):(sa.invert||sa.invertExtent)(bb):void 0}function Od(sa,bb){return(sa=Ia(sa,(bb||this).context))&&sa.range?sa.range():[]}function qe(sa,bb,Rb){return(sa=Ia(sa,(Rb||this).context))?sa(bb):void 0}function De(sa,bb,Rb,id,od){sa=Ia(sa,(od||
this).context);const ne=Yb.Gradient(bb,Rb);bb=sa.domain();Rb=bb[0];od=l.peek(bb);let Re=l.identity;od-Rb?Re=hb.scaleFraction(sa,Rb,od):sa=(sa.interpolator?hb.scale("sequential")().interpolator(sa.interpolator()):hb.scale("linear")().interpolate(sa.interpolate()).range(sa.range())).domain([Rb=0,od=1]);sa.ticks&&(bb=sa.ticks(+id||15),Rb!==bb[0]&&bb.unshift(Rb),od!==l.peek(bb)&&bb.push(od));bb.forEach(pf=>ne.stop(Re(pf),sa(pf)));return ne}function gf(sa,bb,Rb){const id=Ia(sa,(Rb||this).context);return function(od){return id?
id.path.context(od)(bb):""}}function df(sa){let bb=null;return function(Rb){return Rb?Yb.pathRender(Rb,bb=bb||Yb.pathParse(sa)):sa}}function ef(sa,bb){sa=Ab.call(bb,sa);return sa.root&&sa.root.lookup||{}}function pe(sa,bb,Rb){sa=ef(sa,this);bb=sa[bb];Rb=sa[Rb];return bb&&Rb?bb.path(Rb).map(Hf):void 0}function nf(sa,bb){return(sa=ef(sa,this)[bb])?sa.ancestors().map(Hf):void 0}function W(){const sa="undefined"!==typeof window&&window||null;return sa?sa.screen:{}}function wa(){const sa="undefined"!==
typeof window&&window||null;return sa?[sa.innerWidth,sa.innerHeight]:[void 0,void 0]}function db(){var sa=this.context.dataflow;return(sa=sa.container&&sa.container())?[sa.clientWidth,sa.clientHeight]:[void 0,void 0]}function yb(sa,bb,Rb){if(!sa)return[];const [id,od]=sa;sa=(new Yb.Bounds).set(id[0],id[1],od[0],od[1]);Rb=Rb||this.context.dataflow.scenegraph().root;return Yb.intersect(Rb,sa,hc(bb))}function hc(sa){let bb=null;if(sa){const Rb=l.array(sa.marktype),id=l.array(sa.markname);bb=od=>(!Rb.length||
Rb.some(ne=>od.marktype===ne))&&(!id.length||id.some(ne=>od.name===ne))}return bb}function Ec(sa,bb,Rb){if(1===arguments.length)return dg[sa];dg[sa]=bb;Rb&&(Vg[sa]=Rb);Wg&&(Wg.functions[sa]="this."+sa);return this}const ac=sa=>function(bb,Rb){return this.context.dataflow.locale()[sa](Rb)(bb)},L=ac("format"),fa=ac("timeFormat"),Sa=ac("utcFormat"),cc=ac("timeParse"),Jc=ac("utcParse"),Bc=new Date(2E3,0,1);class $c{constructor(){this._partials=new Float64Array(32);this._n=0}add(sa){const bb=this._partials;
let Rb=0;for(let id=0;id<this._n&&32>id;id++){const od=bb[id],ne=sa+od;(sa=Math.abs(sa)<Math.abs(od)?sa-(ne-od):od-(ne-sa))&&(bb[Rb++]=sa);sa=ne}bb[Rb]=sa;this._n=Rb+1;return this}valueOf(){const sa=this._partials;let bb=this._n;let Rb,id=0;if(0<bb){for(id=sa[--bb];0<bb;){var od=id;Rb=sa[--bb];id=od+Rb;if(od=Rb-(id-od))break}0<bb&&(0>od&&0>sa[bb-1]||0<od&&0<sa[bb-1])&&(Rb=2*od,od=id+Rb,Rb==od-id&&(id=od))}return id}}var pd=Math.PI,ee=pd/2,Ra=pd/4,eb=2*pd,qc=180/pd,wd=pd/180,Mc=Math.abs,Uc=Math.atan2,
Qc=Math.cos,td=Math.hypot,kd=Math.sin,Ld=Math.sqrt,Cd={Feature:function(sa,bb){vb(sa.geometry,bb)},FeatureCollection:function(sa,bb){sa=sa.features;for(var Rb=-1,id=sa.length;++Rb<id;)vb(sa[Rb].geometry,bb)}},be={Sphere:function(sa,bb){bb.sphere()},Point:function(sa,bb){sa=sa.coordinates;bb.point(sa[0],sa[1],sa[2])},MultiPoint:function(sa,bb){for(var Rb=sa.coordinates,id=-1,od=Rb.length;++id<od;)sa=Rb[id],bb.point(sa[0],sa[1],sa[2])},LineString:function(sa,bb){qb(sa.coordinates,bb,0)},MultiLineString:function(sa,
bb){sa=sa.coordinates;for(var Rb=-1,id=sa.length;++Rb<id;)qb(sa[Rb],bb,0)},Polygon:function(sa,bb){Ob(sa.coordinates,bb)},MultiPolygon:function(sa,bb){sa=sa.coordinates;for(var Rb=-1,id=sa.length;++Rb<id;)Ob(sa[Rb],bb)},GeometryCollection:function(sa,bb){sa=sa.geometries;for(var Rb=-1,id=sa.length;++Rb<id;)vb(sa[Rb],bb)}},ve=new $c,Me=new $c,$e,sf,nd,Fc,bd,Gc={point:Ma,lineStart:Ma,lineEnd:Ma,polygonStart:function(){ve=new $c;Gc.lineStart=ob;Gc.lineEnd=ra},polygonEnd:function(){var sa=+ve;Me.add(0>
sa?eb+sa:sa);this.lineStart=this.lineEnd=this.point=Ma},sphere:function(){Me.add(eb)}},Jd,Zd,$d,ke,Q,ea,J,la,ma,Ja,ib,gc={point:cb,lineStart:pa,lineEnd:x,polygonStart:function(){gc.point=N;gc.lineStart=S;gc.lineEnd=g;ma=new $c;Gc.polygonStart()},polygonEnd:function(){Gc.polygonEnd();gc.point=cb;gc.lineStart=pa;gc.lineEnd=x;0>ve?(Jd=-($d=180),Zd=-(ke=90)):1E-6<ma?ke=90:-1E-6>ma&&(Zd=-90);ib[0]=Jd;ib[1]=$d},sphere:function(){Jd=-($d=180);Zd=-(ke=90)}},tc,vc,Xb,Dc,yd,Yc,hd,Ad,Hd,Pc,Ee,Ge,Ae,Be,Id,he,
xe={sphere:Ma,point:h,lineStart:r,lineEnd:aa,polygonStart:function(){xe.lineStart=O;xe.lineEnd=u},polygonEnd:function(){xe.lineStart=r;xe.lineEnd=aa}};const Le=La("area",function(sa){Me=new $c;Vb(sa,Gc);return 2*Me}),of=La("bounds",function(sa){var bb,Rb,id;ke=$d=-(Jd=Zd=Infinity);Ja=[];Vb(sa,gc);if(bb=Ja.length){Ja.sort(m);sa=1;var od=Ja[0];for(Rb=[od];sa<bb;++sa){var ne=Ja[sa];E(od,ne[0])||E(od,ne[1])?(z(od[0],ne[1])>z(od[0],od[1])&&(od[1]=ne[1]),z(ne[0],od[1])>z(od[0],od[1])&&(od[0]=ne[0])):Rb.push(od=
ne)}var Re=-Infinity;bb=Rb.length-1;sa=0;for(od=Rb[bb];sa<=bb;od=ne,++sa)ne=Rb[sa],(id=z(od[1],ne[0]))>Re&&(Re=id,Jd=ne[0],$d=od[1])}Ja=ib=null;return Infinity===Jd||Infinity===Zd?[[NaN,NaN],[NaN,NaN]]:[[Jd,Zd],[$d,ke]]}),We=La("centroid",function(sa){tc=vc=Xb=Dc=yd=Yc=hd=Ad=0;Hd=new $c;Pc=new $c;Ee=new $c;Vb(sa,xe);sa=+Hd;var bb=+Pc,Rb=+Ee,id=td(sa,bb,Rb);return 1E-12>id&&(sa=Yc,bb=hd,Rb=Ad,1E-6>vc&&(sa=Xb,bb=Dc,Rb=yd),id=td(sa,bb,Rb),1E-12>id)?[NaN,NaN]:[Uc(bb,sa)*qc,mb(Rb/id)*qc]});var we=1/.7,
vf=/^#([0-9a-f]{3,8})$/,Of=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),af=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),ag=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Vd=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
hf=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),jf=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Qe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,
bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,
darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,
lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,
mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,
plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,
yellow:16776960,yellowgreen:10145074};Kb(rc,$b,{copy(sa){return Object.assign(new this.constructor,this,sa)},displayable(){return this.rgb().displayable()},hex:yc,formatHex:yc,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Nd(this).formatHsl()},formatRgb:dd,toString:dd});Kb(sb,Wb,xc(rc,{brighter(sa){sa=null==sa?we:Math.pow(we,sa);return new sb(this.r*sa,this.g*sa,this.b*sa,this.opacity)},darker(sa){sa=null==sa?.7:Math.pow(.7,sa);return new sb(this.r*sa,this.g*sa,
this.b*sa,this.opacity)},rgb(){return this},clamp(){return new sb(Ic(this.r),Ic(this.g),Ic(this.b),dc(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Tb,formatHex:Tb,formatHex8:function(){return`#${Ac(this.r)}${Ac(this.g)}${Ac(this.b)}${Ac(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:ic,toString:ic}));Kb(Ha,ud,xc(rc,{brighter(sa){sa=null==sa?we:Math.pow(we,sa);return new Ha(this.h,
this.s,this.l*sa,this.opacity)},darker(sa){sa=null==sa?.7:Math.pow(.7,sa);return new Ha(this.h,this.s,this.l*sa,this.opacity)},rgb(){var sa=this.h%360+360*(0>this.h),bb=isNaN(sa)||isNaN(this.s)?0:this.s,Rb=this.l;bb=Rb+(.5>Rb?Rb:1-Rb)*bb;Rb=2*Rb-bb;return new sb(ua(240<=sa?sa-240:sa+120,Rb,bb),ua(sa,Rb,bb),ua(120>sa?sa+240:sa-120,Rb,bb),this.opacity)},clamp(){return new Ha(gb(this.h),wb(this.s),wb(this.l),dc(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=
this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const sa=dc(this.opacity);return`${1===sa?"hsl(":"hsla("}${gb(this.h)}, ${100*wb(this.s)}%, ${100*wb(this.l)}%${1===sa?")":`, ${sa})`}`}}));const Cf=Math.PI/180,Pf=180/Math.PI,Jf=4/29,Gf=6/29,Bg=3*Gf*Gf,rg=Gf*Gf*Gf;Kb(Qa,za,xc(rc,{brighter(sa){return new Qa(this.l+18*(null==sa?1:sa),this.a,this.b,this.opacity)},darker(sa){return new Qa(this.l-18*(null==sa?1:sa),this.a,this.b,this.opacity)},rgb(){var sa=(this.l+16)/116,bb=isNaN(this.a)?sa:sa+this.a/
500,Rb=isNaN(this.b)?sa:sa-this.b/200;bb=.96422*lb(bb);sa=1*lb(sa);Rb=.82521*lb(Rb);return new sb(Gb(3.1338561*bb-1.6168667*sa-.4906146*Rb),Gb(-.9787684*bb+1.9161415*sa+.033454*Rb),Gb(.0719453*bb-.2289914*sa+1.4052427*Rb),this.opacity)}}));Kb(Sc,kc,xc(rc,{brighter(sa){return new Sc(this.h,this.c,this.l+18*(null==sa?1:sa),this.opacity)},darker(sa){return new Sc(this.h,this.c,this.l-18*(null==sa?1:sa),this.opacity)},rgb(){return ed(this).rgb()}}));const Af={},Hf=sa=>sa.data,dg={random(){return zc.random()},
cumulativeNormal:zc.cumulativeNormal,cumulativeLogNormal:zc.cumulativeLogNormal,cumulativeUniform:zc.cumulativeUniform,densityNormal:zc.densityNormal,densityLogNormal:zc.densityLogNormal,densityUniform:zc.densityUniform,quantileNormal:zc.quantileNormal,quantileLogNormal:zc.quantileLogNormal,quantileUniform:zc.quantileUniform,sampleNormal:zc.sampleNormal,sampleLogNormal:zc.sampleLogNormal,sampleUniform:zc.sampleUniform,isArray:l.isArray,isBoolean:l.isBoolean,isDate:l.isDate,isDefined(sa){return void 0!==
sa},isNumber:l.isNumber,isObject:l.isObject,isRegExp:l.isRegExp,isString:l.isString,isTuple:Cb.isTuple,isValid(sa){return null!=sa&&sa===sa},toBoolean:l.toBoolean,toDate(sa){return l.toDate(sa)},toNumber:l.toNumber,toString:l.toString,indexof:Zb,join:Jb,lastindexof:Cc,replace:Hc,reverse:jd,slice:mc,flush:l.flush,lerp:l.lerp,merge:Ed,pad:l.pad,peek:l.peek,pluck:na,span:l.span,inrange:l.inrange,truncate:l.truncate,rgb:Wb,lab:za,hcl:kc,hsl:ud,luminance:Qd,contrast:Td,sequence:function(sa,bb,Rb){sa=+sa;
bb=+bb;Rb=2>(od=arguments.length)?(bb=sa,sa=0,1):3>od?1:+Rb;for(var id=-1,od=Math.max(0,Math.ceil((bb-sa)/Rb))|0,ne=Array(od);++id<od;)ne[id]=sa+id*Rb;return ne},format:L,utcFormat:Sa,utcParse:Jc,utcOffset:pc.utcOffset,utcSequence:pc.utcSequence,timeFormat:fa,timeParse:cc,timeOffset:pc.timeOffset,timeSequence:pc.timeSequence,timeUnitSpecifier:pc.timeUnitSpecifier,monthFormat:Fb,monthAbbrevFormat:Hb,dayFormat:Bb,dayAbbrevFormat:Lb,quarter:l.quarter,utcquarter:l.utcquarter,week:pc.week,utcweek:pc.utcweek,
dayofyear:pc.dayofyear,utcdayofyear:pc.utcdayofyear,warn:Z,info:Ca,debug:Ya,extent(sa){return l.extent(sa)},inScope:Xa,intersect:yb,clampRange:l.clampRange,pinchDistance:Wd,pinchAngle:P,screen:W,containerSize:db,windowSize:wa,bandspace:Nc,setdata:Sb,pathShape:df,panLinear:l.panLinear,panLog:l.panLog,panPow:l.panPow,panSymlog:l.panSymlog,zoomLinear:l.zoomLinear,zoomLog:l.zoomLog,zoomPow:l.zoomPow,zoomSymlog:l.zoomSymlog,encode:Ua,modify:Ye,lassoAppend:function(sa,bb,Rb,id=5){sa=l.array(sa);const od=
sa[sa.length-1];return void 0===od||Math.hypot(od[0]-bb,od[1]-Rb)>id?[...sa,[bb,Rb]]:sa},lassoPath:function(sa){return l.array(sa).reduce((bb,[Rb,id],od)=>bb+(0==od?`M ${Rb},${id} `:od===sa.length-1?" Z":`L ${Rb},${id} `),"")},intersectLasso:function(sa,bb,Rb){const {x:id,y:od,mark:ne}=Rb;Rb=(new Yb.Bounds).set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const [Re,pf]of bb)Re<Rb.x1&&(Rb.x1=Re),Re>Rb.x2&&(Rb.x2=Re),pf<Rb.y1&&(Rb.y1=pf),pf>Rb.y2&&
(Rb.y2=pf);Rb.translate(id,od);return yb([[Rb.x1,Rb.y1],[Rb.x2,Rb.y2]],sa,ne).filter(Re=>{var pf=Re.y;let Ff=0;for(let Ne=0,eg=bb.length-1;Ne<bb.length;eg=Ne++){const [Sf,Wf]=bb[eg],[kg,pg]=bb[Ne];pg>pf!=Wf>pf&&Re.x<(Sf-kg)*(pf-pg)/(Wf-pg)+kg&&Ff++}return Ff&1})}},Ug="view item group xy x y".split(" "),Vg={},Dg={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:sa=>`_[${l.stringValue("$"+sa)}]`,functions:function(sa){const bb=R.functions(sa);Ug.forEach(Rb=>bb[Rb]="event.vega."+
Rb);for(const Rb in dg)bb[Rb]="this."+Rb;l.extend(bb,kb(sa,dg,Vg));return bb},constants:R.constants,visitors:Vg},Wg=R.codegenExpression(Dg);Ec("bandwidth",vd,Na);Ec("copy",Gd,Na);Ec("domain",Fd,Na);Ec("range",Od,Na);Ec("invert",Xd,Na);Ec("scale",qe,Na);Ec("gradient",De,Na);Ec("geoArea",Le,Na);Ec("geoBounds",of,Na);Ec("geoCentroid",We,Na);Ec("geoShape",gf,Na);Ec("indata",jc,pb);Ec("data",Ab,Wa);Ec("treePath",pe,Wa);Ec("treeAncestors",nf,Wa);Ec("vlSelectionTest",sc.selectionTest,sc.selectionVisitor);
Ec("vlSelectionIdTest",sc.selectionIdTest,sc.selectionVisitor);Ec("vlSelectionResolve",sc.selectionResolve,sc.selectionVisitor);Ec("vlSelectionTuples",sc.selectionTuples);t.DataPrefix=":";t.IndexPrefix="@";t.ScalePrefix="%";t.SignalPrefix="$";t.bandspace=Nc;t.bandwidth=vd;t.codeGenerator=Wg;t.codegenParams=Dg;t.containerSize=db;t.contrast=Td;t.copy=Gd;t.data=Ab;t.dataVisitor=Wa;t.dayAbbrevFormat=Lb;t.dayFormat=Bb;t.debug=Ya;t.domain=Fd;t.encode=Ua;t.expressionFunction=Ec;t.format=L;t.functionContext=
dg;t.geoArea=Le;t.geoBounds=of;t.geoCentroid=We;t.geoShape=gf;t.inScope=Xa;t.indata=jc;t.indataVisitor=pb;t.indexof=Zb;t.info=Ca;t.invert=Xd;t.join=Jb;t.lastindexof=Cc;t.luminance=Qd;t.merge=Ed;t.modify=Ye;t.monthAbbrevFormat=Hb;t.monthFormat=Fb;t.parseExpression=function(sa,bb){const Rb={};let id;try{sa=l.isString(sa)?sa:l.stringValue(sa)+"",id=R.parseExpression(sa)}catch(od){l.error("Expression parse error: "+sa)}id.visit(od=>{if(od.type===R.CallExpression){var ne=od.callee.name,Re=Dg.visitors[ne];
Re&&Re(ne,od.arguments,bb,Rb)}});sa=Wg(id);sa.globals.forEach(od=>{const ne="$"+od;!l.hasOwnProperty(Rb,ne)&&bb.getSignal(od)&&(Rb[ne]=bb.signalRef(od))});return{$expr:l.extend({code:sa.code},bb.options.ast?{ast:id}:null),$fields:sa.fields,$params:Rb}};t.pathShape=df;t.pinchAngle=P;t.pinchDistance=Wd;t.pluck=na;t.range=Od;t.replace=Hc;t.reverse=jd;t.scale=qe;t.scaleGradient=De;t.scaleVisitor=Na;t.screen=W;t.setdata=Sb;t.slice=mc;t.timeFormat=fa;t.timeParse=cc;t.treeAncestors=nf;t.treePath=pe;t.utcFormat=
Sa;t.utcParse=Jc;t.warn=Z;t.windowSize=wa})};
shadow$provide[61]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(20),Eb(28)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l(t.vega={},t.vega,t.vega))})(this,function(t,l,R){function hb(Ua,rb,Fb){Fb.endsWith(";")||(Fb="return("+Fb+");");rb=Function(...rb.concat(Fb));return Ua&&Ua.functions?rb.bind(Ua.functions):rb}function Cb(Ua,rb,Fb){if(!Ua||!l.isObject(Ua))return Ua;
for(let Hb=0,Bb=jc.length,Lb;Hb<Bb;++Hb)if(Lb=jc[Hb],l.hasOwnProperty(Ua,Lb.key))return Lb.parse(Ua,rb,Fb);return Ua}function Yb(Ua,rb,Fb,Hb){this.dataflow=Ua;this.transforms=rb;this.events=Ua.events.bind(Ua);this.expr=Hb||Ab;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};Fb&&(this.functions=Object.create(Fb),this.functions.context=this)}function sc(Ua){this.dataflow=Ua.dataflow;this.transforms=Ua.transforms;this.events=Ua.events;this.expr=Ua.expr;this.signals=Object.create(Ua.signals);
this.scales=Object.create(Ua.scales);this.nodes=Object.create(Ua.nodes);this.data=Object.create(Ua.data);this.fn=Object.create(Ua.fn);Ua.functions&&(this.functions=Object.create(Ua.functions),this.functions.context=this)}const zc=l.toSet(["rule"]),pc=l.toSet(["group","image","rect"]);var Ab={operator:(Ua,rb)=>hb(Ua,["_"],rb.code),parameter:(Ua,rb)=>hb(Ua,["datum","_"],rb.code),event:(Ua,rb)=>hb(Ua,["event"],rb.code),handler:(Ua,rb)=>hb(Ua,["_","event"],`var datum=event.item&&event.item.datum;return ${rb.code};`),
encode:(Ua,rb)=>{const {marktype:Fb,channels:Hb}=rb;rb="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";for(var Bb in Hb){const Lb="o["+l.stringValue(Bb)+"]";rb+=`$=${Hb[Bb].code};if(${Lb}!==$)${Lb}=$,m=1;`}Bb="";zc[Fb]||(Hb.x2&&(Hb.x?(pc[Fb]&&(Bb+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),Bb+="o.width\x3do.x2-o.x;"):Bb+="o.x\x3do.x2-(o.width||0);"),Hb.xc&&(Bb+="o.x\x3do.xc-(o.width||0)/2;"),Hb.y2&&(Hb.y?(pc[Fb]&&(Bb+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),Bb+="o.height\x3do.y2-o.y;"):
Bb+="o.y\x3do.y2-(o.height||0);"),Hb.yc&&(Bb+="o.y\x3do.yc-(o.height||0)/2;"));rb+=Bb;return hb(Ua,["item","_"],rb+"return m;")},codegen:{get(Ua){Ua=`[${Ua.map(l.stringValue).join("][")}]`;const rb=Function("_",`return _${Ua};`);rb.path=Ua;return rb},comparator(Ua,rb){let Fb;Ua=Function("a","b","var u, v; return "+Ua.map((Hb,Bb)=>{const Lb=rb[Bb];let Wa;Hb.path?(Wa=`a${Hb.path}`,Hb=`b${Hb.path}`):((Fb=Fb||{})["f"+Bb]=Hb,Wa=`this.f${Bb}(a)`,Hb=`this.f${Bb}(b)`);Bb=-Lb;return`((u = ${Wa}) < (v = ${Hb}) || u == null) && v != null ? ${Bb}
  : (u > v || v == null) && u != null ? ${Lb}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${Bb}
  : v !== v && u === u ? ${Lb} : `}).join("")+"0;");return Fb?Ua.bind(Fb):Ua}}},jc=[{key:"$ref",parse:function(Ua,rb){return rb.get(Ua.$ref)||l.error("Operator not defined: "+Ua.$ref)}},{key:"$key",parse:function(Ua,rb){const Fb="k:"+Ua.$key+"_"+!!Ua.$flat;return rb.fn[Fb]||(rb.fn[Fb]=l.key(Ua.$key,Ua.$flat,rb.expr.codegen))}},{key:"$expr",parse:function(Ua,rb,Fb){Ua.$params&&rb.parseParameters(Ua.$params,Fb);Fb="e:"+Ua.$expr.code;return rb.fn[Fb]||(rb.fn[Fb]=l.accessor(rb.parameterExpression(Ua.$expr),
Ua.$fields))}},{key:"$field",parse:function(Ua,rb){if(!Ua.$field)return null;const Fb="f:"+Ua.$field+"_"+Ua.$name;return rb.fn[Fb]||(rb.fn[Fb]=l.field(Ua.$field,Ua.$name,rb.expr.codegen))}},{key:"$encode",parse:function(Ua,rb){Ua=Ua.$encode;const Fb={};for(const Hb in Ua){const Bb=Ua[Hb];Fb[Hb]=l.accessor(rb.encodeExpression(Bb.$expr),Bb.$fields);Fb[Hb].output=Bb.$output}return Fb}},{key:"$compare",parse:function(Ua,rb){const Fb="c:"+Ua.$compare+"_"+Ua.$order,Hb=l.array(Ua.$compare).map(Bb=>Bb&&Bb.$tupleid?
R.tupleid:Bb);return rb.fn[Fb]||(rb.fn[Fb]=l.compare(Hb,Ua.$order,rb.expr.codegen))}},{key:"$context",parse:function(Ua,rb){return rb}},{key:"$subflow",parse:function(Ua,rb){const Fb=Ua.$subflow;return function(Hb,Bb,Lb){const Wa=rb.fork().parse(Fb);Hb=Wa.get(Fb.operators[0].id);(Bb=Wa.signals.parent)&&Bb.set(Lb);Hb.detachSubflow=()=>rb.detach(Wa);return Hb}}},{key:"$tupleid",parse:function(){return R.tupleid}}];const Sb={skip:!0};Yb.prototype=sc.prototype={fork(){const Ua=new sc(this);(this.subcontext||
(this.subcontext=[])).push(Ua);return Ua},detach(Ua){this.subcontext=this.subcontext.filter(Fb=>Fb!==Ua);const rb=Object.keys(Ua.nodes);for(const Fb of rb)Ua.nodes[Fb]._targets=null;for(const Fb of rb)Ua.nodes[Fb].detach();Ua.nodes=null},get(Ua){return this.nodes[Ua]},set(Ua,rb){return this.nodes[Ua]=rb},add(Ua,rb){const Fb=this,Hb=Fb.dataflow,Bb=Ua.value;Fb.set(Ua.id,rb);"collect"===(Ua.type+"").toLowerCase()&&Bb&&(Bb.$ingest?Hb.ingest(rb,Bb.$ingest,Bb.$format):Bb.$request?Hb.preload(rb,Bb.$request,
Bb.$format):Hb.pulse(rb,Hb.changeset().insert(Bb)));Ua.root&&(Fb.root=rb);if(Ua.parent){let Lb=Fb.get(Ua.parent.$ref);Lb?(Hb.connect(Lb,[rb]),rb.targets().add(Lb)):(Fb.unresolved=Fb.unresolved||[]).push(()=>{Lb=Fb.get(Ua.parent.$ref);Hb.connect(Lb,[rb]);rb.targets().add(Lb)})}Ua.signal&&(Fb.signals[Ua.signal]=rb);Ua.scale&&(Fb.scales[Ua.scale]=rb);if(Ua.data)for(const Lb in Ua.data){const Wa=Fb.data[Lb]||(Fb.data[Lb]={});Ua.data[Lb].forEach(pb=>Wa[pb]=rb)}},resolve(){(this.unresolved||[]).forEach(Ua=>
Ua());delete this.unresolved;return this},operator(Ua,rb){this.add(Ua,this.dataflow.add(Ua.value,rb))},transform(Ua,rb){this.add(Ua,this.dataflow.add(this.transforms[(rb+"").toLowerCase()]))},stream(Ua,rb){this.set(Ua.id,rb)},update(Ua,rb,Fb,Hb,Bb){this.dataflow.on(rb,Fb,Hb,Bb,Ua.options)},operatorExpression(Ua){return this.expr.operator(this,Ua)},parameterExpression(Ua){return this.expr.parameter(this,Ua)},eventExpression(Ua){return this.expr.event(this,Ua)},handlerExpression(Ua){return this.expr.handler(this,
Ua)},encodeExpression(Ua){return this.expr.encode(this,Ua)},parse:function(Ua){const rb=this,Fb=Ua.operators||[];Ua.background&&(rb.background=Ua.background);Ua.eventConfig&&(rb.eventConfig=Ua.eventConfig);Ua.locale&&(rb.locale=Ua.locale);Fb.forEach(Hb=>rb.parseOperator(Hb));Fb.forEach(Hb=>rb.parseOperatorParameters(Hb));(Ua.streams||[]).forEach(Hb=>rb.parseStream(Hb));(Ua.updates||[]).forEach(Hb=>rb.parseUpdate(Hb));return rb.resolve()},parseOperator:function(Ua){"operator"!==(Ua.type+"").toLowerCase()&&
Ua.type?this.transform(Ua,Ua.type):this.operator(Ua,Ua.update?this.operatorExpression(Ua.update):null)},parseOperatorParameters:function(Ua){if(Ua.params){const rb=this.get(Ua.id);rb||l.error("Invalid operator id: "+Ua.id);this.dataflow.connect(rb,rb.parameters(this.parseParameters(Ua.params),Ua.react,Ua.initonly))}},parseParameters:function(Ua,rb){rb=rb||{};const Fb=this;for(const Hb in Ua){const Bb=Ua[Hb];rb[Hb]=l.isArray(Bb)?Bb.map(Lb=>Cb(Lb,Fb,rb)):Cb(Bb,Fb,rb)}return rb},parseStream:function(Ua){var rb=
this,Fb=null!=Ua.filter?rb.eventExpression(Ua.filter):void 0,Hb=null!=Ua.stream?rb.get(Ua.stream):void 0;if(Ua.source)Hb=rb.events(Ua.source,Ua.type,Fb);else if(Ua.merge){var Bb=Ua.merge.map(Lb=>rb.get(Lb));Hb=Bb[0].merge.apply(Bb[0],Bb.slice(1))}Ua.between&&(Bb=Ua.between.map(Lb=>rb.get(Lb)),Hb=Hb.between(Bb[0],Bb[1]));Ua.filter&&(Hb=Hb.filter(Fb));null!=Ua.throttle&&(Hb=Hb.throttle(+Ua.throttle));null!=Ua.debounce&&(Hb=Hb.debounce(+Ua.debounce));null==Hb&&l.error("Invalid stream definition: "+JSON.stringify(Ua));
Ua.consume&&Hb.consume(!0);rb.stream(Ua,Hb)},parseUpdate:function(Ua){var rb=l.isObject(rb=Ua.source)?rb.$ref:rb;rb=this.get(rb);var Fb=Ua.update,Hb=void 0;rb||l.error("Source not defined: "+Ua.source);var Bb=Ua.target&&Ua.target.$expr?this.eventExpression(Ua.target.$expr):this.get(Ua.target);Fb&&Fb.$expr&&(Fb.$params&&(Hb=this.parseParameters(Fb.$params)),Fb=this.handlerExpression(Fb.$expr));this.update(Ua,rb,Bb,Fb,Hb)},getState:function(Ua){var rb=this,Fb={};if(Ua.signals){var Hb=Fb.signals={};
Object.keys(rb.signals).forEach(Lb=>{const Wa=rb.signals[Lb];Ua.signals(Lb,Wa)&&(Hb[Lb]=Wa.value)})}if(Ua.data){var Bb=Fb.data={};Object.keys(rb.data).forEach(Lb=>{const Wa=rb.data[Lb];Ua.data(Lb,Wa)&&(Bb[Lb]=Wa.input.value)})}rb.subcontext&&!1!==Ua.recurse&&(Fb.subcontext=rb.subcontext.map(Lb=>Lb.getState(Ua)));return Fb},setState:function(Ua){var rb=this,Fb=rb.dataflow,Hb=Ua.data,Bb=Ua.signals;Object.keys(Bb||{}).forEach(Lb=>{Fb.update(rb.signals[Lb],Bb[Lb],Sb)});Object.keys(Hb||{}).forEach(Lb=>
{Fb.pulse(rb.data[Lb].input,Fb.changeset().remove(l.truthy).insert(Hb[Lb]))});(Ua.subcontext||[]).forEach((Lb,Wa)=>{(Wa=rb.subcontext[Wa])&&Wa.setState(Lb)})}};t.context=function(Ua,rb,Fb,Hb){return new Yb(Ua,rb,Fb,Hb)}})};
shadow$provide[62]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(20),Eb(28),Eb(33),Eb(60),Eb(61),Eb(23)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph vega-functions vega-runtime vega-format".split(" "),l):(t="undefined"!==typeof globalThis?globalThis:t||self,l(t.vega={},t.vega,t.vega,t.vega,t.vega,t.vega,t.vega))})(this,function(t,l,R,hb,Cb,Yb,sc){function zc(Ha){const gb=Ha.container();gb&&(gb.setAttribute("role",
"graphics-document"),gb.setAttribute("aria-roleDescription","visualization"),pc(gb,Ha.description()))}function pc(Ha,gb){Ha&&(null==gb?Ha.removeAttribute("aria-label"):Ha.setAttribute("aria-label",gb))}function Ab(Ha){Ha.add(null,gb=>{Ha._background=gb.bg;Ha._resize=1;return gb.bg},{bg:Ha._signals.background})}function jc(Ha){const gb=Ha._signals.cursor||(Ha._signals.cursor=Ha.add({user:"default",item:null}));Ha.on(Ha.events("view","mousemove"),gb,(wb,ua)=>{const H=(wb=gb.value)?l.isString(wb)?wb:
wb.user:"default";ua=ua.item&&ua.item.cursor||null;return wb&&H===wb.user&&ua==wb.item?wb:{user:H,item:ua}});Ha.add(null,function(wb){wb=wb.cursor;let ua=this.value;l.isString(wb)||(ua=wb.item,wb=wb.user);Sb(Ha,wb&&"default"!==wb?wb:ua||wb);return ua},{cursor:gb})}function Sb(Ha,gb){if(Ha=Ha.globalCursor()?"undefined"!==typeof document&&document.body:Ha.container())return null==gb?Ha.style.removeProperty("cursor"):Ha.style.cursor=gb}function Ua(Ha,gb){Ha=Ha._runtime.data;l.hasOwnProperty(Ha,gb)||
l.error("Unrecognized data set: "+gb);return Ha[gb]}function rb(Ha,gb){R.isChangeSet(gb)||l.error("Second argument to changes must be a changeset.");Ha=Ua(this,Ha);Ha.modified=!0;return this.pulse(Ha.input,gb)}function Fb(Ha){var gb=Ha.padding();return Math.max(0,Ha._viewWidth+gb.left+gb.right)}function Hb(Ha){var gb=Ha.padding();return Math.max(0,Ha._viewHeight+gb.top+gb.bottom)}function Bb(Ha){var gb=Ha.padding();Ha=Ha._origin;return[gb.left+Ha[0],gb.top+Ha[1]]}function Lb(Ha){var gb=Bb(Ha),wb=
Fb(Ha),ua=Hb(Ha);Ha._renderer.background(Ha.background());Ha._renderer.resize(wb,ua,gb);Ha._handler.origin(gb);Ha._resizeListeners.forEach(H=>{try{H(wb,ua)}catch(za){Ha.error(za)}})}function Wa(Ha,gb,wb){function ua(Qa){var $a=za,lb;if(Qa)for(lb=gb;lb;lb=lb.mark.group)if(lb.mark.name===Qa){$a=lb;break}return $a&&$a.mark&&$a.mark.interactive?$a:{}}function H(Qa){if(!Qa)return wb;l.isString(Qa)&&(Qa=ua(Qa));const $a=wb.slice();for(;Qa;)$a[0]-=Qa.x||0,$a[1]-=Qa.y||0,Qa=Qa.mark&&Qa.mark.group;return $a}
const za=gb?"group"===gb.mark.marktype?gb:gb.mark.group:null;return{view:l.constant(Ha),item:l.constant(gb||{}),group:ua,xy:H,x:Qa=>H(Qa)[0],y:Qa=>H(Qa)[1]}}function pb(Ha){Ha=l.extend({defaults:{}},Ha);const gb=(wb,ua)=>{ua.forEach(H=>{l.isArray(wb[H])&&(wb[H]=l.toSet(wb[H]))})};gb(Ha.defaults,["prevent","allow"]);gb(Ha,["view","window","selector"]);return Ha}function Na(Ha,gb,wb,ua){Ha._eventListeners.push({type:wb,sources:l.array(gb),handler:ua})}function Da(Ha,gb,wb){const ua=Ha._eventConfig&&
Ha._eventConfig[gb];return!1===ua||l.isObject(ua)&&!ua[wb]?(Ha.warn(`Blocked ${gb} ${wb} event listener.`),!1):!0}function Ia(Ha){return Ha.item}function kb(Ha){return Ha.item.mark.source}function mb(Ha){return function(gb,wb){return wb.vega.view().changeset().encode(wb.item,Ha)}}function Ma(Ha,gb,wb){Ha=document.createElement(Ha);for(const ua in gb)Ha.setAttribute(ua,gb[ua]);null!=wb&&(Ha.textContent=wb);return Ha}function vb(Ha,gb,wb){var ua=(gb-Ha)/Math.max(0,wb),H=Math.floor(Math.log10(ua));ua/=
Math.pow(10,H);ua=ua>=$b?10:ua>=Rc?5:ua>=Pd?2:1;let za;0>H?(za=Math.pow(10,-H)/ua,H=Math.round(Ha*za),ua=Math.round(gb*za),H/za<Ha&&++H,ua/za>gb&&--ua,za=-za):(za=Math.pow(10,H)*ua,H=Math.round(Ha/za),ua=Math.round(gb/za),H*za<Ha&&++H,ua*za>gb&&--ua);return ua<H&&.5<=wb&&2>wb?vb(Ha,gb,2*wb):[H,ua,za]}function qb(Ha,gb,wb){return vb(+Ha,+gb,+wb)[2]}function Ob(Ha,gb,wb){gb=+gb;Ha=+Ha;wb=+wb;const ua=gb<Ha;Ha=ua?qb(gb,Ha,wb):qb(Ha,gb,wb);return(ua?-1:1)*(0>Ha?1/-Ha:Ha)}function Vb(Ha,gb,wb){if(gb){var ua=
wb.param,H=wb.state;H||(H=wb.state={elements:null,active:!1,set:null,update:za=>{za!=Ha.signal(ua.signal)&&Ha.runAsync(null,()=>{H.source=!0;Ha.signal(ua.signal,za)})}},ua.debounce&&(H.update=l.debounce(ua.debounce,H.update)));(null==ua.input&&ua.element?ob:ra)(H,gb,ua,Ha);H.active||(Ha.on(Ha._signals[ua.signal],null,()=>{H.source?H.source=!1:H.set(Ha.signal(ua.signal))}),H.active=!0);return H}}function ob(Ha,gb,wb,ua){const H=wb.event||"input",za=()=>Ha.update(gb.value);ua.signal(wb.signal,gb.value);
gb.addEventListener(H,za);Na(ua,gb,H,za);Ha.set=Qa=>{gb.value=Qa;Qa=gb.dispatchEvent;var $a="undefined"!==typeof Event?new Event(H):{type:H};Qa.call(gb,$a)}}function ra(Ha,gb,wb,ua){ua=ua.signal(wb.signal);const H=Ma("div",{"class":"vega-bind"}),za="radio"===wb.input?H:H.appendChild(Ma("label"));za.appendChild(Ma("span",{"class":"vega-bind-name"},wb.name||wb.signal));gb.appendChild(H);gb=Y;switch(wb.input){case "checkbox":gb=Ea;break;case "select":gb=Ga;break;case "radio":gb=cb;break;case "range":gb=
ca}gb(Ha,za,wb,ua)}function Y(Ha,gb,wb,ua){const H=Ma("input");for(const za in wb)"signal"!==za&&"element"!==za&&H.setAttribute("input"===za?"type":za,wb[za]);H.setAttribute("name",wb.signal);H.value=ua;gb.appendChild(H);H.addEventListener("input",()=>Ha.update(H.value));Ha.elements=[H];Ha.set=za=>H.value=za}function Ea(Ha,gb,wb,ua){wb={type:"checkbox",name:wb.signal};ua&&(wb.checked=!0);const H=Ma("input",wb);gb.appendChild(H);H.addEventListener("change",()=>Ha.update(H.checked));Ha.elements=[H];
Ha.set=za=>H.checked=!!za||null}function Ga(Ha,gb,wb,ua){const H=Ma("select",{name:wb.signal}),za=wb.labels||[];wb.options.forEach((Qa,$a)=>{const lb={value:Qa};pa(Qa,ua)&&(lb.selected=!0);H.appendChild(Ma("option",lb,(za[$a]||Qa)+""))});gb.appendChild(H);H.addEventListener("change",()=>{Ha.update(wb.options[H.selectedIndex])});Ha.elements=[H];Ha.set=Qa=>{for(let $a=0,lb=wb.options.length;$a<lb;++$a)if(pa(wb.options[$a],Qa)){H.selectedIndex=$a;break}}}function cb(Ha,gb,wb,ua){const H=Ma("span",{"class":"vega-bind-radio"}),
za=wb.labels||[];gb.appendChild(H);Ha.elements=wb.options.map((Qa,$a)=>{var lb={type:"radio",name:wb.signal,value:Qa};pa(Qa,ua)&&(lb.checked=!0);lb=Ma("input",lb);lb.addEventListener("change",()=>Ha.update(Qa));$a=Ma("label",{},(za[$a]||Qa)+"");$a.prepend(lb);H.appendChild($a);return lb});Ha.set=Qa=>{const $a=Ha.elements,lb=$a.length;for(let Gb=0;Gb<lb;++Gb)pa($a[Gb].value,Qa)&&($a[Gb].checked=!0)}}function ca(Ha,gb,wb,ua){ua=void 0!==ua?ua:(+wb.max+ +wb.min)/2;const H=null!=wb.max?wb.max:Math.max(100,
+ua)||100,za=wb.min||Math.min(0,H,+ua)||0,Qa=wb.step||Ob(za,H,100),$a=Ma("input",{type:"range",name:wb.signal,min:za,max:H,step:Qa});$a.value=ua;const lb=Ma("span",{},+ua);gb.appendChild($a);gb.appendChild(lb);gb=()=>{lb.textContent=$a.value;Ha.update(+$a.value)};$a.addEventListener("input",gb);$a.addEventListener("change",gb);Ha.elements=[$a];Ha.set=Gb=>{$a.value=Gb;lb.textContent=Gb}}function pa(Ha,gb){return Ha===gb||Ha+""===gb+""}function x(Ha,gb,wb,ua,H,za){gb=gb||new ua(Ha.loader());return gb.initialize(wb,
Fb(Ha),Hb(Ha),Bb(Ha),H,za).background(Ha.background())}function N(Ha,gb){return gb?function(){try{gb.apply(this,arguments)}catch(wb){Ha.error(wb)}}:null}function S(Ha,gb,wb,ua){const H=(new ua(Ha.loader(),N(Ha,Ha.tooltip()))).scene(Ha.scenegraph().root).initialize(wb,Bb(Ha),Ha);gb&&gb.handlers().forEach(za=>{H.on(za.type,za.handler)});return H}function g(Ha,gb,wb){if("string"===typeof gb)if("undefined"!==typeof document){if(gb=document.querySelector(gb),!gb)return Ha.error("Signal bind element not found: "+
gb),null}else return Ha.error("DOM document instance not found."),null;if(gb&&wb)try{gb.textContent=""}catch(ua){gb=null,Ha.error(ua)}return gb}function z(Ha){l.isObject(Ha)?Ha={top:+Ha.top||0,bottom:+Ha.bottom||0,left:+Ha.left||0,right:+Ha.right||0}:(Ha=+Ha||0,Ha={top:Ha,bottom:Ha,left:Ha,right:Ha});return Ha}function m(Ha,gb,wb,ua){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var H=hb.renderModule(gb);(H=H&&H.headless)||l.error("Unrecognized renderer type: "+gb);yield Ha.runAsync();
return x(Ha,null,null,H,wb,ua).renderAsync(Ha._scenegraph.root)})}function E(Ha,gb,wb){return Yb.context(Ha,R.transforms,Cb.functionContext,wb).parse(gb)}function h(Ha,gb){var wb=Ha.autosize();Ha=Ha.padding();return gb-(wb&&"padding"===wb.contains?Ha.left+Ha.right:0)}function p(Ha,gb){var wb=Ha.autosize();Ha=Ha.padding();return gb-(wb&&"padding"===wb.contains?Ha.top+Ha.bottom:0)}function r(Ha){function gb(){Ha._autosize=Ha._resize=1}var wb=Ha._signals,ua=wb.width,H=wb.height;wb=wb.padding;Ha._resizeWidth=
Ha.add(null,Qa=>{Ha._width=Qa.size;Ha._viewWidth=h(Ha,Qa.size);gb()},{size:ua});Ha._resizeHeight=Ha.add(null,Qa=>{Ha._height=Qa.size;Ha._viewHeight=p(Ha,Qa.size);gb()},{size:H});const za=Ha.add(null,gb,{pad:wb});Ha._resizeWidth.rank=ua.rank+1;Ha._resizeHeight.rank=H.rank+1;za.rank=wb.rank+1}function v(Ha,gb){return gb.modified&&l.isArray(gb.input.value)&&Ha.indexOf("_:vega:_")}function F(Ha,gb){return!("parent"===Ha||gb instanceof R.transforms.proxy)}function aa(){return Ac||(ud(O),Ac=Nd.now()+Zc)}
function O(){Ac=0}function u(){this._call=this._time=this._next=null}function I(){Ac=(Ic=Nd.now())+Zc;Wb=sb=0;try{aa();++Wb;for(var Ha=ic,gb;Ha;)0<=(gb=Ac-Ha._time)&&Ha._call.call(void 0,gb),Ha=Ha._next;--Wb}finally{Wb=0;Ha=ic;for(var wb=Infinity;Ha;)if(Ha._call){wb>Ha._time&&(wb=Ha._time);var ua=Ha;Ha=Ha._next}else gb=Ha._next,Ha._next=null,Ha=ua?ua._next=gb:ic=gb;dc=ua;La(wb);Ac=0}}function va(){var Ha=Nd.now(),gb=Ha-Ic;1E3<gb&&(Zc-=gb,Ic=Ha)}function La(Ha){Wb||(sb&&(sb=clearTimeout(sb)),24<Ha-
Ac?(Infinity>Ha&&(sb=setTimeout(I,Ha-Nd.now()-Zc)),Tb&&(Tb=clearInterval(Tb))):(Tb||(Ic=Nd.now(),Tb=setInterval(va,1E3)),Wb=1,ud(I)))}function Xa(Ha,gb,wb){var ua=new u,H=gb;if(null==gb)return ua.restart(Ha,gb,wb),ua;ua._restart=ua.restart;ua.restart=function(za,Qa,$a){Qa=+Qa;$a=null==$a?aa():+$a;ua._restart(function oc(Gb){Gb+=H;ua._restart(oc,H+=Qa,$a);za(Gb)},Qa,$a)};ua.restart(Ha,gb,wb);return ua}function ab(Ha,gb,wb,ua){if(Ha=Ha.element())gb=Ha.setAttribute,ua=null==ua?"":l.isArray(ua)?"["+ua.map(Ca).join(", ")+
"]":l.isObject(ua)&&!l.isDate(ua)?Z(ua):ua+"",gb.call(Ha,"title",ua)}function Z(Ha){return Object.keys(Ha).map(gb=>{const wb=Ha[gb];return gb+": "+(l.isArray(wb)?"["+wb.map(Ca).join(", ")+"]":Ca(wb))}).join("\n")}function Ca(Ha){return l.isArray(Ha)?"[]":l.isObject(Ha)&&!l.isDate(Ha)?"{}":Ha}function Ya(Ha,gb){gb=gb||{};R.Dataflow.call(this);gb.loader&&this.loader(gb.loader);gb.logger&&this.logger(gb.logger);null!=gb.logLevel&&this.logLevel(gb.logLevel);if(gb.locale||Ha.locale){var wb=l.extend({},
Ha.locale,gb.locale);this.locale(sc.locale(wb.number,wb.time))}this._elBind=this._el=null;this._renderType=gb.renderer||hb.RenderType.Canvas;this._scenegraph=new hb.Scenegraph;wb=this._scenegraph.root;this._renderer=null;this._tooltip=gb.tooltip||ab;this._redraw=!0;this._handler=(new hb.CanvasHandler).scene(wb);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=pb(Ha.eventConfig);this.globalCursor(this._eventConfig.globalCursor);
const ua=E(this,Ha,gb.expr);this._runtime=ua;this._signals=ua.signals;this._bind=(Ha.bindings||[]).map(H=>({state:null,param:l.extend({},H)}));ua.root&&ua.root.set(wb);wb.source=ua.data.root.input;this.pulse(ua.data.root.input,this.changeset().insert(wb.items));this._width=this.width();this._height=this.height();this._viewWidth=h(this,this._width);this._viewHeight=p(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;r(this);Ab(this);jc(this);this.description(Ha.description);gb.hover&&
this.hover();gb.container&&this.initialize(gb.container,gb.bind)}function Kb(Ha,gb){return l.hasOwnProperty(Ha._signals,gb)?Ha._signals[gb]:l.error("Unrecognized signal name: "+l.stringValue(gb))}function xc(Ha,gb){Ha=(Ha._targets||[]).filter(wb=>wb._update&&wb._update.handler===gb);return Ha.length?Ha[0]:null}function rc(Ha,gb,wb,ua){let H=xc(wb,ua);H||(H=N(Ha,()=>ua(gb,wb.value)),H.handler=ua,Ha.on(wb,null,H));return Ha}function yc(Ha,gb,wb){(wb=xc(gb,wb))&&gb._targets.remove(wb);return Ha}const dd=
{trap:!1},$b=Math.sqrt(50),Rc=Math.sqrt(10),Pd=Math.sqrt(2);var Pa={skip:!0},Wb=0,sb=0,Tb=0,ic,dc,Ic=0,Ac=0,Zc=0,Nd="object"===typeof performance&&performance.now?performance:Date,ud="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Ha){setTimeout(Ha,17)};u.prototype={constructor:u,restart:function(Ha,gb,wb){if("function"!==typeof Ha)throw new TypeError("callback is not a function");wb=(null==wb?aa():+wb)+(null==gb?0:+gb);this._next||dc===this||
(dc?dc._next=this:ic=this,dc=this);this._call=Ha;this._time=wb;La()},stop:function(){this._call&&(this._call=null,this._time=Infinity,La())}};l.inherits(Ya,R.Dataflow,{evaluate(Ha,gb,wb){const ua=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield R.Dataflow.prototype.evaluate.call(ua,Ha,gb);if(ua._redraw||ua._resize)try{ua._renderer&&(ua._resize&&(ua._resize=0,Lb(ua)),yield ua._renderer.renderAsync(ua._scenegraph.root)),ua._redraw=!1}catch(H){ua.error(H)}wb&&R.asyncCallback(ua,
wb);return ua})},dirty(Ha){this._redraw=!0;this._renderer&&this._renderer.dirty(Ha)},description(Ha){if(arguments.length){const gb=null!=Ha?Ha+"":null;gb!==this._desc&&pc(this._el,this._desc=gb);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(Ha,gb,wb){const ua=Kb(this,Ha);return 1===arguments.length?ua.value:this.update(ua,gb,wb)},width(Ha){return arguments.length?this.signal("width",Ha):this.signal("width")},
height(Ha){return arguments.length?this.signal("height",Ha):this.signal("height")},padding(Ha){return arguments.length?this.signal("padding",z(Ha)):z(this.signal("padding"))},autosize(Ha){return arguments.length?this.signal("autosize",Ha):this.signal("autosize")},background(Ha){return arguments.length?this.signal("background",Ha):this.signal("background")},renderer(Ha){if(!arguments.length)return this._renderType;hb.renderModule(Ha)||l.error("Unrecognized renderer type: "+Ha);Ha!==this._renderType&&
(this._renderType=Ha,this._resetRenderer());return this},tooltip(Ha){if(!arguments.length)return this._tooltip;Ha!==this._tooltip&&(this._tooltip=Ha,this._resetRenderer());return this},loader(Ha){if(!arguments.length)return this._loader;Ha!==this._loader&&(R.Dataflow.prototype.loader.call(this,Ha),this._resetRenderer());return this},resize(){this._autosize=1;return this.touch(Kb(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(Ha,
gb,wb,ua,H,za){this.runAfter(Qa=>{let $a=0;Qa._autosize=0;Qa.width()!==wb&&($a=1,Qa.signal("width",wb,Pa),Qa._resizeWidth.skip(!0));Qa.height()!==ua&&($a=1,Qa.signal("height",ua,Pa),Qa._resizeHeight.skip(!0));Qa._viewWidth!==Ha&&(Qa._resize=1,Qa._viewWidth=Ha);Qa._viewHeight!==gb&&(Qa._resize=1,Qa._viewHeight=gb);if(Qa._origin[0]!==H[0]||Qa._origin[1]!==H[1])Qa._resize=1,Qa._origin=H;$a&&Qa.run("enter");za&&Qa.runAfter(lb=>lb.resize())},!1,1)},addEventListener(Ha,gb,wb){let ua=gb;wb&&!1===wb.trap||
(ua=N(this,gb),ua.raw=gb);this._handler.on(Ha,ua);return this},removeEventListener(Ha,gb){for(var wb=this._handler.handlers(Ha),ua=wb.length,H,za;0<=--ua;)if(za=wb[ua].type,H=wb[ua].handler,Ha===za&&(gb===H||gb===H.raw)){this._handler.off(za,H);break}return this},addResizeListener(Ha){const gb=this._resizeListeners;0>gb.indexOf(Ha)&&gb.push(Ha);return this},removeResizeListener(Ha){var gb=this._resizeListeners;Ha=gb.indexOf(Ha);0<=Ha&&gb.splice(Ha,1);return this},addSignalListener(Ha,gb){return rc(this,
Ha,Kb(this,Ha),gb)},removeSignalListener(Ha,gb){return yc(this,Kb(this,Ha),gb)},addDataListener(Ha,gb){return rc(this,Ha,Ua(this,Ha).values,gb)},removeDataListener(Ha,gb){return yc(this,Ua(this,Ha).values,gb)},globalCursor(Ha){if(arguments.length){if(this._globalCursor!==!!Ha){const gb=Sb(this,null);this._globalCursor=!!Ha;gb&&Sb(this,gb)}return this}return this._globalCursor},preventDefault(Ha){return arguments.length?(this._preventDefault=Ha,this):this._preventDefault},timer:function(Ha,gb){this._timers.push(Xa(function(wb){Ha({timestamp:Date.now(),
elapsed:wb})},gb))},events:function(Ha,gb,wb){var ua=this,H=new R.EventStream(wb);wb=function(lb,Gb){ua.runAsync(null,()=>{var oc;if(oc="view"===Ha){var ec=ua._eventConfig.defaults;oc=ec.prevent;ec=ec.allow;oc=!1===oc||!0===ec?!1:!0===oc||!1===ec?!0:oc?oc[gb]:ec?!ec[gb]:ua.preventDefault()}oc&&lb.preventDefault();oc=H.receive;ec=(ec=ua._renderer)&&ec.canvas();if(ec){var kc=Bb(ua);var Sc=lb.changedTouches?lb.changedTouches[0]:lb;Sc=hb.point(Sc,ec);Sc[0]-=kc[0];Sc[1]-=kc[1]}lb.dataflow=ua;lb.item=Gb;
lb.vega=Wa(ua,Gb,Sc);oc.call(H,lb)})};var za;if("timer"===Ha)Da(ua,"timer",gb)&&ua.timer(wb,gb);else if("view"===Ha)Da(ua,"view",gb)&&ua.addEventListener(gb,wb,dd);else if("window"===Ha?Da(ua,"window",gb)&&"undefined"!==typeof window&&(za=[window]):"undefined"!==typeof document&&Da(ua,"selector",gb)&&(za=Array.from(document.querySelectorAll(Ha))),za){for(var Qa=0,$a=za.length;Qa<$a;++Qa)za[Qa].addEventListener(gb,wb);Na(ua,za,gb,wb)}else ua.warn("Can not resolve event source: "+Ha);return H},finalize:function(){var Ha=
this._tooltip,gb=this._timers,wb=this._eventListeners,ua;for(ua=gb.length;0<=--ua;)gb[ua].stop();for(ua=wb.length;0<=--ua;){var H=wb[ua];for(gb=H.sources.length;0<=--gb;)H.sources[gb].removeEventListener(H.type,H.handler)}Ha&&Ha.call(this,this._handler,null,null,null);return this},hover:function(Ha,gb){Ha=[Ha||"hover"];gb=[gb||"update",Ha[0]];this.on(this.events("view","mouseover",Ia),kb,mb(Ha));this.on(this.events("view","mouseout",Ia),kb,mb(gb));return this},data:function(Ha,gb){return 2>arguments.length?
Ua(this,Ha).values.value:rb.call(this,Ha,R.changeset().remove(l.truthy).insert(gb))},change:rb,insert:function(Ha,gb){return rb.call(this,Ha,R.changeset().insert(gb))},remove:function(Ha,gb){return rb.call(this,Ha,R.changeset().remove(gb))},scale:function(Ha){var gb=this._runtime.scales;l.hasOwnProperty(gb,Ha)||l.error("Unrecognized scale or projection: "+Ha);return gb[Ha].value},initialize:function(Ha,gb){const wb=this;var ua=wb._renderType;const H=wb._eventConfig.bind;var za=hb.renderModule(ua);
Ha=wb._el=Ha?g(wb,Ha,!0):null;zc(wb);za||wb.error("Unrecognized renderer type: "+ua);ua=za.handler||hb.CanvasHandler;za=Ha?za.renderer:za.headless;wb._renderer=za?x(wb,wb._renderer,Ha,za):null;wb._handler=S(wb,wb._handler,Ha,ua);wb._redraw=!0;Ha&&"none"!==H&&(gb=gb?wb._elBind=g(wb,gb,!0):Ha.appendChild(Ma("form",{"class":"vega-bindings"})),wb._bind.forEach(Qa=>{Qa.param.element&&"container"!==H&&(Qa.element=g(wb,Qa.param.element,!!Qa.param.input))}),wb._bind.forEach(Qa=>{Vb(wb,Qa.element||gb,Qa)}));
return wb},toImageURL:function(Ha,gb){const wb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){Ha!==hb.RenderType.Canvas&&Ha!==hb.RenderType.SVG&&Ha!==hb.RenderType.PNG&&l.error("Unrecognized image type: "+Ha);var ua=yield m(wb,Ha,gb);Ha===hb.RenderType.SVG?(ua=ua.svg(),ua=new Blob([ua],{type:"image/svg+xml"}),ua=window.URL.createObjectURL(ua)):ua=ua.canvas().toDataURL("image/png");return ua})},toCanvas:function(Ha,gb){const wb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield m(wb,
hb.RenderType.Canvas,Ha,gb)).canvas()})},toSVG:function(Ha){const gb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield m(gb,hb.RenderType.SVG,Ha)).svg()})},getState:function(Ha){return this._runtime.getState(Ha||{data:v,signals:F,recurse:!0})},setState:function(Ha){this.runAsync(null,gb=>{gb._trigger=!1;gb._runtime.setState(Ha)},gb=>{gb._trigger=!0});return this}});t.View=Ya})};
shadow$provide[63]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb):"function"===typeof define&&define.amd?define(["exports"],l):(t="undefined"!==typeof globalThis?globalThis:t||self,l(t.vega={}))})(this,function(t){function l(Ab,jc,Sb,Ua,rb){const Fb=Ab.length;let Hb=0,Bb;for(;jc<Fb;++jc)if(Bb=Ab[jc],Hb||Bb!==Sb)rb&&0<=rb.indexOf(Bb)?--Hb:Ua&&0<=Ua.indexOf(Bb)&&++Hb;else break;return jc}function R(Ab){const jc=[],Sb=Ab.length;let Ua=0,rb=0;for(;rb<Sb;)rb=l(Ab,
rb,",","[{","]}"),jc.push(Ab.substring(Ua,rb).trim()),Ua=++rb;if(0===jc.length)throw"Empty event selector: "+Ab;return jc}function hb(Ab){if("["===Ab[0]){var jc=Ab;var Sb=jc.length;Ab=l(jc,1,"]","[","]");if(Ab===Sb)throw"Empty between selector: "+jc;Sb=R(jc.substring(1,Ab));if(2!==Sb.length)throw"Between selector must have two elements: "+jc;jc=jc.slice(Ab+1).trim();if("\x3e"!==jc[0])throw"Expected '\x3e' after between selector: "+jc;Sb=Sb.map(hb);jc=hb(jc.slice(1).trim());jc.between?jc={between:Sb,
stream:jc}:jc.between=Sb}else{Sb={source:zc};const Ua=[];let rb=[0,0],Fb=0,Hb=0,Bb=Ab.length,Lb=0,Wa;if("}"===Ab[Bb-1]){Lb=Ab.lastIndexOf("{");if(0<=Lb){try{rb=Cb(Ab.substring(Lb+1,Bb-1))}catch(pb){throw"Invalid throttle specification: "+Ab;}Ab=Ab.slice(0,Lb).trim();Bb=Ab.length}else throw"Unmatched right brace: "+Ab;Lb=0}if(!Bb)throw Ab;"@"===Ab[0]&&(Fb=++Lb);Wa=l(Ab,Lb,":");Wa<Bb&&(Ua.push(Ab.substring(Hb,Wa).trim()),Hb=Lb=++Wa);Lb=l(Ab,Lb,"[");if(Lb===Bb)Ua.push(Ab.substring(Hb,Bb).trim());else if(Ua.push(Ab.substring(Hb,
Lb).trim()),jc=[],Hb=++Lb,Hb===Bb)throw"Unmatched left bracket: "+Ab;for(;Lb<Bb;){Lb=l(Ab,Lb,"]");if(Lb===Bb)throw"Unmatched left bracket: "+Ab;jc.push(Ab.substring(Hb,Lb).trim());if(Lb<Bb-1&&"["!==Ab[++Lb])throw"Expected left bracket: "+Ab;Hb=++Lb}if(!(Bb=Ua.length)||Yb.test(Ua[Bb-1]))throw"Invalid event selector: "+Ab;1<Bb?(Sb.type=Ua[1],Fb?Sb.markname=Ua[0].slice(1):pc[Ua[0]]?Sb.marktype=Ua[0]:Sb.source=Ua[0]):Sb.type=Ua[0];"!"===Sb.type.slice(-1)&&(Sb.consume=!0,Sb.type=Sb.type.slice(0,-1));null!=
jc&&(Sb.filter=jc);rb[0]&&(Sb.throttle=rb[0]);rb[1]&&(Sb.debounce=rb[1]);jc=Sb}return jc}function Cb(Ab){const jc=Ab.split(",");if(!Ab.length||2<jc.length)throw Ab;return jc.map(Sb=>{Sb=+Sb;if(Sb!==Sb)throw Ab;return Sb})}const Yb=/[[\]{}]/,sc={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let zc,pc;t.parseSelector=function(Ab,jc,Sb){zc=jc||"view";pc=Sb||sc;return R(Ab.trim()).map(hb)}})};
shadow$provide[64]=function(fc,Eb,Wc,nb){(function(t,l){"object"===typeof nb&&"undefined"!==typeof Wc?l(nb,Eb(20),Eb(60),Eb(63),Eb(32),Eb(28)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),l):(t="undefined"!==typeof globalThis?globalThis:t||self,l(t.vega={},t.vega,t.vega,t.vega,t.vega,t.vega))})(this,function(t,l,R,hb,Cb,Yb){function sc(Q){return l.isObject(Q)?Q:{type:Q||"pad"}}function zc(Q){l.isObject(Q)?
Q=Q.signal?Q:{top:+Q.top||0,bottom:+Q.bottom||0,left:+Q.left||0,right:+Q.right||0}:(Q=+Q||0,Q={top:Q,bottom:Q,left:Q,right:Q});return Q}function pc(Q,ea,J,la){return null!=J?(l.isObject(J)&&!l.isArray(J)||l.isArray(J)&&J.length&&l.isObject(J[0])?Q.update[ea]=J:Q[la||"enter"][ea]={value:J},1):0}function Ab(Q,ea,J){for(const la in ea)pc(Q,la,ea[la]);for(const la in J)pc(Q,la,J[la],"update")}function jc(Q,ea,J){for(const la in ea)J&&l.hasOwnProperty(J,la)||(Q[la]=l.extend(Q[la]||{},ea[la]));return Q}
function Sb(Q,ea){return ea&&(ea.enter&&ea.enter[Q]||ea.update&&ea.update[Q])}function Ua(Q,ea,J,la,ma){const Ja={},ib={};let gc,tc;tc="lineBreak";"text"!==ea||null==ma[tc]||Sb(tc,Q)||rb(Ja,tc,ma[tc]);if("legend"==J||String(J).startsWith("axis"))J=null;J="frame"===J?ma.group:"mark"===J?l.extend({},ma.mark,ma[ea]):null;for(tc in J)(ea=Sb(tc,Q)||("fill"===tc||"stroke"===tc)&&(Sb("fill",Q)||Sb("stroke",Q)))||rb(Ja,tc,J[tc]);l.array(la).forEach(vc=>{vc=ma.style&&ma.style[vc];for(const Xb in vc)Sb(Xb,
Q)||rb(Ja,Xb,vc[Xb])});Q=l.extend({},Q);for(tc in Ja)J=Ja[tc],J.signal?(gc=gc||{})[tc]=J:ib[tc]=J;Q.enter=l.extend(ib,Q.enter);gc&&(Q.update=l.extend(gc,Q.update));return Q}function rb(Q,ea,J){Q[ea]=J&&J.signal?{signal:J.signal}:{value:J}}function Fb(Q){if(null!=Q.gradient)return Hb(Q);if(Q.signal)var ea=`(${Q.signal})`;else Q.color?(ea=Q.color,ea=ea.c?Gd("hcl",ea.h,ea.c,ea.l):ea.h||ea.s?Gd("hsl",ea.h,ea.s,ea.l):ea.l||ea.a?Gd("lab",ea.l,ea.a,ea.b):ea.r||ea.g||ea.b?Gd("rgb",ea.r,ea.g,ea.b):null):ea=
null!=Q.field?Lb(Q.field):void 0!==Q.value?l.stringValue(Q.value):void 0;if(null!=Q.scale){const J=vd(Q.scale);null!=Q.range?ea=`lerp(_range(${J}), ${+Q.range})`:(void 0!==ea&&(ea=`_scale(${J}, ${ea})`),Q.band&&(ea=(ea?ea+"+":"")+`_bandwidth(${J})`+(1===+Q.band?"":"*"+Bb(Q.band)),Q.extra&&(ea=`(datum.extra ? _scale(${J}, datum.extra.value) : ${ea})`)),null==ea&&(ea="0"))}void 0===ea&&(ea=null);null!=Q.exponent&&(ea=`pow(${ea},${Bb(Q.exponent)})`);null!=Q.mult&&(ea+=`*${Bb(Q.mult)}`);null!=Q.offset&&
(ea+=`+${Bb(Q.offset)}`);Q.round&&(ea=`round(${ea})`);return ea}function Hb(Q){const ea=[Q.start,Q.stop,Q.count].map(J=>null==J?null:l.stringValue(J));for(;ea.length&&null==l.peek(ea);)ea.pop();ea.unshift(vd(Q.gradient));return`gradient(${ea.join(",")})`}function Bb(Q){return l.isObject(Q)?"("+Fb(Q)+")":Q}function Lb(Q){return Wa(l.isObject(Q)?Q:{datum:Q})}function Wa(Q){let ea;if(Q.signal){ea="datum";var J=Q.signal}else if(Q.group||Q.parent){J=Math.max(1,Q.level||1);for(ea="item";0<J--;)ea+=".mark.group";
Q.parent?(J=Q.parent,ea+=".datum"):J=Q.group}else Q.datum?(ea="datum",J=Q.datum):l.error("Invalid field reference: "+l.stringValue(Q));Q.signal||(J=l.isString(J)?l.splitAccessPath(J).map(l.stringValue).join("]["):Wa(J));return ea+"["+J+"]"}function pb(Q){let ea="";Q.forEach(J=>{const la=Fb(J);ea+=J.test?`(${J.test})?${la}:`:la});":"===l.peek(ea)&&(ea+="null");return ea}function Na(Q,ea,J,la,ma,Ja){const ib={};Ja=Ja||{};Ja.encoders={$encode:ib};Q=Ua(Q,ea,J,la,ma.config);for(const Dc in Q){J=Q[Dc];
la=ea;var gc=Ja,tc=ma;const yd={},Yc={};for(const hd in J)if(null!=J[hd]){var vc=Da;var Xb=J[hd];Xb=l.isArray(Xb)?pb(Xb):Fb(Xb);yd[hd]=vc(Xb,tc,gc,Yc)}J={$expr:{marktype:la,channels:yd},$fields:Object.keys(Yc),$output:Object.keys(J)};ib[Dc]=J}return Ja}function Da(Q,ea,J,la){Q=R.parseExpression(Q,ea);Q.$fields.forEach(ma=>la[ma]=1);l.extend(J,Q.$params);return Q.$expr}function Ia(Q,ea){l.error(Q+' for "outer" push: '+l.stringValue(ea))}function kb(Q,ea){const J=Q.name;if("outer"===Q.push)ea.signals[J]||
Ia("No prior signal definition",J),Fd.forEach(la=>{void 0!==Q[la]&&Ia("Invalid property ",la)});else{const la=ea.addSignal(J,Q.value);!1===Q.react&&(la.react=!1);Q.bind&&ea.addBinding(J,Q.bind)}}function mb(Q,ea,J,la){this.id=-1;this.type=Q;this.value=ea;this.params=J;la&&(this.parent=la)}function Ma(Q){const ea={$ref:Q.id};0>Q.id&&(Q.refs=Q.refs||[]).push(ea);return ea}function vb(Q,ea){return ea?{$field:Q,$name:ea}:{$field:Q}}function qb(Q,ea){Q={$key:Q};ea&&(Q.$flat=!0);return Q}function Ob(Q,
ea){return(Q&&Q.signal?"$"+Q.signal:Q||"")+(Q&&ea?"_":"")+(ea&&ea.signal?"$"+ea.signal:ea||"")}function Vb(Q){return Q&&Q.signal}function ob(Q){if(Vb(Q))return!0;if(l.isObject(Q))for(const ea in Q)if(ob(Q[ea]))return!0;return!1}function ra(Q,ea){return null!=Q?Q:ea}function Y(Q){return Q&&Q.signal||Q}function Ea(Q,ea){return(Q.merge?Ga:Q.stream?cb:Q.type?ca:l.error("Invalid stream specification: "+l.stringValue(Q)))(Q,ea)}function Ga(Q,ea){const J=Q.merge.map(la=>Ea(la,ea));Q=pa({merge:J},Q,ea);return ea.addStream(Q).id}
function cb(Q,ea){const J=Ea(Q.stream,ea);Q=pa({stream:J},Q,ea);return ea.addStream(Q).id}function ca(Q,ea){if("timer"===Q.type){var J=ea.event("timer",Q.throttle);Q={between:Q.between,filter:Q.filter}}else J=Q.source,J=ea.event.call(ea,"scope"===J?"view":J||"view",Q.type);Q=pa({stream:J},Q,ea);return 1===Object.keys(Q).length?J:ea.addStream(Q).id}function pa(Q,ea,J){let la=ea.between;la&&(2!==la.length&&l.error('Stream "between" parameter must have 2 entries: '+l.stringValue(ea)),Q.between=[Ea(la[0],
J),Ea(la[1],J)]);la=ea.filter?[].concat(ea.filter):[];if(ea.marktype||ea.markname||ea.markrole){var ma=la,Ja=ea.marktype,ib=ea.markname,gc=ea.markrole;ma.push.call(ma,"event.item"+(Ja&&"*"!==Ja?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+Ja+"'":"")+(gc?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+gc+"'":"")+(ib?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+ib+"'":""))}"scope"===ea.source&&la.push("inScope(event.item)");la.length&&(Q.filter=R.parseExpression("("+la.join(")\x26\x26(")+")",J).$expr);
null!=(la=ea.throttle)&&(Q.throttle=+la);null!=(la=ea.debounce)&&(Q.debounce=+la);ea.consume&&(Q.consume=!0);return Q}function x(Q,ea,J){const la=Q.encode,ma={target:J};J=Q.events;let Ja=Q.update,ib=[];J||l.error("Signal update missing events specification.");l.isString(J)&&(J=hb.parseSelector(J,ea.isSubscope()?"scope":"view"));J=l.array(J).filter(gc=>gc.signal||gc.scale?(ib.push(gc),0):1);1<ib.length&&(ib=[N(ib)]);J.length&&ib.push(1<J.length?{merge:J}:J[0]);null!=la&&(Ja&&l.error("Signal encode and update are mutually exclusive."),
Ja="encode(item(),"+l.stringValue(la)+")");ma.update=l.isString(Ja)?R.parseExpression(Ja,ea):null!=Ja.expr?R.parseExpression(Ja.expr,ea):null!=Ja.value?Ja.value:null!=Ja.signal?{$expr:Od,$params:{$value:ea.signalRef(Ja.signal)}}:l.error("Invalid signal update specification.");Q.force&&(ma.options={force:!0});ib.forEach(gc=>{var tc=ea.addUpdate,vc=l.extend;gc={source:gc.signal?ea.signalRef(gc.signal):gc.scale?ea.scaleRef(gc.scale):Ea(gc,ea)};return tc.call(ea,vc.call(l,gc,ma))})}function N(Q){return{signal:"["+
Q.map(ea=>ea.scale?'scale("'+ea.scale+'")':ea.signal)+"]"}}function S(Q,ea){const J=ea.getSignal(Q.name);let la=Q.update;Q.init&&(la?l.error("Signals can not include both init and update expressions."):(la=Q.init,J.initonly=!0));la&&(la=R.parseExpression(la,ea),J.update=la.$expr,J.params=la.$params);Q.on&&Q.on.forEach(ma=>x(ma,ea,J.id))}function g(Q,ea){return l.isObject(Q)?Q.signal?ea.signalRef(Q.signal):l.error("Unsupported object: "+l.stringValue(Q)):Q}function z(Q,ea){return Q.signal?ea.signalRef(Q.signal):
Q.map(J=>g(J,ea))}function m(Q){l.error("Can not find data set: "+l.stringValue(Q))}function E(Q,ea,J){if(Q)return Q.signal?J.signalRef(Q.signal):(l.isArray(Q)?h:Q.fields?r:p)(Q,ea,J);null==ea.domainMin&&null==ea.domainMax||l.error("No scale domain defined for domainMin/domainMax to override.")}function h(Q,ea,J){return Q.map(la=>g(la,J))}function p(Q,ea,J){const la=J.getData(Q.data);la||m(Q.data);return Cb.isDiscrete(ea.type)?la.valuesRef(J,Q.field,F(Q.sort,!1)):Cb.isQuantile(ea.type)?la.domainRef(J,
Q.field):la.extentRef(J,Q.field)}function r(Q,ea,J){const la=Q.data,ma=Q.fields.reduce((Ja,ib)=>{if(l.isString(ib))ib={data:la,field:ib};else if(l.isArray(ib)||ib.signal){var gc=ib;ib="_:vega:_"+Qc++;const tc=ef({});l.isArray(gc)?tc.value={$ingest:gc}:gc.signal&&(gc="setdata("+l.stringValue(ib)+","+gc.signal+")",tc.params.input=J.signalRef(gc));J.addDataPipeline(ib,[tc,qc({})]);ib={data:ib,field:"data"}}Ja.push(ib);return Ja},[]);return(Cb.isDiscrete(ea.type)?v:Cb.isQuantile(ea.type)?aa:O)(Q,J,ma)}
function v(Q,ea,J){const la=F(Q.sort,!0);Q=J.map(Ja=>{const ib=ea.getData(Ja.data);ib||m(Ja.data);return ib.countsRef(ea,Ja.field,la)});const ma={groupby:Xd,pulse:Q};la&&(Q=la.op||"count",J=la.field?Ob(Q,la.field):"count",ma.ops=[td[Q]],ma.fields=[ea.fieldRef(J)],ma.as=[J]);Q=ea.add(De(ma));Q=ea.add(ef({pulse:Ma(Q)}));J=ea.add(Uc({field:Xd,sort:ea.sortRef(la),pulse:Ma(Q)}));return Ma(J)}function F(Q,ea){Q&&(Q.field||Q.op?Q.field||"count"===Q.op?ea&&Q.field&&Q.op&&!td[Q.op]&&l.error("Multiple domain scales can not be sorted using "+
Q.op):l.error("No field provided for sort aggregate op: "+Q.op):l.isObject(Q)?Q.field="key":Q={field:"key"});return Q}function aa(Q,ea,J){Q=J.map(la=>{const ma=ea.getData(la.data);ma||m(la.data);return ma.domainRef(ea,la.field)});return Ma(ea.add(Sa({values:Q})))}function O(Q,ea,J){Q=J.map(la=>{const ma=ea.getData(la.data);ma||m(la.data);return ma.extentRef(ea,la.field)});return Ma(ea.add(fa({extents:Q})))}function u(Q,ea,J){const la=ea.config.range;let ma=Q.range;if(ma.signal)return ea.signalRef(ma.signal);
if(l.isString(ma)){if(la&&l.hasOwnProperty(la,ma))return Q=l.extend({},Q,{range:la[ma]}),u(Q,ea,J);"width"===ma?ma=[0,{signal:"width"}]:"height"===ma?ma=Cb.isDiscrete(Q.type)?[0,{signal:"height"}]:[{signal:"height"},0]:l.error("Unrecognized scale range value: "+l.stringValue(ma))}else{if(ma.scheme){J.scheme=l.isArray(ma.scheme)?z(ma.scheme,ea):g(ma.scheme,ea);ma.extent&&(J.schemeExtent=z(ma.extent,ea));ma.count&&(J.schemeCount=g(ma.count,ea));return}if(ma.step){J.rangeStep=g(ma.step,ea);return}if(Cb.isDiscrete(Q.type)&&
!l.isArray(ma))return E(ma,Q,ea);l.isArray(ma)||l.error("Unsupported range type: "+l.stringValue(ma))}return ma.map(Ja=>(l.isArray(Ja)?z:g)(Ja,ea))}function I(Q,ea,J){return l.isArray(Q)?Q.map(la=>I(la,ea,J)):l.isObject(Q)?Q.signal?J.signalRef(Q.signal):"fit"===ea?Q:l.error("Unsupported parameter object: "+l.stringValue(Q)):Q}function va(Q){Q.type="group";Q.interactive=Q.interactive||!1;return Q}function La(Q,ea){const J=(la,ma)=>ra(Q[la],ra(ea[la],ma));J.isVertical=la=>"vertical"===ra(Q.direction,
ea.direction||(la?ea.symbolDirection:ea.gradientDirection));J.gradientLength=()=>ra(Q.gradientLength,ea.gradientLength||ea.gradientWidth);J.gradientThickness=()=>ra(Q.gradientThickness,ea.gradientThickness||ea.gradientHeight);J.entryColumns=()=>ra(Q.columns,ra(ea.columns,+J.isVertical(!0)));return J}function Xa(Q,ea){return(Q=ea&&(ea.update&&ea.update[Q]||ea.enter&&ea.enter[Q]))&&Q.signal?Q:Q?Q.value:null}function ab(Q,ea,J){return`item.anchor === '${"start"}' ? ${Q} : item.anchor === '${"end"}' ? ${ea} : ${J}`}
function Z(Q,ea){return ea?Q?l.isObject(Q)?Object.assign({},Q,{offset:Z(Q.offset,ea)}):{value:Q,offset:ea}:ea:Q}function Ca(Q,ea){ea?(Q.name=ea.name,Q.style=ea.style||Q.style,Q.interactive=!!ea.interactive,Q.encode=jc(Q.encode,ea,Ld)):Q.interactive=!1;return Q}function Ya(Q,ea,J,la){Q=La(Q,J);J=Q.isVertical();var ma=Q.gradientThickness();const Ja=Q.gradientLength();let ib,gc,tc;J?(J=[0,1],gc=[0,0],tc=ma,ma=Ja):(J=[0,0],gc=[1,0],tc=Ja);ma={enter:ib={opacity:Cd,x:Cd,y:Cd,width:Nc(tc),height:Nc(ma)},
update:l.extend({},ib,{opacity:be,fill:{gradient:ea,start:J,stop:gc}}),exit:{opacity:Cd}};Ab(ma,{stroke:Q("gradientStrokeColor"),strokeWidth:Q("gradientStrokeWidth")},{opacity:Q("gradientOpacity")});return Ca({type:"rect",role:"legend-gradient",encode:ma},la)}function Kb(Q,ea,J,la,ma){Q=La(Q,J);const Ja=Q.isVertical();J=Q.gradientThickness();const ib=Q.gradientLength();var gc;let tc,vc,Xb,Dc="";Ja?(gc="y",vc="y2",tc="x",Xb="width",Dc="1-"):(gc="x",vc="x2",tc="y",Xb="height");ea={opacity:Cd,fill:{scale:ea,
field:"value"}};ea[gc]={signal:Dc+"datum.perc",mult:ib};ea[tc]=Cd;ea[vc]={signal:Dc+"datum.perc2",mult:ib};ea[Xb]=Nc(J);gc={enter:ea,update:l.extend({},ea,{opacity:be}),exit:{opacity:Cd}};Ab(gc,{stroke:Q("gradientStrokeColor"),strokeWidth:Q("gradientStrokeWidth")},{opacity:Q("gradientOpacity")});return Ca({type:"rect",role:"legend-band",key:"value",from:ma,encode:gc},la)}function xc(Q,ea,J,la){const ma=La(Q,ea);var Ja=ma.isVertical();const ib=Nc(ma.gradientThickness()),gc=ma.gradientLength();let tc=
ma("labelOverlap"),vc,Xb,Dc,yd="";const Yc={enter:vc={opacity:Cd},update:Xb={opacity:be,text:{field:"label"}},exit:{opacity:Cd}};Ab(Yc,{fill:ma("labelColor"),fillOpacity:ma("labelOpacity"),font:ma("labelFont"),fontSize:ma("labelFontSize"),fontStyle:ma("labelFontStyle"),fontWeight:ma("labelFontWeight"),limit:ra(Q.labelLimit,ea.gradientLabelLimit)});Ja?(vc.align={value:"left"},vc.baseline=Xb.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},Ja="y",Dc="x",yd="1-"):(vc.align=
Xb.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},vc.baseline={value:"top"},Ja="x",Dc="y");vc[Ja]=Xb[Ja]={signal:yd+"datum.perc",mult:gc};vc[Dc]=Xb[Dc]=ib;ib.offset=ra(Q.labelOffset,ea.gradientLabelOffset)||0;tc=tc?{separation:ma("labelSeparation"),method:tc,order:"datum.index"}:void 0;return Ca({type:"text",role:"legend-label",style:"guide-label",key:"value",from:la,encode:Yc,overlap:tc},J)}function rc(Q,ea,J,la,ma){var Ja=La(Q,ea);const ib=J.entries,gc=!(!ib||!ib.interactive),
tc=ib?ib.name:void 0,vc=Ja("clipHeight"),Xb=Ja("symbolOffset"),Dc={data:"value"},yd=`(${ma}) ? datum.${"offset"} : datum.${"size"}`,Yc=vc?Nc(vc):{field:"size"},hd=`max(1, ${ma})`;let Ad,Hd;Yc.mult=.5;var Pc={enter:Ad={opacity:Cd,x:{signal:yd,mult:.5,offset:Xb},y:Yc},update:Hd={opacity:be,x:Ad.x,y:Ad.y},exit:{opacity:Cd}};let Ee=null,Ge=null;Q.fill||(Ee=ea.symbolBaseFillColor,Ge=ea.symbolBaseStrokeColor);Ab(Pc,{fill:Ja("symbolFillColor",Ee),shape:Ja("symbolType"),size:Ja("symbolSize"),stroke:Ja("symbolStrokeColor",
Ge),strokeDash:Ja("symbolDash"),strokeDashOffset:Ja("symbolDashOffset"),strokeWidth:Ja("symbolStrokeWidth")},{opacity:Ja("symbolOpacity")});kd.forEach(Ae=>{Q[Ae]&&(Hd[Ae]=Ad[Ae]={scale:Q[Ae],field:"value"})});ea=Ca({type:"symbol",role:"legend-symbol",key:"value",from:Dc,clip:vc?!0:void 0,encode:Pc},J.symbols);Pc=Nc(Xb);Pc.offset=Ja("labelOffset");Pc={enter:Ad={opacity:Cd,x:{signal:yd,offset:Pc},y:Yc},update:Hd={opacity:be,text:{field:"label"},x:Ad.x,y:Ad.y},exit:{opacity:Cd}};Ab(Pc,{align:Ja("labelAlign"),
baseline:Ja("labelBaseline"),fill:Ja("labelColor"),fillOpacity:Ja("labelOpacity"),font:Ja("labelFont"),fontSize:Ja("labelFontSize"),fontStyle:Ja("labelFontStyle"),fontWeight:Ja("labelFontWeight"),limit:Ja("labelLimit")});J=Ca({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Dc,encode:Pc},J.labels);Pc={enter:{noBound:{value:!vc},width:Cd,height:vc?Nc(vc):Cd,opacity:Cd},exit:{opacity:Cd},update:Hd={opacity:be,row:{signal:null},column:{signal:null}}};Ja.isVertical(!0)?(Ja=`ceil(item.mark.items.length / ${hd})`,
Hd.row.signal=`${"datum.index"}%${Ja}`,Hd.column.signal=`floor(${"datum.index"} / ${Ja})`,Ja={field:["row","datum.index"]}):(Hd.row.signal=`floor(${"datum.index"} / ${hd})`,Hd.column.signal=`${"datum.index"} % ${hd}`,Ja={field:"datum.index"});Hd.column.signal=`(${ma})?${Hd.column.signal}:${"datum.index"}`;la={facet:{data:la,name:"value",groupby:"index"}};return va({role:"scope",from:la,encode:jc(Pc,ib,Ld),marks:[ea,J],name:tc,interactive:gc,sort:Ja})}function yc(Q,ea){Q=La(Q,ea);return{align:Q("gridAlign"),
columns:Q.entryColumns(),center:{row:!0,column:!1},padding:{row:Q("rowPadding"),column:Q("columnPadding")}}}function dd(Q,ea,J,la){ea=La(Q,ea);const ma={enter:{opacity:Cd},update:{opacity:be,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Cd}};Ab(ma,{orient:ea("titleOrient"),_anchor:ea("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},
align:{signal:$e},baseline:{signal:sf},text:Q.title,fill:ea("titleColor"),fillOpacity:ea("titleOpacity"),font:ea("titleFont"),fontSize:ea("titleFontSize"),fontStyle:ea("titleFontStyle"),fontWeight:ea("titleFontWeight"),limit:ea("titleLimit"),lineHeight:ea("titleLineHeight")},{align:ea("titleAlign"),baseline:ea("titleBaseline")});return Ca({type:"text",role:"legend-title",style:"guide-title",from:la,encode:ma},J)}function $b(Q,ea){let J;l.isObject(Q)&&(Q.signal?J=Q.signal:Q.path?J="pathShape("+Rc(Q.path)+
")":Q.sphere&&(J="geoShape("+Rc(Q.sphere)+', {type: "Sphere"})'));return J?ea.signalRef(J):!!Q}function Rc(Q){return l.isObject(Q)&&Q.signal?Q.signal:l.stringValue(Q)}function Pd(Q){const ea=Q.role||"";return ea.indexOf("axis")&&ea.indexOf("legend")&&ea.indexOf("title")?"group"===Q.type?"scope":ea||"mark":ea}function Pa(Q){return{marktype:Q.type,name:Q.name||void 0,role:Q.role||Pd(Q),zindex:+Q.zindex||void 0,aria:Q.aria,description:Q.description}}function Wb(Q,ea){return Q&&Q.signal?ea.signalRef(Q.signal):
!1===Q?!1:!0}function sb(Q,ea){const J=Yb.definition(Q.type);J||l.error("Unrecognized transform type: "+l.stringValue(Q.type));var la=J.type.toLowerCase();var ma=Tb(J,Q,ea);la=new mb(la,null,ma,void 0);Q.signal&&ea.addSignal(Q.signal,ea.proxy(la));la.metadata=J.metadata||{};return la}function Tb(Q,ea,J){const la={},ma=Q.params.length;for(let Ja=0;Ja<ma;++Ja){const ib=Q.params[Ja];la[ib.name]=ic(ib,ea,J)}return la}function ic(Q,ea,J){const la=Q.type,ma=ea[Q.name];if("index"===la)return Ic(Q,ea,J);
if(void 0===ma)Q.required&&l.error("Missing required "+l.stringValue(ea.type)+" parameter: "+l.stringValue(Q.name));else return"param"===la?Ac(Q,ea,J):"projection"===la?J.projectionRef(ea[Q.name]):Q.array&&!Vb(ma)?ma.map(Ja=>dc(Q,Ja,J)):dc(Q,ma,J)}function dc(Q,ea,J){const la=Q.type;return Vb(ea)?"expr"===la?l.error("Expression references can not be signals."):"field"===la?J.fieldRef(ea):"compare"===la?J.compareRef(ea):J.signalRef(ea.signal):(Q=Q.expr||"field"===la)&&ea&&ea.expr?J.exprRef(ea.expr,
ea.as):Q&&ea&&ea.field?vb(ea.field,ea.as):"expr"===la?R.parseExpression(ea,J):"data"===la?Ma(J.getData(ea).values):"field"===la?vb(ea):"compare"===la?J.compareRef(ea):ea}function Ic(Q,ea,J){l.isString(ea.from)||l.error('Lookup "from" parameter must be a string literal.');return J.getData(ea.from).lookupRef(J,ea.key)}function Ac(Q,ea,J){ea=ea[Q.name];return Q.array?(l.isArray(ea)||l.error("Expected an array of sub-parameters. Instead: "+l.stringValue(ea)),ea.map(la=>Zc(Q,la,J))):Zc(Q,ea,J)}function Zc(Q,
ea,J){const la=Q.params.length;let ma;for(let Ja=0;Ja<la;++Ja){ma=Q.params[Ja];for(const ib in ma.key)if(ma.key[ib]!==ea[ib]){ma=null;break}if(ma)break}ma||l.error("Unsupported parameter: "+l.stringValue(ea));Q=l.extend(Tb(ma,ea,J),ma.key);return Ma(J.add(Jc(Q)))}function Nd(Q,ea,J){let la,ma,Ja,ib;if(!Q)Ja=Ma(J.add(ef(null,[{}])));else if(la=Q.facet)ea||l.error("Only group marks can be faceted."),null!=la.field?Ja=ib=ud(la,J):(Q.data?ib=Ma(J.getData(Q.data).aggregate):(ea=sb(l.extend({type:"aggregate",
groupby:l.array(la.groupby)},la.aggregate),J),ea.params.key=J.keyRef(la.groupby),ea.params.pulse=ud(la,J),Ja=ib=Ma(J.add(ea))),ma=J.keyRef(la.groupby,!0));Ja||(Ja=ud(Q,J));return{key:ma,pulse:Ja,parent:ib}}function ud(Q,ea){return Q.$ref?Q:Q.data&&Q.data.$ref?Q.data:Ma(ea.getData(Q.data).output)}function Ha(Q,ea,J,la,ma){this.scope=Q;this.input=ea;this.output=J;this.values=la;this.aggregate=ma;this.index={}}function gb(Q){return l.isString(Q)?Q:null}function wb(Q,ea,J){const la=Ob(J.op,J.field);let ma;
if(ea.ops)for(let Ja=0,ib=ea.as.length;Ja<ib;++Ja){if(ea.as[Ja]===la)return}else ea.ops=["count"],ea.fields=[null],ea.as=["count"];J.op&&(ea.ops.push((ma=J.op.signal)?Q.signalRef(ma):J.op),ea.fields.push(Q.fieldRef(J.field)),ea.as.push(la))}function ua(Q,ea,J,la,ma,Ja,ib){J=ea[J]||(ea[J]={});var gc=l.isObject(Ja)?("descending"===Ja.order?"-":"+")+Ob(Ja.op,Ja.field):"";let tc=gb(ma);if(null!=tc){Q=ea.scope;tc+=gc?"|"+gc:"";var vc=J[tc]}vc||(vc=Ja?{field:Xd,pulse:ea.countsRef(Q,ma,Ja)}:{field:Q.fieldRef(ma),
pulse:Ma(ea.output)},gc&&(vc.sort=Q.sortRef(Ja)),Q=Q.add(new mb(la,void 0,vc,void 0)),ib&&(ea.index[ma]=Q),vc=Ma(Q),null!=tc&&(J[tc]=vc));return vc}function H(Q,ea,J){var la=Q.from.facet;const ma=la.name,Ja=ud(la,ea);let ib;la.name||l.error("Facet must have a name: "+l.stringValue(la));la.data||l.error("Facet must reference a data set: "+l.stringValue(la));la.field?ib=ea.add(Bc({field:ea.fieldRef(la.field),pulse:Ja})):la.groupby?ib=ea.add(db({key:ea.keyRef(la.groupby),group:Ma(ea.proxy(J.parent)),
pulse:Ja})):l.error("Facet must specify groupby or field: "+l.stringValue(la));ea=ea.fork();J=ea.add(ef());la=ea.add(qc({pulse:Ma(J)}));ea.addData(ma,new Ha(ea,J,J,la));ea.addSignal("parent",null);ib.params.subflow={$subflow:ea.parse(Q).toRuntime()}}function za(Q,ea,J){J=ea.add(Bc({pulse:J.pulse}));ea=ea.fork();ea.add(qc());ea.addSignal("parent",null);J.params.subflow={$subflow:ea.parse(Q).toRuntime()}}function Qa(Q,ea,J){const la=Q.remove,ma=Q.insert,Ja=Q.toggle,ib=Q.modify,gc=Q.values,tc=ea.add(new mb("operator",
void 0,void 0,void 0));Q="if("+Q.trigger+',modify("'+J+'",'+[ma,la,Ja,ib,gc].map(vc=>null==vc?"null":vc).join(",")+"),0)";ea=R.parseExpression(Q,ea);tc.update=ea.$expr;tc.params=ea.$params}function $a(Q,ea){var J=Pd(Q),la="group"===Q.type,ma=Q.from&&Q.from.facet;const Ja=Q.overlap;let ib=Q.layout||"scope"===J||"frame"===J,gc,tc,vc,Xb,Dc,yd;const Yc="mark"===J||ib||ma,hd=Nd(Q.from,la,ea);tc=ea.add(nf({key:hd.key||(Q.key?vb(Q.key):void 0),pulse:hd.pulse,clean:!la}));const Ad=Ma(tc);tc=vc=ea.add(ef({pulse:Ad}));
tc=ea.add(L({markdef:Pa(Q),interactive:Wb(Q.interactive,ea),clip:$b(Q.clip,ea),context:{$context:!0},groups:ea.lookup(),parent:ea.signals.parent?ea.signalRef("parent"):null,index:ea.markpath(),pulse:Ma(tc)}));var Hd=Ma(tc);tc=Xb=ea.add(W(Na(Q.encode,Q.type,J,Q.style,ea,{mod:!1,pulse:Hd})));tc.params.parent=ea.encode();Q.transform&&Q.transform.forEach(Ee=>{Ee=sb(Ee,ea);const Ge=Ee.metadata;(Ge.generates||Ge.changes)&&l.error("Mark transforms should not generate new data.");Ge.nomod||(Xb.params.mod=
!0);Ee.params.pulse=Ma(tc);ea.add(tc=Ee)});Q.sort&&(tc=ea.add(wd({sort:ea.compareRef(Q.sort),pulse:Ma(tc)})));J=Ma(tc);if(ma||ib)ib=ea.add(Mc({layout:ea.objectProperty(Q.layout),legends:ea.legends,mark:Hd,pulse:J})),yd=Ma(ib);const Pc=ea.add(df({mark:Hd,pulse:yd||J}));Hd=Ma(Pc);la&&(Yc&&(gc=ea.operators,gc.pop(),ib&&gc.pop()),ea.pushState(J,yd||Hd,Ad),ma?H(Q,ea,hd):Yc?za(Q,ea,hd):ea.parse(Q),ea.popState(),Yc&&(ib&&gc.push(ib),gc.push(Pc)));Ja&&(Hd=lb(Ja,Hd,ea));la=ea.add(Ra({pulse:Hd}));ma=ea.add(qc({pulse:Ma(la)},
void 0,ea.parent()));null!=Q.name&&(Dc=Q.name,ea.addData(Dc,new Ha(ea,vc,la,ma)),Q.on&&Q.on.forEach(Ee=>{(Ee.insert||Ee.remove||Ee.toggle)&&l.error("Marks only support modify triggers.");Qa(Ee,ea,Dc)}))}function lb(Q,ea,J){const la=Q.method,ma=Q.bound,Ja=Q.separation;ea={separation:Vb(Ja)?J.signalRef(Ja.signal):Ja,method:Vb(la)?J.signalRef(la.signal):la,pulse:ea};Q.order&&(ea.sort=J.compareRef({field:Q.order}));ma&&(Q=ma.tolerance,ea.boundTolerance=Vb(Q)?J.signalRef(Q.signal):+Q,ea.boundScale=J.scaleRef(ma.scale),
ea.boundOrient=ma.orient);return Ma(J.add(cc(ea)))}function Gb(Q,ea){const J=ea.config.legend,la=Q.encode||{},ma=La(Q,J),Ja=la.legend||{},ib=Ja.name||void 0,gc=Ja.interactive,tc=Ja.style,vc={};let Xb=0,Dc,yd;kd.forEach(Pc=>Q[Pc]?(vc[Pc]=Q[Pc],Xb=Xb||Q[Pc]):0);Xb||l.error("Missing valid scale for legend.");var Yc=oc(Q,ea.scaleType(Xb));const hd={title:null!=Q.title,scales:vc,type:Yc,vgrad:"symbol"!==Yc&&ma.isVertical()},Ad=Ma(ea.add(ef(null,[hd]))),Hd=Ma(ea.add(Ec(yd={type:Yc,scale:ea.scaleRef(Xb),
count:ea.objectProperty(ma("tickCount")),limit:ea.property(ma("symbolLimit")),values:ea.objectProperty(Q.values),minstep:ea.property(Q.tickMinStep),formatType:ea.property(Q.formatType),formatSpecifier:ea.property(Q.format)})));"gradient"===Yc?(Yc=[Ya(Q,Xb,J,la.gradient),xc(Q,J,la.labels,Hd)],yd.count=yd.count||ea.signalRef(`max(2,2*floor((${Y(ma.gradientLength())})/100))`)):"discrete"===Yc?Yc=[Kb(Q,Xb,J,la.gradient,Hd),xc(Q,J,la.labels,Hd)]:(Dc=yc(Q,J),Yc=[rc(Q,J,la,Hd,Y(Dc.columns))],yd.size=Sc(Q,
ea,Yc[0].marks));Yc=[va({role:"legend-entry",from:Ad,encode:{enter:{x:{value:0},y:{value:0}}},marks:Yc,layout:Dc,interactive:gc})];hd.title&&Yc.push(dd(Q,J,la.title,Ad));return $a(va({role:"legend",from:Ad,encode:jc(kc(ma,Q,J),Ja,Ld),marks:Yc,aria:ma("aria"),description:ma("description"),zindex:ma("zindex"),name:ib,interactive:gc,style:tc}),ea)}function oc(Q,ea){let J=Q.type||"symbol";Q.type||1!==ec(Q)||!Q.fill&&!Q.stroke||(J=Cb.isContinuous(ea)?"gradient":Cb.isDiscretizing(ea)?"discrete":"symbol");
return"gradient"!==J?J:Cb.isDiscretizing(ea)?"discrete":"gradient"}function ec(Q){return kd.reduce((ea,J)=>ea+(Q[J]?1:0),0)}function kc(Q,ea,J){const la={enter:{},update:{}};Ab(la,{orient:Q("orient"),offset:Q("offset"),padding:Q("padding"),titlePadding:Q("titlePadding"),cornerRadius:Q("cornerRadius"),fill:Q("fillColor"),stroke:Q("strokeColor"),strokeWidth:J.strokeWidth,strokeDash:J.strokeDash,x:Q("legendX"),y:Q("legendY"),format:ea.format,formatType:ea.formatType});return la}function Sc(Q,ea,J){const la=
Y(ed("size",Q,J));Q=Y(ed("strokeWidth",Q,J));(J=Xa("fontSize",J[1].encode))||(J=(J=ea.config.style["guide-label"])&&J.fontSize);J=Y(J);return R.parseExpression(`max(ceil(sqrt(${la})+${Q}),${J})`,ea)}function ed(Q,ea,J){return ea[Q]?`scale("${ea[Q]}",datum)`:Xa(Q,J[0].encode)}function fd(Q,ea){Q=l.isString(Q)?{text:Q}:Q;const J=La(Q,ea.config.title);var la=Q.encode||{},ma=la.group||{};const Ja=ma.name||void 0,ib=ma.interactive,gc=ma.style,tc=[],vc=Ma(ea.add(ef(null,[{}])));var Xb=tc.push,Dc=Q;var yd=
(yd=Q.encode)&&yd.title||l.extend({name:Q.name,interactive:Q.interactive,style:Q.style},yd);var Yc={value:0};Yc={enter:{opacity:Yc},update:{opacity:{value:1}},exit:{opacity:Yc}};Ab(Yc,{text:Dc.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:J("dx"),dy:J("dy"),fill:J("color"),font:J("font"),fontSize:J("fontSize"),fontStyle:J("fontStyle"),fontWeight:J("fontWeight"),lineHeight:J("lineHeight")},{align:J("align"),
angle:J("angle"),baseline:J("baseline")});Dc=Ca({type:"text",role:"title-text",style:"group-title",from:vc,encode:Yc},yd);Xb.call(tc,Dc);Q.subtitle&&(Xb=tc.push,la=la.subtitle,Dc={value:0},Dc={enter:{opacity:Dc},update:{opacity:{value:1}},exit:{opacity:Dc}},Ab(Dc,{text:Q.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:J("dx"),dy:J("dy"),fill:J("subtitleColor"),font:J("subtitleFont"),fontSize:J("subtitleFontSize"),
fontStyle:J("subtitleFontStyle"),fontWeight:J("subtitleFontWeight"),lineHeight:J("subtitleLineHeight")},{align:J("align"),angle:J("angle"),baseline:J("baseline")}),Q=Ca({type:"text",role:"title-subtitle",style:"group-subtitle",from:vc,encode:Dc},la),Xb.call(tc,Q));Q={enter:{},update:{}};Ab(Q,{orient:J("orient"),anchor:J("anchor"),align:{signal:ve},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},limit:J("limit"),frame:J("frame"),offset:J("offset")||0,padding:J("subtitlePadding")});
ma=jc(Q,ma,Ld);return $a(va({role:"title",from:vc,encode:ma,marks:tc,aria:J("aria"),description:J("description"),zindex:J("zindex"),name:Ja,interactive:ib,style:gc}),ea)}function Qd(Q,ea){const J=[];Q.transform&&Q.transform.forEach(la=>{J.push(sb(la,ea))});Q.on&&Q.on.forEach(la=>{Qa(la,ea,Q.name)});ea.addDataPipeline(Q.name,Td(Q,ea,J))}function Td(Q,ea,J){const la=[];let ma=null,Ja=!1,ib=!1,gc,tc,vc,Xb;Q.values?Vb(Q.values)||ob(Q.format)?(la.push(Yd(ea,Q)),la.push(ma=Ed())):la.push(ma=Ed({$ingest:Q.values,
$format:Q.format})):Q.url?ob(Q.url)||ob(Q.format)?(la.push(Yd(ea,Q)),la.push(ma=Ed())):la.push(ma=Ed({$request:Q.url,$format:Q.format})):Q.source&&(ma=gc=l.array(Q.source).map(Dc=>Ma(ea.getData(Dc).output)),la.push(null));Q=0;for(tc=J.length;Q<tc;++Q)vc=J[Q],Xb=vc.metadata,ma||Xb.source||la.push(ma=Ed()),la.push(vc),Xb.generates&&(ib=!0),Xb.modifies&&!ib&&(Ja=!0),Xb.source?ma=vc:Xb.changes&&(ma=null);gc&&(tc=gc.length-1,la[0]=ee({derive:Ja,pulse:tc?gc:gc[0]}),(Ja||tc)&&la.splice(1,0,Ed()));ma||la.push(Ed());
la.push(qc({}));return la}function Ed(Q){Q=ef({},Q);Q.metadata={source:!0};return Q}function Yd(Q,ea){return ac({url:ea.url?Q.property(ea.url):void 0,async:ea.async?Q.property(ea.async):void 0,values:ea.values?Q.property(ea.values):void 0,format:Q.objectProperty(ea.format)})}function ae(Q,ea,J,la){let ma;if(ea&&l.hasOwnProperty(ea,Q))return ea[Q];if(l.hasOwnProperty(J,Q))return J[Q];if(Q.startsWith("title")){switch(Q){case "titleColor":ma="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":ma=
Q[5].toLowerCase()+Q.slice(6)}return la["guide-title"][ma]}if(Q.startsWith("label")){switch(Q){case "labelColor":ma="fill";break;case "labelFont":case "labelFontSize":ma=Q[5].toLowerCase()+Q.slice(6)}return la["guide-label"][ma]}return null}function Ud(Q){const ea={};for(const J of Q)if(J)for(const la in J)ea[la]=1;return Object.keys(ea)}function Ye(Q,ea,J,la,ma){return{signal:'flush(range("'+Q+'"), scale("'+Q+'", datum.value), '+ea+","+J+","+la+","+ma+")"}}function Wd(Q,ea,J,la){const ma=(ib,gc)=>
null!=ib?(J.update[gc]=ke(Nc(ib),J.update[gc]),!1):Sb(gc,la)?!1:!0,Ja=ma(Q("titleX"),"x");Q=ma(Q("titleY"),"y");J.enter.auto=Q===Ja?Nc(Q):Fc(ea,Nc(Q),Nc(Ja))}function P(Q,ea,J){const la=l.array(Q.signals),ma=l.array(Q.scales);J||la.forEach(Ja=>kb(Ja,ea));l.array(Q.projections).forEach(Ja=>{const ib=ea.config.projection||{},gc={};for(const tc in Ja)"name"!==tc&&(gc[tc]=I(Ja[tc],tc,ea));for(const tc in ib)null==gc[tc]&&(gc[tc]=I(ib[tc],tc,ea));ea.addProjection(Ja.name,gc)});ma.forEach(Ja=>{const ib=
Ja.type||"linear";Cb.isValidScaleType(ib)||l.error("Unrecognized scale type: "+l.stringValue(ib));ea.addScale(Ja.name,{type:ib,domain:void 0})});l.array(Q.data).forEach(Ja=>Qd(Ja,ea));ma.forEach(Ja=>{const ib=ea.getScale(Ja.name).params;let gc;ib.domain=E(Ja.domain,Ja,ea);null!=Ja.range&&(ib.range=u(Ja,ea,ib));if(null!=Ja.interpolate){var tc=Ja.interpolate;ib.interpolate=g(tc.type||tc);null!=tc.gamma&&(ib.interpolateGamma=g(tc.gamma))}null!=Ja.nice&&(tc=Ja.nice,tc=l.isObject(tc)?{interval:g(tc.interval),
step:g(tc.step)}:g(tc),ib.nice=tc);null!=Ja.bins&&(tc=Ja.bins,tc=tc.signal||l.isArray(tc)?z(tc,ea):ea.objectProperty(tc),ib.bins=tc);for(gc in Ja)l.hasOwnProperty(ib,gc)||"name"===gc||(ib[gc]=g(Ja[gc],ea))});(J||la).forEach(Ja=>S(Ja,ea));l.array(Q.axes).forEach(Ja=>{var ib=ea.config,gc=ib.style,tc=ib.axis,vc="band"===ea.scaleType(Ja.scale)&&ib.axisBand,Xb=Ja.orient,Dc;if(Vb(Xb)){const Ie=Ud([ib.axisX,ib.axisY]),ye=Ud([ib.axisTop,ib.axisBottom,ib.axisLeft,ib.axisRight]);var yd={};for(Dc of Ie)yd[Dc]=
Fc(Xb,ae(Dc,ib.axisX,tc,gc),ae(Dc,ib.axisY,tc,gc));var Yc={};for(Dc of ye){var hd=Yc,Ad=Dc,Hd=Xb.signal,Pc=ae(Dc,ib.axisTop,tc,gc),Ee=ae(Dc,ib.axisBottom,tc,gc),Ge=ae(Dc,ib.axisLeft,tc,gc),Ae=ae(Dc,ib.axisRight,tc,gc);var Be={signal:(null!=Ge?`${Hd} === '${"left"}' ? (${$d(Ge)}) : `:"")+(null!=Ee?`${Hd} === '${"bottom"}' ? (${$d(Ee)}) : `:"")+(null!=Ae?`${Hd} === '${"right"}' ? (${$d(Ae)}) : `:"")+(null!=Pc?`${Hd} === '${"top"}' ? (${$d(Pc)}) : `:"")+"(null)"};hd[Ad]=Be}}else yd="top"===Xb||"bottom"===
Xb?ib.axisX:ib.axisY,Yc=ib["axis"+Xb[0].toUpperCase()+Xb.slice(1)];var Id=yd||Yc||vc?l.extend({},tc,yd,Yc,vc):tc;const he=Ja.encode||{},xe=he.axis||{},Le=xe.name||void 0,of=xe.interactive,We=xe.style,we=La(Ja,Id),vf=we("tickBand");let Of=we("tickOffset"),af,ag;vf?vf.signal?(af={signal:`(${vf.signal}) === 'extent' ? 1 : 0.5`},ag={signal:`(${vf.signal}) === 'extent'`},l.isObject(Of)||(Of={signal:`(${vf.signal}) === 'extent' ? 0 : ${Of}`})):"extent"===vf?(af=1,ag=!0,Of=0):(af=.5,ag=!1):(af=we("bandPosition"),
ag=we("tickExtra"));var Vd=ag;var hf=af;var jf=Of;const Qe={scale:Ja.scale,ticks:!!we("ticks"),labels:!!we("labels"),grid:!!we("grid"),domain:!!we("domain"),title:null!=Ja.title},Cf=Ma(ea.add(ef({},[Qe]))),Pf=Ma(ea.add(gf({scale:ea.scaleRef(Ja.scale),extra:ea.property(Vd),count:ea.objectProperty(Ja.tickCount),values:ea.objectProperty(Ja.values),minstep:ea.property(Ja.tickMinStep),formatType:ea.property(Ja.formatType),formatSpecifier:ea.property(Ja.format)}))),Jf=[];let Gf;if(Qe.grid){var Bg=Jf.push,
rg=he.grid;const Ie=La(Ja,Id),ye=Ja.orient,Kf=Ja.gridScale,wf=nd(ye,1,-1);a:{var Af=Ja.offset,Hf=wf;if(1!==Hf)if(l.isObject(Af)){let xg=Af=l.extend({},Af);for(;null!=xg.mult;)if(l.isObject(xg.mult))xg=xg.mult=l.extend({},xg.mult);else{xg.mult=Vb(Hf)?{signal:`(${xg.mult}) * (${Hf.signal})`}:xg.mult*Hf;var dg=Af;break a}xg.mult=Hf}else Af=Vb(Hf)?{signal:`(${Hf.signal}) * (${Af||0})`}:Hf*(Af||0);dg=Af}const Bf=dg;let tf,fg,Eg;const sg={enter:tf={opacity:Cd},update:Eg={opacity:be},exit:fg={opacity:Cd}};
Ab(sg,{stroke:Ie("gridColor"),strokeCap:Ie("gridCap"),strokeDash:Ie("gridDash"),strokeDashOffset:Ie("gridDashOffset"),strokeOpacity:Ie("gridOpacity"),strokeWidth:Ie("gridWidth")});const Df={scale:Ja.scale,field:"value",band:hf,extra:Vd,offset:jf,round:Ie("tickRound")},Qg=Fc(ye,{signal:"height"},{signal:"width"}),Mg=Kf?{scale:Kf,range:0,mult:wf,offset:Bf}:{value:0,offset:Bf},qh=Kf?{scale:Kf,range:1,mult:wf,offset:Bf}:l.extend(Qg,{mult:wf,offset:Bf});tf.x=Eg.x=Fc(ye,Df,Mg);tf.y=Eg.y=bd(ye,Df,Mg);tf.x2=
Eg.x2=bd(ye,qh);tf.y2=Eg.y2=Fc(ye,qh);fg.x=Fc(ye,Df);fg.y=bd(ye,Df);var Ug=Ca({type:"rule",role:"axis-grid",key:"value",from:Pf,encode:sg},rg);Bg.call(Jf,Ug)}if(Qe.ticks){Gf=we("tickSize");var Vg=Jf.push,Dg=he.ticks,Wg=Gf;const Ie=La(Ja,Id),ye=Ja.orient,Kf=nd(ye,-1,1);let wf,Bf,tf;const fg={enter:wf={opacity:Cd},update:tf={opacity:be},exit:Bf={opacity:Cd}};Ab(fg,{stroke:Ie("tickColor"),strokeCap:Ie("tickCap"),strokeDash:Ie("tickDash"),strokeDashOffset:Ie("tickDashOffset"),strokeOpacity:Ie("tickOpacity"),
strokeWidth:Ie("tickWidth")});const Eg=Nc(Wg);Eg.mult=Kf;const sg={scale:Ja.scale,field:"value",band:hf,extra:Vd,offset:jf,round:Ie("tickRound")};tf.y=wf.y=Fc(ye,Cd,sg);tf.y2=wf.y2=Fc(ye,Eg);Bf.x=Fc(ye,sg);tf.x=wf.x=bd(ye,Cd,sg);tf.x2=wf.x2=bd(ye,Eg);Bf.y=bd(ye,sg);var sa=Ca({type:"rule",role:"axis-tick",key:"value",from:Pf,encode:fg},Dg);Vg.call(Jf,sa)}if(Qe.labels){Gf=Qe.ticks?Gf:0;var bb=Jf.push,Rb=he.labels,id=Gf;const Ie=La(Ja,Id),ye=Ja.orient,Kf=Ja.scale,wf=nd(ye,-1,1),Bf=Y(Ie("labelFlush")),
tf=Y(Ie("labelFlushOffset")),fg=Ie("labelAlign"),Eg=Ie("labelBaseline");let sg=0===Bf||!!Bf,Df;const Qg=Nc(id);Qg.mult=wf;Qg.offset=Nc(Ie("labelPadding")||0);Qg.offset.mult=wf;const Mg={scale:Kf,field:"value",band:.5,offset:Z(jf,Ie("labelOffset"))};var od=sg?Ye(Kf,Bf,'"left"','"right"','"center"'):{value:"center"},ne=ye;var Re=Vb(ne)?Zd(`${ne.signal} === '${"right"}'`,"left","right"):"right"===ne?{value:"left"}:{value:"right"};const qh=Fc(ye,od,Re),xg=Fc(ye,Gc(ye,"bottom","top"),sg?Ye(Kf,Bf,'"top"',
'"bottom"','"middle"'):{value:"middle"}),Wh=Ye(Kf,Bf,`-(${tf})`,tf,0);sg=sg&&tf;const rh={opacity:Cd,x:Fc(ye,Mg,Qg),y:bd(ye,Mg,Qg)},Hh={enter:rh,update:Df={opacity:be,text:{field:"label"},x:rh.x,y:rh.y,align:qh,baseline:xg},exit:{opacity:Cd,x:rh.x,y:rh.y}};Ab(Hh,{dx:!fg&&sg?Fc(ye,Wh):null,dy:!Eg&&sg?bd(ye,Wh):null});Ab(Hh,{angle:Ie("labelAngle"),fill:Ie("labelColor"),fillOpacity:Ie("labelOpacity"),font:Ie("labelFont"),fontSize:Ie("labelFontSize"),fontWeight:Ie("labelFontWeight"),fontStyle:Ie("labelFontStyle"),
limit:Ie("labelLimit"),lineHeight:Ie("labelLineHeight")},{align:fg,baseline:Eg});const Xg=Ie("labelBound");let sh=Ie("labelOverlap");sh=sh||Xg?{separation:Ie("labelSeparation"),method:sh,order:"datum.index",bound:Xg?{scale:Kf,orient:ye,tolerance:Xg}:null}:void 0;Df.align!==qh&&(Df.align=ke(Df.align,qh));Df.baseline!==xg&&(Df.baseline=ke(Df.baseline,xg));var pf=Ca({type:"text",role:"axis-label",style:"guide-label",key:"value",from:Pf,encode:Hh,overlap:sh},Rb);bb.call(Jf,pf)}if(Qe.domain){var Ff=Jf.push,
Ne=he.domain;const Ie=La(Ja,Id),ye=Ja.orient;let Kf,wf;const Bf={enter:Kf={opacity:Cd},update:wf={opacity:be},exit:{opacity:Cd}};Ab(Bf,{stroke:Ie("domainColor"),strokeCap:Ie("domainCap"),strokeDash:Ie("domainDash"),strokeDashOffset:Ie("domainDashOffset"),strokeWidth:Ie("domainWidth"),strokeOpacity:Ie("domainOpacity")});const tf={scale:Ja.scale,range:0},fg={scale:Ja.scale,range:1};Kf.x=wf.x=Fc(ye,tf,Cd);Kf.x2=wf.x2=Fc(ye,fg);Kf.y=wf.y=bd(ye,tf,Cd);Kf.y2=wf.y2=bd(ye,fg);var eg=Ca({type:"rule",role:"axis-domain",
from:Cf,encode:Bf},Ne);Ff.call(Jf,eg)}if(Qe.title){var Sf=Jf.push,Wf=he.title;const Ie=La(Ja,Id),ye=Ja.orient,Kf=nd(ye,-1,1);let wf,Bf;const tf={enter:wf={opacity:Cd,anchor:Nc(Ie("titleAnchor",null)),align:{signal:ve}},update:Bf=l.extend({},wf,{opacity:be,text:Nc(Ja.title)}),exit:{opacity:Cd}},fg={signal:`lerp(range("${Ja.scale}"), ${ab(0,1,.5)})`};Bf.x=Fc(ye,fg);Bf.y=bd(ye,fg);var kg=wf,pg=Kf;var Lg=Vb(pg)?{signal:`(${pg.signal}) * ${90}`}:{value:90*pg};kg.angle=Fc(ye,Cd,Lg);wf.baseline=Fc(ye,Gc(ye,
"bottom","top"),{value:"bottom"});Bf.angle=wf.angle;Bf.baseline=wf.baseline;Ab(tf,{fill:Ie("titleColor"),fillOpacity:Ie("titleOpacity"),font:Ie("titleFont"),fontSize:Ie("titleFontSize"),fontStyle:Ie("titleFontStyle"),fontWeight:Ie("titleFontWeight"),limit:Ie("titleLimit"),lineHeight:Ie("titleLineHeight")},{align:Ie("titleAlign"),angle:Ie("titleAngle"),baseline:Ie("titleBaseline")});Wd(Ie,ye,tf,Wf);tf.update.align=ke(tf.update.align,wf.align);tf.update.angle=ke(tf.update.angle,wf.angle);tf.update.baseline=
ke(tf.update.baseline,wf.baseline);var fh=Ca({type:"text",role:"axis-title",style:"guide-title",from:Cf,encode:tf},Wf);Sf.call(Jf,fh)}const ph={enter:{},update:{}};Ab(ph,{orient:we("orient"),offset:we("offset")||0,position:ra(Ja.position,0),titlePadding:we("titlePadding"),minExtent:we("minExtent"),maxExtent:we("maxExtent"),range:{signal:`abs(span(range("${Ja.scale}")))`},translate:we("translate"),format:Ja.format,formatType:Ja.formatType});return $a(va({role:"axis",from:Cf,encode:jc(ph,xe,Ld),marks:Jf,
aria:we("aria"),description:we("description"),zindex:we("zindex"),name:Le,interactive:of,style:We}),ea)});l.array(Q.marks).forEach(Ja=>$a(Ja,ea));l.array(Q.legends).forEach(Ja=>Gb(Ja,ea));Q.title&&fd(Q.title,ea);ea.parseLambdas();return ea}function na(Q,ea){var J=ea.config;const la=Ma(ea.root=ea.add(new mb("operator",void 0,void 0,void 0))),ma=fb(Q,J);ma.forEach(gc=>kb(gc,ea));ea.description=Q.description||J.description;ea.eventConfig=J.events;ea.legends=ea.objectProperty(J.legend&&J.legend.layout);
ea.locale=J.locale;J=ea.add(ef());const Ja=ea.add(W(Na(jc({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},Q.encode),"group","frame",Q.style,ea,{pulse:Ma(J)}))),ib=ea.add(Mc({layout:ea.objectProperty(Q.layout),legends:ea.legends,autosize:ea.signalRef("autosize"),mark:la,pulse:Ma(Ja)}));ea.operators.pop();ea.pushState(Ma(Ja),Ma(ib),null);P(Q,ea,ma);ea.operators.push(ib);Q=ea.add(df({mark:la,pulse:Ma(ib)}));Q=ea.add(Ra({pulse:Ma(Q)}));Q=ea.add(qc({pulse:Ma(Q)}));
ea.addData("root",new Ha(ea,J,J,Q));return ea}function Aa(Q,ea){return ea&&ea.signal?{name:Q,update:ea.signal}:{name:Q,value:ea}}function fb(Q,ea){const J=ib=>ra(Q[ib],ea[ib]),la=[Aa("background",J("background")),Aa("autosize",sc(J("autosize"))),Aa("padding",zc(J("padding"))),Aa("width",J("width")||0),Aa("height",J("height")||0)],ma=la.reduce((ib,gc)=>(ib[gc.name]=gc,ib),{}),Ja={};l.array(Q.signals).forEach(ib=>{l.hasOwnProperty(ma,ib.name)?ib=l.extend(ma[ib.name],ib):la.push(ib);Ja[ib.name]=ib});
l.array(ea.signals).forEach(ib=>{l.hasOwnProperty(Ja,ib.name)||l.hasOwnProperty(ma,ib.name)||la.push(ib)});return la}function Jb(Q,ea){this.config=Q||{};this.options=ea||{};this.bindings=[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=[]}function Zb(Q){this.config=Q.config;
this.options=Q.options;this.legends=Q.legends;this.field=Object.create(Q.field);this.signals=Object.create(Q.signals);this.lambdas=Object.create(Q.lambdas);this.scales=Object.create(Q.scales);this.events=Object.create(Q.events);this.data=Object.create(Q.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++Q._nextsub[0];this._nextsub=Q._nextsub;this._parent=Q._parent.slice();this._encode=Q._encode.slice();this._lookup=Q._lookup.slice();this._markpath=Q._markpath}function Cc(Q){return(l.isArray(Q)?
mc:Hc)(Q)}function mc(Q){const ea=Q.length;let J="[";for(let la=0;la<ea;++la){const ma=Q[la];J+=(0<la?",":"")+(l.isObject(ma)?ma.signal||Cc(ma):l.stringValue(ma))}return J+"]"}function Hc(Q){let ea="{",J=0,la,ma;for(la in Q)ma=Q[la],ea+=(1<++J?",":"")+l.stringValue(la)+":"+(l.isObject(ma)?ma.signal||Cc(ma):l.stringValue(ma));return ea+"}"}function jd(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},
area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",
font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",
tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,
symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}
const Nc=Q=>l.isObject(Q)&&!l.isArray(Q)?l.extend({},Q):{value:Q},vd=Q=>l.isString(Q)?l.stringValue(Q):Q.signal?`(${Q.signal})`:Lb(Q),Gd=(Q,ea,J,la)=>`(${Q}(${[ea,J,la].map(Fb).join(",")})+'')`,Fd=["value","update","init","react","bind"],Xd=vb("key"),Od={code:"_.$value",ast:{type:"Identifier",value:"value"}},qe=Q=>(ea,J,la)=>new mb(Q,J,ea||void 0,la),De=qe("aggregate"),gf=qe("axisticks"),df=qe("bound"),ef=qe("collect"),pe=qe("compare"),nf=qe("datajoin"),W=qe("encode"),wa=qe("expression"),db=qe("facet"),
yb=qe("field"),hc=qe("key"),Ec=qe("legendentries"),ac=qe("load"),L=qe("mark"),fa=qe("multiextent"),Sa=qe("multivalues"),cc=qe("overlap"),Jc=qe("params"),Bc=qe("prefacet"),$c=qe("projection"),pd=qe("proxy"),ee=qe("relay"),Ra=qe("render"),eb=qe("scale"),qc=qe("sieve"),wd=qe("sortitems"),Mc=qe("viewlayout"),Uc=qe("values");let Qc=0;const td={min:"min",max:"max",count:"sum"},kd="size shape fill stroke strokeWidth strokeDash opacity".split(" "),Ld={name:1,style:1,interactive:1},Cd={value:0},be={value:1},
ve=ab(l.stringValue("left"),l.stringValue("right"),l.stringValue("center")),Me=ab('"top"','"bottom"','"middle"'),$e=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${ab('"right"','"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${ve}`,sf=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${Me}) : "top"`;
Ha.fromEntries=function(Q,ea){const J=ea.length,la=ea[J-1],ma=ea[J-2];let Ja=ea[0],ib=null,gc=1;Ja&&"load"===Ja.type&&(Ja=ea[1]);for(Q.add(ea[0]);gc<J;++gc)ea[gc].params.pulse=Ma(ea[gc-1]),Q.add(ea[gc]),"aggregate"===ea[gc].type&&(ib=ea[gc]);return new Ha(Q,Ja,ma,la,ib)};Ha.prototype={countsRef(Q,ea,J){const la=this.counts||(this.counts={}),ma=gb(ea);if(null!=ma){Q=this.scope;var Ja=la[ma]}Ja?J&&J.field&&wb(Q,Ja.agg.params,J):(Ja={groupby:Q.fieldRef(ea,"key"),pulse:Ma(this.output)},J&&J.field&&wb(Q,
Ja,J),J=Q.add(De(Ja)),Ja=Q.add(ef({pulse:Ma(J)})),Ja={agg:J,ref:Ma(Ja)},null!=ma&&(la[ma]=Ja));return Ja.ref},tuplesRef(){return Ma(this.values)},extentRef(Q,ea){return ua(Q,this,"extent","extent",ea,!1)},domainRef(Q,ea){return ua(Q,this,"domain","values",ea,!1)},valuesRef(Q,ea,J){return ua(Q,this,"vals","values",ea,J||!0)},lookupRef(Q,ea){return ua(Q,this,"lookup","tupleindex",ea,!1)},indataRef(Q,ea){return ua(Q,this,"indata","tupleindex",ea,!0,!0)}};const nd=(Q,ea,J)=>{Vb(Q)?(Q=Q.signal,ea=Zd(`${Q} === '${"left"}' || ${Q} === '${"top"}'`,
ea,J)):ea="left"===Q||"top"===Q?ea:J;return ea},Fc=(Q,ea,J)=>{Vb(Q)?(Q=Q.signal,ea=Jd(`${Q} === '${"top"}' || ${Q} === '${"bottom"}'`,ea,J)):ea="bottom"===Q||"top"===Q?ea:J;return ea},bd=(Q,ea,J)=>{Vb(Q)?(Q=Q.signal,ea=Jd(`${Q} !== '${"top"}' && ${Q} !== '${"bottom"}'`,ea,J)):ea="bottom"===Q||"top"===Q?J:ea;return ea},Gc=(Q,ea,J)=>Vb(Q)?Zd(`${Q.signal} === '${"top"}'`,ea,J):"top"===Q?{value:ea}:{value:J},Jd=(Q,ea,J)=>{ea=null!=ea?Nc(ea):ea;J=null!=J?Nc(J):J;if(null!=ea&&1!==Object.keys(ea).length||
null!=J&&1!==Object.keys(J).length)return[l.extend({test:Q},ea)].concat(J||[]);ea=ea?ea.signal||l.stringValue(ea.value):null;J=J?J.signal||l.stringValue(J.value):null;return{signal:`${Q} ? (${ea}) : (${J})`}},Zd=(Q,ea,J)=>({signal:`${Q} ? (${$d(ea)}) : (${$d(J)})`}),$d=Q=>Vb(Q)?Q.signal:null==Q?null:l.stringValue(Q),ke=(Q,ea)=>{const J=Q.signal;return J&&J.endsWith("(null)")?{signal:J.slice(0,-6)+ea.signal}:Q};Jb.prototype=Zb.prototype={parse(Q){return P(Q,this)},fork(){return new Zb(this)},isSubscope(){return 0<
this._subid},toRuntime(){this.finish();return{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(Q){this.operators.push(Q);Q.id=this.id();Q.refs&&(Q.refs.forEach(ea=>{ea.$ref=Q.id}),Q.refs=null);return Q},proxy(Q){Q=Q instanceof mb?Ma(Q):Q;return this.add(pd({value:Q}))},addStream(Q){this.streams.push(Q);Q.id=this.id();return Q},
addUpdate(Q){this.updates.push(Q);return Q},finish(){function Q(la,ma,Ja){la&&(la=la.data||(la.data={}),ma=la[ma]||(la[ma]=[]),ma.push(Ja))}let ea,J;this.root&&(this.root.root=!0);for(ea in this.signals)this.signals[ea].signal=ea;for(ea in this.scales)this.scales[ea].scale=ea;for(ea in this.data){J=this.data[ea];Q(J.input,ea,"input");Q(J.output,ea,"output");Q(J.values,ea,"values");for(const la in J.index)Q(J.index[la],ea,"index:"+la)}return this},pushState(Q,ea,J){this._encode.push(Ma(this.add(qc({pulse:Q}))));
this._parent.push(ea);this._lookup.push(J?Ma(this.proxy(J)):null);this._markpath.push(-1)},popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return l.peek(this._parent)},encode(){return l.peek(this._encode)},lookup(){return l.peek(this._lookup)},markpath(){const Q=this._markpath;return++Q[Q.length-1]},fieldRef(Q,ea){if(l.isString(Q))return vb(Q,ea);Q.signal||l.error("Unsupported field reference: "+l.stringValue(Q));Q=Q.signal;var J=this.field[Q];J||
(J={name:this.signalRef(Q)},ea&&(J.as=ea),this.field[Q]=J=Ma(this.add(yb(J))));return J},compareRef(Q){let ea=!1;const J=ma=>Vb(ma)?(ea=!0,this.signalRef(ma.signal)):ma&&ma.expr?(ea=!0,this.exprRef(ma.expr)):ma,la=l.array(Q.field).map(J);Q=l.array(Q.order).map(J);return ea?Ma(this.add(pe({fields:la,orders:Q}))):{$compare:la,$order:Q}},keyRef(Q,ea){let J=!1;const la=this.signals;Q=l.array(Q).map(ma=>Vb(ma)?(J=!0,Ma(la[ma.signal])):ma);return J?Ma(this.add(hc({fields:Q,flat:ea}))):qb(Q,ea)},sortRef(Q){if(!Q)return Q;
const ea=Ob(Q.op,Q.field);Q=Q.order||"ascending";return Q.signal?Ma(this.add(pe({fields:ea,orders:this.signalRef(Q.signal)}))):{$compare:ea,$order:Q}},event(Q,ea){const J=Q+":"+ea;if(!this.events[J]){const la=this.id();this.streams.push({id:la,source:Q,type:ea});this.events[J]=la}return this.events[J]},hasOwnSignal(Q){return l.hasOwnProperty(this.signals,Q)},addSignal(Q,ea){this.hasOwnSignal(Q)&&l.error("Duplicate signal name: "+l.stringValue(Q));ea=ea instanceof mb?ea:this.add(new mb("operator",
ea,void 0,void 0));return this.signals[Q]=ea},getSignal(Q){this.signals[Q]||l.error("Unrecognized signal name: "+l.stringValue(Q));return this.signals[Q]},signalRef(Q){if(this.signals[Q])return Ma(this.signals[Q]);l.hasOwnProperty(this.lambdas,Q)||(this.lambdas[Q]=this.add(new mb("operator",null,void 0,void 0)));return Ma(this.lambdas[Q])},parseLambdas(){const Q=Object.keys(this.lambdas);for(let J=0,la=Q.length;J<la;++J){var ea=Q[J];const ma=R.parseExpression(ea,this);ea=this.lambdas[ea];ea.params=
ma.$params;ea.update=ma.$expr}},property(Q){return Q&&Q.signal?this.signalRef(Q.signal):Q},objectProperty(Q){return Q&&l.isObject(Q)?this.signalRef(Q.signal||Cc(Q)):Q},exprRef(Q,ea){Q={expr:R.parseExpression(Q,this)};ea&&(Q.expr.$name=ea);return Ma(this.add(wa(Q)))},addBinding(Q,ea){this.bindings||l.error("Nested signals do not support binding: "+l.stringValue(Q));this.bindings.push(l.extend({signal:Q},ea))},addScaleProj(Q,ea){l.hasOwnProperty(this.scales,Q)&&l.error("Duplicate scale or projection name: "+
l.stringValue(Q));this.scales[Q]=this.add(ea)},addScale(Q,ea){this.addScaleProj(Q,eb(ea))},addProjection(Q,ea){this.addScaleProj(Q,$c(ea))},getScale(Q){this.scales[Q]||l.error("Unrecognized scale name: "+l.stringValue(Q));return this.scales[Q]},scaleRef(Q){return Ma(this.getScale(Q))},scaleType(Q){return this.getScale(Q).params.type},projectionRef(Q){return this.scaleRef(Q)},projectionType(Q){return this.scaleType(Q)},addData(Q,ea){l.hasOwnProperty(this.data,Q)&&l.error("Duplicate data set name: "+
l.stringValue(Q));return this.data[Q]=ea},getData(Q){this.data[Q]||l.error("Undefined data set name: "+l.stringValue(Q));return this.data[Q]},addDataPipeline(Q,ea){l.hasOwnProperty(this.data,Q)&&l.error("Duplicate data set name: "+l.stringValue(Q));return this.addData(Q,Ha.fromEntries(this,ea))}};t.AxisDomainRole="axis-domain";t.AxisGridRole="axis-grid";t.AxisLabelRole="axis-label";t.AxisRole="axis";t.AxisTickRole="axis-tick";t.AxisTitleRole="axis-title";t.DataScope=Ha;t.FrameRole="frame";t.LegendEntryRole=
"legend-entry";t.LegendLabelRole="legend-label";t.LegendRole="legend";t.LegendSymbolRole="legend-symbol";t.LegendTitleRole="legend-title";t.MarkRole="mark";t.Scope=Jb;t.ScopeRole="scope";t.config=jd;t.parse=function(Q,ea,J){l.isObject(Q)||l.error("Input Vega specification must be an object.");ea=l.mergeConfig(jd(),ea,Q.config);return na(Q,new Jb(ea,J)).toRuntime()};t.signal=kb;t.signalUpdates=S;t.stream=Ea})};
shadow$provide[65]=function(fc,Eb,Wc,nb){function t(Ma){var vb=Object.create(null);Ma&&Object.keys(Ma).forEach(function(qb){if("default"!==qb){var Ob=Object.getOwnPropertyDescriptor(Ma,qb);Object.defineProperty(vb,qb,Ob.get?Ob:{enumerable:!0,get:function(){return Ma[qb]}})}});vb.default=Ma;return Object.freeze(vb)}var l=Eb(20),R=Eb(28),hb=Eb(30),Cb=Eb(34),Yb=Eb(35),sc=Eb(37),zc=Eb(38),pc=Eb(39),Ab=Eb(48),jc=Eb(54),Sb=Eb(55);Wc=Eb(56);fc=Eb(57);var Ua=Eb(29),rb=Eb(22),Fb=Eb(27),Hb=Eb(33),Bb=Eb(32),
Lb=Eb(36),Wa=Eb(62),pb=Eb(23),Na=Eb(60),Da=Eb(64),Ia=Eb(61),kb=Eb(58),mb=Eb(63);Eb=t(hb);Cb=t(Cb);Yb=t(Yb);sc=t(sc);zc=t(zc);pc=t(pc);Ab=t(Ab);jc=t(jc);Sb=t(Sb);Wc=t(Wc);fc=t(fc);l.extend(R.transforms,Eb,Cb,Yb,sc,zc,Ab,pc,jc,Sb,Wc,fc);Object.defineProperty(nb,"Dataflow",{enumerable:!0,get:function(){return R.Dataflow}});Object.defineProperty(nb,"EventStream",{enumerable:!0,get:function(){return R.EventStream}});Object.defineProperty(nb,"MultiPulse",{enumerable:!0,get:function(){return R.MultiPulse}});
Object.defineProperty(nb,"Operator",{enumerable:!0,get:function(){return R.Operator}});Object.defineProperty(nb,"Parameters",{enumerable:!0,get:function(){return R.Parameters}});Object.defineProperty(nb,"Pulse",{enumerable:!0,get:function(){return R.Pulse}});Object.defineProperty(nb,"Transform",{enumerable:!0,get:function(){return R.Transform}});Object.defineProperty(nb,"changeset",{enumerable:!0,get:function(){return R.changeset}});Object.defineProperty(nb,"definition",{enumerable:!0,get:function(){return R.definition}});
Object.defineProperty(nb,"ingest",{enumerable:!0,get:function(){return R.ingest}});Object.defineProperty(nb,"isTuple",{enumerable:!0,get:function(){return R.isTuple}});Object.defineProperty(nb,"transform",{enumerable:!0,get:function(){return R.transform}});Object.defineProperty(nb,"transforms",{enumerable:!0,get:function(){return R.transforms}});Object.defineProperty(nb,"tupleid",{enumerable:!0,get:function(){return R.tupleid}});Object.defineProperty(nb,"interpolate",{enumerable:!0,get:function(){return Bb.interpolate}});
Object.defineProperty(nb,"interpolateColors",{enumerable:!0,get:function(){return Bb.interpolateColors}});Object.defineProperty(nb,"interpolateRange",{enumerable:!0,get:function(){return Bb.interpolateRange}});Object.defineProperty(nb,"quantizeInterpolator",{enumerable:!0,get:function(){return Bb.quantizeInterpolator}});Object.defineProperty(nb,"scale",{enumerable:!0,get:function(){return Bb.scale}});Object.defineProperty(nb,"scheme",{enumerable:!0,get:function(){return Bb.scheme}});Object.defineProperty(nb,
"projection",{enumerable:!0,get:function(){return Lb.projection}});Object.defineProperty(nb,"View",{enumerable:!0,get:function(){return Wa.View}});Object.defineProperty(nb,"defaultLocale",{enumerable:!0,get:function(){return pb.defaultLocale}});Object.defineProperty(nb,"formatLocale",{enumerable:!0,get:function(){return pb.numberFormatDefaultLocale}});Object.defineProperty(nb,"locale",{enumerable:!0,get:function(){return pb.locale}});Object.defineProperty(nb,"resetDefaultLocale",{enumerable:!0,get:function(){return pb.resetDefaultLocale}});
Object.defineProperty(nb,"timeFormatLocale",{enumerable:!0,get:function(){return pb.timeFormatDefaultLocale}});Object.defineProperty(nb,"expressionFunction",{enumerable:!0,get:function(){return Na.expressionFunction}});Object.defineProperty(nb,"parse",{enumerable:!0,get:function(){return Da.parse}});Object.defineProperty(nb,"runtimeContext",{enumerable:!0,get:function(){return Ia.context}});Object.defineProperty(nb,"codegenExpression",{enumerable:!0,get:function(){return kb.codegenExpression}});Object.defineProperty(nb,
"parseExpression",{enumerable:!0,get:function(){return kb.parseExpression}});Object.defineProperty(nb,"parseSelector",{enumerable:!0,get:function(){return mb.parseSelector}});nb.version="5.25.0";Object.keys(l).forEach(function(Ma){"default"===Ma||nb.hasOwnProperty(Ma)||Object.defineProperty(nb,Ma,{enumerable:!0,get:function(){return l[Ma]}})});Object.keys(Ua).forEach(function(Ma){"default"===Ma||nb.hasOwnProperty(Ma)||Object.defineProperty(nb,Ma,{enumerable:!0,get:function(){return Ua[Ma]}})});Object.keys(rb).forEach(function(Ma){"default"===
Ma||nb.hasOwnProperty(Ma)||Object.defineProperty(nb,Ma,{enumerable:!0,get:function(){return rb[Ma]}})});Object.keys(Fb).forEach(function(Ma){"default"===Ma||nb.hasOwnProperty(Ma)||Object.defineProperty(nb,Ma,{enumerable:!0,get:function(){return Fb[Ma]}})});Object.keys(Hb).forEach(function(Ma){"default"===Ma||nb.hasOwnProperty(Ma)||Object.defineProperty(nb,Ma,{enumerable:!0,get:function(){return Hb[Ma]}})})};
shadow$provide[66]=function(fc,Eb,Wc,nb){var t=Eb(26).Buffer;(function(l,R){"object"===typeof nb&&"undefined"!==typeof Wc?R(nb,Eb(65)):"function"===typeof define&&define.amd?define(["exports","vega"],R):(l="undefined"!==typeof globalThis?globalThis:l||self,R(l.vegaLite={},l.vega))})(this,function(l,R){function hb(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c["default"]:c}function Cb(c,a){if(c.not)Cb(c.not,a);else if(c.and)for(const d of c.and)Cb(d,a);else if(c.or)for(const d of c.or)Cb(d,
a);else a(c)}function Yb(c,a){return c.not?{not:Yb(c.not,a)}:c.and?{and:c.and.map(d=>Yb(d,a))}:c.or?{or:c.or.map(d=>Yb(d,a))}:a(c)}function sc(c){throw Error(c);}function zc(c,a){const d={};for(const f of a)R.hasOwnProperty(c,f)&&(d[f]=c[f]);return d}function pc(c,a){c=Object.assign({},c);for(const d of a)delete c[d];return c}function Ab(c){if(R.isNumber(c))return c;c=R.isString(c)?c:Tk(c);if(250>c.length)return c;let a=0;for(let d=0;d<c.length;d++){const f=c.charCodeAt(d);a=(a<<5)-a+f;a&=a}return a}
function jc(c){return!1===c||null===c}function Sb(c,a){return c.includes(a)}function Ua(c,a){let d=0;for(const f of c.entries()){const [k,B]=f;if(a(B,k,d++))return!0}return!1}function rb(c,a){let d=0;for(const f of c.entries()){const [k,B]=f;if(!a(B,k,d++))return!1}return!0}function Fb(c){for(var a=arguments.length,d=Array(1<a?a-1:0),f=1;f<a;f++)d[f-1]=arguments[f];for(const k of d){let B;a=c;d=null!=(B=k)?B:{};for(const K of ce(d))R.writeConfig(a,K,d[K],!0)}return c}function Hb(c,a){const d=[],f=
{};for(const k of c)c=a(k),c in f||(f[c]=1,d.push(k));return d}function Bb(c,a){if(c.size!==a.size)return!1;for(const d of c)if(!a.has(d))return!1;return!0}function Lb(c,a){for(const d of c)if(a.has(d))return!0;return!1}function Wa(c){const a=new Set;for(const d of c){const f=R.splitAccessPath(d).map((k,B)=>0===B?k:`[${k}]`);c=f.map((k,B)=>f.slice(0,B+1).join(""));for(const k of c)a.add(k)}return a}function pb(c,a){return void 0===c||void 0===a?!0:Lb(Wa(c),Wa(a))}function Na(c){return 0===ce(c).length}
function Da(c){return!0===c||!1===c}function Ia(c){const a=c.replace(/\W/g,"_");return(c.match(/^\d+/)?"_":"")+a}function kb(c,a){return c.not?`!(${kb(c.not,a)})`:c.and?`(${c.and.map(d=>kb(d,a)).join(") \x26\x26 (")})`:c.or?`(${c.or.map(d=>kb(d,a)).join(") || (")})`:a(c)}function mb(c,a){if(0===a.length)return!0;const d=a.shift();d in c&&mb(c[d],a)&&delete c[d];return Na(c)}function Ma(c){return c.charAt(0).toUpperCase()+c.substr(1)}function vb(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
"datum";const d=R.splitAccessPath(c),f=[];for(let k=1;k<=d.length;k++){const B=`[${d.slice(0,k).map(R.stringValue).join("][")}]`;f.push(`${a}${B}`)}return f.join(" \x26\x26 ")}function qb(c){return`${1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum"}[${R.stringValue(R.splitAccessPath(c).join("."))}]`}function Ob(c){return c.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Vb(c){return`${R.splitAccessPath(c).map(Ob).join("\\.")}`}function ob(c,a,d){return c.replace(new RegExp(a.replace(/[-/\\^$*+?.()|[\]{}]/g,
"\\$\x26"),"g"),d)}function ra(c){return`${R.splitAccessPath(c).join(".")}`}function Y(c){return c?R.splitAccessPath(c).length:0}function Ea(){for(var c=arguments.length,a=Array(c),d=0;d<c;d++)a[d]=arguments[d];for(const f of a)if(void 0!==f)return f}function Ga(c){const a=++Nk;return c?String(c)+a:a}function cb(c){return ca(c)?c:`__${c}`}function ca(c){return c.startsWith("__")}function pa(c){if(void 0!==c)return(c%360+360)%360}function x(c){return R.isNumber(c)?!0:!isNaN(c)&&!isNaN(parseFloat(c))}
function N(c){switch(c){case "latitude":return"y";case "latitude2":return"y2";case "longitude":return"x";case "longitude2":return"x2"}}function S(c){return"color"===c||"fill"===c||"stroke"===c}function g(c){return z(c)!==c}function z(c){switch(c){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";case "longitude2":return"longitude";case "theta2":return"theta";case "radius2":return"radius"}return c}function m(c){if(c in kk)switch(c){case "theta":return"startAngle";case "theta2":return"endAngle";
case "radius":return"outerRadius";case "radius2":return"innerRadius"}return c}function E(c){switch(c){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function h(c){switch(c){case "x":case "x2":return"width";case "y":case "y2":return"height"}}function p(c){switch(c){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";
case "radius":return"radiusOffset";case "theta2":return"theta2Offset";case "radius2":return"radius2Offset"}}function r(c){switch(c){case "x":return"xOffset";case "y":return"yOffset"}}function v(c){switch(c){case "xOffset":return"x";case "yOffset":return"y"}}function F(c){return c in Rj}function aa(c){return"width"===c?"x":"y"}function O(c){switch(c){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return xl;
case "x":case "y":case "xOffset":case "yOffset":case "latitude":case "longitude":return ak;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",
point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function u(c){switch(c){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";
case "color":case "fill":case "stroke":return"flexible"}}function I(c){return!!c&&!!c.argmin}function va(c){return!!c&&!!c.argmax}function La(c){return R.isString(c)&&!!Ml[c]}function Xa(c){return R.isString(c)&&Tl.has(c)}function ab(c){R.isBoolean(c)&&(c=vf(c,void 0));return"bin"+ce(c).map(a=>Ya(c[a])?Ia(`_${a}_${Zi(c[a])}`):Ia(`_${a}_${c[a]}`)).join("")}function Z(c){return!0===c||R.isObject(c)&&!c.binned}function Ca(c){return"binned"===c||R.isObject(c)&&!0===c.binned}function Ya(c){return null==
c?void 0:c.param}function Kb(c){switch(c){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;case "strokeDash":return 4;default:return 10}}function xc(c){return!(null==c||!c.expr)}function rc(c){const a=ce(c||{}),d={};for(const f of a)d[f]=Wb(c[f]);return d}function yc(c){var a=Object.assign({},c),d=c.anchor;const f=c.frame,k=c.offset,B=c.orient,K=c.angle,ia=c.limit;var ta=c.color,
Ka=c.subtitleColor;const jb=c.subtitleFont,Qb=c.subtitleFontSize,uc=c.subtitleFontStyle,ld=c.subtitleFontWeight,Kc=c.subtitleLineHeight,cd=c.subtitlePadding;a=(delete a.anchor,delete a.frame,delete a.offset,delete a.orient,delete a.angle,delete a.limit,delete a.color,delete a.subtitleColor,delete a.subtitleFont,delete a.subtitleFontSize,delete a.subtitleFontStyle,delete a.subtitleFontWeight,delete a.subtitleLineHeight,delete a.subtitlePadding,a);ta=Object.assign({},a,ta?{fill:ta}:{});d=Object.assign({},
d?{anchor:d}:{},f?{frame:f}:{},k?{offset:k}:{},B?{orient:B}:{},void 0!==K?{angle:K}:{},void 0!==ia?{limit:ia}:{});Ka=Object.assign({},Ka?{subtitleColor:Ka}:{},jb?{subtitleFont:jb}:{},Qb?{subtitleFontSize:Qb}:{},uc?{subtitleFontStyle:uc}:{},ld?{subtitleFontWeight:ld}:{},Kc?{subtitleLineHeight:Kc}:{},cd?{subtitlePadding:cd}:{});c=zc(c,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:ta,subtitleMarkConfig:c,nonMarkTitleProperties:d,subtitle:Ka}}function dd(c){return R.isString(c)||R.isArray(c)&&
R.isString(c[0])}function $b(c){return!(null==c||!c.signal)}function Rc(c){return!!c.step}function Pd(c){return R.isArray(c)?!1:"field"in c&&"data"in c}function Pa(c){const a=R.isArray(c.condition)?c.condition.map(sb):sb(c.condition);return Object.assign({},Wb(c),{condition:a})}function Wb(c){if(xc(c)){var a=Object.assign({},c);c=c.expr;a=(delete a.expr,a);return Object.assign({},{signal:c},a)}return c}function sb(c){if(xc(c)){var a=Object.assign({},c);c=c.expr;a=(delete a.expr,a);return Object.assign({},
{signal:c},a)}return c}function Tb(c){if(xc(c)){var a=Object.assign({},c);c=c.expr;a=(delete a.expr,a);return Object.assign({},{signal:c},a)}return $b(c)?c:void 0!==c?{value:c}:void 0}function ic(c){return $b(c)?c.signal:R.stringValue(c.value)}function dc(c){return $b(c)?c.signal:null==c?null:R.stringValue(c)}function Ic(c){let a;return[].concat(c.type,null!=(a=c.style)?a:[])}function Ac(c,a,d){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const {vgChannel:k,ignoreVgConfig:B}=f;
if(k&&void 0!==a[k])return a[k];if(void 0!==a[c])return a[c];if(!B||k&&k!==c)return Zc(c,a,d,f)}function Zc(c,a,d){let {vgChannel:f}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return Ea(f?Nd(c,a,d.style):void 0,Nd(c,a,d.style),f?d[a.type][f]:void 0,d[a.type][c],f?d.mark[f]:d.mark[c])}function Nd(c,a,d){return ud(c,Ic(a),d)}function ud(c,a,d){a=R.array(a);let f;for(const k of a)(a=d[k])&&void 0!==a[c]&&(f=a[c]);return f}function Ha(c,a){return R.array(c).reduce((d,f)=>{d.field.push(Pc(f,
a));let k;d.order.push(null!=(k=f.sort)?k:"ascending");return d},{field:[],order:[]})}function gb(c,a){const d=[...c];a.forEach(f=>{for(const k of d)if(Bi(k,f))return;d.push(f)});return d}function wb(c,a){return Bi(c,a)||!a?c:c?[...R.array(c),...R.array(a)].join(", "):a}function ua(c,a){const d=c.value;a=a.value;if(null==d||null===a)return{explicit:c.explicit,value:null};if((dd(d)||$b(d))&&(dd(a)||$b(a)))return{explicit:c.explicit,value:wb(d,a)};if(dd(d)||$b(d))return{explicit:c.explicit,value:d};
if(dd(a)||$b(a))return{explicit:c.explicit,value:a};if(!(dd(d)||$b(d)||dd(a)||$b(a)))return{explicit:c.explicit,value:gb(d,a)};throw Error("It should never reach here");}function H(c,a,d){a:if("object"===typeof a&&null!==a){var f=a[Symbol.toPrimitive];if(void 0!==f){a=f.call(a,"string");if("object"!==typeof a)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}a=String(a)}a="symbol"===typeof a?a:String(a);a in c?Object.defineProperty(c,a,{value:d,enumerable:!0,configurable:!0,
writable:!0}):c[a]=d;return c}function za(c,a,d){a=Qa(c,a,"set");if(a.set)a.set.call(c,d);else{if(!a.writable)throw new TypeError("attempted to set read only private field");a.value=d}return d}function Qa(c,a,d){if(!a.has(c))throw new TypeError("attempted to "+d+" private field on non-instance");return a.get(c)}function $a(c){return`Invalid specification ${Ag(c)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}
function lb(c){return`${"width"==c?"Width":"Height"} "container" only works for single views and layered views.`}function Gb(c){return`${"width"==c?"Width":"Height"} "container" only works well with autosize "fit" or "fit-${"width"==c?"x":"y"}".`}function oc(c){return c?`Dropping "fit-${c}" because spec has discrete ${h(c)}.`:'Dropping "fit" because spec has discrete size.'}function ec(c){return`Unknown field for ${c}. Cannot calculate view size.`}function kc(c){return`Cannot project a selection on encoding channel "${c}", which has no field.`}
function Sc(c){return`Selection not supported for ${c} yet.`}function ed(c){return`The "columns" property cannot be used when "${c}" has nested row/column.`}function fd(c,a,d){return`An ancestor parsed field "${c}" as ${d} but a child wants to parse the field as ${a}.`}function Qd(c){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${c} are dropped.`}function Td(c,a){const {fill:d,stroke:f}=a;return`Dropping color ${c} as the plot also has ${d&&f?"fill and stroke":
d?"fill":"stroke"}.`}function Ed(c,a){return`Dropping ${Ag(c)} from channel "${a}" since it does not contain any data field, datum, value, or signal.`}function Yd(c,a,d){return`${c} dropped as it is incompatible with "${a}"${d?` when ${d}`:""}.`}function ae(c,a){return`Using discrete channel "${c}" to encode "${a}" field can be misleading as it does not encode ${"ordinal"===a?"order":"magnitude"}.`}function Ud(c,a,d){return`${d}-scale's "${a}" is dropped as it does not work with ${c} scale.`}function Ye(c){return`The step for "${c}" is dropped because the ${"width"===
c?"x":"y"} is continuous.`}function Wd(c,a){return`Invalid ${c}: ${Ag(a)}.`}function P(c){return`1D error band does not support ${c}.`}function na(c){return`Channel ${c} is required for "binned" bin.`}function Aa(){Ak.warn(...arguments)}function fb(){Ak.debug(...arguments)}function Jb(c){if(c&&R.isObject(c))for(const a of Yk)if(a in c)return!0;return!1}function Zb(c){x(c)&&(c=+c);if(R.isNumber(c))return c-1;var a=c.toLowerCase();const d=pj.indexOf(a);if(-1!==d)return d;a=a.substr(0,3);a=vi.indexOf(a);
if(-1!==a)return a;throw Error(Wd("month",c));}function Cc(c){x(c)&&(c=+c);if(R.isNumber(c))return c%7;var a=c.toLowerCase();const d=xj.indexOf(a);if(-1!==d)return d;a=a.substr(0,3);a=Ii.indexOf(a);if(-1!==a)return a;throw Error(Wd("day",c));}function mc(c,a){const d=[];a&&void 0!==c.day&&1<ce(c).length&&(Aa(`Dropping day from datetime ${Ag(c)} as day cannot be combined with other units.`),c=zf(c),delete c.day);void 0!==c.year?d.push(c.year):d.push(2012);if(void 0!==c.month){var f=a?Zb(c.month):c.month;
d.push(f)}else if(void 0!==c.quarter){if(a)if(f=c.quarter,x(f)&&(f=+f),R.isNumber(f))4<f&&Aa(Wd("quarter",f)),--f;else throw Error(Wd("quarter",f));else f=c.quarter;d.push(R.isNumber(f)?3*f:`${f}*3`)}else d.push(0);void 0!==c.date?d.push(c.date):void 0!==c.day?(a=a?Cc(c.day):c.day,d.push(R.isNumber(a)?a+1:`${a}+1`)):d.push(1);for(const k of["hours","minutes","seconds","milliseconds"])a=c[k],d.push("undefined"===typeof a?0:a);return d}function Hc(c){const a=mc(c,!0).join(", ");return c.utc?`utc(${a})`:
`datetime(${a})`}function jd(c){const a=mc(c,!0);return c.utc?+new Date(Date.UTC(...a)):+new Date(...a)}function Nc(c){return Yk.filter(a=>Gd(c,a))}function vd(c){c=Nc(c);return c[c.length-1]}function Gd(c,a){const d=c.indexOf(a);return 0>d||0<d&&"seconds"===a&&"i"===c.charAt(d-1)||c.length>d+3&&"day"===a&&"o"===c.charAt(d+3)||0<d&&"year"===a&&"f"===c.charAt(d-1)?!1:!0}function Fd(c,a){var {end:d}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{end:!1};const f=vb(a),k=c.startsWith("utc")?
"utc":"";const B={};for(const ia of Yk)if(Gd(c,ia)){var K="quarter"===ia?`(${k}quarter(${f})-1)`:`${k}${ia}(${f})`;B[ia]=K;K=ia}d&&(B[K]+="+1");d=mc(B,!1).join(", ");return B.utc?`utc(${d})`:`datetime(${d})`}function Xd(c){if(c)return c=Nc(c),`timeUnitSpecifier(${Ag(c)}, ${Ag($l)})`}function Od(c){if(c){var a;R.isString(c)?a={unit:c}:R.isObject(c)&&(a=Object.assign({},c,c.unit?{unit:c.unit}:{}));a.unit.startsWith("utc")&&(a.utc=!0,a.unit=a.unit.substr(3));return a}}function qe(c){var a=Od(c);c=Object.assign({},
a);a=a.utc;const d=(delete c.utc,c);return d.unit?(a?"utc":"")+ce(d).map(f=>Ia(`${"unit"===f?"":`_${f}_`}${d[f]}`)).join(""):(a?"utc":"")+"timeunit"+ce(d).map(f=>Ia(`_${f}_${d[f]}`)).join("")}function De(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:k=>k;var d=Od(c),f=vd(d.unit);if(f&&"day"!==f){const k={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0};d=d.step||1;f=Object.assign({},k,"quarter"===f?{month:+k.month+3*d}:"week"===f?{date:+k.date+7*d}:{[f]:+k[f]+
d});return`${a(Hc(f))} - ${a(Hc(k))}`}}function gf(c){return!(null==c||!c.field)&&void 0!==c.equal}function df(c){return!(null==c||!c.field)&&void 0!==c.lt}function ef(c){return!(null==c||!c.field)&&void 0!==c.lte}function pe(c){return!(null==c||!c.field)&&void 0!==c.gt}function nf(c){return!(null==c||!c.field)&&void 0!==c.gte}function W(c){if(null==c?0:c.field)if(R.isArray(c.range)&&2===c.range.length||$b(c.range))return!0;return!1}function wa(c){return!(null==c||!c.field)&&(R.isArray(c.oneOf)||
R.isArray(c.in))}function db(c){return wa(c)||gf(c)||W(c)||df(c)||pe(c)||ef(c)||nf(c)}function yb(c,a){return ag(c,{timeUnit:a,wrapTime:!0})}function hc(c,a){return c.map(d=>yb(d,a))}function Ec(c){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,{field:d}=c,f;const k=null==(f=Od(c.timeUnit))?void 0:f.unit;d=k?`time(${Fd(k,d)})`:Pc(c,{expr:"datum"});if(gf(c))return`${d}===${yb(c.equal,k)}`;if(df(c))return`${d}<${yb(c.lt,k)}`;if(pe(c))return`${d}>${yb(c.gt,k)}`;if(ef(c))return`${d}<=${yb(c.lte,
k)}`;if(nf(c))return`${d}>=${yb(c.gte,k)}`;if(wa(c))return`indexof([${hc(c.oneOf,k).join(",")}], ${d}) !== -1`;if(null!=c&&c.field&&void 0!==c.valid)return ac(d,c.valid);if(W(c)){var {range:B}=c;f=$b(B)?{signal:`${B.signal}[0]`}:B[0];B=$b(B)?{signal:`${B.signal}[1]`}:B[1];if(null!==f&&null!==B&&a)return"inrange("+d+", ["+yb(f,k)+", "+yb(B,k)+"])";a=[];null!==f&&a.push(`${d} >= ${yb(f,k)}`);null!==B&&a.push(`${d} <= ${yb(B,k)}`);return 0<a.length?a.join(" \x26\x26 "):"true"}throw Error(`Invalid field predicate: ${Ag(c)}`);
}function ac(c){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)?`isValid(${c}) && isFinite(+${c})`:`!isValid(${c}) || !isFinite(+${c})`}function L(c){if(db(c)&&c.timeUnit){let a;return Object.assign({},c,{timeUnit:null==(a=Od(c.timeUnit))?void 0:a.unit})}return c}function fa(c){return"quantitative"===c||"temporal"===c}function Sa(c){return"ordinal"===c||"nominal"===c}function cc(c){if(c)switch(c=c.toLowerCase(),c){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";
case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";case "geojson":return"geojson"}}function Jc(c){return pk.has(c)}function Bc(c){return Ki.has(c)}function $c(c,a){switch(a){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!["point","band","identity"].includes(c);case "bins":return!["point","band","identity","ordinal"].includes(c);case "round":return Jg.has(c)||"band"===c||"point"===c;case "padding":case "rangeMin":case "rangeMax":return Jg.has(c)||
["point","band"].includes(c);case "paddingOuter":case "align":return["point","band"].includes(c);case "paddingInner":return"band"===c;case "domainMax":case "domainMid":case "domainMin":case "clamp":return Jg.has(c);case "nice":return Jg.has(c)||"quantize"===c||"threshold"===c;case "exponent":return"pow"===c;case "base":return"log"===c;case "constant":return"symlog"===c;case "zero":return Bc(c)&&!Sb(["log","time","utc","threshold","quantile"],c)}}function pd(c,a){switch(a){case "interpolate":case "scheme":case "domainMid":if(!S(c))return`Cannot use the scale property "${a}" with non-color channel.`}}
function ee(c,a){let d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;if(!mi[c])return!1;switch(c){case "x":case "y":case "xOffset":case "yOffset":case "theta":case "radius":return Jg.has(a)||"band"===a?!0:"point"===a?!d:!1;case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return Jg.has(a)||$h.has(a)||Sb(["band","point","ordinal"],a);case "color":case "fill":case "stroke":return"band"!==a;case "strokeDash":case "shape":return"ordinal"===
a||$h.has(a)}}function Ra(c){return["line","area","trail"].includes(c)}function eb(c){return c.type}function qc(c){return c&&void 0!=c.band}function wd(c){const {channel:a,channelDef:d,markDef:f,scale:k,config:B}=c;c=td(c);if(ma(d)&&!Xa(d.aggregate)&&k&&Jg.has(k.get("type"))){{let {fieldDef:ia,channel:ta,markDef:Ka,ref:jb,config:Qb}={fieldDef:d,channel:a,markDef:f,ref:c,config:B};if(Ra(Ka.type))c=jb;else if(null===Ac("invalid",Ka,Qb)){var K=ta;c=Mc(ia,!0);K="y"===z(K)?{field:{group:"height"}}:{value:0};
c=[Object.assign({},{test:c},K),jb]}else c=jb}return c}return c}function Mc(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;return ac(R.isString(c)?c:Pc(c,{expr:"datum"}),!a)}function Uc(c,a,d,f){const k={};a&&(k.scale=a);ib(c)?({datum:c}=c,Jb(c)?k.signal=Hc(c):$b(c)?k.signal=c.signal:xc(c)?k.signal=c.expr:k.value=c):k.field=Pc(c,d);if(f){const {offset:B,band:K}=f;B&&(k.offset=B);K&&(k.band=K)}return k}function Qc(c){let {scaleName:a,fieldOrDatumDef:d,fieldOrDatumDef2:f,offset:k,
startSuffix:B,bandPosition:K=.5}=c;var ia=0<K&&1>K?"datum":void 0;c=Pc(d,{expr:ia,suffix:B});const ta=void 0!==f?Pc(f,{expr:ia}):Pc(d,{suffix:"end",expr:ia});ia={};0===K||1===K?(ia.scale=a,ia.field=0===K?c:ta):(c=$b(K)?`${K.signal} * ${c} + (1-${K.signal}) * ${ta}`:`${K} * ${c} + ${1-K} * ${ta}`,ia.signal=`scale("${a}", ${c})`);k&&(ia.offset=k);return ia}function td(c){let {channel:a,channelDef:d,channel2Def:f,markDef:k,config:B,scaleName:K,scale:ia,stack:ta,offset:Ka,defaultRef:jb,bandPosition:Qb}=
c;if(d){if(Xb(d)){c=null==ia?void 0:ia.get("type");if(Dc(d)){null!=Qb||(Qb=$d({fieldDef:d,fieldDef2:f,markDef:k,config:B}));const {bin:Kc,timeUnit:cd,type:qd}=d;if(Z(Kc)||Qb&&cd&&"temporal"===qd)return(null==ta?0:ta.impute)?Uc(d,K,{binSuffix:"mid"},{offset:Ka}):Qb&&!Jc(c)?Qc({scaleName:K,fieldOrDatumDef:d,bandPosition:Qb,offset:Ka}):Uc(d,K,hf(d,a)?{binSuffix:"range"}:{},{offset:Ka});if(Ca(Kc)){if(ma(f))return Qc({scaleName:K,fieldOrDatumDef:d,fieldOrDatumDef2:f,bandPosition:Qb,offset:Ka});Aa(na("x"===
a?"x2":"y2"))}}var uc;let ld;return Uc(d,K,Jc(c)?{binSuffix:"range"}:{},{offset:Ka,band:"band"===c?null!=(ld=null!=(uc=Qb)?uc:d.bandPosition)?ld:.5:void 0})}if(yd(d))return uc=Ka?{offset:Ka}:{},Object.assign({},kd(a,d.value),uc)}R.isFunction(jb)&&(jb=jb());return jb?Object.assign({},jb,Ka?{offset:Ka}:{}):jb}function kd(c,a){return Sb(["x","x2"],c)&&"width"===a?{field:{group:"width"}}:Sb(["y","y2"],c)&&"height"===a?{field:{group:"height"}}:Tb(a)}function Ld(c){return c&&"number"!==c&&"time"!==c}function Cd(c){let {fieldOrDatumDef:a,
format:d,formatType:f,expr:k,normalizeStack:B,config:K}=c;if(Ld(f))return ve({fieldOrDatumDef:a,format:d,formatType:f,expr:k,config:K});c=be(a,k,B);var ia=Ja(a);if(void 0===d&&void 0===f&&K.customFormatTypes){if("quantitative"===ia){if(B&&K.normalizedNumberFormatType)return ve({fieldOrDatumDef:a,format:K.normalizedNumberFormat,formatType:K.normalizedNumberFormatType,expr:k,config:K});if(K.numberFormatType)return ve({fieldOrDatumDef:a,format:K.numberFormat,formatType:K.numberFormatType,expr:k,config:K})}if("temporal"===
ia&&K.timeFormatType&&ma(a)&&void 0===a.timeUnit)return ve({fieldOrDatumDef:a,format:K.timeFormat,formatType:K.timeFormatType,expr:k,config:K})}if(af(a)){var ta,Ka;{c={field:c,timeUnit:ma(a)?null==(ta=Od(a.timeUnit))?void 0:ta.unit:void 0,format:d,formatType:K.timeFormatType,rawTimeFormat:K.timeFormat,isUTCScale:Yc(a)&&(null==(Ka=a.scale)?void 0:Ka.type)===Kh.UTC};let {field:jb,timeUnit:Qb,format:uc,formatType:ld,rawTimeFormat:Kc,isUTCScale:cd}=c;!Qb||uc?!Qb&&ld?ta=`${ld}(${jb}, '${uc}')`:(uc=R.isString(uc)?
uc:Kc,ta=`${cd?"utc":"time"}Format(${jb}, '${uc}')`):(ta=Qb,Ka=jb,c=cd,ta?(ia=Xd(ta),ta=`${c||ta.startsWith("utc")?"utc":"time"}Format(${Ka}, ${ia})`):ta=void 0)}return ta?{signal:ta}:void 0}d=sf({type:ia,specifiedFormat:d,config:K,normalizeStack:B});return ma(a)&&Z(a.bin)?(ta=Pc(a,{expr:k,binSuffix:"end"}),{signal:Fc(c,ta,d,f,K)}):d||"quantitative"===Ja(a)?{signal:`${`format(${c}, "${d||""}")`}`}:{signal:`isValid(${c}) ? ${c} : ""+${c}`}}function be(c,a,d){if(ma(c))return d?`${Pc(c,{expr:a,suffix:"end"})}-${Pc(c,
{expr:a,suffix:"start"})}`:Pc(c,{expr:a});({datum:c}=c);c=Jb(c)?Hc(c):`${Ag(c)}`;return c}function ve(c){let {fieldOrDatumDef:a,format:d,formatType:f,expr:k,normalizeStack:B,config:K,field:ia}=c;null!=ia||(ia=be(a,k,B));return"datum.value"!==ia&&ma(a)&&Z(a.bin)?(c=Pc(a,{expr:k,binSuffix:"end"}),{signal:Fc(ia,c,d,f,K)}):{signal:`${f}(${ia}${d?`, ${Ag(d)}`:""})`}}function Me(c,a,d,f,k,B){if(!R.isString(f)||!Ld(f))if(void 0!==d||void 0!==f||!k.customFormatTypes||"quantitative"!==Ja(c)||!(k.normalizedNumberFormatType&&
hd(c)&&"normalize"===c.stack||k.numberFormatType)){if(hd(c)&&"normalize"===c.stack&&k.normalizedNumberFormat)return sf({type:"quantitative",config:k,normalizeStack:!0});if(af(c)){let K;c=ma(c)?null==(K=Od(c.timeUnit))?void 0:K.unit:void 0;if(void 0===c&&k.customFormatTypes&&k.timeFormatType)return;{let {specifiedFormat:ia,timeUnit:ta,config:Ka,omitTimeFormatConfig:jb}={specifiedFormat:d,timeUnit:c,config:k,omitTimeFormatConfig:B};d=ia?ia:ta?{signal:Xd(ta)}:jb?void 0:Ka.timeFormat}return d}return sf({type:a,
specifiedFormat:d,config:k})}}function $e(c,a,d){if(c&&($b(c)||"number"===c||"time"===c))return c;if(af(a)&&"time"!==d&&"utc"!==d){let f;return ma(a)&&(null==(f=Od(null==a?void 0:a.timeUnit))?0:f.utc)?"utc":"time"}}function sf(c){let {type:a,specifiedFormat:d,config:f,normalizeStack:k}=c;if(R.isString(d))return d;if("quantitative"===a)return k?f.normalizedNumberFormat:f.numberFormat}function nd(c,a,d,f){if(Ld(d))return`${d}(${c}${a?`, ${Ag(a)}`:""})`;let k;a=null!=(k=R.isString(a)?a:void 0)?k:f.numberFormat;
return`format(${c}, "${a||""}")`}function Fc(c,a,d,f,k){if(void 0===d&&void 0===f&&k.customFormatTypes&&k.numberFormatType)return Fc(c,a,k.numberFormat,k.numberFormatType,k);const B=nd(c,d,f,k);a=nd(a,d,f,k);return`${ac(c,!1)} ? "null" : ${B} + "${"  "}" + ${a}`}function bd(c){return c&&("count"===c.op||!!c.field)}function Gc(c){return c&&R.isArray(c)}function Jd(c){return"row"in c||"column"in c}function Zd(c){const {field:a,timeUnit:d,bin:f,aggregate:k}=c;return Object.assign({},d?{timeUnit:d}:
{},f?{bin:f}:{},k?{aggregate:k}:{},{field:a})}function $d(c){let {fieldDef:a,fieldDef2:d,markDef:f,config:k}=c;if(Xb(a)&&void 0!==a.bandPosition)return a.bandPosition;if(ma(a)){const {timeUnit:B,bin:K}=a;if(B&&!d)return["rect","bar","image","arc"].includes(f.type)?0:Zc("timeUnitBandPosition",f,k);if(Z(K))return.5}}function ke(c){let {channel:a,fieldDef:d,fieldDef2:f,markDef:k,config:B,scaleType:K,useVlSizeChannel:ia}=c;c=h(a);c=Ac(ia?"size":c,k,B,{vgChannel:c});if(void 0!==c)return c;if(ma(d)){const {timeUnit:ta,
bin:Ka}=d;if(ta&&!f)return{band:Zc("timeUnitBandSize",k,B)};if(Z(Ka)&&!Jc(K))return{band:1}}if(["rect","bar","image","arc"].includes(k.type)){if(K){if(Jc(K)){let jb;return(null==(jb=B[k.type])?void 0:jb.discreteBandSize)||{band:1}}let Ka;return null==(Ka=B[k.type])?void 0:Ka.continuousBandSize}let ta;return null==(ta=B[k.type])?void 0:ta.discreteBandSize}}function Q(c,a,d,f){return Z(c.bin)||c.timeUnit&&Dc(c)&&"temporal"===c.type?void 0!==$d({fieldDef:c,fieldDef2:a,markDef:d,config:f}):!1}function ea(c){return c&&
"condition"in c}function J(c){c=null==c?void 0:c.condition;return!!c&&!R.isArray(c)&&ma(c)}function la(c){c=null==c?void 0:c.condition;return!!c&&!R.isArray(c)&&Xb(c)}function ma(c){return c&&(!!c.field||"count"===c.aggregate)}function Ja(c){return null==c?void 0:c.type}function ib(c){return c&&"datum"in c}function gc(c){return Dc(c)&&!Ee(c)||vc(c)}function tc(c){return Dc(c)&&"quantitative"===c.type&&!c.bin||vc(c)}function vc(c){return ib(c)&&R.isNumber(c.datum)}function Xb(c){return ma(c)||ib(c)}
function Dc(c){return c&&("field"in c||"count"===c.aggregate)&&"type"in c}function yd(c){return c&&"value"in c&&"value"in c}function Yc(c){return c&&("scale"in c||"sort"in c)}function hd(c){return c&&("axis"in c||"stack"in c||"impute"in c)}function Ad(c){return c&&("format"in c||"formatType"in c)}function Hd(c){return pc(c,["legend","axis","header","scale"])}function Pc(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=c.field;const f=a.prefix;let k=a.suffix,B="";if("count"===c.aggregate)d=
cb("count");else{let K;if(!a.nofn)if("op"in c)K=c.op;else{const {bin:ia,aggregate:ta,timeUnit:Ka}=c;if(Z(ia)){K=ab(ia);let jb,Qb;k=(null!=(jb=a.binSuffix)?jb:"")+(null!=(Qb=a.suffix)?Qb:"")}else if(ta)va(ta)?(B=`["${d}"]`,d=`argmax_${ta.argmax}`):I(ta)?(B=`["${d}"]`,d=`argmin_${ta.argmin}`):K=String(ta);else if(Ka){K=qe(Ka);let jb;k=(!["range","mid"].includes(a.binSuffix)&&a.binSuffix||"")+(null!=(jb=a.suffix)?jb:"")}}K&&(d=d?`${K}_${d}`:K)}k&&(d=`${d}_${k}`);f&&(d=`${f}_${d}`);return a.forAs?ra(d):
a.expr?qb(d,a.expr)+B:Vb(d)+B}function Ee(c){switch(c.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return ma(c)&&!!c.bin;case "temporal":return!1}throw Error(`Invalid field type "${c.type}".`);}function Ge(c,a){const {field:d,bin:f,timeUnit:k,aggregate:B}=c;if("count"===B)return a.countTitle;if(Z(f))return`${d} (binned)`;if(k){let K;if(c=null==(K=Od(k))?void 0:K.unit)return`${d} (${Nc(c).join("-")})`}else if(B)return va(B)?`${d} for max ${B.argmax}`:I(B)?`${d} for min ${B.argmin}`:
`${Ma(B)} of ${d}`;return d}function Ae(c,a,d){let {allowDisabling:f,includeDefault:k=!0}=d,B;d=null==(B=Be(c))?void 0:B.title;if(!ma(c))return null!=d?d:c.title;a=k?Qi(c,a):void 0;if(f)return Ea(d,c.title,a);let K;return null!=(K=null!=d?d:c.title)?K:a}function Be(c){if(hd(c)&&c.axis)return c.axis;if(c&&"legend"in c&&c.legend)return c.legend;if(c&&"header"in c&&c.header)return c.header}function Id(c){if(Ad(c)){const {format:k,formatType:B}=c;return{format:k,formatType:B}}let a;c=null!=(a=Be(c))?
a:{};const {format:d,formatType:f}=c;return{format:d,formatType:f}}function he(c,a){switch(a){case "latitude":case "longitude":return"quantitative";case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";case "order":return"ordinal"}if("sort"in c&&R.isArray(c.sort))return"ordinal";const {aggregate:d,bin:f,timeUnit:k}=c;if(k)return"temporal";if(f||d&&!va(d)&&!I(d))return"quantitative";let B;if(Yc(c)&&(null==(B=c.scale)?0:B.type))switch($i[c.scale.type]){case "numeric":case "discretizing":return"quantitative";
case "time":return"temporal"}return"nominal"}function xe(c){if(ma(c))return c;if(J(c))return c.condition}function Le(c){if(Xb(c))return c;if(la(c))return c.condition}function of(c,a,d){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return R.isString(c)||R.isNumber(c)||R.isBoolean(c)?(f=R.isString(c)?"string":R.isNumber(c)?"number":"boolean",Aa(`Channel ${a} is a ${f}. Converted to {value: ${Ag(c)}}.`),{value:c}):Xb(c)?We(c,a,d,f):la(c)?Object.assign({},c,{condition:We(c.condition,
a,d,f)}):c}function We(c,a,d,f){if(Ad(c)){var k=Object.assign({},c),B=c.formatType;k=(delete k.format,delete k.formatType,k);if(Ld(B)&&!d.customFormatTypes)return Aa(Qd(a)),We(k,a,d,f)}else if((B=hd(c)?"axis":c&&"legend"in c?"legend":c&&"header"in c?"header":null)&&c[B]){var K=c[B];k=Object.assign({},K);K=K.formatType;k=(delete k.format,delete k.formatType,k);if(Ld(K)&&!d.customFormatTypes)return Aa(Qd(a)),We(Object.assign({},c,{[B]:k}),a,d,f)}if(ma(c))return we(c,a,f);a=c.type;a||({datum:a}=c,a=
R.isNumber(a)?"quantitative":R.isString(a)?"nominal":Jb(a)?"temporal":void 0,c=Object.assign({},c,{type:a}));return c}function we(c,a){var {compositeMark:d=!1}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const {aggregate:f,timeUnit:k,bin:B,field:K}=c,ia=Object.assign({},c);d||!f||La(f)||va(f)||I(f)||(Aa(`Invalid aggregation operator "${f}".`),delete ia.aggregate);k&&(ia.timeUnit=Od(k));K&&(ia.field=`${K}`);Z(B)&&(ia.bin=vf(B,a));Ca(B)&&!F(a)&&Aa(`Channel ${a} should not be used with "binned" bin.`);
if(Dc(ia)){({type:d}=ia);var ta=cc(d);d!==ta&&(ia.type=ta);"quantitative"!==d&&Xa(f)&&(Aa(`Invalid field type "${d}" for aggregate: "${f}", using "quantitative" instead.`),ia.type="quantitative")}else g(a)||(d=he(ia,a),ia.type=d);if(Dc(ia)){const {compatible:jb,warning:Qb}=Of(ia,a)||{};!1===jb&&Aa(Qb)}if("sort"in ia&&R.isString(ia.sort)){({sort:d}=ia);if(d in hj)return Object.assign({},ia,{sort:{encoding:d}});ta=d.substr(1);if("-"===d.charAt(0)&&ta in hj)return Object.assign({},ia,{sort:{encoding:ta,
order:"descending"}})}if(ia&&"header"in ia&&({header:d}=ia,d)){var Ka=d;ta=Object.assign({},Ka);Ka=Ka.orient;ta=(delete ta.orient,ta);if(Ka)return Object.assign({},ia,{header:Object.assign({},ta,{labelOrient:d.labelOrient||Ka,titleOrient:d.titleOrient||Ka})})}return ia}function vf(c,a){return R.isBoolean(c)?{maxbins:Kb(a)}:"binned"===c?{binned:!0}:c.maxbins||c.step?c:Object.assign({},c,{maxbins:Kb(a)})}function Of(c,a){var d=c.type;if("geojson"===d&&"shape"!==a)return{compatible:!1,warning:`Channel ${a} should not be used with a geojson data.`};
switch(a){case "row":case "column":case "facet":return Ee(c)?Th:{compatible:!1,warning:`${a} encoding should be discrete (ordinal / nominal / binned).`};case "x":case "y":case "xOffset":case "yOffset":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return Th;case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==d?{compatible:!1,warning:`Channel ${a} should be used with a quantitative field only, not ${c.type} field.`}:
Th;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==d||c.sort?Th:{compatible:!1,warning:`Channel ${a} should not be used with an unsorted discrete field.`};case "shape":case "strokeDash":if(d=!Ee(c)){let f;d=!(Yc(c)&&$h.has(null==(f=c.scale)?void 0:f.type))}return d?{compatible:!1,warning:`${a} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}:
Th;case "order":return"nominal"!==c.type||"sort"in c?Th:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function af(c){var {formatType:a}=Id(c),d;if(!(d="time"===a)){if(a=!a)a=c&&("temporal"===c.type||ma(c)&&!!c.timeUnit);d=a}return d}function ag(c,a){let {timeUnit:d,type:f,wrapTime:k,undefinedIfExprNotRequired:B}=a;var K=(a=d&&(null==(K=Od(d))?void 0:K.unit))||"temporal"===f;let ia;xc(c)?ia=c.expr:$b(c)?ia=c.signal:Jb(c)?(K=!0,ia=Hc(c)):(R.isString(c)||
R.isNumber(c))&&K&&(ia=`datetime(${Ag(c)})`,lk[a]&&(R.isNumber(c)&&1E4>c||R.isString(c)&&isNaN(Date.parse(c)))&&(ia=Hc({[a]:c})));return ia?k&&K?`time(${ia})`:ia:B?void 0:Ag(c)}function Vd(c,a){const {type:d}=c;return a.map(f=>{const k=ag(f,{timeUnit:ma(c)?c.timeUnit:void 0,type:d,undefinedIfExprNotRequired:!0});return void 0!==k?{signal:k}:f})}function hf(c,a){return Z(c.bin)?!!mi[a]&&["ordinal","nominal"].includes(c.type):(console.warn("Only call this method for binned field defs."),!1)}function jf(c){return null==
c?void 0:c.condition}function Qe(c){return"mark"in c}function Cf(c,a){return(c=c&&c[a])?R.isArray(c)?Ua(c,d=>!!d.field):ma(c)||J(c):!1}function Pf(c,a){return(c=c&&c[a])?R.isArray(c)?Ua(c,d=>!!d.field):ma(c)||ib(c)||la(c):!1}function Jf(c,a){if(F(a)){const d=c[a];if((ma(d)||ib(d))&&(Sa(d.type)||ma(d)&&d.timeUnit))return a=r(a),Pf(c,a)}return!1}function Gf(c){return Ua(dl,a=>Cf(c,a)?(a=c[a],R.isArray(a)?Ua(a,d=>!!d.aggregate):(a=xe(a))&&!!a.aggregate):!1)}function Bg(c,a){const d=[],f=[],k=[],B=[],
K={};Ug(c,(ia,ta)=>{if(ma(ia)){var Ka=Object.assign({},ia),jb=ia.field;const uc=ia.aggregate,ld=ia.bin,Kc=ia.timeUnit;Ka=(delete Ka.field,delete Ka.aggregate,delete Ka.bin,delete Ka.timeUnit,Ka);if(uc||Kc||ld){var Qb;const cd=null==(Qb=Be(ia))?void 0:Qb.title;Qb=Pc(ia,{forAs:!0});Ka=Object.assign({},cd?[]:{title:Ae(ia,a,{allowDisabling:!0})},Ka,{field:Qb});if(uc){let qd;va(uc)?(qd="argmax",Qb=Pc({op:"argmax",field:uc.argmax},{forAs:!0}),Ka.field=`${Qb}.${jb}`):I(uc)?(qd="argmin",Qb=Pc({op:"argmin",
field:uc.argmin},{forAs:!0}),Ka.field=`${Qb}.${jb}`):"boxplot"!==uc&&"errorbar"!==uc&&"errorband"!==uc&&(qd=uc);qd&&(ia={op:qd,as:Qb},jb&&(ia.field=jb),B.push(ia))}else d.push(Qb),Dc(ia)&&Z(ld)?(f.push({bin:ld,field:jb,as:Qb}),d.push(Pc(ia,{binSuffix:"end"})),hf(ia,ta)&&d.push(Pc(ia,{binSuffix:"range"})),F(ta)&&(K[`${ta}2`]={field:`${Qb}_end`}),Ka.bin="binned",g(ta)||(Ka.type="quantitative")):Kc&&(k.push({timeUnit:Kc,field:jb,as:Qb}),(jb=Dc(ia)&&"temporal"!==ia.type&&"time")&&("text"===ta||"tooltip"===
ta?Ka.formatType=jb:Qj[ta]?Ka.legend=Object.assign({},{formatType:jb},Ka.legend):F(ta)&&(Ka.axis=Object.assign({},{formatType:jb},Ka.axis))));K[ta]=Ka}else d.push(jb),K[ta]=c[ta]}else K[ta]=c[ta]});return{bins:f,timeUnits:k,aggregate:B,groupby:d,encoding:K}}function rg(c,a,d){d=O(a)[d];return d&&("binned"!==d||(d=c["x2"===a?"x":"y"],ma(d)&&ma(c[a])&&Ca(d.bin)))?!0:!1}function Af(c,a,d,f){const k={};for(var B of ce(c))Sj[B]||Aa(`${B}-encoding is dropped as ${B} is not a valid encoding channel.`);for(let ia of Pk)if(c[ia]){B=
c[ia];if(ia in Yi){var K=v(ia);const ta=k[K];if(ma(ta)){if(fa(ta.type)&&ma(B)&&!ta.timeUnit){Aa(`${K}Offset dropped because ${K} is continuous`);continue}}else ia=K,Aa(`There is no ${K} encoding. Replacing ${K}Offset encoding as ${K}.`)}"angle"!==ia||"arc"!==a||c.theta||(Aa("Arc marks uses theta channel rather than angle, replacing angle with theta."),ia="theta");if(rg(c,ia,a)){if("size"===ia&&"line"===a){let ta;if(null==(ta=xe(c[ia]))?0:ta.aggregate){Aa("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.");
continue}}if("color"===ia&&(d?"fill"in c:"stroke"in c))Aa(Td("encoding",{fill:"fill"in c,stroke:"stroke"in c}));else if("detail"===ia||"order"===ia&&!R.isArray(B)&&!yd(B)||"tooltip"===ia&&R.isArray(B)){if(B){if("order"===ia&&(K=c[ia])&&K.sort&&!K.field){k[ia]=K;continue}k[ia]=R.array(B).reduce((ta,Ka)=>{ma(Ka)?ta.push(we(Ka,ia)):Aa(Ed(Ka,ia));return ta},[])}}else{if("tooltip"===ia&&null===B)k[ia]=null;else if(!(ma(B)||ib(B)||yd(B)||ea(B)||$b(B))){Aa(Ed(B,ia));continue}k[ia]=of(B,ia,f)}}else Aa(Yd(ia,
a))}return k}function Hf(c,a){const d={};for(const f of ce(c)){const k=of(c[f],f,a,{compositeMark:!0});d[f]=k}return d}function dg(c){const a=[];for(const d of ce(c))if(Cf(c,d)){const f=R.array(c[d]);for(const k of f)ma(k)?a.push(k):J(k)&&a.push(k.condition)}return a}function Ug(c,a,d){if(c)for(const f of ce(c)){const k=c[f];if(R.isArray(k))for(const B of k)a.call(d,B,f);else a.call(d,k,f)}}function Vg(c,a,d,f){return c?ce(c).reduce((k,B)=>{const K=c[B];return R.isArray(K)?K.reduce((ia,ta)=>a.call(f,
ia,ta,B),k):a.call(f,k,K,B)},d):d}function Dg(c,a){return ce(a).reduce((d,f)=>{switch(f){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "xOffset":case "yOffset":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return d;case "order":if("line"===c||"trail"===c)return d;case "detail":case "key":f=a[f];if(R.isArray(f)||ma(f))for(var k of R.array(f))k.aggregate||
d.push(Pc(k,{}));return d;case "size":if("trail"===c)return d;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(k=xe(a[f]))&&!k.aggregate&&d.push(Pc(k,{})),d}},[])}function Wg(c,a,d){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;if("tooltip"in d)return{tooltip:d.tooltip};const k=c.map(K=>{let {fieldPrefix:ia,titlePrefix:ta}=K;K=f?` of ${sa(a)}`:"";return{field:ia+a.field,type:a.type,title:$b(ta)?
{signal:`${ta}"${escape(K)}"`}:ta+K}}),B=dg(d).map(Hd);return{tooltip:[...k,...Hb(B,Ab)]}}function sa(c){const {title:a,field:d}=c;return Ea(a,d)}function bb(c,a,d,f,k){const {scale:B,axis:K}=d;return ia=>{let {partName:ta,mark:Ka,positionPrefix:jb,endPositionPrefix:Qb,extraEncoding:uc={}}=ia;ia=sa(d);return Rb(c,ta,k,{mark:Ka,encoding:Object.assign({},{[a]:Object.assign({},{field:`${jb}_${d.field}`,type:d.type},void 0!==ia?{title:ia}:{},void 0!==B?{scale:B}:{},void 0!==K?{axis:K}:{})},R.isString(Qb)?
{[`${a}2`]:{field:`${Qb}_${d.field}`}}:{},f,uc)})}}function Rb(c,a,d,f){const {clip:k,color:B,opacity:K}=c,ia=c.type;return c[a]||void 0===c[a]&&d[a]?[Object.assign({},f,{mark:Object.assign({},d[a],k?{clip:k}:{},B?{color:B}:{},K?{opacity:K}:{},eb(f.mark)?f.mark:{type:f.mark},{style:`${ia}-${String(a)}`},R.isBoolean(c[a])?{}:c[a])})]:[]}function id(c,a,d){({encoding:c}=c);a="vertical"===a?"y":"x";const f=c[`${a}2`],k=c[`${a}Error`],B=c[`${a}Error2`];return{continuousAxisChannelDef:od(c[a],d),continuousAxisChannelDef2:od(f,
d),continuousAxisChannelDefError:od(k,d),continuousAxisChannelDefError2:od(B,d),continuousAxis:a}}function od(c,a){if(null==c?0:c.aggregate){var d=Object.assign({},c);c=c.aggregate;d=(delete d.aggregate,d);c!==a&&Aa(`Continuous axis should not have customized aggregation function ${c}; ${a} already agregates the axis.`);return d}return c}function ne(c,a){const {mark:d,encoding:f}=c,{x:k,y:B}=f;if(eb(d)&&d.orient)return d.orient;if(gc(k)){if(gc(B)){c=ma(k)&&k.aggregate;const K=ma(B)&&B.aggregate;if(!c&&
K===a)return"vertical";if(K||c!==a){if(c===a&&K===a)throw Error("Both x and y cannot have aggregate");return af(B)&&!af(k)?"horizontal":"vertical"}}return"horizontal"}if(gc(B))return"vertical";throw Error(`Need a valid continuous axis for ${a}s`);}function Re(c){return R.isNumber(c)?"tukey":c}function pf(c,a){var {config:d}=a,f=c=Object.assign({},c,{encoding:Hf(c.encoding,d)});a=Object.assign({},f);var k=f.mark;f=f.params;a=(delete a.mark,delete a.encoding,delete a.params,delete a.projection,a);k=
eb(k)?k:{type:k};f&&Aa(Sc("boxplot"));var B;f=null!=(B=k.extent)?B:d.boxplot.extent;var K=Ac("size",k,d),ia=k.invalid;B=Re(f);var ta=c;c=ne(ta,"boxplot");const {continuousAxisChannelDef:Ka,continuousAxis:jb}=id(ta,c,"boxplot");var Qb=Ka.field,uc=Re(f),ld=[...Ff(Qb),{op:"median",field:Qb,as:`mid_box_${Qb}`},{op:"min",field:Qb,as:("min-max"===uc?"lower_whisker_":"min_")+Qb},{op:"max",field:Qb,as:("min-max"===uc?"upper_whisker_":"max_")+Qb}];Qb="min-max"===uc||"tukey"===uc?[]:[{calculate:`datum["upper_box_${Qb}"] - datum["lower_box_${Qb}"]`,
as:`iqr_${Qb}`},{calculate:`min(datum["upper_box_${Qb}"] + datum["iqr_${Qb}"] * ${f}, datum["max_${Qb}"])`,as:`upper_whisker_${Qb}`},{calculate:`max(datum["lower_box_${Qb}"] - datum["iqr_${Qb}"] * ${f}, datum["min_${Qb}"])`,as:`lower_whisker_${Qb}`}];ta=Object.assign({},ta.encoding);var Kc;uc=(delete ta[jb],ta);ta=Object.assign({},uc);uc=uc.tooltip;ta=(delete ta.tooltip,ta);if(uc){var cd;if(R.isArray(uc)){for(var qd of uc)qd.aggregate?(Kc||(Kc=[]),Kc.push(qd)):(cd||(cd=[]),cd.push(qd));Kc&&(ta.tooltip=
Kc)}else uc.aggregate?ta.tooltip=uc:cd=uc;R.isArray(cd)&&1===cd.length&&(cd=cd[0]);Kc={customTooltipWithoutAggregatedField:cd,filteredEncoding:ta}}else Kc={filteredEncoding:ta};const {customTooltipWithoutAggregatedField:fe,filteredEncoding:Md}=Kc,{bins:ue,timeUnits:Te,aggregate:cf,groupby:Yf,encoding:Uf}=Bg(Md,d);Kc=[...ue,...Te,{aggregate:[...cf,...ld],groupby:Yf},...Qb];const {bins:ug,timeUnits:Nf,transform:mh,continuousAxisChannelDef:Rf,continuousAxis:Fi,groupby:um,aggregate:Cm,encodingWithoutContinuousAxis:Dk,
ticksOrient:vm,boxOrient:Dm,customTooltipWithoutAggregatedField:wm}={bins:ue,timeUnits:Te,transform:Kc,groupby:Yf,aggregate:cf,continuousAxisChannelDef:Ka,continuousAxis:jb,encodingWithoutContinuousAxis:Uf,ticksOrient:"vertical"===c?"horizontal":"vertical",boxOrient:c,customTooltipWithoutAggregatedField:fe};cd=Object.assign({},Dk);Kc=Dk.color;ld=Dk.size;cd=(delete cd.color,delete cd.size,cd);qd=bb(k,Fi,Rf,cd,d.boxplot);c=bb(k,Fi,Rf,Dk,d.boxplot);ld=bb(k,Fi,Rf,Object.assign({},cd,ld?{size:ld}:{}),
d.boxplot);Qb=Wg([{fieldPrefix:"min-max"===B?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===B?"lower_whisker_":"min_",titlePrefix:"Min"}],Rf,Dk);ta={type:"tick",color:"black",opacity:1,orient:vm,invalid:ia,aria:!1};uc="min-max"===B?Qb:Wg([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],
Rf,Dk);qd=[...qd({partName:"rule",mark:{type:"rule",invalid:ia,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:uc}),...qd({partName:"rule",mark:{type:"rule",invalid:ia,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:uc}),...qd({partName:"ticks",mark:ta,positionPrefix:"lower_whisker",extraEncoding:uc}),...qd({partName:"ticks",mark:ta,positionPrefix:"upper_whisker",extraEncoding:uc})];K=[...("tukey"!==B?qd:[]),...c({partName:"box",
mark:Object.assign({},{type:"bar"},K?{size:K}:{},{orient:Dm,invalid:ia,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:Qb}),...ld({partName:"median",mark:Object.assign({},{type:"tick",invalid:ia},R.isObject(d.boxplot.median)&&d.boxplot.median.color?{color:d.boxplot.median.color}:{},K?{size:K}:{},{orient:vm,aria:!1}),positionPrefix:"mid_box",extraEncoding:Qb})];if("min-max"===B){var Fj;return Object.assign({},a,{transform:(null!=(Fj=a.transform)?Fj:
[]).concat(mh),layer:K})}Fj=`datum["lower_box_${Rf.field}"]`;B=`datum["upper_box_${Rf.field}"]`;ia=`(${B} - ${Fj})`;Fj=`${Fj} - ${f} * ${ia}`;ia=`${B} + ${f} * ${ia}`;c=`datum["${Rf.field}"]`;f={joinaggregate:Ff(Rf.field),groupby:um};B={transform:[{filter:`(${Fj} <= ${c}) && (${c} <= ${ia})`},{aggregate:[{op:"min",field:Rf.field,as:`lower_whisker_${Rf.field}`},{op:"max",field:Rf.field,as:`upper_whisker_${Rf.field}`},{op:"min",field:`lower_box_${Rf.field}`,as:`lower_box_${Rf.field}`},{op:"max",field:`upper_box_${Rf.field}`,
as:`upper_box_${Rf.field}`},...Cm],groupby:um}],layer:qd};cd=Object.assign({},cd);cd=(delete cd.tooltip,cd);const {scale:xm,axis:Em}=Rf;qd=sa(Rf);ld=pc(Em,["title"]);d=Rb(k,"outliers",d.boxplot,{transform:[{filter:`(${c} < ${Fj}) || (${c} > ${ia})`}],mark:"point",encoding:Object.assign({},{[Fi]:Object.assign({},{field:Rf.field,type:Rf.type},void 0!==qd?{title:qd}:{},void 0!==xm?{scale:xm}:{},Na(ld)?{}:{axis:ld})},cd,Kc?{color:Kc}:{},wm?{tooltip:wm}:{})})[0];k=[...ug,...Nf,f];d?d={transform:k,layer:[d,
B]}:(d=B,d.transform.unshift(...k));return Object.assign({},a,{layer:[d,{transform:mh,layer:K}]})}function Ff(c){return[{op:"q1",field:c,as:`lower_box_${c}`},{op:"q3",field:c,as:`upper_box_${c}`}]}function Ne(c,a){({config:a}=a);c=Object.assign({},c,{encoding:Hf(c.encoding,a)});const {transform:d,continuousAxisChannelDef:f,continuousAxis:k,encodingWithoutContinuousAxis:B,ticksOrient:K,markDef:ia,outerSpec:ta,tooltipEncoding:Ka}=Sf(c,"errorbar",a);delete B.size;c=bb(ia,k,f,B,a.errorbar);a=ia.thickness;
var jb=ia.size;jb=Object.assign({},{type:"tick",orient:K,aria:!1},void 0!==a?{thickness:a}:{},void 0!==jb?{size:jb}:{});c=[...c({partName:"ticks",mark:jb,positionPrefix:"lower",extraEncoding:Ka}),...c({partName:"ticks",mark:jb,positionPrefix:"upper",extraEncoding:Ka}),...c({partName:"rule",mark:Object.assign({},{type:"rule",ariaRoleDescription:"errorbar"},void 0!==a?{size:a}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:Ka})];return Object.assign({},ta,{transform:d},1<c.length?
{layer:c}:Object.assign({},c[0]))}function eg(c,a){var {encoding:d}=c;if(!(!Xb(d.x)&&!Xb(d.y)||Xb(d.x2)||Xb(d.y2)||Xb(d.xError)||Xb(d.xError2)||Xb(d.yError)||Xb(d.yError2)))return{orient:ne(c,a),inputType:"raw"};var f=Xb(d.x2)||Xb(d.y2);var k=Xb(d.xError)||Xb(d.xError2)||Xb(d.yError)||Xb(d.yError2);c=d.x;const B=d.y;if(f){if(k)throw Error(`${a} cannot be both type aggregated-upper-lower and aggregated-error`);f=d.x2;d=d.y2;if(Xb(f)&&Xb(d))throw Error(`${a} cannot have both x2 and y2`);if(Xb(f)){if(gc(c))return{orient:"horizontal",
inputType:"aggregated-upper-lower"};throw Error(`Both x and x2 have to be quantitative in ${a}`);}if(Xb(d)){if(gc(B))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error(`Both y and y2 have to be quantitative in ${a}`);}}else{f=d.xError;k=d.yError;const K=d.yError2;if(Xb(d.xError2)&&!Xb(f))throw Error(`${a} cannot have xError2 without xError`);if(Xb(K)&&!Xb(k))throw Error(`${a} cannot have yError2 without yError`);if(Xb(f)&&Xb(k))throw Error(`${a} cannot have both xError and yError with both are quantiative`);
if(Xb(f)){if(gc(c))return{orient:"horizontal",inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(Xb(k)){if(gc(B))return{orient:"vertical",inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");}function Sf(c,a,d){var f=Object.assign({},c),k=c.mark,B=c.encoding,K=c.params;f=(delete f.mark,delete f.encoding,delete f.params,delete f.projection,f);k=eb(k)?k:{type:k};
K&&Aa(Sc(a));const {orient:ia,inputType:ta}=eg(c,a),{continuousAxisChannelDef:Ka,continuousAxisChannelDef2:jb,continuousAxisChannelDefError:Qb,continuousAxisChannelDefError2:uc,continuousAxis:ld}=id(c,ia,a);c=[];K=[];var Kc=Ka.field,cd=!1;if("raw"===ta){var qd=k.center?k.center:k.extent?"iqr"===k.extent?"median":"mean":d.errorbar.center;var fe=k.extent?k.extent:"mean"===qd?"stderr":"iqr";"median"===qd!==("iqr"===fe)&&Aa(`${qd} is not usually used with ${fe} for ${a}.`);"stderr"===fe||"stdev"===fe?
(c=[{op:fe,field:Kc,as:`extent_${Kc}`},{op:qd,field:Kc,as:`center_${Kc}`}],K=[{calculate:`datum["center_${Kc}"] + datum["extent_${Kc}"]`,as:`upper_${Kc}`},{calculate:`datum["center_${Kc}"] - datum["extent_${Kc}"]`,as:`lower_${Kc}`}],Kc={fieldPrefix:"center_",titlePrefix:Ma(qd)},cd=fe,cd={fieldPrefix:"upper_",titlePrefix:`${Ma(qd)} ${"+"} ${cd}`},a=fe,a=`${Ma(qd)} ${"-"} ${a}`,qd=[Kc,cd,{fieldPrefix:"lower_",titlePrefix:a}],cd=!0):("ci"===fe?(a="mean",qd="ci0",fe="ci1"):(a="median",qd="q1",fe="q3"),
c=[{op:qd,field:Kc,as:`lower_${Kc}`},{op:fe,field:Kc,as:`upper_${Kc}`},{op:a,field:Kc,as:`center_${Kc}`}],qd=[{fieldPrefix:"upper_",titlePrefix:Ae({field:Kc,aggregate:fe,type:"quantitative"},d,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Ae({field:Kc,aggregate:qd,type:"quantitative"},d,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Ae({field:Kc,aggregate:a,type:"quantitative"},d,{allowDisabling:!1})}])}else{if(k.center||k.extent){a=k.center;var Md=k.extent;Aa(`${Md?"extent ":
""}${Md&&a?"and ":""}${a?"center ":""}${Md&&a?"are ":"is "}not needed when data are aggregated.`)}"aggregated-upper-lower"===ta?(qd=[],K=[{calculate:`datum["${jb.field}"]`,as:`upper_${Kc}`},{calculate:`datum["${Kc}"]`,as:`lower_${Kc}`}]):"aggregated-error"===ta&&(qd=[{fieldPrefix:"",titlePrefix:Kc}],K=[{calculate:`datum["${Kc}"] + datum["${Qb.field}"]`,as:`upper_${Kc}`}],uc?K.push({calculate:`datum["${Kc}"] + datum["${uc.field}"]`,as:`lower_${Kc}`}):K.push({calculate:`datum["${Kc}"] - datum["${Qb.field}"]`,
as:`lower_${Kc}`}));for(fe of K)qd.push({fieldPrefix:fe.as.substring(0,6),titlePrefix:ob(ob(fe.calculate,'datum["',""),'"]',"")})}const {errorBarSpecificAggregate:ue,postAggregateCalculates:Te,tooltipSummary:cf,tooltipTitleWithFieldName:Yf}={postAggregateCalculates:K,errorBarSpecificAggregate:c,tooltipSummary:qd,tooltipTitleWithFieldName:cd};B=Object.assign({},B);c="x"===ld?"x2":"y2";K="x"===ld?"xError":"yError";Kc="x"===ld?"xError2":"yError2";B=(delete B[ld],delete B[c],delete B[K],delete B[Kc],
B);const {bins:Uf,timeUnits:ug,aggregate:Nf,groupby:mh,encoding:Rf}=Bg(B,d);d=[...Nf,...ue];B="raw"!==ta?[]:mh;c=Wg(cf,Ka,Rf,Yf);let Fi;return{transform:[...(null!=(Fi=f.transform)?Fi:[]),...Uf,...ug,...(0===d.length?[]:[{aggregate:d,groupby:B}]),...Te],groupby:B,continuousAxisChannelDef:Ka,continuousAxis:ld,encodingWithoutContinuousAxis:Rf,ticksOrient:"vertical"===ia?"horizontal":"vertical",markDef:k,outerSpec:f,tooltipEncoding:c}}function Wf(c,a){({config:a}=a);c=Object.assign({},c,{encoding:Hf(c.encoding,
a)});const {transform:d,continuousAxisChannelDef:f,continuousAxis:k,encodingWithoutContinuousAxis:B,markDef:K,outerSpec:ia,tooltipEncoding:ta}=Sf(c,"errorband",a);a=bb(K,k,f,B,a.errorband);c=void 0!==c.encoding.x&&void 0!==c.encoding.y;let Ka={type:c?"area":"rect"},jb={type:c?"line":"rule"};const Qb=Object.assign({},K.interpolate?{interpolate:K.interpolate}:{},K.tension&&K.interpolate?{tension:K.tension}:{});c?(Ka=Object.assign({},Ka,Qb,{ariaRoleDescription:"errorband"}),jb=Object.assign({},jb,Qb,
{aria:!1})):K.interpolate?Aa(P("interpolate")):K.tension&&Aa(P("tension"));return Object.assign({},ia,{transform:d,layer:[...a({partName:"band",mark:Ka,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:ta}),...a({partName:"borders",mark:jb,positionPrefix:"lower",extraEncoding:ta}),...a({partName:"borders",mark:jb,positionPrefix:"upper",extraEncoding:ta})]})}function kg(c,a,d){a=new xi(c,a);Yj[c]={normalizer:a,parts:d}}function pg(c){return"legend"===c||!(null==c||!c.legend)}function Lg(c){return pg(c)&&
R.isObject(c)}function fh(c){return!(null==c||!c.select)}function ph(c){const a=[];for(const k of c||[])if(!fh(k)){var d=k,f=Object.assign({},d);c=d.expr;d=d.bind;f=(delete f.expr,delete f.bind,f);d&&c?(c=Object.assign({},f,{bind:d,init:c}),a.push(c)):(c=Object.assign({},f,c?{update:c}:{},d?{bind:d}:{}),a.push(c))}return a}function Ie(c){let {step:a,offsetIsDiscrete:d}=c;if(d){let f;return null!=(f=a.for)?f:"offset"}return"position"}function ye(c){return R.isObject(c)&&void 0!==c.step}function Kf(c){return c.view||
c.width||c.height}function wf(c,a,d){const f={},{spacing:k,columns:B}=d[a];void 0!==k&&(f.spacing=k);void 0!==B&&("facet"in c&&!Jd(c.facet)||"concat"in c)&&(f.columns=B);"vconcat"in c&&(f.columns=1);for(const K of Wl)if(void 0!==c[K])if("spacing"===K){a=c[K];let ia,ta;f[K]=R.isNumber(a)?a:{row:null!=(ia=a.row)?ia:k,column:null!=(ta=a.column)?ta:k}}else f[K]=c[K];return f}function Bf(c,a){let d;return null!=(d=c[a])?d:c["width"===a?"continuousWidth":"continuousHeight"]}function tf(c,a){c=fg(c,a);return ye(c)?
c.step:20}function fg(c,a){let d;const f=null!=(d=c[a])?d:c["width"===a?"discreteWidth":"discreteHeight"];return Ea(f,{step:c.step})}function Eg(){let c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:R.isObject(c)?Object.assign({},pl,c):pl}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},
"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function sg(c){var a=ce(c||{});const d={};for(const f of a)a=
c[f],d[f]=jf(a)?Pa(a):Wb(a);return d}function Df(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=Object.assign({},c),d=c.color,f=c.font,k=c.fontSize;c=c.selection;a=(delete a.color,delete a.font,delete a.fontSize,delete a.selection,a);var B=R.mergeConfig,K=zf(Xl);f=f?{text:{font:f},style:{"guide-label":{font:f},"guide-title":{font:f},"group-title":{font:f},"group-subtitle":{font:f}}}:{};d=d?Eg(d):{};k=k?{signals:[{name:"fontSize",value:R.isObject(k)?Object.assign({},vk,k):vk}],
text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{};k=B.call(R,{},K,f,d,k,a||{});c&&R.writeConfig(k,"selection",c,!0);c=pc(k,ol);for(var ia of["background","lineBreak","padding"])k[ia]&&(c[ia]=Wb(k[ia]));for(var ta of Uk)k[ta]&&(c[ta]=rc(k[ta]));for(var Ka of tk)k[Ka]&&
(c[Ka]=sg(k[Ka]));for(const jb of ml)k[jb]&&(c[jb]=rc(k[jb]));k.legend&&(c.legend=rc(k.legend));k.scale&&(c.scale=rc(k.scale));if(k.style){ia=k.style;ta=ce(ia);Ka={};for(const jb of ta)Ka[jb]=sg(ia[jb]);c.style=Ka}k.title&&(c.title=rc(k.title));k.view&&(c.view=rc(k.view));return c}function Qg(c){c=zf(c);for(var a of Zl)delete c[a];if(c.axis)for(var d in c.axis)jf(c.axis[d])&&delete c.axis[d];if(c.legend)for(var f of Xj)delete c.legend[f];if(c.mark){for(var k of Ni)delete c.mark[k];c.mark.tooltip&&
R.isObject(c.mark.tooltip)&&delete c.mark.tooltip}c.params&&(c.signals=(c.signals||[]).concat(ph(c.params)),delete c.params);for(var B of Yl){for(const Qb of Ni)delete c[B][Qb];if(a=wk[B])for(const Qb of a)delete c[B][Qb];let jb=k=void 0;a=c;d=B;f=void 0;var K=a[d];"view"===d&&(f="cell");K=Object.assign({},K,a.style[null!=(jb=f)?jb:d]);Na(K)||(a.style[null!=(k=f)?k:d]=K);delete a[d]}for(const jb of ce(Yj))delete c[jb];B=c;const {titleMarkConfig:ia,subtitleMarkConfig:ta,subtitle:Ka}=yc(B.title);Na(ia)||
(B.style["group-title"]=Object.assign({},B.style["group-title"],ia));Na(ta)||(B.style["group-subtitle"]=Object.assign({},B.style["group-subtitle"],ta));Na(Ka)?delete B.title:B.title=Ka;for(const jb in c)R.isObject(c[jb])&&Na(c[jb])&&delete c[jb];return Na(c)?void 0:c}function Mg(c){return ma(c)&&"quantitative"===Ja(c)&&!c.bin}function qh(c,a,d){let {orient:f,type:k}=d;d="x"===a?"y":"radius";const B="x"===a;var K=c[a];c=c[d];if(ma(K)&&ma(c))if(Mg(K)&&Mg(c)){if(K.stack)return a;if(c.stack)return d;
K=ma(K)&&!!K.aggregate;c=ma(c)&&!!c.aggregate;if(K!==c)return K?a:d;if(B&&"bar"===k){if("vertical"===f)return d;if("horizontal"===f)return a}}else{if(Mg(K))return a;if(Mg(c))return d}else{if(Mg(K))return a;if(Mg(c))return d}}function xg(c){switch(c){case "x":return"y";case "y":return"x";case "theta":return"radius";case "radius":return"theta"}}function Wh(c,a){var d=eb(c)?c:{type:c};c=d.type;if(!Pe.has(c))return null;d=qh(a,"x",d)||qh(a,"theta",d);if(!d)return null;const f=a[d];var k=ma(f)?Pc(f,{}):
void 0,B=xg(d);const K=[],ia=new Set;if(a[B]){var ta=a[B];(ta=ma(ta)?Pc(ta,{}):void 0)&&ta!==k&&(K.push(B),ia.add(ta));B="x"===B?"xOffset":"yOffset";ta=a[B];(ta=ma(ta)?Pc(ta,{}):void 0)&&ta!==k&&(K.push(B),ia.add(ta))}k=wj.reduce((uc,ld)=>{if("tooltip"!==ld&&Cf(a,ld)){var Kc=a[ld];for(const cd of R.array(Kc)){Kc=xe(cd);if(Kc.aggregate)continue;const qd=Pc(Kc,{});qd&&ia.has(qd)||uc.push({channel:ld,fieldDef:Kc})}}return uc},[]);let Ka;void 0!==f.stack?Ka=R.isBoolean(f.stack)?f.stack?"zero":null:f.stack:
ql.has(c)&&(Ka="zero");if(!(Ka&&Ka in am)||Gf(a)&&0===k.length)return null;let jb,Qb;if((null==f?0:null==(jb=f.scale)?0:jb.type)&&(null==f?void 0:null==(Qb=f.scale)?void 0:Qb.type)!==Kh.LINEAR)return(null==f?0:f.stack)&&Aa(`Cannot stack non-linear scale (${f.scale.type}).`),null;if(Xb(a[E(d)]))return void 0!==f.stack&&Aa(`Cannot stack "${d}" if there is already "${d}2".`),null;ma(f)&&f.aggregate&&!Ul.has(f.aggregate)&&Aa(`Stacking is applied even though the aggregate function is non-summative ("${f.aggregate}").`);
return{groupbyChannels:K,groupbyFields:ia,fieldChannel:d,impute:null===f.impute?!1:Ra(c),stackBy:k,offset:Ka}}function rh(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=2<arguments.length?arguments[2]:void 0;if("transparent"===c.point)return{opacity:0};if(c.point)return R.isObject(c.point)?c.point:{};if(void 0!==c.point)return null;if(a.point||d.shape)return R.isObject(a.point)?a.point:{}}function Hh(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(c.line)return!0===
c.line?{}:c.line;if(void 0!==c.line)return null;if(a.line)return!0===a.line?{}:a.line}function Xg(c,a){return a?th(c,a):c}function sh(c,a,d){const f=a[c];if(f&&!R.isString(f)&&"repeat"in f){if(f.repeat in d)return Object.assign({},a,{[c]:d[f.repeat]});Aa(`Unknown repeated value "${f.repeat}".`)}else return a}function Bh(c,a){c=sh("field",c,a);if(void 0!==c){if(null===c)return null;"sort"in c&&bd(c.sort)&&(a=sh("field",c.sort,a),c=Object.assign({},c,a?{sort:a}:{}));return c}}function ji(c,a){if(ma(c))return Bh(c,
a);a=sh("datum",c,a);a===c||a.type||(a.type="nominal");return a}function dh(c,a){if(Xb(c)){if(a=ji(c,a))return a;if(ea(c))return{condition:c.condition}}else{if(la(c)){if(a=ji(c.condition,a))return Object.assign({},c,{condition:a});c=Object.assign({},c);return delete c.condition,c}return c}}function th(c,a){const d={};for(const k in c)if(R.hasOwnProperty(c,k)){var f=c[k];R.isArray(f)?d[k]=f.map(B=>dh(B,a)).filter(B=>B):(f=dh(f,a),void 0!==f&&(d[k]=f))}return d}function yi(c){let {parentEncoding:a,
encoding:d={},layer:f}=c;c={};if(a){var k=new Set([...ce(a),...ce(d)]);for(const B of k){k=d[B];const K=a[B];if(Xb(k))k=Object.assign({},K,k),c[B]=k;else if(la(k))c[B]=Object.assign({},k,{condition:Object.assign({},K,k.condition)});else if(k||null===k)c[B]=k;else if(f||yd(K)||$b(K)||Xb(K)||R.isArray(K))c[B]=K}}else c=d;return!c||Na(c)?void 0:c}function Fg(c){const {parentProjection:a,projection:d}=c;if(a&&d){const {parentProjection:f,projection:k}={parentProjection:a,projection:d};c=`Layer's shared projection ${Ag(f)} is overridden by a child projection ${Ag(k)}.`;
Aa(c)}return null!=d?d:a}function Mh(c){return c.map(a=>"filter"in a?{filter:Yb(a.filter,L)}:a)}function Xh(c,a){var d=Object.assign({},c);const f=c.transform;d=(delete d.transform,d);return f?(c=f.map(k=>{if("filter"in k)return{filter:kh(k,a)};if("bin"in k&&R.isObject(k.bin))return Object.assign({},k,{bin:gh(k.bin)});if("lookup"in k){var B=k.from,K=Object.assign({},B);B=B.selection;K=(delete K.selection,K);return B?Object.assign({},k,{from:Object.assign({},{param:B},K)}):k}return k}),Object.assign({},
d,{transform:c})):c}function Rg(c,a){c=zf(c);ma(c)&&R.isObject(c.bin)&&(c.bin=gh(c.bin));var d,f;Yc(c)&&(null==(d=c.scale)?0:null==(f=d.domain)?0:f.selection)&&(f=c.scale.domain,d=Object.assign({},f),f=f.selection,d=(delete d.selection,d),c.scale.domain=Object.assign({},d,f?{param:f}:{}));ea(c)&&(R.isArray(c.condition)?c.condition=c.condition.map(k=>{var B=Object.assign({},k);const K=k.param;B=(delete B.selection,delete B.param,delete B.test,B);return K?k:Object.assign({},B,{test:kh(k,a)})}):(f=Rg(c.condition,
a),d=Object.assign({},f),f=f.param,d=(delete d.selection,delete d.param,delete d.test,d),c.condition=f?c.condition:Object.assign({},d,{test:kh(c.condition,a)})));return c}function gh(c){var a=c.extent;if(null==a?0:a.selection){var d=Object.assign({},a);a=a.selection;d=(delete d.selection,d);return Object.assign({},c,{extent:Object.assign({},d,{param:a})})}return c}function kh(c,a){const d=f=>Yb(f,k=>{var B;const K=null!=(B=a.emptySelections[k])?B:!0;B={param:k,empty:K};let ia;null!=(ia=a.selectionPredicates)[k]||
(ia[k]=[]);a.selectionPredicates[k].push(B);return B});return c.selection?d(c.selection):Yb(c.test||c.filter,f=>f.selection?d(f.selection):f)}function Ch(c,a){void 0===a&&(a=Df(c.config));const d=Gg(c,a),{width:f,height:k}=c;{let {width:B,height:K}={width:f,height:k,autosize:c.autosize};c=Qe(d)||"layer"in d;const ia={};c?"container"==B&&"container"==K?(ia.type="fit",ia.contains="padding"):"container"==B?(ia.type="fit-x",ia.contains="padding"):"container"==K&&(ia.type="fit-y",ia.contains="padding"):
("container"==B&&(Aa(lb("width")),B=void 0),"container"==K&&(Aa(lb("height")),K=void 0));a=Object.assign({},{type:"pad"},ia,a?Nh(a.autosize):{},Nh(d.autosize));"fit"!==a.type||c||(Aa('Autosize "fit" only works for single views and layered views.'),a.type="pad");"container"==B&&"fit"!=a.type&&"fit-x"!=a.type&&Aa(Gb("width"));"container"==K&&"fit"!=a.type&&"fit-y"!=a.type&&Aa(Gb("height"));a=Bi(a,{type:"pad"})?void 0:a}return Object.assign({},d,a?{autosize:a}:{})}function Gg(c){const a={config:1<arguments.length&&
void 0!==arguments[1]?arguments[1]:{}};return Ah.map(li.map($f.map(c,a),a),a)}function Nh(c){return R.isString(c)?{type:c}:null!=c?c:{}}function Dh(c,a){const d={};for(const f of lh)c&&void 0!==c[f]&&(d[f]=Wb(c[f]));a&&(d.params=c.params);return d}function Hg(c){return{explicit:!0,value:c}}function Ng(c){return{explicit:!1,value:c}}function Yh(c){return(a,d,f,k)=>{const B=c(a.value,d.value);return 0<B?a:0>B?d:eh(a,d,f,k)}}function eh(c,a,d,f){if(c.explicit&&a.explicit){var k=c.value;a=a.value;d=`Conflicting ${f.toString()} property "${d.toString()}" (${Ag(k)} and ${Ag(a)}). Using ${Ag(k)}.`;
Aa(d)}return c}function Zg(c,a,d,f){let k=4<arguments.length&&void 0!==arguments[4]?arguments[4]:eh;return void 0===c||void 0===c.value?a:c.explicit&&!a.explicit?c:a.explicit&&!c.explicit?a:Bi(c.value,a.value)?c:k(c,a,d,f)}function Xf(c){return"name"in c&&!("url"in c)&&!("values"in c)&&!Sg(c)}function Sg(c){return c&&("sequence"in c||"sphere"in c||"graticule"in c)}function $g(c){c=Object.assign({},c);c=(delete c.signals,delete c.hasLegend,delete c.index,c);c.field=Vb(c.field);return c}function qf(c){let a=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:R.identity;if(R.isArray(c)){const f=c.map(k=>qf(k,a,d));return a?`[${f.join(", ")}]`:f}return Jb(c)?a?d(Hc(c)):d(jd(c)):a?d(Ag(c)):c}function ei(c,a){c.component.selection&&ce(c.component.selection).length&&(c=R.stringValue(c.getName("cell")),a.unshift({name:"facet",value:{},on:[{events:R.parseSelector("mousemove","scope"),update:`isTuple(facet) ? facet : group(${c}).datum`}]}));return Ta(a)}
function Og(c,a){var d=!1,f;for(const k of ih(null!=(f=c.component.selection)?f:{})){const B=k.name;d=R.stringValue(B+"_store");0===a.filter(K=>K.name===B).length&&(f="point"===k.type?", true, true)":")",a.push({name:k.name,update:`${"vlSelectionResolve"}(${d}, ${R.stringValue("global"===k.resolve?"union":k.resolve)}${f}`}));d=!0;for(const K of pi)K.defined(k)&&K.topLevelSignals&&(a=K.topLevelSignals(c,k,a))}d&&0===a.filter(k=>"unit"===k.name).length&&a.unshift({name:"unit",value:{},on:[{events:"mousemove",
update:"isTuple(group()) ? group() : unit"}]});return Ta(a)}function bg(c,a){a=[...a];const d=If(c,{escape:!1});let f;for(const k of ih(null!=(f=c.component.selection)?f:{})){c={name:k.name+"_store"};k.project.hasSelectionId&&(c.transform=[{type:"collect",sort:{field:"_vgsid_"}}]);if(k.init){const B=k.project.items.map($g);c.values=k.project.hasSelectionId?k.init.map(K=>({unit:d,_vgsid_:qf(K,!1)[0]})):k.init.map(K=>({unit:d,fields:B,values:qf(K,!1)}))}a.filter(B=>B.name===k.name+"_store").length||
a.push(c)}return a}function U(c,a){let d;for(const f of ih(null!=(d=c.component.selection)?d:{}))for(const k of pi)k.defined(f)&&k.marks&&(a=k.marks(c,f,a));return a}function ya(c,a){for(const d of c.children)qg(d)&&(a=U(d,a));return a}function Ta(c){return c.map(a=>{a.on&&!a.on.length&&delete a.on;return a})}function w(c,a){return`domain(${R.stringValue(c.scaleName(a))})`}function T(c){let a;return c.parent&&Hi(c.parent)&&(null!=(a=!c.parent.parent)?a:T(c.parent.parent))}function ka(c,a,d,f){var k=
!c.hasProjection,B=d.channel;const K=d.signals.visual,ia=R.stringValue(k?c.scaleName(B):c.projectionName());var ta=uc=>`scale(${ia}, ${uc})`;const Ka=c.getSizeSignalRef("x"===B?"width":"height").signal,jb=`${B}(unit)`,Qb=a.events.reduce((uc,ld)=>[...uc,{events:ld.between[0],update:`[${jb}, ${jb}]`},{events:ld,update:`[${K}[0], clamp(${jb}, 0, ${Ka})]`}],[]);if(k)return d=d.signals.data,k=ri.defined(a),c=(c=c.getScaleComponent(B))?c.get("type"):void 0,B=f?{init:qf(f,!0,ta)}:{value:[]},Qb.push({events:{signal:a.name+
"_scale_trigger"},update:Bc(c)?`[${ta(`${d}[0]`)}, ${ta(`${d}[1]`)}]`:"[0, 0]"}),k?[{name:d,on:[]}]:[Object.assign({},{name:K},B,{on:Qb}),Object.assign({},{name:d},f?{init:qf(f)}:{},{on:[{events:{signal:K},update:`${K}[0] === ${K}[1] ? null : invert(${ia}, ${K})`}]})];ta="x"===B?0:1;a=a.name+"_init";return[Object.assign({},{name:K},f?{init:`[${a}[0][${ta}], ${a}[1][${ta}]]`}:{value:[]},{on:Qb})]}function xa(c,a,d,f){var k=ea(a)&&a.condition;a=f(a);return k?(k=R.array(k).map(B=>{const K=f(B);if(B.param){const {param:ia,
empty:ta}=B;B=jh(c,{param:ia,empty:ta});return Object.assign({},{test:B},K)}B=Sh(c,B.test);return Object.assign({},{test:B},K)}),{[d]:[...k,...(void 0!==a?[a]:[])]}):void 0!==a?{[d]:a}:{}}function y(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text";return xa(c,c.encoding[a],a,d=>G(d,c.config))}function G(c,a){let d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"datum";if(c){if(yd(c))return Tb(c.value);if(Xb(c)){const {format:f,formatType:k}=Id(c);return Cd({fieldOrDatumDef:c,
format:f,formatType:k,expr:d,config:a})}}}function ja(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const {encoding:d,markDef:f,config:k,stack:B}=c,K=d.tooltip;if(R.isArray(K))return{tooltip:D({tooltip:K},B,k,a)};const ia=a.reactiveGeom?"datum.datum":"datum";return xa(c,K,"tooltip",ta=>{const Ka=G(ta,k,ia);if(Ka)return Ka;if(null!==ta){ta=Ac("tooltip",f,k);!0===ta&&(ta={content:"encoding"});if(R.isString(ta))return{value:ta};if(R.isObject(ta))return $b(ta)?ta:"encoding"===ta.content?
D(d,B,k,a):{signal:ia}}})}function n(c,a,d){function f(Ka,jb){var Qb=z(jb);Ka=Dc(Ka)?Ka:Object.assign({},Ka,{type:c[Qb].type});Qb=Ka.title||Qi(Ka,B);Qb=R.array(Qb).join(", ");if(F(jb)){const Kc="x"===jb?"x2":"y2";var uc=xe(c[Kc]);if(Ca(Ka.bin)&&uc){var ld=Pc(Ka,{expr:ia});uc=Pc(uc,{expr:ia});const {format:cd,formatType:qd}=Id(Ka);ld=Fc(ld,uc,cd,qd,B);K[Kc]=!0}}if((F(jb)||"theta"===jb||"radius"===jb)&&a&&a.fieldChannel===jb&&"normalize"===a.offset){const {format:Kc,formatType:cd}=Id(Ka);ld=Cd({fieldOrDatumDef:Ka,
format:Kc,formatType:cd,expr:ia,config:B,normalizeStack:!0}).signal}null!=ld||(ld=G(Ka,B,ia).signal);ta.push({channel:jb,key:Qb,value:ld})}var {reactiveGeom:k}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const B=Object.assign({},d,d.tooltipFormat),K={},ia=k?"datum.datum":"datum",ta=[];Ug(c,(Ka,jb)=>{ma(Ka)?f(Ka,jb):J(Ka)&&f(Ka.condition,jb)});k={};for(const Ka of ta){const {channel:jb,key:Qb,value:uc}=Ka;K[jb]||k[Qb]||(k[Qb]=uc)}return k}function D(c,a,d){var {reactiveGeom:f}=3<arguments.length&&
void 0!==arguments[3]?arguments[3]:{};f=n(c,a,d,{reactiveGeom:f});f=Zi(f).map(k=>{let [B,K]=k;return`"${B}": ${K}`});return 0<f.length?{signal:`{${f.join(", ")}}`}:void 0}function da(c){const {encoding:a,markDef:d,config:f,stack:k}=c;var B=a.description;if(B)return xa(c,B,"description",K=>G(K,c.config));B=Ac("description",d,f);if(null!=B)return{description:Tb(B)};if(!1===f.aria)return{};B=n(a,k,f);if(!Na(B))return{description:{signal:Zi(B).map((K,ia)=>{let [ta,Ka]=K;return`"${0<ia?"; ":""}${ta}: " + (${Ka})`}).join(" + ")}}}
function oa(c,a){let d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const {markDef:f,encoding:k,config:B}=a,{vgChannel:K}=d;let {defaultRef:ia,defaultValue:ta}=d;void 0===ia&&(null!=ta||(ta=Ac(c,f,B,{vgChannel:K,ignoreVgConfig:!0})),void 0!==ta&&(ia=Tb(ta)));return xa(a,k[c],null!=K?K:c,Ka=>td({channel:c,channelDef:Ka,markDef:f,config:B,scaleName:a.scaleName(c),scale:a.getScaleComponent(c),stack:null,defaultRef:ia}))}function Va(c){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
{filled:void 0};const {markDef:d,encoding:f,config:k}=c;var {type:B}=d,K;a=null!=(K=a.filled)?K:Ac("filled",d,k);K=Sb(["bar","point","circle","square","geoshape"],B)?"transparent":void 0;var ia,ta;B=null!=(ta=null!=(ia=Ac(!0===a?"color":void 0,d,k,{vgChannel:"fill"}))?ia:k.mark[!0===a&&"color"])?ta:K;var Ka;ia=null!=(Ka=Ac(!1===a?"color":void 0,d,k,{vgChannel:"stroke"}))?Ka:k.mark[!1===a&&"color"];Ka=a?"fill":"stroke";ta=Object.assign({},B?{fill:Tb(B)}:{},ia?{stroke:Tb(ia)}:{});d.color&&(a?d.fill:
d.stroke)&&Aa(Td("property",{fill:"fill"in d,stroke:"stroke"in d}));return Object.assign({},ta,oa("color",c,{vgChannel:Ka,defaultValue:a?B:ia}),oa("fill",c,{defaultValue:f.fill?B:void 0}),oa("stroke",c,{defaultValue:f.stroke?ia:void 0}))}function Za(c){const {encoding:a,mark:d}=c,f=a.order;return!Ra(d)&&yd(f)?xa(c,f,"zindex",k=>Tb(k.value)):{}}function Ib(c){let {channel:a,markDef:d,encoding:f={},model:k,bandPosition:B}=c;c=`${a}Offset`;const K=d[c],ia=f[c];return"xOffset"!==c&&"yOffset"!==c||!ia?
(c=d[c])?{offsetType:"visual",offset:c}:{}:{offsetType:"encoding",offset:td({channel:c,channelDef:ia,markDef:d,config:null==k?void 0:k.config,scaleName:k.scaleName(c),scale:k.getScaleComponent(c),stack:null,defaultRef:Tb(K),bandPosition:B})}}function bc(c,a,d){let {defaultPos:f,vgChannel:k}=d;const {encoding:B,markDef:K,config:ia,stack:ta}=a;d=B[c];const Ka=B[E(c)],jb=a.scaleName(c),Qb=a.getScaleComponent(c),{offset:uc,offsetType:ld}=Ib({channel:c,markDef:K,encoding:B,model:a,bandPosition:.5}),Kc=
Ub({model:a,defaultPos:f,channel:c,scaleName:jb,scale:Qb});if(!d&&F(c)&&(B.latitude||B.longitude))a={field:a.getName(c)};else a:{a={channel:c,channelDef:d,channel2Def:Ka,markDef:K,config:ia,scaleName:jb,scale:Qb,stack:ta,offset:uc,defaultRef:Kc,bandPosition:"encoding"===ld?0:void 0};const {channel:cd,channelDef:qd,scaleName:fe,stack:Md,offset:ue,markDef:Te}=a;if(Xb(qd)&&Md&&cd===Md.fieldChannel){if(ma(qd)&&(a=qd.bandPosition,void 0!==a||"text"!==Te.type||"radius"!==cd&&"theta"!==cd||(a=.5),void 0!==
a)){a=Qc({scaleName:fe,fieldOrDatumDef:qd,startSuffix:"start",bandPosition:a,offset:ue});break a}a=Uc(qd,fe,{suffix:"end"},{offset:ue})}else a=wd(a)}return a?{[k||c]:a}:void 0}function Ub(c){let {model:a,defaultPos:d,channel:f,scaleName:k,scale:B}=c;const {markDef:K,config:ia}=a;return()=>{var ta=z(f),Ka=m(f);Ka=Ac(f,K,ia,{vgChannel:Ka});if(void 0!==Ka)return kd(f,Ka);switch(d){case "zeroOrMin":case "zeroOrMax":if(k&&(Ka=B.get("type"),!Sb([Kh.LOG,Kh.TIME,Kh.UTC],Ka)&&B.domainDefinitelyIncludesZero()))return{scale:k,
value:0};if("zeroOrMin"===d)return"y"===ta?{field:{group:"height"}}:{value:0};switch(ta){case "radius":return{signal:`min(${a.width.signal},${a.height.signal})/2`};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return ta=a[h(f)],Object.assign({},ta,{mult:.5})}}}function Bd(c,a,d){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"middle";if("radius"===c||"theta"===c)return m(c);var k="x"===c?"align":"baseline";const B=
Ac(k,a,d);$b(B)?(Aa(`The ${k} for range marks cannot be an expression`),k=void 0):k=B;return"x"===c?ck[k||("top"===f?"left":"center")]:Zh[k||f]}function Xc(c,a,d){let {defaultPos:f,defaultPos2:k,range:B}=d;return B?Rd(c,a,{defaultPos:f,defaultPos2:k}):bc(c,a,{defaultPos:f})}function Rd(c,a,d){let {defaultPos:f,defaultPos2:k}=d;const {markDef:B,config:K}=a;var ia=E(c);d=h(c);{const {encoding:uc,mark:ld,markDef:Kc,stack:cd,config:qd}=a;var ta=z(ia),Ka=h(ia);const fe=m(ia);var jb=uc[ta],Qb=a.scaleName(ta);
const Md=a.getScaleComponent(ta);({offset:ta}=ia in uc||ia in Kc?Ib({channel:ia,markDef:Kc,encoding:uc,model:a}):Ib({channel:ta,markDef:Kc,encoding:uc,model:a}));if(jb||"x2"!==ia&&"y2"!==ia||!uc.latitude&&!uc.longitude){let {channel:ue,channelDef:Te,channel2Def:cf,markDef:Yf,config:Uf,scaleName:ug,scale:Nf,stack:mh,offset:Rf,defaultRef:Fi}={channel:ia,channelDef:jb,channel2Def:uc[ia],markDef:Kc,config:qd,scaleName:Qb,scale:Md,stack:cd,offset:ta,defaultRef:void 0};jb=Xb(Te)&&mh&&ue.charAt(0)===mh.fieldChannel.charAt(0)?
Uc(Te,ug,{suffix:"start"},{offset:Rf}):wd({channel:ue,channelDef:cf,scaleName:ug,scale:Nf,stack:mh,markDef:Yf,config:Uf,offset:Rf,defaultRef:Fi});ia=void 0!==jb?{[fe]:jb}:se(ia,Kc)||se(ia,{[ia]:Nd(ia,Kc,qd.style),[Ka]:Nd(Ka,Kc,qd.style)})||se(ia,qd[ld])||se(ia,qd.mark)||{[fe]:Ub({model:a,defaultPos:k,channel:ia,scaleName:Qb,scale:Md})()}}else Ka=h(ia),Qb=a.markDef[Ka],ia=null!=Qb?{[Ka]:{value:Qb}}:{[fe]:{field:a.getName(ia)}}}d=ia[d]?Bd(c,B,K):m(c);return Object.assign({},bc(c,a,{defaultPos:f,vgChannel:d}),
ia)}function se(c,a){const d=h(c),f=m(c);if(void 0!==a[f])return{[f]:kd(c,a[f])};if(void 0!==a[c])return{[f]:kd(c,a[c])};if(a[d])if(a=a[d],qc(a))Aa(`Position range does not support relative band size for ${d}.`);else return{[d]:kd(c,a)}}function Ce(c,a){const {config:d,encoding:f,markDef:k}=c;var B=k.type,K=E(a),ia=h(a),ta=f[a];K=f[K];var Ka=c.getScaleComponent(a);Ka=Ka?Ka.get("type"):void 0;const jb=k.orient;let Qb,uc;const ld=null!=(uc=null!=(Qb=f[ia])?Qb:f.size)?uc:Ac("size",k,d,{vgChannel:ia});
ia=p(a);B="bar"===B&&("x"===a?"vertical"===jb:"horizontal"===jb);if(!ma(ta)||!(Z(ta.bin)||Ca(ta.bin)||ta.timeUnit&&!K)||ld&&!qc(ld)||f[ia]||Jc(Ka)){if((Xb(ta)&&Jc(Ka)||B)&&!K){var Kc;{const {markDef:ue,encoding:Te,config:cf,stack:Yf}=c;B=ue.orient;var cd=c.scaleName(a),qd=c.getScaleComponent(a),fe=h(a),Md=E(a);K=p(a);K=c.scaleName(K);ia=c.getScaleComponent(r(a));B="horizontal"===B&&"y"===a||"vertical"===B&&"x"===a;if(Te.size||ue.size)B?Kc=oa("size",c,{vgChannel:fe,defaultRef:Tb(ue.size)}):Aa(`Cannot apply size to non-oriented mark "${ue.type}".`);
Ka=!!Kc;B=ke({channel:a,fieldDef:ta,markDef:ue,config:cf,scaleType:null==qd?void 0:qd.get("type"),useVlSizeChannel:B});Kc=Kc||{[fe]:te(fe,K||cd,ia||qd,cf,B,!!ta,ue.type)};K="band"===(null==qd?void 0:qd.get("type"))&&qc(B)&&!Ka?"top":"middle";K=Bd(a,ue,cf,K);ia="xc"===K||"yc"===K;const {offset:Uf,offsetType:ug}=Ib({channel:a,markDef:ue,encoding:Te,model:c,bandPosition:ia?.5:0});c=wd({channel:a,channelDef:ta,markDef:ue,config:cf,scaleName:cd,scale:qd,stack:Yf,offset:Uf,defaultRef:Ub({model:c,defaultPos:"mid",
channel:a,scaleName:cd,scale:qd}),bandPosition:ia?"encoding"===ug?0:.5:$b(B)?{signal:`(1-${B})/2`}:qc(B)?(1-B.band)/2:0});fe?Kc=Object.assign({},{[K]:c},Kc):(a=m(Md),Kc=Kc[fe],Kc=Uf?Object.assign({},Kc,{offset:Uf}):Kc,Kc={[K]:c,[a]:R.isArray(c)?[c[0],Object.assign({},c[1],{offset:Kc})]:Object.assign({},c,{offset:Kc})})}return Kc}return Rd(a,c,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}a:{let {fieldDef:ue,fieldDef2:Te,channel:cf,model:Yf}={fieldDef:ta,fieldDef2:K,channel:a,model:c};const {config:Uf,
markDef:ug,encoding:Nf}=Yf;c=Yf.getScaleComponent(cf);Kc=Yf.scaleName(cf);a=c?c.get("type"):void 0;c=c.get("reverse");ta=ke({channel:cf,fieldDef:ue,markDef:ug,config:Uf,scaleType:a});a=null!=(qd=null==(cd=null==(Md=Yf.component.axes[cf])?void 0:Md[0])?void 0:cd.get("translate"))?qd:.5;Md=F(cf)?null!=(fe=Ac("binSpacing",ug,Uf))?fe:0:0;fe=E(cf);cd=m(cf);qd=m(fe);({offset:B}=Ib({channel:cf,markDef:ug,encoding:Nf,model:Yf,bandPosition:0}));ta=$b(ta)?{signal:`(1-${ta.signal})/2`}:qc(ta)?(1-ta.band)/2:
.5;if(Z(ue.bin)||ue.timeUnit)Kc={[qd]:xf({fieldDef:ue,scaleName:Kc,bandPosition:ta,offset:Se(fe,Md,c,a,B)}),[cd]:xf({fieldDef:ue,scaleName:Kc,bandPosition:$b(ta)?{signal:`1-${ta.signal}`}:1-ta,offset:Se(cf,Md,c,a,B)})};else{if(Ca(ue.bin)){ta=Uc(ue,Kc,{},{offset:Se(fe,Md,c,a,B)});if(ma(Te)){Kc={[qd]:ta,[cd]:Uc(Te,Kc,{},{offset:Se(cf,Md,c,a,B)})};break a}if(R.isObject(ue.bin)&&ue.bin.step){Kc={[qd]:ta,[cd]:{signal:`scale("${Kc}", ${Pc(ue,{expr:"datum"})} + ${ue.bin.step})`,offset:Se(cf,Md,c,a,B)}};
break a}}Aa(na(fe));Kc=void 0}}return Kc}function te(c,a,d,f,k,B,K){if(qc(k))if(d){const ia=d.get("type");if("band"===ia)return c=`bandwidth('${a}')`,1!==k.band&&(c=`${k.band} * ${c}`),{signal:`max(0.25, ${c})`};1!==k.band&&Aa(`Cannot use the relative band size with ${ia} scale.`)}else return{mult:k.band,field:{group:c}};else{if($b(k))return k;if(k)return{value:k}}if(d&&(k=d.get("range"),Rc(k)&&R.isNumber(k.step)))return{value:k.step-2};if(!B){const {bandPaddingInner:ia,barBandPaddingInner:ta,rectBandPaddingInner:Ka}=
f.scale;k=Ea(ia,"bar"===K?ta:Ka);if($b(k))return{signal:`(1 - (${k.signal})) * ${c}`};if(R.isNumber(k))return{signal:`${1-k} * ${c}`};if(xc(k))return{signal:`(1 - (${k.expr})) * ${c}`}}return{value:tf(f.view,c)-2}}function Se(c,a,d,f,k){if(c in kk)return 0;c="x"===c||"y2"===c?-a/2:a/2;if($b(d)||$b(k)||$b(f))return d=dc(d),k=dc(k),f=dc(f),{signal:(f?`${f} + `:"")+(d?`(${d} ? -1 : 1) * `:"")+(k?`(${k} + ${c})`:c)};k=k||0;return f+(d?-k-c:+k+c)}function xf(c){let {fieldDef:a,scaleName:d,bandPosition:f,
offset:k}=c;return Qc({scaleName:d,fieldOrDatumDef:a,bandPosition:f,offset:k})}function Tf(c,a){const {fill:d,stroke:f}="include"===a.color?Va(c):{};var k=Object,B=k.assign;a=bf(c.markDef,a);var K=ff(c,"fill",d),ia=ff(c,"stroke",f),ta=oa("opacity",c),Ka=oa("fillOpacity",c),jb=oa("strokeOpacity",c),Qb=oa("strokeWidth",c),uc=oa("strokeDash",c),ld=Za(c),Kc=ja(c),cd=y(c,"href");{const {markDef:ue,config:Te}=c,cf=Ac("aria",ue,Te);if(!1===cf)c={};else{var qd=Object,fe=qd.assign;{const {mark:Yf,markDef:Uf,
config:ug}=c;if(!1===ug.aria)var Md={};else Md=Ac("ariaRoleDescription",Uf,ug),Md=null!=Md?{ariaRoleDescription:{value:Md}}:Yf in al?{}:{ariaRoleDescription:{value:Yf}}}c=fe.call(qd,{},cf?{aria:cf}:{},Md,da(c))}}return B.call(k,{},a,K,ia,ta,Ka,jb,Qb,uc,ld,Kc,cd,c)}function ff(c,a,d){const {config:f,mark:k,markDef:B}=c;return"hide"===Ac("invalid",B,f)&&d&&!Ra(k)&&(c=cg(c,{invalid:!0,channels:Ej}))?{[a]:[{test:c,value:null},...R.array(d)]}:d?{[a]:d}:{}}function bf(c,a){return Xk.reduce((d,f)=>{Zk.has(f)||
void 0===c[f]||"ignore"===a[f]||(d[f]=Tb(c[f]));return d},{})}function cg(c,a){let {invalid:d=!1,channels:f}=a;a=f.reduce((k,B)=>{var K=c.getScaleComponent(B);K&&(K=K.get("type"),(B=c.vgField(B,{expr:"datum"}))&&Bc(K)&&(k[B]=!0));return k},{});a=ce(a);if(0<a.length){const k=d?"||":"\x26\x26";return a.map(B=>Mc(B,d)).join(` ${k} `)}}function vh(c){const {config:a,markDef:d}=c;return Ac("invalid",d,a)&&(c=lg(c,{channels:oi}))?{defined:{signal:c}}:{}}function lg(c,a){let {invalid:d=!1,channels:f}=a;
a=f.reduce((k,B)=>{var K=c.getScaleComponent(B);if(K){K=K.get("type");let ia;(B=c.vgField(B,{expr:"datum",binSuffix:(null==(ia=c.stack)?0:ia.impute)?"mid":void 0}))&&Bc(K)&&(k[B]=!0)}return k},{});a=ce(a);if(0<a.length){const k=d?"||":"\x26\x26";return a.map(B=>Mc(B,d)).join(` ${k} `)}}function Mf(c,a){if(void 0!==a)return{[c]:Tb(a)}}function mf(c,a,d,f,k){var B=a.name,K=B+"_translate_anchor";B+="_translate_delta";var ia=d.channel;const ta=ri.defined(a);a=k.filter(ld=>ld.name===d.signals[ta?"data":
"visual"])[0];f=c.getSizeSignalRef(f).signal;k=(c=c.getScaleComponent(ia))&&c.get("type");var Ka=c&&c.get("reverse");K=`${K}.extent_${ia}`;ia=`${ta?"x"===ia?Ka?"":"-":Ka?"-":"":""}${B}.${ia} / ${ta?`${f}`:`span(${K})`}`;Ka=ta&&c?"log"===k?"panLog":"symlog"===k?"panSymlog":"pow"===k?"panPow":"panLinear":"panLinear";var jb;let Qb;const uc=ta?"pow"===k?`, ${null!=(jb=c.get("exponent"))?jb:1}`:"symlog"===k?`, ${null!=(Qb=c.get("constant"))?Qb:1}`:"":"";jb=`${Ka}(${K}, ${ia}${uc})`;a.on.push({events:{signal:B},
update:ta?jb:`clampRange(${jb}, 0, ${f})`})}function Qf(c,a,d,f,k){var B=a.name,K=d.channel;const ia=ri.defined(a);a=k.filter(ld=>ld.name===d.signals[ia?"data":"visual"])[0];f=c.getSizeSignalRef(f).signal;const ta=(k=c.getScaleComponent(K))&&k.get("type"),Ka=ia?w(c,K):a.name;c=B+"_zoom_delta";B=`${B}${"_zoom_anchor"}.${K}`;K=ia&&k?"log"===ta?"zoomLog":"symlog"===ta?"zoomSymlog":"pow"===ta?"zoomPow":"zoomLinear":"zoomLinear";var jb;let Qb;const uc=ia?"pow"===ta?`, ${null!=(jb=k.get("exponent"))?jb:
1}`:"symlog"===ta?`, ${null!=(Qb=k.get("constant"))?Qb:1}`:"":"";jb=`${K}(${Ka}, ${B}, ${c}${uc})`;a.on.push({events:{signal:c},update:ia?jb:`clampRange(${jb}, 0, ${f})`})}function If(c){var {escape:a}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{escape:!0};a=a?R.stringValue(c.name):c.name;var d;for(d=c.parent;d&&!ni(d);)d=d.parent;if(d){const {facet:f}=d;for(const k of Jh)f[k]&&(a+=` + '__facet_${k}_' + (facet[${R.stringValue(d.vgField(k))}])`)}return a}function Lf(c){let a;return ih(null!=
(a=c.component.selection)?a:{}).reduce((d,f)=>d||f.project.hasSelectionId,!1)}function ah(c,a){!R.isString(a.select)&&a.select.on||delete c.events;!R.isString(a.select)&&a.select.clear||delete c.clear;!R.isString(a.select)&&a.select.toggle||delete c.toggle}function hg(c){const a=[];if("Identifier"===c.type)return[c.name];if("Literal"===c.type)return[c.value];"MemberExpression"===c.type&&(a.push(...hg(c.object)),a.push(...hg(c.property)));return a}function Fh(c){return"MemberExpression"===c.object.type?
Fh(c.object):"datum"===c.object.name}function og(c){c=R.parseExpression(c);const a=new Set;c.visit(d=>{"MemberExpression"===d.type&&Fh(d)&&a.add(hg(d).slice(1).join("."))});return a}function jh(c,a,d){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"datum",k=R.isString(a)?a:a.param,B=Ia(k),K=R.stringValue(B+"_store");try{var ia=c.getSelectionComponent(B,k)}catch(ta){return`!!${B}`}ia.project.timeUnit&&(k=null!=d?d:c.component.data.raw,B=ia.project.timeUnit.clone(),k.parent?B.insertAsParentOf(k):
k.parent=B);k=ia.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(";ia="global"===ia.resolve?")":`, ${R.stringValue(ia.resolve)})`;f=`${k}${K}, ${f}${ia}`;K=`length(data(${K}))`;return!1===a.empty?`${K} && ${f}`:`!${K} || ${f}`}function yg(c,a,d){const f=Ia(a),k=d.encoding;let B=d.field,K;try{K=c.getSelectionComponent(f,a)}catch(ia){return f}k||B?k&&!B&&(c=K.project.items.filter(ia=>ia.channel===k),!c.length||1<c.length?(B=K.project.items[0].field,Aa((c.length?"Multiple ":"No ")+`matching ${R.stringValue(k)} encoding found for selection ${R.stringValue(d.param)}. `+
`Using "field": ${R.stringValue(B)}.`)):B=c[0].field):(B=K.project.items[0].field,1<K.project.items.length&&Aa('A "field" or "encoding" must be specified when using a selection as a scale domain. '+`Using "field": ${R.stringValue(B)}.`));return`${K.name}[${R.stringValue(Vb(B))}]`}function Sh(c,a,d){return kb(a,f=>R.isString(f)?f:(null==f?0:f.param)?jh(c,f,d):Ec(f))}function Pi(c,a){if(c)return R.isArray(c)&&!dd(c)?c.map(d=>Qi(d,a)).join(", "):c}function ci(c,a,d,f){null!=c.encode||(c.encode={});let k;
null!=(k=c.encode)[a]||(k[a]={});let B;null!=(B=c.encode[a]).update||(B.update={});c.encode[a].update[d]=f}function ki(c,a,d){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{header:!1},k=c.combine(),B=Object.assign({},k),K=k.disable;const ia=k.orient,ta=k.scale;var Ka=k.labelExpr;const jb=k.title;k=k.zindex;B=(delete B.disable,delete B.orient,delete B.scale,delete B.labelExpr,delete B.title,delete B.zindex,B);if(!K){for(const uc in B){var Qb=Yg[uc];K=B[uc];if(Qb&&Qb!==a&&"both"!==Qb)delete B[uc];
else if(jf(K)){Qb=K;K=Object.assign({},Qb);Qb=Qb.condition;K=(delete K.condition,K);Qb=R.array(Qb);const ld=Cj[uc];if(ld){const {vgProp:Kc,part:cd}=ld;K=[...Qb.map(qd=>{var fe=Object.assign({},qd);qd=qd.test;fe=(delete fe.test,fe);return Object.assign({},{test:Sh(null,qd)},fe)}),K];ci(B,cd,Kc,K);delete B[uc]}else null===ld&&(K={signal:Qb.map(Kc=>{var cd=Object.assign({},Kc);Kc=Kc.test;cd=(delete cd.test,cd);return`${Sh(null,Kc)} ? ${ic(cd)} : `}).join("")+ic(K)},B[uc]=K)}else if($b(K)&&(Qb=Cj[uc])){const {vgProp:ld,
part:Kc}=Qb;ci(B,Kc,ld,K);delete B[uc]}Sb(["labelAlign","labelBaseline"],uc)&&null===B[uc]&&delete B[uc]}if("grid"===a){if(B.grid)return B.encode&&({grid:Ka}=B.encode,B.encode=Object.assign({},Ka?{grid:Ka}:{}),Na(B.encode)&&delete B.encode),Object.assign({},{scale:ta,orient:ia},B,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Ea(k,0)})}else if(f.header||!c.mainExtracted){if(void 0!==Ka){f=Ka;let uc,ld;(null==(uc=B.encode)?0:null==(ld=uc.labels)?0:ld.update)&&$b(B.encode.labels.update.text)&&
(f=ob(Ka,"datum.label",B.encode.labels.update.text.signal));ci(B,"labels","text",{signal:f})}null===B.labelAlign&&delete B.labelAlign;if(B.encode){for(const uc of Bj)c.hasAxisPart(uc)||delete B.encode[uc];Na(B.encode)&&delete B.encode}Ka=Pi(jb,d);return Object.assign({},{scale:ta,orient:ia,grid:!1},Ka?{title:Ka}:{},B,!1===d.aria?{aria:!1}:{},{zindex:Ea(k,0)})}}}function Oi(c){const {axes:a}=c.component,d=[];for(const f of oi)if(a[f])for(const k of a[f])if(!k.get("disable")&&!k.get("gridScale")){const B=
"x"===f?"height":"width",K=c.getSizeSignalRef(B).signal;B!==K&&d.push({name:B,update:K})}return d}function Cg(c,a){const {x:d=[],y:f=[]}=c;return[...d.map(k=>ki(k,"grid",a)),...f.map(k=>ki(k,"grid",a)),...d.map(k=>ki(k,"main",a)),...f.map(k=>ki(k,"main",a))].filter(k=>k)}function kj(c,a,d,f){return Object.assign.apply(null,[{},...c.map(k=>{if("axisOrient"===k){k="x"===d?"bottom":"left";const B=a["x"===d?"axisBottom":"axisLeft"]||{},K=a["x"===d?"axisTop":"axisRight"]||{},ia=new Set([...ce(B),...ce(K)]),
ta={};for(const Ka of ia.values())ta[Ka]={signal:`${f.signal} === "${k}" ? ${dc(B[Ka])} : ${dc(K[Ka])}`};return ta}return a[k]})])}function lj(c,a,d,f){var k="band"===a?["axisDiscrete","axisBand"]:"point"===a?["axisDiscrete","axisPoint"]:wh.has(a)?["axisQuantitative"]:"time"===a||"utc"===a?["axisTemporal"]:[];const B="x"===c?"axisX":"axisY";a=$b(d)?"axisOrient":`axis${Ma(d)}`;k=[...k,...k.map(K=>B+K.substr(4))];a=["axis",a,B];return{vlOnlyAxisConfig:kj(k,f,c,d),vgAxisConfig:kj(a,f,c,d),axisConfigStyle:Ai([...a,
...k],f)}}function Ai(c,a){const d=[{}];for(const f of c){let k;if(c=null==(k=a[f])?void 0:k.style){c=R.array(c);for(const B of c)d.push(a.style[B])}}return Object.assign.apply(null,d)}function Si(c,a,d){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const k=ud(c,d,a);if(void 0!==k)return{configFrom:"style",configValue:k};for(const B of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){let K;if(void 0!==(null==(K=f[B])?void 0:K[c]))return{configFrom:B,configValue:f[B][c]}}return{}}
function C(c,a,d,f,k){const B=null==a?void 0:a.labelAngle;if(void 0!==B)return $b(B)?B:pa(B);({configValue:a}=Si("labelAngle",f,null==a?void 0:a.style,k));if(void 0!==a)return pa(a);if("x"===d&&Sb(["nominal","ordinal"],c.type)&&(!ma(c)||!c.timeUnit))return 270}function X(c){return`(((${c.signal} % 360) + 360) % 360)`}function ha(c,a,d,f){if(void 0!==c)return"x"===d?$b(c)?(f=X(c),a=$b(a)?`(${a.signal} === "top")`:"top"===a,{signal:`(45 < ${f} && ${f} < 135) || (225 < ${f} && ${f} < 315) ? "middle" :`+
`(${f} <= 45 || 315 <= ${f}) === ${a} ? "bottom" : "top"`}):45<c&&135>c||225<c&&315>c?"middle":$b(a)?{signal:`${a.signal} ${45>=c||315<=c?"\x3d\x3d\x3d":"!\x3d\x3d"} "top" ? "bottom" : "top"`}:(45>=c||315<=c)===("top"===a)?"bottom":"top":$b(c)?(c=X(c),a=$b(a)?`(${a.signal} === "left")`:"left"===a,{signal:`${c} <= 45 || 315 <= ${c} || (135 <= ${c} && ${c} <= 225) ? ${f?'"middle"':"null"} : (45 <= ${c} && ${c} <= 135) === ${a} ? "top" : "bottom"`}):45>=c||315<=c||135<=c&&225>=c?f?"middle":null:$b(a)?
{signal:`${a.signal} ${45<=c&&135>=c?"\x3d\x3d\x3d":"!\x3d\x3d"} "left" ? "top" : "bottom"`}:(45<=c&&135>=c)===("left"===a)?"top":"bottom"}function Oa(c,a,d){if(void 0!==c){var f=(d="x"===d)?0:90,k=d?"bottom":"left";return $b(c)?(c=X(c),a=$b(a)?`(${a.signal} === "${k}")`:a===k,{signal:`(${f?`(${c} + 90)`:c} % 180 === 0) ? ${d?null:'"center"'} :`+`(${f} < ${c} && ${c} < ${180+f}) === ${a} ? "left" : "right"`}):0===(c+f)%180?d?null:"center":$b(a)?{signal:`${`${a.signal} ${f<c&&c<180+f?"\x3d\x3d\x3d":
"!\x3d\x3d"} "${k}"`} ? "left" : "right"`}:(f<c&&c<180+f)===(a===k)?"left":"right"}}function zb(c,a){var d="x"===a?"x2":"y2";a=c.fieldDef(a);c=c.fieldDef(d);d=a?a.title:void 0;c=c?c.title:void 0;if(d&&c)return wb(d,c);if(d)return d;if(c)return c;if(void 0!==d)return d;if(void 0!==c)return c}function Db(c,a,d){return Pc(c,Object.assign({},{prefix:a,suffix:"sort_index"},null!=d?d:{}))}function Pb(c,a){return Sb(["top","bottom"],a)?"column":Sb(["left","right"],a)?"row":"row"===c?"row":"column"}function lc(c,
a,d,f){return Ea((a||{})[c],("row"===f?d.headerRow:"column"===f?d.headerColumn:d.headerFacet)[c],d.header[c])}function Vc(c,a,d,f){const k={};for(const B of c)c=lc(B,a||{},d,f),void 0!==c&&(k[B]=c);return k}function Kd(c,a){switch(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"middle"){case "start":return{align:"left"};case "end":return{align:"right"}}const d=Oa(a,"row"===c?"left":"top","row"===c?"y":"x");return d?{align:d}:{}}function Sd(c,a){return(c=ha(c,"row"===a?"left":"top","row"===
a?"y":"x",!0))?{baseline:c}:{}}function ad(c,a,d){const {format:f,formatType:k,labelAngle:B,labelAnchor:K,labelOrient:ia,labelExpr:ta}=Vc("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),c.header,d,a),Ka=Cd({fieldOrDatumDef:c,format:f,formatType:k,expr:"parent",config:d}).signal,jb=Pb(a,ia);return Object.assign({},{text:{signal:ta?ob(ob(ta,"datum.label",Ka),"datum.value",Pc(c,{expr:"parent"})):Ka}},"row"===a?{orient:"left"}:{},{style:"guide-label",frame:"group"},Sd(B,jb),
Kd(jb,B,K),ie(d,c,a,Vl,zl))}function ie(c,a,d,f,k){const B={};for(const K of f){if(!k[K])continue;let ia;f=lc(K,null==(ia=a)?void 0:ia.header,c,d);void 0!==f&&(B[k[K]]=f)}return B}function Ke(c){return[...Ve(c,"width"),...Ve(c,"height"),...Ve(c,"childWidth"),...Ve(c,"childHeight")]}function Ve(c,a){var d="width"===a?"x":"y",f=c.component.layoutSize.get(a);if(!f||"merged"===f)return[];a=c.getSizeSignalRef(a).signal;if("step"===f){if(f=c.getScaleComponent(d)){var k=f.get("type");const B=f.get("range");
if(Jc(k)&&Rc(B))return k=c.scaleName(d),ni(c.parent)&&"independent"===c.parent.component.resolve.scale[d]?[A(k,B)]:[A(k,B),{name:a,update:V(k,f,`domain('${k}').length`)}]}throw Error("layout size is step although width/height is not step.");}return"container"==f?(d=(f=a.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",c=Bf(c.config.view,f?"width":"height"),c=`isFinite(${d}) ? ${d} : ${c}`,[{name:a,init:c,on:[{update:c,events:"window:resize"}]}]):[{name:a,value:f}]}function A(c,a){c=`${c}_step`;
return $b(a.step)?{name:c,update:a.step.signal}:{name:c,value:a.step}}function V(c,a,d){const f=a.get("type"),k=a.get("padding"),B=Ea(a.get("paddingOuter"),k);a=a.get("paddingInner");return`bandspace(${d}, ${dc("band"===f?void 0!==a?a:k:1)}, ${dc(B)}) * ${c}_step`}function ba(c){return"childWidth"===c?"width":"childHeight"===c?"height":c}function Fa(c,a){return ce(c).reduce((d,f)=>Object.assign({},d,xa(a,c[f],f,k=>Tb(k.value))),{})}function tb(c,a){if(ni(a))return"theta"===c?"independent":"shared";
if(Hi(a))return"shared";if(Wi(a))return F(c)||"theta"===c||"radius"===c?"independent":"shared";throw Error("invalid model type for resolve");}function xb(c,a){const d=c.scale[a],f=F(a)?"axis":"legend";return"independent"===d?("shared"===c[f][a]&&Aa(`Setting the scale to be independent for "${a}" means we also have to set the guide (axis or legend) to be independent.`),"independent"):c[f][a]||"shared"}function Mb(c){return Lc(c,(a,d)=>Math.max(a,d.value))}function Nb(c){return Lc(c,(a,d)=>Ea(a,d.value))}
function Lc(c,a){const d=null==c?void 0:c.condition;if(d&&(R.isArray(d)||yd(d)))return R.array(c.condition).reduce(a,c.value);if(yd(c))return c.value}function Dd(c,a,d){c=a.get("selections");if(null!=c&&c.length){var f=R.stringValue(d.field);return c.map(k=>`(!length(data(${R.stringValue(Ia(k)+"_store")})) || (${k}[${f}] && indexof(${k}[${f}], datum.value) >= 0))`).join(" || ")}}function gd(c,a,d,f){return{signal:`clamp(${c.getSizeSignalRef(a).signal}, ${d}, ${f})`}}function nc(c){if(qg(c)){var {encoding:a}=
c,d={};for(qd of["color",...nl]){var f=Le(a[qd]);if(f&&c.getScaleComponent(qd)&&("shape"!==qd||!ma(f)||"geojson"!==f.type)){a:{var k=void 0,B=void 0,K=void 0,ia=void 0,ta=void 0,Ka,jb=Ka=void 0,Qb=void 0;f=c;var uc=qd;let fe=f.legend(uc);const {markDef:Md,encoding:ue,config:Te}=f;var ld=Te.legend;b:{var Kc=f;var cd=uc;ia=Kc.scaleName(cd);if("trail"===Kc.mark){if("color"===cd){Kc={stroke:ia};break b}if("size"===cd){Kc={strokeWidth:ia};break b}}Kc="color"===cd?Kc.markDef.filled?{fill:ia}:{stroke:ia}:
{[cd]:ia}}Kc=new Al({},Kc);cd=null==(Qb=f.fieldDef(uc))?void 0:Qb.field;for(const Nf of ih(null!=(jb=f.component.selection)?jb:{})){let mh;if((jb=null!=(mh=Nf.project.hasField[cd])?mh:Nf.project.hasChannel[uc])&&uk.defined(Nf)){let Rf;Qb=null!=(Rf=Kc.get("selections"))?Rf:[];Qb.push(Nf.name);Kc.set("selections",Qb,!1);jb.hasLegend=!0}}jb=void 0!==fe?!fe:ld.disable;Kc.set("disable",jb,void 0!==fe);if(jb){f=Kc;break a}fe=fe||{};Qb=f.getScaleComponent(uc).get("type");jb=Le(ue[uc]);ia=ma(jb)?null==(Ka=
Od(jb.timeUnit))?void 0:Ka.unit:void 0;cd=fe.orient||Te.legend.orient||"right";Ka={legend:fe,channel:uc,timeUnit:ia,scaleType:Qb};({legend:ia}=Ka);ia=ia.type;b:{let {channel:Nf,timeUnit:mh,scaleType:Rf}=Ka;if(S(Nf)){if(Sb(["quarter","month","day"],mh)){Ka="symbol";break b}if(Jg.has(Rf)){Ka="gradient";break b}}Ka="symbol"}Ka=Ea(ia,Ka);let {legendConfig:cf,legendType:Yf,orient:Uf,legend:ug}={legend:fe,legendType:Ka,orient:cd,legendConfig:ld};if(null!=(ia=null!=(ta=ug.direction)?ta:cf[Yf?"gradientDirection":
"symbolDirection"]))ta=ia;else b:{switch(Uf){case "top":case "bottom":ta="horizontal";break b;case "left":case "right":case "none":case void 0:break;default:ta="gradient"===Yf?"horizontal":void 0;break b}ta=void 0}ld={legend:fe,channel:uc,model:f,markDef:Md,encoding:ue,fieldOrDatumDef:jb,legendConfig:ld,config:Te,scaleType:Qb,orient:cd,legendType:Ka,direction:ta};for(const Nf of sl)if(!("gradient"===Ka&&Nf.startsWith("symbol")||"symbol"===Ka&&Nf.startsWith("gradient"))&&(ta=Nf in Hk?Hk[Nf](ld):fe[Nf],
void 0!==ta)){b:{Qb=ia=void 0;cd=f.fieldDef(uc);switch(Nf){case "disable":cd=void 0!==fe;break b;case "values":cd=!(null==(Qb=fe)||!Qb.values);break b;case "title":if("title"===Nf&&ta===(null==(ia=cd)?void 0:ia.title)){cd=!0;break b}}cd=ta===(fe||{})[Nf]}((Qb=cd)||void 0===Te.legend[Nf])&&Kc.set(Nf,ta,Qb)}ld=null!=(B=null==(K=fe)?void 0:K.encoding)?B:{};B=Kc.get("selections");K={};uc={fieldOrDatumDef:jb,model:f,channel:uc,legendCmpt:Kc,legendType:Ka};for(const Nf of"labels legend title symbols gradient entries".split(" ")){let mh;
ta=Fa(null!=(mh=ld[Nf])?mh:{},f);ta=Nf in hl?hl[Nf](ta,uc):ta;if(void 0!==ta&&!Na(ta)){let Rf,Fi;K[Nf]=Object.assign({},(null==(Rf=B)?0:Rf.length)&&ma(jb)?{name:`${Ia(jb.field)}_legend_${Nf}`}:{},(null==(Fi=B)?0:Fi.length)?{interactive:!!B}:{},{update:ta})}}Na(K)||Kc.set("encode",K,!(null==(k=fe)||!k.encoding));f=Kc}d[qd]=f}}var qd=d}else{const {legends:fe,resolve:Md}=c.component;for(a of c.children){nc(a);for(d of ce(a.component.legends))Md.legend[d]=xb(c.component.resolve,d),"shared"===Md.legend[d]&&
(fe[d]=sd(fe[d],a.component.legends[d]),fe[d]||(Md.legend[d]="independent",delete fe[d]))}for(f of ce(fe))for(k of c.children)k.component.legends[f]&&"shared"===Md.legend[f]&&delete k.component.legends[f];qd=fe}return c.component.legends=qd}function sd(c,a){if(!c)return a.clone();var d=c.getWithExplicit("orient");const f=a.getWithExplicit("orient");if(!d.explicit||!f.explicit||d.value===f.value){var k=!1;for(const B of sl)d=Zg(c.getWithExplicit(B),a.getWithExplicit(B),B,"legend",(K,ia)=>{switch(B){case "symbolType":return K=
"circle"===ia.value?ia:K,K;case "title":return ua(K,ia);case "type":return k=!0,Ng("symbol")}return eh(K,ia,B,"legend")}),c.setWithExplicit(B,d);if(k){let B,K;(null==(B=c.implicit)?0:null==(K=B.encode)?0:K.gradient)&&mb(c.implicit,["encode","gradient"]);let ia,ta;(null==(ia=c.explicit)?0:null==(ta=ia.encode)?0:ta.gradient)&&mb(c.explicit,["encode","gradient"])}return c}}function xd(c){const a=c.component.legends,d={};for(const k of ce(a)){var f=c.getScaleComponent(k);f=Ag(f.get("domains"));if(d[f])for(const B of d[f])sd(B,
a[k])||d[f].push(a[k]);else d[f]=[a[k].clone()]}return ih(d).flat().map(k=>{{var B=c.config,K=k.combine();k=Object.assign({},K);const uc=K.disable;K=K.labelExpr;k=(delete k.disable,delete k.labelExpr,delete k.selections,k);if(uc)var ia=void 0;else{!1===B.aria&&void 0==k.aria&&(k.aria=!1);var ta;if(null==(ta=k.encode)?0:ta.symbols){B=k.encode.symbols.update;!B.fill||"transparent"===B.fill.value||B.stroke||k.stroke||(B.stroke={value:"transparent"});for(var Ka of nl)k[Ka]&&delete B[Ka]}k.title||delete k.title;
if(void 0!==K){Ka=K;var jb,Qb;(null==(jb=k.encode)?0:null==(Qb=jb.labels)?0:Qb.update)&&$b(k.encode.labels.update.text)&&(Ka=ob(K,"datum.label",k.encode.labels.update.text.signal));jb=k;Qb={signal:Ka};null!=jb.encode||(jb.encode={});null!=(ia=jb.encode).labels||(ia.labels={});let ld;null!=(ld=jb.encode.labels).update||(ld.update={});jb.encode.labels.update.text=Qb}ia=k}}return ia}).filter(k=>void 0!==k)}function ze(c){return c.children.reduce((a,d)=>a.concat(d.assembleProjections()),oe(c))}function oe(c){var a=
c.component.projection;if(!a||a.merged)return[];const d=a.combine(),{name:f}=d;if(a.data){const k={signal:`[${a.size.map(B=>B.signal).join(", ")}]`};a=a.data.reduce((B,K)=>{K=$b(K)?K.signal:`data('${c.lookupDataSource(K)}')`;B.includes(K)||B.push(K);return B},[]);if(0>=a.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:f,size:k,fit:{signal:1<a.length?`[${a.join(", ")}]`:a[0]}},d)]}return[Object.assign({},{name:f},{translate:{signal:"[width / 2, height / 2]"}},
d)]}function Xe(c){var a=c.component;if(qg(c))if(c.hasProjection){var d=rc(c.specifiedProjection);var f=!(d&&(null!=d.scale||null!=d.translate));const B=f?[c.getSizeSignalRef("width"),c.getSizeSignalRef("height")]:void 0;if(f){f=[];const {encoding:ia}=c;for(k of[["longitude","latitude"],["longitude2","latitude2"]])(Le(ia[k[0]])||Le(ia[k[1]]))&&f.push({signal:c.getName(`geojson_${f.length}`)});c.channelHasField("shape")&&"geojson"===c.typedFieldDef("shape").type&&f.push({signal:c.getName(`geojson_${f.length}`)});
0===f.length&&f.push(c.requestDataName(tg.Main));var k=f}else k=void 0;let K;c=new Bl(c.projectionName(!0),Object.assign({},null!=(K=rc(c.config.projection))?K:{},null!=d?d:{}),B,k);c.get("type")||c.set("type","equalEarth",!1);d=c}else d=void 0;else d=Zf(c);a.projection=d}function Ef(c,a){const d=rb(Il,f=>!R.hasOwnProperty(c.explicit,f)&&!R.hasOwnProperty(a.explicit,f)||R.hasOwnProperty(c.explicit,f)&&R.hasOwnProperty(a.explicit,f)&&Bi(c.get(f),a.get(f))?!0:!1);if(Bi(c.size,a.size)){if(d)return c;
if(Bi(c.explicit,{}))return a;if(Bi(a.explicit,{}))return c}return null}function Zf(c){if(0!==c.children.length){var a;for(var d of c.children)Xe(d);d=rb(c.children,f=>{if(f=f.component.projection){if(a)return(f=Ef(a,f))&&(a=f),!!f;a=f}return!0});if(a&&d){d=c.projectionName(!0);const f=new Bl(d,a.specifiedProjection,a.size,zf(a.data));for(const k of c.children)if(c=k.component.projection)c.isFit&&f.data.push(...k.component.projection.data),k.renameProjection(c.get("name"),d),c.merged=!0;return f}}}
function ig(c,a,d){let f;d=null!=(f=vf(d,void 0))?f:{};a=`${ab(d)}_${a}`;return c.getName(`${a}_bins`)}function Gh(c,a,d){let f;f="as"in c?R.isString(c.as)?[c.as,`${c.as}_end`]:[c.as[0],c.as[1]]:[Pc(c,{forAs:!0}),Pc(c,{binSuffix:"end",forAs:!0})];a=Object.assign({},vf(a,void 0));var k=c.field;k=`${ab(a)}_${k}`;var B={signal:d.getName(`${k}_bins`),extentSignal:d.getName(`${k}_extent`)};const {signal:K,extentSignal:ia}=B;if(Ya(a.extent)){var ta=a.extent;ta=yg(d,ta.param,ta);delete a.extent}c=Object.assign({},
{bin:a,field:c.field,as:[f]},K?{signal:K}:{},ia?{extentSignal:ia}:{},ta?{span:ta}:{});return{key:k,binComponent:c}}function jg(c){return c.startsWith("'")&&c.endsWith("'")||c.startsWith('"')&&c.endsWith('"')?c.slice(1,-1):c}function uf(c,a){c=vb(c);if("number"===a)return`toNumber(${c})`;if("boolean"===a)return`toBoolean(${c})`;if("string"===a)return`toString(${c})`;if("date"===a)return`toDate(${c})`;if("flatten"===a)return c;if(a.startsWith("date:"))return a=jg(a.slice(5,a.length)),`timeParse(${c},'${a}')`;
if(a.startsWith("utc:"))return a=jg(a.slice(4,a.length)),`utcParse(${c},'${a}')`;Aa(`Unrecognized parse "${a}".`);return null}function Pg(c){const a={};Cb(c.filter,d=>{if(db(d)){let f=null;if(gf(d))f=Wb(d.equal);else if(ef(d))f=Wb(d.lte);else if(df(d))f=Wb(d.lt);else if(pe(d))f=Wb(d.gt);else if(nf(d))f=Wb(d.gte);else if(W(d))f=d.range[0];else if(wa(d)){let k;f=(null!=(k=d.oneOf)?k:d["in"])[0]}f&&(Jb(f)?a[d.field]="date":R.isNumber(f)?a[d.field]="number":R.isString(f)&&(a[d.field]="string"));d.timeUnit&&
(a[d.field]="date")}});return a}function vg(c){function a(f){if(af(f))d[f.field]="date";else{var k;if(k="quantitative"===f.type)k=f.aggregate,k=R.isString(k)&&Sb(["min","max"],k);k?d[f.field]="number":1<Y(f.field)?f.field in d||(d[f.field]="flatten"):Yc(f)&&bd(f.sort)&&1<Y(f.sort.field)&&(f.sort.field in d||(d[f.sort.field]="flatten"))}}const d={};(qg(c)||ni(c))&&c.forEachFieldDef((f,k)=>{Dc(f)?a(f):(k=z(k),k=c.fieldDef(k),a(Object.assign({},f,{type:k.type})))});if(qg(c)){const {mark:f,markDef:k,
encoding:B}=c;if(Ra(f)&&!c.encoding.order){const K=B["horizontal"===k.orient?"y":"x"];!ma(K)||"quantitative"!==K.type||K.field in d||(d[K.field]="number")}}return d}function Je(c){return c instanceof q||c instanceof b||c instanceof e}function le(c){return c.stack.stackBy.reduce((a,d)=>{(d=Pc(d.fieldDef))&&a.push(d);return a},[])}function Oe(c){return R.isArray(c)&&c.every(a=>R.isString(a))&&1<c.length}function re(c){function a(d){if(!(d instanceof Di)){const f=d.clone();if(f instanceof uh){const k=
"scale_"+f.getSource();f.setSource(k);c.model.component.data.outputNodes[k]=f}else(f instanceof Ci||f instanceof rd||f instanceof me||f instanceof Tc)&&f.addDimensions(c.fields);for(const k of d.children.flatMap(a))k.parent=f;return[f]}return d.children.flatMap(a)}return a}function gg(c){if(c instanceof Di)if(1!==c.numChildren()||c.children[0]instanceof uh){var a=c.model.component.data.main;Ig(a);const d=re(c);c=c.children.map(d).flat();for(const f of c)f.parent=a}else a=c.children[0],(a instanceof
Ci||a instanceof rd||a instanceof me||a instanceof Tc)&&a.addDimensions(c.fields),a.swapWithParent(),gg(c);else c.children.map(gg)}function Ig(c){if(c instanceof uh&&c.type===tg.Main&&1===c.numChildren()){const a=c.children[0];a instanceof Di||(a.swapWithParent(),Ig(c))}}function zg(c){for(const a of c){for(const d of a.children)if(d.parent!==a)return!1;if(!zg(a.children))return!1}return!0}function mg(c,a){let d=!1;for(const f of a)d=c.optimize(f)||d;return d}function Oh(c,a,d){let f=c.sources,k=
!1;k=mg(new ge,f)||k;k=mg(new Oc(a),f)||k;f=f.filter(B=>0<B.numChildren());k=mg(new He,f)||k;f=f.filter(B=>0<B.numChildren());d||(k=mg(new je,f)||k,k=mg(new bh(a),f)||k,k=mg(new zd,f)||k,k=mg(new de,f)||k,k=mg(new Ze,f)||k,k=mg(new Ue,f)||k,k=mg(new wc,f)||k,k=mg(new md,f)||k);c.sources=f;return k}function fi(c){const a=c.component.scales;for(const Ka of ce(a)){var d=c,f=Ka,k=d.getScaleComponent(f).get("type"),{encoding:B}=d;var K=d.scaleDomain(f);var ia=d.typedFieldDef(f),ta=d.config.scale;if("unaggregated"===
K){const {valid:jb,reason:Qb}=Ij(ia,k);jb||(Aa(Qb),K=void 0)}else void 0===K&&ta.useUnaggregatedDomain&&({valid:ia}=Ij(ia,k),ia&&(K="unaggregated"));K!==d.scaleDomain(f)&&(d.specifiedScales[f]=Object.assign({},d.specifiedScales[f],{domain:K}));d="x"===f&&Le(B.x2)?Le(B.x)?Zg(ti(k,K,d,"x"),ti(k,K,d,"x2"),"domain","scale",rj):ti(k,K,d,"x2"):"y"===f&&Le(B.y2)?Le(B.y)?Zg(ti(k,K,d,"y"),ti(k,K,d,"y2"),"domain","scale",rj):ti(k,K,d,"y2"):ti(k,K,d,f);a[Ka].setWithExplicit("domains",d);K=f=void 0;k=c.component.scales[Ka];
ia=c.specifiedScales[Ka].domain;B=null==(K=c.fieldDef(Ka))?void 0:K.bin;K=(null==ia?void 0:ia.param)&&ia;B=R.isObject(B)&&Ya(B.extent)&&B.extent;(K||B)&&k.set("selectionExtent",null!=(f=K)?f:B,!0);if(c.component.data.isFaceted){for(f=c;!ni(f)&&f.parent;)f=f.parent;if("shared"===f.component.resolve.scale[Ka])for(const jb of d.value)Pd(jb)&&(jb.data="scale_"+jb.data.replace("scale_",""))}}}function ej(c){for(var a of c.children){var d=a;qg(d)?fi(d):ej(d)}d=c.component.scales;for(const k of ce(d)){let B;
a=null;for(const K of c.children){var f=K.component.scales[k];f&&(B=void 0===B?f.getWithExplicit("domains"):Zg(B,f.getWithExplicit("domains"),"domains","scale",rj),f=f.get("selectionExtent"),a&&f&&a.param!==f.param&&Aa("The same selection must be used to override scale domains in a layered view."),a=f)}d[k].setWithExplicit("domains",B);a&&d[k].set("selectionExtent",a,!0)}}function qj(c,a,d){return c.map(f=>({signal:`{data: ${ag(f,{timeUnit:d,type:a})}}`}))}function Gj(c,a,d){let f;d=null==(f=Od(d))?
void 0:f.unit;return"temporal"===a||d?qj(c,a,d):[c]}function ti(c,a,d,f){var {encoding:k}=d;k=Le(k[f]);const {type:B}=k,K=k.timeUnit;if(null==a?0:a.unionWith)return f=ti(c,void 0,d,f),a=Gj(a.unionWith,B,K),Hg([...a,...f.value]);if($b(a))return Hg([a]);if(a&&"unaggregated"!==a&&(null==a||!a.param))return Hg(Gj(a,B,K));var ia=d.stack;if(ia&&f===ia.fieldChannel){if("normalize"===ia.offset)return Ng([[0,1]]);a=d.requestDataName(tg.Main);return Ng([{data:a,field:d.vgField(f,{suffix:"start"})},{data:a,
field:d.vgField(f,{suffix:"end"})}])}ia=mi[f]&&ma(k)?Hj(d,f,c):void 0;if(ib(k))return f=Gj([k.datum],B,K),Ng(f);if("unaggregated"===a)return f=d.requestDataName(tg.Main),{field:a}=k,Ng([{data:f,field:Pc({field:a,aggregate:"min"})},{data:f,field:Pc({field:a,aggregate:"max"})}]);if(Z(k.bin)){if(Jc(c))return"bin-ordinal"===c?Ng([]):Ng([{data:Da(ia)?d.requestDataName(tg.Main):d.requestDataName(tg.Raw),field:d.vgField(f,hf(k,f)?{binSuffix:"range"}:{}),sort:!0!==ia&&R.isObject(ia)?ia:{field:d.vgField(f,
{}),op:"min"}}]);({bin:a}=k);if(Z(a)){const ta=ig(d,k.field,a);return Ng([new Fe(()=>{const Ka=d.getSignalName(ta);return`[${Ka}.start, ${Ka}.stop]`})])}return Ng([{data:d.requestDataName(tg.Main),field:d.vgField(f,{})}])}return k.timeUnit&&Sb(["time","utc"],c)&&Q(k,qg(d)?d.encoding[E(f)]:void 0,d.markDef,d.config)?(a=d.requestDataName(tg.Main),Ng([{data:a,field:d.vgField(f)},{data:a,field:d.vgField(f,{suffix:"end"})}])):ia?Ng([{data:Da(ia)?d.requestDataName(tg.Main):d.requestDataName(tg.Raw),field:d.vgField(f),
sort:ia}]):Ng([{data:d.requestDataName(tg.Main),field:d.vgField(f)}])}function mj(c,a){const {op:d,field:f,order:k}=c;return Object.assign({},{op:null!=d?d:a?"sum":"min"},f?{field:Vb(f)}:{},k?{order:k}:{})}function Hj(c,a,d){if(Jc(d)){var f=c.fieldDef(a);d=f.sort;if(Gc(d))return{op:"min",field:Db(f,a),order:"ascending"};({stack:f}=c);var k=f?new Set([...f.groupbyFields,...f.stackBy.map(B=>B.fieldDef.field)]):void 0;if(bd(d))return c=f&&!k.has(d.field),mj(d,c);if(null!=d&&d.encoding){const {encoding:B,
order:K}=d;c=c.fieldDef(B);const {aggregate:ia,field:ta}=c;a=f&&!k.has(ta);if(I(ia)||va(ia))return mj({field:Pc(c),order:K},a);if(La(ia)||!ia)return mj({op:ia,field:ta,order:K},a)}else{if("descending"===d)return{op:"min",field:c.vgField(a),order:"descending"};if(Sb(["ascending",void 0],d))return!0}}}function Ij(c,a){const {aggregate:d,type:f}=c;return d?R.isString(d)&&!Wk.has(d)?{valid:!1,reason:`Unaggregated domain not applicable for "${d}" since it produces values outside the origin domain of the source data.`}:
"quantitative"===f&&"log"===a?{valid:!1,reason:`Unaggregated domain is currently unsupported for log scale (${Ag(c)}).`}:{valid:!0}:{valid:!1,reason:`Using unaggregated domain with raw field has no effect (${Ag(c)}).`}}function rj(c,a,d,f){if(c.explicit&&a.explicit){var k=a.value;d=`Conflicting ${f.toString()} property "${d.toString()}" (${Ag(c.value)} and ${Ag(k)}). Using the union of the two domains.`;Aa(d)}return{explicit:c.explicit,value:[...c.value,...a.value]}}function Gk(c){var a=Hb(c.map(k=>
Pd(k)?(k=Object.assign({},k),delete k.sort,k):k),Ab),d=Hb(c.map(k=>{if(Pd(k))return k=k.sort,void 0===k||Da(k)||("op"in k&&"count"===k.op&&delete k.field,"ascending"===k.order&&delete k.order),k}).filter(k=>void 0!==k),Ab);if(0!==a.length){if(1===a.length){a=c[0];if(Pd(a)&&0<d.length){var f=d[0];1<d.length?(Aa("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),f=d.filter(k=>R.isObject(k)&&"op"in k&&"min"!==k.op),f=d.every(k=>R.isObject(k)&&"op"in k)&&1===
f.length?f[0]:!0):R.isObject(f)&&"field"in f&&a.field===f.field&&(f=f.order?{order:f.order}:!0);return Object.assign({},a,{sort:f})}return a}d=Hb(d.map(k=>{if(Da(k)||!("op"in k)||R.isString(k.op)&&k.op in mk)return k;Aa(`Dropping sort property ${Ag(k)} as unioned domains only support boolean or op "count", "min", and "max".`);return!0}),Ab);1===d.length?f=d[0]:1<d.length&&(Aa("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),f=!0);d=Hb(c.map(k=>Pd(k)?k.data:
null),k=>k);return 1===d.length&&null!==d[0]?Object.assign({},{data:d[0],fields:a.map(k=>k.field)},f?{sort:f}:{}):Object.assign({},{fields:a},f?{sort:f}:{})}}function Fk(c){if(Pd(c)&&R.isString(c.field))return c.field;var a=R.isArray(c)?!1:"fields"in c&&!("data"in c);if(a){let d;for(const f of c.fields)if(Pd(f)&&R.isString(f.field))if(!d)d=f.field;else if(d!==f.field)return Aa("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),
d;Aa("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");return d}a=R.isArray(c)?!1:"fields"in c&&"data"in c;if(a)return Aa("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),
c=c.fields[0],R.isString(c)?c:void 0}function Tj(c,a){a=c.component.scales[a].get("domains").map(d=>{Pd(d)&&(d.data=c.lookupDataSource(d.data));return d});return Gk(a)}function $k(c){return Hi(c)||Wi(c)?c.children.reduce((a,d)=>a.concat($k(d)),rl(c)):rl(c)}function rl(c){return ce(c.component.scales).reduce((a,d)=>{var f=c.component.scales[d];if(f.merged)return a;var k=f.combine(),B=Object.assign({},k);const K=k.name,ia=k.type;var ta=k.selectionExtent;const Ka=k.reverse;B=(delete B.name,delete B.type,
delete B.selectionExtent,delete B.domains,delete B.range,delete B.reverse,B);k=k.range;F(d)?Rc(k)&&(k={step:{signal:`${K}_step`}}):R.isObject(k)&&Pd(k)&&(k=Object.assign({},k,{data:c.lookupDataSource(k.data)}));d=Tj(c,d);ta?(ta=yg(c,ta.param,ta),f={signal:Bc(f.get("type"))&&R.isArray(d)&&d[0]>d[1]?`isValid(${ta}) && reverse(${ta})`:ta}):f=null;a.push(Object.assign({},{name:K,type:ia},d?{domain:d}:{},f?{domainRaw:f}:{},{range:k},void 0!==Ka?{reverse:Ka}:{},B));return a},[])}function tl(c,a){var d=
c.fieldDef(a);if(null==d?0:d.bin){const {bin:f,field:k}=d;d=h(a);const B=c.getName(d);if(R.isObject(f)&&f.binned&&void 0!==f.step)return new Fe(()=>{var K=c.scaleName(a);K=`(domain("${K}")[1] - domain("${K}")[0]) / ${f.step}`;return`${c.getSignalName(B)} / (${K})`});if(Z(f)){const K=ig(c,k,f);return new Fe(()=>{var ia=c.getSignalName(K);ia=`(${ia}.stop - ${ia}.start) / ${ia}.step`;return`${c.getSignalName(B)} / (${ia})`})}}}function hh(c,a){const d=a.specifiedScales[c];var {size:f}=a,k=a.getScaleComponent(c).get("type");
for(var B of lf)if(void 0!==d[B]){const ta=$c(k,B),Ka=pd(c,B);if(ta)if(Ka)Aa(Ka);else switch(B){case "range":k=d.range;if(R.isArray(k)){if(F(c))return Hg(k.map(jb=>{if("width"===jb||"height"===jb){jb=a.getName(jb);const Qb=a.getSignalName.bind(a);return Fe.fromName(Qb,jb)}return jb}))}else if(R.isObject(k))return Hg({data:a.requestDataName(tg.Main),field:k.field,sort:{op:"min",field:a.vgField(c)}});return Hg(k);case "scheme":return Hg(Jl(d[B]))}else Aa(Ud(k,B,c))}B="x"===c||"xOffset"===c?"width":
"height";f=f[B];if(ye(f))if(F(c))if(Jc(k)){if(f=Kk(f,a,c))return Hg({step:f})}else Aa(Ye(B));else if(c in Yi&&"band"===a.getScaleComponent("xOffset"===c?"x":"y").get("type")&&(f=Mj(f,k)))return Hg(f);const {rangeMin:K,rangeMax:ia}=d;c=Jk(c,a);return(void 0!==K||void 0!==ia)&&$c(k,"rangeMin")&&R.isArray(c)&&2===c.length?Hg([null!=K?K:c[0],null!=ia?ia:c[1]]):Ng(c)}function Jl(c){return!R.isString(c)&&c.name?Object.assign({},{scheme:c.name},pc(c,["name"])):{scheme:c}}function Jk(c,a){const {size:d,config:f,
mark:k,encoding:B}=a;var K=a.getSignalName.bind(a),{type:ia}=Le(B[c]);const ta=a.getScaleComponent(c).get("type"),{domain:Ka,domainMid:jb}=a.specifiedScales[c];switch(c){case "x":case "y":if(Sb(["point","band"],ta)&&(ia=Lk(c,d,f.view),ye(ia)))return{step:Kk(ia,a,c)};ia=h(c);ia=a.getName(ia);return"y"===c&&Bc(ta)?[Fe.fromName(K,ia),0]:[0,Fe.fromName(K,ia)];case "xOffset":case "yOffset":return Kl(c,a,ta);case "size":return K=a.component.scales[c].get("zero"),K=gi(k,K,f),ia=Hl(k,d,a,f),$h.has(ta)?si(K,
ia,ik(ta,f,Ka,c)):[K,ia];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,new Fe(()=>{const Qb=a.getSignalName("width"),uc=a.getSignalName("height");return`min(${Qb},${uc})/2`})];case "strokeWidth":return[f.scale.minStrokeWidth,f.scale.maxStrokeWidth];case "strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===ta?"nominal"===ia?"category":"ordinal":void 0!==jb?"diverging":"rect"===
k||"geoshape"===k?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[f.scale.minOpacity,f.scale.maxOpacity]}}function Kk(c,a,d){var {encoding:f}=a,k=a.getScaleComponent(d);d=r(d);const B=f[d];if("offset"===Ie({step:c,offsetIsDiscrete:Xb(B)&&Sa(B.type)})&&Pf(f,d)){f=a.getScaleComponent(d);a=`domain('${a.scaleName(d)}').length`;if("band"===f.get("type")){var K;let Ka;d=null!=(Ka=null!=(K=f.get("paddingInner"))?K:f.get("padding"))?Ka:0;var ia;let jb;K=null!=(jb=null!=(ia=
f.get("paddingOuter"))?ia:f.get("padding"))?jb:0;a=`bandspace(${a}, ${d}, ${K})`}var ta;ia=null!=(ta=k.get("paddingInner"))?ta:k.get("padding");c=c.step;k=a;ta=ia;ta=$b(ta)?ta.signal:R.stringValue(ta);return{signal:`${c} * ${k} / (1-${ta})`}}return c.step}function Mj(c,a){if("offset"===Ie({step:c,offsetIsDiscrete:Jc(a)}))return{step:c.step}}function Kl(c,a,d){const f="xOffset"===c?"x":"y",k=a.getScaleComponent(f).get("type"),B=a.scaleName(f);if("band"===k)return a=Lk(f,a.size,a.config.view),ye(a)&&
(a=Mj(a,d))?a:[0,{signal:`bandwidth('${B}')`}];d=a.encoding[f];return ma(d)&&d.timeUnit?(c=De(d.timeUnit,K=>`scale('${B}', ${K})`),(d=a.config.scale.bandWithNestedOffsetPaddingInner)?(a=$b(d)?`${d.signal}/2`:`${d/2}`,d=$b(d)?`(1 - ${d.signal}/2)`:`${1-d/2}`,[{signal:`${a} * (${c})`},{signal:`${d} * (${c})`}]):[0,{signal:c}]):sc(`Cannot use ${c} scale if ${f} scale is not discrete.`)}function Lk(c,a,d){c="x"===c?"width":"height";return(a=a[c])?a:fg(d,c)}function ik(c,a,d,f){switch(c){case "quantile":return a.scale.quantileCount;
case "quantize":return a.scale.quantizeCount;case "threshold":if(void 0!==d&&R.isArray(d))return d.length+1;Aa(`Domain for ${f} is required for threshold scale.`);return 3}}function si(c,a,d){const f=()=>{const k=dc(a),B=dc(c),K=`(${k} - ${B}) / (${d} - 1)`;return`sequence(${B}, ${k} + ${K}, ${K})`};return $b(a)?new Fe(f):{signal:f()}}function gi(c,a,d){if(a)return $b(a)?{signal:`${a.signal} ? 0 : ${gi(c,!1,d)}`}:0;switch(c){case "bar":case "tick":return d.scale.minBandSize;case "line":case "trail":case "rule":return d.scale.minStrokeWidth;
case "text":return d.scale.minFontSize;case "point":case "square":case "circle":return d.scale.minSize}throw Error(Yd("size",c));}function Hl(c,a,d,f){d={x:tl(d,"x"),y:tl(d,"y")};switch(c){case "bar":case "tick":if(void 0!==f.scale.maxBandSize)return f.scale.maxBandSize;const k=gl(a,d,f.view);return R.isNumber(k)?k-1:new Fe(()=>`${k.signal} - 1`);case "line":case "trail":case "rule":return f.scale.maxStrokeWidth;case "text":return f.scale.maxFontSize;case "point":case "square":case "circle":if(f.scale.maxSize)return f.scale.maxSize;
const B=gl(a,d,f.view);return R.isNumber(B)?Math.pow(.95*B,2):new Fe(()=>`pow(${.95} * ${B.signal}, 2)`)}throw Error(Yd("size",c));}function gl(c,a,d){const f=ye(c.width)?c.width.step:tf(d,"width"),k=ye(c.height)?c.height.step:tf(d,"height");return a.x||a.y?new Fe(()=>`min(${[a.x?a.x.signal:f,a.y?a.y.signal:k].join(", ")})`):Math.min(f,k)}function Jj(c,a){if(qg(c)){const K=c.component.scales,{config:ia,encoding:ta,markDef:Ka,specifiedScales:jb}=c;for(const Qb of ce(K)){var d=jb[Qb];const uc=K[Qb];
var f=c.getScaleComponent(Qb),k=Le(ta[Qb]),B=d[a];const ld=f.get("type"),Kc=f.get("padding");f=f.get("paddingInner");const cd=$c(ld,a),qd=pd(Qb,a);void 0!==B&&(cd?qd&&Aa(qd):Aa(Ud(ld,a,Qb)));if(cd&&void 0===qd)if(void 0!==B)switch(B=k.timeUnit,k=k.type,a){case "domainMax":case "domainMin":Jb(d[a])||"temporal"===k||B?uc.set(a,{signal:ag(d[a],{type:k,timeUnit:B})},!0):uc.set(a,d[a],!0);break;default:uc.copyKeyFromObject(a,d)}else d=a in rf?rf[a]({model:c,channel:Qb,fieldOrDatumDef:k,scaleType:ld,scalePadding:Kc,
scalePaddingInner:f,domain:d.domain,domainMin:d.domainMin,domainMax:d.domainMax,markDef:Ka,config:ia,hasNestedOffsetScale:Jf(ta,Qb),hasSecondaryRangeChannel:!!ta[E(Qb)]}):ia.scale[a],void 0!==d&&uc.set(a,d,!1)}}else ng(c,a)}function ek(c){if(qg(c)){const a=c.component.scales;for(const d of Ej){const f=a[d];if(!f)continue;const k=hh(d,c);f.setWithExplicit("range",k)}}else ng(c,"range")}function ng(c,a){const d=c.component.scales;for(var f of c.children)"range"===a?ek(f):Jj(f,a);for(const k of ce(d)){let B;
for(const K of c.children)if(f=K.component.scales[k])f=f.getWithExplicit(a),B=Zg(B,f,a,"scale",Yh((ia,ta)=>{switch(a){case "range":if(ia.step&&ta.step)return ia.step-ta.step}return 0}));d[k].setWithExplicit(a,B)}}function Ik(c,a){const d=a.bin;if(Z(d)){const f=ig(c,a.field,d);return new Fe(()=>c.getSignalName(f))}if(Ca(d)&&R.isObject(d)&&void 0!==d.step)return{step:d.step}}function jk(c,a,d,f,k){let B=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===c){if(F(a)){const {bandPaddingInner:K,
barBandPaddingInner:ia,rectBandPaddingInner:ta,bandWithNestedOffsetPaddingInner:Ka}=k;return B?Ka:Ea(K,"bar"===d?ia:ta)}if(a in Yi&&f===Kh.BAND)return k.offsetBandPaddingInner}}function Ti(c,a,d,f,k){let B=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===c)if(F(a)){const {bandPaddingOuter:K,bandWithNestedOffsetPaddingOuter:ia}=k;if(B)return ia;if(d===Kh.BAND)return Ea(K,$b(f)?{signal:`${f.signal}/2`}:f/2)}else if(a in Yi){if(d===Kh.POINT)return.5;if(d===Kh.BAND)return k.offsetBandPaddingOuter}}
function Ui(c,a,d,f){const k=Vi(a,d,f,4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1),{type:B}=c;if(!mi[a])return null;if(void 0!==B){if(!ee(a,B))return Aa(`Channel "${a}" does not work with "${B}" scale. We are using "${k}" scale instead.`),k;var K;if(K=ma(d))K=d.type,K=!(Sb(["ordinal","nominal"],K)?void 0===B||Jc(B):"temporal"===K?Sb([Kh.TIME,Kh.UTC,void 0],B):"quantitative"===K?wh.has(B)||$h.has(B)||void 0===B:1);return K?(Aa(`FieldDef does not work with "${B}" scale. We are using "${k}" scale instead.`),
k):B}return k}function Vi(c,a,d,f){switch(a.type){case "nominal":case "ordinal":if(S(c)||"discrete"===u(c))return"shape"===c&&"ordinal"===a.type&&Aa(ae(c,"ordinal")),"ordinal";if(F(c)||c in Yi){if(Sb(["rect","bar","image","rule"],d.type)||f)return"band"}else if("arc"===d.type&&c in nk)return"band";c=d[h(c)];if(qc(c))return"band";let k;return hd(a)&&(null==(k=a.axis)?0:k.tickBand)?"band":"point";case "temporal":if(!S(c)){if("discrete"===u(c))return Aa(ae(c,"temporal")),"ordinal";if(ma(a)&&a.timeUnit&&
Od(a.timeUnit).utc)return"utc"}return"time";case "quantitative":if(S(c)){if(ma(a)&&Z(a.bin))return"bin-ordinal"}else if("discrete"===u(c))return Aa(ae(c,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error(`Invalid field type "${a.type}".`);}function Kj(c){let {ignoreRange:a}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};sj(c);qg(c)?fi(c):ej(c);for(const d of zj)Jj(c,d);a||ek(c)}function sj(c){if(qg(c)){var a=c.component;const {encoding:ta,mark:Ka,markDef:jb}=c;
var d={};for(var f of Ej){var k=Le(ta[f]);if(!k||Ka!==Mi||"shape"!==f||"geojson"!==k.type){var B=k&&k.scale;if(f in Yi){var K=v(f);if(!Jf(ta,K)){B&&Aa(`${f} encoding has no scale, so specified scale is ignored.`);continue}}k&&null!==B&&!1!==B&&(null!=B||(B={}),K=Jf(ta,f),k=Ui(B,f,k,jb,K),d[f]=new kf(c.scaleName(`${f}`,!0),{value:k,explicit:B.type===k}))}}a.scales=d}else{f=c.component;B=c.component.scales={};k={};const ta=c.component.resolve;for(K of c.children){sj(K);for(var ia of ce(K.component.scales)){let Ka,
jb;null!=(Ka=ta.scale)[jb=ia]||(Ka[jb]=tb(ia,c));if("shared"===ta.scale[ia]){const Qb=k[ia],uc=K.component.scales[ia].getWithExplicit("type");if(Qb){const ld=$i[Qb.value],Kc=$i[uc.value];ld===Kc||"ordinal-position"===ld&&"time"===Kc||"ordinal-position"===Kc&&"time"===ld?k[ia]=Zg(Qb,uc,"type","scale",yh):(ta.scale[ia]="independent",delete k[ia])}else k[ia]=uc}}}for(a of ce(k)){K=c.scaleName(a,!0);B[a]=new kf(K,k[a]);for(d of c.children)if(ia=d.component.scales[a])d.renameScale(ia.get("name"),K),ia.merged=
!0}f.scales=B}}function qg(c){return"unit"===(null==c?void 0:c.type)}function ni(c){return"facet"===(null==c?void 0:c.type)}function Wi(c){return"concat"===(null==c?void 0:c.type)}function Hi(c){return"layer"===(null==c?void 0:c.type)}function Lj(c){function a(f,k){f instanceof q&&!(f.isGenerator||"url"in f.data)&&(c.push(k),k={name:null,source:k.name,transform:[]});if(f instanceof Uh)if(f.parent instanceof q&&!k.source){var B;k.format=Object.assign({},null!=(B=k.format)?B:{},{parse:f.assembleFormatParse()});
k.transform.push(...f.assembleTransforms(!0))}else k.transform.push(...f.assembleTransforms());if(f instanceof Di)k.name||(k.name=`data_${d++}`),!k.source||0<k.transform.length?(c.push(k),f.data=k.name):f.data=k.source,c.push(...f.assemble());else switch((f instanceof b||f instanceof e||f instanceof Cl||f instanceof bj||f instanceof cj||f instanceof Dl||f instanceof Ci||f instanceof El||f instanceof me||f instanceof Tc||f instanceof mm||f instanceof nm||f instanceof om||f instanceof pm||f instanceof
qm||f instanceof rm||f instanceof Ei||f instanceof sm||f instanceof tm)&&k.transform.push(f.assemble()),(f instanceof Gi||f instanceof Rh||f instanceof Ek||f instanceof rd||f instanceof fl)&&k.transform.push(...f.assemble()),f instanceof uh&&(k.source&&0===k.transform.length?f.setSource(k.source):f.parent instanceof uh?f.setSource(k.name):(k.name||(k.name=`data_${d++}`),f.setSource(k.name),1===f.numChildren()&&(c.push(k),k={name:null,source:k.name,transform:[]}))),f.numChildren()){case 0:f instanceof
uh&&(!k.source||0<k.transform.length)&&c.push(k);break;case 1:a(f.children[0],k);break;default:k.name||(k.name=`data_${d++}`);B=k.name;!k.source||0<k.transform.length?c.push(k):B=k.source;for(const K of f.children)a(K,{name:null,source:B,transform:[]})}}let d=0;return a}function Xi(c){const a=[],d=Lj(a);for(const f of c.children)d(f,{source:c.name,name:null,transform:[]});return a}function Mk(c,a){const d=[];var f=Lj(d);let k=0;for(const B of c.sources){B.hasName()||(B.dataName=`source_${k++}`);const K=
B.assemble();f(B,K)}for(const B of d)0===B.transform.length&&delete B.transform;f=0;for(const B of d.entries()){const [K,ia]=B;let ta;0!==(null!=(ta=ia.transform)?ta:[]).length||ia.source||d.splice(f++,0,d.splice(K,1)[0])}for(const B of d){let K;for(const ia of null!=(K=B.transform)?K:[])"lookup"===ia.type&&(ia.from=c.outputNodes[ia.from].getSource())}for(const B of d)B.name in a&&(B.values=a[B.name]);return d}function Nj(c,a,d){a="row"===a?"height":"width";return{labels:d,sizeSignal:c.child.component.layoutSize.get(a)?
c.child.getSizeSignalRef(a):void 0,axes:[]}}function nj(c,a){var {child:d}=c;if(d.component.axes[a]){const {layoutHeaders:f,resolve:k}=c.component;k.axis[a]=xb(k,a);if("shared"===k.axis[a]){const B="x"===a?"column":"row",K=f[B];for(const ia of d.component.axes[a]){a=ia.get("orient");a="top"===a||"left"===a||$b(a)?"header":"footer";let ta,Ka;null!=(ta=K)[Ka=a]||(ta[Ka]=[Nj(c,B,!1)]);(d=ki(ia,"main",c.config,{header:!0}))&&K[a][0].axes.push(d);ia.mainExtracted=!0}}}}function Pj(c){for(const a of c.children)a.parseLayoutSize()}
function dj(c,a){const d=ba(a),f=aa(d),k=c.component.resolve,B=c.component.layoutSize;let K;for(const ia of c.children){const ta=ia.component.layoutSize.getWithExplicit(d);let Ka;const jb=null!=(Ka=k.scale[f])?Ka:tb(f,c);if("independent"===jb&&"step"===ta.value){K=void 0;break}if(K){if("independent"===jb&&K.value!==ta.value){K=void 0;break}K=Zg(K,ta,d,"")}else K=ta}if(K){for(const ia of c.children)c.renameSignal(ia.getName(d),c.getName(a)),ia.component.layoutSize.set(d,"merged",!1);B.setWithExplicit(a,
K)}else B.setWithExplicit(a,{explicit:!1,value:void 0})}function Ql(c,a){const d=c.config;var f=c.getScaleComponent("width"===a?"x":"y");if(f)return c=f.get("type"),f=f.get("range"),Jc(c)?(a=fg(d.view,a),Rc(f)||ye(a)?"step":a):Bf(d.view,a);if(c.hasProjection||"arc"===c.mark)return Bf(d.view,a);a=fg(d.view,a);return ye(a)?a.step:a}function fk(c,a,d){return Pc(a,Object.assign({},{suffix:`by_${Pc(c)}`},null!=d?d:{}))}function Ck(c,a){for(const f of a){a=f.data;if(c.name&&f.hasName()&&c.name!==f.dataName)continue;
let k;const B=null==(k=c.format)?void 0:k.mesh;let K;var d=null==(K=a.format)?void 0:K.feature;if(B&&d)continue;let ia;const ta=null==(ia=c.format)?void 0:ia.feature;if((ta||d)&&ta!==d)continue;let Ka;d=null==(Ka=a.format)?void 0:Ka.mesh;if(!B&&!d||B===d)if("values"in c&&"values"in a){if(Bi(c.values,a.values))return f}else if("url"in c&&"url"in a){if(c.url===a.url)return f}else if(Xf(c)&&c.name===f.dataName)return f}return null}function gk(c,a){if(c.data||!c.parent){if(null===c.data)return c=new q({values:[]}),
a.push(c),c;const d=Ck(c.data,a);if(d)return Sg(c.data)||(d.data.format=Fb({},c.data.format,d.data.format)),!d.hasName()&&c.data.name&&(d.dataName=c.data.name),d;c=new q(c.data);a.push(c);return c}return c.parent.component.data.facetRoot?c.parent.component.data.facetRoot:c.parent.component.data.main}function oj(c){var a=gk(c,c.component.data.sources);const {outputNodes:d,outputNodeRefCounts:f}=c.component.data;var k=c.data;const B=k&&(Sg(k)||"url"in k||"values"in k)||!c.parent?new di:c.parent.component.data.ancestorParse.clone();
if(Sg(k))"sequence"in k?a=new e(a,k.sequence):"graticule"in k&&(a=new b(a,k.graticule)),B.parseNothing=!0;else{let ue;null===(null==k?void 0:null==(ue=k.format)?void 0:ue.parse)&&(B.parseNothing=!0)}var K;a=null!=(K=Uh.makeExplicit(a,c,B))?K:a;a=new Ei(a);k=c.parent&&Hi(c.parent);if((qg(c)||ni(c))&&k){var ia;a=null!=(ia=Gi.makeFromEncoding(a,c))?ia:a}if(0<c.transforms.length){ia=0;for(var ta of c.transforms){var Ka=K=void 0;if("calculate"in ta)Ka=a=new cj(a,ta),K="derived";else if("filter"in ta){Ka=
Pg(ta);var jb=void 0;Ka=a=null!=(jb=Uh.makeWithAncestors(a,{},Ka,B))?jb:a;a=new bj(a,c,ta.filter)}else if("bin"in ta)Ka=a=Gi.makeFromTransform(a,ta,c),K="number";else if("timeUnit"in ta)K="date",void 0===B.getWithExplicit(ta.field).value&&(a=new Uh(a,{[ta.field]:K}),B.set(ta.field,K,!1)),Ka=a=Rh.makeFromTransform(a,ta);else if("aggregate"in ta)Ka=a=Ci.makeFromTransform(a,ta),K="number",Lf(c)&&(a=new Ei(a));else if("lookup"in ta)Ka=a=El.make(a,c,ta,ia++),K="derived";else if("window"in ta)Ka=a=new me(a,
ta),K="number";else if("joinaggregate"in ta)Ka=a=new Tc(a,ta),K="number";else if("stack"in ta)Ka=a=rd.makeFromTransform(a,ta),K="derived";else if("fold"in ta)Ka=a=new mm(a,ta),K="derived";else if("flatten"in ta)Ka=a=new nm(a,ta),K="derived";else if("pivot"in ta)Ka=a=new tm(a,ta),K="derived";else if("sample"in ta)a=new sm(a,ta);else if("impute"in ta)Ka=a=Ek.makeFromTransform(a,ta),K="derived";else if("density"in ta)Ka=a=new om(a,ta),K="derived";else if("quantile"in ta)Ka=a=new qm(a,ta),K="derived";
else if("regression"in ta)Ka=a=new rm(a,ta),K="derived";else if("loess"in ta)Ka=a=new pm(a,ta),K="derived";else{Aa(`Ignoring an invalid transform: ${Ag(ta)}.`);continue}if(Ka&&void 0!==K){let ue;for(const Te of null!=(ue=Ka.producedFields())?ue:[])B.set(Te,K,!1)}}}ta={};if(qg(c)&&c.component.selection)for(var Qb of ce(c.component.selection)){jb=c.component.selection[Qb];for(const ue of jb.project.items)!ue.channel&&1<Y(ue.field)&&(ta[ue.field]="flatten")}Qb=vg(c);var uc;a=null!=(uc=Uh.makeWithAncestors(a,
{},Object.assign({},ta,Qb),B))?uc:a;qg(c)&&(a=fl.parseAll(a,c),a=Dl.parseAll(a,c));if(qg(c)||ni(c)){if(!k){let ue;a=null!=(ue=Gi.makeFromEncoding(a,c))?ue:a}var ld;a=null!=(ld=Rh.makeFromEncoding(a,c))?ld:a;a=cj.parseAllForSortIndex(a,c)}ld=c.getDataName(tg.Raw);uc=new uh(a,ld,tg.Raw,f);a=d[ld]=uc;if(qg(c)){if(ld=Ci.makeFromEncoding(a,c))a=ld,Lf(c)&&(a=new Ei(a));var Kc;a=null!=(Kc=Ek.makeFromEncoding(a,c))?Kc:a;var cd;a=null!=(cd=rd.makeFromEncoding(a,c))?cd:a}if(qg(c)){let ue;a=null!=(ue=Cl.make(a,
c))?ue:a}cd=c.getDataName(tg.Main);Kc=new uh(a,cd,tg.Main,f);a=d[cd]=Kc;if(qg(c)){var qd;for(var fe of Zi(null!=(qd=c.component.selection)?qd:{})){const [ue,Te]=fe;qd=c.getName(`lookup_${ue}`);c.component.data.outputNodes[qd]=Te.materialized=new uh(new bj(Kc,c,{param:ue}),qd,tg.Lookup,c.component.data.outputNodeRefCounts)}}qd=null;if(ni(c)){fe=c.getName("facet");let ue;{qd=a;const {row:Te,column:cf}=c.facet;if(Te&&cf){cd=null;for(Md of[Te,cf])if(bd(Md.sort)){const {field:Yf,op:Uf="min"}=Md.sort;qd=
cd=new Tc(qd,{joinaggregate:[{op:Uf,field:Yf,as:fk(Md,Md.sort,{forAs:!0})}],groupby:[Pc(Md)]})}var Md=cd}else Md=null}a=null!=(ue=Md)?ue:a;qd=new Di(a,c,fe,Kc.getSource());d[fe]=qd}return Object.assign({},c.component.data,{outputNodes:d,outputNodeRefCounts:f,raw:uc,main:Kc,facetRoot:qd,ancestorParse:B})}function il(c,a,d){const {encoding:f,config:k}=c;let B;const K=null!=(B=Le(f[a]))?B:Le(f[E(a)]);c=c.axis(a)||{};const {format:ia,formatType:ta}=c;if(Ld(ta))return Object.assign({},{text:ve({fieldOrDatumDef:K,
field:"datum.value",format:ia,formatType:ta,config:k})},d);if(void 0===ia&&void 0===ta&&k.customFormatTypes){if("quantitative"===Ja(K)){if(hd(K)&&"normalize"===K.stack&&k.normalizedNumberFormatType)return Object.assign({},{text:ve({fieldOrDatumDef:K,field:"datum.value",format:k.normalizedNumberFormat,formatType:k.normalizedNumberFormatType,config:k})},d);if(k.numberFormatType)return Object.assign({},{text:ve({fieldOrDatumDef:K,field:"datum.value",format:k.numberFormat,formatType:k.numberFormatType,
config:k})},d)}if("temporal"===Ja(K)&&k.timeFormatType&&ma(K)&&!K.timeUnit)return Object.assign({},{text:ve({fieldOrDatumDef:K,field:"datum.value",format:k.timeFormat,formatType:k.timeFormatType,config:k})},d)}return d}function dm(c){return oi.reduce((a,d)=>{c.component.scales[d]&&(a[d]=[fm(d,c)]);return a},{})}function Nl(c,a){if(c){if(c.length!==a.length)return;const d=c.length;for(let f=0;f<d;f++){const k=c[f],B=a[f];if(!!k!==!!B)return;if(k&&B){const K=k.getWithExplicit("orient"),ia=B.getWithExplicit("orient");
if(K.explicit&&ia.explicit&&K.value!==ia.value)return;c[f]=em(k,B)}}}else return a.map(d=>d.clone());return c}function em(c,a){for(const d of ym){const f=Zg(c.getWithExplicit(d),a.getWithExplicit(d),d,"axis",(k,B)=>{switch(d){case "title":return ua(k,B);case "gridScale":return{explicit:k.explicit,value:Ea(k.value,B.value)}}return eh(k,B,d,"axis")});c.setWithExplicit(d,f)}return c}function Sk(c,a,d,f,k){if("disable"===a)return void 0!==d;d=d||{};switch(a){case "titleAngle":case "labelAngle":return c===
($b(d.labelAngle)?d.labelAngle:pa(d.labelAngle));case "values":return!!d.values;case "encode":return!!d.encoding||!!d.labelAngle;case "title":if(c===zb(f,k))return!0}return c===d[a]}function fm(c,a){let d=a.axis(c);const f=new zm;var k=Le(a.encoding[c]);const {mark:B,config:K}=a;var ia,ta,Ka,jb=(null==(ia=d)?void 0:ia.orient)||(null==(ta=K["x"===c?"axisX":"axisY"])?void 0:ta.orient)||(null==(Ka=K.axis)?void 0:Ka.orient)||("x"===c?"bottom":"left");ta=a.getScaleComponent(c).get("type");ia=lj(c,ta,jb,
a.config);var Qb;Ka=void 0!==d?!d:Si("disable",K.style,null==(Qb=d)?void 0:Qb.style,ia).configValue;f.set("disable",Ka,void 0!==d);if(Ka)return f;d=d||{};Qb=C(k,d,c,K.style,ia);Ka=$e(d.formatType,k,ta);const uc=Me(k,k.type,d.format,d.formatType,K,!0);k={fieldOrDatumDef:k,axis:d,channel:c,model:a,scaleType:ta,orient:jb,labelAngle:Qb,format:uc,formatType:Ka,mark:B,config:K};for(const cd of ym)if(jb=cd in Ri?Ri[cd](k):Wj[cd]?d[cd]:void 0,ta=void 0!==jb,Qb=Sk(jb,cd,d,a,c),ta&&Qb)f.set(cd,jb,Qb);else{const {configValue:qd,
configFrom:fe}=Wj[cd]&&"values"!==cd?Si(cd,K.style,d.style,ia):{};Ka=void 0!==qd;ta&&!Ka?f.set(cd,jb,Qb):("vgAxisConfig"!==fe||Fm.has(cd)&&Ka||jf(qd)||$b(qd))&&f.set(cd,qd,!1)}var ld;const Kc=null!=(ld=d.encoding)?ld:{};ld=Bj.reduce((cd,qd)=>{if(!f.hasAxisPart(qd))return cd;var fe;const Md=Fa(null!=(fe=Kc[qd])?fe:{},a);fe="labels"===qd?il(a,c,Md):Md;void 0===fe||Na(fe)||(cd[qd]={update:fe});return cd},{});Na(ld)||f.set("encode",ld,!!d.encoding||void 0!==d.labelAngle);return f}function Pl(c){let {encoding:a,
size:d}=c;for(const f of oi)c=h(f),ye(d[c])&&gc(a[f])&&(delete d[c],Aa(Ye(c)));return d}function gm(c,a,d){c=rc(c);var f=Ac("orient",c,d);c.orient=hm(c.type,a,f);void 0!==f&&f!==c.orient&&Aa(`Specified orient "${c.orient}" overridden with "${f}".`);if("bar"===c.type&&c.orient&&(f=Ac("cornerRadiusEnd",c,d),void 0!==f)){const B="horizontal"===c.orient&&a.x2||"vertical"===c.orient&&a.y2?["cornerRadius"]:qk[c.orient];for(var k of B)c[k]=f;void 0!==c.cornerRadiusEnd&&delete c.cornerRadiusEnd}void 0===
Ac("opacity",c,d)&&(k=Sb([ii,bi,Aj,aj],c.type)&&!Gf(a)?.7:void 0,c.opacity=k);void 0===Ac("cursor",c,d)&&(a=a.href||c.href||Ac("href",c,d)?"pointer":c.cursor,c.cursor=a);return c}function Rl(c,a,d){({graticule:d}=d);if(d)return!1;a=Zc("filled",c,a);c=c.type;return Ea(a,c!==ii&&c!==hi&&c!==Lh)}function hm(c,a,d){switch(c){case ii:case Aj:case aj:case Kg:case ai:case fj:return}const {x:f,y:k,x2:B,y2:K}=a;switch(c){case Qh:if(ma(f)&&(Ca(f.bin)||ma(k)&&k.aggregate&&!f.aggregate))break;if(ma(k)&&(Ca(k.bin)||
ma(f)&&f.aggregate&&!k.aggregate))return"horizontal";if(K||B){if(d)return d;if(!B){if((ma(f)&&"quantitative"===f.type&&!Z(f.bin)||vc(f))&&ma(k)&&Ca(k.bin))return"horizontal";break}if(!K){if((ma(k)&&"quantitative"===k.type&&!Z(k.bin)||vc(k))&&ma(f)&&Ca(f.bin))break;return"horizontal"}}case Lh:if(!(!B||ma(f)&&Ca(f.bin)||!K||ma(k)&&Ca(k.bin)))return;case Ph:if(K){if(ma(k)&&Ca(k.bin))return"horizontal";break}else if(B)if(ma(f)&&Ca(f.bin))break;else return"horizontal";else if(c===Lh)if(f&&!k)break;else if(k&&
!f)return"horizontal";case hi:case bi:a=tc(f);const ia=tc(k);if(d)return d;if(a&&!ia)return"tick"!==c?"horizontal":"vertical";if(!a&&ia)return"tick"!==c?"vertical":"horizontal";if(!a||!ia)if(c=Dc(f)&&"temporal"===f.type,d=Dc(k)&&"temporal"===k.type,!c||d){if(!c&&d)return"horizontal";return}}return"vertical"}function ok(c,a){var d=Object,f=d.assign,k=Tf(c,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),B=bc("x",c,{defaultPos:"mid"}),K=bc("y",c,{defaultPos:"mid"}),
ia=oa("size",c),ta=oa("angle",c);c=a?{shape:{value:a}}:oa("shape",c);return f.call(d,{},k,B,K,ia,ta,c)}function im(c){if(Sb([hi,Ph,bm],c.mark)){var a=Dg(c.mark,c.encoding);if(0<a.length)return jm(c,a)}else if(c.mark===Qh&&(a=bl.some(d=>Ac(d,c.markDef,c.config)),c.stack&&!c.fieldDef("size")&&a))return Ll(c);return Rk(c)}function jm(c,a){return[{name:c.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+c.requestDataName(tg.Main),data:c.requestDataName(tg.Main),groupby:a}},encode:{update:{width:{field:{group:"width"}},
height:{field:{group:"height"}}}},marks:Rk(c,{fromPrefix:"faceted_path_"})}]}function Ll(c){const [a]=Rk(c,{fromPrefix:"stack_group_"}),d=c.scaleName(c.stack.fieldChannel),f=function(){return c.vgField(c.stack.fieldChannel,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})};var k=(Ka,jb)=>{jb=[f({prefix:"min",suffix:"start",expr:jb}),f({prefix:"max",suffix:"start",expr:jb}),f({prefix:"min",suffix:"end",expr:jb}),f({prefix:"max",suffix:"end",expr:jb})];return`${Ka}(${jb.map(Qb=>`scale('${d}',${Qb})`).join(",")})`};
let B;"x"===c.stack.fieldChannel?(k=Object.assign({},zc(a.encode.update,["y","yc","y2","height",...bl]),{x:{signal:k("min","datum")},x2:{signal:k("max","datum")},clip:{value:!0}}),B={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},a.encode.update=Object.assign({},pc(a.encode.update,["y","yc","y2"]),{height:{field:{group:"height"}}})):(k=Object.assign({},zc(a.encode.update,["x","xc","x2","width"]),{y:{signal:k("min","datum")},y2:{signal:k("max","datum")},clip:{value:!0}}),B={y:{field:{group:"y"},
mult:-1},width:{field:{group:"width"}}},a.encode.update=Object.assign({},pc(a.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}}));for(var K of bl){var ia=Zc(K,c.markDef,c.config);a.encode.update[K]?(k[K]=a.encode.update[K],delete a.encode.update[K]):ia&&(k[K]=Tb(ia));ia&&(a.encode.update[K]={value:0})}K=[];var ta;if(0<(null==(ta=c.stack.groupbyChannels)?void 0:ta.length))for(const Ka of c.stack.groupbyChannels){ta=c.fieldDef(Ka);(ia=Pc(ta))&&K.push(ia);let jb,Qb;((null==(jb=ta)?0:jb.bin)||
(null==(Qb=ta)?0:Qb.timeUnit))&&K.push(Pc(ta,{binSuffix:"end"}))}k="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((Ka,jb)=>{if(a.encode.update[jb])return Object.assign({},Ka,{[jb]:a.encode.update[jb]});const Qb=Zc(jb,c.markDef,c.config);return void 0!==Qb?Object.assign({},Ka,{[jb]:Tb(Qb)}):Ka},k);k.stroke&&(k.strokeForeground={value:!0},k.strokeOffset={value:0});return[{type:"group",from:{facet:{data:c.requestDataName(tg.Main),
name:"stack_group_"+c.requestDataName(tg.Main),groupby:K,aggregate:{fields:[f({suffix:"start"}),f({suffix:"start"}),f({suffix:"end"}),f({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:k},marks:[{type:"group",encode:{update:B},marks:[a]}]}]}function km(c){const {encoding:a,stack:d,mark:f,markDef:k,config:B}=c;var K=a.order;if(!(!R.isArray(K)&&yd(K)&&jc(K.value)||!K&&jc(Ac("order",k,B)))){if((R.isArray(K)||ma(K))&&!d)return Ha(K,{expr:"datum"});if(Ra(f)){const ia="horizontal"===k.orient?
"y":"x",ta=a[ia];if(ma(ta)){K=ta.sort;if(R.isArray(K))return{field:Pc(ta,{prefix:ia,suffix:"sort_index",expr:"datum"})};if(bd(K))return{field:Pc({aggregate:Gf(c.encoding)?K.op:void 0,field:K.field},{expr:"datum"})};if(null!=K&&K.encoding)return c=c.fieldDef(K.encoding),{field:Pc(c,{expr:"datum"}),order:K.order};if(null!==K){let Ka;return{field:Pc(ta,{binSuffix:(null==(Ka=c.stack)?0:Ka.impute)?"mid":void 0,expr:"datum"})}}}}}}function Rk(c){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
{fromPrefix:""};const {mark:d,markDef:f,encoding:k,config:B}=c;var K=f.clip;var ia=c.getScaleComponent("x");var ta=c.getScaleComponent("y");ia=(null==ia?0:ia.get("selectionExtent"))||(null==ta?0:ta.get("selectionExtent"))?!0:void 0;ta=c.component.projection;K=Ea(K,ia,ta&&!ta.isFit?!0:void 0);ia=Ic(f);ta=k.key;const Ka=km(c);var jb;if(c.component.selection){for(var Qb=jb=ce(c.component.selection).length,uc=c.parent;uc&&0===Qb;)Qb=ce(uc.component.selection).length,uc=uc.parent;jb=Qb?{interactive:0<
jb||"geoshape"===c.mark||!!c.encoding.tooltip}:null}else jb=null;Qb=Ac("aria",f,B);uc=Fl[d].postEncodingTransform?Fl[d].postEncodingTransform(c):null;return[Object.assign({},{name:c.getName("marks"),type:Fl[d].vgMark},K?{clip:!0}:{},ia?{style:ia}:{},ta?{key:ta.field}:{},Ka?{sort:Ka}:{},jb?jb:{},!1===Qb?{aria:Qb}:{},{from:{data:a.fromPrefix+c.requestDataName(tg.Main)},encode:{update:Fl[d].encodeEntry(c)}},uc?{transform:uc}:{})]}function cl(c,a,d,f,k){if("facet"in c)return new Gl(c,a,d,k);if("layer"in
c)return new Am(c,a,d,f,k);if(Qe(c))return new Bm(c,a,d,f,k);if("vconcat"in c||"hconcat"in c||"concat"in c)return new Gm(c,a,d,k);throw Error($a(c));}function kl(c,a){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};let f=3<arguments.length?arguments[3]:void 0;const k=c.config?Qg(c.config):void 0;d=[].concat(c.assembleSelectionData([]),Mk(c.component.data,d));const B=c.assembleProjections(),K=c.assembleTitle(),ia=c.assembleGroupStyle(),ta=c.assembleGroupEncodeEntry(!0);let Ka=c.assembleLayoutSignals();
Ka=Ka.filter(uc=>"width"!==uc.name&&"height"!==uc.name||void 0===uc.value?!0:(a[uc.name]=+uc.value,!1));var jb=Object.assign({},a);const Qb=a.params;jb=(delete jb.params,jb);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},c.description?{description:c.description}:{},jb,K?{title:K}:{},ia?{style:ia}:{},ta?{encode:{update:ta}}:{},{data:d},0<B.length?{projections:B}:{},c.assembleGroup([...Ka,...c.assembleSelectionTopLevelSignals([]),...ph(Qb)]),k?{config:k}:{},f?{usermeta:f}:
{})}var ul={exports:{}};(function(c){var a=function(){function d(Ka,jb){return null!=jb&&Ka instanceof jb}function f(Ka,jb,Qb,uc,ld){function Kc(Md,ue){if(null===Md)return null;if(0===ue||"object"!=typeof Md)return Md;if(d(Md,K))var Te=new K;else if(d(Md,ia))Te=new ia;else if(d(Md,ta))Te=new ta(function(Nf,mh){Md.then(function(Rf){Nf(Kc(Rf,ue-1))},function(Rf){mh(Kc(Rf,ue-1))})});else if(f.__isArray(Md))Te=[];else if(f.__isRegExp(Md))Te=new RegExp(Md.source,B(Md)),Md.lastIndex&&(Te.lastIndex=Md.lastIndex);
else if(f.__isDate(Md))Te=new Date(Md.getTime());else{if(fe&&t.isBuffer(Md))return Te=t.allocUnsafe?t.allocUnsafe(Md.length):new t(Md.length),Md.copy(Te),Te;if(d(Md,Error))Te=Object.create(Md);else if("undefined"==typeof uc){var cf=Object.getPrototypeOf(Md);Te=Object.create(cf)}else Te=Object.create(uc),cf=uc}if(jb){var Yf=cd.indexOf(Md);if(-1!=Yf)return qd[Yf];cd.push(Md);qd.push(Te)}d(Md,K)&&Md.forEach(function(Nf,mh){mh=Kc(mh,ue-1);Nf=Kc(Nf,ue-1);Te.set(mh,Nf)});d(Md,ia)&&Md.forEach(function(Nf){Nf=
Kc(Nf,ue-1);Te.add(Nf)});for(var Uf in Md){var ug;cf&&(ug=Object.getOwnPropertyDescriptor(cf,Uf));ug&&null==ug.set||(Te[Uf]=Kc(Md[Uf],ue-1))}if(Object.getOwnPropertySymbols)for(Yf=Object.getOwnPropertySymbols(Md),Uf=0;Uf<Yf.length;Uf++)if(ug=Yf[Uf],cf=Object.getOwnPropertyDescriptor(Md,ug),!cf||cf.enumerable||ld)Te[ug]=Kc(Md[ug],ue-1),cf.enumerable||Object.defineProperty(Te,ug,{enumerable:!1});if(ld)for(Yf=Object.getOwnPropertyNames(Md),Uf=0;Uf<Yf.length;Uf++)ug=Yf[Uf],cf=Object.getOwnPropertyDescriptor(Md,
ug),cf&&cf.enumerable||(Te[ug]=Kc(Md[ug],ue-1),Object.defineProperty(Te,ug,{enumerable:!1}));return Te}"object"===typeof jb&&(Qb=jb.depth,uc=jb.prototype,ld=jb.includeNonEnumerable,jb=jb.circular);var cd=[],qd=[],fe="undefined"!=typeof t;"undefined"==typeof jb&&(jb=!0);"undefined"==typeof Qb&&(Qb=Infinity);return Kc(Ka,Qb)}function k(Ka){return Object.prototype.toString.call(Ka)}function B(Ka){var jb="";Ka.global&&(jb+="g");Ka.ignoreCase&&(jb+="i");Ka.multiline&&(jb+="m");return jb}try{var K=Map}catch(Ka){K=
function(){}}try{var ia=Set}catch(Ka){ia=function(){}}try{var ta=Promise}catch(Ka){ta=function(){}}f.clonePrototype=function(Ka){if(null===Ka)return null;var jb=function(){};jb.prototype=Ka;return new jb};f.__objToStr=k;f.__isDate=function(Ka){return"object"===typeof Ka&&"[object Date]"===k(Ka)};f.__isArray=function(Ka){return"object"===typeof Ka&&"[object Array]"===k(Ka)};f.__isRegExp=function(Ka){return"object"===typeof Ka&&"[object RegExp]"===k(Ka)};f.__getRegExpFlags=B;return f}();c.exports&&
(c.exports=a)})(ul);var Ol=hb(ul.exports),lm=hb(function f(a,d){if(a===d)return!0;if(a&&d&&"object"==typeof a&&"object"==typeof d){if(a.constructor!==d.constructor)return!1;var k;if(Array.isArray(a)){var B=a.length;if(B!=d.length)return!1;for(k=B;0!==k--;)if(!f(a[k],d[k]))return!1;return!0}if(a.constructor===RegExp)return a.source===d.source&&a.flags===d.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===d.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===d.toString();
var K=Object.keys(a);B=K.length;if(B!==Object.keys(d).length)return!1;for(k=B;0!==k--;)if(!Object.prototype.hasOwnProperty.call(d,K[k]))return!1;for(k=B;0!==k--;)if(B=K[k],!f(a[B],d[B]))return!1;return!0}return a!==a&&d!==d}),Tk=hb(function(a,d){d||(d={});"function"===typeof d&&(d={cmp:d});var f="boolean"===typeof d.cycles?d.cycles:!1,k=d.cmp&&function(K){return function(ia){return function(ta,Ka){return K({key:ta,value:ia[ta]},{key:Ka,value:ia[Ka]})}}}(d.cmp),B=[];return function ta(ia){ia&&ia.toJSON&&
"function"===typeof ia.toJSON&&(ia=ia.toJSON());if(void 0!==ia){if("number"==typeof ia)return isFinite(ia)?""+ia:"null";if("object"!==typeof ia)return JSON.stringify(ia);var Ka;if(Array.isArray(ia)){var jb="[";for(Ka=0;Ka<ia.length;Ka++)Ka&&(jb+=","),jb+=ta(ia[Ka])||"null";return jb+"]"}if(null===ia)return"null";if(-1!==B.indexOf(ia)){if(f)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var Qb=B.push(ia)-1,uc=Object.keys(ia).sort(k&&k(ia));jb="";for(Ka=
0;Ka<uc.length;Ka++){var ld=uc[Ka],Kc=ta(ia[ld]);Kc&&(jb&&(jb+=","),jb+=JSON.stringify(ld)+":"+Kc)}B.splice(Qb,1);return"{"+jb+"}"}}(a)});const Bi=lm,zf=Ol;Set.prototype.toJSON=function(){return`Set(${[...this].map(a=>Tk(a)).join(",")})`};const Ag=Tk,ce=Object.keys,ih=Object.values,Zi=Object.entries;let Nk=42;const kk={theta:1,theta2:1,radius:1,radius2:1},Oj={longitude:1,longitude2:1,latitude:1,latitude2:1},tj=ce(Oj),Ok=Object.assign({},{x:1,y:1,x2:1,y2:1},kk,Oj,{xOffset:1,yOffset:1,color:1,fill:1,
stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),uj={row:1,column:1,facet:1},Jh=ce(uj),Sj=Object.assign({},Ok,uj),dl=ce(Sj);var hk=Object.assign({},Sj),vl=(delete hk.order,delete hk.detail,delete hk.tooltip,hk),Vh=Object.assign({},vl);const Sl=(delete Vh.row,delete Vh.column,delete Vh.facet,Vh),vj="x2 y2 latitude2 longitude2 theta2 radius2".split(" "),Pk=ce(Ok);var nh=Object.assign({},
Ok);const Qj=(delete nh.x,delete nh.y,delete nh.x2,delete nh.y2,delete nh.xOffset,delete nh.yOffset,delete nh.latitude,delete nh.longitude,delete nh.latitude2,delete nh.longitude2,delete nh.theta,delete nh.theta2,delete nh.radius,delete nh.radius2,nh),wj=ce(Qj),Rj={x:1,y:1},oi=ce(Rj),nk={theta:1,radius:1},jl=ce(nk),Yi={xOffset:1,yOffset:1};var ui=Object.assign({},Qj);const Qk=(delete ui.text,delete ui.tooltip,delete ui.href,delete ui.url,delete ui.description,delete ui.detail,delete ui.key,delete ui.order,
ui),wl=ce(Qk),mi=Object.assign({},Rj,nk,Yi,Qk),Ej=ce(mi),xl={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"};var yl=Object.assign({},xl);const ak=(delete yl.geoshape,yl),Ml={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,
variancep:1},mk={count:1,min:1,max:1},Tl=new Set(["count","valid","missing","distinct"]),Ul=new Set(["count","sum","distinct","valid","missing"]),Wk=new Set("mean average median q1 q3 min max".split(" ")),Xk=ce({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,
shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),al={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},bl=["cornerRadius","cornerRadiusTopLeft",
"cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],el=R.logger(R.Warn);let Ak=el;const pj="january february march april may june july august september october november december".split(" "),vi=pj.map(a=>a.substr(0,3)),xj="sunday monday tuesday wednesday thursday friday saturday".split(" "),Ii=xj.map(a=>a.substr(0,3)),lk={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Yk=ce(lk),$l={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},
Kh={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},$i={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",
quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},Ji={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},wh=new Set(["linear","log","pow","sqrt","symlog"]),Jg=new Set([...wh,"time","utc"]),$h=new Set(["quantile","quantize","threshold"]),Ki=new Set([...Jg,...$h,"sequential","identity"]),pk=new Set(["ordinal","bin-ordinal","point","band"]);new Set(["time","utc"]);var Li=Object.assign({},
{type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1});const yj=(delete Li.type,delete Li.domain,delete Li.range,delete Li.rangeMax,delete Li.rangeMin,delete Li.scheme,Li),zj=ce(yj),xh={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",
square:"square",geoshape:"geoshape"},Uj=xh.arc,Ph=xh.area,Qh=xh.bar,fj=xh.image,hi=xh.line,ii=xh.point,ai=xh.rect,Lh=xh.rule,Kg=xh.text,bi=xh.tick,bm=xh.trail,Aj=xh.circle,aj=xh.square,Mi=xh.geoshape,Vj=new Set(ce(xh)),gj="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),Ni=ce({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),Uk=ce({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,
point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),qk={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},hj={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},Vk=(a,d)=>{switch(d.fieldTitle){case "plain":return a.field;case "functional":{const {aggregate:f,bin:k,timeUnit:B,field:K}=a;va(f)?a=`${K} for argmax(${f.argmax})`:I(f)?a=`${K} for argmin(${f.argmin})`:
(a=Od(B),a=(a=f||(null==a?void 0:a.unit)||(null==a?void 0:a.maxbins)&&"timeunit"||Z(k)&&"bin")?`${a.toUpperCase()}(${K})`:K)}return a;default:return Ge(a,d)}};let Qi=Vk;const Th={compatible:!0},Cj={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},
labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,
tickWidth:{part:"ticks",vgProp:"strokeWidth"}},Bj=["domain","grid","labels","ticks","title"],Yg={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",
labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",
tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},rk={orient:1,aria:1,
bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,
maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},Wj=Object.assign({},rk,{style:1,labelExpr:1,
encoding:1}),tk=ce({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});class xi{constructor(a,d){this.name=a;this.run=d}hasMatchingType(a){return Qe(a)?(a=a.mark,(eb(a)?a.type:a)===this.name):!1}}const wg=new xi("boxplot",pf),oh=new xi("errorbar",Ne),zh=new xi("errorband",
Wf),Yj={};kg("boxplot",pf,["box","median","outliers","rule","ticks"]);kg("errorbar",Ne,["ticks","rule"]);kg("errorband",Wf,["band","borders"]);const Xj=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],Dj={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",
titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},zl={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},sk=ce(Dj),Vl=ce(zl),ml=ce({header:1,headerRow:1,headerColumn:1,headerFacet:1}),nl="size shape fill stroke strokeDash strokeWidth opacity".split(" "),
Wl=ce({align:1,bounds:1,center:1,columns:1,spacing:1}),Xl={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},
trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0},projection:{},legend:{gradientHorizontalMaxLength:200,
gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{point:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] \x3e window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] \x3e window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,
stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20},normalizedNumberFormat:".0%"},ch="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),vk={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},pl={blue:ch[0],orange:ch[1],red:ch[2],teal:ch[3],green:ch[4],yellow:ch[5],purple:ch[6],pink:ch[7],brown:ch[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",
gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},ol=[...Uk,...tk,...ml,"background","padding","legend","lineBreak","scale","style","title","view"],Yl=new Set(["view",...Vj]),Zl="color fontSize background padding facet concat numberFormat numberFormatType normalizedNumberFormat normalizedNumberFormatType timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),
wk=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});class Eh{map(a,d){return"facet"in a?this.mapFacet(a,d):"repeat"in a?this.mapRepeat(a,d):"hconcat"in a?this.mapHConcat(a,d):"vconcat"in a?this.mapVConcat(a,d):"concat"in a?this.mapConcat(a,d):this.mapLayerOrUnit(a,
d)}mapLayerOrUnit(a,d){if("layer"in a)return this.mapLayer(a,d);if(Qe(a))return this.mapUnit(a,d);throw Error($a(a));}mapLayer(a,d){return Object.assign({},a,{layer:a.layer.map(f=>this.mapLayerOrUnit(f,d))})}mapHConcat(a,d){return Object.assign({},a,{hconcat:a.hconcat.map(f=>this.map(f,d))})}mapVConcat(a,d){return Object.assign({},a,{vconcat:a.vconcat.map(f=>this.map(f,d))})}mapConcat(a,d){var f=Object.assign({},a);a=a.concat;f=(delete f.concat,f);return Object.assign({},f,{concat:a.map(k=>this.map(k,
d))})}mapFacet(a,d){return Object.assign({},a,{spec:this.map(a.spec,d)})}mapRepeat(a,d){return Object.assign({},a,{spec:this.map(a.spec,d)})}}const am={zero:1,center:1,normalize:1},Pe=new Set([Uj,Qh,Ph,Lh,ii,Aj,aj,hi,Kg,bi]),ql=new Set([Qh,Ph,Uj]);class Ih{constructor(){H(this,"name","path-overlay")}hasMatchingType(a,d){if(Qe(a)){const {mark:f,encoding:k}=a;a=eb(f)?f:{type:f};switch(a.type){case "line":case "rule":case "trail":return!!rh(a,d[a.type],k);case "area":return!!rh(a,d[a.type],k)||!!Hh(a,
d[a.type])}}return!1}run(a,d,f){var {config:k}=d,B=Object.assign({},a),K=a.params,ia=a.projection,ta=a.mark,Ka=a.name;a=a.encoding;B=(delete B.params,delete B.projection,delete B.mark,delete B.name,delete B.encoding,B);a=Hf(a,k);ta=eb(ta)?ta:{type:ta};const jb=rh(ta,k[ta.type],a),Qb="area"===ta.type&&Hh(ta,k[ta.type]);var uc=Object,ld=uc.assign;var Kc=Object.assign({},"area"===ta.type&&void 0===ta.opacity&&void 0===ta.fillOpacity?{opacity:.7}:{},ta);Kc=Object.assign({},Kc);Kc=(delete Kc.point,delete Kc.line,
Kc);Kc=1<ce(Kc).length?Kc:Kc.type;K=[ld.call(uc,{},{name:Ka},K?{params:K}:{},{mark:Kc,encoding:pc(a,["shape"])})];Ka=Wh(ta,a);uc=a;if(Ka){const {fieldChannel:cd,offset:qd}=Ka;uc=Object.assign({},a,{[cd]:Object.assign({},a[cd],qd?{stack:qd}:{})})}uc=pc(uc,["y2","x2"]);Qb&&K.push(Object.assign({},ia?{projection:ia}:{},{mark:Object.assign({},{type:"line"},zc(ta,["clip","interpolate","tension","tooltip"]),Qb),encoding:uc}));jb&&K.push(Object.assign({},ia?{projection:ia}:{},{mark:Object.assign({},{type:"point",
opacity:1,filled:!0},zc(ta,["clip","tooltip"]),jb),encoding:uc}));ia=Object.assign({},B,{layer:K});B=Object;K=B.assign;for(const cd of["line","area","rule","trail"])k[cd]&&(k=Object.assign({},k,{[cd]:pc(k[cd],["point","line"])}));return f(ia,K.call(B,{},d,{config:k}))}}class qi{constructor(){H(this,"name","RuleForRangedLine")}hasMatchingType(a){if(Qe(a)){const {encoding:d,mark:f}=a;if("line"===f||eb(f)&&"line"===f.type)for(const k of vj)if(a=z(k),a=d[a],d[k]&&(ma(a)&&!Ca(a.bin)||ib(a)))return!0}return!1}run(a,
d,f){const {encoding:k,mark:B}=a;var K=!!k.x2;Aa(`Line mark is for continuous lines and thus cannot be used with ${K&&k.y2?"x2 and y2":K?"x2":"y2"}. We will use the rule mark (line segments) instead.`);return f(Object.assign({},a,{mark:R.isObject(B)?Object.assign({},B,{type:"rule"}):"rule"}),d)}}class cm extends Eh{constructor(){super(...arguments);H(this,"nonFacetUnitNormalizers",[wg,oh,zh,new Ih,new qi])}map(a,d){if(Qe(a)){const f=Cf(a.encoding,"row"),k=Cf(a.encoding,"column"),B=Cf(a.encoding,"facet");
if(f||k||B)return this.mapFacetedUnit(a,d)}return super.map(a,d)}mapUnit(a,d){const {parentEncoding:f,parentProjection:k}=d;var B=Xg(a.encoding,d.repeater);a=Object.assign({},a,a.name?{name:[d.repeaterPrefix,a.name].filter(K=>K).join("_")}:{},B?{encoding:B}:{});if(f||k)return this.mapUnitWithParentEncodingOrProjection(a,d);B=this.mapLayerOrUnit.bind(this);for(const K of this.nonFacetUnitNormalizers)if(K.hasMatchingType(a,d.config))return K.run(a,d,B);return a}mapRepeat(a,d){return!R.isArray(a.repeat)&&
a.repeat.layer?this.mapLayerRepeat(a,d):this.mapNonLayerRepeat(a,d)}mapLayerRepeat(a,d){var f=Object.assign({},a);const k=a.repeat,B=a.spec;f=(delete f.repeat,delete f.spec,f);const {row:K,column:ia,layer:ta}=k,{repeater:Ka={},repeaterPrefix:jb=""}=d;return K||ia?this.mapRepeat(Object.assign({},a,{repeat:Object.assign({},K?{row:K}:{},ia?{column:ia}:{}),spec:{repeat:{layer:ta},spec:B}}),d):Object.assign({},f,{layer:ta.map(Qb=>{var uc=Object.assign({},Ka,{layer:Qb});Qb=`${(B.name?`${B.name}_`:"")+jb}child__layer_${Ia(Qb)}`;
uc=this.mapLayerOrUnit(B,Object.assign({},d,{repeater:uc,repeaterPrefix:Qb}));uc.name=Qb;return uc})})}mapNonLayerRepeat(a,d){var f=a,k=Object.assign({},f);const B=f.repeat,K=f.spec;f=f.data;k=(delete k.repeat,delete k.spec,delete k.data,k);!R.isArray(B)&&a.columns&&(a=pc(a,["columns"]),Aa(ed("repeat")));const ia=[],{repeater:ta={},repeaterPrefix:Ka=""}=d,jb=!R.isArray(B)&&B.row||[ta?ta.row:null],Qb=!R.isArray(B)&&B.column||[ta?ta.column:null];var uc=R.isArray(B)&&B||[ta?ta.repeat:null];for(const cd of uc)for(const qd of jb)for(const fe of Qb){var ld=
{repeat:cd,row:qd,column:fe,layer:ta.layer};uc=(K.name?`${K.name}_`:"")+Ka+"child__"+(R.isArray(B)?`${Ia(cd)}`:(B.row?`row_${Ia(qd)}`:"")+(B.column?`column_${Ia(fe)}`:""));ld=this.map(K,Object.assign({},d,{repeater:ld,repeaterPrefix:uc}));ld.name=uc;ia.push(pc(ld,["data"]))}a=R.isArray(B)?a.columns:B.column?B.column.length:1;let Kc;return Object.assign({},{data:null!=(Kc=K.data)?Kc:f,align:"all"},k,{columns:a,concat:ia})}mapFacet(a,d){const {facet:f}=a;Jd(f)&&a.columns&&(a=pc(a,["columns"]),Aa(ed("facet")));
return super.mapFacet(a,d)}mapUnitWithParentEncodingOrProjection(a,d){const {encoding:f,projection:k}=a,{parentEncoding:B,parentProjection:K,config:ia}=d,ta=Fg({parentProjection:K,projection:k});d=yi({parentEncoding:B,encoding:Xg(f,d.repeater)});return this.mapUnit(Object.assign({},a,ta?{projection:ta}:{},d?{encoding:d}:{}),{config:ia})}mapFacetedUnit(a,d){var f=a.encoding,k=Object.assign({},f),B=f.row;const K=f.column;f=f.facet;const ia=(delete k.row,delete k.column,delete k.facet,k);var ta=Object.assign({},
a);k=a.mark;const Ka=a.width,jb=a.projection,Qb=a.height,uc=a.view;a=a.params;ta=(delete ta.mark,delete ta.width,delete ta.projection,delete ta.height,delete ta.view,delete ta.params,delete ta.encoding,ta);const {facetMapping:ld,layout:Kc}=this.getFacetMappingAndLayout({row:B,column:K,facet:f},d);B=Xg(ia,d.repeater);return this.mapFacet(Object.assign({},ta,Kc,{facet:ld,spec:Object.assign({},Ka?{width:Ka}:{},Qb?{height:Qb}:{},uc?{view:uc}:{},jb?{projection:jb}:{},{mark:k,encoding:B},a?{params:a}:{})}),
d)}getFacetMappingAndLayout(a,d){const {row:f,column:k,facet:B}=a;if(f||k){B&&(d=[...(f?["row"]:[]),...(k?["column"]:[])],d=`Facet encoding dropped as ${d.join(" and ")} ${1<d.length?"are":"is"} also specified.`,Aa(d));d={};const Qb={};for(var K of["row","column"]){const uc=a[K];if(uc){var ia=Object.assign({},uc);ia=(delete ia.align,delete ia.center,delete ia.spacing,delete ia.columns,ia);d[K]=ia;for(var ta of["align","center","spacing"])if(void 0!==uc[ta]){var Ka=void 0,jb=void 0;null!=(Ka=Qb)[jb=
ta]||(Ka[jb]={});Qb[ta][K]=uc[ta]}}}return{facetMapping:d,layout:Qb}}jb=Object.assign({},B);a=B.align;K=B.center;ta=B.spacing;Ka=B.columns;jb=(delete jb.align,delete jb.center,delete jb.spacing,delete jb.columns,jb);jb=(d=d.repeater)?Jd(jb)?th(jb,d):Bh(jb,d):jb;return{facetMapping:jb,layout:Object.assign({},a?{align:a}:{},K?{center:K}:{},ta?{spacing:ta}:{},Ka?{columns:Ka}:{})}}mapLayer(a,d){var f=Object.assign({},d),k=d.parentEncoding;d=d.parentProjection;f=(delete f.parentEncoding,delete f.parentProjection,
f);var B=Object.assign({},a);const K=a.encoding,ia=a.projection;B=(delete B.encoding,delete B.projection,B);k=Object.assign({},f,{parentEncoding:yi({parentEncoding:k,encoding:K,layer:!0}),parentProjection:Fg({parentProjection:d,projection:ia})});return super.mapLayer(Object.assign({},B,a.name?{name:[k.repeaterPrefix,a.name].filter(ta=>ta).join("_")}:{}),k)}}class Bk extends Eh{map(a,d){null!=d.emptySelections||(d.emptySelections={});null!=d.selectionPredicates||(d.selectionPredicates={});a=Xh(a,d);
return super.map(a,d)}mapLayerOrUnit(a,d){a=Xh(a,d);if(a.encoding){const f={};for(const k of Zi(a.encoding)){const [B,K]=k;f[B]=Rg(K,d)}a=Object.assign({},a,{encoding:f})}return super.mapLayerOrUnit(a,d)}mapUnit(a,d){var f=Object.assign({},a);const k=a.selection;f=(delete f.selection,f);return k?Object.assign({},f,{params:Zi(k).map(B=>{let [K,ia]=B;var ta=Object.assign({},ia);B=ia.init;const Ka=ia.bind,jb=ia.empty;ta=(delete ta.init,delete ta.bind,delete ta.empty,ta);"single"===ta.type?(ta.type="point",
ta.toggle=!1):"multi"===ta.type&&(ta.type="point");d.emptySelections[K]="none"!==jb;let Qb;for(const uc of ih(null!=(Qb=d.selectionPredicates[K])?Qb:{}))uc.empty="none"!==jb;return{name:K,value:B,select:ta,bind:Ka}})}):a}}class dk extends Eh{map(a,d){var f;const k=null!=(f=d.selections)?f:[];if(a.params&&!Qe(a)){f=[];for(const B of a.params)fh(B)?k.push(B):f.push(B);a.params=f}d.selections=k;return super.map(a,d)}mapUnit(a,d){const f=d.selections;if(!f||!f.length)return a;let k;const B=(null!=(k=
d.path)?k:[]).concat(a.name);d=[];for(const K of f)if(K.views&&K.views.length)for(const ia of K.views)(R.isString(ia)&&(ia===a.name||B.includes(ia))||R.isArray(ia)&&ia.map(ta=>B.indexOf(ta)).every((ta,Ka,jb)=>-1!==ta&&(0===Ka||ta>jb[Ka-1])))&&d.push(K);else d.push(K);d.length&&(a.params=d);return a}}for(const a of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const d=dk.prototype[a];dk.prototype[a]=function(f,k){var B=d,K=B.call;let ia;var ta=f.name?Object.assign({},k,{path:(null!=
(ia=k.path)?ia:[]).concat(f.name)}):k;return K.call(B,this,f,ta)}}const li=new cm,$f=new Bk,Ah=new dk,lh=["background","padding"];class Tg{constructor(){let a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.explicit=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.implicit=a}clone(){return new Tg(zf(this.explicit),zf(this.implicit))}combine(){return Object.assign({},this.explicit,this.implicit)}get(a){return Ea(this.explicit[a],this.implicit[a])}getWithExplicit(a){return void 0!==
this.explicit[a]?{explicit:!0,value:this.explicit[a]}:void 0!==this.implicit[a]?{explicit:!1,value:this.implicit[a]}:{explicit:!1,value:void 0}}setWithExplicit(a,d){let {value:f,explicit:k}=d;void 0!==f&&this.set(a,f,k)}set(a,d,f){delete this[f?"implicit":"explicit"][a];this[f?"explicit":"implicit"][a]=d;return this}copyKeyFromSplit(a,d){let {explicit:f,implicit:k}=d;void 0!==f[a]?this.set(a,f[a],!0):void 0!==k[a]&&this.set(a,k[a],!1)}copyKeyFromObject(a,d){void 0!==d[a]&&this.set(a,d[a],!0)}copyAll(a){for(const d of ce(a.combine())){const f=
a.getWithExplicit(d);this.setWithExplicit(d,f)}}}class di extends Tg{constructor(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super(a,d);this.explicit=a;this.implicit=d;this.parseNothing=f}clone(){const a=super.clone();a.parseNothing=this.parseNothing;return a}}let tg=function(a){a[a.Raw=0]="Raw";a[a.Main=1]="Main";a[a.Row=2]="Row";a[a.Column=3]="Column";a[a.Lookup=
4]="Lookup";return a}({});class yf{constructor(a,d){this.debugName=d;H(this,"_children",[]);H(this,"_parent",null);H(this,"_hash",void 0);a&&(this.parent=a)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(a){(this._parent=a)&&a.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(a,d){this._children.includes(a)?Aa("Attempt to add the same child twice."):void 0!==d?this._children.splice(d,0,a):this._children.push(a)}removeChild(a){a=
this._children.indexOf(a);this._children.splice(a,1);return a}remove(){let a=this._parent.removeChild(this);for(const d of this._children)d._parent=this._parent,this._parent.addChild(d,a++)}insertAsParentOf(a){const d=a.parent;d.removeChild(this);this.parent=d;a.parent=this}swapWithParent(){const a=this._parent,d=a.parent;for(var f of this._children)f.parent=a;this._children=[];a.removeChild(this);f=a.parent.removeChild(a);this._parent=d;d.addChild(this,f);a.parent=this}}class uh extends yf{clone(){const a=
new this.constructor;a.debugName=`clone_${this.debugName}`;a._source=this._source;a._name=`clone_${this._name}`;a.type=this.type;a.refCounts=this.refCounts;a.refCounts[a._name]=0;return a}constructor(a,d,f,k){super(a,d);this.type=f;this.refCounts=k;H(this,"_source",void 0);H(this,"_name",void 0);this._source=this._name=d;!this.refCounts||this._name in this.refCounts||(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===this._hash&&(this._hash=
`Output ${Ga()}`);return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(a){this._source=a}}class Rh extends yf{clone(){return new Rh(null,zf(this.formula))}constructor(a,d){super(a);this.formula=d}static makeFromEncoding(a,d){d=d.reduceFieldDef((f,k)=>{const {field:B,timeUnit:K}=k;K&&(k=Pc(k,{forAs:!0}),f[Ab({as:k,field:B,timeUnit:K})]={as:k,field:B,timeUnit:K});return f},{});return Na(d)?null:new Rh(a,d)}static makeFromTransform(a,
d){var f=Object.assign({},d);d=Object.assign({},f);f=f.timeUnit;d=(delete d.timeUnit,d);f=Od(f);d=Object.assign({},d,{timeUnit:f});return new Rh(a,{[Ab(d)]:d})}merge(a){this.formula=Object.assign({},this.formula);for(const d in a.formula)this.formula[d]||(this.formula[d]=a.formula[d]);for(const d of a.children)a.removeChild(d),d.parent=this;a.remove()}removeFormulas(a){const d={};for(const f of Zi(this.formula)){const [k,B]=f;a.has(B.as)||(d[k]=B)}this.formula=d}producedFields(){return new Set(ih(this.formula).map(a=>
a.as))}dependentFields(){return new Set(ih(this.formula).map(a=>a.field))}hash(){return`TimeUnit ${Ab(this.formula)}`}assemble(){const a=[];for(const k of ih(this.formula)){const {field:B,as:K,timeUnit:ia}=k;var d=Od(ia),f=Object.assign({},d);const ta=d.unit;d=d.utc;f=(delete f.unit,delete f.utc,f);a.push(Object.assign({},{field:Vb(B),type:"timeunit"},ta?{units:Nc(ta)}:{},d?{timezone:"utc"}:{},f,{as:[K,`${K}_end`]}))}return a}}class zk{constructor(){H(this,"hasChannel",void 0);H(this,"hasField",void 0);
H(this,"hasSelectionId",void 0);H(this,"timeUnit",void 0);H(this,"items",void 0);for(var a=arguments.length,d=Array(a),f=0;f<a;f++)d[f]=arguments[f];this.items=d;this.hasChannel={};this.hasField={};this.hasSelectionId=!1}}const ri={defined:a=>"interval"===a.type&&"global"===a.resolve&&a.bind&&"scales"===a.bind,parse:(a,d)=>{const f=d.scales=[];for(const B of d.project.items){var k=B.channel;if(!mi[k])continue;const K=(k=a.getScaleComponent(k))?k.get("type"):void 0;k&&Bc(K)?(k.set("selectionExtent",
{param:d.name,field:B.field},!0),f.push(B)):Aa("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(a,d,f)=>{const k=d.scales.filter(K=>0===f.filter(ia=>ia.name===K.signals.data).length);if(!a.parent||T(a)||0===k.length)return f;a=f.filter(K=>K.name===d.name)[0];let B=a.update;if(0<=B.indexOf("vlSelectionResolve"))a.update=`{${k.map(K=>`${R.stringValue(Vb(K.field))}: ${K.signals.data}`).join(", ")}}`;else{for(const K of k){const ia=`${R.stringValue(Vb(K.field))}: ${K.signals.data}`;
B.includes(ia)||(B=`${B.substring(0,B.length-1)}, ${ia}}`)}a.update=B}return f.concat(k.map(K=>({name:K.signals.data})))},signals:(a,d,f)=>{if(a.parent&&!T(a))for(const k of d.scales)a=f.filter(B=>B.name===k.signals.data)[0],a.push="outer",delete a.value,delete a.update;return f}},ck={left:"x",center:"xc",right:"x2"},Zh={top:"y",middle:"yc",bottom:"y2"},Zk=new Set(["aria","width","height"]),ij={defined:a=>"point"===a.type&&a.nearest,parse:(a,d)=>{if(d.events)for(const f of d.events)f.markname=a.getName("voronoi")},
marks:(a,d,f)=>{const {x:k,y:B}=d.project.hasChannel;d=a.mark;if(Ra(d))return Aa(`The "nearest" transform is not supported for ${d} marks.`),f;d={name:a.getName("voronoi"),type:"path",interactive:!0,from:{data:a.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},ja(a,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:k||!B?"datum.datum.x || 0":"0"},y:{expr:B||!k?"datum.datum.y || 0":"0"},size:[a.getSizeSignalRef("width"),
a.getSizeSignalRef("height")]}]};let K=0,ia=!1;f.forEach((ta,Ka)=>{let jb;ta=null!=(jb=ta.name)?jb:"";ta===a.component.mark[0].name?K=Ka:0<=ta.indexOf("voronoi")&&(ia=!0)});ia||f.splice(K+1,0,d);return f}},zi={defined:a=>"point"===a.type&&"global"===a.resolve&&a.bind&&"scales"!==a.bind&&!pg(a.bind),parse:(a,d,f)=>ah(d,f),topLevelSignals:(a,d,f)=>{const k=d.name;a=d.project;const B=d.bind,K=d.init&&d.init[0],ia=ij.defined(d)?"(item().isVoronoi ? datum.datum : datum)":"datum";a.items.forEach((ta,Ka)=>
{const jb=Ia(`${k}_${ta.field}`);if(!f.filter(Qb=>Qb.name===jb).length){let Qb,uc;f.unshift(Object.assign({},{name:jb},K?{init:qf(K[Ka])}:{value:null},{on:d.events?[{events:d.events,update:`datum && item().mark.marktype !== 'group' ? ${ia}[${R.stringValue(ta.field)}] : null`}]:[],bind:null!=(uc=null!=(Qb=B[ta.field])?Qb:B[ta.channel])?uc:B}))}});return f},signals:(a,d,f)=>{const k=d.name;var B=d.project;a=f.filter(ia=>ia.name===k+"_tuple")[0];d=k+"_tuple_fields";B=B.items.map(ia=>Ia(`${k}_${ia.field}`));
const K=B.map(ia=>`${ia} !== null`).join(" \x26\x26 ");B.length&&(a.update=`${K} ? {fields: ${d}, values: [${B.join(", ")}]} : null`);delete a.value;delete a.on;return f}},Zj={defined:a=>"point"===a.type&&!!a.toggle,signals:(a,d,f)=>f.concat({name:d.name+"_toggle",value:!1,on:[{events:d.events,update:d.toggle}]}),modifyExpr:(a,d)=>{const f=d.name+"_tuple",k=d.name+"_toggle";return`${k} ? null : ${f}, `+("global"===d.resolve?`${k} ? null : true, `:`${k} ? null : {unit: ${If(a)}}, `)+`${k} ? ${f} : null`}},
uk={defined:a=>{const d="global"===a.resolve&&a.bind&&pg(a.bind);a=1===a.project.items.length&&"_vgsid_"!==a.project.items[0].field;d&&!a&&Aa("Legend bindings are only supported for selections over an individual field or encoding channel.");return d&&a},parse:(a,d,f)=>{a=zf(f);a.select=R.isString(a.select)?{type:a.select,toggle:d.toggle}:Object.assign({},a.select,{toggle:d.toggle});ah(d,a);if(R.isObject(f.select)&&(f.select.on||f.select.clear))for(const k of d.events){let B;k.filter=R.array(null!=
(B=k.filter)?B:[]);k.filter.includes('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')||k.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}f=Lg(d.bind)?d.bind.legend:"click";f=R.isString(f)?R.parseSelector(f,"view"):R.array(f);d.bind={legend:{merge:f}}},topLevelSignals:(a,d,f)=>{a=d.name;const k=Lg(d.bind)&&d.bind.legend,B=ia=>ta=>{ta=zf(ta);ta.markname=ia;return ta};for(const ia of d.project.items){if(!ia.hasLegend)continue;var K=`${Ia(ia.field)}_legend`;
const ta=`${a}_${K}`;0===f.filter(Ka=>Ka.name===ta).length&&(K=k.merge.map(B(`${K}_symbols`)).concat(k.merge.map(B(`${K}_labels`))).concat(k.merge.map(B(`${K}_entries`))),f.unshift(Object.assign({},{name:ta},d.init?{}:{value:null},{on:[{events:K,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:k.merge,update:`!event.item || !datum ? null : ${ta}`,force:!0}]})))}return f},signals:(a,d,f)=>{const k=d.name;var B=d.project;a=f.find(ia=>ia.name===k+
"_tuple");var K=k+"_tuple_fields";B=B.items.filter(ia=>ia.hasLegend).map(ia=>Ia(`${k}_${Ia(ia.field)}_legend`));K=`${B.map(ia=>`${ia} !== null`).join(" \x26\x26 ")} ? {fields: ${K}, values: [${B.join(", ")}]} : null`;d.events&&0<B.length?a.on.push({events:B.map(ia=>({signal:ia})),update:K}):0<B.length&&(a.update=K,delete a.value,delete a.on);a=f.find(ia=>ia.name===k+"_toggle");K=Lg(d.bind)&&d.bind.legend;a&&(d.events?a.on.push(Object.assign({},a.on[0],{events:K})):a.on[0].events=K);return f}},pi=
[{defined:a=>"point"===a.type,signals:(a,d,f)=>{const k=d.name,B=k+"_tuple_fields";var K=d.project,ia,ta=ih(null!=(ia=a.component.selection)?ia:{}).reduce((Ka,jb)=>"interval"===jb.type?Ka.concat(jb.name+"_brush"):Ka,[]).map(Ka=>`indexof(item().mark.name, '${Ka}') < 0`).join(" \x26\x26 ");ia=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${ta?` && ${ta}`:""}`;ta=`unit: ${If(a)}, `;d.project.hasSelectionId?ta+=`${"_vgsid_"}: ${"(item().isVoronoi ? datum.datum : datum)"}[${R.stringValue("_vgsid_")}]`:
(K=K.items.map(Ka=>{let jb;return(null==(jb=a.fieldDef(Ka.channel))?0:jb.bin)?`[${"(item().isVoronoi ? datum.datum : datum)"}[${R.stringValue(a.vgField(Ka.channel,{}))}], `+`${"(item().isVoronoi ? datum.datum : datum)"}[${R.stringValue(a.vgField(Ka.channel,{binSuffix:"end"}))}]]`:`${"(item().isVoronoi ? datum.datum : datum)"}[${R.stringValue(Ka.field)}]`}).join(", "),ta+=`fields: ${B}, values: [${K}]`);d=d.events;return f.concat([{name:k+"_tuple",on:d?[{events:d,update:`${ia} ? {${ta}} : null`,force:!0}]:
[]}])}},{defined:a=>"interval"===a.type,parse:(a,d,f)=>{a.hasProjection&&(a=Object.assign({},R.isObject(f.select)?f.select:{}),a.fields=["_vgsid_"],a.encodings||(a.encodings=f.value?ce(f.value):["longitude","latitude"]),f.select=Object.assign({},{type:"interval"},a));if(d.translate&&!ri.defined(d)){f=`!event.item || event.item.mark.name !== ${R.stringValue(d.name+"_brush")}`;for(const k of d.events){if(!k.between){Aa(`${k} is not an ordered event stream for interval selections.`);continue}let B,K;
d=R.array(null!=(K=(B=k.between[0]).filter)?K:B.filter=[]);0>d.indexOf(f)&&d.push(f)}}},signals:(a,d,f)=>{var k=d.name;const B=k+"_tuple";var K=ih(d.project.hasChannel).filter(Qb=>"x"===Qb.channel||"y"===Qb.channel);const ia=d.init?d.init[0]:null;f.push(...K.reduce((Qb,uc)=>Qb.concat(ka(a,d,uc,ia&&ia[uc.index])),[]));if(a.hasProjection){var ta=R.stringValue(a.projectionName());const Qb=a.projectionName()+"_center",{x:uc,y:ld}=d.project.hasChannel;var Ka=uc&&uc.signals.visual;const Kc=ld&&ld.signals.visual;
var jb=uc?ia&&ia[uc.index]:`${Qb}[0]`;const cd=ld?ia&&ia[ld.index]:`${Qb}[1]`;Ka="["+`[${Ka?Ka+"[0]":"0"}, ${Kc?Kc+"[0]":"0"}],`+`[${Ka?Ka+"[1]":a.getSizeSignalRef("width").signal}, `+`${Kc?Kc+"[1]":a.getSizeSignalRef("height").signal}]`+"]";ia&&(f.unshift({name:k+"_init",init:`[scale(${ta}, [${uc?jb[0]:jb}, ${ld?cd[0]:cd}]), `+`scale(${ta}, [${uc?jb[1]:jb}, ${ld?cd[1]:cd}])]`}),uc&&ld||f.find(qd=>qd.name===Qb)||f.unshift({name:Qb,update:`invert(${ta}, [${a.getSizeSignalRef("width").signal}/2, ${a.getSizeSignalRef("height").signal}/2])`}));
k=`intersect(${Ka}, {markname: ${R.stringValue(a.getName("marks"))}}, unit.mark)`;ta=`{unit: ${If(a)}}`;k=`vlSelectionTuples(${k}, ${ta})`;K=K.map(qd=>qd.signals.visual);return f.concat({name:B,on:[{events:[...(K.length?[{signal:K.join(" || ")}]:[]),...(ia?[{signal:"geo_interval_init_tick"}]:[])],update:k}]})}ri.defined(d)||(ta=k+"_scale_trigger",jb=K.map(Qb=>{var uc=Qb.channel;const {data:ld,visual:Kc}=Qb.signals;Qb=R.stringValue(a.scaleName(uc));uc=a.getScaleComponent(uc).get("type");uc=Bc(uc)?
"+":"";return`(!isArray(${ld}) || `+`(${uc}invert(${Qb}, ${Kc})[0] === ${uc}${ld}[0] && `+`${uc}invert(${Qb}, ${Kc})[1] === ${uc}${ld}[1]))`}),jb.length&&f.push({name:ta,value:{},on:[{events:K.map(Qb=>({scale:a.scaleName(Qb.channel)})),update:jb.join(" \x26\x26 ")+` ? ${ta} : {}`}]}));K=K.map(Qb=>Qb.signals.data);k=`unit: ${If(a)}, fields: ${k+"_tuple_fields"}, values`;return f.concat(Object.assign({},{name:B},ia?{init:`{${k}: ${qf(ia)}}`}:{},K.length?{on:[{events:[{signal:K.join(" || ")}],update:`${K.join(" \x26\x26 ")} ? {${k}: [${K}]} : null`}]}:
{}))},topLevelSignals:(a,d,f)=>{qg(a)&&a.hasProjection&&d.init&&(f.filter(k=>"geo_interval_init_tick"===k.name).length||f.unshift({name:"geo_interval_init_tick",value:null,on:[{events:"timer{1}",update:"geo_interval_init_tick \x3d\x3d\x3d null ? {} : geo_interval_init_tick"}]}));return f},marks:(a,d,f)=>{const k=d.name,{x:B,y:K}=d.project.hasChannel,ia=null==B?void 0:B.signals.visual,ta=null==K?void 0:K.signals.visual;var Ka=`data(${R.stringValue(d.name+"_store")})`;if(ri.defined(d)||!B&&!K)return f;
const jb={x:void 0!==B?{signal:`${ia}[0]`}:{value:0},y:void 0!==K?{signal:`${ta}[0]`}:{value:0},x2:void 0!==B?{signal:`${ia}[1]`}:{field:{group:"width"}},y2:void 0!==K?{signal:`${ta}[1]`}:{field:{group:"height"}}};if("global"===d.resolve)for(var Qb of ce(jb))jb[Qb]=[Object.assign({},{test:`${Ka}.length && ${Ka}[0].unit === ${If(a)}`},jb[Qb]),{value:0}];Qb=d.mark;Ka=Object.assign({},Qb);a=Qb.fill;d=Qb.fillOpacity;Qb=Qb.cursor;const uc=(delete Ka.fill,delete Ka.fillOpacity,delete Ka.cursor,Ka);Ka=ce(uc).reduce((ld,
Kc)=>{ld[Kc]=[{test:[void 0!==B&&`${ia}[0] !== ${ia}[1]`,void 0!==K&&`${ta}[0] !== ${ta}[1]`].filter(cd=>cd).join(" \x26\x26 "),value:uc[Kc]},{value:null}];return ld},{});return[{name:`${k+"_brush"}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:a},fillOpacity:{value:d}},update:jb}},...f,{name:k+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},Qb?{cursor:{value:Qb}}:{},{fill:{value:"transparent"}}),update:Object.assign({},jb,Ka)}}]}},{defined:()=>!0,parse:(a,d,f)=>{const k=d.name;var B;
const K=null!=(B=d.project)?B:d.project=new zk,ia={};B={};const ta=new Set,Ka=(Md,ue)=>{Md="visual"===ue?Md.channel:Md.field;let Te=Ia(`${k}_${Md}`);for(let cf=1;ta.has(Te);cf++)Te=Ia(`${k}_${Md}_${cf}`);ta.add(Te);return{[ue]:Te}},jb=d.type,Qb=a.config.selection[jb],uc=void 0!==f.value?R.array(f.value):null;let {fields:ld,encodings:Kc}=R.isObject(f.select)?f.select:{};if(!ld&&!Kc&&uc)for(var cd of uc)if(R.isObject(cd))for(const Md of ce(cd))if(Sl[Md])(Kc||(Kc=[])).push(Md);else if("interval"===jb)Aa('Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.'),
Kc=Qb.encodings;else{let ue;(null!=(ue=ld)?ue:ld=[]).push(Md)}ld||Kc||(Kc=Qb.encodings,"fields"in Qb&&(ld=Qb.fields));var qd;for(const Md of null!=(qd=Kc)?qd:[])(qd=a.fieldDef(Md))?(f=qd.field,qd.aggregate?Aa(`Cannot project a selection on encoding channel "${Md}" as it uses an aggregate function ("${qd.aggregate}").`):f?(qd.timeUnit&&(f=a.vgField(Md),cd={timeUnit:qd.timeUnit,as:f,field:qd.field},B[Ab(cd)]=cd),ia[f]||(qd="interval"===jb&&mi[Md]&&Bc(a.getScaleComponent(Md).get("type"))?"R":qd.bin?
"R-RE":"E",qd={field:f,channel:Md,type:qd,index:K.items.length},qd.signals=Object.assign({},Ka(qd,"data"),Ka(qd,"visual")),K.items.push(ia[f]=qd),K.hasField[f]=ia[f],K.hasSelectionId=K.hasSelectionId||"_vgsid_"===f,Md in Oj?(qd.geoChannel=Md,qd.channel=N(Md),K.hasChannel[qd.channel]=ia[f]):K.hasChannel[Md]=ia[f])):Aa(kc(Md))):Aa(kc(Md));let fe;for(const Md of null!=(fe=ld)?fe:[])K.hasField[Md]||(a={type:"E",field:Md,index:K.items.length},a.signals=Object.assign({},Ka(a,"data")),K.items.push(a),K.hasField[Md]=
a,K.hasSelectionId=K.hasSelectionId||"_vgsid_"===Md);uc&&(d.init=uc.map(Md=>K.items.map(ue=>R.isObject(Md)?void 0!==Md[ue.geoChannel||ue.channel]?Md[ue.geoChannel||ue.channel]:Md[ue.field]:Md)));Na(B)||(K.timeUnit=new Rh(null,B))},signals:(a,d,f)=>{const k=d.name+"_tuple_fields";return 0<f.filter(B=>B.name===k).length||d.project.hasSelectionId?f:f.concat({name:k,value:d.project.items.map($g)})}},Zj,zi,ri,uk,{defined:a=>void 0!==a.clear&&!1!==a.clear,parse:(a,d)=>{d.clear&&(d.clear=R.isString(d.clear)?
R.parseSelector(d.clear,"view"):d.clear)},topLevelSignals:(a,d,f)=>{if(zi.defined(d))for(const k of d.project.items)a=f.findIndex(B=>B.name===Ia(`${d.name}_${k.field}`)),-1!==a&&f[a].on.push({events:d.clear,update:"null"});return f},signals:(a,d,f)=>{function k(B,K){-1!==B&&f[B].on&&f[B].on.push({events:d.clear,update:K})}if("interval"===d.type)for(const B of d.project.items)a=f.findIndex(K=>K.name===B.signals.visual),k(a,"[0, 0]"),-1===a&&(a=f.findIndex(K=>K.name===B.signals.data),k(a,"null"));else a=
f.findIndex(B=>B.name===d.name+"_tuple"),k(a,"null"),Zj.defined(d)&&(a=f.findIndex(B=>B.name===d.name+"_toggle"),k(a,"false"));return f}},{defined:a=>"interval"===a.type&&a.translate,signals:(a,d,f)=>{const k=d.name,B=ri.defined(d),K=k+"_translate_anchor",{x:ia,y:ta}=d.project.hasChannel;let Ka=R.parseSelector(d.translate,"scope");B||(Ka=Ka.map(jb=>(jb.between[0].markname=k+"_brush",jb)));f.push({name:K,value:{},on:[{events:Ka.map(jb=>jb.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==ia?`, extent_x: ${B?
w(a,"x"):`slice(${ia.signals.visual})`}`:"")+(void 0!==ta?`, extent_y: ${B?w(a,"y"):`slice(${ta.signals.visual})`}`:"")+"}"}]},{name:k+"_translate_delta",value:{},on:[{events:Ka,update:`{x: ${K}.x - x(unit), y: ${K}.y - y(unit)}`}]});void 0!==ia&&mf(a,d,ia,"width",f);void 0!==ta&&mf(a,d,ta,"height",f);return f}},{defined:a=>"interval"===a.type&&a.zoom,signals:(a,d,f)=>{const k=d.name,B=ri.defined(d),K=k+"_zoom_delta",{x:ia,y:ta}=d.project.hasChannel,Ka=R.stringValue(a.scaleName("x")),jb=R.stringValue(a.scaleName("y"));
let Qb=R.parseSelector(d.zoom,"scope");B||(Qb=Qb.map(uc=>(uc.markname=k+"_brush",uc)));f.push({name:k+"_zoom_anchor",on:[{events:Qb,update:B?"{"+[Ka?`x: invert(${Ka}, x(unit))`:"",jb?`y: invert(${jb}, y(unit))`:""].filter(uc=>uc).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:K,on:[{events:Qb,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==ia&&Qf(a,d,ia,"width",f);void 0!==ta&&Qf(a,d,ta,"height",f);return f}},ij];class bj extends yf{clone(){return new bj(null,
this.model,zf(this.filter))}constructor(a,d,f){super(a);this.model=d;this.filter=f;H(this,"expr",void 0);H(this,"_dependentFields",void 0);this.expr=Sh(this.model,this.filter,this);this._dependentFields=og(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}const Ri={scale:a=>{let {model:d,channel:f}=a;return d.scaleName(f)},format:a=>{({format:a}=a);return a},formatType:a=>{({formatType:a}=
a);return a},grid:a=>{let {fieldOrDatumDef:d,axis:f,scaleType:k}=a,B;return null!=(B=f.grid)?B:!Jc(k)&&ma(d)&&!Z(null==d?void 0:d.bin)&&!Ca(null==d?void 0:d.bin)},gridScale:a=>{let {model:d,channel:f}=a;a="x"===f?"y":"x";a=d.getScaleComponent(a)?d.scaleName(a):void 0;return a},labelAlign:a=>{let {axis:d,labelAngle:f,orient:k,channel:B}=a;return d.labelAlign||Oa(f,k,B)},labelAngle:a=>{({labelAngle:a}=a);return a},labelBaseline:a=>{let {axis:d,labelAngle:f,orient:k,channel:B}=a;return d.labelBaseline||
ha(f,k,B)},labelFlush:a=>{let {axis:d,fieldOrDatumDef:f,channel:k}=a;null==(a=d.labelFlush)&&(a="x"===k&&Sb(["quantitative","temporal"],f.type)?!0:void 0);return a},labelOverlap:a=>{let {axis:d,fieldOrDatumDef:f,scaleType:k}=a;if(null==(a=d.labelOverlap)){a=f.type;var B=ma(f)&&!!f.timeUnit,K=ma(f)?f.sort:void 0;a=B&&!R.isObject(K)||"nominal"!==a&&"ordinal"!==a?"log"===k||"symlog"===k?"greedy":!0:void 0}return a},orient:a=>{({orient:a}=a);return a},tickCount:a=>{let {channel:d,model:f,axis:k,fieldOrDatumDef:B,
scaleType:K}=a;a=(a="x"===d?"width":"y"===d?"height":void 0)?f.getSizeSignalRef(a):void 0;let ia;if(null!=(ia=k.tickCount))var ta=ia;else a:{let {fieldOrDatumDef:Ka,scaleType:jb,size:Qb,values:uc}={fieldOrDatumDef:B,scaleType:K,size:a,values:k.values};if(uc||Jc(jb)||"log"===jb)ta=void 0;else{if(ma(Ka)){if(Z(Ka.bin)){ta={signal:`ceil(${Qb.signal}/10)`};break a}if(Ka.timeUnit&&Sb(["month","hours","day","quarter"],null==(ta=Od(Ka.timeUnit))?void 0:ta.unit)){ta=void 0;break a}}ta={signal:`ceil(${Qb.signal}/40)`}}}return ta},
tickMinStep:function(a){let {format:d,fieldOrDatumDef:f}=a;if("d"===d)return 1;if(ma(f)&&({timeUnit:a}=f,a&&(a=De(a))))return{signal:a}},title:a=>{let {axis:d,model:f,channel:k}=a;if(void 0!==d.title)return d.title;a=zb(f,k);if(void 0!==a)return a;a=f.typedFieldDef(k);const B=f.fieldDef("x"===k?"x2":"y2");return gb(a?[Zd(a)]:[],ma(B)?[Zd(B)]:[])},values:a=>{let {axis:d,fieldOrDatumDef:f}=a;a=d.values;a=R.isArray(a)?Vd(f,a):$b(a)?a:void 0;return a},zindex:a=>{let {axis:d,fieldOrDatumDef:f,mark:k}=
a;null==(a=d.zindex)&&(a="rect"===k&&Ee(f)?1:0);return a}};class cj extends yf{clone(){return new cj(null,zf(this.transform))}constructor(a,d){super(a);this.transform=d;H(this,"_dependentFields",void 0);this._dependentFields=og(this.transform.calculate)}static parseAllForSortIndex(a,d){d.forEachFieldDef((f,k)=>{if(Yc(f)&&Gc(f.sort)){const {field:K,timeUnit:ia}=f;var B=f.sort;B=B.map((ta,Ka)=>`${Ec({field:K,timeUnit:ia,equal:ta})} ? ${Ka} : `).join("")+B.length;a=new cj(a,{calculate:B,as:Db(f,k,{forAs:!0})})}});
return a}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${Ab(this.transform)}`}}const jj=["row","column"],bk=["header","footer"],xk={column:{start:0,end:1},row:{start:1,end:0}},yk=Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,
gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,
tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),sl=ce(yk);class Al extends Tg{}const hl={symbols:function(a,d){let {fieldOrDatumDef:f,model:k,channel:B,legendCmpt:K,legendType:ia}=
d;if("symbol"===ia){var {markDef:ta,encoding:Ka,config:jb,mark:Qb}=k;d=ta.filled&&"trail"!==Qb;var uc=Object,ld=uc.assign,Kc={};for(var cd of gj){const cf=Zc(cd,k.markDef,k.config);void 0!==cf&&(Kc[cd]=Tb(cf))}cd=ld.call(uc,{},Kc,Va(k,{filled:d}));var qd;uc=null!=(qd=K.get("symbolOpacity"))?qd:jb.legend.symbolOpacity;var fe;qd=null!=(fe=K.get("symbolFillColor"))?fe:jb.legend.symbolFillColor;var Md;fe=null!=(Md=K.get("symbolStrokeColor"))?Md:jb.legend.symbolStrokeColor;var ue;Md=void 0===uc?null!=
(ue=Mb(Ka.opacity))?ue:ta.opacity:void 0;if(cd.fill)if("fill"===B||d&&"color"===B)delete cd.fill;else if(cd.fill.field)if(qd)delete cd.fill;else{let cf;cd.fill=Tb(null!=(cf=jb.legend.symbolBaseFillColor)?cf:"black");cd.fillOpacity=Tb(null!=Md?Md:1)}else if(R.isArray(cd.fill)){var Te;let cf,Yf;if(ue=null!=(Yf=null!=(cf=Nb(null!=(Te=Ka.fill)?Te:Ka.color))?cf:ta.fill)?Yf:d&&ta.color)cd.fill=Tb(ue)}cd.stroke&&("stroke"===B||!d&&"color"===B?delete cd.stroke:cd.stroke.field||fe?delete cd.stroke:R.isArray(cd.stroke)&&
(Te=Ea(Nb(Ka.stroke||Ka.color),ta.stroke,d?ta.color:void 0))&&(cd.stroke={value:Te}));"opacity"!==B&&((Te=ma(f)&&Dd(k,K,f))?cd.opacity=[Object.assign({},{test:Te},Tb(null!=Md?Md:1)),Tb(jb.legend.unselectedOpacity)]:Md&&(cd.opacity=Tb(Md)));cd=Object.assign({},cd,a);return Na(cd)?void 0:cd}},gradient:function(a,d){let {model:f,legendType:k,legendCmpt:B}=d;if("gradient"===k){var {config:K,markDef:ia,encoding:ta}=f;d={};var Ka,jb=void 0===(null!=(Ka=B.get("gradientOpacity"))?Ka:K.legend.gradientOpacity)?
Mb(ta.opacity)||ia.opacity:void 0;jb&&(d.opacity=Tb(jb));d=Object.assign({},d,a);return Na(d)?void 0:d}},labels:function(a,d){let {fieldOrDatumDef:f,model:k,channel:B,legendCmpt:K}=d;var ia=k.legend(B)||{};d=k.config;var ta=ma(f)?Dd(k,K,f):void 0;ta=ta?[{test:ta,value:1},{value:d.legend.unselectedOpacity}]:void 0;const {format:Ka,formatType:jb}=ia;ia=void 0;Ld(jb)?ia=ve({fieldOrDatumDef:f,field:"datum.value",format:Ka,formatType:jb,config:d}):void 0===Ka&&void 0===jb&&d.customFormatTypes&&("quantitative"===
f.type&&d.numberFormatType?ia=ve({fieldOrDatumDef:f,field:"datum.value",format:d.numberFormat,formatType:d.numberFormatType,config:d}):"temporal"===f.type&&d.timeFormatType&&ma(f)&&void 0===f.timeUnit&&(ia=ve({fieldOrDatumDef:f,field:"datum.value",format:d.timeFormat,formatType:d.timeFormatType,config:d})));a=Object.assign({},ta?{opacity:ta}:{},ia?{text:ia}:{},a);return Na(a)?void 0:a},entries:function(a,d){({legendCmpt:d}=d);let f;return(null==(f=d.get("selections"))?0:f.length)?Object.assign({},
a,{fill:{value:"transparent"}}):a}},Hk={direction:a=>{({direction:a}=a);return a},format:a=>{let {fieldOrDatumDef:d,legend:f,config:k}=a;const {format:B,formatType:K}=f;return Me(d,d.type,B,K,k,!1)},formatType:a=>{let {legend:d,fieldOrDatumDef:f,scaleType:k}=a;({formatType:a}=d);return $e(a,f,k)},gradientLength:a=>{const {legend:d,legendConfig:f}=a;let k,B;if(null!=(B=null!=(k=d.gradientLength)?k:f.gradientLength))a=B;else{{let {legendConfig:K,model:ia,direction:ta,orient:Ka,scaleType:jb}=a;const {gradientHorizontalMaxLength:Qb,
gradientHorizontalMinLength:uc,gradientVerticalMaxLength:ld,gradientVerticalMinLength:Kc}=K;a=Jg.has(jb)?"horizontal"===ta?"top"===Ka||"bottom"===Ka?gd(ia,"width",uc,Qb):uc:gd(ia,"height",Kc,ld):void 0}}return a},labelOverlap:a=>{let {legend:d,legendConfig:f,scaleType:k}=a;var B;B=null!=(a=null!=(B=d.labelOverlap)?B:f.labelOverlap)?a:Sb(["quantile","threshold","log","symlog"],k)?"greedy":void 0;return B},symbolType:a=>{let {legend:d,markDef:f,channel:k,encoding:B}=a;if(null!=(a=d.symbolType))var K=
a;else a:{a=f.type;var ia=f.shape;if("shape"!==k){const ta=null!=(K=Nb(B.shape))?K:ia;if(ta){K=ta;break a}}switch(a){case "bar":case "rect":case "image":case "square":K="square";break a;case "line":case "trail":case "rule":K="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":K="circle";break a}K=void 0}return K},title:a=>{let {fieldOrDatumDef:d,config:f}=a;return Ae(d,f,{allowDisabling:!0})},type:a=>{let {legendType:d,scaleType:f,channel:k}=
a;if(S(k)&&Jg.has(f)){if("gradient"===d)return}else if("symbol"===d)return;return d},values:a=>{let {fieldOrDatumDef:d,legend:f}=a;a=f.values;a=R.isArray(a)?Vd(d,a):$b(a)?a:void 0;return a}},Il="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");class Bl extends Tg{constructor(a,d,f,k){super(Object.assign({},d),{name:a});this.specifiedProjection=d;this.size=f;this.data=k;H(this,"merged",!1)}get isFit(){return!!this.data}}
class Gi extends yf{clone(){return new Gi(null,zf(this.bins))}constructor(a,d){super(a);this.bins=d}static makeFromEncoding(a,d){const f=d.reduceFieldDef((k,B,K)=>{if(Dc(B)&&Z(B.bin)){const {key:uc,binComponent:ld}=Gh(B,B.bin,d);var ia=Object,ta=ia.assign,Ka=k[uc];var jb=d.config;if(hf(B,K)){var Qb;let Kc;const cd=qg(d)?null!=(Kc=null!=(Qb=d.axis(K))?Qb:d.legend(K))?Kc:{}:{};K=Pc(B,{expr:"datum"});Qb=Pc(B,{expr:"datum",binSuffix:"end"});B={formulaAs:Pc(B,{binSuffix:"range",forAs:!0}),formula:Fc(K,
Qb,cd.format,cd.formatType,jb)}}else B={};k[uc]=ta.call(ia,{},ld,Ka,B)}return k},{});return Na(f)?null:new Gi(a,f)}static makeFromTransform(a,d,f){const {key:k,binComponent:B}=Gh(d,d.bin,f);return new Gi(a,{[k]:B})}merge(a,d){for(const f of ce(a.bins))f in this.bins?(d(a.bins[f].signal,this.bins[f].signal),this.bins[f].as=Hb([...this.bins[f].as,...a.bins[f].as],Ab)):this.bins[f]=a.bins[f];for(const f of a.children)a.removeChild(f),f.parent=this;a.remove()}producedFields(){return new Set(ih(this.bins).map(a=>
a.as).flat(2))}dependentFields(){return new Set(ih(this.bins).map(a=>a.field))}hash(){return`Bin ${Ab(this.bins)}`}assemble(){return ih(this.bins).flatMap(a=>{const d=[],[f,...k]=a.as;var B=a.bin,K=Object.assign({},B);B=B.extent;K=(delete K.extent,K);K=Object.assign({},{type:"bin",field:Vb(a.field),as:f,signal:a.signal},Ya(B)?{extent:null}:{extent:B},a.span?{span:{signal:`span(${a.span})`}}:{},K);!B&&a.extentSignal&&(d.push({type:"extent",field:Vb(a.field),signal:a.extentSignal}),K.extent={signal:a.extentSignal});
d.push(K);for(const ia of k)for(B=0;2>B;B++)d.push({type:"formula",expr:Pc({field:f[B]},{expr:"datum"}),as:ia[B]});a.formula&&d.push({type:"formula",expr:a.formula,as:a.formulaAs});return d})}}class Ci extends yf{clone(){return new Ci(null,new Set(this.dimensions),zf(this.measures))}constructor(a,d,f){super(a);this.dimensions=d;this.measures=f}get groupBy(){return this.dimensions}static makeFromEncoding(a,d){let f=!1;d.forEachFieldDef(K=>{K.aggregate&&(f=!0)});const k={},B=new Set;if(!f)return null;
d.forEachFieldDef((K,ia)=>{const {aggregate:ta,field:Ka}=K;if(ta)if("count"===ta)null!=k["*"]||(k["*"]={}),k["*"].count=new Set([Pc(K,{forAs:!0})]);else{if(I(ta)||va(ta)){K=I(ta)?"argmin":"argmax";var jb=ta[K];null!=k[jb]||(k[jb]={});k[jb][K]=new Set([Pc({op:K,field:jb},{forAs:!0})])}else null!=k[Ka]||(k[Ka]={}),k[Ka][ta]=new Set([Pc(K,{forAs:!0})]);mi[ia]&&"unaggregated"===d.scaleDomain(ia)&&(null!=k[Ka]||(k[Ka]={}),k[Ka].min=new Set([Pc({field:Ka,aggregate:"min"},{forAs:!0})]),k[Ka].max=new Set([Pc({field:Ka,
aggregate:"max"},{forAs:!0})]))}else{const Qb=qg(d)?d.encoding[E(ia)]:void 0;Dc(K)&&qg(d)&&Q(K,Qb,d.markDef,d.config)?(B.add(Pc(K,{})),B.add(Pc(K,{suffix:"end"})),K.bin&&hf(K,ia)&&B.add(Pc(K,{binSuffix:"range"}))):ia in Oj?(ia=N(ia),B.add(d.getName(ia))):B.add(Pc(K));if(ia=Yc(K))ia=null==(jb=K.scale)?void 0:jb.range,ia=R.isObject(ia)&&"field"in ia;ia&&B.add(K.scale.range.field)}});return 0===B.size+ce(k).length?null:new Ci(a,B,k)}static makeFromTransform(a,d){const f=new Set,k={};for(const K of d.aggregate){const {op:ia,
field:ta,as:Ka}=K;if(ia)if("count"===ia){let jb;null!=(jb=k)["*"]||(jb["*"]={});k["*"].count=new Set([Ka?Ka:Pc(K,{forAs:!0})])}else{let jb,Qb;null!=(jb=k)[Qb=ta]||(jb[Qb]={});k[ta][ia]=new Set([Ka?Ka:Pc(K,{forAs:!0})])}}let B;for(const K of null!=(B=d.groupby)?B:[])f.add(K);return 0===f.size+ce(k).length?null:new Ci(a,f,k)}merge(a){if(Bb(this.dimensions,a.dimensions)){var d=this.measures;a=a.measures;for(const f of ce(a)){const k=a[f];for(const B of ce(k))if(f in d){let K;d[f][B]=new Set([...(null!=
(K=d[f][B])?K:[]),...k[B]])}else d[f]={[B]:k[B]}}return!0}fb("different dimensions, cannot merge");return!1}addDimensions(a){a.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...ce(this.measures)])}producedFields(){const a=new Set;for(const d of ce(this.measures))for(const f of ce(this.measures[d])){const k=this.measures[d][f];0===k.size?a.add(`${f}_${d}`):k.forEach(a.add,a)}return a}hash(){return`Aggregate ${Ab({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const a=
[],d=[],f=[];for(const k of ce(this.measures))for(const B of ce(this.measures[k]))for(const K of this.measures[k][B])f.push(K),a.push(B),d.push("*"===k?null:Vb(k));return{type:"aggregate",groupby:[...this.dimensions].map(Vb),ops:a,fields:d,as:f}}}class Di extends yf{constructor(a,d,f,k){super(a);this.model=d;this.name=f;this.data=k;H(this,"column",void 0);H(this,"row",void 0);H(this,"facet",void 0);H(this,"childModel",void 0);for(const B of Jh)if(a=d.facet[B]){const {bin:K,sort:ia}=a;this[B]=Object.assign({},
{name:d.getName(`${B}_domain`),fields:[Pc(a),...(Z(K)?[Pc(a,{binSuffix:"end"})]:[])]},bd(ia)?{sortField:ia}:R.isArray(ia)?{sortIndexField:Db(a,B)}:{})}this.childModel=d.child}hash(){let a="Facet";for(const d of Jh)this[d]&&(a+=` ${d.charAt(0)}:${Ab(this[d])}`);return a}get fields(){const a=[];for(const d of Jh){let f;(null==(f=this[d])?0:f.fields)&&a.push(...this[d].fields)}return a}dependentFields(){const a=new Set(this.fields);for(const d of Jh)this[d]&&(this[d].sortField&&a.add(this[d].sortField.field),
this[d].sortIndexField&&a.add(this[d].sortIndexField));return a}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const a={};for(const k of oi){var d=this.childModel.component.scales[k];if(d&&!d.merged){var f=d.get("type");d=d.get("range");Jc(f)&&Rc(d)&&(f=Tj(this.childModel,k),(f=Fk(f))?a[k]=f:Aa(ec(k)))}}return a}assembleRowColumnHeaderData(a,d,f){const k={row:"y",column:"x",facet:void 0}[a],B=[],K=[],ia=[];k&&f&&f[k]&&(d?(B.push(`distinct_${f[k]}`),
K.push("max")):(B.push(f[k]),K.push("distinct")),ia.push(`distinct_${f[k]}`));const {sortField:ta,sortIndexField:Ka}=this[a];if(ta){const {op:jb="min",field:Qb}=ta;B.push(Qb);K.push(jb);ia.push(Pc(ta,{forAs:!0}))}else Ka&&(B.push(Ka),K.push("max"),ia.push(Ka));return{name:this[a].name,source:null!=d?d:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[a].fields},B.length?{fields:B,ops:K,as:ia}:{})]}}assembleFacetHeaderData(a){const {columns:d}=this.model.layout,{layoutHeaders:f}=
this.model.component,k=[],B={};for(const Ka of jj){for(const jb of bk){let Qb;var K=null!=(Qb=f[Ka]&&f[Ka][jb])?Qb:[];for(const uc of K){let ld;if(0<(null==(ld=uc.axes)?void 0:ld.length)){B[Ka]=!0;break}}}B[Ka]&&(K=`length(data("${this.facet.name}"))`,k.push({name:`${this.facet.name}_${Ka}`,transform:[{type:"sequence",start:0,stop:"row"===Ka?d?{signal:`ceil(${K} / ${d})`}:1:d?{signal:`min(${K}, ${d})`}:{signal:K}}]}))}const {row:ia,column:ta}=B;(ia||ta)&&k.unshift(this.assembleRowColumnHeaderData("facet",
null,a));return k}assemble(){const a=[];var d=null;const f=this.getChildIndependentFieldsWithStep(),{column:k,row:B,facet:K}=this;if(k&&B&&(f.x||f.y)){d=`cross_${this.column.name}_${this.row.name}`;var ia;let ta;const Ka=[].concat(null!=(ia=f.x)?ia:[],null!=(ta=f.y)?ta:[]);ia=Ka.map(()=>"distinct");a.push({name:d,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:Ka,ops:ia}]})}for(const ta of["column","row"])this[ta]&&a.push(this.assembleRowColumnHeaderData(ta,d,f));K&&(d=this.assembleFacetHeaderData(f))&&
a.push(...d);return a}}class Uh extends yf{clone(){return new Uh(null,zf(this._parse))}constructor(a,d){super(a);H(this,"_parse",void 0);this._parse=d}hash(){return`Parse ${Ab(this._parse)}`}static makeExplicit(a,d,f){let k={};d=d.data;let B;!Sg(d)&&(null==d?0:null==(B=d.format)?0:B.parse)&&(k=d.format.parse);return this.makeWithAncestors(a,k,{},f)}static makeWithAncestors(a,d,f,k){for(var B of ce(f)){const ia=k.getWithExplicit(B);void 0!==ia.value&&(ia.explicit||ia.value===f[B]||"derived"===ia.value||
"flatten"===f[B]?delete f[B]:Aa(fd(B,f[B],ia.value)))}for(var K of ce(d))B=k.get(K),void 0!==B&&(B===d[K]?delete d[K]:Aa(fd(K,d[K],B)));d=new Tg(d,f);k.copyAll(d);f={};for(const ia of ce(d.combine()))K=d.get(ia),null!==K&&(f[ia]=K);return 0===ce(f).length||k.parseNothing?null:new Uh(a,f)}get parse(){return this._parse}merge(a){this._parse=Object.assign({},this._parse,a.parse);a.remove()}assembleFormatParse(){const a={};for(const d of ce(this._parse)){const f=this._parse[d];1===Y(d)&&(a[d]=f)}return a}producedFields(){return new Set(ce(this._parse))}dependentFields(){return new Set(ce(this._parse))}assembleTransforms(){let a=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;return ce(this._parse).filter(d=>a?1<Y(d):!0).map(d=>{const f=uf(d,this._parse[d]);return f?{type:"formula",expr:f,as:ra(d)}:null}).filter(d=>null!==d)}}class Ei extends yf{clone(){return new Ei(null)}constructor(a){super(a)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:"_vgsid_"}}}class b extends yf{clone(){return new b(null,this.params)}constructor(a,
d){super(a);this.params=d}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${Ab(this.params)}`}assemble(){return Object.assign({},{type:"graticule"},!0===this.params?{}:this.params)}}class e extends yf{clone(){return new e(null,this.params)}constructor(a,d){super(a);this.params=d}dependentFields(){return new Set}producedFields(){let a;return new Set([null!=(a=this.params.as)?a:"data"])}hash(){return`Hash ${Ab(this.params)}`}assemble(){return Object.assign({},{type:"sequence"},
this.params)}}class q extends yf{constructor(a){super(null);H(this,"_data",void 0);H(this,"_name",void 0);H(this,"_generator",void 0);null!=a||(a={name:"source"});let d;Sg(a)||(d=a.format?Object.assign({},pc(a.format,["parse"])):{});if("values"in a)this._data={values:a.values};else if("url"in a){if(this._data={url:a.url},!d.type){let f=/(?:\.([^.]+))?$/.exec(a.url)[1];Sb(["json","csv","tsv","dsv","topojson"],f)||(f="json");d.type=f}}else if("sphere"in a)this._data={values:[{type:"Sphere"}]};else if(Xf(a)||
Sg(a))this._data={};this._generator=Sg(a);a.name&&(this._name=a.name);d&&!Na(d)&&(this._data.format=d)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(a){this._name=a}set parent(a){throw Error("Source nodes have to be roots.");}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");}assemble(){return Object.assign({},
{name:this._name},this._data,{transform:[]})}}var M=new WeakMap;class qa{constructor(){if(M.has(this))throw new TypeError("Cannot initialize the same private elements twice on an object");M.set(this,{writable:!0,value:void 0});za(this,M,!1)}setModified(){za(this,M,!0)}get modifiedFlag(){var a=Qa(this,M,"get");return a.get?a.get.call(this):a.value}}class Ba extends qa{getNodeDepths(a,d,f){f.set(a,d);for(const k of a.children)this.getNodeDepths(k,d+1,f);return f}optimize(a){a=[...this.getNodeDepths(a,
0,new Map).entries()].sort((d,f)=>f[1]-d[1]);for(const d of a)this.run(d[0]);return this.modifiedFlag}}class ub extends qa{optimize(a){this.run(a);for(const d of a.children)this.optimize(d);return this.modifiedFlag}}class wc extends ub{mergeNodes(a,d){const f=d.shift();for(const k of d)a.removeChild(k),k.parent=f,k.remove()}run(a){const d=a.children.map(k=>k.hash()),f={};for(let k=0;k<d.length;k++)void 0===f[d[k]]?f[d[k]]=[a.children[k]]:f[d[k]].push(a.children[k]);for(const k of ce(f))1<f[k].length&&
(this.setModified(),this.mergeNodes(a,f[k]))}}class Oc extends ub{constructor(a){super();H(this,"requiresSelectionId",void 0);this.requiresSelectionId=a&&Lf(a)}run(a){!(a instanceof Ei)||this.requiresSelectionId&&(Je(a.parent)||a.parent instanceof Ci||a.parent instanceof Uh)||(this.setModified(),a.remove())}}class zd extends qa{optimize(a){this.run(a,new Set);return this.modifiedFlag}run(a,d){let f=new Set;a instanceof Rh&&(f=a.producedFields(),Lb(f,d)&&(this.setModified(),a.removeFormulas(d),0===
a.producedFields.length&&a.remove()));for(const k of a.children)this.run(k,new Set([...d,...f]))}}class ge extends ub{constructor(){super()}run(a){a instanceof uh&&!a.isRequired()&&(this.setModified(),a.remove())}}class je extends Ba{run(a){if(!(Je(a)||1<a.numChildren()))for(const d of a.children)d instanceof Uh&&(a instanceof Uh?(this.setModified(),a.merge(d)):pb(a.producedFields(),d.dependentFields())||(this.setModified(),d.swapWithParent()))}}class de extends Ba{run(a){const d=[...a.children];
var f=a.children.filter(B=>B instanceof Uh);if(1<a.numChildren()&&1<=f.length){const B={};var k=new Set;for(const K of f){f=K.parse;for(const ia of ce(f))ia in B?B[ia]!==f[ia]&&k.add(ia):B[ia]=f[ia]}for(const K of k)delete B[K];if(!Na(B)){this.setModified();k=new Uh(a,B);for(const K of d){if(K instanceof Uh)for(const ia of ce(B))delete K.parse[ia];a.removeChild(K);K.parent=k;K instanceof Uh&&0===ce(K.parse).length&&K.remove()}}}}}class He extends Ba{run(a){a instanceof uh||0<a.numChildren()||a instanceof
Di||a instanceof q||(this.setModified(),a.remove())}}class Ue extends Ba{run(a){a=a.children.filter(f=>f instanceof Rh);const d=a.pop();for(const f of a)this.setModified(),d.merge(f)}}class Ze extends Ba{run(a){var d=a.children.filter(B=>B instanceof Ci);const f={};for(var k of d)d=Ab(k.groupBy),d in f||(f[d]=[]),f[d].push(k);for(const B of ce(f))if(k=f[B],1<k.length){d=k.pop();for(const K of k)d.merge(K)&&(a.removeChild(K),K.parent=d,K.remove(),this.setModified())}}}class bh extends Ba{constructor(a){super();
this.model=a}run(a){var d=!(Je(a)||a instanceof bj||a instanceof Uh||a instanceof Ei);const f=[],k=[];for(const B of a.children)B instanceof Gi&&(d&&!pb(a.producedFields(),B.dependentFields())?f.push(B):k.push(B));if(0<f.length){d=f.pop();for(const B of f)d.merge(B,this.model.renameSignal.bind(this.model));this.setModified();a instanceof Gi?a.merge(d,this.model.renameSignal.bind(this.model)):d.swapWithParent()}if(1<k.length){a=k.pop();for(const B of k)a.merge(B,this.model.renameSignal.bind(this.model));
this.setModified()}}}class md extends Ba{run(a){var d=[...a.children];if(Ua(d,B=>B instanceof uh)&&!(1>=a.numChildren())){var f=[];for(const B of d)if(B instanceof uh){for(d=B;1===d.numChildren();){const [K]=d.children;if(K instanceof uh)d=K;else break}f.push(...d.children);if(k)a.removeChild(B),B.parent=k.parent,k.parent.removeChild(k),k.parent=d,this.setModified();else var k=d}else f.push(B);if(f.length){this.setModified();for(const B of f)B.parent.removeChild(B),B.parent=k}}}}class Tc extends yf{clone(){return new Tc(null,
zf(this.transform))}constructor(a,d){super(a);this.transform=d}addDimensions(a){this.transform.groupby=Hb(this.transform.groupby.concat(a),d=>d)}dependentFields(){const a=new Set;this.transform.groupby&&this.transform.groupby.forEach(a.add,a);this.transform.joinaggregate.map(d=>d.field).filter(d=>void 0!==d).forEach(a.add,a);return a}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(a){let d;return null!=(d=a.as)?d:Pc(a)}hash(){return`JoinAggregateTransform ${Ab(this.transform)}`}assemble(){const a=
[],d=[],f=[];for(var k of this.transform.joinaggregate)d.push(k.op),f.push(this.getDefaultName(k)),a.push(void 0===k.field?null:k.field);k=this.transform.groupby;return Object.assign({},{type:"joinaggregate",as:f,ops:d,fields:a},void 0!==k?{groupby:k}:{})}}class rd extends yf{clone(){return new rd(null,zf(this._stack))}constructor(a,d){super(a);H(this,"_stack",void 0);this._stack=d}static makeFromTransform(a,d){const {stack:f,groupby:k,as:B,offset:K="zero"}=d;var ia=[];const ta=[];if(void 0!==d.sort)for(const Ka of d.sort)ia.push(Ka.field),
ta.push(Ea(Ka.order,"ascending"));ia={field:ia,order:ta};d=Oe(B)?B:R.isString(B)?[B,`${B}_end`]:[`${d.stack}_start`,`${d.stack}_end`];return new rd(a,{dimensionFieldDefs:[],stackField:f,groupby:k,offset:K,sort:ia,facetby:[],as:d})}static makeFromEncoding(a,d){var f=d.stack;const {encoding:k}=d;if(!f)return null;const {groupbyChannels:B,fieldChannel:K,offset:ia,impute:ta}=f;f=B.map(Qb=>xe(k[Qb])).filter(Qb=>!!Qb);const Ka=le(d);var jb=d.encoding.order;if(R.isArray(jb)||ma(jb))jb=Ha(jb);else{const Qb=
jb&&jb.sort&&!jb.field?jb.sort:"y"===K?"descending":"ascending";jb=Ka.reduce((uc,ld)=>{uc.field.push(ld);uc.order.push(Qb);return uc},{field:[],order:[]})}return new rd(a,{dimensionFieldDefs:f,stackField:d.vgField(K),facetby:[],stackby:Ka,sort:jb,offset:ia,impute:ta,as:[d.vgField(K,{suffix:"start",forAs:!0}),d.vgField(K,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(a){this._stack.facetby.push(...a)}dependentFields(){const a=new Set;a.add(this._stack.stackField);this.getGroupbyFields().forEach(a.add,
a);this._stack.facetby.forEach(a.add,a);this._stack.sort.field.forEach(a.add,a);return a}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${Ab(this._stack)}`}getGroupbyFields(){const {dimensionFieldDefs:a,impute:d,groupby:f}=this._stack;return 0<a.length?a.map(k=>k.bin?d?[Pc(k,{binSuffix:"mid"})]:[Pc(k,{}),Pc(k,{binSuffix:"end"})]:[Pc(k)]).flat():null!=f?f:[]}assemble(){const a=[],{facetby:d,dimensionFieldDefs:f,stackField:k,stackby:B,sort:K,offset:ia,impute:ta,as:Ka}=this._stack;
if(ta)for(const jb of f){const {bandPosition:Qb=.5,bin:uc}=jb;if(uc){const ld=Pc(jb,{expr:"datum"}),Kc=Pc(jb,{expr:"datum",binSuffix:"end"});a.push({type:"formula",expr:`${Qb}*${ld}+${1-Qb}*${Kc}`,as:Pc(jb,{binSuffix:"mid",forAs:!0})})}a.push({type:"impute",field:k,groupby:[...B,...d],key:Pc(jb,{binSuffix:"mid"}),method:"value",value:0})}a.push({type:"stack",groupby:[...this.getGroupbyFields(),...d],field:k,sort:K,as:Ka,offset:ia});return a}}class me extends yf{clone(){return new me(null,zf(this.transform))}constructor(a,
d){super(a);this.transform=d}addDimensions(a){this.transform.groupby=Hb(this.transform.groupby.concat(a),d=>d)}dependentFields(){const a=new Set;let d;(null!=(d=this.transform.groupby)?d:[]).forEach(a.add,a);let f;(null!=(f=this.transform.sort)?f:[]).forEach(k=>a.add(k.field));this.transform.window.map(k=>k.field).filter(k=>void 0!==k).forEach(a.add,a);return a}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(a){let d;return null!=(d=a.as)?d:Pc(a)}hash(){return`WindowTransform ${Ab(this.transform)}`}assemble(){const a=
[],d=[],f=[],k=[];for(var B of this.transform.window)d.push(B.op),f.push(this.getDefaultName(B)),k.push(void 0===B.param?null:B.param),a.push(void 0===B.field?null:B.field);B=this.transform.frame;const K=this.transform.groupby;if(B&&null===B[0]&&null===B[1]&&d.every(jb=>La(jb)))return Object.assign({},{type:"joinaggregate",as:f,ops:d,fields:a},void 0!==K?{groupby:K}:{});const ia=[],ta=[];if(void 0!==this.transform.sort)for(var Ka of this.transform.sort){ia.push(Ka.field);let jb;ta.push(null!=(jb=
Ka.order)?jb:"ascending")}Ka=this.transform.ignorePeers;return Object.assign({},{type:"window",params:k,as:f,ops:d,fields:a,sort:{field:ia,order:ta}},void 0!==Ka?{ignorePeers:Ka}:{},void 0!==K?{groupby:K}:{},void 0!==B?{frame:B}:{})}}class Fe{constructor(a){H(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:a})}static fromName(a,d){return new Fe(()=>a(d))}}class kf extends Tg{constructor(a,d){super({},{name:a});H(this,"merged",!1);this.setWithExplicit("type",d)}domainDefinitelyIncludesZero(){return!1!==
this.get("zero")?!0:Ua(this.get("domains"),a=>R.isArray(a)&&2===a.length&&0>=a[0]&&0<=a[1])}}const lf=["range","scheme"],rf={bins:a=>{let {model:d,fieldOrDatumDef:f}=a;return ma(f)?Ik(d,f):void 0},interpolate:a=>{let {channel:d,fieldOrDatumDef:f}=a;a=f.type;a=Sb(["color","fill","stroke"],d)&&"nominal"!==a?"hcl":void 0;return a},nice:a=>{let {scaleType:d,channel:f,domain:k,domainMin:B,domainMax:K,fieldOrDatumDef:ia}=a;{let ta;a=(null==(ta=xe(ia))?0:ta.bin)||R.isArray(k)||null!=K||null!=B||Sb([Kh.TIME,
Kh.UTC],d)?void 0:F(f)?!0:void 0}return a},padding:a=>{let {channel:d,scaleType:f,fieldOrDatumDef:k,markDef:B,config:K}=a;a:{a=K.scale;var ia=K.bar;if(F(d)){if(Jg.has(f)){if(void 0!==a.continuousPadding){a=a.continuousPadding;break a}const {type:ta,orient:Ka}=B;if("bar"===ta&&(!ma(k)||!k.bin&&!k.timeUnit)&&("vertical"===Ka&&"x"===d||"horizontal"===Ka&&"y"===d)){a=ia.continuousBandSize;break a}}if(f===Kh.POINT){a=a.pointPadding;break a}}a=void 0}return a},paddingInner:a=>{let {scalePadding:d,channel:f,
markDef:k,scaleType:B,config:K,hasNestedOffsetScale:ia}=a;return jk(d,f,k.type,B,K.scale,ia)},paddingOuter:a=>{let {scalePadding:d,channel:f,scaleType:k,scalePaddingInner:B,config:K,hasNestedOffsetScale:ia}=a;return Ti(d,f,k,B,K.scale,ia)},reverse:a=>{let {fieldOrDatumDef:d,scaleType:f,channel:k,config:B}=a;a=ma(d)?d.sort:void 0;var K=B.scale;a="x"===k&&void 0!==K.xReverse?Bc(f)&&"descending"===a?$b(K.xReverse)?{signal:`!${K.xReverse.signal}`}:!K.xReverse:K.xReverse:Bc(f)&&"descending"===a?!0:void 0;
return a},zero:a=>{let {channel:d,fieldOrDatumDef:f,domain:k,markDef:B,scaleType:K,config:ia,hasSecondaryRangeChannel:ta}=a;a:if(a=ia.scale,k&&"unaggregated"!==k&&Bc(K)){if(R.isArray(k)&&(a=k[k.length-1],0>=k[0]&&0<=a)){a=!0;break a}a=!1}else if("size"!==d||"quantitative"!==f.type||$h.has(K))if(ma(f)&&f.bin||!Sb([...oi,...jl],d))a=!1;else{const {orient:Ka,type:jb}=B;a=Sb(["bar","area","line","trail"],jb)&&("horizontal"===Ka&&"y"===d||"vertical"===Ka&&"x"===d)?!1:Sb(["bar","area"],jb)&&!ta?!0:null==
a?void 0:a.zero}else a=!0;return a}},yh=Yh((a,d)=>Ji[a]-Ji[d]);class Vf{constructor(){H(this,"nameMap",void 0);this.nameMap={}}rename(a,d){this.nameMap[a]=d}has(a){return void 0!==this.nameMap[a]}get(a){for(;this.nameMap[a]&&a!==this.nameMap[a];)a=this.nameMap[a];return a}}class wi{constructor(a,d,f,k,B,K,ia){this.type=d;this.parent=f;this.config=B;H(this,"name",void 0);H(this,"size",void 0);H(this,"title",void 0);H(this,"description",void 0);H(this,"data",void 0);H(this,"transforms",void 0);H(this,
"layout",void 0);H(this,"scaleNameMap",void 0);H(this,"projectionNameMap",void 0);H(this,"signalNameMap",void 0);H(this,"component",void 0);H(this,"view",void 0);H(this,"children",void 0);H(this,"correctDataNames",jb=>{let Qb;if(null==(Qb=jb.from)?0:Qb.data)jb.from.data=this.lookupDataSource(jb.from.data);let uc,ld;if(null==(uc=jb.from)?0:null==(ld=uc.facet)?0:ld.data)jb.from.facet.data=this.lookupDataSource(jb.from.facet.data);return jb});this.parent=f;this.config=B;this.view=rc(ia);let ta;this.name=
null!=(ta=a.name)?ta:k;this.title=dd(a.title)?{text:a.title}:a.title?rc(a.title):void 0;this.scaleNameMap=f?f.scaleNameMap:new Vf;this.projectionNameMap=f?f.projectionNameMap:new Vf;this.signalNameMap=f?f.signalNameMap:new Vf;this.data=a.data;this.description=a.description;let Ka;this.transforms=Mh(null!=(Ka=a.transform)?Ka:[]);this.layout="layer"===d||"unit"===d?{}:wf(a,d,B);this.component={data:{sources:f?f.component.data.sources:[],outputNodes:f?f.component.data.outputNodes:{},outputNodeRefCounts:f?
f.component.data.outputNodeRefCounts:{},isFaceted:"facet"in a||(null==f?void 0:f.component.data.isFaceted)&&void 0===a.data},layoutSize:new Tg,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},K?zf(K):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();
this.parseSelections();this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){Kj(this)}parseProjection(){Xe(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){nc(this)}assembleEncodeFromView(a){a=Object.assign({},a);a=(delete a.style,a);const d={};for(const f of ce(a)){const k=
a[f];void 0!==k&&(d[f]=Tb(k))}return d}assembleGroupEncodeEntry(a){let d={};this.view&&(d=this.assembleEncodeFromView(this.view));if(!a&&(this.description&&(d.description=Tb(this.description)),"unit"===this.type||"layer"===this.type)){let f;return Object.assign({},{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!=(f=d)?f:{})}return Na(d)?void 0:d}assembleLayout(){if(this.layout){var a=this.layout,d=Object.assign({},a);a=a.spacing;d=(delete d.spacing,d);var {component:f,
config:k}=this,B=f.layoutHeaders,K={};for(ta of Jh){var ia=B[ta];let Ka;if(null==(Ka=ia)?0:Ka.facetFieldDef){const {titleAnchor:jb,titleOrient:Qb}=Vc(["titleAnchor","titleOrient"],ia.facetFieldDef.header,k,ta);ia=Pb(ta,Qb);const uc=xk[ia][jb];void 0!==uc&&(K[ia]=uc)}}var ta=Na(K)?void 0:K;return Object.assign({},{padding:a},this.assembleDefaultLayout(),d,ta?{titleBand:ta}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){var {layoutHeaders:a}=this.component,d=[];for(var f of Jh)if(a[f].title){var k=
d,B=k.push;var K=f;var ia=this.component.layoutHeaders[K].title,ta=this.config?this.config:void 0,Ka=this.component.layoutHeaders[K].facetFieldDef?this.component.layoutHeaders[K].facetFieldDef:void 0;const {titleAnchor:qd,titleAngle:fe,titleOrient:Md}=Vc(["titleAnchor","titleAngle","titleOrient"],Ka.header,ta,K);var jb=Pb(K,Md),Qb=pa(fe);K={name:`${K}-title`,type:"group",role:`${jb}-title`,title:Object.assign({},{text:ia},"row"===K?{orient:"left"}:{},{style:"guide-title"},Sd(Qb,jb),Kd(jb,Qb,qd),ie(ta,
Ka,K,sk,Dj))};B.call(k,K)}for(const qd of jj){a=d;d=a.concat;k=qd;B=this.component.layoutHeaders[k];f=[];for(const fe of bk)if(B[fe])for(const Md of B[fe]){a:{Ka=void 0;K=k;var uc=fe,ld=B;if(ia=Md){ta=null;({facetFieldDef:cd}=ld);jb=this.config?this.config:void 0;cd&&ia.labels&&({labelOrient:Qb}=Vc(["labelOrient"],cd.header,jb,K),"row"===K&&!Sb(["top","bottom"],Qb)||"column"===K&&!Sb(["left","right"],Qb))&&(ta=ad(cd,K,jb));const ue=ni(this)&&!Jd(this.facet),Te=ia.axes,cf=0<(null==Te?void 0:Te.length);
if(ta||cf){const Yf="row"===K?"height":"width";jb=Object;Qb=jb.assign;uc={name:this.getName(`${K}_${uc}`),type:"group",role:`${K}-${uc}`};if(ld.facetFieldDef){ld={data:this.getName(`${K}_domain`)};{var Kc=cd;const {sort:Uf}=Kc;var cd=bd(Uf)?{field:Pc(Uf,{expr:"datum"}),order:null!=(Ka=Uf.order)?Ka:"ascending"}:R.isArray(Uf)?{field:Db(Kc,K,{expr:"datum"}),order:"ascending"}:{field:Pc(Kc,{expr:"datum"}),order:null!=Uf?Uf:"ascending"}}Ka={from:ld,sort:cd}}else Ka={};K=Qb.call(jb,{},uc,Ka,cf&&ue?{from:{data:this.getName(`facet_domain_${K}`)}}:
{},ta?{title:ta}:{},ia.sizeSignal?{encode:{update:{[Yf]:ia.sizeSignal}}}:{},cf?{axes:Te}:{});break a}}K=null}null!=K&&f.push(K)}d=d.call(a,f)}return d}assembleAxes(){return Cg(this.component.axes,this.config)}assembleLegends(){return xd(this)}assembleProjections(){var a=Hi(this)||Wi(this)?ze(this):oe(this);return a}assembleTitle(){var a,d=null!=(a=this.title)?a:{};a=Object.assign({},d);d=d.encoding;a=(delete a.encoding,a);d=Object.assign({},yc(this.config.title).nonMarkTitleProperties,a,d?{encode:{update:d}}:
{});if(d.text)return Sb(["unit","layer"],this.type)?Sb(["middle",void 0],d.anchor)&&(null!=d.frame||(d.frame="group")):null!=d.anchor||(d.anchor="start"),Na(d)?void 0:d}assembleGroup(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];const d={};a=a.concat(this.assembleSignals());0<a.length&&(d.signals=a);if(a=this.assembleLayout())d.layout=a;d.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());a=!this.parent||ni(this.parent)?$k(this):[];0<a.length&&(d.scales=a);a=this.assembleAxes();
0<a.length&&(d.axes=a);a=this.assembleLegends();0<a.length&&(d.legends=a);return d}getName(a){return Ia((this.name?`${this.name}_`:"")+a)}getDataName(a){return this.getName(tg[a].toLowerCase())}requestDataName(a){a=this.getDataName(a);const d=this.component.data.outputNodeRefCounts;d[a]=(d[a]||0)+1;return a}getSizeSignalRef(a){if(ni(this.parent)){var d=ba(a),f=aa(d);if((d=this.component.scales[f])&&!d.merged){var k=d.get("type");const B=d.get("range");if(Jc(k)&&Rc(B)){a=d.get("name");k=Tj(this,f);
if(k=Fk(k))return f=Pc({aggregate:"distinct",field:k},{expr:"datum"}),{signal:V(a,d,f)};Aa(ec(f));return null}}}return{signal:this.signalNameMap.get(this.getName(a))}}lookupDataSource(a){const d=this.component.data.outputNodes[a];return d?d.getSource():a}getSignalName(a){return this.signalNameMap.get(a)}renameSignal(a,d){this.signalNameMap.rename(a,d)}renameScale(a,d){this.scaleNameMap.rename(a,d)}renameProjection(a,d){this.projectionNameMap.rename(a,d)}scaleName(a,d){if(d)return this.getName(a);
if(Sj[a]&&mi[a]&&this.component.scales[a]||this.scaleNameMap.has(this.getName(a)))return this.scaleNameMap.get(this.getName(a))}projectionName(a){if(a)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(a){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");
const d=this.component.scales[a];return d&&!d.merged?d:this.parent?this.parent.getScaleComponent(a):void 0}getSelectionComponent(a,d){let f=this.component.selection[a];!f&&this.parent&&(f=this.parent.getSelectionComponent(a,d));if(!f)throw Error(`Cannot find a selection named "${d}".`);return f}hasAxisOrientSignalRef(){let a,d;return(null==(a=this.component.axes.x)?void 0:a.some(f=>f.hasOrientSignalRef()))||(null==(d=this.component.axes.y)?void 0:d.some(f=>f.hasOrientSignalRef()))}}class ll extends wi{vgField(a){let d=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const f=this.fieldDef(a);if(f)return Pc(f,d)}reduceFieldDef(a,d){return Vg(this.getMapping(),(f,k,B)=>(k=xe(k))?a(f,k,B):f,d)}forEachFieldDef(a,d){Ug(this.getMapping(),(f,k)=>{(f=xe(f))&&a(f,k)},d)}}class om extends yf{clone(){return new om(null,zf(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=zf(d);let f;a=null!=(f=this.transform.as)?f:[void 0,void 0];let k,B;this.transform.as=[null!=(k=a[0])?k:"value",null!=(B=
a[1])?B:"density"];d.groupby&&null==d.minsteps&&null==d.maxsteps&&null==d.steps&&(this.transform.steps=200)}dependentFields(){let a;return new Set([this.transform.density,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${Ab(this.transform)}`}assemble(){var a=this.transform,d=Object.assign({},a);a=a.density;d=(delete d.density,d);return Object.assign({},{type:"kde",field:a},d)}}class Cl extends yf{clone(){return new Cl(null,
Object.assign({},this.filter))}constructor(a,d){super(a);this.filter=d}static make(a,d){const {config:f,mark:k,markDef:B}=d;if("filter"!==Ac("invalid",B,f))return null;const K=d.reduceFieldDef((ia,ta,Ka)=>{if(Ka=!!mi[Ka]&&d.getScaleComponent(Ka))Ka=Ka.get("type"),Bc(Ka)&&"count"!==ta.aggregate&&!Ra(k)&&(ia[ta.field]=ta);return ia},{});return ce(K).length?new Cl(a,K):null}dependentFields(){return new Set(ce(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${Ab(this.filter)}`}assemble(){const a=
ce(this.filter).reduce((d,f)=>{f=this.filter[f];const k=Pc(f,{expr:"datum"});null!==f&&("temporal"===f.type?d.push(`(isDate(${k}) || (isValid(${k}) && isFinite(+${k})))`):"quantitative"===f.type&&(d.push(`isValid(${k})`),d.push(`isFinite(+${k})`)));return d},[]);return 0<a.length?{type:"filter",expr:a.join(" \x26\x26 ")}:null}}class nm extends yf{clone(){return new nm(this.parent,zf(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=zf(d);const {flatten:f,as:k=[]}=this.transform;
this.transform.as=f.map((B,K)=>{let ia;return null!=(ia=k[K])?ia:B})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${Ab(this.transform)}`}assemble(){const {flatten:a,as:d}=this.transform;return{type:"flatten",fields:a,as:d}}}class mm extends yf{clone(){return new mm(null,zf(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=zf(d);let f;a=null!=(f=this.transform.as)?f:[void 0,void 0];
let k,B;this.transform.as=[null!=(k=a[0])?k:"key",null!=(B=a[1])?B:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${Ab(this.transform)}`}assemble(){const {fold:a,as:d}=this.transform;return{type:"fold",fields:a,as:d}}}class fl extends yf{clone(){return new fl(null,zf(this.fields),this.geojson,this.signal)}static parseAll(a,d){if(d.component.projection&&!d.component.projection.isFit)return a;let f=0;for(var k of[["longitude",
"latitude"],["longitude2","latitude2"]]){const B=k.map(K=>{K=Le(d.encoding[K]);return ma(K)?K.field:ib(K)?{expr:`${K.datum}`}:yd(K)?{expr:`${K.value}`}:void 0});if(B[0]||B[1])a=new fl(a,B,null,d.getName(`geojson_${f++}`))}d.channelHasField("shape")&&(k=d.typedFieldDef("shape"),"geojson"===k.type&&(a=new fl(a,null,k.field,d.getName(`geojson_${f++}`))));return a}constructor(a,d,f,k){super(a);this.fields=d;this.geojson=f;this.signal=k}dependentFields(){let a;const d=(null!=(a=this.fields)?a:[]).filter(R.isString);
return new Set([...(this.geojson?[this.geojson]:[]),...d])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${Ab(this.fields)}`}assemble(){return[...(this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[]),Object.assign({},{type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})]}}class Dl extends yf{clone(){return new Dl(null,this.projection,zf(this.fields),zf(this.as))}constructor(a,
d,f,k){super(a);this.projection=d;this.fields=f;this.as=k}static parseAll(a,d){if(!d.projectionName())return a;for(const f of[["longitude","latitude"],["longitude2","latitude2"]]){const k=f.map(K=>{K=Le(d.encoding[K]);return ma(K)?K.field:ib(K)?{expr:`${K.datum}`}:yd(K)?{expr:`${K.value}`}:void 0}),B="longitude2"===f[0]?"2":"";if(k[0]||k[1])a=new Dl(a,d.projectionName(),k,[d.getName(`x${B}`),d.getName(`y${B}`)])}return a}dependentFields(){return new Set(this.fields.filter(R.isString))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${Ab(this.fields)} ${Ab(this.as)}`}assemble(){return{type:"geopoint",
projection:this.projection,fields:this.fields,as:this.as}}}class Ek extends yf{clone(){return new Ek(null,zf(this.transform))}constructor(a,d){super(a);this.transform=d}dependentFields(){let a;return new Set([this.transform.impute,this.transform.key,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set([this.transform.impute])}processSequence(a){const {start:d=0,stop:f,step:k}=a;return{signal:`sequence(${[d,f,...(k?[k]:[])].join()})`}}static makeFromTransform(a,d){return new Ek(a,
d)}static makeFromEncoding(a,d){const f=d.encoding;var k=f.x;const B=f.y;if(ma(k)&&ma(B)){const K=k.impute?k:B.impute?B:void 0;if(void 0===K)return;k=k.impute?B:B.impute?k:void 0;const {method:ia,value:ta,frame:Ka,keyvals:jb}=K.impute;d=Dg(d.mark,f);return new Ek(a,Object.assign({},{impute:K.field,key:k.field},ia?{method:ia}:{},void 0!==ta?{value:ta}:{},Ka?{frame:Ka}:{},void 0!==jb?{keyvals:jb}:{},d.length?{groupby:d}:{}))}return null}hash(){return`Impute ${Ab(this.transform)}`}assemble(){const {impute:a,
key:d,keyvals:f,method:k,groupby:B,value:K,frame:ia=[null,null]}=this.transform;var ta=Object,Ka=ta.assign;var jb=f?{keyvals:void 0!==(null==f?void 0:f.stop)?this.processSequence(f):f}:{};ta=Ka.call(ta,{},{type:"impute",field:a,key:d},jb,{method:"value"},B?{groupby:B}:{},{value:k&&"value"!==k?null:K});return k&&"value"!==k?(Ka=Object.assign({},{type:"window",as:[`imputed_${a}_value`],ops:[k],fields:[a],frame:ia,ignorePeers:!1},B?{groupby:B}:{}),[ta,Ka,{type:"formula",expr:`datum.${a} === null ? datum.imputed_${a}_value : datum.${a}`,
as:a}]):[ta]}}class pm extends yf{clone(){return new pm(null,zf(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=zf(d);let f;a=null!=(f=this.transform.as)?f:[void 0,void 0];let k,B;this.transform.as=[null!=(k=a[0])?k:d.on,null!=(B=a[1])?B:d.loess]}dependentFields(){let a;return new Set([this.transform.loess,this.transform.on,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${Ab(this.transform)}`}assemble(){var a=
this.transform,d=Object.assign({},a);const f=a.loess;a=a.on;d=(delete d.loess,delete d.on,d);return Object.assign({},{type:"loess",x:a,y:f},d)}}class El extends yf{clone(){return new El(null,zf(this.transform),this.secondary)}constructor(a,d,f){super(a);this.transform=d;this.secondary=f}static make(a,d,f,k){const B=d.component.data.sources,{from:K}=f;var ia=null;if("data"in K)ia=Ck(K.data,B),ia||(ia=new q(K.data),B.push(ia)),k=d.getName(`lookup_${k}`),ia=new uh(ia,k,tg.Lookup,d.component.data.outputNodeRefCounts),
d.component.data.outputNodes[k]=ia;else if("param"in K){k=K.param;f=Object.assign({},{as:k},f);let ta;try{ta=d.getSelectionComponent(Ia(k),k)}catch(Ka){throw Error(`Lookups can only be performed on selection parameters. "${k}" is a variable parameter.`);}ia=ta.materialized;if(!ia)throw Error(`Cannot define and lookup the "${k}" selection in the same view. `+"Try moving the lookup into a second, layered view?");}return new El(a,f,ia.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?
R.array(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${Ab({transform:this.transform,secondary:this.secondary})}`}assemble(){if(this.transform.from.fields)var a=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:R.array(this.transform.as)}:{});else a=this.transform.as,R.isString(a)||(Aa('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),a="_lookup"),a={as:[a]};return Object.assign({},
{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},a,this.transform.default?{default:this.transform.default}:{})}}class qm extends yf{clone(){return new qm(null,zf(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=zf(d);let f;a=null!=(f=this.transform.as)?f:[void 0,void 0];let k,B;this.transform.as=[null!=(k=a[0])?k:"prob",null!=(B=a[1])?B:"value"]}dependentFields(){let a;return new Set([this.transform.quantile,...(null!=(a=this.transform.groupby)?
a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${Ab(this.transform)}`}assemble(){var a=this.transform,d=Object.assign({},a);a=a.quantile;d=(delete d.quantile,d);return Object.assign({},{type:"quantile",field:a},d)}}class rm extends yf{clone(){return new rm(null,zf(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=zf(d);let f;a=null!=(f=this.transform.as)?f:[void 0,void 0];let k,B;this.transform.as=[null!=(k=a[0])?k:d.on,null!=(B=
a[1])?B:d.regression]}dependentFields(){let a;return new Set([this.transform.regression,this.transform.on,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${Ab(this.transform)}`}assemble(){var a=this.transform,d=Object.assign({},a);const f=a.regression;a=a.on;d=(delete d.regression,delete d.on,d);return Object.assign({},{type:"regression",x:a,y:f},d)}}class tm extends yf{clone(){return new tm(null,zf(this.transform))}constructor(a,
d){super(a);this.transform=d}addDimensions(a){let d;this.transform.groupby=Hb((null!=(d=this.transform.groupby)?d:[]).concat(a),f=>f)}producedFields(){}dependentFields(){let a;return new Set([this.transform.pivot,this.transform.value,...(null!=(a=this.transform.groupby)?a:[])])}hash(){return`PivotTransform ${Ab(this.transform)}`}assemble(){const {pivot:a,value:d,groupby:f,limit:k,op:B}=this.transform;return Object.assign({},{type:"pivot",field:a,value:d},void 0!==k?{limit:k}:{},void 0!==B?{op:B}:
{},void 0!==f?{groupby:f}:{})}}class sm extends yf{clone(){return new sm(null,zf(this.transform))}constructor(a,d){super(a);this.transform=d}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${Ab(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}class Gl extends ll{constructor(a,d,f,k){super(a,"facet",d,f,k,a.resolve);H(this,"facet",void 0);H(this,"child",void 0);H(this,"children",void 0);this.child=cl(a.spec,this,this.getName("child"),
void 0,k);this.children=[this.child];this.facet=this.initFacet(a.facet)}initFacet(a){if(!Jd(a))return{facet:this.initFacetFieldDef(a,"facet")};var d=ce(a);const f={};for(const k of d){if(!["row","column"].includes(k)){Aa(Yd(k,"facet"));break}d=a[k];if(void 0===d.field){Aa(Ed(d,k));break}f[k]=this.initFacetFieldDef(d,k)}return f}initFacetFieldDef(a,d){a=we(a,d);a.header?a.header=rc(a.header):null===a.header&&(a.header=null);return a}channelHasField(a){return!!this.facet[a]}fieldDef(a){return this.facet[a]}parseData(){this.component.data=
oj(this);this.child.parseData()}parseLayoutSize(){Pj(this)}parseSelections(){this.child.parseSelections();this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();for(const k of Jh){var a=void 0,d=k;const {facet:B,config:K,child:ia,component:ta}=this;if(this.channelHasField(d)){const Ka=B[d];var f=lc("title",null,K,d);f=Ae(Ka,K,{allowDisabling:!0,includeDefault:void 0===f||!!f});ia.component.layoutHeaders[d].title&&
(f=R.isArray(f)?f.join(", "):f,f+=` / ${ia.component.layoutHeaders[d].title}`,ia.component.layoutHeaders[d].title=null);const jb=lc("labelOrient",Ka.header,K,d),Qb=null!==Ka.header?Ea(null==(a=Ka.header)?void 0:a.labels,K.header.labels,!0):!1;a=Sb(["bottom","right"],jb)?"footer":"header";ta.layoutHeaders[d]={title:null!==Ka.header?f:null,facetFieldDef:Ka,[a]:"facet"===d?[]:[Nj(this,d,Qb)]}}}nj(this,"x");nj(this,"y")}assembleSelectionTopLevelSignals(a){return this.child.assembleSelectionTopLevelSignals(a)}assembleSignals(){this.child.assembleSignals();
return[]}assembleSelectionData(a){return this.child.assembleSelectionData(a)}getHeaderLayoutMixins(){const a={};for(const k of Jh)for(const B of bk){const K=this.component.layoutHeaders[k];var d=K[B],{facetFieldDef:f}=K;if(f&&(f=lc("titleOrient",f.header,this.config,k),["right","bottom"].includes(f))){f=Pb(k,f);let ta;null!=(ta=a).titleAnchor||(ta.titleAnchor={});a.titleAnchor[f]="end"}let ia;if(null==(ia=d)?0:ia[0]){d="row"===k?"height":"width";f="header"===B?"headerBand":"footerBand";if("facet"!==
k&&!this.child.component.layoutSize.get(d)){let ta,Ka;null!=(ta=a)[Ka=f]||(ta[Ka]={});a[f][k]=.5}if(K.title){let ta;null!=(ta=a).offset||(ta.offset={});a.offset["row"===k?"rowTitle":"columnTitle"]=10}}}return a}assembleDefaultLayout(){const {column:a,row:d}=this.facet,f=a?this.columnDistinctSignal():d?1:void 0;let k="all";d||"independent"!==this.component.resolve.scale.x?a||"independent"!==this.component.resolve.scale.y||(k="none"):k="none";return Object.assign({},this.getHeaderLayoutMixins(),f?{columns:f}:
{},{bounds:"full",align:k})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof Gl))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(a){return this.parent&&this.parent instanceof Gl?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:Pc(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(a)):super.assembleGroup(a)}getCardinalityAggregateForChild(){const a=
[],d=[],f=[];if(this.child instanceof Gl){if(this.child.channelHasField("column")){var k=Pc(this.child.facet.column);a.push(k);d.push("distinct");f.push(`distinct_${k}`)}}else for(k of oi){var B=this.child.component.scales[k];if(B&&!B.merged){var K=B.get("type");B=B.get("range");Jc(K)&&Rc(B)&&(K=Tj(this.child,k),(K=Fk(K))?(a.push(K),d.push("distinct"),f.push(`distinct_${K}`)):Aa(ec(k)))}}return{fields:a,ops:d,as:f}}assembleFacet(){const {name:a,data:d}=this.component.data.facetRoot,{row:f,column:k}=
this.facet,{fields:B,ops:K,as:ia}=this.getCardinalityAggregateForChild(),ta=[];for(var Ka of Jh){var jb=this.facet[Ka];if(jb){ta.push(Pc(jb));const {bin:Qb,sort:uc}=jb;Z(Qb)&&ta.push(Pc(jb,{binSuffix:"end"}));if(bd(uc)){const {field:ld,op:Kc="min"}=uc;jb=fk(jb,uc);f&&k?(B.push(jb),K.push("max")):(B.push(ld),K.push(Kc));ia.push(jb)}else R.isArray(uc)&&(jb=Db(jb,Ka),B.push(jb),K.push("max"),ia.push(jb))}}Ka=!!f&&!!k;return Object.assign({},{name:a,data:d,groupby:ta},Ka||0<B.length?{aggregate:Object.assign({},
Ka?{cross:Ka}:{},B.length?{fields:B,ops:K,as:ia}:{})}:{})}facetSortFields(a){var {facet:d}=this;return(d=d[a])?bd(d.sort)?[fk(d,d.sort,{expr:"datum"})]:R.isArray(d.sort)?[Db(d,a,{expr:"datum"})]:[Pc(d,{expr:"datum"})]:[]}facetSortOrder(a){const {facet:d}=this;return(a=d[a])?({sort:a}=a,[(bd(a)?a.order:!R.isArray(a)&&a)||"ascending"]):[]}assembleLabelTitle(){const {facet:a,config:d}=this;if(a.facet)return ad(a.facet,"facet",d);const f={row:["top","bottom"],column:["left","right"]};for(const k of jj)if(a[k]){let B;
const K=lc("labelOrient",null==(B=a[k])?void 0:B.header,d,k);if(f[k].includes(K))return ad(a[k],k,d)}}assembleMarks(){const {child:a}=this,d=Xi(this.component.data.facetRoot),f=a.assembleGroupEncodeEntry(!1),k=this.assembleLabelTitle()||a.assembleTitle(),B=a.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},k?{title:k}:{},B?{style:B}:{},{from:{facet:this.assembleFacet()},sort:{field:Jh.map(K=>this.facetSortFields(K)).flat(),order:Jh.map(K=>this.facetSortOrder(K)).flat()}},
0<d.length?{data:d}:{},f?{encode:{update:f}}:{},a.assembleGroup(ei(this,[])))]}getMapping(){return this.facet}}class Gm extends wi{constructor(a,d,f,k){super(a,"concat",d,f,k,a.resolve);H(this,"children",void 0);let B,K,ia,ta;"shared"!==(null==(B=a.resolve)?void 0:null==(K=B.axis)?void 0:K.x)&&"shared"!==(null==(ia=a.resolve)?void 0:null==(ta=ia.axis)?void 0:ta.y)||Aa("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");this.children=this.getChildren(a).map((Ka,
jb)=>cl(Ka,this,this.getName(`concat_${jb}`),void 0,k))}parseData(){this.component.data=oj(this);for(const a of this.children)a.parseData()}parseSelections(){this.component.selection={};for(const a of this.children){a.parseSelections();for(const d of ce(a.component.selection))this.component.selection[d]=a.component.selection[d]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){for(const a of this.children)a.parseAxesAndHeaders()}getChildren(a){return"vconcat"in
a?a.vconcat:"hconcat"in a?a.hconcat:a.concat}parseLayoutSize(){Pj(this);const a=void 0===this.layout.columns?"height":"childHeight";dj(this,1===this.layout.columns?"width":"childWidth");dj(this,a)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(a){return this.children.reduce((d,f)=>f.assembleSelectionTopLevelSignals(d),a)}assembleSignals(){this.children.forEach(a=>a.assembleSignals());return[]}assembleLayoutSignals(){const a=Ke(this);for(const d of this.children)a.push(...d.assembleLayoutSignals());
return a}assembleSelectionData(a){return this.children.reduce((d,f)=>f.assembleSelectionData(d),a)}assembleMarks(){return this.children.map(a=>{const d=a.assembleTitle(),f=a.assembleGroupStyle(),k=a.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:a.getName("group")},d?{title:d}:{},f?{style:f}:{},k?{encode:{update:k}}:{},a.assembleGroup())})}assembleGroupStyle(){}assembleDefaultLayout(){const a=this.layout.columns;return Object.assign({},null!=a?{columns:a}:{},{bounds:"full",
align:"each"})}}const Hm=Object.assign({},{disable:1,gridScale:1,scale:1},rk,{labelExpr:1,encode:1}),ym=ce(Hm);class zm extends Tg{constructor(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super();this.explicit=a;this.implicit=d;this.mainExtracted=f}clone(){return new zm(zf(this.explicit),zf(this.implicit),this.mainExtracted)}hasAxisPart(a){if("axis"===a)return!0;
if("grid"===a||"title"===a)return!!this.get(a);a=this.get(a);return!(!1===a||null===a)}hasOrientSignalRef(){return $b(this.explicit.orient)}}const Im={bottom:"top",top:"bottom",left:"right",right:"left"},Fm=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),Fl={arc:{vgMark:"arc",encodeEntry:a=>Object.assign({},Tf(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),bc("x",a,{defaultPos:"mid"}),bc("y",
a,{defaultPos:"mid"}),Ce(a,"radius"),Ce(a,"theta"))},area:{vgMark:"area",encodeEntry:a=>Object.assign({},Tf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),Xc("x",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===a.markDef.orient}),Xc("y",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===a.markDef.orient}),vh(a))},bar:{vgMark:"rect",encodeEntry:a=>Object.assign({},Tf(a,{align:"ignore",baseline:"ignore",color:"include",
orient:"ignore",size:"ignore",theta:"ignore"}),Ce(a,"x"),Ce(a,"y"))},circle:{vgMark:"symbol",encodeEntry:a=>ok(a,"circle")},geoshape:{vgMark:"shape",encodeEntry:a=>Object.assign({},Tf(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:a=>{var {encoding:d}=a;d=d.shape;return[Object.assign({},{type:"geoshape",projection:a.projectionName()},d&&ma(d)&&"geojson"===d.type?{field:Pc(d,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:a=>
Object.assign({},Tf(a,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),Ce(a,"x"),Ce(a,"y"),y(a,"url"))},line:{vgMark:"line",encodeEntry:a=>Object.assign({},Tf(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),bc("x",a,{defaultPos:"mid"}),bc("y",a,{defaultPos:"mid"}),oa("size",a,{vgChannel:"strokeWidth"}),vh(a))},point:{vgMark:"symbol",encodeEntry:a=>ok(a)},rect:{vgMark:"rect",encodeEntry:a=>Object.assign({},
Tf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Ce(a,"x"),Ce(a,"y"))},rule:{vgMark:"rule",encodeEntry:a=>{var {markDef:d}=a;d=d.orient;return a.encoding.x||a.encoding.y||a.encoding.latitude||a.encoding.longitude?Object.assign({},Tf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Xc("x",a,{defaultPos:"horizontal"===d?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==d}),Xc("y",a,{defaultPos:"vertical"===
d?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==d}),oa("size",a,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:a=>ok(a,"square")},text:{vgMark:"text",encodeEntry:a=>{var {config:d}=a,f=Object,k=f.assign,B=Tf(a,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),K=bc("x",a,{defaultPos:"mid"}),ia=bc("y",a,{defaultPos:"mid"}),ta=y(a),Ka=oa("size",a,{vgChannel:"fontSize"}),jb=oa("angle",a);var Qb=void 0===Ac("align",
a.markDef,d)?"center":void 0;Qb=Mf("align",Qb);d=void 0===Ac("baseline",a.markDef,d)?"middle":void 0;return k.call(f,{},B,K,ia,ta,Ka,jb,Qb,Mf("baseline",d),bc("radius",a,{defaultPos:null}),bc("theta",a,{defaultPos:null}))}},tick:{vgMark:"rect",encodeEntry:a=>{const {config:d,markDef:f}=a;var k=f.orient;const B="horizontal"===k?"width":"height";k="horizontal"===k?"height":"width";var K=Object,ia=K.assign,ta=Tf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),
Ka=bc("x",a,{defaultPos:"mid",vgChannel:"xc"}),jb=bc("y",a,{defaultPos:"mid",vgChannel:"yc"});{const {config:Kc,markDef:cd}=a;var {orient:Qb}=cd;var uc="horizontal"===Qb?"width":"height";Qb=a.getScaleComponent("horizontal"===Qb?"x":"y");var ld;const qd=null!=(ld=Ac("size",cd,Kc,{vgChannel:uc}))?ld:Kc.tick.bandSize;uc=void 0!==qd?qd:(ld=Qb?Qb.get("range"):void 0)&&Rc(ld)&&R.isNumber(ld.step)?3*ld.step/4:3*tf(Kc.view,uc)/4}return ia.call(K,{},ta,Ka,jb,oa("size",a,{defaultValue:uc,vgChannel:B}),{[k]:Tb(Ac("thickness",
f,d))})}},trail:{vgMark:"trail",encodeEntry:a=>Object.assign({},Tf(a,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),bc("x",a,{defaultPos:"mid"}),bc("y",a,{defaultPos:"mid"}),oa("size",a),vh(a))}};class Bm extends ll{constructor(a,d,f){let k=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},B=4<arguments.length?arguments[4]:void 0;super(a,"unit",d,f,B,void 0,Kf(a)?a.view:void 0);H(this,"markDef",void 0);H(this,"encoding",void 0);H(this,"specifiedScales",
{});H(this,"stack",void 0);H(this,"specifiedAxes",{});H(this,"specifiedLegends",{});H(this,"specifiedProjection",{});H(this,"selection",[]);H(this,"children",[]);const K=eb(a.mark)?Object.assign({},a.mark):{type:a.mark},ia=K.type;void 0===K.filled&&(K.filled=Rl(K,B,{graticule:a.data&&"graticule"in a.data}));const ta=this.encoding=Af(a.encoding||{},ia,K.filled,B);this.markDef=gm(K,ta,B);this.size=Pl({encoding:ta,size:Kf(a)?Object.assign({},k,a.width?{width:a.width}:{},a.height?{height:a.height}:{}):
k});this.stack=Wh(this.markDef,ta);this.specifiedScales=this.initScales(ia,ta);this.specifiedAxes=this.initAxes(ta);this.specifiedLegends=this.initLegends(ta);this.specifiedProjection=a.projection;let Ka;this.selection=(null!=(Ka=a.params)?Ka:[]).filter(jb=>fh(jb))}get hasProjection(){const {encoding:a}=this,d=this.mark===Mi,f=a&&tj.some(k=>Xb(a[k]));return d||f}scaleDomain(a){return(a=this.specifiedScales[a])?a.domain:void 0}axis(a){return this.specifiedAxes[a]}legend(a){return this.specifiedLegends[a]}initScales(a,
d){return Ej.reduce((f,k)=>{const B=Le(d[k]);if(B){let K;f[k]=this.initScale(null!=(K=B.scale)?K:{})}return f},{})}initScale(a){const {domain:d,range:f}=a;a=rc(a);R.isArray(d)&&(a.domain=d.map(Wb));R.isArray(f)&&(a.range=f.map(Wb));return a}initAxes(a){return oi.reduce((d,f)=>{var k=a[f];if(Xb(k)||"x"===f&&Xb(a.x2)||"y"===f&&Xb(a.y2))k=Xb(k)?k.axis:void 0,d[f]=k?this.initAxis(Object.assign({},k)):k;return d},{})}initAxis(a){var d=ce(a);const f={};for(const k of d)d=a[k],f[k]=jf(d)?Pa(d):Wb(d);return f}initLegends(a){return wl.reduce((d,
f)=>{var k=Le(a[f]),B;if(B=k)a:{switch(f){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":B=!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":B=!1;break a}B=void 0}B&&(k=k.legend,d[f]=k?rc(k):k);return d},{})}parseData(){this.component.data=oj(this)}parseLayoutSize(){const {size:a,component:d}=this;for(const k of oi){const B=h(k);if(a[B]){var f=a[B];d.layoutSize.set(B,ye(f)?"step":f,!0)}else f=Ql(this,B),d.layoutSize.set(B,
f,!1)}}parseSelections(){var a=this.component;{var d=this.selection;var f={};const K=this.config.selection;if(d&&d.length)for(const ia of d){d=Ia(ia.name);var k=ia.select,B=R.isString(k)?k:k.type;k=R.isObject(k)?zf(k):{type:B};const ta=K[B];for(const Ka in ta)if("fields"!==Ka&&"encodings"!==Ka&&("mark"===Ka&&(k[Ka]=Object.assign({},ta[Ka],k[Ka])),void 0===k[Ka]||!0===k[Ka])){let jb;k[Ka]=zf(null!=(jb=ta[Ka])?jb:k[Ka])}d=f[d]=Object.assign({},k,{name:d,type:B,init:ia.value,bind:ia.bind,events:R.isString(k.on)?
R.parseSelector(k.on,"scope"):R.array(zf(k.on))});B=zf(ia);for(const Ka of pi)Ka.defined(d)&&Ka.parse&&Ka.parse(this,d,B)}}a.selection=f}parseMarkGroup(){this.component.mark=im(this)}parseAxesAndHeaders(){this.component.axes=dm(this)}assembleSelectionTopLevelSignals(a){return Og(this,a)}assembleSignals(){var a=[...Oi(this)];var d=[];var f;for(const k of ih(null!=(f=this.component.selection)?f:{})){f=k.name;let B=`${f}${"_tuple"}, ${"global"===k.resolve?"true":`{unit: ${If(this)}}`}`;for(const K of pi)K.defined(k)&&
(K.signals&&(d=K.signals(this,k,d)),K.modifyExpr&&(B=K.modifyExpr(this,k,B)));d.push({name:f+"_modify",on:[{events:{signal:k.name+"_tuple"},update:`modify(${R.stringValue(k.name+"_store")}, ${B})`}]})}d=Ta(d);return[...a,...d]}assembleSelectionData(a){return bg(this,a)}assembleLayout(){return null}assembleLayoutSignals(){return Ke(this)}assembleMarks(){let a,d=null!=(a=this.component.mark)?a:[];this.parent&&Hi(this.parent)||(d=U(this,d));return d.map(this.correctDataNames)}assembleGroupStyle(){const {style:a}=
this.view||{};return void 0!==a?a:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(a){return Cf(this.encoding,a)}fieldDef(a){return xe(this.encoding[a])}typedFieldDef(a){a=this.fieldDef(a);return Dc(a)?a:null}}class Am extends wi{constructor(a,d,f,k,B){super(a,"layer",d,f,B,a.resolve,a.view);H(this,"children",void 0);const K=Object.assign({},k,a.width?{width:a.width}:{},a.height?{height:a.height}:{});this.children=
a.layer.map((ia,ta)=>{if("layer"in ia)return new Am(ia,this,this.getName(`layer_${ta}`),K,B);if(Qe(ia))return new Bm(ia,this,this.getName(`layer_${ta}`),K,B);throw Error($a(ia));})}parseData(){this.component.data=oj(this);for(const a of this.children)a.parseData()}parseLayoutSize(){Pj(this);dj(this,"width");dj(this,"height")}parseSelections(){this.component.selection={};for(const a of this.children){a.parseSelections();for(const d of ce(a.component.selection))this.component.selection[d]=a.component.selection[d]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){const {axes:a,
resolve:d}=this.component,f={top:0,bottom:0,right:0,left:0};for(var k of this.children){k.parseAxesAndHeaders();for(const B of ce(k.component.axes))d.axis[B]=xb(this.component.resolve,B),"shared"===d.axis[B]&&(a[B]=Nl(a[B],k.component.axes[B]),a[B]||(d.axis[B]="independent",delete a[B]))}for(const B of oi){for(const K of this.children)if(K.component.axes[B]){if("independent"===d.axis[B]){let ia;a[B]=(null!=(ia=a[B])?ia:[]).concat(K.component.axes[B]);for(const ta of K.component.axes[B]){const {value:Ka,
explicit:jb}=ta.getWithExplicit("orient");$b(Ka)||(0<f[Ka]&&!jb&&(k=Im[Ka],f[Ka]>f[k]&&ta.set("orient",k,!1)),f[Ka]++)}}delete K.component.axes[B]}if("independent"===d.axis[B]&&a[B]&&1<a[B].length)for(const K of a[B])K.get("grid")&&!K.explicit.grid&&(K.implicit.grid=!1)}}assembleSelectionTopLevelSignals(a){return this.children.reduce((d,f)=>f.assembleSelectionTopLevelSignals(d),a)}assembleSignals(){return this.children.reduce((a,d)=>a.concat(d.assembleSignals()),Oi(this))}assembleLayoutSignals(){return this.children.reduce((a,
d)=>a.concat(d.assembleLayoutSignals()),Ke(this))}assembleSelectionData(a){return this.children.reduce((d,f)=>f.assembleSelectionData(d),a)}assembleGroupStyle(){var a=new Set;for(const d of this.children)for(const f of R.array(d.assembleGroupStyle()))a.add(f);a=Array.from(a);return 1<a.length?a:1===a.length?a[0]:void 0}assembleTitle(){let a=super.assembleTitle();if(a)return a;for(const d of this.children)if(a=d.assembleTitle())return a}assembleLayout(){return null}assembleMarks(){return ya(this,this.children.flatMap(a=>
a.assembleMarks()))}assembleLegends(){return this.children.reduce((a,d)=>a.concat(d.assembleLegends()),xd(this))}}l.accessPathDepth=Y;l.accessPathWithDatum=vb;l.compile=function(a){let d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};d.logger&&(Ak=d.logger);d.fieldTitle&&(Qi=d.fieldTitle);try{const Qb=Df(R.mergeConfig(d.config,a.config)),uc=Ch(a,Qb),ld=cl(uc,null,"",void 0,Qb);ld.parse();var f=ld.component.data,k=ld;zg(f.sources);let Kc=0,cd=0;for(var B=0;5>B&&Oh(f,k,!0);B++)Kc++;f.sources.map(gg);
for(B=0;5>B&&Oh(f,k,!1);B++)cd++;zg(f.sources);5===Math.max(Kc,cd)&&Aa("Maximum optimization runs(5) reached.");var K=uc.autosize;f=Qb;k=ld;const qd=k.component.layoutSize.get("width"),fe=k.component.layoutSize.get("height");void 0===K?(K={type:"pad"},k.hasAxisOrientSignalRef()&&(K.resize=!0)):R.isString(K)&&(K={type:K});var ia;if(ia=qd&&fe){var ta=K.type;ia="fit"===ta||"fit-x"===ta||"fit-y"===ta}if(ia)if("step"===qd&&"step"===fe)Aa(oc()),K.type="pad";else if("step"===qd||"step"===fe){ta="step"===
qd?"width":"height";Aa(oc(aa(ta)));ia=K;var Ka=(ta="width"===ta?"height":"width",`fit-${aa(ta)}`);ia.type=Ka}var jb=Object.assign({},1===ce(K).length&&K.type?"pad"===K.type?{}:{autosize:K.type}:{autosize:K},Dh(f,!1),Dh(a,!0));return{spec:kl(ld,jb,a.datasets,a.usermeta),normalized:uc}}finally{d.logger&&(Ak=el),d.fieldTitle&&(Qi=Vk)}};l.contains=Sb;l.deepEqual=Bi;l.deleteNestedProperty=mb;l.duplicate=zf;l.entries=Zi;l.every=rb;l.fieldIntersection=pb;l.flatAccessWithDatum=qb;l.getFirstDefined=Ea;l.hasIntersection=
Lb;l.hash=Ab;l.internalField=cb;l.isBoolean=Da;l.isEmpty=Na;l.isEqual=function(a,d){const f=ce(a),k=ce(d);if(f.length!==k.length)return!1;for(const B of f)if(a[B]!==d[B])return!1;return!0};l.isInternalField=ca;l.isNullOrFalse=jc;l.isNumeric=x;l.keys=ce;l.logicalExpr=kb;l.mergeDeep=Fb;l.never=sc;l.normalize=Ch;l.normalizeAngle=pa;l.omit=pc;l.pick=zc;l.prefixGenerator=Wa;l.removePathFromField=ra;l.replaceAll=ob;l.replacePathInField=Vb;l.resetIdCounter=function(){Nk=42};l.setEqual=Bb;l.some=Ua;l.stringify=
Ag;l.titleCase=Ma;l.unique=Hb;l.uniqueId=Ga;l.vals=ih;l.varName=Ia;l.version="5.9.3"})};
shadow$provide[67]=function(fc,Eb,Wc,nb){function t(){throw Error("setTimeout has not been defined");}function l(){throw Error("clearTimeout has not been defined");}function R(Fb){if(pc===setTimeout)return setTimeout(Fb,0);if((pc===t||!pc)&&setTimeout)return pc=setTimeout,setTimeout(Fb,0);try{return pc(Fb,0)}catch(Hb){try{return pc.call(null,Fb,0)}catch(Bb){return pc.call(this,Fb,0)}}}function hb(Fb){if(Ab===clearTimeout)return clearTimeout(Fb);if((Ab===l||!Ab)&&clearTimeout)return Ab=clearTimeout,
clearTimeout(Fb);try{return Ab(Fb)}catch(Hb){try{return Ab.call(null,Fb)}catch(Bb){return Ab.call(this,Fb)}}}function Cb(){Sb&&Ua&&(Sb=!1,Ua.length?jc=Ua.concat(jc):rb=-1,jc.length&&Yb())}function Yb(){if(!Sb){var Fb=R(Cb);Sb=!0;for(var Hb=jc.length;Hb;){Ua=jc;for(jc=[];++rb<Hb;)Ua&&Ua[rb].run();rb=-1;Hb=jc.length}Ua=null;Sb=!1;hb(Fb)}}function sc(Fb,Hb){this.fun=Fb;this.array=Hb}function zc(){}fc=Wc.exports={};try{var pc="function"===typeof setTimeout?setTimeout:t}catch(Fb){pc=t}try{var Ab="function"===
typeof clearTimeout?clearTimeout:l}catch(Fb){Ab=l}var jc=[],Sb=!1,Ua,rb=-1;fc.nextTick=function(Fb){var Hb=Array(arguments.length-1);if(1<arguments.length)for(var Bb=1;Bb<arguments.length;Bb++)Hb[Bb-1]=arguments[Bb];jc.push(new sc(Fb,Hb));1!==jc.length||Sb||R(Yb)};sc.prototype.run=function(){this.fun.apply(null,this.array)};fc.title="browser";fc.browser=!0;fc.env={};fc.argv=[];fc.version="";fc.versions={};fc.on=zc;fc.addListener=zc;fc.once=zc;fc.off=zc;fc.removeListener=zc;fc.removeAllListeners=zc;
fc.emit=zc;fc.prependListener=zc;fc.prependOnceListener=zc;fc.listeners=function(Fb){return[]};fc.binding=function(Fb){throw Error("process.binding is not supported");};fc.cwd=function(){return"/"};fc.chdir=function(Fb){throw Error("process.chdir is not supported");};fc.umask=function(){return 0}};
shadow$provide[68]=function(fc,Eb,Wc,nb){var t=Eb(67);(function(l,R){"object"===typeof nb&&"undefined"!==typeof Wc?Wc.exports=R(Eb(65),Eb(66)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],R):(l="undefined"!==typeof globalThis?globalThis:l||self,l.vegaEmbed=R(l.vega,l.vegaLite))})(this,function(l,R){function hb(W){if(W&&W.__esModule)return W;var wa=Object.create(null);W&&Object.keys(W).forEach(function(db){if("default"!==db){var yb=Object.getOwnPropertyDescriptor(W,db);Object.defineProperty(wa,
db,yb.get?yb:{enumerable:!0,get:function(){return W[db]}})}});wa["default"]=W;return Object.freeze(wa)}function Cb(W){if(Array.isArray(W)){W=Array(W.length);for(var wa=0;wa<W.length;wa++)W[wa]=""+wa;return W}if(Object.keys)return Object.keys(W);wa=[];for(var db in W)m.call(W,db)&&wa.push(db);return wa}function Yb(W){switch(typeof W){case "object":return JSON.parse(JSON.stringify(W));case "undefined":return null;default:return W}}function sc(W){for(var wa=0,db=W.length,yb;wa<db;)if(yb=W.charCodeAt(wa),
48<=yb&&57>=yb)wa++;else return!1;return!0}function zc(W){return-1===W.indexOf("/")&&-1===W.indexOf("~")?W:W.replace(/~/g,"~0").replace(/\//g,"~1")}function pc(W){return W.replace(/~1/g,"/").replace(/~0/g,"~")}function Ab(W){if(void 0===W)return!0;if(W)if(Array.isArray(W))for(var wa=0,db=W.length;wa<db;wa++){if(Ab(W[wa]))return!0}else if("object"===typeof W){wa=Cb(W);db=wa.length;for(var yb=0;yb<db;yb++)if(Ab(W[wa[yb]]))return!0}return!1}function jc(W,wa){W=[W];for(var db in wa){var yb="object"===
typeof wa[db]?JSON.stringify(wa[db],null,2):wa[db];"undefined"!==typeof yb&&W.push(db+": "+yb)}return W.join("\n")}function Sb(W,wa){if(""==wa)return W;wa={op:"_get",path:wa};Ua(W,wa);return wa.value}function Ua(W,wa,db,yb,hc,Ec){void 0===db&&(db=!1);void 0===yb&&(yb=!0);void 0===hc&&(hc=!0);void 0===Ec&&(Ec=0);db&&("function"==typeof db?db(wa,0,W,wa.path):Fb(wa,0));if(""===wa.path){hc={newDocument:W};if("add"===wa.op)return hc.newDocument=wa.value,hc;if("replace"===wa.op)return hc.newDocument=wa.value,
hc.removed=W,hc;if("move"===wa.op||"copy"===wa.op)return hc.newDocument=Sb(W,wa.from),"move"===wa.op&&(hc.removed=W),hc;if("test"===wa.op){hc.test=Bb(W,wa.value);if(!1===hc.test)throw new h("Test operation failed","TEST_OPERATION_FAILED",Ec,wa,W);hc.newDocument=W;return hc}if("remove"===wa.op)return hc.removed=W,hc.newDocument=null,hc;if("_get"===wa.op)return wa.value=W,hc;if(db)throw new h("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",Ec,wa,W);return hc}yb||
(W=Yb(W));yb=(wa.path||"").split("/");var ac=W,L=1,fa=yb.length,Sa=void 0,cc,Jc;for(Jc="function"==typeof db?db:Fb;;){(cc=yb[L])&&-1!=cc.indexOf("~")&&(cc=pc(cc));if(hc&&("__proto__"==cc||"prototype"==cc&&0<L&&"constructor"==yb[L-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");db&&void 0===
Sa&&(void 0===ac[cc]?Sa=yb.slice(0,L).join("/"):L==fa-1&&(Sa=wa.path),void 0!==Sa&&Jc(wa,0,W,Sa));L++;if(Array.isArray(ac)){if("-"===cc)cc=ac.length;else{if(db&&!sc(cc))throw new h("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",Ec,wa,W);sc(cc)&&(cc=~~cc)}if(L>=fa){if(db&&"add"===wa.op&&cc>ac.length)throw new h("The specified index MUST NOT be greater than the number of elements in the array",
"OPERATION_VALUE_OUT_OF_BOUNDS",Ec,wa,W);hc=r[wa.op].call(wa,ac,cc,W);if(!1===hc.test)throw new h("Test operation failed","TEST_OPERATION_FAILED",Ec,wa,W);return hc}}else if(L>=fa){hc=p[wa.op].call(wa,ac,cc,W);if(!1===hc.test)throw new h("Test operation failed","TEST_OPERATION_FAILED",Ec,wa,W);return hc}ac=ac[cc];if(db&&L<fa&&(!ac||"object"!==typeof ac))throw new h("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",Ec,wa,W);}}function rb(W,wa,db,yb,hc){void 0===yb&&(yb=!0);
void 0===hc&&(hc=!0);if(db&&!Array.isArray(wa))throw new h("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");yb||(W=Yb(W));yb=Array(wa.length);for(var Ec=0,ac=wa.length;Ec<ac;Ec++)yb[Ec]=Ua(W,wa[Ec],db,!0,hc,Ec),W=yb[Ec].newDocument;yb.newDocument=W;return yb}function Fb(W,wa,db,yb){if("object"!==typeof W||null===W||Array.isArray(W))throw new h("Operation is not an object","OPERATION_NOT_AN_OBJECT",wa,W,db);if(p[W.op]){if("string"!==typeof W.path)throw new h("Operation `path` property is not a string",
"OPERATION_PATH_INVALID",wa,W,db);if(0!==W.path.indexOf("/")&&0<W.path.length)throw new h('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",wa,W,db);if("move"!==W.op&&"copy"!==W.op||"string"===typeof W.from)if("add"!==W.op&&"replace"!==W.op&&"test"!==W.op||void 0!==W.value){if(("add"===W.op||"replace"===W.op||"test"===W.op)&&Ab(W.value))throw new h("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",
wa,W,db);if(db)if("add"==W.op){var hc=W.path.split("/").length;yb=yb.split("/").length;if(hc!==yb+1&&hc!==yb)throw new h("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",wa,W,db);}else if("replace"===W.op||"remove"===W.op||"_get"===W.op){if(W.path!==yb)throw new h("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",wa,W,db);}else if(("move"===W.op||"copy"===W.op)&&(hc=Hb([{op:"_get",path:W.from,value:void 0}],db))&&"OPERATION_PATH_UNRESOLVABLE"===
hc.name)throw new h("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",wa,W,db);}else throw new h("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",wa,W,db);else throw new h("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",wa,W,db);}else throw new h("Operation `op` property is not one of operations defined in RFC-6902",
"OPERATION_OP_INVALID",wa,W,db);}function Hb(W,wa,db){try{if(!Array.isArray(W))throw new h("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(wa)rb(Yb(wa),Yb(W),db||!0);else{db=db||Fb;for(var yb=0;yb<W.length;yb++)db(W[yb],yb,wa,void 0)}}catch(hc){if(hc instanceof h)return hc;throw hc;}}function Bb(W,wa){if(W===wa)return!0;if(W&&wa&&"object"==typeof W&&"object"==typeof wa){var db=Array.isArray(W),yb=Array.isArray(wa);if(db&&yb){var hc=W.length;if(hc!=wa.length)return!1;for(db=hc;0!==db--;)if(!Bb(W[db],
wa[db]))return!1;return!0}if(db!=yb)return!1;yb=Object.keys(W);hc=yb.length;if(hc!==Object.keys(wa).length)return!1;for(db=hc;0!==db--;)if(!wa.hasOwnProperty(yb[db]))return!1;for(db=hc;0!==db--;)if(hc=yb[db],!Bb(W[hc],wa[hc]))return!1;return!0}return W!==W&&wa!==wa}function Lb(W,wa){void 0===wa&&(wa=!1);var db=F.get(W.object);Wa(db.value,W.object,W.patches,"",wa);W.patches.length&&rb(db.value,W.patches);wa=W.patches;0<wa.length&&(W.patches=[],W.callback&&W.callback(wa));return wa}function Wa(W,wa,
db,yb,hc){if(wa!==W){"function"===typeof wa.toJSON&&(wa=wa.toJSON());for(var Ec=Cb(wa),ac=Cb(W),L=!1,fa=ac.length-1;0<=fa;fa--){var Sa=ac[fa],cc=W[Sa];if(!m.call(wa,Sa)||void 0===wa[Sa]&&void 0!==cc&&!1===Array.isArray(wa))Array.isArray(W)===Array.isArray(wa)?(hc&&db.push({op:"test",path:yb+"/"+zc(Sa),value:Yb(cc)}),db.push({op:"remove",path:yb+"/"+zc(Sa)}),L=!0):(hc&&db.push({op:"test",path:yb,value:W}),db.push({op:"replace",path:yb,value:wa}));else{var Jc=wa[Sa];"object"==typeof cc&&null!=cc&&"object"==
typeof Jc&&null!=Jc&&Array.isArray(cc)===Array.isArray(Jc)?Wa(cc,Jc,db,yb+"/"+zc(Sa),hc):cc!==Jc&&(hc&&db.push({op:"test",path:yb+"/"+zc(Sa),value:Yb(cc)}),db.push({op:"replace",path:yb+"/"+zc(Sa),value:Yb(Jc)}))}}if(L||Ec.length!=ac.length)for(fa=0;fa<Ec.length;fa++)Sa=Ec[fa],m.call(W,Sa)||void 0===wa[Sa]||db.push({op:"add",path:yb+"/"+zc(Sa),value:Yb(wa[Sa])})}}function pb(W){var wa=this;wa instanceof pb||(wa=new pb);wa.tail=null;wa.head=null;wa.length=0;if(W&&"function"===typeof W.forEach)W.forEach(function(hc){wa.push(hc)});
else if(0<arguments.length)for(var db=0,yb=arguments.length;db<yb;db++)wa.push(arguments[db]);return wa}function Na(W,wa,db,yb){if(!(this instanceof Na))return new Na(W,wa,db,yb);this.list=yb;this.value=W;wa?(wa.next=this,this.prev=wa):this.prev=null;db?(db.prev=this,this.next=db):this.next=null}function Da(){if(fd)return ed;fd=1;const W=Symbol("SemVer ANY");class wa{static get ANY(){return W}constructor(Sa,cc){cc=db(cc);if(Sa instanceof wa){if(Sa.loose===!!cc.loose)return Sa;Sa=Sa.value}ac("comparator",
Sa,cc);this.options=cc;this.loose=!!cc.loose;this.parse(Sa);this.value=this.semver===W?"":this.operator+this.semver.version;ac("comp",this)}parse(Sa){const cc=Sa.match(this.options.loose?yb[hc.COMPARATORLOOSE]:yb[hc.COMPARATOR]);if(!cc)throw new TypeError("Invalid comparator: ".concat(Sa));this.operator=void 0!==cc[1]?cc[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=cc[2]?new L(cc[2],this.options.loose):W}toString(){return this.value}test(Sa){ac("Comparator.test",Sa,this.options.loose);
if(this.semver===W||Sa===W)return!0;if("string"===typeof Sa)try{Sa=new L(Sa,this.options)}catch(cc){return!1}return Ec(Sa,this.operator,this.semver,this.options)}intersects(Sa,cc){if(!(Sa instanceof wa))throw new TypeError("a Comparator is required");cc&&"object"===typeof cc||(cc={loose:!!cc,includePrerelease:!1});if(""===this.operator)return""===this.value?!0:(new fa(Sa.value,cc)).test(this.value);if(""===Sa.operator)return""===Sa.value?!0:(new fa(this.value,cc)).test(Sa.semver);const Jc=("\x3e\x3d"===
this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===Sa.operator||"\x3e"===Sa.operator),Bc=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===Sa.operator||"\x3c"===Sa.operator),$c=this.semver.version===Sa.semver.version,pd=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===Sa.operator||"\x3c\x3d"===Sa.operator),ee=Ec(this.semver,"\x3c",Sa.semver,cc)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===Sa.operator||"\x3c"===Sa.operator);Sa=Ec(this.semver,
"\x3e",Sa.semver,cc)&&("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3e\x3d"===Sa.operator||"\x3e"===Sa.operator);return Jc||Bc||$c&&pd||ee||Sa}}ed=wa;const db=Ic,{re:yb,t:hc}=Ac.exports,Ec=Sc,ac=Nd,L=oc,fa=Ia();return ed}function Ia(){if(Td)return Qd;Td=1;class W{constructor(Mc,Uc){Uc=db(Uc);if(Mc instanceof W)return Mc.loose===!!Uc.loose&&Mc.includePrerelease===!!Uc.includePrerelease?Mc:new W(Mc.raw,Uc);if(Mc instanceof yb)return this.raw=Mc.value,this.set=[[Mc]],this.format(),this;this.options=
Uc;this.loose=!!Uc.loose;this.includePrerelease=!!Uc.includePrerelease;this.raw=Mc;this.set=Mc.split("||").map(Qc=>this.parseRange(Qc.trim())).filter(Qc=>Qc.length);if(!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(Mc));if(1<this.set.length)if(Mc=this.set[0],this.set=this.set.filter(Qc=>"\x3c0.0.0-0"!==Qc[0].value),0===this.set.length)this.set=[Mc];else if(1<this.set.length)for(const Qc of this.set)if(1===Qc.length&&""===Qc[0].value){this.set=[Qc];break}this.format()}format(){return this.range=
this.set.map(Mc=>Mc.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(Mc){Mc=Mc.trim();var Uc=Object.keys(this.options).join(",");Uc="parseRange:".concat(Uc,":").concat(Mc);var Qc=wa.get(Uc);if(Qc)return Qc;Qc=this.options.loose;Mc=Mc.replace(Qc?ac[L.HYPHENRANGELOOSE]:ac[L.HYPHENRANGE],wd(this.options.includePrerelease));hc("hyphen replace",Mc);Mc=Mc.replace(ac[L.COMPARATORTRIM],fa);hc("comparator trim",Mc);Mc=Mc.replace(ac[L.TILDETRIM],Sa);Mc=Mc.replace(ac[L.CARETTRIM],
cc);Mc=Mc.split(/\s+/).join(" ");Mc=Mc.split(" ").map(kd=>{var Ld=kd;kd=this.options;hc("comp",Ld,kd);Ld=ee(Ld,kd);hc("caret",Ld);Ld=$c(Ld,kd);hc("tildes",Ld);Ld=eb(Ld,kd);hc("xrange",Ld);hc("replaceStars",Ld,kd);Ld=Ld.trim().replace(ac[L.STAR],"");hc("stars",Ld);return Ld}).join(" ").split(/\s+/).map(kd=>{var Ld=this.options;hc("replaceGTE0",kd,Ld);return kd.trim().replace(ac[Ld.includePrerelease?L.GTE0PRE:L.GTE0],"")});Qc&&(Mc=Mc.filter(kd=>{hc("loose invalid filter",kd,this.options);return!!kd.match(ac[L.COMPARATORLOOSE])}));
hc("range list",Mc);Qc=new Map;Mc=Mc.map(kd=>new yb(kd,this.options));for(var td of Mc){if("\x3c0.0.0-0"===td.value)return[td];Qc.set(td.value,td)}1<Qc.size&&Qc.has("")&&Qc.delete("");td=[...Qc.values()];wa.set(Uc,td);return td}intersects(Mc,Uc){if(!(Mc instanceof W))throw new TypeError("a Range is required");return this.set.some(Qc=>Jc(Qc,Uc)&&Mc.set.some(td=>Jc(td,Uc)&&Qc.every(kd=>td.every(Ld=>kd.intersects(Ld,Uc)))))}test(Mc){if(!Mc)return!1;if("string"===typeof Mc)try{Mc=new Ec(Mc,this.options)}catch(Ld){return!1}for(let Ld=
0;Ld<this.set.length;Ld++){a:{var Uc=this.set[Ld];var Qc=Mc,td=this.options;for(var kd=0;kd<Uc.length;kd++)if(!Uc[kd].test(Qc)){Uc=!1;break a}if(Qc.prerelease.length&&!td.includePrerelease){for(td=0;td<Uc.length;td++)if(hc(Uc[td].semver),Uc[td].semver!==yb.ANY&&0<Uc[td].semver.prerelease.length&&(kd=Uc[td].semver,kd.major===Qc.major&&kd.minor===Qc.minor&&kd.patch===Qc.patch)){Uc=!0;break a}Uc=!1}else Uc=!0}if(Uc)return!0}return!1}}Qd=W;const wa=new ic({max:1E3}),db=Ic,yb=Da(),hc=Nd,Ec=oc,{re:ac,t:L,
comparatorTrimReplace:fa,tildeTrimReplace:Sa,caretTrimReplace:cc}=Ac.exports,Jc=(Mc,Uc)=>{let Qc=!0;Mc=Mc.slice();let td=Mc.pop();for(;Qc&&Mc.length;)Qc=Mc.every(kd=>td.intersects(kd,Uc)),td=Mc.pop();return Qc},Bc=Mc=>!Mc||"x"===Mc.toLowerCase()||"*"===Mc,$c=(Mc,Uc)=>Mc.trim().split(/\s+/).map(Qc=>pd(Qc,Uc)).join(" "),pd=(Mc,Uc)=>Mc.replace(Uc.loose?ac[L.TILDELOOSE]:ac[L.TILDE],(Qc,td,kd,Ld,Cd)=>{hc("tilde",Mc,Qc,td,kd,Ld,Cd);Bc(td)?Qc="":Bc(kd)?Qc="\x3e\x3d".concat(td,".0.0 \x3c").concat(+td+1,".0.0-0"):
Bc(Ld)?Qc="\x3e\x3d".concat(td,".").concat(kd,".0 \x3c").concat(td,".").concat(+kd+1,".0-0"):Cd?(hc("replaceTilde pr",Cd),Qc="\x3e\x3d".concat(td,".").concat(kd,".").concat(Ld,"-").concat(Cd," \x3c").concat(td,".").concat(+kd+1,".0-0")):Qc="\x3e\x3d".concat(td,".").concat(kd,".").concat(Ld," \x3c").concat(td,".").concat(+kd+1,".0-0");hc("tilde return",Qc);return Qc}),ee=(Mc,Uc)=>Mc.trim().split(/\s+/).map(Qc=>Ra(Qc,Uc)).join(" "),Ra=(Mc,Uc)=>{hc("caret",Mc,Uc);const Qc=Uc.includePrerelease?"-0":"";
return Mc.replace(Uc.loose?ac[L.CARETLOOSE]:ac[L.CARET],(td,kd,Ld,Cd,be)=>{hc("caret",Mc,td,kd,Ld,Cd,be);Bc(kd)?td="":Bc(Ld)?td="\x3e\x3d".concat(kd,".0.0").concat(Qc," \x3c").concat(+kd+1,".0.0-0"):Bc(Cd)?td="0"===kd?"\x3e\x3d".concat(kd,".").concat(Ld,".0").concat(Qc," \x3c").concat(kd,".").concat(+Ld+1,".0-0"):"\x3e\x3d".concat(kd,".").concat(Ld,".0").concat(Qc," \x3c").concat(+kd+1,".0.0-0"):be?(hc("replaceCaret pr",be),td="0"===kd?"0"===Ld?"\x3e\x3d".concat(kd,".").concat(Ld,".").concat(Cd,"-").concat(be,
" \x3c").concat(kd,".").concat(Ld,".").concat(+Cd+1,"-0"):"\x3e\x3d".concat(kd,".").concat(Ld,".").concat(Cd,"-").concat(be," \x3c").concat(kd,".").concat(+Ld+1,".0-0"):"\x3e\x3d".concat(kd,".").concat(Ld,".").concat(Cd,"-").concat(be," \x3c").concat(+kd+1,".0.0-0")):(hc("no pr"),td="0"===kd?"0"===Ld?"\x3e\x3d".concat(kd,".").concat(Ld,".").concat(Cd).concat(Qc," \x3c").concat(kd,".").concat(Ld,".").concat(+Cd+1,"-0"):"\x3e\x3d".concat(kd,".").concat(Ld,".").concat(Cd).concat(Qc," \x3c").concat(kd,
".").concat(+Ld+1,".0-0"):"\x3e\x3d".concat(kd,".").concat(Ld,".").concat(Cd," \x3c").concat(+kd+1,".0.0-0"));hc("caret return",td);return td})},eb=(Mc,Uc)=>{hc("replaceXRanges",Mc,Uc);return Mc.split(/\s+/).map(Qc=>qc(Qc,Uc)).join(" ")},qc=(Mc,Uc)=>{Mc=Mc.trim();return Mc.replace(Uc.loose?ac[L.XRANGELOOSE]:ac[L.XRANGE],(Qc,td,kd,Ld,Cd,be)=>{hc("xRange",Mc,Qc,td,kd,Ld,Cd,be);const ve=Bc(kd),Me=ve||Bc(Ld);Cd=Me||Bc(Cd);"\x3d"===td&&Cd&&(td="");be=Uc.includePrerelease?"-0":"";ve?Qc="\x3e"===td||"\x3c"===
td?"\x3c0.0.0-0":"*":td&&Cd?(Me&&(Ld=0),Cd=0,"\x3e"===td?(td="\x3e\x3d",Me?(kd=+kd+1,Ld=0):Ld=+Ld+1,Cd=0):"\x3c\x3d"===td&&(td="\x3c",Me?kd=+kd+1:Ld=+Ld+1),"\x3c"===td&&(be="-0"),Qc="".concat(td+kd,".").concat(Ld,".").concat(Cd).concat(be)):Me?Qc="\x3e\x3d".concat(kd,".0.0").concat(be," \x3c").concat(+kd+1,".0.0-0"):Cd&&(Qc="\x3e\x3d".concat(kd,".").concat(Ld,".0").concat(be," \x3c").concat(kd,".").concat(+Ld+1,".0-0"));hc("xRange return",Qc);return Qc})},wd=Mc=>(Uc,Qc,td,kd,Ld,Cd,be,ve,Me,$e,sf,
nd,Fc)=>{Qc=Bc(td)?"":Bc(kd)?"\x3e\x3d".concat(td,".0.0").concat(Mc?"-0":""):Bc(Ld)?"\x3e\x3d".concat(td,".").concat(kd,".0").concat(Mc?"-0":""):Cd?"\x3e\x3d".concat(Qc):"\x3e\x3d".concat(Qc).concat(Mc?"-0":"");ve=Bc(Me)?"":Bc($e)?"\x3c".concat(+Me+1,".0.0-0"):Bc(sf)?"\x3c".concat(Me,".").concat(+$e+1,".0-0"):nd?"\x3c\x3d".concat(Me,".").concat($e,".").concat(sf,"-").concat(nd):Mc?"\x3c".concat(Me,".").concat($e,".").concat(+sf+1,"-0"):"\x3c\x3d".concat(ve);return"".concat(Qc," ").concat(ve).trim()};
return Qd}function kb(W,wa,db,yb,hc,Ec){const ac=L=>fb[L.type](ac,L);ac.memberDepth=0;ac.fn=Object.create(wa);ac.params=db;ac.datum=yb;ac.event=hc;ac.item=Ec;Aa.forEach(L=>ac.fn[L]=function(){return hc.vega[L](...arguments)});return ac(W)}function mb(W){const [wa,db]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(W).slice(1,3);return{library:wa,version:db}}function Ma(W,wa,db){W.fields=wa||[];W.fname=db;return W}function vb(W){return 1===W.length?Hc(W[0]):jd(W)}function qb(W){function wa(){db.push(ac+
W.substring(L,fa));ac="";L=fa+1}const db=[],yb=W.length;let hc=null,Ec=0,ac="",L,fa,Sa;W+="";for(L=fa=0;fa<yb;++fa)if(Sa=W[fa],"\\"===Sa)ac+=W.substring(L,fa),ac+=W.substring(++fa,++fa),L=fa;else if(Sa===hc)wa(),hc=null,Ec=-1;else if(!hc)if(L===Ec&&'"'===Sa)L=fa+1,hc=Sa;else if(L===Ec&&"'"===Sa)L=fa+1,hc=Sa;else if("."===Sa&&!Ec)fa>L?wa():L=fa+1;else if("["===Sa)fa>L&&wa(),Ec=L=fa+1;else if("]"===Sa){if(!Ec)throw Error("Access path missing open bracket: "+W);0<Ec&&wa();Ec=0;L=fa+1}if(Ec)throw Error("Access path missing closing bracket: "+
W);if(hc)throw Error("Access path missing closing quote: "+W);fa>L&&(fa++,wa());return db}function Ob(W,wa){var db={},yb;for(yb in W)Object.prototype.hasOwnProperty.call(W,yb)&&0>wa.indexOf(yb)&&(db[yb]=W[yb]);if(null!=W&&"function"===typeof Object.getOwnPropertySymbols){var hc=0;for(yb=Object.getOwnPropertySymbols(W);hc<yb.length;hc++)0>wa.indexOf(yb[hc])&&Object.prototype.propertyIsEnumerable.call(W,yb[hc])&&(db[yb[hc]]=W[yb[hc]])}return db}function Vb(W){const wa=[];return function(db,yb){if("object"!==
typeof yb||null===yb)return yb;db=wa.indexOf(this)+1;wa.length=db;if(wa.length>W)return"[Object]";if(0<=wa.indexOf(yb))return"[Circular]";wa.push(yb);return yb}}function ob(W,wa,db){function yb(fa){fa.source===Ec&&(L=0,W.removeEventListener("message",yb,!1))}function hc(){0>=L||(Ec.postMessage(db,ac),setTimeout(hc,250),--L)}const Ec=W.open(wa),{origin:ac}=new URL(wa);let L=40;W.addEventListener("message",yb,!1);setTimeout(hc,250)}function ra(W){for(var wa=arguments.length,db=Array(1<wa?wa-1:0),yb=
1;yb<wa;yb++)db[yb-1]=arguments[yb];for(const hc of db){wa=W;db=hc;for(const Ec of Object.keys(db))l.writeConfig(wa,Ec,db[Ec],!0)}return W}function Y(W,wa,db,yb){wa="\x3chtml\x3e\x3chead\x3e".concat(wa,'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e');db="\x3c/code\x3e\x3c/pre\x3e".concat(db,"\x3c/body\x3e\x3c/html\x3e");const hc=window.open("");hc.document.write(wa+W+db);hc.document.title="".concat(df[yb]," JSON Source")}function Ea(W,wa){if(W.$schema){W=mb(W.$schema);if(wa&&wa!==
W.library){var db;console.warn("The given visualization spec is written in ".concat(df[W.library],", but mode argument sets ").concat(null!==(db=df[wa])&&void 0!==db?db:wa,"."))}wa=W.library;Yd(ef[wa],"^".concat(W.version.slice(1)))||console.warn("The input spec uses ".concat(df[wa]," ").concat(W.version,", but the current version of ").concat(df[wa]," is v").concat(ef[wa],"."));return wa}return"mark"in W||"encoding"in W||"layer"in W||"hconcat"in W||"vconcat"in W||"facet"in W||"repeat"in W?"vega-lite":
"marks"in W||"signals"in W||"scales"in W||"axes"in W?"vega":null!==wa&&void 0!==wa?wa:"vega"}function Ga(W){return W&&"load"in W?W:Xd.loader(W)}function cb(W,wa){const db=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var yb,hc,Ec=2<db.length&&void 0!==db[2]?db[2]:{};let ac,L;l.isString(wa)?(L=Ga(Ec.loader),ac=JSON.parse(yield L.load(wa))):ac=wa;var fa,Sa,cc=null!==(fa=null===(Sa=ac.usermeta)||void 0===Sa?void 0:Sa.embedOptions)&&void 0!==fa?fa:{};l.isString(cc.defaultStyle)&&
(cc.defaultStyle=!1);fa=cc.loader;if(!L||fa){var Jc;L=Ga(null!==(Jc=Ec.loader)&&void 0!==Jc?Jc:fa)}cc=yield ca(cc,L);Ec=yield ca(Ec,L);Ec=Object.assign({},ra(Ec,cc),{config:l.mergeConfig(null!==(yb=Ec.config)&&void 0!==yb?yb:{},null!==(hc=cc.config)&&void 0!==hc?hc:{})});return yield x(W,ac,Ec,L)})}function ca(W,wa){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var db;const yb=l.isString(W.config)?JSON.parse(yield wa.load(W.config)):null!==(db=W.config)&&void 0!==db?db:{};db=l.isString(W.patch)?
JSON.parse(yield wa.load(W.patch)):W.patch;return Object.assign({},W,db?{patch:db}:{},yb?{config:yb}:{})})}function pa(W){var wa;W=W.getRootNode?W.getRootNode():document;return W instanceof ShadowRoot?{root:W,rootContainer:W}:{root:document,rootContainer:null!==(wa=document.head)&&void 0!==wa?wa:document.body}}function x(W,wa){const db=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var yb,hc,Ec,ac,L,fa,Sa;let cc=2<db.length&&void 0!==db[2]?db[2]:{};var Jc=3<db.length?db[3]:
void 0;const Bc=cc.theme?l.mergeConfig(mc[cc.theme],null!==(yb=cc.config)&&void 0!==yb?yb:{}):cc.config;yb=l.isBoolean(cc.actions)?cc.actions:ra({},De,null!==(hc=cc.actions)&&void 0!==hc?hc:{});hc=Object.assign({},gf,cc.i18n);const $c=null!==(Ec=cc.renderer)&&void 0!==Ec?Ec:"canvas";Ec=null!==(ac=cc.logLevel)&&void 0!==ac?ac:Xd.Warn;ac=null!==(L=cc.downloadFileName)&&void 0!==L?L:"visualization";L="string"===typeof W?document.querySelector(W):W;if(!L)throw Error("".concat(W," does not exist"));if(!1!==
cc.defaultStyle){const {root:Qc,rootContainer:td}=pa(L);if(!Qc.getElementById("vega-embed-style")){var pd=document.createElement("style");pd.id="vega-embed-style";pd.innerHTML=void 0===cc.defaultStyle||!0===cc.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n}\n.vega-embed.has-actions {\n  padding-right: 38px;\n}\n.vega-embed details:not([open]) \x3e :not(summary) {\n  display: none !important;\n}\n.vega-embed summary {\n  list-style: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 6px;\n  z-index: 1000;\n  background: white;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n  color: #1b1e23;\n  border: 1px solid #aaa;\n  border-radius: 999px;\n  opacity: 0.2;\n  transition: opacity 0.4s ease-in;\n  cursor: pointer;\n  line-height: 0px;\n}\n.vega-embed summary::-webkit-details-marker {\n  display: none;\n}\n.vega-embed summary:active {\n  box-shadow: #aaa 0px 0px 0px 1px inset;\n}\n.vega-embed summary svg {\n  width: 14px;\n  height: 14px;\n}\n.vega-embed details[open] summary {\n  opacity: 0.7;\n}\n.vega-embed:hover summary, .vega-embed:focus-within summary {\n  opacity: 1 !important;\n  transition: opacity 0.2s ease;\n}\n.vega-embed .vega-actions {\n  position: absolute;\n  z-index: 1001;\n  top: 35px;\n  right: -9px;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #d9d9d9;\n  background: white;\n  animation-duration: 0.15s;\n  animation-name: scale-in;\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n  text-align: left;\n}\n.vega-embed .vega-actions a {\n  padding: 8px 16px;\n  font-family: sans-serif;\n  font-size: 14px;\n  font-weight: 600;\n  white-space: nowrap;\n  color: #434a56;\n  text-decoration: none;\n}\n.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {\n  background-color: #f7f7f9;\n  color: black;\n}\n.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n  content: "";\n  display: inline-block;\n  position: absolute;\n}\n.vega-embed .vega-actions::before {\n  left: auto;\n  right: 14px;\n  top: -16px;\n  border: 8px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #d9d9d9;\n}\n.vega-embed .vega-actions::after {\n  left: auto;\n  right: 15px;\n  top: -14px;\n  border: 7px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #fff;\n}\n.vega-embed .chart-wrapper.fit-x {\n  width: 100%;\n}\n.vega-embed .chart-wrapper.fit-y {\n  height: 100%;\n}\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px;\n}\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n'.toString():
cc.defaultStyle;td.appendChild(pd)}}const ee=Ea(wa,cc.mode);let Ra=pe[ee](wa,Bc);"vega-lite"===ee&&Ra.$schema&&(pd=mb(Ra.$schema),Yd(ef.vega,"^".concat(pd.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(pd.version,", but current version is v").concat(ef.vega,".")));L.classList.add("vega-embed");yb&&L.classList.add("has-actions");L.innerHTML="";let eb=L;yb&&(pd=document.createElement("div"),pd.classList.add("chart-wrapper"),L.appendChild(pd),eb=pd);(pd=cc.patch)&&(Ra=pd instanceof
Function?pd(Ra):rb(Ra,pd,!0,!1).newDocument);cc.formatLocale&&Xd.formatLocale(cc.formatLocale);cc.timeFormatLocale&&Xd.timeFormatLocale(cc.timeFormatLocale);if(cc.expressionFunctions)for(var qc in cc.expressionFunctions)pd=cc.expressionFunctions[qc],"fn"in pd?Xd.expressionFunction(qc,pd.fn,pd.visitor):pd instanceof Function&&Xd.expressionFunction(qc,pd);({ast:qc}=cc);pd=Xd.parse(Ra,"vega-lite"===ee?{}:Bc,{ast:qc});const wd=new (cc.viewClass||Xd.View)(pd,Object.assign({},{loader:Jc,logLevel:Ec,renderer:$c},
qc?{expr:null!==(fa=null!==(Sa=Xd.expressionInterpreter)&&void 0!==Sa?Sa:cc.expr)&&void 0!==fa?fa:Jb}:{}));wd.addSignalListener("autosize",(Qc,td)=>{({type:Qc}=td);"fit-x"==Qc?(eb.classList.add("fit-x"),eb.classList.remove("fit-y")):"fit-y"==Qc?(eb.classList.remove("fit-x"),eb.classList.add("fit-y")):"fit"==Qc?eb.classList.add("fit-x","fit-y"):eb.classList.remove("fit-x","fit-y")});!1!==cc.tooltip&&(fa="function"===typeof cc.tooltip?cc.tooltip:(new Gd(!0===cc.tooltip?{}:cc.tooltip)).call,wd.tooltip(fa));
({hover:fa}=cc);void 0===fa&&(fa="vega"===ee);if(fa){const {hoverSet:Qc,updateSet:td}="boolean"===typeof fa?{}:fa;wd.hover(Qc,td)}cc&&(null!=cc.width&&wd.width(cc.width),null!=cc.height&&wd.height(cc.height),null!=cc.padding&&wd.padding(cc.padding));yield wd.initialize(eb,cc.bind).runAsync();let Mc;if(!1!==yb){Sa=L;if(!1!==cc.defaultStyle){const Qc=document.createElement("details");Qc.title=hc.CLICK_TO_VIEW_ACTIONS;L.append(Qc);Sa=Qc;fa=document.createElement("summary");fa.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e';
Qc.append(fa);Mc=td=>{Qc.contains(td.target)||Qc.removeAttribute("open")};document.addEventListener("click",Mc)}fa=document.createElement("div");Sa.append(fa);fa.classList.add("vega-actions");if(!0===yb||!1!==yb.export)for(const Qc of["svg","png"])if(!0===yb||!0===yb.export||yb.export[Qc])Sa=hc["".concat(Qc.toUpperCase(),"_ACTION")],Jc=document.createElement("a"),Jc.text=Sa,Jc.href="#",Jc.target="_blank",Jc.download="".concat(ac,".").concat(Qc),Jc.addEventListener("mousedown",function(td){const kd=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){td.preventDefault();const Ld=yield wd.toImageURL(Qc,cc.scaleFactor);kd.href=Ld})}),fa.append(Jc);if(!0===yb||!1!==yb.source)ac=document.createElement("a"),ac.text=hc.SOURCE_ACTION,ac.href="#",ac.addEventListener("click",function(Qc){var td,kd;Y(va(wa),null!==(td=cc.sourceHeader)&&void 0!==td?td:"",null!==(kd=cc.sourceFooter)&&void 0!==kd?kd:"",ee);Qc.preventDefault()}),fa.append(ac);"vega-lite"!==ee||!0!==yb&&!1===yb.compiled||(ac=
document.createElement("a"),ac.text=hc.COMPILED_ACTION,ac.href="#",ac.addEventListener("click",function(Qc){var td,kd;Y(va(Ra),null!==(td=cc.sourceHeader)&&void 0!==td?td:"",null!==(kd=cc.sourceFooter)&&void 0!==kd?kd:"","vega");Qc.preventDefault()}),fa.append(ac));if(!0===yb||!1!==yb.editor){var Uc;const Qc=null!==(Uc=cc.editorUrl)&&void 0!==Uc?Uc:"https://vega.github.io/editor/";Uc=document.createElement("a");Uc.text=hc.EDITOR_ACTION;Uc.href="#";Uc.addEventListener("click",function(td){ob(window,
Qc,{config:Bc,mode:ee,renderer:$c,spec:va(wa)});td.preventDefault()});fa.append(Uc)}}return{view:wd,spec:wa,vgSpec:Ra,finalize:function(){Mc&&document.removeEventListener("click",Mc);wd.finalize()},embedOptions:cc}})}function N(W){const wa=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var db;let yb=1<wa.length&&void 0!==wa[1]?wa[1]:{};const hc=document.createElement("div");hc.classList.add("vega-embed-wrapper");const Ec=document.createElement("div");hc.appendChild(Ec);
const ac=!0===yb.actions||!1===yb.actions?yb.actions:Object.assign({},{export:!0,source:!1,compiled:!0,editor:!0},null!==(db=yb.actions)&&void 0!==db?db:{});db=yield cb(Ec,W,Object.assign({},{actions:ac},null!==yb&&void 0!==yb?yb:{}));hc.value=db.view;return hc})}var S=hb(l),g=hb(R),z=function(){var W=function(wa,db){W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(yb,hc){yb.__proto__=hc}||function(yb,hc){for(var Ec in hc)hc.hasOwnProperty(Ec)&&(yb[Ec]=hc[Ec])};return W(wa,db)};return function(wa,
db){function yb(){this.constructor=wa}W(wa,db);wa.prototype=null===db?Object.create(db):(yb.prototype=db.prototype,new yb)}}(),m=Object.prototype.hasOwnProperty,E=function(W){function wa(db,yb,hc,Ec,ac){var L=this.constructor,fa=W.call(this,jc(db,{name:yb,index:hc,operation:Ec,tree:ac}))||this;fa.name=yb;fa.index=hc;fa.operation=Ec;fa.tree=ac;Object.setPrototypeOf(fa,L.prototype);fa.message=jc(db,{name:yb,index:hc,operation:Ec,tree:ac});return fa}z(wa,W);return wa}(Error),h=E,p={add:function(W,wa,
db){W[wa]=this.value;return{newDocument:db}},remove:function(W,wa,db){var yb=W[wa];delete W[wa];return{newDocument:db,removed:yb}},replace:function(W,wa,db){var yb=W[wa];W[wa]=this.value;return{newDocument:db,removed:yb}},move:function(W,wa,db){(W=Sb(db,this.path))&&(W=Yb(W));wa=Ua(db,{op:"remove",path:this.from}).removed;Ua(db,{op:"add",path:this.path,value:wa});return{newDocument:db,removed:W}},copy:function(W,wa,db){W=Sb(db,this.from);Ua(db,{op:"add",path:this.path,value:Yb(W)});return{newDocument:db}},
test:function(W,wa,db){return{newDocument:db,test:Bb(W[wa],this.value)}},_get:function(W,wa,db){this.value=W[wa];return{newDocument:db}}},r={add:function(W,wa,db){sc(wa)?W.splice(wa,0,this.value):W[wa]=this.value;return{newDocument:db,index:wa}},remove:function(W,wa,db){W=W.splice(wa,1);return{newDocument:db,removed:W[0]}},replace:function(W,wa,db){var yb=W[wa];W[wa]=this.value;return{newDocument:db,removed:yb}},move:p.move,copy:p.copy,test:p.test,_get:p._get},v=Object.freeze({__proto__:null,JsonPatchError:h,
deepClone:Yb,getValueByPointer:Sb,applyOperation:Ua,applyPatch:rb,applyReducer:function(W,wa,db){var yb=Ua(W,wa);if(!1===yb.test)throw new h("Test operation failed","TEST_OPERATION_FAILED",db,wa,W);return yb.newDocument},validator:Fb,validate:Hb,_areEquals:Bb}),F=new WeakMap,aa=function(){return function(W){this.observers=new Map;this.obj=W}}(),O=function(){return function(W,wa){this.callback=W;this.observer=wa}}(),u=Object.freeze({__proto__:null,unobserve:function(W,wa){wa.unobserve()},observe:function(W,
wa){var db=F.get(W);if(db){var yb=db.observers.get(wa);var hc=yb&&yb.observer}else db=new aa(W),F.set(W,db);if(hc)return hc;hc={};db.value=Yb(W);if(wa){hc.callback=wa;hc.next=null;var Ec=function(){Lb(hc)},ac=function(){clearTimeout(hc.next);hc.next=setTimeout(Ec)};"undefined"!==typeof window&&(window.addEventListener("mouseup",ac),window.addEventListener("keyup",ac),window.addEventListener("mousedown",ac),window.addEventListener("keydown",ac),window.addEventListener("change",ac))}hc.patches=[];hc.object=
W;hc.unobserve=function(){Lb(hc);clearTimeout(hc.next);db.observers.delete(hc.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",ac),window.removeEventListener("keyup",ac),window.removeEventListener("mousedown",ac),window.removeEventListener("keydown",ac),window.removeEventListener("change",ac))};db.observers.set(wa,new O(wa,hc));return hc},generate:Lb,compare:function(W,wa,db){void 0===db&&(db=!1);var yb=[];Wa(W,wa,yb,"",db);return yb}});Object.assign({},v,u,{JsonPatchError:E,
deepClone:Yb,escapePathComponent:zc,unescapePathComponent:pc});var I=/("(?:[^\\"]|\\.)*")|[:,]/g,va=function(W,wa){wa=wa||{};var db=JSON.stringify([1],void 0,void 0===wa.indent?2:wa.indent).slice(2,-3);var yb=""===db?Infinity:void 0===wa.maxLength?80:wa.maxLength;var hc=wa.replacer;return function Sa(ac,L,fa){ac&&"function"===typeof ac.toJSON&&(ac=ac.toJSON());var cc=JSON.stringify(ac,hc);if(void 0===cc)return cc;fa=yb-L.length-fa;if(cc.length<=fa){var Jc=cc.replace(I,function(wd,Mc){return Mc||wd+
" "});if(Jc.length<=fa)return Jc}null!=hc&&(ac=JSON.parse(cc),hc=void 0);if("object"===typeof ac&&null!==ac){var Bc=L+db;var $c=[];var pd=0;if(Array.isArray(ac)){var ee="[";Jc="]";for(fa=ac.length;pd<fa;pd++)$c.push(Sa(ac[pd],Bc,pd===fa-1?0:1)||"null")}else{ee="{";Jc="}";var Ra=Object.keys(ac);for(fa=Ra.length;pd<fa;pd++){var eb=Ra[pd];var qc=JSON.stringify(eb)+": ";eb=Sa(ac[eb],Bc,qc.length+(pd===fa-1?0:1));void 0!==eb&&$c.push(qc+eb)}}if(0<$c.length)return[ee,db+$c.join(",\n"+Bc),Jc].join("\n"+
L)}return cc}(W,"",0)};pb.Node=Na;pb.create=pb;pb.prototype.removeNode=function(W){if(W.list!==this)throw Error("removing node which does not belong to this list");var wa=W.next,db=W.prev;wa&&(wa.prev=db);db&&(db.next=wa);W===this.head&&(this.head=wa);W===this.tail&&(this.tail=db);W.list.length--;W.next=null;W.prev=null;W.list=null;return wa};pb.prototype.unshiftNode=function(W){if(W!==this.head){W.list&&W.list.removeNode(W);var wa=this.head;W.list=this;if(W.next=wa)wa.prev=W;this.head=W;this.tail||
(this.tail=W);this.length++}};pb.prototype.pushNode=function(W){if(W!==this.tail){W.list&&W.list.removeNode(W);var wa=this.tail;W.list=this;if(W.prev=wa)wa.next=W;this.tail=W;this.head||(this.head=W);this.length++}};pb.prototype.push=function(){for(var W=0,wa=arguments.length;W<wa;W++)this.tail=new Na(arguments[W],this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length};pb.prototype.unshift=function(){for(var W=0,wa=arguments.length;W<wa;W++)this.head=new Na(arguments[W],
null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length};pb.prototype.pop=function(){if(this.tail){var W=this.tail.value;(this.tail=this.tail.prev)?this.tail.next=null:this.head=null;this.length--;return W}};pb.prototype.shift=function(){if(this.head){var W=this.head.value;(this.head=this.head.next)?this.head.prev=null:this.tail=null;this.length--;return W}};pb.prototype.forEach=function(W,wa){wa=wa||this;for(var db=this.head,yb=0;null!==db;yb++)W.call(wa,db.value,yb,
this),db=db.next};pb.prototype.forEachReverse=function(W,wa){wa=wa||this;for(var db=this.tail,yb=this.length-1;null!==db;yb--)W.call(wa,db.value,yb,this),db=db.prev};pb.prototype.get=function(W){for(var wa=0,db=this.head;null!==db&&wa<W;wa++)db=db.next;if(wa===W&&null!==db)return db.value};pb.prototype.getReverse=function(W){for(var wa=0,db=this.tail;null!==db&&wa<W;wa++)db=db.prev;if(wa===W&&null!==db)return db.value};pb.prototype.map=function(W,wa){wa=wa||this;for(var db=new pb,yb=this.head;null!==
yb;)db.push(W.call(wa,yb.value,this)),yb=yb.next;return db};pb.prototype.mapReverse=function(W,wa){wa=wa||this;for(var db=new pb,yb=this.tail;null!==yb;)db.push(W.call(wa,yb.value,this)),yb=yb.prev;return db};pb.prototype.reduce=function(W,wa){var db=this.head;if(1<arguments.length)var yb=wa;else if(this.head)db=this.head.next,yb=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var hc=0;null!==db;hc++)yb=W(yb,db.value,hc),db=db.next;return yb};pb.prototype.reduceReverse=
function(W,wa){var db=this.tail;if(1<arguments.length)var yb=wa;else if(this.tail)db=this.tail.prev,yb=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var hc=this.length-1;null!==db;hc--)yb=W(yb,db.value,hc),db=db.prev;return yb};pb.prototype.toArray=function(){for(var W=Array(this.length),wa=0,db=this.head;null!==db;wa++)W[wa]=db.value,db=db.next;return W};pb.prototype.toArrayReverse=function(){for(var W=Array(this.length),wa=0,db=this.tail;null!==db;wa++)W[wa]=
db.value,db=db.prev;return W};pb.prototype.slice=function(W,wa){wa=wa||this.length;0>wa&&(wa+=this.length);W=W||0;0>W&&(W+=this.length);var db=new pb;if(wa<W||0>wa)return db;0>W&&(W=0);wa>this.length&&(wa=this.length);for(var yb=0,hc=this.head;null!==hc&&yb<W;yb++)hc=hc.next;for(;null!==hc&&yb<wa;yb++,hc=hc.next)db.push(hc.value);return db};pb.prototype.sliceReverse=function(W,wa){wa=wa||this.length;0>wa&&(wa+=this.length);W=W||0;0>W&&(W+=this.length);var db=new pb;if(wa<W||0>wa)return db;0>W&&(W=
0);wa>this.length&&(wa=this.length);for(var yb=this.length,hc=this.tail;null!==hc&&yb>wa;yb--)hc=hc.prev;for(;null!==hc&&yb>W;yb--,hc=hc.prev)db.push(hc.value);return db};pb.prototype.splice=function(W,wa){W>this.length&&(W=this.length-1);0>W&&(W=this.length+W);for(var db=0,yb=this.head;null!==yb&&db<W;db++)yb=yb.next;var hc=[];for(db=0;yb&&db<wa;db++)hc.push(yb.value),yb=this.removeNode(yb);null===yb&&(yb=this.tail);yb!==this.head&&yb!==this.tail&&(yb=yb.prev);for(db=0;db<(2>=arguments.length?0:
arguments.length-2);db++){var Ec=2>db+2||arguments.length<=db+2?void 0:arguments[db+2];yb=yb===this.head?new Na(Ec,null,yb,this):new Na(Ec,yb,yb.next,this);null===yb.next&&(this.tail=yb);null===yb.prev&&(this.head=yb);this.length++}return hc};pb.prototype.reverse=function(){for(var W=this.head,wa=this.tail,db=W;null!==db;db=db.prev){var yb=db.prev;db.prev=db.next;db.next=yb}this.head=wa;this.tail=W;return this};try{pb.prototype[Symbol.iterator]=function*(){for(let W=this.head;W;W=W.next)yield W.value}}catch(W){}const La=
Symbol("max"),Xa=Symbol("length"),ab=Symbol("lengthCalculator"),Z=Symbol("allowStale"),Ca=Symbol("maxAge"),Ya=Symbol("dispose"),Kb=Symbol("noDisposeOnSet"),xc=Symbol("lruList"),rc=Symbol("cache"),yc=Symbol("updateAgeOnGet"),dd=()=>1;class $b{constructor(W){"number"===typeof W&&(W={max:W});W||(W={});if(W.max&&("number"!==typeof W.max||0>W.max))throw new TypeError("max must be a non-negative number");this[La]=W.max||Infinity;const wa=W.length||dd;this[ab]="function"!==typeof wa?dd:wa;this[Z]=W.stale||
!1;if(W.maxAge&&"number"!==typeof W.maxAge)throw new TypeError("maxAge must be a number");this[Ca]=W.maxAge||0;this[Ya]=W.dispose;this[Kb]=W.noDisposeOnSet||!1;this[yc]=W.updateAgeOnGet||!1;this.reset()}set max(W){if("number"!==typeof W||0>W)throw new TypeError("max must be a non-negative number");this[La]=W||Infinity;Pa(this)}get max(){return this[La]}set allowStale(W){this[Z]=!!W}get allowStale(){return this[Z]}set maxAge(W){if("number"!==typeof W)throw new TypeError("maxAge must be a non-negative number");
this[Ca]=W;Pa(this)}get maxAge(){return this[Ca]}set lengthCalculator(W){"function"!==typeof W&&(W=dd);W!==this[ab]&&(this[ab]=W,this[Xa]=0,this[xc].forEach(wa=>{wa.length=this[ab](wa.value,wa.key);this[Xa]+=wa.length}));Pa(this)}get lengthCalculator(){return this[ab]}get length(){return this[Xa]}get itemCount(){return this[xc].length}rforEach(W,wa){wa=wa||this;for(let db=this[xc].tail;null!==db;){const yb=db.prev;Tb(this,W,db,wa);db=yb}}forEach(W,wa){wa=wa||this;for(let db=this[xc].head;null!==db;){const yb=
db.next;Tb(this,W,db,wa);db=yb}}keys(){return this[xc].toArray().map(W=>W.key)}values(){return this[xc].toArray().map(W=>W.value)}reset(){this[Ya]&&this[xc]&&this[xc].length&&this[xc].forEach(W=>this[Ya](W.key,W.value));this[rc]=new Map;this[xc]=new pb;this[Xa]=0}dump(){return this[xc].map(W=>Pd(this,W)?!1:{k:W.key,v:W.value,e:W.now+(W.maxAge||0)}).toArray().filter(W=>W)}dumpLru(){return this[xc]}set(W,wa,db){if((db=db||this[Ca])&&"number"!==typeof db)throw new TypeError("maxAge must be a number");
const yb=db?Date.now():0,hc=this[ab](wa,W);if(this[rc].has(W)){if(hc>this[La])return Wb(this,this[rc].get(W)),!1;const Ec=this[rc].get(W).value;if(this[Ya]&&!this[Kb])this[Ya](W,Ec.value);Ec.now=yb;Ec.maxAge=db;Ec.value=wa;this[Xa]+=hc-Ec.length;Ec.length=hc;this.get(W);Pa(this);return!0}db=new sb(W,wa,hc,yb,db);if(db.length>this[La]){if(this[Ya])this[Ya](W,wa);return!1}this[Xa]+=db.length;this[xc].unshift(db);this[rc].set(W,this[xc].head);Pa(this);return!0}has(W){if(!this[rc].has(W))return!1;W=this[rc].get(W).value;
return!Pd(this,W)}get(W){return Rc(this,W,!0)}peek(W){return Rc(this,W,!1)}pop(){const W=this[xc].tail;if(!W)return null;Wb(this,W);return W.value}del(W){Wb(this,this[rc].get(W))}load(W){this.reset();const wa=Date.now();for(let yb=W.length-1;0<=yb;yb--){const hc=W[yb];var db=hc.e||0;0===db?this.set(hc.k,hc.v):(db-=wa,0<db&&this.set(hc.k,hc.v,db))}}prune(){this[rc].forEach((W,wa)=>Rc(this,wa,!1))}}const Rc=(W,wa,db)=>{if(wa=W[rc].get(wa)){const yb=wa.value;if(Pd(W,yb)){if(Wb(W,wa),!W[Z])return}else db&&
(W[yc]&&(wa.value.now=Date.now()),W[xc].unshiftNode(wa));return yb.value}},Pd=(W,wa)=>{if(!wa||!wa.maxAge&&!W[Ca])return!1;const db=Date.now()-wa.now;return wa.maxAge?db>wa.maxAge:W[Ca]&&db>W[Ca]},Pa=W=>{if(W[Xa]>W[La])for(let wa=W[xc].tail;W[Xa]>W[La]&&null!==wa;){const db=wa.prev;Wb(W,wa);wa=db}},Wb=(W,wa)=>{if(wa){const db=wa.value;if(W[Ya])W[Ya](db.key,db.value);W[Xa]-=db.length;W[rc].delete(db.key);W[xc].removeNode(wa)}};class sb{constructor(W,wa,db,yb,hc){this.key=W;this.value=wa;this.length=
db;this.now=yb;this.maxAge=hc||0}}const Tb=(W,wa,db,yb)=>{let hc=db.value;Pd(W,hc)&&(Wb(W,db),W[Z]||(hc=void 0));hc&&wa.call(yb,hc.value,hc.key,W)};var ic=$b;const dc=["includePrerelease","loose","rtl"];var Ic=W=>W?"object"!==typeof W?{loose:!0}:dc.filter(wa=>W[wa]).reduce((wa,db)=>{wa[db]=!0;return wa},{}):{},Ac={exports:{}},Zc={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},Nd="object"===typeof t&&t.env&&t.env.NODE_DEBUG&&
/\bsemver\b/i.test(t.env.NODE_DEBUG)?function(){for(var W=arguments.length,wa=Array(W),db=0;db<W;db++)wa[db]=arguments[db];return console.error("SEMVER",...wa)}:()=>{};(function(W,wa){const {MAX_SAFE_COMPONENT_LENGTH:db}=Zc,yb=Nd;wa=W.exports={};const hc=wa.re=[],Ec=wa.src=[],ac=wa.t={};let L=0;W=(fa,Sa,cc)=>{const Jc=L++;yb(fa,Jc,Sa);ac[fa]=Jc;Ec[Jc]=Sa;hc[Jc]=new RegExp(Sa,cc?"g":void 0)};W("NUMERICIDENTIFIER","0|[1-9]\\d*");W("NUMERICIDENTIFIERLOOSE","[0-9]+");W("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");
W("MAINVERSION","(".concat(Ec[ac.NUMERICIDENTIFIER],")\\.")+"(".concat(Ec[ac.NUMERICIDENTIFIER],")\\.")+"(".concat(Ec[ac.NUMERICIDENTIFIER],")"));W("MAINVERSIONLOOSE","(".concat(Ec[ac.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(Ec[ac.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(Ec[ac.NUMERICIDENTIFIERLOOSE],")"));W("PRERELEASEIDENTIFIER","(?:".concat(Ec[ac.NUMERICIDENTIFIER],"|").concat(Ec[ac.NONNUMERICIDENTIFIER],")"));W("PRERELEASEIDENTIFIERLOOSE","(?:".concat(Ec[ac.NUMERICIDENTIFIERLOOSE],"|").concat(Ec[ac.NONNUMERICIDENTIFIER],
")"));W("PRERELEASE","(?:-(".concat(Ec[ac.PRERELEASEIDENTIFIER],"(?:\\.").concat(Ec[ac.PRERELEASEIDENTIFIER],")*))"));W("PRERELEASELOOSE","(?:-?(".concat(Ec[ac.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(Ec[ac.PRERELEASEIDENTIFIERLOOSE],")*))"));W("BUILDIDENTIFIER","[0-9A-Za-z-]+");W("BUILD","(?:\\+(".concat(Ec[ac.BUILDIDENTIFIER],"(?:\\.").concat(Ec[ac.BUILDIDENTIFIER],")*))"));W("FULLPLAIN","v?".concat(Ec[ac.MAINVERSION]).concat(Ec[ac.PRERELEASE],"?").concat(Ec[ac.BUILD],"?"));W("FULL","^".concat(Ec[ac.FULLPLAIN],
"$"));W("LOOSEPLAIN","[v\x3d\\s]*".concat(Ec[ac.MAINVERSIONLOOSE]).concat(Ec[ac.PRERELEASELOOSE],"?").concat(Ec[ac.BUILD],"?"));W("LOOSE","^".concat(Ec[ac.LOOSEPLAIN],"$"));W("GTLT","((?:\x3c|\x3e)?\x3d?)");W("XRANGEIDENTIFIERLOOSE","".concat(Ec[ac.NUMERICIDENTIFIERLOOSE],"|x|X|\\*"));W("XRANGEIDENTIFIER","".concat(Ec[ac.NUMERICIDENTIFIER],"|x|X|\\*"));W("XRANGEPLAIN","[v\x3d\\s]*(".concat(Ec[ac.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(Ec[ac.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(Ec[ac.XRANGEIDENTIFIER],
")")+"(?:".concat(Ec[ac.PRERELEASE],")?").concat(Ec[ac.BUILD],"?")+")?)?");W("XRANGEPLAINLOOSE","[v\x3d\\s]*(".concat(Ec[ac.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(Ec[ac.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(Ec[ac.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(Ec[ac.PRERELEASELOOSE],")?").concat(Ec[ac.BUILD],"?")+")?)?");W("XRANGE","^".concat(Ec[ac.GTLT],"\\s*").concat(Ec[ac.XRANGEPLAIN],"$"));W("XRANGELOOSE","^".concat(Ec[ac.GTLT],"\\s*").concat(Ec[ac.XRANGEPLAINLOOSE],"$"));W("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(db,
"})")+"(?:\\.(\\d{1,".concat(db,"}))?")+"(?:\\.(\\d{1,".concat(db,"}))?")+"(?:$|[^\\d])");W("COERCERTL",Ec[ac.COERCE],!0);W("LONETILDE","(?:~\x3e?)");W("TILDETRIM","(\\s*)".concat(Ec[ac.LONETILDE],"\\s+"),!0);wa.tildeTrimReplace="$1~";W("TILDE","^".concat(Ec[ac.LONETILDE]).concat(Ec[ac.XRANGEPLAIN],"$"));W("TILDELOOSE","^".concat(Ec[ac.LONETILDE]).concat(Ec[ac.XRANGEPLAINLOOSE],"$"));W("LONECARET","(?:\\^)");W("CARETTRIM","(\\s*)".concat(Ec[ac.LONECARET],"\\s+"),!0);wa.caretTrimReplace="$1^";W("CARET",
"^".concat(Ec[ac.LONECARET]).concat(Ec[ac.XRANGEPLAIN],"$"));W("CARETLOOSE","^".concat(Ec[ac.LONECARET]).concat(Ec[ac.XRANGEPLAINLOOSE],"$"));W("COMPARATORLOOSE","^".concat(Ec[ac.GTLT],"\\s*(").concat(Ec[ac.LOOSEPLAIN],")$|^$"));W("COMPARATOR","^".concat(Ec[ac.GTLT],"\\s*(").concat(Ec[ac.FULLPLAIN],")$|^$"));W("COMPARATORTRIM","(\\s*)".concat(Ec[ac.GTLT],"\\s*(").concat(Ec[ac.LOOSEPLAIN],"|").concat(Ec[ac.XRANGEPLAIN],")"),!0);wa.comparatorTrimReplace="$1$2$3";W("HYPHENRANGE","^\\s*(".concat(Ec[ac.XRANGEPLAIN],
")")+"\\s+-\\s+"+"(".concat(Ec[ac.XRANGEPLAIN],")")+"\\s*$");W("HYPHENRANGELOOSE","^\\s*(".concat(Ec[ac.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(Ec[ac.XRANGEPLAINLOOSE],")")+"\\s*$");W("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");W("GTE0","^\\s*\x3e\x3d\\s*0\\.0\\.0\\s*$");W("GTE0PRE","^\\s*\x3e\x3d\\s*0\\.0\\.0-0\\s*$")})(Ac,Ac.exports);const ud=/^[0-9]+$/,Ha=(W,wa)=>{const db=ud.test(W),yb=ud.test(wa);db&&yb&&(W=+W,wa=+wa);return W===wa?0:db&&!yb?-1:yb&&!db?1:W<wa?-1:1};var gb={compareIdentifiers:Ha,
rcompareIdentifiers:(W,wa)=>Ha(wa,W)};const wb=Nd,{MAX_LENGTH:ua,MAX_SAFE_INTEGER:H}=Zc,{re:za,t:Qa}=Ac.exports,$a=Ic,{compareIdentifiers:lb}=gb;class Gb{constructor(W,wa){wa=$a(wa);if(W instanceof Gb){if(W.loose===!!wa.loose&&W.includePrerelease===!!wa.includePrerelease)return W;W=W.version}else if("string"!==typeof W)throw new TypeError("Invalid Version: ".concat(W));if(W.length>ua)throw new TypeError("version is longer than ".concat(ua," characters"));wb("SemVer",W,wa);this.options=wa;this.loose=
!!wa.loose;this.includePrerelease=!!wa.includePrerelease;wa=W.trim().match(wa.loose?za[Qa.LOOSE]:za[Qa.FULL]);if(!wa)throw new TypeError("Invalid Version: ".concat(W));this.raw=W;this.major=+wa[1];this.minor=+wa[2];this.patch=+wa[3];if(this.major>H||0>this.major)throw new TypeError("Invalid major version");if(this.minor>H||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>H||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=wa[4]?wa[4].split(".").map(db=>
{if(/^[0-9]+$/.test(db)){const yb=+db;if(0<=yb&&yb<H)return yb}return db}):[];this.build=wa[5]?wa[5].split("."):[];this.format()}format(){this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch);this.prerelease.length&&(this.version+="-".concat(this.prerelease.join(".")));return this.version}toString(){return this.version}compare(W){wb("SemVer.compare",this.version,this.options,W);if(!(W instanceof Gb)){if("string"===typeof W&&W===this.version)return 0;W=new Gb(W,this.options)}return W.version===
this.version?0:this.compareMain(W)||this.comparePre(W)}compareMain(W){W instanceof Gb||(W=new Gb(W,this.options));return lb(this.major,W.major)||lb(this.minor,W.minor)||lb(this.patch,W.patch)}comparePre(W){W instanceof Gb||(W=new Gb(W,this.options));if(this.prerelease.length&&!W.prerelease.length)return-1;if(!this.prerelease.length&&W.prerelease.length)return 1;if(!this.prerelease.length&&!W.prerelease.length)return 0;let wa=0;do{const db=this.prerelease[wa],yb=W.prerelease[wa];wb("prerelease compare",
wa,db,yb);if(void 0===db&&void 0===yb)return 0;if(void 0===yb)return 1;if(void 0===db)return-1;if(db!==yb)return lb(db,yb)}while(++wa)}compareBuild(W){W instanceof Gb||(W=new Gb(W,this.options));let wa=0;do{const db=this.build[wa],yb=W.build[wa];wb("prerelease compare",wa,db,yb);if(void 0===db&&void 0===yb)return 0;if(void 0===yb)return 1;if(void 0===db)return-1;if(db!==yb)return lb(db,yb)}while(++wa)}inc(W,wa){switch(W){case "premajor":this.minor=this.patch=this.prerelease.length=0;this.major++;
this.inc("pre",wa);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",wa);break;case "prepatch":this.prerelease.length=0;this.inc("patch",wa);this.inc("pre",wa);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",wa);this.inc("pre",wa);break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&0!==this.prerelease.length||this.minor++;this.patch=
0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(W=this.prerelease.length;0<=--W;)"number"===typeof this.prerelease[W]&&(this.prerelease[W]++,W=-2);-1===W&&this.prerelease.push(0)}wa&&(0===lb(this.prerelease[0],wa)?isNaN(this.prerelease[1])&&(this.prerelease=[wa,0]):this.prerelease=[wa,0]);break;default:throw Error("invalid increment argument: ".concat(W));}this.format();
this.raw=this.version;return this}}var oc=Gb;const ec=oc;var kc=(W,wa,db)=>(new ec(W,db)).compare(new ec(wa,db)),Sc=(W,wa,db,yb)=>{switch(wa){case "\x3d\x3d\x3d":return"object"===typeof W&&(W=W.version),"object"===typeof db&&(db=db.version),W===db;case "!\x3d\x3d":return"object"===typeof W&&(W=W.version),"object"===typeof db&&(db=db.version),W!==db;case "":case "\x3d":case "\x3d\x3d":return 0===kc(W,db,yb);case "!\x3d":return 0!==kc(W,db,yb);case "\x3e":return 0<kc(W,db,yb);case "\x3e\x3d":return 0<=
kc(W,db,yb);case "\x3c":return 0>kc(W,db,yb);case "\x3c\x3d":return 0>=kc(W,db,yb);default:throw new TypeError("Invalid operator: ".concat(wa));}},ed,fd,Qd,Td;const Ed=Ia();var Yd=(W,wa,db)=>{try{wa=new Ed(wa,db)}catch(yb){return!1}return wa.test(W)},ae={NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},Ud={"*":(W,wa)=>W*wa,"+":(W,wa)=>W+wa,"-":(W,wa)=>W-wa,"/":(W,wa)=>
W/wa,"%":(W,wa)=>W%wa,"\x3e":(W,wa)=>W>wa,"\x3c":(W,wa)=>W<wa,"\x3c\x3d":(W,wa)=>W<=wa,"\x3e\x3d":(W,wa)=>W>=wa,"\x3d\x3d":(W,wa)=>W==wa,"!\x3d":(W,wa)=>W!=wa,"\x3d\x3d\x3d":(W,wa)=>W===wa,"!\x3d\x3d":(W,wa)=>W!==wa,"\x26":(W,wa)=>W&wa,"|":(W,wa)=>W|wa,"^":(W,wa)=>W^wa,"\x3c\x3c":(W,wa)=>W<<wa,"\x3e\x3e":(W,wa)=>W>>wa,"\x3e\x3e\x3e":(W,wa)=>W>>>wa},Ye={"+":W=>+W,"-":W=>-W,"~":W=>~W,"!":W=>!W};const Wd=Array.prototype.slice,P=(W,wa,db)=>{db=db?db(wa[0]):wa[0];return db[W].apply(db,Wd.call(wa,1))};
var na={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(W,wa,db)=>Math.max(wa,Math.min(db,W)),now:Date.now,utc:Date.UTC,datetime:(W,wa,db,yb,hc,Ec,ac)=>new Date(W,wa||0,null!=db?db:1,yb||0,hc||0,Ec||0,ac||0),date:W=>(new Date(W)).getDate(),
day:W=>(new Date(W)).getDay(),year:W=>(new Date(W)).getFullYear(),month:W=>(new Date(W)).getMonth(),hours:W=>(new Date(W)).getHours(),minutes:W=>(new Date(W)).getMinutes(),seconds:W=>(new Date(W)).getSeconds(),milliseconds:W=>(new Date(W)).getMilliseconds(),time:W=>(new Date(W)).getTime(),timezoneoffset:W=>(new Date(W)).getTimezoneOffset(),utcdate:W=>(new Date(W)).getUTCDate(),utcday:W=>(new Date(W)).getUTCDay(),utcyear:W=>(new Date(W)).getUTCFullYear(),utcmonth:W=>(new Date(W)).getUTCMonth(),utchours:W=>
(new Date(W)).getUTCHours(),utcminutes:W=>(new Date(W)).getUTCMinutes(),utcseconds:W=>(new Date(W)).getUTCSeconds(),utcmilliseconds:W=>(new Date(W)).getUTCMilliseconds(),length:W=>W.length,join:function(){return P("join",arguments)},indexof:function(){return P("indexOf",arguments)},lastindexof:function(){return P("lastIndexOf",arguments)},slice:function(){return P("slice",arguments)},reverse:W=>W.slice().reverse(),parseFloat,parseInt,upper:W=>String(W).toUpperCase(),lower:W=>String(W).toLowerCase(),
substring:function(){return P("substring",arguments,String)},split:function(){return P("split",arguments,String)},replace:function(){return P("replace",arguments,String)},trim:W=>String(W).trim(),regexp:RegExp,test:(W,wa)=>RegExp(W).test(wa)};const Aa="view item group xy x y".split(" "),fb={Literal:(W,wa)=>wa.value,Identifier:(W,wa)=>{wa=wa.name;return 0<W.memberDepth?wa:"datum"===wa?W.datum:"event"===wa?W.event:"item"===wa?W.item:ae[wa]||W.params["$"+wa]},MemberExpression:(W,wa)=>{const db=!wa.computed,
yb=W(wa.object);db&&(W.memberDepth+=1);wa=W(wa.property);db&&--W.memberDepth;return yb[wa]},CallExpression:(W,wa)=>{const db=wa.arguments;wa=wa.callee.name;wa.startsWith("_")&&(wa=wa.slice(1));return"if"===wa?W(db[0])?W(db[1]):W(db[2]):(W.fn[wa]||na[wa]).apply(W.fn,db.map(W))},ArrayExpression:(W,wa)=>wa.elements.map(W),BinaryExpression:(W,wa)=>Ud[wa.operator](W(wa.left),W(wa.right)),UnaryExpression:(W,wa)=>Ye[wa.operator](W(wa.argument)),ConditionalExpression:(W,wa)=>W(wa.test)?W(wa.consequent):W(wa.alternate),
LogicalExpression:(W,wa)=>"\x26\x26"===wa.operator?W(wa.left)&&W(wa.right):W(wa.left)||W(wa.right),ObjectExpression:(W,wa)=>wa.properties.reduce((db,yb)=>{W.memberDepth+=1;const hc=W(yb.key);--W.memberDepth;db[hc]=W(yb.value);return db},{})};var Jb={operator(W,wa){const db=wa.ast,yb=W.functions;return hc=>kb(db,yb,hc)},parameter(W,wa){const db=wa.ast,yb=W.functions;return(hc,Ec)=>kb(db,yb,Ec,hc)},event(W,wa){const db=wa.ast,yb=W.functions;return hc=>kb(db,yb,void 0,void 0,hc)},handler(W,wa){const db=
wa.ast,yb=W.functions;return(hc,Ec)=>kb(db,yb,hc,Ec.item&&Ec.item.datum,Ec)},encode(W,wa){const {marktype:db,channels:yb}=wa,hc=W.functions,Ec="group"===db||"image"===db||"rect"===db;return(ac,L)=>{const fa=ac.datum;let Sa=0,cc;for(const Jc in yb)cc=kb(yb[Jc].ast,hc,L,fa,void 0,ac),ac[Jc]!==cc&&(ac[Jc]=cc,Sa=1);"rule"!==db&&(yb.x2&&(yb.x?(Ec&&ac.x>ac.x2&&(L=ac.x,ac.x=ac.x2,ac.x2=L),ac.width=ac.x2-ac.x):ac.x=ac.x2-(ac.width||0)),yb.xc&&(ac.x=ac.xc-(ac.width||0)/2),yb.y2&&(yb.y?(Ec&&ac.y>ac.y2&&(L=
ac.y,ac.y=ac.y2,ac.y2=L),ac.height=ac.y2-ac.y):ac.y=ac.y2-(ac.height||0)),yb.yc&&(ac.y=ac.yc-(ac.height||0)/2));return Sa}}};const Zb={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},Cc={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),
"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),
"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11",
"#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),
"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};var mc=Object.freeze({__proto__:null,dark:{background:"#333",title:{color:"#fff",subtitleColor:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},
symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",
gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),
diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,
gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",
padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6",
"#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},
axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:Zb["category-6"],diverging:Zb["fireandice-6"],heatmap:Zb["fire-7"],ordinal:Zb["fire-7"],ramp:Zb["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},
area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},
urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,
labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Cc["six-groups-cat-1"],diverging:Cc["diverging-colors"],heatmap:Cc["diverging-colors"],ordinal:Cc["six-groups-seq"],ramp:Cc["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},
text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},version:"2.10.0",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},
axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}});const Hc=W=>function(wa){return wa[W]},jd=W=>{const wa=W.length;return function(db){for(let yb=0;yb<wa;++yb)db=db[W[yb]];return db}};(function(W,wa,db){const yb=qb(W);W=1===yb.length?yb[0]:W;return Ma((db&&db.get||vb)(yb),[W],wa||W)})("id");Ma(W=>W,[],"identity");Ma(()=>0,[],
"zero");Ma(()=>1,[],"one");Ma(()=>!0,[],"true");Ma(()=>!1,[],"false");var Nc=Array.isArray;const vd={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(W){return String(W).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2,formatTooltip:function(W,wa,db){if(Nc(W))return"[".concat(W.map(hc=>wa("string"===typeof hc?hc:JSON.stringify(hc,Vb(db)))).join(", "),"]");if(W===Object(W)){let hc="";const {title:Ec,image:ac}=
W;W=Ob(W,["title","image"]);Ec&&(hc+="\x3ch2\x3e".concat(wa(Ec),"\x3c/h2\x3e"));ac&&(hc+='\x3cimg src\x3d"'.concat(wa(ac),'"\x3e'));var yb=Object.keys(W);if(0<yb.length){hc+="\x3ctable\x3e";for(const L of yb)yb=W[L],void 0!==yb&&(yb===Object(yb)&&(yb=JSON.stringify(yb,Vb(db))),hc+='\x3ctr\x3e\x3ctd class\x3d"key"\x3e'.concat(wa(L),':\x3c/td\x3e\x3ctd class\x3d"value"\x3e').concat(wa(yb),"\x3c/td\x3e\x3c/tr\x3e"));hc+="\x3c/table\x3e"}return hc||"{}"}return wa(W)}};class Gd{constructor(W){this.options=
Object.assign(Object.assign({},vd),W);var wa=this.options.id;this.el=null;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){W=document.createElement("style");W.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(wa))throw Error("Invalid HTML ID");wa="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black;\n}\n#vg-tooltip-element.visible {\n  visibility: visible;\n}\n#vg-tooltip-element h2 {\n  margin-top: 0;\n  margin-bottom: 10px;\n  font-size: 13px;\n}\n#vg-tooltip-element img {\n  max-width: 200px;\n  max-height: 200px;\n}\n#vg-tooltip-element table {\n  border-spacing: 0;\n}\n#vg-tooltip-element table tr {\n  border: none;\n}\n#vg-tooltip-element table tr td {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n#vg-tooltip-element table tr td.key {\n  color: #808080;\n  max-width: 150px;\n  text-align: right;\n  padding-right: 4px;\n}\n#vg-tooltip-element table tr td.value {\n  display: block;\n  max-width: 300px;\n  max-height: 7em;\n  text-align: left;\n}\n#vg-tooltip-element.dark-theme {\n  background-color: rgba(32, 32, 32, 0.9);\n  border: 1px solid #f5f5f5;\n  color: white;\n}\n#vg-tooltip-element.dark-theme td.key {\n  color: #bfbfbf;\n}\n".toString().replace("vg-tooltip-element",
wa);W.innerHTML=wa;wa=document.head;0<wa.childNodes.length?wa.insertBefore(W,wa.childNodes[0]):wa.appendChild(W)}}tooltipHandler(W,wa,db,yb){var hc;this.el=document.getElementById(this.options.id);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(null!==(hc=document.fullscreenElement)&&void 0!==hc?hc:document.body).appendChild(this.el));if(null==yb||""===yb)this.el.classList.remove("visible","".concat(this.options.theme,
"-theme"));else{this.el.innerHTML=this.options.formatTooltip(yb,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible","".concat(this.options.theme,"-theme"));W=this.el.getBoundingClientRect();hc=this.options.offsetX;db=this.options.offsetY;yb=wa.clientX+hc;yb+W.width>window.innerWidth&&(yb=+wa.clientX-hc-W.width);hc=wa.clientY+db;hc+W.height>window.innerHeight&&(hc=+wa.clientY-db-W.height);var {x:Ec,y:ac}={x:yb,y:hc};this.el.setAttribute("style","top: ".concat(ac,"px; left: ").concat(Ec,
"px"))}}}String.prototype.startsWith||(String.prototype.startsWith=function(W,wa){return this.substr(!wa||0>wa?0:+wa,W.length)===W});var Fd;const Xd=S;let Od=g;const qe="undefined"!==typeof window?window:void 0;void 0===Od&&null!==qe&&void 0!==qe&&null!==(Fd=qe.vl)&&void 0!==Fd&&Fd.compile&&(Od=qe.vl);const De={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},gf={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",
SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},df={vega:"Vega","vega-lite":"Vega-Lite"},ef={vega:Xd.version,"vega-lite":Od?Od.version:"not available"},pe={vega:W=>W,"vega-lite":(W,wa)=>Od.compile(W,{config:wa}).spec},nf=function(){var W;if(W=1<arguments.length){if(W=l.isString(0>=arguments.length?void 0:arguments[0]))W=0>=arguments.length?void 0:arguments[0],W=!(W.startsWith("http://")||W.startsWith("https://")||W.startsWith("//"));W=W||(0>=arguments.length?void 0:arguments[0])instanceof HTMLElement||
3===arguments.length}return W?cb(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1],2>=arguments.length?void 0:arguments[2]):N(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1])};nf.vegaLite=Od;nf.vl=Od;nf.container=N;nf.embed=cb;nf.vega=Xd;nf.default=cb;nf.version="6.21.0";return nf})};
shadow$provide[69]=function(fc,Eb,Wc,nb){nb.__esModule=!0;nb.default=function(t){const l={};return!!t&&"[object Function]"===l.toString.call(t)}};
shadow$provide[70]=function(fc,Eb,Wc,nb){nb.__esModule=!0;nb.default=function(R,hb,Cb){Cb&&((0,l.default)(Cb)?Cb(R.data(hb)):R.change(hb,t.vega.changeset().remove(()=>!0).insert(Cb)))};var t=Eb(68),l=function(R){return R&&R.__esModule?R:{default:R}}(Eb(69))};
shadow$provide[71]=function(fc,Eb,Wc,nb){nb.__esModule=!0;nb.default=function(l,R){Object.keys(R).forEach(hb=>{(0,t.default)(l,hb,R[hb])})};var t=function(l){return l&&l.__esModule?l:{default:l}}(Eb(70))};
shadow$provide[72]=function(fc,Eb,Wc,nb){nb.__esModule=!0;nb.default=function(t){const l=new Set;t.forEach(R=>{Object.keys(R).forEach(hb=>{l.add(hb)})});return l}};
shadow$provide[73]=function(fc,Eb,Wc,nb){nb.__esModule=!0;nb.NOOP=void 0;nb.NOOP=()=>{}};
shadow$provide[74]=function(fc,Eb,Wc,nb){nb.__esModule=!0;nb.default=function(t,l){const R=Object.keys(l);R.forEach(hb=>{try{t.addSignalListener(hb,l[hb])}catch(Cb){console.warn("Cannot add invalid signal listener.",Cb)}});return 0<R.length}};
shadow$provide[75]=function(fc,Eb,Wc,nb){Wc.exports=function hb(l,R){if(l===R)return!0;if(l&&R&&"object"==typeof l&&"object"==typeof R){if(l.constructor!==R.constructor)return!1;var Cb;if(Array.isArray(l)){var Yb=l.length;if(Yb!=R.length)return!1;for(Cb=Yb;0!==Cb--;)if(!hb(l[Cb],R[Cb]))return!1;return!0}if(l.constructor===RegExp)return l.source===R.source&&l.flags===R.flags;if(l.valueOf!==Object.prototype.valueOf)return l.valueOf()===R.valueOf();if(l.toString!==Object.prototype.toString)return l.toString()===
R.toString();var sc=Object.keys(l);Yb=sc.length;if(Yb!==Object.keys(R).length)return!1;for(Cb=Yb;0!==Cb--;)if(!Object.prototype.hasOwnProperty.call(R,sc[Cb]))return!1;for(Cb=Yb;0!==Cb--;)if(Yb=sc[Cb],!hb(l[Yb],R[Yb]))return!1;return!0}return l!==l&&R!==R}};
shadow$provide[76]=function(fc,Eb,Wc,nb){function t(hb){return hb&&hb.__esModule?hb:{default:hb}}nb.__esModule=!0;nb.default=function(hb,Cb){if(hb===Cb)return!1;const Yb={width:!1,height:!1,isExpensive:!1},sc=(0,R.default)([hb,Cb]);!sc.has("width")||"width"in hb&&"width"in Cb&&hb.width===Cb.width||("width"in hb&&"number"===typeof hb.width?Yb.width=hb.width:Yb.isExpensive=!0);!sc.has("height")||"height"in hb&&"height"in Cb&&hb.height===Cb.height||("height"in hb&&"number"===typeof hb.height?Yb.height=
hb.height:Yb.isExpensive=!0);sc.delete("width");sc.delete("height");[...sc].some(zc=>!(zc in hb)||!(zc in Cb)||!(0,l.default)(hb[zc],Cb[zc]))&&(Yb.isExpensive=!0);return!1!==Yb.width||!1!==Yb.height||Yb.isExpensive?Yb:!1};var l=t(Eb(75)),R=t(Eb(72))};
shadow$provide[77]=function(fc,Eb,Wc,nb){nb.__esModule=!0;nb.default=function(t,l){const R=Object.keys(l);R.forEach(hb=>{try{t.removeSignalListener(hb,l[hb])}catch(Cb){console.warn("Cannot remove invalid signal listener.",Cb)}});return 0<R.length}};
shadow$provide[78]=function(fc,Eb,Wc,nb){nb.__esModule=!0;nb.default=function(t){const {spec:l,width:R,height:hb}=t;return"undefined"!==typeof R&&"undefined"!==typeof hb?Object.assign({},l,{width:R,height:hb}):"undefined"!==typeof R?Object.assign({},l,{width:R}):"undefined"!==typeof hb?Object.assign({},l,{height:hb}):l}};
shadow$provide[79]=function(fc,Eb,Wc,nb){function t(Ua){return Ua&&Ua.__esModule?Ua:{default:Ua}}function l(Ua,rb,Fb){rb in Ua?Object.defineProperty(Ua,rb,{value:Fb,enumerable:!0,configurable:!0,writable:!0}):Ua[rb]=Fb;return Ua}nb.__esModule=!0;nb.default=void 0;fc=t(Eb(18));var R=t(Eb(2)),hb=t(Eb(68)),Cb=t(Eb(19)),Yb=t(Eb(72)),sc=Eb(73),zc=t(Eb(74)),pc=t(Eb(76)),Ab=t(Eb(77)),jc=t(Eb(78));class Sb extends R.default.PureComponent{constructor(){super(...arguments);l(this,"containerRef",R.default.createRef());
l(this,"resultPromise",void 0);l(this,"handleError",Ua=>{const {onError:rb=sc.NOOP}=this.props;rb(Ua,this.containerRef.current);console.warn(Ua)});l(this,"modifyView",Ua=>{this.resultPromise&&this.resultPromise.then(rb=>{rb&&Ua(rb.view);return!0}).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(Ua){const rb=(0,Yb.default)([this.props,Ua]);rb.delete("className");rb.delete("signalListeners");rb.delete("spec");rb.delete("style");rb.delete("width");rb.delete("height");
if(Array.from(rb).some(Fb=>this.props[Fb]!==Ua[Fb]))this.clearView(),this.createView();else{const Fb=(0,pc.default)((0,jc.default)(this.props),(0,jc.default)(Ua)),{signalListeners:Hb}=this.props,{signalListeners:Bb}=Ua;if(Fb)if(Fb.isExpensive)this.clearView(),this.createView();else{const Lb=!(0,Cb.default)(Hb,Bb);this.modifyView(Wa=>{!1!==Fb.width&&Wa.width(Fb.width);!1!==Fb.height&&Wa.height(Fb.height);Lb&&(Bb&&(0,Ab.default)(Wa,Bb),Hb&&(0,zc.default)(Wa,Hb));Wa.run()})}else(0,Cb.default)(Hb,Bb)||
this.modifyView(Lb=>{Bb&&(0,Ab.default)(Lb,Bb);Hb&&(0,zc.default)(Lb,Hb);Lb.run()})}}componentWillUnmount(){this.clearView()}createView(){var Ua=this.props,rb=Object.assign({},Ua);const Fb=Ua.onNewView,Hb=void 0===Ua.signalListeners?{}:Ua.signalListeners;Ua=(delete rb.spec,delete rb.onNewView,delete rb.signalListeners,delete rb.width,delete rb.height,rb);this.containerRef.current&&(rb=(0,jc.default)(this.props),this.resultPromise=(0,hb.default)(this.containerRef.current,rb,Ua).then(Bb=>{if(Bb){const {view:Lb}=
Bb;(0,zc.default)(Lb,Hb)&&Lb.run()}return Bb}).catch(this.handleError),Fb&&this.modifyView(Fb))}clearView(){this.resultPromise&&this.resultPromise.then(Ua=>{Ua&&Ua.finalize()}).catch(this.handleError);this.resultPromise=void 0;return this}render(){const {className:Ua,style:rb}=this.props;return R.default.createElement("div",{ref:this.containerRef,className:Ua,style:rb})}}nb.default=Sb;l(Sb,"propTypes",{className:fc.default.string,onError:fc.default.func})};
shadow$provide[80]=function(fc,Eb,Wc,nb){function t(Ab){return Ab&&Ab.__esModule?Ab:{default:Ab}}function l(){l=Object.assign||function(Ab){for(var jc=1;jc<arguments.length;jc++){var Sb=arguments[jc],Ua;for(Ua in Sb)Object.prototype.hasOwnProperty.call(Sb,Ua)&&(Ab[Ua]=Sb[Ua])}return Ab};return l.apply(this,arguments)}function R(Ab,jc,Sb){jc in Ab?Object.defineProperty(Ab,jc,{value:Sb,enumerable:!0,configurable:!0,writable:!0}):Ab[jc]=Sb;return Ab}nb.__esModule=!0;nb.default=void 0;t(Eb(18));var hb=
t(Eb(2)),Cb=t(Eb(19)),Yb=t(Eb(71)),sc=t(Eb(79)),zc=Eb(73);class pc extends hb.default.PureComponent{constructor(){super(...arguments);R(this,"vegaEmbed",hb.default.createRef());R(this,"handleNewView",Ab=>{this.update();const {onNewView:jc=zc.NOOP}=this.props;jc(Ab)})}componentDidMount(){this.update()}componentDidUpdate(Ab){(0,Cb.default)(this.props.data,Ab.data)||this.update()}update(){const {data:Ab}=this.props;this.vegaEmbed.current&&Ab&&0<Object.keys(Ab).length&&this.vegaEmbed.current.modifyView(jc=>
{(0,Yb.default)(jc,Ab);jc.resize().run()})}render(){var Ab=Object.assign({},this.props);Ab=(delete Ab.data,Ab);return hb.default.createElement(sc.default,l({ref:this.vegaEmbed},Ab,{onNewView:this.handleNewView}))}}nb.default=pc;R(pc,"defaultProps",{data:{}})};
shadow$provide[81]=function(fc,Eb,Wc,nb){function t(Cb){return Cb&&Cb.__esModule?Cb:{default:Cb}}function l(){l=Object.assign||function(Cb){for(var Yb=1;Yb<arguments.length;Yb++){var sc=arguments[Yb],zc;for(zc in sc)Object.prototype.hasOwnProperty.call(sc,zc)&&(Cb[zc]=sc[zc])}return Cb};return l.apply(this,arguments)}nb.__esModule=!0;nb.default=function(Cb){return R.default.createElement(hb.default,l({},Cb,{mode:"vega-lite"}))};var R=t(Eb(2)),hb=t(Eb(80))};
shadow$provide[82]=function(fc,Eb,Wc,nb){function t(Yb){return Yb&&Yb.__esModule?Yb:{default:Yb}}function l(){l=Object.assign||function(Yb){for(var sc=1;sc<arguments.length;sc++){var zc=arguments[sc],pc;for(pc in zc)Object.prototype.hasOwnProperty.call(zc,pc)&&(Yb[pc]=zc[pc])}return Yb};return l.apply(this,arguments)}function R(Yb,sc,zc){sc in Yb?Object.defineProperty(Yb,sc,{value:zc,enumerable:!0,configurable:!0,writable:!0}):Yb[sc]=zc;return Yb}nb.__esModule=!0;nb.default=function(Yb){let {mode:sc,
spec:zc}=Yb;class pc extends hb.default.PureComponent{render(){return hb.default.createElement(Cb.default,l({mode:sc,spec:zc},this.props))}}R(pc,"getSpec",function(){return zc});return pc};var hb=t(Eb(2)),Cb=t(Eb(80))};
shadow$provide[83]=function(fc,Eb,Wc,nb){nb.__esModule=!0};
shadow$provide[84]=function(fc,Eb,Wc,nb){nb.__esModule=!0;var t=Eb(83);Object.keys(t).forEach(function(l){"default"!==l&&"__esModule"!==l&&(l in nb&&nb[l]===t[l]||(nb[l]=t[l]))})};
shadow$provide[85]=function(fc,Eb,Wc,nb){function t(hb){return hb&&hb.__esModule?hb:{default:hb}}nb.__esModule=!0;var l={Vega:!0,VegaLite:!0,createClassFromSpec:!0};nb.createClassFromSpec=nb.VegaLite=nb.Vega=void 0;fc=t(Eb(80));nb.Vega=fc.default;fc=t(Eb(81));nb.VegaLite=fc.default;fc=t(Eb(82));nb.createClassFromSpec=fc.default;var R=Eb(84);Object.keys(R).forEach(function(hb){"default"!==hb&&"__esModule"!==hb&&(Object.prototype.hasOwnProperty.call(l,hb)||hb in nb&&nb[hb]===R[hb]||(nb[hb]=R[hb]))})};
/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var g,aa=this||self;function t(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}function ba(a){return Object.prototype.hasOwnProperty.call(a,ca)&&a[ca]||(a[ca]=++ea)}var ca="closure_uid_"+(1E9*Math.random()>>>0),ea=0;
function fa(a,b){function c(){}c.prototype=b.prototype;a.Dd=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[e].apply(d,h)}};function ha(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function ia(a,b){return null!==a&&b in a?a[b]:void 0}const ja="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ka(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<ja.length;f++)c=ja[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function la(a){if(!Array.isArray(a))for(let b=a.length-1;0<=b;b--)delete a[b];a.length=0};var ma;a:{const a=aa.navigator;if(a){const b=a.userAgent;if(b){ma=b;break a}}ma=""}let na=ma;function oa(a){return-1!=na.indexOf(a)};function pa(a,b){null!=a&&this.append.apply(this,arguments)}g=pa.prototype;g.kb="";g.set=function(a){this.kb=""+a};g.append=function(a,b,c){this.kb+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.kb+=arguments[d];return this};g.clear=function(){this.kb=""};g.toString=function(){return this.kb};var qa={},sa={},ta,u={},ua=null;function va(){return new v(null,5,[wa,!0,xa,!0,ya,!1,za,!1,Aa,null],null)}function x(a){return null!=a&&!1!==a}function Ba(a){return a instanceof Array}function y(a,b){return a[t(null==b?null:b)]?!0:a._?!0:!1}function A(a,b){var c=null==b?null:b.constructor;c=x(x(c)?c.Ib:c)?c.nb:t(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Ca(a){var b=a.nb;return x(b)?b:B.j(a)}
var Da="undefined"!==typeof Symbol&&"function"===t(Symbol)?Symbol.iterator:"@@iterator";function Ea(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Fa(a){function b(d,e){d.push(e);return d}var c=[];return Ga?Ga(b,c,a):Ha.call(null,b,c,a)}function Ia(a){return"symbol"===t(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Ja(){}function Ka(){}function La(){}
function Ma(a){if(null!=a&&null!=a.la)a=a.la(a);else{var b=Ma[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ma._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ICounted.-count",a);}return a}function Na(){}function Oa(a){if(null!=a&&null!=a.ma)a=a.ma(a);else{var b=Oa[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Oa._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEmptyableCollection.-empty",a);}return a}function Pa(){}
function Qa(a,b){if(null!=a&&null!=a.oa)a=a.oa(a,b);else{var c=Qa[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qa._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ICollection.-conj",a);}return a}function Ra(){}
var Ta=function(){function a(d,e,f){var h=Sa[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=Sa._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("IIndexed.-nth",d);}function b(d,e){var f=Sa[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Sa._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),Sa=function Sa(a){switch(arguments.length){case 2:return Sa.B(arguments[0],arguments[1]);case 3:return Sa.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Sa.B=function(a,b){return null!=a&&null!=a.ea?a.ea(a,b):Ta(a,b)};Sa.D=function(a,b,c){return null!=a&&null!=a.Aa?a.Aa(a,b,c):Ta(a,b,c)};Sa.$=3;function Ua(){}
function D(a){if(null!=a&&null!=a.wa)a=a.wa(a);else{var b=D[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=D._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeq.-first",a);}return a}function Va(a){if(null!=a&&null!=a.xa)a=a.xa(a);else{var b=Va[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Va._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeq.-rest",a);}return a}function Wa(){}function Xa(){}
var Za=function(){function a(d,e,f){var h=Ya[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=Ya._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("ILookup.-lookup",d);}function b(d,e){var f=Ya[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Ya._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),Ya=function Ya(a){switch(arguments.length){case 2:return Ya.B(arguments[0],arguments[1]);case 3:return Ya.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Ya.B=function(a,b){return null!=a&&null!=a.ya?a.ya(a,b):Za(a,b)};Ya.D=function(a,b,c){return null!=a&&null!=a.ca?a.ca(a,b,c):Za(a,b,c)};Ya.$=3;function $a(){}
function ab(a,b){if(null!=a&&null!=a.lb)a=a.lb(a,b);else{var c=ab[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ab._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IAssociative.-contains-key?",a);}return a}function bb(a,b,c){if(null!=a&&null!=a.ab)a=a.ab(a,b,c);else{var d=bb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=bb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IAssociative.-assoc",a);}return a}
function cb(a,b){if(null!=a&&null!=a.tb)a=a.tb(a,b);else{var c=cb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=cb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IFind.-find",a);}return a}function db(){}function eb(a,b){if(null!=a&&null!=a.jc)a=a.jc(a,b);else{var c=eb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=eb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IMap.-dissoc",a);}return a}
function fb(a){if(null!=a&&null!=a.Xc)a=a.key;else{var b=fb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=fb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMapEntry.-key",a);}return a}function gb(a){if(null!=a&&null!=a.Yc)a=a.R;else{var b=gb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=gb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMapEntry.-val",a);}return a}function hb(){}
function ib(a,b){if(null!=a&&null!=a.zc)a=a.zc(a,b);else{var c=ib[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ib._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ISet.-disjoin",a);}return a}function jb(a){if(null!=a&&null!=a.vb)a=a.vb(a);else{var b=jb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=jb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IStack.-peek",a);}return a}
function kb(a){if(null!=a&&null!=a.wb)a=a.wb(a);else{var b=kb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=kb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IStack.-pop",a);}return a}function lb(){}function mb(a,b,c){if(null!=a&&null!=a.mb)a=a.mb(a,b,c);else{var d=mb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=mb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IVector.-assoc-n",a);}return a}
function F(a){if(null!=a&&null!=a.fb)a=a.fb(a);else{var b=F[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=F._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IDeref.-deref",a);}return a}function nb(){}function ob(a){if(null!=a&&null!=a.ha)a=a.ha(a);else{var b=ob[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=ob._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMeta.-meta",a);}return a}
function pb(a,b){if(null!=a&&null!=a.ka)a=a.ka(a,b);else{var c=pb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=pb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IWithMeta.-with-meta",a);}return a}function qb(){}
var sb=function(){function a(d,e,f){var h=rb[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=rb._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("IReduce.-reduce",d);}function b(d,e){var f=rb[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=rb._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),rb=function rb(a){switch(arguments.length){case 2:return rb.B(arguments[0],arguments[1]);case 3:return rb.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};rb.B=function(a,b){return null!=a&&null!=a.qa?a.qa(a,b):sb(a,b)};rb.D=function(a,b,c){return null!=a&&null!=a.ra?a.ra(a,b,c):sb(a,b,c)};rb.$=3;function tb(){}
function ub(a,b,c){if(null!=a&&null!=a.Db)a=a.Db(a,b,c);else{var d=ub[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=ub._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IKVReduce.-kv-reduce",a);}return a}function vb(a,b){if(null!=a&&null!=a.fa)a=a.fa(a,b);else{var c=vb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=vb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IEquiv.-equiv",a);}return a}
function wb(a){if(null!=a&&null!=a.ga)a=a.ga(a);else{var b=wb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=wb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IHash.-hash",a);}return a}function xb(){}function yb(a){if(null!=a&&null!=a.ja)a=a.ja(a);else{var b=yb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=yb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeqable.-seq",a);}return a}function zb(){}function Ab(){}function Bb(){}
function G(a,b){if(null!=a&&null!=a.Ac)a=a.Ac(a,b);else{var c=G[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=G._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IWriter.-write",a);}return a}function Cb(){}function Db(a,b,c){if(null!=a&&null!=a.ia)a=a.ia(a,b,c);else{var d=Db[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Db._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IPrintWithWriter.-pr-writer",a);}return a}
function Eb(a,b){var c=Fb;if(null!=a&&null!=a.Sb)a.Sb(a,b,c);else{var d=Eb[t(null==a?null:a)];if(null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Eb._,null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IWatchable.-add-watch",a);}}function Gb(a,b){if(null!=a&&null!=a.Tb)a.Tb(a,b);else{var c=Gb[t(null==a?null:a)];if(null!=c)c.B?c.B(a,b):c.call(null,a,b);else if(c=Gb._,null!=c)c.B?c.B(a,b):c.call(null,a,b);else throw A("IWatchable.-remove-watch",a);}}
function Hb(a){if(null!=a&&null!=a.sb)a=a.sb(a);else{var b=Hb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Hb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEditableCollection.-as-transient",a);}return a}function Ib(a,b){if(null!=a&&null!=a.yb)a=a.yb(a,b);else{var c=Ib[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Ib._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ITransientCollection.-conj!",a);}return a}
function Jb(a){if(null!=a&&null!=a.Hb)a=a.Hb(a);else{var b=Jb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Jb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ITransientCollection.-persistent!",a);}return a}function Kb(a,b,c){if(null!=a&&null!=a.xb)a=a.xb(a,b,c);else{var d=Kb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Kb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("ITransientAssociative.-assoc!",a);}return a}
function Lb(a){if(null!=a&&null!=a.uc)a=a.uc(a);else{var b=Lb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Lb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunk.-drop-first",a);}return a}function Mb(a){if(null!=a&&null!=a.hc)a=a.hc(a);else{var b=Mb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Mb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunkedSeq.-chunked-first",a);}return a}
function Nb(a){if(null!=a&&null!=a.Rb)a=a.Rb(a);else{var b=Nb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Nb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunkedSeq.-chunked-rest",a);}return a}function Ob(a){if(null!=a&&null!=a.Eb)a=a.Eb(a);else{var b=Ob[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ob._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("INamed.-name",a);}return a}
function Pb(a){if(null!=a&&null!=a.Fb)a=a.Fb(a);else{var b=Pb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Pb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("INamed.-namespace",a);}return a}function Qb(a,b){if(null!=a&&null!=a.Sa)a=a.Sa(a,b);else{var c=Qb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IReset.-reset!",a);}return a}
var Sb=function(){function a(f,h,k,l,m){var n=Rb[t(null==f?null:f)];if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);n=Rb._;if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);throw A("ISwap.-swap!",f);}function b(f,h,k,l){var m=Rb[t(null==f?null:f)];if(null!=m)return m.T?m.T(f,h,k,l):m.call(null,f,h,k,l);m=Rb._;if(null!=m)return m.T?m.T(f,h,k,l):m.call(null,f,h,k,l);throw A("ISwap.-swap!",f);}function c(f,h,k){var l=Rb[t(null==f?null:f)];if(null!=l)return l.D?l.D(f,h,k):l.call(null,
f,h,k);l=Rb._;if(null!=l)return l.D?l.D(f,h,k):l.call(null,f,h,k);throw A("ISwap.-swap!",f);}function d(f,h){var k=Rb[t(null==f?null:f)];if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);k=Rb._;if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);throw A("ISwap.-swap!",f);}var e=null;e=function(f,h,k,l,m){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,l);case 5:return a.call(this,f,h,k,l,m)}throw Error("Invalid arity: "+arguments.length);
};e.B=d;e.D=c;e.T=b;e.aa=a;return e}(),Rb=function Rb(a){switch(arguments.length){case 2:return Rb.B(arguments[0],arguments[1]);case 3:return Rb.D(arguments[0],arguments[1],arguments[2]);case 4:return Rb.T(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Rb.aa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Rb.B=function(a,b){return null!=a&&null!=a.kc?a.kc(a,b):Sb(a,b)};
Rb.D=function(a,b,c){return null!=a&&null!=a.lc?a.lc(a,b,c):Sb(a,b,c)};Rb.T=function(a,b,c,d){return null!=a&&null!=a.mc?a.mc(a,b,c,d):Sb(a,b,c,d)};Rb.aa=function(a,b,c,d,e){return null!=a&&null!=a.nc?a.nc(a,b,c,d,e):Sb(a,b,c,d,e)};Rb.$=5;function Tb(){}function Ub(a){if(null!=a&&null!=a.Qa)a=a.Qa(a);else{var b=Ub[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ub._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IIterable.-iterator",a);}return a}
function Vb(a){this.pd=a;this.F=1073741824;this.P=0}Vb.prototype.Ac=function(a,b){return this.pd.append(b)};function Wb(a){var b=new pa;a.ia(null,new Vb(b),va());return B.j(b)}var Xb="undefined"!==typeof Math&&"undefined"!==typeof Math.imul?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function Yb(a){a=Xb(a|0,-862048943);return Xb(a<<15|a>>>-15,461845907)}
function Zb(a,b){a=(a|0)^(b|0);return Xb(a<<13|a>>>-13,5)+-430675100|0}function $b(a,b){a=(a|0)^b;a=Xb(a^a>>>16,-2048144789);a=Xb(a^a>>>13,-1028477387);return a^a>>>16}function ac(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=Zb(c,Yb(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return $b(1===(a.length&1)?b^Yb(a.charCodeAt(a.length-1)):b,Xb(2,a.length))}var bc={},cc=0;
function dc(a){255<cc&&(bc={},cc=0);if(null==a)return 0;var b=bc[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=Xb(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;bc[a]=b;cc+=1;a=b}return a}
function ec(a){if(null!=a&&(a.F&4194304||u===a.td))return a.ga(null)^0;if("number"===typeof a){if(isFinite(a))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=dc(a),a=0===a?a:$b(Zb(0,Yb(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:wb(a)^0,a}function fc(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function gc(a,b,c,d,e){this.Bb=a;this.name=b;this.jb=c;this._hash=d;this.Ya=e;this.F=2154168321;this.P=4096}g=gc.prototype;g.toString=function(){return this.jb};g.fa=function(a,b){return b instanceof gc?this.jb===b.jb:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};
g.j=function(a){return H.B?H.B(a,this):H.call(null,a,this)};g.B=function(a,b){return H.D?H.D(a,this,b):H.call(null,a,this,b)};g.ha=function(){return this.Ya};g.ka=function(a,b){return new gc(this.Bb,this.name,this.jb,this._hash,b)};g.ga=function(){var a=this._hash;return null!=a?a:this._hash=a=fc(ac(this.name),dc(this.Bb))};g.Eb=function(){return this.name};g.Fb=function(){return this.Bb};g.ia=function(a,b){return G(b,this.jb)};
var hc=function hc(a){switch(arguments.length){case 1:return hc.j(arguments[0]);case 2:return hc.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};hc.j=function(a){for(;;){if(a instanceof gc)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?hc.B(null,a):hc.B(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof I)a=a.Ra;else throw Error("no conversion to symbol");}};
hc.B=function(a,b){var c=null!=a?[B.j(a),"/",B.j(b)].join(""):b;return new gc(a,b,c,null,null)};hc.$=2;function ic(a){return null!=a?a.P&131072||u===a.ud?!0:a.P?!1:y(Tb,a):y(Tb,a)}function J(a){if(null==a)return null;if(null!=a&&(a.F&8388608||u===a.ad))return a.ja(null);if(Ba(a)||"string"===typeof a)return 0===a.length?null:new K(a,0,null);if(null!=a&&null!=a[Da])return a=ia(a,Da).call(a),jc.j?jc.j(a):jc.call(null,a);if(y(xb,a))return yb(a);throw Error([B.j(a)," is not ISeqable"].join(""));}
function N(a){if(null==a)return null;if(null!=a&&(a.F&64||u===a.ub))return a.wa(null);a=J(a);return null==a?null:D(a)}function kc(a){return null!=a?null!=a&&(a.F&64||u===a.ub)?a.xa(null):(a=J(a))?a.xa(null):lc:lc}function O(a){return null==a?null:null!=a&&(a.F&128||u===a.Gb)?a.va():J(kc(a))}
var P=function P(a){switch(arguments.length){case 1:return P.j(arguments[0]);case 2:return P.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return P.K(arguments[0],arguments[1],c)}};P.j=function(){return!0};P.B=function(a,b){return null==a?null==b:a===b||vb(a,b)};P.K=function(a,b,c){for(;;)if(P.B(a,b))if(O(c))a=b,b=N(c),c=O(c);else return P.B(b,N(c));else return!1};
P.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};P.$=2;function mc(a){this.s=a}mc.prototype.next=function(){if(null!=this.s){var a=N(this.s);this.s=O(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function nc(a){return new mc(J(a))}function oc(a,b){this.value=a;this.Ab=b;this.bc=null;this.F=8388672;this.P=0}oc.prototype.ja=function(){return this};oc.prototype.wa=function(){return this.value};
oc.prototype.xa=function(){null==this.bc&&(this.bc=jc.j?jc.j(this.Ab):jc.call(null,this.Ab));return this.bc};function jc(a){var b=a.next();return x(b.done)?null:new oc(b.value,a)}function pc(a){var b=0,c=1;for(a=J(a);;)if(null!=a)b+=1,c=Xb(31,c)+ec(N(a))|0,a=O(a);else return $b(Zb(0,Yb(c)),b)}var qc=$b(Zb(0,Yb(1)),0);function rc(a){var b=0,c=0;for(a=J(a);;)if(null!=a)b+=1,c=c+ec(N(a))|0,a=O(a);else return $b(Zb(0,Yb(c)),b)}var sc=$b(Zb(0,Yb(0)),0);La["null"]=!0;Ma["null"]=function(){return 0};
Date.prototype.fa=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};vb.number=function(a,b){return a===b};Ja["function"]=!0;nb["function"]=!0;ob["function"]=function(){return null};wb._=function(a){return ba(a)};function tc(a){return a+1}function uc(){this.R=!1;this.F=32768;this.P=0}uc.prototype.fb=function(){return this.R};function vc(a){return a instanceof uc}function wc(a){return F(a)}
function xc(a,b){var c=a.la(null);if(0===c)return b.N?b.N():b.call(null);for(var d=a.ea(null,0),e=1;;)if(e<c){var f=a.ea(null,e);d=b.B?b.B(d,f):b.call(null,d,f);if(vc(d))return F(d);e+=1}else return d}function yc(a,b,c){var d=a.la(null),e=c;for(c=0;;)if(c<d){var f=a.ea(null,c);e=b.B?b.B(e,f):b.call(null,e,f);if(vc(e))return F(e);c+=1}else return e}
function zc(a,b){var c=a.length;if(0===a.length)return b.N?b.N():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.B?b.B(d,f):b.call(null,d,f);if(vc(d))return F(d);e+=1}else return d}function Ac(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.B?b.B(e,f):b.call(null,e,f);if(vc(e))return F(e);c+=1}else return e}function Bc(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.B?b.B(c,f):b.call(null,c,f);if(vc(c))return F(c);d+=1}else return c}
function Cc(a){return null!=a?a.F&2||u===a.Qc?!0:a.F?!1:y(La,a):y(La,a)}function Dc(a){return null!=a?a.F&16||u===a.wc?!0:a.F?!1:y(Ra,a):y(Ra,a)}function Q(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(P.B(Ec?Ec(a,c):Fc.call(null,a,c),b))return c;c+=1}else return-1}
function S(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(P.B(Ec?Ec(a,c):Fc.call(null,a,c),b))return c;--c}else return-1}function Gc(a,b){this.C=a;this.i=b}Gc.prototype.pa=function(){return this.i<this.C.length};Gc.prototype.next=function(){var a=this.C[this.i];this.i+=1;return a};function K(a,b,c){this.C=a;this.i=b;this.meta=c;this.F=166592766;this.P=139264}g=K.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R.j?R.j(this):R.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ea=function(a,b){a=b+this.i;if(0<=a&&a<this.C.length)return this.C[a];throw Error("Index out of bounds");};g.Aa=function(a,b,c){a=b+this.i;return 0<=a&&a<this.C.length?this.C[a]:c};
g.Qa=function(){return new Gc(this.C,this.i)};g.ha=function(){return this.meta};g.va=function(){return this.i+1<this.C.length?new K(this.C,this.i+1,null):null};g.la=function(){var a=this.C.length-this.i;return 0>a?0:a};g.ga=function(){return pc(this)};g.fa=function(a,b){return Hc.B?Hc.B(this,b):Hc.call(null,this,b)};g.ma=function(){return lc};g.qa=function(a,b){return Bc(this.C,b,this.C[this.i],this.i+1)};g.ra=function(a,b,c){return Bc(this.C,b,c,this.i)};g.wa=function(){return this.C[this.i]};
g.xa=function(){return this.i+1<this.C.length?new K(this.C,this.i+1,null):lc};g.ja=function(){return this.i<this.C.length?this:null};g.ka=function(a,b){return b===this.meta?this:new K(this.C,this.i,b)};g.oa=function(a,b){return U.B?U.B(b,this):U.call(null,b,this)};K.prototype[Da]=function(){return nc(this)};function Ic(a){return 0<a.length?new K(a,0,null):null}vb._=function(a,b){return a===b};
var Jc=function Jc(a){switch(arguments.length){case 0:return Jc.N();case 1:return Jc.j(arguments[0]);case 2:return Jc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Jc.K(arguments[0],arguments[1],c)}};Jc.N=function(){return Kc};Jc.j=function(a){return a};Jc.B=function(a,b){return null!=a?Qa(a,b):new Lc(null,b,null,1,null)};
Jc.K=function(a,b,c){for(;;)if(x(c))a=Jc.B(a,b),b=N(c),c=O(c);else return Jc.B(a,b)};Jc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Jc.$=2;function R(a){if(null!=a)if(null!=a&&(a.F&2||u===a.Qc))a=a.la(null);else if(Ba(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.F&8388608||u===a.ad))a:{a=J(a);for(var b=0;;){if(Cc(a)){a=b+Ma(a);break a}a=O(a);b+=1}}else a=Ma(a);else a=0;return a}
function Mc(a,b,c){for(;;){if(null==a)return c;if(0===b)return J(a)?N(a):c;if(Dc(a))return Sa(a,b,c);if(J(a))a=O(a),--b;else return c}}function Fc(a){switch(arguments.length){case 2:return Ec(arguments[0],arguments[1]);case 3:return V(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}
function Ec(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.F&16||u===a.wc))return a.ea(null,b);if(Ba(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.F&64||u===a.ub)||null!=a&&(a.F&16777216||u===a.yc)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(J(a)){a=N(a);break a}throw Error("Index out of bounds");}if(Dc(a)){a=Sa(a,b);break a}if(J(a))a=O(a),--b;else throw Error("Index out of bounds");}return a}if(y(Ra,a))return Sa(a,b);throw Error(["nth not supported on this type ",B.j(Ca(null==a?null:a.constructor))].join(""));}
function V(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.F&16||u===a.wc))return a.Aa(null,b,c);if(Ba(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.F&64||u===a.ub)||null!=a&&(a.F&16777216||u===a.yc))return 0>b?c:Mc(a,b,c);if(y(Ra,a))return Sa(a,b,c);throw Error(["nth not supported on this type ",B.j(Ca(null==a?null:a.constructor))].join(""));}
var H=function H(a){switch(arguments.length){case 2:return H.B(arguments[0],arguments[1]);case 3:return H.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};H.B=function(a,b){return null==a?null:null!=a&&(a.F&256||u===a.Wc)?a.ya(null,b):Ba(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:y(Xa,a)?Ya(a,b):null};
H.D=function(a,b,c){return null!=a?null!=a&&(a.F&256||u===a.Wc)?a.ca(null,b,c):Ba(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:y(Xa,a)?Ya(a,b,c):c:c};H.$=3;var W=function W(a){switch(arguments.length){case 3:return W.D(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(3),0,null);return W.K(arguments[0],arguments[1],arguments[2],c)}};
W.D=function(a,b,c){return null!=a&&(a.F&512||u===a.Pc)?a.ab(null,b,c):null!=a?bb(a,b,c):Nc([b,c])};W.K=function(a,b,c,d){for(;;)if(a=W.D(a,b,c),x(d))b=N(d),c=N(O(d)),d=O(O(d));else return a};W.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);d=O(d);return this.K(b,a,c,d)};W.$=3;
var Oc=function Oc(a){switch(arguments.length){case 1:return Oc.j(arguments[0]);case 2:return Oc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Oc.K(arguments[0],arguments[1],c)}};Oc.j=function(a){return a};Oc.B=function(a,b){return null==a?null:eb(a,b)};Oc.K=function(a,b,c){for(;;){if(null==a)return null;a=Oc.B(a,b);if(x(c))b=N(c),c=O(c);else return a}};
Oc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Oc.$=2;function Pc(a){var b="function"===typeof a;return b?b:null!=a?u===a.Oc?!0:a.Bc?!1:y(Ja,a):y(Ja,a)}function Qc(a,b){this.I=a;this.meta=b;this.F=393217;this.P=0}g=Qc.prototype;g.ha=function(){return this.meta};g.ka=function(a,b){return new Qc(this.I,b)};g.Oc=u;
g.call=function(a){switch(arguments.length-1){case 0:return this.N();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.T(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Oa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ia(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ka(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.ic(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.N=function(){return this.I.N?this.I.N():this.I.call(null)};g.j=function(a){return this.I.j?this.I.j(a):this.I.call(null,a)};g.B=function(a,b){return this.I.B?this.I.B(a,b):this.I.call(null,a,b)};g.D=function(a,b,c){return this.I.D?this.I.D(a,b,c):this.I.call(null,a,b,c)};
g.T=function(a,b,c,d){return this.I.T?this.I.T(a,b,c,d):this.I.call(null,a,b,c,d)};g.aa=function(a,b,c,d,e){return this.I.aa?this.I.aa(a,b,c,d,e):this.I.call(null,a,b,c,d,e)};g.Na=function(a,b,c,d,e,f){return this.I.Na?this.I.Na(a,b,c,d,e,f):this.I.call(null,a,b,c,d,e,f)};g.Oa=function(a,b,c,d,e,f,h){return this.I.Oa?this.I.Oa(a,b,c,d,e,f,h):this.I.call(null,a,b,c,d,e,f,h)};g.za=function(a,b,c,d,e,f,h,k){return this.I.za?this.I.za(a,b,c,d,e,f,h,k):this.I.call(null,a,b,c,d,e,f,h,k)};
g.Pa=function(a,b,c,d,e,f,h,k,l){return this.I.Pa?this.I.Pa(a,b,c,d,e,f,h,k,l):this.I.call(null,a,b,c,d,e,f,h,k,l)};g.Ca=function(a,b,c,d,e,f,h,k,l,m){return this.I.Ca?this.I.Ca(a,b,c,d,e,f,h,k,l,m):this.I.call(null,a,b,c,d,e,f,h,k,l,m)};g.Da=function(a,b,c,d,e,f,h,k,l,m,n){return this.I.Da?this.I.Da(a,b,c,d,e,f,h,k,l,m,n):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Ea=function(a,b,c,d,e,f,h,k,l,m,n,p){return this.I.Ea?this.I.Ea(a,b,c,d,e,f,h,k,l,m,n,p):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.Fa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){return this.I.Fa?this.I.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};g.Ga=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){return this.I.Ga?this.I.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};g.Ha=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w){return this.I.Ha?this.I.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w)};
g.Ia=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z){return this.I.Ia?this.I.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z)};g.Ja=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C){return this.I.Ja?this.I.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C)};g.Ka=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E){return this.I.Ka?this.I.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E)};
g.La=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M){return this.I.La?this.I.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M)};g.Ma=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T){return this.I.Ma?this.I.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T)};
g.ic=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da){return Rc.Vc?Rc.Vc(this.I,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da):Rc.call(null,this.I,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da)};function Sc(a,b){return"function"===typeof a?new Qc(a,b):null==a?null:pb(a,b)}function Tc(a){var b=null!=a;return(b?null!=a?a.F&131072||u===a.Zc||(a.F?0:y(nb,a)):y(nb,a):b)?ob(a):null}
var Uc=function Uc(a){switch(arguments.length){case 1:return Uc.j(arguments[0]);case 2:return Uc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Uc.K(arguments[0],arguments[1],c)}};Uc.j=function(a){return a};Uc.B=function(a,b){return null==a?null:ib(a,b)};Uc.K=function(a,b,c){for(;;){if(null==a)return null;a=Uc.B(a,b);if(x(c))b=N(c),c=O(c);else return a}};
Uc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Uc.$=2;function Vc(a){var b;(b=null==a)||(a=J(a),b=null==a?!0:!1===a?!0:!1);return b}function Wc(a){return null==a?!1:null!=a?a.F&8||u===a.rd?!0:a.F?!1:y(Pa,a):y(Pa,a)}function Xc(a){return null==a?!1:null!=a?a.F&4096||u===a.Ad?!0:a.F?!1:y(hb,a):y(hb,a)}function Yc(a){return null!=a?a.F&16777216||u===a.yc?!0:a.F?!1:y(zb,a):y(zb,a)}function Zc(a){return null==a?!1:null!=a?a.F&1024||u===a.xd?!0:a.F?!1:y(db,a):y(db,a)}
function ad(a){return null!=a?a.F&67108864||u===a.zd?!0:a.F?!1:y(Bb,a):y(Bb,a)}function bd(a){return null!=a?a.F&16384||u===a.Bd?!0:a.F?!1:y(lb,a):y(lb,a)}function cd(a){return null!=a?a.P&512||u===a.qd?!0:!1:!1}function dd(a,b,c,d,e){for(;;){if(0===e)return c;c[d]=a[b];d+=1;--e;b+=1}}var ed={};function fd(a){return null==a?!1:!1===a?!1:!0}function gd(a){var b=Pc(a);return b?b:null!=a?a.F&1||u===a.sd?!0:a.F?!1:y(Ka,a):y(Ka,a)}
function hd(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function id(a,b){return null!=a&&(a.F&512||u===a.Pc)?a.lb(null,b):y($a,a)?ab(a,b):H.D(a,b,ed)===ed?!1:!0}function jd(a,b){var c=J(b);return c?(b=N(c),c=O(c),Ga?Ga(a,b,c):Ha.call(null,a,b,c)):a.N?a.N():a.call(null)}function kd(a,b,c){for(c=J(c);;)if(c){var d=N(c);b=a.B?a.B(b,d):a.call(null,b,d);if(vc(b))return F(b);c=O(c)}else return b}
function ld(a,b){a=Ub(a);if(x(a.pa()))for(var c=a.next();;)if(a.pa()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(vc(c))return F(c)}else return c;else return b.N?b.N():b.call(null)}function md(a,b,c){for(a=Ub(a);;)if(a.pa()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(vc(c))return F(c)}else return c}
function Ha(a){switch(arguments.length){case 2:return nd(arguments[0],arguments[1]);case 3:return Ga(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function nd(a,b){return null!=b&&(b.F&524288||u===b.$c)?b.qa(null,a):Ba(b)?zc(b,a):"string"===typeof b?zc(b,a):y(qb,b)?rb(b,a):ic(b)?ld(b,a):jd(a,b)}
function Ga(a,b,c){return null!=c&&(c.F&524288||u===c.$c)?c.ra(null,a,b):Ba(c)?Ac(c,a,b):"string"===typeof c?Ac(c,a,b):y(qb,c)?rb(c,a,b):ic(c)?md(c,a,b):kd(a,b,c)}function od(a,b,c){return null!=c?ub(c,a,b):b}function pd(a){return a}function qd(a,b,c,d){a=a.j?a.j(b):a.call(null,b);c=Ga(a,c,d);return a.j?a.j(c):a.call(null,c)}
var rd=function rd(a){switch(arguments.length){case 0:return rd.N();case 1:return rd.j(arguments[0]);case 2:return rd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return rd.K(arguments[0],arguments[1],c)}};rd.N=function(){return 0};rd.j=function(a){return a};rd.B=function(a,b){return a+b};rd.K=function(a,b,c){return Ga(rd,a+b,c)};
rd.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};rd.$=2;var sd=function sd(a){switch(arguments.length){case 1:return sd.j(arguments[0]);case 2:return sd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return sd.K(arguments[0],arguments[1],c)}};sd.j=function(a){return-a};sd.B=function(a,b){return a-b};sd.K=function(a,b,c){return Ga(sd,a-b,c)};
sd.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};sd.$=2;function td(a){a=(a-a%2)/2;return 0<=a?Math.floor(a):Math.ceil(a)}function ud(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var B=function B(a){switch(arguments.length){case 0:return B.N();case 1:return B.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(1),0,null);return B.K(arguments[0],c)}};B.N=function(){return""};
B.j=function(a){return null==a?"":[a].join("")};B.K=function(a,b){for(a=new pa(B.j(a));;)if(x(b))a=a.append(B.j(N(b))),b=O(b);else return a.toString()};B.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};B.$=1;function Hc(a,b){if(Yc(b))if(Cc(a)&&Cc(b)&&R(a)!==R(b))a=!1;else a:for(a=J(a),b=J(b);;){if(null==a){a=null==b;break a}if(null!=b&&P.B(N(a),N(b)))a=O(a),b=O(b);else{a=!1;break a}}else a=null;return fd(a)}
function Lc(a,b,c,d,e){this.meta=a;this.first=b;this.eb=c;this.count=d;this.O=e;this.F=65937646;this.P=8192}g=Lc.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return 1===this.count?null:this.eb};g.la=function(){return this.count};g.vb=function(){return this.first};g.wb=function(){return this.xa(null)};
g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return pb(lc,this.meta)};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.first};g.xa=function(){return 1===this.count?lc:this.eb};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Lc(b,this.first,this.eb,this.count,this.O)};g.oa=function(a,b){return new Lc(this.meta,b,this,this.count+1,null)};
Lc.prototype[Da]=function(){return nc(this)};function vd(a){this.meta=a;this.F=65937614;this.P=8192}g=vd.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null};g.la=function(){return 0};g.vb=function(){return null};g.wb=function(){throw Error("Can't pop empty list");};g.ga=function(){return qc};
g.fa=function(a,b){return(null!=b?b.F&33554432||u===b.wd||(b.F?0:y(Ab,b)):y(Ab,b))||Yc(b)?null==J(b):!1};g.ma=function(){return this};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return null};g.xa=function(){return lc};g.ja=function(){return null};g.ka=function(a,b){return b===this.meta?this:new vd(b)};g.oa=function(a,b){return new Lc(this.meta,b,null,1,null)};var lc=new vd(null);vd.prototype[Da]=function(){return nc(this)};
function wd(a,b,c,d){this.meta=a;this.first=b;this.eb=c;this.O=d;this.F=65929452;this.P=8192}g=wd.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null==this.eb?null:J(this.eb)};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};
g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.first};g.xa=function(){return null==this.eb?lc:this.eb};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new wd(b,this.first,this.eb,this.O)};g.oa=function(a,b){return new wd(null,b,this,null)};wd.prototype[Da]=function(){return nc(this)};
function U(a,b){return null==b?new Lc(null,a,null,1,null):null!=b&&(b.F&64||u===b.ub)?new wd(null,a,b,null):new wd(null,a,J(b),null)}function I(a,b,c,d){this.Bb=a;this.name=b;this.Ra=c;this._hash=d;this.F=2153775105;this.P=4096}g=I.prototype;g.toString=function(){return[":",B.j(this.Ra)].join("")};g.fa=function(a,b){return b instanceof I?this.Ra===b.Ra:!1};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return H.B(a,this)};g.B=function(a,b){return H.D(a,this,b)};g.ga=function(){var a=this._hash;return null!=a?a:this._hash=a=fc(ac(this.name),dc(this.Bb))+2654435769|0};g.Eb=function(){return this.name};
g.Fb=function(){return this.Bb};g.ia=function(a,b){return G(b,[":",B.j(this.Ra)].join(""))};function xd(a){if(null!=a&&(a.P&4096||u===a.xc))return a.Fb(null);throw Error(["Doesn't support namespace: ",B.j(a)].join(""));}var yd=function yd(a){switch(arguments.length){case 1:return yd.j(arguments[0]);case 2:return yd.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};
yd.j=function(a){if(a instanceof I)return a;if(a instanceof gc)return new I(xd(a),X.j?X.j(a):X.call(null,a),a.jb,null);if(P.B("/",a))return new I(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new I(b[0],b[1],a,null):new I(null,b[0],a,null)}return null};
yd.B=function(a,b){a=a instanceof I?X.j?X.j(a):X.call(null,a):a instanceof gc?X.j?X.j(a):X.call(null,a):a;b=b instanceof I?X.j?X.j(b):X.call(null,b):b instanceof gc?X.j?X.j(b):X.call(null,b):b;return new I(a,b,[x(a)?[B.j(a),"/"].join(""):null,B.j(b)].join(""),null)};yd.$=2;function zd(a,b,c){this.meta=a;this.fn=b;this.s=null;this.O=c;this.F=32374988;this.P=1}g=zd.prototype;g.toString=function(){return Wb(this)};
function Ad(a){null!=a.fn&&(a.s=a.fn.N?a.fn.N():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){this.ja(null);return null==this.s?null:O(this.s)};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};
g.ma=function(){return pb(lc,this.meta)};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){this.ja(null);return null==this.s?null:N(this.s)};g.xa=function(){this.ja(null);return null!=this.s?kc(this.s):lc};g.ja=function(){Ad(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof zd)a=Ad(a);else return this.s=a,J(this.s)};g.ka=function(a,b){var c=this;return b===this.meta?c:new zd(b,function(){return c.ja(null)},this.O)};
g.oa=function(a,b){return U(b,this)};zd.prototype[Da]=function(){return nc(this)};function Bd(a){this.cc=a;this.end=0;this.F=2;this.P=0}Bd.prototype.add=function(a){this.cc[this.end]=a;return this.end+=1};Bd.prototype.$a=function(){var a=new Cd(this.cc,0,this.end);this.cc=null;return a};Bd.prototype.la=function(){return this.end};function Cd(a,b,c){this.C=a;this.off=b;this.end=c;this.F=524306;this.P=0}g=Cd.prototype;g.la=function(){return this.end-this.off};
g.ea=function(a,b){return this.C[this.off+b]};g.Aa=function(a,b,c){return 0<=b&&b<this.end-this.off?this.C[this.off+b]:c};g.uc=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Cd(this.C,this.off+1,this.end)};g.qa=function(a,b){return Bc(this.C,b,this.C[this.off],this.off+1)};g.ra=function(a,b,c){return Bc(this.C,b,c,this.off)};function Dd(a,b,c,d){this.$a=a;this.Va=b;this.meta=c;this.O=d;this.F=31850732;this.P=1536}g=Dd.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return 1<Ma(this.$a)?new Dd(Lb(this.$a),this.Va,null,null):null==this.Va?null:yb(this.Va)};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.wa=function(){return Sa(this.$a,0)};g.xa=function(){return 1<Ma(this.$a)?new Dd(Lb(this.$a),this.Va,null,null):null==this.Va?lc:this.Va};g.ja=function(){return this};g.hc=function(){return this.$a};g.Rb=function(){return null==this.Va?lc:this.Va};g.ka=function(a,b){return b===this.meta?this:new Dd(this.$a,this.Va,b,this.O)};g.oa=function(a,b){return U(b,this)};g.vc=function(){return null==this.Va?null:this.Va};Dd.prototype[Da]=function(){return nc(this)};
function Ed(a,b){return 0===Ma(a)?b:new Dd(a,b,null,null)}function Fd(a,b){a.add(b)}function Gd(a,b){if(Cc(b))return R(b);var c=0;for(b=J(b);;)if(null!=b&&c<a)c+=1,b=O(b);else return c}var Hd=function Hd(a){if(null==a)return null;var c=O(a);return null==c?J(N(a)):U(N(a),Hd.j?Hd.j(c):Hd.call(null,c))};
function Id(a,b,c){var d=J(c);if(0===b)return a.N?a.N():a.call(null);c=D(d);var e=Va(d);if(1===b)return a.j?a.j(c):a.call(null,c);d=D(e);var f=Va(e);if(2===b)return a.B?a.B(c,d):a.call(null,c,d);e=D(f);var h=Va(f);if(3===b)return a.D?a.D(c,d,e):a.call(null,c,d,e);f=D(h);var k=Va(h);if(4===b)return a.T?a.T(c,d,e,f):a.call(null,c,d,e,f);h=D(k);var l=Va(k);if(5===b)return a.aa?a.aa(c,d,e,f,h):a.call(null,c,d,e,f,h);k=D(l);var m=Va(l);if(6===b)return a.Na?a.Na(c,d,e,f,h,k):a.call(null,c,d,e,f,h,k);l=
D(m);var n=Va(m);if(7===b)return a.Oa?a.Oa(c,d,e,f,h,k,l):a.call(null,c,d,e,f,h,k,l);m=D(n);var p=Va(n);if(8===b)return a.za?a.za(c,d,e,f,h,k,l,m):a.call(null,c,d,e,f,h,k,l,m);n=D(p);var q=Va(p);if(9===b)return a.Pa?a.Pa(c,d,e,f,h,k,l,m,n):a.call(null,c,d,e,f,h,k,l,m,n);p=D(q);var r=Va(q);if(10===b)return a.Ca?a.Ca(c,d,e,f,h,k,l,m,n,p):a.call(null,c,d,e,f,h,k,l,m,n,p);q=D(r);var w=Va(r);if(11===b)return a.Da?a.Da(c,d,e,f,h,k,l,m,n,p,q):a.call(null,c,d,e,f,h,k,l,m,n,p,q);r=D(w);var z=Va(w);if(12===
b)return a.Ea?a.Ea(c,d,e,f,h,k,l,m,n,p,q,r):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r);w=D(z);var C=Va(z);if(13===b)return a.Fa?a.Fa(c,d,e,f,h,k,l,m,n,p,q,r,w):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w);z=D(C);var E=Va(C);if(14===b)return a.Ga?a.Ga(c,d,e,f,h,k,l,m,n,p,q,r,w,z):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z);C=D(E);var M=Va(E);if(15===b)return a.Ha?a.Ha(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C);E=D(M);var T=Va(M);if(16===b)return a.Ia?a.Ia(c,d,e,f,h,k,l,m,n,p,q,r,w,
z,C,E):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E);M=D(T);var da=Va(T);if(17===b)return a.Ja?a.Ja(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M);T=D(da);var ra=Va(da);if(18===b)return a.Ka?a.Ka(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T);da=D(ra);ra=Va(ra);if(19===b)return a.La?a.La(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da);var $c=D(ra);Va(ra);if(20===b)return a.Ma?a.Ma(c,
d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da,$c):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da,$c);throw Error("Only up to 20 arguments supported on functions");}function Jd(a){return null!=a&&(a.F&128||u===a.Gb)?a.va():J(kc(a))}function Kd(a,b,c){return null==c?a.j?a.j(b):a.call(a,b):Ld(a,b,D(c),Jd(c))}function Ld(a,b,c,d){return null==d?a.B?a.B(b,c):a.call(a,b,c):Md(a,b,c,D(d),Jd(d))}function Md(a,b,c,d,e){return null==e?a.D?a.D(b,c,d):a.call(a,b,c,d):Nd(a,b,c,d,D(e),Jd(e))}
function Nd(a,b,c,d,e,f){if(null==f)return a.T?a.T(b,c,d,e):a.call(a,b,c,d,e);var h=D(f),k=O(f);if(null==k)return a.aa?a.aa(b,c,d,e,h):a.call(a,b,c,d,e,h);f=D(k);var l=O(k);if(null==l)return a.Na?a.Na(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=D(l);var m=O(l);if(null==m)return a.Oa?a.Oa(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);l=D(m);var n=O(m);if(null==n)return a.za?a.za(b,c,d,e,h,f,k,l):a.call(a,b,c,d,e,h,f,k,l);m=D(n);var p=O(n);if(null==p)return a.Pa?a.Pa(b,c,d,e,h,f,k,l,m):a.call(a,b,c,d,e,h,f,k,l,m);
n=D(p);var q=O(p);if(null==q)return a.Ca?a.Ca(b,c,d,e,h,f,k,l,m,n):a.call(a,b,c,d,e,h,f,k,l,m,n);p=D(q);var r=O(q);if(null==r)return a.Da?a.Da(b,c,d,e,h,f,k,l,m,n,p):a.call(a,b,c,d,e,h,f,k,l,m,n,p);q=D(r);var w=O(r);if(null==w)return a.Ea?a.Ea(b,c,d,e,h,f,k,l,m,n,p,q):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q);r=D(w);var z=O(w);if(null==z)return a.Fa?a.Fa(b,c,d,e,h,f,k,l,m,n,p,q,r):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r);w=D(z);var C=O(z);if(null==C)return a.Ga?a.Ga(b,c,d,e,h,f,k,l,m,n,p,q,r,w):a.call(a,b,c,d,
e,h,f,k,l,m,n,p,q,r,w);z=D(C);var E=O(C);if(null==E)return a.Ha?a.Ha(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z);C=D(E);var M=O(E);if(null==M)return a.Ia?a.Ia(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C);E=D(M);var T=O(M);if(null==T)return a.Ja?a.Ja(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E);M=D(T);var da=O(T);if(null==da)return a.Ka?a.Ka(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M):a.call(a,b,c,d,e,h,f,k,l,m,n,p,
q,r,w,z,C,E,M);T=D(da);var ra=O(da);if(null==ra)return a.La?a.La(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T);da=D(ra);ra=O(ra);if(null==ra)return a.Ma?a.Ma(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da);b=[b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da];for(c=ra;;)if(c)b.push(D(c)),c=O(c);else break;return a.apply(a,b)}
function Rc(a){switch(arguments.length){case 2:return Od(arguments[0],arguments[1]);case 3:return Pd(arguments[0],arguments[1],arguments[2]);case 4:var b=arguments[0];var c=arguments[1],d=arguments[2],e=arguments[3];b.ba?(c=U(c,U(d,e)),d=b.$,e=2+Gd(d-1,e),b=e<=d?Id(b,e,c):b.ba(c)):b=Ld(b,c,d,J(e));return b;case 5:return Qd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:b=[];e=arguments.length;for(c=0;;)if(c<e)b.push(arguments[c]),c+=1;else break;b=new K(b.slice(5),0,null);
return Rd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}function Od(a,b){if(a.ba){var c=a.$,d=Gd(c+1,b);return d<=c?Id(a,d,b):a.ba(b)}b=J(b);return null==b?a.N?a.N():a.call(a):Kd(a,D(b),Jd(b))}function Pd(a,b,c){if(a.ba){b=U(b,c);var d=a.$;c=Gd(d,c)+1;return c<=d?Id(a,c,b):a.ba(b)}return Kd(a,b,J(c))}function Qd(a,b,c,d,e){return a.ba?(b=U(b,U(c,U(d,e))),c=a.$,e=3+Gd(c-2,e),e<=c?Id(a,e,b):a.ba(b)):Md(a,b,c,d,J(e))}
function Rd(a,b,c,d,e,f){return a.ba?(f=Hd(f),b=U(b,U(c,U(d,U(e,f)))),c=a.$,f=4+Gd(c-3,f),f<=c?Id(a,f,b):a.ba(b)):Nd(a,b,c,d,e,Hd(f))}function Sd(a){if(null!=a&&(a.F&64||u===a.ub))if(O(a)){a:{var b=[];for(a=J(a);;)if(null!=a)b.push(N(a)),a=O(a);else break a}b=Nc(b)}else b=J(a)?N(a):Td;else b=a;return b}
function Ud(){if("undefined"===typeof qa||"undefined"===typeof sa||"undefined"===typeof ta)ta=function(a){this.gd=a;this.F=393216;this.P=0},ta.prototype.ka=function(a,b){return new ta(b)},ta.prototype.ha=function(){return this.gd},ta.prototype.pa=function(){return!1},ta.prototype.next=function(){return Error("No such element")},ta.prototype.remove=function(){return Error("Unsupported operation")},ta.Ib=!0,ta.nb="cljs.core/t_cljs$core20121",ta.Ub=function(a){return G(a,"cljs.core/t_cljs$core20121")};
return new ta(Td)}var Vd={},Wd={};function Xd(a){this.Cb=Vd;this._next=a}Xd.prototype.pa=function(){this.Cb===Vd?(this.Cb=Wd,this._next=J(this._next)):this.Cb===this._next&&(this._next=O(this.Cb));return null!=this._next};Xd.prototype.next=function(){if(this.pa())return this.Cb=this._next,N(this._next);throw Error("No such element");};Xd.prototype.remove=function(){return Error("Unsupported operation")};
function Yd(a,b){for(;;){if(null==J(b))return!0;var c=N(b);c=a.j?a.j(c):a.call(null,c);if(x(c))b=O(b);else return!1}}function Zd(a){for(var b=pd;;)if(a=J(a)){var c=N(a);c=b.j?b.j(c):b.call(null,c);if(x(c))return c;a=O(a)}else return null}
function $d(a,b){return new zd(null,function(){var c=J(b);if(c){if(cd(c)){for(var d=Mb(c),e=R(d),f=new Bd(Array(e)),h=0;;)if(h<e){var k=function(){var l=Sa(d,h);return a.j?a.j(l):a.call(null,l)}();null!=k&&f.add(k);h+=1}else break;return Ed(f.$a(),$d(a,Nb(c)))}e=function(){var l=N(c);return a.j?a.j(l):a.call(null,l)}();return null==e?$d(a,kc(c)):U(e,$d(a,kc(c)))}return null},null)}function ae(a){this.state=a;this.ua=this.validator=this.meta=null;this.P=16386;this.F=6455296}g=ae.prototype;
g.fa=function(a,b){return this===b};g.fb=function(){return this.state};g.ha=function(){return this.meta};g.oc=function(a,b){for(var c=J(this.ua),d=null,e=0,f=0;;)if(f<e){var h=d.ea(null,f),k=V(h,0,null);h=V(h,1,null);h.T?h.T(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=J(c))cd(c)?(d=Mb(c),c=Nb(c),k=d,e=R(d),d=k):(d=N(c),k=V(d,0,null),h=V(d,1,null),h.T?h.T(k,this,a,b):h.call(null,k,this,a,b),c=O(c),d=null,e=0),f=0;else break};g.Sb=function(a,b,c){this.ua=W.D(this.ua,b,c);return this};
g.Tb=function(a,b){return this.ua=Oc.B(this.ua,b)};g.ga=function(){return ba(this)};function be(a,b){if(a instanceof ae){var c=a.validator;if(null!=c&&!x(c.j?c.j(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.ua&&a.oc(c,b);return b}return Qb(a,b)}
var ce=function ce(a){switch(arguments.length){case 2:return ce.B(arguments[0],arguments[1]);case 3:return ce.D(arguments[0],arguments[1],arguments[2]);case 4:return ce.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return ce.K(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
ce.B=function(a,b){if(a instanceof ae){var c=a.state;b=b.j?b.j(c):b.call(null,c);a=be(a,b)}else a=Rb(a,b);return a};ce.D=function(a,b,c){if(a instanceof ae){var d=a.state;b=b.B?b.B(d,c):b.call(null,d,c);a=be(a,b)}else a=Rb(a,b,c);return a};ce.T=function(a,b,c,d){if(a instanceof ae){var e=a.state;b=b.D?b.D(e,c,d):b.call(null,e,c,d);a=be(a,b)}else a=Rb(a,b,c,d);return a};ce.K=function(a,b,c,d,e){return a instanceof ae?be(a,Qd(b,a.state,c,d,e)):Rb(a,b,c,d,e)};
ce.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);var e=O(d);d=N(e);e=O(e);return this.K(b,a,c,d,e)};ce.$=4;
var de=function de(a){switch(arguments.length){case 1:return de.j(arguments[0]);case 2:return de.B(arguments[0],arguments[1]);case 3:return de.D(arguments[0],arguments[1],arguments[2]);case 4:return de.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return de.K(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
de.j=function(a){return function(b){return function(){function c(k,l){l=a.j?a.j(l):a.call(null,l);return b.B?b.B(k,l):b.call(null,k,l)}function d(k){return b.j?b.j(k):b.call(null,k)}function e(){return b.N?b.N():b.call(null)}var f=null,h=function(){function k(m,n,p){var q=null;if(2<arguments.length){q=0;for(var r=Array(arguments.length-2);q<r.length;)r[q]=arguments[q+2],++q;q=new K(r,0,null)}return l.call(this,m,n,q)}function l(m,n,p){n=Pd(a,n,p);return b.B?b.B(m,n):b.call(null,m,n)}k.$=2;k.ba=function(m){var n=
N(m);m=O(m);var p=N(m);m=kc(m);return l(n,p,m)};k.K=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new K(p,0,null)}return h.K(k,l,n)}throw Error("Invalid arity: "+arguments.length);};f.$=2;f.ba=h.ba;f.N=e;f.j=d;f.B=c;f.K=h.K;return f}()}};
de.B=function(a,b){return new zd(null,function(){var c=J(b);if(c){if(cd(c)){for(var d=Mb(c),e=R(d),f=new Bd(Array(e)),h=0;;)if(h<e)Fd(f,function(){var k=Sa(d,h);return a.j?a.j(k):a.call(null,k)}()),h+=1;else break;return Ed(f.$a(),de.B(a,Nb(c)))}return U(function(){var k=N(c);return a.j?a.j(k):a.call(null,k)}(),de.B(a,kc(c)))}return null},null)};
de.D=function(a,b,c){return new zd(null,function(){var d=J(b),e=J(c);if(d&&e){var f=N(d);var h=N(e);f=a.B?a.B(f,h):a.call(null,f,h);d=U(f,de.D(a,kc(d),kc(e)))}else d=null;return d},null)};de.T=function(a,b,c,d){return new zd(null,function(){var e=J(b),f=J(c),h=J(d);if(e&&f&&h){var k=N(e);var l=N(f),m=N(h);k=a.D?a.D(k,l,m):a.call(null,k,l,m);e=U(k,de.T(a,kc(e),kc(f),kc(h)))}else e=null;return e},null)};
de.K=function(a,b,c,d,e){return de.B(function(f){return Od(a,f)},function k(h){return new zd(null,function(){var l=de.B(J,h);return Yd(pd,l)?U(de.B(N,l),k(de.B(kc,l))):null},null)}(Jc.K(e,d,Ic([c,b]))))};de.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);var e=O(d);d=N(e);e=O(e);return this.K(b,a,c,d,e)};de.$=4;function ee(a,b){return new zd(null,function(){if(0<a){var c=J(b);return c?U(N(c),ee(a-1,kc(c))):null}return null},null)}
function fe(a,b){return new zd(null,function(){a:for(var c=a,d=b;;)if(d=J(d),0<c&&d)--c,d=kc(d);else break a;return d},null)}function ge(a){return de.D(function(b){return b},a,fe(2,a))}function he(a,b,c,d){this.meta=a;this.count=b;this.R=c;this.next=d;this.O=null;this.F=32374988;this.P=1}g=he.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null==this.next?1<this.count?this.next=new he(null,this.count-1,this.R,null):-1===this.count?this:null:this.next};
g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){if(-1===this.count)for(var c=b.B?b.B(this.R,this.R):b.call(null,this.R,this.R);;){if(vc(c))return F(c);c=b.B?b.B(c,this.R):b.call(null,c,this.R)}else for(a=1,c=this.R;;)if(a<this.count){c=b.B?b.B(c,this.R):b.call(null,c,this.R);if(vc(c))return F(c);a+=1}else return c};
g.ra=function(a,b,c){if(-1===this.count)for(c=b.B?b.B(c,this.R):b.call(null,c,this.R);;){if(vc(c))return F(c);c=b.B?b.B(c,this.R):b.call(null,c,this.R)}else for(a=0;;)if(a<this.count){c=b.B?b.B(c,this.R):b.call(null,c,this.R);if(vc(c))return F(c);a+=1}else return c};g.wa=function(){return this.R};g.xa=function(){return null==this.next?1<this.count?this.next=new he(null,this.count-1,this.R,null):-1===this.count?this:lc:this.next};g.ja=function(){return this};
g.ka=function(a,b){return b===this.meta?this:new he(b,this.count,this.R,this.next)};g.oa=function(a,b){return U(b,this)};var ie=function ie(a){switch(arguments.length){case 0:return ie.N();case 1:return ie.j(arguments[0]);case 2:return ie.B(arguments[0],arguments[1]);case 3:return ie.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};ie.N=function(){return Kc};ie.j=function(a){return a};
ie.B=function(a,b){return null!=a?null!=a&&(a.P&4||u===a.Rc)?pb(Jb(Ga(Ib,Hb(a),b)),Tc(a)):Ga(Qa,a,b):Ga(Jc,a,b)};ie.D=function(a,b,c){if(null!=a&&(a.P&4||u===a.Rc)){var d=Tc(a);return qd(b,function(){function e(h){return pb(Jb(h),d)}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return Ib(h,k)}throw Error("Invalid arity: "+arguments.length);};f.j=e;f.B=function(h,k){return Ib(h,k)};return f}(),Hb(a),c)}return qd(b,Jc,a,c)};ie.$=3;
function je(a,b,c){var d=W.D,e=H.B(a,b);c=c.j?c.j(e):c.call(null,e);return d.call(W,a,b,c)}function ke(a,b,c,d){var e=W.D,f=H.B(a,b);c=c.B?c.B(f,d):c.call(null,f,d);return e.call(W,a,b,c)}function le(a,b){this.da=a;this.C=b}function me(a){return new le(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function ne(a){return new le(a.da,Ea(a.C))}
function oe(a){a=a.G;return 32>a?0:a-1>>>5<<5}function pe(a,b,c){for(;;){if(0===b)return c;var d=me(a);d.C[0]=c;c=d;b-=5}}var qe=function qe(a,b,c,d){var f=ne(c),h=a.G-1>>>b&31;5===b?f.C[h]=d:(c=c.C[h],null!=c?(b-=5,a=qe.T?qe.T(a,b,c,d):qe.call(null,a,b,c,d)):a=pe(null,b-5,d),f.C[h]=a);return f};function re(a,b){throw Error(["No item ",B.j(a)," in vector of length ",B.j(b)].join(""));}
function se(a,b){if(b>=oe(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.C[b>>>a&31];a=d}else return c.C}function te(a,b){return 0<=b&&b<a.G?se(a,b):re(b,a.G)}
var ue=function ue(a,b,c,d,e){var h=ne(c);if(0===b)h.C[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.C[k];a=ue.aa?ue.aa(a,b,c,d,e):ue.call(null,a,b,c,d,e);h.C[k]=a}return h},ve=function ve(a,b,c){var e=a.G-2>>>b&31;if(5<b){b-=5;var f=c.C[e];a=ve.D?ve.D(a,b,f):ve.call(null,a,b,f);if(null==a&&0===e)return null;c=ne(c);c.C[e]=a;return c}if(0===e)return null;c=ne(c);c.C[e]=null;return c};function we(a,b,c,d,e,f){this.i=a;this.base=b;this.C=c;this.v=d;this.start=e;this.end=f}
we.prototype.pa=function(){return this.i<this.end};we.prototype.next=function(){32===this.i-this.base&&(this.C=se(this.v,this.i),this.base+=32);var a=this.C[this.i&31];this.i+=1;return a};function xe(a,b,c){return new we(b,b-b%32,b<R(a)?se(a,b):null,a,b,c)}function ye(a,b,c,d){return c<d?ze(a,b,Ec(a,c),c+1,d):b.N?b.N():b.call(null)}
function ze(a,b,c,d,e){var f=c;c=d;for(d=se(a,d);;)if(c<e){var h=c&31;d=0===h?se(a,c):d;h=d[h];f=b.B?b.B(f,h):b.call(null,f,h);if(vc(f))return F(f);c+=1}else return f}function Y(a,b,c,d,e,f){this.meta=a;this.G=b;this.shift=c;this.root=d;this.tail=e;this.O=f;this.F=167666463;this.P=139268}g=Y.prototype;g.tb=function(a,b){return 0<=b&&b<this.G?new Ae(b,se(this,b)[b&31]):null};g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
g.Db=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=se(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.D?b.D(d,h,k):b.call(null,d,h,k);if(vc(d)){e=d;break a}f+=1}else{e=d;break a}if(vc(e))return F(e);a+=c;d=e}else return d};g.fc=u;g.ea=function(a,b){return te(this,b)[b&31]};g.Aa=function(a,b,c){return 0<=b&&b<this.G?se(this,b)[b&31]:c};
g.mb=function(a,b,c){if(0<=b&&b<this.G)return oe(this)<=b?(a=Ea(this.tail),a[b&31]=c,new Y(this.meta,this.G,this.shift,this.root,a,null)):new Y(this.meta,this.G,this.shift,ue(this,this.shift,this.root,b,c),this.tail,null);if(b===this.G)return this.oa(null,c);throw Error(["Index ",B.j(b)," out of bounds  [0,",B.j(this.G),"]"].join(""));};g.Qa=function(){return xe(this,0,this.G)};g.ha=function(){return this.meta};g.la=function(){return this.G};
g.vb=function(){return 0<this.G?this.ea(null,this.G-1):null};g.wb=function(){if(0===this.G)throw Error("Can't pop empty vector");if(1===this.G)return pb(Kc,this.meta);if(1<this.G-oe(this))return new Y(this.meta,this.G-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=se(this,this.G-2),b=ve(this,this.shift,this.root);b=null==b?Z:b;var c=this.G-1;return 5<this.shift&&null==b.C[1]?new Y(this.meta,c,this.shift-5,b.C[0],a,null):new Y(this.meta,c,this.shift,b,a,null)};
g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){if(b instanceof Y)if(this.G===R(b))for(a=this.Qa(null),b=b.Qa(null);;)if(a.pa()){var c=a.next(),d=b.next();if(!P.B(c,d))return!1}else return!0;else return!1;else return Hc(this,b)};g.sb=function(){return new Be(this.G,this.shift,Ce.j?Ce.j(this.root):Ce.call(null,this.root),De.j?De.j(this.tail):De.call(null,this.tail))};g.ma=function(){return pb(Kc,this.meta)};g.qa=function(a,b){return ye(this,b,0,this.G)};
g.ra=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=se(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.B?b.B(d,h):b.call(null,d,h);if(vc(d)){e=d;break a}f+=1}else{e=d;break a}if(vc(e))return F(e);a+=c;d=e}else return d};g.ab=function(a,b,c){if("number"===typeof b)return this.mb(null,b,c);throw Error("Vector's key for assoc must be a number.");};g.lb=function(a,b){return hd(b)?0<=b&&b<this.G:!1};
g.ja=function(){if(0===this.G)return null;if(32>=this.G)return new K(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.C[0];else{a=a.C;break a}}return Ee?Ee(this,a,0,0):Fe.call(null,this,a,0,0)};g.ka=function(a,b){return b===this.meta?this:new Y(b,this.G,this.shift,this.root,this.tail,this.O)};
g.oa=function(a,b){if(32>this.G-oe(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new Y(this.meta,this.G+1,this.shift,this.root,c,null)}a=(c=this.G>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=me(null),c.C[0]=this.root,d=pe(null,this.shift,new le(null,this.tail)),c.C[1]=d):c=qe(this,this.shift,this.root,new le(null,this.tail));return new Y(this.meta,this.G+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){if("number"===typeof a)return this.ea(null,a);throw Error("Key must be integer");};
var Z=new le(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Kc=new Y(null,0,5,Z,[],qc);function Ge(a,b){var c=a.length;a=b?a:Ea(a);if(32>c)return new Y(null,c,5,Z,a,null);var d=a.slice(0,32);b=32;for(var e=(new Y(null,32,5,Z,d,null)).sb(null);;)if(b<c)d=b+1,e=Ib(e,a[b]),b=d;else return Jb(e)}Y.prototype[Da]=function(){return nc(this)};
function He(a){return x(Ie.j?Ie.j(a):Ie.call(null,a))?new Y(null,2,5,Z,[Je.j?Je.j(a):Je.call(null,a),Ke.j?Ke.j(a):Ke.call(null,a)],null):bd(a)?Sc(a,null):Ba(a)?Ge(a,!0):Jb(Ga(Ib,Hb(Kc),a))}var Le=function Le(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return Le.K(c)};Le.K=function(a){return a instanceof K&&0===a.i?Ge(a.C,!Ba(a.C)):He(a)};Le.$=0;Le.ba=function(a){return this.K(J(a))};
function Me(a,b,c,d,e){this.Ba=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.O=null;this.F=32375020;this.P=1536}g=Me.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){if(this.off+1<this.node.length){var a=this.Ba;var b=this.node,c=this.i,d=this.off+1;a=Ee?Ee(a,b,c,d):Fe.call(null,a,b,c,d);return null==a?null:a}return this.vc()};
g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return ye(this.Ba,b,this.i+this.off,R(this.Ba))};g.ra=function(a,b,c){return ze(this.Ba,b,c,this.i+this.off,R(this.Ba))};g.wa=function(){return this.node[this.off]};g.xa=function(){if(this.off+1<this.node.length){var a=this.Ba;var b=this.node,c=this.i,d=this.off+1;a=Ee?Ee(a,b,c,d):Fe.call(null,a,b,c,d);return null==a?lc:a}return this.Rb(null)};g.ja=function(){return this};
g.hc=function(){var a=this.node;return new Cd(a,this.off,a.length)};g.Rb=function(){var a=this.i+this.node.length;if(a<Ma(this.Ba)){var b=this.Ba,c=se(this.Ba,a);return Ee?Ee(b,c,a,0):Fe.call(null,b,c,a,0)}return lc};g.ka=function(a,b){return b===this.meta?this:Ne?Ne(this.Ba,this.node,this.i,this.off,b):Fe.call(null,this.Ba,this.node,this.i,this.off,b)};g.oa=function(a,b){return U(b,this)};
g.vc=function(){var a=this.i+this.node.length;if(a<Ma(this.Ba)){var b=this.Ba,c=se(this.Ba,a);return Ee?Ee(b,c,a,0):Fe.call(null,b,c,a,0)}return null};Me.prototype[Da]=function(){return nc(this)};
function Fe(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Me(b,te(b,c),c,d,null);case 4:return Ee(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ne(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function Ee(a,b,c,d){return new Me(a,b,c,d,null)}function Ne(a,b,c,d,e){return new Me(a,b,c,d,e)}
function Oe(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.O=e;this.F=167666463;this.P=139264}g=Oe.prototype;g.tb=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new Ae(b,Ya(this.v,a)):null};g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
g.Db=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=Sa(this.v,a);c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(vc(c))return F(c);d+=1;a+=1}else return c};g.ea=function(a,b){return 0>b||this.end<=this.start+b?re(b,this.end-this.start):Sa(this.v,this.start+b)};g.Aa=function(a,b,c){return 0>b||this.end<=this.start+b?c:Sa(this.v,this.start+b,c)};
g.mb=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",B.j(b)," out of bounds [0,",B.j(this.la(null)),"]"].join(""));b=this.meta;c=W.D(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return Pe.aa?Pe.aa(b,c,d,a,null):Pe.call(null,b,c,d,a,null)};g.Qa=function(){return null!=this.v&&u===this.v.fc?xe(this.v,this.start,this.end):new Xd(this)};g.ha=function(){return this.meta};g.la=function(){return this.end-this.start};
g.vb=function(){return this.start===this.end?null:Sa(this.v,this.end-1)};g.wb=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return Pe.aa?Pe.aa(a,b,c,d,null):Pe.call(null,a,b,c,d,null)};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return pb(Kc,this.meta)};
g.qa=function(a,b){return null!=this.v&&u===this.v.fc?ye(this.v,b,this.start,this.end):xc(this,b)};g.ra=function(a,b,c){return null!=this.v&&u===this.v.fc?ze(this.v,b,c,this.start,this.end):yc(this,b,c)};g.ab=function(a,b,c){if("number"===typeof b)return this.mb(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.lb=function(a,b){return hd(b)?0<=b&&b<this.end-this.start:!1};
g.ja=function(){var a=this;return function d(c){return c===a.end?null:U(Sa(a.v,c),new zd(null,function(){return d(c+1)},null))}(a.start)};g.ka=function(a,b){return b===this.meta?this:Pe.aa?Pe.aa(b,this.v,this.start,this.end,this.O):Pe.call(null,b,this.v,this.start,this.end,this.O)};g.oa=function(a,b){a=this.meta;b=mb(this.v,this.end,b);var c=this.start,d=this.end+1;return Pe.aa?Pe.aa(a,b,c,d,null):Pe.call(null,a,b,c,d,null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ea(null,a)};g.B=function(a,b){return this.Aa(null,a,b)};Oe.prototype[Da]=function(){return nc(this)};
function Pe(a,b,c,d,e){for(;;)if(b instanceof Oe)c=b.start+c,d=b.start+d,b=b.v;else{if(!bd(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>R(b))throw Error("Index out of bounds");return new Oe(a,b,c,d,e)}}function Qe(a,b){return a===b.da?b:new le(a,Ea(b.C))}function Ce(a){return new le({},Ea(a.C))}
function De(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];dd(a,0,b,0,a.length);return b}var Re=function Re(a,b,c,d){c=Qe(a.root.da,c);var f=a.G-1>>>b&31;if(5===b)a=d;else{var h=c.C[f];null!=h?(b-=5,a=Re.T?Re.T(a,b,h,d):Re.call(null,a,b,h,d)):a=pe(a.root.da,b-5,d)}c.C[f]=a;return c};function Be(a,b,c,d){this.G=a;this.shift=b;this.root=c;this.tail=d;this.P=88;this.F=275}g=Be.prototype;
g.yb=function(a,b){if(this.root.da){if(32>this.G-oe(this))this.tail[this.G&31]=b;else{a=new le(this.root.da,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.G>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=pe(this.root.da,this.shift,a),this.root=new le(this.root.da,b),this.shift=c):this.root=Re(this,this.shift,this.root,a)}this.G+=1;return this}throw Error("conj! after persistent!");};g.Hb=function(){if(this.root.da){this.root.da=null;var a=this.G-oe(this),b=Array(a);dd(this.tail,0,b,0,a);return new Y(null,this.G,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.xb=function(a,b,c){if("number"===typeof b)return Se(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Se(a,b,c){if(a.root.da){if(0<=b&&b<a.G){if(oe(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=Qe(a.root.da,h);if(0===f)h.C[b&31]=c;else{var l=b>>>f&31;f=k(f-5,h.C[l]);h.C[l]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.G)return a.yb(null,c);throw Error(["Index ",B.j(b)," out of bounds for TransientVector of length",B.j(a.G)].join(""));}throw Error("assoc! after persistent!");}g.la=function(){if(this.root.da)return this.G;throw Error("count after persistent!");};
g.ea=function(a,b){if(this.root.da)return te(this,b)[b&31];throw Error("nth after persistent!");};g.Aa=function(a,b,c){return 0<=b&&b<this.G?this.ea(null,b):c};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){if(this.root.da)return"number"===typeof b?this.Aa(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};function Te(){this.F=2097152;this.P=0}Te.prototype.fa=function(){return!1};var Ue=new Te;
function Ve(a,b){return fd(Zc(b)&&!ad(b)?R(a)===R(b)?(null!=a?a.F&1048576||u===a.vd||(a.F?0:y(tb,a)):y(tb,a))?od(function(c,d,e){return P.B(H.D(b,d,Ue),e)?!0:new uc},!0,a):Yd(function(c){return P.B(H.D(b,N(c),Ue),N(O(c)))},a):null:null)}function We(a){this.s=a}We.prototype.next=function(){if(null!=this.s){var a=N(this.s),b=V(a,0,null);a=V(a,1,null);this.s=O(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Xe(a){this.s=a}
Xe.prototype.next=function(){if(null!=this.s){var a=N(this.s);this.s=O(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Ye(a,b){if(b instanceof I)a:{var c=a.length;b=b.Ra;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof I&&b===a[d].Ra){a=d;break a}d+=2}}else if("string"===typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof gc)a:for(c=a.length,b=b.jb,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof gc&&b===a[d].jb){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(P.B(b,a[d])){a=d;break a}d+=2}return a}function Ae(a,b){this.key=a;this.R=b;this.O=null;this.F=166619935;this.P=0}g=Ae.prototype;g.tb=function(a,b){switch(b){case 0:return new Ae(0,this.key);case 1:return new Ae(1,this.R);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.Aa(null,b,null)};g.ca=function(a,b,c){return this.Aa(null,b,c)};g.ea=function(a,b){if(0===b)return this.key;if(1===b)return this.R;throw Error("Index out of bounds");};
g.Aa=function(a,b,c){return 0===b?this.key:1===b?this.R:c};g.mb=function(a,b,c){return(new Y(null,2,5,Z,[this.key,this.R],null)).mb(null,b,c)};g.ha=function(){return null};g.la=function(){return 2};g.Xc=function(){return this.key};g.Yc=function(){return this.R};g.vb=function(){return this.R};g.wb=function(){return new Y(null,1,5,Z,[this.key],null)};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return null};
g.qa=function(a,b){return xc(this,b)};g.ra=function(a,b,c){return yc(this,b,c)};g.ab=function(a,b,c){return W.D(new Y(null,2,5,Z,[this.key,this.R],null),b,c)};g.lb=function(a,b){return 0===b||1===b};g.ja=function(){return new K([this.key,this.R],0,null)};g.ka=function(a,b){return Sc(new Y(null,2,5,Z,[this.key,this.R],null),b)};g.oa=function(a,b){return new Y(null,3,5,Z,[this.key,this.R,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ea(null,a)};g.B=function(a,b){return this.Aa(null,a,b)};function Ie(a){return null!=a?a.F&2048||u===a.yd?!0:!1:!1}function Ze(a,b,c){this.C=a;this.i=b;this.Ya=c;this.F=32374990;this.P=0}g=Ze.prototype;
g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){return this.i<this.C.length-2?new Ze(this.C,this.i+2,null):null};g.la=function(){return(this.C.length-this.i)/2};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return new Ae(this.C[this.i],this.C[this.i+1])};g.xa=function(){return this.i<this.C.length-2?new Ze(this.C,this.i+2,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Ze(this.C,this.i,b)};g.oa=function(a,b){return U(b,this)};Ze.prototype[Da]=function(){return nc(this)};
function $e(a,b){this.C=a;this.i=0;this.G=b}$e.prototype.pa=function(){return this.i<this.G};$e.prototype.next=function(){var a=new Ae(this.C[this.i],this.C[this.i+1]);this.i+=2;return a};function v(a,b,c,d){this.meta=a;this.G=b;this.C=c;this.O=d;this.F=16647951;this.P=139268}g=v.prototype;g.tb=function(a,b){a=Ye(this.C,b);return-1===a?null:new Ae(this.C[a],this.C[a+1])};g.toString=function(){return Wb(this)};g.keys=function(){return nc(af.j?af.j(this):af.call(null,this))};g.entries=function(){return new We(J(J(this)))};
g.values=function(){return nc(bf.j?bf.j(this):bf.call(null,this))};g.has=function(a){return id(this,a)};g.get=function(a,b){return this.ca(null,a,b)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};
g.ca=function(a,b,c){a=Ye(this.C,b);return-1===a?c:this.C[a+1]};g.Db=function(a,b,c){a=this.C.length;for(var d=0;;)if(d<a){var e=this.C[d],f=this.C[d+1];c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(vc(c))return F(c);d+=2}else return c};g.Qa=function(){return new $e(this.C,2*this.G)};g.ha=function(){return this.meta};g.la=function(){return this.G};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=rc(this)};
g.fa=function(a,b){if(Zc(b)&&!ad(b))if(a=this.C.length,this.G===b.la(null))for(var c=0;;)if(c<a){var d=b.ca(null,this.C[c],ed);if(d!==ed)if(P.B(this.C[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.sb=function(){return new cf(this.C.length,Ea(this.C))};g.ma=function(){return pb(Td,this.meta)};g.qa=function(a,b){return ld(this,b)};g.ra=function(a,b,c){return md(this,b,c)};
g.jc=function(a,b){if(0<=Ye(this.C,b)){a=this.C.length;var c=a-2;if(0===c)return this.ma(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new v(this.meta,this.G-1,c,null);P.B(b,this.C[d])?d+=2:(c[e]=this.C[d],c[e+1]=this.C[d+1],e+=2,d+=2)}}else return this};
g.ab=function(a,b,c){a=Ye(this.C,b);if(-1===a){if(this.G<df){a=this.C;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new v(this.meta,this.G+1,e,null)}return pb(bb(ie.B(ef,this),b,c),this.meta)}if(c===this.C[a+1])return this;b=Ea(this.C);b[a+1]=c;return new v(this.meta,this.G,b,null)};g.lb=function(a,b){return-1!==Ye(this.C,b)};g.ja=function(){var a=this.C;return 0<=a.length-2?new Ze(a,0,null):null};
g.ka=function(a,b){return b===this.meta?this:new v(b,this.G,this.C,this.O)};g.oa=function(a,b){if(bd(b))return this.ab(null,Sa(b,0),Sa(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=N(b);if(bd(c))a=bb(a,Sa(c,0),Sa(c,1)),b=O(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};var Td=new v(null,0,[],sc),df=8;function ff(a,b){return a===b?!0:a===b||a instanceof I&&b instanceof I&&a.Ra===b.Ra?!0:P.B(a,b)}
function gf(a){for(var b=0,c=0;;)if(b<a.length){var d;a:for(d=0;;)if(d<b){var e=ff(a[b],a[d]);if(e){d=e;break a}d=2+d}else{d=!1;break a}c=d?c:c+2;b=2+b}else return c}function hf(a,b){var c=a.length-1,d=J(b);b=Array(c+2*R(d));a=dd(a,0,b,0,c);for(b=c;;)if(d){var e=N(d);a[b]=fb(e);a[b+1]=gb(e);b=2+c;d=O(d)}else return a}
function Nc(a){var b=a.length,c=1===(b&1),d;if(!(d=c))a:for(d=0;;)if(d<a.length){var e;b:for(e=0;;)if(e<d){var f=ff(a[d],a[e]);if(f){e=f;break b}e=2+e}else{e=!1;break b}if(e){d=e;break a}d=2+d}else{d=!1;break a}return d?jf(a,c):new v(null,b/2,a,null)}
function jf(a,b){var c=b?hf(a,ie.B(Td,a[a.length-1])):a;a=gf(c);var d=c.length;if(a<d){a=Array(a);for(var e=0,f=0;;)if(e<d)(function(){for(var h=0;;)if(h<f){var k=ff(c[e],c[h]);if(k)return k;h=2+h}else return!1})()?(b=f,e=2+e,f=b):(b=function(){for(var h=d-2;;)if(h>=e){if(ff(c[e],c[h]))return h;h-=2}else return h}(),a[f]=c[e],a[f+1]=c[b+1],b=2+f,e=2+e,f=b);else break;return new v(null,a.length/2,a,null)}return new v(null,c.length/2,c,null)}v.prototype[Da]=function(){return nc(this)};
function cf(a,b){this.zb={};this.pb=a;this.C=b;this.F=259;this.P=56}g=cf.prototype;g.la=function(){if(this.zb)return td(this.pb);throw Error("count after persistent!");};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){if(this.zb)return a=Ye(this.C,b),-1===a?c:this.C[a+1];throw Error("lookup after persistent!");};
g.yb=function(a,b){if(this.zb){if(Ie(b))return this.xb(null,Je.j?Je.j(b):Je.call(null,b),Ke.j?Ke.j(b):Ke.call(null,b));if(bd(b))return this.xb(null,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));a=J(b);for(b=this;;){var c=N(a);if(x(c))a=O(a),b=Kb(b,Je.j?Je.j(c):Je.call(null,c),Ke.j?Ke.j(c):Ke.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.Hb=function(){if(this.zb)return this.zb=!1,new v(null,td(this.pb),this.C,null);throw Error("persistent! called twice");};
g.xb=function(a,b,c){if(this.zb){a=Ye(this.C,b);if(-1===a){if(this.pb+2<=2*df)return this.pb+=2,this.C.push(b),this.C.push(c),this;a=kf.B?kf.B(this.pb,this.C):kf.call(null,this.pb,this.C);return Kb(a,b,c)}c!==this.C[a+1]&&(this.C[a+1]=c);return this}throw Error("assoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ca(null,a,null)};g.B=function(a,b){return this.ca(null,a,b)};function kf(a,b){for(var c=Hb(ef),d=0;;)if(d<a)c=Kb(c,b[d],b[d+1]),d+=2;else return c}function lf(){this.R=!1}function mf(a,b,c){a=Ea(a);a[b]=c;return a}function nf(a,b){var c=Array(a.length-2);dd(a,0,c,0,2*b);dd(a,2*(b+1),c,2*b,c.length-2*b);return c}function of(a,b,c,d){a=a.ob(b);a.C[c]=d;return a}
function pf(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.D?b.D(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Mb(b,f):f;if(vc(c))return c;e+=2;f=c}else return f}function qf(a){this.C=a;this.i=0;this.Wa=this.Nb=null}qf.prototype.advance=function(){for(var a=this.C.length;;)if(this.i<a){var b=this.C[this.i],c=this.C[this.i+1];null!=b?b=this.Nb=new Ae(b,c):null!=c?(b=Ub(c),b=b.pa()?this.Wa=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
qf.prototype.pa=function(){var a=null!=this.Nb;return a?a:(a=null!=this.Wa)?a:this.advance()};qf.prototype.next=function(){if(null!=this.Nb){var a=this.Nb;this.Nb=null;return a}if(null!=this.Wa)return a=this.Wa.next(),this.Wa.pa()||(this.Wa=null),a;if(this.advance())return this.next();throw Error("No such element");};qf.prototype.remove=function(){return Error("Unsupported operation")};function rf(a,b,c){this.da=a;this.bitmap=b;this.C=c;this.P=131072;this.F=0}g=rf.prototype;
g.ob=function(a){if(a===this.da)return this;var b=ud(this.bitmap),c=Array(0>b?4:2*(b+1));dd(this.C,0,c,0,2*b);return new rf(a,this.bitmap,c)};g.Kb=function(){return sf?sf(this.C):tf.call(null,this.C)};g.Mb=function(a,b){return pf(this.C,a,b)};g.hb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ud(this.bitmap&e-1);e=this.C[2*f];f=this.C[2*f+1];return null==e?f.hb(a+5,b,c,d):ff(c,e)?f:d};
g.Ua=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=ud(this.bitmap&h-1);if(0===(this.bitmap&h)){var l=ud(this.bitmap);if(2*l<this.C.length){a=this.ob(a);b=a.C;f.R=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=uf.Ua(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0===
(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.C[e]?uf.Ua(a,b+5,ec(this.C[e]),this.C[e],this.C[e+1],f):this.C[e+1],e+=2,d+=1);else break;return new vf(a,l+1,k)}b=Array(2*(l+4));dd(this.C,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;dd(this.C,2*k,b,2*(k+1),2*(l-k));f.R=!0;a=this.ob(a);a.C=b;a.bitmap|=h;return a}l=this.C[2*k];h=this.C[2*k+1];if(null==l)return l=h.Ua(a,b+5,c,d,e,f),l===h?this:of(this,a,2*k+1,l);if(ff(d,l))return e===h?this:of(this,a,2*k+1,e);f.R=!0;f=b+5;d=wf?wf(a,f,l,h,c,d,e):xf.call(null,a,f,l,h,c,d,
e);e=2*k;k=2*k+1;a=this.ob(a);a.C[e]=null;a.C[k]=d;return a};
g.Ta=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=ud(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=ud(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=uf.Ta(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.C[d]?uf.Ta(a+5,ec(this.C[d]),this.C[d],this.C[d+1],e):this.C[d+1],d+=2,c+=1);else break;return new vf(null,k+1,h)}a=Array(2*
(k+1));dd(this.C,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;dd(this.C,2*h,a,2*(h+1),2*(k-h));e.R=!0;return new rf(null,this.bitmap|f,a)}var l=this.C[2*h];f=this.C[2*h+1];if(null==l)return k=f.Ta(a+5,b,c,d,e),k===f?this:new rf(null,this.bitmap,mf(this.C,2*h+1,k));if(ff(c,l))return d===f?this:new rf(null,this.bitmap,mf(this.C,2*h+1,d));e.R=!0;e=this.bitmap;k=this.C;a+=5;a=yf?yf(a,l,f,b,c,d):xf.call(null,a,l,f,b,c,d);c=2*h;h=2*h+1;d=Ea(k);d[c]=null;d[h]=a;return new rf(null,e,d)};
g.Jb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ud(this.bitmap&e-1);e=this.C[2*f];f=this.C[2*f+1];return null==e?f.Jb(a+5,b,c,d):ff(c,e)?new Ae(e,f):d};
g.Lb=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=ud(this.bitmap&d-1),f=this.C[2*e],h=this.C[2*e+1];return null==f?(a=h.Lb(a+5,b,c),a===h?this:null!=a?new rf(null,this.bitmap,mf(this.C,2*e+1,a)):this.bitmap===d?null:new rf(null,this.bitmap^d,nf(this.C,e))):ff(c,f)?this.bitmap===d?null:new rf(null,this.bitmap^d,nf(this.C,e)):this};g.Qa=function(){return new qf(this.C)};var uf=new rf(null,0,[]);function zf(a){this.C=a;this.i=0;this.Wa=null}
zf.prototype.pa=function(){for(var a=this.C.length;;){if(null!=this.Wa&&this.Wa.pa())return!0;if(this.i<a){var b=this.C[this.i];this.i+=1;null!=b&&(this.Wa=Ub(b))}else return!1}};zf.prototype.next=function(){if(this.pa())return this.Wa.next();throw Error("No such element");};zf.prototype.remove=function(){return Error("Unsupported operation")};function vf(a,b,c){this.da=a;this.G=b;this.C=c;this.P=131072;this.F=0}g=vf.prototype;g.ob=function(a){return a===this.da?this:new vf(a,this.G,Ea(this.C))};
g.Kb=function(){return Af?Af(this.C):Bf.call(null,this.C)};g.Mb=function(a,b){for(var c=this.C.length,d=0;;)if(d<c){var e=this.C[d];if(null!=e){b=e.Mb(a,b);if(vc(b))return b;d+=1}else d+=1}else return b};g.hb=function(a,b,c,d){var e=this.C[b>>>a&31];return null!=e?e.hb(a+5,b,c,d):d};g.Ua=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.C[h];if(null==k)return a=of(this,a,h,uf.Ua(a,b+5,c,d,e,f)),a.G+=1,a;b=k.Ua(a,b+5,c,d,e,f);return b===k?this:of(this,a,h,b)};
g.Ta=function(a,b,c,d,e){var f=b>>>a&31,h=this.C[f];if(null==h)return new vf(null,this.G+1,mf(this.C,f,uf.Ta(a+5,b,c,d,e)));a=h.Ta(a+5,b,c,d,e);return a===h?this:new vf(null,this.G,mf(this.C,f,a))};g.Jb=function(a,b,c,d){var e=this.C[b>>>a&31];return null!=e?e.Jb(a+5,b,c,d):d};
g.Lb=function(a,b,c){var d=b>>>a&31,e=this.C[d];if(null!=e){a=e.Lb(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.G)a:{e=this.C;a=e.length;b=Array(2*(this.G-1));c=0;for(var f=1,h=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,h|=1<<c,c+=1):c+=1;else{d=new rf(null,h,b);break a}}else d=new vf(null,this.G-1,mf(this.C,d,a));else d=new vf(null,this.G,mf(this.C,d,a));return d}return this};g.Qa=function(){return new zf(this.C)};
function Cf(a,b,c){b*=2;for(var d=0;;)if(d<b){if(ff(c,a[d]))return d;d+=2}else return-1}function Df(a,b,c,d){this.da=a;this.bb=b;this.G=c;this.C=d;this.P=131072;this.F=0}g=Df.prototype;g.ob=function(a){if(a===this.da)return this;var b=Array(2*(this.G+1));dd(this.C,0,b,0,2*this.G);return new Df(a,this.bb,this.G,b)};g.Kb=function(){return sf?sf(this.C):tf.call(null,this.C)};g.Mb=function(a,b){return pf(this.C,a,b)};
g.hb=function(a,b,c,d){a=Cf(this.C,this.G,c);return 0>a?d:ff(c,this.C[a])?this.C[a+1]:d};
g.Ua=function(a,b,c,d,e,f){if(c===this.bb){b=Cf(this.C,this.G,d);if(-1===b){if(this.C.length>2*this.G)return b=2*this.G,c=2*this.G+1,a=this.ob(a),a.C[b]=d,a.C[c]=e,f.R=!0,a.G+=1,a;c=this.C.length;b=Array(c+2);dd(this.C,0,b,0,c);b[c]=d;b[c+1]=e;f.R=!0;d=this.G+1;a===this.da?(this.C=b,this.G=d,a=this):a=new Df(this.da,this.bb,d,b);return a}return this.C[b+1]===e?this:of(this,a,b+1,e)}return(new rf(a,1<<(this.bb>>>b&31),[null,this,null,null])).Ua(a,b,c,d,e,f)};
g.Ta=function(a,b,c,d,e){return b===this.bb?(a=Cf(this.C,this.G,c),-1===a?(a=2*this.G,b=Array(a+2),dd(this.C,0,b,0,a),b[a]=c,b[a+1]=d,e.R=!0,new Df(null,this.bb,this.G+1,b)):P.B(this.C[a+1],d)?this:new Df(null,this.bb,this.G,mf(this.C,a+1,d))):(new rf(null,1<<(this.bb>>>a&31),[null,this])).Ta(a,b,c,d,e)};g.Jb=function(a,b,c,d){a=Cf(this.C,this.G,c);return 0>a?d:ff(c,this.C[a])?new Ae(this.C[a],this.C[a+1]):d};
g.Lb=function(a,b,c){a=Cf(this.C,this.G,c);return-1===a?this:1===this.G?null:new Df(null,this.bb,this.G-1,nf(this.C,td(a)))};g.Qa=function(){return new qf(this.C)};function xf(a){switch(arguments.length){case 6:return yf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return wf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}
function yf(a,b,c,d,e,f){var h=ec(b);if(h===d)return new Df(null,h,2,[b,c,e,f]);var k=new lf;return uf.Ta(a,h,b,c,k).Ta(a,d,e,f,k)}function wf(a,b,c,d,e,f,h){var k=ec(c);if(k===e)return new Df(null,k,2,[c,d,f,h]);var l=new lf;return uf.Ua(a,b,k,c,d,l).Ua(a,b,e,f,h,l)}function Ef(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.O=e;this.F=32374988;this.P=0}g=Ef.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return Ff?Ff(a,b,null):tf.call(null,a,b,null)}a=this.nodes;b=this.i;var c=O(this.s);return Ff?Ff(a,b,c):tf.call(null,a,b,c)};
g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return null==this.s?new Ae(this.nodes[this.i],this.nodes[this.i+1]):N(this.s)};
g.xa=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return Ff?Ff(c,d,null):tf.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=O(a.s);return Ff?Ff(c,d,e):tf.call(null,c,d,e)}();return null!=b?b:lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Ef(b,this.nodes,this.i,this.s,this.O)};g.oa=function(a,b){return U(b,this)};Ef.prototype[Da]=function(){return nc(this)};
function tf(a){switch(arguments.length){case 1:return sf(arguments[0]);case 3:return Ff(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function sf(a){return Ff(a,0,null)}function Ff(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Ef(null,a,b,null,null);var d=a[b+1];if(x(d)&&(d=d.Kb(),x(d)))return new Ef(null,a,b+2,d,null);b+=2}else return null;else return new Ef(null,a,b,c,null)}
function Gf(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.O=e;this.F=32374988;this.P=0}g=Gf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){var a=this.nodes,b=this.i,c=O(this.s);return Hf?Hf(a,b,c):Bf.call(null,a,b,c)};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return N(this.s)};g.xa=function(){var a=this.nodes;var b=this.i,c=O(this.s);a=Hf?Hf(a,b,c):Bf.call(null,a,b,c);return null!=a?a:lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Gf(b,this.nodes,this.i,this.s,this.O)};g.oa=function(a,b){return U(b,this)};Gf.prototype[Da]=function(){return nc(this)};
function Bf(a){switch(arguments.length){case 1:return Af(arguments[0]);case 3:return Hf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function Af(a){return Hf(a,0,null)}function Hf(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(x(d)&&(d=d.Kb(),x(d)))return new Gf(null,a,b+1,d,null);b+=1}else return null;else return new Gf(null,a,b,c,null)}function If(a,b){this.ta=a;this.Lc=b;this.seen=!1}
If.prototype.pa=function(){return!this.seen||this.Lc.pa()};If.prototype.next=function(){if(this.seen)return this.Lc.next();this.seen=!0;return new Ae(null,this.ta)};If.prototype.remove=function(){return Error("Unsupported operation")};function Jf(a,b,c,d,e,f){this.meta=a;this.G=b;this.root=c;this.sa=d;this.ta=e;this.O=f;this.F=16123663;this.P=139268}g=Jf.prototype;g.tb=function(a,b){return null==b?this.sa?new Ae(null,this.ta):null:null==this.root?null:this.root.Jb(0,ec(b),b,null)};g.toString=function(){return Wb(this)};
g.keys=function(){return nc(af.j?af.j(this):af.call(null,this))};g.entries=function(){return new We(J(J(this)))};g.values=function(){return nc(bf.j?bf.j(this):bf.call(null,this))};g.has=function(a){return id(this,a)};g.get=function(a,b){return this.ca(null,a,b)};
g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return null==b?this.sa?this.ta:c:null==this.root?c:this.root.hb(0,ec(b),b,c)};
g.Db=function(a,b,c){a=this.sa?b.D?b.D(c,null,this.ta):b.call(null,c,null,this.ta):c;vc(a)?b=F(a):null!=this.root?(b=this.root.Mb(b,a),b=vc(b)?wc.j?wc.j(b):wc.call(null,b):b):b=a;return b};g.Qa=function(){var a=this.root?Ub(this.root):Ud();return this.sa?new If(this.ta,a):a};g.ha=function(){return this.meta};g.la=function(){return this.G};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=rc(this)};g.fa=function(a,b){return Ve(this,b)};g.sb=function(){return new Kf(this.root,this.G,this.sa,this.ta)};
g.ma=function(){return pb(ef,this.meta)};g.jc=function(a,b){if(null==b)return this.sa?new Jf(this.meta,this.G-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Lb(0,ec(b),b);return a===this.root?this:new Jf(this.meta,this.G-1,a,this.sa,this.ta,null)};
g.ab=function(a,b,c){if(null==b)return this.sa&&c===this.ta?this:new Jf(this.meta,this.sa?this.G:this.G+1,this.root,!0,c,null);a=new lf;b=(null==this.root?uf:this.root).Ta(0,ec(b),b,c,a);return b===this.root?this:new Jf(this.meta,a.R?this.G+1:this.G,b,this.sa,this.ta,null)};g.lb=function(a,b){return null==b?this.sa:null==this.root?!1:this.root.hb(0,ec(b),b,ed)!==ed};g.ja=function(){if(0<this.G){var a=null!=this.root?this.root.Kb():null;return this.sa?U(new Ae(null,this.ta),a):a}return null};
g.ka=function(a,b){return b===this.meta?this:new Jf(b,this.G,this.root,this.sa,this.ta,this.O)};g.oa=function(a,b){if(bd(b))return this.ab(null,Sa(b,0),Sa(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=N(b);if(bd(c))a=bb(a,Sa(c,0),Sa(c,1)),b=O(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};var ef=new Jf(null,0,null,!1,null,sc);Jf.prototype[Da]=function(){return nc(this)};
function Kf(a,b,c,d){this.da={};this.root=a;this.count=b;this.sa=c;this.ta=d;this.F=259;this.P=56}function Lf(a,b,c){if(a.da){if(null==b)a.ta!==c&&(a.ta=c),a.sa||(a.count+=1,a.sa=!0);else{var d=new lf;b=(null==a.root?uf:a.root).Ua(a.da,0,ec(b),b,c,d);b!==a.root&&(a.root=b);d.R&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=Kf.prototype;g.la=function(){if(this.da)return this.count;throw Error("count after persistent!");};
g.ya=function(a,b){return null==b?this.sa?this.ta:null:null==this.root?null:this.root.hb(0,ec(b),b)};g.ca=function(a,b,c){return null==b?this.sa?this.ta:c:null==this.root?c:this.root.hb(0,ec(b),b,c)};
g.yb=function(a,b){a:if(this.da)if(Ie(b))a=Lf(this,Je.j?Je.j(b):Je.call(null,b),Ke.j?Ke.j(b):Ke.call(null,b));else if(bd(b))a=Lf(this,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));else for(a=J(b),b=this;;){var c=N(a);if(x(c))a=O(a),b=Lf(b,Je.j?Je.j(c):Je.call(null,c),Ke.j?Ke.j(c):Ke.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.Hb=function(){if(this.da){this.da=null;var a=new Jf(null,this.count,this.root,this.sa,this.ta,null)}else throw Error("persistent! called twice");return a};g.xb=function(a,b,c){return Lf(this,b,c)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};
g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};function Mf(a,b){this.Y=a;this.Ya=b;this.F=32374988;this.P=0}g=Mf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null==a?null:new Mf(a,null)};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.Y.wa(null).key};g.xa=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null!=a?new Mf(a,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Mf(this.Y,b)};g.oa=function(a,b){return U(b,this)};Mf.prototype[Da]=function(){return nc(this)};
function af(a){return(a=J(a))?new Mf(a,null):null}function Je(a){return fb(a)}function Nf(a,b){this.Y=a;this.Ya=b;this.F=32374988;this.P=0}g=Nf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null==a?null:new Nf(a,null)};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.Y.wa(null).R};g.xa=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null!=a?new Nf(a,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Nf(this.Y,b)};g.oa=function(a,b){return U(b,this)};Nf.prototype[Da]=function(){return nc(this)};
function bf(a){return(a=J(a))?new Nf(a,null):null}function Ke(a){return gb(a)}var Of=function Of(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return Of.K(c)};Of.K=function(a){return x(Zd(a))?nd(function(b,c){return Jc.B(x(b)?b:Td,c)},a):null};Of.$=0;Of.ba=function(a){return this.K(J(a))};function Pf(a){for(var b=Td,c=J(Qf);;)if(c){var d=N(c),e=H.D(a,d,Rf);b=P.B(e,Rf)?b:W.D(b,d,e);c=O(c)}else return pb(b,Tc(a))}
function Sf(a){this.Ab=a}Sf.prototype.pa=function(){return this.Ab.pa()};Sf.prototype.next=function(){if(this.Ab.pa())return this.Ab.next().key;throw Error("No such element");};Sf.prototype.remove=function(){return Error("Unsupported operation")};function Tf(a,b,c){this.meta=a;this.cb=b;this.O=c;this.F=15077647;this.P=139268}g=Tf.prototype;g.toString=function(){return Wb(this)};g.keys=function(){return nc(J(this))};g.entries=function(){return new Xe(J(J(this)))};g.values=function(){return nc(J(this))};
g.has=function(a){return id(this,a)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){a=cb(this.cb,b);return x(a)?fb(a):c};g.Qa=function(){return new Sf(Ub(this.cb))};g.ha=function(){return this.meta};
g.la=function(){return Ma(this.cb)};g.ga=function(){var a=this.O;return null!=a?a:this.O=a=rc(this)};g.fa=function(a,b){if(a=Xc(b))if(a=R(this)===R(b))try{return od(function(c,d){return(c=id(b,d))?c:new uc},!0,this.cb)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};g.sb=function(){return new Uf(Hb(this.cb))};g.ma=function(){return pb(Vf,this.meta)};g.zc=function(a,b){return new Tf(this.meta,eb(this.cb,b),null)};g.ja=function(){return af(this.cb)};
g.ka=function(a,b){return b===this.meta?this:new Tf(b,this.cb,this.O)};g.oa=function(a,b){return new Tf(this.meta,W.D(this.cb,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};
var Vf=new Tf(null,Td,sc);Tf.prototype[Da]=function(){return nc(this)};function Uf(a){this.qb=a;this.P=136;this.F=259}g=Uf.prototype;g.yb=function(a,b){this.qb=Kb(this.qb,b,null);return this};g.Hb=function(){return new Tf(null,Jb(this.qb),null)};g.la=function(){return R(this.qb)};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return Ya(this.qb,b,ed)===ed?c:b};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return Ya(this.qb,a,ed)===ed?null:a};g.B=function(a,b){return Ya(this.qb,a,ed)===ed?b:a};
function Wf(a){if(Xc(a))return Sc(a,null);a=J(a);if(null==a)return Vf;if(a instanceof K&&0===a.i){a=a.C;for(var b=a.length,c=Hb(Vf),d=0;;)if(d<b)Ib(c,a[d]),d+=1;else break;return Jb(c)}for(c=Hb(Vf);;)if(null!=a)b=O(a),c=Ib(c,D(a)),a=b;else return Jb(c)}function X(a){if(null!=a&&(a.P&4096||u===a.xc))return a.Eb(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",B.j(a)].join(""));}
function Xf(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&P.B(a[0],b)?1===a.length?a[0]:He(a):null;throw new TypeError("re-matches must match against a string.");}
function Yf(a,b,c,d,e,f,h){var k=ua;ua=null==ua?null:ua-1;try{if(null!=ua&&0>ua)return G(a,"#");G(a,c);if(0===Aa.j(f))J(h)&&G(a,function(){var r=Zf.j(f);return x(r)?r:"..."}());else{if(J(h)){var l=N(h);b.D?b.D(l,a,f):b.call(null,l,a,f)}for(var m=O(h),n=Aa.j(f)-1;;)if(!m||null!=n&&0===n){J(m)&&0===n&&(G(a,d),G(a,function(){var r=Zf.j(f);return x(r)?r:"..."}()));break}else{G(a,d);var p=N(m);c=a;h=f;b.D?b.D(p,c,h):b.call(null,p,c,h);var q=O(m);c=n-1;m=q;n=c}}return G(a,e)}finally{ua=k}}
function $f(a,b){b=J(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e);G(a,f);e+=1}else if(b=J(b))c=b,cd(c)?(b=Mb(c),d=Nb(c),c=b,f=R(b),b=d,d=f):(f=N(c),G(a,f),b=O(c),c=null,d=0),e=0;else return null}var ag={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function bg(a){return['"',B.j(a.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(b){return ag[b]})),'"'].join("")}
function cg(a,b){return(a=fd(H.B(a,ya)))?(a=null!=b?b.F&131072||u===b.Zc?!0:!1:!1)?null!=Tc(b):a:a}
function dg(a,b,c){if(null==a)return G(b,"nil");if(cg(c,a)){G(b,"^");var d=Tc(a);eg.D?eg.D(d,b,c):eg.call(null,d,b,c);G(b," ")}if(a.Ib)return a.Ub(b);if(null!=a?a.F&2147483648||u===a.na||(a.F?0:y(Cb,a)):y(Cb,a))return Db(a,b,c);if(!0===a||!1===a)return G(b,B.j(a));if("number"===typeof a)return G(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":B.j(a));if(null!=a&&a.constructor===Object)return G(b,"#js "),d=de.B(function(f){return new Ae(null!=Xf(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?yd.j(f):f,a[f])},ha(a)),fg.T?fg.T(d,eg,b,c):fg.call(null,d,eg,b,c);if(Ba(a))return Yf(b,eg,"#js ["," ","]",c,a);if("string"===typeof a)return x(xa.j(c))?G(b,bg(a)):G(b,a);if("function"===typeof a){var e=a.name;c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Function":e;return $f(b,Ic(["#object[",c,x(!1)?[' "',B.j(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=B.j(f);;)if(f.length<h)f=["0",f].join("");else return f},$f(b,Ic(['#inst "',c(a.getUTCFullYear(),
4),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return $f(b,Ic(['#"',a.source,'"']));if(Ia(a))return $f(b,Ic(["#object[",a.toString(),"]"]));if(x(function(){var f=null==a?null:a.constructor;return null==f?null:f.nb}()))return $f(b,Ic(["#object[",a.constructor.nb.replace(RegExp("/","g"),"."),"]"]));e=function(){var f=null==a?null:a.constructor;
return null==f?null:f.name}();c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Object":e;return null==a.constructor?$f(b,Ic(["#object[",c,"]"])):$f(b,Ic(["#object[",c," ",B.j(a),"]"]))}function eg(a,b,c){var d=gg.j(c);return x(d)?(c=W.D(c,hg,dg),d.D?d.D(a,b,c):d.call(null,a,b,c)):dg(a,b,c)}
function ig(a){var b=va();if(Vc(a))b="";else{var c=B,d=c.j,e=new pa,f=new Vb(e);eg(N(a),f,b);a=J(O(a));for(var h=null,k=0,l=0;;)if(l<k){var m=h.ea(null,l);G(f," ");eg(m,f,b);l+=1}else if(a=J(a))h=a,cd(h)?(a=Mb(h),k=Nb(h),h=a,m=R(a),a=k,k=m):(m=N(h),G(f," "),eg(m,f,b),a=O(h),h=null,k=0),l=0;else break;b=d.call(c,e)}return b}function jg(a){return a instanceof gc?hc.B(null,X(a)):yd.B(null,X(a))}
function kg(a){if(x(!1)){var b=J(a),c=J(b),d=N(c);O(c);V(d,0,null);V(d,1,null);c=null==a?null:null!=a&&(a.F&4||u===a.Sc)?a.ma(null):(null!=a?a.F&4||u===a.Sc||(a.F?0:y(Na,a)):y(Na,a))?Oa(a):null;for(a=null;;){d=a;b=J(b);a=N(b);var e=O(b),f=a;a=V(f,0,null);b=V(f,1,null);if(x(f))if(a instanceof I||a instanceof gc)if(x(d))if(P.B(d,xd(a)))c=W.D(c,jg(a),b),a=d,b=e;else return null;else if(d=xd(a),x(d))c=W.D(c,jg(a),b),a=d,b=e;else return null;else return null;else return new Y(null,2,5,Z,[d,c],null)}}else return null}
function lg(a,b,c,d,e){return Yf(d,function(f,h,k){var l=fb(f);c.D?c.D(l,h,k):c.call(null,l,h,k);G(h," ");f=gb(f);return c.D?c.D(f,h,k):c.call(null,f,h,k)},[B.j(a),"{"].join(""),", ","}",e,J(b))}function fg(a,b,c,d){var e=Zc(a)?kg(a):null,f=V(e,0,null);e=V(e,1,null);return x(f)?lg(["#:",B.j(f)].join(""),e,b,c,d):lg(null,a,b,c,d)}K.prototype.na=u;K.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};zd.prototype.na=u;zd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};
Ae.prototype.na=u;Ae.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};Ef.prototype.na=u;Ef.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Ze.prototype.na=u;Ze.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};oc.prototype.na=u;oc.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Me.prototype.na=u;Me.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};wd.prototype.na=u;
wd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Jf.prototype.na=u;Jf.prototype.ia=function(a,b,c){return fg(this,eg,b,c)};Gf.prototype.na=u;Gf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Oe.prototype.na=u;Oe.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};Tf.prototype.na=u;Tf.prototype.ia=function(a,b,c){return Yf(b,eg,"#{"," ","}",c,this)};Dd.prototype.na=u;Dd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};
ae.prototype.na=u;ae.prototype.ia=function(a,b,c){G(b,"#object[cljs.core.Atom ");eg(new v(null,1,[mg,this.state],null),b,c);return G(b,"]")};Nf.prototype.na=u;Nf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};he.prototype.na=u;he.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Y.prototype.na=u;Y.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};vd.prototype.na=u;vd.prototype.ia=function(a,b){return G(b,"()")};v.prototype.na=u;
v.prototype.ia=function(a,b,c){return fg(this,eg,b,c)};Mf.prototype.na=u;Mf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Lc.prototype.na=u;Lc.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};var ng=null;function og(a){null==ng&&(ng=new ae(0));return hc.j([B.j(a),B.j(ce.B(ng,tc))].join(""))}function pg(){}
function qg(a){if(null!=a&&null!=a.Uc)a=a.Uc(a);else{var b=qg[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=qg._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEncodeJS.-clj-\x3ejs",a);}return a}function rg(a,b){return(null!=a?u===a.Tc||(a.Bc?0:y(pg,a)):y(pg,a))?qg(a):"string"===typeof a||"number"===typeof a||a instanceof I||a instanceof gc?b.j?b.j(a):b.call(null,a):ig(Ic([a]))}
var sg=function sg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new K(c.slice(1),0,null):null;return sg.K(arguments[0],c)};
sg.K=function(a,b){b=Sd(b);var c=H.D(b,tg,X),d=function h(f){if(null==f)return null;if(null!=f?u===f.Tc||(f.Bc?0:y(pg,f)):y(pg,f))return qg(f);if(f instanceof I)return c.j?c.j(f):c.call(null,f);if(f instanceof gc)return B.j(f);if(Zc(f)){var k={};f=J(f);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ea(null,n),q=V(p,0,null);p=V(p,1,null);q=rg(q,d);p=h(p);k[q]=p;n+=1}else if(f=J(f))cd(f)?(m=Mb(f),f=Nb(f),l=m,m=R(m)):(m=N(f),l=V(m,0,null),m=V(m,1,null),l=rg(l,d),m=h(m),k[l]=m,f=O(f),l=null,m=0),n=0;else break;
return k}if(Wc(f)){k=[];f=J(de.B(h,f));l=null;for(n=m=0;;)if(n<m)q=l.ea(null,n),k.push(q),n+=1;else if(f=J(f))l=f,cd(l)?(f=Mb(l),n=Nb(l),l=f,m=R(f),f=n):(f=N(l),k.push(f),f=O(l),l=null,m=0),n=0;else break;return k}return f};return d(a)};sg.$=1;sg.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};var ug=null;function vg(){null==ug&&(ug=new ae(new v(null,3,[wg,Td,xg,Td,yg,Td],null)));return ug}
function zg(a,b,c){var d=P.B(b,c);if(d)return d;d=yg.j(a);d=d.j?d.j(b):d.call(null,b);if(!(d=id(d,c))&&(d=bd(c)))if(d=bd(b))if(d=R(c)===R(b)){d=!0;for(var e=0;;)if(d&&e!==R(c))d=zg(a,b.j?b.j(e):b.call(null,e),c.j?c.j(e):c.call(null,e)),e+=1;else return d}else return d;else return d;else return d}function Ag(a){var b=F(vg());a=H.B(wg.j(b),a);return J(a)?a:null}function Bg(a,b,c,d){ce.B(a,function(){return F(b)});ce.B(c,function(){return F(d)})}
var Cg=function Cg(a,b,c){var e=function(){var f=F(c);return f.j?f.j(a):f.call(null,a)}();e=x(x(e)?e.j?e.j(b):e.call(null,b):e)?!0:null;if(x(e))return e;e=function(){for(var f=Ag(b);;)if(0<R(f)){var h=N(f);Cg.D?Cg.D(a,h,c):Cg.call(null,a,h,c);f=kc(f)}else return null}();if(x(e))return e;e=function(){for(var f=Ag(a);;)if(0<R(f)){var h=N(f);Cg.D?Cg.D(h,b,c):Cg.call(null,h,b,c);f=kc(f)}else return null}();return x(e)?e:!1};function Dg(a,b,c,d){c=Cg(a,b,c);return x(c)?c:zg(d,a,b)}
var Eg=function Eg(a,b,c,d,e,f,h,k){var m=Ga(function(p,q){var r=V(q,0,null);V(q,1,null);if(zg(F(c),b,r)){p=null==p||Dg(r,N(p),e,F(c))?q:p;if(!Dg(N(p),r,e,F(c)))throw Error(["Multiple methods in multimethod '",B.j(a),"' match dispatch value: ",B.j(b)," -\x3e ",B.j(r)," and ",B.j(N(p)),", and neither is preferred"].join(""));return p}return p},null,F(d)),n=function(){var p;if(p=null==m)p=F(d),p=p.j?p.j(k):p.call(null,k);return x(p)?new Y(null,2,5,Z,[k,p],null):m}();if(x(n)){if(P.B(F(h),F(c)))return ce.T(f,
W,b,N(O(n))),N(O(n));Bg(f,d,h,c);return Eg.za?Eg.za(a,b,c,d,e,f,h,k):Eg.call(null,a,b,c,d,e,f,h,k)}return null};function Fg(a,b){throw Error(["No method in multimethod '",B.j(a),"' for dispatch value: ",B.j(b)].join(""));}function Gg(a,b,c,d,e,f,h){var k=Hg;this.name=a;this.J=b;this.fd=k;this.Xb=c;this.Zb=d;this.md=e;this.Yb=f;this.Qb=h;this.F=4194305;this.P=4352}g=Gg.prototype;
g.call=function(a){switch(arguments.length-1){case 0:return this.N();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.T(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Oa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ia(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ka(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.ic(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.N=function(){var a=this.J.N?this.J.N():this.J.call(null),b=Ig(this,a);x(b)||Fg(this.name,a);return b.N?b.N():b.call(null)};g.j=function(a){var b=this.J.j?this.J.j(a):this.J.call(null,a),c=Ig(this,b);x(c)||Fg(this.name,b);return c.j?c.j(a):c.call(null,a)};
g.B=function(a,b){var c=this.J.B?this.J.B(a,b):this.J.call(null,a,b),d=Ig(this,c);x(d)||Fg(this.name,c);return d.B?d.B(a,b):d.call(null,a,b)};g.D=function(a,b,c){var d=this.J.D?this.J.D(a,b,c):this.J.call(null,a,b,c),e=Ig(this,d);x(e)||Fg(this.name,d);return e.D?e.D(a,b,c):e.call(null,a,b,c)};g.T=function(a,b,c,d){var e=this.J.T?this.J.T(a,b,c,d):this.J.call(null,a,b,c,d),f=Ig(this,e);x(f)||Fg(this.name,e);return f.T?f.T(a,b,c,d):f.call(null,a,b,c,d)};
g.aa=function(a,b,c,d,e){var f=this.J.aa?this.J.aa(a,b,c,d,e):this.J.call(null,a,b,c,d,e),h=Ig(this,f);x(h)||Fg(this.name,f);return h.aa?h.aa(a,b,c,d,e):h.call(null,a,b,c,d,e)};g.Na=function(a,b,c,d,e,f){var h=this.J.Na?this.J.Na(a,b,c,d,e,f):this.J.call(null,a,b,c,d,e,f),k=Ig(this,h);x(k)||Fg(this.name,h);return k.Na?k.Na(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
g.Oa=function(a,b,c,d,e,f,h){var k=this.J.Oa?this.J.Oa(a,b,c,d,e,f,h):this.J.call(null,a,b,c,d,e,f,h),l=Ig(this,k);x(l)||Fg(this.name,k);return l.Oa?l.Oa(a,b,c,d,e,f,h):l.call(null,a,b,c,d,e,f,h)};g.za=function(a,b,c,d,e,f,h,k){var l=this.J.za?this.J.za(a,b,c,d,e,f,h,k):this.J.call(null,a,b,c,d,e,f,h,k),m=Ig(this,l);x(m)||Fg(this.name,l);return m.za?m.za(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};
g.Pa=function(a,b,c,d,e,f,h,k,l){var m=this.J.Pa?this.J.Pa(a,b,c,d,e,f,h,k,l):this.J.call(null,a,b,c,d,e,f,h,k,l),n=Ig(this,m);x(n)||Fg(this.name,m);return n.Pa?n.Pa(a,b,c,d,e,f,h,k,l):n.call(null,a,b,c,d,e,f,h,k,l)};g.Ca=function(a,b,c,d,e,f,h,k,l,m){var n=this.J.Ca?this.J.Ca(a,b,c,d,e,f,h,k,l,m):this.J.call(null,a,b,c,d,e,f,h,k,l,m),p=Ig(this,n);x(p)||Fg(this.name,n);return p.Ca?p.Ca(a,b,c,d,e,f,h,k,l,m):p.call(null,a,b,c,d,e,f,h,k,l,m)};
g.Da=function(a,b,c,d,e,f,h,k,l,m,n){var p=this.J.Da?this.J.Da(a,b,c,d,e,f,h,k,l,m,n):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n),q=Ig(this,p);x(q)||Fg(this.name,p);return q.Da?q.Da(a,b,c,d,e,f,h,k,l,m,n):q.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Ea=function(a,b,c,d,e,f,h,k,l,m,n,p){var q=this.J.Ea?this.J.Ea(a,b,c,d,e,f,h,k,l,m,n,p):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p),r=Ig(this,q);x(r)||Fg(this.name,q);return r.Ea?r.Ea(a,b,c,d,e,f,h,k,l,m,n,p):r.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.Fa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){var r=this.J.Fa?this.J.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q),w=Ig(this,r);x(w)||Fg(this.name,r);return w.Fa?w.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):w.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};
g.Ga=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){var w=this.J.Ga?this.J.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r),z=Ig(this,w);x(z)||Fg(this.name,w);return z.Ga?z.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):z.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};
g.Ha=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w){var z=this.J.Ha?this.J.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w),C=Ig(this,z);x(C)||Fg(this.name,z);return C.Ha?C.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):C.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w)};
g.Ia=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z){var C=this.J.Ia?this.J.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z),E=Ig(this,C);x(E)||Fg(this.name,C);return E.Ia?E.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):E.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z)};
g.Ja=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C){var E=this.J.Ja?this.J.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C),M=Ig(this,E);x(M)||Fg(this.name,E);return M.Ja?M.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):M.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C)};
g.Ka=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E){var M=this.J.Ka?this.J.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E),T=Ig(this,M);x(T)||Fg(this.name,M);return T.Ka?T.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):T.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E)};
g.La=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M){var T=this.J.La?this.J.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M),da=Ig(this,T);x(da)||Fg(this.name,T);return da.La?da.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):da.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M)};
g.Ma=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T){var da=this.J.Ma?this.J.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T),ra=Ig(this,da);x(ra)||Fg(this.name,da);return ra.Ma?ra.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):ra.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T)};
g.ic=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da){var ra=Rd(this.J,a,b,c,d,Ic([e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da])),$c=Ig(this,ra);x($c)||Fg(this.name,ra);return Rd($c,a,b,c,d,Ic([e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da]))};function Jg(a,b){var c=Kg;ce.T(c.Zb,W,a,b);Bg(c.Yb,c.Zb,c.Qb,c.Xb)}function Ig(a,b){P.B(F(a.Qb),F(a.Xb))||Bg(a.Yb,a.Zb,a.Qb,a.Xb);var c=F(a.Yb);c=c.j?c.j(b):c.call(null,b);return x(c)?c:Eg(a.name,b,a.Xb,a.Zb,a.md,a.Yb,a.Qb,a.fd)}g.Eb=function(){return Ob(this.name)};g.Fb=function(){return Pb(this.name)};
g.ga=function(){return ba(this)};var Lg=new I(null,"button.button.is-primary","button.button.is-primary",-883309392),Mg=new I("skier","leaves-lift","skier/leaves-lift",-1306134627),Ng=new I(null,"div.buttons.is-centered","div.buttons.is-centered",1442792514),mg=new I(null,"val","val",128701612),Og=new I(null,"render","render",-1408033454),Pg=new I(null,"mu","mu",1146469241),Qg=new I(null,"fold","fold",-887461332),Rg=new I(null,"layer","layer",-1601820589),Sg=new I(null,"auto-run","auto-run",1958400437),ya=new I(null,"meta","meta",
1499536964),Tg=new I(null,"displayName","displayName",-809144601),Ug=new I(null,"on-dispose","on-dispose",2105306360),Vg=new I(null,"data","data",-232669377),Wg=new I(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),Xg=new I(null,"sigma","sigma",-63715703),Yg=new I(null,"spec","spec",347520401),Zg=new I(null,"aggregate","aggregate",1511468442),$g=new I(null,"constructor","constructor",-1953928811),ah=new I(null,"div.column","div.column",-1380853326),bh=new I(null,"actions","actions",
-812656882),ch=new I(null,"childContextTypes","childContextTypes",578717991),dh=new I(null,"transform","transform",1381301764),eh=new I(null,"field","field",-1302436500),fh=new I(null,"\x3e","\x3e",-555517146),xg=new I(null,"descendants","descendants",1824886031),gh=new I(null,"running","running",1554969103),hh=new I(null,"class","class",-2030961996),ih=new I(null,"description","description",-1428560544),jh=new I(null,"title","title",636505583),kh=new I(null,"on-click","on-click",1632826543),lh=new I(null,
"cljsLegacyRender","cljsLegacyRender",-1527295613),mh=new I(null,"color","color",1011675173),nh=new I(null,"stack","stack",-793405930),oh=new I(null,"as","as",1148689641),ph=new I(null,"reagentRender","reagentRender",-358306383),qh=new I(null,"name","name",1843675177),rh=new I(null,"getInitialState","getInitialState",1541760916),gg=new I(null,"alt-impl","alt-impl",670969595),sh=new I(null,"on-set","on-set",-140953470),Rf=new I("cljs.core","not-found","cljs.core/not-found",-1572889185),Hg=new I(null,
"default","default",-1987822328),th=new I("skier","joins-queue","skier/joins-queue",-1286647213),uh=new I(null,"no-cache","no-cache",1588056370),vh=new I(null,"\x3c\x3e","\x3c\x3e",1280186386),wh=new I(null,"div.columns","div.columns",-437221213),za=new I(null,"dup","dup",556298533),Aa=new I(null,"print-length","print-length",1931866356),wa=new I(null,"flush-on-newline","flush-on-newline",-151457939),xh=new I("lift","leaves","lift/leaves",-2138482165),yh=new I(null,"component-did-update","component-did-update",
-1468549173),zh=new I("sim","end-time","sim/end-time",-1849965709),Ah=new I(null,"reagent-render","reagent-render",-985383853),Bh=new I(null,"encoding","encoding",1728578272),Ch=new I(null,"function-components","function-components",1492814963),Dh=new I(null,"hierarchy","hierarchy",-1053470341),Eh=new I(null,"on-write","on-write",31519475),Fh=new I("skiers","skiing","skiers/skiing",-957605270),Gh=new I(null,"key","key",-1516042587),Hh=new I(null,"zero","zero",-858964576),Ih=new I("lift","ride-time",
"lift/ride-time",78775400),Jh=new I(null,"y","y",-1757859776),Kh=new I(null,"x","x",2099068185),Lh=new I(null,"t","t",-1397832519),Mh=new I(null,"componentWillUnmount","componentWillUnmount",1573788814),Nh=new I(null,"scale","scale",-230427353),Oh=new I(null,"contextType","contextType",1033066077),Ph=new I("skiers","waiting","skiers/waiting",1070582748),Qh=new I(null,"mark","mark",-373816345),Rh=new I(null,"event","event",301435442),wg=new I(null,"parents","parents",-2027538891),Sh=new I(null,"getDerivedStateFromProps",
"getDerivedStateFromProps",-991834739),Th=new I(null,"validator","validator",-1966190681),hg=new I(null,"fallback-impl","fallback-impl",-1501286995),Uh=new I(null,"display-name","display-name",694513143),Vh=new I(null,"button.button.is-danger","button.button.is-danger",-948547713),Wh=new I("slope","length","slope/length",1017254753),Xh=new I(null,"section.section","section.section",-416807119),xa=new I(null,"readably","readably",1129599760),Yh=new I(null,"contextTypes","contextTypes",-2023853910),
tg=new I(null,"keyword-fn","keyword-fn",-64566675),Zh=new I(null,"shouldComponentUpdate","shouldComponentUpdate",1795750960),$h=new I(null,"unit","unit",375175175),ai=new I(null,"id","id",-1388402092),bi=new I(null,"$schema","$schema",1635092088),ci=new I(null,"component-will-unmount","component-will-unmount",-2058314698),di=new I("lift","chair-width","lift/chair-width",1126373462),ei=new I(null,"results","results",-1134170113),fi=new I(null,"className","className",-1983287057),gi=new I(null,"h1.title",
"h1.title",-2139952071),hi=new I("lift","chair-period","lift/chair-period",169813739),ii=new I(null,"events","events",1792552201),ji=new I("skiers","riding-lift","skiers/riding-lift",1574761189),ki=new I(null,"parse-tag","parse-tag",1427313738),li=new I(null,"type","type",1174270348),mi=new I("skiers","speed","skiers/speed",88597428),ni=new I(null,"callback","callback",-705136228),yg=new I(null,"ancestors","ancestors",-776045424),Zf=new I(null,"more-marker","more-marker",-14717935);var oi={},pi;function qi(){return oa("iPhone")&&!oa("iPod")&&!oa("iPad")};oa("Opera");oa("Trident")||oa("MSIE");oa("Edge");!oa("Gecko")||-1!=na.toLowerCase().indexOf("webkit")&&!oa("Edge")||oa("Trident")||oa("MSIE")||oa("Edge");-1!=na.toLowerCase().indexOf("webkit")&&!oa("Edge")&&oa("Mobile");oa("Macintosh");oa("Windows");oa("Linux")||oa("CrOS");var ri=aa.navigator||null;ri&&(ri.appVersion||"").indexOf("X11");oa("Android");qi();oa("iPad");oa("iPod");qi()||oa("iPad")||oa("iPod");na.toLowerCase().indexOf("kaios");(function(a){if("undefined"===typeof qa||"undefined"===typeof sa||"undefined"===typeof oi||"undefined"===typeof pi)pi=function(b,c,d){this.f=b;this.Nc=c;this.hd=d;this.F=393216;this.P=0},pi.prototype.ka=function(b,c){return new pi(this.f,this.Nc,c)},pi.prototype.ha=function(){return this.hd},pi.Ib=!0,pi.nb="cljs.core.async/t_cljs$core$async23494",pi.Ub=function(b){return G(b,"cljs.core.async/t_cljs$core$async23494")};return new pi(a,!0,Td)})(function(){return null});var si={},ti={},ui=[];function vi(a,b){var c=ti[a];if(void 0!==c)return c;try{ui.push(a);var d=si[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};si[a]=d}if(e){delete shadow$provide[a];try{e.call(d,aa,vi,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{ui.pop()}return d.exports}vi.cache={};vi.resolve=function(a){return a};var wi=vi(2,{});function xi(a,b,c){var d=RegExp,e=b.source,f=x(b.ignoreCase)?"gi":"g";f=x(b.multiline)?[f,"m"].join(""):f;b=x(b.unicode)?[f,"u"].join(""):f;return a.replace(new d(e,b),c)}
function yi(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){d=ge(d);if(P.B(R(d),1))return d=N(d),a.j?a.j(d):a.call(null,d);d=He(d);return a.j?a.j(d):a.call(null,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}()}
function zi(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?xi(a,b,c):xi(a,b,yi(c));throw["Invalid match arg: ",B.j(b)].join("");}function Ai(a){var b=new pa;for(a=J(a);;)if(null!=a)b.append(B.j(N(a))),a=O(a),null!=a&&b.append(" ");else return b.toString()}
function Bi(a){var b=/-/;a="/(?:)/"===B.j(b)?Jc.B(He(U("",de.B(B,J(a)))),""):He(B.j(a).split(b));if(1<R(a))a:for(;;)if(""===(null==a?null:jb(a)))a=null==a?null:kb(a);else break a;return a};var Ci={};var Di={},Ei="undefined"!==typeof window&&null!=window.document,Fi=new Tf(null,new v(null,2,["aria",null,"data",null],null),null);function Gi(a){return 2>R(a)?a.toUpperCase():[a.substring(0,1).toUpperCase(),a.substring(1)].join("")}function Hi(a){if("string"===typeof a)return a;a=X(a);var b=Bi(a),c=J(b);b=N(c);c=O(c);return x(Fi.j?Fi.j(b):Fi.call(null,b))?a:Pd(B,b,de.B(Gi,c))}
function Ii(a){var b=function(){var c=function(){var d=Pc(a);if(d){d=a.displayName;if(x(d))return d;d=a.name;return"string"===typeof d&&J(d)?d:null}return d}();if(x(c))return c;c=function(){var d=null!=a?a.P&4096||u===a.xc?!0:!1:!1;return d?X(a):d}();if(x(c))return c;c=Tc(a);return Zc(c)?qh.j(c):null}();return x(b)?zi(B.j(b),"$","."):null}function Ji(a){return a instanceof I||a instanceof gc}
var Ki=function Ki(a){switch(arguments.length){case 0:return Ki.N();case 1:return Ki.j(arguments[0]);case 2:return Ki.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Ki.K(arguments[0],arguments[1],c)}};Ki.N=function(){return null};Ki.j=function(a){return Wc(a)?(a=$d(function(b){return x(b)?Ji(b)?X(b):b:null},a),J(a)?Ai(a):null):Ji(a)?X(a):a};
Ki.B=function(a,b){return x(a)?x(b)?[B.j(Ki.j(a))," ",B.j(Ki.j(b))].join(""):Ki.j(a):Ki.j(b)};Ki.K=function(a,b,c){return Ga(Ki,Ki.B(a,b),c)};Ki.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Ki.$=2;var Li=!1;function Mi(a){if(Zc(a))try{var b=H.B(a,Gh)}catch(c){b=null}else b=null;return b}
function Ni(a){var b=Gh.j(Tc(a));if(x(b))return b;b=Mi(V(a,1,null));if(x(b))return b;b=V(a,0,null);switch(b instanceof I?b.Ra:null){case "\x3e":case "f\x3e":return Mi(V(a,2,null));case "r\x3e":return a=V(a,2,null),null==a?null:a.key;default:return null}};var Oi=0;function Pi(a){return setTimeout(a,16)}var Qi=Ei?function(){var a=window;return function(){var b=a.requestAnimationFrame;if(x(b))return b;b=a.webkitRequestAnimationFrame;if(x(b))return b;b=a.mozRequestAnimationFrame;if(x(b))return b;b=a.msRequestAnimationFrame;return x(b)?b:Pi}().bind(a)}():Pi;function Ri(a,b){return a.qc-b.qc}function Si(){return null}function Ti(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.N?d.N():d.call(null);c+=1}else return null}
function Ui(a,b,c){b.push(c);return a.schedule()}function Vi(){this.ac=!1}g=Vi.prototype;g.flush_after_render=function(){var a=this.Ob;if(null==a)return null;this.Ob=null;return Ti(a)};g.queue_render=function(a){null==this.Wb&&(this.Wb=[]);return Ui(this,this.Wb,a)};g.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.ac)return null;this.ac=!0;return Qi.j?Qi.j(a):Qi.call(null,a)};g.flush_before_flush=function(){var a=this.Pb;if(null==a)return null;this.Pb=null;return Ti(a)};
g.flush_queues=function(){this.flush_before_flush();Si();this.flush_render();return this.flush_after_render()};g.run_queues=function(){this.ac=!1;return this.flush_queues()};g.add_before_flush=function(a){null==this.Pb&&(this.Pb=[]);return Ui(this,this.Pb,a)};g.add_after_render=function(a){null==this.Ob&&(this.Ob=[]);return Ui(this,this.Ob,a)};
g.flush_render=function(){var a=this.Wb;if(null==a)return null;this.Wb=null;a:{a.sort(Ri);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var Wi=new Vi;function Xi(a){if(x(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return Wi.queue_render(a)};function Yi(a){if(null!=a&&null!=a.nd)a=a.id;else{var b=Yi[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Yi._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("Compiler.get-id",a);}return a}function Zi(a,b,c){if(null!=a&&null!=a.Jc)a=a.Jc(a,b,c);else{var d=Zi[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Zi._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("Compiler.parse-tag",a);}return a}
function $i(a,b){if(null!=a&&null!=a.Hc)a=a.Hc(a,b);else{var c=$i[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=$i._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("Compiler.as-element",a);}return a}
function aj(a,b,c,d,e){if(null!=a&&null!=a.Ic)a=a.Ic(a,b,c,d,e);else{var f=aj[t(null==a?null:a)];if(null!=f)a=f.aa?f.aa(a,b,c,d,e):f.call(null,a,b,c,d,e);else if(f=aj._,null!=f)a=f.aa?f.aa(a,b,c,d,e):f.call(null,a,b,c,d,e);else throw A("Compiler.make-element",a);}return a};var bj=function bj(a){switch(arguments.length){case 1:return bj.j(arguments[0]);case 2:return bj.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return bj.K(arguments[0],arguments[1],c)}};bj.j=function(a){return a};bj.B=function(a,b){return R(a)<R(b)?Ga(function(c,d){return id(b,d)?Uc.B(c,d):c},a,a):Ga(Uc,a,b)};bj.K=function(a,b,c){return Ga(bj,a,Jc.B(c,b))};
bj.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};bj.$=2;var cj;function dj(a,b){b.dc=null;a:{var c=cj;cj=b;try{var d=a.N?a.N():a.call(null);break a}finally{cj=c}d=void 0}a=b.dc;b.gb=!1;a:{c=b.rb;var e=null==a?0:a.length,f=e===(null==c?0:c.length);if(f)for(f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=f}c||b._update_watching(a);return d}function ej(a){var b=cj;if(null!=b){var c=b.dc;null==c?b.dc=[a]:c.push(a)}}function fj(a,b,c){a.ua=W.D(a.ua,b,c);return a.tc=null}
function gj(a,b){a.ua=Oc.B(a.ua,b);return a.tc=null}function hj(a,b,c){var d=a.tc;d=null==d?a.tc=od(function(l,m,n){l.push(m);l.push(n);return l},[],a.ua):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.T?k.T(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function ij(a,b,c,d){G(a,["#object[reagent.ratom.",B.j(c)," "].join(""));a:{c=cj;cj=null;try{var e=d;break a}finally{cj=c}e=void 0}eg(e,a,b);return G(a,"]")}var jj=null;
function kj(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.ua=d;this.F=2154201088;this.P=114690}g=kj.prototype;g.ia=function(a,b,c){return ij(b,c,"RAtom",new v(null,1,[mg,this.fb(null)],null))};g.ha=function(){return this.meta};g.ga=function(){return ba(this)};g.fa=function(a,b){return this===b};g.Sa=function(a,b){a=this.state;this.state=b;null!=this.ua&&hj(this,a,b);return b};g.kc=function(a,b){return this.Sa(null,b.j?b.j(this.state):b.call(null,this.state))};
g.lc=function(a,b,c){return this.Sa(null,b.B?b.B(this.state,c):b.call(null,this.state,c))};g.mc=function(a,b,c,d){return this.Sa(null,b.D?b.D(this.state,c,d):b.call(null,this.state,c,d))};g.nc=function(a,b,c,d,e){return this.Sa(null,Qd(b,this.state,c,d,e))};g.oc=function(a,b){hj(this,a,b)};g.Sb=function(a,b,c){return fj(this,b,c)};g.Tb=function(a,b){return gj(this,b)};g.ka=function(a,b){return new kj(this.state,b,this.validator,this.ua)};g.fb=function(){ej(this);return this.state};
var lj=function lj(a){switch(arguments.length){case 1:return lj.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(1),0,null);return lj.K(arguments[0],c)}};lj.j=function(a){return new kj(a,null,null,null)};lj.K=function(a,b){var c=Sd(b);b=H.B(c,ya);c=H.B(c,Th);return new kj(a,b,c,null)};lj.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};lj.$=1;
function mj(a){if(null!=a&&null!=a.sc)a=a.sc(a);else{var b=mj[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=mj._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IDisposable.dispose!",a);}return a}function Fb(a,b,c,d){return a._handle_change(b,c,d)}function nj(a){this.f=a;this.state=null;this.gb=!0;this.Fc=!1;this.ec=this.Za=this.ua=this.rb=null;this.F=2153807872;this.P=114690}g=nj.prototype;g._peek_at=function(){var a=cj;cj=null;try{return this.fb(null)}finally{cj=a}};
g._handle_change=function(a,b,c){return b===c||this.gb?null:null==this.Za?(this.gb=!0,null==jj&&(jj=[],!1===Wi.ac&&Wi.schedule()),jj.push(this)):!0===this.Za?this._run(!1):this.Za.j?this.Za.j(this):this.Za.call(null,this)};
g._update_watching=function(a){var b=Wf(a),c=Wf(this.rb);this.rb=a;a=J(bj.B(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.ea(null,f);Eb(h,this);f+=1}else if(a=J(a))d=a,cd(d)?(a=Mb(d),f=Nb(d),d=a,e=R(a),a=f):(a=N(d),Eb(a,this),a=O(d),d=null,e=0),f=0;else break;b=J(bj.B(c,b));c=null;for(e=d=0;;)if(e<d)a=c.ea(null,e),Gb(a,this),e+=1;else if(b=J(b))c=b,cd(c)?(b=Mb(c),d=Nb(c),c=b,a=R(b),b=d,d=a):(a=N(c),Gb(a,this),b=O(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.gb&&null!=this.rb?this._run(!0):null};g._try_capture=function(a){try{return this.ec=null,dj(a,this)}catch(b){return this.ec=this.state=a=b,this.gb=!1}};g._run=function(a){var b=this.state;a=x(a)?this._try_capture(this.f):dj(this.f,this);this.Fc||(this.state=a,null==this.ua||P.B(b,a)||hj(this,b,a));return a};
g._set_opts=function(a){var b=Sd(a);a=H.B(b,Sg);var c=H.B(b,sh),d=H.B(b,Ug);b=H.B(b,uh);null!=a&&(this.Za=a);null!=c&&(this.kd=c);null!=d&&(this.Gc=d);return null!=b?this.Fc=b:null};g.ia=function(a,b,c){return ij(b,c,"Reaction",new v(null,1,[mg,this.fb(null)],null))};g.ga=function(){return ba(this)};g.fa=function(a,b){return this===b};
g.sc=function(){var a=this.state,b=this.rb;this.Za=this.state=this.rb=null;this.gb=!0;b=J(Wf(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e);Gb(f,this);e+=1}else if(b=J(b))c=b,cd(c)?(b=Mb(c),e=Nb(c),c=b,d=R(b),b=e):(b=N(c),Gb(b,this),b=O(c),c=null,d=0),e=0;else break;null!=this.Gc&&this.Gc(a);a=this.Cd;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.j?d.j(this):d.call(null,this),c+=1;else return null};g.Sa=function(a,b){a=this.state;this.state=b;this.kd(a,b);hj(this,a,b);return b};
g.kc=function(a,b){a=this.Sa;var c=this._peek_at();b=b.j?b.j(c):b.call(null,c);return a.call(this,null,b)};g.lc=function(a,b,c){a=this.Sa;var d=this._peek_at();b=b.B?b.B(d,c):b.call(null,d,c);return a.call(this,null,b)};g.mc=function(a,b,c,d){a=this.Sa;var e=this._peek_at();b=b.D?b.D(e,c,d):b.call(null,e,c,d);return a.call(this,null,b)};g.nc=function(a,b,c,d,e){return this.Sa(null,Qd(b,this._peek_at(),c,d,e))};g.oc=function(a,b){hj(this,a,b)};g.Sb=function(a,b,c){return fj(this,b,c)};
g.Tb=function(a,b){a=Vc(this.ua);gj(this,b);return!a&&Vc(this.ua)&&null==this.Za?this.sc(null):null};g.fb=function(){var a=this.ec;if(null!=a)throw a;(a=null==cj)&&(oj.N?oj.N():oj.call(null));a&&null==this.Za?this.gb&&(a=this.state,this.state=this.f.N?this.f.N():this.f.call(null),null==this.ua||P.B(a,this.state)||hj(this,a,this.state)):(ej(this),this.gb&&this._run(!1));return this.state};
function oj(){for(;;){var a=jj;if(null==a)return null;jj=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}Si=oj;function pj(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new K(b.slice(1),0,null):null;b=arguments[0];var e=Sd(c);c=H.B(e,Sg);d=H.B(e,sh);e=H.B(e,Ug);b=new nj(b);b._set_opts(new v(null,3,[Sg,c,sh,d,Ug,e],null));return b}var qj=pj(null);
function rj(a,b){var c=sj,d=qj,e=dj(a,d);null!=d.rb&&(qj=pj(null),d._set_opts(c),d.f=a,d.Za=function(){return Xi.j?Xi.j(b):Xi.call(null,b)},b.cljsRatom=d);return e};var tj;function uj(a,b){var c=b.argv;if(null==c){c=Z;a=a.constructor;a:for(var d=ha(b),e=d.length,f=Td,h=0;;)if(h<e){var k=d[h];f=W.D(f,yd.j(k),ia(b,k));h+=1}else break a;b=new Y(null,2,5,c,[a,f],null)}else b=c;return b}function vj(a){var b;if(b=Pc(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.ib);return b}
function wj(a,b){for(;;){var c=a.ib,d=!0===a.bd?c.call(a,a):function(){var e=uj(a,a.props);switch(R(e)){case 1:return c.call(a);case 2:return c.call(a,Ec(e,1));case 3:return c.call(a,Ec(e,1),Ec(e,2));case 4:return c.call(a,Ec(e,1),Ec(e,2),Ec(e,3));case 5:return c.call(a,Ec(e,1),Ec(e,2),Ec(e,3),Ec(e,4));default:return c.apply(a,Fa(e).slice(1))}}();if(bd(d))return $i(b,d);if(gd(d))d=vj(d)?function(e,f,h,k,l){return function(){function m(p){var q=null;if(0<arguments.length){q=0;for(var r=Array(arguments.length-
0);q<r.length;)r[q]=arguments[q+0],++q;q=new K(r,0,null)}return n.call(this,q)}function n(p){return $i(f,Pd(Le,l,p))}m.$=0;m.ba=function(p){p=J(p);return n(p)};m.K=n;return m}()}(a,b,c,null,d):d,a.ib=d;else return d}}var sj=new v(null,1,[uh,!0],null);
function xj(a,b){switch(a instanceof I?a.Ra:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){var e=b.call,f=c.argv;null!=f&&(c=V(f,1,null),c=Zc(c)?c:null);return e.call(b,null,c,d)};case "getInitialState":return function(c){var d=c.dd;d=null!=d?d:c.dd=lj.j(null);return be(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,uj(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,uj(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,uj(this,c))};case "shouldComponentUpdate":return function(c){var d=Li;if(x(d))return d;d=this.props.argv;var e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return!P.B(d,e)}catch(h){return!1}}else return f?b.call(this,this,uj(this,this.props),uj(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,uj(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,uj(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,uj(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=ia(this,"cljsRatom");null!=c&&mj(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}var yj=new v(null,2,[Zh,null,Mh,null],null),zj=function(a){var b=new ae(Td);return function(c){var d=H.B(F(b),c);if(null!=d)return d;d=a.j?a.j(c):a.call(null,c);ce.T(b,W,c,d);return d}}(function(a){if("string"===typeof a)return a;a=X(a);a=zi(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=Bi(a);var b=J(a);a=N(b);b=O(b);return Pd(B,a,de.B(Gi,b))});function Aj(a){return od(function(b,c,d){return W.D(b,yd.j(zj(c)),d)},Td,a)}
function Bj(a,b){var c=function(){var h=ph.j(a);return x(h)?h:Og.j(a)}(),d=null==ph.j(a),e=function(){var h=Tg.j(a);if(x(h))return h;h=Ii(c);return x(h)?h:B.j(og("reagent"))}(),f=od(function(h,k,l){var m=W.D,n=xj(k,l);return m.call(W,h,k,x(n)?n:l)},Td,a);return W.K(f,Tg,e,Ic([lh,d,ph,c,Og,function(){var h=this,k=ia(h,"cljsRatom");h.cljsIsDirty=!1;return null==k?rj(function(){a:{var l=tj;tj=h;try{var m=wj(h,b);break a}finally{tj=l}m=void 0}return m},h):k._run(!1)}]))}
function Cj(a){return od(function(b,c,d){c=X(c);b[c]=d;return b},{},a)}function Dj(a,b){return Bj(Of.K(Ic([yj,Aj(a)])),b)}var Qf=new Y(null,5,5,Z,[ch,Yh,Oh,Sh,Wg],null);
function Ej(a,b){function c(k,l,m){wi.Component.call(this,k,l,m);x(h)&&(h.B?h.B(this,k):h.call(null,this,k));x(f)&&(this.state=f.j?f.j(this):f.call(null,this));this.qc=Oi+=1;return this}a=Dj(a,b);b=Cj(Rd(Oc,a,Tg,rh,$g,Ic([Og,ph,Qf])));var d=Cj(Pf(a)),e=Tg.j(a),f=rh.j(a),h=$g.j(a);ka(c.prototype,wi.Component.prototype,b);x(Og.j(a))&&(c.prototype.render=Og.j(a));x(ph.j(a))&&(c.prototype.ib=ph.j(a));x(lh.j(a))&&(c.prototype.bd=lh.j(a));ka(c,wi.Component,d);x(e)&&(c.displayName=e,c.nb=e,c.Ub=function(k){return G(k,
e)});c.Ib=!0;return c.prototype.constructor=c}function Fj(a,b,c){a=Yi(a);return b[a]=c}
function Gj(a,b){for(;;){var c=b.ib,d=b.argv,e=Od(c,d);if(bd(e))return $i(a,e);if(gd(e))c=vj(e)?function(f,h,k,l,m,n){return function(){function p(r){var w=null;if(0<arguments.length){w=0;for(var z=Array(arguments.length-0);w<z.length;)z[w]=arguments[w+0],++w;w=new K(z,0,null)}return q.call(this,w)}function q(r){return $i(f,Pd(Le,n,r))}p.$=0;p.ba=function(r){r=J(r);return q(r)};p.K=q;return p}()}(a,b,c,null,d,e):e,b.ib=c;else return e}}
function Hj(a,b){var c=b.argv,d=b.ib;b=wi.useState(0);V(b,0,null);var e=V(b,1,null),f=wi.useRef();x(f.current)||function(){var k={forceUpdate:function(){return e.j?e.j(tc):e.call(null,tc)}};k.qc=Oi+=1;k.constructor=d;k.ib=d;return f.current=k}();var h=f.current;b=ia(h,"cljsRatom");wi.useEffect(function(){return function(){var k=ia(h,"cljsRatom");return null==k?null:mj(k)}},[]);h.argv=c;h.cljsIsDirty=!1;return null==b?rj(function(){a:{var k=tj;tj=h;try{var l=Gj(a,h);break a}finally{tj=k}l=void 0}return l},
h):b._run(!1)}function Ij(a,b){a=a.argv;b=b.argv;var c=!1===Li;if(c)try{return P.B(a,b)}catch(d){return!1}else return c}function Jj(a,b){function c(e){return Hj(a,e)}var d=ia(b,Yi(a));if(x(d))return d;c.displayName=Ii(b);d=wi.memo(c,Ij);Fj(a,b,d);return d};var Kj=new Tf(null,new v(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);
function Lj(a,b,c,d){var e=Sd(Td);e=H.B(e,Eh);if(a===document.activeElement&&id(Kj,a.type)&&"string"===typeof b&&"string"===typeof c){var f=a.value;if(!P.B(f,c))return Wi.add_after_render(function(){return Mj.j?Mj.j(d):Mj.call(null,d)});c=R(f)-a.selectionStart;c=R(b)-c;d.Vb=b;a.value=b;Pc(e)&&(e.j?e.j(b):e.call(null,b));a.selectionStart=c;return a.selectionEnd=c}d.Vb=b;a.value=b;return Pc(e)?e.j?e.j(b):e.call(null,b):null}
function Mj(a){if(x(a.pc)){a.Cc=!1;var b=a.cd,c=a.Vb,d=a.rc;return P.B(b,c)?null:Lj(d,b,c,a)}return null}function Nj(a,b,c){a.Vb=c.target.value;x(a.Cc)||(a.Cc=!0,Wi.add_after_render(function(){return Mj(a)}));return b.j?b.j(c):b.call(null,c)}
function Oj(a){var b=tj;if(x(function(){var f=null!=a;return f?(f=a.hasOwnProperty("onChange"),x(f)?a.hasOwnProperty("value"):f):f}())){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;x(b.pc)||(b.pc=!0,b.Vb=c);x(b.Kc)||(b.Kc=Pc(e)?function(f){b.rc=f;return e.j?e.j(f):e.call(null,f)}:x(x(e)?e.hasOwnProperty("current"):e)?function(f){b.rc=f;return e.current=f}:function(f){return b.rc=f});b.cd=c;delete a.value;a.defaultValue=c;a.onChange=function(f){return Nj(b,d,f)};a.ref=b.Kc}}
var Pj=new v(null,4,[Uh,"ReagentInput",yh,Mj,ci,function(a){return a.pc=null},Ah,function(a,b,c,d,e){Oj(c);return aj(e,a,b,c,d)}],null);var Qj={},Rj,Sj=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,Tj={"class":"className","for":"htmlFor",charset:"charSet"};function Uj(a,b){return a.hasOwnProperty(b)?ia(a,b):null}function Vj(a,b,c){if(Ji(b)){var d=Uj(Tj,X(b));null==d?(d=Hi(b),b=X(b),b=Tj[b]=d):b=d}c=Wj.j?Wj.j(c):Wj.call(null,c);a[b]=c;return a}
function Wj(a){return"object"!==t(a)?a:Ji(a)?X(a):Zc(a)?od(Vj,{},a):Wc(a)?sg(a):gd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return Od(a,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}():sg(a)}var Xj={};function Yj(a,b,c){if(Ji(b)){var d=Uj(Xj,X(b));null==d?(d=Hi(b),b=X(b),b=Xj[b]=d):b=d}c=Wj(c);a[b]=c;return a}
function Zj(a){return"object"!==t(a)?a:Ji(a)?X(a):Zc(a)?od(Yj,{},a):Wc(a)?sg(a):gd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return Od(a,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}():sg(a)}
function ak(a,b,c,d,e){switch(R(b)-e){case 0:return wi.createElement(c,d);case 1:return wi.createElement(c,d,$i(a,V(b,e,null)));default:return wi.createElement.apply(null,od(function(f,h,k){h>=e&&f.push($i(a,k));return f},[c,d],b))}}function bk(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.ed=d}function ck(a,b,c){var d=ia(a,Yi(c));null==d?vj(a)?a=Fj(c,a,a):(d=Tc(a),d=W.D(d,Ah,a),d=Ej(d,c),a=Fj(c,a,d)):a=d;c={};c.argv=b;b=Ni(b);null!=b&&(c.key=b);return wi.createElement(a,c)}
function dk(a,b,c,d){var e={};e.ib=a;var f=R(b);c=Pe(null,b,c|0,f|0,null);e.argv=c;b=Ni(b);null!=b&&(e.key=b);return wi.createElement(Jj(d,a),e)}function ek(a,b,c){var d;if(d=Pc(a))d=null==a?null:a.prototype,d=null!=(null==d?null:d.render);return d?ck(a,b,c):dk(a,b,1,c)}var fk={};function gk(a,b){a=Uj(fk,b);if(null==a){var c=O(Xf(Sj,X(b)));a=V(c,0,null);var d=V(c,1,null);c=V(c,2,null);c=null==c?null:zi(c,/\./," ");var e=a.indexOf("-");e=!P.B(-1,e);a=new bk(a,d,c,e);return fk[b]=a}return a}
function hk(a,b,c,d){var e=a.tag,f=V(b,c,null),h=null==f||Zc(f),k=function(){var n=h?f:null;var p=hh.j(n);p=x(p)?W.D(n,hh,Ki.j(p)):n;var q=a.id;n=a.className;q=null!=q&&null==ai.j(p)?W.D(p,ai,q):p;if(x(n)){var r=W.D,w=Ki.B,z=hh.j(p);p=x(z)?z:fi.j(p);n=r.call(W,q,hh,w.call(Ki,n,p))}else n=q;n=x(a.ed)?Zj(n):Wj(n);return x(n)?n:{}}();c+=h?1:0;a:switch(e){case "input":case "textarea":var l=!0;break a;default:l=!1}if(l){l=Mi(f);var m=function(){var n=d.od;if(x(n))return n;n=Ej(Pj,d);return d.od=n}();return $i(d,
Sc(new Y(null,6,5,Z,[m,b,e,k,c,d],null),Of.K(Ic([x(l)?new v(null,1,[Gh,l],null):null,Tc(b)]))))}l=Mi(Tc(b));null!=l&&(k.key=l);return aj(d,b,e,k,c)}function ik(a,b){return Fa(de.B(function(c){return $i(b,c)},a))}
function jk(a,b,c){null==b&&console.error("vec-to-elem",ig(Ic([a])));var d=V(a,0,null);switch(d instanceof I?d.Ra:null){case "\x3e":return c=V(a,1,null),hk(new bk(c,null,null,null),a,2,b);case "r\x3e":c=V(a,1,null);d=V(a,2,null);d=x(d)?d:{};var e=Mi(Tc(a));null!=e&&(d.key=e);return aj(b,a,c,d,3);case "f\x3e":return dk(V(a,1,null),a,2,b);case "\x3c\x3e":return d=V(a,1,null),c=null==d||Zc(d),d=Wj(c?d:null),d=x(d)?d:{},c=1+(c?1:0),e=Ni(a),null!=e&&(d.key=e),aj(b,a,wi.Fragment,d,c);default:if(Ji(d)||
"string"===typeof d)a:for(;;)switch(c=V(a,0,null),d=X(c),e=d.indexOf("\x3e"),e){case -1:b=hk(Zi(b,d,c),a,1,b);break a;case 0:b=null;break a;default:a=Sc(new Y(null,2,5,Z,[d.substring(0,e),W.D(Sc(a,null),0,d.substring(e+1))],null),Tc(a))}else b=c.D?c.D(d,a,b):c.call(null,d,a,b);return b}}
var kk=function(a){var b=og("G__"),c=x(Ch.j(a))?ek:ck,d=H.D(a,ki,gk);if("undefined"===typeof Ci||"undefined"===typeof Di||"undefined"===typeof Qj||"undefined"===typeof Rj)Rj=function(e,f,h,k,l){this.ld=e;this.id=f;this.Dc=h;this.$b=k;this.jd=l;this.F=393216;this.P=0},Rj.prototype.ka=function(e,f){return new Rj(this.ld,this.id,this.Dc,this.$b,f)},Rj.prototype.ha=function(){return this.jd},Rj.prototype.nd=function(){return this.id},Rj.prototype.Jc=function(e,f,h){return this.$b.D?this.$b.D(this,f,h):
this.$b.call(null,this,f,h)},Rj.prototype.Hc=function(e,f){e=this.Dc;return"object"!==t(f)?f:bd(f)?jk(f,this,e):(null==f?0:null!=f?f.F&64||u===f.ub||(f.F?0:y(Ua,f)):y(Ua,f))?ik(f,this):Ji(f)?X(f):(null!=f?f.F&2147483648||u===f.na||(f.F?0:y(Cb,f)):y(Cb,f))?ig(Ic([f])):f},Rj.prototype.Ic=function(e,f,h,k,l){return ak(this,f,h,k,l)},Rj.Ib=!0,Rj.nb="reagent.impl.template/t_reagent$impl$template26403",Rj.Ub=function(e){return G(e,"reagent.impl.template/t_reagent$impl$template26403")};return new Rj(a,b,
c,d,Td)}(Td);var lk=vi(8,{});var mk=new ae(Td);function nk(a,b,c){var d=Li;Li=!0;try{lk.render(a.N?a.N():a.call(null),b,function(){var e=Li;Li=!1;try{return ce.T(mk,W,b,a),Wi.flush_after_render(),null!=c?c.N?c.N():c.call(null):null}finally{Li=e}})}finally{Li=d}};var ok=vi(85,{});function pk(a,b){this.Ec=a;this.Mc=b}pk.prototype.getKey=function(){return this.Ec};pk.prototype.getValue=function(){return this.Mc};pk.prototype.clone=function(){return new pk(this.Ec,this.Mc)};function qk(a){this.Xa=[];if(a)a:{if(a instanceof qk){var b=a.Xa;for(var c=[],d=b.length,e=0;e<d;e++)c.push(b[e].getKey());b=c;a=a.Xa;c=[];d=a.length;for(e=0;e<d;e++)c.push(a[e].getValue());a=c;if(0>=this.Xa.length){c=this.Xa;for(d=0;d<b.length;d++)c.push(new pk(b[d],a[d]));break a}}else{b=ha(a);c=[];d=0;for(e in a)c[d++]=a[e];a=c}for(d=0;d<b.length;d++)this.insert(b[d],a[d])}}g=qk.prototype;
g.insert=function(a,b){var c=this.Xa;c.push(new pk(a,b));a=c.length-1;b=this.Xa;for(c=b[a];0<a;){var d=a-1>>1;if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};g.remove=function(){var a=this.Xa,b=a.length,c=a[0];if(!(0>=b)){if(1==b)la(a);else{a[0]=a.pop();a=0;b=this.Xa;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};g.peek=function(){var a=this.Xa;if(0!=a.length)return a[0].getValue()};
g.clone=function(){return new qk(this)};g.isEmpty=function(){return 0===this.Xa.length};g.clear=function(){la(this.Xa)};function rk(){qk.call(this)}fa(rk,qk);rk.prototype.enqueue=function(a,b){this.insert(a,b)};rk.prototype.dequeue=function(){return this.remove()};function sk(a){--a;return 0<a?a:0}function tk(a){a=Sd(a);var b=H.B(a,Pg);return H.B(a,Xg)*Math.sqrt(-2*Math.log(1-Math.random()))*Math.cos(2*Math.PI*Math.random())+b}var Kg=function(){var a=new ae(Td),b=new ae(Td),c=new ae(Td),d=new ae(Td),e=H.D(Td,Dh,vg.N?vg.N():vg.call(null));return new Gg(hc.B("net.thewagner.skiers.core","handle-event"),function(f,h){return Rh.j(h)},e,a,b,c,d)}();Jg(Hg,function(a){return a});Jg(th,function(a){return je(je(a,Fh,sk),Ph,tc)});
Jg(Mg,function(a,b){a=Sd(a);var c=H.B(a,mi),d=H.B(a,Wh);b=Sd(b);b=H.B(b,Lh);c=d/tk(c);return ke(je(je(a,ji,sk),Fh,tc),ii,Jc,new v(null,2,[Rh,th,Lh,b+c],null))});Jg(xh,function(a,b){var c=Sd(a),d=H.B(c,Ih),e=H.B(c,di);a=H.B(c,hi);b=Sd(b);b=H.B(b,Lh);var f=Ph.j(c);e=0>f?0:0<=f&&f<=e?f:e<f?e:null;c=ke(ke(c,Ph,sd,e),ji,rd,e);d=new v(null,2,[Rh,Mg,Lh,b+tk(d)],null);return ke(ke(c,ii,ie,ee(e,new he(null,-1,d,null))),ii,Jc,new v(null,2,[Rh,xh,Lh,b+a],null))});var uk;
a:for(var vk=[Wh,ji,Ih,ii,Fh,hi,zh,mi,di,Lh,Ph],wk=[3E3,0,new v(null,2,[Pg,300,Xg,30],null),new Y(null,1,5,Z,[new v(null,2,[Rh,xh,Lh,0],null)],null),0,7,1E4,new v(null,3,[Pg,5,Xg,1,$h,"m/s"],null),4,0,25],xk=vk.length,yk=0,zk=Hb(ef);;)if(yk<xk){if(wk.length<=yk)throw Error(["No value supplied for key: ",B.j(vk[yk])].join(""));var Ak=yk+1,Bk=Kb(zk,vk[yk],wk[yk]);yk=Ak;zk=Bk}else{uk=Jb(zk);break a};var Ck=new v(null,5,[bi,"https://vega.github.io/schema/vega-lite/v5.json",ih,"A simple bar chart with embedded data.",Vg,new v(null,1,[qh,ei],null),dh,new Y(null,1,5,Z,[new v(null,2,[Qg,new Y(null,3,5,Z,[Fh,Ph,ji],null),oh,new Y(null,2,5,Z,["state","number-of-skiers"],null)],null)],null),Rg,new Y(null,2,5,Z,[new v(null,2,[Qh,"line",Bh,new v(null,3,[Kh,new v(null,4,[eh,Lh,li,"quantitative",jh,"time",Nh,new v(null,1,[Hh,!1],null)],null),Jh,new v(null,3,[eh,"number-of-skiers",li,"quantitative",jh,"Number of skiers"],
null),mh,new v(null,1,[eh,"state"],null)],null)],null),new v(null,2,[Qh,new v(null,2,[li,"line",mh,"gray"],null),Bh,new v(null,2,[Kh,new v(null,2,[eh,Lh,li,"quantitative"],null),Jh,new v(null,2,[Zg,"sum",eh,"number-of-skiers"],null)],null)],null)],null)],null),Dk=new v(null,6,[bi,"https://vega.github.io/schema/vega-lite/v5.json",ih,"A simple bar chart with embedded data.",Vg,new v(null,1,[qh,ei],null),dh,new Y(null,1,5,Z,[new v(null,2,[Qg,new Y(null,3,5,Z,[Fh,Ph,ji],null),oh,new Y(null,2,5,Z,["state",
"number-of-skiers"],null)],null)],null),Qh,"bar",Bh,new v(null,3,[Kh,new v(null,4,[eh,Lh,li,"quantitative",jh,"time",Nh,new v(null,1,[Hh,!1],null)],null),Jh,new v(null,4,[eh,"number-of-skiers",li,"quantitative",nh,"normalize",jh,"Percentage of skiers"],null),mh,new v(null,1,[eh,"state"],null)],null)],null),Ek=lj.j(new v(null,1,[ei,new Y(null,1,5,Z,[uk],null)],null)),Fk=lj.j(new v(null,1,[gh,!0],null));
function Gk(){ce.B(Ek,function(a){var b=W.D,c=Jc.B,d=ei.j(a),e;a:for(e=ei.j(a);;){var f=O(e);if(null!=f)e=f;else{e=N(e);break a}}a:{f=e;e=Kg;var h=ii.j(f),k=new rk;h=J(h);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ea(null,n);k.enqueue(Lh.j(p),p);n+=1}else if(h=J(h))l=h,cd(l)?(h=Mb(l),n=Nb(l),l=h,m=R(h),h=n):(h=N(l),k.enqueue(Lh.j(h),h),h=O(l),l=null,m=0),n=0;else break;h=k.dequeue();if(x(h)){m=l=W.D;b:for(n=Kc;;){if(x(k.isEmpty()))break b;p=k.dequeue();n=Jc.B(n,p)}f=m.call(W,f,ii,n);e=e.B?e.B(f,h):
e.call(null,f,h);e=l.call(W,e,Lh,h.j?h.j(Lh):h.call(null,Lh))}else e=f;d=c.call(Jc,d,e);c=J(d);for(d=J(fe(200,d));;)if(d)c=O(c),d=O(d);else break a}return b.call(W,a,ei,He(c))})}function Hk(){return x(gh.j(F(Fk)))?new Y(null,3,5,Z,[Lg,new v(null,1,[kh,function(){return ce.T(Fk,W,gh,!1)}],null),"Pause"],null):new Y(null,3,5,Z,[Lg,new v(null,1,[kh,function(){return ce.T(Fk,W,gh,!0)}],null),"Resume"],null)}
function Ik(){return new Y(null,3,5,Z,[Vh,new v(null,2,[li,"reset",kh,function(){be(Ek,new v(null,1,[ei,new Y(null,1,5,Z,[uk],null)],null));return be(Fk,new v(null,1,[gh,!0],null))}],null),"Restart"],null)}
var Jk=new Y(null,1,5,Z,[function(){return new Y(null,4,5,Z,[vh,new Y(null,2,5,Z,[Xh,new Y(null,2,5,Z,[gi,"Skiers simulation"],null)],null),new Y(null,2,5,Z,[Xh,new Y(null,3,5,Z,[Ng,new Y(null,1,5,Z,[Hk],null),new Y(null,1,5,Z,[Ik],null)],null)],null),new Y(null,2,5,Z,[Xh,new Y(null,3,5,Z,[wh,new Y(null,2,5,Z,[ah,new Y(null,3,5,Z,[fh,ok.VegaLite,new v(null,3,[Yg,Ck,Vg,F(Ek),bh,!1],null)],null)],null),new Y(null,2,5,Z,[ah,new Y(null,3,5,Z,[fh,ok.VegaLite,new v(null,3,[Yg,Dk,Vg,F(Ek),bh,!1],null)],
null)],null)],null)],null)],null)}],null),Kk=document.getElementById("app");(function(a,b){oj();var c=Pc(kk)?new Y(null,2,5,Z,[kk,kk],null):new Y(null,2,5,Z,[kk,ni.j(kk)],null),d=V(c,0,null);c=V(c,1,null);nk(function(){return $i(d,Pc(a)?a.N?a.N():a.call(null):a)},b,c)})(Jk,Kk);(function Lk(){x(gh.j(F(Fk)))&&Gk();return setTimeout(Lk,100)})();
}).call(this);