var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&(c=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+c+"$"+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};
$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(f,g){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,e=function(f){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+d++,f)};return e},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.polyfill("Symbol.asyncIterator",function(a){return a?a:Symbol("Symbol.asyncIterator")},"es9","es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};
(function(){
shadow$provide[0]=function(Db,nb,Dc,Wa){function t(N){if(null===N||"object"!==typeof N)return null;N=sa&&N[sa]||N["@@iterator"];return"function"===typeof N?N:null}function h(N,na,oa){this.props=N;this.context=na;this.refs=Sa;this.updater=oa||ha}function ia(){}function Ya(N,na,oa){this.props=N;this.context=na;this.refs=Sa;this.updater=oa||ha}function ub(N,na,oa){var Na,la={},qa=null,l=null;if(null!=na)for(Na in void 0!==na.ref&&(l=na.ref),void 0!==na.key&&(qa=""+na.key),na)hb.call(na,Na)&&!qb.hasOwnProperty(Na)&&
(la[Na]=na[Na]);var D=arguments.length-2;if(1===D)la.children=oa;else if(1<D){for(var K=Array(D),x=0;x<D;x++)K[x]=arguments[x+2];la.children=K}if(N&&N.defaultProps)for(Na in D=N.defaultProps,D)void 0===la[Na]&&(la[Na]=D[Na]);return{$$typeof:Ea,type:N,key:qa,ref:l,props:la,_owner:Za.current}}function Yb(N,na){return{$$typeof:Ea,type:N.type,key:na,ref:N.ref,props:N.props,_owner:N._owner}}function dc(N){return"object"===typeof N&&null!==N&&N.$$typeof===Ea}function Wb(N){var na={"\x3d":"\x3d0",":":"\x3d2"};
return"$"+N.replace(/[=:]/g,function(oa){return na[oa]})}function nc(N,na){return"object"===typeof N&&null!==N&&null!=N.key?Wb(""+N.key):na.toString(36)}function Ab(N,na,oa,Na,la){var qa=typeof N;if("undefined"===qa||"boolean"===qa)N=null;var l=!1;if(null===N)l=!0;else switch(qa){case "string":case "number":l=!0;break;case "object":switch(N.$$typeof){case Ea:case bb:l=!0}}if(l)return l=N,la=la(l),N=""===Na?"."+nc(l,0):Na,Ia(la)?(oa="",null!=N&&(oa=N.replace(Nb,"$\x26/")+"/"),Ab(la,na,oa,"",function(x){return x})):
null!=la&&(dc(la)&&(la=Yb(la,oa+(!la.key||l&&l.key===la.key?"":(""+la.key).replace(Nb,"$\x26/")+"/")+N)),na.push(la)),1;l=0;Na=""===Na?".":Na+":";if(Ia(N))for(var D=0;D<N.length;D++){qa=N[D];var K=Na+nc(qa,D);l+=Ab(qa,na,oa,K,la)}else if(K=t(N),"function"===typeof K)for(N=K.call(N),D=0;!(qa=N.next()).done;)qa=qa.value,K=Na+nc(qa,D++),l+=Ab(qa,na,oa,K,la);else if("object"===qa)throw na=String(N),Error("Objects are not valid as a React child (found: "+("[object Object]"===na?"object with keys {"+Object.keys(N).join(", ")+
"}":na)+"). If you meant to render a collection of children, use an array instead.");return l}function Ub(N,na,oa){if(null==N)return N;var Na=[],la=0;Ab(N,Na,"","",function(qa){return na.call(oa,qa,la++)});return Na}function jc(N){if(-1===N._status){var na=N._result;na=na();na.then(function(oa){if(0===N._status||-1===N._status)N._status=1,N._result=oa},function(oa){if(0===N._status||-1===N._status)N._status=2,N._result=oa});-1===N._status&&(N._status=0,N._result=na)}if(1===N._status)return N._result.default;
throw N._result;}var Ea=Symbol.for("react.element"),bb=Symbol.for("react.portal");Db=Symbol.for("react.fragment");nb=Symbol.for("react.strict_mode");Dc=Symbol.for("react.profiler");var tb=Symbol.for("react.provider"),rb=Symbol.for("react.context"),pb=Symbol.for("react.forward_ref"),vb=Symbol.for("react.suspense"),gb=Symbol.for("react.memo"),fc=Symbol.for("react.lazy"),sa=Symbol.iterator,ha={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},
Ba=Object.assign,Sa={};h.prototype.isReactComponent={};h.prototype.setState=function(N,na){if("object"!==typeof N&&"function"!==typeof N&&null!=N)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,na,"setState")};h.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};ia.prototype=h.prototype;var Va=Ya.prototype=new ia;Va.constructor=Ya;Ba(Va,h.prototype);
Va.isPureReactComponent=!0;var Ia=Array.isArray,hb=Object.prototype.hasOwnProperty,Za={current:null},qb={key:!0,ref:!0,__self:!0,__source:!0},Nb=/\/+/g,$a={current:null},V={transition:null};Va={ReactCurrentDispatcher:$a,ReactCurrentBatchConfig:V,ReactCurrentOwner:Za};Wa.Children={map:Ub,forEach:function(N,na,oa){Ub(N,function(){na.apply(this,arguments)},oa)},count:function(N){var na=0;Ub(N,function(){na++});return na},toArray:function(N){return Ub(N,function(na){return na})||[]},only:function(N){if(!dc(N))throw Error("React.Children.only expected to receive a single React element child.");
return N}};Wa.Component=h;Wa.Fragment=Db;Wa.Profiler=Dc;Wa.PureComponent=Ya;Wa.StrictMode=nb;Wa.Suspense=vb;Wa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Va;Wa.cloneElement=function(N,na,oa){if(null===N||void 0===N)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var Na=Ba({},N.props),la=N.key,qa=N.ref,l=N._owner;if(null!=na){void 0!==na.ref&&(qa=na.ref,l=Za.current);void 0!==na.key&&(la=""+na.key);if(N.type&&N.type.defaultProps)var D=N.type.defaultProps;
for(K in na)hb.call(na,K)&&!qb.hasOwnProperty(K)&&(Na[K]=void 0===na[K]&&void 0!==D?D[K]:na[K])}var K=arguments.length-2;if(1===K)Na.children=oa;else if(1<K){D=Array(K);for(var x=0;x<K;x++)D[x]=arguments[x+2];Na.children=D}return{$$typeof:Ea,type:N.type,key:la,ref:qa,props:Na,_owner:l}};Wa.createContext=function(N){N={$$typeof:rb,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};N.Provider={$$typeof:tb,_context:N};return N.Consumer=N};
Wa.createElement=ub;Wa.createFactory=function(N){var na=ub.bind(null,N);na.type=N;return na};Wa.createRef=function(){return{current:null}};Wa.forwardRef=function(N){return{$$typeof:pb,render:N}};Wa.isValidElement=dc;Wa.lazy=function(N){return{$$typeof:fc,_payload:{_status:-1,_result:N},_init:jc}};Wa.memo=function(N,na){return{$$typeof:gb,type:N,compare:void 0===na?null:na}};Wa.startTransition=function(N){var na=V.transition;V.transition={};try{N()}finally{V.transition=na}};Wa.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.");
};Wa.useCallback=function(N,na){return $a.current.useCallback(N,na)};Wa.useContext=function(N){return $a.current.useContext(N)};Wa.useDebugValue=function(){};Wa.useDeferredValue=function(N){return $a.current.useDeferredValue(N)};Wa.useEffect=function(N,na){return $a.current.useEffect(N,na)};Wa.useId=function(){return $a.current.useId()};Wa.useImperativeHandle=function(N,na,oa){return $a.current.useImperativeHandle(N,na,oa)};Wa.useInsertionEffect=function(N,na){return $a.current.useInsertionEffect(N,
na)};Wa.useLayoutEffect=function(N,na){return $a.current.useLayoutEffect(N,na)};Wa.useMemo=function(N,na){return $a.current.useMemo(N,na)};Wa.useReducer=function(N,na,oa){return $a.current.useReducer(N,na,oa)};Wa.useRef=function(N){return $a.current.useRef(N)};Wa.useState=function(N){return $a.current.useState(N)};Wa.useSyncExternalStore=function(N,na,oa){return $a.current.useSyncExternalStore(N,na,oa)};Wa.useTransition=function(){return $a.current.useTransition()};Wa.version="18.2.0"};
shadow$provide[2]=function(Db,nb,Dc,Wa){Dc.exports=nb(0)};
shadow$provide[3]=function(Db,nb,Dc,Wa){function t(N,na){var oa=N.length;N.push(na);a:for(;0<oa;){var Na=oa-1>>>1,la=N[Na];if(0<Ya(la,na))N[Na]=na,N[oa]=la,oa=Na;else break a}}function h(N){return 0===N.length?null:N[0]}function ia(N){if(0===N.length)return null;var na=N[0],oa=N.pop();if(oa!==na){N[0]=oa;var Na=0,la=N.length,qa=la>>>1;a:for(;Na<qa;){var l=2*(Na+1)-1,D=N[l],K=l+1,x=N[K];if(0>Ya(D,oa))K<la&&0>Ya(x,D)?(N[Na]=x,N[K]=oa,Na=K):(N[Na]=D,N[l]=oa,Na=l);else if(K<la&&0>Ya(x,oa))N[Na]=x,N[K]=
oa,Na=K;else break a}}return na}function Ya(N,na){var oa=N.sortIndex-na.sortIndex;return 0!==oa?oa:N.id-na.id}function ub(N){for(var na=h(rb);null!==na;){if(null===na.callback)ia(rb);else if(na.startTime<=N)ia(rb),na.sortIndex=na.expirationTime,t(tb,na);else break;na=h(rb)}}function Yb(N){ha=!1;ub(N);if(!sa)if(null!==h(tb))sa=!0,Ab(dc);else{var na=h(rb);null!==na&&Ub(Yb,na.startTime-N)}}function dc(N,na){sa=!1;ha&&(ha=!1,Sa(Za),Za=-1);fc=!0;var oa=gb;try{ub(na);for(vb=h(tb);null!==vb&&(!(vb.expirationTime>
na)||N&&!Wb());){var Na=vb.callback;if("function"===typeof Na){vb.callback=null;gb=vb.priorityLevel;var la=Na(vb.expirationTime<=na);na=Wa.unstable_now();"function"===typeof la?vb.callback=la:vb===h(tb)&&ia(tb);ub(na)}else ia(tb);vb=h(tb)}if(null!==vb)var qa=!0;else{var l=h(rb);null!==l&&Ub(Yb,l.startTime-na);qa=!1}return qa}finally{vb=null,gb=oa,fc=!1}}function Wb(){return Wa.unstable_now()-Nb<qb?!1:!0}function nc(){if(null!==hb){var N=Wa.unstable_now();Nb=N;var na=!0;try{na=hb(!0,N)}finally{na?
$a():(Ia=!1,hb=null)}}else Ia=!1}function Ab(N){hb=N;Ia||(Ia=!0,$a())}function Ub(N,na){Za=Ba(function(){N(Wa.unstable_now())},na)}if("object"===typeof performance&&"function"===typeof performance.now){var jc=performance;Wa.unstable_now=function(){return jc.now()}}else{var Ea=Date,bb=Ea.now();Wa.unstable_now=function(){return Ea.now()-bb}}var tb=[],rb=[],pb=1,vb=null,gb=3,fc=!1,sa=!1,ha=!1,Ba="function"===typeof setTimeout?setTimeout:null,Sa="function"===typeof clearTimeout?clearTimeout:null,Va="undefined"!==
typeof setImmediate?setImmediate:null;"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var Ia=!1,hb=null,Za=-1,qb=5,Nb=-1;if("function"===typeof Va)var $a=function(){Va(nc)};else if("undefined"!==typeof MessageChannel){Db=new MessageChannel;var V=Db.port2;Db.port1.onmessage=nc;$a=function(){V.postMessage(null)}}else $a=function(){Ba(nc,0)};Wa.unstable_IdlePriority=5;Wa.unstable_ImmediatePriority=
1;Wa.unstable_LowPriority=4;Wa.unstable_NormalPriority=3;Wa.unstable_Profiling=null;Wa.unstable_UserBlockingPriority=2;Wa.unstable_cancelCallback=function(N){N.callback=null};Wa.unstable_continueExecution=function(){sa||fc||(sa=!0,Ab(dc))};Wa.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):qb=0<N?Math.floor(1E3/N):5};Wa.unstable_getCurrentPriorityLevel=function(){return gb};
Wa.unstable_getFirstCallbackNode=function(){return h(tb)};Wa.unstable_next=function(N){switch(gb){case 1:case 2:case 3:var na=3;break;default:na=gb}var oa=gb;gb=na;try{return N()}finally{gb=oa}};Wa.unstable_pauseExecution=function(){};Wa.unstable_requestPaint=function(){};Wa.unstable_runWithPriority=function(N,na){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var oa=gb;gb=N;try{return na()}finally{gb=oa}};Wa.unstable_scheduleCallback=function(N,na,oa){var Na=Wa.unstable_now();"object"===
typeof oa&&null!==oa?(oa=oa.delay,oa="number"===typeof oa&&0<oa?Na+oa:Na):oa=Na;switch(N){case 1:var la=-1;break;case 2:la=250;break;case 5:la=1073741823;break;case 4:la=1E4;break;default:la=5E3}la=oa+la;N={id:pb++,callback:na,priorityLevel:N,startTime:oa,expirationTime:la,sortIndex:-1};oa>Na?(N.sortIndex=oa,t(rb,N),null===h(tb)&&N===h(rb)&&(ha?(Sa(Za),Za=-1):ha=!0,Ub(Yb,oa-Na))):(N.sortIndex=la,t(tb,N),sa||fc||(sa=!0,Ab(dc)));return N};Wa.unstable_shouldYield=Wb;Wa.unstable_wrapCallback=function(N){var na=
gb;return function(){var oa=gb;gb=na;try{return N.apply(this,arguments)}finally{gb=oa}}}};
shadow$provide[5]=function(Db,nb,Dc,Wa){Dc.exports=nb(3)};
shadow$provide[6]=function(Db,nb,Dc,Wa){function t(c){for(var d="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+c,k=1;k<arguments.length;k++)d+="\x26args[]\x3d"+encodeURIComponent(arguments[k]);return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(c,d){ia(c,d);ia(c+"Capture",d)}function ia(c,d){Zh[c]=d;for(c=0;c<d.length;c++)ki.add(d[c])}function Ya(c){if(m.call(ka,c))return!0;
if(m.call(L,c))return!1;if(H.test(c))return ka[c]=!0;L[c]=!0;return!1}function ub(c,d,k,u){if(null!==k&&0===k.type)return!1;switch(typeof d){case "function":case "symbol":return!0;case "boolean":if(u)return!1;if(null!==k)return!k.acceptsBooleans;c=c.toLowerCase().slice(0,5);return"data-"!==c&&"aria-"!==c;default:return!1}}function Yb(c,d,k,u){if(null===d||"undefined"===typeof d||ub(c,d,k,u))return!0;if(u)return!1;if(null!==k)switch(k.type){case 3:return!d;case 4:return!1===d;case 5:return isNaN(d);
case 6:return isNaN(d)||1>d}return!1}function dc(c,d,k,u,R,ea,Ta){this.acceptsBooleans=2===d||3===d||4===d;this.attributeName=u;this.attributeNamespace=R;this.mustUseProperty=k;this.propertyName=c;this.type=d;this.sanitizeURL=ea;this.removeEmptyString=Ta}function Wb(c){return c[1].toUpperCase()}function nc(c,d,k,u){var R=Ra.hasOwnProperty(d)?Ra[d]:null;if(null!==R?0!==R.type:u||!(2<d.length)||"o"!==d[0]&&"O"!==d[0]||"n"!==d[1]&&"N"!==d[1])Yb(d,k,R,u)&&(k=null),u||null===R?Ya(d)&&(null===k?c.removeAttribute(d):
c.setAttribute(d,""+k)):R.mustUseProperty?c[R.propertyName]=null===k?3===R.type?!1:"":k:(d=R.attributeName,u=R.attributeNamespace,null===k?c.removeAttribute(d):(R=R.type,k=3===R||4===R&&!0===k?"":""+k,u?c.setAttributeNS(u,d,k):c.setAttribute(d,k)))}function Ab(c){if(null===c||"object"!==typeof c)return null;c=Ug&&c[Ug]||c["@@iterator"];return"function"===typeof c?c:null}function Ub(c){if(void 0===ze)try{throw Error();}catch(k){var d=k.stack.trim().match(/\n( *(at )?)/);ze=d&&d[1]||""}return"\n"+ze+
c}function jc(c,d){if(!c||Mf)return"";Mf=!0;var k=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error();},Object.defineProperty(d.prototype,"props",{set:function(){throw Error();}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(d,[])}catch(Vc){var u=Vc}Reflect.construct(c,[],d)}else{try{d.call()}catch(Vc){u=Vc}c.call(d.prototype)}else{try{throw Error();}catch(Vc){u=Vc}c()}}catch(Vc){if(Vc&&u&&"string"===typeof Vc.stack){for(var R=Vc.stack.split("\n"),
ea=u.stack.split("\n"),Ta=R.length-1,Tb=ea.length-1;1<=Ta&&0<=Tb&&R[Ta]!==ea[Tb];)Tb--;for(;1<=Ta&&0<=Tb;Ta--,Tb--)if(R[Ta]!==ea[Tb]){if(1!==Ta||1!==Tb){do if(Ta--,Tb--,0>Tb||R[Ta]!==ea[Tb]){var oc="\n"+R[Ta].replace(" at new "," at ");c.displayName&&oc.includes("\x3canonymous\x3e")&&(oc=oc.replace("\x3canonymous\x3e",c.displayName));return oc}while(1<=Ta&&0<=Tb)}break}}}finally{Mf=!1,Error.prepareStackTrace=k}return(c=c?c.displayName||c.name:"")?Ub(c):""}function Ea(c){switch(c.tag){case 5:return Ub(c.type);
case 16:return Ub("Lazy");case 13:return Ub("Suspense");case 19:return Ub("SuspenseList");case 0:case 2:case 15:return c=jc(c.type,!1),c;case 11:return c=jc(c.type.render,!1),c;case 1:return c=jc(c.type,!0),c;default:return""}}function bb(c){if(null==c)return null;if("function"===typeof c)return c.displayName||c.name||null;if("string"===typeof c)return c;switch(c){case ad:return"Fragment";case tc:return"Portal";case Bc:return"Profiler";case od:return"StrictMode";case Td:return"Suspense";case Ye:return"SuspenseList"}if("object"===
typeof c)switch(c.$$typeof){case be:return(c.displayName||"Context")+".Consumer";case Dd:return(c._context.displayName||"Context")+".Provider";case Ae:var d=c.render;(c=c.displayName)||(c=d.displayName||d.name||"",c=""!==c?"ForwardRef("+c+")":"ForwardRef");return c;case Nf:return d=c.displayName||null,null!==d?d:bb(c.type)||"Memo";case Af:d=c._payload;c=c._init;try{return bb(c(d))}catch(k){}}return null}function tb(c){var d=c.type;switch(c.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+
".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=d.render,c=c.displayName||c.name||"",d.displayName||(""!==c?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bb(d);case 8:return d===od?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";
case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof d)return d.displayName||d.name||null;if("string"===typeof d)return d}return null}function rb(c){switch(typeof c){case "boolean":case "number":case "string":case "undefined":return c;case "object":return c;default:return""}}function pb(c){var d=c.type;return(c=c.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===d||"radio"===d)}function vb(c){var d=pb(c)?"checked":"value",k=Object.getOwnPropertyDescriptor(c.constructor.prototype,
d),u=""+c[d];if(!c.hasOwnProperty(d)&&"undefined"!==typeof k&&"function"===typeof k.get&&"function"===typeof k.set){var R=k.get,ea=k.set;Object.defineProperty(c,d,{configurable:!0,get:function(){return R.call(this)},set:function(Ta){u=""+Ta;ea.call(this,Ta)}});Object.defineProperty(c,d,{enumerable:k.enumerable});return{getValue:function(){return u},setValue:function(Ta){u=""+Ta},stopTracking:function(){c._valueTracker=null;delete c[d]}}}}function gb(c){c._valueTracker||(c._valueTracker=vb(c))}function fc(c){if(!c)return!1;
var d=c._valueTracker;if(!d)return!0;var k=d.getValue(),u="";c&&(u=pb(c)?c.checked?"true":"false":c.value);c=u;return c!==k?(d.setValue(c),!0):!1}function sa(c){c=c||("undefined"!==typeof document?document:void 0);if("undefined"===typeof c)return null;try{return c.activeElement||c.body}catch(d){return c.body}}function ha(c,d){var k=d.checked;return He({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=k?k:c._wrapperState.initialChecked})}function Ba(c,d){var k=null==d.defaultValue?
"":d.defaultValue,u=null!=d.checked?d.checked:d.defaultChecked;k=rb(null!=d.value?d.value:k);c._wrapperState={initialChecked:u,initialValue:k,controlled:"checkbox"===d.type||"radio"===d.type?null!=d.checked:null!=d.value}}function Sa(c,d){d=d.checked;null!=d&&nc(c,"checked",d,!1)}function Va(c,d){Sa(c,d);var k=rb(d.value),u=d.type;if(null!=k)if("number"===u){if(0===k&&""===c.value||c.value!=k)c.value=""+k}else c.value!==""+k&&(c.value=""+k);else if("submit"===u||"reset"===u){c.removeAttribute("value");
return}d.hasOwnProperty("value")?hb(c,d.type,k):d.hasOwnProperty("defaultValue")&&hb(c,d.type,rb(d.defaultValue));null==d.checked&&null!=d.defaultChecked&&(c.defaultChecked=!!d.defaultChecked)}function Ia(c,d,k){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var u=d.type;if(!("submit"!==u&&"reset"!==u||void 0!==d.value&&null!==d.value))return;d=""+c._wrapperState.initialValue;k||d===c.value||(c.value=d);c.defaultValue=d}k=c.name;""!==k&&(c.name="");c.defaultChecked=!!c._wrapperState.initialChecked;
""!==k&&(c.name=k)}function hb(c,d,k){if("number"!==d||sa(c.ownerDocument)!==c)null==k?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+k&&(c.defaultValue=""+k)}function Za(c,d,k,u){c=c.options;if(d){d={};for(var R=0;R<k.length;R++)d["$"+k[R]]=!0;for(k=0;k<c.length;k++)R=d.hasOwnProperty("$"+c[k].value),c[k].selected!==R&&(c[k].selected=R),R&&u&&(c[k].defaultSelected=!0)}else{k=""+rb(k);d=null;for(R=0;R<c.length;R++){if(c[R].value===k){c[R].selected=!0;u&&(c[R].defaultSelected=!0);
return}null!==d||c[R].disabled||(d=c[R])}null!==d&&(d.selected=!0)}}function qb(c,d){if(null!=d.dangerouslySetInnerHTML)throw Error(t(91));return He({},d,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function Nb(c,d){var k=d.value;if(null==k){k=d.children;d=d.defaultValue;if(null!=k){if(null!=d)throw Error(t(92));if(Ch(k)){if(1<k.length)throw Error(t(93));k=k[0]}d=k}null==d&&(d="");k=d}c._wrapperState={initialValue:rb(k)}}function $a(c,d){var k=rb(d.value),u=rb(d.defaultValue);
null!=k&&(k=""+k,k!==c.value&&(c.value=k),null==d.defaultValue&&c.defaultValue!==k&&(c.defaultValue=k));null!=u&&(c.defaultValue=""+u)}function V(c){var d=c.textContent;d===c._wrapperState.initialValue&&""!==d&&null!==d&&(c.value=d)}function N(c){switch(c){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function na(c,d){return null==c||"http://www.w3.org/1999/xhtml"===c?N(d):"http://www.w3.org/2000/svg"===
c&&"foreignObject"===d?"http://www.w3.org/1999/xhtml":c}function oa(c,d){if(d){var k=c.firstChild;if(k&&k===c.lastChild&&3===k.nodeType){k.nodeValue=d;return}}c.textContent=d}function Na(c,d,k){return null==d||"boolean"===typeof d||""===d?"":k||"number"!==typeof d||0===d||ee.hasOwnProperty(c)&&ee[c]?(""+d).trim():d+"px"}function la(c,d){c=c.style;for(var k in d)if(d.hasOwnProperty(k)){var u=0===k.indexOf("--"),R=Na(k,d[k],u);"float"===k&&(k="cssFloat");u?c.setProperty(k,R):c[k]=R}}function qa(c,d){if(d){if(wf[c]&&
(null!=d.children||null!=d.dangerouslySetInnerHTML))throw Error(t(137,c));if(null!=d.dangerouslySetInnerHTML){if(null!=d.children)throw Error(t(60));if("object"!==typeof d.dangerouslySetInnerHTML||!("__html"in d.dangerouslySetInnerHTML))throw Error(t(61));}if(null!=d.style&&"object"!==typeof d.style)throw Error(t(62));}}function l(c,d){if(-1===c.indexOf("-"))return"string"===typeof d.is;switch(c){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;
default:return!0}}function D(c){c=c.target||c.srcElement||window;c.correspondingUseElement&&(c=c.correspondingUseElement);return 3===c.nodeType?c.parentNode:c}function K(c){if(c=Oc(c)){if("function"!==typeof Bf)throw Error(t(280));var d=c.stateNode;d&&(d=Md(d),Bf(c.stateNode,c.type,d))}}function x(c){Of?Mg?Mg.push(c):Mg=[c]:Of=c}function U(){if(Of){var c=Of,d=Mg;Mg=Of=null;K(c);if(d)for(c=0;c<d.length;c++)K(d[c])}}function A(c,d){return c(d)}function X(){}function G(c,d,k){if(sh)return c(d,k);sh=
!0;try{return A(c,d,k)}finally{if(sh=!1,null!==Of||null!==Mg)X(),U()}}function v(c,d){var k=c.stateNode;if(null===k)return null;var u=Md(k);if(null===u)return null;k=u[d];a:switch(d){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(u=!u.disabled)||(c=c.type,u=!("button"===c||"input"===c||"select"===c||"textarea"===
c));c=!u;break a;default:c=!1}if(c)return null;if(k&&"function"!==typeof k)throw Error(t(231,d,typeof k));return k}function z(c,d,k,u,R,ea,Ta,Tb,oc){var Vc=Array.prototype.slice.call(arguments,3);try{d.apply(k,Vc)}catch(yd){this.onError(yd)}}function F(c,d,k,u,R,ea,Ta,Tb,oc){ch=!1;Aj=null;z.apply(Nl,arguments)}function W(c,d,k,u,R,ea,Ta,Tb,oc){F.apply(this,arguments);if(ch){if(ch){var Vc=Aj;ch=!1;Aj=null}else throw Error(t(198));Bj||(Bj=!0,Tj=Vc)}}function ta(c){var d=c,k=c;if(c.alternate)for(;d.return;)d=
d.return;else{c=d;do d=c,0!==(d.flags&4098)&&(k=d.return),c=d.return;while(c)}return 3===d.tag?k:null}function O(c){if(13===c.tag){var d=c.memoizedState;null===d&&(c=c.alternate,null!==c&&(d=c.memoizedState));if(null!==d)return d.dehydrated}return null}function ja(c){if(ta(c)!==c)throw Error(t(188));}function va(c){var d=c.alternate;if(!d){d=ta(c);if(null===d)throw Error(t(188));return d!==c?null:c}for(var k=c,u=d;;){var R=k.return;if(null===R)break;var ea=R.alternate;if(null===ea){u=R.return;if(null!==
u){k=u;continue}break}if(R.child===ea.child){for(ea=R.child;ea;){if(ea===k)return ja(R),c;if(ea===u)return ja(R),d;ea=ea.sibling}throw Error(t(188));}if(k.return!==u.return)k=R,u=ea;else{for(var Ta=!1,Tb=R.child;Tb;){if(Tb===k){Ta=!0;k=R;u=ea;break}if(Tb===u){Ta=!0;u=R;k=ea;break}Tb=Tb.sibling}if(!Ta){for(Tb=ea.child;Tb;){if(Tb===k){Ta=!0;k=ea;u=R;break}if(Tb===u){Ta=!0;u=ea;k=R;break}Tb=Tb.sibling}if(!Ta)throw Error(t(189));}}if(k.alternate!==u)throw Error(t(190));}if(3!==k.tag)throw Error(t(188));
return k.stateNode.current===k?c:d}function Ma(c){c=va(c);return null!==c?Pa(c):null}function Pa(c){if(5===c.tag||6===c.tag)return c;for(c=c.child;null!==c;){var d=Pa(c);if(null!==d)return d;c=c.sibling}return null}function Xa(c){if($h&&"function"===typeof $h.onCommitFiberRoot)try{$h.onCommitFiberRoot(Cj,c,void 0,128===(c.current.flags&128))}catch(d){}}function sb(c){c>>>=0;return 0===c?32:31-(il(c)/Ol|0)|0}function ib(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;
case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Sb(c,d){var k=c.pendingLanes;if(0===
k)return 0;var u=0,R=c.suspendedLanes,ea=c.pingedLanes,Ta=k&268435455;if(0!==Ta){var Tb=Ta&~R;0!==Tb?u=ib(Tb):(ea&=Ta,0!==ea&&(u=ib(ea)))}else Ta=k&~R,0!==Ta?u=ib(Ta):0!==ea&&(u=ib(ea));if(0===u)return 0;if(0!==d&&d!==u&&0===(d&R)&&(R=u&-u,ea=d&-d,R>=ea||16===R&&0!==(ea&4194240)))return d;0!==(u&4)&&(u|=k&16);d=c.entangledLanes;if(0!==d)for(c=c.entanglements,d&=u;0<d;)k=31-Oh(d),R=1<<k,u|=c[k],d&=~R;return u}function Y(c,d){switch(c){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+
5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fa(c,d){for(var k=c.suspendedLanes,u=c.pingedLanes,R=c.expirationTimes,ea=c.pendingLanes;0<ea;){var Ta=31-Oh(ea),Tb=1<<Ta,oc=R[Ta];if(-1===oc){if(0===(Tb&k)||0!==(Tb&u))R[Ta]=Y(Tb,d)}else oc<=d&&(c.expiredLanes|=Tb);ea&=~Tb}}function Kb(c){c=c.pendingLanes&-1073741825;return 0!==c?c:c&1073741824?1073741824:0}function pc(){var c=
Dj;Dj<<=1;0===(Dj&4194240)&&(Dj=64);return c}function ac(c){for(var d=[],k=0;31>k;k++)d.push(c);return d}function Mb(c,d,k){c.pendingLanes|=d;536870912!==d&&(c.suspendedLanes=0,c.pingedLanes=0);c=c.eventTimes;d=31-Oh(d);c[d]=k}function Ob(c,d){var k=c.pendingLanes&~d;c.pendingLanes=d;c.suspendedLanes=0;c.pingedLanes=0;c.expiredLanes&=d;c.mutableReadLanes&=d;c.entangledLanes&=d;d=c.entanglements;var u=c.eventTimes;for(c=c.expirationTimes;0<k;){var R=31-Oh(k),ea=1<<R;d[R]=0;u[R]=-1;c[R]=-1;k&=~ea}}
function xc(c,d){var k=c.entangledLanes|=d;for(c=c.entanglements;k;){var u=31-Oh(k),R=1<<u;R&d|c[u]&d&&(c[u]|=d);k&=~R}}function hd(c){c&=-c;return 1<c?4<c?0!==(c&268435455)?16:536870912:4:1}function ra(c,d){switch(c){case "focusin":case "focusout":Bi=null;break;case "dragenter":case "dragleave":li=null;break;case "mouseover":case "mouseout":Ci=null;break;case "pointerover":case "pointerout":ej.delete(d.pointerId);break;case "gotpointercapture":case "lostpointercapture":fj.delete(d.pointerId)}}function Bb(c,
d,k,u,R,ea){if(null===c||c.nativeEvent!==ea)return c={blockedOn:d,domEventName:k,eventSystemFlags:u,nativeEvent:ea,targetContainers:[R]},null!==d&&(d=Oc(d),null!==d&&jl(d)),c;c.eventSystemFlags|=u;d=c.targetContainers;null!==R&&-1===d.indexOf(R)&&d.push(R);return c}function Ua(c,d,k,u,R){switch(d){case "focusin":return Bi=Bb(Bi,c,d,k,u,R),!0;case "dragenter":return li=Bb(li,c,d,k,u,R),!0;case "mouseover":return Ci=Bb(Ci,c,d,k,u,R),!0;case "pointerover":var ea=R.pointerId;ej.set(ea,Bb(ej.get(ea)||
null,c,d,k,u,R));return!0;case "gotpointercapture":return ea=R.pointerId,fj.set(ea,Bb(fj.get(ea)||null,c,d,k,u,R)),!0}return!1}function xb(c){var d=cd(c.target);if(null!==d){var k=ta(d);if(null!==k)if(d=k.tag,13===d){if(d=O(k),null!==d){c.blockedOn=d;Pl(c.priority,function(){kl(k)});return}}else if(3===d&&k.stateNode.current.memoizedState.isDehydrated){c.blockedOn=3===k.tag?k.stateNode.containerInfo:null;return}}c.blockedOn=null}function Fb(c){if(null!==c.blockedOn)return!1;for(var d=c.targetContainers;0<
d.length;){var k=Ha(c.domEventName,c.eventSystemFlags,d[0],c.nativeEvent);if(null===k){k=c.nativeEvent;var u=new k.constructor(k.type,k);Vf=u;k.target.dispatchEvent(u);Vf=null}else return d=Oc(k),null!==d&&jl(d),c.blockedOn=k,!1;d.shift()}return!0}function Lb(c,d,k){Fb(c)&&k.delete(d)}function Zb(){Uj=!1;null!==Bi&&Fb(Bi)&&(Bi=null);null!==li&&Fb(li)&&(li=null);null!==Ci&&Fb(Ci)&&(Ci=null);ej.forEach(Lb);fj.forEach(Lb)}function ic(c,d){c.blockedOn===d&&(c.blockedOn=null,Uj||(Uj=!0,zg.unstable_scheduleCallback(zg.unstable_NormalPriority,
Zb)))}function Ac(c){function d(R){return ic(R,c)}if(0<Vj.length){ic(Vj[0],c);for(var k=1;k<Vj.length;k++){var u=Vj[k];u.blockedOn===c&&(u.blockedOn=null)}}null!==Bi&&ic(Bi,c);null!==li&&ic(li,c);null!==Ci&&ic(Ci,c);ej.forEach(d);fj.forEach(d);for(k=0;k<mi.length;k++)u=mi[k],u.blockedOn===c&&(u.blockedOn=null);for(;0<mi.length&&(k=mi[0],null===k.blockedOn);)xb(k),null===k.blockedOn&&mi.shift()}function nd(c,d,k,u){var R=xf,ea=gj.transition;gj.transition=null;try{xf=1,ma(c,d,k,u)}finally{xf=R,gj.transition=
ea}}function Uc(c,d,k,u){var R=xf,ea=gj.transition;gj.transition=null;try{xf=4,ma(c,d,k,u)}finally{xf=R,gj.transition=ea}}function ma(c,d,k,u){if(Wj){var R=Ha(c,d,k,u);if(null===R)Ie(c,d,u,Xj,k),ra(c,u);else if(Ua(R,c,d,k,u))u.stopPropagation();else if(ra(c,u),d&4&&-1<ll.indexOf(c)){for(;null!==R;){var ea=Oc(R);null!==ea&&ml(ea);ea=Ha(c,d,k,u);null===ea&&Ie(c,d,u,Xj,k);if(ea===R)break;R=ea}null!==R&&u.stopPropagation()}else Ie(c,d,u,null,k)}}function Ha(c,d,k,u){Xj=null;c=D(u);c=cd(c);if(null!==c)if(d=
ta(c),null===d)c=null;else if(k=d.tag,13===k){c=O(d);if(null!==c)return c;c=null}else if(3===k){if(d.stateNode.current.memoizedState.isDehydrated)return 3===d.tag?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null);Xj=c;return null}function fb(c){switch(c){case "cancel":case "click":case "close":case "contextmenu":case "copy":case "cut":case "auxclick":case "dblclick":case "dragend":case "dragstart":case "drop":case "focusin":case "focusout":case "input":case "invalid":case "keydown":case "keypress":case "keyup":case "mousedown":case "mouseup":case "paste":case "pause":case "play":case "pointercancel":case "pointerdown":case "pointerup":case "ratechange":case "reset":case "resize":case "seeked":case "submit":case "touchcancel":case "touchend":case "touchstart":case "volumechange":case "change":case "selectionchange":case "textInput":case "compositionstart":case "compositionend":case "compositionupdate":case "beforeblur":case "afterblur":case "beforeinput":case "blur":case "fullscreenchange":case "focus":case "hashchange":case "popstate":case "select":case "selectstart":return 1;
case "drag":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "mousemove":case "mouseout":case "mouseover":case "pointermove":case "pointerout":case "pointerover":case "scroll":case "toggle":case "touchmove":case "wheel":case "mouseenter":case "mouseleave":case "pointerenter":case "pointerleave":return 4;case "message":switch(Bk()){case Ck:return 1;case Yj:return 4;case Si:case nl:return 16;case Dk:return 536870912;default:return 16}default:return 16}}function S(){if(Zj)return Zj;
var c,d=Ek,k=d.length,u,R="value"in Di?Di.value:Di.textContent,ea=R.length;for(c=0;c<k&&d[c]===R[c];c++);var Ta=k-c;for(u=1;u<=Ta&&d[k-u]===R[ea-u];u++);return Zj=R.slice(c,1<u?1-u:void 0)}function r(c){var d=c.keyCode;"charCode"in c?(c=c.charCode,0===c&&13===d&&(c=13)):c=d;10===c&&(c=13);return 32<=c||13===c?c:0}function da(){return!0}function za(){return!1}function Da(c){function d(k,u,R,ea,Ta){this._reactName=k;this._targetInst=R;this.type=u;this.nativeEvent=ea;this.target=Ta;this.currentTarget=
null;for(var Tb in c)c.hasOwnProperty(Tb)&&(k=c[Tb],this[Tb]=k?k(ea):ea[Tb]);this.isDefaultPrevented=(null!=ea.defaultPrevented?ea.defaultPrevented:!1===ea.returnValue)?da:za;this.isPropagationStopped=za;return this}He(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var k=this.nativeEvent;k&&(k.preventDefault?k.preventDefault():"unknown"!==typeof k.returnValue&&(k.returnValue=!1),this.isDefaultPrevented=da)},stopPropagation:function(){var k=this.nativeEvent;k&&(k.stopPropagation?k.stopPropagation():
"unknown"!==typeof k.cancelBubble&&(k.cancelBubble=!0),this.isPropagationStopped=da)},persist:function(){},isPersistent:da});return d}function Oa(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=Ql[c])?!!d[c]:!1}function kb(){return Oa}function Vb(c,d){switch(c){case "keyup":return-1!==Ee.indexOf(d.keyCode);case "keydown":return 229!==d.keyCode;case "keypress":case "mousedown":case "focusout":return!0;default:return!1}}function Eb(c){c=c.detail;return"object"===typeof c&&
"data"in c?c.data:null}function Hb(c,d){switch(c){case "compositionend":return Eb(d);case "keypress":if(32!==d.which)return null;ak=!0;return Fk;case "textInput":return c=d.data,c===Fk&&ak?null:c;default:return null}}function Cc(c,d){if(ni)return"compositionend"===c||!ud&&Vb(c,d)?(c=S(),Zj=Ek=Di=null,ni=!1,c):null;switch(c){case "paste":return null;case "keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;
case "compositionend":return Gk&&"ko"!==d.locale?null:d.data;default:return null}}function Hc(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return"input"===d?!!Rl[c.type]:"textarea"===d?!0:!1}function Nc(c,d,k,u){x(u);d=uf(d,"onChange");0<d.length&&(k=new Pf("onChange","change",null,k,u),c.push({event:k,listeners:d}))}function xd(c){Gd(c,0)}function sd(c){var d=Nd(c);if(fc(d))return c}function ed(c,d){if("change"===c)return d}function Jd(){Ti&&(Ti.detachEvent("onpropertychange",Hd),hj=Ti=null)}
function Hd(c){if("value"===c.propertyName&&sd(hj)){var d=[];Nc(d,hj,c,D(c));G(xd,d)}}function vd(c,d,k){"focusin"===c?(Jd(),Ti=d,hj=k,Ti.attachEvent("onpropertychange",Hd)):"focusout"===c&&Jd()}function we(c){if("selectionchange"===c||"keyup"===c||"keydown"===c)return sd(hj)}function Ed(c,d){if("click"===c)return sd(d)}function w(c,d){if("input"===c||"change"===c)return sd(d)}function I(c,d){return c===d&&(0!==c||1/c===1/d)||c!==c&&d!==d}function wa(c,d){if(Ph(c,d))return!0;if("object"!==typeof c||
null===c||"object"!==typeof d||null===d)return!1;var k=Object.keys(c),u=Object.keys(d);if(k.length!==u.length)return!1;for(u=0;u<k.length;u++){var R=k[u];if(!m.call(d,R)||!Ph(c[R],d[R]))return!1}return!0}function Ja(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function jb(c,d){var k=Ja(c);c=0;for(var u;k;){if(3===k.nodeType){u=c+k.textContent.length;if(c<=d&&u>=d)return{node:k,offset:d-c};c=u}a:{for(;k;){if(k.nextSibling){k=k.nextSibling;break a}k=k.parentNode}k=void 0}k=Ja(k)}}function wb(c,
d){return c&&d?c===d?!0:c&&3===c.nodeType?!1:d&&3===d.nodeType?wb(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function ec(){for(var c=window,d=sa();d instanceof c.HTMLIFrameElement;){try{var k="string"===typeof d.contentWindow.location.href}catch(u){k=!1}if(k)c=d.contentWindow;else break;d=sa(c.document)}return d}function Qb(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&("input"===d&&("text"===c.type||"search"===c.type||
"tel"===c.type||"url"===c.type||"password"===c.type)||"textarea"===d||"true"===c.contentEditable)}function qc(c){var d=ec(),k=c.focusedElem,u=c.selectionRange;if(d!==k&&k&&k.ownerDocument&&wb(k.ownerDocument.documentElement,k)){if(null!==u&&Qb(k))if(d=u.start,c=u.end,void 0===c&&(c=d),"selectionStart"in k)k.selectionStart=d,k.selectionEnd=Math.min(c,k.value.length);else if(c=(d=k.ownerDocument||document)&&d.defaultView||window,c.getSelection){c=c.getSelection();var R=k.textContent.length,ea=Math.min(u.start,
R);u=void 0===u.end?ea:Math.min(u.end,R);!c.extend&&ea>u&&(R=u,u=ea,ea=R);R=jb(k,ea);var Ta=jb(k,u);R&&Ta&&(1!==c.rangeCount||c.anchorNode!==R.node||c.anchorOffset!==R.offset||c.focusNode!==Ta.node||c.focusOffset!==Ta.offset)&&(d=d.createRange(),d.setStart(R.node,R.offset),c.removeAllRanges(),ea>u?(c.addRange(d),c.extend(Ta.node,Ta.offset)):(d.setEnd(Ta.node,Ta.offset),c.addRange(d)))}d=[];for(c=k;c=c.parentNode;)1===c.nodeType&&d.push({element:c,left:c.scrollLeft,top:c.scrollTop});"function"===typeof k.focus&&
k.focus();for(k=0;k<d.length;k++)c=d[k],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}function Fc(c,d,k){var u=k.window===k?k.document:9===k.nodeType?k:k.ownerDocument;Ng||null==ij||ij!==sa(u)||(u=ij,"selectionStart"in u&&Qb(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ej&&wa(Ej,u)||(Ej=u,u=uf(Hk,"onSelect"),
0<u.length&&(d=new Pf("onSelect","select",null,d,k),c.push({event:d,listeners:u}),d.target=ij)))}function zc(c,d){var k={};k[c.toLowerCase()]=d.toLowerCase();k["Webkit"+c]="webkit"+d;k["Moz"+c]="moz"+d;return k}function bd(c){if(Ik[c])return Ik[c];if(!Ei[c])return c;var d=Ei[c],k;for(k in d)if(d.hasOwnProperty(k)&&k in bk)return Ik[c]=d[k];return c}function md(c,d){ai.set(c,d);h(d,[c])}function qd(c,d,k){var u=c.type||"unknown-event";c.currentTarget=k;W(u,d,void 0,c);c.currentTarget=null}function Gd(c,
d){d=0!==(d&4);for(var k=0;k<c.length;k++){var u=c[k],R=u.event;u=u.listeners;a:{var ea=void 0;if(d)for(var Ta=u.length-1;0<=Ta;Ta--){var Tb=u[Ta],oc=Tb.instance,Vc=Tb.currentTarget;Tb=Tb.listener;if(oc!==ea&&R.isPropagationStopped())break a;qd(R,Tb,Vc);ea=oc}else for(Ta=0;Ta<u.length;Ta++){Tb=u[Ta];oc=Tb.instance;Vc=Tb.currentTarget;Tb=Tb.listener;if(oc!==ea&&R.isPropagationStopped())break a;qd(R,Tb,Vc);ea=oc}}}if(Bj)throw c=Tj,Bj=!1,Tj=null,c;}function kd(c,d){var k=d[Jk];void 0===k&&(k=d[Jk]=new Set);
var u=c+"__bubble";k.has(u)||(Ne(d,c,2,!1),k.add(u))}function Od(c,d,k){var u=0;d&&(u|=4);Ne(k,c,u,d)}function he(c){if(!c[ck]){c[ck]=!0;ki.forEach(function(k){"selectionchange"!==k&&(Sl.has(k)||Od(k,!1,c),Od(k,!0,c))});var d=9===c.nodeType?c:c.ownerDocument;null===d||d[ck]||(d[ck]=!0,Od("selectionchange",!1,d))}}function Ne(c,d,k,u){switch(fb(d)){case 1:var R=nd;break;case 4:R=Uc;break;default:R=ma}k=R.bind(null,d,k,c);R=void 0;!dk||"touchstart"!==d&&"touchmove"!==d&&"wheel"!==d||(R=!0);u?void 0!==
R?c.addEventListener(d,k,{capture:!0,passive:R}):c.addEventListener(d,k,!0):void 0!==R?c.addEventListener(d,k,{passive:R}):c.addEventListener(d,k,!1)}function Ie(c,d,k,u,R){var ea=u;if(0===(d&1)&&0===(d&2)&&null!==u)a:for(;;){if(null===u)return;var Ta=u.tag;if(3===Ta||4===Ta){var Tb=u.stateNode.containerInfo;if(Tb===R||8===Tb.nodeType&&Tb.parentNode===R)break;if(4===Ta)for(Ta=u.return;null!==Ta;){var oc=Ta.tag;if(3===oc||4===oc)if(oc=Ta.stateNode.containerInfo,oc===R||8===oc.nodeType&&oc.parentNode===
R)return;Ta=Ta.return}for(;null!==Tb;){Ta=cd(Tb);if(null===Ta)return;oc=Ta.tag;if(5===oc||6===oc){u=ea=Ta;continue a}Tb=Tb.parentNode}}u=u.return}G(function(){var Vc=ea,yd=D(k),Bd=[];a:{var wd=ai.get(c);if(void 0!==wd){var Vd=Pf,ge=c;switch(c){case "keypress":if(0===r(k))break a;case "keydown":case "keyup":Vd=Tl;break;case "focusin":ge="focus";Vd=Kk;break;case "focusout":ge="blur";Vd=Kk;break;case "beforeblur":case "afterblur":Vd=Kk;break;case "click":if(2===k.button)break a;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":Vd=
Lk;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":Vd=Mk;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":Vd=Ul;break;case Qh:case ek:case ol:Vd=pl;break;case Ui:Vd=Nk;break;case "scroll":Vd=Ok;break;case "wheel":Vd=Vl;break;case "copy":case "cut":case "paste":Vd=fk;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":Vd=
ql}var ke=0!==(d&4),cg=!ke&&"scroll"===c,Gc=ke?null!==wd?wd+"Capture":null:wd;ke=[];for(var uc=Vc,Qc;null!==uc;){Qc=uc;var Fd=Qc.stateNode;5===Qc.tag&&null!==Fd&&(Qc=Fd,null!==Gc&&(Fd=v(uc,Gc),null!=Fd&&ke.push(Fe(uc,Fd,Qc))));if(cg)break;uc=uc.return}0<ke.length&&(wd=new Vd(wd,ge,null,k,yd),Bd.push({event:wd,listeners:ke}))}}if(0===(d&7)){wd="mouseover"===c||"pointerover"===c;Vd="mouseout"===c||"pointerout"===c;if(!wd||k===Vf||!(ge=k.relatedTarget||k.fromElement)||!cd(ge)&&!ge[bi])if(Vd||wd){wd=
yd.window===yd?yd:(wd=yd.ownerDocument)?wd.defaultView||wd.parentWindow:window;if(Vd){if(ge=k.relatedTarget||k.toElement,Vd=Vc,ge=ge?cd(ge):null,null!==ge&&(cg=ta(ge),ge!==cg||5!==ge.tag&&6!==ge.tag))ge=null}else Vd=null,ge=Vc;if(Vd!==ge){ke=Lk;Fd="onMouseLeave";Gc="onMouseEnter";uc="mouse";if("pointerout"===c||"pointerover"===c)ke=ql,Fd="onPointerLeave",Gc="onPointerEnter",uc="pointer";cg=null==Vd?wd:Nd(Vd);Qc=null==ge?wd:Nd(ge);wd=new ke(Fd,uc+"leave",Vd,k,yd);wd.target=cg;wd.relatedTarget=Qc;Fd=
null;cd(yd)===Vc&&(ke=new ke(Gc,uc+"enter",ge,k,yd),ke.target=Qc,ke.relatedTarget=cg,Fd=ke);cg=Fd;if(Vd&&ge)b:{ke=Vd;Gc=ge;uc=0;for(Qc=ke;Qc;Qc=gf(Qc))uc++;Qc=0;for(Fd=Gc;Fd;Fd=gf(Fd))Qc++;for(;0<uc-Qc;)ke=gf(ke),uc--;for(;0<Qc-uc;)Gc=gf(Gc),Qc--;for(;uc--;){if(ke===Gc||null!==Gc&&ke===Gc.alternate)break b;ke=gf(ke);Gc=gf(Gc)}ke=null}else ke=null;null!==Vd&&E(Bd,wd,Vd,ke,!1);null!==ge&&null!==cg&&E(Bd,cg,ge,ke,!0)}}wd=Vc?Nd(Vc):window;Vd=wd.nodeName&&wd.nodeName.toLowerCase();if("select"===Vd||"input"===
Vd&&"file"===wd.type)var ce=ed;else if(Hc(wd))if(th)ce=w;else{ce=we;var qe=vd}else(Vd=wd.nodeName)&&"input"===Vd.toLowerCase()&&("checkbox"===wd.type||"radio"===wd.type)&&(ce=Ed);ce&&(ce=ce(c,Vc))?Nc(Bd,ce,k,yd):(qe&&qe(c,wd,Vc),"focusout"===c&&(qe=wd._wrapperState)&&qe.controlled&&"number"===wd.type&&hb(wd,"number",wd.value));qe=Vc?Nd(Vc):window;switch(c){case "focusin":if(Hc(qe)||"true"===qe.contentEditable)ij=qe,Hk=Vc,Ej=null;break;case "focusout":Ej=Hk=ij=null;break;case "mousedown":Ng=!0;break;
case "contextmenu":case "mouseup":case "dragend":Ng=!1;Fc(Bd,k,yd);break;case "selectionchange":if(gk)break;case "keydown":case "keyup":Fc(Bd,k,yd)}var Zd;if(ud)a:{switch(c){case "compositionstart":var Ce="onCompositionStart";break a;case "compositionend":Ce="onCompositionEnd";break a;case "compositionupdate":Ce="onCompositionUpdate";break a}Ce=void 0}else ni?Vb(c,k)&&(Ce="onCompositionEnd"):"keydown"===c&&229===k.keyCode&&(Ce="onCompositionStart");Ce&&(Gk&&"ko"!==k.locale&&(ni||"onCompositionStart"!==
Ce?"onCompositionEnd"===Ce&&ni&&(Zd=S()):(Di=yd,Ek="value"in Di?Di.value:Di.textContent,ni=!0)),qe=uf(Vc,Ce),0<qe.length&&(Ce=new rl(Ce,c,null,k,yd),Bd.push({event:Ce,listeners:qe}),Zd?Ce.data=Zd:(Zd=Eb(k),null!==Zd&&(Ce.data=Zd))));if(Zd=Fi?Hb(c,k):Cc(c,k))Vc=uf(Vc,"onBeforeInput"),0<Vc.length&&(yd=new rl("onBeforeInput","beforeinput",null,k,yd),Bd.push({event:yd,listeners:Vc}),yd.data=Zd)}Gd(Bd,d)})}function Fe(c,d,k){return{instance:c,listener:d,currentTarget:k}}function uf(c,d){for(var k=d+"Capture",
u=[];null!==c;){var R=c,ea=R.stateNode;5===R.tag&&null!==ea&&(R=ea,ea=v(c,k),null!=ea&&u.unshift(Fe(c,ea,R)),ea=v(c,d),null!=ea&&u.push(Fe(c,ea,R)));c=c.return}return u}function gf(c){if(null===c)return null;do c=c.return;while(c&&5!==c.tag);return c?c:null}function E(c,d,k,u,R){for(var ea=d._reactName,Ta=[];null!==k&&k!==u;){var Tb=k,oc=Tb.alternate,Vc=Tb.stateNode;if(null!==oc&&oc===u)break;5===Tb.tag&&null!==Vc&&(Tb=Vc,R?(oc=v(k,ea),null!=oc&&Ta.unshift(Fe(k,oc,Tb))):R||(oc=v(k,ea),null!=oc&&Ta.push(Fe(k,
oc,Tb))));k=k.return}0!==Ta.length&&c.push({event:d,listeners:Ta})}function ca(c){return("string"===typeof c?c:""+c).replace(Wl,"\n").replace(Xl,"")}function Ga(c,d,k){d=ca(d);if(ca(c)!==d&&k)throw Error(t(425));}function eb(){}function Gb(c,d){return"textarea"===c||"noscript"===c||"string"===typeof d.children||"number"===typeof d.children||"object"===typeof d.dangerouslySetInnerHTML&&null!==d.dangerouslySetInnerHTML&&null!=d.dangerouslySetInnerHTML.__html}function rc(c){setTimeout(function(){throw c;
})}function Rb(c,d){var k=d,u=0;do{var R=k.nextSibling;c.removeChild(k);if(R&&8===R.nodeType)if(k=R.data,"/$"===k){if(0===u){c.removeChild(R);Ac(d);return}u--}else"$"!==k&&"$?"!==k&&"$!"!==k||u++;k=R}while(k);Ac(d)}function Sc(c){for(;null!=c;c=c.nextSibling){var d=c.nodeType;if(1===d||3===d)break;if(8===d){d=c.data;if("$"===d||"$!"===d||"$?"===d)break;if("/$"===d)return null}}return c}function fd(c){c=c.previousSibling;for(var d=0;c;){if(8===c.nodeType){var k=c.data;if("$"===k||"$!"===k||"$?"===
k){if(0===d)return c;d--}else"/$"===k&&d++}c=c.previousSibling}return null}function cd(c){var d=c[Rh];if(d)return d;for(var k=c.parentNode;k;){if(d=k[bi]||k[Rh]){k=d.alternate;if(null!==d.child||null!==k&&null!==k.child)for(c=fd(c);null!==c;){if(k=c[Rh])return k;c=fd(c)}return d}c=k;k=c.parentNode}return null}function Oc(c){c=c[Rh]||c[bi];return!c||5!==c.tag&&6!==c.tag&&13!==c.tag&&3!==c.tag?null:c}function Nd(c){if(5===c.tag||6===c.tag)return c.stateNode;throw Error(t(33));}function Md(c){return c[Fj]||
null}function Ld(c){return{current:c}}function Ad(c){0>jj||(c.current=Pk[jj],Pk[jj]=null,jj--)}function Wd(c,d){jj++;Pk[jj]=c.current;c.current=d}function Ca(c,d){var k=c.type.contextTypes;if(!k)return jg;var u=c.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===d)return u.__reactInternalMemoizedMaskedChildContext;var R={},ea;for(ea in k)R[ea]=d[ea];u&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=d,c.__reactInternalMemoizedMaskedChildContext=R);return R}function Qa(c){c=
c.childContextTypes;return null!==c&&void 0!==c}function bc(){Ad(dh);Ad(Dg)}function id(c,d,k){if(Dg.current!==jg)throw Error(t(168));Wd(Dg,d);Wd(dh,k)}function sc(c,d,k){var u=c.stateNode;d=d.childContextTypes;if("function"!==typeof u.getChildContext)return k;u=u.getChildContext();for(var R in u)if(!(R in d))throw Error(t(108,tb(c)||"Unknown",R));return He({},k,u)}function Mc(c){c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||jg;oi=Dg.current;Wd(Dg,c);Wd(dh,dh.current);return!0}function Ec(c,
d,k){var u=c.stateNode;if(!u)throw Error(t(169));k?(c=sc(c,d,oi),u.__reactInternalMemoizedMergedChildContext=c,Ad(dh),Ad(Dg),Wd(Dg,c)):Ad(dh);Wd(dh,k)}function Tc(c){null===pg?pg=[c]:pg.push(c)}function Xc(c){ci=!0;Tc(c)}function ld(){if(!Qk&&null!==pg){Qk=!0;var c=0,d=xf;try{var k=pg;for(xf=1;c<k.length;c++){var u=k[c];do u=u(!0);while(null!==u)}pg=null;ci=!1}catch(R){throw null!==pg&&(pg=pg.slice(c+1)),hk(Ck,ld),R;}finally{xf=d,Qk=!1}}return null}function pd(c,d){kj[Dh++]=ik;kj[Dh++]=jk;jk=c;ik=
d}function me(c,d,k){Jf[uh++]=Eh;Jf[uh++]=pi;Jf[uh++]=di;di=c;var u=Eh;c=pi;var R=32-Oh(u)-1;u&=~(1<<R);k+=1;var ea=32-Oh(d)+R;if(30<ea){var Ta=R-R%5;ea=(u&(1<<Ta)-1).toString(32);u>>=Ta;R-=Ta;Eh=1<<32-Oh(d)+R|k<<R|u;pi=ea+c}else Eh=1<<ea|k<<R|u,pi=c}function df(c){null!==c.return&&(pd(c,1),me(c,1,0))}function Oe(c){for(;c===jk;)jk=kj[--Dh],kj[Dh]=null,ik=kj[--Dh],kj[Dh]=null;for(;c===di;)di=Jf[--uh],Jf[uh]=null,pi=Jf[--uh],Jf[uh]=null,Eh=Jf[--uh],Jf[uh]=null}function Je(c,d){var k=Ve(5,null,null,
0);k.elementType="DELETED";k.stateNode=d;k.return=c;d=c.deletions;null===d?(c.deletions=[k],c.flags|=16):d.push(k)}function hf(c,d){switch(c.tag){case 5:var k=c.type;d=1!==d.nodeType||k.toLowerCase()!==d.nodeName.toLowerCase()?null:d;return null!==d?(c.stateNode=d,Vg=c,Wg=Sc(d.firstChild),!0):!1;case 6:return d=""===c.pendingProps||3!==d.nodeType?null:d,null!==d?(c.stateNode=d,Vg=c,Wg=null,!0):!1;case 13:return d=8!==d.nodeType?null:d,null!==d?(k=null!==di?{id:Eh,overflow:pi}:null,c.memoizedState=
{dehydrated:d,treeContext:k,retryLane:1073741824},k=Ve(18,null,null,0),k.stateNode=d,k.return=c,c.child=k,Vg=c,Wg=null,!0):!1;default:return!1}}function pf(c){return 0!==(c.mode&1)&&0===(c.flags&128)}function Le(c){if(Wf){var d=Wg;if(d){var k=d;if(!hf(c,d)){if(pf(c))throw Error(t(418));d=Sc(k.nextSibling);var u=Vg;d&&hf(c,d)?Je(u,k):(c.flags=c.flags&-4097|2,Wf=!1,Vg=c)}}else{if(pf(c))throw Error(t(418));c.flags=c.flags&-4097|2;Wf=!1;Vg=c}}}function $e(c){for(c=c.return;null!==c&&5!==c.tag&&3!==c.tag&&
13!==c.tag;)c=c.return;Vg=c}function Ze(c){if(c!==Vg)return!1;if(!Wf)return $e(c),Wf=!0,!1;var d;(d=3!==c.tag)&&!(d=5!==c.tag)&&(d=c.type,d="head"!==d&&"body"!==d&&!Gb(c.type,c.memoizedProps));if(d&&(d=Wg)){if(pf(c))throw ne(),Error(t(418));for(;d;)Je(c,d),d=Sc(d.nextSibling)}$e(c);if(13===c.tag){c=c.memoizedState;c=null!==c?c.dehydrated:null;if(!c)throw Error(t(317));a:{c=c.nextSibling;for(d=0;c;){if(8===c.nodeType){var k=c.data;if("/$"===k){if(0===d){Wg=Sc(c.nextSibling);break a}d--}else"$"!==k&&
"$!"!==k&&"$?"!==k||d++}c=c.nextSibling}Wg=null}}else Wg=Vg?Sc(c.stateNode.nextSibling):null;return!0}function ne(){for(var c=Wg;c;)c=Sc(c.nextSibling)}function fe(){Wg=Vg=null;Wf=!1}function le(c){null===lh?lh=[c]:lh.push(c)}function oe(c,d){if(c&&c.defaultProps){d=He({},d);c=c.defaultProps;for(var k in c)void 0===d[k]&&(d[k]=c[k])}return d}function y(c){var d=lj.current;Ad(lj);c._currentValue=d}function M(c,d,k){for(;null!==c;){var u=c.alternate;(c.childLanes&d)!==d?(c.childLanes|=d,null!==u&&(u.childLanes|=
d)):null!==u&&(u.childLanes&d)!==d&&(u.childLanes|=d);if(c===k)break;c=c.return}}function p(c,d){mj=c;Vi=ei=null;c=c.dependencies;null!==c&&null!==c.firstContext&&(0!==(c.lanes&d)&&(mh=!0),c.firstContext=null)}function Q(c){var d=c._currentValue;if(Vi!==c)if(c={context:c,memoizedValue:d,next:null},null===ei){if(null===mj)throw Error(t(308));ei=c;mj.dependencies={lanes:0,firstContext:c}}else ei=ei.next=c;return d}function Z(c){null===Gi?Gi=[c]:Gi.push(c)}function pa(c,d,k,u){var R=d.interleaved;null===
R?(k.next=k,Z(d)):(k.next=R.next,R.next=k);d.interleaved=k;return xa(c,u)}function xa(c,d){c.lanes|=d;var k=c.alternate;null!==k&&(k.lanes|=d);k=c;for(c=c.return;null!==c;)c.childLanes|=d,k=c.alternate,null!==k&&(k.childLanes|=d),k=c,c=c.return;return 3===k.tag?k.stateNode:null}function Cb(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ib(c,d){c=c.updateQueue;d.updateQueue===c&&(d.updateQueue=
{baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Xb(c,d){return{eventTime:c,lane:d,tag:0,payload:null,callback:null,next:null}}function $b(c,d,k){var u=c.updateQueue;if(null===u)return null;u=u.shared;if(0!==(ef&2)){var R=u.pending;null===R?d.next=d:(d.next=R.next,R.next=d);u.pending=d;return xa(c,k)}R=u.interleaved;null===R?(d.next=d,Z(u)):(d.next=R.next,R.next=d);u.interleaved=d;return xa(c,k)}function mc(c,d,k){d=
d.updateQueue;if(null!==d&&(d=d.shared,0!==(k&4194240))){var u=d.lanes;u&=c.pendingLanes;k|=u;d.lanes=k;xc(c,k)}}function vc(c,d){var k=c.updateQueue,u=c.alternate;if(null!==u&&(u=u.updateQueue,k===u)){var R=null,ea=null;k=k.firstBaseUpdate;if(null!==k){do{var Ta={eventTime:k.eventTime,lane:k.lane,tag:k.tag,payload:k.payload,callback:k.callback,next:null};null===ea?R=ea=Ta:ea=ea.next=Ta;k=k.next}while(null!==k);null===ea?R=ea=d:ea=ea.next=d}else R=ea=d;k={baseState:u.baseState,firstBaseUpdate:R,lastBaseUpdate:ea,
shared:u.shared,effects:u.effects};c.updateQueue=k}else c=k.lastBaseUpdate,null===c?k.firstBaseUpdate=d:c.next=d,k.lastBaseUpdate=d}function yc(c,d,k,u){var R=c.updateQueue;Hi=!1;var ea=R.firstBaseUpdate,Ta=R.lastBaseUpdate,Tb=R.shared.pending;if(null!==Tb){R.shared.pending=null;var oc=Tb,Vc=oc.next;oc.next=null;null===Ta?ea=Vc:Ta.next=Vc;var yd=c.alternate;null!==yd&&(yd=yd.updateQueue,Tb=yd.lastBaseUpdate,Tb!==oc&&(null===Tb?yd.firstBaseUpdate=Vc:Tb.next=Vc,yd.lastBaseUpdate=oc))}if(null!==ea){var Bd=
R.baseState;Ta=0;yd=Vc=oc=null;Tb=ea;do{var wd=Tb.lane,Vd=Tb.eventTime;if((u&wd)===wd){null!==yd&&(yd=yd.next={eventTime:Vd,lane:0,tag:Tb.tag,payload:Tb.payload,callback:Tb.callback,next:null});a:{var ge=c,ke=Tb;wd=d;Vd=k;switch(ke.tag){case 1:ge=ke.payload;if("function"===typeof ge){Bd=ge.call(Vd,Bd,wd);break a}Bd=ge;break a;case 3:ge.flags=ge.flags&-65537|128;case 0:ge=ke.payload;wd="function"===typeof ge?ge.call(Vd,Bd,wd):ge;if(null===wd||void 0===wd)break a;Bd=He({},Bd,wd);break a;case 2:Hi=!0}}null!==
Tb.callback&&0!==Tb.lane&&(c.flags|=64,wd=R.effects,null===wd?R.effects=[Tb]:wd.push(Tb))}else Vd={eventTime:Vd,lane:wd,tag:Tb.tag,payload:Tb.payload,callback:Tb.callback,next:null},null===yd?(Vc=yd=Vd,oc=Bd):yd=yd.next=Vd,Ta|=wd;Tb=Tb.next;if(null===Tb)if(Tb=R.shared.pending,null===Tb)break;else wd=Tb,Tb=wd.next,wd.next=null,R.lastBaseUpdate=wd,R.shared.pending=null}while(1);null===yd&&(oc=Bd);R.baseState=oc;R.firstBaseUpdate=Vc;R.lastBaseUpdate=yd;d=R.shared.interleaved;if(null!==d){R=d;do Ta|=
R.lane,R=R.next;while(R!==d)}else null===ea&&(R.shared.lanes=0);ff|=Ta;c.lanes=Ta;c.memoizedState=Bd}}function Jc(c,d,k){c=d.effects;d.effects=null;if(null!==c)for(d=0;d<c.length;d++){var u=c[d],R=u.callback;if(null!==R){u.callback=null;u=k;if("function"!==typeof R)throw Error(t(191,R));R.call(u)}}}function Zc(c,d,k,u){d=c.memoizedState;k=k(u,d);k=null===k||void 0===k?d:He({},d,k);c.memoizedState=k;0===c.lanes&&(c.updateQueue.baseState=k)}function Yc(c,d,k,u,R,ea,Ta){c=c.stateNode;return"function"===
typeof c.shouldComponentUpdate?c.shouldComponentUpdate(u,ea,Ta):d.prototype&&d.prototype.isPureReactComponent?!wa(k,u)||!wa(R,ea):!0}function jd(c,d,k){var u=!1,R=jg,ea=d.contextType;"object"===typeof ea&&null!==ea?ea=Q(ea):(R=Qa(d)?oi:Dg.current,u=d.contextTypes,ea=(u=null!==u&&void 0!==u)?Ca(c,R):jg);d=new d(k,ea);c.memoizedState=null!==d.state&&void 0!==d.state?d.state:null;d.updater=Gj;c.stateNode=d;d._reactInternals=c;u&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=R,c.__reactInternalMemoizedMaskedChildContext=
ea);return d}function $d(c,d,k,u){c=d.state;"function"===typeof d.componentWillReceiveProps&&d.componentWillReceiveProps(k,u);"function"===typeof d.UNSAFE_componentWillReceiveProps&&d.UNSAFE_componentWillReceiveProps(k,u);d.state!==c&&Gj.enqueueReplaceState(d,d.state,null)}function Rc(c,d,k,u){var R=c.stateNode;R.props=k;R.state=c.memoizedState;R.refs=sl;Cb(c);var ea=d.contextType;"object"===typeof ea&&null!==ea?R.context=Q(ea):(ea=Qa(d)?oi:Dg.current,R.context=Ca(c,ea));R.state=c.memoizedState;ea=
d.getDerivedStateFromProps;"function"===typeof ea&&(Zc(c,d,ea,k),R.state=c.memoizedState);"function"===typeof d.getDerivedStateFromProps||"function"===typeof R.getSnapshotBeforeUpdate||"function"!==typeof R.UNSAFE_componentWillMount&&"function"!==typeof R.componentWillMount||(d=R.state,"function"===typeof R.componentWillMount&&R.componentWillMount(),"function"===typeof R.UNSAFE_componentWillMount&&R.UNSAFE_componentWillMount(),d!==R.state&&Gj.enqueueReplaceState(R,R.state,null),yc(c,k,R,u),R.state=
c.memoizedState);"function"===typeof R.componentDidMount&&(c.flags|=4194308)}function Xd(c,d,k){c=k.ref;if(null!==c&&"function"!==typeof c&&"object"!==typeof c){if(k._owner){if(k=k._owner){if(1!==k.tag)throw Error(t(309));var u=k.stateNode}if(!u)throw Error(t(147,c));var R=u,ea=""+c;if(null!==d&&null!==d.ref&&"function"===typeof d.ref&&d.ref._stringRef===ea)return d.ref;d=function(Ta){var Tb=R.refs;Tb===sl&&(Tb=R.refs={});null===Ta?delete Tb[ea]:Tb[ea]=Ta};d._stringRef=ea;return d}if("string"!==typeof c)throw Error(t(284));
if(!k._owner)throw Error(t(290,c));}return c}function te(c,d){c=Object.prototype.toString.call(d);throw Error(t(31,"[object Object]"===c?"object with keys {"+Object.keys(d).join(", ")+"}":c));}function $c(c){var d=c._init;return d(c._payload)}function Cd(c){function d(Gc,uc){if(c){var Qc=Gc.deletions;null===Qc?(Gc.deletions=[uc],Gc.flags|=16):Qc.push(uc)}}function k(Gc,uc){if(!c)return null;for(;null!==uc;)d(Gc,uc),uc=uc.sibling;return null}function u(Gc,uc){for(Gc=new Map;null!==uc;)null!==uc.key?
Gc.set(uc.key,uc):Gc.set(uc.index,uc),uc=uc.sibling;return Gc}function R(Gc,uc){Gc=Xf(Gc,uc);Gc.index=0;Gc.sibling=null;return Gc}function ea(Gc,uc,Qc){Gc.index=Qc;if(!c)return Gc.flags|=1048576,uc;Qc=Gc.alternate;if(null!==Qc)return Qc=Qc.index,Qc<uc?(Gc.flags|=2,uc):Qc;Gc.flags|=2;return uc}function Ta(Gc){c&&null===Gc.alternate&&(Gc.flags|=2);return Gc}function Tb(Gc,uc,Qc,Fd){if(null===uc||6!==uc.tag)return uc=nj(Qc,Gc.mode,Fd),uc.return=Gc,uc;uc=R(uc,Qc);uc.return=Gc;return uc}function oc(Gc,
uc,Qc,Fd){var ce=Qc.type;if(ce===ad)return yd(Gc,uc,Qc.props.children,Fd,Qc.key);if(null!==uc&&(uc.elementType===ce||"object"===typeof ce&&null!==ce&&ce.$$typeof===Af&&$c(ce)===uc.type))return Fd=R(uc,Qc.props),Fd.ref=Xd(Gc,uc,Qc),Fd.return=Gc,Fd;Fd=qg(Qc.type,Qc.key,Qc.props,null,Gc.mode,Fd);Fd.ref=Xd(Gc,uc,Qc);Fd.return=Gc;return Fd}function Vc(Gc,uc,Qc,Fd){if(null===uc||4!==uc.tag||uc.stateNode.containerInfo!==Qc.containerInfo||uc.stateNode.implementation!==Qc.implementation)return uc=oj(Qc,Gc.mode,
Fd),uc.return=Gc,uc;uc=R(uc,Qc.children||[]);uc.return=Gc;return uc}function yd(Gc,uc,Qc,Fd,ce){if(null===uc||7!==uc.tag)return uc=dg(Qc,Gc.mode,Fd,ce),uc.return=Gc,uc;uc=R(uc,Qc);uc.return=Gc;return uc}function Bd(Gc,uc,Qc){if("string"===typeof uc&&""!==uc||"number"===typeof uc)return uc=nj(""+uc,Gc.mode,Qc),uc.return=Gc,uc;if("object"===typeof uc&&null!==uc){switch(uc.$$typeof){case Jb:return Qc=qg(uc.type,uc.key,uc.props,null,Gc.mode,Qc),Qc.ref=Xd(Gc,null,uc),Qc.return=Gc,Qc;case tc:return uc=
oj(uc,Gc.mode,Qc),uc.return=Gc,uc;case Af:var Fd=uc._init;return Bd(Gc,Fd(uc._payload),Qc)}if(Ch(uc)||Ab(uc))return uc=dg(uc,Gc.mode,Qc,null),uc.return=Gc,uc;te(Gc,uc)}return null}function wd(Gc,uc,Qc,Fd){var ce=null!==uc?uc.key:null;if("string"===typeof Qc&&""!==Qc||"number"===typeof Qc)return null!==ce?null:Tb(Gc,uc,""+Qc,Fd);if("object"===typeof Qc&&null!==Qc){switch(Qc.$$typeof){case Jb:return Qc.key===ce?oc(Gc,uc,Qc,Fd):null;case tc:return Qc.key===ce?Vc(Gc,uc,Qc,Fd):null;case Af:return ce=Qc._init,
wd(Gc,uc,ce(Qc._payload),Fd)}if(Ch(Qc)||Ab(Qc))return null!==ce?null:yd(Gc,uc,Qc,Fd,null);te(Gc,Qc)}return null}function Vd(Gc,uc,Qc,Fd,ce){if("string"===typeof Fd&&""!==Fd||"number"===typeof Fd)return Gc=Gc.get(Qc)||null,Tb(uc,Gc,""+Fd,ce);if("object"===typeof Fd&&null!==Fd){switch(Fd.$$typeof){case Jb:return Gc=Gc.get(null===Fd.key?Qc:Fd.key)||null,oc(uc,Gc,Fd,ce);case tc:return Gc=Gc.get(null===Fd.key?Qc:Fd.key)||null,Vc(uc,Gc,Fd,ce);case Af:var qe=Fd._init;return Vd(Gc,uc,Qc,qe(Fd._payload),ce)}if(Ch(Fd)||
Ab(Fd))return Gc=Gc.get(Qc)||null,yd(uc,Gc,Fd,ce,null);te(uc,Fd)}return null}function ge(Gc,uc,Qc,Fd){for(var ce=null,qe=null,Zd=uc,Ce=uc=0,Eg=null;null!==Zd&&Ce<Qc.length;Ce++){Zd.index>Ce?(Eg=Zd,Zd=null):Eg=Zd.sibling;var mf=wd(Gc,Zd,Qc[Ce],Fd);if(null===mf){null===Zd&&(Zd=Eg);break}c&&Zd&&null===mf.alternate&&d(Gc,Zd);uc=ea(mf,uc,Ce);null===qe?ce=mf:qe.sibling=mf;qe=mf;Zd=Eg}if(Ce===Qc.length)return k(Gc,Zd),Wf&&pd(Gc,Ce),ce;if(null===Zd){for(;Ce<Qc.length;Ce++)Zd=Bd(Gc,Qc[Ce],Fd),null!==Zd&&(uc=
ea(Zd,uc,Ce),null===qe?ce=Zd:qe.sibling=Zd,qe=Zd);Wf&&pd(Gc,Ce);return ce}for(Zd=u(Gc,Zd);Ce<Qc.length;Ce++)Eg=Vd(Zd,Gc,Ce,Qc[Ce],Fd),null!==Eg&&(c&&null!==Eg.alternate&&Zd.delete(null===Eg.key?Ce:Eg.key),uc=ea(Eg,uc,Ce),null===qe?ce=Eg:qe.sibling=Eg,qe=Eg);c&&Zd.forEach(function(Ii){return d(Gc,Ii)});Wf&&pd(Gc,Ce);return ce}function ke(Gc,uc,Qc,Fd){var ce=Ab(Qc);if("function"!==typeof ce)throw Error(t(150));Qc=ce.call(Qc);if(null==Qc)throw Error(t(151));for(var qe=ce=null,Zd=uc,Ce=uc=0,Eg=null,mf=
Qc.next();null!==Zd&&!mf.done;Ce++,mf=Qc.next()){Zd.index>Ce?(Eg=Zd,Zd=null):Eg=Zd.sibling;var Ii=wd(Gc,Zd,mf.value,Fd);if(null===Ii){null===Zd&&(Zd=Eg);break}c&&Zd&&null===Ii.alternate&&d(Gc,Zd);uc=ea(Ii,uc,Ce);null===qe?ce=Ii:qe.sibling=Ii;qe=Ii;Zd=Eg}if(mf.done)return k(Gc,Zd),Wf&&pd(Gc,Ce),ce;if(null===Zd){for(;!mf.done;Ce++,mf=Qc.next())mf=Bd(Gc,mf.value,Fd),null!==mf&&(uc=ea(mf,uc,Ce),null===qe?ce=mf:qe.sibling=mf,qe=mf);Wf&&pd(Gc,Ce);return ce}for(Zd=u(Gc,Zd);!mf.done;Ce++,mf=Qc.next())mf=
Vd(Zd,Gc,Ce,mf.value,Fd),null!==mf&&(c&&null!==mf.alternate&&Zd.delete(null===mf.key?Ce:mf.key),uc=ea(mf,uc,Ce),null===qe?ce=mf:qe.sibling=mf,qe=mf);c&&Zd.forEach(function(Rk){return d(Gc,Rk)});Wf&&pd(Gc,Ce);return ce}function cg(Gc,uc,Qc,Fd){"object"===typeof Qc&&null!==Qc&&Qc.type===ad&&null===Qc.key&&(Qc=Qc.props.children);if("object"===typeof Qc&&null!==Qc){switch(Qc.$$typeof){case Jb:a:{for(var ce=Qc.key,qe=uc;null!==qe;){if(qe.key===ce){ce=Qc.type;if(ce===ad){if(7===qe.tag){k(Gc,qe.sibling);
uc=R(qe,Qc.props.children);uc.return=Gc;Gc=uc;break a}}else if(qe.elementType===ce||"object"===typeof ce&&null!==ce&&ce.$$typeof===Af&&$c(ce)===qe.type){k(Gc,qe.sibling);uc=R(qe,Qc.props);uc.ref=Xd(Gc,qe,Qc);uc.return=Gc;Gc=uc;break a}k(Gc,qe);break}else d(Gc,qe);qe=qe.sibling}Qc.type===ad?(uc=dg(Qc.props.children,Gc.mode,Fd,Qc.key),uc.return=Gc,Gc=uc):(Fd=qg(Qc.type,Qc.key,Qc.props,null,Gc.mode,Fd),Fd.ref=Xd(Gc,uc,Qc),Fd.return=Gc,Gc=Fd)}return Ta(Gc);case tc:a:{for(qe=Qc.key;null!==uc;){if(uc.key===
qe)if(4===uc.tag&&uc.stateNode.containerInfo===Qc.containerInfo&&uc.stateNode.implementation===Qc.implementation){k(Gc,uc.sibling);uc=R(uc,Qc.children||[]);uc.return=Gc;Gc=uc;break a}else{k(Gc,uc);break}else d(Gc,uc);uc=uc.sibling}uc=oj(Qc,Gc.mode,Fd);uc.return=Gc;Gc=uc}return Ta(Gc);case Af:return qe=Qc._init,cg(Gc,uc,qe(Qc._payload),Fd)}if(Ch(Qc))return ge(Gc,uc,Qc,Fd);if(Ab(Qc))return ke(Gc,uc,Qc,Fd);te(Gc,Qc)}return"string"===typeof Qc&&""!==Qc||"number"===typeof Qc?(Qc=""+Qc,null!==uc&&6===uc.tag?
(k(Gc,uc.sibling),uc=R(uc,Qc),uc.return=Gc,Gc=uc):(k(Gc,uc),uc=nj(Qc,Gc.mode,Fd),uc.return=Gc,Gc=uc),Ta(Gc)):k(Gc,uc)}return cg}function Qd(c){if(c===pj)throw Error(t(174));return c}function re(c,d){Wd(fi,d);Wd(qi,c);Wd(Sh,pj);c=d.nodeType;switch(c){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:na(null,"");break;default:c=8===c?d.parentNode:d,d=c.namespaceURI||null,c=c.tagName,d=na(d,c)}Ad(Sh);Wd(Sh,d)}function ue(){Ad(Sh);Ad(qi);Ad(fi)}function Sd(c){Qd(fi.current);var d=Qd(Sh.current),k=
na(d,c.type);d!==k&&(Wd(qi,c),Wd(Sh,k))}function Ud(c){qi.current===c&&(Ad(Sh),Ad(qi))}function Ke(c){for(var d=c;null!==d;){if(13===d.tag){var k=d.memoizedState;if(null!==k&&(k=k.dehydrated,null===k||"$?"===k.data||"$!"===k.data))return d}else if(19===d.tag&&void 0!==d.memoizedProps.revealOrder){if(0!==(d.flags&128))return d}else if(null!==d.child){d.child.return=d;d=d.child;continue}if(d===c)break;for(;null===d.sibling;){if(null===d.return||d.return===c)return null;d=d.return}d.sibling.return=d.return;
d=d.sibling}return null}function jf(){for(var c=0;c<kk.length;c++)kk[c]._workInProgressVersionPrimary=null;kk.length=0}function xe(){throw Error(t(321));}function Qf(c,d){if(null===d)return!1;for(var k=0;k<d.length&&k<c.length;k++)if(!Ph(c[k],d[k]))return!1;return!0}function td(c,d,k,u,R,ea){Ji=ea;yf=d;d.memoizedState=null;d.updateQueue=null;d.lanes=0;lk.current=null===c||null===c.memoizedState?tl:Yl;c=k(u,R);if(Hj){ea=0;do{Hj=!1;qj=0;if(25<=ea)throw Error(t(301));ea+=1;Fg=eg=null;d.updateQueue=null;
lk.current=Zl;c=k(u,R)}while(Hj)}lk.current=Ij;d=null!==eg&&null!==eg.next;Ji=0;Fg=eg=yf=null;mk=!1;if(d)throw Error(t(300));return c}function Me(){var c=0!==qj;qj=0;return c}function af(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===Fg?yf.memoizedState=Fg=c:Fg=Fg.next=c;return Fg}function Se(){if(null===eg){var c=yf.alternate;c=null!==c?c.memoizedState:null}else c=eg.next;var d=null===Fg?yf.memoizedState:Fg.next;if(null!==d)Fg=d,eg=c;else{if(null===c)throw Error(t(310));
eg=c;c={memoizedState:eg.memoizedState,baseState:eg.baseState,baseQueue:eg.baseQueue,queue:eg.queue,next:null};null===Fg?yf.memoizedState=Fg=c:Fg=Fg.next=c}return Fg}function Yf(c,d){return"function"===typeof d?d(c):d}function Ef(c){var d=Se(),k=d.queue;if(null===k)throw Error(t(311));k.lastRenderedReducer=c;var u=eg,R=u.baseQueue,ea=k.pending;if(null!==ea){if(null!==R){var Ta=R.next;R.next=ea.next;ea.next=Ta}u.baseQueue=R=ea;k.pending=null}if(null!==R){ea=R.next;u=u.baseState;var Tb=Ta=null,oc=null,
Vc=ea;do{var yd=Vc.lane;if((Ji&yd)===yd)null!==oc&&(oc=oc.next={lane:0,action:Vc.action,hasEagerState:Vc.hasEagerState,eagerState:Vc.eagerState,next:null}),u=Vc.hasEagerState?Vc.eagerState:c(u,Vc.action);else{var Bd={lane:yd,action:Vc.action,hasEagerState:Vc.hasEagerState,eagerState:Vc.eagerState,next:null};null===oc?(Tb=oc=Bd,Ta=u):oc=oc.next=Bd;yf.lanes|=yd;ff|=yd}Vc=Vc.next}while(null!==Vc&&Vc!==ea);null===oc?Ta=u:oc.next=Tb;Ph(u,d.memoizedState)||(mh=!0);d.memoizedState=u;d.baseState=Ta;d.baseQueue=
oc;k.lastRenderedState=u}c=k.interleaved;if(null!==c){R=c;do ea=R.lane,yf.lanes|=ea,ff|=ea,R=R.next;while(R!==c)}else null===R&&(k.lanes=0);return[d.memoizedState,k.dispatch]}function We(c){var d=Se(),k=d.queue;if(null===k)throw Error(t(311));k.lastRenderedReducer=c;var u=k.dispatch,R=k.pending,ea=d.memoizedState;if(null!==R){k.pending=null;var Ta=R=R.next;do ea=c(ea,Ta.action),Ta=Ta.next;while(Ta!==R);Ph(ea,d.memoizedState)||(mh=!0);d.memoizedState=ea;null===d.baseQueue&&(d.baseState=ea);k.lastRenderedState=
ea}return[ea,u]}function Rf(){}function qf(c,d){var k=yf,u=Se(),R=d(),ea=!Ph(u.memoizedState,R);ea&&(u.memoizedState=R,mh=!0);u=u.queue;lb(rf.bind(null,k,u,c),[c]);if(u.getSnapshot!==d||ea||null!==Fg&&Fg.memoizedState.tag&1){k.flags|=2048;kg(9,Ff.bind(null,k,u,R,d),void 0,null);if(null===Gg)throw Error(t(349));0!==(Ji&30)||Gf(k,d,R)}return R}function Gf(c,d,k){c.flags|=16384;c={getSnapshot:d,value:k};d=yf.updateQueue;null===d?(d={lastEffect:null,stores:null},yf.updateQueue=d,d.stores=[c]):(k=d.stores,
null===k?d.stores=[c]:k.push(c))}function Ff(c,d,k,u){d.value=k;d.getSnapshot=u;rg(d)&&zf(c)}function rf(c,d,k){return k(function(){rg(d)&&zf(c)})}function rg(c){var d=c.getSnapshot;c=c.value;try{var k=d();return!Ph(c,k)}catch(u){return!0}}function zf(c){var d=xa(c,1);null!==d&&yb(d,c,1,-1)}function Fh(c){var d=af();"function"===typeof c&&(c=c());d.memoizedState=d.baseState=c;c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yf,lastRenderedState:c};d.queue=c;c=c.dispatch=
fg.bind(null,yf,c);return[d.memoizedState,c]}function kg(c,d,k,u){c={tag:c,create:d,destroy:k,deps:u,next:null};d=yf.updateQueue;null===d?(d={lastEffect:null,stores:null},yf.updateQueue=d,d.lastEffect=c.next=c):(k=d.lastEffect,null===k?d.lastEffect=c.next=c:(u=k.next,k.next=c,c.next=u,d.lastEffect=c));return c}function Ag(){return Se().memoizedState}function lg(c,d,k,u){var R=af();yf.flags|=c;R.memoizedState=kg(1|d,k,void 0,void 0===u?null:u)}function T(c,d,k,u){var R=Se();u=void 0===u?null:u;var ea=
void 0;if(null!==eg){var Ta=eg.memoizedState;ea=Ta.destroy;if(null!==u&&Qf(u,Ta.deps)){R.memoizedState=kg(d,k,ea,u);return}}yf.flags|=c;R.memoizedState=kg(1|d,k,ea,u)}function Ka(c,d){return lg(8390656,8,c,d)}function lb(c,d){return T(2048,8,c,d)}function Ic(c,d){return T(4,2,c,d)}function Kc(c,d){return T(4,4,c,d)}function Pd(c,d){if("function"===typeof d)return c=c(),d(c),function(){d(null)};if(null!==d&&void 0!==d)return c=c(),d.current=c,function(){d.current=null}}function se(c,d,k){k=null!==
k&&void 0!==k?k.concat([c]):null;return T(4,4,Pd.bind(null,d,c),k)}function Te(){}function ye(c,d){var k=Se();d=void 0===d?null:d;var u=k.memoizedState;if(null!==u&&null!==d&&Qf(d,u[1]))return u[0];k.memoizedState=[c,d];return c}function Sf(c,d){var k=Se();d=void 0===d?null:d;var u=k.memoizedState;if(null!==u&&null!==d&&Qf(d,u[1]))return u[0];c=c();k.memoizedState=[c,d];return c}function nf(c,d,k){if(0===(Ji&21))return c.baseState&&(c.baseState=!1,mh=!0),c.memoizedState=k;Ph(k,d)||(k=pc(),yf.lanes|=
k,ff|=k,c.baseState=!0);return d}function nh(c,d){var k=xf;xf=0!==k&&4>k?k:4;c(!0);var u=nk.transition;nk.transition={};try{c(!1),d()}finally{xf=k,nk.transition=u}}function Xg(){return Se().memoizedState}function sg(c,d,k){var u=zb(c);k={lane:u,action:k,hasEagerState:!1,eagerState:null,next:null};if(tg(c))ug(d,k);else if(k=pa(c,d,k,u),null!==k){var R=La();yb(k,c,u,R);Rd(k,d,u)}}function fg(c,d,k){var u=zb(c),R={lane:u,action:k,hasEagerState:!1,eagerState:null,next:null};if(tg(c))ug(d,R);else{var ea=
c.alternate;if(0===c.lanes&&(null===ea||0===ea.lanes)&&(ea=d.lastRenderedReducer,null!==ea))try{var Ta=d.lastRenderedState,Tb=ea(Ta,k);R.hasEagerState=!0;R.eagerState=Tb;if(Ph(Tb,Ta)){var oc=d.interleaved;null===oc?(R.next=R,Z(d)):(R.next=oc.next,oc.next=R);d.interleaved=R;return}}catch(Vc){}finally{}k=pa(c,d,R,u);null!==k&&(R=La(),yb(k,c,u,R),Rd(k,d,u))}}function tg(c){var d=c.alternate;return c===yf||null!==d&&d===yf}function ug(c,d){Hj=mk=!0;var k=c.pending;null===k?d.next=d:(d.next=k.next,k.next=
d);c.pending=d}function Rd(c,d,k){if(0!==(k&4194240)){var u=d.lanes;u&=c.pendingLanes;k|=u;d.lanes=k;xc(c,k)}}function pe(c,d){try{var k="",u=d;do k+=Ea(u),u=u.return;while(u)}catch(R){k="\nError generating stack: "+R.message+"\n"+R.stack}return{value:c,source:d,stack:k,digest:null}}function sf(c,d,k){return{value:c,source:null,stack:null!=k?k:null,digest:null!=d?d:null}}function De(c,d){try{console.error(d.value)}catch(k){setTimeout(function(){throw k;})}}function kf(c,d,k){k=Xb(-1,k);k.tag=3;k.payload=
{element:null};var u=d.value;k.callback=function(){Jj||(Jj=!0,ok=u);De(c,d)};return k}function Xe(c,d,k){k=Xb(-1,k);k.tag=3;var u=c.type.getDerivedStateFromError;if("function"===typeof u){var R=d.value;k.payload=function(){return u(R)};k.callback=function(){De(c,d)}}var ea=c.stateNode;null!==ea&&"function"===typeof ea.componentDidCatch&&(k.callback=function(){De(c,d);"function"!==typeof u&&(null===ri?ri=new Set([this]):ri.add(this));var Ta=d.stack;this.componentDidCatch(d.value,{componentStack:null!==
Ta?Ta:""})});return k}function Tf(c,d,k){var u=c.pingCache;if(null===u){u=c.pingCache=new ul;var R=new Set;u.set(d,R)}else R=u.get(d),void 0===R&&(R=new Set,u.set(d,R));R.has(k)||(R.add(k),c=Hg.bind(null,c,d,k),d.then(c,c))}function vf(c){do{var d;if(d=13===c.tag)d=c.memoizedState,d=null!==d?null!==d.dehydrated?!0:!1:!0;if(d)return c;c=c.return}while(null!==c);return null}function Hf(c,d,k,u,R){if(0===(c.mode&1))return c===d?c.flags|=65536:(c.flags|=128,k.flags|=131072,k.flags&=-52805,1===k.tag&&
(null===k.alternate?k.tag=17:(d=Xb(-1,1),d.tag=2,$b(k,d,1))),k.lanes|=1),c;c.flags|=65536;c.lanes=R;return c}function lf(c,d,k,u){d.child=null===c?vl(d,null,k,u):Wi(d,c.child,k,u)}function Og(c,d,k,u,R){k=k.render;var ea=d.ref;p(d,R);u=td(c,d,k,u,ea,R);k=Me();if(null!==c&&!mh)return d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~R,eh(c,d,R);Wf&&k&&df(d);d.flags|=1;lf(c,d,u,R);return d.child}function Pg(c,d,k,u,R){if(null===c){var ea=k.type;if("function"===typeof ea&&!Yg(ea)&&void 0===ea.defaultProps&&
null===k.compare&&void 0===k.defaultProps)return d.tag=15,d.type=ea,oh(c,d,ea,u,R);c=qg(k.type,null,u,d,d.mode,R);c.ref=d.ref;c.return=d;return d.child=c}ea=c.child;if(0===(c.lanes&R)){var Ta=ea.memoizedProps;k=k.compare;k=null!==k?k:wa;if(k(Ta,u)&&c.ref===d.ref)return eh(c,d,R)}d.flags|=1;c=Xf(ea,u);c.ref=d.ref;c.return=d;return d.child=c}function oh(c,d,k,u,R){if(null!==c){var ea=c.memoizedProps;if(wa(ea,u)&&c.ref===d.ref)if(mh=!1,d.pendingProps=u=ea,0!==(c.lanes&R))0!==(c.flags&131072)&&(mh=!0);
else return d.lanes=c.lanes,eh(c,d,R)}return vh(c,d,k,u,R)}function Uf(c,d,k){var u=d.pendingProps,R=u.children,ea=null!==c?c.memoizedState:null;if("hidden"===u.mode)if(0===(d.mode&1))d.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wd(wh,xh),xh|=k;else{if(0===(k&1073741824))return c=null!==ea?ea.baseLanes|k:k,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:c,cachePool:null,transitions:null},d.updateQueue=null,Wd(wh,xh),xh|=c,null;d.memoizedState={baseLanes:0,cachePool:null,
transitions:null};u=null!==ea?ea.baseLanes:k;Wd(wh,xh);xh|=u}else null!==ea?(u=ea.baseLanes|k,d.memoizedState=null):u=k,Wd(wh,xh),xh|=u;lf(c,d,R,k);return d.child}function gi(c,d){var k=d.ref;if(null===c&&null!==k||null!==c&&c.ref!==k)d.flags|=512,d.flags|=2097152}function vh(c,d,k,u,R){var ea=Qa(k)?oi:Dg.current;ea=Ca(d,ea);p(d,R);k=td(c,d,k,u,ea,R);u=Me();if(null!==c&&!mh)return d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~R,eh(c,d,R);Wf&&u&&df(d);d.flags|=1;lf(c,d,k,R);return d.child}function Qg(c,
d,k,u,R){if(Qa(k)){var ea=!0;Mc(d)}else ea=!1;p(d,R);if(null===d.stateNode)ph(c,d),jd(d,k,u),Rc(d,k,u,R),u=!0;else if(null===c){var Ta=d.stateNode,Tb=d.memoizedProps;Ta.props=Tb;var oc=Ta.context,Vc=k.contextType;"object"===typeof Vc&&null!==Vc?Vc=Q(Vc):(Vc=Qa(k)?oi:Dg.current,Vc=Ca(d,Vc));var yd=k.getDerivedStateFromProps,Bd="function"===typeof yd||"function"===typeof Ta.getSnapshotBeforeUpdate;Bd||"function"!==typeof Ta.UNSAFE_componentWillReceiveProps&&"function"!==typeof Ta.componentWillReceiveProps||
(Tb!==u||oc!==Vc)&&$d(d,Ta,u,Vc);Hi=!1;var wd=d.memoizedState;Ta.state=wd;yc(d,u,Ta,R);oc=d.memoizedState;Tb!==u||wd!==oc||dh.current||Hi?("function"===typeof yd&&(Zc(d,k,yd,u),oc=d.memoizedState),(Tb=Hi||Yc(d,k,Tb,u,wd,oc,Vc))?(Bd||"function"!==typeof Ta.UNSAFE_componentWillMount&&"function"!==typeof Ta.componentWillMount||("function"===typeof Ta.componentWillMount&&Ta.componentWillMount(),"function"===typeof Ta.UNSAFE_componentWillMount&&Ta.UNSAFE_componentWillMount()),"function"===typeof Ta.componentDidMount&&
(d.flags|=4194308)):("function"===typeof Ta.componentDidMount&&(d.flags|=4194308),d.memoizedProps=u,d.memoizedState=oc),Ta.props=u,Ta.state=oc,Ta.context=Vc,u=Tb):("function"===typeof Ta.componentDidMount&&(d.flags|=4194308),u=!1)}else{Ta=d.stateNode;Ib(c,d);Tb=d.memoizedProps;Vc=d.type===d.elementType?Tb:oe(d.type,Tb);Ta.props=Vc;Bd=d.pendingProps;wd=Ta.context;oc=k.contextType;"object"===typeof oc&&null!==oc?oc=Q(oc):(oc=Qa(k)?oi:Dg.current,oc=Ca(d,oc));var Vd=k.getDerivedStateFromProps;(yd="function"===
typeof Vd||"function"===typeof Ta.getSnapshotBeforeUpdate)||"function"!==typeof Ta.UNSAFE_componentWillReceiveProps&&"function"!==typeof Ta.componentWillReceiveProps||(Tb!==Bd||wd!==oc)&&$d(d,Ta,u,oc);Hi=!1;wd=d.memoizedState;Ta.state=wd;yc(d,u,Ta,R);var ge=d.memoizedState;Tb!==Bd||wd!==ge||dh.current||Hi?("function"===typeof Vd&&(Zc(d,k,Vd,u),ge=d.memoizedState),(Vc=Hi||Yc(d,k,Vc,u,wd,ge,oc)||!1)?(yd||"function"!==typeof Ta.UNSAFE_componentWillUpdate&&"function"!==typeof Ta.componentWillUpdate||
("function"===typeof Ta.componentWillUpdate&&Ta.componentWillUpdate(u,ge,oc),"function"===typeof Ta.UNSAFE_componentWillUpdate&&Ta.UNSAFE_componentWillUpdate(u,ge,oc)),"function"===typeof Ta.componentDidUpdate&&(d.flags|=4),"function"===typeof Ta.getSnapshotBeforeUpdate&&(d.flags|=1024)):("function"!==typeof Ta.componentDidUpdate||Tb===c.memoizedProps&&wd===c.memoizedState||(d.flags|=4),"function"!==typeof Ta.getSnapshotBeforeUpdate||Tb===c.memoizedProps&&wd===c.memoizedState||(d.flags|=1024),d.memoizedProps=
u,d.memoizedState=ge),Ta.props=u,Ta.state=ge,Ta.context=oc,u=Vc):("function"!==typeof Ta.componentDidUpdate||Tb===c.memoizedProps&&wd===c.memoizedState||(d.flags|=4),"function"!==typeof Ta.getSnapshotBeforeUpdate||Tb===c.memoizedProps&&wd===c.memoizedState||(d.flags|=1024),u=!1)}return Rg(c,d,k,u,ea,R)}function Rg(c,d,k,u,R,ea){gi(c,d);var Ta=0!==(d.flags&128);if(!u&&!Ta)return R&&Ec(d,k,!1),eh(c,d,ea);u=d.stateNode;wl.current=d;var Tb=Ta&&"function"!==typeof k.getDerivedStateFromError?null:u.render();
d.flags|=1;null!==c&&Ta?(d.child=Wi(d,c.child,null,ea),d.child=Wi(d,null,Tb,ea)):lf(c,d,Tb,ea);d.memoizedState=u.state;R&&Ec(d,k,!0);return d.child}function Th(c){var d=c.stateNode;d.pendingContext?id(c,d.pendingContext,d.pendingContext!==d.context):d.context&&id(c,d.context,!1);re(c,d.containerInfo)}function Xi(c){return{baseLanes:c,cachePool:null,transitions:null}}function Ki(c,d,k){var u=d.pendingProps,R=Zf.current,ea=!1,Ta=0!==(d.flags&128),Tb;(Tb=Ta)||(Tb=null!==c&&null===c.memoizedState?!1:
0!==(R&2));if(Tb)ea=!0,d.flags&=-129;else if(null===c||null!==c.memoizedState)R|=1;Wd(Zf,R&1);if(null===c){Le(d);c=d.memoizedState;if(null!==c&&(c=c.dehydrated,null!==c))return 0===(d.mode&1)?d.lanes=1:"$!"===c.data?d.lanes=8:d.lanes=1073741824,null;Ta=u.children;c=u.fallback;return ea?(u=d.mode,ea=d.child,Ta={mode:"hidden",children:Ta},0===(u&1)&&null!==ea?(ea.childLanes=0,ea.pendingProps=Ta):ea=Bg(Ta,u,0,null),c=dg(c,u,k,null),ea.return=d,c.return=d,ea.sibling=c,d.child=ea,d.child.memoizedState=
Xi(k),d.memoizedState=Sk,c):Li(d,Ta)}R=c.memoizedState;if(null!==R&&(Tb=R.dehydrated,null!==Tb))return Yi(c,d,Ta,u,Tb,R,k);if(ea){ea=u.fallback;Ta=d.mode;R=c.child;Tb=R.sibling;var oc={mode:"hidden",children:u.children};0===(Ta&1)&&d.child!==R?(u=d.child,u.childLanes=0,u.pendingProps=oc,d.deletions=null):(u=Xf(R,oc),u.subtreeFlags=R.subtreeFlags&14680064);null!==Tb?ea=Xf(Tb,ea):(ea=dg(ea,Ta,k,null),ea.flags|=2);ea.return=d;u.return=d;u.sibling=ea;d.child=u;u=ea;ea=d.child;Ta=c.child.memoizedState;
Ta=null===Ta?Xi(k):{baseLanes:Ta.baseLanes|k,cachePool:null,transitions:Ta.transitions};ea.memoizedState=Ta;ea.childLanes=c.childLanes&~k;d.memoizedState=Sk;return u}ea=c.child;c=ea.sibling;u=Xf(ea,{mode:"visible",children:u.children});0===(d.mode&1)&&(u.lanes=k);u.return=d;u.sibling=null;null!==c&&(k=d.deletions,null===k?(d.deletions=[c],d.flags|=16):k.push(c));d.child=u;d.memoizedState=null;return u}function Li(c,d){d=Bg({mode:"visible",children:d},c.mode,0,null);d.return=c;return c.child=d}function hi(c,
d,k,u){null!==u&&le(u);Wi(d,c.child,null,k);c=Li(d,d.pendingProps.children);c.flags|=2;d.memoizedState=null;return c}function Yi(c,d,k,u,R,ea,Ta){if(k){if(d.flags&256)return d.flags&=-257,u=sf(Error(t(422))),hi(c,d,Ta,u);if(null!==d.memoizedState)return d.child=c.child,d.flags|=128,null;ea=u.fallback;R=d.mode;u=Bg({mode:"visible",children:u.children},R,0,null);ea=dg(ea,R,Ta,null);ea.flags|=2;u.return=d;ea.return=d;u.sibling=ea;d.child=u;0!==(d.mode&1)&&Wi(d,c.child,null,Ta);d.child.memoizedState=
Xi(Ta);d.memoizedState=Sk;return ea}if(0===(d.mode&1))return hi(c,d,Ta,null);if("$!"===R.data){if(u=R.nextSibling&&R.nextSibling.dataset)var Tb=u.dgst;u=Tb;ea=Error(t(419));u=sf(ea,u,void 0);return hi(c,d,Ta,u)}Tb=0!==(Ta&c.childLanes);if(mh||Tb){u=Gg;if(null!==u){switch(Ta&-Ta){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=
32;break;case 536870912:R=268435456;break;default:R=0}R=0!==(R&(u.suspendedLanes|Ta))?0:R;0!==R&&R!==ea.retryLane&&(ea.retryLane=R,xa(c,R),yb(u,c,R,-1))}ie();u=sf(Error(t(421)));return hi(c,d,Ta,u)}if("$?"===R.data)return d.flags|=128,d.child=c.child,d=vg.bind(null,c),R._reactRetry=d,null;c=ea.treeContext;Wg=Sc(R.nextSibling);Vg=d;Wf=!0;lh=null;null!==c&&(Jf[uh++]=Eh,Jf[uh++]=pi,Jf[uh++]=di,Eh=c.id,pi=c.overflow,di=d);d=Li(d,u.children);d.flags|=4096;return d}function Mi(c,d,k){c.lanes|=d;var u=c.alternate;
null!==u&&(u.lanes|=d);M(c.return,d,k)}function Zg(c,d,k,u,R){var ea=c.memoizedState;null===ea?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:u,tail:k,tailMode:R}:(ea.isBackwards=d,ea.rendering=null,ea.renderingStartTime=0,ea.last=u,ea.tail=k,ea.tailMode=R)}function Ni(c,d,k){var u=d.pendingProps,R=u.revealOrder,ea=u.tail;lf(c,d,u.children,k);u=Zf.current;if(0!==(u&2))u=u&1|2,d.flags|=128;else{if(null!==c&&0!==(c.flags&128))a:for(c=d.child;null!==c;){if(13===c.tag)null!==
c.memoizedState&&Mi(c,k,d);else if(19===c.tag)Mi(c,k,d);else if(null!==c.child){c.child.return=c;c=c.child;continue}if(c===d)break a;for(;null===c.sibling;){if(null===c.return||c.return===d)break a;c=c.return}c.sibling.return=c.return;c=c.sibling}u&=1}Wd(Zf,u);if(0===(d.mode&1))d.memoizedState=null;else switch(R){case "forwards":k=d.child;for(R=null;null!==k;)c=k.alternate,null!==c&&null===Ke(c)&&(R=k),k=k.sibling;k=R;null===k?(R=d.child,d.child=null):(R=k.sibling,k.sibling=null);Zg(d,!1,R,k,ea);
break;case "backwards":k=null;R=d.child;for(d.child=null;null!==R;){c=R.alternate;if(null!==c&&null===Ke(c)){d.child=R;break}c=R.sibling;R.sibling=k;k=R;R=c}Zg(d,!0,k,null,ea);break;case "together":Zg(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function ph(c,d){0===(d.mode&1)&&null!==c&&(c.alternate=null,d.alternate=null,d.flags|=2)}function eh(c,d,k){null!==c&&(d.dependencies=c.dependencies);ff|=d.lanes;if(0===(k&d.childLanes))return null;if(null!==c&&d.child!==c.child)throw Error(t(153));
if(null!==d.child){c=d.child;k=Xf(c,c.pendingProps);d.child=k;for(k.return=d;null!==c.sibling;)c=c.sibling,k=k.sibling=Xf(c,c.pendingProps),k.return=d;k.sibling=null}return d.child}function Uh(c,d,k){switch(d.tag){case 3:Th(d);fe();break;case 5:Sd(d);break;case 1:Qa(d.type)&&Mc(d);break;case 4:re(d,d.stateNode.containerInfo);break;case 10:var u=d.type._context,R=d.memoizedProps.value;Wd(lj,u._currentValue);u._currentValue=R;break;case 13:u=d.memoizedState;if(null!==u){if(null!==u.dehydrated)return Wd(Zf,
Zf.current&1),d.flags|=128,null;if(0!==(k&d.child.childLanes))return Ki(c,d,k);Wd(Zf,Zf.current&1);c=eh(c,d,k);return null!==c?c.sibling:null}Wd(Zf,Zf.current&1);break;case 19:u=0!==(k&d.childLanes);if(0!==(c.flags&128)){if(u)return Ni(c,d,k);d.flags|=128}R=d.memoizedState;null!==R&&(R.rendering=null,R.tail=null,R.lastEffect=null);Wd(Zf,Zf.current);if(u)break;else return null;case 22:case 23:return d.lanes=0,Uf(c,d,k)}return eh(c,d,k)}function wg(c,d){if(!Wf)switch(c.tailMode){case "hidden":d=c.tail;
for(var k=null;null!==d;)null!==d.alternate&&(k=d),d=d.sibling;null===k?c.tail=null:k.sibling=null;break;case "collapsed":k=c.tail;for(var u=null;null!==k;)null!==k.alternate&&(u=k),k=k.sibling;null===u?d||null===c.tail?c.tail=null:c.tail.sibling=null:u.sibling=null}}function gg(c){var d=null!==c.alternate&&c.alternate.child===c.child,k=0,u=0;if(d)for(var R=c.child;null!==R;)k|=R.lanes|R.childLanes,u|=R.subtreeFlags&14680064,u|=R.flags&14680064,R.return=c,R=R.sibling;else for(R=c.child;null!==R;)k|=
R.lanes|R.childLanes,u|=R.subtreeFlags,u|=R.flags,R.return=c,R=R.sibling;c.subtreeFlags|=u;c.childLanes=k;return d}function Zi(c,d,k){var u=d.pendingProps;Oe(d);switch(d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gg(d),null;case 1:return Qa(d.type)&&bc(),gg(d),null;case 3:u=d.stateNode;ue();Ad(dh);Ad(Dg);jf();u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null);if(null===c||null===c.child)Ze(d)?d.flags|=4:null===c||c.memoizedState.isDehydrated&&
0===(d.flags&256)||(d.flags|=1024,null!==lh&&(fa(lh),lh=null));Tk(c,d);gg(d);return null;case 5:Ud(d);var R=Qd(fi.current);k=d.type;if(null!==c&&null!=d.stateNode)xl(c,d,k,u,R),c.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!u){if(null===d.stateNode)throw Error(t(166));gg(d);return null}c=Qd(Sh.current);if(Ze(d)){u=d.stateNode;k=d.type;var ea=d.memoizedProps;u[Rh]=d;u[Fj]=ea;c=0!==(d.mode&1);switch(k){case "dialog":kd("cancel",u);kd("close",u);break;case "iframe":case "object":case "embed":kd("load",
u);break;case "video":case "audio":for(R=0;R<rj.length;R++)kd(rj[R],u);break;case "source":kd("error",u);break;case "img":case "image":case "link":kd("error",u);kd("load",u);break;case "details":kd("toggle",u);break;case "input":Ba(u,ea);kd("invalid",u);break;case "select":u._wrapperState={wasMultiple:!!ea.multiple};kd("invalid",u);break;case "textarea":Nb(u,ea),kd("invalid",u)}qa(k,ea);R=null;for(var Ta in ea)if(ea.hasOwnProperty(Ta)){var Tb=ea[Ta];"children"===Ta?"string"===typeof Tb?u.textContent!==
Tb&&(!0!==ea.suppressHydrationWarning&&Ga(u.textContent,Tb,c),R=["children",Tb]):"number"===typeof Tb&&u.textContent!==""+Tb&&(!0!==ea.suppressHydrationWarning&&Ga(u.textContent,Tb,c),R=["children",""+Tb]):Zh.hasOwnProperty(Ta)&&null!=Tb&&"onScroll"===Ta&&kd("scroll",u)}switch(k){case "input":gb(u);Ia(u,ea,!0);break;case "textarea":gb(u);V(u);break;case "select":case "option":break;default:"function"===typeof ea.onClick&&(u.onclick=eb)}u=R;d.updateQueue=u;null!==u&&(d.flags|=4)}else{Ta=9===R.nodeType?
R:R.ownerDocument;"http://www.w3.org/1999/xhtml"===c&&(c=N(k));"http://www.w3.org/1999/xhtml"===c?"script"===k?(c=Ta.createElement("div"),c.innerHTML="\x3cscript\x3e\x3c/script\x3e",c=c.removeChild(c.firstChild)):"string"===typeof u.is?c=Ta.createElement(k,{is:u.is}):(c=Ta.createElement(k),"select"===k&&(Ta=c,u.multiple?Ta.multiple=!0:u.size&&(Ta.size=u.size))):c=Ta.createElementNS(c,k);c[Rh]=d;c[Fj]=u;si(c,d,!1,!1);d.stateNode=c;a:{Ta=l(k,u);switch(k){case "dialog":kd("cancel",c);kd("close",c);R=
u;break;case "iframe":case "object":case "embed":kd("load",c);R=u;break;case "video":case "audio":for(R=0;R<rj.length;R++)kd(rj[R],c);R=u;break;case "source":kd("error",c);R=u;break;case "img":case "image":case "link":kd("error",c);kd("load",c);R=u;break;case "details":kd("toggle",c);R=u;break;case "input":Ba(c,u);R=ha(c,u);kd("invalid",c);break;case "option":R=u;break;case "select":c._wrapperState={wasMultiple:!!u.multiple};R=He({},u,{value:void 0});kd("invalid",c);break;case "textarea":Nb(c,u);
R=qb(c,u);kd("invalid",c);break;default:R=u}qa(k,R);Tb=R;for(ea in Tb)if(Tb.hasOwnProperty(ea)){var oc=Tb[ea];"style"===ea?la(c,oc):"dangerouslySetInnerHTML"===ea?(oc=oc?oc.__html:void 0,null!=oc&&Id(c,oc)):"children"===ea?"string"===typeof oc?("textarea"!==k||""!==oc)&&oa(c,oc):"number"===typeof oc&&oa(c,""+oc):"suppressContentEditableWarning"!==ea&&"suppressHydrationWarning"!==ea&&"autoFocus"!==ea&&(Zh.hasOwnProperty(ea)?null!=oc&&"onScroll"===ea&&kd("scroll",c):null!=oc&&nc(c,ea,oc,Ta))}switch(k){case "input":gb(c);
Ia(c,u,!1);break;case "textarea":gb(c);V(c);break;case "option":null!=u.value&&c.setAttribute("value",""+rb(u.value));break;case "select":c.multiple=!!u.multiple;ea=u.value;null!=ea?Za(c,!!u.multiple,ea,!1):null!=u.defaultValue&&Za(c,!!u.multiple,u.defaultValue,!0);break;default:"function"===typeof R.onClick&&(c.onclick=eb)}switch(k){case "button":case "input":case "select":case "textarea":u=!!u.autoFocus;break a;case "img":u=!0;break a;default:u=!1}}u&&(d.flags|=4)}null!==d.ref&&(d.flags|=512,d.flags|=
2097152)}gg(d);return null;case 6:if(c&&null!=d.stateNode)$l(c,d,c.memoizedProps,u);else{if("string"!==typeof u&&null===d.stateNode)throw Error(t(166));k=Qd(fi.current);Qd(Sh.current);if(Ze(d)){u=d.stateNode;k=d.memoizedProps;u[Rh]=d;if(ea=u.nodeValue!==k)if(c=Vg,null!==c)switch(c.tag){case 3:Ga(u.nodeValue,k,0!==(c.mode&1));break;case 5:!0!==c.memoizedProps.suppressHydrationWarning&&Ga(u.nodeValue,k,0!==(c.mode&1))}ea&&(d.flags|=4)}else u=(9===k.nodeType?k:k.ownerDocument).createTextNode(u),u[Rh]=
d,d.stateNode=u}gg(d);return null;case 13:Ad(Zf);u=d.memoizedState;if(null===c||null!==c.memoizedState&&null!==c.memoizedState.dehydrated){if(Wf&&null!==Wg&&0!==(d.mode&1)&&0===(d.flags&128))ne(),fe(),d.flags|=98560,ea=!1;else if(ea=Ze(d),null!==u&&null!==u.dehydrated){if(null===c){if(!ea)throw Error(t(318));ea=d.memoizedState;ea=null!==ea?ea.dehydrated:null;if(!ea)throw Error(t(317));ea[Rh]=d}else fe(),0===(d.flags&128)&&(d.memoizedState=null),d.flags|=4;gg(d);ea=!1}else null!==lh&&(fa(lh),lh=null),
ea=!0;if(!ea)return d.flags&65536?d:null}if(0!==(d.flags&128))return d.lanes=k,d;u=null!==u;u!==(null!==c&&null!==c.memoizedState)&&u&&(d.child.flags|=8192,0!==(d.mode&1)&&(null===c||0!==(Zf.current&1)?0===Cg&&(Cg=3):ie()));null!==d.updateQueue&&(d.flags|=4);gg(d);return null;case 4:return ue(),Tk(c,d),null===c&&he(d.stateNode.containerInfo),gg(d),null;case 10:return y(d.type._context),gg(d),null;case 17:return Qa(d.type)&&bc(),gg(d),null;case 19:Ad(Zf);ea=d.memoizedState;if(null===ea)return gg(d),
null;u=0!==(d.flags&128);Ta=ea.rendering;if(null===Ta)if(u)wg(ea,!1);else{if(0!==Cg||null!==c&&0!==(c.flags&128))for(c=d.child;null!==c;){Ta=Ke(c);if(null!==Ta){d.flags|=128;wg(ea,!1);u=Ta.updateQueue;null!==u&&(d.updateQueue=u,d.flags|=4);d.subtreeFlags=0;u=k;for(k=d.child;null!==k;)ea=k,c=u,ea.flags&=14680066,Ta=ea.alternate,null===Ta?(ea.childLanes=0,ea.lanes=c,ea.child=null,ea.subtreeFlags=0,ea.memoizedProps=null,ea.memoizedState=null,ea.updateQueue=null,ea.dependencies=null,ea.stateNode=null):
(ea.childLanes=Ta.childLanes,ea.lanes=Ta.lanes,ea.child=Ta.child,ea.subtreeFlags=0,ea.deletions=null,ea.memoizedProps=Ta.memoizedProps,ea.memoizedState=Ta.memoizedState,ea.updateQueue=Ta.updateQueue,ea.type=Ta.type,c=Ta.dependencies,ea.dependencies=null===c?null:{lanes:c.lanes,firstContext:c.firstContext}),k=k.sibling;Wd(Zf,Zf.current&1|2);return d.child}c=c.sibling}null!==ea.tail&&hg()>sj&&(d.flags|=128,u=!0,wg(ea,!1),d.lanes=4194304)}else{if(!u)if(c=Ke(Ta),null!==c){if(d.flags|=128,u=!0,k=c.updateQueue,
null!==k&&(d.updateQueue=k,d.flags|=4),wg(ea,!0),null===ea.tail&&"hidden"===ea.tailMode&&!Ta.alternate&&!Wf)return gg(d),null}else 2*hg()-ea.renderingStartTime>sj&&1073741824!==k&&(d.flags|=128,u=!0,wg(ea,!1),d.lanes=4194304);ea.isBackwards?(Ta.sibling=d.child,d.child=Ta):(k=ea.last,null!==k?k.sibling=Ta:d.child=Ta,ea.last=Ta)}if(null!==ea.tail)return d=ea.tail,ea.rendering=d,ea.tail=d.sibling,ea.renderingStartTime=hg(),d.sibling=null,k=Zf.current,Wd(Zf,u?k&1|2:k&1),d;gg(d);return null;case 22:case 23:return gc(),
u=null!==d.memoizedState,null!==c&&null!==c.memoizedState!==u&&(d.flags|=8192),u&&0!==(d.mode&1)?0!==(xh&1073741824)&&(gg(d),d.subtreeFlags&6&&(d.flags|=8192)):gg(d),null;case 24:return null;case 25:return null}throw Error(t(156,d.tag));}function ii(c,d){Oe(d);switch(d.tag){case 1:return Qa(d.type)&&bc(),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return ue(),Ad(dh),Ad(Dg),jf(),c=d.flags,0!==(c&65536)&&0===(c&128)?(d.flags=c&-65537|128,d):null;case 5:return Ud(d),null;case 13:Ad(Zf);c=
d.memoizedState;if(null!==c&&null!==c.dehydrated){if(null===d.alternate)throw Error(t(340));fe()}c=d.flags;return c&65536?(d.flags=c&-65537|128,d):null;case 19:return Ad(Zf),null;case 4:return ue(),null;case 10:return y(d.type._context),null;case 22:case 23:return gc(),null;case 24:return null;default:return null}}function $g(c,d){var k=c.ref;if(null!==k)if("function"===typeof k)try{k(null)}catch(u){tf(c,d,u)}else k.current=null}function ti(c,d,k){try{k()}catch(u){tf(c,d,u)}}function Kj(c,d){Uk=Wj;
c=ec();if(Qb(c)){if("selectionStart"in c)var k={start:c.selectionStart,end:c.selectionEnd};else a:{k=(k=c.ownerDocument)&&k.defaultView||window;var u=k.getSelection&&k.getSelection();if(u&&0!==u.rangeCount){k=u.anchorNode;var R=u.anchorOffset,ea=u.focusNode;u=u.focusOffset;try{k.nodeType,ea.nodeType}catch(Fd){k=null;break a}var Ta=0,Tb=-1,oc=-1,Vc=0,yd=0,Bd=c,wd=null;b:for(;;){for(var Vd;;){Bd!==k||0!==R&&3!==Bd.nodeType||(Tb=Ta+R);Bd!==ea||0!==u&&3!==Bd.nodeType||(oc=Ta+u);3===Bd.nodeType&&(Ta+=
Bd.nodeValue.length);if(null===(Vd=Bd.firstChild))break;wd=Bd;Bd=Vd}for(;;){if(Bd===c)break b;wd===k&&++Vc===R&&(Tb=Ta);wd===ea&&++yd===u&&(oc=Ta);if(null!==(Vd=Bd.nextSibling))break;Bd=wd;wd=Bd.parentNode}Bd=Vd}k=-1===Tb||-1===oc?null:{start:Tb,end:oc}}else k=null}k=k||{start:0,end:0}}else k=null;Vk={focusedElem:c,selectionRange:k};Wj=!1;for(ae=d;null!==ae;)if(d=ae,c=d.child,0!==(d.subtreeFlags&1028)&&null!==c)c.return=d,ae=c;else for(;null!==ae;){d=ae;try{var ge=d.alternate;if(0!==(d.flags&1024))switch(d.tag){case 0:case 11:case 15:break;
case 1:if(null!==ge){var ke=ge.memoizedProps,cg=ge.memoizedState,Gc=d.stateNode,uc=Gc.getSnapshotBeforeUpdate(d.elementType===d.type?ke:oe(d.type,ke),cg);Gc.__reactInternalSnapshotBeforeUpdate=uc}break;case 3:var Qc=d.stateNode.containerInfo;1===Qc.nodeType?Qc.textContent="":9===Qc.nodeType&&Qc.documentElement&&Qc.removeChild(Qc.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163));}}catch(Fd){tf(d,d.return,Fd)}c=d.sibling;if(null!==c){c.return=d.return;ae=c;break}ae=
d.return}ge=yl;yl=!1;return ge}function yh(c,d,k){var u=d.updateQueue;u=null!==u?u.lastEffect:null;if(null!==u){var R=u=u.next;do{if((R.tag&c)===c){var ea=R.destroy;R.destroy=void 0;void 0!==ea&&ti(d,k,ea)}R=R.next}while(R!==u)}}function Gh(c,d){d=d.updateQueue;d=null!==d?d.lastEffect:null;if(null!==d){var k=d=d.next;do{if((k.tag&c)===c){var u=k.create;k.destroy=u()}k=k.next}while(k!==d)}}function Ig(c){var d=c.ref;if(null!==d){var k=c.stateNode;switch(c.tag){case 5:c=k;break;default:c=k}"function"===
typeof d?d(c):d.current=c}}function mg(c){var d=c.alternate;null!==d&&(c.alternate=null,mg(d));c.child=null;c.deletions=null;c.sibling=null;5===c.tag&&(d=c.stateNode,null!==d&&(delete d[Rh],delete d[Fj],delete d[Jk],delete d[zl],delete d[Wk]));c.stateNode=null;c.return=null;c.dependencies=null;c.memoizedProps=null;c.memoizedState=null;c.pendingProps=null;c.stateNode=null;c.updateQueue=null}function zh(c){return 5===c.tag||3===c.tag||4===c.tag}function Hh(c){a:for(;;){for(;null===c.sibling;){if(null===
c.return||zh(c.return))return null;c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.flags&2)continue a;if(null===c.child||4===c.tag)continue a;else c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function fh(c,d,k){var u=c.tag;if(5===u||6===u)c=c.stateNode,d?8===k.nodeType?k.parentNode.insertBefore(c,d):k.insertBefore(c,d):(8===k.nodeType?(d=k.parentNode,d.insertBefore(c,k)):(d=k,d.appendChild(c)),k=k._reactRootContainer,null!==k&&void 0!==
k||null!==d.onclick||(d.onclick=eb));else if(4!==u&&(c=c.child,null!==c))for(fh(c,d,k),c=c.sibling;null!==c;)fh(c,d,k),c=c.sibling}function Kf(c,d,k){var u=c.tag;if(5===u||6===u)c=c.stateNode,d?k.insertBefore(c,d):k.appendChild(c);else if(4!==u&&(c=c.child,null!==c))for(Kf(c,d,k),c=c.sibling;null!==c;)Kf(c,d,k),c=c.sibling}function ng(c,d,k){for(k=k.child;null!==k;)gh(c,d,k),k=k.sibling}function gh(c,d,k){if($h&&"function"===typeof $h.onCommitFiberUnmount)try{$h.onCommitFiberUnmount(Cj,k)}catch(Tb){}switch(k.tag){case 5:ah||
$g(k,d);case 6:var u=Sg,R=Vh;Sg=null;ng(c,d,k);Sg=u;Vh=R;null!==Sg&&(Vh?(c=Sg,k=k.stateNode,8===c.nodeType?c.parentNode.removeChild(k):c.removeChild(k)):Sg.removeChild(k.stateNode));break;case 18:null!==Sg&&(Vh?(c=Sg,k=k.stateNode,8===c.nodeType?Rb(c.parentNode,k):1===c.nodeType&&Rb(c,k),Ac(c)):Rb(Sg,k.stateNode));break;case 4:u=Sg;R=Vh;Sg=k.stateNode.containerInfo;Vh=!0;ng(c,d,k);Sg=u;Vh=R;break;case 0:case 11:case 14:case 15:if(!ah&&(u=k.updateQueue,null!==u&&(u=u.lastEffect,null!==u))){R=u=u.next;
do{var ea=R,Ta=ea.destroy;ea=ea.tag;void 0!==Ta&&(0!==(ea&2)?ti(k,d,Ta):0!==(ea&4)&&ti(k,d,Ta));R=R.next}while(R!==u)}ng(c,d,k);break;case 1:if(!ah&&($g(k,d),u=k.stateNode,"function"===typeof u.componentWillUnmount))try{u.props=k.memoizedProps,u.state=k.memoizedState,u.componentWillUnmount()}catch(Tb){tf(k,d,Tb)}ng(c,d,k);break;case 21:ng(c,d,k);break;case 22:k.mode&1?(ah=(u=ah)||null!==k.memoizedState,ng(c,d,k),ah=u):ng(c,d,k);break;default:ng(c,d,k)}}function If(c){var d=c.updateQueue;if(null!==
d){c.updateQueue=null;var k=c.stateNode;null===k&&(k=c.stateNode=new am);d.forEach(function(u){var R=qh.bind(null,c,u);k.has(u)||(k.add(u),u.then(R,R))})}}function hh(c,d){var k=d.deletions;if(null!==k)for(var u=0;u<k.length;u++){var R=k[u];try{var ea=c,Ta=d,Tb=Ta;a:for(;null!==Tb;){switch(Tb.tag){case 5:Sg=Tb.stateNode;Vh=!1;break a;case 3:Sg=Tb.stateNode.containerInfo;Vh=!0;break a;case 4:Sg=Tb.stateNode.containerInfo;Vh=!0;break a}Tb=Tb.return}if(null===Sg)throw Error(t(160));gh(ea,Ta,R);Sg=null;
Vh=!1;var oc=R.alternate;null!==oc&&(oc.return=null);R.return=null}catch(Vc){tf(R,d,Vc)}}if(d.subtreeFlags&12854)for(d=d.child;null!==d;)bh(d,c),d=d.sibling}function bh(c,d){var k=c.alternate,u=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:hh(d,c);ih(c);if(u&4){try{yh(3,c,c.return),Gh(3,c)}catch(ke){tf(c,c.return,ke)}try{yh(5,c,c.return)}catch(ke){tf(c,c.return,ke)}}break;case 1:hh(d,c);ih(c);u&512&&null!==k&&$g(k,k.return);break;case 5:hh(d,c);ih(c);u&512&&null!==k&&$g(k,k.return);if(c.flags&
32){var R=c.stateNode;try{oa(R,"")}catch(ke){tf(c,c.return,ke)}}if(u&4&&(R=c.stateNode,null!=R)){var ea=c.memoizedProps,Ta=null!==k?k.memoizedProps:ea,Tb=c.type,oc=c.updateQueue;c.updateQueue=null;if(null!==oc)try{"input"===Tb&&"radio"===ea.type&&null!=ea.name&&Sa(R,ea);l(Tb,Ta);var Vc=l(Tb,ea);for(Ta=0;Ta<oc.length;Ta+=2){var yd=oc[Ta],Bd=oc[Ta+1];"style"===yd?la(R,Bd):"dangerouslySetInnerHTML"===yd?Id(R,Bd):"children"===yd?oa(R,Bd):nc(R,yd,Bd,Vc)}switch(Tb){case "input":Va(R,ea);break;case "textarea":$a(R,
ea);break;case "select":var wd=R._wrapperState.wasMultiple;R._wrapperState.wasMultiple=!!ea.multiple;var Vd=ea.value;null!=Vd?Za(R,!!ea.multiple,Vd,!1):wd!==!!ea.multiple&&(null!=ea.defaultValue?Za(R,!!ea.multiple,ea.defaultValue,!0):Za(R,!!ea.multiple,ea.multiple?[]:"",!1))}R[Fj]=ea}catch(ke){tf(c,c.return,ke)}}break;case 6:hh(d,c);ih(c);if(u&4){if(null===c.stateNode)throw Error(t(162));R=c.stateNode;ea=c.memoizedProps;try{R.nodeValue=ea}catch(ke){tf(c,c.return,ke)}}break;case 3:hh(d,c);ih(c);if(u&
4&&null!==k&&k.memoizedState.isDehydrated)try{Ac(d.containerInfo)}catch(ke){tf(c,c.return,ke)}break;case 4:hh(d,c);ih(c);break;case 13:hh(d,c);ih(c);R=c.child;R.flags&8192&&(ea=null!==R.memoizedState,R.stateNode.isHidden=ea,!ea||null!==R.alternate&&null!==R.alternate.memoizedState||(Xk=hg()));u&4&&If(c);break;case 22:yd=null!==k&&null!==k.memoizedState;c.mode&1?(ah=(Vc=ah)||yd,hh(d,c),ah=Vc):hh(d,c);ih(c);if(u&8192){Vc=null!==c.memoizedState;if((c.stateNode.isHidden=Vc)&&!yd&&0!==(c.mode&1))for(ae=
c,yd=c.child;null!==yd;){for(Bd=ae=yd;null!==ae;){wd=ae;Vd=wd.child;switch(wd.tag){case 0:case 11:case 14:case 15:yh(4,wd,wd.return);break;case 1:$g(wd,wd.return);var ge=wd.stateNode;if("function"===typeof ge.componentWillUnmount){u=wd;k=wd.return;try{d=u,ge.props=d.memoizedProps,ge.state=d.memoizedState,ge.componentWillUnmount()}catch(ke){tf(u,k,ke)}}break;case 5:$g(wd,wd.return);break;case 22:if(null!==wd.memoizedState){aa(Bd);continue}}null!==Vd?(Vd.return=wd,ae=Vd):aa(Bd)}yd=yd.sibling}yd=null;
Bd=c;a:for(;;){if(5===Bd.tag){if(null===yd){yd=Bd;try{R=Bd.stateNode,Vc?(ea=R.style,"function"===typeof ea.setProperty?ea.setProperty("display","none","important"):ea.display="none"):(Tb=Bd.stateNode,oc=Bd.memoizedProps.style,Ta=void 0!==oc&&null!==oc&&oc.hasOwnProperty("display")?oc.display:null,Tb.style.display=Na("display",Ta))}catch(ke){tf(c,c.return,ke)}}}else if(6===Bd.tag){if(null===yd)try{Bd.stateNode.nodeValue=Vc?"":Bd.memoizedProps}catch(ke){tf(c,c.return,ke)}}else if((22!==Bd.tag&&23!==
Bd.tag||null===Bd.memoizedState||Bd===c)&&null!==Bd.child){Bd.child.return=Bd;Bd=Bd.child;continue}if(Bd===c)break a;for(;null===Bd.sibling;){if(null===Bd.return||Bd.return===c)break a;yd===Bd&&(yd=null);Bd=Bd.return}yd===Bd&&(yd=null);Bd.sibling.return=Bd.return;Bd=Bd.sibling}}break;case 19:hh(d,c);ih(c);u&4&&If(c);break;case 21:break;default:hh(d,c),ih(c)}}function ih(c){var d=c.flags;if(d&2){try{a:{for(var k=c.return;null!==k;){if(zh(k))break a;k=k.return}throw Error(t(160));}switch(k.tag){case 5:var u=
k.stateNode;k.flags&32&&(oa(u,""),k.flags&=-33);var R=Hh(c);Kf(c,R,u);break;case 3:case 4:var ea=k.stateNode.containerInfo,Ta=Hh(c);fh(c,Ta,ea);break;default:throw Error(t(161));}}catch(Tb){tf(c,c.return,Tb)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function Ih(c,d,k){ae=c;ui(c,d,k)}function ui(c,d,k){for(var u=0!==(c.mode&1);null!==ae;){var R=ae,ea=R.child;if(22===R.tag&&u){var Ta=null!==R.memoizedState||pk;if(!Ta){var Tb=R.alternate,oc=null!==Tb&&null!==Tb.memoizedState||ah;Tb=pk;var Vc=ah;pk=Ta;if((ah=
oc)&&!Vc)for(ae=R;null!==ae;)Ta=ae,oc=Ta.child,22===Ta.tag&&null!==Ta.memoizedState?Aa(R):null!==oc?(oc.return=Ta,ae=oc):Aa(R);for(;null!==ea;)ae=ea,ui(ea,d,k),ea=ea.sibling;ae=R;pk=Tb;ah=Vc}B(c,d,k)}else 0!==(R.subtreeFlags&8772)&&null!==ea?(ea.return=R,ae=ea):B(c,d,k)}}function B(c){for(;null!==ae;){var d=ae;if(0!==(d.flags&8772)){var k=d.alternate;try{if(0!==(d.flags&8772))switch(d.tag){case 0:case 11:case 15:ah||Gh(5,d);break;case 1:var u=d.stateNode;if(d.flags&4&&!ah)if(null===k)u.componentDidMount();
else{var R=d.elementType===d.type?k.memoizedProps:oe(d.type,k.memoizedProps);u.componentDidUpdate(R,k.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var ea=d.updateQueue;null!==ea&&Jc(d,ea,u);break;case 3:var Ta=d.updateQueue;if(null!==Ta){k=null;if(null!==d.child)switch(d.child.tag){case 5:k=d.child.stateNode;break;case 1:k=d.child.stateNode}Jc(d,Ta,k)}break;case 5:var Tb=d.stateNode;if(null===k&&d.flags&4){k=Tb;var oc=d.memoizedProps;switch(d.type){case "button":case "input":case "select":case "textarea":oc.autoFocus&&
k.focus();break;case "img":oc.src&&(k.src=oc.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===d.memoizedState){var Vc=d.alternate;if(null!==Vc){var yd=Vc.memoizedState;if(null!==yd){var Bd=yd.dehydrated;null!==Bd&&Ac(Bd)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163));}ah||d.flags&512&&Ig(d)}catch(wd){tf(d,d.return,wd)}}if(d===c){ae=null;break}k=d.sibling;if(null!==k){k.return=d.return;ae=k;break}ae=d.return}}function aa(c){for(;null!==
ae;){var d=ae;if(d===c){ae=null;break}var k=d.sibling;if(null!==k){k.return=d.return;ae=k;break}ae=d.return}}function Aa(c){for(;null!==ae;){var d=ae;try{switch(d.tag){case 0:case 11:case 15:var k=d.return;try{Gh(4,d)}catch(oc){tf(d,k,oc)}break;case 1:var u=d.stateNode;if("function"===typeof u.componentDidMount){var R=d.return;try{u.componentDidMount()}catch(oc){tf(d,R,oc)}}var ea=d.return;try{Ig(d)}catch(oc){tf(d,ea,oc)}break;case 5:var Ta=d.return;try{Ig(d)}catch(oc){tf(d,Ta,oc)}}}catch(oc){tf(d,
d.return,oc)}if(d===c){ae=null;break}var Tb=d.sibling;if(null!==Tb){Tb.return=d.return;ae=Tb;break}ae=d.return}}function La(){return 0!==(ef&6)?hg():-1!==tj?tj:tj=hg()}function zb(c){if(0===(c.mode&1))return 1;if(0!==(ef&2)&&0!==Tg)return Tg&-Tg;if(null!==Al.transition)return 0===uj&&(uj=pc()),uj;c=xf;if(0!==c)return c;c=window.event;return c=void 0===c?16:fb(c.type)}function yb(c,d,k,u){if(50<vj)throw vj=0,$i=null,Error(t(185));Mb(c,k,u);if(0===(ef&2)||c!==Gg)c===Gg&&(0===(ef&2)&&(Jg|=k),4===Cg&&
cb(c,Tg)),cc(c,u),1===k&&0===ef&&0===(d.mode&1)&&(sj=hg()+500,ci&&ld())}function cc(c,d){var k=c.callbackNode;Fa(c,d);var u=Sb(c,c===Gg?Tg:0);if(0===u)null!==k&&vi(k),c.callbackNode=null,c.callbackPriority=0;else if(d=u&-u,c.callbackPriority!==d){null!=k&&vi(k);if(1===d)0===c.tag?Xc(Pb.bind(null,c)):Tc(Pb.bind(null,c)),Bl(function(){0===(ef&6)&&ld()}),k=null;else{switch(hd(u)){case 1:k=Ck;break;case 4:k=Yj;break;case 16:k=Si;break;case 536870912:k=Dk;break;default:k=Si}k=rh(k,q.bind(null,c))}c.callbackPriority=
d;c.callbackNode=k}}function q(c,d){tj=-1;uj=0;if(0!==(ef&6))throw Error(t(327));var k=c.callbackNode;if(ve()&&c.callbackNode!==k)return null;var u=Sb(c,c===Gg?Tg:0);if(0===u)return null;if(0!==(u&30)||0!==(u&c.expiredLanes)||d)d=Ge(c,u);else{d=u;var R=ef;ef|=2;var ea=zd();if(Gg!==c||Tg!==d)wi=null,sj=hg()+500,rd(c,d);do try{for(;null!==xg&&!Yk();)Pe(xg);break}catch(Tb){Wc(c,Tb)}while(1);Vi=ei=mj=null;qk.current=ea;ef=R;null!==xg?d=0:(Gg=null,Tg=0,d=Cg)}if(0!==d){2===d&&(R=Kb(c),0!==R&&(u=R,d=J(c,
R)));if(1===d)throw k=Cf,rd(c,0),cb(c,u),cc(c,hg()),k;if(6===d)cb(c,u);else{R=c.current.alternate;if(0===(u&30)&&!ya(R)&&(d=Ge(c,u),2===d&&(ea=Kb(c),0!==ea&&(u=ea,d=J(c,ea))),1===d))throw k=Cf,rd(c,0),cb(c,u),cc(c,hg()),k;c.finishedWork=R;c.finishedLanes=u;switch(d){case 0:case 1:throw Error(t(345));case 2:Ue(c,ig,wi);break;case 3:cb(c,u);if((u&130023424)===u&&(d=Xk+500-hg(),10<d)){if(0!==Sb(c,0))break;R=c.suspendedLanes;if((R&u)!==u){La();c.pingedLanes|=c.suspendedLanes&R;break}c.timeoutHandle=Zk(Ue.bind(null,
c,ig,wi),d);break}Ue(c,ig,wi);break;case 4:cb(c,u);if((u&4194240)===u)break;d=c.eventTimes;for(R=-1;0<u;){var Ta=31-Oh(u);ea=1<<Ta;Ta=d[Ta];Ta>R&&(R=Ta);u&=~ea}u=R;u=hg()-u;u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3E3>u?3E3:4320>u?4320:1960*bm(u/1960))-u;if(10<u){c.timeoutHandle=Zk(Ue.bind(null,c,ig,wi),u);break}Ue(c,ig,wi);break;case 5:Ue(c,ig,wi);break;default:throw Error(t(329));}}}cc(c,hg());return c.callbackNode===k?q.bind(null,c):null}function J(c,d){var k=Lj;c.current.memoizedState.isDehydrated&&
(rd(c,d).flags|=256);c=Ge(c,d);2!==c&&(d=ig,ig=k,null!==d&&fa(d));return c}function fa(c){null===ig?ig=c:ig.push.apply(ig,c)}function ya(c){for(var d=c;;){if(d.flags&16384){var k=d.updateQueue;if(null!==k&&(k=k.stores,null!==k))for(var u=0;u<k.length;u++){var R=k[u],ea=R.getSnapshot;R=R.value;try{if(!Ph(ea(),R))return!1}catch(Ta){return!1}}}k=d.child;if(d.subtreeFlags&16384&&null!==k)k.return=d,d=k;else{if(d===c)break;for(;null===d.sibling;){if(null===d.return||d.return===c)return!0;d=d.return}d.sibling.return=
d.return;d=d.sibling}}return!0}function cb(c,d){d&=~Wh;d&=~Jg;c.suspendedLanes|=d;c.pingedLanes&=~d;for(c=c.expirationTimes;0<d;){var k=31-Oh(d),u=1<<k;c[k]=-1;d&=~u}}function Pb(c){if(0!==(ef&6))throw Error(t(327));ve();var d=Sb(c,0);if(0===(d&1))return cc(c,hg()),null;var k=Ge(c,d);if(0!==c.tag&&2===k){var u=Kb(c);0!==u&&(d=u,k=J(c,u))}if(1===k)throw k=Cf,rd(c,0),cb(c,d),cc(c,hg()),k;if(6===k)throw Error(t(345));c.finishedWork=c.current.alternate;c.finishedLanes=d;Ue(c,ig,wi);cc(c,hg());return null}
function kc(c,d){var k=ef;ef|=1;try{return c(d)}finally{ef=k,0===ef&&(sj=hg()+500,ci&&ld())}}function wc(c){null!==Xh&&0===Xh.tag&&0===(ef&6)&&ve();var d=ef;ef|=1;var k=Jh.transition,u=xf;try{if(Jh.transition=null,xf=1,c)return c()}finally{xf=u,Jh.transition=k,ef=d,0===(ef&6)&&ld()}}function gc(){xh=wh.current;Ad(wh)}function rd(c,d){c.finishedWork=null;c.finishedLanes=0;var k=c.timeoutHandle;-1!==k&&(c.timeoutHandle=-1,cm(k));if(null!==xg)for(k=xg.return;null!==k;){var u=k;Oe(u);switch(u.tag){case 1:u=
u.type.childContextTypes;null!==u&&void 0!==u&&bc();break;case 3:ue();Ad(dh);Ad(Dg);jf();break;case 5:Ud(u);break;case 4:ue();break;case 13:Ad(Zf);break;case 19:Ad(Zf);break;case 10:y(u.type._context);break;case 22:case 23:gc()}k=k.return}Gg=c;xg=c=Xf(c.current,null);Tg=xh=d;Cg=0;Cf=null;Wh=Jg=ff=0;ig=Lj=null;if(null!==Gi){for(d=0;d<Gi.length;d++)if(k=Gi[d],u=k.interleaved,null!==u){k.interleaved=null;var R=u.next,ea=k.pending;if(null!==ea){var Ta=ea.next;ea.next=R;u.next=Ta}k.pending=u}Gi=null}return c}
function Wc(c,d){do{var k=xg;try{Vi=ei=mj=null;lk.current=Ij;if(mk){for(var u=yf.memoizedState;null!==u;){var R=u.queue;null!==R&&(R.pending=null);u=u.next}mk=!1}Ji=0;Fg=eg=yf=null;Hj=!1;qj=0;$k.current=null;if(null===k||null===k.return){Cg=1;Cf=d;xg=null;break}a:{var ea=c,Ta=k.return,Tb=k,oc=d;d=Tg;Tb.flags|=32768;if(null!==oc&&"object"===typeof oc&&"function"===typeof oc.then){var Vc=oc,yd=Tb,Bd=yd.tag;if(0===(yd.mode&1)&&(0===Bd||11===Bd||15===Bd)){var wd=yd.alternate;wd?(yd.updateQueue=wd.updateQueue,
yd.memoizedState=wd.memoizedState,yd.lanes=wd.lanes):(yd.updateQueue=null,yd.memoizedState=null)}var Vd=vf(Ta);if(null!==Vd){Vd.flags&=-257;Hf(Vd,Ta,Tb,ea,d);Vd.mode&1&&Tf(ea,Vc,d);d=Vd;oc=Vc;var ge=d.updateQueue;if(null===ge){var ke=new Set;ke.add(oc);d.updateQueue=ke}else ge.add(oc);break a}else{if(0===(d&1)){Tf(ea,Vc,d);ie();break a}oc=Error(t(426))}}else if(Wf&&Tb.mode&1){var cg=vf(Ta);if(null!==cg){0===(cg.flags&65536)&&(cg.flags|=256);Hf(cg,Ta,Tb,ea,d);le(pe(oc,Tb));break a}}ea=oc=pe(oc,Tb);
4!==Cg&&(Cg=2);null===Lj?Lj=[ea]:Lj.push(ea);ea=Ta;do{switch(ea.tag){case 3:ea.flags|=65536;d&=-d;ea.lanes|=d;var Gc=kf(ea,oc,d);vc(ea,Gc);break a;case 1:Tb=oc;var uc=ea.type,Qc=ea.stateNode;if(0===(ea.flags&128)&&("function"===typeof uc.getDerivedStateFromError||null!==Qc&&"function"===typeof Qc.componentDidCatch&&(null===ri||!ri.has(Qc)))){ea.flags|=65536;d&=-d;ea.lanes|=d;var Fd=Xe(ea,Tb,d);vc(ea,Fd);break a}}ea=ea.return}while(null!==ea)}Df(k)}catch(ce){d=ce;xg===k&&null!==k&&(xg=k.return);continue}break}while(1)}
function zd(){var c=qk.current;qk.current=Ij;return null===c?Ij:c}function ie(){if(0===Cg||3===Cg||2===Cg)Cg=4;null===Gg||0===(ff&268435455)&&0===(Jg&268435455)||cb(Gg,Tg)}function Ge(c,d){var k=ef;ef|=2;var u=zd();if(Gg!==c||Tg!==d)wi=null,rd(c,d);do try{for(;null!==xg;)Pe(xg);break}catch(R){Wc(c,R)}while(1);Vi=ei=mj=null;ef=k;qk.current=u;if(null!==xg)throw Error(t(261));Gg=null;Tg=0;return Cg}function Pe(c){var d=dm(c.alternate,c,xh);c.memoizedProps=c.pendingProps;null===d?Df(c):xg=d;$k.current=
null}function Df(c){var d=c;do{var k=d.alternate;c=d.return;if(0===(d.flags&32768)){if(k=Zi(k,d,xh),null!==k){xg=k;return}}else{k=ii(k,d);if(null!==k){k.flags&=32767;xg=k;return}if(null!==c)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Cg=6;xg=null;return}}d=d.sibling;if(null!==d){xg=d;return}xg=d=c}while(null!==d);0===Cg&&(Cg=5)}function Ue(c,d,k){var u=xf,R=Jh.transition;try{Jh.transition=null,xf=1,Kg(c,d,k,u)}finally{Jh.transition=R,xf=u}return null}function Kg(c,d,k,u){do ve();while(null!==
Xh);if(0!==(ef&6))throw Error(t(327));k=c.finishedWork;var R=c.finishedLanes;if(null===k)return null;c.finishedWork=null;c.finishedLanes=0;if(k===c.current)throw Error(t(177));c.callbackNode=null;c.callbackPriority=0;var ea=k.lanes|k.childLanes;Ob(c,ea);c===Gg&&(xg=Gg=null,Tg=0);0===(k.subtreeFlags&2064)&&0===(k.flags&2064)||Mj||(Mj=!0,rh(Si,function(){ve();return null}));ea=0!==(k.flags&15990);if(0!==(k.subtreeFlags&15990)||ea){ea=Jh.transition;Jh.transition=null;var Ta=xf;xf=1;var Tb=ef;ef|=4;$k.current=
null;Kj(c,k);bh(k,c);qc(Vk);Wj=!!Uk;Vk=Uk=null;c.current=k;Ih(k,c,R);em();ef=Tb;xf=Ta;Jh.transition=ea}else c.current=k;Mj&&(Mj=!1,Xh=c,Oi=R);ea=c.pendingLanes;0===ea&&(ri=null);Xa(k.stateNode,u);cc(c,hg());if(null!==d)for(u=c.onRecoverableError,k=0;k<d.length;k++)R=d[k],u(R.value,{componentStack:R.stack,digest:R.digest});if(Jj)throw Jj=!1,c=ok,ok=null,c;0!==(Oi&1)&&0!==c.tag&&ve();ea=c.pendingLanes;0!==(ea&1)?c===$i?vj++:(vj=0,$i=c):vj=0;ld();return null}function ve(){if(null!==Xh){var c=hd(Oi),
d=Jh.transition,k=xf;try{Jh.transition=null;xf=16>c?16:c;if(null===Xh)var u=!1;else{c=Xh;Xh=null;Oi=0;if(0!==(ef&6))throw Error(t(331));var R=ef;ef|=4;for(ae=c.current;null!==ae;){var ea=ae,Ta=ea.child;if(0!==(ae.flags&16)){var Tb=ea.deletions;if(null!==Tb){for(var oc=0;oc<Tb.length;oc++){var Vc=Tb[oc];for(ae=Vc;null!==ae;){var yd=ae;switch(yd.tag){case 0:case 11:case 15:yh(8,yd,ea)}var Bd=yd.child;if(null!==Bd)Bd.return=yd,ae=Bd;else for(;null!==ae;){yd=ae;var wd=yd.sibling,Vd=yd.return;mg(yd);if(yd===
Vc){ae=null;break}if(null!==wd){wd.return=Vd;ae=wd;break}ae=Vd}}}var ge=ea.alternate;if(null!==ge){var ke=ge.child;if(null!==ke){ge.child=null;do{var cg=ke.sibling;ke.sibling=null;ke=cg}while(null!==ke)}}ae=ea}}if(0!==(ea.subtreeFlags&2064)&&null!==Ta)Ta.return=ea,ae=Ta;else a:for(;null!==ae;){ea=ae;if(0!==(ea.flags&2048))switch(ea.tag){case 0:case 11:case 15:yh(9,ea,ea.return)}var Gc=ea.sibling;if(null!==Gc){Gc.return=ea.return;ae=Gc;break a}ae=ea.return}}var uc=c.current;for(ae=uc;null!==ae;){Ta=
ae;var Qc=Ta.child;if(0!==(Ta.subtreeFlags&2064)&&null!==Qc)Qc.return=Ta,ae=Qc;else a:for(Ta=uc;null!==ae;){Tb=ae;if(0!==(Tb.flags&2048))try{switch(Tb.tag){case 0:case 11:case 15:Gh(9,Tb)}}catch(ce){tf(Tb,Tb.return,ce)}if(Tb===Ta){ae=null;break a}var Fd=Tb.sibling;if(null!==Fd){Fd.return=Tb.return;ae=Fd;break a}ae=Tb.return}}ef=R;ld();if($h&&"function"===typeof $h.onPostCommitFiberRoot)try{$h.onPostCommitFiberRoot(Cj,c)}catch(ce){}u=!0}return u}finally{xf=k,Jh.transition=d}}return!1}function Re(c,
d,k){d=pe(k,d);d=kf(c,d,1);c=$b(c,d,1);d=La();null!==c&&(Mb(c,1,d),cc(c,d))}function tf(c,d,k){if(3===c.tag)Re(c,c,k);else for(;null!==d;){if(3===d.tag){Re(d,c,k);break}else if(1===d.tag){var u=d.stateNode;if("function"===typeof d.type.getDerivedStateFromError||"function"===typeof u.componentDidCatch&&(null===ri||!ri.has(u))){c=pe(k,c);c=Xe(d,c,1);d=$b(d,c,1);c=La();null!==d&&(Mb(d,1,c),cc(d,c));break}}d=d.return}}function Hg(c,d,k){var u=c.pingCache;null!==u&&u.delete(d);d=La();c.pingedLanes|=c.suspendedLanes&
k;Gg===c&&(Tg&k)===k&&(4===Cg||3===Cg&&(Tg&130023424)===Tg&&500>hg()-Xk?rd(c,0):Wh|=k);cc(c,d)}function Kh(c,d){0===d&&(0===(c.mode&1)?d=1:(d=Nj,Nj<<=1,0===(Nj&130023424)&&(Nj=4194304)));var k=La();c=xa(c,d);null!==c&&(Mb(c,d,k),cc(c,k))}function vg(c){var d=c.memoizedState,k=0;null!==d&&(k=d.retryLane);Kh(c,k)}function qh(c,d){var k=0;switch(c.tag){case 13:var u=c.stateNode,R=c.memoizedState;null!==R&&(k=R.retryLane);break;case 19:u=c.stateNode;break;default:throw Error(t(314));}null!==u&&u.delete(d);
Kh(c,k)}function rh(c,d){return hk(c,d)}function of(c,d,k,u){this.tag=c;this.key=k;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=d;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=u;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function Ve(c,d,k,u){return new of(c,d,k,u)}function Yg(c){c=c.prototype;return!(!c||!c.isReactComponent)}
function Lh(c){if("function"===typeof c)return Yg(c)?1:0;if(void 0!==c&&null!==c){c=c.$$typeof;if(c===Ae)return 11;if(c===Nf)return 14}return 2}function Xf(c,d){var k=c.alternate;null===k?(k=Ve(c.tag,d,c.key,c.mode),k.elementType=c.elementType,k.type=c.type,k.stateNode=c.stateNode,k.alternate=c,c.alternate=k):(k.pendingProps=d,k.type=c.type,k.flags=0,k.subtreeFlags=0,k.deletions=null);k.flags=c.flags&14680064;k.childLanes=c.childLanes;k.lanes=c.lanes;k.child=c.child;k.memoizedProps=c.memoizedProps;
k.memoizedState=c.memoizedState;k.updateQueue=c.updateQueue;d=c.dependencies;k.dependencies=null===d?null:{lanes:d.lanes,firstContext:d.firstContext};k.sibling=c.sibling;k.index=c.index;k.ref=c.ref;return k}function qg(c,d,k,u,R,ea){var Ta=2;u=c;if("function"===typeof c)Yg(c)&&(Ta=1);else if("string"===typeof c)Ta=5;else a:switch(c){case ad:return dg(k.children,R,ea,d);case od:Ta=8;R|=8;break;case Bc:return c=Ve(12,k,d,R|2),c.elementType=Bc,c.lanes=ea,c;case Td:return c=Ve(13,k,d,R),c.elementType=
Td,c.lanes=ea,c;case Ye:return c=Ve(19,k,d,R),c.elementType=Ye,c.lanes=ea,c;case yg:return Bg(k,R,ea,d);default:if("object"===typeof c&&null!==c)switch(c.$$typeof){case Dd:Ta=10;break a;case be:Ta=9;break a;case Ae:Ta=11;break a;case Nf:Ta=14;break a;case Af:Ta=16;u=null;break a}throw Error(t(130,null==c?c:typeof c,""));}d=Ve(Ta,k,d,R);d.elementType=c;d.type=u;d.lanes=ea;return d}function dg(c,d,k,u){c=Ve(7,c,u,d);c.lanes=k;return c}function Bg(c,d,k,u){c=Ve(22,c,u,d);c.elementType=yg;c.lanes=k;c.stateNode=
{isHidden:!1};return c}function nj(c,d,k){c=Ve(6,c,null,d);c.lanes=k;return c}function oj(c,d,k){d=Ve(4,null!==c.children?c.children:[],c.key,d);d.lanes=k;d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation};return d}function rk(c,d,k,u,R){this.tag=d;this.containerInfo=c;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=0;this.eventTimes=
ac(0);this.expirationTimes=ac(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=ac(0);this.identifierPrefix=u;this.onRecoverableError=R;this.mutableSourceEagerHydrationData=null}function aj(c,d,k,u,R,ea,Ta,Tb,oc){c=new rk(c,d,k,Tb,oc);1===d?(d=1,!0===ea&&(d|=8)):d=0;ea=Ve(3,null,null,d);c.current=ea;ea.stateNode=c;ea.memoizedState={element:u,isDehydrated:k,cache:null,transitions:null,pendingSuspenseBoundaries:null};
Cb(ea);return c}function ag(c,d,k){var u=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:tc,key:null==u?null:""+u,children:c,containerInfo:d,implementation:k}}function sk(c){if(!c)return jg;c=c._reactInternals;a:{if(ta(c)!==c||1!==c.tag)throw Error(t(170));var d=c;do{switch(d.tag){case 3:d=d.stateNode.context;break a;case 1:if(Qa(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break a}}d=d.return}while(null!==d);throw Error(t(171));}if(1===c.tag){var k=
c.type;if(Qa(k))return sc(c,k,d)}return d}function wj(c,d,k,u,R,ea,Ta,Tb,oc){c=aj(k,u,!0,c,R,ea,Ta,Tb,oc);c.context=sk(null);k=c.current;u=La();R=zb(k);ea=Xb(u,R);ea.callback=void 0!==d&&null!==d?d:null;$b(k,ea,R);c.current.lanes=R;Mb(c,R,u);cc(c,u);return c}function jh(c,d,k,u){var R=d.current,ea=La(),Ta=zb(R);k=sk(k);null===d.context?d.context=k:d.pendingContext=k;d=Xb(ea,Ta);d.payload={element:c};u=void 0===u?null:u;null!==u&&(d.callback=u);c=$b(R,d,Ta);null!==c&&(yb(c,R,Ta,ea),mc(c,R,Ta));return Ta}
function Pi(c){c=c.current;if(!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function Oj(c,d){c=c.memoizedState;if(null!==c&&null!==c.dehydrated){var k=c.retryLane;c.retryLane=0!==k&&k<d?k:d}}function xj(c,d){Oj(c,d);(c=c.alternate)&&Oj(c,d)}function al(){return null}function Qi(c){this._internalRoot=c}function xi(c){this._internalRoot=c}function Pj(c){return!(!c||1!==c.nodeType&&9!==c.nodeType&&11!==c.nodeType)}function yi(c){return!(!c||
1!==c.nodeType&&9!==c.nodeType&&11!==c.nodeType&&(8!==c.nodeType||" react-mount-point-unstable "!==c.nodeValue))}function Qj(){}function tk(c,d,k,u,R){if(R){if("function"===typeof u){var ea=u;u=function(){var Vc=Pi(Ta);ea.call(Vc)}}var Ta=wj(d,u,c,0,null,!1,!1,"",Qj);c._reactRootContainer=Ta;c[bi]=Ta.current;he(8===c.nodeType?c.parentNode:c);wc();return Ta}for(;R=c.lastChild;)c.removeChild(R);if("function"===typeof u){var Tb=u;u=function(){var Vc=Pi(oc);Tb.call(Vc)}}var oc=aj(c,0,!1,null,null,!1,
!1,"",Qj);c._reactRootContainer=oc;c[bi]=oc.current;he(8===c.nodeType?c.parentNode:c);wc(function(){jh(d,oc,k,u)});return oc}function bj(c,d,k,u,R){var ea=k._reactRootContainer;if(ea){var Ta=ea;if("function"===typeof R){var Tb=R;R=function(){var oc=Pi(Ta);Tb.call(oc)}}jh(d,Ta,c,R)}else Ta=tk(k,d,c,R,u);return Pi(Ta)}var Yh=nb(2),zg=nb(5),ki=new Set,Zh={},Mh=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),m=Object.prototype.hasOwnProperty,
H=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,L={},ka={},Ra={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){Ra[c]=
new dc(c,0,!1,c,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var d=c[0];Ra[d]=new dc(d,1,!1,c[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(c){Ra[c]=new dc(c,2,!1,c.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){Ra[c]=new dc(c,2,!1,c,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){Ra[c]=
new dc(c,3,!1,c.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(c){Ra[c]=new dc(c,3,!0,c,null,!1,!1)});["capture","download"].forEach(function(c){Ra[c]=new dc(c,4,!1,c,null,!1,!1)});["cols","rows","size","span"].forEach(function(c){Ra[c]=new dc(c,6,!1,c,null,!1,!1)});["rowSpan","start"].forEach(function(c){Ra[c]=new dc(c,5,!1,c.toLowerCase(),null,!1,!1)});var db=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var d=
c.replace(db,Wb);Ra[d]=new dc(d,1,!1,c,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var d=c.replace(db,Wb);Ra[d]=new dc(d,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(c){var d=c.replace(db,Wb);Ra[d]=new dc(d,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(c){Ra[c]=new dc(c,1,!1,c.toLowerCase(),null,!1,!1)});Ra.xlinkHref=
new dc("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(c){Ra[c]=new dc(c,1,!1,c.toLowerCase(),null,!0,!0)});var mb=Yh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jb=Symbol.for("react.element"),tc=Symbol.for("react.portal"),ad=Symbol.for("react.fragment"),od=Symbol.for("react.strict_mode"),Bc=Symbol.for("react.profiler"),Dd=Symbol.for("react.provider"),be=Symbol.for("react.context"),Ae=Symbol.for("react.forward_ref"),
Td=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),Nf=Symbol.for("react.memo"),Af=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var yg=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var Ug=Symbol.iterator,He=Object.assign,ze,Mf=!1,Ch=Array.isArray,Yd,Id=function(c){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(d,k,u,R){MSApp.execUnsafeLocalFunction(function(){return c(d,
k,u,R)})}:c}(function(c,d){if("http://www.w3.org/2000/svg"!==c.namespaceURI||"innerHTML"in c)c.innerHTML=d;else{Yd=Yd||document.createElement("div");Yd.innerHTML="\x3csvg\x3e"+d.valueOf().toString()+"\x3c/svg\x3e";for(d=Yd.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;d.firstChild;)c.appendChild(d.firstChild)}}),ee={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,
flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kd=["Webkit","ms","Moz","O"];Object.keys(ee).forEach(function(c){Kd.forEach(function(d){d=
d+c.charAt(0).toUpperCase()+c.substring(1);ee[d]=ee[c]})});var wf=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Vf=null,Bf=null,Of=null,Mg=null,sh=!1,dk=!1;if(Mh)try{var cj={};Object.defineProperty(cj,"passive",{get:function(){dk=!0}});window.addEventListener("test",cj,cj);window.removeEventListener("test",cj,cj)}catch(c){dk=!1}var ch=!1,Aj=null,Bj=!1,Tj=null,Nl={onError:function(c){ch=!0;Aj=c}},hk=zg.unstable_scheduleCallback,
vi=zg.unstable_cancelCallback,Yk=zg.unstable_shouldYield,em=zg.unstable_requestPaint,hg=zg.unstable_now,Bk=zg.unstable_getCurrentPriorityLevel,Ck=zg.unstable_ImmediatePriority,Yj=zg.unstable_UserBlockingPriority,Si=zg.unstable_NormalPriority,nl=zg.unstable_LowPriority,Dk=zg.unstable_IdlePriority,Cj=null,$h=null,Oh=Math.clz32?Math.clz32:sb,il=Math.log,Ol=Math.LN2,Dj=64,Nj=4194304,xf=0,Uj=!1,Vj=[],Bi=null,li=null,Ci=null,ej=new Map,fj=new Map,mi=[],ll="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),
gj=mb.ReactCurrentBatchConfig,Wj=!0,Xj=null,Di=null,Ek=null,Zj=null,dj={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pf=Da(dj),kh=He({},dj,{view:0,detail:0}),Ok=Da(kh),Ri,uk,Rj,vk=He({},kh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kb,button:0,buttons:0,relatedTarget:function(c){return void 0===c.relatedTarget?c.fromElement===c.srcElement?c.toElement:
c.fromElement:c.relatedTarget},movementX:function(c){if("movementX"in c)return c.movementX;c!==Rj&&(Rj&&"mousemove"===c.type?(Ri=c.screenX-Rj.screenX,uk=c.screenY-Rj.screenY):uk=Ri=0,Rj=c);return Ri},movementY:function(c){return"movementY"in c?c.movementY:uk}}),Lk=Da(vk),Cl=He({},vk,{dataTransfer:0}),Mk=Da(Cl),wk=He({},kh,{relatedTarget:0}),Kk=Da(wk),bl=He({},dj,{animationName:0,elapsedTime:0,pseudoElement:0}),pl=Da(bl),fm=He({},dj,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:
window.clipboardData}}),fk=Da(fm),gm=He({},dj,{data:0}),rl=Da(gm),hm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},im={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",
45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ql={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},jm=He({},kh,{key:function(c){if(c.key){var d=hm[c.key]||c.key;if("Unidentified"!==d)return d}return"keypress"===c.type?(c=r(c),13===c?"Enter":String.fromCharCode(c)):"keydown"===c.type||"keyup"===c.type?im[c.keyCode]||"Unidentified":""},code:0,location:0,
ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kb,charCode:function(c){return"keypress"===c.type?r(c):0},keyCode:function(c){return"keydown"===c.type||"keyup"===c.type?c.keyCode:0},which:function(c){return"keypress"===c.type?r(c):"keydown"===c.type||"keyup"===c.type?c.keyCode:0}}),Tl=Da(jm),cl=He({},vk,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ql=Da(cl),km=He({},kh,{touches:0,targetTouches:0,changedTouches:0,
altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kb}),Ul=Da(km),lm=He({},dj,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nk=Da(lm),dl=He({},vk,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Vl=Da(dl),Ee=[9,13,27,32],ud=Mh&&"CompositionEvent"in window,og=null;Mh&&"documentMode"in document&&(og=document.documentMode);
var Fi=Mh&&"TextEvent"in window&&!og,Gk=Mh&&(!ud||og&&8<og&&11>=og),Fk=String.fromCharCode(32),ak=!1,ni=!1,Rl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Ti=null,hj=null,th=!1;if(Mh){if(Mh){var yj="oninput"in document;if(!yj){var Dl=document.createElement("div");Dl.setAttribute("oninput","return;");yj="function"===typeof Dl.oninput}var Sj=yj}else Sj=!1;th=Sj&&(!document.documentMode||9<document.documentMode)}var Ph=
"function"===typeof Object.is?Object.is:I,gk=Mh&&"documentMode"in document&&11>=document.documentMode,ij=null,Hk=null,Ej=null,Ng=!1,Ei={animationend:zc("Animation","AnimationEnd"),animationiteration:zc("Animation","AnimationIteration"),animationstart:zc("Animation","AnimationStart"),transitionend:zc("Transition","TransitionEnd")},Ik={},bk={};Mh&&(bk=document.createElement("div").style,"AnimationEvent"in window||(delete Ei.animationend.animation,delete Ei.animationiteration.animation,delete Ei.animationstart.animation),
"TransitionEvent"in window||delete Ei.transitionend.transition);for(var Qh=bd("animationend"),ek=bd("animationiteration"),ol=bd("animationstart"),Ui=bd("transitionend"),ai=new Map,el="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" "),
fl=0;fl<el.length;fl++){var Nh=el[fl],xk=Nh.toLowerCase(),El=Nh[0].toUpperCase()+Nh.slice(1);md(xk,"on"+El)}md(Qh,"onAnimationEnd");md(ek,"onAnimationIteration");md(ol,"onAnimationStart");md("dblclick","onDoubleClick");md("focusin","onFocus");md("focusout","onBlur");md(Ui,"onTransitionEnd");ia("onMouseEnter",["mouseout","mouseover"]);ia("onMouseLeave",["mouseout","mouseover"]);ia("onPointerEnter",["pointerout","pointerover"]);ia("onPointerLeave",["pointerout","pointerover"]);h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));
h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));h("onBeforeInput",["compositionend","keypress","textInput","paste"]);h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rj="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),
Sl=new Set("cancel close invalid load scroll toggle".split(" ").concat(rj)),ck="_reactListening"+Math.random().toString(36).slice(2),Wl=/\r\n?/g,Xl=/\u0000|\uFFFD/g,Uk=null,Vk=null,Zk="function"===typeof setTimeout?setTimeout:void 0,cm="function"===typeof clearTimeout?clearTimeout:void 0,yk="function"===typeof Promise?Promise:void 0,Bl="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof yk?function(c){return yk.resolve(null).then(c).catch(rc)}:Zk,zi=Math.random().toString(36).slice(2),
Rh="__reactFiber$"+zi,Fj="__reactProps$"+zi,bi="__reactContainer$"+zi,Jk="__reactEvents$"+zi,zl="__reactListeners$"+zi,Wk="__reactHandles$"+zi,Pk=[],jj=-1,jg={},Dg=Ld(jg),dh=Ld(!1),oi=jg,pg=null,ci=!1,Qk=!1,kj=[],Dh=0,jk=null,ik=0,Jf=[],uh=0,di=null,Eh=1,pi="",Vg=null,Wg=null,Wf=!1,lh=null,Al=mb.ReactCurrentBatchConfig,lj=Ld(null),mj=null,ei=null,Vi=null,Gi=null,Hi=!1,sl=(new Yh.Component).refs,Gj={isMounted:function(c){return(c=c._reactInternals)?ta(c)===c:!1},enqueueSetState:function(c,d,k){c=c._reactInternals;
var u=La(),R=zb(c),ea=Xb(u,R);ea.payload=d;void 0!==k&&null!==k&&(ea.callback=k);d=$b(c,ea,R);null!==d&&(yb(d,c,R,u),mc(d,c,R))},enqueueReplaceState:function(c,d,k){c=c._reactInternals;var u=La(),R=zb(c),ea=Xb(u,R);ea.tag=1;ea.payload=d;void 0!==k&&null!==k&&(ea.callback=k);d=$b(c,ea,R);null!==d&&(yb(d,c,R,u),mc(d,c,R))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var k=La(),u=zb(c),R=Xb(k,u);R.tag=2;void 0!==d&&null!==d&&(R.callback=d);d=$b(c,R,u);null!==d&&(yb(d,c,u,k),mc(d,c,u))}},Wi=
Cd(!0),vl=Cd(!1),pj={},Sh=Ld(pj),qi=Ld(pj),fi=Ld(pj),Zf=Ld(0),kk=[],lk=mb.ReactCurrentDispatcher,nk=mb.ReactCurrentBatchConfig,Ji=0,yf=null,eg=null,Fg=null,mk=!1,Hj=!1,qj=0,mm=0,Ij={readContext:Q,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useInsertionEffect:xe,useLayoutEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useMutableSource:xe,useSyncExternalStore:xe,useId:xe,unstable_isNewReconciler:!1},tl={readContext:Q,
useCallback:function(c,d){af().memoizedState=[c,void 0===d?null:d];return c},useContext:Q,useEffect:Ka,useImperativeHandle:function(c,d,k){k=null!==k&&void 0!==k?k.concat([c]):null;return lg(4194308,4,Pd.bind(null,d,c),k)},useLayoutEffect:function(c,d){return lg(4194308,4,c,d)},useInsertionEffect:function(c,d){return lg(4,2,c,d)},useMemo:function(c,d){var k=af();d=void 0===d?null:d;c=c();k.memoizedState=[c,d];return c},useReducer:function(c,d,k){var u=af();d=void 0!==k?k(d):d;u.memoizedState=u.baseState=
d;c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:d};u.queue=c;c=c.dispatch=sg.bind(null,yf,c);return[u.memoizedState,c]},useRef:function(c){var d=af();c={current:c};return d.memoizedState=c},useState:Fh,useDebugValue:Te,useDeferredValue:function(c){return af().memoizedState=c},useTransition:function(){var c=Fh(!1),d=c[0];c=nh.bind(null,c[1]);af().memoizedState=c;return[d,c]},useMutableSource:function(){},useSyncExternalStore:function(c,d,k){var u=yf,
R=af();if(Wf){if(void 0===k)throw Error(t(407));k=k()}else{k=d();if(null===Gg)throw Error(t(349));0!==(Ji&30)||Gf(u,d,k)}R.memoizedState=k;var ea={value:k,getSnapshot:d};R.queue=ea;Ka(rf.bind(null,u,ea,c),[c]);u.flags|=2048;kg(9,Ff.bind(null,u,ea,k,d),void 0,null);return k},useId:function(){var c=af(),d=Gg.identifierPrefix;if(Wf){var k=pi,u=Eh;k=(u&~(1<<32-Oh(u)-1)).toString(32)+k;d=":"+d+"R"+k;k=qj++;0<k&&(d+="H"+k.toString(32));d+=":"}else k=mm++,d=":"+d+"r"+k.toString(32)+":";return c.memoizedState=
d},unstable_isNewReconciler:!1},Yl={readContext:Q,useCallback:ye,useContext:Q,useEffect:lb,useImperativeHandle:se,useInsertionEffect:Ic,useLayoutEffect:Kc,useMemo:Sf,useReducer:Ef,useRef:Ag,useState:function(){return Ef(Yf)},useDebugValue:Te,useDeferredValue:function(c){var d=Se();return nf(d,eg.memoizedState,c)},useTransition:function(){var c=Ef(Yf)[0],d=Se().memoizedState;return[c,d]},useMutableSource:Rf,useSyncExternalStore:qf,useId:Xg,unstable_isNewReconciler:!1},Zl={readContext:Q,useCallback:ye,
useContext:Q,useEffect:lb,useImperativeHandle:se,useInsertionEffect:Ic,useLayoutEffect:Kc,useMemo:Sf,useReducer:We,useRef:Ag,useState:function(){return We(Yf)},useDebugValue:Te,useDeferredValue:function(c){var d=Se();return null===eg?d.memoizedState=c:nf(d,eg.memoizedState,c)},useTransition:function(){var c=We(Yf)[0],d=Se().memoizedState;return[c,d]},useMutableSource:Rf,useSyncExternalStore:qf,useId:Xg,unstable_isNewReconciler:!1},ul="function"===typeof WeakMap?WeakMap:Map,wl=mb.ReactCurrentOwner,
mh=!1,Sk={dehydrated:null,treeContext:null,retryLane:0};var si=function(c,d){for(var k=d.child;null!==k;){if(5===k.tag||6===k.tag)c.appendChild(k.stateNode);else if(4!==k.tag&&null!==k.child){k.child.return=k;k=k.child;continue}if(k===d)break;for(;null===k.sibling;){if(null===k.return||k.return===d)return;k=k.return}k.sibling.return=k.return;k=k.sibling}};var Tk=function(){};var xl=function(c,d,k,u){var R=c.memoizedProps;if(R!==u){c=d.stateNode;Qd(Sh.current);var ea=null;switch(k){case "input":R=
ha(c,R);u=ha(c,u);ea=[];break;case "select":R=He({},R,{value:void 0});u=He({},u,{value:void 0});ea=[];break;case "textarea":R=qb(c,R);u=qb(c,u);ea=[];break;default:"function"!==typeof R.onClick&&"function"===typeof u.onClick&&(c.onclick=eb)}qa(k,u);var Ta;k=null;for(Vc in R)if(!u.hasOwnProperty(Vc)&&R.hasOwnProperty(Vc)&&null!=R[Vc])if("style"===Vc){var Tb=R[Vc];for(Ta in Tb)Tb.hasOwnProperty(Ta)&&(k||(k={}),k[Ta]="")}else"dangerouslySetInnerHTML"!==Vc&&"children"!==Vc&&"suppressContentEditableWarning"!==
Vc&&"suppressHydrationWarning"!==Vc&&"autoFocus"!==Vc&&(Zh.hasOwnProperty(Vc)?ea||(ea=[]):(ea=ea||[]).push(Vc,null));for(Vc in u){var oc=u[Vc];Tb=null!=R?R[Vc]:void 0;if(u.hasOwnProperty(Vc)&&oc!==Tb&&(null!=oc||null!=Tb))if("style"===Vc)if(Tb){for(Ta in Tb)!Tb.hasOwnProperty(Ta)||oc&&oc.hasOwnProperty(Ta)||(k||(k={}),k[Ta]="");for(Ta in oc)oc.hasOwnProperty(Ta)&&Tb[Ta]!==oc[Ta]&&(k||(k={}),k[Ta]=oc[Ta])}else k||(ea||(ea=[]),ea.push(Vc,k)),k=oc;else"dangerouslySetInnerHTML"===Vc?(oc=oc?oc.__html:
void 0,Tb=Tb?Tb.__html:void 0,null!=oc&&Tb!==oc&&(ea=ea||[]).push(Vc,oc)):"children"===Vc?"string"!==typeof oc&&"number"!==typeof oc||(ea=ea||[]).push(Vc,""+oc):"suppressContentEditableWarning"!==Vc&&"suppressHydrationWarning"!==Vc&&(Zh.hasOwnProperty(Vc)?(null!=oc&&"onScroll"===Vc&&kd("scroll",c),ea||Tb===oc||(ea=[])):(ea=ea||[]).push(Vc,oc))}k&&(ea=ea||[]).push("style",k);var Vc;if(d.updateQueue=ea)d.flags|=4}};var $l=function(c,d,k,u){k!==u&&(d.flags|=4)};var pk=!1,ah=!1,am="function"===typeof WeakSet?
WeakSet:Set,ae=null,yl=!1,Sg=null,Vh=!1,bm=Math.ceil,qk=mb.ReactCurrentDispatcher,$k=mb.ReactCurrentOwner,Jh=mb.ReactCurrentBatchConfig,ef=0,Gg=null,xg=null,Tg=0,xh=0,wh=Ld(0),Cg=0,Cf=null,ff=0,Jg=0,Wh=0,Lj=null,ig=null,Xk=0,sj=Infinity,wi=null,Jj=!1,ok=null,ri=null,Mj=!1,Xh=null,Oi=0,vj=0,$i=null,tj=-1,uj=0;var dm=function(c,d,k){if(null!==c)if(c.memoizedProps!==d.pendingProps||dh.current)mh=!0;else{if(0===(c.lanes&k)&&0===(d.flags&128))return mh=!1,Uh(c,d,k);mh=0!==(c.flags&131072)?!0:!1}else mh=
!1,Wf&&0!==(d.flags&1048576)&&me(d,ik,d.index);d.lanes=0;switch(d.tag){case 2:var u=d.type;ph(c,d);c=d.pendingProps;var R=Ca(d,Dg.current);p(d,k);R=td(null,d,u,c,R,k);var ea=Me();d.flags|=1;"object"===typeof R&&null!==R&&"function"===typeof R.render&&void 0===R.$$typeof?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Qa(u)?(ea=!0,Mc(d)):ea=!1,d.memoizedState=null!==R.state&&void 0!==R.state?R.state:null,Cb(d),R.updater=Gj,d.stateNode=R,R._reactInternals=d,Rc(d,u,c,k),d=Rg(null,d,u,!0,ea,k)):(d.tag=
0,Wf&&ea&&df(d),lf(null,d,R,k),d=d.child);return d;case 16:u=d.elementType;a:{ph(c,d);c=d.pendingProps;R=u._init;u=R(u._payload);d.type=u;R=d.tag=Lh(u);c=oe(u,c);switch(R){case 0:d=vh(null,d,u,c,k);break a;case 1:d=Qg(null,d,u,c,k);break a;case 11:d=Og(null,d,u,c,k);break a;case 14:d=Pg(null,d,u,oe(u.type,c),k);break a}throw Error(t(306,u,""));}return d;case 0:return u=d.type,R=d.pendingProps,R=d.elementType===u?R:oe(u,R),vh(c,d,u,R,k);case 1:return u=d.type,R=d.pendingProps,R=d.elementType===u?R:
oe(u,R),Qg(c,d,u,R,k);case 3:a:{Th(d);if(null===c)throw Error(t(387));u=d.pendingProps;ea=d.memoizedState;R=ea.element;Ib(c,d);yc(d,u,null,k);var Ta=d.memoizedState;u=Ta.element;if(ea.isDehydrated)if(ea={element:u,isDehydrated:!1,cache:Ta.cache,pendingSuspenseBoundaries:Ta.pendingSuspenseBoundaries,transitions:Ta.transitions},d.updateQueue.baseState=ea,d.memoizedState=ea,d.flags&256){R=pe(Error(t(423)),d);fe();le(R);d.flags|=256;lf(c,d,u,k);d=d.child;break a}else if(u!==R){R=pe(Error(t(424)),d);fe();
le(R);d.flags|=256;lf(c,d,u,k);d=d.child;break a}else for(Wg=Sc(d.stateNode.containerInfo.firstChild),Vg=d,Wf=!0,lh=null,k=vl(d,null,u,k),d.child=k;k;)k.flags=k.flags&-3|4096,k=k.sibling;else{fe();if(u===R){d=eh(c,d,k);break a}lf(c,d,u,k)}d=d.child}return d;case 5:return Sd(d),null===c&&Le(d),u=d.type,R=d.pendingProps,ea=null!==c?c.memoizedProps:null,Ta=R.children,Gb(u,R)?Ta=null:null!==ea&&Gb(u,ea)&&(d.flags|=32),gi(c,d),lf(c,d,Ta,k),d.child;case 6:return null===c&&Le(d),null;case 13:return Ki(c,
d,k);case 4:return re(d,d.stateNode.containerInfo),u=d.pendingProps,null===c?d.child=Wi(d,null,u,k):lf(c,d,u,k),d.child;case 11:return u=d.type,R=d.pendingProps,R=d.elementType===u?R:oe(u,R),Og(c,d,u,R,k);case 7:return lf(c,d,d.pendingProps,k),d.child;case 8:return lf(c,d,d.pendingProps.children,k),d.child;case 12:return lf(c,d,d.pendingProps.children,k),d.child;case 10:a:{u=d.type._context;R=d.pendingProps;ea=d.memoizedProps;Ta=R.value;Wd(lj,u._currentValue);u._currentValue=Ta;if(null!==ea)if(Ph(ea.value,
Ta)){if(ea.children===R.children&&!dh.current){d=eh(c,d,k);break a}}else for(ea=d.child,null!==ea&&(ea.return=d);null!==ea;){var Tb=ea.dependencies;if(null!==Tb){Ta=ea.child;for(var oc=Tb.firstContext;null!==oc;){if(oc.context===u){if(1===ea.tag){oc=Xb(-1,k&-k);oc.tag=2;var Vc=ea.updateQueue;if(null!==Vc){Vc=Vc.shared;var yd=Vc.pending;null===yd?oc.next=oc:(oc.next=yd.next,yd.next=oc);Vc.pending=oc}}ea.lanes|=k;oc=ea.alternate;null!==oc&&(oc.lanes|=k);M(ea.return,k,d);Tb.lanes|=k;break}oc=oc.next}}else if(10===
ea.tag)Ta=ea.type===d.type?null:ea.child;else if(18===ea.tag){Ta=ea.return;if(null===Ta)throw Error(t(341));Ta.lanes|=k;Tb=Ta.alternate;null!==Tb&&(Tb.lanes|=k);M(Ta,k,d);Ta=ea.sibling}else Ta=ea.child;if(null!==Ta)Ta.return=ea;else for(Ta=ea;null!==Ta;){if(Ta===d){Ta=null;break}ea=Ta.sibling;if(null!==ea){ea.return=Ta.return;Ta=ea;break}Ta=Ta.return}ea=Ta}lf(c,d,R.children,k);d=d.child}return d;case 9:return R=d.type,u=d.pendingProps.children,p(d,k),R=Q(R),u=u(R),d.flags|=1,lf(c,d,u,k),d.child;case 14:return u=
d.type,R=oe(u,d.pendingProps),R=oe(u.type,R),Pg(c,d,u,R,k);case 15:return oh(c,d,d.type,d.pendingProps,k);case 17:return u=d.type,R=d.pendingProps,R=d.elementType===u?R:oe(u,R),ph(c,d),d.tag=1,Qa(u)?(c=!0,Mc(d)):c=!1,p(d,k),jd(d,u,R),Rc(d,u,R,k),Rg(null,d,u,!0,c,k);case 19:return Ni(c,d,k);case 22:return Uf(c,d,k)}throw Error(t(156,d.tag));};var Fl="function"===typeof reportError?reportError:function(c){console.error(c)};xi.prototype.render=Qi.prototype.render=function(c){var d=this._internalRoot;
if(null===d)throw Error(t(409));jh(c,d,null,null)};xi.prototype.unmount=Qi.prototype.unmount=function(){var c=this._internalRoot;if(null!==c){this._internalRoot=null;var d=c.containerInfo;wc(function(){jh(null,c,null,null)});d[bi]=null}};xi.prototype.unstable_scheduleHydration=function(c){if(c){var d=Gl();c={blockedOn:null,target:c,priority:d};for(var k=0;k<mi.length&&0!==d&&d<mi[k].priority;k++);mi.splice(k,0,c);0===k&&xb(c)}};var ml=function(c){switch(c.tag){case 3:var d=c.stateNode;if(d.current.memoizedState.isDehydrated){var k=
ib(d.pendingLanes);0!==k&&(xc(d,k|1),cc(d,hg()),0===(ef&6)&&(sj=hg()+500,ld()))}break;case 13:wc(function(){var u=xa(c,1);if(null!==u){var R=La();yb(u,c,1,R)}}),xj(c,1)}};var jl=function(c){if(13===c.tag){var d=xa(c,134217728);if(null!==d){var k=La();yb(d,c,134217728,k)}xj(c,134217728)}};var kl=function(c){if(13===c.tag){var d=zb(c),k=xa(c,d);if(null!==k){var u=La();yb(k,c,d,u)}xj(c,d)}};var Gl=function(){return xf};var Pl=function(c,d){var k=xf;try{return xf=c,d()}finally{xf=k}};Bf=function(c,d,
k){switch(d){case "input":Va(c,k);d=k.name;if("radio"===k.type&&null!=d){for(k=c;k.parentNode;)k=k.parentNode;k=k.querySelectorAll("input[name\x3d"+JSON.stringify(""+d)+'][type\x3d"radio"]');for(d=0;d<k.length;d++){var u=k[d];if(u!==c&&u.form===c.form){var R=Md(u);if(!R)throw Error(t(90));fc(u);Va(u,R)}}}break;case "textarea":$a(c,k);break;case "select":d=k.value,null!=d&&Za(c,!!k.multiple,d,!1)}};A=kc;X=wc;var Hl={usingClientEntryPoint:!1,Events:[Oc,Nd,Md,x,U,kc]},Ah={findFiberByHostInstance:cd,
bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ji={bundleType:Ah.bundleType,version:Ah.version,rendererPackageName:Ah.rendererPackageName,rendererConfig:Ah.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mb.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){c=
Ma(c);return null===c?null:c.stateNode},findFiberByHostInstance:Ah.findFiberByHostInstance||al,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ai=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ai.isDisabled&&Ai.supportsFiber)try{Cj=Ai.inject(ji),$h=Ai}catch(c){}}Wa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hl;Wa.createPortal=
function(c,d){var k=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Pj(d))throw Error(t(200));return ag(c,d,null,k)};Wa.createRoot=function(c,d){if(!Pj(c))throw Error(t(299));var k=!1,u="",R=Fl;null!==d&&void 0!==d&&(!0===d.unstable_strictMode&&(k=!0),void 0!==d.identifierPrefix&&(u=d.identifierPrefix),void 0!==d.onRecoverableError&&(R=d.onRecoverableError));d=aj(c,1,!1,null,null,k,!1,u,R);c[bi]=d.current;he(8===c.nodeType?c.parentNode:c);return new Qi(d)};Wa.findDOMNode=function(c){if(null==
c)return null;if(1===c.nodeType)return c;var d=c._reactInternals;if(void 0===d){if("function"===typeof c.render)throw Error(t(188));c=Object.keys(c).join(",");throw Error(t(268,c));}c=Ma(d);return c=null===c?null:c.stateNode};Wa.flushSync=function(c){return wc(c)};Wa.hydrate=function(c,d,k){if(!yi(d))throw Error(t(200));return bj(null,c,d,!0,k)};Wa.hydrateRoot=function(c,d,k){if(!Pj(c))throw Error(t(405));var u=null!=k&&k.hydratedSources||null,R=!1,ea="",Ta=Fl;null!==k&&void 0!==k&&(!0===k.unstable_strictMode&&
(R=!0),void 0!==k.identifierPrefix&&(ea=k.identifierPrefix),void 0!==k.onRecoverableError&&(Ta=k.onRecoverableError));d=wj(d,null,c,1,null!=k?k:null,R,!1,ea,Ta);c[bi]=d.current;he(c);if(u)for(c=0;c<u.length;c++)k=u[c],R=k._getVersion,R=R(k._source),null==d.mutableSourceEagerHydrationData?d.mutableSourceEagerHydrationData=[k,R]:d.mutableSourceEagerHydrationData.push(k,R);return new xi(d)};Wa.render=function(c,d,k){if(!yi(d))throw Error(t(200));return bj(null,c,d,!1,k)};Wa.unmountComponentAtNode=function(c){if(!yi(c))throw Error(t(40));
return c._reactRootContainer?(wc(function(){bj(null,null,c,!1,function(){c._reactRootContainer=null;c[bi]=null})}),!0):!1};Wa.unstable_batchedUpdates=kc;Wa.unstable_renderSubtreeIntoContainer=function(c,d,k,u){if(!yi(k))throw Error(t(200));if(null==c||void 0===c._reactInternals)throw Error(t(38));return bj(c,d,k,!1,u)};Wa.version="18.2.0-next-9e3b772b8-20220608"};
shadow$provide[8]=function(Db,nb,Dc,Wa){function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(h){console.error(h)}}t();Dc.exports=nb(6)};
shadow$provide[9]=function(Db,nb,Dc,Wa){Db=nb(8);Wa.createRoot=Db.createRoot;Wa.hydrateRoot=Db.hydrateRoot};
shadow$provide[14]=function(Db,nb,Dc,Wa){Dc.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"};
shadow$provide[18]=function(Db,nb,Dc,Wa){function t(){}function h(){}var ia=nb(14);h.resetWarningCache=t;Dc.exports=function(){function Ya(dc,Wb,nc,Ab,Ub,jc){if(jc!==ia)throw dc=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"),dc.name="Invariant Violation",dc;}function ub(){return Ya}Ya.isRequired=Ya;var Yb={array:Ya,bigint:Ya,bool:Ya,func:Ya,number:Ya,object:Ya,
string:Ya,symbol:Ya,any:Ya,arrayOf:ub,element:Ya,elementType:Ya,instanceOf:ub,node:Ya,objectOf:ub,oneOf:ub,oneOfType:ub,shape:ub,exact:ub,checkPropTypes:h,resetWarningCache:t};return Yb.PropTypes=Yb}};
shadow$provide[19]=function(Db,nb,Dc,Wa){Dc.exports=nb(18)()};
shadow$provide[20]=function(Db,nb,Dc,Wa){Wa.__esModule=!0;Wa.default=function(h,ia){void 0===h&&(h=t);void 0===ia&&(ia=t);const Ya=Object.keys(h),ub=Object.keys(ia);return h===ia||Ya.length===ub.length&&Ya.every(Yb=>h[Yb]===ia[Yb])};const t={}};
shadow$provide[21]=function(Db,nb,Dc,Wa){(function(t,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa):"function"===typeof define&&define.amd?define(["exports"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={}))})(this,function(t){function h(G,v,z){G.fields=v||[];G.fname=z;return G}function ia(G){return null==G?null:G.fields}function Ya(G){return 1===G.length?Va(G[0]):Ia(G)}function ub(G){throw Error(G);}function Yb(G){function v(){z.push(O+G.substring(ja,va));O="";ja=va+
1}const z=[],F=G.length;let W=null,ta=0,O="",ja,va,Ma;G+="";for(ja=va=0;va<F;++va)(Ma=G[va],"\\"===Ma)?(O+=G.substring(ja,va++),ja=va):Ma===W?(v(),W=null,ta=-1):W||(ja===ta&&'"'===Ma?(ja=va+1,W=Ma):ja===ta&&"'"===Ma?(ja=va+1,W=Ma):"."!==Ma||ta?"["===Ma?(va>ja&&v(),ta=ja=va+1):"]"===Ma&&(ta||ub("Access path missing open bracket: "+G),0<ta&&v(),ta=0,ja=va+1):va>ja?v():ja=va+1);ta&&ub("Access path missing closing bracket: "+G);W&&ub("Access path missing closing quote: "+G);va>ja&&(va++,v());return z}
function dc(G,v,z){const F=Yb(G);G=1===F.length?F[0]:G;return h((z&&z.get||Ya)(F),[G],v||G)}function Wb(G,v,z){v=[v].concat([].slice.call(z));console[G].apply(console,v)}function nc(G){return G===Object(G)}function Ab(G,v,z,F){if("__proto__"!==v){var W;if(nc(z)&&!N(z))for(W in G=nc(G[v])?G[v]:G[v]={},z)F&&(!0===F||F[W])?Ab(G,W,z[W]):"__proto__"!==W&&(G[W]=z[W]);else G[v]=z}}function Ub(G,v){function z(ta){F[ta.name]||(F[ta.name]=1,W.push(ta))}if(null==G)return v;const F={},W=[];v.forEach(z);G.forEach(z);
return W}function jc(G){return G[G.length-1]}function Ea(G){return null==G||""===G?null:+G}function bb(G,v,z,F){const W=z(G[0]);G=z(jc(G));v*=G-W;return[F(W-v),F(G-v)]}function tb(G,v,z,F,W){const ta=F(G[0]);G=F(jc(G));v=null!=v?F(v):(ta+G)/2;return[W(v+(ta-v)*z),W(v+(G-v)*z)]}function rb(G){return null!=G?N(G)?G:[G]:[]}function pb(G){return"function"===typeof G}function vb(G){for(let v,z,F=1,W=arguments.length;F<W;++F)for(z in v=arguments[F],v)G[z]=v[z];return G}function gb(G,v){return U.call(G,
v)}function fc(G){return"[object Date]"===Object.prototype.toString.call(G)}function sa(G){return"number"===typeof G}function ha(G){return"string"===typeof G}function Ba(G,v){let z="";for(;0<=--v;)z+=G;return z}function Sa(G){return N(G)?"["+G.map(Sa)+"]":nc(G)||ha(G)?JSON.stringify(G).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):G}const Va=G=>function(v){return v[G]},Ia=G=>{const v=G.length;return function(z){for(let F=0;F<v;++F)z=z[G[F]];return z}},hb=dc("id"),Za=h(G=>G,[],"identity"),
qb=h(()=>0,[],"zero"),Nb=h(()=>1,[],"one"),$a=h(()=>!0,[],"true"),V=h(()=>!1,[],"false");var N=Array.isArray;const na=G=>v=>G*Math.exp(v),oa=G=>v=>Math.log(G*v),Na=G=>v=>Math.sign(v)*Math.log1p(Math.abs(v/G)),la=G=>v=>Math.sign(v)*Math.expm1(Math.abs(v))*G,qa=G=>v=>0>v?-Math.pow(-v,G):Math.pow(v,G),l=(G,v)=>(G<v||null==G)&&null!=v?-1:(G>v||null==v)&&null!=G?1:(v=v instanceof Date?+v:v,G=G instanceof Date?+G:G)!==G&&v===v?-1:v!==v&&G===G?1:0,D=(G,v)=>1===G.length?K(G[0],v[0]):x(G,v,G.length),K=(G,
v)=>function(z,F){return l(G(z),G(F))*v},x=(G,v,z)=>{v.push(0);return function(F,W){var ta=0;let O=-1;for(;0===ta&&++O<z;)ta=G[O],ta=l(ta(F),ta(W));return ta*v[O]}},U=Object.prototype.hasOwnProperty,A={},X=G=>sa(G)?G:fc(G)?G:Date.parse(G);t.Debug=4;t.Error=1;t.Info=3;t.None=0;t.Warn=2;t.accessor=h;t.accessorFields=ia;t.accessorName=function(G){return null==G?null:G.fname};t.array=rb;t.ascending=l;t.clampRange=function(G,v,z){let F=G[0];G=G[1];let W;G<F&&(W=G,G=F,F=W);W=G-F;return W>=z-v?[v,z]:[F=
Math.min(Math.max(F,v),z-W),F+W]};t.compare=function(G,v,z){z=z||{};v=rb(v)||[];const F=[],W=[],ta={},O=z.comparator||D;rb(G).forEach((ja,va)=>{null!=ja&&(F.push("descending"===v[va]?-1:1),W.push(ja=pb(ja)?ja:dc(ja,null,z)),(ia(ja)||[]).forEach(Ma=>ta[Ma]=1))});return 0===W.length?null:h(O(W,F),Object.keys(ta))};t.constant=function(G){return pb(G)?G:()=>G};t.debounce=function(G,v){let z;return F=>{z&&clearTimeout(z);z=setTimeout(()=>(v(F),z=null),G)}};t.error=ub;t.extend=vb;t.extent=function(G,v){let z=
0,F,W,ta,O;if(G&&(F=G.length))if(null==v){for(W=G[z];z<F&&(null==W||W!==W);W=G[++z]);for(ta=O=W;z<F;++z)W=G[z],null!=W&&(W<ta&&(ta=W),W>O&&(O=W))}else{for(W=v(G[z]);z<F&&(null==W||W!==W);W=v(G[++z]));for(ta=O=W;z<F;++z)W=v(G[z]),null!=W&&(W<ta&&(ta=W),W>O&&(O=W))}return[ta,O]};t.extentIndex=function(G,v){const z=G.length;let F=-1,W,ta,O,ja,va;if(null==v){for(;++F<z;)if(ta=G[F],null!=ta&&ta>=ta){W=O=ta;break}if(F===z)return[-1,-1];for(ja=va=F;++F<z;)ta=G[F],null!=ta&&(W>ta&&(W=ta,ja=F),O<ta&&(O=ta,
va=F))}else{for(;++F<z;)if(ta=v(G[F],F,G),null!=ta&&ta>=ta){W=O=ta;break}if(F===z)return[-1,-1];for(ja=va=F;++F<z;)ta=v(G[F],F,G),null!=ta&&(W>ta&&(W=ta,ja=F),O<ta&&(O=ta,va=F))}return[ja,va]};t.falsy=V;t.fastmap=function(G){function v(ta){return gb(z,ta)&&z[ta]!==A}let z={},F;const W={size:0,empty:0,object:z,has:v,get(ta){return v(ta)?z[ta]:void 0},set(ta,O){v(ta)||(++W.size,z[ta]===A&&--W.empty);z[ta]=O;return this},delete(ta){v(ta)&&(--W.size,++W.empty,z[ta]=A);return this},clear(){W.size=W.empty=
0;W.object=z={}},test(ta){return arguments.length?(F=ta,W):F},clean(){const ta={};let O=0;for(const ja in z){const va=z[ja];va===A||F&&F(va)||(ta[ja]=va,++O)}W.size=O;W.empty=0;W.object=z=ta}};G&&Object.keys(G).forEach(ta=>{W.set(ta,G[ta])});return W};t.field=dc;t.flush=function(G,v,z,F,W,ta){if(!z&&0!==z)return ta;z=+z;let O=G[0],ja=jc(G);ja<O&&(G=O,O=ja,ja=G);G=Math.abs(v-O);v=Math.abs(ja-v);return G<v&&G<=z?F:v<=z?W:ta};t.hasOwnProperty=gb;t.id=hb;t.identity=Za;t.inherits=function(G,v,z){v=G.prototype=
Object.create(v.prototype);Object.defineProperty(v,"constructor",{value:G,writable:!0,enumerable:!0,configurable:!0});return vb(v,z)};t.inrange=function(G,v,z,F){let W=v[0];v=v[v.length-1];let ta;W>v&&(ta=W,W=v,v=ta);return(void 0===z||z?W<=G:W<G)&&(void 0===F||F?G<=v:G<v)};t.isArray=N;t.isBoolean=function(G){return"boolean"===typeof G};t.isDate=fc;t.isFunction=pb;t.isIterable=function(G){return G&&pb(G[Symbol.iterator])};t.isNumber=sa;t.isObject=nc;t.isRegExp=function(G){return"[object RegExp]"===
Object.prototype.toString.call(G)};t.isString=ha;t.key=function(G,v,z){G&&(G=v?rb(G).map(ta=>ta.replace(/\\(.)/g,"$1")):rb(G));const F=G&&G.length,W=z&&z.get||Ya;z=ta=>W(v?[ta]:Yb(ta));if(F)if(1===F){const ta=z(G[0]);z=function(O){return""+ta(O)}}else{const ta=G.map(z);z=function(O){let ja=""+ta[0](O),va=0;for(;++va<F;)ja+="|"+ta[va](O);return ja}}else z=function(){return""};return h(z,G,"key")};t.lerp=function(G,v){const z=G[0];G=jc(G);return(v=+v)?1===v?G:z+v*(G-z):z};t.logger=function(G,v,z=Wb){let F=
G||0;return{level(W){return arguments.length?(F=+W,this):F},error(){1<=F&&z(v||"error","ERROR",arguments);return this},warn(){2<=F&&z(v||"warn","WARN",arguments);return this},info(){3<=F&&z(v||"log","INFO",arguments);return this},debug(){4<=F&&z(v||"log","DEBUG",arguments);return this}}};t.lruCache=function(G){G=+G||1E4;let v,z,F;const W=()=>{v={};z={};F=0},ta=(O,ja)=>{++F>G&&(z=v,v={},F=1);return v[O]=ja};W();return{clear:W,has:O=>gb(v,O)||gb(z,O),get:O=>gb(v,O)?v[O]:gb(z,O)?ta(O,z[O]):void 0,set:(O,
ja)=>gb(v,O)?v[O]=ja:ta(O,ja)}};t.merge=function(G,v,z,F){const W=v.length,ta=z.length;if(!ta)return v;if(!W)return z;F=F||new v.constructor(W+ta);let O=0,ja=0,va=0;for(;O<W&&ja<ta;++va)F[va]=0<G(v[O],z[ja])?z[ja++]:v[O++];for(;O<W;++O,++va)F[va]=v[O];for(;ja<ta;++ja,++va)F[va]=z[ja];return F};t.mergeConfig=function(...G){return G.reduce((v,z)=>{for(const F in z)"signals"===F?v.signals=Ub(v.signals,z.signals):Ab(v,F,z[F],"legend"===F?{layout:1}:"style"===F?!0:null);return v},{})};t.one=Nb;t.pad=function(G,
v,z,F){z=z||" ";G+="";v-=G.length;return 0>=v?G:"left"===F?Ba(z,v)+G:"center"===F?Ba(z,~~(v/2))+G+Ba(z,Math.ceil(v/2)):G+Ba(z,v)};t.panLinear=function(G,v){return bb(G,v,Ea,Za)};t.panLog=function(G,v){var z=Math.sign(G[0]);return bb(G,v,oa(z),na(z))};t.panPow=function(G,v,z){return bb(G,v,qa(z),qa(1/z))};t.panSymlog=function(G,v,z){return bb(G,v,Na(z),la(z))};t.peek=jc;t.quarter=function(G){return 1+~~((new Date(G)).getMonth()/3)};t.repeat=Ba;t.span=function(G){return G&&jc(G)-G[0]||0};t.splitAccessPath=
Yb;t.stringValue=Sa;t.toBoolean=function(G){return null==G||""===G?null:G&&"false"!==G&&"0"!==G?!!G:!1};t.toDate=function(G,v){v=v||X;return null==G||""===G?null:v(G)};t.toNumber=Ea;t.toSet=function(G){const v={},z=G.length;for(let F=0;F<z;++F)v[G[F]]=!0;return v};t.toString=function(G){return null==G||""===G?null:G+""};t.truncate=function(G,v,z,F){F=null!=F?F:"";G+="";const W=G.length,ta=Math.max(0,v-F.length);return W<=v?G:"left"===z?F+G.slice(W-ta):"center"===z?G.slice(0,Math.ceil(ta/2))+F+G.slice(W-
~~(ta/2)):G.slice(0,ta)+F};t.truthy=$a;t.utcquarter=function(G){return 1+~~((new Date(G)).getUTCMonth()/3)};t.visitArray=function(G,v,z){if(G)if(v){const F=G.length;for(let W=0;W<F;++W){const ta=v(G[W]);ta&&z(ta,W,G)}}else G.forEach(z)};t.writeConfig=Ab;t.zero=qb;t.zoomLinear=function(G,v,z){return tb(G,v,z,Ea,Za)};t.zoomLog=function(G,v,z){const F=Math.sign(G[0]);return tb(G,v,z,oa(F),na(F))};t.zoomPow=function(G,v,z,F){return tb(G,v,z,qa(F),qa(1/F))};t.zoomSymlog=function(G,v,z,F){return tb(G,v,
z,Na(F),la(F))}})};
shadow$provide[22]=function(Db,nb,Dc,Wa){(function(t,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa):"function"===typeof define&&define.amd?define(["exports"],h):(t=t||self,h(t.topojson=t.topojson||{}))})(this,function(t){function h(Ea){return Ea}function ia(Ea){if(null==Ea)return h;var bb,tb,rb=Ea.scale[0],pb=Ea.scale[1],vb=Ea.translate[0],gb=Ea.translate[1];return function(fc,sa){sa||(bb=tb=0);sa=2;var ha=fc.length,Ba=Array(ha);Ba[0]=(bb+=fc[0])*rb+vb;for(Ba[1]=(tb+=fc[1])*pb+gb;sa<ha;)Ba[sa]=
fc[sa],++sa;return Ba}}function Ya(Ea){function bb(ha){ha=rb(ha);ha[0]<vb&&(vb=ha[0]);ha[0]>fc&&(fc=ha[0]);ha[1]<gb&&(gb=ha[1]);ha[1]>sa&&(sa=ha[1])}function tb(ha){switch(ha.type){case "GeometryCollection":ha.geometries.forEach(tb);break;case "Point":bb(ha.coordinates);break;case "MultiPoint":ha.coordinates.forEach(bb)}}var rb=ia(Ea.transform),pb,vb=Infinity,gb=vb,fc=-vb,sa=-vb;Ea.arcs.forEach(function(ha){for(var Ba=-1,Sa=ha.length,Va;++Ba<Sa;)Va=rb(ha[Ba],Ba),Va[0]<vb&&(vb=Va[0]),Va[0]>fc&&(fc=
Va[0]),Va[1]<gb&&(gb=Va[1]),Va[1]>sa&&(sa=Va[1])});for(pb in Ea.objects)tb(Ea.objects[pb]);return[vb,gb,fc,sa]}function ub(Ea,bb){var tb=bb.id,rb=bb.bbox,pb=null==bb.properties?{}:bb.properties;Ea=Yb(Ea,bb);return null==tb&&null==rb?{type:"Feature",properties:pb,geometry:Ea}:null==rb?{type:"Feature",id:tb,properties:pb,geometry:Ea}:{type:"Feature",id:tb,bbox:rb,properties:pb,geometry:Ea}}function Yb(Ea,bb){function tb(ha){return fc(ha)}function rb(ha){for(var Ba=[],Sa=0,Va=ha.length;Sa<Va;++Sa){var Ia=
ha[Sa],hb=Ba;hb.length&&hb.pop();for(var Za=sa[0>Ia?~Ia:Ia],qb=0,Nb=Za.length;qb<Nb;++qb)hb.push(fc(Za[qb],qb));if(0>Ia)for(Ia=hb,hb=Ia.length,Za=hb-Nb;Za<--hb;)Nb=Ia[Za],Ia[Za++]=Ia[hb],Ia[hb]=Nb}2>Ba.length&&Ba.push(Ba[0]);return Ba}function pb(ha){for(ha=rb(ha);4>ha.length;)ha.push(ha[0]);return ha}function vb(ha){return ha.map(pb)}function gb(ha){var Ba=ha.type;switch(Ba){case "GeometryCollection":return{type:Ba,geometries:ha.geometries.map(gb)};case "Point":ha=fc(ha.coordinates);break;case "MultiPoint":ha=
ha.coordinates.map(tb);break;case "LineString":ha=rb(ha.arcs);break;case "MultiLineString":ha=ha.arcs.map(rb);break;case "Polygon":ha=vb(ha.arcs);break;case "MultiPolygon":ha=ha.arcs.map(vb);break;default:return null}return{type:Ba,coordinates:ha}}var fc=ia(Ea.transform),sa=Ea.arcs;return gb(bb)}function dc(Ea,bb){function tb(ha){var Ba=Ea.arcs[0>ha?~ha:ha],Sa=Ba[0];if(Ea.transform){var Va=[0,0];Ba.forEach(function(Ia){Va[0]+=Ia[0];Va[1]+=Ia[1]})}else Va=Ba[Ba.length-1];return 0>ha?[Va,Sa]:[Sa,Va]}
function rb(ha,Ba){for(var Sa in ha){var Va=ha[Sa];delete Ba[Va.start];delete Va.start;delete Va.end;Va.forEach(function(Ia){pb[0>Ia?~Ia:Ia]=1});fc.push(Va)}}var pb={},vb={},gb={},fc=[],sa=-1;bb.forEach(function(ha,Ba){var Sa=Ea.arcs[0>ha?~ha:ha];3>Sa.length&&!Sa[1][0]&&!Sa[1][1]&&(Sa=bb[++sa],bb[sa]=ha,bb[Ba]=Sa)});bb.forEach(function(ha){var Ba=tb(ha),Sa=Ba[0],Va=Ba[1];(Ba=gb[Sa])?(delete gb[Ba.end],Ba.push(ha),Ba.end=Va,(ha=vb[Va])?(delete vb[ha.start],Sa=ha===Ba?Ba:Ba.concat(ha),vb[Sa.start=Ba.start]=
gb[Sa.end=ha.end]=Sa):vb[Ba.start]=gb[Ba.end]=Ba):(Ba=vb[Va])?(delete vb[Ba.start],Ba.unshift(ha),Ba.start=Sa,(ha=gb[Sa])?(delete gb[ha.end],Sa=ha===Ba?Ba:ha.concat(Ba),vb[Sa.start=ha.start]=gb[Sa.end=Ba.end]=Sa):vb[Ba.start]=gb[Ba.end]=Ba):(Ba=[ha],vb[Ba.start=Sa]=gb[Ba.end=Va]=Ba)});rb(gb,vb);rb(vb,gb);bb.forEach(function(ha){pb[0>ha?~ha:ha]||fc.push([ha])});return fc}function Wb(Ea,bb,tb){var rb;if(1<arguments.length)var pb=nc(Ea,bb,tb);else{var vb=0;for(pb=Array(rb=Ea.arcs.length);vb<rb;++vb)pb[vb]=
vb}return{type:"MultiLineString",arcs:dc(Ea,pb)}}function nc(Ea,bb,tb){function rb(Ba){var Sa=0>Ba?~Ba:Ba;(sa[Sa]||(sa[Sa]=[])).push({i:Ba,g:ha})}function pb(Ba){Ba.forEach(rb)}function vb(Ba){Ba.forEach(pb)}function gb(Ba){switch(ha=Ba,Ba.type){case "GeometryCollection":Ba.geometries.forEach(gb);break;case "LineString":pb(Ba.arcs);break;case "MultiLineString":case "Polygon":vb(Ba.arcs);break;case "MultiPolygon":Ba.arcs.forEach(vb)}}var fc=[],sa=[],ha;gb(bb);sa.forEach(null==tb?function(Ba){fc.push(Ba[0].i)}:
function(Ba){tb(Ba[0].g,Ba[Ba.length-1].g)&&fc.push(Ba[0].i)});return fc}function Ab(Ea,bb){function tb(sa){switch(sa.type){case "GeometryCollection":sa.geometries.forEach(tb);break;case "Polygon":rb(sa.arcs);break;case "MultiPolygon":sa.arcs.forEach(rb)}}function rb(sa){sa.forEach(function(ha){ha.forEach(function(Ba){(vb[Ba=0>Ba?~Ba:Ba]||(vb[Ba]=[])).push(sa)})});gb.push(sa)}function pb(sa){sa=Yb(Ea,{type:"Polygon",arcs:[sa]}).coordinates[0];for(var ha=-1,Ba=sa.length,Sa,Va=sa[Ba-1],Ia=0;++ha<Ba;)Sa=
Va,Va=sa[ha],Ia+=Sa[0]*Va[1]-Sa[1]*Va[0];return Math.abs(Ia)}var vb={},gb=[],fc=[];bb.forEach(tb);gb.forEach(function(sa){if(!sa._){var ha=[],Ba=[sa];sa._=1;for(fc.push(ha);sa=Ba.pop();)ha.push(sa),sa.forEach(function(Sa){Sa.forEach(function(Va){vb[0>Va?~Va:Va].forEach(function(Ia){Ia._||(Ia._=1,Ba.push(Ia))})})})}});gb.forEach(function(sa){delete sa._});return{type:"MultiPolygon",arcs:fc.map(function(sa){var ha=[];sa.forEach(function(Ia){Ia.forEach(function(hb){hb.forEach(function(Za){2>vb[0>Za?
~Za:Za].length&&ha.push(Za)})})});ha=dc(Ea,ha);if(1<(sa=ha.length))for(var Ba=1,Sa=pb(ha[0]),Va;Ba<sa;++Ba)(Va=pb(ha[Ba]))>Sa&&(Sa=ha[0],ha[0]=ha[Ba],ha[Ba]=Sa,Sa=Va);return ha}).filter(function(sa){return 0<sa.length})}}function Ub(Ea,bb){for(var tb=0,rb=Ea.length;tb<rb;){var pb=tb+rb>>>1;Ea[pb]<bb?tb=pb+1:rb=pb}return tb}function jc(Ea){if(null==Ea)return h;var bb,tb,rb=Ea.scale[0],pb=Ea.scale[1],vb=Ea.translate[0],gb=Ea.translate[1];return function(fc,sa){sa||(bb=tb=0);sa=2;var ha=fc.length,Ba=
Array(ha),Sa=Math.round((fc[0]-vb)/rb),Va=Math.round((fc[1]-gb)/pb);Ba[0]=Sa-bb;bb=Sa;Ba[1]=Va-tb;for(tb=Va;sa<ha;)Ba[sa]=fc[sa],++sa;return Ba}}t.bbox=Ya;t.feature=function(Ea,bb){"string"===typeof bb&&(bb=Ea.objects[bb]);return"GeometryCollection"===bb.type?{type:"FeatureCollection",features:bb.geometries.map(function(tb){return ub(Ea,tb)})}:ub(Ea,bb)};t.merge=function(Ea){return Yb(Ea,Ab.apply(this,arguments))};t.mergeArcs=Ab;t.mesh=function(Ea){return Yb(Ea,Wb.apply(this,arguments))};t.meshArcs=
Wb;t.neighbors=function(Ea){function bb(hb,Za){hb.forEach(function(qb){0>qb&&(qb=~qb);var Nb=pb[qb];Nb?Nb.push(Za):pb[qb]=[Za]})}function tb(hb,Za){hb.forEach(function(qb){bb(qb,Za)})}function rb(hb,Za){if("GeometryCollection"===hb.type)hb.geometries.forEach(function(qb){rb(qb,Za)});else if(hb.type in gb)gb[hb.type](hb.arcs,Za)}var pb={},vb=Ea.map(function(){return[]}),gb={LineString:bb,MultiLineString:tb,Polygon:tb,MultiPolygon:function(hb,Za){hb.forEach(function(qb){tb(qb,Za)})}};Ea.forEach(rb);
for(var fc in pb){Ea=pb[fc];for(var sa=Ea.length,ha=0;ha<sa;++ha)for(var Ba=ha+1;Ba<sa;++Ba){var Sa=Ea[ha],Va=Ea[Ba],Ia;(Ia=vb[Sa])[fc=Ub(Ia,Va)]!==Va&&Ia.splice(fc,0,Va);(Ia=vb[Va])[fc=Ub(Ia,Sa)]!==Sa&&Ia.splice(fc,0,Sa)}}return vb};t.quantize=function(Ea,bb){function tb(Sa){return ha(Sa)}function rb(Sa){switch(Sa.type){case "GeometryCollection":var Va={type:"GeometryCollection",geometries:Sa.geometries.map(rb)};break;case "Point":Va={type:"Point",coordinates:ha(Sa.coordinates)};break;case "MultiPoint":Va=
{type:"MultiPoint",coordinates:Sa.coordinates.map(tb)};break;default:return Sa}null!=Sa.id&&(Va.id=Sa.id);null!=Sa.bbox&&(Va.bbox=Sa.bbox);null!=Sa.properties&&(Va.properties=Sa.properties);return Va}if(Ea.transform)throw Error("already quantized");if(bb&&bb.scale)var pb=Ea.bbox;else{if(!(2<=(sa=Math.floor(bb))))throw Error("n must be 2");pb=Ea.bbox||Ya(Ea);bb=pb[0];var vb=pb[1],gb=pb[2],fc=pb[3],sa;bb={scale:[gb-bb?(gb-bb)/(sa-1):1,fc-vb?(fc-vb)/(sa-1):1],translate:[bb,vb]}}var ha=jc(bb),Ba;vb=
Ea.objects;gb={};for(Ba in vb)gb[Ba]=rb(vb[Ba]);return{type:"Topology",bbox:pb,transform:bb,objects:gb,arcs:Ea.arcs.map(function(Sa){var Va=0,Ia=1,hb=Sa.length,Za,qb=Array(hb);for(qb[0]=ha(Sa[0],0);++Va<hb;)if((Za=ha(Sa[Va],Va))[0]||Za[1])qb[Ia++]=Za;1===Ia&&(qb[Ia++]=[0,0]);qb.length=Ia;return qb})}};t.transform=ia;t.untransform=jc;Object.defineProperty(t,"__esModule",{value:!0})})};
shadow$provide[23]=function(Db,nb,Dc,Wa){(function(t,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,nb(21)):"function"===typeof define&&define.amd?define(["exports","vega-util"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega))})(this,function(t,h){function ia(Y){const Fa=h.array(Y).slice(),Kb={};Fa.length||h.error("Missing time unit.");Fa.forEach(pc=>{h.hasOwnProperty(Ia,pc)?Kb[pc]=1:h.error(`Invalid time unit: ${pc}.`)});1<(Kb.week||Kb.day?1:0)+(Kb.quarter||Kb.month||
Kb.date?1:0)+(Kb.dayofyear?1:0)&&h.error(`Incompatible time units: ${Y}`);Fa.sort((pc,ac)=>Ia[pc]-Ia[ac]);return Fa}function Ya(Y,Fa,Kb,pc){function ac(Mb){return Y(Mb=0===arguments.length?new Date:new Date(+Mb)),Mb}ac.floor=Mb=>(Y(Mb=new Date(+Mb)),Mb);ac.ceil=Mb=>(Y(Mb=new Date(Mb-1)),Fa(Mb,1),Y(Mb),Mb);ac.round=Mb=>{const Ob=ac(Mb),xc=ac.ceil(Mb);return Mb-Ob<xc-Mb?Ob:xc};ac.offset=(Mb,Ob)=>(Fa(Mb=new Date(+Mb),null==Ob?1:Math.floor(Ob)),Mb);ac.range=(Mb,Ob,xc)=>{const hd=[];Mb=ac.ceil(Mb);xc=
null==xc?1:Math.floor(xc);if(!(Mb<Ob&&0<xc))return hd;let ra;do hd.push(ra=new Date(+Mb)),Fa(Mb,xc),Y(Mb);while(ra<Mb&&Mb<Ob);return hd};ac.filter=Mb=>Ya(Ob=>{if(Ob>=Ob)for(;Y(Ob),!Mb(Ob);)Ob.setTime(Ob-1)},(Ob,xc)=>{if(Ob>=Ob)if(0>xc)for(;0>=++xc;)for(;Fa(Ob,-1),!Mb(Ob););else for(;0<=--xc;)for(;Fa(Ob,1),!Mb(Ob););});Kb&&(ac.count=(Mb,Ob)=>{Za.setTime(+Mb);qb.setTime(+Ob);Y(Za);Y(qb);return Math.floor(Kb(Za,qb))},ac.every=Mb=>{Mb=Math.floor(Mb);return isFinite(Mb)&&0<Mb?1<Mb?ac.filter(pc?Ob=>0===
pc(Ob)%Mb:Ob=>0===ac.count(0,Ob)%Mb):ac:null});return ac}function ub(Y){return Ya(Fa=>{Fa.setDate(Fa.getDate()-(Fa.getDay()+7-Y)%7);Fa.setHours(0,0,0,0)},(Fa,Kb)=>{Fa.setDate(Fa.getDate()+7*Kb)},(Fa,Kb)=>(Kb-Fa-6E4*(Kb.getTimezoneOffset()-Fa.getTimezoneOffset()))/$a)}function Yb(Y){return Ya(Fa=>{Fa.setUTCDate(Fa.getUTCDate()-(Fa.getUTCDay()+7-Y)%7);Fa.setUTCHours(0,0,0,0)},(Fa,Kb)=>{Fa.setUTCDate(Fa.getUTCDate()+7*Kb)},(Fa,Kb)=>(Kb-Fa)/$a)}function dc(Y,Fa){return null==Y||null==Fa?NaN:Y<Fa?-1:Y>
Fa?1:Y>=Fa?0:NaN}function Wb(Y,Fa){return null==Y||null==Fa?NaN:Fa<Y?-1:Fa>Y?1:Fa>=Y?0:NaN}function nc(Y){function Fa(Mb,Ob,xc=0,hd=Mb.length){if(xc<hd){if(0!==Kb(Ob,Ob))return hd;do{const ra=xc+hd>>>1;0>pc(Mb[ra],Ob)?xc=ra+1:hd=ra}while(xc<hd)}return xc}let Kb,pc,ac;2!==Y.length?(Kb=dc,pc=(Mb,Ob)=>dc(Y(Mb),Ob),ac=(Mb,Ob)=>Y(Mb)-Ob):(Kb=Y===dc||Y===Wb?Y:Ab,ac=pc=Y);return{left:Fa,center:function(Mb,Ob,xc=0,hd=Mb.length){hd=Fa(Mb,Ob,xc,hd-1);return hd>xc&&ac(Mb[hd-1],Ob)>-ac(Mb[hd],Ob)?hd-1:hd},right:function(Mb,
Ob,xc=0,hd=Mb.length){if(xc<hd){if(0!==Kb(Ob,Ob))return hd;do{const ra=xc+hd>>>1;0>=pc(Mb[ra],Ob)?xc=ra+1:hd=ra}while(xc<hd)}return xc}}}function Ab(){return 0}function Ub(Y,Fa,Kb){var pc=(Fa-Y)/Math.max(0,Kb),ac=Math.floor(Math.log10(pc));pc/=Math.pow(10,ac);pc=pc>=v?10:pc>=z?5:pc>=F?2:1;let Mb;0>ac?(Mb=Math.pow(10,-ac)/pc,ac=Math.round(Y*Mb),pc=Math.round(Fa*Mb),ac/Mb<Y&&++ac,pc/Mb>Fa&&--pc,Mb=-Mb):(Mb=Math.pow(10,ac)*pc,ac=Math.round(Y/Mb),pc=Math.round(Fa/Mb),ac*Mb<Y&&++ac,pc*Mb>Fa&&--pc);return pc<
ac&&.5<=Kb&&2>Kb?Ub(Y,Fa,2*Kb):[ac,pc,Mb]}function jc(Y,Fa,Kb){return Ub(+Y,+Fa,+Kb)[2]}function Ea(Y,Fa,Kb){Fa=+Fa;Y=+Y;Kb=+Kb;const pc=Fa<Y;Y=pc?jc(Fa,Y,Kb):jc(Y,Fa,Kb);return(pc?-1:1)*(0>Y?1/-Y:Y)}function bb(Y){W.setFullYear(Y);W.setMonth(0);W.setDate(1);W.setHours(0,0,0,0);return W}function tb(Y){return la.count(bb(Y.getFullYear())-1,Y)}function rb(Y){return D.count(bb(Y.getFullYear())-1,Y)}function pb(Y,Fa,Kb,pc,ac,Mb,Ob){return 0<=Y&&100>Y?(Fa=new Date(-1,Fa,Kb,pc,ac,Mb,Ob),Fa.setFullYear(Y),
Fa):new Date(Y,Fa,Kb,pc,ac,Mb,Ob)}function vb(Y){const Fa=Date.UTC(Y.getUTCFullYear(),0,1);return qa.count(Fa-1,Y)}function gb(Y){const Fa=Date.UTC(Y.getUTCFullYear(),0,1);return G.count(Fa-1,Y)}function fc(Y){W.setTime(Date.UTC(Y,0,1));return W.getUTCDay()}function sa(Y,Fa,Kb,pc,ac,Mb,Ob){return 0<=Y&&100>Y?(Y=new Date(Date.UTC(-1,Fa,Kb,pc,ac,Mb,Ob)),Y.setUTCFullYear(Kb.y),Y):new Date(Date.UTC(Y,Fa,Kb,pc,ac,Mb,Ob))}function ha(Y,Fa,Kb,pc,ac){const Mb=Fa||1,Ob=h.peek(Y);Fa=(Zb,ic,Ac)=>{Ac=Ac||Zb;
return Ba(Kb[Ac],pc[Ac],Zb===Ob&&Mb,ic)};const xc=new Date;Y=h.toSet(Y);const hd=Y.year?Fa("year"):h.constant(2012),ra=Y.month?Fa("month"):Y.quarter?Fa("quarter"):h.zero,Bb=Y.week&&Y.day?Fa("day",1,"weekday"):Y.week?Fa("week",1):Y.day?Fa("day",1):Y.date?Fa("date",1):Y.dayofyear?Fa("dayofyear",1):h.one,Ua=Y.hours?Fa("hours"):h.zero,xb=Y.minutes?Fa("minutes"):h.zero,Fb=Y.seconds?Fa("seconds"):h.zero,Lb=Y.milliseconds?Fa("milliseconds"):h.zero;return function(Zb){xc.setTime(+Zb);Zb=hd(xc);return ac(Zb,
ra(xc),Bb(xc,Zb),Ua(xc),xb(xc),Fb(xc),Lb(xc))}}function Ba(Y,Fa,Kb,pc){const ac=1>=Kb?Y:pc?(Mb,Ob)=>pc+Kb*Math.floor((Y(Mb,Ob)-pc)/Kb):(Mb,Ob)=>Kb*Math.floor(Y(Mb,Ob)/Kb);return Fa?(Mb,Ob)=>Fa(ac(Mb,Ob),Ob):ac}function Sa(Y,Fa,Kb){return Fa+7*Y-(Kb+6)%7}const Va="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),Ia=Va.reduce((Y,Fa,Kb)=>(Y[Fa]=1+Kb,Y),{}),hb={year:"%Y ",quarter:"Q%q ",month:"%b ",date:"%d ",week:"W%U ",day:"%a ",dayofyear:"%j ",hours:"%H:00",
minutes:"00:%M",seconds:":%S",milliseconds:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"},Za=new Date,qb=new Date,Nb=Ya(()=>{},(Y,Fa)=>{Y.setTime(+Y+Fa)},(Y,Fa)=>Fa-Y);Nb.every=Y=>{Y=Math.floor(Y);return isFinite(Y)&&0<Y?1<Y?Ya(Fa=>{Fa.setTime(Math.floor(Fa/Y)*Y)},(Fa,Kb)=>{Fa.setTime(+Fa+Kb*Y)},(Fa,Kb)=>(Kb-Fa)/Y):Nb:null};Nb.range;const $a=6048E5;var V=Ya(Y=>{Y.setTime(Y-Y.getMilliseconds())},(Y,Fa)=>{Y.setTime(+Y+1E3*Fa)},(Y,Fa)=>(Fa-Y)/1E3,Y=>Y.getUTCSeconds());
V.range;var N=Ya(Y=>{Y.setTime(Y-Y.getMilliseconds()-1E3*Y.getSeconds())},(Y,Fa)=>{Y.setTime(+Y+6E4*Fa)},(Y,Fa)=>(Fa-Y)/6E4,Y=>Y.getMinutes());N.range;var na=Ya(Y=>{Y.setUTCSeconds(0,0)},(Y,Fa)=>{Y.setTime(+Y+6E4*Fa)},(Y,Fa)=>(Fa-Y)/6E4,Y=>Y.getUTCMinutes());na.range;var oa=Ya(Y=>{Y.setTime(Y-Y.getMilliseconds()-1E3*Y.getSeconds()-6E4*Y.getMinutes())},(Y,Fa)=>{Y.setTime(+Y+36E5*Fa)},(Y,Fa)=>(Fa-Y)/36E5,Y=>Y.getHours());oa.range;var Na=Ya(Y=>{Y.setUTCMinutes(0,0,0)},(Y,Fa)=>{Y.setTime(+Y+36E5*Fa)},
(Y,Fa)=>(Fa-Y)/36E5,Y=>Y.getUTCHours());Na.range;const la=Ya(Y=>Y.setHours(0,0,0,0),(Y,Fa)=>Y.setDate(Y.getDate()+Fa),(Y,Fa)=>(Fa-Y-6E4*(Fa.getTimezoneOffset()-Y.getTimezoneOffset()))/864E5,Y=>Y.getDate()-1);la.range;const qa=Ya(Y=>{Y.setUTCHours(0,0,0,0)},(Y,Fa)=>{Y.setUTCDate(Y.getUTCDate()+Fa)},(Y,Fa)=>(Fa-Y)/864E5,Y=>Y.getUTCDate()-1);qa.range;var l=Ya(Y=>{Y.setUTCHours(0,0,0,0)},(Y,Fa)=>{Y.setUTCDate(Y.getUTCDate()+Fa)},(Y,Fa)=>(Fa-Y)/864E5,Y=>Math.floor(Y/864E5));l.range;const D=ub(0);l=ub(1);
var K=ub(2),x=ub(3),U=ub(4),A=ub(5),X=ub(6);D.range;l.range;K.range;x.range;U.range;A.range;X.range;const G=Yb(0);l=Yb(1);K=Yb(2);x=Yb(3);U=Yb(4);A=Yb(5);X=Yb(6);G.range;l.range;K.range;x.range;U.range;A.range;X.range;l=Ya(Y=>{Y.setDate(1);Y.setHours(0,0,0,0)},(Y,Fa)=>{Y.setMonth(Y.getMonth()+Fa)},(Y,Fa)=>Fa.getMonth()-Y.getMonth()+12*(Fa.getFullYear()-Y.getFullYear()),Y=>Y.getMonth());l.range;K=Ya(Y=>{Y.setUTCDate(1);Y.setUTCHours(0,0,0,0)},(Y,Fa)=>{Y.setUTCMonth(Y.getUTCMonth()+Fa)},(Y,Fa)=>Fa.getUTCMonth()-
Y.getUTCMonth()+12*(Fa.getUTCFullYear()-Y.getUTCFullYear()),Y=>Y.getUTCMonth());K.range;x=Ya(Y=>{Y.setMonth(0,1);Y.setHours(0,0,0,0)},(Y,Fa)=>{Y.setFullYear(Y.getFullYear()+Fa)},(Y,Fa)=>Fa.getFullYear()-Y.getFullYear(),Y=>Y.getFullYear());x.every=Y=>isFinite(Y=Math.floor(Y))&&0<Y?Ya(Fa=>{Fa.setFullYear(Math.floor(Fa.getFullYear()/Y)*Y);Fa.setMonth(0,1);Fa.setHours(0,0,0,0)},(Fa,Kb)=>{Fa.setFullYear(Fa.getFullYear()+Kb*Y)}):null;x.range;U=Ya(Y=>{Y.setUTCMonth(0,1);Y.setUTCHours(0,0,0,0)},(Y,Fa)=>{Y.setUTCFullYear(Y.getUTCFullYear()+
Fa)},(Y,Fa)=>Fa.getUTCFullYear()-Y.getUTCFullYear(),Y=>Y.getUTCFullYear());U.every=Y=>isFinite(Y=Math.floor(Y))&&0<Y?Ya(Fa=>{Fa.setUTCFullYear(Math.floor(Fa.getUTCFullYear()/Y)*Y);Fa.setUTCMonth(0,1);Fa.setUTCHours(0,0,0,0)},(Fa,Kb)=>{Fa.setUTCFullYear(Fa.getUTCFullYear()+Kb*Y)}):null;U.range;const v=Math.sqrt(50),z=Math.sqrt(10),F=Math.sqrt(2),W=new Date,ta={year:Y=>Y.getFullYear(),quarter:Y=>Math.floor(Y.getMonth()/3),month:Y=>Y.getMonth(),date:Y=>Y.getDate(),hours:Y=>Y.getHours(),minutes:Y=>Y.getMinutes(),
seconds:Y=>Y.getSeconds(),milliseconds:Y=>Y.getMilliseconds(),dayofyear:Y=>tb(Y),week:Y=>rb(Y),weekday:(Y,Fa)=>Sa(rb(Y),Y.getDay(),bb(Fa).getDay()),day:(Y,Fa)=>Sa(1,Y.getDay(),bb(Fa).getDay())},O={quarter:Y=>3*Y,week:(Y,Fa)=>Sa(Y,0,bb(Fa).getDay())},ja={year:Y=>Y.getUTCFullYear(),quarter:Y=>Math.floor(Y.getUTCMonth()/3),month:Y=>Y.getUTCMonth(),date:Y=>Y.getUTCDate(),hours:Y=>Y.getUTCHours(),minutes:Y=>Y.getUTCMinutes(),seconds:Y=>Y.getUTCSeconds(),milliseconds:Y=>Y.getUTCMilliseconds(),dayofyear:Y=>
vb(Y),week:Y=>gb(Y),day:(Y,Fa)=>Sa(1,Y.getUTCDay(),fc(Fa)),weekday:(Y,Fa)=>Sa(gb(Y),Y.getUTCDay(),fc(Fa))},va={quarter:Y=>3*Y,week:(Y,Fa)=>Sa(Y,0,fc(Fa))},Ma={year:x,quarter:l.every(3),month:l,week:D,date:la,day:la,dayofyear:la,hours:oa,minutes:N,seconds:V,milliseconds:Nb},Pa={year:U,quarter:K.every(3),month:K,week:G,date:qa,day:qa,dayofyear:qa,hours:Na,minutes:na,seconds:V,milliseconds:Nb};V=6048E5;N=2592E6;const Xa=31536E6,sb="year month date hours minutes seconds milliseconds".split(" ");na=sb.slice(0,
-1);oa=na.slice(0,-1);Na=oa.slice(0,-1);l=Na.slice(0,-1);K=["year","month"];const ib=["year"],Sb=[[na,1,1E3],[na,5,5E3],[na,15,15E3],[na,30,3E4],[oa,1,6E4],[oa,5,3E5],[oa,15,9E5],[oa,30,18E5],[Na,1,36E5],[Na,3,108E5],[Na,6,216E5],[Na,12,432E5],[l,1,864E5],[["year","week"],1,V],[K,1,N],[K,3,3*N],[ib,1,Xa]];t.DATE="date";t.DAY="day";t.DAYOFYEAR="dayofyear";t.HOURS="hours";t.MILLISECONDS="milliseconds";t.MINUTES="minutes";t.MONTH="month";t.QUARTER="quarter";t.SECONDS="seconds";t.TIME_UNITS=Va;t.WEEK=
"week";t.YEAR="year";t.dayofyear=function(Y){return tb(new Date(Y))};t.timeBin=function(Y){var Fa=Y.extent;Y=Y.maxbins||40;var Kb=Math.abs(h.span(Fa))/Y;let pc=nc(ac=>ac[2]).right(Sb,Kb);pc===Sb.length?(Kb=ib,Fa=Ea(Fa[0]/Xa,Fa[1]/Xa,Y)):pc?(pc=Sb[Kb/Sb[pc-1][2]<Sb[pc][2]/Kb?pc-1:pc],Kb=pc[0],Fa=pc[1]):(Kb=sb,Fa=Math.max(Ea(Fa[0],Fa[1],Y),1));return{units:Kb,step:Fa}};t.timeFloor=function(Y,Fa){return ha(Y,Fa||1,ta,O,pb)};t.timeInterval=function(Y){return Ma[Y]};t.timeOffset=function(Y,Fa,Kb){return(Y=
Ma[Y])?Y.offset(Fa,Kb):void 0};t.timeSequence=function(Y,Fa,Kb,pc){return(Y=Ma[Y])?Y.range(Fa,Kb,pc):void 0};t.timeUnitSpecifier=function(Y,Fa){Fa=h.extend({},hb,Fa);Y=ia(Y);const Kb=Y.length;let pc="",ac,Mb,Ob;for(ac=0;ac<Kb;)for(Mb=Y.length;Mb>ac;--Mb)if(Ob=Y.slice(ac,Mb).join("-"),null!=Fa[Ob]){pc+=Fa[Ob];ac=Mb;break}return pc.trim()};t.timeUnits=ia;t.utcFloor=function(Y,Fa){return ha(Y,Fa||1,ja,va,sa)};t.utcInterval=function(Y){return Pa[Y]};t.utcOffset=function(Y,Fa,Kb){return(Y=Pa[Y])?Y.offset(Fa,
Kb):void 0};t.utcSequence=function(Y,Fa,Kb,pc){return(Y=Pa[Y])?Y.range(Fa,Kb,pc):void 0};t.utcdayofyear=function(Y){return vb(new Date(Y))};t.utcweek=function(Y){return gb(new Date(Y))};t.week=function(Y){return rb(new Date(Y))}})};
shadow$provide[24]=function(Db,nb,Dc,Wa){(function(t,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,nb(23),nb(21)):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega,t.vega))})(this,function(t,h,ia){function Ya(Ca){const Qa={};return bc=>Qa[bc]||(Qa[bc]=Ca(bc))}function ub(Ca,Qa,bc){var id=(Qa-Ca)/Math.max(0,bc),sc=Math.floor(Math.log10(id));id/=Math.pow(10,sc);id=id>=Hd?10:id>=vd?5:id>=
we?2:1;let Mc;0>sc?(Mc=Math.pow(10,-sc)/id,sc=Math.round(Ca*Mc),id=Math.round(Qa*Mc),sc/Mc<Ca&&++sc,id/Mc>Qa&&--id,Mc=-Mc):(Mc=Math.pow(10,sc)*id,sc=Math.round(Ca/Mc),id=Math.round(Qa/Mc),sc*Mc<Ca&&++sc,id*Mc>Qa&&--id);return id<sc&&.5<=bc&&2>bc?ub(Ca,Qa,2*bc):[sc,id,Mc]}function Yb(Ca,Qa,bc){return ub(+Ca,+Qa,+bc)[2]}function dc(Ca,Qa){if(0>(Qa=(Ca=Qa?Ca.toExponential(Qa-1):Ca.toExponential()).indexOf("e")))return null;var bc=Ca.slice(0,Qa);return[1<bc.length?bc[0]+bc.slice(2):bc,+Ca.slice(Qa+1)]}
function Wb(Ca){return Ca=dc(Math.abs(Ca)),Ca?Ca[1]:NaN}function nc(Ca,Qa){return function(bc,id){for(var sc=bc.length,Mc=[],Ec=0,Tc=Ca[0],Xc=0;0<sc&&0<Tc;){Xc+Tc+1>id&&(Tc=Math.max(1,id-Xc));Mc.push(bc.substring(sc-=Tc,sc+Tc));if((Xc+=Tc+1)>id)break;Tc=Ca[Ec=(Ec+1)%Ca.length]}return Mc.reverse().join(Qa)}}function Ab(Ca){return function(Qa){return Qa.replace(/[0-9]/g,function(bc){return Ca[+bc]})}}function Ub(Ca){if(!(Qa=Ed.exec(Ca)))throw Error("invalid format: "+Ca);var Qa;return new jc({fill:Qa[1],
align:Qa[2],sign:Qa[3],symbol:Qa[4],zero:Qa[5],width:Qa[6],comma:Qa[7],precision:Qa[8]&&Qa[8].slice(1),trim:Qa[9],type:Qa[10]})}function jc(Ca){this.fill=void 0===Ca.fill?" ":Ca.fill+"";this.align=void 0===Ca.align?"\x3e":Ca.align+"";this.sign=void 0===Ca.sign?"-":Ca.sign+"";this.symbol=void 0===Ca.symbol?"":Ca.symbol+"";this.zero=!!Ca.zero;this.width=void 0===Ca.width?void 0:+Ca.width;this.comma=!!Ca.comma;this.precision=void 0===Ca.precision?void 0:+Ca.precision;this.trim=!!Ca.trim;this.type=void 0===
Ca.type?"":Ca.type+""}function Ea(Ca,Qa){Qa=dc(Ca,Qa);if(!Qa)return Ca+"";Ca=Qa[0];Qa=Qa[1];return 0>Qa?"0."+Array(-Qa).join("0")+Ca:Ca.length>Qa+1?Ca.slice(0,Qa+1)+"."+Ca.slice(Qa+1):Ca+Array(Qa-Ca.length+2).join("0")}function bb(Ca){return Ca}function tb(Ca){function Qa(pd){function me(p){var Q=le,Z=oe,pa,xa;if("c"===fe)Z=y(p)+Z,p="";else{p=+p;var Cb=0>p||0>1/p;p=isNaN(p)?ld:y(Math.abs(p),Ze);if(ne){var Ib=p.length,Xb=1,$b=-1;a:for(;Xb<Ib;++Xb)switch(p[Xb]){case ".":$b=pa=Xb;break;case "0":0===
$b&&($b=Xb);pa=Xb;break;default:if(!+p[Xb])break a;0<$b&&($b=0)}p=0<$b?p.slice(0,$b)+p.slice(pa+1):p}Cb&&0===+p&&"+"!==Je&&(Cb=!1);Q=(Cb?"("===Je?Je:Xc:"-"===Je||"("===Je?"":Je)+Q;Z=("s"===fe?Ja[8+w/3]:"")+Z+(Cb&&"("===Je?")":"");if(M)for(Cb=-1,pa=p.length;++Cb<pa;)if(xa=p.charCodeAt(Cb),48>xa||57<xa){Z=(46===xa?Mc+p.slice(Cb+1):p.slice(Cb))+Z;p=p.slice(0,Cb);break}}$e&&!pf&&(p=bc(p,Infinity));xa=Q.length+p.length+Z.length;Cb=xa<Le?Array(Le-xa+1).join(df):"";$e&&pf&&(p=bc(Cb+p,Cb.length?Le-Z.length:
Infinity),Cb="");switch(Oe){case "\x3c":p=Q+p+Z+Cb;break;case "\x3d":p=Q+Cb+p+Z;break;case "^":p=Cb.slice(0,xa=Cb.length>>1)+Q+p+Z+Cb.slice(xa);break;default:p=Cb+Q+p+Z}return Ec(p)}pd=Ub(pd);var df=pd.fill,Oe=pd.align,Je=pd.sign,hf=pd.symbol,pf=pd.zero,Le=pd.width,$e=pd.comma,Ze=pd.precision,ne=pd.trim,fe=pd.type;"n"===fe?($e=!0,fe="g"):I[fe]||(void 0===Ze&&(Ze=12),ne=!0,fe="g");if(pf||"0"===df&&"\x3d"===Oe)pf=!0,df="0",Oe="\x3d";var le="$"===hf?id:"#"===hf&&/[boxX]/.test(fe)?"0"+fe.toLowerCase():
"",oe="$"===hf?sc:/[%p]/.test(fe)?Tc:"",y=I[fe],M=/[defgprs%]/.test(fe);Ze=void 0===Ze?6:/[gprs]/.test(fe)?Math.max(1,Math.min(21,Ze)):Math.max(0,Math.min(20,Ze));me.toString=function(){return pd+""};return me}var bc=void 0===Ca.grouping||void 0===Ca.thousands?bb:nc(wa.call(Ca.grouping,Number),Ca.thousands+""),id=void 0===Ca.currency?"":Ca.currency[0]+"",sc=void 0===Ca.currency?"":Ca.currency[1]+"",Mc=void 0===Ca.decimal?".":Ca.decimal+"",Ec=void 0===Ca.numerals?bb:Ab(wa.call(Ca.numerals,String)),
Tc=void 0===Ca.percent?"%":Ca.percent+"",Xc=void 0===Ca.minus?"":Ca.minus+"",ld=void 0===Ca.nan?"NaN":Ca.nan+"";return{format:Qa,formatPrefix:function(pd,me){var df=Qa((pd=Ub(pd),pd.type="f",pd));pd=3*Math.max(-8,Math.min(8,Math.floor(Wb(me)/3)));var Oe=Math.pow(10,-pd),Je=Ja[8+pd/3];return function(hf){return df(Oe*hf)+Je}}}}function rb(Ca,Qa){return bc=>{bc=Ca(bc);const id=bc.indexOf(Qa);if(0>id)return bc;a:{var sc=bc.lastIndexOf("e");if(!(0<sc)){for(sc=bc.length;--sc>id;){var Mc=bc.charCodeAt(sc);
if(48<=Mc&&57>=Mc){sc+=1;break a}}sc=void 0}}for(Mc=sc<bc.length?bc.slice(sc):"";--sc>id;)if("0"!==bc[sc]){++sc;break}return bc.slice(0,sc)+Mc}}function pb(Ca){const Qa=Ya(Ca.format),bc=Ca.formatPrefix;return{format:Qa,formatPrefix:bc,formatFloat(id){id=Ub(id||",");if(null==id.precision){id.precision=12;switch(id.type){case "%":id.precision-=2;break;case "e":--id.precision}return rb(Qa(id),Qa(".1f")(1)[1])}return Qa(id)},formatSpan(id,sc,Mc,Ec){Ec=Ub(null==Ec?",f":Ec);var Tc=+sc;var Xc=+id;var ld=
+Mc;Xc=(Mc=Tc<Xc)?Yb(Tc,Xc,ld):Yb(Xc,Tc,ld);Xc=(Mc?-1:1)*(0>Xc?1/-Xc:Xc);id=Math.max(Math.abs(id),Math.abs(sc));if(null==Ec.precision)switch(Ec.type){case "s":return sc=isNaN,Xc=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Wb(id)/3)))-Wb(Math.abs(Xc))),sc(sc=Xc)||(Ec.precision=sc),bc(Ec,id);case "":case "e":case "g":case "p":case "r":sc=isNaN;Xc=Math.abs(Xc);id=Math.abs(id)-Xc;id=Math.max(0,Wb(id)-Wb(Xc))+1;sc(sc=id)||(Ec.precision=sc-("e"===Ec.type));break;case "f":case "%":isNaN(sc=Math.max(0,
-Wb(Math.abs(Xc))))||(Ec.precision=sc-2*("%"===Ec.type))}return Qa(Ec)}}}function vb(){return Qb=pb({format:wb,formatPrefix:ec})}function gb(Ca){return pb(tb(Ca))}function fc(Ca){return arguments.length?Qb=gb(Ca):Qb}function sa(Ca,Qa,bc,id){function sc(Mc){return Ca(Mc=0===arguments.length?new Date:new Date(+Mc)),Mc}sc.floor=Mc=>(Ca(Mc=new Date(+Mc)),Mc);sc.ceil=Mc=>(Ca(Mc=new Date(Mc-1)),Qa(Mc,1),Ca(Mc),Mc);sc.round=Mc=>{const Ec=sc(Mc),Tc=sc.ceil(Mc);return Mc-Ec<Tc-Mc?Ec:Tc};sc.offset=(Mc,Ec)=>
(Qa(Mc=new Date(+Mc),null==Ec?1:Math.floor(Ec)),Mc);sc.range=(Mc,Ec,Tc)=>{const Xc=[];Mc=sc.ceil(Mc);Tc=null==Tc?1:Math.floor(Tc);if(!(Mc<Ec&&0<Tc))return Xc;let ld;do Xc.push(ld=new Date(+Mc)),Qa(Mc,Tc),Ca(Mc);while(ld<Mc&&Mc<Ec);return Xc};sc.filter=Mc=>sa(Ec=>{if(Ec>=Ec)for(;Ca(Ec),!Mc(Ec);)Ec.setTime(Ec-1)},(Ec,Tc)=>{if(Ec>=Ec)if(0>Tc)for(;0>=++Tc;)for(;Qa(Ec,-1),!Mc(Ec););else for(;0<=--Tc;)for(;Qa(Ec,1),!Mc(Ec););});bc&&(sc.count=(Mc,Ec)=>{qc.setTime(+Mc);Fc.setTime(+Ec);Ca(qc);Ca(Fc);return Math.floor(bc(qc,
Fc))},sc.every=Mc=>{Mc=Math.floor(Mc);return isFinite(Mc)&&0<Mc?1<Mc?sc.filter(id?Ec=>0===id(Ec)%Mc:Ec=>0===sc.count(0,Ec)%Mc):sc:null});return sc}function ha(Ca){return sa(Qa=>{Qa.setDate(Qa.getDate()-(Qa.getDay()+7-Ca)%7);Qa.setHours(0,0,0,0)},(Qa,bc)=>{Qa.setDate(Qa.getDate()+7*bc)},(Qa,bc)=>(bc-Qa-6E4*(bc.getTimezoneOffset()-Qa.getTimezoneOffset()))/6048E5)}function Ba(Ca){return sa(Qa=>{Qa.setUTCDate(Qa.getUTCDate()-(Qa.getUTCDay()+7-Ca)%7);Qa.setUTCHours(0,0,0,0)},(Qa,bc)=>{Qa.setUTCDate(Qa.getUTCDate()+
7*bc)},(Qa,bc)=>(bc-Qa)/6048E5)}function Sa(Ca){if(0<=Ca.y&&100>Ca.y){var Qa=new Date(-1,Ca.m,Ca.d,Ca.H,Ca.M,Ca.S,Ca.L);Qa.setFullYear(Ca.y);return Qa}return new Date(Ca.y,Ca.m,Ca.d,Ca.H,Ca.M,Ca.S,Ca.L)}function Va(Ca){if(0<=Ca.y&&100>Ca.y){var Qa=new Date(Date.UTC(-1,Ca.m,Ca.d,Ca.H,Ca.M,Ca.S,Ca.L));Qa.setUTCFullYear(Ca.y);return Qa}return new Date(Date.UTC(Ca.y,Ca.m,Ca.d,Ca.H,Ca.M,Ca.S,Ca.L))}function Ia(Ca,Qa,bc){return{y:Ca,m:Qa,d:bc,H:0,M:0,S:0,L:0}}function hb(Ca){function Qa(M,p){return function(Q){var Z=
[],pa=-1,xa=0,Cb=M.length,Ib,Xb;for(Q instanceof Date||(Q=new Date(+Q));++pa<Cb;)if(37===M.charCodeAt(pa)){Z.push(M.slice(xa,pa));null!=(xa=Rb[Ib=M.charAt(++pa)])?Ib=M.charAt(++pa):xa="e"===Ib?" ":"0";if(Xb=p[Ib])Ib=Xb(Q,xa);Z.push(Ib);xa=pa+1}Z.push(M.slice(xa,pa));return Z.join("")}}function bc(M,p){return function(Q){var Z=Ia(1900,void 0,1);if(id(Z,M,Q+="",0)!=Q.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(1E3*Z.s+("L"in Z?Z.L:0));!p||"Z"in Z||(Z.Z=0);"p"in Z&&
(Z.H=Z.H%12+12*Z.p);void 0===Z.m&&(Z.m="q"in Z?Z.q:0);if("V"in Z){if(1>Z.V||53<Z.V)return null;"w"in Z||(Z.w=1);if("Z"in Z){Q=Va(Ia(Z.y,0,1));var pa=Q.getUTCDay();Q=4<pa||0===pa?uf.ceil(Q):uf(Q);Q=bd.offset(Q,7*(Z.V-1));Z.y=Q.getUTCFullYear();Z.m=Q.getUTCMonth();Z.d=Q.getUTCDate()+(Z.w+6)%7}else Q=Sa(Ia(Z.y,0,1)),pa=Q.getDay(),Q=4<pa||0===pa?Gd.ceil(Q):Gd(Q),Q=zc.offset(Q,7*(Z.V-1)),Z.y=Q.getFullYear(),Z.m=Q.getMonth(),Z.d=Q.getDate()+(Z.w+6)%7}else if("W"in Z||"U"in Z)"w"in Z||(Z.w="u"in Z?Z.u%7:
"W"in Z?1:0),pa="Z"in Z?Va(Ia(Z.y,0,1)).getUTCDay():Sa(Ia(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+7*Z.W-(pa+5)%7:Z.w+7*Z.U-(pa+6)%7;return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,Va(Z)):Sa(Z)}}function id(M,p,Q,Z){for(var pa=0,xa=p.length,Cb=Q.length,Ib;pa<xa;){if(Z>=Cb)return-1;Ib=p.charCodeAt(pa++);if(37===Ib){if(Ib=p.charAt(pa++),Ib=y[Ib in Rb?p.charAt(pa++):Ib],!Ib||0>(Z=Ib(M,Q,Z)))return-1}else if(Ib!=Q.charCodeAt(Z++))return-1}return Z}var sc=Ca.dateTime,Mc=Ca.date,Ec=Ca.time,Tc=Ca.periods,
Xc=Ca.days,ld=Ca.shortDays,pd=Ca.months,me=Ca.shortMonths,df=Nb(Tc),Oe=$a(Tc),Je=Nb(Xc),hf=$a(Xc),pf=Nb(ld),Le=$a(ld),$e=Nb(pd),Ze=$a(pd),ne=Nb(me),fe=$a(me),le={a:function(M){return ld[M.getDay()]},A:function(M){return Xc[M.getDay()]},b:function(M){return me[M.getMonth()]},B:function(M){return pd[M.getMonth()]},c:null,d:O,e:O,f:Xa,g:xc,G:ra,H:ja,I:va,j:Ma,L:Pa,m:sb,M:ib,p:function(M){return Tc[+(12<=M.getHours())]},q:function(M){return 1+~~(M.getMonth()/3)},Q:Hb,s:Cc,S:Sb,u:Y,U:Fa,V:pc,w:ac,W:Mb,
x:null,X:null,y:Ob,Y:hd,Z:Bb,"%":Eb},oe={a:function(M){return ld[M.getUTCDay()]},A:function(M){return Xc[M.getUTCDay()]},b:function(M){return me[M.getUTCMonth()]},B:function(M){return pd[M.getUTCMonth()]},c:null,d:Ua,e:Ua,f:ic,g:Da,G:kb,H:xb,I:Fb,j:Lb,L:Zb,m:Ac,M:nd,p:function(M){return Tc[+(12<=M.getUTCHours())]},q:function(M){return 1+~~(M.getUTCMonth()/3)},Q:Hb,s:Cc,S:Uc,u:ma,U:Ha,V:S,w:r,W:da,x:null,X:null,y:za,Y:Oa,Z:Vb,"%":Eb},y={a:function(M,p,Q){return(p=pf.exec(p.slice(Q)))?(M.w=Le.get(p[0].toLowerCase()),
Q+p[0].length):-1},A:function(M,p,Q){return(p=Je.exec(p.slice(Q)))?(M.w=hf.get(p[0].toLowerCase()),Q+p[0].length):-1},b:function(M,p,Q){return(p=ne.exec(p.slice(Q)))?(M.m=fe.get(p[0].toLowerCase()),Q+p[0].length):-1},B:function(M,p,Q){return(p=$e.exec(p.slice(Q)))?(M.m=Ze.get(p[0].toLowerCase()),Q+p[0].length):-1},c:function(M,p,Q){return id(M,sc,p,Q)},d:x,e:x,f:z,g:qa,G:la,H:A,I:A,j:U,L:v,m:K,M:X,p:function(M,p,Q){return(p=df.exec(p.slice(Q)))?(M.p=Oe.get(p[0].toLowerCase()),Q+p[0].length):-1},q:D,
Q:W,s:ta,S:G,u:N,U:na,V:oa,w:V,W:Na,x:function(M,p,Q){return id(M,Mc,p,Q)},X:function(M,p,Q){return id(M,Ec,p,Q)},y:qa,Y:la,Z:l,"%":F};le.x=Qa(Mc,le);le.X=Qa(Ec,le);le.c=Qa(sc,le);oe.x=Qa(Mc,oe);oe.X=Qa(Ec,oe);oe.c=Qa(sc,oe);return{format:function(M){var p=Qa(M+="",le);p.toString=function(){return M};return p},parse:function(M){var p=bc(M+="",!1);p.toString=function(){return M};return p},utcFormat:function(M){var p=Qa(M+="",oe);p.toString=function(){return M};return p},utcParse:function(M){var p=
bc(M+="",!0);p.toString=function(){return M};return p}}}function Za(Ca,Qa,bc){var id=0>Ca?"-":"";Ca=(id?-Ca:Ca)+"";var sc=Ca.length;return id+(sc<bc?Array(bc-sc+1).join(Qa)+Ca:Ca)}function qb(Ca){return Ca.replace(cd,"\\$\x26")}function Nb(Ca){return new RegExp("^(?:"+Ca.map(qb).join("|")+")","i")}function $a(Ca){return new Map(Ca.map((Qa,bc)=>[Qa.toLowerCase(),bc]))}function V(Ca,Qa,bc){return(Qa=Sc.exec(Qa.slice(bc,bc+1)))?(Ca.w=+Qa[0],bc+Qa[0].length):-1}function N(Ca,Qa,bc){return(Qa=Sc.exec(Qa.slice(bc,
bc+1)))?(Ca.u=+Qa[0],bc+Qa[0].length):-1}function na(Ca,Qa,bc){return(Qa=Sc.exec(Qa.slice(bc,bc+2)))?(Ca.U=+Qa[0],bc+Qa[0].length):-1}function oa(Ca,Qa,bc){return(Qa=Sc.exec(Qa.slice(bc,bc+2)))?(Ca.V=+Qa[0],bc+Qa[0].length):-1}function Na(Ca,Qa,bc){return(Qa=Sc.exec(Qa.slice(bc,bc+2)))?(Ca.W=+Qa[0],bc+Qa[0].length):-1}function la(Ca,Qa,bc){return(Qa=Sc.exec(Qa.slice(bc,bc+4)))?(Ca.y=+Qa[0],bc+Qa[0].length):-1}function qa(Ca,Qa,bc){return(Qa=Sc.exec(Qa.slice(bc,bc+2)))?(Ca.y=+Qa[0]+(68<+Qa[0]?1900:
2E3),bc+Qa[0].length):-1}function l(Ca,Qa,bc){return(Qa=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Qa.slice(bc,bc+6)))?(Ca.Z=Qa[1]?0:-(Qa[2]+(Qa[3]||"00")),bc+Qa[0].length):-1}function D(Ca,Qa,bc){return(Qa=Sc.exec(Qa.slice(bc,bc+1)))?(Ca.q=3*Qa[0]-3,bc+Qa[0].length):-1}function K(Ca,Qa,bc){return(Qa=Sc.exec(Qa.slice(bc,bc+2)))?(Ca.m=Qa[0]-1,bc+Qa[0].length):-1}function x(Ca,Qa,bc){return(Qa=Sc.exec(Qa.slice(bc,bc+2)))?(Ca.d=+Qa[0],bc+Qa[0].length):-1}function U(Ca,Qa,bc){return(Qa=Sc.exec(Qa.slice(bc,bc+
3)))?(Ca.m=0,Ca.d=+Qa[0],bc+Qa[0].length):-1}function A(Ca,Qa,bc){return(Qa=Sc.exec(Qa.slice(bc,bc+2)))?(Ca.H=+Qa[0],bc+Qa[0].length):-1}function X(Ca,Qa,bc){return(Qa=Sc.exec(Qa.slice(bc,bc+2)))?(Ca.M=+Qa[0],bc+Qa[0].length):-1}function G(Ca,Qa,bc){return(Qa=Sc.exec(Qa.slice(bc,bc+2)))?(Ca.S=+Qa[0],bc+Qa[0].length):-1}function v(Ca,Qa,bc){return(Qa=Sc.exec(Qa.slice(bc,bc+3)))?(Ca.L=+Qa[0],bc+Qa[0].length):-1}function z(Ca,Qa,bc){return(Qa=Sc.exec(Qa.slice(bc,bc+6)))?(Ca.L=Math.floor(Qa[0]/1E3),bc+
Qa[0].length):-1}function F(Ca,Qa,bc){return(Ca=fd.exec(Qa.slice(bc,bc+1)))?bc+Ca[0].length:-1}function W(Ca,Qa,bc){return(Qa=Sc.exec(Qa.slice(bc)))?(Ca.Q=+Qa[0],bc+Qa[0].length):-1}function ta(Ca,Qa,bc){return(Qa=Sc.exec(Qa.slice(bc)))?(Ca.s=+Qa[0],bc+Qa[0].length):-1}function O(Ca,Qa){return Za(Ca.getDate(),Qa,2)}function ja(Ca,Qa){return Za(Ca.getHours(),Qa,2)}function va(Ca,Qa){return Za(Ca.getHours()%12||12,Qa,2)}function Ma(Ca,Qa){return Za(1+zc.count(Gb(Ca),Ca),Qa,3)}function Pa(Ca,Qa){return Za(Ca.getMilliseconds(),
Qa,3)}function Xa(Ca,Qa){return Pa(Ca,Qa)+"000"}function sb(Ca,Qa){return Za(Ca.getMonth()+1,Qa,2)}function ib(Ca,Qa){return Za(Ca.getMinutes(),Qa,2)}function Sb(Ca,Qa){return Za(Ca.getSeconds(),Qa,2)}function Y(Ca){Ca=Ca.getDay();return 0===Ca?7:Ca}function Fa(Ca,Qa){return Za(qd.count(Gb(Ca)-1,Ca),Qa,2)}function Kb(Ca){var Qa=Ca.getDay();return 4<=Qa||0===Qa?he(Ca):he.ceil(Ca)}function pc(Ca,Qa){Ca=Kb(Ca);return Za(he.count(Gb(Ca),Ca)+(4===Gb(Ca).getDay()),Qa,2)}function ac(Ca){return Ca.getDay()}
function Mb(Ca,Qa){return Za(Gd.count(Gb(Ca)-1,Ca),Qa,2)}function Ob(Ca,Qa){return Za(Ca.getFullYear()%100,Qa,2)}function xc(Ca,Qa){Ca=Kb(Ca);return Za(Ca.getFullYear()%100,Qa,2)}function hd(Ca,Qa){return Za(Ca.getFullYear()%1E4,Qa,4)}function ra(Ca,Qa){var bc=Ca.getDay();Ca=4<=bc||0===bc?he(Ca):he.ceil(Ca);return Za(Ca.getFullYear()%1E4,Qa,4)}function Bb(Ca){Ca=Ca.getTimezoneOffset();return(0<Ca?"-":(Ca*=-1,"+"))+Za(Ca/60|0,"0",2)+Za(Ca%60,"0",2)}function Ua(Ca,Qa){return Za(Ca.getUTCDate(),Qa,2)}
function xb(Ca,Qa){return Za(Ca.getUTCHours(),Qa,2)}function Fb(Ca,Qa){return Za(Ca.getUTCHours()%12||12,Qa,2)}function Lb(Ca,Qa){return Za(1+bd.count(rc(Ca),Ca),Qa,3)}function Zb(Ca,Qa){return Za(Ca.getUTCMilliseconds(),Qa,3)}function ic(Ca,Qa){return Zb(Ca,Qa)+"000"}function Ac(Ca,Qa){return Za(Ca.getUTCMonth()+1,Qa,2)}function nd(Ca,Qa){return Za(Ca.getUTCMinutes(),Qa,2)}function Uc(Ca,Qa){return Za(Ca.getUTCSeconds(),Qa,2)}function ma(Ca){Ca=Ca.getUTCDay();return 0===Ca?7:Ca}function Ha(Ca,Qa){return Za(Fe.count(rc(Ca)-
1,Ca),Qa,2)}function fb(Ca){var Qa=Ca.getUTCDay();return 4<=Qa||0===Qa?ca(Ca):ca.ceil(Ca)}function S(Ca,Qa){Ca=fb(Ca);return Za(ca.count(rc(Ca),Ca)+(4===rc(Ca).getUTCDay()),Qa,2)}function r(Ca){return Ca.getUTCDay()}function da(Ca,Qa){return Za(uf.count(rc(Ca)-1,Ca),Qa,2)}function za(Ca,Qa){return Za(Ca.getUTCFullYear()%100,Qa,2)}function Da(Ca,Qa){Ca=fb(Ca);return Za(Ca.getUTCFullYear()%100,Qa,2)}function Oa(Ca,Qa){return Za(Ca.getUTCFullYear()%1E4,Qa,4)}function kb(Ca,Qa){var bc=Ca.getUTCDay();
Ca=4<=bc||0===bc?ca(Ca):ca.ceil(Ca);return Za(Ca.getUTCFullYear()%1E4,Qa,4)}function Vb(){return"+0000"}function Eb(){return"%"}function Hb(Ca){return+Ca}function Cc(Ca){return Math.floor(+Ca/1E3)}function Hc(Ca,Qa,bc){bc=bc||{};ia.isObject(bc)||ia.error(`Invalid time multi-format specifier: ${bc}`);const id=Qa(h.SECONDS),sc=Qa(h.MINUTES),Mc=Qa(h.HOURS),Ec=Qa(h.DATE),Tc=Qa(h.WEEK),Xc=Qa(h.MONTH),ld=Qa(h.QUARTER),pd=Qa(h.YEAR),me=Ca(bc[h.MILLISECONDS]||".%L"),df=Ca(bc[h.SECONDS]||":%S"),Oe=Ca(bc[h.MINUTES]||
"%I:%M"),Je=Ca(bc[h.HOURS]||"%I %p"),hf=Ca(bc[h.DATE]||bc[h.DAY]||"%a %d"),pf=Ca(bc[h.WEEK]||"%b %d"),Le=Ca(bc[h.MONTH]||"%B"),$e=Ca(bc[h.QUARTER]||"%B"),Ze=Ca(bc[h.YEAR]||"%Y");return ne=>(id(ne)<ne?me:sc(ne)<ne?df:Mc(ne)<ne?Oe:Ec(ne)<ne?Je:Xc(ne)<ne?Tc(ne)<ne?hf:pf:pd(ne)<ne?ld(ne)<ne?Le:$e:Ze)(ne)}function Nc(Ca){const Qa=Ya(Ca.format),bc=Ya(Ca.utcFormat);return{timeFormat:id=>ia.isString(id)?Qa(id):Hc(Qa,h.timeInterval,id),utcFormat:id=>ia.isString(id)?bc(id):Hc(bc,h.utcInterval,id),timeParse:Ya(Ca.parse),
utcParse:Ya(Ca.utcParse)}}function xd(){return Wd=Nc({format:Nd,parse:Md,utcFormat:Ld,utcParse:Ad})}function sd(Ca){return Nc(hb(Ca))}function ed(Ca){return arguments.length?Wd=sd(Ca):Wd}function Jd(Ca,Qa){var bc=arguments.length;bc&&2!==bc&&ia.error("defaultLocale expects either zero or two arguments.");if(bc){bc=fc(Ca);var id=ed(Qa);bc=ia.extend({},bc,id)}else bc=fc(),id=ed(),bc=ia.extend({},bc,id);return bc}const Hd=Math.sqrt(50),vd=Math.sqrt(10),we=Math.sqrt(2);var Ed=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;
Ub.prototype=jc.prototype;jc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var w,I={"%":(Ca,Qa)=>(100*Ca).toFixed(Qa),b:Ca=>Math.round(Ca).toString(2),c:Ca=>Ca+"",d:function(Ca){return 1E21<=Math.abs(Ca=Math.round(Ca))?Ca.toLocaleString("en").replace(/,/g,""):Ca.toString(10)},e:(Ca,Qa)=>
Ca.toExponential(Qa),f:(Ca,Qa)=>Ca.toFixed(Qa),g:(Ca,Qa)=>Ca.toPrecision(Qa),o:Ca=>Math.round(Ca).toString(8),p:(Ca,Qa)=>Ea(100*Ca,Qa),r:Ea,s:function(Ca,Qa){var bc=dc(Ca,Qa);if(!bc)return Ca+"";var id=bc[0];bc=bc[1];bc=bc-(w=3*Math.max(-8,Math.min(8,Math.floor(bc/3))))+1;var sc=id.length;return bc===sc?id:bc>sc?id+Array(bc-sc+1).join("0"):0<bc?id.slice(0,bc)+"."+id.slice(bc):"0."+Array(1-bc).join("0")+dc(Ca,Math.max(0,Qa+bc-1))[0]},X:Ca=>Math.round(Ca).toString(16).toUpperCase(),x:Ca=>Math.round(Ca).toString(16)},
wa=Array.prototype.map,Ja="y z a f p n  m  k M G T P E Z Y".split(" "),jb,wb,ec;(function(Ca){jb=tb(Ca);wb=jb.format;ec=jb.formatPrefix;return jb})({thousands:",",grouping:[3],currency:["$",""]});let Qb;vb();const qc=new Date,Fc=new Date,zc=sa(Ca=>Ca.setHours(0,0,0,0),(Ca,Qa)=>Ca.setDate(Ca.getDate()+Qa),(Ca,Qa)=>(Qa-Ca-6E4*(Qa.getTimezoneOffset()-Ca.getTimezoneOffset()))/864E5,Ca=>Ca.getDate()-1);zc.range;const bd=sa(Ca=>{Ca.setUTCHours(0,0,0,0)},(Ca,Qa)=>{Ca.setUTCDate(Ca.getUTCDate()+Qa)},(Ca,
Qa)=>(Qa-Ca)/864E5,Ca=>Ca.getUTCDate()-1);bd.range;const md=sa(Ca=>{Ca.setUTCHours(0,0,0,0)},(Ca,Qa)=>{Ca.setUTCDate(Ca.getUTCDate()+Qa)},(Ca,Qa)=>(Qa-Ca)/864E5,Ca=>Math.floor(Ca/864E5));md.range;const qd=ha(0),Gd=ha(1),kd=ha(2),Od=ha(3),he=ha(4),Ne=ha(5),Ie=ha(6);qd.range;Gd.range;kd.range;Od.range;he.range;Ne.range;Ie.range;const Fe=Ba(0),uf=Ba(1),gf=Ba(2),E=Ba(3),ca=Ba(4),Ga=Ba(5),eb=Ba(6);Fe.range;uf.range;gf.range;E.range;ca.range;Ga.range;eb.range;const Gb=sa(Ca=>{Ca.setMonth(0,1);Ca.setHours(0,
0,0,0)},(Ca,Qa)=>{Ca.setFullYear(Ca.getFullYear()+Qa)},(Ca,Qa)=>Qa.getFullYear()-Ca.getFullYear(),Ca=>Ca.getFullYear());Gb.every=Ca=>isFinite(Ca=Math.floor(Ca))&&0<Ca?sa(Qa=>{Qa.setFullYear(Math.floor(Qa.getFullYear()/Ca)*Ca);Qa.setMonth(0,1);Qa.setHours(0,0,0,0)},(Qa,bc)=>{Qa.setFullYear(Qa.getFullYear()+bc*Ca)}):null;Gb.range;const rc=sa(Ca=>{Ca.setUTCMonth(0,1);Ca.setUTCHours(0,0,0,0)},(Ca,Qa)=>{Ca.setUTCFullYear(Ca.getUTCFullYear()+Qa)},(Ca,Qa)=>Qa.getUTCFullYear()-Ca.getUTCFullYear(),Ca=>Ca.getUTCFullYear());
rc.every=Ca=>isFinite(Ca=Math.floor(Ca))&&0<Ca?sa(Qa=>{Qa.setUTCFullYear(Math.floor(Qa.getUTCFullYear()/Ca)*Ca);Qa.setUTCMonth(0,1);Qa.setUTCHours(0,0,0,0)},(Qa,bc)=>{Qa.setUTCFullYear(Qa.getUTCFullYear()+bc*Ca)}):null;rc.range;var Rb={"-":"",_:" ",0:"0"},Sc=/^\s*\d+/,fd=/^%/,cd=/[\\^$*+?|[\]().{}]/g,Oc,Nd,Md,Ld,Ad;(function(Ca){Oc=hb(Ca);Nd=Oc.format;Md=Oc.parse;Ld=Oc.utcFormat;Ad=Oc.utcParse;return Oc})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});let Wd;xd();t.defaultLocale=Jd;t.locale=function(Ca,Qa){Ca=Ca?gb(Ca):fc();Qa=Qa?sd(Qa):ed();return ia.extend({},Ca,Qa)};t.numberFormatDefaultLocale=fc;t.numberFormatLocale=gb;t.resetDefaultLocale=function(){vb();xd();return Jd()};t.resetNumberFormatDefaultLocale=vb;t.resetTimeFormatDefaultLocale=
xd;t.timeFormatDefaultLocale=ed;t.timeFormatLocale=sd})};
shadow$provide[25]=function(Db,nb,Dc,Wa){function t(ub){var Yb=ub.length;if(0<Yb%4)throw Error("Invalid string. Length must be a multiple of 4");ub=ub.indexOf("\x3d");-1===ub&&(ub=Yb);return[ub,ub===Yb?0:4-ub%4]}Wa.byteLength=function(ub){ub=t(ub);var Yb=ub[1];return 3*(ub[0]+Yb)/4-Yb};Wa.toByteArray=function(ub){var Yb=t(ub);var dc=Yb[0];Yb=Yb[1];var Wb=new Ya(3*(dc+Yb)/4-Yb),nc=0,Ab=0<Yb?dc-4:dc,Ub;for(Ub=0;Ub<Ab;Ub+=4)dc=ia[ub.charCodeAt(Ub)]<<18|ia[ub.charCodeAt(Ub+1)]<<12|ia[ub.charCodeAt(Ub+
2)]<<6|ia[ub.charCodeAt(Ub+3)],Wb[nc++]=dc>>16&255,Wb[nc++]=dc>>8&255,Wb[nc++]=dc&255;2===Yb&&(dc=ia[ub.charCodeAt(Ub)]<<2|ia[ub.charCodeAt(Ub+1)]>>4,Wb[nc++]=dc&255);1===Yb&&(dc=ia[ub.charCodeAt(Ub)]<<10|ia[ub.charCodeAt(Ub+1)]<<4|ia[ub.charCodeAt(Ub+2)]>>2,Wb[nc++]=dc>>8&255,Wb[nc++]=dc&255);return Wb};Wa.fromByteArray=function(ub){for(var Yb=ub.length,dc=Yb%3,Wb=[],nc=0,Ab=Yb-dc;nc<Ab;nc+=16383){for(var Ub=Wb,jc=Ub.push,Ea,bb=ub,tb=nc+16383>Ab?Ab:nc+16383,rb=[],pb=nc;pb<tb;pb+=3)Ea=(bb[pb]<<16&
16711680)+(bb[pb+1]<<8&65280)+(bb[pb+2]&255),rb.push(h[Ea>>18&63]+h[Ea>>12&63]+h[Ea>>6&63]+h[Ea&63]);Ea=rb.join("");jc.call(Ub,Ea)}1===dc?(ub=ub[Yb-1],Wb.push(h[ub>>2]+h[ub<<4&63]+"\x3d\x3d")):2===dc&&(ub=(ub[Yb-2]<<8)+ub[Yb-1],Wb.push(h[ub>>10]+h[ub>>4&63]+h[ub<<2&63]+"\x3d"));return Wb.join("")};var h=[],ia=[],Ya="undefined"!==typeof Uint8Array?Uint8Array:Array;for(Db=0;64>Db;++Db)h[Db]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Db],ia["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(Db)]=
Db;ia[45]=62;ia[95]=63};
shadow$provide[26]=function(Db,nb,Dc,Wa){Wa.read=function(t,h,ia,Ya,ub){var Yb=8*ub-Ya-1;var dc=(1<<Yb)-1,Wb=dc>>1,nc=-7;ub=ia?ub-1:0;var Ab=ia?-1:1,Ub=t[h+ub];ub+=Ab;ia=Ub&(1<<-nc)-1;Ub>>=-nc;for(nc+=Yb;0<nc;ia=256*ia+t[h+ub],ub+=Ab,nc-=8);Yb=ia&(1<<-nc)-1;ia>>=-nc;for(nc+=Ya;0<nc;Yb=256*Yb+t[h+ub],ub+=Ab,nc-=8);if(0===ia)ia=1-Wb;else{if(ia===dc)return Yb?NaN:Infinity*(Ub?-1:1);Yb+=Math.pow(2,Ya);ia-=Wb}return(Ub?-1:1)*Yb*Math.pow(2,ia-Ya)};Wa.write=function(t,h,ia,Ya,ub,Yb){var dc,Wb=8*Yb-ub-1,
nc=(1<<Wb)-1,Ab=nc>>1,Ub=23===ub?Math.pow(2,-24)-Math.pow(2,-77):0;Yb=Ya?0:Yb-1;var jc=Ya?1:-1,Ea=0>h||0===h&&0>1/h?1:0;h=Math.abs(h);isNaN(h)||Infinity===h?(h=isNaN(h)?1:0,Ya=nc):(Ya=Math.floor(Math.log(h)/Math.LN2),1>h*(dc=Math.pow(2,-Ya))&&(Ya--,dc*=2),h=1<=Ya+Ab?h+Ub/dc:h+Ub*Math.pow(2,1-Ab),2<=h*dc&&(Ya++,dc/=2),Ya+Ab>=nc?(h=0,Ya=nc):1<=Ya+Ab?(h=(h*dc-1)*Math.pow(2,ub),Ya+=Ab):(h=h*Math.pow(2,Ab-1)*Math.pow(2,ub),Ya=0));for(;8<=ub;t[ia+Yb]=h&255,Yb+=jc,h/=256,ub-=8);Ya=Ya<<ub|h;for(Wb+=ub;0<
Wb;t[ia+Yb]=Ya&255,Yb+=jc,Ya/=256,Wb-=8);t[ia+Yb-jc]|=128*Ea}};
shadow$provide[27]=function(Db,nb,Dc,Wa){function t(l){if(2147483647<l)throw new RangeError('The value "'+l+'" is invalid for option "size"');l=new Uint8Array(l);Object.setPrototypeOf(l,h.prototype);return l}function h(l,D,K){if("number"===typeof l){if("string"===typeof D)throw new TypeError('The "string" argument must be of type string. Received type number');return ub(l)}return ia(l,D,K)}function ia(l,D,K){if("string"===typeof l){var x=D;if("string"!==typeof x||""===x)x="utf8";if(!h.isEncoding(x))throw new TypeError("Unknown encoding: "+
x);D=Ab(l,x)|0;K=t(D);l=K.write(l,x);l!==D&&(K=K.slice(0,l));return K}if(ArrayBuffer.isView(l))return $a(l,Uint8Array)?(l=new Uint8Array(l),l=dc(l.buffer,l.byteOffset,l.byteLength)):l=Yb(l),l;if(null==l)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l);if($a(l,ArrayBuffer)||l&&$a(l.buffer,ArrayBuffer)||"undefined"!==typeof SharedArrayBuffer&&($a(l,SharedArrayBuffer)||l&&$a(l.buffer,SharedArrayBuffer)))return dc(l,
D,K);if("number"===typeof l)throw new TypeError('The "value" argument must not be of type number. Received type number');x=l.valueOf&&l.valueOf();if(null!=x&&x!==l)return h.from(x,D,K);if(x=Wb(l))return x;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof l[Symbol.toPrimitive])return h.from(l[Symbol.toPrimitive]("string"),D,K);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l);}
function Ya(l){if("number"!==typeof l)throw new TypeError('"size" argument must be of type number');if(0>l)throw new RangeError('The value "'+l+'" is invalid for option "size"');}function ub(l){Ya(l);return t(0>l?0:nc(l)|0)}function Yb(l){const D=0>l.length?0:nc(l.length)|0,K=t(D);for(let x=0;x<D;x+=1)K[x]=l[x]&255;return K}function dc(l,D,K){if(0>D||l.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(l.byteLength<D+(K||0))throw new RangeError('"length" is outside of buffer bounds');
l=void 0===D&&void 0===K?new Uint8Array(l):void 0===K?new Uint8Array(l,D):new Uint8Array(l,D,K);Object.setPrototypeOf(l,h.prototype);return l}function Wb(l){if(h.isBuffer(l)){var D=nc(l.length)|0;const K=t(D);if(0===K.length)return K;l.copy(K,0,0,D);return K}if(void 0!==l.length)return(D="number"!==typeof l.length)||(D=l.length,D=D!==D),D?t(0):Yb(l);if("Buffer"===l.type&&Array.isArray(l.data))return Yb(l.data)}function nc(l){if(2147483647<=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+
(2147483647).toString(16)+" bytes");return l|0}function Ab(l,D){if(h.isBuffer(l))return l.length;if(ArrayBuffer.isView(l)||$a(l,ArrayBuffer))return l.byteLength;if("string"!==typeof l)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof l);const K=l.length,x=2<arguments.length&&!0===arguments[2];if(!x&&0===K)return 0;let U=!1;for(;;)switch(D){case "ascii":case "latin1":case "binary":return K;case "utf8":case "utf-8":return Za(l).length;
case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*K;case "hex":return K>>>1;case "base64":return qb(l).length;default:if(U)return x?-1:Za(l).length;D=(""+D).toLowerCase();U=!0}}function Ub(l,D,K){let x=!1;if(void 0===D||0>D)D=0;if(D>this.length)return"";if(void 0===K||K>this.length)K=this.length;if(0>=K)return"";K>>>=0;D>>>=0;if(K<=D)return"";for(l||(l="utf8");;)switch(l){case "hex":l=D;D=this.length;if(!l||0>l)l=0;if(!K||0>K||K>D)K=D;for(D="";l<K;++l)D+=qa[this[l]];return D;case "utf8":case "utf-8":return tb(this,
D,K);case "ascii":l=D;D="";for(K=Math.min(this.length,K);l<K;++l)D+=String.fromCharCode(this[l]&127);return D;case "latin1":case "binary":l=D;D="";for(K=Math.min(this.length,K);l<K;++l)D+=String.fromCharCode(this[l]);return D;case "base64":return l=D,K=0===l&&K===this.length?na.fromByteArray(this):na.fromByteArray(this.slice(l,K)),K;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":K=this.slice(D,K);l="";for(D=0;D<K.length-1;D+=2)l+=String.fromCharCode(K[D]+256*K[D+1]);return l;default:if(x)throw new TypeError("Unknown encoding: "+
l);l=(l+"").toLowerCase();x=!0}}function jc(l,D,K){const x=l[D];l[D]=l[K];l[K]=x}function Ea(l,D,K,x,U){if(0===l.length)return-1;"string"===typeof K?(x=K,K=0):2147483647<K?K=2147483647:-2147483648>K&&(K=-2147483648);K=+K;K!==K&&(K=U?0:l.length-1);0>K&&(K=l.length+K);if(K>=l.length){if(U)return-1;K=l.length-1}else if(0>K)if(U)K=0;else return-1;"string"===typeof D&&(D=h.from(D,x));if(h.isBuffer(D))return 0===D.length?-1:bb(l,D,K,x,U);if("number"===typeof D)return D&=255,"function"===typeof Uint8Array.prototype.indexOf?
U?Uint8Array.prototype.indexOf.call(l,D,K):Uint8Array.prototype.lastIndexOf.call(l,D,K):bb(l,[D],K,x,U);throw new TypeError("val must be string, number or Buffer");}function bb(l,D,K,x,U){function A(z,F){return 1===X?z[F]:z.readUInt16BE(F*X)}let X=1;var G=l.length;let v=D.length;if(void 0!==x&&(x=String(x).toLowerCase(),"ucs2"===x||"ucs-2"===x||"utf16le"===x||"utf-16le"===x)){if(2>l.length||2>D.length)return-1;X=2;G/=2;v/=2;K/=2}if(U)for(x=-1;K<G;K++)if(A(l,K)===A(D,-1===x?0:K-x)){if(-1===x&&(x=K),
K-x+1===v)return x*X}else-1!==x&&(K-=K-x),x=-1;else for(K+v>G&&(K=G-v);0<=K;K--){G=!0;for(x=0;x<v;x++)if(A(l,K+x)!==A(D,x)){G=!1;break}if(G)return K}return-1}function tb(l,D,K){K=Math.min(l.length,K);for(var x=[];D<K;){var U=l[D];let A=null,X=239<U?4:223<U?3:191<U?2:1;if(D+X<=K){let G,v,z;switch(X){case 1:128>U&&(A=U);break;case 2:G=l[D+1];128===(G&192)&&(U=(U&31)<<6|G&63,127<U&&(A=U));break;case 3:G=l[D+1];v=l[D+2];128===(G&192)&&128===(v&192)&&(U=(U&15)<<12|(G&63)<<6|v&63,2047<U&&(55296>U||57343<
U)&&(A=U));break;case 4:G=l[D+1],v=l[D+2],z=l[D+3],128===(G&192)&&128===(v&192)&&128===(z&192)&&(U=(U&15)<<18|(G&63)<<12|(v&63)<<6|z&63,65535<U&&1114112>U&&(A=U))}}null===A?(A=65533,X=1):65535<A&&(A-=65536,x.push(A>>>10&1023|55296),A=56320|A&1023);x.push(A);D+=X}D=x.length;if(4096>=D)x=String.fromCharCode.apply(String,x);else{l="";for(K=0;K<D;)l+=String.fromCharCode.apply(String,x.slice(K,K+=4096));x=l}return x}function rb(l,D,K){if(0!==l%1||0>l)throw new RangeError("offset is not uint");if(l+D>K)throw new RangeError("Trying to access beyond buffer length");
}function pb(l,D,K,x,U,A){if(!h.isBuffer(l))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>U||D<A)throw new RangeError('"value" argument is out of bounds');if(K+x>l.length)throw new RangeError("Index out of range");}function vb(l,D,K,x,U){Va(D,x,U,l,K,7);x=Number(D&BigInt(4294967295));l[K++]=x;x>>=8;l[K++]=x;x>>=8;l[K++]=x;l[K++]=x>>8;D=Number(D>>BigInt(32)&BigInt(4294967295));l[K++]=D;D>>=8;l[K++]=D;D>>=8;l[K++]=D;l[K++]=D>>8;return K}function gb(l,D,K,x,U){Va(D,x,U,l,K,
7);x=Number(D&BigInt(4294967295));l[K+7]=x;x>>=8;l[K+6]=x;x>>=8;l[K+5]=x;l[K+4]=x>>8;D=Number(D>>BigInt(32)&BigInt(4294967295));l[K+3]=D;D>>=8;l[K+2]=D;D>>=8;l[K+1]=D;l[K]=D>>8;return K+8}function fc(l,D,K,x,U,A){if(K+x>l.length)throw new RangeError("Index out of range");if(0>K)throw new RangeError("Index out of range");}function sa(l,D,K,x,U){D=+D;K>>>=0;U||fc(l,D,K,4,3.4028234663852886E38,-3.4028234663852886E38);oa.write(l,D,K,x,23,4);return K+4}function ha(l,D,K,x,U){D=+D;K>>>=0;U||fc(l,D,K,8,
1.7976931348623157E308,-1.7976931348623157E308);oa.write(l,D,K,x,52,8);return K+8}function Ba(l,D,K){Na[l]=class extends K{constructor(){super();Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0});this.name=`${this.name} [${l}]`;this.stack;delete this.name}get code(){return l}set code(x){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:x,writable:!0})}toString(){return`${this.name} [${l}]: ${this.message}`}}}function Sa(l){let D=
"",K=l.length;const x="-"===l[0]?1:0;for(;K>=x+4;K-=3)D=`_${l.slice(K-3,K)}${D}`;return`${l.slice(0,K)}${D}`}function Va(l,D,K,x,U,A){if(l>K||l<D)throw x="bigint"===typeof D?"n":"",new Na.ERR_OUT_OF_RANGE("value",3<A?0===D||D===BigInt(0)?`>= 0${x} and < 2${x} ** ${8*(A+1)}${x}`:`>= -(2${x} ** ${8*(A+1)-1}${x}) and < 2 ** `+`${8*(A+1)-1}${x}`:`>= ${D}${x} and <= ${K}${x}`,l);Ia(U,"offset");void 0!==x[U]&&void 0!==x[U+A]||hb(U,x.length-(A+1))}function Ia(l,D){if("number"!==typeof l)throw new Na.ERR_INVALID_ARG_TYPE(D,
"number",l);}function hb(l,D,K){if(Math.floor(l)!==l)throw Ia(l,K),new Na.ERR_OUT_OF_RANGE(K||"offset","an integer",l);if(0>D)throw new Na.ERR_BUFFER_OUT_OF_BOUNDS;throw new Na.ERR_OUT_OF_RANGE(K||"offset",`>= ${K?1:0} and <= ${D}`,l);}function Za(l,D){D=D||Infinity;let K;const x=l.length;let U=null;const A=[];for(let X=0;X<x;++X){K=l.charCodeAt(X);if(55295<K&&57344>K){if(!U){if(56319<K){-1<(D-=3)&&A.push(239,191,189);continue}else if(X+1===x){-1<(D-=3)&&A.push(239,191,189);continue}U=K;continue}if(56320>
K){-1<(D-=3)&&A.push(239,191,189);U=K;continue}K=(U-55296<<10|K-56320)+65536}else U&&-1<(D-=3)&&A.push(239,191,189);U=null;if(128>K){if(0>--D)break;A.push(K)}else if(2048>K){if(0>(D-=2))break;A.push(K>>6|192,K&63|128)}else if(65536>K){if(0>(D-=3))break;A.push(K>>12|224,K>>6&63|128,K&63|128)}else if(1114112>K){if(0>(D-=4))break;A.push(K>>18|240,K>>12&63|128,K>>6&63|128,K&63|128)}else throw Error("Invalid code point");}return A}function qb(l){var D=na,K=D.toByteArray;l=l.split("\x3d")[0];l=l.trim().replace(la,
"");if(2>l.length)l="";else for(;0!==l.length%4;)l+="\x3d";return K.call(D,l)}function Nb(l,D,K,x){let U;for(U=0;U<x&&!(U+K>=D.length||U>=l.length);++U)D[U+K]=l[U];return U}function $a(l,D){return l instanceof D||null!=l&&null!=l.constructor&&null!=l.constructor.name&&l.constructor.name===D.name}function V(l){return"undefined"===typeof BigInt?N:l}function N(){throw Error("BigInt not supported");}const na=nb(25),oa=nb(26);Db="function"===typeof Symbol&&"function"===typeof Symbol["for"]?Symbol["for"]("nodejs.util.inspect.custom"):
null;Wa.Buffer=h;Wa.SlowBuffer=function(l){+l!=l&&(l=0);return h.alloc(+l)};Wa.INSPECT_MAX_BYTES=50;Wa.kMaxLength=2147483647;h.TYPED_ARRAY_SUPPORT=function(){try{const l=new Uint8Array(1),D={foo:function(){return 42}};Object.setPrototypeOf(D,Uint8Array.prototype);Object.setPrototypeOf(l,D);return 42===l.foo()}catch(l){return!1}}();h.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");
Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}});Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});h.poolSize=8192;h.from=function(l,D,K){return ia(l,D,K)};Object.setPrototypeOf(h.prototype,Uint8Array.prototype);Object.setPrototypeOf(h,Uint8Array);h.alloc=function(l,D,K){Ya(l);l=0>=l?t(l):void 0!==D?"string"===typeof K?t(l).fill(D,K):t(l).fill(D):t(l);return l};h.allocUnsafe=
function(l){return ub(l)};h.allocUnsafeSlow=function(l){return ub(l)};h.isBuffer=function(l){return null!=l&&!0===l._isBuffer&&l!==h.prototype};h.compare=function(l,D){$a(l,Uint8Array)&&(l=h.from(l,l.offset,l.byteLength));$a(D,Uint8Array)&&(D=h.from(D,D.offset,D.byteLength));if(!h.isBuffer(l)||!h.isBuffer(D))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===D)return 0;let K=l.length,x=D.length;for(let U=0,A=Math.min(K,x);U<A;++U)if(l[U]!==D[U]){K=
l[U];x=D[U];break}return K<x?-1:x<K?1:0};h.isEncoding=function(l){switch(String(l).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};h.concat=function(l,D){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(0===l.length)return h.alloc(0);let K;if(void 0===D)for(K=D=0;K<l.length;++K)D+=l[K].length;D=h.allocUnsafe(D);let x=
0;for(K=0;K<l.length;++K){let U=l[K];if($a(U,Uint8Array))x+U.length>D.length?(h.isBuffer(U)||(U=h.from(U)),U.copy(D,x)):Uint8Array.prototype.set.call(D,U,x);else if(h.isBuffer(U))U.copy(D,x);else throw new TypeError('"list" argument must be an Array of Buffers');x+=U.length}return D};h.byteLength=Ab;h.prototype._isBuffer=!0;h.prototype.swap16=function(){const l=this.length;if(0!==l%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let D=0;D<l;D+=2)jc(this,D,D+1);return this};
h.prototype.swap32=function(){const l=this.length;if(0!==l%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let D=0;D<l;D+=4)jc(this,D,D+3),jc(this,D+1,D+2);return this};h.prototype.swap64=function(){const l=this.length;if(0!==l%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let D=0;D<l;D+=8)jc(this,D,D+7),jc(this,D+1,D+6),jc(this,D+2,D+5),jc(this,D+3,D+4);return this};h.prototype.toString=function(){const l=this.length;return 0===l?"":0===arguments.length?
tb(this,0,l):Ub.apply(this,arguments)};h.prototype.toLocaleString=h.prototype.toString;h.prototype.equals=function(l){if(!h.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:0===h.compare(this,l)};h.prototype.inspect=function(){let l;const D=Wa.INSPECT_MAX_BYTES;l=this.toString("hex",0,D).replace(/(.{2})/g,"$1 ").trim();this.length>D&&(l+=" ... ");return"\x3cBuffer "+l+"\x3e"};Db&&(h.prototype[Db]=h.prototype.inspect);h.prototype.compare=function(l,D,K,x,U){$a(l,Uint8Array)&&
(l=h.from(l,l.offset,l.byteLength));if(!h.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);void 0===D&&(D=0);void 0===K&&(K=l?l.length:0);void 0===x&&(x=0);void 0===U&&(U=this.length);if(0>D||K>l.length||0>x||U>this.length)throw new RangeError("out of range index");if(x>=U&&D>=K)return 0;if(x>=U)return-1;if(D>=K)return 1;D>>>=0;K>>>=0;x>>>=0;U>>>=0;if(this===l)return 0;let A=U-x,X=K-D;const G=Math.min(A,X);x=this.slice(x,U);
l=l.slice(D,K);for(D=0;D<G;++D)if(x[D]!==l[D]){A=x[D];X=l[D];break}return A<X?-1:X<A?1:0};h.prototype.includes=function(l,D,K){return-1!==this.indexOf(l,D,K)};h.prototype.indexOf=function(l,D,K){return Ea(this,l,D,K,!0)};h.prototype.lastIndexOf=function(l,D,K){return Ea(this,l,D,K,!1)};h.prototype.write=function(l,D,K,x){if(void 0===D)x="utf8",K=this.length,D=0;else if(void 0===K&&"string"===typeof D)x=D,K=this.length,D=0;else if(isFinite(D))D>>>=0,isFinite(K)?(K>>>=0,void 0===x&&(x="utf8")):(x=K,
K=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var U=this.length-D;if(void 0===K||K>U)K=U;if(0<l.length&&(0>K||0>D)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");x||(x="utf8");for(U=!1;;)switch(x){case "hex":a:{D=Number(D)||0;x=this.length-D;K?(K=Number(K),K>x&&(K=x)):K=x;x=l.length;K>x/2&&(K=x/2);for(x=0;x<K;++x){U=parseInt(l.substr(2*x,2),16);if(U!==U){l=x;break a}this[D+x]=U}l=x}return l;case "utf8":case "utf-8":return Nb(Za(l,
this.length-D),this,D,K);case "ascii":case "latin1":case "binary":x=[];for(U=0;U<l.length;++U)x.push(l.charCodeAt(U)&255);return Nb(x,this,D,K);case "base64":return Nb(qb(l),this,D,K);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":var A=void 0;x=this.length-D;const X=[];for(let G=0;G<l.length&&!(0>(x-=2));++G)A=l.charCodeAt(G),U=A>>8,A%=256,X.push(A),X.push(U);return Nb(X,this,D,K);default:if(U)throw new TypeError("Unknown encoding: "+x);x=(""+x).toLowerCase();U=!0}};h.prototype.toJSON=function(){return{type:"Buffer",
data:Array.prototype.slice.call(this._arr||this,0)}};h.prototype.slice=function(l,D){const K=this.length;l=~~l;D=void 0===D?K:~~D;0>l?(l+=K,0>l&&(l=0)):l>K&&(l=K);0>D?(D+=K,0>D&&(D=0)):D>K&&(D=K);D<l&&(D=l);l=this.subarray(l,D);Object.setPrototypeOf(l,h.prototype);return l};h.prototype.readUintLE=h.prototype.readUIntLE=function(l,D,K){l>>>=0;D>>>=0;K||rb(l,D,this.length);K=this[l];let x=1,U=0;for(;++U<D&&(x*=256);)K+=this[l+U]*x;return K};h.prototype.readUintBE=h.prototype.readUIntBE=function(l,D,
K){l>>>=0;D>>>=0;K||rb(l,D,this.length);K=this[l+--D];let x=1;for(;0<D&&(x*=256);)K+=this[l+--D]*x;return K};h.prototype.readUint8=h.prototype.readUInt8=function(l,D){l>>>=0;D||rb(l,1,this.length);return this[l]};h.prototype.readUint16LE=h.prototype.readUInt16LE=function(l,D){l>>>=0;D||rb(l,2,this.length);return this[l]|this[l+1]<<8};h.prototype.readUint16BE=h.prototype.readUInt16BE=function(l,D){l>>>=0;D||rb(l,2,this.length);return this[l]<<8|this[l+1]};h.prototype.readUint32LE=h.prototype.readUInt32LE=
function(l,D){l>>>=0;D||rb(l,4,this.length);return(this[l]|this[l+1]<<8|this[l+2]<<16)+16777216*this[l+3]};h.prototype.readUint32BE=h.prototype.readUInt32BE=function(l,D){l>>>=0;D||rb(l,4,this.length);return 16777216*this[l]+(this[l+1]<<16|this[l+2]<<8|this[l+3])};h.prototype.readBigUInt64LE=V(function(l){l>>>=0;Ia(l,"offset");var D=this[l];const K=this[l+7];void 0!==D&&void 0!==K||hb(l,this.length-8);D=D+this[++l]*Math.pow(2,8)+this[++l]*Math.pow(2,16)+this[++l]*Math.pow(2,24);l=this[++l]+this[++l]*
Math.pow(2,8)+this[++l]*Math.pow(2,16)+K*Math.pow(2,24);return BigInt(D)+(BigInt(l)<<BigInt(32))});h.prototype.readBigUInt64BE=V(function(l){l>>>=0;Ia(l,"offset");var D=this[l];const K=this[l+7];void 0!==D&&void 0!==K||hb(l,this.length-8);D=D*Math.pow(2,24)+this[++l]*Math.pow(2,16)+this[++l]*Math.pow(2,8)+this[++l];l=this[++l]*Math.pow(2,24)+this[++l]*Math.pow(2,16)+this[++l]*Math.pow(2,8)+K;return(BigInt(D)<<BigInt(32))+BigInt(l)});h.prototype.readIntLE=function(l,D,K){l>>>=0;D>>>=0;K||rb(l,D,this.length);
K=this[l];let x=1,U=0;for(;++U<D&&(x*=256);)K+=this[l+U]*x;K>=128*x&&(K-=Math.pow(2,8*D));return K};h.prototype.readIntBE=function(l,D,K){l>>>=0;D>>>=0;K||rb(l,D,this.length);K=D;let x=1,U=this[l+--K];for(;0<K&&(x*=256);)U+=this[l+--K]*x;U>=128*x&&(U-=Math.pow(2,8*D));return U};h.prototype.readInt8=function(l,D){l>>>=0;D||rb(l,1,this.length);return this[l]&128?-1*(255-this[l]+1):this[l]};h.prototype.readInt16LE=function(l,D){l>>>=0;D||rb(l,2,this.length);l=this[l]|this[l+1]<<8;return l&32768?l|4294901760:
l};h.prototype.readInt16BE=function(l,D){l>>>=0;D||rb(l,2,this.length);l=this[l+1]|this[l]<<8;return l&32768?l|4294901760:l};h.prototype.readInt32LE=function(l,D){l>>>=0;D||rb(l,4,this.length);return this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24};h.prototype.readInt32BE=function(l,D){l>>>=0;D||rb(l,4,this.length);return this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]};h.prototype.readBigInt64LE=V(function(l){l>>>=0;Ia(l,"offset");const D=this[l],K=this[l+7];void 0!==D&&void 0!==K||hb(l,this.length-
8);return(BigInt(this[l+4]+this[l+5]*Math.pow(2,8)+this[l+6]*Math.pow(2,16)+(K<<24))<<BigInt(32))+BigInt(D+this[++l]*Math.pow(2,8)+this[++l]*Math.pow(2,16)+this[++l]*Math.pow(2,24))});h.prototype.readBigInt64BE=V(function(l){l>>>=0;Ia(l,"offset");var D=this[l];const K=this[l+7];void 0!==D&&void 0!==K||hb(l,this.length-8);D=(D<<24)+this[++l]*Math.pow(2,16)+this[++l]*Math.pow(2,8)+this[++l];return(BigInt(D)<<BigInt(32))+BigInt(this[++l]*Math.pow(2,24)+this[++l]*Math.pow(2,16)+this[++l]*Math.pow(2,8)+
K)});h.prototype.readFloatLE=function(l,D){l>>>=0;D||rb(l,4,this.length);return oa.read(this,l,!0,23,4)};h.prototype.readFloatBE=function(l,D){l>>>=0;D||rb(l,4,this.length);return oa.read(this,l,!1,23,4)};h.prototype.readDoubleLE=function(l,D){l>>>=0;D||rb(l,8,this.length);return oa.read(this,l,!0,52,8)};h.prototype.readDoubleBE=function(l,D){l>>>=0;D||rb(l,8,this.length);return oa.read(this,l,!1,52,8)};h.prototype.writeUintLE=h.prototype.writeUIntLE=function(l,D,K,x){l=+l;D>>>=0;K>>>=0;x||pb(this,
l,D,K,Math.pow(2,8*K)-1,0);x=1;let U=0;for(this[D]=l&255;++U<K&&(x*=256);)this[D+U]=l/x&255;return D+K};h.prototype.writeUintBE=h.prototype.writeUIntBE=function(l,D,K,x){l=+l;D>>>=0;K>>>=0;x||pb(this,l,D,K,Math.pow(2,8*K)-1,0);x=K-1;let U=1;for(this[D+x]=l&255;0<=--x&&(U*=256);)this[D+x]=l/U&255;return D+K};h.prototype.writeUint8=h.prototype.writeUInt8=function(l,D,K){l=+l;D>>>=0;K||pb(this,l,D,1,255,0);this[D]=l&255;return D+1};h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(l,D,K){l=
+l;D>>>=0;K||pb(this,l,D,2,65535,0);this[D]=l&255;this[D+1]=l>>>8;return D+2};h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(l,D,K){l=+l;D>>>=0;K||pb(this,l,D,2,65535,0);this[D]=l>>>8;this[D+1]=l&255;return D+2};h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(l,D,K){l=+l;D>>>=0;K||pb(this,l,D,4,4294967295,0);this[D+3]=l>>>24;this[D+2]=l>>>16;this[D+1]=l>>>8;this[D]=l&255;return D+4};h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(l,D,K){l=+l;D>>>=0;K||pb(this,
l,D,4,4294967295,0);this[D]=l>>>24;this[D+1]=l>>>16;this[D+2]=l>>>8;this[D+3]=l&255;return D+4};h.prototype.writeBigUInt64LE=V(function(l,D=0){return vb(this,l,D,BigInt(0),BigInt("0xffffffffffffffff"))});h.prototype.writeBigUInt64BE=V(function(l,D=0){return gb(this,l,D,BigInt(0),BigInt("0xffffffffffffffff"))});h.prototype.writeIntLE=function(l,D,K,x){l=+l;D>>>=0;x||(x=Math.pow(2,8*K-1),pb(this,l,D,K,x-1,-x));x=0;let U=1,A=0;for(this[D]=l&255;++x<K&&(U*=256);)0>l&&0===A&&0!==this[D+x-1]&&(A=1),this[D+
x]=(l/U>>0)-A&255;return D+K};h.prototype.writeIntBE=function(l,D,K,x){l=+l;D>>>=0;x||(x=Math.pow(2,8*K-1),pb(this,l,D,K,x-1,-x));x=K-1;let U=1,A=0;for(this[D+x]=l&255;0<=--x&&(U*=256);)0>l&&0===A&&0!==this[D+x+1]&&(A=1),this[D+x]=(l/U>>0)-A&255;return D+K};h.prototype.writeInt8=function(l,D,K){l=+l;D>>>=0;K||pb(this,l,D,1,127,-128);0>l&&(l=255+l+1);this[D]=l&255;return D+1};h.prototype.writeInt16LE=function(l,D,K){l=+l;D>>>=0;K||pb(this,l,D,2,32767,-32768);this[D]=l&255;this[D+1]=l>>>8;return D+
2};h.prototype.writeInt16BE=function(l,D,K){l=+l;D>>>=0;K||pb(this,l,D,2,32767,-32768);this[D]=l>>>8;this[D+1]=l&255;return D+2};h.prototype.writeInt32LE=function(l,D,K){l=+l;D>>>=0;K||pb(this,l,D,4,2147483647,-2147483648);this[D]=l&255;this[D+1]=l>>>8;this[D+2]=l>>>16;this[D+3]=l>>>24;return D+4};h.prototype.writeInt32BE=function(l,D,K){l=+l;D>>>=0;K||pb(this,l,D,4,2147483647,-2147483648);0>l&&(l=4294967295+l+1);this[D]=l>>>24;this[D+1]=l>>>16;this[D+2]=l>>>8;this[D+3]=l&255;return D+4};h.prototype.writeBigInt64LE=
V(function(l,D=0){return vb(this,l,D,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});h.prototype.writeBigInt64BE=V(function(l,D=0){return gb(this,l,D,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});h.prototype.writeFloatLE=function(l,D,K){return sa(this,l,D,!0,K)};h.prototype.writeFloatBE=function(l,D,K){return sa(this,l,D,!1,K)};h.prototype.writeDoubleLE=function(l,D,K){return ha(this,l,D,!0,K)};h.prototype.writeDoubleBE=function(l,D,K){return ha(this,l,D,!1,K)};h.prototype.copy=
function(l,D,K,x){if(!h.isBuffer(l))throw new TypeError("argument should be a Buffer");K||(K=0);x||0===x||(x=this.length);D>=l.length&&(D=l.length);D||(D=0);0<x&&x<K&&(x=K);if(x===K||0===l.length||0===this.length)return 0;if(0>D)throw new RangeError("targetStart out of bounds");if(0>K||K>=this.length)throw new RangeError("Index out of range");if(0>x)throw new RangeError("sourceEnd out of bounds");x>this.length&&(x=this.length);l.length-D<x-K&&(x=l.length-D+K);const U=x-K;this===l&&"function"===typeof Uint8Array.prototype.copyWithin?
this.copyWithin(D,K,x):Uint8Array.prototype.set.call(l,this.subarray(K,x),D);return U};h.prototype.fill=function(l,D,K,x){if("string"===typeof l){"string"===typeof D?(x=D,D=0,K=this.length):"string"===typeof K&&(x=K,K=this.length);if(void 0!==x&&"string"!==typeof x)throw new TypeError("encoding must be a string");if("string"===typeof x&&!h.isEncoding(x))throw new TypeError("Unknown encoding: "+x);if(1===l.length){var U=l.charCodeAt(0);if("utf8"===x&&128>U||"latin1"===x)l=U}}else"number"===typeof l?
l&=255:"boolean"===typeof l&&(l=Number(l));if(0>D||this.length<D||this.length<K)throw new RangeError("Out of range index");if(K<=D)return this;D>>>=0;K=void 0===K?this.length:K>>>0;l||(l=0);if("number"===typeof l)for(x=D;x<K;++x)this[x]=l;else{U=h.isBuffer(l)?l:h.from(l,x);const A=U.length;if(0===A)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(x=0;x<K-D;++x)this[x+D]=U[x%A]}return this};const Na={};Ba("ERR_BUFFER_OUT_OF_BOUNDS",function(l){return l?`${l} is outside of buffer bounds`:
"Attempt to access memory outside buffer bounds"},RangeError);Ba("ERR_INVALID_ARG_TYPE",function(l,D){return`The "${l}" argument must be of type number. Received type ${typeof D}`},TypeError);Ba("ERR_OUT_OF_RANGE",function(l,D,K){l=`The value of "${l}" is out of range.`;let x=K;if(Number.isInteger(K)&&Math.abs(K)>Math.pow(2,32))x=Sa(String(K));else if("bigint"===typeof K){x=String(K);if(K>Math.pow(BigInt(2),BigInt(32))||K<-Math.pow(BigInt(2),BigInt(32)))x=Sa(x);x+="n"}return l+` It must be ${D}. Received ${x}`},
RangeError);const la=/[^+/0-9A-Za-z-_]/g,qa=function(){const l=Array(256);for(let D=0;16>D;++D){const K=16*D;for(let x=0;16>x;++x)l[K+x]="0123456789abcdef"[D]+"0123456789abcdef"[x]}return l}()};
shadow$provide[28]=function(Db,nb,Dc,Wa){var t=nb(27).Buffer;(function(h,ia){"object"===typeof Wa&&"undefined"!==typeof Dc?ia(Wa,nb(21),nb(22),nb(24)):"function"===typeof define&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],ia):(h="undefined"!==typeof globalThis?globalThis:h||self,ia(h.vega={},h.vega,h.topojson,h.vega))})(this,function(h,ia,Ya,ub){function Yb(la,qa){const l=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const D=yield l.sanitize(la,
qa),K=D.href;return D.localFile?l.file(K):l.http(K,qa)})}function dc(la,qa){const l=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){qa=ia.extend({},l.options,qa);const D=l.fileAccess,K={href:null};var x;let U;var A=Ia.test(la.replace(hb,""));null!=la&&"string"===typeof la&&A||ia.error("Sanitize failure, invalid URI: "+ia.stringValue(la));A=Va.test(la);(x=qa.baseURL)&&!A&&(la.startsWith("/")||x.endsWith("/")||(la="/"+la),la=x+la);U=(x=la.startsWith("file://"))||"file"===qa.mode||
"http"!==qa.mode&&!A&&D;x?la=la.slice(7):la.startsWith("//")&&("file"===qa.defaultProtocol?(la=la.slice(2),U=!0):la=(qa.defaultProtocol||"http")+":"+la);Object.defineProperty(K,"localFile",{value:!!U});K.href=la;qa.target&&(K.target=qa.target+"");qa.rel&&(K.rel=qa.rel+"");"image"===qa.context&&qa.crossOrigin&&(K.crossOrigin=qa.crossOrigin+"");return K})}function Wb(la){return la?qa=>new Promise((l,D)=>{la.readFile(qa,(K,x)=>{K?D(K):l(x)})}):nc}function nc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ia.error("No file system access.")})}
function Ab(la){return la?function(qa,l){const D=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var K=ia.extend({},D.options.http,l);const x=l&&l.response;K=yield la(qa,K);return K.ok?ia.isFunction(K[x])?K[x]():K.text():ia.error(K.status+""+K.statusText)})}:Ub}function Ub(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ia.error("No HTTP fetch method available.")})}function jc(la,qa){if(!la||!la.length)return"unknown";const l=la.length,D=Nb.length,K=Nb.map((x,
U)=>U+1);for(let x=0,U=0,A,X;x<l;++x)for(X=qa?la[x][qa]:la[x],A=0;A<D;++A)if(K[A]&&null!=X&&X===X&&!Nb[A](X)&&(K[A]=0,++U,U===Nb.length))return"string";return $a[K.reduce((x,U)=>0===x?U:x,0)-1]}function Ea(la,qa){return qa.reduce((l,D)=>{l[D]=jc(la,D);return l},{})}function bb(la){return new Function("d","return {"+la.map(function(qa,l){return JSON.stringify(qa)+": d["+l+'] || ""'}).join(",")+"}")}function tb(la,qa){var l=bb(la);return function(D,K){return qa(l(D),K,la)}}function rb(la){var qa=Object.create(null),
l=[];la.forEach(function(D){for(var K in D)K in qa||l.push(qa[K]=K)});return l}function pb(la,qa){la+="";var l=la.length;return l<qa?Array(qa-l+1).join(0)+la:la}function vb(la){function qa(A,X){function G(){if(O)return N;if(ja)return ja=!1,V;var Ma,Pa=F,Xa;if(34===A.charCodeAt(Pa)){for(;F++<z&&34!==A.charCodeAt(F)||34===A.charCodeAt(++F););(Ma=F)>=z?O=!0:10===(Xa=A.charCodeAt(F++))?ja=!0:13===Xa&&(ja=!0,10===A.charCodeAt(F)&&++F);return A.slice(Pa+1,Ma-1).replace(/""/g,'"')}for(;F<z;){if(10===(Xa=
A.charCodeAt(Ma=F++)))ja=!0;else if(13===Xa)ja=!0,10===A.charCodeAt(F)&&++F;else if(Xa!==U)continue;return A.slice(Pa,Ma)}return O=!0,A.slice(Pa,z)}var v=[],z=A.length,F=0,W=0,ta,O=0>=z,ja=!1;10===A.charCodeAt(z-1)&&--z;for(13===A.charCodeAt(z-1)&&--z;(ta=G())!==N;){for(var va=[];ta!==V&&ta!==N;)va.push(ta),ta=G();X&&null==(va=X(va,W++))||v.push(va)}return v}function l(A,X){return A.map(function(G){return X.map(function(v){return K(G[v])}).join(la)})}function D(A){return A.map(K).join(la)}function K(A){if(null==
A)A="";else{if(A instanceof Date){var X=A.getUTCHours();var G=A.getUTCMinutes(),v=A.getUTCSeconds(),z=A.getUTCMilliseconds();if(isNaN(A))A="Invalid Date";else{var F=A.getUTCFullYear();A=(0>F?"-"+pb(-F,6):9999<F?"+"+pb(F,6):pb(F,4))+"-"+pb(A.getUTCMonth()+1,2)+"-"+pb(A.getUTCDate(),2)+(z?"T"+pb(X,2)+":"+pb(G,2)+":"+pb(v,2)+"."+pb(z,3)+"Z":v?"T"+pb(X,2)+":"+pb(G,2)+":"+pb(v,2)+"Z":G||X?"T"+pb(X,2)+":"+pb(G,2)+"Z":"")}X=A}else X=x.test(A+="")?'"'+A.replace(/"/g,'""')+'"':A;A=X}return A}var x=new RegExp('["'+
la+"\n\r]"),U=la.charCodeAt(0);return{parse:function(A,X){var G,v;A=qa(A,function(z,F){if(G)return G(z,F-1);v=z;G=X?tb(z,X):bb(z)});A.columns=v||[];return A},parseRows:qa,format:function(A,X){null==X&&(X=rb(A));return[X.map(K).join(la)].concat(l(A,X)).join("\n")},formatBody:function(A,X){null==X&&(X=rb(A));return l(A,X).join("\n")},formatRows:function(A){return A.map(D).join("\n")},formatRow:D,formatValue:K}}function gb(la){const qa=function(l,D){const K={delimiter:la};return fc(l,D?ia.extend(D,K):
K)};qa.responseType="text";return qa}function fc(la,qa){qa.header&&(la=qa.header.map(ia.stringValue).join(qa.delimiter)+"\n"+la);return vb(qa.delimiter).parse(la+"")}function sa(la,qa){const l=qa&&qa.property?ia.field(qa.property):ia.identity;var D;if(D=ia.isObject(la))D=!("function"===typeof t&&ia.isFunction(t.isBuffer)&&t.isBuffer(la));D?(la=l(la),!ia.isArray(la)&&ia.isIterable(la)&&(la=[...la]),qa=qa&&qa.copy?JSON.parse(JSON.stringify(la)):la):qa=l(JSON.parse(la));return qa}function ha(la,qa){let l,
D,K,x;la=sa(la,qa);qa&&qa.feature?(l=Ya.feature,K=qa.feature):qa&&qa.mesh?(l=Ya.mesh,K=qa.mesh,x=na[qa.filter]):ia.error("Missing TopoJSON feature or mesh parameter.");return(D=(D=la.objects[K])?l(la,D,x):ia.error("Invalid TopoJSON object: "+K))&&D.features||[D]}function Ba(la,qa){return 1<arguments.length?(oa[la]=qa,this):ia.hasOwnProperty(oa,la)?oa[la]:null}function Sa(la,qa,l,D){if(la.length){var K=ub.timeFormatDefaultLocale();l=l||K.timeParse;D=D||K.utcParse;K=la.columns||Object.keys(la[0]);var x,
U;"auto"===qa&&(qa=Ea(la,K));K=Object.keys(qa);var A=K.map(F=>{var W=qa[F];if(W&&(W.startsWith("date:")||W.startsWith("utc:"))){F=W.split(/:(.+)?/,2);W=F[1];if("'"===W[0]&&"'"===W[W.length-1]||'"'===W[0]&&'"'===W[W.length-1])W=W.slice(1,-1);return("utc"===F[0]?D:l)(W)}if(!qb[W])throw Error("Illegal format pattern: "+F+":"+W);return qb[W]});var X=0;var G=la.length;for(U=K.length;X<G;++X){var v=la[X];for(x=0;x<U;++x){var z=K[x];v[z]=A[x](v[z])}}}}const Va=/^(data:|([A-Za-z]+:)?\/\/)/,Ia=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
hb=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Za=la=>!Number.isNaN(+la)&&!(la instanceof Date),qb={boolean:ia.toBoolean,integer:ia.toNumber,number:ia.toNumber,date:ia.toDate,string:ia.toString,unknown:ia.identity},Nb=[la=>"true"===la||"false"===la||!0===la||!1===la,la=>Za(la)&&Number.isInteger(+la),Za,la=>!Number.isNaN(Date.parse(la))],$a=["boolean","integer","number","date"];var V={},N={};fc.responseType="text";sa.responseType="json";const na={interior:(la,qa)=>la!==qa,exterior:(la,
qa)=>la===qa};ha.responseType="json";const oa={dsv:fc,csv:gb(","),tsv:gb("\t"),json:sa,topojson:ha},Na=function(la,qa){return l=>({options:l||{},sanitize:dc,load:Yb,fileAccess:!!qa,file:Wb(qa),http:Ab(la)})}("undefined"!==typeof fetch&&fetch,null);h.format=oa;h.formats=Ba;h.inferType=jc;h.inferTypes=Ea;h.loader=Na;h.read=function(la,qa,l,D){qa=qa||{};const K=Ba(qa.type||"json");K||ia.error("Unknown data format type: "+qa.type);la=K(la,qa);qa.parse&&Sa(la,qa.parse,l,D);ia.hasOwnProperty(la,"columns")&&
delete la.columns;return la};h.responseType=function(la){return(la=Ba(la))&&la.responseType||"text"};h.typeParsers=qb})};
shadow$provide[29]=function(Db,nb,Dc,Wa){(function(t,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,nb(21),nb(28),nb(24)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega,t.vega,t.vega))})(this,function(t,h,ia,Ya){function ub(x){const U=x||h.identity,A=[],X={};A.add=G=>{const v=U(G);X[v]||(X[v]=1,A.push(G));return A};A.remove=G=>{const v=U(G);X[v]&&(X[v]=0,G=A.indexOf(G),
0<=G&&A.splice(G,1));return A};return A}function Yb(x,U){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield U(x)}catch(A){x.error(A)}})}function dc(x){x=x===Object(x)?x:{data:x};if(!x[N]){var U=na++;x[N]=U}return x}function Wb(x,U){for(const A in x)U[A]=x[A];return U}function nc(x){return x&&x.constructor===Ab}function Ab(){const x=[],U=[],A=[],X=[],G=[];let v=null,z=!1;return{constructor:Ab,insert(F){F=h.array(F);const W=F.length;for(let ta=0;ta<W;++ta)x.push(F[ta]);return this},
remove(F){const W=h.isFunction(F)?X:U;F=h.array(F);const ta=F.length;for(let O=0;O<ta;++O)W.push(F[O]);return this},modify(F,W,ta){W={field:W,value:h.constant(ta)};h.isFunction(F)?(W.filter=F,G.push(W)):(W.tuple=F,A.push(W));return this},encode(F,W){h.isFunction(F)?G.push({filter:F,field:W}):A.push({tuple:F,field:W});return this},clean(F){v=F;return this},reflow(){z=!0;return this},pulse(F,W){function ta(Sb,Y,Fa){Fa?Sb[Y]=Fa(Sb):F.encode=Y;z||(ja[Sb[N]]=Sb)}const O={},ja={};let va,Ma,Pa,Xa,sb,ib;
va=0;for(Ma=W.length;va<Ma;++va)O[W[va][N]]=1;va=0;for(Ma=U.length;va<Ma;++va)sb=U[va],O[sb[N]]=-1;va=0;for(Ma=X.length;va<Ma;++va)Xa=X[va],W.forEach(Sb=>{Xa(Sb)&&(O[Sb[N]]=-1)});va=0;for(Ma=x.length;va<Ma;++va)sb=x[va],ib=sb[N],O[ib]?O[ib]=1:F.add.push(dc(x[va]));va=0;for(Ma=W.length;va<Ma;++va)sb=W[va],0>O[sb[N]]&&F.rem.push(sb);va=0;for(Ma=A.length;va<Ma;++va)Pa=A[va],sb=Pa.tuple,Xa=Pa.field,ib=O[sb[N]],0<ib&&(ta(sb,Xa,Pa.value),F.modifies(Xa));va=0;for(Ma=G.length;va<Ma;++va)Pa=G[va],Xa=Pa.filter,
W.forEach(Sb=>{Xa(Sb)&&0<O[Sb[N]]&&ta(Sb,Pa.field,Pa.value)}),F.modifies(Pa.field);if(z)F.mod=U.length||X.length?W.filter(Sb=>0<O[Sb[N]]):W.slice();else for(ib in ja)F.mod.push(ja[ib]);(v||null==v&&(U.length||X.length))&&F.clean(!0);return F}}}function Ub(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function jc(x,U,A,X){this.id=++oa;this.value=x;this.qrank=this.rank=this.stamp=-1;this.flags=0;U&&(this._update=U);A&&this.parameters(A,X)}function Ea(x){return function(U){const A=this.flags;
if(0===arguments.length)return!!(A&x);this.flags=U?A|x:A&~x;return this}}function bb(x,U,A){this.id=++la;this.value=null;A&&(this.receive=A);x&&(this._filter=x);U&&(this._apply=U)}function tb(x,U,A){return new bb(x,U,A)}function rb(x){let U;const A=new Promise(X=>U=X);A.requests=0;A.done=()=>{0===--A.requests&&(x._pending=null,U(x))};return x._pending=A}function pb(x,U,A,X,G,v){const z=h.extend({},v,qa);let F;h.isFunction(A)||(A=h.constant(A));void 0===X?G=W=>x.touch(A(W)):h.isFunction(X)?(F=new jc(null,
X,G,!1),G=W=>{F.evaluate(W);W=A(W);const ta=F.value;nc(ta)?x.pulse(W,ta,v):x.update(W,ta,z)}):G=W=>x.update(A(W),X,z);U.apply(G)}function vb(x,U,A,X,G,v){void 0===X?U.targets().add(A):(v=v||{},X=new jc(null,gb(A,X),G,!1),X.modified(v.force),X.rank=U.rank,U.targets().add(X),A&&(X.skip(!0),X.value=A.value,X.targets().add(A),x.connect(A,[X])))}function gb(x,U){U=h.isFunction(U)?U:h.constant(U);return x?function(A,X){A=U(A,X);x.skip()||(x.skip(A!==this.value).value=A);return A}:U}function fc(x,U,A){this.dataflow=
x;this.stamp=null==U?-1:U;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=A||null}function sa(x,U){const A=[];h.visitArray(x,U,X=>A.push(X));return A}function ha(x,U){const A={};x.visit(U,X=>{A[X[N]]=1});return X=>A[X[N]]?null:X}function Ba(x,U){return x?(A,X)=>x(A,X)&&U(A,X):U}function Sa(x,U,A,X){let G=0;this.dataflow=x;this.stamp=U;this.fields=null;this.encode=X||null;this.pulses=A;for(const v of A)if(v.stamp===U){if(v.fields){x=this.fields||(this.fields={});for(const z in v.fields)x[z]=
1}v.changed(this.ADD)&&(G|=this.ADD);v.changed(this.REM)&&(G|=this.REM);v.changed(this.MOD)&&(G|=this.MOD)}this.changes=G}function Va(x){x.error("Dataflow already running. Use runAsync() to chain invocations.");return x}function Ia(x,U){if(U&&U.stamp===x.stamp)return U;x=x.fork();U&&U!==l&&(x.source=U.source);return x}function hb(x){let U=[];return{clear:()=>U=[],size:()=>U.length,peek:()=>U[0],push:A=>{U.push(A);return Za(U,0,U.length-1,x)},pop:()=>{var A=U.pop();let X;if(U.length){X=U[0];U[0]=A;
A=U;var G=0;const v=G,z=A.length,F=A[G];let W=(G<<1)+1,ta;for(;W<z;)ta=W+1,ta<z&&0<=x(A[W],A[ta])&&(W=ta),A[G]=A[W],G=W,W=(G<<1)+1;A[G]=F;Za(A,v,G,x)}else X=A;return X}}}function Za(x,U,A,X){let G,v;const z=x[A];for(;A>U;)if(v=A-1>>1,G=x[v],0>X(z,G))x[A]=G,A=v;else break;return x[A]=z}function qb(){this.logger(h.logger());this.logLevel(h.Error);this._rank=this._clock=0;this._locale=Ya.defaultLocale();try{this._loader=ia.loader()}catch(x){}this._touched=ub(h.id);this._input={};this._pulse=null;this._heap=
hb((x,U)=>x.qrank-U.qrank);this._postrun=[]}function Nb(x){return function(){return this._log[x].apply(this,arguments)}}function $a(x,U){jc.call(this,x,null,U)}function V(x){x=x&&x.toLowerCase();return h.hasOwnProperty(K,x)?K[x]:null}const N=Symbol("vega_id");let na=1;Ub.prototype={set(x,U,A,X){const G=this[x],v=this["_:mod:_"];if(null!=U&&0<=U){if(G[U]!==A||X)G[U]=A,v[U+":"+x]=-1,v[x]=-1}else if(G!==A||X)this[x]=A,v[x]=h.isArray(A)?1+A.length:-1;return this},modified(x,U){const A=this["_:mod:_"];
if(!arguments.length){for(var X in A)if(A[X])return!0;return!1}if(h.isArray(x)){for(X=0;X<x.length;++X)if(A[x[X]])return!0;return!1}return null!=U&&0<=U?U+1<A[x]||!!A[U+":"+x]:!!A[x]},clear(){this["_:mod:_"]={};return this}};let oa=0;const Na=new Ub;jc.prototype={targets(){return this._targets||(this._targets=ub(h.id))},set(x){return this.value!==x?(this.value=x,1):0},skip:Ea(1),modified:Ea(2),parameters(x,U,A){U=!1!==U;const X=this._argval=this._argval||new Ub,G=this._argops=this._argops||[],v=[];
let z,F,W,ta;const O=(ja,va,Ma)=>{Ma instanceof jc?(Ma!==this&&(U&&Ma.targets().add(this),v.push(Ma)),G.push({op:Ma,name:ja,index:va})):X.set(ja,va,Ma)};for(z in x)if(F=x[z],"pulse"===z)h.array(F).forEach(ja=>{ja instanceof jc?ja!==this&&(ja.targets().add(this),v.push(ja)):h.error("Pulse parameters must be operator instances.")}),this.source=F;else if(h.isArray(F))for(X.set(z,-1,Array(W=F.length)),ta=0;ta<W;++ta)O(z,ta,F[ta]);else O(z,-1,F);this.marshall().clear();A&&(G.initonly=!0);return v},marshall(x){const U=
this._argval||Na,A=this._argops;let X,G,v,z;if(A){const F=A.length;for(G=0;G<F;++G)X=A[G],v=X.op,z=v.modified()&&v.stamp===x,U.set(X.name,X.index,v.value,z);if(A.initonly){for(G=0;G<F;++G)X=A[G],X.op.targets().remove(this);this._update=this._argops=null}}return U},detach(){const x=this._argops;let U,A;if(x)for(U=0,A=x.length;U<A;++U){var X=x[U];X=X.op;X._targets&&X._targets.remove(this)}this.source=this.pulse=null},evaluate(x){var U=this._update;if(U){const A=this.marshall(x.stamp);U=U.call(this,
A,x);A.clear();if(U!==this.value)this.value=U;else if(!this.modified())return x.StopPropagation}},run(x){if(x.stamp<this.stamp)return x.StopPropagation;let U;this.skip()?(this.skip(!1),U=0):U=this.evaluate(x);return this.pulse=U||x}};let la=0;bb.prototype={_filter:h.truthy,_apply:h.identity,targets(){return this._targets||(this._targets=ub(h.id))},consume(x){if(!arguments.length)return!!this._consume;this._consume=!!x;return this},receive(x){if(this._filter(x)){const U=this.value=this._apply(x),A=
this._targets,X=A?A.length:0;for(let G=0;G<X;++G)A[G].receive(U);this._consume&&(x.preventDefault(),x.stopPropagation())}},filter(x){x=tb(x);this.targets().add(x);return x},apply(x){x=tb(null,x);this.targets().add(x);return x},merge(){const x=tb();this.targets().add(x);for(let U=0,A=arguments.length;U<A;++U)arguments[U].targets().add(x);return x},throttle(x){let U=-1;return this.filter(()=>{const A=Date.now();return A-U>x?(U=A,1):0})},debounce(x){const U=tb();this.targets().add(tb(null,null,h.debounce(x,
A=>{const X=A.dataflow;U.receive(A);X&&X.run&&X.run()})));return U},between(x,U){let A=!1;x.targets().add(tb(null,null,()=>A=!0));U.targets().add(tb(null,null,()=>A=!1));return this.filter(()=>A)},detach(){this._filter=h.truthy;this._targets=null}};const qa={skip:!0},l={};fc.prototype={StopPropagation:l,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(x){return(new fc(this.dataflow)).init(this,x)},clone(){const x=this.fork(7);x.add=x.add.slice();x.rem=
x.rem.slice();x.mod=x.mod.slice();x.source&&(x.source=x.source.slice());return x.materialize(23)},addAll(){let x=this;x.source&&x.add!==x.rem&&(x.rem.length||x.source.length!==x.add.length)&&(x=(new fc(this.dataflow)).init(this),x.add=x.source,x.rem=[]);return x},init(x,U){this.stamp=x.stamp;this.encode=x.encode;!x.fields||U&64||(this.fields=x.fields);U&1?(this.addF=x.addF,this.add=x.add):(this.addF=null,this.add=[]);U&2?(this.remF=x.remF,this.rem=x.rem):(this.remF=null,this.rem=[]);U&4?(this.modF=
x.modF,this.mod=x.mod):(this.modF=null,this.mod=[]);U&32?this.source=this.srcF=null:(this.srcF=x.srcF,this.source=x.source,x.cleans&&(this.cleans=x.cleans));return this},runAfter(x){this.dataflow.runAfter(x)},changed(x){x=x||7;return x&1&&this.add.length||x&2&&this.rem.length||x&4&&this.mod.length},reflow(x){if(x)return this.fork(7).reflow();x=this.add.length;const U=this.source&&this.source.length;U&&U!==x&&(this.mod=this.source,x&&this.filter(4,ha(this,1)));return this},clean(x){return arguments.length?
(this.cleans=!!x,this):this.cleans},modifies(x){const U=this.fields||(this.fields={});h.isArray(x)?x.forEach(A=>U[A]=!0):U[x]=!0;return this},modified(x,U){const A=this.fields;return(U||this.mod.length)&&A?arguments.length?h.isArray(x)?x.some(X=>A[X]):A[x]:!!A:!1},filter(x,U){x&1&&(this.addF=Ba(this.addF,U));x&2&&(this.remF=Ba(this.remF,U));x&4&&(this.modF=Ba(this.modF,U));x&16&&(this.srcF=Ba(this.srcF,U));return this},materialize(x){x=x||7;x&1&&this.addF&&(this.add=sa(this.add,this.addF),this.addF=
null);x&2&&this.remF&&(this.rem=sa(this.rem,this.remF),this.remF=null);x&4&&this.modF&&(this.mod=sa(this.mod,this.modF),this.modF=null);x&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(x,U){if(x&16)return h.visitArray(this.source,this.srcF,U),this;x&1&&h.visitArray(this.add,this.addF,U);x&2&&h.visitArray(this.rem,this.remF,U);x&4&&h.visitArray(this.mod,this.modF,U);const A=this.source;x&8&&A&&(x=this.add.length+this.mod.length,x!==A.length&&(x?h.visitArray(A,
ha(this,5),U):h.visitArray(A,this.srcF,U)));return this}};h.inherits(Sa,fc,{fork(x){const U=(new fc(this.dataflow)).init(this,x&this.NO_FIELDS);void 0!==x&&(x&U.ADD&&this.visit(U.ADD,A=>U.add.push(A)),x&U.REM&&this.visit(U.REM,A=>U.rem.push(A)),x&U.MOD&&this.visit(U.MOD,A=>U.mod.push(A)));return U},changed(x){return this.changes&x},modified(x){const U=this.fields;return U&&this.changes&this.MOD?h.isArray(x)?x.some(A=>U[A]):U[x]:0},filter(){h.error("MultiPulse does not support filtering.")},materialize(){h.error("MultiPulse does not support materialization.")},
visit(x,U){const A=this.pulses,X=A.length;let G=0;if(x&this.SOURCE)for(;G<X;++G)A[G].visit(x,U);else for(;G<X;++G)A[G].stamp===this.stamp&&A[G].visit(x,U);return this}});const D={skip:!1,force:!1};qb.prototype={stamp(){return this._clock},loader(x){return arguments.length?(this._loader=x,this):this._loader},locale(x){return arguments.length?(this._locale=x,this):this._locale},logger(x){return arguments.length?(this._log=x,this):this._log},error:Nb("error"),warn:Nb("warn"),info:Nb("info"),debug:Nb("debug"),
logLevel:Nb("level"),cleanThreshold:1E4,add:function(x,U,A,X){let G=1;x instanceof jc||(x&&x.prototype instanceof jc?x=new x:h.isFunction(x)?x=new jc(null,x):(G=0,x=new jc(x,U)));this.rank(x);G&&(X=A,A=U);A&&this.connect(x,x.parameters(A,X));this.touch(x);return x},connect:function(x,U){const A=x.rank,X=U.length;for(let G=0;G<X;++G)if(A<U[G].rank){this.rerank(x);break}},rank:function(x){x.rank=++this._rank},rerank:function(x){const U=[x];let A,X,G;for(;U.length;)if(this.rank(A=U.pop()),X=A._targets)for(G=
X.length;0<=--G;)U.push(A=X[G]),A===x&&h.error("Cycle detected in dataflow graph.")},pulse:function(x,U,A){this.touch(x,A||D);A=new fc(this,this._clock+(this._pulse?0:1));const X=x.pulse&&x.pulse.source||[];A.target=x;this._input[x.id]=U.pulse(A,X);return this},touch:function(x,U){U=U||D;this._pulse?this._enqueue(x):this._touched.add(x);U.skip&&x.skip(!0);return this},update:function(x,U,A){A=A||D;(x.set(U)||A.force)&&this.touch(x,A);return this},changeset:Ab,ingest:function(x,U,A){U=this.parse(U,
A);return this.pulse(x,this.changeset().insert(U))},parse:function(x,U){const A=this.locale();return ia.read(x,U,A.timeParse,A.utcParse)},preload:function(x,U,A){const X=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const G=X._pending||rb(X);G.requests+=1;const v=yield X.request(U,A);X.pulse(x,X.changeset().remove(h.truthy).insert(v.data||[]));G.done();return v})},request:function(x,U){const A=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let X=0,G;try{G=
yield A.loader().load(x,{context:"dataflow",response:ia.responseType(U&&U.type)});try{G=A.parse(G,U)}catch(v){X=-2,A.warn("Data ingestion failed",x,v)}}catch(v){X=-1,A.warn("Loading failed",x,v)}return{data:G,status:X}})},events:function(x,U,A,X){const G=this,v=tb(A,X);A=function(z){z.dataflow=G;try{v.receive(z)}catch(F){G.error(F)}finally{G.run()}};x="string"===typeof x&&"undefined"!==typeof document?document.querySelectorAll(x):h.array(x);X=x.length;for(let z=0;z<X;++z)x[z].addEventListener(U,A);
return v},on:function(x,U,A,X,G){(x instanceof jc?vb:pb)(this,x,U,A,X,G);return this},evaluate:function(x,U,A){const X=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const G=[];if(X._pulse)return Va(X);X._pending&&(yield X._pending);U&&(yield Yb(X,U));if(!X._touched.length)return X.debug("Dataflow invoked, but nothing to do."),X;var v=++X._clock;X._pulse=new fc(X,v,x);X._touched.forEach(O=>X._enqueue(O,!0));X._touched=ub(h.id);var z=0;let F,W,ta;try{for(;0<X._heap.size();)F=
X._heap.pop(),F.rank!==F.qrank?X._enqueue(F,!0):(W=F.run(X._getPulse(F,x)),W.then?W=yield W:W.async&&(G.push(W.async),W=l),W!==l&&F._targets&&F._targets.forEach(O=>X._enqueue(O)),++z)}catch(O){X._heap.clear(),ta=O}X._input={};X._pulse=null;X.debug(`Pulse ${v}: ${z} operators`);ta&&(X._postrun=[],X.error(ta));if(X._postrun.length)for(v=X._postrun.sort((O,ja)=>ja.priority-O.priority),X._postrun=[],z=0;z<v.length;++z)yield Yb(X,v[z].callback);A&&(yield Yb(X,A));G.length&&Promise.all(G).then(O=>X.runAsync(null,
()=>{O.forEach(ja=>{try{ja(X)}catch(va){X.error(va)}})}));return X})},run:function(x,U,A){return this._pulse?Va(this):(this.evaluate(x,U,A),this)},runAsync:function(x,U,A){const X=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;X._running;)yield X._running;const G=()=>X._running=null;(X._running=X.evaluate(x,U,A)).then(G,G);return X._running})},runAfter:function(x,U,A){if(this._pulse||U)this._postrun.push({priority:A||0,callback:x});else try{x(this)}catch(X){this.error(X)}},
_enqueue:function(x,U){const A=x.stamp<this._clock;A&&(x.stamp=this._clock);if(A||U)x.qrank=x.rank,this._heap.push(x)},_getPulse:function(x,U){const A=x.source,X=this._clock;return A&&h.isArray(A)?new Sa(this,X,A.map(G=>G.pulse),U):this._input[x.id]||Ia(this._pulse,A&&A.pulse)}};h.inherits($a,jc,{run(x){if(x.stamp<this.stamp)return x.StopPropagation;let U;this.skip()?this.skip(!1):U=this.evaluate(x);U=U||x;U.then?U=U.then(A=>this.pulse=A):U!==x.StopPropagation&&(this.pulse=U);return U},evaluate(x){const U=
this.marshall(x.stamp);x=this.transform(U,x);U.clear();return x},transform(){}});const K={};t.Dataflow=qb;t.EventStream=bb;t.MultiPulse=Sa;t.Operator=jc;t.Parameters=Ub;t.Pulse=fc;t.Transform=$a;t.UniqueList=ub;t.asyncCallback=Yb;t.changeset=Ab;t.definition=function(x){return(x=V(x))&&x.Definition||null};t.derive=function(x){return Wb(x,dc({}))};t.ingest=dc;t.isChangeSet=nc;t.isTuple=function(x){return!(!x||!x[N])};t.rederive=Wb;t.replace=function(x,U){U[N]=x[N];return U};t.stableCompare=function(x,
U){return x?U?(A,X)=>x(A,X)||U(A)[N]-U(X)[N]:(A,X)=>x(A,X)||A[N]-X[N]:null};t.transform=V;t.transforms=K;t.tupleid=function(x){return x[N]}})};
shadow$provide[30]=function(Db,nb,Dc,Wa){(function(t,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa):"function"===typeof define&&define.amd?define(["exports"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={}))})(this,function(t){function*h(A,X){if(null==X)for(var G of A)null!=G&&""!==G&&(G=+G)>=G&&(yield G);else{G=-1;for(let v of A)v=X(v,++G,A),null!=v&&""!==v&&(v=+v)>=v&&(yield v)}}function ia(A,X){return null==A||null==X?NaN:A<X?-1:A>X?1:A>=X?0:NaN}function Ya(A){return null===
A?NaN:+A}function*ub(A,X){if(void 0===X)for(var G of A)null!=G&&(G=+G)>=G&&(yield G);else{G=-1;for(let v of A)null!=(v=X(v,++G,A))&&(v=+v)>=v&&(yield v)}}function Yb(A=ia){if(A===ia)return dc;if("function"!==typeof A)throw new TypeError("compare is not a function");return(X,G)=>{const v=A(X,G);return v||0===v?v:(0===A(G,G))-(0===A(X,X))}}function dc(A,X){return(null==A||!(A>=A))-(null==X||!(X>=X))||(A<X?-1:A>X?1:0)}function Wb(A,X){let G;if(void 0===X)for(var v of A)null!=v&&(G<v||void 0===G&&v>=
v)&&(G=v);else{v=-1;for(let z of A)null!=(z=X(z,++v,A))&&(G<z||void 0===G&&z>=z)&&(G=z)}return G}function nc(A,X){let G;if(void 0===X)for(var v of A)null!=v&&(G>v||void 0===G&&v>=v)&&(G=v);else{v=-1;for(let z of A)null!=(z=X(z,++v,A))&&(G>z||void 0===G&&z>=z)&&(G=z)}return G}function Ab(A,X,G=0,v=Infinity,z){X=Math.floor(X);G=Math.floor(Math.max(0,G));v=Math.floor(Math.min(A.length-1,v));if(!(G<=X&&X<=v))return A;for(z=void 0===z?dc:Yb(z);v>G;){if(600<v-G){var F=v-G+1,W=X-G+1,ta=Math.log(F),O=.5*
Math.exp(2*ta/3);ta=.5*Math.sqrt(ta*O*(F-O)/F)*(0>W-F/2?-1:1);Ab(A,X,Math.max(G,Math.floor(X-W*O/F+ta)),Math.min(v,Math.floor(X+(F-W)*O/F+ta)),z)}F=A[X];W=G;O=v;Ub(A,G,X);for(0<z(A[v],F)&&Ub(A,G,v);W<O;){Ub(A,W,O);++W;for(--O;0>z(A[W],F);)++W;for(;0<z(A[O],F);)--O}0===z(A[G],F)?Ub(A,G,O):(++O,Ub(A,O,v));O<=X&&(G=O+1);X<=O&&(v=O-1)}return A}function Ub(A,X,G){const v=A[X];A[X]=A[G];A[G]=v}function jc(A,X,G){A=Float64Array.from(ub(A,G));if((G=A.length)&&!isNaN(X=+X)){if(0>=X||2>G)return nc(A);if(1<=
X)return Wb(A);X*=G-1;G=Math.floor(X);var v=Wb(Ab(A,G).subarray(0,G+1));A=nc(A.subarray(G+1));return v+(A-v)*(X-G)}}function Ea(A,X,G=Ya){if((v=A.length)&&!isNaN(X=+X)){if(0>=X||2>v)return+G(A[0],0,A);if(1<=X)return+G(A[v-1],v-1,A);var v;X*=v-1;v=Math.floor(X);var z=+G(A[v],v,A);A=+G(A[v+1],v+1,A);return z+(A-z)*(X-v)}}function bb(A,X,G){const v=Float64Array.from(h(A,G));v.sort(ia);return X.map(z=>Ea(v,z))}function tb(A,X){return bb(A,[.25,.5,.75],X)}function rb(A,X){const G=A.length;{var v=0;let F,
W=0,ta=0;if(void 0===X)for(var z of A)null!=z&&(z=+z)>=z&&(F=z-W,W+=F/++v,ta+=F*(z-W));else{z=-1;for(let O of A)null!=(O=X(O,++z,A))&&(O=+O)>=O&&(F=O-W,W+=F/++v,ta+=F*(O-W))}v=1<v?ta/(v-1):void 0}v=v?Math.sqrt(v):v;A=tb(A,X);return 1.06*(Math.min(v,(A[2]-A[0])/1.34)||v||Math.abs(A[0])||1)*Math.pow(G,-.2)}function pb(A,X){const G=A.length;let v=0,z=1,F,W;for(;A[v]===A[z];)++z;for(;z<G;){for(F=z+1;A[z]===A[F];)++F;if(A[z]-A[z-1]<X){for(W=z+(v+F-z-z>>1);W<z;)A[W++]=A[z];for(;W>z;)A[W--]=A[v]}v=z;z=F}return A}
function vb(A,X){A=A||0;X=null==X?1:X;let G,v;if(x===x)G=x,x=NaN;else{do{G=2*t.random()-1;v=2*t.random()-1;var z=G*G+v*v}while(0===z||1<z);z=Math.sqrt(-2*Math.log(z)/z);G*=z;x=v*z}return A+G*X}function gb(A,X,G){G=null==G?1:G;A=(A-(X||0))/G;return Math.exp(-.5*A*A)/(G*D)}function fc(A,X,G){A=(A-(X||0))/(null==G?1:G);X=Math.abs(A);37<X?G=0:(G=Math.exp(-X*X/2),7.07106781186547>X?(G*=(((((.0352624965998911*X+.700383064443688)*X+6.37396220353165)*X+33.912866078383)*X+112.079291497871)*X+221.213596169931)*
X+220.206867912376,G/=((((((.0883883476483184*X+1.75566716318264)*X+16.064177579207)*X+86.7807322029461)*X+296.564248779674)*X+637.333633378831)*X+793.826512519948)*X+440.413735824752):G=G/(X+1/(X+2/(X+3/(X+4/(X+.65)))))/2.506628274631);return 0<A?1-G:G}function sa(A,X,G){if(0>A||1<A)return NaN;A=2*A-1;var v=-Math.log((1-A)*(1+A));6.25>v?(v-=3.125,v=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+
(4.2347877827932404E-7+(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*v)*v)*v)*v)*v)*v)*v)*v)*v)*v)*v)*v)*v)*v)*v)*v)*v)*v)*v)*v)*v)*v):16>v?(v=Math.sqrt(v)-3.25,v=3.0838856104922208+(1.0052589676941592+
(.005370914553590064+(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*v)*v)*v)*v)*v)*v)*v)*v)*v)*v)*v)*v)*v)*v)*v)*v)*v)*v):Number.isFinite(v)?(v=Math.sqrt(v)-5,v=4.849906401408584+(1.0103004648645344+
(-1.3871931833623122E-4+(-2.1503011930044477E-4+(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*v)*v)*v)*v)*v)*v)*v)*v)*v)*v)*v)*v)*v)*v)*v)*v):v=Infinity;return(X||0)+(null==G?1:G)*K*v*A}function ha(A,X){let G,v;const z={mean(F){return arguments.length?(G=
F||0,z):G},stdev(F){return arguments.length?(v=null==F?1:F,z):v},sample:()=>vb(G,v),pdf:F=>gb(F,G,v),cdf:F=>fc(F,G,v),icdf:F=>sa(F,G,v)};return z.mean(A).stdev(X)}function Ba(A,X){X=null==X?1:X;return Math.exp((A||0)+vb()*X)}function Sa(A,X,G){if(0>=A)return 0;G=null==G?1:G;X=(Math.log(A)-(X||0))/G;return Math.exp(-.5*X*X)/(G*D*A)}function Va(A,X,G){return fc(Math.log(A),X,G)}function Ia(A,X,G){return Math.exp(sa(A,X,G))}function hb(A,X){null==X&&(X=null==A?1:A,A=0);return A+(X-A)*t.random()}function Za(A,
X,G){null==G&&(G=null==X?1:X,X=0);return A>=X&&A<=G?1/(G-X):0}function qb(A,X,G){null==G&&(G=null==X?1:X,X=0);return A<X?0:A>G?1:(A-X)/(G-X)}function Nb(A,X,G){null==G&&(G=null==X?1:X,X=0);return 0<=A&&1>=A?X+A*(G-X):NaN}function $a(A,X,G){let v=0,z=0;for(const F of A)A=G(F),null==X(F)||null==A||isNaN(A)||(v+=(A-v)/++z);return{coef:[v],predict:()=>v,rSquared:0}}function V(A,X,G,v){v-=A*A;G=1E-24>Math.abs(v)?0:(G-A*X)/v;return[X-G*A,G]}function N(A,X,G,v){A=A.filter(Ma=>{let Pa=X(Ma);Ma=G(Ma);return null!=
Pa&&(Pa=+Pa)>=Pa&&null!=Ma&&(Ma=+Ma)>=Ma});v&&A.sort((Ma,Pa)=>X(Ma)-X(Pa));v=A.length;const z=new Float64Array(v),F=new Float64Array(v);let W=0,ta=0,O=0,ja,va;for(va of A)z[W]=A=+X(va),F[W]=ja=+G(va),++W,ta+=(A-ta)/W,O+=(ja-O)/W;for(W=0;W<v;++W)z[W]-=ta,F[W]-=O;return[z,F,ta,O]}function na(A,X,G,v){let z=-1,F;for(const W of A)A=X(W),F=G(W),null!=A&&(A=+A)>=A&&null!=F&&(F=+F)>=F&&v(A,F,++z)}function oa(A,X,G,v,z){let F=0,W=0;na(A,X,G,(ta,O)=>{ta=O-z(ta);O-=v;F+=ta*ta;W+=O*O});return 1-F/W}function Na(A,
X,G){let v=0,z=0,F=0,W=0,ta=0;na(A,X,G,(va,Ma)=>{++ta;v+=(va-v)/ta;z+=(Ma-z)/ta;F+=(va*Ma-F)/ta;W+=(va*va-W)/ta});const O=V(v,z,F,W),ja=va=>O[0]+O[1]*va;return{coef:O,predict:ja,rSquared:oa(A,X,G,z,ja)}}function la(A,X,G){const [v,z,F,W]=N(A,X,G);var ta=v.length,O=0;let ja=0;var va=0;let Ma=0,Pa=0,Xa,sb,ib,Sb;for(Xa=0;Xa<ta;)sb=v[Xa],ib=z[Xa++],Sb=sb*sb,O+=(Sb-O)/Xa,ja+=(Sb*sb-ja)/Xa,va+=(Sb*Sb-va)/Xa,Ma+=(sb*ib-Ma)/Xa,Pa+=(Sb*ib-Pa)/Xa;ta=va-O*O;va=O*ta-ja*ja;const Y=(Pa*O-Ma*ja)/va,Fa=(Ma*ta-Pa*
ja)/va,Kb=-Y*O;O=pc=>{pc-=F;return Y*pc*pc+Fa*pc+Kb+W};return{coef:[Kb-Fa*F+Y*F*F+W,Fa-2*Y*F,Y],predict:O,rSquared:oa(A,X,G,W,O)}}function qa(A,X,G,v){const z=Array(A);let F,W,ta;for(F=0;F<A;++F)z[F]=0;for(F=A-1;0<=F;--F)for(W=X[F],ta=1,z[F]+=W,A=1;A<=F;++A)ta*=(F+1-A)/A,z[F-A]+=W*Math.pow(G,A)*ta;z[0]+=v;return z}function l(A){const X=A.length-1,G=[];let v,z,F,W,ta;for(v=0;v<X;++v){W=v;for(z=v+1;z<X;++z)Math.abs(A[v][z])>Math.abs(A[v][W])&&(W=z);for(F=v;F<X+1;++F)ta=A[F][v],A[F][v]=A[F][W],A[F][W]=
ta;for(z=v+1;z<X;++z)for(F=X;F>=v;F--)A[F][z]-=A[F][v]*A[v][z]/A[v][v]}for(z=X-1;0<=z;--z){ta=0;for(F=z+1;F<X;++F)ta+=A[F][z]*G[F];G[z]=(A[X][z]-ta)/A[z][z]}return G}t.random=Math.random;const D=Math.sqrt(2*Math.PI),K=Math.SQRT2;let x=NaN;const U=.5*Math.PI/180;t.bandwidthNRD=rb;t.bin=function(A){var X=A.maxbins||20;const G=A.base||10,v=Math.log(G),z=A.divide||[5,2];let F=A.extent[0],W=A.extent[1];let ta,O,ja,va;const Ma=A.span||W-F||Math.abs(F)||1;if(A.step)var Pa=A.step;else if(A.steps){O=Ma/X;
ja=0;for(va=A.steps.length;ja<va&&A.steps[ja]<O;++ja);Pa=A.steps[Math.max(0,ja-1)]}else{Pa=Math.ceil(Math.log(X)/v);ta=A.minstep||0;for(Pa=Math.max(ta,Math.pow(G,Math.round(Math.log(Ma)/v)-Pa));Math.ceil(Ma/Pa)>X;)Pa*=G;ja=0;for(va=z.length;ja<va;++ja)O=Pa/z[ja],O>=ta&&Ma/O<=X&&(Pa=O)}O=Math.log(Pa);X=Math.pow(G,-(0<=O?0:~~(-O/v)+1)-1);if(A.nice||void 0===A.nice)O=Math.floor(F/Pa+X)*Pa,F=F<O?O-Pa:O,W=Math.ceil(W/Pa)*Pa;return{start:F,stop:W===F?F+Pa:W,step:Pa}};t.bootstrapCI=function(A,X,G,v){if(!A.length)return[void 0,
void 0];A=Float64Array.from(h(A,v));v=A.length;let z,F,W,ta;W=0;for(ta=Array(X);W<X;++W){for(F=z=0;F<v;++F)z+=A[~~(t.random()*v)];ta[W]=z/v}ta.sort(ia);return[jc(ta,G/2),jc(ta,1-G/2)]};t.cumulativeLogNormal=Va;t.cumulativeNormal=fc;t.cumulativeUniform=qb;t.densityLogNormal=Sa;t.densityNormal=gb;t.densityUniform=Za;t.dotbin=function(A,X,G,v){v=v||(Pa=>Pa);const z=A.length,F=new Float64Array(z);let W=0,ta=1,O=v(A[0]),ja=O,va=O+X,Ma;for(;ta<z;++ta){Ma=v(A[ta]);if(Ma>=va){for(ja=(O+ja)/2;W<ta;++W)F[W]=
ja;va=Ma+X;O=Ma}ja=Ma}for(ja=(O+ja)/2;W<ta;++W)F[W]=ja;return G?pb(F,X+X/4):F};t.quantileLogNormal=Ia;t.quantileNormal=sa;t.quantileUniform=Nb;t.quantiles=bb;t.quartiles=tb;t.randomInteger=function(A,X){null==X&&(X=A,A=0);let G,v,z;const F={min(W){return arguments.length?(G=W||0,z=v-G,F):G},max(W){return arguments.length?(v=W||0,z=v-G,F):v},sample(){return G+Math.floor(z*t.random())},pdf(W){return W===Math.floor(W)&&W>=G&&W<v?1/z:0},cdf(W){W=Math.floor(W);return W<G?0:W>=v?1:(W-G+1)/z},icdf(W){return 0<=
W&&1>=W?G-1+Math.floor(W*z):NaN}};return F.min(A).max(X)};t.randomKDE=function(A,X){const G=ha();let v=0;const z={data(F){return arguments.length?(v=(A=F)?F.length:0,z.bandwidth(X)):A},bandwidth(F){if(!arguments.length)return X;X=F;!X&&A&&(X=rb(A));return z},sample(){return A[~~(t.random()*v)]+X*G.sample()},pdf(F){let W=0,ta=0;for(;ta<v;++ta)W+=G.pdf((F-A[ta])/X);return W/X/v},cdf(F){let W=0,ta=0;for(;ta<v;++ta)W+=G.cdf((F-A[ta])/X);return W/v},icdf(){throw Error("KDE icdf not supported.");}};return z.data(A)};
t.randomLCG=function(A){return function(){A=(1103515245*A+12345)%2147483647;return A/2147483647}};t.randomLogNormal=function(A,X){let G,v;const z={mean(F){return arguments.length?(G=F||0,z):G},stdev(F){return arguments.length?(v=null==F?1:F,z):v},sample:()=>Ba(G,v),pdf:F=>Sa(F,G,v),cdf:F=>Va(F,G,v),icdf:F=>Ia(F,G,v)};return z.mean(A).stdev(X)};t.randomMixture=function(A,X){let G=0,v;const z={weights(F){if(arguments.length){var W=X=F||[];const ta=[];let O=0,ja;for(ja=0;ja<G;++ja)O+=ta[ja]=null==W[ja]?
1:+W[ja];for(ja=0;ja<G;++ja)ta[ja]/=O;v=ta;return z}return X},distributions(F){return arguments.length?(F?(G=F.length,A=F):(G=0,A=[]),z.weights(X)):A},sample(){const F=t.random();let W=A[G-1],ta=v[0],O=0;for(;O<G-1;ta+=v[++O])if(F<ta){W=A[O];break}return W.sample()},pdf(F){let W=0,ta=0;for(;ta<G;++ta)W+=v[ta]*A[ta].pdf(F);return W},cdf(F){let W=0,ta=0;for(;ta<G;++ta)W+=v[ta]*A[ta].cdf(F);return W},icdf(){throw Error("Mixture icdf not supported.");}};return z.distributions(A).weights(X)};t.randomNormal=
ha;t.randomUniform=function(A,X){let G,v;const z={min(F){return arguments.length?(G=F||0,z):G},max(F){return arguments.length?(v=null==F?1:F,z):v},sample:()=>hb(G,v),pdf:F=>Za(F,G,v),cdf:F=>qb(F,G,v),icdf:F=>Nb(F,G,v)};null==X&&(X=null==A?1:A,A=0);return z.min(A).max(X)};t.regressionConstant=$a;t.regressionExp=function(A,X,G){const [v,,z,F]=N(A,X,G);let W=0,ta=0,O=0,ja=0,va=0,Ma,Pa,Xa;na(A,X,G,(Y,Fa)=>{Ma=v[va++];Pa=Math.log(Fa);Xa=Ma*Fa;W+=(Fa*Pa-W)/va;ta+=(Xa-ta)/va;O+=(Xa*Pa-O)/va;ja+=(Ma*Xa-ja)/
va});const [sb,ib]=V(ta/F,W/F,O/F,ja/F),Sb=Y=>Math.exp(sb+ib*(Y-z));return{coef:[Math.exp(sb-ib*z),ib],predict:Sb,rSquared:oa(A,X,G,F,Sb)}};t.regressionLinear=Na;t.regressionLoess=function(A,X,G,v){const [z,F,W,ta]=N(A,X,G,!0);A=z.length;X=Math.max(2,~~(v*A));v=new Float64Array(A);G=new Float64Array(A);var O=(new Float64Array(A)).fill(1);for(var ja=-1;2>=++ja;){var va=[0,X-1];for(let Kb=0;Kb<A;++Kb){var Ma=z[Kb],Pa=va[0],Xa=va[1],sb=0,ib=0,Sb=0,Y=0;let pc=0;const ac=1/Math.abs(z[Ma-z[Pa]>z[Xa]-Ma?
Pa:Xa]-Ma||1);for(;Pa<=Xa;++Pa){const xc=z[Pa],hd=F[Pa];var Fa=Math.abs(Ma-xc)*ac;const ra=(Fa=1-Fa*Fa*Fa)*Fa*Fa*O[Pa];Fa=xc*ra;sb+=ra;ib+=Fa;Sb+=hd*ra;Y+=hd*Fa;pc+=xc*Fa}const [Mb,Ob]=V(ib/sb,Sb/sb,Y/sb,pc/sb);v[Kb]=Mb+Ob*Ma;G[Kb]=Math.abs(F[Kb]-v[Kb]);Ma=z;Xa=Kb+1;sb=va;ib=Ma[Xa];Sb=sb[0];Y=sb[1]+1;if(!(Y>=Ma.length))for(;Xa>Sb&&Ma[Y]-ib<=ib-Ma[Sb];)sb[0]=++Sb,sb[1]=Y,++Y}if(2===ja)break;va=jc(G,.5,void 0);if(1E-12>Math.abs(va))break;for(let Kb=0,pc,ac;Kb<A;++Kb)pc=G[Kb]/(6*va),O[Kb]=1<=pc?1E-12:
(ac=1-pc*pc)*ac}A=z.length;X=[];O=G=0;for(ja=[];G<A;++G)va=z[G]+W,ja[0]===va?ja[1]+=(v[G]-ja[1])/++O:(O=0,ja[1]+=ta,ja=[va,v[G]],X.push(ja));ja[1]+=ta;return X};t.regressionLog=function(A,X,G){let v=0,z=0,F=0,W=0,ta=0;na(A,X,G,(va,Ma)=>{++ta;va=Math.log(va);v+=(va-v)/ta;z+=(Ma-z)/ta;F+=(va*Ma-F)/ta;W+=(va*va-W)/ta});const O=V(v,z,F,W),ja=va=>O[0]+O[1]*Math.log(va);return{coef:O,predict:ja,rSquared:oa(A,X,G,z,ja)}};t.regressionPoly=function(A,X,G,v){if(0===v)return $a(A,X,G);if(1===v)return Na(A,X,
G);if(2===v)return la(A,X,G);const [z,F,W,ta]=N(A,X,G);var O=z.length;const ja=[],va=[],Ma=v+1;let Pa,Xa,sb,ib;for(Pa=0;Pa<Ma;++Pa){for(sb=Xa=0;Xa<O;++Xa)sb+=Math.pow(z[Xa],Pa)*F[Xa];ja.push(sb);ib=new Float64Array(Ma);for(v=0;v<Ma;++v){for(sb=Xa=0;Xa<O;++Xa)sb+=Math.pow(z[Xa],Pa+v);ib[v]=sb}va.push(ib)}va.push(ja);const Sb=l(va);O=Y=>{Y-=W;let Fa=ta+Sb[0]+Sb[1]*Y+Sb[2]*Y*Y;for(Pa=3;Pa<Ma;++Pa)Fa+=Sb[Pa]*Math.pow(Y,Pa);return Fa};return{coef:qa(Ma,Sb,-W,ta),predict:O,rSquared:oa(A,X,G,ta,O)}};t.regressionPow=
function(A,X,G){let v=0,z=0,F=0,W=0,ta=0,O=0;na(A,X,G,(Ma,Pa)=>{Ma=Math.log(Ma);const Xa=Math.log(Pa);++O;v+=(Ma-v)/O;z+=(Xa-z)/O;F+=(Ma*Xa-F)/O;W+=(Ma*Ma-W)/O;ta+=(Pa-ta)/O});const ja=V(v,z,F,W),va=Ma=>ja[0]*Math.pow(Ma,ja[1]);ja[0]=Math.exp(ja[0]);return{coef:ja,predict:va,rSquared:oa(A,X,G,ta,va)}};t.regressionQuad=la;t.sampleCurve=function(A,X,G,v){G=G||25;v=Math.max(G,v||200);var z=X[0],F=X[1],W=F-z,ta=W/v;X=[[z,A(z)]];var O=[];if(G===v){for(var ja=1;ja<v;++ja){ta=X;O=ta.push;var va=z+ja/G*W;
va=[va,A(va)];O.call(ta,va)}X.push([F,A(F)]);return X}O.push([F,A(F)]);for(ja=G;0<--ja;)v=O,F=v.push,va=z+ja/G*W,va=[va,A(va)],F.call(v,va);G=X[0];z=O[O.length-1];W=1/W;v=F=G[1];ja=O.length;for(va=0;va<ja;++va){const Ma=O[va][1];Ma<v&&(v=Ma);Ma>F&&(F=Ma)}for(v=1/(F-v);z;)F=(G[0]+z[0])/2,F=[F,A(F)],F[0]-G[0]>=ta&&Math.abs(Math.atan2(v*(z[1]-G[1]),W*(z[0]-G[0]))-Math.atan2(v*(F[1]-G[1]),W*(F[0]-G[0])))>U?O.push(F):(G=z,X.push(z),O.pop()),z=O[O.length-1];return X};t.sampleLogNormal=Ba;t.sampleNormal=
vb;t.sampleUniform=hb;t.setRandom=function(A){t.random=A}})};
shadow$provide[31]=function(Db,nb,Dc,Wa){(function(t,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,nb(21),nb(29),nb(30),nb(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow","vega-statistics","vega-time"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega,t.vega,t.vega,t.vega))})(this,function(t,h,ia,Ya,ub){function Yb(w){return I=>{const wa=w.length;let Ja=1,jb=String(w[0](I));for(;Ja<wa;++Ja)jb+="|"+w[Ja](I);return jb}}function dc(w){return w&&
w.length?1===w.length?w[0]:Yb(w):function(){return""}}function Wb(w,I){return(wa,Ja)=>h.extend({name:w,aggregate_param:Ja,out:wa||w},Hb,I)}function nc(w,I){return w.idx-I.idx}function Ab(w){const I={};w.forEach(Ja=>I[Ja.name]=Ja);const wa=Ja=>{Ja.req&&Ja.req.forEach(jb=>{I[jb]||wa(I[jb]=Cc[jb]())})};w.forEach(wa);return Object.values(I).sort(nc)}function Ub(){this.missing=this.valid=0;this._ops.forEach(w=>null==w.aggregate_param?w.init(this):w.init(this,w.aggregate_param))}function jc(w,I){null==
w||""===w?++this.missing:w===w&&(++this.valid,this._ops.forEach(wa=>wa.add(this,w,I)))}function Ea(w,I){null==w||""===w?--this.missing:w===w&&(--this.valid,this._ops.forEach(wa=>wa.rem(this,w,I)))}function bb(w){this._out.forEach(I=>w[I.out]=I.value(this));return w}function tb(w,I){function wa(wb){this._ops=Ja;this._out=jb;this.cell=wb;this.init()}I=I||h.identity;const Ja=Ab(w),jb=w.slice().sort(nc);wa.prototype.init=Ub;wa.prototype.add=jc;wa.prototype.rem=Ea;wa.prototype.set=bb;wa.prototype.get=
I;wa.fields=w.map(wb=>wb.out);return wa}function rb(w){this._key=w?h.field(w):ia.tupleid;this.reset()}function pb(w){ia.Transform.call(this,null,w);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function vb(w){ia.Transform.call(this,null,w)}function gb(w,I,wa){let Ja=I||[],jb=wa||[],wb={},ec=0;return{add:Qb=>jb.push(Qb),remove:Qb=>wb[w(Qb)]=++ec,
size:()=>Ja.length,data:(Qb,qc)=>{ec&&(Ja=Ja.filter(Fc=>!wb[w(Fc)]),wb={},ec=0);qc&&Qb&&Ja.sort(Qb);jb.length&&(Ja=Qb?h.merge(Qb,Ja,jb.sort(Qb)):Ja.concat(jb),jb=[]);return Ja}}}function fc(w){ia.Transform.call(this,[],w)}function sa(w){ia.Operator.call(this,null,ha,w)}function ha(w){return this.value&&!w.modified()?this.value:h.compare(w.fields,w.orders)}function Ba(w){ia.Transform.call(this,null,w)}function Sa(w){ia.Transform.call(this,null,w)}function Va(w,I){var wa=w["function"];h.hasOwnProperty(xd,
wa)||h.error("Unknown distribution function: "+wa);wa=xd[wa]();for(const Ja in w)if("field"===Ja)wa.data((w.from||I()).map(w[Ja]));else if("distributions"===Ja)wa[Ja](w[Ja].map(jb=>Va(jb,I)));else if("function"===typeof wa[Ja])wa[Ja](w[Ja]);return wa}function Ia(w){ia.Transform.call(this,null,w)}function hb(w){return()=>w.materialize(w.SOURCE).source}function Za(w,I){return w?w.map((wa,Ja)=>I[Ja]||h.accessorName(wa)):null}function qb(w,I,wa){const Ja=[],jb=bd=>bd(qc);let wb,ec,Qb,qc,Fc,zc;if(null==
I)Ja.push(w.map(wa));else for(wb={},ec=0,Qb=w.length;ec<Qb;++ec)qc=w[ec],Fc=I.map(jb),zc=wb[Fc],zc||(wb[Fc]=zc=[],zc.dims=Fc,Ja.push(zc)),zc.push(wa(qc));return Ja}function Nb(w){ia.Transform.call(this,null,w)}function $a(w){ia.Operator.call(this,null,V,w);this.modified(!0)}function V(w){const I=w.expr;return this.value&&!w.modified("expr")?this.value:h.accessor(wa=>I(wa,w),h.accessorFields(I),h.accessorName(I))}function N(w){ia.Transform.call(this,[void 0,void 0],w)}function na(w,I){ia.Operator.call(this,
w);this.parent=I;this.count=0}function oa(w){ia.Transform.call(this,{},w);this._keys=h.fastmap();const I=this._targets=[];I.active=0;I.forEach=wa=>{for(let Ja=0,jb=I.active;Ja<jb;++Ja)wa(I[Ja],Ja,I)}}function Na(w){ia.Operator.call(this,null,la,w)}function la(w){return this.value&&!w.modified()?this.value:h.isArray(w.name)?h.array(w.name).map(I=>h.field(I)):h.field(w.name,w.as)}function qa(w){ia.Transform.call(this,h.fastmap(),w)}function l(w){ia.Transform.call(this,[],w)}function D(w){ia.Transform.call(this,
[],w)}function K(w){ia.Transform.call(this,null,w)}function x(w){ia.Transform.call(this,[],w)}function U(w,I){return null==w||null==I?NaN:w<I?-1:w>I?1:w>=I?0:NaN}function A(w,I){return null==w||null==I?NaN:I<w?-1:I>w?1:I>=w?0:NaN}function X(w){function I(wb,ec,Qb=0,qc=wb.length){if(Qb<qc){if(0!==wa(ec,ec))return qc;do{const Fc=Qb+qc>>>1;0>Ja(wb[Fc],ec)?Qb=Fc+1:qc=Fc}while(Qb<qc)}return Qb}let wa,Ja,jb;2!==w.length?(wa=U,Ja=(wb,ec)=>U(w(wb),ec),jb=(wb,ec)=>w(wb)-ec):(wa=w===U||w===A?w:G,jb=Ja=w);return{left:I,
center:function(wb,ec,Qb=0,qc=wb.length){qc=I(wb,ec,Qb,qc-1);return qc>Qb&&jb(wb[qc-1],ec)>-jb(wb[qc],ec)?qc-1:qc},right:function(wb,ec,Qb=0,qc=wb.length){if(Qb<qc){if(0!==wa(ec,ec))return qc;do{const Fc=Qb+qc>>>1;0>=Ja(wb[Fc],ec)?Qb=Fc+1:qc=Fc}while(Qb<qc)}return Qb}}}function G(){return 0}function*v(w,I){if(void 0===I)for(var wa of w)null!=wa&&(wa=+wa)>=wa&&(yield wa);else{wa=-1;for(let Ja of w)null!=(Ja=I(Ja,++wa,w))&&(Ja=+Ja)>=Ja&&(yield Ja)}}function z(w=U){if(w===U)return F;if("function"!==
typeof w)throw new TypeError("compare is not a function");return(I,wa)=>{const Ja=w(I,wa);return Ja||0===Ja?Ja:(0===w(wa,wa))-(0===w(I,I))}}function F(w,I){return(null==w||!(w>=w))-(null==I||!(I>=I))||(w<I?-1:w>I?1:0)}function W(w,I){let wa;if(void 0===I)for(var Ja of w)null!=Ja&&(wa<Ja||void 0===wa&&Ja>=Ja)&&(wa=Ja);else{Ja=-1;for(let jb of w)null!=(jb=I(jb,++Ja,w))&&(wa<jb||void 0===wa&&jb>=jb)&&(wa=jb)}return wa}function ta(w,I){let wa;if(void 0===I)for(var Ja of w)null!=Ja&&(wa>Ja||void 0===wa&&
Ja>=Ja)&&(wa=Ja);else{Ja=-1;for(let jb of w)null!=(jb=I(jb,++Ja,w))&&(wa>jb||void 0===wa&&jb>=jb)&&(wa=jb)}return wa}function O(w,I,wa=0,Ja=Infinity,jb){I=Math.floor(I);wa=Math.floor(Math.max(0,wa));Ja=Math.floor(Math.min(w.length-1,Ja));if(!(wa<=I&&I<=Ja))return w;for(jb=void 0===jb?F:z(jb);Ja>wa;){if(600<Ja-wa){var wb=Ja-wa+1,ec=I-wa+1,Qb=Math.log(wb),qc=.5*Math.exp(2*Qb/3);Qb=.5*Math.sqrt(Qb*qc*(wb-qc)/wb)*(0>ec-wb/2?-1:1);O(w,I,Math.max(wa,Math.floor(I-ec*qc/wb+Qb)),Math.min(Ja,Math.floor(I+(wb-
ec)*qc/wb+Qb)),jb)}wb=w[I];ec=wa;qc=Ja;ja(w,wa,I);for(0<jb(w[Ja],wb)&&ja(w,wa,Ja);ec<qc;){ja(w,ec,qc);++ec;for(--qc;0>jb(w[ec],wb);)++ec;for(;0<jb(w[qc],wb);)--qc}0===jb(w[wa],wb)?ja(w,wa,qc):(++qc,ja(w,qc,Ja));qc<=I&&(wa=qc+1);I<=qc&&(Ja=qc-1)}return w}function ja(w,I,wa){const Ja=w[I];w[I]=w[wa];w[wa]=Ja}function va(w,I,wa){w=+w;I=+I;wa=2>(jb=arguments.length)?(I=w,w=0,1):3>jb?1:+wa;for(var Ja=-1,jb=Math.max(0,Math.ceil((I-w)/wa))|0,wb=Array(jb);++Ja<jb;)wb[Ja]=w+Ja*wa;return wb}function Ma(w){ia.Transform.call(this,
[],w)}function Pa(w){var I=w.method||ed.value;if(null==ed[I])h.error("Unrecognized imputation method: "+I);else{if(I===ed.value){var wa=void 0!==w.value?w.value:0;return()=>wa}return ed[I]}}function Xa(w){const I=w.field;return wa=>wa?I(wa):NaN}function sb(w,I,wa,Ja){var jb=kd=>kd(bd),wb=[];Ja=Ja?Ja.slice():[];var ec={},Qb={},qc,Fc;Ja.forEach((kd,Od)=>ec[kd]=Od+1);var zc=0;for(Fc=w.length;zc<Fc;++zc){var bd=w[zc];var md=wa(bd);var qd=ec[md]||(ec[md]=Ja.push(md));var Gd=(md=I?I.map(jb):Jd)+"";(qc=
Qb[Gd])||(qc=Qb[Gd]=[],wb.push(qc),qc.values=md);qc[qd-1]=bd}wb.domain=Ja;return wb}function ib(w){pb.call(this,w)}function Sb(w){ia.Transform.call(this,null,w)}function Y(w){ia.Operator.call(this,null,Fa,w)}function Fa(w){return this.value&&!w.modified()?this.value:h.key(w.fields,w.flat)}function Kb(w){ia.Transform.call(this,[],w);this._pending=null}function pc(w){return w.modified("async")&&!(w.modified("values")||w.modified("url")||w.modified("format"))}function ac(w,I,wa){wa.forEach(ia.ingest);
I=I.fork(I.NO_FIELDS&I.NO_SOURCE);I.rem=w.value;w.value=I.source=I.add=wa;w._pending=null;I.rem.length&&I.clean(!0);return I}function Mb(w){ia.Transform.call(this,{},w)}function Ob(w){ia.Operator.call(this,null,xc,w)}function xc(w){if(this.value&&!w.modified())return this.value;w=w.extents;const I=w.length;let wa=Infinity,Ja=-Infinity,jb,wb;for(jb=0;jb<I;++jb)wb=w[jb],wb[0]<wa&&(wa=wb[0]),wb[1]>Ja&&(Ja=wb[1]);return[wa,Ja]}function hd(w){ia.Operator.call(this,null,ra,w)}function ra(w){return this.value&&
!w.modified()?this.value:w.values.reduce((I,wa)=>I.concat(wa),[])}function Bb(w){ia.Transform.call(this,null,w)}function Ua(w){pb.call(this,w)}function xb(w,I){const wa=w.field,Ja=w.value,jb=("count"===w.op?"__count__":w.op)||"sum",wb=h.accessorFields(wa).concat(h.accessorFields(Ja)),ec=Lb(wa,w.limit||0,I);I.changed()&&w.set("__pivot__",null,null,!0);return{key:w.key,groupby:w.groupby,ops:ec.map(()=>jb),fields:ec.map(Qb=>Fb(Qb,wa,Ja,wb)),as:ec.map(Qb=>Qb+""),modified:w.modified.bind(w)}}function Fb(w,
I,wa,Ja){return h.accessor(jb=>I(jb)===w?wa(jb):NaN,Ja,w+"")}function Lb(w,I,wa){const Ja={},jb=[];wa.visit(wa.SOURCE,wb=>{wb=w(wb);Ja[wb]||(Ja[wb]=1,jb.push(wb))});jb.sort(h.ascending);return I?jb.slice(0,I):jb}function Zb(w){oa.call(this,w)}function ic(w){ia.Transform.call(this,null,w)}function Ac(w){ia.Transform.call(this,null,w)}function nd(w){ia.Transform.call(this,null,w)}function Uc(w){ia.Transform.call(this,null,w)}function ma(w){ia.Transform.call(this,[],w);this.count=0}function Ha(w){ia.Transform.call(this,
null,w)}function fb(w){ia.Transform.call(this,null,w);this.modified(!0)}function S(w){ia.Transform.call(this,null,w)}function r(w){ia.Transform.call(this,h.fastmap(),w)}function da(w){ia.Transform.call(this,null,w)}function za(w,I,wa,Ja){const jb=vd[w](I,wa);return{init:jb.init||h.zero,update:function(wb,ec){ec[Ja]=jb.next(wb)}}}function Da(w){function I(Gd){h.array(h.accessorFields(Gd)).forEach(kd=>Fc[kd]=1)}const wa=h.array(w.ops),Ja=h.array(w.fields),jb=h.array(w.params),wb=h.array(w.aggregate_params),
ec=h.array(w.as),Qb=this.outputs=[],qc=this.windows=[],Fc={},zc={},bd=[],md=[];let qd=!0;I(w.sort);wa.forEach((Gd,kd)=>{const Od=Ja[kd];var he=jb[kd];const Ne=wb[kd]||null,Ie=h.accessorName(Od);kd=ec[kd]||Gd+(Ie?"_"+Ie:"");I(Od);Qb.push(kd);h.hasOwnProperty(vd,Gd)?qc.push(za(Gd,Od,he,kd)):(null==Od&&"count"!==Gd&&h.error("Null aggregate field specified."),"count"===Gd?bd.push(kd):(qd=!1,he=zc[Ie],he||(he=zc[Ie]=[],he.field=Od,md.push(he)),he.push(Cc[Gd](kd,Ne))))});if(bd.length||md.length)this.cell=
Oa(md,bd,qd);this.inputs=Object.keys(Fc)}function Oa(w,I,wa){w=w.map(qc=>tb(qc,qc.field));const Ja={num:0,agg:null,store:!1,count:I};if(!wa)for(var jb=w.length,wb=Ja.agg=Array(jb),ec=0;ec<jb;++ec)wb[ec]=new w[ec](Ja);if(Ja.store)var Qb=Ja.data=new rb;Ja.add=function(qc){Ja.num+=1;if(!wa){Qb&&Qb.add(qc);for(let Fc=0;Fc<jb;++Fc)wb[Fc].add(wb[Fc].get(qc),qc)}};Ja.rem=function(qc){--Ja.num;if(!wa){Qb&&Qb.rem(qc);for(let Fc=0;Fc<jb;++Fc)wb[Fc].rem(wb[Fc].get(qc),qc)}};Ja.set=function(qc){let Fc,zc;Qb&&
Qb.values();Fc=0;for(zc=I.length;Fc<zc;++Fc)qc[I[Fc]]=Ja.num;if(!wa)for(Fc=0,zc=wb.length;Fc<zc;++Fc)wb[Fc].set(qc)};Ja.init=function(){Ja.num=0;Qb&&Qb.reset();for(let qc=0;qc<jb;++qc)wb[qc].init()};return Ja}function kb(w){ia.Transform.call(this,{},w);this._mlen=0;this._mods=[]}function Vb(w,I,wa,Ja){var jb=Ja.sort;const wb=jb&&!Ja.ignorePeers;Ja=Ja.frame||[null,0];w=w.data(wa);wa=w.length;const ec=wb?X(jb):null;jb={i0:0,i1:0,p0:0,p1:0,index:0,data:w,compare:jb||h.constant(-1)};I.init();for(let bd=
0;bd<wa;++bd){var Qb=jb,qc=Ja,Fc=bd,zc=wa;Qb.p0=Qb.i0;Qb.p1=Qb.i1;Qb.i0=null==qc[0]?0:Math.max(0,Fc-Math.abs(qc[0]));Qb.i1=null==qc[1]?zc:Math.min(zc,Fc+Math.abs(qc[1])+1);Qb.index=Fc;if(wb){Qb=jb;qc=ec;Fc=Qb.i0;zc=Qb.i1-1;const md=Qb.compare,qd=Qb.data,Gd=qd.length-1;0<Fc&&!md(qd[Fc],qd[Fc-1])&&(Qb.i0=qc.left(qd,qd[Fc]));zc<Gd&&!md(qd[zc],qd[zc+1])&&(Qb.i1=qc.right(qd,qd[zc]))}I.update(jb,w[bd])}}const Eb=()=>{},Hb={init:Eb,add:Eb,rem:Eb,idx:0},Cc={values:{init:w=>w.cell.store=!0,value:w=>w.cell.data.values(),
idx:-1},count:{value:w=>w.cell.num},__count__:{value:w=>w.missing+w.valid},missing:{value:w=>w.missing},valid:{value:w=>w.valid},sum:{init:w=>w.sum=0,value:w=>w.valid?w.sum:void 0,add:(w,I)=>w.sum+=+I,rem:(w,I)=>w.sum-=I},product:{init:w=>w.product=1,value:w=>w.valid?w.product:void 0,add:(w,I)=>w.product*=I,rem:(w,I)=>w.product/=I},mean:{init:w=>w.mean=0,value:w=>w.valid?w.mean:void 0,add:(w,I)=>(w.mean_d=I-w.mean,w.mean+=w.mean_d/w.valid),rem:(w,I)=>(w.mean_d=I-w.mean,w.mean-=w.valid?w.mean_d/w.valid:
w.mean)},average:{value:w=>w.valid?w.mean:void 0,req:["mean"],idx:1},variance:{init:w=>w.dev=0,value:w=>1<w.valid?w.dev/(w.valid-1):void 0,add:(w,I)=>w.dev+=w.mean_d*(I-w.mean),rem:(w,I)=>w.dev-=w.mean_d*(I-w.mean),req:["mean"],idx:1},variancep:{value:w=>1<w.valid?w.dev/w.valid:void 0,req:["variance"],idx:2},stdev:{value:w=>1<w.valid?Math.sqrt(w.dev/(w.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:w=>1<w.valid?Math.sqrt(w.dev/w.valid):void 0,req:["variance"],idx:2},stderr:{value:w=>1<w.valid?
Math.sqrt(w.dev/(w.valid*(w.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:w=>w.cell.data.distinct(w.get),req:["values"],idx:3},ci0:{value:w=>w.cell.data.ci0(w.get),req:["values"],idx:3},ci1:{value:w=>w.cell.data.ci1(w.get),req:["values"],idx:3},median:{value:w=>w.cell.data.q2(w.get),req:["values"],idx:3},q1:{value:w=>w.cell.data.q1(w.get),req:["values"],idx:3},q3:{value:w=>w.cell.data.q3(w.get),req:["values"],idx:3},min:{init:w=>w.min=void 0,value:w=>w.min=Number.isNaN(w.min)?w.cell.data.min(w.get):
w.min,add:(w,I)=>{if(I<w.min||void 0===w.min)w.min=I},rem:(w,I)=>{I<=w.min&&(w.min=NaN)},req:["values"],idx:4},max:{init:w=>w.max=void 0,value:w=>w.max=Number.isNaN(w.max)?w.cell.data.max(w.get):w.max,add:(w,I)=>{if(I>w.max||void 0===w.max)w.max=I},rem:(w,I)=>{I>=w.max&&(w.max=NaN)},req:["values"],idx:4},argmin:{init:w=>w.argmin=void 0,value:w=>w.argmin||w.cell.data.argmin(w.get),add:(w,I,wa)=>{I<w.min&&(w.argmin=wa)},rem:(w,I)=>{I<=w.min&&(w.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:w=>
w.argmax=void 0,value:w=>w.argmax||w.cell.data.argmax(w.get),add:(w,I,wa)=>{I>w.max&&(w.argmax=wa)},rem:(w,I)=>{I>=w.max&&(w.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(w,I)=>{w.exp=0;w.exp_r=I},value:w=>w.valid?w.exp*(1-w.exp_r)/(1-Math.pow(w.exp_r,w.valid)):void 0,add:(w,I)=>w.exp=w.exp_r*w.exp+I,rem:(w,I)=>w.exp=(w.exp-I/Math.pow(w.exp_r,w.valid-1))/w.exp_r},exponentialb:{value:w=>w.valid?w.exp*(1-w.exp_r):void 0,req:["exponential"],idx:1}},Hc=Object.keys(Cc).filter(w=>"__count__"!==
w);[...Hc,"__count__"].forEach(w=>{Cc[w]=Wb(w,Cc[w])});const Nc=rb.prototype;Nc.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};Nc.add=function(w){this._add.push(w)};Nc.rem=function(w){this._rem.push(w)};Nc.values=function(){this._get=null;if(0===this._rem.length)return this._add;const w=this._add;var I=this._rem;const wa=this._key,Ja=w.length,jb=I.length,wb=Array(Ja-jb),ec={};let Qb,qc;for(Qb=0;Qb<jb;++Qb)ec[wa(I[Qb])]=1;for(I=Qb=0;Qb<Ja;++Qb)ec[wa(qc=w[Qb])]?ec[wa(qc)]=
0:wb[I++]=qc;this._rem=[];return this._add=wb};Nc.distinct=function(w){const I=this.values(),wa={};let Ja=I.length,jb=0,wb;for(;0<=--Ja;)wb=w(I[Ja])+"",h.hasOwnProperty(wa,wb)||(wa[wb]=1,++jb);return jb};Nc.extent=function(w){if(this._get!==w||!this._ext){const I=this.values(),wa=h.extentIndex(I,w);this._ext=[I[wa[0]],I[wa[1]]];this._get=w}return this._ext};Nc.argmin=function(w){return this.extent(w)[0]||{}};Nc.argmax=function(w){return this.extent(w)[1]||{}};Nc.min=function(w){const I=this.extent(w)[0];
return null!=I?w(I):void 0};Nc.max=function(w){const I=this.extent(w)[1];return null!=I?w(I):void 0};Nc.quartile=function(w){this._get===w&&this._q||(this._q=Ya.quartiles(this.values(),w),this._get=w);return this._q};Nc.q1=function(w){return this.quartile(w)[0]};Nc.q2=function(w){return this.quartile(w)[1]};Nc.q3=function(w){return this.quartile(w)[2]};Nc.ci=function(w){this._get===w&&this._ci||(this._ci=Ya.bootstrapCI(this.values(),1E3,.05,w),this._get=w);return this._ci};Nc.ci0=function(w){return this.ci(w)[0]};
Nc.ci1=function(w){return this.ci(w)[1]};pb.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Hc},{name:"aggregate_params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean","default":!1},{name:"key",type:"field"}]};h.inherits(pb,ia.Transform,{transform(w,
I){const wa=this,Ja=I.fork(I.NO_SOURCE|I.NO_FIELDS),jb=w.modified();wa.stamp=Ja.stamp;wa.value&&(jb||I.modified(wa._inputs,!0))?(wa._prev=wa.value,wa.value=jb?wa.init(w):Object.create(null),I.visit(I.SOURCE,wb=>wa.add(wb))):(wa.value=wa.value||wa.init(w),I.visit(I.REM,wb=>wa.rem(wb)),I.visit(I.ADD,wb=>wa.add(wb)));Ja.modifies(wa._outputs);wa._drop=!1!==w.drop;w.cross&&1<wa._dims.length&&(wa._drop=!1,wa.cross());I.clean()&&wa._drop&&Ja.clean(!0).runAfter(()=>this.clean());return wa.changes(Ja)},cross(){function w(Qb){let qc,
Fc,zc,bd;for(qc in Qb)for(zc=Qb[qc].tuple,Fc=0;Fc<ec;++Fc)wb[Fc][bd=zc[jb[Fc]]]=bd}function I(Qb,qc,Fc){const zc=jb[Fc],bd=wb[Fc++];for(const md in bd){const qd=Qb?Qb+"|"+md:md;qc[zc]=bd[md];Fc<ec?I(qd,qc,Fc):Ja[qd]||wa.cell(qd,qc)}}const wa=this,Ja=wa.value,jb=wa._dnames,wb=jb.map(()=>({})),ec=jb.length;w(wa._prev);w(Ja);I("",{},0)},init(w){function I(he){he=h.array(h.accessorFields(he));const Ne=he.length;let Ie=0,Fe;for(;Ie<Ne;++Ie)jb[Fe=he[Ie]]||(jb[Fe]=1,wa.push(Fe))}const wa=this._inputs=[],
Ja=this._outputs=[],jb={};this._dims=h.array(w.groupby);this._dnames=this._dims.map(he=>{const Ne=h.accessorName(he);I(he);Ja.push(Ne);return Ne});this.cellkey=w.key?w.key:dc(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];const wb=w.fields||[null],ec=w.ops||["count"],Qb=w.aggregate_params||[null];w=w.as||[];const qc=wb.length,Fc={};let zc,bd,md,qd,Gd,kd,Od;qc!==ec.length&&h.error("Unmatched number of fields and aggregate ops.");for(Od=0;Od<qc;++Od)zc=wb[Od],bd=ec[Od],md=Qb[Od]||
null,null==zc&&"count"!==bd&&h.error("Null aggregate field specified."),Gd=h.accessorName(zc),kd=w[Od]||bd+(Gd?"_"+Gd:""),Ja.push(kd),"count"===bd?this._counts.push(kd):(qd=Fc[Gd],qd||(I(zc),qd=Fc[Gd]=[],qd.field=zc,this._measures.push(qd)),"count"!==bd&&(this._countOnly=!1),qd.push(Cc[bd](kd,md)));this._measures=this._measures.map(he=>tb(he,he.field));return Object.create(null)},cellkey:dc(),cell(w,I){let wa=this.value[w];wa?0===wa.num&&this._drop&&wa.stamp<this.stamp?(wa.stamp=this.stamp,this._adds[this._alen++]=
wa):wa.stamp<this.stamp&&(wa.stamp=this.stamp,this._mods[this._mlen++]=wa):(wa=this.value[w]=this.newcell(w,I),this._adds[this._alen++]=wa);return wa},newcell(w,I){w={key:w,num:0,agg:null,tuple:this.newtuple(I,this._prev&&this._prev[w]),stamp:this.stamp,store:!1};if(!this._countOnly){I=this._measures;const wa=I.length;w.agg=Array(wa);for(let Ja=0;Ja<wa;++Ja)w.agg[Ja]=new I[Ja](w)}w.store&&(w.data=new rb);return w},newtuple(w,I){const wa=this._dnames,Ja=this._dims,jb=Ja.length,wb={};for(let ec=0;ec<
jb;++ec)wb[wa[ec]]=Ja[ec](w);return I?ia.replace(I.tuple,wb):ia.ingest(wb)},clean(){const w=this.value;for(const I in w)0===w[I].num&&delete w[I]},add(w){var I=this.cellkey(w);I=this.cell(I,w);I.num+=1;if(!this._countOnly){I.store&&I.data.add(w);I=I.agg;for(let wa=0,Ja=I.length;wa<Ja;++wa)I[wa].add(I[wa].get(w),w)}},rem(w){var I=this.cellkey(w);I=this.cell(I,w);--I.num;if(!this._countOnly){I.store&&I.data.rem(w);I=I.agg;for(let wa=0,Ja=I.length;wa<Ja;++wa)I[wa].rem(I[wa].get(w),w)}},celltuple(w){const I=
w.tuple,wa=this._counts;w.store&&w.data.values();for(let Ja=0,jb=wa.length;Ja<jb;++Ja)I[wa[Ja]]=w.num;if(!this._countOnly){w=w.agg;for(let Ja=0,jb=w.length;Ja<jb;++Ja)w[Ja].set(I)}return I},changes(w){const I=this._adds,wa=this._mods;var Ja=this._prev;const jb=this._drop,wb=w.add,ec=w.rem,Qb=w.mod;let qc;var Fc;if(Ja)for(Fc in Ja)qc=Ja[Fc],jb&&!qc.num||ec.push(qc.tuple);Ja=0;for(Fc=this._alen;Ja<Fc;++Ja)wb.push(this.celltuple(I[Ja])),I[Ja]=null;Ja=0;for(Fc=this._mlen;Ja<Fc;++Ja)qc=wa[Ja],(0===qc.num&&
jb?ec:Qb).push(this.celltuple(qc)),wa[Ja]=null;this._alen=this._mlen=0;this._prev=null;return w}});vb.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",
type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};h.inherits(vb,ia.Transform,{transform(w,I){const wa=!1!==w.interval,Ja=this._bins(w),jb=Ja.start,wb=Ja.step,ec=w.as||["bin0","bin1"],Qb=ec[0],qc=ec[1];w.modified()?(I=I.reflow(!0),w=I.SOURCE):w=I.modified(h.accessorFields(w.field))?I.ADD_MOD:I.ADD;I.visit(w,wa?Fc=>
{const zc=Ja(Fc);Fc[Qb]=zc;Fc[qc]=null==zc?null:jb+wb*(1+(zc-jb)/wb)}:Fc=>Fc[Qb]=Ja(Fc));return I.modifies(wa?ec:Qb)},_bins(w){if(this.value&&!w.modified())return this.value;const I=w.field,wa=Ya.bin(w),Ja=wa.step;let jb=wa.start,wb=jb+Math.ceil((wa.stop-jb)/Ja)*Ja;var ec;null!=(ec=w.anchor)&&(ec-=jb+Ja*Math.floor((ec-jb)/Ja),jb+=ec,wb+=ec);ec=function(Qb){Qb=h.toNumber(I(Qb));return null==Qb?null:Qb<jb?-Infinity:Qb>wb?Infinity:(Qb=Math.max(jb,Math.min(Qb,wb-Ja)),jb+Ja*Math.floor(1E-14+(Qb-jb)/Ja))};
ec.start=jb;ec.stop=wa.stop;ec.step=Ja;return this.value=h.accessor(ec,h.accessorFields(I),w.name||"bin_"+h.accessorName(I))}});fc.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};h.inherits(fc,ia.Transform,{transform(w,I){const wa=I.fork(I.ALL),Ja=gb(ia.tupleid,this.value,wa.materialize(wa.ADD).add),jb=w.sort;w=I.changed()||jb&&(w.modified("sort")||I.modified(jb.fields));wa.visit(wa.REM,Ja.remove);this.modified(w);this.value=wa.source=Ja.data(ia.stableCompare(jb),
w);I.source&&I.source.root&&(this.value.root=I.source.root);return wa}});h.inherits(sa,ia.Operator);Ba.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};h.inherits(Ba,ia.Transform,{transform(w,
I){var wa=zc=>bd=>{bd=Qb(bd);var md=wb;switch(w.case){case "upper":bd=bd.toUpperCase();break;case "lower":bd=bd.toLowerCase()}bd=bd.match(md)||[];var qd;md=0;for(var Gd=bd.length;md<Gd;++md)ec.test(qd=bd[md])||zc(qd)};const Ja=this._parameterCheck(w,I),jb=this._counts,wb=this._match,ec=this._stop,Qb=w.field,qc=w.as||["text","count"],Fc=wa(zc=>jb[zc]=1+(jb[zc]||0));wa=wa(zc=>--jb[zc]);Ja?I.visit(I.SOURCE,Fc):(I.visit(I.ADD,Fc),I.visit(I.REM,wa));return this._finish(I,qc)},_parameterCheck(w,I){let wa=
!1;if(w.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(w.stopwords||"")+"$","i"),wa=!0;if(w.modified("pattern")||!this._match)this._match=new RegExp(w.pattern||"[\\w']+","g"),wa=!0;if(w.modified("field")||I.modified(w.field.fields))wa=!0;wa&&(this._counts={});return wa},_finish(w,I){const wa=this._counts,Ja=this._tuples||(this._tuples={}),jb=I[0],wb=I[1];w=w.fork(w.NO_SOURCE|w.NO_FIELDS);let ec,Qb,qc;for(ec in wa)Qb=Ja[ec],qc=wa[ec]||0,!Qb&&qc?(Ja[ec]=Qb=ia.ingest({}),Qb[jb]=ec,Qb[wb]=
qc,w.add.push(Qb)):0===qc?(Qb&&w.rem.push(Qb),wa[ec]=null,Ja[ec]=null):Qb[wb]!==qc&&(Qb[wb]=qc,w.mod.push(Qb));return w.modifies(I)}});Sa.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,"default":["a","b"]}]};h.inherits(Sa,ia.Transform,{transform(w,I){const wa=I.fork(I.NO_SOURCE),Ja=w.as||["a","b"],jb=Ja[0],wb=Ja[1];var ec=!this.value||I.changed(I.ADD_REM)||w.modified("as")||w.modified("filter"),Qb=this.value;if(ec){Qb&&
(wa.rem=Qb);I=Qb=I.materialize(I.SOURCE).source;w=w.filter||h.truthy;ec=[];Qb={};for(var qc=I.length,Fc=0,zc,bd;Fc<qc;++Fc)for(Qb[jb]=bd=I[Fc],zc=0;zc<qc;++zc)Qb[wb]=I[zc],w(Qb)&&(ec.push(ia.ingest(Qb)),Qb={},Qb[jb]=bd);wa.add=this.value=ec}else wa.mod=Qb;wa.source=this.value;return wa.modifies(Ja)}});const xd={kde:Ya.randomKDE,mixture:Ya.randomMixture,normal:Ya.randomNormal,lognormal:Ya.randomLogNormal,uniform:Ya.randomUniform},sd=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},
{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];Ia.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",
type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:sd.concat({key:{"function":"mixture"},params:[{name:"distributions",type:"param",array:!0,params:sd},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};h.inherits(Ia,ia.Transform,{transform(w,
I){const wa=I.fork(I.NO_SOURCE|I.NO_FIELDS);if(!this.value||I.changed()||w.modified()){const Ja=Va(w.distribution,hb(I));I=w.steps||w.minsteps||25;const jb=w.steps||w.maxsteps||200;let wb=w.method||"pdf";"pdf"!==wb&&"cdf"!==wb&&h.error("Invalid density method: "+wb);w.extent||Ja.data||h.error("Missing density extent parameter.");wb=Ja[wb];const ec=w.as||["value","density"];w=w.extent||h.extent(Ja.data());w=Ya.sampleCurve(wb,w,I,jb).map(Qb=>{const qc={};qc[ec[0]]=Qb[0];qc[ec[1]]=Qb[1];return ia.ingest(qc)});
this.value&&(wa.rem=this.value);this.value=wa.add=wa.source=w}return wa}});Nb.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};h.inherits(Nb,ia.Transform,{transform(w,I){if(this.value&&!w.modified()&&!I.changed())return I;var wa=I.materialize(I.SOURCE).source;const Ja=qb(I.source,w.groupby,h.identity),
jb=w.smooth||!1,wb=w.field;wa=w.step||h.span(h.extent(wa,wb))/30;const ec=ia.stableCompare((md,qd)=>wb(md)-wb(qd));w=w.as||"bin";const Qb=Ja.length;let qc=Infinity,Fc=-Infinity,zc=0,bd;for(;zc<Qb;++zc){const md=Ja[zc].sort(ec);bd=-1;for(const qd of Ya.dotbin(md,wa,jb,wb))qd<qc&&(qc=qd),qd>Fc&&(Fc=qd),md[++bd][w]=qd}this.value={start:qc,stop:Fc,step:wa};return I.reflow(!0).modifies(w)}});h.inherits($a,ia.Operator);N.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};
h.inherits(N,ia.Transform,{transform(w,I){var wa=this.value;const Ja=w.field;w=I.changed()||I.modified(Ja.fields)||w.modified("field");let jb=wa[0],wb=wa[1];if(w||null==jb)jb=Infinity,wb=-Infinity;I.visit(w?I.SOURCE:I.ADD,ec=>{ec=h.toNumber(Ja(ec));null!=ec&&(ec<jb&&(jb=ec),ec>wb&&(wb=ec))});Number.isFinite(jb)&&Number.isFinite(wb)||((wa=h.accessorName(Ja))&&(wa=` for field "${wa}"`),I.dataflow.warn(`Infinite extent${wa}: [${jb}, ${wb}]`),jb=wb=void 0);this.value=[jb,wb]}});h.inherits(na,ia.Operator,
{connect(w){this.detachSubflow=w.detachSubflow;this.targets().add(w);return w.source=this},add(w){this.count+=1;this.value.add.push(w)},rem(w){--this.count;this.value.rem.push(w)},mod(w){this.value.mod.push(w)},init(w){this.value.init(w,w.NO_SOURCE)},evaluate(){return this.value}});h.inherits(oa,ia.Transform,{activate(w){this._targets[this._targets.active++]=w},subflow(w,I,wa,Ja){const jb=this.value;let wb=h.hasOwnProperty(jb,w)&&jb[w],ec;wb?wb.value.stamp<wa.stamp&&(wb.init(wa),this.activate(wb)):
(ec=Ja||(ec=this._group[w])&&ec.tuple,Ja=wa.dataflow,wb=new na(wa.fork(wa.NO_SOURCE),this),Ja.add(wb).connect(I(Ja,w,ec)),jb[w]=wb,this.activate(wb));return wb},clean(){var w=this.value;let I=0;for(const wa in w)if(0===w[wa].count){const Ja=w[wa].detachSubflow;Ja&&Ja();delete w[wa];++I}I&&(w=this._targets.filter(wa=>wa&&0<wa.count),this.initTargets(w))},initTargets(w){const I=this._targets,wa=I.length,Ja=w?w.length:0;let jb=0;for(;jb<Ja;++jb)I[jb]=w[jb];for(;jb<wa&&null!=I[jb];++jb)I[jb]=null;I.active=
Ja},transform(w,I){const wa=I.dataflow,Ja=w.key,jb=w.subflow,wb=this._keys,ec=w.modified("key"),Qb=qc=>this.subflow(qc,jb,I);this._group=w.group||{};this.initTargets();I.visit(I.REM,qc=>{const Fc=ia.tupleid(qc),zc=wb.get(Fc);void 0!==zc&&(wb.delete(Fc),Qb(zc).rem(qc))});I.visit(I.ADD,qc=>{const Fc=Ja(qc);wb.set(ia.tupleid(qc),Fc);Qb(Fc).add(qc)});ec||I.modified(Ja.fields)?I.visit(I.MOD,qc=>{const Fc=ia.tupleid(qc),zc=wb.get(Fc),bd=Ja(qc);zc===bd?Qb(bd).mod(qc):(wb.set(Fc,bd),Qb(zc).rem(qc),Qb(bd).add(qc))}):
I.changed(I.MOD)&&I.visit(I.MOD,qc=>{Qb(wb.get(ia.tupleid(qc))).mod(qc)});ec&&I.visit(I.REFLOW,qc=>{const Fc=ia.tupleid(qc),zc=wb.get(Fc),bd=Ja(qc);zc!==bd&&(wb.set(Fc,bd),Qb(zc).rem(qc),Qb(bd).add(qc))});I.clean()?wa.runAfter(()=>{this.clean();wb.clean()}):wb.empty>wa.cleanThreshold&&wa.runAfter(wb.clean);return I}});h.inherits(Na,ia.Operator);qa.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};h.inherits(qa,ia.Transform,{transform(w,I){function wa(bd){const md=
ia.tupleid(bd),qd=Fc(bd,w),Gd=jb.get(md);qd&&Gd?(jb.delete(md),ec.push(bd)):qd||Gd?zc&&qd&&!Gd&&qc.push(bd):(jb.set(md,1),Qb.push(bd))}const Ja=I.dataflow,jb=this.value,wb=I.fork(),ec=wb.add,Qb=wb.rem,qc=wb.mod,Fc=w.expr;let zc=!0;I.visit(I.REM,bd=>{const md=ia.tupleid(bd);jb.has(md)?jb.delete(md):Qb.push(bd)});I.visit(I.ADD,bd=>{Fc(bd,w)?ec.push(bd):jb.set(ia.tupleid(bd),1)});I.visit(I.MOD,wa);w.modified()&&(zc=!1,I.visit(I.REFLOW,wa));jb.empty>Ja.cleanThreshold&&Ja.runAfter(jb.clean);return wb}});
l.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};h.inherits(l,ia.Transform,{transform(w,I){const wa=I.fork(I.NO_SOURCE),Ja=w.fields,jb=Za(Ja,w.as||[]),wb=w.index||null,ec=jb.length;wa.rem=this.value;I.visit(I.SOURCE,Qb=>{const qc=Ja.map(Gd=>Gd(Qb)),Fc=qc.reduce((Gd,kd)=>Math.max(Gd,kd.length),0);let zc=0,bd,md,qd;for(;zc<Fc;++zc){md=ia.derive(Qb);for(bd=0;bd<ec;++bd)md[jb[bd]]=
null==(qd=qc[bd][zc])?null:qd;wb&&(md[wb]=zc);wa.add.push(md)}});this.value=wa.source=wa.add;wb&&wa.modifies(wb);return wa.modifies(jb)}});D.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};h.inherits(D,ia.Transform,{transform(w,I){const wa=I.fork(I.NO_SOURCE),Ja=w.fields,jb=Ja.map(h.accessorName);w=w.as||["key","value"];const wb=w[0],ec=w[1],Qb=Ja.length;wa.rem=this.value;
I.visit(I.SOURCE,qc=>{for(let Fc=0,zc;Fc<Qb;++Fc)zc=ia.derive(qc),zc[wb]=jb[Fc],zc[ec]=Ja[Fc](qc),wa.add.push(zc)});this.value=wa.source=wa.add;return wa.modifies(w)}});K.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};h.inherits(K,ia.Transform,{transform(w,I){const wa=w.expr,Ja=w.as,jb=w.modified(),wb=w.initonly?I.ADD:jb?I.SOURCE:I.modified(wa.fields)||I.modified(Ja)?I.ADD_MOD:
I.ADD;jb&&(I=I.materialize().reflow(!0));w.initonly||I.modifies(Ja);return I.visit(wb,ec=>ec[Ja]=wa(ec,w))}});h.inherits(x,ia.Transform,{transform(w,I){I=I.fork(I.ALL);const wa=w.generator;let Ja=this.value,jb=w.size-Ja.length,wb,ec;if(0<jb){for(wb=[];0<=--jb;)wb.push(ec=ia.ingest(wa(w))),Ja.push(ec);I.add=I.add.length?I.materialize(I.ADD).add.concat(wb):wb}else w=Ja.slice(0,-jb),I.rem=I.rem.length?I.materialize(I.REM).rem.concat(w):w,Ja=Ja.slice(-jb);I.source=this.value=Ja;return I}});const ed={value:"value",
median:function(w,I){var wa=.5;w=Float64Array.from(v(w,I));if((I=w.length)&&!isNaN(wa=+wa))if(0>=wa||2>I)w=ta(w);else if(1<=wa)w=W(w);else{wa*=I-1;I=Math.floor(wa);var Ja=W(O(w,I).subarray(0,I+1));w=ta(w.subarray(I+1));w=Ja+(w-Ja)*(wa-I)}else w=void 0;return w},mean:function(w,I){let wa=0,Ja=0;if(void 0===I)for(var jb of w)null!=jb&&(jb=+jb)>=jb&&(++wa,Ja+=jb);else{jb=-1;for(let wb of w)null!=(wb=I(wb,++jb,w))&&(wb=+wb)>=wb&&(++wa,Ja+=wb)}if(wa)return Ja/wa},min:ta,max:W},Jd=[];Ma.Definition={type:"Impute",
metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median","max","min"]},{name:"value","default":0}]};h.inherits(Ma,ia.Transform,{transform(w,I){var wa=I.fork(I.ALL),Ja=Pa(w),jb=Xa(w),wb=h.accessorName(w.field),ec=h.accessorName(w.key),Qb=(w.groupby||[]).map(h.accessorName);w=sb(I.source,w.groupby,w.key,w.keyvals);
I=[];var qc=this.value,Fc=w.domain.length,zc,bd,md;var qd=0;for(bd=w.length;qd<bd;++qd){var Gd=w[qd];var kd=Gd.values;var Od=NaN;for(zc=0;zc<Fc;++zc)if(null==Gd[zc]){var he=w.domain[zc];var Ne={_impute:!0};var Ie=0;for(md=kd.length;Ie<md;++Ie)Ne[Qb[Ie]]=kd[Ie];Ne[ec]=he;Ne[wb]=Number.isNaN(Od)?Od=Ja(Gd,jb):Od;I.push(ia.ingest(Ne))}}I.length&&(wa.add=wa.materialize(wa.ADD).add.concat(I));qc.length&&(wa.rem=wa.materialize(wa.REM).rem.concat(qc));this.value=I;return wa}});ib.Definition={type:"JoinAggregate",
metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:Hc},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};h.inherits(ib,pb,{transform(w,I){const wa=this,Ja=w.modified();let jb;wa.value&&(Ja||I.modified(wa._inputs,!0))?(jb=wa.value=Ja?wa.init(w):{},I.visit(I.SOURCE,wb=>wa.add(wb))):(jb=wa.value=wa.value||this.init(w),I.visit(I.REM,wb=>wa.rem(wb)),I.visit(I.ADD,wb=>wa.add(wb)));
wa.changes();I.visit(I.SOURCE,wb=>{h.extend(wb,jb[wa.cellkey(wb)].tuple)});return I.reflow(Ja).modifies(this._outputs)},changes(){const w=this._adds,I=this._mods;let wa,Ja;wa=0;for(Ja=this._alen;wa<Ja;++wa)this.celltuple(w[wa]),w[wa]=null;wa=0;for(Ja=this._mlen;wa<Ja;++wa)this.celltuple(I[wa]),I[wa]=null;this._alen=this._mlen=0}});Sb.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",
"default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};h.inherits(Sb,ia.Transform,{transform(w,I){const wa=I.fork(I.NO_SOURCE|I.NO_FIELDS);
if(!this.value||I.changed()||w.modified()){I=I.materialize(I.SOURCE).source;const Ja=qb(I,w.groupby,w.field),jb=(w.groupby||[]).map(h.accessorName),wb=w.bandwidth,ec=w.cumulative?"cdf":"pdf",Qb=w.as||["value","density"],qc=[];let Fc=w.extent,zc=w.steps||w.minsteps||25,bd=w.steps||w.maxsteps||200;"pdf"!==ec&&"cdf"!==ec&&h.error("Invalid density method: "+ec);"shared"===w.resolve&&(Fc||(Fc=h.extent(I,w.field)),zc=bd=w.steps||bd);Ja.forEach(md=>{const qd=Ya.randomKDE(md,wb)[ec],Gd=w.counts?md.length:
1,kd=Fc||h.extent(md);Ya.sampleCurve(qd,kd,zc,bd).forEach(Od=>{const he={};for(let Ne=0;Ne<jb.length;++Ne)he[jb[Ne]]=md.dims[Ne];he[Qb[0]]=Od[0];he[Qb[1]]=Od[1]*Gd;qc.push(ia.ingest(he))})});this.value&&(wa.rem=this.value);this.value=wa.add=wa.source=qc}return wa}});h.inherits(Y,ia.Operator);h.inherits(Kb,ia.Transform,{transform(w,I){const wa=I.dataflow;return this._pending?ac(this,I,this._pending):pc(w)?I.StopPropagation:w.values?ac(this,I,wa.parse(w.values,w.format)):w.async?{async:wa.request(w.url,
w.format).then(Ja=>{this._pending=h.array(Ja.data);return jb=>jb.touch(this)})}:wa.request(w.url,w.format).then(Ja=>ac(this,I,h.array(Ja.data)))}});Mb.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};h.inherits(Mb,ia.Transform,
{transform(w,I){const wa=w.fields,Ja=w.index,jb=w.values,wb=null==w.default?null:w.default;var ec=w.modified();const Qb=wa.length;let qc=ec?I.SOURCE:I.ADD,Fc=I,zc=w.as,bd;jb?(bd=jb.length,1<Qb&&!zc&&h.error('Multi-field lookup requires explicit "as" parameter.'),zc&&zc.length!==Qb*bd&&h.error('The "as" parameter has too few output field names.'),zc=zc||jb.map(h.accessorName),w=function(md){for(var qd=0,Gd=0,kd,Od;qd<Qb;++qd)if(Od=Ja.get(wa[qd](md)),null==Od)for(kd=0;kd<bd;++kd,++Gd)md[zc[Gd]]=wb;
else for(kd=0;kd<bd;++kd,++Gd)md[zc[Gd]]=jb[kd](Od)}):(zc||h.error("Missing output field names."),w=function(md){for(var qd=0,Gd;qd<Qb;++qd)Gd=Ja.get(wa[qd](md)),md[zc[qd]]=null==Gd?wb:Gd});ec?Fc=I.reflow(!0):(ec=wa.some(md=>I.modified(md.fields)),qc|=ec?I.MOD:0);I.visit(qc,w);return Fc.modifies(zc)}});h.inherits(Ob,ia.Operator);h.inherits(hd,ia.Operator);h.inherits(Bb,ia.Transform,{transform(w,I){this.modified(w.modified());this.value=w;return I.fork(I.NO_SOURCE|I.NO_FIELDS)}});Ua.Definition={type:"Pivot",
metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Hc,"default":"sum"},{name:"limit",type:"number","default":0},{name:"key",type:"field"}]};h.inherits(Ua,pb,{_transform:pb.prototype.transform,transform(w,I){return this._transform(xb(w,I),I)}});h.inherits(Zb,oa,{transform(w,I){const wa=w.subflow,Ja=w.field,jb=wb=>this.subflow(ia.tupleid(wb),wa,I,wb);(w.modified("field")||
Ja&&I.modified(h.accessorFields(Ja)))&&h.error("PreFacet does not support field modification.");this.initTargets();Ja?(I.visit(I.MOD,wb=>{const ec=jb(wb);Ja(wb).forEach(Qb=>ec.mod(Qb))}),I.visit(I.ADD,wb=>{const ec=jb(wb);Ja(wb).forEach(Qb=>ec.add(ia.ingest(Qb)))}),I.visit(I.REM,wb=>{const ec=jb(wb);Ja(wb).forEach(Qb=>ec.rem(Qb))})):(I.visit(I.MOD,wb=>jb(wb).mod(wb)),I.visit(I.ADD,wb=>jb(wb).add(wb)),I.visit(I.REM,wb=>jb(wb).rem(wb)));I.clean()&&I.runAfter(()=>this.clean());return I}});ic.Definition=
{type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string","null":!0,array:!0}]};h.inherits(ic,ia.Transform,{transform(w,I){const wa=I.fork(I.NO_SOURCE),Ja=w.fields,jb=Za(w.fields,w.as||[]),wb=Ja?(Qb,qc)=>{for(let Fc=0,zc=Ja.length;Fc<zc;++Fc)qc[jb[Fc]]=Ja[Fc](Qb);return qc}:ia.rederive;let ec;this.value?ec=this.value:(I=I.addAll(),ec=this.value={});I.visit(I.REM,Qb=>{Qb=ia.tupleid(Qb);wa.rem.push(ec[Qb]);ec[Qb]=null});I.visit(I.ADD,Qb=>
{const qc=wb(Qb,ia.ingest({}));ec[ia.tupleid(Qb)]=qc;wa.add.push(qc)});I.visit(I.MOD,Qb=>{wa.mod.push(wb(Qb,ec[ia.tupleid(Qb)]))});return wa}});h.inherits(Ac,ia.Transform,{transform(w,I){this.value=w.value;return w.modified("value")?I.fork(I.NO_SOURCE|I.NO_FIELDS):I.StopPropagation}});nd.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",
"default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};h.inherits(nd,ia.Transform,{transform(w,I){const wa=I.fork(I.NO_SOURCE|I.NO_FIELDS),Ja=w.as||["prob","value"];if(this.value&&!w.modified()&&!I.changed())return wa.source=this.value,wa;I=I.materialize(I.SOURCE).source;I=qb(I,w.groupby,w.field);const jb=(w.groupby||[]).map(h.accessorName),wb=[],ec=w.step||.01,Qb=w.probs||va(ec/2,1-1E-14,ec),qc=Qb.length;I.forEach(Fc=>{const zc=Ya.quantiles(Fc,Qb);for(let bd=0;bd<qc;++bd){const md=
{};for(let qd=0;qd<jb.length;++qd)md[jb[qd]]=Fc.dims[qd];md[Ja[0]]=Qb[bd];md[Ja[1]]=zc[bd];wb.push(ia.ingest(md))}});this.value&&(wa.rem=this.value);this.value=wa.add=wa.source=wb;return wa}});h.inherits(Uc,ia.Transform,{transform(w,I){let wa,Ja;this.value?Ja=this.value:(wa=I=I.addAll(),Ja=this.value={});w.derive&&(wa=I.fork(I.NO_SOURCE),I.visit(I.REM,jb=>{jb=ia.tupleid(jb);wa.rem.push(Ja[jb]);Ja[jb]=null}),I.visit(I.ADD,jb=>{const wb=ia.derive(jb);Ja[ia.tupleid(jb)]=wb;wa.add.push(wb)}),I.visit(I.MOD,
jb=>{const wb=Ja[ia.tupleid(jb)];for(const ec in jb)wb[ec]=jb[ec],wa.modifies(ec);wa.mod.push(wb)}));return wa}});ma.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};h.inherits(ma,ia.Transform,{transform(w,I){function wa(zc){let bd,md;Qb.length<wb?Qb.push(zc):(md=~~((qc+1)*Ya.random()),md<Qb.length&&md>=Fc&&(bd=Qb[md],ec[ia.tupleid(bd)]&&Ja.rem.push(bd),Qb[md]=zc));++qc}const Ja=I.fork(I.NO_SOURCE);var jb=w.modified("size");const wb=w.size,ec=this.value.reduce((zc,
bd)=>(zc[ia.tupleid(bd)]=1,zc),{});let Qb=this.value,qc=this.count,Fc=0;I.rem.length&&(I.visit(I.REM,zc=>{const bd=ia.tupleid(zc);ec[bd]&&(ec[bd]=-1,Ja.rem.push(zc));--qc}),Qb=Qb.filter(zc=>-1!==ec[ia.tupleid(zc)]));(I.rem.length||jb)&&Qb.length<wb&&I.source&&(Fc=qc=Qb.length,I.visit(I.SOURCE,zc=>{ec[ia.tupleid(zc)]||wa(zc)}),Fc=-1);if(jb&&Qb.length>wb){w=Qb.length-wb;for(jb=0;jb<w;++jb)ec[ia.tupleid(Qb[jb])]=-1,Ja.rem.push(Qb[jb]);Qb=Qb.slice(w)}I.mod.length&&I.visit(I.MOD,zc=>{ec[ia.tupleid(zc)]&&
Ja.mod.push(zc)});I.add.length&&I.visit(I.ADD,wa);if(I.add.length||0>Fc)Ja.add=Qb.filter(zc=>!ec[ia.tupleid(zc)]);this.count=qc;this.value=Ja.source=Qb;return Ja}});Ha.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};h.inherits(Ha,ia.Transform,{transform(w,I){if(!this.value||w.modified()){var wa=I.materialize().fork(I.MOD),
Ja=w.as||"data";wa.rem=this.value?I.rem.concat(this.value):I.rem;this.value=va(w.start,w.stop,w.step||1).map(jb=>{const wb={};wb[Ja]=jb;return ia.ingest(wb)});wa.add=I.add.concat(this.value);return wa}}});h.inherits(fb,ia.Transform,{transform(w,I){this.value=I.source;return I.changed()?I.fork(I.NO_SOURCE|I.NO_FIELDS):I.StopPropagation}});const Hd=["unit0","unit1"];S.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},
{name:"units",type:"enum",values:ub.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum","default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":Hd}]};h.inherits(S,ia.Transform,{transform(w,I){const wa=w.field,Ja=!1!==w.interval;var jb="utc"===w.timezone;const wb=this._floor(w,I),ec=(jb?ub.utcInterval:ub.timeInterval)(wb.unit).offset;jb=w.as||
Hd;const Qb=jb[0],qc=jb[1],Fc=wb.step;let zc=wb.start||Infinity,bd=wb.stop||-Infinity,md=I.ADD;if(w.modified()||I.changed(I.REM)||I.modified(h.accessorFields(wa)))I=I.reflow(!0),md=I.SOURCE,zc=Infinity,bd=-Infinity;I.visit(md,qd=>{var Gd=wa(qd);let kd;null==Gd?(qd[Qb]=null,Ja&&(qd[qc]=null)):(qd[Qb]=Gd=kd=wb(Gd),Ja&&(qd[qc]=kd=ec(Gd,Fc)),Gd<zc&&(zc=Gd),kd>bd&&(bd=kd))});wb.start=zc;wb.stop=bd;return I.modifies(Ja?jb:Qb)},_floor(w,I){var wa="utc"===w.timezone;const {units:Ja,step:jb}=w.units?{units:w.units,
step:w.step||1}:ub.timeBin({extent:w.extent||h.extent(I.materialize(I.SOURCE).source,w.field),maxbins:w.maxbins});w=ub.timeUnits(Ja);I=this.value||{};wa=(wa?ub.utcFloor:ub.timeFloor)(w,jb);wa.unit=h.peek(w);wa.units=w;wa.step=jb;wa.start=I.start;wa.stop=I.stop;return this.value=wa}});h.inherits(r,ia.Transform,{transform(w,I){const wa=I.dataflow,Ja=w.field,jb=this.value,wb=Qb=>jb.set(Ja(Qb),Qb);let ec=!0;w.modified("field")||I.modified(Ja.fields)?(jb.clear(),I.visit(I.SOURCE,wb)):I.changed()?(I.visit(I.REM,
Qb=>jb.delete(Ja(Qb))),I.visit(I.ADD,wb)):ec=!1;this.modified(ec);jb.empty>wa.cleanThreshold&&wa.runAfter(jb.clean);return I.fork()}});h.inherits(da,ia.Transform,{transform(w,I){if(!this.value||w.modified("field")||w.modified("sort")||I.changed()||w.sort&&I.modified(w.sort.fields))this.value=(w.sort?I.source.slice().sort(ia.stableCompare(w.sort)):I.source).map(w.field)}});const vd={row_number:function(){return{next:w=>w.index+1}},rank:function(){let w;return{init:()=>w=1,next:I=>{const wa=I.index,
Ja=I.data;return wa&&I.compare(Ja[wa-1],Ja[wa])?w=wa+1:w}}},dense_rank:function(){let w;return{init:()=>w=1,next:I=>{const wa=I.index,Ja=I.data;return wa&&I.compare(Ja[wa-1],Ja[wa])?++w:w}}},percent_rank:function(){const w=vd.rank(),I=w.next;return{init:w.init,next:wa=>(I(wa)-1)/(wa.data.length-1)}},cume_dist:function(){let w;return{init:()=>w=0,next:I=>{const wa=I.data,Ja=I.compare;I=I.index;if(w<I){for(;I+1<wa.length&&!Ja(wa[I],wa[I+1]);)++I;w=I}return(1+w)/wa.length}}},ntile:function(w,I){I=+I;
0<I||h.error("ntile num must be greater than zero.");w=vd.cume_dist();const wa=w.next;return{init:w.init,next:Ja=>Math.ceil(I*wa(Ja))}},lag:function(w,I){I=+I||1;return{next:wa=>{const Ja=wa.index-I;return 0<=Ja?w(wa.data[Ja]):null}}},lead:function(w,I){I=+I||1;return{next:wa=>{const Ja=wa.index+I;wa=wa.data;return Ja<wa.length?w(wa[Ja]):null}}},first_value:function(w){return{next:I=>w(I.data[I.i0])}},last_value:function(w){return{next:I=>w(I.data[I.i1-1])}},nth_value:function(w,I){I=+I;0<I||h.error("nth_value nth must be greater than zero.");
return{next:wa=>{const Ja=wa.i0+(I-1);return Ja<wa.i1?w(wa.data[Ja]):null}}},prev_value:function(w){let I;return{init:()=>I=null,next:wa=>{wa=w(wa.data[wa.index]);return null!=wa?I=wa:I}}},next_value:function(w){let I,wa;return{init:()=>(I=null,wa=-1),next:Ja=>{var jb=Ja.data;if(Ja.index<=wa)jb=I;else{a:{Ja=Ja.index;for(let wb=jb.length;Ja<wb;++Ja)if(null!=w(jb[Ja]))break a;Ja=-1}jb=0>(wa=Ja)?(wa=jb.length,I=null):I=w(jb[wa])}return jb}}}},we=Object.keys(vd),Ed=Da.prototype;Ed.init=function(){this.windows.forEach(w=>
w.init());this.cell&&this.cell.init()};Ed.update=function(w,I){const wa=this.cell,Ja=this.windows,jb=w.data,wb=Ja&&Ja.length;let ec;if(wa){for(ec=w.p0;ec<w.i0;++ec)wa.rem(jb[ec]);for(ec=w.p1;ec<w.i1;++ec)wa.add(jb[ec]);wa.set(I)}for(ec=0;ec<wb;++ec)Ja[ec].update(w,I)};kb.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:we.concat(Hc)},{name:"params",type:"number","null":!0,array:!0},
{name:"aggregate_params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};h.inherits(kb,ia.Transform,{transform(w,I){this.stamp=I.stamp;const wa=w.modified(),Ja=ia.stableCompare(w.sort),jb=dc(w.groupby),wb=Qb=>this.group(jb(Qb));let ec=this.state;if(!ec||wa)ec=this.state=new Da(w);wa||I.modified(ec.inputs)?
(this.value={},I.visit(I.SOURCE,Qb=>wb(Qb).add(Qb))):(I.visit(I.REM,Qb=>wb(Qb).remove(Qb)),I.visit(I.ADD,Qb=>wb(Qb).add(Qb)));for(let Qb=0,qc=this._mlen;Qb<qc;++Qb)Vb(this._mods[Qb],ec,Ja,w);this._mlen=0;this._mods=[];return I.reflow(wa).modifies(ec.outputs)},group(w){let I=this.value[w];I||(I=this.value[w]=gb(ia.tupleid),I.stamp=-1);I.stamp<this.stamp&&(I.stamp=this.stamp,this._mods[this._mlen++]=I);return I}});t.aggregate=pb;t.bin=vb;t.collect=fc;t.compare=sa;t.countpattern=Ba;t.cross=Sa;t.density=
Ia;t.dotbin=Nb;t.expression=$a;t.extent=N;t.facet=oa;t.field=Na;t.filter=qa;t.flatten=l;t.fold=D;t.formula=K;t.generate=x;t.impute=Ma;t.joinaggregate=ib;t.kde=Sb;t.key=Y;t.load=Kb;t.lookup=Mb;t.multiextent=Ob;t.multivalues=hd;t.params=Bb;t.pivot=Ua;t.prefacet=Zb;t.project=ic;t.proxy=Ac;t.quantile=nd;t.relay=Uc;t.sample=ma;t.sequence=Ha;t.sieve=fb;t.subflow=na;t.timeunit=S;t.tupleindex=r;t.values=da;t.window=kb})};
shadow$provide[32]=function(Db,nb,Dc,Wa){(function(t,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa):"function"===typeof define&&define.amd?define(["exports"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={}))})(this,function(t){function h(ia,Ya){if("undefined"!==typeof document&&document.createElement){const ub=document.createElement("canvas");if(ub&&ub.getContext)return ub.width=ia,ub.height=Ya,ub}return null}t.canvas=h;t.domCanvas=h;t.image=()=>"undefined"!==typeof Image?
Image:null})};
shadow$provide[33]=function(Db,nb,Dc,Wa){(function(t,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,nb(21),nb(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-time"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega,t.vega))})(this,function(t,h,ia){function Ya(m,H,L){H=m-H+2*L;return m?0<H?H:1:0}function ub(m){return function(H){let L=H[0];H=H[1];let ka;H<L&&(ka=L,L=H,H=ka);return[m.invert(L),m.invert(H)]}}function Yb(m){return function(H){const L=
m.range();let ka=H[0];H=H[1];let Ra=-1,db;let mb;if(H<ka){var Jb=ka;ka=H;H=Jb}Jb=0;for(mb=L.length;Jb<mb;++Jb)L[Jb]>=ka&&L[Jb]<=H&&(0>Ra&&(Ra=Jb),db=Jb);if(!(0>Ra))return ka=m.invertExtent(L[Ra]),H=m.invertExtent(L[db]),[void 0===ka[0]?ka[1]:ka[0],void 0===H[1]?H[0]:H[1]]}}function dc(m,H){return null==m||null==H?NaN:m<H?-1:m>H?1:m>=H?0:NaN}function Wb(m,H){return null==m||null==H?NaN:H<m?-1:H>m?1:H>=m?0:NaN}function nc(m){function H(db,mb,Jb=0,tc=db.length){if(Jb<tc){if(0!==L(mb,mb))return tc;do{const ad=
Jb+tc>>>1;0>ka(db[ad],mb)?Jb=ad+1:tc=ad}while(Jb<tc)}return Jb}let L,ka,Ra;2!==m.length?(L=dc,ka=(db,mb)=>dc(m(db),mb),Ra=(db,mb)=>m(db)-mb):(L=m===dc||m===Wb?m:Ab,Ra=ka=m);return{left:H,center:function(db,mb,Jb=0,tc=db.length){tc=H(db,mb,Jb,tc-1);return tc>Jb&&Ra(db[tc-1],mb)>-Ra(db[tc],mb)?tc-1:tc},right:function(db,mb,Jb=0,tc=db.length){if(Jb<tc){if(0!==L(mb,mb))return tc;do{const ad=Jb+tc>>>1;0>=ka(db[ad],mb)?Jb=ad+1:tc=ad}while(Jb<tc)}return Jb}}}function Ab(){return 0}function Ub(m){return null===
m?NaN:+m}function jc({_intern:m,_key:H},L){H=H(L);return m.has(H)?m.get(H):L}function Ea({_intern:m,_key:H},L){H=H(L);if(m.has(H))return m.get(H);m.set(H,L);return L}function bb({_intern:m,_key:H},L){H=H(L);m.has(H)&&(L=m.get(H),m.delete(H));return L}function tb(m){return null!==m&&"object"===typeof m?m.valueOf():m}function rb(m,H,L){var ka=(H-m)/Math.max(0,L),Ra=Math.floor(Math.log10(ka));ka/=Math.pow(10,Ra);ka=ka>=Uf?10:ka>=gi?5:ka>=vh?2:1;let db;0>Ra?(db=Math.pow(10,-Ra)/ka,Ra=Math.round(m*db),
ka=Math.round(H*db),Ra/db<m&&++Ra,ka/db>H&&--ka,db=-db):(db=Math.pow(10,Ra)*ka,Ra=Math.round(m/db),ka=Math.round(H/db),Ra*db<m&&++Ra,ka*db>H&&--ka);return ka<Ra&&.5<=L&&2>L?rb(m,H,2*L):[Ra,ka,db]}function pb(m,H,L){H=+H;m=+m;L=+L;if(!(0<L))return[];if(m===H)return[m];var ka=H<m;const [Ra,db,mb]=ka?rb(H,m,L):rb(m,H,L);if(!(db>=Ra))return[];m=db-Ra+1;H=Array(m);if(ka)if(0>mb)for(ka=0;ka<m;++ka)H[ka]=(db-ka)/-mb;else for(ka=0;ka<m;++ka)H[ka]=(db-ka)*mb;else if(0>mb)for(ka=0;ka<m;++ka)H[ka]=(Ra+ka)/-mb;
else for(ka=0;ka<m;++ka)H[ka]=(Ra+ka)*mb;return H}function vb(m,H,L){return rb(+m,+H,+L)[2]}function gb(m,H,L){H=+H;m=+m;L=+L;const ka=H<m;m=ka?vb(H,m,L):vb(m,H,L);return(ka?-1:1)*(0>m?1/-m:m)}function fc(m,H,L=Ub){if((ka=m.length)&&!isNaN(H=+H)){if(0>=H||2>ka)return+L(m[0],0,m);if(1<=H)return+L(m[ka-1],ka-1,m);var ka;H*=ka-1;ka=Math.floor(H);var Ra=+L(m[ka],ka,m);m=+L(m[ka+1],ka+1,m);return Ra+(m-Ra)*(H-ka)}}function sa(m,H,L){m=+m;H=+H;L=2>(Ra=arguments.length)?(H=m,m=0,1):3>Ra?1:+L;for(var ka=
-1,Ra=Math.max(0,Math.ceil((H-m)/L))|0,db=Array(Ra);++ka<Ra;)db[ka]=m+ka*L;return db}function ha(m,H){switch(arguments.length){case 0:break;case 1:this.range(m);break;default:this.range(H).domain(m)}return this}function Ba(m,H){switch(arguments.length){case 0:break;case 1:"function"===typeof m?this.interpolator(m):this.range(m);break;default:this.domain(m),"function"===typeof H?this.interpolator(H):this.range(H)}return this}function Sa(){function m(db){let mb=H.get(db);if(void 0===mb){if(Ra!==Qg)return Ra;
H.set(db,mb=L.push(db)-1)}return ka[mb%ka.length]}var H=new oh,L=[],ka=[],Ra=Qg;m.domain=function(db){if(!arguments.length)return L.slice();L=[];H=new oh;for(const mb of db)H.has(mb)||H.set(mb,L.push(mb)-1);return m};m.range=function(db){return arguments.length?(ka=Array.from(db),m):ka.slice()};m.unknown=function(db){return arguments.length?(Ra=db,m):Ra};m.copy=function(){return Sa(L,ka).unknown(Ra)};ha.apply(m,arguments);return m}function Va(m,H,L){m.prototype=H.prototype=L;L.constructor=m}function Ia(m,
H){m=Object.create(m.prototype);for(var L in H)m[L]=H[L];return m}function hb(){}function Za(){return this.rgb().formatHex()}function qb(){return this.rgb().formatRgb()}function Nb(m){var H,L;m=(m+"").trim().toLowerCase();return(H=Th.exec(m))?(L=H[1].length,H=parseInt(H[1],16),6===L?$a(H):3===L?new oa(H>>8&15|H>>4&240,H>>4&15|H&240,(H&15)<<4|H&15,1):8===L?V(H>>24&255,H>>16&255,H>>8&255,(H&255)/255):4===L?V(H>>12&15|H>>8&240,H>>8&15|H>>4&240,H>>4&15|H&240,((H&15)<<4|H&15)/255):null):(H=Xi.exec(m))?
new oa(H[1],H[2],H[3],1):(H=Ki.exec(m))?new oa(255*H[1]/100,255*H[2]/100,255*H[3]/100,1):(H=Li.exec(m))?V(H[1],H[2],H[3],H[4]):(H=hi.exec(m))?V(255*H[1]/100,255*H[2]/100,255*H[3]/100,H[4]):(H=Yi.exec(m))?K(H[1],H[2]/100,H[3]/100,1):(H=Mi.exec(m))?K(H[1],H[2]/100,H[3]/100,H[4]):Zg.hasOwnProperty(m)?$a(Zg[m]):"transparent"===m?new oa(NaN,NaN,NaN,0):null}function $a(m){return new oa(m>>16&255,m>>8&255,m&255,1)}function V(m,H,L,ka){0>=ka&&(m=H=L=NaN);return new oa(m,H,L,ka)}function N(m){m instanceof
hb||(m=Nb(m));if(!m)return new oa;m=m.rgb();return new oa(m.r,m.g,m.b,m.opacity)}function na(m,H,L,ka){return 1===arguments.length?N(m):new oa(m,H,L,null==ka?1:ka)}function oa(m,H,L,ka){this.r=+m;this.g=+H;this.b=+L;this.opacity=+ka}function Na(){return`#${D(this.r)}${D(this.g)}${D(this.b)}`}function la(){const m=qa(this.opacity);return`${1===m?"rgb(":"rgba("}${l(this.r)}, ${l(this.g)}, ${l(this.b)}${1===m?")":`, ${m})`}`}function qa(m){return isNaN(m)?1:Math.max(0,Math.min(1,m))}function l(m){return Math.max(0,
Math.min(255,Math.round(m)||0))}function D(m){m=l(m);return(16>m?"0":"")+m.toString(16)}function K(m,H,L,ka){0>=ka?m=H=L=NaN:0>=L||1<=L?m=H=NaN:0>=H&&(m=NaN);return new A(m,H,L,ka)}function x(m){if(m instanceof A)return new A(m.h,m.s,m.l,m.opacity);m instanceof hb||(m=Nb(m));if(!m)return new A;if(m instanceof A)return m;m=m.rgb();var H=m.r/255,L=m.g/255,ka=m.b/255,Ra=Math.min(H,L,ka),db=Math.max(H,L,ka),mb=NaN,Jb=db-Ra,tc=(db+Ra)/2;Jb?(mb=H===db?(L-ka)/Jb+6*(L<ka):L===db?(ka-H)/Jb+2:(H-L)/Jb+4,Jb/=
.5>tc?db+Ra:2-db-Ra,mb*=60):Jb=0<tc&&1>tc?0:mb;return new A(mb,Jb,tc,m.opacity)}function U(m,H,L,ka){return 1===arguments.length?x(m):new A(m,H,L,null==ka?1:ka)}function A(m,H,L,ka){this.h=+m;this.s=+H;this.l=+L;this.opacity=+ka}function X(m){m=(m||0)%360;return 0>m?m+360:m}function G(m){return Math.max(0,Math.min(1,m||0))}function v(m,H,L){return 255*(60>m?H+(L-H)*m/60:180>m?L:240>m?H+(L-H)*(240-m)/60:H)}function z(m){if(m instanceof W)return new W(m.l,m.a,m.b,m.opacity);if(m instanceof Xa)return sb(m);
m instanceof oa||(m=N(m));var H=va(m.r),L=va(m.g),ka=va(m.b),Ra=ta(.2225045*H+.7168786*L+.0606169*ka);if(H===L&&L===ka)var db=H=Ra;else db=ta((.4360747*H+.3850649*L+.1430804*ka)/.96422),H=ta((.0139322*H+.0971045*L+.7141733*ka)/.82521);return new W(116*Ra-16,500*(db-Ra),200*(Ra-H),m.opacity)}function F(m,H,L,ka){return 1===arguments.length?z(m):new W(m,H,L,null==ka?1:ka)}function W(m,H,L,ka){this.l=+m;this.a=+H;this.b=+L;this.opacity=+ka}function ta(m){return m>gg?Math.pow(m,1/3):m/wg+eh}function O(m){return m>
Uh?m*m*m:wg*(m-eh)}function ja(m){return 255*(.0031308>=m?12.92*m:1.055*Math.pow(m,1/2.4)-.055)}function va(m){return.04045>=(m/=255)?m/12.92:Math.pow((m+.055)/1.055,2.4)}function Ma(m){if(m instanceof Xa)return new Xa(m.h,m.c,m.l,m.opacity);m instanceof W||(m=z(m));if(0===m.a&&0===m.b)return new Xa(NaN,0<m.l&&100>m.l?0:NaN,m.l,m.opacity);var H=Math.atan2(m.b,m.a)*ph;return new Xa(0>H?H+360:H,Math.sqrt(m.a*m.a+m.b*m.b),m.l,m.opacity)}function Pa(m,H,L,ka){return 1===arguments.length?Ma(m):new Xa(m,
H,L,null==ka?1:ka)}function Xa(m,H,L,ka){this.h=+m;this.c=+H;this.l=+L;this.opacity=+ka}function sb(m){if(isNaN(m.h))return new W(m.l,0,0,m.opacity);var H=m.h*Ni;return new W(m.l,Math.cos(H)*m.c,Math.sin(H)*m.c,m.opacity)}function ib(m,H,L,ka){if(1===arguments.length){var Ra=m;if(Ra instanceof Sb)Ra=new Sb(Ra.h,Ra.s,Ra.l,Ra.opacity);else{Ra instanceof oa||(Ra=N(Ra));var db=Ra.g/255,mb=Ra.b/255,Jb=(Zi*mb+Ra.r/255*-1.7884503806-3.5172982438*db)/(Zi+-1.7884503806-3.5172982438);mb-=Jb;var tc=(1.97294*
(db-Jb)- -.29227*mb)/-.90649;mb=(db=Math.sqrt(tc*tc+mb*mb)/(1.97294*Jb*(1-Jb)))?Math.atan2(tc,mb)*ph-120:NaN;Ra=new Sb(0>mb?mb+360:mb,db,Jb,Ra.opacity)}}else Ra=new Sb(m,H,L,null==ka?1:ka);return Ra}function Sb(m,H,L,ka){this.h=+m;this.s=+H;this.l=+L;this.opacity=+ka}function Y(m,H,L,ka,Ra){var db=m*m,mb=db*m;return((1-3*m+3*db-mb)*H+(4-6*db+3*mb)*L+(1+3*m+3*db-3*mb)*ka+mb*Ra)/6}function Fa(m){var H=m.length-1;return function(L){var ka=0>=L?L=0:1<=L?(L=1,H-1):Math.floor(L*H),Ra=m[ka],db=m[ka+1];return Y((L-
ka/H)*H,0<ka?m[ka-1]:2*Ra-db,Ra,db,ka<H-1?m[ka+2]:2*db-Ra)}}function Kb(m){var H=m.length;return function(L){var ka=Math.floor((0>(L%=1)?++L:L)*H);return Y((L-ka/H)*H,m[(ka+H-1)%H],m[ka%H],m[(ka+1)%H],m[(ka+2)%H])}}function pc(m,H){return function(L){return m+L*H}}function ac(m,H,L){return m=Math.pow(m,L),H=Math.pow(H,L)-m,L=1/L,function(ka){return Math.pow(m+ka*H,L)}}function Mb(m,H){var L=H-m;return L?pc(m,180<L||-180>L?L-360*Math.round(L/360):L):ii(isNaN(m)?H:m)}function Ob(m){return 1===(m=+m)?
xc:function(H,L){return L-H?ac(H,L,m):ii(isNaN(H)?L:H)}}function xc(m,H){var L=H-m;return L?pc(m,L):ii(isNaN(m)?H:m)}function hd(m){return function(H){var L=H.length,ka=Array(L),Ra=Array(L),db=Array(L),mb;for(mb=0;mb<L;++mb){var Jb=na(H[mb]);ka[mb]=Jb.r||0;Ra[mb]=Jb.g||0;db[mb]=Jb.b||0}ka=m(ka);Ra=m(Ra);db=m(db);Jb.opacity=1;return function(tc){Jb.r=ka(tc);Jb.g=Ra(tc);Jb.b=db(tc);return Jb+""}}}function ra(m,H){H||(H=[]);var L=m?Math.min(H.length,m.length):0,ka=H.slice(),Ra;return function(db){for(Ra=
0;Ra<L;++Ra)ka[Ra]=m[Ra]*(1-db)+H[Ra]*db;return ka}}function Bb(m){return ArrayBuffer.isView(m)&&!(m instanceof DataView)}function Ua(m,H){var L=H?H.length:0,ka=m?Math.min(L,m.length):0,Ra=Array(ka),db=Array(L),mb;for(mb=0;mb<ka;++mb)Ra[mb]=nd(m[mb],H[mb]);for(;mb<L;++mb)db[mb]=H[mb];return function(Jb){for(mb=0;mb<ka;++mb)db[mb]=Ra[mb](Jb);return db}}function xb(m,H){var L=new Date;return m=+m,H=+H,function(ka){return L.setTime(m*(1-ka)+H*ka),L}}function Fb(m,H){return m=+m,H=+H,function(L){return m*
(1-L)+H*L}}function Lb(m,H){var L={},ka={},Ra;if(null===m||"object"!==typeof m)m={};if(null===H||"object"!==typeof H)H={};for(Ra in H)Ra in m?L[Ra]=nd(m[Ra],H[Ra]):ka[Ra]=H[Ra];return function(db){for(Ra in L)ka[Ra]=L[Ra](db);return ka}}function Zb(m){return function(){return m}}function ic(m){return function(H){return m(H)+""}}function Ac(m,H){var L=yh.lastIndex=Gh.lastIndex=0,ka,Ra,db,mb=-1,Jb=[],tc=[];m+="";for(H+="";(ka=yh.exec(m))&&(Ra=Gh.exec(H));)(db=Ra.index)>L&&(db=H.slice(L,db),Jb[mb]?Jb[mb]+=
db:Jb[++mb]=db),(ka=ka[0])===(Ra=Ra[0])?Jb[mb]?Jb[mb]+=Ra:Jb[++mb]=Ra:(Jb[++mb]=null,tc.push({i:mb,x:Fb(ka,Ra)})),L=Gh.lastIndex;L<H.length&&(db=H.slice(L),Jb[mb]?Jb[mb]+=db:Jb[++mb]=db);return 2>Jb.length?tc[0]?ic(tc[0].x):Zb(H):(H=tc.length,function(ad){for(var od=0,Bc;od<H;++od)Jb[(Bc=tc[od]).i]=Bc.x(ad);return Jb.join("")})}function nd(m,H){var L=typeof H,ka;return null==H||"boolean"===L?ii(H):("number"===L?Fb:"string"===L?(ka=Nb(H))?(H=ka,$g):Ac:H instanceof Nb?$g:H instanceof Date?xb:Bb(H)?
ra:Array.isArray(H)?Ua:"function"!==typeof H.valueOf&&"function"!==typeof H.toString||isNaN(H)?Lb:Fb)(m,H)}function Uc(m,H){return m=+m,H=+H,function(L){return Math.round(m*(1-L)+H*L)}}function ma(m,H,L,ka,Ra,db){var mb,Jb,tc;if(mb=Math.sqrt(m*m+H*H))m/=mb,H/=mb;if(tc=m*L+H*ka)L-=m*tc,ka-=H*tc;if(Jb=Math.sqrt(L*L+ka*ka))L/=Jb,ka/=Jb,tc/=Jb;m*ka<H*L&&(m=-m,H=-H,tc=-tc,mb=-mb);return{translateX:Ra,translateY:db,rotate:Math.atan2(H,m)*Ig,skewX:Math.atan(tc)*Ig,scaleX:mb,scaleY:Jb}}function Ha(m,H,L,
ka){function Ra(ad){return ad.length?ad.pop()+" ":""}function db(ad,od,Bc,Dd,be,Ae){ad!==Bc||od!==Dd?(be=be.push("translate(",null,H,null,L),Ae.push({i:be-4,x:Fb(ad,Bc)},{i:be-2,x:Fb(od,Dd)})):(Bc||Dd)&&be.push("translate("+Bc+H+Dd+L)}function mb(ad,od,Bc,Dd){ad!==od?(180<ad-od?od+=360:180<od-ad&&(ad+=360),Dd.push({i:Bc.push(Ra(Bc)+"rotate(",null,ka)-2,x:Fb(ad,od)})):od&&Bc.push(Ra(Bc)+"rotate("+od+ka)}function Jb(ad,od,Bc,Dd){ad!==od?Dd.push({i:Bc.push(Ra(Bc)+"skewX(",null,ka)-2,x:Fb(ad,od)}):od&&
Bc.push(Ra(Bc)+"skewX("+od+ka)}function tc(ad,od,Bc,Dd,be,Ae){ad!==Bc||od!==Dd?(be=be.push(Ra(be)+"scale(",null,",",null,")"),Ae.push({i:be-4,x:Fb(ad,Bc)},{i:be-2,x:Fb(od,Dd)})):1===Bc&&1===Dd||be.push(Ra(be)+"scale("+Bc+","+Dd+")")}return function(ad,od){var Bc=[],Dd=[];ad=m(ad);od=m(od);db(ad.translateX,ad.translateY,od.translateX,od.translateY,Bc,Dd);mb(ad.rotate,od.rotate,Bc,Dd);Jb(ad.skewX,od.skewX,Bc,Dd);tc(ad.scaleX,ad.scaleY,od.scaleX,od.scaleY,Bc,Dd);ad=od=null;return function(be){for(var Ae=
-1,Td=Dd.length,Ye;++Ae<Td;)Bc[(Ye=Dd[Ae]).i]=Ye.x(be);return Bc.join("")}}}function fb(m){return((m=Math.exp(m))+1/m)/2}function S(m){return function(H,L){var ka=m((H=U(H)).h,(L=U(L)).h),Ra=xc(H.s,L.s),db=xc(H.l,L.l),mb=xc(H.opacity,L.opacity);return function(Jb){H.h=ka(Jb);H.s=Ra(Jb);H.l=db(Jb);H.opacity=mb(Jb);return H+""}}}function r(m){return function(H,L){var ka=m((H=Pa(H)).h,(L=Pa(L)).h),Ra=xc(H.c,L.c),db=xc(H.l,L.l),mb=xc(H.opacity,L.opacity);return function(Jb){H.h=ka(Jb);H.c=Ra(Jb);H.l=
db(Jb);H.opacity=mb(Jb);return H+""}}}function da(m){return function ka(L){function Ra(db,mb){var Jb=m((db=ib(db)).h,(mb=ib(mb)).h),tc=xc(db.s,mb.s),ad=xc(db.l,mb.l),od=xc(db.opacity,mb.opacity);return function(Bc){db.h=Jb(Bc);db.s=tc(Bc);db.l=ad(Math.pow(Bc,L));db.opacity=od(Bc);return db+""}}L=+L;Ra.gamma=ka;return Ra}(1)}function za(m,H){void 0===H&&(H=m,m=nd);for(var L=0,ka=H.length-1,Ra=H[0],db=Array(0>ka?0:ka);L<ka;)db[L]=m(Ra,Ra=H[++L]);return function(mb){var Jb=Math.max(0,Math.min(ka-1,Math.floor(mb*=
ka)));return db[Jb](mb-Jb)}}function Da(m){return function(){return m}}function Oa(m){return+m}function kb(m){return m}function Vb(m,H){return(H-=m=+m)?function(L){return(L-m)/H}:Da(isNaN(H)?NaN:.5)}function Eb(m,H){if(m>H){var L=m;m=H;H=L}return function(ka){return Math.max(m,Math.min(H,ka))}}function Hb(m,H,L){var ka=m[0];m=m[1];var Ra=H[0];H=H[1];m<ka?(ka=Vb(m,ka),Ra=L(H,Ra)):(ka=Vb(ka,m),Ra=L(Ra,H));return function(db){return Ra(ka(db))}}function Cc(m,H,L){var ka=Math.min(m.length,H.length)-1,
Ra=Array(ka),db=Array(ka),mb=-1;m[ka]<m[0]&&(m=m.slice().reverse(),H=H.slice().reverse());for(;++mb<ka;)Ra[mb]=Vb(m[mb],m[mb+1]),db[mb]=L(H[mb],H[mb+1]);return function(Jb){var tc=Pg(m,Jb,1,ka)-1;return db[tc](Ra[tc](Jb))}}function Hc(m,H){return H.domain(m.domain()).range(m.range()).interpolate(m.interpolate()).clamp(m.clamp()).unknown(m.unknown())}function Nc(){function m(){var Dd=Math.min(L.length,ka.length);tc!==kb&&(tc=Eb(L[0],L[Dd-1]));ad=2<Dd?Cc:Hb;od=Bc=null;return H}function H(Dd){return null==
Dd||isNaN(Dd=+Dd)?Jb:(od||(od=ad(L.map(db),ka,Ra)))(db(tc(Dd)))}var L=ui,ka=ui,Ra=nd,db,mb,Jb,tc=kb,ad,od,Bc;H.invert=function(Dd){return tc(mb((Bc||(Bc=ad(ka,L.map(db),Fb)))(Dd)))};H.domain=function(Dd){return arguments.length?(L=Array.from(Dd,Oa),m()):L.slice()};H.range=function(Dd){return arguments.length?(ka=Array.from(Dd),m()):ka.slice()};H.rangeRound=function(Dd){return ka=Array.from(Dd),Ra=Uc,m()};H.clamp=function(Dd){return arguments.length?(tc=Dd?!0:kb,m()):tc!==kb};H.interpolate=function(Dd){return arguments.length?
(Ra=Dd,m()):Ra};H.unknown=function(Dd){return arguments.length?(Jb=Dd,H):Jb};return function(Dd,be){db=Dd;mb=be;return m()}}function xd(m,H){if(0>(H=(m=H?m.toExponential(H-1):m.toExponential()).indexOf("e")))return null;var L=m.slice(0,H);return[1<L.length?L[0]+L.slice(2):L,+m.slice(H+1)]}function sd(m){return m=xd(Math.abs(m)),m?m[1]:NaN}function ed(m,H){return function(L,ka){for(var Ra=L.length,db=[],mb=0,Jb=m[0],tc=0;0<Ra&&0<Jb;){tc+Jb+1>ka&&(Jb=Math.max(1,ka-tc));db.push(L.substring(Ra-=Jb,Ra+
Jb));if((tc+=Jb+1)>ka)break;Jb=m[mb=(mb+1)%m.length]}return db.reverse().join(H)}}function Jd(m){return function(H){return H.replace(/[0-9]/g,function(L){return m[+L]})}}function Hd(m){if(!(H=B.exec(m)))throw Error("invalid format: "+m);var H;return new vd({fill:H[1],align:H[2],sign:H[3],symbol:H[4],zero:H[5],width:H[6],comma:H[7],precision:H[8]&&H[8].slice(1),trim:H[9],type:H[10]})}function vd(m){this.fill=void 0===m.fill?" ":m.fill+"";this.align=void 0===m.align?"\x3e":m.align+"";this.sign=void 0===
m.sign?"-":m.sign+"";this.symbol=void 0===m.symbol?"":m.symbol+"";this.zero=!!m.zero;this.width=void 0===m.width?void 0:+m.width;this.comma=!!m.comma;this.precision=void 0===m.precision?void 0:+m.precision;this.trim=!!m.trim;this.type=void 0===m.type?"":m.type+""}function we(m,H){H=xd(m,H);if(!H)return m+"";m=H[0];H=H[1];return 0>H?"0."+Array(-H).join("0")+m:m.length>H+1?m.slice(0,H+1)+"."+m.slice(H+1):m+Array(H-m.length+2).join("0")}function Ed(m){return m}function w(m){function H(od){function Bc(Id){var ee=
ze,Kd=Mf,wf,Vf;if("c"===He)Kd=Ch(Id)+Kd,Id="";else{Id=+Id;var Bf=0>Id||0>1/Id;Id=isNaN(Id)?ad:Ch(Math.abs(Id),yg);if(Ug){var Of=Id.length,Mg=1,sh=-1;a:for(;Mg<Of;++Mg)switch(Id[Mg]){case ".":sh=wf=Mg;break;case "0":0===sh&&(sh=Mg);wf=Mg;break;default:if(!+Id[Mg])break a;0<sh&&(sh=0)}Id=0<sh?Id.slice(0,sh)+Id.slice(wf+1):Id}Bf&&0===+Id&&"+"!==Ae&&(Bf=!1);ee=(Bf?"("===Ae?Ae:tc:"-"===Ae||"("===Ae?"":Ae)+ee;Kd=("s"===He?zb[8+aa/3]:"")+Kd+(Bf&&"("===Ae?")":"");if(Yd)for(Bf=-1,wf=Id.length;++Bf<wf;)if(Vf=
Id.charCodeAt(Bf),48>Vf||57<Vf){Kd=(46===Vf?db+Id.slice(Bf+1):Id.slice(Bf))+Kd;Id=Id.slice(0,Bf);break}}Af&&!Ye&&(Id=L(Id,Infinity));Vf=ee.length+Id.length+Kd.length;Bf=Vf<Nf?Array(Nf-Vf+1).join(Dd):"";Af&&Ye&&(Id=L(Bf+Id,Bf.length?Nf-Kd.length:Infinity),Bf="");switch(be){case "\x3c":Id=ee+Id+Kd+Bf;break;case "\x3d":Id=ee+Bf+Id+Kd;break;case "^":Id=Bf.slice(0,Vf=Bf.length>>1)+ee+Id+Kd+Bf.slice(Vf);break;default:Id=Bf+ee+Id+Kd}return mb(Id)}od=Hd(od);var Dd=od.fill,be=od.align,Ae=od.sign,Td=od.symbol,
Ye=od.zero,Nf=od.width,Af=od.comma,yg=od.precision,Ug=od.trim,He=od.type;"n"===He?(Af=!0,He="g"):Aa[He]||(void 0===yg&&(yg=12),Ug=!0,He="g");if(Ye||"0"===Dd&&"\x3d"===be)Ye=!0,Dd="0",be="\x3d";var ze="$"===Td?ka:"#"===Td&&/[boxX]/.test(He)?"0"+He.toLowerCase():"",Mf="$"===Td?Ra:/[%p]/.test(He)?Jb:"",Ch=Aa[He],Yd=/[defgprs%]/.test(He);yg=void 0===yg?6:/[gprs]/.test(He)?Math.max(1,Math.min(21,yg)):Math.max(0,Math.min(20,yg));Bc.toString=function(){return od+""};return Bc}var L=void 0===m.grouping||
void 0===m.thousands?Ed:ed(La.call(m.grouping,Number),m.thousands+""),ka=void 0===m.currency?"":m.currency[0]+"",Ra=void 0===m.currency?"":m.currency[1]+"",db=void 0===m.decimal?".":m.decimal+"",mb=void 0===m.numerals?Ed:Jd(La.call(m.numerals,String)),Jb=void 0===m.percent?"%":m.percent+"",tc=void 0===m.minus?"":m.minus+"",ad=void 0===m.nan?"NaN":m.nan+"";return{format:H,formatPrefix:function(od,Bc){var Dd=H((od=Hd(od),od.type="f",od));od=3*Math.max(-8,Math.min(8,Math.floor(sd(Bc)/3)));var be=Math.pow(10,
-od),Ae=zb[8+od/3];return function(Td){return Dd(be*Td)+Ae}}}}function I(m,H,L,ka){L=gb(m,H,L);ka=Hd(null==ka?",f":ka);switch(ka.type){case "s":m=Math.max(Math.abs(m),Math.abs(H));if(H=null==ka.precision){var Ra=isNaN;L=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(sd(m)/3)))-sd(Math.abs(L)));H=!Ra(Ra=L)}H&&(ka.precision=Ra);return q(ka,m);case "":case "e":case "g":case "p":case "r":var db;if(db=null==ka.precision)Ra=isNaN,m=Math.max(Math.abs(m),Math.abs(H)),L=Math.abs(L),m=Math.abs(m)-L,L=Math.max(0,
sd(m)-sd(L))+1,db=!Ra(Ra=L);db&&(ka.precision=Ra-("e"===ka.type));break;case "f":case "%":null!=ka.precision||isNaN(Ra=Math.max(0,-sd(Math.abs(L))))||(ka.precision=Ra-2*("%"===ka.type))}return cc(ka)}function wa(m){var H=m.domain;m.ticks=function(L){var ka=H();return pb(ka[0],ka[ka.length-1],null==L?10:L)};m.tickFormat=function(L,ka){var Ra=H();return I(Ra[0],Ra[Ra.length-1],null==L?10:L,ka)};m.nice=function(L){null==L&&(L=10);var ka=H(),Ra=0,db=ka.length-1,mb=ka[Ra],Jb=ka[db],tc=10;if(Jb<mb){var ad=
mb;mb=Jb;Jb=ad;ad=Ra;Ra=db;db=ad}for(;0<tc--;){ad=vb(mb,Jb,L);if(ad===od)return ka[Ra]=mb,ka[db]=Jb,H(ka);if(0<ad)mb=Math.floor(mb/ad)*ad,Jb=Math.ceil(Jb/ad)*ad;else if(0>ad)mb=Math.ceil(mb*ad)/ad,Jb=Math.floor(Jb*ad)/ad;else break;var od=ad}return m};return m}function Ja(){var m=Nc()(kb,kb);m.copy=function(){return Hc(m,Ja())};ha.apply(m,arguments);return wa(m)}function jb(m){function H(ka){return null==ka||isNaN(ka=+ka)?L:ka}var L;H.invert=H;H.domain=H.range=function(ka){return arguments.length?
(m=Array.from(ka,Oa),H):m.slice()};H.unknown=function(ka){return arguments.length?(L=ka,H):L};H.copy=function(){return jb(m).unknown(L)};m=arguments.length?Array.from(m,Oa):[0,1];return wa(H)}function wb(m,H){m=m.slice();var L=0,ka=m.length-1,Ra=m[L],db=m[ka];if(db<Ra){var mb=L;L=ka;ka=mb;mb=Ra;Ra=db;db=mb}m[L]=H.floor(Ra);m[ka]=H.ceil(db);return m}function ec(m){return Math.log(m)}function Qb(m){return Math.exp(m)}function qc(m){return-Math.log(-m)}function Fc(m){return-Math.exp(-m)}function zc(m){return isFinite(m)?
+("1e"+m):0>m?0:m}function bd(m){return 10===m?zc:m===Math.E?Math.exp:H=>Math.pow(m,H)}function md(m){return m===Math.E?Math.log:10===m&&Math.log10||2===m&&Math.log2||(m=Math.log(m),H=>Math.log(H)/m)}function qd(m){return(H,L)=>-m(-H,L)}function Gd(m){function H(){db=md(Ra);mb=bd(Ra);0>ka()[0]?(db=qd(db),mb=qd(mb),m(qc,Fc)):m(ec,Qb);return L}const L=m(ec,Qb),ka=L.domain;let Ra=10,db,mb;L.base=function(Jb){return arguments.length?(Ra=+Jb,H()):Ra};L.domain=function(Jb){return arguments.length?(ka(Jb),
H()):ka()};L.ticks=Jb=>{var tc=ka();let ad=tc[0];tc=tc[tc.length-1];const od=tc<ad;od&&([ad,tc]=[tc,ad]);let Bc=db(ad),Dd=db(tc),be;const Ae=null==Jb?10:+Jb;let Td=[];if(!(Ra%1)&&Dd-Bc<Ae){Bc=Math.floor(Bc);Dd=Math.ceil(Dd);if(0<ad)for(;Bc<=Dd;++Bc)for(Jb=1;Jb<Ra;++Jb){if(be=0>Bc?Jb/mb(-Bc):Jb*mb(Bc),!(be<ad)){if(be>tc)break;Td.push(be)}}else for(;Bc<=Dd;++Bc)for(Jb=Ra-1;1<=Jb;--Jb)if(be=0<Bc?Jb/mb(-Bc):Jb*mb(Bc),!(be<ad)){if(be>tc)break;Td.push(be)}2*Td.length<Ae&&(Td=pb(ad,tc,Ae))}else Td=pb(Bc,
Dd,Math.min(Dd-Bc,Ae)).map(mb);return od?Td.reverse():Td};L.tickFormat=(Jb,tc)=>{null==Jb&&(Jb=10);null==tc&&(tc=10===Ra?"s":",");"function"!==typeof tc&&(Ra%1||null!=(tc=Hd(tc)).precision||(tc.trim=!0),tc=cc(tc));if(Infinity===Jb)return tc;const ad=Math.max(1,Ra*Jb/L.ticks().length);return od=>{let Bc=od/mb(Math.round(db(od)));Bc*Ra<Ra-.5&&(Bc*=Ra);return Bc<=ad?tc(od):""}};L.nice=()=>ka(wb(ka(),{floor:Jb=>mb(Math.floor(db(Jb))),ceil:Jb=>mb(Math.ceil(db(Jb)))}));return L}function kd(){const m=Gd(Nc()).domain([1,
10]);m.copy=()=>Hc(m,kd()).base(m.base());ha.apply(m,arguments);return m}function Od(m){return function(H){return Math.sign(H)*Math.log1p(Math.abs(H/m))}}function he(m){return function(H){return Math.sign(H)*Math.expm1(Math.abs(H))*m}}function Ne(m){var H=1,L=m(Od(H),he(H));L.constant=function(ka){return arguments.length?m(Od(H=+ka),he(H)):H};return wa(L)}function Ie(){var m=Ne(Nc());m.copy=function(){return Hc(m,Ie()).constant(m.constant())};return ha.apply(m,arguments)}function Fe(m){return function(H){return 0>
H?-Math.pow(-H,m):Math.pow(H,m)}}function uf(m){return 0>m?-Math.sqrt(-m):Math.sqrt(m)}function gf(m){return 0>m?-m*m:m*m}function E(m){var H=m(kb,kb),L=1;H.exponent=function(ka){return arguments.length?(L=+ka,1===L?m(kb,kb):.5===L?m(uf,gf):m(Fe(L),Fe(1/L))):L};return wa(H)}function ca(){var m=E(Nc());m.copy=function(){return Hc(m,ca()).exponent(m.exponent())};ha.apply(m,arguments);return m}function Ga(){function m(){var mb=0,Jb=Math.max(1,ka.length);for(Ra=Array(Jb-1);++mb<Jb;)Ra[mb-1]=fc(L,mb/Jb);
return H}function H(mb){return null==mb||isNaN(mb=+mb)?db:ka[Pg(Ra,mb)]}var L=[],ka=[],Ra=[],db;H.invertExtent=function(mb){mb=ka.indexOf(mb);return 0>mb?[NaN,NaN]:[0<mb?Ra[mb-1]:L[0],mb<Ra.length?Ra[mb]:L[L.length-1]]};H.domain=function(mb){if(!arguments.length)return L.slice();L=[];for(let Jb of mb)null==Jb||isNaN(Jb=+Jb)||L.push(Jb);L.sort(dc);return m()};H.range=function(mb){return arguments.length?(ka=Array.from(mb),m()):ka.slice()};H.unknown=function(mb){return arguments.length?(db=mb,H):db};
H.quantiles=function(){return Ra.slice()};H.copy=function(){return Ga().domain(L).range(ka).unknown(db)};return ha.apply(H,arguments)}function eb(){function m(tc){return null!=tc&&tc<=tc?mb[Pg(db,tc,0,Ra)]:Jb}function H(){var tc=-1;for(db=Array(Ra);++tc<Ra;)db[tc]=((tc+1)*ka-(tc-Ra)*L)/(Ra+1);return m}var L=0,ka=1,Ra=1,db=[.5],mb=[0,1],Jb;m.domain=function(tc){return arguments.length?([L,ka]=tc,L=+L,ka=+ka,H()):[L,ka]};m.range=function(tc){return arguments.length?(Ra=(mb=Array.from(tc)).length-1,
H()):mb.slice()};m.invertExtent=function(tc){tc=mb.indexOf(tc);return 0>tc?[NaN,NaN]:1>tc?[L,db[0]]:tc>=Ra?[db[Ra-1],ka]:[db[tc-1],db[tc]]};m.unknown=function(tc){return arguments.length?(Jb=tc,m):m};m.thresholds=function(){return db.slice()};m.copy=function(){return eb().domain([L,ka]).range(mb).unknown(Jb)};return ha.apply(wa(m),arguments)}function Gb(){function m(db){return null!=db&&db<=db?L[Pg(H,db,0,Ra)]:ka}var H=[.5],L=[0,1],ka,Ra=1;m.domain=function(db){return arguments.length?(H=Array.from(db),
Ra=Math.min(H.length,L.length-1),m):H.slice()};m.range=function(db){return arguments.length?(L=Array.from(db),Ra=Math.min(H.length,L.length-1),m):L.slice()};m.invertExtent=function(db){db=L.indexOf(db);return[H[db-1],H[db]]};m.unknown=function(db){return arguments.length?(ka=db,m):ka};m.copy=function(){return Gb().domain(H).range(L).unknown(ka)};return ha.apply(m,arguments)}function rc(m,H,L,ka){function Ra(db){return m(db=0===arguments.length?new Date:new Date(+db)),db}Ra.floor=db=>(m(db=new Date(+db)),
db);Ra.ceil=db=>(m(db=new Date(db-1)),H(db,1),m(db),db);Ra.round=db=>{const mb=Ra(db),Jb=Ra.ceil(db);return db-mb<Jb-db?mb:Jb};Ra.offset=(db,mb)=>(H(db=new Date(+db),null==mb?1:Math.floor(mb)),db);Ra.range=(db,mb,Jb)=>{const tc=[];db=Ra.ceil(db);Jb=null==Jb?1:Math.floor(Jb);if(!(db<mb&&0<Jb))return tc;let ad;do tc.push(ad=new Date(+db)),H(db,Jb),m(db);while(ad<db&&db<mb);return tc};Ra.filter=db=>rc(mb=>{if(mb>=mb)for(;m(mb),!db(mb);)mb.setTime(mb-1)},(mb,Jb)=>{if(mb>=mb)if(0>Jb)for(;0>=++Jb;)for(;H(mb,
-1),!db(mb););else for(;0<=--Jb;)for(;H(mb,1),!db(mb););});L&&(Ra.count=(db,mb)=>{J.setTime(+db);fa.setTime(+mb);m(J);m(fa);return Math.floor(L(J,fa))},Ra.every=db=>{db=Math.floor(db);return isFinite(db)&&0<db?1<db?Ra.filter(ka?mb=>0===ka(mb)%db:mb=>0===Ra.count(0,mb)%db):Ra:null});return Ra}function Rb(m){return rc(H=>{H.setDate(H.getDate()-(H.getDay()+7-m)%7);H.setHours(0,0,0,0)},(H,L)=>{H.setDate(H.getDate()+7*L)},(H,L)=>(L-H-6E4*(L.getTimezoneOffset()-H.getTimezoneOffset()))/cb)}function Sc(m){return rc(H=>
{H.setUTCDate(H.getUTCDate()-(H.getUTCDay()+7-m)%7);H.setUTCHours(0,0,0,0)},(H,L)=>{H.setUTCDate(H.getUTCDate()+7*L)},(H,L)=>(L-H)/cb)}function fd(m,H,L,ka,Ra,db){function mb(tc,ad,od){const Bc=Math.abs(ad-tc)/od,Dd=nc(([,,Td])=>Td).right(Jb,Bc);if(Dd===Jb.length)return m.every(gb(tc/kc,ad/kc,od));if(0===Dd)return ya.every(Math.max(gb(tc,ad,od),1));const [be,Ae]=Jb[Bc/Jb[Dd-1][2]<Jb[Dd][2]/Bc?Dd-1:Dd];return be.every(Ae)}const Jb=[[wc,1,1E3],[wc,5,5E3],[wc,15,15E3],[wc,30,3E4],[db,1,6E4],[db,5,3E5],
[db,15,9E5],[db,30,18E5],[Ra,1,36E5],[Ra,3,108E5],[Ra,6,216E5],[Ra,12,432E5],[ka,1,864E5],[ka,2,1728E5],[L,1,cb],[H,1,Pb],[H,3,3*Pb],[m,1,kc]];return[function(tc,ad,od){const Bc=ad<tc;Bc&&([tc,ad]=[ad,tc]);tc=(od=od&&"function"===typeof od.range?od:mb(tc,ad,od))?od.range(tc,+ad+1):[];return Bc?tc.reverse():tc},mb]}function cd(m){if(0<=m.y&&100>m.y){var H=new Date(-1,m.m,m.d,m.H,m.M,m.S,m.L);H.setFullYear(m.y);return H}return new Date(m.y,m.m,m.d,m.H,m.M,m.S,m.L)}function Oc(m){if(0<=m.y&&100>m.y){var H=
new Date(Date.UTC(-1,m.m,m.d,m.H,m.M,m.S,m.L));H.setUTCFullYear(m.y);return H}return new Date(Date.UTC(m.y,m.m,m.d,m.H,m.M,m.S,m.L))}function Nd(m,H,L){return{y:m,m:H,d:L,H:0,M:0,S:0,L:0}}function Md(m){function H(Yd,Id){return function(ee){var Kd=[],wf=-1,Vf=0,Bf=Yd.length,Of,Mg;for(ee instanceof Date||(ee=new Date(+ee));++wf<Bf;)if(37===Yd.charCodeAt(wf)){Kd.push(Yd.slice(Vf,wf));null!=(Vf=aj[Of=Yd.charAt(++wf)])?Of=Yd.charAt(++wf):Vf="e"===Of?" ":"0";if(Mg=Id[Of])Of=Mg(ee,Vf);Kd.push(Of);Vf=wf+
1}Kd.push(Yd.slice(Vf,wf));return Kd.join("")}}function L(Yd,Id){return function(ee){var Kd=Nd(1900,void 0,1);if(ka(Kd,Yd,ee+="",0)!=ee.length)return null;if("Q"in Kd)return new Date(Kd.Q);if("s"in Kd)return new Date(1E3*Kd.s+("L"in Kd?Kd.L:0));!Id||"Z"in Kd||(Kd.Z=0);"p"in Kd&&(Kd.H=Kd.H%12+12*Kd.p);void 0===Kd.m&&(Kd.m="q"in Kd?Kd.q:0);if("V"in Kd){if(1>Kd.V||53<Kd.V)return null;"w"in Kd||(Kd.w=1);if("Z"in Kd){ee=Oc(Nd(Kd.y,0,1));var wf=ee.getUTCDay();ee=4<wf||0===wf?vg.ceil(ee):vg(ee);ee=Ge.offset(ee,
7*(Kd.V-1));Kd.y=ee.getUTCFullYear();Kd.m=ee.getUTCMonth();Kd.d=ee.getUTCDate()+(Kd.w+6)%7}else ee=cd(Nd(Kd.y,0,1)),wf=ee.getDay(),ee=4<wf||0===wf?Ue.ceil(ee):Ue(ee),ee=ie.offset(ee,7*(Kd.V-1)),Kd.y=ee.getFullYear(),Kd.m=ee.getMonth(),Kd.d=ee.getDate()+(Kd.w+6)%7}else if("W"in Kd||"U"in Kd)"w"in Kd||(Kd.w="u"in Kd?Kd.u%7:"W"in Kd?1:0),wf="Z"in Kd?Oc(Nd(Kd.y,0,1)).getUTCDay():cd(Nd(Kd.y,0,1)).getDay(),Kd.m=0,Kd.d="W"in Kd?(Kd.w+6)%7+7*Kd.W-(wf+5)%7:Kd.w+7*Kd.U-(wf+6)%7;return"Z"in Kd?(Kd.H+=Kd.Z/100|
0,Kd.M+=Kd.Z%100,Oc(Kd)):cd(Kd)}}function ka(Yd,Id,ee,Kd){for(var wf=0,Vf=Id.length,Bf=ee.length,Of;wf<Vf;){if(Kd>=Bf)return-1;Of=Id.charCodeAt(wf++);if(37===Of){if(Of=Id.charAt(wf++),Of=Ch[Of in aj?Id.charAt(wf++):Of],!Of||0>(Kd=Of(Yd,ee,Kd)))return-1}else if(Of!=ee.charCodeAt(Kd++))return-1}return Kd}var Ra=m.dateTime,db=m.date,mb=m.time,Jb=m.periods,tc=m.days,ad=m.shortDays,od=m.months,Bc=m.shortMonths,Dd=Wd(Jb),be=Ca(Jb),Ae=Wd(tc),Td=Ca(tc),Ye=Wd(ad),Nf=Ca(ad),Af=Wd(od),yg=Ca(od),Ug=Wd(Bc),He=
Ca(Bc),ze={a:function(Yd){return ad[Yd.getDay()]},A:function(Yd){return tc[Yd.getDay()]},b:function(Yd){return Bc[Yd.getMonth()]},B:function(Yd){return od[Yd.getMonth()]},c:null,d:fe,e:fe,f:p,g:yc,G:Zc,H:le,I:oe,j:y,L:M,m:Q,M:Z,p:function(Yd){return Jb[+(12<=Yd.getHours())]},q:function(Yd){return 1+~~(Yd.getMonth()/3)},Q:Ef,s:We,S:pa,u:xa,U:Cb,V:Xb,w:$b,W:mc,x:null,X:null,y:vc,Y:Jc,Z:Yc,"%":Yf},Mf={a:function(Yd){return ad[Yd.getUTCDay()]},A:function(Yd){return tc[Yd.getUTCDay()]},b:function(Yd){return Bc[Yd.getUTCMonth()]},
B:function(Yd){return od[Yd.getUTCMonth()]},c:null,d:jd,e:jd,f:$c,g:td,G:af,H:$d,I:Rc,j:Xd,L:te,m:Cd,M:Qd,p:function(Yd){return Jb[+(12<=Yd.getUTCHours())]},q:function(Yd){return 1+~~(Yd.getUTCMonth()/3)},Q:Ef,s:We,S:re,u:ue,U:Sd,V:Ke,w:jf,W:xe,x:null,X:null,y:Qf,Y:Me,Z:Se,"%":Yf},Ch={a:function(Yd,Id,ee){return(Id=Ye.exec(Id.slice(ee)))?(Yd.w=Nf.get(Id[0].toLowerCase()),ee+Id[0].length):-1},A:function(Yd,Id,ee){return(Id=Ae.exec(Id.slice(ee)))?(Yd.w=Td.get(Id[0].toLowerCase()),ee+Id[0].length):-1},
b:function(Yd,Id,ee){return(Id=Ug.exec(Id.slice(ee)))?(Yd.m=He.get(Id[0].toLowerCase()),ee+Id[0].length):-1},B:function(Yd,Id,ee){return(Id=Af.exec(Id.slice(ee)))?(Yd.m=yg.get(Id[0].toLowerCase()),ee+Id[0].length):-1},c:function(Yd,Id,ee){return ka(Yd,Ra,Id,ee)},d:me,e:me,f:Le,g:Tc,G:Ec,H:Oe,I:Oe,j:df,L:pf,m:pd,M:Je,p:function(Yd,Id,ee){return(Id=Dd.exec(Id.slice(ee)))?(Yd.p=be.get(Id[0].toLowerCase()),ee+Id[0].length):-1},q:ld,Q:Ze,s:ne,S:hf,u:bc,U:id,V:sc,w:Qa,W:Mc,x:function(Yd,Id,ee){return ka(Yd,
db,Id,ee)},X:function(Yd,Id,ee){return ka(Yd,mb,Id,ee)},y:Tc,Y:Ec,Z:Xc,"%":$e};ze.x=H(db,ze);ze.X=H(mb,ze);ze.c=H(Ra,ze);Mf.x=H(db,Mf);Mf.X=H(mb,Mf);Mf.c=H(Ra,Mf);return{format:function(Yd){var Id=H(Yd+="",ze);Id.toString=function(){return Yd};return Id},parse:function(Yd){var Id=L(Yd+="",!1);Id.toString=function(){return Yd};return Id},utcFormat:function(Yd){var Id=H(Yd+="",Mf);Id.toString=function(){return Yd};return Id},utcParse:function(Yd){var Id=L(Yd+="",!0);Id.toString=function(){return Yd};
return Id}}}function Ld(m,H,L){var ka=0>m?"-":"";m=(ka?-m:m)+"";var Ra=m.length;return ka+(Ra<L?Array(L-Ra+1).join(H)+m:m)}function Ad(m){return m.replace(wj,"\\$\x26")}function Wd(m){return new RegExp("^(?:"+m.map(Ad).join("|")+")","i")}function Ca(m){return new Map(m.map((H,L)=>[H.toLowerCase(),L]))}function Qa(m,H,L){return(H=ag.exec(H.slice(L,L+1)))?(m.w=+H[0],L+H[0].length):-1}function bc(m,H,L){return(H=ag.exec(H.slice(L,L+1)))?(m.u=+H[0],L+H[0].length):-1}function id(m,H,L){return(H=ag.exec(H.slice(L,
L+2)))?(m.U=+H[0],L+H[0].length):-1}function sc(m,H,L){return(H=ag.exec(H.slice(L,L+2)))?(m.V=+H[0],L+H[0].length):-1}function Mc(m,H,L){return(H=ag.exec(H.slice(L,L+2)))?(m.W=+H[0],L+H[0].length):-1}function Ec(m,H,L){return(H=ag.exec(H.slice(L,L+4)))?(m.y=+H[0],L+H[0].length):-1}function Tc(m,H,L){return(H=ag.exec(H.slice(L,L+2)))?(m.y=+H[0]+(68<+H[0]?1900:2E3),L+H[0].length):-1}function Xc(m,H,L){return(H=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(H.slice(L,L+6)))?(m.Z=H[1]?0:-(H[2]+(H[3]||"00")),L+H[0].length):
-1}function ld(m,H,L){return(H=ag.exec(H.slice(L,L+1)))?(m.q=3*H[0]-3,L+H[0].length):-1}function pd(m,H,L){return(H=ag.exec(H.slice(L,L+2)))?(m.m=H[0]-1,L+H[0].length):-1}function me(m,H,L){return(H=ag.exec(H.slice(L,L+2)))?(m.d=+H[0],L+H[0].length):-1}function df(m,H,L){return(H=ag.exec(H.slice(L,L+3)))?(m.m=0,m.d=+H[0],L+H[0].length):-1}function Oe(m,H,L){return(H=ag.exec(H.slice(L,L+2)))?(m.H=+H[0],L+H[0].length):-1}function Je(m,H,L){return(H=ag.exec(H.slice(L,L+2)))?(m.M=+H[0],L+H[0].length):
-1}function hf(m,H,L){return(H=ag.exec(H.slice(L,L+2)))?(m.S=+H[0],L+H[0].length):-1}function pf(m,H,L){return(H=ag.exec(H.slice(L,L+3)))?(m.L=+H[0],L+H[0].length):-1}function Le(m,H,L){return(H=ag.exec(H.slice(L,L+6)))?(m.L=Math.floor(H[0]/1E3),L+H[0].length):-1}function $e(m,H,L){return(m=sk.exec(H.slice(L,L+1)))?L+m[0].length:-1}function Ze(m,H,L){return(H=ag.exec(H.slice(L)))?(m.Q=+H[0],L+H[0].length):-1}function ne(m,H,L){return(H=ag.exec(H.slice(L)))?(m.s=+H[0],L+H[0].length):-1}function fe(m,
H){return Ld(m.getDate(),H,2)}function le(m,H){return Ld(m.getHours(),H,2)}function oe(m,H){return Ld(m.getHours()%12||12,H,2)}function y(m,H){return Ld(1+ie.count(qg(m),m),H,3)}function M(m,H){return Ld(m.getMilliseconds(),H,3)}function p(m,H){return M(m,H)+"000"}function Q(m,H){return Ld(m.getMonth()+1,H,2)}function Z(m,H){return Ld(m.getMinutes(),H,2)}function pa(m,H){return Ld(m.getSeconds(),H,2)}function xa(m){m=m.getDay();return 0===m?7:m}function Cb(m,H){return Ld(Df.count(qg(m)-1,m),H,2)}
function Ib(m){var H=m.getDay();return 4<=H||0===H?Re(m):Re.ceil(m)}function Xb(m,H){m=Ib(m);return Ld(Re.count(qg(m),m)+(4===qg(m).getDay()),H,2)}function $b(m){return m.getDay()}function mc(m,H){return Ld(Ue.count(qg(m)-1,m),H,2)}function vc(m,H){return Ld(m.getFullYear()%100,H,2)}function yc(m,H){m=Ib(m);return Ld(m.getFullYear()%100,H,2)}function Jc(m,H){return Ld(m.getFullYear()%1E4,H,4)}function Zc(m,H){var L=m.getDay();m=4<=L||0===L?Re(m):Re.ceil(m);return Ld(m.getFullYear()%1E4,H,4)}function Yc(m){m=
m.getTimezoneOffset();return(0<m?"-":(m*=-1,"+"))+Ld(m/60|0,"0",2)+Ld(m%60,"0",2)}function jd(m,H){return Ld(m.getUTCDate(),H,2)}function $d(m,H){return Ld(m.getUTCHours(),H,2)}function Rc(m,H){return Ld(m.getUTCHours()%12||12,H,2)}function Xd(m,H){return Ld(1+Ge.count(dg(m),m),H,3)}function te(m,H){return Ld(m.getUTCMilliseconds(),H,3)}function $c(m,H){return te(m,H)+"000"}function Cd(m,H){return Ld(m.getUTCMonth()+1,H,2)}function Qd(m,H){return Ld(m.getUTCMinutes(),H,2)}function re(m,H){return Ld(m.getUTCSeconds(),
H,2)}function ue(m){m=m.getUTCDay();return 0===m?7:m}function Sd(m,H){return Ld(Kh.count(dg(m)-1,m),H,2)}function Ud(m){var H=m.getUTCDay();return 4<=H||0===H?of(m):of.ceil(m)}function Ke(m,H){m=Ud(m);return Ld(of.count(dg(m),m)+(4===dg(m).getUTCDay()),H,2)}function jf(m){return m.getUTCDay()}function xe(m,H){return Ld(vg.count(dg(m)-1,m),H,2)}function Qf(m,H){return Ld(m.getUTCFullYear()%100,H,2)}function td(m,H){m=Ud(m);return Ld(m.getUTCFullYear()%100,H,2)}function Me(m,H){return Ld(m.getUTCFullYear()%
1E4,H,4)}function af(m,H){var L=m.getUTCDay();m=4<=L||0===L?of(m):of.ceil(m);return Ld(m.getUTCFullYear()%1E4,H,4)}function Se(){return"+0000"}function Yf(){return"%"}function Ef(m){return+m}function We(m){return Math.floor(+m/1E3)}function Rf(m){return new Date(m)}function qf(m){return m instanceof Date?+m:+new Date(+m)}function Gf(m,H,L,ka,Ra,db,mb,Jb,tc,ad){function od(ze){return(tc(ze)<ze?Ae:Jb(ze)<ze?Td:mb(ze)<ze?Ye:db(ze)<ze?Nf:ka(ze)<ze?Ra(ze)<ze?Af:yg:L(ze)<ze?Ug:He)(ze)}var Bc=Nc()(kb,kb),
Dd=Bc.invert,be=Bc.domain,Ae=ad(".%L"),Td=ad(":%S"),Ye=ad("%I:%M"),Nf=ad("%I %p"),Af=ad("%a %d"),yg=ad("%b %d"),Ug=ad("%B"),He=ad("%Y");Bc.invert=function(ze){return new Date(Dd(ze))};Bc.domain=function(ze){return arguments.length?be(Array.from(ze,qf)):be().map(Rf)};Bc.ticks=function(ze){var Mf=be();return m(Mf[0],Mf[Mf.length-1],null==ze?10:ze)};Bc.tickFormat=function(ze,Mf){return null==Mf?od:ad(Mf)};Bc.nice=function(ze){var Mf=be();ze&&"function"===typeof ze.range||(ze=H(Mf[0],Mf[Mf.length-1],
null==ze?10:ze));return ze?be(wb(Mf,ze)):Bc};Bc.copy=function(){return Hc(Bc,Gf(m,H,L,ka,Ra,db,mb,Jb,tc,ad))};return Bc}function Ff(){function m(Bc){return null==Bc||isNaN(Bc=+Bc)?od:tc(0===mb?.5:(Bc=(Jb(Bc)-Ra)*mb,ad?Math.max(0,Math.min(1,Bc)):Bc))}function H(Bc){return function(Dd){var be,Ae;return arguments.length?([be,Ae]=Dd,tc=Bc(be,Ae),m):[tc(0),tc(1)]}}var L=0,ka=1,Ra,db,mb,Jb,tc=kb,ad=!1,od;m.domain=function(Bc){return arguments.length?([L,ka]=Bc,Ra=Jb(L=+L),db=Jb(ka=+ka),mb=Ra===db?0:1/(db-
Ra),m):[L,ka]};m.clamp=function(Bc){return arguments.length?(ad=!!Bc,m):ad};m.interpolator=function(Bc){return arguments.length?(tc=Bc,m):tc};m.range=H(nd);m.rangeRound=H(Uc);m.unknown=function(Bc){return arguments.length?(od=Bc,m):od};return function(Bc){Jb=Bc;Ra=Bc(L);db=Bc(ka);mb=Ra===db?0:1/(db-Ra);return m}}function rf(m,H){return H.domain(m.domain()).interpolator(m.interpolator()).clamp(m.clamp()).unknown(m.unknown())}function rg(){var m=wa(Ff()(kb));m.copy=function(){return rf(m,rg())};return Ba.apply(m,
arguments)}function zf(){var m=Gd(Ff()).domain([1,10]);m.copy=function(){return rf(m,zf()).base(m.base())};return Ba.apply(m,arguments)}function Fh(){var m=Ne(Ff());m.copy=function(){return rf(m,Fh()).constant(m.constant())};return Ba.apply(m,arguments)}function kg(){var m=E(Ff());m.copy=function(){return rf(m,kg()).exponent(m.exponent())};return Ba.apply(m,arguments)}function Ag(){function m(Td){return isNaN(Td=+Td)?Ae:(Td=.5+((Td=+Dd(Td))-Jb)*(db*Td<db*Jb?ad:od),Bc(be?Math.max(0,Math.min(1,Td)):
Td))}function H(Td){return function(Ye){var Nf,Af,yg;return arguments.length?([Nf,Af,yg]=Ye,Bc=za(Td,[Nf,Af,yg]),m):[Bc(0),Bc(.5),Bc(1)]}}var L=0,ka=.5,Ra=1,db=1,mb,Jb,tc,ad,od,Bc=kb,Dd,be=!1,Ae;m.domain=function(Td){return arguments.length?([L,ka,Ra]=Td,mb=Dd(L=+L),Jb=Dd(ka=+ka),tc=Dd(Ra=+Ra),ad=mb===Jb?0:.5/(Jb-mb),od=Jb===tc?0:.5/(tc-Jb),db=Jb<mb?-1:1,m):[L,ka,Ra]};m.clamp=function(Td){return arguments.length?(be=!!Td,m):be};m.interpolator=function(Td){return arguments.length?(Bc=Td,m):Bc};m.range=
H(nd);m.rangeRound=H(Uc);m.unknown=function(Td){return arguments.length?(Ae=Td,m):Ae};return function(Td){Dd=Td;mb=Td(L);Jb=Td(ka);tc=Td(Ra);ad=mb===Jb?0:.5/(Jb-mb);od=Jb===tc?0:.5/(tc-Jb);db=Jb<mb?-1:1;return m}}function lg(){var m=wa(Ag()(kb));m.copy=function(){return rf(m,lg())};return Ba.apply(m,arguments)}function T(){var m=Gd(Ag()).domain([.1,1,10]);m.copy=function(){return rf(m,T()).base(m.base())};return Ba.apply(m,arguments)}function Ka(){var m=Ne(Ag());m.copy=function(){return rf(m,Ka()).constant(m.constant())};
return Ba.apply(m,arguments)}function lb(){var m=E(Ag());m.copy=function(){return rf(m,lb()).exponent(m.exponent())};return Ba.apply(m,arguments)}function Ic(){function m(){var Bc=L().length;const Dd=Ra[1]<Ra[0],be=Ra[1-Dd],Ae=Ya(Bc,tc,ad);let Td=Ra[Dd-0];db=(be-Td)/(Ae||1);Jb&&(db=Math.floor(db));Td+=(be-Td-db*(Bc-tc))*od;mb=db*(1-tc);Jb&&(Td=Math.round(Td),mb=Math.round(mb));Bc=sa(Bc).map(Ye=>Td+db*Ye);return ka(Dd?Bc.reverse():Bc)}const H=Sa().unknown(void 0),L=H.domain,ka=H.range;let Ra=[0,1],
db,mb,Jb=!1,tc=0,ad=0,od=.5;delete H.unknown;H.domain=function(Bc){return arguments.length?(L(Bc),m()):L()};H.range=function(Bc){return arguments.length?(Ra=[+Bc[0],+Bc[1]],m()):Ra.slice()};H.rangeRound=function(Bc){Ra=[+Bc[0],+Bc[1]];Jb=!0;return m()};H.bandwidth=function(){return mb};H.step=function(){return db};H.round=function(Bc){return arguments.length?(Jb=!!Bc,m()):Jb};H.padding=function(Bc){return arguments.length?(tc=ad=Math.max(0,Math.min(1,Bc)),m()):tc};H.paddingInner=function(Bc){return arguments.length?
(tc=Math.max(0,Math.min(1,Bc)),m()):tc};H.paddingOuter=function(Bc){return arguments.length?(ad=Math.max(0,Math.min(1,Bc)),m()):ad};H.align=function(Bc){return arguments.length?(od=Math.max(0,Math.min(1,Bc)),m()):od};H.invertRange=function(Bc){if(null!=Bc[0]&&null!=Bc[1]){var Dd=Ra[1]<Ra[0],be=Dd?ka().reverse():ka(),Ae=be.length-1,Td=+Bc[0],Ye=+Bc[1];if(Td===Td&&Ye===Ye){if(Ye<Td){var Nf=Td;Td=Ye;Ye=Nf}if(!(Ye<be[0]||Td>Ra[1-Dd]))return Bc=Math.max(0,Og(be,Td)-1),Ye=Td===Ye?Bc:Og(be,Ye)-1,Td-be[Bc]>
mb+1E-10&&++Bc,Dd&&(Nf=Bc,Bc=Ae-Ye,Ye=Ae-Nf),Bc>Ye?void 0:L().slice(Bc,Ye+1)}}};H.invert=function(Bc){return(Bc=H.invertRange([Bc,Bc]))?Bc[0]:Bc};H.copy=function(){return Ic().domain(L()).range(Ra).round(Jb).paddingInner(tc).paddingOuter(ad).align(od)};return m()}function Kc(m){const H=m.copy;m.padding=m.paddingOuter;delete m.paddingInner;m.copy=function(){return Kc(H())};return m}function Pd(){function m(ka){return null==ka||ka!==ka?void 0:L[(Pg(H,ka)-1)%L.length]}let H=[],L=[];m.domain=function(ka){return arguments.length?
(H=xj.call(ka,h.toNumber),m):H.slice()};m.range=function(ka){return arguments.length?(L=al.call(ka),m):L.slice()};m.tickFormat=function(ka,Ra){return I(H[0],h.peek(H),null==ka?10:ka,Ra)};m.copy=function(){return Pd().domain(m.domain()).range(m.range())};return m}function se(m){m[xi]=!0;return m}function Te(m,H,L){const ka=function(){const Ra=H();Ra.invertRange||(Ra.invertRange=Ra.invert?ub(Ra):Ra.invertExtent?Yb(Ra):void 0);Ra.type=m;return se(Ra)};ka.metadata=h.toSet(h.array(L));return ka}function ye(m,
H,L){return 1<arguments.length?(Qi.set(m,Te(m,H,L)),this):Sf(m)?Qi.get(m):void 0}function Sf(m){return Qi.has(m)}function nf(m,H){return(m=Qi.get(m))&&m.metadata[H]}function nh(m){return nf(m,"discrete")}function Xg(m){return nf(m,"discretizing")}function sg(m){return nf(m,"log")}function fg(m){return nf(m,"temporal")}function tg(m,H,L){return za(ug(H||"rgb",L),m)}function ug(m,H){m=Ih[Rd(m)];return null!=H&&m&&m.gamma?m.gamma(H):m}function Rd(m){return"interpolate"+m.toLowerCase().split("-").map(H=>
H[0].toUpperCase()+H.slice(1)).join("")}function pe(m){const H=m.length/6|0,L=Array(H);for(let ka=0;ka<H;)L[ka]="#"+m.slice(6*ka,6*++ka);return L}function sf(m,H){for(const L in m)De(L,H(m[L]))}function De(m,H){m=m&&m.toLowerCase();return 1<arguments.length?(yi[m]=H,this):yi[m]}function kf(m,H,L){var ka=m.range();let Ra=ka[0],db=h.peek(ka);ka=tk;Ra>db&&(ka=db,db=Ra,Ra=ka,ka=bj);Ra=Math.floor(Ra);db=Math.ceil(db);H=H.map(mb=>[mb,m(mb)]).filter(mb=>Ra<=mb[1]&&mb[1]<=db).sort(ka).map(mb=>mb[0]);if(0<
L&&1<H.length){for(ka=[H[0],h.peek(H)];H.length>L&&3<=H.length;)H=H.filter((mb,Jb)=>!(Jb%2));3>H.length&&(H=ka)}return H}function Xe(m,H){return m.bins?kf(m,m.bins):m.ticks?m.ticks(H):m.domain()}function Tf(m,H,L,ka,Ra,db){const mb=H.type;let Jb=Qj;if("time"===mb||"time"===Ra)Jb=m.timeFormat(ka);else if("utc"===mb||"utc"===Ra)Jb=m.utcFormat(ka);else if(sg(mb)){const tc=m.formatFloat(ka);if(db||H.bins)Jb=tc;else{const ad=vf(H,L,!1);Jb=od=>ad(od)?tc(od):""}}else H.tickFormat?(H=H.domain(),Jb=m.formatSpan(H[0],
H[H.length-1],L,ka)):ka&&(Jb=m.format(ka));return Jb}function vf(m,H,L){const ka=Xe(m,H),Ra=m.base(),db=Math.log(Ra),mb=Math.max(1,Ra*H/ka.length);m=Jb=>{Jb/=Math.pow(Ra,Math.round(Math.log(Jb)/db));Jb*Ra<Ra-.5&&(Jb*=Ra);return Jb<=mb};return L?ka.filter(m):m}function Hf(m,H){m.bins?(m=m.bins,H=m.slice(0,-1),H.max=h.peek(m),m=H):"log"===m.type?m=vf(m,H,!0):Yh[m.type]?(m=m[Yh[m.type]](),m=[-Infinity].concat(m),m.max=Infinity):m=Xe(m,H);return m}function lf(m,H,L,ka,Ra,db,mb){if(zg[H.type]&&"time"!==
db&&"utc"!==db){L=H[zg[H.type]]();db=L.length;mb=1<db?L[1]-L[0]:L[0];let Jb;for(Jb=1;Jb<db;++Jb)mb=Math.min(mb,L[Jb]-L[Jb-1]);m=m.formatSpan(0,mb,30,Ra)}else m=Tf(m,H,L,Ra,db,mb);return"symbol"===ka&&(Yh[H.type]||H.bins)?ki(m):"discrete"===ka?Zh(m):Mh(m)}const Og=nc(dc).right;nc(Ub).center;var Pg=Og;class oh extends Map{constructor(m,H=tb){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:H}});if(null!=m)for(const [L,ka]of m)this.set(L,ka)}get(m){return super.get(jc(this,m))}has(m){return super.has(jc(this,
m))}set(m,H){return super.set(Ea(this,m),H)}delete(m){return super.delete(bb(this,m))}}const Uf=Math.sqrt(50),gi=Math.sqrt(10),vh=Math.sqrt(2),Qg=Symbol("implicit");var Rg=1/.7,Th=/^#([0-9a-f]{3,8})$/,Xi=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),Ki=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Li=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
hi=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Yi=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Mi=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
Zg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Va(hb,Nb,{copy(m){return Object.assign(new this.constructor,this,m)},displayable(){return this.rgb().displayable()},hex:Za,formatHex:Za,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return x(this).formatHsl()},formatRgb:qb,toString:qb});Va(oa,na,Ia(hb,{brighter(m){m=null==m?Rg:Math.pow(Rg,m);return new oa(this.r*m,this.g*m,this.b*m,this.opacity)},darker(m){m=
null==m?.7:Math.pow(.7,m);return new oa(this.r*m,this.g*m,this.b*m,this.opacity)},rgb(){return this},clamp(){return new oa(l(this.r),l(this.g),l(this.b),qa(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Na,formatHex:Na,formatHex8:function(){return`#${D(this.r)}${D(this.g)}${D(this.b)}${D(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:la,toString:la}));Va(A,U,Ia(hb,{brighter(m){m=null==
m?Rg:Math.pow(Rg,m);return new A(this.h,this.s,this.l*m,this.opacity)},darker(m){m=null==m?.7:Math.pow(.7,m);return new A(this.h,this.s,this.l*m,this.opacity)},rgb(){var m=this.h%360+360*(0>this.h),H=isNaN(m)||isNaN(this.s)?0:this.s,L=this.l;H=L+(.5>L?L:1-L)*H;L=2*L-H;return new oa(v(240<=m?m-240:m+120,L,H),v(m,L,H),v(120>m?m+240:m-120,L,H),this.opacity)},clamp(){return new A(X(this.h),G(this.s),G(this.l),qa(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=
this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const m=qa(this.opacity);return`${1===m?"hsl(":"hsla("}${X(this.h)}, ${100*G(this.s)}%, ${100*G(this.l)}%${1===m?")":`, ${m})`}`}}));const Ni=Math.PI/180,ph=180/Math.PI,eh=4/29,Uh=6/29,wg=3*Uh*Uh,gg=Uh*Uh*Uh;Va(W,F,Ia(hb,{brighter(m){return new W(this.l+18*(null==m?1:m),this.a,this.b,this.opacity)},darker(m){return new W(this.l-18*(null==m?1:m),this.a,this.b,this.opacity)},rgb(){var m=(this.l+16)/116,H=isNaN(this.a)?m:m+this.a/500,L=isNaN(this.b)?
m:m-this.b/200;H=.96422*O(H);m=1*O(m);L=.82521*O(L);return new oa(ja(3.1338561*H-1.6168667*m-.4906146*L),ja(-.9787684*H+1.9161415*m+.033454*L),ja(.0719453*H-.2289914*m+1.4052427*L),this.opacity)}}));Va(Xa,Pa,Ia(hb,{brighter(m){return new Xa(this.h,this.c,this.l+18*(null==m?1:m),this.opacity)},darker(m){return new Xa(this.h,this.c,this.l-18*(null==m?1:m),this.opacity)},rgb(){return sb(this).rgb()}}));var Zi=1.78277*-.29227-.1347134789;Va(Sb,ib,Ia(hb,{brighter(m){m=null==m?Rg:Math.pow(Rg,m);return new Sb(this.h,
this.s,this.l*m,this.opacity)},darker(m){m=null==m?.7:Math.pow(.7,m);return new Sb(this.h,this.s,this.l*m,this.opacity)},rgb(){var m=isNaN(this.h)?0:(this.h+120)*Ni,H=+this.l,L=isNaN(this.s)?0:this.s*H*(1-H),ka=Math.cos(m);m=Math.sin(m);return new oa(255*(H+L*(-.14861*ka+1.78277*m)),255*(H+L*(-.29227*ka+-.90649*m)),255*(H+1.97294*L*ka),this.opacity)}}));var ii=m=>()=>m,$g=function L(H){function ka(db,mb){var Jb=Ra((db=na(db)).r,(mb=na(mb)).r),tc=Ra(db.g,mb.g),ad=Ra(db.b,mb.b),od=xc(db.opacity,mb.opacity);
return function(Bc){db.r=Jb(Bc);db.g=tc(Bc);db.b=ad(Bc);db.opacity=od(Bc);return db+""}}var Ra=Ob(H);ka.gamma=L;return ka}(1),ti=hd(Fa),Kj=hd(Kb),yh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gh=new RegExp(yh.source,"g"),Ig=180/Math.PI,mg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},zh,Hh=Ha(function(H){H=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(H+"");return H.isIdentity?mg:ma(H.a,H.b,H.c,H.d,H.e,H.f)},"px, ","px)","deg)"),fh=Ha(function(H){if(null==H)return mg;
zh||(zh=document.createElementNS("http://www.w3.org/2000/svg","g"));zh.setAttribute("transform",H);if(!(H=zh.transform.baseVal.consolidate()))return mg;H=H.matrix;return ma(H.a,H.b,H.c,H.d,H.e,H.f)},", ",")",")"),Kf=function db(L,ka,Ra){function mb(Jb,tc){var ad=Jb[0],od=Jb[1],Bc=Jb[2];Jb=tc[2];var Dd=tc[0]-ad,be=tc[1]-od,Ae=Dd*Dd+be*be;if(1E-12>Ae){var Td=Math.log(Jb/Bc)/L;Jb=function(Af){return[ad+Af*Dd,od+Af*be,Bc*Math.exp(L*Af*Td)]}}else{var Ye=Math.sqrt(Ae);tc=(Jb*Jb-Bc*Bc+Ra*Ae)/(2*Bc*ka*Ye);
Jb=(Jb*Jb-Bc*Bc-Ra*Ae)/(2*Jb*ka*Ye);var Nf=Math.log(Math.sqrt(tc*tc+1)-tc);Td=(Math.log(Math.sqrt(Jb*Jb+1)-Jb)-Nf)/L;Jb=function(Af){Af*=Td;var yg=fb(Nf),Ug=L*Af+Nf;var He=((Ug=Math.exp(2*Ug))-1)/(Ug+1);var ze=Nf;Ug=((ze=Math.exp(ze))-1/ze)/2;He=Bc/(ka*Ye)*(yg*He-Ug);return[ad+He*Dd,od+He*be,Bc*yg/fb(L*Af+Nf)]}}Jb.duration=1E3*Td*L/Math.SQRT2;return Jb}mb.rho=function(Jb){Jb=Math.max(.001,+Jb);var tc=Jb*Jb;return db(Jb,tc,tc*tc)};return mb}(Math.SQRT2,2,4),ng=S(Mb),gh=S(xc),If=r(Mb),hh=r(xc),bh=da(Mb),
ih=da(xc),Ih=Object.freeze({__proto__:null,interpolate:nd,interpolateArray:function(L,ka){return(Bb(ka)?ra:Ua)(L,ka)},interpolateBasis:Fa,interpolateBasisClosed:Kb,interpolateCubehelix:bh,interpolateCubehelixLong:ih,interpolateDate:xb,interpolateDiscrete:function(L){var ka=L.length;return function(Ra){return L[Math.max(0,Math.min(ka-1,Math.floor(Ra*ka)))]}},interpolateHcl:If,interpolateHclLong:hh,interpolateHsl:ng,interpolateHslLong:gh,interpolateHue:function(L,ka){var Ra=Mb(+L,+ka);return function(db){db=
Ra(db);return db-360*Math.floor(db/360)}},interpolateLab:function(L,ka){var Ra=xc((L=F(L)).l,(ka=F(ka)).l),db=xc(L.a,ka.a),mb=xc(L.b,ka.b),Jb=xc(L.opacity,ka.opacity);return function(tc){L.l=Ra(tc);L.a=db(tc);L.b=mb(tc);L.opacity=Jb(tc);return L+""}},interpolateNumber:Fb,interpolateNumberArray:ra,interpolateObject:Lb,interpolateRgb:$g,interpolateRgbBasis:ti,interpolateRgbBasisClosed:Kj,interpolateRound:Uc,interpolateString:Ac,interpolateTransformCss:Hh,interpolateTransformSvg:fh,interpolateZoom:Kf,
piecewise:za,quantize:function(L,ka){for(var Ra=Array(ka),db=0;db<ka;++db)Ra[db]=L(db/(ka-1));return Ra}}),ui=[0,1],B=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Hd.prototype=vd.prototype;vd.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var aa,Aa={"%":(L,
ka)=>(100*L).toFixed(ka),b:L=>Math.round(L).toString(2),c:L=>L+"",d:function(L){return 1E21<=Math.abs(L=Math.round(L))?L.toLocaleString("en").replace(/,/g,""):L.toString(10)},e:(L,ka)=>L.toExponential(ka),f:(L,ka)=>L.toFixed(ka),g:(L,ka)=>L.toPrecision(ka),o:L=>Math.round(L).toString(8),p:(L,ka)=>we(100*L,ka),r:we,s:function(L,ka){var Ra=xd(L,ka);if(!Ra)return L+"";var db=Ra[0];Ra=Ra[1];Ra=Ra-(aa=3*Math.max(-8,Math.min(8,Math.floor(Ra/3))))+1;var mb=db.length;return Ra===mb?db:Ra>mb?db+Array(Ra-mb+
1).join("0"):0<Ra?db.slice(0,Ra)+"."+db.slice(Ra):"0."+Array(1-Ra).join("0")+xd(L,Math.max(0,ka+Ra-1))[0]},X:L=>Math.round(L).toString(16).toUpperCase(),x:L=>Math.round(L).toString(16)},La=Array.prototype.map,zb="y z a f p n  m  k M G T P E Z Y".split(" "),yb,cc,q;(function(L){yb=w(L);cc=yb.format;q=yb.formatPrefix;return yb})({thousands:",",grouping:[3],currency:["$",""]});const J=new Date,fa=new Date,ya=rc(()=>{},(L,ka)=>{L.setTime(+L+ka)},(L,ka)=>ka-L);ya.every=L=>{L=Math.floor(L);return isFinite(L)&&
0<L?1<L?rc(ka=>{ka.setTime(Math.floor(ka/L)*L)},(ka,Ra)=>{ka.setTime(+ka+Ra*L)},(ka,Ra)=>(Ra-ka)/L):ya:null};ya.range;const cb=6048E5,Pb=2592E6,kc=31536E6,wc=rc(L=>{L.setTime(L-L.getMilliseconds())},(L,ka)=>{L.setTime(+L+1E3*ka)},(L,ka)=>(ka-L)/1E3,L=>L.getUTCSeconds());wc.range;const gc=rc(L=>{L.setTime(L-L.getMilliseconds()-1E3*L.getSeconds())},(L,ka)=>{L.setTime(+L+6E4*ka)},(L,ka)=>(ka-L)/6E4,L=>L.getMinutes());gc.range;const rd=rc(L=>{L.setUTCSeconds(0,0)},(L,ka)=>{L.setTime(+L+6E4*ka)},(L,ka)=>
(ka-L)/6E4,L=>L.getUTCMinutes());rd.range;const Wc=rc(L=>{L.setTime(L-L.getMilliseconds()-1E3*L.getSeconds()-6E4*L.getMinutes())},(L,ka)=>{L.setTime(+L+36E5*ka)},(L,ka)=>(ka-L)/36E5,L=>L.getHours());Wc.range;const zd=rc(L=>{L.setUTCMinutes(0,0,0)},(L,ka)=>{L.setTime(+L+36E5*ka)},(L,ka)=>(ka-L)/36E5,L=>L.getUTCHours());zd.range;const ie=rc(L=>L.setHours(0,0,0,0),(L,ka)=>L.setDate(L.getDate()+ka),(L,ka)=>(ka-L-6E4*(ka.getTimezoneOffset()-L.getTimezoneOffset()))/864E5,L=>L.getDate()-1);ie.range;const Ge=
rc(L=>{L.setUTCHours(0,0,0,0)},(L,ka)=>{L.setUTCDate(L.getUTCDate()+ka)},(L,ka)=>(ka-L)/864E5,L=>L.getUTCDate()-1);Ge.range;const Pe=rc(L=>{L.setUTCHours(0,0,0,0)},(L,ka)=>{L.setUTCDate(L.getUTCDate()+ka)},(L,ka)=>(ka-L)/864E5,L=>Math.floor(L/864E5));Pe.range;const Df=Rb(0),Ue=Rb(1),Kg=Rb(2),ve=Rb(3),Re=Rb(4),tf=Rb(5),Hg=Rb(6);Df.range;Ue.range;Kg.range;ve.range;Re.range;tf.range;Hg.range;const Kh=Sc(0),vg=Sc(1),qh=Sc(2),rh=Sc(3),of=Sc(4),Ve=Sc(5),Yg=Sc(6);Kh.range;vg.range;qh.range;rh.range;of.range;
Ve.range;Yg.range;const Lh=rc(L=>{L.setDate(1);L.setHours(0,0,0,0)},(L,ka)=>{L.setMonth(L.getMonth()+ka)},(L,ka)=>ka.getMonth()-L.getMonth()+12*(ka.getFullYear()-L.getFullYear()),L=>L.getMonth());Lh.range;const Xf=rc(L=>{L.setUTCDate(1);L.setUTCHours(0,0,0,0)},(L,ka)=>{L.setUTCMonth(L.getUTCMonth()+ka)},(L,ka)=>ka.getUTCMonth()-L.getUTCMonth()+12*(ka.getUTCFullYear()-L.getUTCFullYear()),L=>L.getUTCMonth());Xf.range;const qg=rc(L=>{L.setMonth(0,1);L.setHours(0,0,0,0)},(L,ka)=>{L.setFullYear(L.getFullYear()+
ka)},(L,ka)=>ka.getFullYear()-L.getFullYear(),L=>L.getFullYear());qg.every=L=>isFinite(L=Math.floor(L))&&0<L?rc(ka=>{ka.setFullYear(Math.floor(ka.getFullYear()/L)*L);ka.setMonth(0,1);ka.setHours(0,0,0,0)},(ka,Ra)=>{ka.setFullYear(ka.getFullYear()+Ra*L)}):null;qg.range;const dg=rc(L=>{L.setUTCMonth(0,1);L.setUTCHours(0,0,0,0)},(L,ka)=>{L.setUTCFullYear(L.getUTCFullYear()+ka)},(L,ka)=>ka.getUTCFullYear()-L.getUTCFullYear(),L=>L.getUTCFullYear());dg.every=L=>isFinite(L=Math.floor(L))&&0<L?rc(ka=>{ka.setUTCFullYear(Math.floor(ka.getUTCFullYear()/
L)*L);ka.setUTCMonth(0,1);ka.setUTCHours(0,0,0,0)},(ka,Ra)=>{ka.setUTCFullYear(ka.getUTCFullYear()+Ra*L)}):null;dg.range;const [Bg,nj]=fd(dg,Xf,Kh,Pe,zd,rd),[oj,rk]=fd(qg,Lh,Df,ie,Wc,gc);var aj={"-":"",_:" ",0:"0"},ag=/^\s*\d+/,sk=/^%/,wj=/[\\^$*+?|[\]().{}]/g,jh,Pi,Oj;(function(L){jh=Md(L);Pi=jh.format;jh.parse;Oj=jh.utcFormat;jh.utcParse;return jh})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var xj=Array.prototype.map;const al=Array.prototype.slice,Qi=new Map,xi=Symbol("vega_scale");ye("identity",jb);ye("linear",Ja,"continuous");ye("log",kd,["continuous","log"]);ye("pow",ca,"continuous");ye("sqrt",function(){return ca.apply(null,arguments).exponent(.5)},"continuous");
ye("symlog",Ie,"continuous");ye("time",function(){return ha.apply(Gf(oj,rk,qg,Lh,Df,ie,Wc,gc,wc,Pi).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)},["continuous","temporal"]);ye("utc",function(){return ha.apply(Gf(Bg,nj,dg,Xf,Kh,Ge,zd,rd,wc,Oj).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)},["continuous","temporal"]);ye("sequential",rg,["continuous","interpolating"]);ye("sequential-linear",rg,["continuous","interpolating"]);ye("sequential-log",zf,["continuous","interpolating",
"log"]);ye("sequential-pow",kg,["continuous","interpolating"]);ye("sequential-sqrt",function(){return kg.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);ye("sequential-symlog",Fh,["continuous","interpolating"]);ye("diverging-linear",lg,["continuous","interpolating"]);ye("diverging-log",T,["continuous","interpolating","log"]);ye("diverging-pow",lb,["continuous","interpolating"]);ye("diverging-sqrt",function(){return lb.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);
ye("diverging-symlog",Ka,["continuous","interpolating"]);ye("quantile",Ga,["discretizing","quantile"]);ye("quantize",eb,"discretizing");ye("threshold",Gb,"discretizing");ye("bin-ordinal",Pd,["discrete","discretizing"]);ye("ordinal",Sa,"discrete");ye("band",Ic,"discrete");ye("point",function(){return Kc(Ic().paddingInner(1))},"discrete");const Pj=["clamp","base","constant","exponent"],yi={};sf({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",
category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",
dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},pe);sf({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",
greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",
greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",
yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",
redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},L=>tg(pe(L)));const Qj=L=>h.isArray(L)?L.map(ka=>String(ka)):String(L),tk=(L,ka)=>L[1]-ka[1],bj=(L,ka)=>ka[1]-L[1],Yh={quantile:"quantiles",quantize:"thresholds",threshold:"domain"},zg={quantile:"quantiles",quantize:"domain"},ki=L=>(ka,Ra,db)=>{Ra=db[Ra+1];db=db.max;db=null!=db?db:Infinity;Ra=null!=Ra?Ra:db;
ka=Number.isFinite(ka)?L(ka):null;Ra=Number.isFinite(Ra)?L(Ra):null;return ka&&Ra?ka+"  "+Ra:Ra?"\x3c "+Ra:" "+ka},Zh=L=>(ka,Ra)=>Ra?L(ka):null,Mh=L=>ka=>L(ka);t.Band="band";t.BinOrdinal="bin-ordinal";t.DiscreteLegend="discrete";t.Diverging="diverging";t.GradientLegend="gradient";t.Identity="identity";t.Linear="linear";t.Log="log";t.Ordinal="ordinal";t.Point="point";t.Pow="pow";t.Quantile="quantile";t.Quantize="quantize";t.Sequential="sequential";t.Sqrt="sqrt";t.SymbolLegend="symbol";t.Symlog="symlog";
t.Threshold="threshold";t.Time="time";t.UTC="utc";t.bandSpace=Ya;t.domainCaption=function(L,ka,Ra){Ra=Ra||{};var db=Math.max(3,Ra.maxlen||7),mb=Ra.format;const Jb=(Ra=Ra.formatType)||ka.type;h.isString(mb)&&fg(Jb)&&(mb=mb.replace(/%a/g,"%A").replace(/%b/g,"%B"));L=mb||"time"!==Jb?mb||"utc"!==Jb?lf(L,ka,5,null,mb,Ra,!0):L.utcFormat("%A, %d %B %Y, %X UTC"):L.timeFormat("%A, %d %B %Y, %X");if(Xg(ka.type))return db=Hf(ka).slice(1).map(L),ka=db.length,`${ka} boundar${1===ka?"y":"ies"}: ${db.join(", ")}`;
if(nh(ka.type))return mb=ka.domain(),ka=mb.length,db=ka>db?mb.slice(0,db-2).map(L).join(", ")+", ending with "+mb.slice(-1).map(L):mb.map(L).join(", "),`${ka} value${1===ka?"":"s"}: ${db}`;db=ka.domain();return`values from ${L(db[0])} to ${L(h.peek(db))}`};t.interpolate=ug;t.interpolateColors=tg;t.interpolateRange=function(L,ka){const Ra=ka[0],db=h.peek(ka)-Ra;return function(mb){return L(Ra+mb*db)}};t.isContinuous=function(L){return nf(L,"continuous")};t.isDiscrete=nh;t.isDiscretizing=Xg;t.isInterpolating=
function(L){return nf(L,"interpolating")};t.isLogarithmic=sg;t.isQuantile=function(L){return nf(L,"quantile")};t.isRegisteredScale=function(L){return L&&!0===L[xi]};t.isTemporal=fg;t.isValidScaleType=Sf;t.labelFormat=lf;t.labelFraction=function(L){var ka=L.domain();const Ra=ka.length-1;let db=+ka[0];ka=+h.peek(ka);let mb=ka-db;"threshold"===L.type&&(L=Ra?mb/Ra:.1,db-=L,ka+=L,mb=ka-db);return Jb=>(Jb-db)/mb};t.labelValues=Hf;t.quantizeInterpolator=function(L,ka){const Ra=Array(ka),db=ka+1;for(let mb=
0;mb<ka;)Ra[mb]=L(++mb/db);return Ra};t.registerScale=se;t.scale=ye;t.scaleCopy=function(L){const ka=L.type;L=L.copy();L.type=ka;return L};t.scaleFraction=function(L,ka,Ra){var db=Ra-ka;let mb,Jb;return db&&Number.isFinite(db)?(db=(mb=L.type).indexOf("-"),mb=0>db?mb:mb.slice(db+1),Jb=ye(mb)().domain([ka,Ra]).range([0,1]),Pj.forEach(tc=>L[tc]?Jb[tc](L[tc]()):0),Jb):h.constant(.5)};t.scaleImplicit=Qg;t.scheme=De;t.tickCount=function(L,ka,Ra){let db;h.isNumber(ka)&&(L.bins&&(ka=Math.max(ka,L.bins.length)),
null!=Ra&&(ka=Math.min(ka,Math.floor(h.span(L.domain())/Ra||1)+1)));h.isObject(ka)&&(db=ka.step,ka=ka.interval);h.isString(ka)&&(ka="time"===L.type?ia.timeInterval(ka):"utc"==L.type?ia.utcInterval(ka):h.error("Only time and utc scales accept interval strings."),db&&(ka=ka.every(db)));return ka};t.tickFormat=Tf;t.tickValues=Xe;t.validTicks=kf})};
shadow$provide[34]=function(Db,nb,Dc,Wa){(function(t,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,nb(21),nb(32),nb(28),nb(33)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-canvas","vega-loader","vega-scale"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega,t.vega,t.vega,t.vega))})(this,function(t,h,ia,Ya,ub){function Yb(B,aa,Aa){const La=B.gradient;let zb=B.id,yb="radial"===La?"p_":"";zb||(zb=B.id="gradient_"+$b++,"radial"===La?(B.x1=
dc(B.x1,.5),B.y1=dc(B.y1,.5),B.r1=dc(B.r1,0),B.x2=dc(B.x2,.5),B.y2=dc(B.y2,.5),B.r2=dc(B.r2,.5),yb="p_"):(B.x1=dc(B.x1,0),B.y1=dc(B.y1,0),B.x2=dc(B.x2,1),B.y2=dc(B.y2,0)));aa[zb]=B;return"url("+(Aa||"")+"#"+yb+zb+")"}function dc(B,aa){return null!=B?B:aa}function Wb(B){return function(){return B}}function nc(B){return 1<=B?Rc:-1>=B?-Rc:Math.asin(B)}function Ab(B){this._+=B[0];for(let aa=1,Aa=B.length;aa<Aa;++aa)this._+=arguments[aa]+B[aa]}function Ub(B){let aa=Math.floor(B);if(!(0<=aa))throw Error(`invalid digits: ${B}`);
if(15<aa)return Ab;const Aa=Math.pow(10,aa);return function(La){this._+=La[0];for(let zb=1,yb=La.length;zb<yb;++zb)this._+=Math.round(arguments[zb]*Aa)/Aa+La[zb]}}function jc(){return new Qd}function Ea(B){let aa=3;B.digits=function(Aa){if(!arguments.length)return aa;if(null==Aa)aa=null;else{const La=Math.floor(Aa);if(!(0<=La))throw new RangeError(`invalid digits: ${Aa}`);aa=La}return B};return()=>new Qd(aa)}function bb(B){return B.innerRadius}function tb(B){return B.outerRadius}function rb(B){return B.startAngle}
function pb(B){return B.endAngle}function vb(B){return B&&B.padAngle}function gb(B,aa,Aa,La,zb,yb,cc){var q=B-Aa,J=aa-La;cc=(cc?yb:-yb)/jd(q*q+J*J);J*=cc;q*=-cc;var fa=B+J,ya=aa+q,cb=Aa+J,Pb=La+q;Aa=(fa+cb)/2;La=(ya+Pb)/2;aa=cb-fa;B=Pb-ya;cc=aa*aa+B*B;yb=zb-yb;Pb=fa*Pb-cb*ya;var kc=(0>B?-1:1)*jd(Jc(0,yb*yb*cc-Pb*Pb));fa=(Pb*B-aa*kc)/cc;ya=(-Pb*aa-B*kc)/cc;cb=(Pb*B+aa*kc)/cc;aa=(-Pb*aa+B*kc)/cc;B=fa-Aa;cc=ya-La;Aa=cb-Aa;La=aa-La;B*B+cc*cc>Aa*Aa+La*La&&(fa=cb,ya=aa);return{cx:fa,cy:ya,x01:-J,y01:-q,
x11:fa*(zb/yb-1),y11:ya*(zb/yb-1)}}function fc(B){return"object"===typeof B&&"length"in B?B:Array.from(B)}function sa(B){this._context=B}function ha(B){return new sa(B)}function Ba(B){return B[0]}function Sa(B){return B[1]}function Va(B,aa){function Aa(J){var fa,ya=(J=fc(J)).length,cb,Pb=!1,kc;null==zb&&(cc=yb(kc=q()));for(fa=0;fa<=ya;++fa)!(fa<ya&&La(cb=J[fa],fa,J))===Pb&&((Pb=!Pb)?cc.lineStart():cc.lineEnd()),Pb&&cc.point(+B(cb,fa,J),+aa(cb,fa,J));if(kc)return cc=null,kc+""||null}var La=Wb(!0),
zb=null,yb=ha,cc=null,q=Ea(Aa);B="function"===typeof B?B:void 0===B?Ba:Wb(B);aa="function"===typeof aa?aa:void 0===aa?Sa:Wb(aa);Aa.x=function(J){return arguments.length?(B="function"===typeof J?J:Wb(+J),Aa):B};Aa.y=function(J){return arguments.length?(aa="function"===typeof J?J:Wb(+J),Aa):aa};Aa.defined=function(J){return arguments.length?(La="function"===typeof J?J:Wb(!!J),Aa):La};Aa.curve=function(J){return arguments.length?(yb=J,null!=zb&&(cc=yb(zb)),Aa):yb};Aa.context=function(J){return arguments.length?
(null==J?zb=cc=null:cc=yb(zb=J),Aa):zb};return Aa}function Ia(B,aa,Aa){function La(cb){var Pb,kc,wc=(cb=fc(cb)).length,gc,rd=!1,Wc,zd=Array(wc),ie=Array(wc);null==q&&(fa=J(Wc=ya()));for(Pb=0;Pb<=wc;++Pb){if(!(Pb<wc&&cc(gc=cb[Pb],Pb,cb))===rd)if(rd=!rd){var Ge=Pb;fa.areaStart();fa.lineStart()}else{fa.lineEnd();fa.lineStart();for(kc=Pb-1;kc>=Ge;--kc)fa.point(zd[kc],ie[kc]);fa.lineEnd();fa.areaEnd()}rd&&(zd[Pb]=+B(gc,Pb,cb),ie[Pb]=+aa(gc,Pb,cb),fa.point(yb?+yb(gc,Pb,cb):zd[Pb],Aa?+Aa(gc,Pb,cb):ie[Pb]))}if(Wc)return fa=
null,Wc+""||null}function zb(){return Va().defined(cc).curve(J).context(q)}var yb=null,cc=Wb(!0),q=null,J=ha,fa=null,ya=Ea(La);B="function"===typeof B?B:void 0===B?Ba:Wb(+B);aa="function"===typeof aa?aa:void 0===aa?Wb(0):Wb(+aa);Aa="function"===typeof Aa?Aa:void 0===Aa?Sa:Wb(+Aa);La.x=function(cb){return arguments.length?(B="function"===typeof cb?cb:Wb(+cb),yb=null,La):B};La.x0=function(cb){return arguments.length?(B="function"===typeof cb?cb:Wb(+cb),La):B};La.x1=function(cb){return arguments.length?
(yb=null==cb?null:"function"===typeof cb?cb:Wb(+cb),La):yb};La.y=function(cb){return arguments.length?(aa="function"===typeof cb?cb:Wb(+cb),Aa=null,La):aa};La.y0=function(cb){return arguments.length?(aa="function"===typeof cb?cb:Wb(+cb),La):aa};La.y1=function(cb){return arguments.length?(Aa=null==cb?null:"function"===typeof cb?cb:Wb(+cb),La):Aa};La.lineX0=La.lineY0=function(){return zb().x(B).y(aa)};La.lineY1=function(){return zb().x(B).y(Aa)};La.lineX1=function(){return zb().x(yb).y(aa)};La.defined=
function(cb){return arguments.length?(cc="function"===typeof cb?cb:Wb(!!cb),La):cc};La.curve=function(cb){return arguments.length?(J=cb,null!=q&&(fa=J(q)),La):J};La.context=function(cb){return arguments.length?(null==cb?q=fa=null:fa=J(q=cb),La):q};return La}function hb(){}function Za(B,aa,Aa){B._context.bezierCurveTo((2*B._x0+B._x1)/3,(2*B._y0+B._y1)/3,(B._x0+2*B._x1)/3,(B._y0+2*B._y1)/3,(B._x0+4*B._x1+aa)/6,(B._y0+4*B._y1+Aa)/6)}function qb(B){this._context=B}function Nb(B){this._context=B}function $a(B){this._context=
B}function V(B,aa){this._basis=new qb(B);this._beta=aa}function N(B,aa,Aa){B._context.bezierCurveTo(B._x1+B._k*(B._x2-B._x0),B._y1+B._k*(B._y2-B._y0),B._x2+B._k*(B._x1-aa),B._y2+B._k*(B._y1-Aa),B._x2,B._y2)}function na(B,aa){this._context=B;this._k=(1-aa)/6}function oa(B,aa){this._context=B;this._k=(1-aa)/6}function Na(B,aa){this._context=B;this._k=(1-aa)/6}function la(B,aa,Aa){var La=B._x1,zb=B._y1,yb=B._x2,cc=B._y2;if(1E-12<B._l01_a){var q=2*B._l01_2a+3*B._l01_a*B._l12_a+B._l12_2a,J=3*B._l01_a*
(B._l01_a+B._l12_a);La=(La*q-B._x0*B._l12_2a+B._x2*B._l01_2a)/J;zb=(zb*q-B._y0*B._l12_2a+B._y2*B._l01_2a)/J}1E-12<B._l23_a&&(q=2*B._l23_2a+3*B._l23_a*B._l12_a+B._l12_2a,J=3*B._l23_a*(B._l23_a+B._l12_a),yb=(yb*q+B._x1*B._l23_2a-aa*B._l12_2a)/J,cc=(cc*q+B._y1*B._l23_2a-Aa*B._l12_2a)/J);B._context.bezierCurveTo(La,zb,yb,cc,B._x2,B._y2)}function qa(B,aa){this._context=B;this._alpha=aa}function l(B,aa){this._context=B;this._alpha=aa}function D(B,aa){this._context=B;this._alpha=aa}function K(B){this._context=
B}function x(B,aa,Aa){var La=B._x1-B._x0;aa-=B._x1;var zb=(B._y1-B._y0)/(La||0>aa&&-0);B=(Aa-B._y1)/(aa||0>La&&-0);return((0>zb?-1:1)+(0>B?-1:1))*Math.min(Math.abs(zb),Math.abs(B),.5*Math.abs((zb*aa+B*La)/(La+aa)))||0}function U(B,aa){var Aa=B._x1-B._x0;return Aa?(3*(B._y1-B._y0)/Aa-aa)/2:aa}function A(B,aa,Aa){var La=B._x0,zb=B._x1,yb=B._y1,cc=(zb-La)/3;B._context.bezierCurveTo(La+cc,B._y0+cc*aa,zb-cc,yb-cc*Aa,zb,yb)}function X(B){this._context=B}function G(B){this._context=new v(B)}function v(B){this._context=
B}function z(B){this._context=B}function F(B){var aa,Aa=B.length-1,La=Array(Aa),zb=Array(Aa),yb=Array(Aa);La[0]=0;zb[0]=2;yb[0]=B[0]+2*B[1];for(aa=1;aa<Aa-1;++aa)La[aa]=1,zb[aa]=4,yb[aa]=4*B[aa]+2*B[aa+1];La[Aa-1]=2;zb[Aa-1]=7;yb[Aa-1]=8*B[Aa-1]+B[Aa];for(aa=1;aa<Aa;++aa){var cc=La[aa]/zb[aa-1];zb[aa]-=cc;yb[aa]-=cc*yb[aa-1]}La[Aa-1]=yb[Aa-1]/zb[Aa-1];for(aa=Aa-2;0<=aa;--aa)La[aa]=(yb[aa]-La[aa+1])/zb[aa];zb[Aa-1]=(B[Aa]+La[Aa-1])/2;for(aa=0;aa<Aa-1;++aa)zb[aa]=2*B[aa+1]-La[aa+1];return[La,zb]}function W(B,
aa){this._context=B;this._t=aa}function ta(B,aa,Aa){B=h.hasOwnProperty(td,B)&&td[B];var La=null;B&&(La=B.curve||B[aa||"vertical"],B.tension&&null!=Aa&&(La=La[B.tension](Aa)));return La}function O(B){const aa=[];(B.match(af)||[]).forEach(Aa=>{let La=Aa[0];var zb=La.toLowerCase();const yb=Me[zb];var cc=Aa.slice(1).trim();Aa=[];for(let J=0;yb&&J<cc.length;)for(let fa=0;fa<yb;++fa){var q="a"!==zb||3!==fa&&4!==fa?Se:Ef;q=cc.slice(J).match(q);if(null===q)throw Error("Invalid SVG path, incorrect parameter type");
J+=q[0].length;Aa.push(+q[0]);q=cc.slice(J).match(Yf);null!==q&&(J+=q[0].length)}cc=Aa.length;if(cc<yb||cc&&0!==cc%yb)throw Error("Invalid SVG path, incorrect parameter count");aa.push([La,...Aa.slice(0,yb)]);if(cc!==yb)for("m"===zb&&(La="M"===La?"L":"l"),zb=yb;zb<cc;zb+=yb)aa.push([La,...Aa.slice(zb,zb+yb)])});return aa}function ja(B,aa,Aa,La,zb,yb,cc,q,J){const fa=rg.call(arguments);if(Ff[fa])return Ff[fa];var ya=cc*We;const cb=Math.sin(ya);ya=Math.cos(ya);Aa=Math.abs(Aa);La=Math.abs(La);var Pb=
ya*(q-B)*.5+cb*(J-aa)*.5,kc=ya*(J-aa)*.5-cb*(q-B)*.5;Pb=Pb*Pb/(Aa*Aa)+kc*kc/(La*La);1<Pb&&(Pb=Math.sqrt(Pb),Aa*=Pb,La*=Pb);var wc=ya/Aa,gc=cb/Aa,rd=-cb/La,Wc=ya/La;Pb=wc*q+gc*J;kc=rd*q+Wc*J;wc=wc*B+gc*aa;gc=rd*B+Wc*aa;rd=1/((wc-Pb)*(wc-Pb)+(gc-kc)*(gc-kc))-.25;0>rd&&(rd=0);Wc=Math.sqrt(rd);yb==zb&&(Wc=-Wc);rd=.5*(Pb+wc)-Wc*(gc-kc);Wc=.5*(kc+gc)+Wc*(wc-Pb);Pb=Math.atan2(kc-Wc,Pb-rd);kc=Math.atan2(gc-Wc,wc-rd)-Pb;0>kc&&1===yb?kc+=qf:0<kc&&0===yb&&(kc-=qf);wc=Math.ceil(Math.abs(kc/(Rf+.001)));gc=[];
for(let zd=0;zd<wc;++zd)gc[zd]=[rd,Wc,Pb+zd*kc/wc,Pb+(zd+1)*kc/wc,Aa,La,cb,ya];return Ff[fa]=gc}function va(B,aa,Aa,La,zb,yb){var cc=null,q=0,J=0,fa=0,ya=0,cb=0,Pb=0;null==Aa&&(Aa=0);null==La&&(La=0);null==zb&&(zb=1);null==yb&&(yb=zb);B.beginPath&&B.beginPath();for(var kc=0,wc=aa.length;kc<wc;++kc){var gc=aa[kc];if(1!==zb||1!==yb){var rd=zb;var Wc=yb;var zd=zf[0]=gc[0];if("a"===zd||"A"===zd)zf[1]=rd*gc[1],zf[2]=Wc*gc[2],zf[3]=gc[3],zf[4]=gc[4],zf[5]=gc[5],zf[6]=rd*gc[6],zf[7]=Wc*gc[7];else if("h"===
zd||"H"===zd)zf[1]=rd*gc[1];else if("v"===zd||"V"===zd)zf[1]=Wc*gc[1];else{zd=1;for(var ie=gc.length;zd<ie;++zd)zf[zd]=(1==zd%2?rd:Wc)*gc[zd]}gc=zf}switch(gc[0]){case "l":q+=gc[1];J+=gc[2];B.lineTo(q+Aa,J+La);break;case "L":q=gc[1];J=gc[2];B.lineTo(q+Aa,J+La);break;case "h":q+=gc[1];B.lineTo(q+Aa,J+La);break;case "H":q=gc[1];B.lineTo(q+Aa,J+La);break;case "v":J+=gc[1];B.lineTo(q+Aa,J+La);break;case "V":J=gc[1];B.lineTo(q+Aa,J+La);break;case "m":q+=gc[1];J+=gc[2];cb=q;Pb=J;B.moveTo(q+Aa,J+La);break;
case "M":q=gc[1];J=gc[2];cb=q;Pb=J;B.moveTo(q+Aa,J+La);break;case "c":rd=q+gc[5];Wc=J+gc[6];fa=q+gc[3];ya=J+gc[4];B.bezierCurveTo(q+gc[1]+Aa,J+gc[2]+La,fa+Aa,ya+La,rd+Aa,Wc+La);q=rd;J=Wc;break;case "C":q=gc[5];J=gc[6];fa=gc[3];ya=gc[4];B.bezierCurveTo(gc[1]+Aa,gc[2]+La,fa+Aa,ya+La,q+Aa,J+La);break;case "s":rd=q+gc[3];Wc=J+gc[4];fa=2*q-fa;ya=2*J-ya;B.bezierCurveTo(fa+Aa,ya+La,q+gc[1]+Aa,J+gc[2]+La,rd+Aa,Wc+La);fa=q+gc[1];ya=J+gc[2];q=rd;J=Wc;break;case "S":rd=gc[3];Wc=gc[4];fa=2*q-fa;ya=2*J-ya;B.bezierCurveTo(fa+
Aa,ya+La,gc[1]+Aa,gc[2]+La,rd+Aa,Wc+La);q=rd;J=Wc;fa=gc[1];ya=gc[2];break;case "q":rd=q+gc[3];Wc=J+gc[4];fa=q+gc[1];ya=J+gc[2];B.quadraticCurveTo(fa+Aa,ya+La,rd+Aa,Wc+La);q=rd;J=Wc;break;case "Q":rd=gc[3];Wc=gc[4];B.quadraticCurveTo(gc[1]+Aa,gc[2]+La,rd+Aa,Wc+La);q=rd;J=Wc;fa=gc[1];ya=gc[2];break;case "t":rd=q+gc[1];Wc=J+gc[2];null===cc[0].match(/[QqTt]/)?(fa=q,ya=J):"t"===cc[0]?(fa=2*q-Ge,ya=2*J-Pe):"q"===cc[0]&&(fa=2*q-fa,ya=2*J-ya);var Ge=fa;var Pe=ya;B.quadraticCurveTo(fa+Aa,ya+La,rd+Aa,Wc+La);
q=rd;J=Wc;fa=q+gc[1];ya=J+gc[2];break;case "T":rd=gc[1];Wc=gc[2];fa=2*q-fa;ya=2*J-ya;B.quadraticCurveTo(fa+Aa,ya+La,rd+Aa,Wc+La);q=rd;J=Wc;break;case "a":Ma(B,q+Aa,J+La,[gc[1],gc[2],gc[3],gc[4],gc[5],gc[6]+q+Aa,gc[7]+J+La]);q+=gc[6];J+=gc[7];break;case "A":Ma(B,q+Aa,J+La,[gc[1],gc[2],gc[3],gc[4],gc[5],gc[6]+Aa,gc[7]+La]);q=gc[6];J=gc[7];break;case "z":case "Z":q=cb,J=Pb,B.closePath()}cc=gc}}function Ma(B,aa,Aa,La){aa=ja(La[5],La[6],La[0],La[1],La[3],La[4],La[2],aa,Aa);for(Aa=0;Aa<aa.length;++Aa){a:{var zb=
aa[Aa];La=rg.call(zb);if(rf[La]){La=rf[La];break a}var yb=zb[0],cc=zb[1],q=zb[2],J=zb[3],fa=zb[4],ya=zb[5],cb=zb[6],Pb=zb[7];zb=Pb*fa;const wc=-cb*ya;fa*=cb;ya*=Pb;var kc=Math.cos(q);const gc=Math.sin(q);cb=Math.cos(J);Pb=Math.sin(J);q=.5*(J-q);J=Math.sin(.5*q);J=8/3*J*J/Math.sin(q);q=yb+kc-J*gc;kc=cc+gc+J*kc;yb+=cb;cc+=Pb;Pb=yb+J*Pb;cb=cc-J*cb;La=rf[La]=[zb*q+wc*kc,fa*q+ya*kc,zb*Pb+wc*cb,fa*Pb+ya*cb,zb*yb+wc*cc,fa*yb+ya*cc]}B.bezierCurveTo(La[0],La[1],La[2],La[3],La[4],La[5])}}function Pa(B){return h.hasOwnProperty(Fh,
B)?Fh[B]:Xa(B)}function Xa(B){if(!h.hasOwnProperty(kg,B)){const aa=O(B);kg[B]={draw:function(Aa,La){va(Aa,aa,0,0,Math.sqrt(La)/2)}}}return kg[B]}function sb(B){return B.x}function ib(B){return B.y}function Sb(B){return B.width}function Y(B){return B.height}function Fa(B){return"function"===typeof B?B:()=>+B}function Kb(B,aa,Aa){return Math.max(aa,Math.min(B,Aa))}function pc(){function B(ya,cb,Pb){var kc;cb=null!=cb?cb:+aa.call(this,ya);Pb=null!=Pb?Pb:+Aa.call(this,ya);var wc=+La.call(this,ya),gc=
+zb.call(this,ya),rd=Math.min(wc,gc)/2,Wc=Kb(+yb.call(this,ya),0,rd),zd=Kb(+cc.call(this,ya),0,rd),ie=Kb(+q.call(this,ya),0,rd);ya=Kb(+J.call(this,ya),0,rd);fa||(fa=kc=jc());0>=Wc&&0>=zd&&0>=ie&&0>=ya?fa.rect(cb,Pb,wc,gc):(wc=cb+wc,gc=Pb+gc,fa.moveTo(cb+Wc,Pb),fa.lineTo(wc-zd,Pb),fa.bezierCurveTo(wc-.448084975506*zd,Pb,wc,Pb+.448084975506*zd,wc,Pb+zd),fa.lineTo(wc,gc-ya),fa.bezierCurveTo(wc,gc-.448084975506*ya,wc-.448084975506*ya,gc,wc-ya,gc),fa.lineTo(cb+ie,gc),fa.bezierCurveTo(cb+.448084975506*
ie,gc,cb,gc-.448084975506*ie,cb,gc-ie),fa.lineTo(cb,Pb+Wc),fa.bezierCurveTo(cb,Pb+.448084975506*Wc,cb+.448084975506*Wc,Pb,cb+Wc,Pb),fa.closePath());if(kc)return fa=null,kc+""||null}var aa=sb,Aa=ib,La=Sb,zb=Y,yb=Fa(0),cc=yb,q=yb,J=yb,fa=null;B.x=function(ya){return arguments.length?(aa=Fa(ya),B):aa};B.y=function(ya){return arguments.length?(Aa=Fa(ya),B):Aa};B.width=function(ya){return arguments.length?(La=Fa(ya),B):La};B.height=function(ya){return arguments.length?(zb=Fa(ya),B):zb};B.cornerRadius=
function(ya,cb,Pb,kc){return arguments.length?(yb=Fa(ya),cc=null!=cb?Fa(cb):yb,J=null!=Pb?Fa(Pb):yb,q=null!=kc?Fa(kc):cc,B):yb};B.context=function(ya){return arguments.length?(fa=null==ya?null:ya,B):fa};return B}function ac(){function B(ya){var cb,Pb=ya.length,kc,wc=!1,gc;null==yb&&(yb=gc=jc());for(cb=0;cb<=Pb;++cb)if(!(cb<Pb&&zb(kc=ya[cb],cb,ya))===wc&&(wc=!wc)&&(cc=0),wc){var rd=+aa(kc,cb,ya),Wc=+Aa(kc,cb,ya);const Ue=+La(kc,cb,ya)/2;if(cc){var zd=J-Wc,ie=rd-q;if(zd||ie){var Ge=Math.hypot(zd,ie),
Pe=(zd/=Ge)*fa;Ge=(ie/=Ge)*fa;var Df=Math.atan2(ie,zd);yb.moveTo(q-Pe,J-Ge);yb.lineTo(rd-zd*Ue,Wc-ie*Ue);yb.arc(rd,Wc,Ue,Df-Math.PI,Df);yb.lineTo(q+Pe,J+Ge);yb.arc(q,J,fa,Df,Df+Math.PI)}else yb.arc(rd,Wc,Ue,0,qf);yb.closePath()}else cc=1;q=rd;J=Wc;fa=Ue}if(gc)return yb=null,gc+""||null}var aa,Aa,La,zb,yb=null,cc,q,J,fa;B.x=function(ya){return arguments.length?(aa=ya,B):aa};B.y=function(ya){return arguments.length?(Aa=ya,B):Aa};B.size=function(ya){return arguments.length?(La=ya,B):La};B.defined=function(ya){return arguments.length?
(zb=ya,B):zb};B.context=function(ya){return arguments.length?(yb=null==ya?null:ya,B):yb};return B}function Mb(B,aa){return null!=B?B:aa}function Ob(B){return B.cornerRadius||B.cornerRadiusTopLeft||B.cornerRadiusTopRight||B.cornerRadiusBottomRight||B.cornerRadiusBottomLeft}function xc(B,aa,Aa,La){return Pd.context(B)(aa,Aa,La)}function hd(B,aa,Aa){var La=aa.clip;B=B._defs;aa=aa.clip_id||(aa.clip_id="clip"+ye++);B=B.clipping[aa]||(B.clipping[aa]={id:aa});h.isFunction(La)?B.path=La(null):Ob(Aa)?B.path=
xc(null,Aa,0,0):(B.width=Aa.width||0,B.height=Aa.height||0);return"url(#"+aa+")"}function ra(B){this.clear();B&&this.union(B)}function Bb(B){this.mark=B;this.bounds=this.bounds||new ra}function Ua(B){Bb.call(this,B);this.items=this.items||[]}function xb(B){this._pending=0;this._loader=B||Ya.loader()}function Fb(B,aa,Aa){if(aa.stroke&&0!==aa.opacity&&0!==aa.strokeOpacity){const La=null!=aa.strokeWidth?+aa.strokeWidth:1;B.expand(La+(Aa?aa.strokeJoin&&"miter"!==aa.strokeJoin?0:La:0))}return B}function Lb(B,
aa){nf=B;aa?(sg=aa*We,fg=Rd=Math.cos(sg),tg=Math.sin(sg),ug=-tg):(fg=Rd=1,sg=tg=ug=0);return Tf}function Zb(B,aa,Aa,La){Aa=(B-aa)/(B+Aa-2*aa);0<Aa&&1>Aa&&La(B+(aa-B)*Aa)}function ic(B,aa,Aa,La,zb){const yb=La-B+3*aa-3*Aa,cc=B+Aa-2*aa;var q=B-aa;let J=0,fa=0;1E-14<Math.abs(yb)?(q=cc*cc+q*yb,0<=q&&(q=Math.sqrt(q),J=(-cc+q)/yb,fa=(-cc-q)/yb)):J=.5*q/cc;0<J&&1>J&&zb(Ac(J,B,aa,Aa,La));0<fa&&1>fa&&zb(Ac(fa,B,aa,Aa,La))}function Ac(B,aa,Aa,La,zb){const yb=1-B,cc=yb*yb,q=B*B;return cc*yb*aa+3*cc*B*Aa+3*yb*
q*La+q*B*zb}function nd(B){return function(aa,Aa){if(!vf)return!0;B(vf,aa);Hf.clear().union(aa.bounds).intersect(Aa).round();const {x1:La,y1:zb,x2:yb,y2:cc}=Hf;for(aa=zb;aa<=cc;++aa)for(Aa=La;Aa<=yb;++Aa)if(vf.isPointInPath(Aa,aa))return!0;return!1}}function Uc(B,aa){return aa.contains(B.x||0,B.y||0)}function ma(B,aa){const Aa=B.x||0,La=B.y||0;return aa.intersects(Hf.set(Aa,La,Aa+(B.width||0),La+(B.height||0)))}function Ha(B,aa){const Aa=B.x||0,La=B.y||0;return fb(aa,Aa,La,null!=B.x2?B.x2:Aa,null!=
B.y2?B.y2:La)}function fb(B,aa,Aa,La,zb){const {x1:yb,y1:cc,x2:q,y2:J}=B;B=La-aa;zb-=Aa;La=0;let fa=1,ya,cb,Pb,kc;for(kc=0;4>kc;++kc){0===kc&&(ya=-B,cb=-(yb-aa));1===kc&&(ya=B,cb=q-aa);2===kc&&(ya=-zb,cb=-(cc-Aa));3===kc&&(ya=zb,cb=J-Aa);if(1E-10>Math.abs(ya)&&0>cb)return!1;Pb=cb/ya;if(0>ya){if(Pb>fa)return!1;Pb>La&&(La=Pb)}else if(0<ya){if(Pb<La)return!1;Pb<fa&&(fa=Pb)}}return!0}function S(B,aa){B.globalCompositeOperation=aa.blend||"source-over"}function r(B,aa){return null==B?aa:B}function da(B,
aa){const Aa=aa.length;for(let La=0;La<Aa;++La)B.addColorStop(aa[La].offset,aa[La].color);return B}function za(B,aa,Aa){const La=Aa.width(),zb=Aa.height();if("radial"===aa.gradient)B=B.createRadialGradient(Aa.x1+r(aa.x1,.5)*La,Aa.y1+r(aa.y1,.5)*zb,Math.max(La,zb)*r(aa.r1,0),Aa.x1+r(aa.x2,.5)*La,Aa.y1+r(aa.y2,.5)*zb,Math.max(La,zb)*r(aa.r2,.5));else{const yb=r(aa.x1,0),cc=r(aa.y1,0),q=r(aa.x2,1),J=r(aa.y2,0);if(yb===q||cc===J||La===zb)B=B.createLinearGradient(Aa.x1+yb*La,Aa.y1+cc*zb,Aa.x1+q*La,Aa.y1+
J*zb);else{Aa=ia.canvas(Math.ceil(La),Math.ceil(zb));const fa=Aa.getContext("2d");fa.scale(La,zb);fa.fillStyle=da(fa.createLinearGradient(yb,cc,q,J),aa.stops);fa.fillRect(0,0,La,zb);return B.createPattern(Aa,"no-repeat")}}return da(B,aa.stops)}function Da(B,aa,Aa){Aa*=null==aa.fillOpacity?1:aa.fillOpacity;return 0<Aa?(B.globalAlpha=Aa,aa=(Aa=aa.fill)&&Aa.gradient?za(B,Aa,aa.bounds):Aa,B.fillStyle=aa,!0):!1}function Oa(B,aa,Aa){var La=null!=(La=aa.strokeWidth)?La:1;if(0>=La)return!1;Aa*=null==aa.strokeOpacity?
1:aa.strokeOpacity;return 0<Aa?(B.globalAlpha=Aa,Aa=(Aa=aa.stroke)&&Aa.gradient?za(B,Aa,aa.bounds):Aa,B.strokeStyle=Aa,B.lineWidth=La,B.lineCap=aa.strokeCap||"butt",B.lineJoin=aa.strokeJoin||"miter",B.miterLimit=aa.strokeMiterLimit||10,B.setLineDash&&(B.setLineDash(aa.strokeDash||lf),B.lineDashOffset=aa.strokeDashOffset||0),!0):!1}function kb(B,aa){return B.zindex-aa.zindex||B.index-aa.index}function Vb(B){if(!B.zdirty)return B.zitems;var aa=B.items,Aa=[],La;var zb=0;for(La=aa.length;zb<La;++zb){var yb=
aa[zb];yb.index=zb;yb.zindex&&Aa.push(yb)}B.zdirty=!1;return B.zitems=Aa.sort(kb)}function Eb(B,aa){var Aa=B.items,La;if(Aa&&Aa.length){var zb=Vb(B);if(zb&&zb.length){B=0;for(La=Aa.length;B<La;++B)Aa[B].zindex||aa(Aa[B]);Aa=zb}B=0;for(La=Aa.length;B<La;++B)aa(Aa[B])}}function Hb(B,aa){var Aa=B.items,La,zb;if(!Aa||!Aa.length)return null;const yb=Vb(B);yb&&yb.length&&(Aa=yb);for(zb=Aa.length;0<=--zb;)if(La=aa(Aa[zb]))return La;if(Aa===yb)for(Aa=B.items,zb=Aa.length;0<=--zb;)if(!Aa[zb].zindex&&(La=aa(Aa[zb])))return La;
return null}function Cc(B){return function(aa,Aa,La){Eb(Aa,zb=>{La&&!La.intersects(zb.bounds)||Nc(B,aa,zb,zb)})}}function Hc(B){return function(aa,Aa,La){!Aa.items.length||La&&!La.intersects(Aa.bounds)||Nc(B,aa,Aa.items[0],Aa.items)}}function Nc(B,aa,Aa,La){var zb=null==Aa.opacity?1:Aa.opacity;0===zb||B(aa,La)||(S(aa,Aa),Aa.fill&&Da(aa,Aa,zb)&&aa.fill(),Aa.stroke&&Oa(aa,Aa,zb)&&aa.stroke())}function xd(B){B=B||h.truthy;return function(aa,Aa,La,zb,yb,cc){La*=aa.pixelRatio;zb*=aa.pixelRatio;return Hb(Aa,
q=>{const J=q.bounds;if((!J||J.contains(yb,cc))&&J&&B(aa,q,La,zb,yb,cc))return q})}}function sd(B,aa){return function(Aa,La,zb,yb){var cc=Array.isArray(La)?La[0]:La,q=null==aa?cc.fill:aa,J=cc.stroke&&Aa.isPointInStroke;if(J){var fa=cc.strokeWidth;cc=cc.strokeCap;Aa.lineWidth=null!=fa?fa:1;Aa.lineCap=null!=cc?cc:"butt"}return B(Aa,La)?!1:q&&Aa.isPointInPath(zb,yb)||J&&Aa.isPointInStroke(zb,yb)}}function ed(B,aa){return"translate("+B+","+aa+")"}function Jd(B,aa,Aa){function La(zb,yb){var cc=yb.x||0,
q=yb.y||0,J=yb.angle||0;zb.translate(cc,q);J&&zb.rotate(J*=We);zb.beginPath();aa(zb,yb);J&&zb.rotate(-J);zb.translate(-cc,-q)}return{type:B,tag:"path",nested:!1,attr:function(zb,yb){var cc=ed(yb.x||0,yb.y||0)+(yb.angle?" rotate("+(yb.angle+")"):"");zb("transform",cc);zb("d",aa(null,yb))},bound:function(zb,yb){aa(Lb(zb,yb.angle),yb);return Fb(zb,yb).translate(yb.x||0,yb.y||0)},draw:Cc(La),pick:xd(sd(La)),isect:Aa||nd(La)}}function Hd(B,aa,Aa){function La(yb,cc){yb.beginPath();aa(yb,cc)}const zb=sd(La);
return{type:B,tag:"path",nested:!0,attr:function(yb,cc){cc=cc.mark.items;cc.length&&yb("d",aa(null,cc))},bound:function(yb,cc){cc=cc.items;if(0===cc.length)return yb;aa(Lb(yb),cc);return Fb(yb,cc[0])},draw:Hc(La),pick:function(yb,cc,q,J,fa,ya){var cb=cc.items;cc=cc.bounds;if(!cb||!cb.length||cc&&!cc.contains(fa,ya))return null;q*=yb.pixelRatio;J*=yb.pixelRatio;return zb(yb,cb,q,J)?cb[0]:null},isect:Uc,tip:Aa}}function vd(B,aa){B.beginPath();Ob(aa)?xc(B,aa,0,0):B.rect(0,0,aa.width||0,aa.height||0);
B.clip()}function we(B){const aa=r(B.strokeWidth,1);return null!=B.strokeOffset?B.strokeOffset:B.stroke&&.5<aa&&1.5>aa?.5-Math.abs(aa-1):0}function Ed(B,aa,Aa,La){const zb=we(aa);B.beginPath();xc(B,aa,(Aa||0)+zb,(La||0)+zb)}function w(B,aa){var Aa=B.image;if(!Aa||B.url&&B.url!==Aa.url)Aa={complete:!1,width:0,height:0},aa.loadImage(B.url).then(La=>{B.image=La;B.image.url=B.url});return Aa}function I(B,aa){return null!=B.width?B.width:aa&&aa.width?!1!==B.aspect&&B.height?B.height*aa.width/aa.height:
aa.width:0}function wa(B,aa){return null!=B.height?B.height:aa&&aa.height?!1!==B.aspect&&B.width?B.width*aa.height/aa.width:aa.height:0}function Ja(B,aa){return"center"===B?aa/2:"right"===B?aa:0}function jb(B,aa){return"middle"===B?aa/2:"bottom"===B?aa:0}function wb(B,aa){var Aa=aa.path;if(null==Aa)return!0;var La=aa.x||0,zb=aa.y||0,yb=aa.scaleX||1,cc=aa.scaleY||1,q=(aa.angle||0)*We,J=aa.pathCache;J&&J.path===Aa||((aa.pathCache=J=O(Aa)).path=Aa);q&&B.rotate&&B.translate?(B.translate(La,zb),B.rotate(q),
va(B,J,0,0,yb,cc),B.rotate(-q),B.translate(-La,-zb)):va(B,J,La,zb,yb,cc)}function ec(B,aa){B.beginPath();xc(B,aa)}function Qb(B,aa,Aa){if(aa.stroke&&Oa(B,aa,Aa)){Aa=aa.x||0;var La=aa.y||0;var zb=null!=aa.x2?aa.x2:Aa;aa=null!=aa.y2?aa.y2:La;B.beginPath();B.moveTo(Aa,La);B.lineTo(zb,aa);return!0}return!1}function qc(B){Zg.width=B&&vf?zc:Fc}function Fc(B,aa){aa=kd(B,aa);B=md(B);return~~(.8*aa.length*B)}function zc(B,aa){return 0>=md(B)||!(aa=kd(B,aa))?0:bd(aa,Ne(B))}function bd(B,aa){const Aa=`(${aa}) ${B}`;
let La=Mi.get(Aa);void 0===La&&(vf.font=aa,La=vf.measureText(B).width,Mi.set(Aa,La));return La}function md(B){return null!=B.fontSize?+B.fontSize||0:11}function qd(B){return null!=B.lineHeight?B.lineHeight:md(B)+2}function Gd(B){B=B.lineBreak&&B.text&&!h.isArray(B.text)?B.text.split(B.lineBreak):B.text;return h.isArray(B)?1<B.length?B:B[0]:B}function kd(B,aa){aa=null==aa?"":(aa+"").trim();if(0<B.limit&&aa.length){var Aa=+B.limit,La=Od(B);if(!(La(aa)<Aa)){var zb=B.ellipsis||"",yb="rtl"===B.dir;B=
0;var cc=aa.length;Aa-=La(zb);if(yb){for(;B<cc;)yb=B+cc>>>1,La(aa.slice(yb))>Aa?B=yb+1:cc=yb;aa=zb+aa.slice(B)}else{for(;B<cc;)yb=1+(B+cc>>>1),La(aa.slice(0,yb))<Aa?B=yb:cc=yb-1;aa=aa.slice(0,B)+zb}}}return aa}function Od(B){if(Zg.width===zc){const aa=Ne(B);return Aa=>bd(Aa,aa)}if(Zg.width===Fc){const aa=md(B);return Aa=>~~(.8*Aa.length*aa)}return aa=>Zg.width(B,aa)}function he(B,aa){B=B.font;return(aa&&B?String(B).replace(/"/g,"'"):B)||"sans-serif"}function Ne(B,aa){return(B.fontStyle?B.fontStyle+
" ":"")+(B.fontVariant?B.fontVariant+" ":"")+(B.fontWeight?B.fontWeight+" ":"")+md(B)+"px "+he(B,aa)}function Ie(B){var aa=B.baseline,Aa=md(B);return Math.round("top"===aa?.79*Aa:"middle"===aa?.3*Aa:"bottom"===aa?-.21*Aa:"line-top"===aa?.29*Aa+.5*qd(B):"line-bottom"===aa?.29*Aa-.5*qd(B):0)}function Fe(B){var aa=B.x||0,Aa=B.y||0,La=B.radius||0;La&&(B=(B.theta||0)-Rf,aa+=La*Math.cos(B),Aa+=La*Math.sin(B));ph.x1=aa;ph.y1=Aa;return ph}function uf(B,aa,Aa){var La=Zg.height(aa),zb=aa.align,yb=Fe(aa),cc=
yb.x1;yb=yb.y1;var q=aa.dx||0,J=(aa.dy||0)+Ie(aa)-Math.round(.8*La),fa=Gd(aa);h.isArray(fa)?(La+=qd(aa)*(fa.length-1),fa=fa.reduce((ya,cb)=>Math.max(ya,Zg.width(aa,cb)),0)):fa=Zg.width(aa,fa);"center"===zb?q-=fa/2:"right"===zb&&(q-=fa);B.set(q+=cc,J+=yb,q+fa,J+La);if(aa.angle&&!Aa)B.rotate(aa.angle*We,cc,yb);else if(2===Aa)return B.rotatedPoints(aa.angle*We,cc,yb);return B}function gf(B,aa,Aa){var La=wg[B.mark.marktype];aa=aa||La.bound;La.nested&&(B=B.mark);return aa(B.bounds||(B.bounds=new ra),B,
Aa)}function E(B,aa,Aa){var La=wg[B.marktype],zb=La.bound,yb=B.items,cc=yb&&yb.length;if(La.nested)return cc?B=yb[0]:(gg.mark=B,B=gg),Aa=gf(B,zb,Aa),aa=aa&&aa.union(Aa)||Aa;aa=aa||B.bounds&&B.bounds.clear()||new ra;if(cc)for(La=0,cc=yb.length;La<cc;++La)aa.union(gf(yb[La],zb,Aa));return B.bounds=aa}function ca(B,aa){return JSON.stringify(B,Zi,aa)}function Ga(B){B="string"===typeof B?JSON.parse(B):B;return eb(B)}function eb(B){var aa=B.marktype,Aa=B.items,La;if(Aa){var zb=0;for(La=Aa.length;zb<La;++zb){var yb=
aa?"mark":"group";Aa[zb][yb]=B;Aa[zb].zindex&&(Aa[zb][yb].zdirty=!0);"group"===(aa||yb)&&eb(Aa[zb])}}aa&&E(B);return B}function Gb(B){arguments.length?this.root=Ga(B):(this.root=rc({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Ua(this.root)])}function rc(B,aa){aa={bounds:new ra,clip:!!B.clip,group:aa,interactive:!1===B.interactive?!1:!0,items:[],marktype:B.marktype,name:B.name||void 0,role:B.role||void 0,zindex:B.zindex||0};null!=B.aria&&(aa.aria=B.aria);B.description&&(aa.description=
B.description);return aa}function Rb(B,aa,Aa){!B&&"undefined"!==typeof document&&document.createElement&&(B=document);return B?Aa?B.createElementNS(Aa,aa):B.createElement(aa):null}function Sc(B,aa){aa=aa.toLowerCase();B=B.childNodes;for(var Aa=0,La=B.length;Aa<La;++Aa)if(B[Aa].tagName.toLowerCase()===aa)return B[Aa]}function fd(B,aa,Aa,La){aa=B.childNodes[aa];if(!aa||aa.tagName.toLowerCase()!==Aa.toLowerCase()){var zb=aa||null;aa=Rb(B.ownerDocument,Aa,La);B.insertBefore(aa,zb)}return aa}function cd(B,
aa){for(var Aa=B.childNodes,La=Aa.length;La>aa;)B.removeChild(Aa[--La]);return B}function Oc(B){return"mark-"+B.marktype+(B.role?" role-"+B.role:"")+(B.name?" "+B.name:"")}function Nd(B,aa){const Aa=aa.getBoundingClientRect();return[B.clientX-Aa.left-(aa.clientLeft||0),B.clientY-Aa.top-(aa.clientTop||0)]}function Md(B,aa){this._active=null;this._handlers={};this._loader=B||Ya.loader();this._tooltip=aa||Ld}function Ld(B,aa,Aa,La){B.element().setAttribute("title",La||"")}function Ad(B){this._bgcolor=
this._el=null;this._loader=new xb(B)}function Wd(B,aa){Md.call(this,B,aa);this._touch=this._down=null;this._first=!0;this._events={}}function Ca(B,aa){("touchstart"===aa||"touchmove"===aa||"touchend"===aa?["touchstart","touchmove","touchend"]:[aa]).forEach(Aa=>Qa(B,Aa))}function Qa(B,aa){const Aa=B.canvas();Aa&&!B._events[aa]&&(B._events[aa]=1,Aa.addEventListener(aa,B[aa]?La=>B[aa](La):La=>B.fire(aa,La)))}function bc(B,aa,Aa){aa.forEach(La=>B.fire(La,Aa))}function id(B,aa,Aa){return function(La){const zb=
this._active,yb=this.pickEvent(La);yb!==zb&&(zb&&zb.exit||bc(this,Aa,La),this._active=yb,bc(this,aa,La));bc(this,B,La)}}function sc(B){return function(aa){bc(this,B,aa);this._active=null}}function Mc(B){Ad.call(this,B);this._options={};this._redraw=!1;this._dirty=new ra;this._tempb=new ra}function Ec(B,aa){Md.call(this,B,aa);const Aa=this;Aa._hrefHandler=$g(Aa,(La,zb)=>{zb&&zb.href&&Aa.handleHref(La,zb,zb.href)});Aa._tooltipHandler=$g(Aa,(La,zb)=>{Aa.handleTooltip(La,zb,"pointerout"!==La.type)})}
function Tc(B,aa){var Aa=!1===aa.aria;B("aria-hidden",Aa||void 0);if(Aa||null==aa.description)for(const La in Gh)B(Gh[La],void 0);else Aa=aa.mark.marktype,B("aria-label",aa.description),B("role",aa.ariaRole||("group"===Aa?"graphics-object":"graphics-symbol")),B("aria-roledescription",aa.ariaRoleDescription||`${Aa} mark`)}function Xc(B){return!1===B.aria?{["aria-hidden"]:!0}:Kj[B.role]?null:yh[B.role]?pd(B,yh[B.role]):ld(B)}function ld(B){const aa=B.marktype,Aa="group"===aa||"text"===aa||B.items.some(La=>
null!=La.description&&!1!==La.aria);return ti(Aa?"graphics-object":"graphics-symbol",`${aa} mark container`,B.description)}function pd(B,aa){try{const Aa=B.items[0],La=aa.caption||(()=>"");return ti(aa.role||"graphics-symbol",aa.desc,Aa.description||La(Aa))}catch(Aa){return null}}function me(B){try{return h.array(h.peek(B.items).items[0].text).join(" ")}catch(aa){return null}}function df(B){B=B.map(aa=>aa+("fill"===aa||"stroke"===aa?" color":""));return 2>B.length?B[0]:B.slice(0,-1).join(", ")+" and "+
h.peek(B)}function Oe(){let B="",aa="",Aa="";const La=[],zb=(cc,q)=>{null!=q&&(aa+=` ${cc}="${Ig(q).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return yb},yb={open(cc,...q){aa&&(B+=`${aa}>${Aa}`,aa=Aa="");La.push(cc);aa="\x3c"+cc;for(const J of q)for(const fa in J)zb(fa,J[fa]);return yb},close(){const cc=La.pop();B=aa?B+(aa+(Aa?`>${Aa}</${cc}>`:"/\x3e")):B+`</${cc}>`;aa=Aa="";return yb},attr:zb,text:cc=>(Aa+=Ig(cc),yb),toString:()=>B};
return yb}function Je(B,aa){B.open(aa.tagName);if(aa.hasAttributes()){const Aa=aa.attributes,La=Aa.length;for(let zb=0;zb<La;++zb)B.attr(Aa[zb].name,Aa[zb].value)}if(aa.hasChildNodes()){aa=aa.childNodes;for(const Aa of aa)3===Aa.nodeType?B.text(Aa.nodeValue):Je(B,Aa)}return B.close()}function hf(B){Ad.call(this,B);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function pf(B,aa){for(;B&&B.dirty!==aa;B=B.mark.group)if(B.dirty=aa,B.mark&&B.mark.dirty!==aa)B.mark.dirty=aa;else break}
function Le(B,aa,Aa,La){aa=aa.lastChild.previousSibling;let zb,yb=0;Eb(Aa,cc=>{zb=B.mark(aa,cc,zb,La);++yb});cd(aa,1+yb)}function $e(B,aa,Aa,La,zb){let yb=B._svg;if(!yb){var cc=aa.ownerDocument;yb=Rb(cc,La,Kf);B._svg=yb;B.mark&&(yb.__data__=B,yb.__values__={fill:"default"},"g"===La&&(La=Rb(cc,"path",Kf),yb.appendChild(La),La.__data__=B,La=Rb(cc,"g",Kf),yb.appendChild(La),La.__data__=B,cc=Rb(cc,"path",Kf),yb.appendChild(cc),cc.__data__=B,cc.__values__={fill:"default"}))}(yb.ownerSVGElement!==zb||yb.parentNode&&
1<yb.parentNode.childNodes.length&&yb.previousSibling!=Aa)&&aa.insertBefore(yb,Aa?Aa.nextSibling:aa.firstChild);return yb}function Ze(B,aa,Aa){if(aa!==If[B]){if(Aa){var La=gh;null!=aa?La.setAttributeNS(Aa,B,aa):La.removeAttributeNS(Aa,B)}else le(gh,B,aa);If[B]=aa}}function ne(B,aa,Aa){Aa!==If[aa]&&(null==Aa?B.style.removeProperty(aa):B.style.setProperty(aa,Aa+""),If[aa]=Aa)}function fe(B,aa){for(const Aa in aa)le(B,Aa,aa[Aa])}function le(B,aa,Aa){null!=Aa?B.setAttribute(aa,Aa):B.removeAttribute(aa)}
function oe(){let B;return"undefined"===typeof window?"":(B=window.location).hash?B.href.slice(0,-B.hash.length):B.href}function y(B){Ad.call(this,B);this._text=null;this._defs={gradient:{},clipping:{}}}function M(B,aa,Aa,La,zb){let yb;if(null==aa)return B;"bgrect"===La&&!1===Aa.interactive&&(B["pointer-events"]="none");if("bgfore"===La&&(!1===Aa.interactive&&(B["pointer-events"]="none"),B.display="none",null!==aa.fill))return B;"image"===La&&!1===aa.smooth&&(yb=["image-rendering: optimizeSpeed;",
"image-rendering: pixelated;"]);"text"===La&&(B["font-family"]=he(aa),B["font-size"]=md(aa)+"px",B["font-style"]=aa.fontStyle,B["font-variant"]=aa.fontVariant,B["font-weight"]=aa.fontWeight);for(const cc in zh)Aa=aa[cc],La=zh[cc],("transparent"!==Aa||"fill"!==La&&"stroke"!==La)&&null!=Aa&&(Aa&&Aa.gradient&&(Aa=Yb(Aa,zb.gradient,"")),B[La]=Aa);for(const cc in Hh)zb=aa[cc],null!=zb&&(yb=yb||[],yb.push(`${Hh[cc]}: ${zb};`));yb&&(B.style=yb.join(" "));return B}function p(B){Ad.call(this,B);this._svgRenderer=
new hf(B);this._canvasRenderer=new Mc(B)}function Q(B,aa){Wd.call(this,B,aa)}function Z(B,aa,Aa,La){if(B.bounds&&aa.intersects(B.bounds)&&("group"===B.marktype||!1!==B.interactive&&(!Aa||Aa(B)))){const yb=B.items;var zb=B.marktype;B=yb.length;let cc=0;if("group"===zb)for(;cc<B;++cc)pa(yb[cc],aa,Aa,La);else for(Aa=wg[zb].isect;cc<B;++cc)zb=yb[cc],xa(zb,aa,Aa)&&La.push(zb)}return La}function pa(B,aa,Aa,La){Aa&&Aa(B.mark)&&xa(B,aa,wg.group.isect)&&La.push(B);const zb=B.items,yb=zb&&zb.length;if(yb){const cc=
B.x||0;B=B.y||0;aa.translate(-cc,-B);for(let q=0;q<yb;++q)Z(zb[q],aa,Aa,La);aa.translate(cc,B)}return La}function xa(B,aa,Aa){const La=B.bounds;return aa.encloses(La)||aa.intersects(La)&&Aa(B,aa)}function Cb(B,aa,Aa){return B===aa?!0:"path"===Aa?Ib(B,aa):B instanceof Date&&aa instanceof Date?+B===+aa:h.isNumber(B)&&h.isNumber(aa)?1E-9>=Math.abs(B-aa):B&&aa&&(h.isObject(B)||h.isObject(aa))?Xb(B,aa):B==aa}function Ib(B,aa){return Cb(O(B),O(aa))}function Xb(B,aa){var Aa=Object.keys(B),La=Object.keys(aa),
zb;if(Aa.length!==La.length)return!1;Aa.sort();La.sort();for(zb=Aa.length-1;0<=zb;zb--)if(Aa[zb]!=La[zb])return!1;for(zb=Aa.length-1;0<=zb;zb--)if(La=Aa[zb],!Cb(B[La],aa[La],La))return!1;return typeof B===typeof aa}let $b=0;const mc=Math.abs,vc=Math.atan2,yc=Math.cos,Jc=Math.max,Zc=Math.min,Yc=Math.sin,jd=Math.sqrt,$d=Math.PI,Rc=$d/2,Xd=2*$d,te=Math.PI,$c=2*te,Cd=$c-1E-6;class Qd{constructor(B){this._x0=this._y0=this._x1=this._y1=null;this._="";this._append=null==B?Ab:Ub(B)}moveTo(B,aa){this._append`M${this._x0=
this._x1=+B},${this._y0=this._y1=+aa}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(B,aa){this._append`L${this._x1=+B},${this._y1=+aa}`}quadraticCurveTo(B,aa,Aa,La){this._append`Q${+B},${+aa},${this._x1=+Aa},${this._y1=+La}`}bezierCurveTo(B,aa,Aa,La,zb,yb){this._append`C${+B},${+aa},${+Aa},${+La},${this._x1=+zb},${this._y1=+yb}`}arcTo(B,aa,Aa,La,zb){B=+B;aa=+aa;Aa=+Aa;La=+La;zb=+zb;if(0>zb)throw Error(`negative radius: ${zb}`);var yb=this._x1,cc=this._y1;
let q=Aa-B,J=La-aa,fa=yb-B,ya=cc-aa;var cb=fa*fa+ya*ya;if(null===this._x1)this._append`M${this._x1=B},${this._y1=aa}`;else if(1E-6<cb)if(1E-6<Math.abs(ya*q-J*fa)&&zb){Aa-=yb;La-=cc;let Pb=q*q+J*J;cc=Math.sqrt(Pb);yb=Math.sqrt(cb);cb=zb*Math.tan((te-Math.acos((Pb+cb-(Aa*Aa+La*La))/(2*cc*yb)))/2);yb=cb/yb;cb/=cc;1E-6<Math.abs(yb-1)&&this._append`L${B+yb*fa},${aa+yb*ya}`;this._append`A${zb},${zb},0,0,${+(ya*Aa>fa*La)},${this._x1=B+cb*q},${this._y1=aa+cb*J}`}else this._append`L${this._x1=B},${this._y1=
aa}`}arc(B,aa,Aa,La,zb,yb){B=+B;aa=+aa;Aa=+Aa;yb=!!yb;if(0>Aa)throw Error(`negative radius: ${Aa}`);let cc=Aa*Math.cos(La),q=Aa*Math.sin(La),J=B+cc,fa=aa+q,ya=1^yb;La=yb?La-zb:zb-La;null===this._x1?this._append`M${J},${fa}`:(1E-6<Math.abs(this._x1-J)||1E-6<Math.abs(this._y1-fa))&&this._append`L${J},${fa}`;Aa&&(0>La&&(La=La%$c+$c),La>Cd?this._append`A${Aa},${Aa},0,1,${ya},${B-cc},${aa-q}A${Aa},${Aa},0,1,${ya},${this._x1=J},${this._y1=fa}`:1E-6<La&&this._append`A${Aa},${Aa},0,${+(La>=te)},${ya},${this._x1=
B+Aa*Math.cos(zb)},${this._y1=aa+Aa*Math.sin(zb)}`)}rect(B,aa,Aa,La){this._append`M${this._x0=this._x1=+B},${this._y0=this._y1=+aa}h${Aa=+Aa}v${+La}h${-Aa}Z`}toString(){return this._}}jc.prototype=Qd.prototype;sa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(B,aa){B=+B;aa=+aa;switch(this._point){case 0:this._point=
1;this._line?this._context.lineTo(B,aa):this._context.moveTo(B,aa);break;case 1:this._point=2;default:this._context.lineTo(B,aa)}}};var re={draw(B,aa){aa=jd(aa/$d);B.moveTo(aa,0);B.arc(0,0,aa,0,Xd)}};qb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:Za(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&
1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(B,aa){B=+B;aa=+aa;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(B,aa):this._context.moveTo(B,aa);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Za(this,B,aa)}this._x0=this._x1;this._x1=B;this._y0=this._y1;this._y1=aa}};Nb.prototype={areaStart:hb,areaEnd:hb,lineStart:function(){this._x0=this._x1=this._x2=
this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(B,aa){B=
+B;aa=+aa;switch(this._point){case 0:this._point=1;this._x2=B;this._y2=aa;break;case 1:this._point=2;this._x3=B;this._y3=aa;break;case 2:this._point=3;this._x4=B;this._y4=aa;this._context.moveTo((this._x0+4*this._x1+B)/6,(this._y0+4*this._y1+aa)/6);break;default:Za(this,B,aa)}this._x0=this._x1;this._x1=B;this._y0=this._y1;this._y1=aa}};$a.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||
0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(B,aa){B=+B;aa=+aa;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var Aa=(this._x0+4*this._x1+B)/6,La=(this._y0+4*this._y1+aa)/6;this._line?this._context.lineTo(Aa,La):this._context.moveTo(Aa,La);break;case 3:this._point=4;default:Za(this,B,aa)}this._x0=this._x1;this._x1=B;this._y0=this._y1;this._y1=aa}};V.prototype={lineStart:function(){this._x=[];this._y=
[];this._basis.lineStart()},lineEnd:function(){var B=this._x,aa=this._y,Aa=B.length-1;if(0<Aa)for(var La=B[0],zb=aa[0],yb=B[Aa]-La,cc=aa[Aa]-zb,q=-1,J;++q<=Aa;)J=q/Aa,this._basis.point(this._beta*B[q]+(1-this._beta)*(La+J*yb),this._beta*aa[q]+(1-this._beta)*(zb+J*cc));this._x=this._y=null;this._basis.lineEnd()},point:function(B,aa){this._x.push(+B);this._y.push(+aa)}};var ue=function Aa(aa){function La(zb){return 1===aa?new qb(zb):new V(zb,aa)}La.beta=function(zb){return Aa(+zb)};return La}(.85);
na.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:N(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(aa,Aa){aa=+aa;Aa=+Aa;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(aa,
Aa):this._context.moveTo(aa,Aa);break;case 1:this._point=2;this._x1=aa;this._y1=Aa;break;case 2:this._point=3;default:N(this,aa,Aa)}this._x0=this._x1;this._x1=this._x2;this._x2=aa;this._y0=this._y1;this._y1=this._y2;this._y2=Aa}};var Sd=function La(Aa){function zb(yb){return new na(yb,Aa)}zb.tension=function(yb){return La(+yb)};return zb}(0);oa.prototype={areaStart:hb,areaEnd:hb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=
this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Aa,La){Aa=+Aa;La=+La;switch(this._point){case 0:this._point=1;this._x3=Aa;this._y3=La;break;case 1:this._point=2;this._context.moveTo(this._x4=Aa,this._y4=La);break;
case 2:this._point=3;this._x5=Aa;this._y5=La;break;default:N(this,Aa,La)}this._x0=this._x1;this._x1=this._x2;this._x2=Aa;this._y0=this._y1;this._y1=this._y2;this._y2=La}};var Ud=function zb(La){function yb(cc){return new oa(cc,La)}yb.tension=function(cc){return zb(+cc)};return yb}(0);Na.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&
3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(La,zb){La=+La;zb=+zb;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:N(this,La,zb)}this._x0=this._x1;this._x1=this._x2;this._x2=La;this._y0=this._y1;this._y1=this._y2;this._y2=zb}};var Ke=function yb(zb){function cc(q){return new Na(q,zb)}cc.tension=
function(q){return yb(+q)};return cc}(0);qa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=
1-this._line},point:function(zb,yb){zb=+zb;yb=+yb;if(this._point){var cc=this._x2-zb,q=this._y2-yb;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(cc*cc+q*q,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(zb,yb):this._context.moveTo(zb,yb);break;case 1:this._point=2;break;case 2:this._point=3;default:la(this,zb,yb)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=zb;this._y0=
this._y1;this._y1=this._y2;this._y2=yb}};var jf=function cc(yb){function q(J){return yb?new qa(J,yb):new na(J,0)}q.alpha=function(J){return cc(+J)};return q}(.5);l.prototype={areaStart:hb,areaEnd:hb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);
this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(yb,cc){yb=+yb;cc=+cc;if(this._point){var q=this._x2-yb,J=this._y2-cc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(q*q+J*J,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=yb;this._y3=cc;break;case 1:this._point=2;this._context.moveTo(this._x4=yb,this._y4=cc);break;
case 2:this._point=3;this._x5=yb;this._y5=cc;break;default:la(this,yb,cc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=yb;this._y0=this._y1;this._y1=this._y2;this._y2=cc}};var xe=function q(cc){function J(fa){return cc?new l(fa,cc):new oa(fa,0)}J.alpha=function(fa){return q(+fa)};return J}(.5);D.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=
this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(cc,q){cc=+cc;q=+q;if(this._point){var J=this._x2-cc,fa=this._y2-q;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(J*J+fa*fa,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?
this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:la(this,cc,q)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=cc;this._y0=this._y1;this._y1=this._y2;this._y2=q}};var Qf=function J(q){function fa(ya){return q?new D(ya,q):new Na(ya,0)}fa.alpha=function(ya){return J(+ya)};return fa}(.5);K.prototype={areaStart:hb,areaEnd:hb,lineStart:function(){this._point=
0},lineEnd:function(){this._point&&this._context.closePath()},point:function(q,J){q=+q;J=+J;this._point?this._context.lineTo(q,J):(this._point=1,this._context.moveTo(q,J))}};X.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:A(this,this._t0,U(this,this._t0))}(this._line||0!==this._line&&
1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(q,J){var fa=NaN;q=+q;J=+J;if(q!==this._x1||J!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(q,J):this._context.moveTo(q,J);break;case 1:this._point=2;break;case 2:this._point=3;A(this,U(this,fa=x(this,q,J)),fa);break;default:A(this,this._t0,fa=x(this,q,J))}this._x0=this._x1;this._x1=q;this._y0=this._y1;this._y1=J;this._t0=fa}}};(G.prototype=Object.create(X.prototype)).point=function(q,
J){X.prototype.point.call(this,J,q)};v.prototype={moveTo:function(q,J){this._context.moveTo(J,q)},closePath:function(){this._context.closePath()},lineTo:function(q,J){this._context.lineTo(J,q)},bezierCurveTo:function(q,J,fa,ya,cb,Pb){this._context.bezierCurveTo(J,q,ya,fa,Pb,cb)}};z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var q=this._x,J=this._y,fa=q.length;if(fa)if(this._line?this._context.lineTo(q[0],
J[0]):this._context.moveTo(q[0],J[0]),2===fa)this._context.lineTo(q[1],J[1]);else for(var ya=F(q),cb=F(J),Pb=0,kc=1;kc<fa;++Pb,++kc)this._context.bezierCurveTo(ya[0][Pb],cb[0][Pb],ya[1][Pb],cb[1][Pb],q[kc],J[kc]);(this._line||0!==this._line&&1===fa)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(q,J){this._x.push(+q);this._y.push(+J)}};W.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;
this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(q,J){q=+q;J=+J;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(q,J):this._context.moveTo(q,J);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,J),this._context.lineTo(q,J);else{var fa=this._x*
(1-this._t)+q*this._t;this._context.lineTo(fa,this._y);this._context.lineTo(fa,J)}}this._x=q;this._y=J}};const td={basis:{curve:function(q){return new qb(q)}},"basis-closed":{curve:function(q){return new Nb(q)}},"basis-open":{curve:function(q){return new $a(q)}},bundle:{curve:ue,tension:"beta",value:.85},cardinal:{curve:Sd,tension:"tension",value:0},"cardinal-open":{curve:Ke,tension:"tension",value:0},"cardinal-closed":{curve:Ud,tension:"tension",value:0},"catmull-rom":{curve:jf,tension:"alpha",value:.5},
"catmull-rom-closed":{curve:xe,tension:"alpha",value:.5},"catmull-rom-open":{curve:Qf,tension:"alpha",value:.5},linear:{curve:ha},"linear-closed":{curve:function(q){return new K(q)}},monotone:{horizontal:function(q){return new G(q)},vertical:function(q){return new X(q)}},natural:{curve:function(q){return new z(q)}},step:{curve:function(q){return new W(q,.5)}},"step-after":{curve:function(q){return new W(q,1)}},"step-before":{curve:function(q){return new W(q,0)}}},Me={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,
t:2,a:7},af=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,Se=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,Yf=/^((\s+,?\s*)|(,\s*))/,Ef=/^[01]/,We=Math.PI/180,Rf=Math.PI/2,qf=2*Math.PI,Gf=Math.sqrt(3)/2;var Ff={},rf={},rg=[].join;const zf=["l",0,0,0,0,0,0,0],Fh={circle:{draw:function(q,J){J=Math.sqrt(J)/2;q.moveTo(J,0);q.arc(0,0,J,0,qf)}},cross:{draw:function(q,J){J=Math.sqrt(J)/2;var fa=J/2.5;q.moveTo(-J,-fa);q.lineTo(-J,fa);q.lineTo(-fa,fa);q.lineTo(-fa,J);q.lineTo(fa,J);q.lineTo(fa,fa);
q.lineTo(J,fa);q.lineTo(J,-fa);q.lineTo(fa,-fa);q.lineTo(fa,-J);q.lineTo(-fa,-J);q.lineTo(-fa,-fa);q.closePath()}},diamond:{draw:function(q,J){J=Math.sqrt(J)/2;q.moveTo(-J,0);q.lineTo(0,-J);q.lineTo(J,0);q.lineTo(0,J);q.closePath()}},square:{draw:function(q,J){J=Math.sqrt(J);var fa=-J/2;q.rect(fa,fa,J,J)}},arrow:{draw:function(q,J){J=Math.sqrt(J)/2;var fa=J/7,ya=J/2.5,cb=J/8;q.moveTo(-fa,J);q.lineTo(fa,J);q.lineTo(fa,-cb);q.lineTo(ya,-cb);q.lineTo(0,-J);q.lineTo(-ya,-cb);q.lineTo(-fa,-cb);q.closePath()}},
wedge:{draw:function(q,J){var fa=Math.sqrt(J)/2;J=Gf*fa;var ya=J-.5773502691896257*fa;fa/=4;q.moveTo(0,-J-ya);q.lineTo(-fa,J-ya);q.lineTo(fa,J-ya);q.closePath()}},triangle:{draw:function(q,J){J=Math.sqrt(J)/2;var fa=Gf*J,ya=fa-.5773502691896257*J;q.moveTo(0,-fa-ya);q.lineTo(-J,fa-ya);q.lineTo(J,fa-ya);q.closePath()}},"triangle-up":{draw:function(q,J){J=Math.sqrt(J)/2;var fa=Gf*J;q.moveTo(0,-fa);q.lineTo(-J,fa);q.lineTo(J,fa);q.closePath()}},"triangle-down":{draw:function(q,J){J=Math.sqrt(J)/2;var fa=
Gf*J;q.moveTo(0,fa);q.lineTo(-J,-fa);q.lineTo(J,-fa);q.closePath()}},"triangle-right":{draw:function(q,J){J=Math.sqrt(J)/2;var fa=Gf*J;q.moveTo(fa,0);q.lineTo(-fa,-J);q.lineTo(-fa,J);q.closePath()}},"triangle-left":{draw:function(q,J){J=Math.sqrt(J)/2;var fa=Gf*J;q.moveTo(-fa,0);q.lineTo(fa,-J);q.lineTo(fa,J);q.closePath()}},stroke:{draw:function(q,J){J=Math.sqrt(J)/2;q.moveTo(-J,0);q.lineTo(J,0)}}};var kg={};const Ag=q=>q.x||0,lg=q=>q.y||0,T=q=>!1!==q.defined,Ka=function(){function q(){var Wc,zd=
+J.apply(this,arguments),ie=+fa.apply(this,arguments),Ge=Pb.apply(this,arguments)-Rc,Pe=kc.apply(this,arguments)-Rc,Df=mc(Pe-Ge),Ue=Pe>Ge;gc||(gc=Wc=rd());if(ie<zd){var Kg=ie;ie=zd;zd=Kg}if(1E-12<ie)if(Df>Xd-1E-12)gc.moveTo(ie*yc(Ge),ie*Yc(Ge)),gc.arc(0,0,ie,Ge,Pe,!Ue),1E-12<zd&&(gc.moveTo(zd*yc(Pe),zd*Yc(Pe)),gc.arc(0,0,zd,Pe,Ge,Ue));else{var ve=Ge,Re=Pe;Kg=Ge;var tf=Pe,Hg=Df,Kh=Df,vg=wc.apply(this,arguments)/2,qh=1E-12<vg&&(cb?+cb.apply(this,arguments):jd(zd*zd+ie*ie)),rh=Zc(mc(ie-zd)/2,+ya.apply(this,
arguments)),of=rh,Ve=rh;if(1E-12<qh){var Yg=nc(qh/zd*Yc(vg));vg=nc(qh/ie*Yc(vg));1E-12<(Hg-=2*Yg)?(Yg*=Ue?1:-1,Kg+=Yg,tf-=Yg):(Hg=0,Kg=tf=(Ge+Pe)/2);1E-12<(Kh-=2*vg)?(vg*=Ue?1:-1,ve+=vg,Re-=vg):(Kh=0,ve=Re=(Ge+Pe)/2)}Ge=ie*yc(ve);Pe=ie*Yc(ve);Yg=zd*yc(tf);vg=zd*Yc(tf);if(1E-12<rh){var Lh=ie*yc(Re),Xf=ie*Yc(Re),qg=zd*yc(Kg),dg=zd*Yc(Kg);if(Df<$d){of=qg-Ge;Ve=dg-Pe;Df=Yg-Lh;qh=vg-Xf;var Bg=qh*of-Df*Ve;1E-12>Bg*Bg?of=void 0:(Bg=(Df*(Pe-Xf)-qh*(Ge-Lh))/Bg,of=[Ge+Bg*of,Pe+Bg*Ve]);of?(Ve=Ge-of[0],Df=Pe-
of[1],qh=Lh-of[0],Bg=Xf-of[1],Ve=(Ve*qh+Df*Bg)/(jd(Ve*Ve+Df*Df)*jd(qh*qh+Bg*Bg)),Ve=1/Yc((1<Ve?0:-1>Ve?$d:Math.acos(Ve))/2),Df=jd(of[0]*of[0]+of[1]*of[1]),of=Zc(rh,(zd-Df)/(Ve-1)),Ve=Zc(rh,(ie-Df)/(Ve+1))):of=Ve=0}}1E-12<Kh?1E-12<Ve?(ve=gb(qg,dg,Ge,Pe,ie,Ve,Ue),Re=gb(Lh,Xf,Yg,vg,ie,Ve,Ue),gc.moveTo(ve.cx+ve.x01,ve.cy+ve.y01),Ve<rh?gc.arc(ve.cx,ve.cy,Ve,vc(ve.y01,ve.x01),vc(Re.y01,Re.x01),!Ue):(gc.arc(ve.cx,ve.cy,Ve,vc(ve.y01,ve.x01),vc(ve.y11,ve.x11),!Ue),gc.arc(0,0,ie,vc(ve.cy+ve.y11,ve.cx+ve.x11),
vc(Re.cy+Re.y11,Re.cx+Re.x11),!Ue),gc.arc(Re.cx,Re.cy,Ve,vc(Re.y11,Re.x11),vc(Re.y01,Re.x01),!Ue))):(gc.moveTo(Ge,Pe),gc.arc(0,0,ie,ve,Re,!Ue)):gc.moveTo(Ge,Pe);1E-12<zd&&1E-12<Hg?1E-12<of?(ve=gb(Yg,vg,Lh,Xf,zd,-of,Ue),Re=gb(Ge,Pe,qg,dg,zd,-of,Ue),gc.lineTo(ve.cx+ve.x01,ve.cy+ve.y01),of<rh?gc.arc(ve.cx,ve.cy,of,vc(ve.y01,ve.x01),vc(Re.y01,Re.x01),!Ue):(gc.arc(ve.cx,ve.cy,of,vc(ve.y01,ve.x01),vc(ve.y11,ve.x11),!Ue),gc.arc(0,0,zd,vc(ve.cy+ve.y11,ve.cx+ve.x11),vc(Re.cy+Re.y11,Re.cx+Re.x11),Ue),gc.arc(Re.cx,
Re.cy,of,vc(Re.y11,Re.x11),vc(Re.y01,Re.x01),!Ue))):gc.arc(0,0,zd,tf,Kg,Ue):gc.lineTo(Yg,vg)}else gc.moveTo(0,0);gc.closePath();if(Wc)return gc=null,Wc+""||null}var J=bb,fa=tb,ya=Wb(0),cb=null,Pb=rb,kc=pb,wc=vb,gc=null,rd=Ea(q);q.centroid=function(){var Wc=(+J.apply(this,arguments)+ +fa.apply(this,arguments))/2,zd=(+Pb.apply(this,arguments)+ +kc.apply(this,arguments))/2-$d/2;return[yc(zd)*Wc,Yc(zd)*Wc]};q.innerRadius=function(Wc){return arguments.length?(J="function"===typeof Wc?Wc:Wb(+Wc),q):J};
q.outerRadius=function(Wc){return arguments.length?(fa="function"===typeof Wc?Wc:Wb(+Wc),q):fa};q.cornerRadius=function(Wc){return arguments.length?(ya="function"===typeof Wc?Wc:Wb(+Wc),q):ya};q.padRadius=function(Wc){return arguments.length?(cb=null==Wc?null:"function"===typeof Wc?Wc:Wb(+Wc),q):cb};q.startAngle=function(Wc){return arguments.length?(Pb="function"===typeof Wc?Wc:Wb(+Wc),q):Pb};q.endAngle=function(Wc){return arguments.length?(kc="function"===typeof Wc?Wc:Wb(+Wc),q):kc};q.padAngle=function(Wc){return arguments.length?
(wc="function"===typeof Wc?Wc:Wb(+Wc),q):wc};q.context=function(Wc){return arguments.length?(gc=null==Wc?null:Wc,q):gc};return q}().startAngle(q=>q.startAngle||0).endAngle(q=>q.endAngle||0).padAngle(q=>q.padAngle||0).innerRadius(q=>q.innerRadius||0).outerRadius(q=>q.outerRadius||0).cornerRadius(q=>q.cornerRadius||0),lb=Ia().x(Ag).y1(lg).y0(q=>(q.y||0)+(q.height||0)).defined(T),Ic=Ia().y(lg).x1(Ag).x0(q=>(q.x||0)+(q.width||0)).defined(T),Kc=Va().x(Ag).y(lg).defined(T),Pd=pc().x(Ag).y(lg).width(q=>
q.width||0).height(q=>q.height||0).cornerRadius(q=>Mb(q.cornerRadiusTopLeft,q.cornerRadius)||0,q=>Mb(q.cornerRadiusTopRight,q.cornerRadius)||0,q=>Mb(q.cornerRadiusBottomRight,q.cornerRadius)||0,q=>Mb(q.cornerRadiusBottomLeft,q.cornerRadius)||0),se=function(q,J){function fa(){let Pb;ya||(ya=Pb=cb());q.apply(this,arguments).draw(ya,+J.apply(this,arguments));if(Pb)return ya=null,Pb+""||null}let ya=null,cb=Ea(fa);q="function"===typeof q?q:Wb(q||re);J="function"===typeof J?J:Wb(void 0===J?64:+J);fa.type=
function(Pb){return arguments.length?(q="function"===typeof Pb?Pb:Wb(Pb),fa):q};fa.size=function(Pb){return arguments.length?(J="function"===typeof Pb?Pb:Wb(+Pb),fa):J};fa.context=function(Pb){return arguments.length?(ya=null==Pb?null:Pb,fa):ya};return fa}().type(q=>Pa(q.shape||"circle")).size(q=>Mb(q.size,64)),Te=ac().x(Ag).y(lg).defined(T).size(q=>q.size||1);var ye=1;ra.prototype={clone(){return new ra(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;
this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(q){return this.x1===q.x1&&this.y1===q.y1&&this.x2===q.x2&&this.y2===q.y2},set(q,J,fa,ya){fa<q?(this.x2=q,this.x1=fa):(this.x1=q,this.x2=fa);ya<J?(this.y2=J,this.y1=ya):(this.y1=J,this.y2=ya);return this},add(q,J){q<this.x1&&(this.x1=q);J<this.y1&&(this.y1=J);q>this.x2&&(this.x2=q);J>this.y2&&(this.y2=J);return this},expand(q){this.x1-=
q;this.y1-=q;this.x2+=q;this.y2+=q;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(q){this.x1*=q;this.y1*=q;this.x2*=q;this.y2*=q;return this},translate(q,J){this.x1+=q;this.x2+=q;this.y1+=J;this.y2+=J;return this},rotate(q,J,fa){q=this.rotatedPoints(q,J,fa);return this.clear().add(q[0],q[1]).add(q[2],q[3]).add(q[4],q[5]).add(q[6],q[7])},rotatedPoints(q,J,fa){var {x1:ya,y1:cb,x2:Pb,y2:kc}=this,wc=
Math.cos(q);q=Math.sin(q);var gc=J-J*wc+fa*q;J=fa-J*q-fa*wc;return[wc*ya-q*cb+gc,q*ya+wc*cb+J,wc*ya-q*kc+gc,q*ya+wc*kc+J,wc*Pb-q*cb+gc,q*Pb+wc*cb+J,wc*Pb-q*kc+gc,q*Pb+wc*kc+J]},union(q){q.x1<this.x1&&(this.x1=q.x1);q.y1<this.y1&&(this.y1=q.y1);q.x2>this.x2&&(this.x2=q.x2);q.y2>this.y2&&(this.y2=q.y2);return this},intersect(q){q.x1>this.x1&&(this.x1=q.x1);q.y1>this.y1&&(this.y1=q.y1);q.x2<this.x2&&(this.x2=q.x2);q.y2<this.y2&&(this.y2=q.y2);return this},encloses(q){return q&&this.x1<=q.x1&&this.x2>=
q.x2&&this.y1<=q.y1&&this.y2>=q.y2},alignsWith(q){return q&&(this.x1==q.x1||this.x2==q.x2||this.y1==q.y1||this.y2==q.y2)},intersects(q){return q&&!(this.x2<q.x1||this.x1>q.x2||this.y2<q.y1||this.y1>q.y2)},contains(q,J){return!(q<this.x1||q>this.x2||J<this.y1||J>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};h.inherits(Ua,Bb);xb.prototype={pending(){return this._pending},sanitizeURL(q){const J=this;J._pending+=1;return J._loader.sanitize(q,{context:"href"}).then(fa=>{--J._pending;
return fa}).catch(()=>{--J._pending;return null})},loadImage(q){const J=this,fa=ia.image();J._pending+=1;return J._loader.sanitize(q,{context:"image"}).then(ya=>{const cb=ya.href;if(!cb||!fa)throw{url:cb};const Pb=new fa;ya=h.hasOwnProperty(ya,"crossOrigin")?ya.crossOrigin:"anonymous";null!=ya&&(Pb.crossOrigin=ya);Pb.onload=()=>{--J._pending};Pb.onerror=()=>{--J._pending};Pb.src=cb;return Pb}).catch(ya=>{--J._pending;return{complete:!1,width:0,height:0,src:ya&&ya.url||""}})},ready(){const q=this;
return new Promise(J=>{function fa(ya){q.pending()?setTimeout(()=>{fa(!0)},10):J(ya)}fa(!1)})}};const Sf=qf-1E-8;let nf,nh,Xg,sg,fg,tg,ug,Rd;const pe=(q,J)=>{q=nh=q;J=Xg=J;return nf.add(q,J)},sf=q=>nf.add(q,nf.y1),De=q=>nf.add(nf.x1,q),kf=(q,J)=>nf.add(fg*q+ug*J,tg*q+Rd*J),Xe=(q,J)=>pe(fg*q+ug*J,tg*q+Rd*J),Tf={beginPath(){},closePath(){},moveTo:Xe,lineTo:Xe,rect(q,J,fa,ya){sg?(kf(q+fa,J),kf(q+fa,J+ya),kf(q,J+ya),Xe(q,J)):(nf.add(q+fa,J+ya),pe(q,J))},quadraticCurveTo(q,J,fa,ya){const cb=tg*q+Rd*J,
Pb=fg*fa+ug*ya;fa=tg*fa+Rd*ya;Zb(nh,fg*q+ug*J,Pb,sf);Zb(Xg,cb,fa,De);pe(Pb,fa)},bezierCurveTo(q,J,fa,ya,cb,Pb){const kc=tg*q+Rd*J,wc=tg*fa+Rd*ya,gc=fg*cb+ug*Pb;cb=tg*cb+Rd*Pb;ic(nh,fg*q+ug*J,fg*fa+ug*ya,gc,sf);ic(Xg,kc,wc,cb,De);pe(gc,cb)},arc(q,J,fa,ya,cb,Pb){ya+=sg;cb+=sg;nh=fa*Math.cos(cb)+q;Xg=fa*Math.sin(cb)+J;if(Math.abs(cb-ya)>Sf)nf.add(q-fa,J-fa),nf.add(q+fa,J+fa);else{const kc=gc=>nf.add(fa*Math.cos(gc)+q,fa*Math.sin(gc)+J);let wc;kc(ya);kc(cb);if(cb!==ya)if(ya%=qf,0>ya&&(ya+=qf),cb%=qf,
0>cb&&(cb+=qf),cb<ya&&(Pb=!Pb,wc=ya,ya=cb,cb=wc),Pb)for(cb-=qf,wc=ya-ya%Rf,ya=0;4>ya&&wc>cb;++ya,wc-=Rf)kc(wc);else for(wc=ya-ya%Rf+Rf,ya=0;4>ya&&wc<cb;++ya,wc+=Rf)kc(wc)}}};var vf=(vf=ia.canvas(1,1))?vf.getContext("2d"):null;const Hf=new ra;var lf=[],Og=Jd("arc",function(q,J){return Ka.context(q)(J)}),Pg=Hd("area",function(q,J){const fa=J[0];return("horizontal"===fa.orient?Ic:lb).curve(ta(fa.interpolate||"linear",fa.orient,fa.tension)).context(q)(J)},function(q,J){J="horizontal"===q[0].orient?J[1]:
J[0];for(var fa="horizontal"===q[0].orient?"y":"x",ya=q.length,cb=Infinity,Pb,kc;0<=--ya;)!1!==q[ya].defined&&(kc=Math.abs(q[ya][fa]-J),kc<cb&&(cb=kc,Pb=q[ya]));return Pb});const oh=sd(Ed),Uf=sd(Ed,!1),gi=sd(Ed,!0);var vh={type:"group",tag:"g",nested:!1,attr:function(q,J){q("transform",ed(J.x||0,J.y||0))},bound:function(q,J){if(!J.clip&&J.items){const fa=J.items,ya=fa.length;for(let cb=0;cb<ya;++cb)q.union(fa[cb].bounds)}(J.clip||J.width||J.height)&&!J.noBound&&q.add(0,0).add(J.width||0,J.height||
0);Fb(q,J);return q.translate(J.x||0,J.y||0)},draw:function(q,J,fa,ya){Eb(J,cb=>{const Pb=cb.x||0,kc=cb.y||0,wc=cb.strokeForeground,gc=null==cb.opacity?1:cb.opacity;(cb.stroke||cb.fill)&&gc&&(Ed(q,cb,Pb,kc),S(q,cb),cb.fill&&Da(q,cb,gc)&&q.fill(),cb.stroke&&!wc&&Oa(q,cb,gc)&&q.stroke());q.save();q.translate(Pb,kc);cb.clip&&vd(q,cb);fa&&fa.translate(-Pb,-kc);Eb(cb,rd=>{("group"===rd.marktype||null==ya||ya.includes(rd.marktype))&&this.draw(q,rd,fa,ya)});fa&&fa.translate(Pb,kc);q.restore();wc&&cb.stroke&&
gc&&(Ed(q,cb,Pb,kc),S(q,cb),Oa(q,cb,gc)&&q.stroke())})},pick:function(q,J,fa,ya,cb,Pb){if(J.bounds&&!J.bounds.contains(cb,Pb)||!J.items)return null;const kc=fa*q.pixelRatio,wc=ya*q.pixelRatio;return Hb(J,gc=>{let rd,Wc;var zd=gc.bounds;if(!zd||zd.contains(cb,Pb)){rd=gc.x||0;Wc=gc.y||0;zd=rd+(gc.width||0);var ie=Wc+(gc.height||0),Ge=gc.clip;if(!Ge||!(cb<rd||cb>zd||Pb<Wc||Pb>ie)){q.save();q.translate(rd,Wc);rd=cb-rd;Wc=Pb-Wc;if(Ge&&Ob(gc)&&!gi(q,gc,kc,wc))return q.restore(),null;ie=gc.strokeForeground;
if((Ge=!1!==J.interactive)&&ie&&gc.stroke&&Uf(q,gc,kc,wc))return q.restore(),gc;zd=Hb(gc,Pe=>(!1!==Pe.interactive||"group"===Pe.marktype)&&Pe.bounds&&Pe.bounds.contains(rd,Wc)?this.pick(Pe,fa,ya,rd,Wc):null);!zd&&Ge&&(gc.fill||!ie&&gc.stroke)&&oh(q,gc,kc,wc)&&(zd=gc);q.restore();return zd||null}}})},isect:ma,content:function(q,J,fa){J=J.clip?hd(fa,J,J):null;q("clip-path",J)},background:function(q,J){q("class","background");q("aria-hidden",!0);const fa=we(J);q("d",xc(null,J,fa,fa))},foreground:function(q,
J){q("class","foreground");q("aria-hidden",!0);if(J.strokeForeground){const fa=we(J);q("d",xc(null,J,fa,fa))}else q("d","")}},Qg={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},Rg={type:"image",tag:"image",nested:!1,attr:function(q,J,fa){var ya=w(J,fa);fa=I(J,ya);const cb=wa(J,ya),Pb=(J.x||0)-Ja(J.align,fa),kc=(J.y||0)-jb(J.baseline,cb);ya=!ya.src&&ya.toDataURL?ya.toDataURL():ya.src||"";q("href",ya,Qg["xmlns:xlink"],"xlink:href");q("transform",ed(Pb,
kc));q("width",fa);q("height",cb);q("preserveAspectRatio",!1===J.aspect?"none":"xMidYMid")},bound:function(q,J){var fa=J.image;const ya=I(J,fa);fa=wa(J,fa);const cb=(J.x||0)-Ja(J.align,ya);J=(J.y||0)-jb(J.baseline,fa);return q.set(cb,J,cb+ya,J+fa)},draw:function(q,J,fa){Eb(J,ya=>{if(!fa||fa.intersects(ya.bounds)){var cb=w(ya,this),Pb=I(ya,cb),kc=wa(ya,cb);if(0!==Pb&&0!==kc){var wc=(ya.x||0)-Ja(ya.align,Pb),gc=(ya.y||0)-jb(ya.baseline,kc),rd;if(!1!==ya.aspect){var Wc=cb.width/cb.height;var zd=ya.width/
ya.height;Wc===Wc&&zd===zd&&Wc!==zd&&(zd<Wc?(Wc=Pb/Wc,gc+=(kc-Wc)/2,kc=Wc):(Wc*=kc,wc+=(Pb-Wc)/2,Pb=Wc))}if(cb.complete||cb.toDataURL)S(q,ya),q.globalAlpha=null!=(rd=ya.opacity)?rd:1,q.imageSmoothingEnabled=!1!==ya.smooth,q.drawImage(cb,wc,gc,Pb,kc)}}})},pick:xd(),isect:h.truthy,get:w,xOffset:Ja,yOffset:jb},Th=Hd("line",function(q,J){const fa=J[0];return Kc.curve(ta(fa.interpolate||"linear",fa.orient,fa.tension)).context(q)(J)},function(q,J){for(var fa=Math.pow(q[0].strokeWidth||1,2),ya=q.length,
cb,Pb;0<=--ya;)if(!1!==q[ya].defined&&(cb=q[ya].x-J[0],Pb=q[ya].y-J[1],cb=cb*cb+Pb*Pb,cb<fa))return q[ya];return null}),Xi={type:"path",tag:"path",nested:!1,attr:function(q,J){var fa=J.scaleY||1;1===(J.scaleX||1)&&1===fa||q("vector-effect","non-scaling-stroke");fa=ed(J.x||0,J.y||0)+(J.angle?" rotate("+(J.angle+")"):"")+(J.scaleX||J.scaleY?" scale("+((J.scaleX||1)+","+(J.scaleY||1)+")"):"");q("transform",fa);q("d",J.path)},bound:function(q,J){return wb(Lb(q,J.angle),J)?q.set(0,0,0,0):Fb(q,J,!0)},draw:Cc(wb),
pick:xd(sd(wb)),isect:nd(wb)},Ki={type:"rect",tag:"path",nested:!1,attr:function(q,J){q("d",xc(null,J))},bound:function(q,J){var fa,ya;return Fb(q.set(fa=J.x||0,ya=J.y||0,fa+J.width||0,ya+J.height||0),J)},draw:Cc(ec),pick:xd(sd(ec)),isect:ma},Li={type:"rule",tag:"line",nested:!1,attr:function(q,J){q("transform",ed(J.x||0,J.y||0));q("x2",null!=J.x2?J.x2-(J.x||0):0);q("y2",null!=J.y2?J.y2-(J.y||0):0)},bound:function(q,J){var fa,ya;return Fb(q.set(fa=J.x||0,ya=J.y||0,null!=J.x2?J.x2:fa,null!=J.y2?J.y2:
ya),J)},draw:function(q,J,fa){Eb(J,ya=>{if(!fa||fa.intersects(ya.bounds)){var cb=null==ya.opacity?1:ya.opacity;cb&&Qb(q,ya,cb)&&(S(q,ya),q.stroke())}})},pick:xd(function(q,J,fa,ya){return q.isPointInStroke?Qb(q,J,1)&&q.isPointInStroke(fa,ya):!1}),isect:Ha},hi=Jd("shape",function(q,J){return(J.mark.shape||J.shape).context(q)(J)}),Yi=Jd("symbol",function(q,J){return se.context(q)(J)},Uc);const Mi=h.lruCache();var Zg={height:md,measureWidth:zc,estimateWidth:Fc,width:Fc,canvas:qc};qc(!0);const Ni={left:"start",
center:"middle",right:"end"},ph=new ra;var eh={type:"text",tag:"text",nested:!1,attr:function(q,J){var fa=J.dx||0,ya=(J.dy||0)+Ie(J),cb=Fe(J),Pb=cb.x1;cb=cb.y1;var kc=J.angle||0;q("text-anchor",Ni[J.align]||"start");if(kc){if(J=ed(Pb,cb)+" rotate("+(kc+")"),fa||ya)J+=" "+ed(fa,ya)}else J=ed(Pb+fa,cb+ya);q("transform",J)},bound:uf,draw:function(q,J,fa){Eb(J,ya=>{var cb=null==ya.opacity?1:ya.opacity,Pb;if(!(fa&&!fa.intersects(ya.bounds)||0===cb||0>=ya.fontSize||null==ya.text||0===ya.text.length)){q.font=
Ne(ya);q.textAlign=ya.align||"left";var kc=Fe(ya);var wc=kc.x1;kc=kc.y1;ya.angle&&(q.save(),q.translate(wc,kc),q.rotate(ya.angle*We),wc=kc=0);wc+=ya.dx||0;kc+=(ya.dy||0)+Ie(ya);var gc=Gd(ya);S(q,ya);if(h.isArray(gc)){var rd=qd(ya);for(Pb=0;Pb<gc.length;++Pb){var Wc=kd(ya,gc[Pb]);ya.fill&&Da(q,ya,cb)&&q.fillText(Wc,wc,kc);ya.stroke&&Oa(q,ya,cb)&&q.strokeText(Wc,wc,kc);kc+=rd}}else Wc=kd(ya,gc),ya.fill&&Da(q,ya,cb)&&q.fillText(Wc,wc,kc),ya.stroke&&Oa(q,ya,cb)&&q.strokeText(Wc,wc,kc);ya.angle&&q.restore()}})},
pick:xd(function(q,J,fa,ya,cb,Pb){if(0>=J.fontSize)return!1;if(!J.angle)return!0;fa=Fe(J);q=fa.x1;fa=fa.y1;ya=uf(ph,J,1);var kc=-J.angle*We;J=Math.cos(kc);kc=Math.sin(kc);return ya.contains(J*cb-kc*Pb+(q-J*q+kc*fa),kc*cb+J*Pb+(fa-kc*q-J*fa))}),isect:function(q,J){q=uf(ph,q,2);return fb(J,q[0],q[1],q[2],q[3])||fb(J,q[0],q[1],q[4],q[5])||fb(J,q[4],q[5],q[6],q[7])||fb(J,q[2],q[3],q[6],q[7])}},Uh=Hd("trail",function(q,J){return Te.context(q)(J)},function(q,J){for(var fa=q.length,ya,cb;0<=--fa;)if(!1!==
q[fa].defined&&(ya=q[fa].x-J[0],cb=q[fa].y-J[1],cb=ya*ya+cb*cb,ya=q[fa].size||1,cb<ya*ya))return q[fa];return null}),wg={arc:Og,area:Pg,group:vh,image:Rg,line:Th,path:Xi,rect:Ki,rule:Li,shape:hi,symbol:Yi,text:eh,trail:Uh},gg={mark:null};const Zi="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
Gb.prototype={toJSON(q){return ca(this.root,q||0)},mark(q,J,fa){J=J||this.root.items[0];q=rc(q,J);J.items[fa]=q;q.zindex&&(q.group.zdirty=!0);return q}};Md.prototype={initialize(q,J,fa){this._el=q;this._obj=fa||null;return this.origin(J)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(q){return arguments.length?(this._origin=q||[0,0],this):this._origin.slice()},scene(q){if(!arguments.length)return this._scene;this._scene=q;return this},on(){},off(){},_handlerIndex(q,
J,fa){for(let ya=q?q.length:0;0<=--ya;)if(q[ya].type===J&&(!fa||q[ya].handler===fa))return ya;return-1},handlers(q){const J=this._handlers,fa=[];if(q)fa.push(...J[this.eventName(q)]);else for(const ya in J)fa.push(...J[ya]);return fa},eventName(q){const J=q.indexOf(".");return 0>J?q:q.slice(0,J)},handleHref(q,J,fa){this._loader.sanitize(fa,{context:"href"}).then(ya=>{const cb=new MouseEvent(q.type,q),Pb=Rb(null,"a");for(const kc in ya)Pb.setAttribute(kc,ya[kc]);Pb.dispatchEvent(cb)}).catch(()=>{})},
handleTooltip(q,J,fa){if(J&&null!=J.tooltip){var ya=this.canvas(),cb=this._origin,Pb=J&&J.mark,kc;if(Pb&&(kc=wg[Pb.marktype]).tip){ya=Nd(q,ya);ya[0]-=cb[0];for(ya[1]-=cb[1];J=J.mark.group;)ya[0]-=J.x||0,ya[1]-=J.y||0;J=kc.tip(Pb.items,ya)}this._tooltip.call(this._obj,this,q,J,fa&&J&&J.tooltip||null)}},getItemBoundingClientRect(q){var J=this.canvas();if(J){var fa=J.getBoundingClientRect(),ya=this._origin,cb=q.bounds;J=cb.width();var Pb=cb.height(),kc=cb.x1+ya[0]+fa.left;for(fa=cb.y1+ya[1]+fa.top;q.mark&&
(q=q.mark.group);)kc+=q.x||0,fa+=q.y||0;return{x:kc,y:fa,width:J,height:Pb,left:kc,top:fa,right:kc+J,bottom:fa+Pb}}}};Ad.prototype={initialize(q,J,fa,ya,cb){this._el=q;return this.resize(J,fa,ya,cb)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(q){if(0===arguments.length)return this._bgcolor;this._bgcolor=q;return this},resize(q,J,fa,ya){this._width=q;this._height=J;this._origin=fa||[0,0];this._scale=ya||1;return this},dirty(){},render(q,J){const fa=this;fa._call=
function(){fa._render(q,J)};fa._call();fa._call=null;return fa},_render(){},renderAsync(q,J){const fa=this.render(q,J);return this._ready?this._ready.then(()=>fa):Promise.resolve(fa)},_load(q,J){var fa=this;q=fa._loader[q](J);if(!fa._ready){const ya=fa._call;fa._ready=fa._loader.ready().then(cb=>{cb&&ya();fa._ready=null})}return q},sanitizeURL(q){return this._load("sanitizeURL",q)},loadImage(q){return this._load("loadImage",q)}};h.inherits(Wd,Md,{initialize(q,J,fa){this._canvas=q&&Sc(q,"canvas");
"click mousedown pointerdown pointermove pointerout dragleave".split(" ").forEach(ya=>Ca(this,ya));return Md.prototype.initialize.call(this,q,J,fa)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover pointerdown pointerup pointermove pointerout pointerover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(q){this.fire("mousewheel",
q)},pointermove:id(["pointermove","mousemove"],["pointerover","mouseover"],["pointerout","mouseout"]),dragover:id(["dragover"],["dragenter"],["dragleave"]),pointerout:sc(["pointerout","mouseout"]),dragleave:sc(["dragleave"]),pointerdown(q){this._down=this._active;this.fire("pointerdown",q)},mousedown(q){this._down=this._active;this.fire("mousedown",q)},click(q){this._down===this._active&&(this.fire("click",q),this._down=null)},touchstart(q){this._touch=this.pickEvent(q.changedTouches[0]);this._first&&
(this._active=this._touch,this._first=!1);this.fire("touchstart",q,!0)},touchmove(q){this.fire("touchmove",q,!0)},touchend(q){this.fire("touchend",q,!0);this._touch=null},fire(q,J,fa){fa=fa?this._touch:this._active;const ya=this._handlers[q];J.vegaType=q;"click"===q&&fa&&fa.href?this.handleHref(J,fa,fa.href):("pointermove"===q||"pointerout"===q)&&this.handleTooltip(J,fa,"pointerout"!==q);if(ya)for(let cb=0,Pb=ya.length;cb<Pb;++cb)ya[cb].handler.call(this._obj,J,fa)},on(q,J){const fa=this.eventName(q),
ya=this._handlers;0>this._handlerIndex(ya[fa],q,J)&&(Ca(this,q),(ya[fa]||(ya[fa]=[])).push({type:q,handler:J}));return this},off(q,J){var fa=this.eventName(q);fa=this._handlers[fa];q=this._handlerIndex(fa,q,J);0<=q&&fa.splice(q,1);return this},pickEvent(q){q=Nd(q,this._canvas);const J=this._origin;return this.pick(this._scene,q[0],q[1],q[0]-J[0],q[1]-J[1])},pick(q,J,fa,ya,cb){const Pb=this.context();return wg[q.marktype].pick.call(this,Pb,q,J,fa,ya,cb)}});const ii=Ad.prototype;h.inherits(Mc,Ad,{initialize(q,
J,fa,ya,cb,Pb){this._options=Pb||{};this._canvas=this._options.externalContext?null:ia.canvas(1,1,this._options.type);q&&this._canvas&&(cd(q,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks"));return ii.initialize.call(this,q,J,fa,ya,cb)},resize(q,J,fa,ya){ii.resize.call(this,q,J,fa,ya);if(this._canvas){q=this._canvas;J=this._width;fa=this._height;ya=this._origin;var cb=this._scale,Pb=this._options.context;const wc="undefined"!==typeof HTMLElement&&q instanceof HTMLElement&&null!=
q.parentNode,gc=q.getContext("2d");cb=wc?"undefined"!==typeof window?window.devicePixelRatio||1:1:cb;q.width=J*cb;q.height=fa*cb;for(var kc in Pb)gc[kc]=Pb[kc];wc&&1!==cb&&(q.style.width=J+"px",q.style.height=fa+"px");gc.pixelRatio=cb;gc.setTransform(cb,0,0,cb,cb*ya[0],cb*ya[1])}else(kc=this._options.externalContext)||h.error("CanvasRenderer is missing a valid canvas or context"),kc.scale(this._scale,this._scale),kc.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},
context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(q){const J=this._tempb.clear().union(q.bounds);for(q=q.mark.group;q;)J.translate(q.x||0,q.y||0),q=q.mark.group;this._dirty.union(J)},_render(q,J){const fa=this.context(),ya=this._origin,cb=this._width,Pb=this._height,kc=this._dirty;var wc=(new ra).set(0,0,cb,Pb).translate(-ya[0],-ya[1]);fa.save();this._redraw||kc.empty()?wc=(this._redraw=!1,wc.expand(1)):(wc=wc.intersect(kc),wc.expand(1).round(),
fa.pixelRatio%1&&wc.scale(fa.pixelRatio).round().scale(1/fa.pixelRatio),wc.translate(-(ya[0]%1),-(ya[1]%1)),fa.beginPath(),fa.rect(wc.x1,wc.y1,wc.width(),wc.height()),fa.clip());this.clear(-ya[0],-ya[1],cb,Pb);this.draw(fa,q,wc,J);fa.restore();kc.clear();return this},draw(q,J,fa,ya){if("group"===J.marktype||null==ya||ya.includes(J.marktype)){var cb=wg[J.marktype];if(J.clip){var Pb=J.clip;q.save();h.isFunction(Pb)?(q.beginPath(),Pb(q),q.clip()):vd(q,J.group)}cb.draw.call(this,q,J,fa,ya);J.clip&&q.restore()}},
clear(q,J,fa,ya){const cb=this._options,Pb=this.context();"pdf"===cb.type||cb.externalContext||Pb.clearRect(q,J,fa,ya);null!=this._bgcolor&&(Pb.fillStyle=this._bgcolor,Pb.fillRect(q,J,fa,ya))}});const $g=(q,J)=>fa=>{let ya=fa.target.__data__;ya=Array.isArray(ya)?ya[0]:ya;fa.vegaType=fa.type;J.call(q._obj,fa,ya)};h.inherits(Ec,Md,{initialize(q,J,fa){let ya=this._svg;ya&&(ya.removeEventListener("click",this._hrefHandler),ya.removeEventListener("pointermove",this._tooltipHandler),ya.removeEventListener("pointerout",
this._tooltipHandler));if(this._svg=ya=q&&Sc(q,"svg"))ya.addEventListener("click",this._hrefHandler),ya.addEventListener("pointermove",this._tooltipHandler),ya.addEventListener("pointerout",this._tooltipHandler);return Md.prototype.initialize.call(this,q,J,fa)},canvas(){return this._svg},on(q,J){const fa=this.eventName(q),ya=this._handlers;0>this._handlerIndex(ya[fa],q,J)&&(q={type:q,handler:J,listener:$g(this,J)},(ya[fa]||(ya[fa]=[])).push(q),this._svg&&this._svg.addEventListener(fa,q.listener));
return this},off(q,J){const fa=this.eventName(q),ya=this._handlers[fa];q=this._handlerIndex(ya,q,J);0<=q&&(this._svg&&this._svg.removeEventListener(fa,ya[q].listener),ya.splice(q,1));return this}});const ti=(q,J,fa)=>({role:q,["aria-roledescription"]:J,["aria-label"]:fa||void 0}),Kj=h.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),yh={axis:{desc:"axis",caption:function(q){var J=q.datum;
const fa=q.orient,ya=J.title?me(q):null;var cb=q.context;J=cb.scales[J.scale].value;cb=cb.dataflow.locale();const Pb=J.type;return`${"left"===fa||"right"===fa?"Y":"X"}-axis`+(ya?` titled '${ya}'`:"")+` for a ${ub.isDiscrete(Pb)?"discrete":Pb} scale`+` with ${ub.domainCaption(cb,J,q)}`}},legend:{desc:"legend",caption:function(q){var J=q.datum;const fa=J.title?me(q):null,ya=`${J.type||""} legend`.trim();var cb=J.scales;J=Object.keys(cb);var Pb=q.context;cb=Pb.scales[cb[J[0]]].value;Pb=Pb.dataflow.locale();
return(ya.length?ya[0].toUpperCase()+ya.slice(1):ya)+(fa?` titled '${fa}'`:"")+` for ${df(J)}`+` with ${ub.domainCaption(Pb,cb,q)}`}},"title-text":{desc:"title",caption:q=>`Title text '${h.array(q.text).join(" ")}'`},"title-subtitle":{desc:"subtitle",caption:q=>`Subtitle text '${h.array(q.text).join(" ")}'`}},Gh={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},Ig=q=>(q+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"),mg=q=>Je(Oe(),q)+
"",zh={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},Hh={blend:"mix-blend-mode"},fh={fill:"none","stroke-miterlimit":10},Kf=Qg.xmlns,ng=Ad.prototype;h.inherits(hf,Ad,{initialize(q,J,fa,ya,cb){this._defs={};this._clearDefs();q&&(this._svg=fd(q,0,"svg",Kf),
this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns",Kf),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",Qg["xmlns:xlink"]),this._svg.setAttribute("version",Qg.version),this._svg.setAttribute("class","marks"),cd(q,1),this._root=fd(this._svg,0,"g",Kf),fe(this._root,fh),cd(this._svg,1));this.background(this._bgcolor);return ng.initialize.call(this,q,J,fa,ya,cb)},background(q){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",q);return ng.background.apply(this,
arguments)},resize(q,J,fa,ya){ng.resize.call(this,q,J,fa,ya);this._svg&&(fe(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const q=this._svg,J=this._bgcolor;if(!q)return null;let fa;J&&(q.removeAttribute("style"),fa=fd(q,0,"rect",Kf),fe(fa,{width:this._width,height:this._height,fill:J}));const ya=mg(q);
J&&(q.removeChild(fa),this._svg.style.setProperty("background-color",J));return ya},_render(q,J){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,q,void 0,J),cd(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this},dirty(q){q.dirty!==this._dirtyID&&(q.dirty=this._dirtyID,this._dirty.push(q))},isDirty(q){return this._dirtyAll||!q._svg||!q._svg.ownerSVGElement||q.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const q=this._dirty;if(!q.length||!this._dirtyID)return!0;
const J=++this._dirtyID;let fa;let ya,cb,Pb,kc;Pb=0;for(kc=q.length;Pb<kc;++Pb){fa=q[Pb];var wc=fa.mark;wc.marktype!==ya&&(ya=wc.marktype,cb=wg[ya]);wc.zdirty&&wc.dirty!==J&&(this._dirtyAll=!1,pf(fa,J),wc.items.forEach(gc=>{gc.dirty=J}));wc.zdirty||(fa.exit?(cb.nested&&wc.items.length?(wc=wc.items[0],wc._svg&&this._update(cb,wc._svg,wc)):fa._svg&&(wc=fa._svg.parentNode)&&wc.removeChild(fa._svg),fa._svg=null):(fa=cb.nested?wc.items[0]:fa,fa._update!==J&&(fa._svg&&fa._svg.ownerSVGElement?this._update(cb,
fa._svg,fa):(this._dirtyAll=!1,pf(fa,J)),fa._update=J)))}return!this._dirtyAll},mark(q,J,fa,ya){if(!this.isDirty(J))return J._svg;const cb=this._svg,Pb=J.marktype,kc=wg[Pb];var wc=!1===J.interactive?"none":null;const gc="g"===kc.tag,rd=$e(J,q,fa,"g",cb);if("group"!==Pb&&null!=ya&&!ya.includes(Pb))return cd(rd,0),J._svg;rd.setAttribute("class",Oc(J));q=Xc(J);for(const ie in q)le(rd,ie,q[ie]);gc||le(rd,"pointer-events",wc);le(rd,"clip-path",J.clip?hd(this,J,J.group):null);let Wc=null,zd=0;wc=ie=>{const Ge=
this.isDirty(ie),Pe=$e(ie,rd,Wc,kc.tag,cb);Ge&&(this._update(kc,Pe,ie),gc&&Le(this,Pe,ie,ya));Wc=Pe;++zd};kc.nested?J.items.length&&wc(J.items[0]):Eb(J,wc);cd(rd,zd);return rd},_update(q,J,fa){gh=J;If=J.__values__;Tc(Ze,fa);q.attr(Ze,fa,this);const ya=hh[q.type];ya&&ya.call(this,q,J,fa);gh&&this.style(gh,fa)},style(q,J){if(null!=J){for(const fa in zh){let ya="font"===fa?he(J):J[fa];if(ya===If[fa])continue;const cb=zh[fa];null==ya?q.removeAttribute(cb):(ya&&ya.gradient&&(ya=Yb(ya,this._defs.gradient,
oe())),q.setAttribute(cb,ya+""));If[fa]=ya}for(const fa in Hh)ne(q,Hh[fa],J[fa])}},defs(){const q=this._svg,J=this._defs;let fa=J.el;var ya=0;for(var cb in J.gradient){fa||(J.el=fa=fd(q,1,"defs",Kf));var Pb=void 0;let gc,rd;var kc=fa,wc=J.gradient[cb];"radial"===wc.gradient?(Pb=fd(kc,ya++,"pattern",Kf),fe(Pb,{id:"p_"+wc.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Pb=fd(Pb,0,"rect",Kf),fe(Pb,{width:1,height:1,fill:`url(${oe()}#${wc.id})`}),kc=fd(kc,ya++,"radialGradient",
Kf),fe(kc,{id:wc.id,fx:wc.x1,fy:wc.y1,fr:wc.r1,cx:wc.x2,cy:wc.y2,r:wc.r2})):(kc=fd(kc,ya++,"linearGradient",Kf),fe(kc,{id:wc.id,x1:wc.x1,x2:wc.x2,y1:wc.y1,y2:wc.y2}));rd=0;for(gc=wc.stops.length;rd<gc;++rd)Pb=fd(kc,rd,"stop",Kf),Pb.setAttribute("offset",wc.stops[rd].offset),Pb.setAttribute("stop-color",wc.stops[rd].color);cd(kc,rd)}for(const gc in J.clipping)fa||(J.el=fa=fd(q,1,"defs",Kf)),kc=fa,wc=J.clipping[gc],cb=ya,kc=fd(kc,cb,"clipPath",Kf),kc.setAttribute("id",wc.id),wc.path?(ya=fd(kc,0,"path",
Kf),ya.setAttribute("d",wc.path)):(ya=fd(kc,0,"rect",Kf),fe(ya,{x:0,y:0,width:wc.width,height:wc.height})),cd(kc,1),ya=cb+1;fa&&(0===ya?(q.removeChild(fa),J.el=null):cd(fa,ya))},_clearDefs(){const q=this._defs;q.gradient={};q.clipping={}}});let gh=null,If=null;const hh={group(q,J,fa){const ya=gh=J.childNodes[2];If=ya.__values__;q.foreground(Ze,fa,this);If=J.__values__;gh=J.childNodes[1];q.content(Ze,fa,this);J=gh=J.childNodes[0];q.background(Ze,fa,this);q=!1===fa.mark.interactive?"none":null;q!==
If.events&&(le(ya,"pointer-events",q),le(J,"pointer-events",q),If.events=q);fa.strokeForeground&&fa.stroke?(q=fa.fill,le(ya,"display",null),this.style(J,fa),le(J,"stroke",null),q&&(fa.fill=null),If=ya.__values__,this.style(ya,fa),q&&(fa.fill=q),gh=null):le(ya,"display","none")},image(q,J,fa){!1===fa.smooth?(ne(J,"image-rendering","optimizeSpeed"),ne(J,"image-rendering","pixelated")):ne(J,"image-rendering",null)},text(q,J,fa){q=Gd(fa);let ya,cb,Pb;h.isArray(q)?(ya=q.map(kc=>kd(fa,kc)),q=ya.join("\n"),
q!==If.text&&(cd(J,0),cb=J.ownerDocument,Pb=qd(fa),ya.forEach((kc,wc)=>{const gc=Rb(cb,"tspan",Kf);gc.__data__=fa;gc.textContent=kc;wc&&(gc.setAttribute("x",0),gc.setAttribute("dy",Pb));J.appendChild(gc)}),If.text=q)):(ya=kd(fa,q),ya!==If.text&&(J.textContent=ya,If.text=ya));le(J,"font-family",he(fa));le(J,"font-size",md(fa)+"px");le(J,"font-style",fa.fontStyle);le(J,"font-variant",fa.fontVariant);le(J,"font-weight",fa.fontWeight)}};h.inherits(y,Ad,{svg(){return this._text},_render(q){const J=Oe();
J.open("svg",h.extend({},Qg,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const fa=this._bgcolor;fa&&"transparent"!==fa&&"none"!==fa&&J.open("rect",{width:this._width,height:this._height,fill:fa}).close();J.open("g",fh,{transform:"translate("+this._origin+")"});this.mark(J,q);J.close();this.defs(J);this._text=J.close()+"";return this},mark(q,J){const fa=wg[J.marktype],ya=fa.tag,cb=[Tc,fa.attr];q.open("g",{"class":Oc(J),
"clip-path":J.clip?hd(this,J,J.group):null},Xc(J),{"pointer-events":"g"!==ya&&!1===J.interactive?"none":null});const Pb=kc=>{const wc=this.href(kc);wc&&q.open("a",wc);q.open(ya,this.attr(J,kc,cb,"g"!==ya?ya:null));if("text"===ya){var gc=Gd(kc);if(h.isArray(gc)){var rd={x:0,dy:qd(kc)};for(var Wc=0;Wc<gc.length;++Wc)q.open("tspan",Wc?rd:null).text(kd(kc,gc[Wc])).close()}else q.text(kd(kc,gc))}else"g"===ya&&(gc=kc.strokeForeground,rd=kc.fill,Wc=kc.stroke,gc&&Wc&&(kc.stroke=null),q.open("path",this.attr(J,
kc,fa.background,"bgrect")).close(),q.open("g",this.attr(J,kc,fa.content)),Eb(kc,zd=>this.mark(q,zd)),q.close(),gc&&Wc?(rd&&(kc.fill=null),kc.stroke=Wc,q.open("path",this.attr(J,kc,fa.foreground,"bgrect")).close(),rd&&(kc.fill=rd)):q.open("path",this.attr(J,kc,fa.foreground,"bgfore")).close());q.close();wc&&q.close()};fa.nested?J.items&&J.items.length&&Pb(J.items[0]):Eb(J,Pb);return q.close()},href(q){const J=q.href;if(J){if(q=this._hrefs&&this._hrefs[J])return q;this.sanitizeURL(J).then(fa=>{fa["xlink:href"]=
fa.href;fa.href=null;(this._hrefs||(this._hrefs={}))[J]=fa})}return null},attr(q,J,fa,ya){const cb={},Pb=(kc,wc,gc,rd)=>{cb[rd||kc]=wc};Array.isArray(fa)?fa.forEach(kc=>kc(Pb,J,this)):fa(Pb,J,this);ya&&M(cb,J,q,ya,this._defs);return cb},defs(q){var J=this._defs.gradient;const fa=this._defs.clipping;if(0!==Object.keys(J).length+Object.keys(fa).length){q.open("defs");for(const cb in J){var ya=J[cb];const Pb=ya.stops;"radial"===ya.gradient?(q.open("pattern",{id:"p_"+cb,viewBox:"0,0,1,1",width:"100%",
height:"100%",preserveAspectRatio:"xMidYMid slice"}),q.open("rect",{width:"1",height:"1",fill:"url(#"+cb+")"}).close(),q.close(),q.open("radialGradient",{id:cb,fx:ya.x1,fy:ya.y1,fr:ya.r1,cx:ya.x2,cy:ya.y2,r:ya.r2})):q.open("linearGradient",{id:cb,x1:ya.x1,x2:ya.x2,y1:ya.y1,y2:ya.y2});for(ya=0;ya<Pb.length;++ya)q.open("stop",{offset:Pb[ya].offset,"stop-color":Pb[ya].color}).close();q.close()}for(const cb in fa)J=fa[cb],q.open("clipPath",{id:cb}),J.path?q.open("path",{d:J.path}).close():q.open("rect",
{x:0,y:0,width:J.width,height:J.height}).close(),q.close();q.close()}}});const bh={svgMarkTypes:["text"],svgOnTop:!0,debug:!1},ih=Ad.prototype;h.inherits(p,Ad,{initialize(q,J,fa,ya,cb){this._root_el=fd(q,0,"div");const Pb=fd(this._root_el,0,"div"),kc=fd(this._root_el,1,"div");this._root_el.style.position="relative";bh.debug||(Pb.style.height="100%",kc.style.position="absolute",kc.style.top="0",kc.style.left="0",kc.style.height="100%",kc.style.width="100%");this._svgEl=bh.svgOnTop?kc:Pb;this._canvasEl=
bh.svgOnTop?Pb:kc;this._svgEl.style.pointerEvents="none";this._canvasRenderer.initialize(this._canvasEl,J,fa,ya,cb);this._svgRenderer.initialize(this._svgEl,J,fa,ya,cb);return ih.initialize.call(this,q,J,fa,ya,cb)},dirty(q){bh.svgMarkTypes.includes(q.mark.marktype)?this._svgRenderer.dirty(q):this._canvasRenderer.dirty(q);return this},_render(q,J){J=(null!=J?J:"arc area image line path rect rule shape symbol text trail".split(" ")).filter(fa=>!bh.svgMarkTypes.includes(fa));this._svgRenderer.render(q,
bh.svgMarkTypes);this._canvasRenderer.render(q,J)},resize(q,J,fa,ya){ih.resize.call(this,q,J,fa,ya);this._svgRenderer.resize(q,J,fa,ya);this._canvasRenderer.resize(q,J,fa,ya);return this},background(q){bh.svgOnTop?this._canvasRenderer.background(q):this._svgRenderer.background(q);return this}});h.inherits(Q,Wd,{initialize(q,J,fa){q=fd(fd(q,0,"div"),bh.svgOnTop?0:1,"div");return Wd.prototype.initialize.call(this,q,J,fa)}});const Ih={};Ih.canvas=Ih.png={renderer:Mc,headless:Mc,handler:Wd};Ih.svg={renderer:hf,
headless:y,handler:Ec};Ih.hybrid={renderer:p,headless:p,handler:Q};Ih.none={};const ui=new ra;t.Bounds=ra;t.CanvasHandler=Wd;t.CanvasRenderer=Mc;t.Gradient=function(q,J){var fa=[],ya;return ya={gradient:"linear",x1:q?q[0]:0,y1:q?q[1]:0,x2:J?J[0]:1,y2:J?J[1]:0,stops:fa,stop:function(cb,Pb){fa.push({offset:cb,color:Pb});return ya}}};t.GroupItem=Ua;t.Handler=Md;t.HybridHandler=Q;t.HybridRenderer=p;t.Item=Bb;t.Marks=wg;t.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",Hybrid:"hybrid",None:"none"};t.Renderer=
Ad;t.ResourceLoader=xb;t.SVGHandler=Ec;t.SVGRenderer=hf;t.SVGStringRenderer=y;t.Scenegraph=Gb;t.boundClip=function(q){const J=q.clip;if(h.isFunction(J))J(Lb(ui.clear()));else if(J)ui.set(0,0,q.group.width,q.group.height);else return;q.bounds.intersect(ui)};t.boundContext=Lb;t.boundItem=gf;t.boundMark=E;t.boundStroke=Fb;t.domChild=fd;t.domClear=cd;t.domCreate=Rb;t.domFind=Sc;t.font=Ne;t.fontFamily=he;t.fontSize=md;t.intersect=function(q,J,fa){const ya=[];J=(new ra).union(J);const cb=q.marktype;return cb?
Z(q,J,fa,ya):"group"===cb?pa(q,J,fa,ya):h.error("Intersect scene must be mark node or group item.")};t.intersectBoxLine=fb;t.intersectPath=nd;t.intersectPoint=Uc;t.intersectRule=Ha;t.lineHeight=qd;t.markup=Oe;t.multiLineOffset=function(q){const J=Gd(q);return(h.isArray(J)?J.length-1:0)*qd(q)};t.path=jc;t.pathCurves=ta;t.pathEqual=Ib;t.pathParse=O;t.pathRectangle=pc;t.pathRender=va;t.pathSymbols=Pa;t.pathTrail=ac;t.point=Nd;t.renderModule=function(q,J){q=String(q||"").toLowerCase();return 1<arguments.length?
(Ih[q]=J,this):Ih[q]};t.resetSVGClipId=function(){ye=1};t.resetSVGDefIds=function(){ye=1;$b=0};t.sceneEqual=Cb;t.sceneFromJSON=Ga;t.scenePickVisit=Hb;t.sceneToJSON=ca;t.sceneVisit=Eb;t.sceneZOrder=Vb;t.serializeXML=mg;t.setHybridRendererOptions=function(q){let J;bh.svgMarkTypes=null!=(J=q.svgMarkTypes)?J:["text"];let fa;bh.svgOnTop=null!=(fa=q.svgOnTop)?fa:!0;let ya;bh.debug=null!=(ya=q.debug)?ya:!1};t.textMetrics=Zg})};
shadow$provide[35]=function(Db,nb,Dc,Wa){(function(t,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,nb(29),nb(34),nb(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h((t.vega=t.vega||{},t.vega.transforms={}),t.vega,t.vega,t.vega))})(this,function(t,h,ia,Ya){function ub(z){h.Transform.call(this,null,z)}function Yb(z,F,W){return F(z.bounds.clear(),z,W)}function dc(z){h.Transform.call(this,
0,z)}function Wb(z){return z._signals[":vega_identifier:"]||(z._signals[":vega_identifier:"]=z.add(0))}function nc(z){h.Transform.call(this,null,z)}function Ab(z){const F=z.groups;z=z.parent;return F&&1===F.size?F.get(Object.keys(F.object)[0]):F&&z?F.lookup(z):null}function Ub(z){h.Transform.call(this,null,z)}function jc(z){h.Transform.call(this,null,z)}function Ea(z,F,W){return z[F]===W?0:(z[F]=W,1)}function bb(z){z=z.items[0].orient;return"left"===z||"right"===z}function tb(z,F,W,ta){F=F.items[0];
var O=F.datum,ja=null!=F.translate?F.translate:.5,va=F.orient,Ma=+O.grid;var Pa=[O.ticks?Ma++:-1,O.labels?Ma++:-1,Ma+ +O.domain];Ma=F.range;var Xa=F.offset,sb=F.position,ib=F.minExtent,Sb=F.maxExtent;O=O.title&&F.items[Pa[2]].items[0];var Y=F.titlePadding,Fa=F.bounds,Kb=O&&ia.multiLineOffset(O),pc;X.clear().union(Fa);Fa.clear();-1<(pc=Pa[0])&&Fa.union(F.items[pc].bounds);-1<(pc=Pa[1])&&Fa.union(F.items[pc].bounds);switch(va){case "top":W=sb||0;ta=-Xa;ib=Math.max(ib,Math.min(Sb,-Fa.y1));Fa.add(0,-ib).add(Ma,
0);O&&rb(z,O,ib,Y,Kb,0,-1,Fa);break;case "left":W=-Xa;ta=sb||0;ib=Math.max(ib,Math.min(Sb,-Fa.x1));Fa.add(-ib,0).add(0,Ma);O&&rb(z,O,ib,Y,Kb,1,-1,Fa);break;case "right":W+=Xa;ta=sb||0;ib=Math.max(ib,Math.min(Sb,Fa.x2));Fa.add(0,0).add(ib,Ma);O&&rb(z,O,ib,Y,Kb,1,1,Fa);break;case "bottom":W=sb||0;ta+=Xa;ib=Math.max(ib,Math.min(Sb,Fa.y2));Fa.add(0,0).add(Ma,ib);O&&rb(z,O,ib,Y,0,0,1,Fa);break;default:W=F.x,ta=F.y}ia.boundStroke(Fa.translate(W,ta),F);Ea(F,"x",W+ja)|Ea(F,"y",ta+ja)&&(F.bounds=X,z.dirty(F),
F.bounds=Fa,z.dirty(F));return F.mark.bounds.clear().union(Fa)}function rb(z,F,W,ta,O,ja,va,Ma){const Pa=F.bounds;F.auto&&(W=va*(W+O+ta),O=ta=0,z.dirty(F),ja?ta=(F.x||0)-(F.x=W):O=(F.y||0)-(F.y=W),F.mark.bounds.clear().union(Pa.translate(-ta,-O)),z.dirty(F));Ma.union(Pa)}function pb(z){return(new ia.Bounds).set(0,0,z.width||0,z.height||0)}function vb(z){const F=z.bounds.clone();return F.empty()?F.set(0,0,0,0):F.translate(-(z.x||0),-(z.y||0))}function gb(z,F,W){z=Ya.isObject(z)?z[F]:z;return null!=
z?z:void 0!==W?W:0}function fc(z){return 0>z?Math.ceil(-z):0}function sa(z,F,W){var ta=!W.nodirty,O="flush"===W.bounds?pb:vb,ja=X.set(0,0,0,0),va=gb(W.align,"column"),Ma=gb(W.align,"row"),Pa=gb(W.padding,"column"),Xa=gb(W.padding,"row"),sb=W.columns||F.length,ib=0>=sb?1:Math.ceil(F.length/sb),Sb=F.length,Y=Array(Sb),Fa=Array(sb),Kb=0,pc=Array(Sb),ac=Array(ib),Mb=0,Ob=Array(Sb),xc=Array(Sb),hd=Array(Sb),ra,Bb,Ua;for(ra=0;ra<sb;++ra)Fa[ra]=0;for(ra=0;ra<ib;++ra)ac[ra]=0;for(ra=0;ra<Sb;++ra){var xb=
F[ra];var Fb=hd[ra]=O(xb);xb.x=xb.x||0;Ob[ra]=0;xb.y=xb.y||0;xc[ra]=0;xb=ra%sb;var Lb=~~(ra/sb);Kb=Math.max(Kb,Bb=Math.ceil(Fb.x2));Mb=Math.max(Mb,Ua=Math.ceil(Fb.y2));Fa[xb]=Math.max(Fa[xb],Bb);ac[Lb]=Math.max(ac[Lb],Ua);Y[ra]=Pa+fc(Fb.x1);pc[ra]=Xa+fc(Fb.y1);ta&&z.dirty(F[ra])}for(ra=0;ra<Sb;++ra)0===ra%sb&&(Y[ra]=0),ra<sb&&(pc[ra]=0);if("each"===va)for(xb=1;xb<sb;++xb){O=0;for(ra=xb;ra<Sb;ra+=sb)O<Y[ra]&&(O=Y[ra]);for(ra=xb;ra<Sb;ra+=sb)Y[ra]=O+Fa[xb-1]}else if("all"===va){for(ra=O=0;ra<Sb;++ra)ra%
sb&&O<Y[ra]&&(O=Y[ra]);for(ra=0;ra<Sb;++ra)ra%sb&&(Y[ra]=O+Kb)}else for(va=!1,xb=1;xb<sb;++xb)for(ra=xb;ra<Sb;ra+=sb)Y[ra]+=Fa[xb-1];if("each"===Ma)for(Lb=1;Lb<ib;++Lb){O=0;ra=Lb*sb;for(xb=ra+sb;ra<xb;++ra)O<pc[ra]&&(O=pc[ra]);for(ra=Lb*sb;ra<xb;++ra)pc[ra]=O+ac[Lb-1]}else if("all"===Ma){O=0;for(ra=sb;ra<Sb;++ra)O<pc[ra]&&(O=pc[ra]);for(ra=sb;ra<Sb;++ra)pc[ra]=O+Mb}else for(Ma=!1,Lb=1;Lb<ib;++Lb)for(ra=Lb*sb,xb=ra+sb;ra<xb;++ra)pc[ra]+=ac[Lb-1];for(ra=Lb=0;ra<Sb;++ra)Lb=Y[ra]+(ra%sb?Lb:0),Ob[ra]+=
Lb-F[ra].x;for(xb=0;xb<sb;++xb)for(Y=0,ra=xb;ra<Sb;ra+=sb)Y+=pc[ra],xc[ra]+=Y-F[ra].y;if(va&&gb(W.center,"column")&&1<ib)for(ra=0;ra<Sb;++ra)Fb="all"===va?Kb:Fa[ra%sb],Lb=Fb-hd[ra].x2-F[ra].x-Ob[ra],0<Lb&&(Ob[ra]+=Lb/2);if(Ma&&gb(W.center,"row")&&1!==sb)for(ra=0;ra<Sb;++ra)Fb="all"===Ma?Mb:ac[~~(ra/sb)],Y=Fb-hd[ra].y2-F[ra].y-xc[ra],0<Y&&(xc[ra]+=Y/2);for(ra=0;ra<Sb;++ra)ja.union(hd[ra].translate(Ob[ra],xc[ra]));Lb=gb(W.anchor,"x");Y=gb(W.anchor,"y");switch(gb(W.anchor,"column")){case "end":Lb-=ja.width();
break;case "middle":Lb-=ja.width()/2}switch(gb(W.anchor,"row")){case "end":Y-=ja.height();break;case "middle":Y-=ja.height()/2}Lb=Math.round(Lb);Y=Math.round(Y);ja.clear();for(ra=0;ra<Sb;++ra)F[ra].mark.bounds.clear();for(ra=0;ra<Sb;++ra)xb=F[ra],xb.x+=Ob[ra]+=Lb,xb.y+=xc[ra]+=Y,ja.union(xb.mark.bounds.union(xb.bounds.translate(Ob[ra],xc[ra]))),ta&&z.dirty(xb);return ja}function ha(z,F){return"x1"===F?z.x||0:"y1"===F?z.y||0:"x2"===F?(z.x||0)+(z.width||0):"y2"===F?(z.y||0)+(z.height||0):void 0}function Ba(z,
F){return z.bounds[F]}function Sa(z,F,W,ta,O,ja,va,Ma,Pa,Xa,sb,ib,Sb,Y){var Fa=W.length,Kb=ta=0,pc,ac;if(!Fa)return ta;for(pc=sb;pc<Fa;pc+=ib)W[pc]&&(ta=va(ta,Pa(W[pc],Xa)));if(!F.length)return ta;F.length>O&&(z.warn("Grid headers exceed limit: "+O),F=F.slice(0,O));ta+=ja;O=0;for(ja=F.length;O<ja;++O)z.dirty(F[O]),F[O].mark.bounds.clear();pc=sb;O=0;for(ja=F.length;O<ja;++O,pc+=ib){Pa=F[O];sb=Pa.mark.bounds;for(Fa=pc;0<=Fa&&null==(ac=W[Fa]);Fa-=Sb);if(Ma){Fa=null==Y?ac.x:Math.round(ac.bounds.x1+Y*
ac.bounds.width());var Mb=ta}else Fa=ta,Mb=null==Y?ac.y:Math.round(ac.bounds.y1+Y*ac.bounds.height());sb.union(Pa.bounds.translate(Fa-(Pa.x||0),Mb-(Pa.y||0)));Pa.x=Fa;Pa.y=Mb;z.dirty(Pa);Kb=va(Kb,sb[Xa])}return Kb}function Va(z,F,W,ta,O,ja){if(F){z.dirty(F);var va=W;ta?va=Math.round(O.x1+ja*O.width()):W=Math.round(O.y1+ja*O.height());F.bounds.translate(va-(F.x||0),W-(F.y||0));F.mark.bounds.clear().union(F.bounds);F.x=va;F.y=W;z.dirty(F)}}function Ia(z,F){const W=z[F]||{};return(ta,O)=>null!=W[ta]?
W[ta]:null!=z[ta]?z[ta]:O}function hb(z,F){let W=-Infinity;z.forEach(ta=>{null!=ta.offset&&(W=Math.max(W,ta.offset))});return-Infinity<W?W:F}function Za(z,F,W,ta,O,ja,va){const Ma=Ia(W,F);W=hb(z,Ma("offset",0));const Pa=Ma("anchor","start"),Xa="end"===Pa?1:"middle"===Pa?.5:0;z={align:"each",bounds:Ma("bounds","flush"),columns:"vertical"===Ma("direction")?1:z.length,padding:Ma("margin",8),center:Ma("center"),nodirty:!0};switch(F){case "left":z.anchor={x:Math.floor(ta.x1)-W,column:"end",y:Xa*(va||ta.height()+
2*ta.y1),row:Pa};break;case "right":z.anchor={x:Math.ceil(ta.x2)+W,y:Xa*(va||ta.height()+2*ta.y1),row:Pa};break;case "top":z.anchor={y:Math.floor(O.y1)-W,row:"end",x:Xa*(ja||O.width()+2*O.x1),column:Pa};break;case "bottom":z.anchor={y:Math.ceil(O.y2)+W,x:Xa*(ja||O.width()+2*O.x1),column:Pa};break;case "top-left":z.anchor={x:W,y:W};break;case "top-right":z.anchor={x:ja-W,y:W,column:"end"};break;case "bottom-left":z.anchor={x:W,y:va-W,row:"end"};break;case "bottom-right":z.anchor={x:ja-W,y:va-W,column:"end",
row:"end"}}return z}function qb(z,F){F=F.items[0];var W=F.datum,ta=F.orient,O=F.bounds,ja=F.x,va=F.y;F._bounds?F._bounds.clear().union(O):F._bounds=O.clone();O.clear();var Ma=F.items[0].items[0];var Pa=F.padding,Xa=Pa-Ma.x,sb=Pa-Ma.y;if(F.datum.title){var ib=F.items[1].items[0],Sb=ib.anchor,Y=F.titlePadding||0,Fa=Pa-ib.x,Kb=Pa-ib.y;switch(ib.orient){case "left":Xa+=Math.ceil(ib.bounds.width())+Y;break;case "right":case "bottom":break;default:sb+=ib.bounds.height()+Y}(Xa||sb)&&V(z,Ma,Xa,sb);switch(ib.orient){case "left":Kb+=
$a(F,Ma,ib,Sb,1,1);break;case "right":Fa+=$a(F,Ma,ib,"end",0,0)+Y;Kb+=$a(F,Ma,ib,Sb,1,1);break;case "bottom":Fa+=$a(F,Ma,ib,Sb,0,0);Kb+=$a(F,Ma,ib,"end",-1,0,1)+Y;break;default:Fa+=$a(F,Ma,ib,Sb,0,0)}(Fa||Kb)&&V(z,ib,Fa,Kb);0>(Fa=Math.round(ib.bounds.x1-Pa))&&(V(z,Ma,-Fa,0),V(z,ib,-Fa,0))}else(Xa||sb)&&V(z,Ma,Xa,sb);O=Nb(F,O);z=2*F.padding;Ma=2*F.padding;O.empty()||(z=Math.ceil(O.width()+z),Ma=Math.ceil(O.height()+Ma));"symbol"===W.type&&N(F.items[0].items[0].items[0].items);"none"!==ta&&(F.x=ja=
0,F.y=va=0);F.width=z;F.height=Ma;ia.boundStroke(O.set(ja,va,ja+z,va+Ma),F);F.mark.bounds.clear().union(O);return F}function Nb(z,F){z.items.forEach(W=>F.union(W.bounds));F.x1=z.padding;F.y1=z.padding;return F}function $a(z,F,W,ta,O,ja,va){const Ma=W.datum.vgrad;z=("symbol"===z.datum.type||!ja&&Ma||va?F:F.items[0]).bounds[O?"y2":"x2"]-z.padding;F=Ma&&ja?z:0;ja=Ma&&ja?0:z;W=0>=O?0:ia.multiLineOffset(W);return Math.round("start"===ta?F:"end"===ta?ja-W:.5*(z-W))}function V(z,F,W,ta){F.x+=W;F.y+=ta;F.bounds.translate(W,
ta);F.mark.bounds.translate(W,ta);z.dirty(F)}function N(z){const F=z.reduce((W,ta)=>{W[ta.column]=Math.max(ta.bounds.x2-ta.x,W[ta.column]||0);return W},{});z.forEach(W=>{W.width=F[W.column];W.height=W.bounds.y2-W.y})}function na(z,F,W,ta,O){var ja=F.items[0],va=ja.orient,Ma=ja.anchor,Pa=ja.offset,Xa=ja.padding,sb=ja.items[0].items[0],ib=ja.items[1]&&ja.items[1].items[0],Sb="left"===va||"right"===va?ta:W,Y=0,Fa=W=0;"group"!==ja.frame?"left"===va?(Y=O.y2,Sb=O.y1):"right"===va?(Y=O.y1,Sb=O.y2):(Y=O.x1,
Sb=O.x2):"left"===va&&(Y=ta,Sb=0);ta="start"===Ma?Y:"end"===Ma?Sb:(Y+Sb)/2;if(ib&&ib.text){switch(va){case "top":case "bottom":Fa=sb.bounds.height()+Xa;break;case "left":W=sb.bounds.width()+Xa;break;case "right":W=-sb.bounds.width()-Xa}X.clear().union(ib.bounds);X.translate(W-(ib.x||0),Fa-(ib.y||0));Ea(ib,"x",W)|Ea(ib,"y",Fa)&&(z.dirty(ib),ib.bounds.clear().union(X),ib.mark.bounds.clear().union(X),z.dirty(ib));X.clear().union(ib.bounds)}else X.clear();X.union(sb.bounds);switch(va){case "top":va=ta;
O=O.y1-X.height()-Pa;break;case "left":va=O.x1-X.width()-Pa;O=ta;break;case "right":va=O.x2+X.width()+Pa;O=ta;break;case "bottom":va=ta;O=O.y2+Pa;break;default:va=ja.x,O=ja.y}Ea(ja,"x",va)|Ea(ja,"y",O)&&(X.translate(va,O),z.dirty(ja),ja.bounds.clear().union(X),F.bounds.clear().union(X),z.dirty(ja));return ja.bounds}function oa(z){h.Transform.call(this,null,z)}function Na(z){return z&&"legend-entry"!==z.mark.role}function la(z,F,W){var ta=F.items,O=Math.max(0,F.width||0),ja=Math.max(0,F.height||0),
va=(new ia.Bounds).set(0,0,O,ja),Ma=va.clone(),Pa=va.clone(),Xa=[],sb,ib;var Sb=0;for(ib=ta.length;Sb<ib;++Sb){var Y=ta[Sb];switch(Y.role){case "axis":var Fa=bb(Y)?Ma:Pa;Fa.union(tb(z,Y,O,ja));break;case "title":var Kb=Y;break;case "legend":Xa.push(qb(z,Y));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":Ma.union(Y.bounds);Pa.union(Y.bounds);break;default:va.union(Y.bounds)}}if(Xa.length){const pc={};
Xa.forEach(ac=>{sb=ac.orient||"right";"none"!==sb&&(pc[sb]||(pc[sb]=[])).push(ac)});for(const ac in pc)ta=pc[ac],sa(z,ta,Za(ta,ac,W.legends,Ma,Pa,O,ja));Xa.forEach(ac=>{const Mb=ac.bounds;Mb.equals(ac._bounds)||(ac.bounds=ac._bounds,z.dirty(ac),ac.bounds=Mb,z.dirty(ac));if(!W.autosize||"fit"!==W.autosize.type&&"fit-x"!==W.autosize.type&&"fit-y"!==W.autosize.type)va.union(Mb);else switch(ac.orient){case "left":case "right":va.add(Mb.x1,0).add(Mb.x2,0);break;case "top":case "bottom":va.add(0,Mb.y1).add(0,
Mb.y2)}})}va.union(Ma).union(Pa);Kb&&va.union(na(z,Kb,O,ja,va));F.clip&&va.set(0,0,F.width||0,F.height||0);qa(z,F,va,W)}function qa(z,F,W,ta){ta=ta.autosize||{};const O=ta.type;if(!(1>z._autosize)&&O){var ja=z._width,va=z._height,Ma=Math.max(0,F.width||0),Pa=Math.max(0,Math.ceil(-W.x1));F=Math.max(0,F.height||0);var Xa=Math.max(0,Math.ceil(-W.y1)),sb=Math.max(0,Math.ceil(W.x2-Ma));W=Math.max(0,Math.ceil(W.y2-F));if("padding"===ta.contains){const ib=z.padding();ja-=ib.left+ib.right;va-=ib.top+ib.bottom}"none"===
O?(Xa=Pa=0,Ma=ja,F=va):"fit"===O?(Ma=Math.max(0,ja-Pa-sb),F=Math.max(0,va-Xa-W)):"fit-x"===O?(Ma=Math.max(0,ja-Pa-sb),va=F+Xa+W):"fit-y"===O?(ja=Ma+Pa+sb,F=Math.max(0,va-Xa-W)):"pad"===O&&(ja=Ma+Pa+sb,va=F+Xa+W);z._resizeView(ja,va,Ma,F,[Pa,Xa],ta.resize)}}Ya.inherits(ub,h.Transform,{transform(z,F){const W=F.dataflow,ta=z.mark,O=ta.marktype,ja=ia.Marks[O],va=ja.bound;let Ma=ta.bounds,Pa;if(ja.nested)ta.items.length&&W.dirty(ta.items[0]),Ma=Yb(ta,va),ta.items.forEach(Xa=>{Xa.bounds.clear().union(Ma)});
else if("group"===O||z.modified())switch(F.visit(F.MOD,Xa=>W.dirty(Xa)),Ma.clear(),ta.items.forEach(Xa=>Ma.union(Yb(Xa,va))),ta.role){case "axis":case "legend":case "title":F.reflow()}else Pa=F.changed(F.REM),F.visit(F.ADD,Xa=>{Ma.union(Yb(Xa,va))}),F.visit(F.MOD,Xa=>{Pa=Pa||Ma.alignsWith(Xa.bounds);W.dirty(Xa);Ma.union(Yb(Xa,va))}),Pa&&(Ma.clear(),ta.items.forEach(Xa=>Ma.union(Xa.bounds)));ia.boundClip(ta);return F.modifies("bounds")}});dc.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",
type:"string",required:!0}]};Ya.inherits(dc,h.Transform,{transform(z,F){const W=Wb(F.dataflow),ta=z.as;let O=W.value;F.visit(F.ADD,ja=>ja[ta]=ja[ta]||++O);W.set(this.value=O);return F}});Ya.inherits(nc,h.Transform,{transform(z,F){let W=this.value;W||(W=F.dataflow.scenegraph().mark(z.markdef,Ab(z),z.index),W.group.context=z.context,z.context.group||(z.context.group=W.group),W.source=this.source,W.clip=z.clip,W.interactive=z.interactive,this.value=W);const ta="group"===W.marktype?ia.GroupItem:ia.Item;
F.visit(F.ADD,O=>ta.call(O,W));if(z.modified("clip")||z.modified("interactive"))W.clip=z.clip,W.interactive=!!z.interactive,W.zdirty=!0,F.reflow();W.items=F.source;return F}});const l={parity:z=>z.filter((F,W)=>W%2?F.opacity=0:1),greedy:(z,F)=>{let W;return z.filter((ta,O)=>O&&D(W.bounds,ta.bounds,F)?ta.opacity=0:(W=ta,1))}},D=(z,F,W)=>W>Math.max(F.x1-z.x2,z.x1-F.x2,F.y1-z.y2,z.y1-F.y2),K=(z,F)=>{for(var W=1,ta=z.length,O=z[0].bounds;W<ta;++W)if(D(O,O=z[W].bounds,F))return!0},x=z=>{z=z.bounds;return 1<
z.width()&&1<z.height()},U=(z,F,W)=>{z=z.range();var ta=new ia.Bounds;"top"===F||"bottom"===F?ta.set(z[0],-Infinity,z[1],Infinity):ta.set(-Infinity,z[0],Infinity,z[1]);ta.expand(W||1);return O=>ta.encloses(O.bounds)},A=z=>{z.forEach(F=>F.opacity=1);return z};Ya.inherits(Ub,h.Transform,{transform(z,F){const W=l[z.method]||l.parity,ta=z.separation||0;let O=F.materialize(F.SOURCE).source,ja,va;if(O&&O.length){if(!z.method)return z.modified("method")&&(A(O),F=F.reflow(z.modified()).modifies("opacity")),
F;O=O.filter(x);if(O.length){z.sort&&(O=O.slice().sort(z.sort));ja=A(O);F=F.reflow(z.modified()).modifies("opacity");if(3<=ja.length&&K(ja,ta)){do ja=W(ja,ta);while(3<=ja.length&&K(ja,ta));3>ja.length&&!Ya.peek(O).opacity&&(1<ja.length&&(Ya.peek(ja).opacity=0),Ya.peek(O).opacity=1)}z.boundScale&&0<=z.boundTolerance&&(va=U(z.boundScale,z.boundOrient,+z.boundTolerance),O.forEach(Pa=>{va(Pa)||(Pa.opacity=0)}));var Ma=ja[0].mark.bounds.clear();O.forEach(Pa=>{Pa.opacity&&Ma.union(Pa.bounds)});return F}}}});
Ya.inherits(jc,h.Transform,{transform(z,F){const W=F.dataflow;F.visit(F.ALL,ta=>W.dirty(ta));F.fields&&F.fields.zindex&&(z=F.source&&F.source[0])&&(z.mark.zdirty=!0)}});const X=new ia.Bounds,G=(z,F)=>Math.floor(Math.min(z,F)),v=(z,F)=>Math.ceil(Math.max(z,F));Ya.inherits(oa,h.Transform,{transform(z,F){const W=F.dataflow;z.mark.items.forEach(ta=>{if(z.layout){var O=z.layout;var ja=ta.items;for(var va=ja.length,Ma=0,Pa,Xa,sb={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,
coltitle:null};Ma<va;++Ma)if(Pa=ja[Ma],Xa=Pa.items,"group"===Pa.marktype)switch(Pa.role){case "axis":case "legend":case "title":break;case "row-header":sb.rowheaders.push(...Xa);break;case "row-footer":sb.rowfooters.push(...Xa);break;case "column-header":sb.colheaders.push(...Xa);break;case "column-footer":sb.colfooters.push(...Xa);break;case "row-title":sb.rowtitle=Xa[0];break;case "column-title":sb.coltitle=Xa[0];break;default:sb.marks.push(...Xa)}ja=sb;Xa=ja.marks;sb="flush"===O.bounds?ha:Ba;va=
O.offset;var ib=O.columns||Xa.length,Sb=0>=ib?1:Math.ceil(Xa.length/ib),Y=Sb*ib;Ma=sa(W,Xa,O);Ma.empty()&&Ma.set(0,0,0,0);if(ja.rowheaders){Pa=gb(O.headerBand,"row",null);var Fa=Sa(W,ja.rowheaders,Xa,ib,Sb,-gb(va,"rowHeader"),G,0,sb,"x1",0,ib,1,Pa)}if(ja.colheaders){Pa=gb(O.headerBand,"column",null);var Kb=Sa(W,ja.colheaders,Xa,ib,ib,-gb(va,"columnHeader"),G,1,sb,"y1",0,1,ib,Pa)}if(ja.rowfooters){Pa=gb(O.footerBand,"row",null);var pc=Sa(W,ja.rowfooters,Xa,ib,Sb,gb(va,"rowFooter"),v,0,sb,"x2",ib-1,
ib,1,Pa)}if(ja.colfooters){Pa=gb(O.footerBand,"column",null);var ac=Sa(W,ja.colfooters,Xa,ib,ib,gb(va,"columnFooter"),v,1,sb,"y2",Y-ib,1,ib,Pa)}ja.rowtitle&&(Pa=gb(O.titleAnchor,"row"),Xa=gb(va,"rowTitle"),Xa="end"===Pa?pc+Xa:Fa-Xa,Pa=gb(O.titleBand,"row",.5),Va(W,ja.rowtitle,Xa,0,Ma,Pa));ja.coltitle&&(Pa=gb(O.titleAnchor,"column"),Xa=gb(va,"columnTitle"),Xa="end"===Pa?ac+Xa:Kb-Xa,Pa=gb(O.titleBand,"column",.5),Va(W,ja.coltitle,Xa,1,Ma,Pa))}la(W,ta,z)});return Na(z.mark.group)?F.reflow():F}});t.bound=
ub;t.identifier=dc;t.mark=nc;t.overlap=Ub;t.render=jc;t.viewlayout=oa})};
shadow$provide[36]=function(Db,nb,Dc,Wa){(function(t,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,nb(29),nb(33),nb(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scale","vega-util"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega,t.vega,t.vega))})(this,function(t,h,ia,Ya){function ub(S){h.Transform.call(this,null,S)}function Yb(S){h.Transform.call(this,null,S)}function dc(){return h.ingest({})}function Wb(S){const r=Ya.fastmap().test(da=>
da.exit);r.lookup=da=>r.get(S(da));return r}function nc(S){h.Transform.call(this,null,S)}function Ab(S){h.Transform.call(this,[],S)}function Ub(S){h.Transform.call(this,{},S)}function jc(S,r,da){S=+S;r=+r;da=2>(Da=arguments.length)?(r=S,S=0,1):3>Da?1:+da;for(var za=-1,Da=Math.max(0,Math.ceil((r-S)/da))|0,Oa=Array(Da);++za<Da;)Oa[za]=S+za*da;return Oa}function Ea(S,r){let da=0;if(void 0===r)for(var za of S){if(za=+za)da+=za}else{za=-1;for(let Da of S)if(Da=+r(Da,++za,S))da+=Da}return da}function bb(S){h.Transform.call(this,
null,S)}function tb(S,r,da){S.prototype=r.prototype=da;da.constructor=S}function rb(S,r){S=Object.create(S.prototype);for(var da in r)S[da]=r[da];return S}function pb(){}function vb(){return this.rgb().formatHex()}function gb(){return this.rgb().formatRgb()}function fc(S){var r,da;S=(S+"").trim().toLowerCase();return(r=ra.exec(S))?(da=r[1].length,r=parseInt(r[1],16),6===da?sa(r):3===da?new Sa(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):8===da?ha(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):4===
da?ha(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=Bb.exec(S))?new Sa(r[1],r[2],r[3],1):(r=Ua.exec(S))?new Sa(255*r[1]/100,255*r[2]/100,255*r[3]/100,1):(r=xb.exec(S))?ha(r[1],r[2],r[3],r[4]):(r=Fb.exec(S))?ha(255*r[1]/100,255*r[2]/100,255*r[3]/100,r[4]):(r=Lb.exec(S))?Nb(r[1],r[2]/100,r[3]/100,1):(r=Zb.exec(S))?Nb(r[1],r[2]/100,r[3]/100,r[4]):ic.hasOwnProperty(S)?sa(ic[S]):"transparent"===S?new Sa(NaN,NaN,NaN,0):null}function sa(S){return new Sa(S>>16&255,S>>8&255,
S&255,1)}function ha(S,r,da,za){0>=za&&(S=r=da=NaN);return new Sa(S,r,da,za)}function Ba(S,r,da,za){if(1===arguments.length){var Da=S;Da instanceof pb||(Da=fc(Da));Da?(Da=Da.rgb(),Da=new Sa(Da.r,Da.g,Da.b,Da.opacity)):Da=new Sa}else Da=new Sa(S,r,da,null==za?1:za);return Da}function Sa(S,r,da,za){this.r=+S;this.g=+r;this.b=+da;this.opacity=+za}function Va(){return`#${qb(this.r)}${qb(this.g)}${qb(this.b)}`}function Ia(){const S=hb(this.opacity);return`${1===S?"rgb(":"rgba("}${Za(this.r)}, ${Za(this.g)}, ${Za(this.b)}${1===
S?")":`, ${S})`}`}function hb(S){return isNaN(S)?1:Math.max(0,Math.min(1,S))}function Za(S){return Math.max(0,Math.min(255,Math.round(S)||0))}function qb(S){S=Za(S);return(16>S?"0":"")+S.toString(16)}function Nb(S,r,da,za){0>=za?S=r=da=NaN:0>=da||1<=da?S=r=NaN:0>=r&&(S=NaN);return new V(S,r,da,za)}function $a(S){if(S instanceof V)return new V(S.h,S.s,S.l,S.opacity);S instanceof pb||(S=fc(S));if(!S)return new V;if(S instanceof V)return S;S=S.rgb();var r=S.r/255,da=S.g/255,za=S.b/255,Da=Math.min(r,
da,za),Oa=Math.max(r,da,za),kb=NaN,Vb=Oa-Da,Eb=(Oa+Da)/2;Vb?(kb=r===Oa?(da-za)/Vb+6*(da<za):da===Oa?(za-r)/Vb+2:(r-da)/Vb+4,Vb/=.5>Eb?Oa+Da:2-Oa-Da,kb*=60):Vb=0<Eb&&1>Eb?0:kb;return new V(kb,Vb,Eb,S.opacity)}function V(S,r,da,za){this.h=+S;this.s=+r;this.l=+da;this.opacity=+za}function N(S){S=(S||0)%360;return 0>S?S+360:S}function na(S){return Math.max(0,Math.min(1,S||0))}function oa(S,r,da){return 255*(60>S?r+(da-r)*S/60:180>S?da:240>S?r+(da-r)*(240-S)/60:r)}function Na(S,r){return function(da){return S+
da*r}}function la(S,r,da){return S=Math.pow(S,da),r=Math.pow(r,da)-S,da=1/da,function(za){return Math.pow(S+za*r,da)}}function qa(S){return 1===(S=+S)?l:function(r,da){return da-r?la(r,da,S):Ac(isNaN(r)?da:r)}}function l(S,r){var da=r-S;return da?Na(S,da):Ac(isNaN(S)?r:S)}function D(S,r){r||(r=[]);var da=S?Math.min(r.length,S.length):0,za=r.slice(),Da;return function(Oa){for(Da=0;Da<da;++Da)za[Da]=S[Da]*(1-Oa)+r[Da]*Oa;return za}}function K(S,r){var da=r?r.length:0,za=S?Math.min(da,S.length):0,Da=
Array(za),Oa=Array(da),kb;for(kb=0;kb<za;++kb)Da[kb]=z(S[kb],r[kb]);for(;kb<da;++kb)Oa[kb]=r[kb];return function(Vb){for(kb=0;kb<za;++kb)Oa[kb]=Da[kb](Vb);return Oa}}function x(S,r){var da=new Date;return S=+S,r=+r,function(za){return da.setTime(S*(1-za)+r*za),da}}function U(S,r){return S=+S,r=+r,function(da){return S*(1-da)+r*da}}function A(S,r){var da={},za={},Da;if(null===S||"object"!==typeof S)S={};if(null===r||"object"!==typeof r)r={};for(Da in r)Da in S?da[Da]=z(S[Da],r[Da]):za[Da]=r[Da];return function(Oa){for(Da in da)za[Da]=
da[Da](Oa);return za}}function X(S){return function(){return S}}function G(S){return function(r){return S(r)+""}}function v(S,r){var da=Uc.lastIndex=ma.lastIndex=0,za,Da,Oa,kb=-1,Vb=[],Eb=[];S+="";for(r+="";(za=Uc.exec(S))&&(Da=ma.exec(r));)(Oa=Da.index)>da&&(Oa=r.slice(da,Oa),Vb[kb]?Vb[kb]+=Oa:Vb[++kb]=Oa),(za=za[0])===(Da=Da[0])?Vb[kb]?Vb[kb]+=Da:Vb[++kb]=Da:(Vb[++kb]=null,Eb.push({i:kb,x:U(za,Da)})),da=ma.lastIndex;da<r.length&&(Oa=r.slice(da),Vb[kb]?Vb[kb]+=Oa:Vb[++kb]=Oa);return 2>Vb.length?
Eb[0]?G(Eb[0].x):X(r):(r=Eb.length,function(Hb){for(var Cc=0,Hc;Cc<r;++Cc)Vb[(Hc=Eb[Cc]).i]=Hc.x(Hb);return Vb.join("")})}function z(S,r){var da=typeof r;if(null==r||"boolean"===da)S=Ac(r);else{if("number"===da)var za=U;else"string"===da?da=(za=fc(r))?(r=za,nd):v:(r instanceof fc?za=nd:r instanceof Date?za=x:(za=r,za=!ArrayBuffer.isView(za)||za instanceof DataView?Array.isArray(r)?K:"function"!==typeof r.valueOf&&"function"!==typeof r.toString||isNaN(r)?A:U:D),da=za),za=da;S=za(S,r)}return S}function F(S,
r){return S=+S,r=+r,function(da){return Math.round(S*(1-da)+r*da)}}function W(S){return ia.isContinuous(S)&&S!==ia.Sequential}function ta(S){h.Transform.call(this,null,S);this.modified(!0)}function O(S,r,da){ia.isLogarithmic(S)&&Math.abs(r.reduce((za,Da)=>za+(0>Da?-1:0<Da?1:0),0))!==r.length&&da.warn("Log scale domain includes zero: "+Ya.stringValue(r));return r}function ja(S,r,da){return Ya.isFunction(S)&&(r||da)?ia.interpolateRange(S,va(r||[0,1],da)):S}function va(S,r){return r?S.slice().reverse():
S}function Ma(S){h.Transform.call(this,null,S)}function Pa(S){h.Transform.call(this,null,S)}function Xa(S,r,da,za,Da){r=(r-S.sum)/2;for(var Oa=S.length,kb=0,Vb;kb<Oa;++kb)Vb=S[kb],Vb[za]=r,Vb[Da]=r+=Math.abs(da(Vb))}function sb(S,r,da,za,Da){r=1/S.sum;for(var Oa=0,kb=S.length,Vb=0,Eb=0,Hb;Vb<kb;++Vb)Hb=S[Vb],Hb[za]=Oa,Hb[Da]=Oa=r*(Eb+=Math.abs(da(Hb)))}function ib(S,r,da,za,Da){for(var Oa=r=0,kb=S.length,Vb=0,Eb,Hb;Vb<kb;++Vb)Hb=S[Vb],Eb=+da(Hb),0>Eb?(Hb[za]=Oa,Hb[Da]=Oa+=Eb):(Hb[za]=r,Hb[Da]=r+=
Eb)}function Sb(S,r,da,za){var Da=[],Oa=Nc=>Nc(Hb),kb;if(null==r)Da.push(S.slice());else{var Vb={};var Eb=0;for(kb=S.length;Eb<kb;++Eb){var Hb=S[Eb];var Cc=r.map(Oa);var Hc=Vb[Cc];Hc||(Vb[Cc]=Hc=[],Da.push(Hc));Hc.push(Hb)}}Oa=Cc=0;for(S=Da.length;Cc<S;++Cc){Hc=Da[Cc];r=Eb=0;for(kb=Hc.length;Eb<kb;++Eb)r+=Math.abs(za(Hc[Eb]));Hc.sum=r;r>Oa&&(Oa=r);da&&Hc.sort(da)}Da.max=Oa;return Da}Ya.inherits(ub,h.Transform,{transform(S,r){if(this.value&&!S.modified())return r.StopPropagation;var da=r.dataflow.locale();
r=r.fork(r.NO_SOURCE|r.NO_FIELDS);var za=this.value,Da=S.scale,Oa=ia.tickCount(Da,null==S.count?S.values?S.values.length:10:S.count,S.minstep),kb=S.format||ia.tickFormat(da,Da,Oa,S.formatSpecifier,S.formatType,!!S.values),Vb=S.values?ia.validTicks(Da,S.values,Oa):ia.tickValues(Da,Oa);za&&(r.rem=za);za=Vb.map((Eb,Hb)=>h.ingest({index:Hb/(Vb.length-1||1),value:Eb,label:kb(Eb)}));S.extra&&za.length&&za.push(h.ingest({index:-1,extra:{value:za[0].value},label:""}));r.source=za;this.value=r.add=za;return r}});
Ya.inherits(Yb,h.Transform,{transform(S,r){var da=r.dataflow,za=r.fork(r.NO_SOURCE|r.NO_FIELDS),Da=S.item||dc,Oa=S.key||h.tupleid,kb=this.value;Ya.isArray(za.encode)&&(za.encode=null);kb&&(S.modified("key")||r.modified(Oa))&&Ya.error("DataJoin does not support modified key function or fields.");kb||(r=r.addAll(),this.value=kb=Wb(Oa));r.visit(r.ADD,Vb=>{const Eb=Oa(Vb);let Hb=kb.get(Eb);Hb?Hb.exit?(kb.empty--,za.add.push(Hb)):za.mod.push(Hb):(Hb=Da(Vb),kb.set(Eb,Hb),za.add.push(Hb));Hb.datum=Vb;Hb.exit=
!1});r.visit(r.MOD,Vb=>{var Eb=Oa(Vb);if(Eb=kb.get(Eb))Eb.datum=Vb,za.mod.push(Eb)});r.visit(r.REM,Vb=>{var Eb=Oa(Vb);Eb=kb.get(Eb);Vb!==Eb.datum||Eb.exit||(za.rem.push(Eb),Eb.exit=!0,++kb.empty)});r.changed(r.ADD_MOD)&&za.modifies("datum");(r.clean()||S.clean&&kb.empty>da.cleanThreshold)&&da.runAfter(kb.clean);return za}});Ya.inherits(nc,h.Transform,{transform(S,r){var da=r.fork(r.ADD_REM),za=S.mod||!1,Da=S.encoders,Oa=r.encode;if(Ya.isArray(Oa))if(da.changed()||Oa.every(Hc=>Da[Hc]))Oa=Oa[0],da.encode=
null;else return r.StopPropagation;var kb="enter"===Oa,Vb=Da.update||Ya.falsy,Eb=Da.enter||Ya.falsy,Hb=Da.exit||Ya.falsy,Cc=(Oa&&!kb?Da[Oa]:Vb)||Ya.falsy;r.changed(r.ADD)&&(r.visit(r.ADD,Hc=>{Eb(Hc,S);Vb(Hc,S)}),da.modifies(Eb.output),da.modifies(Vb.output),Cc!==Ya.falsy&&Cc!==Vb&&(r.visit(r.ADD,Hc=>{Cc(Hc,S)}),da.modifies(Cc.output)));r.changed(r.REM)&&Hb!==Ya.falsy&&(r.visit(r.REM,Hc=>{Hb(Hc,S)}),da.modifies(Hb.output));if(kb||Cc!==Ya.falsy)Oa=r.MOD|(S.modified()?r.REFLOW:0),kb?(r.visit(Oa,Hc=>
{const Nc=Eb(Hc,S)||za;(Cc(Hc,S)||Nc)&&da.mod.push(Hc)}),da.mod.length&&da.modifies(Eb.output)):r.visit(Oa,Hc=>{(Cc(Hc,S)||za)&&da.mod.push(Hc)}),da.mod.length&&da.modifies(Cc.output);return da.changed()?da:r.StopPropagation}});Ya.inherits(Ab,h.Transform,{transform(S,r){if(null!=this.value&&!S.modified())return r.StopPropagation;var da=r.dataflow.locale(),za=r.fork(r.NO_SOURCE|r.NO_FIELDS),Da=this.value,Oa=S.type||ia.SymbolLegend,kb=S.scale,Vb=+S.limit,Eb=ia.tickCount(kb,null==S.count?5:S.count,S.minstep),
Hb=!!S.values||Oa===ia.SymbolLegend,Cc=S.format||ia.labelFormat(da,kb,Eb,Oa,S.formatSpecifier,S.formatType,Hb),Hc=S.values||ia.labelValues(kb,Eb),Nc;Da&&(za.rem=Da);if(Oa===ia.SymbolLegend){if(Vb&&Hc.length>Vb){r.dataflow.warn("Symbol legend count exceeds limit, filtering items.");Da=Hc.slice(0,Vb-1);var xd=!0}else Da=Hc;if(Ya.isFunction(Nc=S.size)){S.values||0!==kb(Da[0])||(Da=Da.slice(1));var sd=Da.reduce((Jd,Hd)=>Math.max(Jd,Nc(Hd,S)),0)}else Nc=Ya.constant(sd=Nc||8);Da=Da.map((Jd,Hd)=>h.ingest({index:Hd,
label:Cc(Jd,Hd,Da),value:Jd,offset:sd,size:Nc(Jd,S)}));xd&&(xd=Hc[Da.length],Da.push(h.ingest({index:Da.length,label:`\u2026${Hc.length-Da.length} entries`,value:xd,offset:sd,size:Nc(xd,S)})))}else if(Oa===ia.GradientLegend){r=kb.domain();var ed=ia.scaleFraction(kb,r[0],Ya.peek(r));3>Hc.length&&!S.values&&r[0]!==Ya.peek(r)&&(Hc=[r[0],Ya.peek(r)]);Da=Hc.map((Jd,Hd)=>h.ingest({index:Hd,label:Cc(Jd,Hd,Hc),value:Jd,perc:ed(Jd)}))}else Nc=Hc.length-1,ed=ia.labelFraction(kb),Da=Hc.map((Jd,Hd)=>h.ingest({index:Hd,
label:Cc(Jd,Hd,Hc),value:Jd,perc:Hd?ed(Jd):0,perc2:Hd===Nc?1:ed(Hc[Hd+1])}));za.source=Da;this.value=za.add=Da;return za}});const Y=S=>S.source.x,Fa=S=>S.source.y,Kb=S=>S.target.x,pc=S=>S.target.y;Ub.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",
values:["horizontal","vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string","default":"path"}]};Ya.inherits(Ub,h.Transform,{transform(S,r){var da=S.sourceX||Y,za=S.sourceY||Fa,Da=S.targetX||Kb,Oa=S.targetY||pc,kb=S.as||"path",Vb=S.shape||"line",Eb=xc.get(Vb+"-"+(S.orient||"vertical"))||xc.get(Vb);Eb||Ya.error("LinkPath unsupported type: "+S.shape+(S.orient?"-"+S.orient:""));r.visit(r.SOURCE,
Hb=>{Hb[kb]=Eb(da(Hb),za(Hb),Da(Hb),Oa(Hb))});return r.reflow(S.modified()).modifies(kb)}});const ac=(S,r,da,za)=>"M"+S+","+r+"L"+da+","+za,Mb=(S,r,da,za)=>{var Da=da-S,Oa=za-r,kb=Math.hypot(Da,Oa)/2;return"M"+S+","+r+"A"+kb+","+kb+" "+180*Math.atan2(Oa,Da)/Math.PI+" 0 1 "+da+","+za},Ob=(S,r,da,za)=>{var Da=da-S;const Oa=za-r,kb=.2*(Da+Oa);Da=.2*(Oa-Da);return"M"+S+","+r+"C"+(S+kb)+","+(r+Da)+" "+(da+Da)+","+(za-kb)+" "+da+","+za},xc=Ya.fastmap({line:ac,"line-radial":(S,r,da,za)=>ac(r*Math.cos(S),
r*Math.sin(S),za*Math.cos(da),za*Math.sin(da)),arc:Mb,"arc-radial":(S,r,da,za)=>Mb(r*Math.cos(S),r*Math.sin(S),za*Math.cos(da),za*Math.sin(da)),curve:Ob,"curve-radial":(S,r,da,za)=>Ob(r*Math.cos(S),r*Math.sin(S),za*Math.cos(da),za*Math.sin(da)),"orthogonal-horizontal":(S,r,da,za)=>"M"+S+","+r+"V"+za+"H"+da,"orthogonal-vertical":(S,r,da,za)=>"M"+S+","+r+"H"+da+"V"+za,"orthogonal-radial":(S,r,da,za)=>{const Da=Math.cos(da),Oa=Math.sin(da);return"M"+r*Math.cos(S)+","+r*Math.sin(S)+"A"+r+","+r+" 0 0,"+
((Math.abs(da-S)>Math.PI?da<=S:da>S)?1:0)+" "+r*Da+","+r*Oa+"L"+za*Da+","+za*Oa},"diagonal-horizontal":(S,r,da,za)=>{const Da=(S+da)/2;return"M"+S+","+r+"C"+Da+","+r+" "+Da+","+za+" "+da+","+za},"diagonal-vertical":(S,r,da,za)=>{const Da=(r+za)/2;return"M"+S+","+r+"C"+S+","+Da+" "+da+","+Da+" "+da+","+za},"diagonal-radial":(S,r,da,za)=>{const Da=Math.cos(S);S=Math.sin(S);const Oa=Math.cos(da);da=Math.sin(da);const kb=(r+za)/2;return"M"+r*Da+","+r*S+"C"+kb*Da+","+kb*S+" "+kb*Oa+","+kb*da+" "+za*Oa+
","+za*da}});bb.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};Ya.inherits(bb,h.Transform,{transform(S,r){var da=S.as||["startAngle","endAngle"],za=da[0],Da=da[1],Oa=S.startAngle||0,kb=null!=S.endAngle?S.endAngle:2*Math.PI,Vb=r.source,Eb=
Vb.map(S.field||Ya.one),Hb=Eb.length,Cc=Oa;Oa=(kb-Oa)/Ea(Eb);kb=jc(Hb);var Hc;S.sort&&kb.sort((sd,ed)=>Eb[sd]-Eb[ed]);for(Hc=0;Hc<Hb;++Hc){var Nc=Eb[kb[Hc]];var xd=Vb[kb[Hc]];xd[za]=Cc;xd[Da]=Cc+=Nc*Oa}this.value=Eb;return r.reflow(S.modified()).modifies(da)}});var hd=1/.7,ra=/^#([0-9a-f]{3,8})$/,Bb=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),Ua=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
xb=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Fb=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Lb=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
Zb=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),ic={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,
cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,
dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,
lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,
mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,
seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tb(pb,fc,{copy(S){return Object.assign(new this.constructor,this,S)},displayable(){return this.rgb().displayable()},hex:vb,formatHex:vb,
formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return $a(this).formatHsl()},formatRgb:gb,toString:gb});tb(Sa,Ba,rb(pb,{brighter(S){S=null==S?hd:Math.pow(hd,S);return new Sa(this.r*S,this.g*S,this.b*S,this.opacity)},darker(S){S=null==S?.7:Math.pow(.7,S);return new Sa(this.r*S,this.g*S,this.b*S,this.opacity)},rgb(){return this},clamp(){return new Sa(Za(this.r),Za(this.g),Za(this.b),hb(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&
-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Va,formatHex:Va,formatHex8:function(){return`#${qb(this.r)}${qb(this.g)}${qb(this.b)}${qb(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ia,toString:Ia}));tb(V,function(S,r,da,za){return 1===arguments.length?$a(S):new V(S,r,da,null==za?1:za)},rb(pb,{brighter(S){S=null==S?hd:Math.pow(hd,S);return new V(this.h,this.s,this.l*S,this.opacity)},darker(S){S=null==S?.7:Math.pow(.7,S);return new V(this.h,this.s,this.l*S,this.opacity)},
rgb(){var S=this.h%360+360*(0>this.h),r=isNaN(S)||isNaN(this.s)?0:this.s,da=this.l;r=da+(.5>da?da:1-da)*r;da=2*da-r;return new Sa(oa(240<=S?S-240:S+120,da,r),oa(S,da,r),oa(120>S?S+240:S-120,da,r),this.opacity)},clamp(){return new V(N(this.h),na(this.s),na(this.l),hb(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const S=hb(this.opacity);return`${1===S?"hsl(":"hsla("}${N(this.h)}, ${100*na(this.s)}%, ${100*
na(this.l)}%${1===S?")":`, ${S})`}`}}));var Ac=S=>()=>S,nd=function da(r){function za(Oa,kb){var Vb=Da((Oa=Ba(Oa)).r,(kb=Ba(kb)).r),Eb=Da(Oa.g,kb.g),Hb=Da(Oa.b,kb.b),Cc=l(Oa.opacity,kb.opacity);return function(Hc){Oa.r=Vb(Hc);Oa.g=Eb(Hc);Oa.b=Hb(Hc);Oa.opacity=Cc(Hc);return Oa+""}}var Da=qa(r);za.gamma=da;return za}(1),Uc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ma=new RegExp(Uc.source,"g");const Ha=Ya.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));
Ya.inherits(ta,h.Transform,{transform(r,da){var za=da.dataflow,Da=this.value;var Oa=r.type;var kb="";if(Oa===ia.Sequential)Oa=ia.Sequential+"-"+ia.Linear;else{var Vb=r.type;ia.isContinuous(Vb)&&Vb!==ia.Time&&Vb!==ia.UTC&&(r.scheme||r.range&&r.range.length&&r.range.every(Ya.isString))&&(kb=r.rawDomain?r.rawDomain.length:r.domain?r.domain.length+ +(null!=r.domainMid):0,kb=2===kb?ia.Sequential+"-":3===kb?ia.Diverging+"-":"");Oa=(kb+Oa||ia.Linear).toLowerCase()}Da&&Oa===Da.type||(this.value=Da=ia.scale(Oa)());
for(Oa in r)Ha[Oa]||"padding"===Oa&&W(Da.type)||(Ya.isFunction(Da[Oa])?Da[Oa](r[Oa]):za.warn("Unsupported scale property: "+Oa));kb=Oa=Da;(Vb=r.domainRaw)?(Da.domain(O(Da.type,Vb,za)),Vb=Vb.length):Vb=-1;if(-1<Vb)za=Vb;else{var Eb=r.domain;Vb=Da.type;var Hb;!(Hb=r.zero)&&(Hb=void 0===r.zero)&&(Hb=Da.type,Hb=!Da.bins&&(Hb===ia.Linear||Hb===ia.Pow||Hb===ia.Sqrt));if(Eb){if(W(Vb)&&r.padding&&Eb[0]!==Ya.peek(Eb)){var Cc=r.range,Hc=r.padding;var Nc=r.exponent;var xd=r.constant;Cc=Math.abs(Ya.peek(Cc)-
Cc[0]);Hc=Cc/(Cc-2*Hc);Nc=Vb===ia.Log?Ya.zoomLog(Eb,null,Hc):Vb===ia.Sqrt?Ya.zoomPow(Eb,null,Hc,.5):Vb===ia.Pow?Ya.zoomPow(Eb,null,Hc,Nc||1):Vb===ia.Symlog?Ya.zoomSymlog(Eb,null,Hc,xd||1):Ya.zoomLinear(Eb,null,Hc);Eb=Eb.slice();Eb[0]=Nc[0];Eb[Eb.length-1]=Nc[1]}if(Hb||null!=r.domainMin||null!=r.domainMax||null!=r.domainMid)Nc=(Eb=Eb.slice()).length-1||1,Hb&&(0<Eb[0]&&(Eb[0]=0),0>Eb[Nc]&&(Eb[Nc]=0)),null!=r.domainMin&&(Eb[0]=r.domainMin),null!=r.domainMax&&(Eb[Nc]=r.domainMax),null!=r.domainMid&&(Hb=
r.domainMid,xd=Hb>Eb[Nc]?Nc+1:Hb<Eb[0]?0:Nc,xd!==Nc&&za.warn("Scale domainMid exceeds domain min or max.",Hb),Eb.splice(xd,0,Hb));Da.domain(O(Vb,Eb,za));Vb===ia.Ordinal&&Da.unknown(r.domainImplicit?ia.scaleImplicit:void 0);r.nice&&Da.nice&&Da.nice(!0!==r.nice&&ia.tickCount(Da,r.nice)||null);za=Eb.length}else za=0}(Vb=r.bins)&&!Ya.isArray(Vb)&&(Hb=kb.domain(),Da=Hb[0],Hb=Ya.peek(Hb),Eb=Vb.step,Nc=null==Vb.start?Da:Vb.start,Vb=null==Vb.stop?Hb:Vb.stop,Eb||Ya.error("Scale bins parameter missing step property."),
Nc<Da&&(Nc=Eb*Math.ceil(Da/Eb)),Vb>Hb&&(Vb=Eb*Math.floor(Hb/Eb)),Vb=jc(Nc,Vb+Eb/2,Eb));Vb?kb.bins=Vb:kb.bins&&delete kb.bins;kb.type===ia.BinOrdinal&&(Vb?r.domain||r.domainRaw||(kb.domain(Vb),za=Vb.length):kb.bins=kb.domain());Da=za;a:{kb=Oa.type;za=r.round||!1;Vb=r.range;if(null!=r.rangeStep)kb!==ia.Band&&kb!==ia.Point&&Ya.error("Only band and point scales support rangeStep."),Vb=[0,r.rangeStep*ia.bandSpace(Da,kb===ia.Point?1:(null!=r.paddingInner?r.paddingInner:r.padding)||0,(null!=r.paddingOuter?
r.paddingOuter:r.padding)||0)];else if(r.scheme&&(Vb=r.schemeExtent,Ya.isArray(r.scheme)?Hb=ia.interpolateColors(r.scheme,r.interpolate,r.interpolateGamma):(Hb=r.scheme.toLowerCase(),(Hb=ia.scheme(Hb))||Ya.error(`Unrecognized scheme name: ${r.scheme}`)),Da=kb===ia.Threshold?Da+1:kb===ia.BinOrdinal?Da-1:kb===ia.Quantile||kb===ia.Quantize?+r.schemeCount||5:Da,Vb=ia.isInterpolating(kb)?ja(Hb,Vb,r.reverse):Ya.isFunction(Hb)?ia.quantizeInterpolator(ja(Hb,Vb),Da):kb===ia.Ordinal?Hb:Hb.slice(0,Da),Ya.isFunction(Vb)))if(Oa.interpolator){Oa.interpolator(Vb);
break a}else Ya.error(`Scale type ${kb} does not support interpolating color schemes.`);Vb&&ia.isInterpolating(kb)?Oa.interpolator(ia.interpolateColors(va(Vb,r.reverse),r.interpolate,r.interpolateGamma)):(Vb&&r.interpolate&&Oa.interpolate?Oa.interpolate(ia.interpolate(r.interpolate,r.interpolateGamma)):Ya.isFunction(Oa.round)?Oa.round(za):Ya.isFunction(Oa.rangeRound)&&Oa.interpolate(za?F:z),Vb&&Oa.range(va(Vb,r.reverse)))}return da.fork(da.NO_SOURCE|da.NO_FIELDS)}});Ya.inherits(Ma,h.Transform,{transform(r,
da){const za=r.modified("sort")||da.changed(da.ADD)||da.modified(r.sort.fields)||da.modified("datum");za&&da.source.sort(h.stableCompare(r.sort));this.modified(za);return da}});const fb=["y0","y1"];Pa.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":fb}]};Ya.inherits(Pa,
h.Transform,{transform(r,da){var za=r.as||fb,Da=za[0],Oa=za[1],kb=h.stableCompare(r.sort),Vb=r.field||Ya.one,Eb="center"===r.offset?Xa:"normalize"===r.offset?sb:ib,Hb;kb=Sb(da.source,r.groupby,kb,Vb);var Cc=0;var Hc=kb.length;for(Hb=kb.max;Cc<Hc;++Cc)Eb(kb[Cc],Hb,Vb,Da,Oa);return da.reflow(r.modified()).modifies(za)}});t.axisticks=ub;t.datajoin=Yb;t.encode=nc;t.legendentries=Ab;t.linkpath=Ub;t.pie=bb;t.scale=ta;t.sortitems=Ma;t.stack=Pa})};
shadow$provide[37]=function(Db,nb,Dc,Wa){(function(t,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,nb(33)):"function"===typeof define&&define.amd?define(["exports","vega-scale"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega))})(this,function(t,h){function*ia(p){for(const Q of p)yield*Q}function Ya(p){return 1<p?0:-1>p?Hb:Math.acos(p)}function ub(p){return 1<p?Cc:-1>p?-Cc:Math.asin(p)}function Yb(){}function dc(p,Q){if(p&&ec.hasOwnProperty(p.type))ec[p.type](p,
Q)}function Wb(p,Q,Z){var pa=-1;Z=p.length-Z;for(Q.lineStart();++pa<Z;){var xa=p[pa];Q.point(xa[0],xa[1],xa[2])}Q.lineEnd()}function nc(p,Q){var Z=-1,pa=p.length;for(Q.polygonStart();++Z<pa;)Wb(p[Z],Q,1);Q.polygonEnd()}function Ab(p,Q){if(p&&wb.hasOwnProperty(p.type))wb[p.type](p,Q);else dc(p,Q)}function Ub(p){return[Hd(p[1],p[0]),ub(p[2])]}function jc(p){var Q=p[0];p=p[1];var Z=vd(p);return[Z*vd(Q),Z*I(Q),I(p)]}function Ea(p,Q){return p[0]*Q[0]+p[1]*Q[1]+p[2]*Q[2]}function bb(p,Q){return[p[1]*Q[2]-
p[2]*Q[1],p[2]*Q[0]-p[0]*Q[2],p[0]*Q[1]-p[1]*Q[0]]}function tb(p,Q){p[0]+=Q[0];p[1]+=Q[1];p[2]+=Q[2]}function rb(p,Q){return[p[0]*Q,p[1]*Q,p[2]*Q]}function pb(p){var Q=Ja(p[0]*p[0]+p[1]*p[1]+p[2]*p[2]);p[0]/=Q;p[1]/=Q;p[2]/=Q}function vb(p,Q){function Z(pa,xa){return pa=p(pa,xa),Q(pa[0],pa[1])}p.invert&&Q.invert&&(Z.invert=function(pa,xa){return pa=Q.invert(pa,xa),pa&&p.invert(pa[0],pa[1])});return Z}function gb(p,Q){ed(p)>Hb&&(p-=Math.round(p/Nc)*Nc);return[p,Q]}function fc(p,Q,Z){return(p%=Nc)?
Q||Z?vb(ha(p),Ba(Q,Z)):ha(p):Q||Z?Ba(Q,Z):gb}function sa(p){return function(Q,Z){Q+=p;ed(Q)>Hb&&(Q-=Math.round(Q/Nc)*Nc);return[Q,Z]}}function ha(p){var Q=sa(p);Q.invert=sa(-p);return Q}function Ba(p,Q){function Z(Xb,$b){var mc=vd($b),vc=vd(Xb)*mc;Xb=I(Xb)*mc;$b=I($b);mc=$b*pa+vc*xa;return[Hd(Xb*Cb-mc*Ib,vc*pa-$b*xa),ub(mc*Cb+Xb*Ib)]}var pa=vd(p),xa=I(p),Cb=vd(Q),Ib=I(Q);Z.invert=function(Xb,$b){var mc=vd($b),vc=vd(Xb)*mc;Xb=I(Xb)*mc;$b=I($b);mc=$b*Cb-Xb*Ib;return[Hd(Xb*Cb+$b*Ib,vc*pa+mc*xa),ub(mc*
pa-vc*xa)]};return Z}function Sa(p){function Q(Z){Z=p(Z[0]*sd,Z[1]*sd);return Z[0]*=xd,Z[1]*=xd,Z}p=fc(p[0]*sd,p[1]*sd,2<p.length?p[2]*sd:0);Q.invert=function(Z){Z=p.invert(Z[0]*sd,Z[1]*sd);return Z[0]*=xd,Z[1]*=xd,Z};return Q}function Va(p,Q){Q=jc(Q);Q[0]-=p;pb(Q);p=Ya(-Q[1]);return((0>-Q[2]?-p:p)+Nc-1E-6)%Nc}function Ia(){var p=[],Q;return{point:function(Z,pa,xa){Q.push([Z,pa,xa])},lineStart:function(){p.push(Q=[])},lineEnd:Yb,rejoin:function(){1<p.length&&p.push(p.pop().concat(p.shift()))},result:function(){var Z=
p;p=[];Q=null;return Z}}}function hb(p,Q){return 1E-6>ed(p[0]-Q[0])&&1E-6>ed(p[1]-Q[1])}function Za(p,Q,Z,pa){this.x=p;this.z=Q;this.o=Z;this.e=pa;this.v=!1;this.n=this.p=null}function qb(p,Q,Z,pa,xa){var Cb=[],Ib=[];p.forEach(function(yc){if(!(0>=(Jc=yc.length-1))){var Jc,Zc=yc[0],Yc=yc[Jc];if(hb(Zc,Yc)){if(!Zc[2]&&!Yc[2]){xa.lineStart();for(Xb=0;Xb<Jc;++Xb)xa.point((Zc=yc[Xb])[0],Zc[1]);xa.lineEnd();return}Yc[0]+=2E-6}Cb.push(Jc=new Za(Zc,yc,null,!0));Ib.push(Jc.o=new Za(Zc,null,Jc,!1));Cb.push(Jc=
new Za(Yc,yc,null,!1));Ib.push(Jc.o=new Za(Yc,null,Jc,!0))}});if(Cb.length){Ib.sort(Q);Nb(Cb);Nb(Ib);var Xb=0;for(p=Ib.length;Xb<p;++Xb)Ib[Xb].e=Z=!Z;Z=Cb[0];for(var $b;;){for(var mc=Z,vc=!0;mc.v;)if((mc=mc.n)===Z)return;Q=mc.z;xa.lineStart();do{mc.v=mc.o.v=!0;if(mc.e){if(vc)for(Xb=0,p=Q.length;Xb<p;++Xb)xa.point(($b=Q[Xb])[0],$b[1]);else pa(mc.x,mc.n.x,1,xa);mc=mc.n}else{if(vc)for(Q=mc.p.z,Xb=Q.length-1;0<=Xb;--Xb)xa.point(($b=Q[Xb])[0],$b[1]);else pa(mc.x,mc.p.x,-1,xa);mc=mc.p}mc=mc.o;Q=mc.z;vc=
!vc}while(!mc.v);xa.lineEnd()}}}function Nb(p){if(Q=p.length){for(var Q,Z=0,pa=p[0],xa;++Z<Q;)pa.n=xa=p[Z],xa.p=pa,pa=xa;pa.n=xa=p[0];xa.p=pa}}function $a(p){return ed(p[0])<=Hb?p[0]:wa(p[0])*((ed(p[0])+Hb)%Nc-Hb)}function V(p,Q,Z,pa){return function(xa){function Cb($c,Cd){p($c,Cd)&&xa.point($c,Cd)}function Ib($c,Cd){Jc.point($c,Cd)}function Xb(){te.point=Ib;Jc.lineStart()}function $b(){te.point=Cb;Jc.lineEnd()}function mc($c,Cd){Xd.push([$c,Cd]);Yc.point($c,Cd)}function vc(){Yc.lineStart();Xd=[]}
function yc(){mc(Xd[0][0],Xd[0][1]);Yc.lineEnd();var $c=Yc.clean(),Cd=Zc.result(),Qd=Cd.length,re;Xd.pop();$d.push(Xd);Xd=null;if(Qd)if($c&1){if(Qd=Cd[0],0<(Cd=Qd.length-1)){jd||(xa.polygonStart(),jd=!0);xa.lineStart();for($c=0;$c<Cd;++$c)xa.point((re=Qd[$c])[0],re[1]);xa.lineEnd()}}else 1<Qd&&$c&2&&Cd.push(Cd.pop().concat(Cd.shift())),Rc.push(Cd.filter(N))}var Jc=Q(xa),Zc=Ia(),Yc=Q(Zc),jd=!1,$d,Rc,Xd,te={point:Cb,lineStart:Xb,lineEnd:$b,polygonStart:function(){te.point=mc;te.lineStart=vc;te.lineEnd=
yc;Rc=[];$d=[]},polygonEnd:function(){te.point=Cb;te.lineStart=Xb;te.lineEnd=$b;Rc=Array.from(ia(Rc));var $c=$d;var Cd=$a(pa),Qd=pa[1],re=I(Qd),ue=[I(Cd),-vd(Cd),0],Sd=0,Ud=0,Ke=new Eb;1===re?Qd=Cc+1E-6:-1===re&&(Qd=-Cc-1E-6);re=0;for(var jf=$c.length;re<jf;++re)if(Qf=(xe=$c[re]).length){var xe,Qf,td=xe[Qf-1],Me=$a(td),af=td[1]/2+Hc,Se=I(af),Yf=vd(af);for(af=0;af<Qf;++af,Me=We,Se=Rf,Yf=qf,td=Ef){var Ef=xe[af],We=$a(Ef);qf=Ef[1]/2+Hc;var Rf=I(qf),qf=vd(qf),Gf=We-Me,Ff=0<=Gf?1:-1,rf=Ff*Gf,rg=rf>Hb;
Se*=Rf;Ke.add(Hd(Se*Ff*I(rf),Yf*qf+Se*vd(rf)));Sd+=rg?Gf+Ff*Nc:Gf;rg^Me>=Cd^We>=Cd&&(td=bb(jc(td),jc(Ef)),pb(td),Me=bb(ue,td),pb(Me),Me=(rg^0<=Gf?-1:1)*ub(Me[2]),Qd>Me||Qd===Me&&(td[0]||td[1]))&&(Ud+=rg^0<=Gf?1:-1)}}$c=(-1E-6>Sd||1E-6>Sd&&-1E-12>Ke)^Ud&1;Rc.length?(jd||(xa.polygonStart(),jd=!0),qb(Rc,na,$c,Z,xa)):$c&&(jd||(xa.polygonStart(),jd=!0),xa.lineStart(),Z(null,null,1,xa),xa.lineEnd());jd&&(xa.polygonEnd(),jd=!1);Rc=$d=null},sphere:function(){xa.polygonStart();xa.lineStart();Z(null,null,1,
xa);xa.lineEnd();xa.polygonEnd()}};return te}}function N(p){return 1<p.length}function na(p,Q){return(0>(p=p.x)[0]?p[1]-Cc-1E-6:Cc-p[1])-(0>(Q=Q.x)[0]?Q[1]-Cc-1E-6:Cc-Q[1])}function oa(p){function Q($b,mc){return vd($b)*vd(mc)>xa}function Z($b,mc,vc){var yc=jc($b),Jc=jc(mc),Zc=[1,0,0];Jc=bb(yc,Jc);var Yc=Ea(Jc,Jc);yc=Jc[0];var jd=Yc-yc*yc;if(!jd)return!vc&&$b;Yc=xa*Yc/jd;jd=-xa*yc/jd;yc=bb(Zc,Jc);Zc=rb(Zc,Yc);Jc=rb(Jc,jd);tb(Zc,Jc);Jc=Ea(Zc,yc);Yc=Ea(yc,yc);jd=Jc*Jc-Yc*(Ea(Zc,Zc)-1);if(!(0>jd)){var $d=
Ja(jd);jd=rb(yc,(-Jc-$d)/Yc);tb(jd,Zc);jd=Ub(jd);if(!vc)return jd;vc=$b[0];var Rc=mc[0];$b=$b[1];mc=mc[1];if(Rc<vc){var Xd=vc;vc=Rc;Rc=Xd}var te=Rc-vc,$c=1E-6>ed(te-Hb);!$c&&mc<$b&&(Xd=$b,$b=mc,mc=Xd);if($c||1E-6>te?$c?0<$b+mc^jd[1]<(1E-6>ed(jd[0]-vc)?$b:mc):$b<=jd[1]&&jd[1]<=mc:te>Hb^(vc<=jd[0]&&jd[0]<=Rc))return mc=rb(yc,(-Jc+$d)/Yc),tb(mc,Zc),[jd,Ub(mc)]}}function pa($b,mc){var vc=Ib?p:Hb-p,yc=0;$b<-vc?yc|=1:$b>vc&&(yc|=2);mc<-vc?yc|=4:mc>vc&&(yc|=8);return yc}var xa=vd(p),Cb=6*sd,Ib=0<xa,Xb=1E-6<
ed(xa);return V(Q,function($b){var mc,vc,yc,Jc,Zc;return{lineStart:function(){Jc=yc=!1;Zc=1},point:function(Yc,jd){var $d=[Yc,jd],Rc=Q(Yc,jd);jd=Ib?Rc?0:pa(Yc,jd):Rc?pa(Yc+(0>Yc?Hb:-Hb),jd):0;!mc&&(Jc=yc=Rc)&&$b.lineStart();Rc!==yc&&(Yc=Z(mc,$d),!Yc||hb(mc,Yc)||hb($d,Yc))&&($d[2]=1);if(Rc!==yc)Zc=0,Rc?($b.lineStart(),Yc=Z($d,mc),$b.point(Yc[0],Yc[1])):(Yc=Z(mc,$d),$b.point(Yc[0],Yc[1],2),$b.lineEnd()),mc=Yc;else if(Xb&&mc&&Ib^Rc){var Xd;jd&vc||!(Xd=Z($d,mc,!0))||(Zc=0,Ib?($b.lineStart(),$b.point(Xd[0][0],
Xd[0][1]),$b.point(Xd[1][0],Xd[1][1]),$b.lineEnd()):($b.point(Xd[1][0],Xd[1][1]),$b.lineEnd(),$b.lineStart(),$b.point(Xd[0][0],Xd[0][1],3)))}!Rc||mc&&hb(mc,$d)||$b.point($d[0],$d[1]);mc=$d;yc=Rc;vc=jd},lineEnd:function(){yc&&$b.lineEnd();mc=null},clean:function(){return Zc|(Jc&&yc)<<1}}},function($b,mc,vc,yc){var Jc=$b;if(Cb){$b=vd(p);var Zc=I(p),Yc=vc*Cb;if(null==Jc)Jc=p+vc*Nc,mc=p-Yc/2;else if(Jc=Va($b,Jc),mc=Va($b,mc),0<vc?Jc<mc:Jc>mc)Jc+=vc*Nc;for(var jd=Jc;0<vc?jd>mc:jd<mc;jd-=Yc)Jc=Ub([$b,-Zc*
vd(jd),-Zc*I(jd)]),yc.point(Jc[0],Jc[1])}},Ib?[0,-p]:[-Hb,p-Hb])}function Na(p,Q,Z,pa,xa,Cb){var Ib=p[0],Xb=p[1],$b=0,mc=1,vc=Q[0]-Ib,yc=Q[1]-Xb;Z-=Ib;if(vc||!(0<Z)){Z/=vc;if(0>vc){if(Z<$b)return;Z<mc&&(mc=Z)}else if(0<vc){if(Z>mc)return;Z>$b&&($b=Z)}Z=xa-Ib;if(vc||!(0>Z)){Z/=vc;if(0>vc){if(Z>mc)return;Z>$b&&($b=Z)}else if(0<vc){if(Z<$b)return;Z<mc&&(mc=Z)}Z=pa-Xb;if(yc||!(0<Z)){Z/=yc;if(0>yc){if(Z<$b)return;Z<mc&&(mc=Z)}else if(0<yc){if(Z>mc)return;Z>$b&&($b=Z)}Z=Cb-Xb;if(yc||!(0>Z)){Z/=yc;if(0>
yc){if(Z>mc)return;Z>$b&&($b=Z)}else if(0<yc){if(Z<$b)return;Z<mc&&(mc=Z)}0<$b&&(p[0]=Ib+$b*vc,p[1]=Xb+$b*yc);1>mc&&(Q[0]=Ib+mc*vc,Q[1]=Xb+mc*yc);return!0}}}}}function la(p,Q,Z,pa){function xa($b,mc,vc,yc){var Jc=0,Zc=0;if(null==$b||(Jc=Cb($b,vc))!==(Zc=Cb(mc,vc))||0>Xb($b,mc)^0<vc){do yc.point(0===Jc||3===Jc?p:Z,1<Jc?pa:Q);while((Jc=(Jc+vc+4)%4)!==Zc)}else yc.point(mc[0],mc[1])}function Cb($b,mc){return 1E-6>ed($b[0]-p)?0<mc?0:3:1E-6>ed($b[0]-Z)?0<mc?2:1:1E-6>ed($b[1]-Q)?0<mc?1:0:0<mc?3:2}function Ib($b,
mc){return Xb($b.x,mc.x)}function Xb($b,mc){var vc=Cb($b,1),yc=Cb(mc,1);return vc!==yc?vc-yc:0===vc?mc[1]-$b[1]:1===vc?$b[0]-mc[0]:2===vc?$b[1]-mc[1]:mc[0]-$b[0]}return function($b){function mc(Sd,Ud){p<=Sd&&Sd<=Z&&Q<=Ud&&Ud<=pa&&yc.point(Sd,Ud)}function vc(Sd,Ud){var Ke=p<=Sd&&Sd<=Z&&Q<=Ud&&Ud<=pa;Yc&&jd.push([Sd,Ud]);if(Qd)$d=Sd,Rc=Ud,Xd=Ke,Qd=!1,Ke&&(yc.lineStart(),yc.point(Sd,Ud));else if(Ke&&Cd)yc.point(Sd,Ud);else{var jf=[te=Math.max(-1E9,Math.min(1E9,te)),$c=Math.max(-1E9,Math.min(1E9,$c))],
xe=[Sd=Math.max(-1E9,Math.min(1E9,Sd)),Ud=Math.max(-1E9,Math.min(1E9,Ud))];Na(jf,xe,p,Q,Z,pa)?(Cd||(yc.lineStart(),yc.point(jf[0],jf[1])),yc.point(xe[0],xe[1]),Ke||yc.lineEnd(),re=!1):Ke&&(yc.lineStart(),yc.point(Sd,Ud),re=!1)}te=Sd;$c=Ud;Cd=Ke}var yc=$b,Jc=Ia(),Zc,Yc,jd,$d,Rc,Xd,te,$c,Cd,Qd,re,ue={point:mc,lineStart:function(){ue.point=vc;Yc&&Yc.push(jd=[]);Qd=!0;Cd=!1;te=$c=NaN},lineEnd:function(){Zc&&(vc($d,Rc),Xd&&Cd&&Jc.rejoin(),Zc.push(Jc.result()));ue.point=mc;Cd&&yc.lineEnd()},polygonStart:function(){yc=
Jc;Zc=[];Yc=[];re=!0},polygonEnd:function(){for(var Sd,Ud=Sd=0,Ke=Yc.length;Ud<Ke;++Ud){var jf=Yc[Ud],xe=1,Qf=jf.length,td=jf[0],Me=td[0];for(td=td[1];xe<Qf;++xe){var af=Me;var Se=td;td=jf[xe];Me=td[0];td=td[1];Se<=pa?td>pa&&(Me-af)*(pa-Se)>(td-Se)*(p-af)&&++Sd:td<=pa&&(Me-af)*(pa-Se)<(td-Se)*(p-af)&&--Sd}}Ud=re&&Sd;Ke=(Zc=Array.from(ia(Zc))).length;if(Ud||Ke)$b.polygonStart(),Ud&&($b.lineStart(),xa(null,null,1,$b),$b.lineEnd()),Ke&&qb(Zc,Ib,Sd,xa,$b),$b.polygonEnd();yc=$b;Zc=Yc=jd=null}};return ue}}
function qa(){kd.point=l}function l(p,Q){kd.point=D;bd=qd=p;md=Gd=Q}function D(p,Q){zc.add(Gd*p-qd*Q);qd=p;Gd=Q}function K(){D(bd,md)}function x(p,Q){gf+=p;E+=Q;++ca}function U(){Md.point=A}function A(p,Q){Md.point=X;x(Oc=p,Nd=Q)}function X(p,Q){var Z=p-Oc,pa=Q-Nd;Z=Ja(Z*Z+pa*pa);Ga+=Z*(Oc+p)/2;eb+=Z*(Nd+Q)/2;Gb+=Z;x(Oc=p,Nd=Q)}function G(){Md.point=x}function v(){Md.point=F}function z(){W(fd,cd)}function F(p,Q){Md.point=W;x(fd=Oc=p,cd=Nd=Q)}function W(p,Q){var Z=p-Oc,pa=Q-Nd;Z=Ja(Z*Z+pa*pa);Ga+=
Z*(Oc+p)/2;eb+=Z*(Nd+Q)/2;Gb+=Z;Z=Nd*p-Oc*Q;rc+=Z*(Oc+p);Rb+=Z*(Nd+Q);Sc+=3*Z;x(Oc=p,Nd=Q)}function ta(p){this._context=p}function O(p,Q){sc.point=ja;Ca=bc=p;Qa=id=Q}function ja(p,Q){bc-=p;id-=Q;Ad.add(Ja(bc*bc+id*id));bc=p;id=Q}function va(p){let Q=1;this._+=p[0];for(const Z=p.length;Q<Z;++Q)this._+=arguments[Q]+p[Q]}function Ma(p){const Q=Math.floor(p);if(!(0<=Q))throw new RangeError(`invalid digits: ${p}`);if(15<Q)return va;if(Q!==Ec){const Z=Math.pow(10,Q);Ec=Q;Tc=function(pa){let xa=1;this._+=
pa[0];for(const Cb=pa.length;xa<Cb;++xa)this._+=Math.round(arguments[xa]*Z)/Z+pa[xa]}}return Tc}function Pa(p,Q){function Z(Xb){Xb&&("function"===typeof xa&&Ib.pointRadius(+xa.apply(this,arguments)),Ab(Xb,Cb(Ib)));return Ib.result()}let pa=3,xa=4.5,Cb,Ib;Z.area=function(Xb){Ab(Xb,Cb(Od));return Od.result()};Z.measure=function(Xb){Ab(Xb,Cb(Mc));return Mc.result()};Z.bounds=function(Xb){Ab(Xb,Cb(uf));return uf.result()};Z.centroid=function(Xb){Ab(Xb,Cb(Ld));return Ld.result()};Z.projection=function(Xb){if(!arguments.length)return p;
Cb=null==Xb?(p=null,qc):(p=Xb).stream;return Z};Z.context=function(Xb){if(!arguments.length)return Q;Ib=null==Xb?(Q=null,new pd(pa)):new ta(Q=Xb);"function"!==typeof xa&&Ib.pointRadius(xa);return Z};Z.pointRadius=function(Xb){if(!arguments.length)return xa;xa="function"===typeof Xb?Xb:(Ib.pointRadius(+Xb),+Xb);return Z};Z.digits=function(Xb){if(!arguments.length)return pa;if(null==Xb)pa=null;else{const $b=Math.floor(Xb);if(!(0<=$b))throw new RangeError(`invalid digits: ${Xb}`);pa=$b}null===Q&&(Ib=
new pd(pa));return Z};return Z.projection(p).digits(pa).context(Q)}function Xa(p){return function(Q){var Z=new sb,pa;for(pa in p)Z[pa]=p[pa];Z.stream=Q;return Z}}function sb(){}function ib(p,Q,Z){var pa=p.clipExtent&&p.clipExtent();p.scale(150).translate([0,0]);null!=pa&&p.clipExtent(null);Ab(Z,p.stream(uf));Q(uf.result());null!=pa&&p.clipExtent(pa);return p}function Sb(p,Q,Z){return ib(p,function(pa){var xa=Q[1][0]-Q[0][0],Cb=Q[1][1]-Q[0][1],Ib=Math.min(xa/(pa[1][0]-pa[0][0]),Cb/(pa[1][1]-pa[0][1]));
xa=+Q[0][0]+(xa-Ib*(pa[1][0]+pa[0][0]))/2;pa=+Q[0][1]+(Cb-Ib*(pa[1][1]+pa[0][1]))/2;p.scale(150*Ib).translate([xa,pa])},Z)}function Y(p,Q,Z){return ib(p,function(pa){var xa=+Q,Cb=xa/(pa[1][0]-pa[0][0]);xa=(xa-Cb*(pa[1][0]+pa[0][0]))/2;pa=-Cb*pa[0][1];p.scale(150*Cb).translate([xa,pa])},Z)}function Fa(p,Q,Z){return ib(p,function(pa){var xa=+Q,Cb=xa/(pa[1][1]-pa[0][1]),Ib=-Cb*pa[0][0];pa=(xa-Cb*(pa[1][1]+pa[0][1]))/2;p.scale(150*Cb).translate([Ib,pa])},Z)}function Kb(p){return Xa({point:function(Q,
Z){Q=p(Q,Z);this.stream.point(Q[0],Q[1])}})}function pc(p,Q){function Z(pa,xa,Cb,Ib,Xb,$b,mc,vc,yc,Jc,Zc,Yc,jd,$d){var Rc=mc-pa,Xd=vc-xa,te=Rc*Rc+Xd*Xd;if(te>4*Q&&jd--){var $c=Ib+Jc,Cd=Xb+Zc,Qd=$b+Yc,re=Ja($c*$c+Cd*Cd+Qd*Qd),ue=ub(Qd/=re),Sd=1E-6>ed(ed(Qd)-1)||1E-6>ed(Cb-yc)?(Cb+yc)/2:Hd(Cd,$c),Ud=p(Sd,ue);ue=Ud[0];Ud=Ud[1];var Ke=ue-pa,jf=Ud-xa,xe=Xd*Ke-Rc*jf;if(xe*xe/te>Q||.3<ed((Rc*Ke+Xd*jf)/te-.5)||Ib*Jc+Xb*Zc+$b*Yc<me)Z(pa,xa,Cb,Ib,Xb,$b,ue,Ud,Sd,$c/=re,Cd/=re,Qd,jd,$d),$d.point(ue,Ud),Z(ue,
Ud,Sd,$c,Cd,Qd,mc,vc,yc,Jc,Zc,Yc,jd,$d)}}return function(pa){function xa(ue,Sd){ue=p(ue,Sd);pa.point(ue[0],ue[1])}function Cb(){Xd=NaN;re.point=Ib;pa.lineStart()}function Ib(ue,Sd){var Ud=jc([ue,Sd]);Sd=p(ue,Sd);Z(Xd,te,Rc,$c,Cd,Qd,Xd=Sd[0],te=Sd[1],Rc=ue,$c=Ud[0],Cd=Ud[1],Qd=Ud[2],16,pa);pa.point(Xd,te)}function Xb(){re.point=xa;pa.lineEnd()}function $b(){Cb();re.point=mc;re.lineEnd=vc}function mc(ue,Sd){Ib(yc=ue,Sd);Jc=Xd;Zc=te;Yc=$c;jd=Cd;$d=Qd;re.point=Ib}function vc(){Z(Xd,te,Rc,$c,Cd,Qd,Jc,
Zc,yc,Yc,jd,$d,16,pa);re.lineEnd=Xb;Xb()}var yc,Jc,Zc,Yc,jd,$d,Rc,Xd,te,$c,Cd,Qd,re={point:xa,lineStart:Cb,lineEnd:Xb,polygonStart:function(){pa.polygonStart();re.lineStart=$b},polygonEnd:function(){pa.polygonEnd();re.lineStart=Cb}};return re}}function ac(p){return Xa({point:function(Q,Z){Q=p(Q,Z);return this.stream.point(Q[0],Q[1])}})}function Mb(p,Q,Z,pa,xa){function Cb(Ib,Xb){Ib*=pa;Xb*=xa;return[Q+p*Ib,Z-p*Xb]}Cb.invert=function(Ib,Xb){return[(Ib-Q)/p*pa,(Z-Xb)/p*xa]};return Cb}function Ob(p,
Q,Z,pa,xa,Cb){function Ib(Yc,jd){Yc*=pa;jd*=xa;return[$b*Yc-mc*jd+Q,Z-mc*Yc-$b*jd]}if(!Cb)return Mb(p,Q,Z,pa,xa);var Xb=vd(Cb);Cb=I(Cb);var $b=Xb*p,mc=Cb*p,vc=Xb/p,yc=Cb/p,Jc=(Cb*Z-Xb*Q)/p,Zc=(Cb*Q+Xb*Z)/p;Ib.invert=function(Yc,jd){return[pa*(vc*Yc-yc*jd+Jc),xa*(Zc-yc*Yc-vc*jd)]};return Ib}function xc(p){return hd(function(){return p})()}function hd(p){function Q(td){return jf(td[0]*sd,td[1]*sd)}function Z(td){return(td=jf.invert(td[0],td[1]))&&[td[0]*xd,td[1]*xd]}function pa(){var td=Ob(Ib,0,0,$d,
Rc,jd).apply(null,Cb(mc,vc));td=Ob(Ib,Xb-td[0],$b-td[1],$d,Rc,jd);Yc=fc(yc,Jc,Zc);Ke=vb(Cb,td);jf=vb(Yc,Ke);td=Ke;Ud=+Sd?pc(td,Sd):Kb(td);return xa()}function xa(){xe=Qf=null;return Q}var Cb,Ib=150,Xb=480,$b=250,mc=0,vc=0,yc=0,Jc=0,Zc=0,Yc,jd=0,$d=1,Rc=1,Xd=null,te=Qb,$c=null,Cd,Qd,re,ue=qc,Sd=.5,Ud,Ke,jf,xe,Qf;Q.stream=function(td){return xe&&Qf===td?xe:xe=df(ac(Yc)(te(Ud(ue(Qf=td)))))};Q.preclip=function(td){return arguments.length?(te=td,Xd=void 0,xa()):te};Q.postclip=function(td){return arguments.length?
(ue=td,$c=Cd=Qd=re=null,xa()):ue};Q.clipAngle=function(td){return arguments.length?(te=+td?oa(Xd=td*sd):(Xd=null,Qb),xa()):Xd*xd};Q.clipExtent=function(td){return arguments.length?(ue=null==td?($c=Cd=Qd=re=null,qc):la($c=+td[0][0],Cd=+td[0][1],Qd=+td[1][0],re=+td[1][1]),xa()):null==$c?null:[[$c,Cd],[Qd,re]]};Q.scale=function(td){return arguments.length?(Ib=+td,pa()):Ib};Q.translate=function(td){return arguments.length?(Xb=+td[0],$b=+td[1],pa()):[Xb,$b]};Q.center=function(td){return arguments.length?
(mc=td[0]%360*sd,vc=td[1]%360*sd,pa()):[mc*xd,vc*xd]};Q.rotate=function(td){return arguments.length?(yc=td[0]%360*sd,Jc=td[1]%360*sd,Zc=2<td.length?td[2]%360*sd:0,pa()):[yc*xd,Jc*xd,Zc*xd]};Q.angle=function(td){return arguments.length?(jd=td%360*sd,pa()):jd*xd};Q.reflectX=function(td){return arguments.length?($d=td?-1:1,pa()):0>$d};Q.reflectY=function(td){return arguments.length?(Rc=td?-1:1,pa()):0>Rc};Q.precision=function(td){if(arguments.length){var Me=Ke;var af=Sd=td*td;Me=(Ud=+af?pc(Me,af):Kb(Me),
xa())}else Me=Ja(Sd);return Me};Q.fitExtent=function(td,Me){return Sb(Q,td,Me)};Q.fitSize=function(td,Me){return Sb(Q,[[0,0],td],Me)};Q.fitWidth=function(td,Me){return Y(Q,td,Me)};Q.fitHeight=function(td,Me){return Fa(Q,td,Me)};return function(){Cb=p.apply(this,arguments);Q.invert=Cb.invert&&Z;return pa()}}function ra(p){var Q=0,Z=Hb/3,pa=hd(p);p=pa(Q,Z);p.parallels=function(xa){return arguments.length?pa(Q=xa[0]*sd,Z=xa[1]*sd):[Q*xd,Z*xd]};return p}function Bb(p){function Q(pa,xa){return[pa*Z,I(xa)/
Z]}var Z=vd(p);Q.invert=function(pa,xa){return[pa/Z,ub(xa*Z)]};return Q}function Ua(p,Q){function Z(Xb,$b){$b=Ja(Cb-2*xa*I($b))/xa;return[$b*I(Xb*=xa),Ib-$b*vd(Xb)]}var pa=I(p),xa=(pa+I(Q))/2;if(1E-6>ed(xa))return Bb(p);var Cb=1+pa*(2*xa-pa),Ib=Ja(Cb)/xa;Z.invert=function(Xb,$b){$b=Ib-$b;var mc=Hd(Xb,ed($b))*wa($b);0>$b*xa&&(mc-=Hb*wa(Xb)*wa($b));return[mc/xa,ub((Cb-(Xb*Xb+$b*$b)*xa*xa)/(2*xa))]};return Z}function xb(){return ra(Ua).scale(155.424).center([0,33.6442])}function Fb(){return xb().parallels([29.5,
45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Lb(p){var Q=p.length;return{point:function(Z,pa){for(var xa=-1;++xa<Q;)p[xa].point(Z,pa)},sphere:function(){for(var Z=-1;++Z<Q;)p[Z].sphere()},lineStart:function(){for(var Z=-1;++Z<Q;)p[Z].lineStart()},lineEnd:function(){for(var Z=-1;++Z<Q;)p[Z].lineEnd()},polygonStart:function(){for(var Z=-1;++Z<Q;)p[Z].polygonStart()},polygonEnd:function(){for(var Z=-1;++Z<Q;)p[Z].polygonEnd()}}}function Zb(p){return function(Q,Z){var pa=
vd(Q),xa=vd(Z);pa=p(pa*xa);return Infinity===pa?[2,0]:[pa*xa*I(Q),pa*I(Z)]}}function ic(p){return function(Q,Z){var pa=Ja(Q*Q+Z*Z),xa=p(pa),Cb=I(xa);xa=vd(xa);return[Hd(Q*Cb,pa*xa),ub(pa&&Z*Cb/pa)]}}function Ac(p,Q){return[p,Ed(jb((Cc+Q)/2))]}function nd(p){function Q(){var yc=Hb*xa(),Jc=Z(Sa(Z.rotate()).invert([0,0]));return Ib(null==Xb?[[Jc[0]-yc,Jc[1]-yc],[Jc[0]+yc,Jc[1]+yc]]:p===Ac?[[Math.max(Jc[0]-yc,Xb),$b],[Math.min(Jc[0]+yc,mc),vc]]:[[Xb,Math.max(Jc[1]-yc,$b)],[mc,Math.min(Jc[1]+yc,vc)]])}
var Z=xc(p),pa=Z.center,xa=Z.scale,Cb=Z.translate,Ib=Z.clipExtent,Xb=null,$b,mc,vc;Z.scale=function(yc){return arguments.length?(xa(yc),Q()):xa()};Z.translate=function(yc){return arguments.length?(Cb(yc),Q()):Cb()};Z.center=function(yc){return arguments.length?(pa(yc),Q()):pa()};Z.clipExtent=function(yc){return arguments.length?(null==yc?Xb=$b=mc=vc=null:(Xb=+yc[0][0],$b=+yc[0][1],mc=+yc[1][0],vc=+yc[1][1]),Q()):null==Xb?null:[[Xb,$b],[mc,vc]]};return Q()}function Uc(p,Q){function Z(Ib,Xb){0<Cb?Xb<
-Cc+1E-6&&(Xb=-Cc+1E-6):Xb>Cc-1E-6&&(Xb=Cc-1E-6);Xb=Cb/w(jb((Cc+Xb)/2),xa);return[Xb*I(xa*Ib),Cb-Xb*vd(xa*Ib)]}var pa=vd(p),xa=p===Q?I(p):Ed(pa/vd(Q))/Ed(jb((Cc+Q)/2)/jb((Cc+p)/2)),Cb=pa*w(jb((Cc+p)/2),xa)/xa;if(!xa)return Ac;Z.invert=function(Ib,Xb){Xb=Cb-Xb;var $b=wa(xa)*Ja(Ib*Ib+Xb*Xb),mc=Hd(Ib,ed(Xb))*wa(Xb);0>Xb*xa&&(mc-=Hb*wa(Ib)*wa(Xb));return[mc/xa,2*Jd(w(Cb/$b,1/xa))-Cc]};return Z}function ma(p,Q){return[p,Q]}function Ha(p,Q){function Z(Ib,Xb){Xb=Cb-Xb;Ib*=xa;return[Xb*I(Ib),Cb-Xb*vd(Ib)]}
var pa=vd(p),xa=p===Q?I(p):(pa-vd(Q))/(Q-p),Cb=pa/xa+p;if(1E-6>ed(xa))return ma;Z.invert=function(Ib,Xb){Xb=Cb-Xb;var $b=Hd(Ib,ed(Xb))*wa(Xb);0>Xb*xa&&($b-=Hb*wa(Ib)*wa(Xb));return[$b/xa,Cb-wa(xa)*Ja(Ib*Ib+Xb*Xb)]};return Z}function fb(p,Q){Q=ub(hf*I(Q));var Z=Q*Q,pa=Z*Z*Z;return[p*vd(Q)/(hf*(1.340264+3*-.081106*Z+pa*(7*8.93E-4+.034164*Z))),Q*(1.340264+-.081106*Z+pa*(8.93E-4+.003796*Z))]}function S(p,Q){var Z=vd(Q),pa=vd(p)*Z;return[Z*I(p)/pa,I(Q)/pa]}function r(p,Q){var Z=Q*Q,pa=Z*Z;return[p*(.8707-
.131979*Z+pa*(-.013791+pa*(.003971*Z-.001529*pa))),Q*(1.007226+Z*(.015085+pa*(-.044475+.028874*Z-.005916*pa)))]}function da(p,Q){return[vd(Q)*I(p),I(Q)]}function za(p,Q){var Z=vd(Q),pa=1+vd(p)*Z;return[Z*I(p)/pa,I(Q)/pa]}function Da(p,Q){return[Ed(jb((Cc+Q)/2)),-p]}function Oa(p){return 1<p?ne:-1>p?-ne:Math.asin(p)}function kb(p,Q){return function pa(){const xa=Q();xa.type=p;xa.path=Pa().projection(xa);xa.copy=xa.copy||function(){const Cb=pa();y.forEach(Ib=>{if(xa[Ib])Cb[Ib](xa[Ib]())});Cb.path.pointRadius(xa.path.pointRadius());
return Cb};return h.registerScale(xa)}}function Vb(p,Q){if(!p||"string"!==typeof p)throw Error("Projection type must be a name string.");p=p.toLowerCase();return 1<arguments.length?(M[p]=kb(p,Q),this):M[p]||null}class Eb{constructor(){this._partials=new Float64Array(32);this._n=0}add(p){const Q=this._partials;let Z=0;for(let pa=0;pa<this._n&&32>pa;pa++){const xa=Q[pa],Cb=p+xa;(p=Math.abs(p)<Math.abs(xa)?p-(Cb-xa):xa-(Cb-p))&&(Q[Z++]=p);p=Cb}Q[Z]=p;this._n=Z+1;return this}valueOf(){const p=this._partials;
let Q=this._n;let Z,pa=0;if(0<Q){for(pa=p[--Q];0<Q;){var xa=pa;Z=p[--Q];pa=xa+Z;if(xa=Z-(pa-xa))break}0<Q&&(0>xa&&0>p[Q-1]||0<xa&&0<p[Q-1])&&(Z=2*xa,xa=pa+Z,Z==xa-pa&&(pa=xa))}return pa}}var Hb=Math.PI,Cc=Hb/2,Hc=Hb/4,Nc=2*Hb,xd=180/Hb,sd=Hb/180,ed=Math.abs,Jd=Math.atan,Hd=Math.atan2,vd=Math.cos,we=Math.exp,Ed=Math.log,w=Math.pow,I=Math.sin,wa=Math.sign||function(p){return 0<p?1:0>p?-1:0},Ja=Math.sqrt,jb=Math.tan,wb={Feature:function(p,Q){dc(p.geometry,Q)},FeatureCollection:function(p,Q){p=p.features;
for(var Z=-1,pa=p.length;++Z<pa;)dc(p[Z].geometry,Q)}},ec={Sphere:function(p,Q){Q.sphere()},Point:function(p,Q){p=p.coordinates;Q.point(p[0],p[1],p[2])},MultiPoint:function(p,Q){for(var Z=p.coordinates,pa=-1,xa=Z.length;++pa<xa;)p=Z[pa],Q.point(p[0],p[1],p[2])},LineString:function(p,Q){Wb(p.coordinates,Q,0)},MultiLineString:function(p,Q){p=p.coordinates;for(var Z=-1,pa=p.length;++Z<pa;)Wb(p[Z],Q,0)},Polygon:function(p,Q){nc(p.coordinates,Q)},MultiPolygon:function(p,Q){p=p.coordinates;for(var Z=-1,
pa=p.length;++Z<pa;)nc(p[Z],Q)},GeometryCollection:function(p,Q){p=p.geometries;for(var Z=-1,pa=p.length;++Z<pa;)dc(p[Z],Q)}};gb.invert=gb;var Qb=V(function(){return!0},function(p){var Q=NaN,Z=NaN,pa=NaN,xa;return{lineStart:function(){p.lineStart();xa=1},point:function(Cb,Ib){var Xb=0<Cb?Hb:-Hb,$b=ed(Cb-Q);if(1E-6>ed($b-Hb))p.point(Q,Z=0<(Z+Ib)/2?Cc:-Cc),p.point(pa,Z),p.lineEnd(),p.lineStart(),p.point(Xb,Z),p.point(Cb,Z),xa=0;else if(pa!==Xb&&$b>=Hb){1E-6>ed(Q-pa)&&(Q-=1E-6*pa);1E-6>ed(Cb-Xb)&&(Cb-=
1E-6*Xb);$b=Q;var mc=Z,vc=Cb,yc,Jc,Zc=I($b-vc);Z=1E-6<ed(Zc)?Jd((I(mc)*(Jc=vd(Ib))*I(vc)-I(Ib)*(yc=vd(mc))*I($b))/(yc*Jc*Zc)):(mc+Ib)/2;p.point(pa,Z);p.lineEnd();p.lineStart();p.point(Xb,Z);xa=0}p.point(Q=Cb,Z=Ib);pa=Xb},lineEnd:function(){p.lineEnd();Q=Z=NaN},clean:function(){return 2-xa}}},function(p,Q,Z,pa){null==p?(Z*=Cc,pa.point(-Hb,Z),pa.point(0,Z),pa.point(Hb,Z),pa.point(Hb,0),pa.point(Hb,-Z),pa.point(0,-Z),pa.point(-Hb,-Z),pa.point(-Hb,0),pa.point(-Hb,Z)):1E-6<ed(p[0]-Q[0])?(p=p[0]<Q[0]?Hb:
-Hb,Z=Z*p/2,pa.point(-p,Z),pa.point(0,Z),pa.point(p,Z)):pa.point(Q[0],Q[1])},[-Hb,-Cc]),qc=p=>p,Fc=new Eb,zc=new Eb,bd,md,qd,Gd,kd={point:Yb,lineStart:Yb,lineEnd:Yb,polygonStart:function(){kd.lineStart=qa;kd.lineEnd=K},polygonEnd:function(){kd.lineStart=kd.lineEnd=kd.point=Yb;Fc.add(ed(zc));zc=new Eb},result:function(){var p=Fc/2;Fc=new Eb;return p}},Od=kd,he=Infinity,Ne=he,Ie=-he,Fe=Ie,uf={point:function(p,Q){p<he&&(he=p);p>Ie&&(Ie=p);Q<Ne&&(Ne=Q);Q>Fe&&(Fe=Q)},lineStart:Yb,lineEnd:Yb,polygonStart:Yb,
polygonEnd:Yb,result:function(){var p=[[he,Ne],[Ie,Fe]];Ie=Fe=-(Ne=he=Infinity);return p}},gf=0,E=0,ca=0,Ga=0,eb=0,Gb=0,rc=0,Rb=0,Sc=0,fd,cd,Oc,Nd,Md={point:x,lineStart:U,lineEnd:G,polygonStart:function(){Md.lineStart=v;Md.lineEnd=z},polygonEnd:function(){Md.point=x;Md.lineStart=U;Md.lineEnd=G},result:function(){var p=Sc?[rc/Sc,Rb/Sc]:Gb?[Ga/Gb,eb/Gb]:ca?[gf/ca,E/ca]:[NaN,NaN];gf=E=ca=Ga=eb=Gb=rc=Rb=Sc=0;return p}},Ld=Md;ta.prototype={_radius:4.5,pointRadius:function(p){return this._radius=p,this},
polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(p,Q){switch(this._point){case 0:this._context.moveTo(p,Q);this._point=1;break;case 1:this._context.lineTo(p,Q);break;default:this._context.moveTo(p+this._radius,Q),this._context.arc(p,Q,this._radius,0,Nc)}},result:Yb};var Ad=new Eb,Wd,Ca,Qa,bc,id,sc={point:Yb,lineStart:function(){sc.point=O},lineEnd:function(){Wd&&
ja(Ca,Qa);sc.point=Yb},polygonStart:function(){Wd=!0},polygonEnd:function(){Wd=null},result:function(){var p=+Ad;Ad=new Eb;return p}},Mc=sc;let Ec,Tc,Xc,ld;class pd{constructor(p){this._append=null==p?va:Ma(p);this._radius=4.5;this._=""}pointRadius(p){this._radius=+p;return this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z");this._point=NaN}point(p,Q){switch(this._point){case 0:this._append`M${p},${Q}`;this._point=1;break;
case 1:this._append`L${p},${Q}`;break;default:this._append`M${p},${Q}`;if(this._radius!==Xc||this._append!==Tc)p=this._radius,Q=this._,this._="",this._append`m0,${p}a${p},${p} 0 1,1 0,${-2*p}a${p},${p} 0 1,1 0,${2*p}z`,Xc=p,Tc=this._append,ld=this._,this._=Q;this._+=ld}}result(){const p=this._;this._="";return p.length?p:null}}sb.prototype={constructor:sb,point:function(p,Q){this.stream.point(p,Q)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},
polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var me=vd(30*sd),df=Xa({point:function(p,Q){this.stream.point(p*sd,Q*sd)}}),Oe=Zb(function(p){return Ja(2/(1+p))});Oe.invert=ic(function(p){return 2*ub(p/2)});var Je=Zb(function(p){return(p=Ya(p))&&p/I(p)});Je.invert=ic(function(p){return p});Ac.invert=function(p,Q){return[p,2*Jd(we(Q))-Cc]};ma.invert=ma;var hf=Ja(3)/2;fb.invert=function(p,Q){for(var Z=Q,pa=Z*Z,xa=pa*pa*pa,Cb=0,Ib;12>Cb&&!(Ib=Z*(1.340264+
-.081106*pa+xa*(8.93E-4+.003796*pa))-Q,pa=1.340264+3*-.081106*pa+xa*(7*8.93E-4+.034164*pa),Z-=Ib/=pa,pa=Z*Z,xa=pa*pa*pa,1E-12>ed(Ib));++Cb);return[hf*p*(1.340264+3*-.081106*pa+xa*(7*8.93E-4+.034164*pa))/vd(Z),ub(I(Z)/hf)]};S.invert=ic(Jd);r.invert=function(p,Q){var Z=Q,pa=25;do{var xa=Z*Z;var Cb=xa*xa;Z-=Cb=(Z*(1.007226+xa*(.015085+Cb*(-.044475+.028874*xa-.005916*Cb)))-Q)/(1.007226+xa*(.045255+Cb*(-.311325+.259866*xa-.005916*11*Cb)))}while(1E-6<ed(Cb)&&0<--pa);return[p/(.8707+(xa=Z*Z)*(-.131979+xa*
(-.013791+xa*xa*xa*(.003971-.001529*xa)))),Z]};da.invert=ic(ub);za.invert=ic(function(p){return 2*Jd(p)});Da.invert=function(p,Q){return[-Q,2*Jd(we(p))-Cc]};var pf=Math.abs,Le=Math.cos,$e=Math.sin,Ze=Math.PI,ne=Ze/2,fe=Math.sqrt(2),le=function(p,Q,Z){function pa(xa,Cb){var Ib=Cb,Xb=Z*$e(Ib),$b=30,mc;do Ib-=mc=(Ib+$e(Ib)-Xb)/(1+Le(Ib));while(1E-6<pf(mc)&&0<--$b);return[p*xa*Le(Cb=Ib/2),Q*$e(Cb)]}pa.invert=function(xa,Cb){return Cb=Oa(Cb/Q),[xa/(p*Le(Cb)),Oa((2*Cb+$e(2*Cb))/Z)]};return pa}(fe/ne,fe,
Ze);const oe=Pa(),y="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),M={albers:Fb,albersusa:function(){function p(Jc){var Zc=Jc[0];Jc=Jc[1];return vc=null,(Cb.point(Zc,Jc),vc)||(Xb.point(Zc,Jc),vc)||(mc.point(Zc,Jc),vc)}function Q(){Z=pa=null;return p}var Z,pa,xa=Fb(),Cb,Ib=xb().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Xb,$b=xb().rotate([157,0]).center([-3,19.9]).parallels([8,
18]),mc,vc,yc={point:function(Jc,Zc){vc=[Jc,Zc]}};p.invert=function(Jc){var Zc=xa.scale(),Yc=xa.translate(),jd=(Jc[0]-Yc[0])/Zc;Zc=(Jc[1]-Yc[1])/Zc;return(.12<=Zc&&.234>Zc&&-.425<=jd&&-.214>jd?Ib:.166<=Zc&&.234>Zc&&-.214<=jd&&-.115>jd?$b:xa).invert(Jc)};p.stream=function(Jc){return Z&&pa===Jc?Z:Z=Lb([xa.stream(pa=Jc),Ib.stream(Jc),$b.stream(Jc)])};p.precision=function(Jc){if(!arguments.length)return xa.precision();xa.precision(Jc);Ib.precision(Jc);$b.precision(Jc);return Q()};p.scale=function(Jc){if(!arguments.length)return xa.scale();
xa.scale(Jc);Ib.scale(.35*Jc);$b.scale(Jc);return p.translate(xa.translate())};p.translate=function(Jc){if(!arguments.length)return xa.translate();var Zc=xa.scale(),Yc=+Jc[0],jd=+Jc[1];Cb=xa.translate(Jc).clipExtent([[Yc-.455*Zc,jd-.238*Zc],[Yc+.455*Zc,jd+.238*Zc]]).stream(yc);Xb=Ib.translate([Yc-.307*Zc,jd+.201*Zc]).clipExtent([[Yc-.425*Zc+1E-6,jd+.12*Zc+1E-6],[Yc-.214*Zc-1E-6,jd+.234*Zc-1E-6]]).stream(yc);mc=$b.translate([Yc-.205*Zc,jd+.212*Zc]).clipExtent([[Yc-.214*Zc+1E-6,jd+.166*Zc+1E-6],[Yc-
.115*Zc-1E-6,jd+.234*Zc-1E-6]]).stream(yc);return Q()};p.fitExtent=function(Jc,Zc){return Sb(p,Jc,Zc)};p.fitSize=function(Jc,Zc){return Sb(p,[[0,0],Jc],Zc)};p.fitWidth=function(Jc,Zc){return Y(p,Jc,Zc)};p.fitHeight=function(Jc,Zc){return Fa(p,Jc,Zc)};return p.scale(1070)},azimuthalequalarea:function(){return xc(Oe).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return xc(Je).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return ra(Uc).scale(109.5).parallels([30,30])},
conicequalarea:xb,conicequidistant:function(){return ra(Ha).scale(131.154).center([0,13.9389])},equalEarth:function(){return xc(fb).scale(177.158)},equirectangular:function(){return xc(ma).scale(152.63)},gnomonic:function(){return xc(S).scale(144.049).clipAngle(60)},identity:function(){function p(){Yc=Z*Cb;jd=Z*Ib;Xd=te=null;return Q}function Q($c){var Cd=$c[0]*Yc;$c=$c[1]*jd;if(Xb){var Qd=$c*$b-Cd*mc;Cd=Cd*$b+$c*mc;$c=Qd}return[Cd+pa,$c+xa]}var Z=1,pa=0,xa=0,Cb=1,Ib=1,Xb=0,$b,mc,vc=null,yc,Jc,Zc,
Yc=1,jd=1,$d=Xa({point:function($c,Cd){$c=Q([$c,Cd]);this.stream.point($c[0],$c[1])}}),Rc=qc,Xd,te;Q.invert=function($c){var Cd=$c[0]-pa;$c=$c[1]-xa;if(Xb){var Qd=$c*$b+Cd*mc;Cd=Cd*$b-$c*mc;$c=Qd}return[Cd/Yc,$c/jd]};Q.stream=function($c){return Xd&&te===$c?Xd:Xd=$d(Rc(te=$c))};Q.postclip=function($c){return arguments.length?(Rc=$c,vc=yc=Jc=Zc=null,p()):Rc};Q.clipExtent=function($c){return arguments.length?(Rc=null==$c?(vc=yc=Jc=Zc=null,qc):la(vc=+$c[0][0],yc=+$c[0][1],Jc=+$c[1][0],Zc=+$c[1][1]),
p()):null==vc?null:[[vc,yc],[Jc,Zc]]};Q.scale=function($c){return arguments.length?(Z=+$c,p()):Z};Q.translate=function($c){return arguments.length?(pa=+$c[0],xa=+$c[1],p()):[pa,xa]};Q.angle=function($c){return arguments.length?(Xb=$c%360*sd,mc=I(Xb),$b=vd(Xb),p()):Xb*xd};Q.reflectX=function($c){return arguments.length?(Cb=$c?-1:1,p()):0>Cb};Q.reflectY=function($c){return arguments.length?(Ib=$c?-1:1,p()):0>Ib};Q.fitExtent=function($c,Cd){return Sb(Q,$c,Cd)};Q.fitSize=function($c,Cd){return Sb(Q,[[0,
0],$c],Cd)};Q.fitWidth=function($c,Cd){return Y(Q,$c,Cd)};Q.fitHeight=function($c,Cd){return Fa(Q,$c,Cd)};return Q},mercator:function(){return nd(Ac).scale(961/Nc)},mollweide:function(){return xc(le).scale(169.529)},naturalEarth1:function(){return xc(r).scale(175.295)},orthographic:function(){return xc(da).scale(249.5).clipAngle(90.000001)},stereographic:function(){return xc(za).scale(250).clipAngle(142)},transversemercator:function(){var p=nd(Da),Q=p.center,Z=p.rotate;p.center=function(pa){return arguments.length?
Q([-pa[1],pa[0]]):(pa=Q(),[pa[1],-pa[0]])};p.rotate=function(pa){return arguments.length?Z([pa[0],pa[1],2<pa.length?pa[2]+90:90]):(pa=Z(),[pa[0],pa[1],pa[2]-90])};return Z([0,0,90]).scale(159.155)}};for(const p in M)Vb(p,M[p]);t.getProjectionPath=function(p){return p&&p.path||oe};t.projection=Vb;t.projectionProperties=y})};
shadow$provide[38]=function(Db,nb,Dc,Wa){(function(t,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,nb(29),nb(21),nb(30),nb(37),nb(32)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util vega-statistics vega-projection vega-canvas".split(" "),h):(t="undefined"!==typeof globalThis?globalThis:t||self,h((t.vega=t.vega||{},t.vega.transforms={}),t.vega,t.vega,t.vega,t.vega,t.vega))})(this,function(t,h,ia,Ya,ub,Yb){function dc(r,da,za){var Da=(da-r)/Math.max(0,za),Oa=
Math.floor(Math.log10(Da));Da/=Math.pow(10,Oa);Da=Da>=hd?10:Da>=ra?5:Da>=Bb?2:1;let kb;0>Oa?(kb=Math.pow(10,-Oa)/Da,Oa=Math.round(r*kb),Da=Math.round(da*kb),Oa/kb<r&&++Oa,Da/kb>da&&--Da,kb=-kb):(kb=Math.pow(10,Oa)*Da,Oa=Math.round(r/kb),Da=Math.round(da/kb),Oa*kb<r&&++Oa,Da*kb>da&&--Da);return Da<Oa&&.5<=za&&2>za?dc(r,da,2*za):[Oa,Da,kb]}function Wb(r,da,za){return dc(+r,+da,+za)[2]}function nc(r,da){let za;if(void 0===da)for(var Da of r)null!=Da&&(za<Da||void 0===za&&Da>=Da)&&(za=Da);else{Da=-1;
for(let Oa of r)null!=(Oa=da(Oa,++Da,r))&&(za<Oa||void 0===za&&Oa>=Oa)&&(za=Oa)}return za}function Ab(r,da,za){r=+r;da=+da;za=2>(Oa=arguments.length)?(da=r,r=0,1):3>Oa?1:+za;for(var Da=-1,Oa=Math.max(0,Math.ceil((da-r)/za))|0,kb=Array(Oa);++Da<Oa;)kb[Da]=r+Da*za;return kb}function Ub(r,da){let za=0;if(void 0===da)for(var Da of r){if(Da=+Da)za+=Da}else{Da=-1;for(let Oa of r)if(Oa=+da(Oa,++Da,r))za+=Oa}return za}function jc(){}function Ea(){function r(Eb,Hb){return Hb.map(Cc=>da(Eb,Cc))}function da(Eb,
Hb){var Cc=[],Hc=[];za(Eb,Hb,Nc=>{Vb(Nc,Eb,Hb);for(var xd=0,sd=Nc.length,ed=Nc[sd-1][1]*Nc[0][0]-Nc[sd-1][0]*Nc[0][1];++xd<sd;)ed+=Nc[xd-1][1]*Nc[xd][0]-Nc[xd-1][0]*Nc[xd][1];0<ed?Cc.push([Nc]):Hc.push(Nc)});Hc.forEach(Nc=>{for(var xd=0,sd=Cc.length,ed;xd<sd;++xd){a:{var Jd=(ed=Cc[xd])[0];for(var Hd=Nc,vd=-1,we=Hd.length;++vd<we;){b:{var Ed=Jd;for(var w=Hd[vd],I=w[0],wa=w[1],Ja=-1,jb=0,wb=Ed.length,ec=wb-1;jb<wb;ec=jb++){var Qb=Ed[jb],qc=Qb[0],Fc=Qb[1],zc=Ed[ec];ec=zc[0];var bd=zc[1],md,qd=Qb;Qb=
zc;zc=w;if(md=(Qb[0]-qd[0])*(zc[1]-qd[1])===(zc[0]-qd[0])*(Qb[1]-qd[1]))qd=qd[md=+(qd[0]===Qb[0])],zc=zc[md],Qb=Qb[md],md=qd<=zc&&zc<=Qb||Qb<=zc&&zc<=qd;if(md){Ed=0;break b}Fc>wa!==bd>wa&&I<(ec-qc)*(wa-Fc)/(bd-Fc)+qc&&(Ja=-Ja)}Ed=Ja}if(Ed){Jd=Ed;break a}}Jd=0}if(-1!==Jd){ed.push(Nc);break}}});return{type:"MultiPolygon",value:Hb,coordinates:Cc}}function za(Eb,Hb,Cc){function Hc(Ed){var w=[Ed[0][0]+ed,Ed[0][1]+sd];Ed=[Ed[1][0]+ed,Ed[1][1]+sd];var I=2*w[0]+w[1]*(Oa+1)*4,wa=2*Ed[0]+Ed[1]*(Oa+1)*4,Ja,
jb;(Ja=xd[I])?(jb=Nc[wa])?(delete xd[Ja.end],delete Nc[jb.start],Ja===jb?(Ja.ring.push(Ed),Cc(Ja.ring)):Nc[Ja.start]=xd[jb.end]={start:Ja.start,end:jb.end,ring:Ja.ring.concat(jb.ring)}):(delete xd[Ja.end],Ja.ring.push(Ed),xd[Ja.end=wa]=Ja):(Ja=Nc[wa])?(jb=xd[I])?(delete Nc[Ja.start],delete xd[jb.end],Ja===jb?(Ja.ring.push(Ed),Cc(Ja.ring)):Nc[jb.start]=xd[Ja.end]={start:jb.start,end:Ja.end,ring:jb.ring.concat(Ja.ring)}):(delete Nc[Ja.start],Ja.ring.unshift(w),Nc[Ja.start=I]=Ja):Nc[I]=xd[wa]={start:I,
end:wa,ring:[w,Ed]}}var Nc=[],xd=[],sd;var ed=sd=-1;var Jd=Eb[0]>=Hb;for(Ua[Jd<<1].forEach(Hc);++ed<Oa-1;){var Hd=Jd;Jd=Eb[ed+1]>=Hb;Ua[Hd|Jd<<1].forEach(Hc)}for(Ua[Jd<<0].forEach(Hc);++sd<kb-1;){ed=-1;Jd=Eb[sd*Oa+Oa]>=Hb;var vd=Eb[sd*Oa]>=Hb;for(Ua[Jd<<1|vd<<2].forEach(Hc);++ed<Oa-1;){Hd=Jd;Jd=Eb[sd*Oa+Oa+ed+1]>=Hb;var we=vd;vd=Eb[sd*Oa+ed+1]>=Hb;Ua[Hd|Jd<<1|vd<<2|we<<3].forEach(Hc)}Ua[Jd|vd<<3].forEach(Hc)}ed=-1;vd=Eb[sd*Oa]>=Hb;for(Ua[vd<<2].forEach(Hc);++ed<Oa-1;)we=vd,vd=Eb[sd*Oa+ed+1]>=Hb,Ua[vd<<
2|we<<3].forEach(Hc);Ua[vd<<3].forEach(Hc)}function Da(Eb,Hb,Cc){Eb.forEach(Hc=>{var Nc=Hc[0],xd=Hc[1],sd=Nc|0,ed=xd|0,Jd=Hb[ed*Oa+sd];if(0<Nc&&Nc<Oa&&sd===Nc){var Hd=Hb[ed*Oa+sd-1];Hc[0]=Nc+(Cc-Hd)/(Jd-Hd)-.5}0<xd&&xd<kb&&ed===xd&&(Hd=Hb[(ed-1)*Oa+sd],Hc[1]=xd+(Cc-Hd)/(Jd-Hd)-.5)})}var Oa=1,kb=1,Vb=Da;r.contour=da;r.size=function(Eb){if(!arguments.length)return[Oa,kb];var Hb=Math.floor(Eb[0]),Cc=Math.floor(Eb[1]);0<=Hb&&0<=Cc||ia.error("invalid size");return Oa=Hb,kb=Cc,r};r.smooth=function(Eb){return arguments.length?
(Vb=Eb?Da:jc,r):Vb===Da};return r}function bb(r,da,za){return function(Da){var Oa=ia.extent(Da);Da=za?Math.min(Oa[0],0):Oa[0];Oa=Oa[1];var kb=Oa-Da;if(da){var Vb=r;var Eb=+Oa;var Hb=+Da;Vb=+Vb;Hb=(kb=Eb<Hb)?Wb(Eb,Hb,Vb):Wb(Hb,Eb,Vb);kb=(kb?-1:1)*(0>Hb?1/-Hb:Hb)}else kb/=r+1;return Ab(Da+kb,Oa,kb)}}function tb(r){h.Transform.call(this,null,r)}function rb(r,da,za){const Da=bb(za.levels||10,za.nice,!1!==za.zero);return"shared"!==za.resolve?Da:Da(r.map(Oa=>nc(da(Oa).values)))}function pb(r,da,za,Da){var Oa=
Da.scale||da.scale;let kb=Da.translate||da.translate;ia.isFunction(Oa)&&(Oa=Oa(za,Da));ia.isFunction(kb)&&(kb=kb(za,Da));if(1!==Oa&&null!=Oa||kb)za=(ia.isNumber(Oa)?Oa:Oa[0])||1,Oa=(ia.isNumber(Oa)?Oa:Oa[1])||1,r.forEach(vb(da,za,Oa,kb&&kb[0]||0,kb&&kb[1]||0))}function vb(r,da,za,Da,Oa){function kb(Nc){Nc.forEach(Vb)}function Vb(Nc){Hc&&Nc.reverse();Nc.forEach(Eb)}function Eb(Nc){Nc[0]=(Nc[0]-Hb)*da+Da;Nc[1]=(Nc[1]-Cc)*za+Oa}const Hb=r.x1||0,Cc=r.y1||0,Hc=0>da*za;return function(Nc){Nc.coordinates.forEach(kb);
return Nc}}function gb(r,da,za){r=0<=r?r:Ya.bandwidthNRD(da,za);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function fc(r){return ia.isFunction(r)?r:ia.constant(+r)}function sa(){function r(Hb,Cc){const Hc=gb(Oa[0],Hb,da)>>Eb,Nc=gb(Oa[1],Hb,za)>>Eb,xd=Hc?Hc+2:0,sd=Nc?Nc+2:0,ed=2*xd+(kb>>Eb),Jd=2*sd+(Vb>>Eb),Hd=new Float32Array(ed*Jd),vd=new Float32Array(ed*Jd);let we=Hd;Hb.forEach(Ed=>{const w=xd+(+da(Ed)>>Eb),I=sd+(+za(Ed)>>Eb);0<=w&&w<ed&&0<=I&&I<Jd&&(Hd[w+I*ed]+=+Da(Ed))});0<Hc&&0<Nc?(ha(ed,Jd,
Hd,vd,Hc),Ba(ed,Jd,vd,Hd,Nc),ha(ed,Jd,Hd,vd,Hc),Ba(ed,Jd,vd,Hd,Nc),ha(ed,Jd,Hd,vd,Hc),Ba(ed,Jd,vd,Hd,Nc)):0<Hc?(ha(ed,Jd,Hd,vd,Hc),ha(ed,Jd,vd,Hd,Hc),ha(ed,Jd,Hd,vd,Hc),we=vd):0<Nc&&(Ba(ed,Jd,Hd,vd,Nc),Ba(ed,Jd,vd,Hd,Nc),Ba(ed,Jd,Hd,vd,Nc),we=vd);Hb=Cc?Math.pow(2,-2*Eb):1/Ub(we);for(let Ed=0,w=ed*Jd;Ed<w;++Ed)we[Ed]*=Hb;return{values:we,scale:1<<Eb,width:ed,height:Jd,x1:xd,y1:sd,x2:xd+(kb>>Eb),y2:sd+(Vb>>Eb)}}var da=Hb=>Hb[0],za=Hb=>Hb[1],Da=ia.one,Oa=[-1,-1],kb=960,Vb=500,Eb=2;r.x=function(Hb){return arguments.length?
(da=fc(Hb),r):da};r.y=function(Hb){return arguments.length?(za=fc(Hb),r):za};r.weight=function(Hb){return arguments.length?(Da=fc(Hb),r):Da};r.size=function(Hb){if(!arguments.length)return[kb,Vb];var Cc=+Hb[0],Hc=+Hb[1];0<=Cc&&0<=Hc||ia.error("invalid size");return kb=Cc,Vb=Hc,r};r.cellSize=function(Hb){if(!arguments.length)return 1<<Eb;1<=(Hb=+Hb)||ia.error("invalid cell size");Eb=Math.floor(Math.log(Hb)/Math.LN2);return r};r.bandwidth=function(Hb){if(!arguments.length)return Oa;Hb=ia.array(Hb);
1===Hb.length&&(Hb=[+Hb[0],+Hb[0]]);2!==Hb.length&&ia.error("invalid bandwidth");return Oa=Hb,r};return r}function ha(r,da,za,Da,Oa){const kb=(Oa<<1)+1;for(let Vb=0;Vb<da;++Vb)for(let Eb=0,Hb=0;Eb<r+Oa;++Eb)Eb<r&&(Hb+=za[Eb+Vb*r]),Eb>=Oa&&(Eb>=kb&&(Hb-=za[Eb-kb+Vb*r]),Da[Eb-Oa+Vb*r]=Hb/Math.min(Eb+1,r-1+kb-Eb,kb))}function Ba(r,da,za,Da,Oa){const kb=(Oa<<1)+1;for(let Vb=0;Vb<r;++Vb)for(let Eb=0,Hb=0;Eb<da+Oa;++Eb)Eb<da&&(Hb+=za[Vb+Eb*r]),Eb>=Oa&&(Eb>=kb&&(Hb-=za[Vb+(Eb-kb)*r]),Da[Vb+(Eb-Oa)*r]=Hb/
Math.min(Eb+1,da-1+kb-Eb,kb))}function Sa(r){h.Transform.call(this,null,r)}function Va(r,da){xb.forEach(za=>null!=da[za]?r[za](da[za]):0);return r}function Ia(r,da){var za=[],Da=Hc=>Hc(Eb),Oa;if(null==da)za.push(r);else{var kb={};var Vb=0;for(Oa=r.length;Vb<Oa;++Vb){var Eb=r[Vb];var Hb=da.map(Da);var Cc=kb[Hb];Cc||(kb[Hb]=Cc=[],Cc.dims=Hb,za.push(Cc));Cc.push(Eb)}}return za}function hb(r){h.Transform.call(this,null,r)}function Za(r){h.Transform.call(this,null,r)}function qb(r){h.Transform.call(this,
null,r)}function Nb(r,da){const za=r.pointRadius();r.context(null);null!=da&&r.pointRadius(da);return za}function $a(r){h.Transform.call(this,null,r)}function V(r){h.Transform.call(this,null,r)}function N(r,da,za){const Da=null==za?Oa=>r(da(Oa)):Oa=>{var kb=r.pointRadius();Oa=r.pointRadius(za)(da(Oa));r.pointRadius(kb);return Oa};Da.context=Oa=>{r.context(Oa);return Da};return Da}function na(r,da,za){var Da=Ab(r,da-1E-6,za).concat(da);return function(Oa){return Da.map(function(kb){return[Oa,kb]})}}
function oa(r,da,za){var Da=Ab(r,da-1E-6,za).concat(da);return function(Oa){return Da.map(function(kb){return[kb,Oa]})}}function Na(){function r(){return{type:"MultiLineString",coordinates:da()}}function da(){return Ab(Lb(kb/xd)*xd,Oa,xd).map(Hd).concat(Ab(Lb(Cc/sd)*sd,Hb,sd).map(vd)).concat(Ab(Lb(Da/Hc)*Hc,za,Hc).filter(function(Ed){return 1E-6<Fb(Ed%xd)}).map(ed)).concat(Ab(Lb(Eb/Nc)*Nc,Vb,Nc).filter(function(Ed){return 1E-6<Fb(Ed%sd)}).map(Jd))}var za,Da,Oa,kb,Vb,Eb,Hb,Cc,Hc=10,Nc=Hc,xd=90,sd=
360,ed,Jd,Hd,vd,we=2.5;r.lines=function(){return da().map(function(Ed){return{type:"LineString",coordinates:Ed}})};r.outline=function(){return{type:"Polygon",coordinates:[Hd(kb).concat(vd(Hb).slice(1),Hd(Oa).reverse().slice(1),vd(Cc).reverse().slice(1))]}};r.extent=function(Ed){return arguments.length?r.extentMajor(Ed).extentMinor(Ed):r.extentMinor()};r.extentMajor=function(Ed){if(!arguments.length)return[[kb,Cc],[Oa,Hb]];kb=+Ed[0][0];Oa=+Ed[1][0];Cc=+Ed[0][1];Hb=+Ed[1][1];kb>Oa&&(Ed=kb,kb=Oa,Oa=
Ed);Cc>Hb&&(Ed=Cc,Cc=Hb,Hb=Ed);return r.precision(we)};r.extentMinor=function(Ed){if(!arguments.length)return[[Da,Eb],[za,Vb]];Da=+Ed[0][0];za=+Ed[1][0];Eb=+Ed[0][1];Vb=+Ed[1][1];Da>za&&(Ed=Da,Da=za,za=Ed);Eb>Vb&&(Ed=Eb,Eb=Vb,Vb=Ed);return r.precision(we)};r.step=function(Ed){return arguments.length?r.stepMajor(Ed).stepMinor(Ed):r.stepMinor()};r.stepMajor=function(Ed){if(!arguments.length)return[xd,sd];xd=+Ed[0];sd=+Ed[1];return r};r.stepMinor=function(Ed){if(!arguments.length)return[Hc,Nc];Hc=+Ed[0];
Nc=+Ed[1];return r};r.precision=function(Ed){if(!arguments.length)return we;we=+Ed;ed=na(Eb,Vb,90);Jd=oa(Da,za,we);Hd=na(Cc,Hb,90);vd=oa(kb,Oa,we);return r};return r.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function la(r){h.Transform.call(this,[],r);this.generator=Na()}function qa(r,da,za){r.prototype=da.prototype=za;za.constructor=r}function l(r,da){r=Object.create(r.prototype);for(var za in da)r[za]=da[za];return r}function D(){}function K(){return this.rgb().formatHex()}
function x(){return this.rgb().formatRgb()}function U(r){var da,za;r=(r+"").trim().toLowerCase();return(da=ic.exec(r))?(za=da[1].length,da=parseInt(da[1],16),6===za?A(da):3===za?new v(da>>8&15|da>>4&240,da>>4&15|da&240,(da&15)<<4|da&15,1):8===za?X(da>>24&255,da>>16&255,da>>8&255,(da&255)/255):4===za?X(da>>12&15|da>>8&240,da>>8&15|da>>4&240,da>>4&15|da&240,((da&15)<<4|da&15)/255):null):(da=Ac.exec(r))?new v(da[1],da[2],da[3],1):(da=nd.exec(r))?new v(255*da[1]/100,255*da[2]/100,255*da[3]/100,1):(da=
Uc.exec(r))?X(da[1],da[2],da[3],da[4]):(da=ma.exec(r))?X(255*da[1]/100,255*da[2]/100,255*da[3]/100,da[4]):(da=Ha.exec(r))?ja(da[1],da[2]/100,da[3]/100,1):(da=fb.exec(r))?ja(da[1],da[2]/100,da[3]/100,da[4]):S.hasOwnProperty(r)?A(S[r]):"transparent"===r?new v(NaN,NaN,NaN,0):null}function A(r){return new v(r>>16&255,r>>8&255,r&255,1)}function X(r,da,za,Da){0>=Da&&(r=da=za=NaN);return new v(r,da,za,Da)}function G(r,da,za,Da){if(1===arguments.length){var Oa=r;Oa instanceof D||(Oa=U(Oa));Oa?(Oa=Oa.rgb(),
Oa=new v(Oa.r,Oa.g,Oa.b,Oa.opacity)):Oa=new v}else Oa=new v(r,da,za,null==Da?1:Da);return Oa}function v(r,da,za,Da){this.r=+r;this.g=+da;this.b=+za;this.opacity=+Da}function z(){return`#${O(this.r)}${O(this.g)}${O(this.b)}`}function F(){const r=W(this.opacity);return`${1===r?"rgb(":"rgba("}${ta(this.r)}, ${ta(this.g)}, ${ta(this.b)}${1===r?")":`, ${r})`}`}function W(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function ta(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function O(r){r=ta(r);
return(16>r?"0":"")+r.toString(16)}function ja(r,da,za,Da){0>=Da?r=da=za=NaN:0>=za||1<=za?r=da=NaN:0>=da&&(r=NaN);return new Ma(r,da,za,Da)}function va(r){if(r instanceof Ma)return new Ma(r.h,r.s,r.l,r.opacity);r instanceof D||(r=U(r));if(!r)return new Ma;if(r instanceof Ma)return r;r=r.rgb();var da=r.r/255,za=r.g/255,Da=r.b/255,Oa=Math.min(da,za,Da),kb=Math.max(da,za,Da),Vb=NaN,Eb=kb-Oa,Hb=(kb+Oa)/2;Eb?(Vb=da===kb?(za-Da)/Eb+6*(za<Da):za===kb?(Da-da)/Eb+2:(da-za)/Eb+4,Eb/=.5>Hb?kb+Oa:2-kb-Oa,Vb*=
60):Eb=0<Hb&&1>Hb?0:Vb;return new Ma(Vb,Eb,Hb,r.opacity)}function Ma(r,da,za,Da){this.h=+r;this.s=+da;this.l=+za;this.opacity=+Da}function Pa(r){r=(r||0)%360;return 0>r?r+360:r}function Xa(r){return Math.max(0,Math.min(1,r||0))}function sb(r,da,za){return 255*(60>r?da+(za-da)*r/60:180>r?za:240>r?da+(za-da)*(240-r)/60:da)}function ib(r){h.Transform.call(this,null,r)}function Sb(r,da){let za;ia.isFunction(r)?(za=Da=>G(r(Da,da)),za.dep=Fa(r)):za=ia.constant(G(r||"#888"));return za}function Y(r,da){let za;
ia.isFunction(r)?(za=Da=>r(Da,da),za.dep=Fa(r)):r?za=ia.constant(r):(za=Da=>Da.$value/Da.$max||0,za.dep=!0);return za}function Fa(r){if(!ia.isFunction(r))return!1;r=ia.toSet(ia.accessorFields(r));return r.$x||r.$y||r.$value||r.$max}function Kb(r,da,za,Da){const Oa=r.width;var kb=r.height;const Vb=r.x1||0,Eb=r.y1||0,Hb=r.x2||Oa;kb=r.y2||kb;const Cc=r.values;r=Cc?ed=>Cc[ed]:ia.zero;const Hc=Yb.canvas(Hb-Vb,kb-Eb),Nc=Hc.getContext("2d"),xd=Nc.getImageData(0,0,Hb-Vb,kb-Eb),sd=xd.data;for(let ed=Eb,Jd=
0;ed<kb;++ed){da.$y=ed-Eb;for(let Hd=Vb,vd=ed*Oa;Hd<Hb;++Hd,Jd+=4){da.$x=Hd-Vb;da.$value=r(Hd+vd);const we=za(da);sd[Jd+0]=we.r;sd[Jd+1]=we.g;sd[Jd+2]=we.b;sd[Jd+3]=~~(255*Da(da))}}Nc.putImageData(xd,0,0);return Hc}function pc(r){h.Transform.call(this,null,r);this.modified(!0)}function ac(r,da){const za=Ob(da.fit);da.extent?r.fitExtent(da.extent,za):da.size?r.fitSize(da.size,za):0}function Mb(r){const da=ub.projection((r||"mercator").toLowerCase());da||ia.error("Unrecognized projection type: "+r);
return da()}function Ob(r){r=ia.array(r);return 1===r.length?r[0]:{type:"FeatureCollection",features:r.reduce((da,za)=>da.concat(xc(za)),[])}}function xc(r){return"FeatureCollection"===r.type?r.features:ia.array(r).filter(da=>null!=da).map(da=>"Feature"===da.type?da:{type:"Feature",geometry:da})}const hd=Math.sqrt(50),ra=Math.sqrt(10),Bb=Math.sqrt(2),Ua=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],
[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];tb.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",
type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};ia.inherits(tb,h.Transform,{transform(r,da){if(this.value&&!da.changed()&&!r.modified())return da.StopPropagation;var za=da.fork(da.NO_SOURCE|da.NO_FIELDS);da=da.materialize(da.SOURCE).source;var Da=r.field||ia.identity,Oa=Ea().smooth(!1!==r.smooth),kb=r.thresholds||rb(da,Da,r),Vb=null===r.as?null:r.as||"contour",Eb=[];da.forEach(Hb=>
{const Cc=Da(Hb),Hc=Oa.size([Cc.width,Cc.height])(Cc.values,ia.isArray(kb)?kb:kb(Cc.values));pb(Hc,Cc,Hb,r);Hc.forEach(Nc=>{Eb.push(h.rederive(Hb,h.ingest(null!=Vb?{[Vb]:Nc}:Nc)))})});this.value&&(za.rem=this.value);this.value=za.source=za.add=Eb;return za}});Sa.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",
array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const xb="x y weight size cellSize bandwidth".split(" ");ia.inherits(Sa,h.Transform,{transform(r,da){if(this.value&&!da.changed()&&!r.modified())return da.StopPropagation;var za=da.fork(da.NO_SOURCE|da.NO_FIELDS);da=da.materialize(da.SOURCE).source;da=Ia(da,r.groupby);var Da=(r.groupby||[]).map(ia.accessorName),Oa=Va(sa(),
r),kb=r.as||"grid",Vb=[];Vb=da.map(Eb=>{var Hb=h.ingest,Cc={[kb]:Oa(Eb,r.counts)};Eb=Eb.dims;for(let Hc=0;Hc<Da.length;++Hc)Cc[Da[Hc]]=Eb[Hc];return Hb.call(h,Cc)});this.value&&(za.rem=this.value);this.value=za.source=za.add=Vb;return za}});hb.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},
{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};ia.inherits(hb,h.Transform,{transform(r,da){if(this.value&&!da.changed()&&!r.modified())return da.StopPropagation;var za=da.fork(da.NO_SOURCE|da.NO_FIELDS),Da=Ea().smooth(!1!==r.smooth),Oa=r.values,kb=r.thresholds||bb(r.count||10,r.nice,!!Oa),Vb=r.size;if(!Oa){Oa=da.materialize(da.SOURCE).source;r=Va(sa(),r)(Oa,
!0);var Eb=vb(r,r.scale||1,r.scale||1,0,0);Vb=[r.width,r.height];Oa=r.values}kb=ia.isArray(kb)?kb:kb(Oa);Oa=Da.size(Vb)(Oa,kb);Eb&&Oa.forEach(Eb);this.value&&(za.rem=this.value);this.value=za.source=za.add=(Oa||[]).map(h.ingest);return za}});Za.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};ia.inherits(Za,h.Transform,{transform(r,da){var za=this._features,Da=this._points,Oa=r.fields,kb=Oa&&Oa[0],Vb=Oa&&Oa[1],Eb=r.geojson||
!Oa&&ia.identity;Oa=da.ADD;r=r.modified()||da.changed(da.REM)||da.modified(ia.accessorFields(Eb))||kb&&da.modified(ia.accessorFields(kb))||Vb&&da.modified(ia.accessorFields(Vb));if(!this.value||r)Oa=da.SOURCE,this._features=za=[],this._points=Da=[];Eb&&da.visit(Oa,Hb=>za.push(Eb(Hb)));kb&&Vb&&(da.visit(Oa,Hb=>{var Cc=kb(Hb);Hb=Vb(Hb);null!=Cc&&null!=Hb&&(Cc=+Cc)===Cc&&(Hb=+Hb)===Hb&&Da.push([Cc,Hb])}),za=za.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:Da}}));this.value={type:"FeatureCollection",
features:za}}});qb.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};ia.inherits(qb,h.Transform,{transform(r,da){var za=da.fork(da.ALL),Da=this.value,Oa=r.field||ia.identity,kb=r.as||"path",Vb=za.SOURCE;!Da||r.modified()?(this.value=Da=ub.getProjectionPath(r.projection),za.materialize().reflow()):Vb=Oa===ia.identity||da.modified(Oa.fields)?
za.ADD_MOD:za.ADD;r=Nb(Da,r.pointRadius);za.visit(Vb,Eb=>Eb[kb]=Da(Oa(Eb)));Da.pointRadius(r);return za.modifies(kb)}});$a.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};ia.inherits($a,h.Transform,{transform(r,da){function za(Cc){const Hc=Da([Oa(Cc),kb(Cc)]);Hc?(Cc[Eb]=Hc[0],Cc[Hb]=Hc[1]):(Cc[Eb]=void 0,Cc[Hb]=void 0)}
var Da=r.projection,Oa=r.fields[0],kb=r.fields[1],Vb=r.as||["x","y"],Eb=Vb[0],Hb=Vb[1];r.modified()?da=da.materialize().reflow(!0).visit(da.SOURCE,za):(r=da.modified(Oa.fields)||da.modified(kb.fields),da.visit(r?da.ADD_MOD:da.ADD,za));return da.modifies(Vb)}});V.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};
ia.inherits(V,h.Transform,{transform(r,da){da=da.fork(da.ALL);var za=this.value,Da=r.as||"shape",Oa=da.ADD;if(!za||r.modified())this.value=za=N(ub.getProjectionPath(r.projection),r.field||ia.field("datum"),r.pointRadius),da.materialize().reflow(),Oa=da.SOURCE;da.visit(Oa,kb=>kb[Da]=za);return da.modifies(Da)}});var Fb=Math.abs,Lb=Math.ceil;la.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},
{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};ia.inherits(la,h.Transform,{transform(r,da){var za=this.value,Da=this.generator;
if(!za.length||r.modified())for(const Oa in r)if(ia.isFunction(Da[Oa]))Da[Oa](r[Oa]);r=Da();za.length?da.mod.push(h.replace(za[0],r)):da.add.push(h.ingest(r));za[0]=r;return da}});var Zb=1/.7,ic=/^#([0-9a-f]{3,8})$/,Ac=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),nd=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Uc=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
ma=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Ha=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),fb=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
S={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qa(D,U,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:K,formatHex:K,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return va(this).formatHsl()},formatRgb:x,toString:x});qa(v,G,l(D,{brighter(r){r=null==r?Zb:Math.pow(Zb,r);return new v(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){r=
null==r?.7:Math.pow(.7,r);return new v(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new v(ta(this.r),ta(this.g),ta(this.b),W(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:z,formatHex:z,formatHex8:function(){return`#${O(this.r)}${O(this.g)}${O(this.b)}${O(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:F,toString:F}));qa(Ma,function(r,da,za,Da){return 1===
arguments.length?va(r):new Ma(r,da,za,null==Da?1:Da)},l(D,{brighter(r){r=null==r?Zb:Math.pow(Zb,r);return new Ma(this.h,this.s,this.l*r,this.opacity)},darker(r){r=null==r?.7:Math.pow(.7,r);return new Ma(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+360*(0>this.h),da=isNaN(r)||isNaN(this.s)?0:this.s,za=this.l;da=za+(.5>za?za:1-za)*da;za=2*za-da;return new v(sb(240<=r?r-240:r+120,za,da),sb(r,za,da),sb(120>r?r+240:r-120,za,da),this.opacity)},clamp(){return new Ma(Pa(this.h),Xa(this.s),
Xa(this.l),W(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const r=W(this.opacity);return`${1===r?"hsl(":"hsla("}${Pa(this.h)}, ${100*Xa(this.s)}%, ${100*Xa(this.l)}%${1===r?")":`, ${r})`}`}}));ib.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared",
"independent"],"default":"independent"},{name:"as",type:"string","default":"image"}]};ia.inherits(ib,h.Transform,{transform(r,da){if(!da.changed()&&!r.modified())return da.StopPropagation;var za=da.materialize(da.SOURCE).source,Da="shared"===r.resolve,Oa=r.field||ia.identity,kb=Y(r.opacity,r),Vb=Sb(r.color,r),Eb=r.as||"image",Hb={$x:0,$y:0,$value:0,$max:Da?nc(za.map(Cc=>nc(Oa(Cc).values))):0};za.forEach(Cc=>{const Hc=Oa(Cc),Nc=ia.extend({},Cc,Hb);Da||(Nc.$max=nc(Hc.values||[]));Cc[Eb]=Kb(Hc,Nc,Vb.dep?
Vb:ia.constant(Vb(Nc)),kb.dep?kb:ia.constant(kb(Nc)))});return da.reflow(!0).modifies(Eb)}});ia.inherits(pc,h.Transform,{transform(r,da){let za=this.value;!za||r.modified("type")?(this.value=za=Mb(r.type),ub.projectionProperties.forEach(Da=>{if(null!=r[Da]){var Oa=za,kb=r[Da];if(ia.isFunction(Oa[Da]))Oa[Da](kb)}})):ub.projectionProperties.forEach(Da=>{if(r.modified(Da)){var Oa=za,kb=r[Da];if(ia.isFunction(Oa[Da]))Oa[Da](kb)}});null!=r.pointRadius&&za.path.pointRadius(r.pointRadius);r.fit&&ac(za,r);
return da.fork(da.NO_SOURCE|da.NO_FIELDS)}});t.contour=hb;t.geojson=Za;t.geopath=qb;t.geopoint=$a;t.geoshape=V;t.graticule=la;t.heatmap=ib;t.isocontour=tb;t.kde2d=Sa;t.projection=pc})};
shadow$provide[39]=function(Db,nb,Dc,Wa){(function(t,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,nb(29),nb(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h((t.vega=t.vega||{},t.vega.transforms={}),t.vega,t.vega))})(this,function(t,h,ia){function Ya(O,ja,va,Ma){if(isNaN(ja)||isNaN(va))return O;var Pa,Xa=O._root;Ma={data:Ma};var sb=O._x0,ib=O._y0,Sb=O._x1,Y=O._y1,Fa,Kb,pc,ac,Mb;if(!Xa)return O._root=
Ma,O;for(;Xa.length;)if((pc=ja>=(Fa=(sb+Sb)/2))?sb=Fa:Sb=Fa,(ac=va>=(Kb=(ib+Y)/2))?ib=Kb:Y=Kb,Pa=Xa,!(Xa=Xa[Mb=ac<<1|pc]))return Pa[Mb]=Ma,O;var Ob=+O._x.call(null,Xa.data);var xc=+O._y.call(null,Xa.data);if(ja===Ob&&va===xc)return Ma.next=Xa,Pa?Pa[Mb]=Ma:O._root=Ma,O;do Pa=Pa?Pa[Mb]=Array(4):O._root=Array(4),(pc=ja>=(Fa=(sb+Sb)/2))?sb=Fa:Sb=Fa,(ac=va>=(Kb=(ib+Y)/2))?ib=Kb:Y=Kb;while((Mb=ac<<1|pc)===(pc=(xc>=Kb)<<1|Ob>=Fa));return Pa[pc]=Xa,Pa[Mb]=Ma,O}function ub(O,ja,va,Ma,Pa){this.node=O;this.x0=
ja;this.y0=va;this.x1=Ma;this.y1=Pa}function Yb(O){return O[0]}function dc(O){return O[1]}function Wb(O,ja,va){ja=new nc(null==ja?Yb:ja,null==va?dc:va,NaN,NaN,NaN,NaN);return null==O?ja:ja.addAll(O)}function nc(O,ja,va,Ma,Pa,Xa){this._x=O;this._y=ja;this._x0=va;this._y0=Ma;this._x1=Pa;this._y1=Xa;this._root=void 0}function Ab(O){for(var ja={data:O.data},va=ja;O=O.next;)va=va.next={data:O.data};return ja}function Ub(O){return function(){return O}}function jc(O){return O.x+O.vx}function Ea(O){return O.y+
O.vy}function bb(O){return O.index}function tb(O,ja){O=O.get(ja);if(!O)throw Error("node not found: "+ja);return O}function rb(){for(var O=0,ja=arguments.length,va={},Ma;O<ja;++O){if(!(Ma=arguments[O]+"")||Ma in va||/[\s.]/.test(Ma))throw Error("illegal type: "+Ma);va[Ma]=[]}return new pb(va)}function pb(O){this._=O}function vb(O,ja){return O.trim().split(/^|\s+/).map(function(va){var Ma="",Pa=va.indexOf(".");0<=Pa&&(Ma=va.slice(Pa+1),va=va.slice(0,Pa));if(va&&!ja.hasOwnProperty(va))throw Error("unknown type: "+
va);return{type:va,name:Ma}})}function gb(O,ja,va){for(var Ma=0,Pa=O.length;Ma<Pa;++Ma)if(O[Ma].name===ja){O[Ma]=Na;O=O.slice(0,Ma).concat(O.slice(Ma+1));break}null!=va&&O.push({name:ja,value:va});return O}function fc(){U=0}function sa(){this._call=this._time=this._next=null}function ha(O,ja,va){var Ma=new sa;Ma.restart(O,ja,va);return Ma}function Ba(){U=(x=X.now())+A;la=qa=0;try{U||(G(fc),U=X.now()+A);++la;for(var O=D,ja;O;)0<=(ja=U-O._time)&&O._call.call(void 0,ja),O=O._next;--la}finally{la=0;O=
D;for(var va=Infinity;O;)if(O._call){va>O._time&&(va=O._time);var Ma=O;O=O._next}else ja=O._next,O._next=null,O=Ma?Ma._next=ja:D=ja;K=Ma;Va(va);U=0}}function Sa(){var O=X.now(),ja=O-x;1E3<ja&&(A-=ja,x=O)}function Va(O){la||(qa&&(qa=clearTimeout(qa)),24<O-U?(Infinity>O&&(qa=setTimeout(Ba,O-X.now()-A)),l&&(l=clearInterval(l))):(l||(x=X.now(),l=setInterval(Sa,1E3)),la=1,G(Ba)))}function Ia(){let O=1;return()=>(O=(1664525*O+1013904223)%4294967296)/4294967296}function hb(O){return O.x}function Za(O){return O.y}
function qb(O){function ja(){va();ac.call("tick",Xa);sb<ib&&(pc.stop(),ac.call("end",Xa))}function va(Ob){var xc,hd=O.length;void 0===Ob&&(Ob=1);for(var ra=0;ra<Ob;++ra)for(sb+=(Y-sb)*Sb,Kb.forEach(function(Ua){Ua(sb)}),xc=0;xc<hd;++xc){var Bb=O[xc];null==Bb.fx?Bb.x+=Bb.vx*=Fa:(Bb.x=Bb.fx,Bb.vx=0);null==Bb.fy?Bb.y+=Bb.vy*=Fa:(Bb.y=Bb.fy,Bb.vy=0)}return Xa}function Ma(){for(var Ob=0,xc=O.length,hd;Ob<xc;++Ob){hd=O[Ob];hd.index=Ob;null!=hd.fx&&(hd.x=hd.fx);null!=hd.fy&&(hd.y=hd.fy);if(isNaN(hd.x)||
isNaN(hd.y)){var ra=10*Math.sqrt(.5+Ob),Bb=Ob*v;hd.x=ra*Math.cos(Bb);hd.y=ra*Math.sin(Bb)}if(isNaN(hd.vx)||isNaN(hd.vy))hd.vx=hd.vy=0}}function Pa(Ob){Ob.initialize&&Ob.initialize(O,Mb);return Ob}var Xa,sb=1,ib=.001,Sb=1-Math.pow(ib,1/300),Y=0,Fa=.6,Kb=new Map,pc=ha(ja),ac=rb("tick","end"),Mb=Ia();null==O&&(O=[]);Ma();return Xa={tick:va,restart:function(){return pc.restart(ja),Xa},stop:function(){return pc.stop(),Xa},nodes:function(Ob){return arguments.length?(O=Ob,Ma(),Kb.forEach(Pa),Xa):O},alpha:function(Ob){return arguments.length?
(sb=+Ob,Xa):sb},alphaMin:function(Ob){return arguments.length?(ib=+Ob,Xa):ib},alphaDecay:function(Ob){return arguments.length?(Sb=+Ob,Xa):+Sb},alphaTarget:function(Ob){return arguments.length?(Y=+Ob,Xa):Y},velocityDecay:function(Ob){return arguments.length?(Fa=1-Ob,Xa):1-Fa},randomSource:function(Ob){return arguments.length?(Mb=Ob,Kb.forEach(Pa),Xa):Mb},force:function(Ob,xc){return 1<arguments.length?(null==xc?Kb.delete(Ob):Kb.set(Ob,Pa(xc)),Xa):Kb.get(Ob)},find:function(Ob,xc,hd){var ra,Bb=O.length;
hd=null==hd?Infinity:hd*hd;for(ra=0;ra<Bb;++ra){var Ua=O[ra];var xb=Ob-Ua.x;var Fb=xc-Ua.y;xb=xb*xb+Fb*Fb;if(xb<hd){var Lb=Ua;hd=xb}}return Lb},on:function(Ob,xc){return 1<arguments.length?(ac.on(Ob,xc),Xa):ac.on(Ob)}}}function Nb(O){h.Transform.call(this,null,O)}function $a(O,ja){return()=>O.touch(ja).run()}function V(O,ja){O=qb(O);const va=O.stop,Ma=O.restart;let Pa=!1;O.stopped=()=>Pa;O.restart=()=>(Pa=!1,Ma());O.stop=()=>(Pa=!0,va());return N(O,ja,!0).on("end",()=>Pa=!0)}function N(O,ja,va,Ma){var Pa=
ia.array(ja.forces),Xa;var sb=0;for(Xa=F.length;sb<Xa;++sb){var ib=F[sb];if("forces"!==ib&&ja.modified(ib))O[ib](ja[ib])}sb=0;for(Xa=Pa.length;sb<Xa;++sb){var Sb="forces"+sb;if(va||ja.modified("forces",sb)){ib=void 0;var Y=Pa[sb];ia.hasOwnProperty(z,Y.force)||ia.error("Unrecognized force: "+Y.force);var Fa=z[Y.force]();for(ib in Y)ia.isFunction(Fa[ib])&&na(Fa[ib],Y[ib],Y);ib=Fa}else{if(ib=Ma)a:{Fa=ib=void 0;Y=Pa[sb];var Kb=Ma;for(Fa in Y)if(ia.isFunction(ib=Y[Fa])&&Kb.modified(ia.accessorFields(ib))){ib=
1;break a}ib=0}ib=ib?O.force(Sb):null}ib&&O.force(Sb,ib)}for(Xa=O.numForces||0;sb<Xa;++sb)O.force("forces"+sb,null);O.numForces=Pa.length;return O}function na(O,ja,va){O(ia.isFunction(ja)?Ma=>ja(Ma,va):ja)}var oa=Wb.prototype=nc.prototype;oa.copy=function(){var O=new nc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ja=this._root,va,Ma;if(!ja)return O;if(!ja.length)return O._root=Ab(ja),O;for(va=[{source:ja,target:O._root=Array(4)}];ja=va.pop();)for(var Pa=0;4>Pa;++Pa)if(Ma=ja.source[Pa])Ma.length?
va.push({source:Ma,target:ja.target[Pa]=Array(4)}):ja.target[Pa]=Ab(Ma);return O};oa.add=function(O){const ja=+this._x.call(null,O),va=+this._y.call(null,O);return Ya(this.cover(ja,va),ja,va,O)};oa.addAll=function(O){var ja,va,Ma=O.length,Pa,Xa,sb=Array(Ma),ib=Array(Ma),Sb=Infinity,Y=Infinity,Fa=-Infinity,Kb=-Infinity;for(va=0;va<Ma;++va)isNaN(Pa=+this._x.call(null,ja=O[va]))||isNaN(Xa=+this._y.call(null,ja))||(sb[va]=Pa,ib[va]=Xa,Pa<Sb&&(Sb=Pa),Pa>Fa&&(Fa=Pa),Xa<Y&&(Y=Xa),Xa>Kb&&(Kb=Xa));if(Sb>Fa||
Y>Kb)return this;this.cover(Sb,Y).cover(Fa,Kb);for(va=0;va<Ma;++va)Ya(this,sb[va],ib[va],O[va]);return this};oa.cover=function(O,ja){if(isNaN(O=+O)||isNaN(ja=+ja))return this;var va=this._x0,Ma=this._y0,Pa=this._x1,Xa=this._y1;if(isNaN(va))Pa=(va=Math.floor(O))+1,Xa=(Ma=Math.floor(ja))+1;else{for(var sb=Pa-va||1,ib=this._root,Sb,Y;va>O||O>=Pa||Ma>ja||ja>=Xa;)switch(Y=(ja<Ma)<<1|O<va,Sb=Array(4),Sb[Y]=ib,ib=Sb,sb*=2,Y){case 0:Pa=va+sb;Xa=Ma+sb;break;case 1:va=Pa-sb;Xa=Ma+sb;break;case 2:Pa=va+sb;Ma=
Xa-sb;break;case 3:va=Pa-sb,Ma=Xa-sb}this._root&&this._root.length&&(this._root=ib)}this._x0=va;this._y0=Ma;this._x1=Pa;this._y1=Xa;return this};oa.data=function(){var O=[];this.visit(function(ja){if(!ja.length){do O.push(ja.data);while(ja=ja.next)}});return O};oa.extent=function(O){return arguments.length?this.cover(+O[0][0],+O[0][1]).cover(+O[1][0],+O[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};oa.find=function(O,ja,va){var Ma=this._x0,Pa=this._y0,Xa,sb,ib,Sb,Y=this._x1,
Fa=this._y1,Kb=[],pc=this._root,ac;pc&&Kb.push(new ub(pc,Ma,Pa,Y,Fa));null==va?va=Infinity:(Ma=O-va,Pa=ja-va,Y=O+va,Fa=ja+va,va*=va);for(;ac=Kb.pop();)if(!(!(pc=ac.node)||(Xa=ac.x0)>Y||(sb=ac.y0)>Fa||(ib=ac.x1)<Ma||(Sb=ac.y1)<Pa))if(pc.length){ac=(Xa+ib)/2;var Mb=(sb+Sb)/2;Kb.push(new ub(pc[3],ac,Mb,ib,Sb),new ub(pc[2],Xa,Mb,ac,Sb),new ub(pc[1],ac,sb,ib,Mb),new ub(pc[0],Xa,sb,ac,Mb));if(pc=(ja>=Mb)<<1|O>=ac)ac=Kb[Kb.length-1],Kb[Kb.length-1]=Kb[Kb.length-1-pc],Kb[Kb.length-1-pc]=ac}else if(ac=O-+this._x.call(null,
pc.data),Mb=ja-+this._y.call(null,pc.data),ac=ac*ac+Mb*Mb,ac<va){var Ob=Math.sqrt(va=ac);Ma=O-Ob;Pa=ja-Ob;Y=O+Ob;Fa=ja+Ob;Ob=pc.data}return Ob};oa.remove=function(O){if(isNaN(Sb=+this._x.call(null,O))||isNaN(Y=+this._y.call(null,O)))return this;var ja,va=this._root,Ma,Pa=this._x0,Xa=this._y0,sb=this._x1,ib=this._y1,Sb,Y,Fa,Kb,pc,ac,Mb;if(!va)return this;if(va.length)for(;;){(pc=Sb>=(Fa=(Pa+sb)/2))?Pa=Fa:sb=Fa;(ac=Y>=(Kb=(Xa+ib)/2))?Xa=Kb:ib=Kb;if(!(ja=va,va=va[Mb=ac<<1|pc]))return this;if(!va.length)break;
if(ja[Mb+1&3]||ja[Mb+2&3]||ja[Mb+3&3]){var Ob=ja;var xc=Mb}}for(;va.data!==O;)if(!(Ma=va,va=va.next))return this;(O=va.next)&&delete va.next;if(Ma)return O?Ma.next=O:delete Ma.next,this;if(!ja)return this._root=O,this;O?ja[Mb]=O:delete ja[Mb];(va=ja[0]||ja[1]||ja[2]||ja[3])&&va===(ja[3]||ja[2]||ja[1]||ja[0])&&!va.length&&(Ob?Ob[xc]=va:this._root=va);return this};oa.removeAll=function(O){for(var ja=0,va=O.length;ja<va;++ja)this.remove(O[ja]);return this};oa.root=function(){return this._root};oa.size=
function(){var O=0;this.visit(function(ja){if(!ja.length){do++O;while(ja=ja.next)}});return O};oa.visit=function(O){var ja=[],va,Ma=this._root,Pa,Xa,sb,ib,Sb;for(Ma&&ja.push(new ub(Ma,this._x0,this._y0,this._x1,this._y1));va=ja.pop();)if(!O(Ma=va.node,Xa=va.x0,sb=va.y0,ib=va.x1,Sb=va.y1)&&Ma.length){va=(Xa+ib)/2;var Y=(sb+Sb)/2;(Pa=Ma[3])&&ja.push(new ub(Pa,va,Y,ib,Sb));(Pa=Ma[2])&&ja.push(new ub(Pa,Xa,Y,va,Sb));(Pa=Ma[1])&&ja.push(new ub(Pa,va,sb,ib,Y));(Pa=Ma[0])&&ja.push(new ub(Pa,Xa,sb,va,Y))}return this};
oa.visitAfter=function(O){var ja=[],va=[],Ma;for(this._root&&ja.push(new ub(this._root,this._x0,this._y0,this._x1,this._y1));Ma=ja.pop();){var Pa=Ma.node;if(Pa.length){var Xa,sb=Ma.x0,ib=Ma.y0,Sb=Ma.x1,Y=Ma.y1,Fa=(sb+Sb)/2,Kb=(ib+Y)/2;(Xa=Pa[0])&&ja.push(new ub(Xa,sb,ib,Fa,Kb));(Xa=Pa[1])&&ja.push(new ub(Xa,Fa,ib,Sb,Kb));(Xa=Pa[2])&&ja.push(new ub(Xa,sb,Kb,Fa,Y));(Xa=Pa[3])&&ja.push(new ub(Xa,Fa,Kb,Sb,Y))}va.push(Ma)}for(;Ma=va.pop();)O(Ma.node,Ma.x0,Ma.y0,Ma.x1,Ma.y1);return this};oa.x=function(O){return arguments.length?
(this._x=O,this):this._x};oa.y=function(O){return arguments.length?(this._y=O,this):this._y};var Na={value:()=>{}};pb.prototype=rb.prototype={constructor:pb,on:function(O,ja){var va=this._,Ma=vb(O+"",va),Pa,Xa=-1,sb=Ma.length;if(2>arguments.length)for(;++Xa<sb;){var ib;if(ib=Pa=(O=Ma[Xa]).type){a:{ib=va[Pa];for(var Sb=0,Y=ib.length;Sb<Y;++Sb)if((Pa=ib[Sb]).name===O.name){Pa=Pa.value;break a}Pa=void 0}ib=Pa}if(ib)return Pa}else{if(null!=ja&&"function"!==typeof ja)throw Error("invalid callback: "+ja);
for(;++Xa<sb;)if(Pa=(O=Ma[Xa]).type)va[Pa]=gb(va[Pa],O.name,ja);else if(null==ja)for(Pa in va)va[Pa]=gb(va[Pa],O.name,null);return this}},copy:function(){var O={},ja=this._,va;for(va in ja)O[va]=ja[va].slice();return new pb(O)},call:function(O,ja){if(0<(Pa=arguments.length-2))for(var va=Array(Pa),Ma=0,Pa,Xa;Ma<Pa;++Ma)va[Ma]=arguments[Ma+2];if(!this._.hasOwnProperty(O))throw Error("unknown type: "+O);Xa=this._[O];Ma=0;for(Pa=Xa.length;Ma<Pa;++Ma)Xa[Ma].value.apply(ja,va)},apply:function(O,ja,va){if(!this._.hasOwnProperty(O))throw Error("unknown type: "+
O);O=this._[O];for(var Ma=0,Pa=O.length;Ma<Pa;++Ma)O[Ma].value.apply(ja,va)}};var la=0,qa=0,l=0,D,K,x=0,U=0,A=0,X="object"===typeof performance&&performance.now?performance:Date,G="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(O){setTimeout(O,17)};sa.prototype=ha.prototype={constructor:sa,restart:function(O,ja,va){if("function"!==typeof O)throw new TypeError("callback is not a function");va=(null==va?U||(G(fc),U=X.now()+A):+va)+(null==ja?
0:+ja);this._next||K===this||(K?K._next=this:D=this,K=this);this._call=O;this._time=va;Va()},stop:function(){this._call&&(this._call=null,this._time=Infinity,Va())}};var v=Math.PI*(3-Math.sqrt(5));const z={center:function(O,ja){function va(){var Xa,sb=Ma.length,ib=0,Sb=0;for(Xa=0;Xa<sb;++Xa){var Y=Ma[Xa];ib+=Y.x;Sb+=Y.y}ib=(ib/sb-O)*Pa;Sb=(Sb/sb-ja)*Pa;for(Xa=0;Xa<sb;++Xa)Y=Ma[Xa],Y.x-=ib,Y.y-=Sb}var Ma,Pa=1;null==O&&(O=0);null==ja&&(ja=0);va.initialize=function(Xa){Ma=Xa};va.x=function(Xa){return arguments.length?
(O=+Xa,va):O};va.y=function(Xa){return arguments.length?(ja=+Xa,va):ja};va.strength=function(Xa){return arguments.length?(Pa=+Xa,va):Pa};return va},collide:function(O){function ja(){function Y(Bb,Ua,xb,Fb,Lb){var Zb=Bb.data;Bb=Bb.r;var ic=xc+Bb;if(Zb)Zb.index>ac.index&&(Ua=Mb-Zb.x-Zb.vx,xb=Ob-Zb.y-Zb.vy,Fb=Ua*Ua+xb*xb,Fb<ic*ic&&(0===Ua&&(Ua=1E-6*(sb()-.5),Fb+=Ua*Ua),0===xb&&(xb=1E-6*(sb()-.5),Fb+=xb*xb),Fb=(ic-(Fb=Math.sqrt(Fb)))/Fb*ib,ac.vx+=(Ua*=Fb)*(ic=(Bb*=Bb)/(hd+Bb)),ac.vy+=(xb*=Fb)*ic,Zb.vx-=
Ua*(ic=1-ic),Zb.vy-=xb*ic));else return Ua>Mb+ic||Fb<Mb-ic||xb>Ob+ic||Lb<Ob-ic}for(var Fa,Kb=Pa.length,pc,ac,Mb,Ob,xc,hd,ra=0;ra<Sb;++ra)for(pc=Wb(Pa,jc,Ea).visitAfter(va),Fa=0;Fa<Kb;++Fa)ac=Pa[Fa],xc=Xa[ac.index],hd=xc*xc,Mb=ac.x+ac.vx,Ob=ac.y+ac.vy,pc.visit(Y)}function va(Y){if(Y.data)return Y.r=Xa[Y.data.index];for(var Fa=Y.r=0;4>Fa;++Fa)Y[Fa]&&Y[Fa].r>Y.r&&(Y.r=Y[Fa].r)}function Ma(){if(Pa){var Y,Fa=Pa.length;Xa=Array(Fa);for(Y=0;Y<Fa;++Y){var Kb=Pa[Y];Xa[Kb.index]=+O(Kb,Y,Pa)}}}var Pa,Xa,sb,
ib=1,Sb=1;"function"!==typeof O&&(O=Ub(null==O?1:+O));ja.initialize=function(Y,Fa){Pa=Y;sb=Fa;Ma()};ja.iterations=function(Y){return arguments.length?(Sb=+Y,ja):Sb};ja.strength=function(Y){return arguments.length?(ib=+Y,ja):ib};ja.radius=function(Y){return arguments.length?(O="function"===typeof Y?Y:Ub(+Y),Ma(),ja):O};return ja},nbody:function(){function O(ac){var Mb=Pa.length,Ob=Wb(Pa,hb,Za).visitAfter(va);ib=ac;for(ac=0;ac<Mb;++ac)Xa=Pa[ac],Ob.visit(Ma)}function ja(){if(Pa){var ac,Mb=Pa.length;
Y=Array(Mb);for(ac=0;ac<Mb;++ac){var Ob=Pa[ac];Y[Ob.index]=+Sb(Ob,ac,Pa)}}}function va(ac){var Mb=0,Ob,xc,hd=0,ra,Bb,Ua;if(ac.length){for(ra=Bb=Ua=0;4>Ua;++Ua)(Ob=ac[Ua])&&(xc=Math.abs(Ob.value))&&(Mb+=Ob.value,hd+=xc,ra+=xc*Ob.x,Bb+=xc*Ob.y);ac.x=ra/hd;ac.y=Bb/hd}else{Ob=ac;Ob.x=Ob.data.x;Ob.y=Ob.data.y;do Mb+=Y[Ob.data.index];while(Ob=Ob.next)}ac.value=Mb}function Ma(ac,Mb,Ob,xc){if(!ac.value)return!0;Ob=ac.x-Xa.x;var hd=ac.y-Xa.y;Mb=xc-Mb;xc=Ob*Ob+hd*hd;if(Mb*Mb/pc<xc)return xc<Kb&&(0===Ob&&(Ob=
1E-6*(sb()-.5),xc+=Ob*Ob),0===hd&&(hd=1E-6*(sb()-.5),xc+=hd*hd),xc<Fa&&(xc=Math.sqrt(Fa*xc)),Xa.vx+=Ob*ac.value*ib/xc,Xa.vy+=hd*ac.value*ib/xc),!0;if(!(ac.length||xc>=Kb)){if(ac.data!==Xa||ac.next)0===Ob&&(Ob=1E-6*(sb()-.5),xc+=Ob*Ob),0===hd&&(hd=1E-6*(sb()-.5),xc+=hd*hd),xc<Fa&&(xc=Math.sqrt(Fa*xc));do ac.data!==Xa&&(Mb=Y[ac.data.index]*ib/xc,Xa.vx+=Ob*Mb,Xa.vy+=hd*Mb);while(ac=ac.next)}}var Pa,Xa,sb,ib,Sb=Ub(-30),Y,Fa=1,Kb=Infinity,pc=.81;O.initialize=function(ac,Mb){Pa=ac;sb=Mb;ja()};O.strength=
function(ac){return arguments.length?(Sb="function"===typeof ac?ac:Ub(+ac),ja(),O):Sb};O.distanceMin=function(ac){return arguments.length?(Fa=ac*ac,O):Math.sqrt(Fa)};O.distanceMax=function(ac){return arguments.length?(Kb=ac*ac,O):Math.sqrt(Kb)};O.theta=function(ac){return arguments.length?(pc=ac*ac,O):Math.sqrt(pc)};return O},link:function(O){function ja(Ob){for(var xc=0,hd=O.length;xc<Mb;++xc)for(var ra=0,Bb,Ua,xb,Fb,Lb;ra<hd;++ra)Bb=O[ra],Ua=Bb.source,Bb=Bb.target,xb=Bb.x+Bb.vx-Ua.x-Ua.vx||1E-6*
(ac()-.5),Fb=Bb.y+Bb.vy-Ua.y-Ua.vy||1E-6*(ac()-.5),Lb=Math.sqrt(xb*xb+Fb*Fb),Lb=(Lb-Y[ra])/Lb*Ob*ib[ra],xb*=Lb,Fb*=Lb,Bb.vx-=xb*(Lb=pc[ra]),Bb.vy-=Fb*Lb,Ua.vx+=xb*(Lb=1-Lb),Ua.vy+=Fb*Lb}function va(){if(Fa){var Ob=Fa.length,xc=O.length,hd=new Map(Fa.map((Bb,Ua)=>[Xa(Bb,Ua,Fa),Bb]));var ra=0;for(Kb=Array(Ob);ra<xc;++ra)Ob=O[ra],Ob.index=ra,"object"!==typeof Ob.source&&(Ob.source=tb(hd,Ob.source)),"object"!==typeof Ob.target&&(Ob.target=tb(hd,Ob.target)),Kb[Ob.source.index]=(Kb[Ob.source.index]||0)+
1,Kb[Ob.target.index]=(Kb[Ob.target.index]||0)+1;ra=0;for(pc=Array(xc);ra<xc;++ra)Ob=O[ra],pc[ra]=Kb[Ob.source.index]/(Kb[Ob.source.index]+Kb[Ob.target.index]);ib=Array(xc);Ma();Y=Array(xc);Pa()}}function Ma(){if(Fa)for(var Ob=0,xc=O.length;Ob<xc;++Ob)ib[Ob]=+sb(O[Ob],Ob,O)}function Pa(){if(Fa)for(var Ob=0,xc=O.length;Ob<xc;++Ob)Y[Ob]=+Sb(O[Ob],Ob,O)}var Xa=bb,sb=function(Ob){return 1/Math.min(Kb[Ob.source.index],Kb[Ob.target.index])},ib,Sb=Ub(30),Y,Fa,Kb,pc,ac,Mb=1;null==O&&(O=[]);ja.initialize=
function(Ob,xc){Fa=Ob;ac=xc;va()};ja.links=function(Ob){return arguments.length?(O=Ob,va(),ja):O};ja.id=function(Ob){return arguments.length?(Xa=Ob,ja):Xa};ja.iterations=function(Ob){return arguments.length?(Mb=+Ob,ja):Mb};ja.strength=function(Ob){return arguments.length?(sb="function"===typeof Ob?Ob:Ub(+Ob),Ma(),ja):sb};ja.distance=function(Ob){return arguments.length?(Sb="function"===typeof Ob?Ob:Ub(+Ob),Pa(),ja):Sb};return ja},x:function(O){function ja(ib){for(var Sb=0,Y=Pa.length,Fa;Sb<Y;++Sb)Fa=
Pa[Sb],Fa.vx+=(sb[Sb]-Fa.x)*Xa[Sb]*ib}function va(){if(Pa){var ib,Sb=Pa.length;Xa=Array(Sb);sb=Array(Sb);for(ib=0;ib<Sb;++ib)Xa[ib]=isNaN(sb[ib]=+O(Pa[ib],ib,Pa))?0:+Ma(Pa[ib],ib,Pa)}}var Ma=Ub(.1),Pa,Xa,sb;"function"!==typeof O&&(O=Ub(null==O?0:+O));ja.initialize=function(ib){Pa=ib;va()};ja.strength=function(ib){return arguments.length?(Ma="function"===typeof ib?ib:Ub(+ib),va(),ja):Ma};ja.x=function(ib){return arguments.length?(O="function"===typeof ib?ib:Ub(+ib),va(),ja):O};return ja},y:function(O){function ja(ib){for(var Sb=
0,Y=Pa.length,Fa;Sb<Y;++Sb)Fa=Pa[Sb],Fa.vy+=(sb[Sb]-Fa.y)*Xa[Sb]*ib}function va(){if(Pa){var ib,Sb=Pa.length;Xa=Array(Sb);sb=Array(Sb);for(ib=0;ib<Sb;++ib)Xa[ib]=isNaN(sb[ib]=+O(Pa[ib],ib,Pa))?0:+Ma(Pa[ib],ib,Pa)}}var Ma=Ub(.1),Pa,Xa,sb;"function"!==typeof O&&(O=Ub(null==O?0:+O));ja.initialize=function(ib){Pa=ib;va()};ja.strength=function(ib){return arguments.length?(Ma="function"===typeof ib?ib:Ub(+ib),va(),ja):Ma};ja.y=function(ib){return arguments.length?(O="function"===typeof ib?ib:Ub(+ib),va(),
ja):O};return ja}},F=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],W=["static","iterations"],ta=["x","y","vx","vy"];Nb.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number","default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},
{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30,expr:!0},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",
type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number","default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":ta}]};ia.inherits(Nb,
h.Transform,{transform(O,ja){var va=this.value,Ma=ja.changed(ja.ADD_REM),Pa=O.modified(F),Xa=O.iterations||300;va?(Ma&&(ja.modifies("index"),va.nodes(ja.source)),(Pa||ja.changed(ja.MOD))&&N(va,O,0,ja)):(this.value=va=V(ja.source,O),va.on("tick",$a(ja.dataflow,this)),O.static||(Ma=!0,va.tick()),ja.modifies("index"));if(Pa||Ma||O.modified(W)||ja.changed()&&O.restart)if(va.alpha(Math.max(va.alpha(),O.alpha||1)).alphaDecay(1-Math.pow(va.alphaMin(),1/Xa)),O.static)for(va.stop();0<=--Xa;)va.tick();else if(va.stopped()&&
va.restart(),!Ma)return ja.StopPropagation;return this.finish(O,ja)},finish(O,ja){const va=ja.dataflow;for(let ib=this._argops,Sb=0,Y=ib.length,Fa;Sb<Y;++Sb)if(Fa=ib[Sb],"forces"===Fa.name&&"link"===Fa.op._argval.force)for(var Ma=Fa.op._argops,Pa=0,Xa=Ma.length,sb;Pa<Xa;++Pa)if("links"===Ma[Pa].name&&(sb=Ma[Pa].op.source)){va.pulse(sb,va.changeset().reflow());break}return ja.reflow(O.modified()).modifies(ta)}});t.force=Nb})};
shadow$provide[40]=function(Db,nb,Dc,Wa){(function(t,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,nb(29),nb(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega,t.vega))})(this,function(t,h,ia){function Ya(ra,Bb,Ua){const xb={};ra.each(Fb=>{const Lb=Fb.data;Ua(Lb)&&(xb[Bb(Lb)]=Fb)});ra.lookup=xb;return ra}function ub(ra,Bb){return ra.parent===Bb.parent?1:2}function Yb(ra,Bb){return ra+
Bb.x}function dc(ra,Bb){return Math.max(ra,Bb.y)}function Wb(ra){for(var Bb;Bb=ra.children;)ra=Bb[0];return ra}function nc(ra){for(var Bb;Bb=ra.children;)ra=Bb[Bb.length-1];return ra}function Ab(ra){var Bb=0,Ua=ra.children,xb=Ua&&Ua.length;if(xb)for(;0<=--xb;)Bb+=Ua[xb].value;else Bb=1;ra.value=Bb}function Ub(ra,Bb){ra instanceof Map?(ra=[void 0,ra],void 0===Bb&&(Bb=Ea)):void 0===Bb&&(Bb=jc);ra=new rb(ra);for(var Ua,xb=[ra],Fb,Lb,Zb,ic;Ua=xb.pop();)if((Lb=Bb(Ua.data))&&(ic=(Lb=Array.from(Lb)).length))for(Ua.children=
Lb,Zb=ic-1;0<=Zb;--Zb)xb.push(Fb=Lb[Zb]=new rb(Lb[Zb])),Fb.parent=Ua,Fb.depth=Ua.depth+1;return ra.eachBefore(tb)}function jc(ra){return ra.children}function Ea(ra){return Array.isArray(ra)?ra[1]:null}function bb(ra){void 0!==ra.data.value&&(ra.value=ra.data.value);ra.data=ra.data.data}function tb(ra){var Bb=0;do ra.height=Bb;while((ra=ra.parent)&&ra.height<++Bb)}function rb(ra){this.data=ra;this.depth=this.height=0;this.parent=null}function pb(ra){if("function"!==typeof ra)throw Error();return ra}
function vb(){return 0}function gb(ra){return function(){return ra}}function fc(){let ra=1;return()=>(ra=(1664525*ra+1013904223)%4294967296)/4294967296}function sa(ra,Bb){var Ua=ra.r-Bb.r,xb=Bb.x-ra.x;ra=Bb.y-ra.y;return 0>Ua||Ua*Ua<xb*xb+ra*ra}function ha(ra,Bb){var Ua=ra.r-Bb.r+1E-9*Math.max(ra.r,Bb.r,1),xb=Bb.x-ra.x;ra=Bb.y-ra.y;return 0<Ua&&Ua*Ua>xb*xb+ra*ra}function Ba(ra,Bb){for(var Ua=0;Ua<Bb.length;++Ua)if(!ha(ra,Bb[Ua]))return!1;return!0}function Sa(ra,Bb){var Ua=ra.x,xb=ra.y;ra=ra.r;var Fb=
Bb.x,Lb=Bb.y;Bb=Bb.r;var Zb=Fb-Ua,ic=Lb-xb,Ac=Bb-ra,nd=Math.sqrt(Zb*Zb+ic*ic);return{x:(Ua+Fb+Zb/nd*Ac)/2,y:(xb+Lb+ic/nd*Ac)/2,r:(nd+ra+Bb)/2}}function Va(ra,Bb,Ua){var xb=ra.x,Fb=ra.y;ra=ra.r;var Lb=Bb.x,Zb=Bb.y,ic=Bb.r,Ac=Ua.x,nd=Ua.y,Uc=Ua.r;Ua=xb-Lb;Bb=xb-Ac;var ma=Fb-Zb,Ha=Fb-nd,fb=ic-ra,S=Uc-ra,r=xb*xb+Fb*Fb-ra*ra;Zb=r-Lb*Lb-Zb*Zb+ic*ic;nd=r-Ac*Ac-nd*nd+Uc*Uc;Ac=Bb*ma-Ua*Ha;Lb=(ma*nd-Ha*Zb)/(2*Ac)-xb;ma=(Ha*fb-ma*S)/Ac;Ha=(Bb*Zb-Ua*nd)/(2*Ac)-Fb;Ua=(Ua*S-Bb*fb)/Ac;Bb=ma*ma+Ua*Ua-1;fb=2*(ra+
Lb*ma+Ha*Ua);ra=Lb*Lb+Ha*Ha-ra*ra;ra=-(1E-6<Math.abs(Bb)?(fb+Math.sqrt(fb*fb-4*Bb*ra))/(2*Bb):ra/fb);return{x:xb+Lb+ma*ra,y:Fb+Ha+Ua*ra,r:ra}}function Ia(ra,Bb,Ua){var xb=ra.x-Bb.x,Fb=ra.y-Bb.y,Lb=xb*xb+Fb*Fb;if(Lb){var Zb=Bb.r+Ua.r;Zb*=Zb;var ic=ra.r+Ua.r;ic*=ic;if(Zb>ic){var Ac=(Lb+ic-Zb)/(2*Lb);Zb=Math.sqrt(Math.max(0,ic/Lb-Ac*Ac));Ua.x=ra.x-Ac*xb-Zb*Fb;Ua.y=ra.y-Ac*Fb+Zb*xb}else Ac=(Lb+Zb-ic)/(2*Lb),Zb=Math.sqrt(Math.max(0,Zb/Lb-Ac*Ac)),Ua.x=Bb.x+Ac*xb-Zb*Fb,Ua.y=Bb.y+Ac*Fb+Zb*xb}else Ua.x=Bb.x+
Ua.r,Ua.y=Bb.y}function hb(ra,Bb){var Ua=ra.r+Bb.r-1E-6,xb=Bb.x-ra.x;ra=Bb.y-ra.y;return 0<Ua&&Ua*Ua>xb*xb+ra*ra}function Za(ra){var Bb=ra._,Ua=ra.next._,xb=Bb.r+Ua.r;ra=(Bb.x*Ua.r+Ua.x*Bb.r)/xb;Bb=(Bb.y*Ua.r+Ua.y*Bb.r)/xb;return ra*ra+Bb*Bb}function qb(ra){this._=ra;this.previous=this.next=null}function Nb(ra,Bb){if(!(xb=(ra="object"===typeof ra&&"length"in ra?ra:Array.from(ra)).length))return 0;var Ua,xb;var Fb=ra[0];Fb.x=0;Fb.y=0;if(!(1<xb))return Fb.r;var Lb=ra[1];Fb.x=-Lb.r;Lb.x=Fb.r;Lb.y=0;
if(!(2<xb))return Fb.r+Lb.r;Ia(Lb,Fb,Ua=ra[2]);Fb=new qb(Fb);Lb=new qb(Lb);Ua=new qb(Ua);Fb.next=Ua.previous=Lb;Lb.next=Fb.previous=Ua;Ua.next=Lb.previous=Fb;var Zb=3;a:for(;Zb<xb;++Zb){Ia(Fb._,Lb._,Ua=ra[Zb]);Ua=new qb(Ua);var ic=Lb.next;var Ac=Fb.previous;var nd=Lb._.r;var Uc=Fb._.r;do if(nd<=Uc){if(hb(ic._,Ua._)){Lb=ic;Fb.next=Lb;Lb.previous=Fb;--Zb;continue a}nd+=ic._.r;ic=ic.next}else{if(hb(Ac._,Ua._)){Fb=Ac;Fb.next=Lb;Lb.previous=Fb;--Zb;continue a}Uc+=Ac._.r;Ac=Ac.previous}while(ic!==Ac.next);
Ua.previous=Fb;Ua.next=Lb;Fb.next=Lb.previous=Lb=Ua;for(ic=Za(Fb);(Ua=Ua.next)!==Lb;)(Ac=Za(Ua))<ic&&(Fb=Ua,ic=Ac);Lb=Fb.next}Fb=[Lb._];for(Ua=Lb;(Ua=Ua.next)!==Lb;)Fb.push(Ua._);Lb=0;Fb=Array.from(Fb);for(Ua=Fb.length;Ua;)ic=Bb()*Ua--|0,Zb=Fb[Ua],Fb[Ua]=Fb[ic],Fb[ic]=Zb;Fb=(Bb=Fb).length;Ua=[];for(var ma;Lb<Fb;)if(Zb=Bb[Lb],ma&&ha(ma,Zb))++Lb;else{a:if(ma=Ua,Ba(Zb,ma))ma=[Zb];else{for(Ua=0;Ua<ma.length;++Ua)if(sa(Zb,ma[Ua])&&Ba(Sa(ma[Ua],Zb),ma)){ma=[ma[Ua],Zb];break a}for(Ua=0;Ua<ma.length-1;++Ua)for(Lb=
Ua+1;Lb<ma.length;++Lb)if(sa(Sa(ma[Ua],ma[Lb]),Zb)&&sa(Sa(ma[Ua],Zb),ma[Lb])&&sa(Sa(ma[Lb],Zb),ma[Ua])&&Ba(Va(ma[Ua],ma[Lb],Zb),ma)){ma=[ma[Ua],ma[Lb],Zb];break a}throw Error();}a:{ma=Ua=ma;switch(ma.length){case 1:ma=ma[0];ma={x:ma.x,y:ma.y,r:ma.r};break a;case 2:ma=Sa(ma[0],ma[1]);break a;case 3:ma=Va(ma[0],ma[1],ma[2]);break a}ma=void 0}Lb=0}Ua=ma;for(Zb=0;Zb<xb;++Zb)Fb=ra[Zb],Fb.x-=Ua.x,Fb.y-=Ua.y;return Ua.r}function $a(ra){return Math.sqrt(ra.value)}function V(ra){return function(Bb){Bb.children||
(Bb.r=Math.max(0,+ra(Bb)||0))}}function N(ra,Bb,Ua){return function(xb){if(Fb=xb.children){var Fb,Lb,Zb=Fb.length,ic=ra(xb)*Bb||0;if(ic)for(Lb=0;Lb<Zb;++Lb)Fb[Lb].r+=ic;var Ac=Nb(Fb,Ua);if(ic)for(Lb=0;Lb<Zb;++Lb)Fb[Lb].r-=ic;xb.r=Ac+ic}}}function na(ra){return function(Bb){var Ua=Bb.parent;Bb.r*=ra;Ua&&(Bb.x=Ua.x+ra*Bb.x,Bb.y=Ua.y+ra*Bb.y)}}function oa(ra){ra.x0=Math.round(ra.x0);ra.y0=Math.round(ra.y0);ra.x1=Math.round(ra.x1);ra.y1=Math.round(ra.y1)}function Na(ra,Bb,Ua,xb,Fb){var Lb=ra.children,
Zb=-1,ic=Lb.length;for(xb=ra.value&&(xb-Bb)/ra.value;++Zb<ic;)ra=Lb[Zb],ra.y0=Ua,ra.y1=Fb,ra.x0=Bb,ra.x1=Bb+=ra.value*xb}function la(ra){return ra.id}function qa(ra){return ra.parentId}function l(){function ra(Fb){var Lb=Array.from(Fb),Zb=Bb,ic=Ua,Ac,nd,Uc=new Map;if(null!=xb){const da=Lb.map((Da,Oa)=>{Da=xb(Da,Oa,Fb);Da=`${Da}`;Oa=Da.length;K(Da,Oa-1)&&!K(Da,Oa-2)&&(Da=Da.slice(0,-1));return"/"===Da[0]?Da:`/${Da}`}),za=da.map(D);Zb=(new Set(da)).add("");for(fb of za)Zb.has(fb)||(Zb.add(fb),da.push(fb),
za.push(D(fb)),Lb.push(Fa));Zb=(Da,Oa)=>da[Oa];ic=(Da,Oa)=>za[Oa]}var ma=0;for(Ac=Lb.length;ma<Ac;++ma){var Ha=Lb[ma];var fb=Lb[ma]=new rb(Ha);if(null!=(nd=Zb(Ha,ma,Fb))&&(nd+="")){var S=fb.id=nd;Uc.set(S,Uc.has(S)?Y:fb)}null!=(nd=ic(Ha,ma,Fb))&&(nd+="")&&(fb.parent=nd)}for(ma=0;ma<Ac;++ma)if(fb=Lb[ma],nd=fb.parent){Zb=Uc.get(nd);if(!Zb)throw Error("missing: "+nd);if(Zb===Y)throw Error("ambiguous: "+nd);Zb.children?Zb.children.push(fb):Zb.children=[fb];fb.parent=Zb}else{if(r)throw Error("multiple roots");
var r=fb}if(!r)throw Error("no root");if(null!=xb){for(;r.data===Fa&&1===r.children.length;)r=r.children[0],--Ac;for(nd=Lb.length-1;0<=nd;--nd){fb=Lb[nd];if(fb.data!==Fa)break;fb.data=null}}r.parent=Sb;r.eachBefore(function(da){da.depth=da.parent.depth+1;--Ac}).eachBefore(tb);r.parent=null;if(0<Ac)throw Error("cycle");return r}var Bb=la,Ua=qa,xb;ra.id=function(Fb){return arguments.length?(Bb=null==Fb?null:pb(Fb),ra):Bb};ra.parentId=function(Fb){return arguments.length?(Ua=null==Fb?null:pb(Fb),ra):
Ua};ra.path=function(Fb){return arguments.length?(xb=null==Fb?null:pb(Fb),ra):xb};return ra}function D(ra){let Bb=ra.length;if(2>Bb)return"";for(;1<--Bb&&!K(ra,Bb););return ra.slice(0,Bb)}function K(ra,Bb){if("/"===ra[Bb]){let Ua=0;for(;0<Bb&&"\\"===ra[--Bb];)++Ua;if(0===(Ua&1))return!0}return!1}function x(ra,Bb){return ra.parent===Bb.parent?1:2}function U(ra){var Bb=ra.children;return Bb?Bb[0]:ra.t}function A(ra){var Bb=ra.children;return Bb?Bb[Bb.length-1]:ra.t}function X(ra,Bb){this._=ra;this.A=
this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=Bb}function G(ra){ra=new X(ra,0);for(var Bb,Ua=[ra],xb,Fb,Lb;Bb=Ua.pop();)if(Fb=Bb._.children)for(Bb.children=Array(xb=Fb.length),Lb=xb-1;0<=Lb;--Lb)Ua.push(xb=Bb.children[Lb]=new X(Fb[Lb],Lb)),xb.parent=Bb;(ra.parent=new X(null,0)).children=[ra];return ra}function v(ra,Bb,Ua,xb,Fb){var Lb=ra.children,Zb=-1,ic=Lb.length;for(Fb=ra.value&&(Fb-Ua)/ra.value;++Zb<ic;)ra=Lb[Zb],ra.x0=Bb,ra.x1=xb,ra.y0=Ua,ra.y1=Ua+=
ra.value*Fb}function z(ra,Bb,Ua,xb,Fb,Lb){for(var Zb=[],ic=Bb.children,Ac,nd,Uc=Ac=0,ma=ic.length,Ha,fb=Bb.value,S,r,da,za,Da,Oa;Ac<ma;){Bb=Fb-Ua;Ha=Lb-xb;do S=ic[Uc++].value;while(!S&&Uc<ma);r=da=S;Oa=Math.max(Ha/Bb,Bb/Ha)/(fb*ra);za=S*S*Oa;for(Da=Math.max(da/za,za/r);Uc<ma;++Uc){S+=nd=ic[Uc].value;nd<r&&(r=nd);nd>da&&(da=nd);za=S*S*Oa;za=Math.max(da/za,za/r);if(za>Da){S-=nd;break}Da=za}Zb.push(Ac={value:S,dice:Bb<Ha,children:ic.slice(Ac,Uc)});Ac.dice?Na(Ac,Ua,xb,Fb,fb?xb+=Ha*S/fb:Lb):v(Ac,Ua,xb,
fb?Ua+=Bb*S/fb:Fb,Lb);fb-=S;Ac=Uc}return Zb}function F(){function ra(Ha){Ha.x0=Ha.y0=0;Ha.x1=Fb;Ha.y1=Lb;Ha.eachBefore(Bb);Zb=[0];xb&&Ha.eachBefore(oa);return Ha}function Bb(Ha){var fb=Zb[Ha.depth],S=Ha.x0+fb,r=Ha.y0+fb,da=Ha.x1-fb,za=Ha.y1-fb;da<S&&(S=da=(S+da)/2);za<r&&(r=za=(r+za)/2);Ha.x0=S;Ha.y0=r;Ha.x1=da;Ha.y1=za;Ha.children&&(fb=Zb[Ha.depth+1]=ic(Ha)/2,S+=ma(Ha)-fb,r+=Ac(Ha)-fb,da-=nd(Ha)-fb,za-=Uc(Ha)-fb,da<S&&(S=da=(S+da)/2),za<r&&(r=za=(r+za)/2),Ua(Ha,S,r,da,za))}var Ua=pc,xb=!1,Fb=1,Lb=
1,Zb=[0],ic=vb,Ac=vb,nd=vb,Uc=vb,ma=vb;ra.round=function(Ha){return arguments.length?(xb=!!Ha,ra):xb};ra.size=function(Ha){return arguments.length?(Fb=+Ha[0],Lb=+Ha[1],ra):[Fb,Lb]};ra.tile=function(Ha){return arguments.length?(Ua=pb(Ha),ra):Ua};ra.padding=function(Ha){return arguments.length?ra.paddingInner(Ha).paddingOuter(Ha):ra.paddingInner()};ra.paddingInner=function(Ha){return arguments.length?(ic="function"===typeof Ha?Ha:gb(+Ha),ra):ic};ra.paddingOuter=function(Ha){return arguments.length?
ra.paddingTop(Ha).paddingRight(Ha).paddingBottom(Ha).paddingLeft(Ha):ra.paddingTop()};ra.paddingTop=function(Ha){return arguments.length?(Ac="function"===typeof Ha?Ha:gb(+Ha),ra):Ac};ra.paddingRight=function(Ha){return arguments.length?(nd="function"===typeof Ha?Ha:gb(+Ha),ra):nd};ra.paddingBottom=function(Ha){return arguments.length?(Uc="function"===typeof Ha?Ha:gb(+Ha),ra):Uc};ra.paddingLeft=function(Ha){return arguments.length?(ma="function"===typeof Ha?Ha:gb(+Ha),ra):ma};return ra}function W(ra){h.Transform.call(this,
null,ra)}function ta(){function ra(Fb,Lb){if(Lb>=Ua.length)return Fb;const Zb=Fb.length,ic=Ua[Lb++],Ac={},nd={};let Uc=-1,ma,Ha,fb;for(;++Uc<Zb;)ma=ic(Ha=Fb[Uc])+"",(fb=Ac[ma])?fb.push(Ha):Ac[ma]=[Ha];for(ma in Ac)nd[ma]=ra(Ac[ma],Lb);return nd}function Bb(Fb,Lb){if(++Lb>Ua.length)return Fb;const Zb=[];for(const ic in Fb)Zb.push({key:ic,values:Bb(Fb[ic],Lb)});return Zb}const Ua=[],xb={entries:Fb=>Bb(ra(Fb,0),0),key:Fb=>(Ua.push(Fb),xb)};return xb}function O(ra){h.Transform.call(this,null,ra)}function ja(ra,
Bb,Ua){for(let xb,Fb=0,Lb=Bb.length;Fb<Lb;++Fb)if(xb=Bb[Fb],xb in Ua)ra[xb](Ua[xb])}function va(ra){O.call(this,ra)}function Ma(ra){O.call(this,ra)}function Pa(ra){h.Transform.call(this,null,ra)}function Xa(ra){O.call(this,ra)}function sb(ra){h.Transform.call(this,[],ra)}function ib(ra){O.call(this,ra)}rb.prototype=Ub.prototype={constructor:rb,count:function(){return this.eachAfter(Ab)},each:function(ra,Bb){let Ua=-1;for(const xb of this)ra.call(Bb,xb,++Ua,this);return this},eachAfter:function(ra,
Bb){for(var Ua,xb=[this],Fb=[],Lb,Zb,ic=-1;Ua=xb.pop();)if(Fb.push(Ua),Ua=Ua.children)for(Lb=0,Zb=Ua.length;Lb<Zb;++Lb)xb.push(Ua[Lb]);for(;Ua=Fb.pop();)ra.call(Bb,Ua,++ic,this);return this},eachBefore:function(ra,Bb){for(var Ua,xb=[this],Fb,Lb=-1;Ua=xb.pop();)if(ra.call(Bb,Ua,++Lb,this),Ua=Ua.children)for(Fb=Ua.length-1;0<=Fb;--Fb)xb.push(Ua[Fb]);return this},find:function(ra,Bb){let Ua=-1;for(const xb of this)if(ra.call(Bb,xb,++Ua,this))return xb},sum:function(ra){return this.eachAfter(function(Bb){for(var Ua=
+ra(Bb.data)||0,xb=Bb.children,Fb=xb&&xb.length;0<=--Fb;)Ua+=xb[Fb].value;Bb.value=Ua})},sort:function(ra){return this.eachBefore(function(Bb){Bb.children&&Bb.children.sort(ra)})},path:function(ra){var Bb=this;var Ua=Bb;var xb=ra;if(Ua!==xb){var Fb=Ua.ancestors(),Lb=xb.ancestors(),Zb=null;Ua=Fb.pop();for(xb=Lb.pop();Ua===xb;)Zb=Ua,Ua=Fb.pop(),xb=Lb.pop();Ua=Zb}for(xb=[Bb];Bb!==Ua;)Bb=Bb.parent,xb.push(Bb);for(Bb=xb.length;ra!==Ua;)xb.splice(Bb,0,ra),ra=ra.parent;return xb},ancestors:function(){for(var ra=
this,Bb=[ra];ra=ra.parent;)Bb.push(ra);return Bb},descendants:function(){return Array.from(this)},leaves:function(){var ra=[];this.eachBefore(function(Bb){Bb.children||ra.push(Bb)});return ra},links:function(){var ra=this,Bb=[];ra.each(function(Ua){Ua!==ra&&Bb.push({source:Ua.parent,target:Ua})});return Bb},copy:function(){return Ub(this).eachBefore(bb)},[Symbol.iterator]:function*(){var ra,Bb=[this],Ua;do{var xb=Bb.reverse();for(Bb=[];ra=xb.pop();)if(yield ra,ra=ra.children){var Fb=0;for(Ua=ra.length;Fb<
Ua;++Fb)Bb.push(ra[Fb])}}while(Bb.length)}};var Sb={depth:-1},Y={},Fa={};X.prototype=Object.create(rb.prototype);var Kb=(1+Math.sqrt(5))/2,pc=function Ua(Bb){function xb(Fb,Lb,Zb,ic,Ac){z(Bb,Fb,Lb,Zb,ic,Ac)}xb.ratio=function(Fb){return Ua(1<(Fb=+Fb)?Fb:1)};return xb}(Kb);Kb=function xb(Ua){function Fb(Lb,Zb,ic,Ac,nd){if((Uc=Lb._squarify)&&Uc.ratio===Ua)for(var Uc,ma,Ha,fb=-1,S,r=Uc.length,da=Lb.value;++fb<r;){Lb=Uc[fb];ma=Lb.children;Ha=Lb.value=0;for(S=ma.length;Ha<S;++Ha)Lb.value+=ma[Ha].value;
Lb.dice?Na(Lb,Zb,ic,Ac,da?ic+=(nd-ic)*Lb.value/da:nd):v(Lb,Zb,ic,da?Zb+=(Ac-Zb)*Lb.value/da:Ac,nd);da-=Lb.value}else Lb._squarify=Uc=z(Ua,Lb,Zb,ic,Ac,nd),Uc.ratio=Ua}Fb.ratio=function(Lb){return xb(1<(Lb=+Lb)?Lb:1)};return Fb}(Kb);W.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const ac=Ua=>Ua.values;ia.inherits(W,h.Transform,{transform(Ua,xb){xb.source||ia.error("Nest transform requires an upstream data source.");
var Fb=Ua.generate,Lb=Ua.modified(),Zb=xb.clone(),ic=this.value;if(!ic||Lb||xb.changed())ic&&ic.each(Ac=>{Ac.children&&h.isTuple(Ac.data)&&Zb.rem.push(Ac.data)}),this.value=ic=Ub({values:ia.array(Ua.keys).reduce((Ac,nd)=>{Ac.key(nd);return Ac},ta()).entries(Zb.source)},ac),Fb&&ic.each(Ac=>{Ac.children&&(Ac=h.ingest(Ac.data),Zb.add.push(Ac),Zb.source.push(Ac))}),Ya(ic,h.tupleid,h.tupleid);Zb.source.root=ic;return Zb}});const Mb=(Ua,xb)=>Ua.parent===xb.parent?1:2;ia.inherits(O,h.Transform,{transform(Ua,
xb){xb.source&&xb.source.root||ia.error(this.constructor.name+" transform requires a backing tree data source.");const Fb=this.layout(Ua.method),Lb=this.fields,Zb=xb.source.root,ic=Ua.as||Lb;Ua.field?Zb.sum(Ua.field):Zb.count();Ua.sort&&Zb.sort(h.stableCompare(Ua.sort,Ac=>Ac.data));ja(Fb,this.params,Ua);Fb.separation&&Fb.separation(!1!==Ua.separation?Mb:ia.one);try{this.value=Fb(Zb)}catch(Ac){ia.error(Ac)}Zb.each(Ac=>{const nd=Ac.data,Uc=Lb.length-1;for(let ma=0;ma<Uc;++ma)nd[ic[ma]]=Ac[Lb[ma]];nd[ic[Uc]]=
Ac.children?Ac.children.length:0});return xb.reflow(Ua.modified()).modifies(ic).modifies("leaf")}});var Ob=["x","y","r","depth","children"];va.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Ob.length,"default":Ob}]};ia.inherits(va,O,{layout:function(){function Ua(ic){const Ac=
fc();ic.x=Fb/2;ic.y=Lb/2;xb?ic.eachBefore(V(xb)).eachAfter(N(Zb,.5,Ac)).eachBefore(na(1)):ic.eachBefore(V($a)).eachAfter(N(vb,1,Ac)).eachAfter(N(Zb,ic.r/Math.min(Fb,Lb),Ac)).eachBefore(na(Math.min(Fb,Lb)/(2*ic.r)));return ic}var xb=null,Fb=1,Lb=1,Zb=vb;Ua.radius=function(ic){return arguments.length?(xb=null==ic?null:pb(ic),Ua):xb};Ua.size=function(ic){return arguments.length?(Fb=+ic[0],Lb=+ic[1],Ua):[Fb,Lb]};Ua.padding=function(ic){return arguments.length?(Zb="function"===typeof ic?ic:gb(+ic),Ua):
Zb};return Ua},params:["radius","size","padding"],fields:Ob});Ob="x0 y0 x1 y1 depth children".split(" ");Ma.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Ob.length,"default":Ob}]};ia.inherits(Ma,O,{layout:function(){function Ua(Ac){var nd=Ac.height+
1;Ac.x0=Ac.y0=Zb;Ac.x1=Fb;Ac.y1=Lb/nd;Ac.eachBefore(xb(Lb,nd));ic&&Ac.eachBefore(oa);return Ac}function xb(Ac,nd){return function(Uc){Uc.children&&Na(Uc,Uc.x0,Ac*(Uc.depth+1)/nd,Uc.x1,Ac*(Uc.depth+2)/nd);var ma=Uc.x0,Ha=Uc.y0,fb=Uc.x1-Zb,S=Uc.y1-Zb;fb<ma&&(ma=fb=(ma+fb)/2);S<Ha&&(Ha=S=(Ha+S)/2);Uc.x0=ma;Uc.y0=Ha;Uc.x1=fb;Uc.y1=S}}var Fb=1,Lb=1,Zb=0,ic=!1;Ua.round=function(Ac){return arguments.length?(ic=!!Ac,Ua):ic};Ua.size=function(Ac){return arguments.length?(Fb=+Ac[0],Lb=+Ac[1],Ua):[Fb,Lb]};Ua.padding=
function(Ac){return arguments.length?(Zb=+Ac,Ua):Zb};return Ua},params:["size","round","padding"],fields:Ob});Pa.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};ia.inherits(Pa,h.Transform,{transform(Ua,xb){xb.source||ia.error("Stratify transform requires an upstream data source.");let Fb=this.value;const Lb=Ua.modified(),Zb=xb.fork(xb.ALL).materialize(xb.SOURCE);xb=!Fb||Lb||xb.changed(xb.ADD_REM)||xb.modified(Ua.key.fields)||
xb.modified(Ua.parentKey.fields);Zb.source=Zb.source.slice();xb&&(Fb=Zb.source.length?Ya(l().id(Ua.key).parentId(Ua.parentKey)(Zb.source),Ua.key,ia.truthy):Ya(l()([{}]),Ua.key,Ua.key));Zb.source.root=this.value=Fb;return Zb}});const xc={tidy:function(){function Ua(Uc){var ma=G(Uc);ma.eachAfter(xb);ma.parent.m=-ma.z;ma.eachBefore(Fb);if(nd)Uc.eachBefore(Lb);else{var Ha=Uc,fb=Uc,S=Uc;Uc.eachBefore(function(Da){Da.x<Ha.x&&(Ha=Da);Da.x>fb.x&&(fb=Da);Da.depth>S.depth&&(S=Da)});ma=Ha===fb?1:Zb(Ha,fb)/2;
var r=ma-Ha.x,da=ic/(fb.x+ma+r),za=Ac/(S.depth||1);Uc.eachBefore(function(Da){Da.x=(Da.x+r)*da;Da.y=Da.depth*za})}return Uc}function xb(Uc){var ma=Uc.children,Ha=Uc.parent.children,fb=Uc.i?Ha[Uc.i-1]:null;if(ma){for(var S=0,r=0,da=Uc.children,za=da.length,Da;0<=--za;)Da=da[za],Da.z+=S,Da.m+=S,S+=Da.s+(r+=Da.c);ma=(ma[0].z+ma[ma.length-1].z)/2;fb?(Uc.z=fb.z+Zb(Uc._,fb._),Uc.m=Uc.z-ma):Uc.z=ma}else fb&&(Uc.z=fb.z+Zb(Uc._,fb._));ma=Uc.parent;Ha=Uc.parent.A||Ha[0];if(fb){r=S=Uc;da=S.parent.children[0];
za=S.m;Da=r.m;for(var Oa=fb.m,kb=da.m,Vb;fb=A(fb),S=U(S),fb&&S;){da=U(da);r=A(r);r.a=Uc;Vb=fb.z+Oa-S.z-za+Zb(fb._,S._);if(0<Vb){var Eb=fb.a.parent===Uc.parent?fb.a:Ha,Hb=Uc,Cc=Vb,Hc=Cc/(Hb.i-Eb.i);Hb.c-=Hc;Hb.s+=Cc;Eb.c+=Hc;Hb.z+=Cc;Hb.m+=Cc;za+=Vb;Da+=Vb}Oa+=fb.m;za+=S.m;kb+=da.m;Da+=r.m}fb&&!A(r)&&(r.t=fb,r.m+=Oa-Da);S&&!U(da)&&(da.t=S,da.m+=za-kb,Ha=Uc)}ma.A=Ha}function Fb(Uc){Uc._.x=Uc.z+Uc.parent.m;Uc.m+=Uc.parent.m}function Lb(Uc){Uc.x*=ic;Uc.y=Uc.depth*Ac}var Zb=x,ic=1,Ac=1,nd=null;Ua.separation=
function(Uc){return arguments.length?(Zb=Uc,Ua):Zb};Ua.size=function(Uc){return arguments.length?(nd=!1,ic=+Uc[0],Ac=+Uc[1],Ua):nd?null:[ic,Ac]};Ua.nodeSize=function(Uc){return arguments.length?(nd=!0,ic=+Uc[0],Ac=+Uc[1],Ua):nd?[ic,Ac]:null};return Ua},cluster:function(){function Ua(ic){var Ac,nd=0;ic.eachAfter(function(S){var r=S.children;if(r){var da=r.reduce(Yb,0)/r.length;S.x=da;S.y=1+r.reduce(dc,0)}else S.x=Ac?nd+=xb(S,Ac):0,S.y=0,Ac=S});var Uc=Wb(ic),ma=nc(ic),Ha=Uc.x-xb(Uc,ma)/2,fb=ma.x+xb(ma,
Uc)/2;return ic.eachAfter(Zb?function(S){S.x=(S.x-ic.x)*Fb;S.y=(ic.y-S.y)*Lb}:function(S){S.x=(S.x-Ha)/(fb-Ha)*Fb;S.y=(1-(ic.y?S.y/ic.y:1))*Lb})}var xb=ub,Fb=1,Lb=1,Zb=!1;Ua.separation=function(ic){return arguments.length?(xb=ic,Ua):xb};Ua.size=function(ic){return arguments.length?(Zb=!1,Fb=+ic[0],Lb=+ic[1],Ua):Zb?null:[Fb,Lb]};Ua.nodeSize=function(ic){return arguments.length?(Zb=!0,Fb=+ic[0],Lb=+ic[1],Ua):Zb?[Fb,Lb]:null};return Ua}};Ob=["x","y","depth","children"];Xa.Definition={type:"Tree",metadata:{tree:!0,
modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:Ob.length,"default":Ob}]};ia.inherits(Xa,O,{layout(Ua){Ua=Ua||"tidy";if(ia.hasOwnProperty(xc,Ua))return xc[Ua]();ia.error("Unrecognized Tree layout method: "+Ua)},params:["size",
"nodeSize"],fields:Ob});sb.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};ia.inherits(sb,h.Transform,{transform(Ua,xb){Ua=this.value;const Fb=xb.source&&xb.source.root,Lb=xb.fork(xb.NO_SOURCE),Zb={};Fb||ia.error("TreeLinks transform requires a tree data source.");xb.changed(xb.ADD_REM)?(Lb.rem=Ua,xb.visit(xb.SOURCE,ic=>Zb[h.tupleid(ic)]=1),Fb.each(ic=>{const Ac=ic.data;(ic=ic.parent&&ic.parent.data)&&Zb[h.tupleid(Ac)]&&Zb[h.tupleid(ic)]&&Lb.add.push(h.ingest({source:ic,
target:Ac}))}),this.value=Lb.add):xb.changed(xb.MOD)&&(xb.visit(xb.MOD,ic=>Zb[h.tupleid(ic)]=1),Ua.forEach(ic=>{(Zb[h.tupleid(ic.source)]||Zb[h.tupleid(ic.target)])&&Lb.mod.push(ic)}));return Lb}});const hd={binary:function(Ua,xb,Fb,Lb,Zb){function ic(fb,S,r,da,za,Da,Oa){if(fb>=S-1)fb=Ac[fb],fb.x0=da,fb.y0=za,fb.x1=Da,fb.y1=Oa;else{for(var kb=Ha[fb],Vb=r/2+kb,Eb=fb+1,Hb=S-1;Eb<Hb;){var Cc=Eb+Hb>>>1;Ha[Cc]<Vb?Eb=Cc+1:Hb=Cc}Vb-Ha[Eb-1]<Ha[Eb]-Vb&&fb+1<Eb&&--Eb;kb=Ha[Eb]-kb;Vb=r-kb;Da-da>Oa-za?(r=r?
(da*Vb+Da*kb)/r:Da,ic(fb,Eb,kb,da,za,r,Oa),ic(Eb,S,Vb,r,za,Da,Oa)):(r=r?(za*Vb+Oa*kb)/r:Oa,ic(fb,Eb,kb,da,za,Da,r),ic(Eb,S,Vb,da,r,Da,Oa))}}var Ac=Ua.children,nd,Uc=Ac.length,ma,Ha=Array(Uc+1);for(Ha[0]=ma=nd=0;nd<Uc;++nd)Ha[nd+1]=ma+=Ac[nd].value;ic(0,Uc,Ua.value,xb,Fb,Lb,Zb)},dice:Na,slice:v,slicedice:function(Ua,xb,Fb,Lb,Zb){(Ua.depth&1?v:Na)(Ua,xb,Fb,Lb,Zb)},squarify:pc,resquarify:Kb};Kb="x0 y0 x1 y1 depth children".split(" ");ib.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",
type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number","default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",
type:"number","default":1.618033988749895},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Kb.length,"default":Kb}]};ia.inherits(ib,O,{layout(){const Ua=F();Ua.ratio=xb=>{const Fb=Ua.tile();Fb.ratio&&Ua.tile(Fb.ratio(xb))};Ua.method=xb=>{ia.hasOwnProperty(hd,xb)?Ua.tile(hd[xb]):ia.error("Unrecognized Treemap layout method: "+xb)};return Ua},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),
fields:Kb});t.nest=W;t.pack=va;t.partition=Ma;t.stratify=Pa;t.tree=Xa;t.treelinks=sb;t.treemap=ib})};
shadow$provide[41]=function(Db,nb,Dc,Wa){!function(t,h){"object"==typeof Wa&&"undefined"!=typeof Dc?h(Wa):"function"==typeof define&&define.amd?define(["exports"],h):h((t="undefined"!=typeof globalThis?globalThis:t||self).vega={})}(this,function(t){function h(ia,Ya){if("undefined"!=typeof document&&document.createElement){const ub=document.createElement("canvas");if(ub&&ub.getContext)return ub.width=ia,ub.height=Ya,ub}return null}t.canvas=h;t.domCanvas=h;t.image=()=>"undefined"!=typeof Image?Image:
null;Object.defineProperty(t,"__esModule",{value:!0})})};
shadow$provide[42]=function(Db,nb,Dc,Wa){(function(t,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,nb(34),nb(41),nb(29),nb(21)):"function"===typeof define&&define.amd?define(["exports","vega-scenegraph","vega-canvas","vega-dataflow","vega-util"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h((t.vega=t.vega||{},t.vega.transforms={}),t.vega,t.vega,t.vega,t.vega))})(this,function(t,h,ia,Ya,ub){function Yb($a,V){const N=$a.bitmap();(V||[]).forEach(na=>N.set($a(na.boundary[0]),$a(na.boundary[3])));
return[N,void 0]}function dc($a,V,N,na,oa){const Na=$a.width,la=$a.height;na=na||oa;const qa=ia.canvas(Na,la).getContext("2d");var l=ia.canvas(Na,la).getContext("2d"),D=na&&ia.canvas(Na,la).getContext("2d");N.forEach(F=>Wb(qa,F,!1));Wb(l,V,!1);na&&Wb(D,V,!0);V=new Uint32Array(qa.getImageData(0,0,Na,la).data.buffer);N=new Uint32Array(l.getImageData(0,0,Na,la).data.buffer);D=na&&new Uint32Array(D.getImageData(0,0,Na,la).data.buffer);l=$a.bitmap();const K=na&&$a.bitmap();let x,U;let A,X,G,v;for(U=0;U<
la;++U)for(x=0;x<Na;++x){var z=U*Na+x;X=V[z]&4278190080;v=N[z]&4278190080;G=na&&D[z]&4278190080;if(X||G||v)z=$a(x),A=$a(U),oa||!X&&!v||l.set(z,A),na&&(X||G)&&K.set(z,A)}return[l,K]}function Wb($a,V,N){if(V.length){var na=V[0].mark.marktype;"group"===na?V.forEach(oa=>{oa.items.forEach(Na=>Wb($a,Na.items,N))}):h.Marks[na].draw($a,{items:N?V.map(nc):V})}}function nc($a){$a=Ya.rederive($a,{});return $a.stroke&&0!==$a.strokeOpacity||$a.fill&&0!==$a.fillOpacity?Object.assign({},$a,{strokeOpacity:1,stroke:"#000",
fillOpacity:0}):$a}function Ab($a,V){const N=new Uint32Array(~~(($a*V+32)/32));return{array:N,get:(na,oa)=>{na=oa*$a+na;return N[na>>>5]&1<<(na&31)},set:(na,oa)=>{na=oa*$a+na;N[na>>>5]|=1<<(na&31)},clear:(na,oa)=>{na=oa*$a+na;N[na>>>5]&=~(1<<(na&31))},getRange:(na,oa,Na,la)=>{let qa,l,D;for(;la>=oa;--la){var K=la*$a+na;qa=la*$a+Na;l=K>>>5;D=qa>>>5;if(l===D){if(N[l]&sa[K&31]&ha[(qa&31)+1])return!0}else{if(N[l]&sa[K&31]||N[D]&ha[(qa&31)+1])return!0;for(K=l+1;K<D;++K)if(N[K])return!0}}return!1},setRange:(na,
oa,Na,la)=>{let qa,l,D;for(;oa<=la;++oa){var K=oa*$a+na;qa=oa*$a+Na;l=K>>>5;D=qa>>>5;if(l===D)N[l]|=sa[K&31]&ha[(qa&31)+1];else for(N[l]|=sa[K&31],N[D]|=ha[(qa&31)+1],K=l+1;K<D;++K)N[K]|=4294967295}},clearRange:(na,oa,Na,la)=>{let qa,l,D;for(;oa<=la;++oa){var K=oa*$a+na;qa=oa*$a+Na;l=K>>>5;D=qa>>>5;if(l===D)N[l]&=ha[K&31]|sa[(qa&31)+1];else for(N[l]&=ha[K&31],N[D]&=sa[(qa&31)+1],K=l+1;K<D;++K)N[K]&=0}},outOfBounds:(na,oa,Na,la)=>0>na||0>oa||la>=V||Na>=$a}}function Ub($a,V,N){const na=Math.max(1,Math.sqrt($a*
V/1E6)),oa=~~(($a+2*N+na)/na),Na=~~((V+2*N+na)/na),la=qa=>~~((qa+N)/na);la.invert=qa=>qa*na-N;la.bitmap=()=>Ab(oa,Na);la.ratio=na;la.padding=N;la.width=$a;la.height=V;return la}function jc($a,V,N,na,oa,Na){N/=2;return 0>$a-N||$a+N>oa||0>V-(N=na/2)||V+N>Na}function Ea($a,V,N,na,oa,Na,la,qa){oa=oa*Na/(2*na);na=$a(V-oa);V=$a(V+oa);oa=$a(N-(Na/=2));$a=$a(N+Na);return la.outOfBounds(na,oa,V,$a)||la.getRange(na,oa,V,$a)||qa&&qa.getRange(na,oa,V,$a)}function bb($a,V,N,na){const oa=$a.width,Na=$a.height,
la=V[0],qa=V[1],l=na.length;return function(D){const K=D.boundary,x=D.datum.fontSize;if(0>K[2]||0>K[5]||K[0]>oa||K[3]>Na)return!1;var U;let A=null!=(U=D.textWidth)?U:0,X;let G,v;let z;let F;let W,ta;for(let pc=0;pc<l;++pc){U=(N[pc]&3)-1;X=(N[pc]>>>2&3)-1;var O=0===U&&0===X||0>na[pc];var ja=U&&X?Math.SQRT1_2:1;G=0>na[pc]?-1:1;v=K[1+U]+na[pc]*U*ja;F=K[4+X]+G*x*X/2+na[pc]*X*ja;ja=F-x/2;z=F+x/2;var va=$a(v);W=$a(ja);ta=$a(z);if(!A){var Ma=va;var Pa=W;var Xa=ta;var sb=la,ib=qa,Sb=O;if(sb.outOfBounds(Ma,
Pa,va,Xa)||(Sb&&ib||sb).getRange(Ma,Pa,va,Xa))continue;else A=h.textMetrics.width(D.datum,D.datum.text)}Pa=v+G*A*U/2;v=Pa-A/2;Ma=Pa+A/2;va=$a(v);Xa=$a(Ma);sb=va;ib=Xa;Sb=W;var Y=ta,Fa=la,Kb=qa;if(!Fa.outOfBounds(sb,Sb,ib,Y)&&!(O&&Kb||Fa).getRange(sb,Sb,ib,Y))return D.x=U?0>U*G?Ma:v:Pa,D.y=X?0>X*G?z:ja:F,D.align=Va[U*G+1],D.baseline=Ia[X*G+1],la.setRange(va,W,Xa,ta),!0}return!1}}function tb($a,V,N,na,oa,Na,la,qa,l,D,K){if(!$a.length)return $a;var x=Math.max(na.length,oa.length);const U=rb(na,x);oa=
pb(oa,x);const A=vb($a[0].datum);var X="group"===A&&$a[0].datum.items[l].marktype;x="area"===X;const G=gb(A,X,qa,l),v=null===D||Infinity===D;X=x&&"naive"===K;let z=-1,F=-1;qa=$a.map(O=>{const ja=v?h.textMetrics.width(O,O.text):void 0;z=Math.max(z,ja);F=Math.max(F,O.fontSize);return{datum:O,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:G(O),textWidth:ja}});D=null===D||Infinity===D?Math.max(z,F)+Math.max(...na):D;V=Ub(V[0],V[1],D);if(!X){N&&qa.sort((O,ja)=>N(O.datum,ja.datum));var W=
!1;for(na=0;na<oa.length&&!W;++na)W=5===oa[na]||0>U[na];$a=(A&&la||x)&&$a.map(O=>O.datum);W=Na.length||$a?dc(V,$a||[],Na,W,x):Yb(V,la&&qa)}const ta=x?Za[K](V,W,la,l):bb(V,W,oa,U);qa.forEach(O=>O.opacity=+ta(O));return qa}function rb($a,V){const N=new Float64Array(V),na=$a.length;for(let oa=0;oa<na;++oa)N[oa]=$a[oa]||0;for($a=na;$a<V;++$a)N[$a]=N[na-1];return N}function pb($a,V){const N=new Int8Array(V),na=$a.length;for(let oa=0;oa<na;++oa)N[oa]|=hb[$a[oa]];for($a=na;$a<V;++$a)N[$a]=N[na-1];return N}
function vb($a){return $a&&$a.mark&&$a.mark.marktype}function gb($a,V,N,na){const oa=Na=>[Na.x,Na.x,Na.x,Na.y,Na.y,Na.y];return $a?"line"===$a||"area"===$a?Na=>oa(Na.datum):"line"===V?Na=>{Na=Na.datum.items[na].items;return oa(Na.length?Na["start"===N?0:Na.length-1]:{x:NaN,y:NaN})}:Na=>{Na=Na.datum.bounds;return[Na.x1,(Na.x1+Na.x2)/2,Na.x2,Na.y1,(Na.y1+Na.y2)/2,Na.y2]}:oa}function fc($a){Ya.Transform.call(this,null,$a)}const sa=new Uint32Array(33),ha=new Uint32Array(33);ha[0]=0;sa[0]=~ha[0];for(let $a=
1;32>=$a;++$a)ha[$a]=ha[$a-1]<<1|1,sa[$a]=~ha[$a];const Ba=[-1,-1,1,1],Sa=[-1,1,-1,1],Va=["right","center","left"],Ia=["bottom","middle","top"],hb={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},Za={naive:function($a,V,N,na){const oa=$a.width,Na=$a.height;return function(la){const qa=la.datum.datum.items[na].items,l=qa.length,D=la.datum.fontSize,K=h.textMetrics.width(la.datum,la.datum.text);let x=0;let U,A,X,G,v;for(let F=0;F<l;++F){var z=qa[F].x;
A=qa[F].y;U=void 0===qa[F].x2?z:qa[F].x2;X=void 0===qa[F].y2?A:qa[F].y2;G=(z+U)/2;v=(A+X)/2;z=Math.abs(U-z+X-A);z>=x&&(x=z,la.x=G,la.y=v)}G=K/2;v=D/2;z=la.x-G;U=la.x+G;A=la.y-v;X=la.y+v;la.align="center";0>z&&U<=oa?la.align="left":0<=z&&oa<U&&(la.align="right");la.baseline="middle";0>A&&X<=Na?la.baseline="top":0<=A&&Na<X&&(la.baseline="bottom");return!0}},"reduced-search":function($a,V,N,na){function oa(D,K,x,U,A){D=$a.invert(D);K=$a.invert(K);let X=x,G=la,v;if(!jc(D,K,U,A,Na,la)&&!Ea($a,D,K,A,U,
X,qa,l)&&!Ea($a,D,K,A,U,A,qa,null)){for(;1<=G-X;)v=(X+G)/2,Ea($a,D,K,A,U,v,qa,l)?G=v:X=v;if(X>x)return[D,K,X,!0]}}const Na=$a.width,la=$a.height,qa=V[0],l=V[1];return function(D){const K=D.datum.datum.items[na].items,x=K.length,U=D.datum.fontSize,A=h.textMetrics.width(D.datum,D.datum.text);let X=N?U:0,G=!1,v=!1,z=0;let F;let W;let ta,O,ja,va,Ma,Pa,Xa,sb;for(let Fa=0;Fa<x;++Fa){var ib=K[Fa].x;var Sb=K[Fa].y;F=void 0===K[Fa].x2?ib:K[Fa].x2;W=void 0===K[Fa].y2?Sb:K[Fa].y2;if(ib>F){var Y=ib;ib=F;F=Y}Sb>
W&&(Y=Sb,Sb=W,W=Y);O=$a(ib);va=$a(F);ja=~~((O+va)/2);Ma=$a(Sb);Xa=$a(W);Pa=~~((Ma+Xa)/2);for(Y=ja;Y>=O;--Y)for(ta=Pa;ta>=Ma;--ta)(sb=oa(Y,ta,X,A,U))&&([D.x,D.y,X,G]=sb);for(Y=ja;Y<=va;++Y)for(ta=Pa;ta<=Xa;++ta)(sb=oa(Y,ta,X,A,U))&&([D.x,D.y,X,G]=sb);G||N||(Y=Math.abs(F-ib+W-Sb),ib=(ib+F)/2,Sb=(Sb+W)/2,Y>=z&&!jc(ib,Sb,A,U,Na,la)&&!Ea($a,ib,Sb,U,A,U,qa,null)&&(z=Y,D.x=ib,D.y=Sb,v=!0))}return G||v?(ib=A/2,Sb=U/2,qa.setRange($a(D.x-ib),$a(D.y-Sb),$a(D.x+ib),$a(D.y+Sb)),D.align="center",D.baseline="middle",
!0):!1}},floodfill:function($a,V,N,na){const oa=$a.width,Na=$a.height,la=V[0],qa=V[1],l=$a.bitmap();return function(D){const K=D.datum.datum.items[na].items,x=K.length,U=D.datum.fontSize,A=h.textMetrics.width(D.datum,D.datum.text),X=[];let G=N?U:0,v=!1,z=!1,F=0,W,ta,O,ja,va,Ma;var Pa;for(let ib=0;ib<x;++ib){W=K[ib].x;O=K[ib].y;ta=void 0===K[ib].x2?W:K[ib].x2;ja=void 0===K[ib].y2?O:K[ib].y2;for(X.push([$a((W+ta)/2),$a((O+ja)/2)]);X.length;)if([Xa,sb]=X.pop(),!(la.get(Xa,sb)||qa.get(Xa,sb)||l.get(Xa,
sb))){l.set(Xa,sb);for(Pa=0;4>Pa;++Pa)va=Xa+Ba[Pa],Ma=sb+Sa[Pa],l.outOfBounds(va,Ma,va,Ma)||X.push([va,Ma]);va=$a.invert(Xa);Ma=$a.invert(sb);var Xa=G;var sb=Na;if(!jc(va,Ma,A,U,oa,Na)&&!Ea($a,va,Ma,U,A,Xa,la,qa)&&!Ea($a,va,Ma,U,A,U,la,null)){for(;1<=sb-Xa;)Pa=(Xa+sb)/2,Ea($a,va,Ma,U,A,Pa,la,qa)?sb=Pa:Xa=Pa;Xa>G&&(D.x=va,D.y=Ma,G=Xa,v=!0)}}v||N||(Xa=Math.abs(ta-W+ja-O),va=(W+ta)/2,Ma=(O+ja)/2,Xa>=F&&!jc(va,Ma,A,U,oa,Na)&&!Ea($a,va,Ma,U,A,U,la,null)&&(F=Xa,D.x=va,D.y=Ma,z=!0))}return v||z?(va=A/2,
Ma=U/2,la.setRange($a(D.x-va),$a(D.y-Ma),$a(D.x+va),$a(D.y+Ma)),D.align="center",D.baseline="middle",!0):!1}}},qb=["x","y","opacity","align","baseline"],Nb="top-left left bottom-left top bottom top-right right bottom-right".split(" ");fc.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:Nb},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",
default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:qb.length,default:qb}]};ub.inherits(fc,Ya.Transform,{transform($a,V){function N(Na){Na=$a[Na];return ub.isFunction(Na)&&V.modified(Na.fields)}const na=$a.modified();if(na||V.changed(V.ADD_REM)||
N("sort")){$a.size&&2===$a.size.length||ub.error("Size parameter should be specified as a [width, height] array.");var oa=$a.as||qb;tb(V.materialize(V.SOURCE).source||[],$a.size,$a.sort,ub.array(null==$a.offset?1:$a.offset),ub.array($a.anchor||Nb),$a.avoidMarks||[],!1!==$a.avoidBaseMark,$a.lineAnchor||"end",$a.markIndex||0,void 0===$a.padding?0:$a.padding,$a.method||"naive").forEach(Na=>{const la=Na.datum;la[oa[0]]=Na.x;la[oa[1]]=Na.y;la[oa[2]]=Na.opacity;la[oa[3]]=Na.align;la[oa[4]]=Na.baseline});
return V.reflow(na).modifies(oa)}}});t.label=fc})};
shadow$provide[43]=function(Db,nb,Dc,Wa){(function(t,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,nb(30),nb(29),nb(21)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega,t.vega,t.vega))})(this,function(t,h,ia,Ya){function ub(nc,Ab){var Ub=[],jc=function(gb){return gb(rb)},Ea;if(null==Ab)Ub.push(nc);else{var bb={};var tb=0;for(Ea=nc.length;tb<Ea;++tb){var rb=nc[tb];
var pb=Ab.map(jc);var vb=bb[pb];vb||(bb[pb]=vb=[],vb.dims=pb,Ub.push(vb));vb.push(rb)}}return Ub}function Yb(nc){ia.Transform.call(this,null,nc)}function dc(nc){ia.Transform.call(this,null,nc)}Yb.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};Ya.inherits(Yb,ia.Transform,{transform(nc,Ab){const Ub=
Ab.fork(Ab.NO_SOURCE|Ab.NO_FIELDS);if(!this.value||Ab.changed()||nc.modified()){Ab=Ab.materialize(Ab.SOURCE).source;Ab=ub(Ab,nc.groupby);const jc=(nc.groupby||[]).map(Ya.accessorName),Ea=jc.length,bb=nc.as||[Ya.accessorName(nc.x),Ya.accessorName(nc.y)],tb=[];Ab.forEach(rb=>{h.regressionLoess(rb,nc.x,nc.y,nc.bandwidth||.3).forEach(pb=>{const vb={};for(let gb=0;gb<Ea;++gb)vb[jc[gb]]=rb.dims[gb];vb[bb[0]]=pb[0];vb[bb[1]]=pb[1];tb.push(ia.ingest(vb))})});this.value&&(Ub.rem=this.value);this.value=Ub.add=
Ub.source=tb}return Ub}});const Wb={constant:h.regressionConstant,linear:h.regressionLinear,log:h.regressionLog,exp:h.regressionExp,pow:h.regressionPow,quad:h.regressionQuad,poly:h.regressionPoly};dc.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(Wb)},{name:"order",type:"number","default":3},{name:"extent",
type:"number",array:!0,length:2},{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};Ya.inherits(dc,ia.Transform,{transform(nc,Ab){const Ub=Ab.fork(Ab.NO_SOURCE|Ab.NO_FIELDS);if(!this.value||Ab.changed()||nc.modified()){var jc=Ab.materialize(Ab.SOURCE).source;jc=ub(jc,nc.groupby);const Ea=(nc.groupby||[]).map(Ya.accessorName),bb=nc.method||"linear",tb=null==nc.order?3:nc.order,rb="poly"===bb?tb:"quad"===bb?2:1,pb=nc.as||[Ya.accessorName(nc.x),Ya.accessorName(nc.y)],vb=
Wb[bb],gb=[];let fc=nc.extent;Ya.hasOwnProperty(Wb,bb)||Ya.error("Invalid regression method: "+bb);null!=fc&&"log"===bb&&0>=fc[0]&&(Ab.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),fc=null);jc.forEach(sa=>{if(sa.length<=rb)Ab.dataflow.warn("Skipping regression with more parameters than data points.");else{var ha=vb(sa,nc.x,nc.y,tb);if(nc.params)gb.push(ia.ingest({keys:sa.dims,coef:ha.coef,rSquared:ha.rSquared}));else{var Ba=fc||Ya.extent(sa,nc.x),Sa=Va=>{const Ia={};
for(let hb=0;hb<Ea.length;++hb)Ia[Ea[hb]]=sa.dims[hb];Ia[pb[0]]=Va[0];Ia[pb[1]]=Va[1];gb.push(ia.ingest(Ia))};"linear"===bb||"constant"===bb?Ba.forEach(Va=>Sa([Va,ha.predict(Va)])):h.sampleCurve(ha.predict,Ba,25,200).forEach(Sa)}}});this.value&&(Ub.rem=this.value);this.value=Ub.add=Ub.source=gb}return Ub}});t.loess=Yb;t.regression=dc})};
shadow$provide[44]=function(Db,nb,Dc,Wa){(function(t,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,nb(29),nb(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h((t.vega=t.vega||{},t.vega.transforms={}),t.vega,t.vega))})(this,function(t,h,ia){function Ya(V,N,na,oa,Na){let la,qa;let l=N[0],D=oa[0],K=0,x=0;D>l===D>-l?(la=l,l=N[++K]):(la=D,D=oa[++x]);let U=0;if(K<V&&x<na){if(D>l===D>-l){qa=l+la;var A=
la-(qa-l);l=N[++K]}else qa=D+la,A=la-(qa-D),D=oa[++x];la=qa;for(0!==A&&(Na[U++]=A);K<V&&x<na;)D>l===D>-l?(qa=la+l,A=qa-la,A=la-(qa-A)+(l-A),l=N[++K]):(qa=la+D,A=qa-la,A=la-(qa-A)+(D-A),D=oa[++x]),la=qa,0!==A&&(Na[U++]=A)}for(;K<V;)qa=la+l,A=qa-la,A=la-(qa-A)+(l-A),l=N[++K],la=qa,0!==A&&(Na[U++]=A);for(;x<na;)qa=la+D,A=qa-la,A=la-(qa-A)+(D-A),D=oa[++x],la=qa,0!==A&&(Na[U++]=A);if(0!==la||0===U)Na[U++]=la;return U}function ub(V,N,na,oa,Na,la){var qa=(N-la)*(na-Na),l=(V-Na)*(oa-la),D=qa-l;if(0===qa||
0===l||0<qa!==0<l)return D;qa=Math.abs(qa+l);if(Math.abs(D)>=3.3306690738754716E-16*qa)return D;{let v;D=V-Na;const z=na-Na;l=N-la;const F=oa-la;var K=D*F;var x=134217729*D;var U=x-(x-D);var A=D-U;x=134217729*F;x-=x-F;v=F-x;var X=A*v-(K-U*x-A*x-U*v);var G=l*z;x=134217729*l;U=x-(x-l);A=l-U;x=134217729*z;x-=x-z;v=z-x;x=A*v-(G-U*x-A*x-U*v);A=X-x;U=X-A;pb[0]=X-(A+U)+(U-x);X=K+A;U=X-K;K=K-(X-U)+(A-U);A=K-G;U=K-A;pb[1]=K-(A+U)+(U-G);G=X+A;U=G-X;pb[2]=X-(G-U)+(A-U);pb[3]=G;G=pb[0];for(K=1;4>K;K++)G+=pb[K];
K=2.2204460492503146E-16*qa;G>=K||-G>=K?oa=G:(U=V-D,V=V-(D+U)+(U-Na),U=na-z,na=na-(z+U)+(U-Na),U=N-l,N=N-(l+U)+(U-la),U=oa-F,oa=oa-(F+U)+(U-la),0===V&&0===N&&0===na&&0===oa?oa=G:(K=1.1093356479670487E-31*qa+3.3306690738754706E-16*Math.abs(G),G+=D*oa+F*V-(l*na+z*N),G>=K||-G>=K?oa=G:(K=V*F,x=134217729*V,U=x-(x-V),A=V-U,x=134217729*F,x-=x-F,v=F-x,X=A*v-(K-U*x-A*x-U*v),G=N*z,x=134217729*N,U=x-(x-N),A=N-U,x=134217729*z,x-=x-z,v=z-x,x=A*v-(G-U*x-A*x-U*v),A=X-x,U=X-A,sa[0]=X-(A+U)+(U-x),X=K+A,U=X-K,K=K-
(X-U)+(A-U),A=K-G,U=K-A,sa[1]=K-(A+U)+(U-G),G=X+A,U=G-X,sa[2]=X-(G-U)+(A-U),sa[3]=G,la=Ya(4,pb,4,sa,vb),K=D*oa,x=134217729*D,U=x-(x-D),A=D-U,x=134217729*oa,x-=x-oa,v=oa-x,X=A*v-(K-U*x-A*x-U*v),G=l*na,x=134217729*l,U=x-(x-l),A=l-U,x=134217729*na,x-=x-na,v=na-x,x=A*v-(G-U*x-A*x-U*v),A=X-x,U=X-A,sa[0]=X-(A+U)+(U-x),X=K+A,U=X-K,K=K-(X-U)+(A-U),A=K-G,U=K-A,sa[1]=K-(A+U)+(U-G),G=X+A,U=G-X,sa[2]=X-(G-U)+(A-U),sa[3]=G,la=Ya(la,vb,4,sa,gb),K=V*oa,x=134217729*V,U=x-(x-V),A=V-U,x=134217729*oa,x-=x-oa,v=oa-x,
X=A*v-(K-U*x-A*x-U*v),G=N*na,x=134217729*N,U=x-(x-N),A=N-U,x=134217729*na,x-=x-na,v=na-x,x=A*v-(G-U*x-A*x-U*v),A=X-x,U=X-A,sa[0]=X-(A+U)+(U-x),X=K+A,U=X-K,K=K-(X-U)+(A-U),A=K-G,U=K-A,sa[1]=K-(A+U)+(U-G),G=X+A,U=G-X,sa[2]=X-(G-U)+(A-U),sa[3]=G,oa=Ya(la,gb,4,sa,fc),oa=fc[oa-1])))}return-oa}function Yb(V,N,na,oa){V-=na;N-=oa;return V*V+N*N}function dc(V,N,na,oa){if(20>=oa-na)for(var Na=na+1;Na<=oa;Na++){for(var la=V[Na],qa=N[la],l=Na-1;l>=na&&N[V[l]]>qa;)V[l+1]=V[l--];V[l+1]=la}else{Na=na+1;la=oa;Wb(V,
na+oa>>1,Na);N[V[na]]>N[V[oa]]&&Wb(V,na,oa);N[V[Na]]>N[V[oa]]&&Wb(V,Na,oa);N[V[na]]>N[V[Na]]&&Wb(V,na,Na);qa=V[Na];for(l=N[qa];;){do Na++;while(N[V[Na]]<l);do la--;while(N[V[la]]>l);if(la<Na)break;Wb(V,Na,la)}V[na+1]=V[la];V[la]=qa;oa-Na+1>=la-na?(dc(V,N,Na,oa),dc(V,N,na,la-1)):(dc(V,N,na,la-1),dc(V,N,Na,oa))}}function Wb(V,N,na){const oa=V[N];V[N]=V[na];V[na]=oa}function nc(V){return V[0]}function Ab(V){return V[1]}function Ub(V){return V[0]}function jc(V){return V[1]}function Ea(V){const {triangles:N,
coords:na}=V;for(V=0;V<N.length;V+=3){const oa=2*N[V],Na=2*N[V+1],la=2*N[V+2];if(1E-10<(na[la]-na[oa])*(na[Na+1]-na[oa+1])-(na[Na]-na[oa])*(na[la+1]-na[oa+1]))return!1}return!0}function bb(V,N,na){return[V+Math.sin(V+N)*na,N+Math.cos(V-N)*na]}function*tb(V,N,na,oa){let Na=0;for(const la of V)yield N.call(oa,la,Na,V),yield na.call(oa,la,Na,V),++Na}function rb(V){h.Transform.call(this,null,V)}const pb=new Float64Array(4),vb=new Float64Array(8),gb=new Float64Array(12),fc=new Float64Array(16),sa=new Float64Array(4),
ha=Math.pow(2,-52),Ba=new Uint32Array(512);class Sa{static from(V,N=nc,na=Ab){const oa=V.length,Na=new Float64Array(2*oa);for(let la=0;la<oa;la++){const qa=V[la];Na[2*la]=N(qa);Na[2*la+1]=na(qa)}return new Sa(Na)}constructor(V){const N=V.length>>1;if(0<N&&"number"!==typeof V[0])throw Error("Expected coords to contain numbers.");this.coords=V;V=Math.max(2*N-5,0);this._triangles=new Uint32Array(3*V);this._halfedges=new Int32Array(3*V);this._hashSize=Math.ceil(Math.sqrt(N));this._hullPrev=new Uint32Array(N);
this._hullNext=new Uint32Array(N);this._hullTri=new Uint32Array(N);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(N);this._dists=new Float64Array(N);this.update()}update(){const {coords:V,_hullPrev:N,_hullNext:na,_hullTri:oa,_hullHash:Na}=this;var la=V.length>>1,qa=Infinity,l=Infinity,D=-Infinity,K=-Infinity;for(var x=0;x<la;x++){var U=V[2*x];var A=V[2*x+1];U<qa&&(qa=U);A<l&&(l=A);U>D&&(D=U);A>K&&(K=A);this._ids[x]=x}D=(qa+D)/2;l=(l+K)/2;qa=Infinity;for(K=0;K<la;K++)if(x=
Yb(D,l,V[2*K],V[2*K+1]),x<qa){var X=K;qa=x}l=V[2*X];K=V[2*X+1];qa=Infinity;for(D=0;D<la;D++)if(D!==X&&(x=Yb(l,K,V[2*D],V[2*D+1]),x<qa&&0<x)){var G=D;qa=x}qa=V[2*G];D=V[2*G+1];A=Infinity;for(x=0;x<la;x++)if(x!==X&&x!==G){U=qa-l;var v=D-K;var z=V[2*x]-l;var F=V[2*x+1]-K,W=U*U+v*v,ta=z*z+F*F,O=.5/(U*F-v*z);v=(F*W-v*ta)*O;U=(U*ta-z*W)*O;U=v*v+U*U;if(U<A){var ja=x;A=U}}x=V[2*ja];U=V[2*ja+1];if(Infinity===A){for(X=0;X<la;X++)this._dists[X]=V[2*X]-V[0]||V[2*X+1]-V[1];dc(this._ids,this._dists,0,la-1);X=new Uint32Array(la);
G=0;for(let va=0,Ma=-Infinity;va<la;va++)ja=this._ids[va],this._dists[ja]>Ma&&(X[G++]=ja,Ma=this._dists[ja]);this.hull=X.subarray(0,G);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{0>ub(l,K,qa,D,x,U)&&(A=G,z=qa,W=D,G=ja,qa=x,D=U,ja=A,x=z,U=W);z=qa-l;A=D-K;W=x-l;F=U-K;ta=z*z+A*A;O=W*W+F*F;v=.5/(z*F-A*W);A=l+(F*ta-A*O)*v;z=K+(z*O-W*ta)*v;this._cx=A;this._cy=z;for(W=0;W<la;W++)this._dists[W]=Yb(V[2*W],V[2*W+1],A,z);dc(this._ids,this._dists,0,la-1);this._hullStart=X;la=3;na[X]=
N[ja]=G;na[G]=N[X]=ja;na[ja]=N[G]=X;oa[X]=0;oa[G]=1;oa[ja]=2;Na.fill(-1);Na[this._hashKey(l,K)]=X;Na[this._hashKey(qa,D)]=G;Na[this._hashKey(x,U)]=ja;this.trianglesLen=0;this._addTriangle(X,G,ja,-1,-1,-1);for(let va=0,Ma,Pa;va<this._ids.length;va++){l=this._ids[va];K=V[2*l];qa=V[2*l+1];if(0<va&&Math.abs(K-Ma)<=ha&&Math.abs(qa-Pa)<=ha)continue;Ma=K;Pa=qa;if(l===X||l===G||l===ja)continue;D=0;for(let sb=0,ib=this._hashKey(K,qa);sb<this._hashSize&&(D=Na[(ib+sb)%this._hashSize],-1===D||D===na[D]);sb++);
x=D=N[D];let Xa;for(;Xa=na[x],0<=ub(K,qa,V[2*x],V[2*x+1],V[2*Xa],V[2*Xa+1]);)if(x=Xa,x===D){x=-1;break}if(-1!==x){U=this._addTriangle(x,l,na[x],-1,-1,oa[x]);oa[l]=this._legalize(U+2);oa[x]=U;la++;for(A=na[x];Xa=na[A],0>ub(K,qa,V[2*A],V[2*A+1],V[2*Xa],V[2*Xa+1]);)U=this._addTriangle(A,l,Xa,oa[l],-1,oa[A]),oa[l]=this._legalize(U+2),na[A]=A,la--,A=Xa;if(x===D)for(;Xa=N[x],0>ub(K,qa,V[2*Xa],V[2*Xa+1],V[2*x],V[2*x+1]);)U=this._addTriangle(Xa,l,x,-1,oa[x],oa[Xa]),this._legalize(U+2),oa[Xa]=U,na[x]=x,la--,
x=Xa;this._hullStart=N[l]=x;na[x]=N[A]=l;na[l]=A;Na[this._hashKey(K,qa)]=l;Na[this._hashKey(V[2*x],V[2*x+1])]=x}}this.hull=new Uint32Array(la);for(let va=0,Ma=this._hullStart;va<la;va++)this.hull[va]=Ma,Ma=na[Ma];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(V,N){var na=Math;V-=this._cx;N-=this._cy;V/=Math.abs(V)+Math.abs(N);return na.floor.call(na,(0<N?3-V:1+V)/4*this._hashSize)%this._hashSize}_legalize(V){const {_triangles:N,
_halfedges:na,coords:oa}=this;let Na=0;for(var la;;){const A=na[V];var qa=V-V%3;la=qa+(V+2)%3;if(-1===A){if(0===Na)break;V=Ba[--Na];continue}const X=A-A%3,G=X+(A+2)%3;var l=N[la],D=N[V],K=N[qa+(V+1)%3];qa=N[G];var x=oa[2*qa],U=oa[2*qa+1];const v=oa[2*l]-x,z=oa[2*l+1]-U,F=oa[2*D]-x;D=oa[2*D+1]-U;x=oa[2*K]-x;U=oa[2*K+1]-U;K=F*F+D*D;const W=x*x+U*U;if(0>v*(D*W-K*U)-z*(F*W-K*x)+(v*v+z*z)*(F*U-D*x)){N[V]=qa;N[A]=l;l=na[G];if(-1===l){qa=this._hullStart;do{if(this._hullTri[qa]===G){this._hullTri[qa]=V;break}qa=
this._hullPrev[qa]}while(qa!==this._hullStart)}this._link(V,l);this._link(A,na[la]);this._link(la,G);la=X+(A+1)%3;Na<Ba.length&&(Ba[Na++]=la)}else{if(0===Na)break;V=Ba[--Na]}}return la}_link(V,N){this._halfedges[V]=N;-1!==N&&(this._halfedges[N]=V)}_addTriangle(V,N,na,oa,Na,la){const qa=this.trianglesLen;this._triangles[qa]=V;this._triangles[qa+1]=N;this._triangles[qa+2]=na;this._link(qa,oa);this._link(qa+1,Na);this._link(qa+2,la);this.trianglesLen+=3;return qa}}class Va{constructor(){this._x0=this._y0=
this._x1=this._y1=null;this._=""}moveTo(V,N){this._+=`M${this._x0=this._x1=+V},${this._y0=this._y1=+N}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(V,N){this._+=`L${this._x1=+V},${this._y1=+N}`}arc(V,N,na){V=+V;N=+N;na=+na;const oa=V+na,Na=N;if(0>na)throw Error("negative radius");if(null===this._x1)this._+=`M${oa},${Na}`;else if(1E-6<Math.abs(this._x1-oa)||1E-6<Math.abs(this._y1-Na))this._+="L"+oa+","+Na;na&&(this._+=`A${na},${na},0,1,1,${V-na},${N}A${na},${na},0,1,1,${this._x1=
oa},${this._y1=Na}`)}rect(V,N,na,oa){this._+=`M${this._x0=this._x1=+V},${this._y0=this._y1=+N}h${+na}v${+oa}h${-na}Z`}value(){return this._||null}}class Ia{constructor(){this._=[]}moveTo(V,N){this._.push([V,N])}closePath(){this._.push(this._[0].slice())}lineTo(V,N){this._.push([V,N])}value(){return this._.length?this._:null}}let hb=class{constructor(V,[N,na,oa,Na]=[0,0,960,500]){if(!((oa=+oa)>=(N=+N)&&(Na=+Na)>=(na=+na)))throw Error("invalid bounds");this.delaunay=V;this._circumcenters=new Float64Array(2*
V.points.length);this.vectors=new Float64Array(2*V.points.length);this.xmax=oa;this.xmin=N;this.ymax=Na;this.ymin=na;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const {delaunay:{points:V,hull:N,triangles:na},vectors:oa}=this;var Na,la=this.circumcenters=this._circumcenters.subarray(0,na.length/3*2);for(let v=0,z=0,F=na.length,W,ta;v<F;v+=3,z+=2){var qa=2*na[v],l=2*na[v+1],D=2*na[v+2],K=V[qa];qa=V[qa+1];var x=V[D],U=V[D+1];D=V[l]-K;const O=V[l+1]-qa;l=x-K;const ja=
U-qa;var A=2*(D*ja-O*l);if(1E-9>Math.abs(A)){if(void 0===X){var X=Na=0;for(var G of N)X+=V[2*G],Na+=V[2*G+1];X/=N.length;Na/=N.length}D=1E9*Math.sign((X-K)*ja-(Na-qa)*l);W=(K+x)/2-D*ja;ta=(qa+U)/2+D*l}else x=1/A,U=D*D+O*O,A=l*l+ja*ja,W=K+(ja*U-O*A)*x,ta=qa+(D*A-l*U)*x;la[z]=W;la[z+1]=ta}X=N[N.length-1];la=4*X;G=V[2*X];D=V[2*X+1];oa.fill(0);for(l=0;l<N.length;++l)X=N[l],Na=la,K=G,qa=D,la=4*X,G=V[2*X],D=V[2*X+1],oa[Na+2]=oa[la]=qa-D,oa[Na+3]=oa[la+1]=G-K}render(V){const N=null==V?V=new Va:void 0,{delaunay:{halfedges:na,
inedges:oa,hull:Na},circumcenters:la,vectors:qa}=this;if(1>=Na.length)return null;for(let U=0,A=na.length;U<A;++U){var l=na[U];if(!(l<U)){var D=2*Math.floor(U/3);l=2*Math.floor(l/3);this._renderSegment(la[D],la[D+1],la[l],la[l+1],V)}}D=Na[Na.length-1];for(l=0;l<Na.length;++l){var K=D;D=Na[l];var x=2*Math.floor(oa[D]/3);const U=la[x];x=la[x+1];K*=4;(K=this._project(U,x,qa[K+2],qa[K+3]))&&this._renderSegment(U,x,K[0],K[1],V)}return N&&N.value()}renderBounds(V){const N=null==V?V=new Va:void 0;V.rect(this.xmin,
this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return N&&N.value()}renderCell(V,N){const na=null==N?N=new Va:void 0;V=this._clip(V);if(null!==V&&V.length){N.moveTo(V[0],V[1]);for(var oa=V.length;V[0]===V[oa-2]&&V[1]===V[oa-1]&&1<oa;)oa-=2;for(let Na=2;Na<oa;Na+=2)V[Na]===V[Na-2]&&V[Na+1]===V[Na-1]||N.lineTo(V[Na],V[Na+1]);N.closePath();return na&&na.value()}}*cellPolygons(){var {delaunay:{points:V}}=this;for(let N=0,na=V.length/2;N<na;++N)if(V=this.cellPolygon(N))V.index=N,yield V}cellPolygon(V){const N=
new Ia;this.renderCell(V,N);return N.value()}_renderSegment(V,N,na,oa,Na){const la=this._regioncode(V,N),qa=this._regioncode(na,oa);if(0===la&&0===qa)Na.moveTo(V,N),Na.lineTo(na,oa);else if(V=this._clipSegment(V,N,na,oa,la,qa))Na.moveTo(V[0],V[1]),Na.lineTo(V[2],V[3])}contains(V,N,na){return(N=+N,N!==N)||(na=+na,na!==na)?!1:this.delaunay._step(V,N,na)===V}*neighbors(V){const N=this._clip(V);if(N)for(const na of this.delaunay.neighbors(V))if(V=this._clip(na))a:for(let oa=0,Na=N.length;oa<Na;oa+=2)for(let la=
0,qa=V.length;la<qa;la+=2)if(N[oa]===V[la]&&N[oa+1]===V[la+1]&&N[(oa+2)%Na]===V[(la+qa-2)%qa]&&N[(oa+3)%Na]===V[(la+qa-1)%qa]){yield na;break a}}_cell(V){const {circumcenters:N,delaunay:{inedges:na,halfedges:oa,triangles:Na}}=this,la=na[V];if(-1===la)return null;const qa=[];let l=la;do{const D=Math.floor(l/3);qa.push(N[2*D],N[2*D+1]);l=2===l%3?l-2:l+1;if(Na[l]!==V)break;l=oa[l]}while(l!==la&&-1!==l);return qa}_clip(V){if(0===V&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,
this.xmin,this.ymax,this.xmin,this.ymin];const N=this._cell(V);if(null===N)return null;const {vectors:na}=this,oa=4*V;return this._simplify(na[oa]||na[oa+1]?this._clipInfinite(V,N,na[oa],na[oa+1],na[oa+2],na[oa+3]):this._clipFinite(V,N))}_clipFinite(V,N){const na=N.length;let oa=null;let Na=N[na-2],la=N[na-1];let qa=this._regioncode(Na,la),l=0;for(let U=0;U<na;U+=2){var D=Na;var K=la;Na=N[U];la=N[U+1];var x=qa;qa=this._regioncode(Na,la);if(0===x&&0===qa)l=0,oa?oa.push(Na,la):oa=[Na,la];else{let A,
X;if(0===x){if(null===(D=this._clipSegment(D,K,Na,la,x,qa)))continue;[K,x,A,X]=D}else{if(null===(D=this._clipSegment(Na,la,D,K,qa,x)))continue;[A,X,K,x]=D;D=l;l=this._edgecode(K,x);D&&l&&this._edge(V,D,l,oa,oa.length);oa?oa.push(K,x):oa=[K,x]}D=l;l=this._edgecode(A,X);D&&l&&this._edge(V,D,l,oa,oa.length);oa?oa.push(A,X):oa=[A,X]}}if(oa)D=l,l=this._edgecode(oa[0],oa[1]),D&&l&&this._edge(V,D,l,oa,oa.length);else if(this.contains(V,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,
this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return oa}_clipSegment(V,N,na,oa,Na,la){const qa=Na<la;for(qa&&([V,N,na,oa,Na,la]=[na,oa,V,N,la,Na]);;){if(0===Na&&0===la)return qa?[na,oa,V,N]:[V,N,na,oa];if(Na&la)return null;var l=void 0;let D;l=Na||la;l&8?(l=V+(na-V)*(this.ymax-N)/(oa-N),D=this.ymax):l&4?(l=V+(na-V)*(this.ymin-N)/(oa-N),D=this.ymin):l&2?(D=N+(oa-N)*(this.xmax-V)/(na-V),l=this.xmax):(D=N+(oa-N)*(this.xmin-V)/(na-V),l=this.xmin);Na?(V=l,N=D,Na=this._regioncode(V,N)):(na=
l,oa=D,la=this._regioncode(na,oa))}}_clipInfinite(V,N,na,oa,Na,la){N=Array.from(N);let qa;(qa=this._project(N[0],N[1],na,oa))&&N.unshift(qa[0],qa[1]);(qa=this._project(N[N.length-2],N[N.length-1],Na,la))&&N.push(qa[0],qa[1]);if(N=this._clipFinite(V,N))for(let l=0,D=N.length,K,x=this._edgecode(N[D-2],N[D-1]);l<D;l+=2)K=x,x=this._edgecode(N[l],N[l+1]),K&&x&&(l=this._edge(V,K,x,N,l),D=N.length);else this.contains(V,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(N=[this.xmin,this.ymin,this.xmax,this.ymin,
this.xmax,this.ymax,this.xmin,this.ymax]);return N}_edge(V,N,na,oa,Na){for(;N!==na;){let la,qa;switch(N){case 5:N=4;continue;case 4:N=6;la=this.xmax;qa=this.ymin;break;case 6:N=2;continue;case 2:N=10;la=this.xmax;qa=this.ymax;break;case 10:N=8;continue;case 8:N=9;la=this.xmin;qa=this.ymax;break;case 9:N=1;continue;case 1:N=5,la=this.xmin,qa=this.ymin}oa[Na]===la&&oa[Na+1]===qa||!this.contains(V,la,qa)||(oa.splice(Na,0,la,qa),Na+=2)}return Na}_project(V,N,na,oa){let Na=Infinity,la,qa,l;if(0>oa){if(N<=
this.ymin)return null;(la=(this.ymin-N)/oa)<Na&&(l=this.ymin,qa=V+(Na=la)*na)}else if(0<oa){if(N>=this.ymax)return null;(la=(this.ymax-N)/oa)<Na&&(l=this.ymax,qa=V+(Na=la)*na)}if(0<na){if(V>=this.xmax)return null;(la=(this.xmax-V)/na)<Na&&(qa=this.xmax,l=N+la*oa)}else if(0>na){if(V<=this.xmin)return null;(la=(this.xmin-V)/na)<Na&&(qa=this.xmin,l=N+la*oa)}return[qa,l]}_edgecode(V,N){return(V===this.xmin?1:V===this.xmax?2:0)|(N===this.ymin?4:N===this.ymax?8:0)}_regioncode(V,N){return(V<this.xmin?1:
V>this.xmax?2:0)|(N<this.ymin?4:N>this.ymax?8:0)}_simplify(V){if(V&&4<V.length){for(let N=0;N<V.length;N+=2){const na=(N+2)%V.length,oa=(N+4)%V.length;if(V[N]===V[na]&&V[na]===V[oa]||V[N+1]===V[na+1]&&V[na+1]===V[oa+1])V.splice(na,2),N-=2}V.length||(V=null)}return V}};const Za=2*Math.PI,qb=Math.pow;class Nb{static from(V,N=Ub,na=jc,oa){if("length"in V){const Na=V.length,la=new Float64Array(2*Na);for(let qa=0;qa<Na;++qa){const l=V[qa];la[2*qa]=N.call(oa,l,qa,V);la[2*qa+1]=na.call(oa,l,qa,V)}V=la}else V=
Float64Array.from(tb(V,N,na,oa));return new Nb(V)}constructor(V){this._delaunator=new Sa(V);this.inedges=new Int32Array(V.length/2);this._hullIndex=new Int32Array(V.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();this._init();return this}_init(){var V=this._delaunator;const N=this.points;if(V.hull&&2<V.hull.length&&Ea(V)){this.collinear=Int32Array.from({length:N.length/2},(qa,l)=>l).sort((qa,l)=>N[2*qa]-N[2*l]||N[2*qa+1]-N[2*l+1]);V=this.collinear[0];
var na=this.collinear[this.collinear.length-1];V=[N[2*V],N[2*V+1],N[2*na],N[2*na+1]];V=1E-8*Math.hypot(V[3]-V[1],V[2]-V[0]);for(let qa=0,l=N.length/2;qa<l;++qa)na=bb(N[2*qa],N[2*qa+1],V),N[2*qa]=na[0],N[2*qa+1]=na[1];this._delaunator=new Sa(N)}else delete this.collinear;V=this.halfedges=this._delaunator.halfedges;na=this.hull=this._delaunator.hull;const oa=this.triangles=this._delaunator.triangles,Na=this.inedges.fill(-1),la=this._hullIndex.fill(-1);for(let qa=0,l=V.length;qa<l;++qa){const D=oa[2===
qa%3?qa-2:qa+1];if(-1===V[qa]||-1===Na[D])Na[D]=qa}for(let qa=0,l=na.length;qa<l;++qa)la[na[qa]]=qa;2>=na.length&&0<na.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=na[0],Na[na[0]]=1,2===na.length&&(Na[na[1]]=0,this.triangles[1]=na[1],this.triangles[2]=na[1]))}voronoi(V){return new hb(this,V)}*neighbors(V){const {inedges:N,hull:na,_hullIndex:oa,halfedges:Na,triangles:la,collinear:qa}=this;if(qa){var l=qa.indexOf(V);0<l&&(yield qa[l-
1]);l<qa.length-1&&(yield qa[l+1])}else{var D=N[V];if(-1!==D){var K=D;do{yield(l=la[K]);K=2===K%3?K-2:K+1;if(la[K]!==V)break;K=Na[K];if(-1===K){V=na[(oa[V]+1)%na.length];V!==l&&(yield V);break}}while(K!==D)}}}find(V,N,na=0){if((V=+V,V!==V)||(N=+N,N!==N))return-1;const oa=na;let Na;for(;0<=(Na=this._step(na,V,N))&&Na!==na&&Na!==oa;)na=Na;return Na}_step(V,N,na){const {inedges:oa,hull:Na,_hullIndex:la,halfedges:qa,triangles:l,points:D}=this;if(-1===oa[V]||!D.length)return(V+1)%(D.length>>1);let K=V,
x=qb(N-D[2*V],2)+qb(na-D[2*V+1],2);const U=oa[V];let A=U;do{let X=l[A];const G=qb(N-D[2*X],2)+qb(na-D[2*X+1],2);G<x&&(x=G,K=X);A=2===A%3?A-2:A+1;if(l[A]!==V)break;A=qa[A];if(-1===A){A=Na[(la[V]+1)%Na.length];if(A!==X&&qb(N-D[2*A],2)+qb(na-D[2*A+1],2)<x)return A;break}}while(A!==U);return K}render(V){const N=null==V?V=new Va:void 0,{points:na,halfedges:oa,triangles:Na}=this;for(let qa=0,l=oa.length;qa<l;++qa){var la=oa[qa];if(la<qa)continue;const D=2*Na[qa];la=2*Na[la];V.moveTo(na[D],na[D+1]);V.lineTo(na[la],
na[la+1])}this.renderHull(V);return N&&N.value()}renderPoints(V,N){void 0!==N||V&&"function"===typeof V.moveTo||(N=V,V=null);N=void 0==N?2:+N;const na=null==V?V=new Va:void 0,{points:oa}=this;for(let Na=0,la=oa.length;Na<la;Na+=2){const qa=oa[Na],l=oa[Na+1];V.moveTo(qa+N,l);V.arc(qa,l,N,0,Za)}return na&&na.value()}renderHull(V){const N=null==V?V=new Va:void 0,{hull:na,points:oa}=this;var Na=2*na[0];const la=na.length;V.moveTo(oa[Na],oa[Na+1]);for(Na=1;Na<la;++Na){const qa=2*na[Na];V.lineTo(oa[qa],
oa[qa+1])}V.closePath();return N&&N.value()}hullPolygon(){const V=new Ia;this.renderHull(V);return V.value()}renderTriangle(V,N){const na=null==N?N=new Va:void 0,{points:oa,triangles:Na}=this,la=2*Na[V*=3],qa=2*Na[V+1];V=2*Na[V+2];N.moveTo(oa[la],oa[la+1]);N.lineTo(oa[qa],oa[qa+1]);N.lineTo(oa[V],oa[V+1]);N.closePath();return na&&na.value()}*trianglePolygons(){const {triangles:V}=this;for(let N=0,na=V.length/3;N<na;++N)yield this.trianglePolygon(N)}trianglePolygon(V){const N=new Ia;this.renderTriangle(V,
N);return N.value()}}rb.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string","default":"path"}]};const $a=[-1E5,-1E5,1E5,1E5];ia.inherits(rb,h.Transform,{transform(V,N){const na=V.as||"path",oa=N.source;if(!oa||!oa.length)return N;
var Na=V.size;Na=Na?[0,0,Na[0],Na[1]]:(Na=V.extent)?[Na[0][0],Na[0][1],Na[1][0],Na[1][1]]:$a;Na=this.value=Nb.from(oa,V.x,V.y).voronoi(Na);for(let l=0,D=oa.length;l<D;++l){var la=Na.cellPolygon(l),qa=oa[l];if(!la||2===la.length&&la[0][0]===la[1][0]&&la[0][1]===la[1][1])la=null;else{const K=la[0][0],x=la[0][1];let U=la.length-1;for(;la[U][0]===K&&la[U][1]===x;--U);la="M"+la.slice(0,U+1).join("L")+"Z"}qa[na]=la}return N.reflow(V.modified()).modifies(na)}});t.voronoi=rb})};
shadow$provide[45]=function(Db,nb,Dc,Wa){(function(t,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,nb(32),nb(29),nb(21),nb(33),nb(30)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),h):(t="undefined"!==typeof globalThis?globalThis:t||self,h((t.vega=t.vega||{},t.vega.transforms={}),t.vega,t.vega,t.vega,t.vega,t.vega))})(this,function(t,h,ia,Ya,ub,Yb){function dc(){function vb(V){V.width=V.height=1;var N=Math.sqrt(V.getContext("2d").getImageData(0,
0,1,1).data.length>>2);V.width=2048/N;V.height=2048/N;V=V.getContext("2d");V.fillStyle=V.strokeStyle="red";V.textAlign="center";return{context:V,ratio:N}}function gb(V,N,na){for(var oa=N.x,Na=N.y,la=Math.sqrt(fc[0]*fc[0]+fc[1]*fc[1]),qa=Za(fc),l=.5>Nb()?1:-1,D=-l,K,x;K=qa(D+=l);){x=~~K[0];K=~~K[1];if(Math.min(Math.abs(x),Math.abs(K))>=la)break;N.x=oa+x;N.y=Na+K;if(!(0>N.x+N.x0||0>N.y+N.y0||N.x+N.x1>fc[0]||N.y+N.y1>fc[1])){if(!(x=!na)){a:{x=fc[0];x>>=5;K=N.sprite;var U=N.width>>5;var A=N.x-(U<<4);
for(var X=A&127,G=32-X,v=N.y1-N.y0,z=(N.y+N.y0)*x+(A>>5),F=0;F<v;F++){for(var W=A=0;W<=U;W++)if((A<<G|(W<U?(A=K[F*U+W])>>>X:0))&V[z+W]){x=!0;break a}z+=x}x=!1}x=!x}if(x&&(!na||N.x+N.x1>na[0].x&&N.x+N.x0<na[1].x&&N.y+N.y1>na[0].y&&N.y+N.y0<na[1].y)){na=N.sprite;oa=N.width>>5;Na=fc[0]>>5;D=N.x-(oa<<4);la=D&127;qa=32-la;l=N.y1-N.y0;D=(N.y+N.y0)*Na+(D>>5);for(K=0;K<l;K++){for(U=x=0;U<=oa;U++)V[D+U]=V[D+U]|x<<qa|(U<oa?(x=na[K*oa+U])>>>la:0);D+=Na}N.sprite=null;return!0}}}return!1}var fc=[256,256],sa,ha,
Ba,Sa,Va,Ia,hb,Za=Ab,qb=[],Nb=Math.random,$a={layout:function(){for(var V=vb(h.canvas()),N=Ub((fc[0]>>5)*fc[1]),na=null,oa=qb.length,Na=-1,la=[],qa=qb.map(D=>({text:sa(D),font:ha(D),style:Sa(D),weight:Va(D),rotate:Ia(D),size:~~(Ba(D)+1E-14),padding:hb(D),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:D})).sort((D,K)=>K.size-D.size);++Na<oa;){var l=qa[Na];l.x=fc[0]*(Nb()+.5)>>1;l.y=fc[1]*(Nb()+.5)>>1;Wb(V,l,qa,Na);l.hasText&&gb(N,l,na)&&(la.push(l),na?nc(na,l):na=[{x:l.x+l.x0,y:l.y+
l.y0},{x:l.x+l.x1,y:l.y+l.y1}],l.x-=fc[0]>>1,l.y-=fc[1]>>1)}return la},words:function(V){return arguments.length?(qb=V,$a):qb},size:function(V){return arguments.length?(fc=[+V[0],+V[1]],$a):fc},font:function(V){return arguments.length?(ha=jc(V),$a):ha},fontStyle:function(V){return arguments.length?(Sa=jc(V),$a):Sa},fontWeight:function(V){return arguments.length?(Va=jc(V),$a):Va},rotate:function(V){return arguments.length?(Ia=jc(V),$a):Ia},text:function(V){return arguments.length?(sa=jc(V),$a):sa},
spiral:function(V){return arguments.length?(Za=tb[V]||V,$a):Za},fontSize:function(V){return arguments.length?(Ba=jc(V),$a):Ba},padding:function(V){return arguments.length?(hb=jc(V),$a):hb},random:function(V){return arguments.length?(Nb=V,$a):Nb}};return $a}function Wb(vb,gb,fc,sa){if(!gb.sprite){var ha=vb.context,Ba=vb.ratio;ha.clearRect(0,0,2048/Ba,2048/Ba);var Sa=vb=0,Va=0,Ia=fc.length;for(--sa;++sa<Ia;){gb=fc[sa];ha.save();ha.font=gb.style+" "+gb.weight+" "+~~((gb.size+1)/Ba)+"px "+gb.font;var hb=
ha.measureText(gb.text+"m").width*Ba;var Za=gb.size<<1;if(gb.rotate){var qb=Math.sin(gb.rotate*bb),Nb=Math.cos(gb.rotate*bb),$a=hb*Nb,V=hb*qb;Nb*=Za;hb=Za*qb;hb=Math.max(Math.abs($a+hb),Math.abs($a-hb))+31>>5<<5;Za=~~Math.max(Math.abs(V+Nb),Math.abs(V-Nb))}else hb=hb+31>>5<<5;Za>Va&&(Va=Za);2048<=vb+hb&&(vb=0,Sa+=Va,Va=0);if(2048<=Sa+Za)break;ha.translate((vb+(hb>>1))/Ba,(Sa+(Za>>1))/Ba);gb.rotate&&ha.rotate(gb.rotate*bb);ha.fillText(gb.text,0,0);gb.padding&&(ha.lineWidth=2*gb.padding,ha.strokeText(gb.text,
0,0));ha.restore();gb.width=hb;gb.height=Za;gb.xoff=vb;gb.yoff=Sa;gb.x1=hb>>1;gb.y1=Za>>1;gb.x0=-gb.x1;gb.y0=-gb.y1;gb.hasText=!0;vb+=hb}Ia=ha.getImageData(0,0,2048/Ba,2048/Ba).data;for($a=[];0<=--sa;)if(gb=fc[sa],gb.hasText){hb=gb.width;ha=hb>>5;Za=gb.y1-gb.y0;for(Ba=0;Ba<Za*ha;Ba++)$a[Ba]=0;vb=gb.xoff;if(null==vb)break;Sa=gb.yoff;V=0;qb=-1;for(Va=0;Va<Za;Va++){for(Ba=0;Ba<hb;Ba++)Nb=Ia[2048*(Sa+Va)+(vb+Ba)<<2]?1<<31-Ba%32:0,$a[ha*Va+(Ba>>5)]|=Nb,V|=Nb;V?qb=Va:(gb.y0++,Za--,Va--,Sa++)}gb.y1=gb.y0+
qb;gb.sprite=$a.slice(0,(gb.y1-gb.y0)*ha)}}}function nc(vb,gb){var fc=vb[0];vb=vb[1];gb.x+gb.x0<fc.x&&(fc.x=gb.x+gb.x0);gb.y+gb.y0<fc.y&&(fc.y=gb.y+gb.y0);gb.x+gb.x1>vb.x&&(vb.x=gb.x+gb.x1);gb.y+gb.y1>vb.y&&(vb.y=gb.y+gb.y1)}function Ab(vb){var gb=vb[0]/vb[1];return function(fc){return[gb*(fc*=.1)*Math.cos(fc),fc*Math.sin(fc)]}}function Ub(vb){for(var gb=[],fc=-1;++fc<vb;)gb[fc]=0;return gb}function jc(vb){return"function"===typeof vb?vb:function(){return vb}}function Ea(vb){ia.Transform.call(this,
dc(),vb)}var bb=Math.PI/180,tb={archimedean:Ab,rectangular:function(vb){var gb=4*vb[0]/vb[1],fc=0,sa=0;return function(ha){var Ba=0>ha?-1:1;switch(Math.sqrt(1+4*Ba*ha)-Ba&3){case 0:fc+=gb;break;case 1:sa+=4;break;case 2:fc-=gb;break;default:sa-=4}return[fc,sa]}}};const rb="x y font fontSize fontStyle fontWeight angle".split(" "),pb="text font rotate fontSize fontStyle fontWeight".split(" ");Ea.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},
{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",
array:!0,length:7,"default":rb}]};Ya.inherits(Ea,ia.Transform,{transform(vb,gb){function fc(hb){hb=vb[hb];return Ya.isFunction(hb)&&gb.modified(hb.fields)}!vb.size||vb.size[0]&&vb.size[1]||Ya.error("Wordcloud size dimensions must be non-zero.");const sa=vb.modified();if(sa||gb.changed(gb.ADD_REM)||pb.some(fc)){var ha=gb.materialize(gb.SOURCE).source,Ba=this.value,Sa=vb.as||rb,Va=vb.fontSize||14,Ia;Ya.isFunction(Va)?Ia=vb.fontSizeRange:Va=Ya.constant(Va);if(Ia){const hb=Va,Za=ub.scale("sqrt")().domain(Ya.extent(ha,
hb)).range(Ia);Va=qb=>Za(hb(qb))}ha.forEach(hb=>{hb[Sa[0]]=NaN;hb[Sa[1]]=NaN;hb[Sa[3]]=0});ha=Ba.words(ha).text(vb.text).size(vb.size||[500,500]).padding(vb.padding||1).spiral(vb.spiral||"archimedean").rotate(vb.rotate||0).font(vb.font||"sans-serif").fontStyle(vb.fontStyle||"normal").fontWeight(vb.fontWeight||"normal").fontSize(Va).random(Yb.random).layout();Va=Ba.size();Ba=Va[0]>>1;Va=Va[1]>>1;Ia=ha.length;for(let hb=0,Za,qb;hb<Ia;++hb)Za=ha[hb],qb=Za.datum,qb[Sa[0]]=Za.x+Ba,qb[Sa[1]]=Za.y+Va,qb[Sa[2]]=
Za.font,qb[Sa[3]]=Za.size,qb[Sa[4]]=Za.style,qb[Sa[5]]=Za.weight,qb[Sa[6]]=Za.rotate;return gb.reflow(sa).modifies(Sa)}}});t.wordcloud=Ea})};
shadow$provide[46]=function(Db,nb,Dc,Wa){(function(t,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,nb(29),nb(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h((t.vega=t.vega||{},t.vega.transforms={}),t.vega,t.vega))})(this,function(t,h,ia){function Ya(){let ha=8,Ba=[],Sa=new Uint32Array(0),Va=ub(0,ha),Ia=ub(0,ha);return{data:()=>Ba,seen:()=>{var hb=Sa;var Za=Ba.length;hb.length>=Za||(Za=new hb.constructor(Za),
Za.set(hb),hb=Za);return Sa=hb},add(hb){for(let Za=0,qb=Ba.length,Nb=hb.length,$a;Za<Nb;++Za)$a=hb[Za],$a._index=qb++,Ba.push($a)},remove(hb,Za){const qb=Ba.length;hb=Array(qb-hb);const Nb=Ba;let $a,V,N;for(V=0;!Za[V]&&V<qb;++V)hb[V]=Ba[V],Nb[V]=V;for(N=V;V<qb;++V)$a=Ba[V],Za[V]?Nb[V]=-1:(Nb[V]=N,Va[N]=Va[V],Ia[N]=Ia[V],hb[N]=$a,$a._index=N++),Va[V]=0;Ba=hb;return Nb},size:()=>Ba.length,curr:()=>Va,prev:()=>Ia,reset:hb=>Ia[hb]=Va[hb],all:()=>257>ha?255:65537>ha?65535:4294967295,set(hb,Za){Va[hb]|=
Za},clear(hb,Za){Va[hb]&=~Za},resize(hb,Za){if(hb>Va.length||Za>ha)ha=Math.max(Za,ha),Va=ub(hb,ha,Va),Ia=ub(hb,ha)}}}function ub(ha,Ba,Sa){ha=(257>Ba?rb:65537>Ba?pb:vb)(ha);Sa&&ha.set(Sa);return ha}function Yb(ha,Ba,Sa){const Va=1<<Ba;return{one:Va,zero:~Va,range:Sa.slice(),bisect:ha.bisect,index:ha.index,size:ha.size,onAdd(Ia,hb){var Za=this.bisect(this.range,Ia.value);Ia=Ia.index;const qb=Za[0];Za=Za[1];const Nb=Ia.length;let $a;for($a=0;$a<qb;++$a)hb[Ia[$a]]|=Va;for($a=Za;$a<Nb;++$a)hb[Ia[$a]]|=
Va;return this}}}function dc(ha,Ba){return null==ha||null==Ba?NaN:ha<Ba?-1:ha>Ba?1:ha>=Ba?0:NaN}function Wb(ha,Ba){return null==ha||null==Ba?NaN:Ba<ha?-1:Ba>ha?1:Ba>=ha?0:NaN}function nc(ha){function Ba(hb,Za,qb=0,Nb=hb.length){if(qb<Nb){if(0!==Sa(Za,Za))return Nb;do{const $a=qb+Nb>>>1;0>Va(hb[$a],Za)?qb=$a+1:Nb=$a}while(qb<Nb)}return qb}let Sa,Va,Ia;2!==ha.length?(Sa=dc,Va=(hb,Za)=>dc(ha(hb),Za),Ia=(hb,Za)=>ha(hb)-Za):(Sa=ha===dc||ha===Wb?ha:Ab,Ia=Va=ha);return{left:Ba,center:function(hb,Za,qb=0,
Nb=hb.length){Nb=Ba(hb,Za,qb,Nb-1);return Nb>qb&&Ia(hb[Nb-1],Za)>-Ia(hb[Nb],Za)?Nb-1:Nb},right:function(hb,Za,qb=0,Nb=hb.length){if(qb<Nb){if(0!==Sa(Za,Za))return Nb;do{const $a=qb+Nb>>>1;0>=Va(hb[$a],Za)?qb=$a+1:Nb=$a}while(qb<Nb)}return qb}}}function Ab(){return 0}function Ub(ha,Ba){return Array.from(Ba,Sa=>ha[Sa])}function jc(){let ha=new Uint32Array(0),Ba=[],Sa=0;return{insert:function(Va,Ia,hb){if(!Ia.length)return[];const Za=Sa,qb=Ia.length,Nb=new Uint32Array(qb);let $a=Array(qb);var V;for(V=
0;V<qb;++V)$a[V]=Va(Ia[V]),Nb[V]=V;$a=Ea($a,Nb);if(Za){Va=Ba;Ia=ha;Ba=Array(Za+qb);ha=new Uint32Array(Za+qb);V=$a;var N=Ba,na=ha;let oa=0,Na=0,la;for(la=0;oa<Za&&Na<qb;++la)Va[oa]<V[Na]?(N[la]=Va[oa],na[la]=Ia[oa++]):(N[la]=V[Na],na[la]=Nb[Na++]+hb);for(;oa<Za;++oa,++la)N[la]=Va[oa],na[la]=Ia[oa];for(;Na<qb;++Na,++la)N[la]=V[Na],na[la]=Nb[Na]+hb}else{if(0<hb)for(V=0;V<qb;++V)Nb[V]+=hb;Ba=$a;ha=Nb}Sa=Za+qb;return{index:Nb,value:$a}},remove:function(Va,Ia){const hb=Sa;let Za,qb,Nb;for(qb=0;!Ia[ha[qb]]&&
qb<hb;++qb);for(Nb=qb;qb<hb;++qb)Ia[Za=ha[qb]]||(ha[Nb]=Za,Ba[Nb]=Ba[qb],++Nb);Sa=hb-Va},bisect:function(Va,Ia){let hb;Ia?hb=Ia.length:(Ia=Ba,hb=Sa);return[sa(Ia,Va[0],0,hb),fc(Ia,Va[1],0,hb)]},reindex:function(Va){for(let Ia=0,hb=Sa;Ia<hb;++Ia)ha[Ia]=Va[ha[Ia]]},index:()=>ha,size:()=>Sa}}function Ea(ha,Ba){ha.sort.call(Ba,(Sa,Va)=>{Sa=ha[Sa];Va=ha[Va];return Sa<Va?-1:Sa>Va?1:0});return Ub(ha,Ba)}function bb(ha){h.Transform.call(this,Ya(),ha);this._dims=this._indices=null}function tb(ha){h.Transform.call(this,
null,ha)}const rb=ha=>new Uint8Array(ha),pb=ha=>new Uint16Array(ha),vb=ha=>new Uint32Array(ha),gb=nc(dc),fc=gb.right,sa=gb.left;nc(function(ha){return null===ha?NaN:+ha}).center;bb.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};ia.inherits(bb,h.Transform,{transform(ha,Ba){return this._dims?ha.modified("fields")||ha.fields.some(Sa=>Ba.modified(Sa.fields))?
this.reinit(ha,Ba):this.eval(ha,Ba):this.init(ha,Ba)},init(ha,Ba){const Sa=ha.fields,Va=ha.query,Ia=this._indices={},hb=this._dims=[],Za=Va.length;let qb=0;for(var Nb;qb<Za;++qb)Nb=Sa[qb].fname,Nb=Ia[Nb]||(Ia[Nb]=jc()),hb.push(Yb(Nb,qb,Va[qb]));return this.eval(ha,Ba)},reinit(ha,Ba){const Sa=Ba.materialize().fork(),Va=ha.fields,Ia=ha.query,hb=this._indices,Za=this._dims,qb=this.value,Nb=qb.curr(),$a=qb.prev(),V=qb.all(),N=Sa.rem=Sa.add,na=Sa.mod,oa=Ia.length,Na={};let la;var qa;let l,D,K,x;$a.set(Nb);
Ba.rem.length&&(l=this.remove(ha,Ba,Sa));Ba.add.length&&qb.add(Ba.add);if(Ba.mod.length){D={};var U=Ba.mod;K=0;for(qa=U.length;K<qa;++K)D[U[K]._index]=1}for(K=0;K<oa;++K)if(x=Va[K],!Za[K]||ha.modified("fields",K)||Ba.modified(x.fields))qa=x.fname,(U=Na[qa])||(hb[qa]=la=jc(),Na[qa]=U=la.insert(x,Ba.source,0)),Za[K]=Yb(la,K,Ia[K]).onAdd(U,Nb);K=0;for(qa=qb.data().length;K<qa;++K)l[K]||($a[K]!==Nb[K]?N.push(K):D[K]&&Nb[K]!==V&&na.push(K));qb.mask=(1<<oa)-1;return Sa},eval(ha,Ba){const Sa=Ba.materialize().fork(),
Va=this._dims.length;let Ia=0;Ba.rem.length&&(this.remove(ha,Ba,Sa),Ia|=(1<<Va)-1);ha.modified("query")&&!ha.modified("fields")&&(Ia|=this.update(ha,Ba,Sa));Ba.add.length&&(this.insert(ha,Ba,Sa),Ia|=(1<<Va)-1);Ba.mod.length&&(this.modify(Ba,Sa),Ia|=(1<<Va)-1);this.value.mask=Ia;return Sa},insert(ha,Ba,Sa){Ba=Ba.add;var Va=this.value;const Ia=this._dims,hb=this._indices;ha=ha.fields;const Za={};Sa=Sa.add;const qb=Va.size()+Ba.length,Nb=Ia.length;let $a=Va.size();Va.resize(qb,Nb);Va.add(Ba);const V=
Va.curr(),N=Va.prev(),na=Va.all();for(Va=0;Va<Nb;++Va){var oa=ha[Va].fname;oa=Za[oa]||(Za[oa]=hb[oa].insert(ha[Va],Ba,$a));Ia[Va].onAdd(oa,V)}for(;$a<qb;++$a)N[$a]=na,V[$a]!==na&&Sa.push($a)},modify(ha,Ba){Ba=Ba.mod;var Sa=this.value;const Va=Sa.curr();Sa=Sa.all();ha=ha.mod;let Ia,hb,Za;Ia=0;for(hb=ha.length;Ia<hb;++Ia)Za=ha[Ia]._index,Va[Za]!==Sa&&Ba.push(Za)},remove(ha,Ba,Sa){ha=this._indices;var Va=this.value;const Ia=Va.curr(),hb=Va.prev();Va=Va.all();const Za={};Sa=Sa.rem;const qb=Ba.rem;let Nb,
$a,V,N;Nb=0;for($a=qb.length;Nb<$a;++Nb)V=qb[Nb]._index,Za[V]=1,hb[V]=N=Ia[V],Ia[V]=Va,N!==Va&&Sa.push(V);for(V in ha)ha[V].remove($a,Za);this.reindex(Ba,$a,Za);return Za},reindex(ha,Ba,Sa){const Va=this._indices,Ia=this.value;ha.runAfter(()=>{const hb=Ia.remove(Ba,Sa);for(const Za in Va)Va[Za].reindex(hb)})},update(ha,Ba,Sa){const Va=this._dims,Ia=ha.query;Ba=Ba.stamp;const hb=Va.length;let Za=0,qb,Nb;for(Nb=Sa.filters=0;Nb<hb;++Nb)ha.modified("query",Nb)&&(qb=Nb,++Za);if(1===Za)Za=Va[qb].one,this.incrementOne(Va[qb],
Ia[qb],Sa.add,Sa.rem);else for(Za=Nb=0;Nb<hb;++Nb)ha.modified("query",Nb)&&(Za|=Va[Nb].one,this.incrementAll(Va[Nb],Ia[Nb],Ba,Sa.add),Sa.rem=Sa.add);return Za},incrementAll(ha,Ba,Sa,Va){var Ia=this.value;const hb=Ia.seen(),Za=Ia.curr();Ia=Ia.prev();const qb=ha.index();var Nb=ha.bisect(ha.range),$a=ha.bisect(Ba);const V=$a[0];$a=$a[1];const N=Nb[0];Nb=Nb[1];const na=ha.one;let oa,Na,la;if(V<N)for(oa=V,Na=Math.min(N,$a);oa<Na;++oa)la=qb[oa],hb[la]!==Sa&&(Ia[la]=Za[la],hb[la]=Sa,Va.push(la)),Za[la]^=
na;else if(V>N)for(oa=N,Na=Math.min(V,Nb);oa<Na;++oa)la=qb[oa],hb[la]!==Sa&&(Ia[la]=Za[la],hb[la]=Sa,Va.push(la)),Za[la]^=na;if($a>Nb)for(oa=Math.max(V,Nb),Na=$a;oa<Na;++oa)la=qb[oa],hb[la]!==Sa&&(Ia[la]=Za[la],hb[la]=Sa,Va.push(la)),Za[la]^=na;else if($a<Nb)for(oa=Math.max(N,$a),Na=Nb;oa<Na;++oa)la=qb[oa],hb[la]!==Sa&&(Ia[la]=Za[la],hb[la]=Sa,Va.push(la)),Za[la]^=na;ha.range=Ba.slice()},incrementOne(ha,Ba,Sa,Va){const Ia=this.value.curr(),hb=ha.index();var Za=ha.bisect(ha.range),qb=ha.bisect(Ba);
const Nb=qb[0];qb=qb[1];const $a=Za[0];Za=Za[1];const V=ha.one;let N,na,oa;if(Nb<$a)for(N=Nb,na=Math.min($a,qb);N<na;++N)oa=hb[N],Ia[oa]^=V,Sa.push(oa);else if(Nb>$a)for(N=$a,na=Math.min(Nb,Za);N<na;++N)oa=hb[N],Ia[oa]^=V,Va.push(oa);if(qb>Za)for(N=Math.max(Nb,Za),na=qb;N<na;++N)oa=hb[N],Ia[oa]^=V,Sa.push(oa);else if(qb<Za)for(N=Math.max($a,qb),na=Za;N<na;++N)oa=hb[N],Ia[oa]^=V,Va.push(oa);ha.range=Ba.slice()}});tb.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",
required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};ia.inherits(tb,h.Transform,{transform(ha,Ba){const Sa=~(ha.ignore||0);ha=ha.filter;const Va=ha.mask;if(0===(Va&Sa))return Ba.StopPropagation;Ba=Ba.fork(Ba.ALL);const Ia=ha.data(),hb=ha.curr(),Za=ha.prev(),qb=Nb=>hb[Nb]&Sa?null:Ia[Nb];Ba.filter(Ba.MOD,qb);Va&Va-1?(Ba.filter(Ba.ADD,Nb=>{const $a=hb[Nb]&Sa;return!$a&&
$a^Za[Nb]&Sa?Ia[Nb]:null}),Ba.filter(Ba.REM,Nb=>{const $a=hb[Nb]&Sa;return!$a||$a^$a^Za[Nb]&Sa?null:Ia[Nb]})):(Ba.filter(Ba.ADD,qb),Ba.filter(Ba.REM,Nb=>(hb[Nb]&Sa)===Va?Ia[Nb]:null));return Ba.filter(Ba.SOURCE,Nb=>qb(Nb._index))}});t.crossfilter=bb;t.resolvefilter=tb})};
shadow$provide[47]=function(Db,nb,Dc,Wa){(function(t,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,nb(21)):"function"===typeof define&&define.amd?define(["exports","vega-util"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega))})(this,function(t,h){function ia(v){this.type=v}function Ya(v){switch(v.type){case "ArrayExpression":return v.elements;case "BinaryExpression":case "LogicalExpression":return[v.left,v.right];case "CallExpression":return[v.callee].concat(v.arguments);
case "ConditionalExpression":return[v.test,v.consequent,v.alternate];case "MemberExpression":return[v.object,v.property];case "ObjectExpression":return v.properties;case "Property":return[v.key,v.value];case "UnaryExpression":return[v.argument];default:return[]}}function ub(v,z){if(!v)throw Error("ASSERT: "+z);}function Yb(v){return 48<=v&&57>=v}function dc(v){return 0<="0123456789abcdefABCDEF".indexOf(v)}function Wb(v){return 0<="01234567".indexOf(v)}function nc(v){return 10===v||13===v||8232===
v||8233===v}function Ab(v){return 36===v||95===v||65<=v&&90>=v||97<=v&&122>=v||92===v||128<=v&&x.test(String.fromCharCode(v))}function Ub(v){return 36===v||95===v||65<=v&&90>=v||97<=v&&122>=v||48<=v&&57>=v||92===v||128<=v&&U.test(String.fromCharCode(v))}function jc(){for(;l<D;){const v=qa.charCodeAt(l);if(32===v||9===v||11===v||12===v||160===v||5760<=v&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(v)||nc(v))++l;else break}}function Ea(v){var z=
0;var F="u"===v?4:2;for(v=0;v<F;++v)if(l<D&&dc(qa[l])){var W=qa[l++];z=16*z+"0123456789abcdef".indexOf(W.toLowerCase())}else Ia({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(z)}function bb(){var v=qa.charCodeAt(l++);var z=String.fromCharCode(v);92===v&&(117!==qa.charCodeAt(l)&&Ia({},"Unexpected token %0","ILLEGAL"),++l,(v=Ea("u"))&&"\\"!==v&&Ab(v.charCodeAt(0))||Ia({},"Unexpected token %0","ILLEGAL"),z=v);for(;l<D;){v=qa.charCodeAt(l);if(!Ub(v))break;++l;z+=String.fromCharCode(v);
92===v&&(z=z.substr(0,z.length-1),117!==qa.charCodeAt(l)&&Ia({},"Unexpected token %0","ILLEGAL"),++l,(v=Ea("u"))&&"\\"!==v&&Ub(v.charCodeAt(0))||Ia({},"Unexpected token %0","ILLEGAL"),z+=v)}return z}function tb(){var v=l,z=qa.charCodeAt(l),F=qa[l];switch(z){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++l,{type:7,value:String.fromCharCode(z),start:v,end:l};default:var W=qa.charCodeAt(l+1);if(61===W)switch(z){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return l+=
2,{type:7,value:String.fromCharCode(z)+String.fromCharCode(W),start:v,end:l};case 33:case 61:return l+=2,61===qa.charCodeAt(l)&&++l,{type:7,value:qa.slice(v,l),start:v,end:l}}}z=qa.substr(l,4);if("\x3e\x3e\x3e\x3d"===z)return l+=4,{type:7,value:z,start:v,end:l};z=z.substr(0,3);if("\x3e\x3e\x3e"===z||"\x3c\x3c\x3d"===z||"\x3e\x3e\x3d"===z)return l+=3,{type:7,value:z,start:v,end:l};z=z.substr(0,2);if(F===z[1]&&0<="+-\x3c\x3e\x26|".indexOf(F)||"\x3d\x3e"===z)return l+=2,{type:7,value:z,start:v,end:l};
"//"===z&&Ia({},"Unexpected token %0","ILLEGAL");if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(F))return++l,{type:7,value:F,start:v,end:l};Ia({},"Unexpected token %0","ILLEGAL")}function rb(){var v=qa[l];ub(Yb(v.charCodeAt(0))||"."===v,"Numeric literal must start with a decimal digit or a decimal point");var z=l;var F="";if("."!==v){F=qa[l++];v=qa[l];if("0"===F){if("x"===v||"X"===v){++l;for(F="";l<D&&dc(qa[l]);)F+=qa[l++];0===F.length&&Ia({},"Unexpected token %0","ILLEGAL");Ab(qa.charCodeAt(l))&&Ia({},
"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt("0x"+F,16),start:z,end:l}}if(Wb(v)){for(F="0"+qa[l++];l<D&&Wb(qa[l]);)F+=qa[l++];(Ab(qa.charCodeAt(l))||Yb(qa.charCodeAt(l)))&&Ia({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(F,8),octal:!0,start:z,end:l}}v&&Yb(v.charCodeAt(0))&&Ia({},"Unexpected token %0","ILLEGAL")}for(;Yb(qa.charCodeAt(l));)F+=qa[l++];v=qa[l]}if("."===v){for(F+=qa[l++];Yb(qa.charCodeAt(l));)F+=qa[l++];v=qa[l]}if("e"===v||"E"===v){F+=qa[l++];v=qa[l];
if("+"===v||"-"===v)F+=qa[l++];if(Yb(qa.charCodeAt(l)))for(;Yb(qa.charCodeAt(l));)F+=qa[l++];else Ia({},"Unexpected token %0","ILLEGAL")}Ab(qa.charCodeAt(l))&&Ia({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(F),start:z,end:l}}function pb(v,z){let F=v;0<=z.indexOf("u")&&(F=F.replace(/\\u\{([0-9a-fA-F]+)\}/g,(W,ta)=>{if(1114111>=parseInt(ta,16))return"x";Ia({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(F)}catch(W){Ia({},"Invalid regular expression")}try{return new RegExp(v,
z)}catch(W){return null}}function vb(){jc();if(l>=D)return{type:2,start:l,end:l};var v=qa.charCodeAt(l);if(Ab(v)){v=l;if(92===qa.charCodeAt(l))var z=bb();else a:{for(z=l++;l<D;){var F=qa.charCodeAt(l);if(92===F){l=z;z=bb();break a}if(Ub(F))++l;else break}z=qa.slice(z,l)}return{type:1===z.length?3:A.hasOwnProperty(z)?4:"null"===z?5:"true"===z||"false"===z?1:3,value:z,start:v,end:l}}if(40===v||41===v||59===v)return tb();if(39===v||34===v){var W="";F=!1;v=qa[l];ub("'"===v||'"'===v,"String literal must starts with a quote");
z=l;for(++l;l<D;){var ta=qa[l++];if(ta===v){v="";break}else if("\\"===ta)if((ta=qa[l++])&&nc(ta.charCodeAt(0)))"\r"===ta&&"\n"===qa[l]&&++l;else switch(ta){case "u":case "x":if("{"===qa[l]){++l;var O=qa[l];ta=0;for("}"===O&&Ia({},"Unexpected token %0","ILLEGAL");l<D;){O=qa[l++];if(!dc(O))break;ta=16*ta+"0123456789abcdef".indexOf(O.toLowerCase())}(1114111<ta||"}"!==O)&&Ia({},"Unexpected token %0","ILLEGAL");ta=65535>=ta?String.fromCharCode(ta):String.fromCharCode((ta-65536>>10)+55296,(ta-65536&1023)+
56320);W+=ta}else W+=Ea(ta);break;case "n":W+="\n";break;case "r":W+="\r";break;case "t":W+="\t";break;case "b":W+="\b";break;case "f":W+="\f";break;case "v":W+="\v";break;default:Wb(ta)?(O="01234567".indexOf(ta),0!==O&&(F=!0),l<D&&Wb(qa[l])&&(F=!0,O=8*O+"01234567".indexOf(qa[l++]),0<="0123".indexOf(ta)&&l<D&&Wb(qa[l])&&(O=8*O+"01234567".indexOf(qa[l++]))),W+=String.fromCharCode(O)):W+=ta}else if(nc(ta.charCodeAt(0)))break;else W+=ta}""!==v&&Ia({},"Unexpected token %0","ILLEGAL");return{type:8,value:W,
octal:F,start:z,end:l}}return 46===v?Yb(qa.charCodeAt(l+1))?rb():tb():Yb(v)?rb():tb()}function gb(){const v=K;l=v.end;K=vb();l=v.end;return v}function fc(){const v=l;K=vb();l=v}function sa(v,z,F){const W=new ia("||"===v||"\x26\x26"===v?"LogicalExpression":"BinaryExpression");W.operator=v;W.left=z;W.right=F;return W}function ha(v){const z=new ia("Identifier");z.name=v;return z}function Ba(v){const z=new ia("Literal");z.value=v.value;z.raw=qa.slice(v.start,v.end);v.regex&&("//"===z.raw&&(z.raw="/(?:)/"),
z.regex=v.regex);return z}function Sa(v,z,F){const W=new ia("MemberExpression");W.computed="["===v;W.object=z;W.property=F;W.computed||(F.member=!0);return W}function Va(v,z,F){const W=new ia("Property");W.key=z;W.value=F;W.kind=v;return W}function Ia(v,z){var F=Array.prototype.slice.call(arguments,2),W=z.replace(/%(\d)/g,(O,ja)=>{ub(ja<F.length,"Message reference must be in range");return F[ja]});var ta=Error(W);ta.index=l;ta.description=W;throw ta;}function hb(v){2===v.type&&Ia(v,"Unexpected end of input");
6===v.type&&Ia(v,"Unexpected number");8===v.type&&Ia(v,"Unexpected string");3===v.type&&Ia(v,"Unexpected identifier");4===v.type&&Ia(v,"Unexpected reserved word");Ia(v,"Unexpected token %0",v.value)}function Za(v){const z=gb();7===z.type&&z.value===v||hb(z)}function qb(v){return 7===K.type&&K.value===v}function Nb(){l=K.start;const v=gb();return 8===v.type||6===v.type?(v.octal&&Ia(v,"Octal literals are not allowed in strict mode."),Ba(v)):ha(v.value)}function $a(){if(qb("(")){Za("(");var v=Na();Za(")");
return v}if(qb("[")){v=[];l=K.start;for(Za("[");!qb("]");)qb(",")?(gb(),v.push(null)):(v.push(oa()),qb("]")||Za(","));gb();var z=new ia("ArrayExpression");z.elements=v;return z}if(qb("{")){v=[];z={};var F=String;l=K.start;for(Za("{");!qb("}");){l=K.start;var W=K;if(3===W.type){var ta=Nb();Za(":");W=oa();W=Va("init",ta,W)}else 2===W.type||7===W.type?(hb(W),W=void 0):(ta=Nb(),Za(":"),W=oa(),W=Va("init",ta,W));ta="Identifier"===W.key.type?W.key.name:F(W.key.value);ta="$"+ta;Object.prototype.hasOwnProperty.call(z,
ta)?Ia({},"Duplicate data property in object literal not allowed in strict mode"):z[ta]=!0;v.push(W);qb("}")||Za(",")}Za("}");z=new ia("ObjectExpression");z.properties=v;return z}v=K.type;l=K.start;if(3===v||X[K.value])z=ha(gb().value);else if(8===v||6===v)K.octal&&Ia(K,"Octal literals are not allowed in strict mode."),z=Ba(gb());else{if(4===v)throw Error("Disabled.");if(1===v)v=gb(),v.value="true"===v.value,z=Ba(v);else if(5===v)v=gb(),v.value=null,z=Ba(v);else if(qb("/")||qb("/\x3d")){var O;K=null;
jc();v=l;z=qa[l];ub("/"===z,"Regular expression literal must start with a slash");F=qa[l++];for(ta=W=!1;l<D;)if(z=qa[l++],F+=z,"\\"===z)z=qa[l++],nc(z.charCodeAt(0))&&Ia({},"Invalid regular expression: missing /"),F+=z;else if(nc(z.charCodeAt(0)))Ia({},"Invalid regular expression: missing /");else if(W)"]"===z&&(W=!1);else if("/"===z){ta=!0;break}else"["===z&&(W=!0);ta||Ia({},"Invalid regular expression: missing /");z=F.substr(1,F.length-2);for(O=ta="";l<D;){W=qa[l];if(!Ub(W.charCodeAt(0)))break;
++l;"\\"===W&&l<D?Ia({},"Unexpected token %0","ILLEGAL"):(O+=W,ta+=W)}0<=O.search(/[^gimuy]/g)&&Ia({},"Invalid regular expression",O);W=O;O=pb(z,W);z=Ba({literal:F+ta,value:O,regex:{pattern:z,flags:W},start:v,end:l});fc()}else hb(gb())}return z}function V(){var v;for(v=$a();;)if(qb(".")){Za(".");l=K.start;var z=gb();3===z.type||4===z.type||1===z.type||5===z.type||hb(z);z=ha(z.value);v=Sa(".",v,z)}else if(qb("(")){z=[];Za("(");if(!qb(")"))for(;l<D;){z.push(oa());if(qb(")"))break;Za(",")}Za(")");const F=
new ia("CallExpression");F.callee=v;F.arguments=z;v=F}else if(qb("["))Za("["),z=Na(),Za("]"),v=Sa("[",v,z);else break;if(7===K.type&&(qb("++")||qb("--")))throw Error("Disabled.");return v}function N(){if(7!==K.type&&4!==K.type)var v=V();else{if(qb("++")||qb("--"))throw Error("Disabled.");if(qb("+")||qb("-")||qb("~")||qb("!")){var z=gb();v=N();z=z.value;const F=new ia("UnaryExpression");F.operator=z;F.argument=v;F.prefix=!0;v=F}else{if(4===K.type&&"delete"===K.value||4===K.type&&"void"===K.value||
4===K.type&&"typeof"===K.value)throw Error("Disabled.");v=V()}}return v}function na(v){let z=0;if(7!==v.type&&4!==v.type)return 0;switch(v.value){case "||":z=1;break;case "\x26\x26":z=2;break;case "|":z=3;break;case "^":z=4;break;case "\x26":z=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":z=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":z=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":z=8;break;case "+":case "-":z=
9;break;case "*":case "/":case "%":z=11}return z}function oa(){var v=K;var z=N();var F=K;var W=na(F);if(0===W)var ta=z;else{F.prec=W;gb();v=[v,K];var O=N();for(ta=[z,F,O];0<(W=na(K));){for(;2<ta.length&&W<=ta[ta.length-2].prec;)O=ta.pop(),F=ta.pop().value,z=ta.pop(),v.pop(),z=sa(F,z,O),ta.push(z);F=gb();F.prec=W;ta.push(F);v.push(K);z=N();ta.push(z)}W=ta.length-1;z=ta[W];for(v.pop();1<W;)v.pop(),z=sa(ta[W-1].value,ta[W-2],z),W-=2;ta=z}qb("?")&&(gb(),v=oa(),Za(":"),W=oa(),z=new ia("ConditionalExpression"),
z.test=ta,z.consequent=v,z.alternate=W,ta=z);return ta}function Na(){const v=oa();if(qb(","))throw Error("Disabled.");return v}function la(v){function z(F,W,ta){return O=>{let ja=v(O[0]);W&&(ja=W+"("+ja+")",0===W.lastIndexOf("new ",0)&&(ja="("+ja+")"));return ja+"."+F+(0>ta?"":0===ta?"()":"("+O.slice(1).map(v).join(",")+")")}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",
floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(F){3>F.length&&h.error("Missing arguments to clamp function.");3<F.length&&h.error("Too many arguments to clamp function.");F=F.map(v);return"Math.max("+F[1]+", Math.min("+F[2]+","+F[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:z("getDate","new Date",0),day:z("getDay","new Date",0),
year:z("getFullYear","new Date",0),month:z("getMonth","new Date",0),hours:z("getHours","new Date",0),minutes:z("getMinutes","new Date",0),seconds:z("getSeconds","new Date",0),milliseconds:z("getMilliseconds","new Date",0),time:z("getTime","new Date",0),timezoneoffset:z("getTimezoneOffset","new Date",0),utcdate:z("getUTCDate","new Date",0),utcday:z("getUTCDay","new Date",0),utcyear:z("getUTCFullYear","new Date",0),utcmonth:z("getUTCMonth","new Date",0),utchours:z("getUTCHours","new Date",0),utcminutes:z("getUTCMinutes",
"new Date",0),utcseconds:z("getUTCSeconds","new Date",0),utcmilliseconds:z("getUTCMilliseconds","new Date",0),length:z("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:z("toUpperCase","String",0),lower:z("toLowerCase","String",0),substring:z("substring","String"),split:z("split","String"),trim:z("trim","String",0),regexp:"RegExp",test:z("test","RegExp"),if:function(F){3>F.length&&h.error("Missing arguments to if function.");3<F.length&&h.error("Too many arguments to if function.");
F=F.map(v);return"("+F[0]+"?"+F[1]+":"+F[2]+")"}}}ia.prototype.visit=function(v){let z,F,W;if(v(this))return 1;z=Ya(this);F=0;for(W=z.length;F<W;++F)if(z[F].visit(v))return 1};var qa,l,D,K,x=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),
U=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");
const A={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},X={"if":1};var G={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",
LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};t.ASTNode=ia;t.ArrayExpression="ArrayExpression";t.BinaryExpression="BinaryExpression";t.CallExpression="CallExpression";t.ConditionalExpression="ConditionalExpression";t.Identifier="Identifier";t.Literal="Literal";t.LogicalExpression="LogicalExpression";t.MemberExpression="MemberExpression";t.ObjectExpression="ObjectExpression";t.Property="Property";
t.RawCode="RawCode";t.UnaryExpression="UnaryExpression";t.codegenExpression=function(v){function z(Y){if(h.isString(Y))return Y;const Fa=Sb[Y.type];null==Fa&&h.error("Unsupported type: "+Y.type);return Fa(Y)}function F(Y){Y={code:z(Y),globals:Object.keys(Xa),fields:Object.keys(sb)};Xa={};sb={};return Y}v=v||{};const W=v.allowed?h.toSet(v.allowed):{},ta=v.forbidden?h.toSet(v.forbidden):{},O=v.constants||G,ja=(v.functions||la)(z),va=v.globalvar,Ma=v.fieldvar,Pa=h.isFunction(va)?va:Y=>`${va}["${Y}"]`;
let Xa={},sb={},ib=0;const Sb={Literal:Y=>Y.raw,Identifier:Y=>{Y=Y.name;if(0<ib)return Y;if(h.hasOwnProperty(ta,Y))return h.error("Illegal identifier: "+Y);if(h.hasOwnProperty(O,Y))return O[Y];if(h.hasOwnProperty(W,Y))return Y;Xa[Y]=1;return Pa(Y)},MemberExpression:Y=>{const Fa=!Y.computed,Kb=z(Y.object);Fa&&(ib+=1);Y=z(Y.property);if(Kb===Ma){var pc=sb;var ac=(ac=Y&&Y.length-1)&&('"'===Y[0]&&'"'===Y[ac]||"'"===Y[0]&&"'"===Y[ac])?Y.slice(1,-1):Y;pc[ac]=1}Fa&&--ib;return Kb+(Fa?"."+Y:"["+Y+"]")},CallExpression:Y=>
{"Identifier"!==Y.callee.type&&h.error("Illegal callee type: "+Y.callee.type);const Fa=Y.callee.name;Y=Y.arguments;const Kb=h.hasOwnProperty(ja,Fa)&&ja[Fa];Kb||h.error("Unrecognized function: "+Fa);return h.isFunction(Kb)?Kb(Y):Kb+"("+Y.map(z).join(",")+")"},ArrayExpression:Y=>"["+Y.elements.map(z).join(",")+"]",BinaryExpression:Y=>"("+z(Y.left)+" "+Y.operator+" "+z(Y.right)+")",UnaryExpression:Y=>"("+Y.operator+z(Y.argument)+")",ConditionalExpression:Y=>"("+z(Y.test)+"?"+z(Y.consequent)+":"+z(Y.alternate)+
")",LogicalExpression:Y=>"("+z(Y.left)+Y.operator+z(Y.right)+")",ObjectExpression:Y=>"{"+Y.properties.map(z).join(",")+"}",Property:Y=>{ib+=1;const Fa=z(Y.key);--ib;return Fa+":"+z(Y.value)}};F.functions=ja;F.constants=O;return F};t.constants=G;t.functions=la;t.parseExpression=function(v){qa=v;l=0;D=qa.length;K=null;fc();v=Na();if(2!==K.type)throw Error("Unexpect token after expression.");return v}})};
shadow$provide[48]=function(Db,nb,Dc,Wa){(function(t,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,nb(21),nb(47)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega,t.vega))})(this,function(t,h,ia){function Ya(sa,ha){return null==sa||null==ha?NaN:sa<ha?-1:sa>ha?1:sa>=ha?0:NaN}function ub(sa,ha){return null==sa||null==ha?NaN:ha<sa?-1:ha>sa?1:ha>=sa?0:NaN}function Yb(){return 0}function dc({_intern:sa,
_key:ha},Ba){ha=ha(Ba);return sa.has(ha)?sa.get(ha):Ba}function Wb({_intern:sa,_key:ha},Ba){ha=ha(Ba);if(sa.has(ha))return sa.get(ha);sa.set(ha,Ba);return Ba}function nc({_intern:sa,_key:ha},Ba){ha=ha(Ba);sa.has(ha)&&(Ba=sa.get(ha),sa.delete(ha));return Ba}function Ab(sa){return null!==sa&&"object"===typeof sa?sa.valueOf():sa}function Ub(sa){return sa instanceof bb?sa:new bb(sa)}function jc(sa){sa.getter&&sa.getter[tb]||(sa.getter=h.field(sa.field),sa.getter[tb]=!0);return sa.getter}function Ea(sa,
ha){var Ba=ha.fields;ha=ha.values;for(var Sa=Ba.length,Va=0,Ia,hb;Va<Sa;++Va)if(hb=Ba[Va],Ia=jc(hb)(sa),h.isDate(Ia)&&(Ia=h.toNumber(Ia)),h.isDate(ha[Va])&&(ha[Va]=h.toNumber(ha[Va])),h.isArray(ha[Va])&&h.isDate(ha[Va][0])&&(ha[Va]=ha[Va].map(h.toNumber)),"E"===hb.type){if(h.isArray(ha[Va])?0>ha[Va].indexOf(Ia):Ia!==ha[Va])return!1}else if("R"===hb.type){if(!h.inrange(Ia,ha[Va]))return!1}else if("R-RE"===hb.type){if(!h.inrange(Ia,ha[Va],!0,!1))return!1}else if("R-E"===hb.type){if(!h.inrange(Ia,ha[Va],
!1,!1))return!1}else if("R-LE"===hb.type&&!h.inrange(Ia,ha[Va],!1,!0))return!1;return!0}class bb extends Set{constructor(sa,ha=Ab){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:ha}});if(null!=sa)for(const Ba of sa)this.add(Ba)}has(sa){return super.has(dc(this,sa))}add(sa){return super.add(Wb(this,sa))}delete(sa){return super.delete(nc(this,sa))}}const tb=Symbol("vega_selection_getter"),rb=h.field("_vgsid_"),pb=function(sa){function ha(Ia,hb,Za=0,qb=Ia.length){if(Za<qb){if(0!==
Ba(hb,hb))return qb;do{const Nb=Za+qb>>>1;0>Sa(Ia[Nb],hb)?Za=Nb+1:qb=Nb}while(Za<qb)}return Za}let Ba,Sa,Va;2!==sa.length?(Ba=Ya,Sa=(Ia,hb)=>Ya(sa(Ia),hb),Va=(Ia,hb)=>sa(Ia)-hb):(Ba=sa===Ya||sa===ub?sa:Yb,Va=Sa=sa);return{left:ha,center:function(Ia,hb,Za=0,qb=Ia.length){qb=ha(Ia,hb,Za,qb-1);return qb>Za&&Va(Ia[qb-1],hb)>-Va(Ia[qb],hb)?qb-1:qb},right:function(Ia,hb,Za=0,qb=Ia.length){if(Za<qb){if(0!==Ba(hb,hb))return qb;do{const Nb=Za+qb>>>1;0>=Sa(Ia[Nb],hb)?Za=Nb+1:qb=Nb}while(Za<qb)}return Za}}}(rb),
vb=pb.left,gb=pb.right;var fc={_vgsid__union:function(...sa){const ha=new bb;for(const Ba of sa)for(const Sa of Ba)ha.add(Sa);return ha},_vgsid__intersect:function(sa,...ha){sa=new bb(sa);ha=ha.map(Ub);a:for(const Ba of sa)for(const Sa of ha)if(!Sa.has(Ba)){sa.delete(Ba);continue a}return sa},E_union:function(sa,ha){if(!sa.length)return ha;for(var Ba=0,Sa=ha.length;Ba<Sa;++Ba)0>sa.indexOf(ha[Ba])&&sa.push(ha[Ba]);return sa},E_intersect:function(sa,ha){return sa.length?sa.filter(Ba=>0<=ha.indexOf(Ba)):
ha},R_union:function(sa,ha){var Ba=h.toNumber(ha[0]),Sa=h.toNumber(ha[1]);Ba>Sa&&(Ba=ha[1],Sa=ha[0]);if(!sa.length)return[Ba,Sa];sa[0]>Ba&&(sa[0]=Ba);sa[1]<Sa&&(sa[1]=Sa);return sa},R_intersect:function(sa,ha){var Ba=h.toNumber(ha[0]),Sa=h.toNumber(ha[1]);Ba>Sa&&(Ba=ha[1],Sa=ha[0]);if(!sa.length)return[Ba,Sa];if(Sa<sa[0]||sa[1]<Ba)return[];sa[0]<Ba&&(sa[0]=Ba);sa[1]>Sa&&(sa[1]=Sa);return sa}};t.selectionIdTest=function(sa,ha,Ba){var Sa=this.context.data[sa];sa=Sa?Sa.values.value:[];Sa=Sa?Sa["index:unit"]&&
Sa["index:unit"].value:void 0;Ba="intersect"===Ba;ha=rb(ha);const Va=vb(sa,ha);if(Va===sa.length||rb(sa[Va])!==ha)return!1;if(Sa&&Ba){if(1===Sa.size)return!0;if(gb(sa,ha)-Va<Sa.size)return!1}return!0};t.selectionResolve=function(sa,ha,Ba,Sa){sa=(sa=this.context.data[sa])?sa.values.value:[];for(var Va={},Ia={},hb={},Za,qb,Nb,$a,V,N,na=sa.length,oa=0,Na,la;oa<na;++oa)if(Za=sa[oa],$a=Za.unit,qb=Za.fields,Nb=Za.values,qb&&Nb){Na=0;for(la=qb.length;Na<la;++Na)V=qb[Na],Za=Va[V.field]||(Va[V.field]={}),
N=Za[$a]||(Za[$a]=[]),hb[V.field]=V=V.type.charAt(0),V=fc[`${V}_union`],Za[$a]=V(N,h.array(Nb[Na]));Ba&&(N=Ia[$a]||(Ia[$a]=[]),N.push(h.array(Nb).reduce((qa,l,D)=>(qa[qb[D].field]=l,qa),{})))}else V="_vgsid_",Nb=rb(Za),Za=Va[V]||(Va[V]={}),N=Za[$a]||(Za[$a]=[]),N.push(Nb),Ba&&(N=Ia[$a]||(Ia[$a]=[]),N.push({_vgsid_:Nb}));ha=ha||"union";Va._vgsid_?Va._vgsid_=fc[`${"_vgsid_"}_${ha}`](...Object.values(Va._vgsid_)):Object.keys(Va).forEach(qa=>{Va[qa]=Object.keys(Va[qa]).map(l=>Va[qa][l]).reduce((l,D)=>
void 0===l?D:fc[`${hb[qa]}_${ha}`](l,D))});sa=Object.keys(Ia);Ba&&sa.length&&(Va[Sa?"vlPoint":"vlMulti"]="union"===ha?{or:sa.reduce((qa,l)=>(qa.push(...Ia[l]),qa),[])}:{and:sa.map(qa=>({or:Ia[qa]}))});return Va};t.selectionTest=function(sa,ha,Ba){var Sa=this.context.data[sa];sa=Sa?Sa.values.value:[];Sa=Sa?Sa["index:unit"]&&Sa["index:unit"].value:void 0;Ba="intersect"===Ba;for(var Va=sa.length,Ia=0,hb,Za,qb,Nb;Ia<Va;++Ia)if(hb=sa[Ia],Sa&&Ba){if(Za=Za||{},qb=Za[Nb=hb.unit]||0,-1!==qb){hb=Ea(ha,hb);
Za[Nb]=hb?-1:++qb;if(hb&&1===Sa.size)return!0;if(!hb&&qb===Sa.get(Nb).count)return!1}}else if(hb=Ea(ha,hb),Ba^hb)return hb;return Va&&Ba};t.selectionTuples=function(sa,ha){return sa.map(Ba=>h.extend(ha.fields?{values:ha.fields.map(Sa=>jc(Sa)(Ba.datum))}:{_vgsid_:rb(Ba.datum)},ha))};t.selectionVisitor=function(sa,ha,Ba,Sa){ha[0].type!==ia.Literal&&h.error("First argument to selection functions must be a string literal.");sa=ha[0].value;ha=2<=ha.length&&h.peek(ha).value;const Va=":"+sa;"intersect"!==
ha||h.hasOwnProperty(Sa,"@unit")||(Sa["@unit"]=Ba.getData(sa).indataRef(Ba,"unit"));h.hasOwnProperty(Sa,Va)||(Sa[Va]=Ba.getData(sa).tuplesRef())}})};
shadow$provide[49]=function(Db,nb,Dc,Wa){(function(t,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,nb(21),nb(47),nb(33),nb(29),nb(34),nb(48),nb(30),nb(23)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression vega-scale vega-dataflow vega-scenegraph vega-selections vega-statistics vega-time".split(" "),h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega,t.vega,t.vega,t.vega,t.vega,t.vega,t.vega,t.vega))})(this,function(t,h,ia,Ya,ub,Yb,dc,
Wb,nc){function Ab(T){return(T=this.context.data[T])?T.values.value:[]}function Ub(T,Ka,lb){return(lb=(T=this.context.data[T]["index:"+Ka])?T.value.get(lb):void 0)?lb.count:lb}function jc(T,Ka){const lb=this.context.dataflow;lb.pulse(this.context.data[T].input,lb.changeset().remove(h.truthy).insert(Ka));return 1}function Ea(T,Ka,lb){if(T){const Ic=this.context.dataflow;Ic.pulse(T.mark.source,Ic.changeset().encode(T,Ka))}return void 0!==lb?lb:T}function bb(T,Ka,lb){if(!Number.isInteger(T)||!Number.isInteger(Ka))return"";
Ld.setYear(2E3);Ld.setMonth(T);Ld.setDate(Ka);return cd.call(this,Ld,lb)}function tb(T){return bb.call(this,T,1,"%B")}function rb(T){return bb.call(this,T,1,"%b")}function pb(T){return bb.call(this,0,2+T,"%A")}function vb(T){return bb.call(this,0,2+T,"%a")}function gb(T,Ka,lb,Ic){Ka[0].type!==ia.Literal&&h.error("First argument to data functions must be a string literal.");T=Ka[0].value;Ka=":"+T;if(!h.hasOwnProperty(Ka,Ic))try{Ic[Ka]=lb.getData(T).tuplesRef()}catch(Kc){}}function fc(T,Ka,lb,Ic){Ka[0].type!==
ia.Literal&&h.error("First argument to indata must be a string literal.");Ka[1].type!==ia.Literal&&h.error("Second argument to indata must be a string literal.");T=Ka[0].value;Ka=Ka[1].value;const Kc="@"+Ka;h.hasOwnProperty(Kc,Ic)||(Ic[Kc]=lb.getData(T).indataRef(lb,Ka))}function sa(T,Ka,lb,Ic){if(Ka[0].type===ia.Literal)ha(lb,Ic,Ka[0].value);else for(T in lb.scales)ha(lb,Ic,T)}function ha(T,Ka,lb){const Ic="%"+lb;if(!h.hasOwnProperty(Ka,Ic))try{Ka[Ic]=T.scaleRef(lb)}catch(Kc){}}function Ba(T,Ka){if(h.isFunction(T))return T;
if(h.isString(T))return(T=Ka.scales[T])&&Ya.isRegisteredScale(T.value)?T.value:void 0}function Sa(T,Ka,lb){Ka.__bandwidth=Kc=>Kc&&Kc.bandwidth?Kc.bandwidth():0;lb._bandwidth=sa;lb._range=sa;lb._scale=sa;const Ic=Kc=>"_["+(Kc.type===ia.Literal?h.stringValue("%"+Kc.value):h.stringValue("%")+"+"+T(Kc))+"]";return{_bandwidth:Kc=>`this.__bandwidth(${Ic(Kc[0])})`,_range:Kc=>`${Ic(Kc[0])}.range()`,_scale:Kc=>`${Ic(Kc[0])}(${T(Kc[1])})`}}function Va(T){return 1<T?Ca:-1>T?-Ca:Math.asin(T)}function Ia(){}function hb(T,
Ka){if(T&&df.hasOwnProperty(T.type))df[T.type](T,Ka)}function Za(T,Ka,lb){var Ic=-1;lb=T.length-lb;for(Ka.lineStart();++Ic<lb;){var Kc=T[Ic];Ka.point(Kc[0],Kc[1],Kc[2])}Ka.lineEnd()}function qb(T,Ka){var lb=-1,Ic=T.length;for(Ka.polygonStart();++lb<Ic;)Za(T[lb],Ka,1);Ka.polygonEnd()}function Nb(T,Ka){if(T&&me.hasOwnProperty(T.type))me[T.type](T,Ka);else hb(T,Ka)}function $a(){ne.point=N}function V(){na(hf,pf)}function N(T,Ka){ne.point=na;hf=T;pf=Ka;T*=sc;Ka*=sc;Le=T;$e=Tc(Ka=Ka/2+Qa);Ze=ld(Ka)}function na(T,
Ka){T*=sc;Ka*=sc;Ka=Ka/2+Qa;var lb=T-Le,Ic=0<=lb?1:-1,Kc=Ic*lb;lb=Tc(Ka);Ka=ld(Ka);var Pd=Ze*Ka,se=$e*lb+Pd*Tc(Kc);Ic=Pd*Ic*ld(Kc);Oe.add(Ec(Ic,se));Le=T;$e=lb;Ze=Ka}function oa(T,Ka){return[T[1]*Ka[2]-T[2]*Ka[1],T[2]*Ka[0]-T[0]*Ka[2],T[0]*Ka[1]-T[1]*Ka[0]]}function Na(T,Ka){xa.push(Cb=[fe=T,oe=T]);Ka<le&&(le=Ka);Ka>y&&(y=Ka)}function la(T,Ka){var lb=[T*sc,Ka*sc];var Ic=lb[0];lb=lb[1];var Kc=Tc(lb);Ic=[Kc*Tc(Ic),Kc*ld(Ic),ld(lb)];if(Z){lb=oa(Z,Ic);Kc=lb=oa([lb[1],-lb[0],0],lb);var Pd=pd(Kc[0]*Kc[0]+
Kc[1]*Kc[1]+Kc[2]*Kc[2]);Kc[0]/=Pd;Kc[1]/=Pd;Kc[2]/=Pd;lb=[Ec(lb[1],lb[0]),Va(lb[2])];var se=T-M;Kc=0<se?1:-1;Pd=lb[0]*id*Kc;se=180<Mc(se);se^(Kc*M<Pd&&Pd<Kc*T)?(lb=lb[1]*id,lb>y&&(y=lb)):(Pd=(Pd+360)%360-180,se^(Kc*M<Pd&&Pd<Kc*T))?(lb=-lb[1]*id,lb<le&&(le=lb)):(Ka<le&&(le=Ka),Ka>y&&(y=Ka));se?T<M?U(fe,T)>U(fe,oe)&&(oe=T):U(T,oe)>U(fe,oe)&&(fe=T):oe>=fe?(T<fe&&(fe=T),T>oe&&(oe=T)):T>M?U(fe,T)>U(fe,oe)&&(oe=T):U(T,oe)>U(fe,oe)&&(fe=T)}else xa.push(Cb=[fe=T,oe=T]);Ka<le&&(le=Ka);Ka>y&&(y=Ka);Z=Ic;M=
T}function qa(){Ib.point=la}function l(){Cb[0]=fe;Cb[1]=oe;Ib.point=Na;Z=null}function D(T,Ka){if(Z){var lb=T-M;pa.add(180<Mc(lb)?lb+(0<lb?360:-360):lb)}else p=T,Q=Ka;ne.point(T,Ka);la(T,Ka)}function K(){ne.lineStart()}function x(){D(p,Q);ne.lineEnd();1E-6<Mc(pa)&&(fe=-(oe=180));Cb[0]=fe;Cb[1]=oe;Z=null}function U(T,Ka){return 0>(Ka-=T)?Ka+360:Ka}function A(T,Ka){return T[0]-Ka[0]}function X(T,Ka){return T[0]<=T[1]?T[0]<=Ka&&Ka<=T[1]:Ka<T[0]||T[1]<Ka}function G(T,Ka){T*=sc;Ka*=sc;var lb=Tc(Ka);v(lb*
Tc(T),lb*ld(T),ld(Ka))}function v(T,Ka,lb){++Xb;mc+=(T-mc)/Xb;vc+=(Ka-vc)/Xb;yc+=(lb-yc)/Xb}function z(){re.point=F}function F(T,Ka){T*=sc;Ka*=sc;var lb=Tc(Ka);$c=lb*Tc(T);Cd=lb*ld(T);Qd=ld(Ka);re.point=W;v($c,Cd,Qd)}function W(T,Ka){T*=sc;Ka*=sc;var lb=Tc(Ka),Ic=lb*Tc(T);T=lb*ld(T);Ka=ld(Ka);var Kc=Ec(pd((Kc=Cd*Ka-Qd*T)*Kc+(Kc=Qd*Ic-$c*Ka)*Kc+(Kc=$c*T-Cd*Ic)*Kc),$c*Ic+Cd*T+Qd*Ka);$b+=Kc;Jc+=Kc*($c+($c=Ic));Zc+=Kc*(Cd+(Cd=T));Yc+=Kc*(Qd+(Qd=Ka));v($c,Cd,Qd)}function ta(){re.point=G}function O(){re.point=
va}function ja(){Ma(Xd,te);re.point=G}function va(T,Ka){Xd=T;te=Ka;T*=sc;Ka*=sc;re.point=Ma;var lb=Tc(Ka);$c=lb*Tc(T);Cd=lb*ld(T);Qd=ld(Ka);v($c,Cd,Qd)}function Ma(T,Ka){T*=sc;Ka*=sc;var lb=Tc(Ka),Ic=lb*Tc(T);T=lb*ld(T);Ka=ld(Ka);lb=Cd*Ka-Qd*T;var Kc=Qd*Ic-$c*Ka,Pd=$c*T-Cd*Ic,se=Xc(lb,Kc,Pd),Te=Va(se);se=se&&-Te/se;jd.add(se*lb);$d.add(se*Kc);Rc.add(se*Pd);$b+=Te;Jc+=Te*($c+($c=Ic));Zc+=Te*(Cd+(Cd=T));Yc+=Te*(Qd+(Qd=Ka));v($c,Cd,Qd)}function Pa(T,Ka){return function(lb,Ic,Kc){return lb?(lb=Ba(lb,
(Kc||this).context))&&lb.path[T](Ic):Ka(Ic)}}function Xa(T,Ka){return(T=Ba(T,(Ka||this).context))&&T.scale()}function sb(T){const Ka=this.context.group;let lb=!1;if(Ka)for(;T;){if(T===Ka){lb=!0;break}T=T.mark.group}return lb}function ib(T,Ka,lb){try{T[Ka].apply(T,["EXPRESSION"].concat([].slice.call(lb)))}catch(Ic){T.warn(Ic)}return lb[lb.length-1]}function Sb(){return ib(this.context.dataflow,"warn",arguments)}function Y(){return ib(this.context.dataflow,"info",arguments)}function Fa(){return ib(this.context.dataflow,
"debug",arguments)}function Kb(T,Ka,lb){T.prototype=Ka.prototype=lb;lb.constructor=T}function pc(T,Ka){T=Object.create(T.prototype);for(var lb in Ka)T[lb]=Ka[lb];return T}function ac(){}function Mb(){return this.rgb().formatHex()}function Ob(){return this.rgb().formatRgb()}function xc(T){var Ka,lb;T=(T+"").trim().toLowerCase();return(Ka=jf.exec(T))?(lb=Ka[1].length,Ka=parseInt(Ka[1],16),6===lb?hd(Ka):3===lb?new xb(Ka>>8&15|Ka>>4&240,Ka>>4&15|Ka&240,(Ka&15)<<4|Ka&15,1):8===lb?ra(Ka>>24&255,Ka>>16&
255,Ka>>8&255,(Ka&255)/255):4===lb?ra(Ka>>12&15|Ka>>8&240,Ka>>8&15|Ka>>4&240,Ka>>4&15|Ka&240,((Ka&15)<<4|Ka&15)/255):null):(Ka=xe.exec(T))?new xb(Ka[1],Ka[2],Ka[3],1):(Ka=Qf.exec(T))?new xb(255*Ka[1]/100,255*Ka[2]/100,255*Ka[3]/100,1):(Ka=td.exec(T))?ra(Ka[1],Ka[2],Ka[3],Ka[4]):(Ka=Me.exec(T))?ra(255*Ka[1]/100,255*Ka[2]/100,255*Ka[3]/100,Ka[4]):(Ka=af.exec(T))?nd(Ka[1],Ka[2]/100,Ka[3]/100,1):(Ka=Se.exec(T))?nd(Ka[1],Ka[2]/100,Ka[3]/100,Ka[4]):Yf.hasOwnProperty(T)?hd(Yf[T]):"transparent"===T?new xb(NaN,
NaN,NaN,0):null}function hd(T){return new xb(T>>16&255,T>>8&255,T&255,1)}function ra(T,Ka,lb,Ic){0>=Ic&&(T=Ka=lb=NaN);return new xb(T,Ka,lb,Ic)}function Bb(T){T instanceof ac||(T=xc(T));if(!T)return new xb;T=T.rgb();return new xb(T.r,T.g,T.b,T.opacity)}function Ua(T,Ka,lb,Ic){return 1===arguments.length?Bb(T):new xb(T,Ka,lb,null==Ic?1:Ic)}function xb(T,Ka,lb,Ic){this.r=+T;this.g=+Ka;this.b=+lb;this.opacity=+Ic}function Fb(){return`#${Ac(this.r)}${Ac(this.g)}${Ac(this.b)}`}function Lb(){const T=Zb(this.opacity);
return`${1===T?"rgb(":"rgba("}${ic(this.r)}, ${ic(this.g)}, ${ic(this.b)}${1===T?")":`, ${T})`}`}function Zb(T){return isNaN(T)?1:Math.max(0,Math.min(1,T))}function ic(T){return Math.max(0,Math.min(255,Math.round(T)||0))}function Ac(T){T=ic(T);return(16>T?"0":"")+T.toString(16)}function nd(T,Ka,lb,Ic){0>=Ic?T=Ka=lb=NaN:0>=lb||1<=lb?T=Ka=NaN:0>=Ka&&(T=NaN);return new Ha(T,Ka,lb,Ic)}function Uc(T){if(T instanceof Ha)return new Ha(T.h,T.s,T.l,T.opacity);T instanceof ac||(T=xc(T));if(!T)return new Ha;
if(T instanceof Ha)return T;T=T.rgb();var Ka=T.r/255,lb=T.g/255,Ic=T.b/255,Kc=Math.min(Ka,lb,Ic),Pd=Math.max(Ka,lb,Ic),se=NaN,Te=Pd-Kc,ye=(Pd+Kc)/2;Te?(se=Ka===Pd?(lb-Ic)/Te+6*(lb<Ic):lb===Pd?(Ic-Ka)/Te+2:(Ka-lb)/Te+4,Te/=.5>ye?Pd+Kc:2-Pd-Kc,se*=60):Te=0<ye&&1>ye?0:se;return new Ha(se,Te,ye,T.opacity)}function ma(T,Ka,lb,Ic){return 1===arguments.length?Uc(T):new Ha(T,Ka,lb,null==Ic?1:Ic)}function Ha(T,Ka,lb,Ic){this.h=+T;this.s=+Ka;this.l=+lb;this.opacity=+Ic}function fb(T){T=(T||0)%360;return 0>
T?T+360:T}function S(T){return Math.max(0,Math.min(1,T||0))}function r(T,Ka,lb){return 255*(60>T?Ka+(lb-Ka)*T/60:180>T?lb:240>T?Ka+(lb-Ka)*(240-T)/60:Ka)}function da(T){if(T instanceof Da)return new Da(T.l,T.a,T.b,T.opacity);if(T instanceof Hc)return Nc(T);T instanceof xb||(T=Bb(T));var Ka=Eb(T.r),lb=Eb(T.g),Ic=Eb(T.b),Kc=Oa(.2225045*Ka+.7168786*lb+.0606169*Ic);if(Ka===lb&&lb===Ic)var Pd=Ka=Kc;else Pd=Oa((.4360747*Ka+.3850649*lb+.1430804*Ic)/.96422),Ka=Oa((.0139322*Ka+.0971045*lb+.7141733*Ic)/.82521);
return new Da(116*Kc-16,500*(Pd-Kc),200*(Kc-Ka),T.opacity)}function za(T,Ka,lb,Ic){return 1===arguments.length?da(T):new Da(T,Ka,lb,null==Ic?1:Ic)}function Da(T,Ka,lb,Ic){this.l=+T;this.a=+Ka;this.b=+lb;this.opacity=+Ic}function Oa(T){return T>Ff?Math.pow(T,1/3):T/Gf+Rf}function kb(T){return T>qf?T*T*T:Gf*(T-Rf)}function Vb(T){return 255*(.0031308>=T?12.92*T:1.055*Math.pow(T,1/2.4)-.055)}function Eb(T){return.04045>=(T/=255)?T/12.92:Math.pow((T+.055)/1.055,2.4)}function Hb(T){if(T instanceof Hc)return new Hc(T.h,
T.c,T.l,T.opacity);T instanceof Da||(T=da(T));if(0===T.a&&0===T.b)return new Hc(NaN,0<T.l&&100>T.l?0:NaN,T.l,T.opacity);var Ka=Math.atan2(T.b,T.a)*We;return new Hc(0>Ka?Ka+360:Ka,Math.sqrt(T.a*T.a+T.b*T.b),T.l,T.opacity)}function Cc(T,Ka,lb,Ic){return 1===arguments.length?Hb(T):new Hc(T,Ka,lb,null==Ic?1:Ic)}function Hc(T,Ka,lb,Ic){this.h=+T;this.c=+Ka;this.l=+lb;this.opacity=+Ic}function Nc(T){if(isNaN(T.h))return new Da(T.l,0,0,T.opacity);var Ka=T.h*Ef;return new Da(T.l,Math.cos(Ka)*T.c,Math.sin(Ka)*
T.c,T.opacity)}function xd(T){T/=255;return.03928>=T?T/12.92:Math.pow((T+.055)/1.055,2.4)}function sd(T){var Ka=Ua(T);T=xd(Ka.r);const lb=xd(Ka.g);Ka=xd(Ka.b);return.2126*T+.7152*lb+.0722*Ka}function ed(T,Ka){T=sd(T);Ka=sd(Ka);return(Math.max(T,Ka)+.05)/(Math.min(T,Ka)+.05)}function Jd(){const T=[].slice.call(arguments);T.unshift({});return h.extend(...T)}function Hd(T,Ka){if(T===Ka||T!==T&&Ka!==Ka)T=!0;else if(h.isArray(T))if(h.isArray(Ka)&&T.length===Ka.length)a:{for(let lb=0,Ic=T.length;lb<Ic;++lb)if(!Hd(T[lb],
Ka[lb])){T=!1;break a}T=!0}else T=!1;else T=h.isObject(T)&&h.isObject(Ka)?vd(T,Ka):!1;return T}function vd(T,Ka){for(const lb in T)if(!Hd(T[lb],Ka[lb]))return!1;return!0}function we(T){return Ka=>vd(T,Ka)}function Ed(T,Ka,lb,Ic,Kc,Pd){const se=this.context.dataflow,Te=this.context.data[T],ye=Te.input;T=se.stamp();let Sf=Te.changes,nf;if(!1===se._trigger||!(ye.value.length||Ka||Ic))return 0;if(!Sf||Sf.stamp<T)Te.changes=Sf=se.changeset(),Sf.stamp=T,se.runAfter(()=>{Te.modified=!0;se.pulse(ye,Sf).run()},
!0,1);lb&&(lb=!0===lb?h.truthy:h.isArray(lb)||ub.isTuple(lb)?lb:we(lb),Sf.remove(lb));Ka&&Sf.insert(Ka);Ic&&(lb=we(Ic),ye.value.some(lb)?Sf.remove(lb):Sf.insert(Ic));if(Kc)for(nf in Pd)Sf.modify(Kc,nf,Pd[nf]);return 1}function w(T){T=T.touches;return Math.hypot(T[0].clientX-T[1].clientX,T[0].clientY-T[1].clientY)}function I(T){T=T.touches;return Math.atan2(T[0].clientY-T[1].clientY,T[0].clientX-T[1].clientX)}function wa(T,Ka){Ka=rf[Ka]||(rf[Ka]=h.field(Ka));return h.isArray(T)?T.map(Ka):Ka(T)}function Ja(T){return h.isArray(T)||
ArrayBuffer.isView(T)?T:null}function jb(T){return Ja(T)||(h.isString(T)?T:null)}function wb(T,...Ka){return Ja(T).join(...Ka)}function ec(T,...Ka){return jb(T).indexOf(...Ka)}function Qb(T,...Ka){return jb(T).lastIndexOf(...Ka)}function qc(T,...Ka){return jb(T).slice(...Ka)}function Fc(T,Ka,lb){h.isFunction(lb)&&h.error("Function argument passed to replace.");return String(T).replace(Ka,lb)}function zc(T){return Ja(T).slice().reverse()}function bd(T,Ka,lb){return Ya.bandSpace(T||0,Ka||0,lb||0)}function md(T,
Ka){return(T=Ba(T,(Ka||this).context))&&T.bandwidth?T.bandwidth():0}function qd(T,Ka){return(T=Ba(T,(Ka||this).context))?T.copy():void 0}function Gd(T,Ka){return(T=Ba(T,(Ka||this).context))?T.domain():[]}function kd(T,Ka,lb){return(T=Ba(T,(lb||this).context))?h.isArray(Ka)?(T.invertRange||T.invert)(Ka):(T.invert||T.invertExtent)(Ka):void 0}function Od(T,Ka){return(T=Ba(T,(Ka||this).context))&&T.range?T.range():[]}function he(T,Ka,lb){return(T=Ba(T,(lb||this).context))?T(Ka):void 0}function Ne(T,Ka,
lb,Ic,Kc){T=Ba(T,(Kc||this).context);const Pd=Yb.Gradient(Ka,lb);Ka=T.domain();lb=Ka[0];Kc=h.peek(Ka);let se=h.identity;Kc-lb?se=Ya.scaleFraction(T,lb,Kc):T=(T.interpolator?Ya.scale("sequential")().interpolator(T.interpolator()):Ya.scale("linear")().interpolate(T.interpolate()).range(T.range())).domain([lb=0,Kc=1]);T.ticks&&(Ka=T.ticks(+Ic||15),lb!==Ka[0]&&Ka.unshift(lb),Kc!==h.peek(Ka)&&Ka.push(Kc));Ka.forEach(Te=>Pd.stop(se(Te),T(Te)));return Pd}function Ie(T,Ka,lb){const Ic=Ba(T,(lb||this).context);
return function(Kc){return Ic?Ic.path.context(Kc)(Ka):""}}function Fe(T){let Ka=null;return function(lb){return lb?Yb.pathRender(lb,Ka=Ka||Yb.pathParse(T)):T}}function uf(T,Ka){T=Ab.call(Ka,T);return T.root&&T.root.lookup||{}}function gf(T,Ka,lb){T=uf(T,this);Ka=T[Ka];lb=T[lb];return Ka&&lb?Ka.path(lb).map(rg):void 0}function E(T,Ka){return(T=uf(T,this)[Ka])?T.ancestors().map(rg):void 0}function ca(){const T="undefined"!==typeof window&&window||null;return T?T.screen:{}}function Ga(){const T="undefined"!==
typeof window&&window||null;return T?[T.innerWidth,T.innerHeight]:[void 0,void 0]}function eb(){var T=this.context.dataflow;return(T=T.container&&T.container())?[T.clientWidth,T.clientHeight]:[void 0,void 0]}function Gb(T,Ka,lb){if(!T)return[];const [Ic,Kc]=T;T=(new Yb.Bounds).set(Ic[0],Ic[1],Kc[0],Kc[1]);lb=lb||this.context.dataflow.scenegraph().root;return Yb.intersect(lb,T,rc(Ka))}function rc(T){let Ka=null;if(T){const lb=h.array(T.marktype),Ic=h.array(T.markname);Ka=Kc=>(!lb.length||lb.some(Pd=>
Kc.marktype===Pd))&&(!Ic.length||Ic.some(Pd=>Kc.name===Pd))}return Ka}function Rb(T,Ka,lb){if(1===arguments.length)return zf[T];zf[T]=Ka;lb&&(kg[T]=lb);lg&&(lg.functions[T]="this."+T);return this}const Sc=T=>function(Ka,lb){return this.context.dataflow.locale()[T](lb)(Ka)},fd=Sc("format"),cd=Sc("timeFormat"),Oc=Sc("utcFormat"),Nd=Sc("timeParse"),Md=Sc("utcParse"),Ld=new Date(2E3,0,1);class Ad{constructor(){this._partials=new Float64Array(32);this._n=0}add(T){const Ka=this._partials;let lb=0;for(let Ic=
0;Ic<this._n&&32>Ic;Ic++){const Kc=Ka[Ic],Pd=T+Kc;(T=Math.abs(T)<Math.abs(Kc)?T-(Pd-Kc):Kc-(Pd-T))&&(Ka[lb++]=T);T=Pd}Ka[lb]=T;this._n=lb+1;return this}valueOf(){const T=this._partials;let Ka=this._n;let lb,Ic=0;if(0<Ka){for(Ic=T[--Ka];0<Ka;){var Kc=Ic;lb=T[--Ka];Ic=Kc+lb;if(Kc=lb-(Ic-Kc))break}0<Ka&&(0>Kc&&0>T[Ka-1]||0<Kc&&0<T[Ka-1])&&(lb=2*Kc,Kc=Ic+lb,lb==Kc-Ic&&(Ic=Kc))}return Ic}}var Wd=Math.PI,Ca=Wd/2,Qa=Wd/4,bc=2*Wd,id=180/Wd,sc=Wd/180,Mc=Math.abs,Ec=Math.atan2,Tc=Math.cos,Xc=Math.hypot,ld=
Math.sin,pd=Math.sqrt,me={Feature:function(T,Ka){hb(T.geometry,Ka)},FeatureCollection:function(T,Ka){T=T.features;for(var lb=-1,Ic=T.length;++lb<Ic;)hb(T[lb].geometry,Ka)}},df={Sphere:function(T,Ka){Ka.sphere()},Point:function(T,Ka){T=T.coordinates;Ka.point(T[0],T[1],T[2])},MultiPoint:function(T,Ka){for(var lb=T.coordinates,Ic=-1,Kc=lb.length;++Ic<Kc;)T=lb[Ic],Ka.point(T[0],T[1],T[2])},LineString:function(T,Ka){Za(T.coordinates,Ka,0)},MultiLineString:function(T,Ka){T=T.coordinates;for(var lb=-1,Ic=
T.length;++lb<Ic;)Za(T[lb],Ka,0)},Polygon:function(T,Ka){qb(T.coordinates,Ka)},MultiPolygon:function(T,Ka){T=T.coordinates;for(var lb=-1,Ic=T.length;++lb<Ic;)qb(T[lb],Ka)},GeometryCollection:function(T,Ka){T=T.geometries;for(var lb=-1,Ic=T.length;++lb<Ic;)hb(T[lb],Ka)}},Oe=new Ad,Je=new Ad,hf,pf,Le,$e,Ze,ne={point:Ia,lineStart:Ia,lineEnd:Ia,polygonStart:function(){Oe=new Ad;ne.lineStart=$a;ne.lineEnd=V},polygonEnd:function(){var T=+Oe;Je.add(0>T?bc+T:T);this.lineStart=this.lineEnd=this.point=Ia},
sphere:function(){Je.add(bc)}},fe,le,oe,y,M,p,Q,Z,pa,xa,Cb,Ib={point:Na,lineStart:qa,lineEnd:l,polygonStart:function(){Ib.point=D;Ib.lineStart=K;Ib.lineEnd=x;pa=new Ad;ne.polygonStart()},polygonEnd:function(){ne.polygonEnd();Ib.point=Na;Ib.lineStart=qa;Ib.lineEnd=l;0>Oe?(fe=-(oe=180),le=-(y=90)):1E-6<pa?y=90:-1E-6>pa&&(le=-90);Cb[0]=fe;Cb[1]=oe},sphere:function(){fe=-(oe=180);le=-(y=90)}},Xb,$b,mc,vc,yc,Jc,Zc,Yc,jd,$d,Rc,Xd,te,$c,Cd,Qd,re={sphere:Ia,point:G,lineStart:z,lineEnd:ta,polygonStart:function(){re.lineStart=
O;re.lineEnd=ja},polygonEnd:function(){re.lineStart=z;re.lineEnd=ta}};const ue=Pa("area",function(T){Je=new Ad;Nb(T,ne);return 2*Je}),Sd=Pa("bounds",function(T){var Ka,lb,Ic;y=oe=-(fe=le=Infinity);xa=[];Nb(T,Ib);if(Ka=xa.length){xa.sort(A);T=1;var Kc=xa[0];for(lb=[Kc];T<Ka;++T){var Pd=xa[T];X(Kc,Pd[0])||X(Kc,Pd[1])?(U(Kc[0],Pd[1])>U(Kc[0],Kc[1])&&(Kc[1]=Pd[1]),U(Pd[0],Kc[1])>U(Kc[0],Kc[1])&&(Kc[0]=Pd[0])):lb.push(Kc=Pd)}var se=-Infinity;Ka=lb.length-1;T=0;for(Kc=lb[Ka];T<=Ka;Kc=Pd,++T)Pd=lb[T],(Ic=
U(Kc[1],Pd[0]))>se&&(se=Ic,fe=Pd[0],oe=Kc[1])}xa=Cb=null;return Infinity===fe||Infinity===le?[[NaN,NaN],[NaN,NaN]]:[[fe,le],[oe,y]]}),Ud=Pa("centroid",function(T){Xb=$b=mc=vc=yc=Jc=Zc=Yc=0;jd=new Ad;$d=new Ad;Rc=new Ad;Nb(T,re);T=+jd;var Ka=+$d,lb=+Rc,Ic=Xc(T,Ka,lb);return 1E-12>Ic&&(T=Jc,Ka=Zc,lb=Yc,1E-6>$b&&(T=mc,Ka=vc,lb=yc),Ic=Xc(T,Ka,lb),1E-12>Ic)?[NaN,NaN]:[Ec(Ka,T)*id,Va(lb/Ic)*id]});var Ke=1/.7,jf=/^#([0-9a-f]{3,8})$/,xe=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),
Qf=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),td=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Me=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
af=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Se=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Yf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,
bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,
darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,
lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,
mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,
plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,
yellow:16776960,yellowgreen:10145074};Kb(ac,xc,{copy(T){return Object.assign(new this.constructor,this,T)},displayable(){return this.rgb().displayable()},hex:Mb,formatHex:Mb,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Uc(this).formatHsl()},formatRgb:Ob,toString:Ob});Kb(xb,Ua,pc(ac,{brighter(T){T=null==T?Ke:Math.pow(Ke,T);return new xb(this.r*T,this.g*T,this.b*T,this.opacity)},darker(T){T=null==T?.7:Math.pow(.7,T);return new xb(this.r*T,this.g*T,this.b*T,this.opacity)},
rgb(){return this},clamp(){return new xb(ic(this.r),ic(this.g),ic(this.b),Zb(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Fb,formatHex:Fb,formatHex8:function(){return`#${Ac(this.r)}${Ac(this.g)}${Ac(this.b)}${Ac(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Lb,toString:Lb}));Kb(Ha,ma,pc(ac,{brighter(T){T=null==T?Ke:Math.pow(Ke,T);return new Ha(this.h,this.s,this.l*T,this.opacity)},
darker(T){T=null==T?.7:Math.pow(.7,T);return new Ha(this.h,this.s,this.l*T,this.opacity)},rgb(){var T=this.h%360+360*(0>this.h),Ka=isNaN(T)||isNaN(this.s)?0:this.s,lb=this.l;Ka=lb+(.5>lb?lb:1-lb)*Ka;lb=2*lb-Ka;return new xb(r(240<=T?T-240:T+120,lb,Ka),r(T,lb,Ka),r(120>T?T+240:T-120,lb,Ka),this.opacity)},clamp(){return new Ha(fb(this.h),S(this.s),S(this.l),Zb(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const T=
Zb(this.opacity);return`${1===T?"hsl(":"hsla("}${fb(this.h)}, ${100*S(this.s)}%, ${100*S(this.l)}%${1===T?")":`, ${T})`}`}}));const Ef=Math.PI/180,We=180/Math.PI,Rf=4/29,qf=6/29,Gf=3*qf*qf,Ff=qf*qf*qf;Kb(Da,za,pc(ac,{brighter(T){return new Da(this.l+18*(null==T?1:T),this.a,this.b,this.opacity)},darker(T){return new Da(this.l-18*(null==T?1:T),this.a,this.b,this.opacity)},rgb(){var T=(this.l+16)/116,Ka=isNaN(this.a)?T:T+this.a/500,lb=isNaN(this.b)?T:T-this.b/200;Ka=.96422*kb(Ka);T=1*kb(T);lb=.82521*
kb(lb);return new xb(Vb(3.1338561*Ka-1.6168667*T-.4906146*lb),Vb(-.9787684*Ka+1.9161415*T+.033454*lb),Vb(.0719453*Ka-.2289914*T+1.4052427*lb),this.opacity)}}));Kb(Hc,Cc,pc(ac,{brighter(T){return new Hc(this.h,this.c,this.l+18*(null==T?1:T),this.opacity)},darker(T){return new Hc(this.h,this.c,this.l-18*(null==T?1:T),this.opacity)},rgb(){return Nc(this).rgb()}}));const rf={},rg=T=>T.data,zf={random(){return Wb.random()},cumulativeNormal:Wb.cumulativeNormal,cumulativeLogNormal:Wb.cumulativeLogNormal,
cumulativeUniform:Wb.cumulativeUniform,densityNormal:Wb.densityNormal,densityLogNormal:Wb.densityLogNormal,densityUniform:Wb.densityUniform,quantileNormal:Wb.quantileNormal,quantileLogNormal:Wb.quantileLogNormal,quantileUniform:Wb.quantileUniform,sampleNormal:Wb.sampleNormal,sampleLogNormal:Wb.sampleLogNormal,sampleUniform:Wb.sampleUniform,isArray:h.isArray,isBoolean:h.isBoolean,isDate:h.isDate,isDefined(T){return void 0!==T},isNumber:h.isNumber,isObject:h.isObject,isRegExp:h.isRegExp,isString:h.isString,
isTuple:ub.isTuple,isValid(T){return null!=T&&T===T},toBoolean:h.toBoolean,toDate(T){return h.toDate(T)},toNumber:h.toNumber,toString:h.toString,indexof:ec,join:wb,lastindexof:Qb,replace:Fc,reverse:zc,slice:qc,flush:h.flush,lerp:h.lerp,merge:Jd,pad:h.pad,peek:h.peek,pluck:wa,span:h.span,inrange:h.inrange,truncate:h.truncate,rgb:Ua,lab:za,hcl:Cc,hsl:ma,luminance:sd,contrast:ed,sequence:function(T,Ka,lb){T=+T;Ka=+Ka;lb=2>(Kc=arguments.length)?(Ka=T,T=0,1):3>Kc?1:+lb;for(var Ic=-1,Kc=Math.max(0,Math.ceil((Ka-
T)/lb))|0,Pd=Array(Kc);++Ic<Kc;)Pd[Ic]=T+Ic*lb;return Pd},format:fd,utcFormat:Oc,utcParse:Md,utcOffset:nc.utcOffset,utcSequence:nc.utcSequence,timeFormat:cd,timeParse:Nd,timeOffset:nc.timeOffset,timeSequence:nc.timeSequence,timeUnitSpecifier:nc.timeUnitSpecifier,monthFormat:tb,monthAbbrevFormat:rb,dayFormat:pb,dayAbbrevFormat:vb,quarter:h.quarter,utcquarter:h.utcquarter,week:nc.week,utcweek:nc.utcweek,dayofyear:nc.dayofyear,utcdayofyear:nc.utcdayofyear,warn:Sb,info:Y,debug:Fa,extent(T){return h.extent(T)},
inScope:sb,intersect:Gb,clampRange:h.clampRange,pinchDistance:w,pinchAngle:I,screen:ca,containerSize:eb,windowSize:Ga,bandspace:bd,setdata:jc,pathShape:Fe,panLinear:h.panLinear,panLog:h.panLog,panPow:h.panPow,panSymlog:h.panSymlog,zoomLinear:h.zoomLinear,zoomLog:h.zoomLog,zoomPow:h.zoomPow,zoomSymlog:h.zoomSymlog,encode:Ea,modify:Ed,lassoAppend:function(T,Ka,lb,Ic=5){T=h.array(T);const Kc=T[T.length-1];return void 0===Kc||Math.hypot(Kc[0]-Ka,Kc[1]-lb)>Ic?[...T,[Ka,lb]]:T},lassoPath:function(T){return h.array(T).reduce((Ka,
[lb,Ic],Kc)=>Ka+(0==Kc?`M ${lb},${Ic} `:Kc===T.length-1?" Z":`L ${lb},${Ic} `),"")},intersectLasso:function(T,Ka,lb){const {x:Ic,y:Kc,mark:Pd}=lb;lb=(new Yb.Bounds).set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const [se,Te]of Ka)se<lb.x1&&(lb.x1=se),se>lb.x2&&(lb.x2=se),Te<lb.y1&&(lb.y1=Te),Te>lb.y2&&(lb.y2=Te);lb.translate(Ic,Kc);return Gb([[lb.x1,lb.y1],[lb.x2,lb.y2]],T,Pd).filter(se=>{var Te=se.y;let ye=0;for(let Sf=0,nf=Ka.length-1;Sf<
Ka.length;nf=Sf++){const [nh,Xg]=Ka[nf],[sg,fg]=Ka[Sf];fg>Te!=Xg>Te&&se.x<(nh-sg)*(Te-fg)/(Xg-fg)+sg&&ye++}return ye&1})}},Fh="view item group xy x y".split(" "),kg={},Ag={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:T=>`_[${h.stringValue("$"+T)}]`,functions:function(T){const Ka=ia.functions(T);Fh.forEach(lb=>Ka[lb]="event.vega."+lb);for(const lb in zf)Ka[lb]="this."+lb;h.extend(Ka,Sa(T,zf,kg));return Ka},constants:ia.constants,visitors:kg},lg=ia.codegenExpression(Ag);
Rb("bandwidth",md,sa);Rb("copy",qd,sa);Rb("domain",Gd,sa);Rb("range",Od,sa);Rb("invert",kd,sa);Rb("scale",he,sa);Rb("gradient",Ne,sa);Rb("geoArea",ue,sa);Rb("geoBounds",Sd,sa);Rb("geoCentroid",Ud,sa);Rb("geoShape",Ie,sa);Rb("geoScale",Xa,sa);Rb("indata",Ub,fc);Rb("data",Ab,gb);Rb("treePath",gf,gb);Rb("treeAncestors",E,gb);Rb("vlSelectionTest",dc.selectionTest,dc.selectionVisitor);Rb("vlSelectionIdTest",dc.selectionIdTest,dc.selectionVisitor);Rb("vlSelectionResolve",dc.selectionResolve,dc.selectionVisitor);
Rb("vlSelectionTuples",dc.selectionTuples);t.DataPrefix=":";t.IndexPrefix="@";t.ScalePrefix="%";t.SignalPrefix="$";t.bandspace=bd;t.bandwidth=md;t.codeGenerator=lg;t.codegenParams=Ag;t.containerSize=eb;t.contrast=ed;t.copy=qd;t.data=Ab;t.dataVisitor=gb;t.dayAbbrevFormat=vb;t.dayFormat=pb;t.debug=Fa;t.domain=Gd;t.encode=Ea;t.expressionFunction=Rb;t.format=fd;t.functionContext=zf;t.geoArea=ue;t.geoBounds=Sd;t.geoCentroid=Ud;t.geoScale=Xa;t.geoShape=Ie;t.inScope=sb;t.indata=Ub;t.indataVisitor=fc;t.indexof=
ec;t.info=Y;t.invert=kd;t.join=wb;t.lastindexof=Qb;t.luminance=sd;t.merge=Jd;t.modify=Ed;t.monthAbbrevFormat=rb;t.monthFormat=tb;t.parseExpression=function(T,Ka){const lb={};let Ic;try{T=h.isString(T)?T:h.stringValue(T)+"",Ic=ia.parseExpression(T)}catch(Kc){h.error("Expression parse error: "+T)}Ic.visit(Kc=>{if(Kc.type===ia.CallExpression){var Pd=Kc.callee.name,se=Ag.visitors[Pd];se&&se(Pd,Kc.arguments,Ka,lb)}});T=lg(Ic);T.globals.forEach(Kc=>{const Pd="$"+Kc;!h.hasOwnProperty(lb,Pd)&&Ka.getSignal(Kc)&&
(lb[Pd]=Ka.signalRef(Kc))});return{$expr:h.extend({code:T.code},Ka.options.ast?{ast:Ic}:null),$fields:T.fields,$params:lb}};t.pathShape=Fe;t.pinchAngle=I;t.pinchDistance=w;t.pluck=wa;t.range=Od;t.replace=Fc;t.reverse=zc;t.scale=he;t.scaleGradient=Ne;t.scaleVisitor=sa;t.screen=ca;t.setdata=jc;t.slice=qc;t.timeFormat=cd;t.timeParse=Nd;t.treeAncestors=E;t.treePath=gf;t.utcFormat=Oc;t.utcParse=Md;t.warn=Sb;t.windowSize=Ga})};
shadow$provide[50]=function(Db,nb,Dc,Wa){(function(t,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,nb(21),nb(29)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega,t.vega))})(this,function(t,h,ia){function Ya(Ea,bb,tb){tb.endsWith(";")||(tb="return("+tb+");");bb=Function(...bb.concat(tb));return Ea&&Ea.functions?bb.bind(Ea.functions):bb}function ub(Ea,bb,tb){if(!Ea||!h.isObject(Ea))return Ea;
for(let rb=0,pb=Ub.length,vb;rb<pb;++rb)if(vb=Ub[rb],h.hasOwnProperty(Ea,vb.key))return vb.parse(Ea,bb,tb);return Ea}function Yb(Ea,bb,tb,rb){this.dataflow=Ea;this.transforms=bb;this.events=Ea.events.bind(Ea);this.expr=rb||Ab;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};tb&&(this.functions=Object.create(tb),this.functions.context=this)}function dc(Ea){this.dataflow=Ea.dataflow;this.transforms=Ea.transforms;this.events=Ea.events;this.expr=Ea.expr;this.signals=Object.create(Ea.signals);
this.scales=Object.create(Ea.scales);this.nodes=Object.create(Ea.nodes);this.data=Object.create(Ea.data);this.fn=Object.create(Ea.fn);Ea.functions&&(this.functions=Object.create(Ea.functions),this.functions.context=this)}const Wb=h.toSet(["rule"]),nc=h.toSet(["group","image","rect"]);var Ab={operator:(Ea,bb)=>Ya(Ea,["_"],bb.code),parameter:(Ea,bb)=>Ya(Ea,["datum","_"],bb.code),event:(Ea,bb)=>Ya(Ea,["event"],bb.code),handler:(Ea,bb)=>Ya(Ea,["_","event"],`var datum=event.item&&event.item.datum;return ${bb.code};`),
encode:(Ea,bb)=>{const {marktype:tb,channels:rb}=bb;bb="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";for(var pb in rb){const vb="o["+h.stringValue(pb)+"]";bb+=`$=${rb[pb].code};if(${vb}!==$)${vb}=$,m=1;`}pb="";Wb[tb]||(rb.x2&&(rb.x?(nc[tb]&&(pb+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),pb+="o.width\x3do.x2-o.x;"):pb+="o.x\x3do.x2-(o.width||0);"),rb.xc&&(pb+="o.x\x3do.xc-(o.width||0)/2;"),rb.y2&&(rb.y?(nc[tb]&&(pb+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),pb+="o.height\x3do.y2-o.y;"):
pb+="o.y\x3do.y2-(o.height||0);"),rb.yc&&(pb+="o.y\x3do.yc-(o.height||0)/2;"));bb+=pb;return Ya(Ea,["item","_"],bb+"return m;")},codegen:{get(Ea){Ea=`[${Ea.map(h.stringValue).join("][")}]`;const bb=Function("_",`return _${Ea};`);bb.path=Ea;return bb},comparator(Ea,bb){let tb;Ea=Function("a","b","var u, v; return "+Ea.map((rb,pb)=>{const vb=bb[pb];let gb;rb.path?(gb=`a${rb.path}`,rb=`b${rb.path}`):((tb=tb||{})["f"+pb]=rb,gb=`this.f${pb}(a)`,rb=`this.f${pb}(b)`);pb=-vb;return`((u = ${gb}) < (v = ${rb}) || u == null) && v != null ? ${pb}
  : (u > v || v == null) && u != null ? ${vb}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${pb}
  : v !== v && u === u ? ${vb} : `}).join("")+"0;");return tb?Ea.bind(tb):Ea}}},Ub=[{key:"$ref",parse:function(Ea,bb){return bb.get(Ea.$ref)||h.error("Operator not defined: "+Ea.$ref)}},{key:"$key",parse:function(Ea,bb){const tb="k:"+Ea.$key+"_"+!!Ea.$flat;return bb.fn[tb]||(bb.fn[tb]=h.key(Ea.$key,Ea.$flat,bb.expr.codegen))}},{key:"$expr",parse:function(Ea,bb,tb){Ea.$params&&bb.parseParameters(Ea.$params,tb);tb="e:"+Ea.$expr.code;return bb.fn[tb]||(bb.fn[tb]=h.accessor(bb.parameterExpression(Ea.$expr),
Ea.$fields))}},{key:"$field",parse:function(Ea,bb){if(!Ea.$field)return null;const tb="f:"+Ea.$field+"_"+Ea.$name;return bb.fn[tb]||(bb.fn[tb]=h.field(Ea.$field,Ea.$name,bb.expr.codegen))}},{key:"$encode",parse:function(Ea,bb){Ea=Ea.$encode;const tb={};for(const rb in Ea){const pb=Ea[rb];tb[rb]=h.accessor(bb.encodeExpression(pb.$expr),pb.$fields);tb[rb].output=pb.$output}return tb}},{key:"$compare",parse:function(Ea,bb){const tb="c:"+Ea.$compare+"_"+Ea.$order,rb=h.array(Ea.$compare).map(pb=>pb&&pb.$tupleid?
ia.tupleid:pb);return bb.fn[tb]||(bb.fn[tb]=h.compare(rb,Ea.$order,bb.expr.codegen))}},{key:"$context",parse:function(Ea,bb){return bb}},{key:"$subflow",parse:function(Ea,bb){const tb=Ea.$subflow;return function(rb,pb,vb){const gb=bb.fork().parse(tb);rb=gb.get(tb.operators[0].id);(pb=gb.signals.parent)&&pb.set(vb);rb.detachSubflow=()=>bb.detach(gb);return rb}}},{key:"$tupleid",parse:function(){return ia.tupleid}}];const jc={skip:!0};Yb.prototype=dc.prototype={fork(){const Ea=new dc(this);(this.subcontext||
(this.subcontext=[])).push(Ea);return Ea},detach(Ea){this.subcontext=this.subcontext.filter(tb=>tb!==Ea);const bb=Object.keys(Ea.nodes);for(const tb of bb)Ea.nodes[tb]._targets=null;for(const tb of bb)Ea.nodes[tb].detach();Ea.nodes=null},get(Ea){return this.nodes[Ea]},set(Ea,bb){return this.nodes[Ea]=bb},add(Ea,bb){const tb=this,rb=tb.dataflow,pb=Ea.value;tb.set(Ea.id,bb);"collect"===(Ea.type+"").toLowerCase()&&pb&&(pb.$ingest?rb.ingest(bb,pb.$ingest,pb.$format):pb.$request?rb.preload(bb,pb.$request,
pb.$format):rb.pulse(bb,rb.changeset().insert(pb)));Ea.root&&(tb.root=bb);if(Ea.parent){let vb=tb.get(Ea.parent.$ref);vb?(rb.connect(vb,[bb]),bb.targets().add(vb)):(tb.unresolved=tb.unresolved||[]).push(()=>{vb=tb.get(Ea.parent.$ref);rb.connect(vb,[bb]);bb.targets().add(vb)})}Ea.signal&&(tb.signals[Ea.signal]=bb);Ea.scale&&(tb.scales[Ea.scale]=bb);if(Ea.data)for(const vb in Ea.data){const gb=tb.data[vb]||(tb.data[vb]={});Ea.data[vb].forEach(fc=>gb[fc]=bb)}},resolve(){(this.unresolved||[]).forEach(Ea=>
Ea());delete this.unresolved;return this},operator(Ea,bb){this.add(Ea,this.dataflow.add(Ea.value,bb))},transform(Ea,bb){this.add(Ea,this.dataflow.add(this.transforms[(bb+"").toLowerCase()]))},stream(Ea,bb){this.set(Ea.id,bb)},update(Ea,bb,tb,rb,pb){this.dataflow.on(bb,tb,rb,pb,Ea.options)},operatorExpression(Ea){return this.expr.operator(this,Ea)},parameterExpression(Ea){return this.expr.parameter(this,Ea)},eventExpression(Ea){return this.expr.event(this,Ea)},handlerExpression(Ea){return this.expr.handler(this,
Ea)},encodeExpression(Ea){return this.expr.encode(this,Ea)},parse:function(Ea){const bb=this,tb=Ea.operators||[];Ea.background&&(bb.background=Ea.background);Ea.eventConfig&&(bb.eventConfig=Ea.eventConfig);Ea.locale&&(bb.locale=Ea.locale);tb.forEach(rb=>bb.parseOperator(rb));tb.forEach(rb=>bb.parseOperatorParameters(rb));(Ea.streams||[]).forEach(rb=>bb.parseStream(rb));(Ea.updates||[]).forEach(rb=>bb.parseUpdate(rb));return bb.resolve()},parseOperator:function(Ea){"operator"!==(Ea.type+"").toLowerCase()&&
Ea.type?this.transform(Ea,Ea.type):this.operator(Ea,Ea.update?this.operatorExpression(Ea.update):null)},parseOperatorParameters:function(Ea){if(Ea.params){const bb=this.get(Ea.id);bb||h.error("Invalid operator id: "+Ea.id);this.dataflow.connect(bb,bb.parameters(this.parseParameters(Ea.params),Ea.react,Ea.initonly))}},parseParameters:function(Ea,bb){bb=bb||{};const tb=this;for(const rb in Ea){const pb=Ea[rb];bb[rb]=h.isArray(pb)?pb.map(vb=>ub(vb,tb,bb)):ub(pb,tb,bb)}return bb},parseStream:function(Ea){var bb=
this,tb=null!=Ea.filter?bb.eventExpression(Ea.filter):void 0,rb=null!=Ea.stream?bb.get(Ea.stream):void 0;if(Ea.source)rb=bb.events(Ea.source,Ea.type,tb);else if(Ea.merge){var pb=Ea.merge.map(vb=>bb.get(vb));rb=pb[0].merge.apply(pb[0],pb.slice(1))}Ea.between&&(pb=Ea.between.map(vb=>bb.get(vb)),rb=rb.between(pb[0],pb[1]));Ea.filter&&(rb=rb.filter(tb));null!=Ea.throttle&&(rb=rb.throttle(+Ea.throttle));null!=Ea.debounce&&(rb=rb.debounce(+Ea.debounce));null==rb&&h.error("Invalid stream definition: "+JSON.stringify(Ea));
Ea.consume&&rb.consume(!0);bb.stream(Ea,rb)},parseUpdate:function(Ea){var bb=h.isObject(bb=Ea.source)?bb.$ref:bb;bb=this.get(bb);var tb=Ea.update,rb=void 0;bb||h.error("Source not defined: "+Ea.source);var pb=Ea.target&&Ea.target.$expr?this.eventExpression(Ea.target.$expr):this.get(Ea.target);tb&&tb.$expr&&(tb.$params&&(rb=this.parseParameters(tb.$params)),tb=this.handlerExpression(tb.$expr));this.update(Ea,bb,pb,tb,rb)},getState:function(Ea){var bb=this,tb={};if(Ea.signals){var rb=tb.signals={};
Object.keys(bb.signals).forEach(vb=>{const gb=bb.signals[vb];Ea.signals(vb,gb)&&(rb[vb]=gb.value)})}if(Ea.data){var pb=tb.data={};Object.keys(bb.data).forEach(vb=>{const gb=bb.data[vb];Ea.data(vb,gb)&&(pb[vb]=gb.input.value)})}bb.subcontext&&!1!==Ea.recurse&&(tb.subcontext=bb.subcontext.map(vb=>vb.getState(Ea)));return tb},setState:function(Ea){var bb=this,tb=bb.dataflow,rb=Ea.data,pb=Ea.signals;Object.keys(pb||{}).forEach(vb=>{tb.update(bb.signals[vb],pb[vb],jc)});Object.keys(rb||{}).forEach(vb=>
{tb.pulse(bb.data[vb].input,tb.changeset().remove(h.truthy).insert(rb[vb]))});(Ea.subcontext||[]).forEach((vb,gb)=>{(gb=bb.subcontext[gb])&&gb.setState(vb)})}};t.context=function(Ea,bb,tb,rb){return new Yb(Ea,bb,tb,rb)}})};
shadow$provide[51]=function(Db,nb,Dc,Wa){(function(t,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,nb(21),nb(29),nb(34),nb(49),nb(50),nb(24)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph vega-functions vega-runtime vega-format".split(" "),h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega,t.vega,t.vega,t.vega,t.vega,t.vega))})(this,function(t,h,ia,Ya,ub,Yb,dc){function Wb(ma){const Ha=ma.container();Ha&&(Ha.setAttribute("role",
"graphics-document"),Ha.setAttribute("aria-roleDescription","visualization"),nc(Ha,ma.description()))}function nc(ma,Ha){ma&&(null==Ha?ma.removeAttribute("aria-label"):ma.setAttribute("aria-label",Ha))}function Ab(ma){ma.add(null,Ha=>{ma._background=Ha.bg;ma._resize=1;return Ha.bg},{bg:ma._signals.background})}function Ub(ma){const Ha=ma._signals.cursor||(ma._signals.cursor=ma.add({user:"default",item:null}));ma.on(ma.events("view","pointermove"),Ha,(fb,S)=>{const r=(fb=Ha.value)?h.isString(fb)?fb:
fb.user:"default";S=S.item&&S.item.cursor||null;return fb&&r===fb.user&&S==fb.item?fb:{user:r,item:S}});ma.add(null,function(fb){fb=fb.cursor;let S=this.value;h.isString(fb)||(S=fb.item,fb=fb.user);jc(ma,fb&&"default"!==fb?fb:S||fb);return S},{cursor:Ha})}function jc(ma,Ha){if(ma=ma.globalCursor()?"undefined"!==typeof document&&document.body:ma.container())return null==Ha?ma.style.removeProperty("cursor"):ma.style.cursor=Ha}function Ea(ma,Ha){ma=ma._runtime.data;h.hasOwnProperty(ma,Ha)||h.error("Unrecognized data set: "+
Ha);return ma[Ha]}function bb(ma,Ha){ia.isChangeSet(Ha)||h.error("Second argument to changes must be a changeset.");ma=Ea(this,ma);ma.modified=!0;return this.pulse(ma.input,Ha)}function tb(ma){var Ha=ma.padding();return Math.max(0,ma._viewWidth+Ha.left+Ha.right)}function rb(ma){var Ha=ma.padding();return Math.max(0,ma._viewHeight+Ha.top+Ha.bottom)}function pb(ma){var Ha=ma.padding();ma=ma._origin;return[Ha.left+ma[0],Ha.top+ma[1]]}function vb(ma){var Ha=pb(ma),fb=tb(ma),S=rb(ma);ma._renderer.background(ma.background());
ma._renderer.resize(fb,S,Ha);ma._handler.origin(Ha);ma._resizeListeners.forEach(r=>{try{r(fb,S)}catch(da){ma.error(da)}})}function gb(ma,Ha,fb){function S(za){var Da=da,Oa;if(za)for(Oa=Ha;Oa;Oa=Oa.mark.group)if(Oa.mark.name===za){Da=Oa;break}return Da&&Da.mark&&Da.mark.interactive?Da:{}}function r(za){if(!za)return fb;h.isString(za)&&(za=S(za));const Da=fb.slice();for(;za;)Da[0]-=za.x||0,Da[1]-=za.y||0,za=za.mark&&za.mark.group;return Da}const da=Ha?"group"===Ha.mark.marktype?Ha:Ha.mark.group:null;
return{view:h.constant(ma),item:h.constant(Ha||{}),group:S,xy:r,x:za=>r(za)[0],y:za=>r(za)[1]}}function fc(ma){ma=h.extend({defaults:{}},ma);const Ha=(fb,S)=>{S.forEach(r=>{h.isArray(fb[r])&&(fb[r]=h.toSet(fb[r]))})};Ha(ma.defaults,["prevent","allow"]);Ha(ma,["view","window","selector"]);return ma}function sa(ma,Ha,fb,S){ma._eventListeners.push({type:fb,sources:h.array(Ha),handler:S})}function ha(ma,Ha,fb){const S=ma._eventConfig&&ma._eventConfig[Ha];return!1===S||h.isObject(S)&&!S[fb]?(ma.warn(`Blocked ${Ha} ${fb} event listener.`),
!1):!0}function Ba(ma){return ma.item}function Sa(ma){return ma.item.mark.source}function Va(ma){return function(Ha,fb){return fb.vega.view().changeset().encode(fb.item,ma)}}function Ia(ma,Ha,fb){ma=document.createElement(ma);for(const S in Ha)ma.setAttribute(S,Ha[S]);null!=fb&&(ma.textContent=fb);return ma}function hb(ma,Ha,fb){var S=(Ha-ma)/Math.max(0,fb),r=Math.floor(Math.log10(S));S/=Math.pow(10,r);S=S>=Ob?10:S>=xc?5:S>=hd?2:1;let da;0>r?(da=Math.pow(10,-r)/S,r=Math.round(ma*da),S=Math.round(Ha*
da),r/da<ma&&++r,S/da>Ha&&--S,da=-da):(da=Math.pow(10,r)*S,r=Math.round(ma/da),S=Math.round(Ha/da),r*da<ma&&++r,S*da>Ha&&--S);return S<r&&.5<=fb&&2>fb?hb(ma,Ha,2*fb):[r,S,da]}function Za(ma,Ha,fb){return hb(+ma,+Ha,+fb)[2]}function qb(ma,Ha,fb){Ha=+Ha;ma=+ma;fb=+fb;const S=Ha<ma;ma=S?Za(Ha,ma,fb):Za(ma,Ha,fb);return(S?-1:1)*(0>ma?1/-ma:ma)}function Nb(ma,Ha,fb){if(Ha){var S=fb.param,r=fb.state;r||(r=fb.state={elements:null,active:!1,set:null,update:da=>{da!=ma.signal(S.signal)&&ma.runAsync(null,()=>
{r.source=!0;ma.signal(S.signal,da)})}},S.debounce&&(r.update=h.debounce(S.debounce,r.update)));(null==S.input&&S.element?$a:V)(r,Ha,S,ma);r.active||(ma.on(ma._signals[S.signal],null,()=>{r.source?r.source=!1:r.set(ma.signal(S.signal))}),r.active=!0);return r}}function $a(ma,Ha,fb,S){const r=fb.event||"input",da=()=>ma.update(Ha.value);S.signal(fb.signal,Ha.value);Ha.addEventListener(r,da);sa(S,Ha,r,da);ma.set=za=>{Ha.value=za;za=Ha.dispatchEvent;var Da="undefined"!==typeof Event?new Event(r):{type:r};
za.call(Ha,Da)}}function V(ma,Ha,fb,S){S=S.signal(fb.signal);const r=Ia("div",{"class":"vega-bind"}),da="radio"===fb.input?r:r.appendChild(Ia("label"));da.appendChild(Ia("span",{"class":"vega-bind-name"},fb.name||fb.signal));Ha.appendChild(r);Ha=N;switch(fb.input){case "checkbox":Ha=na;break;case "select":Ha=oa;break;case "radio":Ha=Na;break;case "range":Ha=la}Ha(ma,da,fb,S)}function N(ma,Ha,fb,S){const r=Ia("input");for(const da in fb)"signal"!==da&&"element"!==da&&r.setAttribute("input"===da?"type":
da,fb[da]);r.setAttribute("name",fb.signal);r.value=S;Ha.appendChild(r);r.addEventListener("input",()=>ma.update(r.value));ma.elements=[r];ma.set=da=>r.value=da}function na(ma,Ha,fb,S){fb={type:"checkbox",name:fb.signal};S&&(fb.checked=!0);const r=Ia("input",fb);Ha.appendChild(r);r.addEventListener("change",()=>ma.update(r.checked));ma.elements=[r];ma.set=da=>r.checked=!!da||null}function oa(ma,Ha,fb,S){const r=Ia("select",{name:fb.signal}),da=fb.labels||[];fb.options.forEach((za,Da)=>{const Oa={value:za};
qa(za,S)&&(Oa.selected=!0);r.appendChild(Ia("option",Oa,(da[Da]||za)+""))});Ha.appendChild(r);r.addEventListener("change",()=>{ma.update(fb.options[r.selectedIndex])});ma.elements=[r];ma.set=za=>{for(let Da=0,Oa=fb.options.length;Da<Oa;++Da)if(qa(fb.options[Da],za)){r.selectedIndex=Da;break}}}function Na(ma,Ha,fb,S){const r=Ia("span",{"class":"vega-bind-radio"}),da=fb.labels||[];Ha.appendChild(r);ma.elements=fb.options.map((za,Da)=>{var Oa={type:"radio",name:fb.signal,value:za};qa(za,S)&&(Oa.checked=
!0);Oa=Ia("input",Oa);Oa.addEventListener("change",()=>ma.update(za));Da=Ia("label",{},(da[Da]||za)+"");Da.prepend(Oa);r.appendChild(Da);return Oa});ma.set=za=>{const Da=ma.elements,Oa=Da.length;for(let kb=0;kb<Oa;++kb)qa(Da[kb].value,za)&&(Da[kb].checked=!0)}}function la(ma,Ha,fb,S){S=void 0!==S?S:(+fb.max+ +fb.min)/2;const r=null!=fb.max?fb.max:Math.max(100,+S)||100,da=fb.min||Math.min(0,r,+S)||0,za=fb.step||qb(da,r,100),Da=Ia("input",{type:"range",name:fb.signal,min:da,max:r,step:za});Da.value=
S;const Oa=Ia("span",{},+S);Ha.appendChild(Da);Ha.appendChild(Oa);Ha=()=>{Oa.textContent=Da.value;ma.update(+Da.value)};Da.addEventListener("input",Ha);Da.addEventListener("change",Ha);ma.elements=[Da];ma.set=kb=>{Da.value=kb;Oa.textContent=kb}}function qa(ma,Ha){return ma===Ha||ma+""===Ha+""}function l(ma,Ha,fb,S,r,da){Ha=Ha||new S(ma.loader());return Ha.initialize(fb,tb(ma),rb(ma),pb(ma),r,da).background(ma.background())}function D(ma,Ha){return Ha?function(){try{Ha.apply(this,arguments)}catch(fb){ma.error(fb)}}:
null}function K(ma,Ha,fb,S){const r=(new S(ma.loader(),D(ma,ma.tooltip()))).scene(ma.scenegraph().root).initialize(fb,pb(ma),ma);Ha&&Ha.handlers().forEach(da=>{r.on(da.type,da.handler)});return r}function x(ma,Ha,fb){if("string"===typeof Ha)if("undefined"!==typeof document){if(Ha=document.querySelector(Ha),!Ha)return ma.error("Signal bind element not found: "+Ha),null}else return ma.error("DOM document instance not found."),null;if(Ha&&fb)try{Ha.textContent=""}catch(S){Ha=null,ma.error(S)}return Ha}
function U(ma){h.isObject(ma)?ma={top:+ma.top||0,bottom:+ma.bottom||0,left:+ma.left||0,right:+ma.right||0}:(ma=+ma||0,ma={top:ma,bottom:ma,left:ma,right:ma});return ma}function A(ma,Ha,fb,S){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var r=Ya.renderModule(Ha);(r=r&&r.headless)||h.error("Unrecognized renderer type: "+Ha);yield ma.runAsync();return l(ma,null,null,r,fb,S).renderAsync(ma._scenegraph.root)})}function X(ma,Ha,fb){return Yb.context(ma,ia.transforms,ub.functionContext,
fb).parse(Ha)}function G(ma,Ha){var fb=ma.autosize();ma=ma.padding();return Ha-(fb&&"padding"===fb.contains?ma.left+ma.right:0)}function v(ma,Ha){var fb=ma.autosize();ma=ma.padding();return Ha-(fb&&"padding"===fb.contains?ma.top+ma.bottom:0)}function z(ma){function Ha(){ma._autosize=ma._resize=1}var fb=ma._signals,S=fb.width,r=fb.height;fb=fb.padding;ma._resizeWidth=ma.add(null,za=>{ma._width=za.size;ma._viewWidth=G(ma,za.size);Ha()},{size:S});ma._resizeHeight=ma.add(null,za=>{ma._height=za.size;
ma._viewHeight=v(ma,za.size);Ha()},{size:r});const da=ma.add(null,Ha,{pad:fb});ma._resizeWidth.rank=S.rank+1;ma._resizeHeight.rank=r.rank+1;da.rank=fb.rank+1}function F(ma,Ha){return Ha.modified&&h.isArray(Ha.input.value)&&!ma.startsWith("_:vega:_")}function W(ma,Ha){return!("parent"===ma||Ha instanceof ia.transforms.proxy)}function ta(){return ic||(Uc(O),ic=nd.now()+Ac)}function O(){ic=0}function ja(){this._call=this._time=this._next=null}function va(){ic=(Zb=nd.now())+Ac;Bb=Ua=0;try{ta();++Bb;for(var ma=
Fb,Ha;ma;)0<=(Ha=ic-ma._time)&&ma._call.call(void 0,Ha),ma=ma._next;--Bb}finally{Bb=0;ma=Fb;for(var fb=Infinity;ma;)if(ma._call){fb>ma._time&&(fb=ma._time);var S=ma;ma=ma._next}else Ha=ma._next,ma._next=null,ma=S?S._next=Ha:Fb=Ha;Lb=S;Pa(fb);ic=0}}function Ma(){var ma=nd.now(),Ha=ma-Zb;1E3<Ha&&(Ac-=Ha,Zb=ma)}function Pa(ma){Bb||(Ua&&(Ua=clearTimeout(Ua)),24<ma-ic?(Infinity>ma&&(Ua=setTimeout(va,ma-nd.now()-Ac)),xb&&(xb=clearInterval(xb))):(xb||(Zb=nd.now(),xb=setInterval(Ma,1E3)),Bb=1,Uc(va)))}function Xa(ma,
Ha,fb){var S=new ja,r=Ha;if(null==Ha)return S.restart(ma,Ha,fb),S;S._restart=S.restart;S.restart=function(da,za,Da){za=+za;Da=null==Da?ta():+Da;S._restart(function Vb(kb){kb+=r;S._restart(Vb,r+=za,Da);da(kb)},za,Da)};S.restart(ma,Ha,fb);return S}function sb(ma,Ha,fb,S){if(ma=ma.element())Ha=ma.setAttribute,S=null==S?"":h.isArray(S)?"["+S.map(Sb).join(", ")+"]":h.isObject(S)&&!h.isDate(S)?ib(S):S+"",Ha.call(ma,"title",S)}function ib(ma){return Object.keys(ma).map(Ha=>{const fb=ma[Ha];return Ha+": "+
(h.isArray(fb)?"["+fb.map(Sb).join(", ")+"]":Sb(fb))}).join("\n")}function Sb(ma){return h.isArray(ma)?"[]":h.isObject(ma)&&!h.isDate(ma)?"{}":ma}function Y(ma,Ha){Ha=Ha||{};ia.Dataflow.call(this);Ha.loader&&this.loader(Ha.loader);Ha.logger&&this.logger(Ha.logger);null!=Ha.logLevel&&this.logLevel(Ha.logLevel);if(Ha.locale||ma.locale){var fb=h.extend({},ma.locale,Ha.locale);this.locale(dc.locale(fb.number,fb.time))}this._elBind=this._el=null;this._renderType=Ha.renderer||Ya.RenderType.Canvas;this._scenegraph=
new Ya.Scenegraph;fb=this._scenegraph.root;this._renderer=null;this._tooltip=Ha.tooltip||sb;this._redraw=!0;this._handler=(new Ya.CanvasHandler).scene(fb);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=fc(ma.eventConfig);this.globalCursor(this._eventConfig.globalCursor);const S=X(this,ma,Ha.expr);this._runtime=S;this._signals=S.signals;this._bind=(ma.bindings||[]).map(r=>({state:null,param:h.extend({},r)}));S.root&&S.root.set(fb);
fb.source=S.data.root.input;this.pulse(S.data.root.input,this.changeset().insert(fb.items));this._width=this.width();this._height=this.height();this._viewWidth=G(this,this._width);this._viewHeight=v(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;z(this);Ab(this);Ub(this);this.description(ma.description);Ha.hover&&this.hover();Ha.container&&this.initialize(Ha.container,Ha.bind);Ha.watchPixelRatio&&this._watchPixelRatio()}function Fa(ma,Ha){return h.hasOwnProperty(ma._signals,
Ha)?ma._signals[Ha]:h.error("Unrecognized signal name: "+h.stringValue(Ha))}function Kb(ma,Ha){ma=(ma._targets||[]).filter(fb=>fb._update&&fb._update.handler===Ha);return ma.length?ma[0]:null}function pc(ma,Ha,fb,S){let r=Kb(fb,S);r||(r=D(ma,()=>S(Ha,fb.value)),r.handler=S,ma.on(fb,null,r));return ma}function ac(ma,Ha,fb){(fb=Kb(Ha,fb))&&Ha._targets.remove(fb);return ma}const Mb={trap:!1},Ob=Math.sqrt(50),xc=Math.sqrt(10),hd=Math.sqrt(2);var ra={skip:!0},Bb=0,Ua=0,xb=0,Fb,Lb,Zb=0,ic=0,Ac=0,nd="object"===
typeof performance&&performance.now?performance:Date,Uc="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(ma){setTimeout(ma,17)};ja.prototype={constructor:ja,restart:function(ma,Ha,fb){if("function"!==typeof ma)throw new TypeError("callback is not a function");fb=(null==fb?ta():+fb)+(null==Ha?0:+Ha);this._next||Lb===this||(Lb?Lb._next=this:Fb=this,Lb=this);this._call=ma;this._time=fb;Pa()},stop:function(){this._call&&(this._call=null,this._time=
Infinity,Pa())}};h.inherits(Y,ia.Dataflow,{evaluate(ma,Ha,fb){const S=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield ia.Dataflow.prototype.evaluate.call(S,ma,Ha);if(S._redraw||S._resize)try{S._renderer&&(S._resize&&(S._resize=0,vb(S)),yield S._renderer.renderAsync(S._scenegraph.root)),S._redraw=!1}catch(r){S.error(r)}fb&&ia.asyncCallback(S,fb);return S})},dirty(ma){this._redraw=!0;this._renderer&&this._renderer.dirty(ma)},description(ma){if(arguments.length){const Ha=null!=
ma?ma+"":null;Ha!==this._desc&&nc(this._el,this._desc=Ha);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(ma,Ha,fb){const S=Fa(this,ma);return 1===arguments.length?S.value:this.update(S,Ha,fb)},width(ma){return arguments.length?this.signal("width",ma):this.signal("width")},height(ma){return arguments.length?this.signal("height",ma):this.signal("height")},padding(ma){return arguments.length?this.signal("padding",
U(ma)):U(this.signal("padding"))},autosize(ma){return arguments.length?this.signal("autosize",ma):this.signal("autosize")},background(ma){return arguments.length?this.signal("background",ma):this.signal("background")},renderer(ma){if(!arguments.length)return this._renderType;Ya.renderModule(ma)||h.error("Unrecognized renderer type: "+ma);ma!==this._renderType&&(this._renderType=ma,this._resetRenderer());return this},tooltip(ma){if(!arguments.length)return this._tooltip;ma!==this._tooltip&&(this._tooltip=
ma,this._resetRenderer());return this},loader(ma){if(!arguments.length)return this._loader;ma!==this._loader&&(ia.Dataflow.prototype.loader.call(this,ma),this._resetRenderer());return this},resize(){this._autosize=1;return this.touch(Fa(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(ma,Ha,fb,S,r,da){this.runAfter(za=>{let Da=0;za._autosize=0;za.width()!==fb&&(Da=1,za.signal("width",fb,ra),za._resizeWidth.skip(!0));
za.height()!==S&&(Da=1,za.signal("height",S,ra),za._resizeHeight.skip(!0));za._viewWidth!==ma&&(za._resize=1,za._viewWidth=ma);za._viewHeight!==Ha&&(za._resize=1,za._viewHeight=Ha);if(za._origin[0]!==r[0]||za._origin[1]!==r[1])za._resize=1,za._origin=r;Da&&za.run("enter");da&&za.runAfter(Oa=>Oa.resize())},!1,1)},addEventListener(ma,Ha,fb){let S=Ha;fb&&!1===fb.trap||(S=D(this,Ha),S.raw=Ha);this._handler.on(ma,S);return this},removeEventListener(ma,Ha){for(var fb=this._handler.handlers(ma),S=fb.length,
r,da;0<=--S;)if(da=fb[S].type,r=fb[S].handler,ma===da&&(Ha===r||Ha===r.raw)){this._handler.off(da,r);break}return this},addResizeListener(ma){const Ha=this._resizeListeners;Ha.includes(ma)||Ha.push(ma);return this},removeResizeListener(ma){var Ha=this._resizeListeners;ma=Ha.indexOf(ma);0<=ma&&Ha.splice(ma,1);return this},addSignalListener(ma,Ha){return pc(this,ma,Fa(this,ma),Ha)},removeSignalListener(ma,Ha){return ac(this,Fa(this,ma),Ha)},addDataListener(ma,Ha){return pc(this,ma,Ea(this,ma).values,
Ha)},removeDataListener(ma,Ha){return ac(this,Ea(this,ma).values,Ha)},globalCursor(ma){if(arguments.length){if(this._globalCursor!==!!ma){const Ha=jc(this,null);this._globalCursor=!!ma;Ha&&jc(this,Ha)}return this}return this._globalCursor},preventDefault(ma){return arguments.length?(this._preventDefault=ma,this):this._preventDefault},timer:function(ma,Ha){this._timers.push(Xa(function(fb){ma({timestamp:Date.now(),elapsed:fb})},Ha))},events:function(ma,Ha,fb){var S=this,r=new ia.EventStream(fb);fb=
function(Oa,kb){S.runAsync(null,()=>{var Vb;if(Vb="view"===ma){var Eb=S._eventConfig.defaults;Vb=Eb.prevent;Eb=Eb.allow;Vb=!1===Vb||!0===Eb?!1:!0===Vb||!1===Eb?!0:Vb?Vb[Ha]:Eb?!Eb[Ha]:S.preventDefault()}Vb&&Oa.preventDefault();Vb=r.receive;Eb=(Eb=S._renderer)&&Eb.canvas();if(Eb){var Hb=pb(S);var Cc=Oa.changedTouches?Oa.changedTouches[0]:Oa;Cc=Ya.point(Cc,Eb);Cc[0]-=Hb[0];Cc[1]-=Hb[1]}Oa.dataflow=S;Oa.item=kb;Oa.vega=gb(S,kb,Cc);Vb.call(r,Oa)})};var da;if("timer"===ma)ha(S,"timer",Ha)&&S.timer(fb,
Ha);else if("view"===ma)ha(S,"view",Ha)&&S.addEventListener(Ha,fb,Mb);else if("window"===ma?ha(S,"window",Ha)&&"undefined"!==typeof window&&(da=[window]):"undefined"!==typeof document&&ha(S,"selector",Ha)&&(da=Array.from(document.querySelectorAll(ma))),da){for(var za=0,Da=da.length;za<Da;++za)da[za].addEventListener(Ha,fb);sa(S,da,Ha,fb)}else S.warn("Can not resolve event source: "+ma);return r},finalize:function(){var ma=this._tooltip,Ha=this._timers,fb=this._eventListeners,S;for(S=Ha.length;0<=
--S;)Ha[S].stop();for(S=fb.length;0<=--S;){var r=fb[S];for(Ha=r.sources.length;0<=--Ha;)r.sources[Ha].removeEventListener(r.type,r.handler)}ma&&ma.call(this,this._handler,null,null,null);return this},hover:function(ma,Ha){ma=[ma||"hover"];Ha=[Ha||"update",ma[0]];this.on(this.events("view","pointerover",Ba),Sa,Va(ma));this.on(this.events("view","pointerout",Ba),Sa,Va(Ha));return this},data:function(ma,Ha){return 2>arguments.length?Ea(this,ma).values.value:bb.call(this,ma,ia.changeset().remove(h.truthy).insert(Ha))},
change:bb,insert:function(ma,Ha){return bb.call(this,ma,ia.changeset().insert(Ha))},remove:function(ma,Ha){return bb.call(this,ma,ia.changeset().remove(Ha))},scale:function(ma){var Ha=this._runtime.scales;h.hasOwnProperty(Ha,ma)||h.error("Unrecognized scale or projection: "+ma);return Ha[ma].value},initialize:function(ma,Ha){const fb=this;var S=fb._renderType;const r=fb._eventConfig.bind;var da=Ya.renderModule(S);ma=fb._el=ma?x(fb,ma,!0):null;Wb(fb);da||fb.error("Unrecognized renderer type: "+S);
S=da.handler||Ya.CanvasHandler;da=ma?da.renderer:da.headless;fb._renderer=da?l(fb,fb._renderer,ma,da):null;fb._handler=K(fb,fb._handler,ma,S);fb._redraw=!0;ma&&"none"!==r&&(Ha=Ha?fb._elBind=x(fb,Ha,!0):ma.appendChild(Ia("form",{"class":"vega-bindings"})),fb._bind.forEach(za=>{za.param.element&&"container"!==r&&(za.element=x(fb,za.param.element,!!za.param.input))}),fb._bind.forEach(za=>{Nb(fb,za.element||Ha,za)}));return fb},toImageURL:function(ma,Ha){const fb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ma!==
Ya.RenderType.Canvas&&ma!==Ya.RenderType.SVG&&ma!==Ya.RenderType.PNG&&h.error("Unrecognized image type: "+ma);var S=yield A(fb,ma,Ha);ma===Ya.RenderType.SVG?(S=S.svg(),S=new Blob([S],{type:"image/svg+xml"}),S=window.URL.createObjectURL(S)):S=S.canvas().toDataURL("image/png");return S})},toCanvas:function(ma,Ha){const fb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield A(fb,Ya.RenderType.Canvas,ma,Ha)).canvas()})},toSVG:function(ma){const Ha=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield A(Ha,
Ya.RenderType.SVG,ma)).svg()})},getState:function(ma){return this._runtime.getState(ma||{data:F,signals:W,recurse:!0})},setState:function(ma){this.runAsync(null,Ha=>{Ha._trigger=!1;Ha._runtime.setState(ma)},Ha=>{Ha._trigger=!0});return this},_watchPixelRatio:function(){if("canvas"===this.renderer()&&this._renderer._canvas){let ma=null;const Ha=()=>{null!=ma&&ma();const fb=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);fb.addEventListener("change",Ha);ma=()=>{fb.removeEventListener("change",
Ha)};this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1;this._redraw=!0;this._resize=1;this.resize().runAsync()};Ha()}}});t.View=Y})};
shadow$provide[52]=function(Db,nb,Dc,Wa){(function(t,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa):"function"===typeof define&&define.amd?define(["exports"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={}))})(this,function(t){function h(Ab,Ub,jc,Ea,bb){const tb=Ab.length;let rb=0,pb;for(;Ub<tb;++Ub)if(pb=Ab[Ub],rb||pb!==jc)bb&&0<=bb.indexOf(pb)?--rb:Ea&&0<=Ea.indexOf(pb)&&++rb;else break;return Ub}function ia(Ab){const Ub=[],jc=Ab.length;let Ea=0,bb=0;for(;bb<jc;)bb=
h(Ab,bb,",","[{","]}"),Ub.push(Ab.substring(Ea,bb).trim()),Ea=++bb;if(0===Ub.length)throw"Empty event selector: "+Ab;return Ub}function Ya(Ab){if("["===Ab[0]){var Ub=Ab;var jc=Ub.length;Ab=h(Ub,1,"]","[","]");if(Ab===jc)throw"Empty between selector: "+Ub;jc=ia(Ub.substring(1,Ab));if(2!==jc.length)throw"Between selector must have two elements: "+Ub;Ub=Ub.slice(Ab+1).trim();if("\x3e"!==Ub[0])throw"Expected '\x3e' after between selector: "+Ub;jc=jc.map(Ya);Ub=Ya(Ub.slice(1).trim());Ub.between?Ub={between:jc,
stream:Ub}:Ub.between=jc}else{jc={source:Wb};const Ea=[];let bb=[0,0],tb=0,rb=0,pb=Ab.length,vb=0,gb;if("}"===Ab[pb-1]){vb=Ab.lastIndexOf("{");if(0<=vb){try{bb=ub(Ab.substring(vb+1,pb-1))}catch(fc){throw"Invalid throttle specification: "+Ab;}Ab=Ab.slice(0,vb).trim();pb=Ab.length}else throw"Unmatched right brace: "+Ab;vb=0}if(!pb)throw Ab;"@"===Ab[0]&&(tb=++vb);gb=h(Ab,vb,":");gb<pb&&(Ea.push(Ab.substring(rb,gb).trim()),rb=vb=++gb);vb=h(Ab,vb,"[");if(vb===pb)Ea.push(Ab.substring(rb,pb).trim());else if(Ea.push(Ab.substring(rb,
vb).trim()),Ub=[],rb=++vb,rb===pb)throw"Unmatched left bracket: "+Ab;for(;vb<pb;){vb=h(Ab,vb,"]");if(vb===pb)throw"Unmatched left bracket: "+Ab;Ub.push(Ab.substring(rb,vb).trim());if(vb<pb-1&&"["!==Ab[++vb])throw"Expected left bracket: "+Ab;rb=++vb}if(!(pb=Ea.length)||Yb.test(Ea[pb-1]))throw"Invalid event selector: "+Ab;1<pb?(jc.type=Ea[1],tb?jc.markname=Ea[0].slice(1):nc[Ea[0]]?jc.marktype=Ea[0]:jc.source=Ea[0]):jc.type=Ea[0];"!"===jc.type.slice(-1)&&(jc.consume=!0,jc.type=jc.type.slice(0,-1));null!=
Ub&&(jc.filter=Ub);bb[0]&&(jc.throttle=bb[0]);bb[1]&&(jc.debounce=bb[1]);Ub=jc}return Ub}function ub(Ab){const Ub=Ab.split(",");if(!Ab.length||2<Ub.length)throw Ab;return Ub.map(jc=>{jc=+jc;if(jc!==jc)throw Ab;return jc})}const Yb=/[[\]{}]/,dc={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Wb,nc;t.parseSelector=function(Ab,Ub,jc){Wb=Ub||"view";nc=jc||dc;return ia(Ab.trim()).map(Ya)}})};
shadow$provide[53]=function(Db,nb,Dc,Wa){(function(t,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,nb(21),nb(49),nb(52),nb(33),nb(29)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vega={},t.vega,t.vega,t.vega,t.vega,t.vega))})(this,function(t,h,ia,Ya,ub,Yb){function dc(y){return h.isObject(y)?y:{type:y||"pad"}}function Wb(y){h.isObject(y)?
y=y.signal?y:{top:+y.top||0,bottom:+y.bottom||0,left:+y.left||0,right:+y.right||0}:(y=+y||0,y={top:y,bottom:y,left:y,right:y});return y}function nc(y,M,p,Q){return null!=p?(h.isObject(p)&&!h.isArray(p)||h.isArray(p)&&p.length&&h.isObject(p[0])?y.update[M]=p:y[Q||"enter"][M]={value:p},1):0}function Ab(y,M,p){for(const Q in M)nc(y,Q,M[Q]);for(const Q in p)nc(y,Q,p[Q],"update")}function Ub(y,M,p){for(const Q in M)p&&h.hasOwnProperty(p,Q)||(y[Q]=h.extend(y[Q]||{},M[Q]));return y}function jc(y,M){return M&&
(M.enter&&M.enter[y]||M.update&&M.update[y])}function Ea(y,M,p,Q,Z){const pa={},xa={};let Cb,Ib;Ib="lineBreak";"text"!==M||null==Z[Ib]||jc(Ib,y)||bb(pa,Ib,Z[Ib]);if("legend"==p||String(p).startsWith("axis"))p=null;p="frame"===p?Z.group:"mark"===p?h.extend({},Z.mark,Z[M]):null;for(Ib in p)(M=jc(Ib,y)||("fill"===Ib||"stroke"===Ib)&&(jc("fill",y)||jc("stroke",y)))||bb(pa,Ib,p[Ib]);h.array(Q).forEach(Xb=>{Xb=Z.style&&Z.style[Xb];for(const $b in Xb)jc($b,y)||bb(pa,$b,Xb[$b])});y=h.extend({},y);for(Ib in pa)p=
pa[Ib],p.signal?(Cb=Cb||{})[Ib]=p:xa[Ib]=p;y.enter=h.extend(xa,y.enter);Cb&&(y.update=h.extend(Cb,y.update));return y}function bb(y,M,p){y[M]=p&&p.signal?{signal:p.signal}:{value:p}}function tb(y){if(null!=y.gradient)return rb(y);if(y.signal)var M=`(${y.signal})`;else y.color?(M=y.color,M=M.c?md("hcl",M.h,M.c,M.l):M.h||M.s?md("hsl",M.h,M.s,M.l):M.l||M.a?md("lab",M.l,M.a,M.b):M.r||M.g||M.b?md("rgb",M.r,M.g,M.b):null):M=null!=y.field?vb(y.field):void 0!==y.value?h.stringValue(y.value):void 0;if(null!=
y.scale){const p=bd(y.scale);null!=y.range?M=`lerp(_range(${p}), ${+y.range})`:(void 0!==M&&(M=`_scale(${p}, ${M})`),y.band&&(M=(M?M+"+":"")+`_bandwidth(${p})`+(1===+y.band?"":"*"+pb(y.band)),y.extra&&(M=`(datum.extra ? _scale(${p}, datum.extra.value) : ${M})`)),null==M&&(M="0"))}void 0===M&&(M=null);null!=y.exponent&&(M=`pow(${M},${pb(y.exponent)})`);null!=y.mult&&(M+=`*${pb(y.mult)}`);null!=y.offset&&(M+=`+${pb(y.offset)}`);y.round&&(M=`round(${M})`);return M}function rb(y){const M=[y.start,y.stop,
y.count].map(p=>null==p?null:h.stringValue(p));for(;M.length&&null==h.peek(M);)M.pop();M.unshift(bd(y.gradient));return`gradient(${M.join(",")})`}function pb(y){return h.isObject(y)?"("+tb(y)+")":y}function vb(y){return gb(h.isObject(y)?y:{datum:y})}function gb(y){let M;if(y.signal){M="datum";var p=y.signal}else if(y.group||y.parent){p=Math.max(1,y.level||1);for(M="item";0<p--;)M+=".mark.group";y.parent?(p=y.parent,M+=".datum"):p=y.group}else y.datum?(M="datum",p=y.datum):h.error("Invalid field reference: "+
h.stringValue(y));y.signal||(p=h.isString(p)?h.splitAccessPath(p).map(h.stringValue).join("]["):gb(p));return M+"["+p+"]"}function fc(y){let M="";y.forEach(p=>{const Q=tb(p);M+=p.test?`(${p.test})?${Q}:`:Q});":"===h.peek(M)&&(M+="null");return M}function sa(y,M,p,Q,Z,pa){const xa={};pa=pa||{};pa.encoders={$encode:xa};y=Ea(y,M,p,Q,Z.config);for(const mc in y){p=y[mc];Q=M;var Cb=pa,Ib=Z;const vc={},yc={};for(const Jc in p)if(null!=p[Jc]){var Xb=ha;var $b=p[Jc];$b=h.isArray($b)?fc($b):tb($b);vc[Jc]=
Xb($b,Ib,Cb,yc)}p={$expr:{marktype:Q,channels:vc},$fields:Object.keys(yc),$output:Object.keys(p)};xa[mc]=p}return pa}function ha(y,M,p,Q){y=ia.parseExpression(y,M);y.$fields.forEach(Z=>Q[Z]=1);h.extend(p,y.$params);return y.$expr}function Ba(y,M){h.error(y+' for "outer" push: '+h.stringValue(M))}function Sa(y,M){const p=y.name;if("outer"===y.push)M.signals[p]||Ba("No prior signal definition",p),qd.forEach(Q=>{void 0!==y[Q]&&Ba("Invalid property ",Q)});else{const Q=M.addSignal(p,y.value);!1===y.react&&
(Q.react=!1);y.bind&&M.addBinding(p,y.bind)}}function Va(y,M,p,Q){this.id=-1;this.type=y;this.value=M;this.params=p;Q&&(this.parent=Q)}function Ia(y){const M={$ref:y.id};0>y.id&&(y.refs=y.refs||[]).push(M);return M}function hb(y,M){return M?{$field:y,$name:M}:{$field:y}}function Za(y,M){y={$key:y};M&&(y.$flat=!0);return y}function qb(y,M){return(y&&y.signal?"$"+y.signal:y||"")+(y&&M?"_":"")+(M&&M.signal?"$"+M.signal:M||"")}function Nb(y){return y&&y.signal}function $a(y){if(Nb(y))return!0;if(h.isObject(y))for(const M in y)if($a(y[M]))return!0;
return!1}function V(y,M){return null!=y?y:M}function N(y){return y&&y.signal||y}function na(y,M){return(y.merge?oa:y.stream?Na:y.type?la:h.error("Invalid stream specification: "+h.stringValue(y)))(y,M)}function oa(y,M){const p=y.merge.map(Q=>na(Q,M));y=qa({merge:p},y,M);return M.addStream(y).id}function Na(y,M){const p=na(y.stream,M);y=qa({stream:p},y,M);return M.addStream(y).id}function la(y,M){if("timer"===y.type){var p=M.event("timer",y.throttle);y={between:y.between,filter:y.filter}}else p=y.source,
p=M.event.call(M,"scope"===p?"view":p||"view",y.type);y=qa({stream:p},y,M);return 1===Object.keys(y).length?p:M.addStream(y).id}function qa(y,M,p){let Q=M.between;Q&&(2!==Q.length&&h.error('Stream "between" parameter must have 2 entries: '+h.stringValue(M)),y.between=[na(Q[0],p),na(Q[1],p)]);Q=M.filter?[].concat(M.filter):[];if(M.marktype||M.markname||M.markrole){var Z=Q,pa=M.marktype,xa=M.markname,Cb=M.markrole;Z.push.call(Z,"event.item"+(pa&&"*"!==pa?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+
pa+"'":"")+(Cb?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+Cb+"'":"")+(xa?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+xa+"'":""))}"scope"===M.source&&Q.push("inScope(event.item)");Q.length&&(y.filter=ia.parseExpression("("+Q.join(")\x26\x26(")+")",p).$expr);null!=(Q=M.throttle)&&(y.throttle=+Q);null!=(Q=M.debounce)&&(y.debounce=+Q);M.consume&&(y.consume=!0);return y}function l(y,M,p){const Q=y.encode,Z={target:p};p=y.events;let pa=y.update,xa=[];p||h.error("Signal update missing events specification.");
h.isString(p)&&(p=Ya.parseSelector(p,M.isSubscope()?"scope":"view"));p=h.array(p).filter(Cb=>Cb.signal||Cb.scale?(xa.push(Cb),0):1);1<xa.length&&(xa=[D(xa)]);p.length&&xa.push(1<p.length?{merge:p}:p[0]);null!=Q&&(pa&&h.error("Signal encode and update are mutually exclusive."),pa="encode(item(),"+h.stringValue(Q)+")");Z.update=h.isString(pa)?ia.parseExpression(pa,M):null!=pa.expr?ia.parseExpression(pa.expr,M):null!=pa.value?pa.value:null!=pa.signal?{$expr:kd,$params:{$value:M.signalRef(pa.signal)}}:
h.error("Invalid signal update specification.");y.force&&(Z.options={force:!0});xa.forEach(Cb=>{var Ib=M.addUpdate,Xb=h.extend;Cb={source:Cb.signal?M.signalRef(Cb.signal):Cb.scale?M.scaleRef(Cb.scale):na(Cb,M)};return Ib.call(M,Xb.call(h,Cb,Z))})}function D(y){return{signal:"["+y.map(M=>M.scale?'scale("'+M.scale+'")':M.signal)+"]"}}function K(y,M){const p=M.getSignal(y.name);let Q=y.update;y.init&&(Q?h.error("Signals can not include both init and update expressions."):(Q=y.init,p.initonly=!0));Q&&
(Q=ia.parseExpression(Q,M),p.update=Q.$expr,p.params=Q.$params);y.on&&y.on.forEach(Z=>l(Z,M,p.id))}function x(y,M){return h.isObject(y)?y.signal?M.signalRef(y.signal):h.error("Unsupported object: "+h.stringValue(y)):y}function U(y,M){return y.signal?M.signalRef(y.signal):y.map(p=>x(p,M))}function A(y){h.error("Can not find data set: "+h.stringValue(y))}function X(y,M,p){if(y)return y.signal?p.signalRef(y.signal):(h.isArray(y)?G:y.fields?z:v)(y,M,p);null==M.domainMin&&null==M.domainMax||h.error("No scale domain defined for domainMin/domainMax to override.")}
function G(y,M,p){return y.map(Q=>x(Q,p))}function v(y,M,p){const Q=p.getData(y.data);Q||A(y.data);return ub.isDiscrete(M.type)?Q.valuesRef(p,y.field,W(y.sort,!1)):ub.isQuantile(M.type)?Q.domainRef(p,y.field):Q.extentRef(p,y.field)}function z(y,M,p){const Q=y.data,Z=y.fields.reduce((pa,xa)=>{if(h.isString(xa))xa={data:Q,field:xa};else if(h.isArray(xa)||xa.signal){var Cb=xa;xa="_:vega:_"+Ec++;const Ib=Fe({});h.isArray(Cb)?Ib.value={$ingest:Cb}:Cb.signal&&(Cb="setdata("+h.stringValue(xa)+","+Cb.signal+
")",Ib.params.input=p.signalRef(Cb));p.addDataPipeline(xa,[Ib,bc({})]);xa={data:xa,field:"data"}}pa.push(xa);return pa},[]);return(ub.isDiscrete(M.type)?F:ub.isQuantile(M.type)?ta:O)(y,p,Z)}function F(y,M,p){const Q=W(y.sort,!0);y=p.map(pa=>{const xa=M.getData(pa.data);xa||A(pa.data);return xa.countsRef(M,pa.field,Q)});const Z={groupby:Gd,pulse:y};Q&&(y=Q.op||"count",p=Q.field?qb(y,Q.field):"count",Z.ops=[Tc[y]],Z.fields=[M.fieldRef(p)],Z.as=[p]);y=M.add(he(Z));y=M.add(Fe({pulse:Ia(y)}));p=M.add(Mc({field:Gd,
sort:M.sortRef(Q),pulse:Ia(y)}));return Ia(p)}function W(y,M){y&&(y.field||y.op?y.field||"count"===y.op?M&&y.field&&y.op&&!Tc[y.op]&&h.error("Multiple domain scales can not be sorted using "+y.op):h.error("No field provided for sort aggregate op: "+y.op):h.isObject(y)?y.field="key":y={field:"key"});return y}function ta(y,M,p){y=p.map(Q=>{const Z=M.getData(Q.data);Z||A(Q.data);return Z.domainRef(M,Q.field)});return Ia(M.add(cd({values:y})))}function O(y,M,p){y=p.map(Q=>{const Z=M.getData(Q.data);Z||
A(Q.data);return Z.extentRef(M,Q.field)});return Ia(M.add(fd({extents:y})))}function ja(y,M,p){const Q=M.config.range;let Z=y.range;if(Z.signal)return M.signalRef(Z.signal);if(h.isString(Z)){if(Q&&h.hasOwnProperty(Q,Z))return y=h.extend({},y,{range:Q[Z]}),ja(y,M,p);"width"===Z?Z=[0,{signal:"width"}]:"height"===Z?Z=ub.isDiscrete(y.type)?[0,{signal:"height"}]:[{signal:"height"},0]:h.error("Unrecognized scale range value: "+h.stringValue(Z))}else{if(Z.scheme){p.scheme=h.isArray(Z.scheme)?U(Z.scheme,
M):x(Z.scheme,M);Z.extent&&(p.schemeExtent=U(Z.extent,M));Z.count&&(p.schemeCount=x(Z.count,M));return}if(Z.step){p.rangeStep=x(Z.step,M);return}if(ub.isDiscrete(y.type)&&!h.isArray(Z))return X(Z,y,M);h.isArray(Z)||h.error("Unsupported range type: "+h.stringValue(Z))}return Z.map(pa=>(h.isArray(pa)?U:x)(pa,M))}function va(y,M,p){return h.isArray(y)?y.map(Q=>va(Q,M,p)):h.isObject(y)?y.signal?p.signalRef(y.signal):"fit"===M?y:h.error("Unsupported parameter object: "+h.stringValue(y)):y}function Ma(y){y.type=
"group";y.interactive=y.interactive||!1;return y}function Pa(y,M){const p=(Q,Z)=>V(y[Q],V(M[Q],Z));p.isVertical=Q=>"vertical"===V(y.direction,M.direction||(Q?M.symbolDirection:M.gradientDirection));p.gradientLength=()=>V(y.gradientLength,M.gradientLength||M.gradientWidth);p.gradientThickness=()=>V(y.gradientThickness,M.gradientThickness||M.gradientHeight);p.entryColumns=()=>V(y.columns,V(M.columns,+p.isVertical(!0)));return p}function Xa(y,M){return(y=M&&(M.update&&M.update[y]||M.enter&&M.enter[y]))&&
y.signal?y:y?y.value:null}function sb(y,M,p){return`item.anchor === '${"start"}' ? ${y} : item.anchor === '${"end"}' ? ${M} : ${p}`}function ib(y,M){return M?y?h.isObject(y)?Object.assign({},y,{offset:ib(y.offset,M)}):{value:y,offset:M}:M:y}function Sb(y,M){M?(y.name=M.name,y.style=M.style||y.style,y.interactive=!!M.interactive,y.encode=Ub(y.encode,M,ld)):y.interactive=!1;return y}function Y(y,M,p,Q){y=Pa(y,p);p=y.isVertical();var Z=y.gradientThickness();const pa=y.gradientLength();let xa,Cb,Ib;p?
(p=[0,1],Cb=[0,0],Ib=Z,Z=pa):(p=[0,0],Cb=[1,0],Ib=pa);Z={enter:xa={opacity:pd,x:pd,y:pd,width:zc(Ib),height:zc(Z)},update:h.extend({},xa,{opacity:me,fill:{gradient:M,start:p,stop:Cb}}),exit:{opacity:pd}};Ab(Z,{stroke:y("gradientStrokeColor"),strokeWidth:y("gradientStrokeWidth")},{opacity:y("gradientOpacity")});return Sb({type:"rect",role:"legend-gradient",encode:Z},Q)}function Fa(y,M,p,Q,Z){y=Pa(y,p);const pa=y.isVertical();p=y.gradientThickness();const xa=y.gradientLength();var Cb;let Ib,Xb,$b,mc=
"";pa?(Cb="y",Xb="y2",Ib="x",$b="width",mc="1-"):(Cb="x",Xb="x2",Ib="y",$b="height");M={opacity:pd,fill:{scale:M,field:"value"}};M[Cb]={signal:mc+"datum.perc",mult:xa};M[Ib]=pd;M[Xb]={signal:mc+"datum.perc2",mult:xa};M[$b]=zc(p);Cb={enter:M,update:h.extend({},M,{opacity:me}),exit:{opacity:pd}};Ab(Cb,{stroke:y("gradientStrokeColor"),strokeWidth:y("gradientStrokeWidth")},{opacity:y("gradientOpacity")});return Sb({type:"rect",role:"legend-band",key:"value",from:Z,encode:Cb},Q)}function Kb(y,M,p,Q){const Z=
Pa(y,M);var pa=Z.isVertical();const xa=zc(Z.gradientThickness()),Cb=Z.gradientLength();let Ib=Z("labelOverlap"),Xb,$b,mc,vc="";const yc={enter:Xb={opacity:pd},update:$b={opacity:me,text:{field:"label"}},exit:{opacity:pd}};Ab(yc,{fill:Z("labelColor"),fillOpacity:Z("labelOpacity"),font:Z("labelFont"),fontSize:Z("labelFontSize"),fontStyle:Z("labelFontStyle"),fontWeight:Z("labelFontWeight"),limit:V(y.labelLimit,M.gradientLabelLimit)});pa?(Xb.align={value:"left"},Xb.baseline=$b.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},
pa="y",mc="x",vc="1-"):(Xb.align=$b.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},Xb.baseline={value:"top"},pa="x",mc="y");Xb[pa]=$b[pa]={signal:vc+"datum.perc",mult:Cb};Xb[mc]=$b[mc]=xa;xa.offset=V(y.labelOffset,M.gradientLabelOffset)||0;Ib=Ib?{separation:Z("labelSeparation"),method:Ib,order:"datum.index"}:void 0;return Sb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Q,encode:yc,overlap:Ib},p)}function pc(y,M,p,Q,Z){var pa=Pa(y,M);const xa=
p.entries,Cb=!(!xa||!xa.interactive),Ib=xa?xa.name:void 0,Xb=pa("clipHeight"),$b=pa("symbolOffset"),mc={data:"value"},vc=`(${Z}) ? datum.${"offset"} : datum.${"size"}`,yc=Xb?zc(Xb):{field:"size"},Jc=`max(1, ${Z})`;let Zc,Yc;yc.mult=.5;var jd={enter:Zc={opacity:pd,x:{signal:vc,mult:.5,offset:$b},y:yc},update:Yc={opacity:me,x:Zc.x,y:Zc.y},exit:{opacity:pd}};let $d=null,Rc=null;y.fill||($d=M.symbolBaseFillColor,Rc=M.symbolBaseStrokeColor);Ab(jd,{fill:pa("symbolFillColor",$d),shape:pa("symbolType"),size:pa("symbolSize"),
stroke:pa("symbolStrokeColor",Rc),strokeDash:pa("symbolDash"),strokeDashOffset:pa("symbolDashOffset"),strokeWidth:pa("symbolStrokeWidth")},{opacity:pa("symbolOpacity")});Xc.forEach(Xd=>{y[Xd]&&(Yc[Xd]=Zc[Xd]={scale:y[Xd],field:"value"})});M=Sb({type:"symbol",role:"legend-symbol",key:"value",from:mc,clip:Xb?!0:void 0,encode:jd},p.symbols);jd=zc($b);jd.offset=pa("labelOffset");jd={enter:Zc={opacity:pd,x:{signal:vc,offset:jd},y:yc},update:Yc={opacity:me,text:{field:"label"},x:Zc.x,y:Zc.y},exit:{opacity:pd}};
Ab(jd,{align:pa("labelAlign"),baseline:pa("labelBaseline"),fill:pa("labelColor"),fillOpacity:pa("labelOpacity"),font:pa("labelFont"),fontSize:pa("labelFontSize"),fontStyle:pa("labelFontStyle"),fontWeight:pa("labelFontWeight"),limit:pa("labelLimit")});p=Sb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:mc,encode:jd},p.labels);jd={enter:{noBound:{value:!Xb},width:pd,height:Xb?zc(Xb):pd,opacity:pd},exit:{opacity:pd},update:Yc={opacity:me,row:{signal:null},column:{signal:null}}};
pa.isVertical(!0)?(pa=`ceil(item.mark.items.length / ${Jc})`,Yc.row.signal=`${"datum.index"}%${pa}`,Yc.column.signal=`floor(${"datum.index"} / ${pa})`,pa={field:["row","datum.index"]}):(Yc.row.signal=`floor(${"datum.index"} / ${Jc})`,Yc.column.signal=`${"datum.index"} % ${Jc}`,pa={field:"datum.index"});Yc.column.signal=`(${Z})?${Yc.column.signal}:${"datum.index"}`;Q={facet:{data:Q,name:"value",groupby:"index"}};return Ma({role:"scope",from:Q,encode:Ub(jd,xa,ld),marks:[M,p],name:Ib,interactive:Cb,
sort:pa})}function ac(y,M){y=Pa(y,M);return{align:y("gridAlign"),columns:y.entryColumns(),center:{row:!0,column:!1},padding:{row:y("rowPadding"),column:y("columnPadding")}}}function Mb(y,M,p,Q){M=Pa(y,M);const Z={enter:{opacity:pd},update:{opacity:me,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:pd}};Ab(Z,{orient:M("titleOrient"),_anchor:M("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},
angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},align:{signal:Je},baseline:{signal:hf},text:y.title,fill:M("titleColor"),fillOpacity:M("titleOpacity"),font:M("titleFont"),fontSize:M("titleFontSize"),fontStyle:M("titleFontStyle"),fontWeight:M("titleFontWeight"),limit:M("titleLimit"),lineHeight:M("titleLineHeight")},{align:M("titleAlign"),baseline:M("titleBaseline")});return Sb({type:"text",
role:"legend-title",style:"guide-title",from:Q,encode:Z},p)}function Ob(y,M){let p;h.isObject(y)&&(y.signal?p=y.signal:y.path?p="pathShape("+xc(y.path)+")":y.sphere&&(p="geoShape("+xc(y.sphere)+', {type: "Sphere"})'));return p?M.signalRef(p):!!y}function xc(y){return h.isObject(y)&&y.signal?y.signal:h.stringValue(y)}function hd(y){const M=y.role||"";return M.indexOf("axis")&&M.indexOf("legend")&&M.indexOf("title")?"group"===y.type?"scope":M||"mark":M}function ra(y){return{marktype:y.type,name:y.name||
void 0,role:y.role||hd(y),zindex:+y.zindex||void 0,aria:y.aria,description:y.description}}function Bb(y,M){return y&&y.signal?M.signalRef(y.signal):!1===y?!1:!0}function Ua(y,M){const p=Yb.definition(y.type);p||h.error("Unrecognized transform type: "+h.stringValue(y.type));var Q=p.type.toLowerCase();var Z=xb(p,y,M);Q=new Va(Q,null,Z,void 0);y.signal&&M.addSignal(y.signal,M.proxy(Q));Q.metadata=p.metadata||{};return Q}function xb(y,M,p){const Q={},Z=y.params.length;for(let pa=0;pa<Z;++pa){const xa=
y.params[pa];Q[xa.name]=Fb(xa,M,p)}return Q}function Fb(y,M,p){const Q=y.type,Z=M[y.name];if("index"===Q)return Zb(y,M,p);if(void 0===Z)y.required&&h.error("Missing required "+h.stringValue(M.type)+" parameter: "+h.stringValue(y.name));else return"param"===Q?ic(y,M,p):"projection"===Q?p.projectionRef(M[y.name]):y.array&&!Nb(Z)?Z.map(pa=>Lb(y,pa,p)):Lb(y,Z,p)}function Lb(y,M,p){const Q=y.type;return Nb(M)?"expr"===Q?h.error("Expression references can not be signals."):"field"===Q?p.fieldRef(M):"compare"===
Q?p.compareRef(M):p.signalRef(M.signal):(y=y.expr||"field"===Q)&&M&&M.expr?p.exprRef(M.expr,M.as):y&&M&&M.field?hb(M.field,M.as):"expr"===Q?ia.parseExpression(M,p):"data"===Q?Ia(p.getData(M).values):"field"===Q?hb(M):"compare"===Q?p.compareRef(M):M}function Zb(y,M,p){h.isString(M.from)||h.error('Lookup "from" parameter must be a string literal.');return p.getData(M.from).lookupRef(p,M.key)}function ic(y,M,p){M=M[y.name];return y.array?(h.isArray(M)||h.error("Expected an array of sub-parameters. Instead: "+
h.stringValue(M)),M.map(Q=>Ac(y,Q,p))):Ac(y,M,p)}function Ac(y,M,p){const Q=y.params.length;let Z;for(let pa=0;pa<Q;++pa){Z=y.params[pa];for(const xa in Z.key)if(Z.key[xa]!==M[xa]){Z=null;break}if(Z)break}Z||h.error("Unsupported parameter: "+h.stringValue(M));y=h.extend(xb(Z,M,p),Z.key);return Ia(p.add(Nd(y)))}function nd(y,M,p){let Q,Z,pa,xa;if(!y)pa=Ia(p.add(Fe(null,[{}])));else if(Q=y.facet)M||h.error("Only group marks can be faceted."),null!=Q.field?pa=xa=Uc(Q,p):(y.data?xa=Ia(p.getData(y.data).aggregate):
(M=Ua(h.extend({type:"aggregate",groupby:h.array(Q.groupby)},Q.aggregate),p),M.params.key=p.keyRef(Q.groupby),M.params.pulse=Uc(Q,p),pa=xa=Ia(p.add(M))),Z=p.keyRef(Q.groupby,!0));pa||(pa=Uc(y,p));return{key:Z,pulse:pa,parent:xa}}function Uc(y,M){return y.$ref?y:y.data&&y.data.$ref?y.data:Ia(M.getData(y.data).output)}function ma(y,M,p,Q,Z){this.scope=y;this.input=M;this.output=p;this.values=Q;this.aggregate=Z;this.index={}}function Ha(y){return h.isString(y)?y:null}function fb(y,M,p){const Q=qb(p.op,
p.field);let Z;if(M.ops)for(let pa=0,xa=M.as.length;pa<xa;++pa){if(M.as[pa]===Q)return}else M.ops=["count"],M.fields=[null],M.as=["count"];p.op&&(M.ops.push((Z=p.op.signal)?y.signalRef(Z):p.op),M.fields.push(y.fieldRef(p.field)),M.as.push(Q))}function S(y,M,p,Q,Z,pa,xa){p=M[p]||(M[p]={});var Cb=h.isObject(pa)?("descending"===pa.order?"-":"+")+qb(pa.op,pa.field):"";let Ib=Ha(Z);if(null!=Ib){y=M.scope;Ib+=Cb?"|"+Cb:"";var Xb=p[Ib]}Xb||(Xb=pa?{field:Gd,pulse:M.countsRef(y,Z,pa)}:{field:y.fieldRef(Z),
pulse:Ia(M.output)},Cb&&(Xb.sort=y.sortRef(pa)),y=y.add(new Va(Q,void 0,Xb,void 0)),xa&&(M.index[Z]=y),Xb=Ia(y),null!=Ib&&(p[Ib]=Xb));return Xb}function r(y,M,p){var Q=y.from.facet;const Z=Q.name,pa=Uc(Q,M);let xa;Q.name||h.error("Facet must have a name: "+h.stringValue(Q));Q.data||h.error("Facet must reference a data set: "+h.stringValue(Q));Q.field?xa=M.add(Md({field:M.fieldRef(Q.field),pulse:pa})):Q.groupby?xa=M.add(Ga({key:M.keyRef(Q.groupby),group:Ia(M.proxy(p.parent)),pulse:pa})):h.error("Facet must specify groupby or field: "+
h.stringValue(Q));M=M.fork();p=M.add(Fe());Q=M.add(bc({pulse:Ia(p)}));M.addData(Z,new ma(M,p,p,Q));M.addSignal("parent",null);xa.params.subflow={$subflow:M.parse(y).toRuntime()}}function da(y,M,p){p=M.add(Md({pulse:p.pulse}));M=M.fork();M.add(bc());M.addSignal("parent",null);p.params.subflow={$subflow:M.parse(y).toRuntime()}}function za(y,M,p){const Q=y.remove,Z=y.insert,pa=y.toggle,xa=y.modify,Cb=y.values,Ib=M.add(new Va("operator",void 0,void 0,void 0));y="if("+y.trigger+',modify("'+p+'",'+[Z,Q,
pa,xa,Cb].map(Xb=>null==Xb?"null":Xb).join(",")+"),0)";M=ia.parseExpression(y,M);Ib.update=M.$expr;Ib.params=M.$params}function Da(y,M){var p=hd(y),Q="group"===y.type,Z=y.from&&y.from.facet;const pa=y.overlap;let xa=y.layout||"scope"===p||"frame"===p,Cb,Ib,Xb,$b,mc,vc;const yc="mark"===p||xa||Z,Jc=nd(y.from,Q,M);Ib=M.add(gf({key:Jc.key||(y.key?hb(y.key):void 0),pulse:Jc.pulse,clean:!Q}));const Zc=Ia(Ib);Ib=Xb=M.add(Fe({pulse:Zc}));Ib=M.add(Sc({markdef:ra(y),interactive:Bb(y.interactive,M),clip:Ob(y.clip,
M),context:{$context:!0},groups:M.lookup(),parent:M.signals.parent?M.signalRef("parent"):null,index:M.markpath(),pulse:Ia(Ib)}));var Yc=Ia(Ib);Ib=$b=M.add(E(sa(y.encode,y.type,p,y.style,M,{mod:!1,pulse:Yc})));Ib.params.parent=M.encode();y.transform&&y.transform.forEach($d=>{$d=Ua($d,M);const Rc=$d.metadata;(Rc.generates||Rc.changes)&&h.error("Mark transforms should not generate new data.");Rc.nomod||($b.params.mod=!0);$d.params.pulse=Ia(Ib);M.add(Ib=$d)});y.sort&&(Ib=M.add(id({sort:M.compareRef(y.sort),
pulse:Ia(Ib)})));p=Ia(Ib);if(Z||xa)xa=M.add(sc({layout:M.objectProperty(y.layout),legends:M.legends,mark:Yc,pulse:p})),vc=Ia(xa);const jd=M.add(Ie({mark:Yc,pulse:vc||p}));Yc=Ia(jd);Q&&(yc&&(Cb=M.operators,Cb.pop(),xa&&Cb.pop()),M.pushState(p,vc||Yc,Zc),Z?r(y,M,Jc):yc?da(y,M,Jc):M.parse(y),M.popState(),yc&&(xa&&Cb.push(xa),Cb.push(jd)));pa&&(Yc=Oa(pa,Yc,M));Q=M.add(Ca({pulse:Yc}));Z=M.add(bc({pulse:Ia(Q)},void 0,M.parent()));null!=y.name&&(mc=y.name,M.addData(mc,new ma(M,Xb,Q,Z)),y.on&&y.on.forEach($d=>
{($d.insert||$d.remove||$d.toggle)&&h.error("Marks only support modify triggers.");za($d,M,mc)}))}function Oa(y,M,p){const Q=y.method,Z=y.bound,pa=y.separation;M={separation:Nb(pa)?p.signalRef(pa.signal):pa,method:Nb(Q)?p.signalRef(Q.signal):Q,pulse:M};y.order&&(M.sort=p.compareRef({field:y.order}));Z&&(y=Z.tolerance,M.boundTolerance=Nb(y)?p.signalRef(y.signal):+y,M.boundScale=p.scaleRef(Z.scale),M.boundOrient=Z.orient);return Ia(p.add(Oc(M)))}function kb(y,M){const p=M.config.legend,Q=y.encode||
{},Z=Pa(y,p),pa=Q.legend||{},xa=pa.name||void 0,Cb=pa.interactive,Ib=pa.style,Xb={};let $b=0,mc,vc;Xc.forEach(jd=>y[jd]?(Xb[jd]=y[jd],$b=$b||y[jd]):0);$b||h.error("Missing valid scale for legend.");var yc=Vb(y,M.scaleType($b));const Jc={title:null!=y.title,scales:Xb,type:yc,vgrad:"symbol"!==yc&&Z.isVertical()},Zc=Ia(M.add(Fe(null,[Jc]))),Yc=Ia(M.add(rc(vc={type:yc,scale:M.scaleRef($b),count:M.objectProperty(Z("tickCount")),limit:M.property(Z("symbolLimit")),values:M.objectProperty(y.values),minstep:M.property(y.tickMinStep),
formatType:M.property(y.formatType),formatSpecifier:M.property(y.format)})));"gradient"===yc?(yc=[Y(y,$b,p,Q.gradient),Kb(y,p,Q.labels,Yc)],vc.count=vc.count||M.signalRef(`max(2,2*floor((${N(Z.gradientLength())})/100))`)):"discrete"===yc?yc=[Fa(y,$b,p,Q.gradient,Yc),Kb(y,p,Q.labels,Yc)]:(mc=ac(y,p),yc=[pc(y,p,Q,Yc,N(mc.columns))],vc.size=Cc(y,M,yc[0].marks));yc=[Ma({role:"legend-entry",from:Zc,encode:{enter:{x:{value:0},y:{value:0}}},marks:yc,layout:mc,interactive:Cb})];Jc.title&&yc.push(Mb(y,p,Q.title,
Zc));return Da(Ma({role:"legend",from:Zc,encode:Ub(Hb(Z,y,p),pa,ld),marks:yc,aria:Z("aria"),description:Z("description"),zindex:Z("zindex"),name:xa,interactive:Cb,style:Ib}),M)}function Vb(y,M){let p=y.type||"symbol";y.type||1!==Eb(y)||!y.fill&&!y.stroke||(p=ub.isContinuous(M)?"gradient":ub.isDiscretizing(M)?"discrete":"symbol");return"gradient"!==p?p:ub.isDiscretizing(M)?"discrete":"gradient"}function Eb(y){return Xc.reduce((M,p)=>M+(y[p]?1:0),0)}function Hb(y,M,p){const Q={enter:{},update:{}};Ab(Q,
{orient:y("orient"),offset:y("offset"),padding:y("padding"),titlePadding:y("titlePadding"),cornerRadius:y("cornerRadius"),fill:y("fillColor"),stroke:y("strokeColor"),strokeWidth:p.strokeWidth,strokeDash:p.strokeDash,x:y("legendX"),y:y("legendY"),format:M.format,formatType:M.formatType});return Q}function Cc(y,M,p){const Q=N(Hc("size",y,p));y=N(Hc("strokeWidth",y,p));(p=Xa("fontSize",p[1].encode))||(p=(p=M.config.style["guide-label"])&&p.fontSize);p=N(p);return ia.parseExpression(`max(ceil(sqrt(${Q})+${y}),${p})`,
M)}function Hc(y,M,p){return M[y]?`scale("${M[y]}",datum)`:Xa(y,p[0].encode)}function Nc(y,M){y=h.isString(y)?{text:y}:y;const p=Pa(y,M.config.title);var Q=y.encode||{},Z=Q.group||{};const pa=Z.name||void 0,xa=Z.interactive,Cb=Z.style,Ib=[],Xb=Ia(M.add(Fe(null,[{}])));var $b=Ib.push,mc=y;var vc=(vc=y.encode)&&vc.title||h.extend({name:y.name,interactive:y.interactive,style:y.style},vc);var yc={value:0};yc={enter:{opacity:yc},update:{opacity:{value:1}},exit:{opacity:yc}};Ab(yc,{text:mc.text,align:{signal:"item.mark.group.align"},
angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:p("dx"),dy:p("dy"),fill:p("color"),font:p("font"),fontSize:p("fontSize"),fontStyle:p("fontStyle"),fontWeight:p("fontWeight"),lineHeight:p("lineHeight")},{align:p("align"),angle:p("angle"),baseline:p("baseline")});mc=Sb({type:"text",role:"title-text",style:"group-title",from:Xb,encode:yc},vc);$b.call(Ib,mc);y.subtitle&&($b=Ib.push,Q=Q.subtitle,mc={value:0},mc={enter:{opacity:mc},update:{opacity:{value:1}},
exit:{opacity:mc}},Ab(mc,{text:y.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:p("dx"),dy:p("dy"),fill:p("subtitleColor"),font:p("subtitleFont"),fontSize:p("subtitleFontSize"),fontStyle:p("subtitleFontStyle"),fontWeight:p("subtitleFontWeight"),lineHeight:p("subtitleLineHeight")},{align:p("align"),angle:p("angle"),baseline:p("baseline")}),y=Sb({type:"text",role:"title-subtitle",style:"group-subtitle",
from:Xb,encode:mc},Q),$b.call(Ib,y));y={enter:{},update:{}};Ab(y,{orient:p("orient"),anchor:p("anchor"),align:{signal:df},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},limit:p("limit"),frame:p("frame"),offset:p("offset")||0,padding:p("subtitlePadding")});Z=Ub(y,Z,ld);return Da(Ma({role:"title",from:Xb,encode:Z,marks:Ib,aria:p("aria"),description:p("description"),zindex:p("zindex"),name:pa,interactive:xa,style:Cb}),M)}function xd(y,M){const p=[];y.transform&&
y.transform.forEach(Q=>{p.push(Ua(Q,M))});y.on&&y.on.forEach(Q=>{za(Q,M,y.name)});M.addDataPipeline(y.name,sd(y,M,p))}function sd(y,M,p){const Q=[];let Z=null,pa=!1,xa=!1,Cb,Ib,Xb,$b;y.values?Nb(y.values)||$a(y.format)?(Q.push(Jd(M,y)),Q.push(Z=ed())):Q.push(Z=ed({$ingest:y.values,$format:y.format})):y.url?$a(y.url)||$a(y.format)?(Q.push(Jd(M,y)),Q.push(Z=ed())):Q.push(Z=ed({$request:y.url,$format:y.format})):y.source&&(Z=Cb=h.array(y.source).map(mc=>Ia(M.getData(mc).output)),Q.push(null));y=0;for(Ib=
p.length;y<Ib;++y)Xb=p[y],$b=Xb.metadata,Z||$b.source||Q.push(Z=ed()),Q.push(Xb),$b.generates&&(xa=!0),$b.modifies&&!xa&&(pa=!0),$b.source?Z=Xb:$b.changes&&(Z=null);Cb&&(Ib=Cb.length-1,Q[0]=Wd({derive:pa,pulse:Ib?Cb:Cb[0]}),(pa||Ib)&&Q.splice(1,0,ed()));Z||Q.push(ed());Q.push(bc({}));return Q}function ed(y){y=Fe({},y);y.metadata={source:!0};return y}function Jd(y,M){return Rb({url:M.url?y.property(M.url):void 0,async:M.async?y.property(M.async):void 0,values:M.values?y.property(M.values):void 0,format:y.objectProperty(M.format)})}
function Hd(y,M,p,Q){let Z;if(M&&h.hasOwnProperty(M,y))return M[y];if(h.hasOwnProperty(p,y))return p[y];if(y.startsWith("title")){switch(y){case "titleColor":Z="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":Z=y[5].toLowerCase()+y.slice(6)}return Q["guide-title"][Z]}if(y.startsWith("label")){switch(y){case "labelColor":Z="fill";break;case "labelFont":case "labelFontSize":Z=y[5].toLowerCase()+y.slice(6)}return Q["guide-label"][Z]}return null}function vd(y){const M={};for(const p of y)if(p)for(const Q in p)M[Q]=
1;return Object.keys(M)}function we(y,M,p,Q,Z){return{signal:'flush(range("'+y+'"), scale("'+y+'", datum.value), '+M+","+p+","+Q+","+Z+")"}}function Ed(y,M,p,Q){const Z=(xa,Cb)=>null!=xa?(p.update[Cb]=oe(zc(xa),p.update[Cb]),!1):jc(Cb,Q)?!1:!0,pa=Z(y("titleX"),"x");y=Z(y("titleY"),"y");p.enter.auto=y===pa?zc(y):Le(M,zc(y),zc(pa))}function w(y,M,p){const Q=h.array(y.signals),Z=h.array(y.scales);p||Q.forEach(pa=>Sa(pa,M));h.array(y.projections).forEach(pa=>{const xa=M.config.projection||{},Cb={};for(const Ib in pa)"name"!==
Ib&&(Cb[Ib]=va(pa[Ib],Ib,M));for(const Ib in xa)null==Cb[Ib]&&(Cb[Ib]=va(xa[Ib],Ib,M));M.addProjection(pa.name,Cb)});Z.forEach(pa=>{const xa=pa.type||"linear";ub.isValidScaleType(xa)||h.error("Unrecognized scale type: "+h.stringValue(xa));M.addScale(pa.name,{type:xa,domain:void 0})});h.array(y.data).forEach(pa=>xd(pa,M));Z.forEach(pa=>{const xa=M.getScale(pa.name).params;let Cb;xa.domain=X(pa.domain,pa,M);null!=pa.range&&(xa.range=ja(pa,M,xa));if(null!=pa.interpolate){var Ib=pa.interpolate;xa.interpolate=
x(Ib.type||Ib);null!=Ib.gamma&&(xa.interpolateGamma=x(Ib.gamma))}null!=pa.nice&&(Ib=pa.nice,Ib=h.isObject(Ib)?{interval:x(Ib.interval),step:x(Ib.step)}:x(Ib),xa.nice=Ib);null!=pa.bins&&(Ib=pa.bins,Ib=Ib.signal||h.isArray(Ib)?U(Ib,M):M.objectProperty(Ib),xa.bins=Ib);for(Cb in pa)h.hasOwnProperty(xa,Cb)||"name"===Cb||(xa[Cb]=x(pa[Cb],M))});(p||Q).forEach(pa=>K(pa,M));h.array(y.axes).forEach(pa=>{var xa=M.config,Cb=xa.style,Ib=xa.axis,Xb="band"===M.scaleType(pa.scale)&&xa.axisBand,$b=pa.orient,mc;if(Nb($b)){const Rd=
vd([xa.axisX,xa.axisY]),pe=vd([xa.axisTop,xa.axisBottom,xa.axisLeft,xa.axisRight]);var vc={};for(mc of Rd)vc[mc]=Le($b,Hd(mc,xa.axisX,Ib,Cb),Hd(mc,xa.axisY,Ib,Cb));var yc={};for(mc of pe){var Jc=yc,Zc=mc,Yc=$b.signal,jd=Hd(mc,xa.axisTop,Ib,Cb),$d=Hd(mc,xa.axisBottom,Ib,Cb),Rc=Hd(mc,xa.axisLeft,Ib,Cb),Xd=Hd(mc,xa.axisRight,Ib,Cb);var te={signal:(null!=Rc?`${Yc} === '${"left"}' ? (${le(Rc)}) : `:"")+(null!=$d?`${Yc} === '${"bottom"}' ? (${le($d)}) : `:"")+(null!=Xd?`${Yc} === '${"right"}' ? (${le(Xd)}) : `:
"")+(null!=jd?`${Yc} === '${"top"}' ? (${le(jd)}) : `:"")+"(null)"};Jc[Zc]=te}}else vc="top"===$b||"bottom"===$b?xa.axisX:xa.axisY,yc=xa["axis"+$b[0].toUpperCase()+$b.slice(1)];var $c=vc||yc||Xb?h.extend({},Ib,vc,yc,Xb):Ib;const Cd=pa.encode||{},Qd=Cd.axis||{},re=Qd.name||void 0,ue=Qd.interactive,Sd=Qd.style,Ud=Pa(pa,$c),Ke=Ud("tickBand");let jf=Ud("tickOffset"),xe,Qf;Ke?Ke.signal?(xe={signal:`(${Ke.signal}) === 'extent' ? 1 : 0.5`},Qf={signal:`(${Ke.signal}) === 'extent'`},h.isObject(jf)||(jf={signal:`(${Ke.signal}) === 'extent' ? 0 : ${jf}`})):
"extent"===Ke?(xe=1,Qf=!0,jf=0):(xe=.5,Qf=!1):(xe=Ud("bandPosition"),Qf=Ud("tickExtra"));var td=Qf;var Me=xe;var af=jf;const Se={scale:pa.scale,ticks:!!Ud("ticks"),labels:!!Ud("labels"),grid:!!Ud("grid"),domain:!!Ud("domain"),title:null!=pa.title},Yf=Ia(M.add(Fe({},[Se]))),Ef=Ia(M.add(Ne({scale:M.scaleRef(pa.scale),extra:M.property(td),count:M.objectProperty(pa.tickCount),values:M.objectProperty(pa.values),minstep:M.property(pa.tickMinStep),formatType:M.property(pa.formatType),formatSpecifier:M.property(pa.format)}))),
We=[];let Rf;if(Se.grid){var qf=We.push,Gf=Cd.grid;const Rd=Pa(pa,$c),pe=pa.orient,sf=pa.gridScale,De=pf(pe,1,-1);a:{var Ff=pa.offset,rf=De;if(1!==rf)if(h.isObject(Ff)){let Uf=Ff=h.extend({},Ff);for(;null!=Uf.mult;)if(h.isObject(Uf.mult))Uf=Uf.mult=h.extend({},Uf.mult);else{Uf.mult=Nb(rf)?{signal:`(${Uf.mult}) * (${rf.signal})`}:Uf.mult*rf;var rg=Ff;break a}Uf.mult=rf}else Ff=Nb(rf)?{signal:`(${rf.signal}) * (${Ff||0})`}:rf*(Ff||0);rg=Ff}const kf=rg;let Xe,Tf,vf;const Hf={enter:Xe={opacity:pd},update:vf=
{opacity:me},exit:Tf={opacity:pd}};Ab(Hf,{stroke:Rd("gridColor"),strokeCap:Rd("gridCap"),strokeDash:Rd("gridDash"),strokeDashOffset:Rd("gridDashOffset"),strokeOpacity:Rd("gridOpacity"),strokeWidth:Rd("gridWidth")});const lf={scale:pa.scale,field:"value",band:Me,extra:td,offset:af,round:Rd("tickRound")},Og=Le(pe,{signal:"height"},{signal:"width"}),Pg=sf?{scale:sf,range:0,mult:De,offset:kf}:{value:0,offset:kf},oh=sf?{scale:sf,range:1,mult:De,offset:kf}:h.extend(Og,{mult:De,offset:kf});Xe.x=vf.x=Le(pe,
lf,Pg);Xe.y=vf.y=$e(pe,lf,Pg);Xe.x2=vf.x2=$e(pe,oh);Xe.y2=vf.y2=Le(pe,oh);Tf.x=Le(pe,lf);Tf.y=$e(pe,lf);var zf=Sb({type:"rule",role:"axis-grid",key:"value",from:Ef,encode:Hf},Gf);qf.call(We,zf)}if(Se.ticks){Rf=Ud("tickSize");var Fh=We.push,kg=Cd.ticks,Ag=Rf;const Rd=Pa(pa,$c),pe=pa.orient,sf=pf(pe,-1,1);let De,kf,Xe;const Tf={enter:De={opacity:pd},update:Xe={opacity:me},exit:kf={opacity:pd}};Ab(Tf,{stroke:Rd("tickColor"),strokeCap:Rd("tickCap"),strokeDash:Rd("tickDash"),strokeDashOffset:Rd("tickDashOffset"),
strokeOpacity:Rd("tickOpacity"),strokeWidth:Rd("tickWidth")});const vf=zc(Ag);vf.mult=sf;const Hf={scale:pa.scale,field:"value",band:Me,extra:td,offset:af,round:Rd("tickRound")};Xe.y=De.y=Le(pe,pd,Hf);Xe.y2=De.y2=Le(pe,vf);kf.x=Le(pe,Hf);Xe.x=De.x=$e(pe,pd,Hf);Xe.x2=De.x2=$e(pe,vf);kf.y=$e(pe,Hf);var lg=Sb({type:"rule",role:"axis-tick",key:"value",from:Ef,encode:Tf},kg);Fh.call(We,lg)}if(Se.labels){Rf=Se.ticks?Rf:0;var T=We.push,Ka=Cd.labels,lb=Rf;const Rd=Pa(pa,$c),pe=pa.orient,sf=pa.scale,De=pf(pe,
-1,1),kf=N(Rd("labelFlush")),Xe=N(Rd("labelFlushOffset")),Tf=Rd("labelAlign"),vf=Rd("labelBaseline");let Hf=0===kf||!!kf,lf;const Og=zc(lb);Og.mult=De;Og.offset=zc(Rd("labelPadding")||0);Og.offset.mult=De;const Pg={scale:sf,field:"value",band:.5,offset:ib(af,Rd("labelOffset"))};var Ic=Hf?we(sf,kf,'"left"','"right"','"center"'):{value:"center"},Kc=pe;var Pd=Nb(Kc)?fe(`${Kc.signal} === '${"right"}'`,"left","right"):"right"===Kc?{value:"left"}:{value:"right"};const oh=Le(pe,Ic,Pd),Uf=Le(pe,Ze(pe,"bottom",
"top"),Hf?we(sf,kf,'"top"','"bottom"','"middle"'):{value:"middle"}),gi=we(sf,kf,`-(${Xe})`,Xe,0);Hf=Hf&&Xe;const vh={opacity:pd,x:Le(pe,Pg,Og),y:$e(pe,Pg,Og)},Qg={enter:vh,update:lf={opacity:me,text:{field:"label"},x:vh.x,y:vh.y,align:oh,baseline:Uf},exit:{opacity:pd,x:vh.x,y:vh.y}};Ab(Qg,{dx:!Tf&&Hf?Le(pe,gi):null,dy:!vf&&Hf?$e(pe,gi):null});Ab(Qg,{angle:Rd("labelAngle"),fill:Rd("labelColor"),fillOpacity:Rd("labelOpacity"),font:Rd("labelFont"),fontSize:Rd("labelFontSize"),fontWeight:Rd("labelFontWeight"),
fontStyle:Rd("labelFontStyle"),limit:Rd("labelLimit"),lineHeight:Rd("labelLineHeight")},{align:Tf,baseline:vf});const Rg=Rd("labelBound");let Th=Rd("labelOverlap");Th=Th||Rg?{separation:Rd("labelSeparation"),method:Th,order:"datum.index",bound:Rg?{scale:sf,orient:pe,tolerance:Rg}:null}:void 0;lf.align!==oh&&(lf.align=oe(lf.align,oh));lf.baseline!==Uf&&(lf.baseline=oe(lf.baseline,Uf));var se=Sb({type:"text",role:"axis-label",style:"guide-label",key:"value",from:Ef,encode:Qg,overlap:Th},Ka);T.call(We,
se)}if(Se.domain){var Te=We.push,ye=Cd.domain;const Rd=Pa(pa,$c),pe=pa.orient;let sf,De;const kf={enter:sf={opacity:pd},update:De={opacity:me},exit:{opacity:pd}};Ab(kf,{stroke:Rd("domainColor"),strokeCap:Rd("domainCap"),strokeDash:Rd("domainDash"),strokeDashOffset:Rd("domainDashOffset"),strokeWidth:Rd("domainWidth"),strokeOpacity:Rd("domainOpacity")});const Xe={scale:pa.scale,range:0},Tf={scale:pa.scale,range:1};sf.x=De.x=Le(pe,Xe,pd);sf.x2=De.x2=Le(pe,Tf);sf.y=De.y=$e(pe,Xe,pd);sf.y2=De.y2=$e(pe,
Tf);var Sf=Sb({type:"rule",role:"axis-domain",from:Yf,encode:kf},ye);Te.call(We,Sf)}if(Se.title){var nf=We.push,nh=Cd.title;const Rd=Pa(pa,$c),pe=pa.orient,sf=pf(pe,-1,1);let De,kf;const Xe={enter:De={opacity:pd,anchor:zc(Rd("titleAnchor",null)),align:{signal:df}},update:kf=h.extend({},De,{opacity:me,text:zc(pa.title)}),exit:{opacity:pd}},Tf={signal:`lerp(range("${pa.scale}"), ${sb(0,1,.5)})`};kf.x=Le(pe,Tf);kf.y=$e(pe,Tf);var Xg=De,sg=sf;var fg=Nb(sg)?{signal:`(${sg.signal}) * ${90}`}:{value:90*
sg};Xg.angle=Le(pe,pd,fg);De.baseline=Le(pe,Ze(pe,"bottom","top"),{value:"bottom"});kf.angle=De.angle;kf.baseline=De.baseline;Ab(Xe,{fill:Rd("titleColor"),fillOpacity:Rd("titleOpacity"),font:Rd("titleFont"),fontSize:Rd("titleFontSize"),fontStyle:Rd("titleFontStyle"),fontWeight:Rd("titleFontWeight"),limit:Rd("titleLimit"),lineHeight:Rd("titleLineHeight")},{align:Rd("titleAlign"),angle:Rd("titleAngle"),baseline:Rd("titleBaseline")});Ed(Rd,pe,Xe,nh);Xe.update.align=oe(Xe.update.align,De.align);Xe.update.angle=
oe(Xe.update.angle,De.angle);Xe.update.baseline=oe(Xe.update.baseline,De.baseline);var tg=Sb({type:"text",role:"axis-title",style:"guide-title",from:Yf,encode:Xe},nh);nf.call(We,tg)}const ug={enter:{},update:{}};Ab(ug,{orient:Ud("orient"),offset:Ud("offset")||0,position:V(pa.position,0),titlePadding:Ud("titlePadding"),minExtent:Ud("minExtent"),maxExtent:Ud("maxExtent"),range:{signal:`abs(span(range("${pa.scale}")))`},translate:Ud("translate"),format:pa.format,formatType:pa.formatType});return Da(Ma({role:"axis",
from:Yf,encode:Ub(ug,Qd,ld),marks:We,aria:Ud("aria"),description:Ud("description"),zindex:Ud("zindex"),name:re,interactive:ue,style:Sd}),M)});h.array(y.marks).forEach(pa=>Da(pa,M));h.array(y.legends).forEach(pa=>kb(pa,M));y.title&&Nc(y.title,M);M.parseLambdas();return M}function I(y,M){var p=M.config;const Q=Ia(M.root=M.add(new Va("operator",void 0,void 0,void 0))),Z=Ja(y,p);Z.forEach(Cb=>Sa(Cb,M));M.description=y.description||p.description;M.eventConfig=p.events;M.legends=M.objectProperty(p.legend&&
p.legend.layout);M.locale=p.locale;p=M.add(Fe());const pa=M.add(E(sa(Ub({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},y.encode),"group","frame",y.style,M,{pulse:Ia(p)}))),xa=M.add(sc({layout:M.objectProperty(y.layout),legends:M.legends,autosize:M.signalRef("autosize"),mark:Q,pulse:Ia(pa)}));M.operators.pop();M.pushState(Ia(pa),Ia(xa),null);w(y,M,Z);M.operators.push(xa);y=M.add(Ie({mark:Q,pulse:Ia(xa)}));y=M.add(Ca({pulse:Ia(y)}));y=M.add(bc({pulse:Ia(y)}));
M.addData("root",new ma(M,p,p,y));return M}function wa(y,M){return M&&M.signal?{name:y,update:M.signal}:{name:y,value:M}}function Ja(y,M){const p=xa=>V(y[xa],M[xa]),Q=[wa("background",p("background")),wa("autosize",dc(p("autosize"))),wa("padding",Wb(p("padding"))),wa("width",p("width")||0),wa("height",p("height")||0)],Z=Q.reduce((xa,Cb)=>(xa[Cb.name]=Cb,xa),{}),pa={};h.array(y.signals).forEach(xa=>{h.hasOwnProperty(Z,xa.name)?xa=h.extend(Z[xa.name],xa):Q.push(xa);pa[xa.name]=xa});h.array(M.signals).forEach(xa=>
{h.hasOwnProperty(pa,xa.name)||h.hasOwnProperty(Z,xa.name)||Q.push(xa)});return Q}function jb(y,M){this.config=y||{};this.options=M||{};this.bindings=[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=[]}function wb(y){this.config=y.config;this.options=y.options;this.legends=
y.legends;this.field=Object.create(y.field);this.signals=Object.create(y.signals);this.lambdas=Object.create(y.lambdas);this.scales=Object.create(y.scales);this.events=Object.create(y.events);this.data=Object.create(y.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++y._nextsub[0];this._nextsub=y._nextsub;this._parent=y._parent.slice();this._encode=y._encode.slice();this._lookup=y._lookup.slice();this._markpath=y._markpath}function ec(y){return(h.isArray(y)?Qb:qc)(y)}
function Qb(y){const M=y.length;let p="[";for(let Q=0;Q<M;++Q){const Z=y[Q];p+=(0<Q?",":"")+(h.isObject(Z)?Z.signal||ec(Z):h.stringValue(Z))}return p+"]"}function qc(y){let M="{",p=0,Q,Z;for(Q in y)Z=y[Q],M+=(1<++p?",":"")+h.stringValue(Q)+":"+(h.isObject(Z)?Z.signal||ec(Z):h.stringValue(Z));return M+"}"}function Fc(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},
image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",
fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,
tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,
symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}const zc=y=>h.isObject(y)&&
!h.isArray(y)?h.extend({},y):{value:y},bd=y=>h.isString(y)?h.stringValue(y):y.signal?`(${y.signal})`:vb(y),md=(y,M,p,Q)=>`(${y}(${[M,p,Q].map(tb).join(",")})+'')`,qd=["value","update","init","react","bind"],Gd=hb("key"),kd={code:"_.$value",ast:{type:"Identifier",value:"value"}},Od=y=>(M,p,Q)=>new Va(y,p,M||void 0,Q),he=Od("aggregate"),Ne=Od("axisticks"),Ie=Od("bound"),Fe=Od("collect"),uf=Od("compare"),gf=Od("datajoin"),E=Od("encode"),ca=Od("expression"),Ga=Od("facet"),eb=Od("field"),Gb=Od("key"),
rc=Od("legendentries"),Rb=Od("load"),Sc=Od("mark"),fd=Od("multiextent"),cd=Od("multivalues"),Oc=Od("overlap"),Nd=Od("params"),Md=Od("prefacet"),Ld=Od("projection"),Ad=Od("proxy"),Wd=Od("relay"),Ca=Od("render"),Qa=Od("scale"),bc=Od("sieve"),id=Od("sortitems"),sc=Od("viewlayout"),Mc=Od("values");let Ec=0;const Tc={min:"min",max:"max",count:"sum"},Xc="size shape fill stroke strokeWidth strokeDash opacity".split(" "),ld={name:1,style:1,interactive:1},pd={value:0},me={value:1},df=sb(h.stringValue("left"),
h.stringValue("right"),h.stringValue("center")),Oe=sb('"top"','"bottom"','"middle"'),Je=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${sb('"right"','"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${df}`,hf=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${Oe}) : "top"`;
ma.fromEntries=function(y,M){const p=M.length,Q=M[p-1],Z=M[p-2];let pa=M[0],xa=null,Cb=1;pa&&"load"===pa.type&&(pa=M[1]);for(y.add(M[0]);Cb<p;++Cb)M[Cb].params.pulse=Ia(M[Cb-1]),y.add(M[Cb]),"aggregate"===M[Cb].type&&(xa=M[Cb]);return new ma(y,pa,Z,Q,xa)};ma.prototype={countsRef(y,M,p){const Q=this.counts||(this.counts={}),Z=Ha(M);if(null!=Z){y=this.scope;var pa=Q[Z]}pa?p&&p.field&&fb(y,pa.agg.params,p):(pa={groupby:y.fieldRef(M,"key"),pulse:Ia(this.output)},p&&p.field&&fb(y,pa,p),p=y.add(he(pa)),
pa=y.add(Fe({pulse:Ia(p)})),pa={agg:p,ref:Ia(pa)},null!=Z&&(Q[Z]=pa));return pa.ref},tuplesRef(){return Ia(this.values)},extentRef(y,M){return S(y,this,"extent","extent",M,!1)},domainRef(y,M){return S(y,this,"domain","values",M,!1)},valuesRef(y,M,p){return S(y,this,"vals","values",M,p||!0)},lookupRef(y,M){return S(y,this,"lookup","tupleindex",M,!1)},indataRef(y,M){return S(y,this,"indata","tupleindex",M,!0,!0)}};const pf=(y,M,p)=>{Nb(y)?(y=y.signal,M=fe(`${y} === '${"left"}' || ${y} === '${"top"}'`,
M,p)):M="left"===y||"top"===y?M:p;return M},Le=(y,M,p)=>{Nb(y)?(y=y.signal,M=ne(`${y} === '${"top"}' || ${y} === '${"bottom"}'`,M,p)):M="bottom"===y||"top"===y?M:p;return M},$e=(y,M,p)=>{Nb(y)?(y=y.signal,M=ne(`${y} !== '${"top"}' && ${y} !== '${"bottom"}'`,M,p)):M="bottom"===y||"top"===y?p:M;return M},Ze=(y,M,p)=>Nb(y)?fe(`${y.signal} === '${"top"}'`,M,p):"top"===y?{value:M}:{value:p},ne=(y,M,p)=>{M=null!=M?zc(M):M;p=null!=p?zc(p):p;if(null!=M&&1!==Object.keys(M).length||null!=p&&1!==Object.keys(p).length)return[h.extend({test:y},
M)].concat(p||[]);M=M?M.signal||h.stringValue(M.value):null;p=p?p.signal||h.stringValue(p.value):null;return{signal:`${y} ? (${M}) : (${p})`}},fe=(y,M,p)=>({signal:`${y} ? (${le(M)}) : (${le(p)})`}),le=y=>Nb(y)?y.signal:null==y?null:h.stringValue(y),oe=(y,M)=>{const p=y.signal;return p&&p.endsWith("(null)")?{signal:p.slice(0,-6)+M.signal}:y};jb.prototype=wb.prototype={parse(y){return w(y,this)},fork(){return new wb(this)},isSubscope(){return 0<this._subid},toRuntime(){this.finish();return{description:this.description,
operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(y){this.operators.push(y);y.id=this.id();y.refs&&(y.refs.forEach(M=>{M.$ref=y.id}),y.refs=null);return y},proxy(y){y=y instanceof Va?Ia(y):y;return this.add(Ad({value:y}))},addStream(y){this.streams.push(y);y.id=this.id();return y},addUpdate(y){this.updates.push(y);return y},finish(){function y(Q,Z,pa){Q&&
(Q=Q.data||(Q.data={}),Z=Q[Z]||(Q[Z]=[]),Z.push(pa))}let M,p;this.root&&(this.root.root=!0);for(M in this.signals)this.signals[M].signal=M;for(M in this.scales)this.scales[M].scale=M;for(M in this.data){p=this.data[M];y(p.input,M,"input");y(p.output,M,"output");y(p.values,M,"values");for(const Q in p.index)y(p.index[Q],M,"index:"+Q)}return this},pushState(y,M,p){this._encode.push(Ia(this.add(bc({pulse:y}))));this._parent.push(M);this._lookup.push(p?Ia(this.proxy(p)):null);this._markpath.push(-1)},
popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return h.peek(this._parent)},encode(){return h.peek(this._encode)},lookup(){return h.peek(this._lookup)},markpath(){const y=this._markpath;return++y[y.length-1]},fieldRef(y,M){if(h.isString(y))return hb(y,M);y.signal||h.error("Unsupported field reference: "+h.stringValue(y));y=y.signal;var p=this.field[y];p||(p={name:this.signalRef(y)},M&&(p.as=M),this.field[y]=p=Ia(this.add(eb(p))));return p},compareRef(y){let M=
!1;const p=Z=>Nb(Z)?(M=!0,this.signalRef(Z.signal)):Z&&Z.expr?(M=!0,this.exprRef(Z.expr)):Z,Q=h.array(y.field).map(p);y=h.array(y.order).map(p);return M?Ia(this.add(uf({fields:Q,orders:y}))):{$compare:Q,$order:y}},keyRef(y,M){let p=!1;const Q=this.signals;y=h.array(y).map(Z=>Nb(Z)?(p=!0,Ia(Q[Z.signal])):Z);return p?Ia(this.add(Gb({fields:y,flat:M}))):Za(y,M)},sortRef(y){if(!y)return y;const M=qb(y.op,y.field);y=y.order||"ascending";return y.signal?Ia(this.add(uf({fields:M,orders:this.signalRef(y.signal)}))):
{$compare:M,$order:y}},event(y,M){const p=y+":"+M;if(!this.events[p]){const Q=this.id();this.streams.push({id:Q,source:y,type:M});this.events[p]=Q}return this.events[p]},hasOwnSignal(y){return h.hasOwnProperty(this.signals,y)},addSignal(y,M){this.hasOwnSignal(y)&&h.error("Duplicate signal name: "+h.stringValue(y));M=M instanceof Va?M:this.add(new Va("operator",M,void 0,void 0));return this.signals[y]=M},getSignal(y){this.signals[y]||h.error("Unrecognized signal name: "+h.stringValue(y));return this.signals[y]},
signalRef(y){if(this.signals[y])return Ia(this.signals[y]);h.hasOwnProperty(this.lambdas,y)||(this.lambdas[y]=this.add(new Va("operator",null,void 0,void 0)));return Ia(this.lambdas[y])},parseLambdas(){const y=Object.keys(this.lambdas);for(let p=0,Q=y.length;p<Q;++p){var M=y[p];const Z=ia.parseExpression(M,this);M=this.lambdas[M];M.params=Z.$params;M.update=Z.$expr}},property(y){return y&&y.signal?this.signalRef(y.signal):y},objectProperty(y){return y&&h.isObject(y)?this.signalRef(y.signal||ec(y)):
y},exprRef(y,M){y={expr:ia.parseExpression(y,this)};M&&(y.expr.$name=M);return Ia(this.add(ca(y)))},addBinding(y,M){this.bindings||h.error("Nested signals do not support binding: "+h.stringValue(y));this.bindings.push(h.extend({signal:y},M))},addScaleProj(y,M){h.hasOwnProperty(this.scales,y)&&h.error("Duplicate scale or projection name: "+h.stringValue(y));this.scales[y]=this.add(M)},addScale(y,M){this.addScaleProj(y,Qa(M))},addProjection(y,M){this.addScaleProj(y,Ld(M))},getScale(y){this.scales[y]||
h.error("Unrecognized scale name: "+h.stringValue(y));return this.scales[y]},scaleRef(y){return Ia(this.getScale(y))},scaleType(y){return this.getScale(y).params.type},projectionRef(y){return this.scaleRef(y)},projectionType(y){return this.scaleType(y)},addData(y,M){h.hasOwnProperty(this.data,y)&&h.error("Duplicate data set name: "+h.stringValue(y));return this.data[y]=M},getData(y){this.data[y]||h.error("Undefined data set name: "+h.stringValue(y));return this.data[y]},addDataPipeline(y,M){h.hasOwnProperty(this.data,
y)&&h.error("Duplicate data set name: "+h.stringValue(y));return this.addData(y,ma.fromEntries(this,M))}};t.AxisDomainRole="axis-domain";t.AxisGridRole="axis-grid";t.AxisLabelRole="axis-label";t.AxisRole="axis";t.AxisTickRole="axis-tick";t.AxisTitleRole="axis-title";t.DataScope=ma;t.FrameRole="frame";t.LegendEntryRole="legend-entry";t.LegendLabelRole="legend-label";t.LegendRole="legend";t.LegendSymbolRole="legend-symbol";t.LegendTitleRole="legend-title";t.MarkRole="mark";t.Scope=jb;t.ScopeRole="scope";
t.config=Fc;t.parse=function(y,M,p){h.isObject(y)||h.error("Input Vega specification must be an object.");M=h.mergeConfig(Fc(),M,y.config);return I(y,new jb(M,p)).toRuntime()};t.signal=Sa;t.signalUpdates=K;t.stream=na})};
shadow$provide[54]=function(Db,nb,Dc,Wa){function t(Ia){var hb=Object.create(null);Ia&&Object.keys(Ia).forEach(function(Za){if("default"!==Za){var qb=Object.getOwnPropertyDescriptor(Ia,Za);Object.defineProperty(hb,Za,qb.get?qb:{enumerable:!0,get:function(){return Ia[Za]}})}});hb.default=Ia;return Object.freeze(hb)}var h=nb(21),ia=nb(29),Ya=nb(31),ub=nb(35),Yb=nb(36),dc=nb(38),Wb=nb(39),nc=nb(40),Ab=nb(42),Ub=nb(43),jc=nb(44);Dc=nb(45);Db=nb(46);var Ea=nb(30),bb=nb(23),tb=nb(28),rb=nb(34),pb=nb(33),
vb=nb(37),gb=nb(51),fc=nb(24),sa=nb(49),ha=nb(53),Ba=nb(50),Sa=nb(47),Va=nb(52);nb=t(Ya);ub=t(ub);Yb=t(Yb);dc=t(dc);Wb=t(Wb);nc=t(nc);Ab=t(Ab);Ub=t(Ub);jc=t(jc);Dc=t(Dc);Db=t(Db);h.extend(ia.transforms,nb,ub,Yb,dc,Wb,Ab,nc,Ub,jc,Dc,Db);Object.defineProperty(Wa,"Dataflow",{enumerable:!0,get:function(){return ia.Dataflow}});Object.defineProperty(Wa,"EventStream",{enumerable:!0,get:function(){return ia.EventStream}});Object.defineProperty(Wa,"MultiPulse",{enumerable:!0,get:function(){return ia.MultiPulse}});
Object.defineProperty(Wa,"Operator",{enumerable:!0,get:function(){return ia.Operator}});Object.defineProperty(Wa,"Parameters",{enumerable:!0,get:function(){return ia.Parameters}});Object.defineProperty(Wa,"Pulse",{enumerable:!0,get:function(){return ia.Pulse}});Object.defineProperty(Wa,"Transform",{enumerable:!0,get:function(){return ia.Transform}});Object.defineProperty(Wa,"changeset",{enumerable:!0,get:function(){return ia.changeset}});Object.defineProperty(Wa,"definition",{enumerable:!0,get:function(){return ia.definition}});
Object.defineProperty(Wa,"ingest",{enumerable:!0,get:function(){return ia.ingest}});Object.defineProperty(Wa,"isTuple",{enumerable:!0,get:function(){return ia.isTuple}});Object.defineProperty(Wa,"transform",{enumerable:!0,get:function(){return ia.transform}});Object.defineProperty(Wa,"transforms",{enumerable:!0,get:function(){return ia.transforms}});Object.defineProperty(Wa,"tupleid",{enumerable:!0,get:function(){return ia.tupleid}});Object.defineProperty(Wa,"interpolate",{enumerable:!0,get:function(){return pb.interpolate}});
Object.defineProperty(Wa,"interpolateColors",{enumerable:!0,get:function(){return pb.interpolateColors}});Object.defineProperty(Wa,"interpolateRange",{enumerable:!0,get:function(){return pb.interpolateRange}});Object.defineProperty(Wa,"quantizeInterpolator",{enumerable:!0,get:function(){return pb.quantizeInterpolator}});Object.defineProperty(Wa,"scale",{enumerable:!0,get:function(){return pb.scale}});Object.defineProperty(Wa,"scheme",{enumerable:!0,get:function(){return pb.scheme}});Object.defineProperty(Wa,
"projection",{enumerable:!0,get:function(){return vb.projection}});Object.defineProperty(Wa,"View",{enumerable:!0,get:function(){return gb.View}});Object.defineProperty(Wa,"defaultLocale",{enumerable:!0,get:function(){return fc.defaultLocale}});Object.defineProperty(Wa,"formatLocale",{enumerable:!0,get:function(){return fc.numberFormatDefaultLocale}});Object.defineProperty(Wa,"locale",{enumerable:!0,get:function(){return fc.locale}});Object.defineProperty(Wa,"resetDefaultLocale",{enumerable:!0,get:function(){return fc.resetDefaultLocale}});
Object.defineProperty(Wa,"timeFormatLocale",{enumerable:!0,get:function(){return fc.timeFormatDefaultLocale}});Object.defineProperty(Wa,"expressionFunction",{enumerable:!0,get:function(){return sa.expressionFunction}});Object.defineProperty(Wa,"parse",{enumerable:!0,get:function(){return ha.parse}});Object.defineProperty(Wa,"runtimeContext",{enumerable:!0,get:function(){return Ba.context}});Object.defineProperty(Wa,"codegenExpression",{enumerable:!0,get:function(){return Sa.codegenExpression}});Object.defineProperty(Wa,
"parseExpression",{enumerable:!0,get:function(){return Sa.parseExpression}});Object.defineProperty(Wa,"parseSelector",{enumerable:!0,get:function(){return Va.parseSelector}});Wa.version="5.27.0";Object.keys(h).forEach(function(Ia){"default"===Ia||Object.prototype.hasOwnProperty.call(Wa,Ia)||Object.defineProperty(Wa,Ia,{enumerable:!0,get:function(){return h[Ia]}})});Object.keys(Ea).forEach(function(Ia){"default"===Ia||Object.prototype.hasOwnProperty.call(Wa,Ia)||Object.defineProperty(Wa,Ia,{enumerable:!0,
get:function(){return Ea[Ia]}})});Object.keys(bb).forEach(function(Ia){"default"===Ia||Object.prototype.hasOwnProperty.call(Wa,Ia)||Object.defineProperty(Wa,Ia,{enumerable:!0,get:function(){return bb[Ia]}})});Object.keys(tb).forEach(function(Ia){"default"===Ia||Object.prototype.hasOwnProperty.call(Wa,Ia)||Object.defineProperty(Wa,Ia,{enumerable:!0,get:function(){return tb[Ia]}})});Object.keys(rb).forEach(function(Ia){"default"===Ia||Object.prototype.hasOwnProperty.call(Wa,Ia)||Object.defineProperty(Wa,
Ia,{enumerable:!0,get:function(){return rb[Ia]}})})};
shadow$provide[55]=function(Db,nb,Dc,Wa){(function(t,h){"object"===typeof Wa&&"undefined"!==typeof Dc?h(Wa,nb(54)):"function"===typeof define&&define.amd?define(["exports","vega"],h):(t="undefined"!==typeof globalThis?globalThis:t||self,h(t.vegaLite={},t.vega))})(this,function(t,h){function ia(a,b){if(a.not)ia(a.not,b);else if(a.and)for(const e of a.and)ia(e,b);else if(a.or)for(const e of a.or)ia(e,b);else b(a)}function Ya(a,b){return a.not?{not:Ya(a.not,b)}:a.and?{and:a.and.map(e=>Ya(e,b))}:a.or?
{or:a.or.map(e=>Ya(e,b))}:b(a)}function ub(a){throw Error(a);}function Yb(a,b){const e={};for(const f of b)h.hasOwnProperty(a,f)&&(e[f]=a[f]);return e}function dc(a,b){a=Object.assign({},a);for(const e of b)delete a[e];return a}function Wb(a){if(h.isNumber(a))return a;a=h.isString(a)?a:l(a);if(250>a.length)return a;let b=0;for(let e=0;e<a.length;e++){const f=a.charCodeAt(e);b=(b<<5)-b+f;b&=b}return b}function nc(a){return!1===a||null===a}function Ab(a,b){return a.includes(b)}function Ub(a,b){let e=
0;for(const f of a.entries()){const [g,n]=f;if(b(n,g,e++))return!0}return!1}function jc(a,b){let e=0;for(const f of a.entries()){const [g,n]=f;if(!b(n,g,e++))return!1}return!0}function Ea(a){for(var b=arguments.length,e=Array(1<b?b-1:0),f=1;f<b;f++)e[f-1]=arguments[f];for(const g of e){let n;b=a;e=null!=(n=g)?n:{};for(const C of ud(e))h.writeConfig(b,C,e[C],!0)}return a}function bb(a,b){const e=[],f={};for(const g of a)a=b(g),a in f||(f[a]=1,e.push(g));return e}function tb(a,b){if(a.size!==b.size)return!1;
for(const e of a)if(!b.has(e))return!1;return!0}function rb(a,b){for(const e of a)if(b.has(e))return!0;return!1}function pb(a){const b=new Set;for(const e of a){const f=h.splitAccessPath(e).map((g,n)=>0===n?g:`[${g}]`);a=f.map((g,n)=>f.slice(0,n+1).join(""));for(const g of a)b.add(g)}return b}function vb(a,b){return void 0===a||void 0===b?!0:rb(pb(a),pb(b))}function gb(a){return 0===ud(a).length}function fc(a){return!0===a||!1===a}function sa(a){const b=a.replace(/\W/g,"_");return(a.match(/^\d+/)?
"_":"")+b}function ha(a,b){return a.not?`!(${ha(a.not,b)})`:a.and?`(${a.and.map(e=>ha(e,b)).join(") \x26\x26 (")})`:a.or?`(${a.or.map(e=>ha(e,b)).join(") || (")})`:b(a)}function Ba(a,b){if(0===b.length)return!0;const e=b.shift();e in a&&Ba(a[e],b)&&delete a[e];return gb(a)}function Sa(a){return a.charAt(0).toUpperCase()+a.substr(1)}function Va(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum";const e=h.splitAccessPath(a),f=[];for(let g=1;g<=e.length;g++){const n=`[${e.slice(0,
g).map(h.stringValue).join("][")}]`;f.push(`${b}${n}`)}return f.join(" \x26\x26 ")}function Ia(a){return`${1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum"}[${h.stringValue(h.splitAccessPath(a).join("."))}]`}function hb(a){return a.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Za(a){return`${h.splitAccessPath(a).map(hb).join("\\.")}`}function qb(a,b,e){return a.replace(new RegExp(b.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"),"g"),e)}function Nb(a){return`${h.splitAccessPath(a).join(".")}`}
function $a(a){return a?h.splitAccessPath(a).length:0}function V(){for(var a=arguments.length,b=Array(a),e=0;e<a;e++)b[e]=arguments[e];for(const f of b)if(void 0!==f)return f}function N(a){const b=++Gk;return a?String(a)+b:b}function na(a){return oa(a)?a:`__${a}`}function oa(a){return a.startsWith("__")}function Na(a){if(void 0!==a)return(a%360+360)%360}function la(a){return h.isNumber(a)?!0:!isNaN(a)&&!isNaN(parseFloat(a))}function qa(a,b){if(a===b)return!0;if(a&&b&&"object"==typeof a&&"object"==
typeof b){if(a.constructor.name!==b.constructor.name)return!1;let f;if(Array.isArray(a)){var e=a.length;if(e!=b.length)return!1;for(f=e;0!==f--;)if(!qa(a[f],b[f]))return!1;return!0}if(a instanceof Map&&b instanceof Map){if(a.size!==b.size)return!1;for(f of a.entries())if(!b.has(f[0]))return!1;for(f of a.entries())if(!qa(f[1],b.get(f[0])))return!1;return!0}if(a instanceof Set&&b instanceof Set){if(a.size!==b.size)return!1;for(f of a.entries())if(!b.has(f[0]))return!1;return!0}if(ArrayBuffer.isView(a)&&
ArrayBuffer.isView(b)){e=a.length;if(e!=b.length)return!1;for(f=e;0!==f--;)if(a[f]!==b[f])return!1;return!0}if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf&&a.valueOf!==Fk.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString&&a.toString!==Fk.toString)return a.toString()===b.toString();const g=Object.keys(a);e=g.length;if(e!==Object.keys(b).length)return!1;for(f=e;0!==f--;)if(!Object.prototype.hasOwnProperty.call(b,
g[f]))return!1;for(f=e;0!==f--;)if(e=g[f],!qa(a[e],b[e]))return!1;return!0}return a!==a&&b!==b}function l(a){const b=[];return function g(f){f&&f.toJSON&&"function"===typeof f.toJSON&&(f=f.toJSON());if(void 0!==f){if("number"==typeof f)return isFinite(f)?""+f:"null";if("object"!==typeof f)return JSON.stringify(f);var n;if(Array.isArray(f)){var C="[";for(n=0;n<f.length;n++)n&&(C+=","),C+=g(f[n])||"null";return C+"]"}if(null===f)return"null";if(b.includes(f))throw new TypeError("Converting circular structure to JSON");
var P=b.push(f)-1,ba=Object.keys(f).sort();C="";for(n=0;n<ba.length;n++){const ua=ba[n],ab=g(f[ua]);ab&&(C&&(C+=","),C+=JSON.stringify(ua)+":"+ab)}b.splice(P,1);return`{${C}}`}}(a)}function D(a){switch(a){case "latitude":return"y";case "latitude2":return"y2";case "longitude":return"x";case "longitude2":return"x2"}}function K(a){return"color"===a||"fill"===a||"stroke"===a}function x(a){return U(a)!==a}function U(a){switch(a){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";
case "longitude2":return"longitude";case "theta2":return"theta";case "radius2":return"radius"}return a}function A(a){if(a in ak)switch(a){case "theta":return"startAngle";case "theta2":return"endAngle";case "radius":return"outerRadius";case "radius2":return"innerRadius"}return a}function X(a){switch(a){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function G(a){switch(a){case "x":case "x2":return"width";
case "y":case "y2":return"height"}}function v(a){switch(a){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";case "radius":return"radiusOffset";case "theta2":return"theta2Offset";case "radius2":return"radius2Offset"}}function z(a){switch(a){case "x":return"xOffset";case "y":return"yOffset"}}function F(a){return a in bk}function W(a){return"width"===a?"x":"y"}function ta(a){switch(a){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return El;
case "x":case "y":case "xOffset":case "yOffset":case "latitude":case "longitude":return Sl;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",
point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function O(a){switch(a){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";
case "color":case "fill":case "stroke":return"flexible"}}function ja(a){return!!a&&!!a.argmin}function va(a){return!!a&&!!a.argmax}function Ma(a){return h.isString(a)&&!!ck[a]}function Pa(a){return h.isString(a)&&Xl.has(a)}function Xa(a){h.isBoolean(a)&&(a=xe(a,void 0));return"bin"+ud(a).map(b=>Sb(a[b])?sa(`_${b}_${Fi(a[b])}`):sa(`_${b}_${a[b]}`)).join("")}function sb(a){return!0===a||h.isObject(a)&&!a.binned}function ib(a){return"binned"===a||h.isObject(a)&&!0===a.binned}function Sb(a){return null==
a?void 0:a.param}function Y(a){switch(a){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;case "strokeDash":return 4;default:return 10}}function Fa(a){return!(null==a||!a.expr)}function Kb(a){const b=ud(a||{}),e={};for(const f of b)e[f]=ra(a[f]);return e}function pc(a){var b=Object.assign({},a),e=a.anchor;const f=a.frame,g=a.offset,n=a.orient,C=a.angle,P=a.limit;var ba=a.color,
ua=a.subtitleColor;const ab=a.subtitleFont,ob=a.subtitleFontSize,hc=a.subtitleFontStyle,Pc=a.subtitleFontWeight,lc=a.subtitleLineHeight,Lc=a.subtitlePadding;b=(delete b.anchor,delete b.frame,delete b.offset,delete b.orient,delete b.angle,delete b.limit,delete b.color,delete b.subtitleColor,delete b.subtitleFont,delete b.subtitleFontSize,delete b.subtitleFontStyle,delete b.subtitleFontWeight,delete b.subtitleLineHeight,delete b.subtitlePadding,b);ba=Object.assign({},b,ba?{fill:ba}:{});e=Object.assign({},
e?{anchor:e}:{},f?{frame:f}:{},g?{offset:g}:{},n?{orient:n}:{},void 0!==C?{angle:C}:{},void 0!==P?{limit:P}:{});ua=Object.assign({},ua?{subtitleColor:ua}:{},ab?{subtitleFont:ab}:{},ob?{subtitleFontSize:ob}:{},hc?{subtitleFontStyle:hc}:{},Pc?{subtitleFontWeight:Pc}:{},lc?{subtitleLineHeight:lc}:{},Lc?{subtitlePadding:Lc}:{});a=Yb(a,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:ba,subtitleMarkConfig:a,nonMarkTitleProperties:e,subtitle:ua}}function ac(a){return h.isString(a)||h.isArray(a)&&
h.isString(a[0])}function Mb(a){return!(null==a||!a.signal)}function Ob(a){return!!a.step}function xc(a){return h.isArray(a)?!1:"field"in a&&"data"in a}function hd(a){const b=h.isArray(a.condition)?a.condition.map(Bb):Bb(a.condition);return Object.assign({},ra(a),{condition:b})}function ra(a){if(Fa(a)){var b=Object.assign({},a);a=a.expr;b=(delete b.expr,b);return Object.assign({},{signal:a},b)}return a}function Bb(a){if(Fa(a)){var b=Object.assign({},a);a=a.expr;b=(delete b.expr,b);return Object.assign({},
{signal:a},b)}return a}function Ua(a){if(Fa(a)){var b=Object.assign({},a);a=a.expr;b=(delete b.expr,b);return Object.assign({},{signal:a},b)}return Mb(a)?a:void 0!==a?{value:a}:void 0}function xb(a){return Mb(a)?a.signal:h.stringValue(a.value)}function Fb(a){return Mb(a)?a.signal:null==a?null:h.stringValue(a)}function Lb(a){let b;return[].concat(a.type,null!=(b=a.style)?b:[])}function Zb(a,b,e){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const {vgChannel:g,ignoreVgConfig:n}=f;
if(g&&void 0!==b[g])return b[g];if(void 0!==b[a])return b[a];if(!n||g&&g!==a)return ic(a,b,e,f)}function ic(a,b,e){let {vgChannel:f}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return V(f?Ac(a,b,e.style):void 0,Ac(a,b,e.style),f?e[b.type][f]:void 0,e[b.type][a],f?e.mark[f]:e.mark[a])}function Ac(a,b,e){return nd(a,Lb(b),e)}function nd(a,b,e){b=h.array(b);let f;for(const g of b)(b=e[g])&&void 0!==b[a]&&(f=b[a]);return f}function Uc(a,b){return h.array(a).reduce((e,f)=>{e.field.push(Rc(f,
b));let g;e.order.push(null!=(g=f.sort)?g:"ascending");return e},{field:[],order:[]})}function ma(a,b){const e=[...a];b.forEach(f=>{for(const g of e)if(qa(g,f))return;e.push(f)});return e}function Ha(a,b){return qa(a,b)||!b?a:a?[...h.array(a),...h.array(b)].join(", "):b}function fb(a,b){const e=a.value;b=b.value;if(null==e||null===b)return{explicit:a.explicit,value:null};if((ac(e)||Mb(e))&&(ac(b)||Mb(b)))return{explicit:a.explicit,value:Ha(e,b)};if(ac(e)||Mb(e))return{explicit:a.explicit,value:e};
if(ac(b)||Mb(b))return{explicit:a.explicit,value:b};if(!(ac(e)||Mb(e)||ac(b)||Mb(b)))return{explicit:a.explicit,value:ma(e,b)};throw Error("It should never reach here");}function S(a,b,e){a:if("object"===typeof b&&null!==b){var f=b[Symbol.toPrimitive];if(void 0!==f){b=f.call(b,"string");if("object"!==typeof b)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}b=String(b)}b="symbol"===typeof b?b:String(b);b in a?Object.defineProperty(a,b,{value:e,enumerable:!0,configurable:!0,
writable:!0}):a[b]=e;return a}function r(a,b,e){b=da(a,b,"set");if(b.set)b.set.call(a,e);else{if(!b.writable)throw new TypeError("attempted to set read only private field");b.value=e}return e}function da(a,b,e){if(!b.has(a))throw new TypeError("attempted to "+e+" private field on non-instance");return b.get(a)}function za(a){return`Invalid specification ${l(a)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}
function Da(a){return`${"width"==a?"Width":"Height"} "container" only works for single views and layered views.`}function Oa(a){return`${"width"==a?"Width":"Height"} "container" only works well with autosize "fit" or "fit-${"width"==a?"x":"y"}".`}function kb(a){return a?`Dropping "fit-${a}" because spec has discrete ${G(a)}.`:'Dropping "fit" because spec has discrete size.'}function Vb(a){return`Unknown field for ${a}. Cannot calculate view size.`}function Eb(a){return`Cannot project a selection on encoding channel "${a}", which has no field.`}
function Hb(a){return`Selection not supported for ${a} yet.`}function Cc(a){return`The "columns" property cannot be used when "${a}" has nested row/column.`}function Hc(a,b,e){return`An ancestor parsed field "${a}" as ${e} but a child wants to parse the field as ${b}.`}function Nc(a){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${a} are dropped.`}function xd(a,b){const {fill:e,stroke:f}=b;return`Dropping color ${a} as the plot also has ${e&&f?"fill and stroke":
e?"fill":"stroke"}.`}function sd(a,b){return`Dropping ${l(a)} from channel "${b}" since it does not contain any data field, datum, value, or signal.`}function ed(a,b,e){return`${a} dropped as it is incompatible with "${b}"${e?` when ${e}`:""}.`}function Jd(a,b){return`Using discrete channel "${a}" to encode "${b}" field can be misleading as it does not encode ${"ordinal"===b?"order":"magnitude"}.`}function Hd(a,b,e){return`${e}-scale's "${b}" is dropped as it does not work with ${a} scale.`}function vd(a){return`The step for "${a}" is dropped because the ${"width"===
a?"x":"y"} is continuous.`}function we(a,b){return`Invalid ${a}: ${l(b)}.`}function Ed(a){return`1D error band does not support ${a}.`}function w(a){return`Channel ${a} is required for "binned" bin.`}function I(){zi.warn(...arguments)}function wa(){zi.debug(...arguments)}function Ja(a){if(a&&h.isObject(a))for(const b of Wk)if(b in a)return!0;return!1}function jb(a){la(a)&&(a=+a);if(h.isNumber(a))return a-1;var b=a.toLowerCase();const e=Rh.indexOf(b);if(-1!==e)return e;b=b.substr(0,3);b=Fj.indexOf(b);
if(-1!==b)return b;throw Error(we("month",a));}function wb(a){la(a)&&(a=+a);if(h.isNumber(a))return a%7;var b=a.toLowerCase();const e=bi.indexOf(b);if(-1!==e)return e;b=b.substr(0,3);b=Jk.indexOf(b);if(-1!==b)return b;throw Error(we("day",a));}function ec(a,b){const e=[];b&&void 0!==a.day&&1<ud(a).length&&(I(`Dropping day from datetime ${l(a)} as day cannot be combined with other units.`),a=Ee(a),delete a.day);void 0!==a.year?e.push(a.year):e.push(2012);if(void 0!==a.month){var f=b?jb(a.month):a.month;
e.push(f)}else if(void 0!==a.quarter){if(b)if(f=a.quarter,la(f)&&(f=+f),h.isNumber(f))4<f&&I(we("quarter",f)),--f;else throw Error(we("quarter",f));else f=a.quarter;e.push(h.isNumber(f)?3*f:`${f}*3`)}else e.push(0);void 0!==a.date?e.push(a.date):void 0!==a.day?(b=b?wb(a.day):a.day,e.push(h.isNumber(b)?b+1:`${b}+1`)):e.push(1);for(const g of["hours","minutes","seconds","milliseconds"])b=a[g],e.push("undefined"===typeof b?0:b);return e}function Qb(a){const b=ec(a,!0).join(", ");return a.utc?`utc(${b})`:
`datetime(${b})`}function qc(a){const b=ec(a,!0);return a.utc?+new Date(Date.UTC(...b)):+new Date(...b)}function Fc(a){return h.isObject(a)?a.binned:a&&a.startsWith("binned")}function zc(a){return Wk.filter(b=>md(a,b))}function bd(a){a=zc(a);return a[a.length-1]}function md(a,b){const e=a.indexOf(b);return 0>e||0<e&&"seconds"===b&&"i"===a.charAt(e-1)||a.length>e+3&&"day"===b&&"o"===a.charAt(e+3)||0<e&&"year"===b&&"f"===a.charAt(e-1)?!1:!0}function qd(a,b){var {end:e}=2<arguments.length&&void 0!==
arguments[2]?arguments[2]:{end:!1};const f=Va(b),g=a.startsWith("utc")?"utc":"";const n={};for(const P of Wk)if(md(a,P)){var C="quarter"===P?`(${g}quarter(${f})-1)`:`${g}${P}(${f})`;n[P]=C;C=P}e&&(n[C]+="+1");e=ec(n,!1).join(", ");return n.utc?`utc(${e})`:`datetime(${e})`}function Gd(a){if(a)return a=zc(a),`timeUnitSpecifier(${l(a)}, ${l(Pk)})`}function kd(a){if(a){var b;h.isString(a)?b=a&&a.startsWith("binned")?{unit:a.substring(6),binned:!0}:{unit:a}:h.isObject(a)&&(b=Object.assign({},a,a.unit?
{unit:a.unit}:{}));b.unit.startsWith("utc")&&(b.utc=!0,b.unit=b.unit.substring(3));return b}}function Od(a){var b=kd(a);a=Object.assign({},b);b=b.utc;const e=(delete a.utc,a);return e.unit?(b?"utc":"")+ud(e).map(f=>sa(`${"unit"===f?"":`_${f}_`}${e[f]}`)).join(""):(b?"utc":"")+"timeunit"+ud(e).map(f=>sa(`_${f}_${e[f]}`)).join("")}function he(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:g=>g;var e=kd(a);const f=bd(e.unit);if(f&&"day"!==f){const g={year:2001,month:1,date:1,hours:0,
minutes:0,seconds:0,milliseconds:0},{step:n,part:C}=Ne(f,e.step);e=Object.assign({},g,{[C]:+g[C]+n});return`${b(Qb(e))} - ${b(Qb(g))}`}}function Ne(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(jj[a])return{part:a,step:b};switch(a){case "day":case "dayofyear":return{part:"date",step:b};case "quarter":return{part:"month",step:3*b};case "week":return{part:"date",step:7*b}}}function Ie(a){return!(null==a||!a.field)&&void 0!==a.equal}function Fe(a){return!(null==a||!a.field)&&void 0!==
a.lt}function uf(a){return!(null==a||!a.field)&&void 0!==a.lte}function gf(a){return!(null==a||!a.field)&&void 0!==a.gt}function E(a){return!(null==a||!a.field)&&void 0!==a.gte}function ca(a){if(null==a?0:a.field)if(h.isArray(a.range)&&2===a.range.length||Mb(a.range))return!0;return!1}function Ga(a){return!(null==a||!a.field)&&(h.isArray(a.oneOf)||h.isArray(a.in))}function eb(a){return Ga(a)||Ie(a)||ca(a)||Fe(a)||gf(a)||uf(a)||E(a)}function Gb(a,b){return Me(a,{timeUnit:b,wrapTime:!0})}function rc(a,
b){return a.map(e=>Gb(e,b))}function Rb(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,{field:e}=a,f=kd(a.timeUnit);const {unit:g,binned:n}=f||{};f=Rc(a,{expr:"datum"});e=g?`time(${n?f:qd(g,e)})`:f;if(Ie(a))return`${e}===${Gb(a.equal,g)}`;if(Fe(a))return`${e}<${Gb(a.lt,g)}`;if(gf(a))return`${e}>${Gb(a.gt,g)}`;if(uf(a))return`${e}<=${Gb(a.lte,g)}`;if(E(a))return`${e}>=${Gb(a.gte,g)}`;if(Ga(a))return`indexof([${rc(a.oneOf,g).join(",")}], ${e}) !== -1`;if(null!=a&&a.field&&void 0!==
a.valid)return Sc(e,a.valid);if(ca(a)){var {range:C}=a;f=Mb(C)?{signal:`${C.signal}[0]`}:C[0];C=Mb(C)?{signal:`${C.signal}[1]`}:C[1];if(null!==f&&null!==C&&b)return"inrange("+e+", ["+Gb(f,g)+", "+Gb(C,g)+"])";b=[];null!==f&&b.push(`${e} >= ${Gb(f,g)}`);null!==C&&b.push(`${e} <= ${Gb(C,g)}`);return 0<b.length?b.join(" \x26\x26 "):"true"}throw Error(`Invalid field predicate: ${l(a)}`);}function Sc(a){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)?`isValid(${a}) && isFinite(+${a})`:
`!isValid(${a}) || !isFinite(+${a})`}function fd(a){return eb(a)&&a.timeUnit?Object.assign({},a,{timeUnit:kd(a.timeUnit)}):a}function cd(a){return"quantitative"===a||"temporal"===a}function Oc(a){return"ordinal"===a||"nominal"===a}function Nd(a){if(a)switch(a=a.toLowerCase(),a){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";case "geojson":return"geojson"}}function Md(a){return kj.has(a)}
function Ld(a){return Qk.has(a)}function Ad(a,b){switch(b){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!["point","band","identity"].includes(a);case "bins":return!["point","band","identity","ordinal"].includes(a);case "round":return pg.has(a)||"band"===a||"point"===a;case "padding":case "rangeMin":case "rangeMax":return pg.has(a)||["point","band"].includes(a);case "paddingOuter":case "align":return["point","band"].includes(a);case "paddingInner":return"band"===
a;case "domainMax":case "domainMid":case "domainMin":case "domainRaw":case "clamp":return pg.has(a);case "nice":return pg.has(a)||"quantize"===a||"threshold"===a;case "exponent":return"pow"===a;case "base":return"log"===a;case "constant":return"symlog"===a;case "zero":return Ld(a)&&!Ab(["log","time","utc","threshold","quantile"],a)}}function Wd(a,b){switch(b){case "interpolate":case "scheme":case "domainMid":if(!K(a))return`Cannot use the scale property "${b}" with non-color channel.`}}function Ca(a,
b){let e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;if(!Nh[a])return!1;switch(a){case "x":case "y":case "xOffset":case "yOffset":case "theta":case "radius":return pg.has(b)||"band"===b?!0:"point"===b?!e:!1;case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return pg.has(b)||ci.has(b)||Ab(["band","point","ordinal"],b);case "color":case "fill":case "stroke":return"band"!==b;case "strokeDash":case "shape":return"ordinal"===b||ci.has(b)}}
function Qa(a){return["line","area","trail"].includes(a)}function bc(a){return["rect","bar","image","arc"].includes(a)}function id(a){return a.type}function sc(a){return a&&void 0!=a.band}function Mc(a){const {channel:b,channelDef:e,markDef:f,scale:g,config:n}=a;a=ld(a);if(xa(e)&&!Pa(e.aggregate)&&g&&pg.has(g.get("type"))){{let {fieldDef:P,channel:ba,markDef:ua,ref:ab,config:ob}={fieldDef:e,channel:b,markDef:f,ref:a,config:n};if(Qa(ua.type))a=ab;else if(null===Zb("invalid",ua,ob)){var C=ba;a=Ec(P,
!0);C="y"===U(C)?{field:{group:"height"}}:{value:0};a=[Object.assign({},{test:a},C),ab]}else a=ab}return a}return a}function Ec(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;return Sc(h.isString(a)?a:Rc(a,{expr:"datum"}),!b)}function Tc(a,b,e,f){const g={};b&&(g.scale=b);Ib(a)?({datum:a}=a,Ja(a)?g.signal=Qb(a):Mb(a)?g.signal=a.signal:Fa(a)?g.signal=a.expr:g.value=a):g.field=Rc(a,e);if(f){const {offset:n,band:C}=f;n&&(g.offset=n);C&&(g.band=C)}return g}function Xc(a){let {scaleName:b,
fieldOrDatumDef:e,fieldOrDatumDef2:f,offset:g,startSuffix:n,endSuffix:C="end",bandPosition:P=.5}=a;var ba=!Mb(P)&&0<P&&1>P?"datum":void 0;a=Rc(e,{expr:ba,suffix:n});const ua=void 0!==f?Rc(f,{expr:ba}):Rc(e,{suffix:C,expr:ba});ba={};0===P||1===P?(ba.scale=b,ba.field=0===P?a:ua):(a=Mb(P)?`(1-${P.signal}) * ${a} + ${P.signal} * ${ua}`:`${1-P} * ${a} + ${P} * ${ua}`,ba.signal=`scale("${b}", ${a})`);g&&(ba.offset=g);return ba}function ld(a){let {channel:b,channelDef:e,channel2Def:f,markDef:g,config:n,
scaleName:C,scale:P,stack:ba,offset:ua,defaultRef:ab,bandPosition:ob}=a;if(e){if(vc(e)){a=null==P?void 0:P.get("type");if(yc(e)){null!=ob||(ob=y({fieldDef:e,fieldDef2:f,markDef:g,config:n}));const {bin:lc,timeUnit:Lc,type:dd}=e;if(sb(lc)||ob&&Lc&&"temporal"===dd)return(null==ba?0:ba.impute)?Tc(e,C,{binSuffix:"mid"},{offset:ua}):ob&&!Md(a)?Xc({scaleName:C,fieldOrDatumDef:e,bandPosition:ob,offset:ua}):Tc(e,C,Se(e,b)?{binSuffix:"range"}:{},{offset:ua});if(ib(lc)){if(xa(f))return Xc({scaleName:C,fieldOrDatumDef:e,
fieldOrDatumDef2:f,bandPosition:ob,offset:ua});I(w("x"===b?"x2":"y2"))}}var hc;let Pc;return Tc(e,C,Md(a)?{binSuffix:"range"}:{},{offset:ua,band:"band"===a?null!=(Pc=null!=(hc=ob)?hc:e.bandPosition)?Pc:.5:void 0})}if(Jc(e))return hc=ua?{offset:ua}:{},Object.assign({},pd(b,e.value),hc)}h.isFunction(ab)&&(ab=ab());return ab?Object.assign({},ab,ua?{offset:ua}:{}):ab}function pd(a,b){return Ab(["x","x2"],a)&&"width"===b?{field:{group:"width"}}:Ab(["y","y2"],a)&&"height"===b?{field:{group:"height"}}:Ua(b)}
function me(a){return a&&"number"!==a&&"time"!==a}function df(a){let {fieldOrDatumDef:b,format:e,formatType:f,expr:g,normalizeStack:n,config:C}=a;if(me(f))return Je({fieldOrDatumDef:b,format:e,formatType:f,expr:g,config:C});a=Oe(b,g,n);var P=Cb(b);if(void 0===e&&void 0===f&&C.customFormatTypes){if("quantitative"===P){if(n&&C.normalizedNumberFormatType)return Je({fieldOrDatumDef:b,format:C.normalizedNumberFormat,formatType:C.normalizedNumberFormatType,expr:g,config:C});if(C.numberFormatType)return Je({fieldOrDatumDef:b,
format:C.numberFormat,formatType:C.numberFormatType,expr:g,config:C})}if("temporal"===P&&C.timeFormatType&&xa(b)&&void 0===b.timeUnit)return Je({fieldOrDatumDef:b,format:C.timeFormat,formatType:C.timeFormatType,expr:g,config:C})}if(td(b)){var ba,ua;{a={field:a,timeUnit:xa(b)?null==(ba=kd(b.timeUnit))?void 0:ba.unit:void 0,format:e,formatType:C.timeFormatType,rawTimeFormat:C.timeFormat,isUTCScale:Zc(b)&&(null==(ua=b.scale)?void 0:ua.type)===jg.UTC};let {field:ab,timeUnit:ob,format:hc,formatType:Pc,
rawTimeFormat:lc,isUTCScale:Lc}=a;!ob||hc?!ob&&Pc?ba=`${Pc}(${ab}, '${hc}')`:(hc=h.isString(hc)?hc:lc,ba=`${Lc?"utc":"time"}Format(${ab}, '${hc}')`):(ba=ob,ua=ab,a=Lc,ba?(P=Gd(ba),ba=`${a||ba.startsWith("utc")?"utc":"time"}Format(${ua}, ${P})`):ba=void 0)}return ba?{signal:ba}:void 0}e=Le({type:P,specifiedFormat:e,config:C,normalizeStack:n});return xa(b)&&sb(b.bin)?(ba=Rc(b,{expr:g,binSuffix:"end"}),{signal:Ze(a,ba,e,f,C)}):e||"quantitative"===Cb(b)?{signal:`${`format(${a}, "${e||""}")`}`}:{signal:`isValid(${a}) ? ${a} : ""+${a}`}}
function Oe(a,b,e){if(xa(a))return e?`${Rc(a,{expr:b,suffix:"end"})}-${Rc(a,{expr:b,suffix:"start"})}`:Rc(a,{expr:b});({datum:a}=a);a=Ja(a)?Qb(a):`${l(a)}`;return a}function Je(a){let {fieldOrDatumDef:b,format:e,formatType:f,expr:g,normalizeStack:n,config:C,field:P}=a;null!=P||(P=Oe(b,g,n));return"datum.value"!==P&&xa(b)&&sb(b.bin)?(a=Rc(b,{expr:g,binSuffix:"end"}),{signal:Ze(P,a,e,f,C)}):{signal:`${f}(${P}${e?`, ${l(e)}`:""})`}}function hf(a,b,e,f,g,n){if(!h.isString(f)||!me(f))if(void 0!==e||void 0!==
f||!g.customFormatTypes||"quantitative"!==Cb(a)||!(g.normalizedNumberFormatType&&Yc(a)&&"normalize"===a.stack||g.numberFormatType)){if(Yc(a)&&"normalize"===a.stack&&g.normalizedNumberFormat)return Le({type:"quantitative",config:g,normalizeStack:!0});if(td(a)){let C;a=xa(a)?null==(C=kd(a.timeUnit))?void 0:C.unit:void 0;if(void 0===a&&g.customFormatTypes&&g.timeFormatType)return;{let {specifiedFormat:P,timeUnit:ba,config:ua,omitTimeFormatConfig:ab}={specifiedFormat:e,timeUnit:a,config:g,omitTimeFormatConfig:n};
e=P?P:ba?{signal:Gd(ba)}:ab?void 0:ua.timeFormat}return e}return Le({type:b,specifiedFormat:e,config:g})}}function pf(a,b,e){if(a&&(Mb(a)||"number"===a||"time"===a))return a;if(td(b)&&"time"!==e&&"utc"!==e){let f;return xa(b)&&(null==(f=kd(null==b?void 0:b.timeUnit))?0:f.utc)?"utc":"time"}}function Le(a){let {type:b,specifiedFormat:e,config:f,normalizeStack:g}=a;if(h.isString(e))return e;if("quantitative"===b)return g?f.normalizedNumberFormat:f.numberFormat}function $e(a,b,e,f){if(me(e))return`${e}(${a}${b?
`, ${l(b)}`:""})`;let g;b=null!=(g=h.isString(b)?b:void 0)?g:f.numberFormat;return`format(${a}, "${b||""}")`}function Ze(a,b,e,f,g){if(void 0===e&&void 0===f&&g.customFormatTypes&&g.numberFormatType)return Ze(a,b,g.numberFormat,g.numberFormatType,g);const n=$e(a,e,f,g);b=$e(b,e,f,g);return`${Sc(a,!1)} ? "null" : ${n} + "${"  "}" + ${b}`}function ne(a){return a&&("count"===a.op||!!a.field)}function fe(a){return a&&h.isArray(a)}function le(a){return"row"in a||"column"in a}function oe(a){const {field:b,
timeUnit:e,bin:f,aggregate:g}=a;return Object.assign({},e?{timeUnit:e}:{},f?{bin:f}:{},g?{aggregate:g}:{},{field:b})}function y(a){let {fieldDef:b,fieldDef2:e,markDef:f,config:g}=a;if(vc(b)&&void 0!==b.bandPosition)return b.bandPosition;if(xa(b)){const {timeUnit:n,bin:C}=b;if(n&&!e)return ic("timeUnitBandPosition",f,g);if(sb(C))return.5}}function M(a){let {channel:b,fieldDef:e,fieldDef2:f,markDef:g,config:n,scaleType:C,useVlSizeChannel:P}=a;a=G(b);a=Zb(P?"size":a,g,n,{vgChannel:a});if(void 0!==a)return a;
if(xa(e)){const {timeUnit:ba,bin:ua}=e;if(ba&&!f)return{band:ic("timeUnitBandSize",g,n)};if(sb(ua)&&!Md(C))return{band:1}}if(bc(g.type)){if(C){if(Md(C)){let ab;return(null==(ab=n[g.type])?void 0:ab.discreteBandSize)||{band:1}}let ua;return null==(ua=n[g.type])?void 0:ua.continuousBandSize}let ba;return null==(ba=n[g.type])?void 0:ba.discreteBandSize}}function p(a,b,e,f){return sb(a.bin)||a.timeUnit&&yc(a)&&"temporal"===a.type?void 0!==y({fieldDef:a,fieldDef2:b,markDef:e,config:f}):!1}function Q(a){return a&&
"condition"in a}function Z(a){a=null==a?void 0:a.condition;return!!a&&!h.isArray(a)&&xa(a)}function pa(a){a=null==a?void 0:a.condition;return!!a&&!h.isArray(a)&&vc(a)}function xa(a){return a&&(!!a.field||"count"===a.aggregate)}function Cb(a){return null==a?void 0:a.type}function Ib(a){return a&&"datum"in a}function Xb(a){return yc(a)&&!Xd(a)||mc(a)}function $b(a){return yc(a)&&"quantitative"===a.type&&!a.bin||mc(a)}function mc(a){return Ib(a)&&h.isNumber(a.datum)}function vc(a){return xa(a)||Ib(a)}
function yc(a){return a&&("field"in a||"count"===a.aggregate)&&"type"in a}function Jc(a){return a&&"value"in a&&"value"in a}function Zc(a){return a&&("scale"in a||"sort"in a)}function Yc(a){return a&&("axis"in a||"stack"in a||"impute"in a)}function jd(a){return a&&("format"in a||"formatType"in a)}function $d(a){return dc(a,["legend","axis","header","scale"])}function Rc(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=a.field;const f=b.prefix;let g=b.suffix,n="";if("count"===a.aggregate)e=
na("count");else{let C;if(!b.nofn)if("op"in a)C=a.op;else{const {bin:P,aggregate:ba,timeUnit:ua}=a;if(sb(P)){C=Xa(P);let ab,ob;g=(null!=(ab=b.binSuffix)?ab:"")+(null!=(ob=b.suffix)?ob:"")}else if(ba)va(ba)?(n=`["${e}"]`,e=`argmax_${ba.argmax}`):ja(ba)?(n=`["${e}"]`,e=`argmin_${ba.argmin}`):C=String(ba);else if(ua&&!Fc(ua)){C=Od(ua);let ab;g=(!["range","mid"].includes(b.binSuffix)&&b.binSuffix||"")+(null!=(ab=b.suffix)?ab:"")}}C&&(e=e?`${C}_${e}`:C)}g&&(e=`${e}_${g}`);f&&(e=`${f}_${e}`);return b.forAs?
Nb(e):b.expr?Ia(e,b.expr)+n:Za(e)+n}function Xd(a){switch(a.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return xa(a)&&!!a.bin;case "temporal":return!1}throw Error(`Invalid field type "${a.type}".`);}function te(a,b){const {field:e,bin:f,timeUnit:g,aggregate:n}=a;if("count"===n)return b.countTitle;if(sb(f))return`${e} (binned)`;if(g&&!Fc(g)){let C;if(a=null==(C=kd(g))?void 0:C.unit)return`${e} (${zc(a).join("-")})`}else if(n)return va(n)?`${e} for max ${n.argmax}`:
ja(n)?`${e} for min ${n.argmin}`:`${Sa(n)} of ${e}`;return e}function $c(a,b,e){let {allowDisabling:f,includeDefault:g=!0}=e,n;e=null==(n=Cd(a))?void 0:n.title;if(!xa(a))return null!=e?e:a.title;b=g?qi(a,b):void 0;if(f)return V(e,a.title,b);let C;return null!=(C=null!=e?e:a.title)?C:b}function Cd(a){if(Yc(a)&&a.axis)return a.axis;if(a&&"legend"in a&&a.legend)return a.legend;if(a&&"header"in a&&a.header)return a.header}function Qd(a){if(jd(a)){const {format:g,formatType:n}=a;return{format:g,formatType:n}}let b;
a=null!=(b=Cd(a))?b:{};const {format:e,formatType:f}=a;return{format:e,formatType:f}}function re(a,b){switch(b){case "latitude":case "longitude":return"quantitative";case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";case "order":return"ordinal"}if("sort"in a&&h.isArray(a.sort))return"ordinal";const {aggregate:e,bin:f,timeUnit:g}=a;if(g)return"temporal";if(f||e&&!va(e)&&!ja(e))return"quantitative";let n;if(Zc(a)&&(null==(n=a.scale)?0:n.type))switch(Dg[a.scale.type]){case "numeric":case "discretizing":return"quantitative";
case "time":return"temporal"}return"nominal"}function ue(a){if(xa(a))return a;if(Z(a))return a.condition}function Sd(a){if(vc(a))return a;if(pa(a))return a.condition}function Ud(a,b,e){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return h.isString(a)||h.isNumber(a)||h.isBoolean(a)?(f=h.isString(a)?"string":h.isNumber(a)?"number":"boolean",I(`Channel ${b} is a ${f}. Converted to {value: ${l(a)}}.`),{value:a}):vc(a)?Ke(a,b,e,f):pa(a)?Object.assign({},a,{condition:Ke(a.condition,b,
e,f)}):a}function Ke(a,b,e,f){if(jd(a)){var g=Object.assign({},a),n=a.formatType;g=(delete g.format,delete g.formatType,g);if(me(n)&&!e.customFormatTypes)return I(Nc(b)),Ke(g,b,e,f)}else if((n=Yc(a)?"axis":a&&"legend"in a?"legend":a&&"header"in a?"header":null)&&a[n]){var C=a[n];g=Object.assign({},C);C=C.formatType;g=(delete g.format,delete g.formatType,g);if(me(C)&&!e.customFormatTypes)return I(Nc(b)),Ke(Object.assign({},a,{[n]:g}),b,e,f)}if(xa(a))return jf(a,b,f);b=a.type;b||({datum:b}=a,b=h.isNumber(b)?
"quantitative":h.isString(b)?"nominal":Ja(b)?"temporal":void 0,a=Object.assign({},a,{type:b}));return a}function jf(a,b){var {compositeMark:e=!1}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const {aggregate:f,timeUnit:g,bin:n,field:C}=a,P=Object.assign({},a);e||!f||Ma(f)||va(f)||ja(f)||(I(`Invalid aggregation operator "${f}".`),delete P.aggregate);g&&(P.timeUnit=kd(g));C&&(P.field=`${C}`);sb(n)&&(P.bin=xe(n,b));ib(n)&&!F(b)&&I(`Channel ${b} should not be used with "binned" bin.`);if(yc(P)){({type:e}=
P);var ba=Nd(e);e!==ba&&(P.type=ba);"quantitative"!==e&&Pa(f)&&(I(`Invalid field type "${e}" for aggregate: "${f}", using "quantitative" instead.`),P.type="quantitative")}else x(b)||(e=re(P,b),P.type=e);if(yc(P)){const {compatible:ab,warning:ob}=Qf(P,b)||{};!1===ab&&I(ob)}if("sort"in P&&h.isString(P.sort)){({sort:e}=P);if(e in pj)return Object.assign({},P,{sort:{encoding:e}});ba=e.substr(1);if("-"===e.charAt(0)&&ba in pj)return Object.assign({},P,{sort:{encoding:ba,order:"descending"}})}if(P&&"header"in
P&&({header:e}=P,e)){var ua=e;ba=Object.assign({},ua);ua=ua.orient;ba=(delete ba.orient,ba);if(ua)return Object.assign({},P,{header:Object.assign({},ba,{labelOrient:e.labelOrient||ua,titleOrient:e.titleOrient||ua})})}return P}function xe(a,b){return h.isBoolean(a)?{maxbins:Y(b)}:"binned"===a?{binned:!0}:a.maxbins||a.step?a:Object.assign({},a,{maxbins:Y(b)})}function Qf(a,b){var e=a.type;if("geojson"===e&&"shape"!==b)return{compatible:!1,warning:`Channel ${b} should not be used with a geojson data.`};
switch(b){case "row":case "column":case "facet":return Xd(a)?fi:{compatible:!1,warning:`${b} encoding should be discrete (ordinal / nominal / binned).`};case "x":case "y":case "xOffset":case "yOffset":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return fi;case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==e?{compatible:!1,warning:`Channel ${b} should be used with a quantitative field only, not ${a.type} field.`}:
fi;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==e||a.sort?fi:{compatible:!1,warning:`Channel ${b} should not be used with an unsorted discrete field.`};case "shape":case "strokeDash":if(e=!Xd(a)){let f;e=!(Zc(a)&&ci.has(null==(f=a.scale)?void 0:f.type))}return e?{compatible:!1,warning:`${b} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}:
fi;case "order":return"nominal"!==a.type||"sort"in a?fi:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function td(a){var {formatType:b}=Qd(a),e;if(!(e="time"===b)){if(b=!b)b=a&&("temporal"===a.type||xa(a)&&!!a.timeUnit);e=b}return e}function Me(a,b){let {timeUnit:e,type:f,wrapTime:g,undefinedIfExprNotRequired:n}=b;var C=(b=e&&(null==(C=kd(e))?void 0:C.unit))||"temporal"===f;let P;Fa(a)?P=a.expr:Mb(a)?P=a.signal:Ja(a)?(C=!0,P=Qb(a)):(h.isString(a)||
h.isNumber(a))&&C&&(P=`datetime(${l(a)})`,zl[b]&&(h.isNumber(a)&&1E4>a||h.isString(a)&&isNaN(Date.parse(a)))&&(P=Qb({[b]:a})));return P?g&&C?`time(${P})`:P:n?void 0:l(a)}function af(a,b){const {type:e}=a;return b.map(f=>{var g=xa(a)&&!Fc(a.timeUnit)?a.timeUnit:void 0;g=Me(f,{timeUnit:g,type:e,undefinedIfExprNotRequired:!0});return void 0!==g?{signal:g}:f})}function Se(a,b){return sb(a.bin)?!!Nh[b]&&["ordinal","nominal"].includes(a.type):(console.warn("Only call this method for binned field defs."),
!1)}function Yf(a){return null==a?void 0:a.condition}function Ef(a){return"mark"in a}function We(a,b){return(a=a&&a[b])?h.isArray(a)?Ub(a,e=>!!e.field):xa(a)||Z(a):!1}function Rf(a,b){return(a=a&&a[b])?h.isArray(a)?Ub(a,e=>!!e.field):xa(a)||Ib(a)||pa(a):!1}function qf(a,b){if(F(b)){const e=a[b];if((xa(e)||Ib(e))&&(Oc(e.type)||xa(e)&&e.timeUnit))return b=z(b),Rf(a,b)}return!1}function Gf(a){return Ub(Dl,b=>We(a,b)?(b=a[b],h.isArray(b)?Ub(b,e=>!!e.aggregate):(b=ue(b))&&!!b.aggregate):!1)}function Ff(a,
b){const e=[],f=[],g=[],n=[],C={};kg(a,(P,ba)=>{if(xa(P)){var ua=Object.assign({},P),ab=P.field;const hc=P.aggregate,Pc=P.bin,lc=P.timeUnit;ua=(delete ua.field,delete ua.aggregate,delete ua.bin,delete ua.timeUnit,ua);if(hc||lc||Pc){var ob;const Lc=null==(ob=Cd(P))?void 0:ob.title;ob=Rc(P,{forAs:!0});ua=Object.assign({},Lc?[]:{title:$c(P,b,{allowDisabling:!0})},ua,{field:ob});if(hc){let dd;va(hc)?(dd="argmax",ob=Rc({op:"argmax",field:hc.argmax},{forAs:!0}),ua.field=`${ob}.${ab}`):ja(hc)?(dd="argmin",
ob=Rc({op:"argmin",field:hc.argmin},{forAs:!0}),ua.field=`${ob}.${ab}`):"boxplot"!==hc&&"errorbar"!==hc&&"errorband"!==hc&&(dd=hc);dd&&(P={op:dd,as:ob},ab&&(P.field=ab),n.push(P))}else e.push(ob),yc(P)&&sb(Pc)?(f.push({bin:Pc,field:ab,as:ob}),e.push(Rc(P,{binSuffix:"end"})),Se(P,ba)&&e.push(Rc(P,{binSuffix:"range"})),F(ba)&&(C[`${ba}2`]={field:`${ob}_end`}),ua.bin="binned",x(ba)||(ua.type="quantitative")):lc&&!Fc(lc)&&(g.push({timeUnit:lc,field:ab,as:ob}),(ab=yc(P)&&"temporal"!==P.type&&"time")&&
("text"===ba||"tooltip"===ba?ua.formatType=ab:Ei[ba]?ua.legend=Object.assign({},{formatType:ab},ua.legend):F(ba)&&(ua.axis=Object.assign({},{formatType:ab},ua.axis))));C[ba]=ua}else e.push(ab),C[ba]=a[ba]}else C[ba]=a[ba]});return{bins:f,timeUnits:g,aggregate:n,groupby:e,encoding:C}}function rf(a,b,e){e=ta(b)[e];return e&&("binned"!==e||(e=a["x2"===b?"x":"y"],xa(e)&&xa(a[b])&&ib(e.bin)))?!0:!1}function rg(a,b,e,f){const g={};for(var n of ud(a))yj[n]||I(`${n}-encoding is dropped as ${n} is not a valid encoding channel.`);
for(let P of Ej)if(a[P]){n=a[P];if(P in Ui){a:{switch(P){case "xOffset":var C="x";break a;case "yOffset":C="y";break a}C=void 0}const ba=g[C];if(xa(ba)&&cd(ba.type)&&xa(n)&&!ba.timeUnit){I(`${C}Offset dropped because ${C} is continuous`);continue}}"angle"!==P||"arc"!==b||a.theta||(I("Arc marks uses theta channel rather than angle, replacing angle with theta."),P="theta");if(rf(a,P,b)){if("size"===P&&"line"===b){let ba;if(null==(ba=ue(a[P]))?0:ba.aggregate){I("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.");
continue}}if("color"===P&&(e?"fill"in a:"stroke"in a))I(xd("encoding",{fill:"fill"in a,stroke:"stroke"in a}));else if("detail"===P||"order"===P&&!h.isArray(n)&&!Jc(n)||"tooltip"===P&&h.isArray(n)){if(n){if("order"===P&&(C=a[P])&&C.sort&&!C.field){g[P]=C;continue}g[P]=h.array(n).reduce((ba,ua)=>{xa(ua)?ba.push(jf(ua,P)):I(sd(ua,P));return ba},[])}}else{if("tooltip"===P&&null===n)g[P]=null;else if(!(xa(n)||Ib(n)||Jc(n)||Q(n)||Mb(n))){I(sd(n,P));continue}g[P]=Ud(n,P,f)}}else I(ed(P,b))}return g}function zf(a,
b){const e={};for(const f of ud(a)){const g=Ud(a[f],f,b,{compositeMark:!0});e[f]=g}return e}function Fh(a){const b=[];for(const e of ud(a))if(We(a,e)){const f=h.array(a[e]);for(const g of f)xa(g)?b.push(g):Z(g)&&b.push(g.condition)}return b}function kg(a,b,e){if(a)for(const f of ud(a)){const g=a[f];if(h.isArray(g))for(const n of g)b.call(e,n,f);else b.call(e,g,f)}}function Ag(a,b,e,f){return a?ud(a).reduce((g,n)=>{const C=a[n];return h.isArray(C)?C.reduce((P,ba)=>b.call(f,P,ba,n),g):b.call(f,g,C,
n)},e):e}function lg(a,b){return ud(b).reduce((e,f)=>{switch(f){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "xOffset":case "yOffset":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return e;case "order":if("line"===a||"trail"===a)return e;case "detail":case "key":f=b[f];if(h.isArray(f)||xa(f))for(var g of h.array(f))g.aggregate||
e.push(Rc(g,{}));return e;case "size":if("trail"===a)return e;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(g=ue(b[f]))&&!g.aggregate&&e.push(Rc(g,{})),e}},[])}function T(a,b,e){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;if("tooltip"in e)return{tooltip:e.tooltip};const g=a.map(C=>{let {fieldPrefix:P,titlePrefix:ba}=C;C=f?` of ${Ka(b)}`:"";return{field:P+b.field,type:b.type,title:Mb(ba)?
{signal:`${ba}"${escape(C)}"`}:ba+C}}),n=Fh(e).map($d);return{tooltip:[...g,...bb(n,Wb)]}}function Ka(a){const {title:b,field:e}=a;return V(b,e)}function lb(a,b,e,f,g){const {scale:n,axis:C}=e;return P=>{let {partName:ba,mark:ua,positionPrefix:ab,endPositionPrefix:ob,extraEncoding:hc={}}=P;P=Ka(e);return Ic(a,ba,g,{mark:ua,encoding:Object.assign({},{[b]:Object.assign({},{field:`${ab}_${e.field}`,type:e.type},void 0!==P?{title:P}:{},void 0!==n?{scale:n}:{},void 0!==C?{axis:C}:{})},h.isString(ob)?{[`${b}2`]:{field:`${ob}_${e.field}`}}:
{},f,hc)})}}function Ic(a,b,e,f){const {clip:g,color:n,opacity:C}=a,P=a.type;return a[b]||void 0===a[b]&&e[b]?[Object.assign({},f,{mark:Object.assign({},e[b],g?{clip:g}:{},n?{color:n}:{},C?{opacity:C}:{},id(f.mark)?f.mark:{type:f.mark},{style:`${P}-${String(b)}`},h.isBoolean(a[b])?{}:a[b])})]:[]}function Kc(a,b,e){({encoding:a}=a);b="vertical"===b?"y":"x";const f=a[`${b}2`],g=a[`${b}Error`],n=a[`${b}Error2`];return{continuousAxisChannelDef:Pd(a[b],e),continuousAxisChannelDef2:Pd(f,e),continuousAxisChannelDefError:Pd(g,
e),continuousAxisChannelDefError2:Pd(n,e),continuousAxis:b}}function Pd(a,b){if(null==a?0:a.aggregate){var e=Object.assign({},a);a=a.aggregate;e=(delete e.aggregate,e);a!==b&&I(`Continuous axis should not have customized aggregation function ${a}; ${b} already agregates the axis.`);return e}return a}function se(a,b){const {mark:e,encoding:f}=a,{x:g,y:n}=f;if(id(e)&&e.orient)return e.orient;if(Xb(g)){if(Xb(n)){a=xa(g)&&g.aggregate;const C=xa(n)&&n.aggregate;if(!a&&C===b)return"vertical";if(C||a!==
b){if(a===b&&C===b)throw Error("Both x and y cannot have aggregate");return td(n)&&!td(g)?"horizontal":"vertical"}}return"horizontal"}if(Xb(n))return"vertical";throw Error(`Need a valid continuous axis for ${b}s`);}function Te(a){return h.isNumber(a)?"tukey":a}function ye(a,b){var {config:e}=b,f=a=Object.assign({},a,{encoding:zf(a.encoding,e)});b=Object.assign({},f);var g=f.mark;f=f.params;b=(delete b.mark,delete b.encoding,delete b.params,delete b.projection,b);g=id(g)?g:{type:g};f&&I(Hb("boxplot"));
var n;f=null!=(n=g.extent)?n:e.boxplot.extent;var C=Zb("size",g,e),P=g.invalid;n=Te(f);var ba=a;a=se(ba,"boxplot");const {continuousAxisChannelDef:ua,continuousAxis:ab}=Kc(ba,a,"boxplot");var ob=ua.field,hc=Te(f),Pc=[...Sf(ob),{op:"median",field:ob,as:`mid_box_${ob}`},{op:"min",field:ob,as:("min-max"===hc?"lower_whisker_":"min_")+ob},{op:"max",field:ob,as:("min-max"===hc?"upper_whisker_":"max_")+ob}];ob="min-max"===hc||"tukey"===hc?[]:[{calculate:`datum["upper_box_${ob}"] - datum["lower_box_${ob}"]`,
as:`iqr_${ob}`},{calculate:`min(datum["upper_box_${ob}"] + datum["iqr_${ob}"] * ${f}, datum["max_${ob}"])`,as:`upper_whisker_${ob}`},{calculate:`max(datum["lower_box_${ob}"] - datum["iqr_${ob}"] * ${f}, datum["min_${ob}"])`,as:`lower_whisker_${ob}`}];ba=Object.assign({},ba.encoding);var lc;hc=(delete ba[ab],ba);ba=Object.assign({},hc);hc=hc.tooltip;ba=(delete ba.tooltip,ba);if(hc){var Lc;if(h.isArray(hc)){for(var dd of hc)dd.aggregate?(lc||(lc=[]),lc.push(dd)):(Lc||(Lc=[]),Lc.push(dd));lc&&(ba.tooltip=
lc)}else hc.aggregate?ba.tooltip=hc:Lc=hc;h.isArray(Lc)&&1===Lc.length&&(Lc=Lc[0]);lc={customTooltipWithoutAggregatedField:Lc,filteredEncoding:ba}}else lc={filteredEncoding:ba};const {customTooltipWithoutAggregatedField:gd,filteredEncoding:je}=lc,{bins:de,timeUnits:Be,aggregate:Qe,groupby:Lf,encoding:$f}=Ff(je,e);lc=[...de,...Be,{aggregate:[...Qe,...Pc],groupby:Lf},...ob];const {bins:Lg,timeUnits:bf,transform:bg,continuousAxisChannelDef:cf,continuousAxis:Bh,groupby:gl,aggregate:Fm,encodingWithoutContinuousAxis:zk,
ticksOrient:xm,boxOrient:Gm,customTooltipWithoutAggregatedField:ym}={bins:de,timeUnits:Be,transform:lc,groupby:Lf,aggregate:Qe,continuousAxisChannelDef:ua,continuousAxis:ab,encodingWithoutContinuousAxis:$f,ticksOrient:"vertical"===a?"horizontal":"vertical",boxOrient:a,customTooltipWithoutAggregatedField:gd};Lc=Object.assign({},zk);lc=zk.color;Pc=zk.size;Lc=(delete Lc.color,delete Lc.size,Lc);dd=lb(g,Bh,cf,Lc,e.boxplot);a=lb(g,Bh,cf,zk,e.boxplot);Pc=lb(g,Bh,cf,Object.assign({},Lc,Pc?{size:Pc}:{}),
e.boxplot);ob=T([{fieldPrefix:"min-max"===n?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===n?"lower_whisker_":"min_",titlePrefix:"Min"}],cf,zk);ba={type:"tick",color:"black",opacity:1,orient:xm,invalid:P,aria:!1};hc="min-max"===n?ob:T([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],
cf,zk);dd=[...dd({partName:"rule",mark:{type:"rule",invalid:P,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:hc}),...dd({partName:"rule",mark:{type:"rule",invalid:P,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:hc}),...dd({partName:"ticks",mark:ba,positionPrefix:"lower_whisker",extraEncoding:hc}),...dd({partName:"ticks",mark:ba,positionPrefix:"upper_whisker",extraEncoding:hc})];C=[...("tukey"!==n?dd:[]),...a({partName:"box",
mark:Object.assign({},{type:"bar"},C?{size:C}:{},{orient:Gm,invalid:P,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:ob}),...Pc({partName:"median",mark:Object.assign({},{type:"tick",invalid:P},h.isObject(e.boxplot.median)&&e.boxplot.median.color?{color:e.boxplot.median.color}:{},C?{size:C}:{},{orient:xm,aria:!1}),positionPrefix:"mid_box",extraEncoding:ob})];if("min-max"===n){var zj;return Object.assign({},b,{transform:(null!=(zj=b.transform)?zj:
[]).concat(bg),layer:C})}zj=`datum["lower_box_${cf.field}"]`;n=`datum["upper_box_${cf.field}"]`;P=`(${n} - ${zj})`;zj=`${zj} - ${f} * ${P}`;P=`${n} + ${f} * ${P}`;a=`datum["${cf.field}"]`;f={joinaggregate:Sf(cf.field),groupby:gl};n={transform:[{filter:`(${zj} <= ${a}) && (${a} <= ${P})`},{aggregate:[{op:"min",field:cf.field,as:`lower_whisker_${cf.field}`},{op:"max",field:cf.field,as:`upper_whisker_${cf.field}`},{op:"min",field:`lower_box_${cf.field}`,as:`lower_box_${cf.field}`},{op:"max",field:`upper_box_${cf.field}`,
as:`upper_box_${cf.field}`},...Fm],groupby:gl}],layer:dd};Lc=Object.assign({},Lc);Lc=(delete Lc.tooltip,Lc);const {scale:zm,axis:Hm}=cf;dd=Ka(cf);Pc=dc(Hm,["title"]);e=Ic(g,"outliers",e.boxplot,{transform:[{filter:`(${a} < ${zj}) || (${a} > ${P})`}],mark:"point",encoding:Object.assign({},{[Bh]:Object.assign({},{field:cf.field,type:cf.type},void 0!==dd?{title:dd}:{},void 0!==zm?{scale:zm}:{},gb(Pc)?{}:{axis:Pc})},Lc,lc?{color:lc}:{},ym?{tooltip:ym}:{})})[0];g=[...Lg,...bf,f];e?e={transform:g,layer:[e,
n]}:(e=n,e.transform.unshift(...g));return Object.assign({},b,{layer:[e,{transform:bg,layer:C}]})}function Sf(a){return[{op:"q1",field:a,as:`lower_box_${a}`},{op:"q3",field:a,as:`upper_box_${a}`}]}function nf(a,b){({config:b}=b);a=Object.assign({},a,{encoding:zf(a.encoding,b)});const {transform:e,continuousAxisChannelDef:f,continuousAxis:g,encodingWithoutContinuousAxis:n,ticksOrient:C,markDef:P,outerSpec:ba,tooltipEncoding:ua}=Xg(a,"errorbar",b);delete n.size;a=lb(P,g,f,n,b.errorbar);b=P.thickness;
var ab=P.size;ab=Object.assign({},{type:"tick",orient:C,aria:!1},void 0!==b?{thickness:b}:{},void 0!==ab?{size:ab}:{});a=[...a({partName:"ticks",mark:ab,positionPrefix:"lower",extraEncoding:ua}),...a({partName:"ticks",mark:ab,positionPrefix:"upper",extraEncoding:ua}),...a({partName:"rule",mark:Object.assign({},{type:"rule",ariaRoleDescription:"errorbar"},void 0!==b?{size:b}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:ua})];return Object.assign({},ba,{transform:e},1<a.length?
{layer:a}:Object.assign({},a[0]))}function nh(a,b){var {encoding:e}=a;if(!(!vc(e.x)&&!vc(e.y)||vc(e.x2)||vc(e.y2)||vc(e.xError)||vc(e.xError2)||vc(e.yError)||vc(e.yError2)))return{orient:se(a,b),inputType:"raw"};var f=vc(e.x2)||vc(e.y2);var g=vc(e.xError)||vc(e.xError2)||vc(e.yError)||vc(e.yError2);a=e.x;const n=e.y;if(f){if(g)throw Error(`${b} cannot be both type aggregated-upper-lower and aggregated-error`);f=e.x2;e=e.y2;if(vc(f)&&vc(e))throw Error(`${b} cannot have both x2 and y2`);if(vc(f)){if(Xb(a))return{orient:"horizontal",
inputType:"aggregated-upper-lower"};throw Error(`Both x and x2 have to be quantitative in ${b}`);}if(vc(e)){if(Xb(n))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error(`Both y and y2 have to be quantitative in ${b}`);}}else{f=e.xError;g=e.yError;const C=e.yError2;if(vc(e.xError2)&&!vc(f))throw Error(`${b} cannot have xError2 without xError`);if(vc(C)&&!vc(g))throw Error(`${b} cannot have yError2 without yError`);if(vc(f)&&vc(g))throw Error(`${b} cannot have both xError and yError with both are quantiative`);
if(vc(f)){if(Xb(a))return{orient:"horizontal",inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(vc(g)){if(Xb(n))return{orient:"vertical",inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");}function Xg(a,b,e){var f=Object.assign({},a),g=a.mark,n=a.encoding,C=a.params;f=(delete f.mark,delete f.encoding,delete f.params,delete f.projection,f);g=id(g)?g:{type:g};
C&&I(Hb(b));const {orient:P,inputType:ba}=nh(a,b),{continuousAxisChannelDef:ua,continuousAxisChannelDef2:ab,continuousAxisChannelDefError:ob,continuousAxisChannelDefError2:hc,continuousAxis:Pc}=Kc(a,P,b);a=[];C=[];var lc=ua.field,Lc=!1;if("raw"===ba){var dd=g.center?g.center:g.extent?"iqr"===g.extent?"median":"mean":e.errorbar.center;var gd=g.extent?g.extent:"mean"===dd?"stderr":"iqr";"median"===dd!==("iqr"===gd)&&I(`${dd} is not usually used with ${gd} for ${b}.`);"stderr"===gd||"stdev"===gd?(a=
[{op:gd,field:lc,as:`extent_${lc}`},{op:dd,field:lc,as:`center_${lc}`}],C=[{calculate:`datum["center_${lc}"] + datum["extent_${lc}"]`,as:`upper_${lc}`},{calculate:`datum["center_${lc}"] - datum["extent_${lc}"]`,as:`lower_${lc}`}],lc={fieldPrefix:"center_",titlePrefix:Sa(dd)},Lc=gd,Lc={fieldPrefix:"upper_",titlePrefix:`${Sa(dd)} ${"+"} ${Lc}`},b=gd,b=`${Sa(dd)} ${"-"} ${b}`,dd=[lc,Lc,{fieldPrefix:"lower_",titlePrefix:b}],Lc=!0):("ci"===gd?(b="mean",dd="ci0",gd="ci1"):(b="median",dd="q1",gd="q3"),a=
[{op:dd,field:lc,as:`lower_${lc}`},{op:gd,field:lc,as:`upper_${lc}`},{op:b,field:lc,as:`center_${lc}`}],dd=[{fieldPrefix:"upper_",titlePrefix:$c({field:lc,aggregate:gd,type:"quantitative"},e,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:$c({field:lc,aggregate:dd,type:"quantitative"},e,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:$c({field:lc,aggregate:b,type:"quantitative"},e,{allowDisabling:!1})}])}else{if(g.center||g.extent){b=g.center;var je=g.extent;I(`${je?"extent ":""}${je&&
b?"and ":""}${b?"center ":""}${je&&b?"are ":"is "}not needed when data are aggregated.`)}"aggregated-upper-lower"===ba?(dd=[],C=[{calculate:`datum["${ab.field}"]`,as:`upper_${lc}`},{calculate:`datum["${lc}"]`,as:`lower_${lc}`}]):"aggregated-error"===ba&&(dd=[{fieldPrefix:"",titlePrefix:lc}],C=[{calculate:`datum["${lc}"] + datum["${ob.field}"]`,as:`upper_${lc}`}],hc?C.push({calculate:`datum["${lc}"] + datum["${hc.field}"]`,as:`lower_${lc}`}):C.push({calculate:`datum["${lc}"] - datum["${ob.field}"]`,
as:`lower_${lc}`}));for(gd of C)dd.push({fieldPrefix:gd.as.substring(0,6),titlePrefix:qb(qb(gd.calculate,'datum["',""),'"]',"")})}const {errorBarSpecificAggregate:de,postAggregateCalculates:Be,tooltipSummary:Qe,tooltipTitleWithFieldName:Lf}={postAggregateCalculates:C,errorBarSpecificAggregate:a,tooltipSummary:dd,tooltipTitleWithFieldName:Lc};n=Object.assign({},n);a="x"===Pc?"x2":"y2";C="x"===Pc?"xError":"yError";lc="x"===Pc?"xError2":"yError2";n=(delete n[Pc],delete n[a],delete n[C],delete n[lc],
n);const {bins:$f,timeUnits:Lg,aggregate:bf,groupby:bg,encoding:cf}=Ff(n,e);e=[...bf,...de];n="raw"!==ba?[]:bg;a=T(Qe,ua,cf,Lf);let Bh;return{transform:[...(null!=(Bh=f.transform)?Bh:[]),...$f,...Lg,...(0===e.length?[]:[{aggregate:e,groupby:n}]),...Be],groupby:n,continuousAxisChannelDef:ua,continuousAxis:Pc,encodingWithoutContinuousAxis:cf,ticksOrient:"vertical"===P?"horizontal":"vertical",markDef:g,outerSpec:f,tooltipEncoding:a}}function sg(a,b){({config:b}=b);a=Object.assign({},a,{encoding:zf(a.encoding,
b)});const {transform:e,continuousAxisChannelDef:f,continuousAxis:g,encodingWithoutContinuousAxis:n,markDef:C,outerSpec:P,tooltipEncoding:ba}=Xg(a,"errorband",b);b=lb(C,g,f,n,b.errorband);a=void 0!==a.encoding.x&&void 0!==a.encoding.y;let ua={type:a?"area":"rect"},ab={type:a?"line":"rule"};const ob=Object.assign({},C.interpolate?{interpolate:C.interpolate}:{},C.tension&&C.interpolate?{tension:C.tension}:{});a?(ua=Object.assign({},ua,ob,{ariaRoleDescription:"errorband"}),ab=Object.assign({},ab,ob,
{aria:!1})):C.interpolate?I(Ed("interpolate")):C.tension&&I(Ed("tension"));return Object.assign({},P,{transform:e,layer:[...b({partName:"band",mark:ua,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:ba}),...b({partName:"borders",mark:ab,positionPrefix:"lower",extraEncoding:ba}),...b({partName:"borders",mark:ab,positionPrefix:"upper",extraEncoding:ba})]})}function fg(a,b,e){b=new eg(a,b);qj[a]={normalizer:b,parts:e}}function tg(a){return"legend"===a||!(null==a||!a.legend)}function ug(a){return tg(a)&&
h.isObject(a)}function Rd(a){return!(null==a||!a.select)}function pe(a){const b=[];for(const g of a||[])if(!Rd(g)){var e=g,f=Object.assign({},e);a=e.expr;e=e.bind;f=(delete f.expr,delete f.bind,f);e&&a?(a=Object.assign({},f,{bind:e,init:a}),b.push(a)):(a=Object.assign({},f,a?{update:a}:{},e?{bind:e}:{}),b.push(a))}return b}function sf(a){let {step:b,offsetIsDiscrete:e}=a;if(e){let f;return null!=(f=b.for)?f:"offset"}return"position"}function De(a){return h.isObject(a)&&void 0!==a.step}function kf(a){return a.view||
a.width||a.height}function Xe(a,b,e){const f={},{spacing:g,columns:n}=e[b];void 0!==g&&(f.spacing=g);void 0!==n&&("facet"in a&&!le(a.facet)||"concat"in a)&&(f.columns=n);"vconcat"in a&&(f.columns=1);for(const C of mh)if(void 0!==a[C])if("spacing"===C){b=a[C];let P,ba;f[C]=h.isNumber(b)?b:{row:null!=(P=b.row)?P:g,column:null!=(ba=b.column)?ba:g}}else f[C]=a[C];return f}function Tf(a,b){let e;return null!=(e=a[b])?e:a["width"===b?"continuousWidth":"continuousHeight"]}function vf(a,b){a=Hf(a,b);return De(a)?
a.step:20}function Hf(a,b){let e;const f=null!=(e=a[b])?e:a["width"===b?"discreteWidth":"discreteHeight"];return V(f,{step:a.step})}function lf(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:h.isObject(a)?Object.assign({},xl,a):xl}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},
"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function Og(a){var b=ud(a||{});const e={};for(const f of b)b=
a[f],e[f]=Yf(b)?hd(b):ra(b);return e}function Pg(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=Object.assign({},a),e=a.color,f=a.font,g=a.fontSize;a=a.selection;b=(delete b.color,delete b.font,delete b.fontSize,delete b.selection,b);var n=h.mergeConfig,C=Ee(Sk);f=f?{text:{font:f},style:{"guide-label":{font:f},"guide-title":{font:f},"group-title":{font:f},"group-subtitle":{font:f}}}:{};e=e?lf(e):{};g=g?{signals:[{name:"fontSize",value:h.isObject(g)?Object.assign({},Tk,g):Tk}],
text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{};g=n.call(h,{},C,f,e,g,b||{});a&&h.writeConfig(g,"selection",a,!0);a=dc(g,$l);for(var P of["background","lineBreak","padding"])g[P]&&(a[P]=ra(g[P]));for(var ba of Wi)g[ba]&&(a[ba]=Kb(g[ba]));for(var ua of yf)g[ua]&&(a[ua]=
Og(g[ua]));for(const ab of ul)g[ab]&&(a[ab]=Kb(g[ab]));g.legend&&(a.legend=Kb(g.legend));g.scale&&(a.scale=Kb(g.scale));if(g.style){P=g.style;ba=ud(P);ua={};for(const ab of ba)ua[ab]=Og(P[ab]);a.style=ua}g.title&&(a.title=Kb(g.title));g.view&&(a.view=Kb(g.view));return a}function oh(a){a=Ee(a);for(var b of ah)delete a[b];if(a.axis)for(var e in a.axis)Yf(a.axis[e])&&delete a.axis[e];if(a.legend)for(var f of mm)delete a.legend[f];if(a.mark){for(var g of Gj)delete a.mark[g];a.mark.tooltip&&h.isObject(a.mark.tooltip)&&
delete a.mark.tooltip}a.params&&(a.signals=(a.signals||[]).concat(pe(a.params)),delete a.params);for(var n of pk){for(const ob of Gj)delete a[n][ob];if(b=am[n])for(const ob of b)delete a[n][ob];let ab=g=void 0;b=a;e=n;f=void 0;var C=b[e];"view"===e&&(f="cell");C=Object.assign({},C,b.style[null!=(ab=f)?ab:e]);gb(C)||(b.style[null!=(g=f)?g:e]=C);delete b[e]}for(const ab of ud(qj))delete a[ab];n=a;const {titleMarkConfig:P,subtitleMarkConfig:ba,subtitle:ua}=pc(n.title);gb(P)||(n.style["group-title"]=
Object.assign({},n.style["group-title"],P));gb(ba)||(n.style["group-subtitle"]=Object.assign({},n.style["group-subtitle"],ba));gb(ua)?delete n.title:n.title=ua;for(const ab in a)h.isObject(a[ab])&&gb(a[ab])&&delete a[ab];return gb(a)?void 0:a}function Uf(a){return xa(a)&&"quantitative"===Cb(a)&&!a.bin}function gi(a,b,e){let {orient:f,type:g}=e;e="x"===b?"y":"radius";const n="x"===b&&["bar","area"].includes(g);var C=a[b];a=a[e];if(xa(C)&&xa(a))if(Uf(C)&&Uf(a)){if(C.stack)return b;if(a.stack)return e;
C=xa(C)&&!!C.aggregate;a=xa(a)&&!!a.aggregate;if(C!==a)return C?b:e;if(n){if("vertical"===f)return e;if("horizontal"===f)return b}}else{if(Uf(C))return b;if(Uf(a))return e}else{if(Uf(C))return n&&"vertical"===f?void 0:b;if(Uf(a))return n&&"horizontal"===f?void 0:e}}function vh(a){switch(a){case "x":return"y";case "y":return"x";case "theta":return"radius";case "radius":return"theta"}}function Qg(a,b){var e=id(a)?a:{type:a};a=e.type;if(!Sg.has(a))return null;e=gi(b,"x",e)||gi(b,"theta",e);if(!e)return null;
const f=b[e];var g=xa(f)?Rc(f,{}):void 0,n=vh(e);const C=[],P=new Set;if(b[n]){var ba=b[n];(ba=xa(ba)?Rc(ba,{}):void 0)&&ba!==g&&(C.push(n),P.add(ba))}n="x"===n?"xOffset":"yOffset";ba=b[n];(ba=xa(ba)?Rc(ba,{}):void 0)&&ba!==g&&(C.push(n),P.add(ba));g=Ik.reduce((hc,Pc)=>{if("tooltip"!==Pc&&We(b,Pc)){var lc=b[Pc];for(const Lc of h.array(lc)){lc=ue(Lc);if(lc.aggregate)continue;const dd=Rc(lc,{});dd&&P.has(dd)||hc.push({channel:Pc,fieldDef:lc})}}return hc},[]);let ua;void 0!==f.stack?ua=h.isBoolean(f.stack)?
f.stack?"zero":null:f.stack:Vh.has(a)&&(ua="zero");if(!(ua&&ua in yl)||Gf(b)&&0===g.length)return null;let ab,ob;if((null==f?0:null==(ab=f.scale)?0:ab.type)&&(null==f?void 0:null==(ob=f.scale)?void 0:ob.type)!==jg.LINEAR)return(null==f?0:f.stack)&&I(`Cannot stack non-linear scale (${f.scale.type}).`),null;if(vc(b[X(e)]))return void 0!==f.stack&&I(`Cannot stack "${e}" if there is already "${e}2".`),null;xa(f)&&f.aggregate&&!Uk.has(f.aggregate)&&I(`Stacking is applied even though the aggregate function is non-summative ("${f.aggregate}").`);
return{groupbyChannels:C,groupbyFields:P,fieldChannel:e,impute:null===f.impute?!1:Qa(a),stackBy:g,offset:ua}}function Rg(a,b,e){a=Kb(a);var f=Zb("orient",a,e);a.orient=Xi(a.type,b,f);void 0!==f&&f!==a.orient&&I(`Specified orient "${a.orient}" overridden with "${f}".`);if("bar"===a.type&&a.orient&&(f=Zb("cornerRadiusEnd",a,e),void 0!==f)){const n="horizontal"===a.orient&&b.x2||"vertical"===a.orient&&b.y2?["cornerRadius"]:vl[a.orient];for(var g of n)a[g]=f;void 0!==a.cornerRadiusEnd&&delete a.cornerRadiusEnd}void 0===
Zb("opacity",a,e)&&(g=Ab([Wg,lj,ei,Vi],a.type)&&!Gf(b)?.7:void 0,a.opacity=g);void 0===Zb("cursor",a,e)&&(b=b.href||a.href||Zb("href",a,e)?"pointer":a.cursor,a.cursor=b);return a}function Th(a,b,e){({graticule:e}=e);if(e)return!1;b=ic("filled",a,b);a=a.type;return V(b,a!==Wg&&a!==Vg&&a!==lh)}function Xi(a,b,e){switch(a){case Wg:case ei:case Vi:case Al:case Wf:case pi:return}const {x:f,y:g,x2:n,y2:C}=b;switch(a){case Eh:if(xa(f)&&(ib(f.bin)||xa(g)&&g.aggregate&&!f.aggregate))break;if(xa(g)&&(ib(g.bin)||
xa(f)&&f.aggregate&&!g.aggregate))return"horizontal";if(C||n){if(e)return e;if(!n){if((xa(f)&&"quantitative"===f.type&&!sb(f.bin)||mc(f))&&xa(g)&&ib(g.bin))return"horizontal";break}if(!C){if((xa(g)&&"quantitative"===g.type&&!sb(g.bin)||mc(g))&&xa(f)&&ib(f.bin))break;return"horizontal"}}case lh:if(!(!n||xa(f)&&ib(f.bin)||!C||xa(g)&&ib(g.bin)))return;case di:if(C){if(xa(g)&&ib(g.bin))return"horizontal";break}else if(n)if(xa(f)&&ib(f.bin))break;else return"horizontal";else if(a===lh)if(f&&!g)break;else if(g&&
!f)return"horizontal";case Vg:case lj:b=$b(f);const P=$b(g);if(e)return e;if(b&&!P)return"tick"!==a?"horizontal":"vertical";if(!b&&P)return"tick"!==a?"vertical":"horizontal";if(!b||!P)if(a=yc(f)&&"temporal"===f.type,e=yc(g)&&"temporal"===g.type,!a||e){if(!a&&e)return"horizontal";return}}return"vertical"}function Ki(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length?arguments[2]:void 0;if("transparent"===a.point)return{opacity:0};if(a.point)return h.isObject(a.point)?
a.point:{};if(void 0!==a.point)return null;if(b.point||e.shape)return h.isObject(b.point)?b.point:{}}function Li(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(a.line)return!0===a.line?{}:a.line;if(void 0!==a.line)return null;if(b.line)return!0===b.line?{}:b.line}function hi(a,b){return b?ph(a,b):a}function Yi(a,b,e){const f=b[a];if(f&&!h.isString(f)&&"repeat"in f){if(f.repeat in e)return Object.assign({},b,{[a]:e[f.repeat]});I(`Unknown repeated value "${f.repeat}".`)}else return b}
function Mi(a,b){a=Yi("field",a,b);if(void 0!==a){if(null===a)return null;"sort"in a&&ne(a.sort)&&(b=Yi("field",a.sort,b),a=Object.assign({},a,b?{sort:b}:{}));return a}}function Zg(a,b){if(xa(a))return Mi(a,b);b=Yi("datum",a,b);b===a||b.type||(b.type="nominal");return b}function Ni(a,b){if(vc(a)){if(b=Zg(a,b))return b;if(Q(a))return{condition:a.condition}}else{if(pa(a)){if(b=Zg(a.condition,b))return Object.assign({},a,{condition:b});a=Object.assign({},a);return delete a.condition,a}return a}}function ph(a,
b){const e={};for(const g in a)if(h.hasOwnProperty(a,g)){var f=a[g];h.isArray(f)?e[g]=f.map(n=>Ni(n,b)).filter(n=>n):(f=Ni(f,b),void 0!==f&&(e[g]=f))}return e}function eh(a){let {parentEncoding:b,encoding:e={},layer:f}=a;a={};if(b){var g=new Set([...ud(b),...ud(e)]);for(const n of g){g=e[n];const C=b[n];if(vc(g))g=Object.assign({},C,g),a[n]=g;else if(pa(g))a[n]=Object.assign({},g,{condition:Object.assign({},C,g.condition)});else if(g||null===g)a[n]=g;else if(f||Jc(C)||Mb(C)||vc(C)||h.isArray(C))a[n]=
C}}else a=e;return!a||gb(a)?void 0:a}function Uh(a){const {parentProjection:b,projection:e}=a;if(b&&e){const {parentProjection:f,projection:g}={parentProjection:b,projection:e};a=`Layer's shared projection ${l(f)} is overridden by a child projection ${l(g)}.`;I(a)}return null!=e?e:b}function wg(a){return a.map(b=>"filter"in b?{filter:Ya(b.filter,fd)}:b)}function gg(a,b){var e=Object.assign({},a);const f=a.transform;e=(delete e.transform,e);return f?(a=f.map(g=>{if("filter"in g)return{filter:$g(g,
b)};if("bin"in g&&h.isObject(g.bin))return Object.assign({},g,{bin:ii(g.bin)});if("lookup"in g){var n=g.from,C=Object.assign({},n);n=n.selection;C=(delete C.selection,C);return n?Object.assign({},g,{from:Object.assign({},{param:n},C)}):g}return g}),Object.assign({},e,{transform:a})):a}function Zi(a,b){a=Ee(a);xa(a)&&h.isObject(a.bin)&&(a.bin=ii(a.bin));var e,f;Zc(a)&&(null==(e=a.scale)?0:null==(f=e.domain)?0:f.selection)&&(f=a.scale.domain,e=Object.assign({},f),f=f.selection,e=(delete e.selection,
e),a.scale.domain=Object.assign({},e,f?{param:f}:{}));Q(a)&&(h.isArray(a.condition)?a.condition=a.condition.map(g=>{var n=Object.assign({},g);const C=g.param;n=(delete n.selection,delete n.param,delete n.test,n);return C?g:Object.assign({},n,{test:$g(g,b)})}):(f=Zi(a.condition,b),e=Object.assign({},f),f=f.param,e=(delete e.selection,delete e.param,delete e.test,e),a.condition=f?a.condition:Object.assign({},e,{test:$g(a.condition,b)})));return a}function ii(a){var b=a.extent;if(null==b?0:b.selection){var e=
Object.assign({},b);b=b.selection;e=(delete e.selection,e);return Object.assign({},a,{extent:Object.assign({},e,{param:b})})}return a}function $g(a,b){const e=f=>Ya(f,g=>{var n;const C=null!=(n=b.emptySelections[g])?n:!0;n={param:g,empty:C};let P;null!=(P=b.selectionPredicates)[g]||(P[g]=[]);b.selectionPredicates[g].push(n);return n});return a.selection?e(a.selection):Ya(a.test||a.filter,f=>f.selection?e(f.selection):f)}function ti(a,b){void 0===b&&(b=Pg(a.config));const e=Kj(a,b),{width:f,height:g}=
a;{let {width:n,height:C}={width:f,height:g,autosize:a.autosize};a=Ef(e)||"layer"in e;const P={};a?"container"==n&&"container"==C?(P.type="fit",P.contains="padding"):"container"==n?(P.type="fit-x",P.contains="padding"):"container"==C&&(P.type="fit-y",P.contains="padding"):("container"==n&&(I(Da("width")),n=void 0),"container"==C&&(I(Da("height")),C=void 0));b=Object.assign({},{type:"pad"},P,b?yh(b.autosize):{},yh(e.autosize));"fit"!==b.type||a||(I('Autosize "fit" only works for single views and layered views.'),
b.type="pad");"container"==n&&"fit"!=b.type&&"fit-x"!=b.type&&I(Oa("width"));"container"==C&&"fit"!=b.type&&"fit-y"!=b.type&&I(Oa("height"));b=qa(b,{type:"pad"})?void 0:b}return Object.assign({},e,b?{autosize:b}:{})}function Kj(a){const b={config:1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}};return Tg.map(Gg.map(xg.map(a,b),b),b)}function yh(a){return h.isString(a)?{type:a}:null!=a?a:{}}function Gh(a,b){const e={};for(const f of xh)a&&void 0!==a[f]&&(e[f]=ra(a[f]));b&&(e.params=a.params);
return e}function Ig(a){return{explicit:!0,value:a}}function mg(a){return{explicit:!1,value:a}}function zh(a){return(b,e,f,g)=>{const n=a(b.value,e.value);return 0<n?b:0>n?e:Hh(b,e,f,g)}}function Hh(a,b,e,f){if(a.explicit&&b.explicit){var g=a.value;b=b.value;e=`Conflicting ${f.toString()} property "${e.toString()}" (${l(g)} and ${l(b)}). Using ${l(g)}.`;I(e)}return a}function fh(a,b,e,f){let g=4<arguments.length&&void 0!==arguments[4]?arguments[4]:Hh;return void 0===a||void 0===a.value?b:a.explicit&&
!b.explicit?a:b.explicit&&!a.explicit?b:qa(a.value,b.value)?a:g(a,b,e,f)}function Kf(a){return"name"in a&&!("url"in a)&&!("values"in a)&&!ng(a)}function ng(a){return a&&("sequence"in a||"sphere"in a||"graticule"in a)}function gh(a){a=Object.assign({},a);a=(delete a.signals,delete a.hasLegend,delete a.index,a);a.field=Za(a.field);return a}function If(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:h.identity;if(h.isArray(a)){const f=
a.map(g=>If(g,b,e));return b?`[${f.join(", ")}]`:f}return Ja(a)?b?e(Qb(a)):e(qc(a)):b?e(l(a)):a}function hh(a,b){a.component.selection&&ud(a.component.selection).length&&(a=h.stringValue(a.getName("cell")),b.unshift({name:"facet",value:{},on:[{events:h.parseSelector("pointermove","scope"),update:`isTuple(facet) ? facet : group(${a}).datum`}]}));return B(b)}function bh(a,b){var e=!1,f;for(const g of og(null!=(f=a.component.selection)?f:{})){const n=g.name;e=h.stringValue(n+"_store");0===b.filter(C=>
C.name===n).length&&(f="point"===g.type?", true, true)":")",b.push({name:g.name,update:`${"vlSelectionResolve"}(${e}, ${h.stringValue("global"===g.resolve?"union":g.resolve)}${f}`}));e=!0;for(const C of Xh)C.defined(g)&&C.topLevelSignals&&(b=C.topLevelSignals(a,g,b))}e&&0===b.filter(g=>"unit"===g.name).length&&b.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]});return B(b)}function ih(a,b){b=[...b];const e=Xf(a,{escape:!1});let f;for(const g of og(null!=
(f=a.component.selection)?f:{})){a={name:g.name+"_store"};g.project.hasSelectionId&&(a.transform=[{type:"collect",sort:{field:"_vgsid_"}}]);if(g.init){const n=g.project.items.map(gh);a.values=g.project.hasSelectionId?g.init.map(C=>({unit:e,_vgsid_:If(C,!1)[0]})):g.init.map(C=>({unit:e,fields:n,values:If(C,!1)}))}b.filter(n=>n.name===g.name+"_store").length||b.push(a)}return b}function Ih(a,b){let e;for(const f of og(null!=(e=a.component.selection)?e:{}))for(const g of Xh)g.defined(f)&&g.marks&&(b=
g.marks(a,f,b));return b}function ui(a,b){for(const e of a.children)Pf(e)&&(b=Ih(e,b));return b}function B(a){return a.map(b=>{b.on&&!b.on.length&&delete b.on;return b})}function aa(a){let {timeUnit:b,field:e,reverse:f}=a;const {unit:g,utc:n}=b;a=bd(g);const {part:C,step:P}=Ne(a,b.step);return`${n?"utcOffset":"timeOffset"}('${C}', datum['${e}'], ${f?-P:P})`}function Aa(a,b,e){let [f,g]=a;if(void 0!==b&&.5!==b){a=`datum['${f}']`;const n=`datum['${g}']`;return[{type:"formula",expr:La([aa({timeUnit:e,
field:f,reverse:!0}),a],b+.5),as:`${f}_${"offsetted_rect_start"}`},{type:"formula",expr:La([a,n],b+.5),as:`${f}_${"offsetted_rect_end"}`}]}return[]}function La(a,b){let [e,f]=a;return`${1-b} * ${e} + ${b} * ${f}`}function zb(a,b){return`domain(${h.stringValue(a.scaleName(b))})`}function yb(a){let b;return a.parent&&Ri(a.parent)&&(null!=(b=!a.parent.parent)?b:yb(a.parent.parent))}function cc(a,b,e,f){var g=!a.hasProjection,n=e.channel;const C=e.signals.visual,P=h.stringValue(g?a.scaleName(n):a.projectionName());
var ba=hc=>`scale(${P}, ${hc})`;const ua=a.getSizeSignalRef("x"===n?"width":"height").signal,ab=`${n}(unit)`,ob=b.events.reduce((hc,Pc)=>[...hc,{events:Pc.between[0],update:`[${ab}, ${ab}]`},{events:Pc,update:`[${C}[0], clamp(${ab}, 0, ${ua})]`}],[]);if(g)return e=e.signals.data,g=ig.defined(b),a=(a=a.getScaleComponent(n))?a.get("type"):void 0,n=f?{init:If(f,!0,ba)}:{value:[]},ob.push({events:{signal:b.name+"_scale_trigger"},update:Ld(a)?`[${ba(`${e}[0]`)}, ${ba(`${e}[1]`)}]`:"[0, 0]"}),g?[{name:e,
on:[]}]:[Object.assign({},{name:C},n,{on:ob}),Object.assign({},{name:e},f?{init:If(f)}:{},{on:[{events:{signal:C},update:`${C}[0] === ${C}[1] ? null : invert(${P}, ${C})`}]})];ba="x"===n?0:1;b=b.name+"_init";return[Object.assign({},{name:C},f?{init:`[${b}[0][${ba}], ${b}[1][${ba}]]`}:{value:[]},{on:ob})]}function q(a,b,e,f){var g=Q(b)&&b.condition;b=f(b);return g?(g=h.array(g).map(n=>{const C=f(n);if(n.param){const {param:P,empty:ba}=n;n=rk(a,{param:P,empty:ba});return Object.assign({},{test:n},C)}n=
ag(a,n.test);return Object.assign({},{test:n},C)}),{[e]:[...g,...(void 0!==b?[b]:[])]}):void 0!==b?{[e]:b}:{}}function J(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text";return q(a,a.encoding[b],b,e=>fa(e,a.config))}function fa(a,b){let e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"datum";if(a){if(Jc(a))return Ua(a.value);if(vc(a)){const {format:f,formatType:g}=Qd(a);return df({fieldOrDatumDef:a,format:f,formatType:g,expr:e,config:b})}}}function ya(a){let b=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:{};const {encoding:e,markDef:f,config:g,stack:n}=a,C=e.tooltip;if(h.isArray(C))return{tooltip:Pb({tooltip:C},n,g,b)};const P=b.reactiveGeom?"datum.datum":"datum";return q(a,C,"tooltip",ba=>{const ua=fa(ba,g,P);if(ua)return ua;if(null!==ba){ba=Zb("tooltip",f,g);!0===ba&&(ba={content:"encoding"});if(h.isString(ba))return{value:ba};if(h.isObject(ba))return Mb(ba)?ba:"encoding"===ba.content?Pb(e,n,g,b):{signal:P}}})}function cb(a,b,e){function f(ua,ab){var ob=U(ab);
ua=yc(ua)?ua:Object.assign({},ua,{type:a[ob].type});ob=ua.title||qi(ua,n);ob=h.array(ob).join(", ").replaceAll(/"/g,'\\"');if(F(ab)){const lc="x"===ab?"x2":"y2";var hc=ue(a[lc]);if(ib(ua.bin)&&hc){var Pc=Rc(ua,{expr:P});hc=Rc(hc,{expr:P});const {format:Lc,formatType:dd}=Qd(ua);Pc=Ze(Pc,hc,Lc,dd,n);C[lc]=!0}}if((F(ab)||"theta"===ab||"radius"===ab)&&b&&b.fieldChannel===ab&&"normalize"===b.offset){const {format:lc,formatType:Lc}=Qd(ua);Pc=df({fieldOrDatumDef:ua,format:lc,formatType:Lc,expr:P,config:n,
normalizeStack:!0}).signal}null!=Pc||(Pc=fa(ua,n,P).signal);ba.push({channel:ab,key:ob,value:Pc})}var {reactiveGeom:g}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const n=Object.assign({},e,e.tooltipFormat),C={},P=g?"datum.datum":"datum",ba=[];kg(a,(ua,ab)=>{xa(ua)?f(ua,ab):Z(ua)&&f(ua.condition,ab)});g={};for(const ua of ba){const {channel:ab,key:ob,value:hc}=ua;C[ab]||g[ob]||(g[ob]=hc)}return g}function Pb(a,b,e){var {reactiveGeom:f}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:
{};f=cb(a,b,e,{reactiveGeom:f});f=Fi(f).map(g=>{let [n,C]=g;return`"${n}": ${C}`});return 0<f.length?{signal:`{${f.join(", ")}}`}:void 0}function kc(a){const {encoding:b,markDef:e,config:f,stack:g}=a;var n=b.description;if(n)return q(a,n,"description",C=>fa(C,a.config));n=Zb("description",e,f);if(null!=n)return{description:Ua(n)};if(!1===f.aria)return{};n=cb(b,g,f);if(!gb(n))return{description:{signal:Fi(n).map((C,P)=>{let [ba,ua]=C;return`"${0<P?"; ":""}${ba}: " + (${ua})`}).join(" + ")}}}function wc(a,
b){let e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const {markDef:f,encoding:g,config:n}=b,{vgChannel:C}=e;let {defaultRef:P,defaultValue:ba}=e;void 0===P&&(null!=ba||(ba=Zb(a,f,n,{vgChannel:C,ignoreVgConfig:!0})),void 0!==ba&&(P=Ua(ba)));return q(b,g[a],null!=C?C:a,ua=>ld({channel:a,channelDef:ua,markDef:f,config:n,scaleName:b.scaleName(a),scale:b.getScaleComponent(a),stack:null,defaultRef:P}))}function gc(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{filled:void 0};
const {markDef:e,encoding:f,config:g}=a;var {type:n}=e,C;b=null!=(C=b.filled)?C:Zb("filled",e,g);C=Ab(["bar","point","circle","square","geoshape"],n)?"transparent":void 0;var P,ba;n=null!=(ba=null!=(P=Zb(!0===b?"color":void 0,e,g,{vgChannel:"fill"}))?P:g.mark[!0===b&&"color"])?ba:C;var ua;P=null!=(ua=Zb(!1===b?"color":void 0,e,g,{vgChannel:"stroke"}))?ua:g.mark[!1===b&&"color"];ua=b?"fill":"stroke";ba=Object.assign({},n?{fill:Ua(n)}:{},P?{stroke:Ua(P)}:{});e.color&&(b?e.fill:e.stroke)&&I(xd("property",
{fill:"fill"in e,stroke:"stroke"in e}));return Object.assign({},ba,wc("color",a,{vgChannel:ua,defaultValue:b?n:P}),wc("fill",a,{defaultValue:f.fill?n:void 0}),wc("stroke",a,{defaultValue:f.stroke?P:void 0}))}function rd(a){const {encoding:b,mark:e}=a,f=b.order;return!Qa(e)&&Jc(f)?q(a,f,"zindex",g=>Ua(g.value)):{}}function Wc(a){let {channel:b,markDef:e,encoding:f={},model:g,bandPosition:n}=a;a=`${b}Offset`;const C=e[a],P=f[a];return"xOffset"!==a&&"yOffset"!==a||!P?(a=e[a])?{offsetType:"visual",offset:a}:
{}:{offsetType:"encoding",offset:ld({channel:a,channelDef:P,markDef:e,config:null==g?void 0:g.config,scaleName:g.scaleName(a),scale:g.getScaleComponent(a),stack:null,defaultRef:Ua(C),bandPosition:n})}}function zd(a,b,e){let {defaultPos:f,vgChannel:g}=e;const {encoding:n,markDef:C,config:P,stack:ba}=b;e=n[a];const ua=n[X(a)],ab=b.scaleName(a),ob=b.getScaleComponent(a),{offset:hc,offsetType:Pc}=Wc({channel:a,markDef:C,encoding:n,model:b,bandPosition:.5}),lc=ie({model:b,defaultPos:f,channel:a,scaleName:ab,
scale:ob});if(!e&&F(a)&&(n.latitude||n.longitude))b={field:b.getName(a)};else a:{b={channel:a,channelDef:e,channel2Def:ua,markDef:C,config:P,scaleName:ab,scale:ob,stack:ba,offset:hc,defaultRef:lc,bandPosition:"encoding"===Pc?0:void 0};const {channel:Lc,channelDef:dd,scaleName:gd,stack:je,offset:de,markDef:Be}=b;if(vc(dd)&&je&&Lc===je.fieldChannel){if(xa(dd)&&(b=dd.bandPosition,void 0!==b||"text"!==Be.type||"radius"!==Lc&&"theta"!==Lc||(b=.5),void 0!==b)){b=Xc({scaleName:gd,fieldOrDatumDef:dd,startSuffix:"start",
bandPosition:b,offset:de});break a}b=Tc(dd,gd,{suffix:"end"},{offset:de})}else b=Mc(b)}return b?{[g||a]:b}:void 0}function ie(a){let {model:b,defaultPos:e,channel:f,scaleName:g,scale:n}=a;const {markDef:C,config:P}=b;return()=>{var ba=U(f),ua=A(f);ua=Zb(f,C,P,{vgChannel:ua});if(void 0!==ua)return pd(f,ua);switch(e){case "zeroOrMin":case "zeroOrMax":if(g&&(ua=n.get("type"),!Ab([jg.LOG,jg.TIME,jg.UTC],ua)&&n.domainDefinitelyIncludesZero()))return{scale:g,value:0};if("zeroOrMin"===e)return"y"===ba?{field:{group:"height"}}:
{value:0};switch(ba){case "radius":return{signal:`min(${b.width.signal},${b.height.signal})/2`};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return ba=b[G(f)],Object.assign({},ba,{mult:.5})}}}function Ge(a,b,e){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"middle";if("radius"===a||"theta"===a)return A(a);var g="x"===a?"align":"baseline";const n=Zb(g,b,e);Mb(n)?(I(`The ${g} for range marks cannot be an expression`),
g=void 0):g=n;return"x"===a?Xk[g||("top"===f?"left":"center")]:sj[g||f]}function Pe(a,b,e){let {defaultPos:f,defaultPos2:g,range:n}=e;return n?Df(a,b,{defaultPos:f,defaultPos2:g}):zd(a,b,{defaultPos:f})}function Df(a,b,e){let {defaultPos:f,defaultPos2:g}=e;const {markDef:n,config:C}=b;var P=X(a);e=G(a);{const {encoding:hc,mark:Pc,markDef:lc,stack:Lc,config:dd}=b;var ba=U(P),ua=G(P);const gd=A(P);var ab=hc[ba],ob=b.scaleName(ba);const je=b.getScaleComponent(ba);({offset:ba}=P in hc||P in lc?Wc({channel:P,
markDef:lc,encoding:hc,model:b}):Wc({channel:ba,markDef:lc,encoding:hc,model:b}));if(ab||"x2"!==P&&"y2"!==P||!hc.latitude&&!hc.longitude){let {channel:de,channelDef:Be,channel2Def:Qe,markDef:Lf,config:$f,scaleName:Lg,scale:bf,stack:bg,offset:cf,defaultRef:Bh}={channel:P,channelDef:ab,channel2Def:hc[P],markDef:lc,config:dd,scaleName:ob,scale:je,stack:Lc,offset:ba,defaultRef:void 0};ab=vc(Be)&&bg&&de.charAt(0)===bg.fieldChannel.charAt(0)?Tc(Be,Lg,{suffix:"start"},{offset:cf}):Mc({channel:de,channelDef:Qe,
scaleName:Lg,scale:bf,stack:bg,markDef:Lf,config:$f,offset:cf,defaultRef:Bh});P=void 0!==ab?{[gd]:ab}:Ue(P,lc)||Ue(P,{[P]:Ac(P,lc,dd.style),[ua]:Ac(ua,lc,dd.style)})||Ue(P,dd[Pc])||Ue(P,dd.mark)||{[gd]:ie({model:b,defaultPos:g,channel:P,scaleName:ob,scale:je})()}}else ua=G(P),ob=b.markDef[ua],P=null!=ob?{[ua]:{value:ob}}:{[gd]:{field:b.getName(P)}}}e=P[e]?Ge(a,n,C):A(a);return Object.assign({},zd(a,b,{defaultPos:f,vgChannel:e}),P)}function Ue(a,b){const e=G(a),f=A(a);if(void 0!==b[f])return{[f]:pd(a,
b[f])};if(void 0!==b[a])return{[f]:pd(a,b[a])};if(b[e])if(b=b[e],sc(b))I(`Position range does not support relative band size for ${e}.`);else return{[e]:pd(a,b)}}function Kg(a,b){const {config:e,encoding:f,markDef:g}=a;var n=g.type,C=X(b),P=G(b),ba=f[b];C=f[C];var ua=a.getScaleComponent(b);ua=ua?ua.get("type"):void 0;const ab=g.orient;var ob;let hc;const Pc=null!=(hc=null!=(ob=f[P])?ob:f.size)?hc:Zb("size",g,e,{vgChannel:P});P=v(b);n="bar"===n&&("x"===b?"vertical"===ab:"horizontal"===ab);if(!xa(ba)||
!(sb(ba.bin)||ib(ba.bin)||ba.timeUnit&&!C)||Pc&&!sc(Pc)||f[P]||Md(ua)){if((vc(ba)&&Md(ua)||n)&&!C){var lc;{const {markDef:Qe,encoding:Lf,config:$f,stack:Lg}=a;n=Qe.orient;var Lc=a.scaleName(b),dd=a.getScaleComponent(b),gd=G(b),je=X(b);C=v(b);C=a.scaleName(C);P=a.getScaleComponent(z(b));ob="horizontal"===n&&"y"===b||"vertical"===n&&"x"===b;if(Lf.size||Qe.size)ob?lc=wc("size",a,{vgChannel:gd,defaultRef:Ua(Qe.size)}):I(`Cannot apply size to non-oriented mark "${Qe.type}".`);ua=!!lc;var de;n=M({channel:b,
fieldDef:ba,markDef:Qe,config:$f,scaleType:null==(de=dd||P)?void 0:de.get("type"),useVlSizeChannel:ob});lc=lc||{[gd]:ve(gd,C||Lc,P||dd,$f,n,!!ba,Qe.type)};var Be;de="band"===(null==(Be=dd||P)?void 0:Be.get("type"))&&sc(n)&&!ua?"top":"middle";Be=Ge(b,Qe,$f,de);de="xc"===Be||"yc"===Be;const {offset:bf,offsetType:bg}=Wc({channel:b,markDef:Qe,encoding:Lf,model:a,bandPosition:de?.5:0});a=Mc({channel:b,channelDef:ba,markDef:Qe,config:$f,scaleName:Lc,scale:dd,stack:Lg,offset:bf,defaultRef:ie({model:a,defaultPos:"mid",
channel:b,scaleName:Lc,scale:dd}),bandPosition:de?"encoding"===bg?0:.5:Mb(n)?{signal:`(1-${n})/2`}:sc(n)?(1-n.band)/2:0});gd?lc=Object.assign({},{[Be]:a},lc):(b=A(je),lc=lc[gd],lc=bf?Object.assign({},lc,{offset:bf}):lc,lc={[Be]:a,[b]:h.isArray(a)?[a[0],Object.assign({},a[1],{offset:lc})]:Object.assign({},a,{offset:lc})})}return lc}return Df(b,a,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}a:{let {fieldDef:Qe,fieldDef2:Lf,channel:$f,model:Lg}={fieldDef:ba,fieldDef2:C,channel:b,model:a};const {config:bf,
markDef:bg,encoding:cf}=Lg;a=Lg.getScaleComponent($f);lc=Lg.scaleName($f);b=a?a.get("type"):void 0;a=a.get("reverse");b=M({channel:$f,fieldDef:Qe,markDef:bg,config:bf,scaleType:b});de=null!=(dd=null==(Lc=null==(je=Lg.component.axes[$f])?void 0:je[0])?void 0:Lc.get("translate"))?dd:.5;Lc=F($f)?null!=(gd=Zb("binSpacing",bg,bf))?gd:0:0;gd=X($f);ba=A($f);Be=A(gd);dd=ic("minBandSize",bg,bf);({offset:n}=Wc({channel:$f,markDef:bg,encoding:cf,model:Lg,bandPosition:0}));({offset:C}=Wc({channel:gd,markDef:bg,
encoding:cf,model:Lg,bandPosition:0}));let {scaleName:Bh,fieldDef:gl}={fieldDef:Qe,scaleName:lc};je=Rc(gl,{expr:"datum"});P=Rc(gl,{expr:"datum",suffix:"end"});P=`abs(scale("${Bh}", ${P}) - scale("${Bh}", ${je}))`;je=Re($f,Lc,a,de,n,dd,P);a=Re(gd,Lc,a,de,null!=C?C:n,dd,P);b=Mb(b)?{signal:`(1-${b.signal})/2`}:sc(b)?(1-b.band)/2:.5;de=y({fieldDef:Qe,fieldDef2:Lf,markDef:bg,config:bf});if(sb(Qe.bin)||Qe.timeUnit)de=Qe.timeUnit&&.5!==de,lc={[Be]:tf({fieldDef:Qe,scaleName:lc,bandPosition:b,offset:a,useRectOffsetField:de}),
[ba]:tf({fieldDef:Qe,scaleName:lc,bandPosition:Mb(b)?{signal:`1-${b.signal}`}:1-b,offset:je,useRectOffsetField:de})};else{if(ib(Qe.bin)){a=Tc(Qe,lc,{},{offset:a});if(xa(Lf)){lc={[Be]:a,[ba]:Tc(Lf,lc,{},{offset:je})};break a}if(h.isObject(Qe.bin)&&Qe.bin.step){lc={[Be]:a,[ba]:{signal:`scale("${lc}", ${Rc(Qe,{expr:"datum"})} + ${Qe.bin.step})`,offset:je}};break a}}I(w(gd));lc=void 0}}return lc}function ve(a,b,e,f,g,n,C){if(sc(g))if(e){const P=e.get("type");if("band"===P)return a=`bandwidth('${b}')`,
1!==g.band&&(a=`${g.band} * ${a}`),f=ic("minBandSize",{type:C},f),{signal:f?`max(${Fb(f)}, ${a})`:a};1!==g.band&&I(`Cannot use the relative band size with ${P} scale.`)}else return{mult:g.band,field:{group:a}};else{if(Mb(g))return g;if(g)return{value:g}}if(e&&(g=e.get("range"),Ob(g)&&h.isNumber(g.step)))return{value:g.step-2};if(!n){const {bandPaddingInner:P,barBandPaddingInner:ba,rectBandPaddingInner:ua}=f.scale;C=V(P,"bar"===C?ba:ua);if(Mb(C))return{signal:`(1 - (${C.signal})) * ${a}`};if(h.isNumber(C))return{signal:`${1-
C} * ${a}`}}return{value:vf(f.view,a)-2}}function Re(a,b,e,f,g,n,C){if(a in ak)return 0;b=(a="x"===a||"y2"===a)?-b/2:b/2;if(Mb(e)||Mb(g)||Mb(f)||n){e=Fb(e);g=Fb(g);f=Fb(f);const P=Fb(n);n=n?`(${C} < ${P} ? ${a?"":"-"}0.5 * (${P} - (${C})) : ${b})`:b;return{signal:(f?`${f} + `:"")+(e?`(${e} ? -1 : 1) * `:"")+(g?`(${g} + ${n})`:n)}}g=g||0;return f+(e?-g-b:+g+b)}function tf(a){let {fieldDef:b,scaleName:e,bandPosition:f,offset:g,useRectOffsetField:n}=a;return Xc(Object.assign({},{scaleName:e,fieldOrDatumDef:b,
bandPosition:f,offset:g},n?{startSuffix:"offsetted_rect_start",endSuffix:"offsetted_rect_end"}:{}))}function Hg(a,b){const {fill:e,stroke:f}="include"===b.color?gc(a):{};var g=Object,n=g.assign;b=vg(a.markDef,b);var C=Kh(a,"fill",e),P=Kh(a,"stroke",f),ba=wc("opacity",a),ua=wc("fillOpacity",a),ab=wc("strokeOpacity",a),ob=wc("strokeWidth",a),hc=wc("strokeDash",a),Pc=rd(a),lc=ya(a),Lc=J(a,"href");{const {markDef:de,config:Be}=a,Qe=Zb("aria",de,Be);if(!1===Qe)a={};else{var dd=Object,gd=dd.assign;{const {mark:Lf,
markDef:$f,config:Lg}=a;if(!1===Lg.aria)var je={};else je=Zb("ariaRoleDescription",$f,Lg),je=null!=je?{ariaRoleDescription:{value:je}}:Lf in cm?{}:{ariaRoleDescription:{value:Lf}}}a=gd.call(dd,{},Qe?{aria:Qe}:{},je,kc(a))}}return n.call(g,{},b,C,P,ba,ua,ab,ob,hc,Pc,lc,Lc,a)}function Kh(a,b,e){const {config:f,mark:g,markDef:n}=a;return"hide"===Zb("invalid",n,f)&&e&&!Qa(g)&&(a=qh(a,{invalid:!0,channels:xk}))?{[b]:[{test:a,value:null},...h.array(e)]}:e?{[b]:e}:{}}function vg(a,b){return Zk.reduce((e,
f)=>{wi.has(f)||void 0===a[f]||"ignore"===b[f]||(e[f]=Ua(a[f]));return e},{})}function qh(a,b){let {invalid:e=!1,channels:f}=b;b=f.reduce((g,n)=>{var C=a.getScaleComponent(n);C&&(C=C.get("type"),(n=a.vgField(n,{expr:"datum"}))&&Ld(C)&&(g[n]=!0));return g},{});b=ud(b);if(0<b.length){const g=e?"||":"\x26\x26";return b.map(n=>Ec(n,e)).join(` ${g} `)}}function rh(a){const {config:b,markDef:e}=a;return Zb("invalid",e,b)&&(a=of(a,{channels:Qh}))?{defined:{signal:a}}:{}}function of(a,b){let {invalid:e=!1,
channels:f}=b;b=f.reduce((g,n)=>{var C=a.getScaleComponent(n);if(C){C=C.get("type");let P;(n=a.vgField(n,{expr:"datum",binSuffix:(null==(P=a.stack)?0:P.impute)?"mid":void 0}))&&Ld(C)&&(g[n]=!0)}return g},{});b=ud(b);if(0<b.length){const g=e?"||":"\x26\x26";return b.map(n=>Ec(n,e)).join(` ${g} `)}}function Ve(a,b){if(void 0!==b)return{[a]:Ua(b)}}function Yg(a,b,e,f,g){var n=b.name,C=n+"_translate_anchor";n+="_translate_delta";var P=e.channel;const ba=ig.defined(b);b=g.filter(Pc=>Pc.name===e.signals[ba?
"data":"visual"])[0];f=a.getSizeSignalRef(f).signal;g=(a=a.getScaleComponent(P))&&a.get("type");var ua=a&&a.get("reverse");C=`${C}.extent_${P}`;P=`${ba?"x"===P?ua?"":"-":ua?"-":"":""}${n}.${P} / ${ba?`${f}`:`span(${C})`}`;ua=ba&&a?"log"===g?"panLog":"symlog"===g?"panSymlog":"pow"===g?"panPow":"panLinear":"panLinear";var ab;let ob;const hc=ba?"pow"===g?`, ${null!=(ab=a.get("exponent"))?ab:1}`:"symlog"===g?`, ${null!=(ob=a.get("constant"))?ob:1}`:"":"";ab=`${ua}(${C}, ${P}${hc})`;b.on.push({events:{signal:n},
update:ba?ab:`clampRange(${ab}, 0, ${f})`})}function Lh(a,b,e,f,g){var n=b.name,C=e.channel;const P=ig.defined(b);b=g.filter(Pc=>Pc.name===e.signals[P?"data":"visual"])[0];f=a.getSizeSignalRef(f).signal;const ba=(g=a.getScaleComponent(C))&&g.get("type"),ua=P?zb(a,C):b.name;a=n+"_zoom_delta";n=`${n}${"_zoom_anchor"}.${C}`;C=P&&g?"log"===ba?"zoomLog":"symlog"===ba?"zoomSymlog":"pow"===ba?"zoomPow":"zoomLinear":"zoomLinear";var ab;let ob;const hc=P?"pow"===ba?`, ${null!=(ab=g.get("exponent"))?ab:1}`:
"symlog"===ba?`, ${null!=(ob=g.get("constant"))?ob:1}`:"":"";ab=`${C}(${ua}, ${n}, ${a}${hc})`;b.on.push({events:{signal:a},update:P?ab:`clampRange(${ab}, 0, ${f})`})}function Xf(a){var {escape:b}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{escape:!0};b=b?h.stringValue(a.name):a.name;var e;for(e=a.parent;e&&!kh(e);)e=e.parent;if(e){const {facet:f}=e;for(const g of th)f[g]&&(b+=` + '__facet_${g}_' + (facet[${h.stringValue(e.vgField(g))}])`)}return b}function qg(a){let b;return og(null!=
(b=a.component.selection)?b:{}).reduce((e,f)=>e||f.project.hasSelectionId,!1)}function dg(a,b){!h.isString(b.select)&&b.select.on||delete a.events;!h.isString(b.select)&&b.select.clear||delete a.clear;!h.isString(b.select)&&b.select.toggle||delete a.toggle}function Bg(a){const b=[];if("Identifier"===a.type)return[a.name];if("Literal"===a.type)return[a.value];"MemberExpression"===a.type&&(b.push(...Bg(a.object)),b.push(...Bg(a.property)));return b}function nj(a){return"MemberExpression"===a.object.type?
nj(a.object):"datum"===a.object.name}function oj(a){a=h.parseExpression(a);const b=new Set;a.visit(e=>{"MemberExpression"===e.type&&nj(e)&&b.add(Bg(e).slice(1).join("."))});return b}function rk(a,b,e){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"datum",g=h.isString(b)?b:b.param,n=sa(g),C=h.stringValue(n+"_store");try{var P=a.getSelectionComponent(n,g)}catch(ba){return`!!${n}`}P.project.timeUnit&&(g=null!=e?e:a.component.data.raw,n=P.project.timeUnit.clone(),g.parent?n.insertAsParentOf(g):
g.parent=n);g=P.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(";P="global"===P.resolve?")":`, ${h.stringValue(P.resolve)})`;f=`${g}${C}, ${f}${P}`;C=`length(data(${C}))`;return!1===b.empty?`${C} && ${f}`:`!${C} || ${f}`}function aj(a,b,e){const f=sa(b),g=e.encoding;let n=e.field,C;try{C=a.getSelectionComponent(f,b)}catch(P){return f}g||n?g&&!n&&(a=C.project.items.filter(P=>P.channel===g),!a.length||1<a.length?(n=C.project.items[0].field,I((a.length?"Multiple ":"No ")+`matching ${h.stringValue(g)} encoding found for selection ${h.stringValue(e.param)}. `+
`Using "field": ${h.stringValue(n)}.`)):n=a[0].field):(n=C.project.items[0].field,1<C.project.items.length&&I('A "field" or "encoding" must be specified when using a selection as a scale domain. '+`Using "field": ${h.stringValue(n)}.`));return`${C.name}[${h.stringValue(Za(n))}]`}function ag(a,b,e){return ha(b,f=>h.isString(f)?f:(null==f?0:f.param)?rk(a,f,e):Rb(f))}function sk(a,b){if(a)return h.isArray(a)&&!ac(a)?a.map(e=>qi(e,b)).join(", "):a}function wj(a,b,e,f){null!=a.encode||(a.encode={});let g;
null!=(g=a.encode)[b]||(g[b]={});let n;null!=(n=a.encode[b]).update||(n.update={});a.encode[b].update[e]=f}function jh(a,b,e){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{header:!1},g=a.combine(),n=Object.assign({},g),C=g.disable;const P=g.orient,ba=g.scale;var ua=g.labelExpr;const ab=g.title;g=g.zindex;n=(delete n.disable,delete n.orient,delete n.scale,delete n.labelExpr,delete n.title,delete n.zindex,n);if(!C){for(const hc in n){var ob=lk[hc];C=n[hc];if(ob&&ob!==b&&"both"!==ob)delete n[hc];
else if(Yf(C)){ob=C;C=Object.assign({},ob);ob=ob.condition;C=(delete C.condition,C);ob=h.array(ob);const Pc=Zf[hc];if(Pc){const {vgProp:lc,part:Lc}=Pc;C=[...ob.map(dd=>{var gd=Object.assign({},dd);dd=dd.test;gd=(delete gd.test,gd);return Object.assign({},{test:ag(null,dd)},gd)}),C];wj(n,Lc,lc,C);delete n[hc]}else null===Pc&&(C={signal:ob.map(lc=>{var Lc=Object.assign({},lc);lc=lc.test;Lc=(delete Lc.test,Lc);return`${ag(null,lc)} ? ${xb(Lc)} : `}).join("")+xb(C)},n[hc]=C)}else if(Mb(C)&&(ob=Zf[hc])){const {vgProp:Pc,
part:lc}=ob;wj(n,lc,Pc,C);delete n[hc]}Ab(["labelAlign","labelBaseline"],hc)&&null===n[hc]&&delete n[hc]}if("grid"===b){if(n.grid)return n.encode&&({grid:ua}=n.encode,n.encode=Object.assign({},ua?{grid:ua}:{}),gb(n.encode)&&delete n.encode),Object.assign({},{scale:ba,orient:P},n,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:V(g,0)})}else if(f.header||!a.mainExtracted){if(void 0!==ua){f=ua;let hc,Pc;(null==(hc=n.encode)?0:null==(Pc=hc.labels)?0:Pc.update)&&Mb(n.encode.labels.update.text)&&
(f=qb(ua,"datum.label",n.encode.labels.update.text.signal));wj(n,"labels","text",{signal:f})}null===n.labelAlign&&delete n.labelAlign;if(n.encode){for(const hc of kk)a.hasAxisPart(hc)||delete n.encode[hc];gb(n.encode)&&delete n.encode}ua=sk(ab,e);return Object.assign({},{scale:ba,orient:P,grid:!1},ua?{title:ua}:{},n,!1===e.aria?{aria:!1}:{},{zindex:V(g,0)})}}}function Pi(a){const {axes:b}=a.component,e=[];for(const f of Qh)if(b[f])for(const g of b[f])if(!g.get("disable")&&!g.get("gridScale")){const n=
"x"===f?"height":"width",C=a.getSizeSignalRef(n).signal;n!==C&&e.push({name:n,update:C})}return e}function Oj(a,b){const {x:e=[],y:f=[]}=a;return[...e.map(g=>jh(g,"grid",b)),...f.map(g=>jh(g,"grid",b)),...e.map(g=>jh(g,"main",b)),...f.map(g=>jh(g,"main",b))].filter(g=>g)}function xj(a,b,e,f){return Object.assign.apply(null,[{},...a.map(g=>{if("axisOrient"===g){g="x"===e?"bottom":"left";const n=b["x"===e?"axisBottom":"axisLeft"]||{},C=b["x"===e?"axisTop":"axisRight"]||{},P=new Set([...ud(n),...ud(C)]),
ba={};for(const ua of P.values())ba[ua]={signal:`${f.signal} === "${g}" ? ${Fb(n[ua])} : ${Fb(C[ua])}`};return ba}return b[g]})])}function al(a,b,e,f){var g="band"===b?["axisDiscrete","axisBand"]:"point"===b?["axisDiscrete","axisPoint"]:oi.has(b)?["axisQuantitative"]:"time"===b||"utc"===b?["axisTemporal"]:[];const n="x"===a?"axisX":"axisY";b=Mb(e)?"axisOrient":`axis${Sa(e)}`;g=[...g,...g.map(C=>n+C.substr(4))];b=["axis",b,n];return{vlOnlyAxisConfig:xj(g,f,a,e),vgAxisConfig:xj(b,f,a,e),axisConfigStyle:Qi([...b,
...g],f)}}function Qi(a,b){const e=[{}];for(const f of a){let g;if(a=null==(g=b[f])?void 0:g.style){a=h.array(a);for(const n of a)e.push(b.style[n])}}return Object.assign.apply(null,e)}function xi(a,b,e){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const g=nd(a,e,b);if(void 0!==g)return{configFrom:"style",configValue:g};for(const n of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){let C;if(void 0!==(null==(C=f[n])?void 0:C[a]))return{configFrom:n,configValue:f[n][a]}}return{}}
function Pj(a,b,e,f,g){const n=null==b?void 0:b.labelAngle;if(void 0!==n)return Mb(n)?n:Na(n);({configValue:b}=xi("labelAngle",f,null==b?void 0:b.style,g));if(void 0!==b)return Na(b);if("x"===e&&Ab(["nominal","ordinal"],a.type)&&(!xa(a)||!a.timeUnit))return 270}function yi(a){return`(((${a.signal} % 360) + 360) % 360)`}function Qj(a,b,e,f){if(void 0!==a)return"x"===e?Mb(a)?(f=yi(a),b=Mb(b)?`(${b.signal} === "top")`:"top"===b,{signal:`(45 < ${f} && ${f} < 135) || (225 < ${f} && ${f} < 315) ? "middle" :`+
`(${f} <= 45 || 315 <= ${f}) === ${b} ? "bottom" : "top"`}):45<a&&135>a||225<a&&315>a?"middle":Mb(b)?{signal:`${b.signal} ${45>=a||315<=a?"\x3d\x3d\x3d":"!\x3d\x3d"} "top" ? "bottom" : "top"`}:(45>=a||315<=a)===("top"===b)?"bottom":"top":Mb(a)?(a=yi(a),b=Mb(b)?`(${b.signal} === "left")`:"left"===b,{signal:`${a} <= 45 || 315 <= ${a} || (135 <= ${a} && ${a} <= 225) ? ${f?'"middle"':"null"} : (45 <= ${a} && ${a} <= 135) === ${b} ? "top" : "bottom"`}):45>=a||315<=a||135<=a&&225>=a?f?"middle":null:Mb(b)?
{signal:`${b.signal} ${45<=a&&135>=a?"\x3d\x3d\x3d":"!\x3d\x3d"} "left" ? "top" : "bottom"`}:(45<=a&&135>=a)===("left"===b)?"top":"bottom"}function tk(a,b,e){if(void 0!==a){var f=(e="x"===e)?0:90,g=e?"bottom":"left";return Mb(a)?(a=yi(a),b=Mb(b)?`(${b.signal} === "${g}")`:b===g,{signal:`(${f?`(${a} + 90)`:a} % 180 === 0) ? ${e?null:'"center"'} :`+`(${f} < ${a} && ${a} < ${180+f}) === ${b} ? "left" : "right"`}):0===(a+f)%180?e?null:"center":Mb(b)?{signal:`${`${b.signal} ${f<a&&a<180+f?"\x3d\x3d\x3d":
"!\x3d\x3d"} "${g}"`} ? "left" : "right"`}:(f<a&&a<180+f)===(b===g)?"left":"right"}}function bj(a,b){var e="x"===b?"x2":"y2";b=a.fieldDef(b);a=a.fieldDef(e);e=b?b.title:void 0;a=a?a.title:void 0;if(e&&a)return Ha(e,a);if(e)return e;if(a)return a;if(void 0!==e)return e;if(void 0!==a)return a}function Yh(a,b,e){return Rc(a,Object.assign({},{prefix:b,suffix:"sort_index"},null!=e?e:{}))}function zg(a,b){return Ab(["top","bottom"],b)?"column":Ab(["left","right"],b)?"row":"row"===a?"row":"column"}function ki(a,
b,e,f){return V((b||{})[a],("row"===f?e.headerRow:"column"===f?e.headerColumn:e.headerFacet)[a],e.header[a])}function Zh(a,b,e,f){const g={};for(const n of a)a=ki(n,b||{},e,f),void 0!==a&&(g[n]=a);return g}function Mh(a,b){switch(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"middle"){case "start":return{align:"left"};case "end":return{align:"right"}}const e=tk(b,"row"===a?"left":"top","row"===a?"y":"x");return e?{align:e}:{}}function m(a,b){return(a=Qj(a,"row"===b?"left":"top","row"===b?
"y":"x",!0))?{baseline:a}:{}}function H(a,b,e){const {format:f,formatType:g,labelAngle:n,labelAnchor:C,labelOrient:P,labelExpr:ba}=Zh("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),a.header,e,b),ua=df({fieldOrDatumDef:a,format:f,formatType:g,expr:"parent",config:e}).signal,ab=zg(b,P);return Object.assign({},{text:{signal:ba?qb(qb(ba,"datum.label",ua),"datum.value",Rc(a,{expr:"parent"})):ua}},"row"===b?{orient:"left"}:{},{style:"guide-label",frame:"group"},m(n,ab),Mh(ab,
n,C),L(e,a,b,Zl,tl))}function L(a,b,e,f,g){const n={};for(const C of f){if(!g[C])continue;let P;f=ki(C,null==(P=b)?void 0:P.header,a,e);void 0!==f&&(n[g[C]]=f)}return n}function ka(a){return[...Ra(a,"width"),...Ra(a,"height"),...Ra(a,"childWidth"),...Ra(a,"childHeight")]}function Ra(a,b){var e="width"===b?"x":"y",f=a.component.layoutSize.get(b);if(!f||"merged"===f)return[];b=a.getSizeSignalRef(b).signal;if("step"===f){if(f=a.getScaleComponent(e)){var g=f.get("type");const n=f.get("range");if(Md(g)&&
Ob(n))return g=a.scaleName(e),kh(a.parent)&&"independent"===a.parent.component.resolve.scale[e]?[db(g,n)]:[db(g,n),{name:b,update:mb(g,f,`domain('${g}').length`)}]}throw Error("layout size is step although width/height is not step.");}return"container"==f?(e=(f=b.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",a=Tf(a.config.view,f?"width":"height"),a=`isFinite(${e}) ? ${e} : ${a}`,[{name:b,init:a,on:[{update:a,events:"window:resize"}]}]):[{name:b,value:f}]}function db(a,b){a=`${a}_step`;
return Mb(b.step)?{name:a,update:b.step.signal}:{name:a,value:b.step}}function mb(a,b,e){const f=b.get("type"),g=b.get("padding"),n=V(b.get("paddingOuter"),g);b=b.get("paddingInner");return`bandspace(${e}, ${Fb("band"===f?void 0!==b?b:g:1)}, ${Fb(n)}) * ${a}_step`}function Jb(a){return"childWidth"===a?"width":"childHeight"===a?"height":a}function tc(a,b){return ud(a).reduce((e,f)=>Object.assign({},e,q(b,a[f],f,g=>Ua(g.value))),{})}function ad(a,b){if(kh(b))return"theta"===a?"independent":"shared";
if(Ri(b))return"shared";if(Ok(b))return F(a)||"theta"===a||"radius"===a?"independent":"shared";throw Error("invalid model type for resolve");}function od(a,b){const e=a.scale[b],f=F(b)?"axis":"legend";return"independent"===e?("shared"===a[f][b]&&I(`Setting the scale to be independent for "${b}" means we also have to set the guide (axis or legend) to be independent.`),"independent"):a[f][b]||"shared"}function Bc(a){return be(a,(b,e)=>Math.max(b,e.value))}function Dd(a){return be(a,(b,e)=>V(b,e.value))}
function be(a,b){const e=null==a?void 0:a.condition;if(e&&(h.isArray(e)||Jc(e)))return h.array(a.condition).reduce(b,a.value);if(Jc(a))return a.value}function Ae(a,b,e){a=b.get("selections");if(null!=a&&a.length){var f=h.stringValue(e.field);return a.map(g=>`(!length(data(${h.stringValue(sa(g)+"_store")})) || (${g}[${f}] && indexof(${g}[${f}], datum.value) >= 0))`).join(" || ")}}function Td(a,b,e,f){return{signal:`clamp(${a.getSizeSignalRef(b).signal}, ${e}, ${f})`}}function Ye(a){if(Pf(a)){var {encoding:b}=
a,e={};for(dd of["color",...wl]){var f=Sd(b[dd]);if(f&&a.getScaleComponent(dd)&&("shape"!==dd||!xa(f)||"geojson"!==f.type)){a:{var g=void 0,n=void 0,C=void 0,P=void 0,ba=void 0,ua,ab=ua=void 0,ob=void 0;f=a;var hc=dd;let gd=f.legend(hc);const {markDef:je,encoding:de,config:Be}=f;var Pc=Be.legend;b:{var lc=f;var Lc=hc;P=lc.scaleName(Lc);if("trail"===lc.mark){if("color"===Lc){lc={stroke:P};break b}if("size"===Lc){lc={strokeWidth:P};break b}}lc="color"===Lc?lc.markDef.filled?{fill:P}:{stroke:P}:{[Lc]:P}}lc=
new jl({},lc);Lc=null==(ob=f.fieldDef(hc))?void 0:ob.field;for(const bf of og(null!=(ab=f.component.selection)?ab:{})){let bg;if((ab=null!=(bg=bf.project.hasField[Lc])?bg:bf.project.hasChannel[hc])&&Mj.defined(bf)){let cf;ob=null!=(cf=lc.get("selections"))?cf:[];ob.push(bf.name);lc.set("selections",ob,!1);ab.hasLegend=!0}}ab=void 0!==gd?!gd:Pc.disable;lc.set("disable",ab,void 0!==gd);if(ab){f=lc;break a}gd=gd||{};ob=f.getScaleComponent(hc).get("type");ab=Sd(de[hc]);P=xa(ab)?null==(ua=kd(ab.timeUnit))?
void 0:ua.unit:void 0;Lc=gd.orient||Be.legend.orient||"right";ua={legend:gd,channel:hc,timeUnit:P,scaleType:ob};({legend:P}=ua);P=P.type;b:{let {channel:bf,timeUnit:bg,scaleType:cf}=ua;if(K(bf)){if(Ab(["quarter","month","day"],bg)){ua="symbol";break b}if(pg.has(cf)){ua="gradient";break b}}ua="symbol"}ua=V(P,ua);let {legendConfig:Qe,legendType:Lf,orient:$f,legend:Lg}={legend:gd,legendType:ua,orient:Lc,legendConfig:Pc};if(null!=(P=null!=(ba=Lg.direction)?ba:Qe[Lf?"gradientDirection":"symbolDirection"]))ba=
P;else b:{switch($f){case "top":case "bottom":ba="horizontal";break b;case "left":case "right":case "none":case void 0:break;default:ba="gradient"===Lf?"horizontal":void 0;break b}ba=void 0}Pc={legend:gd,channel:hc,model:f,markDef:je,encoding:de,fieldOrDatumDef:ab,legendConfig:Pc,config:Be,scaleType:ob,orient:Lc,legendType:ua,direction:ba};for(const bf of ml)if(!("gradient"===ua&&bf.startsWith("symbol")||"symbol"===ua&&bf.startsWith("gradient"))&&(ba=bf in Gl?Gl[bf](Pc):gd[bf],void 0!==ba)){b:{ob=
P=void 0;Lc=f.fieldDef(hc);switch(bf){case "disable":Lc=void 0!==gd;break b;case "values":Lc=!(null==(ob=gd)||!ob.values);break b;case "title":if("title"===bf&&ba===(null==(P=Lc)?void 0:P.title)){Lc=!0;break b}}Lc=ba===(gd||{})[bf]}((ob=Lc)||void 0===Be.legend[bf])&&lc.set(bf,ba,ob)}Pc=null!=(n=null==(C=gd)?void 0:C.encoding)?n:{};n=lc.get("selections");C={};hc={fieldOrDatumDef:ab,model:f,channel:hc,legendCmpt:lc,legendType:ua};for(const bf of"labels legend title symbols gradient entries".split(" ")){let bg;
ba=tc(null!=(bg=Pc[bf])?bg:{},f);ba=bf in kl?kl[bf](ba,hc):ba;if(void 0!==ba&&!gb(ba)){let cf,Bh;C[bf]=Object.assign({},(null==(cf=n)?0:cf.length)&&xa(ab)?{name:`${sa(ab.field)}_legend_${bf}`}:{},(null==(Bh=n)?0:Bh.length)?{interactive:!!n}:{},{update:ba})}}gb(C)||lc.set("encode",C,!(null==(g=gd)||!g.encoding));f=lc}e[dd]=f}}var dd=e}else{const {legends:gd,resolve:je}=a.component;for(b of a.children){Ye(b);for(e of ud(b.component.legends))je.legend[e]=od(a.component.resolve,e),"shared"===je.legend[e]&&
(gd[e]=Nf(gd[e],b.component.legends[e]),gd[e]||(je.legend[e]="independent",delete gd[e]))}for(f of ud(gd))for(g of a.children)g.component.legends[f]&&"shared"===je.legend[f]&&delete g.component.legends[f];dd=gd}return a.component.legends=dd}function Nf(a,b){if(!a)return b.clone();var e=a.getWithExplicit("orient");const f=b.getWithExplicit("orient");if(!e.explicit||!f.explicit||e.value===f.value){var g=!1;for(const n of ml)e=fh(a.getWithExplicit(n),b.getWithExplicit(n),n,"legend",(C,P)=>{switch(n){case "symbolType":return C=
"circle"===P.value?P:C,C;case "title":return fb(C,P);case "type":return g=!0,mg("symbol")}return Hh(C,P,n,"legend")}),a.setWithExplicit(n,e);if(g){let n,C;(null==(n=a.implicit)?0:null==(C=n.encode)?0:C.gradient)&&Ba(a.implicit,["encode","gradient"]);let P,ba;(null==(P=a.explicit)?0:null==(ba=P.encode)?0:ba.gradient)&&Ba(a.explicit,["encode","gradient"])}return a}}function Af(a){const b=a.component.legends,e={};for(const g of ud(b)){var f=a.getScaleComponent(g);f=l(f.get("domains"));if(e[f])for(const n of e[f])Nf(n,
b[g])||e[f].push(b[g]);else e[f]=[b[g].clone()]}return og(e).flat().map(g=>{{var n=a.config,C=g.combine();g=Object.assign({},C);const hc=C.disable;C=C.labelExpr;g=(delete g.disable,delete g.labelExpr,delete g.selections,g);if(hc)var P=void 0;else{!1===n.aria&&void 0==g.aria&&(g.aria=!1);var ba;if(null==(ba=g.encode)?0:ba.symbols){n=g.encode.symbols.update;!n.fill||"transparent"===n.fill.value||n.stroke||g.stroke||(n.stroke={value:"transparent"});for(var ua of wl)g[ua]&&delete n[ua]}g.title||delete g.title;
if(void 0!==C){ua=C;var ab,ob;(null==(ab=g.encode)?0:null==(ob=ab.labels)?0:ob.update)&&Mb(g.encode.labels.update.text)&&(ua=qb(C,"datum.label",g.encode.labels.update.text.signal));ab=g;ob={signal:ua};null!=ab.encode||(ab.encode={});null!=(P=ab.encode).labels||(P.labels={});let Pc;null!=(Pc=ab.encode.labels).update||(Pc.update={});ab.encode.labels.update.text=ob}P=g}}return P}).filter(g=>void 0!==g)}function yg(a){return a.children.reduce((b,e)=>b.concat(e.assembleProjections()),Ug(a))}function Ug(a){var b=
a.component.projection;if(!b||b.merged)return[];const e=b.combine(),{name:f}=e;if(b.data){const g={signal:`[${b.size.map(n=>n.signal).join(", ")}]`};b=b.data.reduce((n,C)=>{C=Mb(C)?C.signal:`data('${a.lookupDataSource(C)}')`;n.includes(C)||n.push(C);return n},[]);if(0>=b.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:f,size:g,fit:{signal:1<b.length?`[${b.join(", ")}]`:b[0]}},e)]}return[Object.assign({},{name:f},{translate:{signal:"[width / 2, height / 2]"}},
e)]}function He(a){var b=a.component;if(Pf(a))if(a.hasProjection){var e=Kb(a.specifiedProjection);var f=!(e&&(null!=e.scale||null!=e.translate));const n=f?[a.getSizeSignalRef("width"),a.getSizeSignalRef("height")]:void 0;if(f){f=[];const {encoding:P}=a;for(g of[["longitude","latitude"],["longitude2","latitude2"]])(Sd(P[g[0]])||Sd(P[g[1]]))&&f.push({signal:a.getName(`geojson_${f.length}`)});a.channelHasField("shape")&&"geojson"===a.typedFieldDef("shape").type&&f.push({signal:a.getName(`geojson_${f.length}`)});
0===f.length&&f.push(a.requestDataName(Cf.Main));var g=f}else g=void 0;let C;a=new Hl(a.projectionName(!0),Object.assign({},null!=(C=Kb(a.config.projection))?C:{},null!=e?e:{}),n,g);a.get("type")||a.set("type","equalEarth",!1);e=a}else e=void 0;else e=Mf(a);b.projection=e}function ze(a,b){const e=jc(Pl,f=>!h.hasOwnProperty(a.explicit,f)&&!h.hasOwnProperty(b.explicit,f)||h.hasOwnProperty(a.explicit,f)&&h.hasOwnProperty(b.explicit,f)&&qa(a.get(f),b.get(f))?!0:!1);if(qa(a.size,b.size)){if(e)return a;
if(qa(a.explicit,{}))return b;if(qa(b.explicit,{}))return a}return null}function Mf(a){if(0!==a.children.length){var b;for(var e of a.children)He(e);e=jc(a.children,f=>{if(f=f.component.projection){if(b)return(f=ze(b,f))&&(b=f),!!f;b=f}return!0});if(b&&e){e=a.projectionName(!0);const f=new Hl(e,b.specifiedProjection,b.size,Ee(b.data));for(const g of a.children)if(a=g.component.projection)a.isFit&&f.data.push(...g.component.projection.data),g.renameProjection(a.get("name"),e),a.merged=!0;return f}}}
function Ch(a,b,e){let f;e=null!=(f=xe(e,void 0))?f:{};b=`${Xa(e)}_${b}`;return a.getName(`${b}_bins`)}function Yd(a,b,e){let f;f="as"in a?h.isString(a.as)?[a.as,`${a.as}_end`]:[a.as[0],a.as[1]]:[Rc(a,{forAs:!0}),Rc(a,{binSuffix:"end",forAs:!0})];b=Object.assign({},xe(b,void 0));var g=a.field;g=`${Xa(b)}_${g}`;var n={signal:e.getName(`${g}_bins`),extentSignal:e.getName(`${g}_extent`)};const {signal:C,extentSignal:P}=n;if(Sb(b.extent)){var ba=b.extent;ba=aj(e,ba.param,ba);delete b.extent}a=Object.assign({},
{bin:b,field:a.field,as:[f]},C?{signal:C}:{},P?{extentSignal:P}:{},ba?{span:ba}:{});return{key:g,binComponent:a}}function Id(a){return a.startsWith("'")&&a.endsWith("'")||a.startsWith('"')&&a.endsWith('"')?a.slice(1,-1):a}function ee(a,b){a=Va(a);if("number"===b)return`toNumber(${a})`;if("boolean"===b)return`toBoolean(${a})`;if("string"===b)return`toString(${a})`;if("date"===b)return`toDate(${a})`;if("flatten"===b)return a;if(b.startsWith("date:"))return b=Id(b.slice(5,b.length)),`timeParse(${a},'${b}')`;
if(b.startsWith("utc:"))return b=Id(b.slice(4,b.length)),`utcParse(${a},'${b}')`;I(`Unrecognized parse "${b}".`);return null}function Kd(a){const b={};ia(a.filter,e=>{if(eb(e)){let f=null;if(Ie(e))f=ra(e.equal);else if(uf(e))f=ra(e.lte);else if(Fe(e))f=ra(e.lt);else if(gf(e))f=ra(e.gt);else if(E(e))f=ra(e.gte);else if(ca(e))f=e.range[0];else if(Ga(e)){let g;f=(null!=(g=e.oneOf)?g:e["in"])[0]}f&&(Ja(f)?b[e.field]="date":h.isNumber(f)?b[e.field]="number":h.isString(f)&&(b[e.field]="string"));e.timeUnit&&
(b[e.field]="date")}});return b}function wf(a){function b(f){if(td(f))e[f.field]="date";else{var g;if(g="quantitative"===f.type)g=f.aggregate,g=h.isString(g)&&Ab(["min","max"],g);g?e[f.field]="number":1<$a(f.field)?f.field in e||(e[f.field]="flatten"):Zc(f)&&ne(f.sort)&&1<$a(f.sort.field)&&(f.sort.field in e||(e[f.sort.field]="flatten"))}}const e={};(Pf(a)||kh(a))&&a.forEachFieldDef((f,g)=>{yc(f)?b(f):(g=U(g),g=a.fieldDef(g),b(Object.assign({},f,{type:g.type})))});if(Pf(a)){const {mark:f,markDef:g,
encoding:n}=a;if(Qa(f)&&!a.encoding.order){const C=n["horizontal"===g.orient?"y":"x"];!xa(C)||"quantitative"!==C.type||C.field in e||(e[C.field]="number")}}return e}function Vf(a){return a instanceof R||a instanceof k||a instanceof u}function Bf(a){return a.stack.stackBy.reduce((b,e)=>{(e=Rc(e.fieldDef))&&b.push(e);return b},[])}function Of(a){return h.isArray(a)&&a.every(b=>h.isString(b))&&1<a.length}function Mg(a){function b(e){if(!(e instanceof Ai)){const f=e.clone();if(f instanceof Jg){const g=
"scale_"+f.getSource();f.setSource(g);a.model.component.data.outputNodes[g]=f}else(f instanceof ji||f instanceof ce||f instanceof qe||f instanceof Fd)&&f.addDimensions(a.fields);for(const g of e.children.flatMap(b))g.parent=f;return[f]}return e.children.flatMap(b)}return b}function sh(a){if(a instanceof Ai)if(1!==a.numChildren()||a.children[0]instanceof Jg){var b=a.model.component.data.main;dk(b);const e=Mg(a);a=a.children.map(e).flat();for(const f of a)f.parent=b}else b=a.children[0],(b instanceof
ji||b instanceof ce||b instanceof qe||b instanceof Fd)&&b.addDimensions(a.fields),b.swapWithParent(),sh(a);else a.children.map(sh)}function dk(a){if(a instanceof Jg&&a.type===Cf.Main&&1===a.numChildren()){const b=a.children[0];b instanceof Ai||(b.swapWithParent(),dk(a))}}function cj(a){for(const b of a){for(const e of b.children)if(e.parent!==b)return!1;if(!cj(b.children))return!1}return!0}function ch(a,b){let e=!1;for(const f of b)e=a.optimize(f)||e;return e}function Aj(a,b,e){let f=a.sources,g=
!1;g=ch(new wd,f)||g;g=ch(new yd(b),f)||g;f=f.filter(n=>0<n.numChildren());g=ch(new ke,f)||g;f=f.filter(n=>0<n.numChildren());e||(g=ch(new Vd,f)||g,g=ch(new uc(b),f)||g,g=ch(new Bd,f)||g,g=ch(new ge,f)||g,g=ch(new Gc,f)||g,g=ch(new cg,f)||g,g=ch(new Vc,f)||g,g=ch(new Qc,f)||g);a.sources=f;return g}function Bj(a){const b=a.component.scales;for(const ua of ud(b)){var e=a,f=ua,g=e.getScaleComponent(f).get("type"),{encoding:n}=e;var C=e.scaleDomain(f);var P=e.typedFieldDef(f),ba=e.config.scale;if("unaggregated"===
C){const {valid:ab,reason:ob}=hg(P,g);ab||(I(ob),C=void 0)}else void 0===C&&ba.useUnaggregatedDomain&&({valid:P}=hg(P,g),P&&(C="unaggregated"));C!==e.scaleDomain(f)&&(e.specifiedScales[f]=Object.assign({},e.specifiedScales[f],{domain:C}));e="x"===f&&Sd(n.x2)?Sd(n.x)?fh(vi(g,C,e,"x"),vi(g,C,e,"x2"),"domain","scale",Bk):vi(g,C,e,"x2"):"y"===f&&Sd(n.y2)?Sd(n.y)?fh(vi(g,C,e,"y"),vi(g,C,e,"y2"),"domain","scale",Bk):vi(g,C,e,"y2"):vi(g,C,e,f);b[ua].setWithExplicit("domains",e);C=f=void 0;g=a.component.scales[ua];
P=a.specifiedScales[ua].domain;n=null==(C=a.fieldDef(ua))?void 0:C.bin;C=(null==P?void 0:P.param)&&P;n=h.isObject(n)&&Sb(n.extent)&&n.extent;(C||n)&&g.set("selectionExtent",null!=(f=C)?f:n,!0);if(a.component.data.isFaceted){for(f=a;!kh(f)&&f.parent;)f=f.parent;if("shared"===f.component.resolve.scale[ua])for(const ab of e.value)xc(ab)&&(ab.data="scale_"+ab.data.replace("scale_",""))}}}function Tj(a){for(var b of a.children){var e=b;Pf(e)?Bj(e):Tj(e)}e=a.component.scales;for(const g of ud(e)){let n;
b=null;for(const C of a.children){var f=C.component.scales[g];f&&(n=void 0===n?f.getWithExplicit("domains"):fh(n,f.getWithExplicit("domains"),"domains","scale",Bk),f=f.get("selectionExtent"),b&&f&&b.param!==f.param&&I("The same selection must be used to override scale domains in a layered view."),b=f)}e[g].setWithExplicit("domains",n);b&&e[g].set("selectionExtent",b,!0)}}function Nl(a,b,e){return a.map(f=>({signal:`{data: ${Me(f,{timeUnit:e,type:b})}}`}))}function hk(a,b,e){let f;e=null==(f=kd(e))?
void 0:f.unit;return"temporal"===b||e?Nl(a,b,e):[a]}function vi(a,b,e,f){const {encoding:g,markDef:n,mark:C,config:P,stack:ba}=e;var ua=Sd(g[f]),{type:ab}=ua;const ob=ua.timeUnit;if(null==b?0:b.unionWith)return f=vi(a,void 0,e,f),ua=hk(b.unionWith,ab,ob),Ig([...ua,...f.value]);if(Mb(b))return Ig([b]);if(b&&"unaggregated"!==b&&(null==b||!b.param))return Ig(hk(b,ab,ob));if(ba&&f===ba.fieldChannel){if("normalize"===ba.offset)return mg([[0,1]]);ua=e.requestDataName(Cf.Main);return mg([{data:ua,field:e.vgField(f,
{suffix:"start"})},{data:ua,field:e.vgField(f,{suffix:"end"})}])}const hc=Nh[f]&&xa(ua)?em(e,f,a):void 0;if(Ib(ua))return f=hk([ua.datum],ab,ob),mg(f);if("unaggregated"===b)return f=e.requestDataName(Cf.Main),{field:ua}=ua,mg([{data:f,field:Rc({field:ua,aggregate:"min"})},{data:f,field:Rc({field:ua,aggregate:"max"})}]);if(sb(ua.bin)){if(Md(a))return"bin-ordinal"===a?mg([]):mg([{data:fc(hc)?e.requestDataName(Cf.Main):e.requestDataName(Cf.Raw),field:e.vgField(f,Se(ua,f)?{binSuffix:"range"}:{}),sort:!0!==
hc&&h.isObject(hc)?hc:{field:e.vgField(f,{}),op:"min"}}]);({bin:b}=ua);if(sb(b)){const Pc=Ch(e,ua.field,b);return mg([new Zd(()=>{const lc=e.getSignalName(Pc);return`[${lc}.start, ${lc}.stop]`})])}return mg([{data:e.requestDataName(Cf.Main),field:e.vgField(f,{})}])}return ua.timeUnit&&Ab(["time","utc"],a)&&(ab=g[X(f)],p(ua,ab,n,P))?(b=e.requestDataName(Cf.Main),ua=y({fieldDef:ua,fieldDef2:ab,markDef:n,config:P}),ua=bc(C)&&.5!==ua&&F(f),mg([{data:b,field:e.vgField(f,ua?{suffix:"offsetted_rect_start"}:
{})},{data:b,field:e.vgField(f,{suffix:ua?"offsetted_rect_end":"end"})}])):hc?mg([{data:fc(hc)?e.requestDataName(Cf.Main):e.requestDataName(Cf.Raw),field:e.vgField(f),sort:hc}]):mg([{data:e.requestDataName(Cf.Main),field:e.vgField(f)}])}function Yk(a,b){const {op:e,field:f,order:g}=a;return Object.assign({},{op:null!=e?e:b?"sum":"min"},f?{field:Za(f)}:{},g?{order:g}:{})}function em(a,b,e){if(Md(e)){var f=a.fieldDef(b);e=f.sort;if(fe(e))return{op:"min",field:Yh(f,b),order:"ascending"};({stack:f}=a);
var g=f?new Set([...f.groupbyFields,...f.stackBy.map(n=>n.fieldDef.field)]):void 0;if(ne(e))return a=f&&!g.has(e.field),Yk(e,a);if(null!=e&&e.encoding){const {encoding:n,order:C}=e;a=a.fieldDef(n);const {aggregate:P,field:ba}=a;b=f&&!g.has(ba);if(ja(P)||va(P))return Yk({field:Rc(a),order:C},b);if(Ma(P)||!P)return Yk({op:P,field:ba,order:C},b)}else{if("descending"===e)return{op:"min",field:a.vgField(b),order:"descending"};if(Ab(["ascending",void 0],e))return!0}}}function hg(a,b){const {aggregate:e,
type:f}=a;return e?h.isString(e)&&!Vk.has(e)?{valid:!1,reason:`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}:"quantitative"===f&&"log"===b?{valid:!1,reason:`Unaggregated domain is currently unsupported for log scale (${l(a)}).`}:{valid:!0}:{valid:!1,reason:`Using unaggregated domain with raw field has no effect (${l(a)}).`}}function Bk(a,b,e,f){if(a.explicit&&b.explicit){var g=b.value;e=`Conflicting ${f.toString()} property "${e.toString()}" (${l(a.value)} and ${l(g)}). Using the union of the two domains.`;
I(e)}return{explicit:a.explicit,value:[...a.value,...b.value]}}function Ck(a){var b=bb(a.map(g=>xc(g)?(g=Object.assign({},g),delete g.sort,g):g),Wb),e=bb(a.map(g=>{if(xc(g))return g=g.sort,void 0===g||fc(g)||("op"in g&&"count"===g.op&&delete g.field,"ascending"===g.order&&delete g.order),g}).filter(g=>void 0!==g),Wb);if(0!==b.length){if(1===b.length){b=a[0];if(xc(b)&&0<e.length){var f=e[0];1<e.length?(I("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),f=
e.filter(g=>h.isObject(g)&&"op"in g&&"min"!==g.op),f=e.every(g=>h.isObject(g)&&"op"in g)&&1===f.length?f[0]:!0):h.isObject(f)&&"field"in f&&b.field===f.field&&(f=f.order?{order:f.order}:!0);return Object.assign({},b,{sort:f})}return b}e=bb(e.map(g=>{if(fc(g)||!("op"in g)||h.isString(g.op)&&g.op in Wl)return g;I(`Dropping sort property ${l(g)} as unioned domains only support boolean or op "count", "min", and "max".`);return!0}),Wb);1===e.length?f=e[0]:1<e.length&&(I("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),
f=!0);e=bb(a.map(g=>xc(g)?g.data:null),g=>g);return 1===e.length&&null!==e[0]?Object.assign({},{data:e[0],fields:b.map(g=>g.field)},f?{sort:f}:{}):Object.assign({},{fields:b},f?{sort:f}:{})}}function Yj(a){if(xc(a)&&h.isString(a.field))return a.field;var b=h.isArray(a)?!1:"fields"in a&&!("data"in a);if(b){let e;for(const f of a.fields)if(xc(f)&&h.isString(f.field))if(!e)e=f.field;else if(e!==f.field)return I("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),
e;I("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");return e}b=h.isArray(a)?!1:"fields"in a&&"data"in a;if(b)return I("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),
a=a.fields[0],h.isString(a)?a:void 0}function Si(a,b){b=a.component.scales[b].get("domains").map(e=>{xc(e)&&(e.data=a.lookupDataSource(e.data));return e});return Ck(b)}function nl(a){return Ri(a)||Ok(a)?a.children.reduce((b,e)=>b.concat(nl(e)),Dk(a)):Dk(a)}function Dk(a){return ud(a.component.scales).reduce((b,e)=>{var f=a.component.scales[e];if(f.merged)return b;var g=f.combine(),n=Object.assign({},g);const C=g.name,P=g.type;var ba=g.selectionExtent;const ua=g.reverse;n=(delete n.name,delete n.type,
delete n.selectionExtent,delete n.domains,delete n.range,delete n.reverse,n);g=g.range;F(e)?Ob(g)&&(g={step:{signal:`${C}_step`}}):h.isObject(g)&&xc(g)&&(g=Object.assign({},g,{data:a.lookupDataSource(g.data)}));e=Si(a,e);ba?(ba=aj(a,ba.param,ba),f={signal:Ld(f.get("type"))&&h.isArray(e)&&e[0]>e[1]?`isValid(${ba}) && reverse(${ba})`:ba}):f=null;b.push(Object.assign({},{name:C,type:P},e?{domain:e}:{},f?{domainRaw:f}:{},{range:g},void 0!==ua?{reverse:ua}:{},n));return b},[])}function Cj(a,b){var e=a.fieldDef(b);
if(null==e?0:e.bin){const {bin:f,field:g}=e;e=G(b);const n=a.getName(e);if(h.isObject(f)&&f.binned&&void 0!==f.step)return new Zd(()=>{var C=a.scaleName(b);C=`(domain("${C}")[1] - domain("${C}")[0]) / ${f.step}`;return`${a.getSignalName(n)} / (${C})`});if(sb(f)){const C=Ch(a,g,f);return new Zd(()=>{var P=a.getSignalName(C);P=`(${P}.stop - ${P}.start) / ${P}.step`;return`${a.getSignalName(n)} / (${P})`})}}}function $h(a,b){const e=b.specifiedScales[a];var {size:f}=b,g=b.getScaleComponent(a).get("type");
for(var n of Eg)if(void 0!==e[n]){const ba=Ad(g,n),ua=Wd(a,n);if(ba)if(ua)I(ua);else switch(n){case "range":g=e.range;if(h.isArray(g)){if(F(a))return Ig(g.map(ab=>{if("width"===ab||"height"===ab){ab=b.getName(ab);const ob=b.getSignalName.bind(b);return Zd.fromName(ob,ab)}return ab}))}else if(h.isObject(g))return Ig({data:b.requestDataName(Cf.Main),field:g.field,sort:{op:"min",field:b.vgField(a)}});return Ig(g);case "scheme":return Ig(Oh(e[n]))}else I(Hd(g,n,a))}n="x"===a||"xOffset"===a?"width":"height";
f=f[n];if(De(f))if(F(a))if(Md(g)){if(f=Dj(f,b,a))return Ig({step:f})}else I(vd(n));else if(a in Ui&&"band"===b.getScaleComponent("xOffset"===a?"x":"y").get("type")&&(f=Nj(f,g)))return Ig(f);const {rangeMin:C,rangeMax:P}=e;a=Ol(a,b);return(void 0!==C||void 0!==P)&&Ad(g,"rangeMin")&&h.isArray(a)&&2===a.length?Ig([null!=C?C:a[0],null!=P?P:a[1]]):mg(a)}function Oh(a){return!h.isString(a)&&a.name?Object.assign({},{scheme:a.name},dc(a,["name"])):{scheme:a}}function il(a,b,e){let {center:f}=3<arguments.length&&
void 0!==arguments[3]?arguments[3]:{};var g=G(a);g=b.getName(g);const n=b.getSignalName.bind(b);return"y"===a&&Ld(e)?f?[Zd.fromName(C=>`${n(C)}/2`,g),Zd.fromName(C=>`-${n(C)}/2`,g)]:[Zd.fromName(n,g),0]:f?[Zd.fromName(C=>`-${n(C)}/2`,g),Zd.fromName(C=>`${n(C)}/2`,g)]:[0,Zd.fromName(n,g)]}function Ol(a,b){const {size:e,config:f,mark:g,encoding:n}=b;var {type:C}=Sd(n[a]);const P=b.getScaleComponent(a).get("type"),{domain:ba,domainMid:ua}=b.specifiedScales[a];switch(a){case "x":case "y":return Ab(["point",
"band"],P)&&(C=Uj(a,e,f.view),De(C))?{step:Dj(C,b,a)}:il(a,b,P);case "xOffset":case "yOffset":return xf(a,b,P);case "size":C=b.component.scales[a].get("zero");C=li(g,C,f);const ab=Ci(g,e,b,f);return ci.has(P)?Bi(C,ab,Vj(P,f,ba,a)):[C,ab];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,new Zd(()=>{const ob=b.getSignalName("width"),hc=b.getSignalName("height");return`min(${ob},${hc})/2`})];case "strokeWidth":return[f.scale.minStrokeWidth,f.scale.maxStrokeWidth];case "strokeDash":return[[1,
0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===P?"nominal"===C?"category":"ordinal":void 0!==ua?"diverging":"rect"===g||"geoshape"===g?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[f.scale.minOpacity,f.scale.maxOpacity]}}function Dj(a,b,e){var {encoding:f}=b,g=b.getScaleComponent(e);e=z(e);const n=f[e];if("offset"===sf({step:a,offsetIsDiscrete:vc(n)&&Oc(n.type)})&&Rf(f,e)){f=b.getScaleComponent(e);
b=`domain('${b.scaleName(e)}').length`;if("band"===f.get("type")){var C;let ua;e=null!=(ua=null!=(C=f.get("paddingInner"))?C:f.get("padding"))?ua:0;var P;let ab;C=null!=(ab=null!=(P=f.get("paddingOuter"))?P:f.get("padding"))?ab:0;b=`bandspace(${b}, ${e}, ${C})`}var ba;P=null!=(ba=g.get("paddingInner"))?ba:g.get("padding");a=a.step;g=b;ba=P;ba=Mb(ba)?ba.signal:h.stringValue(ba);return{signal:`${a} * ${g} / (1-${ba})`}}return a.step}function Nj(a,b){if("offset"===sf({step:a,offsetIsDiscrete:Md(b)}))return{step:a.step}}
function xf(a,b,e){var f="xOffset"===a?"x":"y",g=b.getScaleComponent(f);if(!g)return il(f,b,e,{center:!0});g=g.get("type");const n=b.scaleName(f),{markDef:C,config:P}=b;if("band"===g)return b=Uj(f,b.size,b.config.view),De(b)&&(b=Nj(b,e))?b:[0,{signal:`bandwidth('${n}')`}];e=b.encoding[f];return xa(e)&&e.timeUnit?(a=he(e.timeUnit,ba=>`scale('${n}', ${ba})`),b=b.config.scale.bandWithNestedOffsetPaddingInner,f=y({fieldDef:e,markDef:C,config:P})-.5,g=0!==f?` + ${f}`:"",b?(e=Mb(b)?`${b.signal}/2`+g:`${b/
2+f}`,b=Mb(b)?`(1 - ${b.signal}/2)`+g:`${1-b/2+f}`,[{signal:`${e} * (${a})`},{signal:`${b} * (${a})`}]):[0,{signal:a}]):ub(`Cannot use ${a} scale if ${f} scale is not discrete.`)}function Uj(a,b,e){a="x"===a?"width":"height";return(b=b[a])?b:Hf(e,a)}function Vj(a,b,e,f){switch(a){case "quantile":return b.scale.quantileCount;case "quantize":return b.scale.quantizeCount;case "threshold":if(void 0!==e&&h.isArray(e))return e.length+1;I(`Domain for ${f} is required for threshold scale.`);return 3}}function Bi(a,
b,e){const f=()=>{const g=Fb(b),n=Fb(a),C=`(${g} - ${n}) / (${e} - 1)`;return`sequence(${n}, ${g} + ${C}, ${C})`};return Mb(b)?new Zd(f):{signal:f()}}function li(a,b,e){if(b)return Mb(b)?{signal:`${b.signal} ? 0 : ${li(a,!1,e)}`}:0;switch(a){case "bar":case "tick":return e.scale.minBandSize;case "line":case "trail":case "rule":return e.scale.minStrokeWidth;case "text":return e.scale.minFontSize;case "point":case "square":case "circle":return e.scale.minSize}throw Error(ed("size",a));}function Ci(a,
b,e,f){e={x:Cj(e,"x"),y:Cj(e,"y")};switch(a){case "bar":case "tick":if(void 0!==f.scale.maxBandSize)return f.scale.maxBandSize;const g=ej(b,e,f.view);return h.isNumber(g)?g-1:new Zd(()=>`${g.signal} - 1`);case "line":case "trail":case "rule":return f.scale.maxStrokeWidth;case "text":return f.scale.maxFontSize;case "point":case "square":case "circle":if(f.scale.maxSize)return f.scale.maxSize;const n=ej(b,e,f.view);return h.isNumber(n)?Math.pow(.95*n,2):new Zd(()=>`pow(${.95} * ${n.signal}, 2)`)}throw Error(ed("size",
a));}function ej(a,b,e){const f=De(a.width)?a.width.step:vf(e,"width"),g=De(a.height)?a.height.step:vf(e,"height");return b.x||b.y?new Zd(()=>`min(${[b.x?b.x.signal:f,b.y?b.y.signal:g].join(", ")})`):Math.min(f,g)}function fj(a,b){if(Pf(a)){const C=a.component.scales,{config:P,encoding:ba,markDef:ua,specifiedScales:ab}=a;for(const ob of ud(C)){var e=ab[ob];const hc=C[ob];var f=a.getScaleComponent(ob),g=Sd(ba[ob]),n=e[b];const Pc=f.get("type"),lc=f.get("padding");f=f.get("paddingInner");const Lc=Ad(Pc,
b),dd=Wd(ob,b);void 0!==n&&(Lc?dd&&I(dd):I(Hd(Pc,b,ob)));if(Lc&&void 0===dd)if(void 0!==n)switch(n=g.timeUnit,g=g.type,b){case "domainMax":case "domainMin":Ja(e[b])||"temporal"===g||n?hc.set(b,{signal:Me(e[b],{type:g,timeUnit:n})},!0):hc.set(b,e[b],!0);break;default:hc.copyKeyFromObject(b,e)}else e=b in mf?mf[b]({model:a,channel:ob,fieldOrDatumDef:g,scaleType:Pc,scalePadding:lc,scalePaddingInner:f,domain:e.domain,domainMin:e.domainMin,domainMax:e.domainMax,markDef:ua,config:P,hasNestedOffsetScale:qf(ba,
ob),hasSecondaryRangeChannel:!!ba[X(ob)]}):P.scale[b],void 0!==e&&hc.set(b,e,!1)}}else ll(a,b)}function mi(a){if(Pf(a)){const b=a.component.scales;for(const e of xk){const f=b[e];if(!f)continue;const g=$h(e,a);f.setWithExplicit("range",g)}}else ll(a,"range")}function ll(a,b){const e=a.component.scales;for(var f of a.children)"range"===b?mi(f):fj(f,b);for(const g of ud(e)){let n;for(const C of a.children)if(f=C.component.scales[g])f=f.getWithExplicit(b),n=fh(n,f,b,"scale",zh((P,ba)=>{switch(b){case "range":if(P.step&&
ba.step)return P.step-ba.step}return 0}));e[g].setWithExplicit(b,n)}}function gj(a,b){const e=b.bin;if(sb(e)){const f=Ch(a,b.field,e);return new Zd(()=>a.getSignalName(f))}if(ib(e)&&h.isObject(e)&&void 0!==e.step)return{step:e.step}}function Wj(a,b,e,f,g){let n=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===a){if(F(b)){const {bandPaddingInner:C,barBandPaddingInner:P,rectBandPaddingInner:ba,bandWithNestedOffsetPaddingInner:ua}=g;return n?ua:V(C,"bar"===e?P:ba)}if(b in Ui&&f===
jg.BAND)return g.offsetBandPaddingInner}}function Xj(a,b,e,f,g){let n=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===a)if(F(b)){const {bandPaddingOuter:C,bandWithNestedOffsetPaddingOuter:P}=g;if(n)return P;if(e===jg.BAND)return V(C,Mb(f)?{signal:`${f.signal}/2`}:f/2)}else if(b in Ui){if(e===jg.POINT)return.5;if(e===jg.BAND)return g.offsetBandPaddingOuter}}function Di(a,b,e,f){const g=Ek(b,e,f,4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1),{type:n}=a;if(!Nh[b])return null;
if(void 0!==n){if(!Ca(b,n))return I(`Channel "${b}" does not work with "${n}" scale. We are using "${g}" scale instead.`),g;var C;if(C=xa(e))C=e.type,C=!(Ab(["ordinal","nominal"],C)?void 0===n||Md(n):"temporal"===C?Ab([jg.TIME,jg.UTC,void 0],n):"quantitative"===C?oi.has(n)||ci.has(n)||void 0===n:1);return C?(I(`FieldDef does not work with "${n}" scale. We are using "${g}" scale instead.`),g):n}return g}function Ek(a,b,e,f){switch(b.type){case "nominal":case "ordinal":if(K(a)||"discrete"===O(a))return"shape"===
a&&"ordinal"===b.type&&I(Jd(a,"ordinal")),"ordinal";if(F(a)||a in Ui){if(Ab(["rect","bar","image","rule"],e.type)||f)return"band"}else if("arc"===e.type&&a in ek)return"band";a=e[G(a)];if(sc(a))return"band";let g;return Yc(b)&&(null==(g=b.axis)?0:g.tickBand)?"band":"point";case "temporal":if(!K(a)){if("discrete"===O(a))return I(Jd(a,"temporal")),"ordinal";if(xa(b)&&b.timeUnit&&kd(b.timeUnit).utc)return"utc"}return"time";case "quantitative":if(K(a)){if(xa(b)&&sb(b.bin))return"bin-ordinal"}else if("discrete"===
O(a))return I(Jd(a,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error(`Invalid field type "${b.type}".`);}function Zj(a){let {ignoreRange:b}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};dj(a);Pf(a)?Bj(a):Tj(a);for(const e of ik)fj(a,e);b||mi(a)}function dj(a){if(Pf(a)){var b=a.component;const {encoding:ba,mark:ua,markDef:ab}=a;var e={};for(var f of xk){var g=Sd(ba[f]);if(!g||ua!==Gi||"shape"!==f||"geojson"!==g.type){var n=g&&g.scale;if(g&&null!==n&&!1!==n){null!=
n||(n={});var C=qf(ba,f);g=Di(n,f,g,ab,C);e[f]=new Ce(a.scaleName(`${f}`,!0),{value:g,explicit:n.type===g})}}}b.scales=e}else{f=a.component;n=a.component.scales={};g={};const ba=a.component.resolve;for(C of a.children){dj(C);for(var P of ud(C.component.scales)){let ua,ab;null!=(ua=ba.scale)[ab=P]||(ua[ab]=ad(P,a));if("shared"===ba.scale[P]){const ob=g[P],hc=C.component.scales[P].getWithExplicit("type");if(ob){const Pc=Dg[ob.value],lc=Dg[hc.value];Pc===lc||"ordinal-position"===Pc&&"time"===lc||"ordinal-position"===
lc&&"time"===Pc?g[P]=fh(ob,hc,"type","scale",Ii):(ba.scale[P]="independent",delete g[P])}else g[P]=hc}}}for(b of ud(g)){C=a.scaleName(b,!0);n[b]=new Ce(C,g[b]);for(e of a.children)if(P=e.component.scales[b])e.renameScale(P.get("name"),C),P.merged=!0}f.scales=n}}function Pf(a){return"unit"===(null==a?void 0:a.type)}function kh(a){return"facet"===(null==a?void 0:a.type)}function Ok(a){return"concat"===(null==a?void 0:a.type)}function Ri(a){return"layer"===(null==a?void 0:a.type)}function uk(a){function b(f,
g){f instanceof R&&!(f.isGenerator||"url"in f.data)&&(a.push(g),g={name:null,source:g.name,transform:[]});if(f instanceof c)if(f.parent instanceof R&&!g.source){var n;g.format=Object.assign({},null!=(n=g.format)?n:{},{parse:f.assembleFormatParse()});g.transform.push(...f.assembleTransforms(!0))}else g.transform.push(...f.assembleTransforms());if(f instanceof Ai)g.name||(g.name=`data_${e++}`),!g.source||0<g.transform.length?(a.push(g),f.data=g.name):f.data=g.source,a.push(...f.assemble());else switch((f instanceof
k||f instanceof u||f instanceof Il||f instanceof Oi||f instanceof $i||f instanceof Jl||f instanceof ji||f instanceof Kl||f instanceof qe||f instanceof Fd||f instanceof nm||f instanceof om||f instanceof pm||f instanceof qm||f instanceof rm||f instanceof sm||f instanceof d||f instanceof tm||f instanceof um||f instanceof vm)&&g.transform.push(f.assemble()),(f instanceof Ah||f instanceof Wh||f instanceof Ak||f instanceof ce||f instanceof hl)&&g.transform.push(...f.assemble()),f instanceof Jg&&(g.source&&
0===g.transform.length?f.setSource(g.source):f.parent instanceof Jg?f.setSource(g.name):(g.name||(g.name=`data_${e++}`),f.setSource(g.name),1===f.numChildren()&&(a.push(g),g={name:null,source:g.name,transform:[]}))),f.numChildren()){case 0:f instanceof Jg&&(!g.source||0<g.transform.length)&&a.push(g);break;case 1:b(f.children[0],g);break;default:g.name||(g.name=`data_${e++}`);n=g.name;!g.source||0<g.transform.length?a.push(g):n=g.source;for(const C of f.children)b(C,{name:null,source:n,transform:[]})}}
let e=0;return b}function Rj(a){const b=[],e=uk(b);for(const f of a.children)e(f,{source:a.name,name:null,transform:[]});return b}function vk(a,b){const e=[];var f=uk(e);let g=0;for(const n of a.sources){n.hasName()||(n.dataName=`source_${g++}`);const C=n.assemble();f(n,C)}for(const n of e)0===n.transform.length&&delete n.transform;f=0;for(const n of e.entries()){const [C,P]=n;let ba;0!==(null!=(ba=P.transform)?ba:[]).length||P.source||e.splice(f++,0,e.splice(C,1)[0])}for(const n of e){let C;for(const P of null!=
(C=n.transform)?C:[])"lookup"===P.type&&(P.from=a.outputNodes[P.from].getSource())}for(const n of e)n.name in b&&(n.values=b[n.name]);return e}function Lk(a,b,e){b="row"===b?"height":"width";return{labels:e,sizeSignal:a.child.component.layoutSize.get(b)?a.child.getSizeSignalRef(b):void 0,axes:[]}}function Cl(a,b){var {child:e}=a;if(e.component.axes[b]){const {layoutHeaders:f,resolve:g}=a.component;g.axis[b]=od(g,b);if("shared"===g.axis[b]){const n="x"===b?"column":"row",C=f[n];for(const P of e.component.axes[b]){b=
P.get("orient");b="top"===b||"left"===b||Mb(b)?"header":"footer";let ba,ua;null!=(ba=C)[ua=b]||(ba[ua]=[Lk(a,n,!1)]);(e=jh(P,"main",a.config,{header:!0}))&&C[b][0].axes.push(e);P.mainExtracted=!0}}}}function Mk(a){for(const b of a.children)b.parseLayoutSize()}function wk(a,b){const e=Jb(b),f=W(e),g=a.component.resolve,n=a.component.layoutSize;let C;for(const P of a.children){const ba=P.component.layoutSize.getWithExplicit(e);let ua;const ab=null!=(ua=g.scale[f])?ua:ad(f,a);if("independent"===ab&&
"step"===ba.value){C=void 0;break}if(C){if("independent"===ab&&C.value!==ba.value){C=void 0;break}C=fh(C,ba,e,"")}else C=ba}if(C){for(const P of a.children)a.renameSignal(P.getName(e),a.getName(b)),P.component.layoutSize.set(e,"merged",!1);n.setWithExplicit(b,C)}else n.setWithExplicit(b,{explicit:!1,value:void 0})}function Kk(a,b){const e=a.config;var f=a.getScaleComponent("width"===b?"x":"y");if(f)return a=f.get("type"),f=f.get("range"),Md(a)?(b=Hf(e.view,b),Ob(f)||De(b)?"step":b):Tf(e.view,b);if(a.hasProjection||
"arc"===a.mark)return Tf(e.view,b);b=Hf(e.view,b);return De(b)?b.step:b}function bl(a,b,e){return Rc(b,Object.assign({},{suffix:`by_${Rc(a)}`},null!=e?e:{}))}function pl(a,b){for(const f of b){b=f.data;if(a.name&&f.hasName()&&a.name!==f.dataName)continue;let g;const n=null==(g=a.format)?void 0:g.mesh;let C;var e=null==(C=b.format)?void 0:C.feature;if(n&&e)continue;let P;const ba=null==(P=a.format)?void 0:P.feature;if((ba||e)&&ba!==e)continue;let ua;e=null==(ua=b.format)?void 0:ua.mesh;if(!n&&!e||
n===e)if("values"in a&&"values"in b){if(qa(a.values,b.values))return f}else if("url"in a&&"url"in b){if(a.url===b.url)return f}else if(Kf(a)&&a.name===f.dataName)return f}return null}function fm(a,b){if(a.data||!a.parent){if(null===a.data)return a=new R({values:[]}),b.push(a),a;const e=pl(a.data,b);if(e)return ng(a.data)||(e.data.format=Ea({},a.data.format,e.data.format)),!e.hasName()&&a.data.name&&(e.dataName=a.data.name),e;a=new R(a.data);b.push(a);return a}return a.parent.component.data.facetRoot?
a.parent.component.data.facetRoot:a.parent.component.data.main}function fk(a){var b=fm(a,a.component.data.sources);const {outputNodes:e,outputNodeRefCounts:f}=a.component.data;var g=a.data;const n=g&&(ng(g)||"url"in g||"values"in g)||!a.parent?new Cg:a.parent.component.data.ancestorParse.clone();if(ng(g))"sequence"in g?b=new u(b,g.sequence):"graticule"in g&&(b=new k(b,g.graticule)),n.parseNothing=!0;else{let de;null===(null==g?void 0:null==(de=g.format)?void 0:de.parse)&&(n.parseNothing=!0)}var C;
b=null!=(C=c.makeExplicit(b,a,n))?C:b;b=new d(b);g=a.parent&&Ri(a.parent);if((Pf(a)||kh(a))&&g){var P;b=null!=(P=Ah.makeFromEncoding(b,a))?P:b}if(0<a.transforms.length){P=0;for(var ba of a.transforms){var ua=C=void 0;if("calculate"in ba)ua=b=new $i(b,ba),C="derived";else if("filter"in ba){ua=Kd(ba);var ab=void 0;ua=b=null!=(ab=c.makeWithAncestors(b,{},ua,n))?ab:b;b=new Oi(b,a,ba.filter)}else if("bin"in ba)ua=b=Ah.makeFromTransform(b,ba,a),C="number";else if("timeUnit"in ba)C="date",void 0===n.getWithExplicit(ba.field).value&&
(b=new c(b,{[ba.field]:C}),n.set(ba.field,C,!1)),ua=b=Wh.makeFromTransform(b,ba);else if("aggregate"in ba)ua=b=ji.makeFromTransform(b,ba),C="number",qg(a)&&(b=new d(b));else if("lookup"in ba)ua=b=Kl.make(b,a,ba,P++),C="derived";else if("window"in ba)ua=b=new qe(b,ba),C="number";else if("joinaggregate"in ba)ua=b=new Fd(b,ba),C="number";else if("stack"in ba)ua=b=ce.makeFromTransform(b,ba),C="derived";else if("fold"in ba)ua=b=new nm(b,ba),C="derived";else if("extent"in ba&&!("density"in ba))ua=b=new vm(b,
ba),C="derived";else if("flatten"in ba)ua=b=new om(b,ba),C="derived";else if("pivot"in ba)ua=b=new um(b,ba),C="derived";else if("sample"in ba)b=new tm(b,ba);else if("impute"in ba)ua=b=Ak.makeFromTransform(b,ba),C="derived";else if("density"in ba)ua=b=new pm(b,ba),C="derived";else if("quantile"in ba)ua=b=new rm(b,ba),C="derived";else if("regression"in ba)ua=b=new sm(b,ba),C="derived";else if("loess"in ba)ua=b=new qm(b,ba),C="derived";else{I(`Ignoring an invalid transform: ${l(ba)}.`);continue}if(ua&&
void 0!==C){let de;for(const Be of null!=(de=ua.producedFields())?de:[])n.set(Be,C,!1)}}}ba={};if(Pf(a)&&a.component.selection)for(var ob of ud(a.component.selection)){ab=a.component.selection[ob];for(const de of ab.project.items)!de.channel&&1<$a(de.field)&&(ba[de.field]="flatten")}ob=wf(a);var hc;b=null!=(hc=c.makeWithAncestors(b,{},Object.assign({},ba,ob),n))?hc:b;Pf(a)&&(b=hl.parseAll(b,a),b=Jl.parseAll(b,a));if(Pf(a)||kh(a)){if(!g){let de;b=null!=(de=Ah.makeFromEncoding(b,a))?de:b}var Pc;b=null!=
(Pc=Wh.makeFromEncoding(b,a))?Pc:b;b=$i.parseAllForSortIndex(b,a)}Pc=a.getDataName(Cf.Raw);hc=new Jg(b,Pc,Cf.Raw,f);b=e[Pc]=hc;if(Pf(a)){if(Pc=ji.makeFromEncoding(b,a))b=Pc,qg(a)&&(b=new d(b));var lc;b=null!=(lc=Ak.makeFromEncoding(b,a))?lc:b;var Lc;b=null!=(Lc=ce.makeFromEncoding(b,a))?Lc:b}if(Pf(a)){let de;b=null!=(de=Il.make(b,a))?de:b}Lc=a.getDataName(Cf.Main);lc=new Jg(b,Lc,Cf.Main,f);b=e[Lc]=lc;if(Pf(a)){var dd;for(var gd of Fi(null!=(dd=a.component.selection)?dd:{})){const [de,Be]=gd;dd=a.getName(`lookup_${de}`);
a.component.data.outputNodes[dd]=Be.materialized=new Jg(new Oi(lc,a,{param:de}),dd,Cf.Lookup,a.component.data.outputNodeRefCounts)}}dd=null;if(kh(a)){gd=a.getName("facet");let de;{dd=b;const {row:Be,column:Qe}=a.facet;if(Be&&Qe){Lc=null;for(je of[Be,Qe])if(ne(je.sort)){const {field:Lf,op:$f="min"}=je.sort;dd=Lc=new Fd(dd,{joinaggregate:[{op:$f,field:Lf,as:bl(je,je.sort,{forAs:!0})}],groupby:[Rc(je)]})}var je=Lc}else je=null}b=null!=(de=je)?de:b;dd=new Ai(b,a,gd,lc.getSource());e[gd]=dd}return Object.assign({},
a.component.data,{outputNodes:e,outputNodeRefCounts:f,raw:hc,main:lc,facetRoot:dd,ancestorParse:n})}function gm(a,b,e){const {encoding:f,config:g}=a;let n;const C=null!=(n=Sd(f[b]))?n:Sd(f[X(b)]);a=a.axis(b)||{};const {format:P,formatType:ba}=a;if(me(ba))return Object.assign({},{text:Je({fieldOrDatumDef:C,field:"datum.value",format:P,formatType:ba,config:g})},e);if(void 0===P&&void 0===ba&&g.customFormatTypes){if("quantitative"===Cb(C)){if(Yc(C)&&"normalize"===C.stack&&g.normalizedNumberFormatType)return Object.assign({},
{text:Je({fieldOrDatumDef:C,field:"datum.value",format:g.normalizedNumberFormat,formatType:g.normalizedNumberFormatType,config:g})},e);if(g.numberFormatType)return Object.assign({},{text:Je({fieldOrDatumDef:C,field:"datum.value",format:g.numberFormat,formatType:g.numberFormatType,config:g})},e)}if("temporal"===Cb(C)&&g.timeFormatType&&xa(C)&&!C.timeUnit)return Object.assign({},{text:Je({fieldOrDatumDef:C,field:"datum.value",format:g.timeFormat,formatType:g.timeFormatType,config:g})},e)}return e}function rl(a){return Qh.reduce((b,
e)=>{a.component.scales[e]&&(b[e]=[jm(e,a)]);return b},{})}function hm(a,b){if(a){if(a.length!==b.length)return;const e=a.length;for(let f=0;f<e;f++){const g=a[f],n=b[f];if(!!g!==!!n)return;if(g&&n){const C=g.getWithExplicit("orient"),P=n.getWithExplicit("orient");if(C.explicit&&P.explicit&&C.value!==P.value)return;a[f]=im(g,n)}}}else return b.map(e=>e.clone());return a}function im(a,b){for(const e of Am){const f=fh(a.getWithExplicit(e),b.getWithExplicit(e),e,"axis",(g,n)=>{switch(e){case "title":return fb(g,
n);case "gridScale":return{explicit:g.explicit,value:V(g.value,n.value)}}return Hh(g,n,e,"axis")});a.setWithExplicit(e,f)}return a}function Ql(a,b,e,f,g){if("disable"===b)return void 0!==e;e=e||{};switch(b){case "titleAngle":case "labelAngle":return a===(Mb(e.labelAngle)?e.labelAngle:Na(e.labelAngle));case "values":return!!e.values;case "encode":return!!e.encoding||!!e.labelAngle;case "title":if(a===bj(f,g))return!0}return a===e[b]}function jm(a,b){let e=b.axis(a);const f=new Bm;var g=Sd(b.encoding[a]);
const {mark:n,config:C}=b;var P,ba,ua,ab=(null==(P=e)?void 0:P.orient)||(null==(ba=C["x"===a?"axisX":"axisY"])?void 0:ba.orient)||(null==(ua=C.axis)?void 0:ua.orient)||("x"===a?"bottom":"left");ba=b.getScaleComponent(a).get("type");P=al(a,ba,ab,b.config);var ob;ua=void 0!==e?!e:xi("disable",C.style,null==(ob=e)?void 0:ob.style,P).configValue;f.set("disable",ua,void 0!==e);if(ua)return f;e=e||{};ob=Pj(g,e,a,C.style,P);ua=pf(e.formatType,g,ba);const hc=hf(g,g.type,e.format,e.formatType,C,!0);g={fieldOrDatumDef:g,
axis:e,channel:a,model:b,scaleType:ba,orient:ab,labelAngle:ob,format:hc,formatType:ua,mark:n,config:C};for(const Lc of Am)if(ab=Lc in vj?vj[Lc](g):Ji[Lc]?e[Lc]:void 0,ba=void 0!==ab,ob=Ql(ab,Lc,e,b,a),ba&&ob)f.set(Lc,ab,ob);else{const {configValue:dd,configFrom:gd}=Ji[Lc]&&"values"!==Lc?xi(Lc,C.style,e.style,P):{};ua=void 0!==dd;ba&&!ua?f.set(Lc,ab,ob):("vgAxisConfig"!==gd||Im.has(Lc)&&ua||Yf(dd)||Mb(dd))&&f.set(Lc,dd,!1)}var Pc;const lc=null!=(Pc=e.encoding)?Pc:{};Pc=kk.reduce((Lc,dd)=>{if(!f.hasAxisPart(dd))return Lc;
var gd;const je=tc(null!=(gd=lc[dd])?gd:{},b);gd="labels"===dd?gm(b,a,je):je;void 0===gd||gb(gd)||(Lc[dd]={update:gd});return Lc},{});gb(Pc)||f.set("encode",Pc,!!e.encoding||void 0!==e.labelAngle);return f}function Tl(a){let {encoding:b,size:e}=a;for(const f of Qh)a=G(f),De(e[a])&&Xb(b[f])&&(delete e[a],I(vd(a)));return e}function cl(a,b){var e=Object,f=e.assign,g=Hg(a,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),n=zd("x",a,{defaultPos:"mid"}),
C=zd("y",a,{defaultPos:"mid"}),P=wc("size",a),ba=wc("angle",a);a=b?{shape:{value:b}}:wc("shape",a);return f.call(e,{},g,n,C,P,ba,a)}function ql(a){if(Ab([Vg,di,mj],a.mark)){var b=lg(a.mark,a.encoding);if(0<b.length)return km(a,b)}else if(a.mark===Eh&&(b=yk.some(e=>Zb(e,a.markDef,a.config)),a.stack&&!a.fieldDef("size")&&b))return Ul(a);return Nk(a)}function km(a,b){return[{name:a.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+a.requestDataName(Cf.Main),data:a.requestDataName(Cf.Main),
groupby:b}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:Nk(a,{fromPrefix:"faceted_path_"})}]}function Ul(a){const [b]=Nk(a,{fromPrefix:"stack_group_"}),e=a.scaleName(a.stack.fieldChannel),f=function(){return a.vgField(a.stack.fieldChannel,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})};var g=(ua,ab)=>{ab=[f({prefix:"min",suffix:"start",expr:ab}),f({prefix:"max",suffix:"start",expr:ab}),f({prefix:"min",suffix:"end",expr:ab}),f({prefix:"max",suffix:"end",
expr:ab})];return`${ua}(${ab.map(ob=>`scale('${e}',${ob})`).join(",")})`};let n;"x"===a.stack.fieldChannel?(g=Object.assign({},Yb(b.encode.update,["y","yc","y2","height",...yk]),{x:{signal:g("min","datum")},x2:{signal:g("max","datum")},clip:{value:!0}}),n={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},b.encode.update=Object.assign({},dc(b.encode.update,["y","yc","y2"]),{height:{field:{group:"height"}}})):(g=Object.assign({},Yb(b.encode.update,["x","xc","x2","width"]),{y:{signal:g("min",
"datum")},y2:{signal:g("max","datum")},clip:{value:!0}}),n={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},b.encode.update=Object.assign({},dc(b.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}}));for(var C of yk){var P=ic(C,a.markDef,a.config);b.encode.update[C]?(g[C]=b.encode.update[C],delete b.encode.update[C]):P&&(g[C]=Ua(P));P&&(b.encode.update[C]={value:0})}C=[];var ba;if(0<(null==(ba=a.stack.groupbyChannels)?void 0:ba.length))for(const ua of a.stack.groupbyChannels){ba=
a.fieldDef(ua);(P=Rc(ba))&&C.push(P);let ab,ob;((null==(ab=ba)?0:ab.bin)||(null==(ob=ba)?0:ob.timeUnit))&&C.push(Rc(ba,{binSuffix:"end"}))}g="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((ua,ab)=>{if(b.encode.update[ab])return Object.assign({},ua,{[ab]:b.encode.update[ab]});const ob=ic(ab,a.markDef,a.config);return void 0!==ob?Object.assign({},ua,{[ab]:Ua(ob)}):ua},g);g.stroke&&(g.strokeForeground={value:!0},g.strokeOffset={value:0});
return[{type:"group",from:{facet:{data:a.requestDataName(Cf.Main),name:"stack_group_"+a.requestDataName(Cf.Main),groupby:C,aggregate:{fields:[f({suffix:"start"}),f({suffix:"start"}),f({suffix:"end"}),f({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:g},marks:[{type:"group",encode:{update:n},marks:[b]}]}]}function lm(a){const {encoding:b,stack:e,mark:f,markDef:g,config:n}=a;var C=b.order;if(!(!h.isArray(C)&&Jc(C)&&nc(C.value)||!C&&nc(Zb("order",g,n)))){if((h.isArray(C)||xa(C))&&!e)return Uc(C,
{expr:"datum"});if(Qa(f)){const P="horizontal"===g.orient?"y":"x",ba=b[P];if(xa(ba)){C=ba.sort;if(h.isArray(C))return{field:Rc(ba,{prefix:P,suffix:"sort_index",expr:"datum"})};if(ne(C))return{field:Rc({aggregate:Gf(a.encoding)?C.op:void 0,field:C.field},{expr:"datum"})};if(null!=C&&C.encoding)return a=a.fieldDef(C.encoding),{field:Rc(a,{expr:"datum"}),order:C.order};if(null!==C){let ua;return{field:Rc(ba,{binSuffix:(null==(ua=a.stack)?0:ua.impute)?"mid":void 0,expr:"datum"})}}}}}}function Nk(a){let b=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""};const {mark:e,markDef:f,encoding:g,config:n}=a;var C=f.clip;var P=a.getScaleComponent("x");var ba=a.getScaleComponent("y");P=(null==P?0:P.get("selectionExtent"))||(null==ba?0:ba.get("selectionExtent"))?!0:void 0;ba=a.component.projection;C=V(C,P,ba&&!ba.isFit?!0:void 0);P=Lb(f);ba=g.key;const ua=lm(a);var ab;if(a.component.selection){for(var ob=ab=ud(a.component.selection).length,hc=a.parent;hc&&0===ob;)ob=ud(hc.component.selection).length,
hc=hc.parent;ab=ob?{interactive:0<ab||"geoshape"===a.mark||!!a.encoding.tooltip}:null}else ab=null;ob=Zb("aria",f,n);hc=Ll[e].postEncodingTransform?Ll[e].postEncodingTransform(a):null;return[Object.assign({},{name:a.getName("marks"),type:Ll[e].vgMark},C?{clip:!0}:{},P?{style:P}:{},ba?{key:ba.field}:{},ua?{sort:ua}:{},ab?ab:{},!1===ob?{aria:ob}:{},{from:{data:b.fromPrefix+a.requestDataName(Cf.Main)},encode:{update:Ll[e].encodeEntry(a)}},hc?{transform:hc}:{})]}function dl(a,b,e,f,g){if("facet"in a)return new Ml(a,
b,e,g);if("layer"in a)return new Cm(a,b,e,f,g);if(Ef(a))return new Dm(a,b,e,f,g);if("vconcat"in a||"hconcat"in a||"concat"in a)return new Jm(a,b,e,g);throw Error(za(a));}function Vl(a,b){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};let f=3<arguments.length?arguments[3]:void 0;const g=a.config?oh(a.config):void 0;e=[].concat(a.assembleSelectionData([]),vk(a.component.data,e));const n=a.assembleProjections(),C=a.assembleTitle(),P=a.assembleGroupStyle(),ba=a.assembleGroupEncodeEntry(!0);
let ua=a.assembleLayoutSignals();ua=ua.filter(hc=>"width"!==hc.name&&"height"!==hc.name||void 0===hc.value?!0:(b[hc.name]=+hc.value,!1));var ab=Object.assign({},b);const ob=b.params;ab=(delete ab.params,ab);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},a.description?{description:a.description}:{},ab,C?{title:C}:{},P?{style:P}:{},ba?{encode:{update:ba}}:{},{data:e},0<n.length?{projections:n}:{},a.assembleGroup([...ua,...a.assembleSelectionTopLevelSignals([]),...pe(ob)]),
g?{config:g}:{},f?{usermeta:f}:{})}const Ee=structuredClone;Set.prototype.toJSON=function(){return`Set(${[...this].map(a=>l(a)).join(",")})`};const ud=Object.keys,og=Object.values,Fi=Object.entries;let Gk=42;const Fk=Object.getPrototypeOf(structuredClone({})),ak={theta:1,theta2:1,radius:1,radius2:1},ni={longitude:1,longitude2:1,latitude:1,latitude2:1},Rl=ud(ni),Ti=Object.assign({},{x:1,y:1,x2:1,y2:1},ak,ni,{xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,
strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),hj={row:1,column:1,facet:1},th=ud(hj),yj=Object.assign({},Ti,hj),Dl=ud(yj);var Sj=Object.assign({},yj),Ph=(delete Sj.order,delete Sj.detail,delete Sj.tooltip,Sj),gk=Object.assign({},Ph);const ij=(delete gk.row,delete gk.column,delete gk.facet,gk),Hk="x2 y2 latitude2 longitude2 theta2 radius2".split(" "),Ej=ud(Ti);var Ng=Object.assign({},Ti);const Ei=(delete Ng.x,delete Ng.y,delete Ng.x2,delete Ng.y2,
delete Ng.xOffset,delete Ng.yOffset,delete Ng.latitude,delete Ng.longitude,delete Ng.latitude2,delete Ng.longitude2,delete Ng.theta,delete Ng.theta2,delete Ng.radius,delete Ng.radius2,Ng),Ik=ud(Ei),bk={x:1,y:1},Qh=ud(bk),ek={theta:1,radius:1},ol=ud(ek),Ui={xOffset:1,yOffset:1};var ai=Object.assign({},Ei);const el=(delete ai.text,delete ai.tooltip,delete ai.href,delete ai.url,delete ai.description,delete ai.detail,delete ai.key,delete ai.order,ai),fl=ud(el),Nh=Object.assign({},bk,ek,Ui,el),xk=ud(Nh),
El={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"};var rj=Object.assign({},El);const Sl=(delete rj.geoshape,rj),ck={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Wl={count:1,min:1,max:1},Xl=new Set(["count",
"valid","missing","distinct"]),Uk=new Set(["count","sum","distinct","valid","missing"]),Vk=new Set("mean average median q1 q3 min max".split(" ")),Zk=ud({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,
text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),cm={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},yk=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],
Bl=h.logger(h.Warn);let zi=Bl;const Rh="january february march april may june july august september october november december".split(" "),Fj=Rh.map(a=>a.substr(0,3)),bi="sunday monday tuesday wednesday thursday friday saturday".split(" "),Jk=bi.map(a=>a.substr(0,3)),zl={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Wk=ud(zl),Pk={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},jj={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},
jg={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},Dg={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",
quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},dh={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},oi=new Set(["linear","log","pow","sqrt","symlog"]),pg=new Set([...oi,"time","utc"]),ci=new Set(["quantile","quantize","threshold"]),Qk=new Set([...pg,...ci,"sequential","identity"]),kj=new Set(["ordinal","bin-ordinal","point","band"]);var Dh=Object.assign({},{type:1,domain:1,
domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1});const jk=(delete Dh.type,delete Dh.domain,delete Dh.range,delete Dh.rangeMax,delete Dh.rangeMin,delete Dh.scheme,Dh),ik=ud(jk),Jf={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",
square:"square",geoshape:"geoshape"},uh=Jf.arc,di=Jf.area,Eh=Jf.bar,pi=Jf.image,Vg=Jf.line,Wg=Jf.point,Wf=Jf.rect,lh=Jf.rule,Al=Jf.text,lj=Jf.tick,mj=Jf.trail,ei=Jf.circle,Vi=Jf.square,Gi=Jf.geoshape,Hi=new Set(ud(Jf)),sl="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),Gj=ud({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),Wi=ud({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,
point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),vl={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},pj={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},Sh=(a,b)=>{switch(b.fieldTitle){case "plain":return a.field;case "functional":{const {aggregate:e,bin:f,timeUnit:g,field:n}=a;va(e)?a=`${n} for argmax(${e.argmax})`:ja(e)?a=`${n} for argmin(${e.argmin})`:
(a=g&&!Fc(g)?kd(g):void 0,a=(a=e||(null==a?void 0:a.unit)||(null==a?void 0:a.maxbins)&&"timeunit"||sb(f)&&"bin")?`${a.toUpperCase()}(${n})`:n)}return a;default:return te(a,b)}};let qi=Sh;const fi={compatible:!0},Zf={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",
vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},
tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}},kk=["domain","grid","labels","ticks","title"],lk={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",
labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",
tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},
nk={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,
labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},Ji=Object.assign({},
nk,{style:1,labelExpr:1,encoding:1}),yf=ud({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});class eg{constructor(a,b){this.name=a;this.run=b}hasMatchingType(a){return Ef(a)?(a=a.mark,(id(a)?a.type:a)===this.name):!1}}const Fg=new eg("boxplot",ye),mk=new eg("errorbar",
nf),Hj=new eg("errorband",sg),qj={};fg("boxplot",ye,["box","median","outliers","rule","ticks"]);fg("errorbar",nf,["ticks","rule"]);fg("errorband",sg,["band","borders"]);const mm=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],Ij={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",
titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},tl={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},Yl=ud(Ij),Zl=ud(tl),ul=ud({header:1,headerRow:1,headerColumn:1,headerFacet:1}),wl="size shape fill stroke strokeDash strokeWidth opacity".split(" "),
mh=ud({align:1,bounds:1,center:1,columns:1,spacing:1}),Sk={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,minBandSize:.25,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,minBandSize:.25,timeUnitBandPosition:.5},rule:{color:"black"},
square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,
quantizeCount:4,zero:!0},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{point:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] \x3e window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] \x3e window:pointermove!",
zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20},normalizedNumberFormat:".0%"},si="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),Tk={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},xl={blue:si[0],orange:si[1],red:si[2],teal:si[3],green:si[4],yellow:si[5],purple:si[6],pink:si[7],brown:si[8],gray0:"#000",gray1:"#111",gray2:"#222",
gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},$l=[...Wi,...yf,...ul,"background","padding","legend","lineBreak","scale","style","title","view"],pk=new Set(["view",...Hi]),ah="color fontSize background padding facet concat numberFormat numberFormatType normalizedNumberFormat normalizedNumberFormatType timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),
am=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],line:["point"],tick:["bandSize","thickness"]});class ae{map(a,b){return"facet"in a?this.mapFacet(a,b):"repeat"in a?this.mapRepeat(a,b):"hconcat"in a?this.mapHConcat(a,b):"vconcat"in a?this.mapVConcat(a,b):"concat"in a?this.mapConcat(a,
b):this.mapLayerOrUnit(a,b)}mapLayerOrUnit(a,b){if("layer"in a)return this.mapLayer(a,b);if(Ef(a))return this.mapUnit(a,b);throw Error(za(a));}mapLayer(a,b){return Object.assign({},a,{layer:a.layer.map(e=>this.mapLayerOrUnit(e,b))})}mapHConcat(a,b){return Object.assign({},a,{hconcat:a.hconcat.map(e=>this.map(e,b))})}mapVConcat(a,b){return Object.assign({},a,{vconcat:a.vconcat.map(e=>this.map(e,b))})}mapConcat(a,b){var e=Object.assign({},a);a=a.concat;e=(delete e.concat,e);return Object.assign({},
e,{concat:a.map(f=>this.map(f,b))})}mapFacet(a,b){return Object.assign({},a,{spec:this.map(a.spec,b)})}mapRepeat(a,b){return Object.assign({},a,{spec:this.map(a.spec,b)})}}const yl={zero:1,center:1,normalize:1},Sg=new Set([uh,Eh,di,lh,Wg,ei,Vi,Vg,Al,lj]),Vh=new Set([Eh,di,uh]);class bm{constructor(){S(this,"name","path-overlay")}hasMatchingType(a,b){if(Ef(a)){const {mark:e,encoding:f}=a;a=id(e)?e:{type:e};switch(a.type){case "line":case "rule":case "trail":return!!Ki(a,b[a.type],f);case "area":return!!Ki(a,
b[a.type],f)||!!Li(a,b[a.type])}}return!1}run(a,b,e){var {config:f}=b,g=Object.assign({},a),n=a.params,C=a.projection,P=a.mark,ba=a.name;a=a.encoding;g=(delete g.params,delete g.projection,delete g.mark,delete g.name,delete g.encoding,g);a=zf(a,f);P=id(P)?P:{type:P};const ua=Ki(P,f[P.type],a),ab="area"===P.type&&Li(P,f[P.type]);var ob=Object,hc=ob.assign;var Pc=Object.assign({},"area"===P.type&&void 0===P.opacity&&void 0===P.fillOpacity?{opacity:.7}:{},P);Pc=Object.assign({},Pc);Pc=(delete Pc.point,
delete Pc.line,Pc);Pc=1<ud(Pc).length?Pc:Pc.type;n=[hc.call(ob,{},{name:ba},n?{params:n}:{},{mark:Pc,encoding:dc(a,["shape"])})];ba=Qg(Rg(P,a,f),a);ob=a;if(ba){const {fieldChannel:lc,offset:Lc}=ba;ob=Object.assign({},a,{[lc]:Object.assign({},a[lc],Lc?{stack:Lc}:{})})}ob=dc(ob,["y2","x2"]);ab&&n.push(Object.assign({},C?{projection:C}:{},{mark:Object.assign({},{type:"line"},Yb(P,["clip","interpolate","tension","tooltip"]),ab),encoding:ob}));ua&&n.push(Object.assign({},C?{projection:C}:{},{mark:Object.assign({},
{type:"point",opacity:1,filled:!0},Yb(P,["clip","tooltip"]),ua),encoding:ob}));C=Object.assign({},g,{layer:n});g=Object;n=g.assign;for(const lc of["line","area","rule","trail"])f[lc]&&(f=Object.assign({},f,{[lc]:dc(f[lc],["point","line"])}));return e(C,n.call(g,{},b,{config:f}))}}class qk{constructor(){S(this,"name","RuleForRangedLine")}hasMatchingType(a){if(Ef(a)){const {encoding:b,mark:e}=a;if("line"===e||id(e)&&"line"===e.type)for(const f of Hk)if(a=U(f),a=b[a],b[f]&&(xa(a)&&!ib(a.bin)||Ib(a)))return!0}return!1}run(a,
b,e){const {encoding:f,mark:g}=a;var n=!!f.x2;I(`Line mark is for continuous lines and thus cannot be used with ${n&&f.y2?"x2 and y2":n?"x2":"y2"}. We will use the rule mark (line segments) instead.`);return e(Object.assign({},a,{mark:h.isObject(g)?Object.assign({},g,{type:"rule"}):"rule"}),b)}}class $k extends ae{constructor(){super(...arguments);S(this,"nonFacetUnitNormalizers",[Fg,mk,Hj,new bm,new qk])}map(a,b){if(Ef(a)){const e=We(a.encoding,"row"),f=We(a.encoding,"column"),g=We(a.encoding,"facet");
if(e||f||g)return this.mapFacetedUnit(a,b)}return super.map(a,b)}mapUnit(a,b){const {parentEncoding:e,parentProjection:f}=b;var g=hi(a.encoding,b.repeater);a=Object.assign({},a,a.name?{name:[b.repeaterPrefix,a.name].filter(n=>n).join("_")}:{},g?{encoding:g}:{});if(e||f)return this.mapUnitWithParentEncodingOrProjection(a,b);g=this.mapLayerOrUnit.bind(this);for(const n of this.nonFacetUnitNormalizers)if(n.hasMatchingType(a,b.config))return n.run(a,b,g);return a}mapRepeat(a,b){return!h.isArray(a.repeat)&&
a.repeat.layer?this.mapLayerRepeat(a,b):this.mapNonLayerRepeat(a,b)}mapLayerRepeat(a,b){var e=Object.assign({},a);const f=a.repeat,g=a.spec;e=(delete e.repeat,delete e.spec,e);const {row:n,column:C,layer:P}=f,{repeater:ba={},repeaterPrefix:ua=""}=b;return n||C?this.mapRepeat(Object.assign({},a,{repeat:Object.assign({},n?{row:n}:{},C?{column:C}:{}),spec:{repeat:{layer:P},spec:g}}),b):Object.assign({},e,{layer:P.map(ab=>{var ob=Object.assign({},ba,{layer:ab});ab=`${(g.name?`${g.name}_`:"")+ua}child__layer_${sa(ab)}`;
ob=this.mapLayerOrUnit(g,Object.assign({},b,{repeater:ob,repeaterPrefix:ab}));ob.name=ab;return ob})})}mapNonLayerRepeat(a,b){var e=a,f=Object.assign({},e);const g=e.repeat,n=e.spec;e=e.data;f=(delete f.repeat,delete f.spec,delete f.data,f);!h.isArray(g)&&a.columns&&(a=dc(a,["columns"]),I(Cc("repeat")));const C=[],{repeater:P={},repeaterPrefix:ba=""}=b,ua=!h.isArray(g)&&g.row||[P?P.row:null],ab=!h.isArray(g)&&g.column||[P?P.column:null];var ob=h.isArray(g)&&g||[P?P.repeat:null];for(const lc of ob)for(const Lc of ua)for(const dd of ab){var hc=
{repeat:lc,row:Lc,column:dd,layer:P.layer};ob=(n.name?`${n.name}_`:"")+ba+"child__"+(h.isArray(g)?`${sa(lc)}`:(g.row?`row_${sa(Lc)}`:"")+(g.column?`column_${sa(dd)}`:""));hc=this.map(n,Object.assign({},b,{repeater:hc,repeaterPrefix:ob}));hc.name=ob;C.push(dc(hc,["data"]))}a=h.isArray(g)?a.columns:g.column?g.column.length:1;let Pc;return Object.assign({},{data:null!=(Pc=n.data)?Pc:e,align:"all"},f,{columns:a,concat:C})}mapFacet(a,b){const {facet:e}=a;le(e)&&a.columns&&(a=dc(a,["columns"]),I(Cc("facet")));
return super.mapFacet(a,b)}mapUnitWithParentEncodingOrProjection(a,b){const {encoding:e,projection:f}=a,{parentEncoding:g,parentProjection:n,config:C}=b,P=Uh({parentProjection:n,projection:f});b=eh({parentEncoding:g,encoding:hi(e,b.repeater)});return this.mapUnit(Object.assign({},a,P?{projection:P}:{},b?{encoding:b}:{}),{config:C})}mapFacetedUnit(a,b){var e=a.encoding,f=Object.assign({},e),g=e.row;const n=e.column;e=e.facet;const C=(delete f.row,delete f.column,delete f.facet,f);var P=Object.assign({},
a);f=a.mark;const ba=a.width,ua=a.projection,ab=a.height,ob=a.view;a=a.params;P=(delete P.mark,delete P.width,delete P.projection,delete P.height,delete P.view,delete P.params,delete P.encoding,P);const {facetMapping:hc,layout:Pc}=this.getFacetMappingAndLayout({row:g,column:n,facet:e},b);g=hi(C,b.repeater);return this.mapFacet(Object.assign({},P,Pc,{facet:hc,spec:Object.assign({},ba?{width:ba}:{},ab?{height:ab}:{},ob?{view:ob}:{},ua?{projection:ua}:{},{mark:f,encoding:g},a?{params:a}:{})}),b)}getFacetMappingAndLayout(a,
b){const {row:e,column:f,facet:g}=a;if(e||f){g&&(b=[...(e?["row"]:[]),...(f?["column"]:[])],b=`Facet encoding dropped as ${b.join(" and ")} ${1<b.length?"are":"is"} also specified.`,I(b));b={};const ab={};for(var n of["row","column"]){const ob=a[n];if(ob){var C=Object.assign({},ob);C=(delete C.align,delete C.center,delete C.spacing,delete C.columns,C);b[n]=C;for(var P of["align","center","spacing"])if(void 0!==ob[P]){var ba=void 0,ua=void 0;null!=(ba=ab)[ua=P]||(ba[ua]={});ab[P][n]=ob[P]}}}return{facetMapping:b,
layout:ab}}ua=Object.assign({},g);a=g.align;n=g.center;P=g.spacing;ba=g.columns;ua=(delete ua.align,delete ua.center,delete ua.spacing,delete ua.columns,ua);ua=(b=b.repeater)?le(ua)?ph(ua,b):Mi(ua,b):ua;return{facetMapping:ua,layout:Object.assign({},a?{align:a}:{},n?{center:n}:{},P?{spacing:P}:{},ba?{columns:ba}:{})}}mapLayer(a,b){var e=Object.assign({},b),f=b.parentEncoding;b=b.parentProjection;e=(delete e.parentEncoding,delete e.parentProjection,e);var g=Object.assign({},a);const n=a.encoding,C=
a.projection;g=(delete g.encoding,delete g.projection,g);f=Object.assign({},e,{parentEncoding:eh({parentEncoding:f,encoding:n,layer:!0}),parentProjection:Uh({parentProjection:b,projection:C})});return super.mapLayer(Object.assign({},g,a.name?{name:[f.repeaterPrefix,a.name].filter(P=>P).join("_")}:{}),f)}}class Jh extends ae{map(a,b){null!=b.emptySelections||(b.emptySelections={});null!=b.selectionPredicates||(b.selectionPredicates={});a=gg(a,b);return super.map(a,b)}mapLayerOrUnit(a,b){a=gg(a,b);
if(a.encoding){const e={};for(const f of Fi(a.encoding)){const [g,n]=f;e[g]=Zi(n,b)}a=Object.assign({},a,{encoding:e})}return super.mapLayerOrUnit(a,b)}mapUnit(a,b){var e=Object.assign({},a);const f=a.selection;e=(delete e.selection,e);return f?Object.assign({},e,{params:Fi(f).map(g=>{let [n,C]=g;var P=Object.assign({},C);g=C.init;const ba=C.bind,ua=C.empty;P=(delete P.init,delete P.bind,delete P.empty,P);"single"===P.type?(P.type="point",P.toggle=!1):"multi"===P.type&&(P.type="point");b.emptySelections[n]=
"none"!==ua;let ab;for(const ob of og(null!=(ab=b.selectionPredicates[n])?ab:{}))ob.empty="none"!==ua;return{name:n,value:g,select:P,bind:ba}})}):a}}class ef extends ae{map(a,b){var e;const f=null!=(e=b.selections)?e:[];if(a.params&&!Ef(a)){e=[];for(const g of a.params)Rd(g)?f.push(g):e.push(g);a.params=e}b.selections=f;return super.map(a,b)}mapUnit(a,b){const e=b.selections;if(!e||!e.length)return a;let f;const g=(null!=(f=b.path)?f:[]).concat(a.name);b=[];for(const n of e)if(n.views&&n.views.length)for(const C of n.views)(h.isString(C)&&
(C===a.name||g.includes(C))||h.isArray(C)&&C.map(P=>g.indexOf(P)).every((P,ba,ua)=>-1!==P&&(0===ba||P>ua[ba-1])))&&b.push(n);else b.push(n);b.length&&(a.params=b);return a}}for(const a of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const b=ef.prototype[a];ef.prototype[a]=function(e,f){var g=b,n=g.call;let C;var P=e.name?Object.assign({},f,{path:(null!=(C=f.path)?C:[]).concat(e.name)}):f;return n.call(g,this,e,P)}}const Gg=new $k,xg=new Jh,Tg=new ef,xh=["background","padding"];class wh{constructor(){let a=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.explicit=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.implicit=a}clone(){return new wh(Ee(this.explicit),Ee(this.implicit))}combine(){return Object.assign({},this.explicit,this.implicit)}get(a){return V(this.explicit[a],this.implicit[a])}getWithExplicit(a){return void 0!==this.explicit[a]?{explicit:!0,value:this.explicit[a]}:void 0!==this.implicit[a]?{explicit:!1,value:this.implicit[a]}:{explicit:!1,value:void 0}}setWithExplicit(a,
b){let {value:e,explicit:f}=b;void 0!==e&&this.set(a,e,f)}set(a,b,e){delete this[e?"implicit":"explicit"][a];this[e?"explicit":"implicit"][a]=b;return this}copyKeyFromSplit(a,b){let {explicit:e,implicit:f}=b;void 0!==e[a]?this.set(a,e[a],!0):void 0!==f[a]&&this.set(a,f[a],!1)}copyKeyFromObject(a,b){void 0!==b[a]&&this.set(a,b[a],!0)}copyAll(a){for(const b of ud(a.combine())){const e=a.getWithExplicit(b);this.setWithExplicit(b,e)}}}class Cg extends wh{constructor(){let a=0<arguments.length&&void 0!==
arguments[0]?arguments[0]:{},b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super(a,b);this.explicit=a;this.implicit=b;this.parseNothing=e}clone(){const a=super.clone();a.parseNothing=this.parseNothing;return a}}let Cf=function(a){a[a.Raw=0]="Raw";a[a.Main=1]="Main";a[a.Row=2]="Row";a[a.Column=3]="Column";a[a.Lookup=4]="Lookup";return a}({});class ff{constructor(a,b){this.debugName=b;S(this,"_children",[]);S(this,"_parent",null);
S(this,"_hash",void 0);a&&(this.parent=a)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(a){(this._parent=a)&&a.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(a,b){this._children.includes(a)?I("Attempt to add the same child twice."):void 0!==b?this._children.splice(b,0,a):this._children.push(a)}removeChild(a){a=this._children.indexOf(a);this._children.splice(a,1);return a}remove(){let a=this._parent.removeChild(this);
for(const b of this._children)b._parent=this._parent,this._parent.addChild(b,a++)}insertAsParentOf(a){const b=a.parent;b.removeChild(this);this.parent=b;a.parent=this}swapWithParent(){const a=this._parent,b=a.parent;for(var e of this._children)e.parent=a;this._children=[];a.removeChild(this);e=a.parent.removeChild(a);this._parent=b;b.addChild(this,e);a.parent=this}}class Jg extends ff{clone(){const a=new this.constructor;a.debugName=`clone_${this.debugName}`;a._source=this._source;a._name=`clone_${this._name}`;
a.type=this.type;a.refCounts=this.refCounts;a.refCounts[a._name]=0;return a}constructor(a,b,e,f){super(a,b);this.type=e;this.refCounts=f;S(this,"_source",void 0);S(this,"_name",void 0);this._source=this._name=b;!this.refCounts||this._name in this.refCounts||(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===this._hash&&(this._hash=`Output ${N()}`);return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(a){this._source=
a}}class Wh extends ff{clone(){return new Wh(null,Ee(this.timeUnits))}constructor(a,b){super(a);this.timeUnits=b}static makeFromEncoding(a,b){const e=b.reduceFieldDef((f,g,n)=>{const {field:C,timeUnit:P}=g;if(P){let ba;if(Fc(P)){if(Pf(b)){const {mark:ua,markDef:ab,config:ob}=b,hc=y({fieldDef:g,markDef:ab,config:ob});if(bc(ua)||hc)ba={timeUnit:kd(P),field:C}}}else ba={as:Rc(g,{forAs:!0}),field:C,timeUnit:P};if(Pf(b)){const {mark:ua,markDef:ab,config:ob}=b;g=y({fieldDef:g,markDef:ab,config:ob});bc(ua)&&
F(n)&&.5!==g&&(ba.rectBandPosition=g)}ba&&(f[Wb(ba)]=ba)}return f},{});return gb(e)?null:new Wh(a,e)}static makeFromTransform(a,b){var e=Object.assign({},b);b=Object.assign({},e);e=e.timeUnit;b=(delete b.timeUnit,b);e=kd(e);b=Object.assign({},b,{timeUnit:e});return new Wh(a,{[Wb(b)]:b})}merge(a){this.timeUnits=Object.assign({},this.timeUnits);for(const b in a.timeUnits)this.timeUnits[b]||(this.timeUnits[b]=a.timeUnits[b]);for(const b of a.children)a.removeChild(b),b.parent=this;a.remove()}removeFormulas(a){const b=
{};for(const e of Fi(this.timeUnits)){const [f,g]=e;a.has(void 0!==g.as?g.as:`${g.field}_end`)||(b[f]=g)}this.timeUnits=b}producedFields(){return new Set(og(this.timeUnits).map(a=>void 0!==a.as?a.as:`${a.field}_end`))}dependentFields(){return new Set(og(this.timeUnits).map(a=>a.field))}hash(){return`TimeUnit ${Wb(this.timeUnits)}`}assemble(){const a=[];for(const g of og(this.timeUnits)){const {rectBandPosition:n}=g,C=kd(g.timeUnit);if(void 0!==g.as){const {field:P,as:ba}=g;var b=C,e=Object.assign({},
b),f=b.unit;b=b.utc;e=(delete e.unit,delete e.utc,e);const ua=[ba,`${ba}_end`];a.push(Object.assign({},{field:Za(P),type:"timeunit"},f?{units:zc(f)}:{},b?{timezone:"utc"}:{},e,{as:ua}));a.push(...Aa(ua,n,C))}else g&&({field:f}=g,f=f.replaceAll("\\.","."),b=aa({timeUnit:C,field:f}),e=`${f}_end`,a.push({type:"formula",expr:b,as:e}),a.push(...Aa([f,e],n,C)))}return a}}class Lj{constructor(){S(this,"hasChannel",void 0);S(this,"hasField",void 0);S(this,"hasSelectionId",void 0);S(this,"timeUnit",void 0);
S(this,"items",void 0);for(var a=arguments.length,b=Array(a),e=0;e<a;e++)b[e]=arguments[e];this.items=b;this.hasChannel={};this.hasField={};this.hasSelectionId=!1}}const ig={defined:a=>"interval"===a.type&&"global"===a.resolve&&a.bind&&"scales"===a.bind,parse:(a,b)=>{const e=b.scales=[];for(const g of b.project.items){var f=g.channel;if(!Nh[f])continue;const n=(f=a.getScaleComponent(f))?f.get("type"):void 0;f&&Ld(n)?(f.set("selectionExtent",{param:b.name,field:g.field},!0),e.push(g)):I("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},
topLevelSignals:(a,b,e)=>{const f=b.scales.filter(n=>0===e.filter(C=>C.name===n.signals.data).length);if(!a.parent||yb(a)||0===f.length)return e;a=e.filter(n=>n.name===b.name)[0];let g=a.update;if(0<=g.indexOf("vlSelectionResolve"))a.update=`{${f.map(n=>`${h.stringValue(Za(n.field))}: ${n.signals.data}`).join(", ")}}`;else{for(const n of f){const C=`${h.stringValue(Za(n.field))}: ${n.signals.data}`;g.includes(C)||(g=`${g.substring(0,g.length-1)}, ${C}}`)}a.update=g}return e.concat(f.map(n=>({name:n.signals.data})))},
signals:(a,b,e)=>{if(a.parent&&!yb(a))for(const f of b.scales)a=e.filter(g=>g.name===f.signals.data)[0],a.push="outer",delete a.value,delete a.update;return e}},Xk={left:"x",center:"xc",right:"x2"},sj={top:"y",middle:"yc",bottom:"y2"},wi=new Set(["aria","width","height"]),Jj={defined:a=>"point"===a.type&&a.nearest,parse:(a,b)=>{if(b.events)for(const e of b.events)e.markname=a.getName("voronoi")},marks:(a,b,e)=>{const {x:f,y:g}=b.project.hasChannel;b=a.mark;if(Qa(b))return I(`The "nearest" transform is not supported for ${b} marks.`),
e;b={name:a.getName("voronoi"),type:"path",interactive:!0,from:{data:a.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},ya(a,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:f||!g?"datum.datum.x || 0":"0"},y:{expr:g||!f?"datum.datum.y || 0":"0"},size:[a.getSizeSignalRef("width"),a.getSizeSignalRef("height")]}]};let n=0,C=!1;e.forEach((P,ba)=>{let ua;P=null!=(ua=P.name)?ua:"";P===a.component.mark[0].name?
n=ba:0<=P.indexOf("voronoi")&&(C=!0)});C||e.splice(n+1,0,b);return e}},ok={defined:a=>"point"===a.type&&"global"===a.resolve&&a.bind&&"scales"!==a.bind&&!tg(a.bind),parse:(a,b,e)=>dg(b,e),topLevelSignals:(a,b,e)=>{const f=b.name;a=b.project;const g=b.bind,n=b.init&&b.init[0],C=Jj.defined(b)?"(item().isVoronoi ? datum.datum : datum)":"datum";a.items.forEach((P,ba)=>{const ua=sa(`${f}_${P.field}`);if(!e.filter(ab=>ab.name===ua).length){let ab,ob;e.unshift(Object.assign({},{name:ua},n?{init:If(n[ba])}:
{value:null},{on:b.events?[{events:b.events,update:`datum && item().mark.marktype !== 'group' ? ${C}[${h.stringValue(P.field)}] : null`}]:[],bind:null!=(ob=null!=(ab=g[P.field])?ab:g[P.channel])?ob:g}))}});return e},signals:(a,b,e)=>{const f=b.name;var g=b.project;a=e.filter(C=>C.name===f+"_tuple")[0];b=f+"_tuple_fields";g=g.items.map(C=>sa(`${f}_${C.field}`));const n=g.map(C=>`${C} !== null`).join(" \x26\x26 ");g.length&&(a.update=`${n} ? {fields: ${b}, values: [${g.join(", ")}]} : null`);delete a.value;
delete a.on;return e}},ri={defined:a=>"point"===a.type&&!!a.toggle,signals:(a,b,e)=>e.concat({name:b.name+"_toggle",value:!1,on:[{events:b.events,update:b.toggle}]}),modifyExpr:(a,b)=>{const e=b.name+"_tuple",f=b.name+"_toggle";return`${f} ? null : ${e}, `+("global"===b.resolve?`${f} ? null : true, `:`${f} ? null : {unit: ${Xf(a)}}, `)+`${f} ? ${e} : null`}},Mj={defined:a=>{const b="global"===a.resolve&&a.bind&&tg(a.bind);a=1===a.project.items.length&&"_vgsid_"!==a.project.items[0].field;b&&!a&&I("Legend bindings are only supported for selections over an individual field or encoding channel.");
return b&&a},parse:(a,b,e)=>{a=Ee(e);a.select=h.isString(a.select)?{type:a.select,toggle:b.toggle}:Object.assign({},a.select,{toggle:b.toggle});dg(b,a);if(h.isObject(e.select)&&(e.select.on||e.select.clear))for(const f of b.events){let g;f.filter=h.array(null!=(g=f.filter)?g:[]);f.filter.includes('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')||f.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}e=ug(b.bind)?b.bind.legend:"click";e=h.isString(e)?
h.parseSelector(e,"view"):h.array(e);b.bind={legend:{merge:e}}},topLevelSignals:(a,b,e)=>{a=b.name;const f=ug(b.bind)&&b.bind.legend,g=C=>P=>{P=Ee(P);P.markname=C;return P};for(const C of b.project.items){if(!C.hasLegend)continue;var n=`${sa(C.field)}_legend`;const P=`${a}_${n}`;0===e.filter(ba=>ba.name===P).length&&(n=f.merge.map(g(`${n}_symbols`)).concat(f.merge.map(g(`${n}_labels`))).concat(f.merge.map(g(`${n}_entries`))),e.unshift(Object.assign({},{name:P},b.init?{}:{value:null},{on:[{events:n,
update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:f.merge,update:`!event.item || !datum ? null : ${P}`,force:!0}]})))}return e},signals:(a,b,e)=>{const f=b.name;var g=b.project;a=e.find(C=>C.name===f+"_tuple");var n=f+"_tuple_fields";g=g.items.filter(C=>C.hasLegend).map(C=>sa(`${f}_${sa(C.field)}_legend`));n=`${g.map(C=>`${C} !== null`).join(" \x26\x26 ")} ? {fields: ${n}, values: [${g.join(", ")}]} : null`;b.events&&0<g.length?a.on.push({events:g.map(C=>
({signal:C})),update:n}):0<g.length&&(a.update=n,delete a.value,delete a.on);a=e.find(C=>C.name===f+"_toggle");n=ug(b.bind)&&b.bind.legend;a&&(b.events?a.on.push(Object.assign({},a.on[0],{events:n})):a.on[0].events=n);return e}},Xh=[{defined:a=>"point"===a.type,signals:(a,b,e)=>{const f=b.name,g=f+"_tuple_fields";var n=b.project,C,P=og(null!=(C=a.component.selection)?C:{}).reduce((ba,ua)=>"interval"===ua.type?ba.concat(ua.name+"_brush"):ba,[]).map(ba=>`indexof(item().mark.name, '${ba}') < 0`).join(" \x26\x26 ");
C=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${P?` && ${P}`:""}`;P=`unit: ${Xf(a)}, `;b.project.hasSelectionId?P+=`${"_vgsid_"}: ${"(item().isVoronoi ? datum.datum : datum)"}[${h.stringValue("_vgsid_")}]`:(n=n.items.map(ba=>{let ua;return(null==(ua=a.fieldDef(ba.channel))?0:ua.bin)?`[${"(item().isVoronoi ? datum.datum : datum)"}[${h.stringValue(a.vgField(ba.channel,{}))}], `+`${"(item().isVoronoi ? datum.datum : datum)"}[${h.stringValue(a.vgField(ba.channel,
{binSuffix:"end"}))}]]`:`${"(item().isVoronoi ? datum.datum : datum)"}[${h.stringValue(ba.field)}]`}).join(", "),P+=`fields: ${g}, values: [${n}]`);b=b.events;return e.concat([{name:f+"_tuple",on:b?[{events:b,update:`${C} ? {${P}} : null`,force:!0}]:[]}])}},{defined:a=>"interval"===a.type,parse:(a,b,e)=>{a.hasProjection&&(a=Object.assign({},h.isObject(e.select)?e.select:{}),a.fields=["_vgsid_"],a.encodings||(a.encodings=e.value?ud(e.value):["longitude","latitude"]),e.select=Object.assign({},{type:"interval"},
a));if(b.translate&&!ig.defined(b)){e=`!event.item || event.item.mark.name !== ${h.stringValue(b.name+"_brush")}`;for(const f of b.events){if(!f.between){I(`${f} is not an ordered event stream for interval selections.`);continue}let g,n;b=h.array(null!=(n=(g=f.between[0]).filter)?n:g.filter=[]);0>b.indexOf(e)&&b.push(e)}}},signals:(a,b,e)=>{var f=b.name;const g=f+"_tuple";var n=og(b.project.hasChannel).filter(ab=>"x"===ab.channel||"y"===ab.channel);const C=b.init?b.init[0]:null;e.push(...n.reduce((ab,
ob)=>ab.concat(cc(a,b,ob,C&&C[ob.index])),[]));if(a.hasProjection){var P=h.stringValue(a.projectionName());const ab=a.projectionName()+"_center",{x:ob,y:hc}=b.project.hasChannel;var ba=ob&&ob.signals.visual;const Pc=hc&&hc.signals.visual;var ua=ob?C&&C[ob.index]:`${ab}[0]`;const lc=hc?C&&C[hc.index]:`${ab}[1]`;ba="["+`[${ba?ba+"[0]":"0"}, ${Pc?Pc+"[0]":"0"}],`+`[${ba?ba+"[1]":a.getSizeSignalRef("width").signal}, `+`${Pc?Pc+"[1]":a.getSizeSignalRef("height").signal}]`+"]";C&&(e.unshift({name:f+"_init",
init:`[scale(${P}, [${ob?ua[0]:ua}, ${hc?lc[0]:lc}]), `+`scale(${P}, [${ob?ua[1]:ua}, ${hc?lc[1]:lc}])]`}),ob&&hc||e.find(Lc=>Lc.name===ab)||e.unshift({name:ab,update:`invert(${P}, [${a.getSizeSignalRef("width").signal}/2, ${a.getSizeSignalRef("height").signal}/2])`}));f=`intersect(${ba}, {markname: ${h.stringValue(a.getName("marks"))}}, unit.mark)`;P=`{unit: ${Xf(a)}}`;f=`vlSelectionTuples(${f}, ${P})`;n=n.map(Lc=>Lc.signals.visual);return e.concat({name:g,on:[{events:[...(n.length?[{signal:n.join(" || ")}]:
[]),...(C?[{signal:"geo_interval_init_tick"}]:[])],update:f}]})}ig.defined(b)||(P=f+"_scale_trigger",ua=n.map(ab=>{var ob=ab.channel;const {data:hc,visual:Pc}=ab.signals;ab=h.stringValue(a.scaleName(ob));ob=a.getScaleComponent(ob).get("type");ob=Ld(ob)?"+":"";return`(!isArray(${hc}) || `+`(${ob}invert(${ab}, ${Pc})[0] === ${ob}${hc}[0] && `+`${ob}invert(${ab}, ${Pc})[1] === ${ob}${hc}[1]))`}),ua.length&&e.push({name:P,value:{},on:[{events:n.map(ab=>({scale:a.scaleName(ab.channel)})),update:ua.join(" \x26\x26 ")+
` ? ${P} : {}`}]}));n=n.map(ab=>ab.signals.data);f=`unit: ${Xf(a)}, fields: ${f+"_tuple_fields"}, values`;return e.concat(Object.assign({},{name:g},C?{init:`{${f}: ${If(C)}}`}:{},n.length?{on:[{events:[{signal:n.join(" || ")}],update:`${n.join(" \x26\x26 ")} ? {${f}: [${n}]} : null`}]}:{}))},topLevelSignals:(a,b,e)=>{Pf(a)&&a.hasProjection&&b.init&&(e.filter(f=>"geo_interval_init_tick"===f.name).length||e.unshift({name:"geo_interval_init_tick",value:null,on:[{events:"timer{1}",update:"geo_interval_init_tick \x3d\x3d\x3d null ? {} : geo_interval_init_tick"}]}));
return e},marks:(a,b,e)=>{const f=b.name,{x:g,y:n}=b.project.hasChannel,C=null==g?void 0:g.signals.visual,P=null==n?void 0:n.signals.visual;var ba=`data(${h.stringValue(b.name+"_store")})`;if(ig.defined(b)||!g&&!n)return e;const ua={x:void 0!==g?{signal:`${C}[0]`}:{value:0},y:void 0!==n?{signal:`${P}[0]`}:{value:0},x2:void 0!==g?{signal:`${C}[1]`}:{field:{group:"width"}},y2:void 0!==n?{signal:`${P}[1]`}:{field:{group:"height"}}};if("global"===b.resolve)for(var ab of ud(ua))ua[ab]=[Object.assign({},
{test:`${ba}.length && ${ba}[0].unit === ${Xf(a)}`},ua[ab]),{value:0}];ab=b.mark;ba=Object.assign({},ab);a=ab.fill;b=ab.fillOpacity;ab=ab.cursor;const ob=(delete ba.fill,delete ba.fillOpacity,delete ba.cursor,ba);ba=ud(ob).reduce((hc,Pc)=>{hc[Pc]=[{test:[void 0!==g&&`${C}[0] !== ${C}[1]`,void 0!==n&&`${P}[0] !== ${P}[1]`].filter(lc=>lc).join(" \x26\x26 "),value:ob[Pc]},{value:null}];return hc},{});return[{name:`${f+"_brush"}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:a},fillOpacity:{value:b}},
update:ua}},...e,{name:f+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},ab?{cursor:{value:ab}}:{},{fill:{value:"transparent"}}),update:Object.assign({},ua,ba)}}]}},{defined:()=>!0,parse:(a,b,e)=>{const f=b.name;var g;const n=null!=(g=b.project)?g:b.project=new Lj,C={};g={};const P=new Set,ba=(gd,je)=>{gd="visual"===je?gd.channel:gd.field;let de=sa(`${f}_${gd}`);for(let Be=1;P.has(de);Be++)de=sa(`${f}_${gd}_${Be}`);P.add(de);return{[je]:de}},ua=b.type,ab=a.config.selection[ua],ob=void 0!==
e.value?h.array(e.value):null;let {fields:hc,encodings:Pc}=h.isObject(e.select)?e.select:{};if(!hc&&!Pc&&ob)for(var lc of ob)if(h.isObject(lc))for(const gd of ud(lc))if(ij[gd])(Pc||(Pc=[])).push(gd);else if("interval"===ua)I('Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.'),Pc=ab.encodings;else{let je;(null!=(je=hc)?je:hc=[]).push(gd)}hc||Pc||(Pc=ab.encodings,"fields"in ab&&(hc=ab.fields));var Lc;for(const gd of null!=(Lc=Pc)?Lc:[])(Lc=a.fieldDef(gd))?(e=
Lc.field,Lc.aggregate?I(`Cannot project a selection on encoding channel "${gd}" as it uses an aggregate function ("${Lc.aggregate}").`):e?(Lc.timeUnit&&!Fc(Lc.timeUnit)&&(e=a.vgField(gd),lc={timeUnit:Lc.timeUnit,as:e,field:Lc.field},g[Wb(lc)]=lc),C[e]||(Lc="interval"===ua&&Nh[gd]&&Ld(a.getScaleComponent(gd).get("type"))?"R":Lc.bin?"R-RE":"E",Lc={field:e,channel:gd,type:Lc,index:n.items.length},Lc.signals=Object.assign({},ba(Lc,"data"),ba(Lc,"visual")),n.items.push(C[e]=Lc),n.hasField[e]=C[e],n.hasSelectionId=
n.hasSelectionId||"_vgsid_"===e,gd in ni?(Lc.geoChannel=gd,Lc.channel=D(gd),n.hasChannel[Lc.channel]=C[e]):n.hasChannel[gd]=C[e])):I(Eb(gd))):I(Eb(gd));let dd;for(const gd of null!=(dd=hc)?dd:[])n.hasField[gd]||(a={type:"E",field:gd,index:n.items.length},a.signals=Object.assign({},ba(a,"data")),n.items.push(a),n.hasField[gd]=a,n.hasSelectionId=n.hasSelectionId||"_vgsid_"===gd);ob&&(b.init=ob.map(gd=>n.items.map(je=>h.isObject(gd)?void 0!==gd[je.geoChannel||je.channel]?gd[je.geoChannel||je.channel]:
gd[je.field]:gd)));gb(g)||(n.timeUnit=new Wh(null,g))},signals:(a,b,e)=>{const f=b.name+"_tuple_fields";return 0<e.filter(g=>g.name===f).length||b.project.hasSelectionId?e:e.concat({name:f,value:b.project.items.map(gh)})}},ri,ok,ig,Mj,{defined:a=>void 0!==a.clear&&!1!==a.clear,parse:(a,b)=>{b.clear&&(b.clear=h.isString(b.clear)?h.parseSelector(b.clear,"view"):b.clear)},topLevelSignals:(a,b,e)=>{if(ok.defined(b))for(const f of b.project.items)a=e.findIndex(g=>g.name===sa(`${b.name}_${f.field}`)),-1!==
a&&e[a].on.push({events:b.clear,update:"null"});return e},signals:(a,b,e)=>{function f(g,n){-1!==g&&e[g].on&&e[g].on.push({events:b.clear,update:n})}if("interval"===b.type)for(const g of b.project.items)a=e.findIndex(n=>n.name===g.signals.visual),f(a,"[0, 0]"),-1===a&&(a=e.findIndex(n=>n.name===g.signals.data),f(a,"null"));else a=e.findIndex(g=>g.name===b.name+"_tuple"),f(a,"null"),ri.defined(b)&&(a=e.findIndex(g=>g.name===b.name+"_toggle"),f(a,"false"));return e}},{defined:a=>"interval"===a.type&&
a.translate,signals:(a,b,e)=>{const f=b.name,g=ig.defined(b),n=f+"_translate_anchor",{x:C,y:P}=b.project.hasChannel;let ba=h.parseSelector(b.translate,"scope");g||(ba=ba.map(ua=>(ua.between[0].markname=f+"_brush",ua)));e.push({name:n,value:{},on:[{events:ba.map(ua=>ua.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==C?`, extent_x: ${g?zb(a,"x"):`slice(${C.signals.visual})`}`:"")+(void 0!==P?`, extent_y: ${g?zb(a,"y"):`slice(${P.signals.visual})`}`:"")+"}"}]},{name:f+"_translate_delta",value:{},
on:[{events:ba,update:`{x: ${n}.x - x(unit), y: ${n}.y - y(unit)}`}]});void 0!==C&&Yg(a,b,C,"width",e);void 0!==P&&Yg(a,b,P,"height",e);return e}},{defined:a=>"interval"===a.type&&a.zoom,signals:(a,b,e)=>{const f=b.name,g=ig.defined(b),n=f+"_zoom_delta",{x:C,y:P}=b.project.hasChannel,ba=h.stringValue(a.scaleName("x")),ua=h.stringValue(a.scaleName("y"));let ab=h.parseSelector(b.zoom,"scope");g||(ab=ab.map(ob=>(ob.markname=f+"_brush",ob)));e.push({name:f+"_zoom_anchor",on:[{events:ab,update:g?"{"+[ba?
`x: invert(${ba}, x(unit))`:"",ua?`y: invert(${ua}, y(unit))`:""].filter(ob=>ob).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:n,on:[{events:ab,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==C&&Lh(a,b,C,"width",e);void 0!==P&&Lh(a,b,P,"height",e);return e}},Jj];class Oi extends ff{clone(){return new Oi(null,this.model,Ee(this.filter))}constructor(a,b,e){super(a);this.model=b;this.filter=e;S(this,"expr",void 0);S(this,"_dependentFields",void 0);this.expr=ag(this.model,
this.filter,this);this._dependentFields=oj(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}const vj={scale:a=>{let {model:b,channel:e}=a;return b.scaleName(e)},format:a=>{({format:a}=a);return a},formatType:a=>{({formatType:a}=a);return a},grid:a=>{let {fieldOrDatumDef:b,axis:e,scaleType:f}=a,g;return null!=(g=e.grid)?g:!Md(f)&&xa(b)&&!sb(null==b?void 0:b.bin)&&!ib(null==b?
void 0:b.bin)},gridScale:a=>{let {model:b,channel:e}=a;a="x"===e?"y":"x";a=b.getScaleComponent(a)?b.scaleName(a):void 0;return a},labelAlign:a=>{let {axis:b,labelAngle:e,orient:f,channel:g}=a;return b.labelAlign||tk(e,f,g)},labelAngle:a=>{({labelAngle:a}=a);return a},labelBaseline:a=>{let {axis:b,labelAngle:e,orient:f,channel:g}=a;return b.labelBaseline||Qj(e,f,g)},labelFlush:a=>{let {axis:b,fieldOrDatumDef:e,channel:f}=a;null==(a=b.labelFlush)&&(a="x"===f&&Ab(["quantitative","temporal"],e.type)?
!0:void 0);return a},labelOverlap:a=>{let {axis:b,fieldOrDatumDef:e,scaleType:f}=a;if(null==(a=b.labelOverlap)){a=e.type;var g=xa(e)&&!!e.timeUnit,n=xa(e)?e.sort:void 0;a=g&&!h.isObject(n)||"nominal"!==a&&"ordinal"!==a?"log"===f||"symlog"===f?"greedy":!0:void 0}return a},orient:a=>{({orient:a}=a);return a},tickCount:a=>{let {channel:b,model:e,axis:f,fieldOrDatumDef:g,scaleType:n}=a;a=(a="x"===b?"width":"y"===b?"height":void 0)?e.getSizeSignalRef(a):void 0;let C;if(null!=(C=f.tickCount))var P=C;else a:{let {fieldOrDatumDef:ba,
scaleType:ua,size:ab,values:ob}={fieldOrDatumDef:g,scaleType:n,size:a,values:f.values};if(ob||Md(ua)||"log"===ua)P=void 0;else{if(xa(ba)){if(sb(ba.bin)){P={signal:`ceil(${ab.signal}/10)`};break a}if(ba.timeUnit&&Ab(["month","hours","day","quarter"],null==(P=kd(ba.timeUnit))?void 0:P.unit)){P=void 0;break a}}P={signal:`ceil(${ab.signal}/40)`}}}return P},tickMinStep:function(a){let {format:b,fieldOrDatumDef:e}=a;if("d"===b)return 1;if(xa(e)&&({timeUnit:a}=e,a&&(a=he(a))))return{signal:a}},title:a=>
{let {axis:b,model:e,channel:f}=a;if(void 0!==b.title)return b.title;a=bj(e,f);if(void 0!==a)return a;a=e.typedFieldDef(f);const g=e.fieldDef("x"===f?"x2":"y2");return ma(a?[oe(a)]:[],xa(g)?[oe(g)]:[])},values:a=>{let {axis:b,fieldOrDatumDef:e}=a;a=b.values;a=h.isArray(a)?af(e,a):Mb(a)?a:void 0;return a},zindex:a=>{let {axis:b,fieldOrDatumDef:e,mark:f}=a;null==(a=b.zindex)&&(a="rect"===f&&Xd(e)?1:0);return a}};class $i extends ff{clone(){return new $i(null,Ee(this.transform))}constructor(a,b){super(a);
this.transform=b;S(this,"_dependentFields",void 0);this._dependentFields=oj(this.transform.calculate)}static parseAllForSortIndex(a,b){b.forEachFieldDef((e,f)=>{if(Zc(e)&&fe(e.sort)){const {field:n,timeUnit:C}=e;var g=e.sort;g=g.map((P,ba)=>`${Rb({field:n,timeUnit:C,equal:P})} ? ${ba} : `).join("")+g.length;a=new $i(a,{calculate:g,as:Yh(e,f,{forAs:!0})})}});return a}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",
expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${Wb(this.transform)}`}}const tj=["row","column"],uj=["header","footer"],dm={column:{start:0,end:1},row:{start:1,end:0}},Fl=Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,
labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,
titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),ml=ud(Fl);class jl extends wh{}const kl={symbols:function(a,b){let {fieldOrDatumDef:e,model:f,channel:g,legendCmpt:n,legendType:C}=b;if("symbol"===C){var {markDef:P,encoding:ba,config:ua,mark:ab}=f;b=P.filled&&"trail"!==ab;var ob=Object,hc=ob.assign,Pc={};for(var lc of sl){const Be=
ic(lc,f.markDef,f.config);void 0!==Be&&(Pc[lc]=Ua(Be))}lc=hc.call(ob,{},Pc,gc(f,{filled:b}));var Lc;ob=null!=(Lc=n.get("symbolOpacity"))?Lc:ua.legend.symbolOpacity;var dd;Lc=null!=(dd=n.get("symbolFillColor"))?dd:ua.legend.symbolFillColor;var gd;dd=null!=(gd=n.get("symbolStrokeColor"))?gd:ua.legend.symbolStrokeColor;var je;gd=void 0===ob?null!=(je=Bc(ba.opacity))?je:P.opacity:void 0;if(lc.fill)if("fill"===g||b&&"color"===g)delete lc.fill;else if(lc.fill.field)if(Lc)delete lc.fill;else{let Be;lc.fill=
Ua(null!=(Be=ua.legend.symbolBaseFillColor)?Be:"black");lc.fillOpacity=Ua(null!=gd?gd:1)}else if(h.isArray(lc.fill)){var de;let Be,Qe;if(je=null!=(Qe=null!=(Be=Dd(null!=(de=ba.fill)?de:ba.color))?Be:P.fill)?Qe:b&&P.color)lc.fill=Ua(je)}lc.stroke&&("stroke"===g||!b&&"color"===g?delete lc.stroke:lc.stroke.field||dd?delete lc.stroke:h.isArray(lc.stroke)&&(de=V(Dd(ba.stroke||ba.color),P.stroke,b?P.color:void 0))&&(lc.stroke={value:de}));"opacity"!==g&&((de=xa(e)&&Ae(f,n,e))?lc.opacity=[Object.assign({},
{test:de},Ua(null!=gd?gd:1)),Ua(ua.legend.unselectedOpacity)]:gd&&(lc.opacity=Ua(gd)));lc=Object.assign({},lc,a);return gb(lc)?void 0:lc}},gradient:function(a,b){let {model:e,legendType:f,legendCmpt:g}=b;if("gradient"===f){var {config:n,markDef:C,encoding:P}=e;b={};var ba,ua=void 0===(null!=(ba=g.get("gradientOpacity"))?ba:n.legend.gradientOpacity)?Bc(P.opacity)||C.opacity:void 0;ua&&(b.opacity=Ua(ua));b=Object.assign({},b,a);return gb(b)?void 0:b}},labels:function(a,b){let {fieldOrDatumDef:e,model:f,
channel:g,legendCmpt:n}=b;var C=f.legend(g)||{};b=f.config;var P=xa(e)?Ae(f,n,e):void 0;P=P?[{test:P,value:1},{value:b.legend.unselectedOpacity}]:void 0;const {format:ba,formatType:ua}=C;C=void 0;me(ua)?C=Je({fieldOrDatumDef:e,field:"datum.value",format:ba,formatType:ua,config:b}):void 0===ba&&void 0===ua&&b.customFormatTypes&&("quantitative"===e.type&&b.numberFormatType?C=Je({fieldOrDatumDef:e,field:"datum.value",format:b.numberFormat,formatType:b.numberFormatType,config:b}):"temporal"===e.type&&
b.timeFormatType&&xa(e)&&void 0===e.timeUnit&&(C=Je({fieldOrDatumDef:e,field:"datum.value",format:b.timeFormat,formatType:b.timeFormatType,config:b})));a=Object.assign({},P?{opacity:P}:{},C?{text:C}:{},a);return gb(a)?void 0:a},entries:function(a,b){({legendCmpt:b}=b);let e;return(null==(e=b.get("selections"))?0:e.length)?Object.assign({},a,{fill:{value:"transparent"}}):a}},Gl={direction:a=>{({direction:a}=a);return a},format:a=>{let {fieldOrDatumDef:b,legend:e,config:f}=a;const {format:g,formatType:n}=
e;return hf(b,b.type,g,n,f,!1)},formatType:a=>{let {legend:b,fieldOrDatumDef:e,scaleType:f}=a;({formatType:a}=b);return pf(a,e,f)},gradientLength:a=>{const {legend:b,legendConfig:e}=a;let f,g;if(null!=(g=null!=(f=b.gradientLength)?f:e.gradientLength))a=g;else{{let {legendConfig:n,model:C,direction:P,orient:ba,scaleType:ua}=a;const {gradientHorizontalMaxLength:ab,gradientHorizontalMinLength:ob,gradientVerticalMaxLength:hc,gradientVerticalMinLength:Pc}=n;a=pg.has(ua)?"horizontal"===P?"top"===ba||"bottom"===
ba?Td(C,"width",ob,ab):ob:Td(C,"height",Pc,hc):void 0}}return a},labelOverlap:a=>{let {legend:b,legendConfig:e,scaleType:f}=a;var g;g=null!=(a=null!=(g=b.labelOverlap)?g:e.labelOverlap)?a:Ab(["quantile","threshold","log","symlog"],f)?"greedy":void 0;return g},symbolType:a=>{let {legend:b,markDef:e,channel:f,encoding:g}=a;if(null!=(a=b.symbolType))var n=a;else a:{a=e.type;var C=e.shape;if("shape"!==f){const P=null!=(n=Dd(g.shape))?n:C;if(P){n=P;break a}}switch(a){case "bar":case "rect":case "image":case "square":n=
"square";break a;case "line":case "trail":case "rule":n="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":n="circle";break a}n=void 0}return n},title:a=>{let {fieldOrDatumDef:b,config:e}=a;return $c(b,e,{allowDisabling:!0})},type:a=>{let {legendType:b,scaleType:e,channel:f}=a;if(K(f)&&pg.has(e)){if("gradient"===b)return}else if("symbol"===b)return;return b},values:a=>{let {fieldOrDatumDef:b,legend:e}=a;a=e.values;a=h.isArray(a)?af(b,a):Mb(a)?
a:void 0;return a}},Pl="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");class Hl extends wh{constructor(a,b,e,f){super(Object.assign({},b),{name:a});this.specifiedProjection=b;this.size=e;this.data=f;S(this,"merged",!1)}get isFit(){return!!this.data}}class Ah extends ff{clone(){return new Ah(null,Ee(this.bins))}constructor(a,b){super(a);this.bins=b}static makeFromEncoding(a,b){const e=b.reduceFieldDef((f,
g,n)=>{if(yc(g)&&sb(g.bin)){const {key:ob,binComponent:hc}=Yd(g,g.bin,b);var C=Object,P=C.assign,ba=f[ob];var ua=b.config;if(Se(g,n)){var ab;let Pc;const lc=Pf(b)?null!=(Pc=null!=(ab=b.axis(n))?ab:b.legend(n))?Pc:{}:{};n=Rc(g,{expr:"datum"});ab=Rc(g,{expr:"datum",binSuffix:"end"});g={formulaAs:Rc(g,{binSuffix:"range",forAs:!0}),formula:Ze(n,ab,lc.format,lc.formatType,ua)}}else g={};f[ob]=P.call(C,{},hc,ba,g)}return f},{});return gb(e)?null:new Ah(a,e)}static makeFromTransform(a,b,e){const {key:f,
binComponent:g}=Yd(b,b.bin,e);return new Ah(a,{[f]:g})}merge(a,b){for(const e of ud(a.bins))e in this.bins?(b(a.bins[e].signal,this.bins[e].signal),this.bins[e].as=bb([...this.bins[e].as,...a.bins[e].as],Wb)):this.bins[e]=a.bins[e];for(const e of a.children)a.removeChild(e),e.parent=this;a.remove()}producedFields(){return new Set(og(this.bins).map(a=>a.as).flat(2))}dependentFields(){return new Set(og(this.bins).map(a=>a.field))}hash(){return`Bin ${Wb(this.bins)}`}assemble(){return og(this.bins).flatMap(a=>
{const b=[],[e,...f]=a.as;var g=a.bin,n=Object.assign({},g);g=g.extent;n=(delete n.extent,n);n=Object.assign({},{type:"bin",field:Za(a.field),as:e,signal:a.signal},Sb(g)?{extent:null}:{extent:g},a.span?{span:{signal:`span(${a.span})`}}:{},n);!g&&a.extentSignal&&(b.push({type:"extent",field:Za(a.field),signal:a.extentSignal}),n.extent={signal:a.extentSignal});b.push(n);for(const C of f)for(g=0;2>g;g++)b.push({type:"formula",expr:Rc({field:e[g]},{expr:"datum"}),as:C[g]});a.formula&&b.push({type:"formula",
expr:a.formula,as:a.formulaAs});return b})}}class ji extends ff{clone(){return new ji(null,new Set(this.dimensions),Ee(this.measures))}constructor(a,b,e){super(a);this.dimensions=b;this.measures=e}get groupBy(){return this.dimensions}static makeFromEncoding(a,b){let e=!1;b.forEachFieldDef(n=>{n.aggregate&&(e=!0)});const f={},g=new Set;if(!e)return null;b.forEachFieldDef((n,C)=>{const {aggregate:P,field:ba}=n;if(P)if("count"===P)null!=f["*"]||(f["*"]={}),f["*"].count=new Set([Rc(n,{forAs:!0})]);else{if(ja(P)||
va(P)){n=ja(P)?"argmin":"argmax";var ua=P[n];null!=f[ua]||(f[ua]={});f[ua][n]=new Set([Rc({op:n,field:ua},{forAs:!0})])}else null!=f[ba]||(f[ba]={}),f[ba][P]=new Set([Rc(n,{forAs:!0})]);Nh[C]&&"unaggregated"===b.scaleDomain(C)&&(null!=f[ba]||(f[ba]={}),f[ba].min=new Set([Rc({field:ba,aggregate:"min"},{forAs:!0})]),f[ba].max=new Set([Rc({field:ba,aggregate:"max"},{forAs:!0})]))}else{var ab=Pf(b)?b.encoding[X(C)]:void 0;if(yc(n)&&Pf(b)&&p(n,ab,b.markDef,b.config)){g.add(Rc(n,{}));g.add(Rc(n,{suffix:"end"}));
const {mark:ob,markDef:hc,config:Pc}=b;ab=y({fieldDef:n,markDef:hc,config:Pc});bc(ob)&&.5!==ab&&F(C)&&(g.add(Rc(n,{suffix:"offsetted_rect_start"})),g.add(Rc(n,{suffix:"offsetted_rect_end"})));n.bin&&Se(n,C)&&g.add(Rc(n,{binSuffix:"range"}))}else C in ni?(C=D(C),g.add(b.getName(C))):g.add(Rc(n));if(C=Zc(n))C=null==(ua=n.scale)?void 0:ua.range,C=h.isObject(C)&&"field"in C;C&&g.add(n.scale.range.field)}});return 0===g.size+ud(f).length?null:new ji(a,g,f)}static makeFromTransform(a,b){const e=new Set,
f={};for(const n of b.aggregate){const {op:C,field:P,as:ba}=n;if(C)if("count"===C){let ua;null!=(ua=f)["*"]||(ua["*"]={});f["*"].count=new Set([ba?ba:Rc(n,{forAs:!0})])}else{let ua,ab;null!=(ua=f)[ab=P]||(ua[ab]={});f[P][C]=new Set([ba?ba:Rc(n,{forAs:!0})])}}let g;for(const n of null!=(g=b.groupby)?g:[])e.add(n);return 0===e.size+ud(f).length?null:new ji(a,e,f)}merge(a){if(tb(this.dimensions,a.dimensions)){var b=this.measures;a=a.measures;for(const e of ud(a)){const f=a[e];for(const g of ud(f))if(e in
b){let n;b[e][g]=new Set([...(null!=(n=b[e][g])?n:[]),...f[g]])}else b[e]={[g]:f[g]}}return!0}wa("different dimensions, cannot merge");return!1}addDimensions(a){a.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...ud(this.measures)])}producedFields(){const a=new Set;for(const b of ud(this.measures))for(const e of ud(this.measures[b])){const f=this.measures[b][e];0===f.size?a.add(`${e}_${b}`):f.forEach(a.add,a)}return a}hash(){return`Aggregate ${Wb({dimensions:this.dimensions,
measures:this.measures})}`}assemble(){const a=[],b=[],e=[];for(const f of ud(this.measures))for(const g of ud(this.measures[f]))for(const n of this.measures[f][g])e.push(n),a.push(g),b.push("*"===f?null:Za(f));return{type:"aggregate",groupby:[...this.dimensions].map(Za),ops:a,fields:b,as:e}}}class Ai extends ff{constructor(a,b,e,f){super(a);this.model=b;this.name=e;this.data=f;S(this,"column",void 0);S(this,"row",void 0);S(this,"facet",void 0);S(this,"childModel",void 0);for(const g of th)if(a=b.facet[g]){const {bin:n,
sort:C}=a;this[g]=Object.assign({},{name:b.getName(`${g}_domain`),fields:[Rc(a),...(sb(n)?[Rc(a,{binSuffix:"end"})]:[])]},ne(C)?{sortField:C}:h.isArray(C)?{sortIndexField:Yh(a,g)}:{})}this.childModel=b.child}hash(){let a="Facet";for(const b of th)this[b]&&(a+=` ${b.charAt(0)}:${Wb(this[b])}`);return a}get fields(){const a=[];for(const b of th){let e;(null==(e=this[b])?0:e.fields)&&a.push(...this[b].fields)}return a}dependentFields(){const a=new Set(this.fields);for(const b of th)this[b]&&(this[b].sortField&&
a.add(this[b].sortField.field),this[b].sortIndexField&&a.add(this[b].sortIndexField));return a}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const a={};for(const f of Qh){var b=this.childModel.component.scales[f];if(b&&!b.merged){var e=b.get("type");b=b.get("range");Md(e)&&Ob(b)&&(e=Si(this.childModel,f),(e=Yj(e))?a[f]=e:I(Vb(f)))}}return a}assembleRowColumnHeaderData(a,b,e){const f={row:"y",column:"x",facet:void 0}[a],g=[],n=[],C=[];f&&e&&e[f]&&
(b?(g.push(`distinct_${e[f]}`),n.push("max")):(g.push(e[f]),n.push("distinct")),C.push(`distinct_${e[f]}`));const {sortField:P,sortIndexField:ba}=this[a];if(P){const {op:ua="min",field:ab}=P;g.push(ab);n.push(ua);C.push(Rc(P,{forAs:!0}))}else ba&&(g.push(ba),n.push("max"),C.push(ba));return{name:this[a].name,source:null!=b?b:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[a].fields},g.length?{fields:g,ops:n,as:C}:{})]}}assembleFacetHeaderData(a){const {columns:b}=this.model.layout,
{layoutHeaders:e}=this.model.component,f=[],g={};for(const ba of tj){for(const ua of uj){let ab;var n=null!=(ab=e[ba]&&e[ba][ua])?ab:[];for(const ob of n){let hc;if(0<(null==(hc=ob.axes)?void 0:hc.length)){g[ba]=!0;break}}}g[ba]&&(n=`length(data("${this.facet.name}"))`,f.push({name:`${this.facet.name}_${ba}`,transform:[{type:"sequence",start:0,stop:"row"===ba?b?{signal:`ceil(${n} / ${b})`}:1:b?{signal:`min(${n}, ${b})`}:{signal:n}}]}))}const {row:C,column:P}=g;(C||P)&&f.unshift(this.assembleRowColumnHeaderData("facet",
null,a));return f}assemble(){const a=[];var b=null;const e=this.getChildIndependentFieldsWithStep(),{column:f,row:g,facet:n}=this;if(f&&g&&(e.x||e.y)){b=`cross_${this.column.name}_${this.row.name}`;var C;let P;const ba=[].concat(null!=(C=e.x)?C:[],null!=(P=e.y)?P:[]);C=ba.map(()=>"distinct");a.push({name:b,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:ba,ops:C}]})}for(const P of["column","row"])this[P]&&a.push(this.assembleRowColumnHeaderData(P,b,e));n&&(b=this.assembleFacetHeaderData(e))&&
a.push(...b);return a}}class c extends ff{clone(){return new c(null,Ee(this._parse))}constructor(a,b){super(a);S(this,"_parse",void 0);this._parse=b}hash(){return`Parse ${Wb(this._parse)}`}static makeExplicit(a,b,e){let f={};b=b.data;let g;!ng(b)&&(null==b?0:null==(g=b.format)?0:g.parse)&&(f=b.format.parse);return this.makeWithAncestors(a,f,{},e)}static makeWithAncestors(a,b,e,f){for(var g of ud(e)){const C=f.getWithExplicit(g);void 0!==C.value&&(C.explicit||C.value===e[g]||"derived"===C.value||"flatten"===
e[g]?delete e[g]:I(Hc(g,e[g],C.value)))}for(var n of ud(b))g=f.get(n),void 0!==g&&(g===b[n]?delete b[n]:I(Hc(n,b[n],g)));b=new wh(b,e);f.copyAll(b);e={};for(const C of ud(b.combine()))n=b.get(C),null!==n&&(e[C]=n);return 0===ud(e).length||f.parseNothing?null:new c(a,e)}get parse(){return this._parse}merge(a){this._parse=Object.assign({},this._parse,a.parse);a.remove()}assembleFormatParse(){const a={};for(const b of ud(this._parse)){const e=this._parse[b];1===$a(b)&&(a[b]=e)}return a}producedFields(){return new Set(ud(this._parse))}dependentFields(){return new Set(ud(this._parse))}assembleTransforms(){let a=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;return ud(this._parse).filter(b=>a?1<$a(b):!0).map(b=>{const e=ee(b,this._parse[b]);return e?{type:"formula",expr:e,as:Nb(b)}:null}).filter(b=>null!==b)}}class d extends ff{clone(){return new d(null)}constructor(a){super(a)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:"_vgsid_"}}}class k extends ff{clone(){return new k(null,this.params)}constructor(a,
b){super(a);this.params=b}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${Wb(this.params)}`}assemble(){return Object.assign({},{type:"graticule"},!0===this.params?{}:this.params)}}class u extends ff{clone(){return new u(null,this.params)}constructor(a,b){super(a);this.params=b}dependentFields(){return new Set}producedFields(){let a;return new Set([null!=(a=this.params.as)?a:"data"])}hash(){return`Hash ${Wb(this.params)}`}assemble(){return Object.assign({},{type:"sequence"},
this.params)}}class R extends ff{constructor(a){super(null);S(this,"_data",void 0);S(this,"_name",void 0);S(this,"_generator",void 0);null!=a||(a={name:"source"});let b;ng(a)||(b=a.format?Object.assign({},dc(a.format,["parse"])):{});if("values"in a)this._data={values:a.values};else if("url"in a){if(this._data={url:a.url},!b.type){let e=/(?:\.([^.]+))?$/.exec(a.url)[1];Ab(["json","csv","tsv","dsv","topojson"],e)||(e="json");b.type=e}}else if("sphere"in a)this._data={values:[{type:"Sphere"}]};else if(Kf(a)||
ng(a))this._data={};this._generator=ng(a);a.name&&(this._name=a.name);b&&!gb(b)&&(this._data.format=b)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(a){this._name=a}set parent(a){throw Error("Source nodes have to be roots.");}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");}assemble(){return Object.assign({},
{name:this._name},this._data,{transform:[]})}}var ea=new WeakMap;class Ta{constructor(){if(ea.has(this))throw new TypeError("Cannot initialize the same private elements twice on an object");ea.set(this,{writable:!0,value:void 0});r(this,ea,!1)}setModified(){r(this,ea,!0)}get modifiedFlag(){var a=da(this,ea,"get");return a.get?a.get.call(this):a.value}}class Tb extends Ta{getNodeDepths(a,b,e){e.set(a,b);for(const f of a.children)this.getNodeDepths(f,b+1,e);return e}optimize(a){a=[...this.getNodeDepths(a,
0,new Map).entries()].sort((b,e)=>e[1]-b[1]);for(const b of a)this.run(b[0]);return this.modifiedFlag}}class oc extends Ta{optimize(a){this.run(a);for(const b of a.children)this.optimize(b);return this.modifiedFlag}}class Vc extends oc{mergeNodes(a,b){const e=b.shift();for(const f of b)a.removeChild(f),f.parent=e,f.remove()}run(a){const b=a.children.map(f=>f.hash()),e={};for(let f=0;f<b.length;f++)void 0===e[b[f]]?e[b[f]]=[a.children[f]]:e[b[f]].push(a.children[f]);for(const f of ud(e))1<e[f].length&&
(this.setModified(),this.mergeNodes(a,e[f]))}}class yd extends oc{constructor(a){super();S(this,"requiresSelectionId",void 0);this.requiresSelectionId=a&&qg(a)}run(a){!(a instanceof d)||this.requiresSelectionId&&(Vf(a.parent)||a.parent instanceof ji||a.parent instanceof c)||(this.setModified(),a.remove())}}class Bd extends Ta{optimize(a){this.run(a,new Set);return this.modifiedFlag}run(a,b){let e=new Set;a instanceof Wh&&(e=a.producedFields(),rb(e,b)&&(this.setModified(),a.removeFormulas(b),0===a.producedFields.length&&
a.remove()));for(const f of a.children)this.run(f,new Set([...b,...e]))}}class wd extends oc{constructor(){super()}run(a){a instanceof Jg&&!a.isRequired()&&(this.setModified(),a.remove())}}class Vd extends Tb{run(a){if(!(Vf(a)||1<a.numChildren()))for(const b of a.children)b instanceof c&&(a instanceof c?(this.setModified(),a.merge(b)):vb(a.producedFields(),b.dependentFields())||(this.setModified(),b.swapWithParent()))}}class ge extends Tb{run(a){const b=[...a.children];var e=a.children.filter(g=>
g instanceof c);if(1<a.numChildren()&&1<=e.length){const g={};var f=new Set;for(const n of e){e=n.parse;for(const C of ud(e))C in g?g[C]!==e[C]&&f.add(C):g[C]=e[C]}for(const n of f)delete g[n];if(!gb(g)){this.setModified();f=new c(a,g);for(const n of b){if(n instanceof c)for(const C of ud(g))delete n.parse[C];a.removeChild(n);n.parent=f;n instanceof c&&0===ud(n.parse).length&&n.remove()}}}}}class ke extends Tb{run(a){a instanceof Jg||0<a.numChildren()||a instanceof Ai||a instanceof R||(this.setModified(),
a.remove())}}class cg extends Tb{run(a){a=a.children.filter(e=>e instanceof Wh);const b=a.pop();for(const e of a)this.setModified(),b.merge(e)}}class Gc extends Tb{run(a){var b=a.children.filter(g=>g instanceof ji);const e={};for(var f of b)b=Wb(f.groupBy),b in e||(e[b]=[]),e[b].push(f);for(const g of ud(e))if(f=e[g],1<f.length){b=f.pop();for(const n of f)b.merge(n)&&(a.removeChild(n),n.parent=b,n.remove(),this.setModified())}}}class uc extends Tb{constructor(a){super();this.model=a}run(a){var b=
!(Vf(a)||a instanceof Oi||a instanceof c||a instanceof d);const e=[],f=[];for(const g of a.children)g instanceof Ah&&(b&&!vb(a.producedFields(),g.dependentFields())?e.push(g):f.push(g));if(0<e.length){b=e.pop();for(const g of e)b.merge(g,this.model.renameSignal.bind(this.model));this.setModified();a instanceof Ah?a.merge(b,this.model.renameSignal.bind(this.model)):b.swapWithParent()}if(1<f.length){a=f.pop();for(const g of f)a.merge(g,this.model.renameSignal.bind(this.model));this.setModified()}}}
class Qc extends Tb{run(a){var b=[...a.children];if(Ub(b,g=>g instanceof Jg)&&!(1>=a.numChildren())){var e=[];for(const g of b)if(g instanceof Jg){for(b=g;1===b.numChildren();){const [n]=b.children;if(n instanceof Jg)b=n;else break}e.push(...b.children);if(f)a.removeChild(g),g.parent=f.parent,f.parent.removeChild(f),f.parent=b,this.setModified();else var f=b}else e.push(g);if(e.length){this.setModified();for(const g of e)g.parent.removeChild(g),g.parent=f}}}}class Fd extends ff{clone(){return new Fd(null,
Ee(this.transform))}constructor(a,b){super(a);this.transform=b}addDimensions(a){this.transform.groupby=bb(this.transform.groupby.concat(a),b=>b)}dependentFields(){const a=new Set;this.transform.groupby&&this.transform.groupby.forEach(a.add,a);this.transform.joinaggregate.map(b=>b.field).filter(b=>void 0!==b).forEach(a.add,a);return a}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(a){let b;return null!=(b=a.as)?b:Rc(a)}hash(){return`JoinAggregateTransform ${Wb(this.transform)}`}assemble(){const a=
[],b=[],e=[];for(var f of this.transform.joinaggregate)b.push(f.op),e.push(this.getDefaultName(f)),a.push(void 0===f.field?null:f.field);f=this.transform.groupby;return Object.assign({},{type:"joinaggregate",as:e,ops:b,fields:a},void 0!==f?{groupby:f}:{})}}class ce extends ff{clone(){return new ce(null,Ee(this._stack))}constructor(a,b){super(a);S(this,"_stack",void 0);this._stack=b}static makeFromTransform(a,b){const {stack:e,groupby:f,as:g,offset:n="zero"}=b;var C=[];const P=[];if(void 0!==b.sort)for(const ba of b.sort)C.push(ba.field),
P.push(V(ba.order,"ascending"));C={field:C,order:P};b=Of(g)?g:h.isString(g)?[g,`${g}_end`]:[`${b.stack}_start`,`${b.stack}_end`];return new ce(a,{dimensionFieldDefs:[],stackField:e,groupby:f,offset:n,sort:C,facetby:[],as:b})}static makeFromEncoding(a,b){var e=b.stack;const {encoding:f}=b;if(!e)return null;const {groupbyChannels:g,fieldChannel:n,offset:C,impute:P}=e;e=g.map(ab=>ue(f[ab])).filter(ab=>!!ab);const ba=Bf(b);var ua=b.encoding.order;if(h.isArray(ua)||xa(ua))ua=Uc(ua);else{const ab=ua&&ua.sort&&
!ua.field?ua.sort:"y"===n?"descending":"ascending";ua=ba.reduce((ob,hc)=>{ob.field.push(hc);ob.order.push(ab);return ob},{field:[],order:[]})}return new ce(a,{dimensionFieldDefs:e,stackField:b.vgField(n),facetby:[],stackby:ba,sort:ua,offset:C,impute:P,as:[b.vgField(n,{suffix:"start",forAs:!0}),b.vgField(n,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(a){this._stack.facetby.push(...a)}dependentFields(){const a=new Set;a.add(this._stack.stackField);this.getGroupbyFields().forEach(a.add,
a);this._stack.facetby.forEach(a.add,a);this._stack.sort.field.forEach(a.add,a);return a}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${Wb(this._stack)}`}getGroupbyFields(){const {dimensionFieldDefs:a,impute:b,groupby:e}=this._stack;return 0<a.length?a.map(f=>f.bin?b?[Rc(f,{binSuffix:"mid"})]:[Rc(f,{}),Rc(f,{binSuffix:"end"})]:[Rc(f)]).flat():null!=e?e:[]}assemble(){const a=[],{facetby:b,dimensionFieldDefs:e,stackField:f,stackby:g,sort:n,offset:C,impute:P,as:ba}=this._stack;
if(P)for(const ua of e){const {bandPosition:ab=.5,bin:ob}=ua;if(ob){const hc=Rc(ua,{expr:"datum"}),Pc=Rc(ua,{expr:"datum",binSuffix:"end"});a.push({type:"formula",expr:`${ab}*${hc}+${1-ab}*${Pc}`,as:Rc(ua,{binSuffix:"mid",forAs:!0})})}a.push({type:"impute",field:f,groupby:[...g,...b],key:Rc(ua,{binSuffix:"mid"}),method:"value",value:0})}a.push({type:"stack",groupby:[...this.getGroupbyFields(),...b],field:f,sort:n,as:ba,offset:C});return a}}class qe extends ff{clone(){return new qe(null,Ee(this.transform))}constructor(a,
b){super(a);this.transform=b}addDimensions(a){this.transform.groupby=bb(this.transform.groupby.concat(a),b=>b)}dependentFields(){const a=new Set;let b;(null!=(b=this.transform.groupby)?b:[]).forEach(a.add,a);let e;(null!=(e=this.transform.sort)?e:[]).forEach(f=>a.add(f.field));this.transform.window.map(f=>f.field).filter(f=>void 0!==f).forEach(a.add,a);return a}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(a){let b;return null!=(b=a.as)?b:Rc(a)}hash(){return`WindowTransform ${Wb(this.transform)}`}assemble(){const a=
[],b=[],e=[],f=[];for(var g of this.transform.window)b.push(g.op),e.push(this.getDefaultName(g)),f.push(void 0===g.param?null:g.param),a.push(void 0===g.field?null:g.field);g=this.transform.frame;const n=this.transform.groupby;if(g&&null===g[0]&&null===g[1]&&b.every(ua=>Ma(ua)))return Object.assign({},{type:"joinaggregate",as:e,ops:b,fields:a},void 0!==n?{groupby:n}:{});const C=[],P=[];if(void 0!==this.transform.sort)for(var ba of this.transform.sort){C.push(ba.field);let ua;P.push(null!=(ua=ba.order)?
ua:"ascending")}ba=this.transform.ignorePeers;return Object.assign({},{type:"window",params:f,as:e,ops:b,fields:a,sort:{field:C,order:P}},void 0!==ba?{ignorePeers:ba}:{},void 0!==n?{groupby:n}:{},void 0!==g?{frame:g}:{})}}class Zd{constructor(a){S(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:a})}static fromName(a,b){return new Zd(()=>a(b))}}class Ce extends wh{constructor(a,b){super({},{name:a});S(this,"merged",!1);this.setWithExplicit("type",b)}domainDefinitelyIncludesZero(){return!1!==
this.get("zero")?!0:Ub(this.get("domains"),a=>h.isArray(a)&&2===a.length&&h.isNumber(a[0])&&0>=a[0]&&h.isNumber(a[1])&&0<=a[1])}}const Eg=["range","scheme"],mf={bins:a=>{let {model:b,fieldOrDatumDef:e}=a;return xa(e)?gj(b,e):void 0},interpolate:a=>{let {channel:b,fieldOrDatumDef:e}=a;a=e.type;a=Ab(["color","fill","stroke"],b)&&"nominal"!==a?"hcl":void 0;return a},nice:a=>{let {scaleType:b,channel:e,domain:f,domainMin:g,domainMax:n,fieldOrDatumDef:C}=a;{let P;a=(null==(P=ue(C))?0:P.bin)||h.isArray(f)||
null!=n||null!=g||Ab([jg.TIME,jg.UTC],b)?void 0:F(e)?!0:void 0}return a},padding:a=>{let {channel:b,scaleType:e,fieldOrDatumDef:f,markDef:g,config:n}=a;a:{a=n.scale;var C=n.bar;if(F(b)){if(pg.has(e)){if(void 0!==a.continuousPadding){a=a.continuousPadding;break a}const {type:P,orient:ba}=g;if("bar"===P&&(!xa(f)||!f.bin&&!f.timeUnit)&&("vertical"===ba&&"x"===b||"horizontal"===ba&&"y"===b)){a=C.continuousBandSize;break a}}if(e===jg.POINT){a=a.pointPadding;break a}}a=void 0}return a},paddingInner:a=>
{let {scalePadding:b,channel:e,markDef:f,scaleType:g,config:n,hasNestedOffsetScale:C}=a;return Wj(b,e,f.type,g,n.scale,C)},paddingOuter:a=>{let {scalePadding:b,channel:e,scaleType:f,scalePaddingInner:g,config:n,hasNestedOffsetScale:C}=a;return Xj(b,e,f,g,n.scale,C)},reverse:a=>{let {fieldOrDatumDef:b,scaleType:e,channel:f,config:g}=a;a=xa(b)?b.sort:void 0;var n=g.scale;a="x"===f&&void 0!==n.xReverse?Ld(e)&&"descending"===a?Mb(n.xReverse)?{signal:`!${n.xReverse.signal}`}:!n.xReverse:n.xReverse:Ld(e)&&
"descending"===a?!0:void 0;return a},zero:a=>{let {channel:b,fieldOrDatumDef:e,domain:f,markDef:g,scaleType:n,config:C,hasSecondaryRangeChannel:P}=a;a:if(a=C.scale,f&&"unaggregated"!==f&&Ld(n)){if(h.isArray(f)){a=f[0];const ba=f[f.length-1];if(h.isNumber(a)&&0>=a&&h.isNumber(ba)&&0<=ba){a=!0;break a}}a=!1}else if("size"!==b||"quantitative"!==e.type||ci.has(n))if(xa(e)&&e.bin||!Ab([...Qh,...ol],b))a=!1;else{const {orient:ba,type:ua}=g;a=Ab(["bar","area","line","trail"],ua)&&("horizontal"===ba&&"y"===
b||"vertical"===ba&&"x"===b)?!1:Ab(["bar","area"],ua)&&!P?!0:null==a?void 0:a.zero}else a=!0;return a}},Ii=zh((a,b)=>dh[a]-dh[b]);class Rk{constructor(){S(this,"nameMap",void 0);this.nameMap={}}rename(a,b){this.nameMap[a]=b}has(a){return void 0!==this.nameMap[a]}get(a){for(;this.nameMap[a]&&a!==this.nameMap[a];)a=this.nameMap[a];return a}}class wm{constructor(a,b,e,f,g,n,C){this.type=b;this.parent=e;this.config=g;S(this,"name",void 0);S(this,"size",void 0);S(this,"title",void 0);S(this,"description",
void 0);S(this,"data",void 0);S(this,"transforms",void 0);S(this,"layout",void 0);S(this,"scaleNameMap",void 0);S(this,"projectionNameMap",void 0);S(this,"signalNameMap",void 0);S(this,"component",void 0);S(this,"view",void 0);S(this,"children",void 0);S(this,"correctDataNames",ua=>{let ab;if(null==(ab=ua.from)?0:ab.data)ua.from.data=this.lookupDataSource(ua.from.data);let ob,hc;if(null==(ob=ua.from)?0:null==(hc=ob.facet)?0:hc.data)ua.from.facet.data=this.lookupDataSource(ua.from.facet.data);return ua});
this.parent=e;this.config=g;this.view=Kb(C);let P;this.name=null!=(P=a.name)?P:f;this.title=ac(a.title)?{text:a.title}:a.title?Kb(a.title):void 0;this.scaleNameMap=e?e.scaleNameMap:new Rk;this.projectionNameMap=e?e.projectionNameMap:new Rk;this.signalNameMap=e?e.signalNameMap:new Rk;this.data=a.data;this.description=a.description;let ba;this.transforms=wg(null!=(ba=a.transform)?ba:[]);this.layout="layer"===b||"unit"===b?{}:Xe(a,b,g);this.component={data:{sources:e?e.component.data.sources:[],outputNodes:e?
e.component.data.outputNodes:{},outputNodeRefCounts:e?e.component.data.outputNodeRefCounts:{},isFaceted:"facet"in a||(null==e?void 0:e.component.data.isFaceted)&&void 0===a.data},layoutSize:new wh,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},n?Ee(n):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();
this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){Zj(this)}parseProjection(){He(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){Ye(this)}assembleEncodeFromView(a){a=Object.assign({},
a);a=(delete a.style,a);const b={};for(const e of ud(a)){const f=a[e];void 0!==f&&(b[e]=Ua(f))}return b}assembleGroupEncodeEntry(a){let b={};this.view&&(b=this.assembleEncodeFromView(this.view));if(!a&&(this.description&&(b.description=Ua(this.description)),"unit"===this.type||"layer"===this.type)){let e;return Object.assign({},{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!=(e=b)?e:{})}return gb(b)?void 0:b}assembleLayout(){if(this.layout){var a=this.layout,b=
Object.assign({},a);a=a.spacing;b=(delete b.spacing,b);var {component:e,config:f}=this,g=e.layoutHeaders,n={};for(P of th){var C=g[P];let ba;if(null==(ba=C)?0:ba.facetFieldDef){const {titleAnchor:ua,titleOrient:ab}=Zh(["titleAnchor","titleOrient"],C.facetFieldDef.header,f,P);C=zg(P,ab);const ob=dm[C][ua];void 0!==ob&&(n[C]=ob)}}var P=gb(n)?void 0:n;return Object.assign({},{padding:a},this.assembleDefaultLayout(),b,P?{titleBand:P}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){var {layoutHeaders:a}=
this.component,b=[];for(var e of th)if(a[e].title){var f=b,g=f.push;var n=e;var C=this.component.layoutHeaders[n].title,P=this.config?this.config:void 0,ba=this.component.layoutHeaders[n].facetFieldDef?this.component.layoutHeaders[n].facetFieldDef:void 0;const {titleAnchor:Lc,titleAngle:dd,titleOrient:gd}=Zh(["titleAnchor","titleAngle","titleOrient"],ba.header,P,n);var ua=zg(n,gd),ab=Na(dd);n={name:`${n}-title`,type:"group",role:`${ua}-title`,title:Object.assign({},{text:C},"row"===n?{orient:"left"}:
{},{style:"guide-title"},m(ab,ua),Mh(ua,ab,Lc),L(P,ba,n,Yl,Ij))};g.call(f,n)}for(const Lc of tj){a=b;b=a.concat;f=Lc;g=this.component.layoutHeaders[f];e=[];for(const dd of uj)if(g[dd])for(const gd of g[dd]){a:{ba=void 0;n=f;var ob=dd,hc=g;if(C=gd){P=null;({facetFieldDef:lc}=hc);ua=this.config?this.config:void 0;lc&&C.labels&&({labelOrient:ab}=Zh(["labelOrient"],lc.header,ua,n),"row"===n&&!Ab(["top","bottom"],ab)||"column"===n&&!Ab(["left","right"],ab))&&(P=H(lc,n,ua));const je=kh(this)&&!le(this.facet),
de=C.axes,Be=0<(null==de?void 0:de.length);if(P||Be){const Qe="row"===n?"height":"width";ua=Object;ab=ua.assign;ob={name:this.getName(`${n}_${ob}`),type:"group",role:`${n}-${ob}`};if(hc.facetFieldDef){hc={data:this.getName(`${n}_domain`)};{var Pc=lc;const {sort:Lf}=Pc;var lc=ne(Lf)?{field:Rc(Lf,{expr:"datum"}),order:null!=(ba=Lf.order)?ba:"ascending"}:h.isArray(Lf)?{field:Yh(Pc,n,{expr:"datum"}),order:"ascending"}:{field:Rc(Pc,{expr:"datum"}),order:null!=Lf?Lf:"ascending"}}ba={from:hc,sort:lc}}else ba=
{};n=ab.call(ua,{},ob,ba,Be&&je?{from:{data:this.getName(`facet_domain_${n}`)}}:{},P?{title:P}:{},C.sizeSignal?{encode:{update:{[Qe]:C.sizeSignal}}}:{},Be?{axes:de}:{});break a}}n=null}null!=n&&e.push(n)}b=b.call(a,e)}return b}assembleAxes(){return Oj(this.component.axes,this.config)}assembleLegends(){return Af(this)}assembleProjections(){var a=Ri(this)||Ok(this)?yg(this):Ug(this);return a}assembleTitle(){var a,b=null!=(a=this.title)?a:{};a=Object.assign({},b);b=b.encoding;a=(delete a.encoding,a);
b=Object.assign({},pc(this.config.title).nonMarkTitleProperties,a,b?{encode:{update:b}}:{});if(b.text)return Ab(["unit","layer"],this.type)?Ab(["middle",void 0],b.anchor)&&(null!=b.frame||(b.frame="group")):null!=b.anchor||(b.anchor="start"),gb(b)?void 0:b}assembleGroup(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];const b={};a=a.concat(this.assembleSignals());0<a.length&&(b.signals=a);if(a=this.assembleLayout())b.layout=a;b.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());
a=!this.parent||kh(this.parent)?nl(this):[];0<a.length&&(b.scales=a);a=this.assembleAxes();0<a.length&&(b.axes=a);a=this.assembleLegends();0<a.length&&(b.legends=a);return b}getName(a){return sa((this.name?`${this.name}_`:"")+a)}getDataName(a){return this.getName(Cf[a].toLowerCase())}requestDataName(a){a=this.getDataName(a);const b=this.component.data.outputNodeRefCounts;b[a]=(b[a]||0)+1;return a}getSizeSignalRef(a){if(kh(this.parent)){var b=Jb(a),e=W(b);if((b=this.component.scales[e])&&!b.merged){var f=
b.get("type");const g=b.get("range");if(Md(f)&&Ob(g)){a=b.get("name");f=Si(this,e);if(f=Yj(f))return e=Rc({aggregate:"distinct",field:f},{expr:"datum"}),{signal:mb(a,b,e)};I(Vb(e));return null}}}return{signal:this.signalNameMap.get(this.getName(a))}}lookupDataSource(a){const b=this.component.data.outputNodes[a];return b?b.getSource():a}getSignalName(a){return this.signalNameMap.get(a)}renameSignal(a,b){this.signalNameMap.rename(a,b)}renameScale(a,b){this.scaleNameMap.rename(a,b)}renameProjection(a,
b){this.projectionNameMap.rename(a,b)}scaleName(a,b){if(b)return this.getName(a);if(yj[a]&&Nh[a]&&this.component.scales[a]||this.scaleNameMap.has(this.getName(a)))return this.scaleNameMap.get(this.getName(a))}projectionName(a){if(a)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(a){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");
const b=this.component.scales[a];return b&&!b.merged?b:this.parent?this.parent.getScaleComponent(a):void 0}getSelectionComponent(a,b){let e=this.component.selection[a];!e&&this.parent&&(e=this.parent.getSelectionComponent(a,b));if(!e)throw Error(`Cannot find a selection named "${b}".`);return e}hasAxisOrientSignalRef(){let a,b;return(null==(a=this.component.axes.x)?void 0:a.some(e=>e.hasOrientSignalRef()))||(null==(b=this.component.axes.y)?void 0:b.some(e=>e.hasOrientSignalRef()))}}class Em extends wm{vgField(a){let b=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const e=this.fieldDef(a);if(e)return Rc(e,b)}reduceFieldDef(a,b){return Ag(this.getMapping(),(e,f,g)=>(f=ue(f))?a(e,f,g):e,b)}forEachFieldDef(a,b){kg(this.getMapping(),(e,f)=>{(e=ue(e))&&a(e,f)},b)}}class pm extends ff{clone(){return new pm(null,Ee(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=Ee(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let f,g;this.transform.as=[null!=(f=a[0])?f:"value",null!=(g=
a[1])?g:"density"]}dependentFields(){let a;return new Set([this.transform.density,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${Wb(this.transform)}`}assemble(){var a=this.transform,b=Object.assign({},a);a=a.density;b=(delete b.density,b);b=Object.assign({},{type:"kde",field:a},b);this.transform.groupby&&(b.resolve="shared");return b}}class vm extends ff{clone(){return new vm(null,Ee(this.transform))}constructor(a,b){super(a);
this.transform=b;this.transform=Ee(b)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${Wb(this.transform)}`}assemble(){const {extent:a,param:b}=this.transform;return{type:"extent",field:a,signal:b}}}class Il extends ff{clone(){return new Il(null,Object.assign({},this.filter))}constructor(a,b){super(a);this.filter=b}static make(a,b){const {config:e,mark:f,markDef:g}=b;if("filter"!==Zb("invalid",g,e))return null;const n=b.reduceFieldDef((C,
P,ba)=>{if(ba=!!Nh[ba]&&b.getScaleComponent(ba))ba=ba.get("type"),Ld(ba)&&"count"!==P.aggregate&&!Qa(f)&&(C[P.field]=P);return C},{});return ud(n).length?new Il(a,n):null}dependentFields(){return new Set(ud(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${Wb(this.filter)}`}assemble(){const a=ud(this.filter).reduce((b,e)=>{e=this.filter[e];const f=Rc(e,{expr:"datum"});null!==e&&("temporal"===e.type?b.push(`(isDate(${f}) || (isValid(${f}) && isFinite(+${f})))`):"quantitative"===
e.type&&(b.push(`isValid(${f})`),b.push(`isFinite(+${f})`)));return b},[]);return 0<a.length?{type:"filter",expr:a.join(" \x26\x26 ")}:null}}class om extends ff{clone(){return new om(this.parent,Ee(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=Ee(b);const {flatten:e,as:f=[]}=this.transform;this.transform.as=e.map((g,n)=>{let C;return null!=(C=f[n])?C:g})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${Wb(this.transform)}`}assemble(){const {flatten:a,
as:b}=this.transform;return{type:"flatten",fields:a,as:b}}}class nm extends ff{clone(){return new nm(null,Ee(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=Ee(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let f,g;this.transform.as=[null!=(f=a[0])?f:"key",null!=(g=a[1])?g:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${Wb(this.transform)}`}assemble(){const {fold:a,
as:b}=this.transform;return{type:"fold",fields:a,as:b}}}class hl extends ff{clone(){return new hl(null,Ee(this.fields),this.geojson,this.signal)}static parseAll(a,b){if(b.component.projection&&!b.component.projection.isFit)return a;let e=0;for(var f of[["longitude","latitude"],["longitude2","latitude2"]]){const g=f.map(n=>{n=Sd(b.encoding[n]);return xa(n)?n.field:Ib(n)?{expr:`${n.datum}`}:Jc(n)?{expr:`${n.value}`}:void 0});if(g[0]||g[1])a=new hl(a,g,null,b.getName(`geojson_${e++}`))}b.channelHasField("shape")&&
(f=b.typedFieldDef("shape"),"geojson"===f.type&&(a=new hl(a,null,f.field,b.getName(`geojson_${e++}`))));return a}constructor(a,b,e,f){super(a);this.fields=b;this.geojson=e;this.signal=f}dependentFields(){let a;const b=(null!=(a=this.fields)?a:[]).filter(h.isString);return new Set([...(this.geojson?[this.geojson]:[]),...b])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${Wb(this.fields)}`}assemble(){return[...(this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:
[]),Object.assign({},{type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})]}}class Jl extends ff{clone(){return new Jl(null,this.projection,Ee(this.fields),Ee(this.as))}constructor(a,b,e,f){super(a);this.projection=b;this.fields=e;this.as=f}static parseAll(a,b){if(!b.projectionName())return a;for(const e of[["longitude","latitude"],["longitude2","latitude2"]]){const f=e.map(n=>{n=Sd(b.encoding[n]);return xa(n)?n.field:Ib(n)?{expr:`${n.datum}`}:
Jc(n)?{expr:`${n.value}`}:void 0}),g="longitude2"===e[0]?"2":"";if(f[0]||f[1])a=new Jl(a,b.projectionName(),f,[b.getName(`x${g}`),b.getName(`y${g}`)])}return a}dependentFields(){return new Set(this.fields.filter(h.isString))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${Wb(this.fields)} ${Wb(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Ak extends ff{clone(){return new Ak(null,Ee(this.transform))}constructor(a,
b){super(a);this.transform=b}dependentFields(){let a;return new Set([this.transform.impute,this.transform.key,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set([this.transform.impute])}processSequence(a){const {start:b=0,stop:e,step:f}=a;return{signal:`sequence(${[b,e,...(f?[f]:[])].join()})`}}static makeFromTransform(a,b){return new Ak(a,b)}static makeFromEncoding(a,b){const e=b.encoding;var f=e.x;const g=e.y;if(xa(f)&&xa(g)){const n=f.impute?f:g.impute?g:void 0;if(void 0===
n)return;f=f.impute?g:g.impute?f:void 0;const {method:C,value:P,frame:ba,keyvals:ua}=n.impute;b=lg(b.mark,e);return new Ak(a,Object.assign({},{impute:n.field,key:f.field},C?{method:C}:{},void 0!==P?{value:P}:{},ba?{frame:ba}:{},void 0!==ua?{keyvals:ua}:{},b.length?{groupby:b}:{}))}return null}hash(){return`Impute ${Wb(this.transform)}`}assemble(){const {impute:a,key:b,keyvals:e,method:f,groupby:g,value:n,frame:C=[null,null]}=this.transform;var P=Object,ba=P.assign;var ua=e?{keyvals:void 0!==(null==
e?void 0:e.stop)?this.processSequence(e):e}:{};P=ba.call(P,{},{type:"impute",field:a,key:b},ua,{method:"value"},g?{groupby:g}:{},{value:f&&"value"!==f?null:n});return f&&"value"!==f?(ba=Object.assign({},{type:"window",as:[`imputed_${a}_value`],ops:[f],fields:[a],frame:C,ignorePeers:!1},g?{groupby:g}:{}),[P,ba,{type:"formula",expr:`datum.${a} === null ? datum.imputed_${a}_value : datum.${a}`,as:a}]):[P]}}class qm extends ff{clone(){return new qm(null,Ee(this.transform))}constructor(a,b){super(a);this.transform=
b;this.transform=Ee(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let f,g;this.transform.as=[null!=(f=a[0])?f:b.on,null!=(g=a[1])?g:b.loess]}dependentFields(){let a;return new Set([this.transform.loess,this.transform.on,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${Wb(this.transform)}`}assemble(){var a=this.transform,b=Object.assign({},a);const e=a.loess;a=a.on;b=(delete b.loess,delete b.on,b);return Object.assign({},
{type:"loess",x:a,y:e},b)}}class Kl extends ff{clone(){return new Kl(null,Ee(this.transform),this.secondary)}constructor(a,b,e){super(a);this.transform=b;this.secondary=e}static make(a,b,e,f){const g=b.component.data.sources,{from:n}=e;var C=null;if("data"in n)C=pl(n.data,g),C||(C=new R(n.data),g.push(C)),f=b.getName(`lookup_${f}`),C=new Jg(C,f,Cf.Lookup,b.component.data.outputNodeRefCounts),b.component.data.outputNodes[f]=C;else if("param"in n){f=n.param;e=Object.assign({},{as:f},e);let P;try{P=
b.getSelectionComponent(sa(f),f)}catch(ba){throw Error(`Lookups can only be performed on selection parameters. "${f}" is a variable parameter.`);}C=P.materialized;if(!C)throw Error(`Cannot define and lookup the "${f}" selection in the same view. `+"Try moving the lookup into a second, layered view?");}return new Kl(a,e,C.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?h.array(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${Wb({transform:this.transform,
secondary:this.secondary})}`}assemble(){if(this.transform.from.fields)var a=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:h.array(this.transform.as)}:{});else a=this.transform.as,h.isString(a)||(I('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),a="_lookup"),a={as:[a]};return Object.assign({},{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},
a,this.transform.default?{default:this.transform.default}:{})}}class rm extends ff{clone(){return new rm(null,Ee(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=Ee(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let f,g;this.transform.as=[null!=(f=a[0])?f:"prob",null!=(g=a[1])?g:"value"]}dependentFields(){let a;return new Set([this.transform.quantile,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${Wb(this.transform)}`}assemble(){var a=
this.transform,b=Object.assign({},a);a=a.quantile;b=(delete b.quantile,b);return Object.assign({},{type:"quantile",field:a},b)}}class sm extends ff{clone(){return new sm(null,Ee(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=Ee(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let f,g;this.transform.as=[null!=(f=a[0])?f:b.on,null!=(g=a[1])?g:b.regression]}dependentFields(){let a;return new Set([this.transform.regression,this.transform.on,...(null!=(a=this.transform.groupby)?
a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${Wb(this.transform)}`}assemble(){var a=this.transform,b=Object.assign({},a);const e=a.regression;a=a.on;b=(delete b.regression,delete b.on,b);return Object.assign({},{type:"regression",x:a,y:e},b)}}class um extends ff{clone(){return new um(null,Ee(this.transform))}constructor(a,b){super(a);this.transform=b}addDimensions(a){let b;this.transform.groupby=bb((null!=(b=this.transform.groupby)?b:[]).concat(a),
e=>e)}producedFields(){}dependentFields(){let a;return new Set([this.transform.pivot,this.transform.value,...(null!=(a=this.transform.groupby)?a:[])])}hash(){return`PivotTransform ${Wb(this.transform)}`}assemble(){const {pivot:a,value:b,groupby:e,limit:f,op:g}=this.transform;return Object.assign({},{type:"pivot",field:a,value:b},void 0!==f?{limit:f}:{},void 0!==g?{op:g}:{},void 0!==e?{groupby:e}:{})}}class tm extends ff{clone(){return new tm(null,Ee(this.transform))}constructor(a,b){super(a);this.transform=
b}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${Wb(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}class Ml extends Em{constructor(a,b,e,f){super(a,"facet",b,e,f,a.resolve);S(this,"facet",void 0);S(this,"child",void 0);S(this,"children",void 0);this.child=dl(a.spec,this,this.getName("child"),void 0,f);this.children=[this.child];this.facet=this.initFacet(a.facet)}initFacet(a){if(!le(a))return{facet:this.initFacetFieldDef(a,
"facet")};var b=ud(a);const e={};for(const f of b){if(!["row","column"].includes(f)){I(ed(f,"facet"));break}b=a[f];if(void 0===b.field){I(sd(b,f));break}e[f]=this.initFacetFieldDef(b,f)}return e}initFacetFieldDef(a,b){a=jf(a,b);a.header?a.header=Kb(a.header):null===a.header&&(a.header=null);return a}channelHasField(a){return!!this.facet[a]}fieldDef(a){return this.facet[a]}parseData(){this.component.data=fk(this);this.child.parseData()}parseLayoutSize(){Mk(this)}parseSelections(){this.child.parseSelections();
this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();for(const f of th){var a=void 0,b=f;const {facet:g,config:n,child:C,component:P}=this;if(this.channelHasField(b)){const ba=g[b];var e=ki("title",null,n,b);e=$c(ba,n,{allowDisabling:!0,includeDefault:void 0===e||!!e});C.component.layoutHeaders[b].title&&(e=h.isArray(e)?e.join(", "):e,e+=` / ${C.component.layoutHeaders[b].title}`,C.component.layoutHeaders[b].title=
null);const ua=ki("labelOrient",ba.header,n,b),ab=null!==ba.header?V(null==(a=ba.header)?void 0:a.labels,n.header.labels,!0):!1;a=Ab(["bottom","right"],ua)?"footer":"header";P.layoutHeaders[b]={title:null!==ba.header?e:null,facetFieldDef:ba,[a]:"facet"===b?[]:[Lk(this,b,ab)]}}}Cl(this,"x");Cl(this,"y")}assembleSelectionTopLevelSignals(a){return this.child.assembleSelectionTopLevelSignals(a)}assembleSignals(){this.child.assembleSignals();return[]}assembleSelectionData(a){return this.child.assembleSelectionData(a)}getHeaderLayoutMixins(){const a=
{};for(const f of th)for(const g of uj){const n=this.component.layoutHeaders[f];var b=n[g],{facetFieldDef:e}=n;if(e&&(e=ki("titleOrient",e.header,this.config,f),["right","bottom"].includes(e))){e=zg(f,e);let P;null!=(P=a).titleAnchor||(P.titleAnchor={});a.titleAnchor[e]="end"}let C;if(null==(C=b)?0:C[0]){b="row"===f?"height":"width";e="header"===g?"headerBand":"footerBand";if("facet"!==f&&!this.child.component.layoutSize.get(b)){let P,ba;null!=(P=a)[ba=e]||(P[ba]={});a[e][f]=.5}if(n.title){let P;
null!=(P=a).offset||(P.offset={});a.offset["row"===f?"rowTitle":"columnTitle"]=10}}}return a}assembleDefaultLayout(){const {column:a,row:b}=this.facet,e=a?this.columnDistinctSignal():b?1:void 0;let f="all";b||"independent"!==this.component.resolve.scale.x?a||"independent"!==this.component.resolve.scale.y||(f="none"):f="none";return Object.assign({},this.getHeaderLayoutMixins(),e?{columns:e}:{},{bounds:"full",align:f})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&
this.parent instanceof Ml))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(a){return this.parent&&this.parent instanceof Ml?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:Rc(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(a)):super.assembleGroup(a)}getCardinalityAggregateForChild(){const a=[],b=[],e=[];if(this.child instanceof Ml){if(this.child.channelHasField("column")){var f=Rc(this.child.facet.column);
a.push(f);b.push("distinct");e.push(`distinct_${f}`)}}else for(f of Qh){var g=this.child.component.scales[f];if(g&&!g.merged){var n=g.get("type");g=g.get("range");Md(n)&&Ob(g)&&(n=Si(this.child,f),(n=Yj(n))?(a.push(n),b.push("distinct"),e.push(`distinct_${n}`)):I(Vb(f)))}}return{fields:a,ops:b,as:e}}assembleFacet(){const {name:a,data:b}=this.component.data.facetRoot,{row:e,column:f}=this.facet,{fields:g,ops:n,as:C}=this.getCardinalityAggregateForChild(),P=[];for(var ba of th){var ua=this.facet[ba];
if(ua){P.push(Rc(ua));const {bin:ab,sort:ob}=ua;sb(ab)&&P.push(Rc(ua,{binSuffix:"end"}));if(ne(ob)){const {field:hc,op:Pc="min"}=ob;ua=bl(ua,ob);e&&f?(g.push(ua),n.push("max")):(g.push(hc),n.push(Pc));C.push(ua)}else h.isArray(ob)&&(ua=Yh(ua,ba),g.push(ua),n.push("max"),C.push(ua))}}ba=!!e&&!!f;return Object.assign({},{name:a,data:b,groupby:P},ba||0<g.length?{aggregate:Object.assign({},ba?{cross:ba}:{},g.length?{fields:g,ops:n,as:C}:{})}:{})}facetSortFields(a){var {facet:b}=this;return(b=b[a])?ne(b.sort)?
[bl(b,b.sort,{expr:"datum"})]:h.isArray(b.sort)?[Yh(b,a,{expr:"datum"})]:[Rc(b,{expr:"datum"})]:[]}facetSortOrder(a){const {facet:b}=this;return(a=b[a])?({sort:a}=a,[(ne(a)?a.order:!h.isArray(a)&&a)||"ascending"]):[]}assembleLabelTitle(){const {facet:a,config:b}=this;if(a.facet)return H(a.facet,"facet",b);const e={row:["top","bottom"],column:["left","right"]};for(const f of tj)if(a[f]){let g;const n=ki("labelOrient",null==(g=a[f])?void 0:g.header,b,f);if(e[f].includes(n))return H(a[f],f,b)}}assembleMarks(){const {child:a}=
this,b=Rj(this.component.data.facetRoot),e=a.assembleGroupEncodeEntry(!1),f=this.assembleLabelTitle()||a.assembleTitle(),g=a.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},f?{title:f}:{},g?{style:g}:{},{from:{facet:this.assembleFacet()},sort:{field:th.map(n=>this.facetSortFields(n)).flat(),order:th.map(n=>this.facetSortOrder(n)).flat()}},0<b.length?{data:b}:{},e?{encode:{update:e}}:{},a.assembleGroup(hh(this,[])))]}getMapping(){return this.facet}}class Jm extends wm{constructor(a,
b,e,f){super(a,"concat",b,e,f,a.resolve);S(this,"children",void 0);let g,n,C,P;"shared"!==(null==(g=a.resolve)?void 0:null==(n=g.axis)?void 0:n.x)&&"shared"!==(null==(C=a.resolve)?void 0:null==(P=C.axis)?void 0:P.y)||I("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");this.children=this.getChildren(a).map((ba,ua)=>dl(ba,this,this.getName(`concat_${ua}`),void 0,f))}parseData(){this.component.data=fk(this);for(const a of this.children)a.parseData()}parseSelections(){this.component.selection=
{};for(const a of this.children){a.parseSelections();for(const b of ud(a.component.selection))this.component.selection[b]=a.component.selection[b]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){for(const a of this.children)a.parseAxesAndHeaders()}getChildren(a){return"vconcat"in a?a.vconcat:"hconcat"in a?a.hconcat:a.concat}parseLayoutSize(){Mk(this);const a=void 0===this.layout.columns?"height":"childHeight";wk(this,1===this.layout.columns?"width":"childWidth");
wk(this,a)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(a){return this.children.reduce((b,e)=>e.assembleSelectionTopLevelSignals(b),a)}assembleSignals(){this.children.forEach(a=>a.assembleSignals());return[]}assembleLayoutSignals(){const a=ka(this);for(const b of this.children)a.push(...b.assembleLayoutSignals());return a}assembleSelectionData(a){return this.children.reduce((b,e)=>e.assembleSelectionData(b),a)}assembleMarks(){return this.children.map(a=>{const b=a.assembleTitle(),
e=a.assembleGroupStyle(),f=a.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:a.getName("group")},b?{title:b}:{},e?{style:e}:{},f?{encode:{update:f}}:{},a.assembleGroup())})}assembleGroupStyle(){}assembleDefaultLayout(){const a=this.layout.columns;return Object.assign({},null!=a?{columns:a}:{},{bounds:"full",align:"each"})}}const Km=Object.assign({},{disable:1,gridScale:1,scale:1},nk,{labelExpr:1,encode:1}),Am=ud(Km);class Bm extends wh{constructor(){let a=0<arguments.length&&
void 0!==arguments[0]?arguments[0]:{},b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super();this.explicit=a;this.implicit=b;this.mainExtracted=e}clone(){return new Bm(Ee(this.explicit),Ee(this.implicit),this.mainExtracted)}hasAxisPart(a){if("axis"===a)return!0;if("grid"===a||"title"===a)return!!this.get(a);a=this.get(a);return!(!1===a||null===a)}hasOrientSignalRef(){return Mb(this.explicit.orient)}}const Lm={bottom:"top",top:"bottom",
left:"right",right:"left"},Im=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),Ll={arc:{vgMark:"arc",encodeEntry:a=>Object.assign({},Hg(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),zd("x",a,{defaultPos:"mid"}),zd("y",a,{defaultPos:"mid"}),Kg(a,"radius"),Kg(a,"theta"))},area:{vgMark:"area",encodeEntry:a=>Object.assign({},Hg(a,{align:"ignore",baseline:"ignore",color:"include",orient:"include",
size:"ignore",theta:"ignore"}),Pe("x",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===a.markDef.orient}),Pe("y",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===a.markDef.orient}),rh(a))},bar:{vgMark:"rect",encodeEntry:a=>Object.assign({},Hg(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Kg(a,"x"),Kg(a,"y"))},circle:{vgMark:"symbol",encodeEntry:a=>cl(a,"circle")},geoshape:{vgMark:"shape",encodeEntry:a=>
Object.assign({},Hg(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:a=>{var {encoding:b}=a;b=b.shape;return[Object.assign({},{type:"geoshape",projection:a.projectionName()},b&&xa(b)&&"geojson"===b.type?{field:Rc(b,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:a=>Object.assign({},Hg(a,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),Kg(a,"x"),Kg(a,"y"),J(a,"url"))},line:{vgMark:"line",
encodeEntry:a=>Object.assign({},Hg(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),zd("x",a,{defaultPos:"mid"}),zd("y",a,{defaultPos:"mid"}),wc("size",a,{vgChannel:"strokeWidth"}),rh(a))},point:{vgMark:"symbol",encodeEntry:a=>cl(a)},rect:{vgMark:"rect",encodeEntry:a=>Object.assign({},Hg(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Kg(a,"x"),Kg(a,"y"))},rule:{vgMark:"rule",encodeEntry:a=>{var {markDef:b}=
a;b=b.orient;return a.encoding.x||a.encoding.y||a.encoding.latitude||a.encoding.longitude?Object.assign({},Hg(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Pe("x",a,{defaultPos:"horizontal"===b?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==b}),Pe("y",a,{defaultPos:"vertical"===b?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==b}),wc("size",a,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:a=>cl(a,
"square")},text:{vgMark:"text",encodeEntry:a=>{var {config:b}=a,e=Object,f=e.assign,g=Hg(a,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),n=zd("x",a,{defaultPos:"mid"}),C=zd("y",a,{defaultPos:"mid"}),P=J(a),ba=wc("size",a,{vgChannel:"fontSize"}),ua=wc("angle",a);var ab=void 0===Zb("align",a.markDef,b)?"center":void 0;ab=Ve("align",ab);b=void 0===Zb("baseline",a.markDef,b)?"middle":void 0;return f.call(e,{},g,n,C,P,ba,ua,ab,Ve("baseline",b),zd("radius",
a,{defaultPos:null}),zd("theta",a,{defaultPos:null}))}},tick:{vgMark:"rect",encodeEntry:a=>{const {config:b,markDef:e}=a;var f=e.orient;const g="horizontal"===f?"width":"height";f="horizontal"===f?"height":"width";var n=Object,C=n.assign,P=Hg(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),ba=zd("x",a,{defaultPos:"mid",vgChannel:"xc"}),ua=zd("y",a,{defaultPos:"mid",vgChannel:"yc"});{const {config:Pc,markDef:lc}=a;var {orient:ab}=lc;var ob="horizontal"===
ab?"width":"height";ab=a.getScaleComponent("horizontal"===ab?"x":"y");var hc;const Lc=null!=(hc=Zb("size",lc,Pc,{vgChannel:ob}))?hc:Pc.tick.bandSize;ob=void 0!==Lc?Lc:(hc=ab?ab.get("range"):void 0)&&Ob(hc)&&h.isNumber(hc.step)?3*hc.step/4:3*vf(Pc.view,ob)/4}return C.call(n,{},P,ba,ua,wc("size",a,{defaultValue:ob,vgChannel:g}),{[f]:Ua(Zb("thickness",e,b))})}},trail:{vgMark:"trail",encodeEntry:a=>Object.assign({},Hg(a,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",
theta:"ignore"}),zd("x",a,{defaultPos:"mid"}),zd("y",a,{defaultPos:"mid"}),wc("size",a),rh(a))}};class Dm extends Em{constructor(a,b,e){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},g=4<arguments.length?arguments[4]:void 0;super(a,"unit",b,e,g,void 0,kf(a)?a.view:void 0);S(this,"markDef",void 0);S(this,"encoding",void 0);S(this,"specifiedScales",{});S(this,"stack",void 0);S(this,"specifiedAxes",{});S(this,"specifiedLegends",{});S(this,"specifiedProjection",{});S(this,"selection",
[]);S(this,"children",[]);const n=id(a.mark)?Object.assign({},a.mark):{type:a.mark},C=n.type;void 0===n.filled&&(n.filled=Th(n,g,{graticule:a.data&&"graticule"in a.data}));const P=this.encoding=rg(a.encoding||{},C,n.filled,g);this.markDef=Rg(n,P,g);this.size=Tl({encoding:P,size:kf(a)?Object.assign({},f,a.width?{width:a.width}:{},a.height?{height:a.height}:{}):f});this.stack=Qg(this.markDef,P);this.specifiedScales=this.initScales(C,P);this.specifiedAxes=this.initAxes(P);this.specifiedLegends=this.initLegends(P);
this.specifiedProjection=a.projection;let ba;this.selection=(null!=(ba=a.params)?ba:[]).filter(ua=>Rd(ua))}get hasProjection(){const {encoding:a}=this,b=this.mark===Gi,e=a&&Rl.some(f=>vc(a[f]));return b||e}scaleDomain(a){return(a=this.specifiedScales[a])?a.domain:void 0}axis(a){return this.specifiedAxes[a]}legend(a){return this.specifiedLegends[a]}initScales(a,b){return xk.reduce((e,f)=>{const g=Sd(b[f]);if(g){let n;e[f]=this.initScale(null!=(n=g.scale)?n:{})}return e},{})}initScale(a){const {domain:b,
range:e}=a;a=Kb(a);h.isArray(b)&&(a.domain=b.map(ra));h.isArray(e)&&(a.range=e.map(ra));return a}initAxes(a){return Qh.reduce((b,e)=>{var f=a[e];if(vc(f)||"x"===e&&vc(a.x2)||"y"===e&&vc(a.y2))f=vc(f)?f.axis:void 0,b[e]=f?this.initAxis(Object.assign({},f)):f;return b},{})}initAxis(a){var b=ud(a);const e={};for(const f of b)b=a[f],e[f]=Yf(b)?hd(b):ra(b);return e}initLegends(a){return fl.reduce((b,e)=>{var f=Sd(a[e]),g;if(g=f)a:{switch(e){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":g=
!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":g=!1;break a}g=void 0}g&&(f=f.legend,b[e]=f?Kb(f):f);return b},{})}parseData(){this.component.data=fk(this)}parseLayoutSize(){const {size:a,component:b}=this;for(const f of Qh){const g=G(f);if(a[g]){var e=a[g];b.layoutSize.set(g,De(e)?"step":e,!0)}else e=Kk(this,g),b.layoutSize.set(g,e,!1)}}parseSelections(){var a=this.component;{var b=this.selection;var e={};const n=this.config.selection;if(b&&b.length)for(const C of b){b=sa(C.name);
var f=C.select,g=h.isString(f)?f:f.type;f=h.isObject(f)?Ee(f):{type:g};const P=n[g];for(const ba in P)if("fields"!==ba&&"encodings"!==ba&&("mark"===ba&&(f[ba]=Object.assign({},P[ba],f[ba])),void 0===f[ba]||!0===f[ba])){let ua;f[ba]=Ee(null!=(ua=P[ba])?ua:f[ba])}b=e[b]=Object.assign({},f,{name:b,type:g,init:C.value,bind:C.bind,events:h.isString(f.on)?h.parseSelector(f.on,"scope"):h.array(Ee(f.on))});g=Ee(C);for(const ba of Xh)ba.defined(b)&&ba.parse&&ba.parse(this,b,g)}}a.selection=e}parseMarkGroup(){this.component.mark=
ql(this)}parseAxesAndHeaders(){this.component.axes=rl(this)}assembleSelectionTopLevelSignals(a){return bh(this,a)}assembleSignals(){var a=[...Pi(this)];var b=[];var e;for(const f of og(null!=(e=this.component.selection)?e:{})){e=f.name;let g=`${e}${"_tuple"}, ${"global"===f.resolve?"true":`{unit: ${Xf(this)}}`}`;for(const n of Xh)n.defined(f)&&(n.signals&&(b=n.signals(this,f,b)),n.modifyExpr&&(g=n.modifyExpr(this,f,g)));b.push({name:e+"_modify",on:[{events:{signal:f.name+"_tuple"},update:`modify(${h.stringValue(f.name+
"_store")}, ${g})`}]})}b=B(b);return[...a,...b]}assembleSelectionData(a){return ih(this,a)}assembleLayout(){return null}assembleLayoutSignals(){return ka(this)}assembleMarks(){let a,b=null!=(a=this.component.mark)?a:[];this.parent&&Ri(this.parent)||(b=Ih(this,b));return b.map(this.correctDataNames)}assembleGroupStyle(){const {style:a}=this.view||{};return void 0!==a?a:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(a){return We(this.encoding,
a)}fieldDef(a){return ue(this.encoding[a])}typedFieldDef(a){a=this.fieldDef(a);return yc(a)?a:null}}class Cm extends wm{constructor(a,b,e,f,g){super(a,"layer",b,e,g,a.resolve,a.view);S(this,"children",void 0);const n=Object.assign({},f,a.width?{width:a.width}:{},a.height?{height:a.height}:{});this.children=a.layer.map((C,P)=>{if("layer"in C)return new Cm(C,this,this.getName(`layer_${P}`),n,g);if(Ef(C))return new Dm(C,this,this.getName(`layer_${P}`),n,g);throw Error(za(C));})}parseData(){this.component.data=
fk(this);for(const a of this.children)a.parseData()}parseLayoutSize(){Mk(this);wk(this,"width");wk(this,"height")}parseSelections(){this.component.selection={};for(const a of this.children){a.parseSelections();for(const b of ud(a.component.selection))this.component.selection[b]=a.component.selection[b]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){const {axes:a,resolve:b}=this.component,e={top:0,bottom:0,right:0,left:0};for(var f of this.children){f.parseAxesAndHeaders();
for(const g of ud(f.component.axes))b.axis[g]=od(this.component.resolve,g),"shared"===b.axis[g]&&(a[g]=hm(a[g],f.component.axes[g]),a[g]||(b.axis[g]="independent",delete a[g]))}for(const g of Qh){for(const n of this.children)if(n.component.axes[g]){if("independent"===b.axis[g]){let C;a[g]=(null!=(C=a[g])?C:[]).concat(n.component.axes[g]);for(const P of n.component.axes[g]){const {value:ba,explicit:ua}=P.getWithExplicit("orient");Mb(ba)||(0<e[ba]&&!ua&&(f=Lm[ba],e[ba]>e[f]&&P.set("orient",f,!1)),e[ba]++)}}delete n.component.axes[g]}if("independent"===
b.axis[g]&&a[g]&&1<a[g].length)for(const n of(a[g]||[]).entries()){const [C,P]=n;0<C&&P.get("grid")&&!P.explicit.grid&&(P.implicit.grid=!1)}}}assembleSelectionTopLevelSignals(a){return this.children.reduce((b,e)=>e.assembleSelectionTopLevelSignals(b),a)}assembleSignals(){return this.children.reduce((a,b)=>a.concat(b.assembleSignals()),Pi(this))}assembleLayoutSignals(){return this.children.reduce((a,b)=>a.concat(b.assembleLayoutSignals()),ka(this))}assembleSelectionData(a){return this.children.reduce((b,
e)=>e.assembleSelectionData(b),a)}assembleGroupStyle(){var a=new Set;for(const b of this.children)for(const e of h.array(b.assembleGroupStyle()))a.add(e);a=Array.from(a);return 1<a.length?a:1===a.length?a[0]:void 0}assembleTitle(){let a=super.assembleTitle();if(a)return a;for(const b of this.children)if(a=b.assembleTitle())return a}assembleLayout(){return null}assembleMarks(){return ui(this,this.children.flatMap(a=>a.assembleMarks()))}assembleLegends(){return this.children.reduce((a,b)=>a.concat(b.assembleLegends()),
Af(this))}}t.accessPathDepth=$a;t.accessPathWithDatum=Va;t.compile=function(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};b.logger&&(zi=b.logger);b.fieldTitle&&(qi=b.fieldTitle);try{const ab=Pg(h.mergeConfig(b.config,a.config)),ob=ti(a,ab),hc=dl(ob,null,"",void 0,ab);hc.parse();var e=hc.component.data,f=hc;cj(e.sources);let Pc=0,lc=0;for(var g=0;5>g&&Aj(e,f,!0);g++)Pc++;e.sources.map(sh);for(g=0;5>g&&Aj(e,f,!1);g++)lc++;cj(e.sources);5===Math.max(Pc,lc)&&I("Maximum optimization runs(5) reached.");
var n=ob.autosize;e=ab;f=hc;const Lc=f.component.layoutSize.get("width"),dd=f.component.layoutSize.get("height");void 0===n?(n={type:"pad"},f.hasAxisOrientSignalRef()&&(n.resize=!0)):h.isString(n)&&(n={type:n});var C;if(C=Lc&&dd){var P=n.type;C="fit"===P||"fit-x"===P||"fit-y"===P}if(C)if("step"===Lc&&"step"===dd)I(kb()),n.type="pad";else if("step"===Lc||"step"===dd){P="step"===Lc?"width":"height";I(kb(W(P)));C=n;var ba=(P="width"===P?"height":"width",`fit-${W(P)}`);C.type=ba}var ua=Object.assign({},
1===ud(n).length&&n.type?"pad"===n.type?{}:{autosize:n.type}:{autosize:n},Gh(e,!1),Gh(a,!0));return{spec:Vl(hc,ua,a.datasets,a.usermeta),normalized:ob}}finally{b.logger&&(zi=Bl),b.fieldTitle&&(qi=Sh)}};t.contains=Ab;t.deepEqual=qa;t.deleteNestedProperty=Ba;t.duplicate=Ee;t.entries=Fi;t.every=jc;t.fieldIntersection=vb;t.flatAccessWithDatum=Ia;t.getFirstDefined=V;t.hasIntersection=rb;t.hash=Wb;t.internalField=na;t.isBoolean=fc;t.isEmpty=gb;t.isEqual=function(a,b){const e=ud(a),f=ud(b);if(e.length!==
f.length)return!1;for(const g of e)if(a[g]!==b[g])return!1;return!0};t.isInternalField=oa;t.isNullOrFalse=nc;t.isNumeric=la;t.keys=ud;t.logicalExpr=ha;t.mergeDeep=Ea;t.never=ub;t.normalize=ti;t.normalizeAngle=Na;t.omit=dc;t.pick=Yb;t.prefixGenerator=pb;t.removePathFromField=Nb;t.replaceAll=qb;t.replacePathInField=Za;t.resetIdCounter=function(){Gk=42};t.setEqual=tb;t.some=Ub;t.stringify=l;t.titleCase=Sa;t.unique=bb;t.uniqueId=N;t.vals=og;t.varName=sa;t.version="5.16.3"})};
shadow$provide[56]=function(Db,nb,Dc,Wa){function t(){throw Error("setTimeout has not been defined");}function h(){throw Error("clearTimeout has not been defined");}function ia(tb){if(nc===setTimeout)return setTimeout(tb,0);if((nc===t||!nc)&&setTimeout)return nc=setTimeout,setTimeout(tb,0);try{return nc(tb,0)}catch(rb){try{return nc.call(null,tb,0)}catch(pb){return nc.call(this,tb,0)}}}function Ya(tb){if(Ab===clearTimeout)return clearTimeout(tb);if((Ab===h||!Ab)&&clearTimeout)return Ab=clearTimeout,
clearTimeout(tb);try{return Ab(tb)}catch(rb){try{return Ab.call(null,tb)}catch(pb){return Ab.call(this,tb)}}}function ub(){jc&&Ea&&(jc=!1,Ea.length?Ub=Ea.concat(Ub):bb=-1,Ub.length&&Yb())}function Yb(){if(!jc){var tb=ia(ub);jc=!0;for(var rb=Ub.length;rb;){Ea=Ub;for(Ub=[];++bb<rb;)Ea&&Ea[bb].run();bb=-1;rb=Ub.length}Ea=null;jc=!1;Ya(tb)}}function dc(tb,rb){this.fun=tb;this.array=rb}function Wb(){}Db=Dc.exports={};try{var nc="function"===typeof setTimeout?setTimeout:t}catch(tb){nc=t}try{var Ab="function"===
typeof clearTimeout?clearTimeout:h}catch(tb){Ab=h}var Ub=[],jc=!1,Ea,bb=-1;Db.nextTick=function(tb){var rb=Array(arguments.length-1);if(1<arguments.length)for(var pb=1;pb<arguments.length;pb++)rb[pb-1]=arguments[pb];Ub.push(new dc(tb,rb));1!==Ub.length||jc||ia(Yb)};dc.prototype.run=function(){this.fun.apply(null,this.array)};Db.title="browser";Db.browser=!0;Db.env={};Db.argv=[];Db.version="";Db.versions={};Db.on=Wb;Db.addListener=Wb;Db.once=Wb;Db.off=Wb;Db.removeListener=Wb;Db.removeAllListeners=
Wb;Db.emit=Wb;Db.prependListener=Wb;Db.prependOnceListener=Wb;Db.listeners=function(tb){return[]};Db.binding=function(tb){throw Error("process.binding is not supported");};Db.cwd=function(){return"/"};Db.chdir=function(tb){throw Error("process.chdir is not supported");};Db.umask=function(){return 0}};
shadow$provide[57]=function(Db,nb,Dc,Wa){var t=nb(56);(function(h,ia){"object"===typeof Wa&&"undefined"!==typeof Dc?Dc.exports=ia(nb(54),nb(55)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],ia):(h="undefined"!==typeof globalThis?globalThis:h||self,h.vegaEmbed=ia(h.vega,h.vegaLite))})(this,function(h,ia){function Ya(E){if(E&&E.__esModule)return E;var ca=Object.create(null);E&&Object.keys(E).forEach(function(Ga){if("default"!==Ga){var eb=Object.getOwnPropertyDescriptor(E,Ga);Object.defineProperty(ca,
Ga,eb.get?eb:{enumerable:!0,get:function(){return E[Ga]}})}});ca["default"]=E;return Object.freeze(ca)}function ub(E){if(Array.isArray(E)){E=Array(E.length);for(var ca=0;ca<E.length;ca++)E[ca]=""+ca;return E}if(Object.keys)return Object.keys(E);ca=[];for(var Ga in E)A.call(E,Ga)&&ca.push(Ga);return ca}function Yb(E){switch(typeof E){case "object":return JSON.parse(JSON.stringify(E));case "undefined":return null;default:return E}}function dc(E){for(var ca=0,Ga=E.length,eb;ca<Ga;)if(eb=E.charCodeAt(ca),
48<=eb&&57>=eb)ca++;else return!1;return!0}function Wb(E){return-1===E.indexOf("/")&&-1===E.indexOf("~")?E:E.replace(/~/g,"~0").replace(/\//g,"~1")}function nc(E){return E.replace(/~1/g,"/").replace(/~0/g,"~")}function Ab(E){if(void 0===E)return!0;if(E)if(Array.isArray(E))for(var ca=0,Ga=E.length;ca<Ga;ca++){if(Ab(E[ca]))return!0}else if("object"===typeof E){ca=ub(E);Ga=ca.length;for(var eb=0;eb<Ga;eb++)if(Ab(E[ca[eb]]))return!0}return!1}function Ub(E,ca){E=[E];for(var Ga in ca){var eb="object"===
typeof ca[Ga]?JSON.stringify(ca[Ga],null,2):ca[Ga];"undefined"!==typeof eb&&E.push(Ga+": "+eb)}return E.join("\n")}function jc(E,ca){if(""==ca)return E;ca={op:"_get",path:ca};Ea(E,ca);return ca.value}function Ea(E,ca,Ga,eb,Gb,rc){void 0===Ga&&(Ga=!1);void 0===eb&&(eb=!0);void 0===Gb&&(Gb=!0);void 0===rc&&(rc=0);Ga&&("function"==typeof Ga?Ga(ca,0,E,ca.path):tb(ca,0));if(""===ca.path){Gb={newDocument:E};if("add"===ca.op)return Gb.newDocument=ca.value,Gb;if("replace"===ca.op)return Gb.newDocument=ca.value,
Gb.removed=E,Gb;if("move"===ca.op||"copy"===ca.op)return Gb.newDocument=jc(E,ca.from),"move"===ca.op&&(Gb.removed=E),Gb;if("test"===ca.op){Gb.test=pb(E,ca.value);if(!1===Gb.test)throw new G("Test operation failed","TEST_OPERATION_FAILED",rc,ca,E);Gb.newDocument=E;return Gb}if("remove"===ca.op)return Gb.removed=E,Gb.newDocument=null,Gb;if("_get"===ca.op)return ca.value=E,Gb;if(Ga)throw new G("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",rc,ca,E);return Gb}eb||
(E=Yb(E));eb=(ca.path||"").split("/");var Rb=E,Sc=1,fd=eb.length,cd=void 0,Oc,Nd;for(Nd="function"==typeof Ga?Ga:tb;;){(Oc=eb[Sc])&&-1!=Oc.indexOf("~")&&(Oc=nc(Oc));if(Gb&&("__proto__"==Oc||"prototype"==Oc&&0<Sc&&"constructor"==eb[Sc-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");Ga&&
void 0===cd&&(void 0===Rb[Oc]?cd=eb.slice(0,Sc).join("/"):Sc==fd-1&&(cd=ca.path),void 0!==cd&&Nd(ca,0,E,cd));Sc++;if(Array.isArray(Rb)){if("-"===Oc)Oc=Rb.length;else{if(Ga&&!dc(Oc))throw new G("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",rc,ca,E);dc(Oc)&&(Oc=~~Oc)}if(Sc>=fd){if(Ga&&"add"===ca.op&&Oc>Rb.length)throw new G("The specified index MUST NOT be greater than the number of elements in the array",
"OPERATION_VALUE_OUT_OF_BOUNDS",rc,ca,E);Gb=z[ca.op].call(ca,Rb,Oc,E);if(!1===Gb.test)throw new G("Test operation failed","TEST_OPERATION_FAILED",rc,ca,E);return Gb}}else if(Sc>=fd){Gb=v[ca.op].call(ca,Rb,Oc,E);if(!1===Gb.test)throw new G("Test operation failed","TEST_OPERATION_FAILED",rc,ca,E);return Gb}Rb=Rb[Oc];if(Ga&&Sc<fd&&(!Rb||"object"!==typeof Rb))throw new G("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",rc,ca,E);}}function bb(E,ca,Ga,eb,Gb){void 0===eb&&(eb=
!0);void 0===Gb&&(Gb=!0);if(Ga&&!Array.isArray(ca))throw new G("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");eb||(E=Yb(E));eb=Array(ca.length);for(var rc=0,Rb=ca.length;rc<Rb;rc++)eb[rc]=Ea(E,ca[rc],Ga,!0,Gb,rc),E=eb[rc].newDocument;eb.newDocument=E;return eb}function tb(E,ca,Ga,eb){if("object"!==typeof E||null===E||Array.isArray(E))throw new G("Operation is not an object","OPERATION_NOT_AN_OBJECT",ca,E,Ga);if(v[E.op]){if("string"!==typeof E.path)throw new G("Operation `path` property is not a string",
"OPERATION_PATH_INVALID",ca,E,Ga);if(0!==E.path.indexOf("/")&&0<E.path.length)throw new G('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",ca,E,Ga);if("move"!==E.op&&"copy"!==E.op||"string"===typeof E.from)if("add"!==E.op&&"replace"!==E.op&&"test"!==E.op||void 0!==E.value){if(("add"===E.op||"replace"===E.op||"test"===E.op)&&Ab(E.value))throw new G("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",
ca,E,Ga);if(Ga)if("add"==E.op){var Gb=E.path.split("/").length;eb=eb.split("/").length;if(Gb!==eb+1&&Gb!==eb)throw new G("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",ca,E,Ga);}else if("replace"===E.op||"remove"===E.op||"_get"===E.op){if(E.path!==eb)throw new G("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",ca,E,Ga);}else if(("move"===E.op||"copy"===E.op)&&(Gb=rb([{op:"_get",path:E.from,value:void 0}],Ga))&&"OPERATION_PATH_UNRESOLVABLE"===
Gb.name)throw new G("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",ca,E,Ga);}else throw new G("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",ca,E,Ga);else throw new G("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",ca,E,Ga);}else throw new G("Operation `op` property is not one of operations defined in RFC-6902",
"OPERATION_OP_INVALID",ca,E,Ga);}function rb(E,ca,Ga){try{if(!Array.isArray(E))throw new G("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(ca)bb(Yb(ca),Yb(E),Ga||!0);else{Ga=Ga||tb;for(var eb=0;eb<E.length;eb++)Ga(E[eb],eb,ca,void 0)}}catch(Gb){if(Gb instanceof G)return Gb;throw Gb;}}function pb(E,ca){if(E===ca)return!0;if(E&&ca&&"object"==typeof E&&"object"==typeof ca){var Ga=Array.isArray(E),eb=Array.isArray(ca);if(Ga&&eb){var Gb=E.length;if(Gb!=ca.length)return!1;for(Ga=Gb;0!==Ga--;)if(!pb(E[Ga],
ca[Ga]))return!1;return!0}if(Ga!=eb)return!1;eb=Object.keys(E);Gb=eb.length;if(Gb!==Object.keys(ca).length)return!1;for(Ga=Gb;0!==Ga--;)if(!ca.hasOwnProperty(eb[Ga]))return!1;for(Ga=Gb;0!==Ga--;)if(Gb=eb[Ga],!pb(E[Gb],ca[Gb]))return!1;return!0}return E!==E&&ca!==ca}function vb(E,ca){void 0===ca&&(ca=!1);var Ga=W.get(E.object);gb(Ga.value,E.object,E.patches,"",ca);E.patches.length&&bb(Ga.value,E.patches);ca=E.patches;0<ca.length&&(E.patches=[],E.callback&&E.callback(ca));return ca}function gb(E,ca,
Ga,eb,Gb){if(ca!==E){"function"===typeof ca.toJSON&&(ca=ca.toJSON());for(var rc=ub(ca),Rb=ub(E),Sc=!1,fd=Rb.length-1;0<=fd;fd--){var cd=Rb[fd],Oc=E[cd];if(!A.call(ca,cd)||void 0===ca[cd]&&void 0!==Oc&&!1===Array.isArray(ca))Array.isArray(E)===Array.isArray(ca)?(Gb&&Ga.push({op:"test",path:eb+"/"+Wb(cd),value:Yb(Oc)}),Ga.push({op:"remove",path:eb+"/"+Wb(cd)}),Sc=!0):(Gb&&Ga.push({op:"test",path:eb,value:E}),Ga.push({op:"replace",path:eb,value:ca}));else{var Nd=ca[cd];"object"==typeof Oc&&null!=Oc&&
"object"==typeof Nd&&null!=Nd&&Array.isArray(Oc)===Array.isArray(Nd)?gb(Oc,Nd,Ga,eb+"/"+Wb(cd),Gb):Oc!==Nd&&(Gb&&Ga.push({op:"test",path:eb+"/"+Wb(cd),value:Yb(Oc)}),Ga.push({op:"replace",path:eb+"/"+Wb(cd),value:Yb(Nd)}))}}if(Sc||rc.length!=Rb.length)for(fd=0;fd<rc.length;fd++)cd=rc[fd],A.call(E,cd)||void 0===ca[cd]||Ga.push({op:"add",path:eb+"/"+Wb(cd),value:Yb(ca[cd])})}}function fc(E){var ca=this;ca instanceof fc||(ca=new fc);ca.tail=null;ca.head=null;ca.length=0;if(E&&"function"===typeof E.forEach)E.forEach(function(Gb){ca.push(Gb)});
else if(0<arguments.length)for(var Ga=0,eb=arguments.length;Ga<eb;Ga++)ca.push(arguments[Ga]);return ca}function sa(E,ca,Ga,eb){if(!(this instanceof sa))return new sa(E,ca,Ga,eb);this.list=eb;this.value=E;ca?(ca.next=this,this.prev=ca):this.prev=null;Ga?(Ga.prev=this,this.next=Ga):this.next=null}function ha(){if(Nc)return Hc;Nc=1;const E=Symbol("SemVer ANY");class ca{static get ANY(){return E}constructor(cd,Oc){Oc=Ga(Oc);if(cd instanceof ca){if(cd.loose===!!Oc.loose)return cd;cd=cd.value}Rb("comparator",
cd,Oc);this.options=Oc;this.loose=!!Oc.loose;this.parse(cd);this.value=this.semver===E?"":this.operator+this.semver.version;Rb("comp",this)}parse(cd){const Oc=cd.match(this.options.loose?eb[Gb.COMPARATORLOOSE]:eb[Gb.COMPARATOR]);if(!Oc)throw new TypeError("Invalid comparator: ".concat(cd));this.operator=void 0!==Oc[1]?Oc[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=Oc[2]?new Sc(Oc[2],this.options.loose):E}toString(){return this.value}test(cd){Rb("Comparator.test",cd,this.options.loose);
if(this.semver===E||cd===E)return!0;if("string"===typeof cd)try{cd=new Sc(cd,this.options)}catch(Oc){return!1}return rc(cd,this.operator,this.semver,this.options)}intersects(cd,Oc){if(!(cd instanceof ca))throw new TypeError("a Comparator is required");Oc&&"object"===typeof Oc||(Oc={loose:!!Oc,includePrerelease:!1});if(""===this.operator)return""===this.value?!0:(new fd(cd.value,Oc)).test(this.value);if(""===cd.operator)return""===cd.value?!0:(new fd(this.value,Oc)).test(cd.semver);const Nd=("\x3e\x3d"===
this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===cd.operator||"\x3e"===cd.operator),Md=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===cd.operator||"\x3c"===cd.operator),Ld=this.semver.version===cd.semver.version,Ad=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===cd.operator||"\x3c\x3d"===cd.operator),Wd=rc(this.semver,"\x3c",cd.semver,Oc)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===cd.operator||"\x3c"===cd.operator);cd=rc(this.semver,
"\x3e",cd.semver,Oc)&&("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3e\x3d"===cd.operator||"\x3e"===cd.operator);return Nd||Md||Ld&&Ad||Wd||cd}}Hc=ca;const Ga=Zb,{re:eb,t:Gb}=ic.exports,rc=Cc,Rb=nd,Sc=Vb,fd=Ba();return Hc}function Ba(){if(sd)return xd;sd=1;class E{constructor(sc,Mc){Mc=Ga(Mc);if(sc instanceof E)return sc.loose===!!Mc.loose&&sc.includePrerelease===!!Mc.includePrerelease?sc:new E(sc.raw,Mc);if(sc instanceof eb)return this.raw=sc.value,this.set=[[sc]],this.format(),this;
this.options=Mc;this.loose=!!Mc.loose;this.includePrerelease=!!Mc.includePrerelease;this.raw=sc;this.set=sc.split("||").map(Ec=>this.parseRange(Ec.trim())).filter(Ec=>Ec.length);if(!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(sc));if(1<this.set.length)if(sc=this.set[0],this.set=this.set.filter(Ec=>"\x3c0.0.0-0"!==Ec[0].value),0===this.set.length)this.set=[sc];else if(1<this.set.length)for(const Ec of this.set)if(1===Ec.length&&""===Ec[0].value){this.set=[Ec];break}this.format()}format(){return this.range=
this.set.map(sc=>sc.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(sc){sc=sc.trim();var Mc=Object.keys(this.options).join(",");Mc="parseRange:".concat(Mc,":").concat(sc);var Ec=ca.get(Mc);if(Ec)return Ec;Ec=this.options.loose;sc=sc.replace(Ec?Rb[Sc.HYPHENRANGELOOSE]:Rb[Sc.HYPHENRANGE],id(this.options.includePrerelease));Gb("hyphen replace",sc);sc=sc.replace(Rb[Sc.COMPARATORTRIM],fd);Gb("comparator trim",sc);sc=sc.replace(Rb[Sc.TILDETRIM],cd);sc=sc.replace(Rb[Sc.CARETTRIM],
Oc);sc=sc.split(/\s+/).join(" ");sc=sc.split(" ").map(Xc=>{var ld=Xc;Xc=this.options;Gb("comp",ld,Xc);ld=Wd(ld,Xc);Gb("caret",ld);ld=Ld(ld,Xc);Gb("tildes",ld);ld=Qa(ld,Xc);Gb("xrange",ld);Gb("replaceStars",ld,Xc);ld=ld.trim().replace(Rb[Sc.STAR],"");Gb("stars",ld);return ld}).join(" ").split(/\s+/).map(Xc=>{var ld=this.options;Gb("replaceGTE0",Xc,ld);return Xc.trim().replace(Rb[ld.includePrerelease?Sc.GTE0PRE:Sc.GTE0],"")});Ec&&(sc=sc.filter(Xc=>{Gb("loose invalid filter",Xc,this.options);return!!Xc.match(Rb[Sc.COMPARATORLOOSE])}));
Gb("range list",sc);Ec=new Map;sc=sc.map(Xc=>new eb(Xc,this.options));for(var Tc of sc){if("\x3c0.0.0-0"===Tc.value)return[Tc];Ec.set(Tc.value,Tc)}1<Ec.size&&Ec.has("")&&Ec.delete("");Tc=[...Ec.values()];ca.set(Mc,Tc);return Tc}intersects(sc,Mc){if(!(sc instanceof E))throw new TypeError("a Range is required");return this.set.some(Ec=>Nd(Ec,Mc)&&sc.set.some(Tc=>Nd(Tc,Mc)&&Ec.every(Xc=>Tc.every(ld=>Xc.intersects(ld,Mc)))))}test(sc){if(!sc)return!1;if("string"===typeof sc)try{sc=new rc(sc,this.options)}catch(ld){return!1}for(let ld=
0;ld<this.set.length;ld++){a:{var Mc=this.set[ld];var Ec=sc,Tc=this.options;for(var Xc=0;Xc<Mc.length;Xc++)if(!Mc[Xc].test(Ec)){Mc=!1;break a}if(Ec.prerelease.length&&!Tc.includePrerelease){for(Tc=0;Tc<Mc.length;Tc++)if(Gb(Mc[Tc].semver),Mc[Tc].semver!==eb.ANY&&0<Mc[Tc].semver.prerelease.length&&(Xc=Mc[Tc].semver,Xc.major===Ec.major&&Xc.minor===Ec.minor&&Xc.patch===Ec.patch)){Mc=!0;break a}Mc=!1}else Mc=!0}if(Mc)return!0}return!1}}xd=E;const ca=new Fb({max:1E3}),Ga=Zb,eb=ha(),Gb=nd,rc=Vb,{re:Rb,t:Sc,
comparatorTrimReplace:fd,tildeTrimReplace:cd,caretTrimReplace:Oc}=ic.exports,Nd=(sc,Mc)=>{let Ec=!0;sc=sc.slice();let Tc=sc.pop();for(;Ec&&sc.length;)Ec=sc.every(Xc=>Tc.intersects(Xc,Mc)),Tc=sc.pop();return Ec},Md=sc=>!sc||"x"===sc.toLowerCase()||"*"===sc,Ld=(sc,Mc)=>sc.trim().split(/\s+/).map(Ec=>Ad(Ec,Mc)).join(" "),Ad=(sc,Mc)=>sc.replace(Mc.loose?Rb[Sc.TILDELOOSE]:Rb[Sc.TILDE],(Ec,Tc,Xc,ld,pd)=>{Gb("tilde",sc,Ec,Tc,Xc,ld,pd);Md(Tc)?Ec="":Md(Xc)?Ec="\x3e\x3d".concat(Tc,".0.0 \x3c").concat(+Tc+1,
".0.0-0"):Md(ld)?Ec="\x3e\x3d".concat(Tc,".").concat(Xc,".0 \x3c").concat(Tc,".").concat(+Xc+1,".0-0"):pd?(Gb("replaceTilde pr",pd),Ec="\x3e\x3d".concat(Tc,".").concat(Xc,".").concat(ld,"-").concat(pd," \x3c").concat(Tc,".").concat(+Xc+1,".0-0")):Ec="\x3e\x3d".concat(Tc,".").concat(Xc,".").concat(ld," \x3c").concat(Tc,".").concat(+Xc+1,".0-0");Gb("tilde return",Ec);return Ec}),Wd=(sc,Mc)=>sc.trim().split(/\s+/).map(Ec=>Ca(Ec,Mc)).join(" "),Ca=(sc,Mc)=>{Gb("caret",sc,Mc);const Ec=Mc.includePrerelease?
"-0":"";return sc.replace(Mc.loose?Rb[Sc.CARETLOOSE]:Rb[Sc.CARET],(Tc,Xc,ld,pd,me)=>{Gb("caret",sc,Tc,Xc,ld,pd,me);Md(Xc)?Tc="":Md(ld)?Tc="\x3e\x3d".concat(Xc,".0.0").concat(Ec," \x3c").concat(+Xc+1,".0.0-0"):Md(pd)?Tc="0"===Xc?"\x3e\x3d".concat(Xc,".").concat(ld,".0").concat(Ec," \x3c").concat(Xc,".").concat(+ld+1,".0-0"):"\x3e\x3d".concat(Xc,".").concat(ld,".0").concat(Ec," \x3c").concat(+Xc+1,".0.0-0"):me?(Gb("replaceCaret pr",me),Tc="0"===Xc?"0"===ld?"\x3e\x3d".concat(Xc,".").concat(ld,".").concat(pd,
"-").concat(me," \x3c").concat(Xc,".").concat(ld,".").concat(+pd+1,"-0"):"\x3e\x3d".concat(Xc,".").concat(ld,".").concat(pd,"-").concat(me," \x3c").concat(Xc,".").concat(+ld+1,".0-0"):"\x3e\x3d".concat(Xc,".").concat(ld,".").concat(pd,"-").concat(me," \x3c").concat(+Xc+1,".0.0-0")):(Gb("no pr"),Tc="0"===Xc?"0"===ld?"\x3e\x3d".concat(Xc,".").concat(ld,".").concat(pd).concat(Ec," \x3c").concat(Xc,".").concat(ld,".").concat(+pd+1,"-0"):"\x3e\x3d".concat(Xc,".").concat(ld,".").concat(pd).concat(Ec," \x3c").concat(Xc,
".").concat(+ld+1,".0-0"):"\x3e\x3d".concat(Xc,".").concat(ld,".").concat(pd," \x3c").concat(+Xc+1,".0.0-0"));Gb("caret return",Tc);return Tc})},Qa=(sc,Mc)=>{Gb("replaceXRanges",sc,Mc);return sc.split(/\s+/).map(Ec=>bc(Ec,Mc)).join(" ")},bc=(sc,Mc)=>{sc=sc.trim();return sc.replace(Mc.loose?Rb[Sc.XRANGELOOSE]:Rb[Sc.XRANGE],(Ec,Tc,Xc,ld,pd,me)=>{Gb("xRange",sc,Ec,Tc,Xc,ld,pd,me);const df=Md(Xc),Oe=df||Md(ld);pd=Oe||Md(pd);"\x3d"===Tc&&pd&&(Tc="");me=Mc.includePrerelease?"-0":"";df?Ec="\x3e"===Tc||"\x3c"===
Tc?"\x3c0.0.0-0":"*":Tc&&pd?(Oe&&(ld=0),pd=0,"\x3e"===Tc?(Tc="\x3e\x3d",Oe?(Xc=+Xc+1,ld=0):ld=+ld+1,pd=0):"\x3c\x3d"===Tc&&(Tc="\x3c",Oe?Xc=+Xc+1:ld=+ld+1),"\x3c"===Tc&&(me="-0"),Ec="".concat(Tc+Xc,".").concat(ld,".").concat(pd).concat(me)):Oe?Ec="\x3e\x3d".concat(Xc,".0.0").concat(me," \x3c").concat(+Xc+1,".0.0-0"):pd&&(Ec="\x3e\x3d".concat(Xc,".").concat(ld,".0").concat(me," \x3c").concat(Xc,".").concat(+ld+1,".0-0"));Gb("xRange return",Ec);return Ec})},id=sc=>(Mc,Ec,Tc,Xc,ld,pd,me,df,Oe,Je,hf,
pf,Le)=>{Ec=Md(Tc)?"":Md(Xc)?"\x3e\x3d".concat(Tc,".0.0").concat(sc?"-0":""):Md(ld)?"\x3e\x3d".concat(Tc,".").concat(Xc,".0").concat(sc?"-0":""):pd?"\x3e\x3d".concat(Ec):"\x3e\x3d".concat(Ec).concat(sc?"-0":"");df=Md(Oe)?"":Md(Je)?"\x3c".concat(+Oe+1,".0.0-0"):Md(hf)?"\x3c".concat(Oe,".").concat(+Je+1,".0-0"):pf?"\x3c\x3d".concat(Oe,".").concat(Je,".").concat(hf,"-").concat(pf):sc?"\x3c".concat(Oe,".").concat(Je,".").concat(+hf+1,"-0"):"\x3c\x3d".concat(df);return"".concat(Ec," ").concat(df).trim()};
return xd}function Sa(E,ca,Ga,eb,Gb,rc){const Rb=Sc=>Ja[Sc.type](Rb,Sc);Rb.memberDepth=0;Rb.fn=Object.create(ca);Rb.params=Ga;Rb.datum=eb;Rb.event=Gb;Rb.item=rc;wa.forEach(Sc=>Rb.fn[Sc]=function(){return Gb.vega[Sc](...arguments)});return Rb(E)}function Va(E){const [ca,Ga]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(E).slice(1,3);return{library:ca,version:Ga}}function Ia(E,ca,Ga){E.fields=ca||[];E.fname=Ga;return E}function hb(E){return 1===E.length?qc(E[0]):Fc(E)}function Za(E){function ca(){Ga.push(Rb+
E.substring(Sc,fd));Rb="";Sc=fd+1}const Ga=[],eb=E.length;let Gb=null,rc=0,Rb="",Sc,fd,cd;E+="";for(Sc=fd=0;fd<eb;++fd)if(cd=E[fd],"\\"===cd)Rb+=E.substring(Sc,fd),Rb+=E.substring(++fd,++fd),Sc=fd;else if(cd===Gb)ca(),Gb=null,rc=-1;else if(!Gb)if(Sc===rc&&'"'===cd)Sc=fd+1,Gb=cd;else if(Sc===rc&&"'"===cd)Sc=fd+1,Gb=cd;else if("."===cd&&!rc)fd>Sc?ca():Sc=fd+1;else if("["===cd)fd>Sc&&ca(),rc=Sc=fd+1;else if("]"===cd){if(!rc)throw Error("Access path missing open bracket: "+E);0<rc&&ca();rc=0;Sc=fd+1}if(rc)throw Error("Access path missing closing bracket: "+
E);if(Gb)throw Error("Access path missing closing quote: "+E);fd>Sc&&(fd++,ca());return Ga}function qb(E,ca){var Ga={},eb;for(eb in E)Object.prototype.hasOwnProperty.call(E,eb)&&0>ca.indexOf(eb)&&(Ga[eb]=E[eb]);if(null!=E&&"function"===typeof Object.getOwnPropertySymbols){var Gb=0;for(eb=Object.getOwnPropertySymbols(E);Gb<eb.length;Gb++)0>ca.indexOf(eb[Gb])&&Object.prototype.propertyIsEnumerable.call(E,eb[Gb])&&(Ga[eb[Gb]]=E[eb[Gb]])}return Ga}function Nb(E){const ca=[];return function(Ga,eb){if("object"!==
typeof eb||null===eb)return eb;Ga=ca.indexOf(this)+1;ca.length=Ga;if(ca.length>E)return"[Object]";if(0<=ca.indexOf(eb))return"[Circular]";ca.push(eb);return eb}}function $a(E,ca,Ga){function eb(fd){fd.source===rc&&(Sc=0,E.removeEventListener("message",eb,!1))}function Gb(){0>=Sc||(rc.postMessage(Ga,Rb),setTimeout(Gb,250),--Sc)}const rc=E.open(ca),{origin:Rb}=new URL(ca);let Sc=40;E.addEventListener("message",eb,!1);setTimeout(Gb,250)}function V(E){for(var ca=arguments.length,Ga=Array(1<ca?ca-1:0),
eb=1;eb<ca;eb++)Ga[eb-1]=arguments[eb];for(const Gb of Ga){ca=E;Ga=Gb;for(const rc of Object.keys(Ga))h.writeConfig(ca,rc,Ga[rc],!0)}return E}function N(E,ca,Ga,eb){ca="\x3chtml\x3e\x3chead\x3e".concat(ca,'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e');Ga="\x3c/code\x3e\x3c/pre\x3e".concat(Ga,"\x3c/body\x3e\x3c/html\x3e");const Gb=window.open("");Gb.document.write(ca+E+Ga);Gb.document.title="".concat(Ie[eb]," JSON Source")}function na(E,ca){if(E.$schema){E=Va(E.$schema);if(ca&&
ca!==E.library){var Ga;console.warn("The given visualization spec is written in ".concat(Ie[E.library],", but mode argument sets ").concat(null!==(Ga=Ie[ca])&&void 0!==Ga?Ga:ca,"."))}ca=E.library;Jd(Fe[ca],"^".concat(E.version.slice(1)))||console.warn("The input spec uses ".concat(Ie[ca]," ").concat(E.version,", but the current version of ").concat(Ie[ca]," is v").concat(Fe[ca],"."));return ca}return"mark"in E||"encoding"in E||"layer"in E||"hconcat"in E||"vconcat"in E||"facet"in E||"repeat"in E?"vega-lite":
"marks"in E||"signals"in E||"scales"in E||"axes"in E?"vega":null!==ca&&void 0!==ca?ca:"vega"}function oa(E){return E&&"load"in E?E:Gd.loader(E)}function Na(E,ca){const Ga=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var eb,Gb,rc=2<Ga.length&&void 0!==Ga[2]?Ga[2]:{};let Rb,Sc;h.isString(ca)?(Sc=oa(rc.loader),Rb=JSON.parse(yield Sc.load(ca))):Rb=ca;var fd,cd,Oc=null!==(fd=null===(cd=Rb.usermeta)||void 0===cd?void 0:cd.embedOptions)&&void 0!==fd?fd:{};h.isString(Oc.defaultStyle)&&
(Oc.defaultStyle=!1);fd=Oc.loader;if(!Sc||fd){var Nd;Sc=oa(null!==(Nd=rc.loader)&&void 0!==Nd?Nd:fd)}Oc=yield la(Oc,Sc);rc=yield la(rc,Sc);rc=Object.assign({},V(rc,Oc),{config:h.mergeConfig(null!==(eb=rc.config)&&void 0!==eb?eb:{},null!==(Gb=Oc.config)&&void 0!==Gb?Gb:{})});return yield l(E,Rb,rc,Sc)})}function la(E,ca){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Ga;const eb=h.isString(E.config)?JSON.parse(yield ca.load(E.config)):null!==(Ga=E.config)&&void 0!==Ga?Ga:{};Ga=
h.isString(E.patch)?JSON.parse(yield ca.load(E.patch)):E.patch;return Object.assign({},E,Ga?{patch:Ga}:{},eb?{config:eb}:{})})}function qa(E){var ca;E=E.getRootNode?E.getRootNode():document;return E instanceof ShadowRoot?{root:E,rootContainer:E}:{root:document,rootContainer:null!==(ca=document.head)&&void 0!==ca?ca:document.body}}function l(E,ca){const Ga=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var eb,Gb,rc,Rb,Sc,fd,cd;let Oc=2<Ga.length&&void 0!==Ga[2]?Ga[2]:{};
var Nd=3<Ga.length?Ga[3]:void 0;const Md=Oc.theme?h.mergeConfig(Qb[Oc.theme],null!==(eb=Oc.config)&&void 0!==eb?eb:{}):Oc.config;eb=h.isBoolean(Oc.actions)?Oc.actions:V({},he,null!==(Gb=Oc.actions)&&void 0!==Gb?Gb:{});Gb=Object.assign({},Ne,Oc.i18n);const Ld=null!==(rc=Oc.renderer)&&void 0!==rc?rc:"canvas";rc=null!==(Rb=Oc.logLevel)&&void 0!==Rb?Rb:Gd.Warn;Rb=null!==(Sc=Oc.downloadFileName)&&void 0!==Sc?Sc:"visualization";Sc="string"===typeof E?document.querySelector(E):E;if(!Sc)throw Error("".concat(E,
" does not exist"));if(!1!==Oc.defaultStyle){const {root:Ec,rootContainer:Tc}=qa(Sc);if(!Ec.getElementById("vega-embed-style")){var Ad=document.createElement("style");Ad.id="vega-embed-style";Ad.innerHTML=void 0===Oc.defaultStyle||!0===Oc.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n}\n.vega-embed.has-actions {\n  padding-right: 38px;\n}\n.vega-embed details:not([open]) \x3e :not(summary) {\n  display: none !important;\n}\n.vega-embed summary {\n  list-style: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 6px;\n  z-index: 1000;\n  background: white;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n  color: #1b1e23;\n  border: 1px solid #aaa;\n  border-radius: 999px;\n  opacity: 0.2;\n  transition: opacity 0.4s ease-in;\n  cursor: pointer;\n  line-height: 0px;\n}\n.vega-embed summary::-webkit-details-marker {\n  display: none;\n}\n.vega-embed summary:active {\n  box-shadow: #aaa 0px 0px 0px 1px inset;\n}\n.vega-embed summary svg {\n  width: 14px;\n  height: 14px;\n}\n.vega-embed details[open] summary {\n  opacity: 0.7;\n}\n.vega-embed:hover summary, .vega-embed:focus-within summary {\n  opacity: 1 !important;\n  transition: opacity 0.2s ease;\n}\n.vega-embed .vega-actions {\n  position: absolute;\n  z-index: 1001;\n  top: 35px;\n  right: -9px;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #d9d9d9;\n  background: white;\n  animation-duration: 0.15s;\n  animation-name: scale-in;\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n  text-align: left;\n}\n.vega-embed .vega-actions a {\n  padding: 8px 16px;\n  font-family: sans-serif;\n  font-size: 14px;\n  font-weight: 600;\n  white-space: nowrap;\n  color: #434a56;\n  text-decoration: none;\n}\n.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {\n  background-color: #f7f7f9;\n  color: black;\n}\n.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n  content: "";\n  display: inline-block;\n  position: absolute;\n}\n.vega-embed .vega-actions::before {\n  left: auto;\n  right: 14px;\n  top: -16px;\n  border: 8px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #d9d9d9;\n}\n.vega-embed .vega-actions::after {\n  left: auto;\n  right: 15px;\n  top: -14px;\n  border: 7px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #fff;\n}\n.vega-embed .chart-wrapper.fit-x {\n  width: 100%;\n}\n.vega-embed .chart-wrapper.fit-y {\n  height: 100%;\n}\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px;\n}\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n'.toString():
Oc.defaultStyle;Tc.appendChild(Ad)}}const Wd=na(ca,Oc.mode);let Ca=uf[Wd](ca,Md);"vega-lite"===Wd&&Ca.$schema&&(Ad=Va(Ca.$schema),Jd(Fe.vega,"^".concat(Ad.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(Ad.version,", but current version is v").concat(Fe.vega,".")));Sc.classList.add("vega-embed");eb&&Sc.classList.add("has-actions");Sc.innerHTML="";let Qa=Sc;eb&&(Ad=document.createElement("div"),Ad.classList.add("chart-wrapper"),Sc.appendChild(Ad),Qa=Ad);(Ad=Oc.patch)&&(Ca=Ad instanceof
Function?Ad(Ca):bb(Ca,Ad,!0,!1).newDocument);Oc.formatLocale&&Gd.formatLocale(Oc.formatLocale);Oc.timeFormatLocale&&Gd.timeFormatLocale(Oc.timeFormatLocale);if(Oc.expressionFunctions)for(var bc in Oc.expressionFunctions)Ad=Oc.expressionFunctions[bc],"fn"in Ad?Gd.expressionFunction(bc,Ad.fn,Ad.visitor):Ad instanceof Function&&Gd.expressionFunction(bc,Ad);({ast:bc}=Oc);Ad=Gd.parse(Ca,"vega-lite"===Wd?{}:Md,{ast:bc});const id=new (Oc.viewClass||Gd.View)(Ad,Object.assign({},{loader:Nd,logLevel:rc,renderer:Ld},
bc?{expr:null!==(fd=null!==(cd=Gd.expressionInterpreter)&&void 0!==cd?cd:Oc.expr)&&void 0!==fd?fd:jb}:{}));id.addSignalListener("autosize",(Ec,Tc)=>{({type:Ec}=Tc);"fit-x"==Ec?(Qa.classList.add("fit-x"),Qa.classList.remove("fit-y")):"fit-y"==Ec?(Qa.classList.remove("fit-x"),Qa.classList.add("fit-y")):"fit"==Ec?Qa.classList.add("fit-x","fit-y"):Qa.classList.remove("fit-x","fit-y")});!1!==Oc.tooltip&&(fd="function"===typeof Oc.tooltip?Oc.tooltip:(new md(!0===Oc.tooltip?{}:Oc.tooltip)).call,id.tooltip(fd));
({hover:fd}=Oc);void 0===fd&&(fd="vega"===Wd);if(fd){const {hoverSet:Ec,updateSet:Tc}="boolean"===typeof fd?{}:fd;id.hover(Ec,Tc)}Oc&&(null!=Oc.width&&id.width(Oc.width),null!=Oc.height&&id.height(Oc.height),null!=Oc.padding&&id.padding(Oc.padding));yield id.initialize(Qa,Oc.bind).runAsync();let sc;if(!1!==eb){cd=Sc;if(!1!==Oc.defaultStyle){const Ec=document.createElement("details");Ec.title=Gb.CLICK_TO_VIEW_ACTIONS;Sc.append(Ec);cd=Ec;fd=document.createElement("summary");fd.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e';
Ec.append(fd);sc=Tc=>{Ec.contains(Tc.target)||Ec.removeAttribute("open")};document.addEventListener("click",sc)}fd=document.createElement("div");cd.append(fd);fd.classList.add("vega-actions");if(!0===eb||!1!==eb.export)for(const Ec of["svg","png"])if(!0===eb||!0===eb.export||eb.export[Ec])cd=Gb["".concat(Ec.toUpperCase(),"_ACTION")],Nd=document.createElement("a"),Nd.text=cd,Nd.href="#",Nd.target="_blank",Nd.download="".concat(Rb,".").concat(Ec),Nd.addEventListener("mousedown",function(Tc){const Xc=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){Tc.preventDefault();const ld=yield id.toImageURL(Ec,Oc.scaleFactor);Xc.href=ld})}),fd.append(Nd);if(!0===eb||!1!==eb.source)Rb=document.createElement("a"),Rb.text=Gb.SOURCE_ACTION,Rb.href="#",Rb.addEventListener("click",function(Ec){var Tc,Xc;N(Ma(ca),null!==(Tc=Oc.sourceHeader)&&void 0!==Tc?Tc:"",null!==(Xc=Oc.sourceFooter)&&void 0!==Xc?Xc:"",Wd);Ec.preventDefault()}),fd.append(Rb);"vega-lite"!==Wd||!0!==eb&&!1===eb.compiled||(Rb=
document.createElement("a"),Rb.text=Gb.COMPILED_ACTION,Rb.href="#",Rb.addEventListener("click",function(Ec){var Tc,Xc;N(Ma(Ca),null!==(Tc=Oc.sourceHeader)&&void 0!==Tc?Tc:"",null!==(Xc=Oc.sourceFooter)&&void 0!==Xc?Xc:"","vega");Ec.preventDefault()}),fd.append(Rb));if(!0===eb||!1!==eb.editor){var Mc;const Ec=null!==(Mc=Oc.editorUrl)&&void 0!==Mc?Mc:"https://vega.github.io/editor/";Mc=document.createElement("a");Mc.text=Gb.EDITOR_ACTION;Mc.href="#";Mc.addEventListener("click",function(Tc){$a(window,
Ec,{config:Md,mode:Wd,renderer:Ld,spec:Ma(ca)});Tc.preventDefault()});fd.append(Mc)}}return{view:id,spec:ca,vgSpec:Ca,finalize:function(){sc&&document.removeEventListener("click",sc);id.finalize()},embedOptions:Oc}})}function D(E){const ca=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Ga;let eb=1<ca.length&&void 0!==ca[1]?ca[1]:{};const Gb=document.createElement("div");Gb.classList.add("vega-embed-wrapper");const rc=document.createElement("div");Gb.appendChild(rc);
const Rb=!0===eb.actions||!1===eb.actions?eb.actions:Object.assign({},{export:!0,source:!1,compiled:!0,editor:!0},null!==(Ga=eb.actions)&&void 0!==Ga?Ga:{});Ga=yield Na(rc,E,Object.assign({},{actions:Rb},null!==eb&&void 0!==eb?eb:{}));Gb.value=Ga.view;return Gb})}var K=Ya(h),x=Ya(ia),U=function(){var E=function(ca,Ga){E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(eb,Gb){eb.__proto__=Gb}||function(eb,Gb){for(var rc in Gb)Gb.hasOwnProperty(rc)&&(eb[rc]=Gb[rc])};return E(ca,Ga)};
return function(ca,Ga){function eb(){this.constructor=ca}E(ca,Ga);ca.prototype=null===Ga?Object.create(Ga):(eb.prototype=Ga.prototype,new eb)}}(),A=Object.prototype.hasOwnProperty,X=function(E){function ca(Ga,eb,Gb,rc,Rb){var Sc=this.constructor,fd=E.call(this,Ub(Ga,{name:eb,index:Gb,operation:rc,tree:Rb}))||this;fd.name=eb;fd.index=Gb;fd.operation=rc;fd.tree=Rb;Object.setPrototypeOf(fd,Sc.prototype);fd.message=Ub(Ga,{name:eb,index:Gb,operation:rc,tree:Rb});return fd}U(ca,E);return ca}(Error),G=X,
v={add:function(E,ca,Ga){E[ca]=this.value;return{newDocument:Ga}},remove:function(E,ca,Ga){var eb=E[ca];delete E[ca];return{newDocument:Ga,removed:eb}},replace:function(E,ca,Ga){var eb=E[ca];E[ca]=this.value;return{newDocument:Ga,removed:eb}},move:function(E,ca,Ga){(E=jc(Ga,this.path))&&(E=Yb(E));ca=Ea(Ga,{op:"remove",path:this.from}).removed;Ea(Ga,{op:"add",path:this.path,value:ca});return{newDocument:Ga,removed:E}},copy:function(E,ca,Ga){E=jc(Ga,this.from);Ea(Ga,{op:"add",path:this.path,value:Yb(E)});
return{newDocument:Ga}},test:function(E,ca,Ga){return{newDocument:Ga,test:pb(E[ca],this.value)}},_get:function(E,ca,Ga){this.value=E[ca];return{newDocument:Ga}}},z={add:function(E,ca,Ga){dc(ca)?E.splice(ca,0,this.value):E[ca]=this.value;return{newDocument:Ga,index:ca}},remove:function(E,ca,Ga){E=E.splice(ca,1);return{newDocument:Ga,removed:E[0]}},replace:function(E,ca,Ga){var eb=E[ca];E[ca]=this.value;return{newDocument:Ga,removed:eb}},move:v.move,copy:v.copy,test:v.test,_get:v._get},F=Object.freeze({__proto__:null,
JsonPatchError:G,deepClone:Yb,getValueByPointer:jc,applyOperation:Ea,applyPatch:bb,applyReducer:function(E,ca,Ga){var eb=Ea(E,ca);if(!1===eb.test)throw new G("Test operation failed","TEST_OPERATION_FAILED",Ga,ca,E);return eb.newDocument},validator:tb,validate:rb,_areEquals:pb}),W=new WeakMap,ta=function(){return function(E){this.observers=new Map;this.obj=E}}(),O=function(){return function(E,ca){this.callback=E;this.observer=ca}}(),ja=Object.freeze({__proto__:null,unobserve:function(E,ca){ca.unobserve()},
observe:function(E,ca){var Ga=W.get(E);if(Ga){var eb=Ga.observers.get(ca);var Gb=eb&&eb.observer}else Ga=new ta(E),W.set(E,Ga);if(Gb)return Gb;Gb={};Ga.value=Yb(E);if(ca){Gb.callback=ca;Gb.next=null;var rc=function(){vb(Gb)},Rb=function(){clearTimeout(Gb.next);Gb.next=setTimeout(rc)};"undefined"!==typeof window&&(window.addEventListener("mouseup",Rb),window.addEventListener("keyup",Rb),window.addEventListener("mousedown",Rb),window.addEventListener("keydown",Rb),window.addEventListener("change",Rb))}Gb.patches=
[];Gb.object=E;Gb.unobserve=function(){vb(Gb);clearTimeout(Gb.next);Ga.observers.delete(Gb.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",Rb),window.removeEventListener("keyup",Rb),window.removeEventListener("mousedown",Rb),window.removeEventListener("keydown",Rb),window.removeEventListener("change",Rb))};Ga.observers.set(ca,new O(ca,Gb));return Gb},generate:vb,compare:function(E,ca,Ga){void 0===Ga&&(Ga=!1);var eb=[];gb(E,ca,eb,"",Ga);return eb}});Object.assign({},F,
ja,{JsonPatchError:X,deepClone:Yb,escapePathComponent:Wb,unescapePathComponent:nc});var va=/("(?:[^\\"]|\\.)*")|[:,]/g,Ma=function(E,ca){ca=ca||{};var Ga=JSON.stringify([1],void 0,void 0===ca.indent?2:ca.indent).slice(2,-3);var eb=""===Ga?Infinity:void 0===ca.maxLength?80:ca.maxLength;var Gb=ca.replacer;return function cd(Rb,Sc,fd){Rb&&"function"===typeof Rb.toJSON&&(Rb=Rb.toJSON());var Oc=JSON.stringify(Rb,Gb);if(void 0===Oc)return Oc;fd=eb-Sc.length-fd;if(Oc.length<=fd){var Nd=Oc.replace(va,function(id,
sc){return sc||id+" "});if(Nd.length<=fd)return Nd}null!=Gb&&(Rb=JSON.parse(Oc),Gb=void 0);if("object"===typeof Rb&&null!==Rb){var Md=Sc+Ga;var Ld=[];var Ad=0;if(Array.isArray(Rb)){var Wd="[";Nd="]";for(fd=Rb.length;Ad<fd;Ad++)Ld.push(cd(Rb[Ad],Md,Ad===fd-1?0:1)||"null")}else{Wd="{";Nd="}";var Ca=Object.keys(Rb);for(fd=Ca.length;Ad<fd;Ad++){var Qa=Ca[Ad];var bc=JSON.stringify(Qa)+": ";Qa=cd(Rb[Qa],Md,bc.length+(Ad===fd-1?0:1));void 0!==Qa&&Ld.push(bc+Qa)}}if(0<Ld.length)return[Wd,Ga+Ld.join(",\n"+
Md),Nd].join("\n"+Sc)}return Oc}(E,"",0)};fc.Node=sa;fc.create=fc;fc.prototype.removeNode=function(E){if(E.list!==this)throw Error("removing node which does not belong to this list");var ca=E.next,Ga=E.prev;ca&&(ca.prev=Ga);Ga&&(Ga.next=ca);E===this.head&&(this.head=ca);E===this.tail&&(this.tail=Ga);E.list.length--;E.next=null;E.prev=null;E.list=null;return ca};fc.prototype.unshiftNode=function(E){if(E!==this.head){E.list&&E.list.removeNode(E);var ca=this.head;E.list=this;if(E.next=ca)ca.prev=E;this.head=
E;this.tail||(this.tail=E);this.length++}};fc.prototype.pushNode=function(E){if(E!==this.tail){E.list&&E.list.removeNode(E);var ca=this.tail;E.list=this;if(E.prev=ca)ca.next=E;this.tail=E;this.head||(this.head=E);this.length++}};fc.prototype.push=function(){for(var E=0,ca=arguments.length;E<ca;E++)this.tail=new sa(arguments[E],this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length};fc.prototype.unshift=function(){for(var E=0,ca=arguments.length;E<ca;E++)this.head=new sa(arguments[E],
null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length};fc.prototype.pop=function(){if(this.tail){var E=this.tail.value;(this.tail=this.tail.prev)?this.tail.next=null:this.head=null;this.length--;return E}};fc.prototype.shift=function(){if(this.head){var E=this.head.value;(this.head=this.head.next)?this.head.prev=null:this.tail=null;this.length--;return E}};fc.prototype.forEach=function(E,ca){ca=ca||this;for(var Ga=this.head,eb=0;null!==Ga;eb++)E.call(ca,Ga.value,eb,
this),Ga=Ga.next};fc.prototype.forEachReverse=function(E,ca){ca=ca||this;for(var Ga=this.tail,eb=this.length-1;null!==Ga;eb--)E.call(ca,Ga.value,eb,this),Ga=Ga.prev};fc.prototype.get=function(E){for(var ca=0,Ga=this.head;null!==Ga&&ca<E;ca++)Ga=Ga.next;if(ca===E&&null!==Ga)return Ga.value};fc.prototype.getReverse=function(E){for(var ca=0,Ga=this.tail;null!==Ga&&ca<E;ca++)Ga=Ga.prev;if(ca===E&&null!==Ga)return Ga.value};fc.prototype.map=function(E,ca){ca=ca||this;for(var Ga=new fc,eb=this.head;null!==
eb;)Ga.push(E.call(ca,eb.value,this)),eb=eb.next;return Ga};fc.prototype.mapReverse=function(E,ca){ca=ca||this;for(var Ga=new fc,eb=this.tail;null!==eb;)Ga.push(E.call(ca,eb.value,this)),eb=eb.prev;return Ga};fc.prototype.reduce=function(E,ca){var Ga=this.head;if(1<arguments.length)var eb=ca;else if(this.head)Ga=this.head.next,eb=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var Gb=0;null!==Ga;Gb++)eb=E(eb,Ga.value,Gb),Ga=Ga.next;return eb};fc.prototype.reduceReverse=
function(E,ca){var Ga=this.tail;if(1<arguments.length)var eb=ca;else if(this.tail)Ga=this.tail.prev,eb=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var Gb=this.length-1;null!==Ga;Gb--)eb=E(eb,Ga.value,Gb),Ga=Ga.prev;return eb};fc.prototype.toArray=function(){for(var E=Array(this.length),ca=0,Ga=this.head;null!==Ga;ca++)E[ca]=Ga.value,Ga=Ga.next;return E};fc.prototype.toArrayReverse=function(){for(var E=Array(this.length),ca=0,Ga=this.tail;null!==Ga;ca++)E[ca]=
Ga.value,Ga=Ga.prev;return E};fc.prototype.slice=function(E,ca){ca=ca||this.length;0>ca&&(ca+=this.length);E=E||0;0>E&&(E+=this.length);var Ga=new fc;if(ca<E||0>ca)return Ga;0>E&&(E=0);ca>this.length&&(ca=this.length);for(var eb=0,Gb=this.head;null!==Gb&&eb<E;eb++)Gb=Gb.next;for(;null!==Gb&&eb<ca;eb++,Gb=Gb.next)Ga.push(Gb.value);return Ga};fc.prototype.sliceReverse=function(E,ca){ca=ca||this.length;0>ca&&(ca+=this.length);E=E||0;0>E&&(E+=this.length);var Ga=new fc;if(ca<E||0>ca)return Ga;0>E&&(E=
0);ca>this.length&&(ca=this.length);for(var eb=this.length,Gb=this.tail;null!==Gb&&eb>ca;eb--)Gb=Gb.prev;for(;null!==Gb&&eb>E;eb--,Gb=Gb.prev)Ga.push(Gb.value);return Ga};fc.prototype.splice=function(E,ca){E>this.length&&(E=this.length-1);0>E&&(E=this.length+E);for(var Ga=0,eb=this.head;null!==eb&&Ga<E;Ga++)eb=eb.next;var Gb=[];for(Ga=0;eb&&Ga<ca;Ga++)Gb.push(eb.value),eb=this.removeNode(eb);null===eb&&(eb=this.tail);eb!==this.head&&eb!==this.tail&&(eb=eb.prev);for(Ga=0;Ga<(2>=arguments.length?0:
arguments.length-2);Ga++){var rc=2>Ga+2||arguments.length<=Ga+2?void 0:arguments[Ga+2];eb=eb===this.head?new sa(rc,null,eb,this):new sa(rc,eb,eb.next,this);null===eb.next&&(this.tail=eb);null===eb.prev&&(this.head=eb);this.length++}return Gb};fc.prototype.reverse=function(){for(var E=this.head,ca=this.tail,Ga=E;null!==Ga;Ga=Ga.prev){var eb=Ga.prev;Ga.prev=Ga.next;Ga.next=eb}this.head=ca;this.tail=E;return this};try{fc.prototype[Symbol.iterator]=function*(){for(let E=this.head;E;E=E.next)yield E.value}}catch(E){}const Pa=
Symbol("max"),Xa=Symbol("length"),sb=Symbol("lengthCalculator"),ib=Symbol("allowStale"),Sb=Symbol("maxAge"),Y=Symbol("dispose"),Fa=Symbol("noDisposeOnSet"),Kb=Symbol("lruList"),pc=Symbol("cache"),ac=Symbol("updateAgeOnGet"),Mb=()=>1;class Ob{constructor(E){"number"===typeof E&&(E={max:E});E||(E={});if(E.max&&("number"!==typeof E.max||0>E.max))throw new TypeError("max must be a non-negative number");this[Pa]=E.max||Infinity;const ca=E.length||Mb;this[sb]="function"!==typeof ca?Mb:ca;this[ib]=E.stale||
!1;if(E.maxAge&&"number"!==typeof E.maxAge)throw new TypeError("maxAge must be a number");this[Sb]=E.maxAge||0;this[Y]=E.dispose;this[Fa]=E.noDisposeOnSet||!1;this[ac]=E.updateAgeOnGet||!1;this.reset()}set max(E){if("number"!==typeof E||0>E)throw new TypeError("max must be a non-negative number");this[Pa]=E||Infinity;ra(this)}get max(){return this[Pa]}set allowStale(E){this[ib]=!!E}get allowStale(){return this[ib]}set maxAge(E){if("number"!==typeof E)throw new TypeError("maxAge must be a non-negative number");
this[Sb]=E;ra(this)}get maxAge(){return this[Sb]}set lengthCalculator(E){"function"!==typeof E&&(E=Mb);E!==this[sb]&&(this[sb]=E,this[Xa]=0,this[Kb].forEach(ca=>{ca.length=this[sb](ca.value,ca.key);this[Xa]+=ca.length}));ra(this)}get lengthCalculator(){return this[sb]}get length(){return this[Xa]}get itemCount(){return this[Kb].length}rforEach(E,ca){ca=ca||this;for(let Ga=this[Kb].tail;null!==Ga;){const eb=Ga.prev;xb(this,E,Ga,ca);Ga=eb}}forEach(E,ca){ca=ca||this;for(let Ga=this[Kb].head;null!==Ga;){const eb=
Ga.next;xb(this,E,Ga,ca);Ga=eb}}keys(){return this[Kb].toArray().map(E=>E.key)}values(){return this[Kb].toArray().map(E=>E.value)}reset(){this[Y]&&this[Kb]&&this[Kb].length&&this[Kb].forEach(E=>this[Y](E.key,E.value));this[pc]=new Map;this[Kb]=new fc;this[Xa]=0}dump(){return this[Kb].map(E=>hd(this,E)?!1:{k:E.key,v:E.value,e:E.now+(E.maxAge||0)}).toArray().filter(E=>E)}dumpLru(){return this[Kb]}set(E,ca,Ga){if((Ga=Ga||this[Sb])&&"number"!==typeof Ga)throw new TypeError("maxAge must be a number");
const eb=Ga?Date.now():0,Gb=this[sb](ca,E);if(this[pc].has(E)){if(Gb>this[Pa])return Bb(this,this[pc].get(E)),!1;const rc=this[pc].get(E).value;if(this[Y]&&!this[Fa])this[Y](E,rc.value);rc.now=eb;rc.maxAge=Ga;rc.value=ca;this[Xa]+=Gb-rc.length;rc.length=Gb;this.get(E);ra(this);return!0}Ga=new Ua(E,ca,Gb,eb,Ga);if(Ga.length>this[Pa]){if(this[Y])this[Y](E,ca);return!1}this[Xa]+=Ga.length;this[Kb].unshift(Ga);this[pc].set(E,this[Kb].head);ra(this);return!0}has(E){if(!this[pc].has(E))return!1;E=this[pc].get(E).value;
return!hd(this,E)}get(E){return xc(this,E,!0)}peek(E){return xc(this,E,!1)}pop(){const E=this[Kb].tail;if(!E)return null;Bb(this,E);return E.value}del(E){Bb(this,this[pc].get(E))}load(E){this.reset();const ca=Date.now();for(let eb=E.length-1;0<=eb;eb--){const Gb=E[eb];var Ga=Gb.e||0;0===Ga?this.set(Gb.k,Gb.v):(Ga-=ca,0<Ga&&this.set(Gb.k,Gb.v,Ga))}}prune(){this[pc].forEach((E,ca)=>xc(this,ca,!1))}}const xc=(E,ca,Ga)=>{if(ca=E[pc].get(ca)){const eb=ca.value;if(hd(E,eb)){if(Bb(E,ca),!E[ib])return}else Ga&&
(E[ac]&&(ca.value.now=Date.now()),E[Kb].unshiftNode(ca));return eb.value}},hd=(E,ca)=>{if(!ca||!ca.maxAge&&!E[Sb])return!1;const Ga=Date.now()-ca.now;return ca.maxAge?Ga>ca.maxAge:E[Sb]&&Ga>E[Sb]},ra=E=>{if(E[Xa]>E[Pa])for(let ca=E[Kb].tail;E[Xa]>E[Pa]&&null!==ca;){const Ga=ca.prev;Bb(E,ca);ca=Ga}},Bb=(E,ca)=>{if(ca){const Ga=ca.value;if(E[Y])E[Y](Ga.key,Ga.value);E[Xa]-=Ga.length;E[pc].delete(Ga.key);E[Kb].removeNode(ca)}};class Ua{constructor(E,ca,Ga,eb,Gb){this.key=E;this.value=ca;this.length=
Ga;this.now=eb;this.maxAge=Gb||0}}const xb=(E,ca,Ga,eb)=>{let Gb=Ga.value;hd(E,Gb)&&(Bb(E,Ga),E[ib]||(Gb=void 0));Gb&&ca.call(eb,Gb.value,Gb.key,E)};var Fb=Ob;const Lb=["includePrerelease","loose","rtl"];var Zb=E=>E?"object"!==typeof E?{loose:!0}:Lb.filter(ca=>E[ca]).reduce((ca,Ga)=>{ca[Ga]=!0;return ca},{}):{},ic={exports:{}},Ac={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},nd="object"===typeof t&&t.env&&t.env.NODE_DEBUG&&
/\bsemver\b/i.test(t.env.NODE_DEBUG)?function(){for(var E=arguments.length,ca=Array(E),Ga=0;Ga<E;Ga++)ca[Ga]=arguments[Ga];return console.error("SEMVER",...ca)}:()=>{};(function(E,ca){const {MAX_SAFE_COMPONENT_LENGTH:Ga}=Ac,eb=nd;ca=E.exports={};const Gb=ca.re=[],rc=ca.src=[],Rb=ca.t={};let Sc=0;E=(fd,cd,Oc)=>{const Nd=Sc++;eb(fd,Nd,cd);Rb[fd]=Nd;rc[Nd]=cd;Gb[Nd]=new RegExp(cd,Oc?"g":void 0)};E("NUMERICIDENTIFIER","0|[1-9]\\d*");E("NUMERICIDENTIFIERLOOSE","[0-9]+");E("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");
E("MAINVERSION","(".concat(rc[Rb.NUMERICIDENTIFIER],")\\.")+"(".concat(rc[Rb.NUMERICIDENTIFIER],")\\.")+"(".concat(rc[Rb.NUMERICIDENTIFIER],")"));E("MAINVERSIONLOOSE","(".concat(rc[Rb.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(rc[Rb.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(rc[Rb.NUMERICIDENTIFIERLOOSE],")"));E("PRERELEASEIDENTIFIER","(?:".concat(rc[Rb.NUMERICIDENTIFIER],"|").concat(rc[Rb.NONNUMERICIDENTIFIER],")"));E("PRERELEASEIDENTIFIERLOOSE","(?:".concat(rc[Rb.NUMERICIDENTIFIERLOOSE],"|").concat(rc[Rb.NONNUMERICIDENTIFIER],
")"));E("PRERELEASE","(?:-(".concat(rc[Rb.PRERELEASEIDENTIFIER],"(?:\\.").concat(rc[Rb.PRERELEASEIDENTIFIER],")*))"));E("PRERELEASELOOSE","(?:-?(".concat(rc[Rb.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(rc[Rb.PRERELEASEIDENTIFIERLOOSE],")*))"));E("BUILDIDENTIFIER","[0-9A-Za-z-]+");E("BUILD","(?:\\+(".concat(rc[Rb.BUILDIDENTIFIER],"(?:\\.").concat(rc[Rb.BUILDIDENTIFIER],")*))"));E("FULLPLAIN","v?".concat(rc[Rb.MAINVERSION]).concat(rc[Rb.PRERELEASE],"?").concat(rc[Rb.BUILD],"?"));E("FULL","^".concat(rc[Rb.FULLPLAIN],
"$"));E("LOOSEPLAIN","[v\x3d\\s]*".concat(rc[Rb.MAINVERSIONLOOSE]).concat(rc[Rb.PRERELEASELOOSE],"?").concat(rc[Rb.BUILD],"?"));E("LOOSE","^".concat(rc[Rb.LOOSEPLAIN],"$"));E("GTLT","((?:\x3c|\x3e)?\x3d?)");E("XRANGEIDENTIFIERLOOSE","".concat(rc[Rb.NUMERICIDENTIFIERLOOSE],"|x|X|\\*"));E("XRANGEIDENTIFIER","".concat(rc[Rb.NUMERICIDENTIFIER],"|x|X|\\*"));E("XRANGEPLAIN","[v\x3d\\s]*(".concat(rc[Rb.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(rc[Rb.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(rc[Rb.XRANGEIDENTIFIER],
")")+"(?:".concat(rc[Rb.PRERELEASE],")?").concat(rc[Rb.BUILD],"?")+")?)?");E("XRANGEPLAINLOOSE","[v\x3d\\s]*(".concat(rc[Rb.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(rc[Rb.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(rc[Rb.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(rc[Rb.PRERELEASELOOSE],")?").concat(rc[Rb.BUILD],"?")+")?)?");E("XRANGE","^".concat(rc[Rb.GTLT],"\\s*").concat(rc[Rb.XRANGEPLAIN],"$"));E("XRANGELOOSE","^".concat(rc[Rb.GTLT],"\\s*").concat(rc[Rb.XRANGEPLAINLOOSE],"$"));E("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(Ga,
"})")+"(?:\\.(\\d{1,".concat(Ga,"}))?")+"(?:\\.(\\d{1,".concat(Ga,"}))?")+"(?:$|[^\\d])");E("COERCERTL",rc[Rb.COERCE],!0);E("LONETILDE","(?:~\x3e?)");E("TILDETRIM","(\\s*)".concat(rc[Rb.LONETILDE],"\\s+"),!0);ca.tildeTrimReplace="$1~";E("TILDE","^".concat(rc[Rb.LONETILDE]).concat(rc[Rb.XRANGEPLAIN],"$"));E("TILDELOOSE","^".concat(rc[Rb.LONETILDE]).concat(rc[Rb.XRANGEPLAINLOOSE],"$"));E("LONECARET","(?:\\^)");E("CARETTRIM","(\\s*)".concat(rc[Rb.LONECARET],"\\s+"),!0);ca.caretTrimReplace="$1^";E("CARET",
"^".concat(rc[Rb.LONECARET]).concat(rc[Rb.XRANGEPLAIN],"$"));E("CARETLOOSE","^".concat(rc[Rb.LONECARET]).concat(rc[Rb.XRANGEPLAINLOOSE],"$"));E("COMPARATORLOOSE","^".concat(rc[Rb.GTLT],"\\s*(").concat(rc[Rb.LOOSEPLAIN],")$|^$"));E("COMPARATOR","^".concat(rc[Rb.GTLT],"\\s*(").concat(rc[Rb.FULLPLAIN],")$|^$"));E("COMPARATORTRIM","(\\s*)".concat(rc[Rb.GTLT],"\\s*(").concat(rc[Rb.LOOSEPLAIN],"|").concat(rc[Rb.XRANGEPLAIN],")"),!0);ca.comparatorTrimReplace="$1$2$3";E("HYPHENRANGE","^\\s*(".concat(rc[Rb.XRANGEPLAIN],
")")+"\\s+-\\s+"+"(".concat(rc[Rb.XRANGEPLAIN],")")+"\\s*$");E("HYPHENRANGELOOSE","^\\s*(".concat(rc[Rb.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(rc[Rb.XRANGEPLAINLOOSE],")")+"\\s*$");E("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");E("GTE0","^\\s*\x3e\x3d\\s*0\\.0\\.0\\s*$");E("GTE0PRE","^\\s*\x3e\x3d\\s*0\\.0\\.0-0\\s*$")})(ic,ic.exports);const Uc=/^[0-9]+$/,ma=(E,ca)=>{const Ga=Uc.test(E),eb=Uc.test(ca);Ga&&eb&&(E=+E,ca=+ca);return E===ca?0:Ga&&!eb?-1:eb&&!Ga?1:E<ca?-1:1};var Ha={compareIdentifiers:ma,
rcompareIdentifiers:(E,ca)=>ma(ca,E)};const fb=nd,{MAX_LENGTH:S,MAX_SAFE_INTEGER:r}=Ac,{re:da,t:za}=ic.exports,Da=Zb,{compareIdentifiers:Oa}=Ha;class kb{constructor(E,ca){ca=Da(ca);if(E instanceof kb){if(E.loose===!!ca.loose&&E.includePrerelease===!!ca.includePrerelease)return E;E=E.version}else if("string"!==typeof E)throw new TypeError("Invalid Version: ".concat(E));if(E.length>S)throw new TypeError("version is longer than ".concat(S," characters"));fb("SemVer",E,ca);this.options=ca;this.loose=
!!ca.loose;this.includePrerelease=!!ca.includePrerelease;ca=E.trim().match(ca.loose?da[za.LOOSE]:da[za.FULL]);if(!ca)throw new TypeError("Invalid Version: ".concat(E));this.raw=E;this.major=+ca[1];this.minor=+ca[2];this.patch=+ca[3];if(this.major>r||0>this.major)throw new TypeError("Invalid major version");if(this.minor>r||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>r||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=ca[4]?ca[4].split(".").map(Ga=>
{if(/^[0-9]+$/.test(Ga)){const eb=+Ga;if(0<=eb&&eb<r)return eb}return Ga}):[];this.build=ca[5]?ca[5].split("."):[];this.format()}format(){this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch);this.prerelease.length&&(this.version+="-".concat(this.prerelease.join(".")));return this.version}toString(){return this.version}compare(E){fb("SemVer.compare",this.version,this.options,E);if(!(E instanceof kb)){if("string"===typeof E&&E===this.version)return 0;E=new kb(E,this.options)}return E.version===
this.version?0:this.compareMain(E)||this.comparePre(E)}compareMain(E){E instanceof kb||(E=new kb(E,this.options));return Oa(this.major,E.major)||Oa(this.minor,E.minor)||Oa(this.patch,E.patch)}comparePre(E){E instanceof kb||(E=new kb(E,this.options));if(this.prerelease.length&&!E.prerelease.length)return-1;if(!this.prerelease.length&&E.prerelease.length)return 1;if(!this.prerelease.length&&!E.prerelease.length)return 0;let ca=0;do{const Ga=this.prerelease[ca],eb=E.prerelease[ca];fb("prerelease compare",
ca,Ga,eb);if(void 0===Ga&&void 0===eb)return 0;if(void 0===eb)return 1;if(void 0===Ga)return-1;if(Ga!==eb)return Oa(Ga,eb)}while(++ca)}compareBuild(E){E instanceof kb||(E=new kb(E,this.options));let ca=0;do{const Ga=this.build[ca],eb=E.build[ca];fb("prerelease compare",ca,Ga,eb);if(void 0===Ga&&void 0===eb)return 0;if(void 0===eb)return 1;if(void 0===Ga)return-1;if(Ga!==eb)return Oa(Ga,eb)}while(++ca)}inc(E,ca){switch(E){case "premajor":this.minor=this.patch=this.prerelease.length=0;this.major++;
this.inc("pre",ca);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",ca);break;case "prepatch":this.prerelease.length=0;this.inc("patch",ca);this.inc("pre",ca);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",ca);this.inc("pre",ca);break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&0!==this.prerelease.length||this.minor++;this.patch=
0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(E=this.prerelease.length;0<=--E;)"number"===typeof this.prerelease[E]&&(this.prerelease[E]++,E=-2);-1===E&&this.prerelease.push(0)}ca&&(0===Oa(this.prerelease[0],ca)?isNaN(this.prerelease[1])&&(this.prerelease=[ca,0]):this.prerelease=[ca,0]);break;default:throw Error("invalid increment argument: ".concat(E));}this.format();
this.raw=this.version;return this}}var Vb=kb;const Eb=Vb;var Hb=(E,ca,Ga)=>(new Eb(E,Ga)).compare(new Eb(ca,Ga)),Cc=(E,ca,Ga,eb)=>{switch(ca){case "\x3d\x3d\x3d":return"object"===typeof E&&(E=E.version),"object"===typeof Ga&&(Ga=Ga.version),E===Ga;case "!\x3d\x3d":return"object"===typeof E&&(E=E.version),"object"===typeof Ga&&(Ga=Ga.version),E!==Ga;case "":case "\x3d":case "\x3d\x3d":return 0===Hb(E,Ga,eb);case "!\x3d":return 0!==Hb(E,Ga,eb);case "\x3e":return 0<Hb(E,Ga,eb);case "\x3e\x3d":return 0<=
Hb(E,Ga,eb);case "\x3c":return 0>Hb(E,Ga,eb);case "\x3c\x3d":return 0>=Hb(E,Ga,eb);default:throw new TypeError("Invalid operator: ".concat(ca));}},Hc,Nc,xd,sd;const ed=Ba();var Jd=(E,ca,Ga)=>{try{ca=new ed(ca,Ga)}catch(eb){return!1}return ca.test(E)},Hd={NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},vd={"*":(E,ca)=>E*ca,"+":(E,ca)=>E+ca,"-":(E,ca)=>E-ca,"/":(E,ca)=>
E/ca,"%":(E,ca)=>E%ca,"\x3e":(E,ca)=>E>ca,"\x3c":(E,ca)=>E<ca,"\x3c\x3d":(E,ca)=>E<=ca,"\x3e\x3d":(E,ca)=>E>=ca,"\x3d\x3d":(E,ca)=>E==ca,"!\x3d":(E,ca)=>E!=ca,"\x3d\x3d\x3d":(E,ca)=>E===ca,"!\x3d\x3d":(E,ca)=>E!==ca,"\x26":(E,ca)=>E&ca,"|":(E,ca)=>E|ca,"^":(E,ca)=>E^ca,"\x3c\x3c":(E,ca)=>E<<ca,"\x3e\x3e":(E,ca)=>E>>ca,"\x3e\x3e\x3e":(E,ca)=>E>>>ca},we={"+":E=>+E,"-":E=>-E,"~":E=>~E,"!":E=>!E};const Ed=Array.prototype.slice,w=(E,ca,Ga)=>{Ga=Ga?Ga(ca[0]):ca[0];return Ga[E].apply(Ga,Ed.call(ca,1))};
var I={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(E,ca,Ga)=>Math.max(ca,Math.min(Ga,E)),now:Date.now,utc:Date.UTC,datetime:(E,ca,Ga,eb,Gb,rc,Rb)=>new Date(E,ca||0,null!=Ga?Ga:1,eb||0,Gb||0,rc||0,Rb||0),date:E=>(new Date(E)).getDate(),
day:E=>(new Date(E)).getDay(),year:E=>(new Date(E)).getFullYear(),month:E=>(new Date(E)).getMonth(),hours:E=>(new Date(E)).getHours(),minutes:E=>(new Date(E)).getMinutes(),seconds:E=>(new Date(E)).getSeconds(),milliseconds:E=>(new Date(E)).getMilliseconds(),time:E=>(new Date(E)).getTime(),timezoneoffset:E=>(new Date(E)).getTimezoneOffset(),utcdate:E=>(new Date(E)).getUTCDate(),utcday:E=>(new Date(E)).getUTCDay(),utcyear:E=>(new Date(E)).getUTCFullYear(),utcmonth:E=>(new Date(E)).getUTCMonth(),utchours:E=>
(new Date(E)).getUTCHours(),utcminutes:E=>(new Date(E)).getUTCMinutes(),utcseconds:E=>(new Date(E)).getUTCSeconds(),utcmilliseconds:E=>(new Date(E)).getUTCMilliseconds(),length:E=>E.length,join:function(){return w("join",arguments)},indexof:function(){return w("indexOf",arguments)},lastindexof:function(){return w("lastIndexOf",arguments)},slice:function(){return w("slice",arguments)},reverse:E=>E.slice().reverse(),parseFloat,parseInt,upper:E=>String(E).toUpperCase(),lower:E=>String(E).toLowerCase(),
substring:function(){return w("substring",arguments,String)},split:function(){return w("split",arguments,String)},replace:function(){return w("replace",arguments,String)},trim:E=>String(E).trim(),regexp:RegExp,test:(E,ca)=>RegExp(E).test(ca)};const wa="view item group xy x y".split(" "),Ja={Literal:(E,ca)=>ca.value,Identifier:(E,ca)=>{ca=ca.name;return 0<E.memberDepth?ca:"datum"===ca?E.datum:"event"===ca?E.event:"item"===ca?E.item:Hd[ca]||E.params["$"+ca]},MemberExpression:(E,ca)=>{const Ga=!ca.computed,
eb=E(ca.object);Ga&&(E.memberDepth+=1);ca=E(ca.property);Ga&&--E.memberDepth;return eb[ca]},CallExpression:(E,ca)=>{const Ga=ca.arguments;ca=ca.callee.name;ca.startsWith("_")&&(ca=ca.slice(1));return"if"===ca?E(Ga[0])?E(Ga[1]):E(Ga[2]):(E.fn[ca]||I[ca]).apply(E.fn,Ga.map(E))},ArrayExpression:(E,ca)=>ca.elements.map(E),BinaryExpression:(E,ca)=>vd[ca.operator](E(ca.left),E(ca.right)),UnaryExpression:(E,ca)=>we[ca.operator](E(ca.argument)),ConditionalExpression:(E,ca)=>E(ca.test)?E(ca.consequent):E(ca.alternate),
LogicalExpression:(E,ca)=>"\x26\x26"===ca.operator?E(ca.left)&&E(ca.right):E(ca.left)||E(ca.right),ObjectExpression:(E,ca)=>ca.properties.reduce((Ga,eb)=>{E.memberDepth+=1;const Gb=E(eb.key);--E.memberDepth;Ga[Gb]=E(eb.value);return Ga},{})};var jb={operator(E,ca){const Ga=ca.ast,eb=E.functions;return Gb=>Sa(Ga,eb,Gb)},parameter(E,ca){const Ga=ca.ast,eb=E.functions;return(Gb,rc)=>Sa(Ga,eb,rc,Gb)},event(E,ca){const Ga=ca.ast,eb=E.functions;return Gb=>Sa(Ga,eb,void 0,void 0,Gb)},handler(E,ca){const Ga=
ca.ast,eb=E.functions;return(Gb,rc)=>Sa(Ga,eb,Gb,rc.item&&rc.item.datum,rc)},encode(E,ca){const {marktype:Ga,channels:eb}=ca,Gb=E.functions,rc="group"===Ga||"image"===Ga||"rect"===Ga;return(Rb,Sc)=>{const fd=Rb.datum;let cd=0,Oc;for(const Nd in eb)Oc=Sa(eb[Nd].ast,Gb,Sc,fd,void 0,Rb),Rb[Nd]!==Oc&&(Rb[Nd]=Oc,cd=1);"rule"!==Ga&&(eb.x2&&(eb.x?(rc&&Rb.x>Rb.x2&&(Sc=Rb.x,Rb.x=Rb.x2,Rb.x2=Sc),Rb.width=Rb.x2-Rb.x):Rb.x=Rb.x2-(Rb.width||0)),eb.xc&&(Rb.x=Rb.xc-(Rb.width||0)/2),eb.y2&&(eb.y?(rc&&Rb.y>Rb.y2&&
(Sc=Rb.y,Rb.y=Rb.y2,Rb.y2=Sc),Rb.height=Rb.y2-Rb.y):Rb.y=Rb.y2-(Rb.height||0)),eb.yc&&(Rb.y=Rb.yc-(Rb.height||0)/2));return cd}}};const wb={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},ec={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),
"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),
"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11",
"#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),
"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};var Qb=Object.freeze({__proto__:null,dark:{background:"#333",title:{color:"#fff",subtitleColor:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},
symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",
gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),
diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,
gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",
padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6",
"#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},
axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:wb["category-6"],diverging:wb["fireandice-6"],heatmap:wb["fire-7"],ordinal:wb["fire-7"],ramp:wb["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},
area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},
urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,
labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:ec["six-groups-cat-1"],diverging:ec["diverging-colors"],heatmap:ec["diverging-colors"],ordinal:ec["six-groups-seq"],ramp:ec["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},
text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},version:"2.10.0",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},
axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}});const qc=E=>function(ca){return ca[E]},Fc=E=>{const ca=E.length;return function(Ga){for(let eb=0;eb<ca;++eb)Ga=Ga[E[eb]];return Ga}};(function(E,ca,Ga){const eb=Za(E);E=1===eb.length?eb[0]:E;return Ia((Ga&&Ga.get||hb)(eb),[E],ca||E)})("id");Ia(E=>E,[],"identity");Ia(()=>0,[],
"zero");Ia(()=>1,[],"one");Ia(()=>!0,[],"true");Ia(()=>!1,[],"false");var zc=Array.isArray;const bd={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(E){return String(E).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2,formatTooltip:function(E,ca,Ga){if(zc(E))return"[".concat(E.map(Gb=>ca("string"===typeof Gb?Gb:JSON.stringify(Gb,Nb(Ga)))).join(", "),"]");if(E===Object(E)){let Gb="";const {title:rc,image:Rb}=
E;E=qb(E,["title","image"]);rc&&(Gb+="\x3ch2\x3e".concat(ca(rc),"\x3c/h2\x3e"));Rb&&(Gb+='\x3cimg src\x3d"'.concat(ca(Rb),'"\x3e'));var eb=Object.keys(E);if(0<eb.length){Gb+="\x3ctable\x3e";for(const Sc of eb)eb=E[Sc],void 0!==eb&&(eb===Object(eb)&&(eb=JSON.stringify(eb,Nb(Ga))),Gb+='\x3ctr\x3e\x3ctd class\x3d"key"\x3e'.concat(ca(Sc),':\x3c/td\x3e\x3ctd class\x3d"value"\x3e').concat(ca(eb),"\x3c/td\x3e\x3c/tr\x3e"));Gb+="\x3c/table\x3e"}return Gb||"{}"}return ca(E)}};class md{constructor(E){this.options=
Object.assign(Object.assign({},bd),E);var ca=this.options.id;this.el=null;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){E=document.createElement("style");E.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(ca))throw Error("Invalid HTML ID");ca="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black;\n}\n#vg-tooltip-element.visible {\n  visibility: visible;\n}\n#vg-tooltip-element h2 {\n  margin-top: 0;\n  margin-bottom: 10px;\n  font-size: 13px;\n}\n#vg-tooltip-element img {\n  max-width: 200px;\n  max-height: 200px;\n}\n#vg-tooltip-element table {\n  border-spacing: 0;\n}\n#vg-tooltip-element table tr {\n  border: none;\n}\n#vg-tooltip-element table tr td {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n#vg-tooltip-element table tr td.key {\n  color: #808080;\n  max-width: 150px;\n  text-align: right;\n  padding-right: 4px;\n}\n#vg-tooltip-element table tr td.value {\n  display: block;\n  max-width: 300px;\n  max-height: 7em;\n  text-align: left;\n}\n#vg-tooltip-element.dark-theme {\n  background-color: rgba(32, 32, 32, 0.9);\n  border: 1px solid #f5f5f5;\n  color: white;\n}\n#vg-tooltip-element.dark-theme td.key {\n  color: #bfbfbf;\n}\n".toString().replace("vg-tooltip-element",
ca);E.innerHTML=ca;ca=document.head;0<ca.childNodes.length?ca.insertBefore(E,ca.childNodes[0]):ca.appendChild(E)}}tooltipHandler(E,ca,Ga,eb){var Gb;this.el=document.getElementById(this.options.id);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(null!==(Gb=document.fullscreenElement)&&void 0!==Gb?Gb:document.body).appendChild(this.el));if(null==eb||""===eb)this.el.classList.remove("visible","".concat(this.options.theme,
"-theme"));else{this.el.innerHTML=this.options.formatTooltip(eb,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible","".concat(this.options.theme,"-theme"));E=this.el.getBoundingClientRect();Gb=this.options.offsetX;Ga=this.options.offsetY;eb=ca.clientX+Gb;eb+E.width>window.innerWidth&&(eb=+ca.clientX-Gb-E.width);Gb=ca.clientY+Ga;Gb+E.height>window.innerHeight&&(Gb=+ca.clientY-Ga-E.height);var {x:rc,y:Rb}={x:eb,y:Gb};this.el.setAttribute("style","top: ".concat(Rb,"px; left: ").concat(rc,
"px"))}}}String.prototype.startsWith||(String.prototype.startsWith=function(E,ca){return this.substr(!ca||0>ca?0:+ca,E.length)===E});var qd;const Gd=K;let kd=x;const Od="undefined"!==typeof window?window:void 0;void 0===kd&&null!==Od&&void 0!==Od&&null!==(qd=Od.vl)&&void 0!==qd&&qd.compile&&(kd=Od.vl);const he={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},Ne={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",
SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},Ie={vega:"Vega","vega-lite":"Vega-Lite"},Fe={vega:Gd.version,"vega-lite":kd?kd.version:"not available"},uf={vega:E=>E,"vega-lite":(E,ca)=>kd.compile(E,{config:ca}).spec},gf=function(){var E;if(E=1<arguments.length){if(E=h.isString(0>=arguments.length?void 0:arguments[0]))E=0>=arguments.length?void 0:arguments[0],E=!(E.startsWith("http://")||E.startsWith("https://")||E.startsWith("//"));E=E||(0>=arguments.length?void 0:arguments[0])instanceof HTMLElement||
3===arguments.length}return E?Na(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1],2>=arguments.length?void 0:arguments[2]):D(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1])};gf.vegaLite=kd;gf.vl=kd;gf.container=D;gf.embed=Na;gf.vega=Gd;gf.default=Na;gf.version="6.21.0";return gf})};
shadow$provide[58]=function(Db,nb,Dc,Wa){Wa.__esModule=!0;Wa.default=function(t){const h={};return!!t&&"[object Function]"===h.toString.call(t)}};
shadow$provide[59]=function(Db,nb,Dc,Wa){Wa.__esModule=!0;Wa.default=function(ia,Ya,ub){ub&&((0,h.default)(ub)?ub(ia.data(Ya)):ia.change(Ya,t.vega.changeset().remove(()=>!0).insert(ub)))};var t=nb(57),h=function(ia){return ia&&ia.__esModule?ia:{default:ia}}(nb(58))};
shadow$provide[60]=function(Db,nb,Dc,Wa){Wa.__esModule=!0;Wa.default=function(h,ia){Object.keys(ia).forEach(Ya=>{(0,t.default)(h,Ya,ia[Ya])})};var t=function(h){return h&&h.__esModule?h:{default:h}}(nb(59))};
shadow$provide[61]=function(Db,nb,Dc,Wa){Wa.__esModule=!0;Wa.default=function(t){const h=new Set;t.forEach(ia=>{Object.keys(ia).forEach(Ya=>{h.add(Ya)})});return h}};
shadow$provide[62]=function(Db,nb,Dc,Wa){Wa.__esModule=!0;Wa.NOOP=void 0;Wa.NOOP=()=>{}};
shadow$provide[63]=function(Db,nb,Dc,Wa){Wa.__esModule=!0;Wa.default=function(t,h){const ia=Object.keys(h);ia.forEach(Ya=>{try{t.addSignalListener(Ya,h[Ya])}catch(ub){console.warn("Cannot add invalid signal listener.",ub)}});return 0<ia.length}};
shadow$provide[64]=function(Db,nb,Dc,Wa){Dc.exports=function Ya(h,ia){if(h===ia)return!0;if(h&&ia&&"object"==typeof h&&"object"==typeof ia){if(h.constructor!==ia.constructor)return!1;var ub;if(Array.isArray(h)){var Yb=h.length;if(Yb!=ia.length)return!1;for(ub=Yb;0!==ub--;)if(!Ya(h[ub],ia[ub]))return!1;return!0}if(h.constructor===RegExp)return h.source===ia.source&&h.flags===ia.flags;if(h.valueOf!==Object.prototype.valueOf)return h.valueOf()===ia.valueOf();if(h.toString!==Object.prototype.toString)return h.toString()===
ia.toString();var dc=Object.keys(h);Yb=dc.length;if(Yb!==Object.keys(ia).length)return!1;for(ub=Yb;0!==ub--;)if(!Object.prototype.hasOwnProperty.call(ia,dc[ub]))return!1;for(ub=Yb;0!==ub--;)if(Yb=dc[ub],!Ya(h[Yb],ia[Yb]))return!1;return!0}return h!==h&&ia!==ia}};
shadow$provide[65]=function(Db,nb,Dc,Wa){function t(Ya){return Ya&&Ya.__esModule?Ya:{default:Ya}}Wa.__esModule=!0;Wa.default=function(Ya,ub){if(Ya===ub)return!1;const Yb={width:!1,height:!1,isExpensive:!1},dc=(0,ia.default)([Ya,ub]);!dc.has("width")||"width"in Ya&&"width"in ub&&Ya.width===ub.width||("width"in Ya&&"number"===typeof Ya.width?Yb.width=Ya.width:Yb.isExpensive=!0);!dc.has("height")||"height"in Ya&&"height"in ub&&Ya.height===ub.height||("height"in Ya&&"number"===typeof Ya.height?Yb.height=
Ya.height:Yb.isExpensive=!0);dc.delete("width");dc.delete("height");[...dc].some(Wb=>!(Wb in Ya)||!(Wb in ub)||!(0,h.default)(Ya[Wb],ub[Wb]))&&(Yb.isExpensive=!0);return!1!==Yb.width||!1!==Yb.height||Yb.isExpensive?Yb:!1};var h=t(nb(64)),ia=t(nb(61))};
shadow$provide[66]=function(Db,nb,Dc,Wa){Wa.__esModule=!0;Wa.default=function(t,h){const ia=Object.keys(h);ia.forEach(Ya=>{try{t.removeSignalListener(Ya,h[Ya])}catch(ub){console.warn("Cannot remove invalid signal listener.",ub)}});return 0<ia.length}};
shadow$provide[67]=function(Db,nb,Dc,Wa){Wa.__esModule=!0;Wa.default=function(t){const {spec:h,width:ia,height:Ya}=t;return"undefined"!==typeof ia&&"undefined"!==typeof Ya?Object.assign({},h,{width:ia,height:Ya}):"undefined"!==typeof ia?Object.assign({},h,{width:ia}):"undefined"!==typeof Ya?Object.assign({},h,{height:Ya}):h}};
shadow$provide[68]=function(Db,nb,Dc,Wa){function t(Ea){return Ea&&Ea.__esModule?Ea:{default:Ea}}function h(Ea,bb,tb){bb in Ea?Object.defineProperty(Ea,bb,{value:tb,enumerable:!0,configurable:!0,writable:!0}):Ea[bb]=tb;return Ea}Wa.__esModule=!0;Wa.default=void 0;Db=t(nb(19));var ia=t(nb(2)),Ya=t(nb(57)),ub=t(nb(20)),Yb=t(nb(61)),dc=nb(62),Wb=t(nb(63)),nc=t(nb(65)),Ab=t(nb(66)),Ub=t(nb(67));class jc extends ia.default.PureComponent{constructor(){super(...arguments);h(this,"containerRef",ia.default.createRef());
h(this,"resultPromise",void 0);h(this,"handleError",Ea=>{const {onError:bb=dc.NOOP}=this.props;bb(Ea,this.containerRef.current);console.warn(Ea)});h(this,"modifyView",Ea=>{this.resultPromise&&this.resultPromise.then(bb=>{bb&&Ea(bb.view);return!0}).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(Ea){const bb=(0,Yb.default)([this.props,Ea]);bb.delete("className");bb.delete("signalListeners");bb.delete("spec");bb.delete("style");bb.delete("width");bb.delete("height");
if(Array.from(bb).some(tb=>this.props[tb]!==Ea[tb]))this.clearView(),this.createView();else{const tb=(0,nc.default)((0,Ub.default)(this.props),(0,Ub.default)(Ea)),{signalListeners:rb}=this.props,{signalListeners:pb}=Ea;if(tb)if(tb.isExpensive)this.clearView(),this.createView();else{const vb=!(0,ub.default)(rb,pb);this.modifyView(gb=>{!1!==tb.width&&gb.width(tb.width);!1!==tb.height&&gb.height(tb.height);vb&&(pb&&(0,Ab.default)(gb,pb),rb&&(0,Wb.default)(gb,rb));gb.run()})}else(0,ub.default)(rb,pb)||
this.modifyView(vb=>{pb&&(0,Ab.default)(vb,pb);rb&&(0,Wb.default)(vb,rb);vb.run()})}}componentWillUnmount(){this.clearView()}createView(){var Ea=this.props,bb=Object.assign({},Ea);const tb=Ea.onNewView,rb=void 0===Ea.signalListeners?{}:Ea.signalListeners;Ea=(delete bb.spec,delete bb.onNewView,delete bb.signalListeners,delete bb.width,delete bb.height,bb);this.containerRef.current&&(bb=(0,Ub.default)(this.props),this.resultPromise=(0,Ya.default)(this.containerRef.current,bb,Ea).then(pb=>{if(pb){const {view:vb}=
pb;(0,Wb.default)(vb,rb)&&vb.run()}return pb}).catch(this.handleError),tb&&this.modifyView(tb))}clearView(){this.resultPromise&&this.resultPromise.then(Ea=>{Ea&&Ea.finalize()}).catch(this.handleError);this.resultPromise=void 0;return this}render(){const {className:Ea,style:bb}=this.props;return ia.default.createElement("div",{ref:this.containerRef,className:Ea,style:bb})}}Wa.default=jc;h(jc,"propTypes",{className:Db.default.string,onError:Db.default.func})};
shadow$provide[69]=function(Db,nb,Dc,Wa){function t(Ab){return Ab&&Ab.__esModule?Ab:{default:Ab}}function h(){h=Object.assign||function(Ab){for(var Ub=1;Ub<arguments.length;Ub++){var jc=arguments[Ub],Ea;for(Ea in jc)Object.prototype.hasOwnProperty.call(jc,Ea)&&(Ab[Ea]=jc[Ea])}return Ab};return h.apply(this,arguments)}function ia(Ab,Ub,jc){Ub in Ab?Object.defineProperty(Ab,Ub,{value:jc,enumerable:!0,configurable:!0,writable:!0}):Ab[Ub]=jc;return Ab}Wa.__esModule=!0;Wa.default=void 0;t(nb(19));var Ya=
t(nb(2)),ub=t(nb(20)),Yb=t(nb(60)),dc=t(nb(68)),Wb=nb(62);class nc extends Ya.default.PureComponent{constructor(){super(...arguments);ia(this,"vegaEmbed",Ya.default.createRef());ia(this,"handleNewView",Ab=>{this.update();const {onNewView:Ub=Wb.NOOP}=this.props;Ub(Ab)})}componentDidMount(){this.update()}componentDidUpdate(Ab){(0,ub.default)(this.props.data,Ab.data)||this.update()}update(){const {data:Ab}=this.props;this.vegaEmbed.current&&Ab&&0<Object.keys(Ab).length&&this.vegaEmbed.current.modifyView(Ub=>
{(0,Yb.default)(Ub,Ab);Ub.resize().run()})}render(){var Ab=Object.assign({},this.props);Ab=(delete Ab.data,Ab);return Ya.default.createElement(dc.default,h({ref:this.vegaEmbed},Ab,{onNewView:this.handleNewView}))}}Wa.default=nc;ia(nc,"defaultProps",{data:{}})};
shadow$provide[70]=function(Db,nb,Dc,Wa){function t(ub){return ub&&ub.__esModule?ub:{default:ub}}function h(){h=Object.assign||function(ub){for(var Yb=1;Yb<arguments.length;Yb++){var dc=arguments[Yb],Wb;for(Wb in dc)Object.prototype.hasOwnProperty.call(dc,Wb)&&(ub[Wb]=dc[Wb])}return ub};return h.apply(this,arguments)}Wa.__esModule=!0;Wa.default=function(ub){return ia.default.createElement(Ya.default,h({},ub,{mode:"vega-lite"}))};var ia=t(nb(2)),Ya=t(nb(69))};
shadow$provide[71]=function(Db,nb,Dc,Wa){function t(Yb){return Yb&&Yb.__esModule?Yb:{default:Yb}}function h(){h=Object.assign||function(Yb){for(var dc=1;dc<arguments.length;dc++){var Wb=arguments[dc],nc;for(nc in Wb)Object.prototype.hasOwnProperty.call(Wb,nc)&&(Yb[nc]=Wb[nc])}return Yb};return h.apply(this,arguments)}function ia(Yb,dc,Wb){dc in Yb?Object.defineProperty(Yb,dc,{value:Wb,enumerable:!0,configurable:!0,writable:!0}):Yb[dc]=Wb;return Yb}Wa.__esModule=!0;Wa.default=function(Yb){let {mode:dc,
spec:Wb}=Yb;class nc extends Ya.default.PureComponent{render(){return Ya.default.createElement(ub.default,h({mode:dc,spec:Wb},this.props))}}ia(nc,"getSpec",function(){return Wb});return nc};var Ya=t(nb(2)),ub=t(nb(69))};
shadow$provide[72]=function(Db,nb,Dc,Wa){Wa.__esModule=!0};
shadow$provide[73]=function(Db,nb,Dc,Wa){Wa.__esModule=!0;var t=nb(72);Object.keys(t).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in Wa&&Wa[h]===t[h]||(Wa[h]=t[h]))})};
shadow$provide[74]=function(Db,nb,Dc,Wa){function t(Ya){return Ya&&Ya.__esModule?Ya:{default:Ya}}Wa.__esModule=!0;var h={Vega:!0,VegaLite:!0,createClassFromSpec:!0};Wa.createClassFromSpec=Wa.VegaLite=Wa.Vega=void 0;Db=t(nb(69));Wa.Vega=Db.default;Db=t(nb(70));Wa.VegaLite=Db.default;Db=t(nb(71));Wa.createClassFromSpec=Db.default;var ia=nb(73);Object.keys(ia).forEach(function(Ya){"default"!==Ya&&"__esModule"!==Ya&&(Object.prototype.hasOwnProperty.call(h,Ya)||Ya in Wa&&Wa[Ya]===ia[Ya]||(Wa[Ya]=ia[Ya]))})};
/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var g,aa=this||self;function t(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}function ba(a){return Object.prototype.hasOwnProperty.call(a,ca)&&a[ca]||(a[ca]=++ea)}var ca="closure_uid_"+(1E9*Math.random()>>>0),ea=0;
function fa(a,b){function c(){}c.prototype=b.prototype;a.Dd=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[e].apply(d,h)}};function ha(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function ia(a,b){return null!==a&&b in a?a[b]:void 0}const ja="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ka(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<ja.length;f++)c=ja[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function la(a){if(!Array.isArray(a))for(let b=a.length-1;0<=b;b--)delete a[b];a.length=0};var ma;a:{const a=aa.navigator;if(a){const b=a.userAgent;if(b){ma=b;break a}}ma=""}let na=ma;function oa(a){return-1!=na.indexOf(a)};function pa(a,b){null!=a&&this.append.apply(this,arguments)}g=pa.prototype;g.kb="";g.set=function(a){this.kb=""+a};g.append=function(a,b,c){this.kb+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.kb+=arguments[d];return this};g.clear=function(){this.kb=""};g.toString=function(){return this.kb};var ra={},sa={},ta,u={},ua=null;function va(){return new v(null,5,[wa,!0,xa,!0,ya,!1,za,!1,Aa,null],null)}function x(a){return null!=a&&!1!==a}function Ba(a){return a instanceof Array}function y(a,b){return a[t(null==b?null:b)]?!0:a._?!0:!1}function A(a,b){var c=null==b?null:b.constructor;c=x(x(c)?c.Ib:c)?c.nb:t(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Ca(a){var b=a.nb;return x(b)?b:B.j(a)}
var Da="undefined"!==typeof Symbol&&"function"===t(Symbol)?Symbol.iterator:"@@iterator";function Ea(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Fa(a){function b(d,e){d.push(e);return d}var c=[];return Ga?Ga(b,c,a):Ha.call(null,b,c,a)}function Ia(a){return"symbol"===t(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Ja(){}function Ka(){}function La(){}
function Ma(a){if(null!=a&&null!=a.la)a=a.la(a);else{var b=Ma[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ma._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ICounted.-count",a);}return a}function Na(){}function Oa(a){if(null!=a&&null!=a.ma)a=a.ma(a);else{var b=Oa[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Oa._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEmptyableCollection.-empty",a);}return a}function Pa(){}
function Qa(a,b){if(null!=a&&null!=a.oa)a=a.oa(a,b);else{var c=Qa[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qa._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ICollection.-conj",a);}return a}function Ra(){}
var Ta=function(){function a(d,e,f){var h=Sa[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=Sa._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("IIndexed.-nth",d);}function b(d,e){var f=Sa[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Sa._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),Sa=function Sa(a){switch(arguments.length){case 2:return Sa.B(arguments[0],arguments[1]);case 3:return Sa.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Sa.B=function(a,b){return null!=a&&null!=a.ea?a.ea(a,b):Ta(a,b)};Sa.D=function(a,b,c){return null!=a&&null!=a.Aa?a.Aa(a,b,c):Ta(a,b,c)};Sa.$=3;function Ua(){}
function D(a){if(null!=a&&null!=a.wa)a=a.wa(a);else{var b=D[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=D._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeq.-first",a);}return a}function Va(a){if(null!=a&&null!=a.xa)a=a.xa(a);else{var b=Va[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Va._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeq.-rest",a);}return a}function Wa(){}function Xa(){}
var Za=function(){function a(d,e,f){var h=Ya[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=Ya._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("ILookup.-lookup",d);}function b(d,e){var f=Ya[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Ya._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),Ya=function Ya(a){switch(arguments.length){case 2:return Ya.B(arguments[0],arguments[1]);case 3:return Ya.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Ya.B=function(a,b){return null!=a&&null!=a.ya?a.ya(a,b):Za(a,b)};Ya.D=function(a,b,c){return null!=a&&null!=a.ca?a.ca(a,b,c):Za(a,b,c)};Ya.$=3;function $a(){}
function ab(a,b){if(null!=a&&null!=a.lb)a=a.lb(a,b);else{var c=ab[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ab._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IAssociative.-contains-key?",a);}return a}function bb(a,b,c){if(null!=a&&null!=a.ab)a=a.ab(a,b,c);else{var d=bb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=bb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IAssociative.-assoc",a);}return a}
function cb(a,b){if(null!=a&&null!=a.tb)a=a.tb(a,b);else{var c=cb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=cb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IFind.-find",a);}return a}function db(){}function eb(a,b){if(null!=a&&null!=a.jc)a=a.jc(a,b);else{var c=eb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=eb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IMap.-dissoc",a);}return a}
function fb(a){if(null!=a&&null!=a.Xc)a=a.key;else{var b=fb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=fb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMapEntry.-key",a);}return a}function gb(a){if(null!=a&&null!=a.Yc)a=a.R;else{var b=gb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=gb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMapEntry.-val",a);}return a}function hb(){}
function ib(a,b){if(null!=a&&null!=a.zc)a=a.zc(a,b);else{var c=ib[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ib._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ISet.-disjoin",a);}return a}function jb(a){if(null!=a&&null!=a.vb)a=a.vb(a);else{var b=jb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=jb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IStack.-peek",a);}return a}
function kb(a){if(null!=a&&null!=a.wb)a=a.wb(a);else{var b=kb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=kb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IStack.-pop",a);}return a}function lb(){}function mb(a,b,c){if(null!=a&&null!=a.mb)a=a.mb(a,b,c);else{var d=mb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=mb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IVector.-assoc-n",a);}return a}
function F(a){if(null!=a&&null!=a.fb)a=a.fb(a);else{var b=F[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=F._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IDeref.-deref",a);}return a}function nb(){}function ob(a){if(null!=a&&null!=a.ha)a=a.ha(a);else{var b=ob[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=ob._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMeta.-meta",a);}return a}
function pb(a,b){if(null!=a&&null!=a.ka)a=a.ka(a,b);else{var c=pb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=pb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IWithMeta.-with-meta",a);}return a}function qb(){}
var sb=function(){function a(d,e,f){var h=rb[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=rb._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("IReduce.-reduce",d);}function b(d,e){var f=rb[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=rb._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),rb=function rb(a){switch(arguments.length){case 2:return rb.B(arguments[0],arguments[1]);case 3:return rb.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};rb.B=function(a,b){return null!=a&&null!=a.qa?a.qa(a,b):sb(a,b)};rb.D=function(a,b,c){return null!=a&&null!=a.ra?a.ra(a,b,c):sb(a,b,c)};rb.$=3;function tb(){}
function ub(a,b,c){if(null!=a&&null!=a.Db)a=a.Db(a,b,c);else{var d=ub[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=ub._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IKVReduce.-kv-reduce",a);}return a}function vb(a,b){if(null!=a&&null!=a.fa)a=a.fa(a,b);else{var c=vb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=vb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IEquiv.-equiv",a);}return a}
function wb(a){if(null!=a&&null!=a.ga)a=a.ga(a);else{var b=wb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=wb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IHash.-hash",a);}return a}function xb(){}function yb(a){if(null!=a&&null!=a.ja)a=a.ja(a);else{var b=yb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=yb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeqable.-seq",a);}return a}function zb(){}function Ab(){}function Bb(){}
function G(a,b){if(null!=a&&null!=a.Ac)a=a.Ac(a,b);else{var c=G[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=G._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IWriter.-write",a);}return a}function Cb(){}function Db(a,b,c){if(null!=a&&null!=a.ia)a=a.ia(a,b,c);else{var d=Db[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Db._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IPrintWithWriter.-pr-writer",a);}return a}
function Eb(a,b){var c=Fb;if(null!=a&&null!=a.Sb)a.Sb(a,b,c);else{var d=Eb[t(null==a?null:a)];if(null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Eb._,null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IWatchable.-add-watch",a);}}function Gb(a,b){if(null!=a&&null!=a.Tb)a.Tb(a,b);else{var c=Gb[t(null==a?null:a)];if(null!=c)c.B?c.B(a,b):c.call(null,a,b);else if(c=Gb._,null!=c)c.B?c.B(a,b):c.call(null,a,b);else throw A("IWatchable.-remove-watch",a);}}
function Hb(a){if(null!=a&&null!=a.sb)a=a.sb(a);else{var b=Hb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Hb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEditableCollection.-as-transient",a);}return a}function Ib(a,b){if(null!=a&&null!=a.yb)a=a.yb(a,b);else{var c=Ib[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Ib._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ITransientCollection.-conj!",a);}return a}
function Jb(a){if(null!=a&&null!=a.Hb)a=a.Hb(a);else{var b=Jb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Jb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ITransientCollection.-persistent!",a);}return a}function Kb(a,b,c){if(null!=a&&null!=a.xb)a=a.xb(a,b,c);else{var d=Kb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Kb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("ITransientAssociative.-assoc!",a);}return a}
function Lb(a){if(null!=a&&null!=a.uc)a=a.uc(a);else{var b=Lb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Lb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunk.-drop-first",a);}return a}function Mb(a){if(null!=a&&null!=a.hc)a=a.hc(a);else{var b=Mb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Mb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunkedSeq.-chunked-first",a);}return a}
function Nb(a){if(null!=a&&null!=a.Rb)a=a.Rb(a);else{var b=Nb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Nb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunkedSeq.-chunked-rest",a);}return a}function Ob(a){if(null!=a&&null!=a.Eb)a=a.Eb(a);else{var b=Ob[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ob._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("INamed.-name",a);}return a}
function Pb(a){if(null!=a&&null!=a.Fb)a=a.Fb(a);else{var b=Pb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Pb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("INamed.-namespace",a);}return a}function Qb(a,b){if(null!=a&&null!=a.Sa)a=a.Sa(a,b);else{var c=Qb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IReset.-reset!",a);}return a}
var Sb=function(){function a(f,h,k,l,m){var n=Rb[t(null==f?null:f)];if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);n=Rb._;if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);throw A("ISwap.-swap!",f);}function b(f,h,k,l){var m=Rb[t(null==f?null:f)];if(null!=m)return m.T?m.T(f,h,k,l):m.call(null,f,h,k,l);m=Rb._;if(null!=m)return m.T?m.T(f,h,k,l):m.call(null,f,h,k,l);throw A("ISwap.-swap!",f);}function c(f,h,k){var l=Rb[t(null==f?null:f)];if(null!=l)return l.D?l.D(f,h,k):l.call(null,
f,h,k);l=Rb._;if(null!=l)return l.D?l.D(f,h,k):l.call(null,f,h,k);throw A("ISwap.-swap!",f);}function d(f,h){var k=Rb[t(null==f?null:f)];if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);k=Rb._;if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);throw A("ISwap.-swap!",f);}var e=null;e=function(f,h,k,l,m){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,l);case 5:return a.call(this,f,h,k,l,m)}throw Error("Invalid arity: "+arguments.length);
};e.B=d;e.D=c;e.T=b;e.aa=a;return e}(),Rb=function Rb(a){switch(arguments.length){case 2:return Rb.B(arguments[0],arguments[1]);case 3:return Rb.D(arguments[0],arguments[1],arguments[2]);case 4:return Rb.T(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Rb.aa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Rb.B=function(a,b){return null!=a&&null!=a.kc?a.kc(a,b):Sb(a,b)};
Rb.D=function(a,b,c){return null!=a&&null!=a.lc?a.lc(a,b,c):Sb(a,b,c)};Rb.T=function(a,b,c,d){return null!=a&&null!=a.mc?a.mc(a,b,c,d):Sb(a,b,c,d)};Rb.aa=function(a,b,c,d,e){return null!=a&&null!=a.nc?a.nc(a,b,c,d,e):Sb(a,b,c,d,e)};Rb.$=5;function Tb(){}function Ub(a){if(null!=a&&null!=a.Qa)a=a.Qa(a);else{var b=Ub[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ub._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IIterable.-iterator",a);}return a}
function Vb(a){this.pd=a;this.F=1073741824;this.P=0}Vb.prototype.Ac=function(a,b){return this.pd.append(b)};function Wb(a){var b=new pa;a.ia(null,new Vb(b),va());return B.j(b)}var Xb="undefined"!==typeof Math&&"undefined"!==typeof Math.imul?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function Yb(a){a=Xb(a|0,-862048943);return Xb(a<<15|a>>>-15,461845907)}
function Zb(a,b){a=(a|0)^(b|0);return Xb(a<<13|a>>>-13,5)+-430675100|0}function $b(a,b){a=(a|0)^b;a=Xb(a^a>>>16,-2048144789);a=Xb(a^a>>>13,-1028477387);return a^a>>>16}function ac(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=Zb(c,Yb(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return $b(1===(a.length&1)?b^Yb(a.charCodeAt(a.length-1)):b,Xb(2,a.length))}var bc={},cc=0;
function dc(a){255<cc&&(bc={},cc=0);if(null==a)return 0;var b=bc[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=Xb(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;bc[a]=b;cc+=1;a=b}return a}
function ec(a){if(null!=a&&(a.F&4194304||u===a.td))return a.ga(null)^0;if("number"===typeof a){if(isFinite(a))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=dc(a),a=0===a?a:$b(Zb(0,Yb(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:wb(a)^0,a}function fc(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function gc(a,b,c,d,e){this.Bb=a;this.name=b;this.jb=c;this._hash=d;this.Ya=e;this.F=2154168321;this.P=4096}g=gc.prototype;g.toString=function(){return this.jb};g.fa=function(a,b){return b instanceof gc?this.jb===b.jb:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};
g.j=function(a){return H.B?H.B(a,this):H.call(null,a,this)};g.B=function(a,b){return H.D?H.D(a,this,b):H.call(null,a,this,b)};g.ha=function(){return this.Ya};g.ka=function(a,b){return new gc(this.Bb,this.name,this.jb,this._hash,b)};g.ga=function(){var a=this._hash;return null!=a?a:this._hash=a=fc(ac(this.name),dc(this.Bb))};g.Eb=function(){return this.name};g.Fb=function(){return this.Bb};g.ia=function(a,b){return G(b,this.jb)};
var hc=function hc(a){switch(arguments.length){case 1:return hc.j(arguments[0]);case 2:return hc.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};hc.j=function(a){for(;;){if(a instanceof gc)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?hc.B(null,a):hc.B(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof I)a=a.Ra;else throw Error("no conversion to symbol");}};
hc.B=function(a,b){var c=null!=a?[B.j(a),"/",B.j(b)].join(""):b;return new gc(a,b,c,null,null)};hc.$=2;function ic(a){return null!=a?a.P&131072||u===a.ud?!0:a.P?!1:y(Tb,a):y(Tb,a)}function J(a){if(null==a)return null;if(null!=a&&(a.F&8388608||u===a.ad))return a.ja(null);if(Ba(a)||"string"===typeof a)return 0===a.length?null:new K(a,0,null);if(null!=a&&null!=a[Da])return a=ia(a,Da).call(a),jc.j?jc.j(a):jc.call(null,a);if(y(xb,a))return yb(a);throw Error([B.j(a)," is not ISeqable"].join(""));}
function N(a){if(null==a)return null;if(null!=a&&(a.F&64||u===a.ub))return a.wa(null);a=J(a);return null==a?null:D(a)}function kc(a){return null!=a?null!=a&&(a.F&64||u===a.ub)?a.xa(null):(a=J(a))?a.xa(null):lc:lc}function O(a){return null==a?null:null!=a&&(a.F&128||u===a.Gb)?a.va():J(kc(a))}
var P=function P(a){switch(arguments.length){case 1:return P.j(arguments[0]);case 2:return P.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return P.K(arguments[0],arguments[1],c)}};P.j=function(){return!0};P.B=function(a,b){return null==a?null==b:a===b||vb(a,b)};P.K=function(a,b,c){for(;;)if(P.B(a,b))if(O(c))a=b,b=N(c),c=O(c);else return P.B(b,N(c));else return!1};
P.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};P.$=2;function mc(a){this.s=a}mc.prototype.next=function(){if(null!=this.s){var a=N(this.s);this.s=O(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function nc(a){return new mc(J(a))}function oc(a,b){this.value=a;this.Ab=b;this.bc=null;this.F=8388672;this.P=0}oc.prototype.ja=function(){return this};oc.prototype.wa=function(){return this.value};
oc.prototype.xa=function(){null==this.bc&&(this.bc=jc.j?jc.j(this.Ab):jc.call(null,this.Ab));return this.bc};function jc(a){var b=a.next();return x(b.done)?null:new oc(b.value,a)}function pc(a){var b=0,c=1;for(a=J(a);;)if(null!=a)b+=1,c=Xb(31,c)+ec(N(a))|0,a=O(a);else return $b(Zb(0,Yb(c)),b)}var qc=$b(Zb(0,Yb(1)),0);function rc(a){var b=0,c=0;for(a=J(a);;)if(null!=a)b+=1,c=c+ec(N(a))|0,a=O(a);else return $b(Zb(0,Yb(c)),b)}var sc=$b(Zb(0,Yb(0)),0);La["null"]=!0;Ma["null"]=function(){return 0};
Date.prototype.fa=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};vb.number=function(a,b){return a===b};Ja["function"]=!0;nb["function"]=!0;ob["function"]=function(){return null};wb._=function(a){return ba(a)};function tc(a){return a+1}function uc(){this.R=!1;this.F=32768;this.P=0}uc.prototype.fb=function(){return this.R};function vc(a){return a instanceof uc}function wc(a){return F(a)}
function xc(a,b){var c=a.la(null);if(0===c)return b.O?b.O():b.call(null);for(var d=a.ea(null,0),e=1;;)if(e<c){var f=a.ea(null,e);d=b.B?b.B(d,f):b.call(null,d,f);if(vc(d))return F(d);e+=1}else return d}function yc(a,b,c){var d=a.la(null),e=c;for(c=0;;)if(c<d){var f=a.ea(null,c);e=b.B?b.B(e,f):b.call(null,e,f);if(vc(e))return F(e);c+=1}else return e}
function zc(a,b){var c=a.length;if(0===a.length)return b.O?b.O():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.B?b.B(d,f):b.call(null,d,f);if(vc(d))return F(d);e+=1}else return d}function Ac(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.B?b.B(e,f):b.call(null,e,f);if(vc(e))return F(e);c+=1}else return e}function Bc(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.B?b.B(c,f):b.call(null,c,f);if(vc(c))return F(c);d+=1}else return c}
function Cc(a){return null!=a?a.F&2||u===a.Qc?!0:a.F?!1:y(La,a):y(La,a)}function Dc(a){return null!=a?a.F&16||u===a.wc?!0:a.F?!1:y(Ra,a):y(Ra,a)}function Q(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(P.B(Ec?Ec(a,c):Fc.call(null,a,c),b))return c;c+=1}else return-1}
function S(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(P.B(Ec?Ec(a,c):Fc.call(null,a,c),b))return c;--c}else return-1}function Gc(a,b){this.C=a;this.i=b}Gc.prototype.pa=function(){return this.i<this.C.length};Gc.prototype.next=function(){var a=this.C[this.i];this.i+=1;return a};function K(a,b,c){this.C=a;this.i=b;this.meta=c;this.F=166592766;this.P=139264}g=K.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R.j?R.j(this):R.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ea=function(a,b){a=b+this.i;if(0<=a&&a<this.C.length)return this.C[a];throw Error("Index out of bounds");};g.Aa=function(a,b,c){a=b+this.i;return 0<=a&&a<this.C.length?this.C[a]:c};
g.Qa=function(){return new Gc(this.C,this.i)};g.ha=function(){return this.meta};g.va=function(){return this.i+1<this.C.length?new K(this.C,this.i+1,null):null};g.la=function(){var a=this.C.length-this.i;return 0>a?0:a};g.ga=function(){return pc(this)};g.fa=function(a,b){return Hc.B?Hc.B(this,b):Hc.call(null,this,b)};g.ma=function(){return lc};g.qa=function(a,b){return Bc(this.C,b,this.C[this.i],this.i+1)};g.ra=function(a,b,c){return Bc(this.C,b,c,this.i)};g.wa=function(){return this.C[this.i]};
g.xa=function(){return this.i+1<this.C.length?new K(this.C,this.i+1,null):lc};g.ja=function(){return this.i<this.C.length?this:null};g.ka=function(a,b){return b===this.meta?this:new K(this.C,this.i,b)};g.oa=function(a,b){return U.B?U.B(b,this):U.call(null,b,this)};K.prototype[Da]=function(){return nc(this)};function Ic(a){return 0<a.length?new K(a,0,null):null}vb._=function(a,b){return a===b};
var Jc=function Jc(a){switch(arguments.length){case 0:return Jc.O();case 1:return Jc.j(arguments[0]);case 2:return Jc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Jc.K(arguments[0],arguments[1],c)}};Jc.O=function(){return Kc};Jc.j=function(a){return a};Jc.B=function(a,b){return null!=a?Qa(a,b):new Lc(null,b,null,1,null)};
Jc.K=function(a,b,c){for(;;)if(x(c))a=Jc.B(a,b),b=N(c),c=O(c);else return Jc.B(a,b)};Jc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Jc.$=2;function R(a){if(null!=a)if(null!=a&&(a.F&2||u===a.Qc))a=a.la(null);else if(Ba(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.F&8388608||u===a.ad))a:{a=J(a);for(var b=0;;){if(Cc(a)){a=b+Ma(a);break a}a=O(a);b+=1}}else a=Ma(a);else a=0;return a}
function Mc(a,b,c){for(;;){if(null==a)return c;if(0===b)return J(a)?N(a):c;if(Dc(a))return Sa(a,b,c);if(J(a))a=O(a),--b;else return c}}function Fc(a){switch(arguments.length){case 2:return Ec(arguments[0],arguments[1]);case 3:return V(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}
function Ec(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.F&16||u===a.wc))return a.ea(null,b);if(Ba(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.F&64||u===a.ub)||null!=a&&(a.F&16777216||u===a.yc)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(J(a)){a=N(a);break a}throw Error("Index out of bounds");}if(Dc(a)){a=Sa(a,b);break a}if(J(a))a=O(a),--b;else throw Error("Index out of bounds");}return a}if(y(Ra,a))return Sa(a,b);throw Error(["nth not supported on this type ",B.j(Ca(null==a?null:a.constructor))].join(""));}
function V(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.F&16||u===a.wc))return a.Aa(null,b,c);if(Ba(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.F&64||u===a.ub)||null!=a&&(a.F&16777216||u===a.yc))return 0>b?c:Mc(a,b,c);if(y(Ra,a))return Sa(a,b,c);throw Error(["nth not supported on this type ",B.j(Ca(null==a?null:a.constructor))].join(""));}
var H=function H(a){switch(arguments.length){case 2:return H.B(arguments[0],arguments[1]);case 3:return H.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};H.B=function(a,b){return null==a?null:null!=a&&(a.F&256||u===a.Wc)?a.ya(null,b):Ba(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:y(Xa,a)?Ya(a,b):null};
H.D=function(a,b,c){return null!=a?null!=a&&(a.F&256||u===a.Wc)?a.ca(null,b,c):Ba(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:y(Xa,a)?Ya(a,b,c):c:c};H.$=3;var W=function W(a){switch(arguments.length){case 3:return W.D(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(3),0,null);return W.K(arguments[0],arguments[1],arguments[2],c)}};
W.D=function(a,b,c){return null!=a&&(a.F&512||u===a.Pc)?a.ab(null,b,c):null!=a?bb(a,b,c):Nc([b,c])};W.K=function(a,b,c,d){for(;;)if(a=W.D(a,b,c),x(d))b=N(d),c=N(O(d)),d=O(O(d));else return a};W.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);d=O(d);return this.K(b,a,c,d)};W.$=3;
var Oc=function Oc(a){switch(arguments.length){case 1:return Oc.j(arguments[0]);case 2:return Oc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Oc.K(arguments[0],arguments[1],c)}};Oc.j=function(a){return a};Oc.B=function(a,b){return null==a?null:eb(a,b)};Oc.K=function(a,b,c){for(;;){if(null==a)return null;a=Oc.B(a,b);if(x(c))b=N(c),c=O(c);else return a}};
Oc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Oc.$=2;function Pc(a){var b="function"===typeof a;return b?b:null!=a?u===a.Oc?!0:a.Bc?!1:y(Ja,a):y(Ja,a)}function Qc(a,b){this.I=a;this.meta=b;this.F=393217;this.P=0}g=Qc.prototype;g.ha=function(){return this.meta};g.ka=function(a,b){return new Qc(this.I,b)};g.Oc=u;
g.call=function(a){switch(arguments.length-1){case 0:return this.O();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.T(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Oa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ia(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ka(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.ic(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.O=function(){return this.I.O?this.I.O():this.I.call(null)};g.j=function(a){return this.I.j?this.I.j(a):this.I.call(null,a)};g.B=function(a,b){return this.I.B?this.I.B(a,b):this.I.call(null,a,b)};g.D=function(a,b,c){return this.I.D?this.I.D(a,b,c):this.I.call(null,a,b,c)};
g.T=function(a,b,c,d){return this.I.T?this.I.T(a,b,c,d):this.I.call(null,a,b,c,d)};g.aa=function(a,b,c,d,e){return this.I.aa?this.I.aa(a,b,c,d,e):this.I.call(null,a,b,c,d,e)};g.Na=function(a,b,c,d,e,f){return this.I.Na?this.I.Na(a,b,c,d,e,f):this.I.call(null,a,b,c,d,e,f)};g.Oa=function(a,b,c,d,e,f,h){return this.I.Oa?this.I.Oa(a,b,c,d,e,f,h):this.I.call(null,a,b,c,d,e,f,h)};g.za=function(a,b,c,d,e,f,h,k){return this.I.za?this.I.za(a,b,c,d,e,f,h,k):this.I.call(null,a,b,c,d,e,f,h,k)};
g.Pa=function(a,b,c,d,e,f,h,k,l){return this.I.Pa?this.I.Pa(a,b,c,d,e,f,h,k,l):this.I.call(null,a,b,c,d,e,f,h,k,l)};g.Ca=function(a,b,c,d,e,f,h,k,l,m){return this.I.Ca?this.I.Ca(a,b,c,d,e,f,h,k,l,m):this.I.call(null,a,b,c,d,e,f,h,k,l,m)};g.Da=function(a,b,c,d,e,f,h,k,l,m,n){return this.I.Da?this.I.Da(a,b,c,d,e,f,h,k,l,m,n):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Ea=function(a,b,c,d,e,f,h,k,l,m,n,p){return this.I.Ea?this.I.Ea(a,b,c,d,e,f,h,k,l,m,n,p):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.Fa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){return this.I.Fa?this.I.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};g.Ga=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){return this.I.Ga?this.I.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};g.Ha=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w){return this.I.Ha?this.I.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w)};
g.Ia=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z){return this.I.Ia?this.I.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z)};g.Ja=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C){return this.I.Ja?this.I.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C)};g.Ka=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E){return this.I.Ka?this.I.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E)};
g.La=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M){return this.I.La?this.I.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M)};g.Ma=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T){return this.I.Ma?this.I.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T)};
g.ic=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da){return Rc.Vc?Rc.Vc(this.I,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da):Rc.call(null,this.I,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da)};function Sc(a,b){return"function"===typeof a?new Qc(a,b):null==a?null:pb(a,b)}function Tc(a){var b=null!=a;return(b?null!=a?a.F&131072||u===a.Zc||(a.F?0:y(nb,a)):y(nb,a):b)?ob(a):null}
var Uc=function Uc(a){switch(arguments.length){case 1:return Uc.j(arguments[0]);case 2:return Uc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Uc.K(arguments[0],arguments[1],c)}};Uc.j=function(a){return a};Uc.B=function(a,b){return null==a?null:ib(a,b)};Uc.K=function(a,b,c){for(;;){if(null==a)return null;a=Uc.B(a,b);if(x(c))b=N(c),c=O(c);else return a}};
Uc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Uc.$=2;function Vc(a){var b;(b=null==a)||(a=J(a),b=null==a?!0:!1===a?!0:!1);return b}function Wc(a){return null==a?!1:null!=a?a.F&8||u===a.rd?!0:a.F?!1:y(Pa,a):y(Pa,a)}function Xc(a){return null==a?!1:null!=a?a.F&4096||u===a.Ad?!0:a.F?!1:y(hb,a):y(hb,a)}function Yc(a){return null!=a?a.F&16777216||u===a.yc?!0:a.F?!1:y(zb,a):y(zb,a)}function $c(a){return null==a?!1:null!=a?a.F&1024||u===a.xd?!0:a.F?!1:y(db,a):y(db,a)}
function ad(a){return null!=a?a.F&67108864||u===a.zd?!0:a.F?!1:y(Bb,a):y(Bb,a)}function bd(a){return null!=a?a.F&16384||u===a.Bd?!0:a.F?!1:y(lb,a):y(lb,a)}function cd(a){return null!=a?a.P&512||u===a.qd?!0:!1:!1}function dd(a,b,c,d,e){for(;;){if(0===e)return c;c[d]=a[b];d+=1;--e;b+=1}}var ed={};function fd(a){return null==a?!1:!1===a?!1:!0}function gd(a){var b=Pc(a);return b?b:null!=a?a.F&1||u===a.sd?!0:a.F?!1:y(Ka,a):y(Ka,a)}
function hd(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function id(a,b){return null!=a&&(a.F&512||u===a.Pc)?a.lb(null,b):y($a,a)?ab(a,b):H.D(a,b,ed)===ed?!1:!0}function jd(a,b){var c=J(b);return c?(b=N(c),c=O(c),Ga?Ga(a,b,c):Ha.call(null,a,b,c)):a.O?a.O():a.call(null)}function kd(a,b,c){for(c=J(c);;)if(c){var d=N(c);b=a.B?a.B(b,d):a.call(null,b,d);if(vc(b))return F(b);c=O(c)}else return b}
function ld(a,b){a=Ub(a);if(x(a.pa()))for(var c=a.next();;)if(a.pa()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(vc(c))return F(c)}else return c;else return b.O?b.O():b.call(null)}function md(a,b,c){for(a=Ub(a);;)if(a.pa()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(vc(c))return F(c)}else return c}
function Ha(a){switch(arguments.length){case 2:return nd(arguments[0],arguments[1]);case 3:return Ga(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function nd(a,b){return null!=b&&(b.F&524288||u===b.$c)?b.qa(null,a):Ba(b)?zc(b,a):"string"===typeof b?zc(b,a):y(qb,b)?rb(b,a):ic(b)?ld(b,a):jd(a,b)}
function Ga(a,b,c){return null!=c&&(c.F&524288||u===c.$c)?c.ra(null,a,b):Ba(c)?Ac(c,a,b):"string"===typeof c?Ac(c,a,b):y(qb,c)?rb(c,a,b):ic(c)?md(c,a,b):kd(a,b,c)}function od(a,b,c){return null!=c?ub(c,a,b):b}function pd(a){return a}function qd(a,b,c,d){a=a.j?a.j(b):a.call(null,b);c=Ga(a,c,d);return a.j?a.j(c):a.call(null,c)}
var rd=function rd(a){switch(arguments.length){case 0:return rd.O();case 1:return rd.j(arguments[0]);case 2:return rd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return rd.K(arguments[0],arguments[1],c)}};rd.O=function(){return 0};rd.j=function(a){return a};rd.B=function(a,b){return a+b};rd.K=function(a,b,c){return Ga(rd,a+b,c)};
rd.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};rd.$=2;var sd=function sd(a){switch(arguments.length){case 1:return sd.j(arguments[0]);case 2:return sd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return sd.K(arguments[0],arguments[1],c)}};sd.j=function(a){return-a};sd.B=function(a,b){return a-b};sd.K=function(a,b,c){return Ga(sd,a-b,c)};
sd.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};sd.$=2;function td(a){a=(a-a%2)/2;return 0<=a?Math.floor(a):Math.ceil(a)}function ud(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var B=function B(a){switch(arguments.length){case 0:return B.O();case 1:return B.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(1),0,null);return B.K(arguments[0],c)}};B.O=function(){return""};
B.j=function(a){return null==a?"":[a].join("")};B.K=function(a,b){for(a=new pa(B.j(a));;)if(x(b))a=a.append(B.j(N(b))),b=O(b);else return a.toString()};B.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};B.$=1;function Hc(a,b){if(Yc(b))if(Cc(a)&&Cc(b)&&R(a)!==R(b))a=!1;else a:for(a=J(a),b=J(b);;){if(null==a){a=null==b;break a}if(null!=b&&P.B(N(a),N(b)))a=O(a),b=O(b);else{a=!1;break a}}else a=null;return fd(a)}
function Lc(a,b,c,d,e){this.meta=a;this.first=b;this.eb=c;this.count=d;this.N=e;this.F=65937646;this.P=8192}g=Lc.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return 1===this.count?null:this.eb};g.la=function(){return this.count};g.vb=function(){return this.first};g.wb=function(){return this.xa(null)};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return pb(lc,this.meta)};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.first};g.xa=function(){return 1===this.count?lc:this.eb};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Lc(b,this.first,this.eb,this.count,this.N)};g.oa=function(a,b){return new Lc(this.meta,b,this,this.count+1,null)};
Lc.prototype[Da]=function(){return nc(this)};function vd(a){this.meta=a;this.F=65937614;this.P=8192}g=vd.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null};g.la=function(){return 0};g.vb=function(){return null};g.wb=function(){throw Error("Can't pop empty list");};g.ga=function(){return qc};
g.fa=function(a,b){return(null!=b?b.F&33554432||u===b.wd||(b.F?0:y(Ab,b)):y(Ab,b))||Yc(b)?null==J(b):!1};g.ma=function(){return this};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return null};g.xa=function(){return lc};g.ja=function(){return null};g.ka=function(a,b){return b===this.meta?this:new vd(b)};g.oa=function(a,b){return new Lc(this.meta,b,null,1,null)};var lc=new vd(null);vd.prototype[Da]=function(){return nc(this)};
function wd(a,b,c,d){this.meta=a;this.first=b;this.eb=c;this.N=d;this.F=65929452;this.P=8192}g=wd.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null==this.eb?null:J(this.eb)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};
g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.first};g.xa=function(){return null==this.eb?lc:this.eb};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new wd(b,this.first,this.eb,this.N)};g.oa=function(a,b){return new wd(null,b,this,null)};wd.prototype[Da]=function(){return nc(this)};
function U(a,b){return null==b?new Lc(null,a,null,1,null):null!=b&&(b.F&64||u===b.ub)?new wd(null,a,b,null):new wd(null,a,J(b),null)}function I(a,b,c,d){this.Bb=a;this.name=b;this.Ra=c;this._hash=d;this.F=2153775105;this.P=4096}g=I.prototype;g.toString=function(){return[":",B.j(this.Ra)].join("")};g.fa=function(a,b){return b instanceof I?this.Ra===b.Ra:!1};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return H.B(a,this)};g.B=function(a,b){return H.D(a,this,b)};g.ga=function(){var a=this._hash;return null!=a?a:this._hash=a=fc(ac(this.name),dc(this.Bb))+2654435769|0};g.Eb=function(){return this.name};
g.Fb=function(){return this.Bb};g.ia=function(a,b){return G(b,[":",B.j(this.Ra)].join(""))};function xd(a){if(null!=a&&(a.P&4096||u===a.xc))return a.Fb(null);throw Error(["Doesn't support namespace: ",B.j(a)].join(""));}var yd=function yd(a){switch(arguments.length){case 1:return yd.j(arguments[0]);case 2:return yd.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};
yd.j=function(a){if(a instanceof I)return a;if(a instanceof gc)return new I(xd(a),X.j?X.j(a):X.call(null,a),a.jb,null);if(P.B("/",a))return new I(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new I(b[0],b[1],a,null):new I(null,b[0],a,null)}return null};
yd.B=function(a,b){a=a instanceof I?X.j?X.j(a):X.call(null,a):a instanceof gc?X.j?X.j(a):X.call(null,a):a;b=b instanceof I?X.j?X.j(b):X.call(null,b):b instanceof gc?X.j?X.j(b):X.call(null,b):b;return new I(a,b,[x(a)?[B.j(a),"/"].join(""):null,B.j(b)].join(""),null)};yd.$=2;function zd(a,b,c){this.meta=a;this.fn=b;this.s=null;this.N=c;this.F=32374988;this.P=1}g=zd.prototype;g.toString=function(){return Wb(this)};
function Ad(a){null!=a.fn&&(a.s=a.fn.O?a.fn.O():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){this.ja(null);return null==this.s?null:O(this.s)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};
g.ma=function(){return pb(lc,this.meta)};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){this.ja(null);return null==this.s?null:N(this.s)};g.xa=function(){this.ja(null);return null!=this.s?kc(this.s):lc};g.ja=function(){Ad(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof zd)a=Ad(a);else return this.s=a,J(this.s)};g.ka=function(a,b){var c=this;return b===this.meta?c:new zd(b,function(){return c.ja(null)},this.N)};
g.oa=function(a,b){return U(b,this)};zd.prototype[Da]=function(){return nc(this)};function Bd(a){this.cc=a;this.end=0;this.F=2;this.P=0}Bd.prototype.add=function(a){this.cc[this.end]=a;return this.end+=1};Bd.prototype.$a=function(){var a=new Cd(this.cc,0,this.end);this.cc=null;return a};Bd.prototype.la=function(){return this.end};function Cd(a,b,c){this.C=a;this.off=b;this.end=c;this.F=524306;this.P=0}g=Cd.prototype;g.la=function(){return this.end-this.off};
g.ea=function(a,b){return this.C[this.off+b]};g.Aa=function(a,b,c){return 0<=b&&b<this.end-this.off?this.C[this.off+b]:c};g.uc=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Cd(this.C,this.off+1,this.end)};g.qa=function(a,b){return Bc(this.C,b,this.C[this.off],this.off+1)};g.ra=function(a,b,c){return Bc(this.C,b,c,this.off)};function Dd(a,b,c,d){this.$a=a;this.Va=b;this.meta=c;this.N=d;this.F=31850732;this.P=1536}g=Dd.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return 1<Ma(this.$a)?new Dd(Lb(this.$a),this.Va,null,null):null==this.Va?null:yb(this.Va)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.wa=function(){return Sa(this.$a,0)};g.xa=function(){return 1<Ma(this.$a)?new Dd(Lb(this.$a),this.Va,null,null):null==this.Va?lc:this.Va};g.ja=function(){return this};g.hc=function(){return this.$a};g.Rb=function(){return null==this.Va?lc:this.Va};g.ka=function(a,b){return b===this.meta?this:new Dd(this.$a,this.Va,b,this.N)};g.oa=function(a,b){return U(b,this)};g.vc=function(){return null==this.Va?null:this.Va};Dd.prototype[Da]=function(){return nc(this)};
function Ed(a,b){return 0===Ma(a)?b:new Dd(a,b,null,null)}function Fd(a,b){a.add(b)}function Gd(a,b){if(Cc(b))return R(b);var c=0;for(b=J(b);;)if(null!=b&&c<a)c+=1,b=O(b);else return c}var Hd=function Hd(a){if(null==a)return null;var c=O(a);return null==c?J(N(a)):U(N(a),Hd.j?Hd.j(c):Hd.call(null,c))};
function Id(a,b,c){var d=J(c);if(0===b)return a.O?a.O():a.call(null);c=D(d);var e=Va(d);if(1===b)return a.j?a.j(c):a.call(null,c);d=D(e);var f=Va(e);if(2===b)return a.B?a.B(c,d):a.call(null,c,d);e=D(f);var h=Va(f);if(3===b)return a.D?a.D(c,d,e):a.call(null,c,d,e);f=D(h);var k=Va(h);if(4===b)return a.T?a.T(c,d,e,f):a.call(null,c,d,e,f);h=D(k);var l=Va(k);if(5===b)return a.aa?a.aa(c,d,e,f,h):a.call(null,c,d,e,f,h);k=D(l);var m=Va(l);if(6===b)return a.Na?a.Na(c,d,e,f,h,k):a.call(null,c,d,e,f,h,k);l=
D(m);var n=Va(m);if(7===b)return a.Oa?a.Oa(c,d,e,f,h,k,l):a.call(null,c,d,e,f,h,k,l);m=D(n);var p=Va(n);if(8===b)return a.za?a.za(c,d,e,f,h,k,l,m):a.call(null,c,d,e,f,h,k,l,m);n=D(p);var q=Va(p);if(9===b)return a.Pa?a.Pa(c,d,e,f,h,k,l,m,n):a.call(null,c,d,e,f,h,k,l,m,n);p=D(q);var r=Va(q);if(10===b)return a.Ca?a.Ca(c,d,e,f,h,k,l,m,n,p):a.call(null,c,d,e,f,h,k,l,m,n,p);q=D(r);var w=Va(r);if(11===b)return a.Da?a.Da(c,d,e,f,h,k,l,m,n,p,q):a.call(null,c,d,e,f,h,k,l,m,n,p,q);r=D(w);var z=Va(w);if(12===
b)return a.Ea?a.Ea(c,d,e,f,h,k,l,m,n,p,q,r):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r);w=D(z);var C=Va(z);if(13===b)return a.Fa?a.Fa(c,d,e,f,h,k,l,m,n,p,q,r,w):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w);z=D(C);var E=Va(C);if(14===b)return a.Ga?a.Ga(c,d,e,f,h,k,l,m,n,p,q,r,w,z):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z);C=D(E);var M=Va(E);if(15===b)return a.Ha?a.Ha(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C);E=D(M);var T=Va(M);if(16===b)return a.Ia?a.Ia(c,d,e,f,h,k,l,m,n,p,q,r,w,
z,C,E):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E);M=D(T);var da=Va(T);if(17===b)return a.Ja?a.Ja(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M);T=D(da);var qa=Va(da);if(18===b)return a.Ka?a.Ka(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T);da=D(qa);qa=Va(qa);if(19===b)return a.La?a.La(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da);var Zc=D(qa);Va(qa);if(20===b)return a.Ma?a.Ma(c,
d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da,Zc):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da,Zc);throw Error("Only up to 20 arguments supported on functions");}function Jd(a){return null!=a&&(a.F&128||u===a.Gb)?a.va():J(kc(a))}function Kd(a,b,c){return null==c?a.j?a.j(b):a.call(a,b):Ld(a,b,D(c),Jd(c))}function Ld(a,b,c,d){return null==d?a.B?a.B(b,c):a.call(a,b,c):Md(a,b,c,D(d),Jd(d))}function Md(a,b,c,d,e){return null==e?a.D?a.D(b,c,d):a.call(a,b,c,d):Nd(a,b,c,d,D(e),Jd(e))}
function Nd(a,b,c,d,e,f){if(null==f)return a.T?a.T(b,c,d,e):a.call(a,b,c,d,e);var h=D(f),k=O(f);if(null==k)return a.aa?a.aa(b,c,d,e,h):a.call(a,b,c,d,e,h);f=D(k);var l=O(k);if(null==l)return a.Na?a.Na(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=D(l);var m=O(l);if(null==m)return a.Oa?a.Oa(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);l=D(m);var n=O(m);if(null==n)return a.za?a.za(b,c,d,e,h,f,k,l):a.call(a,b,c,d,e,h,f,k,l);m=D(n);var p=O(n);if(null==p)return a.Pa?a.Pa(b,c,d,e,h,f,k,l,m):a.call(a,b,c,d,e,h,f,k,l,m);
n=D(p);var q=O(p);if(null==q)return a.Ca?a.Ca(b,c,d,e,h,f,k,l,m,n):a.call(a,b,c,d,e,h,f,k,l,m,n);p=D(q);var r=O(q);if(null==r)return a.Da?a.Da(b,c,d,e,h,f,k,l,m,n,p):a.call(a,b,c,d,e,h,f,k,l,m,n,p);q=D(r);var w=O(r);if(null==w)return a.Ea?a.Ea(b,c,d,e,h,f,k,l,m,n,p,q):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q);r=D(w);var z=O(w);if(null==z)return a.Fa?a.Fa(b,c,d,e,h,f,k,l,m,n,p,q,r):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r);w=D(z);var C=O(z);if(null==C)return a.Ga?a.Ga(b,c,d,e,h,f,k,l,m,n,p,q,r,w):a.call(a,b,c,d,
e,h,f,k,l,m,n,p,q,r,w);z=D(C);var E=O(C);if(null==E)return a.Ha?a.Ha(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z);C=D(E);var M=O(E);if(null==M)return a.Ia?a.Ia(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C);E=D(M);var T=O(M);if(null==T)return a.Ja?a.Ja(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E);M=D(T);var da=O(T);if(null==da)return a.Ka?a.Ka(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M):a.call(a,b,c,d,e,h,f,k,l,m,n,p,
q,r,w,z,C,E,M);T=D(da);var qa=O(da);if(null==qa)return a.La?a.La(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T);da=D(qa);qa=O(qa);if(null==qa)return a.Ma?a.Ma(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da);b=[b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da];for(c=qa;;)if(c)b.push(D(c)),c=O(c);else break;return a.apply(a,b)}
function Rc(a){switch(arguments.length){case 2:return Od(arguments[0],arguments[1]);case 3:return Pd(arguments[0],arguments[1],arguments[2]);case 4:var b=arguments[0];var c=arguments[1],d=arguments[2],e=arguments[3];b.ba?(c=U(c,U(d,e)),d=b.$,e=2+Gd(d-1,e),b=e<=d?Id(b,e,c):b.ba(c)):b=Ld(b,c,d,J(e));return b;case 5:return Qd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:b=[];e=arguments.length;for(c=0;;)if(c<e)b.push(arguments[c]),c+=1;else break;b=new K(b.slice(5),0,null);
return Rd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}function Od(a,b){if(a.ba){var c=a.$,d=Gd(c+1,b);return d<=c?Id(a,d,b):a.ba(b)}b=J(b);return null==b?a.O?a.O():a.call(a):Kd(a,D(b),Jd(b))}function Pd(a,b,c){if(a.ba){b=U(b,c);var d=a.$;c=Gd(d,c)+1;return c<=d?Id(a,c,b):a.ba(b)}return Kd(a,b,J(c))}function Qd(a,b,c,d,e){return a.ba?(b=U(b,U(c,U(d,e))),c=a.$,e=3+Gd(c-2,e),e<=c?Id(a,e,b):a.ba(b)):Md(a,b,c,d,J(e))}
function Rd(a,b,c,d,e,f){return a.ba?(f=Hd(f),b=U(b,U(c,U(d,U(e,f)))),c=a.$,f=4+Gd(c-3,f),f<=c?Id(a,f,b):a.ba(b)):Nd(a,b,c,d,e,Hd(f))}function Sd(a){if(null!=a&&(a.F&64||u===a.ub))if(O(a)){a:{var b=[];for(a=J(a);;)if(null!=a)b.push(N(a)),a=O(a);else break a}b=Nc(b)}else b=J(a)?N(a):Td;else b=a;return b}
function Ud(){if("undefined"===typeof ra||"undefined"===typeof sa||"undefined"===typeof ta)ta=function(a){this.gd=a;this.F=393216;this.P=0},ta.prototype.ka=function(a,b){return new ta(b)},ta.prototype.ha=function(){return this.gd},ta.prototype.pa=function(){return!1},ta.prototype.next=function(){return Error("No such element")},ta.prototype.remove=function(){return Error("Unsupported operation")},ta.Ib=!0,ta.nb="cljs.core/t_cljs$core20121",ta.Ub=function(a){return G(a,"cljs.core/t_cljs$core20121")};
return new ta(Td)}var Vd={},Wd={};function Xd(a){this.Cb=Vd;this._next=a}Xd.prototype.pa=function(){this.Cb===Vd?(this.Cb=Wd,this._next=J(this._next)):this.Cb===this._next&&(this._next=O(this.Cb));return null!=this._next};Xd.prototype.next=function(){if(this.pa())return this.Cb=this._next,N(this._next);throw Error("No such element");};Xd.prototype.remove=function(){return Error("Unsupported operation")};
function Yd(a,b){for(;;){if(null==J(b))return!0;var c=N(b);c=a.j?a.j(c):a.call(null,c);if(x(c))b=O(b);else return!1}}function Zd(a){for(var b=pd;;)if(a=J(a)){var c=N(a);c=b.j?b.j(c):b.call(null,c);if(x(c))return c;a=O(a)}else return null}
function $d(a,b){return new zd(null,function(){var c=J(b);if(c){if(cd(c)){for(var d=Mb(c),e=R(d),f=new Bd(Array(e)),h=0;;)if(h<e){var k=function(){var l=Sa(d,h);return a.j?a.j(l):a.call(null,l)}();null!=k&&f.add(k);h+=1}else break;return Ed(f.$a(),$d(a,Nb(c)))}e=function(){var l=N(c);return a.j?a.j(l):a.call(null,l)}();return null==e?$d(a,kc(c)):U(e,$d(a,kc(c)))}return null},null)}function ae(a){this.state=a;this.ua=this.validator=this.meta=null;this.P=16386;this.F=6455296}g=ae.prototype;
g.fa=function(a,b){return this===b};g.fb=function(){return this.state};g.ha=function(){return this.meta};g.oc=function(a,b){for(var c=J(this.ua),d=null,e=0,f=0;;)if(f<e){var h=d.ea(null,f),k=V(h,0,null);h=V(h,1,null);h.T?h.T(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=J(c))cd(c)?(d=Mb(c),c=Nb(c),k=d,e=R(d),d=k):(d=N(c),k=V(d,0,null),h=V(d,1,null),h.T?h.T(k,this,a,b):h.call(null,k,this,a,b),c=O(c),d=null,e=0),f=0;else break};g.Sb=function(a,b,c){this.ua=W.D(this.ua,b,c);return this};
g.Tb=function(a,b){return this.ua=Oc.B(this.ua,b)};g.ga=function(){return ba(this)};function be(a,b){if(a instanceof ae){var c=a.validator;if(null!=c&&!x(c.j?c.j(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.ua&&a.oc(c,b);return b}return Qb(a,b)}
var ce=function ce(a){switch(arguments.length){case 2:return ce.B(arguments[0],arguments[1]);case 3:return ce.D(arguments[0],arguments[1],arguments[2]);case 4:return ce.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return ce.K(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
ce.B=function(a,b){if(a instanceof ae){var c=a.state;b=b.j?b.j(c):b.call(null,c);a=be(a,b)}else a=Rb(a,b);return a};ce.D=function(a,b,c){if(a instanceof ae){var d=a.state;b=b.B?b.B(d,c):b.call(null,d,c);a=be(a,b)}else a=Rb(a,b,c);return a};ce.T=function(a,b,c,d){if(a instanceof ae){var e=a.state;b=b.D?b.D(e,c,d):b.call(null,e,c,d);a=be(a,b)}else a=Rb(a,b,c,d);return a};ce.K=function(a,b,c,d,e){return a instanceof ae?be(a,Qd(b,a.state,c,d,e)):Rb(a,b,c,d,e)};
ce.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);var e=O(d);d=N(e);e=O(e);return this.K(b,a,c,d,e)};ce.$=4;
var de=function de(a){switch(arguments.length){case 1:return de.j(arguments[0]);case 2:return de.B(arguments[0],arguments[1]);case 3:return de.D(arguments[0],arguments[1],arguments[2]);case 4:return de.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return de.K(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
de.j=function(a){return function(b){return function(){function c(k,l){l=a.j?a.j(l):a.call(null,l);return b.B?b.B(k,l):b.call(null,k,l)}function d(k){return b.j?b.j(k):b.call(null,k)}function e(){return b.O?b.O():b.call(null)}var f=null,h=function(){function k(m,n,p){var q=null;if(2<arguments.length){q=0;for(var r=Array(arguments.length-2);q<r.length;)r[q]=arguments[q+2],++q;q=new K(r,0,null)}return l.call(this,m,n,q)}function l(m,n,p){n=Pd(a,n,p);return b.B?b.B(m,n):b.call(null,m,n)}k.$=2;k.ba=function(m){var n=
N(m);m=O(m);var p=N(m);m=kc(m);return l(n,p,m)};k.K=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new K(p,0,null)}return h.K(k,l,n)}throw Error("Invalid arity: "+arguments.length);};f.$=2;f.ba=h.ba;f.O=e;f.j=d;f.B=c;f.K=h.K;return f}()}};
de.B=function(a,b){return new zd(null,function(){var c=J(b);if(c){if(cd(c)){for(var d=Mb(c),e=R(d),f=new Bd(Array(e)),h=0;;)if(h<e)Fd(f,function(){var k=Sa(d,h);return a.j?a.j(k):a.call(null,k)}()),h+=1;else break;return Ed(f.$a(),de.B(a,Nb(c)))}return U(function(){var k=N(c);return a.j?a.j(k):a.call(null,k)}(),de.B(a,kc(c)))}return null},null)};
de.D=function(a,b,c){return new zd(null,function(){var d=J(b),e=J(c);if(d&&e){var f=N(d);var h=N(e);f=a.B?a.B(f,h):a.call(null,f,h);d=U(f,de.D(a,kc(d),kc(e)))}else d=null;return d},null)};de.T=function(a,b,c,d){return new zd(null,function(){var e=J(b),f=J(c),h=J(d);if(e&&f&&h){var k=N(e);var l=N(f),m=N(h);k=a.D?a.D(k,l,m):a.call(null,k,l,m);e=U(k,de.T(a,kc(e),kc(f),kc(h)))}else e=null;return e},null)};
de.K=function(a,b,c,d,e){return de.B(function(f){return Od(a,f)},function k(h){return new zd(null,function(){var l=de.B(J,h);return Yd(pd,l)?U(de.B(N,l),k(de.B(kc,l))):null},null)}(Jc.K(e,d,Ic([c,b]))))};de.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);var e=O(d);d=N(e);e=O(e);return this.K(b,a,c,d,e)};de.$=4;function ee(a,b){return new zd(null,function(){if(0<a){var c=J(b);return c?U(N(c),ee(a-1,kc(c))):null}return null},null)}
function fe(a,b){return new zd(null,function(){a:for(var c=a,d=b;;)if(d=J(d),0<c&&d)--c,d=kc(d);else break a;return d},null)}function ge(a){return de.D(function(b){return b},a,fe(2,a))}function he(a,b,c,d){this.meta=a;this.count=b;this.R=c;this.next=d;this.N=null;this.F=32374988;this.P=1}g=he.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null==this.next?1<this.count?this.next=new he(null,this.count-1,this.R,null):-1===this.count?this:null:this.next};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){if(-1===this.count)for(var c=b.B?b.B(this.R,this.R):b.call(null,this.R,this.R);;){if(vc(c))return F(c);c=b.B?b.B(c,this.R):b.call(null,c,this.R)}else for(a=1,c=this.R;;)if(a<this.count){c=b.B?b.B(c,this.R):b.call(null,c,this.R);if(vc(c))return F(c);a+=1}else return c};
g.ra=function(a,b,c){if(-1===this.count)for(c=b.B?b.B(c,this.R):b.call(null,c,this.R);;){if(vc(c))return F(c);c=b.B?b.B(c,this.R):b.call(null,c,this.R)}else for(a=0;;)if(a<this.count){c=b.B?b.B(c,this.R):b.call(null,c,this.R);if(vc(c))return F(c);a+=1}else return c};g.wa=function(){return this.R};g.xa=function(){return null==this.next?1<this.count?this.next=new he(null,this.count-1,this.R,null):-1===this.count?this:lc:this.next};g.ja=function(){return this};
g.ka=function(a,b){return b===this.meta?this:new he(b,this.count,this.R,this.next)};g.oa=function(a,b){return U(b,this)};var ie=function ie(a){switch(arguments.length){case 0:return ie.O();case 1:return ie.j(arguments[0]);case 2:return ie.B(arguments[0],arguments[1]);case 3:return ie.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};ie.O=function(){return Kc};ie.j=function(a){return a};
ie.B=function(a,b){return null!=a?null!=a&&(a.P&4||u===a.Rc)?pb(Jb(Ga(Ib,Hb(a),b)),Tc(a)):Ga(Qa,a,b):Ga(Jc,a,b)};ie.D=function(a,b,c){if(null!=a&&(a.P&4||u===a.Rc)){var d=Tc(a);return qd(b,function(){function e(h){return pb(Jb(h),d)}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return Ib(h,k)}throw Error("Invalid arity: "+arguments.length);};f.j=e;f.B=function(h,k){return Ib(h,k)};return f}(),Hb(a),c)}return qd(b,Jc,a,c)};ie.$=3;
function je(a,b,c){var d=W.D,e=H.B(a,b);c=c.j?c.j(e):c.call(null,e);return d.call(W,a,b,c)}function ke(a,b,c,d){var e=W.D,f=H.B(a,b);c=c.B?c.B(f,d):c.call(null,f,d);return e.call(W,a,b,c)}function le(a,b){this.da=a;this.C=b}function me(a){return new le(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function ne(a){return new le(a.da,Ea(a.C))}
function oe(a){a=a.G;return 32>a?0:a-1>>>5<<5}function pe(a,b,c){for(;;){if(0===b)return c;var d=me(a);d.C[0]=c;c=d;b-=5}}var qe=function qe(a,b,c,d){var f=ne(c),h=a.G-1>>>b&31;5===b?f.C[h]=d:(c=c.C[h],null!=c?(b-=5,a=qe.T?qe.T(a,b,c,d):qe.call(null,a,b,c,d)):a=pe(null,b-5,d),f.C[h]=a);return f};function re(a,b){throw Error(["No item ",B.j(a)," in vector of length ",B.j(b)].join(""));}
function se(a,b){if(b>=oe(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.C[b>>>a&31];a=d}else return c.C}function te(a,b){return 0<=b&&b<a.G?se(a,b):re(b,a.G)}
var ue=function ue(a,b,c,d,e){var h=ne(c);if(0===b)h.C[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.C[k];a=ue.aa?ue.aa(a,b,c,d,e):ue.call(null,a,b,c,d,e);h.C[k]=a}return h},ve=function ve(a,b,c){var e=a.G-2>>>b&31;if(5<b){b-=5;var f=c.C[e];a=ve.D?ve.D(a,b,f):ve.call(null,a,b,f);if(null==a&&0===e)return null;c=ne(c);c.C[e]=a;return c}if(0===e)return null;c=ne(c);c.C[e]=null;return c};function we(a,b,c,d,e,f){this.i=a;this.base=b;this.C=c;this.v=d;this.start=e;this.end=f}
we.prototype.pa=function(){return this.i<this.end};we.prototype.next=function(){32===this.i-this.base&&(this.C=se(this.v,this.i),this.base+=32);var a=this.C[this.i&31];this.i+=1;return a};function xe(a,b,c){return new we(b,b-b%32,b<R(a)?se(a,b):null,a,b,c)}function ye(a,b,c,d){return c<d?ze(a,b,Ec(a,c),c+1,d):b.O?b.O():b.call(null)}
function ze(a,b,c,d,e){var f=c;c=d;for(d=se(a,d);;)if(c<e){var h=c&31;d=0===h?se(a,c):d;h=d[h];f=b.B?b.B(f,h):b.call(null,f,h);if(vc(f))return F(f);c+=1}else return f}function Y(a,b,c,d,e,f){this.meta=a;this.G=b;this.shift=c;this.root=d;this.tail=e;this.N=f;this.F=167666463;this.P=139268}g=Y.prototype;g.tb=function(a,b){return 0<=b&&b<this.G?new Ae(b,se(this,b)[b&31]):null};g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
g.Db=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=se(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.D?b.D(d,h,k):b.call(null,d,h,k);if(vc(d)){e=d;break a}f+=1}else{e=d;break a}if(vc(e))return F(e);a+=c;d=e}else return d};g.fc=u;g.ea=function(a,b){return te(this,b)[b&31]};g.Aa=function(a,b,c){return 0<=b&&b<this.G?se(this,b)[b&31]:c};
g.mb=function(a,b,c){if(0<=b&&b<this.G)return oe(this)<=b?(a=Ea(this.tail),a[b&31]=c,new Y(this.meta,this.G,this.shift,this.root,a,null)):new Y(this.meta,this.G,this.shift,ue(this,this.shift,this.root,b,c),this.tail,null);if(b===this.G)return this.oa(null,c);throw Error(["Index ",B.j(b)," out of bounds  [0,",B.j(this.G),"]"].join(""));};g.Qa=function(){return xe(this,0,this.G)};g.ha=function(){return this.meta};g.la=function(){return this.G};
g.vb=function(){return 0<this.G?this.ea(null,this.G-1):null};g.wb=function(){if(0===this.G)throw Error("Can't pop empty vector");if(1===this.G)return pb(Kc,this.meta);if(1<this.G-oe(this))return new Y(this.meta,this.G-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=se(this,this.G-2),b=ve(this,this.shift,this.root);b=null==b?Z:b;var c=this.G-1;return 5<this.shift&&null==b.C[1]?new Y(this.meta,c,this.shift-5,b.C[0],a,null):new Y(this.meta,c,this.shift,b,a,null)};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){if(b instanceof Y)if(this.G===R(b))for(a=this.Qa(null),b=b.Qa(null);;)if(a.pa()){var c=a.next(),d=b.next();if(!P.B(c,d))return!1}else return!0;else return!1;else return Hc(this,b)};g.sb=function(){return new Be(this.G,this.shift,Ce.j?Ce.j(this.root):Ce.call(null,this.root),De.j?De.j(this.tail):De.call(null,this.tail))};g.ma=function(){return pb(Kc,this.meta)};g.qa=function(a,b){return ye(this,b,0,this.G)};
g.ra=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=se(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.B?b.B(d,h):b.call(null,d,h);if(vc(d)){e=d;break a}f+=1}else{e=d;break a}if(vc(e))return F(e);a+=c;d=e}else return d};g.ab=function(a,b,c){if("number"===typeof b)return this.mb(null,b,c);throw Error("Vector's key for assoc must be a number.");};g.lb=function(a,b){return hd(b)?0<=b&&b<this.G:!1};
g.ja=function(){if(0===this.G)return null;if(32>=this.G)return new K(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.C[0];else{a=a.C;break a}}return Ee?Ee(this,a,0,0):Fe.call(null,this,a,0,0)};g.ka=function(a,b){return b===this.meta?this:new Y(b,this.G,this.shift,this.root,this.tail,this.N)};
g.oa=function(a,b){if(32>this.G-oe(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new Y(this.meta,this.G+1,this.shift,this.root,c,null)}a=(c=this.G>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=me(null),c.C[0]=this.root,d=pe(null,this.shift,new le(null,this.tail)),c.C[1]=d):c=qe(this,this.shift,this.root,new le(null,this.tail));return new Y(this.meta,this.G+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){if("number"===typeof a)return this.ea(null,a);throw Error("Key must be integer");};
var Z=new le(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Kc=new Y(null,0,5,Z,[],qc);function Ge(a,b){var c=a.length;a=b?a:Ea(a);if(32>c)return new Y(null,c,5,Z,a,null);var d=a.slice(0,32);b=32;for(var e=(new Y(null,32,5,Z,d,null)).sb(null);;)if(b<c)d=b+1,e=Ib(e,a[b]),b=d;else return Jb(e)}Y.prototype[Da]=function(){return nc(this)};
function He(a){return x(Ie.j?Ie.j(a):Ie.call(null,a))?new Y(null,2,5,Z,[Je.j?Je.j(a):Je.call(null,a),Ke.j?Ke.j(a):Ke.call(null,a)],null):bd(a)?Sc(a,null):Ba(a)?Ge(a,!0):Jb(Ga(Ib,Hb(Kc),a))}var Le=function Le(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return Le.K(c)};Le.K=function(a){return a instanceof K&&0===a.i?Ge(a.C,!Ba(a.C)):He(a)};Le.$=0;Le.ba=function(a){return this.K(J(a))};
function Me(a,b,c,d,e){this.Ba=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.N=null;this.F=32375020;this.P=1536}g=Me.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){if(this.off+1<this.node.length){var a=this.Ba;var b=this.node,c=this.i,d=this.off+1;a=Ee?Ee(a,b,c,d):Fe.call(null,a,b,c,d);return null==a?null:a}return this.vc()};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return ye(this.Ba,b,this.i+this.off,R(this.Ba))};g.ra=function(a,b,c){return ze(this.Ba,b,c,this.i+this.off,R(this.Ba))};g.wa=function(){return this.node[this.off]};g.xa=function(){if(this.off+1<this.node.length){var a=this.Ba;var b=this.node,c=this.i,d=this.off+1;a=Ee?Ee(a,b,c,d):Fe.call(null,a,b,c,d);return null==a?lc:a}return this.Rb(null)};g.ja=function(){return this};
g.hc=function(){var a=this.node;return new Cd(a,this.off,a.length)};g.Rb=function(){var a=this.i+this.node.length;if(a<Ma(this.Ba)){var b=this.Ba,c=se(this.Ba,a);return Ee?Ee(b,c,a,0):Fe.call(null,b,c,a,0)}return lc};g.ka=function(a,b){return b===this.meta?this:Ne?Ne(this.Ba,this.node,this.i,this.off,b):Fe.call(null,this.Ba,this.node,this.i,this.off,b)};g.oa=function(a,b){return U(b,this)};
g.vc=function(){var a=this.i+this.node.length;if(a<Ma(this.Ba)){var b=this.Ba,c=se(this.Ba,a);return Ee?Ee(b,c,a,0):Fe.call(null,b,c,a,0)}return null};Me.prototype[Da]=function(){return nc(this)};
function Fe(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Me(b,te(b,c),c,d,null);case 4:return Ee(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ne(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function Ee(a,b,c,d){return new Me(a,b,c,d,null)}function Ne(a,b,c,d,e){return new Me(a,b,c,d,e)}
function Oe(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.N=e;this.F=167666463;this.P=139264}g=Oe.prototype;g.tb=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new Ae(b,Ya(this.v,a)):null};g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
g.Db=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=Sa(this.v,a);c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(vc(c))return F(c);d+=1;a+=1}else return c};g.ea=function(a,b){return 0>b||this.end<=this.start+b?re(b,this.end-this.start):Sa(this.v,this.start+b)};g.Aa=function(a,b,c){return 0>b||this.end<=this.start+b?c:Sa(this.v,this.start+b,c)};
g.mb=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",B.j(b)," out of bounds [0,",B.j(this.la(null)),"]"].join(""));b=this.meta;c=W.D(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return Pe.aa?Pe.aa(b,c,d,a,null):Pe.call(null,b,c,d,a,null)};g.Qa=function(){return null!=this.v&&u===this.v.fc?xe(this.v,this.start,this.end):new Xd(this)};g.ha=function(){return this.meta};g.la=function(){return this.end-this.start};
g.vb=function(){return this.start===this.end?null:Sa(this.v,this.end-1)};g.wb=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return Pe.aa?Pe.aa(a,b,c,d,null):Pe.call(null,a,b,c,d,null)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return pb(Kc,this.meta)};
g.qa=function(a,b){return null!=this.v&&u===this.v.fc?ye(this.v,b,this.start,this.end):xc(this,b)};g.ra=function(a,b,c){return null!=this.v&&u===this.v.fc?ze(this.v,b,c,this.start,this.end):yc(this,b,c)};g.ab=function(a,b,c){if("number"===typeof b)return this.mb(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.lb=function(a,b){return hd(b)?0<=b&&b<this.end-this.start:!1};
g.ja=function(){var a=this;return function d(c){return c===a.end?null:U(Sa(a.v,c),new zd(null,function(){return d(c+1)},null))}(a.start)};g.ka=function(a,b){return b===this.meta?this:Pe.aa?Pe.aa(b,this.v,this.start,this.end,this.N):Pe.call(null,b,this.v,this.start,this.end,this.N)};g.oa=function(a,b){a=this.meta;b=mb(this.v,this.end,b);var c=this.start,d=this.end+1;return Pe.aa?Pe.aa(a,b,c,d,null):Pe.call(null,a,b,c,d,null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ea(null,a)};g.B=function(a,b){return this.Aa(null,a,b)};Oe.prototype[Da]=function(){return nc(this)};
function Pe(a,b,c,d,e){for(;;)if(b instanceof Oe)c=b.start+c,d=b.start+d,b=b.v;else{if(!bd(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>R(b))throw Error("Index out of bounds");return new Oe(a,b,c,d,e)}}function Qe(a,b){return a===b.da?b:new le(a,Ea(b.C))}function Ce(a){return new le({},Ea(a.C))}
function De(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];dd(a,0,b,0,a.length);return b}var Re=function Re(a,b,c,d){c=Qe(a.root.da,c);var f=a.G-1>>>b&31;if(5===b)a=d;else{var h=c.C[f];null!=h?(b-=5,a=Re.T?Re.T(a,b,h,d):Re.call(null,a,b,h,d)):a=pe(a.root.da,b-5,d)}c.C[f]=a;return c};function Be(a,b,c,d){this.G=a;this.shift=b;this.root=c;this.tail=d;this.P=88;this.F=275}g=Be.prototype;
g.yb=function(a,b){if(this.root.da){if(32>this.G-oe(this))this.tail[this.G&31]=b;else{a=new le(this.root.da,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.G>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=pe(this.root.da,this.shift,a),this.root=new le(this.root.da,b),this.shift=c):this.root=Re(this,this.shift,this.root,a)}this.G+=1;return this}throw Error("conj! after persistent!");};g.Hb=function(){if(this.root.da){this.root.da=null;var a=this.G-oe(this),b=Array(a);dd(this.tail,0,b,0,a);return new Y(null,this.G,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.xb=function(a,b,c){if("number"===typeof b)return Se(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Se(a,b,c){if(a.root.da){if(0<=b&&b<a.G){if(oe(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=Qe(a.root.da,h);if(0===f)h.C[b&31]=c;else{var l=b>>>f&31;f=k(f-5,h.C[l]);h.C[l]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.G)return a.yb(null,c);throw Error(["Index ",B.j(b)," out of bounds for TransientVector of length",B.j(a.G)].join(""));}throw Error("assoc! after persistent!");}g.la=function(){if(this.root.da)return this.G;throw Error("count after persistent!");};
g.ea=function(a,b){if(this.root.da)return te(this,b)[b&31];throw Error("nth after persistent!");};g.Aa=function(a,b,c){return 0<=b&&b<this.G?this.ea(null,b):c};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){if(this.root.da)return"number"===typeof b?this.Aa(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};function Te(){this.F=2097152;this.P=0}Te.prototype.fa=function(){return!1};var Ue=new Te;
function Ve(a,b){return fd($c(b)&&!ad(b)?R(a)===R(b)?(null!=a?a.F&1048576||u===a.vd||(a.F?0:y(tb,a)):y(tb,a))?od(function(c,d,e){return P.B(H.D(b,d,Ue),e)?!0:new uc},!0,a):Yd(function(c){return P.B(H.D(b,N(c),Ue),N(O(c)))},a):null:null)}function We(a){this.s=a}We.prototype.next=function(){if(null!=this.s){var a=N(this.s),b=V(a,0,null);a=V(a,1,null);this.s=O(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Xe(a){this.s=a}
Xe.prototype.next=function(){if(null!=this.s){var a=N(this.s);this.s=O(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Ye(a,b){if(b instanceof I)a:{var c=a.length;b=b.Ra;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof I&&b===a[d].Ra){a=d;break a}d+=2}}else if("string"===typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof gc)a:for(c=a.length,b=b.jb,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof gc&&b===a[d].jb){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(P.B(b,a[d])){a=d;break a}d+=2}return a}function Ae(a,b){this.key=a;this.R=b;this.N=null;this.F=166619935;this.P=0}g=Ae.prototype;g.tb=function(a,b){switch(b){case 0:return new Ae(0,this.key);case 1:return new Ae(1,this.R);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.Aa(null,b,null)};g.ca=function(a,b,c){return this.Aa(null,b,c)};g.ea=function(a,b){if(0===b)return this.key;if(1===b)return this.R;throw Error("Index out of bounds");};
g.Aa=function(a,b,c){return 0===b?this.key:1===b?this.R:c};g.mb=function(a,b,c){return(new Y(null,2,5,Z,[this.key,this.R],null)).mb(null,b,c)};g.ha=function(){return null};g.la=function(){return 2};g.Xc=function(){return this.key};g.Yc=function(){return this.R};g.vb=function(){return this.R};g.wb=function(){return new Y(null,1,5,Z,[this.key],null)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return null};
g.qa=function(a,b){return xc(this,b)};g.ra=function(a,b,c){return yc(this,b,c)};g.ab=function(a,b,c){return W.D(new Y(null,2,5,Z,[this.key,this.R],null),b,c)};g.lb=function(a,b){return 0===b||1===b};g.ja=function(){return new K([this.key,this.R],0,null)};g.ka=function(a,b){return Sc(new Y(null,2,5,Z,[this.key,this.R],null),b)};g.oa=function(a,b){return new Y(null,3,5,Z,[this.key,this.R,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ea(null,a)};g.B=function(a,b){return this.Aa(null,a,b)};function Ie(a){return null!=a?a.F&2048||u===a.yd?!0:!1:!1}function Ze(a,b,c){this.C=a;this.i=b;this.Ya=c;this.F=32374990;this.P=0}g=Ze.prototype;
g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){return this.i<this.C.length-2?new Ze(this.C,this.i+2,null):null};g.la=function(){return(this.C.length-this.i)/2};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return new Ae(this.C[this.i],this.C[this.i+1])};g.xa=function(){return this.i<this.C.length-2?new Ze(this.C,this.i+2,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Ze(this.C,this.i,b)};g.oa=function(a,b){return U(b,this)};Ze.prototype[Da]=function(){return nc(this)};
function $e(a,b){this.C=a;this.i=0;this.G=b}$e.prototype.pa=function(){return this.i<this.G};$e.prototype.next=function(){var a=new Ae(this.C[this.i],this.C[this.i+1]);this.i+=2;return a};function v(a,b,c,d){this.meta=a;this.G=b;this.C=c;this.N=d;this.F=16647951;this.P=139268}g=v.prototype;g.tb=function(a,b){a=Ye(this.C,b);return-1===a?null:new Ae(this.C[a],this.C[a+1])};g.toString=function(){return Wb(this)};g.keys=function(){return nc(af.j?af.j(this):af.call(null,this))};g.entries=function(){return new We(J(J(this)))};
g.values=function(){return nc(bf.j?bf.j(this):bf.call(null,this))};g.has=function(a){return id(this,a)};g.get=function(a,b){return this.ca(null,a,b)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};
g.ca=function(a,b,c){a=Ye(this.C,b);return-1===a?c:this.C[a+1]};g.Db=function(a,b,c){a=this.C.length;for(var d=0;;)if(d<a){var e=this.C[d],f=this.C[d+1];c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(vc(c))return F(c);d+=2}else return c};g.Qa=function(){return new $e(this.C,2*this.G)};g.ha=function(){return this.meta};g.la=function(){return this.G};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=rc(this)};
g.fa=function(a,b){if($c(b)&&!ad(b))if(a=this.C.length,this.G===b.la(null))for(var c=0;;)if(c<a){var d=b.ca(null,this.C[c],ed);if(d!==ed)if(P.B(this.C[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.sb=function(){return new cf(this.C.length,Ea(this.C))};g.ma=function(){return pb(Td,this.meta)};g.qa=function(a,b){return ld(this,b)};g.ra=function(a,b,c){return md(this,b,c)};
g.jc=function(a,b){if(0<=Ye(this.C,b)){a=this.C.length;var c=a-2;if(0===c)return this.ma(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new v(this.meta,this.G-1,c,null);P.B(b,this.C[d])?d+=2:(c[e]=this.C[d],c[e+1]=this.C[d+1],e+=2,d+=2)}}else return this};
g.ab=function(a,b,c){a=Ye(this.C,b);if(-1===a){if(this.G<df){a=this.C;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new v(this.meta,this.G+1,e,null)}return pb(bb(ie.B(ef,this),b,c),this.meta)}if(c===this.C[a+1])return this;b=Ea(this.C);b[a+1]=c;return new v(this.meta,this.G,b,null)};g.lb=function(a,b){return-1!==Ye(this.C,b)};g.ja=function(){var a=this.C;return 0<=a.length-2?new Ze(a,0,null):null};
g.ka=function(a,b){return b===this.meta?this:new v(b,this.G,this.C,this.N)};g.oa=function(a,b){if(bd(b))return this.ab(null,Sa(b,0),Sa(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=N(b);if(bd(c))a=bb(a,Sa(c,0),Sa(c,1)),b=O(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};var Td=new v(null,0,[],sc),df=8;function ff(a,b){return a===b?!0:a===b||a instanceof I&&b instanceof I&&a.Ra===b.Ra?!0:P.B(a,b)}
function gf(a){for(var b=0,c=0;;)if(b<a.length){var d;a:for(d=0;;)if(d<b){var e=ff(a[b],a[d]);if(e){d=e;break a}d=2+d}else{d=!1;break a}c=d?c:c+2;b=2+b}else return c}function hf(a,b){var c=a.length-1,d=J(b);b=Array(c+2*R(d));a=dd(a,0,b,0,c);for(b=c;;)if(d){var e=N(d);a[b]=fb(e);a[b+1]=gb(e);b=2+c;d=O(d)}else return a}
function Nc(a){var b=a.length,c=1===(b&1),d;if(!(d=c))a:for(d=0;;)if(d<a.length){var e;b:for(e=0;;)if(e<d){var f=ff(a[d],a[e]);if(f){e=f;break b}e=2+e}else{e=!1;break b}if(e){d=e;break a}d=2+d}else{d=!1;break a}return d?jf(a,c):new v(null,b/2,a,null)}
function jf(a,b){var c=b?hf(a,ie.B(Td,a[a.length-1])):a;a=gf(c);var d=c.length;if(a<d){a=Array(a);for(var e=0,f=0;;)if(e<d)(function(){for(var h=0;;)if(h<f){var k=ff(c[e],c[h]);if(k)return k;h=2+h}else return!1})()?(b=f,e=2+e,f=b):(b=function(){for(var h=d-2;;)if(h>=e){if(ff(c[e],c[h]))return h;h-=2}else return h}(),a[f]=c[e],a[f+1]=c[b+1],b=2+f,e=2+e,f=b);else break;return new v(null,a.length/2,a,null)}return new v(null,c.length/2,c,null)}v.prototype[Da]=function(){return nc(this)};
function cf(a,b){this.zb={};this.pb=a;this.C=b;this.F=259;this.P=56}g=cf.prototype;g.la=function(){if(this.zb)return td(this.pb);throw Error("count after persistent!");};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){if(this.zb)return a=Ye(this.C,b),-1===a?c:this.C[a+1];throw Error("lookup after persistent!");};
g.yb=function(a,b){if(this.zb){if(Ie(b))return this.xb(null,Je.j?Je.j(b):Je.call(null,b),Ke.j?Ke.j(b):Ke.call(null,b));if(bd(b))return this.xb(null,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));a=J(b);for(b=this;;){var c=N(a);if(x(c))a=O(a),b=Kb(b,Je.j?Je.j(c):Je.call(null,c),Ke.j?Ke.j(c):Ke.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.Hb=function(){if(this.zb)return this.zb=!1,new v(null,td(this.pb),this.C,null);throw Error("persistent! called twice");};
g.xb=function(a,b,c){if(this.zb){a=Ye(this.C,b);if(-1===a){if(this.pb+2<=2*df)return this.pb+=2,this.C.push(b),this.C.push(c),this;a=kf.B?kf.B(this.pb,this.C):kf.call(null,this.pb,this.C);return Kb(a,b,c)}c!==this.C[a+1]&&(this.C[a+1]=c);return this}throw Error("assoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ca(null,a,null)};g.B=function(a,b){return this.ca(null,a,b)};function kf(a,b){for(var c=Hb(ef),d=0;;)if(d<a)c=Kb(c,b[d],b[d+1]),d+=2;else return c}function lf(){this.R=!1}function mf(a,b,c){a=Ea(a);a[b]=c;return a}function nf(a,b){var c=Array(a.length-2);dd(a,0,c,0,2*b);dd(a,2*(b+1),c,2*b,c.length-2*b);return c}function of(a,b,c,d){a=a.ob(b);a.C[c]=d;return a}
function pf(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.D?b.D(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Mb(b,f):f;if(vc(c))return c;e+=2;f=c}else return f}function qf(a){this.C=a;this.i=0;this.Wa=this.Nb=null}qf.prototype.advance=function(){for(var a=this.C.length;;)if(this.i<a){var b=this.C[this.i],c=this.C[this.i+1];null!=b?b=this.Nb=new Ae(b,c):null!=c?(b=Ub(c),b=b.pa()?this.Wa=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
qf.prototype.pa=function(){var a=null!=this.Nb;return a?a:(a=null!=this.Wa)?a:this.advance()};qf.prototype.next=function(){if(null!=this.Nb){var a=this.Nb;this.Nb=null;return a}if(null!=this.Wa)return a=this.Wa.next(),this.Wa.pa()||(this.Wa=null),a;if(this.advance())return this.next();throw Error("No such element");};qf.prototype.remove=function(){return Error("Unsupported operation")};function rf(a,b,c){this.da=a;this.bitmap=b;this.C=c;this.P=131072;this.F=0}g=rf.prototype;
g.ob=function(a){if(a===this.da)return this;var b=ud(this.bitmap),c=Array(0>b?4:2*(b+1));dd(this.C,0,c,0,2*b);return new rf(a,this.bitmap,c)};g.Kb=function(){return sf?sf(this.C):tf.call(null,this.C)};g.Mb=function(a,b){return pf(this.C,a,b)};g.hb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ud(this.bitmap&e-1);e=this.C[2*f];f=this.C[2*f+1];return null==e?f.hb(a+5,b,c,d):ff(c,e)?f:d};
g.Ua=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=ud(this.bitmap&h-1);if(0===(this.bitmap&h)){var l=ud(this.bitmap);if(2*l<this.C.length){a=this.ob(a);b=a.C;f.R=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=uf.Ua(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0===
(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.C[e]?uf.Ua(a,b+5,ec(this.C[e]),this.C[e],this.C[e+1],f):this.C[e+1],e+=2,d+=1);else break;return new vf(a,l+1,k)}b=Array(2*(l+4));dd(this.C,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;dd(this.C,2*k,b,2*(k+1),2*(l-k));f.R=!0;a=this.ob(a);a.C=b;a.bitmap|=h;return a}l=this.C[2*k];h=this.C[2*k+1];if(null==l)return l=h.Ua(a,b+5,c,d,e,f),l===h?this:of(this,a,2*k+1,l);if(ff(d,l))return e===h?this:of(this,a,2*k+1,e);f.R=!0;f=b+5;d=wf?wf(a,f,l,h,c,d,e):xf.call(null,a,f,l,h,c,d,
e);e=2*k;k=2*k+1;a=this.ob(a);a.C[e]=null;a.C[k]=d;return a};
g.Ta=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=ud(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=ud(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=uf.Ta(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.C[d]?uf.Ta(a+5,ec(this.C[d]),this.C[d],this.C[d+1],e):this.C[d+1],d+=2,c+=1);else break;return new vf(null,k+1,h)}a=Array(2*
(k+1));dd(this.C,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;dd(this.C,2*h,a,2*(h+1),2*(k-h));e.R=!0;return new rf(null,this.bitmap|f,a)}var l=this.C[2*h];f=this.C[2*h+1];if(null==l)return k=f.Ta(a+5,b,c,d,e),k===f?this:new rf(null,this.bitmap,mf(this.C,2*h+1,k));if(ff(c,l))return d===f?this:new rf(null,this.bitmap,mf(this.C,2*h+1,d));e.R=!0;e=this.bitmap;k=this.C;a+=5;a=yf?yf(a,l,f,b,c,d):xf.call(null,a,l,f,b,c,d);c=2*h;h=2*h+1;d=Ea(k);d[c]=null;d[h]=a;return new rf(null,e,d)};
g.Jb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ud(this.bitmap&e-1);e=this.C[2*f];f=this.C[2*f+1];return null==e?f.Jb(a+5,b,c,d):ff(c,e)?new Ae(e,f):d};
g.Lb=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=ud(this.bitmap&d-1),f=this.C[2*e],h=this.C[2*e+1];return null==f?(a=h.Lb(a+5,b,c),a===h?this:null!=a?new rf(null,this.bitmap,mf(this.C,2*e+1,a)):this.bitmap===d?null:new rf(null,this.bitmap^d,nf(this.C,e))):ff(c,f)?this.bitmap===d?null:new rf(null,this.bitmap^d,nf(this.C,e)):this};g.Qa=function(){return new qf(this.C)};var uf=new rf(null,0,[]);function zf(a){this.C=a;this.i=0;this.Wa=null}
zf.prototype.pa=function(){for(var a=this.C.length;;){if(null!=this.Wa&&this.Wa.pa())return!0;if(this.i<a){var b=this.C[this.i];this.i+=1;null!=b&&(this.Wa=Ub(b))}else return!1}};zf.prototype.next=function(){if(this.pa())return this.Wa.next();throw Error("No such element");};zf.prototype.remove=function(){return Error("Unsupported operation")};function vf(a,b,c){this.da=a;this.G=b;this.C=c;this.P=131072;this.F=0}g=vf.prototype;g.ob=function(a){return a===this.da?this:new vf(a,this.G,Ea(this.C))};
g.Kb=function(){return Af?Af(this.C):Bf.call(null,this.C)};g.Mb=function(a,b){for(var c=this.C.length,d=0;;)if(d<c){var e=this.C[d];if(null!=e){b=e.Mb(a,b);if(vc(b))return b;d+=1}else d+=1}else return b};g.hb=function(a,b,c,d){var e=this.C[b>>>a&31];return null!=e?e.hb(a+5,b,c,d):d};g.Ua=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.C[h];if(null==k)return a=of(this,a,h,uf.Ua(a,b+5,c,d,e,f)),a.G+=1,a;b=k.Ua(a,b+5,c,d,e,f);return b===k?this:of(this,a,h,b)};
g.Ta=function(a,b,c,d,e){var f=b>>>a&31,h=this.C[f];if(null==h)return new vf(null,this.G+1,mf(this.C,f,uf.Ta(a+5,b,c,d,e)));a=h.Ta(a+5,b,c,d,e);return a===h?this:new vf(null,this.G,mf(this.C,f,a))};g.Jb=function(a,b,c,d){var e=this.C[b>>>a&31];return null!=e?e.Jb(a+5,b,c,d):d};
g.Lb=function(a,b,c){var d=b>>>a&31,e=this.C[d];if(null!=e){a=e.Lb(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.G)a:{e=this.C;a=e.length;b=Array(2*(this.G-1));c=0;for(var f=1,h=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,h|=1<<c,c+=1):c+=1;else{d=new rf(null,h,b);break a}}else d=new vf(null,this.G-1,mf(this.C,d,a));else d=new vf(null,this.G,mf(this.C,d,a));return d}return this};g.Qa=function(){return new zf(this.C)};
function Cf(a,b,c){b*=2;for(var d=0;;)if(d<b){if(ff(c,a[d]))return d;d+=2}else return-1}function Df(a,b,c,d){this.da=a;this.bb=b;this.G=c;this.C=d;this.P=131072;this.F=0}g=Df.prototype;g.ob=function(a){if(a===this.da)return this;var b=Array(2*(this.G+1));dd(this.C,0,b,0,2*this.G);return new Df(a,this.bb,this.G,b)};g.Kb=function(){return sf?sf(this.C):tf.call(null,this.C)};g.Mb=function(a,b){return pf(this.C,a,b)};
g.hb=function(a,b,c,d){a=Cf(this.C,this.G,c);return 0>a?d:ff(c,this.C[a])?this.C[a+1]:d};
g.Ua=function(a,b,c,d,e,f){if(c===this.bb){b=Cf(this.C,this.G,d);if(-1===b){if(this.C.length>2*this.G)return b=2*this.G,c=2*this.G+1,a=this.ob(a),a.C[b]=d,a.C[c]=e,f.R=!0,a.G+=1,a;c=this.C.length;b=Array(c+2);dd(this.C,0,b,0,c);b[c]=d;b[c+1]=e;f.R=!0;d=this.G+1;a===this.da?(this.C=b,this.G=d,a=this):a=new Df(this.da,this.bb,d,b);return a}return this.C[b+1]===e?this:of(this,a,b+1,e)}return(new rf(a,1<<(this.bb>>>b&31),[null,this,null,null])).Ua(a,b,c,d,e,f)};
g.Ta=function(a,b,c,d,e){return b===this.bb?(a=Cf(this.C,this.G,c),-1===a?(a=2*this.G,b=Array(a+2),dd(this.C,0,b,0,a),b[a]=c,b[a+1]=d,e.R=!0,new Df(null,this.bb,this.G+1,b)):P.B(this.C[a+1],d)?this:new Df(null,this.bb,this.G,mf(this.C,a+1,d))):(new rf(null,1<<(this.bb>>>a&31),[null,this])).Ta(a,b,c,d,e)};g.Jb=function(a,b,c,d){a=Cf(this.C,this.G,c);return 0>a?d:ff(c,this.C[a])?new Ae(this.C[a],this.C[a+1]):d};
g.Lb=function(a,b,c){a=Cf(this.C,this.G,c);return-1===a?this:1===this.G?null:new Df(null,this.bb,this.G-1,nf(this.C,td(a)))};g.Qa=function(){return new qf(this.C)};function xf(a){switch(arguments.length){case 6:return yf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return wf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}
function yf(a,b,c,d,e,f){var h=ec(b);if(h===d)return new Df(null,h,2,[b,c,e,f]);var k=new lf;return uf.Ta(a,h,b,c,k).Ta(a,d,e,f,k)}function wf(a,b,c,d,e,f,h){var k=ec(c);if(k===e)return new Df(null,k,2,[c,d,f,h]);var l=new lf;return uf.Ua(a,b,k,c,d,l).Ua(a,b,e,f,h,l)}function Ef(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.N=e;this.F=32374988;this.P=0}g=Ef.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return Ff?Ff(a,b,null):tf.call(null,a,b,null)}a=this.nodes;b=this.i;var c=O(this.s);return Ff?Ff(a,b,c):tf.call(null,a,b,c)};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return null==this.s?new Ae(this.nodes[this.i],this.nodes[this.i+1]):N(this.s)};
g.xa=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return Ff?Ff(c,d,null):tf.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=O(a.s);return Ff?Ff(c,d,e):tf.call(null,c,d,e)}();return null!=b?b:lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Ef(b,this.nodes,this.i,this.s,this.N)};g.oa=function(a,b){return U(b,this)};Ef.prototype[Da]=function(){return nc(this)};
function tf(a){switch(arguments.length){case 1:return sf(arguments[0]);case 3:return Ff(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function sf(a){return Ff(a,0,null)}function Ff(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Ef(null,a,b,null,null);var d=a[b+1];if(x(d)&&(d=d.Kb(),x(d)))return new Ef(null,a,b+2,d,null);b+=2}else return null;else return new Ef(null,a,b,c,null)}
function Gf(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.N=e;this.F=32374988;this.P=0}g=Gf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){var a=this.nodes,b=this.i,c=O(this.s);return Hf?Hf(a,b,c):Bf.call(null,a,b,c)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return N(this.s)};g.xa=function(){var a=this.nodes;var b=this.i,c=O(this.s);a=Hf?Hf(a,b,c):Bf.call(null,a,b,c);return null!=a?a:lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Gf(b,this.nodes,this.i,this.s,this.N)};g.oa=function(a,b){return U(b,this)};Gf.prototype[Da]=function(){return nc(this)};
function Bf(a){switch(arguments.length){case 1:return Af(arguments[0]);case 3:return Hf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function Af(a){return Hf(a,0,null)}function Hf(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(x(d)&&(d=d.Kb(),x(d)))return new Gf(null,a,b+1,d,null);b+=1}else return null;else return new Gf(null,a,b,c,null)}function If(a,b){this.ta=a;this.Lc=b;this.seen=!1}
If.prototype.pa=function(){return!this.seen||this.Lc.pa()};If.prototype.next=function(){if(this.seen)return this.Lc.next();this.seen=!0;return new Ae(null,this.ta)};If.prototype.remove=function(){return Error("Unsupported operation")};function Jf(a,b,c,d,e,f){this.meta=a;this.G=b;this.root=c;this.sa=d;this.ta=e;this.N=f;this.F=16123663;this.P=139268}g=Jf.prototype;g.tb=function(a,b){return null==b?this.sa?new Ae(null,this.ta):null:null==this.root?null:this.root.Jb(0,ec(b),b,null)};g.toString=function(){return Wb(this)};
g.keys=function(){return nc(af.j?af.j(this):af.call(null,this))};g.entries=function(){return new We(J(J(this)))};g.values=function(){return nc(bf.j?bf.j(this):bf.call(null,this))};g.has=function(a){return id(this,a)};g.get=function(a,b){return this.ca(null,a,b)};
g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return null==b?this.sa?this.ta:c:null==this.root?c:this.root.hb(0,ec(b),b,c)};
g.Db=function(a,b,c){a=this.sa?b.D?b.D(c,null,this.ta):b.call(null,c,null,this.ta):c;vc(a)?b=F(a):null!=this.root?(b=this.root.Mb(b,a),b=vc(b)?wc.j?wc.j(b):wc.call(null,b):b):b=a;return b};g.Qa=function(){var a=this.root?Ub(this.root):Ud();return this.sa?new If(this.ta,a):a};g.ha=function(){return this.meta};g.la=function(){return this.G};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=rc(this)};g.fa=function(a,b){return Ve(this,b)};g.sb=function(){return new Kf(this.root,this.G,this.sa,this.ta)};
g.ma=function(){return pb(ef,this.meta)};g.jc=function(a,b){if(null==b)return this.sa?new Jf(this.meta,this.G-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Lb(0,ec(b),b);return a===this.root?this:new Jf(this.meta,this.G-1,a,this.sa,this.ta,null)};
g.ab=function(a,b,c){if(null==b)return this.sa&&c===this.ta?this:new Jf(this.meta,this.sa?this.G:this.G+1,this.root,!0,c,null);a=new lf;b=(null==this.root?uf:this.root).Ta(0,ec(b),b,c,a);return b===this.root?this:new Jf(this.meta,a.R?this.G+1:this.G,b,this.sa,this.ta,null)};g.lb=function(a,b){return null==b?this.sa:null==this.root?!1:this.root.hb(0,ec(b),b,ed)!==ed};g.ja=function(){if(0<this.G){var a=null!=this.root?this.root.Kb():null;return this.sa?U(new Ae(null,this.ta),a):a}return null};
g.ka=function(a,b){return b===this.meta?this:new Jf(b,this.G,this.root,this.sa,this.ta,this.N)};g.oa=function(a,b){if(bd(b))return this.ab(null,Sa(b,0),Sa(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=N(b);if(bd(c))a=bb(a,Sa(c,0),Sa(c,1)),b=O(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};var ef=new Jf(null,0,null,!1,null,sc);Jf.prototype[Da]=function(){return nc(this)};
function Kf(a,b,c,d){this.da={};this.root=a;this.count=b;this.sa=c;this.ta=d;this.F=259;this.P=56}function Lf(a,b,c){if(a.da){if(null==b)a.ta!==c&&(a.ta=c),a.sa||(a.count+=1,a.sa=!0);else{var d=new lf;b=(null==a.root?uf:a.root).Ua(a.da,0,ec(b),b,c,d);b!==a.root&&(a.root=b);d.R&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=Kf.prototype;g.la=function(){if(this.da)return this.count;throw Error("count after persistent!");};
g.ya=function(a,b){return null==b?this.sa?this.ta:null:null==this.root?null:this.root.hb(0,ec(b),b)};g.ca=function(a,b,c){return null==b?this.sa?this.ta:c:null==this.root?c:this.root.hb(0,ec(b),b,c)};
g.yb=function(a,b){a:if(this.da)if(Ie(b))a=Lf(this,Je.j?Je.j(b):Je.call(null,b),Ke.j?Ke.j(b):Ke.call(null,b));else if(bd(b))a=Lf(this,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));else for(a=J(b),b=this;;){var c=N(a);if(x(c))a=O(a),b=Lf(b,Je.j?Je.j(c):Je.call(null,c),Ke.j?Ke.j(c):Ke.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.Hb=function(){if(this.da){this.da=null;var a=new Jf(null,this.count,this.root,this.sa,this.ta,null)}else throw Error("persistent! called twice");return a};g.xb=function(a,b,c){return Lf(this,b,c)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};
g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};function Mf(a,b){this.Y=a;this.Ya=b;this.F=32374988;this.P=0}g=Mf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null==a?null:new Mf(a,null)};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.Y.wa(null).key};g.xa=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null!=a?new Mf(a,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Mf(this.Y,b)};g.oa=function(a,b){return U(b,this)};Mf.prototype[Da]=function(){return nc(this)};
function af(a){return(a=J(a))?new Mf(a,null):null}function Je(a){return fb(a)}function Nf(a,b){this.Y=a;this.Ya=b;this.F=32374988;this.P=0}g=Nf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null==a?null:new Nf(a,null)};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.Y.wa(null).R};g.xa=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null!=a?new Nf(a,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Nf(this.Y,b)};g.oa=function(a,b){return U(b,this)};Nf.prototype[Da]=function(){return nc(this)};
function bf(a){return(a=J(a))?new Nf(a,null):null}function Ke(a){return gb(a)}var Of=function Of(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return Of.K(c)};Of.K=function(a){return x(Zd(a))?nd(function(b,c){return Jc.B(x(b)?b:Td,c)},a):null};Of.$=0;Of.ba=function(a){return this.K(J(a))};function Pf(a){for(var b=Td,c=J(Qf);;)if(c){var d=N(c),e=H.D(a,d,Rf);b=P.B(e,Rf)?b:W.D(b,d,e);c=O(c)}else return pb(b,Tc(a))}
function Sf(a){this.Ab=a}Sf.prototype.pa=function(){return this.Ab.pa()};Sf.prototype.next=function(){if(this.Ab.pa())return this.Ab.next().key;throw Error("No such element");};Sf.prototype.remove=function(){return Error("Unsupported operation")};function Tf(a,b,c){this.meta=a;this.cb=b;this.N=c;this.F=15077647;this.P=139268}g=Tf.prototype;g.toString=function(){return Wb(this)};g.keys=function(){return nc(J(this))};g.entries=function(){return new Xe(J(J(this)))};g.values=function(){return nc(J(this))};
g.has=function(a){return id(this,a)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){a=cb(this.cb,b);return x(a)?fb(a):c};g.Qa=function(){return new Sf(Ub(this.cb))};g.ha=function(){return this.meta};
g.la=function(){return Ma(this.cb)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=rc(this)};g.fa=function(a,b){if(a=Xc(b))if(a=R(this)===R(b))try{return od(function(c,d){return(c=id(b,d))?c:new uc},!0,this.cb)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};g.sb=function(){return new Uf(Hb(this.cb))};g.ma=function(){return pb(Vf,this.meta)};g.zc=function(a,b){return new Tf(this.meta,eb(this.cb,b),null)};g.ja=function(){return af(this.cb)};
g.ka=function(a,b){return b===this.meta?this:new Tf(b,this.cb,this.N)};g.oa=function(a,b){return new Tf(this.meta,W.D(this.cb,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};
var Vf=new Tf(null,Td,sc);Tf.prototype[Da]=function(){return nc(this)};function Uf(a){this.qb=a;this.P=136;this.F=259}g=Uf.prototype;g.yb=function(a,b){this.qb=Kb(this.qb,b,null);return this};g.Hb=function(){return new Tf(null,Jb(this.qb),null)};g.la=function(){return R(this.qb)};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return Ya(this.qb,b,ed)===ed?c:b};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return Ya(this.qb,a,ed)===ed?null:a};g.B=function(a,b){return Ya(this.qb,a,ed)===ed?b:a};
function Wf(a){if(Xc(a))return Sc(a,null);a=J(a);if(null==a)return Vf;if(a instanceof K&&0===a.i){a=a.C;for(var b=a.length,c=Hb(Vf),d=0;;)if(d<b)Ib(c,a[d]),d+=1;else break;return Jb(c)}for(c=Hb(Vf);;)if(null!=a)b=O(a),c=Ib(c,D(a)),a=b;else return Jb(c)}function X(a){if(null!=a&&(a.P&4096||u===a.xc))return a.Eb(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",B.j(a)].join(""));}
function Xf(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&P.B(a[0],b)?1===a.length?a[0]:He(a):null;throw new TypeError("re-matches must match against a string.");}
function Yf(a,b,c,d,e,f,h){var k=ua;ua=null==ua?null:ua-1;try{if(null!=ua&&0>ua)return G(a,"#");G(a,c);if(0===Aa.j(f))J(h)&&G(a,function(){var r=Zf.j(f);return x(r)?r:"..."}());else{if(J(h)){var l=N(h);b.D?b.D(l,a,f):b.call(null,l,a,f)}for(var m=O(h),n=Aa.j(f)-1;;)if(!m||null!=n&&0===n){J(m)&&0===n&&(G(a,d),G(a,function(){var r=Zf.j(f);return x(r)?r:"..."}()));break}else{G(a,d);var p=N(m);c=a;h=f;b.D?b.D(p,c,h):b.call(null,p,c,h);var q=O(m);c=n-1;m=q;n=c}}return G(a,e)}finally{ua=k}}
function $f(a,b){b=J(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e);G(a,f);e+=1}else if(b=J(b))c=b,cd(c)?(b=Mb(c),d=Nb(c),c=b,f=R(b),b=d,d=f):(f=N(c),G(a,f),b=O(c),c=null,d=0),e=0;else return null}var ag={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function bg(a){return['"',B.j(a.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(b){return ag[b]})),'"'].join("")}
function cg(a,b){return(a=fd(H.B(a,ya)))?(a=null!=b?b.F&131072||u===b.Zc?!0:!1:!1)?null!=Tc(b):a:a}
function dg(a,b,c){if(null==a)return G(b,"nil");if(cg(c,a)){G(b,"^");var d=Tc(a);eg.D?eg.D(d,b,c):eg.call(null,d,b,c);G(b," ")}if(a.Ib)return a.Ub(b);if(null!=a?a.F&2147483648||u===a.na||(a.F?0:y(Cb,a)):y(Cb,a))return Db(a,b,c);if(!0===a||!1===a)return G(b,B.j(a));if("number"===typeof a)return G(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":B.j(a));if(null!=a&&a.constructor===Object)return G(b,"#js "),d=de.B(function(f){return new Ae(null!=Xf(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?yd.j(f):f,a[f])},ha(a)),fg.T?fg.T(d,eg,b,c):fg.call(null,d,eg,b,c);if(Ba(a))return Yf(b,eg,"#js ["," ","]",c,a);if("string"===typeof a)return x(xa.j(c))?G(b,bg(a)):G(b,a);if("function"===typeof a){var e=a.name;c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Function":e;return $f(b,Ic(["#object[",c,x(!1)?[' "',B.j(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=B.j(f);;)if(f.length<h)f=["0",f].join("");else return f},$f(b,Ic(['#inst "',c(a.getUTCFullYear(),
4),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return $f(b,Ic(['#"',a.source,'"']));if(Ia(a))return $f(b,Ic(["#object[",a.toString(),"]"]));if(x(function(){var f=null==a?null:a.constructor;return null==f?null:f.nb}()))return $f(b,Ic(["#object[",a.constructor.nb.replace(RegExp("/","g"),"."),"]"]));e=function(){var f=null==a?null:a.constructor;
return null==f?null:f.name}();c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Object":e;return null==a.constructor?$f(b,Ic(["#object[",c,"]"])):$f(b,Ic(["#object[",c," ",B.j(a),"]"]))}function eg(a,b,c){var d=gg.j(c);return x(d)?(c=W.D(c,hg,dg),d.D?d.D(a,b,c):d.call(null,a,b,c)):dg(a,b,c)}
function ig(a){var b=va();if(Vc(a))b="";else{var c=B,d=c.j,e=new pa,f=new Vb(e);eg(N(a),f,b);a=J(O(a));for(var h=null,k=0,l=0;;)if(l<k){var m=h.ea(null,l);G(f," ");eg(m,f,b);l+=1}else if(a=J(a))h=a,cd(h)?(a=Mb(h),k=Nb(h),h=a,m=R(a),a=k,k=m):(m=N(h),G(f," "),eg(m,f,b),a=O(h),h=null,k=0),l=0;else break;b=d.call(c,e)}return b}function jg(a){return a instanceof gc?hc.B(null,X(a)):yd.B(null,X(a))}
function kg(a){if(x(!1)){var b=J(a),c=J(b),d=N(c);O(c);V(d,0,null);V(d,1,null);c=null==a?null:null!=a&&(a.F&4||u===a.Sc)?a.ma(null):(null!=a?a.F&4||u===a.Sc||(a.F?0:y(Na,a)):y(Na,a))?Oa(a):null;for(a=null;;){d=a;b=J(b);a=N(b);var e=O(b),f=a;a=V(f,0,null);b=V(f,1,null);if(x(f))if(a instanceof I||a instanceof gc)if(x(d))if(P.B(d,xd(a)))c=W.D(c,jg(a),b),a=d,b=e;else return null;else if(d=xd(a),x(d))c=W.D(c,jg(a),b),a=d,b=e;else return null;else return null;else return new Y(null,2,5,Z,[d,c],null)}}else return null}
function lg(a,b,c,d,e){return Yf(d,function(f,h,k){var l=fb(f);c.D?c.D(l,h,k):c.call(null,l,h,k);G(h," ");f=gb(f);return c.D?c.D(f,h,k):c.call(null,f,h,k)},[B.j(a),"{"].join(""),", ","}",e,J(b))}function fg(a,b,c,d){var e=$c(a)?kg(a):null,f=V(e,0,null);e=V(e,1,null);return x(f)?lg(["#:",B.j(f)].join(""),e,b,c,d):lg(null,a,b,c,d)}K.prototype.na=u;K.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};zd.prototype.na=u;zd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};
Ae.prototype.na=u;Ae.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};Ef.prototype.na=u;Ef.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Ze.prototype.na=u;Ze.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};oc.prototype.na=u;oc.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Me.prototype.na=u;Me.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};wd.prototype.na=u;
wd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Jf.prototype.na=u;Jf.prototype.ia=function(a,b,c){return fg(this,eg,b,c)};Gf.prototype.na=u;Gf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Oe.prototype.na=u;Oe.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};Tf.prototype.na=u;Tf.prototype.ia=function(a,b,c){return Yf(b,eg,"#{"," ","}",c,this)};Dd.prototype.na=u;Dd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};
ae.prototype.na=u;ae.prototype.ia=function(a,b,c){G(b,"#object[cljs.core.Atom ");eg(new v(null,1,[mg,this.state],null),b,c);return G(b,"]")};Nf.prototype.na=u;Nf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};he.prototype.na=u;he.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Y.prototype.na=u;Y.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};vd.prototype.na=u;vd.prototype.ia=function(a,b){return G(b,"()")};v.prototype.na=u;
v.prototype.ia=function(a,b,c){return fg(this,eg,b,c)};Mf.prototype.na=u;Mf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Lc.prototype.na=u;Lc.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};var ng=null;function og(a){null==ng&&(ng=new ae(0));return hc.j([B.j(a),B.j(ce.B(ng,tc))].join(""))}function pg(){}
function qg(a){if(null!=a&&null!=a.Uc)a=a.Uc(a);else{var b=qg[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=qg._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEncodeJS.-clj-\x3ejs",a);}return a}function rg(a,b){return(null!=a?u===a.Tc||(a.Bc?0:y(pg,a)):y(pg,a))?qg(a):"string"===typeof a||"number"===typeof a||a instanceof I||a instanceof gc?b.j?b.j(a):b.call(null,a):ig(Ic([a]))}
var sg=function sg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new K(c.slice(1),0,null):null;return sg.K(arguments[0],c)};
sg.K=function(a,b){b=Sd(b);var c=H.D(b,tg,X),d=function h(f){if(null==f)return null;if(null!=f?u===f.Tc||(f.Bc?0:y(pg,f)):y(pg,f))return qg(f);if(f instanceof I)return c.j?c.j(f):c.call(null,f);if(f instanceof gc)return B.j(f);if($c(f)){var k={};f=J(f);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ea(null,n),q=V(p,0,null);p=V(p,1,null);q=rg(q,d);p=h(p);k[q]=p;n+=1}else if(f=J(f))cd(f)?(m=Mb(f),f=Nb(f),l=m,m=R(m)):(m=N(f),l=V(m,0,null),m=V(m,1,null),l=rg(l,d),m=h(m),k[l]=m,f=O(f),l=null,m=0),n=0;else break;
return k}if(Wc(f)){k=[];f=J(de.B(h,f));l=null;for(n=m=0;;)if(n<m)q=l.ea(null,n),k.push(q),n+=1;else if(f=J(f))l=f,cd(l)?(f=Mb(l),n=Nb(l),l=f,m=R(f),f=n):(f=N(l),k.push(f),f=O(l),l=null,m=0),n=0;else break;return k}return f};return d(a)};sg.$=1;sg.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};var ug=null;function vg(){null==ug&&(ug=new ae(new v(null,3,[wg,Td,xg,Td,yg,Td],null)));return ug}
function zg(a,b,c){var d=P.B(b,c);if(d)return d;d=yg.j(a);d=d.j?d.j(b):d.call(null,b);if(!(d=id(d,c))&&(d=bd(c)))if(d=bd(b))if(d=R(c)===R(b)){d=!0;for(var e=0;;)if(d&&e!==R(c))d=zg(a,b.j?b.j(e):b.call(null,e),c.j?c.j(e):c.call(null,e)),e+=1;else return d}else return d;else return d;else return d}function Ag(a){var b=F(vg());a=H.B(wg.j(b),a);return J(a)?a:null}function Bg(a,b,c,d){ce.B(a,function(){return F(b)});ce.B(c,function(){return F(d)})}
var Cg=function Cg(a,b,c){var e=function(){var f=F(c);return f.j?f.j(a):f.call(null,a)}();e=x(x(e)?e.j?e.j(b):e.call(null,b):e)?!0:null;if(x(e))return e;e=function(){for(var f=Ag(b);;)if(0<R(f)){var h=N(f);Cg.D?Cg.D(a,h,c):Cg.call(null,a,h,c);f=kc(f)}else return null}();if(x(e))return e;e=function(){for(var f=Ag(a);;)if(0<R(f)){var h=N(f);Cg.D?Cg.D(h,b,c):Cg.call(null,h,b,c);f=kc(f)}else return null}();return x(e)?e:!1};function Dg(a,b,c,d){c=Cg(a,b,c);return x(c)?c:zg(d,a,b)}
var Eg=function Eg(a,b,c,d,e,f,h,k){var m=Ga(function(p,q){var r=V(q,0,null);V(q,1,null);if(zg(F(c),b,r)){p=null==p||Dg(r,N(p),e,F(c))?q:p;if(!Dg(N(p),r,e,F(c)))throw Error(["Multiple methods in multimethod '",B.j(a),"' match dispatch value: ",B.j(b)," -\x3e ",B.j(r)," and ",B.j(N(p)),", and neither is preferred"].join(""));return p}return p},null,F(d)),n=function(){var p;if(p=null==m)p=F(d),p=p.j?p.j(k):p.call(null,k);return x(p)?new Y(null,2,5,Z,[k,p],null):m}();if(x(n)){if(P.B(F(h),F(c)))return ce.T(f,
W,b,N(O(n))),N(O(n));Bg(f,d,h,c);return Eg.za?Eg.za(a,b,c,d,e,f,h,k):Eg.call(null,a,b,c,d,e,f,h,k)}return null};function Fg(a,b){throw Error(["No method in multimethod '",B.j(a),"' for dispatch value: ",B.j(b)].join(""));}function Gg(a,b,c,d,e,f,h){var k=Hg;this.name=a;this.J=b;this.fd=k;this.Xb=c;this.Zb=d;this.md=e;this.Yb=f;this.Qb=h;this.F=4194305;this.P=4352}g=Gg.prototype;
g.call=function(a){switch(arguments.length-1){case 0:return this.O();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.T(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Oa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ia(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ka(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.ic(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.O=function(){var a=this.J.O?this.J.O():this.J.call(null),b=Ig(this,a);x(b)||Fg(this.name,a);return b.O?b.O():b.call(null)};g.j=function(a){var b=this.J.j?this.J.j(a):this.J.call(null,a),c=Ig(this,b);x(c)||Fg(this.name,b);return c.j?c.j(a):c.call(null,a)};
g.B=function(a,b){var c=this.J.B?this.J.B(a,b):this.J.call(null,a,b),d=Ig(this,c);x(d)||Fg(this.name,c);return d.B?d.B(a,b):d.call(null,a,b)};g.D=function(a,b,c){var d=this.J.D?this.J.D(a,b,c):this.J.call(null,a,b,c),e=Ig(this,d);x(e)||Fg(this.name,d);return e.D?e.D(a,b,c):e.call(null,a,b,c)};g.T=function(a,b,c,d){var e=this.J.T?this.J.T(a,b,c,d):this.J.call(null,a,b,c,d),f=Ig(this,e);x(f)||Fg(this.name,e);return f.T?f.T(a,b,c,d):f.call(null,a,b,c,d)};
g.aa=function(a,b,c,d,e){var f=this.J.aa?this.J.aa(a,b,c,d,e):this.J.call(null,a,b,c,d,e),h=Ig(this,f);x(h)||Fg(this.name,f);return h.aa?h.aa(a,b,c,d,e):h.call(null,a,b,c,d,e)};g.Na=function(a,b,c,d,e,f){var h=this.J.Na?this.J.Na(a,b,c,d,e,f):this.J.call(null,a,b,c,d,e,f),k=Ig(this,h);x(k)||Fg(this.name,h);return k.Na?k.Na(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
g.Oa=function(a,b,c,d,e,f,h){var k=this.J.Oa?this.J.Oa(a,b,c,d,e,f,h):this.J.call(null,a,b,c,d,e,f,h),l=Ig(this,k);x(l)||Fg(this.name,k);return l.Oa?l.Oa(a,b,c,d,e,f,h):l.call(null,a,b,c,d,e,f,h)};g.za=function(a,b,c,d,e,f,h,k){var l=this.J.za?this.J.za(a,b,c,d,e,f,h,k):this.J.call(null,a,b,c,d,e,f,h,k),m=Ig(this,l);x(m)||Fg(this.name,l);return m.za?m.za(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};
g.Pa=function(a,b,c,d,e,f,h,k,l){var m=this.J.Pa?this.J.Pa(a,b,c,d,e,f,h,k,l):this.J.call(null,a,b,c,d,e,f,h,k,l),n=Ig(this,m);x(n)||Fg(this.name,m);return n.Pa?n.Pa(a,b,c,d,e,f,h,k,l):n.call(null,a,b,c,d,e,f,h,k,l)};g.Ca=function(a,b,c,d,e,f,h,k,l,m){var n=this.J.Ca?this.J.Ca(a,b,c,d,e,f,h,k,l,m):this.J.call(null,a,b,c,d,e,f,h,k,l,m),p=Ig(this,n);x(p)||Fg(this.name,n);return p.Ca?p.Ca(a,b,c,d,e,f,h,k,l,m):p.call(null,a,b,c,d,e,f,h,k,l,m)};
g.Da=function(a,b,c,d,e,f,h,k,l,m,n){var p=this.J.Da?this.J.Da(a,b,c,d,e,f,h,k,l,m,n):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n),q=Ig(this,p);x(q)||Fg(this.name,p);return q.Da?q.Da(a,b,c,d,e,f,h,k,l,m,n):q.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Ea=function(a,b,c,d,e,f,h,k,l,m,n,p){var q=this.J.Ea?this.J.Ea(a,b,c,d,e,f,h,k,l,m,n,p):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p),r=Ig(this,q);x(r)||Fg(this.name,q);return r.Ea?r.Ea(a,b,c,d,e,f,h,k,l,m,n,p):r.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.Fa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){var r=this.J.Fa?this.J.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q),w=Ig(this,r);x(w)||Fg(this.name,r);return w.Fa?w.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):w.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};
g.Ga=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){var w=this.J.Ga?this.J.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r),z=Ig(this,w);x(z)||Fg(this.name,w);return z.Ga?z.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):z.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};
g.Ha=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w){var z=this.J.Ha?this.J.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w),C=Ig(this,z);x(C)||Fg(this.name,z);return C.Ha?C.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):C.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w)};
g.Ia=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z){var C=this.J.Ia?this.J.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z),E=Ig(this,C);x(E)||Fg(this.name,C);return E.Ia?E.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):E.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z)};
g.Ja=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C){var E=this.J.Ja?this.J.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C),M=Ig(this,E);x(M)||Fg(this.name,E);return M.Ja?M.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):M.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C)};
g.Ka=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E){var M=this.J.Ka?this.J.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E),T=Ig(this,M);x(T)||Fg(this.name,M);return T.Ka?T.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):T.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E)};
g.La=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M){var T=this.J.La?this.J.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M),da=Ig(this,T);x(da)||Fg(this.name,T);return da.La?da.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):da.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M)};
g.Ma=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T){var da=this.J.Ma?this.J.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T),qa=Ig(this,da);x(qa)||Fg(this.name,da);return qa.Ma?qa.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):qa.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T)};
g.ic=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da){var qa=Rd(this.J,a,b,c,d,Ic([e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da])),Zc=Ig(this,qa);x(Zc)||Fg(this.name,qa);return Rd(Zc,a,b,c,d,Ic([e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da]))};function Jg(a,b){var c=Kg;ce.T(c.Zb,W,a,b);Bg(c.Yb,c.Zb,c.Qb,c.Xb)}function Ig(a,b){P.B(F(a.Qb),F(a.Xb))||Bg(a.Yb,a.Zb,a.Qb,a.Xb);var c=F(a.Yb);c=c.j?c.j(b):c.call(null,b);return x(c)?c:Eg(a.name,b,a.Xb,a.Zb,a.md,a.Yb,a.Qb,a.fd)}g.Eb=function(){return Ob(this.name)};g.Fb=function(){return Pb(this.name)};
g.ga=function(){return ba(this)};var Lg=new I(null,"button.button.is-primary","button.button.is-primary",-883309392),Mg=new I("skier","leaves-lift","skier/leaves-lift",-1306134627),Ng=new I(null,"div.buttons.is-centered","div.buttons.is-centered",1442792514),mg=new I(null,"val","val",128701612),Og=new I(null,"render","render",-1408033454),Pg=new I(null,"mu","mu",1146469241),Qg=new I(null,"fold","fold",-887461332),Rg=new I(null,"auto-run","auto-run",1958400437),ya=new I(null,"meta","meta",1499536964),Sg=new I(null,"displayName","displayName",
-809144601),Tg=new I(null,"on-dispose","on-dispose",2105306360),Ug=new I(null,"data","data",-232669377),Vg=new I(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),Wg=new I(null,"sigma","sigma",-63715703),Xg=new I(null,"spec","spec",347520401),Yg=new I(null,"constructor","constructor",-1953928811),Zg=new I(null,"div.column","div.column",-1380853326),$g=new I(null,"actions","actions",-812656882),ah=new I(null,"childContextTypes","childContextTypes",578717991),bh=new I(null,"transform",
"transform",1381301764),ch=new I(null,"field","field",-1302436500),dh=new I(null,"\x3e","\x3e",-555517146),xg=new I(null,"descendants","descendants",1824886031),eh=new I(null,"running","running",1554969103),fh=new I(null,"class","class",-2030961996),gh=new I(null,"description","description",-1428560544),hh=new I(null,"title","title",636505583),ih=new I(null,"on-click","on-click",1632826543),jh=new I(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),kh=new I(null,"color","color",1011675173),
lh=new I(null,"stack","stack",-793405930),mh=new I(null,"as","as",1148689641),nh=new I(null,"reagentRender","reagentRender",-358306383),oh=new I(null,"name","name",1843675177),ph=new I(null,"getInitialState","getInitialState",1541760916),gg=new I(null,"alt-impl","alt-impl",670969595),qh=new I(null,"on-set","on-set",-140953470),Rf=new I("cljs.core","not-found","cljs.core/not-found",-1572889185),Hg=new I(null,"default","default",-1987822328),rh=new I("skier","joins-queue","skier/joins-queue",-1286647213),
sh=new I(null,"no-cache","no-cache",1588056370),th=new I(null,"\x3c\x3e","\x3c\x3e",1280186386),uh=new I(null,"div.columns","div.columns",-437221213),za=new I(null,"dup","dup",556298533),Aa=new I(null,"print-length","print-length",1931866356),wa=new I(null,"flush-on-newline","flush-on-newline",-151457939),vh=new I("lift","leaves","lift/leaves",-2138482165),wh=new I(null,"component-did-update","component-did-update",-1468549173),xh=new I("sim","end-time","sim/end-time",-1849965709),yh=new I(null,"reagent-render",
"reagent-render",-985383853),zh=new I(null,"encoding","encoding",1728578272),Ah=new I(null,"function-components","function-components",1492814963),Bh=new I(null,"hierarchy","hierarchy",-1053470341),Ch=new I(null,"on-write","on-write",31519475),Dh=new I("skiers","skiing","skiers/skiing",-957605270),Eh=new I(null,"key","key",-1516042587),Fh=new I(null,"zero","zero",-858964576),Gh=new I("lift","ride-time","lift/ride-time",78775400),Hh=new I(null,"y","y",-1757859776),Ih=new I(null,"x","x",2099068185),
Jh=new I(null,"t","t",-1397832519),Kh=new I(null,"componentWillUnmount","componentWillUnmount",1573788814),Lh=new I(null,"scale","scale",-230427353),Mh=new I(null,"contextType","contextType",1033066077),Nh=new I("skiers","waiting","skiers/waiting",1070582748),Oh=new I(null,"mark","mark",-373816345),Ph=new I(null,"event","event",301435442),wg=new I(null,"parents","parents",-2027538891),Qh=new I(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),Rh=new I(null,"validator","validator",
-1966190681),hg=new I(null,"fallback-impl","fallback-impl",-1501286995),Sh=new I(null,"display-name","display-name",694513143),Th=new I(null,"button.button.is-danger","button.button.is-danger",-948547713),Uh=new I("slope","length","slope/length",1017254753),Vh=new I(null,"section.section","section.section",-416807119),xa=new I(null,"readably","readably",1129599760),Wh=new I(null,"contextTypes","contextTypes",-2023853910),tg=new I(null,"keyword-fn","keyword-fn",-64566675),Xh=new I(null,"shouldComponentUpdate",
"shouldComponentUpdate",1795750960),Yh=new I(null,"unit","unit",375175175),Zh=new I(null,"id","id",-1388402092),$h=new I(null,"$schema","$schema",1635092088),ai=new I(null,"component-will-unmount","component-will-unmount",-2058314698),bi=new I("lift","chair-width","lift/chair-width",1126373462),ci=new I(null,"results","results",-1134170113),di=new I(null,"className","className",-1983287057),ei=new I(null,"h1.title","h1.title",-2139952071),fi=new I("lift","chair-period","lift/chair-period",169813739),
gi=new I(null,"events","events",1792552201),hi=new I("skiers","riding-lift","skiers/riding-lift",1574761189),ii=new I(null,"parse-tag","parse-tag",1427313738),ji=new I(null,"type","type",1174270348),ki=new I("skiers","speed","skiers/speed",88597428),yg=new I(null,"ancestors","ancestors",-776045424),Zf=new I(null,"more-marker","more-marker",-14717935);var li={},mi;function ni(){return oa("iPhone")&&!oa("iPod")&&!oa("iPad")};oa("Opera");oa("Trident")||oa("MSIE");oa("Edge");!oa("Gecko")||-1!=na.toLowerCase().indexOf("webkit")&&!oa("Edge")||oa("Trident")||oa("MSIE")||oa("Edge");-1!=na.toLowerCase().indexOf("webkit")&&!oa("Edge")&&oa("Mobile");oa("Macintosh");oa("Windows");oa("Linux")||oa("CrOS");var oi=aa.navigator||null;oi&&(oi.appVersion||"").indexOf("X11");oa("Android");ni();oa("iPad");oa("iPod");ni()||oa("iPad")||oa("iPod");na.toLowerCase().indexOf("kaios");(function(a){if("undefined"===typeof ra||"undefined"===typeof sa||"undefined"===typeof li||"undefined"===typeof mi)mi=function(b,c,d){this.f=b;this.Nc=c;this.hd=d;this.F=393216;this.P=0},mi.prototype.ka=function(b,c){return new mi(this.f,this.Nc,c)},mi.prototype.ha=function(){return this.hd},mi.Ib=!0,mi.nb="cljs.core.async/t_cljs$core$async23090",mi.Ub=function(b){return G(b,"cljs.core.async/t_cljs$core$async23090")};return new mi(a,!0,Td)})(function(){return null});var pi={},qi={},ri=[];function si(a,b){var c=qi[a];if(void 0!==c)return c;try{ri.push(a);var d=pi[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};pi[a]=d}if(e){delete shadow$provide[a];try{e.call(d,aa,si,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{ri.pop()}return d.exports}si.cache={};si.resolve=function(a){return a};var ti=si(2,{});function ui(a,b,c){var d=RegExp,e=b.source,f=x(b.ignoreCase)?"gi":"g";f=x(b.multiline)?[f,"m"].join(""):f;b=x(b.unicode)?[f,"u"].join(""):f;return a.replace(new d(e,b),c)}
function vi(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){d=ge(d);if(P.B(R(d),1))return d=N(d),a.j?a.j(d):a.call(null,d);d=He(d);return a.j?a.j(d):a.call(null,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}()}
function wi(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?ui(a,b,c):ui(a,b,vi(c));throw["Invalid match arg: ",B.j(b)].join("");}function xi(a){var b=new pa;for(a=J(a);;)if(null!=a)b.append(B.j(N(a))),a=O(a),null!=a&&b.append(" ");else return b.toString()}
function yi(a){var b=/-/;a="/(?:)/"===B.j(b)?Jc.B(He(U("",de.B(B,J(a)))),""):He(B.j(a).split(b));if(1<R(a))a:for(;;)if(""===(null==a?null:jb(a)))a=null==a?null:kb(a);else break a;return a};var zi={};var Ai={},Bi="undefined"!==typeof window&&null!=window.document,Ci=new Tf(null,new v(null,2,["aria",null,"data",null],null),null);function Di(a){return 2>R(a)?a.toUpperCase():[a.substring(0,1).toUpperCase(),a.substring(1)].join("")}function Ei(a){if("string"===typeof a)return a;a=X(a);var b=yi(a),c=J(b);b=N(c);c=O(c);return x(Ci.j?Ci.j(b):Ci.call(null,b))?a:Pd(B,b,de.B(Di,c))}
function Fi(a){var b=function(){var c=function(){var d=Pc(a);if(d){d=a.displayName;if(x(d))return d;d=a.name;return"string"===typeof d&&J(d)?d:null}return d}();if(x(c))return c;c=function(){var d=null!=a?a.P&4096||u===a.xc?!0:!1:!1;return d?X(a):d}();if(x(c))return c;c=Tc(a);return $c(c)?oh.j(c):null}();return x(b)?wi(B.j(b),"$","."):null}function Gi(a){return a instanceof I||a instanceof gc}
var Hi=function Hi(a){switch(arguments.length){case 0:return Hi.O();case 1:return Hi.j(arguments[0]);case 2:return Hi.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Hi.K(arguments[0],arguments[1],c)}};Hi.O=function(){return null};Hi.j=function(a){return Wc(a)?(a=$d(function(b){return x(b)?Gi(b)?X(b):b:null},a),J(a)?xi(a):null):Gi(a)?X(a):a};
Hi.B=function(a,b){return x(a)?x(b)?[B.j(Hi.j(a))," ",B.j(Hi.j(b))].join(""):Hi.j(a):Hi.j(b)};Hi.K=function(a,b,c){return Ga(Hi,Hi.B(a,b),c)};Hi.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Hi.$=2;var Ii=!1;function Ji(a){if($c(a))try{var b=H.B(a,Eh)}catch(c){b=null}else b=null;return b}
function Ki(a){var b=Eh.j(Tc(a));if(null!=b)return b;b=V(a,0,null);switch(b instanceof I?b.Ra:null){case "\x3e":case "f\x3e":return Ji(V(a,2,null));case "r\x3e":return a=V(a,2,null),null==a?null:a.key;default:return Ji(V(a,1,null))}};var Li=0;function Mi(a){return setTimeout(a,16)}var Ni=Bi?function(){var a=window;return function(){var b=a.requestAnimationFrame;if(x(b))return b;b=a.webkitRequestAnimationFrame;if(x(b))return b;b=a.mozRequestAnimationFrame;if(x(b))return b;b=a.msRequestAnimationFrame;return x(b)?b:Mi}().bind(a)}():Mi;function Oi(a,b){return a.qc-b.qc}function Pi(){return null}function Qi(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.O?d.O():d.call(null);c+=1}else return null}
function Ri(a,b,c){b.push(c);return a.schedule()}function Si(){this.ac=!1}g=Si.prototype;g.flush_after_render=function(){var a=this.Ob;if(null==a)return null;this.Ob=null;return Qi(a)};g.queue_render=function(a){null==this.Wb&&(this.Wb=[]);return Ri(this,this.Wb,a)};g.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.ac)return null;this.ac=!0;return Ni.j?Ni.j(a):Ni.call(null,a)};g.flush_before_flush=function(){var a=this.Pb;if(null==a)return null;this.Pb=null;return Qi(a)};
g.flush_queues=function(){this.flush_before_flush();Pi();this.flush_render();return this.flush_after_render()};g.run_queues=function(){this.ac=!1;return this.flush_queues()};g.add_before_flush=function(a){null==this.Pb&&(this.Pb=[]);return Ri(this,this.Pb,a)};g.add_after_render=function(a){null==this.Ob&&(this.Ob=[]);return Ri(this,this.Ob,a)};
g.flush_render=function(){var a=this.Wb;if(null==a)return null;this.Wb=null;a:{a.sort(Oi);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var Ti=new Si;function Ui(a){if(x(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return Ti.queue_render(a)};function Vi(a){if(null!=a&&null!=a.nd)a=a.id;else{var b=Vi[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Vi._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("Compiler.get-id",a);}return a}function Wi(a,b,c){if(null!=a&&null!=a.Jc)a=a.Jc(a,b,c);else{var d=Wi[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Wi._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("Compiler.parse-tag",a);}return a}
function Xi(a,b){if(null!=a&&null!=a.Hc)a=a.Hc(a,b);else{var c=Xi[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Xi._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("Compiler.as-element",a);}return a}
function Yi(a,b,c,d,e){if(null!=a&&null!=a.Ic)a=a.Ic(a,b,c,d,e);else{var f=Yi[t(null==a?null:a)];if(null!=f)a=f.aa?f.aa(a,b,c,d,e):f.call(null,a,b,c,d,e);else if(f=Yi._,null!=f)a=f.aa?f.aa(a,b,c,d,e):f.call(null,a,b,c,d,e);else throw A("Compiler.make-element",a);}return a};var Zi=function Zi(a){switch(arguments.length){case 1:return Zi.j(arguments[0]);case 2:return Zi.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Zi.K(arguments[0],arguments[1],c)}};Zi.j=function(a){return a};Zi.B=function(a,b){return R(a)<R(b)?Ga(function(c,d){return id(b,d)?Uc.B(c,d):c},a,a):Ga(Uc,a,b)};Zi.K=function(a,b,c){return Ga(Zi,a,Jc.B(c,b))};
Zi.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Zi.$=2;var $i;function aj(a,b){b.dc=null;a:{var c=$i;$i=b;try{var d=a.O?a.O():a.call(null);break a}finally{$i=c}d=void 0}a=b.dc;b.gb=!1;a:{c=b.rb;var e=null==a?0:a.length,f=e===(null==c?0:c.length);if(f)for(f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=f}c||b._update_watching(a);return d}function bj(a){var b=$i;if(null!=b){var c=b.dc;null==c?b.dc=[a]:c.push(a)}}function cj(a,b,c){a.ua=W.D(a.ua,b,c);return a.tc=null}
function dj(a,b){a.ua=Oc.B(a.ua,b);return a.tc=null}function ej(a,b,c){var d=a.tc;d=null==d?a.tc=od(function(l,m,n){l.push(m);l.push(n);return l},[],a.ua):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.T?k.T(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function fj(a,b,c,d){G(a,["#object[reagent.ratom.",B.j(c)," "].join(""));a:{c=$i;$i=null;try{var e=d;break a}finally{$i=c}e=void 0}eg(e,a,b);return G(a,"]")}var gj=null;
function hj(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.ua=d;this.F=2154201088;this.P=114690}g=hj.prototype;g.ia=function(a,b,c){return fj(b,c,"RAtom",new v(null,1,[mg,this.fb(null)],null))};g.ha=function(){return this.meta};g.ga=function(){return ba(this)};g.fa=function(a,b){return this===b};g.Sa=function(a,b){a=this.state;this.state=b;null!=this.ua&&ej(this,a,b);return b};g.kc=function(a,b){return this.Sa(null,b.j?b.j(this.state):b.call(null,this.state))};
g.lc=function(a,b,c){return this.Sa(null,b.B?b.B(this.state,c):b.call(null,this.state,c))};g.mc=function(a,b,c,d){return this.Sa(null,b.D?b.D(this.state,c,d):b.call(null,this.state,c,d))};g.nc=function(a,b,c,d,e){return this.Sa(null,Qd(b,this.state,c,d,e))};g.oc=function(a,b){ej(this,a,b)};g.Sb=function(a,b,c){return cj(this,b,c)};g.Tb=function(a,b){return dj(this,b)};g.ka=function(a,b){return new hj(this.state,b,this.validator,this.ua)};g.fb=function(){bj(this);return this.state};
var ij=function ij(a){switch(arguments.length){case 1:return ij.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(1),0,null);return ij.K(arguments[0],c)}};ij.j=function(a){return new hj(a,null,null,null)};ij.K=function(a,b){var c=Sd(b);b=H.B(c,ya);c=H.B(c,Rh);return new hj(a,b,c,null)};ij.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};ij.$=1;
function jj(a){if(null!=a&&null!=a.sc)a=a.sc(a);else{var b=jj[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=jj._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IDisposable.dispose!",a);}return a}function Fb(a,b,c,d){return a._handle_change(b,c,d)}function kj(a){this.f=a;this.state=null;this.gb=!0;this.Fc=!1;this.ec=this.Za=this.ua=this.rb=null;this.F=2153807872;this.P=114690}g=kj.prototype;g._peek_at=function(){var a=$i;$i=null;try{return this.fb(null)}finally{$i=a}};
g._handle_change=function(a,b,c){return b===c||this.gb?null:null==this.Za?(this.gb=!0,null==gj&&(gj=[],!1===Ti.ac&&Ti.schedule()),gj.push(this)):!0===this.Za?this._run(!1):this.Za.j?this.Za.j(this):this.Za.call(null,this)};
g._update_watching=function(a){var b=Wf(a),c=Wf(this.rb);this.rb=a;a=J(Zi.B(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.ea(null,f);Eb(h,this);f+=1}else if(a=J(a))d=a,cd(d)?(a=Mb(d),f=Nb(d),d=a,e=R(a),a=f):(a=N(d),Eb(a,this),a=O(d),d=null,e=0),f=0;else break;b=J(Zi.B(c,b));c=null;for(e=d=0;;)if(e<d)a=c.ea(null,e),Gb(a,this),e+=1;else if(b=J(b))c=b,cd(c)?(b=Mb(c),d=Nb(c),c=b,a=R(b),b=d,d=a):(a=N(c),Gb(a,this),b=O(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.gb&&null!=this.rb?this._run(!0):null};g._try_capture=function(a){try{return this.ec=null,aj(a,this)}catch(b){return this.ec=this.state=a=b,this.gb=!1}};g._run=function(a){var b=this.state;a=x(a)?this._try_capture(this.f):aj(this.f,this);this.Fc||(this.state=a,null==this.ua||P.B(b,a)||ej(this,b,a));return a};
g._set_opts=function(a){var b=Sd(a);a=H.B(b,Rg);var c=H.B(b,qh),d=H.B(b,Tg);b=H.B(b,sh);null!=a&&(this.Za=a);null!=c&&(this.kd=c);null!=d&&(this.Gc=d);return null!=b?this.Fc=b:null};g.ia=function(a,b,c){return fj(b,c,"Reaction",new v(null,1,[mg,this.fb(null)],null))};g.ga=function(){return ba(this)};g.fa=function(a,b){return this===b};
g.sc=function(){var a=this.state,b=this.rb;this.Za=this.state=this.rb=null;this.gb=!0;b=J(Wf(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e);Gb(f,this);e+=1}else if(b=J(b))c=b,cd(c)?(b=Mb(c),e=Nb(c),c=b,d=R(b),b=e):(b=N(c),Gb(b,this),b=O(c),c=null,d=0),e=0;else break;null!=this.Gc&&this.Gc(a);a=this.Cd;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.j?d.j(this):d.call(null,this),c+=1;else return null};g.Sa=function(a,b){a=this.state;this.state=b;this.kd(a,b);ej(this,a,b);return b};
g.kc=function(a,b){a=this.Sa;var c=this._peek_at();b=b.j?b.j(c):b.call(null,c);return a.call(this,null,b)};g.lc=function(a,b,c){a=this.Sa;var d=this._peek_at();b=b.B?b.B(d,c):b.call(null,d,c);return a.call(this,null,b)};g.mc=function(a,b,c,d){a=this.Sa;var e=this._peek_at();b=b.D?b.D(e,c,d):b.call(null,e,c,d);return a.call(this,null,b)};g.nc=function(a,b,c,d,e){return this.Sa(null,Qd(b,this._peek_at(),c,d,e))};g.oc=function(a,b){ej(this,a,b)};g.Sb=function(a,b,c){return cj(this,b,c)};
g.Tb=function(a,b){a=Vc(this.ua);dj(this,b);return!a&&Vc(this.ua)&&null==this.Za?this.sc(null):null};g.fb=function(){var a=this.ec;if(null!=a)throw a;(a=null==$i)&&(lj.O?lj.O():lj.call(null));a&&null==this.Za?this.gb&&(a=this.state,this.state=this.f.O?this.f.O():this.f.call(null),null==this.ua||P.B(a,this.state)||ej(this,a,this.state)):(bj(this),this.gb&&this._run(!1));return this.state};
function lj(){for(;;){var a=gj;if(null==a)return null;gj=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}Pi=lj;function mj(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new K(b.slice(1),0,null):null;b=arguments[0];var e=Sd(c);c=H.B(e,Rg);d=H.B(e,qh);e=H.B(e,Tg);b=new kj(b);b._set_opts(new v(null,3,[Rg,c,qh,d,Tg,e],null));return b}var nj=mj(null);
function oj(a,b){var c=pj,d=nj,e=aj(a,d);null!=d.rb&&(nj=mj(null),d._set_opts(c),d.f=a,d.Za=function(){return Ui.j?Ui.j(b):Ui.call(null,b)},b.cljsRatom=d);return e};var qj;function rj(a,b){var c=b.argv;if(null==c){c=Z;a=a.constructor;a:for(var d=ha(b),e=d.length,f=Td,h=0;;)if(h<e){var k=d[h];f=W.D(f,yd.j(k),ia(b,k));h+=1}else break a;b=new Y(null,2,5,c,[a,f],null)}else b=c;return b}function sj(a){var b;if(b=Pc(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.ib);return b}
function tj(a,b){for(;;){var c=a.ib,d=!0===a.bd?c.call(a,a):function(){var e=rj(a,a.props);switch(R(e)){case 1:return c.call(a);case 2:return c.call(a,Ec(e,1));case 3:return c.call(a,Ec(e,1),Ec(e,2));case 4:return c.call(a,Ec(e,1),Ec(e,2),Ec(e,3));case 5:return c.call(a,Ec(e,1),Ec(e,2),Ec(e,3),Ec(e,4));default:return c.apply(a,Fa(e).slice(1))}}();if(bd(d))return Xi(b,d);if(gd(d))d=sj(d)?function(e,f,h,k,l){return function(){function m(p){var q=null;if(0<arguments.length){q=0;for(var r=Array(arguments.length-
0);q<r.length;)r[q]=arguments[q+0],++q;q=new K(r,0,null)}return n.call(this,q)}function n(p){return Xi(f,Pd(Le,l,p))}m.$=0;m.ba=function(p){p=J(p);return n(p)};m.K=n;return m}()}(a,b,c,null,d):d,a.ib=d;else return d}}var pj=new v(null,1,[sh,!0],null);
function uj(a,b){switch(a instanceof I?a.Ra:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){var e=b.call,f=c.argv;null!=f&&(c=V(f,1,null),c=$c(c)?c:null);return e.call(b,null,c,d)};case "getInitialState":return function(c){var d=c.dd;d=null!=d?d:c.dd=ij.j(null);return be(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,rj(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,rj(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,rj(this,c))};case "shouldComponentUpdate":return function(c){var d=Ii;if(x(d))return d;d=this.props.argv;var e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return!P.B(d,e)}catch(h){return!1}}else return f?b.call(this,this,rj(this,this.props),rj(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,rj(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,rj(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,rj(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=ia(this,"cljsRatom");null!=c&&jj(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}var vj=new v(null,2,[Xh,null,Kh,null],null),wj=function(a){var b=new ae(Td);return function(c){var d=H.B(F(b),c);if(null!=d)return d;d=a.j?a.j(c):a.call(null,c);ce.T(b,W,c,d);return d}}(function(a){if("string"===typeof a)return a;a=X(a);a=wi(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=yi(a);var b=J(a);a=N(b);b=O(b);return Pd(B,a,de.B(Di,b))});function xj(a){return od(function(b,c,d){return W.D(b,yd.j(wj(c)),d)},Td,a)}
function yj(a,b){var c=function(){var h=nh.j(a);return x(h)?h:Og.j(a)}(),d=null==nh.j(a),e=function(){var h=Sg.j(a);if(x(h))return h;h=Fi(c);return x(h)?h:B.j(og("reagent"))}(),f=od(function(h,k,l){var m=W.D,n=uj(k,l);return m.call(W,h,k,x(n)?n:l)},Td,a);return W.K(f,Sg,e,Ic([jh,d,nh,c,Og,function(){var h=this,k=ia(h,"cljsRatom");h.cljsIsDirty=!1;return null==k?oj(function(){a:{var l=qj;qj=h;try{var m=tj(h,b);break a}finally{qj=l}m=void 0}return m},h):k._run(!1)}]))}
function zj(a){return od(function(b,c,d){c=X(c);b[c]=d;return b},{},a)}function Aj(a,b){return yj(Of.K(Ic([vj,xj(a)])),b)}var Qf=new Y(null,5,5,Z,[ah,Wh,Mh,Qh,Vg],null);
function Bj(a,b){function c(k,l,m){ti.Component.call(this,k,l,m);x(h)&&(h.B?h.B(this,k):h.call(null,this,k));x(f)&&(this.state=f.j?f.j(this):f.call(null,this));this.qc=Li+=1;return this}a=Aj(a,b);b=zj(Rd(Oc,a,Sg,ph,Yg,Ic([Og,nh,Qf])));var d=zj(Pf(a)),e=Sg.j(a),f=ph.j(a),h=Yg.j(a);ka(c.prototype,ti.Component.prototype,b);x(Og.j(a))&&(c.prototype.render=Og.j(a));x(nh.j(a))&&(c.prototype.ib=nh.j(a));x(jh.j(a))&&(c.prototype.bd=jh.j(a));ka(c,ti.Component,d);x(e)&&(c.displayName=e,c.nb=e,c.Ub=function(k){return G(k,
e)},Object.defineProperty(c,"name",{value:e,writable:!1}));c.Ib=!0;return c.prototype.constructor=c}function Cj(a,b,c){a=Vi(a);return b[a]=c}
function Dj(a,b){for(;;){var c=b.ib,d=b.argv,e=Od(c,d);if(bd(e))return Xi(a,e);if(gd(e))c=sj(e)?function(f,h,k,l,m,n){return function(){function p(r){var w=null;if(0<arguments.length){w=0;for(var z=Array(arguments.length-0);w<z.length;)z[w]=arguments[w+0],++w;w=new K(z,0,null)}return q.call(this,w)}function q(r){return Xi(f,Pd(Le,n,r))}p.$=0;p.ba=function(r){r=J(r);return q(r)};p.K=q;return p}()}(a,b,c,null,d,e):e,b.ib=c;else return e}}
function Ej(a,b){var c=b.argv,d=b.ib;b=ti.useState(0);V(b,0,null);var e=V(b,1,null),f=ti.useRef();x(f.current)||function(){var k={forceUpdate:function(){return e.j?e.j(tc):e.call(null,tc)}};k.qc=Li+=1;k.constructor=d;k.ib=d;return f.current=k}();var h=f.current;b=ia(h,"cljsRatom");ti.useEffect(function(){return function(){var k=ia(h,"cljsRatom");return null==k?null:jj(k)}},[]);h.argv=c;h.cljsIsDirty=!1;return null==b?oj(function(){a:{var k=qj;qj=h;try{var l=Dj(a,h);break a}finally{qj=k}l=void 0}return l},
h):b._run(!1)}function Fj(a,b){a=a.argv;b=b.argv;var c=!1===Ii;if(c)try{return P.B(a,b)}catch(d){return!1}else return c}function Gj(a,b){function c(e){return Ej(a,e)}var d=ia(b,Vi(a));if(x(d))return d;d=Fi(b);c.displayName=d;Object.defineProperty(c,"name",{value:d,writable:!1});d=ti.memo(c,Fj);Cj(a,b,d);return d};var Hj=new Tf(null,new v(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null),Ij=!1;
function Jj(a,b,c,d){var e=Sd(Td);e=H.B(e,Ch);if(x(function(){var h=!(a===document.activeElement&&id(Hj,a.type)&&"string"===typeof b&&"string"===typeof c);return h?h:Ij}()))return d.Vb=b,a.value=b,Pc(e)?e.j?e.j(b):e.call(null,b):null;var f=a.value;if(!P.B(f,c))return Ti.add_after_render(function(){var h=Ij;Ij=!0;try{return Kj.j?Kj.j(d):Kj.call(null,d)}finally{Ij=h}});f=R(f)-a.selectionStart;f=R(b)-f;d.Vb=b;a.value=b;Pc(e)&&(e.j?e.j(b):e.call(null,b));a.selectionStart=f;return a.selectionEnd=f}
function Kj(a){if(x(a.pc)){a.Cc=!1;var b=a.cd,c=a.Vb,d=a.rc;return P.B(b,c)?null:Jj(d,b,c,a)}return null}function Lj(a,b,c){a.Vb=c.target.value;x(a.Cc)||(a.Cc=!0,Ti.add_after_render(function(){return Kj(a)}));return b.j?b.j(c):b.call(null,c)}
function Mj(a){var b=qj;if(x(function(){var f=null!=a;return f?(f=a.hasOwnProperty("onChange"),x(f)?a.hasOwnProperty("value"):f):f}())){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;x(b.pc)||(b.pc=!0,b.Vb=c);x(b.Kc)||(b.Kc=Pc(e)?function(f){b.rc=f;return e.j?e.j(f):e.call(null,f)}:x(x(e)?e.hasOwnProperty("current"):e)?function(f){b.rc=f;return e.current=f}:function(f){return b.rc=f});b.cd=c;delete a.value;a.defaultValue=c;a.onChange=function(f){return Lj(b,d,f)};a.ref=b.Kc}}
var Nj=new v(null,4,[Sh,"ReagentInput",wh,Kj,ai,function(a){return a.pc=null},yh,function(a,b,c,d,e){Mj(c);return Yi(e,a,b,c,d)}],null);var Oj={},Pj,Qj=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,Rj={"class":"className","for":"htmlFor",charset:"charSet"};function Sj(a,b){return a.hasOwnProperty(b)?ia(a,b):null}function Tj(a,b,c){if(Gi(b)){var d=Sj(Rj,X(b));null==d?(d=Ei(b),b=X(b),b=Rj[b]=d):b=d}c=Uj.j?Uj.j(c):Uj.call(null,c);a[b]=c;return a}
function Uj(a){return"object"!==t(a)?a:Gi(a)?X(a):$c(a)?od(Tj,{},a):Wc(a)?sg(a):gd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return Od(a,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}():sg(a)}var Vj={};function Wj(a,b,c){if(Gi(b)){var d=Sj(Vj,X(b));null==d?(d=Ei(b),b=X(b),b=Vj[b]=d):b=d}c=Uj(c);a[b]=c;return a}
function Xj(a){return"object"!==t(a)?a:Gi(a)?X(a):$c(a)?od(Wj,{},a):Wc(a)?sg(a):gd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return Od(a,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}():sg(a)}
function Yj(a,b,c,d,e){switch(R(b)-e){case 0:return ti.createElement(c,d);case 1:return ti.createElement(c,d,Xi(a,V(b,e,null)));default:return ti.createElement.apply(null,od(function(f,h,k){h>=e&&f.push(Xi(a,k));return f},[c,d],b))}}function Zj(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.ed=d}function ak(a,b,c){var d=ia(a,Vi(c));null==d?sj(a)?a=Cj(c,a,a):(d=Tc(a),d=W.D(d,yh,a),d=Bj(d,c),a=Cj(c,a,d)):a=d;c={};c.argv=b;b=Ki(b);null!=b&&(c.key=b);return ti.createElement(a,c)}
function bk(a,b,c,d){var e={};e.ib=a;var f=R(b);c=Pe(null,b,c|0,f|0,null);e.argv=c;b=Ki(b);null!=b&&(e.key=b);return ti.createElement(Gj(d,a),e)}function ck(a,b,c){var d;if(d=Pc(a))d=null==a?null:a.prototype,d=null!=(null==d?null:d.render);return d?ak(a,b,c):bk(a,b,1,c)}var dk={};function ek(a,b){a=Sj(dk,b);if(null==a){var c=O(Xf(Qj,X(b)));a=V(c,0,null);var d=V(c,1,null);c=V(c,2,null);c=null==c?null:wi(c,/\./," ");var e=a.indexOf("-");e=!P.B(-1,e);a=new Zj(a,d,c,e);return dk[b]=a}return a}
function fk(a,b,c,d){var e=a.tag,f=V(b,c,null),h=null==f||$c(f),k=function(){var n=h?f:null;var p=fh.j(n);p=x(p)?W.D(n,fh,Hi.j(p)):n;var q=a.id;n=a.className;q=null!=q&&null==Zh.j(p)?W.D(p,Zh,q):p;if(x(n)){var r=W.D,w=Hi.B,z=fh.j(p);p=x(z)?z:di.j(p);n=r.call(W,q,fh,w.call(Hi,n,p))}else n=q;n=x(a.ed)?Xj(n):Uj(n);return x(n)?n:{}}();c+=h?1:0;a:switch(e){case "input":case "textarea":var l=!0;break a;default:l=!1}if(l){l=Ji(f);var m=function(){var n=d.od;if(x(n))return n;n=Bj(Nj,d);return d.od=n}();return Xi(d,
Sc(new Y(null,6,5,Z,[m,b,e,k,c,d],null),Of.K(Ic([x(l)?new v(null,1,[Eh,l],null):null,Tc(b)]))))}l=Ji(Tc(b));null!=l&&(k.key=l);return Yi(d,b,e,k,c)}function gk(a,b){return Fa(de.B(function(c){return Xi(b,c)},a))}
function hk(a,b,c){null==b&&console.error("vec-to-elem",ig(Ic([a])));var d=V(a,0,null);switch(d instanceof I?d.Ra:null){case "\x3e":return c=V(a,1,null),fk(new Zj(c,null,null,null),a,2,b);case "r\x3e":c=V(a,1,null);d=V(a,2,null);d=x(d)?d:{};var e=Ji(Tc(a));null!=e&&(d.key=e);return Yi(b,a,c,d,3);case "f\x3e":return bk(V(a,1,null),a,2,b);case "\x3c\x3e":return d=V(a,1,null),c=null==d||$c(d),d=Uj(c?d:null),d=x(d)?d:{},c=1+(c?1:0),e=Ki(a),null!=e&&(d.key=e),Yi(b,a,ti.Fragment,d,c);default:if(Gi(d)||
"string"===typeof d)a:for(;;)switch(c=V(a,0,null),d=X(c),e=d.indexOf("\x3e"),e){case -1:b=fk(Wi(b,d,c),a,1,b);break a;case 0:b=null;break a;default:a=Sc(new Y(null,2,5,Z,[d.substring(0,e),W.D(Sc(a,null),0,d.substring(e+1))],null),Tc(a))}else b=c.D?c.D(d,a,b):c.call(null,d,a,b);return b}}
var ik=function(a){var b=og("reagent-compiler"),c=x(Ah.j(a))?ck:ak,d=H.D(a,ii,ek);if("undefined"===typeof zi||"undefined"===typeof Ai||"undefined"===typeof Oj||"undefined"===typeof Pj)Pj=function(e,f,h,k,l){this.ld=e;this.id=f;this.Dc=h;this.$b=k;this.jd=l;this.F=393216;this.P=0},Pj.prototype.ka=function(e,f){return new Pj(this.ld,this.id,this.Dc,this.$b,f)},Pj.prototype.ha=function(){return this.jd},Pj.prototype.nd=function(){return this.id},Pj.prototype.Jc=function(e,f,h){return this.$b.D?this.$b.D(this,
f,h):this.$b.call(null,this,f,h)},Pj.prototype.Hc=function(e,f){e=this.Dc;return"object"!==t(f)?f:bd(f)?hk(f,this,e):(null==f?0:null!=f?f.F&64||u===f.ub||(f.F?0:y(Ua,f)):y(Ua,f))?gk(f,this):Gi(f)?X(f):(null!=f?f.F&2147483648||u===f.na||(f.F?0:y(Cb,f)):y(Cb,f))?ig(Ic([f])):f},Pj.prototype.Ic=function(e,f,h,k,l){return Yj(this,f,h,k,l)},Pj.Ib=!0,Pj.nb="reagent.impl.template/t_reagent$impl$template26021",Pj.Ub=function(e){return G(e,"reagent.impl.template/t_reagent$impl$template26021")};return new Pj(a,
b,c,d,Td)}(Td);var jk=si(9,{});function kk(a){a=ia(a,"comp");ti.useEffect(function(){var c=Ii;Ii=!1;try{Ti.flush_after_render()}finally{Ii=c}});var b=Ii;Ii=!0;try{return a.O?a.O():a.call(null)}finally{Ii=b}}function lk(){var a=new Y(null,1,5,Z,[mk],null);nk.render(ti.createElement(kk,{comp:function(){return Xi(ik,a)}}))};var ok=si(74,{});function pk(a,b){this.Ec=a;this.Mc=b}pk.prototype.getKey=function(){return this.Ec};pk.prototype.getValue=function(){return this.Mc};pk.prototype.clone=function(){return new pk(this.Ec,this.Mc)};function qk(a){this.Xa=[];if(a)a:{if(a instanceof qk){var b=a.Xa;for(var c=[],d=b.length,e=0;e<d;e++)c.push(b[e].getKey());b=c;a=a.Xa;c=[];d=a.length;for(e=0;e<d;e++)c.push(a[e].getValue());a=c;if(0>=this.Xa.length){c=this.Xa;for(d=0;d<b.length;d++)c.push(new pk(b[d],a[d]));break a}}else{b=ha(a);c=[];d=0;for(e in a)c[d++]=a[e];a=c}for(d=0;d<b.length;d++)this.insert(b[d],a[d])}}g=qk.prototype;
g.insert=function(a,b){var c=this.Xa;c.push(new pk(a,b));a=c.length-1;b=this.Xa;for(c=b[a];0<a;){var d=a-1>>1;if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};g.remove=function(){var a=this.Xa,b=a.length,c=a[0];if(!(0>=b)){if(1==b)la(a);else{a[0]=a.pop();a=0;b=this.Xa;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};g.peek=function(){var a=this.Xa;if(0!=a.length)return a[0].getValue()};
g.clone=function(){return new qk(this)};g.isEmpty=function(){return 0===this.Xa.length};g.clear=function(){la(this.Xa)};function rk(){qk.call(this)}fa(rk,qk);rk.prototype.enqueue=function(a,b){this.insert(a,b)};rk.prototype.dequeue=function(){return this.remove()};function sk(a){--a;return 0<a?a:0}function tk(a){a=Sd(a);var b=H.B(a,Pg);return H.B(a,Wg)*Math.sqrt(-2*Math.log(1-Math.random()))*Math.cos(2*Math.PI*Math.random())+b}var Kg=function(){var a=new ae(Td),b=new ae(Td),c=new ae(Td),d=new ae(Td),e=H.D(Td,Bh,vg.O?vg.O():vg.call(null));return new Gg(hc.B("net.thewagner.skiers.core","handle-event"),function(f,h){return Ph.j(h)},e,a,b,c,d)}();Jg(Hg,function(a){return a});Jg(rh,function(a){return je(je(a,Dh,sk),Nh,tc)});
Jg(Mg,function(a,b){a=Sd(a);var c=H.B(a,ki),d=H.B(a,Uh);b=Sd(b);b=H.B(b,Jh);c=d/tk(c);return ke(je(je(a,hi,sk),Dh,tc),gi,Jc,new v(null,2,[Ph,rh,Jh,b+c],null))});Jg(vh,function(a,b){var c=Sd(a),d=H.B(c,Gh),e=H.B(c,bi);a=H.B(c,fi);b=Sd(b);b=H.B(b,Jh);var f=Nh.j(c);e=0>f?0:0<=f&&f<=e?f:e<f?e:null;c=ke(ke(c,Nh,sd,e),hi,rd,e);d=new v(null,2,[Ph,Mg,Jh,b+tk(d)],null);return ke(ke(c,gi,ie,ee(e,new he(null,-1,d,null))),gi,Jc,new v(null,2,[Ph,vh,Jh,b+a],null))});var uk;
a:for(var vk=[Uh,hi,Gh,gi,Dh,fi,xh,ki,bi,Jh,Nh],wk=[3E3,0,new v(null,2,[Pg,300,Wg,30],null),new Y(null,1,5,Z,[new v(null,2,[Ph,vh,Jh,0],null)],null),0,7,1E4,new v(null,3,[Pg,5,Wg,1,Yh,"m/s"],null),4,0,25],xk=vk.length,yk=0,zk=Hb(ef);;)if(yk<xk){if(wk.length<=yk)throw Error(["No value supplied for key: ",B.j(vk[yk])].join(""));var Ak=yk+1,Bk=Kb(zk,vk[yk],wk[yk]);yk=Ak;zk=Bk}else{uk=Jb(zk);break a};var Ck=new v(null,6,[$h,"https://vega.github.io/schema/vega-lite/v5.json",gh,"A simple bar chart with embedded data.",Ug,new v(null,1,[oh,ci],null),bh,new Y(null,1,5,Z,[new v(null,2,[Qg,new Y(null,3,5,Z,[Dh,Nh,hi],null),mh,new Y(null,2,5,Z,["state","number-of-skiers"],null)],null)],null),Oh,"line",zh,new v(null,3,[Ih,new v(null,4,[ch,Jh,ji,"quantitative",hh,"time",Lh,new v(null,1,[Fh,!1],null)],null),Hh,new v(null,3,[ch,"number-of-skiers",ji,"quantitative",hh,"Number of skiers"],null),kh,new v(null,
1,[ch,"state"],null)],null)],null),Dk=new v(null,6,[$h,"https://vega.github.io/schema/vega-lite/v5.json",gh,"A simple bar chart with embedded data.",Ug,new v(null,1,[oh,ci],null),bh,new Y(null,1,5,Z,[new v(null,2,[Qg,new Y(null,3,5,Z,[Dh,Nh,hi],null),mh,new Y(null,2,5,Z,["state","number-of-skiers"],null)],null)],null),Oh,"bar",zh,new v(null,3,[Ih,new v(null,4,[ch,Jh,ji,"quantitative",hh,"time",Lh,new v(null,1,[Fh,!1],null)],null),Hh,new v(null,4,[ch,"number-of-skiers",ji,"quantitative",lh,"normalize",
hh,"Percentage of skiers"],null),kh,new v(null,1,[ch,"state"],null)],null)],null),Ek=ij.j(new v(null,1,[ci,new Y(null,1,5,Z,[uk],null)],null)),Fk=ij.j(new v(null,1,[eh,!0],null));
function Gk(){return ce.B(Ek,function(a){var b=W.D,c=Jc.B,d=ci.j(a),e;a:for(e=ci.j(a);;){var f=O(e);if(null!=f)e=f;else{e=N(e);break a}}a:{f=e;e=Kg;var h=gi.j(f),k=new rk;h=J(h);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ea(null,n);k.enqueue(Jh.j(p),p);n+=1}else if(h=J(h))l=h,cd(l)?(h=Mb(l),n=Nb(l),l=h,m=R(h),h=n):(h=N(l),k.enqueue(Jh.j(h),h),h=O(l),l=null,m=0),n=0;else break;h=k.dequeue();if(x(h)){m=l=W.D;b:for(n=Kc;;){if(x(k.isEmpty()))break b;p=k.dequeue();n=Jc.B(n,p)}f=m.call(W,f,gi,n);e=e.B?e.B(f,
h):e.call(null,f,h);e=l.call(W,e,Jh,h.j?h.j(Jh):h.call(null,Jh))}else e=f;d=c.call(Jc,d,e);c=J(d);for(d=J(fe(200,d));;)if(d)c=O(c),d=O(d);else break a}return b.call(W,a,ci,He(c))})}function Hk(){return x(eh.j(F(Fk)))?new Y(null,3,5,Z,[Lg,new v(null,1,[ih,function(){return ce.T(Fk,W,eh,!1)}],null),"Pause"],null):new Y(null,3,5,Z,[Lg,new v(null,1,[ih,function(){return ce.T(Fk,W,eh,!0)}],null),"Resume"],null)}
function Ik(){return new Y(null,3,5,Z,[Th,new v(null,2,[ji,"reset",ih,function(){be(Ek,new v(null,1,[ci,new Y(null,1,5,Z,[uk],null)],null));return be(Fk,new v(null,1,[eh,!0],null))}],null),"Restart"],null)}
function mk(){x(eh.j(F(Fk)))&&setTimeout(function(){return Gk()},100);return new Y(null,4,5,Z,[th,new Y(null,2,5,Z,[Vh,new Y(null,2,5,Z,[ei,"Skiers simulation"],null)],null),new Y(null,2,5,Z,[Vh,new Y(null,3,5,Z,[Ng,new Y(null,1,5,Z,[Hk],null),new Y(null,1,5,Z,[Ik],null)],null)],null),new Y(null,2,5,Z,[Vh,new Y(null,3,5,Z,[uh,new Y(null,2,5,Z,[Zg,new Y(null,3,5,Z,[dh,ok.VegaLite,new v(null,3,[Xg,Ck,Ug,F(Ek),$g,!1],null)],null)],null),new Y(null,2,5,Z,[Zg,new Y(null,3,5,Z,[dh,ok.VegaLite,new v(null,
3,[Xg,Dk,Ug,F(Ek),$g,!1],null)],null)],null)],null)],null)],null)}var Jk=jk.createRoot,Kk;Kk=document.getElementById("app");var nk=Jk.call(jk,Kk);try{lk()}catch(a){throw console.error("An error occurred when calling (net.thewagner.skiers.web/init)"),a;};
}).call(this);