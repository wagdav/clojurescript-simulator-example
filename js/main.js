var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&(c=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+c+"$"+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};
$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(f,g){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,e=function(f){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+d++,f)};return e},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.polyfill("Symbol.asyncIterator",function(a){return a?a:Symbol("Symbol.asyncIterator")},"es9","es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};
(function(){
shadow$provide[0]=function(Db,mb,Cc,Va){function r(ea){if(null===ea||"object"!==typeof ea)return null;ea=ia&&ea[ia]||ea["@@iterator"];return"function"===typeof ea?ea:null}function h(ea,ja,La){this.props=ea;this.context=ja;this.refs=Wa;this.updater=La||Ba}function ka(){}function Ya(ea,ja,La){this.props=ea;this.context=ja;this.refs=Wa;this.updater=La||Ba}function ub(ea,ja,La){var oa,qa={},l=null,D=null;if(null!=ja)for(oa in void 0!==ja.ref&&(D=ja.ref),void 0!==ja.key&&(l=""+ja.key),ja)ab.call(ja,oa)&&
!Pb.hasOwnProperty(oa)&&(qa[oa]=ja[oa]);var K=arguments.length-2;if(1===K)qa.children=La;else if(1<K){for(var v=Array(K),R=0;R<K;R++)v[R]=arguments[R+2];qa.children=v}if(ea&&ea.defaultProps)for(oa in K=ea.defaultProps,K)void 0===qa[oa]&&(qa[oa]=K[oa]);return{$$typeof:Za,type:ea,key:l,ref:D,props:qa,_owner:qb.current}}function Yb(ea,ja){return{$$typeof:Za,type:ea.type,key:ja,ref:ea.ref,props:ea.props,_owner:ea._owner}}function bc(ea){return"object"===typeof ea&&null!==ea&&ea.$$typeof===Za}function Xb(ea){var ja=
{"\x3d":"\x3d0",":":"\x3d2"};return"$"+ea.replace(/[=:]/g,function(La){return ja[La]})}function oc(ea,ja){return"object"===typeof ea&&null!==ea&&null!=ea.key?Xb(""+ea.key):ja.toString(36)}function zb(ea,ja,La,oa,qa){var l=typeof ea;if("undefined"===l||"boolean"===l)ea=null;var D=!1;if(null===ea)D=!0;else switch(l){case "string":case "number":D=!0;break;case "object":switch(ea.$$typeof){case Za:case tb:D=!0}}if(D)return D=ea,qa=qa(D),ea=""===oa?"."+oc(D,0):oa,hb(qa)?(La="",null!=ea&&(La=ea.replace(db,
"$\x26/")+"/"),zb(qa,ja,La,"",function(R){return R})):null!=qa&&(bc(qa)&&(qa=Yb(qa,La+(!qa.key||D&&D.key===qa.key?"":(""+qa.key).replace(db,"$\x26/")+"/")+ea)),ja.push(qa)),1;D=0;oa=""===oa?".":oa+":";if(hb(ea))for(var K=0;K<ea.length;K++){l=ea[K];var v=oa+oc(l,K);D+=zb(l,ja,La,v,qa)}else if(v=r(ea),"function"===typeof v)for(ea=v.call(ea),K=0;!(l=ea.next()).done;)l=l.value,v=oa+oc(l,K++),D+=zb(l,ja,La,v,qa);else if("object"===l)throw ja=String(ea),Error("Objects are not valid as a React child (found: "+
("[object Object]"===ja?"object with keys {"+Object.keys(ea).join(", ")+"}":ja)+"). If you meant to render a collection of children, use an array instead.");return D}function Ub(ea,ja,La){if(null==ea)return ea;var oa=[],qa=0;zb(ea,oa,"","",function(l){return ja.call(La,l,qa++)});return oa}function kc(ea){if(-1===ea._status){var ja=ea._result;ja=ja();ja.then(function(La){if(0===ea._status||-1===ea._status)ea._status=1,ea._result=La},function(La){if(0===ea._status||-1===ea._status)ea._status=2,ea._result=
La});-1===ea._status&&(ea._status=0,ea._result=ja)}if(1===ea._status)return ea._result.default;throw ea._result;}function Ea(){throw Error("act(...) is not supported in production builds of React.");}var Za=Symbol.for("react.element"),tb=Symbol.for("react.portal");Db=Symbol.for("react.fragment");mb=Symbol.for("react.strict_mode");Cc=Symbol.for("react.profiler");var rb=Symbol.for("react.provider"),pb=Symbol.for("react.context"),vb=Symbol.for("react.forward_ref"),gb=Symbol.for("react.suspense"),ec=
Symbol.for("react.memo"),sa=Symbol.for("react.lazy"),ia=Symbol.iterator,Ba={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ra=Object.assign,Wa={};h.prototype.isReactComponent={};h.prototype.setState=function(ea,ja){if("object"!==typeof ea&&"function"!==typeof ea&&null!=ea)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,
ea,ja,"setState")};h.prototype.forceUpdate=function(ea){this.updater.enqueueForceUpdate(this,ea,"forceUpdate")};ka.prototype=h.prototype;var Ia=Ya.prototype=new ka;Ia.constructor=Ya;Ra(Ia,h.prototype);Ia.isPureReactComponent=!0;var hb=Array.isArray,ab=Object.prototype.hasOwnProperty,qb={current:null},Pb={key:!0,ref:!0,__self:!0,__source:!0},db=/\/+/g,U={current:null},ba={transition:null};Ia={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:ba,ReactCurrentOwner:qb};Va.Children={map:Ub,forEach:function(ea,
ja,La){Ub(ea,function(){ja.apply(this,arguments)},La)},count:function(ea){var ja=0;Ub(ea,function(){ja++});return ja},toArray:function(ea){return Ub(ea,function(ja){return ja})||[]},only:function(ea){if(!bc(ea))throw Error("React.Children.only expected to receive a single React element child.");return ea}};Va.Component=h;Va.Fragment=Db;Va.Profiler=Cc;Va.PureComponent=Ya;Va.StrictMode=mb;Va.Suspense=gb;Va.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ia;Va.act=Ea;Va.cloneElement=function(ea,ja,
La){if(null===ea||void 0===ea)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ea+".");var oa=Ra({},ea.props),qa=ea.key,l=ea.ref,D=ea._owner;if(null!=ja){void 0!==ja.ref&&(l=ja.ref,D=qb.current);void 0!==ja.key&&(qa=""+ja.key);if(ea.type&&ea.type.defaultProps)var K=ea.type.defaultProps;for(v in ja)ab.call(ja,v)&&!Pb.hasOwnProperty(v)&&(oa[v]=void 0===ja[v]&&void 0!==K?K[v]:ja[v])}var v=arguments.length-2;if(1===v)oa.children=La;else if(1<v){K=Array(v);for(var R=
0;R<v;R++)K[R]=arguments[R+2];oa.children=K}return{$$typeof:Za,type:ea.type,key:qa,ref:l,props:oa,_owner:D}};Va.createContext=function(ea){ea={$$typeof:pb,_currentValue:ea,_currentValue2:ea,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};ea.Provider={$$typeof:rb,_context:ea};return ea.Consumer=ea};Va.createElement=ub;Va.createFactory=function(ea){var ja=ub.bind(null,ea);ja.type=ea;return ja};Va.createRef=function(){return{current:null}};Va.forwardRef=function(ea){return{$$typeof:vb,
render:ea}};Va.isValidElement=bc;Va.lazy=function(ea){return{$$typeof:sa,_payload:{_status:-1,_result:ea},_init:kc}};Va.memo=function(ea,ja){return{$$typeof:ec,type:ea,compare:void 0===ja?null:ja}};Va.startTransition=function(ea){var ja=ba.transition;ba.transition={};try{ea()}finally{ba.transition=ja}};Va.unstable_act=Ea;Va.useCallback=function(ea,ja){return U.current.useCallback(ea,ja)};Va.useContext=function(ea){return U.current.useContext(ea)};Va.useDebugValue=function(){};Va.useDeferredValue=
function(ea){return U.current.useDeferredValue(ea)};Va.useEffect=function(ea,ja){return U.current.useEffect(ea,ja)};Va.useId=function(){return U.current.useId()};Va.useImperativeHandle=function(ea,ja,La){return U.current.useImperativeHandle(ea,ja,La)};Va.useInsertionEffect=function(ea,ja){return U.current.useInsertionEffect(ea,ja)};Va.useLayoutEffect=function(ea,ja){return U.current.useLayoutEffect(ea,ja)};Va.useMemo=function(ea,ja){return U.current.useMemo(ea,ja)};Va.useReducer=function(ea,ja,La){return U.current.useReducer(ea,
ja,La)};Va.useRef=function(ea){return U.current.useRef(ea)};Va.useState=function(ea){return U.current.useState(ea)};Va.useSyncExternalStore=function(ea,ja,La){return U.current.useSyncExternalStore(ea,ja,La)};Va.useTransition=function(){return U.current.useTransition()};Va.version="18.3.1"};
shadow$provide[2]=function(Db,mb,Cc,Va){Cc.exports=mb(0)};
shadow$provide[3]=function(Db,mb,Cc,Va){function r(ba,ea){var ja=ba.length;ba.push(ea);a:for(;0<ja;){var La=ja-1>>>1,oa=ba[La];if(0<Ya(oa,ea))ba[La]=ea,ba[ja]=oa,ja=La;else break a}}function h(ba){return 0===ba.length?null:ba[0]}function ka(ba){if(0===ba.length)return null;var ea=ba[0],ja=ba.pop();if(ja!==ea){ba[0]=ja;var La=0,oa=ba.length,qa=oa>>>1;a:for(;La<qa;){var l=2*(La+1)-1,D=ba[l],K=l+1,v=ba[K];if(0>Ya(D,ja))K<oa&&0>Ya(v,D)?(ba[La]=v,ba[K]=ja,La=K):(ba[La]=D,ba[l]=ja,La=l);else if(K<oa&&0>
Ya(v,ja))ba[La]=v,ba[K]=ja,La=K;else break a}}return ea}function Ya(ba,ea){var ja=ba.sortIndex-ea.sortIndex;return 0!==ja?ja:ba.id-ea.id}function ub(ba){for(var ea=h(rb);null!==ea;){if(null===ea.callback)ka(rb);else if(ea.startTime<=ba)ka(rb),ea.sortIndex=ea.expirationTime,r(tb,ea);else break;ea=h(rb)}}function Yb(ba){ia=!1;ub(ba);if(!sa)if(null!==h(tb))sa=!0,zb(bc);else{var ea=h(rb);null!==ea&&Ub(Yb,ea.startTime-ba)}}function bc(ba,ea){sa=!1;ia&&(ia=!1,Ra(ab),ab=-1);ec=!0;var ja=gb;try{ub(ea);for(vb=
h(tb);null!==vb&&(!(vb.expirationTime>ea)||ba&&!Xb());){var La=vb.callback;if("function"===typeof La){vb.callback=null;gb=vb.priorityLevel;var oa=La(vb.expirationTime<=ea);ea=Va.unstable_now();"function"===typeof oa?vb.callback=oa:vb===h(tb)&&ka(tb);ub(ea)}else ka(tb);vb=h(tb)}if(null!==vb)var qa=!0;else{var l=h(rb);null!==l&&Ub(Yb,l.startTime-ea);qa=!1}return qa}finally{vb=null,gb=ja,ec=!1}}function Xb(){return Va.unstable_now()-Pb<qb?!1:!0}function oc(){if(null!==hb){var ba=Va.unstable_now();Pb=
ba;var ea=!0;try{ea=hb(!0,ba)}finally{ea?db():(Ia=!1,hb=null)}}else Ia=!1}function zb(ba){hb=ba;Ia||(Ia=!0,db())}function Ub(ba,ea){ab=Ba(function(){ba(Va.unstable_now())},ea)}if("object"===typeof performance&&"function"===typeof performance.now){var kc=performance;Va.unstable_now=function(){return kc.now()}}else{var Ea=Date,Za=Ea.now();Va.unstable_now=function(){return Ea.now()-Za}}var tb=[],rb=[],pb=1,vb=null,gb=3,ec=!1,sa=!1,ia=!1,Ba="function"===typeof setTimeout?setTimeout:null,Ra="function"===
typeof clearTimeout?clearTimeout:null,Wa="undefined"!==typeof setImmediate?setImmediate:null;"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var Ia=!1,hb=null,ab=-1,qb=5,Pb=-1;if("function"===typeof Wa)var db=function(){Wa(oc)};else if("undefined"!==typeof MessageChannel){Db=new MessageChannel;var U=Db.port2;Db.port1.onmessage=oc;db=function(){U.postMessage(null)}}else db=function(){Ba(oc,
0)};Va.unstable_IdlePriority=5;Va.unstable_ImmediatePriority=1;Va.unstable_LowPriority=4;Va.unstable_NormalPriority=3;Va.unstable_Profiling=null;Va.unstable_UserBlockingPriority=2;Va.unstable_cancelCallback=function(ba){ba.callback=null};Va.unstable_continueExecution=function(){sa||ec||(sa=!0,zb(bc))};Va.unstable_forceFrameRate=function(ba){0>ba||125<ba?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):qb=0<ba?Math.floor(1E3/
ba):5};Va.unstable_getCurrentPriorityLevel=function(){return gb};Va.unstable_getFirstCallbackNode=function(){return h(tb)};Va.unstable_next=function(ba){switch(gb){case 1:case 2:case 3:var ea=3;break;default:ea=gb}var ja=gb;gb=ea;try{return ba()}finally{gb=ja}};Va.unstable_pauseExecution=function(){};Va.unstable_requestPaint=function(){};Va.unstable_runWithPriority=function(ba,ea){switch(ba){case 1:case 2:case 3:case 4:case 5:break;default:ba=3}var ja=gb;gb=ba;try{return ea()}finally{gb=ja}};Va.unstable_scheduleCallback=
function(ba,ea,ja){var La=Va.unstable_now();"object"===typeof ja&&null!==ja?(ja=ja.delay,ja="number"===typeof ja&&0<ja?La+ja:La):ja=La;switch(ba){case 1:var oa=-1;break;case 2:oa=250;break;case 5:oa=1073741823;break;case 4:oa=1E4;break;default:oa=5E3}oa=ja+oa;ba={id:pb++,callback:ea,priorityLevel:ba,startTime:ja,expirationTime:oa,sortIndex:-1};ja>La?(ba.sortIndex=ja,r(rb,ba),null===h(tb)&&ba===h(rb)&&(ia?(Ra(ab),ab=-1):ia=!0,Ub(Yb,ja-La))):(ba.sortIndex=oa,r(tb,ba),sa||ec||(sa=!0,zb(bc)));return ba};
Va.unstable_shouldYield=Xb;Va.unstable_wrapCallback=function(ba){var ea=gb;return function(){var ja=gb;gb=ea;try{return ba.apply(this,arguments)}finally{gb=ja}}}};
shadow$provide[5]=function(Db,mb,Cc,Va){Cc.exports=mb(3)};
shadow$provide[6]=function(Db,mb,Cc,Va){function r(c){for(var d="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+c,k=1;k<arguments.length;k++)d+="\x26args[]\x3d"+encodeURIComponent(arguments[k]);return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(c,d){ka(c,d);ka(c+"Capture",d)}function ka(c,d){Wh[c]=d;for(c=0;c<d.length;c++)hi.add(d[c])}function Ya(c){if(hj.call(ij,c))return!0;
if(hj.call(Hj,c))return!1;if(jj.test(c))return ij[c]=!0;Hj[c]=!0;return!1}function ub(c,d,k,u){if(null!==k&&0===k.type)return!1;switch(typeof d){case "function":case "symbol":return!0;case "boolean":if(u)return!1;if(null!==k)return!k.acceptsBooleans;c=c.toLowerCase().slice(0,5);return"data-"!==c&&"aria-"!==c;default:return!1}}function Yb(c,d,k,u){if(null===d||"undefined"===typeof d||ub(c,d,k,u))return!0;if(u)return!1;if(null!==k)switch(k.type){case 3:return!d;case 4:return!1===d;case 5:return isNaN(d);
case 6:return isNaN(d)||1>d}return!1}function bc(c,d,k,u,S,fa,Sa){this.acceptsBooleans=2===d||3===d||4===d;this.attributeName=u;this.attributeNamespace=S;this.mustUseProperty=k;this.propertyName=c;this.type=d;this.sanitizeURL=fa;this.removeEmptyString=Sa}function Xb(c){return c[1].toUpperCase()}function oc(c,d,k,u){var S=bg.hasOwnProperty(d)?bg[d]:null;if(null!==S?0!==S.type:u||!(2<d.length)||"o"!==d[0]&&"O"!==d[0]||"n"!==d[1]&&"N"!==d[1])Yb(d,k,S,u)&&(k=null),u||null===S?Ya(d)&&(null===k?c.removeAttribute(d):
c.setAttribute(d,""+k)):S.mustUseProperty?c[S.propertyName]=null===k?3===S.type?!1:"":k:(d=S.attributeName,u=S.attributeNamespace,null===k?c.removeAttribute(d):(S=S.type,k=3===S||4===S&&!0===k?"":""+k,u?c.setAttributeNS(u,d,k):c.setAttribute(d,k)))}function zb(c){if(null===c||"object"!==typeof c)return null;c=od&&c[od]||c["@@iterator"];return"function"===typeof c?c:null}function Ub(c){if(void 0===Dd)try{throw Error();}catch(k){var d=k.stack.trim().match(/\n( *(at )?)/);Dd=d&&d[1]||""}return"\n"+Dd+
c}function kc(c,d){if(!c||$d)return"";$d=!0;var k=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error();},Object.defineProperty(d.prototype,"props",{set:function(){throw Error();}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(d,[])}catch(Uc){var u=Uc}Reflect.construct(c,[],d)}else{try{d.call()}catch(Uc){u=Uc}c.call(d.prototype)}else{try{throw Error();}catch(Uc){u=Uc}c()}}catch(Uc){if(Uc&&u&&"string"===typeof Uc.stack){for(var S=Uc.stack.split("\n"),
fa=u.stack.split("\n"),Sa=S.length-1,Vb=fa.length-1;1<=Sa&&0<=Vb&&S[Sa]!==fa[Vb];)Vb--;for(;1<=Sa&&0<=Vb;Sa--,Vb--)if(S[Sa]!==fa[Vb]){if(1!==Sa||1!==Vb){do if(Sa--,Vb--,0>Vb||S[Sa]!==fa[Vb]){var nc="\n"+S[Sa].replace(" at new "," at ");c.displayName&&nc.includes("\x3canonymous\x3e")&&(nc=nc.replace("\x3canonymous\x3e",c.displayName));return nc}while(1<=Sa&&0<=Vb)}break}}}finally{$d=!1,Error.prepareStackTrace=k}return(c=c?c.displayName||c.name:"")?Ub(c):""}function Ea(c){switch(c.tag){case 5:return Ub(c.type);
case 16:return Ub("Lazy");case 13:return Ub("Suspense");case 19:return Ub("SuspenseList");case 0:case 2:case 15:return c=kc(c.type,!1),c;case 11:return c=kc(c.type.render,!1),c;case 1:return c=kc(c.type,!0),c;default:return""}}function Za(c){if(null==c)return null;if("function"===typeof c)return c.displayName||c.name||null;if("string"===typeof c)return c;switch(c){case ii:return"Fragment";case ji:return"Portal";case H:return"Profiler";case m:return"StrictMode";case cb:return"Suspense";case ob:return"SuspenseList"}if("object"===
typeof c)switch(c.$$typeof){case la:return(c.displayName||"Context")+".Consumer";case L:return(c._context.displayName||"Context")+".Provider";case Ua:var d=c.render;(c=c.displayName)||(c=d.displayName||d.name||"",c=""!==c?"ForwardRef("+c+")":"ForwardRef");return c;case Jb:return d=c.displayName||null,null!==d?d:Za(c.type)||"Memo";case uc:d=c._payload;c=c._init;try{return Za(c(d))}catch(k){}}return null}function tb(c){var d=c.type;switch(c.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+
".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=d.render,c=c.displayName||c.name||"",d.displayName||(""!==c?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Za(d);case 8:return d===m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";
case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof d)return d.displayName||d.name||null;if("string"===typeof d)return d}return null}function rb(c){switch(typeof c){case "boolean":case "number":case "string":case "undefined":return c;case "object":return c;default:return""}}function pb(c){var d=c.type;return(c=c.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===d||"radio"===d)}function vb(c){var d=pb(c)?"checked":"value",k=Object.getOwnPropertyDescriptor(c.constructor.prototype,
d),u=""+c[d];if(!c.hasOwnProperty(d)&&"undefined"!==typeof k&&"function"===typeof k.get&&"function"===typeof k.set){var S=k.get,fa=k.set;Object.defineProperty(c,d,{configurable:!0,get:function(){return S.call(this)},set:function(Sa){u=""+Sa;fa.call(this,Sa)}});Object.defineProperty(c,d,{enumerable:k.enumerable});return{getValue:function(){return u},setValue:function(Sa){u=""+Sa},stopTracking:function(){c._valueTracker=null;delete c[d]}}}}function gb(c){c._valueTracker||(c._valueTracker=vb(c))}function ec(c){if(!c)return!1;
var d=c._valueTracker;if(!d)return!0;var k=d.getValue(),u="";c&&(u=pb(c)?c.checked?"true":"false":c.value);c=u;return c!==k?(d.setValue(c),!0):!1}function sa(c){c=c||("undefined"!==typeof document?document:void 0);if("undefined"===typeof c)return null;try{return c.activeElement||c.body}catch(d){return c.body}}function ia(c,d){var k=d.checked;return tc({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=k?k:c._wrapperState.initialChecked})}function Ba(c,d){var k=null==d.defaultValue?
"":d.defaultValue,u=null!=d.checked?d.checked:d.defaultChecked;k=rb(null!=d.value?d.value:k);c._wrapperState={initialChecked:u,initialValue:k,controlled:"checkbox"===d.type||"radio"===d.type?null!=d.checked:null!=d.value}}function Ra(c,d){d=d.checked;null!=d&&oc(c,"checked",d,!1)}function Wa(c,d){Ra(c,d);var k=rb(d.value),u=d.type;if(null!=k)if("number"===u){if(0===k&&""===c.value||c.value!=k)c.value=""+k}else c.value!==""+k&&(c.value=""+k);else if("submit"===u||"reset"===u){c.removeAttribute("value");
return}d.hasOwnProperty("value")?hb(c,d.type,k):d.hasOwnProperty("defaultValue")&&hb(c,d.type,rb(d.defaultValue));null==d.checked&&null!=d.defaultChecked&&(c.defaultChecked=!!d.defaultChecked)}function Ia(c,d,k){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var u=d.type;if(!("submit"!==u&&"reset"!==u||void 0!==d.value&&null!==d.value))return;d=""+c._wrapperState.initialValue;k||d===c.value||(c.value=d);c.defaultValue=d}k=c.name;""!==k&&(c.name="");c.defaultChecked=!!c._wrapperState.initialChecked;
""!==k&&(c.name=k)}function hb(c,d,k){if("number"!==d||sa(c.ownerDocument)!==c)null==k?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+k&&(c.defaultValue=""+k)}function ab(c,d,k,u){c=c.options;if(d){d={};for(var S=0;S<k.length;S++)d["$"+k[S]]=!0;for(k=0;k<c.length;k++)S=d.hasOwnProperty("$"+c[k].value),c[k].selected!==S&&(c[k].selected=S),S&&u&&(c[k].defaultSelected=!0)}else{k=""+rb(k);d=null;for(S=0;S<c.length;S++){if(c[S].value===k){c[S].selected=!0;u&&(c[S].defaultSelected=!0);
return}null!==d||c[S].disabled||(d=c[S])}null!==d&&(d.selected=!0)}}function qb(c,d){if(null!=d.dangerouslySetInnerHTML)throw Error(r(91));return tc({},d,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function Pb(c,d){var k=d.value;if(null==k){k=d.children;d=d.defaultValue;if(null!=k){if(null!=d)throw Error(r(92));if(ye(k)){if(1<k.length)throw Error(r(93));k=k[0]}d=k}null==d&&(d="");k=d}c._wrapperState={initialValue:rb(k)}}function db(c,d){var k=rb(d.value),u=rb(d.defaultValue);
null!=k&&(k=""+k,k!==c.value&&(c.value=k),null==d.defaultValue&&c.defaultValue!==k&&(c.defaultValue=k));null!=u&&(c.defaultValue=""+u)}function U(c){var d=c.textContent;d===c._wrapperState.initialValue&&""!==d&&null!==d&&(c.value=d)}function ba(c){switch(c){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ea(c,d){return null==c||"http://www.w3.org/1999/xhtml"===c?ba(d):"http://www.w3.org/2000/svg"===
c&&"foreignObject"===d?"http://www.w3.org/1999/xhtml":c}function ja(c,d){if(d){var k=c.firstChild;if(k&&k===c.lastChild&&3===k.nodeType){k.nodeValue=d;return}}c.textContent=d}function La(c,d,k){return null==d||"boolean"===typeof d||""===d?"":k||"number"!==typeof d||0===d||Gf.hasOwnProperty(c)&&Gf[c]?(""+d).trim():d+"px"}function oa(c,d){c=c.style;for(var k in d)if(d.hasOwnProperty(k)){var u=0===k.indexOf("--"),S=La(k,d[k],u);"float"===k&&(k="cssFloat");u?c.setProperty(k,S):c[k]=S}}function qa(c,d){if(d){if(wg[c]&&
(null!=d.children||null!=d.dangerouslySetInnerHTML))throw Error(r(137,c));if(null!=d.dangerouslySetInnerHTML){if(null!=d.children)throw Error(r(60));if("object"!==typeof d.dangerouslySetInnerHTML||!("__html"in d.dangerouslySetInnerHTML))throw Error(r(61));}if(null!=d.style&&"object"!==typeof d.style)throw Error(r(62));}}function l(c,d){if(-1===c.indexOf("-"))return"string"===typeof d.is;switch(c){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;
default:return!0}}function D(c){c=c.target||c.srcElement||window;c.correspondingUseElement&&(c=c.correspondingUseElement);return 3===c.nodeType?c.parentNode:c}function K(c){if(c=Oc(c)){if("function"!==typeof Mf)throw Error(r(280));var d=c.stateNode;d&&(d=Td(d),Mf(c.stateNode,c.type,d))}}function v(c){ze?Af?Af.push(c):Af=[c]:ze=c}function R(){if(ze){var c=ze,d=Af;Af=ze=null;K(c);if(d)for(c=0;c<d.length;c++)K(d[c])}}function A(c,d){return c(d)}function W(){}function G(c,d,k){if(Xh)return c(d,k);Xh=
!0;try{return A(c,d,k)}finally{if(Xh=!1,null!==ze||null!==Af)W(),R()}}function w(c,d){var k=c.stateNode;if(null===k)return null;var u=Td(k);if(null===u)return null;k=u[d];a:switch(d){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(u=!u.disabled)||(c=c.type,u=!("button"===c||"input"===c||"select"===c||"textarea"===
c));c=!u;break a;default:c=!1}if(c)return null;if(k&&"function"!==typeof k)throw Error(r(231,d,typeof k));return k}function z(c,d,k,u,S,fa,Sa,Vb,nc){var Uc=Array.prototype.slice.call(arguments,3);try{d.apply(k,Uc)}catch(xd){this.onError(xd)}}function F(c,d,k,u,S,fa,Sa,Vb,nc){Qd=!1;Hd=null;z.apply(Hf,arguments)}function V(c,d,k,u,S,fa,Sa,Vb,nc){F.apply(this,arguments);if(Qd){if(Qd){var Uc=Hd;Qd=!1;Hd=null}else throw Error(r(198));df||(df=!0,Vf=Uc)}}function ta(c){var d=c,k=c;if(c.alternate)for(;d.return;)d=
d.return;else{c=d;do d=c,0!==(d.flags&4098)&&(k=d.return),c=d.return;while(c)}return 3===d.tag?k:null}function N(c){if(13===c.tag){var d=c.memoizedState;null===d&&(c=c.alternate,null!==c&&(d=c.memoizedState));if(null!==d)return d.dehydrated}return null}function ma(c){if(ta(c)!==c)throw Error(r(188));}function ya(c){var d=c.alternate;if(!d){d=ta(c);if(null===d)throw Error(r(188));return d!==c?null:c}for(var k=c,u=d;;){var S=k.return;if(null===S)break;var fa=S.alternate;if(null===fa){u=S.return;if(null!==
u){k=u;continue}break}if(S.child===fa.child){for(fa=S.child;fa;){if(fa===k)return ma(S),c;if(fa===u)return ma(S),d;fa=fa.sibling}throw Error(r(188));}if(k.return!==u.return)k=S,u=fa;else{for(var Sa=!1,Vb=S.child;Vb;){if(Vb===k){Sa=!0;k=S;u=fa;break}if(Vb===u){Sa=!0;u=S;k=fa;break}Vb=Vb.sibling}if(!Sa){for(Vb=fa.child;Vb;){if(Vb===k){Sa=!0;k=fa;u=S;break}if(Vb===u){Sa=!0;u=fa;k=S;break}Vb=Vb.sibling}if(!Sa)throw Error(r(189));}}if(k.alternate!==u)throw Error(r(190));}if(3!==k.tag)throw Error(r(188));
return k.stateNode.current===k?c:d}function Ma(c){c=ya(c);return null!==c?Pa(c):null}function Pa(c){if(5===c.tag||6===c.tag)return c;for(c=c.child;null!==c;){var d=Pa(c);if(null!==d)return d;c=c.sibling}return null}function Xa(c){if(Yh&&"function"===typeof Yh.onCommitFiberRoot)try{Yh.onCommitFiberRoot(Ij,c,void 0,128===(c.current.flags&128))}catch(d){}}function sb(c){c>>>=0;return 0===c?32:31-(kl(c)/Ll|0)|0}function ib(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;
case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Tb(c,d){var k=c.pendingLanes;if(0===
k)return 0;var u=0,S=c.suspendedLanes,fa=c.pingedLanes,Sa=k&268435455;if(0!==Sa){var Vb=Sa&~S;0!==Vb?u=ib(Vb):(fa&=Sa,0!==fa&&(u=ib(fa)))}else Sa=k&~S,0!==Sa?u=ib(Sa):0!==fa&&(u=ib(fa));if(0===u)return 0;if(0!==d&&d!==u&&0===(d&S)&&(S=u&-u,fa=d&-d,S>=fa||16===S&&0!==(fa&4194240)))return d;0!==(u&4)&&(u|=k&16);d=c.entangledLanes;if(0!==d)for(c=c.entanglements,d&=u;0<d;)k=31-Nh(d),S=1<<k,u|=c[k],d&=~S;return u}function X(c,d){switch(c){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+
5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fa(c,d){for(var k=c.suspendedLanes,u=c.pingedLanes,S=c.expirationTimes,fa=c.pendingLanes;0<fa;){var Sa=31-Nh(fa),Vb=1<<Sa,nc=S[Sa];if(-1===nc){if(0===(Vb&k)||0!==(Vb&u))S[Sa]=X(Vb,d)}else nc<=d&&(c.expiredLanes|=Vb);fa&=~Vb}}function Kb(c){c=c.pendingLanes&-1073741825;return 0!==c?c:c&1073741824?1073741824:0}function qc(){var c=
Jj;Jj<<=1;0===(Jj&4194240)&&(Jj=64);return c}function $b(c){for(var d=[],k=0;31>k;k++)d.push(c);return d}function Mb(c,d,k){c.pendingLanes|=d;536870912!==d&&(c.suspendedLanes=0,c.pingedLanes=0);c=c.eventTimes;d=31-Nh(d);c[d]=k}function Qb(c,d){var k=c.pendingLanes&~d;c.pendingLanes=d;c.suspendedLanes=0;c.pingedLanes=0;c.expiredLanes&=d;c.mutableReadLanes&=d;c.entangledLanes&=d;d=c.entanglements;var u=c.eventTimes;for(c=c.expirationTimes;0<k;){var S=31-Nh(k),fa=1<<S;d[S]=0;u[S]=-1;c[S]=-1;k&=~fa}}
function wc(c,d){var k=c.entangledLanes|=d;for(c=c.entanglements;k;){var u=31-Nh(k),S=1<<u;S&d|c[u]&d&&(c[u]|=d);k&=~S}}function fd(c){c&=-c;return 1<c?4<c?0!==(c&268435455)?16:536870912:4:1}function ra(c,d){switch(c){case "focusin":case "focusout":Ci=null;break;case "dragenter":case "dragleave":ki=null;break;case "mouseover":case "mouseout":Di=null;break;case "pointerover":case "pointerout":kj.delete(d.pointerId);break;case "gotpointercapture":case "lostpointercapture":lj.delete(d.pointerId)}}function Ab(c,
d,k,u,S,fa){if(null===c||c.nativeEvent!==fa)return c={blockedOn:d,domEventName:k,eventSystemFlags:u,nativeEvent:fa,targetContainers:[S]},null!==d&&(d=Oc(d),null!==d&&Fk(d)),c;c.eventSystemFlags|=u;d=c.targetContainers;null!==S&&-1===d.indexOf(S)&&d.push(S);return c}function Ta(c,d,k,u,S){switch(d){case "focusin":return Ci=Ab(Ci,c,d,k,u,S),!0;case "dragenter":return ki=Ab(ki,c,d,k,u,S),!0;case "mouseover":return Di=Ab(Di,c,d,k,u,S),!0;case "pointerover":var fa=S.pointerId;kj.set(fa,Ab(kj.get(fa)||
null,c,d,k,u,S));return!0;case "gotpointercapture":return fa=S.pointerId,lj.set(fa,Ab(lj.get(fa)||null,c,d,k,u,S)),!0}return!1}function wb(c){var d=id(c.target);if(null!==d){var k=ta(d);if(null!==k)if(d=k.tag,13===d){if(d=N(k),null!==d){c.blockedOn=d;ll(c.priority,function(){Ml(k)});return}}else if(3===d&&k.stateNode.current.memoizedState.isDehydrated){c.blockedOn=3===k.tag?k.stateNode.containerInfo:null;return}}c.blockedOn=null}function Gb(c){if(null!==c.blockedOn)return!1;for(var d=c.targetContainers;0<
d.length;){var k=Ha(c.domEventName,c.eventSystemFlags,d[0],c.nativeEvent);if(null===k){k=c.nativeEvent;var u=new k.constructor(k.type,k);Bg=u;k.target.dispatchEvent(u);Bg=null}else return d=Oc(k),null!==d&&Fk(d),c.blockedOn=k,!1;d.shift()}return!0}function Nb(c,d,k){Gb(c)&&k.delete(d)}function Zb(){Zj=!1;null!==Ci&&Gb(Ci)&&(Ci=null);null!==ki&&Gb(ki)&&(ki=null);null!==Di&&Gb(Di)&&(Di=null);kj.forEach(Nb);lj.forEach(Nb)}function jc(c,d){c.blockedOn===d&&(c.blockedOn=null,Zj||(Zj=!0,Cg.unstable_scheduleCallback(Cg.unstable_NormalPriority,
Zb)))}function Ac(c){function d(S){return jc(S,c)}if(0<ak.length){jc(ak[0],c);for(var k=1;k<ak.length;k++){var u=ak[k];u.blockedOn===c&&(u.blockedOn=null)}}null!==Ci&&jc(Ci,c);null!==ki&&jc(ki,c);null!==Di&&jc(Di,c);kj.forEach(d);lj.forEach(d);for(k=0;k<li.length;k++)u=li[k],u.blockedOn===c&&(u.blockedOn=null);for(;0<li.length&&(k=li[0],null===k.blockedOn);)wb(k),null===k.blockedOn&&li.shift()}function ld(c,d,k,u){var S=wf,fa=mj.transition;mj.transition=null;try{wf=1,na(c,d,k,u)}finally{wf=S,mj.transition=
fa}}function Vc(c,d,k,u){var S=wf,fa=mj.transition;mj.transition=null;try{wf=4,na(c,d,k,u)}finally{wf=S,mj.transition=fa}}function na(c,d,k,u){if(bk){var S=Ha(c,d,k,u);if(null===S)Ge(c,d,u,ck,k),ra(c,u);else if(Ta(S,c,d,k,u))u.stopPropagation();else if(ra(c,u),d&4&&-1<ml.indexOf(c)){for(;null!==S;){var fa=Oc(S);null!==fa&&Nl(fa);fa=Ha(c,d,k,u);null===fa&&Ge(c,d,u,ck,k);if(fa===S)break;S=fa}null!==S&&u.stopPropagation()}else Ge(c,d,u,null,k)}}function Ha(c,d,k,u){ck=null;c=D(u);c=id(c);if(null!==c)if(d=
ta(c),null===d)c=null;else if(k=d.tag,13===k){c=N(d);if(null!==c)return c;c=null}else if(3===k){if(d.stateNode.current.memoizedState.isDehydrated)return 3===d.tag?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null);ck=c;return null}function fb(c){switch(c){case "cancel":case "click":case "close":case "contextmenu":case "copy":case "cut":case "auxclick":case "dblclick":case "dragend":case "dragstart":case "drop":case "focusin":case "focusout":case "input":case "invalid":case "keydown":case "keypress":case "keyup":case "mousedown":case "mouseup":case "paste":case "pause":case "play":case "pointercancel":case "pointerdown":case "pointerup":case "ratechange":case "reset":case "resize":case "seeked":case "submit":case "touchcancel":case "touchend":case "touchstart":case "volumechange":case "change":case "selectionchange":case "textInput":case "compositionstart":case "compositionend":case "compositionupdate":case "beforeblur":case "afterblur":case "beforeinput":case "blur":case "fullscreenchange":case "focus":case "hashchange":case "popstate":case "select":case "selectstart":return 1;
case "drag":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "mousemove":case "mouseout":case "mouseover":case "pointermove":case "pointerout":case "pointerover":case "scroll":case "toggle":case "touchmove":case "wheel":case "mouseenter":case "mouseleave":case "pointerenter":case "pointerleave":return 4;case "message":switch(Gk()){case Hk:return 1;case dk:return 4;case Ui:case nl:return 16;case Ik:return 536870912;default:return 16}default:return 16}}function Q(){if(ek)return ek;
var c,d=Jk,k=d.length,u,S="value"in Ei?Ei.value:Ei.textContent,fa=S.length;for(c=0;c<k&&d[c]===S[c];c++);var Sa=k-c;for(u=1;u<=Sa&&d[k-u]===S[fa-u];u++);return ek=S.slice(c,1<u?1-u:void 0)}function t(c){var d=c.keyCode;"charCode"in c?(c=c.charCode,0===c&&13===d&&(c=13)):c=d;10===c&&(c=13);return 32<=c||13===c?c:0}function da(){return!0}function za(){return!1}function Da(c){function d(k,u,S,fa,Sa){this._reactName=k;this._targetInst=S;this.type=u;this.nativeEvent=fa;this.target=Sa;this.currentTarget=
null;for(var Vb in c)c.hasOwnProperty(Vb)&&(k=c[Vb],this[Vb]=k?k(fa):fa[Vb]);this.isDefaultPrevented=(null!=fa.defaultPrevented?fa.defaultPrevented:!1===fa.returnValue)?da:za;this.isPropagationStopped=za;return this}tc(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var k=this.nativeEvent;k&&(k.preventDefault?k.preventDefault():"unknown"!==typeof k.returnValue&&(k.returnValue=!1),this.isDefaultPrevented=da)},stopPropagation:function(){var k=this.nativeEvent;k&&(k.stopPropagation?k.stopPropagation():
"unknown"!==typeof k.cancelBubble&&(k.cancelBubble=!0),this.isPropagationStopped=da)},persist:function(){},isPersistent:da});return d}function Oa(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=Ol[c])?!!d[c]:!1}function jb(){return Oa}function Rb(c,d){switch(c){case "keyup":return-1!==He.indexOf(d.keyCode);case "keydown":return 229!==d.keyCode;case "keypress":case "mousedown":case "focusout":return!0;default:return!1}}function Eb(c){c=c.detail;return"object"===typeof c&&
"data"in c?c.data:null}function Ib(c,d){switch(c){case "compositionend":return Eb(d);case "keypress":if(32!==d.which)return null;fk=!0;return Kk;case "textInput":return c=d.data,c===Kk&&fk?null:c;default:return null}}function Bc(c,d){if(mi)return"compositionend"===c||!vd&&Rb(c,d)?(c=Q(),ek=Jk=Ei=null,mi=!1,c):null;switch(c){case "paste":return null;case "keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;
case "compositionend":return Lk&&"ko"!==d.locale?null:d.data;default:return null}}function Dc(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return"input"===d?!!Pl[c.type]:"textarea"===d?!0:!1}function Rc(c,d,k,u){v(u);d=of(d,"onChange");0<d.length&&(k=new Nf("onChange","change",null,k,u),c.push({event:k,listeners:d}))}function yd(c){Bd(c,0)}function rd(c){var d=Pd(c);if(ec(d))return c}function gd(c,d){if("change"===c)return d}function Fd(){Vi&&(Vi.detachEvent("onpropertychange",Gd),nj=Vi=null)}
function Gd(c){if("value"===c.propertyName&&rd(nj)){var d=[];Rc(d,nj,c,D(c));G(yd,d)}}function ud(c,d,k){"focusin"===c?(Fd(),Vi=d,nj=k,Vi.attachEvent("onpropertychange",Gd)):"focusout"===c&&Fd()}function we(c){if("selectionchange"===c||"keyup"===c||"keydown"===c)return rd(nj)}function Ed(c,d){if("click"===c)return rd(d)}function x(c,d){if("input"===c||"change"===c)return rd(d)}function J(c,d){return c===d&&(0!==c||1/c===1/d)||c!==c&&d!==d}function xa(c,d){if(Oh(c,d))return!0;if("object"!==typeof c||
null===c||"object"!==typeof d||null===d)return!1;var k=Object.keys(c),u=Object.keys(d);if(k.length!==u.length)return!1;for(u=0;u<k.length;u++){var S=k[u];if(!hj.call(d,S)||!Oh(c[S],d[S]))return!1}return!0}function Ka(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function kb(c,d){var k=Ka(c);c=0;for(var u;k;){if(3===k.nodeType){u=c+k.textContent.length;if(c<=d&&u>=d)return{node:k,offset:d-c};c=u}a:{for(;k;){if(k.nextSibling){k=k.nextSibling;break a}k=k.parentNode}k=void 0}k=Ka(k)}}function yb(c,
d){return c&&d?c===d?!0:c&&3===c.nodeType?!1:d&&3===d.nodeType?yb(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function cc(){for(var c=window,d=sa();d instanceof c.HTMLIFrameElement;){try{var k="string"===typeof d.contentWindow.location.href}catch(u){k=!1}if(k)c=d.contentWindow;else break;d=sa(c.document)}return d}function Sb(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&("input"===d&&("text"===c.type||"search"===c.type||
"tel"===c.type||"url"===c.type||"password"===c.type)||"textarea"===d||"true"===c.contentEditable)}function pc(c){var d=cc(),k=c.focusedElem,u=c.selectionRange;if(d!==k&&k&&k.ownerDocument&&yb(k.ownerDocument.documentElement,k)){if(null!==u&&Sb(k))if(d=u.start,c=u.end,void 0===c&&(c=d),"selectionStart"in k)k.selectionStart=d,k.selectionEnd=Math.min(c,k.value.length);else if(c=(d=k.ownerDocument||document)&&d.defaultView||window,c.getSelection){c=c.getSelection();var S=k.textContent.length,fa=Math.min(u.start,
S);u=void 0===u.end?fa:Math.min(u.end,S);!c.extend&&fa>u&&(S=u,u=fa,fa=S);S=kb(k,fa);var Sa=kb(k,u);S&&Sa&&(1!==c.rangeCount||c.anchorNode!==S.node||c.anchorOffset!==S.offset||c.focusNode!==Sa.node||c.focusOffset!==Sa.offset)&&(d=d.createRange(),d.setStart(S.node,S.offset),c.removeAllRanges(),fa>u?(c.addRange(d),c.extend(Sa.node,Sa.offset)):(d.setEnd(Sa.node,Sa.offset),c.addRange(d)))}d=[];for(c=k;c=c.parentNode;)1===c.nodeType&&d.push({element:c,left:c.scrollLeft,top:c.scrollTop});"function"===typeof k.focus&&
k.focus();for(k=0;k<d.length;k++)c=d[k],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}function Ic(c,d,k){var u=k.window===k?k.document:9===k.nodeType?k:k.ownerDocument;Mg||null==oj||oj!==sa(u)||(u=oj,"selectionStart"in u&&Sb(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Kj&&xa(Kj,u)||(Kj=u,u=of(Mk,"onSelect"),
0<u.length&&(d=new Nf("onSelect","select",null,d,k),c.push({event:d,listeners:u}),d.target=oj)))}function yc(c,d){var k={};k[c.toLowerCase()]=d.toLowerCase();k["Webkit"+c]="webkit"+d;k["Moz"+c]="moz"+d;return k}function Xc(c){if(Nk[c])return Nk[c];if(!Fi[c])return c;var d=Fi[c],k;for(k in d)if(d.hasOwnProperty(k)&&k in gk)return Nk[c]=d[k];return c}function md(c,d){Zh.set(c,d);h(d,[c])}function sd(c,d,k){var u=c.type||"unknown-event";c.currentTarget=k;V(u,d,void 0,c);c.currentTarget=null}function Bd(c,
d){d=0!==(d&4);for(var k=0;k<c.length;k++){var u=c[k],S=u.event;u=u.listeners;a:{var fa=void 0;if(d)for(var Sa=u.length-1;0<=Sa;Sa--){var Vb=u[Sa],nc=Vb.instance,Uc=Vb.currentTarget;Vb=Vb.listener;if(nc!==fa&&S.isPropagationStopped())break a;sd(S,Vb,Uc);fa=nc}else for(Sa=0;Sa<u.length;Sa++){Vb=u[Sa];nc=Vb.instance;Uc=Vb.currentTarget;Vb=Vb.listener;if(nc!==fa&&S.isPropagationStopped())break a;sd(S,Vb,Uc);fa=nc}}}if(df)throw c=Vf,df=!1,Vf=null,c;}function pd(c,d){var k=d[Ok];void 0===k&&(k=d[Ok]=new Set);
var u=c+"__bubble";k.has(u)||(Re(d,c,2,!1),k.add(u))}function Nd(c,d,k){var u=0;d&&(u|=4);Re(k,c,u,d)}function le(c){if(!c[hk]){c[hk]=!0;hi.forEach(function(k){"selectionchange"!==k&&(Ql.has(k)||Nd(k,!1,c),Nd(k,!0,c))});var d=9===c.nodeType?c:c.ownerDocument;null===d||d[hk]||(d[hk]=!0,Nd("selectionchange",!1,d))}}function Re(c,d,k,u){switch(fb(d)){case 1:var S=ld;break;case 4:S=Vc;break;default:S=na}k=S.bind(null,d,k,c);S=void 0;!Wd||"touchstart"!==d&&"touchmove"!==d&&"wheel"!==d||(S=!0);u?void 0!==
S?c.addEventListener(d,k,{capture:!0,passive:S}):c.addEventListener(d,k,!0):void 0!==S?c.addEventListener(d,k,{passive:S}):c.addEventListener(d,k,!1)}function Ge(c,d,k,u,S){var fa=u;if(0===(d&1)&&0===(d&2)&&null!==u)a:for(;;){if(null===u)return;var Sa=u.tag;if(3===Sa||4===Sa){var Vb=u.stateNode.containerInfo;if(Vb===S||8===Vb.nodeType&&Vb.parentNode===S)break;if(4===Sa)for(Sa=u.return;null!==Sa;){var nc=Sa.tag;if(3===nc||4===nc)if(nc=Sa.stateNode.containerInfo,nc===S||8===nc.nodeType&&nc.parentNode===
S)return;Sa=Sa.return}for(;null!==Vb;){Sa=id(Vb);if(null===Sa)return;nc=Sa.tag;if(5===nc||6===nc){u=fa=Sa;continue a}Vb=Vb.parentNode}}u=u.return}G(function(){var Uc=fa,xd=D(k),Cd=[];a:{var wd=Zh.get(c);if(void 0!==wd){var Ud=Nf,fe=c;switch(c){case "keypress":if(0===t(k))break a;case "keydown":case "keyup":Ud=Rl;break;case "focusin":fe="focus";Ud=Pk;break;case "focusout":fe="blur";Ud=Pk;break;case "beforeblur":case "afterblur":Ud=Pk;break;case "click":if(2===k.button)break a;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":Ud=
Qk;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":Ud=Rk;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":Ud=Sl;break;case Ph:case ik:case ol:Ud=pl;break;case Wi:Ud=Sk;break;case "scroll":Ud=Tk;break;case "wheel":Ud=Tl;break;case "copy":case "cut":case "paste":Ud=jk;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":Ud=
ql}var me=0!==(d&4),cg=!me&&"scroll"===c,Hc=me?null!==wd?wd+"Capture":null:wd;me=[];for(var vc=Uc,Qc;null!==vc;){Qc=vc;var Jd=Qc.stateNode;5===Qc.tag&&null!==Jd&&(Qc=Jd,null!==Hc&&(Jd=w(vc,Hc),null!=Jd&&me.push(Ke(vc,Jd,Qc))));if(cg)break;vc=vc.return}0<me.length&&(wd=new Ud(wd,fe,null,k,xd),Cd.push({event:wd,listeners:me}))}}if(0===(d&7)){wd="mouseover"===c||"pointerover"===c;Ud="mouseout"===c||"pointerout"===c;if(!wd||k===Bg||!(fe=k.relatedTarget||k.fromElement)||!id(fe)&&!fe[$h])if(Ud||wd){wd=
xd.window===xd?xd:(wd=xd.ownerDocument)?wd.defaultView||wd.parentWindow:window;if(Ud){if(fe=k.relatedTarget||k.toElement,Ud=Uc,fe=fe?id(fe):null,null!==fe&&(cg=ta(fe),fe!==cg||5!==fe.tag&&6!==fe.tag))fe=null}else Ud=null,fe=Uc;if(Ud!==fe){me=Qk;Jd="onMouseLeave";Hc="onMouseEnter";vc="mouse";if("pointerout"===c||"pointerover"===c)me=ql,Jd="onPointerLeave",Hc="onPointerEnter",vc="pointer";cg=null==Ud?wd:Pd(Ud);Qc=null==fe?wd:Pd(fe);wd=new me(Jd,vc+"leave",Ud,k,xd);wd.target=cg;wd.relatedTarget=Qc;Jd=
null;id(xd)===Uc&&(me=new me(Hc,vc+"enter",fe,k,xd),me.target=Qc,me.relatedTarget=cg,Jd=me);cg=Jd;if(Ud&&fe)b:{me=Ud;Hc=fe;vc=0;for(Qc=me;Qc;Qc=ef(Qc))vc++;Qc=0;for(Jd=Hc;Jd;Jd=ef(Jd))Qc++;for(;0<vc-Qc;)me=ef(me),vc--;for(;0<Qc-vc;)Hc=ef(Hc),Qc--;for(;vc--;){if(me===Hc||null!==Hc&&me===Hc.alternate)break b;me=ef(me);Hc=ef(Hc)}me=null}else me=null;null!==Ud&&E(Cd,wd,Ud,me,!1);null!==fe&&null!==cg&&E(Cd,cg,fe,me,!0)}}wd=Uc?Pd(Uc):window;Ud=wd.nodeName&&wd.nodeName.toLowerCase();if("select"===Ud||"input"===
Ud&&"file"===wd.type)var ee=gd;else if(Dc(wd))if(qh)ee=x;else{ee=we;var pe=ud}else(Ud=wd.nodeName)&&"input"===Ud.toLowerCase()&&("checkbox"===wd.type||"radio"===wd.type)&&(ee=Ed);ee&&(ee=ee(c,Uc))?Rc(Cd,ee,k,xd):(pe&&pe(c,wd,Uc),"focusout"===c&&(pe=wd._wrapperState)&&pe.controlled&&"number"===wd.type&&hb(wd,"number",wd.value));pe=Uc?Pd(Uc):window;switch(c){case "focusin":if(Dc(pe)||"true"===pe.contentEditable)oj=pe,Mk=Uc,Kj=null;break;case "focusout":Kj=Mk=oj=null;break;case "mousedown":Mg=!0;break;
case "contextmenu":case "mouseup":case "dragend":Mg=!1;Ic(Cd,k,xd);break;case "selectionchange":if(kk)break;case "keydown":case "keyup":Ic(Cd,k,xd)}var ve;if(vd)a:{switch(c){case "compositionstart":var ge="onCompositionStart";break a;case "compositionend":ge="onCompositionEnd";break a;case "compositionupdate":ge="onCompositionUpdate";break a}ge=void 0}else mi?Rb(c,k)&&(ge="onCompositionEnd"):"keydown"===c&&229===k.keyCode&&(ge="onCompositionStart");ge&&(Lk&&"ko"!==k.locale&&(mi||"onCompositionStart"!==
ge?"onCompositionEnd"===ge&&mi&&(ve=Q()):(Ei=xd,Jk="value"in Ei?Ei.value:Ei.textContent,mi=!0)),pe=of(Uc,ge),0<pe.length&&(ge=new rl(ge,c,null,k,xd),Cd.push({event:ge,listeners:pe}),ve?ge.data=ve:(ve=Eb(k),null!==ve&&(ge.data=ve))));if(ve=Gi?Ib(c,k):Bc(c,k))Uc=of(Uc,"onBeforeInput"),0<Uc.length&&(xd=new rl("onBeforeInput","beforeinput",null,k,xd),Cd.push({event:xd,listeners:Uc}),xd.data=ve)}Bd(Cd,d)})}function Ke(c,d,k){return{instance:c,listener:d,currentTarget:k}}function of(c,d){for(var k=d+"Capture",
u=[];null!==c;){var S=c,fa=S.stateNode;5===S.tag&&null!==fa&&(S=fa,fa=w(c,k),null!=fa&&u.unshift(Ke(c,fa,S)),fa=w(c,d),null!=fa&&u.push(Ke(c,fa,S)));c=c.return}return u}function ef(c){if(null===c)return null;do c=c.return;while(c&&5!==c.tag);return c?c:null}function E(c,d,k,u,S){for(var fa=d._reactName,Sa=[];null!==k&&k!==u;){var Vb=k,nc=Vb.alternate,Uc=Vb.stateNode;if(null!==nc&&nc===u)break;5===Vb.tag&&null!==Uc&&(Vb=Uc,S?(nc=w(k,fa),null!=nc&&Sa.unshift(Ke(k,nc,Vb))):S||(nc=w(k,fa),null!=nc&&Sa.push(Ke(k,
nc,Vb))));k=k.return}0!==Sa.length&&c.push({event:d,listeners:Sa})}function ca(c){return("string"===typeof c?c:""+c).replace(Ul,"\n").replace(Vl,"")}function Ga(c,d,k){d=ca(d);if(ca(c)!==d&&k)throw Error(r(425));}function eb(){}function Cb(c,d){return"textarea"===c||"noscript"===c||"string"===typeof d.children||"number"===typeof d.children||"object"===typeof d.dangerouslySetInnerHTML&&null!==d.dangerouslySetInnerHTML&&null!=d.dangerouslySetInnerHTML.__html}function rc(c){setTimeout(function(){throw c;
})}function Lb(c,d){var k=d,u=0;do{var S=k.nextSibling;c.removeChild(k);if(S&&8===S.nodeType)if(k=S.data,"/$"===k){if(0===u){c.removeChild(S);Ac(d);return}u--}else"$"!==k&&"$?"!==k&&"$!"!==k||u++;k=S}while(k);Ac(d)}function Mc(c){for(;null!=c;c=c.nextSibling){var d=c.nodeType;if(1===d||3===d)break;if(8===d){d=c.data;if("$"===d||"$!"===d||"$?"===d)break;if("/$"===d)return null}}return c}function qd(c){c=c.previousSibling;for(var d=0;c;){if(8===c.nodeType){var k=c.data;if("$"===k||"$!"===k||"$?"===
k){if(0===d)return c;d--}else"/$"===k&&d++}c=c.previousSibling}return null}function id(c){var d=c[Qh];if(d)return d;for(var k=c.parentNode;k;){if(d=k[$h]||k[Qh]){k=d.alternate;if(null!==d.child||null!==k&&null!==k.child)for(c=qd(c);null!==c;){if(k=c[Qh])return k;c=qd(c)}return d}c=k;k=c.parentNode}return null}function Oc(c){c=c[Qh]||c[$h];return!c||5!==c.tag&&6!==c.tag&&13!==c.tag&&3!==c.tag?null:c}function Pd(c){if(5===c.tag||6===c.tag)return c.stateNode;throw Error(r(33));}function Td(c){return c[Lj]||
null}function Md(c){return{current:c}}function Kd(c){0>pj||(c.current=Uk[pj],Uk[pj]=null,pj--)}function ae(c,d){pj++;Uk[pj]=c.current;c.current=d}function Ca(c,d){var k=c.type.contextTypes;if(!k)return jg;var u=c.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===d)return u.__reactInternalMemoizedMaskedChildContext;var S={},fa;for(fa in k)S[fa]=d[fa];u&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=d,c.__reactInternalMemoizedMaskedChildContext=S);return S}function Qa(c){c=
c.childContextTypes;return null!==c&&void 0!==c}function dc(){Kd(ah);Kd(Dg)}function hd(c,d,k){if(Dg.current!==jg)throw Error(r(168));ae(Dg,d);ae(ah,k)}function sc(c,d,k){var u=c.stateNode;d=d.childContextTypes;if("function"!==typeof u.getChildContext)return k;u=u.getChildContext();for(var S in u)if(!(S in d))throw Error(r(108,tb(c)||"Unknown",S));return tc({},k,u)}function Pc(c){c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||jg;ni=Dg.current;ae(Dg,c);ae(ah,ah.current);return!0}function Fc(c,
d,k){var u=c.stateNode;if(!u)throw Error(r(169));k?(c=sc(c,d,ni),u.__reactInternalMemoizedMergedChildContext=c,Kd(ah),Kd(Dg),ae(Dg,c)):Kd(ah);ae(ah,k)}function Tc(c){null===og?og=[c]:og.push(c)}function Yc(c){ai=!0;Tc(c)}function jd(){if(!Vk&&null!==og){Vk=!0;var c=0,d=wf;try{var k=og;for(wf=1;c<k.length;c++){var u=k[c];do u=u(!0);while(null!==u)}og=null;ai=!1}catch(S){throw null!==og&&(og=og.slice(c+1)),Wf(Hk,jd),S;}finally{wf=d,Vk=!1}}return null}function nd(c,d){qj[Ah++]=lk;qj[Ah++]=mk;mk=c;lk=
d}function ne(c,d,k){If[rh++]=Bh;If[rh++]=oi;If[rh++]=bi;bi=c;var u=Bh;c=oi;var S=32-Nh(u)-1;u&=~(1<<S);k+=1;var fa=32-Nh(d)+S;if(30<fa){var Sa=S-S%5;fa=(u&(1<<Sa)-1).toString(32);u>>=Sa;S-=Sa;Bh=1<<32-Nh(d)+S|k<<S|u;oi=fa+c}else Bh=1<<fa|k<<S|u,oi=c}function Ue(c){null!==c.return&&(nd(c,1),ne(c,1,0))}function Fe(c){for(;c===mk;)mk=qj[--Ah],qj[Ah]=null,lk=qj[--Ah],qj[Ah]=null;for(;c===bi;)bi=If[--rh],If[rh]=null,oi=If[--rh],If[rh]=null,Bh=If[--rh],If[rh]=null}function qe(c,d){var k=kg(5,null,null,
0);k.elementType="DELETED";k.stateNode=d;k.return=c;d=c.deletions;null===d?(c.deletions=[k],c.flags|=16):d.push(k)}function hf(c,d){switch(c.tag){case 5:var k=c.type;d=1!==d.nodeType||k.toLowerCase()!==d.nodeName.toLowerCase()?null:d;return null!==d?(c.stateNode=d,Sg=c,Tg=Mc(d.firstChild),!0):!1;case 6:return d=""===c.pendingProps||3!==d.nodeType?null:d,null!==d?(c.stateNode=d,Sg=c,Tg=null,!0):!1;case 13:return d=8!==d.nodeType?null:d,null!==d?(k=null!==bi?{id:Bh,overflow:oi}:null,c.memoizedState=
{dehydrated:d,treeContext:k,retryLane:1073741824},k=kg(18,null,null,0),k.stateNode=d,k.return=c,c.child=k,Sg=c,Tg=null,!0):!1;default:return!1}}function pf(c){return 0!==(c.mode&1)&&0===(c.flags&128)}function Le(c){if(Sf){var d=Tg;if(d){var k=d;if(!hf(c,d)){if(pf(c))throw Error(r(418));d=Mc(k.nextSibling);var u=Sg;d&&hf(c,d)?qe(u,k):(c.flags=c.flags&-4097|2,Sf=!1,Sg=c)}}else{if(pf(c))throw Error(r(418));c.flags=c.flags&-4097|2;Sf=!1;Sg=c}}}function We(c){for(c=c.return;null!==c&&5!==c.tag&&3!==c.tag&&
13!==c.tag;)c=c.return;Sg=c}function af(c){if(c!==Sg)return!1;if(!Sf)return We(c),Sf=!0,!1;var d;(d=3!==c.tag)&&!(d=5!==c.tag)&&(d=c.type,d="head"!==d&&"body"!==d&&!Cb(c.type,c.memoizedProps));if(d&&(d=Tg)){if(pf(c))throw se(),Error(r(418));for(;d;)qe(c,d),d=Mc(d.nextSibling)}We(c);if(13===c.tag){c=c.memoizedState;c=null!==c?c.dehydrated:null;if(!c)throw Error(r(317));a:{c=c.nextSibling;for(d=0;c;){if(8===c.nodeType){var k=c.data;if("/$"===k){if(0===d){Tg=Mc(c.nextSibling);break a}d--}else"$"!==k&&
"$!"!==k&&"$?"!==k||d++}c=c.nextSibling}Tg=null}}else Tg=Sg?Mc(c.stateNode.nextSibling):null;return!0}function se(){for(var c=Tg;c;)c=Mc(c.nextSibling)}function oe(){Tg=Sg=null;Sf=!1}function Me(c){null===hh?hh=[c]:hh.push(c)}function xe(c,d,k){c=k.ref;if(null!==c&&"function"!==typeof c&&"object"!==typeof c){if(k._owner){if(k=k._owner){if(1!==k.tag)throw Error(r(309));var u=k.stateNode}if(!u)throw Error(r(147,c));var S=u,fa=""+c;if(null!==d&&null!==d.ref&&"function"===typeof d.ref&&d.ref._stringRef===
fa)return d.ref;d=function(Sa){var Vb=S.refs;null===Sa?delete Vb[fa]:Vb[fa]=Sa};d._stringRef=fa;return d}if("string"!==typeof c)throw Error(r(284));if(!k._owner)throw Error(r(290,c));}return c}function y(c,d){c=Object.prototype.toString.call(d);throw Error(r(31,"[object Object]"===c?"object with keys {"+Object.keys(d).join(", ")+"}":c));}function M(c){var d=c._init;return d(c._payload)}function p(c){function d(Hc,vc){if(c){var Qc=Hc.deletions;null===Qc?(Hc.deletions=[vc],Hc.flags|=16):Qc.push(vc)}}
function k(Hc,vc){if(!c)return null;for(;null!==vc;)d(Hc,vc),vc=vc.sibling;return null}function u(Hc,vc){for(Hc=new Map;null!==vc;)null!==vc.key?Hc.set(vc.key,vc):Hc.set(vc.index,vc),vc=vc.sibling;return Hc}function S(Hc,vc){Hc=dg(Hc,vc);Hc.index=0;Hc.sibling=null;return Hc}function fa(Hc,vc,Qc){Hc.index=Qc;if(!c)return Hc.flags|=1048576,vc;Qc=Hc.alternate;if(null!==Qc)return Qc=Qc.index,Qc<vc?(Hc.flags|=2,vc):Qc;Hc.flags|=2;return vc}function Sa(Hc){c&&null===Hc.alternate&&(Hc.flags|=2);return Hc}
function Vb(Hc,vc,Qc,Jd){if(null===vc||6!==vc.tag)return vc=rj(Qc,Hc.mode,Jd),vc.return=Hc,vc;vc=S(vc,Qc);vc.return=Hc;return vc}function nc(Hc,vc,Qc,Jd){var ee=Qc.type;if(ee===ii)return xd(Hc,vc,Qc.props.children,Jd,Qc.key);if(null!==vc&&(vc.elementType===ee||"object"===typeof ee&&null!==ee&&ee.$$typeof===uc&&M(ee)===vc.type))return Jd=S(vc,Qc.props),Jd.ref=xe(Hc,vc,Qc),Jd.return=Hc,Jd;Jd=Cf(Qc.type,Qc.key,Qc.props,null,Hc.mode,Jd);Jd.ref=xe(Hc,vc,Qc);Jd.return=Hc;return Jd}function Uc(Hc,vc,Qc,
Jd){if(null===vc||4!==vc.tag||vc.stateNode.containerInfo!==Qc.containerInfo||vc.stateNode.implementation!==Qc.implementation)return vc=sj(Qc,Hc.mode,Jd),vc.return=Hc,vc;vc=S(vc,Qc.children||[]);vc.return=Hc;return vc}function xd(Hc,vc,Qc,Jd,ee){if(null===vc||7!==vc.tag)return vc=Eg(Qc,Hc.mode,Jd,ee),vc.return=Hc,vc;vc=S(vc,Qc);vc.return=Hc;return vc}function Cd(Hc,vc,Qc){if("string"===typeof vc&&""!==vc||"number"===typeof vc)return vc=rj(""+vc,Hc.mode,Qc),vc.return=Hc,vc;if("object"===typeof vc&&
null!==vc){switch(vc.$$typeof){case Xi:return Qc=Cf(vc.type,vc.key,vc.props,null,Hc.mode,Qc),Qc.ref=xe(Hc,null,vc),Qc.return=Hc,Qc;case ji:return vc=sj(vc,Hc.mode,Qc),vc.return=Hc,vc;case uc:var Jd=vc._init;return Cd(Hc,Jd(vc._payload),Qc)}if(ye(vc)||zb(vc))return vc=Eg(vc,Hc.mode,Qc,null),vc.return=Hc,vc;y(Hc,vc)}return null}function wd(Hc,vc,Qc,Jd){var ee=null!==vc?vc.key:null;if("string"===typeof Qc&&""!==Qc||"number"===typeof Qc)return null!==ee?null:Vb(Hc,vc,""+Qc,Jd);if("object"===typeof Qc&&
null!==Qc){switch(Qc.$$typeof){case Xi:return Qc.key===ee?nc(Hc,vc,Qc,Jd):null;case ji:return Qc.key===ee?Uc(Hc,vc,Qc,Jd):null;case uc:return ee=Qc._init,wd(Hc,vc,ee(Qc._payload),Jd)}if(ye(Qc)||zb(Qc))return null!==ee?null:xd(Hc,vc,Qc,Jd,null);y(Hc,Qc)}return null}function Ud(Hc,vc,Qc,Jd,ee){if("string"===typeof Jd&&""!==Jd||"number"===typeof Jd)return Hc=Hc.get(Qc)||null,Vb(vc,Hc,""+Jd,ee);if("object"===typeof Jd&&null!==Jd){switch(Jd.$$typeof){case Xi:return Hc=Hc.get(null===Jd.key?Qc:Jd.key)||
null,nc(vc,Hc,Jd,ee);case ji:return Hc=Hc.get(null===Jd.key?Qc:Jd.key)||null,Uc(vc,Hc,Jd,ee);case uc:var pe=Jd._init;return Ud(Hc,vc,Qc,pe(Jd._payload),ee)}if(ye(Jd)||zb(Jd))return Hc=Hc.get(Qc)||null,xd(vc,Hc,Jd,ee,null);y(vc,Jd)}return null}function fe(Hc,vc,Qc,Jd){for(var ee=null,pe=null,ve=vc,ge=vc=0,xg=null;null!==ve&&ge<Qc.length;ge++){ve.index>ge?(xg=ve,ve=null):xg=ve.sibling;var jf=wd(Hc,ve,Qc[ge],Jd);if(null===jf){null===ve&&(ve=xg);break}c&&ve&&null===jf.alternate&&d(Hc,ve);vc=fa(jf,vc,
ge);null===pe?ee=jf:pe.sibling=jf;pe=jf;ve=xg}if(ge===Qc.length)return k(Hc,ve),Sf&&nd(Hc,ge),ee;if(null===ve){for(;ge<Qc.length;ge++)ve=Cd(Hc,Qc[ge],Jd),null!==ve&&(vc=fa(ve,vc,ge),null===pe?ee=ve:pe.sibling=ve,pe=ve);Sf&&nd(Hc,ge);return ee}for(ve=u(Hc,ve);ge<Qc.length;ge++)xg=Ud(ve,Hc,ge,Qc[ge],Jd),null!==xg&&(c&&null!==xg.alternate&&ve.delete(null===xg.key?ge:xg.key),vc=fa(xg,vc,ge),null===pe?ee=xg:pe.sibling=xg,pe=xg);c&&ve.forEach(function(pi){return d(Hc,pi)});Sf&&nd(Hc,ge);return ee}function me(Hc,
vc,Qc,Jd){var ee=zb(Qc);if("function"!==typeof ee)throw Error(r(150));Qc=ee.call(Qc);if(null==Qc)throw Error(r(151));for(var pe=ee=null,ve=vc,ge=vc=0,xg=null,jf=Qc.next();null!==ve&&!jf.done;ge++,jf=Qc.next()){ve.index>ge?(xg=ve,ve=null):xg=ve.sibling;var pi=wd(Hc,ve,jf.value,Jd);if(null===pi){null===ve&&(ve=xg);break}c&&ve&&null===pi.alternate&&d(Hc,ve);vc=fa(pi,vc,ge);null===pe?ee=pi:pe.sibling=pi;pe=pi;ve=xg}if(jf.done)return k(Hc,ve),Sf&&nd(Hc,ge),ee;if(null===ve){for(;!jf.done;ge++,jf=Qc.next())jf=
Cd(Hc,jf.value,Jd),null!==jf&&(vc=fa(jf,vc,ge),null===pe?ee=jf:pe.sibling=jf,pe=jf);Sf&&nd(Hc,ge);return ee}for(ve=u(Hc,ve);!jf.done;ge++,jf=Qc.next())jf=Ud(ve,Hc,ge,jf.value,Jd),null!==jf&&(c&&null!==jf.alternate&&ve.delete(null===jf.key?ge:jf.key),vc=fa(jf,vc,ge),null===pe?ee=jf:pe.sibling=jf,pe=jf);c&&ve.forEach(function(Wl){return d(Hc,Wl)});Sf&&nd(Hc,ge);return ee}function cg(Hc,vc,Qc,Jd){"object"===typeof Qc&&null!==Qc&&Qc.type===ii&&null===Qc.key&&(Qc=Qc.props.children);if("object"===typeof Qc&&
null!==Qc){switch(Qc.$$typeof){case Xi:a:{for(var ee=Qc.key,pe=vc;null!==pe;){if(pe.key===ee){ee=Qc.type;if(ee===ii){if(7===pe.tag){k(Hc,pe.sibling);vc=S(pe,Qc.props.children);vc.return=Hc;Hc=vc;break a}}else if(pe.elementType===ee||"object"===typeof ee&&null!==ee&&ee.$$typeof===uc&&M(ee)===pe.type){k(Hc,pe.sibling);vc=S(pe,Qc.props);vc.ref=xe(Hc,pe,Qc);vc.return=Hc;Hc=vc;break a}k(Hc,pe);break}else d(Hc,pe);pe=pe.sibling}Qc.type===ii?(vc=Eg(Qc.props.children,Hc.mode,Jd,Qc.key),vc.return=Hc,Hc=vc):
(Jd=Cf(Qc.type,Qc.key,Qc.props,null,Hc.mode,Jd),Jd.ref=xe(Hc,vc,Qc),Jd.return=Hc,Hc=Jd)}return Sa(Hc);case ji:a:{for(pe=Qc.key;null!==vc;){if(vc.key===pe)if(4===vc.tag&&vc.stateNode.containerInfo===Qc.containerInfo&&vc.stateNode.implementation===Qc.implementation){k(Hc,vc.sibling);vc=S(vc,Qc.children||[]);vc.return=Hc;Hc=vc;break a}else{k(Hc,vc);break}else d(Hc,vc);vc=vc.sibling}vc=sj(Qc,Hc.mode,Jd);vc.return=Hc;Hc=vc}return Sa(Hc);case uc:return pe=Qc._init,cg(Hc,vc,pe(Qc._payload),Jd)}if(ye(Qc))return fe(Hc,
vc,Qc,Jd);if(zb(Qc))return me(Hc,vc,Qc,Jd);y(Hc,Qc)}return"string"===typeof Qc&&""!==Qc||"number"===typeof Qc?(Qc=""+Qc,null!==vc&&6===vc.tag?(k(Hc,vc.sibling),vc=S(vc,Qc),vc.return=Hc,Hc=vc):(k(Hc,vc),vc=rj(Qc,Hc.mode,Jd),vc.return=Hc,Hc=vc),Sa(Hc)):k(Hc,vc)}return cg}function P(c){var d=tj.current;Kd(tj);c._currentValue=d}function Y(c,d,k){for(;null!==c;){var u=c.alternate;(c.childLanes&d)!==d?(c.childLanes|=d,null!==u&&(u.childLanes|=d)):null!==u&&(u.childLanes&d)!==d&&(u.childLanes|=d);if(c===
k)break;c=c.return}}function pa(c,d){Hi=c;Mj=qi=null;c=c.dependencies;null!==c&&null!==c.firstContext&&(0!==(c.lanes&d)&&(bh=!0),c.firstContext=null)}function ua(c){var d=c._currentValue;if(Mj!==c)if(c={context:c,memoizedValue:d,next:null},null===qi){if(null===Hi)throw Error(r(308));qi=c;Hi.dependencies={lanes:0,firstContext:c}}else qi=qi.next=c;return d}function Bb(c){null===Yi?Yi=[c]:Yi.push(c)}function Fb(c,d,k,u){var S=d.interleaved;null===S?(k.next=k,Bb(d)):(k.next=S.next,S.next=k);d.interleaved=
k;return Wb(c,u)}function Wb(c,d){c.lanes|=d;var k=c.alternate;null!==k&&(k.lanes|=d);k=c;for(c=c.return;null!==c;)c.childLanes|=d,k=c.alternate,null!==k&&(k.childLanes|=d),k=c,c=c.return;return 3===k.tag?k.stateNode:null}function ac(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mc(c,d){c=c.updateQueue;d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,
lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function zc(c,d){return{eventTime:c,lane:d,tag:0,payload:null,callback:null,next:null}}function xc(c,d,k){var u=c.updateQueue;if(null===u)return null;u=u.shared;if(0!==(ff&2)){var S=u.pending;null===S?d.next=d:(d.next=S.next,S.next=d);u.pending=d;return Wb(c,k)}S=u.interleaved;null===S?(d.next=d,Bb(u)):(d.next=S.next,S.next=d);u.interleaved=d;return Wb(c,k)}function Jc(c,d,k){d=d.updateQueue;if(null!==d&&(d=d.shared,0!==(k&4194240))){var u=
d.lanes;u&=c.pendingLanes;k|=u;d.lanes=k;wc(c,k)}}function $c(c,d){var k=c.updateQueue,u=c.alternate;if(null!==u&&(u=u.updateQueue,k===u)){var S=null,fa=null;k=k.firstBaseUpdate;if(null!==k){do{var Sa={eventTime:k.eventTime,lane:k.lane,tag:k.tag,payload:k.payload,callback:k.callback,next:null};null===fa?S=fa=Sa:fa=fa.next=Sa;k=k.next}while(null!==k);null===fa?S=fa=d:fa=fa.next=d}else S=fa=d;k={baseState:u.baseState,firstBaseUpdate:S,lastBaseUpdate:fa,shared:u.shared,effects:u.effects};c.updateQueue=
k}else c=k.lastBaseUpdate,null===c?k.firstBaseUpdate=d:c.next=d,k.lastBaseUpdate=d}function ad(c,d,k,u){var S=c.updateQueue;ri=!1;var fa=S.firstBaseUpdate,Sa=S.lastBaseUpdate,Vb=S.shared.pending;if(null!==Vb){S.shared.pending=null;var nc=Vb,Uc=nc.next;nc.next=null;null===Sa?fa=Uc:Sa.next=Uc;var xd=c.alternate;null!==xd&&(xd=xd.updateQueue,Vb=xd.lastBaseUpdate,Vb!==nc&&(null===Vb?xd.firstBaseUpdate=Uc:Vb.next=Uc,xd.lastBaseUpdate=nc))}if(null!==fa){var Cd=S.baseState;Sa=0;xd=Uc=nc=null;Vb=fa;do{var wd=
Vb.lane,Ud=Vb.eventTime;if((u&wd)===wd){null!==xd&&(xd=xd.next={eventTime:Ud,lane:0,tag:Vb.tag,payload:Vb.payload,callback:Vb.callback,next:null});a:{var fe=c,me=Vb;wd=d;Ud=k;switch(me.tag){case 1:fe=me.payload;if("function"===typeof fe){Cd=fe.call(Ud,Cd,wd);break a}Cd=fe;break a;case 3:fe.flags=fe.flags&-65537|128;case 0:fe=me.payload;wd="function"===typeof fe?fe.call(Ud,Cd,wd):fe;if(null===wd||void 0===wd)break a;Cd=tc({},Cd,wd);break a;case 2:ri=!0}}null!==Vb.callback&&0!==Vb.lane&&(c.flags|=64,
wd=S.effects,null===wd?S.effects=[Vb]:wd.push(Vb))}else Ud={eventTime:Ud,lane:wd,tag:Vb.tag,payload:Vb.payload,callback:Vb.callback,next:null},null===xd?(Uc=xd=Ud,nc=Cd):xd=xd.next=Ud,Sa|=wd;Vb=Vb.next;if(null===Vb)if(Vb=S.shared.pending,null===Vb)break;else wd=Vb,Vb=wd.next,wd.next=null,S.lastBaseUpdate=wd,S.shared.pending=null}while(1);null===xd&&(nc=Cd);S.baseState=nc;S.firstBaseUpdate=Uc;S.lastBaseUpdate=xd;d=S.shared.interleaved;if(null!==d){S=d;do Sa|=S.lane,S=S.next;while(S!==d)}else null===
fa&&(S.shared.lanes=0);qf|=Sa;c.lanes=Sa;c.memoizedState=Cd}}function kd(c,d,k){c=d.effects;d.effects=null;if(null!==c)for(d=0;d<c.length;d++){var u=c[d],S=u.callback;if(null!==S){u.callback=null;u=k;if("function"!==typeof S)throw Error(r(191,S));S.call(u)}}}function Xd(c){if(c===uj)throw Error(r(174));return c}function Sc(c,d){ae(vj,d);ae(wj,c);ae(ci,uj);c=d.nodeType;switch(c){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:ea(null,"");break;default:c=8===c?d.parentNode:d,d=c.namespaceURI||
null,c=c.tagName,d=ea(d,c)}Kd(ci);ae(ci,d)}function Vd(){Kd(ci);Kd(wj);Kd(vj)}function Be(c){Xd(vj.current);var d=Xd(ci.current),k=ea(d,c.type);d!==k&&(ae(wj,c),ae(ci,k))}function Zc(c){wj.current===c&&(Kd(ci),Kd(wj))}function zd(c){for(var d=c;null!==d;){if(13===d.tag){var k=d.memoizedState;if(null!==k&&(k=k.dehydrated,null===k||"$?"===k.data||"$!"===k.data))return d}else if(19===d.tag&&void 0!==d.memoizedProps.revealOrder){if(0!==(d.flags&128))return d}else if(null!==d.child){d.child.return=d;d=
d.child;continue}if(d===c)break;for(;null===d.sibling;){if(null===d.return||d.return===c)return null;d=d.return}d.sibling.return=d.return;d=d.sibling}return null}function Yd(){for(var c=0;c<Ii.length;c++)Ii[c]._workInProgressVersionPrimary=null;Ii.length=0}function Zd(){throw Error(r(321));}function Ce(c,d){if(null===d)return!1;for(var k=0;k<d.length&&k<c.length;k++)if(!Oh(c[k],d[k]))return!1;return!0}function Rd(c,d,k,u,S,fa){Zi=fa;xf=d;d.memoizedState=null;d.updateQueue=null;d.lanes=0;Nj.current=
null===c||null===c.memoizedState?Xl:sl;c=k(u,S);if(Oj){fa=0;do{Oj=!1;Pj=0;if(25<=fa)throw Error(r(301));fa+=1;yg=pg=null;d.updateQueue=null;Nj.current=tl;c=k(u,S)}while(Oj)}Nj.current=Qj;d=null!==pg&&null!==pg.next;Zi=0;yg=pg=xf=null;$i=!1;if(d)throw Error(r(300));return c}function Od(){var c=0!==Pj;Pj=0;return c}function te(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===yg?xf.memoizedState=yg=c:yg=yg.next=c;return yg}function Ae(){if(null===pg){var c=xf.alternate;
c=null!==c?c.memoizedState:null}else c=pg.next;var d=null===yg?xf.memoizedState:yg.next;if(null!==d)yg=d,pg=c;else{if(null===c)throw Error(r(310));pg=c;c={memoizedState:pg.memoizedState,baseState:pg.baseState,baseQueue:pg.baseQueue,queue:pg.queue,next:null};null===yg?xf.memoizedState=yg=c:yg=yg.next=c}return yg}function Oe(c,d){return"function"===typeof d?d(c):d}function Df(c){var d=Ae(),k=d.queue;if(null===k)throw Error(r(311));k.lastRenderedReducer=c;var u=pg,S=u.baseQueue,fa=k.pending;if(null!==
fa){if(null!==S){var Sa=S.next;S.next=fa.next;fa.next=Sa}u.baseQueue=S=fa;k.pending=null}if(null!==S){fa=S.next;u=u.baseState;var Vb=Sa=null,nc=null,Uc=fa;do{var xd=Uc.lane;if((Zi&xd)===xd)null!==nc&&(nc=nc.next={lane:0,action:Uc.action,hasEagerState:Uc.hasEagerState,eagerState:Uc.eagerState,next:null}),u=Uc.hasEagerState?Uc.eagerState:c(u,Uc.action);else{var Cd={lane:xd,action:Uc.action,hasEagerState:Uc.hasEagerState,eagerState:Uc.eagerState,next:null};null===nc?(Vb=nc=Cd,Sa=u):nc=nc.next=Cd;xf.lanes|=
xd;qf|=xd}Uc=Uc.next}while(null!==Uc&&Uc!==fa);null===nc?Sa=u:nc.next=Vb;Oh(u,d.memoizedState)||(bh=!0);d.memoizedState=u;d.baseState=Sa;d.baseQueue=nc;k.lastRenderedState=u}c=k.interleaved;if(null!==c){S=c;do fa=S.lane,xf.lanes|=fa,qf|=fa,S=S.next;while(S!==c)}else null===S&&(k.lanes=0);return[d.memoizedState,k.dispatch]}function td(c){var d=Ae(),k=d.queue;if(null===k)throw Error(r(311));k.lastRenderedReducer=c;var u=k.dispatch,S=k.pending,fa=d.memoizedState;if(null!==S){k.pending=null;var Sa=S=
S.next;do fa=c(fa,Sa.action),Sa=Sa.next;while(Sa!==S);Oh(fa,d.memoizedState)||(bh=!0);d.memoizedState=fa;null===d.baseQueue&&(d.baseState=fa);k.lastRenderedState=fa}return[fa,u]}function Pe(){}function Te(c,d){var k=xf,u=Ae(),S=d(),fa=!Oh(u.memoizedState,S);fa&&(u.memoizedState=S,bh=!0);u=u.queue;Ch(rf.bind(null,k,u,c),[c]);if(u.getSnapshot!==d||fa||null!==yg&&yg.memoizedState.tag&1){k.flags|=2048;Of(9,Xf.bind(null,k,u,S,d),void 0,null);if(null===qg)throw Error(r(349));0!==(Zi&30)||kf(k,d,S)}return S}
function kf(c,d,k){c.flags|=16384;c={getSnapshot:d,value:k};d=xf.updateQueue;null===d?(d={lastEffect:null,stores:null},xf.updateQueue=d,d.stores=[c]):(k=d.stores,null===k?d.stores=[c]:k.push(c))}function Xf(c,d,k,u){d.value=k;d.getSnapshot=u;bf(d)&&eg(c)}function rf(c,d,k){return k(function(){bf(d)&&eg(c)})}function bf(c){var d=c.getSnapshot;c=c.value;try{var k=d();return!Oh(c,k)}catch(u){return!0}}function eg(c){var d=Wb(c,1);null!==d&&q(d,c,1,-1)}function fg(c){var d=te();"function"===typeof c&&
(c=c());d.memoizedState=d.baseState=c;c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oe,lastRenderedState:c};d.queue=c;c=c.dispatch=De.bind(null,xf,c);return[d.memoizedState,c]}function Of(c,d,k,u){c={tag:c,create:d,destroy:k,deps:u,next:null};d=xf.updateQueue;null===d?(d={lastEffect:null,stores:null},xf.updateQueue=d,d.lastEffect=c.next=c):(k=d.lastEffect,null===k?d.lastEffect=c.next=c:(u=k.next,k.next=c,c.next=u,d.lastEffect=c));return c}function Pf(){return Ae().memoizedState}
function nf(c,d,k,u){var S=te();xf.flags|=c;S.memoizedState=Of(1|d,k,void 0,void 0===u?null:u)}function lg(c,d,k,u){var S=Ae();u=void 0===u?null:u;var fa=void 0;if(null!==pg){var Sa=pg.memoizedState;fa=Sa.destroy;if(null!==u&&Ce(u,Sa.deps)){S.memoizedState=Of(d,k,fa,u);return}}xf.flags|=c;S.memoizedState=Of(1|d,k,fa,u)}function Fg(c,d){return nf(8390656,8,c,d)}function Ch(c,d){return lg(2048,8,c,d)}function Gg(c,d){return lg(4,2,c,d)}function Ug(c,d){return lg(4,4,c,d)}function ch(c,d){if("function"===
typeof d)return c=c(),d(c),function(){d(null)};if(null!==d&&void 0!==d)return c=c(),d.current=c,function(){d.current=null}}function T(c,d,k){k=null!==k&&void 0!==k?k.concat([c]):null;return lg(4,4,ch.bind(null,d,c),k)}function Ja(){}function lb(c,d){var k=Ae();d=void 0===d?null:d;var u=k.memoizedState;if(null!==u&&null!==d&&Ce(d,u[1]))return u[0];k.memoizedState=[c,d];return c}function Gc(c,d){var k=Ae();d=void 0===d?null:d;var u=k.memoizedState;if(null!==u&&null!==d&&Ce(d,u[1]))return u[0];c=c();
k.memoizedState=[c,d];return c}function Ec(c,d,k){if(0===(Zi&21))return c.baseState&&(c.baseState=!1,bh=!0),c.memoizedState=k;Oh(k,d)||(k=qc(),xf.lanes|=k,qf|=k,c.baseState=!0);return d}function Ld(c,d){var k=wf;wf=0!==k&&4>k?k:4;c(!0);var u=nk.transition;nk.transition={};try{c(!1),d()}finally{wf=k,nk.transition=u}}function he(){return Ae().memoizedState}function Ie(c,d,k){var u=fc(c);k={lane:u,action:k,hasEagerState:!1,eagerState:null,next:null};if(Jf(c))Yf(d,k);else if(k=Fb(c,d,k,u),null!==k){var S=
xb();q(k,c,u,S);ih(k,d,u)}}function De(c,d,k){var u=fc(c),S={lane:u,action:k,hasEagerState:!1,eagerState:null,next:null};if(Jf(c))Yf(d,S);else{var fa=c.alternate;if(0===c.lanes&&(null===fa||0===fa.lanes)&&(fa=d.lastRenderedReducer,null!==fa))try{var Sa=d.lastRenderedState,Vb=fa(Sa,k);S.hasEagerState=!0;S.eagerState=Vb;if(Oh(Vb,Sa)){var nc=d.interleaved;null===nc?(S.next=S,Bb(d)):(S.next=nc.next,nc.next=S);d.interleaved=S;return}}catch(Uc){}finally{}k=Fb(c,d,S,u);null!==k&&(S=xb(),q(k,c,u,S),ih(k,
d,u))}}function Jf(c){var d=c.alternate;return c===xf||null!==d&&d===xf}function Yf(c,d){Oj=$i=!0;var k=c.pending;null===k?d.next=d:(d.next=k.next,k.next=d);c.pending=d}function ih(c,d,k){if(0!==(k&4194240)){var u=d.lanes;u&=c.pendingLanes;k|=u;d.lanes=k;wc(c,k)}}function Tf(c,d){if(c&&c.defaultProps){d=tc({},d);c=c.defaultProps;for(var k in c)void 0===d[k]&&(d[k]=c[k])}return d}function Vg(c,d,k,u){d=c.memoizedState;k=k(u,d);k=null===k||void 0===k?d:tc({},d,k);c.memoizedState=k;0===c.lanes&&(c.updateQueue.baseState=
k)}function gg(c,d,k,u,S,fa,Sa){c=c.stateNode;return"function"===typeof c.shouldComponentUpdate?c.shouldComponentUpdate(u,fa,Sa):d.prototype&&d.prototype.isPureReactComponent?!xa(k,u)||!xa(S,fa):!0}function sh(c,d,k){var u=!1,S=jg,fa=d.contextType;"object"===typeof fa&&null!==fa?fa=ua(fa):(S=Qa(d)?ni:Dg.current,u=d.contextTypes,fa=(u=null!==u&&void 0!==u)?Ca(c,S):jg);d=new d(k,fa);c.memoizedState=null!==d.state&&void 0!==d.state?d.state:null;d.updater=ok;c.stateNode=d;d._reactInternals=c;u&&(c=c.stateNode,
c.__reactInternalMemoizedUnmaskedChildContext=S,c.__reactInternalMemoizedMaskedChildContext=fa);return d}function Dh(c,d,k,u){c=d.state;"function"===typeof d.componentWillReceiveProps&&d.componentWillReceiveProps(k,u);"function"===typeof d.UNSAFE_componentWillReceiveProps&&d.UNSAFE_componentWillReceiveProps(k,u);d.state!==c&&ok.enqueueReplaceState(d,d.state,null)}function be(c,d,k,u){var S=c.stateNode;S.props=k;S.state=c.memoizedState;S.refs={};ac(c);var fa=d.contextType;"object"===typeof fa&&null!==
fa?S.context=ua(fa):(fa=Qa(d)?ni:Dg.current,S.context=Ca(c,fa));S.state=c.memoizedState;fa=d.getDerivedStateFromProps;"function"===typeof fa&&(Vg(c,d,fa,k),S.state=c.memoizedState);"function"===typeof d.getDerivedStateFromProps||"function"===typeof S.getSnapshotBeforeUpdate||"function"!==typeof S.UNSAFE_componentWillMount&&"function"!==typeof S.componentWillMount||(d=S.state,"function"===typeof S.componentWillMount&&S.componentWillMount(),"function"===typeof S.UNSAFE_componentWillMount&&S.UNSAFE_componentWillMount(),
d!==S.state&&ok.enqueueReplaceState(S,S.state,null),ad(c,k,S,u),S.state=c.memoizedState);"function"===typeof S.componentDidMount&&(c.flags|=4194308)}function ie(c,d){try{var k="",u=d;do k+=Ea(u),u=u.return;while(u)}catch(S){k="\nError generating stack: "+S.message+"\n"+S.stack}return{value:c,source:d,stack:k,digest:null}}function sf(c,d,k){return{value:c,source:null,stack:null!=k?k:null,digest:null!=d?d:null}}function Je(c,d){try{console.error(d.value)}catch(k){setTimeout(function(){throw k;})}}function lf(c,
d,k){k=zc(-1,k);k.tag=3;k.payload={element:null};var u=d.value;k.callback=function(){pk||(pk=!0,qk=u);Je(c,d)};return k}function Ye(c,d,k){k=zc(-1,k);k.tag=3;var u=c.type.getDerivedStateFromError;if("function"===typeof u){var S=d.value;k.payload=function(){return u(S)};k.callback=function(){Je(c,d)}}var fa=c.stateNode;null!==fa&&"function"===typeof fa.componentDidCatch&&(k.callback=function(){Je(c,d);"function"!==typeof u&&(null===si?si=new Set([this]):si.add(this));var Sa=d.stack;this.componentDidCatch(d.value,
{componentStack:null!==Sa?Sa:""})});return k}function tf(c,d,k){var u=c.pingCache;if(null===u){u=c.pingCache=new Yl;var S=new Set;u.set(d,S)}else S=u.get(d),void 0===S&&(S=new Set,u.set(d,S));S.has(k)||(S.add(k),c=Bf.bind(null,c,d,k),d.then(c,c))}function Zf(c){do{var d;if(d=13===c.tag)d=c.memoizedState,d=null!==d?null!==d.dehydrated?!0:!1:!0;if(d)return c;c=c.return}while(null!==c);return null}function Qf(c,d,k,u,S){if(0===(c.mode&1))return c===d?c.flags|=65536:(c.flags|=128,k.flags|=131072,k.flags&=
-52805,1===k.tag&&(null===k.alternate?k.tag=17:(d=zc(-1,1),d.tag=2,xc(k,d,1))),k.lanes|=1),c;c.flags|=65536;c.lanes=S;return c}function cf(c,d,k,u){d.child=null===c?ul(d,null,k,u):Ji(d,c.child,k,u)}function Wg(c,d,k,u,S){k=k.render;var fa=d.ref;pa(d,S);u=Rd(c,d,k,u,fa,S);k=Od();if(null!==c&&!bh)return d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~S,Hg(c,d,S);Sf&&k&&Ue(d);d.flags|=1;cf(c,d,u,S);return d.child}function zg(c,d,k,u,S){if(null===c){var fa=k.type;if("function"===typeof fa&&!Eh(fa)&&
void 0===fa.defaultProps&&null===k.compare&&void 0===k.defaultProps)return d.tag=15,d.type=fa,jh(c,d,fa,u,S);c=Cf(k.type,null,u,d,d.mode,S);c.ref=d.ref;c.return=d;return d.child=c}fa=c.child;if(0===(c.lanes&S)){var Sa=fa.memoizedProps;k=k.compare;k=null!==k?k:xa;if(k(Sa,u)&&c.ref===d.ref)return Hg(c,d,S)}d.flags|=1;c=dg(fa,u);c.ref=d.ref;c.return=d;return d.child=c}function jh(c,d,k,u,S){if(null!==c){var fa=c.memoizedProps;if(xa(fa,u)&&c.ref===d.ref)if(bh=!1,d.pendingProps=u=fa,0!==(c.lanes&S))0!==
(c.flags&131072)&&(bh=!0);else return d.lanes=c.lanes,Hg(c,d,S)}return rg(c,d,k,u,S)}function Rf(c,d,k){var u=d.pendingProps,S=u.children,fa=null!==c?c.memoizedState:null;if("hidden"===u.mode)if(0===(d.mode&1))d.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(xj,th),th|=k;else{if(0===(k&1073741824))return c=null!==fa?fa.baseLanes|k:k,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:c,cachePool:null,transitions:null},d.updateQueue=null,ae(xj,th),th|=c,null;d.memoizedState=
{baseLanes:0,cachePool:null,transitions:null};u=null!==fa?fa.baseLanes:k;ae(xj,th);th|=u}else null!==fa?(u=fa.baseLanes|k,d.memoizedState=null):u=k,ae(xj,th),th|=u;cf(c,d,S,k);return d.child}function Rh(c,d){var k=d.ref;if(null===c&&null!==k||null!==c&&c.ref!==k)d.flags|=512,d.flags|=2097152}function rg(c,d,k,u,S){var fa=Qa(k)?ni:Dg.current;fa=Ca(d,fa);pa(d,S);k=Rd(c,d,k,u,fa,S);u=Od();if(null!==c&&!bh)return d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~S,Hg(c,d,S);Sf&&u&&Ue(d);d.flags|=1;
cf(c,d,k,S);return d.child}function uh(c,d,k,u,S){if(Qa(k)){var fa=!0;Pc(d)}else fa=!1;pa(d,S);if(null===d.stateNode)Fh(c,d),sh(d,k,u),be(d,k,u,S),u=!0;else if(null===c){var Sa=d.stateNode,Vb=d.memoizedProps;Sa.props=Vb;var nc=Sa.context,Uc=k.contextType;"object"===typeof Uc&&null!==Uc?Uc=ua(Uc):(Uc=Qa(k)?ni:Dg.current,Uc=Ca(d,Uc));var xd=k.getDerivedStateFromProps,Cd="function"===typeof xd||"function"===typeof Sa.getSnapshotBeforeUpdate;Cd||"function"!==typeof Sa.UNSAFE_componentWillReceiveProps&&
"function"!==typeof Sa.componentWillReceiveProps||(Vb!==u||nc!==Uc)&&Dh(d,Sa,u,Uc);ri=!1;var wd=d.memoizedState;Sa.state=wd;ad(d,u,Sa,S);nc=d.memoizedState;Vb!==u||wd!==nc||ah.current||ri?("function"===typeof xd&&(Vg(d,k,xd,u),nc=d.memoizedState),(Vb=ri||gg(d,k,Vb,u,wd,nc,Uc))?(Cd||"function"!==typeof Sa.UNSAFE_componentWillMount&&"function"!==typeof Sa.componentWillMount||("function"===typeof Sa.componentWillMount&&Sa.componentWillMount(),"function"===typeof Sa.UNSAFE_componentWillMount&&Sa.UNSAFE_componentWillMount()),
"function"===typeof Sa.componentDidMount&&(d.flags|=4194308)):("function"===typeof Sa.componentDidMount&&(d.flags|=4194308),d.memoizedProps=u,d.memoizedState=nc),Sa.props=u,Sa.state=nc,Sa.context=Uc,u=Vb):("function"===typeof Sa.componentDidMount&&(d.flags|=4194308),u=!1)}else{Sa=d.stateNode;mc(c,d);Vb=d.memoizedProps;Uc=d.type===d.elementType?Vb:Tf(d.type,Vb);Sa.props=Uc;Cd=d.pendingProps;wd=Sa.context;nc=k.contextType;"object"===typeof nc&&null!==nc?nc=ua(nc):(nc=Qa(k)?ni:Dg.current,nc=Ca(d,nc));
var Ud=k.getDerivedStateFromProps;(xd="function"===typeof Ud||"function"===typeof Sa.getSnapshotBeforeUpdate)||"function"!==typeof Sa.UNSAFE_componentWillReceiveProps&&"function"!==typeof Sa.componentWillReceiveProps||(Vb!==Cd||wd!==nc)&&Dh(d,Sa,u,nc);ri=!1;wd=d.memoizedState;Sa.state=wd;ad(d,u,Sa,S);var fe=d.memoizedState;Vb!==Cd||wd!==fe||ah.current||ri?("function"===typeof Ud&&(Vg(d,k,Ud,u),fe=d.memoizedState),(Uc=ri||gg(d,k,Uc,u,wd,fe,nc)||!1)?(xd||"function"!==typeof Sa.UNSAFE_componentWillUpdate&&
"function"!==typeof Sa.componentWillUpdate||("function"===typeof Sa.componentWillUpdate&&Sa.componentWillUpdate(u,fe,nc),"function"===typeof Sa.UNSAFE_componentWillUpdate&&Sa.UNSAFE_componentWillUpdate(u,fe,nc)),"function"===typeof Sa.componentDidUpdate&&(d.flags|=4),"function"===typeof Sa.getSnapshotBeforeUpdate&&(d.flags|=1024)):("function"!==typeof Sa.componentDidUpdate||Vb===c.memoizedProps&&wd===c.memoizedState||(d.flags|=4),"function"!==typeof Sa.getSnapshotBeforeUpdate||Vb===c.memoizedProps&&
wd===c.memoizedState||(d.flags|=1024),d.memoizedProps=u,d.memoizedState=fe),Sa.props=u,Sa.state=fe,Sa.context=nc,u=Uc):("function"!==typeof Sa.componentDidUpdate||Vb===c.memoizedProps&&wd===c.memoizedState||(d.flags|=4),"function"!==typeof Sa.getSnapshotBeforeUpdate||Vb===c.memoizedProps&&wd===c.memoizedState||(d.flags|=1024),u=!1)}return mg(c,d,k,u,fa,S)}function mg(c,d,k,u,S,fa){Rh(c,d);var Sa=0!==(d.flags&128);if(!u&&!Sa)return S&&Fc(d,k,!1),Hg(c,d,fa);u=d.stateNode;vl.current=d;var Vb=Sa&&"function"!==
typeof k.getDerivedStateFromError?null:u.render();d.flags|=1;null!==c&&Sa?(d.child=Ji(d,c.child,null,fa),d.child=Ji(d,null,Vb,fa)):cf(c,d,Vb,fa);d.memoizedState=u.state;S&&Fc(d,k,!0);return d.child}function Sh(c){var d=c.stateNode;d.pendingContext?hd(c,d.pendingContext,d.pendingContext!==d.context):d.context&&hd(c,d.context,!1);Sc(c,d.containerInfo)}function aj(c){return{baseLanes:c,cachePool:null,transitions:null}}function Ig(c,d,k){var u=d.pendingProps,S=Ef.current,fa=!1,Sa=0!==(d.flags&128),Vb;
(Vb=Sa)||(Vb=null!==c&&null===c.memoizedState?!1:0!==(S&2));if(Vb)fa=!0,d.flags&=-129;else if(null===c||null!==c.memoizedState)S|=1;ae(Ef,S&1);if(null===c){Le(d);c=d.memoizedState;if(null!==c&&(c=c.dehydrated,null!==c))return 0===(d.mode&1)?d.lanes=1:"$!"===c.data?d.lanes=8:d.lanes=1073741824,null;Sa=u.children;c=u.fallback;return fa?(u=d.mode,fa=d.child,Sa={mode:"hidden",children:Sa},0===(u&1)&&null!==fa?(fa.childLanes=0,fa.pendingProps=Sa):fa=Ki(Sa,u,0,null),c=Eg(c,u,k,null),fa.return=d,c.return=
d,fa.sibling=c,d.child=fa,d.child.memoizedState=aj(k),d.memoizedState=Wk,c):ti(d,Sa)}S=c.memoizedState;if(null!==S&&(Vb=S.dehydrated,null!==Vb))return bj(c,d,Sa,u,Vb,S,k);if(fa){fa=u.fallback;Sa=d.mode;S=c.child;Vb=S.sibling;var nc={mode:"hidden",children:u.children};0===(Sa&1)&&d.child!==S?(u=d.child,u.childLanes=0,u.pendingProps=nc,d.deletions=null):(u=dg(S,nc),u.subtreeFlags=S.subtreeFlags&14680064);null!==Vb?fa=dg(Vb,fa):(fa=Eg(fa,Sa,k,null),fa.flags|=2);fa.return=d;u.return=d;u.sibling=fa;d.child=
u;u=fa;fa=d.child;Sa=c.child.memoizedState;Sa=null===Sa?aj(k):{baseLanes:Sa.baseLanes|k,cachePool:null,transitions:Sa.transitions};fa.memoizedState=Sa;fa.childLanes=c.childLanes&~k;d.memoizedState=Wk;return u}fa=c.child;c=fa.sibling;u=dg(fa,{mode:"visible",children:u.children});0===(d.mode&1)&&(u.lanes=k);u.return=d;u.sibling=null;null!==c&&(k=d.deletions,null===k?(d.deletions=[c],d.flags|=16):k.push(c));d.child=u;d.memoizedState=null;return u}function ti(c,d){d=Ki({mode:"visible",children:d},c.mode,
0,null);d.return=c;return c.child=d}function di(c,d,k,u){null!==u&&Me(u);Ji(d,c.child,null,k);c=ti(d,d.pendingProps.children);c.flags|=2;d.memoizedState=null;return c}function bj(c,d,k,u,S,fa,Sa){if(k){if(d.flags&256)return d.flags&=-257,u=sf(Error(r(422))),di(c,d,Sa,u);if(null!==d.memoizedState)return d.child=c.child,d.flags|=128,null;fa=u.fallback;S=d.mode;u=Ki({mode:"visible",children:u.children},S,0,null);fa=Eg(fa,S,Sa,null);fa.flags|=2;u.return=d;fa.return=d;u.sibling=fa;d.child=u;0!==(d.mode&
1)&&Ji(d,c.child,null,Sa);d.child.memoizedState=aj(Sa);d.memoizedState=Wk;return fa}if(0===(d.mode&1))return di(c,d,Sa,null);if("$!"===S.data){if(u=S.nextSibling&&S.nextSibling.dataset)var Vb=u.dgst;u=Vb;fa=Error(r(419));u=sf(fa,u,void 0);return di(c,d,Sa,u)}Vb=0!==(Sa&c.childLanes);if(bh||Vb){u=qg;if(null!==u){switch(Sa&-Sa){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=
32;break;case 536870912:S=268435456;break;default:S=0}S=0!==(S&(u.suspendedLanes|Sa))?0:S;0!==S&&S!==fa.retryLane&&(fa.retryLane=S,Wb(c,S),q(u,c,S,-1))}Ne();u=sf(Error(r(421)));return di(c,d,Sa,u)}if("$?"===S.data)return d.flags|=128,d.child=c.child,d=kh.bind(null,c),S._reactRetry=d,null;c=fa.treeContext;Tg=Mc(S.nextSibling);Sg=d;Sf=!0;hh=null;null!==c&&(If[rh++]=Bh,If[rh++]=oi,If[rh++]=bi,Bh=c.id,oi=c.overflow,bi=d);d=ti(d,u.children);d.flags|=4096;return d}function ui(c,d,k){c.lanes|=d;var u=c.alternate;
null!==u&&(u.lanes|=d);Y(c.return,d,k)}function vh(c,d,k,u,S){var fa=c.memoizedState;null===fa?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:u,tail:k,tailMode:S}:(fa.isBackwards=d,fa.rendering=null,fa.renderingStartTime=0,fa.last=u,fa.tail=k,fa.tailMode=S)}function Li(c,d,k){var u=d.pendingProps,S=u.revealOrder,fa=u.tail;cf(c,d,u.children,k);u=Ef.current;if(0!==(u&2))u=u&1|2,d.flags|=128;else{if(null!==c&&0!==(c.flags&128))a:for(c=d.child;null!==c;){if(13===c.tag)null!==
c.memoizedState&&ui(c,k,d);else if(19===c.tag)ui(c,k,d);else if(null!==c.child){c.child.return=c;c=c.child;continue}if(c===d)break a;for(;null===c.sibling;){if(null===c.return||c.return===d)break a;c=c.return}c.sibling.return=c.return;c=c.sibling}u&=1}ae(Ef,u);if(0===(d.mode&1))d.memoizedState=null;else switch(S){case "forwards":k=d.child;for(S=null;null!==k;)c=k.alternate,null!==c&&null===zd(c)&&(S=k),k=k.sibling;k=S;null===k?(S=d.child,d.child=null):(S=k.sibling,k.sibling=null);vh(d,!1,S,k,fa);
break;case "backwards":k=null;S=d.child;for(d.child=null;null!==S;){c=S.alternate;if(null!==c&&null===zd(c)){d.child=S;break}c=S.sibling;S.sibling=k;k=S;S=c}vh(d,!0,k,null,fa);break;case "together":vh(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Fh(c,d){0===(d.mode&1)&&null!==c&&(c.alternate=null,d.alternate=null,d.flags|=2)}function Hg(c,d,k){null!==c&&(d.dependencies=c.dependencies);qf|=d.lanes;if(0===(k&d.childLanes))return null;if(null!==c&&d.child!==c.child)throw Error(r(153));
if(null!==d.child){c=d.child;k=dg(c,c.pendingProps);d.child=k;for(k.return=d;null!==c.sibling;)c=c.sibling,k=k.sibling=dg(c,c.pendingProps),k.return=d;k.sibling=null}return d.child}function Gh(c,d,k){switch(d.tag){case 3:Sh(d);oe();break;case 5:Be(d);break;case 1:Qa(d.type)&&Pc(d);break;case 4:Sc(d,d.stateNode.containerInfo);break;case 10:var u=d.type._context,S=d.memoizedProps.value;ae(tj,u._currentValue);u._currentValue=S;break;case 13:u=d.memoizedState;if(null!==u){if(null!==u.dehydrated)return ae(Ef,
Ef.current&1),d.flags|=128,null;if(0!==(k&d.child.childLanes))return Ig(c,d,k);ae(Ef,Ef.current&1);c=Hg(c,d,k);return null!==c?c.sibling:null}ae(Ef,Ef.current&1);break;case 19:u=0!==(k&d.childLanes);if(0!==(c.flags&128)){if(u)return Li(c,d,k);d.flags|=128}S=d.memoizedState;null!==S&&(S.rendering=null,S.tail=null,S.lastEffect=null);ae(Ef,Ef.current);if(u)break;else return null;case 22:case 23:return d.lanes=0,Rf(c,d,k)}return Hg(c,d,k)}function Hh(c,d){if(!Sf)switch(c.tailMode){case "hidden":d=c.tail;
for(var k=null;null!==d;)null!==d.alternate&&(k=d),d=d.sibling;null===k?c.tail=null:k.sibling=null;break;case "collapsed":k=c.tail;for(var u=null;null!==k;)null!==k.alternate&&(u=k),k=k.sibling;null===u?d||null===c.tail?c.tail=null:c.tail.sibling=null:u.sibling=null}}function hg(c){var d=null!==c.alternate&&c.alternate.child===c.child,k=0,u=0;if(d)for(var S=c.child;null!==S;)k|=S.lanes|S.childLanes,u|=S.subtreeFlags&14680064,u|=S.flags&14680064,S.return=c,S=S.sibling;else for(S=c.child;null!==S;)k|=
S.lanes|S.childLanes,u|=S.subtreeFlags,u|=S.flags,S.return=c,S=S.sibling;c.subtreeFlags|=u;c.childLanes=k;return d}function cj(c,d,k){var u=d.pendingProps;Fe(d);switch(d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hg(d),null;case 1:return Qa(d.type)&&dc(),hg(d),null;case 3:u=d.stateNode;Vd();Kd(ah);Kd(Dg);Yd();u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null);if(null===c||null===c.child)af(d)?d.flags|=4:null===c||c.memoizedState.isDehydrated&&
0===(d.flags&256)||(d.flags|=1024,null!==hh&&($a(hh),hh=null));ei(c,d);hg(d);return null;case 5:Zc(d);var S=Xd(vj.current);k=d.type;if(null!==c&&null!=d.stateNode)wl(c,d,k,u,S),c.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!u){if(null===d.stateNode)throw Error(r(166));hg(d);return null}c=Xd(ci.current);if(af(d)){u=d.stateNode;k=d.type;var fa=d.memoizedProps;u[Qh]=d;u[Lj]=fa;c=0!==(d.mode&1);switch(k){case "dialog":pd("cancel",u);pd("close",u);break;case "iframe":case "object":case "embed":pd("load",
u);break;case "video":case "audio":for(S=0;S<yj.length;S++)pd(yj[S],u);break;case "source":pd("error",u);break;case "img":case "image":case "link":pd("error",u);pd("load",u);break;case "details":pd("toggle",u);break;case "input":Ba(u,fa);pd("invalid",u);break;case "select":u._wrapperState={wasMultiple:!!fa.multiple};pd("invalid",u);break;case "textarea":Pb(u,fa),pd("invalid",u)}qa(k,fa);S=null;for(var Sa in fa)if(fa.hasOwnProperty(Sa)){var Vb=fa[Sa];"children"===Sa?"string"===typeof Vb?u.textContent!==
Vb&&(!0!==fa.suppressHydrationWarning&&Ga(u.textContent,Vb,c),S=["children",Vb]):"number"===typeof Vb&&u.textContent!==""+Vb&&(!0!==fa.suppressHydrationWarning&&Ga(u.textContent,Vb,c),S=["children",""+Vb]):Wh.hasOwnProperty(Sa)&&null!=Vb&&"onScroll"===Sa&&pd("scroll",u)}switch(k){case "input":gb(u);Ia(u,fa,!0);break;case "textarea":gb(u);U(u);break;case "select":case "option":break;default:"function"===typeof fa.onClick&&(u.onclick=eb)}u=S;d.updateQueue=u;null!==u&&(d.flags|=4)}else{Sa=9===S.nodeType?
S:S.ownerDocument;"http://www.w3.org/1999/xhtml"===c&&(c=ba(k));"http://www.w3.org/1999/xhtml"===c?"script"===k?(c=Sa.createElement("div"),c.innerHTML="\x3cscript\x3e\x3c/script\x3e",c=c.removeChild(c.firstChild)):"string"===typeof u.is?c=Sa.createElement(k,{is:u.is}):(c=Sa.createElement(k),"select"===k&&(Sa=c,u.multiple?Sa.multiple=!0:u.size&&(Sa.size=u.size))):c=Sa.createElementNS(c,k);c[Qh]=d;c[Lj]=u;Zl(c,d,!1,!1);d.stateNode=c;a:{Sa=l(k,u);switch(k){case "dialog":pd("cancel",c);pd("close",c);
S=u;break;case "iframe":case "object":case "embed":pd("load",c);S=u;break;case "video":case "audio":for(S=0;S<yj.length;S++)pd(yj[S],c);S=u;break;case "source":pd("error",c);S=u;break;case "img":case "image":case "link":pd("error",c);pd("load",c);S=u;break;case "details":pd("toggle",c);S=u;break;case "input":Ba(c,u);S=ia(c,u);pd("invalid",c);break;case "option":S=u;break;case "select":c._wrapperState={wasMultiple:!!u.multiple};S=tc({},u,{value:void 0});pd("invalid",c);break;case "textarea":Pb(c,u);
S=qb(c,u);pd("invalid",c);break;default:S=u}qa(k,S);Vb=S;for(fa in Vb)if(Vb.hasOwnProperty(fa)){var nc=Vb[fa];"style"===fa?oa(c,nc):"dangerouslySetInnerHTML"===fa?(nc=nc?nc.__html:void 0,null!=nc&&Xe(c,nc)):"children"===fa?"string"===typeof nc?("textarea"!==k||""!==nc)&&ja(c,nc):"number"===typeof nc&&ja(c,""+nc):"suppressContentEditableWarning"!==fa&&"suppressHydrationWarning"!==fa&&"autoFocus"!==fa&&(Wh.hasOwnProperty(fa)?null!=nc&&"onScroll"===fa&&pd("scroll",c):null!=nc&&oc(c,fa,nc,Sa))}switch(k){case "input":gb(c);
Ia(c,u,!1);break;case "textarea":gb(c);U(c);break;case "option":null!=u.value&&c.setAttribute("value",""+rb(u.value));break;case "select":c.multiple=!!u.multiple;fa=u.value;null!=fa?ab(c,!!u.multiple,fa,!1):null!=u.defaultValue&&ab(c,!!u.multiple,u.defaultValue,!0);break;default:"function"===typeof S.onClick&&(c.onclick=eb)}switch(k){case "button":case "input":case "select":case "textarea":u=!!u.autoFocus;break a;case "img":u=!0;break a;default:u=!1}}u&&(d.flags|=4)}null!==d.ref&&(d.flags|=512,d.flags|=
2097152)}hg(d);return null;case 6:if(c&&null!=d.stateNode)xl(c,d,c.memoizedProps,u);else{if("string"!==typeof u&&null===d.stateNode)throw Error(r(166));k=Xd(vj.current);Xd(ci.current);if(af(d)){u=d.stateNode;k=d.memoizedProps;u[Qh]=d;if(fa=u.nodeValue!==k)if(c=Sg,null!==c)switch(c.tag){case 3:Ga(u.nodeValue,k,0!==(c.mode&1));break;case 5:!0!==c.memoizedProps.suppressHydrationWarning&&Ga(u.nodeValue,k,0!==(c.mode&1))}fa&&(d.flags|=4)}else u=(9===k.nodeType?k:k.ownerDocument).createTextNode(u),u[Qh]=
d,d.stateNode=u}hg(d);return null;case 13:Kd(Ef);u=d.memoizedState;if(null===c||null!==c.memoizedState&&null!==c.memoizedState.dehydrated){if(Sf&&null!==Tg&&0!==(d.mode&1)&&0===(d.flags&128))se(),oe(),d.flags|=98560,fa=!1;else if(fa=af(d),null!==u&&null!==u.dehydrated){if(null===c){if(!fa)throw Error(r(318));fa=d.memoizedState;fa=null!==fa?fa.dehydrated:null;if(!fa)throw Error(r(317));fa[Qh]=d}else oe(),0===(d.flags&128)&&(d.memoizedState=null),d.flags|=4;hg(d);fa=!1}else null!==hh&&($a(hh),hh=null),
fa=!0;if(!fa)return d.flags&65536?d:null}if(0!==(d.flags&128))return d.lanes=k,d;u=null!==u;u!==(null!==c&&null!==c.memoizedState)&&u&&(d.child.flags|=8192,0!==(d.mode&1)&&(null===c||0!==(Ef.current&1)?0===Kf&&(Kf=3):Ne()));null!==d.updateQueue&&(d.flags|=4);hg(d);return null;case 4:return Vd(),ei(c,d),null===c&&le(d.stateNode.containerInfo),hg(d),null;case 10:return P(d.type._context),hg(d),null;case 17:return Qa(d.type)&&dc(),hg(d),null;case 19:Kd(Ef);fa=d.memoizedState;if(null===fa)return hg(d),
null;u=0!==(d.flags&128);Sa=fa.rendering;if(null===Sa)if(u)Hh(fa,!1);else{if(0!==Kf||null!==c&&0!==(c.flags&128))for(c=d.child;null!==c;){Sa=zd(c);if(null!==Sa){d.flags|=128;Hh(fa,!1);u=Sa.updateQueue;null!==u&&(d.updateQueue=u,d.flags|=4);d.subtreeFlags=0;u=k;for(k=d.child;null!==k;)fa=k,c=u,fa.flags&=14680066,Sa=fa.alternate,null===Sa?(fa.childLanes=0,fa.lanes=c,fa.child=null,fa.subtreeFlags=0,fa.memoizedProps=null,fa.memoizedState=null,fa.updateQueue=null,fa.dependencies=null,fa.stateNode=null):
(fa.childLanes=Sa.childLanes,fa.lanes=Sa.lanes,fa.child=Sa.child,fa.subtreeFlags=0,fa.deletions=null,fa.memoizedProps=Sa.memoizedProps,fa.memoizedState=Sa.memoizedState,fa.updateQueue=Sa.updateQueue,fa.type=Sa.type,c=Sa.dependencies,fa.dependencies=null===c?null:{lanes:c.lanes,firstContext:c.firstContext}),k=k.sibling;ae(Ef,Ef.current&1|2);return d.child}c=c.sibling}null!==fa.tail&&ig()>zj&&(d.flags|=128,u=!0,Hh(fa,!1),d.lanes=4194304)}else{if(!u)if(c=zd(Sa),null!==c){if(d.flags|=128,u=!0,k=c.updateQueue,
null!==k&&(d.updateQueue=k,d.flags|=4),Hh(fa,!0),null===fa.tail&&"hidden"===fa.tailMode&&!Sa.alternate&&!Sf)return hg(d),null}else 2*ig()-fa.renderingStartTime>zj&&1073741824!==k&&(d.flags|=128,u=!0,Hh(fa,!1),d.lanes=4194304);fa.isBackwards?(Sa.sibling=d.child,d.child=Sa):(k=fa.last,null!==k?k.sibling=Sa:d.child=Sa,fa.last=Sa)}if(null!==fa.tail)return d=fa.tail,fa.rendering=d,fa.tail=d.sibling,fa.renderingStartTime=ig(),d.sibling=null,k=Ef.current,ae(Ef,u?k&1|2:k&1),d;hg(d);return null;case 22:case 23:return Wc(),
u=null!==d.memoizedState,null!==c&&null!==c.memoizedState!==u&&(d.flags|=8192),u&&0!==(d.mode&1)?0!==(th&1073741824)&&(hg(d),d.subtreeFlags&6&&(d.flags|=8192)):hg(d),null;case 24:return null;case 25:return null}throw Error(r(156,d.tag));}function fi(c,d){Fe(d);switch(d.tag){case 1:return Qa(d.type)&&dc(),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return Vd(),Kd(ah),Kd(Dg),Yd(),c=d.flags,0!==(c&65536)&&0===(c&128)?(d.flags=c&-65537|128,d):null;case 5:return Zc(d),null;case 13:Kd(Ef);c=
d.memoizedState;if(null!==c&&null!==c.dehydrated){if(null===d.alternate)throw Error(r(340));oe()}c=d.flags;return c&65536?(d.flags=c&-65537|128,d):null;case 19:return Kd(Ef),null;case 4:return Vd(),null;case 10:return P(d.type._context),null;case 22:case 23:return Wc(),null;case 24:return null;default:return null}}function dh(c,d){var k=c.ref;if(null!==k)if("function"===typeof k)try{k(null)}catch(u){yf(c,d,u)}else k.current=null}function vi(c,d,k){try{k()}catch(u){yf(c,d,u)}}function Aj(c,d){Xk=bk;
c=cc();if(Sb(c)){if("selectionStart"in c)var k={start:c.selectionStart,end:c.selectionEnd};else a:{k=(k=c.ownerDocument)&&k.defaultView||window;var u=k.getSelection&&k.getSelection();if(u&&0!==u.rangeCount){k=u.anchorNode;var S=u.anchorOffset,fa=u.focusNode;u=u.focusOffset;try{k.nodeType,fa.nodeType}catch(Jd){k=null;break a}var Sa=0,Vb=-1,nc=-1,Uc=0,xd=0,Cd=c,wd=null;b:for(;;){for(var Ud;;){Cd!==k||0!==S&&3!==Cd.nodeType||(Vb=Sa+S);Cd!==fa||0!==u&&3!==Cd.nodeType||(nc=Sa+u);3===Cd.nodeType&&(Sa+=
Cd.nodeValue.length);if(null===(Ud=Cd.firstChild))break;wd=Cd;Cd=Ud}for(;;){if(Cd===c)break b;wd===k&&++Uc===S&&(Vb=Sa);wd===fa&&++xd===u&&(nc=Sa);if(null!==(Ud=Cd.nextSibling))break;Cd=wd;wd=Cd.parentNode}Cd=Ud}k=-1===Vb||-1===nc?null:{start:Vb,end:nc}}else k=null}k=k||{start:0,end:0}}else k=null;Yk={focusedElem:c,selectionRange:k};bk=!1;for(de=d;null!==de;)if(d=de,c=d.child,0!==(d.subtreeFlags&1028)&&null!==c)c.return=d,de=c;else for(;null!==de;){d=de;try{var fe=d.alternate;if(0!==(d.flags&1024))switch(d.tag){case 0:case 11:case 15:break;
case 1:if(null!==fe){var me=fe.memoizedProps,cg=fe.memoizedState,Hc=d.stateNode,vc=Hc.getSnapshotBeforeUpdate(d.elementType===d.type?me:Tf(d.type,me),cg);Hc.__reactInternalSnapshotBeforeUpdate=vc}break;case 3:var Qc=d.stateNode.containerInfo;1===Qc.nodeType?Qc.textContent="":9===Qc.nodeType&&Qc.documentElement&&Qc.removeChild(Qc.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163));}}catch(Jd){yf(d,d.return,Jd)}c=d.sibling;if(null!==c){c.return=d.return;de=c;break}de=
d.return}fe=rk;rk=!1;return fe}function eh(c,d,k){var u=d.updateQueue;u=null!==u?u.lastEffect:null;if(null!==u){var S=u=u.next;do{if((S.tag&c)===c){var fa=S.destroy;S.destroy=void 0;void 0!==fa&&vi(d,k,fa)}S=S.next}while(S!==u)}}function lh(c,d){d=d.updateQueue;d=null!==d?d.lastEffect:null;if(null!==d){var k=d=d.next;do{if((k.tag&c)===c){var u=k.create;k.destroy=u()}k=k.next}while(k!==d)}}function Jg(c){var d=c.ref;if(null!==d){var k=c.stateNode;switch(c.tag){case 5:c=k;break;default:c=k}"function"===
typeof d?d(c):d.current=c}}function Ve(c){var d=c.alternate;null!==d&&(c.alternate=null,Ve(d));c.child=null;c.deletions=null;c.sibling=null;5===c.tag&&(d=c.stateNode,null!==d&&(delete d[Qh],delete d[Lj],delete d[Ok],delete d[yl],delete d[Zk]));c.stateNode=null;c.return=null;c.dependencies=null;c.memoizedProps=null;c.memoizedState=null;c.pendingProps=null;c.stateNode=null;c.updateQueue=null}function Ih(c){return 5===c.tag||3===c.tag||4===c.tag}function Ng(c){a:for(;;){for(;null===c.sibling;){if(null===
c.return||Ih(c.return))return null;c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.flags&2)continue a;if(null===c.child||4===c.tag)continue a;else c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function zf(c,d,k){var u=c.tag;if(5===u||6===u)c=c.stateNode,d?8===k.nodeType?k.parentNode.insertBefore(c,d):k.insertBefore(c,d):(8===k.nodeType?(d=k.parentNode,d.insertBefore(c,k)):(d=k,d.appendChild(c)),k=k._reactRootContainer,null!==k&&void 0!==
k||null!==d.onclick||(d.onclick=eb));else if(4!==u&&(c=c.child,null!==c))for(zf(c,d,k),c=c.sibling;null!==c;)zf(c,d,k),c=c.sibling}function Mi(c,d,k){var u=c.tag;if(5===u||6===u)c=c.stateNode,d?k.insertBefore(c,d):k.appendChild(c);else if(4!==u&&(c=c.child,null!==c))for(Mi(c,d,k),c=c.sibling;null!==c;)Mi(c,d,k),c=c.sibling}function sg(c,d,k){for(k=k.child;null!==k;)Og(c,d,k),k=k.sibling}function Og(c,d,k){if(Yh&&"function"===typeof Yh.onCommitFiberUnmount)try{Yh.onCommitFiberUnmount(Ij,k)}catch(Vb){}switch(k.tag){case 5:Xg||
dh(k,d);case 6:var u=Pg,S=Th;Pg=null;sg(c,d,k);Pg=u;Th=S;null!==Pg&&(Th?(c=Pg,k=k.stateNode,8===c.nodeType?c.parentNode.removeChild(k):c.removeChild(k)):Pg.removeChild(k.stateNode));break;case 18:null!==Pg&&(Th?(c=Pg,k=k.stateNode,8===c.nodeType?Lb(c.parentNode,k):1===c.nodeType&&Lb(c,k),Ac(c)):Lb(Pg,k.stateNode));break;case 4:u=Pg;S=Th;Pg=k.stateNode.containerInfo;Th=!0;sg(c,d,k);Pg=u;Th=S;break;case 0:case 11:case 14:case 15:if(!Xg&&(u=k.updateQueue,null!==u&&(u=u.lastEffect,null!==u))){S=u=u.next;
do{var fa=S,Sa=fa.destroy;fa=fa.tag;void 0!==Sa&&(0!==(fa&2)?vi(k,d,Sa):0!==(fa&4)&&vi(k,d,Sa));S=S.next}while(S!==u)}sg(c,d,k);break;case 1:if(!Xg&&(dh(k,d),u=k.stateNode,"function"===typeof u.componentWillUnmount))try{u.props=k.memoizedProps,u.state=k.memoizedState,u.componentWillUnmount()}catch(Vb){yf(k,d,Vb)}sg(c,d,k);break;case 21:sg(c,d,k);break;case 22:k.mode&1?(Xg=(u=Xg)||null!==k.memoizedState,sg(c,d,k),Xg=u):sg(c,d,k);break;default:sg(c,d,k)}}function mh(c){var d=c.updateQueue;if(null!==
d){c.updateQueue=null;var k=c.stateNode;null===k&&(k=c.stateNode=new $l);d.forEach(function(u){var S=Ff.bind(null,c,u);k.has(u)||(k.add(u),u.then(S,S))})}}function Yg(c,d){var k=d.deletions;if(null!==k)for(var u=0;u<k.length;u++){var S=k[u];try{var fa=c,Sa=d,Vb=Sa;a:for(;null!==Vb;){switch(Vb.tag){case 5:Pg=Vb.stateNode;Th=!1;break a;case 3:Pg=Vb.stateNode.containerInfo;Th=!0;break a;case 4:Pg=Vb.stateNode.containerInfo;Th=!0;break a}Vb=Vb.return}if(null===Pg)throw Error(r(160));Og(fa,Sa,S);Pg=null;
Th=!1;var nc=S.alternate;null!==nc&&(nc.return=null);S.return=null}catch(Uc){yf(S,d,Uc)}}if(d.subtreeFlags&12854)for(d=d.child;null!==d;)Jh(d,c),d=d.sibling}function Jh(c,d){var k=c.alternate,u=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Yg(d,c);Zg(c);if(u&4){try{eh(3,c,c.return),lh(3,c)}catch(me){yf(c,c.return,me)}try{eh(5,c,c.return)}catch(me){yf(c,c.return,me)}}break;case 1:Yg(d,c);Zg(c);u&512&&null!==k&&dh(k,k.return);break;case 5:Yg(d,c);Zg(c);u&512&&null!==k&&dh(k,k.return);if(c.flags&
32){var S=c.stateNode;try{ja(S,"")}catch(me){yf(c,c.return,me)}}if(u&4&&(S=c.stateNode,null!=S)){var fa=c.memoizedProps,Sa=null!==k?k.memoizedProps:fa,Vb=c.type,nc=c.updateQueue;c.updateQueue=null;if(null!==nc)try{"input"===Vb&&"radio"===fa.type&&null!=fa.name&&Ra(S,fa);l(Vb,Sa);var Uc=l(Vb,fa);for(Sa=0;Sa<nc.length;Sa+=2){var xd=nc[Sa],Cd=nc[Sa+1];"style"===xd?oa(S,Cd):"dangerouslySetInnerHTML"===xd?Xe(S,Cd):"children"===xd?ja(S,Cd):oc(S,xd,Cd,Uc)}switch(Vb){case "input":Wa(S,fa);break;case "textarea":db(S,
fa);break;case "select":var wd=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!fa.multiple;var Ud=fa.value;null!=Ud?ab(S,!!fa.multiple,Ud,!1):wd!==!!fa.multiple&&(null!=fa.defaultValue?ab(S,!!fa.multiple,fa.defaultValue,!0):ab(S,!!fa.multiple,fa.multiple?[]:"",!1))}S[Lj]=fa}catch(me){yf(c,c.return,me)}}break;case 6:Yg(d,c);Zg(c);if(u&4){if(null===c.stateNode)throw Error(r(162));S=c.stateNode;fa=c.memoizedProps;try{S.nodeValue=fa}catch(me){yf(c,c.return,me)}}break;case 3:Yg(d,c);Zg(c);if(u&
4&&null!==k&&k.memoizedState.isDehydrated)try{Ac(d.containerInfo)}catch(me){yf(c,c.return,me)}break;case 4:Yg(d,c);Zg(c);break;case 13:Yg(d,c);Zg(c);S=c.child;S.flags&8192&&(fa=null!==S.memoizedState,S.stateNode.isHidden=fa,!fa||null!==S.alternate&&null!==S.alternate.memoizedState||(Uh=ig()));u&4&&mh(c);break;case 22:xd=null!==k&&null!==k.memoizedState;c.mode&1?(Xg=(Uc=Xg)||xd,Yg(d,c),Xg=Uc):Yg(d,c);Zg(c);if(u&8192){Uc=null!==c.memoizedState;if((c.stateNode.isHidden=Uc)&&!xd&&0!==(c.mode&1))for(de=
c,xd=c.child;null!==xd;){for(Cd=de=xd;null!==de;){wd=de;Ud=wd.child;switch(wd.tag){case 0:case 11:case 14:case 15:eh(4,wd,wd.return);break;case 1:dh(wd,wd.return);var fe=wd.stateNode;if("function"===typeof fe.componentWillUnmount){u=wd;k=wd.return;try{d=u,fe.props=d.memoizedProps,fe.state=d.memoizedState,fe.componentWillUnmount()}catch(me){yf(u,k,me)}}break;case 5:dh(wd,wd.return);break;case 22:if(null!==wd.memoizedState){Na(Cd);continue}}null!==Ud?(Ud.return=wd,de=Ud):Na(Cd)}xd=xd.sibling}xd=null;
Cd=c;a:for(;;){if(5===Cd.tag){if(null===xd){xd=Cd;try{S=Cd.stateNode,Uc?(fa=S.style,"function"===typeof fa.setProperty?fa.setProperty("display","none","important"):fa.display="none"):(Vb=Cd.stateNode,nc=Cd.memoizedProps.style,Sa=void 0!==nc&&null!==nc&&nc.hasOwnProperty("display")?nc.display:null,Vb.style.display=La("display",Sa))}catch(me){yf(c,c.return,me)}}}else if(6===Cd.tag){if(null===xd)try{Cd.stateNode.nodeValue=Uc?"":Cd.memoizedProps}catch(me){yf(c,c.return,me)}}else if((22!==Cd.tag&&23!==
Cd.tag||null===Cd.memoizedState||Cd===c)&&null!==Cd.child){Cd.child.return=Cd;Cd=Cd.child;continue}if(Cd===c)break a;for(;null===Cd.sibling;){if(null===Cd.return||Cd.return===c)break a;xd===Cd&&(xd=null);Cd=Cd.return}xd===Cd&&(xd=null);Cd.sibling.return=Cd.return;Cd=Cd.sibling}}break;case 19:Yg(d,c);Zg(c);u&4&&mh(c);break;case 21:break;default:Yg(d,c),Zg(c)}}function Zg(c){var d=c.flags;if(d&2){try{a:{for(var k=c.return;null!==k;){if(Ih(k))break a;k=k.return}throw Error(r(160));}switch(k.tag){case 5:var u=
k.stateNode;k.flags&32&&(ja(u,""),k.flags&=-33);var S=Ng(c);Mi(c,S,u);break;case 3:case 4:var fa=k.stateNode.containerInfo,Sa=Ng(c);zf(c,Sa,fa);break;default:throw Error(r(161));}}catch(Vb){yf(c,c.return,Vb)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function C(c,d,k){de=c;aa(c,d,k)}function aa(c,d,k){for(var u=0!==(c.mode&1);null!==de;){var S=de,fa=S.child;if(22===S.tag&&u){var Sa=null!==S.memoizedState||sk;if(!Sa){var Vb=S.alternate,nc=null!==Vb&&null!==Vb.memoizedState||Xg;Vb=sk;var Uc=Xg;sk=Sa;if((Xg=
nc)&&!Uc)for(de=S;null!==de;)Sa=de,nc=Sa.child,22===Sa.tag&&null!==Sa.memoizedState?Hb(S):null!==nc?(nc.return=Sa,de=nc):Hb(S);for(;null!==fa;)de=fa,aa(fa,d,k),fa=fa.sibling;de=S;sk=Vb;Xg=Uc}Aa(c,d,k)}else 0!==(S.subtreeFlags&8772)&&null!==fa?(fa.return=S,de=fa):Aa(c,d,k)}}function Aa(c){for(;null!==de;){var d=de;if(0!==(d.flags&8772)){var k=d.alternate;try{if(0!==(d.flags&8772))switch(d.tag){case 0:case 11:case 15:Xg||lh(5,d);break;case 1:var u=d.stateNode;if(d.flags&4&&!Xg)if(null===k)u.componentDidMount();
else{var S=d.elementType===d.type?k.memoizedProps:Tf(d.type,k.memoizedProps);u.componentDidUpdate(S,k.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var fa=d.updateQueue;null!==fa&&kd(d,fa,u);break;case 3:var Sa=d.updateQueue;if(null!==Sa){k=null;if(null!==d.child)switch(d.child.tag){case 5:k=d.child.stateNode;break;case 1:k=d.child.stateNode}kd(d,Sa,k)}break;case 5:var Vb=d.stateNode;if(null===k&&d.flags&4){k=Vb;var nc=d.memoizedProps;switch(d.type){case "button":case "input":case "select":case "textarea":nc.autoFocus&&
k.focus();break;case "img":nc.src&&(k.src=nc.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===d.memoizedState){var Uc=d.alternate;if(null!==Uc){var xd=Uc.memoizedState;if(null!==xd){var Cd=xd.dehydrated;null!==Cd&&Ac(Cd)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163));}Xg||d.flags&512&&Jg(d)}catch(wd){yf(d,d.return,wd)}}if(d===c){de=null;break}k=d.sibling;if(null!==k){k.return=d.return;de=k;break}de=d.return}}function Na(c){for(;null!==
de;){var d=de;if(d===c){de=null;break}var k=d.sibling;if(null!==k){k.return=d.return;de=k;break}de=d.return}}function Hb(c){for(;null!==de;){var d=de;try{switch(d.tag){case 0:case 11:case 15:var k=d.return;try{lh(4,d)}catch(nc){yf(d,k,nc)}break;case 1:var u=d.stateNode;if("function"===typeof u.componentDidMount){var S=d.return;try{u.componentDidMount()}catch(nc){yf(d,S,nc)}}var fa=d.return;try{Jg(d)}catch(nc){yf(d,fa,nc)}break;case 5:var Sa=d.return;try{Jg(d)}catch(nc){yf(d,Sa,nc)}}}catch(nc){yf(d,
d.return,nc)}if(d===c){de=null;break}var Vb=d.sibling;if(null!==Vb){Vb.return=d.return;de=Vb;break}de=d.return}}function xb(){return 0!==(ff&6)?ig():-1!==Ni?Ni:Ni=ig()}function fc(c){if(0===(c.mode&1))return 1;if(0!==(ff&2)&&0!==Qg)return Qg&-Qg;if(null!==zl.transition)return 0===Bj&&(Bj=qc()),Bj;c=wf;if(0!==c)return c;c=window.event;return c=void 0===c?16:fb(c.type)}function q(c,d,k,u){if(50<wi)throw wi=0,tk=null,Error(r(185));Mb(c,k,u);if(0===(ff&2)||c!==qg)c===qg&&(0===(ff&2)&&(mf|=k),4===Kf&&
ic(c,Qg)),I(c,u),1===k&&0===ff&&0===(d.mode&1)&&(zj=ig()+500,ai&&jd())}function I(c,d){var k=c.callbackNode;Fa(c,d);var u=Tb(c,c===qg?Qg:0);if(0===u)null!==k&&tg(k),c.callbackNode=null,c.callbackPriority=0;else if(d=u&-u,c.callbackPriority!==d){null!=k&&tg(k);if(1===d)0===c.tag?Yc(Kc.bind(null,c)):Tc(Kc.bind(null,c)),Al(function(){0===(ff&6)&&jd()}),k=null;else{switch(fd(u)){case 1:k=Hk;break;case 4:k=dk;break;case 16:k=Ui;break;case 536870912:k=Ik;break;default:k=Ui}k=uf(k,ha.bind(null,c))}c.callbackPriority=
d;c.callbackNode=k}}function ha(c,d){Ni=-1;Bj=0;if(0!==(ff&6))throw Error(r(327));var k=c.callbackNode;if(nh()&&c.callbackNode!==k)return null;var u=Tb(c,c===qg?Qg:0);if(0===u)return null;if(0!==(u&30)||0!==(u&c.expiredLanes)||d)d=vf(c,u);else{d=u;var S=ff;ff|=2;var fa=ue();if(qg!==c||Qg!==d)xi=null,zj=ig()+500,Id(c,d);do try{for(;null!==ug&&!Vh();)gf(ug);break}catch(Vb){je(c,Vb)}while(1);Mj=qi=Hi=null;uk.current=fa;ff=S;null!==ug?d=0:(qg=null,Qg=0,d=Kf)}if(0!==d){2===d&&(S=Kb(c),0!==S&&(u=S,d=va(c,
S)));if(1===d)throw k=Rj,Id(c,0),ic(c,u),I(c,ig()),k;if(6===d)ic(c,u);else{S=c.current.alternate;if(0===(u&30)&&!Ob(S)&&(d=vf(c,u),2===d&&(fa=Kb(c),0!==fa&&(u=fa,d=va(c,fa))),1===d))throw k=Rj,Id(c,0),ic(c,u),I(c,ig()),k;c.finishedWork=S;c.finishedLanes=u;switch(d){case 0:case 1:throw Error(r(345));case 2:re(c,oh,xi);break;case 3:ic(c,u);if((u&130023424)===u&&(d=Uh+500-ig(),10<d)){if(0!==Tb(c,0))break;S=c.suspendedLanes;if((S&u)!==u){xb();c.pingedLanes|=c.suspendedLanes&S;break}c.timeoutHandle=$k(re.bind(null,
c,oh,xi),d);break}re(c,oh,xi);break;case 4:ic(c,u);if((u&4194240)===u)break;d=c.eventTimes;for(S=-1;0<u;){var Sa=31-Nh(u);fa=1<<Sa;Sa=d[Sa];Sa>S&&(S=Sa);u&=~fa}u=S;u=ig()-u;u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3E3>u?3E3:4320>u?4320:1960*am(u/1960))-u;if(10<u){c.timeoutHandle=$k(re.bind(null,c,oh,xi),u);break}re(c,oh,xi);break;case 5:re(c,oh,xi);break;default:throw Error(r(329));}}}I(c,ig());return c.callbackNode===k?ha.bind(null,c):null}function va(c,d){var k=wh;c.current.memoizedState.isDehydrated&&
(Id(c,d).flags|=256);c=vf(c,d);2!==c&&(d=oh,oh=k,null!==d&&$a(d));return c}function $a(c){null===oh?oh=c:oh.push.apply(oh,c)}function Ob(c){for(var d=c;;){if(d.flags&16384){var k=d.updateQueue;if(null!==k&&(k=k.stores,null!==k))for(var u=0;u<k.length;u++){var S=k[u],fa=S.getSnapshot;S=S.value;try{if(!Oh(fa(),S))return!1}catch(Sa){return!1}}}k=d.child;if(d.subtreeFlags&16384&&null!==k)k.return=d,d=k;else{if(d===c)break;for(;null===d.sibling;){if(null===d.return||d.return===c)return!0;d=d.return}d.sibling.return=
d.return;d=d.sibling}}return!0}function ic(c,d){d&=~Rg;d&=~mf;c.suspendedLanes|=d;c.pingedLanes&=~d;for(c=c.expirationTimes;0<d;){var k=31-Nh(d),u=1<<k;c[k]=-1;d&=~u}}function Kc(c){if(0!==(ff&6))throw Error(r(327));nh();var d=Tb(c,0);if(0===(d&1))return I(c,ig()),null;var k=vf(c,d);if(0!==c.tag&&2===k){var u=Kb(c);0!==u&&(d=u,k=va(c,u))}if(1===k)throw k=Rj,Id(c,0),ic(c,d),I(c,ig()),k;if(6===k)throw Error(r(345));c.finishedWork=c.current.alternate;c.finishedLanes=d;re(c,oh,xi);I(c,ig());return null}
function gc(c,d){var k=ff;ff|=1;try{return c(d)}finally{ff=k,0===ff&&(zj=ig()+500,ai&&jd())}}function cd(c){null!==yi&&0===yi.tag&&0===(ff&6)&&nh();var d=ff;ff|=1;var k=Kh.transition,u=wf;try{if(Kh.transition=null,wf=1,c)return c()}finally{wf=u,Kh.transition=k,ff=d,0===(ff&6)&&jd()}}function Wc(){th=xj.current;Kd(xj)}function Id(c,d){c.finishedWork=null;c.finishedLanes=0;var k=c.timeoutHandle;-1!==k&&(c.timeoutHandle=-1,bm(k));if(null!==ug)for(k=ug.return;null!==k;){var u=k;Fe(u);switch(u.tag){case 1:u=
u.type.childContextTypes;null!==u&&void 0!==u&&dc();break;case 3:Vd();Kd(ah);Kd(Dg);Yd();break;case 5:Zc(u);break;case 4:Vd();break;case 13:Kd(Ef);break;case 19:Kd(Ef);break;case 10:P(u.type._context);break;case 22:case 23:Wc()}k=k.return}qg=c;ug=c=dg(c.current,null);Qg=th=d;Kf=0;Rj=null;Rg=mf=qf=0;oh=wh=null;if(null!==Yi){for(d=0;d<Yi.length;d++)if(k=Yi[d],u=k.interleaved,null!==u){k.interleaved=null;var S=u.next,fa=k.pending;if(null!==fa){var Sa=fa.next;fa.next=S;u.next=Sa}k.pending=u}Yi=null}return c}
function je(c,d){do{var k=ug;try{Mj=qi=Hi=null;Nj.current=Qj;if($i){for(var u=xf.memoizedState;null!==u;){var S=u.queue;null!==S&&(S.pending=null);u=u.next}$i=!1}Zi=0;yg=pg=xf=null;Oj=!1;Pj=0;al.current=null;if(null===k||null===k.return){Kf=1;Rj=d;ug=null;break}a:{var fa=c,Sa=k.return,Vb=k,nc=d;d=Qg;Vb.flags|=32768;if(null!==nc&&"object"===typeof nc&&"function"===typeof nc.then){var Uc=nc,xd=Vb,Cd=xd.tag;if(0===(xd.mode&1)&&(0===Cd||11===Cd||15===Cd)){var wd=xd.alternate;wd?(xd.updateQueue=wd.updateQueue,
xd.memoizedState=wd.memoizedState,xd.lanes=wd.lanes):(xd.updateQueue=null,xd.memoizedState=null)}var Ud=Zf(Sa);if(null!==Ud){Ud.flags&=-257;Qf(Ud,Sa,Vb,fa,d);Ud.mode&1&&tf(fa,Uc,d);d=Ud;nc=Uc;var fe=d.updateQueue;if(null===fe){var me=new Set;me.add(nc);d.updateQueue=me}else fe.add(nc);break a}else{if(0===(d&1)){tf(fa,Uc,d);Ne();break a}nc=Error(r(426))}}else if(Sf&&Vb.mode&1){var cg=Zf(Sa);if(null!==cg){0===(cg.flags&65536)&&(cg.flags|=256);Qf(cg,Sa,Vb,fa,d);Me(ie(nc,Vb));break a}}fa=nc=ie(nc,Vb);
4!==Kf&&(Kf=2);null===wh?wh=[fa]:wh.push(fa);fa=Sa;do{switch(fa.tag){case 3:fa.flags|=65536;d&=-d;fa.lanes|=d;var Hc=lf(fa,nc,d);$c(fa,Hc);break a;case 1:Vb=nc;var vc=fa.type,Qc=fa.stateNode;if(0===(fa.flags&128)&&("function"===typeof vc.getDerivedStateFromError||null!==Qc&&"function"===typeof Qc.componentDidCatch&&(null===si||!si.has(Qc)))){fa.flags|=65536;d&=-d;fa.lanes|=d;var Jd=Ye(fa,Vb,d);$c(fa,Jd);break a}}fa=fa.return}while(null!==fa)}$g(k)}catch(ee){d=ee;ug===k&&null!==k&&(ug=k.return);continue}break}while(1)}
function ue(){var c=uk.current;uk.current=Qj;return null===c?Qj:c}function Ne(){if(0===Kf||3===Kf||2===Kf)Kf=4;null===qg||0===(qf&268435455)&&0===(mf&268435455)||ic(qg,Qg)}function vf(c,d){var k=ff;ff|=2;var u=ue();if(qg!==c||Qg!==d)xi=null,Id(c,d);do try{for(;null!==ug;)gf(ug);break}catch(S){je(c,S)}while(1);Mj=qi=Hi=null;ff=k;uk.current=u;if(null!==ug)throw Error(r(261));qg=null;Qg=0;return Kf}function gf(c){var d=bl(c.alternate,c,th);c.memoizedProps=c.pendingProps;null===d?$g(c):ug=d;al.current=
null}function $g(c){var d=c;do{var k=d.alternate;c=d.return;if(0===(d.flags&32768)){if(k=cj(k,d,th),null!==k){ug=k;return}}else{k=fi(k,d);if(null!==k){k.flags&=32767;ug=k;return}if(null!==c)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Kf=6;ug=null;return}}d=d.sibling;if(null!==d){ug=d;return}ug=d=c}while(null!==d);0===Kf&&(Kf=5)}function re(c,d,k){var u=wf,S=Kh.transition;try{Kh.transition=null,wf=1,Se(c,d,k,u)}finally{Kh.transition=S,wf=u}return null}function Se(c,d,k,u){do nh();while(null!==
yi);if(0!==(ff&6))throw Error(r(327));k=c.finishedWork;var S=c.finishedLanes;if(null===k)return null;c.finishedWork=null;c.finishedLanes=0;if(k===c.current)throw Error(r(177));c.callbackNode=null;c.callbackPriority=0;var fa=k.lanes|k.childLanes;Qb(c,fa);c===qg&&(ug=qg=null,Qg=0);0===(k.subtreeFlags&2064)&&0===(k.flags&2064)||Sj||(Sj=!0,uf(Ui,function(){nh();return null}));fa=0!==(k.flags&15990);if(0!==(k.subtreeFlags&15990)||fa){fa=Kh.transition;Kh.transition=null;var Sa=wf;wf=1;var Vb=ff;ff|=4;al.current=
null;Aj(c,k);Jh(k,c);pc(Yk);bk=!!Xk;Yk=Xk=null;c.current=k;C(k,c,S);cm();ff=Vb;wf=Sa;Kh.transition=fa}else c.current=k;Sj&&(Sj=!1,yi=c,dj=S);fa=c.pendingLanes;0===fa&&(si=null);Xa(k.stateNode,u);I(c,ig());if(null!==d)for(u=c.onRecoverableError,k=0;k<d.length;k++)S=d[k],u(S.value,{componentStack:S.stack,digest:S.digest});if(pk)throw pk=!1,c=qk,qk=null,c;0!==(dj&1)&&0!==c.tag&&nh();fa=c.pendingLanes;0!==(fa&1)?c===tk?wi++:(wi=0,tk=c):wi=0;jd();return null}function nh(){if(null!==yi){var c=fd(dj),d=
Kh.transition,k=wf;try{Kh.transition=null;wf=16>c?16:c;if(null===yi)var u=!1;else{c=yi;yi=null;dj=0;if(0!==(ff&6))throw Error(r(331));var S=ff;ff|=4;for(de=c.current;null!==de;){var fa=de,Sa=fa.child;if(0!==(de.flags&16)){var Vb=fa.deletions;if(null!==Vb){for(var nc=0;nc<Vb.length;nc++){var Uc=Vb[nc];for(de=Uc;null!==de;){var xd=de;switch(xd.tag){case 0:case 11:case 15:eh(8,xd,fa)}var Cd=xd.child;if(null!==Cd)Cd.return=xd,de=Cd;else for(;null!==de;){xd=de;var wd=xd.sibling,Ud=xd.return;Ve(xd);if(xd===
Uc){de=null;break}if(null!==wd){wd.return=Ud;de=wd;break}de=Ud}}}var fe=fa.alternate;if(null!==fe){var me=fe.child;if(null!==me){fe.child=null;do{var cg=me.sibling;me.sibling=null;me=cg}while(null!==me)}}de=fa}}if(0!==(fa.subtreeFlags&2064)&&null!==Sa)Sa.return=fa,de=Sa;else a:for(;null!==de;){fa=de;if(0!==(fa.flags&2048))switch(fa.tag){case 0:case 11:case 15:eh(9,fa,fa.return)}var Hc=fa.sibling;if(null!==Hc){Hc.return=fa.return;de=Hc;break a}de=fa.return}}var vc=c.current;for(de=vc;null!==de;){Sa=
de;var Qc=Sa.child;if(0!==(Sa.subtreeFlags&2064)&&null!==Qc)Qc.return=Sa,de=Qc;else a:for(Sa=vc;null!==de;){Vb=de;if(0!==(Vb.flags&2048))try{switch(Vb.tag){case 0:case 11:case 15:lh(9,Vb)}}catch(ee){yf(Vb,Vb.return,ee)}if(Vb===Sa){de=null;break a}var Jd=Vb.sibling;if(null!==Jd){Jd.return=Vb.return;de=Jd;break a}de=Vb.return}}ff=S;jd();if(Yh&&"function"===typeof Yh.onPostCommitFiberRoot)try{Yh.onPostCommitFiberRoot(Ij,c)}catch(ee){}u=!0}return u}finally{wf=k,Kh.transition=d}}return!1}function ph(c,
d,k){d=ie(k,d);d=lf(c,d,1);c=xc(c,d,1);d=xb();null!==c&&(Mb(c,1,d),I(c,d))}function yf(c,d,k){if(3===c.tag)ph(c,c,k);else for(;null!==d;){if(3===d.tag){ph(d,c,k);break}else if(1===d.tag){var u=d.stateNode;if("function"===typeof d.type.getDerivedStateFromError||"function"===typeof u.componentDidCatch&&(null===si||!si.has(u))){c=ie(k,c);c=Ye(d,c,1);d=xc(d,c,1);c=xb();null!==d&&(Mb(d,1,c),I(d,c));break}}d=d.return}}function Bf(c,d,k){var u=c.pingCache;null!==u&&u.delete(d);d=xb();c.pingedLanes|=c.suspendedLanes&
k;qg===c&&(Qg&k)===k&&(4===Kf||3===Kf&&(Qg&130023424)===Qg&&500>ig()-Uh?Id(c,0):Rg|=k);I(c,d)}function Ag(c,d){0===d&&(0===(c.mode&1)?d=1:(d=Tj,Tj<<=1,0===(Tj&130023424)&&(Tj=4194304)));var k=xb();c=Wb(c,d);null!==c&&(Mb(c,d,k),I(c,k))}function kh(c){var d=c.memoizedState,k=0;null!==d&&(k=d.retryLane);Ag(c,k)}function Ff(c,d){var k=0;switch(c.tag){case 13:var u=c.stateNode,S=c.memoizedState;null!==S&&(k=S.retryLane);break;case 19:u=c.stateNode;break;default:throw Error(r(314));}null!==u&&u.delete(d);
Ag(c,k)}function uf(c,d){return Wf(c,d)}function Kg(c,d,k,u){this.tag=c;this.key=k;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=d;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=u;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function kg(c,d,k,u){return new Kg(c,d,k,u)}function Eh(c){c=c.prototype;return!(!c||!c.isReactComponent)}
function gi(c){if("function"===typeof c)return Eh(c)?1:0;if(void 0!==c&&null!==c){c=c.$$typeof;if(c===Ua)return 11;if(c===Jb)return 14}return 2}function dg(c,d){var k=c.alternate;null===k?(k=kg(c.tag,d,c.key,c.mode),k.elementType=c.elementType,k.type=c.type,k.stateNode=c.stateNode,k.alternate=c,c.alternate=k):(k.pendingProps=d,k.type=c.type,k.flags=0,k.subtreeFlags=0,k.deletions=null);k.flags=c.flags&14680064;k.childLanes=c.childLanes;k.lanes=c.lanes;k.child=c.child;k.memoizedProps=c.memoizedProps;
k.memoizedState=c.memoizedState;k.updateQueue=c.updateQueue;d=c.dependencies;k.dependencies=null===d?null:{lanes:d.lanes,firstContext:d.firstContext};k.sibling=c.sibling;k.index=c.index;k.ref=c.ref;return k}function Cf(c,d,k,u,S,fa){var Sa=2;u=c;if("function"===typeof c)Eh(c)&&(Sa=1);else if("string"===typeof c)Sa=5;else a:switch(c){case ii:return Eg(k.children,S,fa,d);case m:Sa=8;S|=8;break;case H:return c=kg(12,k,d,S|2),c.elementType=H,c.lanes=fa,c;case cb:return c=kg(13,k,d,S),c.elementType=cb,
c.lanes=fa,c;case ob:return c=kg(19,k,d,S),c.elementType=ob,c.lanes=fa,c;case dd:return Ki(k,S,fa,d);default:if("object"===typeof c&&null!==c)switch(c.$$typeof){case L:Sa=10;break a;case la:Sa=9;break a;case Ua:Sa=11;break a;case Jb:Sa=14;break a;case uc:Sa=16;u=null;break a}throw Error(r(130,null==c?c:typeof c,""));}d=kg(Sa,k,d,S);d.elementType=c;d.type=u;d.lanes=fa;return d}function Eg(c,d,k,u){c=kg(7,c,u,d);c.lanes=k;return c}function Ki(c,d,k,u){c=kg(22,c,u,d);c.elementType=dd;c.lanes=k;c.stateNode=
{isHidden:!1};return c}function rj(c,d,k){c=kg(6,c,null,d);c.lanes=k;return c}function sj(c,d,k){d=kg(4,null!==c.children?c.children:[],c.key,d);d.lanes=k;d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation};return d}function vk(c,d,k,u,S){this.tag=d;this.containerInfo=c;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=0;this.eventTimes=
$b(0);this.expirationTimes=$b(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=$b(0);this.identifierPrefix=u;this.onRecoverableError=S;this.mutableSourceEagerHydrationData=null}function ej(c,d,k,u,S,fa,Sa,Vb,nc){c=new vk(c,d,k,Vb,nc);1===d?(d=1,!0===fa&&(d|=8)):d=0;fa=kg(3,null,null,d);c.current=fa;fa.stateNode=c;fa.memoizedState={element:u,isDehydrated:k,cache:null,transitions:null,pendingSuspenseBoundaries:null};
ac(fa);return c}function $f(c,d,k){var u=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ji,key:null==u?null:""+u,children:c,containerInfo:d,implementation:k}}function wk(c){if(!c)return jg;c=c._reactInternals;a:{if(ta(c)!==c||1!==c.tag)throw Error(r(170));var d=c;do{switch(d.tag){case 3:d=d.stateNode.context;break a;case 1:if(Qa(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break a}}d=d.return}while(null!==d);throw Error(r(171));}if(1===c.tag){var k=
c.type;if(Qa(k))return sc(c,k,d)}return d}function Cj(c,d,k,u,S,fa,Sa,Vb,nc){c=ej(k,u,!0,c,S,fa,Sa,Vb,nc);c.context=wk(null);k=c.current;u=xb();S=fc(k);fa=zc(u,S);fa.callback=void 0!==d&&null!==d?d:null;xc(k,fa,S);c.current.lanes=S;Mb(c,S,u);I(c,u);return c}function fh(c,d,k,u){var S=d.current,fa=xb(),Sa=fc(S);k=wk(k);null===d.context?d.context=k:d.pendingContext=k;d=zc(fa,Sa);d.payload={element:c};u=void 0===u?null:u;null!==u&&(d.callback=u);c=xc(S,d,Sa);null!==c&&(q(c,S,Sa,fa),Jc(c,S,Sa));return Sa}
function Oi(c){c=c.current;if(!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function Uj(c,d){c=c.memoizedState;if(null!==c&&null!==c.dehydrated){var k=c.retryLane;c.retryLane=0!==k&&k<d?k:d}}function Dj(c,d){Uj(c,d);(c=c.alternate)&&Uj(c,d)}function cl(){return null}function Pi(c){this._internalRoot=c}function zi(c){this._internalRoot=c}function Vj(c){return!(!c||1!==c.nodeType&&9!==c.nodeType&&11!==c.nodeType)}function Qi(c){return!(!c||
1!==c.nodeType&&9!==c.nodeType&&11!==c.nodeType&&(8!==c.nodeType||" react-mount-point-unstable "!==c.nodeValue))}function Wj(){}function xk(c,d,k,u,S){if(S){if("function"===typeof u){var fa=u;u=function(){var Uc=Oi(Sa);fa.call(Uc)}}var Sa=Cj(d,u,c,0,null,!1,!1,"",Wj);c._reactRootContainer=Sa;c[$h]=Sa.current;le(8===c.nodeType?c.parentNode:c);cd();return Sa}for(;S=c.lastChild;)c.removeChild(S);if("function"===typeof u){var Vb=u;u=function(){var Uc=Oi(nc);Vb.call(Uc)}}var nc=ej(c,0,!1,null,null,!1,
!1,"",Wj);c._reactRootContainer=nc;c[$h]=nc.current;le(8===c.nodeType?c.parentNode:c);cd(function(){fh(d,nc,k,u)});return nc}function fj(c,d,k,u,S){var fa=k._reactRootContainer;if(fa){var Sa=fa;if("function"===typeof S){var Vb=S;S=function(){var nc=Oi(Sa);Vb.call(nc)}}fh(d,Sa,c,S)}else Sa=xk(k,d,c,S,u);return Oi(Sa)}var Ri=mb(2),Cg=mb(5),hi=new Set,Wh={},Lh=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),hj=Object.prototype.hasOwnProperty,
jj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hj={},ij={},bg={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){bg[c]=
new bc(c,0,!1,c,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var d=c[0];bg[d]=new bc(d,1,!1,c[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(c){bg[c]=new bc(c,2,!1,c.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){bg[c]=new bc(c,2,!1,c,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){bg[c]=
new bc(c,3,!1,c.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(c){bg[c]=new bc(c,3,!0,c,null,!1,!1)});["capture","download"].forEach(function(c){bg[c]=new bc(c,4,!1,c,null,!1,!1)});["cols","rows","size","span"].forEach(function(c){bg[c]=new bc(c,6,!1,c,null,!1,!1)});["rowSpan","start"].forEach(function(c){bg[c]=new bc(c,5,!1,c.toLowerCase(),null,!1,!1)});var Si=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var d=
c.replace(Si,Xb);bg[d]=new bc(d,1,!1,c,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var d=c.replace(Si,Xb);bg[d]=new bc(d,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(c){var d=c.replace(Si,Xb);bg[d]=new bc(d,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(c){bg[c]=new bc(c,1,!1,c.toLowerCase(),null,!1,!1)});bg.xlinkHref=
new bc("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(c){bg[c]=new bc(c,1,!1,c.toLowerCase(),null,!0,!0)});var xh=Ri.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xi=Symbol.for("react.element"),ji=Symbol.for("react.portal"),ii=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),la=Symbol.for("react.context"),Ua=Symbol.for("react.forward_ref"),cb=
Symbol.for("react.suspense"),ob=Symbol.for("react.suspense_list"),Jb=Symbol.for("react.memo"),uc=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var dd=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var od=Symbol.iterator,tc=Object.assign,Dd,$d=!1,ye=Array.isArray,Sd,Xe=function(c){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(d,k,u,S){MSApp.execUnsafeLocalFunction(function(){return c(d,
k,u,S)})}:c}(function(c,d){if("http://www.w3.org/2000/svg"!==c.namespaceURI||"innerHTML"in c)c.innerHTML=d;else{Sd=Sd||document.createElement("div");Sd.innerHTML="\x3csvg\x3e"+d.valueOf().toString()+"\x3c/svg\x3e";for(d=Sd.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;d.firstChild;)c.appendChild(d.firstChild)}}),Gf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,
flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vg=["Webkit","ms","Moz","O"];Object.keys(Gf).forEach(function(c){vg.forEach(function(d){d=
d+c.charAt(0).toUpperCase()+c.substring(1);Gf[d]=Gf[c]})});var wg=tc({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Bg=null,Mf=null,ze=null,Af=null,Xh=!1,Wd=!1;if(Lh)try{var Ad={};Object.defineProperty(Ad,"passive",{get:function(){Wd=!0}});window.addEventListener("test",Ad,Ad);window.removeEventListener("test",Ad,Ad)}catch(c){Wd=!1}var Qd=!1,Hd=null,df=!1,Vf=null,Hf={onError:function(c){Qd=!0;Hd=c}},Wf=Cg.unstable_scheduleCallback,
tg=Cg.unstable_cancelCallback,Vh=Cg.unstable_shouldYield,cm=Cg.unstable_requestPaint,ig=Cg.unstable_now,Gk=Cg.unstable_getCurrentPriorityLevel,Hk=Cg.unstable_ImmediatePriority,dk=Cg.unstable_UserBlockingPriority,Ui=Cg.unstable_NormalPriority,nl=Cg.unstable_LowPriority,Ik=Cg.unstable_IdlePriority,Ij=null,Yh=null,Nh=Math.clz32?Math.clz32:sb,kl=Math.log,Ll=Math.LN2,Jj=64,Tj=4194304,wf=0,Zj=!1,ak=[],Ci=null,ki=null,Di=null,kj=new Map,lj=new Map,li=[],ml="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),
mj=xh.ReactCurrentBatchConfig,bk=!0,ck=null,Ei=null,Jk=null,ek=null,gj={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nf=Da(gj),gh=tc({},gj,{view:0,detail:0}),Tk=Da(gh),Ti,yk,Xj,zk=tc({},gh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jb,button:0,buttons:0,relatedTarget:function(c){return void 0===c.relatedTarget?c.fromElement===c.srcElement?c.toElement:
c.fromElement:c.relatedTarget},movementX:function(c){if("movementX"in c)return c.movementX;c!==Xj&&(Xj&&"mousemove"===c.type?(Ti=c.screenX-Xj.screenX,yk=c.screenY-Xj.screenY):yk=Ti=0,Xj=c);return Ti},movementY:function(c){return"movementY"in c?c.movementY:yk}}),Qk=Da(zk),Bl=tc({},zk,{dataTransfer:0}),Rk=Da(Bl),Ak=tc({},gh,{relatedTarget:0}),Pk=Da(Ak),dl=tc({},gj,{animationName:0,elapsedTime:0,pseudoElement:0}),pl=Da(dl),dm=tc({},gj,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:
window.clipboardData}}),jk=Da(dm),em=tc({},gj,{data:0}),rl=Da(em),fm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",
45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ol={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},hm=tc({},gh,{key:function(c){if(c.key){var d=fm[c.key]||c.key;if("Unidentified"!==d)return d}return"keypress"===c.type?(c=t(c),13===c?"Enter":String.fromCharCode(c)):"keydown"===c.type||"keyup"===c.type?gm[c.keyCode]||"Unidentified":""},code:0,location:0,
ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jb,charCode:function(c){return"keypress"===c.type?t(c):0},keyCode:function(c){return"keydown"===c.type||"keyup"===c.type?c.keyCode:0},which:function(c){return"keypress"===c.type?t(c):"keydown"===c.type||"keyup"===c.type?c.keyCode:0}}),Rl=Da(hm),el=tc({},zk,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ql=Da(el),im=tc({},gh,{touches:0,targetTouches:0,changedTouches:0,
altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jb}),Sl=Da(im),jm=tc({},gj,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sk=Da(jm),fl=tc({},zk,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Tl=Da(fl),He=[9,13,27,32],vd=Lh&&"CompositionEvent"in window,ng=null;Lh&&"documentMode"in document&&(ng=document.documentMode);
var Gi=Lh&&"TextEvent"in window&&!ng,Lk=Lh&&(!vd||ng&&8<ng&&11>=ng),Kk=String.fromCharCode(32),fk=!1,mi=!1,Pl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Vi=null,nj=null,qh=!1;if(Lh){if(Lh){var Ej="oninput"in document;if(!Ej){var Cl=document.createElement("div");Cl.setAttribute("oninput","return;");Ej="function"===typeof Cl.oninput}var Yj=Ej}else Yj=!1;qh=Yj&&(!document.documentMode||9<document.documentMode)}var Oh=
"function"===typeof Object.is?Object.is:J,kk=Lh&&"documentMode"in document&&11>=document.documentMode,oj=null,Mk=null,Kj=null,Mg=!1,Fi={animationend:yc("Animation","AnimationEnd"),animationiteration:yc("Animation","AnimationIteration"),animationstart:yc("Animation","AnimationStart"),transitionend:yc("Transition","TransitionEnd")},Nk={},gk={};Lh&&(gk=document.createElement("div").style,"AnimationEvent"in window||(delete Fi.animationend.animation,delete Fi.animationiteration.animation,delete Fi.animationstart.animation),
"TransitionEvent"in window||delete Fi.transitionend.transition);for(var Ph=Xc("animationend"),ik=Xc("animationiteration"),ol=Xc("animationstart"),Wi=Xc("transitionend"),Zh=new Map,gl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" "),
hl=0;hl<gl.length;hl++){var Mh=gl[hl],Bk=Mh.toLowerCase(),Dl=Mh[0].toUpperCase()+Mh.slice(1);md(Bk,"on"+Dl)}md(Ph,"onAnimationEnd");md(ik,"onAnimationIteration");md(ol,"onAnimationStart");md("dblclick","onDoubleClick");md("focusin","onFocus");md("focusout","onBlur");md(Wi,"onTransitionEnd");ka("onMouseEnter",["mouseout","mouseover"]);ka("onMouseLeave",["mouseout","mouseover"]);ka("onPointerEnter",["pointerout","pointerover"]);ka("onPointerLeave",["pointerout","pointerover"]);h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));
h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));h("onBeforeInput",["compositionend","keypress","textInput","paste"]);h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yj="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),
Ql=new Set("cancel close invalid load scroll toggle".split(" ").concat(yj)),hk="_reactListening"+Math.random().toString(36).slice(2),Ul=/\r\n?/g,Vl=/\u0000|\uFFFD/g,Xk=null,Yk=null,$k="function"===typeof setTimeout?setTimeout:void 0,bm="function"===typeof clearTimeout?clearTimeout:void 0,Ck="function"===typeof Promise?Promise:void 0,Al="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Ck?function(c){return Ck.resolve(null).then(c).catch(rc)}:$k,Ai=Math.random().toString(36).slice(2),
Qh="__reactFiber$"+Ai,Lj="__reactProps$"+Ai,$h="__reactContainer$"+Ai,Ok="__reactEvents$"+Ai,yl="__reactListeners$"+Ai,Zk="__reactHandles$"+Ai,Uk=[],pj=-1,jg={},Dg=Md(jg),ah=Md(!1),ni=jg,og=null,ai=!1,Vk=!1,qj=[],Ah=0,mk=null,lk=0,If=[],rh=0,bi=null,Bh=1,oi="",Sg=null,Tg=null,Sf=!1,hh=null,zl=xh.ReactCurrentBatchConfig,Ji=p(!0),ul=p(!1),tj=Md(null),Hi=null,qi=null,Mj=null,Yi=null,ri=!1,uj={},ci=Md(uj),wj=Md(uj),vj=Md(uj),Ef=Md(0),Ii=[],Nj=xh.ReactCurrentDispatcher,nk=xh.ReactCurrentBatchConfig,Zi=
0,xf=null,pg=null,yg=null,$i=!1,Oj=!1,Pj=0,km=0,Qj={readContext:ua,useCallback:Zd,useContext:Zd,useEffect:Zd,useImperativeHandle:Zd,useInsertionEffect:Zd,useLayoutEffect:Zd,useMemo:Zd,useReducer:Zd,useRef:Zd,useState:Zd,useDebugValue:Zd,useDeferredValue:Zd,useTransition:Zd,useMutableSource:Zd,useSyncExternalStore:Zd,useId:Zd,unstable_isNewReconciler:!1},Xl={readContext:ua,useCallback:function(c,d){te().memoizedState=[c,void 0===d?null:d];return c},useContext:ua,useEffect:Fg,useImperativeHandle:function(c,
d,k){k=null!==k&&void 0!==k?k.concat([c]):null;return nf(4194308,4,ch.bind(null,d,c),k)},useLayoutEffect:function(c,d){return nf(4194308,4,c,d)},useInsertionEffect:function(c,d){return nf(4,2,c,d)},useMemo:function(c,d){var k=te();d=void 0===d?null:d;c=c();k.memoizedState=[c,d];return c},useReducer:function(c,d,k){var u=te();d=void 0!==k?k(d):d;u.memoizedState=u.baseState=d;c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:d};u.queue=c;c=c.dispatch=Ie.bind(null,
xf,c);return[u.memoizedState,c]},useRef:function(c){var d=te();c={current:c};return d.memoizedState=c},useState:fg,useDebugValue:Ja,useDeferredValue:function(c){return te().memoizedState=c},useTransition:function(){var c=fg(!1),d=c[0];c=Ld.bind(null,c[1]);te().memoizedState=c;return[d,c]},useMutableSource:function(){},useSyncExternalStore:function(c,d,k){var u=xf,S=te();if(Sf){if(void 0===k)throw Error(r(407));k=k()}else{k=d();if(null===qg)throw Error(r(349));0!==(Zi&30)||kf(u,d,k)}S.memoizedState=
k;var fa={value:k,getSnapshot:d};S.queue=fa;Fg(rf.bind(null,u,fa,c),[c]);u.flags|=2048;Of(9,Xf.bind(null,u,fa,k,d),void 0,null);return k},useId:function(){var c=te(),d=qg.identifierPrefix;if(Sf){var k=oi,u=Bh;k=(u&~(1<<32-Nh(u)-1)).toString(32)+k;d=":"+d+"R"+k;k=Pj++;0<k&&(d+="H"+k.toString(32));d+=":"}else k=km++,d=":"+d+"r"+k.toString(32)+":";return c.memoizedState=d},unstable_isNewReconciler:!1},sl={readContext:ua,useCallback:lb,useContext:ua,useEffect:Ch,useImperativeHandle:T,useInsertionEffect:Gg,
useLayoutEffect:Ug,useMemo:Gc,useReducer:Df,useRef:Pf,useState:function(){return Df(Oe)},useDebugValue:Ja,useDeferredValue:function(c){var d=Ae();return Ec(d,pg.memoizedState,c)},useTransition:function(){var c=Df(Oe)[0],d=Ae().memoizedState;return[c,d]},useMutableSource:Pe,useSyncExternalStore:Te,useId:he,unstable_isNewReconciler:!1},tl={readContext:ua,useCallback:lb,useContext:ua,useEffect:Ch,useImperativeHandle:T,useInsertionEffect:Gg,useLayoutEffect:Ug,useMemo:Gc,useReducer:td,useRef:Pf,useState:function(){return td(Oe)},
useDebugValue:Ja,useDeferredValue:function(c){var d=Ae();return null===pg?d.memoizedState=c:Ec(d,pg.memoizedState,c)},useTransition:function(){var c=td(Oe)[0],d=Ae().memoizedState;return[c,d]},useMutableSource:Pe,useSyncExternalStore:Te,useId:he,unstable_isNewReconciler:!1},ok={isMounted:function(c){return(c=c._reactInternals)?ta(c)===c:!1},enqueueSetState:function(c,d,k){c=c._reactInternals;var u=xb(),S=fc(c),fa=zc(u,S);fa.payload=d;void 0!==k&&null!==k&&(fa.callback=k);d=xc(c,fa,S);null!==d&&(q(d,
c,S,u),Jc(d,c,S))},enqueueReplaceState:function(c,d,k){c=c._reactInternals;var u=xb(),S=fc(c),fa=zc(u,S);fa.tag=1;fa.payload=d;void 0!==k&&null!==k&&(fa.callback=k);d=xc(c,fa,S);null!==d&&(q(d,c,S,u),Jc(d,c,S))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var k=xb(),u=fc(c),S=zc(k,u);S.tag=2;void 0!==d&&null!==d&&(S.callback=d);d=xc(c,S,u);null!==d&&(q(d,c,u,k),Jc(d,c,u))}},Yl="function"===typeof WeakMap?WeakMap:Map,vl=xh.ReactCurrentOwner,bh=!1,Wk={dehydrated:null,treeContext:null,retryLane:0};
var Zl=function(c,d){for(var k=d.child;null!==k;){if(5===k.tag||6===k.tag)c.appendChild(k.stateNode);else if(4!==k.tag&&null!==k.child){k.child.return=k;k=k.child;continue}if(k===d)break;for(;null===k.sibling;){if(null===k.return||k.return===d)return;k=k.return}k.sibling.return=k.return;k=k.sibling}};var ei=function(){};var wl=function(c,d,k,u){var S=c.memoizedProps;if(S!==u){c=d.stateNode;Xd(ci.current);var fa=null;switch(k){case "input":S=ia(c,S);u=ia(c,u);fa=[];break;case "select":S=tc({},S,{value:void 0});
u=tc({},u,{value:void 0});fa=[];break;case "textarea":S=qb(c,S);u=qb(c,u);fa=[];break;default:"function"!==typeof S.onClick&&"function"===typeof u.onClick&&(c.onclick=eb)}qa(k,u);var Sa;k=null;for(Uc in S)if(!u.hasOwnProperty(Uc)&&S.hasOwnProperty(Uc)&&null!=S[Uc])if("style"===Uc){var Vb=S[Uc];for(Sa in Vb)Vb.hasOwnProperty(Sa)&&(k||(k={}),k[Sa]="")}else"dangerouslySetInnerHTML"!==Uc&&"children"!==Uc&&"suppressContentEditableWarning"!==Uc&&"suppressHydrationWarning"!==Uc&&"autoFocus"!==Uc&&(Wh.hasOwnProperty(Uc)?
fa||(fa=[]):(fa=fa||[]).push(Uc,null));for(Uc in u){var nc=u[Uc];Vb=null!=S?S[Uc]:void 0;if(u.hasOwnProperty(Uc)&&nc!==Vb&&(null!=nc||null!=Vb))if("style"===Uc)if(Vb){for(Sa in Vb)!Vb.hasOwnProperty(Sa)||nc&&nc.hasOwnProperty(Sa)||(k||(k={}),k[Sa]="");for(Sa in nc)nc.hasOwnProperty(Sa)&&Vb[Sa]!==nc[Sa]&&(k||(k={}),k[Sa]=nc[Sa])}else k||(fa||(fa=[]),fa.push(Uc,k)),k=nc;else"dangerouslySetInnerHTML"===Uc?(nc=nc?nc.__html:void 0,Vb=Vb?Vb.__html:void 0,null!=nc&&Vb!==nc&&(fa=fa||[]).push(Uc,nc)):"children"===
Uc?"string"!==typeof nc&&"number"!==typeof nc||(fa=fa||[]).push(Uc,""+nc):"suppressContentEditableWarning"!==Uc&&"suppressHydrationWarning"!==Uc&&(Wh.hasOwnProperty(Uc)?(null!=nc&&"onScroll"===Uc&&pd("scroll",c),fa||Vb===nc||(fa=[])):(fa=fa||[]).push(Uc,nc))}k&&(fa=fa||[]).push("style",k);var Uc;if(d.updateQueue=fa)d.flags|=4}};var xl=function(c,d,k,u){k!==u&&(d.flags|=4)};var sk=!1,Xg=!1,$l="function"===typeof WeakSet?WeakSet:Set,de=null,rk=!1,Pg=null,Th=!1,am=Math.ceil,uk=xh.ReactCurrentDispatcher,
al=xh.ReactCurrentOwner,Kh=xh.ReactCurrentBatchConfig,ff=0,qg=null,ug=null,Qg=0,th=0,xj=Md(0),Kf=0,Rj=null,qf=0,mf=0,Rg=0,wh=null,oh=null,Uh=0,zj=Infinity,xi=null,pk=!1,qk=null,si=null,Sj=!1,yi=null,dj=0,wi=0,tk=null,Ni=-1,Bj=0;var bl=function(c,d,k){if(null!==c)if(c.memoizedProps!==d.pendingProps||ah.current)bh=!0;else{if(0===(c.lanes&k)&&0===(d.flags&128))return bh=!1,Gh(c,d,k);bh=0!==(c.flags&131072)?!0:!1}else bh=!1,Sf&&0!==(d.flags&1048576)&&ne(d,lk,d.index);d.lanes=0;switch(d.tag){case 2:var u=
d.type;Fh(c,d);c=d.pendingProps;var S=Ca(d,Dg.current);pa(d,k);S=Rd(null,d,u,c,S,k);var fa=Od();d.flags|=1;"object"===typeof S&&null!==S&&"function"===typeof S.render&&void 0===S.$$typeof?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Qa(u)?(fa=!0,Pc(d)):fa=!1,d.memoizedState=null!==S.state&&void 0!==S.state?S.state:null,ac(d),S.updater=ok,d.stateNode=S,S._reactInternals=d,be(d,u,c,k),d=mg(null,d,u,!0,fa,k)):(d.tag=0,Sf&&fa&&Ue(d),cf(null,d,S,k),d=d.child);return d;case 16:u=d.elementType;a:{Fh(c,
d);c=d.pendingProps;S=u._init;u=S(u._payload);d.type=u;S=d.tag=gi(u);c=Tf(u,c);switch(S){case 0:d=rg(null,d,u,c,k);break a;case 1:d=uh(null,d,u,c,k);break a;case 11:d=Wg(null,d,u,c,k);break a;case 14:d=zg(null,d,u,Tf(u.type,c),k);break a}throw Error(r(306,u,""));}return d;case 0:return u=d.type,S=d.pendingProps,S=d.elementType===u?S:Tf(u,S),rg(c,d,u,S,k);case 1:return u=d.type,S=d.pendingProps,S=d.elementType===u?S:Tf(u,S),uh(c,d,u,S,k);case 3:a:{Sh(d);if(null===c)throw Error(r(387));u=d.pendingProps;
fa=d.memoizedState;S=fa.element;mc(c,d);ad(d,u,null,k);var Sa=d.memoizedState;u=Sa.element;if(fa.isDehydrated)if(fa={element:u,isDehydrated:!1,cache:Sa.cache,pendingSuspenseBoundaries:Sa.pendingSuspenseBoundaries,transitions:Sa.transitions},d.updateQueue.baseState=fa,d.memoizedState=fa,d.flags&256){S=ie(Error(r(423)),d);oe();Me(S);d.flags|=256;cf(c,d,u,k);d=d.child;break a}else if(u!==S){S=ie(Error(r(424)),d);oe();Me(S);d.flags|=256;cf(c,d,u,k);d=d.child;break a}else for(Tg=Mc(d.stateNode.containerInfo.firstChild),
Sg=d,Sf=!0,hh=null,k=ul(d,null,u,k),d.child=k;k;)k.flags=k.flags&-3|4096,k=k.sibling;else{oe();if(u===S){d=Hg(c,d,k);break a}cf(c,d,u,k)}d=d.child}return d;case 5:return Be(d),null===c&&Le(d),u=d.type,S=d.pendingProps,fa=null!==c?c.memoizedProps:null,Sa=S.children,Cb(u,S)?Sa=null:null!==fa&&Cb(u,fa)&&(d.flags|=32),Rh(c,d),cf(c,d,Sa,k),d.child;case 6:return null===c&&Le(d),null;case 13:return Ig(c,d,k);case 4:return Sc(d,d.stateNode.containerInfo),u=d.pendingProps,null===c?d.child=Ji(d,null,u,k):cf(c,
d,u,k),d.child;case 11:return u=d.type,S=d.pendingProps,S=d.elementType===u?S:Tf(u,S),Wg(c,d,u,S,k);case 7:return cf(c,d,d.pendingProps,k),d.child;case 8:return cf(c,d,d.pendingProps.children,k),d.child;case 12:return cf(c,d,d.pendingProps.children,k),d.child;case 10:a:{u=d.type._context;S=d.pendingProps;fa=d.memoizedProps;Sa=S.value;ae(tj,u._currentValue);u._currentValue=Sa;if(null!==fa)if(Oh(fa.value,Sa)){if(fa.children===S.children&&!ah.current){d=Hg(c,d,k);break a}}else for(fa=d.child,null!==
fa&&(fa.return=d);null!==fa;){var Vb=fa.dependencies;if(null!==Vb){Sa=fa.child;for(var nc=Vb.firstContext;null!==nc;){if(nc.context===u){if(1===fa.tag){nc=zc(-1,k&-k);nc.tag=2;var Uc=fa.updateQueue;if(null!==Uc){Uc=Uc.shared;var xd=Uc.pending;null===xd?nc.next=nc:(nc.next=xd.next,xd.next=nc);Uc.pending=nc}}fa.lanes|=k;nc=fa.alternate;null!==nc&&(nc.lanes|=k);Y(fa.return,k,d);Vb.lanes|=k;break}nc=nc.next}}else if(10===fa.tag)Sa=fa.type===d.type?null:fa.child;else if(18===fa.tag){Sa=fa.return;if(null===
Sa)throw Error(r(341));Sa.lanes|=k;Vb=Sa.alternate;null!==Vb&&(Vb.lanes|=k);Y(Sa,k,d);Sa=fa.sibling}else Sa=fa.child;if(null!==Sa)Sa.return=fa;else for(Sa=fa;null!==Sa;){if(Sa===d){Sa=null;break}fa=Sa.sibling;if(null!==fa){fa.return=Sa.return;Sa=fa;break}Sa=Sa.return}fa=Sa}cf(c,d,S.children,k);d=d.child}return d;case 9:return S=d.type,u=d.pendingProps.children,pa(d,k),S=ua(S),u=u(S),d.flags|=1,cf(c,d,u,k),d.child;case 14:return u=d.type,S=Tf(u,d.pendingProps),S=Tf(u.type,S),zg(c,d,u,S,k);case 15:return jh(c,
d,d.type,d.pendingProps,k);case 17:return u=d.type,S=d.pendingProps,S=d.elementType===u?S:Tf(u,S),Fh(c,d),d.tag=1,Qa(u)?(c=!0,Pc(d)):c=!1,pa(d,k),sh(d,u,S),be(d,u,S,k),mg(null,d,u,!0,c,k);case 19:return Li(c,d,k);case 22:return Rf(c,d,k)}throw Error(r(156,d.tag));};var El="function"===typeof reportError?reportError:function(c){console.error(c)};zi.prototype.render=Pi.prototype.render=function(c){var d=this._internalRoot;if(null===d)throw Error(r(409));fh(c,d,null,null)};zi.prototype.unmount=Pi.prototype.unmount=
function(){var c=this._internalRoot;if(null!==c){this._internalRoot=null;var d=c.containerInfo;cd(function(){fh(null,c,null,null)});d[$h]=null}};zi.prototype.unstable_scheduleHydration=function(c){if(c){var d=Fl();c={blockedOn:null,target:c,priority:d};for(var k=0;k<li.length&&0!==d&&d<li[k].priority;k++);li.splice(k,0,c);0===k&&wb(c)}};var Nl=function(c){switch(c.tag){case 3:var d=c.stateNode;if(d.current.memoizedState.isDehydrated){var k=ib(d.pendingLanes);0!==k&&(wc(d,k|1),I(d,ig()),0===(ff&6)&&
(zj=ig()+500,jd()))}break;case 13:cd(function(){var u=Wb(c,1);if(null!==u){var S=xb();q(u,c,1,S)}}),Dj(c,1)}};var Fk=function(c){if(13===c.tag){var d=Wb(c,134217728);if(null!==d){var k=xb();q(d,c,134217728,k)}Dj(c,134217728)}};var Ml=function(c){if(13===c.tag){var d=fc(c),k=Wb(c,d);if(null!==k){var u=xb();q(k,c,d,u)}Dj(c,d)}};var Fl=function(){return wf};var ll=function(c,d){var k=wf;try{return wf=c,d()}finally{wf=k}};Mf=function(c,d,k){switch(d){case "input":Wa(c,k);d=k.name;if("radio"===k.type&&
null!=d){for(k=c;k.parentNode;)k=k.parentNode;k=k.querySelectorAll("input[name\x3d"+JSON.stringify(""+d)+'][type\x3d"radio"]');for(d=0;d<k.length;d++){var u=k[d];if(u!==c&&u.form===c.form){var S=Td(u);if(!S)throw Error(r(90));ec(u);Wa(u,S)}}}break;case "textarea":db(c,k);break;case "select":d=k.value,null!=d&&ab(c,!!k.multiple,d,!1)}};A=gc;W=cd;var lm={usingClientEntryPoint:!1,Events:[Oc,Pd,Td,v,R,gc]},Fj={findFiberByHostInstance:id,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bi=
{bundleType:Fj.bundleType,version:Fj.version,rendererPackageName:Fj.rendererPackageName,rendererConfig:Fj.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xh.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){c=Ma(c);return null===c?null:c.stateNode},findFiberByHostInstance:Fj.findFiberByHostInstance||
cl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yh.isDisabled&&yh.supportsFiber)try{Ij=yh.inject(Bi),Yh=yh}catch(c){}}Va.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lm;Va.createPortal=function(c,d){var k=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Vj(d))throw Error(r(200));
return $f(c,d,null,k)};Va.createRoot=function(c,d){if(!Vj(c))throw Error(r(299));var k=!1,u="",S=El;null!==d&&void 0!==d&&(!0===d.unstable_strictMode&&(k=!0),void 0!==d.identifierPrefix&&(u=d.identifierPrefix),void 0!==d.onRecoverableError&&(S=d.onRecoverableError));d=ej(c,1,!1,null,null,k,!1,u,S);c[$h]=d.current;le(8===c.nodeType?c.parentNode:c);return new Pi(d)};Va.findDOMNode=function(c){if(null==c)return null;if(1===c.nodeType)return c;var d=c._reactInternals;if(void 0===d){if("function"===typeof c.render)throw Error(r(188));
c=Object.keys(c).join(",");throw Error(r(268,c));}c=Ma(d);return c=null===c?null:c.stateNode};Va.flushSync=function(c){return cd(c)};Va.hydrate=function(c,d,k){if(!Qi(d))throw Error(r(200));return fj(null,c,d,!0,k)};Va.hydrateRoot=function(c,d,k){if(!Vj(c))throw Error(r(405));var u=null!=k&&k.hydratedSources||null,S=!1,fa="",Sa=El;null!==k&&void 0!==k&&(!0===k.unstable_strictMode&&(S=!0),void 0!==k.identifierPrefix&&(fa=k.identifierPrefix),void 0!==k.onRecoverableError&&(Sa=k.onRecoverableError));
d=Cj(d,null,c,1,null!=k?k:null,S,!1,fa,Sa);c[$h]=d.current;le(c);if(u)for(c=0;c<u.length;c++)k=u[c],S=k._getVersion,S=S(k._source),null==d.mutableSourceEagerHydrationData?d.mutableSourceEagerHydrationData=[k,S]:d.mutableSourceEagerHydrationData.push(k,S);return new zi(d)};Va.render=function(c,d,k){if(!Qi(d))throw Error(r(200));return fj(null,c,d,!1,k)};Va.unmountComponentAtNode=function(c){if(!Qi(c))throw Error(r(40));return c._reactRootContainer?(cd(function(){fj(null,null,c,!1,function(){c._reactRootContainer=
null;c[$h]=null})}),!0):!1};Va.unstable_batchedUpdates=gc;Va.unstable_renderSubtreeIntoContainer=function(c,d,k,u){if(!Qi(k))throw Error(r(200));if(null==c||void 0===c._reactInternals)throw Error(r(38));return fj(c,d,k,!1,u)};Va.version="18.3.1-next-f1338f8080-20240426"};
shadow$provide[8]=function(Db,mb,Cc,Va){function r(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(h){console.error(h)}}r();Cc.exports=mb(6)};
shadow$provide[9]=function(Db,mb,Cc,Va){Db=mb(8);Va.createRoot=Db.createRoot;Va.hydrateRoot=Db.hydrateRoot};
shadow$provide[14]=function(Db,mb,Cc,Va){Cc.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"};
shadow$provide[18]=function(Db,mb,Cc,Va){function r(){}function h(){}var ka=mb(14);h.resetWarningCache=r;Cc.exports=function(){function Ya(bc,Xb,oc,zb,Ub,kc){if(kc!==ka)throw bc=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"),bc.name="Invariant Violation",bc;}function ub(){return Ya}Ya.isRequired=Ya;var Yb={array:Ya,bigint:Ya,bool:Ya,func:Ya,number:Ya,object:Ya,
string:Ya,symbol:Ya,any:Ya,arrayOf:ub,element:Ya,elementType:Ya,instanceOf:ub,node:Ya,objectOf:ub,oneOf:ub,oneOfType:ub,shape:ub,exact:ub,checkPropTypes:h,resetWarningCache:r};return Yb.PropTypes=Yb}};
shadow$provide[19]=function(Db,mb,Cc,Va){Cc.exports=mb(18)()};
shadow$provide[20]=function(Db,mb,Cc,Va){Va.__esModule=!0;Va.default=function(h,ka){void 0===h&&(h=r);void 0===ka&&(ka=r);const Ya=Object.keys(h),ub=Object.keys(ka);return h===ka||Ya.length===ub.length&&Ya.every(Yb=>h[Yb]===ka[Yb])};const r={}};
shadow$provide[21]=function(Db,mb,Cc,Va){(function(r,h){"object"===typeof Va&&"undefined"!==typeof Cc?h(Va):"function"===typeof define&&define.amd?define(["exports"],h):(r="undefined"!==typeof globalThis?globalThis:r||self,h(r.vega={}))})(this,function(r){function h(G,w,z){G.fields=w||[];G.fname=z;return G}function ka(G){return null==G?null:G.fields}function Ya(G){return 1===G.length?Wa(G[0]):Ia(G)}function ub(G){throw Error(G);}function Yb(G){function w(){z.push(N+G.substring(ma,ya));N="";ma=ya+
1}const z=[],F=G.length;let V=null,ta=0,N="",ma,ya,Ma;G+="";for(ma=ya=0;ya<F;++ya)(Ma=G[ya],"\\"===Ma)?(N+=G.substring(ma,ya++),ma=ya):Ma===V?(w(),V=null,ta=-1):V||(ma===ta&&'"'===Ma?(ma=ya+1,V=Ma):ma===ta&&"'"===Ma?(ma=ya+1,V=Ma):"."!==Ma||ta?"["===Ma?(ya>ma&&w(),ta=ma=ya+1):"]"===Ma&&(ta||ub("Access path missing open bracket: "+G),0<ta&&w(),ta=0,ma=ya+1):ya>ma?w():ma=ya+1);ta&&ub("Access path missing closing bracket: "+G);V&&ub("Access path missing closing quote: "+G);ya>ma&&(ya++,w());return z}
function bc(G,w,z){const F=Yb(G);G=1===F.length?F[0]:G;return h((z&&z.get||Ya)(F),[G],w||G)}function Xb(G,w,z){w=[w].concat([].slice.call(z));console[G].apply(console,w)}function oc(G){return G===Object(G)}function zb(G,w,z,F){if("__proto__"!==w){var V;if(oc(z)&&!ba(z))for(V in G=oc(G[w])?G[w]:G[w]={},z)F&&(!0===F||F[V])?zb(G,V,z[V]):"__proto__"!==V&&(G[V]=z[V]);else G[w]=z}}function Ub(G,w){function z(ta){F[ta.name]||(F[ta.name]=1,V.push(ta))}if(null==G)return w;const F={},V=[];w.forEach(z);G.forEach(z);
return V}function kc(G){return G[G.length-1]}function Ea(G){return null==G||""===G?null:+G}function Za(G,w,z,F){const V=z(G[0]);G=z(kc(G));w*=G-V;return[F(V-w),F(G-w)]}function tb(G,w,z,F,V){const ta=F(G[0]);G=F(kc(G));w=null!=w?F(w):(ta+G)/2;return[V(w+(ta-w)*z),V(w+(G-w)*z)]}function rb(G){return null!=G?ba(G)?G:[G]:[]}function pb(G){return"function"===typeof G}function vb(G){for(let w,z,F=1,V=arguments.length;F<V;++F)for(z in w=arguments[F],w)G[z]=w[z];return G}function gb(G,w){return R.call(G,
w)}function ec(G){return"[object Date]"===Object.prototype.toString.call(G)}function sa(G){return"number"===typeof G}function ia(G){return"string"===typeof G}function Ba(G,w){let z="";for(;0<=--w;)z+=G;return z}function Ra(G){return ba(G)?"["+G.map(Ra)+"]":oc(G)||ia(G)?JSON.stringify(G).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):G}const Wa=G=>function(w){return w[G]},Ia=G=>{const w=G.length;return function(z){for(let F=0;F<w;++F)z=z[G[F]];return z}},hb=bc("id"),ab=h(G=>G,[],"identity"),
qb=h(()=>0,[],"zero"),Pb=h(()=>1,[],"one"),db=h(()=>!0,[],"true"),U=h(()=>!1,[],"false");var ba=Array.isArray;const ea=G=>w=>G*Math.exp(w),ja=G=>w=>Math.log(G*w),La=G=>w=>Math.sign(w)*Math.log1p(Math.abs(w/G)),oa=G=>w=>Math.sign(w)*Math.expm1(Math.abs(w))*G,qa=G=>w=>0>w?-Math.pow(-w,G):Math.pow(w,G),l=(G,w)=>(G<w||null==G)&&null!=w?-1:(G>w||null==w)&&null!=G?1:(w=w instanceof Date?+w:w,G=G instanceof Date?+G:G)!==G&&w===w?-1:w!==w&&G===G?1:0,D=(G,w)=>1===G.length?K(G[0],w[0]):v(G,w,G.length),K=(G,
w)=>function(z,F){return l(G(z),G(F))*w},v=(G,w,z)=>{w.push(0);return function(F,V){var ta=0;let N=-1;for(;0===ta&&++N<z;)ta=G[N],ta=l(ta(F),ta(V));return ta*w[N]}},R=Object.prototype.hasOwnProperty,A={},W=G=>sa(G)?G:ec(G)?G:Date.parse(G);r.Debug=4;r.Error=1;r.Info=3;r.None=0;r.Warn=2;r.accessor=h;r.accessorFields=ka;r.accessorName=function(G){return null==G?null:G.fname};r.array=rb;r.ascending=l;r.clampRange=function(G,w,z){let F=G[0];G=G[1];let V;G<F&&(V=G,G=F,F=V);V=G-F;return V>=z-w?[w,z]:[F=
Math.min(Math.max(F,w),z-V),F+V]};r.compare=function(G,w,z){z=z||{};w=rb(w)||[];const F=[],V=[],ta={},N=z.comparator||D;rb(G).forEach((ma,ya)=>{null!=ma&&(F.push("descending"===w[ya]?-1:1),V.push(ma=pb(ma)?ma:bc(ma,null,z)),(ka(ma)||[]).forEach(Ma=>ta[Ma]=1))});return 0===V.length?null:h(N(V,F),Object.keys(ta))};r.constant=function(G){return pb(G)?G:()=>G};r.debounce=function(G,w){let z;return F=>{z&&clearTimeout(z);z=setTimeout(()=>(w(F),z=null),G)}};r.error=ub;r.extend=vb;r.extent=function(G,w){let z=
0,F,V,ta,N;if(G&&(F=G.length))if(null==w){for(V=G[z];z<F&&(null==V||V!==V);V=G[++z]);for(ta=N=V;z<F;++z)V=G[z],null!=V&&(V<ta&&(ta=V),V>N&&(N=V))}else{for(V=w(G[z]);z<F&&(null==V||V!==V);V=w(G[++z]));for(ta=N=V;z<F;++z)V=w(G[z]),null!=V&&(V<ta&&(ta=V),V>N&&(N=V))}return[ta,N]};r.extentIndex=function(G,w){const z=G.length;let F=-1,V,ta,N,ma,ya;if(null==w){for(;++F<z;)if(ta=G[F],null!=ta&&ta>=ta){V=N=ta;break}if(F===z)return[-1,-1];for(ma=ya=F;++F<z;)ta=G[F],null!=ta&&(V>ta&&(V=ta,ma=F),N<ta&&(N=ta,
ya=F))}else{for(;++F<z;)if(ta=w(G[F],F,G),null!=ta&&ta>=ta){V=N=ta;break}if(F===z)return[-1,-1];for(ma=ya=F;++F<z;)ta=w(G[F],F,G),null!=ta&&(V>ta&&(V=ta,ma=F),N<ta&&(N=ta,ya=F))}return[ma,ya]};r.falsy=U;r.fastmap=function(G){function w(ta){return gb(z,ta)&&z[ta]!==A}let z={},F;const V={size:0,empty:0,object:z,has:w,get(ta){return w(ta)?z[ta]:void 0},set(ta,N){w(ta)||(++V.size,z[ta]===A&&--V.empty);z[ta]=N;return this},delete(ta){w(ta)&&(--V.size,++V.empty,z[ta]=A);return this},clear(){V.size=V.empty=
0;V.object=z={}},test(ta){return arguments.length?(F=ta,V):F},clean(){const ta={};let N=0;for(const ma in z){const ya=z[ma];ya===A||F&&F(ya)||(ta[ma]=ya,++N)}V.size=N;V.empty=0;V.object=z=ta}};G&&Object.keys(G).forEach(ta=>{V.set(ta,G[ta])});return V};r.field=bc;r.flush=function(G,w,z,F,V,ta){if(!z&&0!==z)return ta;z=+z;let N=G[0],ma=kc(G);ma<N&&(G=N,N=ma,ma=G);G=Math.abs(w-N);w=Math.abs(ma-w);return G<w&&G<=z?F:w<=z?V:ta};r.hasOwnProperty=gb;r.id=hb;r.identity=ab;r.inherits=function(G,w,z){w=G.prototype=
Object.create(w.prototype);Object.defineProperty(w,"constructor",{value:G,writable:!0,enumerable:!0,configurable:!0});return vb(w,z)};r.inrange=function(G,w,z,F){let V=w[0];w=w[w.length-1];let ta;V>w&&(ta=V,V=w,w=ta);return(void 0===z||z?V<=G:V<G)&&(void 0===F||F?G<=w:G<w)};r.isArray=ba;r.isBoolean=function(G){return"boolean"===typeof G};r.isDate=ec;r.isFunction=pb;r.isIterable=function(G){return G&&pb(G[Symbol.iterator])};r.isNumber=sa;r.isObject=oc;r.isRegExp=function(G){return"[object RegExp]"===
Object.prototype.toString.call(G)};r.isString=ia;r.key=function(G,w,z){G&&(G=w?rb(G).map(ta=>ta.replace(/\\(.)/g,"$1")):rb(G));const F=G&&G.length,V=z&&z.get||Ya;z=ta=>V(w?[ta]:Yb(ta));if(F)if(1===F){const ta=z(G[0]);z=function(N){return""+ta(N)}}else{const ta=G.map(z);z=function(N){let ma=""+ta[0](N),ya=0;for(;++ya<F;)ma+="|"+ta[ya](N);return ma}}else z=function(){return""};return h(z,G,"key")};r.lerp=function(G,w){const z=G[0];G=kc(G);return(w=+w)?1===w?G:z+w*(G-z):z};r.logger=function(G,w,z=Xb){let F=
G||0;return{level(V){return arguments.length?(F=+V,this):F},error(){1<=F&&z(w||"error","ERROR",arguments);return this},warn(){2<=F&&z(w||"warn","WARN",arguments);return this},info(){3<=F&&z(w||"log","INFO",arguments);return this},debug(){4<=F&&z(w||"log","DEBUG",arguments);return this}}};r.lruCache=function(G){G=+G||1E4;let w,z,F;const V=()=>{w={};z={};F=0},ta=(N,ma)=>{++F>G&&(z=w,w={},F=1);return w[N]=ma};V();return{clear:V,has:N=>gb(w,N)||gb(z,N),get:N=>gb(w,N)?w[N]:gb(z,N)?ta(N,z[N]):void 0,set:(N,
ma)=>gb(w,N)?w[N]=ma:ta(N,ma)}};r.merge=function(G,w,z,F){const V=w.length,ta=z.length;if(!ta)return w;if(!V)return z;F=F||new w.constructor(V+ta);let N=0,ma=0,ya=0;for(;N<V&&ma<ta;++ya)F[ya]=0<G(w[N],z[ma])?z[ma++]:w[N++];for(;N<V;++N,++ya)F[ya]=w[N];for(;ma<ta;++ma,++ya)F[ya]=z[ma];return F};r.mergeConfig=function(...G){return G.reduce((w,z)=>{for(const F in z)"signals"===F?w.signals=Ub(w.signals,z.signals):zb(w,F,z[F],"legend"===F?{layout:1}:"style"===F?!0:null);return w},{})};r.one=Pb;r.pad=function(G,
w,z,F){z=z||" ";G+="";w-=G.length;return 0>=w?G:"left"===F?Ba(z,w)+G:"center"===F?Ba(z,~~(w/2))+G+Ba(z,Math.ceil(w/2)):G+Ba(z,w)};r.panLinear=function(G,w){return Za(G,w,Ea,ab)};r.panLog=function(G,w){var z=Math.sign(G[0]);return Za(G,w,ja(z),ea(z))};r.panPow=function(G,w,z){return Za(G,w,qa(z),qa(1/z))};r.panSymlog=function(G,w,z){return Za(G,w,La(z),oa(z))};r.peek=kc;r.quarter=function(G){return 1+~~((new Date(G)).getMonth()/3)};r.repeat=Ba;r.span=function(G){return G&&kc(G)-G[0]||0};r.splitAccessPath=
Yb;r.stringValue=Ra;r.toBoolean=function(G){return null==G||""===G?null:G&&"false"!==G&&"0"!==G?!!G:!1};r.toDate=function(G,w){w=w||W;return null==G||""===G?null:w(G)};r.toNumber=Ea;r.toSet=function(G){const w={},z=G.length;for(let F=0;F<z;++F)w[G[F]]=!0;return w};r.toString=function(G){return null==G||""===G?null:G+""};r.truncate=function(G,w,z,F){F=null!=F?F:"";G+="";const V=G.length,ta=Math.max(0,w-F.length);return V<=w?G:"left"===z?F+G.slice(V-ta):"center"===z?G.slice(0,Math.ceil(ta/2))+F+G.slice(V-
~~(ta/2)):G.slice(0,ta)+F};r.truthy=db;r.utcquarter=function(G){return 1+~~((new Date(G)).getUTCMonth()/3)};r.visitArray=function(G,w,z){if(G)if(w){const F=G.length;for(let V=0;V<F;++V){const ta=w(G[V]);ta&&z(ta,V,G)}}else G.forEach(z)};r.writeConfig=zb;r.zero=qb;r.zoomLinear=function(G,w,z){return tb(G,w,z,Ea,ab)};r.zoomLog=function(G,w,z){const F=Math.sign(G[0]);return tb(G,w,z,ja(F),ea(F))};r.zoomPow=function(G,w,z,F){return tb(G,w,z,qa(F),qa(1/F))};r.zoomSymlog=function(G,w,z,F){return tb(G,w,
z,La(F),oa(F))}})};
shadow$provide[22]=function(Db,mb,Cc,Va){(function(r,h){"object"===typeof Va&&"undefined"!==typeof Cc?h(Va):"function"===typeof define&&define.amd?define(["exports"],h):(r=r||self,h(r.topojson=r.topojson||{}))})(this,function(r){function h(Ea){return Ea}function ka(Ea){if(null==Ea)return h;var Za,tb,rb=Ea.scale[0],pb=Ea.scale[1],vb=Ea.translate[0],gb=Ea.translate[1];return function(ec,sa){sa||(Za=tb=0);sa=2;var ia=ec.length,Ba=Array(ia);Ba[0]=(Za+=ec[0])*rb+vb;for(Ba[1]=(tb+=ec[1])*pb+gb;sa<ia;)Ba[sa]=
ec[sa],++sa;return Ba}}function Ya(Ea){function Za(ia){ia=rb(ia);ia[0]<vb&&(vb=ia[0]);ia[0]>ec&&(ec=ia[0]);ia[1]<gb&&(gb=ia[1]);ia[1]>sa&&(sa=ia[1])}function tb(ia){switch(ia.type){case "GeometryCollection":ia.geometries.forEach(tb);break;case "Point":Za(ia.coordinates);break;case "MultiPoint":ia.coordinates.forEach(Za)}}var rb=ka(Ea.transform),pb,vb=Infinity,gb=vb,ec=-vb,sa=-vb;Ea.arcs.forEach(function(ia){for(var Ba=-1,Ra=ia.length,Wa;++Ba<Ra;)Wa=rb(ia[Ba],Ba),Wa[0]<vb&&(vb=Wa[0]),Wa[0]>ec&&(ec=
Wa[0]),Wa[1]<gb&&(gb=Wa[1]),Wa[1]>sa&&(sa=Wa[1])});for(pb in Ea.objects)tb(Ea.objects[pb]);return[vb,gb,ec,sa]}function ub(Ea,Za){var tb=Za.id,rb=Za.bbox,pb=null==Za.properties?{}:Za.properties;Ea=Yb(Ea,Za);return null==tb&&null==rb?{type:"Feature",properties:pb,geometry:Ea}:null==rb?{type:"Feature",id:tb,properties:pb,geometry:Ea}:{type:"Feature",id:tb,bbox:rb,properties:pb,geometry:Ea}}function Yb(Ea,Za){function tb(ia){return ec(ia)}function rb(ia){for(var Ba=[],Ra=0,Wa=ia.length;Ra<Wa;++Ra){var Ia=
ia[Ra],hb=Ba;hb.length&&hb.pop();for(var ab=sa[0>Ia?~Ia:Ia],qb=0,Pb=ab.length;qb<Pb;++qb)hb.push(ec(ab[qb],qb));if(0>Ia)for(Ia=hb,hb=Ia.length,ab=hb-Pb;ab<--hb;)Pb=Ia[ab],Ia[ab++]=Ia[hb],Ia[hb]=Pb}2>Ba.length&&Ba.push(Ba[0]);return Ba}function pb(ia){for(ia=rb(ia);4>ia.length;)ia.push(ia[0]);return ia}function vb(ia){return ia.map(pb)}function gb(ia){var Ba=ia.type;switch(Ba){case "GeometryCollection":return{type:Ba,geometries:ia.geometries.map(gb)};case "Point":ia=ec(ia.coordinates);break;case "MultiPoint":ia=
ia.coordinates.map(tb);break;case "LineString":ia=rb(ia.arcs);break;case "MultiLineString":ia=ia.arcs.map(rb);break;case "Polygon":ia=vb(ia.arcs);break;case "MultiPolygon":ia=ia.arcs.map(vb);break;default:return null}return{type:Ba,coordinates:ia}}var ec=ka(Ea.transform),sa=Ea.arcs;return gb(Za)}function bc(Ea,Za){function tb(ia){var Ba=Ea.arcs[0>ia?~ia:ia],Ra=Ba[0];if(Ea.transform){var Wa=[0,0];Ba.forEach(function(Ia){Wa[0]+=Ia[0];Wa[1]+=Ia[1]})}else Wa=Ba[Ba.length-1];return 0>ia?[Wa,Ra]:[Ra,Wa]}
function rb(ia,Ba){for(var Ra in ia){var Wa=ia[Ra];delete Ba[Wa.start];delete Wa.start;delete Wa.end;Wa.forEach(function(Ia){pb[0>Ia?~Ia:Ia]=1});ec.push(Wa)}}var pb={},vb={},gb={},ec=[],sa=-1;Za.forEach(function(ia,Ba){var Ra=Ea.arcs[0>ia?~ia:ia];3>Ra.length&&!Ra[1][0]&&!Ra[1][1]&&(Ra=Za[++sa],Za[sa]=ia,Za[Ba]=Ra)});Za.forEach(function(ia){var Ba=tb(ia),Ra=Ba[0],Wa=Ba[1];(Ba=gb[Ra])?(delete gb[Ba.end],Ba.push(ia),Ba.end=Wa,(ia=vb[Wa])?(delete vb[ia.start],Ra=ia===Ba?Ba:Ba.concat(ia),vb[Ra.start=Ba.start]=
gb[Ra.end=ia.end]=Ra):vb[Ba.start]=gb[Ba.end]=Ba):(Ba=vb[Wa])?(delete vb[Ba.start],Ba.unshift(ia),Ba.start=Ra,(ia=gb[Ra])?(delete gb[ia.end],Ra=ia===Ba?Ba:ia.concat(Ba),vb[Ra.start=ia.start]=gb[Ra.end=Ba.end]=Ra):vb[Ba.start]=gb[Ba.end]=Ba):(Ba=[ia],vb[Ba.start=Ra]=gb[Ba.end=Wa]=Ba)});rb(gb,vb);rb(vb,gb);Za.forEach(function(ia){pb[0>ia?~ia:ia]||ec.push([ia])});return ec}function Xb(Ea,Za,tb){var rb;if(1<arguments.length)var pb=oc(Ea,Za,tb);else{var vb=0;for(pb=Array(rb=Ea.arcs.length);vb<rb;++vb)pb[vb]=
vb}return{type:"MultiLineString",arcs:bc(Ea,pb)}}function oc(Ea,Za,tb){function rb(Ba){var Ra=0>Ba?~Ba:Ba;(sa[Ra]||(sa[Ra]=[])).push({i:Ba,g:ia})}function pb(Ba){Ba.forEach(rb)}function vb(Ba){Ba.forEach(pb)}function gb(Ba){switch(ia=Ba,Ba.type){case "GeometryCollection":Ba.geometries.forEach(gb);break;case "LineString":pb(Ba.arcs);break;case "MultiLineString":case "Polygon":vb(Ba.arcs);break;case "MultiPolygon":Ba.arcs.forEach(vb)}}var ec=[],sa=[],ia;gb(Za);sa.forEach(null==tb?function(Ba){ec.push(Ba[0].i)}:
function(Ba){tb(Ba[0].g,Ba[Ba.length-1].g)&&ec.push(Ba[0].i)});return ec}function zb(Ea,Za){function tb(sa){switch(sa.type){case "GeometryCollection":sa.geometries.forEach(tb);break;case "Polygon":rb(sa.arcs);break;case "MultiPolygon":sa.arcs.forEach(rb)}}function rb(sa){sa.forEach(function(ia){ia.forEach(function(Ba){(vb[Ba=0>Ba?~Ba:Ba]||(vb[Ba]=[])).push(sa)})});gb.push(sa)}function pb(sa){sa=Yb(Ea,{type:"Polygon",arcs:[sa]}).coordinates[0];for(var ia=-1,Ba=sa.length,Ra,Wa=sa[Ba-1],Ia=0;++ia<Ba;)Ra=
Wa,Wa=sa[ia],Ia+=Ra[0]*Wa[1]-Ra[1]*Wa[0];return Math.abs(Ia)}var vb={},gb=[],ec=[];Za.forEach(tb);gb.forEach(function(sa){if(!sa._){var ia=[],Ba=[sa];sa._=1;for(ec.push(ia);sa=Ba.pop();)ia.push(sa),sa.forEach(function(Ra){Ra.forEach(function(Wa){vb[0>Wa?~Wa:Wa].forEach(function(Ia){Ia._||(Ia._=1,Ba.push(Ia))})})})}});gb.forEach(function(sa){delete sa._});return{type:"MultiPolygon",arcs:ec.map(function(sa){var ia=[];sa.forEach(function(Ia){Ia.forEach(function(hb){hb.forEach(function(ab){2>vb[0>ab?
~ab:ab].length&&ia.push(ab)})})});ia=bc(Ea,ia);if(1<(sa=ia.length))for(var Ba=1,Ra=pb(ia[0]),Wa;Ba<sa;++Ba)(Wa=pb(ia[Ba]))>Ra&&(Ra=ia[0],ia[0]=ia[Ba],ia[Ba]=Ra,Ra=Wa);return ia}).filter(function(sa){return 0<sa.length})}}function Ub(Ea,Za){for(var tb=0,rb=Ea.length;tb<rb;){var pb=tb+rb>>>1;Ea[pb]<Za?tb=pb+1:rb=pb}return tb}function kc(Ea){if(null==Ea)return h;var Za,tb,rb=Ea.scale[0],pb=Ea.scale[1],vb=Ea.translate[0],gb=Ea.translate[1];return function(ec,sa){sa||(Za=tb=0);sa=2;var ia=ec.length,Ba=
Array(ia),Ra=Math.round((ec[0]-vb)/rb),Wa=Math.round((ec[1]-gb)/pb);Ba[0]=Ra-Za;Za=Ra;Ba[1]=Wa-tb;for(tb=Wa;sa<ia;)Ba[sa]=ec[sa],++sa;return Ba}}r.bbox=Ya;r.feature=function(Ea,Za){"string"===typeof Za&&(Za=Ea.objects[Za]);return"GeometryCollection"===Za.type?{type:"FeatureCollection",features:Za.geometries.map(function(tb){return ub(Ea,tb)})}:ub(Ea,Za)};r.merge=function(Ea){return Yb(Ea,zb.apply(this,arguments))};r.mergeArcs=zb;r.mesh=function(Ea){return Yb(Ea,Xb.apply(this,arguments))};r.meshArcs=
Xb;r.neighbors=function(Ea){function Za(hb,ab){hb.forEach(function(qb){0>qb&&(qb=~qb);var Pb=pb[qb];Pb?Pb.push(ab):pb[qb]=[ab]})}function tb(hb,ab){hb.forEach(function(qb){Za(qb,ab)})}function rb(hb,ab){if("GeometryCollection"===hb.type)hb.geometries.forEach(function(qb){rb(qb,ab)});else if(hb.type in gb)gb[hb.type](hb.arcs,ab)}var pb={},vb=Ea.map(function(){return[]}),gb={LineString:Za,MultiLineString:tb,Polygon:tb,MultiPolygon:function(hb,ab){hb.forEach(function(qb){tb(qb,ab)})}};Ea.forEach(rb);
for(var ec in pb){Ea=pb[ec];for(var sa=Ea.length,ia=0;ia<sa;++ia)for(var Ba=ia+1;Ba<sa;++Ba){var Ra=Ea[ia],Wa=Ea[Ba],Ia;(Ia=vb[Ra])[ec=Ub(Ia,Wa)]!==Wa&&Ia.splice(ec,0,Wa);(Ia=vb[Wa])[ec=Ub(Ia,Ra)]!==Ra&&Ia.splice(ec,0,Ra)}}return vb};r.quantize=function(Ea,Za){function tb(Ra){return ia(Ra)}function rb(Ra){switch(Ra.type){case "GeometryCollection":var Wa={type:"GeometryCollection",geometries:Ra.geometries.map(rb)};break;case "Point":Wa={type:"Point",coordinates:ia(Ra.coordinates)};break;case "MultiPoint":Wa=
{type:"MultiPoint",coordinates:Ra.coordinates.map(tb)};break;default:return Ra}null!=Ra.id&&(Wa.id=Ra.id);null!=Ra.bbox&&(Wa.bbox=Ra.bbox);null!=Ra.properties&&(Wa.properties=Ra.properties);return Wa}if(Ea.transform)throw Error("already quantized");if(Za&&Za.scale)var pb=Ea.bbox;else{if(!(2<=(sa=Math.floor(Za))))throw Error("n must be 2");pb=Ea.bbox||Ya(Ea);Za=pb[0];var vb=pb[1],gb=pb[2],ec=pb[3],sa;Za={scale:[gb-Za?(gb-Za)/(sa-1):1,ec-vb?(ec-vb)/(sa-1):1],translate:[Za,vb]}}var ia=kc(Za),Ba;vb=
Ea.objects;gb={};for(Ba in vb)gb[Ba]=rb(vb[Ba]);return{type:"Topology",bbox:pb,transform:Za,objects:gb,arcs:Ea.arcs.map(function(Ra){var Wa=0,Ia=1,hb=Ra.length,ab,qb=Array(hb);for(qb[0]=ia(Ra[0],0);++Wa<hb;)if((ab=ia(Ra[Wa],Wa))[0]||ab[1])qb[Ia++]=ab;1===Ia&&(qb[Ia++]=[0,0]);qb.length=Ia;return qb})}};r.transform=ka;r.untransform=kc;Object.defineProperty(r,"__esModule",{value:!0})})};
shadow$provide[23]=function(Db,mb,Cc,Va){(function(r,h){"object"===typeof Va&&"undefined"!==typeof Cc?h(Va,mb(21)):"function"===typeof define&&define.amd?define(["exports","vega-util"],h):(r="undefined"!==typeof globalThis?globalThis:r||self,h(r.vega={},r.vega))})(this,function(r,h){function ka(X){const Fa=h.array(X).slice(),Kb={};Fa.length||h.error("Missing time unit.");Fa.forEach(qc=>{h.hasOwnProperty(Ia,qc)?Kb[qc]=1:h.error(`Invalid time unit: ${qc}.`)});1<(Kb.week||Kb.day?1:0)+(Kb.quarter||Kb.month||
Kb.date?1:0)+(Kb.dayofyear?1:0)&&h.error(`Incompatible time units: ${X}`);Fa.sort((qc,$b)=>Ia[qc]-Ia[$b]);return Fa}function Ya(X,Fa,Kb,qc){function $b(Mb){return X(Mb=0===arguments.length?new Date:new Date(+Mb)),Mb}$b.floor=Mb=>(X(Mb=new Date(+Mb)),Mb);$b.ceil=Mb=>(X(Mb=new Date(Mb-1)),Fa(Mb,1),X(Mb),Mb);$b.round=Mb=>{const Qb=$b(Mb),wc=$b.ceil(Mb);return Mb-Qb<wc-Mb?Qb:wc};$b.offset=(Mb,Qb)=>(Fa(Mb=new Date(+Mb),null==Qb?1:Math.floor(Qb)),Mb);$b.range=(Mb,Qb,wc)=>{const fd=[];Mb=$b.ceil(Mb);wc=
null==wc?1:Math.floor(wc);if(!(Mb<Qb&&0<wc))return fd;let ra;do fd.push(ra=new Date(+Mb)),Fa(Mb,wc),X(Mb);while(ra<Mb&&Mb<Qb);return fd};$b.filter=Mb=>Ya(Qb=>{if(Qb>=Qb)for(;X(Qb),!Mb(Qb);)Qb.setTime(Qb-1)},(Qb,wc)=>{if(Qb>=Qb)if(0>wc)for(;0>=++wc;)for(;Fa(Qb,-1),!Mb(Qb););else for(;0<=--wc;)for(;Fa(Qb,1),!Mb(Qb););});Kb&&($b.count=(Mb,Qb)=>{ab.setTime(+Mb);qb.setTime(+Qb);X(ab);X(qb);return Math.floor(Kb(ab,qb))},$b.every=Mb=>{Mb=Math.floor(Mb);return isFinite(Mb)&&0<Mb?1<Mb?$b.filter(qc?Qb=>0===
qc(Qb)%Mb:Qb=>0===$b.count(0,Qb)%Mb):$b:null});return $b}function ub(X){return Ya(Fa=>{Fa.setDate(Fa.getDate()-(Fa.getDay()+7-X)%7);Fa.setHours(0,0,0,0)},(Fa,Kb)=>{Fa.setDate(Fa.getDate()+7*Kb)},(Fa,Kb)=>(Kb-Fa-6E4*(Kb.getTimezoneOffset()-Fa.getTimezoneOffset()))/db)}function Yb(X){return Ya(Fa=>{Fa.setUTCDate(Fa.getUTCDate()-(Fa.getUTCDay()+7-X)%7);Fa.setUTCHours(0,0,0,0)},(Fa,Kb)=>{Fa.setUTCDate(Fa.getUTCDate()+7*Kb)},(Fa,Kb)=>(Kb-Fa)/db)}function bc(X,Fa){return null==X||null==Fa?NaN:X<Fa?-1:X>
Fa?1:X>=Fa?0:NaN}function Xb(X,Fa){return null==X||null==Fa?NaN:Fa<X?-1:Fa>X?1:Fa>=X?0:NaN}function oc(X){function Fa(Mb,Qb,wc=0,fd=Mb.length){if(wc<fd){if(0!==Kb(Qb,Qb))return fd;do{const ra=wc+fd>>>1;0>qc(Mb[ra],Qb)?wc=ra+1:fd=ra}while(wc<fd)}return wc}let Kb,qc,$b;2!==X.length?(Kb=bc,qc=(Mb,Qb)=>bc(X(Mb),Qb),$b=(Mb,Qb)=>X(Mb)-Qb):(Kb=X===bc||X===Xb?X:zb,$b=qc=X);return{left:Fa,center:function(Mb,Qb,wc=0,fd=Mb.length){fd=Fa(Mb,Qb,wc,fd-1);return fd>wc&&$b(Mb[fd-1],Qb)>-$b(Mb[fd],Qb)?fd-1:fd},right:function(Mb,
Qb,wc=0,fd=Mb.length){if(wc<fd){if(0!==Kb(Qb,Qb))return fd;do{const ra=wc+fd>>>1;0>=qc(Mb[ra],Qb)?wc=ra+1:fd=ra}while(wc<fd)}return wc}}}function zb(){return 0}function Ub(X,Fa,Kb){var qc=(Fa-X)/Math.max(0,Kb),$b=Math.floor(Math.log10(qc));qc/=Math.pow(10,$b);qc=qc>=w?10:qc>=z?5:qc>=F?2:1;let Mb;0>$b?(Mb=Math.pow(10,-$b)/qc,$b=Math.round(X*Mb),qc=Math.round(Fa*Mb),$b/Mb<X&&++$b,qc/Mb>Fa&&--qc,Mb=-Mb):(Mb=Math.pow(10,$b)*qc,$b=Math.round(X/Mb),qc=Math.round(Fa/Mb),$b*Mb<X&&++$b,qc*Mb>Fa&&--qc);return qc<
$b&&.5<=Kb&&2>Kb?Ub(X,Fa,2*Kb):[$b,qc,Mb]}function kc(X,Fa,Kb){return Ub(+X,+Fa,+Kb)[2]}function Ea(X,Fa,Kb){Fa=+Fa;X=+X;Kb=+Kb;const qc=Fa<X;X=qc?kc(Fa,X,Kb):kc(X,Fa,Kb);return(qc?-1:1)*(0>X?1/-X:X)}function Za(X){V.setFullYear(X);V.setMonth(0);V.setDate(1);V.setHours(0,0,0,0);return V}function tb(X){return oa.count(Za(X.getFullYear())-1,X)}function rb(X){return D.count(Za(X.getFullYear())-1,X)}function pb(X,Fa,Kb,qc,$b,Mb,Qb){return 0<=X&&100>X?(Fa=new Date(-1,Fa,Kb,qc,$b,Mb,Qb),Fa.setFullYear(X),
Fa):new Date(X,Fa,Kb,qc,$b,Mb,Qb)}function vb(X){const Fa=Date.UTC(X.getUTCFullYear(),0,1);return qa.count(Fa-1,X)}function gb(X){const Fa=Date.UTC(X.getUTCFullYear(),0,1);return G.count(Fa-1,X)}function ec(X){V.setTime(Date.UTC(X,0,1));return V.getUTCDay()}function sa(X,Fa,Kb,qc,$b,Mb,Qb){return 0<=X&&100>X?(X=new Date(Date.UTC(-1,Fa,Kb,qc,$b,Mb,Qb)),X.setUTCFullYear(Kb.y),X):new Date(Date.UTC(X,Fa,Kb,qc,$b,Mb,Qb))}function ia(X,Fa,Kb,qc,$b){const Mb=Fa||1,Qb=h.peek(X);Fa=(Zb,jc,Ac)=>{Ac=Ac||Zb;
return Ba(Kb[Ac],qc[Ac],Zb===Qb&&Mb,jc)};const wc=new Date;X=h.toSet(X);const fd=X.year?Fa("year"):h.constant(2012),ra=X.month?Fa("month"):X.quarter?Fa("quarter"):h.zero,Ab=X.week&&X.day?Fa("day",1,"weekday"):X.week?Fa("week",1):X.day?Fa("day",1):X.date?Fa("date",1):X.dayofyear?Fa("dayofyear",1):h.one,Ta=X.hours?Fa("hours"):h.zero,wb=X.minutes?Fa("minutes"):h.zero,Gb=X.seconds?Fa("seconds"):h.zero,Nb=X.milliseconds?Fa("milliseconds"):h.zero;return function(Zb){wc.setTime(+Zb);Zb=fd(wc);return $b(Zb,
ra(wc),Ab(wc,Zb),Ta(wc),wb(wc),Gb(wc),Nb(wc))}}function Ba(X,Fa,Kb,qc){const $b=1>=Kb?X:qc?(Mb,Qb)=>qc+Kb*Math.floor((X(Mb,Qb)-qc)/Kb):(Mb,Qb)=>Kb*Math.floor(X(Mb,Qb)/Kb);return Fa?(Mb,Qb)=>Fa($b(Mb,Qb),Qb):$b}function Ra(X,Fa,Kb){return Fa+7*X-(Kb+6)%7}const Wa="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),Ia=Wa.reduce((X,Fa,Kb)=>(X[Fa]=1+Kb,X),{}),hb={year:"%Y ",quarter:"Q%q ",month:"%b ",date:"%d ",week:"W%U ",day:"%a ",dayofyear:"%j ",hours:"%H:00",
minutes:"00:%M",seconds:":%S",milliseconds:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"},ab=new Date,qb=new Date,Pb=Ya(()=>{},(X,Fa)=>{X.setTime(+X+Fa)},(X,Fa)=>Fa-X);Pb.every=X=>{X=Math.floor(X);return isFinite(X)&&0<X?1<X?Ya(Fa=>{Fa.setTime(Math.floor(Fa/X)*X)},(Fa,Kb)=>{Fa.setTime(+Fa+Kb*X)},(Fa,Kb)=>(Kb-Fa)/X):Pb:null};Pb.range;const db=6048E5;var U=Ya(X=>{X.setTime(X-X.getMilliseconds())},(X,Fa)=>{X.setTime(+X+1E3*Fa)},(X,Fa)=>(Fa-X)/1E3,X=>X.getUTCSeconds());
U.range;var ba=Ya(X=>{X.setTime(X-X.getMilliseconds()-1E3*X.getSeconds())},(X,Fa)=>{X.setTime(+X+6E4*Fa)},(X,Fa)=>(Fa-X)/6E4,X=>X.getMinutes());ba.range;var ea=Ya(X=>{X.setUTCSeconds(0,0)},(X,Fa)=>{X.setTime(+X+6E4*Fa)},(X,Fa)=>(Fa-X)/6E4,X=>X.getUTCMinutes());ea.range;var ja=Ya(X=>{X.setTime(X-X.getMilliseconds()-1E3*X.getSeconds()-6E4*X.getMinutes())},(X,Fa)=>{X.setTime(+X+36E5*Fa)},(X,Fa)=>(Fa-X)/36E5,X=>X.getHours());ja.range;var La=Ya(X=>{X.setUTCMinutes(0,0,0)},(X,Fa)=>{X.setTime(+X+36E5*Fa)},
(X,Fa)=>(Fa-X)/36E5,X=>X.getUTCHours());La.range;const oa=Ya(X=>X.setHours(0,0,0,0),(X,Fa)=>X.setDate(X.getDate()+Fa),(X,Fa)=>(Fa-X-6E4*(Fa.getTimezoneOffset()-X.getTimezoneOffset()))/864E5,X=>X.getDate()-1);oa.range;const qa=Ya(X=>{X.setUTCHours(0,0,0,0)},(X,Fa)=>{X.setUTCDate(X.getUTCDate()+Fa)},(X,Fa)=>(Fa-X)/864E5,X=>X.getUTCDate()-1);qa.range;var l=Ya(X=>{X.setUTCHours(0,0,0,0)},(X,Fa)=>{X.setUTCDate(X.getUTCDate()+Fa)},(X,Fa)=>(Fa-X)/864E5,X=>Math.floor(X/864E5));l.range;const D=ub(0);l=ub(1);
var K=ub(2),v=ub(3),R=ub(4),A=ub(5),W=ub(6);D.range;l.range;K.range;v.range;R.range;A.range;W.range;const G=Yb(0);l=Yb(1);K=Yb(2);v=Yb(3);R=Yb(4);A=Yb(5);W=Yb(6);G.range;l.range;K.range;v.range;R.range;A.range;W.range;l=Ya(X=>{X.setDate(1);X.setHours(0,0,0,0)},(X,Fa)=>{X.setMonth(X.getMonth()+Fa)},(X,Fa)=>Fa.getMonth()-X.getMonth()+12*(Fa.getFullYear()-X.getFullYear()),X=>X.getMonth());l.range;K=Ya(X=>{X.setUTCDate(1);X.setUTCHours(0,0,0,0)},(X,Fa)=>{X.setUTCMonth(X.getUTCMonth()+Fa)},(X,Fa)=>Fa.getUTCMonth()-
X.getUTCMonth()+12*(Fa.getUTCFullYear()-X.getUTCFullYear()),X=>X.getUTCMonth());K.range;v=Ya(X=>{X.setMonth(0,1);X.setHours(0,0,0,0)},(X,Fa)=>{X.setFullYear(X.getFullYear()+Fa)},(X,Fa)=>Fa.getFullYear()-X.getFullYear(),X=>X.getFullYear());v.every=X=>isFinite(X=Math.floor(X))&&0<X?Ya(Fa=>{Fa.setFullYear(Math.floor(Fa.getFullYear()/X)*X);Fa.setMonth(0,1);Fa.setHours(0,0,0,0)},(Fa,Kb)=>{Fa.setFullYear(Fa.getFullYear()+Kb*X)}):null;v.range;R=Ya(X=>{X.setUTCMonth(0,1);X.setUTCHours(0,0,0,0)},(X,Fa)=>{X.setUTCFullYear(X.getUTCFullYear()+
Fa)},(X,Fa)=>Fa.getUTCFullYear()-X.getUTCFullYear(),X=>X.getUTCFullYear());R.every=X=>isFinite(X=Math.floor(X))&&0<X?Ya(Fa=>{Fa.setUTCFullYear(Math.floor(Fa.getUTCFullYear()/X)*X);Fa.setUTCMonth(0,1);Fa.setUTCHours(0,0,0,0)},(Fa,Kb)=>{Fa.setUTCFullYear(Fa.getUTCFullYear()+Kb*X)}):null;R.range;const w=Math.sqrt(50),z=Math.sqrt(10),F=Math.sqrt(2),V=new Date,ta={year:X=>X.getFullYear(),quarter:X=>Math.floor(X.getMonth()/3),month:X=>X.getMonth(),date:X=>X.getDate(),hours:X=>X.getHours(),minutes:X=>X.getMinutes(),
seconds:X=>X.getSeconds(),milliseconds:X=>X.getMilliseconds(),dayofyear:X=>tb(X),week:X=>rb(X),weekday:(X,Fa)=>Ra(rb(X),X.getDay(),Za(Fa).getDay()),day:(X,Fa)=>Ra(1,X.getDay(),Za(Fa).getDay())},N={quarter:X=>3*X,week:(X,Fa)=>Ra(X,0,Za(Fa).getDay())},ma={year:X=>X.getUTCFullYear(),quarter:X=>Math.floor(X.getUTCMonth()/3),month:X=>X.getUTCMonth(),date:X=>X.getUTCDate(),hours:X=>X.getUTCHours(),minutes:X=>X.getUTCMinutes(),seconds:X=>X.getUTCSeconds(),milliseconds:X=>X.getUTCMilliseconds(),dayofyear:X=>
vb(X),week:X=>gb(X),day:(X,Fa)=>Ra(1,X.getUTCDay(),ec(Fa)),weekday:(X,Fa)=>Ra(gb(X),X.getUTCDay(),ec(Fa))},ya={quarter:X=>3*X,week:(X,Fa)=>Ra(X,0,ec(Fa))},Ma={year:v,quarter:l.every(3),month:l,week:D,date:oa,day:oa,dayofyear:oa,hours:ja,minutes:ba,seconds:U,milliseconds:Pb},Pa={year:R,quarter:K.every(3),month:K,week:G,date:qa,day:qa,dayofyear:qa,hours:La,minutes:ea,seconds:U,milliseconds:Pb};U=6048E5;ba=2592E6;const Xa=31536E6,sb="year month date hours minutes seconds milliseconds".split(" ");ea=
sb.slice(0,-1);ja=ea.slice(0,-1);La=ja.slice(0,-1);l=La.slice(0,-1);K=["year","month"];const ib=["year"],Tb=[[ea,1,1E3],[ea,5,5E3],[ea,15,15E3],[ea,30,3E4],[ja,1,6E4],[ja,5,3E5],[ja,15,9E5],[ja,30,18E5],[La,1,36E5],[La,3,108E5],[La,6,216E5],[La,12,432E5],[l,1,864E5],[["year","week"],1,U],[K,1,ba],[K,3,3*ba],[ib,1,Xa]];r.DATE="date";r.DAY="day";r.DAYOFYEAR="dayofyear";r.HOURS="hours";r.MILLISECONDS="milliseconds";r.MINUTES="minutes";r.MONTH="month";r.QUARTER="quarter";r.SECONDS="seconds";r.TIME_UNITS=
Wa;r.WEEK="week";r.YEAR="year";r.dayofyear=function(X){return tb(new Date(X))};r.timeBin=function(X){var Fa=X.extent;X=X.maxbins||40;var Kb=Math.abs(h.span(Fa))/X;let qc=oc($b=>$b[2]).right(Tb,Kb);qc===Tb.length?(Kb=ib,Fa=Ea(Fa[0]/Xa,Fa[1]/Xa,X)):qc?(qc=Tb[Kb/Tb[qc-1][2]<Tb[qc][2]/Kb?qc-1:qc],Kb=qc[0],Fa=qc[1]):(Kb=sb,Fa=Math.max(Ea(Fa[0],Fa[1],X),1));return{units:Kb,step:Fa}};r.timeFloor=function(X,Fa){return ia(X,Fa||1,ta,N,pb)};r.timeInterval=function(X){return Ma[X]};r.timeOffset=function(X,Fa,
Kb){return(X=Ma[X])?X.offset(Fa,Kb):void 0};r.timeSequence=function(X,Fa,Kb,qc){return(X=Ma[X])?X.range(Fa,Kb,qc):void 0};r.timeUnitSpecifier=function(X,Fa){Fa=h.extend({},hb,Fa);X=ka(X);const Kb=X.length;let qc="",$b,Mb,Qb;for($b=0;$b<Kb;)for(Mb=X.length;Mb>$b;--Mb)if(Qb=X.slice($b,Mb).join("-"),null!=Fa[Qb]){qc+=Fa[Qb];$b=Mb;break}return qc.trim()};r.timeUnits=ka;r.utcFloor=function(X,Fa){return ia(X,Fa||1,ma,ya,sa)};r.utcInterval=function(X){return Pa[X]};r.utcOffset=function(X,Fa,Kb){return(X=
Pa[X])?X.offset(Fa,Kb):void 0};r.utcSequence=function(X,Fa,Kb,qc){return(X=Pa[X])?X.range(Fa,Kb,qc):void 0};r.utcdayofyear=function(X){return vb(new Date(X))};r.utcweek=function(X){return gb(new Date(X))};r.week=function(X){return rb(new Date(X))}})};
shadow$provide[24]=function(Db,mb,Cc,Va){(function(r,h){"object"===typeof Va&&"undefined"!==typeof Cc?h(Va,mb(23),mb(21)):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],h):(r="undefined"!==typeof globalThis?globalThis:r||self,h(r.vega={},r.vega,r.vega))})(this,function(r,h,ka){function Ya(Ca){const Qa={};return dc=>Qa[dc]||(Qa[dc]=Ca(dc))}function ub(Ca,Qa,dc){var hd=(Qa-Ca)/Math.max(0,dc),sc=Math.floor(Math.log10(hd));hd/=Math.pow(10,sc);hd=hd>=Gd?10:hd>=ud?5:hd>=
we?2:1;let Pc;0>sc?(Pc=Math.pow(10,-sc)/hd,sc=Math.round(Ca*Pc),hd=Math.round(Qa*Pc),sc/Pc<Ca&&++sc,hd/Pc>Qa&&--hd,Pc=-Pc):(Pc=Math.pow(10,sc)*hd,sc=Math.round(Ca/Pc),hd=Math.round(Qa/Pc),sc*Pc<Ca&&++sc,hd*Pc>Qa&&--hd);return hd<sc&&.5<=dc&&2>dc?ub(Ca,Qa,2*dc):[sc,hd,Pc]}function Yb(Ca,Qa,dc){return ub(+Ca,+Qa,+dc)[2]}function bc(Ca,Qa){if(0>(Qa=(Ca=Qa?Ca.toExponential(Qa-1):Ca.toExponential()).indexOf("e")))return null;var dc=Ca.slice(0,Qa);return[1<dc.length?dc[0]+dc.slice(2):dc,+Ca.slice(Qa+1)]}
function Xb(Ca){return Ca=bc(Math.abs(Ca)),Ca?Ca[1]:NaN}function oc(Ca,Qa){return function(dc,hd){for(var sc=dc.length,Pc=[],Fc=0,Tc=Ca[0],Yc=0;0<sc&&0<Tc;){Yc+Tc+1>hd&&(Tc=Math.max(1,hd-Yc));Pc.push(dc.substring(sc-=Tc,sc+Tc));if((Yc+=Tc+1)>hd)break;Tc=Ca[Fc=(Fc+1)%Ca.length]}return Pc.reverse().join(Qa)}}function zb(Ca){return function(Qa){return Qa.replace(/[0-9]/g,function(dc){return Ca[+dc]})}}function Ub(Ca){if(!(Qa=Ed.exec(Ca)))throw Error("invalid format: "+Ca);var Qa;return new kc({fill:Qa[1],
align:Qa[2],sign:Qa[3],symbol:Qa[4],zero:Qa[5],width:Qa[6],comma:Qa[7],precision:Qa[8]&&Qa[8].slice(1),trim:Qa[9],type:Qa[10]})}function kc(Ca){this.fill=void 0===Ca.fill?" ":Ca.fill+"";this.align=void 0===Ca.align?"\x3e":Ca.align+"";this.sign=void 0===Ca.sign?"-":Ca.sign+"";this.symbol=void 0===Ca.symbol?"":Ca.symbol+"";this.zero=!!Ca.zero;this.width=void 0===Ca.width?void 0:+Ca.width;this.comma=!!Ca.comma;this.precision=void 0===Ca.precision?void 0:+Ca.precision;this.trim=!!Ca.trim;this.type=void 0===
Ca.type?"":Ca.type+""}function Ea(Ca,Qa){Qa=bc(Ca,Qa);if(!Qa)return Ca+"";Ca=Qa[0];Qa=Qa[1];return 0>Qa?"0."+Array(-Qa).join("0")+Ca:Ca.length>Qa+1?Ca.slice(0,Qa+1)+"."+Ca.slice(Qa+1):Ca+Array(Qa-Ca.length+2).join("0")}function Za(Ca){return Ca}function tb(Ca){function Qa(nd){function ne(p){var P=Me,Y=xe,pa,ua;if("c"===oe)Y=y(p)+Y,p="";else{p=+p;var Bb=0>p||0>1/p;p=isNaN(p)?jd:y(Math.abs(p),af);if(se){var Fb=p.length,Wb=1,ac=-1;a:for(;Wb<Fb;++Wb)switch(p[Wb]){case ".":ac=pa=Wb;break;case "0":0===
ac&&(ac=Wb);pa=Wb;break;default:if(!+p[Wb])break a;0<ac&&(ac=0)}p=0<ac?p.slice(0,ac)+p.slice(pa+1):p}Bb&&0===+p&&"+"!==qe&&(Bb=!1);P=(Bb?"("===qe?qe:Yc:"-"===qe||"("===qe?"":qe)+P;Y=("s"===oe?Ka[8+x/3]:"")+Y+(Bb&&"("===qe?")":"");if(M)for(Bb=-1,pa=p.length;++Bb<pa;)if(ua=p.charCodeAt(Bb),48>ua||57<ua){Y=(46===ua?Pc+p.slice(Bb+1):p.slice(Bb))+Y;p=p.slice(0,Bb);break}}We&&!pf&&(p=dc(p,Infinity));ua=P.length+p.length+Y.length;Bb=ua<Le?Array(Le-ua+1).join(Ue):"";We&&pf&&(p=dc(Bb+p,Bb.length?Le-Y.length:
Infinity),Bb="");switch(Fe){case "\x3c":p=P+p+Y+Bb;break;case "\x3d":p=P+Bb+p+Y;break;case "^":p=Bb.slice(0,ua=Bb.length>>1)+P+p+Y+Bb.slice(ua);break;default:p=Bb+P+p+Y}return Fc(p)}nd=Ub(nd);var Ue=nd.fill,Fe=nd.align,qe=nd.sign,hf=nd.symbol,pf=nd.zero,Le=nd.width,We=nd.comma,af=nd.precision,se=nd.trim,oe=nd.type;"n"===oe?(We=!0,oe="g"):J[oe]||(void 0===af&&(af=12),se=!0,oe="g");if(pf||"0"===Ue&&"\x3d"===Fe)pf=!0,Ue="0",Fe="\x3d";var Me="$"===hf?hd:"#"===hf&&/[boxX]/.test(oe)?"0"+oe.toLowerCase():
"",xe="$"===hf?sc:/[%p]/.test(oe)?Tc:"",y=J[oe],M=/[defgprs%]/.test(oe);af=void 0===af?6:/[gprs]/.test(oe)?Math.max(1,Math.min(21,af)):Math.max(0,Math.min(20,af));ne.toString=function(){return nd+""};return ne}var dc=void 0===Ca.grouping||void 0===Ca.thousands?Za:oc(xa.call(Ca.grouping,Number),Ca.thousands+""),hd=void 0===Ca.currency?"":Ca.currency[0]+"",sc=void 0===Ca.currency?"":Ca.currency[1]+"",Pc=void 0===Ca.decimal?".":Ca.decimal+"",Fc=void 0===Ca.numerals?Za:zb(xa.call(Ca.numerals,String)),
Tc=void 0===Ca.percent?"%":Ca.percent+"",Yc=void 0===Ca.minus?"":Ca.minus+"",jd=void 0===Ca.nan?"NaN":Ca.nan+"";return{format:Qa,formatPrefix:function(nd,ne){var Ue=Qa((nd=Ub(nd),nd.type="f",nd));nd=3*Math.max(-8,Math.min(8,Math.floor(Xb(ne)/3)));var Fe=Math.pow(10,-nd),qe=Ka[8+nd/3];return function(hf){return Ue(Fe*hf)+qe}}}}function rb(Ca,Qa){return dc=>{dc=Ca(dc);const hd=dc.indexOf(Qa);if(0>hd)return dc;a:{var sc=dc.lastIndexOf("e");if(!(0<sc)){for(sc=dc.length;--sc>hd;){var Pc=dc.charCodeAt(sc);
if(48<=Pc&&57>=Pc){sc+=1;break a}}sc=void 0}}for(Pc=sc<dc.length?dc.slice(sc):"";--sc>hd;)if("0"!==dc[sc]){++sc;break}return dc.slice(0,sc)+Pc}}function pb(Ca){const Qa=Ya(Ca.format),dc=Ca.formatPrefix;return{format:Qa,formatPrefix:dc,formatFloat(hd){hd=Ub(hd||",");if(null==hd.precision){hd.precision=12;switch(hd.type){case "%":hd.precision-=2;break;case "e":--hd.precision}return rb(Qa(hd),Qa(".1f")(1)[1])}return Qa(hd)},formatSpan(hd,sc,Pc,Fc){Fc=Ub(null==Fc?",f":Fc);var Tc=+sc;var Yc=+hd;var jd=
+Pc;Yc=(Pc=Tc<Yc)?Yb(Tc,Yc,jd):Yb(Yc,Tc,jd);Yc=(Pc?-1:1)*(0>Yc?1/-Yc:Yc);hd=Math.max(Math.abs(hd),Math.abs(sc));if(null==Fc.precision)switch(Fc.type){case "s":return sc=isNaN,Yc=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Xb(hd)/3)))-Xb(Math.abs(Yc))),sc(sc=Yc)||(Fc.precision=sc),dc(Fc,hd);case "":case "e":case "g":case "p":case "r":sc=isNaN;Yc=Math.abs(Yc);hd=Math.abs(hd)-Yc;hd=Math.max(0,Xb(hd)-Xb(Yc))+1;sc(sc=hd)||(Fc.precision=sc-("e"===Fc.type));break;case "f":case "%":isNaN(sc=Math.max(0,
-Xb(Math.abs(Yc))))||(Fc.precision=sc-2*("%"===Fc.type))}return Qa(Fc)}}}function vb(){return Sb=pb({format:yb,formatPrefix:cc})}function gb(Ca){return pb(tb(Ca))}function ec(Ca){return arguments.length?Sb=gb(Ca):Sb}function sa(Ca,Qa,dc,hd){function sc(Pc){return Ca(Pc=0===arguments.length?new Date:new Date(+Pc)),Pc}sc.floor=Pc=>(Ca(Pc=new Date(+Pc)),Pc);sc.ceil=Pc=>(Ca(Pc=new Date(Pc-1)),Qa(Pc,1),Ca(Pc),Pc);sc.round=Pc=>{const Fc=sc(Pc),Tc=sc.ceil(Pc);return Pc-Fc<Tc-Pc?Fc:Tc};sc.offset=(Pc,Fc)=>
(Qa(Pc=new Date(+Pc),null==Fc?1:Math.floor(Fc)),Pc);sc.range=(Pc,Fc,Tc)=>{const Yc=[];Pc=sc.ceil(Pc);Tc=null==Tc?1:Math.floor(Tc);if(!(Pc<Fc&&0<Tc))return Yc;let jd;do Yc.push(jd=new Date(+Pc)),Qa(Pc,Tc),Ca(Pc);while(jd<Pc&&Pc<Fc);return Yc};sc.filter=Pc=>sa(Fc=>{if(Fc>=Fc)for(;Ca(Fc),!Pc(Fc);)Fc.setTime(Fc-1)},(Fc,Tc)=>{if(Fc>=Fc)if(0>Tc)for(;0>=++Tc;)for(;Qa(Fc,-1),!Pc(Fc););else for(;0<=--Tc;)for(;Qa(Fc,1),!Pc(Fc););});dc&&(sc.count=(Pc,Fc)=>{pc.setTime(+Pc);Ic.setTime(+Fc);Ca(pc);Ca(Ic);return Math.floor(dc(pc,
Ic))},sc.every=Pc=>{Pc=Math.floor(Pc);return isFinite(Pc)&&0<Pc?1<Pc?sc.filter(hd?Fc=>0===hd(Fc)%Pc:Fc=>0===sc.count(0,Fc)%Pc):sc:null});return sc}function ia(Ca){return sa(Qa=>{Qa.setDate(Qa.getDate()-(Qa.getDay()+7-Ca)%7);Qa.setHours(0,0,0,0)},(Qa,dc)=>{Qa.setDate(Qa.getDate()+7*dc)},(Qa,dc)=>(dc-Qa-6E4*(dc.getTimezoneOffset()-Qa.getTimezoneOffset()))/6048E5)}function Ba(Ca){return sa(Qa=>{Qa.setUTCDate(Qa.getUTCDate()-(Qa.getUTCDay()+7-Ca)%7);Qa.setUTCHours(0,0,0,0)},(Qa,dc)=>{Qa.setUTCDate(Qa.getUTCDate()+
7*dc)},(Qa,dc)=>(dc-Qa)/6048E5)}function Ra(Ca){if(0<=Ca.y&&100>Ca.y){var Qa=new Date(-1,Ca.m,Ca.d,Ca.H,Ca.M,Ca.S,Ca.L);Qa.setFullYear(Ca.y);return Qa}return new Date(Ca.y,Ca.m,Ca.d,Ca.H,Ca.M,Ca.S,Ca.L)}function Wa(Ca){if(0<=Ca.y&&100>Ca.y){var Qa=new Date(Date.UTC(-1,Ca.m,Ca.d,Ca.H,Ca.M,Ca.S,Ca.L));Qa.setUTCFullYear(Ca.y);return Qa}return new Date(Date.UTC(Ca.y,Ca.m,Ca.d,Ca.H,Ca.M,Ca.S,Ca.L))}function Ia(Ca,Qa,dc){return{y:Ca,m:Qa,d:dc,H:0,M:0,S:0,L:0}}function hb(Ca){function Qa(M,p){return function(P){var Y=
[],pa=-1,ua=0,Bb=M.length,Fb,Wb;for(P instanceof Date||(P=new Date(+P));++pa<Bb;)if(37===M.charCodeAt(pa)){Y.push(M.slice(ua,pa));null!=(ua=Lb[Fb=M.charAt(++pa)])?Fb=M.charAt(++pa):ua="e"===Fb?" ":"0";if(Wb=p[Fb])Fb=Wb(P,ua);Y.push(Fb);ua=pa+1}Y.push(M.slice(ua,pa));return Y.join("")}}function dc(M,p){return function(P){var Y=Ia(1900,void 0,1);if(hd(Y,M,P+="",0)!=P.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(1E3*Y.s+("L"in Y?Y.L:0));!p||"Z"in Y||(Y.Z=0);"p"in Y&&
(Y.H=Y.H%12+12*Y.p);void 0===Y.m&&(Y.m="q"in Y?Y.q:0);if("V"in Y){if(1>Y.V||53<Y.V)return null;"w"in Y||(Y.w=1);if("Z"in Y){P=Wa(Ia(Y.y,0,1));var pa=P.getUTCDay();P=4<pa||0===pa?of.ceil(P):of(P);P=Xc.offset(P,7*(Y.V-1));Y.y=P.getUTCFullYear();Y.m=P.getUTCMonth();Y.d=P.getUTCDate()+(Y.w+6)%7}else P=Ra(Ia(Y.y,0,1)),pa=P.getDay(),P=4<pa||0===pa?Bd.ceil(P):Bd(P),P=yc.offset(P,7*(Y.V-1)),Y.y=P.getFullYear(),Y.m=P.getMonth(),Y.d=P.getDate()+(Y.w+6)%7}else if("W"in Y||"U"in Y)"w"in Y||(Y.w="u"in Y?Y.u%7:
"W"in Y?1:0),pa="Z"in Y?Wa(Ia(Y.y,0,1)).getUTCDay():Ra(Ia(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+7*Y.W-(pa+5)%7:Y.w+7*Y.U-(pa+6)%7;return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,Wa(Y)):Ra(Y)}}function hd(M,p,P,Y){for(var pa=0,ua=p.length,Bb=P.length,Fb;pa<ua;){if(Y>=Bb)return-1;Fb=p.charCodeAt(pa++);if(37===Fb){if(Fb=p.charAt(pa++),Fb=y[Fb in Lb?p.charAt(pa++):Fb],!Fb||0>(Y=Fb(M,P,Y)))return-1}else if(Fb!=P.charCodeAt(Y++))return-1}return Y}var sc=Ca.dateTime,Pc=Ca.date,Fc=Ca.time,Tc=Ca.periods,
Yc=Ca.days,jd=Ca.shortDays,nd=Ca.months,ne=Ca.shortMonths,Ue=Pb(Tc),Fe=db(Tc),qe=Pb(Yc),hf=db(Yc),pf=Pb(jd),Le=db(jd),We=Pb(nd),af=db(nd),se=Pb(ne),oe=db(ne),Me={a:function(M){return jd[M.getDay()]},A:function(M){return Yc[M.getDay()]},b:function(M){return ne[M.getMonth()]},B:function(M){return nd[M.getMonth()]},c:null,d:N,e:N,f:Xa,g:wc,G:ra,H:ma,I:ya,j:Ma,L:Pa,m:sb,M:ib,p:function(M){return Tc[+(12<=M.getHours())]},q:function(M){return 1+~~(M.getMonth()/3)},Q:Ib,s:Bc,S:Tb,u:X,U:Fa,V:qc,w:$b,W:Mb,
x:null,X:null,y:Qb,Y:fd,Z:Ab,"%":Eb},xe={a:function(M){return jd[M.getUTCDay()]},A:function(M){return Yc[M.getUTCDay()]},b:function(M){return ne[M.getUTCMonth()]},B:function(M){return nd[M.getUTCMonth()]},c:null,d:Ta,e:Ta,f:jc,g:Da,G:jb,H:wb,I:Gb,j:Nb,L:Zb,m:Ac,M:ld,p:function(M){return Tc[+(12<=M.getUTCHours())]},q:function(M){return 1+~~(M.getUTCMonth()/3)},Q:Ib,s:Bc,S:Vc,u:na,U:Ha,V:Q,w:t,W:da,x:null,X:null,y:za,Y:Oa,Z:Rb,"%":Eb},y={a:function(M,p,P){return(p=pf.exec(p.slice(P)))?(M.w=Le.get(p[0].toLowerCase()),
P+p[0].length):-1},A:function(M,p,P){return(p=qe.exec(p.slice(P)))?(M.w=hf.get(p[0].toLowerCase()),P+p[0].length):-1},b:function(M,p,P){return(p=se.exec(p.slice(P)))?(M.m=oe.get(p[0].toLowerCase()),P+p[0].length):-1},B:function(M,p,P){return(p=We.exec(p.slice(P)))?(M.m=af.get(p[0].toLowerCase()),P+p[0].length):-1},c:function(M,p,P){return hd(M,sc,p,P)},d:v,e:v,f:z,g:qa,G:oa,H:A,I:A,j:R,L:w,m:K,M:W,p:function(M,p,P){return(p=Ue.exec(p.slice(P)))?(M.p=Fe.get(p[0].toLowerCase()),P+p[0].length):-1},q:D,
Q:V,s:ta,S:G,u:ba,U:ea,V:ja,w:U,W:La,x:function(M,p,P){return hd(M,Pc,p,P)},X:function(M,p,P){return hd(M,Fc,p,P)},y:qa,Y:oa,Z:l,"%":F};Me.x=Qa(Pc,Me);Me.X=Qa(Fc,Me);Me.c=Qa(sc,Me);xe.x=Qa(Pc,xe);xe.X=Qa(Fc,xe);xe.c=Qa(sc,xe);return{format:function(M){var p=Qa(M+="",Me);p.toString=function(){return M};return p},parse:function(M){var p=dc(M+="",!1);p.toString=function(){return M};return p},utcFormat:function(M){var p=Qa(M+="",xe);p.toString=function(){return M};return p},utcParse:function(M){var p=
dc(M+="",!0);p.toString=function(){return M};return p}}}function ab(Ca,Qa,dc){var hd=0>Ca?"-":"";Ca=(hd?-Ca:Ca)+"";var sc=Ca.length;return hd+(sc<dc?Array(dc-sc+1).join(Qa)+Ca:Ca)}function qb(Ca){return Ca.replace(id,"\\$\x26")}function Pb(Ca){return new RegExp("^(?:"+Ca.map(qb).join("|")+")","i")}function db(Ca){return new Map(Ca.map((Qa,dc)=>[Qa.toLowerCase(),dc]))}function U(Ca,Qa,dc){return(Qa=Mc.exec(Qa.slice(dc,dc+1)))?(Ca.w=+Qa[0],dc+Qa[0].length):-1}function ba(Ca,Qa,dc){return(Qa=Mc.exec(Qa.slice(dc,
dc+1)))?(Ca.u=+Qa[0],dc+Qa[0].length):-1}function ea(Ca,Qa,dc){return(Qa=Mc.exec(Qa.slice(dc,dc+2)))?(Ca.U=+Qa[0],dc+Qa[0].length):-1}function ja(Ca,Qa,dc){return(Qa=Mc.exec(Qa.slice(dc,dc+2)))?(Ca.V=+Qa[0],dc+Qa[0].length):-1}function La(Ca,Qa,dc){return(Qa=Mc.exec(Qa.slice(dc,dc+2)))?(Ca.W=+Qa[0],dc+Qa[0].length):-1}function oa(Ca,Qa,dc){return(Qa=Mc.exec(Qa.slice(dc,dc+4)))?(Ca.y=+Qa[0],dc+Qa[0].length):-1}function qa(Ca,Qa,dc){return(Qa=Mc.exec(Qa.slice(dc,dc+2)))?(Ca.y=+Qa[0]+(68<+Qa[0]?1900:
2E3),dc+Qa[0].length):-1}function l(Ca,Qa,dc){return(Qa=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Qa.slice(dc,dc+6)))?(Ca.Z=Qa[1]?0:-(Qa[2]+(Qa[3]||"00")),dc+Qa[0].length):-1}function D(Ca,Qa,dc){return(Qa=Mc.exec(Qa.slice(dc,dc+1)))?(Ca.q=3*Qa[0]-3,dc+Qa[0].length):-1}function K(Ca,Qa,dc){return(Qa=Mc.exec(Qa.slice(dc,dc+2)))?(Ca.m=Qa[0]-1,dc+Qa[0].length):-1}function v(Ca,Qa,dc){return(Qa=Mc.exec(Qa.slice(dc,dc+2)))?(Ca.d=+Qa[0],dc+Qa[0].length):-1}function R(Ca,Qa,dc){return(Qa=Mc.exec(Qa.slice(dc,dc+
3)))?(Ca.m=0,Ca.d=+Qa[0],dc+Qa[0].length):-1}function A(Ca,Qa,dc){return(Qa=Mc.exec(Qa.slice(dc,dc+2)))?(Ca.H=+Qa[0],dc+Qa[0].length):-1}function W(Ca,Qa,dc){return(Qa=Mc.exec(Qa.slice(dc,dc+2)))?(Ca.M=+Qa[0],dc+Qa[0].length):-1}function G(Ca,Qa,dc){return(Qa=Mc.exec(Qa.slice(dc,dc+2)))?(Ca.S=+Qa[0],dc+Qa[0].length):-1}function w(Ca,Qa,dc){return(Qa=Mc.exec(Qa.slice(dc,dc+3)))?(Ca.L=+Qa[0],dc+Qa[0].length):-1}function z(Ca,Qa,dc){return(Qa=Mc.exec(Qa.slice(dc,dc+6)))?(Ca.L=Math.floor(Qa[0]/1E3),dc+
Qa[0].length):-1}function F(Ca,Qa,dc){return(Ca=qd.exec(Qa.slice(dc,dc+1)))?dc+Ca[0].length:-1}function V(Ca,Qa,dc){return(Qa=Mc.exec(Qa.slice(dc)))?(Ca.Q=+Qa[0],dc+Qa[0].length):-1}function ta(Ca,Qa,dc){return(Qa=Mc.exec(Qa.slice(dc)))?(Ca.s=+Qa[0],dc+Qa[0].length):-1}function N(Ca,Qa){return ab(Ca.getDate(),Qa,2)}function ma(Ca,Qa){return ab(Ca.getHours(),Qa,2)}function ya(Ca,Qa){return ab(Ca.getHours()%12||12,Qa,2)}function Ma(Ca,Qa){return ab(1+yc.count(Cb(Ca),Ca),Qa,3)}function Pa(Ca,Qa){return ab(Ca.getMilliseconds(),
Qa,3)}function Xa(Ca,Qa){return Pa(Ca,Qa)+"000"}function sb(Ca,Qa){return ab(Ca.getMonth()+1,Qa,2)}function ib(Ca,Qa){return ab(Ca.getMinutes(),Qa,2)}function Tb(Ca,Qa){return ab(Ca.getSeconds(),Qa,2)}function X(Ca){Ca=Ca.getDay();return 0===Ca?7:Ca}function Fa(Ca,Qa){return ab(sd.count(Cb(Ca)-1,Ca),Qa,2)}function Kb(Ca){var Qa=Ca.getDay();return 4<=Qa||0===Qa?le(Ca):le.ceil(Ca)}function qc(Ca,Qa){Ca=Kb(Ca);return ab(le.count(Cb(Ca),Ca)+(4===Cb(Ca).getDay()),Qa,2)}function $b(Ca){return Ca.getDay()}
function Mb(Ca,Qa){return ab(Bd.count(Cb(Ca)-1,Ca),Qa,2)}function Qb(Ca,Qa){return ab(Ca.getFullYear()%100,Qa,2)}function wc(Ca,Qa){Ca=Kb(Ca);return ab(Ca.getFullYear()%100,Qa,2)}function fd(Ca,Qa){return ab(Ca.getFullYear()%1E4,Qa,4)}function ra(Ca,Qa){var dc=Ca.getDay();Ca=4<=dc||0===dc?le(Ca):le.ceil(Ca);return ab(Ca.getFullYear()%1E4,Qa,4)}function Ab(Ca){Ca=Ca.getTimezoneOffset();return(0<Ca?"-":(Ca*=-1,"+"))+ab(Ca/60|0,"0",2)+ab(Ca%60,"0",2)}function Ta(Ca,Qa){return ab(Ca.getUTCDate(),Qa,2)}
function wb(Ca,Qa){return ab(Ca.getUTCHours(),Qa,2)}function Gb(Ca,Qa){return ab(Ca.getUTCHours()%12||12,Qa,2)}function Nb(Ca,Qa){return ab(1+Xc.count(rc(Ca),Ca),Qa,3)}function Zb(Ca,Qa){return ab(Ca.getUTCMilliseconds(),Qa,3)}function jc(Ca,Qa){return Zb(Ca,Qa)+"000"}function Ac(Ca,Qa){return ab(Ca.getUTCMonth()+1,Qa,2)}function ld(Ca,Qa){return ab(Ca.getUTCMinutes(),Qa,2)}function Vc(Ca,Qa){return ab(Ca.getUTCSeconds(),Qa,2)}function na(Ca){Ca=Ca.getUTCDay();return 0===Ca?7:Ca}function Ha(Ca,Qa){return ab(Ke.count(rc(Ca)-
1,Ca),Qa,2)}function fb(Ca){var Qa=Ca.getUTCDay();return 4<=Qa||0===Qa?ca(Ca):ca.ceil(Ca)}function Q(Ca,Qa){Ca=fb(Ca);return ab(ca.count(rc(Ca),Ca)+(4===rc(Ca).getUTCDay()),Qa,2)}function t(Ca){return Ca.getUTCDay()}function da(Ca,Qa){return ab(of.count(rc(Ca)-1,Ca),Qa,2)}function za(Ca,Qa){return ab(Ca.getUTCFullYear()%100,Qa,2)}function Da(Ca,Qa){Ca=fb(Ca);return ab(Ca.getUTCFullYear()%100,Qa,2)}function Oa(Ca,Qa){return ab(Ca.getUTCFullYear()%1E4,Qa,4)}function jb(Ca,Qa){var dc=Ca.getUTCDay();
Ca=4<=dc||0===dc?ca(Ca):ca.ceil(Ca);return ab(Ca.getUTCFullYear()%1E4,Qa,4)}function Rb(){return"+0000"}function Eb(){return"%"}function Ib(Ca){return+Ca}function Bc(Ca){return Math.floor(+Ca/1E3)}function Dc(Ca,Qa,dc){dc=dc||{};ka.isObject(dc)||ka.error(`Invalid time multi-format specifier: ${dc}`);const hd=Qa(h.SECONDS),sc=Qa(h.MINUTES),Pc=Qa(h.HOURS),Fc=Qa(h.DATE),Tc=Qa(h.WEEK),Yc=Qa(h.MONTH),jd=Qa(h.QUARTER),nd=Qa(h.YEAR),ne=Ca(dc[h.MILLISECONDS]||".%L"),Ue=Ca(dc[h.SECONDS]||":%S"),Fe=Ca(dc[h.MINUTES]||
"%I:%M"),qe=Ca(dc[h.HOURS]||"%I %p"),hf=Ca(dc[h.DATE]||dc[h.DAY]||"%a %d"),pf=Ca(dc[h.WEEK]||"%b %d"),Le=Ca(dc[h.MONTH]||"%B"),We=Ca(dc[h.QUARTER]||"%B"),af=Ca(dc[h.YEAR]||"%Y");return se=>(hd(se)<se?ne:sc(se)<se?Ue:Pc(se)<se?Fe:Fc(se)<se?qe:Yc(se)<se?Tc(se)<se?hf:pf:nd(se)<se?jd(se)<se?Le:We:af)(se)}function Rc(Ca){const Qa=Ya(Ca.format),dc=Ya(Ca.utcFormat);return{timeFormat:hd=>ka.isString(hd)?Qa(hd):Dc(Qa,h.timeInterval,hd),utcFormat:hd=>ka.isString(hd)?dc(hd):Dc(dc,h.utcInterval,hd),timeParse:Ya(Ca.parse),
utcParse:Ya(Ca.utcParse)}}function yd(){return ae=Rc({format:Pd,parse:Td,utcFormat:Md,utcParse:Kd})}function rd(Ca){return Rc(hb(Ca))}function gd(Ca){return arguments.length?ae=rd(Ca):ae}function Fd(Ca,Qa){var dc=arguments.length;dc&&2!==dc&&ka.error("defaultLocale expects either zero or two arguments.");if(dc){dc=ec(Ca);var hd=gd(Qa);dc=ka.extend({},dc,hd)}else dc=ec(),hd=gd(),dc=ka.extend({},dc,hd);return dc}const Gd=Math.sqrt(50),ud=Math.sqrt(10),we=Math.sqrt(2);var Ed=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;
Ub.prototype=kc.prototype;kc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var x,J={"%":(Ca,Qa)=>(100*Ca).toFixed(Qa),b:Ca=>Math.round(Ca).toString(2),c:Ca=>Ca+"",d:function(Ca){return 1E21<=Math.abs(Ca=Math.round(Ca))?Ca.toLocaleString("en").replace(/,/g,""):Ca.toString(10)},e:(Ca,Qa)=>
Ca.toExponential(Qa),f:(Ca,Qa)=>Ca.toFixed(Qa),g:(Ca,Qa)=>Ca.toPrecision(Qa),o:Ca=>Math.round(Ca).toString(8),p:(Ca,Qa)=>Ea(100*Ca,Qa),r:Ea,s:function(Ca,Qa){var dc=bc(Ca,Qa);if(!dc)return Ca+"";var hd=dc[0];dc=dc[1];dc=dc-(x=3*Math.max(-8,Math.min(8,Math.floor(dc/3))))+1;var sc=hd.length;return dc===sc?hd:dc>sc?hd+Array(dc-sc+1).join("0"):0<dc?hd.slice(0,dc)+"."+hd.slice(dc):"0."+Array(1-dc).join("0")+bc(Ca,Math.max(0,Qa+dc-1))[0]},X:Ca=>Math.round(Ca).toString(16).toUpperCase(),x:Ca=>Math.round(Ca).toString(16)},
xa=Array.prototype.map,Ka="y z a f p n  m  k M G T P E Z Y".split(" "),kb,yb,cc;(function(Ca){kb=tb(Ca);yb=kb.format;cc=kb.formatPrefix;return kb})({thousands:",",grouping:[3],currency:["$",""]});let Sb;vb();const pc=new Date,Ic=new Date,yc=sa(Ca=>Ca.setHours(0,0,0,0),(Ca,Qa)=>Ca.setDate(Ca.getDate()+Qa),(Ca,Qa)=>(Qa-Ca-6E4*(Qa.getTimezoneOffset()-Ca.getTimezoneOffset()))/864E5,Ca=>Ca.getDate()-1);yc.range;const Xc=sa(Ca=>{Ca.setUTCHours(0,0,0,0)},(Ca,Qa)=>{Ca.setUTCDate(Ca.getUTCDate()+Qa)},(Ca,
Qa)=>(Qa-Ca)/864E5,Ca=>Ca.getUTCDate()-1);Xc.range;const md=sa(Ca=>{Ca.setUTCHours(0,0,0,0)},(Ca,Qa)=>{Ca.setUTCDate(Ca.getUTCDate()+Qa)},(Ca,Qa)=>(Qa-Ca)/864E5,Ca=>Math.floor(Ca/864E5));md.range;const sd=ia(0),Bd=ia(1),pd=ia(2),Nd=ia(3),le=ia(4),Re=ia(5),Ge=ia(6);sd.range;Bd.range;pd.range;Nd.range;le.range;Re.range;Ge.range;const Ke=Ba(0),of=Ba(1),ef=Ba(2),E=Ba(3),ca=Ba(4),Ga=Ba(5),eb=Ba(6);Ke.range;of.range;ef.range;E.range;ca.range;Ga.range;eb.range;const Cb=sa(Ca=>{Ca.setMonth(0,1);Ca.setHours(0,
0,0,0)},(Ca,Qa)=>{Ca.setFullYear(Ca.getFullYear()+Qa)},(Ca,Qa)=>Qa.getFullYear()-Ca.getFullYear(),Ca=>Ca.getFullYear());Cb.every=Ca=>isFinite(Ca=Math.floor(Ca))&&0<Ca?sa(Qa=>{Qa.setFullYear(Math.floor(Qa.getFullYear()/Ca)*Ca);Qa.setMonth(0,1);Qa.setHours(0,0,0,0)},(Qa,dc)=>{Qa.setFullYear(Qa.getFullYear()+dc*Ca)}):null;Cb.range;const rc=sa(Ca=>{Ca.setUTCMonth(0,1);Ca.setUTCHours(0,0,0,0)},(Ca,Qa)=>{Ca.setUTCFullYear(Ca.getUTCFullYear()+Qa)},(Ca,Qa)=>Qa.getUTCFullYear()-Ca.getUTCFullYear(),Ca=>Ca.getUTCFullYear());
rc.every=Ca=>isFinite(Ca=Math.floor(Ca))&&0<Ca?sa(Qa=>{Qa.setUTCFullYear(Math.floor(Qa.getUTCFullYear()/Ca)*Ca);Qa.setUTCMonth(0,1);Qa.setUTCHours(0,0,0,0)},(Qa,dc)=>{Qa.setUTCFullYear(Qa.getUTCFullYear()+dc*Ca)}):null;rc.range;var Lb={"-":"",_:" ",0:"0"},Mc=/^\s*\d+/,qd=/^%/,id=/[\\^$*+?|[\]().{}]/g,Oc,Pd,Td,Md,Kd;(function(Ca){Oc=hb(Ca);Pd=Oc.format;Td=Oc.parse;Md=Oc.utcFormat;Kd=Oc.utcParse;return Oc})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});let ae;yd();r.defaultLocale=Fd;r.locale=function(Ca,Qa){Ca=Ca?gb(Ca):ec();Qa=Qa?rd(Qa):gd();return ka.extend({},Ca,Qa)};r.numberFormatDefaultLocale=ec;r.numberFormatLocale=gb;r.resetDefaultLocale=function(){vb();yd();return Fd()};r.resetNumberFormatDefaultLocale=vb;r.resetTimeFormatDefaultLocale=
yd;r.timeFormatDefaultLocale=gd;r.timeFormatLocale=rd})};
shadow$provide[25]=function(Db,mb,Cc,Va){function r(ub){var Yb=ub.length;if(0<Yb%4)throw Error("Invalid string. Length must be a multiple of 4");ub=ub.indexOf("\x3d");-1===ub&&(ub=Yb);return[ub,ub===Yb?0:4-ub%4]}Va.byteLength=function(ub){ub=r(ub);var Yb=ub[1];return 3*(ub[0]+Yb)/4-Yb};Va.toByteArray=function(ub){var Yb=r(ub);var bc=Yb[0];Yb=Yb[1];var Xb=new Ya(3*(bc+Yb)/4-Yb),oc=0,zb=0<Yb?bc-4:bc,Ub;for(Ub=0;Ub<zb;Ub+=4)bc=ka[ub.charCodeAt(Ub)]<<18|ka[ub.charCodeAt(Ub+1)]<<12|ka[ub.charCodeAt(Ub+
2)]<<6|ka[ub.charCodeAt(Ub+3)],Xb[oc++]=bc>>16&255,Xb[oc++]=bc>>8&255,Xb[oc++]=bc&255;2===Yb&&(bc=ka[ub.charCodeAt(Ub)]<<2|ka[ub.charCodeAt(Ub+1)]>>4,Xb[oc++]=bc&255);1===Yb&&(bc=ka[ub.charCodeAt(Ub)]<<10|ka[ub.charCodeAt(Ub+1)]<<4|ka[ub.charCodeAt(Ub+2)]>>2,Xb[oc++]=bc>>8&255,Xb[oc++]=bc&255);return Xb};Va.fromByteArray=function(ub){for(var Yb=ub.length,bc=Yb%3,Xb=[],oc=0,zb=Yb-bc;oc<zb;oc+=16383){for(var Ub=Xb,kc=Ub.push,Ea,Za=ub,tb=oc+16383>zb?zb:oc+16383,rb=[],pb=oc;pb<tb;pb+=3)Ea=(Za[pb]<<16&
16711680)+(Za[pb+1]<<8&65280)+(Za[pb+2]&255),rb.push(h[Ea>>18&63]+h[Ea>>12&63]+h[Ea>>6&63]+h[Ea&63]);Ea=rb.join("");kc.call(Ub,Ea)}1===bc?(ub=ub[Yb-1],Xb.push(h[ub>>2]+h[ub<<4&63]+"\x3d\x3d")):2===bc&&(ub=(ub[Yb-2]<<8)+ub[Yb-1],Xb.push(h[ub>>10]+h[ub>>4&63]+h[ub<<2&63]+"\x3d"));return Xb.join("")};var h=[],ka=[],Ya="undefined"!==typeof Uint8Array?Uint8Array:Array;for(Db=0;64>Db;++Db)h[Db]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Db],ka["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(Db)]=
Db;ka[45]=62;ka[95]=63};
shadow$provide[26]=function(Db,mb,Cc,Va){Va.read=function(r,h,ka,Ya,ub){var Yb=8*ub-Ya-1;var bc=(1<<Yb)-1,Xb=bc>>1,oc=-7;ub=ka?ub-1:0;var zb=ka?-1:1,Ub=r[h+ub];ub+=zb;ka=Ub&(1<<-oc)-1;Ub>>=-oc;for(oc+=Yb;0<oc;ka=256*ka+r[h+ub],ub+=zb,oc-=8);Yb=ka&(1<<-oc)-1;ka>>=-oc;for(oc+=Ya;0<oc;Yb=256*Yb+r[h+ub],ub+=zb,oc-=8);if(0===ka)ka=1-Xb;else{if(ka===bc)return Yb?NaN:Infinity*(Ub?-1:1);Yb+=Math.pow(2,Ya);ka-=Xb}return(Ub?-1:1)*Yb*Math.pow(2,ka-Ya)};Va.write=function(r,h,ka,Ya,ub,Yb){var bc,Xb=8*Yb-ub-1,
oc=(1<<Xb)-1,zb=oc>>1,Ub=23===ub?Math.pow(2,-24)-Math.pow(2,-77):0;Yb=Ya?0:Yb-1;var kc=Ya?1:-1,Ea=0>h||0===h&&0>1/h?1:0;h=Math.abs(h);isNaN(h)||Infinity===h?(h=isNaN(h)?1:0,Ya=oc):(Ya=Math.floor(Math.log(h)/Math.LN2),1>h*(bc=Math.pow(2,-Ya))&&(Ya--,bc*=2),h=1<=Ya+zb?h+Ub/bc:h+Ub*Math.pow(2,1-zb),2<=h*bc&&(Ya++,bc/=2),Ya+zb>=oc?(h=0,Ya=oc):1<=Ya+zb?(h=(h*bc-1)*Math.pow(2,ub),Ya+=zb):(h=h*Math.pow(2,zb-1)*Math.pow(2,ub),Ya=0));for(;8<=ub;r[ka+Yb]=h&255,Yb+=kc,h/=256,ub-=8);Ya=Ya<<ub|h;for(Xb+=ub;0<
Xb;r[ka+Yb]=Ya&255,Yb+=kc,Ya/=256,Xb-=8);r[ka+Yb-kc]|=128*Ea}};
shadow$provide[27]=function(Db,mb,Cc,Va){function r(l){if(2147483647<l)throw new RangeError('The value "'+l+'" is invalid for option "size"');l=new Uint8Array(l);Object.setPrototypeOf(l,h.prototype);return l}function h(l,D,K){if("number"===typeof l){if("string"===typeof D)throw new TypeError('The "string" argument must be of type string. Received type number');return ub(l)}return ka(l,D,K)}function ka(l,D,K){if("string"===typeof l){var v=D;if("string"!==typeof v||""===v)v="utf8";if(!h.isEncoding(v))throw new TypeError("Unknown encoding: "+
v);D=zb(l,v)|0;K=r(D);l=K.write(l,v);l!==D&&(K=K.slice(0,l));return K}if(ArrayBuffer.isView(l))return db(l,Uint8Array)?(l=new Uint8Array(l),l=bc(l.buffer,l.byteOffset,l.byteLength)):l=Yb(l),l;if(null==l)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l);if(db(l,ArrayBuffer)||l&&db(l.buffer,ArrayBuffer)||"undefined"!==typeof SharedArrayBuffer&&(db(l,SharedArrayBuffer)||l&&db(l.buffer,SharedArrayBuffer)))return bc(l,
D,K);if("number"===typeof l)throw new TypeError('The "value" argument must not be of type number. Received type number');v=l.valueOf&&l.valueOf();if(null!=v&&v!==l)return h.from(v,D,K);if(v=Xb(l))return v;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof l[Symbol.toPrimitive])return h.from(l[Symbol.toPrimitive]("string"),D,K);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l);}
function Ya(l){if("number"!==typeof l)throw new TypeError('"size" argument must be of type number');if(0>l)throw new RangeError('The value "'+l+'" is invalid for option "size"');}function ub(l){Ya(l);return r(0>l?0:oc(l)|0)}function Yb(l){const D=0>l.length?0:oc(l.length)|0,K=r(D);for(let v=0;v<D;v+=1)K[v]=l[v]&255;return K}function bc(l,D,K){if(0>D||l.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(l.byteLength<D+(K||0))throw new RangeError('"length" is outside of buffer bounds');
l=void 0===D&&void 0===K?new Uint8Array(l):void 0===K?new Uint8Array(l,D):new Uint8Array(l,D,K);Object.setPrototypeOf(l,h.prototype);return l}function Xb(l){if(h.isBuffer(l)){var D=oc(l.length)|0;const K=r(D);if(0===K.length)return K;l.copy(K,0,0,D);return K}if(void 0!==l.length)return(D="number"!==typeof l.length)||(D=l.length,D=D!==D),D?r(0):Yb(l);if("Buffer"===l.type&&Array.isArray(l.data))return Yb(l.data)}function oc(l){if(2147483647<=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+
(2147483647).toString(16)+" bytes");return l|0}function zb(l,D){if(h.isBuffer(l))return l.length;if(ArrayBuffer.isView(l)||db(l,ArrayBuffer))return l.byteLength;if("string"!==typeof l)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof l);const K=l.length,v=2<arguments.length&&!0===arguments[2];if(!v&&0===K)return 0;let R=!1;for(;;)switch(D){case "ascii":case "latin1":case "binary":return K;case "utf8":case "utf-8":return ab(l).length;
case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*K;case "hex":return K>>>1;case "base64":return qb(l).length;default:if(R)return v?-1:ab(l).length;D=(""+D).toLowerCase();R=!0}}function Ub(l,D,K){let v=!1;if(void 0===D||0>D)D=0;if(D>this.length)return"";if(void 0===K||K>this.length)K=this.length;if(0>=K)return"";K>>>=0;D>>>=0;if(K<=D)return"";for(l||(l="utf8");;)switch(l){case "hex":l=D;D=this.length;if(!l||0>l)l=0;if(!K||0>K||K>D)K=D;for(D="";l<K;++l)D+=qa[this[l]];return D;case "utf8":case "utf-8":return tb(this,
D,K);case "ascii":l=D;D="";for(K=Math.min(this.length,K);l<K;++l)D+=String.fromCharCode(this[l]&127);return D;case "latin1":case "binary":l=D;D="";for(K=Math.min(this.length,K);l<K;++l)D+=String.fromCharCode(this[l]);return D;case "base64":return l=D,K=0===l&&K===this.length?ea.fromByteArray(this):ea.fromByteArray(this.slice(l,K)),K;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":K=this.slice(D,K);l="";for(D=0;D<K.length-1;D+=2)l+=String.fromCharCode(K[D]+256*K[D+1]);return l;default:if(v)throw new TypeError("Unknown encoding: "+
l);l=(l+"").toLowerCase();v=!0}}function kc(l,D,K){const v=l[D];l[D]=l[K];l[K]=v}function Ea(l,D,K,v,R){if(0===l.length)return-1;"string"===typeof K?(v=K,K=0):2147483647<K?K=2147483647:-2147483648>K&&(K=-2147483648);K=+K;K!==K&&(K=R?0:l.length-1);0>K&&(K=l.length+K);if(K>=l.length){if(R)return-1;K=l.length-1}else if(0>K)if(R)K=0;else return-1;"string"===typeof D&&(D=h.from(D,v));if(h.isBuffer(D))return 0===D.length?-1:Za(l,D,K,v,R);if("number"===typeof D)return D&=255,"function"===typeof Uint8Array.prototype.indexOf?
R?Uint8Array.prototype.indexOf.call(l,D,K):Uint8Array.prototype.lastIndexOf.call(l,D,K):Za(l,[D],K,v,R);throw new TypeError("val must be string, number or Buffer");}function Za(l,D,K,v,R){function A(z,F){return 1===W?z[F]:z.readUInt16BE(F*W)}let W=1;var G=l.length;let w=D.length;if(void 0!==v&&(v=String(v).toLowerCase(),"ucs2"===v||"ucs-2"===v||"utf16le"===v||"utf-16le"===v)){if(2>l.length||2>D.length)return-1;W=2;G/=2;w/=2;K/=2}if(R)for(v=-1;K<G;K++)if(A(l,K)===A(D,-1===v?0:K-v)){if(-1===v&&(v=K),
K-v+1===w)return v*W}else-1!==v&&(K-=K-v),v=-1;else for(K+w>G&&(K=G-w);0<=K;K--){G=!0;for(v=0;v<w;v++)if(A(l,K+v)!==A(D,v)){G=!1;break}if(G)return K}return-1}function tb(l,D,K){K=Math.min(l.length,K);for(var v=[];D<K;){var R=l[D];let A=null,W=239<R?4:223<R?3:191<R?2:1;if(D+W<=K){let G,w,z;switch(W){case 1:128>R&&(A=R);break;case 2:G=l[D+1];128===(G&192)&&(R=(R&31)<<6|G&63,127<R&&(A=R));break;case 3:G=l[D+1];w=l[D+2];128===(G&192)&&128===(w&192)&&(R=(R&15)<<12|(G&63)<<6|w&63,2047<R&&(55296>R||57343<
R)&&(A=R));break;case 4:G=l[D+1],w=l[D+2],z=l[D+3],128===(G&192)&&128===(w&192)&&128===(z&192)&&(R=(R&15)<<18|(G&63)<<12|(w&63)<<6|z&63,65535<R&&1114112>R&&(A=R))}}null===A?(A=65533,W=1):65535<A&&(A-=65536,v.push(A>>>10&1023|55296),A=56320|A&1023);v.push(A);D+=W}D=v.length;if(4096>=D)v=String.fromCharCode.apply(String,v);else{l="";for(K=0;K<D;)l+=String.fromCharCode.apply(String,v.slice(K,K+=4096));v=l}return v}function rb(l,D,K){if(0!==l%1||0>l)throw new RangeError("offset is not uint");if(l+D>K)throw new RangeError("Trying to access beyond buffer length");
}function pb(l,D,K,v,R,A){if(!h.isBuffer(l))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>R||D<A)throw new RangeError('"value" argument is out of bounds');if(K+v>l.length)throw new RangeError("Index out of range");}function vb(l,D,K,v,R){Wa(D,v,R,l,K,7);v=Number(D&BigInt(4294967295));l[K++]=v;v>>=8;l[K++]=v;v>>=8;l[K++]=v;l[K++]=v>>8;D=Number(D>>BigInt(32)&BigInt(4294967295));l[K++]=D;D>>=8;l[K++]=D;D>>=8;l[K++]=D;l[K++]=D>>8;return K}function gb(l,D,K,v,R){Wa(D,v,R,l,K,
7);v=Number(D&BigInt(4294967295));l[K+7]=v;v>>=8;l[K+6]=v;v>>=8;l[K+5]=v;l[K+4]=v>>8;D=Number(D>>BigInt(32)&BigInt(4294967295));l[K+3]=D;D>>=8;l[K+2]=D;D>>=8;l[K+1]=D;l[K]=D>>8;return K+8}function ec(l,D,K,v,R,A){if(K+v>l.length)throw new RangeError("Index out of range");if(0>K)throw new RangeError("Index out of range");}function sa(l,D,K,v,R){D=+D;K>>>=0;R||ec(l,D,K,4,3.4028234663852886E38,-3.4028234663852886E38);ja.write(l,D,K,v,23,4);return K+4}function ia(l,D,K,v,R){D=+D;K>>>=0;R||ec(l,D,K,8,
1.7976931348623157E308,-1.7976931348623157E308);ja.write(l,D,K,v,52,8);return K+8}function Ba(l,D,K){La[l]=class extends K{constructor(){super();Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0});this.name=`${this.name} [${l}]`;this.stack;delete this.name}get code(){return l}set code(v){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:v,writable:!0})}toString(){return`${this.name} [${l}]: ${this.message}`}}}function Ra(l){let D=
"",K=l.length;const v="-"===l[0]?1:0;for(;K>=v+4;K-=3)D=`_${l.slice(K-3,K)}${D}`;return`${l.slice(0,K)}${D}`}function Wa(l,D,K,v,R,A){if(l>K||l<D)throw v="bigint"===typeof D?"n":"",new La.ERR_OUT_OF_RANGE("value",3<A?0===D||D===BigInt(0)?`>= 0${v} and < 2${v} ** ${8*(A+1)}${v}`:`>= -(2${v} ** ${8*(A+1)-1}${v}) and < 2 ** `+`${8*(A+1)-1}${v}`:`>= ${D}${v} and <= ${K}${v}`,l);Ia(R,"offset");void 0!==v[R]&&void 0!==v[R+A]||hb(R,v.length-(A+1))}function Ia(l,D){if("number"!==typeof l)throw new La.ERR_INVALID_ARG_TYPE(D,
"number",l);}function hb(l,D,K){if(Math.floor(l)!==l)throw Ia(l,K),new La.ERR_OUT_OF_RANGE(K||"offset","an integer",l);if(0>D)throw new La.ERR_BUFFER_OUT_OF_BOUNDS;throw new La.ERR_OUT_OF_RANGE(K||"offset",`>= ${K?1:0} and <= ${D}`,l);}function ab(l,D){D=D||Infinity;let K;const v=l.length;let R=null;const A=[];for(let W=0;W<v;++W){K=l.charCodeAt(W);if(55295<K&&57344>K){if(!R){if(56319<K){-1<(D-=3)&&A.push(239,191,189);continue}else if(W+1===v){-1<(D-=3)&&A.push(239,191,189);continue}R=K;continue}if(56320>
K){-1<(D-=3)&&A.push(239,191,189);R=K;continue}K=(R-55296<<10|K-56320)+65536}else R&&-1<(D-=3)&&A.push(239,191,189);R=null;if(128>K){if(0>--D)break;A.push(K)}else if(2048>K){if(0>(D-=2))break;A.push(K>>6|192,K&63|128)}else if(65536>K){if(0>(D-=3))break;A.push(K>>12|224,K>>6&63|128,K&63|128)}else if(1114112>K){if(0>(D-=4))break;A.push(K>>18|240,K>>12&63|128,K>>6&63|128,K&63|128)}else throw Error("Invalid code point");}return A}function qb(l){var D=ea,K=D.toByteArray;l=l.split("\x3d")[0];l=l.trim().replace(oa,
"");if(2>l.length)l="";else for(;0!==l.length%4;)l+="\x3d";return K.call(D,l)}function Pb(l,D,K,v){let R;for(R=0;R<v&&!(R+K>=D.length||R>=l.length);++R)D[R+K]=l[R];return R}function db(l,D){return l instanceof D||null!=l&&null!=l.constructor&&null!=l.constructor.name&&l.constructor.name===D.name}function U(l){return"undefined"===typeof BigInt?ba:l}function ba(){throw Error("BigInt not supported");}const ea=mb(25),ja=mb(26);Db="function"===typeof Symbol&&"function"===typeof Symbol["for"]?Symbol["for"]("nodejs.util.inspect.custom"):
null;Va.Buffer=h;Va.SlowBuffer=function(l){+l!=l&&(l=0);return h.alloc(+l)};Va.INSPECT_MAX_BYTES=50;Va.kMaxLength=2147483647;h.TYPED_ARRAY_SUPPORT=function(){try{const l=new Uint8Array(1),D={foo:function(){return 42}};Object.setPrototypeOf(D,Uint8Array.prototype);Object.setPrototypeOf(l,D);return 42===l.foo()}catch(l){return!1}}();h.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");
Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}});Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});h.poolSize=8192;h.from=function(l,D,K){return ka(l,D,K)};Object.setPrototypeOf(h.prototype,Uint8Array.prototype);Object.setPrototypeOf(h,Uint8Array);h.alloc=function(l,D,K){Ya(l);l=0>=l?r(l):void 0!==D?"string"===typeof K?r(l).fill(D,K):r(l).fill(D):r(l);return l};h.allocUnsafe=
function(l){return ub(l)};h.allocUnsafeSlow=function(l){return ub(l)};h.isBuffer=function(l){return null!=l&&!0===l._isBuffer&&l!==h.prototype};h.compare=function(l,D){db(l,Uint8Array)&&(l=h.from(l,l.offset,l.byteLength));db(D,Uint8Array)&&(D=h.from(D,D.offset,D.byteLength));if(!h.isBuffer(l)||!h.isBuffer(D))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===D)return 0;let K=l.length,v=D.length;for(let R=0,A=Math.min(K,v);R<A;++R)if(l[R]!==D[R]){K=
l[R];v=D[R];break}return K<v?-1:v<K?1:0};h.isEncoding=function(l){switch(String(l).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};h.concat=function(l,D){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(0===l.length)return h.alloc(0);let K;if(void 0===D)for(K=D=0;K<l.length;++K)D+=l[K].length;D=h.allocUnsafe(D);let v=
0;for(K=0;K<l.length;++K){let R=l[K];if(db(R,Uint8Array))v+R.length>D.length?(h.isBuffer(R)||(R=h.from(R)),R.copy(D,v)):Uint8Array.prototype.set.call(D,R,v);else if(h.isBuffer(R))R.copy(D,v);else throw new TypeError('"list" argument must be an Array of Buffers');v+=R.length}return D};h.byteLength=zb;h.prototype._isBuffer=!0;h.prototype.swap16=function(){const l=this.length;if(0!==l%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let D=0;D<l;D+=2)kc(this,D,D+1);return this};
h.prototype.swap32=function(){const l=this.length;if(0!==l%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let D=0;D<l;D+=4)kc(this,D,D+3),kc(this,D+1,D+2);return this};h.prototype.swap64=function(){const l=this.length;if(0!==l%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let D=0;D<l;D+=8)kc(this,D,D+7),kc(this,D+1,D+6),kc(this,D+2,D+5),kc(this,D+3,D+4);return this};h.prototype.toString=function(){const l=this.length;return 0===l?"":0===arguments.length?
tb(this,0,l):Ub.apply(this,arguments)};h.prototype.toLocaleString=h.prototype.toString;h.prototype.equals=function(l){if(!h.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:0===h.compare(this,l)};h.prototype.inspect=function(){let l;const D=Va.INSPECT_MAX_BYTES;l=this.toString("hex",0,D).replace(/(.{2})/g,"$1 ").trim();this.length>D&&(l+=" ... ");return"\x3cBuffer "+l+"\x3e"};Db&&(h.prototype[Db]=h.prototype.inspect);h.prototype.compare=function(l,D,K,v,R){db(l,Uint8Array)&&
(l=h.from(l,l.offset,l.byteLength));if(!h.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);void 0===D&&(D=0);void 0===K&&(K=l?l.length:0);void 0===v&&(v=0);void 0===R&&(R=this.length);if(0>D||K>l.length||0>v||R>this.length)throw new RangeError("out of range index");if(v>=R&&D>=K)return 0;if(v>=R)return-1;if(D>=K)return 1;D>>>=0;K>>>=0;v>>>=0;R>>>=0;if(this===l)return 0;let A=R-v,W=K-D;const G=Math.min(A,W);v=this.slice(v,R);
l=l.slice(D,K);for(D=0;D<G;++D)if(v[D]!==l[D]){A=v[D];W=l[D];break}return A<W?-1:W<A?1:0};h.prototype.includes=function(l,D,K){return-1!==this.indexOf(l,D,K)};h.prototype.indexOf=function(l,D,K){return Ea(this,l,D,K,!0)};h.prototype.lastIndexOf=function(l,D,K){return Ea(this,l,D,K,!1)};h.prototype.write=function(l,D,K,v){if(void 0===D)v="utf8",K=this.length,D=0;else if(void 0===K&&"string"===typeof D)v=D,K=this.length,D=0;else if(isFinite(D))D>>>=0,isFinite(K)?(K>>>=0,void 0===v&&(v="utf8")):(v=K,
K=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var R=this.length-D;if(void 0===K||K>R)K=R;if(0<l.length&&(0>K||0>D)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");v||(v="utf8");for(R=!1;;)switch(v){case "hex":a:{D=Number(D)||0;v=this.length-D;K?(K=Number(K),K>v&&(K=v)):K=v;v=l.length;K>v/2&&(K=v/2);for(v=0;v<K;++v){R=parseInt(l.substr(2*v,2),16);if(R!==R){l=v;break a}this[D+v]=R}l=v}return l;case "utf8":case "utf-8":return Pb(ab(l,
this.length-D),this,D,K);case "ascii":case "latin1":case "binary":v=[];for(R=0;R<l.length;++R)v.push(l.charCodeAt(R)&255);return Pb(v,this,D,K);case "base64":return Pb(qb(l),this,D,K);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":var A=void 0;v=this.length-D;const W=[];for(let G=0;G<l.length&&!(0>(v-=2));++G)A=l.charCodeAt(G),R=A>>8,A%=256,W.push(A),W.push(R);return Pb(W,this,D,K);default:if(R)throw new TypeError("Unknown encoding: "+v);v=(""+v).toLowerCase();R=!0}};h.prototype.toJSON=function(){return{type:"Buffer",
data:Array.prototype.slice.call(this._arr||this,0)}};h.prototype.slice=function(l,D){const K=this.length;l=~~l;D=void 0===D?K:~~D;0>l?(l+=K,0>l&&(l=0)):l>K&&(l=K);0>D?(D+=K,0>D&&(D=0)):D>K&&(D=K);D<l&&(D=l);l=this.subarray(l,D);Object.setPrototypeOf(l,h.prototype);return l};h.prototype.readUintLE=h.prototype.readUIntLE=function(l,D,K){l>>>=0;D>>>=0;K||rb(l,D,this.length);K=this[l];let v=1,R=0;for(;++R<D&&(v*=256);)K+=this[l+R]*v;return K};h.prototype.readUintBE=h.prototype.readUIntBE=function(l,D,
K){l>>>=0;D>>>=0;K||rb(l,D,this.length);K=this[l+--D];let v=1;for(;0<D&&(v*=256);)K+=this[l+--D]*v;return K};h.prototype.readUint8=h.prototype.readUInt8=function(l,D){l>>>=0;D||rb(l,1,this.length);return this[l]};h.prototype.readUint16LE=h.prototype.readUInt16LE=function(l,D){l>>>=0;D||rb(l,2,this.length);return this[l]|this[l+1]<<8};h.prototype.readUint16BE=h.prototype.readUInt16BE=function(l,D){l>>>=0;D||rb(l,2,this.length);return this[l]<<8|this[l+1]};h.prototype.readUint32LE=h.prototype.readUInt32LE=
function(l,D){l>>>=0;D||rb(l,4,this.length);return(this[l]|this[l+1]<<8|this[l+2]<<16)+16777216*this[l+3]};h.prototype.readUint32BE=h.prototype.readUInt32BE=function(l,D){l>>>=0;D||rb(l,4,this.length);return 16777216*this[l]+(this[l+1]<<16|this[l+2]<<8|this[l+3])};h.prototype.readBigUInt64LE=U(function(l){l>>>=0;Ia(l,"offset");var D=this[l];const K=this[l+7];void 0!==D&&void 0!==K||hb(l,this.length-8);D=D+this[++l]*Math.pow(2,8)+this[++l]*Math.pow(2,16)+this[++l]*Math.pow(2,24);l=this[++l]+this[++l]*
Math.pow(2,8)+this[++l]*Math.pow(2,16)+K*Math.pow(2,24);return BigInt(D)+(BigInt(l)<<BigInt(32))});h.prototype.readBigUInt64BE=U(function(l){l>>>=0;Ia(l,"offset");var D=this[l];const K=this[l+7];void 0!==D&&void 0!==K||hb(l,this.length-8);D=D*Math.pow(2,24)+this[++l]*Math.pow(2,16)+this[++l]*Math.pow(2,8)+this[++l];l=this[++l]*Math.pow(2,24)+this[++l]*Math.pow(2,16)+this[++l]*Math.pow(2,8)+K;return(BigInt(D)<<BigInt(32))+BigInt(l)});h.prototype.readIntLE=function(l,D,K){l>>>=0;D>>>=0;K||rb(l,D,this.length);
K=this[l];let v=1,R=0;for(;++R<D&&(v*=256);)K+=this[l+R]*v;K>=128*v&&(K-=Math.pow(2,8*D));return K};h.prototype.readIntBE=function(l,D,K){l>>>=0;D>>>=0;K||rb(l,D,this.length);K=D;let v=1,R=this[l+--K];for(;0<K&&(v*=256);)R+=this[l+--K]*v;R>=128*v&&(R-=Math.pow(2,8*D));return R};h.prototype.readInt8=function(l,D){l>>>=0;D||rb(l,1,this.length);return this[l]&128?-1*(255-this[l]+1):this[l]};h.prototype.readInt16LE=function(l,D){l>>>=0;D||rb(l,2,this.length);l=this[l]|this[l+1]<<8;return l&32768?l|4294901760:
l};h.prototype.readInt16BE=function(l,D){l>>>=0;D||rb(l,2,this.length);l=this[l+1]|this[l]<<8;return l&32768?l|4294901760:l};h.prototype.readInt32LE=function(l,D){l>>>=0;D||rb(l,4,this.length);return this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24};h.prototype.readInt32BE=function(l,D){l>>>=0;D||rb(l,4,this.length);return this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]};h.prototype.readBigInt64LE=U(function(l){l>>>=0;Ia(l,"offset");const D=this[l],K=this[l+7];void 0!==D&&void 0!==K||hb(l,this.length-
8);return(BigInt(this[l+4]+this[l+5]*Math.pow(2,8)+this[l+6]*Math.pow(2,16)+(K<<24))<<BigInt(32))+BigInt(D+this[++l]*Math.pow(2,8)+this[++l]*Math.pow(2,16)+this[++l]*Math.pow(2,24))});h.prototype.readBigInt64BE=U(function(l){l>>>=0;Ia(l,"offset");var D=this[l];const K=this[l+7];void 0!==D&&void 0!==K||hb(l,this.length-8);D=(D<<24)+this[++l]*Math.pow(2,16)+this[++l]*Math.pow(2,8)+this[++l];return(BigInt(D)<<BigInt(32))+BigInt(this[++l]*Math.pow(2,24)+this[++l]*Math.pow(2,16)+this[++l]*Math.pow(2,8)+
K)});h.prototype.readFloatLE=function(l,D){l>>>=0;D||rb(l,4,this.length);return ja.read(this,l,!0,23,4)};h.prototype.readFloatBE=function(l,D){l>>>=0;D||rb(l,4,this.length);return ja.read(this,l,!1,23,4)};h.prototype.readDoubleLE=function(l,D){l>>>=0;D||rb(l,8,this.length);return ja.read(this,l,!0,52,8)};h.prototype.readDoubleBE=function(l,D){l>>>=0;D||rb(l,8,this.length);return ja.read(this,l,!1,52,8)};h.prototype.writeUintLE=h.prototype.writeUIntLE=function(l,D,K,v){l=+l;D>>>=0;K>>>=0;v||pb(this,
l,D,K,Math.pow(2,8*K)-1,0);v=1;let R=0;for(this[D]=l&255;++R<K&&(v*=256);)this[D+R]=l/v&255;return D+K};h.prototype.writeUintBE=h.prototype.writeUIntBE=function(l,D,K,v){l=+l;D>>>=0;K>>>=0;v||pb(this,l,D,K,Math.pow(2,8*K)-1,0);v=K-1;let R=1;for(this[D+v]=l&255;0<=--v&&(R*=256);)this[D+v]=l/R&255;return D+K};h.prototype.writeUint8=h.prototype.writeUInt8=function(l,D,K){l=+l;D>>>=0;K||pb(this,l,D,1,255,0);this[D]=l&255;return D+1};h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(l,D,K){l=
+l;D>>>=0;K||pb(this,l,D,2,65535,0);this[D]=l&255;this[D+1]=l>>>8;return D+2};h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(l,D,K){l=+l;D>>>=0;K||pb(this,l,D,2,65535,0);this[D]=l>>>8;this[D+1]=l&255;return D+2};h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(l,D,K){l=+l;D>>>=0;K||pb(this,l,D,4,4294967295,0);this[D+3]=l>>>24;this[D+2]=l>>>16;this[D+1]=l>>>8;this[D]=l&255;return D+4};h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(l,D,K){l=+l;D>>>=0;K||pb(this,
l,D,4,4294967295,0);this[D]=l>>>24;this[D+1]=l>>>16;this[D+2]=l>>>8;this[D+3]=l&255;return D+4};h.prototype.writeBigUInt64LE=U(function(l,D=0){return vb(this,l,D,BigInt(0),BigInt("0xffffffffffffffff"))});h.prototype.writeBigUInt64BE=U(function(l,D=0){return gb(this,l,D,BigInt(0),BigInt("0xffffffffffffffff"))});h.prototype.writeIntLE=function(l,D,K,v){l=+l;D>>>=0;v||(v=Math.pow(2,8*K-1),pb(this,l,D,K,v-1,-v));v=0;let R=1,A=0;for(this[D]=l&255;++v<K&&(R*=256);)0>l&&0===A&&0!==this[D+v-1]&&(A=1),this[D+
v]=(l/R>>0)-A&255;return D+K};h.prototype.writeIntBE=function(l,D,K,v){l=+l;D>>>=0;v||(v=Math.pow(2,8*K-1),pb(this,l,D,K,v-1,-v));v=K-1;let R=1,A=0;for(this[D+v]=l&255;0<=--v&&(R*=256);)0>l&&0===A&&0!==this[D+v+1]&&(A=1),this[D+v]=(l/R>>0)-A&255;return D+K};h.prototype.writeInt8=function(l,D,K){l=+l;D>>>=0;K||pb(this,l,D,1,127,-128);0>l&&(l=255+l+1);this[D]=l&255;return D+1};h.prototype.writeInt16LE=function(l,D,K){l=+l;D>>>=0;K||pb(this,l,D,2,32767,-32768);this[D]=l&255;this[D+1]=l>>>8;return D+
2};h.prototype.writeInt16BE=function(l,D,K){l=+l;D>>>=0;K||pb(this,l,D,2,32767,-32768);this[D]=l>>>8;this[D+1]=l&255;return D+2};h.prototype.writeInt32LE=function(l,D,K){l=+l;D>>>=0;K||pb(this,l,D,4,2147483647,-2147483648);this[D]=l&255;this[D+1]=l>>>8;this[D+2]=l>>>16;this[D+3]=l>>>24;return D+4};h.prototype.writeInt32BE=function(l,D,K){l=+l;D>>>=0;K||pb(this,l,D,4,2147483647,-2147483648);0>l&&(l=4294967295+l+1);this[D]=l>>>24;this[D+1]=l>>>16;this[D+2]=l>>>8;this[D+3]=l&255;return D+4};h.prototype.writeBigInt64LE=
U(function(l,D=0){return vb(this,l,D,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});h.prototype.writeBigInt64BE=U(function(l,D=0){return gb(this,l,D,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});h.prototype.writeFloatLE=function(l,D,K){return sa(this,l,D,!0,K)};h.prototype.writeFloatBE=function(l,D,K){return sa(this,l,D,!1,K)};h.prototype.writeDoubleLE=function(l,D,K){return ia(this,l,D,!0,K)};h.prototype.writeDoubleBE=function(l,D,K){return ia(this,l,D,!1,K)};h.prototype.copy=
function(l,D,K,v){if(!h.isBuffer(l))throw new TypeError("argument should be a Buffer");K||(K=0);v||0===v||(v=this.length);D>=l.length&&(D=l.length);D||(D=0);0<v&&v<K&&(v=K);if(v===K||0===l.length||0===this.length)return 0;if(0>D)throw new RangeError("targetStart out of bounds");if(0>K||K>=this.length)throw new RangeError("Index out of range");if(0>v)throw new RangeError("sourceEnd out of bounds");v>this.length&&(v=this.length);l.length-D<v-K&&(v=l.length-D+K);const R=v-K;this===l&&"function"===typeof Uint8Array.prototype.copyWithin?
this.copyWithin(D,K,v):Uint8Array.prototype.set.call(l,this.subarray(K,v),D);return R};h.prototype.fill=function(l,D,K,v){if("string"===typeof l){"string"===typeof D?(v=D,D=0,K=this.length):"string"===typeof K&&(v=K,K=this.length);if(void 0!==v&&"string"!==typeof v)throw new TypeError("encoding must be a string");if("string"===typeof v&&!h.isEncoding(v))throw new TypeError("Unknown encoding: "+v);if(1===l.length){var R=l.charCodeAt(0);if("utf8"===v&&128>R||"latin1"===v)l=R}}else"number"===typeof l?
l&=255:"boolean"===typeof l&&(l=Number(l));if(0>D||this.length<D||this.length<K)throw new RangeError("Out of range index");if(K<=D)return this;D>>>=0;K=void 0===K?this.length:K>>>0;l||(l=0);if("number"===typeof l)for(v=D;v<K;++v)this[v]=l;else{R=h.isBuffer(l)?l:h.from(l,v);const A=R.length;if(0===A)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(v=0;v<K-D;++v)this[v+D]=R[v%A]}return this};const La={};Ba("ERR_BUFFER_OUT_OF_BOUNDS",function(l){return l?`${l} is outside of buffer bounds`:
"Attempt to access memory outside buffer bounds"},RangeError);Ba("ERR_INVALID_ARG_TYPE",function(l,D){return`The "${l}" argument must be of type number. Received type ${typeof D}`},TypeError);Ba("ERR_OUT_OF_RANGE",function(l,D,K){l=`The value of "${l}" is out of range.`;let v=K;if(Number.isInteger(K)&&Math.abs(K)>Math.pow(2,32))v=Ra(String(K));else if("bigint"===typeof K){v=String(K);if(K>Math.pow(BigInt(2),BigInt(32))||K<-Math.pow(BigInt(2),BigInt(32)))v=Ra(v);v+="n"}return l+` It must be ${D}. Received ${v}`},
RangeError);const oa=/[^+/0-9A-Za-z-_]/g,qa=function(){const l=Array(256);for(let D=0;16>D;++D){const K=16*D;for(let v=0;16>v;++v)l[K+v]="0123456789abcdef"[D]+"0123456789abcdef"[v]}return l}()};
shadow$provide[28]=function(Db,mb,Cc,Va){var r=mb(27).Buffer;(function(h,ka){"object"===typeof Va&&"undefined"!==typeof Cc?ka(Va,mb(21),mb(22),mb(24)):"function"===typeof define&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],ka):(h="undefined"!==typeof globalThis?globalThis:h||self,ka(h.vega={},h.vega,h.topojson,h.vega))})(this,function(h,ka,Ya,ub){function Yb(oa,qa){const l=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const D=yield l.sanitize(oa,
qa),K=D.href;return D.localFile?l.file(K):l.http(K,qa)})}function bc(oa,qa){const l=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){qa=ka.extend({},l.options,qa);const D=l.fileAccess,K={href:null};var v;let R;var A=Ia.test(oa.replace(hb,""));null!=oa&&"string"===typeof oa&&A||ka.error("Sanitize failure, invalid URI: "+ka.stringValue(oa));A=Wa.test(oa);(v=qa.baseURL)&&!A&&(oa.startsWith("/")||v.endsWith("/")||(oa="/"+oa),oa=v+oa);R=(v=oa.startsWith("file://"))||"file"===qa.mode||
"http"!==qa.mode&&!A&&D;v?oa=oa.slice(7):oa.startsWith("//")&&("file"===qa.defaultProtocol?(oa=oa.slice(2),R=!0):oa=(qa.defaultProtocol||"http")+":"+oa);Object.defineProperty(K,"localFile",{value:!!R});K.href=oa;qa.target&&(K.target=qa.target+"");qa.rel&&(K.rel=qa.rel+"");"image"===qa.context&&qa.crossOrigin&&(K.crossOrigin=qa.crossOrigin+"");return K})}function Xb(oa){return oa?qa=>new Promise((l,D)=>{oa.readFile(qa,(K,v)=>{K?D(K):l(v)})}):oc}function oc(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ka.error("No file system access.")})}
function zb(oa){return oa?function(qa,l){const D=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var K=ka.extend({},D.options.http,l);const v=l&&l.response;K=yield oa(qa,K);return K.ok?ka.isFunction(K[v])?K[v]():K.text():ka.error(K.status+""+K.statusText)})}:Ub}function Ub(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ka.error("No HTTP fetch method available.")})}function kc(oa,qa){if(!oa||!oa.length)return"unknown";const l=oa.length,D=Pb.length,K=Pb.map((v,
R)=>R+1);for(let v=0,R=0,A,W;v<l;++v)for(W=qa?oa[v][qa]:oa[v],A=0;A<D;++A)if(K[A]&&null!=W&&W===W&&!Pb[A](W)&&(K[A]=0,++R,R===Pb.length))return"string";return db[K.reduce((v,R)=>0===v?R:v,0)-1]}function Ea(oa,qa){return qa.reduce((l,D)=>{l[D]=kc(oa,D);return l},{})}function Za(oa){return new Function("d","return {"+oa.map(function(qa,l){return JSON.stringify(qa)+": d["+l+'] || ""'}).join(",")+"}")}function tb(oa,qa){var l=Za(oa);return function(D,K){return qa(l(D),K,oa)}}function rb(oa){var qa=Object.create(null),
l=[];oa.forEach(function(D){for(var K in D)K in qa||l.push(qa[K]=K)});return l}function pb(oa,qa){oa+="";var l=oa.length;return l<qa?Array(qa-l+1).join(0)+oa:oa}function vb(oa){function qa(A,W){function G(){if(N)return ba;if(ma)return ma=!1,U;var Ma,Pa=F,Xa;if(34===A.charCodeAt(Pa)){for(;F++<z&&34!==A.charCodeAt(F)||34===A.charCodeAt(++F););(Ma=F)>=z?N=!0:10===(Xa=A.charCodeAt(F++))?ma=!0:13===Xa&&(ma=!0,10===A.charCodeAt(F)&&++F);return A.slice(Pa+1,Ma-1).replace(/""/g,'"')}for(;F<z;){if(10===(Xa=
A.charCodeAt(Ma=F++)))ma=!0;else if(13===Xa)ma=!0,10===A.charCodeAt(F)&&++F;else if(Xa!==R)continue;return A.slice(Pa,Ma)}return N=!0,A.slice(Pa,z)}var w=[],z=A.length,F=0,V=0,ta,N=0>=z,ma=!1;10===A.charCodeAt(z-1)&&--z;for(13===A.charCodeAt(z-1)&&--z;(ta=G())!==ba;){for(var ya=[];ta!==U&&ta!==ba;)ya.push(ta),ta=G();W&&null==(ya=W(ya,V++))||w.push(ya)}return w}function l(A,W){return A.map(function(G){return W.map(function(w){return K(G[w])}).join(oa)})}function D(A){return A.map(K).join(oa)}function K(A){if(null==
A)A="";else{if(A instanceof Date){var W=A.getUTCHours();var G=A.getUTCMinutes(),w=A.getUTCSeconds(),z=A.getUTCMilliseconds();if(isNaN(A))A="Invalid Date";else{var F=A.getUTCFullYear();A=(0>F?"-"+pb(-F,6):9999<F?"+"+pb(F,6):pb(F,4))+"-"+pb(A.getUTCMonth()+1,2)+"-"+pb(A.getUTCDate(),2)+(z?"T"+pb(W,2)+":"+pb(G,2)+":"+pb(w,2)+"."+pb(z,3)+"Z":w?"T"+pb(W,2)+":"+pb(G,2)+":"+pb(w,2)+"Z":G||W?"T"+pb(W,2)+":"+pb(G,2)+"Z":"")}W=A}else W=v.test(A+="")?'"'+A.replace(/"/g,'""')+'"':A;A=W}return A}var v=new RegExp('["'+
oa+"\n\r]"),R=oa.charCodeAt(0);return{parse:function(A,W){var G,w;A=qa(A,function(z,F){if(G)return G(z,F-1);w=z;G=W?tb(z,W):Za(z)});A.columns=w||[];return A},parseRows:qa,format:function(A,W){null==W&&(W=rb(A));return[W.map(K).join(oa)].concat(l(A,W)).join("\n")},formatBody:function(A,W){null==W&&(W=rb(A));return l(A,W).join("\n")},formatRows:function(A){return A.map(D).join("\n")},formatRow:D,formatValue:K}}function gb(oa){const qa=function(l,D){const K={delimiter:oa};return ec(l,D?ka.extend(D,K):
K)};qa.responseType="text";return qa}function ec(oa,qa){qa.header&&(oa=qa.header.map(ka.stringValue).join(qa.delimiter)+"\n"+oa);return vb(qa.delimiter).parse(oa+"")}function sa(oa,qa){const l=qa&&qa.property?ka.field(qa.property):ka.identity;var D;if(D=ka.isObject(oa))D=!("function"===typeof r&&ka.isFunction(r.isBuffer)&&r.isBuffer(oa));D?(oa=l(oa),!ka.isArray(oa)&&ka.isIterable(oa)&&(oa=[...oa]),qa=qa&&qa.copy?JSON.parse(JSON.stringify(oa)):oa):qa=l(JSON.parse(oa));return qa}function ia(oa,qa){let l,
D,K,v;oa=sa(oa,qa);qa&&qa.feature?(l=Ya.feature,K=qa.feature):qa&&qa.mesh?(l=Ya.mesh,K=qa.mesh,v=ea[qa.filter]):ka.error("Missing TopoJSON feature or mesh parameter.");return(D=(D=oa.objects[K])?l(oa,D,v):ka.error("Invalid TopoJSON object: "+K))&&D.features||[D]}function Ba(oa,qa){return 1<arguments.length?(ja[oa]=qa,this):ka.hasOwnProperty(ja,oa)?ja[oa]:null}function Ra(oa,qa,l,D){if(oa.length){var K=ub.timeFormatDefaultLocale();l=l||K.timeParse;D=D||K.utcParse;K=oa.columns||Object.keys(oa[0]);var v,
R;"auto"===qa&&(qa=Ea(oa,K));K=Object.keys(qa);var A=K.map(F=>{var V=qa[F];if(V&&(V.startsWith("date:")||V.startsWith("utc:"))){F=V.split(/:(.+)?/,2);V=F[1];if("'"===V[0]&&"'"===V[V.length-1]||'"'===V[0]&&'"'===V[V.length-1])V=V.slice(1,-1);return("utc"===F[0]?D:l)(V)}if(!qb[V])throw Error("Illegal format pattern: "+F+":"+V);return qb[V]});var W=0;var G=oa.length;for(R=K.length;W<G;++W){var w=oa[W];for(v=0;v<R;++v){var z=K[v];w[z]=A[v](w[z])}}}}const Wa=/^(data:|([A-Za-z]+:)?\/\/)/,Ia=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,
hb=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,ab=oa=>!Number.isNaN(+oa)&&!(oa instanceof Date),qb={boolean:ka.toBoolean,integer:ka.toNumber,number:ka.toNumber,date:ka.toDate,string:ka.toString,unknown:ka.identity},Pb=[oa=>"true"===oa||"false"===oa||!0===oa||!1===oa,oa=>ab(oa)&&Number.isInteger(+oa),ab,oa=>!Number.isNaN(Date.parse(oa))],db=["boolean","integer","number","date"];var U={},ba={};ec.responseType="text";sa.responseType="json";const ea={interior:(oa,qa)=>oa!==qa,exterior:(oa,
qa)=>oa===qa};ia.responseType="json";const ja={dsv:ec,csv:gb(","),tsv:gb("\t"),json:sa,topojson:ia},La=function(oa,qa){return l=>({options:l||{},sanitize:bc,load:Yb,fileAccess:!!qa,file:Xb(qa),http:zb(oa)})}("undefined"!==typeof fetch&&fetch,null);h.format=ja;h.formats=Ba;h.inferType=kc;h.inferTypes=Ea;h.loader=La;h.read=function(oa,qa,l,D){qa=qa||{};const K=Ba(qa.type||"json");K||ka.error("Unknown data format type: "+qa.type);oa=K(oa,qa);qa.parse&&Ra(oa,qa.parse,l,D);ka.hasOwnProperty(oa,"columns")&&
delete oa.columns;return oa};h.responseType=function(oa){return(oa=Ba(oa))&&oa.responseType||"text"};h.typeParsers=qb})};
shadow$provide[29]=function(Db,mb,Cc,Va){(function(r,h){"object"===typeof Va&&"undefined"!==typeof Cc?h(Va,mb(21),mb(28),mb(24)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],h):(r="undefined"!==typeof globalThis?globalThis:r||self,h(r.vega={},r.vega,r.vega,r.vega))})(this,function(r,h,ka,Ya){function ub(v){const R=v||h.identity,A=[],W={};A.add=G=>{const w=R(G);W[w]||(W[w]=1,A.push(G));return A};A.remove=G=>{const w=R(G);W[w]&&(W[w]=0,G=A.indexOf(G),
0<=G&&A.splice(G,1));return A};return A}function Yb(v,R){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield R(v)}catch(A){v.error(A)}})}function bc(v){v=v===Object(v)?v:{data:v};if(!v[ba]){var R=ea++;v[ba]=R}return v}function Xb(v,R){for(const A in v)R[A]=v[A];return R}function oc(v){return v&&v.constructor===zb}function zb(){const v=[],R=[],A=[],W=[],G=[];let w=null,z=!1;return{constructor:zb,insert(F){F=h.array(F);const V=F.length;for(let ta=0;ta<V;++ta)v.push(F[ta]);return this},
remove(F){const V=h.isFunction(F)?W:R;F=h.array(F);const ta=F.length;for(let N=0;N<ta;++N)V.push(F[N]);return this},modify(F,V,ta){V={field:V,value:h.constant(ta)};h.isFunction(F)?(V.filter=F,G.push(V)):(V.tuple=F,A.push(V));return this},encode(F,V){h.isFunction(F)?G.push({filter:F,field:V}):A.push({tuple:F,field:V});return this},clean(F){w=F;return this},reflow(){z=!0;return this},pulse(F,V){function ta(Tb,X,Fa){Fa?Tb[X]=Fa(Tb):F.encode=X;z||(ma[Tb[ba]]=Tb)}const N={},ma={};let ya,Ma,Pa,Xa,sb,ib;
ya=0;for(Ma=V.length;ya<Ma;++ya)N[V[ya][ba]]=1;ya=0;for(Ma=R.length;ya<Ma;++ya)sb=R[ya],N[sb[ba]]=-1;ya=0;for(Ma=W.length;ya<Ma;++ya)Xa=W[ya],V.forEach(Tb=>{Xa(Tb)&&(N[Tb[ba]]=-1)});ya=0;for(Ma=v.length;ya<Ma;++ya)sb=v[ya],ib=sb[ba],N[ib]?N[ib]=1:F.add.push(bc(v[ya]));ya=0;for(Ma=V.length;ya<Ma;++ya)sb=V[ya],0>N[sb[ba]]&&F.rem.push(sb);ya=0;for(Ma=A.length;ya<Ma;++ya)Pa=A[ya],sb=Pa.tuple,Xa=Pa.field,ib=N[sb[ba]],0<ib&&(ta(sb,Xa,Pa.value),F.modifies(Xa));ya=0;for(Ma=G.length;ya<Ma;++ya)Pa=G[ya],Xa=
Pa.filter,V.forEach(Tb=>{Xa(Tb)&&0<N[Tb[ba]]&&ta(Tb,Pa.field,Pa.value)}),F.modifies(Pa.field);if(z)F.mod=R.length||W.length?V.filter(Tb=>0<N[Tb[ba]]):V.slice();else for(ib in ma)F.mod.push(ma[ib]);(w||null==w&&(R.length||W.length))&&F.clean(!0);return F}}}function Ub(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function kc(v,R,A,W){this.id=++ja;this.value=v;this.qrank=this.rank=this.stamp=-1;this.flags=0;R&&(this._update=R);A&&this.parameters(A,W)}function Ea(v){return function(R){const A=
this.flags;if(0===arguments.length)return!!(A&v);this.flags=R?A|v:A&~v;return this}}function Za(v,R,A){this.id=++oa;this.value=null;A&&(this.receive=A);v&&(this._filter=v);R&&(this._apply=R)}function tb(v,R,A){return new Za(v,R,A)}function rb(v){let R;const A=new Promise(W=>R=W);A.requests=0;A.done=()=>{0===--A.requests&&(v._pending=null,R(v))};return v._pending=A}function pb(v,R,A,W,G,w){const z=h.extend({},w,qa);let F;h.isFunction(A)||(A=h.constant(A));void 0===W?G=V=>v.touch(A(V)):h.isFunction(W)?
(F=new kc(null,W,G,!1),G=V=>{F.evaluate(V);V=A(V);const ta=F.value;oc(ta)?v.pulse(V,ta,w):v.update(V,ta,z)}):G=V=>v.update(A(V),W,z);R.apply(G)}function vb(v,R,A,W,G,w){void 0===W?R.targets().add(A):(w=w||{},W=new kc(null,gb(A,W),G,!1),W.modified(w.force),W.rank=R.rank,R.targets().add(W),A&&(W.skip(!0),W.value=A.value,W.targets().add(A),v.connect(A,[W])))}function gb(v,R){R=h.isFunction(R)?R:h.constant(R);return v?function(A,W){A=R(A,W);v.skip()||(v.skip(A!==this.value).value=A);return A}:R}function ec(v,
R,A){this.dataflow=v;this.stamp=null==R?-1:R;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=A||null}function sa(v,R){const A=[];h.visitArray(v,R,W=>A.push(W));return A}function ia(v,R){const A={};v.visit(R,W=>{A[W[ba]]=1});return W=>A[W[ba]]?null:W}function Ba(v,R){return v?(A,W)=>v(A,W)&&R(A,W):R}function Ra(v,R,A,W){let G=0;this.dataflow=v;this.stamp=R;this.fields=null;this.encode=W||null;this.pulses=A;for(const w of A)if(w.stamp===R){if(w.fields){v=this.fields||(this.fields={});
for(const z in w.fields)v[z]=1}w.changed(this.ADD)&&(G|=this.ADD);w.changed(this.REM)&&(G|=this.REM);w.changed(this.MOD)&&(G|=this.MOD)}this.changes=G}function Wa(v){v.error("Dataflow already running. Use runAsync() to chain invocations.");return v}function Ia(v,R){if(R&&R.stamp===v.stamp)return R;v=v.fork();R&&R!==l&&(v.source=R.source);return v}function hb(v){let R=[];return{clear:()=>R=[],size:()=>R.length,peek:()=>R[0],push:A=>{R.push(A);return ab(R,0,R.length-1,v)},pop:()=>{var A=R.pop();let W;
if(R.length){W=R[0];R[0]=A;A=R;var G=0;const w=G,z=A.length,F=A[G];let V=(G<<1)+1,ta;for(;V<z;)ta=V+1,ta<z&&0<=v(A[V],A[ta])&&(V=ta),A[G]=A[V],G=V,V=(G<<1)+1;A[G]=F;ab(A,w,G,v)}else W=A;return W}}}function ab(v,R,A,W){let G,w;const z=v[A];for(;A>R;)if(w=A-1>>1,G=v[w],0>W(z,G))v[A]=G,A=w;else break;return v[A]=z}function qb(){this.logger(h.logger());this.logLevel(h.Error);this._rank=this._clock=0;this._locale=Ya.defaultLocale();try{this._loader=ka.loader()}catch(v){}this._touched=ub(h.id);this._input=
{};this._pulse=null;this._heap=hb((v,R)=>v.qrank-R.qrank);this._postrun=[]}function Pb(v){return function(){return this._log[v].apply(this,arguments)}}function db(v,R){kc.call(this,v,null,R)}function U(v){v=v&&v.toLowerCase();return h.hasOwnProperty(K,v)?K[v]:null}const ba=Symbol("vega_id");let ea=1;Ub.prototype={set(v,R,A,W){const G=this[v],w=this["_:mod:_"];if(null!=R&&0<=R){if(G[R]!==A||W)G[R]=A,w[R+":"+v]=-1,w[v]=-1}else if(G!==A||W)this[v]=A,w[v]=h.isArray(A)?1+A.length:-1;return this},modified(v,
R){const A=this["_:mod:_"];if(!arguments.length){for(var W in A)if(A[W])return!0;return!1}if(h.isArray(v)){for(W=0;W<v.length;++W)if(A[v[W]])return!0;return!1}return null!=R&&0<=R?R+1<A[v]||!!A[R+":"+v]:!!A[v]},clear(){this["_:mod:_"]={};return this}};let ja=0;const La=new Ub;kc.prototype={targets(){return this._targets||(this._targets=ub(h.id))},set(v){return this.value!==v?(this.value=v,1):0},skip:Ea(1),modified:Ea(2),parameters(v,R,A){R=!1!==R;const W=this._argval=this._argval||new Ub,G=this._argops=
this._argops||[],w=[];let z,F,V,ta;const N=(ma,ya,Ma)=>{Ma instanceof kc?(Ma!==this&&(R&&Ma.targets().add(this),w.push(Ma)),G.push({op:Ma,name:ma,index:ya})):W.set(ma,ya,Ma)};for(z in v)if(F=v[z],"pulse"===z)h.array(F).forEach(ma=>{ma instanceof kc?ma!==this&&(ma.targets().add(this),w.push(ma)):h.error("Pulse parameters must be operator instances.")}),this.source=F;else if(h.isArray(F))for(W.set(z,-1,Array(V=F.length)),ta=0;ta<V;++ta)N(z,ta,F[ta]);else N(z,-1,F);this.marshall().clear();A&&(G.initonly=
!0);return w},marshall(v){const R=this._argval||La,A=this._argops;let W,G,w,z;if(A){const F=A.length;for(G=0;G<F;++G)W=A[G],w=W.op,z=w.modified()&&w.stamp===v,R.set(W.name,W.index,w.value,z);if(A.initonly){for(G=0;G<F;++G)W=A[G],W.op.targets().remove(this);this._update=this._argops=null}}return R},detach(){const v=this._argops;let R,A;if(v)for(R=0,A=v.length;R<A;++R){var W=v[R];W=W.op;W._targets&&W._targets.remove(this)}this.source=this.pulse=null},evaluate(v){var R=this._update;if(R){const A=this.marshall(v.stamp);
R=R.call(this,A,v);A.clear();if(R!==this.value)this.value=R;else if(!this.modified())return v.StopPropagation}},run(v){if(v.stamp<this.stamp)return v.StopPropagation;let R;this.skip()?(this.skip(!1),R=0):R=this.evaluate(v);return this.pulse=R||v}};let oa=0;Za.prototype={_filter:h.truthy,_apply:h.identity,targets(){return this._targets||(this._targets=ub(h.id))},consume(v){if(!arguments.length)return!!this._consume;this._consume=!!v;return this},receive(v){if(this._filter(v)){const R=this.value=this._apply(v),
A=this._targets,W=A?A.length:0;for(let G=0;G<W;++G)A[G].receive(R);this._consume&&(v.preventDefault(),v.stopPropagation())}},filter(v){v=tb(v);this.targets().add(v);return v},apply(v){v=tb(null,v);this.targets().add(v);return v},merge(){const v=tb();this.targets().add(v);for(let R=0,A=arguments.length;R<A;++R)arguments[R].targets().add(v);return v},throttle(v){let R=-1;return this.filter(()=>{const A=Date.now();return A-R>v?(R=A,1):0})},debounce(v){const R=tb();this.targets().add(tb(null,null,h.debounce(v,
A=>{const W=A.dataflow;R.receive(A);W&&W.run&&W.run()})));return R},between(v,R){let A=!1;v.targets().add(tb(null,null,()=>A=!0));R.targets().add(tb(null,null,()=>A=!1));return this.filter(()=>A)},detach(){this._filter=h.truthy;this._targets=null}};const qa={skip:!0},l={};ec.prototype={StopPropagation:l,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(v){return(new ec(this.dataflow)).init(this,v)},clone(){const v=this.fork(7);v.add=v.add.slice();v.rem=
v.rem.slice();v.mod=v.mod.slice();v.source&&(v.source=v.source.slice());return v.materialize(23)},addAll(){let v=this;v.source&&v.add!==v.rem&&(v.rem.length||v.source.length!==v.add.length)&&(v=(new ec(this.dataflow)).init(this),v.add=v.source,v.rem=[]);return v},init(v,R){this.stamp=v.stamp;this.encode=v.encode;!v.fields||R&64||(this.fields=v.fields);R&1?(this.addF=v.addF,this.add=v.add):(this.addF=null,this.add=[]);R&2?(this.remF=v.remF,this.rem=v.rem):(this.remF=null,this.rem=[]);R&4?(this.modF=
v.modF,this.mod=v.mod):(this.modF=null,this.mod=[]);R&32?this.source=this.srcF=null:(this.srcF=v.srcF,this.source=v.source,v.cleans&&(this.cleans=v.cleans));return this},runAfter(v){this.dataflow.runAfter(v)},changed(v){v=v||7;return v&1&&this.add.length||v&2&&this.rem.length||v&4&&this.mod.length},reflow(v){if(v)return this.fork(7).reflow();v=this.add.length;const R=this.source&&this.source.length;R&&R!==v&&(this.mod=this.source,v&&this.filter(4,ia(this,1)));return this},clean(v){return arguments.length?
(this.cleans=!!v,this):this.cleans},modifies(v){const R=this.fields||(this.fields={});h.isArray(v)?v.forEach(A=>R[A]=!0):R[v]=!0;return this},modified(v,R){const A=this.fields;return(R||this.mod.length)&&A?arguments.length?h.isArray(v)?v.some(W=>A[W]):A[v]:!!A:!1},filter(v,R){v&1&&(this.addF=Ba(this.addF,R));v&2&&(this.remF=Ba(this.remF,R));v&4&&(this.modF=Ba(this.modF,R));v&16&&(this.srcF=Ba(this.srcF,R));return this},materialize(v){v=v||7;v&1&&this.addF&&(this.add=sa(this.add,this.addF),this.addF=
null);v&2&&this.remF&&(this.rem=sa(this.rem,this.remF),this.remF=null);v&4&&this.modF&&(this.mod=sa(this.mod,this.modF),this.modF=null);v&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(v,R){if(v&16)return h.visitArray(this.source,this.srcF,R),this;v&1&&h.visitArray(this.add,this.addF,R);v&2&&h.visitArray(this.rem,this.remF,R);v&4&&h.visitArray(this.mod,this.modF,R);const A=this.source;v&8&&A&&(v=this.add.length+this.mod.length,v!==A.length&&(v?h.visitArray(A,
ia(this,5),R):h.visitArray(A,this.srcF,R)));return this}};h.inherits(Ra,ec,{fork(v){const R=(new ec(this.dataflow)).init(this,v&this.NO_FIELDS);void 0!==v&&(v&R.ADD&&this.visit(R.ADD,A=>R.add.push(A)),v&R.REM&&this.visit(R.REM,A=>R.rem.push(A)),v&R.MOD&&this.visit(R.MOD,A=>R.mod.push(A)));return R},changed(v){return this.changes&v},modified(v){const R=this.fields;return R&&this.changes&this.MOD?h.isArray(v)?v.some(A=>R[A]):R[v]:0},filter(){h.error("MultiPulse does not support filtering.")},materialize(){h.error("MultiPulse does not support materialization.")},
visit(v,R){const A=this.pulses,W=A.length;let G=0;if(v&this.SOURCE)for(;G<W;++G)A[G].visit(v,R);else for(;G<W;++G)A[G].stamp===this.stamp&&A[G].visit(v,R);return this}});const D={skip:!1,force:!1};qb.prototype={stamp(){return this._clock},loader(v){return arguments.length?(this._loader=v,this):this._loader},locale(v){return arguments.length?(this._locale=v,this):this._locale},logger(v){return arguments.length?(this._log=v,this):this._log},error:Pb("error"),warn:Pb("warn"),info:Pb("info"),debug:Pb("debug"),
logLevel:Pb("level"),cleanThreshold:1E4,add:function(v,R,A,W){let G=1;v instanceof kc||(v&&v.prototype instanceof kc?v=new v:h.isFunction(v)?v=new kc(null,v):(G=0,v=new kc(v,R)));this.rank(v);G&&(W=A,A=R);A&&this.connect(v,v.parameters(A,W));this.touch(v);return v},connect:function(v,R){const A=v.rank,W=R.length;for(let G=0;G<W;++G)if(A<R[G].rank){this.rerank(v);break}},rank:function(v){v.rank=++this._rank},rerank:function(v){const R=[v];let A,W,G;for(;R.length;)if(this.rank(A=R.pop()),W=A._targets)for(G=
W.length;0<=--G;)R.push(A=W[G]),A===v&&h.error("Cycle detected in dataflow graph.")},pulse:function(v,R,A){this.touch(v,A||D);A=new ec(this,this._clock+(this._pulse?0:1));const W=v.pulse&&v.pulse.source||[];A.target=v;this._input[v.id]=R.pulse(A,W);return this},touch:function(v,R){R=R||D;this._pulse?this._enqueue(v):this._touched.add(v);R.skip&&v.skip(!0);return this},update:function(v,R,A){A=A||D;(v.set(R)||A.force)&&this.touch(v,A);return this},changeset:zb,ingest:function(v,R,A){R=this.parse(R,
A);return this.pulse(v,this.changeset().insert(R))},parse:function(v,R){const A=this.locale();return ka.read(v,R,A.timeParse,A.utcParse)},preload:function(v,R,A){const W=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const G=W._pending||rb(W);G.requests+=1;const w=yield W.request(R,A);W.pulse(v,W.changeset().remove(h.truthy).insert(w.data||[]));G.done();return w})},request:function(v,R){const A=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let W=0,G;try{G=
yield A.loader().load(v,{context:"dataflow",response:ka.responseType(R&&R.type)});try{G=A.parse(G,R)}catch(w){W=-2,A.warn("Data ingestion failed",v,w)}}catch(w){W=-1,A.warn("Loading failed",v,w)}return{data:G,status:W}})},events:function(v,R,A,W){const G=this,w=tb(A,W);A=function(z){z.dataflow=G;try{w.receive(z)}catch(F){G.error(F)}finally{G.run()}};v="string"===typeof v&&"undefined"!==typeof document?document.querySelectorAll(v):h.array(v);W=v.length;for(let z=0;z<W;++z)v[z].addEventListener(R,A);
return w},on:function(v,R,A,W,G){(v instanceof kc?vb:pb)(this,v,R,A,W,G);return this},evaluate:function(v,R,A){const W=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const G=[];if(W._pulse)return Wa(W);W._pending&&(yield W._pending);R&&(yield Yb(W,R));if(!W._touched.length)return W.debug("Dataflow invoked, but nothing to do."),W;var w=++W._clock;W._pulse=new ec(W,w,v);W._touched.forEach(N=>W._enqueue(N,!0));W._touched=ub(h.id);var z=0;let F,V,ta;try{for(;0<W._heap.size();)F=
W._heap.pop(),F.rank!==F.qrank?W._enqueue(F,!0):(V=F.run(W._getPulse(F,v)),V.then?V=yield V:V.async&&(G.push(V.async),V=l),V!==l&&F._targets&&F._targets.forEach(N=>W._enqueue(N)),++z)}catch(N){W._heap.clear(),ta=N}W._input={};W._pulse=null;W.debug(`Pulse ${w}: ${z} operators`);ta&&(W._postrun=[],W.error(ta));if(W._postrun.length)for(w=W._postrun.sort((N,ma)=>ma.priority-N.priority),W._postrun=[],z=0;z<w.length;++z)yield Yb(W,w[z].callback);A&&(yield Yb(W,A));G.length&&Promise.all(G).then(N=>W.runAsync(null,
()=>{N.forEach(ma=>{try{ma(W)}catch(ya){W.error(ya)}})}));return W})},run:function(v,R,A){return this._pulse?Wa(this):(this.evaluate(v,R,A),this)},runAsync:function(v,R,A){const W=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;W._running;)yield W._running;const G=()=>W._running=null;(W._running=W.evaluate(v,R,A)).then(G,G);return W._running})},runAfter:function(v,R,A){if(this._pulse||R)this._postrun.push({priority:A||0,callback:v});else try{v(this)}catch(W){this.error(W)}},
_enqueue:function(v,R){const A=v.stamp<this._clock;A&&(v.stamp=this._clock);if(A||R)v.qrank=v.rank,this._heap.push(v)},_getPulse:function(v,R){const A=v.source,W=this._clock;return A&&h.isArray(A)?new Ra(this,W,A.map(G=>G.pulse),R):this._input[v.id]||Ia(this._pulse,A&&A.pulse)}};h.inherits(db,kc,{run(v){if(v.stamp<this.stamp)return v.StopPropagation;let R;this.skip()?this.skip(!1):R=this.evaluate(v);R=R||v;R.then?R=R.then(A=>this.pulse=A):R!==v.StopPropagation&&(this.pulse=R);return R},evaluate(v){const R=
this.marshall(v.stamp);v=this.transform(R,v);R.clear();return v},transform(){}});const K={};r.Dataflow=qb;r.EventStream=Za;r.MultiPulse=Ra;r.Operator=kc;r.Parameters=Ub;r.Pulse=ec;r.Transform=db;r.UniqueList=ub;r.asyncCallback=Yb;r.changeset=zb;r.definition=function(v){return(v=U(v))&&v.Definition||null};r.derive=function(v){return Xb(v,bc({}))};r.ingest=bc;r.isChangeSet=oc;r.isTuple=function(v){return!(!v||!v[ba])};r.rederive=Xb;r.replace=function(v,R){R[ba]=v[ba];return R};r.stableCompare=function(v,
R){return v?R?(A,W)=>v(A,W)||R(A)[ba]-R(W)[ba]:(A,W)=>v(A,W)||A[ba]-W[ba]:null};r.transform=U;r.transforms=K;r.tupleid=function(v){return v[ba]}})};
shadow$provide[30]=function(Db,mb,Cc,Va){(function(r,h){"object"===typeof Va&&"undefined"!==typeof Cc?h(Va):"function"===typeof define&&define.amd?define(["exports"],h):(r="undefined"!==typeof globalThis?globalThis:r||self,h(r.vega={}))})(this,function(r){function*h(A,W){if(null==W)for(var G of A)null!=G&&""!==G&&(G=+G)>=G&&(yield G);else{G=-1;for(let w of A)w=W(w,++G,A),null!=w&&""!==w&&(w=+w)>=w&&(yield w)}}function ka(A,W){return null==A||null==W?NaN:A<W?-1:A>W?1:A>=W?0:NaN}function Ya(A){return null===
A?NaN:+A}function*ub(A,W){if(void 0===W)for(var G of A)null!=G&&(G=+G)>=G&&(yield G);else{G=-1;for(let w of A)null!=(w=W(w,++G,A))&&(w=+w)>=w&&(yield w)}}function Yb(A=ka){if(A===ka)return bc;if("function"!==typeof A)throw new TypeError("compare is not a function");return(W,G)=>{const w=A(W,G);return w||0===w?w:(0===A(G,G))-(0===A(W,W))}}function bc(A,W){return(null==A||!(A>=A))-(null==W||!(W>=W))||(A<W?-1:A>W?1:0)}function Xb(A,W){let G;if(void 0===W)for(var w of A)null!=w&&(G<w||void 0===G&&w>=
w)&&(G=w);else{w=-1;for(let z of A)null!=(z=W(z,++w,A))&&(G<z||void 0===G&&z>=z)&&(G=z)}return G}function oc(A,W){let G;if(void 0===W)for(var w of A)null!=w&&(G>w||void 0===G&&w>=w)&&(G=w);else{w=-1;for(let z of A)null!=(z=W(z,++w,A))&&(G>z||void 0===G&&z>=z)&&(G=z)}return G}function zb(A,W,G=0,w=Infinity,z){W=Math.floor(W);G=Math.floor(Math.max(0,G));w=Math.floor(Math.min(A.length-1,w));if(!(G<=W&&W<=w))return A;for(z=void 0===z?bc:Yb(z);w>G;){if(600<w-G){var F=w-G+1,V=W-G+1,ta=Math.log(F),N=.5*
Math.exp(2*ta/3);ta=.5*Math.sqrt(ta*N*(F-N)/F)*(0>V-F/2?-1:1);zb(A,W,Math.max(G,Math.floor(W-V*N/F+ta)),Math.min(w,Math.floor(W+(F-V)*N/F+ta)),z)}F=A[W];V=G;N=w;Ub(A,G,W);for(0<z(A[w],F)&&Ub(A,G,w);V<N;){Ub(A,V,N);++V;for(--N;0>z(A[V],F);)++V;for(;0<z(A[N],F);)--N}0===z(A[G],F)?Ub(A,G,N):(++N,Ub(A,N,w));N<=W&&(G=N+1);W<=N&&(w=N-1)}return A}function Ub(A,W,G){const w=A[W];A[W]=A[G];A[G]=w}function kc(A,W,G){A=Float64Array.from(ub(A,G));if((G=A.length)&&!isNaN(W=+W)){if(0>=W||2>G)return oc(A);if(1<=
W)return Xb(A);W*=G-1;G=Math.floor(W);var w=Xb(zb(A,G).subarray(0,G+1));A=oc(A.subarray(G+1));return w+(A-w)*(W-G)}}function Ea(A,W,G=Ya){if((w=A.length)&&!isNaN(W=+W)){if(0>=W||2>w)return+G(A[0],0,A);if(1<=W)return+G(A[w-1],w-1,A);var w;W*=w-1;w=Math.floor(W);var z=+G(A[w],w,A);A=+G(A[w+1],w+1,A);return z+(A-z)*(W-w)}}function Za(A,W,G){const w=Float64Array.from(h(A,G));w.sort(ka);return W.map(z=>Ea(w,z))}function tb(A,W){return Za(A,[.25,.5,.75],W)}function rb(A,W){const G=A.length;{var w=0;let F,
V=0,ta=0;if(void 0===W)for(var z of A)null!=z&&(z=+z)>=z&&(F=z-V,V+=F/++w,ta+=F*(z-V));else{z=-1;for(let N of A)null!=(N=W(N,++z,A))&&(N=+N)>=N&&(F=N-V,V+=F/++w,ta+=F*(N-V))}w=1<w?ta/(w-1):void 0}w=w?Math.sqrt(w):w;A=tb(A,W);return 1.06*(Math.min(w,(A[2]-A[0])/1.34)||w||Math.abs(A[0])||1)*Math.pow(G,-.2)}function pb(A,W){const G=A.length;let w=0,z=1,F,V;for(;A[w]===A[z];)++z;for(;z<G;){for(F=z+1;A[z]===A[F];)++F;if(A[z]-A[z-1]<W){for(V=z+(w+F-z-z>>1);V<z;)A[V++]=A[z];for(;V>z;)A[V--]=A[w]}w=z;z=F}return A}
function vb(A,W){A=A||0;W=null==W?1:W;let G,w;if(v===v)G=v,v=NaN;else{do{G=2*r.random()-1;w=2*r.random()-1;var z=G*G+w*w}while(0===z||1<z);z=Math.sqrt(-2*Math.log(z)/z);G*=z;v=w*z}return A+G*W}function gb(A,W,G){G=null==G?1:G;A=(A-(W||0))/G;return Math.exp(-.5*A*A)/(G*D)}function ec(A,W,G){A=(A-(W||0))/(null==G?1:G);W=Math.abs(A);37<W?G=0:(G=Math.exp(-W*W/2),7.07106781186547>W?(G*=(((((.0352624965998911*W+.700383064443688)*W+6.37396220353165)*W+33.912866078383)*W+112.079291497871)*W+221.213596169931)*
W+220.206867912376,G/=((((((.0883883476483184*W+1.75566716318264)*W+16.064177579207)*W+86.7807322029461)*W+296.564248779674)*W+637.333633378831)*W+793.826512519948)*W+440.413735824752):G=G/(W+1/(W+2/(W+3/(W+4/(W+.65)))))/2.506628274631);return 0<A?1-G:G}function sa(A,W,G){if(0>A||1<A)return NaN;A=2*A-1;var w=-Math.log((1-A)*(1+A));6.25>w?(w-=3.125,w=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+
(4.2347877827932404E-7+(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w):16>w?(w=Math.sqrt(w)-3.25,w=3.0838856104922208+(1.0052589676941592+
(.005370914553590064+(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w):Number.isFinite(w)?(w=Math.sqrt(w)-5,w=4.849906401408584+(1.0103004648645344+
(-1.3871931833623122E-4+(-2.1503011930044477E-4+(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w)*w):w=Infinity;return(W||0)+(null==G?1:G)*K*w*A}function ia(A,W){let G,w;const z={mean(F){return arguments.length?(G=
F||0,z):G},stdev(F){return arguments.length?(w=null==F?1:F,z):w},sample:()=>vb(G,w),pdf:F=>gb(F,G,w),cdf:F=>ec(F,G,w),icdf:F=>sa(F,G,w)};return z.mean(A).stdev(W)}function Ba(A,W){W=null==W?1:W;return Math.exp((A||0)+vb()*W)}function Ra(A,W,G){if(0>=A)return 0;G=null==G?1:G;W=(Math.log(A)-(W||0))/G;return Math.exp(-.5*W*W)/(G*D*A)}function Wa(A,W,G){return ec(Math.log(A),W,G)}function Ia(A,W,G){return Math.exp(sa(A,W,G))}function hb(A,W){null==W&&(W=null==A?1:A,A=0);return A+(W-A)*r.random()}function ab(A,
W,G){null==G&&(G=null==W?1:W,W=0);return A>=W&&A<=G?1/(G-W):0}function qb(A,W,G){null==G&&(G=null==W?1:W,W=0);return A<W?0:A>G?1:(A-W)/(G-W)}function Pb(A,W,G){null==G&&(G=null==W?1:W,W=0);return 0<=A&&1>=A?W+A*(G-W):NaN}function db(A,W,G){let w=0,z=0;for(const F of A)A=G(F),null==W(F)||null==A||isNaN(A)||(w+=(A-w)/++z);return{coef:[w],predict:()=>w,rSquared:0}}function U(A,W,G,w){w-=A*A;G=1E-24>Math.abs(w)?0:(G-A*W)/w;return[W-G*A,G]}function ba(A,W,G,w){A=A.filter(Ma=>{let Pa=W(Ma);Ma=G(Ma);return null!=
Pa&&(Pa=+Pa)>=Pa&&null!=Ma&&(Ma=+Ma)>=Ma});w&&A.sort((Ma,Pa)=>W(Ma)-W(Pa));w=A.length;const z=new Float64Array(w),F=new Float64Array(w);let V=0,ta=0,N=0,ma,ya;for(ya of A)z[V]=A=+W(ya),F[V]=ma=+G(ya),++V,ta+=(A-ta)/V,N+=(ma-N)/V;for(V=0;V<w;++V)z[V]-=ta,F[V]-=N;return[z,F,ta,N]}function ea(A,W,G,w){let z=-1,F;for(const V of A)A=W(V),F=G(V),null!=A&&(A=+A)>=A&&null!=F&&(F=+F)>=F&&w(A,F,++z)}function ja(A,W,G,w,z){let F=0,V=0;ea(A,W,G,(ta,N)=>{ta=N-z(ta);N-=w;F+=ta*ta;V+=N*N});return 1-F/V}function La(A,
W,G){let w=0,z=0,F=0,V=0,ta=0;ea(A,W,G,(ya,Ma)=>{++ta;w+=(ya-w)/ta;z+=(Ma-z)/ta;F+=(ya*Ma-F)/ta;V+=(ya*ya-V)/ta});const N=U(w,z,F,V),ma=ya=>N[0]+N[1]*ya;return{coef:N,predict:ma,rSquared:ja(A,W,G,z,ma)}}function oa(A,W,G){const [w,z,F,V]=ba(A,W,G);var ta=w.length,N=0;let ma=0;var ya=0;let Ma=0,Pa=0,Xa,sb,ib,Tb;for(Xa=0;Xa<ta;)sb=w[Xa],ib=z[Xa++],Tb=sb*sb,N+=(Tb-N)/Xa,ma+=(Tb*sb-ma)/Xa,ya+=(Tb*Tb-ya)/Xa,Ma+=(sb*ib-Ma)/Xa,Pa+=(Tb*ib-Pa)/Xa;ta=ya-N*N;ya=N*ta-ma*ma;const X=(Pa*N-Ma*ma)/ya,Fa=(Ma*ta-Pa*
ma)/ya,Kb=-X*N;N=qc=>{qc-=F;return X*qc*qc+Fa*qc+Kb+V};return{coef:[Kb-Fa*F+X*F*F+V,Fa-2*X*F,X],predict:N,rSquared:ja(A,W,G,V,N)}}function qa(A,W,G,w){const z=Array(A);let F,V,ta;for(F=0;F<A;++F)z[F]=0;for(F=A-1;0<=F;--F)for(V=W[F],ta=1,z[F]+=V,A=1;A<=F;++A)ta*=(F+1-A)/A,z[F-A]+=V*Math.pow(G,A)*ta;z[0]+=w;return z}function l(A){const W=A.length-1,G=[];let w,z,F,V,ta;for(w=0;w<W;++w){V=w;for(z=w+1;z<W;++z)Math.abs(A[w][z])>Math.abs(A[w][V])&&(V=z);for(F=w;F<W+1;++F)ta=A[F][w],A[F][w]=A[F][V],A[F][V]=
ta;for(z=w+1;z<W;++z)for(F=W;F>=w;F--)A[F][z]-=A[F][w]*A[w][z]/A[w][w]}for(z=W-1;0<=z;--z){ta=0;for(F=z+1;F<W;++F)ta+=A[F][z]*G[F];G[z]=(A[W][z]-ta)/A[z][z]}return G}r.random=Math.random;const D=Math.sqrt(2*Math.PI),K=Math.SQRT2;let v=NaN;const R=.5*Math.PI/180;r.bandwidthNRD=rb;r.bin=function(A){var W=A.maxbins||20;const G=A.base||10,w=Math.log(G),z=A.divide||[5,2];let F=A.extent[0],V=A.extent[1];let ta,N,ma,ya;const Ma=A.span||V-F||Math.abs(F)||1;if(A.step)var Pa=A.step;else if(A.steps){N=Ma/W;
ma=0;for(ya=A.steps.length;ma<ya&&A.steps[ma]<N;++ma);Pa=A.steps[Math.max(0,ma-1)]}else{Pa=Math.ceil(Math.log(W)/w);ta=A.minstep||0;for(Pa=Math.max(ta,Math.pow(G,Math.round(Math.log(Ma)/w)-Pa));Math.ceil(Ma/Pa)>W;)Pa*=G;ma=0;for(ya=z.length;ma<ya;++ma)N=Pa/z[ma],N>=ta&&Ma/N<=W&&(Pa=N)}N=Math.log(Pa);W=Math.pow(G,-(0<=N?0:~~(-N/w)+1)-1);if(A.nice||void 0===A.nice)N=Math.floor(F/Pa+W)*Pa,F=F<N?N-Pa:N,V=Math.ceil(V/Pa)*Pa;return{start:F,stop:V===F?F+Pa:V,step:Pa}};r.bootstrapCI=function(A,W,G,w){if(!A.length)return[void 0,
void 0];A=Float64Array.from(h(A,w));w=A.length;let z,F,V,ta;V=0;for(ta=Array(W);V<W;++V){for(F=z=0;F<w;++F)z+=A[~~(r.random()*w)];ta[V]=z/w}ta.sort(ka);return[kc(ta,G/2),kc(ta,1-G/2)]};r.cumulativeLogNormal=Wa;r.cumulativeNormal=ec;r.cumulativeUniform=qb;r.densityLogNormal=Ra;r.densityNormal=gb;r.densityUniform=ab;r.dotbin=function(A,W,G,w){w=w||(Pa=>Pa);const z=A.length,F=new Float64Array(z);let V=0,ta=1,N=w(A[0]),ma=N,ya=N+W,Ma;for(;ta<z;++ta){Ma=w(A[ta]);if(Ma>=ya){for(ma=(N+ma)/2;V<ta;++V)F[V]=
ma;ya=Ma+W;N=Ma}ma=Ma}for(ma=(N+ma)/2;V<ta;++V)F[V]=ma;return G?pb(F,W+W/4):F};r.quantileLogNormal=Ia;r.quantileNormal=sa;r.quantileUniform=Pb;r.quantiles=Za;r.quartiles=tb;r.randomInteger=function(A,W){null==W&&(W=A,A=0);let G,w,z;const F={min(V){return arguments.length?(G=V||0,z=w-G,F):G},max(V){return arguments.length?(w=V||0,z=w-G,F):w},sample(){return G+Math.floor(z*r.random())},pdf(V){return V===Math.floor(V)&&V>=G&&V<w?1/z:0},cdf(V){V=Math.floor(V);return V<G?0:V>=w?1:(V-G+1)/z},icdf(V){return 0<=
V&&1>=V?G-1+Math.floor(V*z):NaN}};return F.min(A).max(W)};r.randomKDE=function(A,W){const G=ia();let w=0;const z={data(F){return arguments.length?(w=(A=F)?F.length:0,z.bandwidth(W)):A},bandwidth(F){if(!arguments.length)return W;W=F;!W&&A&&(W=rb(A));return z},sample(){return A[~~(r.random()*w)]+W*G.sample()},pdf(F){let V=0,ta=0;for(;ta<w;++ta)V+=G.pdf((F-A[ta])/W);return V/W/w},cdf(F){let V=0,ta=0;for(;ta<w;++ta)V+=G.cdf((F-A[ta])/W);return V/w},icdf(){throw Error("KDE icdf not supported.");}};return z.data(A)};
r.randomLCG=function(A){return function(){A=(1103515245*A+12345)%2147483647;return A/2147483647}};r.randomLogNormal=function(A,W){let G,w;const z={mean(F){return arguments.length?(G=F||0,z):G},stdev(F){return arguments.length?(w=null==F?1:F,z):w},sample:()=>Ba(G,w),pdf:F=>Ra(F,G,w),cdf:F=>Wa(F,G,w),icdf:F=>Ia(F,G,w)};return z.mean(A).stdev(W)};r.randomMixture=function(A,W){let G=0,w;const z={weights(F){if(arguments.length){var V=W=F||[];const ta=[];let N=0,ma;for(ma=0;ma<G;++ma)N+=ta[ma]=null==V[ma]?
1:+V[ma];for(ma=0;ma<G;++ma)ta[ma]/=N;w=ta;return z}return W},distributions(F){return arguments.length?(F?(G=F.length,A=F):(G=0,A=[]),z.weights(W)):A},sample(){const F=r.random();let V=A[G-1],ta=w[0],N=0;for(;N<G-1;ta+=w[++N])if(F<ta){V=A[N];break}return V.sample()},pdf(F){let V=0,ta=0;for(;ta<G;++ta)V+=w[ta]*A[ta].pdf(F);return V},cdf(F){let V=0,ta=0;for(;ta<G;++ta)V+=w[ta]*A[ta].cdf(F);return V},icdf(){throw Error("Mixture icdf not supported.");}};return z.distributions(A).weights(W)};r.randomNormal=
ia;r.randomUniform=function(A,W){let G,w;const z={min(F){return arguments.length?(G=F||0,z):G},max(F){return arguments.length?(w=null==F?1:F,z):w},sample:()=>hb(G,w),pdf:F=>ab(F,G,w),cdf:F=>qb(F,G,w),icdf:F=>Pb(F,G,w)};null==W&&(W=null==A?1:A,A=0);return z.min(A).max(W)};r.regressionConstant=db;r.regressionExp=function(A,W,G){const [w,,z,F]=ba(A,W,G);let V=0,ta=0,N=0,ma=0,ya=0,Ma,Pa,Xa;ea(A,W,G,(X,Fa)=>{Ma=w[ya++];Pa=Math.log(Fa);Xa=Ma*Fa;V+=(Fa*Pa-V)/ya;ta+=(Xa-ta)/ya;N+=(Xa*Pa-N)/ya;ma+=(Ma*Xa-
ma)/ya});const [sb,ib]=U(ta/F,V/F,N/F,ma/F),Tb=X=>Math.exp(sb+ib*(X-z));return{coef:[Math.exp(sb-ib*z),ib],predict:Tb,rSquared:ja(A,W,G,F,Tb)}};r.regressionLinear=La;r.regressionLoess=function(A,W,G,w){const [z,F,V,ta]=ba(A,W,G,!0);A=z.length;W=Math.max(2,~~(w*A));w=new Float64Array(A);G=new Float64Array(A);var N=(new Float64Array(A)).fill(1);for(var ma=-1;2>=++ma;){var ya=[0,W-1];for(let Kb=0;Kb<A;++Kb){var Ma=z[Kb],Pa=ya[0],Xa=ya[1],sb=0,ib=0,Tb=0,X=0;let qc=0;const $b=1/Math.abs(z[Ma-z[Pa]>z[Xa]-
Ma?Pa:Xa]-Ma||1);for(;Pa<=Xa;++Pa){const wc=z[Pa],fd=F[Pa];var Fa=Math.abs(Ma-wc)*$b;const ra=(Fa=1-Fa*Fa*Fa)*Fa*Fa*N[Pa];Fa=wc*ra;sb+=ra;ib+=Fa;Tb+=fd*ra;X+=fd*Fa;qc+=wc*Fa}const [Mb,Qb]=U(ib/sb,Tb/sb,X/sb,qc/sb);w[Kb]=Mb+Qb*Ma;G[Kb]=Math.abs(F[Kb]-w[Kb]);Ma=z;Xa=Kb+1;sb=ya;ib=Ma[Xa];Tb=sb[0];X=sb[1]+1;if(!(X>=Ma.length))for(;Xa>Tb&&Ma[X]-ib<=ib-Ma[Tb];)sb[0]=++Tb,sb[1]=X,++X}if(2===ma)break;ya=kc(G,.5,void 0);if(1E-12>Math.abs(ya))break;for(let Kb=0,qc,$b;Kb<A;++Kb)qc=G[Kb]/(6*ya),N[Kb]=1<=qc?1E-12:
($b=1-qc*qc)*$b}A=z.length;W=[];N=G=0;for(ma=[];G<A;++G)ya=z[G]+V,ma[0]===ya?ma[1]+=(w[G]-ma[1])/++N:(N=0,ma[1]+=ta,ma=[ya,w[G]],W.push(ma));ma[1]+=ta;return W};r.regressionLog=function(A,W,G){let w=0,z=0,F=0,V=0,ta=0;ea(A,W,G,(ya,Ma)=>{++ta;ya=Math.log(ya);w+=(ya-w)/ta;z+=(Ma-z)/ta;F+=(ya*Ma-F)/ta;V+=(ya*ya-V)/ta});const N=U(w,z,F,V),ma=ya=>N[0]+N[1]*Math.log(ya);return{coef:N,predict:ma,rSquared:ja(A,W,G,z,ma)}};r.regressionPoly=function(A,W,G,w){if(0===w)return db(A,W,G);if(1===w)return La(A,W,
G);if(2===w)return oa(A,W,G);const [z,F,V,ta]=ba(A,W,G);var N=z.length;const ma=[],ya=[],Ma=w+1;let Pa,Xa,sb,ib;for(Pa=0;Pa<Ma;++Pa){for(sb=Xa=0;Xa<N;++Xa)sb+=Math.pow(z[Xa],Pa)*F[Xa];ma.push(sb);ib=new Float64Array(Ma);for(w=0;w<Ma;++w){for(sb=Xa=0;Xa<N;++Xa)sb+=Math.pow(z[Xa],Pa+w);ib[w]=sb}ya.push(ib)}ya.push(ma);const Tb=l(ya);N=X=>{X-=V;let Fa=ta+Tb[0]+Tb[1]*X+Tb[2]*X*X;for(Pa=3;Pa<Ma;++Pa)Fa+=Tb[Pa]*Math.pow(X,Pa);return Fa};return{coef:qa(Ma,Tb,-V,ta),predict:N,rSquared:ja(A,W,G,ta,N)}};r.regressionPow=
function(A,W,G){let w=0,z=0,F=0,V=0,ta=0,N=0;ea(A,W,G,(Ma,Pa)=>{Ma=Math.log(Ma);const Xa=Math.log(Pa);++N;w+=(Ma-w)/N;z+=(Xa-z)/N;F+=(Ma*Xa-F)/N;V+=(Ma*Ma-V)/N;ta+=(Pa-ta)/N});const ma=U(w,z,F,V),ya=Ma=>ma[0]*Math.pow(Ma,ma[1]);ma[0]=Math.exp(ma[0]);return{coef:ma,predict:ya,rSquared:ja(A,W,G,ta,ya)}};r.regressionQuad=oa;r.sampleCurve=function(A,W,G,w){G=G||25;w=Math.max(G,w||200);var z=W[0],F=W[1],V=F-z,ta=V/w;W=[[z,A(z)]];var N=[];if(G===w){for(var ma=1;ma<w;++ma){ta=W;N=ta.push;var ya=z+ma/G*V;
ya=[ya,A(ya)];N.call(ta,ya)}W.push([F,A(F)]);return W}N.push([F,A(F)]);for(ma=G;0<--ma;)w=N,F=w.push,ya=z+ma/G*V,ya=[ya,A(ya)],F.call(w,ya);G=W[0];z=N[N.length-1];V=1/V;w=F=G[1];ma=N.length;for(ya=0;ya<ma;++ya){const Ma=N[ya][1];Ma<w&&(w=Ma);Ma>F&&(F=Ma)}for(w=1/(F-w);z;)F=(G[0]+z[0])/2,F=[F,A(F)],F[0]-G[0]>=ta&&Math.abs(Math.atan2(w*(z[1]-G[1]),V*(z[0]-G[0]))-Math.atan2(w*(F[1]-G[1]),V*(F[0]-G[0])))>R?N.push(F):(G=z,W.push(z),N.pop()),z=N[N.length-1];return W};r.sampleLogNormal=Ba;r.sampleNormal=
vb;r.sampleUniform=hb;r.setRandom=function(A){r.random=A}})};
shadow$provide[31]=function(Db,mb,Cc,Va){(function(r,h){"object"===typeof Va&&"undefined"!==typeof Cc?h(Va,mb(21),mb(29),mb(30),mb(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow","vega-statistics","vega-time"],h):(r="undefined"!==typeof globalThis?globalThis:r||self,h(r.vega={},r.vega,r.vega,r.vega,r.vega))})(this,function(r,h,ka,Ya,ub){function Yb(x){return J=>{const xa=x.length;let Ka=1,kb=String(x[0](J));for(;Ka<xa;++Ka)kb+="|"+x[Ka](J);return kb}}function bc(x){return x&&
x.length?1===x.length?x[0]:Yb(x):function(){return""}}function Xb(x,J){return(xa,Ka)=>h.extend({name:x,aggregate_param:Ka,out:xa||x},Ib,J)}function oc(x,J){return x.idx-J.idx}function zb(x){const J={};x.forEach(Ka=>J[Ka.name]=Ka);const xa=Ka=>{Ka.req&&Ka.req.forEach(kb=>{J[kb]||xa(J[kb]=Bc[kb]())})};x.forEach(xa);return Object.values(J).sort(oc)}function Ub(){this.missing=this.valid=0;this._ops.forEach(x=>null==x.aggregate_param?x.init(this):x.init(this,x.aggregate_param))}function kc(x,J){null==
x||""===x?++this.missing:x===x&&(++this.valid,this._ops.forEach(xa=>xa.add(this,x,J)))}function Ea(x,J){null==x||""===x?--this.missing:x===x&&(--this.valid,this._ops.forEach(xa=>xa.rem(this,x,J)))}function Za(x){this._out.forEach(J=>x[J.out]=J.value(this));return x}function tb(x,J){function xa(yb){this._ops=Ka;this._out=kb;this.cell=yb;this.init()}J=J||h.identity;const Ka=zb(x),kb=x.slice().sort(oc);xa.prototype.init=Ub;xa.prototype.add=kc;xa.prototype.rem=Ea;xa.prototype.set=Za;xa.prototype.get=
J;xa.fields=x.map(yb=>yb.out);return xa}function rb(x){this._key=x?h.field(x):ka.tupleid;this.reset()}function pb(x){ka.Transform.call(this,null,x);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function vb(x){ka.Transform.call(this,null,x)}function gb(x,J,xa){let Ka=J||[],kb=xa||[],yb={},cc=0;return{add:Sb=>kb.push(Sb),remove:Sb=>yb[x(Sb)]=++cc,
size:()=>Ka.length,data:(Sb,pc)=>{cc&&(Ka=Ka.filter(Ic=>!yb[x(Ic)]),yb={},cc=0);pc&&Sb&&Ka.sort(Sb);kb.length&&(Ka=Sb?h.merge(Sb,Ka,kb.sort(Sb)):Ka.concat(kb),kb=[]);return Ka}}}function ec(x){ka.Transform.call(this,[],x)}function sa(x){ka.Operator.call(this,null,ia,x)}function ia(x){return this.value&&!x.modified()?this.value:h.compare(x.fields,x.orders)}function Ba(x){ka.Transform.call(this,null,x)}function Ra(x){ka.Transform.call(this,null,x)}function Wa(x,J){var xa=x["function"];h.hasOwnProperty(yd,
xa)||h.error("Unknown distribution function: "+xa);xa=yd[xa]();for(const Ka in x)if("field"===Ka)xa.data((x.from||J()).map(x[Ka]));else if("distributions"===Ka)xa[Ka](x[Ka].map(kb=>Wa(kb,J)));else if("function"===typeof xa[Ka])xa[Ka](x[Ka]);return xa}function Ia(x){ka.Transform.call(this,null,x)}function hb(x){return()=>x.materialize(x.SOURCE).source}function ab(x,J){return x?x.map((xa,Ka)=>J[Ka]||h.accessorName(xa)):null}function qb(x,J,xa){const Ka=[],kb=Xc=>Xc(pc);let yb,cc,Sb,pc,Ic,yc;if(null==
J)Ka.push(x.map(xa));else for(yb={},cc=0,Sb=x.length;cc<Sb;++cc)pc=x[cc],Ic=J.map(kb),yc=yb[Ic],yc||(yb[Ic]=yc=[],yc.dims=Ic,Ka.push(yc)),yc.push(xa(pc));return Ka}function Pb(x){ka.Transform.call(this,null,x)}function db(x){ka.Operator.call(this,null,U,x);this.modified(!0)}function U(x){const J=x.expr;return this.value&&!x.modified("expr")?this.value:h.accessor(xa=>J(xa,x),h.accessorFields(J),h.accessorName(J))}function ba(x){ka.Transform.call(this,[void 0,void 0],x)}function ea(x,J){ka.Operator.call(this,
x);this.parent=J;this.count=0}function ja(x){ka.Transform.call(this,{},x);this._keys=h.fastmap();const J=this._targets=[];J.active=0;J.forEach=xa=>{for(let Ka=0,kb=J.active;Ka<kb;++Ka)xa(J[Ka],Ka,J)}}function La(x){ka.Operator.call(this,null,oa,x)}function oa(x){return this.value&&!x.modified()?this.value:h.isArray(x.name)?h.array(x.name).map(J=>h.field(J)):h.field(x.name,x.as)}function qa(x){ka.Transform.call(this,h.fastmap(),x)}function l(x){ka.Transform.call(this,[],x)}function D(x){ka.Transform.call(this,
[],x)}function K(x){ka.Transform.call(this,null,x)}function v(x){ka.Transform.call(this,[],x)}function R(x,J){return null==x||null==J?NaN:x<J?-1:x>J?1:x>=J?0:NaN}function A(x,J){return null==x||null==J?NaN:J<x?-1:J>x?1:J>=x?0:NaN}function W(x){function J(yb,cc,Sb=0,pc=yb.length){if(Sb<pc){if(0!==xa(cc,cc))return pc;do{const Ic=Sb+pc>>>1;0>Ka(yb[Ic],cc)?Sb=Ic+1:pc=Ic}while(Sb<pc)}return Sb}let xa,Ka,kb;2!==x.length?(xa=R,Ka=(yb,cc)=>R(x(yb),cc),kb=(yb,cc)=>x(yb)-cc):(xa=x===R||x===A?x:G,kb=Ka=x);return{left:J,
center:function(yb,cc,Sb=0,pc=yb.length){pc=J(yb,cc,Sb,pc-1);return pc>Sb&&kb(yb[pc-1],cc)>-kb(yb[pc],cc)?pc-1:pc},right:function(yb,cc,Sb=0,pc=yb.length){if(Sb<pc){if(0!==xa(cc,cc))return pc;do{const Ic=Sb+pc>>>1;0>=Ka(yb[Ic],cc)?Sb=Ic+1:pc=Ic}while(Sb<pc)}return Sb}}}function G(){return 0}function*w(x,J){if(void 0===J)for(var xa of x)null!=xa&&(xa=+xa)>=xa&&(yield xa);else{xa=-1;for(let Ka of x)null!=(Ka=J(Ka,++xa,x))&&(Ka=+Ka)>=Ka&&(yield Ka)}}function z(x=R){if(x===R)return F;if("function"!==
typeof x)throw new TypeError("compare is not a function");return(J,xa)=>{const Ka=x(J,xa);return Ka||0===Ka?Ka:(0===x(xa,xa))-(0===x(J,J))}}function F(x,J){return(null==x||!(x>=x))-(null==J||!(J>=J))||(x<J?-1:x>J?1:0)}function V(x,J){let xa;if(void 0===J)for(var Ka of x)null!=Ka&&(xa<Ka||void 0===xa&&Ka>=Ka)&&(xa=Ka);else{Ka=-1;for(let kb of x)null!=(kb=J(kb,++Ka,x))&&(xa<kb||void 0===xa&&kb>=kb)&&(xa=kb)}return xa}function ta(x,J){let xa;if(void 0===J)for(var Ka of x)null!=Ka&&(xa>Ka||void 0===xa&&
Ka>=Ka)&&(xa=Ka);else{Ka=-1;for(let kb of x)null!=(kb=J(kb,++Ka,x))&&(xa>kb||void 0===xa&&kb>=kb)&&(xa=kb)}return xa}function N(x,J,xa=0,Ka=Infinity,kb){J=Math.floor(J);xa=Math.floor(Math.max(0,xa));Ka=Math.floor(Math.min(x.length-1,Ka));if(!(xa<=J&&J<=Ka))return x;for(kb=void 0===kb?F:z(kb);Ka>xa;){if(600<Ka-xa){var yb=Ka-xa+1,cc=J-xa+1,Sb=Math.log(yb),pc=.5*Math.exp(2*Sb/3);Sb=.5*Math.sqrt(Sb*pc*(yb-pc)/yb)*(0>cc-yb/2?-1:1);N(x,J,Math.max(xa,Math.floor(J-cc*pc/yb+Sb)),Math.min(Ka,Math.floor(J+(yb-
cc)*pc/yb+Sb)),kb)}yb=x[J];cc=xa;pc=Ka;ma(x,xa,J);for(0<kb(x[Ka],yb)&&ma(x,xa,Ka);cc<pc;){ma(x,cc,pc);++cc;for(--pc;0>kb(x[cc],yb);)++cc;for(;0<kb(x[pc],yb);)--pc}0===kb(x[xa],yb)?ma(x,xa,pc):(++pc,ma(x,pc,Ka));pc<=J&&(xa=pc+1);J<=pc&&(Ka=pc-1)}return x}function ma(x,J,xa){const Ka=x[J];x[J]=x[xa];x[xa]=Ka}function ya(x,J,xa){x=+x;J=+J;xa=2>(kb=arguments.length)?(J=x,x=0,1):3>kb?1:+xa;for(var Ka=-1,kb=Math.max(0,Math.ceil((J-x)/xa))|0,yb=Array(kb);++Ka<kb;)yb[Ka]=x+Ka*xa;return yb}function Ma(x){ka.Transform.call(this,
[],x)}function Pa(x){var J=x.method||gd.value;if(null==gd[J])h.error("Unrecognized imputation method: "+J);else{if(J===gd.value){var xa=void 0!==x.value?x.value:0;return()=>xa}return gd[J]}}function Xa(x){const J=x.field;return xa=>xa?J(xa):NaN}function sb(x,J,xa,Ka){var kb=pd=>pd(Xc),yb=[];Ka=Ka?Ka.slice():[];var cc={},Sb={},pc,Ic;Ka.forEach((pd,Nd)=>cc[pd]=Nd+1);var yc=0;for(Ic=x.length;yc<Ic;++yc){var Xc=x[yc];var md=xa(Xc);var sd=cc[md]||(cc[md]=Ka.push(md));var Bd=(md=J?J.map(kb):Fd)+"";(pc=
Sb[Bd])||(pc=Sb[Bd]=[],yb.push(pc),pc.values=md);pc[sd-1]=Xc}yb.domain=Ka;return yb}function ib(x){pb.call(this,x)}function Tb(x){ka.Transform.call(this,null,x)}function X(x){ka.Operator.call(this,null,Fa,x)}function Fa(x){return this.value&&!x.modified()?this.value:h.key(x.fields,x.flat)}function Kb(x){ka.Transform.call(this,[],x);this._pending=null}function qc(x){return x.modified("async")&&!(x.modified("values")||x.modified("url")||x.modified("format"))}function $b(x,J,xa){xa.forEach(ka.ingest);
J=J.fork(J.NO_FIELDS&J.NO_SOURCE);J.rem=x.value;x.value=J.source=J.add=xa;x._pending=null;J.rem.length&&J.clean(!0);return J}function Mb(x){ka.Transform.call(this,{},x)}function Qb(x){ka.Operator.call(this,null,wc,x)}function wc(x){if(this.value&&!x.modified())return this.value;x=x.extents;const J=x.length;let xa=Infinity,Ka=-Infinity,kb,yb;for(kb=0;kb<J;++kb)yb=x[kb],yb[0]<xa&&(xa=yb[0]),yb[1]>Ka&&(Ka=yb[1]);return[xa,Ka]}function fd(x){ka.Operator.call(this,null,ra,x)}function ra(x){return this.value&&
!x.modified()?this.value:x.values.reduce((J,xa)=>J.concat(xa),[])}function Ab(x){ka.Transform.call(this,null,x)}function Ta(x){pb.call(this,x)}function wb(x,J){const xa=x.field,Ka=x.value,kb=("count"===x.op?"__count__":x.op)||"sum",yb=h.accessorFields(xa).concat(h.accessorFields(Ka)),cc=Nb(xa,x.limit||0,J);J.changed()&&x.set("__pivot__",null,null,!0);return{key:x.key,groupby:x.groupby,ops:cc.map(()=>kb),fields:cc.map(Sb=>Gb(Sb,xa,Ka,yb)),as:cc.map(Sb=>Sb+""),modified:x.modified.bind(x)}}function Gb(x,
J,xa,Ka){return h.accessor(kb=>J(kb)===x?xa(kb):NaN,Ka,x+"")}function Nb(x,J,xa){const Ka={},kb=[];xa.visit(xa.SOURCE,yb=>{yb=x(yb);Ka[yb]||(Ka[yb]=1,kb.push(yb))});kb.sort(h.ascending);return J?kb.slice(0,J):kb}function Zb(x){ja.call(this,x)}function jc(x){ka.Transform.call(this,null,x)}function Ac(x){ka.Transform.call(this,null,x)}function ld(x){ka.Transform.call(this,null,x)}function Vc(x){ka.Transform.call(this,null,x)}function na(x){ka.Transform.call(this,[],x);this.count=0}function Ha(x){ka.Transform.call(this,
null,x)}function fb(x){ka.Transform.call(this,null,x);this.modified(!0)}function Q(x){ka.Transform.call(this,null,x)}function t(x){ka.Transform.call(this,h.fastmap(),x)}function da(x){ka.Transform.call(this,null,x)}function za(x,J,xa,Ka){const kb=ud[x](J,xa);return{init:kb.init||h.zero,update:function(yb,cc){cc[Ka]=kb.next(yb)}}}function Da(x){function J(Bd){h.array(h.accessorFields(Bd)).forEach(pd=>Ic[pd]=1)}const xa=h.array(x.ops),Ka=h.array(x.fields),kb=h.array(x.params),yb=h.array(x.aggregate_params),
cc=h.array(x.as),Sb=this.outputs=[],pc=this.windows=[],Ic={},yc={},Xc=[],md=[];let sd=!0;J(x.sort);xa.forEach((Bd,pd)=>{const Nd=Ka[pd];var le=kb[pd];const Re=yb[pd]||null,Ge=h.accessorName(Nd);pd=cc[pd]||Bd+(Ge?"_"+Ge:"");J(Nd);Sb.push(pd);h.hasOwnProperty(ud,Bd)?pc.push(za(Bd,Nd,le,pd)):(null==Nd&&"count"!==Bd&&h.error("Null aggregate field specified."),"count"===Bd?Xc.push(pd):(sd=!1,le=yc[Ge],le||(le=yc[Ge]=[],le.field=Nd,md.push(le)),le.push(Bc[Bd](pd,Re))))});if(Xc.length||md.length)this.cell=
Oa(md,Xc,sd);this.inputs=Object.keys(Ic)}function Oa(x,J,xa){x=x.map(pc=>tb(pc,pc.field));const Ka={num:0,agg:null,store:!1,count:J};if(!xa)for(var kb=x.length,yb=Ka.agg=Array(kb),cc=0;cc<kb;++cc)yb[cc]=new x[cc](Ka);if(Ka.store)var Sb=Ka.data=new rb;Ka.add=function(pc){Ka.num+=1;if(!xa){Sb&&Sb.add(pc);for(let Ic=0;Ic<kb;++Ic)yb[Ic].add(yb[Ic].get(pc),pc)}};Ka.rem=function(pc){--Ka.num;if(!xa){Sb&&Sb.rem(pc);for(let Ic=0;Ic<kb;++Ic)yb[Ic].rem(yb[Ic].get(pc),pc)}};Ka.set=function(pc){let Ic,yc;Sb&&
Sb.values();Ic=0;for(yc=J.length;Ic<yc;++Ic)pc[J[Ic]]=Ka.num;if(!xa)for(Ic=0,yc=yb.length;Ic<yc;++Ic)yb[Ic].set(pc)};Ka.init=function(){Ka.num=0;Sb&&Sb.reset();for(let pc=0;pc<kb;++pc)yb[pc].init()};return Ka}function jb(x){ka.Transform.call(this,{},x);this._mlen=0;this._mods=[]}function Rb(x,J,xa,Ka){var kb=Ka.sort;const yb=kb&&!Ka.ignorePeers;Ka=Ka.frame||[null,0];x=x.data(xa);xa=x.length;const cc=yb?W(kb):null;kb={i0:0,i1:0,p0:0,p1:0,index:0,data:x,compare:kb||h.constant(-1)};J.init();for(let Xc=
0;Xc<xa;++Xc){var Sb=kb,pc=Ka,Ic=Xc,yc=xa;Sb.p0=Sb.i0;Sb.p1=Sb.i1;Sb.i0=null==pc[0]?0:Math.max(0,Ic-Math.abs(pc[0]));Sb.i1=null==pc[1]?yc:Math.min(yc,Ic+Math.abs(pc[1])+1);Sb.index=Ic;if(yb){Sb=kb;pc=cc;Ic=Sb.i0;yc=Sb.i1-1;const md=Sb.compare,sd=Sb.data,Bd=sd.length-1;0<Ic&&!md(sd[Ic],sd[Ic-1])&&(Sb.i0=pc.left(sd,sd[Ic]));yc<Bd&&!md(sd[yc],sd[yc+1])&&(Sb.i1=pc.right(sd,sd[yc]))}J.update(kb,x[Xc])}}const Eb=()=>{},Ib={init:Eb,add:Eb,rem:Eb,idx:0},Bc={values:{init:x=>x.cell.store=!0,value:x=>x.cell.data.values(),
idx:-1},count:{value:x=>x.cell.num},__count__:{value:x=>x.missing+x.valid},missing:{value:x=>x.missing},valid:{value:x=>x.valid},sum:{init:x=>x.sum=0,value:x=>x.valid?x.sum:void 0,add:(x,J)=>x.sum+=+J,rem:(x,J)=>x.sum-=J},product:{init:x=>x.product=1,value:x=>x.valid?x.product:void 0,add:(x,J)=>x.product*=J,rem:(x,J)=>x.product/=J},mean:{init:x=>x.mean=0,value:x=>x.valid?x.mean:void 0,add:(x,J)=>(x.mean_d=J-x.mean,x.mean+=x.mean_d/x.valid),rem:(x,J)=>(x.mean_d=J-x.mean,x.mean-=x.valid?x.mean_d/x.valid:
x.mean)},average:{value:x=>x.valid?x.mean:void 0,req:["mean"],idx:1},variance:{init:x=>x.dev=0,value:x=>1<x.valid?x.dev/(x.valid-1):void 0,add:(x,J)=>x.dev+=x.mean_d*(J-x.mean),rem:(x,J)=>x.dev-=x.mean_d*(J-x.mean),req:["mean"],idx:1},variancep:{value:x=>1<x.valid?x.dev/x.valid:void 0,req:["variance"],idx:2},stdev:{value:x=>1<x.valid?Math.sqrt(x.dev/(x.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:x=>1<x.valid?Math.sqrt(x.dev/x.valid):void 0,req:["variance"],idx:2},stderr:{value:x=>1<x.valid?
Math.sqrt(x.dev/(x.valid*(x.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:x=>x.cell.data.distinct(x.get),req:["values"],idx:3},ci0:{value:x=>x.cell.data.ci0(x.get),req:["values"],idx:3},ci1:{value:x=>x.cell.data.ci1(x.get),req:["values"],idx:3},median:{value:x=>x.cell.data.q2(x.get),req:["values"],idx:3},q1:{value:x=>x.cell.data.q1(x.get),req:["values"],idx:3},q3:{value:x=>x.cell.data.q3(x.get),req:["values"],idx:3},min:{init:x=>x.min=void 0,value:x=>x.min=Number.isNaN(x.min)?x.cell.data.min(x.get):
x.min,add:(x,J)=>{if(J<x.min||void 0===x.min)x.min=J},rem:(x,J)=>{J<=x.min&&(x.min=NaN)},req:["values"],idx:4},max:{init:x=>x.max=void 0,value:x=>x.max=Number.isNaN(x.max)?x.cell.data.max(x.get):x.max,add:(x,J)=>{if(J>x.max||void 0===x.max)x.max=J},rem:(x,J)=>{J>=x.max&&(x.max=NaN)},req:["values"],idx:4},argmin:{init:x=>x.argmin=void 0,value:x=>x.argmin||x.cell.data.argmin(x.get),add:(x,J,xa)=>{J<x.min&&(x.argmin=xa)},rem:(x,J)=>{J<=x.min&&(x.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:x=>
x.argmax=void 0,value:x=>x.argmax||x.cell.data.argmax(x.get),add:(x,J,xa)=>{J>x.max&&(x.argmax=xa)},rem:(x,J)=>{J>=x.max&&(x.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(x,J)=>{x.exp=0;x.exp_r=J},value:x=>x.valid?x.exp*(1-x.exp_r)/(1-Math.pow(x.exp_r,x.valid)):void 0,add:(x,J)=>x.exp=x.exp_r*x.exp+J,rem:(x,J)=>x.exp=(x.exp-J/Math.pow(x.exp_r,x.valid-1))/x.exp_r},exponentialb:{value:x=>x.valid?x.exp*(1-x.exp_r):void 0,req:["exponential"],idx:1}},Dc=Object.keys(Bc).filter(x=>"__count__"!==
x);[...Dc,"__count__"].forEach(x=>{Bc[x]=Xb(x,Bc[x])});const Rc=rb.prototype;Rc.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};Rc.add=function(x){this._add.push(x)};Rc.rem=function(x){this._rem.push(x)};Rc.values=function(){this._get=null;if(0===this._rem.length)return this._add;const x=this._add;var J=this._rem;const xa=this._key,Ka=x.length,kb=J.length,yb=Array(Ka-kb),cc={};let Sb,pc;for(Sb=0;Sb<kb;++Sb)cc[xa(J[Sb])]=1;for(J=Sb=0;Sb<Ka;++Sb)cc[xa(pc=x[Sb])]?cc[xa(pc)]=
0:yb[J++]=pc;this._rem=[];return this._add=yb};Rc.distinct=function(x){const J=this.values(),xa={};let Ka=J.length,kb=0,yb;for(;0<=--Ka;)yb=x(J[Ka])+"",h.hasOwnProperty(xa,yb)||(xa[yb]=1,++kb);return kb};Rc.extent=function(x){if(this._get!==x||!this._ext){const J=this.values(),xa=h.extentIndex(J,x);this._ext=[J[xa[0]],J[xa[1]]];this._get=x}return this._ext};Rc.argmin=function(x){return this.extent(x)[0]||{}};Rc.argmax=function(x){return this.extent(x)[1]||{}};Rc.min=function(x){const J=this.extent(x)[0];
return null!=J?x(J):void 0};Rc.max=function(x){const J=this.extent(x)[1];return null!=J?x(J):void 0};Rc.quartile=function(x){this._get===x&&this._q||(this._q=Ya.quartiles(this.values(),x),this._get=x);return this._q};Rc.q1=function(x){return this.quartile(x)[0]};Rc.q2=function(x){return this.quartile(x)[1]};Rc.q3=function(x){return this.quartile(x)[2]};Rc.ci=function(x){this._get===x&&this._ci||(this._ci=Ya.bootstrapCI(this.values(),1E3,.05,x),this._get=x);return this._ci};Rc.ci0=function(x){return this.ci(x)[0]};
Rc.ci1=function(x){return this.ci(x)[1]};pb.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Dc},{name:"aggregate_params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean","default":!1},{name:"key",type:"field"}]};h.inherits(pb,ka.Transform,{transform(x,
J){const xa=this,Ka=J.fork(J.NO_SOURCE|J.NO_FIELDS),kb=x.modified();xa.stamp=Ka.stamp;xa.value&&(kb||J.modified(xa._inputs,!0))?(xa._prev=xa.value,xa.value=kb?xa.init(x):Object.create(null),J.visit(J.SOURCE,yb=>xa.add(yb))):(xa.value=xa.value||xa.init(x),J.visit(J.REM,yb=>xa.rem(yb)),J.visit(J.ADD,yb=>xa.add(yb)));Ka.modifies(xa._outputs);xa._drop=!1!==x.drop;x.cross&&1<xa._dims.length&&(xa._drop=!1,xa.cross());J.clean()&&xa._drop&&Ka.clean(!0).runAfter(()=>this.clean());return xa.changes(Ka)},cross(){function x(Sb){let pc,
Ic,yc,Xc;for(pc in Sb)for(yc=Sb[pc].tuple,Ic=0;Ic<cc;++Ic)yb[Ic][Xc=yc[kb[Ic]]]=Xc}function J(Sb,pc,Ic){const yc=kb[Ic],Xc=yb[Ic++];for(const md in Xc){const sd=Sb?Sb+"|"+md:md;pc[yc]=Xc[md];Ic<cc?J(sd,pc,Ic):Ka[sd]||xa.cell(sd,pc)}}const xa=this,Ka=xa.value,kb=xa._dnames,yb=kb.map(()=>({})),cc=kb.length;x(xa._prev);x(Ka);J("",{},0)},init(x){function J(le){le=h.array(h.accessorFields(le));const Re=le.length;let Ge=0,Ke;for(;Ge<Re;++Ge)kb[Ke=le[Ge]]||(kb[Ke]=1,xa.push(Ke))}const xa=this._inputs=[],
Ka=this._outputs=[],kb={};this._dims=h.array(x.groupby);this._dnames=this._dims.map(le=>{const Re=h.accessorName(le);J(le);Ka.push(Re);return Re});this.cellkey=x.key?x.key:bc(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];const yb=x.fields||[null],cc=x.ops||["count"],Sb=x.aggregate_params||[null];x=x.as||[];const pc=yb.length,Ic={};let yc,Xc,md,sd,Bd,pd,Nd;pc!==cc.length&&h.error("Unmatched number of fields and aggregate ops.");for(Nd=0;Nd<pc;++Nd)yc=yb[Nd],Xc=cc[Nd],md=Sb[Nd]||
null,null==yc&&"count"!==Xc&&h.error("Null aggregate field specified."),Bd=h.accessorName(yc),pd=x[Nd]||Xc+(Bd?"_"+Bd:""),Ka.push(pd),"count"===Xc?this._counts.push(pd):(sd=Ic[Bd],sd||(J(yc),sd=Ic[Bd]=[],sd.field=yc,this._measures.push(sd)),"count"!==Xc&&(this._countOnly=!1),sd.push(Bc[Xc](pd,md)));this._measures=this._measures.map(le=>tb(le,le.field));return Object.create(null)},cellkey:bc(),cell(x,J){let xa=this.value[x];xa?0===xa.num&&this._drop&&xa.stamp<this.stamp?(xa.stamp=this.stamp,this._adds[this._alen++]=
xa):xa.stamp<this.stamp&&(xa.stamp=this.stamp,this._mods[this._mlen++]=xa):(xa=this.value[x]=this.newcell(x,J),this._adds[this._alen++]=xa);return xa},newcell(x,J){x={key:x,num:0,agg:null,tuple:this.newtuple(J,this._prev&&this._prev[x]),stamp:this.stamp,store:!1};if(!this._countOnly){J=this._measures;const xa=J.length;x.agg=Array(xa);for(let Ka=0;Ka<xa;++Ka)x.agg[Ka]=new J[Ka](x)}x.store&&(x.data=new rb);return x},newtuple(x,J){const xa=this._dnames,Ka=this._dims,kb=Ka.length,yb={};for(let cc=0;cc<
kb;++cc)yb[xa[cc]]=Ka[cc](x);return J?ka.replace(J.tuple,yb):ka.ingest(yb)},clean(){const x=this.value;for(const J in x)0===x[J].num&&delete x[J]},add(x){var J=this.cellkey(x);J=this.cell(J,x);J.num+=1;if(!this._countOnly){J.store&&J.data.add(x);J=J.agg;for(let xa=0,Ka=J.length;xa<Ka;++xa)J[xa].add(J[xa].get(x),x)}},rem(x){var J=this.cellkey(x);J=this.cell(J,x);--J.num;if(!this._countOnly){J.store&&J.data.rem(x);J=J.agg;for(let xa=0,Ka=J.length;xa<Ka;++xa)J[xa].rem(J[xa].get(x),x)}},celltuple(x){const J=
x.tuple,xa=this._counts;x.store&&x.data.values();for(let Ka=0,kb=xa.length;Ka<kb;++Ka)J[xa[Ka]]=x.num;if(!this._countOnly){x=x.agg;for(let Ka=0,kb=x.length;Ka<kb;++Ka)x[Ka].set(J)}return J},changes(x){const J=this._adds,xa=this._mods;var Ka=this._prev;const kb=this._drop,yb=x.add,cc=x.rem,Sb=x.mod;let pc;var Ic;if(Ka)for(Ic in Ka)pc=Ka[Ic],kb&&!pc.num||cc.push(pc.tuple);Ka=0;for(Ic=this._alen;Ka<Ic;++Ka)yb.push(this.celltuple(J[Ka])),J[Ka]=null;Ka=0;for(Ic=this._mlen;Ka<Ic;++Ka)pc=xa[Ka],(0===pc.num&&
kb?cc:Sb).push(this.celltuple(pc)),xa[Ka]=null;this._alen=this._mlen=0;this._prev=null;return x}});vb.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",
type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};h.inherits(vb,ka.Transform,{transform(x,J){const xa=!1!==x.interval,Ka=this._bins(x),kb=Ka.start,yb=Ka.step,cc=x.as||["bin0","bin1"],Sb=cc[0],pc=cc[1];x.modified()?(J=J.reflow(!0),x=J.SOURCE):x=J.modified(h.accessorFields(x.field))?J.ADD_MOD:J.ADD;J.visit(x,xa?Ic=>
{const yc=Ka(Ic);Ic[Sb]=yc;Ic[pc]=null==yc?null:kb+yb*(1+(yc-kb)/yb)}:Ic=>Ic[Sb]=Ka(Ic));return J.modifies(xa?cc:Sb)},_bins(x){if(this.value&&!x.modified())return this.value;const J=x.field,xa=Ya.bin(x),Ka=xa.step;let kb=xa.start,yb=kb+Math.ceil((xa.stop-kb)/Ka)*Ka;var cc;null!=(cc=x.anchor)&&(cc-=kb+Ka*Math.floor((cc-kb)/Ka),kb+=cc,yb+=cc);cc=function(Sb){Sb=h.toNumber(J(Sb));return null==Sb?null:Sb<kb?-Infinity:Sb>yb?Infinity:(Sb=Math.max(kb,Math.min(Sb,yb-Ka)),kb+Ka*Math.floor(1E-14+(Sb-kb)/Ka))};
cc.start=kb;cc.stop=xa.stop;cc.step=Ka;return this.value=h.accessor(cc,h.accessorFields(J),x.name||"bin_"+h.accessorName(J))}});ec.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};h.inherits(ec,ka.Transform,{transform(x,J){const xa=J.fork(J.ALL),Ka=gb(ka.tupleid,this.value,xa.materialize(xa.ADD).add),kb=x.sort;x=J.changed()||kb&&(x.modified("sort")||J.modified(kb.fields));xa.visit(xa.REM,Ka.remove);this.modified(x);this.value=xa.source=Ka.data(ka.stableCompare(kb),
x);J.source&&J.source.root&&(this.value.root=J.source.root);return xa}});h.inherits(sa,ka.Operator);Ba.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};h.inherits(Ba,ka.Transform,{transform(x,
J){var xa=yc=>Xc=>{Xc=Sb(Xc);var md=yb;switch(x.case){case "upper":Xc=Xc.toUpperCase();break;case "lower":Xc=Xc.toLowerCase()}Xc=Xc.match(md)||[];var sd;md=0;for(var Bd=Xc.length;md<Bd;++md)cc.test(sd=Xc[md])||yc(sd)};const Ka=this._parameterCheck(x,J),kb=this._counts,yb=this._match,cc=this._stop,Sb=x.field,pc=x.as||["text","count"],Ic=xa(yc=>kb[yc]=1+(kb[yc]||0));xa=xa(yc=>--kb[yc]);Ka?J.visit(J.SOURCE,Ic):(J.visit(J.ADD,Ic),J.visit(J.REM,xa));return this._finish(J,pc)},_parameterCheck(x,J){let xa=
!1;if(x.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(x.stopwords||"")+"$","i"),xa=!0;if(x.modified("pattern")||!this._match)this._match=new RegExp(x.pattern||"[\\w']+","g"),xa=!0;if(x.modified("field")||J.modified(x.field.fields))xa=!0;xa&&(this._counts={});return xa},_finish(x,J){const xa=this._counts,Ka=this._tuples||(this._tuples={}),kb=J[0],yb=J[1];x=x.fork(x.NO_SOURCE|x.NO_FIELDS);let cc,Sb,pc;for(cc in xa)Sb=Ka[cc],pc=xa[cc]||0,!Sb&&pc?(Ka[cc]=Sb=ka.ingest({}),Sb[kb]=cc,Sb[yb]=
pc,x.add.push(Sb)):0===pc?(Sb&&x.rem.push(Sb),xa[cc]=null,Ka[cc]=null):Sb[yb]!==pc&&(Sb[yb]=pc,x.mod.push(Sb));return x.modifies(J)}});Ra.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,"default":["a","b"]}]};h.inherits(Ra,ka.Transform,{transform(x,J){const xa=J.fork(J.NO_SOURCE),Ka=x.as||["a","b"],kb=Ka[0],yb=Ka[1];var cc=!this.value||J.changed(J.ADD_REM)||x.modified("as")||x.modified("filter"),Sb=this.value;if(cc){Sb&&
(xa.rem=Sb);J=Sb=J.materialize(J.SOURCE).source;x=x.filter||h.truthy;cc=[];Sb={};for(var pc=J.length,Ic=0,yc,Xc;Ic<pc;++Ic)for(Sb[kb]=Xc=J[Ic],yc=0;yc<pc;++yc)Sb[yb]=J[yc],x(Sb)&&(cc.push(ka.ingest(Sb)),Sb={},Sb[kb]=Xc);xa.add=this.value=cc}else xa.mod=Sb;xa.source=this.value;return xa.modifies(Ka)}});const yd={kde:Ya.randomKDE,mixture:Ya.randomMixture,normal:Ya.randomNormal,lognormal:Ya.randomLogNormal,uniform:Ya.randomUniform},rd=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},
{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];Ia.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",
type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:rd.concat({key:{"function":"mixture"},params:[{name:"distributions",type:"param",array:!0,params:rd},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};h.inherits(Ia,ka.Transform,{transform(x,
J){const xa=J.fork(J.NO_SOURCE|J.NO_FIELDS);if(!this.value||J.changed()||x.modified()){const Ka=Wa(x.distribution,hb(J));J=x.steps||x.minsteps||25;const kb=x.steps||x.maxsteps||200;let yb=x.method||"pdf";"pdf"!==yb&&"cdf"!==yb&&h.error("Invalid density method: "+yb);x.extent||Ka.data||h.error("Missing density extent parameter.");yb=Ka[yb];const cc=x.as||["value","density"];x=x.extent||h.extent(Ka.data());x=Ya.sampleCurve(yb,x,J,kb).map(Sb=>{const pc={};pc[cc[0]]=Sb[0];pc[cc[1]]=Sb[1];return ka.ingest(pc)});
this.value&&(xa.rem=this.value);this.value=xa.add=xa.source=x}return xa}});Pb.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};h.inherits(Pb,ka.Transform,{transform(x,J){if(this.value&&!x.modified()&&!J.changed())return J;var xa=J.materialize(J.SOURCE).source;const Ka=qb(J.source,x.groupby,h.identity),
kb=x.smooth||!1,yb=x.field;xa=x.step||h.span(h.extent(xa,yb))/30;const cc=ka.stableCompare((md,sd)=>yb(md)-yb(sd));x=x.as||"bin";const Sb=Ka.length;let pc=Infinity,Ic=-Infinity,yc=0,Xc;for(;yc<Sb;++yc){const md=Ka[yc].sort(cc);Xc=-1;for(const sd of Ya.dotbin(md,xa,kb,yb))sd<pc&&(pc=sd),sd>Ic&&(Ic=sd),md[++Xc][x]=sd}this.value={start:pc,stop:Ic,step:xa};return J.reflow(!0).modifies(x)}});h.inherits(db,ka.Operator);ba.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};
h.inherits(ba,ka.Transform,{transform(x,J){var xa=this.value;const Ka=x.field;x=J.changed()||J.modified(Ka.fields)||x.modified("field");let kb=xa[0],yb=xa[1];if(x||null==kb)kb=Infinity,yb=-Infinity;J.visit(x?J.SOURCE:J.ADD,cc=>{cc=h.toNumber(Ka(cc));null!=cc&&(cc<kb&&(kb=cc),cc>yb&&(yb=cc))});Number.isFinite(kb)&&Number.isFinite(yb)||((xa=h.accessorName(Ka))&&(xa=` for field "${xa}"`),J.dataflow.warn(`Infinite extent${xa}: [${kb}, ${yb}]`),kb=yb=void 0);this.value=[kb,yb]}});h.inherits(ea,ka.Operator,
{connect(x){this.detachSubflow=x.detachSubflow;this.targets().add(x);return x.source=this},add(x){this.count+=1;this.value.add.push(x)},rem(x){--this.count;this.value.rem.push(x)},mod(x){this.value.mod.push(x)},init(x){this.value.init(x,x.NO_SOURCE)},evaluate(){return this.value}});h.inherits(ja,ka.Transform,{activate(x){this._targets[this._targets.active++]=x},subflow(x,J,xa,Ka){const kb=this.value;let yb=h.hasOwnProperty(kb,x)&&kb[x],cc;yb?yb.value.stamp<xa.stamp&&(yb.init(xa),this.activate(yb)):
(cc=Ka||(cc=this._group[x])&&cc.tuple,Ka=xa.dataflow,yb=new ea(xa.fork(xa.NO_SOURCE),this),Ka.add(yb).connect(J(Ka,x,cc)),kb[x]=yb,this.activate(yb));return yb},clean(){var x=this.value;let J=0;for(const xa in x)if(0===x[xa].count){const Ka=x[xa].detachSubflow;Ka&&Ka();delete x[xa];++J}J&&(x=this._targets.filter(xa=>xa&&0<xa.count),this.initTargets(x))},initTargets(x){const J=this._targets,xa=J.length,Ka=x?x.length:0;let kb=0;for(;kb<Ka;++kb)J[kb]=x[kb];for(;kb<xa&&null!=J[kb];++kb)J[kb]=null;J.active=
Ka},transform(x,J){const xa=J.dataflow,Ka=x.key,kb=x.subflow,yb=this._keys,cc=x.modified("key"),Sb=pc=>this.subflow(pc,kb,J);this._group=x.group||{};this.initTargets();J.visit(J.REM,pc=>{const Ic=ka.tupleid(pc),yc=yb.get(Ic);void 0!==yc&&(yb.delete(Ic),Sb(yc).rem(pc))});J.visit(J.ADD,pc=>{const Ic=Ka(pc);yb.set(ka.tupleid(pc),Ic);Sb(Ic).add(pc)});cc||J.modified(Ka.fields)?J.visit(J.MOD,pc=>{const Ic=ka.tupleid(pc),yc=yb.get(Ic),Xc=Ka(pc);yc===Xc?Sb(Xc).mod(pc):(yb.set(Ic,Xc),Sb(yc).rem(pc),Sb(Xc).add(pc))}):
J.changed(J.MOD)&&J.visit(J.MOD,pc=>{Sb(yb.get(ka.tupleid(pc))).mod(pc)});cc&&J.visit(J.REFLOW,pc=>{const Ic=ka.tupleid(pc),yc=yb.get(Ic),Xc=Ka(pc);yc!==Xc&&(yb.set(Ic,Xc),Sb(yc).rem(pc),Sb(Xc).add(pc))});J.clean()?xa.runAfter(()=>{this.clean();yb.clean()}):yb.empty>xa.cleanThreshold&&xa.runAfter(yb.clean);return J}});h.inherits(La,ka.Operator);qa.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};h.inherits(qa,ka.Transform,{transform(x,J){function xa(Xc){const md=
ka.tupleid(Xc),sd=Ic(Xc,x),Bd=kb.get(md);sd&&Bd?(kb.delete(md),cc.push(Xc)):sd||Bd?yc&&sd&&!Bd&&pc.push(Xc):(kb.set(md,1),Sb.push(Xc))}const Ka=J.dataflow,kb=this.value,yb=J.fork(),cc=yb.add,Sb=yb.rem,pc=yb.mod,Ic=x.expr;let yc=!0;J.visit(J.REM,Xc=>{const md=ka.tupleid(Xc);kb.has(md)?kb.delete(md):Sb.push(Xc)});J.visit(J.ADD,Xc=>{Ic(Xc,x)?cc.push(Xc):kb.set(ka.tupleid(Xc),1)});J.visit(J.MOD,xa);x.modified()&&(yc=!1,J.visit(J.REFLOW,xa));kb.empty>Ka.cleanThreshold&&Ka.runAfter(kb.clean);return yb}});
l.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};h.inherits(l,ka.Transform,{transform(x,J){const xa=J.fork(J.NO_SOURCE),Ka=x.fields,kb=ab(Ka,x.as||[]),yb=x.index||null,cc=kb.length;xa.rem=this.value;J.visit(J.SOURCE,Sb=>{const pc=Ka.map(Bd=>Bd(Sb)),Ic=pc.reduce((Bd,pd)=>Math.max(Bd,pd.length),0);let yc=0,Xc,md,sd;for(;yc<Ic;++yc){md=ka.derive(Sb);for(Xc=0;Xc<cc;++Xc)md[kb[Xc]]=
null==(sd=pc[Xc][yc])?null:sd;yb&&(md[yb]=yc);xa.add.push(md)}});this.value=xa.source=xa.add;yb&&xa.modifies(yb);return xa.modifies(kb)}});D.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};h.inherits(D,ka.Transform,{transform(x,J){const xa=J.fork(J.NO_SOURCE),Ka=x.fields,kb=Ka.map(h.accessorName);x=x.as||["key","value"];const yb=x[0],cc=x[1],Sb=Ka.length;xa.rem=this.value;
J.visit(J.SOURCE,pc=>{for(let Ic=0,yc;Ic<Sb;++Ic)yc=ka.derive(pc),yc[yb]=kb[Ic],yc[cc]=Ka[Ic](pc),xa.add.push(yc)});this.value=xa.source=xa.add;return xa.modifies(x)}});K.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};h.inherits(K,ka.Transform,{transform(x,J){const xa=x.expr,Ka=x.as,kb=x.modified(),yb=x.initonly?J.ADD:kb?J.SOURCE:J.modified(xa.fields)||J.modified(Ka)?J.ADD_MOD:
J.ADD;kb&&(J=J.materialize().reflow(!0));x.initonly||J.modifies(Ka);return J.visit(yb,cc=>cc[Ka]=xa(cc,x))}});h.inherits(v,ka.Transform,{transform(x,J){J=J.fork(J.ALL);const xa=x.generator;let Ka=this.value,kb=x.size-Ka.length,yb,cc;if(0<kb){for(yb=[];0<=--kb;)yb.push(cc=ka.ingest(xa(x))),Ka.push(cc);J.add=J.add.length?J.materialize(J.ADD).add.concat(yb):yb}else x=Ka.slice(0,-kb),J.rem=J.rem.length?J.materialize(J.REM).rem.concat(x):x,Ka=Ka.slice(-kb);J.source=this.value=Ka;return J}});const gd={value:"value",
median:function(x,J){var xa=.5;x=Float64Array.from(w(x,J));if((J=x.length)&&!isNaN(xa=+xa))if(0>=xa||2>J)x=ta(x);else if(1<=xa)x=V(x);else{xa*=J-1;J=Math.floor(xa);var Ka=V(N(x,J).subarray(0,J+1));x=ta(x.subarray(J+1));x=Ka+(x-Ka)*(xa-J)}else x=void 0;return x},mean:function(x,J){let xa=0,Ka=0;if(void 0===J)for(var kb of x)null!=kb&&(kb=+kb)>=kb&&(++xa,Ka+=kb);else{kb=-1;for(let yb of x)null!=(yb=J(yb,++kb,x))&&(yb=+yb)>=yb&&(++xa,Ka+=yb)}if(xa)return Ka/xa},min:ta,max:V},Fd=[];Ma.Definition={type:"Impute",
metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median","max","min"]},{name:"value","default":0}]};h.inherits(Ma,ka.Transform,{transform(x,J){var xa=J.fork(J.ALL),Ka=Pa(x),kb=Xa(x),yb=h.accessorName(x.field),cc=h.accessorName(x.key),Sb=(x.groupby||[]).map(h.accessorName);x=sb(J.source,x.groupby,x.key,x.keyvals);
J=[];var pc=this.value,Ic=x.domain.length,yc,Xc,md;var sd=0;for(Xc=x.length;sd<Xc;++sd){var Bd=x[sd];var pd=Bd.values;var Nd=NaN;for(yc=0;yc<Ic;++yc)if(null==Bd[yc]){var le=x.domain[yc];var Re={_impute:!0};var Ge=0;for(md=pd.length;Ge<md;++Ge)Re[Sb[Ge]]=pd[Ge];Re[cc]=le;Re[yb]=Number.isNaN(Nd)?Nd=Ka(Bd,kb):Nd;J.push(ka.ingest(Re))}}J.length&&(xa.add=xa.materialize(xa.ADD).add.concat(J));pc.length&&(xa.rem=xa.materialize(xa.REM).rem.concat(pc));this.value=J;return xa}});ib.Definition={type:"JoinAggregate",
metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:Dc},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};h.inherits(ib,pb,{transform(x,J){const xa=this,Ka=x.modified();let kb;xa.value&&(Ka||J.modified(xa._inputs,!0))?(kb=xa.value=Ka?xa.init(x):{},J.visit(J.SOURCE,yb=>xa.add(yb))):(kb=xa.value=xa.value||this.init(x),J.visit(J.REM,yb=>xa.rem(yb)),J.visit(J.ADD,yb=>xa.add(yb)));
xa.changes();J.visit(J.SOURCE,yb=>{h.extend(yb,kb[xa.cellkey(yb)].tuple)});return J.reflow(Ka).modifies(this._outputs)},changes(){const x=this._adds,J=this._mods;let xa,Ka;xa=0;for(Ka=this._alen;xa<Ka;++xa)this.celltuple(x[xa]),x[xa]=null;xa=0;for(Ka=this._mlen;xa<Ka;++xa)this.celltuple(J[xa]),J[xa]=null;this._alen=this._mlen=0}});Tb.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",
"default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};h.inherits(Tb,ka.Transform,{transform(x,J){const xa=J.fork(J.NO_SOURCE|J.NO_FIELDS);
if(!this.value||J.changed()||x.modified()){J=J.materialize(J.SOURCE).source;const Ka=qb(J,x.groupby,x.field),kb=(x.groupby||[]).map(h.accessorName),yb=x.bandwidth,cc=x.cumulative?"cdf":"pdf",Sb=x.as||["value","density"],pc=[];let Ic=x.extent,yc=x.steps||x.minsteps||25,Xc=x.steps||x.maxsteps||200;"pdf"!==cc&&"cdf"!==cc&&h.error("Invalid density method: "+cc);"shared"===x.resolve&&(Ic||(Ic=h.extent(J,x.field)),yc=Xc=x.steps||Xc);Ka.forEach(md=>{const sd=Ya.randomKDE(md,yb)[cc],Bd=x.counts?md.length:
1,pd=Ic||h.extent(md);Ya.sampleCurve(sd,pd,yc,Xc).forEach(Nd=>{const le={};for(let Re=0;Re<kb.length;++Re)le[kb[Re]]=md.dims[Re];le[Sb[0]]=Nd[0];le[Sb[1]]=Nd[1]*Bd;pc.push(ka.ingest(le))})});this.value&&(xa.rem=this.value);this.value=xa.add=xa.source=pc}return xa}});h.inherits(X,ka.Operator);h.inherits(Kb,ka.Transform,{transform(x,J){const xa=J.dataflow;return this._pending?$b(this,J,this._pending):qc(x)?J.StopPropagation:x.values?$b(this,J,xa.parse(x.values,x.format)):x.async?{async:xa.request(x.url,
x.format).then(Ka=>{this._pending=h.array(Ka.data);return kb=>kb.touch(this)})}:xa.request(x.url,x.format).then(Ka=>$b(this,J,h.array(Ka.data)))}});Mb.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};h.inherits(Mb,ka.Transform,
{transform(x,J){const xa=x.fields,Ka=x.index,kb=x.values,yb=null==x.default?null:x.default;var cc=x.modified();const Sb=xa.length;let pc=cc?J.SOURCE:J.ADD,Ic=J,yc=x.as,Xc;kb?(Xc=kb.length,1<Sb&&!yc&&h.error('Multi-field lookup requires explicit "as" parameter.'),yc&&yc.length!==Sb*Xc&&h.error('The "as" parameter has too few output field names.'),yc=yc||kb.map(h.accessorName),x=function(md){for(var sd=0,Bd=0,pd,Nd;sd<Sb;++sd)if(Nd=Ka.get(xa[sd](md)),null==Nd)for(pd=0;pd<Xc;++pd,++Bd)md[yc[Bd]]=yb;
else for(pd=0;pd<Xc;++pd,++Bd)md[yc[Bd]]=kb[pd](Nd)}):(yc||h.error("Missing output field names."),x=function(md){for(var sd=0,Bd;sd<Sb;++sd)Bd=Ka.get(xa[sd](md)),md[yc[sd]]=null==Bd?yb:Bd});cc?Ic=J.reflow(!0):(cc=xa.some(md=>J.modified(md.fields)),pc|=cc?J.MOD:0);J.visit(pc,x);return Ic.modifies(yc)}});h.inherits(Qb,ka.Operator);h.inherits(fd,ka.Operator);h.inherits(Ab,ka.Transform,{transform(x,J){this.modified(x.modified());this.value=x;return J.fork(J.NO_SOURCE|J.NO_FIELDS)}});Ta.Definition={type:"Pivot",
metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Dc,"default":"sum"},{name:"limit",type:"number","default":0},{name:"key",type:"field"}]};h.inherits(Ta,pb,{_transform:pb.prototype.transform,transform(x,J){return this._transform(wb(x,J),J)}});h.inherits(Zb,ja,{transform(x,J){const xa=x.subflow,Ka=x.field,kb=yb=>this.subflow(ka.tupleid(yb),xa,J,yb);(x.modified("field")||
Ka&&J.modified(h.accessorFields(Ka)))&&h.error("PreFacet does not support field modification.");this.initTargets();Ka?(J.visit(J.MOD,yb=>{const cc=kb(yb);Ka(yb).forEach(Sb=>cc.mod(Sb))}),J.visit(J.ADD,yb=>{const cc=kb(yb);Ka(yb).forEach(Sb=>cc.add(ka.ingest(Sb)))}),J.visit(J.REM,yb=>{const cc=kb(yb);Ka(yb).forEach(Sb=>cc.rem(Sb))})):(J.visit(J.MOD,yb=>kb(yb).mod(yb)),J.visit(J.ADD,yb=>kb(yb).add(yb)),J.visit(J.REM,yb=>kb(yb).rem(yb)));J.clean()&&J.runAfter(()=>this.clean());return J}});jc.Definition=
{type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string","null":!0,array:!0}]};h.inherits(jc,ka.Transform,{transform(x,J){const xa=J.fork(J.NO_SOURCE),Ka=x.fields,kb=ab(x.fields,x.as||[]),yb=Ka?(Sb,pc)=>{for(let Ic=0,yc=Ka.length;Ic<yc;++Ic)pc[kb[Ic]]=Ka[Ic](Sb);return pc}:ka.rederive;let cc;this.value?cc=this.value:(J=J.addAll(),cc=this.value={});J.visit(J.REM,Sb=>{Sb=ka.tupleid(Sb);xa.rem.push(cc[Sb]);cc[Sb]=null});J.visit(J.ADD,Sb=>
{const pc=yb(Sb,ka.ingest({}));cc[ka.tupleid(Sb)]=pc;xa.add.push(pc)});J.visit(J.MOD,Sb=>{xa.mod.push(yb(Sb,cc[ka.tupleid(Sb)]))});return xa}});h.inherits(Ac,ka.Transform,{transform(x,J){this.value=x.value;return x.modified("value")?J.fork(J.NO_SOURCE|J.NO_FIELDS):J.StopPropagation}});ld.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",
"default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};h.inherits(ld,ka.Transform,{transform(x,J){const xa=J.fork(J.NO_SOURCE|J.NO_FIELDS),Ka=x.as||["prob","value"];if(this.value&&!x.modified()&&!J.changed())return xa.source=this.value,xa;J=J.materialize(J.SOURCE).source;J=qb(J,x.groupby,x.field);const kb=(x.groupby||[]).map(h.accessorName),yb=[],cc=x.step||.01,Sb=x.probs||ya(cc/2,1-1E-14,cc),pc=Sb.length;J.forEach(Ic=>{const yc=Ya.quantiles(Ic,Sb);for(let Xc=0;Xc<pc;++Xc){const md=
{};for(let sd=0;sd<kb.length;++sd)md[kb[sd]]=Ic.dims[sd];md[Ka[0]]=Sb[Xc];md[Ka[1]]=yc[Xc];yb.push(ka.ingest(md))}});this.value&&(xa.rem=this.value);this.value=xa.add=xa.source=yb;return xa}});h.inherits(Vc,ka.Transform,{transform(x,J){let xa,Ka;this.value?Ka=this.value:(xa=J=J.addAll(),Ka=this.value={});x.derive&&(xa=J.fork(J.NO_SOURCE),J.visit(J.REM,kb=>{kb=ka.tupleid(kb);xa.rem.push(Ka[kb]);Ka[kb]=null}),J.visit(J.ADD,kb=>{const yb=ka.derive(kb);Ka[ka.tupleid(kb)]=yb;xa.add.push(yb)}),J.visit(J.MOD,
kb=>{const yb=Ka[ka.tupleid(kb)];for(const cc in kb)yb[cc]=kb[cc],xa.modifies(cc);xa.mod.push(yb)}));return xa}});na.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};h.inherits(na,ka.Transform,{transform(x,J){function xa(yc){let Xc,md;Sb.length<yb?Sb.push(yc):(md=~~((pc+1)*Ya.random()),md<Sb.length&&md>=Ic&&(Xc=Sb[md],cc[ka.tupleid(Xc)]&&Ka.rem.push(Xc),Sb[md]=yc));++pc}const Ka=J.fork(J.NO_SOURCE);var kb=x.modified("size");const yb=x.size,cc=this.value.reduce((yc,
Xc)=>(yc[ka.tupleid(Xc)]=1,yc),{});let Sb=this.value,pc=this.count,Ic=0;J.rem.length&&(J.visit(J.REM,yc=>{const Xc=ka.tupleid(yc);cc[Xc]&&(cc[Xc]=-1,Ka.rem.push(yc));--pc}),Sb=Sb.filter(yc=>-1!==cc[ka.tupleid(yc)]));(J.rem.length||kb)&&Sb.length<yb&&J.source&&(Ic=pc=Sb.length,J.visit(J.SOURCE,yc=>{cc[ka.tupleid(yc)]||xa(yc)}),Ic=-1);if(kb&&Sb.length>yb){x=Sb.length-yb;for(kb=0;kb<x;++kb)cc[ka.tupleid(Sb[kb])]=-1,Ka.rem.push(Sb[kb]);Sb=Sb.slice(x)}J.mod.length&&J.visit(J.MOD,yc=>{cc[ka.tupleid(yc)]&&
Ka.mod.push(yc)});J.add.length&&J.visit(J.ADD,xa);if(J.add.length||0>Ic)Ka.add=Sb.filter(yc=>!cc[ka.tupleid(yc)]);this.count=pc;this.value=Ka.source=Sb;return Ka}});Ha.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};h.inherits(Ha,ka.Transform,{transform(x,J){if(!this.value||x.modified()){var xa=J.materialize().fork(J.MOD),
Ka=x.as||"data";xa.rem=this.value?J.rem.concat(this.value):J.rem;this.value=ya(x.start,x.stop,x.step||1).map(kb=>{const yb={};yb[Ka]=kb;return ka.ingest(yb)});xa.add=J.add.concat(this.value);return xa}}});h.inherits(fb,ka.Transform,{transform(x,J){this.value=J.source;return J.changed()?J.fork(J.NO_SOURCE|J.NO_FIELDS):J.StopPropagation}});const Gd=["unit0","unit1"];Q.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},
{name:"units",type:"enum",values:ub.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum","default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":Gd}]};h.inherits(Q,ka.Transform,{transform(x,J){const xa=x.field,Ka=!1!==x.interval;var kb="utc"===x.timezone;const yb=this._floor(x,J),cc=(kb?ub.utcInterval:ub.timeInterval)(yb.unit).offset;kb=x.as||
Gd;const Sb=kb[0],pc=kb[1],Ic=yb.step;let yc=yb.start||Infinity,Xc=yb.stop||-Infinity,md=J.ADD;if(x.modified()||J.changed(J.REM)||J.modified(h.accessorFields(xa)))J=J.reflow(!0),md=J.SOURCE,yc=Infinity,Xc=-Infinity;J.visit(md,sd=>{var Bd=xa(sd);let pd;null==Bd?(sd[Sb]=null,Ka&&(sd[pc]=null)):(sd[Sb]=Bd=pd=yb(Bd),Ka&&(sd[pc]=pd=cc(Bd,Ic)),Bd<yc&&(yc=Bd),pd>Xc&&(Xc=pd))});yb.start=yc;yb.stop=Xc;return J.modifies(Ka?kb:Sb)},_floor(x,J){var xa="utc"===x.timezone;const {units:Ka,step:kb}=x.units?{units:x.units,
step:x.step||1}:ub.timeBin({extent:x.extent||h.extent(J.materialize(J.SOURCE).source,x.field),maxbins:x.maxbins});x=ub.timeUnits(Ka);J=this.value||{};xa=(xa?ub.utcFloor:ub.timeFloor)(x,kb);xa.unit=h.peek(x);xa.units=x;xa.step=kb;xa.start=J.start;xa.stop=J.stop;return this.value=xa}});h.inherits(t,ka.Transform,{transform(x,J){const xa=J.dataflow,Ka=x.field,kb=this.value,yb=Sb=>kb.set(Ka(Sb),Sb);let cc=!0;x.modified("field")||J.modified(Ka.fields)?(kb.clear(),J.visit(J.SOURCE,yb)):J.changed()?(J.visit(J.REM,
Sb=>kb.delete(Ka(Sb))),J.visit(J.ADD,yb)):cc=!1;this.modified(cc);kb.empty>xa.cleanThreshold&&xa.runAfter(kb.clean);return J.fork()}});h.inherits(da,ka.Transform,{transform(x,J){if(!this.value||x.modified("field")||x.modified("sort")||J.changed()||x.sort&&J.modified(x.sort.fields))this.value=(x.sort?J.source.slice().sort(ka.stableCompare(x.sort)):J.source).map(x.field)}});const ud={row_number:function(){return{next:x=>x.index+1}},rank:function(){let x;return{init:()=>x=1,next:J=>{const xa=J.index,
Ka=J.data;return xa&&J.compare(Ka[xa-1],Ka[xa])?x=xa+1:x}}},dense_rank:function(){let x;return{init:()=>x=1,next:J=>{const xa=J.index,Ka=J.data;return xa&&J.compare(Ka[xa-1],Ka[xa])?++x:x}}},percent_rank:function(){const x=ud.rank(),J=x.next;return{init:x.init,next:xa=>(J(xa)-1)/(xa.data.length-1)}},cume_dist:function(){let x;return{init:()=>x=0,next:J=>{const xa=J.data,Ka=J.compare;J=J.index;if(x<J){for(;J+1<xa.length&&!Ka(xa[J],xa[J+1]);)++J;x=J}return(1+x)/xa.length}}},ntile:function(x,J){J=+J;
0<J||h.error("ntile num must be greater than zero.");x=ud.cume_dist();const xa=x.next;return{init:x.init,next:Ka=>Math.ceil(J*xa(Ka))}},lag:function(x,J){J=+J||1;return{next:xa=>{const Ka=xa.index-J;return 0<=Ka?x(xa.data[Ka]):null}}},lead:function(x,J){J=+J||1;return{next:xa=>{const Ka=xa.index+J;xa=xa.data;return Ka<xa.length?x(xa[Ka]):null}}},first_value:function(x){return{next:J=>x(J.data[J.i0])}},last_value:function(x){return{next:J=>x(J.data[J.i1-1])}},nth_value:function(x,J){J=+J;0<J||h.error("nth_value nth must be greater than zero.");
return{next:xa=>{const Ka=xa.i0+(J-1);return Ka<xa.i1?x(xa.data[Ka]):null}}},prev_value:function(x){let J;return{init:()=>J=null,next:xa=>{xa=x(xa.data[xa.index]);return null!=xa?J=xa:J}}},next_value:function(x){let J,xa;return{init:()=>(J=null,xa=-1),next:Ka=>{var kb=Ka.data;if(Ka.index<=xa)kb=J;else{a:{Ka=Ka.index;for(let yb=kb.length;Ka<yb;++Ka)if(null!=x(kb[Ka]))break a;Ka=-1}kb=0>(xa=Ka)?(xa=kb.length,J=null):J=x(kb[xa])}return kb}}}},we=Object.keys(ud),Ed=Da.prototype;Ed.init=function(){this.windows.forEach(x=>
x.init());this.cell&&this.cell.init()};Ed.update=function(x,J){const xa=this.cell,Ka=this.windows,kb=x.data,yb=Ka&&Ka.length;let cc;if(xa){for(cc=x.p0;cc<x.i0;++cc)xa.rem(kb[cc]);for(cc=x.p1;cc<x.i1;++cc)xa.add(kb[cc]);xa.set(J)}for(cc=0;cc<yb;++cc)Ka[cc].update(x,J)};jb.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:we.concat(Dc)},{name:"params",type:"number","null":!0,array:!0},
{name:"aggregate_params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};h.inherits(jb,ka.Transform,{transform(x,J){this.stamp=J.stamp;const xa=x.modified(),Ka=ka.stableCompare(x.sort),kb=bc(x.groupby),yb=Sb=>this.group(kb(Sb));let cc=this.state;if(!cc||xa)cc=this.state=new Da(x);xa||J.modified(cc.inputs)?
(this.value={},J.visit(J.SOURCE,Sb=>yb(Sb).add(Sb))):(J.visit(J.REM,Sb=>yb(Sb).remove(Sb)),J.visit(J.ADD,Sb=>yb(Sb).add(Sb)));for(let Sb=0,pc=this._mlen;Sb<pc;++Sb)Rb(this._mods[Sb],cc,Ka,x);this._mlen=0;this._mods=[];return J.reflow(xa).modifies(cc.outputs)},group(x){let J=this.value[x];J||(J=this.value[x]=gb(ka.tupleid),J.stamp=-1);J.stamp<this.stamp&&(J.stamp=this.stamp,this._mods[this._mlen++]=J);return J}});r.aggregate=pb;r.bin=vb;r.collect=ec;r.compare=sa;r.countpattern=Ba;r.cross=Ra;r.density=
Ia;r.dotbin=Pb;r.expression=db;r.extent=ba;r.facet=ja;r.field=La;r.filter=qa;r.flatten=l;r.fold=D;r.formula=K;r.generate=v;r.impute=Ma;r.joinaggregate=ib;r.kde=Tb;r.key=X;r.load=Kb;r.lookup=Mb;r.multiextent=Qb;r.multivalues=fd;r.params=Ab;r.pivot=Ta;r.prefacet=Zb;r.project=jc;r.proxy=Ac;r.quantile=ld;r.relay=Vc;r.sample=na;r.sequence=Ha;r.sieve=fb;r.subflow=ea;r.timeunit=Q;r.tupleindex=t;r.values=da;r.window=jb})};
shadow$provide[32]=function(Db,mb,Cc,Va){(function(r,h){"object"===typeof Va&&"undefined"!==typeof Cc?h(Va):"function"===typeof define&&define.amd?define(["exports"],h):(r="undefined"!==typeof globalThis?globalThis:r||self,h(r.vega={}))})(this,function(r){function h(ka,Ya){if("undefined"!==typeof document&&document.createElement){const ub=document.createElement("canvas");if(ub&&ub.getContext)return ub.width=ka,ub.height=Ya,ub}return null}r.canvas=h;r.domCanvas=h;r.image=()=>"undefined"!==typeof Image?
Image:null})};
shadow$provide[33]=function(Db,mb,Cc,Va){(function(r,h){"object"===typeof Va&&"undefined"!==typeof Cc?h(Va,mb(21),mb(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-time"],h):(r="undefined"!==typeof globalThis?globalThis:r||self,h(r.vega={},r.vega,r.vega))})(this,function(r,h,ka){function Ya(m,H,L){H=m-H+2*L;return m?0<H?H:1:0}function ub(m){return function(H){let L=H[0];H=H[1];let la;H<L&&(la=L,L=H,H=la);return[m.invert(L),m.invert(H)]}}function Yb(m){return function(H){const L=
m.range();let la=H[0];H=H[1];let Ua=-1,cb;let ob;if(H<la){var Jb=la;la=H;H=Jb}Jb=0;for(ob=L.length;Jb<ob;++Jb)L[Jb]>=la&&L[Jb]<=H&&(0>Ua&&(Ua=Jb),cb=Jb);if(!(0>Ua))return la=m.invertExtent(L[Ua]),H=m.invertExtent(L[cb]),[void 0===la[0]?la[1]:la[0],void 0===H[1]?H[0]:H[1]]}}function bc(m,H){return null==m||null==H?NaN:m<H?-1:m>H?1:m>=H?0:NaN}function Xb(m,H){return null==m||null==H?NaN:H<m?-1:H>m?1:H>=m?0:NaN}function oc(m){function H(cb,ob,Jb=0,uc=cb.length){if(Jb<uc){if(0!==L(ob,ob))return uc;do{const dd=
Jb+uc>>>1;0>la(cb[dd],ob)?Jb=dd+1:uc=dd}while(Jb<uc)}return Jb}let L,la,Ua;2!==m.length?(L=bc,la=(cb,ob)=>bc(m(cb),ob),Ua=(cb,ob)=>m(cb)-ob):(L=m===bc||m===Xb?m:zb,Ua=la=m);return{left:H,center:function(cb,ob,Jb=0,uc=cb.length){uc=H(cb,ob,Jb,uc-1);return uc>Jb&&Ua(cb[uc-1],ob)>-Ua(cb[uc],ob)?uc-1:uc},right:function(cb,ob,Jb=0,uc=cb.length){if(Jb<uc){if(0!==L(ob,ob))return uc;do{const dd=Jb+uc>>>1;0>=la(cb[dd],ob)?Jb=dd+1:uc=dd}while(Jb<uc)}return Jb}}}function zb(){return 0}function Ub(m){return null===
m?NaN:+m}function kc({_intern:m,_key:H},L){H=H(L);return m.has(H)?m.get(H):L}function Ea({_intern:m,_key:H},L){H=H(L);if(m.has(H))return m.get(H);m.set(H,L);return L}function Za({_intern:m,_key:H},L){H=H(L);m.has(H)&&(L=m.get(H),m.delete(H));return L}function tb(m){return null!==m&&"object"===typeof m?m.valueOf():m}function rb(m,H,L){var la=(H-m)/Math.max(0,L),Ua=Math.floor(Math.log10(la));la/=Math.pow(10,Ua);la=la>=Rf?10:la>=Rh?5:la>=rg?2:1;let cb;0>Ua?(cb=Math.pow(10,-Ua)/la,Ua=Math.round(m*cb),
la=Math.round(H*cb),Ua/cb<m&&++Ua,la/cb>H&&--la,cb=-cb):(cb=Math.pow(10,Ua)*la,Ua=Math.round(m/cb),la=Math.round(H/cb),Ua*cb<m&&++Ua,la*cb>H&&--la);return la<Ua&&.5<=L&&2>L?rb(m,H,2*L):[Ua,la,cb]}function pb(m,H,L){H=+H;m=+m;L=+L;if(!(0<L))return[];if(m===H)return[m];var la=H<m;const [Ua,cb,ob]=la?rb(H,m,L):rb(m,H,L);if(!(cb>=Ua))return[];m=cb-Ua+1;H=Array(m);if(la)if(0>ob)for(la=0;la<m;++la)H[la]=(cb-la)/-ob;else for(la=0;la<m;++la)H[la]=(cb-la)*ob;else if(0>ob)for(la=0;la<m;++la)H[la]=(Ua+la)/-ob;
else for(la=0;la<m;++la)H[la]=(Ua+la)*ob;return H}function vb(m,H,L){return rb(+m,+H,+L)[2]}function gb(m,H,L){H=+H;m=+m;L=+L;const la=H<m;m=la?vb(H,m,L):vb(m,H,L);return(la?-1:1)*(0>m?1/-m:m)}function ec(m,H,L=Ub){if((la=m.length)&&!isNaN(H=+H)){if(0>=H||2>la)return+L(m[0],0,m);if(1<=H)return+L(m[la-1],la-1,m);var la;H*=la-1;la=Math.floor(H);var Ua=+L(m[la],la,m);m=+L(m[la+1],la+1,m);return Ua+(m-Ua)*(H-la)}}function sa(m,H,L){m=+m;H=+H;L=2>(Ua=arguments.length)?(H=m,m=0,1):3>Ua?1:+L;for(var la=
-1,Ua=Math.max(0,Math.ceil((H-m)/L))|0,cb=Array(Ua);++la<Ua;)cb[la]=m+la*L;return cb}function ia(m,H){switch(arguments.length){case 0:break;case 1:this.range(m);break;default:this.range(H).domain(m)}return this}function Ba(m,H){switch(arguments.length){case 0:break;case 1:"function"===typeof m?this.interpolator(m):this.range(m);break;default:this.domain(m),"function"===typeof H?this.interpolator(H):this.range(H)}return this}function Ra(){function m(cb){let ob=H.get(cb);if(void 0===ob){if(Ua!==uh)return Ua;
H.set(cb,ob=L.push(cb)-1)}return la[ob%la.length]}var H=new jh,L=[],la=[],Ua=uh;m.domain=function(cb){if(!arguments.length)return L.slice();L=[];H=new jh;for(const ob of cb)H.has(ob)||H.set(ob,L.push(ob)-1);return m};m.range=function(cb){return arguments.length?(la=Array.from(cb),m):la.slice()};m.unknown=function(cb){return arguments.length?(Ua=cb,m):Ua};m.copy=function(){return Ra(L,la).unknown(Ua)};ia.apply(m,arguments);return m}function Wa(m,H,L){m.prototype=H.prototype=L;L.constructor=m}function Ia(m,
H){m=Object.create(m.prototype);for(var L in H)m[L]=H[L];return m}function hb(){}function ab(){return this.rgb().formatHex()}function qb(){return this.rgb().formatRgb()}function Pb(m){var H,L;m=(m+"").trim().toLowerCase();return(H=Sh.exec(m))?(L=H[1].length,H=parseInt(H[1],16),6===L?db(H):3===L?new ja(H>>8&15|H>>4&240,H>>4&15|H&240,(H&15)<<4|H&15,1):8===L?U(H>>24&255,H>>16&255,H>>8&255,(H&255)/255):4===L?U(H>>12&15|H>>8&240,H>>8&15|H>>4&240,H>>4&15|H&240,((H&15)<<4|H&15)/255):null):(H=aj.exec(m))?
new ja(H[1],H[2],H[3],1):(H=Ig.exec(m))?new ja(255*H[1]/100,255*H[2]/100,255*H[3]/100,1):(H=ti.exec(m))?U(H[1],H[2],H[3],H[4]):(H=di.exec(m))?U(255*H[1]/100,255*H[2]/100,255*H[3]/100,H[4]):(H=bj.exec(m))?K(H[1],H[2]/100,H[3]/100,1):(H=ui.exec(m))?K(H[1],H[2]/100,H[3]/100,H[4]):vh.hasOwnProperty(m)?db(vh[m]):"transparent"===m?new ja(NaN,NaN,NaN,0):null}function db(m){return new ja(m>>16&255,m>>8&255,m&255,1)}function U(m,H,L,la){0>=la&&(m=H=L=NaN);return new ja(m,H,L,la)}function ba(m){m instanceof
hb||(m=Pb(m));if(!m)return new ja;m=m.rgb();return new ja(m.r,m.g,m.b,m.opacity)}function ea(m,H,L,la){return 1===arguments.length?ba(m):new ja(m,H,L,null==la?1:la)}function ja(m,H,L,la){this.r=+m;this.g=+H;this.b=+L;this.opacity=+la}function La(){return`#${D(this.r)}${D(this.g)}${D(this.b)}`}function oa(){const m=qa(this.opacity);return`${1===m?"rgb(":"rgba("}${l(this.r)}, ${l(this.g)}, ${l(this.b)}${1===m?")":`, ${m})`}`}function qa(m){return isNaN(m)?1:Math.max(0,Math.min(1,m))}function l(m){return Math.max(0,
Math.min(255,Math.round(m)||0))}function D(m){m=l(m);return(16>m?"0":"")+m.toString(16)}function K(m,H,L,la){0>=la?m=H=L=NaN:0>=L||1<=L?m=H=NaN:0>=H&&(m=NaN);return new A(m,H,L,la)}function v(m){if(m instanceof A)return new A(m.h,m.s,m.l,m.opacity);m instanceof hb||(m=Pb(m));if(!m)return new A;if(m instanceof A)return m;m=m.rgb();var H=m.r/255,L=m.g/255,la=m.b/255,Ua=Math.min(H,L,la),cb=Math.max(H,L,la),ob=NaN,Jb=cb-Ua,uc=(cb+Ua)/2;Jb?(ob=H===cb?(L-la)/Jb+6*(L<la):L===cb?(la-H)/Jb+2:(H-L)/Jb+4,Jb/=
.5>uc?cb+Ua:2-cb-Ua,ob*=60):Jb=0<uc&&1>uc?0:ob;return new A(ob,Jb,uc,m.opacity)}function R(m,H,L,la){return 1===arguments.length?v(m):new A(m,H,L,null==la?1:la)}function A(m,H,L,la){this.h=+m;this.s=+H;this.l=+L;this.opacity=+la}function W(m){m=(m||0)%360;return 0>m?m+360:m}function G(m){return Math.max(0,Math.min(1,m||0))}function w(m,H,L){return 255*(60>m?H+(L-H)*m/60:180>m?L:240>m?H+(L-H)*(240-m)/60:H)}function z(m){if(m instanceof V)return new V(m.l,m.a,m.b,m.opacity);if(m instanceof Xa)return sb(m);
m instanceof ja||(m=ba(m));var H=ya(m.r),L=ya(m.g),la=ya(m.b),Ua=ta(.2225045*H+.7168786*L+.0606169*la);if(H===L&&L===la)var cb=H=Ua;else cb=ta((.4360747*H+.3850649*L+.1430804*la)/.96422),H=ta((.0139322*H+.0971045*L+.7141733*la)/.82521);return new V(116*Ua-16,500*(cb-Ua),200*(Ua-H),m.opacity)}function F(m,H,L,la){return 1===arguments.length?z(m):new V(m,H,L,null==la?1:la)}function V(m,H,L,la){this.l=+m;this.a=+H;this.b=+L;this.opacity=+la}function ta(m){return m>hg?Math.pow(m,1/3):m/Hh+Hg}function N(m){return m>
Gh?m*m*m:Hh*(m-Hg)}function ma(m){return 255*(.0031308>=m?12.92*m:1.055*Math.pow(m,1/2.4)-.055)}function ya(m){return.04045>=(m/=255)?m/12.92:Math.pow((m+.055)/1.055,2.4)}function Ma(m){if(m instanceof Xa)return new Xa(m.h,m.c,m.l,m.opacity);m instanceof V||(m=z(m));if(0===m.a&&0===m.b)return new Xa(NaN,0<m.l&&100>m.l?0:NaN,m.l,m.opacity);var H=Math.atan2(m.b,m.a)*Fh;return new Xa(0>H?H+360:H,Math.sqrt(m.a*m.a+m.b*m.b),m.l,m.opacity)}function Pa(m,H,L,la){return 1===arguments.length?Ma(m):new Xa(m,
H,L,null==la?1:la)}function Xa(m,H,L,la){this.h=+m;this.c=+H;this.l=+L;this.opacity=+la}function sb(m){if(isNaN(m.h))return new V(m.l,0,0,m.opacity);var H=m.h*Li;return new V(m.l,Math.cos(H)*m.c,Math.sin(H)*m.c,m.opacity)}function ib(m,H,L,la){if(1===arguments.length){var Ua=m;if(Ua instanceof Tb)Ua=new Tb(Ua.h,Ua.s,Ua.l,Ua.opacity);else{Ua instanceof ja||(Ua=ba(Ua));var cb=Ua.g/255,ob=Ua.b/255,Jb=(cj*ob+Ua.r/255*-1.7884503806-3.5172982438*cb)/(cj+-1.7884503806-3.5172982438);ob-=Jb;var uc=(1.97294*
(cb-Jb)- -.29227*ob)/-.90649;ob=(cb=Math.sqrt(uc*uc+ob*ob)/(1.97294*Jb*(1-Jb)))?Math.atan2(uc,ob)*Fh-120:NaN;Ua=new Tb(0>ob?ob+360:ob,cb,Jb,Ua.opacity)}}else Ua=new Tb(m,H,L,null==la?1:la);return Ua}function Tb(m,H,L,la){this.h=+m;this.s=+H;this.l=+L;this.opacity=+la}function X(m,H,L,la,Ua){var cb=m*m,ob=cb*m;return((1-3*m+3*cb-ob)*H+(4-6*cb+3*ob)*L+(1+3*m+3*cb-3*ob)*la+ob*Ua)/6}function Fa(m){var H=m.length-1;return function(L){var la=0>=L?L=0:1<=L?(L=1,H-1):Math.floor(L*H),Ua=m[la],cb=m[la+1];return X((L-
la/H)*H,0<la?m[la-1]:2*Ua-cb,Ua,cb,la<H-1?m[la+2]:2*cb-Ua)}}function Kb(m){var H=m.length;return function(L){var la=Math.floor((0>(L%=1)?++L:L)*H);return X((L-la/H)*H,m[(la+H-1)%H],m[la%H],m[(la+1)%H],m[(la+2)%H])}}function qc(m,H){return function(L){return m+L*H}}function $b(m,H,L){return m=Math.pow(m,L),H=Math.pow(H,L)-m,L=1/L,function(la){return Math.pow(m+la*H,L)}}function Mb(m,H){var L=H-m;return L?qc(m,180<L||-180>L?L-360*Math.round(L/360):L):fi(isNaN(m)?H:m)}function Qb(m){return 1===(m=+m)?
wc:function(H,L){return L-H?$b(H,L,m):fi(isNaN(H)?L:H)}}function wc(m,H){var L=H-m;return L?qc(m,L):fi(isNaN(m)?H:m)}function fd(m){return function(H){var L=H.length,la=Array(L),Ua=Array(L),cb=Array(L),ob;for(ob=0;ob<L;++ob){var Jb=ea(H[ob]);la[ob]=Jb.r||0;Ua[ob]=Jb.g||0;cb[ob]=Jb.b||0}la=m(la);Ua=m(Ua);cb=m(cb);Jb.opacity=1;return function(uc){Jb.r=la(uc);Jb.g=Ua(uc);Jb.b=cb(uc);return Jb+""}}}function ra(m,H){H||(H=[]);var L=m?Math.min(H.length,m.length):0,la=H.slice(),Ua;return function(cb){for(Ua=
0;Ua<L;++Ua)la[Ua]=m[Ua]*(1-cb)+H[Ua]*cb;return la}}function Ab(m){return ArrayBuffer.isView(m)&&!(m instanceof DataView)}function Ta(m,H){var L=H?H.length:0,la=m?Math.min(L,m.length):0,Ua=Array(la),cb=Array(L),ob;for(ob=0;ob<la;++ob)Ua[ob]=ld(m[ob],H[ob]);for(;ob<L;++ob)cb[ob]=H[ob];return function(Jb){for(ob=0;ob<la;++ob)cb[ob]=Ua[ob](Jb);return cb}}function wb(m,H){var L=new Date;return m=+m,H=+H,function(la){return L.setTime(m*(1-la)+H*la),L}}function Gb(m,H){return m=+m,H=+H,function(L){return m*
(1-L)+H*L}}function Nb(m,H){var L={},la={},Ua;if(null===m||"object"!==typeof m)m={};if(null===H||"object"!==typeof H)H={};for(Ua in H)Ua in m?L[Ua]=ld(m[Ua],H[Ua]):la[Ua]=H[Ua];return function(cb){for(Ua in L)la[Ua]=L[Ua](cb);return la}}function Zb(m){return function(){return m}}function jc(m){return function(H){return m(H)+""}}function Ac(m,H){var L=eh.lastIndex=lh.lastIndex=0,la,Ua,cb,ob=-1,Jb=[],uc=[];m+="";for(H+="";(la=eh.exec(m))&&(Ua=lh.exec(H));)(cb=Ua.index)>L&&(cb=H.slice(L,cb),Jb[ob]?Jb[ob]+=
cb:Jb[++ob]=cb),(la=la[0])===(Ua=Ua[0])?Jb[ob]?Jb[ob]+=Ua:Jb[++ob]=Ua:(Jb[++ob]=null,uc.push({i:ob,x:Gb(la,Ua)})),L=lh.lastIndex;L<H.length&&(cb=H.slice(L),Jb[ob]?Jb[ob]+=cb:Jb[++ob]=cb);return 2>Jb.length?uc[0]?jc(uc[0].x):Zb(H):(H=uc.length,function(dd){for(var od=0,tc;od<H;++od)Jb[(tc=uc[od]).i]=tc.x(dd);return Jb.join("")})}function ld(m,H){var L=typeof H,la;return null==H||"boolean"===L?fi(H):("number"===L?Gb:"string"===L?(la=Pb(H))?(H=la,dh):Ac:H instanceof Pb?dh:H instanceof Date?wb:Ab(H)?
ra:Array.isArray(H)?Ta:"function"!==typeof H.valueOf&&"function"!==typeof H.toString||isNaN(H)?Nb:Gb)(m,H)}function Vc(m,H){return m=+m,H=+H,function(L){return Math.round(m*(1-L)+H*L)}}function na(m,H,L,la,Ua,cb){var ob,Jb,uc;if(ob=Math.sqrt(m*m+H*H))m/=ob,H/=ob;if(uc=m*L+H*la)L-=m*uc,la-=H*uc;if(Jb=Math.sqrt(L*L+la*la))L/=Jb,la/=Jb,uc/=Jb;m*la<H*L&&(m=-m,H=-H,uc=-uc,ob=-ob);return{translateX:Ua,translateY:cb,rotate:Math.atan2(H,m)*Jg,skewX:Math.atan(uc)*Jg,scaleX:ob,scaleY:Jb}}function Ha(m,H,L,
la){function Ua(dd){return dd.length?dd.pop()+" ":""}function cb(dd,od,tc,Dd,$d,ye){dd!==tc||od!==Dd?($d=$d.push("translate(",null,H,null,L),ye.push({i:$d-4,x:Gb(dd,tc)},{i:$d-2,x:Gb(od,Dd)})):(tc||Dd)&&$d.push("translate("+tc+H+Dd+L)}function ob(dd,od,tc,Dd){dd!==od?(180<dd-od?od+=360:180<od-dd&&(dd+=360),Dd.push({i:tc.push(Ua(tc)+"rotate(",null,la)-2,x:Gb(dd,od)})):od&&tc.push(Ua(tc)+"rotate("+od+la)}function Jb(dd,od,tc,Dd){dd!==od?Dd.push({i:tc.push(Ua(tc)+"skewX(",null,la)-2,x:Gb(dd,od)}):od&&
tc.push(Ua(tc)+"skewX("+od+la)}function uc(dd,od,tc,Dd,$d,ye){dd!==tc||od!==Dd?($d=$d.push(Ua($d)+"scale(",null,",",null,")"),ye.push({i:$d-4,x:Gb(dd,tc)},{i:$d-2,x:Gb(od,Dd)})):1===tc&&1===Dd||$d.push(Ua($d)+"scale("+tc+","+Dd+")")}return function(dd,od){var tc=[],Dd=[];dd=m(dd);od=m(od);cb(dd.translateX,dd.translateY,od.translateX,od.translateY,tc,Dd);ob(dd.rotate,od.rotate,tc,Dd);Jb(dd.skewX,od.skewX,tc,Dd);uc(dd.scaleX,dd.scaleY,od.scaleX,od.scaleY,tc,Dd);dd=od=null;return function($d){for(var ye=
-1,Sd=Dd.length,Xe;++ye<Sd;)tc[(Xe=Dd[ye]).i]=Xe.x($d);return tc.join("")}}}function fb(m){return((m=Math.exp(m))+1/m)/2}function Q(m){return function(H,L){var la=m((H=R(H)).h,(L=R(L)).h),Ua=wc(H.s,L.s),cb=wc(H.l,L.l),ob=wc(H.opacity,L.opacity);return function(Jb){H.h=la(Jb);H.s=Ua(Jb);H.l=cb(Jb);H.opacity=ob(Jb);return H+""}}}function t(m){return function(H,L){var la=m((H=Pa(H)).h,(L=Pa(L)).h),Ua=wc(H.c,L.c),cb=wc(H.l,L.l),ob=wc(H.opacity,L.opacity);return function(Jb){H.h=la(Jb);H.c=Ua(Jb);H.l=
cb(Jb);H.opacity=ob(Jb);return H+""}}}function da(m){return function la(L){function Ua(cb,ob){var Jb=m((cb=ib(cb)).h,(ob=ib(ob)).h),uc=wc(cb.s,ob.s),dd=wc(cb.l,ob.l),od=wc(cb.opacity,ob.opacity);return function(tc){cb.h=Jb(tc);cb.s=uc(tc);cb.l=dd(Math.pow(tc,L));cb.opacity=od(tc);return cb+""}}L=+L;Ua.gamma=la;return Ua}(1)}function za(m,H){void 0===H&&(H=m,m=ld);for(var L=0,la=H.length-1,Ua=H[0],cb=Array(0>la?0:la);L<la;)cb[L]=m(Ua,Ua=H[++L]);return function(ob){var Jb=Math.max(0,Math.min(la-1,Math.floor(ob*=
la)));return cb[Jb](ob-Jb)}}function Da(m){return function(){return m}}function Oa(m){return+m}function jb(m){return m}function Rb(m,H){return(H-=m=+m)?function(L){return(L-m)/H}:Da(isNaN(H)?NaN:.5)}function Eb(m,H){if(m>H){var L=m;m=H;H=L}return function(la){return Math.max(m,Math.min(H,la))}}function Ib(m,H,L){var la=m[0];m=m[1];var Ua=H[0];H=H[1];m<la?(la=Rb(m,la),Ua=L(H,Ua)):(la=Rb(la,m),Ua=L(Ua,H));return function(cb){return Ua(la(cb))}}function Bc(m,H,L){var la=Math.min(m.length,H.length)-1,
Ua=Array(la),cb=Array(la),ob=-1;m[la]<m[0]&&(m=m.slice().reverse(),H=H.slice().reverse());for(;++ob<la;)Ua[ob]=Rb(m[ob],m[ob+1]),cb[ob]=L(H[ob],H[ob+1]);return function(Jb){var uc=zg(m,Jb,1,la)-1;return cb[uc](Ua[uc](Jb))}}function Dc(m,H){return H.domain(m.domain()).range(m.range()).interpolate(m.interpolate()).clamp(m.clamp()).unknown(m.unknown())}function Rc(){function m(){var Dd=Math.min(L.length,la.length);uc!==jb&&(uc=Eb(L[0],L[Dd-1]));dd=2<Dd?Bc:Ib;od=tc=null;return H}function H(Dd){return null==
Dd||isNaN(Dd=+Dd)?Jb:(od||(od=dd(L.map(cb),la,Ua)))(cb(uc(Dd)))}var L=aa,la=aa,Ua=ld,cb,ob,Jb,uc=jb,dd,od,tc;H.invert=function(Dd){return uc(ob((tc||(tc=dd(la,L.map(cb),Gb)))(Dd)))};H.domain=function(Dd){return arguments.length?(L=Array.from(Dd,Oa),m()):L.slice()};H.range=function(Dd){return arguments.length?(la=Array.from(Dd),m()):la.slice()};H.rangeRound=function(Dd){return la=Array.from(Dd),Ua=Vc,m()};H.clamp=function(Dd){return arguments.length?(uc=Dd?!0:jb,m()):uc!==jb};H.interpolate=function(Dd){return arguments.length?
(Ua=Dd,m()):Ua};H.unknown=function(Dd){return arguments.length?(Jb=Dd,H):Jb};return function(Dd,$d){cb=Dd;ob=$d;return m()}}function yd(m,H){if(0>(H=(m=H?m.toExponential(H-1):m.toExponential()).indexOf("e")))return null;var L=m.slice(0,H);return[1<L.length?L[0]+L.slice(2):L,+m.slice(H+1)]}function rd(m){return m=yd(Math.abs(m)),m?m[1]:NaN}function gd(m,H){return function(L,la){for(var Ua=L.length,cb=[],ob=0,Jb=m[0],uc=0;0<Ua&&0<Jb;){uc+Jb+1>la&&(Jb=Math.max(1,la-uc));cb.push(L.substring(Ua-=Jb,Ua+
Jb));if((uc+=Jb+1)>la)break;Jb=m[ob=(ob+1)%m.length]}return cb.reverse().join(H)}}function Fd(m){return function(H){return H.replace(/[0-9]/g,function(L){return m[+L]})}}function Gd(m){if(!(H=Aa.exec(m)))throw Error("invalid format: "+m);var H;return new ud({fill:H[1],align:H[2],sign:H[3],symbol:H[4],zero:H[5],width:H[6],comma:H[7],precision:H[8]&&H[8].slice(1),trim:H[9],type:H[10]})}function ud(m){this.fill=void 0===m.fill?" ":m.fill+"";this.align=void 0===m.align?"\x3e":m.align+"";this.sign=void 0===
m.sign?"-":m.sign+"";this.symbol=void 0===m.symbol?"":m.symbol+"";this.zero=!!m.zero;this.width=void 0===m.width?void 0:+m.width;this.comma=!!m.comma;this.precision=void 0===m.precision?void 0:+m.precision;this.trim=!!m.trim;this.type=void 0===m.type?"":m.type+""}function we(m,H){H=yd(m,H);if(!H)return m+"";m=H[0];H=H[1];return 0>H?"0."+Array(-H).join("0")+m:m.length>H+1?m.slice(0,H+1)+"."+m.slice(H+1):m+Array(H-m.length+2).join("0")}function Ed(m){return m}function x(m){function H(od){function tc(Ad){var Qd=
ze,Hd=Af,df,Vf;if("c"===Mf)Hd=Xh(Ad)+Hd,Ad="";else{Ad=+Ad;var Hf=0>Ad||0>1/Ad;Ad=isNaN(Ad)?dd:Xh(Math.abs(Ad),wg);if(Bg){var Wf=Ad.length,tg=1,Vh=-1;a:for(;tg<Wf;++tg)switch(Ad[tg]){case ".":Vh=df=tg;break;case "0":0===Vh&&(Vh=tg);df=tg;break;default:if(!+Ad[tg])break a;0<Vh&&(Vh=0)}Ad=0<Vh?Ad.slice(0,Vh)+Ad.slice(df+1):Ad}Hf&&0===+Ad&&"+"!==ye&&(Hf=!1);Qd=(Hf?"("===ye?ye:uc:"-"===ye||"("===ye?"":ye)+Qd;Hd=("s"===Mf?fc[8+Na/3]:"")+Hd+(Hf&&"("===ye?")":"");if(Wd)for(Hf=-1,df=Ad.length;++Hf<df;)if(Vf=
Ad.charCodeAt(Hf),48>Vf||57<Vf){Hd=(46===Vf?cb+Ad.slice(Hf+1):Ad.slice(Hf))+Hd;Ad=Ad.slice(0,Hf);break}}vg&&!Xe&&(Ad=L(Ad,Infinity));Vf=Qd.length+Ad.length+Hd.length;Hf=Vf<Gf?Array(Gf-Vf+1).join(Dd):"";vg&&Xe&&(Ad=L(Hf+Ad,Hf.length?Gf-Hd.length:Infinity),Hf="");switch($d){case "\x3c":Ad=Qd+Ad+Hd+Hf;break;case "\x3d":Ad=Qd+Hf+Ad+Hd;break;case "^":Ad=Hf.slice(0,Vf=Hf.length>>1)+Qd+Ad+Hd+Hf.slice(Vf);break;default:Ad=Hf+Qd+Ad+Hd}return ob(Ad)}od=Gd(od);var Dd=od.fill,$d=od.align,ye=od.sign,Sd=od.symbol,
Xe=od.zero,Gf=od.width,vg=od.comma,wg=od.precision,Bg=od.trim,Mf=od.type;"n"===Mf?(vg=!0,Mf="g"):Hb[Mf]||(void 0===wg&&(wg=12),Bg=!0,Mf="g");if(Xe||"0"===Dd&&"\x3d"===$d)Xe=!0,Dd="0",$d="\x3d";var ze="$"===Sd?la:"#"===Sd&&/[boxX]/.test(Mf)?"0"+Mf.toLowerCase():"",Af="$"===Sd?Ua:/[%p]/.test(Mf)?Jb:"",Xh=Hb[Mf],Wd=/[defgprs%]/.test(Mf);wg=void 0===wg?6:/[gprs]/.test(Mf)?Math.max(1,Math.min(21,wg)):Math.max(0,Math.min(20,wg));tc.toString=function(){return od+""};return tc}var L=void 0===m.grouping||
void 0===m.thousands?Ed:gd(xb.call(m.grouping,Number),m.thousands+""),la=void 0===m.currency?"":m.currency[0]+"",Ua=void 0===m.currency?"":m.currency[1]+"",cb=void 0===m.decimal?".":m.decimal+"",ob=void 0===m.numerals?Ed:Fd(xb.call(m.numerals,String)),Jb=void 0===m.percent?"%":m.percent+"",uc=void 0===m.minus?"":m.minus+"",dd=void 0===m.nan?"NaN":m.nan+"";return{format:H,formatPrefix:function(od,tc){var Dd=H((od=Gd(od),od.type="f",od));od=3*Math.max(-8,Math.min(8,Math.floor(rd(tc)/3)));var $d=Math.pow(10,
-od),ye=fc[8+od/3];return function(Sd){return Dd($d*Sd)+ye}}}}function J(m,H,L,la){L=gb(m,H,L);la=Gd(null==la?",f":la);switch(la.type){case "s":m=Math.max(Math.abs(m),Math.abs(H));if(H=null==la.precision){var Ua=isNaN;L=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(rd(m)/3)))-rd(Math.abs(L)));H=!Ua(Ua=L)}H&&(la.precision=Ua);return ha(la,m);case "":case "e":case "g":case "p":case "r":var cb;if(cb=null==la.precision)Ua=isNaN,m=Math.max(Math.abs(m),Math.abs(H)),L=Math.abs(L),m=Math.abs(m)-L,L=Math.max(0,
rd(m)-rd(L))+1,cb=!Ua(Ua=L);cb&&(la.precision=Ua-("e"===la.type));break;case "f":case "%":null!=la.precision||isNaN(Ua=Math.max(0,-rd(Math.abs(L))))||(la.precision=Ua-2*("%"===la.type))}return I(la)}function xa(m){var H=m.domain;m.ticks=function(L){var la=H();return pb(la[0],la[la.length-1],null==L?10:L)};m.tickFormat=function(L,la){var Ua=H();return J(Ua[0],Ua[Ua.length-1],null==L?10:L,la)};m.nice=function(L){null==L&&(L=10);var la=H(),Ua=0,cb=la.length-1,ob=la[Ua],Jb=la[cb],uc=10;if(Jb<ob){var dd=
ob;ob=Jb;Jb=dd;dd=Ua;Ua=cb;cb=dd}for(;0<uc--;){dd=vb(ob,Jb,L);if(dd===od)return la[Ua]=ob,la[cb]=Jb,H(la);if(0<dd)ob=Math.floor(ob/dd)*dd,Jb=Math.ceil(Jb/dd)*dd;else if(0>dd)ob=Math.ceil(ob*dd)/dd,Jb=Math.floor(Jb*dd)/dd;else break;var od=dd}return m};return m}function Ka(){var m=Rc()(jb,jb);m.copy=function(){return Dc(m,Ka())};ia.apply(m,arguments);return xa(m)}function kb(m){function H(la){return null==la||isNaN(la=+la)?L:la}var L;H.invert=H;H.domain=H.range=function(la){return arguments.length?
(m=Array.from(la,Oa),H):m.slice()};H.unknown=function(la){return arguments.length?(L=la,H):L};H.copy=function(){return kb(m).unknown(L)};m=arguments.length?Array.from(m,Oa):[0,1];return xa(H)}function yb(m,H){m=m.slice();var L=0,la=m.length-1,Ua=m[L],cb=m[la];if(cb<Ua){var ob=L;L=la;la=ob;ob=Ua;Ua=cb;cb=ob}m[L]=H.floor(Ua);m[la]=H.ceil(cb);return m}function cc(m){return Math.log(m)}function Sb(m){return Math.exp(m)}function pc(m){return-Math.log(-m)}function Ic(m){return-Math.exp(-m)}function yc(m){return isFinite(m)?
+("1e"+m):0>m?0:m}function Xc(m){return 10===m?yc:m===Math.E?Math.exp:H=>Math.pow(m,H)}function md(m){return m===Math.E?Math.log:10===m&&Math.log10||2===m&&Math.log2||(m=Math.log(m),H=>Math.log(H)/m)}function sd(m){return(H,L)=>-m(-H,L)}function Bd(m){function H(){cb=md(Ua);ob=Xc(Ua);0>la()[0]?(cb=sd(cb),ob=sd(ob),m(pc,Ic)):m(cc,Sb);return L}const L=m(cc,Sb),la=L.domain;let Ua=10,cb,ob;L.base=function(Jb){return arguments.length?(Ua=+Jb,H()):Ua};L.domain=function(Jb){return arguments.length?(la(Jb),
H()):la()};L.ticks=Jb=>{var uc=la();let dd=uc[0];uc=uc[uc.length-1];const od=uc<dd;od&&([dd,uc]=[uc,dd]);let tc=cb(dd),Dd=cb(uc),$d;const ye=null==Jb?10:+Jb;let Sd=[];if(!(Ua%1)&&Dd-tc<ye){tc=Math.floor(tc);Dd=Math.ceil(Dd);if(0<dd)for(;tc<=Dd;++tc)for(Jb=1;Jb<Ua;++Jb){if($d=0>tc?Jb/ob(-tc):Jb*ob(tc),!($d<dd)){if($d>uc)break;Sd.push($d)}}else for(;tc<=Dd;++tc)for(Jb=Ua-1;1<=Jb;--Jb)if($d=0<tc?Jb/ob(-tc):Jb*ob(tc),!($d<dd)){if($d>uc)break;Sd.push($d)}2*Sd.length<ye&&(Sd=pb(dd,uc,ye))}else Sd=pb(tc,
Dd,Math.min(Dd-tc,ye)).map(ob);return od?Sd.reverse():Sd};L.tickFormat=(Jb,uc)=>{null==Jb&&(Jb=10);null==uc&&(uc=10===Ua?"s":",");"function"!==typeof uc&&(Ua%1||null!=(uc=Gd(uc)).precision||(uc.trim=!0),uc=I(uc));if(Infinity===Jb)return uc;const dd=Math.max(1,Ua*Jb/L.ticks().length);return od=>{let tc=od/ob(Math.round(cb(od)));tc*Ua<Ua-.5&&(tc*=Ua);return tc<=dd?uc(od):""}};L.nice=()=>la(yb(la(),{floor:Jb=>ob(Math.floor(cb(Jb))),ceil:Jb=>ob(Math.ceil(cb(Jb)))}));return L}function pd(){const m=Bd(Rc()).domain([1,
10]);m.copy=()=>Dc(m,pd()).base(m.base());ia.apply(m,arguments);return m}function Nd(m){return function(H){return Math.sign(H)*Math.log1p(Math.abs(H/m))}}function le(m){return function(H){return Math.sign(H)*Math.expm1(Math.abs(H))*m}}function Re(m){var H=1,L=m(Nd(H),le(H));L.constant=function(la){return arguments.length?m(Nd(H=+la),le(H)):H};return xa(L)}function Ge(){var m=Re(Rc());m.copy=function(){return Dc(m,Ge()).constant(m.constant())};return ia.apply(m,arguments)}function Ke(m){return function(H){return 0>
H?-Math.pow(-H,m):Math.pow(H,m)}}function of(m){return 0>m?-Math.sqrt(-m):Math.sqrt(m)}function ef(m){return 0>m?-m*m:m*m}function E(m){var H=m(jb,jb),L=1;H.exponent=function(la){return arguments.length?(L=+la,1===L?m(jb,jb):.5===L?m(of,ef):m(Ke(L),Ke(1/L))):L};return xa(H)}function ca(){var m=E(Rc());m.copy=function(){return Dc(m,ca()).exponent(m.exponent())};ia.apply(m,arguments);return m}function Ga(){function m(){var ob=0,Jb=Math.max(1,la.length);for(Ua=Array(Jb-1);++ob<Jb;)Ua[ob-1]=ec(L,ob/Jb);
return H}function H(ob){return null==ob||isNaN(ob=+ob)?cb:la[zg(Ua,ob)]}var L=[],la=[],Ua=[],cb;H.invertExtent=function(ob){ob=la.indexOf(ob);return 0>ob?[NaN,NaN]:[0<ob?Ua[ob-1]:L[0],ob<Ua.length?Ua[ob]:L[L.length-1]]};H.domain=function(ob){if(!arguments.length)return L.slice();L=[];for(let Jb of ob)null==Jb||isNaN(Jb=+Jb)||L.push(Jb);L.sort(bc);return m()};H.range=function(ob){return arguments.length?(la=Array.from(ob),m()):la.slice()};H.unknown=function(ob){return arguments.length?(cb=ob,H):cb};
H.quantiles=function(){return Ua.slice()};H.copy=function(){return Ga().domain(L).range(la).unknown(cb)};return ia.apply(H,arguments)}function eb(){function m(uc){return null!=uc&&uc<=uc?ob[zg(cb,uc,0,Ua)]:Jb}function H(){var uc=-1;for(cb=Array(Ua);++uc<Ua;)cb[uc]=((uc+1)*la-(uc-Ua)*L)/(Ua+1);return m}var L=0,la=1,Ua=1,cb=[.5],ob=[0,1],Jb;m.domain=function(uc){return arguments.length?([L,la]=uc,L=+L,la=+la,H()):[L,la]};m.range=function(uc){return arguments.length?(Ua=(ob=Array.from(uc)).length-1,
H()):ob.slice()};m.invertExtent=function(uc){uc=ob.indexOf(uc);return 0>uc?[NaN,NaN]:1>uc?[L,cb[0]]:uc>=Ua?[cb[Ua-1],la]:[cb[uc-1],cb[uc]]};m.unknown=function(uc){return arguments.length?(Jb=uc,m):m};m.thresholds=function(){return cb.slice()};m.copy=function(){return eb().domain([L,la]).range(ob).unknown(Jb)};return ia.apply(xa(m),arguments)}function Cb(){function m(cb){return null!=cb&&cb<=cb?L[zg(H,cb,0,Ua)]:la}var H=[.5],L=[0,1],la,Ua=1;m.domain=function(cb){return arguments.length?(H=Array.from(cb),
Ua=Math.min(H.length,L.length-1),m):H.slice()};m.range=function(cb){return arguments.length?(L=Array.from(cb),Ua=Math.min(H.length,L.length-1),m):L.slice()};m.invertExtent=function(cb){cb=L.indexOf(cb);return[H[cb-1],H[cb]]};m.unknown=function(cb){return arguments.length?(la=cb,m):la};m.copy=function(){return Cb().domain(H).range(L).unknown(la)};return ia.apply(m,arguments)}function rc(m,H,L,la){function Ua(cb){return m(cb=0===arguments.length?new Date:new Date(+cb)),cb}Ua.floor=cb=>(m(cb=new Date(+cb)),
cb);Ua.ceil=cb=>(m(cb=new Date(cb-1)),H(cb,1),m(cb),cb);Ua.round=cb=>{const ob=Ua(cb),Jb=Ua.ceil(cb);return cb-ob<Jb-cb?ob:Jb};Ua.offset=(cb,ob)=>(H(cb=new Date(+cb),null==ob?1:Math.floor(ob)),cb);Ua.range=(cb,ob,Jb)=>{const uc=[];cb=Ua.ceil(cb);Jb=null==Jb?1:Math.floor(Jb);if(!(cb<ob&&0<Jb))return uc;let dd;do uc.push(dd=new Date(+cb)),H(cb,Jb),m(cb);while(dd<cb&&cb<ob);return uc};Ua.filter=cb=>rc(ob=>{if(ob>=ob)for(;m(ob),!cb(ob);)ob.setTime(ob-1)},(ob,Jb)=>{if(ob>=ob)if(0>Jb)for(;0>=++Jb;)for(;H(ob,
-1),!cb(ob););else for(;0<=--Jb;)for(;H(ob,1),!cb(ob););});L&&(Ua.count=(cb,ob)=>{va.setTime(+cb);$a.setTime(+ob);m(va);m($a);return Math.floor(L(va,$a))},Ua.every=cb=>{cb=Math.floor(cb);return isFinite(cb)&&0<cb?1<cb?Ua.filter(la?ob=>0===la(ob)%cb:ob=>0===Ua.count(0,ob)%cb):Ua:null});return Ua}function Lb(m){return rc(H=>{H.setDate(H.getDate()-(H.getDay()+7-m)%7);H.setHours(0,0,0,0)},(H,L)=>{H.setDate(H.getDate()+7*L)},(H,L)=>(L-H-6E4*(L.getTimezoneOffset()-H.getTimezoneOffset()))/ic)}function Mc(m){return rc(H=>
{H.setUTCDate(H.getUTCDate()-(H.getUTCDay()+7-m)%7);H.setUTCHours(0,0,0,0)},(H,L)=>{H.setUTCDate(H.getUTCDate()+7*L)},(H,L)=>(L-H)/ic)}function qd(m,H,L,la,Ua,cb){function ob(uc,dd,od){const tc=Math.abs(dd-uc)/od,Dd=oc(([,,Sd])=>Sd).right(Jb,tc);if(Dd===Jb.length)return m.every(gb(uc/gc,dd/gc,od));if(0===Dd)return Ob.every(Math.max(gb(uc,dd,od),1));const [$d,ye]=Jb[tc/Jb[Dd-1][2]<Jb[Dd][2]/tc?Dd-1:Dd];return $d.every(ye)}const Jb=[[cd,1,1E3],[cd,5,5E3],[cd,15,15E3],[cd,30,3E4],[cb,1,6E4],[cb,5,3E5],
[cb,15,9E5],[cb,30,18E5],[Ua,1,36E5],[Ua,3,108E5],[Ua,6,216E5],[Ua,12,432E5],[la,1,864E5],[la,2,1728E5],[L,1,ic],[H,1,Kc],[H,3,3*Kc],[m,1,gc]];return[function(uc,dd,od){const tc=dd<uc;tc&&([uc,dd]=[dd,uc]);uc=(od=od&&"function"===typeof od.range?od:ob(uc,dd,od))?od.range(uc,+dd+1):[];return tc?uc.reverse():uc},ob]}function id(m){if(0<=m.y&&100>m.y){var H=new Date(-1,m.m,m.d,m.H,m.M,m.S,m.L);H.setFullYear(m.y);return H}return new Date(m.y,m.m,m.d,m.H,m.M,m.S,m.L)}function Oc(m){if(0<=m.y&&100>m.y){var H=
new Date(Date.UTC(-1,m.m,m.d,m.H,m.M,m.S,m.L));H.setUTCFullYear(m.y);return H}return new Date(Date.UTC(m.y,m.m,m.d,m.H,m.M,m.S,m.L))}function Pd(m,H,L){return{y:m,m:H,d:L,H:0,M:0,S:0,L:0}}function Td(m){function H(Wd,Ad){return function(Qd){var Hd=[],df=-1,Vf=0,Hf=Wd.length,Wf,tg;for(Qd instanceof Date||(Qd=new Date(+Qd));++df<Hf;)if(37===Wd.charCodeAt(df)){Hd.push(Wd.slice(Vf,df));null!=(Vf=ej[Wf=Wd.charAt(++df)])?Wf=Wd.charAt(++df):Vf="e"===Wf?" ":"0";if(tg=Ad[Wf])Wf=tg(Qd,Vf);Hd.push(Wf);Vf=df+
1}Hd.push(Wd.slice(Vf,df));return Hd.join("")}}function L(Wd,Ad){return function(Qd){var Hd=Pd(1900,void 0,1);if(la(Hd,Wd,Qd+="",0)!=Qd.length)return null;if("Q"in Hd)return new Date(Hd.Q);if("s"in Hd)return new Date(1E3*Hd.s+("L"in Hd?Hd.L:0));!Ad||"Z"in Hd||(Hd.Z=0);"p"in Hd&&(Hd.H=Hd.H%12+12*Hd.p);void 0===Hd.m&&(Hd.m="q"in Hd?Hd.q:0);if("V"in Hd){if(1>Hd.V||53<Hd.V)return null;"w"in Hd||(Hd.w=1);if("Z"in Hd){Qd=Oc(Pd(Hd.y,0,1));var df=Qd.getUTCDay();Qd=4<df||0===df?kh.ceil(Qd):kh(Qd);Qd=vf.offset(Qd,
7*(Hd.V-1));Hd.y=Qd.getUTCFullYear();Hd.m=Qd.getUTCMonth();Hd.d=Qd.getUTCDate()+(Hd.w+6)%7}else Qd=id(Pd(Hd.y,0,1)),df=Qd.getDay(),Qd=4<df||0===df?re.ceil(Qd):re(Qd),Qd=Ne.offset(Qd,7*(Hd.V-1)),Hd.y=Qd.getFullYear(),Hd.m=Qd.getMonth(),Hd.d=Qd.getDate()+(Hd.w+6)%7}else if("W"in Hd||"U"in Hd)"w"in Hd||(Hd.w="u"in Hd?Hd.u%7:"W"in Hd?1:0),df="Z"in Hd?Oc(Pd(Hd.y,0,1)).getUTCDay():id(Pd(Hd.y,0,1)).getDay(),Hd.m=0,Hd.d="W"in Hd?(Hd.w+6)%7+7*Hd.W-(df+5)%7:Hd.w+7*Hd.U-(df+6)%7;return"Z"in Hd?(Hd.H+=Hd.Z/100|
0,Hd.M+=Hd.Z%100,Oc(Hd)):id(Hd)}}function la(Wd,Ad,Qd,Hd){for(var df=0,Vf=Ad.length,Hf=Qd.length,Wf;df<Vf;){if(Hd>=Hf)return-1;Wf=Ad.charCodeAt(df++);if(37===Wf){if(Wf=Ad.charAt(df++),Wf=Xh[Wf in ej?Ad.charAt(df++):Wf],!Wf||0>(Hd=Wf(Wd,Qd,Hd)))return-1}else if(Wf!=Qd.charCodeAt(Hd++))return-1}return Hd}var Ua=m.dateTime,cb=m.date,ob=m.time,Jb=m.periods,uc=m.days,dd=m.shortDays,od=m.months,tc=m.shortMonths,Dd=ae(Jb),$d=Ca(Jb),ye=ae(uc),Sd=Ca(uc),Xe=ae(dd),Gf=Ca(dd),vg=ae(od),wg=Ca(od),Bg=ae(tc),Mf=
Ca(tc),ze={a:function(Wd){return dd[Wd.getDay()]},A:function(Wd){return uc[Wd.getDay()]},b:function(Wd){return tc[Wd.getMonth()]},B:function(Wd){return od[Wd.getMonth()]},c:null,d:oe,e:oe,f:p,g:xc,G:$c,H:Me,I:xe,j:y,L:M,m:P,M:Y,p:function(Wd){return Jb[+(12<=Wd.getHours())]},q:function(Wd){return 1+~~(Wd.getMonth()/3)},Q:rf,s:bf,S:pa,u:ua,U:Bb,V:Wb,w:ac,W:mc,x:null,X:null,y:zc,Y:Jc,Z:ad,"%":Xf},Af={a:function(Wd){return dd[Wd.getUTCDay()]},A:function(Wd){return uc[Wd.getUTCDay()]},b:function(Wd){return tc[Wd.getUTCMonth()]},
B:function(Wd){return od[Wd.getUTCMonth()]},c:null,d:kd,e:kd,f:Zc,g:td,G:Te,H:Xd,I:Sc,j:Vd,L:Be,m:zd,M:Yd,p:function(Wd){return Jb[+(12<=Wd.getUTCHours())]},q:function(Wd){return 1+~~(Wd.getUTCMonth()/3)},Q:rf,s:bf,S:Zd,u:Ce,U:Rd,V:te,w:Ae,W:Oe,x:null,X:null,y:Df,Y:Pe,Z:kf,"%":Xf},Xh={a:function(Wd,Ad,Qd){return(Ad=Xe.exec(Ad.slice(Qd)))?(Wd.w=Gf.get(Ad[0].toLowerCase()),Qd+Ad[0].length):-1},A:function(Wd,Ad,Qd){return(Ad=ye.exec(Ad.slice(Qd)))?(Wd.w=Sd.get(Ad[0].toLowerCase()),Qd+Ad[0].length):-1},
b:function(Wd,Ad,Qd){return(Ad=Bg.exec(Ad.slice(Qd)))?(Wd.m=Mf.get(Ad[0].toLowerCase()),Qd+Ad[0].length):-1},B:function(Wd,Ad,Qd){return(Ad=vg.exec(Ad.slice(Qd)))?(Wd.m=wg.get(Ad[0].toLowerCase()),Qd+Ad[0].length):-1},c:function(Wd,Ad,Qd){return la(Wd,Ua,Ad,Qd)},d:ne,e:ne,f:Le,g:Tc,G:Fc,H:Fe,I:Fe,j:Ue,L:pf,m:nd,M:qe,p:function(Wd,Ad,Qd){return(Ad=Dd.exec(Ad.slice(Qd)))?(Wd.p=$d.get(Ad[0].toLowerCase()),Qd+Ad[0].length):-1},q:jd,Q:af,s:se,S:hf,u:dc,U:hd,V:sc,w:Qa,W:Pc,x:function(Wd,Ad,Qd){return la(Wd,
cb,Ad,Qd)},X:function(Wd,Ad,Qd){return la(Wd,ob,Ad,Qd)},y:Tc,Y:Fc,Z:Yc,"%":We};ze.x=H(cb,ze);ze.X=H(ob,ze);ze.c=H(Ua,ze);Af.x=H(cb,Af);Af.X=H(ob,Af);Af.c=H(Ua,Af);return{format:function(Wd){var Ad=H(Wd+="",ze);Ad.toString=function(){return Wd};return Ad},parse:function(Wd){var Ad=L(Wd+="",!1);Ad.toString=function(){return Wd};return Ad},utcFormat:function(Wd){var Ad=H(Wd+="",Af);Ad.toString=function(){return Wd};return Ad},utcParse:function(Wd){var Ad=L(Wd+="",!0);Ad.toString=function(){return Wd};
return Ad}}}function Md(m,H,L){var la=0>m?"-":"";m=(la?-m:m)+"";var Ua=m.length;return la+(Ua<L?Array(L-Ua+1).join(H)+m:m)}function Kd(m){return m.replace(Cj,"\\$\x26")}function ae(m){return new RegExp("^(?:"+m.map(Kd).join("|")+")","i")}function Ca(m){return new Map(m.map((H,L)=>[H.toLowerCase(),L]))}function Qa(m,H,L){return(H=$f.exec(H.slice(L,L+1)))?(m.w=+H[0],L+H[0].length):-1}function dc(m,H,L){return(H=$f.exec(H.slice(L,L+1)))?(m.u=+H[0],L+H[0].length):-1}function hd(m,H,L){return(H=$f.exec(H.slice(L,
L+2)))?(m.U=+H[0],L+H[0].length):-1}function sc(m,H,L){return(H=$f.exec(H.slice(L,L+2)))?(m.V=+H[0],L+H[0].length):-1}function Pc(m,H,L){return(H=$f.exec(H.slice(L,L+2)))?(m.W=+H[0],L+H[0].length):-1}function Fc(m,H,L){return(H=$f.exec(H.slice(L,L+4)))?(m.y=+H[0],L+H[0].length):-1}function Tc(m,H,L){return(H=$f.exec(H.slice(L,L+2)))?(m.y=+H[0]+(68<+H[0]?1900:2E3),L+H[0].length):-1}function Yc(m,H,L){return(H=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(H.slice(L,L+6)))?(m.Z=H[1]?0:-(H[2]+(H[3]||"00")),L+H[0].length):
-1}function jd(m,H,L){return(H=$f.exec(H.slice(L,L+1)))?(m.q=3*H[0]-3,L+H[0].length):-1}function nd(m,H,L){return(H=$f.exec(H.slice(L,L+2)))?(m.m=H[0]-1,L+H[0].length):-1}function ne(m,H,L){return(H=$f.exec(H.slice(L,L+2)))?(m.d=+H[0],L+H[0].length):-1}function Ue(m,H,L){return(H=$f.exec(H.slice(L,L+3)))?(m.m=0,m.d=+H[0],L+H[0].length):-1}function Fe(m,H,L){return(H=$f.exec(H.slice(L,L+2)))?(m.H=+H[0],L+H[0].length):-1}function qe(m,H,L){return(H=$f.exec(H.slice(L,L+2)))?(m.M=+H[0],L+H[0].length):
-1}function hf(m,H,L){return(H=$f.exec(H.slice(L,L+2)))?(m.S=+H[0],L+H[0].length):-1}function pf(m,H,L){return(H=$f.exec(H.slice(L,L+3)))?(m.L=+H[0],L+H[0].length):-1}function Le(m,H,L){return(H=$f.exec(H.slice(L,L+6)))?(m.L=Math.floor(H[0]/1E3),L+H[0].length):-1}function We(m,H,L){return(m=wk.exec(H.slice(L,L+1)))?L+m[0].length:-1}function af(m,H,L){return(H=$f.exec(H.slice(L)))?(m.Q=+H[0],L+H[0].length):-1}function se(m,H,L){return(H=$f.exec(H.slice(L)))?(m.s=+H[0],L+H[0].length):-1}function oe(m,
H){return Md(m.getDate(),H,2)}function Me(m,H){return Md(m.getHours(),H,2)}function xe(m,H){return Md(m.getHours()%12||12,H,2)}function y(m,H){return Md(1+Ne.count(Cf(m),m),H,3)}function M(m,H){return Md(m.getMilliseconds(),H,3)}function p(m,H){return M(m,H)+"000"}function P(m,H){return Md(m.getMonth()+1,H,2)}function Y(m,H){return Md(m.getMinutes(),H,2)}function pa(m,H){return Md(m.getSeconds(),H,2)}function ua(m){m=m.getDay();return 0===m?7:m}function Bb(m,H){return Md($g.count(Cf(m)-1,m),H,2)}
function Fb(m){var H=m.getDay();return 4<=H||0===H?ph(m):ph.ceil(m)}function Wb(m,H){m=Fb(m);return Md(ph.count(Cf(m),m)+(4===Cf(m).getDay()),H,2)}function ac(m){return m.getDay()}function mc(m,H){return Md(re.count(Cf(m)-1,m),H,2)}function zc(m,H){return Md(m.getFullYear()%100,H,2)}function xc(m,H){m=Fb(m);return Md(m.getFullYear()%100,H,2)}function Jc(m,H){return Md(m.getFullYear()%1E4,H,4)}function $c(m,H){var L=m.getDay();m=4<=L||0===L?ph(m):ph.ceil(m);return Md(m.getFullYear()%1E4,H,4)}function ad(m){m=
m.getTimezoneOffset();return(0<m?"-":(m*=-1,"+"))+Md(m/60|0,"0",2)+Md(m%60,"0",2)}function kd(m,H){return Md(m.getUTCDate(),H,2)}function Xd(m,H){return Md(m.getUTCHours(),H,2)}function Sc(m,H){return Md(m.getUTCHours()%12||12,H,2)}function Vd(m,H){return Md(1+vf.count(Eg(m),m),H,3)}function Be(m,H){return Md(m.getUTCMilliseconds(),H,3)}function Zc(m,H){return Be(m,H)+"000"}function zd(m,H){return Md(m.getUTCMonth()+1,H,2)}function Yd(m,H){return Md(m.getUTCMinutes(),H,2)}function Zd(m,H){return Md(m.getUTCSeconds(),
H,2)}function Ce(m){m=m.getUTCDay();return 0===m?7:m}function Rd(m,H){return Md(Ag.count(Eg(m)-1,m),H,2)}function Od(m){var H=m.getUTCDay();return 4<=H||0===H?Kg(m):Kg.ceil(m)}function te(m,H){m=Od(m);return Md(Kg.count(Eg(m),m)+(4===Eg(m).getUTCDay()),H,2)}function Ae(m){return m.getUTCDay()}function Oe(m,H){return Md(kh.count(Eg(m)-1,m),H,2)}function Df(m,H){return Md(m.getUTCFullYear()%100,H,2)}function td(m,H){m=Od(m);return Md(m.getUTCFullYear()%100,H,2)}function Pe(m,H){return Md(m.getUTCFullYear()%
1E4,H,4)}function Te(m,H){var L=m.getUTCDay();m=4<=L||0===L?Kg(m):Kg.ceil(m);return Md(m.getUTCFullYear()%1E4,H,4)}function kf(){return"+0000"}function Xf(){return"%"}function rf(m){return+m}function bf(m){return Math.floor(+m/1E3)}function eg(m){return new Date(m)}function fg(m){return m instanceof Date?+m:+new Date(+m)}function Of(m,H,L,la,Ua,cb,ob,Jb,uc,dd){function od(ze){return(uc(ze)<ze?ye:Jb(ze)<ze?Sd:ob(ze)<ze?Xe:cb(ze)<ze?Gf:la(ze)<ze?Ua(ze)<ze?vg:wg:L(ze)<ze?Bg:Mf)(ze)}var tc=Rc()(jb,jb),
Dd=tc.invert,$d=tc.domain,ye=dd(".%L"),Sd=dd(":%S"),Xe=dd("%I:%M"),Gf=dd("%I %p"),vg=dd("%a %d"),wg=dd("%b %d"),Bg=dd("%B"),Mf=dd("%Y");tc.invert=function(ze){return new Date(Dd(ze))};tc.domain=function(ze){return arguments.length?$d(Array.from(ze,fg)):$d().map(eg)};tc.ticks=function(ze){var Af=$d();return m(Af[0],Af[Af.length-1],null==ze?10:ze)};tc.tickFormat=function(ze,Af){return null==Af?od:dd(Af)};tc.nice=function(ze){var Af=$d();ze&&"function"===typeof ze.range||(ze=H(Af[0],Af[Af.length-1],
null==ze?10:ze));return ze?$d(yb(Af,ze)):tc};tc.copy=function(){return Dc(tc,Of(m,H,L,la,Ua,cb,ob,Jb,uc,dd))};return tc}function Pf(){function m(tc){return null==tc||isNaN(tc=+tc)?od:uc(0===ob?.5:(tc=(Jb(tc)-Ua)*ob,dd?Math.max(0,Math.min(1,tc)):tc))}function H(tc){return function(Dd){var $d,ye;return arguments.length?([$d,ye]=Dd,uc=tc($d,ye),m):[uc(0),uc(1)]}}var L=0,la=1,Ua,cb,ob,Jb,uc=jb,dd=!1,od;m.domain=function(tc){return arguments.length?([L,la]=tc,Ua=Jb(L=+L),cb=Jb(la=+la),ob=Ua===cb?0:1/(cb-
Ua),m):[L,la]};m.clamp=function(tc){return arguments.length?(dd=!!tc,m):dd};m.interpolator=function(tc){return arguments.length?(uc=tc,m):uc};m.range=H(ld);m.rangeRound=H(Vc);m.unknown=function(tc){return arguments.length?(od=tc,m):od};return function(tc){Jb=tc;Ua=tc(L);cb=tc(la);ob=Ua===cb?0:1/(cb-Ua);return m}}function nf(m,H){return H.domain(m.domain()).interpolator(m.interpolator()).clamp(m.clamp()).unknown(m.unknown())}function lg(){var m=xa(Pf()(jb));m.copy=function(){return nf(m,lg())};return Ba.apply(m,
arguments)}function Fg(){var m=Bd(Pf()).domain([1,10]);m.copy=function(){return nf(m,Fg()).base(m.base())};return Ba.apply(m,arguments)}function Ch(){var m=Re(Pf());m.copy=function(){return nf(m,Ch()).constant(m.constant())};return Ba.apply(m,arguments)}function Gg(){var m=E(Pf());m.copy=function(){return nf(m,Gg()).exponent(m.exponent())};return Ba.apply(m,arguments)}function Ug(){function m(Sd){return isNaN(Sd=+Sd)?ye:(Sd=.5+((Sd=+Dd(Sd))-Jb)*(cb*Sd<cb*Jb?dd:od),tc($d?Math.max(0,Math.min(1,Sd)):
Sd))}function H(Sd){return function(Xe){var Gf,vg,wg;return arguments.length?([Gf,vg,wg]=Xe,tc=za(Sd,[Gf,vg,wg]),m):[tc(0),tc(.5),tc(1)]}}var L=0,la=.5,Ua=1,cb=1,ob,Jb,uc,dd,od,tc=jb,Dd,$d=!1,ye;m.domain=function(Sd){return arguments.length?([L,la,Ua]=Sd,ob=Dd(L=+L),Jb=Dd(la=+la),uc=Dd(Ua=+Ua),dd=ob===Jb?0:.5/(Jb-ob),od=Jb===uc?0:.5/(uc-Jb),cb=Jb<ob?-1:1,m):[L,la,Ua]};m.clamp=function(Sd){return arguments.length?($d=!!Sd,m):$d};m.interpolator=function(Sd){return arguments.length?(tc=Sd,m):tc};m.range=
H(ld);m.rangeRound=H(Vc);m.unknown=function(Sd){return arguments.length?(ye=Sd,m):ye};return function(Sd){Dd=Sd;ob=Sd(L);Jb=Sd(la);uc=Sd(Ua);dd=ob===Jb?0:.5/(Jb-ob);od=Jb===uc?0:.5/(uc-Jb);cb=Jb<ob?-1:1;return m}}function ch(){var m=xa(Ug()(jb));m.copy=function(){return nf(m,ch())};return Ba.apply(m,arguments)}function T(){var m=Bd(Ug()).domain([.1,1,10]);m.copy=function(){return nf(m,T()).base(m.base())};return Ba.apply(m,arguments)}function Ja(){var m=Re(Ug());m.copy=function(){return nf(m,Ja()).constant(m.constant())};
return Ba.apply(m,arguments)}function lb(){var m=E(Ug());m.copy=function(){return nf(m,lb()).exponent(m.exponent())};return Ba.apply(m,arguments)}function Gc(){function m(){var tc=L().length;const Dd=Ua[1]<Ua[0],$d=Ua[1-Dd],ye=Ya(tc,uc,dd);let Sd=Ua[Dd-0];cb=($d-Sd)/(ye||1);Jb&&(cb=Math.floor(cb));Sd+=($d-Sd-cb*(tc-uc))*od;ob=cb*(1-uc);Jb&&(Sd=Math.round(Sd),ob=Math.round(ob));tc=sa(tc).map(Xe=>Sd+cb*Xe);return la(Dd?tc.reverse():tc)}const H=Ra().unknown(void 0),L=H.domain,la=H.range;let Ua=[0,1],
cb,ob,Jb=!1,uc=0,dd=0,od=.5;delete H.unknown;H.domain=function(tc){return arguments.length?(L(tc),m()):L()};H.range=function(tc){return arguments.length?(Ua=[+tc[0],+tc[1]],m()):Ua.slice()};H.rangeRound=function(tc){Ua=[+tc[0],+tc[1]];Jb=!0;return m()};H.bandwidth=function(){return ob};H.step=function(){return cb};H.round=function(tc){return arguments.length?(Jb=!!tc,m()):Jb};H.padding=function(tc){return arguments.length?(uc=dd=Math.max(0,Math.min(1,tc)),m()):uc};H.paddingInner=function(tc){return arguments.length?
(uc=Math.max(0,Math.min(1,tc)),m()):uc};H.paddingOuter=function(tc){return arguments.length?(dd=Math.max(0,Math.min(1,tc)),m()):dd};H.align=function(tc){return arguments.length?(od=Math.max(0,Math.min(1,tc)),m()):od};H.invertRange=function(tc){if(null!=tc[0]&&null!=tc[1]){var Dd=Ua[1]<Ua[0],$d=Dd?la().reverse():la(),ye=$d.length-1,Sd=+tc[0],Xe=+tc[1];if(Sd===Sd&&Xe===Xe){if(Xe<Sd){var Gf=Sd;Sd=Xe;Xe=Gf}if(!(Xe<$d[0]||Sd>Ua[1-Dd]))return tc=Math.max(0,zg($d,Sd)-1),Xe=Sd===Xe?tc:zg($d,Xe)-1,Sd-$d[tc]>
ob+1E-10&&++tc,Dd&&(Gf=tc,tc=ye-Xe,Xe=ye-Gf),tc>Xe?void 0:L().slice(tc,Xe+1)}}};H.invert=function(tc){return(tc=H.invertRange([tc,tc]))?tc[0]:tc};H.copy=function(){return Gc().domain(L()).range(Ua).round(Jb).paddingInner(uc).paddingOuter(dd).align(od)};return m()}function Ec(m){const H=m.copy;m.padding=m.paddingOuter;delete m.paddingInner;m.copy=function(){return Ec(H())};return m}function Ld(){function m(la){return null==la||la!==la?void 0:L[(zg(H,la)-1)%L.length]}let H=[],L=[];m.domain=function(la){return arguments.length?
(H=Dj.call(la,h.toNumber),m):H.slice()};m.range=function(la){return arguments.length?(L=cl.call(la),m):L.slice()};m.tickFormat=function(la,Ua){return J(H[0],h.peek(H),null==la?10:la,Ua)};m.copy=function(){return Ld().domain(m.domain()).range(m.range())};return m}function he(m){m[zi]=!0;return m}function Ie(m,H,L){const la=function(){const Ua=H();Ua.invertRange||(Ua.invertRange=Ua.invert?ub(Ua):Ua.invertExtent?Yb(Ua):void 0);Ua.type=m;return he(Ua)};la.metadata=h.toSet(h.array(L));return la}function De(m,
H,L){return 1<arguments.length?(Pi.set(m,Ie(m,H,L)),this):Jf(m)?Pi.get(m):void 0}function Jf(m){return Pi.has(m)}function Yf(m,H){return(m=Pi.get(m))&&m.metadata[H]}function ih(m){return Yf(m,"discrete")}function Tf(m){return Yf(m,"discretizing")}function Vg(m){return Yf(m,"log")}function gg(m){return Yf(m,"temporal")}function sh(m,H,L){return za(Dh(H||"rgb",L),m)}function Dh(m,H){m=C[be(m)];return null!=H&&m&&m.gamma?m.gamma(H):m}function be(m){return"interpolate"+m.toLowerCase().split("-").map(H=>
H[0].toUpperCase()+H.slice(1)).join("")}function ie(m){for(var H=m.length/6|0,L=Array(H),la=0;la<H;)L[la]="#"+m.slice(6*la,6*++la);return L}function sf(m){if(h.isArray(m))return m;const H=m.length/6|0,L=Array(H);for(let la=0;la<H;)L[la]="#"+m.slice(6*la,6*++la);return L}function Je(m,H){for(const L in m)lf(L,H(m[L]))}function lf(m,H){m=m&&m.toLowerCase();return 1<arguments.length?(jj[m]=H,this):jj[m]}function Ye(m,H,L){var la=m.range();let Ua=la[0],cb=h.peek(la);la=ij;Ua>cb&&(la=cb,cb=Ua,Ua=la,la=
bg);Ua=Math.floor(Ua);cb=Math.ceil(cb);H=H.map(ob=>[ob,m(ob)]).filter(ob=>Ua<=ob[1]&&ob[1]<=cb).sort(la).map(ob=>ob[0]);if(0<L&&1<H.length){for(la=[H[0],h.peek(H)];H.length>L&&3<=H.length;)H=H.filter((ob,Jb)=>!(Jb%2));3>H.length&&(H=la)}return H}function tf(m,H){return m.bins?Ye(m,m.bins,H):m.ticks?m.ticks(H):m.domain()}function Zf(m,H,L,la,Ua,cb){const ob=H.type;let Jb=Hj;if("time"===ob||"time"===Ua)Jb=m.timeFormat(la);else if("utc"===ob||"utc"===Ua)Jb=m.utcFormat(la);else if(Vg(ob)){const uc=m.formatFloat(la);
if(cb||H.bins)Jb=uc;else{const dd=Qf(H,L,!1);Jb=od=>dd(od)?uc(od):""}}else H.tickFormat?(H=H.domain(),Jb=m.formatSpan(H[0],H[H.length-1],L,la)):la&&(Jb=m.format(la));return Jb}function Qf(m,H,L){const la=tf(m,H),Ua=m.base(),cb=Math.log(Ua),ob=Math.max(1,Ua*H/la.length);m=Jb=>{Jb/=Math.pow(Ua,Math.round(Math.log(Jb)/cb));Jb*Ua<Ua-.5&&(Jb*=Ua);return Jb<=ob};return L?la.filter(m):m}function cf(m,H){m.bins?(m=m.bins,H=m.slice(0,-1),H.max=h.peek(m),m=H):"log"===m.type?m=Qf(m,H,!0):Si[m.type]?(m=m[Si[m.type]](),
m=[-Infinity].concat(m),m.max=Infinity):m=tf(m,H);return m}function Wg(m,H,L,la,Ua,cb,ob){if(xh[H.type]&&"time"!==cb&&"utc"!==cb){L=H[xh[H.type]]();cb=L.length;ob=1<cb?L[1]-L[0]:L[0];let Jb;for(Jb=1;Jb<cb;++Jb)ob=Math.min(ob,L[Jb]-L[Jb-1]);m=m.formatSpan(0,ob,30,Ua)}else m=Zf(m,H,L,Ua,cb,ob);return"symbol"===la&&(Si[H.type]||H.bins)?Xi(m):"discrete"===la?ji(m):ii(m)}const zg=oc(bc).right;oc(Ub).center;class jh extends Map{constructor(m,H=tb){super();Object.defineProperties(this,{_intern:{value:new Map},
_key:{value:H}});if(null!=m)for(const [L,la]of m)this.set(L,la)}get(m){return super.get(kc(this,m))}has(m){return super.has(kc(this,m))}set(m,H){return super.set(Ea(this,m),H)}delete(m){return super.delete(Za(this,m))}}const Rf=Math.sqrt(50),Rh=Math.sqrt(10),rg=Math.sqrt(2),uh=Symbol("implicit");var mg=1/.7,Sh=/^#([0-9a-f]{3,8})$/,aj=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),Ig=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
ti=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),di=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),bj=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
ui=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),vh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,
cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,
dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,
lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,
mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,
seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wa(hb,Pb,{copy(m){return Object.assign(new this.constructor,this,m)},displayable(){return this.rgb().displayable()},hex:ab,formatHex:ab,
formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return v(this).formatHsl()},formatRgb:qb,toString:qb});Wa(ja,ea,Ia(hb,{brighter(m){m=null==m?mg:Math.pow(mg,m);return new ja(this.r*m,this.g*m,this.b*m,this.opacity)},darker(m){m=null==m?.7:Math.pow(.7,m);return new ja(this.r*m,this.g*m,this.b*m,this.opacity)},rgb(){return this},clamp(){return new ja(l(this.r),l(this.g),l(this.b),qa(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=
this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:La,formatHex:La,formatHex8:function(){return`#${D(this.r)}${D(this.g)}${D(this.b)}${D(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:oa,toString:oa}));Wa(A,R,Ia(hb,{brighter(m){m=null==m?mg:Math.pow(mg,m);return new A(this.h,this.s,this.l*m,this.opacity)},darker(m){m=null==m?.7:Math.pow(.7,m);return new A(this.h,this.s,this.l*m,this.opacity)},rgb(){var m=this.h%360+360*(0>this.h),H=isNaN(m)||isNaN(this.s)?0:this.s,L=this.l;H=L+(.5>
L?L:1-L)*H;L=2*L-H;return new ja(w(240<=m?m-240:m+120,L,H),w(m,L,H),w(120>m?m+240:m-120,L,H),this.opacity)},clamp(){return new A(W(this.h),G(this.s),G(this.l),qa(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const m=qa(this.opacity);return`${1===m?"hsl(":"hsla("}${W(this.h)}, ${100*G(this.s)}%, ${100*G(this.l)}%${1===m?")":`, ${m})`}`}}));const Li=Math.PI/180,Fh=180/Math.PI,Hg=4/29,Gh=6/29,Hh=3*Gh*Gh,
hg=Gh*Gh*Gh;Wa(V,F,Ia(hb,{brighter(m){return new V(this.l+18*(null==m?1:m),this.a,this.b,this.opacity)},darker(m){return new V(this.l-18*(null==m?1:m),this.a,this.b,this.opacity)},rgb(){var m=(this.l+16)/116,H=isNaN(this.a)?m:m+this.a/500,L=isNaN(this.b)?m:m-this.b/200;H=.96422*N(H);m=1*N(m);L=.82521*N(L);return new ja(ma(3.1338561*H-1.6168667*m-.4906146*L),ma(-.9787684*H+1.9161415*m+.033454*L),ma(.0719453*H-.2289914*m+1.4052427*L),this.opacity)}}));Wa(Xa,Pa,Ia(hb,{brighter(m){return new Xa(this.h,
this.c,this.l+18*(null==m?1:m),this.opacity)},darker(m){return new Xa(this.h,this.c,this.l-18*(null==m?1:m),this.opacity)},rgb(){return sb(this).rgb()}}));var cj=1.78277*-.29227-.1347134789;Wa(Tb,ib,Ia(hb,{brighter(m){m=null==m?mg:Math.pow(mg,m);return new Tb(this.h,this.s,this.l*m,this.opacity)},darker(m){m=null==m?.7:Math.pow(.7,m);return new Tb(this.h,this.s,this.l*m,this.opacity)},rgb(){var m=isNaN(this.h)?0:(this.h+120)*Li,H=+this.l,L=isNaN(this.s)?0:this.s*H*(1-H),la=Math.cos(m);m=Math.sin(m);
return new ja(255*(H+L*(-.14861*la+1.78277*m)),255*(H+L*(-.29227*la+-.90649*m)),255*(H+1.97294*L*la),this.opacity)}}));var fi=m=>()=>m,dh=function L(H){function la(cb,ob){var Jb=Ua((cb=ea(cb)).r,(ob=ea(ob)).r),uc=Ua(cb.g,ob.g),dd=Ua(cb.b,ob.b),od=wc(cb.opacity,ob.opacity);return function(tc){cb.r=Jb(tc);cb.g=uc(tc);cb.b=dd(tc);cb.opacity=od(tc);return cb+""}}var Ua=Qb(H);la.gamma=L;return la}(1),vi=fd(Fa),Aj=fd(Kb),eh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lh=new RegExp(eh.source,"g"),Jg=180/
Math.PI,Ve={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Ih,Ng=Ha(function(H){H=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(H+"");return H.isIdentity?Ve:na(H.a,H.b,H.c,H.d,H.e,H.f)},"px, ","px)","deg)"),zf=Ha(function(H){if(null==H)return Ve;Ih||(Ih=document.createElementNS("http://www.w3.org/2000/svg","g"));Ih.setAttribute("transform",H);if(!(H=Ih.transform.baseVal.consolidate()))return Ve;H=H.matrix;return na(H.a,H.b,H.c,H.d,H.e,H.f)},", ",")",")"),Mi=function cb(L,
la,Ua){function ob(Jb,uc){var dd=Jb[0],od=Jb[1],tc=Jb[2];Jb=uc[2];var Dd=uc[0]-dd,$d=uc[1]-od,ye=Dd*Dd+$d*$d;if(1E-12>ye){var Sd=Math.log(Jb/tc)/L;Jb=function(vg){return[dd+vg*Dd,od+vg*$d,tc*Math.exp(L*vg*Sd)]}}else{var Xe=Math.sqrt(ye);uc=(Jb*Jb-tc*tc+Ua*ye)/(2*tc*la*Xe);Jb=(Jb*Jb-tc*tc-Ua*ye)/(2*Jb*la*Xe);var Gf=Math.log(Math.sqrt(uc*uc+1)-uc);Sd=(Math.log(Math.sqrt(Jb*Jb+1)-Jb)-Gf)/L;Jb=function(vg){vg*=Sd;var wg=fb(Gf),Bg=L*vg+Gf;var Mf=((Bg=Math.exp(2*Bg))-1)/(Bg+1);var ze=Gf;Bg=((ze=Math.exp(ze))-
1/ze)/2;Mf=tc/(la*Xe)*(wg*Mf-Bg);return[dd+Mf*Dd,od+Mf*$d,tc*wg/fb(L*vg+Gf)]}}Jb.duration=1E3*Sd*L/Math.SQRT2;return Jb}ob.rho=function(Jb){Jb=Math.max(.001,+Jb);var uc=Jb*Jb;return cb(Jb,uc,uc*uc)};return ob}(Math.SQRT2,2,4),sg=Q(Mb),Og=Q(wc),mh=t(Mb),Yg=t(wc),Jh=da(Mb),Zg=da(wc),C=Object.freeze({__proto__:null,interpolate:ld,interpolateArray:function(L,la){return(Ab(la)?ra:Ta)(L,la)},interpolateBasis:Fa,interpolateBasisClosed:Kb,interpolateCubehelix:Jh,interpolateCubehelixLong:Zg,interpolateDate:wb,
interpolateDiscrete:function(L){var la=L.length;return function(Ua){return L[Math.max(0,Math.min(la-1,Math.floor(Ua*la)))]}},interpolateHcl:mh,interpolateHclLong:Yg,interpolateHsl:sg,interpolateHslLong:Og,interpolateHue:function(L,la){var Ua=Mb(+L,+la);return function(cb){cb=Ua(cb);return cb-360*Math.floor(cb/360)}},interpolateLab:function(L,la){var Ua=wc((L=F(L)).l,(la=F(la)).l),cb=wc(L.a,la.a),ob=wc(L.b,la.b),Jb=wc(L.opacity,la.opacity);return function(uc){L.l=Ua(uc);L.a=cb(uc);L.b=ob(uc);L.opacity=
Jb(uc);return L+""}},interpolateNumber:Gb,interpolateNumberArray:ra,interpolateObject:Nb,interpolateRgb:dh,interpolateRgbBasis:vi,interpolateRgbBasisClosed:Aj,interpolateRound:Vc,interpolateString:Ac,interpolateTransformCss:Ng,interpolateTransformSvg:zf,interpolateZoom:Mi,piecewise:za,quantize:function(L,la){for(var Ua=Array(la),cb=0;cb<la;++cb)Ua[cb]=L(cb/(la-1));return Ua}}),aa=[0,1],Aa=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Gd.prototype=ud.prototype;ud.prototype.toString=
function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var Na,Hb={"%":(L,la)=>(100*L).toFixed(la),b:L=>Math.round(L).toString(2),c:L=>L+"",d:function(L){return 1E21<=Math.abs(L=Math.round(L))?L.toLocaleString("en").replace(/,/g,""):L.toString(10)},e:(L,la)=>L.toExponential(la),f:(L,la)=>L.toFixed(la),g:(L,la)=>L.toPrecision(la),
o:L=>Math.round(L).toString(8),p:(L,la)=>we(100*L,la),r:we,s:function(L,la){var Ua=yd(L,la);if(!Ua)return L+"";var cb=Ua[0];Ua=Ua[1];Ua=Ua-(Na=3*Math.max(-8,Math.min(8,Math.floor(Ua/3))))+1;var ob=cb.length;return Ua===ob?cb:Ua>ob?cb+Array(Ua-ob+1).join("0"):0<Ua?cb.slice(0,Ua)+"."+cb.slice(Ua):"0."+Array(1-Ua).join("0")+yd(L,Math.max(0,la+Ua-1))[0]},X:L=>Math.round(L).toString(16).toUpperCase(),x:L=>Math.round(L).toString(16)},xb=Array.prototype.map,fc="y z a f p n  m  k M G T P E Z Y".split(" "),
q,I,ha;(function(L){q=x(L);I=q.format;ha=q.formatPrefix;return q})({thousands:",",grouping:[3],currency:["$",""]});const va=new Date,$a=new Date,Ob=rc(()=>{},(L,la)=>{L.setTime(+L+la)},(L,la)=>la-L);Ob.every=L=>{L=Math.floor(L);return isFinite(L)&&0<L?1<L?rc(la=>{la.setTime(Math.floor(la/L)*L)},(la,Ua)=>{la.setTime(+la+Ua*L)},(la,Ua)=>(Ua-la)/L):Ob:null};Ob.range;const ic=6048E5,Kc=2592E6,gc=31536E6,cd=rc(L=>{L.setTime(L-L.getMilliseconds())},(L,la)=>{L.setTime(+L+1E3*la)},(L,la)=>(la-L)/1E3,L=>L.getUTCSeconds());
cd.range;const Wc=rc(L=>{L.setTime(L-L.getMilliseconds()-1E3*L.getSeconds())},(L,la)=>{L.setTime(+L+6E4*la)},(L,la)=>(la-L)/6E4,L=>L.getMinutes());Wc.range;const Id=rc(L=>{L.setUTCSeconds(0,0)},(L,la)=>{L.setTime(+L+6E4*la)},(L,la)=>(la-L)/6E4,L=>L.getUTCMinutes());Id.range;const je=rc(L=>{L.setTime(L-L.getMilliseconds()-1E3*L.getSeconds()-6E4*L.getMinutes())},(L,la)=>{L.setTime(+L+36E5*la)},(L,la)=>(la-L)/36E5,L=>L.getHours());je.range;const ue=rc(L=>{L.setUTCMinutes(0,0,0)},(L,la)=>{L.setTime(+L+
36E5*la)},(L,la)=>(la-L)/36E5,L=>L.getUTCHours());ue.range;const Ne=rc(L=>L.setHours(0,0,0,0),(L,la)=>L.setDate(L.getDate()+la),(L,la)=>(la-L-6E4*(la.getTimezoneOffset()-L.getTimezoneOffset()))/864E5,L=>L.getDate()-1);Ne.range;const vf=rc(L=>{L.setUTCHours(0,0,0,0)},(L,la)=>{L.setUTCDate(L.getUTCDate()+la)},(L,la)=>(la-L)/864E5,L=>L.getUTCDate()-1);vf.range;const gf=rc(L=>{L.setUTCHours(0,0,0,0)},(L,la)=>{L.setUTCDate(L.getUTCDate()+la)},(L,la)=>(la-L)/864E5,L=>Math.floor(L/864E5));gf.range;const $g=
Lb(0),re=Lb(1),Se=Lb(2),nh=Lb(3),ph=Lb(4),yf=Lb(5),Bf=Lb(6);$g.range;re.range;Se.range;nh.range;ph.range;yf.range;Bf.range;const Ag=Mc(0),kh=Mc(1),Ff=Mc(2),uf=Mc(3),Kg=Mc(4),kg=Mc(5),Eh=Mc(6);Ag.range;kh.range;Ff.range;uf.range;Kg.range;kg.range;Eh.range;const gi=rc(L=>{L.setDate(1);L.setHours(0,0,0,0)},(L,la)=>{L.setMonth(L.getMonth()+la)},(L,la)=>la.getMonth()-L.getMonth()+12*(la.getFullYear()-L.getFullYear()),L=>L.getMonth());gi.range;const dg=rc(L=>{L.setUTCDate(1);L.setUTCHours(0,0,0,0)},(L,
la)=>{L.setUTCMonth(L.getUTCMonth()+la)},(L,la)=>la.getUTCMonth()-L.getUTCMonth()+12*(la.getUTCFullYear()-L.getUTCFullYear()),L=>L.getUTCMonth());dg.range;const Cf=rc(L=>{L.setMonth(0,1);L.setHours(0,0,0,0)},(L,la)=>{L.setFullYear(L.getFullYear()+la)},(L,la)=>la.getFullYear()-L.getFullYear(),L=>L.getFullYear());Cf.every=L=>isFinite(L=Math.floor(L))&&0<L?rc(la=>{la.setFullYear(Math.floor(la.getFullYear()/L)*L);la.setMonth(0,1);la.setHours(0,0,0,0)},(la,Ua)=>{la.setFullYear(la.getFullYear()+Ua*L)}):
null;Cf.range;const Eg=rc(L=>{L.setUTCMonth(0,1);L.setUTCHours(0,0,0,0)},(L,la)=>{L.setUTCFullYear(L.getUTCFullYear()+la)},(L,la)=>la.getUTCFullYear()-L.getUTCFullYear(),L=>L.getUTCFullYear());Eg.every=L=>isFinite(L=Math.floor(L))&&0<L?rc(la=>{la.setUTCFullYear(Math.floor(la.getUTCFullYear()/L)*L);la.setUTCMonth(0,1);la.setUTCHours(0,0,0,0)},(la,Ua)=>{la.setUTCFullYear(la.getUTCFullYear()+Ua*L)}):null;Eg.range;const [Ki,rj]=qd(Eg,dg,Ag,gf,ue,Id),[sj,vk]=qd(Cf,gi,$g,Ne,je,Wc);var ej={"-":"",_:" ",
0:"0"},$f=/^\s*\d+/,wk=/^%/,Cj=/[\\^$*+?|[\]().{}]/g,fh,Oi,Uj;(function(L){fh=Td(L);Oi=fh.format;fh.parse;Uj=fh.utcFormat;fh.utcParse;return fh})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});
var Dj=Array.prototype.map;const cl=Array.prototype.slice,Pi=new Map,zi=Symbol("vega_scale");De("identity",kb);De("linear",Ka,"continuous");De("log",pd,["continuous","log"]);De("pow",ca,"continuous");De("sqrt",function(){return ca.apply(null,arguments).exponent(.5)},"continuous");De("symlog",Ge,"continuous");De("time",function(){return ia.apply(Of(sj,vk,Cf,gi,$g,Ne,je,Wc,cd,Oi).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)},["continuous","temporal"]);De("utc",function(){return ia.apply(Of(Ki,
rj,Eg,dg,Ag,vf,ue,Id,cd,Uj).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)},["continuous","temporal"]);De("sequential",lg,["continuous","interpolating"]);De("sequential-linear",lg,["continuous","interpolating"]);De("sequential-log",Fg,["continuous","interpolating","log"]);De("sequential-pow",Gg,["continuous","interpolating"]);De("sequential-sqrt",function(){return Gg.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);De("sequential-symlog",Ch,["continuous","interpolating"]);
De("diverging-linear",ch,["continuous","interpolating"]);De("diverging-log",T,["continuous","interpolating","log"]);De("diverging-pow",lb,["continuous","interpolating"]);De("diverging-sqrt",function(){return lb.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);De("diverging-symlog",Ja,["continuous","interpolating"]);De("quantile",Ga,["discretizing","quantile"]);De("quantize",eb,"discretizing");De("threshold",Cb,"discretizing");De("bin-ordinal",Ld,["discrete","discretizing"]);De("ordinal",
Ra,"discrete");De("band",Gc,"discrete");De("point",function(){return Ec(Gc().paddingInner(1))},"discrete");const Vj=["clamp","base","constant","exponent"];var Qi=ie("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Wj=ie("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),xk=ie("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),fj=ie("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),Ri=ie("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Cg=ie("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),
hi=ie("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Wh=ie("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Lh=ie("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),hj=ie("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");const jj={};Je({accent:Wj,category10:Qi,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",
category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:xk,observable10:fj,paired:Ri,pastel1:Cg,pastel2:hi,set1:Wh,set2:Lh,set3:hj,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"},sf);Je({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",
greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",
greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",
yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",
redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},L=>sh(sf(L)));const Hj=L=>h.isArray(L)?L.map(la=>String(la)):String(L),ij=(L,la)=>L[1]-la[1],bg=(L,la)=>la[1]-L[1],Si={quantile:"quantiles",quantize:"thresholds",threshold:"domain"},xh={quantile:"quantiles",quantize:"domain"},Xi=L=>(la,Ua,cb)=>{Ua=cb[Ua+1];cb=cb.max;cb=null!=cb?cb:Infinity;Ua=null!=Ua?Ua:cb;
la=Number.isFinite(la)?L(la):null;Ua=Number.isFinite(Ua)?L(Ua):null;return la&&Ua?la+"  "+Ua:Ua?"\x3c "+Ua:" "+la},ji=L=>(la,Ua)=>Ua?L(la):null,ii=L=>la=>L(la);r.Band="band";r.BinOrdinal="bin-ordinal";r.DiscreteLegend="discrete";r.Diverging="diverging";r.GradientLegend="gradient";r.Identity="identity";r.Linear="linear";r.Log="log";r.Ordinal="ordinal";r.Point="point";r.Pow="pow";r.Quantile="quantile";r.Quantize="quantize";r.Sequential="sequential";r.Sqrt="sqrt";r.SymbolLegend="symbol";r.Symlog="symlog";
r.Threshold="threshold";r.Time="time";r.UTC="utc";r.bandSpace=Ya;r.domainCaption=function(L,la,Ua){Ua=Ua||{};var cb=Math.max(3,Ua.maxlen||7),ob=Ua.format;const Jb=(Ua=Ua.formatType)||la.type;h.isString(ob)&&gg(Jb)&&(ob=ob.replace(/%a/g,"%A").replace(/%b/g,"%B"));L=ob||"time"!==Jb?ob||"utc"!==Jb?Wg(L,la,5,null,ob,Ua,!0):L.utcFormat("%A, %d %B %Y, %X UTC"):L.timeFormat("%A, %d %B %Y, %X");if(Tf(la.type))return cb=cf(la).slice(1).map(L),la=cb.length,`${la} boundar${1===la?"y":"ies"}: ${cb.join(", ")}`;
if(ih(la.type))return ob=la.domain(),la=ob.length,cb=la>cb?ob.slice(0,cb-2).map(L).join(", ")+", ending with "+ob.slice(-1).map(L):ob.map(L).join(", "),`${la} value${1===la?"":"s"}: ${cb}`;cb=la.domain();return`values from ${L(cb[0])} to ${L(h.peek(cb))}`};r.interpolate=Dh;r.interpolateColors=sh;r.interpolateRange=function(L,la){const Ua=la[0],cb=h.peek(la)-Ua;return function(ob){return L(Ua+ob*cb)}};r.isContinuous=function(L){return Yf(L,"continuous")};r.isDiscrete=ih;r.isDiscretizing=Tf;r.isInterpolating=
function(L){return Yf(L,"interpolating")};r.isLogarithmic=Vg;r.isQuantile=function(L){return Yf(L,"quantile")};r.isRegisteredScale=function(L){return L&&!0===L[zi]};r.isTemporal=gg;r.isValidScaleType=Jf;r.labelFormat=Wg;r.labelFraction=function(L){var la=L.domain();const Ua=la.length-1;let cb=+la[0];la=+h.peek(la);let ob=la-cb;"threshold"===L.type&&(L=Ua?ob/Ua:.1,cb-=L,la+=L,ob=la-cb);return Jb=>(Jb-cb)/ob};r.labelValues=cf;r.quantizeInterpolator=function(L,la){const Ua=Array(la),cb=la+1;for(let ob=
0;ob<la;)Ua[ob]=L(++ob/cb);return Ua};r.registerScale=he;r.scale=De;r.scaleCopy=function(L){const la=L.type;L=L.copy();L.type=la;return L};r.scaleFraction=function(L,la,Ua){var cb=Ua-la;let ob,Jb;return cb&&Number.isFinite(cb)?(cb=(ob=L.type).indexOf("-"),ob=0>cb?ob:ob.slice(cb+1),Jb=De(ob)().domain([la,Ua]).range([0,1]),Vj.forEach(uc=>L[uc]?Jb[uc](L[uc]()):0),Jb):h.constant(.5)};r.scaleImplicit=uh;r.scheme=lf;r.tickCount=function(L,la,Ua){let cb;h.isNumber(la)&&(L.bins&&(la=Math.max(la,L.bins.length)),
null!=Ua&&(la=Math.min(la,Math.floor(h.span(L.domain())/Ua||1)+1)));h.isObject(la)&&(cb=la.step,la=la.interval);h.isString(la)&&(la="time"===L.type?ka.timeInterval(la):"utc"==L.type?ka.utcInterval(la):h.error("Only time and utc scales accept interval strings."),cb&&(la=la.every(cb)));return la};r.tickFormat=Zf;r.tickValues=tf;r.validTicks=Ye})};
shadow$provide[34]=function(Db,mb,Cc,Va){(function(r,h){"object"===typeof Va&&"undefined"!==typeof Cc?h(Va,mb(21),mb(32),mb(28),mb(33)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-canvas","vega-loader","vega-scale"],h):(r="undefined"!==typeof globalThis?globalThis:r||self,h(r.vega={},r.vega,r.vega,r.vega,r.vega))})(this,function(r,h,ka,Ya,ub){function Yb(C,aa,Aa){const Na=C.gradient;let Hb=C.id,xb="radial"===Na?"p_":"";Hb||(Hb=C.id="gradient_"+xe++,"radial"===Na?(C.x1=
bc(C.x1,.5),C.y1=bc(C.y1,.5),C.r1=bc(C.r1,0),C.x2=bc(C.x2,.5),C.y2=bc(C.y2,.5),C.r2=bc(C.r2,.5),xb="p_"):(C.x1=bc(C.x1,0),C.y1=bc(C.y1,0),C.x2=bc(C.x2,1),C.y2=bc(C.y2,0)));aa[Hb]=C;return"url("+(Aa||"")+"#"+xb+Hb+")"}function bc(C,aa){return null!=C?C:aa}function Xb(C){return function(){return C}}function oc(C){return 1<=C?Fb:-1>=C?-Fb:Math.asin(C)}function zb(C){this._+=C[0];for(let aa=1,Aa=C.length;aa<Aa;++aa)this._+=arguments[aa]+C[aa]}function Ub(C){let aa=Math.floor(C);if(!(0<=aa))throw Error(`invalid digits: ${C}`);
if(15<aa)return zb;const Aa=Math.pow(10,aa);return function(Na){this._+=Na[0];for(let Hb=1,xb=Na.length;Hb<xb;++Hb)this._+=Math.round(arguments[Hb]*Aa)/Aa+Na[Hb]}}function kc(){return new xc}function Ea(C){let aa=3;C.digits=function(Aa){if(!arguments.length)return aa;if(null==Aa)aa=null;else{const Na=Math.floor(Aa);if(!(0<=Na))throw new RangeError(`invalid digits: ${Aa}`);aa=Na}return C};return()=>new xc(aa)}function Za(C){return C.innerRadius}function tb(C){return C.outerRadius}function rb(C){return C.startAngle}
function pb(C){return C.endAngle}function vb(C){return C&&C.padAngle}function gb(C,aa,Aa,Na,Hb,xb,fc){var q=C-Aa,I=aa-Na;fc=(fc?xb:-xb)/ua(q*q+I*I);I*=fc;q*=-fc;var ha=C+I,va=aa+q,$a=Aa+I,Ob=Na+q;Aa=(ha+$a)/2;Na=(va+Ob)/2;aa=$a-ha;C=Ob-va;fc=aa*aa+C*C;xb=Hb-xb;Ob=ha*Ob-$a*va;var ic=(0>C?-1:1)*ua(P(0,xb*xb*fc-Ob*Ob));ha=(Ob*C-aa*ic)/fc;va=(-Ob*aa-C*ic)/fc;$a=(Ob*C+aa*ic)/fc;aa=(-Ob*aa+C*ic)/fc;C=ha-Aa;fc=va-Na;Aa=$a-Aa;Na=aa-Na;C*C+fc*fc>Aa*Aa+Na*Na&&(ha=$a,va=aa);return{cx:ha,cy:va,x01:-I,y01:-q,
x11:ha*(Hb/xb-1),y11:va*(Hb/xb-1)}}function ec(C){return"object"===typeof C&&"length"in C?C:Array.from(C)}function sa(C){this._context=C}function ia(C){return new sa(C)}function Ba(C){return C[0]}function Ra(C){return C[1]}function Wa(C,aa){function Aa(I){var ha,va=(I=ec(I)).length,$a,Ob=!1,ic;null==Hb&&(fc=xb(ic=q()));for(ha=0;ha<=va;++ha)!(ha<va&&Na($a=I[ha],ha,I))===Ob&&((Ob=!Ob)?fc.lineStart():fc.lineEnd()),Ob&&fc.point(+C($a,ha,I),+aa($a,ha,I));if(ic)return fc=null,ic+""||null}var Na=Xb(!0),
Hb=null,xb=ia,fc=null,q=Ea(Aa);C="function"===typeof C?C:void 0===C?Ba:Xb(C);aa="function"===typeof aa?aa:void 0===aa?Ra:Xb(aa);Aa.x=function(I){return arguments.length?(C="function"===typeof I?I:Xb(+I),Aa):C};Aa.y=function(I){return arguments.length?(aa="function"===typeof I?I:Xb(+I),Aa):aa};Aa.defined=function(I){return arguments.length?(Na="function"===typeof I?I:Xb(!!I),Aa):Na};Aa.curve=function(I){return arguments.length?(xb=I,null!=Hb&&(fc=xb(Hb)),Aa):xb};Aa.context=function(I){return arguments.length?
(null==I?Hb=fc=null:fc=xb(Hb=I),Aa):Hb};return Aa}function Ia(C,aa,Aa){function Na($a){var Ob,ic,Kc=($a=ec($a)).length,gc,cd=!1,Wc,Id=Array(Kc),je=Array(Kc);null==q&&(ha=I(Wc=va()));for(Ob=0;Ob<=Kc;++Ob){if(!(Ob<Kc&&fc(gc=$a[Ob],Ob,$a))===cd)if(cd=!cd){var ue=Ob;ha.areaStart();ha.lineStart()}else{ha.lineEnd();ha.lineStart();for(ic=Ob-1;ic>=ue;--ic)ha.point(Id[ic],je[ic]);ha.lineEnd();ha.areaEnd()}cd&&(Id[Ob]=+C(gc,Ob,$a),je[Ob]=+aa(gc,Ob,$a),ha.point(xb?+xb(gc,Ob,$a):Id[Ob],Aa?+Aa(gc,Ob,$a):je[Ob]))}if(Wc)return ha=
null,Wc+""||null}function Hb(){return Wa().defined(fc).curve(I).context(q)}var xb=null,fc=Xb(!0),q=null,I=ia,ha=null,va=Ea(Na);C="function"===typeof C?C:void 0===C?Ba:Xb(+C);aa="function"===typeof aa?aa:void 0===aa?Xb(0):Xb(+aa);Aa="function"===typeof Aa?Aa:void 0===Aa?Ra:Xb(+Aa);Na.x=function($a){return arguments.length?(C="function"===typeof $a?$a:Xb(+$a),xb=null,Na):C};Na.x0=function($a){return arguments.length?(C="function"===typeof $a?$a:Xb(+$a),Na):C};Na.x1=function($a){return arguments.length?
(xb=null==$a?null:"function"===typeof $a?$a:Xb(+$a),Na):xb};Na.y=function($a){return arguments.length?(aa="function"===typeof $a?$a:Xb(+$a),Aa=null,Na):aa};Na.y0=function($a){return arguments.length?(aa="function"===typeof $a?$a:Xb(+$a),Na):aa};Na.y1=function($a){return arguments.length?(Aa=null==$a?null:"function"===typeof $a?$a:Xb(+$a),Na):Aa};Na.lineX0=Na.lineY0=function(){return Hb().x(C).y(aa)};Na.lineY1=function(){return Hb().x(C).y(Aa)};Na.lineX1=function(){return Hb().x(xb).y(aa)};Na.defined=
function($a){return arguments.length?(fc="function"===typeof $a?$a:Xb(!!$a),Na):fc};Na.curve=function($a){return arguments.length?(I=$a,null!=q&&(ha=I(q)),Na):I};Na.context=function($a){return arguments.length?(null==$a?q=ha=null:ha=I(q=$a),Na):q};return Na}function hb(){}function ab(C,aa,Aa){C._context.bezierCurveTo((2*C._x0+C._x1)/3,(2*C._y0+C._y1)/3,(C._x0+2*C._x1)/3,(C._y0+2*C._y1)/3,(C._x0+4*C._x1+aa)/6,(C._y0+4*C._y1+Aa)/6)}function qb(C){this._context=C}function Pb(C){this._context=C}function db(C){this._context=
C}function U(C,aa){this._basis=new qb(C);this._beta=aa}function ba(C,aa,Aa){C._context.bezierCurveTo(C._x1+C._k*(C._x2-C._x0),C._y1+C._k*(C._y2-C._y0),C._x2+C._k*(C._x1-aa),C._y2+C._k*(C._y1-Aa),C._x2,C._y2)}function ea(C,aa){this._context=C;this._k=(1-aa)/6}function ja(C,aa){this._context=C;this._k=(1-aa)/6}function La(C,aa){this._context=C;this._k=(1-aa)/6}function oa(C,aa,Aa){var Na=C._x1,Hb=C._y1,xb=C._x2,fc=C._y2;if(1E-12<C._l01_a){var q=2*C._l01_2a+3*C._l01_a*C._l12_a+C._l12_2a,I=3*C._l01_a*
(C._l01_a+C._l12_a);Na=(Na*q-C._x0*C._l12_2a+C._x2*C._l01_2a)/I;Hb=(Hb*q-C._y0*C._l12_2a+C._y2*C._l01_2a)/I}1E-12<C._l23_a&&(q=2*C._l23_2a+3*C._l23_a*C._l12_a+C._l12_2a,I=3*C._l23_a*(C._l23_a+C._l12_a),xb=(xb*q+C._x1*C._l23_2a-aa*C._l12_2a)/I,fc=(fc*q+C._y1*C._l23_2a-Aa*C._l12_2a)/I);C._context.bezierCurveTo(Na,Hb,xb,fc,C._x2,C._y2)}function qa(C,aa){this._context=C;this._alpha=aa}function l(C,aa){this._context=C;this._alpha=aa}function D(C,aa){this._context=C;this._alpha=aa}function K(C){this._context=
C}function v(C,aa,Aa){var Na=C._x1-C._x0;aa-=C._x1;var Hb=(C._y1-C._y0)/(Na||0>aa&&-0);C=(Aa-C._y1)/(aa||0>Na&&-0);return((0>Hb?-1:1)+(0>C?-1:1))*Math.min(Math.abs(Hb),Math.abs(C),.5*Math.abs((Hb*aa+C*Na)/(Na+aa)))||0}function R(C,aa){var Aa=C._x1-C._x0;return Aa?(3*(C._y1-C._y0)/Aa-aa)/2:aa}function A(C,aa,Aa){var Na=C._x0,Hb=C._x1,xb=C._y1,fc=(Hb-Na)/3;C._context.bezierCurveTo(Na+fc,C._y0+fc*aa,Hb-fc,xb-fc*Aa,Hb,xb)}function W(C){this._context=C}function G(C){this._context=new w(C)}function w(C){this._context=
C}function z(C){this._context=C}function F(C){var aa,Aa=C.length-1,Na=Array(Aa),Hb=Array(Aa),xb=Array(Aa);Na[0]=0;Hb[0]=2;xb[0]=C[0]+2*C[1];for(aa=1;aa<Aa-1;++aa)Na[aa]=1,Hb[aa]=4,xb[aa]=4*C[aa]+2*C[aa+1];Na[Aa-1]=2;Hb[Aa-1]=7;xb[Aa-1]=8*C[Aa-1]+C[Aa];for(aa=1;aa<Aa;++aa){var fc=Na[aa]/Hb[aa-1];Hb[aa]-=fc;xb[aa]-=fc*xb[aa-1]}Na[Aa-1]=xb[Aa-1]/Hb[Aa-1];for(aa=Aa-2;0<=aa;--aa)Na[aa]=(xb[aa]-Na[aa+1])/Hb[aa];Hb[Aa-1]=(C[Aa]+Na[Aa-1])/2;for(aa=0;aa<Aa-1;++aa)Hb[aa]=2*C[aa+1]-Na[aa+1];return[Na,Hb]}function V(C,
aa){this._context=C;this._t=aa}function ta(C,aa,Aa){C=h.hasOwnProperty(Zc,C)&&Zc[C];var Na=null;C&&(Na=C.curve||C[aa||"vertical"],C.tension&&null!=Aa&&(Na=Na[C.tension](Aa)));return Na}function N(C){const aa=[];(C.match(Yd)||[]).forEach(Aa=>{let Na=Aa[0];var Hb=Na.toLowerCase();const xb=zd[Hb];var fc=Aa.slice(1).trim();Aa=[];for(let I=0;xb&&I<fc.length;)for(let ha=0;ha<xb;++ha){var q="a"!==Hb||3!==ha&&4!==ha?Zd:Rd;q=fc.slice(I).match(q);if(null===q)throw Error("Invalid SVG path, incorrect parameter type");
I+=q[0].length;Aa.push(+q[0]);q=fc.slice(I).match(Ce);null!==q&&(I+=q[0].length)}fc=Aa.length;if(fc<xb||fc&&0!==fc%xb)throw Error("Invalid SVG path, incorrect parameter count");aa.push([Na,...Aa.slice(0,xb)]);if(fc!==xb)for("m"===Hb&&(Na="M"===Na?"L":"l"),Hb=xb;Hb<fc;Hb+=xb)aa.push([Na,...Aa.slice(Hb,Hb+xb)])});return aa}function ma(C,aa,Aa,Na,Hb,xb,fc,q,I){const ha=Pe.call(arguments);if(Df[ha])return Df[ha];var va=fc*Od;const $a=Math.sin(va);va=Math.cos(va);Aa=Math.abs(Aa);Na=Math.abs(Na);var Ob=
va*(q-C)*.5+$a*(I-aa)*.5,ic=va*(I-aa)*.5-$a*(q-C)*.5;Ob=Ob*Ob/(Aa*Aa)+ic*ic/(Na*Na);1<Ob&&(Ob=Math.sqrt(Ob),Aa*=Ob,Na*=Ob);var Kc=va/Aa,gc=$a/Aa,cd=-$a/Na,Wc=va/Na;Ob=Kc*q+gc*I;ic=cd*q+Wc*I;Kc=Kc*C+gc*aa;gc=cd*C+Wc*aa;cd=1/((Kc-Ob)*(Kc-Ob)+(gc-ic)*(gc-ic))-.25;0>cd&&(cd=0);Wc=Math.sqrt(cd);xb==Hb&&(Wc=-Wc);cd=.5*(Ob+Kc)-Wc*(gc-ic);Wc=.5*(ic+gc)+Wc*(Kc-Ob);Ob=Math.atan2(ic-Wc,Ob-cd);ic=Math.atan2(gc-Wc,Kc-cd)-Ob;0>ic&&1===xb?ic+=Ae:0<ic&&0===xb&&(ic-=Ae);Kc=Math.ceil(Math.abs(ic/(te+.001)));gc=[];
for(let Id=0;Id<Kc;++Id)gc[Id]=[cd,Wc,Ob+Id*ic/Kc,Ob+(Id+1)*ic/Kc,Aa,Na,$a,va];return Df[ha]=gc}function ya(C,aa,Aa,Na,Hb,xb){var fc=null,q=0,I=0,ha=0,va=0,$a=0,Ob=0;null==Aa&&(Aa=0);null==Na&&(Na=0);null==Hb&&(Hb=1);null==xb&&(xb=Hb);C.beginPath&&C.beginPath();for(var ic=0,Kc=aa.length;ic<Kc;++ic){var gc=aa[ic];if(1!==Hb||1!==xb){var cd=Hb;var Wc=xb;var Id=Te[0]=gc[0];if("a"===Id||"A"===Id)Te[1]=cd*gc[1],Te[2]=Wc*gc[2],Te[3]=gc[3],Te[4]=gc[4],Te[5]=gc[5],Te[6]=cd*gc[6],Te[7]=Wc*gc[7];else if("h"===
Id||"H"===Id)Te[1]=cd*gc[1];else if("v"===Id||"V"===Id)Te[1]=Wc*gc[1];else{Id=1;for(var je=gc.length;Id<je;++Id)Te[Id]=(1==Id%2?cd:Wc)*gc[Id]}gc=Te}switch(gc[0]){case "l":q+=gc[1];I+=gc[2];C.lineTo(q+Aa,I+Na);break;case "L":q=gc[1];I=gc[2];C.lineTo(q+Aa,I+Na);break;case "h":q+=gc[1];C.lineTo(q+Aa,I+Na);break;case "H":q=gc[1];C.lineTo(q+Aa,I+Na);break;case "v":I+=gc[1];C.lineTo(q+Aa,I+Na);break;case "V":I=gc[1];C.lineTo(q+Aa,I+Na);break;case "m":q+=gc[1];I+=gc[2];$a=q;Ob=I;C.moveTo(q+Aa,I+Na);break;
case "M":q=gc[1];I=gc[2];$a=q;Ob=I;C.moveTo(q+Aa,I+Na);break;case "c":cd=q+gc[5];Wc=I+gc[6];ha=q+gc[3];va=I+gc[4];C.bezierCurveTo(q+gc[1]+Aa,I+gc[2]+Na,ha+Aa,va+Na,cd+Aa,Wc+Na);q=cd;I=Wc;break;case "C":q=gc[5];I=gc[6];ha=gc[3];va=gc[4];C.bezierCurveTo(gc[1]+Aa,gc[2]+Na,ha+Aa,va+Na,q+Aa,I+Na);break;case "s":cd=q+gc[3];Wc=I+gc[4];ha=2*q-ha;va=2*I-va;C.bezierCurveTo(ha+Aa,va+Na,q+gc[1]+Aa,I+gc[2]+Na,cd+Aa,Wc+Na);ha=q+gc[1];va=I+gc[2];q=cd;I=Wc;break;case "S":cd=gc[3];Wc=gc[4];ha=2*q-ha;va=2*I-va;C.bezierCurveTo(ha+
Aa,va+Na,gc[1]+Aa,gc[2]+Na,cd+Aa,Wc+Na);q=cd;I=Wc;ha=gc[1];va=gc[2];break;case "q":cd=q+gc[3];Wc=I+gc[4];ha=q+gc[1];va=I+gc[2];C.quadraticCurveTo(ha+Aa,va+Na,cd+Aa,Wc+Na);q=cd;I=Wc;break;case "Q":cd=gc[3];Wc=gc[4];C.quadraticCurveTo(gc[1]+Aa,gc[2]+Na,cd+Aa,Wc+Na);q=cd;I=Wc;ha=gc[1];va=gc[2];break;case "t":cd=q+gc[1];Wc=I+gc[2];null===fc[0].match(/[QqTt]/)?(ha=q,va=I):"t"===fc[0]?(ha=2*q-ue,va=2*I-Ne):"q"===fc[0]&&(ha=2*q-ha,va=2*I-va);var ue=ha;var Ne=va;C.quadraticCurveTo(ha+Aa,va+Na,cd+Aa,Wc+Na);
q=cd;I=Wc;ha=q+gc[1];va=I+gc[2];break;case "T":cd=gc[1];Wc=gc[2];ha=2*q-ha;va=2*I-va;C.quadraticCurveTo(ha+Aa,va+Na,cd+Aa,Wc+Na);q=cd;I=Wc;break;case "a":Ma(C,q+Aa,I+Na,[gc[1],gc[2],gc[3],gc[4],gc[5],gc[6]+q+Aa,gc[7]+I+Na]);q+=gc[6];I+=gc[7];break;case "A":Ma(C,q+Aa,I+Na,[gc[1],gc[2],gc[3],gc[4],gc[5],gc[6]+Aa,gc[7]+Na]);q=gc[6];I=gc[7];break;case "z":case "Z":q=$a,I=Ob,C.closePath()}fc=gc}}function Ma(C,aa,Aa,Na){aa=ma(Na[5],Na[6],Na[0],Na[1],Na[3],Na[4],Na[2],aa,Aa);for(Aa=0;Aa<aa.length;++Aa){a:{var Hb=
aa[Aa];Na=Pe.call(Hb);if(td[Na]){Na=td[Na];break a}var xb=Hb[0],fc=Hb[1],q=Hb[2],I=Hb[3],ha=Hb[4],va=Hb[5],$a=Hb[6],Ob=Hb[7];Hb=Ob*ha;const Kc=-$a*va;ha*=$a;va*=Ob;var ic=Math.cos(q);const gc=Math.sin(q);$a=Math.cos(I);Ob=Math.sin(I);q=.5*(I-q);I=Math.sin(.5*q);I=8/3*I*I/Math.sin(q);q=xb+ic-I*gc;ic=fc+gc+I*ic;xb+=$a;fc+=Ob;Ob=xb+I*Ob;$a=fc-I*$a;Na=td[Na]=[Hb*q+Kc*ic,ha*q+va*ic,Hb*Ob+Kc*$a,ha*Ob+va*$a,Hb*xb+Kc*fc,ha*xb+va*fc]}C.bezierCurveTo(Na[0],Na[1],Na[2],Na[3],Na[4],Na[5])}}function Pa(C){return h.hasOwnProperty(kf,
C)?kf[C]:Xa(C)}function Xa(C){if(!h.hasOwnProperty(Xf,C)){const aa=N(C);Xf[C]={draw:function(Aa,Na){ya(Aa,aa,0,0,Math.sqrt(Na)/2)}}}return Xf[C]}function sb(C){return C.x}function ib(C){return C.y}function Tb(C){return C.width}function X(C){return C.height}function Fa(C){return"function"===typeof C?C:()=>+C}function Kb(C,aa,Aa){return Math.max(aa,Math.min(C,Aa))}function qc(){function C(va,$a,Ob){var ic;$a=null!=$a?$a:+aa.call(this,va);Ob=null!=Ob?Ob:+Aa.call(this,va);var Kc=+Na.call(this,va),gc=
+Hb.call(this,va),cd=Math.min(Kc,gc)/2,Wc=Kb(+xb.call(this,va),0,cd),Id=Kb(+fc.call(this,va),0,cd),je=Kb(+q.call(this,va),0,cd);va=Kb(+I.call(this,va),0,cd);ha||(ha=ic=kc());0>=Wc&&0>=Id&&0>=je&&0>=va?ha.rect($a,Ob,Kc,gc):(Kc=$a+Kc,gc=Ob+gc,ha.moveTo($a+Wc,Ob),ha.lineTo(Kc-Id,Ob),ha.bezierCurveTo(Kc-.448084975506*Id,Ob,Kc,Ob+.448084975506*Id,Kc,Ob+Id),ha.lineTo(Kc,gc-va),ha.bezierCurveTo(Kc,gc-.448084975506*va,Kc-.448084975506*va,gc,Kc-va,gc),ha.lineTo($a+je,gc),ha.bezierCurveTo($a+.448084975506*
je,gc,$a,gc-.448084975506*je,$a,gc-je),ha.lineTo($a,Ob+Wc),ha.bezierCurveTo($a,Ob+.448084975506*Wc,$a+.448084975506*Wc,Ob,$a+Wc,Ob),ha.closePath());if(ic)return ha=null,ic+""||null}var aa=sb,Aa=ib,Na=Tb,Hb=X,xb=Fa(0),fc=xb,q=xb,I=xb,ha=null;C.x=function(va){return arguments.length?(aa=Fa(va),C):aa};C.y=function(va){return arguments.length?(Aa=Fa(va),C):Aa};C.width=function(va){return arguments.length?(Na=Fa(va),C):Na};C.height=function(va){return arguments.length?(Hb=Fa(va),C):Hb};C.cornerRadius=
function(va,$a,Ob,ic){return arguments.length?(xb=Fa(va),fc=null!=$a?Fa($a):xb,I=null!=Ob?Fa(Ob):xb,q=null!=ic?Fa(ic):fc,C):xb};C.context=function(va){return arguments.length?(ha=null==va?null:va,C):ha};return C}function $b(){function C(va){var $a,Ob=va.length,ic,Kc=!1,gc;null==xb&&(xb=gc=kc());for($a=0;$a<=Ob;++$a)if(!($a<Ob&&Hb(ic=va[$a],$a,va))===Kc&&(Kc=!Kc)&&(fc=0),Kc){var cd=+aa(ic,$a,va),Wc=+Aa(ic,$a,va);const gf=+Na(ic,$a,va)/2;if(fc){var Id=I-Wc,je=cd-q;if(Id||je){var ue=Math.hypot(Id,je),
Ne=(Id/=ue)*ha;ue=(je/=ue)*ha;var vf=Math.atan2(je,Id);xb.moveTo(q-Ne,I-ue);xb.lineTo(cd-Id*gf,Wc-je*gf);xb.arc(cd,Wc,gf,vf-Math.PI,vf);xb.lineTo(q+Ne,I+ue);xb.arc(q,I,ha,vf,vf+Math.PI)}else xb.arc(cd,Wc,gf,0,Ae);xb.closePath()}else fc=1;q=cd;I=Wc;ha=gf}if(gc)return xb=null,gc+""||null}var aa,Aa,Na,Hb,xb=null,fc,q,I,ha;C.x=function(va){return arguments.length?(aa=va,C):aa};C.y=function(va){return arguments.length?(Aa=va,C):Aa};C.size=function(va){return arguments.length?(Na=va,C):Na};C.defined=function(va){return arguments.length?
(Hb=va,C):Hb};C.context=function(va){return arguments.length?(xb=null==va?null:va,C):xb};return C}function Mb(C,aa){return null!=C?C:aa}function Qb(C){return C.cornerRadius||C.cornerRadiusTopLeft||C.cornerRadiusTopRight||C.cornerRadiusBottomRight||C.cornerRadiusBottomLeft}function wc(C,aa,Aa,Na){return lg.context(C)(aa,Aa,Na)}function fd(C,aa,Aa){var Na=aa.clip;C=C._defs;aa=aa.clip_id||(aa.clip_id="clip"+Gg++);C=C.clipping[aa]||(C.clipping[aa]={id:aa});h.isFunction(Na)?C.path=Na(null):Qb(Aa)?C.path=
wc(null,Aa,0,0):(C.width=Aa.width||0,C.height=Aa.height||0);return"url(#"+aa+")"}function ra(C){this.clear();C&&this.union(C)}function Ab(C){this.mark=C;this.bounds=this.bounds||new ra}function Ta(C){Ab.call(this,C);this.items=this.items||[]}function wb(C,aa,Aa){if(aa.stroke&&0!==aa.opacity&&0!==aa.strokeOpacity){const Na=null!=aa.strokeWidth?+aa.strokeWidth:1;C.expand(Na+(Aa?aa.strokeJoin&&"miter"!==aa.strokeJoin?0:Na:0))}return C}function Gb(C,aa){T=C;aa?(Gc=aa*Od,Ec=Ie=Math.cos(Gc),Ld=Math.sin(Gc),
he=-Ld):(Ec=Ie=1,Gc=Ld=he=0);return Vg}function Nb(C,aa,Aa,Na){Aa=(C-aa)/(C+Aa-2*aa);0<Aa&&1>Aa&&Na(C+(aa-C)*Aa)}function Zb(C,aa,Aa,Na,Hb){const xb=Na-C+3*aa-3*Aa,fc=C+Aa-2*aa;var q=C-aa;let I=0,ha=0;1E-14<Math.abs(xb)?(q=fc*fc+q*xb,0<=q&&(q=Math.sqrt(q),I=(-fc+q)/xb,ha=(-fc-q)/xb)):I=.5*q/fc;0<I&&1>I&&Hb(jc(I,C,aa,Aa,Na));0<ha&&1>ha&&Hb(jc(ha,C,aa,Aa,Na))}function jc(C,aa,Aa,Na,Hb){const xb=1-C,fc=xb*xb,q=C*C;return fc*xb*aa+3*fc*C*Aa+3*xb*q*Na+q*C*Hb}function Ac(C){return function(aa,Aa){if(!gg)return!0;
C(gg,aa);sh.clear().union(aa.bounds).intersect(Aa).round();const {x1:Na,y1:Hb,x2:xb,y2:fc}=sh;for(aa=Hb;aa<=fc;++aa)for(Aa=Na;Aa<=xb;++Aa)if(gg.isPointInPath(Aa,aa))return!0;return!1}}function ld(C,aa){return aa.contains(C.x||0,C.y||0)}function Vc(C,aa){const Aa=C.x||0,Na=C.y||0;return aa.intersects(sh.set(Aa,Na,Aa+(C.width||0),Na+(C.height||0)))}function na(C,aa){const Aa=C.x||0,Na=C.y||0;return Ha(aa,Aa,Na,null!=C.x2?C.x2:Aa,null!=C.y2?C.y2:Na)}function Ha(C,aa,Aa,Na,Hb){const {x1:xb,y1:fc,x2:q,
y2:I}=C;C=Na-aa;Hb-=Aa;Na=0;let ha=1,va,$a,Ob,ic;for(ic=0;4>ic;++ic){0===ic&&(va=-C,$a=-(xb-aa));1===ic&&(va=C,$a=q-aa);2===ic&&(va=-Hb,$a=-(fc-Aa));3===ic&&(va=Hb,$a=I-Aa);if(1E-10>Math.abs(va)&&0>$a)return!1;Ob=$a/va;if(0>va){if(Ob>ha)return!1;Ob>Na&&(Na=Ob)}else if(0<va){if(Ob<Na)return!1;Ob<ha&&(ha=Ob)}}return!0}function fb(C,aa){C.globalCompositeOperation=aa.blend||"source-over"}function Q(C,aa){return null==C?aa:C}function t(C,aa){const Aa=aa.length;for(let Na=0;Na<Aa;++Na)C.addColorStop(aa[Na].offset,
aa[Na].color);return C}function da(C,aa,Aa){const Na=Aa.width(),Hb=Aa.height();if("radial"===aa.gradient)C=C.createRadialGradient(Aa.x1+Q(aa.x1,.5)*Na,Aa.y1+Q(aa.y1,.5)*Hb,Math.max(Na,Hb)*Q(aa.r1,0),Aa.x1+Q(aa.x2,.5)*Na,Aa.y1+Q(aa.y2,.5)*Hb,Math.max(Na,Hb)*Q(aa.r2,.5));else{const xb=Q(aa.x1,0),fc=Q(aa.y1,0),q=Q(aa.x2,1),I=Q(aa.y2,0);if(xb===q||fc===I||Na===Hb)C=C.createLinearGradient(Aa.x1+xb*Na,Aa.y1+fc*Hb,Aa.x1+q*Na,Aa.y1+I*Hb);else{Aa=ka.canvas(Math.ceil(Na),Math.ceil(Hb));const ha=Aa.getContext("2d");
ha.scale(Na,Hb);ha.fillStyle=t(ha.createLinearGradient(xb,fc,q,I),aa.stops);ha.fillRect(0,0,Na,Hb);return C.createPattern(Aa,"no-repeat")}}return t(C,aa.stops)}function za(C,aa,Aa){Aa*=null==aa.fillOpacity?1:aa.fillOpacity;return 0<Aa?(C.globalAlpha=Aa,aa=(Aa=aa.fill)&&Aa.gradient?da(C,Aa,aa.bounds):Aa,C.fillStyle=aa,!0):!1}function Da(C,aa,Aa){var Na=null!=(Na=aa.strokeWidth)?Na:1;if(0>=Na)return!1;Aa*=null==aa.strokeOpacity?1:aa.strokeOpacity;return 0<Aa?(C.globalAlpha=Aa,Aa=(Aa=aa.stroke)&&Aa.gradient?
da(C,Aa,aa.bounds):Aa,C.strokeStyle=Aa,C.lineWidth=Na,C.lineCap=aa.strokeCap||"butt",C.lineJoin=aa.strokeJoin||"miter",C.miterLimit=aa.strokeMiterLimit||10,C.setLineDash&&(C.setLineDash(aa.strokeDash||Dh),C.lineDashOffset=aa.strokeDashOffset||0),!0):!1}function Oa(C,aa){return C.zindex-aa.zindex||C.index-aa.index}function jb(C){if(!C.zdirty)return C.zitems;var aa=C.items,Aa=[],Na;var Hb=0;for(Na=aa.length;Hb<Na;++Hb){var xb=aa[Hb];xb.index=Hb;xb.zindex&&Aa.push(xb)}C.zdirty=!1;return C.zitems=Aa.sort(Oa)}
function Rb(C,aa){var Aa=C.items,Na;if(Aa&&Aa.length){var Hb=jb(C);if(Hb&&Hb.length){C=0;for(Na=Aa.length;C<Na;++C)Aa[C].zindex||aa(Aa[C]);Aa=Hb}C=0;for(Na=Aa.length;C<Na;++C)aa(Aa[C])}}function Eb(C,aa){var Aa=C.items,Na,Hb;if(!Aa||!Aa.length)return null;const xb=jb(C);xb&&xb.length&&(Aa=xb);for(Hb=Aa.length;0<=--Hb;)if(Na=aa(Aa[Hb]))return Na;if(Aa===xb)for(Aa=C.items,Hb=Aa.length;0<=--Hb;)if(!Aa[Hb].zindex&&(Na=aa(Aa[Hb])))return Na;return null}function Ib(C){return function(aa,Aa,Na){Rb(Aa,Hb=>
{Na&&!Na.intersects(Hb.bounds)||Dc(C,aa,Hb,Hb)})}}function Bc(C){return function(aa,Aa,Na){!Aa.items.length||Na&&!Na.intersects(Aa.bounds)||Dc(C,aa,Aa.items[0],Aa.items)}}function Dc(C,aa,Aa,Na){var Hb=null==Aa.opacity?1:Aa.opacity;0===Hb||C(aa,Na)||(fb(aa,Aa),Aa.fill&&za(aa,Aa,Hb)&&aa.fill(),Aa.stroke&&Da(aa,Aa,Hb)&&aa.stroke())}function Rc(C){C=C||h.truthy;return function(aa,Aa,Na,Hb,xb,fc){Na*=aa.pixelRatio;Hb*=aa.pixelRatio;return Eb(Aa,q=>{const I=q.bounds;if((!I||I.contains(xb,fc))&&I&&C(aa,
q,Na,Hb,xb,fc))return q})}}function yd(C,aa){return function(Aa,Na,Hb,xb){var fc=Array.isArray(Na)?Na[0]:Na,q=null==aa?fc.fill:aa,I=fc.stroke&&Aa.isPointInStroke;if(I){var ha=fc.strokeWidth;fc=fc.strokeCap;Aa.lineWidth=null!=ha?ha:1;Aa.lineCap=null!=fc?fc:"butt"}return C(Aa,Na)?!1:q&&Aa.isPointInPath(Hb,xb)||I&&Aa.isPointInStroke(Hb,xb)}}function rd(C,aa){return"translate("+C+","+aa+")"}function gd(C,aa,Aa){function Na(Hb,xb){var fc=xb.x||0,q=xb.y||0,I=xb.angle||0;Hb.translate(fc,q);I&&Hb.rotate(I*=
Od);Hb.beginPath();aa(Hb,xb);I&&Hb.rotate(-I);Hb.translate(-fc,-q)}return{type:C,tag:"path",nested:!1,attr:function(Hb,xb){var fc=rd(xb.x||0,xb.y||0)+(xb.angle?" rotate("+(xb.angle+")"):"");Hb("transform",fc);Hb("d",aa(null,xb))},bound:function(Hb,xb){aa(Gb(Hb,xb.angle),xb);return wb(Hb,xb).translate(xb.x||0,xb.y||0)},draw:Ib(Na),pick:Rc(yd(Na)),isect:Aa||Ac(Na)}}function Fd(C,aa,Aa){function Na(xb,fc){xb.beginPath();aa(xb,fc)}const Hb=yd(Na);return{type:C,tag:"path",nested:!0,attr:function(xb,fc){fc=
fc.mark.items;fc.length&&xb("d",aa(null,fc))},bound:function(xb,fc){fc=fc.items;if(0===fc.length)return xb;aa(Gb(xb),fc);return wb(xb,fc[0])},draw:Bc(Na),pick:function(xb,fc,q,I,ha,va){var $a=fc.items;fc=fc.bounds;if(!$a||!$a.length||fc&&!fc.contains(ha,va))return null;q*=xb.pixelRatio;I*=xb.pixelRatio;return Hb(xb,$a,q,I)?$a[0]:null},isect:ld,tip:Aa}}function Gd(C,aa){C.beginPath();Qb(aa)?wc(C,aa,0,0):C.rect(0,0,aa.width||0,aa.height||0);C.clip()}function ud(C){const aa=Q(C.strokeWidth,1);return null!=
C.strokeOffset?C.strokeOffset:C.stroke&&.5<aa&&1.5>aa?.5-Math.abs(aa-1):0}function we(C,aa,Aa,Na){const Hb=ud(aa);C.beginPath();wc(C,aa,(Aa||0)+Hb,(Na||0)+Hb)}function Ed(C,aa){var Aa=C.image;if(!Aa||C.url&&C.url!==Aa.url)Aa={complete:!1,width:0,height:0},aa.loadImage(C.url).then(Na=>{C.image=Na;C.image.url=C.url});return Aa}function x(C,aa){return null!=C.width?C.width:aa&&aa.width?!1!==C.aspect&&C.height?C.height*aa.width/aa.height:aa.width:0}function J(C,aa){return null!=C.height?C.height:aa&&
aa.height?!1!==C.aspect&&C.width?C.width*aa.height/aa.width:aa.height:0}function xa(C,aa){return"center"===C?aa/2:"right"===C?aa:0}function Ka(C,aa){return"middle"===C?aa/2:"bottom"===C?aa:0}function kb(C,aa){var Aa=aa.path;if(null==Aa)return!0;var Na=aa.x||0,Hb=aa.y||0,xb=aa.scaleX||1,fc=aa.scaleY||1,q=(aa.angle||0)*Od,I=aa.pathCache;I&&I.path===Aa||((aa.pathCache=I=N(Aa)).path=Aa);q&&C.rotate&&C.translate?(C.translate(Na,Hb),C.rotate(q),ya(C,I,0,0,xb,fc),C.rotate(-q),C.translate(-Na,-Hb)):ya(C,
I,Na,Hb,xb,fc)}function yb(C,aa){C.beginPath();wc(C,aa)}function cc(C,aa,Aa){if(aa.stroke&&Da(C,aa,Aa)){Aa=aa.x||0;var Na=aa.y||0;var Hb=null!=aa.x2?aa.x2:Aa;aa=null!=aa.y2?aa.y2:Na;C.beginPath();C.moveTo(Aa,Na);C.lineTo(Hb,aa);return!0}return!1}function Sb(C){rg.width=C&&gg?Ic:pc}function pc(C,aa){aa=Bd(C,aa);C=Xc(C);return~~(.8*aa.length*C)}function Ic(C,aa){return 0>=Xc(C)||!(aa=Bd(C,aa))?0:yc(aa,le(C))}function yc(C,aa){const Aa=`(${aa}) ${C}`;let Na=Rh.get(Aa);void 0===Na&&(gg.font=aa,Na=gg.measureText(C).width,
Rh.set(Aa,Na));return Na}function Xc(C){return null!=C.fontSize?+C.fontSize||0:11}function md(C){return null!=C.lineHeight?C.lineHeight:Xc(C)+2}function sd(C){C=C.lineBreak&&C.text&&!h.isArray(C.text)?C.text.split(C.lineBreak):C.text;return h.isArray(C)?1<C.length?C:C[0]:C}function Bd(C,aa){aa=null==aa?"":(aa+"").trim();if(0<C.limit&&aa.length){var Aa=+C.limit,Na=pd(C);if(!(Na(aa)<Aa)){var Hb=C.ellipsis||"",xb="rtl"===C.dir;C=0;var fc=aa.length;Aa-=Na(Hb);if(xb){for(;C<fc;)xb=C+fc>>>1,Na(aa.slice(xb))>
Aa?C=xb+1:fc=xb;aa=Hb+aa.slice(C)}else{for(;C<fc;)xb=1+(C+fc>>>1),Na(aa.slice(0,xb))<Aa?C=xb:fc=xb-1;aa=aa.slice(0,C)+Hb}}}return aa}function pd(C){if(rg.width===Ic){const aa=le(C);return Aa=>yc(Aa,aa)}if(rg.width===pc){const aa=Xc(C);return Aa=>~~(.8*Aa.length*aa)}return aa=>rg.width(C,aa)}function Nd(C,aa){C=C.font;return(aa&&C?String(C).replace(/"/g,"'"):C)||"sans-serif"}function le(C,aa){return(C.fontStyle?C.fontStyle+" ":"")+(C.fontVariant?C.fontVariant+" ":"")+(C.fontWeight?C.fontWeight+" ":
"")+Xc(C)+"px "+Nd(C,aa)}function Re(C){var aa=C.baseline,Aa=Xc(C);return Math.round("top"===aa?.79*Aa:"middle"===aa?.3*Aa:"bottom"===aa?-.21*Aa:"line-top"===aa?.29*Aa+.5*md(C):"line-bottom"===aa?.29*Aa-.5*md(C):0)}function Ge(C){var aa=C.x||0,Aa=C.y||0,Na=C.radius||0;Na&&(C=(C.theta||0)-te,aa+=Na*Math.cos(C),Aa+=Na*Math.sin(C));mg.x1=aa;mg.y1=Aa;return mg}function Ke(C,aa,Aa){var Na=rg.height(aa),Hb=aa.align,xb=Ge(aa),fc=xb.x1;xb=xb.y1;var q=aa.dx||0,I=(aa.dy||0)+Re(aa)-Math.round(.8*Na),ha=sd(aa);
h.isArray(ha)?(Na+=md(aa)*(ha.length-1),ha=ha.reduce((va,$a)=>Math.max(va,rg.width(aa,$a)),0)):ha=rg.width(aa,ha);"center"===Hb?q-=ha/2:"right"===Hb&&(q-=ha);C.set(q+=fc,I+=xb,q+ha,I+Na);if(aa.angle&&!Aa)C.rotate(aa.angle*Od,fc,xb);else if(2===Aa)return C.rotatedPoints(aa.angle*Od,fc,xb);return C}function of(C,aa,Aa){var Na=Ig[C.mark.marktype];aa=aa||Na.bound;Na.nested&&(C=C.mark);return aa(C.bounds||(C.bounds=new ra),C,Aa)}function ef(C,aa,Aa){var Na=Ig[C.marktype],Hb=Na.bound,xb=C.items,fc=xb&&
xb.length;if(Na.nested)return fc?C=xb[0]:(ti.mark=C,C=ti),Aa=of(C,Hb,Aa),aa=aa&&aa.union(Aa)||Aa;aa=aa||C.bounds&&C.bounds.clear()||new ra;if(fc)for(Na=0,fc=xb.length;Na<fc;++Na)aa.union(of(xb[Na],Hb,Aa));return C.bounds=aa}function E(C,aa){return JSON.stringify(C,di,aa)}function ca(C){C="string"===typeof C?JSON.parse(C):C;return Ga(C)}function Ga(C){var aa=C.marktype,Aa=C.items,Na;if(Aa){var Hb=0;for(Na=Aa.length;Hb<Na;++Hb){var xb=aa?"mark":"group";Aa[Hb][xb]=C;Aa[Hb].zindex&&(Aa[Hb][xb].zdirty=
!0);"group"===(aa||xb)&&Ga(Aa[Hb])}}aa&&ef(C);return C}function eb(C,aa){aa={bounds:new ra,clip:!!C.clip,group:aa,interactive:!1===C.interactive?!1:!0,items:[],marktype:C.marktype,name:C.name||void 0,role:C.role||void 0,zindex:C.zindex||0};null!=C.aria&&(aa.aria=C.aria);C.description&&(aa.description=C.description);return aa}function Cb(C,aa,Aa){!C&&"undefined"!==typeof document&&document.createElement&&(C=document);return C?Aa?C.createElementNS(Aa,aa):C.createElement(aa):null}function rc(C,aa){aa=
aa.toLowerCase();C=C.childNodes;for(var Aa=0,Na=C.length;Aa<Na;++Aa)if(C[Aa].tagName.toLowerCase()===aa)return C[Aa]}function Lb(C,aa,Aa,Na){aa=C.childNodes[aa];if(!aa||aa.tagName.toLowerCase()!==Aa.toLowerCase()){var Hb=aa||null;aa=Cb(C.ownerDocument,Aa,Na);C.insertBefore(aa,Hb)}return aa}function Mc(C,aa){for(var Aa=C.childNodes,Na=Aa.length;Na>aa;)C.removeChild(Aa[--Na]);return C}function qd(C){return"mark-"+C.marktype+(C.role?" role-"+C.role:"")+(C.name?" "+C.name:"")}function id(C,aa){const Aa=
aa.getBoundingClientRect();return[C.clientX-Aa.left-(aa.clientLeft||0),C.clientY-Aa.top-(aa.clientTop||0)]}function Oc(C,aa,Aa,Na){C.element().setAttribute("title",Na||"")}function Pd(C,aa){("touchstart"===aa||"touchmove"===aa||"touchend"===aa?["touchstart","touchmove","touchend"]:[aa]).forEach(Aa=>Td(C,Aa))}function Td(C,aa){const Aa=C.canvas();Aa&&!C._events[aa]&&(C._events[aa]=1,Aa.addEventListener(aa,C[aa]?Na=>C[aa](Na):Na=>C.fire(aa,Na)))}function Md(C,aa,Aa){aa.forEach(Na=>C.fire(Na,Aa))}function Kd(C,
aa,Aa){return function(Na){const Hb=this._active,xb=this.pickEvent(Na);xb!==Hb&&(Hb&&Hb.exit||Md(this,Aa,Na),this._active=xb,Md(this,aa,Na));Md(this,C,Na)}}function ae(C){return function(aa){Md(this,C,aa);this._active=null}}function Ca(C,aa){var Aa=!1===aa.aria;C("aria-hidden",Aa||void 0);if(Aa||null==aa.description)for(const Na in dh)C(dh[Na],void 0);else Aa=aa.mark.marktype,C("aria-label",aa.description),C("role",aa.ariaRole||("group"===Aa?"graphics-object":"graphics-symbol")),C("aria-roledescription",
aa.ariaRoleDescription||`${Aa} mark`)}function Qa(C){return!1===C.aria?{["aria-hidden"]:!0}:cj[C.role]?null:fi[C.role]?hd(C,fi[C.role]):dc(C)}function dc(C){const aa=C.marktype,Aa="group"===aa||"text"===aa||C.items.some(Na=>null!=Na.description&&!1!==Na.aria);return hg(Aa?"graphics-object":"graphics-symbol",`${aa} mark container`,C.description)}function hd(C,aa){try{const Aa=C.items[0],Na=aa.caption||(()=>"");return hg(aa.role||"graphics-symbol",aa.desc,Aa.description||Na(Aa))}catch(Aa){return null}}
function sc(C){try{return h.array(h.peek(C.items).items[0].text).join(" ")}catch(aa){return null}}function Pc(C){C=C.map(aa=>aa+("fill"===aa||"stroke"===aa?" color":""));return 2>C.length?C[0]:C.slice(0,-1).join(", ")+" and "+h.peek(C)}function Fc(){let C="",aa="",Aa="";const Na=[],Hb=(fc,q)=>{null!=q&&(aa+=` ${fc}="${vi(q).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return xb},xb={open(fc,...q){aa&&(C+=`${aa}>${Aa}`,aa=Aa="");Na.push(fc);
aa="\x3c"+fc;for(const I of q)for(const ha in I)Hb(ha,I[ha]);return xb},close(){const fc=Na.pop();C=aa?C+(aa+(Aa?`>${Aa}</${fc}>`:"/\x3e")):C+`</${fc}>`;aa=Aa="";return xb},attr:Hb,text:fc=>(Aa+=vi(fc),xb),toString:()=>C};return xb}function Tc(C,aa){C.open(aa.tagName);if(aa.hasAttributes()){const Aa=aa.attributes,Na=Aa.length;for(let Hb=0;Hb<Na;++Hb)C.attr(Aa[Hb].name,Aa[Hb].value)}if(aa.hasChildNodes()){aa=aa.childNodes;for(const Aa of aa)3===Aa.nodeType?C.text(Aa.nodeValue):Tc(C,Aa)}return C.close()}
function Yc(C,aa){for(;C&&C.dirty!==aa;C=C.mark.group)if(C.dirty=aa,C.mark&&C.mark.dirty!==aa)C.mark.dirty=aa;else break}function jd(C,aa,Aa,Na){aa=aa.lastChild.previousSibling;let Hb,xb=0;Rb(Aa,fc=>{Hb=C.mark(aa,fc,Hb,Na);++xb});Mc(aa,1+xb)}function nd(C,aa,Aa,Na,Hb){let xb=C._svg;if(!xb){var fc=aa.ownerDocument;xb=Cb(fc,Na,Ve);C._svg=xb;C.mark&&(xb.__data__=C,xb.__values__={fill:"default"},"g"===Na&&(Na=Cb(fc,"path",Ve),xb.appendChild(Na),Na.__data__=C,Na=Cb(fc,"g",Ve),xb.appendChild(Na),Na.__data__=
C,fc=Cb(fc,"path",Ve),xb.appendChild(fc),fc.__data__=C,fc.__values__={fill:"default"}))}(xb.ownerSVGElement!==Hb||xb.parentNode&&1<xb.parentNode.childNodes.length&&xb.previousSibling!=Aa)&&aa.insertBefore(xb,Aa?Aa.nextSibling:aa.firstChild);return xb}function ne(C,aa,Aa){if(aa!==zf[C]){if(Aa){var Na=Ng;null!=aa?Na.setAttributeNS(Aa,C,aa):Na.removeAttributeNS(Aa,C)}else qe(Ng,C,aa);zf[C]=aa}}function Ue(C,aa,Aa){Aa!==zf[aa]&&(null==Aa?C.style.removeProperty(aa):C.style.setProperty(aa,Aa+""),zf[aa]=
Aa)}function Fe(C,aa){for(const Aa in aa)qe(C,Aa,aa[Aa])}function qe(C,aa,Aa){null!=Aa?C.setAttribute(aa,Aa):C.removeAttribute(aa)}function hf(){let C;return"undefined"===typeof window?"":(C=window.location).hash?C.href.slice(0,-C.hash.length):C.href}function pf(C,aa,Aa,Na,Hb){let xb;if(null==aa)return C;"bgrect"===Na&&!1===Aa.interactive&&(C["pointer-events"]="none");if("bgfore"===Na&&(!1===Aa.interactive&&(C["pointer-events"]="none"),C.display="none",null!==aa.fill))return C;"image"===Na&&!1===
aa.smooth&&(xb=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]);"text"===Na&&(C["font-family"]=Nd(aa),C["font-size"]=Xc(aa)+"px",C["font-style"]=aa.fontStyle,C["font-variant"]=aa.fontVariant,C["font-weight"]=aa.fontWeight);for(const fc in eh)Aa=aa[fc],Na=eh[fc],("transparent"!==Aa||"fill"!==Na&&"stroke"!==Na)&&null!=Aa&&(Aa&&Aa.gradient&&(Aa=Yb(Aa,Hb.gradient,"")),C[Na]=Aa);for(const fc in lh)Hb=aa[fc],null!=Hb&&(xb=xb||[],xb.push(`${lh[fc]}: ${Hb};`));xb&&(C.style=xb.join(" "));
return C}function Le(C,aa,Aa,Na){if(C.bounds&&aa.intersects(C.bounds)&&("group"===C.marktype||!1!==C.interactive&&(!Aa||Aa(C)))){const xb=C.items;var Hb=C.marktype;C=xb.length;let fc=0;if("group"===Hb)for(;fc<C;++fc)We(xb[fc],aa,Aa,Na);else for(Aa=Ig[Hb].isect;fc<C;++fc)Hb=xb[fc],af(Hb,aa,Aa)&&Na.push(Hb)}return Na}function We(C,aa,Aa,Na){Aa&&Aa(C.mark)&&af(C,aa,Ig.group.isect)&&Na.push(C);const Hb=C.items,xb=Hb&&Hb.length;if(xb){const fc=C.x||0;C=C.y||0;aa.translate(-fc,-C);for(let q=0;q<xb;++q)Le(Hb[q],
aa,Aa,Na);aa.translate(fc,C)}return Na}function af(C,aa,Aa){const Na=C.bounds;return aa.encloses(Na)||aa.intersects(Na)&&Aa(C,aa)}function se(C,aa,Aa){return C===aa?!0:"path"===Aa?oe(C,aa):C instanceof Date&&aa instanceof Date?+C===+aa:h.isNumber(C)&&h.isNumber(aa)?1E-9>=Math.abs(C-aa):C&&aa&&(h.isObject(C)||h.isObject(aa))?Me(C,aa):C==aa}function oe(C,aa){return se(N(C),N(aa))}function Me(C,aa){var Aa=Object.keys(C),Na=Object.keys(aa),Hb;if(Aa.length!==Na.length)return!1;Aa.sort();Na.sort();for(Hb=
Aa.length-1;0<=Hb;Hb--)if(Aa[Hb]!=Na[Hb])return!1;for(Hb=Aa.length-1;0<=Hb;Hb--)if(Na=Aa[Hb],!se(C[Na],aa[Na],Na))return!1;return typeof C===typeof aa}let xe=0;const y=Math.abs,M=Math.atan2,p=Math.cos,P=Math.max,Y=Math.min,pa=Math.sin,ua=Math.sqrt,Bb=Math.PI,Fb=Bb/2,Wb=2*Bb,ac=Math.PI,mc=2*ac,zc=mc-1E-6;class xc{constructor(C){this._x0=this._y0=this._x1=this._y1=null;this._="";this._append=null==C?zb:Ub(C)}moveTo(C,aa){this._append`M${this._x0=this._x1=+C},${this._y0=this._y1=+aa}`}closePath(){null!==
this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(C,aa){this._append`L${this._x1=+C},${this._y1=+aa}`}quadraticCurveTo(C,aa,Aa,Na){this._append`Q${+C},${+aa},${this._x1=+Aa},${this._y1=+Na}`}bezierCurveTo(C,aa,Aa,Na,Hb,xb){this._append`C${+C},${+aa},${+Aa},${+Na},${this._x1=+Hb},${this._y1=+xb}`}arcTo(C,aa,Aa,Na,Hb){C=+C;aa=+aa;Aa=+Aa;Na=+Na;Hb=+Hb;if(0>Hb)throw Error(`negative radius: ${Hb}`);var xb=this._x1,fc=this._y1;let q=Aa-C,I=Na-aa,ha=xb-C,va=fc-aa;var $a=ha*ha+va*va;
if(null===this._x1)this._append`M${this._x1=C},${this._y1=aa}`;else if(1E-6<$a)if(1E-6<Math.abs(va*q-I*ha)&&Hb){Aa-=xb;Na-=fc;let Ob=q*q+I*I;fc=Math.sqrt(Ob);xb=Math.sqrt($a);$a=Hb*Math.tan((ac-Math.acos((Ob+$a-(Aa*Aa+Na*Na))/(2*fc*xb)))/2);xb=$a/xb;$a/=fc;1E-6<Math.abs(xb-1)&&this._append`L${C+xb*ha},${aa+xb*va}`;this._append`A${Hb},${Hb},0,0,${+(va*Aa>ha*Na)},${this._x1=C+$a*q},${this._y1=aa+$a*I}`}else this._append`L${this._x1=C},${this._y1=aa}`}arc(C,aa,Aa,Na,Hb,xb){C=+C;aa=+aa;Aa=+Aa;xb=!!xb;
if(0>Aa)throw Error(`negative radius: ${Aa}`);let fc=Aa*Math.cos(Na),q=Aa*Math.sin(Na),I=C+fc,ha=aa+q,va=1^xb;Na=xb?Na-Hb:Hb-Na;null===this._x1?this._append`M${I},${ha}`:(1E-6<Math.abs(this._x1-I)||1E-6<Math.abs(this._y1-ha))&&this._append`L${I},${ha}`;Aa&&(0>Na&&(Na=Na%mc+mc),Na>zc?this._append`A${Aa},${Aa},0,1,${va},${C-fc},${aa-q}A${Aa},${Aa},0,1,${va},${this._x1=I},${this._y1=ha}`:1E-6<Na&&this._append`A${Aa},${Aa},0,${+(Na>=ac)},${va},${this._x1=C+Aa*Math.cos(Hb)},${this._y1=aa+Aa*Math.sin(Hb)}`)}rect(C,
aa,Aa,Na){this._append`M${this._x0=this._x1=+C},${this._y0=this._y1=+aa}h${Aa=+Aa}v${+Na}h${-Aa}Z`}toString(){return this._}}kc.prototype=xc.prototype;sa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(C,aa){C=+C;aa=+aa;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(C,aa):this._context.moveTo(C,
aa);break;case 1:this._point=2;default:this._context.lineTo(C,aa)}}};var Jc={draw(C,aa){aa=ua(aa/Bb);C.moveTo(aa,0);C.arc(0,0,aa,0,Wb)}};qb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:ab(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=
1-this._line},point:function(C,aa){C=+C;aa=+aa;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(C,aa):this._context.moveTo(C,aa);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ab(this,C,aa)}this._x0=this._x1;this._x1=C;this._y0=this._y1;this._y1=aa}};Pb.prototype={areaStart:hb,areaEnd:hb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=
NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(C,aa){C=+C;aa=+aa;switch(this._point){case 0:this._point=1;this._x2=C;this._y2=
aa;break;case 1:this._point=2;this._x3=C;this._y3=aa;break;case 2:this._point=3;this._x4=C;this._y4=aa;this._context.moveTo((this._x0+4*this._x1+C)/6,(this._y0+4*this._y1+aa)/6);break;default:ab(this,C,aa)}this._x0=this._x1;this._x1=C;this._y0=this._y1;this._y1=aa}};db.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();
this._line=1-this._line},point:function(C,aa){C=+C;aa=+aa;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var Aa=(this._x0+4*this._x1+C)/6,Na=(this._y0+4*this._y1+aa)/6;this._line?this._context.lineTo(Aa,Na):this._context.moveTo(Aa,Na);break;case 3:this._point=4;default:ab(this,C,aa)}this._x0=this._x1;this._x1=C;this._y0=this._y1;this._y1=aa}};U.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var C=this._x,
aa=this._y,Aa=C.length-1;if(0<Aa)for(var Na=C[0],Hb=aa[0],xb=C[Aa]-Na,fc=aa[Aa]-Hb,q=-1,I;++q<=Aa;)I=q/Aa,this._basis.point(this._beta*C[q]+(1-this._beta)*(Na+I*xb),this._beta*aa[q]+(1-this._beta)*(Hb+I*fc));this._x=this._y=null;this._basis.lineEnd()},point:function(C,aa){this._x.push(+C);this._y.push(+aa)}};var $c=function Aa(aa){function Na(Hb){return 1===aa?new qb(Hb):new U(Hb,aa)}Na.beta=function(Hb){return Aa(+Hb)};return Na}(.85);ea.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=
NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ba(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(aa,Aa){aa=+aa;Aa=+Aa;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(aa,Aa):this._context.moveTo(aa,Aa);break;case 1:this._point=2;this._x1=
aa;this._y1=Aa;break;case 2:this._point=3;default:ba(this,aa,Aa)}this._x0=this._x1;this._x1=this._x2;this._x2=aa;this._y0=this._y1;this._y1=this._y2;this._y2=Aa}};var ad=function Na(Aa){function Hb(xb){return new ea(xb,Aa)}Hb.tension=function(xb){return Na(+xb)};return Hb}(0);ja.prototype={areaStart:hb,areaEnd:hb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,
this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Aa,Na){Aa=+Aa;Na=+Na;switch(this._point){case 0:this._point=1;this._x3=Aa;this._y3=Na;break;case 1:this._point=2;this._context.moveTo(this._x4=Aa,this._y4=Na);break;case 2:this._point=3;this._x5=Aa;this._y5=Na;break;default:ba(this,Aa,Na)}this._x0=this._x1;this._x1=
this._x2;this._x2=Aa;this._y0=this._y1;this._y1=this._y2;this._y2=Na}};var kd=function Hb(Na){function xb(fc){return new ja(fc,Na)}xb.tension=function(fc){return Hb(+fc)};return xb}(0);La.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Na,Hb){Na=
+Na;Hb=+Hb;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ba(this,Na,Hb)}this._x0=this._x1;this._x1=this._x2;this._x2=Na;this._y0=this._y1;this._y1=this._y2;this._y2=Hb}};var Xd=function xb(Hb){function fc(q){return new La(q,Hb)}fc.tension=function(q){return xb(+q)};return fc}(0);qa.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Hb,xb){Hb=+Hb;xb=+xb;if(this._point){var fc=this._x2-
Hb,q=this._y2-xb;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(fc*fc+q*q,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Hb,xb):this._context.moveTo(Hb,xb);break;case 1:this._point=2;break;case 2:this._point=3;default:oa(this,Hb,xb)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Hb;this._y0=this._y1;this._y1=this._y2;this._y2=xb}};var Sc=function fc(xb){function q(I){return xb?
new qa(I,xb):new ea(I,0)}q.alpha=function(I){return fc(+I)};return q}(.5);l.prototype={areaStart:hb,areaEnd:hb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();
break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(xb,fc){xb=+xb;fc=+fc;if(this._point){var q=this._x2-xb,I=this._y2-fc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(q*q+I*I,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=xb;this._y3=fc;break;case 1:this._point=2;this._context.moveTo(this._x4=xb,this._y4=fc);break;case 2:this._point=3;this._x5=xb;this._y5=fc;break;default:oa(this,xb,fc)}this._l01_a=this._l12_a;this._l12_a=
this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=xb;this._y0=this._y1;this._y1=this._y2;this._y2=fc}};var Vd=function q(fc){function I(ha){return fc?new l(ha,fc):new ja(ha,0)}I.alpha=function(ha){return q(+ha)};return I}(.5);D.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=
this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(fc,q){fc=+fc;q=+q;if(this._point){var I=this._x2-fc,ha=this._y2-q;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(I*I+ha*ha,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=
4;default:oa(this,fc,q)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=fc;this._y0=this._y1;this._y1=this._y2;this._y2=q}};var Be=function I(q){function ha(va){return q?new D(va,q):new La(va,0)}ha.alpha=function(va){return I(+va)};return ha}(.5);K.prototype={areaStart:hb,areaEnd:hb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(q,I){q=+q;
I=+I;this._point?this._context.lineTo(q,I):(this._point=1,this._context.moveTo(q,I))}};W.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:A(this,this._t0,R(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(q,
I){var ha=NaN;q=+q;I=+I;if(q!==this._x1||I!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(q,I):this._context.moveTo(q,I);break;case 1:this._point=2;break;case 2:this._point=3;A(this,R(this,ha=v(this,q,I)),ha);break;default:A(this,this._t0,ha=v(this,q,I))}this._x0=this._x1;this._x1=q;this._y0=this._y1;this._y1=I;this._t0=ha}}};(G.prototype=Object.create(W.prototype)).point=function(q,I){W.prototype.point.call(this,I,q)};w.prototype={moveTo:function(q,I){this._context.moveTo(I,
q)},closePath:function(){this._context.closePath()},lineTo:function(q,I){this._context.lineTo(I,q)},bezierCurveTo:function(q,I,ha,va,$a,Ob){this._context.bezierCurveTo(I,q,va,ha,Ob,$a)}};z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var q=this._x,I=this._y,ha=q.length;if(ha)if(this._line?this._context.lineTo(q[0],I[0]):this._context.moveTo(q[0],I[0]),2===ha)this._context.lineTo(q[1],I[1]);else for(var va=
F(q),$a=F(I),Ob=0,ic=1;ic<ha;++Ob,++ic)this._context.bezierCurveTo(va[0][Ob],$a[0][Ob],va[1][Ob],$a[1][Ob],q[ic],I[ic]);(this._line||0!==this._line&&1===ha)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(q,I){this._x.push(+q);this._y.push(+I)}};V.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,
this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(q,I){q=+q;I=+I;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(q,I):this._context.moveTo(q,I);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,I),this._context.lineTo(q,I);else{var ha=this._x*(1-this._t)+q*this._t;this._context.lineTo(ha,this._y);this._context.lineTo(ha,I)}}this._x=q;this._y=
I}};const Zc={basis:{curve:function(q){return new qb(q)}},"basis-closed":{curve:function(q){return new Pb(q)}},"basis-open":{curve:function(q){return new db(q)}},bundle:{curve:$c,tension:"beta",value:.85},cardinal:{curve:ad,tension:"tension",value:0},"cardinal-open":{curve:Xd,tension:"tension",value:0},"cardinal-closed":{curve:kd,tension:"tension",value:0},"catmull-rom":{curve:Sc,tension:"alpha",value:.5},"catmull-rom-closed":{curve:Vd,tension:"alpha",value:.5},"catmull-rom-open":{curve:Be,tension:"alpha",
value:.5},linear:{curve:ia},"linear-closed":{curve:function(q){return new K(q)}},monotone:{horizontal:function(q){return new G(q)},vertical:function(q){return new W(q)}},natural:{curve:function(q){return new z(q)}},step:{curve:function(q){return new V(q,.5)}},"step-after":{curve:function(q){return new V(q,1)}},"step-before":{curve:function(q){return new V(q,0)}}},zd={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},Yd=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,Zd=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,
Ce=/^((\s+,?\s*)|(,\s*))/,Rd=/^[01]/,Od=Math.PI/180,te=Math.PI/2,Ae=2*Math.PI,Oe=Math.sqrt(3)/2;var Df={},td={},Pe=[].join;const Te=["l",0,0,0,0,0,0,0],kf={circle:{draw:function(q,I){I=Math.sqrt(I)/2;q.moveTo(I,0);q.arc(0,0,I,0,Ae)}},cross:{draw:function(q,I){I=Math.sqrt(I)/2;var ha=I/2.5;q.moveTo(-I,-ha);q.lineTo(-I,ha);q.lineTo(-ha,ha);q.lineTo(-ha,I);q.lineTo(ha,I);q.lineTo(ha,ha);q.lineTo(I,ha);q.lineTo(I,-ha);q.lineTo(ha,-ha);q.lineTo(ha,-I);q.lineTo(-ha,-I);q.lineTo(-ha,-ha);q.closePath()}},
diamond:{draw:function(q,I){I=Math.sqrt(I)/2;q.moveTo(-I,0);q.lineTo(0,-I);q.lineTo(I,0);q.lineTo(0,I);q.closePath()}},square:{draw:function(q,I){I=Math.sqrt(I);var ha=-I/2;q.rect(ha,ha,I,I)}},arrow:{draw:function(q,I){I=Math.sqrt(I)/2;var ha=I/7,va=I/2.5,$a=I/8;q.moveTo(-ha,I);q.lineTo(ha,I);q.lineTo(ha,-$a);q.lineTo(va,-$a);q.lineTo(0,-I);q.lineTo(-va,-$a);q.lineTo(-ha,-$a);q.closePath()}},wedge:{draw:function(q,I){var ha=Math.sqrt(I)/2;I=Oe*ha;var va=I-.5773502691896257*ha;ha/=4;q.moveTo(0,-I-
va);q.lineTo(-ha,I-va);q.lineTo(ha,I-va);q.closePath()}},triangle:{draw:function(q,I){I=Math.sqrt(I)/2;var ha=Oe*I,va=ha-.5773502691896257*I;q.moveTo(0,-ha-va);q.lineTo(-I,ha-va);q.lineTo(I,ha-va);q.closePath()}},"triangle-up":{draw:function(q,I){I=Math.sqrt(I)/2;var ha=Oe*I;q.moveTo(0,-ha);q.lineTo(-I,ha);q.lineTo(I,ha);q.closePath()}},"triangle-down":{draw:function(q,I){I=Math.sqrt(I)/2;var ha=Oe*I;q.moveTo(0,ha);q.lineTo(-I,-ha);q.lineTo(I,-ha);q.closePath()}},"triangle-right":{draw:function(q,
I){I=Math.sqrt(I)/2;var ha=Oe*I;q.moveTo(ha,0);q.lineTo(-ha,-I);q.lineTo(-ha,I);q.closePath()}},"triangle-left":{draw:function(q,I){I=Math.sqrt(I)/2;var ha=Oe*I;q.moveTo(-ha,0);q.lineTo(ha,-I);q.lineTo(ha,I);q.closePath()}},stroke:{draw:function(q,I){I=Math.sqrt(I)/2;q.moveTo(-I,0);q.lineTo(I,0)}}};var Xf={};const rf=q=>q.x||0,bf=q=>q.y||0,eg=q=>!1!==q.defined,fg=function(){function q(){var Wc,Id=+I.apply(this,arguments),je=+ha.apply(this,arguments),ue=Ob.apply(this,arguments)-Fb,Ne=ic.apply(this,
arguments)-Fb,vf=y(Ne-ue),gf=Ne>ue;gc||(gc=Wc=cd());if(je<Id){var $g=je;je=Id;Id=$g}if(1E-12<je)if(vf>Wb-1E-12)gc.moveTo(je*p(ue),je*pa(ue)),gc.arc(0,0,je,ue,Ne,!gf),1E-12<Id&&(gc.moveTo(Id*p(Ne),Id*pa(Ne)),gc.arc(0,0,Id,Ne,ue,gf));else{var re=ue,Se=Ne;$g=ue;var nh=Ne,ph=vf,yf=vf,Bf=Kc.apply(this,arguments)/2,Ag=1E-12<Bf&&($a?+$a.apply(this,arguments):ua(Id*Id+je*je)),kh=Y(y(je-Id)/2,+va.apply(this,arguments)),Ff=kh,uf=kh;if(1E-12<Ag){var Kg=oc(Ag/Id*pa(Bf));Bf=oc(Ag/je*pa(Bf));1E-12<(ph-=2*Kg)?(Kg*=
gf?1:-1,$g+=Kg,nh-=Kg):(ph=0,$g=nh=(ue+Ne)/2);1E-12<(yf-=2*Bf)?(Bf*=gf?1:-1,re+=Bf,Se-=Bf):(yf=0,re=Se=(ue+Ne)/2)}ue=je*p(re);Ne=je*pa(re);Kg=Id*p(nh);Bf=Id*pa(nh);if(1E-12<kh){var kg=je*p(Se),Eh=je*pa(Se),gi=Id*p($g),dg=Id*pa($g);if(vf<Bb){Ff=gi-ue;uf=dg-Ne;vf=Kg-kg;Ag=Bf-Eh;var Cf=Ag*Ff-vf*uf;1E-12>Cf*Cf?Ff=void 0:(Cf=(vf*(Ne-Eh)-Ag*(ue-kg))/Cf,Ff=[ue+Cf*Ff,Ne+Cf*uf]);Ff?(uf=ue-Ff[0],vf=Ne-Ff[1],Ag=kg-Ff[0],Cf=Eh-Ff[1],uf=(uf*Ag+vf*Cf)/(ua(uf*uf+vf*vf)*ua(Ag*Ag+Cf*Cf)),uf=1/pa((1<uf?0:-1>uf?Bb:
Math.acos(uf))/2),vf=ua(Ff[0]*Ff[0]+Ff[1]*Ff[1]),Ff=Y(kh,(Id-vf)/(uf-1)),uf=Y(kh,(je-vf)/(uf+1))):Ff=uf=0}}1E-12<yf?1E-12<uf?(re=gb(gi,dg,ue,Ne,je,uf,gf),Se=gb(kg,Eh,Kg,Bf,je,uf,gf),gc.moveTo(re.cx+re.x01,re.cy+re.y01),uf<kh?gc.arc(re.cx,re.cy,uf,M(re.y01,re.x01),M(Se.y01,Se.x01),!gf):(gc.arc(re.cx,re.cy,uf,M(re.y01,re.x01),M(re.y11,re.x11),!gf),gc.arc(0,0,je,M(re.cy+re.y11,re.cx+re.x11),M(Se.cy+Se.y11,Se.cx+Se.x11),!gf),gc.arc(Se.cx,Se.cy,uf,M(Se.y11,Se.x11),M(Se.y01,Se.x01),!gf))):(gc.moveTo(ue,
Ne),gc.arc(0,0,je,re,Se,!gf)):gc.moveTo(ue,Ne);1E-12<Id&&1E-12<ph?1E-12<Ff?(re=gb(Kg,Bf,kg,Eh,Id,-Ff,gf),Se=gb(ue,Ne,gi,dg,Id,-Ff,gf),gc.lineTo(re.cx+re.x01,re.cy+re.y01),Ff<kh?gc.arc(re.cx,re.cy,Ff,M(re.y01,re.x01),M(Se.y01,Se.x01),!gf):(gc.arc(re.cx,re.cy,Ff,M(re.y01,re.x01),M(re.y11,re.x11),!gf),gc.arc(0,0,Id,M(re.cy+re.y11,re.cx+re.x11),M(Se.cy+Se.y11,Se.cx+Se.x11),gf),gc.arc(Se.cx,Se.cy,Ff,M(Se.y11,Se.x11),M(Se.y01,Se.x01),!gf))):gc.arc(0,0,Id,nh,$g,gf):gc.lineTo(Kg,Bf)}else gc.moveTo(0,0);gc.closePath();
if(Wc)return gc=null,Wc+""||null}var I=Za,ha=tb,va=Xb(0),$a=null,Ob=rb,ic=pb,Kc=vb,gc=null,cd=Ea(q);q.centroid=function(){var Wc=(+I.apply(this,arguments)+ +ha.apply(this,arguments))/2,Id=(+Ob.apply(this,arguments)+ +ic.apply(this,arguments))/2-Bb/2;return[p(Id)*Wc,pa(Id)*Wc]};q.innerRadius=function(Wc){return arguments.length?(I="function"===typeof Wc?Wc:Xb(+Wc),q):I};q.outerRadius=function(Wc){return arguments.length?(ha="function"===typeof Wc?Wc:Xb(+Wc),q):ha};q.cornerRadius=function(Wc){return arguments.length?
(va="function"===typeof Wc?Wc:Xb(+Wc),q):va};q.padRadius=function(Wc){return arguments.length?($a=null==Wc?null:"function"===typeof Wc?Wc:Xb(+Wc),q):$a};q.startAngle=function(Wc){return arguments.length?(Ob="function"===typeof Wc?Wc:Xb(+Wc),q):Ob};q.endAngle=function(Wc){return arguments.length?(ic="function"===typeof Wc?Wc:Xb(+Wc),q):ic};q.padAngle=function(Wc){return arguments.length?(Kc="function"===typeof Wc?Wc:Xb(+Wc),q):Kc};q.context=function(Wc){return arguments.length?(gc=null==Wc?null:Wc,
q):gc};return q}().startAngle(q=>q.startAngle||0).endAngle(q=>q.endAngle||0).padAngle(q=>q.padAngle||0).innerRadius(q=>q.innerRadius||0).outerRadius(q=>q.outerRadius||0).cornerRadius(q=>q.cornerRadius||0),Of=Ia().x(rf).y1(bf).y0(q=>(q.y||0)+(q.height||0)).defined(eg),Pf=Ia().y(bf).x1(rf).x0(q=>(q.x||0)+(q.width||0)).defined(eg),nf=Wa().x(rf).y(bf).defined(eg),lg=qc().x(rf).y(bf).width(q=>q.width||0).height(q=>q.height||0).cornerRadius(q=>Mb(q.cornerRadiusTopLeft,q.cornerRadius)||0,q=>Mb(q.cornerRadiusTopRight,
q.cornerRadius)||0,q=>Mb(q.cornerRadiusBottomRight,q.cornerRadius)||0,q=>Mb(q.cornerRadiusBottomLeft,q.cornerRadius)||0),Fg=function(q,I){function ha(){let Ob;va||(va=Ob=$a());q.apply(this,arguments).draw(va,+I.apply(this,arguments));if(Ob)return va=null,Ob+""||null}let va=null,$a=Ea(ha);q="function"===typeof q?q:Xb(q||Jc);I="function"===typeof I?I:Xb(void 0===I?64:+I);ha.type=function(Ob){return arguments.length?(q="function"===typeof Ob?Ob:Xb(Ob),ha):q};ha.size=function(Ob){return arguments.length?
(I="function"===typeof Ob?Ob:Xb(+Ob),ha):I};ha.context=function(Ob){return arguments.length?(va=null==Ob?null:Ob,ha):va};return ha}().type(q=>Pa(q.shape||"circle")).size(q=>Mb(q.size,64)),Ch=$b().x(rf).y(bf).defined(eg).size(q=>q.size||1);var Gg=1;ra.prototype={clone(){return new ra(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&
this.y2===-Number.MAX_VALUE},equals(q){return this.x1===q.x1&&this.y1===q.y1&&this.x2===q.x2&&this.y2===q.y2},set(q,I,ha,va){ha<q?(this.x2=q,this.x1=ha):(this.x1=q,this.x2=ha);va<I?(this.y2=I,this.y1=va):(this.y1=I,this.y2=va);return this},add(q,I){q<this.x1&&(this.x1=q);I<this.y1&&(this.y1=I);q>this.x2&&(this.x2=q);I>this.y2&&(this.y2=I);return this},expand(q){this.x1-=q;this.y1-=q;this.x2+=q;this.y2+=q;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);
this.y2=Math.ceil(this.y2);return this},scale(q){this.x1*=q;this.y1*=q;this.x2*=q;this.y2*=q;return this},translate(q,I){this.x1+=q;this.x2+=q;this.y1+=I;this.y2+=I;return this},rotate(q,I,ha){q=this.rotatedPoints(q,I,ha);return this.clear().add(q[0],q[1]).add(q[2],q[3]).add(q[4],q[5]).add(q[6],q[7])},rotatedPoints(q,I,ha){var {x1:va,y1:$a,x2:Ob,y2:ic}=this,Kc=Math.cos(q);q=Math.sin(q);var gc=I-I*Kc+ha*q;I=ha-I*q-ha*Kc;return[Kc*va-q*$a+gc,q*va+Kc*$a+I,Kc*va-q*ic+gc,q*va+Kc*ic+I,Kc*Ob-q*$a+gc,q*Ob+
Kc*$a+I,Kc*Ob-q*ic+gc,q*Ob+Kc*ic+I]},union(q){q.x1<this.x1&&(this.x1=q.x1);q.y1<this.y1&&(this.y1=q.y1);q.x2>this.x2&&(this.x2=q.x2);q.y2>this.y2&&(this.y2=q.y2);return this},intersect(q){q.x1>this.x1&&(this.x1=q.x1);q.y1>this.y1&&(this.y1=q.y1);q.x2<this.x2&&(this.x2=q.x2);q.y2<this.y2&&(this.y2=q.y2);return this},encloses(q){return q&&this.x1<=q.x1&&this.x2>=q.x2&&this.y1<=q.y1&&this.y2>=q.y2},alignsWith(q){return q&&(this.x1==q.x1||this.x2==q.x2||this.y1==q.y1||this.y2==q.y2)},intersects(q){return q&&
!(this.x2<q.x1||this.x1>q.x2||this.y2<q.y1||this.y1>q.y2)},contains(q,I){return!(q<this.x1||q>this.x2||I<this.y1||I>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};h.inherits(Ta,Ab);class Ug{constructor(q){this._pending=0;this._loader=q||Ya.loader()}pending(){return this._pending}sanitizeURL(q){const I=this;I._pending+=1;return I._loader.sanitize(q,{context:"href"}).then(ha=>{--I._pending;return ha}).catch(()=>{--I._pending;return null})}loadImage(q){const I=this,ha=ka.image();
I._pending+=1;return I._loader.sanitize(q,{context:"image"}).then(va=>{const $a=va.href;if(!$a||!ha)throw{url:$a};const Ob=new ha;va=h.hasOwnProperty(va,"crossOrigin")?va.crossOrigin:"anonymous";null!=va&&(Ob.crossOrigin=va);Ob.onload=()=>{--I._pending};Ob.onerror=()=>{--I._pending};Ob.src=$a;return Ob}).catch(va=>{--I._pending;return{complete:!1,width:0,height:0,src:va&&va.url||""}})}ready(){const q=this;return new Promise(I=>{function ha(va){q.pending()?setTimeout(()=>{ha(!0)},10):I(va)}ha(!1)})}}
const ch=Ae-1E-8;let T,Ja,lb,Gc,Ec,Ld,he,Ie;const De=(q,I)=>{q=Ja=q;I=lb=I;return T.add(q,I)},Jf=q=>T.add(q,T.y1),Yf=q=>T.add(T.x1,q),ih=(q,I)=>T.add(Ec*q+he*I,Ld*q+Ie*I),Tf=(q,I)=>De(Ec*q+he*I,Ld*q+Ie*I),Vg={beginPath(){},closePath(){},moveTo:Tf,lineTo:Tf,rect(q,I,ha,va){Gc?(ih(q+ha,I),ih(q+ha,I+va),ih(q,I+va),Tf(q,I)):(T.add(q+ha,I+va),De(q,I))},quadraticCurveTo(q,I,ha,va){const $a=Ld*q+Ie*I,Ob=Ec*ha+he*va;ha=Ld*ha+Ie*va;Nb(Ja,Ec*q+he*I,Ob,Jf);Nb(lb,$a,ha,Yf);De(Ob,ha)},bezierCurveTo(q,I,ha,va,
$a,Ob){const ic=Ld*q+Ie*I,Kc=Ld*ha+Ie*va,gc=Ec*$a+he*Ob;$a=Ld*$a+Ie*Ob;Zb(Ja,Ec*q+he*I,Ec*ha+he*va,gc,Jf);Zb(lb,ic,Kc,$a,Yf);De(gc,$a)},arc(q,I,ha,va,$a,Ob){va+=Gc;$a+=Gc;Ja=ha*Math.cos($a)+q;lb=ha*Math.sin($a)+I;if(Math.abs($a-va)>ch)T.add(q-ha,I-ha),T.add(q+ha,I+ha);else{const ic=gc=>T.add(ha*Math.cos(gc)+q,ha*Math.sin(gc)+I);let Kc;ic(va);ic($a);if($a!==va)if(va%=Ae,0>va&&(va+=Ae),$a%=Ae,0>$a&&($a+=Ae),$a<va&&(Ob=!Ob,Kc=va,va=$a,$a=Kc),Ob)for($a-=Ae,Kc=va-va%te,va=0;4>va&&Kc>$a;++va,Kc-=te)ic(Kc);
else for(Kc=va-va%te+te,va=0;4>va&&Kc<$a;++va,Kc+=te)ic(Kc)}}};var gg=(gg=ka.canvas(1,1))?gg.getContext("2d"):null;const sh=new ra;var Dh=[],be=gd("arc",function(q,I){return fg.context(q)(I)}),ie=Fd("area",function(q,I){const ha=I[0];return("horizontal"===ha.orient?Pf:Of).curve(ta(ha.interpolate||"linear",ha.orient,ha.tension)).context(q)(I)},function(q,I){I="horizontal"===q[0].orient?I[1]:I[0];for(var ha="horizontal"===q[0].orient?"y":"x",va=q.length,$a=Infinity,Ob,ic;0<=--va;)!1!==q[va].defined&&
(ic=Math.abs(q[va][ha]-I),ic<$a&&($a=ic,Ob=q[va]));return Ob});const sf=yd(we),Je=yd(we,!1),lf=yd(we,!0);var Ye={type:"group",tag:"g",nested:!1,attr:function(q,I){q("transform",rd(I.x||0,I.y||0))},bound:function(q,I){if(!I.clip&&I.items){const ha=I.items,va=ha.length;for(let $a=0;$a<va;++$a)q.union(ha[$a].bounds)}(I.clip||I.width||I.height)&&!I.noBound&&q.add(0,0).add(I.width||0,I.height||0);wb(q,I);return q.translate(I.x||0,I.y||0)},draw:function(q,I,ha,va){Rb(I,$a=>{const Ob=$a.x||0,ic=$a.y||0,
Kc=$a.strokeForeground,gc=null==$a.opacity?1:$a.opacity;($a.stroke||$a.fill)&&gc&&(we(q,$a,Ob,ic),fb(q,$a),$a.fill&&za(q,$a,gc)&&q.fill(),$a.stroke&&!Kc&&Da(q,$a,gc)&&q.stroke());q.save();q.translate(Ob,ic);$a.clip&&Gd(q,$a);ha&&ha.translate(-Ob,-ic);Rb($a,cd=>{("group"===cd.marktype||null==va||va.includes(cd.marktype))&&this.draw(q,cd,ha,va)});ha&&ha.translate(Ob,ic);q.restore();Kc&&$a.stroke&&gc&&(we(q,$a,Ob,ic),fb(q,$a),Da(q,$a,gc)&&q.stroke())})},pick:function(q,I,ha,va,$a,Ob){if(I.bounds&&!I.bounds.contains($a,
Ob)||!I.items)return null;const ic=ha*q.pixelRatio,Kc=va*q.pixelRatio;return Eb(I,gc=>{let cd,Wc;var Id=gc.bounds;if(!Id||Id.contains($a,Ob)){cd=gc.x||0;Wc=gc.y||0;Id=cd+(gc.width||0);var je=Wc+(gc.height||0),ue=gc.clip;if(!ue||!($a<cd||$a>Id||Ob<Wc||Ob>je)){q.save();q.translate(cd,Wc);cd=$a-cd;Wc=Ob-Wc;if(ue&&Qb(gc)&&!lf(q,gc,ic,Kc))return q.restore(),null;je=gc.strokeForeground;if((ue=!1!==I.interactive)&&je&&gc.stroke&&Je(q,gc,ic,Kc))return q.restore(),gc;Id=Eb(gc,Ne=>(!1!==Ne.interactive||"group"===
Ne.marktype)&&Ne.bounds&&Ne.bounds.contains(cd,Wc)?this.pick(Ne,ha,va,cd,Wc):null);!Id&&ue&&(gc.fill||!je&&gc.stroke)&&sf(q,gc,ic,Kc)&&(Id=gc);q.restore();return Id||null}}})},isect:Vc,content:function(q,I,ha){I=I.clip?fd(ha,I,I):null;q("clip-path",I)},background:function(q,I){q("class","background");q("aria-hidden",!0);const ha=ud(I);q("d",wc(null,I,ha,ha))},foreground:function(q,I){q("class","foreground");q("aria-hidden",!0);if(I.strokeForeground){const ha=ud(I);q("d",wc(null,I,ha,ha))}else q("d",
"")}},tf={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},Zf={type:"image",tag:"image",nested:!1,attr:function(q,I,ha){var va=Ed(I,ha);ha=x(I,va);const $a=J(I,va),Ob=(I.x||0)-xa(I.align,ha),ic=(I.y||0)-Ka(I.baseline,$a);va=!va.src&&va.toDataURL?va.toDataURL():va.src||"";q("href",va,tf["xmlns:xlink"],"xlink:href");q("transform",rd(Ob,ic));q("width",ha);q("height",$a);q("preserveAspectRatio",!1===I.aspect?"none":"xMidYMid")},bound:function(q,I){var ha=
I.image;const va=x(I,ha);ha=J(I,ha);const $a=(I.x||0)-xa(I.align,va);I=(I.y||0)-Ka(I.baseline,ha);return q.set($a,I,$a+va,I+ha)},draw:function(q,I,ha){Rb(I,va=>{if(!ha||ha.intersects(va.bounds)){var $a=Ed(va,this),Ob=x(va,$a),ic=J(va,$a);if(0!==Ob&&0!==ic){var Kc=(va.x||0)-xa(va.align,Ob),gc=(va.y||0)-Ka(va.baseline,ic),cd;if(!1!==va.aspect){var Wc=$a.width/$a.height;var Id=va.width/va.height;Wc===Wc&&Id===Id&&Wc!==Id&&(Id<Wc?(Wc=Ob/Wc,gc+=(ic-Wc)/2,ic=Wc):(Wc*=ic,Kc+=(Ob-Wc)/2,Ob=Wc))}if($a.complete||
$a.toDataURL)fb(q,va),q.globalAlpha=null!=(cd=va.opacity)?cd:1,q.imageSmoothingEnabled=!1!==va.smooth,q.drawImage($a,Kc,gc,Ob,ic)}}})},pick:Rc(),isect:h.truthy,get:Ed,xOffset:xa,yOffset:Ka},Qf=Fd("line",function(q,I){const ha=I[0];return nf.curve(ta(ha.interpolate||"linear",ha.orient,ha.tension)).context(q)(I)},function(q,I){for(var ha=Math.pow(q[0].strokeWidth||1,2),va=q.length,$a,Ob;0<=--va;)if(!1!==q[va].defined&&($a=q[va].x-I[0],Ob=q[va].y-I[1],$a=$a*$a+Ob*Ob,$a<ha))return q[va];return null}),
cf={type:"path",tag:"path",nested:!1,attr:function(q,I){var ha=I.scaleY||1;1===(I.scaleX||1)&&1===ha||q("vector-effect","non-scaling-stroke");ha=rd(I.x||0,I.y||0)+(I.angle?" rotate("+(I.angle+")"):"")+(I.scaleX||I.scaleY?" scale("+((I.scaleX||1)+","+(I.scaleY||1)+")"):"");q("transform",ha);q("d",I.path)},bound:function(q,I){return kb(Gb(q,I.angle),I)?q.set(0,0,0,0):wb(q,I,!0)},draw:Ib(kb),pick:Rc(yd(kb)),isect:Ac(kb)},Wg={type:"rect",tag:"path",nested:!1,attr:function(q,I){q("d",wc(null,I))},bound:function(q,
I){var ha,va;return wb(q.set(ha=I.x||0,va=I.y||0,ha+I.width||0,va+I.height||0),I)},draw:Ib(yb),pick:Rc(yd(yb)),isect:Vc},zg={type:"rule",tag:"line",nested:!1,attr:function(q,I){q("transform",rd(I.x||0,I.y||0));q("x2",null!=I.x2?I.x2-(I.x||0):0);q("y2",null!=I.y2?I.y2-(I.y||0):0)},bound:function(q,I){var ha,va;return wb(q.set(ha=I.x||0,va=I.y||0,null!=I.x2?I.x2:ha,null!=I.y2?I.y2:va),I)},draw:function(q,I,ha){Rb(I,va=>{if(!ha||ha.intersects(va.bounds)){var $a=null==va.opacity?1:va.opacity;$a&&cc(q,
va,$a)&&(fb(q,va),q.stroke())}})},pick:Rc(function(q,I,ha,va){return q.isPointInStroke?cc(q,I,1)&&q.isPointInStroke(ha,va):!1}),isect:na},jh=gd("shape",function(q,I){return(I.mark.shape||I.shape).context(q)(I)}),Rf=gd("symbol",function(q,I){return Fg.context(q)(I)},ld);const Rh=h.lruCache();var rg={height:Xc,measureWidth:Ic,estimateWidth:pc,width:pc,canvas:Sb};Sb(!0);const uh={left:"start",center:"middle",right:"end"},mg=new ra;var Sh={type:"text",tag:"text",nested:!1,attr:function(q,I){var ha=I.dx||
0,va=(I.dy||0)+Re(I),$a=Ge(I),Ob=$a.x1;$a=$a.y1;var ic=I.angle||0;q("text-anchor",uh[I.align]||"start");if(ic){if(I=rd(Ob,$a)+" rotate("+(ic+")"),ha||va)I+=" "+rd(ha,va)}else I=rd(Ob+ha,$a+va);q("transform",I)},bound:Ke,draw:function(q,I,ha){Rb(I,va=>{var $a=null==va.opacity?1:va.opacity,Ob;if(!(ha&&!ha.intersects(va.bounds)||0===$a||0>=va.fontSize||null==va.text||0===va.text.length)){q.font=le(va);q.textAlign=va.align||"left";var ic=Ge(va);var Kc=ic.x1;ic=ic.y1;va.angle&&(q.save(),q.translate(Kc,
ic),q.rotate(va.angle*Od),Kc=ic=0);Kc+=va.dx||0;ic+=(va.dy||0)+Re(va);var gc=sd(va);fb(q,va);if(h.isArray(gc)){var cd=md(va);for(Ob=0;Ob<gc.length;++Ob){var Wc=Bd(va,gc[Ob]);va.fill&&za(q,va,$a)&&q.fillText(Wc,Kc,ic);va.stroke&&Da(q,va,$a)&&q.strokeText(Wc,Kc,ic);ic+=cd}}else Wc=Bd(va,gc),va.fill&&za(q,va,$a)&&q.fillText(Wc,Kc,ic),va.stroke&&Da(q,va,$a)&&q.strokeText(Wc,Kc,ic);va.angle&&q.restore()}})},pick:Rc(function(q,I,ha,va,$a,Ob){if(0>=I.fontSize)return!1;if(!I.angle)return!0;ha=Ge(I);q=ha.x1;
ha=ha.y1;va=Ke(mg,I,1);var ic=-I.angle*Od;I=Math.cos(ic);ic=Math.sin(ic);return va.contains(I*$a-ic*Ob+(q-I*q+ic*ha),ic*$a+I*Ob+(ha-ic*q-I*ha))}),isect:function(q,I){q=Ke(mg,q,2);return Ha(I,q[0],q[1],q[2],q[3])||Ha(I,q[0],q[1],q[4],q[5])||Ha(I,q[4],q[5],q[6],q[7])||Ha(I,q[2],q[3],q[6],q[7])}},aj=Fd("trail",function(q,I){return Ch.context(q)(I)},function(q,I){for(var ha=q.length,va,$a;0<=--ha;)if(!1!==q[ha].defined&&(va=q[ha].x-I[0],$a=q[ha].y-I[1],$a=va*va+$a*$a,va=q[ha].size||1,$a<va*va))return q[ha];
return null}),Ig={arc:be,area:ie,group:Ye,image:Zf,line:Qf,path:cf,rect:Wg,rule:zg,shape:jh,symbol:Rf,text:Sh,trail:aj},ti={mark:null};const di="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
class bj{constructor(q){arguments.length?this.root=ca(q):(this.root=eb({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Ta(this.root)])}toJSON(q){return E(this.root,q||0)}mark(q,I,ha){I=I||this.root.items[0];q=eb(q,I);I.items[ha]=q;q.zindex&&(q.group.zdirty=!0);return q}}class ui{constructor(q,I){this._active=null;this._handlers={};this._loader=q||Ya.loader();this._tooltip=I||Oc}initialize(q,I,ha){this._el=q;this._obj=ha||null;return this.origin(I)}element(){return this._el}canvas(){return this._el&&
this._el.firstChild}origin(q){return arguments.length?(this._origin=q||[0,0],this):this._origin.slice()}scene(q){if(!arguments.length)return this._scene;this._scene=q;return this}on(){}off(){}_handlerIndex(q,I,ha){for(let va=q?q.length:0;0<=--va;)if(q[va].type===I&&(!ha||q[va].handler===ha))return va;return-1}handlers(q){const I=this._handlers,ha=[];if(q)ha.push(...I[this.eventName(q)]);else for(const va in I)ha.push(...I[va]);return ha}eventName(q){const I=q.indexOf(".");return 0>I?q:q.slice(0,I)}handleHref(q,
I,ha){this._loader.sanitize(ha,{context:"href"}).then(va=>{const $a=new MouseEvent(q.type,q),Ob=Cb(null,"a");for(const ic in va)Ob.setAttribute(ic,va[ic]);Ob.dispatchEvent($a)}).catch(()=>{})}handleTooltip(q,I,ha){if(I&&null!=I.tooltip){var va=this.canvas(),$a=this._origin,Ob=I&&I.mark,ic;if(Ob&&(ic=Ig[Ob.marktype]).tip){va=id(q,va);va[0]-=$a[0];for(va[1]-=$a[1];I=I.mark.group;)va[0]-=I.x||0,va[1]-=I.y||0;I=ic.tip(Ob.items,va)}this._tooltip.call(this._obj,this,q,I,ha&&I&&I.tooltip||null)}}getItemBoundingClientRect(q){var I=
this.canvas();if(I){var ha=I.getBoundingClientRect(),va=this._origin,$a=q.bounds;I=$a.width();var Ob=$a.height(),ic=$a.x1+va[0]+ha.left;for(ha=$a.y1+va[1]+ha.top;q.mark&&(q=q.mark.group);)ic+=q.x||0,ha+=q.y||0;return{x:ic,y:ha,width:I,height:Ob,left:ic,top:ha,right:ic+I,bottom:ha+Ob}}}}class vh{constructor(q){this._bgcolor=this._el=null;this._loader=new Ug(q)}initialize(q,I,ha,va,$a){this._el=q;return this.resize(I,ha,va,$a)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(q){if(0===
arguments.length)return this._bgcolor;this._bgcolor=q;return this}resize(q,I,ha,va){this._width=q;this._height=I;this._origin=ha||[0,0];this._scale=va||1;return this}dirty(){}render(q,I){const ha=this;ha._call=function(){ha._render(q,I)};ha._call();ha._call=null;return ha}_render(){}renderAsync(q,I){const ha=this.render(q,I);return this._ready?this._ready.then(()=>ha):Promise.resolve(ha)}_load(q,I){var ha=this;q=ha._loader[q](I);if(!ha._ready){const va=ha._call;ha._ready=ha._loader.ready().then($a=>
{$a&&va();ha._ready=null})}return q}sanitizeURL(q){return this._load("sanitizeURL",q)}loadImage(q){return this._load("loadImage",q)}}const Li="keydown keypress keyup dragenter dragleave dragover pointerdown pointerup pointermove pointerout pointerover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" ");class Fh extends ui{constructor(q,I){super(q,I);this._touch=this._down=null;this._first=!0;this._events={};this.events=Li;this.pointermove=
Kd(["pointermove","mousemove"],["pointerover","mouseover"],["pointerout","mouseout"]);this.dragover=Kd(["dragover"],["dragenter"],["dragleave"]);this.pointerout=ae(["pointerout","mouseout"]);this.dragleave=ae(["dragleave"])}initialize(q,I,ha){this._canvas=q&&rc(q,"canvas");"click mousedown pointerdown pointermove pointerout dragleave".split(" ").forEach(va=>Pd(this,va));return super.initialize(q,I,ha)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(q){this.fire("mousewheel",
q)}pointerdown(q){this._down=this._active;this.fire("pointerdown",q)}mousedown(q){this._down=this._active;this.fire("mousedown",q)}click(q){this._down===this._active&&(this.fire("click",q),this._down=null)}touchstart(q){this._touch=this.pickEvent(q.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",q,!0)}touchmove(q){this.fire("touchmove",q,!0)}touchend(q){this.fire("touchend",q,!0);this._touch=null}fire(q,I,ha){ha=ha?this._touch:this._active;const va=
this._handlers[q];I.vegaType=q;"click"===q&&ha&&ha.href?this.handleHref(I,ha,ha.href):("pointermove"===q||"mouseout"===q)&&this.handleTooltip(I,ha,"mouseout"!==q);if(va)for(let $a=0,Ob=va.length;$a<Ob;++$a)va[$a].handler.call(this._obj,I,ha)}on(q,I){const ha=this.eventName(q),va=this._handlers;0>this._handlerIndex(va[ha],q,I)&&(Pd(this,q),(va[ha]||(va[ha]=[])).push({type:q,handler:I}));return this}off(q,I){var ha=this.eventName(q);ha=this._handlers[ha];q=this._handlerIndex(ha,q,I);0<=q&&ha.splice(q,
1);return this}pickEvent(q){q=id(q,this._canvas);const I=this._origin;return this.pick(this._scene,q[0],q[1],q[0]-I[0],q[1]-I[1])}pick(q,I,ha,va,$a){const Ob=this.context();return Ig[q.marktype].pick.call(this,Ob,q,I,ha,va,$a)}}class Hg extends vh{constructor(q){super(q);this._options={};this._redraw=!1;this._dirty=new ra;this._tempb=new ra}initialize(q,I,ha,va,$a,Ob){this._options=Ob||{};this._canvas=this._options.externalContext?null:ka.canvas(1,1,this._options.type);q&&this._canvas&&(Mc(q,0).appendChild(this._canvas),
this._canvas.setAttribute("class","marks"));return super.initialize(q,I,ha,va,$a)}resize(q,I,ha,va){super.resize(q,I,ha,va);if(this._canvas){q=this._canvas;I=this._width;ha=this._height;va=this._origin;var $a=this._scale,Ob=this._options.context;const Kc="undefined"!==typeof HTMLElement&&q instanceof HTMLElement&&null!=q.parentNode,gc=q.getContext("2d");$a=Kc?"undefined"!==typeof window?window.devicePixelRatio||1:1:$a;q.width=I*$a;q.height=ha*$a;for(var ic in Ob)gc[ic]=Ob[ic];Kc&&1!==$a&&(q.style.width=
I+"px",q.style.height=ha+"px");gc.pixelRatio=$a;gc.setTransform($a,0,0,$a,$a*va[0],$a*va[1])}else(ic=this._options.externalContext)||h.error("CanvasRenderer is missing a valid canvas or context"),ic.scale(this._scale,this._scale),ic.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(q){const I=this._tempb.clear().union(q.bounds);for(q=q.mark.group;q;)I.translate(q.x||
0,q.y||0),q=q.mark.group;this._dirty.union(I)}_render(q,I){const ha=this.context(),va=this._origin,$a=this._width,Ob=this._height,ic=this._dirty;var Kc=(new ra).set(0,0,$a,Ob).translate(-va[0],-va[1]);ha.save();this._redraw||ic.empty()?Kc=(this._redraw=!1,Kc.expand(1)):(Kc=Kc.intersect(ic),Kc.expand(1).round(),ha.pixelRatio%1&&Kc.scale(ha.pixelRatio).round().scale(1/ha.pixelRatio),Kc.translate(-(va[0]%1),-(va[1]%1)),ha.beginPath(),ha.rect(Kc.x1,Kc.y1,Kc.width(),Kc.height()),ha.clip());this.clear(-va[0],
-va[1],$a,Ob);this.draw(ha,q,Kc,I);ha.restore();ic.clear();return this}draw(q,I,ha,va){if("group"===I.marktype||null==va||va.includes(I.marktype)){var $a=Ig[I.marktype];if(I.clip){var Ob=I.clip;q.save();h.isFunction(Ob)?(q.beginPath(),Ob(q),q.clip()):Gd(q,I.group)}$a.draw.call(this,q,I,ha,va);I.clip&&q.restore()}}clear(q,I,ha,va){const $a=this._options,Ob=this.context();"pdf"===$a.type||$a.externalContext||Ob.clearRect(q,I,ha,va);null!=this._bgcolor&&(Ob.fillStyle=this._bgcolor,Ob.fillRect(q,I,ha,
va))}}class Gh extends ui{constructor(q,I){super(q,I);const ha=this;ha._hrefHandler=Hh(ha,(va,$a)=>{$a&&$a.href&&ha.handleHref(va,$a,$a.href)});ha._tooltipHandler=Hh(ha,(va,$a)=>{ha.handleTooltip(va,$a,"mouseout"!==va.type)})}initialize(q,I,ha){let va=this._svg;va&&(va.removeEventListener("click",this._hrefHandler),va.removeEventListener("pointermove",this._tooltipHandler),va.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=va=q&&rc(q,"svg"))va.addEventListener("click",this._hrefHandler),
va.addEventListener("pointermove",this._tooltipHandler),va.addEventListener("mouseout",this._tooltipHandler);return super.initialize(q,I,ha)}canvas(){return this._svg}on(q,I){const ha=this.eventName(q),va=this._handlers;0>this._handlerIndex(va[ha],q,I)&&(q={type:q,handler:I,listener:Hh(this,I)},(va[ha]||(va[ha]=[])).push(q),this._svg&&this._svg.addEventListener(ha,q.listener));return this}off(q,I){const ha=this.eventName(q),va=this._handlers[ha];q=this._handlerIndex(va,q,I);0<=q&&(this._svg&&this._svg.removeEventListener(ha,
va[q].listener),va.splice(q,1));return this}}const Hh=(q,I)=>ha=>{let va=ha.target.__data__;va=Array.isArray(va)?va[0]:va;ha.vegaType=ha.type;I.call(q._obj,ha,va)},hg=(q,I,ha)=>({role:q,["aria-roledescription"]:I,["aria-label"]:ha||void 0}),cj=h.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),fi={axis:{desc:"axis",caption:function(q){var I=q.datum;const ha=q.orient,va=I.title?sc(q):null;
var $a=q.context;I=$a.scales[I.scale].value;$a=$a.dataflow.locale();const Ob=I.type;return`${"left"===ha||"right"===ha?"Y":"X"}-axis`+(va?` titled '${va}'`:"")+` for a ${ub.isDiscrete(Ob)?"discrete":Ob} scale`+` with ${ub.domainCaption($a,I,q)}`}},legend:{desc:"legend",caption:function(q){var I=q.datum;const ha=I.title?sc(q):null,va=`${I.type||""} legend`.trim();var $a=I.scales;I=Object.keys($a);var Ob=q.context;$a=Ob.scales[$a[I[0]]].value;Ob=Ob.dataflow.locale();return(va.length?va[0].toUpperCase()+
va.slice(1):va)+(ha?` titled '${ha}'`:"")+` for ${Pc(I)}`+` with ${ub.domainCaption(Ob,$a,q)}`}},"title-text":{desc:"title",caption:q=>`Title text '${h.array(q.text).join(" ")}'`},"title-subtitle":{desc:"subtitle",caption:q=>`Subtitle text '${h.array(q.text).join(" ")}'`}},dh={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},vi=q=>(q+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"),Aj=q=>Tc(Fc(),q)+"",eh={fill:"fill",fillOpacity:"fill-opacity",
stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},lh={blend:"mix-blend-mode"},Jg={fill:"none","stroke-miterlimit":10},Ve=tf.xmlns;class Ih extends vh{constructor(q){super(q);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}initialize(q,I,ha,va,$a){this._defs={};this._clearDefs();
q&&(this._svg=Lb(q,0,"svg",Ve),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns",Ve),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",tf["xmlns:xlink"]),this._svg.setAttribute("version",tf.version),this._svg.setAttribute("class","marks"),Mc(q,1),this._root=Lb(this._svg,0,"g",Ve),Fe(this._root,Jg),Mc(this._svg,1));this.background(this._bgcolor);return super.initialize(q,I,ha,va,$a)}background(q){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",
q);return super.background(...arguments)}resize(q,I,ha,va){super.resize(q,I,ha,va);this._svg&&(Fe(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this}canvas(){return this._svg}svg(){const q=this._svg,I=this._bgcolor;if(!q)return null;let ha;I&&(q.removeAttribute("style"),ha=Lb(q,0,"rect",Ve),Fe(ha,{width:this._width,height:this._height,fill:I}));
const va=Aj(q);I&&(q.removeChild(ha),this._svg.style.setProperty("background-color",I));return va}_render(q,I){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,q,void 0,I),Mc(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this}dirty(q){q.dirty!==this._dirtyID&&(q.dirty=this._dirtyID,this._dirty.push(q))}isDirty(q){return this._dirtyAll||!q._svg||!q._svg.ownerSVGElement||q.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const q=this._dirty;if(!q.length||
!this._dirtyID)return!0;const I=++this._dirtyID;let ha;let va,$a,Ob,ic;Ob=0;for(ic=q.length;Ob<ic;++Ob){ha=q[Ob];var Kc=ha.mark;Kc.marktype!==va&&(va=Kc.marktype,$a=Ig[va]);Kc.zdirty&&Kc.dirty!==I&&(this._dirtyAll=!1,Yc(ha,I),Kc.items.forEach(gc=>{gc.dirty=I}));Kc.zdirty||(ha.exit?($a.nested&&Kc.items.length?(Kc=Kc.items[0],Kc._svg&&this._update($a,Kc._svg,Kc)):ha._svg&&(Kc=ha._svg.parentNode)&&Kc.removeChild(ha._svg),ha._svg=null):(ha=$a.nested?Kc.items[0]:ha,ha._update!==I&&(ha._svg&&ha._svg.ownerSVGElement?
this._update($a,ha._svg,ha):(this._dirtyAll=!1,Yc(ha,I)),ha._update=I)))}return!this._dirtyAll}mark(q,I,ha,va){if(!this.isDirty(I))return I._svg;const $a=this._svg,Ob=I.marktype,ic=Ig[Ob];var Kc=!1===I.interactive?"none":null;const gc="g"===ic.tag,cd=nd(I,q,ha,"g",$a);if("group"!==Ob&&null!=va&&!va.includes(Ob))return Mc(cd,0),I._svg;cd.setAttribute("class",qd(I));q=Qa(I);for(const je in q)qe(cd,je,q[je]);gc||qe(cd,"pointer-events",Kc);qe(cd,"clip-path",I.clip?fd(this,I,I.group):null);let Wc=null,
Id=0;Kc=je=>{const ue=this.isDirty(je),Ne=nd(je,cd,Wc,ic.tag,$a);ue&&(this._update(ic,Ne,je),gc&&jd(this,Ne,je,va));Wc=Ne;++Id};ic.nested?I.items.length&&Kc(I.items[0]):Rb(I,Kc);Mc(cd,Id);return cd}_update(q,I,ha){Ng=I;zf=I.__values__;Ca(ne,ha);q.attr(ne,ha,this);const va=Mi[q.type];va&&va.call(this,q,I,ha);Ng&&this.style(Ng,ha)}style(q,I){if(null!=I){for(const ha in eh){let va="font"===ha?Nd(I):I[ha];if(va===zf[ha])continue;const $a=eh[ha];null==va?q.removeAttribute($a):(va&&va.gradient&&(va=Yb(va,
this._defs.gradient,hf())),q.setAttribute($a,va+""));zf[ha]=va}for(const ha in lh)Ue(q,lh[ha],I[ha])}}defs(){const q=this._svg,I=this._defs;let ha=I.el;var va=0;for(var $a in I.gradient){ha||(I.el=ha=Lb(q,1,"defs",Ve));var Ob=void 0;let gc,cd;var ic=ha,Kc=I.gradient[$a];"radial"===Kc.gradient?(Ob=Lb(ic,va++,"pattern",Ve),Fe(Ob,{id:"p_"+Kc.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Ob=Lb(Ob,0,"rect",Ve),Fe(Ob,{width:1,height:1,fill:`url(${hf()}#${Kc.id})`}),
ic=Lb(ic,va++,"radialGradient",Ve),Fe(ic,{id:Kc.id,fx:Kc.x1,fy:Kc.y1,fr:Kc.r1,cx:Kc.x2,cy:Kc.y2,r:Kc.r2})):(ic=Lb(ic,va++,"linearGradient",Ve),Fe(ic,{id:Kc.id,x1:Kc.x1,x2:Kc.x2,y1:Kc.y1,y2:Kc.y2}));cd=0;for(gc=Kc.stops.length;cd<gc;++cd)Ob=Lb(ic,cd,"stop",Ve),Ob.setAttribute("offset",Kc.stops[cd].offset),Ob.setAttribute("stop-color",Kc.stops[cd].color);Mc(ic,cd)}for(const gc in I.clipping)ha||(I.el=ha=Lb(q,1,"defs",Ve)),ic=ha,Kc=I.clipping[gc],$a=va,ic=Lb(ic,$a,"clipPath",Ve),ic.setAttribute("id",
Kc.id),Kc.path?(va=Lb(ic,0,"path",Ve),va.setAttribute("d",Kc.path)):(va=Lb(ic,0,"rect",Ve),Fe(va,{x:0,y:0,width:Kc.width,height:Kc.height})),Mc(ic,1),va=$a+1;ha&&(0===va?(q.removeChild(ha),I.el=null):Mc(ha,va))}_clearDefs(){const q=this._defs;q.gradient={};q.clipping={}}}let Ng=null,zf=null;const Mi={group(q,I,ha){const va=Ng=I.childNodes[2];zf=va.__values__;q.foreground(ne,ha,this);zf=I.__values__;Ng=I.childNodes[1];q.content(ne,ha,this);I=Ng=I.childNodes[0];q.background(ne,ha,this);q=!1===ha.mark.interactive?
"none":null;q!==zf.events&&(qe(va,"pointer-events",q),qe(I,"pointer-events",q),zf.events=q);ha.strokeForeground&&ha.stroke?(q=ha.fill,qe(va,"display",null),this.style(I,ha),qe(I,"stroke",null),q&&(ha.fill=null),zf=va.__values__,this.style(va,ha),q&&(ha.fill=q),Ng=null):qe(va,"display","none")},image(q,I,ha){!1===ha.smooth?(Ue(I,"image-rendering","optimizeSpeed"),Ue(I,"image-rendering","pixelated")):Ue(I,"image-rendering",null)},text(q,I,ha){q=sd(ha);let va,$a,Ob;h.isArray(q)?(va=q.map(ic=>Bd(ha,ic)),
q=va.join("\n"),q!==zf.text&&(Mc(I,0),$a=I.ownerDocument,Ob=md(ha),va.forEach((ic,Kc)=>{const gc=Cb($a,"tspan",Ve);gc.__data__=ha;gc.textContent=ic;Kc&&(gc.setAttribute("x",0),gc.setAttribute("dy",Ob));I.appendChild(gc)}),zf.text=q)):(va=Bd(ha,q),va!==zf.text&&(I.textContent=va,zf.text=va));qe(I,"font-family",Nd(ha));qe(I,"font-size",Xc(ha)+"px");qe(I,"font-style",ha.fontStyle);qe(I,"font-variant",ha.fontVariant);qe(I,"font-weight",ha.fontWeight)}};class sg extends vh{constructor(q){super(q);this._text=
null;this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(q){const I=Fc();I.open("svg",h.extend({},tf,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const ha=this._bgcolor;ha&&"transparent"!==ha&&"none"!==ha&&I.open("rect",{width:this._width,height:this._height,fill:ha}).close();I.open("g",Jg,{transform:"translate("+this._origin+")"});this.mark(I,q);I.close();this.defs(I);this._text=I.close()+"";return this}mark(q,
I){const ha=Ig[I.marktype],va=ha.tag,$a=[Ca,ha.attr];q.open("g",{"class":qd(I),"clip-path":I.clip?fd(this,I,I.group):null},Qa(I),{"pointer-events":"g"!==va&&!1===I.interactive?"none":null});const Ob=ic=>{const Kc=this.href(ic);Kc&&q.open("a",Kc);q.open(va,this.attr(I,ic,$a,"g"!==va?va:null));if("text"===va){var gc=sd(ic);if(h.isArray(gc)){var cd={x:0,dy:md(ic)};for(var Wc=0;Wc<gc.length;++Wc)q.open("tspan",Wc?cd:null).text(Bd(ic,gc[Wc])).close()}else q.text(Bd(ic,gc))}else"g"===va&&(gc=ic.strokeForeground,
cd=ic.fill,Wc=ic.stroke,gc&&Wc&&(ic.stroke=null),q.open("path",this.attr(I,ic,ha.background,"bgrect")).close(),q.open("g",this.attr(I,ic,ha.content)),Rb(ic,Id=>this.mark(q,Id)),q.close(),gc&&Wc?(cd&&(ic.fill=null),ic.stroke=Wc,q.open("path",this.attr(I,ic,ha.foreground,"bgrect")).close(),cd&&(ic.fill=cd)):q.open("path",this.attr(I,ic,ha.foreground,"bgfore")).close());q.close();Kc&&q.close()};ha.nested?I.items&&I.items.length&&Ob(I.items[0]):Rb(I,Ob);return q.close()}href(q){const I=q.href;if(I){if(q=
this._hrefs&&this._hrefs[I])return q;this.sanitizeURL(I).then(ha=>{ha["xlink:href"]=ha.href;ha.href=null;(this._hrefs||(this._hrefs={}))[I]=ha})}return null}attr(q,I,ha,va){const $a={},Ob=(ic,Kc,gc,cd)=>{$a[cd||ic]=Kc};Array.isArray(ha)?ha.forEach(ic=>ic(Ob,I,this)):ha(Ob,I,this);va&&pf($a,I,q,va,this._defs);return $a}defs(q){var I=this._defs.gradient;const ha=this._defs.clipping;if(0!==Object.keys(I).length+Object.keys(ha).length){q.open("defs");for(const $a in I){var va=I[$a];const Ob=va.stops;
"radial"===va.gradient?(q.open("pattern",{id:"p_"+$a,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),q.open("rect",{width:"1",height:"1",fill:"url(#"+$a+")"}).close(),q.close(),q.open("radialGradient",{id:$a,fx:va.x1,fy:va.y1,fr:va.r1,cx:va.x2,cy:va.y2,r:va.r2})):q.open("linearGradient",{id:$a,x1:va.x1,x2:va.x2,y1:va.y1,y2:va.y2});for(va=0;va<Ob.length;++va)q.open("stop",{offset:Ob[va].offset,"stop-color":Ob[va].color}).close();q.close()}for(const $a in ha)I=ha[$a],
q.open("clipPath",{id:$a}),I.path?q.open("path",{d:I.path}).close():q.open("rect",{x:0,y:0,width:I.width,height:I.height}).close(),q.close();q.close()}}}const Og={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};class mh extends vh{constructor(q){super(q);this._svgRenderer=new Ih(q);this._canvasRenderer=new Hg(q)}initialize(q,I,ha,va,$a){this._root_el=Lb(q,0,"div");const Ob=Lb(this._root_el,0,"div"),ic=Lb(this._root_el,1,"div");this._root_el.style.position="relative";Og.debug||(Ob.style.height="100%",
ic.style.position="absolute",ic.style.top="0",ic.style.left="0",ic.style.height="100%",ic.style.width="100%");this._svgEl=Og.svgOnTop?ic:Ob;this._canvasEl=Og.svgOnTop?Ob:ic;this._svgEl.style.pointerEvents="none";this._canvasRenderer.initialize(this._canvasEl,I,ha,va,$a);this._svgRenderer.initialize(this._svgEl,I,ha,va,$a);return super.initialize(q,I,ha,va,$a)}dirty(q){Og.svgMarkTypes.includes(q.mark.marktype)?this._svgRenderer.dirty(q):this._canvasRenderer.dirty(q);return this}_render(q,I){I=(null!=
I?I:"arc area image line path rect rule shape symbol text trail".split(" ")).filter(ha=>!Og.svgMarkTypes.includes(ha));this._svgRenderer.render(q,Og.svgMarkTypes);this._canvasRenderer.render(q,I)}resize(q,I,ha,va){super.resize(q,I,ha,va);this._svgRenderer.resize(q,I,ha,va);this._canvasRenderer.resize(q,I,ha,va);return this}background(q){Og.svgOnTop?this._canvasRenderer.background(q):this._svgRenderer.background(q);return this}}class Yg extends Fh{constructor(q,I){super(q,I)}initialize(q,I,ha){q=Lb(Lb(q,
0,"div"),Og.svgOnTop?0:1,"div");return super.initialize(q,I,ha)}}const Jh={};Jh.canvas=Jh.png={renderer:Hg,headless:Hg,handler:Fh};Jh.svg={renderer:Ih,headless:sg,handler:Gh};Jh.hybrid={renderer:mh,headless:mh,handler:Yg};Jh.none={};const Zg=new ra;r.Bounds=ra;r.CanvasHandler=Fh;r.CanvasRenderer=Hg;r.Gradient=function(q,I){var ha=[],va;return va={gradient:"linear",x1:q?q[0]:0,y1:q?q[1]:0,x2:I?I[0]:1,y2:I?I[1]:0,stops:ha,stop:function($a,Ob){ha.push({offset:$a,color:Ob});return va}}};r.GroupItem=Ta;
r.Handler=ui;r.HybridHandler=Yg;r.HybridRenderer=mh;r.Item=Ab;r.Marks=Ig;r.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",Hybrid:"hybrid",None:"none"};r.Renderer=vh;r.ResourceLoader=Ug;r.SVGHandler=Gh;r.SVGRenderer=Ih;r.SVGStringRenderer=sg;r.Scenegraph=bj;r.boundClip=function(q){const I=q.clip;if(h.isFunction(I))I(Gb(Zg.clear()));else if(I)Zg.set(0,0,q.group.width,q.group.height);else return;q.bounds.intersect(Zg)};r.boundContext=Gb;r.boundItem=of;r.boundMark=ef;r.boundStroke=wb;r.domChild=Lb;r.domClear=
Mc;r.domCreate=Cb;r.domFind=rc;r.font=le;r.fontFamily=Nd;r.fontSize=Xc;r.intersect=function(q,I,ha){const va=[];I=(new ra).union(I);const $a=q.marktype;return $a?Le(q,I,ha,va):"group"===$a?We(q,I,ha,va):h.error("Intersect scene must be mark node or group item.")};r.intersectBoxLine=Ha;r.intersectPath=Ac;r.intersectPoint=ld;r.intersectRule=na;r.lineHeight=md;r.markup=Fc;r.multiLineOffset=function(q){const I=sd(q);return(h.isArray(I)?I.length-1:0)*md(q)};r.path=kc;r.pathCurves=ta;r.pathEqual=oe;r.pathParse=
N;r.pathRectangle=qc;r.pathRender=ya;r.pathSymbols=Pa;r.pathTrail=$b;r.point=id;r.renderModule=function(q,I){q=String(q||"").toLowerCase();return 1<arguments.length?(Jh[q]=I,this):Jh[q]};r.resetSVGClipId=function(){Gg=1};r.resetSVGDefIds=function(){Gg=1;xe=0};r.sceneEqual=se;r.sceneFromJSON=ca;r.scenePickVisit=Eb;r.sceneToJSON=E;r.sceneVisit=Rb;r.sceneZOrder=jb;r.serializeXML=Aj;r.setHybridRendererOptions=function(q){let I;Og.svgMarkTypes=null!=(I=q.svgMarkTypes)?I:["text"];let ha;Og.svgOnTop=null!=
(ha=q.svgOnTop)?ha:!0;let va;Og.debug=null!=(va=q.debug)?va:!1};r.textMetrics=rg})};
shadow$provide[35]=function(Db,mb,Cc,Va){(function(r,h){"object"===typeof Va&&"undefined"!==typeof Cc?h(Va,mb(29),mb(34),mb(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],h):(r="undefined"!==typeof globalThis?globalThis:r||self,h((r.vega=r.vega||{},r.vega.transforms={}),r.vega,r.vega,r.vega))})(this,function(r,h,ka,Ya){function ub(z){h.Transform.call(this,null,z)}function Yb(z,F,V){return F(z.bounds.clear(),z,V)}function bc(z){h.Transform.call(this,
0,z)}function Xb(z){return z._signals[":vega_identifier:"]||(z._signals[":vega_identifier:"]=z.add(0))}function oc(z){h.Transform.call(this,null,z)}function zb(z){const F=z.groups;z=z.parent;return F&&1===F.size?F.get(Object.keys(F.object)[0]):F&&z?F.lookup(z):null}function Ub(z){h.Transform.call(this,null,z)}function kc(z){h.Transform.call(this,null,z)}function Ea(z,F,V){return z[F]===V?0:(z[F]=V,1)}function Za(z){z=z.items[0].orient;return"left"===z||"right"===z}function tb(z,F,V,ta){F=F.items[0];
var N=F.datum,ma=null!=F.translate?F.translate:.5,ya=F.orient,Ma=+N.grid;var Pa=[N.ticks?Ma++:-1,N.labels?Ma++:-1,Ma+ +N.domain];Ma=F.range;var Xa=F.offset,sb=F.position,ib=F.minExtent,Tb=F.maxExtent;N=N.title&&F.items[Pa[2]].items[0];var X=F.titlePadding,Fa=F.bounds,Kb=N&&ka.multiLineOffset(N),qc;W.clear().union(Fa);Fa.clear();-1<(qc=Pa[0])&&Fa.union(F.items[qc].bounds);-1<(qc=Pa[1])&&Fa.union(F.items[qc].bounds);switch(ya){case "top":V=sb||0;ta=-Xa;ib=Math.max(ib,Math.min(Tb,-Fa.y1));Fa.add(0,-ib).add(Ma,
0);N&&rb(z,N,ib,X,Kb,0,-1,Fa);break;case "left":V=-Xa;ta=sb||0;ib=Math.max(ib,Math.min(Tb,-Fa.x1));Fa.add(-ib,0).add(0,Ma);N&&rb(z,N,ib,X,Kb,1,-1,Fa);break;case "right":V+=Xa;ta=sb||0;ib=Math.max(ib,Math.min(Tb,Fa.x2));Fa.add(0,0).add(ib,Ma);N&&rb(z,N,ib,X,Kb,1,1,Fa);break;case "bottom":V=sb||0;ta+=Xa;ib=Math.max(ib,Math.min(Tb,Fa.y2));Fa.add(0,0).add(Ma,ib);N&&rb(z,N,ib,X,0,0,1,Fa);break;default:V=F.x,ta=F.y}ka.boundStroke(Fa.translate(V,ta),F);Ea(F,"x",V+ma)|Ea(F,"y",ta+ma)&&(F.bounds=W,z.dirty(F),
F.bounds=Fa,z.dirty(F));return F.mark.bounds.clear().union(Fa)}function rb(z,F,V,ta,N,ma,ya,Ma){const Pa=F.bounds;F.auto&&(V=ya*(V+N+ta),N=ta=0,z.dirty(F),ma?ta=(F.x||0)-(F.x=V):N=(F.y||0)-(F.y=V),F.mark.bounds.clear().union(Pa.translate(-ta,-N)),z.dirty(F));Ma.union(Pa)}function pb(z){return(new ka.Bounds).set(0,0,z.width||0,z.height||0)}function vb(z){const F=z.bounds.clone();return F.empty()?F.set(0,0,0,0):F.translate(-(z.x||0),-(z.y||0))}function gb(z,F,V){z=Ya.isObject(z)?z[F]:z;return null!=
z?z:void 0!==V?V:0}function ec(z){return 0>z?Math.ceil(-z):0}function sa(z,F,V){var ta=!V.nodirty,N="flush"===V.bounds?pb:vb,ma=W.set(0,0,0,0),ya=gb(V.align,"column"),Ma=gb(V.align,"row"),Pa=gb(V.padding,"column"),Xa=gb(V.padding,"row"),sb=V.columns||F.length,ib=0>=sb?1:Math.ceil(F.length/sb),Tb=F.length,X=Array(Tb),Fa=Array(sb),Kb=0,qc=Array(Tb),$b=Array(ib),Mb=0,Qb=Array(Tb),wc=Array(Tb),fd=Array(Tb),ra,Ab,Ta;for(ra=0;ra<sb;++ra)Fa[ra]=0;for(ra=0;ra<ib;++ra)$b[ra]=0;for(ra=0;ra<Tb;++ra){var wb=
F[ra];var Gb=fd[ra]=N(wb);wb.x=wb.x||0;Qb[ra]=0;wb.y=wb.y||0;wc[ra]=0;wb=ra%sb;var Nb=~~(ra/sb);Kb=Math.max(Kb,Ab=Math.ceil(Gb.x2));Mb=Math.max(Mb,Ta=Math.ceil(Gb.y2));Fa[wb]=Math.max(Fa[wb],Ab);$b[Nb]=Math.max($b[Nb],Ta);X[ra]=Pa+ec(Gb.x1);qc[ra]=Xa+ec(Gb.y1);ta&&z.dirty(F[ra])}for(ra=0;ra<Tb;++ra)0===ra%sb&&(X[ra]=0),ra<sb&&(qc[ra]=0);if("each"===ya)for(wb=1;wb<sb;++wb){N=0;for(ra=wb;ra<Tb;ra+=sb)N<X[ra]&&(N=X[ra]);for(ra=wb;ra<Tb;ra+=sb)X[ra]=N+Fa[wb-1]}else if("all"===ya){for(ra=N=0;ra<Tb;++ra)ra%
sb&&N<X[ra]&&(N=X[ra]);for(ra=0;ra<Tb;++ra)ra%sb&&(X[ra]=N+Kb)}else for(ya=!1,wb=1;wb<sb;++wb)for(ra=wb;ra<Tb;ra+=sb)X[ra]+=Fa[wb-1];if("each"===Ma)for(Nb=1;Nb<ib;++Nb){N=0;ra=Nb*sb;for(wb=ra+sb;ra<wb;++ra)N<qc[ra]&&(N=qc[ra]);for(ra=Nb*sb;ra<wb;++ra)qc[ra]=N+$b[Nb-1]}else if("all"===Ma){N=0;for(ra=sb;ra<Tb;++ra)N<qc[ra]&&(N=qc[ra]);for(ra=sb;ra<Tb;++ra)qc[ra]=N+Mb}else for(Ma=!1,Nb=1;Nb<ib;++Nb)for(ra=Nb*sb,wb=ra+sb;ra<wb;++ra)qc[ra]+=$b[Nb-1];for(ra=Nb=0;ra<Tb;++ra)Nb=X[ra]+(ra%sb?Nb:0),Qb[ra]+=
Nb-F[ra].x;for(wb=0;wb<sb;++wb)for(X=0,ra=wb;ra<Tb;ra+=sb)X+=qc[ra],wc[ra]+=X-F[ra].y;if(ya&&gb(V.center,"column")&&1<ib)for(ra=0;ra<Tb;++ra)Gb="all"===ya?Kb:Fa[ra%sb],Nb=Gb-fd[ra].x2-F[ra].x-Qb[ra],0<Nb&&(Qb[ra]+=Nb/2);if(Ma&&gb(V.center,"row")&&1!==sb)for(ra=0;ra<Tb;++ra)Gb="all"===Ma?Mb:$b[~~(ra/sb)],X=Gb-fd[ra].y2-F[ra].y-wc[ra],0<X&&(wc[ra]+=X/2);for(ra=0;ra<Tb;++ra)ma.union(fd[ra].translate(Qb[ra],wc[ra]));Nb=gb(V.anchor,"x");X=gb(V.anchor,"y");switch(gb(V.anchor,"column")){case "end":Nb-=ma.width();
break;case "middle":Nb-=ma.width()/2}switch(gb(V.anchor,"row")){case "end":X-=ma.height();break;case "middle":X-=ma.height()/2}Nb=Math.round(Nb);X=Math.round(X);ma.clear();for(ra=0;ra<Tb;++ra)F[ra].mark.bounds.clear();for(ra=0;ra<Tb;++ra)wb=F[ra],wb.x+=Qb[ra]+=Nb,wb.y+=wc[ra]+=X,ma.union(wb.mark.bounds.union(wb.bounds.translate(Qb[ra],wc[ra]))),ta&&z.dirty(wb);return ma}function ia(z,F){return"x1"===F?z.x||0:"y1"===F?z.y||0:"x2"===F?(z.x||0)+(z.width||0):"y2"===F?(z.y||0)+(z.height||0):void 0}function Ba(z,
F){return z.bounds[F]}function Ra(z,F,V,ta,N,ma,ya,Ma,Pa,Xa,sb,ib,Tb,X){var Fa=V.length,Kb=ta=0,qc,$b;if(!Fa)return ta;for(qc=sb;qc<Fa;qc+=ib)V[qc]&&(ta=ya(ta,Pa(V[qc],Xa)));if(!F.length)return ta;F.length>N&&(z.warn("Grid headers exceed limit: "+N),F=F.slice(0,N));ta+=ma;N=0;for(ma=F.length;N<ma;++N)z.dirty(F[N]),F[N].mark.bounds.clear();qc=sb;N=0;for(ma=F.length;N<ma;++N,qc+=ib){Pa=F[N];sb=Pa.mark.bounds;for(Fa=qc;0<=Fa&&null==($b=V[Fa]);Fa-=Tb);if(Ma){Fa=null==X?$b.x:Math.round($b.bounds.x1+X*
$b.bounds.width());var Mb=ta}else Fa=ta,Mb=null==X?$b.y:Math.round($b.bounds.y1+X*$b.bounds.height());sb.union(Pa.bounds.translate(Fa-(Pa.x||0),Mb-(Pa.y||0)));Pa.x=Fa;Pa.y=Mb;z.dirty(Pa);Kb=ya(Kb,sb[Xa])}return Kb}function Wa(z,F,V,ta,N,ma){if(F){z.dirty(F);var ya=V;ta?ya=Math.round(N.x1+ma*N.width()):V=Math.round(N.y1+ma*N.height());F.bounds.translate(ya-(F.x||0),V-(F.y||0));F.mark.bounds.clear().union(F.bounds);F.x=ya;F.y=V;z.dirty(F)}}function Ia(z,F){const V=z[F]||{};return(ta,N)=>null!=V[ta]?
V[ta]:null!=z[ta]?z[ta]:N}function hb(z,F){let V=-Infinity;z.forEach(ta=>{null!=ta.offset&&(V=Math.max(V,ta.offset))});return-Infinity<V?V:F}function ab(z,F,V,ta,N,ma,ya){const Ma=Ia(V,F);V=hb(z,Ma("offset",0));const Pa=Ma("anchor","start"),Xa="end"===Pa?1:"middle"===Pa?.5:0;z={align:"each",bounds:Ma("bounds","flush"),columns:"vertical"===Ma("direction")?1:z.length,padding:Ma("margin",8),center:Ma("center"),nodirty:!0};switch(F){case "left":z.anchor={x:Math.floor(ta.x1)-V,column:"end",y:Xa*(ya||ta.height()+
2*ta.y1),row:Pa};break;case "right":z.anchor={x:Math.ceil(ta.x2)+V,y:Xa*(ya||ta.height()+2*ta.y1),row:Pa};break;case "top":z.anchor={y:Math.floor(N.y1)-V,row:"end",x:Xa*(ma||N.width()+2*N.x1),column:Pa};break;case "bottom":z.anchor={y:Math.ceil(N.y2)+V,x:Xa*(ma||N.width()+2*N.x1),column:Pa};break;case "top-left":z.anchor={x:V,y:V};break;case "top-right":z.anchor={x:ma-V,y:V,column:"end"};break;case "bottom-left":z.anchor={x:V,y:ya-V,row:"end"};break;case "bottom-right":z.anchor={x:ma-V,y:ya-V,column:"end",
row:"end"}}return z}function qb(z,F){F=F.items[0];var V=F.datum,ta=F.orient,N=F.bounds,ma=F.x,ya=F.y;F._bounds?F._bounds.clear().union(N):F._bounds=N.clone();N.clear();var Ma=F.items[0].items[0];var Pa=F.padding,Xa=Pa-Ma.x,sb=Pa-Ma.y;if(F.datum.title){var ib=F.items[1].items[0],Tb=ib.anchor,X=F.titlePadding||0,Fa=Pa-ib.x,Kb=Pa-ib.y;switch(ib.orient){case "left":Xa+=Math.ceil(ib.bounds.width())+X;break;case "right":case "bottom":break;default:sb+=ib.bounds.height()+X}(Xa||sb)&&U(z,Ma,Xa,sb);switch(ib.orient){case "left":Kb+=
db(F,Ma,ib,Tb,1,1);break;case "right":Fa+=db(F,Ma,ib,"end",0,0)+X;Kb+=db(F,Ma,ib,Tb,1,1);break;case "bottom":Fa+=db(F,Ma,ib,Tb,0,0);Kb+=db(F,Ma,ib,"end",-1,0,1)+X;break;default:Fa+=db(F,Ma,ib,Tb,0,0)}(Fa||Kb)&&U(z,ib,Fa,Kb);0>(Fa=Math.round(ib.bounds.x1-Pa))&&(U(z,Ma,-Fa,0),U(z,ib,-Fa,0))}else(Xa||sb)&&U(z,Ma,Xa,sb);N=Pb(F,N);z=2*F.padding;Ma=2*F.padding;N.empty()||(z=Math.ceil(N.width()+z),Ma=Math.ceil(N.height()+Ma));"symbol"===V.type&&ba(F.items[0].items[0].items[0].items);"none"!==ta&&(F.x=ma=
0,F.y=ya=0);F.width=z;F.height=Ma;ka.boundStroke(N.set(ma,ya,ma+z,ya+Ma),F);F.mark.bounds.clear().union(N);return F}function Pb(z,F){z.items.forEach(V=>F.union(V.bounds));F.x1=z.padding;F.y1=z.padding;return F}function db(z,F,V,ta,N,ma,ya){const Ma=V.datum.vgrad;z=("symbol"===z.datum.type||!ma&&Ma||ya?F:F.items[0]).bounds[N?"y2":"x2"]-z.padding;F=Ma&&ma?z:0;ma=Ma&&ma?0:z;V=0>=N?0:ka.multiLineOffset(V);return Math.round("start"===ta?F:"end"===ta?ma-V:.5*(z-V))}function U(z,F,V,ta){F.x+=V;F.y+=ta;F.bounds.translate(V,
ta);F.mark.bounds.translate(V,ta);z.dirty(F)}function ba(z){const F=z.reduce((V,ta)=>{V[ta.column]=Math.max(ta.bounds.x2-ta.x,V[ta.column]||0);return V},{});z.forEach(V=>{V.width=F[V.column];V.height=V.bounds.y2-V.y})}function ea(z,F,V,ta,N){var ma=F.items[0],ya=ma.orient,Ma=ma.anchor,Pa=ma.offset,Xa=ma.padding,sb=ma.items[0].items[0],ib=ma.items[1]&&ma.items[1].items[0],Tb="left"===ya||"right"===ya?ta:V,X=0,Fa=V=0;"group"!==ma.frame?"left"===ya?(X=N.y2,Tb=N.y1):"right"===ya?(X=N.y1,Tb=N.y2):(X=N.x1,
Tb=N.x2):"left"===ya&&(X=ta,Tb=0);ta="start"===Ma?X:"end"===Ma?Tb:(X+Tb)/2;if(ib&&ib.text){switch(ya){case "top":case "bottom":Fa=sb.bounds.height()+Xa;break;case "left":V=sb.bounds.width()+Xa;break;case "right":V=-sb.bounds.width()-Xa}W.clear().union(ib.bounds);W.translate(V-(ib.x||0),Fa-(ib.y||0));Ea(ib,"x",V)|Ea(ib,"y",Fa)&&(z.dirty(ib),ib.bounds.clear().union(W),ib.mark.bounds.clear().union(W),z.dirty(ib));W.clear().union(ib.bounds)}else W.clear();W.union(sb.bounds);switch(ya){case "top":ya=ta;
N=N.y1-W.height()-Pa;break;case "left":ya=N.x1-W.width()-Pa;N=ta;break;case "right":ya=N.x2+W.width()+Pa;N=ta;break;case "bottom":ya=ta;N=N.y2+Pa;break;default:ya=ma.x,N=ma.y}Ea(ma,"x",ya)|Ea(ma,"y",N)&&(W.translate(ya,N),z.dirty(ma),ma.bounds.clear().union(W),F.bounds.clear().union(W),z.dirty(ma));return ma.bounds}function ja(z){h.Transform.call(this,null,z)}function La(z){return z&&"legend-entry"!==z.mark.role}function oa(z,F,V){var ta=F.items,N=Math.max(0,F.width||0),ma=Math.max(0,F.height||0),
ya=(new ka.Bounds).set(0,0,N,ma),Ma=ya.clone(),Pa=ya.clone(),Xa=[],sb,ib;var Tb=0;for(ib=ta.length;Tb<ib;++Tb){var X=ta[Tb];switch(X.role){case "axis":var Fa=Za(X)?Ma:Pa;Fa.union(tb(z,X,N,ma));break;case "title":var Kb=X;break;case "legend":Xa.push(qb(z,X));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":Ma.union(X.bounds);Pa.union(X.bounds);break;default:ya.union(X.bounds)}}if(Xa.length){const qc={};
Xa.forEach($b=>{sb=$b.orient||"right";"none"!==sb&&(qc[sb]||(qc[sb]=[])).push($b)});for(const $b in qc)ta=qc[$b],sa(z,ta,ab(ta,$b,V.legends,Ma,Pa,N,ma));Xa.forEach($b=>{const Mb=$b.bounds;Mb.equals($b._bounds)||($b.bounds=$b._bounds,z.dirty($b),$b.bounds=Mb,z.dirty($b));if(!V.autosize||"fit"!==V.autosize.type&&"fit-x"!==V.autosize.type&&"fit-y"!==V.autosize.type)ya.union(Mb);else switch($b.orient){case "left":case "right":ya.add(Mb.x1,0).add(Mb.x2,0);break;case "top":case "bottom":ya.add(0,Mb.y1).add(0,
Mb.y2)}})}ya.union(Ma).union(Pa);Kb&&ya.union(ea(z,Kb,N,ma,ya));F.clip&&ya.set(0,0,F.width||0,F.height||0);qa(z,F,ya,V)}function qa(z,F,V,ta){ta=ta.autosize||{};const N=ta.type;if(!(1>z._autosize)&&N){var ma=z._width,ya=z._height,Ma=Math.max(0,F.width||0),Pa=Math.max(0,Math.ceil(-V.x1));F=Math.max(0,F.height||0);var Xa=Math.max(0,Math.ceil(-V.y1)),sb=Math.max(0,Math.ceil(V.x2-Ma));V=Math.max(0,Math.ceil(V.y2-F));if("padding"===ta.contains){const ib=z.padding();ma-=ib.left+ib.right;ya-=ib.top+ib.bottom}"none"===
N?(Xa=Pa=0,Ma=ma,F=ya):"fit"===N?(Ma=Math.max(0,ma-Pa-sb),F=Math.max(0,ya-Xa-V)):"fit-x"===N?(Ma=Math.max(0,ma-Pa-sb),ya=F+Xa+V):"fit-y"===N?(ma=Ma+Pa+sb,F=Math.max(0,ya-Xa-V)):"pad"===N&&(ma=Ma+Pa+sb,ya=F+Xa+V);z._resizeView(ma,ya,Ma,F,[Pa,Xa],ta.resize)}}Ya.inherits(ub,h.Transform,{transform(z,F){const V=F.dataflow,ta=z.mark,N=ta.marktype,ma=ka.Marks[N],ya=ma.bound;let Ma=ta.bounds,Pa;if(ma.nested)ta.items.length&&V.dirty(ta.items[0]),Ma=Yb(ta,ya),ta.items.forEach(Xa=>{Xa.bounds.clear().union(Ma)});
else if("group"===N||z.modified())switch(F.visit(F.MOD,Xa=>V.dirty(Xa)),Ma.clear(),ta.items.forEach(Xa=>Ma.union(Yb(Xa,ya))),ta.role){case "axis":case "legend":case "title":F.reflow()}else Pa=F.changed(F.REM),F.visit(F.ADD,Xa=>{Ma.union(Yb(Xa,ya))}),F.visit(F.MOD,Xa=>{Pa=Pa||Ma.alignsWith(Xa.bounds);V.dirty(Xa);Ma.union(Yb(Xa,ya))}),Pa&&(Ma.clear(),ta.items.forEach(Xa=>Ma.union(Xa.bounds)));ka.boundClip(ta);return F.modifies("bounds")}});bc.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",
type:"string",required:!0}]};Ya.inherits(bc,h.Transform,{transform(z,F){const V=Xb(F.dataflow),ta=z.as;let N=V.value;F.visit(F.ADD,ma=>ma[ta]=ma[ta]||++N);V.set(this.value=N);return F}});Ya.inherits(oc,h.Transform,{transform(z,F){let V=this.value;V||(V=F.dataflow.scenegraph().mark(z.markdef,zb(z),z.index),V.group.context=z.context,z.context.group||(z.context.group=V.group),V.source=this.source,V.clip=z.clip,V.interactive=z.interactive,this.value=V);const ta="group"===V.marktype?ka.GroupItem:ka.Item;
F.visit(F.ADD,N=>ta.call(N,V));if(z.modified("clip")||z.modified("interactive"))V.clip=z.clip,V.interactive=!!z.interactive,V.zdirty=!0,F.reflow();V.items=F.source;return F}});const l={parity:z=>z.filter((F,V)=>V%2?F.opacity=0:1),greedy:(z,F)=>{let V;return z.filter((ta,N)=>N&&D(V.bounds,ta.bounds,F)?ta.opacity=0:(V=ta,1))}},D=(z,F,V)=>V>Math.max(F.x1-z.x2,z.x1-F.x2,F.y1-z.y2,z.y1-F.y2),K=(z,F)=>{for(var V=1,ta=z.length,N=z[0].bounds;V<ta;++V)if(D(N,N=z[V].bounds,F))return!0},v=z=>{z=z.bounds;return 1<
z.width()&&1<z.height()},R=(z,F,V)=>{z=z.range();var ta=new ka.Bounds;"top"===F||"bottom"===F?ta.set(z[0],-Infinity,z[1],Infinity):ta.set(-Infinity,z[0],Infinity,z[1]);ta.expand(V||1);return N=>ta.encloses(N.bounds)},A=z=>{z.forEach(F=>F.opacity=1);return z};Ya.inherits(Ub,h.Transform,{transform(z,F){const V=l[z.method]||l.parity,ta=z.separation||0;let N=F.materialize(F.SOURCE).source,ma,ya;if(N&&N.length){if(!z.method)return z.modified("method")&&(A(N),F=F.reflow(z.modified()).modifies("opacity")),
F;N=N.filter(v);if(N.length){z.sort&&(N=N.slice().sort(z.sort));ma=A(N);F=F.reflow(z.modified()).modifies("opacity");if(3<=ma.length&&K(ma,ta)){do ma=V(ma,ta);while(3<=ma.length&&K(ma,ta));3>ma.length&&!Ya.peek(N).opacity&&(1<ma.length&&(Ya.peek(ma).opacity=0),Ya.peek(N).opacity=1)}z.boundScale&&0<=z.boundTolerance&&(ya=R(z.boundScale,z.boundOrient,+z.boundTolerance),N.forEach(Pa=>{ya(Pa)||(Pa.opacity=0)}));var Ma=ma[0].mark.bounds.clear();N.forEach(Pa=>{Pa.opacity&&Ma.union(Pa.bounds)});return F}}}});
Ya.inherits(kc,h.Transform,{transform(z,F){const V=F.dataflow;F.visit(F.ALL,ta=>V.dirty(ta));F.fields&&F.fields.zindex&&(z=F.source&&F.source[0])&&(z.mark.zdirty=!0)}});const W=new ka.Bounds,G=(z,F)=>Math.floor(Math.min(z,F)),w=(z,F)=>Math.ceil(Math.max(z,F));Ya.inherits(ja,h.Transform,{transform(z,F){const V=F.dataflow;z.mark.items.forEach(ta=>{if(z.layout){var N=z.layout;var ma=ta.items;for(var ya=ma.length,Ma=0,Pa,Xa,sb={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,
coltitle:null};Ma<ya;++Ma)if(Pa=ma[Ma],Xa=Pa.items,"group"===Pa.marktype)switch(Pa.role){case "axis":case "legend":case "title":break;case "row-header":sb.rowheaders.push(...Xa);break;case "row-footer":sb.rowfooters.push(...Xa);break;case "column-header":sb.colheaders.push(...Xa);break;case "column-footer":sb.colfooters.push(...Xa);break;case "row-title":sb.rowtitle=Xa[0];break;case "column-title":sb.coltitle=Xa[0];break;default:sb.marks.push(...Xa)}ma=sb;Xa=ma.marks;sb="flush"===N.bounds?ia:Ba;ya=
N.offset;var ib=N.columns||Xa.length,Tb=0>=ib?1:Math.ceil(Xa.length/ib),X=Tb*ib;Ma=sa(V,Xa,N);Ma.empty()&&Ma.set(0,0,0,0);if(ma.rowheaders){Pa=gb(N.headerBand,"row",null);var Fa=Ra(V,ma.rowheaders,Xa,ib,Tb,-gb(ya,"rowHeader"),G,0,sb,"x1",0,ib,1,Pa)}if(ma.colheaders){Pa=gb(N.headerBand,"column",null);var Kb=Ra(V,ma.colheaders,Xa,ib,ib,-gb(ya,"columnHeader"),G,1,sb,"y1",0,1,ib,Pa)}if(ma.rowfooters){Pa=gb(N.footerBand,"row",null);var qc=Ra(V,ma.rowfooters,Xa,ib,Tb,gb(ya,"rowFooter"),w,0,sb,"x2",ib-1,
ib,1,Pa)}if(ma.colfooters){Pa=gb(N.footerBand,"column",null);var $b=Ra(V,ma.colfooters,Xa,ib,ib,gb(ya,"columnFooter"),w,1,sb,"y2",X-ib,1,ib,Pa)}ma.rowtitle&&(Pa=gb(N.titleAnchor,"row"),Xa=gb(ya,"rowTitle"),Xa="end"===Pa?qc+Xa:Fa-Xa,Pa=gb(N.titleBand,"row",.5),Wa(V,ma.rowtitle,Xa,0,Ma,Pa));ma.coltitle&&(Pa=gb(N.titleAnchor,"column"),Xa=gb(ya,"columnTitle"),Xa="end"===Pa?$b+Xa:Kb-Xa,Pa=gb(N.titleBand,"column",.5),Wa(V,ma.coltitle,Xa,1,Ma,Pa))}oa(V,ta,z)});return La(z.mark.group)?F.reflow():F}});r.bound=
ub;r.identifier=bc;r.mark=oc;r.overlap=Ub;r.render=kc;r.viewlayout=ja})};
shadow$provide[36]=function(Db,mb,Cc,Va){(function(r,h){"object"===typeof Va&&"undefined"!==typeof Cc?h(Va,mb(29),mb(33),mb(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scale","vega-util"],h):(r="undefined"!==typeof globalThis?globalThis:r||self,h(r.vega={},r.vega,r.vega,r.vega))})(this,function(r,h,ka,Ya){function ub(Q){h.Transform.call(this,null,Q)}function Yb(Q){h.Transform.call(this,null,Q)}function bc(){return h.ingest({})}function Xb(Q){const t=Ya.fastmap().test(da=>
da.exit);t.lookup=da=>t.get(Q(da));return t}function oc(Q){h.Transform.call(this,null,Q)}function zb(Q){h.Transform.call(this,[],Q)}function Ub(Q){h.Transform.call(this,{},Q)}function kc(Q,t,da){Q=+Q;t=+t;da=2>(Da=arguments.length)?(t=Q,Q=0,1):3>Da?1:+da;for(var za=-1,Da=Math.max(0,Math.ceil((t-Q)/da))|0,Oa=Array(Da);++za<Da;)Oa[za]=Q+za*da;return Oa}function Ea(Q,t){let da=0;if(void 0===t)for(var za of Q){if(za=+za)da+=za}else{za=-1;for(let Da of Q)if(Da=+t(Da,++za,Q))da+=Da}return da}function Za(Q){h.Transform.call(this,
null,Q)}function tb(Q,t,da){Q.prototype=t.prototype=da;da.constructor=Q}function rb(Q,t){Q=Object.create(Q.prototype);for(var da in t)Q[da]=t[da];return Q}function pb(){}function vb(){return this.rgb().formatHex()}function gb(){return this.rgb().formatRgb()}function ec(Q){var t,da;Q=(Q+"").trim().toLowerCase();return(t=ra.exec(Q))?(da=t[1].length,t=parseInt(t[1],16),6===da?sa(t):3===da?new Ra(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):8===da?ia(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):4===
da?ia(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ab.exec(Q))?new Ra(t[1],t[2],t[3],1):(t=Ta.exec(Q))?new Ra(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=wb.exec(Q))?ia(t[1],t[2],t[3],t[4]):(t=Gb.exec(Q))?ia(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Nb.exec(Q))?Pb(t[1],t[2]/100,t[3]/100,1):(t=Zb.exec(Q))?Pb(t[1],t[2]/100,t[3]/100,t[4]):jc.hasOwnProperty(Q)?sa(jc[Q]):"transparent"===Q?new Ra(NaN,NaN,NaN,0):null}function sa(Q){return new Ra(Q>>16&255,Q>>8&255,
Q&255,1)}function ia(Q,t,da,za){0>=za&&(Q=t=da=NaN);return new Ra(Q,t,da,za)}function Ba(Q,t,da,za){if(1===arguments.length){var Da=Q;Da instanceof pb||(Da=ec(Da));Da?(Da=Da.rgb(),Da=new Ra(Da.r,Da.g,Da.b,Da.opacity)):Da=new Ra}else Da=new Ra(Q,t,da,null==za?1:za);return Da}function Ra(Q,t,da,za){this.r=+Q;this.g=+t;this.b=+da;this.opacity=+za}function Wa(){return`#${qb(this.r)}${qb(this.g)}${qb(this.b)}`}function Ia(){const Q=hb(this.opacity);return`${1===Q?"rgb(":"rgba("}${ab(this.r)}, ${ab(this.g)}, ${ab(this.b)}${1===
Q?")":`, ${Q})`}`}function hb(Q){return isNaN(Q)?1:Math.max(0,Math.min(1,Q))}function ab(Q){return Math.max(0,Math.min(255,Math.round(Q)||0))}function qb(Q){Q=ab(Q);return(16>Q?"0":"")+Q.toString(16)}function Pb(Q,t,da,za){0>=za?Q=t=da=NaN:0>=da||1<=da?Q=t=NaN:0>=t&&(Q=NaN);return new U(Q,t,da,za)}function db(Q){if(Q instanceof U)return new U(Q.h,Q.s,Q.l,Q.opacity);Q instanceof pb||(Q=ec(Q));if(!Q)return new U;if(Q instanceof U)return Q;Q=Q.rgb();var t=Q.r/255,da=Q.g/255,za=Q.b/255,Da=Math.min(t,
da,za),Oa=Math.max(t,da,za),jb=NaN,Rb=Oa-Da,Eb=(Oa+Da)/2;Rb?(jb=t===Oa?(da-za)/Rb+6*(da<za):da===Oa?(za-t)/Rb+2:(t-da)/Rb+4,Rb/=.5>Eb?Oa+Da:2-Oa-Da,jb*=60):Rb=0<Eb&&1>Eb?0:jb;return new U(jb,Rb,Eb,Q.opacity)}function U(Q,t,da,za){this.h=+Q;this.s=+t;this.l=+da;this.opacity=+za}function ba(Q){Q=(Q||0)%360;return 0>Q?Q+360:Q}function ea(Q){return Math.max(0,Math.min(1,Q||0))}function ja(Q,t,da){return 255*(60>Q?t+(da-t)*Q/60:180>Q?da:240>Q?t+(da-t)*(240-Q)/60:t)}function La(Q,t){return function(da){return Q+
da*t}}function oa(Q,t,da){return Q=Math.pow(Q,da),t=Math.pow(t,da)-Q,da=1/da,function(za){return Math.pow(Q+za*t,da)}}function qa(Q){return 1===(Q=+Q)?l:function(t,da){return da-t?oa(t,da,Q):Ac(isNaN(t)?da:t)}}function l(Q,t){var da=t-Q;return da?La(Q,da):Ac(isNaN(Q)?t:Q)}function D(Q,t){t||(t=[]);var da=Q?Math.min(t.length,Q.length):0,za=t.slice(),Da;return function(Oa){for(Da=0;Da<da;++Da)za[Da]=Q[Da]*(1-Oa)+t[Da]*Oa;return za}}function K(Q,t){var da=t?t.length:0,za=Q?Math.min(da,Q.length):0,Da=
Array(za),Oa=Array(da),jb;for(jb=0;jb<za;++jb)Da[jb]=z(Q[jb],t[jb]);for(;jb<da;++jb)Oa[jb]=t[jb];return function(Rb){for(jb=0;jb<za;++jb)Oa[jb]=Da[jb](Rb);return Oa}}function v(Q,t){var da=new Date;return Q=+Q,t=+t,function(za){return da.setTime(Q*(1-za)+t*za),da}}function R(Q,t){return Q=+Q,t=+t,function(da){return Q*(1-da)+t*da}}function A(Q,t){var da={},za={},Da;if(null===Q||"object"!==typeof Q)Q={};if(null===t||"object"!==typeof t)t={};for(Da in t)Da in Q?da[Da]=z(Q[Da],t[Da]):za[Da]=t[Da];return function(Oa){for(Da in da)za[Da]=
da[Da](Oa);return za}}function W(Q){return function(){return Q}}function G(Q){return function(t){return Q(t)+""}}function w(Q,t){var da=Vc.lastIndex=na.lastIndex=0,za,Da,Oa,jb=-1,Rb=[],Eb=[];Q+="";for(t+="";(za=Vc.exec(Q))&&(Da=na.exec(t));)(Oa=Da.index)>da&&(Oa=t.slice(da,Oa),Rb[jb]?Rb[jb]+=Oa:Rb[++jb]=Oa),(za=za[0])===(Da=Da[0])?Rb[jb]?Rb[jb]+=Da:Rb[++jb]=Da:(Rb[++jb]=null,Eb.push({i:jb,x:R(za,Da)})),da=na.lastIndex;da<t.length&&(Oa=t.slice(da),Rb[jb]?Rb[jb]+=Oa:Rb[++jb]=Oa);return 2>Rb.length?
Eb[0]?G(Eb[0].x):W(t):(t=Eb.length,function(Ib){for(var Bc=0,Dc;Bc<t;++Bc)Rb[(Dc=Eb[Bc]).i]=Dc.x(Ib);return Rb.join("")})}function z(Q,t){var da=typeof t;if(null==t||"boolean"===da)Q=Ac(t);else{if("number"===da)var za=R;else"string"===da?da=(za=ec(t))?(t=za,ld):w:(t instanceof ec?za=ld:t instanceof Date?za=v:(za=t,za=!ArrayBuffer.isView(za)||za instanceof DataView?Array.isArray(t)?K:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?A:R:D),da=za),za=da;Q=za(Q,t)}return Q}function F(Q,
t){return Q=+Q,t=+t,function(da){return Math.round(Q*(1-da)+t*da)}}function V(Q){return ka.isContinuous(Q)&&Q!==ka.Sequential}function ta(Q){h.Transform.call(this,null,Q);this.modified(!0)}function N(Q,t,da){ka.isLogarithmic(Q)&&Math.abs(t.reduce((za,Da)=>za+(0>Da?-1:0<Da?1:0),0))!==t.length&&da.warn("Log scale domain includes zero: "+Ya.stringValue(t));return t}function ma(Q,t,da){return Ya.isFunction(Q)&&(t||da)?ka.interpolateRange(Q,ya(t||[0,1],da)):Q}function ya(Q,t){return t?Q.slice().reverse():
Q}function Ma(Q){h.Transform.call(this,null,Q)}function Pa(Q){h.Transform.call(this,null,Q)}function Xa(Q,t,da,za,Da){t=(t-Q.sum)/2;for(var Oa=Q.length,jb=0,Rb;jb<Oa;++jb)Rb=Q[jb],Rb[za]=t,Rb[Da]=t+=Math.abs(da(Rb))}function sb(Q,t,da,za,Da){t=1/Q.sum;for(var Oa=0,jb=Q.length,Rb=0,Eb=0,Ib;Rb<jb;++Rb)Ib=Q[Rb],Ib[za]=Oa,Ib[Da]=Oa=t*(Eb+=Math.abs(da(Ib)))}function ib(Q,t,da,za,Da){for(var Oa=t=0,jb=Q.length,Rb=0,Eb,Ib;Rb<jb;++Rb)Ib=Q[Rb],Eb=+da(Ib),0>Eb?(Ib[za]=Oa,Ib[Da]=Oa+=Eb):(Ib[za]=t,Ib[Da]=t+=
Eb)}function Tb(Q,t,da,za){var Da=[],Oa=Rc=>Rc(Ib),jb;if(null==t)Da.push(Q.slice());else{var Rb={};var Eb=0;for(jb=Q.length;Eb<jb;++Eb){var Ib=Q[Eb];var Bc=t.map(Oa);var Dc=Rb[Bc];Dc||(Rb[Bc]=Dc=[],Da.push(Dc));Dc.push(Ib)}}Oa=Bc=0;for(Q=Da.length;Bc<Q;++Bc){Dc=Da[Bc];t=Eb=0;for(jb=Dc.length;Eb<jb;++Eb)t+=Math.abs(za(Dc[Eb]));Dc.sum=t;t>Oa&&(Oa=t);da&&Dc.sort(da)}Da.max=Oa;return Da}Ya.inherits(ub,h.Transform,{transform(Q,t){if(this.value&&!Q.modified())return t.StopPropagation;var da=t.dataflow.locale();
t=t.fork(t.NO_SOURCE|t.NO_FIELDS);var za=this.value,Da=Q.scale,Oa=ka.tickCount(Da,null==Q.count?Q.values?Q.values.length:10:Q.count,Q.minstep),jb=Q.format||ka.tickFormat(da,Da,Oa,Q.formatSpecifier,Q.formatType,!!Q.values),Rb=Q.values?ka.validTicks(Da,Q.values,Oa):ka.tickValues(Da,Oa);za&&(t.rem=za);za=Rb.map((Eb,Ib)=>h.ingest({index:Ib/(Rb.length-1||1),value:Eb,label:jb(Eb)}));Q.extra&&za.length&&za.push(h.ingest({index:-1,extra:{value:za[0].value},label:""}));t.source=za;this.value=t.add=za;return t}});
Ya.inherits(Yb,h.Transform,{transform(Q,t){var da=t.dataflow,za=t.fork(t.NO_SOURCE|t.NO_FIELDS),Da=Q.item||bc,Oa=Q.key||h.tupleid,jb=this.value;Ya.isArray(za.encode)&&(za.encode=null);jb&&(Q.modified("key")||t.modified(Oa))&&Ya.error("DataJoin does not support modified key function or fields.");jb||(t=t.addAll(),this.value=jb=Xb(Oa));t.visit(t.ADD,Rb=>{const Eb=Oa(Rb);let Ib=jb.get(Eb);Ib?Ib.exit?(jb.empty--,za.add.push(Ib)):za.mod.push(Ib):(Ib=Da(Rb),jb.set(Eb,Ib),za.add.push(Ib));Ib.datum=Rb;Ib.exit=
!1});t.visit(t.MOD,Rb=>{var Eb=Oa(Rb);if(Eb=jb.get(Eb))Eb.datum=Rb,za.mod.push(Eb)});t.visit(t.REM,Rb=>{var Eb=Oa(Rb);Eb=jb.get(Eb);Rb!==Eb.datum||Eb.exit||(za.rem.push(Eb),Eb.exit=!0,++jb.empty)});t.changed(t.ADD_MOD)&&za.modifies("datum");(t.clean()||Q.clean&&jb.empty>da.cleanThreshold)&&da.runAfter(jb.clean);return za}});Ya.inherits(oc,h.Transform,{transform(Q,t){var da=t.fork(t.ADD_REM),za=Q.mod||!1,Da=Q.encoders,Oa=t.encode;if(Ya.isArray(Oa))if(da.changed()||Oa.every(Dc=>Da[Dc]))Oa=Oa[0],da.encode=
null;else return t.StopPropagation;var jb="enter"===Oa,Rb=Da.update||Ya.falsy,Eb=Da.enter||Ya.falsy,Ib=Da.exit||Ya.falsy,Bc=(Oa&&!jb?Da[Oa]:Rb)||Ya.falsy;t.changed(t.ADD)&&(t.visit(t.ADD,Dc=>{Eb(Dc,Q);Rb(Dc,Q)}),da.modifies(Eb.output),da.modifies(Rb.output),Bc!==Ya.falsy&&Bc!==Rb&&(t.visit(t.ADD,Dc=>{Bc(Dc,Q)}),da.modifies(Bc.output)));t.changed(t.REM)&&Ib!==Ya.falsy&&(t.visit(t.REM,Dc=>{Ib(Dc,Q)}),da.modifies(Ib.output));if(jb||Bc!==Ya.falsy)Oa=t.MOD|(Q.modified()?t.REFLOW:0),jb?(t.visit(Oa,Dc=>
{const Rc=Eb(Dc,Q)||za;(Bc(Dc,Q)||Rc)&&da.mod.push(Dc)}),da.mod.length&&da.modifies(Eb.output)):t.visit(Oa,Dc=>{(Bc(Dc,Q)||za)&&da.mod.push(Dc)}),da.mod.length&&da.modifies(Bc.output);return da.changed()?da:t.StopPropagation}});Ya.inherits(zb,h.Transform,{transform(Q,t){if(null!=this.value&&!Q.modified())return t.StopPropagation;var da=t.dataflow.locale(),za=t.fork(t.NO_SOURCE|t.NO_FIELDS),Da=this.value,Oa=Q.type||ka.SymbolLegend,jb=Q.scale,Rb=+Q.limit,Eb=ka.tickCount(jb,null==Q.count?5:Q.count,Q.minstep),
Ib=!!Q.values||Oa===ka.SymbolLegend,Bc=Q.format||ka.labelFormat(da,jb,Eb,Oa,Q.formatSpecifier,Q.formatType,Ib),Dc=Q.values||ka.labelValues(jb,Eb),Rc;Da&&(za.rem=Da);if(Oa===ka.SymbolLegend){if(Rb&&Dc.length>Rb){t.dataflow.warn("Symbol legend count exceeds limit, filtering items.");Da=Dc.slice(0,Rb-1);var yd=!0}else Da=Dc;if(Ya.isFunction(Rc=Q.size)){Q.values||0!==jb(Da[0])||(Da=Da.slice(1));var rd=Da.reduce((Fd,Gd)=>Math.max(Fd,Rc(Gd,Q)),0)}else Rc=Ya.constant(rd=Rc||8);Da=Da.map((Fd,Gd)=>h.ingest({index:Gd,
label:Bc(Fd,Gd,Da),value:Fd,offset:rd,size:Rc(Fd,Q)}));yd&&(yd=Dc[Da.length],Da.push(h.ingest({index:Da.length,label:`\u2026${Dc.length-Da.length} entries`,value:yd,offset:rd,size:Rc(yd,Q)})))}else if(Oa===ka.GradientLegend){t=jb.domain();var gd=ka.scaleFraction(jb,t[0],Ya.peek(t));3>Dc.length&&!Q.values&&t[0]!==Ya.peek(t)&&(Dc=[t[0],Ya.peek(t)]);Da=Dc.map((Fd,Gd)=>h.ingest({index:Gd,label:Bc(Fd,Gd,Dc),value:Fd,perc:gd(Fd)}))}else Rc=Dc.length-1,gd=ka.labelFraction(jb),Da=Dc.map((Fd,Gd)=>h.ingest({index:Gd,
label:Bc(Fd,Gd,Dc),value:Fd,perc:Gd?gd(Fd):0,perc2:Gd===Rc?1:gd(Dc[Gd+1])}));za.source=Da;this.value=za.add=Da;return za}});const X=Q=>Q.source.x,Fa=Q=>Q.source.y,Kb=Q=>Q.target.x,qc=Q=>Q.target.y;Ub.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",
values:["horizontal","vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string","default":"path"}]};Ya.inherits(Ub,h.Transform,{transform(Q,t){var da=Q.sourceX||X,za=Q.sourceY||Fa,Da=Q.targetX||Kb,Oa=Q.targetY||qc,jb=Q.as||"path",Rb=Q.shape||"line",Eb=wc.get(Rb+"-"+(Q.orient||"vertical"))||wc.get(Rb);Eb||Ya.error("LinkPath unsupported type: "+Q.shape+(Q.orient?"-"+Q.orient:""));t.visit(t.SOURCE,
Ib=>{Ib[jb]=Eb(da(Ib),za(Ib),Da(Ib),Oa(Ib))});return t.reflow(Q.modified()).modifies(jb)}});const $b=(Q,t,da,za)=>"M"+Q+","+t+"L"+da+","+za,Mb=(Q,t,da,za)=>{var Da=da-Q,Oa=za-t,jb=Math.hypot(Da,Oa)/2;return"M"+Q+","+t+"A"+jb+","+jb+" "+180*Math.atan2(Oa,Da)/Math.PI+" 0 1 "+da+","+za},Qb=(Q,t,da,za)=>{var Da=da-Q;const Oa=za-t,jb=.2*(Da+Oa);Da=.2*(Oa-Da);return"M"+Q+","+t+"C"+(Q+jb)+","+(t+Da)+" "+(da+Da)+","+(za-jb)+" "+da+","+za},wc=Ya.fastmap({line:$b,"line-radial":(Q,t,da,za)=>$b(t*Math.cos(Q),
t*Math.sin(Q),za*Math.cos(da),za*Math.sin(da)),arc:Mb,"arc-radial":(Q,t,da,za)=>Mb(t*Math.cos(Q),t*Math.sin(Q),za*Math.cos(da),za*Math.sin(da)),curve:Qb,"curve-radial":(Q,t,da,za)=>Qb(t*Math.cos(Q),t*Math.sin(Q),za*Math.cos(da),za*Math.sin(da)),"orthogonal-horizontal":(Q,t,da,za)=>"M"+Q+","+t+"V"+za+"H"+da,"orthogonal-vertical":(Q,t,da,za)=>"M"+Q+","+t+"H"+da+"V"+za,"orthogonal-radial":(Q,t,da,za)=>{const Da=Math.cos(da),Oa=Math.sin(da);return"M"+t*Math.cos(Q)+","+t*Math.sin(Q)+"A"+t+","+t+" 0 0,"+
((Math.abs(da-Q)>Math.PI?da<=Q:da>Q)?1:0)+" "+t*Da+","+t*Oa+"L"+za*Da+","+za*Oa},"diagonal-horizontal":(Q,t,da,za)=>{const Da=(Q+da)/2;return"M"+Q+","+t+"C"+Da+","+t+" "+Da+","+za+" "+da+","+za},"diagonal-vertical":(Q,t,da,za)=>{const Da=(t+za)/2;return"M"+Q+","+t+"C"+Q+","+Da+" "+da+","+Da+" "+da+","+za},"diagonal-radial":(Q,t,da,za)=>{const Da=Math.cos(Q);Q=Math.sin(Q);const Oa=Math.cos(da);da=Math.sin(da);const jb=(t+za)/2;return"M"+t*Da+","+t*Q+"C"+jb*Da+","+jb*Q+" "+jb*Oa+","+jb*da+" "+za*Oa+
","+za*da}});Za.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};Ya.inherits(Za,h.Transform,{transform(Q,t){var da=Q.as||["startAngle","endAngle"],za=da[0],Da=da[1],Oa=Q.startAngle||0,jb=null!=Q.endAngle?Q.endAngle:2*Math.PI,Rb=t.source,Eb=
Rb.map(Q.field||Ya.one),Ib=Eb.length,Bc=Oa;Oa=(jb-Oa)/Ea(Eb);jb=kc(Ib);var Dc;Q.sort&&jb.sort((rd,gd)=>Eb[rd]-Eb[gd]);for(Dc=0;Dc<Ib;++Dc){var Rc=Eb[jb[Dc]];var yd=Rb[jb[Dc]];yd[za]=Bc;yd[Da]=Bc+=Rc*Oa}this.value=Eb;return t.reflow(Q.modified()).modifies(da)}});var fd=1/.7,ra=/^#([0-9a-f]{3,8})$/,Ab=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),Ta=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
wb=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Gb=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Nb=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
Zb=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),jc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,
cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,
dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,
lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,
mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,
seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tb(pb,ec,{copy(Q){return Object.assign(new this.constructor,this,Q)},displayable(){return this.rgb().displayable()},hex:vb,formatHex:vb,
formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return db(this).formatHsl()},formatRgb:gb,toString:gb});tb(Ra,Ba,rb(pb,{brighter(Q){Q=null==Q?fd:Math.pow(fd,Q);return new Ra(this.r*Q,this.g*Q,this.b*Q,this.opacity)},darker(Q){Q=null==Q?.7:Math.pow(.7,Q);return new Ra(this.r*Q,this.g*Q,this.b*Q,this.opacity)},rgb(){return this},clamp(){return new Ra(ab(this.r),ab(this.g),ab(this.b),hb(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&
-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Wa,formatHex:Wa,formatHex8:function(){return`#${qb(this.r)}${qb(this.g)}${qb(this.b)}${qb(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ia,toString:Ia}));tb(U,function(Q,t,da,za){return 1===arguments.length?db(Q):new U(Q,t,da,null==za?1:za)},rb(pb,{brighter(Q){Q=null==Q?fd:Math.pow(fd,Q);return new U(this.h,this.s,this.l*Q,this.opacity)},darker(Q){Q=null==Q?.7:Math.pow(.7,Q);return new U(this.h,this.s,this.l*Q,this.opacity)},
rgb(){var Q=this.h%360+360*(0>this.h),t=isNaN(Q)||isNaN(this.s)?0:this.s,da=this.l;t=da+(.5>da?da:1-da)*t;da=2*da-t;return new Ra(ja(240<=Q?Q-240:Q+120,da,t),ja(Q,da,t),ja(120>Q?Q+240:Q-120,da,t),this.opacity)},clamp(){return new U(ba(this.h),ea(this.s),ea(this.l),hb(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const Q=hb(this.opacity);return`${1===Q?"hsl(":"hsla("}${ba(this.h)}, ${100*ea(this.s)}%, ${100*
ea(this.l)}%${1===Q?")":`, ${Q})`}`}}));var Ac=Q=>()=>Q,ld=function da(t){function za(Oa,jb){var Rb=Da((Oa=Ba(Oa)).r,(jb=Ba(jb)).r),Eb=Da(Oa.g,jb.g),Ib=Da(Oa.b,jb.b),Bc=l(Oa.opacity,jb.opacity);return function(Dc){Oa.r=Rb(Dc);Oa.g=Eb(Dc);Oa.b=Ib(Dc);Oa.opacity=Bc(Dc);return Oa+""}}var Da=qa(t);za.gamma=da;return za}(1),Vc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,na=new RegExp(Vc.source,"g");const Ha=Ya.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));
Ya.inherits(ta,h.Transform,{transform(t,da){var za=da.dataflow,Da=this.value;var Oa=t.type;var jb="";if(Oa===ka.Sequential)Oa=ka.Sequential+"-"+ka.Linear;else{var Rb=t.type;ka.isContinuous(Rb)&&Rb!==ka.Time&&Rb!==ka.UTC&&(t.scheme||t.range&&t.range.length&&t.range.every(Ya.isString))&&(jb=t.rawDomain?t.rawDomain.length:t.domain?t.domain.length+ +(null!=t.domainMid):0,jb=2===jb?ka.Sequential+"-":3===jb?ka.Diverging+"-":"");Oa=(jb+Oa||ka.Linear).toLowerCase()}Da&&Oa===Da.type||(this.value=Da=ka.scale(Oa)());
for(Oa in t)Ha[Oa]||"padding"===Oa&&V(Da.type)||(Ya.isFunction(Da[Oa])?Da[Oa](t[Oa]):za.warn("Unsupported scale property: "+Oa));jb=Oa=Da;(Rb=t.domainRaw)?(Da.domain(N(Da.type,Rb,za)),Rb=Rb.length):Rb=-1;if(-1<Rb)za=Rb;else{var Eb=t.domain;Rb=Da.type;var Ib;!(Ib=t.zero)&&(Ib=void 0===t.zero)&&(Ib=Da.type,Ib=!Da.bins&&(Ib===ka.Linear||Ib===ka.Pow||Ib===ka.Sqrt));var Bc=Ib;if(Eb){if(Bc||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)if(Ib=(Eb=Eb.slice()).length-1||1,Bc&&(0<Eb[0]&&(Eb[0]=0),
0>Eb[Ib]&&(Eb[Ib]=0)),null!=t.domainMin&&(Eb[0]=t.domainMin),null!=t.domainMax&&(Eb[Ib]=t.domainMax),null!=t.domainMid){Bc=t.domainMid;var Dc=Bc>Eb[Ib]?Ib+1:Bc<Eb[0]?0:Ib;Dc!==Ib&&za.warn("Scale domainMid exceeds domain min or max.",Bc);Eb.splice(Dc,0,Bc)}if(V(Rb)&&t.padding&&Eb[0]!==Ya.peek(Eb)){var Rc=t.range;Dc=t.padding;Ib=t.exponent;Bc=t.constant;Rc=Math.abs(Ya.peek(Rc)-Rc[0]);Dc=Rc/(Rc-2*Dc);Ib=Rb===ka.Log?Ya.zoomLog(Eb,null,Dc):Rb===ka.Sqrt?Ya.zoomPow(Eb,null,Dc,.5):Rb===ka.Pow?Ya.zoomPow(Eb,
null,Dc,Ib||1):Rb===ka.Symlog?Ya.zoomSymlog(Eb,null,Dc,Bc||1):Ya.zoomLinear(Eb,null,Dc);Eb=Eb.slice();Eb[0]=Ib[0];Eb[Eb.length-1]=Ib[1]}Da.domain(N(Rb,Eb,za));Rb===ka.Ordinal&&Da.unknown(t.domainImplicit?ka.scaleImplicit:void 0);t.nice&&Da.nice&&Da.nice(!0!==t.nice&&ka.tickCount(Da,t.nice)||null);za=Eb.length}else za=0}(Rb=t.bins)&&!Ya.isArray(Rb)&&(Eb=jb.domain(),Da=Eb[0],Eb=Ya.peek(Eb),Ib=Rb.step,Bc=null==Rb.start?Da:Rb.start,Rb=null==Rb.stop?Eb:Rb.stop,Ib||Ya.error("Scale bins parameter missing step property."),
Bc<Da&&(Bc=Ib*Math.ceil(Da/Ib)),Rb>Eb&&(Rb=Ib*Math.floor(Eb/Ib)),Rb=kc(Bc,Rb+Ib/2,Ib));Rb?jb.bins=Rb:jb.bins&&delete jb.bins;jb.type===ka.BinOrdinal&&(Rb?t.domain||t.domainRaw||(jb.domain(Rb),za=Rb.length):jb.bins=jb.domain());Da=za;a:{jb=Oa.type;za=t.round||!1;Rb=t.range;if(null!=t.rangeStep)jb!==ka.Band&&jb!==ka.Point&&Ya.error("Only band and point scales support rangeStep."),Rb=[0,t.rangeStep*ka.bandSpace(Da,jb===ka.Point?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0,(null!=t.paddingOuter?
t.paddingOuter:t.padding)||0)];else if(t.scheme&&(Rb=t.schemeExtent,Ya.isArray(t.scheme)?Eb=ka.interpolateColors(t.scheme,t.interpolate,t.interpolateGamma):(Eb=t.scheme.toLowerCase(),(Eb=ka.scheme(Eb))||Ya.error(`Unrecognized scheme name: ${t.scheme}`)),Da=jb===ka.Threshold?Da+1:jb===ka.BinOrdinal?Da-1:jb===ka.Quantile||jb===ka.Quantize?+t.schemeCount||5:Da,Rb=ka.isInterpolating(jb)?ma(Eb,Rb,t.reverse):Ya.isFunction(Eb)?ka.quantizeInterpolator(ma(Eb,Rb),Da):jb===ka.Ordinal?Eb:Eb.slice(0,Da),Ya.isFunction(Rb)))if(Oa.interpolator){Oa.interpolator(Rb);
break a}else Ya.error(`Scale type ${jb} does not support interpolating color schemes.`);Rb&&ka.isInterpolating(jb)?Oa.interpolator(ka.interpolateColors(ya(Rb,t.reverse),t.interpolate,t.interpolateGamma)):(Rb&&t.interpolate&&Oa.interpolate?Oa.interpolate(ka.interpolate(t.interpolate,t.interpolateGamma)):Ya.isFunction(Oa.round)?Oa.round(za):Ya.isFunction(Oa.rangeRound)&&Oa.interpolate(za?F:z),Rb&&Oa.range(ya(Rb,t.reverse)))}return da.fork(da.NO_SOURCE|da.NO_FIELDS)}});Ya.inherits(Ma,h.Transform,{transform(t,
da){const za=t.modified("sort")||da.changed(da.ADD)||da.modified(t.sort.fields)||da.modified("datum");za&&da.source.sort(h.stableCompare(t.sort));this.modified(za);return da}});const fb=["y0","y1"];Pa.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":fb}]};Ya.inherits(Pa,
h.Transform,{transform(t,da){var za=t.as||fb,Da=za[0],Oa=za[1],jb=h.stableCompare(t.sort),Rb=t.field||Ya.one,Eb="center"===t.offset?Xa:"normalize"===t.offset?sb:ib,Ib;jb=Tb(da.source,t.groupby,jb,Rb);var Bc=0;var Dc=jb.length;for(Ib=jb.max;Bc<Dc;++Bc)Eb(jb[Bc],Ib,Rb,Da,Oa);return da.reflow(t.modified()).modifies(za)}});r.axisticks=ub;r.datajoin=Yb;r.encode=oc;r.legendentries=zb;r.linkpath=Ub;r.pie=Za;r.scale=ta;r.sortitems=Ma;r.stack=Pa})};
shadow$provide[37]=function(Db,mb,Cc,Va){(function(r,h){"object"===typeof Va&&"undefined"!==typeof Cc?h(Va,mb(33)):"function"===typeof define&&define.amd?define(["exports","vega-scale"],h):(r="undefined"!==typeof globalThis?globalThis:r||self,h(r.vega={},r.vega))})(this,function(r,h){function*ka(p){for(const P of p)yield*P}function Ya(p){return 1<p?0:-1>p?Ib:Math.acos(p)}function ub(p){return 1<p?Bc:-1>p?-Bc:Math.asin(p)}function Yb(){}function bc(p,P){if(p&&cc.hasOwnProperty(p.type))cc[p.type](p,
P)}function Xb(p,P,Y){var pa=-1;Y=p.length-Y;for(P.lineStart();++pa<Y;){var ua=p[pa];P.point(ua[0],ua[1],ua[2])}P.lineEnd()}function oc(p,P){var Y=-1,pa=p.length;for(P.polygonStart();++Y<pa;)Xb(p[Y],P,1);P.polygonEnd()}function zb(p,P){if(p&&yb.hasOwnProperty(p.type))yb[p.type](p,P);else bc(p,P)}function Ub(p){return[Gd(p[1],p[0]),ub(p[2])]}function kc(p){var P=p[0];p=p[1];var Y=ud(p);return[Y*ud(P),Y*J(P),J(p)]}function Ea(p,P){return p[0]*P[0]+p[1]*P[1]+p[2]*P[2]}function Za(p,P){return[p[1]*P[2]-
p[2]*P[1],p[2]*P[0]-p[0]*P[2],p[0]*P[1]-p[1]*P[0]]}function tb(p,P){p[0]+=P[0];p[1]+=P[1];p[2]+=P[2]}function rb(p,P){return[p[0]*P,p[1]*P,p[2]*P]}function pb(p){var P=Ka(p[0]*p[0]+p[1]*p[1]+p[2]*p[2]);p[0]/=P;p[1]/=P;p[2]/=P}function vb(p,P){function Y(pa,ua){return pa=p(pa,ua),P(pa[0],pa[1])}p.invert&&P.invert&&(Y.invert=function(pa,ua){return pa=P.invert(pa,ua),pa&&p.invert(pa[0],pa[1])});return Y}function gb(p,P){gd(p)>Ib&&(p-=Math.round(p/Rc)*Rc);return[p,P]}function ec(p,P,Y){return(p%=Rc)?
P||Y?vb(ia(p),Ba(P,Y)):ia(p):P||Y?Ba(P,Y):gb}function sa(p){return function(P,Y){P+=p;gd(P)>Ib&&(P-=Math.round(P/Rc)*Rc);return[P,Y]}}function ia(p){var P=sa(p);P.invert=sa(-p);return P}function Ba(p,P){function Y(Wb,ac){var mc=ud(ac),zc=ud(Wb)*mc;Wb=J(Wb)*mc;ac=J(ac);mc=ac*pa+zc*ua;return[Gd(Wb*Bb-mc*Fb,zc*pa-ac*ua),ub(mc*Bb+Wb*Fb)]}var pa=ud(p),ua=J(p),Bb=ud(P),Fb=J(P);Y.invert=function(Wb,ac){var mc=ud(ac),zc=ud(Wb)*mc;Wb=J(Wb)*mc;ac=J(ac);mc=ac*Bb-Wb*Fb;return[Gd(Wb*Bb+ac*Fb,zc*pa+mc*ua),ub(mc*
pa-zc*ua)]};return Y}function Ra(p){function P(Y){Y=p(Y[0]*rd,Y[1]*rd);return Y[0]*=yd,Y[1]*=yd,Y}p=ec(p[0]*rd,p[1]*rd,2<p.length?p[2]*rd:0);P.invert=function(Y){Y=p.invert(Y[0]*rd,Y[1]*rd);return Y[0]*=yd,Y[1]*=yd,Y};return P}function Wa(p,P){P=kc(P);P[0]-=p;pb(P);p=Ya(-P[1]);return((0>-P[2]?-p:p)+Rc-1E-6)%Rc}function Ia(){var p=[],P;return{point:function(Y,pa,ua){P.push([Y,pa,ua])},lineStart:function(){p.push(P=[])},lineEnd:Yb,rejoin:function(){1<p.length&&p.push(p.pop().concat(p.shift()))},result:function(){var Y=
p;p=[];P=null;return Y}}}function hb(p,P){return 1E-6>gd(p[0]-P[0])&&1E-6>gd(p[1]-P[1])}function ab(p,P,Y,pa){this.x=p;this.z=P;this.o=Y;this.e=pa;this.v=!1;this.n=this.p=null}function qb(p,P,Y,pa,ua){var Bb=[],Fb=[];p.forEach(function(xc){if(!(0>=(Jc=xc.length-1))){var Jc,$c=xc[0],ad=xc[Jc];if(hb($c,ad)){if(!$c[2]&&!ad[2]){ua.lineStart();for(Wb=0;Wb<Jc;++Wb)ua.point(($c=xc[Wb])[0],$c[1]);ua.lineEnd();return}ad[0]+=2E-6}Bb.push(Jc=new ab($c,xc,null,!0));Fb.push(Jc.o=new ab($c,null,Jc,!1));Bb.push(Jc=
new ab(ad,xc,null,!1));Fb.push(Jc.o=new ab(ad,null,Jc,!0))}});if(Bb.length){Fb.sort(P);Pb(Bb);Pb(Fb);var Wb=0;for(p=Fb.length;Wb<p;++Wb)Fb[Wb].e=Y=!Y;Y=Bb[0];for(var ac;;){for(var mc=Y,zc=!0;mc.v;)if((mc=mc.n)===Y)return;P=mc.z;ua.lineStart();do{mc.v=mc.o.v=!0;if(mc.e){if(zc)for(Wb=0,p=P.length;Wb<p;++Wb)ua.point((ac=P[Wb])[0],ac[1]);else pa(mc.x,mc.n.x,1,ua);mc=mc.n}else{if(zc)for(P=mc.p.z,Wb=P.length-1;0<=Wb;--Wb)ua.point((ac=P[Wb])[0],ac[1]);else pa(mc.x,mc.p.x,-1,ua);mc=mc.p}mc=mc.o;P=mc.z;zc=
!zc}while(!mc.v);ua.lineEnd()}}}function Pb(p){if(P=p.length){for(var P,Y=0,pa=p[0],ua;++Y<P;)pa.n=ua=p[Y],ua.p=pa,pa=ua;pa.n=ua=p[0];ua.p=pa}}function db(p){return gd(p[0])<=Ib?p[0]:xa(p[0])*((gd(p[0])+Ib)%Rc-Ib)}function U(p,P,Y,pa){return function(ua){function Bb(Zc,zd){p(Zc,zd)&&ua.point(Zc,zd)}function Fb(Zc,zd){Jc.point(Zc,zd)}function Wb(){Be.point=Fb;Jc.lineStart()}function ac(){Be.point=Bb;Jc.lineEnd()}function mc(Zc,zd){Vd.push([Zc,zd]);ad.point(Zc,zd)}function zc(){ad.lineStart();Vd=[]}
function xc(){mc(Vd[0][0],Vd[0][1]);ad.lineEnd();var Zc=ad.clean(),zd=$c.result(),Yd=zd.length,Zd;Vd.pop();Xd.push(Vd);Vd=null;if(Yd)if(Zc&1){if(Yd=zd[0],0<(zd=Yd.length-1)){kd||(ua.polygonStart(),kd=!0);ua.lineStart();for(Zc=0;Zc<zd;++Zc)ua.point((Zd=Yd[Zc])[0],Zd[1]);ua.lineEnd()}}else 1<Yd&&Zc&2&&zd.push(zd.pop().concat(zd.shift())),Sc.push(zd.filter(ba))}var Jc=P(ua),$c=Ia(),ad=P($c),kd=!1,Xd,Sc,Vd,Be={point:Bb,lineStart:Wb,lineEnd:ac,polygonStart:function(){Be.point=mc;Be.lineStart=zc;Be.lineEnd=
xc;Sc=[];Xd=[]},polygonEnd:function(){Be.point=Bb;Be.lineStart=Wb;Be.lineEnd=ac;Sc=Array.from(ka(Sc));var Zc=Xd;var zd=db(pa),Yd=pa[1],Zd=J(Yd),Ce=[J(zd),-ud(zd),0],Rd=0,Od=0,te=new Eb;1===Zd?Yd=Bc+1E-6:-1===Zd&&(Yd=-Bc-1E-6);Zd=0;for(var Ae=Zc.length;Zd<Ae;++Zd)if(Df=(Oe=Zc[Zd]).length){var Oe,Df,td=Oe[Df-1],Pe=db(td),Te=td[1]/2+Dc,kf=J(Te),Xf=ud(Te);for(Te=0;Te<Df;++Te,Pe=bf,kf=eg,Xf=fg,td=rf){var rf=Oe[Te],bf=db(rf);fg=rf[1]/2+Dc;var eg=J(fg),fg=ud(fg),Of=bf-Pe,Pf=0<=Of?1:-1,nf=Pf*Of,lg=nf>Ib;
kf*=eg;te.add(Gd(kf*Pf*J(nf),Xf*fg+kf*ud(nf)));Rd+=lg?Of+Pf*Rc:Of;lg^Pe>=zd^bf>=zd&&(td=Za(kc(td),kc(rf)),pb(td),Pe=Za(Ce,td),pb(Pe),Pe=(lg^0<=Of?-1:1)*ub(Pe[2]),Yd>Pe||Yd===Pe&&(td[0]||td[1]))&&(Od+=lg^0<=Of?1:-1)}}Zc=(-1E-6>Rd||1E-6>Rd&&-1E-12>te)^Od&1;Sc.length?(kd||(ua.polygonStart(),kd=!0),qb(Sc,ea,Zc,Y,ua)):Zc&&(kd||(ua.polygonStart(),kd=!0),ua.lineStart(),Y(null,null,1,ua),ua.lineEnd());kd&&(ua.polygonEnd(),kd=!1);Sc=Xd=null},sphere:function(){ua.polygonStart();ua.lineStart();Y(null,null,1,
ua);ua.lineEnd();ua.polygonEnd()}};return Be}}function ba(p){return 1<p.length}function ea(p,P){return(0>(p=p.x)[0]?p[1]-Bc-1E-6:Bc-p[1])-(0>(P=P.x)[0]?P[1]-Bc-1E-6:Bc-P[1])}function ja(p){function P(ac,mc){return ud(ac)*ud(mc)>ua}function Y(ac,mc,zc){var xc=kc(ac),Jc=kc(mc),$c=[1,0,0];Jc=Za(xc,Jc);var ad=Ea(Jc,Jc);xc=Jc[0];var kd=ad-xc*xc;if(!kd)return!zc&&ac;ad=ua*ad/kd;kd=-ua*xc/kd;xc=Za($c,Jc);$c=rb($c,ad);Jc=rb(Jc,kd);tb($c,Jc);Jc=Ea($c,xc);ad=Ea(xc,xc);kd=Jc*Jc-ad*(Ea($c,$c)-1);if(!(0>kd)){var Xd=
Ka(kd);kd=rb(xc,(-Jc-Xd)/ad);tb(kd,$c);kd=Ub(kd);if(!zc)return kd;zc=ac[0];var Sc=mc[0];ac=ac[1];mc=mc[1];if(Sc<zc){var Vd=zc;zc=Sc;Sc=Vd}var Be=Sc-zc,Zc=1E-6>gd(Be-Ib);!Zc&&mc<ac&&(Vd=ac,ac=mc,mc=Vd);if(Zc||1E-6>Be?Zc?0<ac+mc^kd[1]<(1E-6>gd(kd[0]-zc)?ac:mc):ac<=kd[1]&&kd[1]<=mc:Be>Ib^(zc<=kd[0]&&kd[0]<=Sc))return mc=rb(xc,(-Jc+Xd)/ad),tb(mc,$c),[kd,Ub(mc)]}}function pa(ac,mc){var zc=Fb?p:Ib-p,xc=0;ac<-zc?xc|=1:ac>zc&&(xc|=2);mc<-zc?xc|=4:mc>zc&&(xc|=8);return xc}var ua=ud(p),Bb=6*rd,Fb=0<ua,Wb=1E-6<
gd(ua);return U(P,function(ac){var mc,zc,xc,Jc,$c;return{lineStart:function(){Jc=xc=!1;$c=1},point:function(ad,kd){var Xd=[ad,kd],Sc=P(ad,kd);kd=Fb?Sc?0:pa(ad,kd):Sc?pa(ad+(0>ad?Ib:-Ib),kd):0;!mc&&(Jc=xc=Sc)&&ac.lineStart();Sc!==xc&&(ad=Y(mc,Xd),!ad||hb(mc,ad)||hb(Xd,ad))&&(Xd[2]=1);if(Sc!==xc)$c=0,Sc?(ac.lineStart(),ad=Y(Xd,mc),ac.point(ad[0],ad[1])):(ad=Y(mc,Xd),ac.point(ad[0],ad[1],2),ac.lineEnd()),mc=ad;else if(Wb&&mc&&Fb^Sc){var Vd;kd&zc||!(Vd=Y(Xd,mc,!0))||($c=0,Fb?(ac.lineStart(),ac.point(Vd[0][0],
Vd[0][1]),ac.point(Vd[1][0],Vd[1][1]),ac.lineEnd()):(ac.point(Vd[1][0],Vd[1][1]),ac.lineEnd(),ac.lineStart(),ac.point(Vd[0][0],Vd[0][1],3)))}!Sc||mc&&hb(mc,Xd)||ac.point(Xd[0],Xd[1]);mc=Xd;xc=Sc;zc=kd},lineEnd:function(){xc&&ac.lineEnd();mc=null},clean:function(){return $c|(Jc&&xc)<<1}}},function(ac,mc,zc,xc){var Jc=ac;if(Bb){ac=ud(p);var $c=J(p),ad=zc*Bb;if(null==Jc)Jc=p+zc*Rc,mc=p-ad/2;else if(Jc=Wa(ac,Jc),mc=Wa(ac,mc),0<zc?Jc<mc:Jc>mc)Jc+=zc*Rc;for(var kd=Jc;0<zc?kd>mc:kd<mc;kd-=ad)Jc=Ub([ac,-$c*
ud(kd),-$c*J(kd)]),xc.point(Jc[0],Jc[1])}},Fb?[0,-p]:[-Ib,p-Ib])}function La(p,P,Y,pa,ua,Bb){var Fb=p[0],Wb=p[1],ac=0,mc=1,zc=P[0]-Fb,xc=P[1]-Wb;Y-=Fb;if(zc||!(0<Y)){Y/=zc;if(0>zc){if(Y<ac)return;Y<mc&&(mc=Y)}else if(0<zc){if(Y>mc)return;Y>ac&&(ac=Y)}Y=ua-Fb;if(zc||!(0>Y)){Y/=zc;if(0>zc){if(Y>mc)return;Y>ac&&(ac=Y)}else if(0<zc){if(Y<ac)return;Y<mc&&(mc=Y)}Y=pa-Wb;if(xc||!(0<Y)){Y/=xc;if(0>xc){if(Y<ac)return;Y<mc&&(mc=Y)}else if(0<xc){if(Y>mc)return;Y>ac&&(ac=Y)}Y=Bb-Wb;if(xc||!(0>Y)){Y/=xc;if(0>
xc){if(Y>mc)return;Y>ac&&(ac=Y)}else if(0<xc){if(Y<ac)return;Y<mc&&(mc=Y)}0<ac&&(p[0]=Fb+ac*zc,p[1]=Wb+ac*xc);1>mc&&(P[0]=Fb+mc*zc,P[1]=Wb+mc*xc);return!0}}}}}function oa(p,P,Y,pa){function ua(ac,mc,zc,xc){var Jc=0,$c=0;if(null==ac||(Jc=Bb(ac,zc))!==($c=Bb(mc,zc))||0>Wb(ac,mc)^0<zc){do xc.point(0===Jc||3===Jc?p:Y,1<Jc?pa:P);while((Jc=(Jc+zc+4)%4)!==$c)}else xc.point(mc[0],mc[1])}function Bb(ac,mc){return 1E-6>gd(ac[0]-p)?0<mc?0:3:1E-6>gd(ac[0]-Y)?0<mc?2:1:1E-6>gd(ac[1]-P)?0<mc?1:0:0<mc?3:2}function Fb(ac,
mc){return Wb(ac.x,mc.x)}function Wb(ac,mc){var zc=Bb(ac,1),xc=Bb(mc,1);return zc!==xc?zc-xc:0===zc?mc[1]-ac[1]:1===zc?ac[0]-mc[0]:2===zc?ac[1]-mc[1]:mc[0]-ac[0]}return function(ac){function mc(Rd,Od){p<=Rd&&Rd<=Y&&P<=Od&&Od<=pa&&xc.point(Rd,Od)}function zc(Rd,Od){var te=p<=Rd&&Rd<=Y&&P<=Od&&Od<=pa;ad&&kd.push([Rd,Od]);if(Yd)Xd=Rd,Sc=Od,Vd=te,Yd=!1,te&&(xc.lineStart(),xc.point(Rd,Od));else if(te&&zd)xc.point(Rd,Od);else{var Ae=[Be=Math.max(-1E9,Math.min(1E9,Be)),Zc=Math.max(-1E9,Math.min(1E9,Zc))],
Oe=[Rd=Math.max(-1E9,Math.min(1E9,Rd)),Od=Math.max(-1E9,Math.min(1E9,Od))];La(Ae,Oe,p,P,Y,pa)?(zd||(xc.lineStart(),xc.point(Ae[0],Ae[1])),xc.point(Oe[0],Oe[1]),te||xc.lineEnd(),Zd=!1):te&&(xc.lineStart(),xc.point(Rd,Od),Zd=!1)}Be=Rd;Zc=Od;zd=te}var xc=ac,Jc=Ia(),$c,ad,kd,Xd,Sc,Vd,Be,Zc,zd,Yd,Zd,Ce={point:mc,lineStart:function(){Ce.point=zc;ad&&ad.push(kd=[]);Yd=!0;zd=!1;Be=Zc=NaN},lineEnd:function(){$c&&(zc(Xd,Sc),Vd&&zd&&Jc.rejoin(),$c.push(Jc.result()));Ce.point=mc;zd&&xc.lineEnd()},polygonStart:function(){xc=
Jc;$c=[];ad=[];Zd=!0},polygonEnd:function(){for(var Rd,Od=Rd=0,te=ad.length;Od<te;++Od){var Ae=ad[Od],Oe=1,Df=Ae.length,td=Ae[0],Pe=td[0];for(td=td[1];Oe<Df;++Oe){var Te=Pe;var kf=td;td=Ae[Oe];Pe=td[0];td=td[1];kf<=pa?td>pa&&(Pe-Te)*(pa-kf)>(td-kf)*(p-Te)&&++Rd:td<=pa&&(Pe-Te)*(pa-kf)<(td-kf)*(p-Te)&&--Rd}}Od=Zd&&Rd;te=($c=Array.from(ka($c))).length;if(Od||te)ac.polygonStart(),Od&&(ac.lineStart(),ua(null,null,1,ac),ac.lineEnd()),te&&qb($c,Fb,Rd,ua,ac),ac.polygonEnd();xc=ac;$c=ad=kd=null}};return Ce}}
function qa(){pd.point=l}function l(p,P){pd.point=D;Xc=sd=p;md=Bd=P}function D(p,P){yc.add(Bd*p-sd*P);sd=p;Bd=P}function K(){D(Xc,md)}function v(p,P){ef+=p;E+=P;++ca}function R(){Td.point=A}function A(p,P){Td.point=W;v(Oc=p,Pd=P)}function W(p,P){var Y=p-Oc,pa=P-Pd;Y=Ka(Y*Y+pa*pa);Ga+=Y*(Oc+p)/2;eb+=Y*(Pd+P)/2;Cb+=Y;v(Oc=p,Pd=P)}function G(){Td.point=v}function w(){Td.point=F}function z(){V(qd,id)}function F(p,P){Td.point=V;v(qd=Oc=p,id=Pd=P)}function V(p,P){var Y=p-Oc,pa=P-Pd;Y=Ka(Y*Y+pa*pa);Ga+=
Y*(Oc+p)/2;eb+=Y*(Pd+P)/2;Cb+=Y;Y=Pd*p-Oc*P;rc+=Y*(Oc+p);Lb+=Y*(Pd+P);Mc+=3*Y;v(Oc=p,Pd=P)}function ta(p){this._context=p}function N(p,P){sc.point=ma;Ca=dc=p;Qa=hd=P}function ma(p,P){dc-=p;hd-=P;Kd.add(Ka(dc*dc+hd*hd));dc=p;hd=P}function ya(p){let P=1;this._+=p[0];for(const Y=p.length;P<Y;++P)this._+=arguments[P]+p[P]}function Ma(p){const P=Math.floor(p);if(!(0<=P))throw new RangeError(`invalid digits: ${p}`);if(15<P)return ya;if(P!==Fc){const Y=Math.pow(10,P);Fc=P;Tc=function(pa){let ua=1;this._+=
pa[0];for(const Bb=pa.length;ua<Bb;++ua)this._+=Math.round(arguments[ua]*Y)/Y+pa[ua]}}return Tc}function Pa(p,P){function Y(Wb){Wb&&("function"===typeof ua&&Fb.pointRadius(+ua.apply(this,arguments)),zb(Wb,Bb(Fb)));return Fb.result()}let pa=3,ua=4.5,Bb,Fb;Y.area=function(Wb){zb(Wb,Bb(Nd));return Nd.result()};Y.measure=function(Wb){zb(Wb,Bb(Pc));return Pc.result()};Y.bounds=function(Wb){zb(Wb,Bb(of));return of.result()};Y.centroid=function(Wb){zb(Wb,Bb(Md));return Md.result()};Y.projection=function(Wb){if(!arguments.length)return p;
Bb=null==Wb?(p=null,pc):(p=Wb).stream;return Y};Y.context=function(Wb){if(!arguments.length)return P;Fb=null==Wb?(P=null,new nd(pa)):new ta(P=Wb);"function"!==typeof ua&&Fb.pointRadius(ua);return Y};Y.pointRadius=function(Wb){if(!arguments.length)return ua;ua="function"===typeof Wb?Wb:(Fb.pointRadius(+Wb),+Wb);return Y};Y.digits=function(Wb){if(!arguments.length)return pa;if(null==Wb)pa=null;else{const ac=Math.floor(Wb);if(!(0<=ac))throw new RangeError(`invalid digits: ${Wb}`);pa=ac}null===P&&(Fb=
new nd(pa));return Y};return Y.projection(p).digits(pa).context(P)}function Xa(p){return function(P){var Y=new sb,pa;for(pa in p)Y[pa]=p[pa];Y.stream=P;return Y}}function sb(){}function ib(p,P,Y){var pa=p.clipExtent&&p.clipExtent();p.scale(150).translate([0,0]);null!=pa&&p.clipExtent(null);zb(Y,p.stream(of));P(of.result());null!=pa&&p.clipExtent(pa);return p}function Tb(p,P,Y){return ib(p,function(pa){var ua=P[1][0]-P[0][0],Bb=P[1][1]-P[0][1],Fb=Math.min(ua/(pa[1][0]-pa[0][0]),Bb/(pa[1][1]-pa[0][1]));
ua=+P[0][0]+(ua-Fb*(pa[1][0]+pa[0][0]))/2;pa=+P[0][1]+(Bb-Fb*(pa[1][1]+pa[0][1]))/2;p.scale(150*Fb).translate([ua,pa])},Y)}function X(p,P,Y){return ib(p,function(pa){var ua=+P,Bb=ua/(pa[1][0]-pa[0][0]);ua=(ua-Bb*(pa[1][0]+pa[0][0]))/2;pa=-Bb*pa[0][1];p.scale(150*Bb).translate([ua,pa])},Y)}function Fa(p,P,Y){return ib(p,function(pa){var ua=+P,Bb=ua/(pa[1][1]-pa[0][1]),Fb=-Bb*pa[0][0];pa=(ua-Bb*(pa[1][1]+pa[0][1]))/2;p.scale(150*Bb).translate([Fb,pa])},Y)}function Kb(p){return Xa({point:function(P,
Y){P=p(P,Y);this.stream.point(P[0],P[1])}})}function qc(p,P){function Y(pa,ua,Bb,Fb,Wb,ac,mc,zc,xc,Jc,$c,ad,kd,Xd){var Sc=mc-pa,Vd=zc-ua,Be=Sc*Sc+Vd*Vd;if(Be>4*P&&kd--){var Zc=Fb+Jc,zd=Wb+$c,Yd=ac+ad,Zd=Ka(Zc*Zc+zd*zd+Yd*Yd),Ce=ub(Yd/=Zd),Rd=1E-6>gd(gd(Yd)-1)||1E-6>gd(Bb-xc)?(Bb+xc)/2:Gd(zd,Zc),Od=p(Rd,Ce);Ce=Od[0];Od=Od[1];var te=Ce-pa,Ae=Od-ua,Oe=Vd*te-Sc*Ae;if(Oe*Oe/Be>P||.3<gd((Sc*te+Vd*Ae)/Be-.5)||Fb*Jc+Wb*$c+ac*ad<ne)Y(pa,ua,Bb,Fb,Wb,ac,Ce,Od,Rd,Zc/=Zd,zd/=Zd,Yd,kd,Xd),Xd.point(Ce,Od),Y(Ce,
Od,Rd,Zc,zd,Yd,mc,zc,xc,Jc,$c,ad,kd,Xd)}}return function(pa){function ua(Ce,Rd){Ce=p(Ce,Rd);pa.point(Ce[0],Ce[1])}function Bb(){Vd=NaN;Zd.point=Fb;pa.lineStart()}function Fb(Ce,Rd){var Od=kc([Ce,Rd]);Rd=p(Ce,Rd);Y(Vd,Be,Sc,Zc,zd,Yd,Vd=Rd[0],Be=Rd[1],Sc=Ce,Zc=Od[0],zd=Od[1],Yd=Od[2],16,pa);pa.point(Vd,Be)}function Wb(){Zd.point=ua;pa.lineEnd()}function ac(){Bb();Zd.point=mc;Zd.lineEnd=zc}function mc(Ce,Rd){Fb(xc=Ce,Rd);Jc=Vd;$c=Be;ad=Zc;kd=zd;Xd=Yd;Zd.point=Fb}function zc(){Y(Vd,Be,Sc,Zc,zd,Yd,Jc,
$c,xc,ad,kd,Xd,16,pa);Zd.lineEnd=Wb;Wb()}var xc,Jc,$c,ad,kd,Xd,Sc,Vd,Be,Zc,zd,Yd,Zd={point:ua,lineStart:Bb,lineEnd:Wb,polygonStart:function(){pa.polygonStart();Zd.lineStart=ac},polygonEnd:function(){pa.polygonEnd();Zd.lineStart=Bb}};return Zd}}function $b(p){return Xa({point:function(P,Y){P=p(P,Y);return this.stream.point(P[0],P[1])}})}function Mb(p,P,Y,pa,ua){function Bb(Fb,Wb){Fb*=pa;Wb*=ua;return[P+p*Fb,Y-p*Wb]}Bb.invert=function(Fb,Wb){return[(Fb-P)/p*pa,(Y-Wb)/p*ua]};return Bb}function Qb(p,
P,Y,pa,ua,Bb){function Fb(ad,kd){ad*=pa;kd*=ua;return[ac*ad-mc*kd+P,Y-mc*ad-ac*kd]}if(!Bb)return Mb(p,P,Y,pa,ua);var Wb=ud(Bb);Bb=J(Bb);var ac=Wb*p,mc=Bb*p,zc=Wb/p,xc=Bb/p,Jc=(Bb*Y-Wb*P)/p,$c=(Bb*P+Wb*Y)/p;Fb.invert=function(ad,kd){return[pa*(zc*ad-xc*kd+Jc),ua*($c-xc*ad-zc*kd)]};return Fb}function wc(p){return fd(function(){return p})()}function fd(p){function P(td){return Ae(td[0]*rd,td[1]*rd)}function Y(td){return(td=Ae.invert(td[0],td[1]))&&[td[0]*yd,td[1]*yd]}function pa(){var td=Qb(Fb,0,0,Xd,
Sc,kd).apply(null,Bb(mc,zc));td=Qb(Fb,Wb-td[0],ac-td[1],Xd,Sc,kd);ad=ec(xc,Jc,$c);te=vb(Bb,td);Ae=vb(ad,te);td=te;Od=+Rd?qc(td,Rd):Kb(td);return ua()}function ua(){Oe=Df=null;return P}var Bb,Fb=150,Wb=480,ac=250,mc=0,zc=0,xc=0,Jc=0,$c=0,ad,kd=0,Xd=1,Sc=1,Vd=null,Be=Sb,Zc=null,zd,Yd,Zd,Ce=pc,Rd=.5,Od,te,Ae,Oe,Df;P.stream=function(td){return Oe&&Df===td?Oe:Oe=Ue($b(ad)(Be(Od(Ce(Df=td)))))};P.preclip=function(td){return arguments.length?(Be=td,Vd=void 0,ua()):Be};P.postclip=function(td){return arguments.length?
(Ce=td,Zc=zd=Yd=Zd=null,ua()):Ce};P.clipAngle=function(td){return arguments.length?(Be=+td?ja(Vd=td*rd):(Vd=null,Sb),ua()):Vd*yd};P.clipExtent=function(td){return arguments.length?(Ce=null==td?(Zc=zd=Yd=Zd=null,pc):oa(Zc=+td[0][0],zd=+td[0][1],Yd=+td[1][0],Zd=+td[1][1]),ua()):null==Zc?null:[[Zc,zd],[Yd,Zd]]};P.scale=function(td){return arguments.length?(Fb=+td,pa()):Fb};P.translate=function(td){return arguments.length?(Wb=+td[0],ac=+td[1],pa()):[Wb,ac]};P.center=function(td){return arguments.length?
(mc=td[0]%360*rd,zc=td[1]%360*rd,pa()):[mc*yd,zc*yd]};P.rotate=function(td){return arguments.length?(xc=td[0]%360*rd,Jc=td[1]%360*rd,$c=2<td.length?td[2]%360*rd:0,pa()):[xc*yd,Jc*yd,$c*yd]};P.angle=function(td){return arguments.length?(kd=td%360*rd,pa()):kd*yd};P.reflectX=function(td){return arguments.length?(Xd=td?-1:1,pa()):0>Xd};P.reflectY=function(td){return arguments.length?(Sc=td?-1:1,pa()):0>Sc};P.precision=function(td){if(arguments.length){var Pe=te;var Te=Rd=td*td;Pe=(Od=+Te?qc(Pe,Te):Kb(Pe),
ua())}else Pe=Ka(Rd);return Pe};P.fitExtent=function(td,Pe){return Tb(P,td,Pe)};P.fitSize=function(td,Pe){return Tb(P,[[0,0],td],Pe)};P.fitWidth=function(td,Pe){return X(P,td,Pe)};P.fitHeight=function(td,Pe){return Fa(P,td,Pe)};return function(){Bb=p.apply(this,arguments);P.invert=Bb.invert&&Y;return pa()}}function ra(p){var P=0,Y=Ib/3,pa=fd(p);p=pa(P,Y);p.parallels=function(ua){return arguments.length?pa(P=ua[0]*rd,Y=ua[1]*rd):[P*yd,Y*yd]};return p}function Ab(p){function P(pa,ua){return[pa*Y,J(ua)/
Y]}var Y=ud(p);P.invert=function(pa,ua){return[pa/Y,ub(ua*Y)]};return P}function Ta(p,P){function Y(Wb,ac){ac=Ka(Bb-2*ua*J(ac))/ua;return[ac*J(Wb*=ua),Fb-ac*ud(Wb)]}var pa=J(p),ua=(pa+J(P))/2;if(1E-6>gd(ua))return Ab(p);var Bb=1+pa*(2*ua-pa),Fb=Ka(Bb)/ua;Y.invert=function(Wb,ac){ac=Fb-ac;var mc=Gd(Wb,gd(ac))*xa(ac);0>ac*ua&&(mc-=Ib*xa(Wb)*xa(ac));return[mc/ua,ub((Bb-(Wb*Wb+ac*ac)*ua*ua)/(2*ua))]};return Y}function wb(){return ra(Ta).scale(155.424).center([0,33.6442])}function Gb(){return wb().parallels([29.5,
45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Nb(p){var P=p.length;return{point:function(Y,pa){for(var ua=-1;++ua<P;)p[ua].point(Y,pa)},sphere:function(){for(var Y=-1;++Y<P;)p[Y].sphere()},lineStart:function(){for(var Y=-1;++Y<P;)p[Y].lineStart()},lineEnd:function(){for(var Y=-1;++Y<P;)p[Y].lineEnd()},polygonStart:function(){for(var Y=-1;++Y<P;)p[Y].polygonStart()},polygonEnd:function(){for(var Y=-1;++Y<P;)p[Y].polygonEnd()}}}function Zb(p){return function(P,Y){var pa=
ud(P),ua=ud(Y);pa=p(pa*ua);return Infinity===pa?[2,0]:[pa*ua*J(P),pa*J(Y)]}}function jc(p){return function(P,Y){var pa=Ka(P*P+Y*Y),ua=p(pa),Bb=J(ua);ua=ud(ua);return[Gd(P*Bb,pa*ua),ub(pa&&Y*Bb/pa)]}}function Ac(p,P){return[p,Ed(kb((Bc+P)/2))]}function ld(p){function P(){var xc=Ib*ua(),Jc=Y(Ra(Y.rotate()).invert([0,0]));return Fb(null==Wb?[[Jc[0]-xc,Jc[1]-xc],[Jc[0]+xc,Jc[1]+xc]]:p===Ac?[[Math.max(Jc[0]-xc,Wb),ac],[Math.min(Jc[0]+xc,mc),zc]]:[[Wb,Math.max(Jc[1]-xc,ac)],[mc,Math.min(Jc[1]+xc,zc)]])}
var Y=wc(p),pa=Y.center,ua=Y.scale,Bb=Y.translate,Fb=Y.clipExtent,Wb=null,ac,mc,zc;Y.scale=function(xc){return arguments.length?(ua(xc),P()):ua()};Y.translate=function(xc){return arguments.length?(Bb(xc),P()):Bb()};Y.center=function(xc){return arguments.length?(pa(xc),P()):pa()};Y.clipExtent=function(xc){return arguments.length?(null==xc?Wb=ac=mc=zc=null:(Wb=+xc[0][0],ac=+xc[0][1],mc=+xc[1][0],zc=+xc[1][1]),P()):null==Wb?null:[[Wb,ac],[mc,zc]]};return P()}function Vc(p,P){function Y(Fb,Wb){0<Bb?Wb<
-Bc+1E-6&&(Wb=-Bc+1E-6):Wb>Bc-1E-6&&(Wb=Bc-1E-6);Wb=Bb/x(kb((Bc+Wb)/2),ua);return[Wb*J(ua*Fb),Bb-Wb*ud(ua*Fb)]}var pa=ud(p),ua=p===P?J(p):Ed(pa/ud(P))/Ed(kb((Bc+P)/2)/kb((Bc+p)/2)),Bb=pa*x(kb((Bc+p)/2),ua)/ua;if(!ua)return Ac;Y.invert=function(Fb,Wb){Wb=Bb-Wb;var ac=xa(ua)*Ka(Fb*Fb+Wb*Wb),mc=Gd(Fb,gd(Wb))*xa(Wb);0>Wb*ua&&(mc-=Ib*xa(Fb)*xa(Wb));return[mc/ua,2*Fd(x(Bb/ac,1/ua))-Bc]};return Y}function na(p,P){return[p,P]}function Ha(p,P){function Y(Fb,Wb){Wb=Bb-Wb;Fb*=ua;return[Wb*J(Fb),Bb-Wb*ud(Fb)]}
var pa=ud(p),ua=p===P?J(p):(pa-ud(P))/(P-p),Bb=pa/ua+p;if(1E-6>gd(ua))return na;Y.invert=function(Fb,Wb){Wb=Bb-Wb;var ac=Gd(Fb,gd(Wb))*xa(Wb);0>Wb*ua&&(ac-=Ib*xa(Fb)*xa(Wb));return[ac/ua,Bb-xa(ua)*Ka(Fb*Fb+Wb*Wb)]};return Y}function fb(p,P){P=ub(hf*J(P));var Y=P*P,pa=Y*Y*Y;return[p*ud(P)/(hf*(1.340264+3*-.081106*Y+pa*(7*8.93E-4+.034164*Y))),P*(1.340264+-.081106*Y+pa*(8.93E-4+.003796*Y))]}function Q(p,P){var Y=ud(P),pa=ud(p)*Y;return[Y*J(p)/pa,J(P)/pa]}function t(p,P){var Y=P*P,pa=Y*Y;return[p*(.8707-
.131979*Y+pa*(-.013791+pa*(.003971*Y-.001529*pa))),P*(1.007226+Y*(.015085+pa*(-.044475+.028874*Y-.005916*pa)))]}function da(p,P){return[ud(P)*J(p),J(P)]}function za(p,P){var Y=ud(P),pa=1+ud(p)*Y;return[Y*J(p)/pa,J(P)/pa]}function Da(p,P){return[Ed(kb((Bc+P)/2)),-p]}function Oa(p){return 1<p?se:-1>p?-se:Math.asin(p)}function jb(p,P){return function pa(){const ua=P();ua.type=p;ua.path=Pa().projection(ua);ua.copy=ua.copy||function(){const Bb=pa();y.forEach(Fb=>{if(ua[Fb])Bb[Fb](ua[Fb]())});Bb.path.pointRadius(ua.path.pointRadius());
return Bb};return h.registerScale(ua)}}function Rb(p,P){if(!p||"string"!==typeof p)throw Error("Projection type must be a name string.");p=p.toLowerCase();return 1<arguments.length?(M[p]=jb(p,P),this):M[p]||null}class Eb{constructor(){this._partials=new Float64Array(32);this._n=0}add(p){const P=this._partials;let Y=0;for(let pa=0;pa<this._n&&32>pa;pa++){const ua=P[pa],Bb=p+ua;(p=Math.abs(p)<Math.abs(ua)?p-(Bb-ua):ua-(Bb-p))&&(P[Y++]=p);p=Bb}P[Y]=p;this._n=Y+1;return this}valueOf(){const p=this._partials;
let P=this._n;let Y,pa=0;if(0<P){for(pa=p[--P];0<P;){var ua=pa;Y=p[--P];pa=ua+Y;if(ua=Y-(pa-ua))break}0<P&&(0>ua&&0>p[P-1]||0<ua&&0<p[P-1])&&(Y=2*ua,ua=pa+Y,Y==ua-pa&&(pa=ua))}return pa}}var Ib=Math.PI,Bc=Ib/2,Dc=Ib/4,Rc=2*Ib,yd=180/Ib,rd=Ib/180,gd=Math.abs,Fd=Math.atan,Gd=Math.atan2,ud=Math.cos,we=Math.exp,Ed=Math.log,x=Math.pow,J=Math.sin,xa=Math.sign||function(p){return 0<p?1:0>p?-1:0},Ka=Math.sqrt,kb=Math.tan,yb={Feature:function(p,P){bc(p.geometry,P)},FeatureCollection:function(p,P){p=p.features;
for(var Y=-1,pa=p.length;++Y<pa;)bc(p[Y].geometry,P)}},cc={Sphere:function(p,P){P.sphere()},Point:function(p,P){p=p.coordinates;P.point(p[0],p[1],p[2])},MultiPoint:function(p,P){for(var Y=p.coordinates,pa=-1,ua=Y.length;++pa<ua;)p=Y[pa],P.point(p[0],p[1],p[2])},LineString:function(p,P){Xb(p.coordinates,P,0)},MultiLineString:function(p,P){p=p.coordinates;for(var Y=-1,pa=p.length;++Y<pa;)Xb(p[Y],P,0)},Polygon:function(p,P){oc(p.coordinates,P)},MultiPolygon:function(p,P){p=p.coordinates;for(var Y=-1,
pa=p.length;++Y<pa;)oc(p[Y],P)},GeometryCollection:function(p,P){p=p.geometries;for(var Y=-1,pa=p.length;++Y<pa;)bc(p[Y],P)}};gb.invert=gb;var Sb=U(function(){return!0},function(p){var P=NaN,Y=NaN,pa=NaN,ua;return{lineStart:function(){p.lineStart();ua=1},point:function(Bb,Fb){var Wb=0<Bb?Ib:-Ib,ac=gd(Bb-P);if(1E-6>gd(ac-Ib))p.point(P,Y=0<(Y+Fb)/2?Bc:-Bc),p.point(pa,Y),p.lineEnd(),p.lineStart(),p.point(Wb,Y),p.point(Bb,Y),ua=0;else if(pa!==Wb&&ac>=Ib){1E-6>gd(P-pa)&&(P-=1E-6*pa);1E-6>gd(Bb-Wb)&&(Bb-=
1E-6*Wb);ac=P;var mc=Y,zc=Bb,xc,Jc,$c=J(ac-zc);Y=1E-6<gd($c)?Fd((J(mc)*(Jc=ud(Fb))*J(zc)-J(Fb)*(xc=ud(mc))*J(ac))/(xc*Jc*$c)):(mc+Fb)/2;p.point(pa,Y);p.lineEnd();p.lineStart();p.point(Wb,Y);ua=0}p.point(P=Bb,Y=Fb);pa=Wb},lineEnd:function(){p.lineEnd();P=Y=NaN},clean:function(){return 2-ua}}},function(p,P,Y,pa){null==p?(Y*=Bc,pa.point(-Ib,Y),pa.point(0,Y),pa.point(Ib,Y),pa.point(Ib,0),pa.point(Ib,-Y),pa.point(0,-Y),pa.point(-Ib,-Y),pa.point(-Ib,0),pa.point(-Ib,Y)):1E-6<gd(p[0]-P[0])?(p=p[0]<P[0]?Ib:
-Ib,Y=Y*p/2,pa.point(-p,Y),pa.point(0,Y),pa.point(p,Y)):pa.point(P[0],P[1])},[-Ib,-Bc]),pc=p=>p,Ic=new Eb,yc=new Eb,Xc,md,sd,Bd,pd={point:Yb,lineStart:Yb,lineEnd:Yb,polygonStart:function(){pd.lineStart=qa;pd.lineEnd=K},polygonEnd:function(){pd.lineStart=pd.lineEnd=pd.point=Yb;Ic.add(gd(yc));yc=new Eb},result:function(){var p=Ic/2;Ic=new Eb;return p}},Nd=pd,le=Infinity,Re=le,Ge=-le,Ke=Ge,of={point:function(p,P){p<le&&(le=p);p>Ge&&(Ge=p);P<Re&&(Re=P);P>Ke&&(Ke=P)},lineStart:Yb,lineEnd:Yb,polygonStart:Yb,
polygonEnd:Yb,result:function(){var p=[[le,Re],[Ge,Ke]];Ge=Ke=-(Re=le=Infinity);return p}},ef=0,E=0,ca=0,Ga=0,eb=0,Cb=0,rc=0,Lb=0,Mc=0,qd,id,Oc,Pd,Td={point:v,lineStart:R,lineEnd:G,polygonStart:function(){Td.lineStart=w;Td.lineEnd=z},polygonEnd:function(){Td.point=v;Td.lineStart=R;Td.lineEnd=G},result:function(){var p=Mc?[rc/Mc,Lb/Mc]:Cb?[Ga/Cb,eb/Cb]:ca?[ef/ca,E/ca]:[NaN,NaN];ef=E=ca=Ga=eb=Cb=rc=Lb=Mc=0;return p}},Md=Td;ta.prototype={_radius:4.5,pointRadius:function(p){return this._radius=p,this},
polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(p,P){switch(this._point){case 0:this._context.moveTo(p,P);this._point=1;break;case 1:this._context.lineTo(p,P);break;default:this._context.moveTo(p+this._radius,P),this._context.arc(p,P,this._radius,0,Rc)}},result:Yb};var Kd=new Eb,ae,Ca,Qa,dc,hd,sc={point:Yb,lineStart:function(){sc.point=N},lineEnd:function(){ae&&
ma(Ca,Qa);sc.point=Yb},polygonStart:function(){ae=!0},polygonEnd:function(){ae=null},result:function(){var p=+Kd;Kd=new Eb;return p}},Pc=sc;let Fc,Tc,Yc,jd;class nd{constructor(p){this._append=null==p?ya:Ma(p);this._radius=4.5;this._=""}pointRadius(p){this._radius=+p;return this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z");this._point=NaN}point(p,P){switch(this._point){case 0:this._append`M${p},${P}`;this._point=1;break;
case 1:this._append`L${p},${P}`;break;default:this._append`M${p},${P}`;if(this._radius!==Yc||this._append!==Tc)p=this._radius,P=this._,this._="",this._append`m0,${p}a${p},${p} 0 1,1 0,${-2*p}a${p},${p} 0 1,1 0,${2*p}z`,Yc=p,Tc=this._append,jd=this._,this._=P;this._+=jd}}result(){const p=this._;this._="";return p.length?p:null}}sb.prototype={constructor:sb,point:function(p,P){this.stream.point(p,P)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},
polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ne=ud(30*rd),Ue=Xa({point:function(p,P){this.stream.point(p*rd,P*rd)}}),Fe=Zb(function(p){return Ka(2/(1+p))});Fe.invert=jc(function(p){return 2*ub(p/2)});var qe=Zb(function(p){return(p=Ya(p))&&p/J(p)});qe.invert=jc(function(p){return p});Ac.invert=function(p,P){return[p,2*Fd(we(P))-Bc]};na.invert=na;var hf=Ka(3)/2;fb.invert=function(p,P){for(var Y=P,pa=Y*Y,ua=pa*pa*pa,Bb=0,Fb;12>Bb&&!(Fb=Y*(1.340264+
-.081106*pa+ua*(8.93E-4+.003796*pa))-P,pa=1.340264+3*-.081106*pa+ua*(7*8.93E-4+.034164*pa),Y-=Fb/=pa,pa=Y*Y,ua=pa*pa*pa,1E-12>gd(Fb));++Bb);return[hf*p*(1.340264+3*-.081106*pa+ua*(7*8.93E-4+.034164*pa))/ud(Y),ub(J(Y)/hf)]};Q.invert=jc(Fd);t.invert=function(p,P){var Y=P,pa=25;do{var ua=Y*Y;var Bb=ua*ua;Y-=Bb=(Y*(1.007226+ua*(.015085+Bb*(-.044475+.028874*ua-.005916*Bb)))-P)/(1.007226+ua*(.045255+Bb*(-.311325+.259866*ua-.005916*11*Bb)))}while(1E-6<gd(Bb)&&0<--pa);return[p/(.8707+(ua=Y*Y)*(-.131979+ua*
(-.013791+ua*ua*ua*(.003971-.001529*ua)))),Y]};da.invert=jc(ub);za.invert=jc(function(p){return 2*Fd(p)});Da.invert=function(p,P){return[-P,2*Fd(we(p))-Bc]};var pf=Math.abs,Le=Math.cos,We=Math.sin,af=Math.PI,se=af/2,oe=Math.sqrt(2),Me=function(p,P,Y){function pa(ua,Bb){var Fb=Bb,Wb=Y*We(Fb),ac=30,mc;do Fb-=mc=(Fb+We(Fb)-Wb)/(1+Le(Fb));while(1E-6<pf(mc)&&0<--ac);return[p*ua*Le(Bb=Fb/2),P*We(Bb)]}pa.invert=function(ua,Bb){return Bb=Oa(Bb/P),[ua/(p*Le(Bb)),Oa((2*Bb+We(2*Bb))/Y)]};return pa}(oe/se,oe,
af);const xe=Pa(),y="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),M={albers:Gb,albersusa:function(){function p(Jc){var $c=Jc[0];Jc=Jc[1];return zc=null,(Bb.point($c,Jc),zc)||(Wb.point($c,Jc),zc)||(mc.point($c,Jc),zc)}function P(){Y=pa=null;return p}var Y,pa,ua=Gb(),Bb,Fb=wb().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Wb,ac=wb().rotate([157,0]).center([-3,19.9]).parallels([8,
18]),mc,zc,xc={point:function(Jc,$c){zc=[Jc,$c]}};p.invert=function(Jc){var $c=ua.scale(),ad=ua.translate(),kd=(Jc[0]-ad[0])/$c;$c=(Jc[1]-ad[1])/$c;return(.12<=$c&&.234>$c&&-.425<=kd&&-.214>kd?Fb:.166<=$c&&.234>$c&&-.214<=kd&&-.115>kd?ac:ua).invert(Jc)};p.stream=function(Jc){return Y&&pa===Jc?Y:Y=Nb([ua.stream(pa=Jc),Fb.stream(Jc),ac.stream(Jc)])};p.precision=function(Jc){if(!arguments.length)return ua.precision();ua.precision(Jc);Fb.precision(Jc);ac.precision(Jc);return P()};p.scale=function(Jc){if(!arguments.length)return ua.scale();
ua.scale(Jc);Fb.scale(.35*Jc);ac.scale(Jc);return p.translate(ua.translate())};p.translate=function(Jc){if(!arguments.length)return ua.translate();var $c=ua.scale(),ad=+Jc[0],kd=+Jc[1];Bb=ua.translate(Jc).clipExtent([[ad-.455*$c,kd-.238*$c],[ad+.455*$c,kd+.238*$c]]).stream(xc);Wb=Fb.translate([ad-.307*$c,kd+.201*$c]).clipExtent([[ad-.425*$c+1E-6,kd+.12*$c+1E-6],[ad-.214*$c-1E-6,kd+.234*$c-1E-6]]).stream(xc);mc=ac.translate([ad-.205*$c,kd+.212*$c]).clipExtent([[ad-.214*$c+1E-6,kd+.166*$c+1E-6],[ad-
.115*$c-1E-6,kd+.234*$c-1E-6]]).stream(xc);return P()};p.fitExtent=function(Jc,$c){return Tb(p,Jc,$c)};p.fitSize=function(Jc,$c){return Tb(p,[[0,0],Jc],$c)};p.fitWidth=function(Jc,$c){return X(p,Jc,$c)};p.fitHeight=function(Jc,$c){return Fa(p,Jc,$c)};return p.scale(1070)},azimuthalequalarea:function(){return wc(Fe).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return wc(qe).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return ra(Vc).scale(109.5).parallels([30,30])},
conicequalarea:wb,conicequidistant:function(){return ra(Ha).scale(131.154).center([0,13.9389])},equalEarth:function(){return wc(fb).scale(177.158)},equirectangular:function(){return wc(na).scale(152.63)},gnomonic:function(){return wc(Q).scale(144.049).clipAngle(60)},identity:function(){function p(){ad=Y*Bb;kd=Y*Fb;Vd=Be=null;return P}function P(Zc){var zd=Zc[0]*ad;Zc=Zc[1]*kd;if(Wb){var Yd=Zc*ac-zd*mc;zd=zd*ac+Zc*mc;Zc=Yd}return[zd+pa,Zc+ua]}var Y=1,pa=0,ua=0,Bb=1,Fb=1,Wb=0,ac,mc,zc=null,xc,Jc,$c,
ad=1,kd=1,Xd=Xa({point:function(Zc,zd){Zc=P([Zc,zd]);this.stream.point(Zc[0],Zc[1])}}),Sc=pc,Vd,Be;P.invert=function(Zc){var zd=Zc[0]-pa;Zc=Zc[1]-ua;if(Wb){var Yd=Zc*ac+zd*mc;zd=zd*ac-Zc*mc;Zc=Yd}return[zd/ad,Zc/kd]};P.stream=function(Zc){return Vd&&Be===Zc?Vd:Vd=Xd(Sc(Be=Zc))};P.postclip=function(Zc){return arguments.length?(Sc=Zc,zc=xc=Jc=$c=null,p()):Sc};P.clipExtent=function(Zc){return arguments.length?(Sc=null==Zc?(zc=xc=Jc=$c=null,pc):oa(zc=+Zc[0][0],xc=+Zc[0][1],Jc=+Zc[1][0],$c=+Zc[1][1]),
p()):null==zc?null:[[zc,xc],[Jc,$c]]};P.scale=function(Zc){return arguments.length?(Y=+Zc,p()):Y};P.translate=function(Zc){return arguments.length?(pa=+Zc[0],ua=+Zc[1],p()):[pa,ua]};P.angle=function(Zc){return arguments.length?(Wb=Zc%360*rd,mc=J(Wb),ac=ud(Wb),p()):Wb*yd};P.reflectX=function(Zc){return arguments.length?(Bb=Zc?-1:1,p()):0>Bb};P.reflectY=function(Zc){return arguments.length?(Fb=Zc?-1:1,p()):0>Fb};P.fitExtent=function(Zc,zd){return Tb(P,Zc,zd)};P.fitSize=function(Zc,zd){return Tb(P,[[0,
0],Zc],zd)};P.fitWidth=function(Zc,zd){return X(P,Zc,zd)};P.fitHeight=function(Zc,zd){return Fa(P,Zc,zd)};return P},mercator:function(){return ld(Ac).scale(961/Rc)},mollweide:function(){return wc(Me).scale(169.529)},naturalEarth1:function(){return wc(t).scale(175.295)},orthographic:function(){return wc(da).scale(249.5).clipAngle(90.000001)},stereographic:function(){return wc(za).scale(250).clipAngle(142)},transversemercator:function(){var p=ld(Da),P=p.center,Y=p.rotate;p.center=function(pa){return arguments.length?
P([-pa[1],pa[0]]):(pa=P(),[pa[1],-pa[0]])};p.rotate=function(pa){return arguments.length?Y([pa[0],pa[1],2<pa.length?pa[2]+90:90]):(pa=Y(),[pa[0],pa[1],pa[2]-90])};return Y([0,0,90]).scale(159.155)}};for(const p in M)Rb(p,M[p]);r.getProjectionPath=function(p){return p&&p.path||xe};r.projection=Rb;r.projectionProperties=y})};
shadow$provide[38]=function(Db,mb,Cc,Va){(function(r,h){"object"===typeof Va&&"undefined"!==typeof Cc?h(Va,mb(29),mb(21),mb(30),mb(37),mb(32)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util vega-statistics vega-projection vega-canvas".split(" "),h):(r="undefined"!==typeof globalThis?globalThis:r||self,h((r.vega=r.vega||{},r.vega.transforms={}),r.vega,r.vega,r.vega,r.vega,r.vega))})(this,function(r,h,ka,Ya,ub,Yb){function bc(t,da,za){var Da=(da-t)/Math.max(0,za),Oa=
Math.floor(Math.log10(Da));Da/=Math.pow(10,Oa);Da=Da>=fd?10:Da>=ra?5:Da>=Ab?2:1;let jb;0>Oa?(jb=Math.pow(10,-Oa)/Da,Oa=Math.round(t*jb),Da=Math.round(da*jb),Oa/jb<t&&++Oa,Da/jb>da&&--Da,jb=-jb):(jb=Math.pow(10,Oa)*Da,Oa=Math.round(t/jb),Da=Math.round(da/jb),Oa*jb<t&&++Oa,Da*jb>da&&--Da);return Da<Oa&&.5<=za&&2>za?bc(t,da,2*za):[Oa,Da,jb]}function Xb(t,da,za){return bc(+t,+da,+za)[2]}function oc(t,da){let za;if(void 0===da)for(var Da of t)null!=Da&&(za<Da||void 0===za&&Da>=Da)&&(za=Da);else{Da=-1;
for(let Oa of t)null!=(Oa=da(Oa,++Da,t))&&(za<Oa||void 0===za&&Oa>=Oa)&&(za=Oa)}return za}function zb(t,da,za){t=+t;da=+da;za=2>(Oa=arguments.length)?(da=t,t=0,1):3>Oa?1:+za;for(var Da=-1,Oa=Math.max(0,Math.ceil((da-t)/za))|0,jb=Array(Oa);++Da<Oa;)jb[Da]=t+Da*za;return jb}function Ub(t,da){let za=0;if(void 0===da)for(var Da of t){if(Da=+Da)za+=Da}else{Da=-1;for(let Oa of t)if(Oa=+da(Oa,++Da,t))za+=Oa}return za}function kc(){}function Ea(){function t(Eb,Ib){return Ib.map(Bc=>da(Eb,Bc))}function da(Eb,
Ib){var Bc=[],Dc=[];za(Eb,Ib,Rc=>{Rb(Rc,Eb,Ib);for(var yd=0,rd=Rc.length,gd=Rc[rd-1][1]*Rc[0][0]-Rc[rd-1][0]*Rc[0][1];++yd<rd;)gd+=Rc[yd-1][1]*Rc[yd][0]-Rc[yd-1][0]*Rc[yd][1];0<gd?Bc.push([Rc]):Dc.push(Rc)});Dc.forEach(Rc=>{for(var yd=0,rd=Bc.length,gd;yd<rd;++yd){a:{var Fd=(gd=Bc[yd])[0];for(var Gd=Rc,ud=-1,we=Gd.length;++ud<we;){b:{var Ed=Fd;for(var x=Gd[ud],J=x[0],xa=x[1],Ka=-1,kb=0,yb=Ed.length,cc=yb-1;kb<yb;cc=kb++){var Sb=Ed[kb],pc=Sb[0],Ic=Sb[1],yc=Ed[cc];cc=yc[0];var Xc=yc[1],md,sd=Sb;Sb=
yc;yc=x;if(md=(Sb[0]-sd[0])*(yc[1]-sd[1])===(yc[0]-sd[0])*(Sb[1]-sd[1]))sd=sd[md=+(sd[0]===Sb[0])],yc=yc[md],Sb=Sb[md],md=sd<=yc&&yc<=Sb||Sb<=yc&&yc<=sd;if(md){Ed=0;break b}Ic>xa!==Xc>xa&&J<(cc-pc)*(xa-Ic)/(Xc-Ic)+pc&&(Ka=-Ka)}Ed=Ka}if(Ed){Fd=Ed;break a}}Fd=0}if(-1!==Fd){gd.push(Rc);break}}});return{type:"MultiPolygon",value:Ib,coordinates:Bc}}function za(Eb,Ib,Bc){function Dc(Ed){var x=[Ed[0][0]+gd,Ed[0][1]+rd];Ed=[Ed[1][0]+gd,Ed[1][1]+rd];var J=2*x[0]+x[1]*(Oa+1)*4,xa=2*Ed[0]+Ed[1]*(Oa+1)*4,Ka,
kb;(Ka=yd[J])?(kb=Rc[xa])?(delete yd[Ka.end],delete Rc[kb.start],Ka===kb?(Ka.ring.push(Ed),Bc(Ka.ring)):Rc[Ka.start]=yd[kb.end]={start:Ka.start,end:kb.end,ring:Ka.ring.concat(kb.ring)}):(delete yd[Ka.end],Ka.ring.push(Ed),yd[Ka.end=xa]=Ka):(Ka=Rc[xa])?(kb=yd[J])?(delete Rc[Ka.start],delete yd[kb.end],Ka===kb?(Ka.ring.push(Ed),Bc(Ka.ring)):Rc[kb.start]=yd[Ka.end]={start:kb.start,end:Ka.end,ring:kb.ring.concat(Ka.ring)}):(delete Rc[Ka.start],Ka.ring.unshift(x),Rc[Ka.start=J]=Ka):Rc[J]=yd[xa]={start:J,
end:xa,ring:[x,Ed]}}var Rc=[],yd=[],rd;var gd=rd=-1;var Fd=Eb[0]>=Ib;for(Ta[Fd<<1].forEach(Dc);++gd<Oa-1;){var Gd=Fd;Fd=Eb[gd+1]>=Ib;Ta[Gd|Fd<<1].forEach(Dc)}for(Ta[Fd<<0].forEach(Dc);++rd<jb-1;){gd=-1;Fd=Eb[rd*Oa+Oa]>=Ib;var ud=Eb[rd*Oa]>=Ib;for(Ta[Fd<<1|ud<<2].forEach(Dc);++gd<Oa-1;){Gd=Fd;Fd=Eb[rd*Oa+Oa+gd+1]>=Ib;var we=ud;ud=Eb[rd*Oa+gd+1]>=Ib;Ta[Gd|Fd<<1|ud<<2|we<<3].forEach(Dc)}Ta[Fd|ud<<3].forEach(Dc)}gd=-1;ud=Eb[rd*Oa]>=Ib;for(Ta[ud<<2].forEach(Dc);++gd<Oa-1;)we=ud,ud=Eb[rd*Oa+gd+1]>=Ib,Ta[ud<<
2|we<<3].forEach(Dc);Ta[ud<<3].forEach(Dc)}function Da(Eb,Ib,Bc){Eb.forEach(Dc=>{var Rc=Dc[0],yd=Dc[1],rd=Rc|0,gd=yd|0,Fd=Ib[gd*Oa+rd];if(0<Rc&&Rc<Oa&&rd===Rc){var Gd=Ib[gd*Oa+rd-1];Dc[0]=Rc+(Bc-Gd)/(Fd-Gd)-.5}0<yd&&yd<jb&&gd===yd&&(Gd=Ib[(gd-1)*Oa+rd],Dc[1]=yd+(Bc-Gd)/(Fd-Gd)-.5)})}var Oa=1,jb=1,Rb=Da;t.contour=da;t.size=function(Eb){if(!arguments.length)return[Oa,jb];var Ib=Math.floor(Eb[0]),Bc=Math.floor(Eb[1]);0<=Ib&&0<=Bc||ka.error("invalid size");return Oa=Ib,jb=Bc,t};t.smooth=function(Eb){return arguments.length?
(Rb=Eb?Da:kc,t):Rb===Da};return t}function Za(t,da,za){return function(Da){var Oa=ka.extent(Da);Da=za?Math.min(Oa[0],0):Oa[0];Oa=Oa[1];var jb=Oa-Da;if(da){var Rb=t;var Eb=+Oa;var Ib=+Da;Rb=+Rb;Ib=(jb=Eb<Ib)?Xb(Eb,Ib,Rb):Xb(Ib,Eb,Rb);jb=(jb?-1:1)*(0>Ib?1/-Ib:Ib)}else jb/=t+1;return zb(Da+jb,Oa,jb)}}function tb(t){h.Transform.call(this,null,t)}function rb(t,da,za){const Da=Za(za.levels||10,za.nice,!1!==za.zero);return"shared"!==za.resolve?Da:Da(t.map(Oa=>oc(da(Oa).values)))}function pb(t,da,za,Da){var Oa=
Da.scale||da.scale;let jb=Da.translate||da.translate;ka.isFunction(Oa)&&(Oa=Oa(za,Da));ka.isFunction(jb)&&(jb=jb(za,Da));if(1!==Oa&&null!=Oa||jb)za=(ka.isNumber(Oa)?Oa:Oa[0])||1,Oa=(ka.isNumber(Oa)?Oa:Oa[1])||1,t.forEach(vb(da,za,Oa,jb&&jb[0]||0,jb&&jb[1]||0))}function vb(t,da,za,Da,Oa){function jb(Rc){Rc.forEach(Rb)}function Rb(Rc){Dc&&Rc.reverse();Rc.forEach(Eb)}function Eb(Rc){Rc[0]=(Rc[0]-Ib)*da+Da;Rc[1]=(Rc[1]-Bc)*za+Oa}const Ib=t.x1||0,Bc=t.y1||0,Dc=0>da*za;return function(Rc){Rc.coordinates.forEach(jb);
return Rc}}function gb(t,da,za){t=0<=t?t:Ya.bandwidthNRD(da,za);return Math.round((Math.sqrt(4*t*t+1)-1)/2)}function ec(t){return ka.isFunction(t)?t:ka.constant(+t)}function sa(){function t(Ib,Bc){const Dc=gb(Oa[0],Ib,da)>>Eb,Rc=gb(Oa[1],Ib,za)>>Eb,yd=Dc?Dc+2:0,rd=Rc?Rc+2:0,gd=2*yd+(jb>>Eb),Fd=2*rd+(Rb>>Eb),Gd=new Float32Array(gd*Fd),ud=new Float32Array(gd*Fd);let we=Gd;Ib.forEach(Ed=>{const x=yd+(+da(Ed)>>Eb),J=rd+(+za(Ed)>>Eb);0<=x&&x<gd&&0<=J&&J<Fd&&(Gd[x+J*gd]+=+Da(Ed))});0<Dc&&0<Rc?(ia(gd,Fd,
Gd,ud,Dc),Ba(gd,Fd,ud,Gd,Rc),ia(gd,Fd,Gd,ud,Dc),Ba(gd,Fd,ud,Gd,Rc),ia(gd,Fd,Gd,ud,Dc),Ba(gd,Fd,ud,Gd,Rc)):0<Dc?(ia(gd,Fd,Gd,ud,Dc),ia(gd,Fd,ud,Gd,Dc),ia(gd,Fd,Gd,ud,Dc),we=ud):0<Rc&&(Ba(gd,Fd,Gd,ud,Rc),Ba(gd,Fd,ud,Gd,Rc),Ba(gd,Fd,Gd,ud,Rc),we=ud);Ib=Bc?Math.pow(2,-2*Eb):1/Ub(we);for(let Ed=0,x=gd*Fd;Ed<x;++Ed)we[Ed]*=Ib;return{values:we,scale:1<<Eb,width:gd,height:Fd,x1:yd,y1:rd,x2:yd+(jb>>Eb),y2:rd+(Rb>>Eb)}}var da=Ib=>Ib[0],za=Ib=>Ib[1],Da=ka.one,Oa=[-1,-1],jb=960,Rb=500,Eb=2;t.x=function(Ib){return arguments.length?
(da=ec(Ib),t):da};t.y=function(Ib){return arguments.length?(za=ec(Ib),t):za};t.weight=function(Ib){return arguments.length?(Da=ec(Ib),t):Da};t.size=function(Ib){if(!arguments.length)return[jb,Rb];var Bc=+Ib[0],Dc=+Ib[1];0<=Bc&&0<=Dc||ka.error("invalid size");return jb=Bc,Rb=Dc,t};t.cellSize=function(Ib){if(!arguments.length)return 1<<Eb;1<=(Ib=+Ib)||ka.error("invalid cell size");Eb=Math.floor(Math.log(Ib)/Math.LN2);return t};t.bandwidth=function(Ib){if(!arguments.length)return Oa;Ib=ka.array(Ib);
1===Ib.length&&(Ib=[+Ib[0],+Ib[0]]);2!==Ib.length&&ka.error("invalid bandwidth");return Oa=Ib,t};return t}function ia(t,da,za,Da,Oa){const jb=(Oa<<1)+1;for(let Rb=0;Rb<da;++Rb)for(let Eb=0,Ib=0;Eb<t+Oa;++Eb)Eb<t&&(Ib+=za[Eb+Rb*t]),Eb>=Oa&&(Eb>=jb&&(Ib-=za[Eb-jb+Rb*t]),Da[Eb-Oa+Rb*t]=Ib/Math.min(Eb+1,t-1+jb-Eb,jb))}function Ba(t,da,za,Da,Oa){const jb=(Oa<<1)+1;for(let Rb=0;Rb<t;++Rb)for(let Eb=0,Ib=0;Eb<da+Oa;++Eb)Eb<da&&(Ib+=za[Rb+Eb*t]),Eb>=Oa&&(Eb>=jb&&(Ib-=za[Rb+(Eb-jb)*t]),Da[Rb+(Eb-Oa)*t]=Ib/
Math.min(Eb+1,da-1+jb-Eb,jb))}function Ra(t){h.Transform.call(this,null,t)}function Wa(t,da){wb.forEach(za=>null!=da[za]?t[za](da[za]):0);return t}function Ia(t,da){var za=[],Da=Dc=>Dc(Eb),Oa;if(null==da)za.push(t);else{var jb={};var Rb=0;for(Oa=t.length;Rb<Oa;++Rb){var Eb=t[Rb];var Ib=da.map(Da);var Bc=jb[Ib];Bc||(jb[Ib]=Bc=[],Bc.dims=Ib,za.push(Bc));Bc.push(Eb)}}return za}function hb(t){h.Transform.call(this,null,t)}function ab(t){h.Transform.call(this,null,t)}function qb(t){h.Transform.call(this,
null,t)}function Pb(t,da){const za=t.pointRadius();t.context(null);null!=da&&t.pointRadius(da);return za}function db(t){h.Transform.call(this,null,t)}function U(t){h.Transform.call(this,null,t)}function ba(t,da,za){const Da=null==za?Oa=>t(da(Oa)):Oa=>{var jb=t.pointRadius();Oa=t.pointRadius(za)(da(Oa));t.pointRadius(jb);return Oa};Da.context=Oa=>{t.context(Oa);return Da};return Da}function ea(t,da,za){var Da=zb(t,da-1E-6,za).concat(da);return function(Oa){return Da.map(function(jb){return[Oa,jb]})}}
function ja(t,da,za){var Da=zb(t,da-1E-6,za).concat(da);return function(Oa){return Da.map(function(jb){return[jb,Oa]})}}function La(){function t(){return{type:"MultiLineString",coordinates:da()}}function da(){return zb(Nb(jb/yd)*yd,Oa,yd).map(Gd).concat(zb(Nb(Bc/rd)*rd,Ib,rd).map(ud)).concat(zb(Nb(Da/Dc)*Dc,za,Dc).filter(function(Ed){return 1E-6<Gb(Ed%yd)}).map(gd)).concat(zb(Nb(Eb/Rc)*Rc,Rb,Rc).filter(function(Ed){return 1E-6<Gb(Ed%rd)}).map(Fd))}var za,Da,Oa,jb,Rb,Eb,Ib,Bc,Dc=10,Rc=Dc,yd=90,rd=
360,gd,Fd,Gd,ud,we=2.5;t.lines=function(){return da().map(function(Ed){return{type:"LineString",coordinates:Ed}})};t.outline=function(){return{type:"Polygon",coordinates:[Gd(jb).concat(ud(Ib).slice(1),Gd(Oa).reverse().slice(1),ud(Bc).reverse().slice(1))]}};t.extent=function(Ed){return arguments.length?t.extentMajor(Ed).extentMinor(Ed):t.extentMinor()};t.extentMajor=function(Ed){if(!arguments.length)return[[jb,Bc],[Oa,Ib]];jb=+Ed[0][0];Oa=+Ed[1][0];Bc=+Ed[0][1];Ib=+Ed[1][1];jb>Oa&&(Ed=jb,jb=Oa,Oa=
Ed);Bc>Ib&&(Ed=Bc,Bc=Ib,Ib=Ed);return t.precision(we)};t.extentMinor=function(Ed){if(!arguments.length)return[[Da,Eb],[za,Rb]];Da=+Ed[0][0];za=+Ed[1][0];Eb=+Ed[0][1];Rb=+Ed[1][1];Da>za&&(Ed=Da,Da=za,za=Ed);Eb>Rb&&(Ed=Eb,Eb=Rb,Rb=Ed);return t.precision(we)};t.step=function(Ed){return arguments.length?t.stepMajor(Ed).stepMinor(Ed):t.stepMinor()};t.stepMajor=function(Ed){if(!arguments.length)return[yd,rd];yd=+Ed[0];rd=+Ed[1];return t};t.stepMinor=function(Ed){if(!arguments.length)return[Dc,Rc];Dc=+Ed[0];
Rc=+Ed[1];return t};t.precision=function(Ed){if(!arguments.length)return we;we=+Ed;gd=ea(Eb,Rb,90);Fd=ja(Da,za,we);Gd=ea(Bc,Ib,90);ud=ja(jb,Oa,we);return t};return t.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function oa(t){h.Transform.call(this,[],t);this.generator=La()}function qa(t,da,za){t.prototype=da.prototype=za;za.constructor=t}function l(t,da){t=Object.create(t.prototype);for(var za in da)t[za]=da[za];return t}function D(){}function K(){return this.rgb().formatHex()}
function v(){return this.rgb().formatRgb()}function R(t){var da,za;t=(t+"").trim().toLowerCase();return(da=jc.exec(t))?(za=da[1].length,da=parseInt(da[1],16),6===za?A(da):3===za?new w(da>>8&15|da>>4&240,da>>4&15|da&240,(da&15)<<4|da&15,1):8===za?W(da>>24&255,da>>16&255,da>>8&255,(da&255)/255):4===za?W(da>>12&15|da>>8&240,da>>8&15|da>>4&240,da>>4&15|da&240,((da&15)<<4|da&15)/255):null):(da=Ac.exec(t))?new w(da[1],da[2],da[3],1):(da=ld.exec(t))?new w(255*da[1]/100,255*da[2]/100,255*da[3]/100,1):(da=
Vc.exec(t))?W(da[1],da[2],da[3],da[4]):(da=na.exec(t))?W(255*da[1]/100,255*da[2]/100,255*da[3]/100,da[4]):(da=Ha.exec(t))?ma(da[1],da[2]/100,da[3]/100,1):(da=fb.exec(t))?ma(da[1],da[2]/100,da[3]/100,da[4]):Q.hasOwnProperty(t)?A(Q[t]):"transparent"===t?new w(NaN,NaN,NaN,0):null}function A(t){return new w(t>>16&255,t>>8&255,t&255,1)}function W(t,da,za,Da){0>=Da&&(t=da=za=NaN);return new w(t,da,za,Da)}function G(t,da,za,Da){if(1===arguments.length){var Oa=t;Oa instanceof D||(Oa=R(Oa));Oa?(Oa=Oa.rgb(),
Oa=new w(Oa.r,Oa.g,Oa.b,Oa.opacity)):Oa=new w}else Oa=new w(t,da,za,null==Da?1:Da);return Oa}function w(t,da,za,Da){this.r=+t;this.g=+da;this.b=+za;this.opacity=+Da}function z(){return`#${N(this.r)}${N(this.g)}${N(this.b)}`}function F(){const t=V(this.opacity);return`${1===t?"rgb(":"rgba("}${ta(this.r)}, ${ta(this.g)}, ${ta(this.b)}${1===t?")":`, ${t})`}`}function V(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ta(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function N(t){t=ta(t);
return(16>t?"0":"")+t.toString(16)}function ma(t,da,za,Da){0>=Da?t=da=za=NaN:0>=za||1<=za?t=da=NaN:0>=da&&(t=NaN);return new Ma(t,da,za,Da)}function ya(t){if(t instanceof Ma)return new Ma(t.h,t.s,t.l,t.opacity);t instanceof D||(t=R(t));if(!t)return new Ma;if(t instanceof Ma)return t;t=t.rgb();var da=t.r/255,za=t.g/255,Da=t.b/255,Oa=Math.min(da,za,Da),jb=Math.max(da,za,Da),Rb=NaN,Eb=jb-Oa,Ib=(jb+Oa)/2;Eb?(Rb=da===jb?(za-Da)/Eb+6*(za<Da):za===jb?(Da-da)/Eb+2:(da-za)/Eb+4,Eb/=.5>Ib?jb+Oa:2-jb-Oa,Rb*=
60):Eb=0<Ib&&1>Ib?0:Rb;return new Ma(Rb,Eb,Ib,t.opacity)}function Ma(t,da,za,Da){this.h=+t;this.s=+da;this.l=+za;this.opacity=+Da}function Pa(t){t=(t||0)%360;return 0>t?t+360:t}function Xa(t){return Math.max(0,Math.min(1,t||0))}function sb(t,da,za){return 255*(60>t?da+(za-da)*t/60:180>t?za:240>t?da+(za-da)*(240-t)/60:da)}function ib(t){h.Transform.call(this,null,t)}function Tb(t,da){let za;ka.isFunction(t)?(za=Da=>G(t(Da,da)),za.dep=Fa(t)):za=ka.constant(G(t||"#888"));return za}function X(t,da){let za;
ka.isFunction(t)?(za=Da=>t(Da,da),za.dep=Fa(t)):t?za=ka.constant(t):(za=Da=>Da.$value/Da.$max||0,za.dep=!0);return za}function Fa(t){if(!ka.isFunction(t))return!1;t=ka.toSet(ka.accessorFields(t));return t.$x||t.$y||t.$value||t.$max}function Kb(t,da,za,Da){const Oa=t.width;var jb=t.height;const Rb=t.x1||0,Eb=t.y1||0,Ib=t.x2||Oa;jb=t.y2||jb;const Bc=t.values;t=Bc?gd=>Bc[gd]:ka.zero;const Dc=Yb.canvas(Ib-Rb,jb-Eb),Rc=Dc.getContext("2d"),yd=Rc.getImageData(0,0,Ib-Rb,jb-Eb),rd=yd.data;for(let gd=Eb,Fd=
0;gd<jb;++gd){da.$y=gd-Eb;for(let Gd=Rb,ud=gd*Oa;Gd<Ib;++Gd,Fd+=4){da.$x=Gd-Rb;da.$value=t(Gd+ud);const we=za(da);rd[Fd+0]=we.r;rd[Fd+1]=we.g;rd[Fd+2]=we.b;rd[Fd+3]=~~(255*Da(da))}}Rc.putImageData(yd,0,0);return Dc}function qc(t){h.Transform.call(this,null,t);this.modified(!0)}function $b(t,da){const za=Qb(da.fit);da.extent?t.fitExtent(da.extent,za):da.size?t.fitSize(da.size,za):0}function Mb(t){const da=ub.projection((t||"mercator").toLowerCase());da||ka.error("Unrecognized projection type: "+t);
return da()}function Qb(t){t=ka.array(t);return 1===t.length?t[0]:{type:"FeatureCollection",features:t.reduce((da,za)=>da.concat(wc(za)),[])}}function wc(t){return"FeatureCollection"===t.type?t.features:ka.array(t).filter(da=>null!=da).map(da=>"Feature"===da.type?da:{type:"Feature",geometry:da})}const fd=Math.sqrt(50),ra=Math.sqrt(10),Ab=Math.sqrt(2),Ta=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],
[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];tb.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",
type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};ka.inherits(tb,h.Transform,{transform(t,da){if(this.value&&!da.changed()&&!t.modified())return da.StopPropagation;var za=da.fork(da.NO_SOURCE|da.NO_FIELDS);da=da.materialize(da.SOURCE).source;var Da=t.field||ka.identity,Oa=Ea().smooth(!1!==t.smooth),jb=t.thresholds||rb(da,Da,t),Rb=null===t.as?null:t.as||"contour",Eb=[];da.forEach(Ib=>
{const Bc=Da(Ib),Dc=Oa.size([Bc.width,Bc.height])(Bc.values,ka.isArray(jb)?jb:jb(Bc.values));pb(Dc,Bc,Ib,t);Dc.forEach(Rc=>{Eb.push(h.rederive(Ib,h.ingest(null!=Rb?{[Rb]:Rc}:Rc)))})});this.value&&(za.rem=this.value);this.value=za.source=za.add=Eb;return za}});Ra.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",
array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const wb="x y weight size cellSize bandwidth".split(" ");ka.inherits(Ra,h.Transform,{transform(t,da){if(this.value&&!da.changed()&&!t.modified())return da.StopPropagation;var za=da.fork(da.NO_SOURCE|da.NO_FIELDS);da=da.materialize(da.SOURCE).source;da=Ia(da,t.groupby);var Da=(t.groupby||[]).map(ka.accessorName),Oa=Wa(sa(),
t),jb=t.as||"grid",Rb=[];Rb=da.map(Eb=>{var Ib=h.ingest,Bc={[jb]:Oa(Eb,t.counts)};Eb=Eb.dims;for(let Dc=0;Dc<Da.length;++Dc)Bc[Da[Dc]]=Eb[Dc];return Ib.call(h,Bc)});this.value&&(za.rem=this.value);this.value=za.source=za.add=Rb;return za}});hb.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},
{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};ka.inherits(hb,h.Transform,{transform(t,da){if(this.value&&!da.changed()&&!t.modified())return da.StopPropagation;var za=da.fork(da.NO_SOURCE|da.NO_FIELDS),Da=Ea().smooth(!1!==t.smooth),Oa=t.values,jb=t.thresholds||Za(t.count||10,t.nice,!!Oa),Rb=t.size;if(!Oa){Oa=da.materialize(da.SOURCE).source;t=Wa(sa(),t)(Oa,
!0);var Eb=vb(t,t.scale||1,t.scale||1,0,0);Rb=[t.width,t.height];Oa=t.values}jb=ka.isArray(jb)?jb:jb(Oa);Oa=Da.size(Rb)(Oa,jb);Eb&&Oa.forEach(Eb);this.value&&(za.rem=this.value);this.value=za.source=za.add=(Oa||[]).map(h.ingest);return za}});ab.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};ka.inherits(ab,h.Transform,{transform(t,da){var za=this._features,Da=this._points,Oa=t.fields,jb=Oa&&Oa[0],Rb=Oa&&Oa[1],Eb=t.geojson||
!Oa&&ka.identity;Oa=da.ADD;t=t.modified()||da.changed(da.REM)||da.modified(ka.accessorFields(Eb))||jb&&da.modified(ka.accessorFields(jb))||Rb&&da.modified(ka.accessorFields(Rb));if(!this.value||t)Oa=da.SOURCE,this._features=za=[],this._points=Da=[];Eb&&da.visit(Oa,Ib=>za.push(Eb(Ib)));jb&&Rb&&(da.visit(Oa,Ib=>{var Bc=jb(Ib);Ib=Rb(Ib);null!=Bc&&null!=Ib&&(Bc=+Bc)===Bc&&(Ib=+Ib)===Ib&&Da.push([Bc,Ib])}),za=za.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:Da}}));this.value={type:"FeatureCollection",
features:za}}});qb.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};ka.inherits(qb,h.Transform,{transform(t,da){var za=da.fork(da.ALL),Da=this.value,Oa=t.field||ka.identity,jb=t.as||"path",Rb=za.SOURCE;!Da||t.modified()?(this.value=Da=ub.getProjectionPath(t.projection),za.materialize().reflow()):Rb=Oa===ka.identity||da.modified(Oa.fields)?
za.ADD_MOD:za.ADD;t=Pb(Da,t.pointRadius);za.visit(Rb,Eb=>Eb[jb]=Da(Oa(Eb)));Da.pointRadius(t);return za.modifies(jb)}});db.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};ka.inherits(db,h.Transform,{transform(t,da){function za(Bc){const Dc=Da([Oa(Bc),jb(Bc)]);Dc?(Bc[Eb]=Dc[0],Bc[Ib]=Dc[1]):(Bc[Eb]=void 0,Bc[Ib]=void 0)}
var Da=t.projection,Oa=t.fields[0],jb=t.fields[1],Rb=t.as||["x","y"],Eb=Rb[0],Ib=Rb[1];t.modified()?da=da.materialize().reflow(!0).visit(da.SOURCE,za):(t=da.modified(Oa.fields)||da.modified(jb.fields),da.visit(t?da.ADD_MOD:da.ADD,za));return da.modifies(Rb)}});U.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};
ka.inherits(U,h.Transform,{transform(t,da){da=da.fork(da.ALL);var za=this.value,Da=t.as||"shape",Oa=da.ADD;if(!za||t.modified())this.value=za=ba(ub.getProjectionPath(t.projection),t.field||ka.field("datum"),t.pointRadius),da.materialize().reflow(),Oa=da.SOURCE;da.visit(Oa,jb=>jb[Da]=za);return da.modifies(Da)}});var Gb=Math.abs,Nb=Math.ceil;oa.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},
{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};ka.inherits(oa,h.Transform,{transform(t,da){var za=this.value,Da=this.generator;
if(!za.length||t.modified())for(const Oa in t)if(ka.isFunction(Da[Oa]))Da[Oa](t[Oa]);t=Da();za.length?da.mod.push(h.replace(za[0],t)):da.add.push(h.ingest(t));za[0]=t;return da}});var Zb=1/.7,jc=/^#([0-9a-f]{3,8})$/,Ac=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),ld=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Vc=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
na=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Ha=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),fb=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
Q={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qa(D,R,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:K,formatHex:K,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ya(this).formatHsl()},formatRgb:v,toString:v});qa(w,G,l(D,{brighter(t){t=null==t?Zb:Math.pow(Zb,t);return new w(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){t=
null==t?.7:Math.pow(.7,t);return new w(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new w(ta(this.r),ta(this.g),ta(this.b),V(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:z,formatHex:z,formatHex8:function(){return`#${N(this.r)}${N(this.g)}${N(this.b)}${N(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:F,toString:F}));qa(Ma,function(t,da,za,Da){return 1===
arguments.length?ya(t):new Ma(t,da,za,null==Da?1:Da)},l(D,{brighter(t){t=null==t?Zb:Math.pow(Zb,t);return new Ma(this.h,this.s,this.l*t,this.opacity)},darker(t){t=null==t?.7:Math.pow(.7,t);return new Ma(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(0>this.h),da=isNaN(t)||isNaN(this.s)?0:this.s,za=this.l;da=za+(.5>za?za:1-za)*da;za=2*za-da;return new w(sb(240<=t?t-240:t+120,za,da),sb(t,za,da),sb(120>t?t+240:t-120,za,da),this.opacity)},clamp(){return new Ma(Pa(this.h),Xa(this.s),
Xa(this.l),V(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const t=V(this.opacity);return`${1===t?"hsl(":"hsla("}${Pa(this.h)}, ${100*Xa(this.s)}%, ${100*Xa(this.l)}%${1===t?")":`, ${t})`}`}}));ib.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared",
"independent"],"default":"independent"},{name:"as",type:"string","default":"image"}]};ka.inherits(ib,h.Transform,{transform(t,da){if(!da.changed()&&!t.modified())return da.StopPropagation;var za=da.materialize(da.SOURCE).source,Da="shared"===t.resolve,Oa=t.field||ka.identity,jb=X(t.opacity,t),Rb=Tb(t.color,t),Eb=t.as||"image",Ib={$x:0,$y:0,$value:0,$max:Da?oc(za.map(Bc=>oc(Oa(Bc).values))):0};za.forEach(Bc=>{const Dc=Oa(Bc),Rc=ka.extend({},Bc,Ib);Da||(Rc.$max=oc(Dc.values||[]));Bc[Eb]=Kb(Dc,Rc,Rb.dep?
Rb:ka.constant(Rb(Rc)),jb.dep?jb:ka.constant(jb(Rc)))});return da.reflow(!0).modifies(Eb)}});ka.inherits(qc,h.Transform,{transform(t,da){let za=this.value;!za||t.modified("type")?(this.value=za=Mb(t.type),ub.projectionProperties.forEach(Da=>{if(null!=t[Da]){var Oa=za,jb=t[Da];if(ka.isFunction(Oa[Da]))Oa[Da](jb)}})):ub.projectionProperties.forEach(Da=>{if(t.modified(Da)){var Oa=za,jb=t[Da];if(ka.isFunction(Oa[Da]))Oa[Da](jb)}});null!=t.pointRadius&&za.path.pointRadius(t.pointRadius);t.fit&&$b(za,t);
return da.fork(da.NO_SOURCE|da.NO_FIELDS)}});r.contour=hb;r.geojson=ab;r.geopath=qb;r.geopoint=db;r.geoshape=U;r.graticule=oa;r.heatmap=ib;r.isocontour=tb;r.kde2d=Ra;r.projection=qc})};
shadow$provide[39]=function(Db,mb,Cc,Va){(function(r,h){"object"===typeof Va&&"undefined"!==typeof Cc?h(Va,mb(29),mb(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],h):(r="undefined"!==typeof globalThis?globalThis:r||self,h((r.vega=r.vega||{},r.vega.transforms={}),r.vega,r.vega))})(this,function(r,h,ka){function Ya(N,ma,ya,Ma){if(isNaN(ma)||isNaN(ya))return N;var Pa,Xa=N._root;Ma={data:Ma};var sb=N._x0,ib=N._y0,Tb=N._x1,X=N._y1,Fa,Kb,qc,$b,Mb;if(!Xa)return N._root=
Ma,N;for(;Xa.length;)if((qc=ma>=(Fa=(sb+Tb)/2))?sb=Fa:Tb=Fa,($b=ya>=(Kb=(ib+X)/2))?ib=Kb:X=Kb,Pa=Xa,!(Xa=Xa[Mb=$b<<1|qc]))return Pa[Mb]=Ma,N;var Qb=+N._x.call(null,Xa.data);var wc=+N._y.call(null,Xa.data);if(ma===Qb&&ya===wc)return Ma.next=Xa,Pa?Pa[Mb]=Ma:N._root=Ma,N;do Pa=Pa?Pa[Mb]=Array(4):N._root=Array(4),(qc=ma>=(Fa=(sb+Tb)/2))?sb=Fa:Tb=Fa,($b=ya>=(Kb=(ib+X)/2))?ib=Kb:X=Kb;while((Mb=$b<<1|qc)===(qc=(wc>=Kb)<<1|Qb>=Fa));return Pa[qc]=Xa,Pa[Mb]=Ma,N}function ub(N,ma,ya,Ma,Pa){this.node=N;this.x0=
ma;this.y0=ya;this.x1=Ma;this.y1=Pa}function Yb(N){return N[0]}function bc(N){return N[1]}function Xb(N,ma,ya){ma=new oc(null==ma?Yb:ma,null==ya?bc:ya,NaN,NaN,NaN,NaN);return null==N?ma:ma.addAll(N)}function oc(N,ma,ya,Ma,Pa,Xa){this._x=N;this._y=ma;this._x0=ya;this._y0=Ma;this._x1=Pa;this._y1=Xa;this._root=void 0}function zb(N){for(var ma={data:N.data},ya=ma;N=N.next;)ya=ya.next={data:N.data};return ma}function Ub(N){return function(){return N}}function kc(N){return N.x+N.vx}function Ea(N){return N.y+
N.vy}function Za(N){return N.index}function tb(N,ma){N=N.get(ma);if(!N)throw Error("node not found: "+ma);return N}function rb(){for(var N=0,ma=arguments.length,ya={},Ma;N<ma;++N){if(!(Ma=arguments[N]+"")||Ma in ya||/[\s.]/.test(Ma))throw Error("illegal type: "+Ma);ya[Ma]=[]}return new pb(ya)}function pb(N){this._=N}function vb(N,ma){return N.trim().split(/^|\s+/).map(function(ya){var Ma="",Pa=ya.indexOf(".");0<=Pa&&(Ma=ya.slice(Pa+1),ya=ya.slice(0,Pa));if(ya&&!ma.hasOwnProperty(ya))throw Error("unknown type: "+
ya);return{type:ya,name:Ma}})}function gb(N,ma,ya){for(var Ma=0,Pa=N.length;Ma<Pa;++Ma)if(N[Ma].name===ma){N[Ma]=La;N=N.slice(0,Ma).concat(N.slice(Ma+1));break}null!=ya&&N.push({name:ma,value:ya});return N}function ec(){R=0}function sa(){this._call=this._time=this._next=null}function ia(N,ma,ya){var Ma=new sa;Ma.restart(N,ma,ya);return Ma}function Ba(){R=(v=W.now())+A;oa=qa=0;try{R||(G(ec),R=W.now()+A);++oa;for(var N=D,ma;N;)0<=(ma=R-N._time)&&N._call.call(void 0,ma),N=N._next;--oa}finally{oa=0;N=
D;for(var ya=Infinity;N;)if(N._call){ya>N._time&&(ya=N._time);var Ma=N;N=N._next}else ma=N._next,N._next=null,N=Ma?Ma._next=ma:D=ma;K=Ma;Wa(ya);R=0}}function Ra(){var N=W.now(),ma=N-v;1E3<ma&&(A-=ma,v=N)}function Wa(N){oa||(qa&&(qa=clearTimeout(qa)),24<N-R?(Infinity>N&&(qa=setTimeout(Ba,N-W.now()-A)),l&&(l=clearInterval(l))):(l||(v=W.now(),l=setInterval(Ra,1E3)),oa=1,G(Ba)))}function Ia(){let N=1;return()=>(N=(1664525*N+1013904223)%4294967296)/4294967296}function hb(N){return N.x}function ab(N){return N.y}
function qb(N){function ma(){ya();$b.call("tick",Xa);sb<ib&&(qc.stop(),$b.call("end",Xa))}function ya(Qb){var wc,fd=N.length;void 0===Qb&&(Qb=1);for(var ra=0;ra<Qb;++ra)for(sb+=(X-sb)*Tb,Kb.forEach(function(Ta){Ta(sb)}),wc=0;wc<fd;++wc){var Ab=N[wc];null==Ab.fx?Ab.x+=Ab.vx*=Fa:(Ab.x=Ab.fx,Ab.vx=0);null==Ab.fy?Ab.y+=Ab.vy*=Fa:(Ab.y=Ab.fy,Ab.vy=0)}return Xa}function Ma(){for(var Qb=0,wc=N.length,fd;Qb<wc;++Qb){fd=N[Qb];fd.index=Qb;null!=fd.fx&&(fd.x=fd.fx);null!=fd.fy&&(fd.y=fd.fy);if(isNaN(fd.x)||
isNaN(fd.y)){var ra=10*Math.sqrt(.5+Qb),Ab=Qb*w;fd.x=ra*Math.cos(Ab);fd.y=ra*Math.sin(Ab)}if(isNaN(fd.vx)||isNaN(fd.vy))fd.vx=fd.vy=0}}function Pa(Qb){Qb.initialize&&Qb.initialize(N,Mb);return Qb}var Xa,sb=1,ib=.001,Tb=1-Math.pow(ib,1/300),X=0,Fa=.6,Kb=new Map,qc=ia(ma),$b=rb("tick","end"),Mb=Ia();null==N&&(N=[]);Ma();return Xa={tick:ya,restart:function(){return qc.restart(ma),Xa},stop:function(){return qc.stop(),Xa},nodes:function(Qb){return arguments.length?(N=Qb,Ma(),Kb.forEach(Pa),Xa):N},alpha:function(Qb){return arguments.length?
(sb=+Qb,Xa):sb},alphaMin:function(Qb){return arguments.length?(ib=+Qb,Xa):ib},alphaDecay:function(Qb){return arguments.length?(Tb=+Qb,Xa):+Tb},alphaTarget:function(Qb){return arguments.length?(X=+Qb,Xa):X},velocityDecay:function(Qb){return arguments.length?(Fa=1-Qb,Xa):1-Fa},randomSource:function(Qb){return arguments.length?(Mb=Qb,Kb.forEach(Pa),Xa):Mb},force:function(Qb,wc){return 1<arguments.length?(null==wc?Kb.delete(Qb):Kb.set(Qb,Pa(wc)),Xa):Kb.get(Qb)},find:function(Qb,wc,fd){var ra,Ab=N.length;
fd=null==fd?Infinity:fd*fd;for(ra=0;ra<Ab;++ra){var Ta=N[ra];var wb=Qb-Ta.x;var Gb=wc-Ta.y;wb=wb*wb+Gb*Gb;if(wb<fd){var Nb=Ta;fd=wb}}return Nb},on:function(Qb,wc){return 1<arguments.length?($b.on(Qb,wc),Xa):$b.on(Qb)}}}function Pb(N){h.Transform.call(this,null,N)}function db(N,ma){return()=>N.touch(ma).run()}function U(N,ma){N=qb(N);const ya=N.stop,Ma=N.restart;let Pa=!1;N.stopped=()=>Pa;N.restart=()=>(Pa=!1,Ma());N.stop=()=>(Pa=!0,ya());return ba(N,ma,!0).on("end",()=>Pa=!0)}function ba(N,ma,ya,
Ma){var Pa=ka.array(ma.forces),Xa;var sb=0;for(Xa=F.length;sb<Xa;++sb){var ib=F[sb];if("forces"!==ib&&ma.modified(ib))N[ib](ma[ib])}sb=0;for(Xa=Pa.length;sb<Xa;++sb){var Tb="forces"+sb;if(ya||ma.modified("forces",sb)){ib=void 0;var X=Pa[sb];ka.hasOwnProperty(z,X.force)||ka.error("Unrecognized force: "+X.force);var Fa=z[X.force]();for(ib in X)ka.isFunction(Fa[ib])&&ea(Fa[ib],X[ib],X);ib=Fa}else{if(ib=Ma)a:{Fa=ib=void 0;X=Pa[sb];var Kb=Ma;for(Fa in X)if(ka.isFunction(ib=X[Fa])&&Kb.modified(ka.accessorFields(ib))){ib=
1;break a}ib=0}ib=ib?N.force(Tb):null}ib&&N.force(Tb,ib)}for(Xa=N.numForces||0;sb<Xa;++sb)N.force("forces"+sb,null);N.numForces=Pa.length;return N}function ea(N,ma,ya){N(ka.isFunction(ma)?Ma=>ma(Ma,ya):ma)}var ja=Xb.prototype=oc.prototype;ja.copy=function(){var N=new oc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ma=this._root,ya,Ma;if(!ma)return N;if(!ma.length)return N._root=zb(ma),N;for(ya=[{source:ma,target:N._root=Array(4)}];ma=ya.pop();)for(var Pa=0;4>Pa;++Pa)if(Ma=ma.source[Pa])Ma.length?
ya.push({source:Ma,target:ma.target[Pa]=Array(4)}):ma.target[Pa]=zb(Ma);return N};ja.add=function(N){const ma=+this._x.call(null,N),ya=+this._y.call(null,N);return Ya(this.cover(ma,ya),ma,ya,N)};ja.addAll=function(N){var ma,ya,Ma=N.length,Pa,Xa,sb=Array(Ma),ib=Array(Ma),Tb=Infinity,X=Infinity,Fa=-Infinity,Kb=-Infinity;for(ya=0;ya<Ma;++ya)isNaN(Pa=+this._x.call(null,ma=N[ya]))||isNaN(Xa=+this._y.call(null,ma))||(sb[ya]=Pa,ib[ya]=Xa,Pa<Tb&&(Tb=Pa),Pa>Fa&&(Fa=Pa),Xa<X&&(X=Xa),Xa>Kb&&(Kb=Xa));if(Tb>Fa||
X>Kb)return this;this.cover(Tb,X).cover(Fa,Kb);for(ya=0;ya<Ma;++ya)Ya(this,sb[ya],ib[ya],N[ya]);return this};ja.cover=function(N,ma){if(isNaN(N=+N)||isNaN(ma=+ma))return this;var ya=this._x0,Ma=this._y0,Pa=this._x1,Xa=this._y1;if(isNaN(ya))Pa=(ya=Math.floor(N))+1,Xa=(Ma=Math.floor(ma))+1;else{for(var sb=Pa-ya||1,ib=this._root,Tb,X;ya>N||N>=Pa||Ma>ma||ma>=Xa;)switch(X=(ma<Ma)<<1|N<ya,Tb=Array(4),Tb[X]=ib,ib=Tb,sb*=2,X){case 0:Pa=ya+sb;Xa=Ma+sb;break;case 1:ya=Pa-sb;Xa=Ma+sb;break;case 2:Pa=ya+sb;Ma=
Xa-sb;break;case 3:ya=Pa-sb,Ma=Xa-sb}this._root&&this._root.length&&(this._root=ib)}this._x0=ya;this._y0=Ma;this._x1=Pa;this._y1=Xa;return this};ja.data=function(){var N=[];this.visit(function(ma){if(!ma.length){do N.push(ma.data);while(ma=ma.next)}});return N};ja.extent=function(N){return arguments.length?this.cover(+N[0][0],+N[0][1]).cover(+N[1][0],+N[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};ja.find=function(N,ma,ya){var Ma=this._x0,Pa=this._y0,Xa,sb,ib,Tb,X=this._x1,
Fa=this._y1,Kb=[],qc=this._root,$b;qc&&Kb.push(new ub(qc,Ma,Pa,X,Fa));null==ya?ya=Infinity:(Ma=N-ya,Pa=ma-ya,X=N+ya,Fa=ma+ya,ya*=ya);for(;$b=Kb.pop();)if(!(!(qc=$b.node)||(Xa=$b.x0)>X||(sb=$b.y0)>Fa||(ib=$b.x1)<Ma||(Tb=$b.y1)<Pa))if(qc.length){$b=(Xa+ib)/2;var Mb=(sb+Tb)/2;Kb.push(new ub(qc[3],$b,Mb,ib,Tb),new ub(qc[2],Xa,Mb,$b,Tb),new ub(qc[1],$b,sb,ib,Mb),new ub(qc[0],Xa,sb,$b,Mb));if(qc=(ma>=Mb)<<1|N>=$b)$b=Kb[Kb.length-1],Kb[Kb.length-1]=Kb[Kb.length-1-qc],Kb[Kb.length-1-qc]=$b}else if($b=N-+this._x.call(null,
qc.data),Mb=ma-+this._y.call(null,qc.data),$b=$b*$b+Mb*Mb,$b<ya){var Qb=Math.sqrt(ya=$b);Ma=N-Qb;Pa=ma-Qb;X=N+Qb;Fa=ma+Qb;Qb=qc.data}return Qb};ja.remove=function(N){if(isNaN(Tb=+this._x.call(null,N))||isNaN(X=+this._y.call(null,N)))return this;var ma,ya=this._root,Ma,Pa=this._x0,Xa=this._y0,sb=this._x1,ib=this._y1,Tb,X,Fa,Kb,qc,$b,Mb;if(!ya)return this;if(ya.length)for(;;){(qc=Tb>=(Fa=(Pa+sb)/2))?Pa=Fa:sb=Fa;($b=X>=(Kb=(Xa+ib)/2))?Xa=Kb:ib=Kb;if(!(ma=ya,ya=ya[Mb=$b<<1|qc]))return this;if(!ya.length)break;
if(ma[Mb+1&3]||ma[Mb+2&3]||ma[Mb+3&3]){var Qb=ma;var wc=Mb}}for(;ya.data!==N;)if(!(Ma=ya,ya=ya.next))return this;(N=ya.next)&&delete ya.next;if(Ma)return N?Ma.next=N:delete Ma.next,this;if(!ma)return this._root=N,this;N?ma[Mb]=N:delete ma[Mb];(ya=ma[0]||ma[1]||ma[2]||ma[3])&&ya===(ma[3]||ma[2]||ma[1]||ma[0])&&!ya.length&&(Qb?Qb[wc]=ya:this._root=ya);return this};ja.removeAll=function(N){for(var ma=0,ya=N.length;ma<ya;++ma)this.remove(N[ma]);return this};ja.root=function(){return this._root};ja.size=
function(){var N=0;this.visit(function(ma){if(!ma.length){do++N;while(ma=ma.next)}});return N};ja.visit=function(N){var ma=[],ya,Ma=this._root,Pa,Xa,sb,ib,Tb;for(Ma&&ma.push(new ub(Ma,this._x0,this._y0,this._x1,this._y1));ya=ma.pop();)if(!N(Ma=ya.node,Xa=ya.x0,sb=ya.y0,ib=ya.x1,Tb=ya.y1)&&Ma.length){ya=(Xa+ib)/2;var X=(sb+Tb)/2;(Pa=Ma[3])&&ma.push(new ub(Pa,ya,X,ib,Tb));(Pa=Ma[2])&&ma.push(new ub(Pa,Xa,X,ya,Tb));(Pa=Ma[1])&&ma.push(new ub(Pa,ya,sb,ib,X));(Pa=Ma[0])&&ma.push(new ub(Pa,Xa,sb,ya,X))}return this};
ja.visitAfter=function(N){var ma=[],ya=[],Ma;for(this._root&&ma.push(new ub(this._root,this._x0,this._y0,this._x1,this._y1));Ma=ma.pop();){var Pa=Ma.node;if(Pa.length){var Xa,sb=Ma.x0,ib=Ma.y0,Tb=Ma.x1,X=Ma.y1,Fa=(sb+Tb)/2,Kb=(ib+X)/2;(Xa=Pa[0])&&ma.push(new ub(Xa,sb,ib,Fa,Kb));(Xa=Pa[1])&&ma.push(new ub(Xa,Fa,ib,Tb,Kb));(Xa=Pa[2])&&ma.push(new ub(Xa,sb,Kb,Fa,X));(Xa=Pa[3])&&ma.push(new ub(Xa,Fa,Kb,Tb,X))}ya.push(Ma)}for(;Ma=ya.pop();)N(Ma.node,Ma.x0,Ma.y0,Ma.x1,Ma.y1);return this};ja.x=function(N){return arguments.length?
(this._x=N,this):this._x};ja.y=function(N){return arguments.length?(this._y=N,this):this._y};var La={value:()=>{}};pb.prototype=rb.prototype={constructor:pb,on:function(N,ma){var ya=this._,Ma=vb(N+"",ya),Pa,Xa=-1,sb=Ma.length;if(2>arguments.length)for(;++Xa<sb;){var ib;if(ib=Pa=(N=Ma[Xa]).type){a:{ib=ya[Pa];for(var Tb=0,X=ib.length;Tb<X;++Tb)if((Pa=ib[Tb]).name===N.name){Pa=Pa.value;break a}Pa=void 0}ib=Pa}if(ib)return Pa}else{if(null!=ma&&"function"!==typeof ma)throw Error("invalid callback: "+ma);
for(;++Xa<sb;)if(Pa=(N=Ma[Xa]).type)ya[Pa]=gb(ya[Pa],N.name,ma);else if(null==ma)for(Pa in ya)ya[Pa]=gb(ya[Pa],N.name,null);return this}},copy:function(){var N={},ma=this._,ya;for(ya in ma)N[ya]=ma[ya].slice();return new pb(N)},call:function(N,ma){if(0<(Pa=arguments.length-2))for(var ya=Array(Pa),Ma=0,Pa,Xa;Ma<Pa;++Ma)ya[Ma]=arguments[Ma+2];if(!this._.hasOwnProperty(N))throw Error("unknown type: "+N);Xa=this._[N];Ma=0;for(Pa=Xa.length;Ma<Pa;++Ma)Xa[Ma].value.apply(ma,ya)},apply:function(N,ma,ya){if(!this._.hasOwnProperty(N))throw Error("unknown type: "+
N);N=this._[N];for(var Ma=0,Pa=N.length;Ma<Pa;++Ma)N[Ma].value.apply(ma,ya)}};var oa=0,qa=0,l=0,D,K,v=0,R=0,A=0,W="object"===typeof performance&&performance.now?performance:Date,G="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(N){setTimeout(N,17)};sa.prototype=ia.prototype={constructor:sa,restart:function(N,ma,ya){if("function"!==typeof N)throw new TypeError("callback is not a function");ya=(null==ya?R||(G(ec),R=W.now()+A):+ya)+(null==ma?
0:+ma);this._next||K===this||(K?K._next=this:D=this,K=this);this._call=N;this._time=ya;Wa()},stop:function(){this._call&&(this._call=null,this._time=Infinity,Wa())}};var w=Math.PI*(3-Math.sqrt(5));const z={center:function(N,ma){function ya(){var Xa,sb=Ma.length,ib=0,Tb=0;for(Xa=0;Xa<sb;++Xa){var X=Ma[Xa];ib+=X.x;Tb+=X.y}ib=(ib/sb-N)*Pa;Tb=(Tb/sb-ma)*Pa;for(Xa=0;Xa<sb;++Xa)X=Ma[Xa],X.x-=ib,X.y-=Tb}var Ma,Pa=1;null==N&&(N=0);null==ma&&(ma=0);ya.initialize=function(Xa){Ma=Xa};ya.x=function(Xa){return arguments.length?
(N=+Xa,ya):N};ya.y=function(Xa){return arguments.length?(ma=+Xa,ya):ma};ya.strength=function(Xa){return arguments.length?(Pa=+Xa,ya):Pa};return ya},collide:function(N){function ma(){function X(Ab,Ta,wb,Gb,Nb){var Zb=Ab.data;Ab=Ab.r;var jc=wc+Ab;if(Zb)Zb.index>$b.index&&(Ta=Mb-Zb.x-Zb.vx,wb=Qb-Zb.y-Zb.vy,Gb=Ta*Ta+wb*wb,Gb<jc*jc&&(0===Ta&&(Ta=1E-6*(sb()-.5),Gb+=Ta*Ta),0===wb&&(wb=1E-6*(sb()-.5),Gb+=wb*wb),Gb=(jc-(Gb=Math.sqrt(Gb)))/Gb*ib,$b.vx+=(Ta*=Gb)*(jc=(Ab*=Ab)/(fd+Ab)),$b.vy+=(wb*=Gb)*jc,Zb.vx-=
Ta*(jc=1-jc),Zb.vy-=wb*jc));else return Ta>Mb+jc||Gb<Mb-jc||wb>Qb+jc||Nb<Qb-jc}for(var Fa,Kb=Pa.length,qc,$b,Mb,Qb,wc,fd,ra=0;ra<Tb;++ra)for(qc=Xb(Pa,kc,Ea).visitAfter(ya),Fa=0;Fa<Kb;++Fa)$b=Pa[Fa],wc=Xa[$b.index],fd=wc*wc,Mb=$b.x+$b.vx,Qb=$b.y+$b.vy,qc.visit(X)}function ya(X){if(X.data)return X.r=Xa[X.data.index];for(var Fa=X.r=0;4>Fa;++Fa)X[Fa]&&X[Fa].r>X.r&&(X.r=X[Fa].r)}function Ma(){if(Pa){var X,Fa=Pa.length;Xa=Array(Fa);for(X=0;X<Fa;++X){var Kb=Pa[X];Xa[Kb.index]=+N(Kb,X,Pa)}}}var Pa,Xa,sb,
ib=1,Tb=1;"function"!==typeof N&&(N=Ub(null==N?1:+N));ma.initialize=function(X,Fa){Pa=X;sb=Fa;Ma()};ma.iterations=function(X){return arguments.length?(Tb=+X,ma):Tb};ma.strength=function(X){return arguments.length?(ib=+X,ma):ib};ma.radius=function(X){return arguments.length?(N="function"===typeof X?X:Ub(+X),Ma(),ma):N};return ma},nbody:function(){function N($b){var Mb=Pa.length,Qb=Xb(Pa,hb,ab).visitAfter(ya);ib=$b;for($b=0;$b<Mb;++$b)Xa=Pa[$b],Qb.visit(Ma)}function ma(){if(Pa){var $b,Mb=Pa.length;
X=Array(Mb);for($b=0;$b<Mb;++$b){var Qb=Pa[$b];X[Qb.index]=+Tb(Qb,$b,Pa)}}}function ya($b){var Mb=0,Qb,wc,fd=0,ra,Ab,Ta;if($b.length){for(ra=Ab=Ta=0;4>Ta;++Ta)(Qb=$b[Ta])&&(wc=Math.abs(Qb.value))&&(Mb+=Qb.value,fd+=wc,ra+=wc*Qb.x,Ab+=wc*Qb.y);$b.x=ra/fd;$b.y=Ab/fd}else{Qb=$b;Qb.x=Qb.data.x;Qb.y=Qb.data.y;do Mb+=X[Qb.data.index];while(Qb=Qb.next)}$b.value=Mb}function Ma($b,Mb,Qb,wc){if(!$b.value)return!0;Qb=$b.x-Xa.x;var fd=$b.y-Xa.y;Mb=wc-Mb;wc=Qb*Qb+fd*fd;if(Mb*Mb/qc<wc)return wc<Kb&&(0===Qb&&(Qb=
1E-6*(sb()-.5),wc+=Qb*Qb),0===fd&&(fd=1E-6*(sb()-.5),wc+=fd*fd),wc<Fa&&(wc=Math.sqrt(Fa*wc)),Xa.vx+=Qb*$b.value*ib/wc,Xa.vy+=fd*$b.value*ib/wc),!0;if(!($b.length||wc>=Kb)){if($b.data!==Xa||$b.next)0===Qb&&(Qb=1E-6*(sb()-.5),wc+=Qb*Qb),0===fd&&(fd=1E-6*(sb()-.5),wc+=fd*fd),wc<Fa&&(wc=Math.sqrt(Fa*wc));do $b.data!==Xa&&(Mb=X[$b.data.index]*ib/wc,Xa.vx+=Qb*Mb,Xa.vy+=fd*Mb);while($b=$b.next)}}var Pa,Xa,sb,ib,Tb=Ub(-30),X,Fa=1,Kb=Infinity,qc=.81;N.initialize=function($b,Mb){Pa=$b;sb=Mb;ma()};N.strength=
function($b){return arguments.length?(Tb="function"===typeof $b?$b:Ub(+$b),ma(),N):Tb};N.distanceMin=function($b){return arguments.length?(Fa=$b*$b,N):Math.sqrt(Fa)};N.distanceMax=function($b){return arguments.length?(Kb=$b*$b,N):Math.sqrt(Kb)};N.theta=function($b){return arguments.length?(qc=$b*$b,N):Math.sqrt(qc)};return N},link:function(N){function ma(Qb){for(var wc=0,fd=N.length;wc<Mb;++wc)for(var ra=0,Ab,Ta,wb,Gb,Nb;ra<fd;++ra)Ab=N[ra],Ta=Ab.source,Ab=Ab.target,wb=Ab.x+Ab.vx-Ta.x-Ta.vx||1E-6*
($b()-.5),Gb=Ab.y+Ab.vy-Ta.y-Ta.vy||1E-6*($b()-.5),Nb=Math.sqrt(wb*wb+Gb*Gb),Nb=(Nb-X[ra])/Nb*Qb*ib[ra],wb*=Nb,Gb*=Nb,Ab.vx-=wb*(Nb=qc[ra]),Ab.vy-=Gb*Nb,Ta.vx+=wb*(Nb=1-Nb),Ta.vy+=Gb*Nb}function ya(){if(Fa){var Qb=Fa.length,wc=N.length,fd=new Map(Fa.map((Ab,Ta)=>[Xa(Ab,Ta,Fa),Ab]));var ra=0;for(Kb=Array(Qb);ra<wc;++ra)Qb=N[ra],Qb.index=ra,"object"!==typeof Qb.source&&(Qb.source=tb(fd,Qb.source)),"object"!==typeof Qb.target&&(Qb.target=tb(fd,Qb.target)),Kb[Qb.source.index]=(Kb[Qb.source.index]||0)+
1,Kb[Qb.target.index]=(Kb[Qb.target.index]||0)+1;ra=0;for(qc=Array(wc);ra<wc;++ra)Qb=N[ra],qc[ra]=Kb[Qb.source.index]/(Kb[Qb.source.index]+Kb[Qb.target.index]);ib=Array(wc);Ma();X=Array(wc);Pa()}}function Ma(){if(Fa)for(var Qb=0,wc=N.length;Qb<wc;++Qb)ib[Qb]=+sb(N[Qb],Qb,N)}function Pa(){if(Fa)for(var Qb=0,wc=N.length;Qb<wc;++Qb)X[Qb]=+Tb(N[Qb],Qb,N)}var Xa=Za,sb=function(Qb){return 1/Math.min(Kb[Qb.source.index],Kb[Qb.target.index])},ib,Tb=Ub(30),X,Fa,Kb,qc,$b,Mb=1;null==N&&(N=[]);ma.initialize=
function(Qb,wc){Fa=Qb;$b=wc;ya()};ma.links=function(Qb){return arguments.length?(N=Qb,ya(),ma):N};ma.id=function(Qb){return arguments.length?(Xa=Qb,ma):Xa};ma.iterations=function(Qb){return arguments.length?(Mb=+Qb,ma):Mb};ma.strength=function(Qb){return arguments.length?(sb="function"===typeof Qb?Qb:Ub(+Qb),Ma(),ma):sb};ma.distance=function(Qb){return arguments.length?(Tb="function"===typeof Qb?Qb:Ub(+Qb),Pa(),ma):Tb};return ma},x:function(N){function ma(ib){for(var Tb=0,X=Pa.length,Fa;Tb<X;++Tb)Fa=
Pa[Tb],Fa.vx+=(sb[Tb]-Fa.x)*Xa[Tb]*ib}function ya(){if(Pa){var ib,Tb=Pa.length;Xa=Array(Tb);sb=Array(Tb);for(ib=0;ib<Tb;++ib)Xa[ib]=isNaN(sb[ib]=+N(Pa[ib],ib,Pa))?0:+Ma(Pa[ib],ib,Pa)}}var Ma=Ub(.1),Pa,Xa,sb;"function"!==typeof N&&(N=Ub(null==N?0:+N));ma.initialize=function(ib){Pa=ib;ya()};ma.strength=function(ib){return arguments.length?(Ma="function"===typeof ib?ib:Ub(+ib),ya(),ma):Ma};ma.x=function(ib){return arguments.length?(N="function"===typeof ib?ib:Ub(+ib),ya(),ma):N};return ma},y:function(N){function ma(ib){for(var Tb=
0,X=Pa.length,Fa;Tb<X;++Tb)Fa=Pa[Tb],Fa.vy+=(sb[Tb]-Fa.y)*Xa[Tb]*ib}function ya(){if(Pa){var ib,Tb=Pa.length;Xa=Array(Tb);sb=Array(Tb);for(ib=0;ib<Tb;++ib)Xa[ib]=isNaN(sb[ib]=+N(Pa[ib],ib,Pa))?0:+Ma(Pa[ib],ib,Pa)}}var Ma=Ub(.1),Pa,Xa,sb;"function"!==typeof N&&(N=Ub(null==N?0:+N));ma.initialize=function(ib){Pa=ib;ya()};ma.strength=function(ib){return arguments.length?(Ma="function"===typeof ib?ib:Ub(+ib),ya(),ma):Ma};ma.y=function(ib){return arguments.length?(N="function"===typeof ib?ib:Ub(+ib),ya(),
ma):N};return ma}},F=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],V=["static","iterations"],ta=["x","y","vx","vy"];Pb.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number","default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},
{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30,expr:!0},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",
type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number","default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":ta}]};ka.inherits(Pb,
h.Transform,{transform(N,ma){var ya=this.value,Ma=ma.changed(ma.ADD_REM),Pa=N.modified(F),Xa=N.iterations||300;ya?(Ma&&(ma.modifies("index"),ya.nodes(ma.source)),(Pa||ma.changed(ma.MOD))&&ba(ya,N,0,ma)):(this.value=ya=U(ma.source,N),ya.on("tick",db(ma.dataflow,this)),N.static||(Ma=!0,ya.tick()),ma.modifies("index"));if(Pa||Ma||N.modified(V)||ma.changed()&&N.restart)if(ya.alpha(Math.max(ya.alpha(),N.alpha||1)).alphaDecay(1-Math.pow(ya.alphaMin(),1/Xa)),N.static)for(ya.stop();0<=--Xa;)ya.tick();else if(ya.stopped()&&
ya.restart(),!Ma)return ma.StopPropagation;return this.finish(N,ma)},finish(N,ma){const ya=ma.dataflow;for(let ib=this._argops,Tb=0,X=ib.length,Fa;Tb<X;++Tb)if(Fa=ib[Tb],"forces"===Fa.name&&"link"===Fa.op._argval.force)for(var Ma=Fa.op._argops,Pa=0,Xa=Ma.length,sb;Pa<Xa;++Pa)if("links"===Ma[Pa].name&&(sb=Ma[Pa].op.source)){ya.pulse(sb,ya.changeset().reflow());break}return ma.reflow(N.modified()).modifies(ta)}});r.force=Pb})};
shadow$provide[40]=function(Db,mb,Cc,Va){(function(r,h){"object"===typeof Va&&"undefined"!==typeof Cc?h(Va,mb(29),mb(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],h):(r="undefined"!==typeof globalThis?globalThis:r||self,h(r.vega={},r.vega,r.vega))})(this,function(r,h,ka){function Ya(ra,Ab,Ta){const wb={};ra.each(Gb=>{const Nb=Gb.data;Ta(Nb)&&(wb[Ab(Nb)]=Gb)});ra.lookup=wb;return ra}function ub(ra,Ab){return ra.parent===Ab.parent?1:2}function Yb(ra,Ab){return ra+
Ab.x}function bc(ra,Ab){return Math.max(ra,Ab.y)}function Xb(ra){for(var Ab;Ab=ra.children;)ra=Ab[0];return ra}function oc(ra){for(var Ab;Ab=ra.children;)ra=Ab[Ab.length-1];return ra}function zb(ra){var Ab=0,Ta=ra.children,wb=Ta&&Ta.length;if(wb)for(;0<=--wb;)Ab+=Ta[wb].value;else Ab=1;ra.value=Ab}function Ub(ra,Ab){ra instanceof Map?(ra=[void 0,ra],void 0===Ab&&(Ab=Ea)):void 0===Ab&&(Ab=kc);ra=new rb(ra);for(var Ta,wb=[ra],Gb,Nb,Zb,jc;Ta=wb.pop();)if((Nb=Ab(Ta.data))&&(jc=(Nb=Array.from(Nb)).length))for(Ta.children=
Nb,Zb=jc-1;0<=Zb;--Zb)wb.push(Gb=Nb[Zb]=new rb(Nb[Zb])),Gb.parent=Ta,Gb.depth=Ta.depth+1;return ra.eachBefore(tb)}function kc(ra){return ra.children}function Ea(ra){return Array.isArray(ra)?ra[1]:null}function Za(ra){void 0!==ra.data.value&&(ra.value=ra.data.value);ra.data=ra.data.data}function tb(ra){var Ab=0;do ra.height=Ab;while((ra=ra.parent)&&ra.height<++Ab)}function rb(ra){this.data=ra;this.depth=this.height=0;this.parent=null}function pb(ra){if("function"!==typeof ra)throw Error();return ra}
function vb(){return 0}function gb(ra){return function(){return ra}}function ec(){let ra=1;return()=>(ra=(1664525*ra+1013904223)%4294967296)/4294967296}function sa(ra,Ab){var Ta=ra.r-Ab.r,wb=Ab.x-ra.x;ra=Ab.y-ra.y;return 0>Ta||Ta*Ta<wb*wb+ra*ra}function ia(ra,Ab){var Ta=ra.r-Ab.r+1E-9*Math.max(ra.r,Ab.r,1),wb=Ab.x-ra.x;ra=Ab.y-ra.y;return 0<Ta&&Ta*Ta>wb*wb+ra*ra}function Ba(ra,Ab){for(var Ta=0;Ta<Ab.length;++Ta)if(!ia(ra,Ab[Ta]))return!1;return!0}function Ra(ra,Ab){var Ta=ra.x,wb=ra.y;ra=ra.r;var Gb=
Ab.x,Nb=Ab.y;Ab=Ab.r;var Zb=Gb-Ta,jc=Nb-wb,Ac=Ab-ra,ld=Math.sqrt(Zb*Zb+jc*jc);return{x:(Ta+Gb+Zb/ld*Ac)/2,y:(wb+Nb+jc/ld*Ac)/2,r:(ld+ra+Ab)/2}}function Wa(ra,Ab,Ta){var wb=ra.x,Gb=ra.y;ra=ra.r;var Nb=Ab.x,Zb=Ab.y,jc=Ab.r,Ac=Ta.x,ld=Ta.y,Vc=Ta.r;Ta=wb-Nb;Ab=wb-Ac;var na=Gb-Zb,Ha=Gb-ld,fb=jc-ra,Q=Vc-ra,t=wb*wb+Gb*Gb-ra*ra;Zb=t-Nb*Nb-Zb*Zb+jc*jc;ld=t-Ac*Ac-ld*ld+Vc*Vc;Ac=Ab*na-Ta*Ha;Nb=(na*ld-Ha*Zb)/(2*Ac)-wb;na=(Ha*fb-na*Q)/Ac;Ha=(Ab*Zb-Ta*ld)/(2*Ac)-Gb;Ta=(Ta*Q-Ab*fb)/Ac;Ab=na*na+Ta*Ta-1;fb=2*(ra+
Nb*na+Ha*Ta);ra=Nb*Nb+Ha*Ha-ra*ra;ra=-(1E-6<Math.abs(Ab)?(fb+Math.sqrt(fb*fb-4*Ab*ra))/(2*Ab):ra/fb);return{x:wb+Nb+na*ra,y:Gb+Ha+Ta*ra,r:ra}}function Ia(ra,Ab,Ta){var wb=ra.x-Ab.x,Gb=ra.y-Ab.y,Nb=wb*wb+Gb*Gb;if(Nb){var Zb=Ab.r+Ta.r;Zb*=Zb;var jc=ra.r+Ta.r;jc*=jc;if(Zb>jc){var Ac=(Nb+jc-Zb)/(2*Nb);Zb=Math.sqrt(Math.max(0,jc/Nb-Ac*Ac));Ta.x=ra.x-Ac*wb-Zb*Gb;Ta.y=ra.y-Ac*Gb+Zb*wb}else Ac=(Nb+Zb-jc)/(2*Nb),Zb=Math.sqrt(Math.max(0,Zb/Nb-Ac*Ac)),Ta.x=Ab.x+Ac*wb-Zb*Gb,Ta.y=Ab.y+Ac*Gb+Zb*wb}else Ta.x=Ab.x+
Ta.r,Ta.y=Ab.y}function hb(ra,Ab){var Ta=ra.r+Ab.r-1E-6,wb=Ab.x-ra.x;ra=Ab.y-ra.y;return 0<Ta&&Ta*Ta>wb*wb+ra*ra}function ab(ra){var Ab=ra._,Ta=ra.next._,wb=Ab.r+Ta.r;ra=(Ab.x*Ta.r+Ta.x*Ab.r)/wb;Ab=(Ab.y*Ta.r+Ta.y*Ab.r)/wb;return ra*ra+Ab*Ab}function qb(ra){this._=ra;this.previous=this.next=null}function Pb(ra,Ab){if(!(wb=(ra="object"===typeof ra&&"length"in ra?ra:Array.from(ra)).length))return 0;var Ta,wb;var Gb=ra[0];Gb.x=0;Gb.y=0;if(!(1<wb))return Gb.r;var Nb=ra[1];Gb.x=-Nb.r;Nb.x=Gb.r;Nb.y=0;
if(!(2<wb))return Gb.r+Nb.r;Ia(Nb,Gb,Ta=ra[2]);Gb=new qb(Gb);Nb=new qb(Nb);Ta=new qb(Ta);Gb.next=Ta.previous=Nb;Nb.next=Gb.previous=Ta;Ta.next=Nb.previous=Gb;var Zb=3;a:for(;Zb<wb;++Zb){Ia(Gb._,Nb._,Ta=ra[Zb]);Ta=new qb(Ta);var jc=Nb.next;var Ac=Gb.previous;var ld=Nb._.r;var Vc=Gb._.r;do if(ld<=Vc){if(hb(jc._,Ta._)){Nb=jc;Gb.next=Nb;Nb.previous=Gb;--Zb;continue a}ld+=jc._.r;jc=jc.next}else{if(hb(Ac._,Ta._)){Gb=Ac;Gb.next=Nb;Nb.previous=Gb;--Zb;continue a}Vc+=Ac._.r;Ac=Ac.previous}while(jc!==Ac.next);
Ta.previous=Gb;Ta.next=Nb;Gb.next=Nb.previous=Nb=Ta;for(jc=ab(Gb);(Ta=Ta.next)!==Nb;)(Ac=ab(Ta))<jc&&(Gb=Ta,jc=Ac);Nb=Gb.next}Gb=[Nb._];for(Ta=Nb;(Ta=Ta.next)!==Nb;)Gb.push(Ta._);Nb=0;Gb=Array.from(Gb);for(Ta=Gb.length;Ta;)jc=Ab()*Ta--|0,Zb=Gb[Ta],Gb[Ta]=Gb[jc],Gb[jc]=Zb;Gb=(Ab=Gb).length;Ta=[];for(var na;Nb<Gb;)if(Zb=Ab[Nb],na&&ia(na,Zb))++Nb;else{a:if(na=Ta,Ba(Zb,na))na=[Zb];else{for(Ta=0;Ta<na.length;++Ta)if(sa(Zb,na[Ta])&&Ba(Ra(na[Ta],Zb),na)){na=[na[Ta],Zb];break a}for(Ta=0;Ta<na.length-1;++Ta)for(Nb=
Ta+1;Nb<na.length;++Nb)if(sa(Ra(na[Ta],na[Nb]),Zb)&&sa(Ra(na[Ta],Zb),na[Nb])&&sa(Ra(na[Nb],Zb),na[Ta])&&Ba(Wa(na[Ta],na[Nb],Zb),na)){na=[na[Ta],na[Nb],Zb];break a}throw Error();}a:{na=Ta=na;switch(na.length){case 1:na=na[0];na={x:na.x,y:na.y,r:na.r};break a;case 2:na=Ra(na[0],na[1]);break a;case 3:na=Wa(na[0],na[1],na[2]);break a}na=void 0}Nb=0}Ta=na;for(Zb=0;Zb<wb;++Zb)Gb=ra[Zb],Gb.x-=Ta.x,Gb.y-=Ta.y;return Ta.r}function db(ra){return Math.sqrt(ra.value)}function U(ra){return function(Ab){Ab.children||
(Ab.r=Math.max(0,+ra(Ab)||0))}}function ba(ra,Ab,Ta){return function(wb){if(Gb=wb.children){var Gb,Nb,Zb=Gb.length,jc=ra(wb)*Ab||0;if(jc)for(Nb=0;Nb<Zb;++Nb)Gb[Nb].r+=jc;var Ac=Pb(Gb,Ta);if(jc)for(Nb=0;Nb<Zb;++Nb)Gb[Nb].r-=jc;wb.r=Ac+jc}}}function ea(ra){return function(Ab){var Ta=Ab.parent;Ab.r*=ra;Ta&&(Ab.x=Ta.x+ra*Ab.x,Ab.y=Ta.y+ra*Ab.y)}}function ja(ra){ra.x0=Math.round(ra.x0);ra.y0=Math.round(ra.y0);ra.x1=Math.round(ra.x1);ra.y1=Math.round(ra.y1)}function La(ra,Ab,Ta,wb,Gb){var Nb=ra.children,
Zb=-1,jc=Nb.length;for(wb=ra.value&&(wb-Ab)/ra.value;++Zb<jc;)ra=Nb[Zb],ra.y0=Ta,ra.y1=Gb,ra.x0=Ab,ra.x1=Ab+=ra.value*wb}function oa(ra){return ra.id}function qa(ra){return ra.parentId}function l(){function ra(Gb){var Nb=Array.from(Gb),Zb=Ab,jc=Ta,Ac,ld,Vc=new Map;if(null!=wb){const da=Nb.map((Da,Oa)=>{Da=wb(Da,Oa,Gb);Da=`${Da}`;Oa=Da.length;K(Da,Oa-1)&&!K(Da,Oa-2)&&(Da=Da.slice(0,-1));return"/"===Da[0]?Da:`/${Da}`}),za=da.map(D);Zb=(new Set(da)).add("");for(fb of za)Zb.has(fb)||(Zb.add(fb),da.push(fb),
za.push(D(fb)),Nb.push(Fa));Zb=(Da,Oa)=>da[Oa];jc=(Da,Oa)=>za[Oa]}var na=0;for(Ac=Nb.length;na<Ac;++na){var Ha=Nb[na];var fb=Nb[na]=new rb(Ha);if(null!=(ld=Zb(Ha,na,Gb))&&(ld+="")){var Q=fb.id=ld;Vc.set(Q,Vc.has(Q)?X:fb)}null!=(ld=jc(Ha,na,Gb))&&(ld+="")&&(fb.parent=ld)}for(na=0;na<Ac;++na)if(fb=Nb[na],ld=fb.parent){Zb=Vc.get(ld);if(!Zb)throw Error("missing: "+ld);if(Zb===X)throw Error("ambiguous: "+ld);Zb.children?Zb.children.push(fb):Zb.children=[fb];fb.parent=Zb}else{if(t)throw Error("multiple roots");
var t=fb}if(!t)throw Error("no root");if(null!=wb){for(;t.data===Fa&&1===t.children.length;)t=t.children[0],--Ac;for(ld=Nb.length-1;0<=ld;--ld){fb=Nb[ld];if(fb.data!==Fa)break;fb.data=null}}t.parent=Tb;t.eachBefore(function(da){da.depth=da.parent.depth+1;--Ac}).eachBefore(tb);t.parent=null;if(0<Ac)throw Error("cycle");return t}var Ab=oa,Ta=qa,wb;ra.id=function(Gb){return arguments.length?(Ab=null==Gb?null:pb(Gb),ra):Ab};ra.parentId=function(Gb){return arguments.length?(Ta=null==Gb?null:pb(Gb),ra):
Ta};ra.path=function(Gb){return arguments.length?(wb=null==Gb?null:pb(Gb),ra):wb};return ra}function D(ra){let Ab=ra.length;if(2>Ab)return"";for(;1<--Ab&&!K(ra,Ab););return ra.slice(0,Ab)}function K(ra,Ab){if("/"===ra[Ab]){let Ta=0;for(;0<Ab&&"\\"===ra[--Ab];)++Ta;if(0===(Ta&1))return!0}return!1}function v(ra,Ab){return ra.parent===Ab.parent?1:2}function R(ra){var Ab=ra.children;return Ab?Ab[0]:ra.t}function A(ra){var Ab=ra.children;return Ab?Ab[Ab.length-1]:ra.t}function W(ra,Ab){this._=ra;this.A=
this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=Ab}function G(ra){ra=new W(ra,0);for(var Ab,Ta=[ra],wb,Gb,Nb;Ab=Ta.pop();)if(Gb=Ab._.children)for(Ab.children=Array(wb=Gb.length),Nb=wb-1;0<=Nb;--Nb)Ta.push(wb=Ab.children[Nb]=new W(Gb[Nb],Nb)),wb.parent=Ab;(ra.parent=new W(null,0)).children=[ra];return ra}function w(ra,Ab,Ta,wb,Gb){var Nb=ra.children,Zb=-1,jc=Nb.length;for(Gb=ra.value&&(Gb-Ta)/ra.value;++Zb<jc;)ra=Nb[Zb],ra.x0=Ab,ra.x1=wb,ra.y0=Ta,ra.y1=Ta+=
ra.value*Gb}function z(ra,Ab,Ta,wb,Gb,Nb){for(var Zb=[],jc=Ab.children,Ac,ld,Vc=Ac=0,na=jc.length,Ha,fb=Ab.value,Q,t,da,za,Da,Oa;Ac<na;){Ab=Gb-Ta;Ha=Nb-wb;do Q=jc[Vc++].value;while(!Q&&Vc<na);t=da=Q;Oa=Math.max(Ha/Ab,Ab/Ha)/(fb*ra);za=Q*Q*Oa;for(Da=Math.max(da/za,za/t);Vc<na;++Vc){Q+=ld=jc[Vc].value;ld<t&&(t=ld);ld>da&&(da=ld);za=Q*Q*Oa;za=Math.max(da/za,za/t);if(za>Da){Q-=ld;break}Da=za}Zb.push(Ac={value:Q,dice:Ab<Ha,children:jc.slice(Ac,Vc)});Ac.dice?La(Ac,Ta,wb,Gb,fb?wb+=Ha*Q/fb:Nb):w(Ac,Ta,wb,
fb?Ta+=Ab*Q/fb:Gb,Nb);fb-=Q;Ac=Vc}return Zb}function F(){function ra(Ha){Ha.x0=Ha.y0=0;Ha.x1=Gb;Ha.y1=Nb;Ha.eachBefore(Ab);Zb=[0];wb&&Ha.eachBefore(ja);return Ha}function Ab(Ha){var fb=Zb[Ha.depth],Q=Ha.x0+fb,t=Ha.y0+fb,da=Ha.x1-fb,za=Ha.y1-fb;da<Q&&(Q=da=(Q+da)/2);za<t&&(t=za=(t+za)/2);Ha.x0=Q;Ha.y0=t;Ha.x1=da;Ha.y1=za;Ha.children&&(fb=Zb[Ha.depth+1]=jc(Ha)/2,Q+=na(Ha)-fb,t+=Ac(Ha)-fb,da-=ld(Ha)-fb,za-=Vc(Ha)-fb,da<Q&&(Q=da=(Q+da)/2),za<t&&(t=za=(t+za)/2),Ta(Ha,Q,t,da,za))}var Ta=qc,wb=!1,Gb=1,Nb=
1,Zb=[0],jc=vb,Ac=vb,ld=vb,Vc=vb,na=vb;ra.round=function(Ha){return arguments.length?(wb=!!Ha,ra):wb};ra.size=function(Ha){return arguments.length?(Gb=+Ha[0],Nb=+Ha[1],ra):[Gb,Nb]};ra.tile=function(Ha){return arguments.length?(Ta=pb(Ha),ra):Ta};ra.padding=function(Ha){return arguments.length?ra.paddingInner(Ha).paddingOuter(Ha):ra.paddingInner()};ra.paddingInner=function(Ha){return arguments.length?(jc="function"===typeof Ha?Ha:gb(+Ha),ra):jc};ra.paddingOuter=function(Ha){return arguments.length?
ra.paddingTop(Ha).paddingRight(Ha).paddingBottom(Ha).paddingLeft(Ha):ra.paddingTop()};ra.paddingTop=function(Ha){return arguments.length?(Ac="function"===typeof Ha?Ha:gb(+Ha),ra):Ac};ra.paddingRight=function(Ha){return arguments.length?(ld="function"===typeof Ha?Ha:gb(+Ha),ra):ld};ra.paddingBottom=function(Ha){return arguments.length?(Vc="function"===typeof Ha?Ha:gb(+Ha),ra):Vc};ra.paddingLeft=function(Ha){return arguments.length?(na="function"===typeof Ha?Ha:gb(+Ha),ra):na};return ra}function V(ra){h.Transform.call(this,
null,ra)}function ta(){function ra(Gb,Nb){if(Nb>=Ta.length)return Gb;const Zb=Gb.length,jc=Ta[Nb++],Ac={},ld={};let Vc=-1,na,Ha,fb;for(;++Vc<Zb;)na=jc(Ha=Gb[Vc])+"",(fb=Ac[na])?fb.push(Ha):Ac[na]=[Ha];for(na in Ac)ld[na]=ra(Ac[na],Nb);return ld}function Ab(Gb,Nb){if(++Nb>Ta.length)return Gb;const Zb=[];for(const jc in Gb)Zb.push({key:jc,values:Ab(Gb[jc],Nb)});return Zb}const Ta=[],wb={entries:Gb=>Ab(ra(Gb,0),0),key:Gb=>(Ta.push(Gb),wb)};return wb}function N(ra){h.Transform.call(this,null,ra)}function ma(ra,
Ab,Ta){for(let wb,Gb=0,Nb=Ab.length;Gb<Nb;++Gb)if(wb=Ab[Gb],wb in Ta)ra[wb](Ta[wb])}function ya(ra){N.call(this,ra)}function Ma(ra){N.call(this,ra)}function Pa(ra){h.Transform.call(this,null,ra)}function Xa(ra){N.call(this,ra)}function sb(ra){h.Transform.call(this,[],ra)}function ib(ra){N.call(this,ra)}rb.prototype=Ub.prototype={constructor:rb,count:function(){return this.eachAfter(zb)},each:function(ra,Ab){let Ta=-1;for(const wb of this)ra.call(Ab,wb,++Ta,this);return this},eachAfter:function(ra,
Ab){for(var Ta,wb=[this],Gb=[],Nb,Zb,jc=-1;Ta=wb.pop();)if(Gb.push(Ta),Ta=Ta.children)for(Nb=0,Zb=Ta.length;Nb<Zb;++Nb)wb.push(Ta[Nb]);for(;Ta=Gb.pop();)ra.call(Ab,Ta,++jc,this);return this},eachBefore:function(ra,Ab){for(var Ta,wb=[this],Gb,Nb=-1;Ta=wb.pop();)if(ra.call(Ab,Ta,++Nb,this),Ta=Ta.children)for(Gb=Ta.length-1;0<=Gb;--Gb)wb.push(Ta[Gb]);return this},find:function(ra,Ab){let Ta=-1;for(const wb of this)if(ra.call(Ab,wb,++Ta,this))return wb},sum:function(ra){return this.eachAfter(function(Ab){for(var Ta=
+ra(Ab.data)||0,wb=Ab.children,Gb=wb&&wb.length;0<=--Gb;)Ta+=wb[Gb].value;Ab.value=Ta})},sort:function(ra){return this.eachBefore(function(Ab){Ab.children&&Ab.children.sort(ra)})},path:function(ra){var Ab=this;var Ta=Ab;var wb=ra;if(Ta!==wb){var Gb=Ta.ancestors(),Nb=wb.ancestors(),Zb=null;Ta=Gb.pop();for(wb=Nb.pop();Ta===wb;)Zb=Ta,Ta=Gb.pop(),wb=Nb.pop();Ta=Zb}for(wb=[Ab];Ab!==Ta;)Ab=Ab.parent,wb.push(Ab);for(Ab=wb.length;ra!==Ta;)wb.splice(Ab,0,ra),ra=ra.parent;return wb},ancestors:function(){for(var ra=
this,Ab=[ra];ra=ra.parent;)Ab.push(ra);return Ab},descendants:function(){return Array.from(this)},leaves:function(){var ra=[];this.eachBefore(function(Ab){Ab.children||ra.push(Ab)});return ra},links:function(){var ra=this,Ab=[];ra.each(function(Ta){Ta!==ra&&Ab.push({source:Ta.parent,target:Ta})});return Ab},copy:function(){return Ub(this).eachBefore(Za)},[Symbol.iterator]:function*(){var ra,Ab=[this],Ta;do{var wb=Ab.reverse();for(Ab=[];ra=wb.pop();)if(yield ra,ra=ra.children){var Gb=0;for(Ta=ra.length;Gb<
Ta;++Gb)Ab.push(ra[Gb])}}while(Ab.length)}};var Tb={depth:-1},X={},Fa={};W.prototype=Object.create(rb.prototype);var Kb=(1+Math.sqrt(5))/2,qc=function Ta(Ab){function wb(Gb,Nb,Zb,jc,Ac){z(Ab,Gb,Nb,Zb,jc,Ac)}wb.ratio=function(Gb){return Ta(1<(Gb=+Gb)?Gb:1)};return wb}(Kb);Kb=function wb(Ta){function Gb(Nb,Zb,jc,Ac,ld){if((Vc=Nb._squarify)&&Vc.ratio===Ta)for(var Vc,na,Ha,fb=-1,Q,t=Vc.length,da=Nb.value;++fb<t;){Nb=Vc[fb];na=Nb.children;Ha=Nb.value=0;for(Q=na.length;Ha<Q;++Ha)Nb.value+=na[Ha].value;
Nb.dice?La(Nb,Zb,jc,Ac,da?jc+=(ld-jc)*Nb.value/da:ld):w(Nb,Zb,jc,da?Zb+=(Ac-Zb)*Nb.value/da:Ac,ld);da-=Nb.value}else Nb._squarify=Vc=z(Ta,Nb,Zb,jc,Ac,ld),Vc.ratio=Ta}Gb.ratio=function(Nb){return wb(1<(Nb=+Nb)?Nb:1)};return Gb}(Kb);V.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const $b=Ta=>Ta.values;ka.inherits(V,h.Transform,{transform(Ta,wb){wb.source||ka.error("Nest transform requires an upstream data source.");
var Gb=Ta.generate,Nb=Ta.modified(),Zb=wb.clone(),jc=this.value;if(!jc||Nb||wb.changed())jc&&jc.each(Ac=>{Ac.children&&h.isTuple(Ac.data)&&Zb.rem.push(Ac.data)}),this.value=jc=Ub({values:ka.array(Ta.keys).reduce((Ac,ld)=>{Ac.key(ld);return Ac},ta()).entries(Zb.source)},$b),Gb&&jc.each(Ac=>{Ac.children&&(Ac=h.ingest(Ac.data),Zb.add.push(Ac),Zb.source.push(Ac))}),Ya(jc,h.tupleid,h.tupleid);Zb.source.root=jc;return Zb}});const Mb=(Ta,wb)=>Ta.parent===wb.parent?1:2;ka.inherits(N,h.Transform,{transform(Ta,
wb){wb.source&&wb.source.root||ka.error(this.constructor.name+" transform requires a backing tree data source.");const Gb=this.layout(Ta.method),Nb=this.fields,Zb=wb.source.root,jc=Ta.as||Nb;Ta.field?Zb.sum(Ta.field):Zb.count();Ta.sort&&Zb.sort(h.stableCompare(Ta.sort,Ac=>Ac.data));ma(Gb,this.params,Ta);Gb.separation&&Gb.separation(!1!==Ta.separation?Mb:ka.one);try{this.value=Gb(Zb)}catch(Ac){ka.error(Ac)}Zb.each(Ac=>{const ld=Ac.data,Vc=Nb.length-1;for(let na=0;na<Vc;++na)ld[jc[na]]=Ac[Nb[na]];ld[jc[Vc]]=
Ac.children?Ac.children.length:0});return wb.reflow(Ta.modified()).modifies(jc).modifies("leaf")}});var Qb=["x","y","r","depth","children"];ya.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Qb.length,"default":Qb}]};ka.inherits(ya,N,{layout:function(){function Ta(jc){const Ac=
ec();jc.x=Gb/2;jc.y=Nb/2;wb?jc.eachBefore(U(wb)).eachAfter(ba(Zb,.5,Ac)).eachBefore(ea(1)):jc.eachBefore(U(db)).eachAfter(ba(vb,1,Ac)).eachAfter(ba(Zb,jc.r/Math.min(Gb,Nb),Ac)).eachBefore(ea(Math.min(Gb,Nb)/(2*jc.r)));return jc}var wb=null,Gb=1,Nb=1,Zb=vb;Ta.radius=function(jc){return arguments.length?(wb=null==jc?null:pb(jc),Ta):wb};Ta.size=function(jc){return arguments.length?(Gb=+jc[0],Nb=+jc[1],Ta):[Gb,Nb]};Ta.padding=function(jc){return arguments.length?(Zb="function"===typeof jc?jc:gb(+jc),
Ta):Zb};return Ta},params:["radius","size","padding"],fields:Qb});Qb="x0 y0 x1 y1 depth children".split(" ");Ma.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Qb.length,"default":Qb}]};ka.inherits(Ma,N,{layout:function(){function Ta(Ac){var ld=Ac.height+
1;Ac.x0=Ac.y0=Zb;Ac.x1=Gb;Ac.y1=Nb/ld;Ac.eachBefore(wb(Nb,ld));jc&&Ac.eachBefore(ja);return Ac}function wb(Ac,ld){return function(Vc){Vc.children&&La(Vc,Vc.x0,Ac*(Vc.depth+1)/ld,Vc.x1,Ac*(Vc.depth+2)/ld);var na=Vc.x0,Ha=Vc.y0,fb=Vc.x1-Zb,Q=Vc.y1-Zb;fb<na&&(na=fb=(na+fb)/2);Q<Ha&&(Ha=Q=(Ha+Q)/2);Vc.x0=na;Vc.y0=Ha;Vc.x1=fb;Vc.y1=Q}}var Gb=1,Nb=1,Zb=0,jc=!1;Ta.round=function(Ac){return arguments.length?(jc=!!Ac,Ta):jc};Ta.size=function(Ac){return arguments.length?(Gb=+Ac[0],Nb=+Ac[1],Ta):[Gb,Nb]};Ta.padding=
function(Ac){return arguments.length?(Zb=+Ac,Ta):Zb};return Ta},params:["size","round","padding"],fields:Qb});Pa.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};ka.inherits(Pa,h.Transform,{transform(Ta,wb){wb.source||ka.error("Stratify transform requires an upstream data source.");let Gb=this.value;const Nb=Ta.modified(),Zb=wb.fork(wb.ALL).materialize(wb.SOURCE);wb=!Gb||Nb||wb.changed(wb.ADD_REM)||wb.modified(Ta.key.fields)||
wb.modified(Ta.parentKey.fields);Zb.source=Zb.source.slice();wb&&(Gb=Zb.source.length?Ya(l().id(Ta.key).parentId(Ta.parentKey)(Zb.source),Ta.key,ka.truthy):Ya(l()([{}]),Ta.key,Ta.key));Zb.source.root=this.value=Gb;return Zb}});const wc={tidy:function(){function Ta(Vc){var na=G(Vc);na.eachAfter(wb);na.parent.m=-na.z;na.eachBefore(Gb);if(ld)Vc.eachBefore(Nb);else{var Ha=Vc,fb=Vc,Q=Vc;Vc.eachBefore(function(Da){Da.x<Ha.x&&(Ha=Da);Da.x>fb.x&&(fb=Da);Da.depth>Q.depth&&(Q=Da)});na=Ha===fb?1:Zb(Ha,fb)/2;
var t=na-Ha.x,da=jc/(fb.x+na+t),za=Ac/(Q.depth||1);Vc.eachBefore(function(Da){Da.x=(Da.x+t)*da;Da.y=Da.depth*za})}return Vc}function wb(Vc){var na=Vc.children,Ha=Vc.parent.children,fb=Vc.i?Ha[Vc.i-1]:null;if(na){for(var Q=0,t=0,da=Vc.children,za=da.length,Da;0<=--za;)Da=da[za],Da.z+=Q,Da.m+=Q,Q+=Da.s+(t+=Da.c);na=(na[0].z+na[na.length-1].z)/2;fb?(Vc.z=fb.z+Zb(Vc._,fb._),Vc.m=Vc.z-na):Vc.z=na}else fb&&(Vc.z=fb.z+Zb(Vc._,fb._));na=Vc.parent;Ha=Vc.parent.A||Ha[0];if(fb){t=Q=Vc;da=Q.parent.children[0];
za=Q.m;Da=t.m;for(var Oa=fb.m,jb=da.m,Rb;fb=A(fb),Q=R(Q),fb&&Q;){da=R(da);t=A(t);t.a=Vc;Rb=fb.z+Oa-Q.z-za+Zb(fb._,Q._);if(0<Rb){var Eb=fb.a.parent===Vc.parent?fb.a:Ha,Ib=Vc,Bc=Rb,Dc=Bc/(Ib.i-Eb.i);Ib.c-=Dc;Ib.s+=Bc;Eb.c+=Dc;Ib.z+=Bc;Ib.m+=Bc;za+=Rb;Da+=Rb}Oa+=fb.m;za+=Q.m;jb+=da.m;Da+=t.m}fb&&!A(t)&&(t.t=fb,t.m+=Oa-Da);Q&&!R(da)&&(da.t=Q,da.m+=za-jb,Ha=Vc)}na.A=Ha}function Gb(Vc){Vc._.x=Vc.z+Vc.parent.m;Vc.m+=Vc.parent.m}function Nb(Vc){Vc.x*=jc;Vc.y=Vc.depth*Ac}var Zb=v,jc=1,Ac=1,ld=null;Ta.separation=
function(Vc){return arguments.length?(Zb=Vc,Ta):Zb};Ta.size=function(Vc){return arguments.length?(ld=!1,jc=+Vc[0],Ac=+Vc[1],Ta):ld?null:[jc,Ac]};Ta.nodeSize=function(Vc){return arguments.length?(ld=!0,jc=+Vc[0],Ac=+Vc[1],Ta):ld?[jc,Ac]:null};return Ta},cluster:function(){function Ta(jc){var Ac,ld=0;jc.eachAfter(function(Q){var t=Q.children;if(t){var da=t.reduce(Yb,0)/t.length;Q.x=da;Q.y=1+t.reduce(bc,0)}else Q.x=Ac?ld+=wb(Q,Ac):0,Q.y=0,Ac=Q});var Vc=Xb(jc),na=oc(jc),Ha=Vc.x-wb(Vc,na)/2,fb=na.x+wb(na,
Vc)/2;return jc.eachAfter(Zb?function(Q){Q.x=(Q.x-jc.x)*Gb;Q.y=(jc.y-Q.y)*Nb}:function(Q){Q.x=(Q.x-Ha)/(fb-Ha)*Gb;Q.y=(1-(jc.y?Q.y/jc.y:1))*Nb})}var wb=ub,Gb=1,Nb=1,Zb=!1;Ta.separation=function(jc){return arguments.length?(wb=jc,Ta):wb};Ta.size=function(jc){return arguments.length?(Zb=!1,Gb=+jc[0],Nb=+jc[1],Ta):Zb?null:[Gb,Nb]};Ta.nodeSize=function(jc){return arguments.length?(Zb=!0,Gb=+jc[0],Nb=+jc[1],Ta):Zb?[Gb,Nb]:null};return Ta}};Qb=["x","y","depth","children"];Xa.Definition={type:"Tree",metadata:{tree:!0,
modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:Qb.length,"default":Qb}]};ka.inherits(Xa,N,{layout(Ta){Ta=Ta||"tidy";if(ka.hasOwnProperty(wc,Ta))return wc[Ta]();ka.error("Unrecognized Tree layout method: "+Ta)},params:["size",
"nodeSize"],fields:Qb});sb.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};ka.inherits(sb,h.Transform,{transform(Ta,wb){Ta=this.value;const Gb=wb.source&&wb.source.root,Nb=wb.fork(wb.NO_SOURCE),Zb={};Gb||ka.error("TreeLinks transform requires a tree data source.");wb.changed(wb.ADD_REM)?(Nb.rem=Ta,wb.visit(wb.SOURCE,jc=>Zb[h.tupleid(jc)]=1),Gb.each(jc=>{const Ac=jc.data;(jc=jc.parent&&jc.parent.data)&&Zb[h.tupleid(Ac)]&&Zb[h.tupleid(jc)]&&Nb.add.push(h.ingest({source:jc,
target:Ac}))}),this.value=Nb.add):wb.changed(wb.MOD)&&(wb.visit(wb.MOD,jc=>Zb[h.tupleid(jc)]=1),Ta.forEach(jc=>{(Zb[h.tupleid(jc.source)]||Zb[h.tupleid(jc.target)])&&Nb.mod.push(jc)}));return Nb}});const fd={binary:function(Ta,wb,Gb,Nb,Zb){function jc(fb,Q,t,da,za,Da,Oa){if(fb>=Q-1)fb=Ac[fb],fb.x0=da,fb.y0=za,fb.x1=Da,fb.y1=Oa;else{for(var jb=Ha[fb],Rb=t/2+jb,Eb=fb+1,Ib=Q-1;Eb<Ib;){var Bc=Eb+Ib>>>1;Ha[Bc]<Rb?Eb=Bc+1:Ib=Bc}Rb-Ha[Eb-1]<Ha[Eb]-Rb&&fb+1<Eb&&--Eb;jb=Ha[Eb]-jb;Rb=t-jb;Da-da>Oa-za?(t=t?
(da*Rb+Da*jb)/t:Da,jc(fb,Eb,jb,da,za,t,Oa),jc(Eb,Q,Rb,t,za,Da,Oa)):(t=t?(za*Rb+Oa*jb)/t:Oa,jc(fb,Eb,jb,da,za,Da,t),jc(Eb,Q,Rb,da,t,Da,Oa))}}var Ac=Ta.children,ld,Vc=Ac.length,na,Ha=Array(Vc+1);for(Ha[0]=na=ld=0;ld<Vc;++ld)Ha[ld+1]=na+=Ac[ld].value;jc(0,Vc,Ta.value,wb,Gb,Nb,Zb)},dice:La,slice:w,slicedice:function(Ta,wb,Gb,Nb,Zb){(Ta.depth&1?w:La)(Ta,wb,Gb,Nb,Zb)},squarify:qc,resquarify:Kb};Kb="x0 y0 x1 y1 depth children".split(" ");ib.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",
type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number","default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",
type:"number","default":1.618033988749895},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Kb.length,"default":Kb}]};ka.inherits(ib,N,{layout(){const Ta=F();Ta.ratio=wb=>{const Gb=Ta.tile();Gb.ratio&&Ta.tile(Gb.ratio(wb))};Ta.method=wb=>{ka.hasOwnProperty(fd,wb)?Ta.tile(fd[wb]):ka.error("Unrecognized Treemap layout method: "+wb)};return Ta},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),
fields:Kb});r.nest=V;r.pack=ya;r.partition=Ma;r.stratify=Pa;r.tree=Xa;r.treelinks=sb;r.treemap=ib})};
shadow$provide[41]=function(Db,mb,Cc,Va){!function(r,h){"object"==typeof Va&&"undefined"!=typeof Cc?h(Va):"function"==typeof define&&define.amd?define(["exports"],h):h((r="undefined"!=typeof globalThis?globalThis:r||self).vega={})}(this,function(r){function h(ka,Ya){if("undefined"!=typeof document&&document.createElement){const ub=document.createElement("canvas");if(ub&&ub.getContext)return ub.width=ka,ub.height=Ya,ub}return null}r.canvas=h;r.domCanvas=h;r.image=()=>"undefined"!=typeof Image?Image:
null;Object.defineProperty(r,"__esModule",{value:!0})})};
shadow$provide[42]=function(Db,mb,Cc,Va){(function(r,h){"object"===typeof Va&&"undefined"!==typeof Cc?h(Va,mb(34),mb(41),mb(29),mb(21)):"function"===typeof define&&define.amd?define(["exports","vega-scenegraph","vega-canvas","vega-dataflow","vega-util"],h):(r="undefined"!==typeof globalThis?globalThis:r||self,h((r.vega=r.vega||{},r.vega.transforms={}),r.vega,r.vega,r.vega,r.vega))})(this,function(r,h,ka,Ya,ub){function Yb(db,U){const ba=db.bitmap();(U||[]).forEach(ea=>ba.set(db(ea.boundary[0]),db(ea.boundary[3])));
return[ba,void 0]}function bc(db,U,ba,ea,ja){const La=db.width,oa=db.height;ea=ea||ja;const qa=ka.canvas(La,oa).getContext("2d");var l=ka.canvas(La,oa).getContext("2d"),D=ea&&ka.canvas(La,oa).getContext("2d");ba.forEach(F=>Xb(qa,F,!1));Xb(l,U,!1);ea&&Xb(D,U,!0);U=new Uint32Array(qa.getImageData(0,0,La,oa).data.buffer);ba=new Uint32Array(l.getImageData(0,0,La,oa).data.buffer);D=ea&&new Uint32Array(D.getImageData(0,0,La,oa).data.buffer);l=db.bitmap();const K=ea&&db.bitmap();let v,R;let A,W,G,w;for(R=
0;R<oa;++R)for(v=0;v<La;++v){var z=R*La+v;W=U[z]&4278190080;w=ba[z]&4278190080;G=ea&&D[z]&4278190080;if(W||G||w)z=db(v),A=db(R),ja||!W&&!w||l.set(z,A),ea&&(W||G)&&K.set(z,A)}return[l,K]}function Xb(db,U,ba){if(U.length){var ea=U[0].mark.marktype;"group"===ea?U.forEach(ja=>{ja.items.forEach(La=>Xb(db,La.items,ba))}):h.Marks[ea].draw(db,{items:ba?U.map(oc):U})}}function oc(db){db=Ya.rederive(db,{});return db.stroke&&0!==db.strokeOpacity||db.fill&&0!==db.fillOpacity?Object.assign({},db,{strokeOpacity:1,
stroke:"#000",fillOpacity:0}):db}function zb(db,U){const ba=new Uint32Array(~~((db*U+32)/32));return{array:ba,get:(ea,ja)=>{ea=ja*db+ea;return ba[ea>>>5]&1<<(ea&31)},set:(ea,ja)=>{ea=ja*db+ea;ba[ea>>>5]|=1<<(ea&31)},clear:(ea,ja)=>{ea=ja*db+ea;ba[ea>>>5]&=~(1<<(ea&31))},getRange:(ea,ja,La,oa)=>{let qa,l,D;for(;oa>=ja;--oa){var K=oa*db+ea;qa=oa*db+La;l=K>>>5;D=qa>>>5;if(l===D){if(ba[l]&sa[K&31]&ia[(qa&31)+1])return!0}else{if(ba[l]&sa[K&31]||ba[D]&ia[(qa&31)+1])return!0;for(K=l+1;K<D;++K)if(ba[K])return!0}}return!1},
setRange:(ea,ja,La,oa)=>{let qa,l,D;for(;ja<=oa;++ja){var K=ja*db+ea;qa=ja*db+La;l=K>>>5;D=qa>>>5;if(l===D)ba[l]|=sa[K&31]&ia[(qa&31)+1];else for(ba[l]|=sa[K&31],ba[D]|=ia[(qa&31)+1],K=l+1;K<D;++K)ba[K]|=4294967295}},clearRange:(ea,ja,La,oa)=>{let qa,l,D;for(;ja<=oa;++ja){var K=ja*db+ea;qa=ja*db+La;l=K>>>5;D=qa>>>5;if(l===D)ba[l]&=ia[K&31]|sa[(qa&31)+1];else for(ba[l]&=ia[K&31],ba[D]&=sa[(qa&31)+1],K=l+1;K<D;++K)ba[K]&=0}},outOfBounds:(ea,ja,La,oa)=>0>ea||0>ja||oa>=U||La>=db}}function Ub(db,U,ba){const ea=
Math.max(1,Math.sqrt(db*U/1E6)),ja=~~((db+2*ba+ea)/ea),La=~~((U+2*ba+ea)/ea),oa=qa=>~~((qa+ba)/ea);oa.invert=qa=>qa*ea-ba;oa.bitmap=()=>zb(ja,La);oa.ratio=ea;oa.padding=ba;oa.width=db;oa.height=U;return oa}function kc(db,U,ba,ea,ja,La){ba/=2;return 0>db-ba||db+ba>ja||0>U-(ba=ea/2)||U+ba>La}function Ea(db,U,ba,ea,ja,La,oa,qa){ja=ja*La/(2*ea);ea=db(U-ja);U=db(U+ja);ja=db(ba-(La/=2));db=db(ba+La);return oa.outOfBounds(ea,ja,U,db)||oa.getRange(ea,ja,U,db)||qa&&qa.getRange(ea,ja,U,db)}function Za(db,U,
ba,ea){const ja=db.width,La=db.height,oa=U[0],qa=U[1],l=ea.length;return function(D){const K=D.boundary,v=D.datum.fontSize;if(0>K[2]||0>K[5]||K[0]>ja||K[3]>La)return!1;var R;let A=null!=(R=D.textWidth)?R:0,W;let G,w;let z;let F;let V,ta;for(let qc=0;qc<l;++qc){R=(ba[qc]&3)-1;W=(ba[qc]>>>2&3)-1;var N=0===R&&0===W||0>ea[qc];var ma=R&&W?Math.SQRT1_2:1;G=0>ea[qc]?-1:1;w=K[1+R]+ea[qc]*R*ma;F=K[4+W]+G*v*W/2+ea[qc]*W*ma;ma=F-v/2;z=F+v/2;var ya=db(w);V=db(ma);ta=db(z);if(!A){var Ma=ya;var Pa=V;var Xa=ta;
var sb=oa,ib=qa,Tb=N;if(sb.outOfBounds(Ma,Pa,ya,Xa)||(Tb&&ib||sb).getRange(Ma,Pa,ya,Xa))continue;else A=h.textMetrics.width(D.datum,D.datum.text)}Pa=w+G*A*R/2;w=Pa-A/2;Ma=Pa+A/2;ya=db(w);Xa=db(Ma);sb=ya;ib=Xa;Tb=V;var X=ta,Fa=oa,Kb=qa;if(!Fa.outOfBounds(sb,Tb,ib,X)&&!(N&&Kb||Fa).getRange(sb,Tb,ib,X))return D.x=R?0>R*G?Ma:w:Pa,D.y=W?0>W*G?z:ma:F,D.align=Wa[R*G+1],D.baseline=Ia[W*G+1],oa.setRange(ya,V,Xa,ta),!0}return!1}}function tb(db,U,ba,ea,ja,La,oa,qa,l,D,K){if(!db.length)return db;var v=Math.max(ea.length,
ja.length);const R=rb(ea,v);ja=pb(ja,v);const A=vb(db[0].datum);var W="group"===A&&db[0].datum.items[l].marktype;v="area"===W;const G=gb(A,W,qa,l),w=null===D||Infinity===D;W=v&&"naive"===K;let z=-1,F=-1;qa=db.map(N=>{const ma=w?h.textMetrics.width(N,N.text):void 0;z=Math.max(z,ma);F=Math.max(F,N.fontSize);return{datum:N,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:G(N),textWidth:ma}});D=null===D||Infinity===D?Math.max(z,F)+Math.max(...ea):D;U=Ub(U[0],U[1],D);if(!W){ba&&qa.sort((N,
ma)=>ba(N.datum,ma.datum));var V=!1;for(ea=0;ea<ja.length&&!V;++ea)V=5===ja[ea]||0>R[ea];db=(A&&oa||v)&&db.map(N=>N.datum);V=La.length||db?bc(U,db||[],La,V,v):Yb(U,oa&&qa)}const ta=v?ab[K](U,V,oa,l):Za(U,V,ja,R);qa.forEach(N=>N.opacity=+ta(N));return qa}function rb(db,U){const ba=new Float64Array(U),ea=db.length;for(let ja=0;ja<ea;++ja)ba[ja]=db[ja]||0;for(db=ea;db<U;++db)ba[db]=ba[ea-1];return ba}function pb(db,U){const ba=new Int8Array(U),ea=db.length;for(let ja=0;ja<ea;++ja)ba[ja]|=hb[db[ja]];
for(db=ea;db<U;++db)ba[db]=ba[ea-1];return ba}function vb(db){return db&&db.mark&&db.mark.marktype}function gb(db,U,ba,ea){const ja=La=>[La.x,La.x,La.x,La.y,La.y,La.y];return db?"line"===db||"area"===db?La=>ja(La.datum):"line"===U?La=>{La=La.datum.items[ea].items;return ja(La.length?La["start"===ba?0:La.length-1]:{x:NaN,y:NaN})}:La=>{La=La.datum.bounds;return[La.x1,(La.x1+La.x2)/2,La.x2,La.y1,(La.y1+La.y2)/2,La.y2]}:ja}function ec(db){Ya.Transform.call(this,null,db)}const sa=new Uint32Array(33),ia=
new Uint32Array(33);ia[0]=0;sa[0]=~ia[0];for(let db=1;32>=db;++db)ia[db]=ia[db-1]<<1|1,sa[db]=~ia[db];const Ba=[-1,-1,1,1],Ra=[-1,1,-1,1],Wa=["right","center","left"],Ia=["bottom","middle","top"],hb={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},ab={naive:function(db,U,ba,ea){const ja=db.width,La=db.height;return function(oa){const qa=oa.datum.datum.items[ea].items,l=qa.length,D=oa.datum.fontSize,K=h.textMetrics.width(oa.datum,oa.datum.text);
let v=0;let R,A,W,G,w;for(let F=0;F<l;++F){var z=qa[F].x;A=qa[F].y;R=void 0===qa[F].x2?z:qa[F].x2;W=void 0===qa[F].y2?A:qa[F].y2;G=(z+R)/2;w=(A+W)/2;z=Math.abs(R-z+W-A);z>=v&&(v=z,oa.x=G,oa.y=w)}G=K/2;w=D/2;z=oa.x-G;R=oa.x+G;A=oa.y-w;W=oa.y+w;oa.align="center";0>z&&R<=ja?oa.align="left":0<=z&&ja<R&&(oa.align="right");oa.baseline="middle";0>A&&W<=La?oa.baseline="top":0<=A&&La<W&&(oa.baseline="bottom");return!0}},"reduced-search":function(db,U,ba,ea){function ja(D,K,v,R,A){D=db.invert(D);K=db.invert(K);
let W=v,G=oa,w;if(!kc(D,K,R,A,La,oa)&&!Ea(db,D,K,A,R,W,qa,l)&&!Ea(db,D,K,A,R,A,qa,null)){for(;1<=G-W;)w=(W+G)/2,Ea(db,D,K,A,R,w,qa,l)?G=w:W=w;if(W>v)return[D,K,W,!0]}}const La=db.width,oa=db.height,qa=U[0],l=U[1];return function(D){const K=D.datum.datum.items[ea].items,v=K.length,R=D.datum.fontSize,A=h.textMetrics.width(D.datum,D.datum.text);let W=ba?R:0,G=!1,w=!1,z=0;let F;let V;let ta,N,ma,ya,Ma,Pa,Xa,sb;for(let Fa=0;Fa<v;++Fa){var ib=K[Fa].x;var Tb=K[Fa].y;F=void 0===K[Fa].x2?ib:K[Fa].x2;V=void 0===
K[Fa].y2?Tb:K[Fa].y2;if(ib>F){var X=ib;ib=F;F=X}Tb>V&&(X=Tb,Tb=V,V=X);N=db(ib);ya=db(F);ma=~~((N+ya)/2);Ma=db(Tb);Xa=db(V);Pa=~~((Ma+Xa)/2);for(X=ma;X>=N;--X)for(ta=Pa;ta>=Ma;--ta)(sb=ja(X,ta,W,A,R))&&([D.x,D.y,W,G]=sb);for(X=ma;X<=ya;++X)for(ta=Pa;ta<=Xa;++ta)(sb=ja(X,ta,W,A,R))&&([D.x,D.y,W,G]=sb);G||ba||(X=Math.abs(F-ib+V-Tb),ib=(ib+F)/2,Tb=(Tb+V)/2,X>=z&&!kc(ib,Tb,A,R,La,oa)&&!Ea(db,ib,Tb,R,A,R,qa,null)&&(z=X,D.x=ib,D.y=Tb,w=!0))}return G||w?(ib=A/2,Tb=R/2,qa.setRange(db(D.x-ib),db(D.y-Tb),db(D.x+
ib),db(D.y+Tb)),D.align="center",D.baseline="middle",!0):!1}},floodfill:function(db,U,ba,ea){const ja=db.width,La=db.height,oa=U[0],qa=U[1],l=db.bitmap();return function(D){const K=D.datum.datum.items[ea].items,v=K.length,R=D.datum.fontSize,A=h.textMetrics.width(D.datum,D.datum.text),W=[];let G=ba?R:0,w=!1,z=!1,F=0,V,ta,N,ma,ya,Ma;var Pa;for(let ib=0;ib<v;++ib){V=K[ib].x;N=K[ib].y;ta=void 0===K[ib].x2?V:K[ib].x2;ma=void 0===K[ib].y2?N:K[ib].y2;for(W.push([db((V+ta)/2),db((N+ma)/2)]);W.length;)if([Xa,
sb]=W.pop(),!(oa.get(Xa,sb)||qa.get(Xa,sb)||l.get(Xa,sb))){l.set(Xa,sb);for(Pa=0;4>Pa;++Pa)ya=Xa+Ba[Pa],Ma=sb+Ra[Pa],l.outOfBounds(ya,Ma,ya,Ma)||W.push([ya,Ma]);ya=db.invert(Xa);Ma=db.invert(sb);var Xa=G;var sb=La;if(!kc(ya,Ma,A,R,ja,La)&&!Ea(db,ya,Ma,R,A,Xa,oa,qa)&&!Ea(db,ya,Ma,R,A,R,oa,null)){for(;1<=sb-Xa;)Pa=(Xa+sb)/2,Ea(db,ya,Ma,R,A,Pa,oa,qa)?sb=Pa:Xa=Pa;Xa>G&&(D.x=ya,D.y=Ma,G=Xa,w=!0)}}w||ba||(Xa=Math.abs(ta-V+ma-N),ya=(V+ta)/2,Ma=(N+ma)/2,Xa>=F&&!kc(ya,Ma,A,R,ja,La)&&!Ea(db,ya,Ma,R,A,R,oa,
null)&&(F=Xa,D.x=ya,D.y=Ma,z=!0))}return w||z?(ya=A/2,Ma=R/2,oa.setRange(db(D.x-ya),db(D.y-Ma),db(D.x+ya),db(D.y+Ma)),D.align="center",D.baseline="middle",!0):!1}}},qb=["x","y","opacity","align","baseline"],Pb="top-left left bottom-left top bottom top-right right bottom-right".split(" ");ec.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:Pb},{name:"offset",type:"number",
array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:qb.length,default:qb}]};ub.inherits(ec,Ya.Transform,{transform(db,U){function ba(La){La=db[La];return ub.isFunction(La)&&U.modified(La.fields)}
const ea=db.modified();if(ea||U.changed(U.ADD_REM)||ba("sort")){db.size&&2===db.size.length||ub.error("Size parameter should be specified as a [width, height] array.");var ja=db.as||qb;tb(U.materialize(U.SOURCE).source||[],db.size,db.sort,ub.array(null==db.offset?1:db.offset),ub.array(db.anchor||Pb),db.avoidMarks||[],!1!==db.avoidBaseMark,db.lineAnchor||"end",db.markIndex||0,void 0===db.padding?0:db.padding,db.method||"naive").forEach(La=>{const oa=La.datum;oa[ja[0]]=La.x;oa[ja[1]]=La.y;oa[ja[2]]=
La.opacity;oa[ja[3]]=La.align;oa[ja[4]]=La.baseline});return U.reflow(ea).modifies(ja)}}});r.label=ec})};
shadow$provide[43]=function(Db,mb,Cc,Va){(function(r,h){"object"===typeof Va&&"undefined"!==typeof Cc?h(Va,mb(30),mb(29),mb(21)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],h):(r="undefined"!==typeof globalThis?globalThis:r||self,h(r.vega={},r.vega,r.vega,r.vega))})(this,function(r,h,ka,Ya){function ub(oc,zb){var Ub=[],kc=function(gb){return gb(rb)},Ea;if(null==zb)Ub.push(oc);else{var Za={};var tb=0;for(Ea=oc.length;tb<Ea;++tb){var rb=oc[tb];
var pb=zb.map(kc);var vb=Za[pb];vb||(Za[pb]=vb=[],vb.dims=pb,Ub.push(vb));vb.push(rb)}}return Ub}function Yb(oc){ka.Transform.call(this,null,oc)}function bc(oc){ka.Transform.call(this,null,oc)}Yb.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};Ya.inherits(Yb,ka.Transform,{transform(oc,zb){const Ub=
zb.fork(zb.NO_SOURCE|zb.NO_FIELDS);if(!this.value||zb.changed()||oc.modified()){zb=zb.materialize(zb.SOURCE).source;zb=ub(zb,oc.groupby);const kc=(oc.groupby||[]).map(Ya.accessorName),Ea=kc.length,Za=oc.as||[Ya.accessorName(oc.x),Ya.accessorName(oc.y)],tb=[];zb.forEach(rb=>{h.regressionLoess(rb,oc.x,oc.y,oc.bandwidth||.3).forEach(pb=>{const vb={};for(let gb=0;gb<Ea;++gb)vb[kc[gb]]=rb.dims[gb];vb[Za[0]]=pb[0];vb[Za[1]]=pb[1];tb.push(ka.ingest(vb))})});this.value&&(Ub.rem=this.value);this.value=Ub.add=
Ub.source=tb}return Ub}});const Xb={constant:h.regressionConstant,linear:h.regressionLinear,log:h.regressionLog,exp:h.regressionExp,pow:h.regressionPow,quad:h.regressionQuad,poly:h.regressionPoly};bc.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(Xb)},{name:"order",type:"number","default":3},{name:"extent",
type:"number",array:!0,length:2},{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};Ya.inherits(bc,ka.Transform,{transform(oc,zb){const Ub=zb.fork(zb.NO_SOURCE|zb.NO_FIELDS);if(!this.value||zb.changed()||oc.modified()){var kc=zb.materialize(zb.SOURCE).source;kc=ub(kc,oc.groupby);const Ea=(oc.groupby||[]).map(Ya.accessorName),Za=oc.method||"linear",tb=null==oc.order?3:oc.order,rb="poly"===Za?tb:"quad"===Za?2:1,pb=oc.as||[Ya.accessorName(oc.x),Ya.accessorName(oc.y)],vb=
Xb[Za],gb=[];let ec=oc.extent;Ya.hasOwnProperty(Xb,Za)||Ya.error("Invalid regression method: "+Za);null!=ec&&"log"===Za&&0>=ec[0]&&(zb.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),ec=null);kc.forEach(sa=>{if(sa.length<=rb)zb.dataflow.warn("Skipping regression with more parameters than data points.");else{var ia=vb(sa,oc.x,oc.y,tb);if(oc.params)gb.push(ka.ingest({keys:sa.dims,coef:ia.coef,rSquared:ia.rSquared}));else{var Ba=ec||Ya.extent(sa,oc.x),Ra=Wa=>{const Ia={};
for(let hb=0;hb<Ea.length;++hb)Ia[Ea[hb]]=sa.dims[hb];Ia[pb[0]]=Wa[0];Ia[pb[1]]=Wa[1];gb.push(ka.ingest(Ia))};"linear"===Za||"constant"===Za?Ba.forEach(Wa=>Ra([Wa,ia.predict(Wa)])):h.sampleCurve(ia.predict,Ba,25,200).forEach(Ra)}}});this.value&&(Ub.rem=this.value);this.value=Ub.add=Ub.source=gb}return Ub}});r.loess=Yb;r.regression=bc})};
shadow$provide[44]=function(Db,mb,Cc,Va){(function(r,h){"object"===typeof Va&&"undefined"!==typeof Cc?h(Va,mb(29),mb(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],h):(r="undefined"!==typeof globalThis?globalThis:r||self,h((r.vega=r.vega||{},r.vega.transforms={}),r.vega,r.vega))})(this,function(r,h,ka){function Ya(U,ba,ea,ja,La){let oa,qa;let l=ba[0],D=ja[0],K=0,v=0;D>l===D>-l?(oa=l,l=ba[++K]):(oa=D,D=ja[++v]);let R=0;if(K<U&&v<ea){if(D>l===D>-l){qa=l+oa;
var A=oa-(qa-l);l=ba[++K]}else qa=D+oa,A=oa-(qa-D),D=ja[++v];oa=qa;for(0!==A&&(La[R++]=A);K<U&&v<ea;)D>l===D>-l?(qa=oa+l,A=qa-oa,A=oa-(qa-A)+(l-A),l=ba[++K]):(qa=oa+D,A=qa-oa,A=oa-(qa-A)+(D-A),D=ja[++v]),oa=qa,0!==A&&(La[R++]=A)}for(;K<U;)qa=oa+l,A=qa-oa,A=oa-(qa-A)+(l-A),l=ba[++K],oa=qa,0!==A&&(La[R++]=A);for(;v<ea;)qa=oa+D,A=qa-oa,A=oa-(qa-A)+(D-A),D=ja[++v],oa=qa,0!==A&&(La[R++]=A);if(0!==oa||0===R)La[R++]=oa;return R}function ub(U,ba,ea,ja,La,oa){var qa=(ba-oa)*(ea-La),l=(U-La)*(ja-oa),D=qa-l;
if(0===qa||0===l||0<qa!==0<l)return D;qa=Math.abs(qa+l);if(Math.abs(D)>=3.3306690738754716E-16*qa)return D;{let w;D=U-La;const z=ea-La;l=ba-oa;const F=ja-oa;var K=D*F;var v=134217729*D;var R=v-(v-D);var A=D-R;v=134217729*F;v-=v-F;w=F-v;var W=A*w-(K-R*v-A*v-R*w);var G=l*z;v=134217729*l;R=v-(v-l);A=l-R;v=134217729*z;v-=v-z;w=z-v;v=A*w-(G-R*v-A*v-R*w);A=W-v;R=W-A;pb[0]=W-(A+R)+(R-v);W=K+A;R=W-K;K=K-(W-R)+(A-R);A=K-G;R=K-A;pb[1]=K-(A+R)+(R-G);G=W+A;R=G-W;pb[2]=W-(G-R)+(A-R);pb[3]=G;G=pb[0];for(K=1;4>
K;K++)G+=pb[K];K=2.2204460492503146E-16*qa;G>=K||-G>=K?ja=G:(R=U-D,U=U-(D+R)+(R-La),R=ea-z,ea=ea-(z+R)+(R-La),R=ba-l,ba=ba-(l+R)+(R-oa),R=ja-F,ja=ja-(F+R)+(R-oa),0===U&&0===ba&&0===ea&&0===ja?ja=G:(K=1.1093356479670487E-31*qa+3.3306690738754706E-16*Math.abs(G),G+=D*ja+F*U-(l*ea+z*ba),G>=K||-G>=K?ja=G:(K=U*F,v=134217729*U,R=v-(v-U),A=U-R,v=134217729*F,v-=v-F,w=F-v,W=A*w-(K-R*v-A*v-R*w),G=ba*z,v=134217729*ba,R=v-(v-ba),A=ba-R,v=134217729*z,v-=v-z,w=z-v,v=A*w-(G-R*v-A*v-R*w),A=W-v,R=W-A,sa[0]=W-(A+R)+
(R-v),W=K+A,R=W-K,K=K-(W-R)+(A-R),A=K-G,R=K-A,sa[1]=K-(A+R)+(R-G),G=W+A,R=G-W,sa[2]=W-(G-R)+(A-R),sa[3]=G,oa=Ya(4,pb,4,sa,vb),K=D*ja,v=134217729*D,R=v-(v-D),A=D-R,v=134217729*ja,v-=v-ja,w=ja-v,W=A*w-(K-R*v-A*v-R*w),G=l*ea,v=134217729*l,R=v-(v-l),A=l-R,v=134217729*ea,v-=v-ea,w=ea-v,v=A*w-(G-R*v-A*v-R*w),A=W-v,R=W-A,sa[0]=W-(A+R)+(R-v),W=K+A,R=W-K,K=K-(W-R)+(A-R),A=K-G,R=K-A,sa[1]=K-(A+R)+(R-G),G=W+A,R=G-W,sa[2]=W-(G-R)+(A-R),sa[3]=G,oa=Ya(oa,vb,4,sa,gb),K=U*ja,v=134217729*U,R=v-(v-U),A=U-R,v=134217729*
ja,v-=v-ja,w=ja-v,W=A*w-(K-R*v-A*v-R*w),G=ba*ea,v=134217729*ba,R=v-(v-ba),A=ba-R,v=134217729*ea,v-=v-ea,w=ea-v,v=A*w-(G-R*v-A*v-R*w),A=W-v,R=W-A,sa[0]=W-(A+R)+(R-v),W=K+A,R=W-K,K=K-(W-R)+(A-R),A=K-G,R=K-A,sa[1]=K-(A+R)+(R-G),G=W+A,R=G-W,sa[2]=W-(G-R)+(A-R),sa[3]=G,ja=Ya(oa,gb,4,sa,ec),ja=ec[ja-1])))}return-ja}function Yb(U,ba,ea,ja){U-=ea;ba-=ja;return U*U+ba*ba}function bc(U,ba,ea,ja){if(20>=ja-ea)for(var La=ea+1;La<=ja;La++){for(var oa=U[La],qa=ba[oa],l=La-1;l>=ea&&ba[U[l]]>qa;)U[l+1]=U[l--];U[l+
1]=oa}else{La=ea+1;oa=ja;Xb(U,ea+ja>>1,La);ba[U[ea]]>ba[U[ja]]&&Xb(U,ea,ja);ba[U[La]]>ba[U[ja]]&&Xb(U,La,ja);ba[U[ea]]>ba[U[La]]&&Xb(U,ea,La);qa=U[La];for(l=ba[qa];;){do La++;while(ba[U[La]]<l);do oa--;while(ba[U[oa]]>l);if(oa<La)break;Xb(U,La,oa)}U[ea+1]=U[oa];U[oa]=qa;ja-La+1>=oa-ea?(bc(U,ba,La,ja),bc(U,ba,ea,oa-1)):(bc(U,ba,ea,oa-1),bc(U,ba,La,ja))}}function Xb(U,ba,ea){const ja=U[ba];U[ba]=U[ea];U[ea]=ja}function oc(U){return U[0]}function zb(U){return U[1]}function Ub(U){return U[0]}function kc(U){return U[1]}
function Ea(U){const {triangles:ba,coords:ea}=U;for(U=0;U<ba.length;U+=3){const ja=2*ba[U],La=2*ba[U+1],oa=2*ba[U+2];if(1E-10<(ea[oa]-ea[ja])*(ea[La+1]-ea[ja+1])-(ea[La]-ea[ja])*(ea[oa+1]-ea[ja+1]))return!1}return!0}function Za(U,ba,ea){return[U+Math.sin(U+ba)*ea,ba+Math.cos(U-ba)*ea]}function*tb(U,ba,ea,ja){let La=0;for(const oa of U)yield ba.call(ja,oa,La,U),yield ea.call(ja,oa,La,U),++La}function rb(U){h.Transform.call(this,null,U)}const pb=new Float64Array(4),vb=new Float64Array(8),gb=new Float64Array(12),
ec=new Float64Array(16),sa=new Float64Array(4),ia=Math.pow(2,-52),Ba=new Uint32Array(512);class Ra{static from(U,ba=oc,ea=zb){const ja=U.length,La=new Float64Array(2*ja);for(let oa=0;oa<ja;oa++){const qa=U[oa];La[2*oa]=ba(qa);La[2*oa+1]=ea(qa)}return new Ra(La)}constructor(U){const ba=U.length>>1;if(0<ba&&"number"!==typeof U[0])throw Error("Expected coords to contain numbers.");this.coords=U;U=Math.max(2*ba-5,0);this._triangles=new Uint32Array(3*U);this._halfedges=new Int32Array(3*U);this._hashSize=
Math.ceil(Math.sqrt(ba));this._hullPrev=new Uint32Array(ba);this._hullNext=new Uint32Array(ba);this._hullTri=new Uint32Array(ba);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(ba);this._dists=new Float64Array(ba);this.update()}update(){const {coords:U,_hullPrev:ba,_hullNext:ea,_hullTri:ja,_hullHash:La}=this;var oa=U.length>>1,qa=Infinity,l=Infinity,D=-Infinity,K=-Infinity;for(var v=0;v<oa;v++){var R=U[2*v];var A=U[2*v+1];R<qa&&(qa=R);A<l&&(l=A);R>D&&(D=R);A>K&&
(K=A);this._ids[v]=v}D=(qa+D)/2;l=(l+K)/2;qa=Infinity;for(K=0;K<oa;K++)if(v=Yb(D,l,U[2*K],U[2*K+1]),v<qa){var W=K;qa=v}l=U[2*W];K=U[2*W+1];qa=Infinity;for(D=0;D<oa;D++)if(D!==W&&(v=Yb(l,K,U[2*D],U[2*D+1]),v<qa&&0<v)){var G=D;qa=v}qa=U[2*G];D=U[2*G+1];A=Infinity;for(v=0;v<oa;v++)if(v!==W&&v!==G){R=qa-l;var w=D-K;var z=U[2*v]-l;var F=U[2*v+1]-K,V=R*R+w*w,ta=z*z+F*F,N=.5/(R*F-w*z);w=(F*V-w*ta)*N;R=(R*ta-z*V)*N;R=w*w+R*R;if(R<A){var ma=v;A=R}}v=U[2*ma];R=U[2*ma+1];if(Infinity===A){for(W=0;W<oa;W++)this._dists[W]=
U[2*W]-U[0]||U[2*W+1]-U[1];bc(this._ids,this._dists,0,oa-1);W=new Uint32Array(oa);G=0;for(let ya=0,Ma=-Infinity;ya<oa;ya++)ma=this._ids[ya],this._dists[ma]>Ma&&(W[G++]=ma,Ma=this._dists[ma]);this.hull=W.subarray(0,G);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{0>ub(l,K,qa,D,v,R)&&(A=G,z=qa,V=D,G=ma,qa=v,D=R,ma=A,v=z,R=V);z=qa-l;A=D-K;V=v-l;F=R-K;ta=z*z+A*A;N=V*V+F*F;w=.5/(z*F-A*V);A=l+(F*ta-A*N)*w;z=K+(z*N-V*ta)*w;this._cx=A;this._cy=z;for(V=0;V<oa;V++)this._dists[V]=
Yb(U[2*V],U[2*V+1],A,z);bc(this._ids,this._dists,0,oa-1);this._hullStart=W;oa=3;ea[W]=ba[ma]=G;ea[G]=ba[W]=ma;ea[ma]=ba[G]=W;ja[W]=0;ja[G]=1;ja[ma]=2;La.fill(-1);La[this._hashKey(l,K)]=W;La[this._hashKey(qa,D)]=G;La[this._hashKey(v,R)]=ma;this.trianglesLen=0;this._addTriangle(W,G,ma,-1,-1,-1);for(let ya=0,Ma,Pa;ya<this._ids.length;ya++){l=this._ids[ya];K=U[2*l];qa=U[2*l+1];if(0<ya&&Math.abs(K-Ma)<=ia&&Math.abs(qa-Pa)<=ia)continue;Ma=K;Pa=qa;if(l===W||l===G||l===ma)continue;D=0;for(let sb=0,ib=this._hashKey(K,
qa);sb<this._hashSize&&(D=La[(ib+sb)%this._hashSize],-1===D||D===ea[D]);sb++);v=D=ba[D];let Xa;for(;Xa=ea[v],0<=ub(K,qa,U[2*v],U[2*v+1],U[2*Xa],U[2*Xa+1]);)if(v=Xa,v===D){v=-1;break}if(-1!==v){R=this._addTriangle(v,l,ea[v],-1,-1,ja[v]);ja[l]=this._legalize(R+2);ja[v]=R;oa++;for(A=ea[v];Xa=ea[A],0>ub(K,qa,U[2*A],U[2*A+1],U[2*Xa],U[2*Xa+1]);)R=this._addTriangle(A,l,Xa,ja[l],-1,ja[A]),ja[l]=this._legalize(R+2),ea[A]=A,oa--,A=Xa;if(v===D)for(;Xa=ba[v],0>ub(K,qa,U[2*Xa],U[2*Xa+1],U[2*v],U[2*v+1]);)R=this._addTriangle(Xa,
l,v,-1,ja[v],ja[Xa]),this._legalize(R+2),ja[Xa]=R,ea[v]=v,oa--,v=Xa;this._hullStart=ba[l]=v;ea[v]=ba[A]=l;ea[l]=A;La[this._hashKey(K,qa)]=l;La[this._hashKey(U[2*v],U[2*v+1])]=v}}this.hull=new Uint32Array(oa);for(let ya=0,Ma=this._hullStart;ya<oa;ya++)this.hull[ya]=Ma,Ma=ea[Ma];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(U,ba){var ea=Math;U-=this._cx;ba-=this._cy;U/=Math.abs(U)+Math.abs(ba);return ea.floor.call(ea,
(0<ba?3-U:1+U)/4*this._hashSize)%this._hashSize}_legalize(U){const {_triangles:ba,_halfedges:ea,coords:ja}=this;let La=0;for(var oa;;){const A=ea[U];var qa=U-U%3;oa=qa+(U+2)%3;if(-1===A){if(0===La)break;U=Ba[--La];continue}const W=A-A%3,G=W+(A+2)%3;var l=ba[oa],D=ba[U],K=ba[qa+(U+1)%3];qa=ba[G];var v=ja[2*qa],R=ja[2*qa+1];const w=ja[2*l]-v,z=ja[2*l+1]-R,F=ja[2*D]-v;D=ja[2*D+1]-R;v=ja[2*K]-v;R=ja[2*K+1]-R;K=F*F+D*D;const V=v*v+R*R;if(0>w*(D*V-K*R)-z*(F*V-K*v)+(w*w+z*z)*(F*R-D*v)){ba[U]=qa;ba[A]=l;
l=ea[G];if(-1===l){qa=this._hullStart;do{if(this._hullTri[qa]===G){this._hullTri[qa]=U;break}qa=this._hullPrev[qa]}while(qa!==this._hullStart)}this._link(U,l);this._link(A,ea[oa]);this._link(oa,G);oa=W+(A+1)%3;La<Ba.length&&(Ba[La++]=oa)}else{if(0===La)break;U=Ba[--La]}}return oa}_link(U,ba){this._halfedges[U]=ba;-1!==ba&&(this._halfedges[ba]=U)}_addTriangle(U,ba,ea,ja,La,oa){const qa=this.trianglesLen;this._triangles[qa]=U;this._triangles[qa+1]=ba;this._triangles[qa+2]=ea;this._link(qa,ja);this._link(qa+
1,La);this._link(qa+2,oa);this.trianglesLen+=3;return qa}}class Wa{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(U,ba){this._+=`M${this._x0=this._x1=+U},${this._y0=this._y1=+ba}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(U,ba){this._+=`L${this._x1=+U},${this._y1=+ba}`}arc(U,ba,ea){U=+U;ba=+ba;ea=+ea;const ja=U+ea,La=ba;if(0>ea)throw Error("negative radius");if(null===this._x1)this._+=`M${ja},${La}`;else if(1E-6<Math.abs(this._x1-
ja)||1E-6<Math.abs(this._y1-La))this._+="L"+ja+","+La;ea&&(this._+=`A${ea},${ea},0,1,1,${U-ea},${ba}A${ea},${ea},0,1,1,${this._x1=ja},${this._y1=La}`)}rect(U,ba,ea,ja){this._+=`M${this._x0=this._x1=+U},${this._y0=this._y1=+ba}h${+ea}v${+ja}h${-ea}Z`}value(){return this._||null}}class Ia{constructor(){this._=[]}moveTo(U,ba){this._.push([U,ba])}closePath(){this._.push(this._[0].slice())}lineTo(U,ba){this._.push([U,ba])}value(){return this._.length?this._:null}}let hb=class{constructor(U,[ba,ea,ja,La]=
[0,0,960,500]){if(!((ja=+ja)>=(ba=+ba)&&(La=+La)>=(ea=+ea)))throw Error("invalid bounds");this.delaunay=U;this._circumcenters=new Float64Array(2*U.points.length);this.vectors=new Float64Array(2*U.points.length);this.xmax=ja;this.xmin=ba;this.ymax=La;this.ymin=ea;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const {delaunay:{points:U,hull:ba,triangles:ea},vectors:ja}=this;var La,oa=this.circumcenters=this._circumcenters.subarray(0,ea.length/3*2);for(let w=0,z=0,F=ea.length,
V,ta;w<F;w+=3,z+=2){var qa=2*ea[w],l=2*ea[w+1],D=2*ea[w+2],K=U[qa];qa=U[qa+1];var v=U[D],R=U[D+1];D=U[l]-K;const N=U[l+1]-qa;l=v-K;const ma=R-qa;var A=2*(D*ma-N*l);if(1E-9>Math.abs(A)){if(void 0===W){var W=La=0;for(var G of ba)W+=U[2*G],La+=U[2*G+1];W/=ba.length;La/=ba.length}D=1E9*Math.sign((W-K)*ma-(La-qa)*l);V=(K+v)/2-D*ma;ta=(qa+R)/2+D*l}else v=1/A,R=D*D+N*N,A=l*l+ma*ma,V=K+(ma*R-N*A)*v,ta=qa+(D*A-l*R)*v;oa[z]=V;oa[z+1]=ta}W=ba[ba.length-1];oa=4*W;G=U[2*W];D=U[2*W+1];ja.fill(0);for(l=0;l<ba.length;++l)W=
ba[l],La=oa,K=G,qa=D,oa=4*W,G=U[2*W],D=U[2*W+1],ja[La+2]=ja[oa]=qa-D,ja[La+3]=ja[oa+1]=G-K}render(U){const ba=null==U?U=new Wa:void 0,{delaunay:{halfedges:ea,inedges:ja,hull:La},circumcenters:oa,vectors:qa}=this;if(1>=La.length)return null;for(let R=0,A=ea.length;R<A;++R){var l=ea[R];if(!(l<R)){var D=2*Math.floor(R/3);l=2*Math.floor(l/3);this._renderSegment(oa[D],oa[D+1],oa[l],oa[l+1],U)}}D=La[La.length-1];for(l=0;l<La.length;++l){var K=D;D=La[l];var v=2*Math.floor(ja[D]/3);const R=oa[v];v=oa[v+1];
K*=4;(K=this._project(R,v,qa[K+2],qa[K+3]))&&this._renderSegment(R,v,K[0],K[1],U)}return ba&&ba.value()}renderBounds(U){const ba=null==U?U=new Wa:void 0;U.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return ba&&ba.value()}renderCell(U,ba){const ea=null==ba?ba=new Wa:void 0;U=this._clip(U);if(null!==U&&U.length){ba.moveTo(U[0],U[1]);for(var ja=U.length;U[0]===U[ja-2]&&U[1]===U[ja-1]&&1<ja;)ja-=2;for(let La=2;La<ja;La+=2)U[La]===U[La-2]&&U[La+1]===U[La-1]||ba.lineTo(U[La],U[La+
1]);ba.closePath();return ea&&ea.value()}}*cellPolygons(){var {delaunay:{points:U}}=this;for(let ba=0,ea=U.length/2;ba<ea;++ba)if(U=this.cellPolygon(ba))U.index=ba,yield U}cellPolygon(U){const ba=new Ia;this.renderCell(U,ba);return ba.value()}_renderSegment(U,ba,ea,ja,La){const oa=this._regioncode(U,ba),qa=this._regioncode(ea,ja);if(0===oa&&0===qa)La.moveTo(U,ba),La.lineTo(ea,ja);else if(U=this._clipSegment(U,ba,ea,ja,oa,qa))La.moveTo(U[0],U[1]),La.lineTo(U[2],U[3])}contains(U,ba,ea){return(ba=+ba,
ba!==ba)||(ea=+ea,ea!==ea)?!1:this.delaunay._step(U,ba,ea)===U}*neighbors(U){const ba=this._clip(U);if(ba)for(const ea of this.delaunay.neighbors(U))if(U=this._clip(ea))a:for(let ja=0,La=ba.length;ja<La;ja+=2)for(let oa=0,qa=U.length;oa<qa;oa+=2)if(ba[ja]===U[oa]&&ba[ja+1]===U[oa+1]&&ba[(ja+2)%La]===U[(oa+qa-2)%qa]&&ba[(ja+3)%La]===U[(oa+qa-1)%qa]){yield ea;break a}}_cell(U){const {circumcenters:ba,delaunay:{inedges:ea,halfedges:ja,triangles:La}}=this,oa=ea[U];if(-1===oa)return null;const qa=[];let l=
oa;do{const D=Math.floor(l/3);qa.push(ba[2*D],ba[2*D+1]);l=2===l%3?l-2:l+1;if(La[l]!==U)break;l=ja[l]}while(l!==oa&&-1!==l);return qa}_clip(U){if(0===U&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const ba=this._cell(U);if(null===ba)return null;const {vectors:ea}=this,ja=4*U;return this._simplify(ea[ja]||ea[ja+1]?this._clipInfinite(U,ba,ea[ja],ea[ja+1],ea[ja+2],ea[ja+3]):this._clipFinite(U,ba))}_clipFinite(U,ba){const ea=ba.length;
let ja=null;let La=ba[ea-2],oa=ba[ea-1];let qa=this._regioncode(La,oa),l=0;for(let R=0;R<ea;R+=2){var D=La;var K=oa;La=ba[R];oa=ba[R+1];var v=qa;qa=this._regioncode(La,oa);if(0===v&&0===qa)l=0,ja?ja.push(La,oa):ja=[La,oa];else{let A,W;if(0===v){if(null===(D=this._clipSegment(D,K,La,oa,v,qa)))continue;[K,v,A,W]=D}else{if(null===(D=this._clipSegment(La,oa,D,K,qa,v)))continue;[A,W,K,v]=D;D=l;l=this._edgecode(K,v);D&&l&&this._edge(U,D,l,ja,ja.length);ja?ja.push(K,v):ja=[K,v]}D=l;l=this._edgecode(A,W);
D&&l&&this._edge(U,D,l,ja,ja.length);ja?ja.push(A,W):ja=[A,W]}}if(ja)D=l,l=this._edgecode(ja[0],ja[1]),D&&l&&this._edge(U,D,l,ja,ja.length);else if(this.contains(U,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return ja}_clipSegment(U,ba,ea,ja,La,oa){const qa=La<oa;for(qa&&([U,ba,ea,ja,La,oa]=[ea,ja,U,ba,oa,La]);;){if(0===La&&0===oa)return qa?[ea,ja,U,ba]:[U,ba,ea,ja];if(La&oa)return null;var l=void 0;let D;
l=La||oa;l&8?(l=U+(ea-U)*(this.ymax-ba)/(ja-ba),D=this.ymax):l&4?(l=U+(ea-U)*(this.ymin-ba)/(ja-ba),D=this.ymin):l&2?(D=ba+(ja-ba)*(this.xmax-U)/(ea-U),l=this.xmax):(D=ba+(ja-ba)*(this.xmin-U)/(ea-U),l=this.xmin);La?(U=l,ba=D,La=this._regioncode(U,ba)):(ea=l,ja=D,oa=this._regioncode(ea,ja))}}_clipInfinite(U,ba,ea,ja,La,oa){ba=Array.from(ba);let qa;(qa=this._project(ba[0],ba[1],ea,ja))&&ba.unshift(qa[0],qa[1]);(qa=this._project(ba[ba.length-2],ba[ba.length-1],La,oa))&&ba.push(qa[0],qa[1]);if(ba=this._clipFinite(U,
ba))for(let l=0,D=ba.length,K,v=this._edgecode(ba[D-2],ba[D-1]);l<D;l+=2)K=v,v=this._edgecode(ba[l],ba[l+1]),K&&v&&(l=this._edge(U,K,v,ba,l),D=ba.length);else this.contains(U,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(ba=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return ba}_edge(U,ba,ea,ja,La){for(;ba!==ea;){let oa,qa;switch(ba){case 5:ba=4;continue;case 4:ba=6;oa=this.xmax;qa=this.ymin;break;case 6:ba=2;continue;case 2:ba=10;oa=this.xmax;qa=this.ymax;
break;case 10:ba=8;continue;case 8:ba=9;oa=this.xmin;qa=this.ymax;break;case 9:ba=1;continue;case 1:ba=5,oa=this.xmin,qa=this.ymin}ja[La]===oa&&ja[La+1]===qa||!this.contains(U,oa,qa)||(ja.splice(La,0,oa,qa),La+=2)}return La}_project(U,ba,ea,ja){let La=Infinity,oa,qa,l;if(0>ja){if(ba<=this.ymin)return null;(oa=(this.ymin-ba)/ja)<La&&(l=this.ymin,qa=U+(La=oa)*ea)}else if(0<ja){if(ba>=this.ymax)return null;(oa=(this.ymax-ba)/ja)<La&&(l=this.ymax,qa=U+(La=oa)*ea)}if(0<ea){if(U>=this.xmax)return null;
(oa=(this.xmax-U)/ea)<La&&(qa=this.xmax,l=ba+oa*ja)}else if(0>ea){if(U<=this.xmin)return null;(oa=(this.xmin-U)/ea)<La&&(qa=this.xmin,l=ba+oa*ja)}return[qa,l]}_edgecode(U,ba){return(U===this.xmin?1:U===this.xmax?2:0)|(ba===this.ymin?4:ba===this.ymax?8:0)}_regioncode(U,ba){return(U<this.xmin?1:U>this.xmax?2:0)|(ba<this.ymin?4:ba>this.ymax?8:0)}_simplify(U){if(U&&4<U.length){for(let ba=0;ba<U.length;ba+=2){const ea=(ba+2)%U.length,ja=(ba+4)%U.length;if(U[ba]===U[ea]&&U[ea]===U[ja]||U[ba+1]===U[ea+1]&&
U[ea+1]===U[ja+1])U.splice(ea,2),ba-=2}U.length||(U=null)}return U}};const ab=2*Math.PI,qb=Math.pow;class Pb{static from(U,ba=Ub,ea=kc,ja){if("length"in U){const La=U.length,oa=new Float64Array(2*La);for(let qa=0;qa<La;++qa){const l=U[qa];oa[2*qa]=ba.call(ja,l,qa,U);oa[2*qa+1]=ea.call(ja,l,qa,U)}U=oa}else U=Float64Array.from(tb(U,ba,ea,ja));return new Pb(U)}constructor(U){this._delaunator=new Ra(U);this.inedges=new Int32Array(U.length/2);this._hullIndex=new Int32Array(U.length/2);this.points=this._delaunator.coords;
this._init()}update(){this._delaunator.update();this._init();return this}_init(){var U=this._delaunator;const ba=this.points;if(U.hull&&2<U.hull.length&&Ea(U)){this.collinear=Int32Array.from({length:ba.length/2},(qa,l)=>l).sort((qa,l)=>ba[2*qa]-ba[2*l]||ba[2*qa+1]-ba[2*l+1]);U=this.collinear[0];var ea=this.collinear[this.collinear.length-1];U=[ba[2*U],ba[2*U+1],ba[2*ea],ba[2*ea+1]];U=1E-8*Math.hypot(U[3]-U[1],U[2]-U[0]);for(let qa=0,l=ba.length/2;qa<l;++qa)ea=Za(ba[2*qa],ba[2*qa+1],U),ba[2*qa]=ea[0],
ba[2*qa+1]=ea[1];this._delaunator=new Ra(ba)}else delete this.collinear;U=this.halfedges=this._delaunator.halfedges;ea=this.hull=this._delaunator.hull;const ja=this.triangles=this._delaunator.triangles,La=this.inedges.fill(-1),oa=this._hullIndex.fill(-1);for(let qa=0,l=U.length;qa<l;++qa){const D=ja[2===qa%3?qa-2:qa+1];if(-1===U[qa]||-1===La[D])La[D]=qa}for(let qa=0,l=ea.length;qa<l;++qa)oa[ea[qa]]=qa;2>=ea.length&&0<ea.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),
this.triangles[0]=ea[0],La[ea[0]]=1,2===ea.length&&(La[ea[1]]=0,this.triangles[1]=ea[1],this.triangles[2]=ea[1]))}voronoi(U){return new hb(this,U)}*neighbors(U){const {inedges:ba,hull:ea,_hullIndex:ja,halfedges:La,triangles:oa,collinear:qa}=this;if(qa){var l=qa.indexOf(U);0<l&&(yield qa[l-1]);l<qa.length-1&&(yield qa[l+1])}else{var D=ba[U];if(-1!==D){var K=D;do{yield(l=oa[K]);K=2===K%3?K-2:K+1;if(oa[K]!==U)break;K=La[K];if(-1===K){U=ea[(ja[U]+1)%ea.length];U!==l&&(yield U);break}}while(K!==D)}}}find(U,
ba,ea=0){if((U=+U,U!==U)||(ba=+ba,ba!==ba))return-1;const ja=ea;let La;for(;0<=(La=this._step(ea,U,ba))&&La!==ea&&La!==ja;)ea=La;return La}_step(U,ba,ea){const {inedges:ja,hull:La,_hullIndex:oa,halfedges:qa,triangles:l,points:D}=this;if(-1===ja[U]||!D.length)return(U+1)%(D.length>>1);let K=U,v=qb(ba-D[2*U],2)+qb(ea-D[2*U+1],2);const R=ja[U];let A=R;do{let W=l[A];const G=qb(ba-D[2*W],2)+qb(ea-D[2*W+1],2);G<v&&(v=G,K=W);A=2===A%3?A-2:A+1;if(l[A]!==U)break;A=qa[A];if(-1===A){A=La[(oa[U]+1)%La.length];
if(A!==W&&qb(ba-D[2*A],2)+qb(ea-D[2*A+1],2)<v)return A;break}}while(A!==R);return K}render(U){const ba=null==U?U=new Wa:void 0,{points:ea,halfedges:ja,triangles:La}=this;for(let qa=0,l=ja.length;qa<l;++qa){var oa=ja[qa];if(oa<qa)continue;const D=2*La[qa];oa=2*La[oa];U.moveTo(ea[D],ea[D+1]);U.lineTo(ea[oa],ea[oa+1])}this.renderHull(U);return ba&&ba.value()}renderPoints(U,ba){void 0!==ba||U&&"function"===typeof U.moveTo||(ba=U,U=null);ba=void 0==ba?2:+ba;const ea=null==U?U=new Wa:void 0,{points:ja}=
this;for(let La=0,oa=ja.length;La<oa;La+=2){const qa=ja[La],l=ja[La+1];U.moveTo(qa+ba,l);U.arc(qa,l,ba,0,ab)}return ea&&ea.value()}renderHull(U){const ba=null==U?U=new Wa:void 0,{hull:ea,points:ja}=this;var La=2*ea[0];const oa=ea.length;U.moveTo(ja[La],ja[La+1]);for(La=1;La<oa;++La){const qa=2*ea[La];U.lineTo(ja[qa],ja[qa+1])}U.closePath();return ba&&ba.value()}hullPolygon(){const U=new Ia;this.renderHull(U);return U.value()}renderTriangle(U,ba){const ea=null==ba?ba=new Wa:void 0,{points:ja,triangles:La}=
this,oa=2*La[U*=3],qa=2*La[U+1];U=2*La[U+2];ba.moveTo(ja[oa],ja[oa+1]);ba.lineTo(ja[qa],ja[qa+1]);ba.lineTo(ja[U],ja[U+1]);ba.closePath();return ea&&ea.value()}*trianglePolygons(){const {triangles:U}=this;for(let ba=0,ea=U.length/3;ba<ea;++ba)yield this.trianglePolygon(ba)}trianglePolygon(U){const ba=new Ia;this.renderTriangle(U,ba);return ba.value()}}rb.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",
array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string","default":"path"}]};const db=[-1E5,-1E5,1E5,1E5];ka.inherits(rb,h.Transform,{transform(U,ba){const ea=U.as||"path",ja=ba.source;if(!ja||!ja.length)return ba;var La=U.size;La=La?[0,0,La[0],La[1]]:(La=U.extent)?[La[0][0],La[0][1],La[1][0],La[1][1]]:db;La=this.value=Pb.from(ja,U.x,U.y).voronoi(La);for(let l=0,D=ja.length;l<D;++l){var oa=
La.cellPolygon(l),qa=ja[l];if(!oa||2===oa.length&&oa[0][0]===oa[1][0]&&oa[0][1]===oa[1][1])oa=null;else{const K=oa[0][0],v=oa[0][1];let R=oa.length-1;for(;oa[R][0]===K&&oa[R][1]===v;--R);oa="M"+oa.slice(0,R+1).join("L")+"Z"}qa[ea]=oa}return ba.reflow(U.modified()).modifies(ea)}});r.voronoi=rb})};
shadow$provide[45]=function(Db,mb,Cc,Va){(function(r,h){"object"===typeof Va&&"undefined"!==typeof Cc?h(Va,mb(32),mb(29),mb(21),mb(33),mb(30)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),h):(r="undefined"!==typeof globalThis?globalThis:r||self,h((r.vega=r.vega||{},r.vega.transforms={}),r.vega,r.vega,r.vega,r.vega,r.vega))})(this,function(r,h,ka,Ya,ub,Yb){function bc(){function vb(U){U.width=U.height=1;var ba=Math.sqrt(U.getContext("2d").getImageData(0,
0,1,1).data.length>>2);U.width=2048/ba;U.height=2048/ba;U=U.getContext("2d");U.fillStyle=U.strokeStyle="red";U.textAlign="center";return{context:U,ratio:ba}}function gb(U,ba,ea){for(var ja=ba.x,La=ba.y,oa=Math.sqrt(ec[0]*ec[0]+ec[1]*ec[1]),qa=ab(ec),l=.5>Pb()?1:-1,D=-l,K,v;K=qa(D+=l);){v=~~K[0];K=~~K[1];if(Math.min(Math.abs(v),Math.abs(K))>=oa)break;ba.x=ja+v;ba.y=La+K;if(!(0>ba.x+ba.x0||0>ba.y+ba.y0||ba.x+ba.x1>ec[0]||ba.y+ba.y1>ec[1])){if(!(v=!ea)){a:{v=ec[0];v>>=5;K=ba.sprite;var R=ba.width>>5;
var A=ba.x-(R<<4);for(var W=A&127,G=32-W,w=ba.y1-ba.y0,z=(ba.y+ba.y0)*v+(A>>5),F=0;F<w;F++){for(var V=A=0;V<=R;V++)if((A<<G|(V<R?(A=K[F*R+V])>>>W:0))&U[z+V]){v=!0;break a}z+=v}v=!1}v=!v}if(v&&(!ea||ba.x+ba.x1>ea[0].x&&ba.x+ba.x0<ea[1].x&&ba.y+ba.y1>ea[0].y&&ba.y+ba.y0<ea[1].y)){ea=ba.sprite;ja=ba.width>>5;La=ec[0]>>5;D=ba.x-(ja<<4);oa=D&127;qa=32-oa;l=ba.y1-ba.y0;D=(ba.y+ba.y0)*La+(D>>5);for(K=0;K<l;K++){for(R=v=0;R<=ja;R++)U[D+R]=U[D+R]|v<<qa|(R<ja?(v=ea[K*ja+R])>>>oa:0);D+=La}ba.sprite=null;return!0}}}return!1}
var ec=[256,256],sa,ia,Ba,Ra,Wa,Ia,hb,ab=zb,qb=[],Pb=Math.random,db={layout:function(){for(var U=vb(h.canvas()),ba=Ub((ec[0]>>5)*ec[1]),ea=null,ja=qb.length,La=-1,oa=[],qa=qb.map(D=>({text:sa(D),font:ia(D),style:Ra(D),weight:Wa(D),rotate:Ia(D),size:~~(Ba(D)+1E-14),padding:hb(D),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:D})).sort((D,K)=>K.size-D.size);++La<ja;){var l=qa[La];l.x=ec[0]*(Pb()+.5)>>1;l.y=ec[1]*(Pb()+.5)>>1;Xb(U,l,qa,La);l.hasText&&gb(ba,l,ea)&&(oa.push(l),ea?oc(ea,
l):ea=[{x:l.x+l.x0,y:l.y+l.y0},{x:l.x+l.x1,y:l.y+l.y1}],l.x-=ec[0]>>1,l.y-=ec[1]>>1)}return oa},words:function(U){return arguments.length?(qb=U,db):qb},size:function(U){return arguments.length?(ec=[+U[0],+U[1]],db):ec},font:function(U){return arguments.length?(ia=kc(U),db):ia},fontStyle:function(U){return arguments.length?(Ra=kc(U),db):Ra},fontWeight:function(U){return arguments.length?(Wa=kc(U),db):Wa},rotate:function(U){return arguments.length?(Ia=kc(U),db):Ia},text:function(U){return arguments.length?
(sa=kc(U),db):sa},spiral:function(U){return arguments.length?(ab=tb[U]||U,db):ab},fontSize:function(U){return arguments.length?(Ba=kc(U),db):Ba},padding:function(U){return arguments.length?(hb=kc(U),db):hb},random:function(U){return arguments.length?(Pb=U,db):Pb}};return db}function Xb(vb,gb,ec,sa){if(!gb.sprite){var ia=vb.context,Ba=vb.ratio;ia.clearRect(0,0,2048/Ba,2048/Ba);var Ra=vb=0,Wa=0,Ia=ec.length;for(--sa;++sa<Ia;){gb=ec[sa];ia.save();ia.font=gb.style+" "+gb.weight+" "+~~((gb.size+1)/Ba)+
"px "+gb.font;var hb=ia.measureText(gb.text+"m").width*Ba;var ab=gb.size<<1;if(gb.rotate){var qb=Math.sin(gb.rotate*Za),Pb=Math.cos(gb.rotate*Za),db=hb*Pb,U=hb*qb;Pb*=ab;hb=ab*qb;hb=Math.max(Math.abs(db+hb),Math.abs(db-hb))+31>>5<<5;ab=~~Math.max(Math.abs(U+Pb),Math.abs(U-Pb))}else hb=hb+31>>5<<5;ab>Wa&&(Wa=ab);2048<=vb+hb&&(vb=0,Ra+=Wa,Wa=0);if(2048<=Ra+ab)break;ia.translate((vb+(hb>>1))/Ba,(Ra+(ab>>1))/Ba);gb.rotate&&ia.rotate(gb.rotate*Za);ia.fillText(gb.text,0,0);gb.padding&&(ia.lineWidth=2*gb.padding,
ia.strokeText(gb.text,0,0));ia.restore();gb.width=hb;gb.height=ab;gb.xoff=vb;gb.yoff=Ra;gb.x1=hb>>1;gb.y1=ab>>1;gb.x0=-gb.x1;gb.y0=-gb.y1;gb.hasText=!0;vb+=hb}Ia=ia.getImageData(0,0,2048/Ba,2048/Ba).data;for(db=[];0<=--sa;)if(gb=ec[sa],gb.hasText){hb=gb.width;ia=hb>>5;ab=gb.y1-gb.y0;for(Ba=0;Ba<ab*ia;Ba++)db[Ba]=0;vb=gb.xoff;if(null==vb)break;Ra=gb.yoff;U=0;qb=-1;for(Wa=0;Wa<ab;Wa++){for(Ba=0;Ba<hb;Ba++)Pb=Ia[2048*(Ra+Wa)+(vb+Ba)<<2]?1<<31-Ba%32:0,db[ia*Wa+(Ba>>5)]|=Pb,U|=Pb;U?qb=Wa:(gb.y0++,ab--,
Wa--,Ra++)}gb.y1=gb.y0+qb;gb.sprite=db.slice(0,(gb.y1-gb.y0)*ia)}}}function oc(vb,gb){var ec=vb[0];vb=vb[1];gb.x+gb.x0<ec.x&&(ec.x=gb.x+gb.x0);gb.y+gb.y0<ec.y&&(ec.y=gb.y+gb.y0);gb.x+gb.x1>vb.x&&(vb.x=gb.x+gb.x1);gb.y+gb.y1>vb.y&&(vb.y=gb.y+gb.y1)}function zb(vb){var gb=vb[0]/vb[1];return function(ec){return[gb*(ec*=.1)*Math.cos(ec),ec*Math.sin(ec)]}}function Ub(vb){for(var gb=[],ec=-1;++ec<vb;)gb[ec]=0;return gb}function kc(vb){return"function"===typeof vb?vb:function(){return vb}}function Ea(vb){ka.Transform.call(this,
bc(),vb)}var Za=Math.PI/180,tb={archimedean:zb,rectangular:function(vb){var gb=4*vb[0]/vb[1],ec=0,sa=0;return function(ia){var Ba=0>ia?-1:1;switch(Math.sqrt(1+4*Ba*ia)-Ba&3){case 0:ec+=gb;break;case 1:sa+=4;break;case 2:ec-=gb;break;default:sa-=4}return[ec,sa]}}};const rb="x y font fontSize fontStyle fontWeight angle".split(" "),pb="text font rotate fontSize fontStyle fontWeight".split(" ");Ea.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},
{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",
array:!0,length:7,"default":rb}]};Ya.inherits(Ea,ka.Transform,{transform(vb,gb){function ec(hb){hb=vb[hb];return Ya.isFunction(hb)&&gb.modified(hb.fields)}!vb.size||vb.size[0]&&vb.size[1]||Ya.error("Wordcloud size dimensions must be non-zero.");const sa=vb.modified();if(sa||gb.changed(gb.ADD_REM)||pb.some(ec)){var ia=gb.materialize(gb.SOURCE).source,Ba=this.value,Ra=vb.as||rb,Wa=vb.fontSize||14,Ia;Ya.isFunction(Wa)?Ia=vb.fontSizeRange:Wa=Ya.constant(Wa);if(Ia){const hb=Wa,ab=ub.scale("sqrt")().domain(Ya.extent(ia,
hb)).range(Ia);Wa=qb=>ab(hb(qb))}ia.forEach(hb=>{hb[Ra[0]]=NaN;hb[Ra[1]]=NaN;hb[Ra[3]]=0});ia=Ba.words(ia).text(vb.text).size(vb.size||[500,500]).padding(vb.padding||1).spiral(vb.spiral||"archimedean").rotate(vb.rotate||0).font(vb.font||"sans-serif").fontStyle(vb.fontStyle||"normal").fontWeight(vb.fontWeight||"normal").fontSize(Wa).random(Yb.random).layout();Wa=Ba.size();Ba=Wa[0]>>1;Wa=Wa[1]>>1;Ia=ia.length;for(let hb=0,ab,qb;hb<Ia;++hb)ab=ia[hb],qb=ab.datum,qb[Ra[0]]=ab.x+Ba,qb[Ra[1]]=ab.y+Wa,qb[Ra[2]]=
ab.font,qb[Ra[3]]=ab.size,qb[Ra[4]]=ab.style,qb[Ra[5]]=ab.weight,qb[Ra[6]]=ab.rotate;return gb.reflow(sa).modifies(Ra)}}});r.wordcloud=Ea})};
shadow$provide[46]=function(Db,mb,Cc,Va){(function(r,h){"object"===typeof Va&&"undefined"!==typeof Cc?h(Va,mb(29),mb(21)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],h):(r="undefined"!==typeof globalThis?globalThis:r||self,h((r.vega=r.vega||{},r.vega.transforms={}),r.vega,r.vega))})(this,function(r,h,ka){function Ya(){let ia=8,Ba=[],Ra=new Uint32Array(0),Wa=ub(0,ia),Ia=ub(0,ia);return{data:()=>Ba,seen:()=>{var hb=Ra;var ab=Ba.length;hb.length>=ab||(ab=new hb.constructor(ab),
ab.set(hb),hb=ab);return Ra=hb},add(hb){for(let ab=0,qb=Ba.length,Pb=hb.length,db;ab<Pb;++ab)db=hb[ab],db._index=qb++,Ba.push(db)},remove(hb,ab){const qb=Ba.length;hb=Array(qb-hb);const Pb=Ba;let db,U,ba;for(U=0;!ab[U]&&U<qb;++U)hb[U]=Ba[U],Pb[U]=U;for(ba=U;U<qb;++U)db=Ba[U],ab[U]?Pb[U]=-1:(Pb[U]=ba,Wa[ba]=Wa[U],Ia[ba]=Ia[U],hb[ba]=db,db._index=ba++),Wa[U]=0;Ba=hb;return Pb},size:()=>Ba.length,curr:()=>Wa,prev:()=>Ia,reset:hb=>Ia[hb]=Wa[hb],all:()=>257>ia?255:65537>ia?65535:4294967295,set(hb,ab){Wa[hb]|=
ab},clear(hb,ab){Wa[hb]&=~ab},resize(hb,ab){if(hb>Wa.length||ab>ia)ia=Math.max(ab,ia),Wa=ub(hb,ia,Wa),Ia=ub(hb,ia)}}}function ub(ia,Ba,Ra){ia=(257>Ba?rb:65537>Ba?pb:vb)(ia);Ra&&ia.set(Ra);return ia}function Yb(ia,Ba,Ra){const Wa=1<<Ba;return{one:Wa,zero:~Wa,range:Ra.slice(),bisect:ia.bisect,index:ia.index,size:ia.size,onAdd(Ia,hb){var ab=this.bisect(this.range,Ia.value);Ia=Ia.index;const qb=ab[0];ab=ab[1];const Pb=Ia.length;let db;for(db=0;db<qb;++db)hb[Ia[db]]|=Wa;for(db=ab;db<Pb;++db)hb[Ia[db]]|=
Wa;return this}}}function bc(ia,Ba){return null==ia||null==Ba?NaN:ia<Ba?-1:ia>Ba?1:ia>=Ba?0:NaN}function Xb(ia,Ba){return null==ia||null==Ba?NaN:Ba<ia?-1:Ba>ia?1:Ba>=ia?0:NaN}function oc(ia){function Ba(hb,ab,qb=0,Pb=hb.length){if(qb<Pb){if(0!==Ra(ab,ab))return Pb;do{const db=qb+Pb>>>1;0>Wa(hb[db],ab)?qb=db+1:Pb=db}while(qb<Pb)}return qb}let Ra,Wa,Ia;2!==ia.length?(Ra=bc,Wa=(hb,ab)=>bc(ia(hb),ab),Ia=(hb,ab)=>ia(hb)-ab):(Ra=ia===bc||ia===Xb?ia:zb,Ia=Wa=ia);return{left:Ba,center:function(hb,ab,qb=0,
Pb=hb.length){Pb=Ba(hb,ab,qb,Pb-1);return Pb>qb&&Ia(hb[Pb-1],ab)>-Ia(hb[Pb],ab)?Pb-1:Pb},right:function(hb,ab,qb=0,Pb=hb.length){if(qb<Pb){if(0!==Ra(ab,ab))return Pb;do{const db=qb+Pb>>>1;0>=Wa(hb[db],ab)?qb=db+1:Pb=db}while(qb<Pb)}return qb}}}function zb(){return 0}function Ub(ia,Ba){return Array.from(Ba,Ra=>ia[Ra])}function kc(){let ia=new Uint32Array(0),Ba=[],Ra=0;return{insert:function(Wa,Ia,hb){if(!Ia.length)return[];const ab=Ra,qb=Ia.length,Pb=new Uint32Array(qb);let db=Array(qb);var U;for(U=
0;U<qb;++U)db[U]=Wa(Ia[U]),Pb[U]=U;db=Ea(db,Pb);if(ab){Wa=Ba;Ia=ia;Ba=Array(ab+qb);ia=new Uint32Array(ab+qb);U=db;var ba=Ba,ea=ia;let ja=0,La=0,oa;for(oa=0;ja<ab&&La<qb;++oa)Wa[ja]<U[La]?(ba[oa]=Wa[ja],ea[oa]=Ia[ja++]):(ba[oa]=U[La],ea[oa]=Pb[La++]+hb);for(;ja<ab;++ja,++oa)ba[oa]=Wa[ja],ea[oa]=Ia[ja];for(;La<qb;++La,++oa)ba[oa]=U[La],ea[oa]=Pb[La]+hb}else{if(0<hb)for(U=0;U<qb;++U)Pb[U]+=hb;Ba=db;ia=Pb}Ra=ab+qb;return{index:Pb,value:db}},remove:function(Wa,Ia){const hb=Ra;let ab,qb,Pb;for(qb=0;!Ia[ia[qb]]&&
qb<hb;++qb);for(Pb=qb;qb<hb;++qb)Ia[ab=ia[qb]]||(ia[Pb]=ab,Ba[Pb]=Ba[qb],++Pb);Ra=hb-Wa},bisect:function(Wa,Ia){let hb;Ia?hb=Ia.length:(Ia=Ba,hb=Ra);return[sa(Ia,Wa[0],0,hb),ec(Ia,Wa[1],0,hb)]},reindex:function(Wa){for(let Ia=0,hb=Ra;Ia<hb;++Ia)ia[Ia]=Wa[ia[Ia]]},index:()=>ia,size:()=>Ra}}function Ea(ia,Ba){ia.sort.call(Ba,(Ra,Wa)=>{Ra=ia[Ra];Wa=ia[Wa];return Ra<Wa?-1:Ra>Wa?1:0});return Ub(ia,Ba)}function Za(ia){h.Transform.call(this,Ya(),ia);this._dims=this._indices=null}function tb(ia){h.Transform.call(this,
null,ia)}const rb=ia=>new Uint8Array(ia),pb=ia=>new Uint16Array(ia),vb=ia=>new Uint32Array(ia),gb=oc(bc),ec=gb.right,sa=gb.left;oc(function(ia){return null===ia?NaN:+ia}).center;Za.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};ka.inherits(Za,h.Transform,{transform(ia,Ba){return this._dims?ia.modified("fields")||ia.fields.some(Ra=>Ba.modified(Ra.fields))?
this.reinit(ia,Ba):this.eval(ia,Ba):this.init(ia,Ba)},init(ia,Ba){const Ra=ia.fields,Wa=ia.query,Ia=this._indices={},hb=this._dims=[],ab=Wa.length;let qb=0;for(var Pb;qb<ab;++qb)Pb=Ra[qb].fname,Pb=Ia[Pb]||(Ia[Pb]=kc()),hb.push(Yb(Pb,qb,Wa[qb]));return this.eval(ia,Ba)},reinit(ia,Ba){const Ra=Ba.materialize().fork(),Wa=ia.fields,Ia=ia.query,hb=this._indices,ab=this._dims,qb=this.value,Pb=qb.curr(),db=qb.prev(),U=qb.all(),ba=Ra.rem=Ra.add,ea=Ra.mod,ja=Ia.length,La={};let oa;var qa;let l,D,K,v;db.set(Pb);
Ba.rem.length&&(l=this.remove(ia,Ba,Ra));Ba.add.length&&qb.add(Ba.add);if(Ba.mod.length){D={};var R=Ba.mod;K=0;for(qa=R.length;K<qa;++K)D[R[K]._index]=1}for(K=0;K<ja;++K)if(v=Wa[K],!ab[K]||ia.modified("fields",K)||Ba.modified(v.fields))qa=v.fname,(R=La[qa])||(hb[qa]=oa=kc(),La[qa]=R=oa.insert(v,Ba.source,0)),ab[K]=Yb(oa,K,Ia[K]).onAdd(R,Pb);K=0;for(qa=qb.data().length;K<qa;++K)l[K]||(db[K]!==Pb[K]?ba.push(K):D[K]&&Pb[K]!==U&&ea.push(K));qb.mask=(1<<ja)-1;return Ra},eval(ia,Ba){const Ra=Ba.materialize().fork(),
Wa=this._dims.length;let Ia=0;Ba.rem.length&&(this.remove(ia,Ba,Ra),Ia|=(1<<Wa)-1);ia.modified("query")&&!ia.modified("fields")&&(Ia|=this.update(ia,Ba,Ra));Ba.add.length&&(this.insert(ia,Ba,Ra),Ia|=(1<<Wa)-1);Ba.mod.length&&(this.modify(Ba,Ra),Ia|=(1<<Wa)-1);this.value.mask=Ia;return Ra},insert(ia,Ba,Ra){Ba=Ba.add;var Wa=this.value;const Ia=this._dims,hb=this._indices;ia=ia.fields;const ab={};Ra=Ra.add;const qb=Wa.size()+Ba.length,Pb=Ia.length;let db=Wa.size();Wa.resize(qb,Pb);Wa.add(Ba);const U=
Wa.curr(),ba=Wa.prev(),ea=Wa.all();for(Wa=0;Wa<Pb;++Wa){var ja=ia[Wa].fname;ja=ab[ja]||(ab[ja]=hb[ja].insert(ia[Wa],Ba,db));Ia[Wa].onAdd(ja,U)}for(;db<qb;++db)ba[db]=ea,U[db]!==ea&&Ra.push(db)},modify(ia,Ba){Ba=Ba.mod;var Ra=this.value;const Wa=Ra.curr();Ra=Ra.all();ia=ia.mod;let Ia,hb,ab;Ia=0;for(hb=ia.length;Ia<hb;++Ia)ab=ia[Ia]._index,Wa[ab]!==Ra&&Ba.push(ab)},remove(ia,Ba,Ra){ia=this._indices;var Wa=this.value;const Ia=Wa.curr(),hb=Wa.prev();Wa=Wa.all();const ab={};Ra=Ra.rem;const qb=Ba.rem;let Pb,
db,U,ba;Pb=0;for(db=qb.length;Pb<db;++Pb)U=qb[Pb]._index,ab[U]=1,hb[U]=ba=Ia[U],Ia[U]=Wa,ba!==Wa&&Ra.push(U);for(U in ia)ia[U].remove(db,ab);this.reindex(Ba,db,ab);return ab},reindex(ia,Ba,Ra){const Wa=this._indices,Ia=this.value;ia.runAfter(()=>{const hb=Ia.remove(Ba,Ra);for(const ab in Wa)Wa[ab].reindex(hb)})},update(ia,Ba,Ra){const Wa=this._dims,Ia=ia.query;Ba=Ba.stamp;const hb=Wa.length;let ab=0,qb,Pb;for(Pb=Ra.filters=0;Pb<hb;++Pb)ia.modified("query",Pb)&&(qb=Pb,++ab);if(1===ab)ab=Wa[qb].one,
this.incrementOne(Wa[qb],Ia[qb],Ra.add,Ra.rem);else for(ab=Pb=0;Pb<hb;++Pb)ia.modified("query",Pb)&&(ab|=Wa[Pb].one,this.incrementAll(Wa[Pb],Ia[Pb],Ba,Ra.add),Ra.rem=Ra.add);return ab},incrementAll(ia,Ba,Ra,Wa){var Ia=this.value;const hb=Ia.seen(),ab=Ia.curr();Ia=Ia.prev();const qb=ia.index();var Pb=ia.bisect(ia.range),db=ia.bisect(Ba);const U=db[0];db=db[1];const ba=Pb[0];Pb=Pb[1];const ea=ia.one;let ja,La,oa;if(U<ba)for(ja=U,La=Math.min(ba,db);ja<La;++ja)oa=qb[ja],hb[oa]!==Ra&&(Ia[oa]=ab[oa],hb[oa]=
Ra,Wa.push(oa)),ab[oa]^=ea;else if(U>ba)for(ja=ba,La=Math.min(U,Pb);ja<La;++ja)oa=qb[ja],hb[oa]!==Ra&&(Ia[oa]=ab[oa],hb[oa]=Ra,Wa.push(oa)),ab[oa]^=ea;if(db>Pb)for(ja=Math.max(U,Pb),La=db;ja<La;++ja)oa=qb[ja],hb[oa]!==Ra&&(Ia[oa]=ab[oa],hb[oa]=Ra,Wa.push(oa)),ab[oa]^=ea;else if(db<Pb)for(ja=Math.max(ba,db),La=Pb;ja<La;++ja)oa=qb[ja],hb[oa]!==Ra&&(Ia[oa]=ab[oa],hb[oa]=Ra,Wa.push(oa)),ab[oa]^=ea;ia.range=Ba.slice()},incrementOne(ia,Ba,Ra,Wa){const Ia=this.value.curr(),hb=ia.index();var ab=ia.bisect(ia.range),
qb=ia.bisect(Ba);const Pb=qb[0];qb=qb[1];const db=ab[0];ab=ab[1];const U=ia.one;let ba,ea,ja;if(Pb<db)for(ba=Pb,ea=Math.min(db,qb);ba<ea;++ba)ja=hb[ba],Ia[ja]^=U,Ra.push(ja);else if(Pb>db)for(ba=db,ea=Math.min(Pb,ab);ba<ea;++ba)ja=hb[ba],Ia[ja]^=U,Wa.push(ja);if(qb>ab)for(ba=Math.max(Pb,ab),ea=qb;ba<ea;++ba)ja=hb[ba],Ia[ja]^=U,Ra.push(ja);else if(qb<ab)for(ba=Math.max(db,qb),ea=ab;ba<ea;++ba)ja=hb[ba],Ia[ja]^=U,Wa.push(ja);ia.range=Ba.slice()}});tb.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",
type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};ka.inherits(tb,h.Transform,{transform(ia,Ba){const Ra=~(ia.ignore||0);ia=ia.filter;const Wa=ia.mask;if(0===(Wa&Ra))return Ba.StopPropagation;Ba=Ba.fork(Ba.ALL);const Ia=ia.data(),hb=ia.curr(),ab=ia.prev(),qb=Pb=>hb[Pb]&Ra?null:Ia[Pb];Ba.filter(Ba.MOD,qb);Wa&Wa-1?(Ba.filter(Ba.ADD,Pb=>{const db=hb[Pb]&
Ra;return!db&&db^ab[Pb]&Ra?Ia[Pb]:null}),Ba.filter(Ba.REM,Pb=>{const db=hb[Pb]&Ra;return!db||db^db^ab[Pb]&Ra?null:Ia[Pb]})):(Ba.filter(Ba.ADD,qb),Ba.filter(Ba.REM,Pb=>(hb[Pb]&Ra)===Wa?Ia[Pb]:null));return Ba.filter(Ba.SOURCE,Pb=>qb(Pb._index))}});r.crossfilter=Za;r.resolvefilter=tb})};
shadow$provide[47]=function(Db,mb,Cc,Va){(function(r,h){"object"===typeof Va&&"undefined"!==typeof Cc?h(Va,mb(21)):"function"===typeof define&&define.amd?define(["exports","vega-util"],h):(r="undefined"!==typeof globalThis?globalThis:r||self,h(r.vega={},r.vega))})(this,function(r,h){function ka(w){this.type=w}function Ya(w){switch(w.type){case "ArrayExpression":return w.elements;case "BinaryExpression":case "LogicalExpression":return[w.left,w.right];case "CallExpression":return[w.callee].concat(w.arguments);
case "ConditionalExpression":return[w.test,w.consequent,w.alternate];case "MemberExpression":return[w.object,w.property];case "ObjectExpression":return w.properties;case "Property":return[w.key,w.value];case "UnaryExpression":return[w.argument];default:return[]}}function ub(w,z){if(!w)throw Error("ASSERT: "+z);}function Yb(w){return 48<=w&&57>=w}function bc(w){return 0<="0123456789abcdefABCDEF".indexOf(w)}function Xb(w){return 0<="01234567".indexOf(w)}function oc(w){return 10===w||13===w||8232===
w||8233===w}function zb(w){return 36===w||95===w||65<=w&&90>=w||97<=w&&122>=w||92===w||128<=w&&v.test(String.fromCharCode(w))}function Ub(w){return 36===w||95===w||65<=w&&90>=w||97<=w&&122>=w||48<=w&&57>=w||92===w||128<=w&&R.test(String.fromCharCode(w))}function kc(){for(;l<D;){const w=qa.charCodeAt(l);if(32===w||9===w||11===w||12===w||160===w||5760<=w&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(w)||oc(w))++l;else break}}function Ea(w){var z=
0;var F="u"===w?4:2;for(w=0;w<F;++w)if(l<D&&bc(qa[l])){var V=qa[l++];z=16*z+"0123456789abcdef".indexOf(V.toLowerCase())}else Ia({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(z)}function Za(){var w=qa.charCodeAt(l++);var z=String.fromCharCode(w);92===w&&(117!==qa.charCodeAt(l)&&Ia({},"Unexpected token %0","ILLEGAL"),++l,(w=Ea("u"))&&"\\"!==w&&zb(w.charCodeAt(0))||Ia({},"Unexpected token %0","ILLEGAL"),z=w);for(;l<D;){w=qa.charCodeAt(l);if(!Ub(w))break;++l;z+=String.fromCharCode(w);
92===w&&(z=z.substr(0,z.length-1),117!==qa.charCodeAt(l)&&Ia({},"Unexpected token %0","ILLEGAL"),++l,(w=Ea("u"))&&"\\"!==w&&Ub(w.charCodeAt(0))||Ia({},"Unexpected token %0","ILLEGAL"),z+=w)}return z}function tb(){var w=l,z=qa.charCodeAt(l),F=qa[l];switch(z){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++l,{type:7,value:String.fromCharCode(z),start:w,end:l};default:var V=qa.charCodeAt(l+1);if(61===V)switch(z){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return l+=
2,{type:7,value:String.fromCharCode(z)+String.fromCharCode(V),start:w,end:l};case 33:case 61:return l+=2,61===qa.charCodeAt(l)&&++l,{type:7,value:qa.slice(w,l),start:w,end:l}}}z=qa.substr(l,4);if("\x3e\x3e\x3e\x3d"===z)return l+=4,{type:7,value:z,start:w,end:l};z=z.substr(0,3);if("\x3e\x3e\x3e"===z||"\x3c\x3c\x3d"===z||"\x3e\x3e\x3d"===z)return l+=3,{type:7,value:z,start:w,end:l};z=z.substr(0,2);if(F===z[1]&&0<="+-\x3c\x3e\x26|".indexOf(F)||"\x3d\x3e"===z)return l+=2,{type:7,value:z,start:w,end:l};
"//"===z&&Ia({},"Unexpected token %0","ILLEGAL");if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(F))return++l,{type:7,value:F,start:w,end:l};Ia({},"Unexpected token %0","ILLEGAL")}function rb(){var w=qa[l];ub(Yb(w.charCodeAt(0))||"."===w,"Numeric literal must start with a decimal digit or a decimal point");var z=l;var F="";if("."!==w){F=qa[l++];w=qa[l];if("0"===F){if("x"===w||"X"===w){++l;for(F="";l<D&&bc(qa[l]);)F+=qa[l++];0===F.length&&Ia({},"Unexpected token %0","ILLEGAL");zb(qa.charCodeAt(l))&&Ia({},
"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt("0x"+F,16),start:z,end:l}}if(Xb(w)){for(F="0"+qa[l++];l<D&&Xb(qa[l]);)F+=qa[l++];(zb(qa.charCodeAt(l))||Yb(qa.charCodeAt(l)))&&Ia({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(F,8),octal:!0,start:z,end:l}}w&&Yb(w.charCodeAt(0))&&Ia({},"Unexpected token %0","ILLEGAL")}for(;Yb(qa.charCodeAt(l));)F+=qa[l++];w=qa[l]}if("."===w){for(F+=qa[l++];Yb(qa.charCodeAt(l));)F+=qa[l++];w=qa[l]}if("e"===w||"E"===w){F+=qa[l++];w=qa[l];
if("+"===w||"-"===w)F+=qa[l++];if(Yb(qa.charCodeAt(l)))for(;Yb(qa.charCodeAt(l));)F+=qa[l++];else Ia({},"Unexpected token %0","ILLEGAL")}zb(qa.charCodeAt(l))&&Ia({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(F),start:z,end:l}}function pb(w,z){let F=w;0<=z.indexOf("u")&&(F=F.replace(/\\u\{([0-9a-fA-F]+)\}/g,(V,ta)=>{if(1114111>=parseInt(ta,16))return"x";Ia({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(F)}catch(V){Ia({},"Invalid regular expression")}try{return new RegExp(w,
z)}catch(V){return null}}function vb(){kc();if(l>=D)return{type:2,start:l,end:l};var w=qa.charCodeAt(l);if(zb(w)){w=l;if(92===qa.charCodeAt(l))var z=Za();else a:{for(z=l++;l<D;){var F=qa.charCodeAt(l);if(92===F){l=z;z=Za();break a}if(Ub(F))++l;else break}z=qa.slice(z,l)}return{type:1===z.length?3:A.hasOwnProperty(z)?4:"null"===z?5:"true"===z||"false"===z?1:3,value:z,start:w,end:l}}if(40===w||41===w||59===w)return tb();if(39===w||34===w){var V="";F=!1;w=qa[l];ub("'"===w||'"'===w,"String literal must starts with a quote");
z=l;for(++l;l<D;){var ta=qa[l++];if(ta===w){w="";break}else if("\\"===ta)if((ta=qa[l++])&&oc(ta.charCodeAt(0)))"\r"===ta&&"\n"===qa[l]&&++l;else switch(ta){case "u":case "x":if("{"===qa[l]){++l;var N=qa[l];ta=0;for("}"===N&&Ia({},"Unexpected token %0","ILLEGAL");l<D;){N=qa[l++];if(!bc(N))break;ta=16*ta+"0123456789abcdef".indexOf(N.toLowerCase())}(1114111<ta||"}"!==N)&&Ia({},"Unexpected token %0","ILLEGAL");ta=65535>=ta?String.fromCharCode(ta):String.fromCharCode((ta-65536>>10)+55296,(ta-65536&1023)+
56320);V+=ta}else V+=Ea(ta);break;case "n":V+="\n";break;case "r":V+="\r";break;case "t":V+="\t";break;case "b":V+="\b";break;case "f":V+="\f";break;case "v":V+="\v";break;default:Xb(ta)?(N="01234567".indexOf(ta),0!==N&&(F=!0),l<D&&Xb(qa[l])&&(F=!0,N=8*N+"01234567".indexOf(qa[l++]),0<="0123".indexOf(ta)&&l<D&&Xb(qa[l])&&(N=8*N+"01234567".indexOf(qa[l++]))),V+=String.fromCharCode(N)):V+=ta}else if(oc(ta.charCodeAt(0)))break;else V+=ta}""!==w&&Ia({},"Unexpected token %0","ILLEGAL");return{type:8,value:V,
octal:F,start:z,end:l}}return 46===w?Yb(qa.charCodeAt(l+1))?rb():tb():Yb(w)?rb():tb()}function gb(){const w=K;l=w.end;K=vb();l=w.end;return w}function ec(){const w=l;K=vb();l=w}function sa(w,z,F){const V=new ka("||"===w||"\x26\x26"===w?"LogicalExpression":"BinaryExpression");V.operator=w;V.left=z;V.right=F;return V}function ia(w){const z=new ka("Identifier");z.name=w;return z}function Ba(w){const z=new ka("Literal");z.value=w.value;z.raw=qa.slice(w.start,w.end);w.regex&&("//"===z.raw&&(z.raw="/(?:)/"),
z.regex=w.regex);return z}function Ra(w,z,F){const V=new ka("MemberExpression");V.computed="["===w;V.object=z;V.property=F;V.computed||(F.member=!0);return V}function Wa(w,z,F){const V=new ka("Property");V.key=z;V.value=F;V.kind=w;return V}function Ia(w,z){var F=Array.prototype.slice.call(arguments,2),V=z.replace(/%(\d)/g,(N,ma)=>{ub(ma<F.length,"Message reference must be in range");return F[ma]});var ta=Error(V);ta.index=l;ta.description=V;throw ta;}function hb(w){2===w.type&&Ia(w,"Unexpected end of input");
6===w.type&&Ia(w,"Unexpected number");8===w.type&&Ia(w,"Unexpected string");3===w.type&&Ia(w,"Unexpected identifier");4===w.type&&Ia(w,"Unexpected reserved word");Ia(w,"Unexpected token %0",w.value)}function ab(w){const z=gb();7===z.type&&z.value===w||hb(z)}function qb(w){return 7===K.type&&K.value===w}function Pb(){l=K.start;const w=gb();return 8===w.type||6===w.type?(w.octal&&Ia(w,"Octal literals are not allowed in strict mode."),Ba(w)):ia(w.value)}function db(){if(qb("(")){ab("(");var w=La();ab(")");
return w}if(qb("[")){w=[];l=K.start;for(ab("[");!qb("]");)qb(",")?(gb(),w.push(null)):(w.push(ja()),qb("]")||ab(","));gb();var z=new ka("ArrayExpression");z.elements=w;return z}if(qb("{")){w=[];z={};var F=String;l=K.start;for(ab("{");!qb("}");){l=K.start;var V=K;if(3===V.type){var ta=Pb();ab(":");V=ja();V=Wa("init",ta,V)}else 2===V.type||7===V.type?(hb(V),V=void 0):(ta=Pb(),ab(":"),V=ja(),V=Wa("init",ta,V));ta="Identifier"===V.key.type?V.key.name:F(V.key.value);ta="$"+ta;Object.prototype.hasOwnProperty.call(z,
ta)?Ia({},"Duplicate data property in object literal not allowed in strict mode"):z[ta]=!0;w.push(V);qb("}")||ab(",")}ab("}");z=new ka("ObjectExpression");z.properties=w;return z}w=K.type;l=K.start;if(3===w||W[K.value])z=ia(gb().value);else if(8===w||6===w)K.octal&&Ia(K,"Octal literals are not allowed in strict mode."),z=Ba(gb());else{if(4===w)throw Error("Disabled.");if(1===w)w=gb(),w.value="true"===w.value,z=Ba(w);else if(5===w)w=gb(),w.value=null,z=Ba(w);else if(qb("/")||qb("/\x3d")){var N;K=null;
kc();w=l;z=qa[l];ub("/"===z,"Regular expression literal must start with a slash");F=qa[l++];for(ta=V=!1;l<D;)if(z=qa[l++],F+=z,"\\"===z)z=qa[l++],oc(z.charCodeAt(0))&&Ia({},"Invalid regular expression: missing /"),F+=z;else if(oc(z.charCodeAt(0)))Ia({},"Invalid regular expression: missing /");else if(V)"]"===z&&(V=!1);else if("/"===z){ta=!0;break}else"["===z&&(V=!0);ta||Ia({},"Invalid regular expression: missing /");z=F.substr(1,F.length-2);for(N=ta="";l<D;){V=qa[l];if(!Ub(V.charCodeAt(0)))break;
++l;"\\"===V&&l<D?Ia({},"Unexpected token %0","ILLEGAL"):(N+=V,ta+=V)}0<=N.search(/[^gimuy]/g)&&Ia({},"Invalid regular expression",N);V=N;N=pb(z,V);z=Ba({literal:F+ta,value:N,regex:{pattern:z,flags:V},start:w,end:l});ec()}else hb(gb())}return z}function U(){var w;for(w=db();;)if(qb(".")){ab(".");l=K.start;var z=gb();3===z.type||4===z.type||1===z.type||5===z.type||hb(z);z=ia(z.value);w=Ra(".",w,z)}else if(qb("(")){z=[];ab("(");if(!qb(")"))for(;l<D;){z.push(ja());if(qb(")"))break;ab(",")}ab(")");const F=
new ka("CallExpression");F.callee=w;F.arguments=z;w=F}else if(qb("["))ab("["),z=La(),ab("]"),w=Ra("[",w,z);else break;if(7===K.type&&(qb("++")||qb("--")))throw Error("Disabled.");return w}function ba(){if(7!==K.type&&4!==K.type)var w=U();else{if(qb("++")||qb("--"))throw Error("Disabled.");if(qb("+")||qb("-")||qb("~")||qb("!")){var z=gb();w=ba();z=z.value;const F=new ka("UnaryExpression");F.operator=z;F.argument=w;F.prefix=!0;w=F}else{if(4===K.type&&"delete"===K.value||4===K.type&&"void"===K.value||
4===K.type&&"typeof"===K.value)throw Error("Disabled.");w=U()}}return w}function ea(w){let z=0;if(7!==w.type&&4!==w.type)return 0;switch(w.value){case "||":z=1;break;case "\x26\x26":z=2;break;case "|":z=3;break;case "^":z=4;break;case "\x26":z=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":z=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":z=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":z=8;break;case "+":case "-":z=
9;break;case "*":case "/":case "%":z=11}return z}function ja(){var w=K;var z=ba();var F=K;var V=ea(F);if(0===V)var ta=z;else{F.prec=V;gb();w=[w,K];var N=ba();for(ta=[z,F,N];0<(V=ea(K));){for(;2<ta.length&&V<=ta[ta.length-2].prec;)N=ta.pop(),F=ta.pop().value,z=ta.pop(),w.pop(),z=sa(F,z,N),ta.push(z);F=gb();F.prec=V;ta.push(F);w.push(K);z=ba();ta.push(z)}V=ta.length-1;z=ta[V];for(w.pop();1<V;)w.pop(),z=sa(ta[V-1].value,ta[V-2],z),V-=2;ta=z}qb("?")&&(gb(),w=ja(),ab(":"),V=ja(),z=new ka("ConditionalExpression"),
z.test=ta,z.consequent=w,z.alternate=V,ta=z);return ta}function La(){const w=ja();if(qb(","))throw Error("Disabled.");return w}function oa(w){function z(F,V,ta){return N=>{let ma=w(N[0]);V&&(ma=V+"("+ma+")",0===V.lastIndexOf("new ",0)&&(ma="("+ma+")"));return ma+"."+F+(0>ta?"":0===ta?"()":"("+N.slice(1).map(w).join(",")+")")}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",
floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(F){3>F.length&&h.error("Missing arguments to clamp function.");3<F.length&&h.error("Too many arguments to clamp function.");F=F.map(w);return"Math.max("+F[1]+", Math.min("+F[2]+","+F[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:z("getDate","new Date",0),day:z("getDay","new Date",0),
year:z("getFullYear","new Date",0),month:z("getMonth","new Date",0),hours:z("getHours","new Date",0),minutes:z("getMinutes","new Date",0),seconds:z("getSeconds","new Date",0),milliseconds:z("getMilliseconds","new Date",0),time:z("getTime","new Date",0),timezoneoffset:z("getTimezoneOffset","new Date",0),utcdate:z("getUTCDate","new Date",0),utcday:z("getUTCDay","new Date",0),utcyear:z("getUTCFullYear","new Date",0),utcmonth:z("getUTCMonth","new Date",0),utchours:z("getUTCHours","new Date",0),utcminutes:z("getUTCMinutes",
"new Date",0),utcseconds:z("getUTCSeconds","new Date",0),utcmilliseconds:z("getUTCMilliseconds","new Date",0),length:z("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:z("toUpperCase","String",0),lower:z("toLowerCase","String",0),substring:z("substring","String"),split:z("split","String"),trim:z("trim","String",0),regexp:"RegExp",test:z("test","RegExp"),if:function(F){3>F.length&&h.error("Missing arguments to if function.");3<F.length&&h.error("Too many arguments to if function.");
F=F.map(w);return"("+F[0]+"?"+F[1]+":"+F[2]+")"}}}ka.prototype.visit=function(w){let z,F,V;if(w(this))return 1;z=Ya(this);F=0;for(V=z.length;F<V;++F)if(z[F].visit(w))return 1};var qa,l,D,K,v=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),
R=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");
const A={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},W={"if":1};var G={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",
LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};r.ASTNode=ka;r.ArrayExpression="ArrayExpression";r.BinaryExpression="BinaryExpression";r.CallExpression="CallExpression";r.ConditionalExpression="ConditionalExpression";r.Identifier="Identifier";r.Literal="Literal";r.LogicalExpression="LogicalExpression";r.MemberExpression="MemberExpression";r.ObjectExpression="ObjectExpression";r.Property="Property";
r.RawCode="RawCode";r.UnaryExpression="UnaryExpression";r.codegenExpression=function(w){function z(X){if(h.isString(X))return X;const Fa=Tb[X.type];null==Fa&&h.error("Unsupported type: "+X.type);return Fa(X)}function F(X){X={code:z(X),globals:Object.keys(Xa),fields:Object.keys(sb)};Xa={};sb={};return X}w=w||{};const V=w.allowed?h.toSet(w.allowed):{},ta=w.forbidden?h.toSet(w.forbidden):{},N=w.constants||G,ma=(w.functions||oa)(z),ya=w.globalvar,Ma=w.fieldvar,Pa=h.isFunction(ya)?ya:X=>`${ya}["${X}"]`;
let Xa={},sb={},ib=0;const Tb={Literal:X=>X.raw,Identifier:X=>{X=X.name;if(0<ib)return X;if(h.hasOwnProperty(ta,X))return h.error("Illegal identifier: "+X);if(h.hasOwnProperty(N,X))return N[X];if(h.hasOwnProperty(V,X))return X;Xa[X]=1;return Pa(X)},MemberExpression:X=>{const Fa=!X.computed,Kb=z(X.object);Fa&&(ib+=1);X=z(X.property);if(Kb===Ma){var qc=sb;var $b=($b=X&&X.length-1)&&('"'===X[0]&&'"'===X[$b]||"'"===X[0]&&"'"===X[$b])?X.slice(1,-1):X;qc[$b]=1}Fa&&--ib;return Kb+(Fa?"."+X:"["+X+"]")},CallExpression:X=>
{"Identifier"!==X.callee.type&&h.error("Illegal callee type: "+X.callee.type);const Fa=X.callee.name;X=X.arguments;const Kb=h.hasOwnProperty(ma,Fa)&&ma[Fa];Kb||h.error("Unrecognized function: "+Fa);return h.isFunction(Kb)?Kb(X):Kb+"("+X.map(z).join(",")+")"},ArrayExpression:X=>"["+X.elements.map(z).join(",")+"]",BinaryExpression:X=>"("+z(X.left)+" "+X.operator+" "+z(X.right)+")",UnaryExpression:X=>"("+X.operator+z(X.argument)+")",ConditionalExpression:X=>"("+z(X.test)+"?"+z(X.consequent)+":"+z(X.alternate)+
")",LogicalExpression:X=>"("+z(X.left)+X.operator+z(X.right)+")",ObjectExpression:X=>"{"+X.properties.map(z).join(",")+"}",Property:X=>{ib+=1;const Fa=z(X.key);--ib;return Fa+":"+z(X.value)}};F.functions=ma;F.constants=N;return F};r.constants=G;r.functions=oa;r.parseExpression=function(w){qa=w;l=0;D=qa.length;K=null;ec();w=La();if(2!==K.type)throw Error("Unexpect token after expression.");return w}})};
shadow$provide[48]=function(Db,mb,Cc,Va){(function(r,h){"object"===typeof Va&&"undefined"!==typeof Cc?h(Va,mb(21),mb(47)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],h):(r="undefined"!==typeof globalThis?globalThis:r||self,h(r.vega={},r.vega,r.vega))})(this,function(r,h,ka){function Ya(sa,ia){return null==sa||null==ia?NaN:sa<ia?-1:sa>ia?1:sa>=ia?0:NaN}function ub(sa,ia){return null==sa||null==ia?NaN:ia<sa?-1:ia>sa?1:ia>=sa?0:NaN}function Yb(){return 0}function bc({_intern:sa,
_key:ia},Ba){ia=ia(Ba);return sa.has(ia)?sa.get(ia):Ba}function Xb({_intern:sa,_key:ia},Ba){ia=ia(Ba);if(sa.has(ia))return sa.get(ia);sa.set(ia,Ba);return Ba}function oc({_intern:sa,_key:ia},Ba){ia=ia(Ba);sa.has(ia)&&(Ba=sa.get(ia),sa.delete(ia));return Ba}function zb(sa){return null!==sa&&"object"===typeof sa?sa.valueOf():sa}function Ub(sa){return sa instanceof Za?sa:new Za(sa)}function kc(sa){sa.getter&&sa.getter[tb]||(sa.getter=h.field(sa.field),sa.getter[tb]=!0);return sa.getter}function Ea(sa,
ia){var Ba=ia.fields;ia=ia.values;for(var Ra=Ba.length,Wa=0,Ia,hb;Wa<Ra;++Wa)if(hb=Ba[Wa],Ia=kc(hb)(sa),h.isDate(Ia)&&(Ia=h.toNumber(Ia)),h.isDate(ia[Wa])&&(ia[Wa]=h.toNumber(ia[Wa])),h.isArray(ia[Wa])&&h.isDate(ia[Wa][0])&&(ia[Wa]=ia[Wa].map(h.toNumber)),"E"===hb.type){if(h.isArray(ia[Wa])?0>ia[Wa].indexOf(Ia):Ia!==ia[Wa])return!1}else if("R"===hb.type){if(!h.inrange(Ia,ia[Wa]))return!1}else if("R-RE"===hb.type){if(!h.inrange(Ia,ia[Wa],!0,!1))return!1}else if("R-E"===hb.type){if(!h.inrange(Ia,ia[Wa],
!1,!1))return!1}else if("R-LE"===hb.type&&!h.inrange(Ia,ia[Wa],!1,!0))return!1;return!0}class Za extends Set{constructor(sa,ia=zb){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:ia}});if(null!=sa)for(const Ba of sa)this.add(Ba)}has(sa){return super.has(bc(this,sa))}add(sa){return super.add(Xb(this,sa))}delete(sa){return super.delete(oc(this,sa))}}const tb=Symbol("vega_selection_getter"),rb=h.field("_vgsid_"),pb=function(sa){function ia(Ia,hb,ab=0,qb=Ia.length){if(ab<qb){if(0!==
Ba(hb,hb))return qb;do{const Pb=ab+qb>>>1;0>Ra(Ia[Pb],hb)?ab=Pb+1:qb=Pb}while(ab<qb)}return ab}let Ba,Ra,Wa;2!==sa.length?(Ba=Ya,Ra=(Ia,hb)=>Ya(sa(Ia),hb),Wa=(Ia,hb)=>sa(Ia)-hb):(Ba=sa===Ya||sa===ub?sa:Yb,Wa=Ra=sa);return{left:ia,center:function(Ia,hb,ab=0,qb=Ia.length){qb=ia(Ia,hb,ab,qb-1);return qb>ab&&Wa(Ia[qb-1],hb)>-Wa(Ia[qb],hb)?qb-1:qb},right:function(Ia,hb,ab=0,qb=Ia.length){if(ab<qb){if(0!==Ba(hb,hb))return qb;do{const Pb=ab+qb>>>1;0>=Ra(Ia[Pb],hb)?ab=Pb+1:qb=Pb}while(ab<qb)}return ab}}}(rb),
vb=pb.left,gb=pb.right;var ec={_vgsid__union:function(...sa){const ia=new Za;for(const Ba of sa)for(const Ra of Ba)ia.add(Ra);return ia},_vgsid__intersect:function(sa,...ia){sa=new Za(sa);ia=ia.map(Ub);a:for(const Ba of sa)for(const Ra of ia)if(!Ra.has(Ba)){sa.delete(Ba);continue a}return sa},E_union:function(sa,ia){if(!sa.length)return ia;for(var Ba=0,Ra=ia.length;Ba<Ra;++Ba)0>sa.indexOf(ia[Ba])&&sa.push(ia[Ba]);return sa},E_intersect:function(sa,ia){return sa.length?sa.filter(Ba=>0<=ia.indexOf(Ba)):
ia},R_union:function(sa,ia){var Ba=h.toNumber(ia[0]),Ra=h.toNumber(ia[1]);Ba>Ra&&(Ba=ia[1],Ra=ia[0]);if(!sa.length)return[Ba,Ra];sa[0]>Ba&&(sa[0]=Ba);sa[1]<Ra&&(sa[1]=Ra);return sa},R_intersect:function(sa,ia){var Ba=h.toNumber(ia[0]),Ra=h.toNumber(ia[1]);Ba>Ra&&(Ba=ia[1],Ra=ia[0]);if(!sa.length)return[Ba,Ra];if(Ra<sa[0]||sa[1]<Ba)return[];sa[0]<Ba&&(sa[0]=Ba);sa[1]>Ra&&(sa[1]=Ra);return sa}};r.selectionIdTest=function(sa,ia,Ba){var Ra=this.context.data[sa];sa=Ra?Ra.values.value:[];Ra=Ra?Ra["index:unit"]&&
Ra["index:unit"].value:void 0;Ba="intersect"===Ba;ia=rb(ia);const Wa=vb(sa,ia);if(Wa===sa.length||rb(sa[Wa])!==ia)return!1;if(Ra&&Ba){if(1===Ra.size)return!0;if(gb(sa,ia)-Wa<Ra.size)return!1}return!0};r.selectionResolve=function(sa,ia,Ba,Ra){sa=(sa=this.context.data[sa])?sa.values.value:[];for(var Wa={},Ia={},hb={},ab,qb,Pb,db,U,ba,ea=sa.length,ja=0,La,oa;ja<ea;++ja)if(ab=sa[ja],db=ab.unit,qb=ab.fields,Pb=ab.values,qb&&Pb){La=0;for(oa=qb.length;La<oa;++La)U=qb[La],ab=Wa[U.field]||(Wa[U.field]={}),
ba=ab[db]||(ab[db]=[]),hb[U.field]=U=U.type.charAt(0),U=ec[`${U}_union`],ab[db]=U(ba,h.array(Pb[La]));Ba&&(ba=Ia[db]||(Ia[db]=[]),ba.push(h.array(Pb).reduce((qa,l,D)=>(qa[qb[D].field]=l,qa),{})))}else U="_vgsid_",Pb=rb(ab),ab=Wa[U]||(Wa[U]={}),ba=ab[db]||(ab[db]=[]),ba.push(Pb),Ba&&(ba=Ia[db]||(Ia[db]=[]),ba.push({_vgsid_:Pb}));ia=ia||"union";Wa._vgsid_?Wa._vgsid_=ec[`${"_vgsid_"}_${ia}`](...Object.values(Wa._vgsid_)):Object.keys(Wa).forEach(qa=>{Wa[qa]=Object.keys(Wa[qa]).map(l=>Wa[qa][l]).reduce((l,
D)=>void 0===l?D:ec[`${hb[qa]}_${ia}`](l,D))});sa=Object.keys(Ia);Ba&&sa.length&&(Wa[Ra?"vlPoint":"vlMulti"]="union"===ia?{or:sa.reduce((qa,l)=>(qa.push(...Ia[l]),qa),[])}:{and:sa.map(qa=>({or:Ia[qa]}))});return Wa};r.selectionTest=function(sa,ia,Ba){var Ra=this.context.data[sa];sa=Ra?Ra.values.value:[];Ra=Ra?Ra["index:unit"]&&Ra["index:unit"].value:void 0;Ba="intersect"===Ba;for(var Wa=sa.length,Ia=0,hb,ab,qb,Pb;Ia<Wa;++Ia)if(hb=sa[Ia],Ra&&Ba){if(ab=ab||{},qb=ab[Pb=hb.unit]||0,-1!==qb){hb=Ea(ia,
hb);ab[Pb]=hb?-1:++qb;if(hb&&1===Ra.size)return!0;if(!hb&&qb===Ra.get(Pb).count)return!1}}else if(hb=Ea(ia,hb),Ba^hb)return hb;return Wa&&Ba};r.selectionTuples=function(sa,ia){return sa.map(Ba=>h.extend(ia.fields?{values:ia.fields.map(Ra=>kc(Ra)(Ba.datum))}:{_vgsid_:rb(Ba.datum)},ia))};r.selectionVisitor=function(sa,ia,Ba,Ra){ia[0].type!==ka.Literal&&h.error("First argument to selection functions must be a string literal.");sa=ia[0].value;ia=2<=ia.length&&h.peek(ia).value;const Wa=":"+sa;"intersect"!==
ia||h.hasOwnProperty(Ra,"@unit")||(Ra["@unit"]=Ba.getData(sa).indataRef(Ba,"unit"));h.hasOwnProperty(Ra,Wa)||(Ra[Wa]=Ba.getData(sa).tuplesRef())}})};
shadow$provide[49]=function(Db,mb,Cc,Va){(function(r,h){"object"===typeof Va&&"undefined"!==typeof Cc?h(Va,mb(21),mb(47),mb(33),mb(29),mb(34),mb(48),mb(30),mb(23)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression vega-scale vega-dataflow vega-scenegraph vega-selections vega-statistics vega-time".split(" "),h):(r="undefined"!==typeof globalThis?globalThis:r||self,h(r.vega={},r.vega,r.vega,r.vega,r.vega,r.vega,r.vega,r.vega,r.vega))})(this,function(r,h,ka,Ya,ub,Yb,bc,
Xb,oc){function zb(T){return(T=this.context.data[T])?T.values.value:[]}function Ub(T,Ja,lb){return(lb=(T=this.context.data[T]["index:"+Ja])?T.value.get(lb):void 0)?lb.count:lb}function kc(T,Ja){const lb=this.context.dataflow;lb.pulse(this.context.data[T].input,lb.changeset().remove(h.truthy).insert(Ja));return 1}function Ea(T,Ja,lb){if(T){const Gc=this.context.dataflow;Gc.pulse(T.mark.source,Gc.changeset().encode(T,Ja))}return void 0!==lb?lb:T}function Za(T,Ja,lb){if(!Number.isInteger(T)||!Number.isInteger(Ja))return"";
Md.setYear(2E3);Md.setMonth(T);Md.setDate(Ja);return id.call(this,Md,lb)}function tb(T){return Za.call(this,T,1,"%B")}function rb(T){return Za.call(this,T,1,"%b")}function pb(T){return Za.call(this,0,2+T,"%A")}function vb(T){return Za.call(this,0,2+T,"%a")}function gb(T,Ja,lb,Gc){Ja[0].type!==ka.Literal&&h.error("First argument to data functions must be a string literal.");T=Ja[0].value;Ja=":"+T;if(!h.hasOwnProperty(Ja,Gc))try{Gc[Ja]=lb.getData(T).tuplesRef()}catch(Ec){}}function ec(T,Ja,lb,Gc){Ja[0].type!==
ka.Literal&&h.error("First argument to indata must be a string literal.");Ja[1].type!==ka.Literal&&h.error("Second argument to indata must be a string literal.");T=Ja[0].value;Ja=Ja[1].value;const Ec="@"+Ja;h.hasOwnProperty(Ec,Gc)||(Gc[Ec]=lb.getData(T).indataRef(lb,Ja))}function sa(T,Ja,lb,Gc){if(Ja[0].type===ka.Literal)ia(lb,Gc,Ja[0].value);else for(T in lb.scales)ia(lb,Gc,T)}function ia(T,Ja,lb){const Gc="%"+lb;if(!h.hasOwnProperty(Ja,Gc))try{Ja[Gc]=T.scaleRef(lb)}catch(Ec){}}function Ba(T,Ja){if(h.isFunction(T))return T;
if(h.isString(T))return(T=Ja.scales[T])&&Ya.isRegisteredScale(T.value)?T.value:void 0}function Ra(T,Ja,lb){Ja.__bandwidth=Ec=>Ec&&Ec.bandwidth?Ec.bandwidth():0;lb._bandwidth=sa;lb._range=sa;lb._scale=sa;const Gc=Ec=>"_["+(Ec.type===ka.Literal?h.stringValue("%"+Ec.value):h.stringValue("%")+"+"+T(Ec))+"]";return{_bandwidth:Ec=>`this.__bandwidth(${Gc(Ec[0])})`,_range:Ec=>`${Gc(Ec[0])}.range()`,_scale:Ec=>`${Gc(Ec[0])}(${T(Ec[1])})`}}function Wa(T){return 1<T?Ca:-1>T?-Ca:Math.asin(T)}function Ia(){}function hb(T,
Ja){if(T&&Ue.hasOwnProperty(T.type))Ue[T.type](T,Ja)}function ab(T,Ja,lb){var Gc=-1;lb=T.length-lb;for(Ja.lineStart();++Gc<lb;){var Ec=T[Gc];Ja.point(Ec[0],Ec[1],Ec[2])}Ja.lineEnd()}function qb(T,Ja){var lb=-1,Gc=T.length;for(Ja.polygonStart();++lb<Gc;)ab(T[lb],Ja,1);Ja.polygonEnd()}function Pb(T,Ja){if(T&&ne.hasOwnProperty(T.type))ne[T.type](T,Ja);else hb(T,Ja)}function db(){se.point=ba}function U(){ea(hf,pf)}function ba(T,Ja){se.point=ea;hf=T;pf=Ja;T*=sc;Ja*=sc;Le=T;We=Tc(Ja=Ja/2+Qa);af=jd(Ja)}
function ea(T,Ja){T*=sc;Ja*=sc;Ja=Ja/2+Qa;var lb=T-Le,Gc=0<=lb?1:-1,Ec=Gc*lb;lb=Tc(Ja);Ja=jd(Ja);var Ld=af*Ja,he=We*lb+Ld*Tc(Ec);Gc=Ld*Gc*jd(Ec);Fe.add(Fc(Gc,he));Le=T;We=lb;af=Ja}function ja(T,Ja){return[T[1]*Ja[2]-T[2]*Ja[1],T[2]*Ja[0]-T[0]*Ja[2],T[0]*Ja[1]-T[1]*Ja[0]]}function La(T,Ja){ua.push(Bb=[oe=T,xe=T]);Ja<Me&&(Me=Ja);Ja>y&&(y=Ja)}function oa(T,Ja){var lb=[T*sc,Ja*sc];var Gc=lb[0];lb=lb[1];var Ec=Tc(lb);Gc=[Ec*Tc(Gc),Ec*jd(Gc),jd(lb)];if(Y){lb=ja(Y,Gc);Ec=lb=ja([lb[1],-lb[0],0],lb);var Ld=
nd(Ec[0]*Ec[0]+Ec[1]*Ec[1]+Ec[2]*Ec[2]);Ec[0]/=Ld;Ec[1]/=Ld;Ec[2]/=Ld;lb=[Fc(lb[1],lb[0]),Wa(lb[2])];var he=T-M;Ec=0<he?1:-1;Ld=lb[0]*hd*Ec;he=180<Pc(he);he^(Ec*M<Ld&&Ld<Ec*T)?(lb=lb[1]*hd,lb>y&&(y=lb)):(Ld=(Ld+360)%360-180,he^(Ec*M<Ld&&Ld<Ec*T))?(lb=-lb[1]*hd,lb<Me&&(Me=lb)):(Ja<Me&&(Me=Ja),Ja>y&&(y=Ja));he?T<M?R(oe,T)>R(oe,xe)&&(xe=T):R(T,xe)>R(oe,xe)&&(oe=T):xe>=oe?(T<oe&&(oe=T),T>xe&&(xe=T)):T>M?R(oe,T)>R(oe,xe)&&(xe=T):R(T,xe)>R(oe,xe)&&(oe=T)}else ua.push(Bb=[oe=T,xe=T]);Ja<Me&&(Me=Ja);Ja>y&&
(y=Ja);Y=Gc;M=T}function qa(){Fb.point=oa}function l(){Bb[0]=oe;Bb[1]=xe;Fb.point=La;Y=null}function D(T,Ja){if(Y){var lb=T-M;pa.add(180<Pc(lb)?lb+(0<lb?360:-360):lb)}else p=T,P=Ja;se.point(T,Ja);oa(T,Ja)}function K(){se.lineStart()}function v(){D(p,P);se.lineEnd();1E-6<Pc(pa)&&(oe=-(xe=180));Bb[0]=oe;Bb[1]=xe;Y=null}function R(T,Ja){return 0>(Ja-=T)?Ja+360:Ja}function A(T,Ja){return T[0]-Ja[0]}function W(T,Ja){return T[0]<=T[1]?T[0]<=Ja&&Ja<=T[1]:Ja<T[0]||T[1]<Ja}function G(T,Ja){T*=sc;Ja*=sc;var lb=
Tc(Ja);w(lb*Tc(T),lb*jd(T),jd(Ja))}function w(T,Ja,lb){++Wb;mc+=(T-mc)/Wb;zc+=(Ja-zc)/Wb;xc+=(lb-xc)/Wb}function z(){Zd.point=F}function F(T,Ja){T*=sc;Ja*=sc;var lb=Tc(Ja);Zc=lb*Tc(T);zd=lb*jd(T);Yd=jd(Ja);Zd.point=V;w(Zc,zd,Yd)}function V(T,Ja){T*=sc;Ja*=sc;var lb=Tc(Ja),Gc=lb*Tc(T);T=lb*jd(T);Ja=jd(Ja);var Ec=Fc(nd((Ec=zd*Ja-Yd*T)*Ec+(Ec=Yd*Gc-Zc*Ja)*Ec+(Ec=Zc*T-zd*Gc)*Ec),Zc*Gc+zd*T+Yd*Ja);ac+=Ec;Jc+=Ec*(Zc+(Zc=Gc));$c+=Ec*(zd+(zd=T));ad+=Ec*(Yd+(Yd=Ja));w(Zc,zd,Yd)}function ta(){Zd.point=G}function N(){Zd.point=
ya}function ma(){Ma(Vd,Be);Zd.point=G}function ya(T,Ja){Vd=T;Be=Ja;T*=sc;Ja*=sc;Zd.point=Ma;var lb=Tc(Ja);Zc=lb*Tc(T);zd=lb*jd(T);Yd=jd(Ja);w(Zc,zd,Yd)}function Ma(T,Ja){T*=sc;Ja*=sc;var lb=Tc(Ja),Gc=lb*Tc(T);T=lb*jd(T);Ja=jd(Ja);lb=zd*Ja-Yd*T;var Ec=Yd*Gc-Zc*Ja,Ld=Zc*T-zd*Gc,he=Yc(lb,Ec,Ld),Ie=Wa(he);he=he&&-Ie/he;kd.add(he*lb);Xd.add(he*Ec);Sc.add(he*Ld);ac+=Ie;Jc+=Ie*(Zc+(Zc=Gc));$c+=Ie*(zd+(zd=T));ad+=Ie*(Yd+(Yd=Ja));w(Zc,zd,Yd)}function Pa(T,Ja){return function(lb,Gc,Ec){return lb?(lb=Ba(lb,
(Ec||this).context))&&lb.path[T](Gc):Ja(Gc)}}function Xa(T,Ja){return(T=Ba(T,(Ja||this).context))&&T.scale()}function sb(T){const Ja=this.context.group;let lb=!1;if(Ja)for(;T;){if(T===Ja){lb=!0;break}T=T.mark.group}return lb}function ib(T,Ja,lb){try{T[Ja].apply(T,["EXPRESSION"].concat([].slice.call(lb)))}catch(Gc){T.warn(Gc)}return lb[lb.length-1]}function Tb(){return ib(this.context.dataflow,"warn",arguments)}function X(){return ib(this.context.dataflow,"info",arguments)}function Fa(){return ib(this.context.dataflow,
"debug",arguments)}function Kb(T,Ja,lb){T.prototype=Ja.prototype=lb;lb.constructor=T}function qc(T,Ja){T=Object.create(T.prototype);for(var lb in Ja)T[lb]=Ja[lb];return T}function $b(){}function Mb(){return this.rgb().formatHex()}function Qb(){return this.rgb().formatRgb()}function wc(T){var Ja,lb;T=(T+"").trim().toLowerCase();return(Ja=Ae.exec(T))?(lb=Ja[1].length,Ja=parseInt(Ja[1],16),6===lb?fd(Ja):3===lb?new wb(Ja>>8&15|Ja>>4&240,Ja>>4&15|Ja&240,(Ja&15)<<4|Ja&15,1):8===lb?ra(Ja>>24&255,Ja>>16&
255,Ja>>8&255,(Ja&255)/255):4===lb?ra(Ja>>12&15|Ja>>8&240,Ja>>8&15|Ja>>4&240,Ja>>4&15|Ja&240,((Ja&15)<<4|Ja&15)/255):null):(Ja=Oe.exec(T))?new wb(Ja[1],Ja[2],Ja[3],1):(Ja=Df.exec(T))?new wb(255*Ja[1]/100,255*Ja[2]/100,255*Ja[3]/100,1):(Ja=td.exec(T))?ra(Ja[1],Ja[2],Ja[3],Ja[4]):(Ja=Pe.exec(T))?ra(255*Ja[1]/100,255*Ja[2]/100,255*Ja[3]/100,Ja[4]):(Ja=Te.exec(T))?ld(Ja[1],Ja[2]/100,Ja[3]/100,1):(Ja=kf.exec(T))?ld(Ja[1],Ja[2]/100,Ja[3]/100,Ja[4]):Xf.hasOwnProperty(T)?fd(Xf[T]):"transparent"===T?new wb(NaN,
NaN,NaN,0):null}function fd(T){return new wb(T>>16&255,T>>8&255,T&255,1)}function ra(T,Ja,lb,Gc){0>=Gc&&(T=Ja=lb=NaN);return new wb(T,Ja,lb,Gc)}function Ab(T){T instanceof $b||(T=wc(T));if(!T)return new wb;T=T.rgb();return new wb(T.r,T.g,T.b,T.opacity)}function Ta(T,Ja,lb,Gc){return 1===arguments.length?Ab(T):new wb(T,Ja,lb,null==Gc?1:Gc)}function wb(T,Ja,lb,Gc){this.r=+T;this.g=+Ja;this.b=+lb;this.opacity=+Gc}function Gb(){return`#${Ac(this.r)}${Ac(this.g)}${Ac(this.b)}`}function Nb(){const T=Zb(this.opacity);
return`${1===T?"rgb(":"rgba("}${jc(this.r)}, ${jc(this.g)}, ${jc(this.b)}${1===T?")":`, ${T})`}`}function Zb(T){return isNaN(T)?1:Math.max(0,Math.min(1,T))}function jc(T){return Math.max(0,Math.min(255,Math.round(T)||0))}function Ac(T){T=jc(T);return(16>T?"0":"")+T.toString(16)}function ld(T,Ja,lb,Gc){0>=Gc?T=Ja=lb=NaN:0>=lb||1<=lb?T=Ja=NaN:0>=Ja&&(T=NaN);return new Ha(T,Ja,lb,Gc)}function Vc(T){if(T instanceof Ha)return new Ha(T.h,T.s,T.l,T.opacity);T instanceof $b||(T=wc(T));if(!T)return new Ha;
if(T instanceof Ha)return T;T=T.rgb();var Ja=T.r/255,lb=T.g/255,Gc=T.b/255,Ec=Math.min(Ja,lb,Gc),Ld=Math.max(Ja,lb,Gc),he=NaN,Ie=Ld-Ec,De=(Ld+Ec)/2;Ie?(he=Ja===Ld?(lb-Gc)/Ie+6*(lb<Gc):lb===Ld?(Gc-Ja)/Ie+2:(Ja-lb)/Ie+4,Ie/=.5>De?Ld+Ec:2-Ld-Ec,he*=60):Ie=0<De&&1>De?0:he;return new Ha(he,Ie,De,T.opacity)}function na(T,Ja,lb,Gc){return 1===arguments.length?Vc(T):new Ha(T,Ja,lb,null==Gc?1:Gc)}function Ha(T,Ja,lb,Gc){this.h=+T;this.s=+Ja;this.l=+lb;this.opacity=+Gc}function fb(T){T=(T||0)%360;return 0>
T?T+360:T}function Q(T){return Math.max(0,Math.min(1,T||0))}function t(T,Ja,lb){return 255*(60>T?Ja+(lb-Ja)*T/60:180>T?lb:240>T?Ja+(lb-Ja)*(240-T)/60:Ja)}function da(T){if(T instanceof Da)return new Da(T.l,T.a,T.b,T.opacity);if(T instanceof Dc)return Rc(T);T instanceof wb||(T=Ab(T));var Ja=Eb(T.r),lb=Eb(T.g),Gc=Eb(T.b),Ec=Oa(.2225045*Ja+.7168786*lb+.0606169*Gc);if(Ja===lb&&lb===Gc)var Ld=Ja=Ec;else Ld=Oa((.4360747*Ja+.3850649*lb+.1430804*Gc)/.96422),Ja=Oa((.0139322*Ja+.0971045*lb+.7141733*Gc)/.82521);
return new Da(116*Ec-16,500*(Ld-Ec),200*(Ec-Ja),T.opacity)}function za(T,Ja,lb,Gc){return 1===arguments.length?da(T):new Da(T,Ja,lb,null==Gc?1:Gc)}function Da(T,Ja,lb,Gc){this.l=+T;this.a=+Ja;this.b=+lb;this.opacity=+Gc}function Oa(T){return T>Pf?Math.pow(T,1/3):T/Of+eg}function jb(T){return T>fg?T*T*T:Of*(T-eg)}function Rb(T){return 255*(.0031308>=T?12.92*T:1.055*Math.pow(T,1/2.4)-.055)}function Eb(T){return.04045>=(T/=255)?T/12.92:Math.pow((T+.055)/1.055,2.4)}function Ib(T){if(T instanceof Dc)return new Dc(T.h,
T.c,T.l,T.opacity);T instanceof Da||(T=da(T));if(0===T.a&&0===T.b)return new Dc(NaN,0<T.l&&100>T.l?0:NaN,T.l,T.opacity);var Ja=Math.atan2(T.b,T.a)*bf;return new Dc(0>Ja?Ja+360:Ja,Math.sqrt(T.a*T.a+T.b*T.b),T.l,T.opacity)}function Bc(T,Ja,lb,Gc){return 1===arguments.length?Ib(T):new Dc(T,Ja,lb,null==Gc?1:Gc)}function Dc(T,Ja,lb,Gc){this.h=+T;this.c=+Ja;this.l=+lb;this.opacity=+Gc}function Rc(T){if(isNaN(T.h))return new Da(T.l,0,0,T.opacity);var Ja=T.h*rf;return new Da(T.l,Math.cos(Ja)*T.c,Math.sin(Ja)*
T.c,T.opacity)}function yd(T){T/=255;return.03928>=T?T/12.92:Math.pow((T+.055)/1.055,2.4)}function rd(T){var Ja=Ta(T);T=yd(Ja.r);const lb=yd(Ja.g);Ja=yd(Ja.b);return.2126*T+.7152*lb+.0722*Ja}function gd(T,Ja){T=rd(T);Ja=rd(Ja);return(Math.max(T,Ja)+.05)/(Math.min(T,Ja)+.05)}function Fd(){const T=[].slice.call(arguments);T.unshift({});return h.extend(...T)}function Gd(T,Ja){if(T===Ja||T!==T&&Ja!==Ja)T=!0;else if(h.isArray(T))if(h.isArray(Ja)&&T.length===Ja.length)a:{for(let lb=0,Gc=T.length;lb<Gc;++lb)if(!Gd(T[lb],
Ja[lb])){T=!1;break a}T=!0}else T=!1;else T=h.isObject(T)&&h.isObject(Ja)?ud(T,Ja):!1;return T}function ud(T,Ja){for(const lb in T)if(!Gd(T[lb],Ja[lb]))return!1;return!0}function we(T){return Ja=>ud(T,Ja)}function Ed(T,Ja,lb,Gc,Ec,Ld){const he=this.context.dataflow,Ie=this.context.data[T],De=Ie.input;T=he.stamp();let Jf=Ie.changes,Yf;if(!1===he._trigger||!(De.value.length||Ja||Gc))return 0;if(!Jf||Jf.stamp<T)Ie.changes=Jf=he.changeset(),Jf.stamp=T,he.runAfter(()=>{Ie.modified=!0;he.pulse(De,Jf).run()},
!0,1);lb&&(lb=!0===lb?h.truthy:h.isArray(lb)||ub.isTuple(lb)?lb:we(lb),Jf.remove(lb));Ja&&Jf.insert(Ja);Gc&&(lb=we(Gc),De.value.some(lb)?Jf.remove(lb):Jf.insert(Gc));if(Ec)for(Yf in Ld)Jf.modify(Ec,Yf,Ld[Yf]);return 1}function x(T){T=T.touches;return Math.hypot(T[0].clientX-T[1].clientX,T[0].clientY-T[1].clientY)}function J(T){T=T.touches;return Math.atan2(T[0].clientY-T[1].clientY,T[0].clientX-T[1].clientX)}function xa(T,Ja){Ja=nf[Ja]||(nf[Ja]=h.field(Ja));return h.isArray(T)?T.map(Ja):Ja(T)}function Ka(T){return h.isArray(T)||
ArrayBuffer.isView(T)?T:null}function kb(T){return Ka(T)||(h.isString(T)?T:null)}function yb(T,...Ja){return Ka(T).join(...Ja)}function cc(T,...Ja){return kb(T).indexOf(...Ja)}function Sb(T,...Ja){return kb(T).lastIndexOf(...Ja)}function pc(T,...Ja){return kb(T).slice(...Ja)}function Ic(T,Ja,lb){h.isFunction(lb)&&h.error("Function argument passed to replace.");return String(T).replace(Ja,lb)}function yc(T){return Ka(T).slice().reverse()}function Xc(T,Ja,lb){return Ya.bandSpace(T||0,Ja||0,lb||0)}function md(T,
Ja){return(T=Ba(T,(Ja||this).context))&&T.bandwidth?T.bandwidth():0}function sd(T,Ja){return(T=Ba(T,(Ja||this).context))?T.copy():void 0}function Bd(T,Ja){return(T=Ba(T,(Ja||this).context))?T.domain():[]}function pd(T,Ja,lb){return(T=Ba(T,(lb||this).context))?h.isArray(Ja)?(T.invertRange||T.invert)(Ja):(T.invert||T.invertExtent)(Ja):void 0}function Nd(T,Ja){return(T=Ba(T,(Ja||this).context))&&T.range?T.range():[]}function le(T,Ja,lb){return(T=Ba(T,(lb||this).context))?T(Ja):void 0}function Re(T,Ja,
lb,Gc,Ec){T=Ba(T,(Ec||this).context);const Ld=Yb.Gradient(Ja,lb);Ja=T.domain();lb=Ja[0];Ec=h.peek(Ja);let he=h.identity;Ec-lb?he=Ya.scaleFraction(T,lb,Ec):T=(T.interpolator?Ya.scale("sequential")().interpolator(T.interpolator()):Ya.scale("linear")().interpolate(T.interpolate()).range(T.range())).domain([lb=0,Ec=1]);T.ticks&&(Ja=T.ticks(+Gc||15),lb!==Ja[0]&&Ja.unshift(lb),Ec!==h.peek(Ja)&&Ja.push(Ec));Ja.forEach(Ie=>Ld.stop(he(Ie),T(Ie)));return Ld}function Ge(T,Ja,lb){const Gc=Ba(T,(lb||this).context);
return function(Ec){return Gc?Gc.path.context(Ec)(Ja):""}}function Ke(T){let Ja=null;return function(lb){return lb?Yb.pathRender(lb,Ja=Ja||Yb.pathParse(T)):T}}function of(T,Ja){T=zb.call(Ja,T);return T.root&&T.root.lookup||{}}function ef(T,Ja,lb){T=of(T,this);Ja=T[Ja];lb=T[lb];return Ja&&lb?Ja.path(lb).map(lg):void 0}function E(T,Ja){return(T=of(T,this)[Ja])?T.ancestors().map(lg):void 0}function ca(){const T="undefined"!==typeof window&&window||null;return T?T.screen:{}}function Ga(){const T="undefined"!==
typeof window&&window||null;return T?[T.innerWidth,T.innerHeight]:[void 0,void 0]}function eb(){var T=this.context.dataflow;return(T=T.container&&T.container())?[T.clientWidth,T.clientHeight]:[void 0,void 0]}function Cb(T,Ja,lb){if(!T)return[];const [Gc,Ec]=T;T=(new Yb.Bounds).set(Gc[0],Gc[1],Ec[0],Ec[1]);lb=lb||this.context.dataflow.scenegraph().root;return Yb.intersect(lb,T,rc(Ja))}function rc(T){let Ja=null;if(T){const lb=h.array(T.marktype),Gc=h.array(T.markname);Ja=Ec=>(!lb.length||lb.some(Ld=>
Ec.marktype===Ld))&&(!Gc.length||Gc.some(Ld=>Ec.name===Ld))}return Ja}function Lb(T,Ja,lb){if(1===arguments.length)return Fg[T];Fg[T]=Ja;lb&&(Gg[T]=lb);ch&&(ch.functions[T]="this."+T);return this}const Mc=T=>function(Ja,lb){return this.context.dataflow.locale()[T](lb)(Ja)},qd=Mc("format"),id=Mc("timeFormat"),Oc=Mc("utcFormat"),Pd=Mc("timeParse"),Td=Mc("utcParse"),Md=new Date(2E3,0,1);class Kd{constructor(){this._partials=new Float64Array(32);this._n=0}add(T){const Ja=this._partials;let lb=0;for(let Gc=
0;Gc<this._n&&32>Gc;Gc++){const Ec=Ja[Gc],Ld=T+Ec;(T=Math.abs(T)<Math.abs(Ec)?T-(Ld-Ec):Ec-(Ld-T))&&(Ja[lb++]=T);T=Ld}Ja[lb]=T;this._n=lb+1;return this}valueOf(){const T=this._partials;let Ja=this._n;let lb,Gc=0;if(0<Ja){for(Gc=T[--Ja];0<Ja;){var Ec=Gc;lb=T[--Ja];Gc=Ec+lb;if(Ec=lb-(Gc-Ec))break}0<Ja&&(0>Ec&&0>T[Ja-1]||0<Ec&&0<T[Ja-1])&&(lb=2*Ec,Ec=Gc+lb,lb==Ec-Gc&&(Gc=Ec))}return Gc}}var ae=Math.PI,Ca=ae/2,Qa=ae/4,dc=2*ae,hd=180/ae,sc=ae/180,Pc=Math.abs,Fc=Math.atan2,Tc=Math.cos,Yc=Math.hypot,jd=
Math.sin,nd=Math.sqrt,ne={Feature:function(T,Ja){hb(T.geometry,Ja)},FeatureCollection:function(T,Ja){T=T.features;for(var lb=-1,Gc=T.length;++lb<Gc;)hb(T[lb].geometry,Ja)}},Ue={Sphere:function(T,Ja){Ja.sphere()},Point:function(T,Ja){T=T.coordinates;Ja.point(T[0],T[1],T[2])},MultiPoint:function(T,Ja){for(var lb=T.coordinates,Gc=-1,Ec=lb.length;++Gc<Ec;)T=lb[Gc],Ja.point(T[0],T[1],T[2])},LineString:function(T,Ja){ab(T.coordinates,Ja,0)},MultiLineString:function(T,Ja){T=T.coordinates;for(var lb=-1,Gc=
T.length;++lb<Gc;)ab(T[lb],Ja,0)},Polygon:function(T,Ja){qb(T.coordinates,Ja)},MultiPolygon:function(T,Ja){T=T.coordinates;for(var lb=-1,Gc=T.length;++lb<Gc;)qb(T[lb],Ja)},GeometryCollection:function(T,Ja){T=T.geometries;for(var lb=-1,Gc=T.length;++lb<Gc;)hb(T[lb],Ja)}},Fe=new Kd,qe=new Kd,hf,pf,Le,We,af,se={point:Ia,lineStart:Ia,lineEnd:Ia,polygonStart:function(){Fe=new Kd;se.lineStart=db;se.lineEnd=U},polygonEnd:function(){var T=+Fe;qe.add(0>T?dc+T:T);this.lineStart=this.lineEnd=this.point=Ia},
sphere:function(){qe.add(dc)}},oe,Me,xe,y,M,p,P,Y,pa,ua,Bb,Fb={point:La,lineStart:qa,lineEnd:l,polygonStart:function(){Fb.point=D;Fb.lineStart=K;Fb.lineEnd=v;pa=new Kd;se.polygonStart()},polygonEnd:function(){se.polygonEnd();Fb.point=La;Fb.lineStart=qa;Fb.lineEnd=l;0>Fe?(oe=-(xe=180),Me=-(y=90)):1E-6<pa?y=90:-1E-6>pa&&(Me=-90);Bb[0]=oe;Bb[1]=xe},sphere:function(){oe=-(xe=180);Me=-(y=90)}},Wb,ac,mc,zc,xc,Jc,$c,ad,kd,Xd,Sc,Vd,Be,Zc,zd,Yd,Zd={sphere:Ia,point:G,lineStart:z,lineEnd:ta,polygonStart:function(){Zd.lineStart=
N;Zd.lineEnd=ma},polygonEnd:function(){Zd.lineStart=z;Zd.lineEnd=ta}};const Ce=Pa("area",function(T){qe=new Kd;Pb(T,se);return 2*qe}),Rd=Pa("bounds",function(T){var Ja,lb,Gc;y=xe=-(oe=Me=Infinity);ua=[];Pb(T,Fb);if(Ja=ua.length){ua.sort(A);T=1;var Ec=ua[0];for(lb=[Ec];T<Ja;++T){var Ld=ua[T];W(Ec,Ld[0])||W(Ec,Ld[1])?(R(Ec[0],Ld[1])>R(Ec[0],Ec[1])&&(Ec[1]=Ld[1]),R(Ld[0],Ec[1])>R(Ec[0],Ec[1])&&(Ec[0]=Ld[0])):lb.push(Ec=Ld)}var he=-Infinity;Ja=lb.length-1;T=0;for(Ec=lb[Ja];T<=Ja;Ec=Ld,++T)Ld=lb[T],(Gc=
R(Ec[1],Ld[0]))>he&&(he=Gc,oe=Ld[0],xe=Ec[1])}ua=Bb=null;return Infinity===oe||Infinity===Me?[[NaN,NaN],[NaN,NaN]]:[[oe,Me],[xe,y]]}),Od=Pa("centroid",function(T){Wb=ac=mc=zc=xc=Jc=$c=ad=0;kd=new Kd;Xd=new Kd;Sc=new Kd;Pb(T,Zd);T=+kd;var Ja=+Xd,lb=+Sc,Gc=Yc(T,Ja,lb);return 1E-12>Gc&&(T=Jc,Ja=$c,lb=ad,1E-6>ac&&(T=mc,Ja=zc,lb=xc),Gc=Yc(T,Ja,lb),1E-12>Gc)?[NaN,NaN]:[Fc(Ja,T)*hd,Wa(lb/Gc)*hd]});var te=1/.7,Ae=/^#([0-9a-f]{3,8})$/,Oe=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),
Df=RegExp("^rgb\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),td=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Pe=RegExp("^rgba\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
Te=RegExp("^hsl\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),kf=RegExp("^hsla\\(\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Xf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,
bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,
darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,
lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,
mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,
plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,
yellow:16776960,yellowgreen:10145074};Kb($b,wc,{copy(T){return Object.assign(new this.constructor,this,T)},displayable(){return this.rgb().displayable()},hex:Mb,formatHex:Mb,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Vc(this).formatHsl()},formatRgb:Qb,toString:Qb});Kb(wb,Ta,qc($b,{brighter(T){T=null==T?te:Math.pow(te,T);return new wb(this.r*T,this.g*T,this.b*T,this.opacity)},darker(T){T=null==T?.7:Math.pow(.7,T);return new wb(this.r*T,this.g*T,this.b*T,this.opacity)},
rgb(){return this},clamp(){return new wb(jc(this.r),jc(this.g),jc(this.b),Zb(this.opacity))},displayable(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Gb,formatHex:Gb,formatHex8:function(){return`#${Ac(this.r)}${Ac(this.g)}${Ac(this.b)}${Ac(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Nb,toString:Nb}));Kb(Ha,na,qc($b,{brighter(T){T=null==T?te:Math.pow(te,T);return new Ha(this.h,this.s,this.l*T,this.opacity)},
darker(T){T=null==T?.7:Math.pow(.7,T);return new Ha(this.h,this.s,this.l*T,this.opacity)},rgb(){var T=this.h%360+360*(0>this.h),Ja=isNaN(T)||isNaN(this.s)?0:this.s,lb=this.l;Ja=lb+(.5>lb?lb:1-lb)*Ja;lb=2*lb-Ja;return new wb(t(240<=T?T-240:T+120,lb,Ja),t(T,lb,Ja),t(120>T?T+240:T-120,lb,Ja),this.opacity)},clamp(){return new Ha(fb(this.h),Q(this.s),Q(this.l),Zb(this.opacity))},displayable(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl(){const T=
Zb(this.opacity);return`${1===T?"hsl(":"hsla("}${fb(this.h)}, ${100*Q(this.s)}%, ${100*Q(this.l)}%${1===T?")":`, ${T})`}`}}));const rf=Math.PI/180,bf=180/Math.PI,eg=4/29,fg=6/29,Of=3*fg*fg,Pf=fg*fg*fg;Kb(Da,za,qc($b,{brighter(T){return new Da(this.l+18*(null==T?1:T),this.a,this.b,this.opacity)},darker(T){return new Da(this.l-18*(null==T?1:T),this.a,this.b,this.opacity)},rgb(){var T=(this.l+16)/116,Ja=isNaN(this.a)?T:T+this.a/500,lb=isNaN(this.b)?T:T-this.b/200;Ja=.96422*jb(Ja);T=1*jb(T);lb=.82521*
jb(lb);return new wb(Rb(3.1338561*Ja-1.6168667*T-.4906146*lb),Rb(-.9787684*Ja+1.9161415*T+.033454*lb),Rb(.0719453*Ja-.2289914*T+1.4052427*lb),this.opacity)}}));Kb(Dc,Bc,qc($b,{brighter(T){return new Dc(this.h,this.c,this.l+18*(null==T?1:T),this.opacity)},darker(T){return new Dc(this.h,this.c,this.l-18*(null==T?1:T),this.opacity)},rgb(){return Rc(this).rgb()}}));const nf={},lg=T=>T.data,Fg={random(){return Xb.random()},cumulativeNormal:Xb.cumulativeNormal,cumulativeLogNormal:Xb.cumulativeLogNormal,
cumulativeUniform:Xb.cumulativeUniform,densityNormal:Xb.densityNormal,densityLogNormal:Xb.densityLogNormal,densityUniform:Xb.densityUniform,quantileNormal:Xb.quantileNormal,quantileLogNormal:Xb.quantileLogNormal,quantileUniform:Xb.quantileUniform,sampleNormal:Xb.sampleNormal,sampleLogNormal:Xb.sampleLogNormal,sampleUniform:Xb.sampleUniform,isArray:h.isArray,isBoolean:h.isBoolean,isDate:h.isDate,isDefined(T){return void 0!==T},isNumber:h.isNumber,isObject:h.isObject,isRegExp:h.isRegExp,isString:h.isString,
isTuple:ub.isTuple,isValid(T){return null!=T&&T===T},toBoolean:h.toBoolean,toDate(T){return h.toDate(T)},toNumber:h.toNumber,toString:h.toString,indexof:cc,join:yb,lastindexof:Sb,replace:Ic,reverse:yc,slice:pc,flush:h.flush,lerp:h.lerp,merge:Fd,pad:h.pad,peek:h.peek,pluck:xa,span:h.span,inrange:h.inrange,truncate:h.truncate,rgb:Ta,lab:za,hcl:Bc,hsl:na,luminance:rd,contrast:gd,sequence:function(T,Ja,lb){T=+T;Ja=+Ja;lb=2>(Ec=arguments.length)?(Ja=T,T=0,1):3>Ec?1:+lb;for(var Gc=-1,Ec=Math.max(0,Math.ceil((Ja-
T)/lb))|0,Ld=Array(Ec);++Gc<Ec;)Ld[Gc]=T+Gc*lb;return Ld},format:qd,utcFormat:Oc,utcParse:Td,utcOffset:oc.utcOffset,utcSequence:oc.utcSequence,timeFormat:id,timeParse:Pd,timeOffset:oc.timeOffset,timeSequence:oc.timeSequence,timeUnitSpecifier:oc.timeUnitSpecifier,monthFormat:tb,monthAbbrevFormat:rb,dayFormat:pb,dayAbbrevFormat:vb,quarter:h.quarter,utcquarter:h.utcquarter,week:oc.week,utcweek:oc.utcweek,dayofyear:oc.dayofyear,utcdayofyear:oc.utcdayofyear,warn:Tb,info:X,debug:Fa,extent(T){return h.extent(T)},
inScope:sb,intersect:Cb,clampRange:h.clampRange,pinchDistance:x,pinchAngle:J,screen:ca,containerSize:eb,windowSize:Ga,bandspace:Xc,setdata:kc,pathShape:Ke,panLinear:h.panLinear,panLog:h.panLog,panPow:h.panPow,panSymlog:h.panSymlog,zoomLinear:h.zoomLinear,zoomLog:h.zoomLog,zoomPow:h.zoomPow,zoomSymlog:h.zoomSymlog,encode:Ea,modify:Ed,lassoAppend:function(T,Ja,lb,Gc=5){T=h.array(T);const Ec=T[T.length-1];return void 0===Ec||Math.hypot(Ec[0]-Ja,Ec[1]-lb)>Gc?[...T,[Ja,lb]]:T},lassoPath:function(T){return h.array(T).reduce((Ja,
[lb,Gc],Ec)=>Ja+(0==Ec?`M ${lb},${Gc} `:Ec===T.length-1?" Z":`L ${lb},${Gc} `),"")},intersectLasso:function(T,Ja,lb){const {x:Gc,y:Ec,mark:Ld}=lb;lb=(new Yb.Bounds).set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const [he,Ie]of Ja)he<lb.x1&&(lb.x1=he),he>lb.x2&&(lb.x2=he),Ie<lb.y1&&(lb.y1=Ie),Ie>lb.y2&&(lb.y2=Ie);lb.translate(Gc,Ec);return Cb([[lb.x1,lb.y1],[lb.x2,lb.y2]],T,Ld).filter(he=>{var Ie=he.y;let De=0;for(let Jf=0,Yf=Ja.length-1;Jf<
Ja.length;Yf=Jf++){const [ih,Tf]=Ja[Yf],[Vg,gg]=Ja[Jf];gg>Ie!=Tf>Ie&&he.x<(ih-Vg)*(Ie-gg)/(Tf-gg)+Vg&&De++}return De&1})}},Ch="view item group xy x y".split(" "),Gg={},Ug={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:T=>`_[${h.stringValue("$"+T)}]`,functions:function(T){const Ja=ka.functions(T);Ch.forEach(lb=>Ja[lb]="event.vega."+lb);for(const lb in Fg)Ja[lb]="this."+lb;h.extend(Ja,Ra(T,Fg,Gg));return Ja},constants:ka.constants,visitors:Gg},ch=ka.codegenExpression(Ug);
Lb("bandwidth",md,sa);Lb("copy",sd,sa);Lb("domain",Bd,sa);Lb("range",Nd,sa);Lb("invert",pd,sa);Lb("scale",le,sa);Lb("gradient",Re,sa);Lb("geoArea",Ce,sa);Lb("geoBounds",Rd,sa);Lb("geoCentroid",Od,sa);Lb("geoShape",Ge,sa);Lb("geoScale",Xa,sa);Lb("indata",Ub,ec);Lb("data",zb,gb);Lb("treePath",ef,gb);Lb("treeAncestors",E,gb);Lb("vlSelectionTest",bc.selectionTest,bc.selectionVisitor);Lb("vlSelectionIdTest",bc.selectionIdTest,bc.selectionVisitor);Lb("vlSelectionResolve",bc.selectionResolve,bc.selectionVisitor);
Lb("vlSelectionTuples",bc.selectionTuples);r.DataPrefix=":";r.IndexPrefix="@";r.ScalePrefix="%";r.SignalPrefix="$";r.bandspace=Xc;r.bandwidth=md;r.codeGenerator=ch;r.codegenParams=Ug;r.containerSize=eb;r.contrast=gd;r.copy=sd;r.data=zb;r.dataVisitor=gb;r.dayAbbrevFormat=vb;r.dayFormat=pb;r.debug=Fa;r.domain=Bd;r.encode=Ea;r.expressionFunction=Lb;r.format=qd;r.functionContext=Fg;r.geoArea=Ce;r.geoBounds=Rd;r.geoCentroid=Od;r.geoScale=Xa;r.geoShape=Ge;r.inScope=sb;r.indata=Ub;r.indataVisitor=ec;r.indexof=
cc;r.info=X;r.invert=pd;r.join=yb;r.lastindexof=Sb;r.luminance=rd;r.merge=Fd;r.modify=Ed;r.monthAbbrevFormat=rb;r.monthFormat=tb;r.parseExpression=function(T,Ja){const lb={};let Gc;try{T=h.isString(T)?T:h.stringValue(T)+"",Gc=ka.parseExpression(T)}catch(Ec){h.error("Expression parse error: "+T)}Gc.visit(Ec=>{if(Ec.type===ka.CallExpression){var Ld=Ec.callee.name,he=Ug.visitors[Ld];he&&he(Ld,Ec.arguments,Ja,lb)}});T=ch(Gc);T.globals.forEach(Ec=>{const Ld="$"+Ec;!h.hasOwnProperty(lb,Ld)&&Ja.getSignal(Ec)&&
(lb[Ld]=Ja.signalRef(Ec))});return{$expr:h.extend({code:T.code},Ja.options.ast?{ast:Gc}:null),$fields:T.fields,$params:lb}};r.pathShape=Ke;r.pinchAngle=J;r.pinchDistance=x;r.pluck=xa;r.range=Nd;r.replace=Ic;r.reverse=yc;r.scale=le;r.scaleGradient=Re;r.scaleVisitor=sa;r.screen=ca;r.setdata=kc;r.slice=pc;r.timeFormat=id;r.timeParse=Pd;r.treeAncestors=E;r.treePath=ef;r.utcFormat=Oc;r.utcParse=Td;r.warn=Tb;r.windowSize=Ga})};
shadow$provide[50]=function(Db,mb,Cc,Va){(function(r,h){"object"===typeof Va&&"undefined"!==typeof Cc?h(Va,mb(21),mb(29)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],h):(r="undefined"!==typeof globalThis?globalThis:r||self,h(r.vega={},r.vega,r.vega))})(this,function(r,h,ka){function Ya(Ea,Za,tb){tb.endsWith(";")||(tb="return("+tb+");");Za=Function(...Za.concat(tb));return Ea&&Ea.functions?Za.bind(Ea.functions):Za}function ub(Ea,Za,tb){if(!Ea||!h.isObject(Ea))return Ea;
for(let rb=0,pb=Ub.length,vb;rb<pb;++rb)if(vb=Ub[rb],h.hasOwnProperty(Ea,vb.key))return vb.parse(Ea,Za,tb);return Ea}function Yb(Ea,Za,tb,rb){this.dataflow=Ea;this.transforms=Za;this.events=Ea.events.bind(Ea);this.expr=rb||zb;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};tb&&(this.functions=Object.create(tb),this.functions.context=this)}function bc(Ea){this.dataflow=Ea.dataflow;this.transforms=Ea.transforms;this.events=Ea.events;this.expr=Ea.expr;this.signals=Object.create(Ea.signals);
this.scales=Object.create(Ea.scales);this.nodes=Object.create(Ea.nodes);this.data=Object.create(Ea.data);this.fn=Object.create(Ea.fn);Ea.functions&&(this.functions=Object.create(Ea.functions),this.functions.context=this)}const Xb=h.toSet(["rule"]),oc=h.toSet(["group","image","rect"]);var zb={operator:(Ea,Za)=>Ya(Ea,["_"],Za.code),parameter:(Ea,Za)=>Ya(Ea,["datum","_"],Za.code),event:(Ea,Za)=>Ya(Ea,["event"],Za.code),handler:(Ea,Za)=>Ya(Ea,["_","event"],`var datum=event.item&&event.item.datum;return ${Za.code};`),
encode:(Ea,Za)=>{const {marktype:tb,channels:rb}=Za;Za="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";for(var pb in rb){const vb="o["+h.stringValue(pb)+"]";Za+=`$=${rb[pb].code};if(${vb}!==$)${vb}=$,m=1;`}pb="";Xb[tb]||(rb.x2&&(rb.x?(oc[tb]&&(pb+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),pb+="o.width\x3do.x2-o.x;"):pb+="o.x\x3do.x2-(o.width||0);"),rb.xc&&(pb+="o.x\x3do.xc-(o.width||0)/2;"),rb.y2&&(rb.y?(oc[tb]&&(pb+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),pb+="o.height\x3do.y2-o.y;"):
pb+="o.y\x3do.y2-(o.height||0);"),rb.yc&&(pb+="o.y\x3do.yc-(o.height||0)/2;"));Za+=pb;return Ya(Ea,["item","_"],Za+"return m;")},codegen:{get(Ea){Ea=`[${Ea.map(h.stringValue).join("][")}]`;const Za=Function("_",`return _${Ea};`);Za.path=Ea;return Za},comparator(Ea,Za){let tb;Ea=Function("a","b","var u, v; return "+Ea.map((rb,pb)=>{const vb=Za[pb];let gb;rb.path?(gb=`a${rb.path}`,rb=`b${rb.path}`):((tb=tb||{})["f"+pb]=rb,gb=`this.f${pb}(a)`,rb=`this.f${pb}(b)`);pb=-vb;return`((u = ${gb}) < (v = ${rb}) || u == null) && v != null ? ${pb}
  : (u > v || v == null) && u != null ? ${vb}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${pb}
  : v !== v && u === u ? ${vb} : `}).join("")+"0;");return tb?Ea.bind(tb):Ea}}},Ub=[{key:"$ref",parse:function(Ea,Za){return Za.get(Ea.$ref)||h.error("Operator not defined: "+Ea.$ref)}},{key:"$key",parse:function(Ea,Za){const tb="k:"+Ea.$key+"_"+!!Ea.$flat;return Za.fn[tb]||(Za.fn[tb]=h.key(Ea.$key,Ea.$flat,Za.expr.codegen))}},{key:"$expr",parse:function(Ea,Za,tb){Ea.$params&&Za.parseParameters(Ea.$params,tb);tb="e:"+Ea.$expr.code;return Za.fn[tb]||(Za.fn[tb]=h.accessor(Za.parameterExpression(Ea.$expr),
Ea.$fields))}},{key:"$field",parse:function(Ea,Za){if(!Ea.$field)return null;const tb="f:"+Ea.$field+"_"+Ea.$name;return Za.fn[tb]||(Za.fn[tb]=h.field(Ea.$field,Ea.$name,Za.expr.codegen))}},{key:"$encode",parse:function(Ea,Za){Ea=Ea.$encode;const tb={};for(const rb in Ea){const pb=Ea[rb];tb[rb]=h.accessor(Za.encodeExpression(pb.$expr),pb.$fields);tb[rb].output=pb.$output}return tb}},{key:"$compare",parse:function(Ea,Za){const tb="c:"+Ea.$compare+"_"+Ea.$order,rb=h.array(Ea.$compare).map(pb=>pb&&pb.$tupleid?
ka.tupleid:pb);return Za.fn[tb]||(Za.fn[tb]=h.compare(rb,Ea.$order,Za.expr.codegen))}},{key:"$context",parse:function(Ea,Za){return Za}},{key:"$subflow",parse:function(Ea,Za){const tb=Ea.$subflow;return function(rb,pb,vb){const gb=Za.fork().parse(tb);rb=gb.get(tb.operators[0].id);(pb=gb.signals.parent)&&pb.set(vb);rb.detachSubflow=()=>Za.detach(gb);return rb}}},{key:"$tupleid",parse:function(){return ka.tupleid}}];const kc={skip:!0};Yb.prototype=bc.prototype={fork(){const Ea=new bc(this);(this.subcontext||
(this.subcontext=[])).push(Ea);return Ea},detach(Ea){this.subcontext=this.subcontext.filter(tb=>tb!==Ea);const Za=Object.keys(Ea.nodes);for(const tb of Za)Ea.nodes[tb]._targets=null;for(const tb of Za)Ea.nodes[tb].detach();Ea.nodes=null},get(Ea){return this.nodes[Ea]},set(Ea,Za){return this.nodes[Ea]=Za},add(Ea,Za){const tb=this,rb=tb.dataflow,pb=Ea.value;tb.set(Ea.id,Za);"collect"===(Ea.type+"").toLowerCase()&&pb&&(pb.$ingest?rb.ingest(Za,pb.$ingest,pb.$format):pb.$request?rb.preload(Za,pb.$request,
pb.$format):rb.pulse(Za,rb.changeset().insert(pb)));Ea.root&&(tb.root=Za);if(Ea.parent){let vb=tb.get(Ea.parent.$ref);vb?(rb.connect(vb,[Za]),Za.targets().add(vb)):(tb.unresolved=tb.unresolved||[]).push(()=>{vb=tb.get(Ea.parent.$ref);rb.connect(vb,[Za]);Za.targets().add(vb)})}Ea.signal&&(tb.signals[Ea.signal]=Za);Ea.scale&&(tb.scales[Ea.scale]=Za);if(Ea.data)for(const vb in Ea.data){const gb=tb.data[vb]||(tb.data[vb]={});Ea.data[vb].forEach(ec=>gb[ec]=Za)}},resolve(){(this.unresolved||[]).forEach(Ea=>
Ea());delete this.unresolved;return this},operator(Ea,Za){this.add(Ea,this.dataflow.add(Ea.value,Za))},transform(Ea,Za){this.add(Ea,this.dataflow.add(this.transforms[(Za+"").toLowerCase()]))},stream(Ea,Za){this.set(Ea.id,Za)},update(Ea,Za,tb,rb,pb){this.dataflow.on(Za,tb,rb,pb,Ea.options)},operatorExpression(Ea){return this.expr.operator(this,Ea)},parameterExpression(Ea){return this.expr.parameter(this,Ea)},eventExpression(Ea){return this.expr.event(this,Ea)},handlerExpression(Ea){return this.expr.handler(this,
Ea)},encodeExpression(Ea){return this.expr.encode(this,Ea)},parse:function(Ea){const Za=this,tb=Ea.operators||[];Ea.background&&(Za.background=Ea.background);Ea.eventConfig&&(Za.eventConfig=Ea.eventConfig);Ea.locale&&(Za.locale=Ea.locale);tb.forEach(rb=>Za.parseOperator(rb));tb.forEach(rb=>Za.parseOperatorParameters(rb));(Ea.streams||[]).forEach(rb=>Za.parseStream(rb));(Ea.updates||[]).forEach(rb=>Za.parseUpdate(rb));return Za.resolve()},parseOperator:function(Ea){"operator"!==(Ea.type+"").toLowerCase()&&
Ea.type?this.transform(Ea,Ea.type):this.operator(Ea,Ea.update?this.operatorExpression(Ea.update):null)},parseOperatorParameters:function(Ea){if(Ea.params){const Za=this.get(Ea.id);Za||h.error("Invalid operator id: "+Ea.id);this.dataflow.connect(Za,Za.parameters(this.parseParameters(Ea.params),Ea.react,Ea.initonly))}},parseParameters:function(Ea,Za){Za=Za||{};const tb=this;for(const rb in Ea){const pb=Ea[rb];Za[rb]=h.isArray(pb)?pb.map(vb=>ub(vb,tb,Za)):ub(pb,tb,Za)}return Za},parseStream:function(Ea){var Za=
this,tb=null!=Ea.filter?Za.eventExpression(Ea.filter):void 0,rb=null!=Ea.stream?Za.get(Ea.stream):void 0;if(Ea.source)rb=Za.events(Ea.source,Ea.type,tb);else if(Ea.merge){var pb=Ea.merge.map(vb=>Za.get(vb));rb=pb[0].merge.apply(pb[0],pb.slice(1))}Ea.between&&(pb=Ea.between.map(vb=>Za.get(vb)),rb=rb.between(pb[0],pb[1]));Ea.filter&&(rb=rb.filter(tb));null!=Ea.throttle&&(rb=rb.throttle(+Ea.throttle));null!=Ea.debounce&&(rb=rb.debounce(+Ea.debounce));null==rb&&h.error("Invalid stream definition: "+JSON.stringify(Ea));
Ea.consume&&rb.consume(!0);Za.stream(Ea,rb)},parseUpdate:function(Ea){var Za=h.isObject(Za=Ea.source)?Za.$ref:Za;Za=this.get(Za);var tb=Ea.update,rb=void 0;Za||h.error("Source not defined: "+Ea.source);var pb=Ea.target&&Ea.target.$expr?this.eventExpression(Ea.target.$expr):this.get(Ea.target);tb&&tb.$expr&&(tb.$params&&(rb=this.parseParameters(tb.$params)),tb=this.handlerExpression(tb.$expr));this.update(Ea,Za,pb,tb,rb)},getState:function(Ea){var Za=this,tb={};if(Ea.signals){var rb=tb.signals={};
Object.keys(Za.signals).forEach(vb=>{const gb=Za.signals[vb];Ea.signals(vb,gb)&&(rb[vb]=gb.value)})}if(Ea.data){var pb=tb.data={};Object.keys(Za.data).forEach(vb=>{const gb=Za.data[vb];Ea.data(vb,gb)&&(pb[vb]=gb.input.value)})}Za.subcontext&&!1!==Ea.recurse&&(tb.subcontext=Za.subcontext.map(vb=>vb.getState(Ea)));return tb},setState:function(Ea){var Za=this,tb=Za.dataflow,rb=Ea.data,pb=Ea.signals;Object.keys(pb||{}).forEach(vb=>{tb.update(Za.signals[vb],pb[vb],kc)});Object.keys(rb||{}).forEach(vb=>
{tb.pulse(Za.data[vb].input,tb.changeset().remove(h.truthy).insert(rb[vb]))});(Ea.subcontext||[]).forEach((vb,gb)=>{(gb=Za.subcontext[gb])&&gb.setState(vb)})}};r.context=function(Ea,Za,tb,rb){return new Yb(Ea,Za,tb,rb)}})};
shadow$provide[51]=function(Db,mb,Cc,Va){(function(r,h){"object"===typeof Va&&"undefined"!==typeof Cc?h(Va,mb(21),mb(29),mb(34),mb(49),mb(50),mb(24)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph vega-functions vega-runtime vega-format".split(" "),h):(r="undefined"!==typeof globalThis?globalThis:r||self,h(r.vega={},r.vega,r.vega,r.vega,r.vega,r.vega,r.vega))})(this,function(r,h,ka,Ya,ub,Yb,bc){function Xb(na){const Ha=na.container();Ha&&(Ha.setAttribute("role",
"graphics-document"),Ha.setAttribute("aria-roleDescription","visualization"),oc(Ha,na.description()))}function oc(na,Ha){na&&(null==Ha?na.removeAttribute("aria-label"):na.setAttribute("aria-label",Ha))}function zb(na){na.add(null,Ha=>{na._background=Ha.bg;na._resize=1;return Ha.bg},{bg:na._signals.background})}function Ub(na){const Ha=na._signals.cursor||(na._signals.cursor=na.add({user:"default",item:null}));na.on(na.events("view","pointermove"),Ha,(fb,Q)=>{const t=(fb=Ha.value)?h.isString(fb)?fb:
fb.user:"default";Q=Q.item&&Q.item.cursor||null;return fb&&t===fb.user&&Q==fb.item?fb:{user:t,item:Q}});na.add(null,function(fb){fb=fb.cursor;let Q=this.value;h.isString(fb)||(Q=fb.item,fb=fb.user);kc(na,fb&&"default"!==fb?fb:Q||fb);return Q},{cursor:Ha})}function kc(na,Ha){if(na=na.globalCursor()?"undefined"!==typeof document&&document.body:na.container())return null==Ha?na.style.removeProperty("cursor"):na.style.cursor=Ha}function Ea(na,Ha){na=na._runtime.data;h.hasOwnProperty(na,Ha)||h.error("Unrecognized data set: "+
Ha);return na[Ha]}function Za(na,Ha){ka.isChangeSet(Ha)||h.error("Second argument to changes must be a changeset.");na=Ea(this,na);na.modified=!0;return this.pulse(na.input,Ha)}function tb(na){var Ha=na.padding();return Math.max(0,na._viewWidth+Ha.left+Ha.right)}function rb(na){var Ha=na.padding();return Math.max(0,na._viewHeight+Ha.top+Ha.bottom)}function pb(na){var Ha=na.padding();na=na._origin;return[Ha.left+na[0],Ha.top+na[1]]}function vb(na){var Ha=pb(na),fb=tb(na),Q=rb(na);na._renderer.background(na.background());
na._renderer.resize(fb,Q,Ha);na._handler.origin(Ha);na._resizeListeners.forEach(t=>{try{t(fb,Q)}catch(da){na.error(da)}})}function gb(na,Ha,fb){function Q(za){var Da=da,Oa;if(za)for(Oa=Ha;Oa;Oa=Oa.mark.group)if(Oa.mark.name===za){Da=Oa;break}return Da&&Da.mark&&Da.mark.interactive?Da:{}}function t(za){if(!za)return fb;h.isString(za)&&(za=Q(za));const Da=fb.slice();for(;za;)Da[0]-=za.x||0,Da[1]-=za.y||0,za=za.mark&&za.mark.group;return Da}const da=Ha?"group"===Ha.mark.marktype?Ha:Ha.mark.group:null;
return{view:h.constant(na),item:h.constant(Ha||{}),group:Q,xy:t,x:za=>t(za)[0],y:za=>t(za)[1]}}function ec(na){na=h.extend({defaults:{}},na);const Ha=(fb,Q)=>{Q.forEach(t=>{h.isArray(fb[t])&&(fb[t]=h.toSet(fb[t]))})};Ha(na.defaults,["prevent","allow"]);Ha(na,["view","window","selector"]);return na}function sa(na,Ha,fb,Q){na._eventListeners.push({type:fb,sources:h.array(Ha),handler:Q})}function ia(na,Ha,fb){const Q=na._eventConfig&&na._eventConfig[Ha];return!1===Q||h.isObject(Q)&&!Q[fb]?(na.warn(`Blocked ${Ha} ${fb} event listener.`),
!1):!0}function Ba(na){return na.item}function Ra(na){return na.item.mark.source}function Wa(na){return function(Ha,fb){return fb.vega.view().changeset().encode(fb.item,na)}}function Ia(na,Ha,fb){na=document.createElement(na);for(const Q in Ha)na.setAttribute(Q,Ha[Q]);null!=fb&&(na.textContent=fb);return na}function hb(na,Ha,fb){var Q=(Ha-na)/Math.max(0,fb),t=Math.floor(Math.log10(Q));Q/=Math.pow(10,t);Q=Q>=Qb?10:Q>=wc?5:Q>=fd?2:1;let da;0>t?(da=Math.pow(10,-t)/Q,t=Math.round(na*da),Q=Math.round(Ha*
da),t/da<na&&++t,Q/da>Ha&&--Q,da=-da):(da=Math.pow(10,t)*Q,t=Math.round(na/da),Q=Math.round(Ha/da),t*da<na&&++t,Q*da>Ha&&--Q);return Q<t&&.5<=fb&&2>fb?hb(na,Ha,2*fb):[t,Q,da]}function ab(na,Ha,fb){return hb(+na,+Ha,+fb)[2]}function qb(na,Ha,fb){Ha=+Ha;na=+na;fb=+fb;const Q=Ha<na;na=Q?ab(Ha,na,fb):ab(na,Ha,fb);return(Q?-1:1)*(0>na?1/-na:na)}function Pb(na,Ha,fb){if(Ha){var Q=fb.param,t=fb.state;t||(t=fb.state={elements:null,active:!1,set:null,update:da=>{da!=na.signal(Q.signal)&&na.runAsync(null,()=>
{t.source=!0;na.signal(Q.signal,da)})}},Q.debounce&&(t.update=h.debounce(Q.debounce,t.update)));(null==Q.input&&Q.element?db:U)(t,Ha,Q,na);t.active||(na.on(na._signals[Q.signal],null,()=>{t.source?t.source=!1:t.set(na.signal(Q.signal))}),t.active=!0);return t}}function db(na,Ha,fb,Q){const t=fb.event||"input",da=()=>na.update(Ha.value);Q.signal(fb.signal,Ha.value);Ha.addEventListener(t,da);sa(Q,Ha,t,da);na.set=za=>{Ha.value=za;za=Ha.dispatchEvent;var Da="undefined"!==typeof Event?new Event(t):{type:t};
za.call(Ha,Da)}}function U(na,Ha,fb,Q){Q=Q.signal(fb.signal);const t=Ia("div",{"class":"vega-bind"}),da="radio"===fb.input?t:t.appendChild(Ia("label"));da.appendChild(Ia("span",{"class":"vega-bind-name"},fb.name||fb.signal));Ha.appendChild(t);Ha=ba;switch(fb.input){case "checkbox":Ha=ea;break;case "select":Ha=ja;break;case "radio":Ha=La;break;case "range":Ha=oa}Ha(na,da,fb,Q)}function ba(na,Ha,fb,Q){const t=Ia("input");for(const da in fb)"signal"!==da&&"element"!==da&&t.setAttribute("input"===da?
"type":da,fb[da]);t.setAttribute("name",fb.signal);t.value=Q;Ha.appendChild(t);t.addEventListener("input",()=>na.update(t.value));na.elements=[t];na.set=da=>t.value=da}function ea(na,Ha,fb,Q){fb={type:"checkbox",name:fb.signal};Q&&(fb.checked=!0);const t=Ia("input",fb);Ha.appendChild(t);t.addEventListener("change",()=>na.update(t.checked));na.elements=[t];na.set=da=>t.checked=!!da||null}function ja(na,Ha,fb,Q){const t=Ia("select",{name:fb.signal}),da=fb.labels||[];fb.options.forEach((za,Da)=>{const Oa=
{value:za};qa(za,Q)&&(Oa.selected=!0);t.appendChild(Ia("option",Oa,(da[Da]||za)+""))});Ha.appendChild(t);t.addEventListener("change",()=>{na.update(fb.options[t.selectedIndex])});na.elements=[t];na.set=za=>{for(let Da=0,Oa=fb.options.length;Da<Oa;++Da)if(qa(fb.options[Da],za)){t.selectedIndex=Da;break}}}function La(na,Ha,fb,Q){const t=Ia("span",{"class":"vega-bind-radio"}),da=fb.labels||[];Ha.appendChild(t);na.elements=fb.options.map((za,Da)=>{var Oa={type:"radio",name:fb.signal,value:za};qa(za,Q)&&
(Oa.checked=!0);Oa=Ia("input",Oa);Oa.addEventListener("change",()=>na.update(za));Da=Ia("label",{},(da[Da]||za)+"");Da.prepend(Oa);t.appendChild(Da);return Oa});na.set=za=>{const Da=na.elements,Oa=Da.length;for(let jb=0;jb<Oa;++jb)qa(Da[jb].value,za)&&(Da[jb].checked=!0)}}function oa(na,Ha,fb,Q){Q=void 0!==Q?Q:(+fb.max+ +fb.min)/2;const t=null!=fb.max?fb.max:Math.max(100,+Q)||100,da=fb.min||Math.min(0,t,+Q)||0,za=fb.step||qb(da,t,100),Da=Ia("input",{type:"range",name:fb.signal,min:da,max:t,step:za});
Da.value=Q;const Oa=Ia("span",{},+Q);Ha.appendChild(Da);Ha.appendChild(Oa);Ha=()=>{Oa.textContent=Da.value;na.update(+Da.value)};Da.addEventListener("input",Ha);Da.addEventListener("change",Ha);na.elements=[Da];na.set=jb=>{Da.value=jb;Oa.textContent=jb}}function qa(na,Ha){return na===Ha||na+""===Ha+""}function l(na,Ha,fb,Q,t,da){Ha=Ha||new Q(na.loader());return Ha.initialize(fb,tb(na),rb(na),pb(na),t,da).background(na.background())}function D(na,Ha){return Ha?function(){try{Ha.apply(this,arguments)}catch(fb){na.error(fb)}}:
null}function K(na,Ha,fb,Q){const t=(new Q(na.loader(),D(na,na.tooltip()))).scene(na.scenegraph().root).initialize(fb,pb(na),na);Ha&&Ha.handlers().forEach(da=>{t.on(da.type,da.handler)});return t}function v(na,Ha,fb){if("string"===typeof Ha)if("undefined"!==typeof document){if(Ha=document.querySelector(Ha),!Ha)return na.error("Signal bind element not found: "+Ha),null}else return na.error("DOM document instance not found."),null;if(Ha&&fb)try{Ha.textContent=""}catch(Q){Ha=null,na.error(Q)}return Ha}
function R(na){h.isObject(na)?na={top:+na.top||0,bottom:+na.bottom||0,left:+na.left||0,right:+na.right||0}:(na=+na||0,na={top:na,bottom:na,left:na,right:na});return na}function A(na,Ha,fb,Q){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var t=Ya.renderModule(Ha);(t=t&&t.headless)||h.error("Unrecognized renderer type: "+Ha);yield na.runAsync();return l(na,null,null,t,fb,Q).renderAsync(na._scenegraph.root)})}function W(na,Ha,fb){return Yb.context(na,ka.transforms,ub.functionContext,
fb).parse(Ha)}function G(na,Ha){var fb=na.autosize();na=na.padding();return Ha-(fb&&"padding"===fb.contains?na.left+na.right:0)}function w(na,Ha){var fb=na.autosize();na=na.padding();return Ha-(fb&&"padding"===fb.contains?na.top+na.bottom:0)}function z(na){function Ha(){na._autosize=na._resize=1}var fb=na._signals,Q=fb.width,t=fb.height;fb=fb.padding;na._resizeWidth=na.add(null,za=>{na._width=za.size;na._viewWidth=G(na,za.size);Ha()},{size:Q});na._resizeHeight=na.add(null,za=>{na._height=za.size;
na._viewHeight=w(na,za.size);Ha()},{size:t});const da=na.add(null,Ha,{pad:fb});na._resizeWidth.rank=Q.rank+1;na._resizeHeight.rank=t.rank+1;da.rank=fb.rank+1}function F(na,Ha){return Ha.modified&&h.isArray(Ha.input.value)&&!na.startsWith("_:vega:_")}function V(na,Ha){return!("parent"===na||Ha instanceof ka.transforms.proxy)}function ta(){return jc||(Vc(N),jc=ld.now()+Ac)}function N(){jc=0}function ma(){this._call=this._time=this._next=null}function ya(){jc=(Zb=ld.now())+Ac;Ab=Ta=0;try{ta();++Ab;for(var na=
Gb,Ha;na;)0<=(Ha=jc-na._time)&&na._call.call(void 0,Ha),na=na._next;--Ab}finally{Ab=0;na=Gb;for(var fb=Infinity;na;)if(na._call){fb>na._time&&(fb=na._time);var Q=na;na=na._next}else Ha=na._next,na._next=null,na=Q?Q._next=Ha:Gb=Ha;Nb=Q;Pa(fb);jc=0}}function Ma(){var na=ld.now(),Ha=na-Zb;1E3<Ha&&(Ac-=Ha,Zb=na)}function Pa(na){Ab||(Ta&&(Ta=clearTimeout(Ta)),24<na-jc?(Infinity>na&&(Ta=setTimeout(ya,na-ld.now()-Ac)),wb&&(wb=clearInterval(wb))):(wb||(Zb=ld.now(),wb=setInterval(Ma,1E3)),Ab=1,Vc(ya)))}function Xa(na,
Ha,fb){var Q=new ma,t=Ha;if(null==Ha)return Q.restart(na,Ha,fb),Q;Q._restart=Q.restart;Q.restart=function(da,za,Da){za=+za;Da=null==Da?ta():+Da;Q._restart(function Rb(jb){jb+=t;Q._restart(Rb,t+=za,Da);da(jb)},za,Da)};Q.restart(na,Ha,fb);return Q}function sb(na,Ha,fb,Q){if(na=na.element())Ha=na.setAttribute,Q=null==Q?"":h.isArray(Q)?"["+Q.map(Tb).join(", ")+"]":h.isObject(Q)&&!h.isDate(Q)?ib(Q):Q+"",Ha.call(na,"title",Q)}function ib(na){return Object.keys(na).map(Ha=>{const fb=na[Ha];return Ha+": "+
(h.isArray(fb)?"["+fb.map(Tb).join(", ")+"]":Tb(fb))}).join("\n")}function Tb(na){return h.isArray(na)?"[]":h.isObject(na)&&!h.isDate(na)?"{}":na}function X(na,Ha){Ha=Ha||{};ka.Dataflow.call(this);Ha.loader&&this.loader(Ha.loader);Ha.logger&&this.logger(Ha.logger);null!=Ha.logLevel&&this.logLevel(Ha.logLevel);if(Ha.locale||na.locale){var fb=h.extend({},na.locale,Ha.locale);this.locale(bc.locale(fb.number,fb.time))}this._elBind=this._el=null;this._renderType=Ha.renderer||Ya.RenderType.Canvas;this._scenegraph=
new Ya.Scenegraph;fb=this._scenegraph.root;this._renderer=null;this._tooltip=Ha.tooltip||sb;this._redraw=!0;this._handler=(new Ya.CanvasHandler).scene(fb);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=ec(na.eventConfig);this.globalCursor(this._eventConfig.globalCursor);const Q=W(this,na,Ha.expr);this._runtime=Q;this._signals=Q.signals;this._bind=(na.bindings||[]).map(t=>({state:null,param:h.extend({},t)}));Q.root&&Q.root.set(fb);
fb.source=Q.data.root.input;this.pulse(Q.data.root.input,this.changeset().insert(fb.items));this._width=this.width();this._height=this.height();this._viewWidth=G(this,this._width);this._viewHeight=w(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;z(this);zb(this);Ub(this);this.description(na.description);Ha.hover&&this.hover();Ha.container&&this.initialize(Ha.container,Ha.bind);Ha.watchPixelRatio&&this._watchPixelRatio()}function Fa(na,Ha){return h.hasOwnProperty(na._signals,
Ha)?na._signals[Ha]:h.error("Unrecognized signal name: "+h.stringValue(Ha))}function Kb(na,Ha){na=(na._targets||[]).filter(fb=>fb._update&&fb._update.handler===Ha);return na.length?na[0]:null}function qc(na,Ha,fb,Q){let t=Kb(fb,Q);t||(t=D(na,()=>Q(Ha,fb.value)),t.handler=Q,na.on(fb,null,t));return na}function $b(na,Ha,fb){(fb=Kb(Ha,fb))&&Ha._targets.remove(fb);return na}const Mb={trap:!1},Qb=Math.sqrt(50),wc=Math.sqrt(10),fd=Math.sqrt(2);var ra={skip:!0},Ab=0,Ta=0,wb=0,Gb,Nb,Zb=0,jc=0,Ac=0,ld="object"===
typeof performance&&performance.now?performance:Date,Vc="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(na){setTimeout(na,17)};ma.prototype={constructor:ma,restart:function(na,Ha,fb){if("function"!==typeof na)throw new TypeError("callback is not a function");fb=(null==fb?ta():+fb)+(null==Ha?0:+Ha);this._next||Nb===this||(Nb?Nb._next=this:Gb=this,Nb=this);this._call=na;this._time=fb;Pa()},stop:function(){this._call&&(this._call=null,this._time=
Infinity,Pa())}};h.inherits(X,ka.Dataflow,{evaluate(na,Ha,fb){const Q=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield ka.Dataflow.prototype.evaluate.call(Q,na,Ha);if(Q._redraw||Q._resize)try{Q._renderer&&(Q._resize&&(Q._resize=0,vb(Q)),yield Q._renderer.renderAsync(Q._scenegraph.root)),Q._redraw=!1}catch(t){Q.error(t)}fb&&ka.asyncCallback(Q,fb);return Q})},dirty(na){this._redraw=!0;this._renderer&&this._renderer.dirty(na)},description(na){if(arguments.length){const Ha=null!=
na?na+"":null;Ha!==this._desc&&oc(this._el,this._desc=Ha);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(na,Ha,fb){const Q=Fa(this,na);return 1===arguments.length?Q.value:this.update(Q,Ha,fb)},width(na){return arguments.length?this.signal("width",na):this.signal("width")},height(na){return arguments.length?this.signal("height",na):this.signal("height")},padding(na){return arguments.length?this.signal("padding",
R(na)):R(this.signal("padding"))},autosize(na){return arguments.length?this.signal("autosize",na):this.signal("autosize")},background(na){return arguments.length?this.signal("background",na):this.signal("background")},renderer(na){if(!arguments.length)return this._renderType;Ya.renderModule(na)||h.error("Unrecognized renderer type: "+na);na!==this._renderType&&(this._renderType=na,this._resetRenderer());return this},tooltip(na){if(!arguments.length)return this._tooltip;na!==this._tooltip&&(this._tooltip=
na,this._resetRenderer());return this},loader(na){if(!arguments.length)return this._loader;na!==this._loader&&(ka.Dataflow.prototype.loader.call(this,na),this._resetRenderer());return this},resize(){this._autosize=1;return this.touch(Fa(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(na,Ha,fb,Q,t,da){this.runAfter(za=>{let Da=0;za._autosize=0;za.width()!==fb&&(Da=1,za.signal("width",fb,ra),za._resizeWidth.skip(!0));
za.height()!==Q&&(Da=1,za.signal("height",Q,ra),za._resizeHeight.skip(!0));za._viewWidth!==na&&(za._resize=1,za._viewWidth=na);za._viewHeight!==Ha&&(za._resize=1,za._viewHeight=Ha);if(za._origin[0]!==t[0]||za._origin[1]!==t[1])za._resize=1,za._origin=t;Da&&za.run("enter");da&&za.runAfter(Oa=>Oa.resize())},!1,1)},addEventListener(na,Ha,fb){let Q=Ha;fb&&!1===fb.trap||(Q=D(this,Ha),Q.raw=Ha);this._handler.on(na,Q);return this},removeEventListener(na,Ha){for(var fb=this._handler.handlers(na),Q=fb.length,
t,da;0<=--Q;)if(da=fb[Q].type,t=fb[Q].handler,na===da&&(Ha===t||Ha===t.raw)){this._handler.off(da,t);break}return this},addResizeListener(na){const Ha=this._resizeListeners;Ha.includes(na)||Ha.push(na);return this},removeResizeListener(na){var Ha=this._resizeListeners;na=Ha.indexOf(na);0<=na&&Ha.splice(na,1);return this},addSignalListener(na,Ha){return qc(this,na,Fa(this,na),Ha)},removeSignalListener(na,Ha){return $b(this,Fa(this,na),Ha)},addDataListener(na,Ha){return qc(this,na,Ea(this,na).values,
Ha)},removeDataListener(na,Ha){return $b(this,Ea(this,na).values,Ha)},globalCursor(na){if(arguments.length){if(this._globalCursor!==!!na){const Ha=kc(this,null);this._globalCursor=!!na;Ha&&kc(this,Ha)}return this}return this._globalCursor},preventDefault(na){return arguments.length?(this._preventDefault=na,this):this._preventDefault},timer:function(na,Ha){this._timers.push(Xa(function(fb){na({timestamp:Date.now(),elapsed:fb})},Ha))},events:function(na,Ha,fb){var Q=this,t=new ka.EventStream(fb);fb=
function(Oa,jb){Q.runAsync(null,()=>{var Rb;if(Rb="view"===na){var Eb=Q._eventConfig.defaults;Rb=Eb.prevent;Eb=Eb.allow;Rb=!1===Rb||!0===Eb?!1:!0===Rb||!1===Eb?!0:Rb?Rb[Ha]:Eb?!Eb[Ha]:Q.preventDefault()}Rb&&Oa.preventDefault();Rb=t.receive;Eb=(Eb=Q._renderer)&&Eb.canvas();if(Eb){var Ib=pb(Q);var Bc=Oa.changedTouches?Oa.changedTouches[0]:Oa;Bc=Ya.point(Bc,Eb);Bc[0]-=Ib[0];Bc[1]-=Ib[1]}Oa.dataflow=Q;Oa.item=jb;Oa.vega=gb(Q,jb,Bc);Rb.call(t,Oa)})};var da;if("timer"===na)ia(Q,"timer",Ha)&&Q.timer(fb,
Ha);else if("view"===na)ia(Q,"view",Ha)&&Q.addEventListener(Ha,fb,Mb);else if("window"===na?ia(Q,"window",Ha)&&"undefined"!==typeof window&&(da=[window]):"undefined"!==typeof document&&ia(Q,"selector",Ha)&&(da=Array.from(document.querySelectorAll(na))),da){for(var za=0,Da=da.length;za<Da;++za)da[za].addEventListener(Ha,fb);sa(Q,da,Ha,fb)}else Q.warn("Can not resolve event source: "+na);return t},finalize:function(){var na=this._tooltip,Ha=this._timers,fb=this._handler.handlers(),Q=this._eventListeners,
t;for(t=Ha.length;0<=--t;)Ha[t].stop();for(t=Q.length;0<=--t;){var da=Q[t];for(Ha=da.sources.length;0<=--Ha;)da.sources[Ha].removeEventListener(da.type,da.handler)}na&&na.call(this,this._handler,null,null,null);for(t=fb.length;0<=--t;)Q=fb[t].type,na=fb[t].handler,this._handler.off(Q,na);return this},hover:function(na,Ha){na=[na||"hover"];Ha=[Ha||"update",na[0]];this.on(this.events("view","pointerover",Ba),Ra,Wa(na));this.on(this.events("view","pointerout",Ba),Ra,Wa(Ha));return this},data:function(na,
Ha){return 2>arguments.length?Ea(this,na).values.value:Za.call(this,na,ka.changeset().remove(h.truthy).insert(Ha))},change:Za,insert:function(na,Ha){return Za.call(this,na,ka.changeset().insert(Ha))},remove:function(na,Ha){return Za.call(this,na,ka.changeset().remove(Ha))},scale:function(na){var Ha=this._runtime.scales;h.hasOwnProperty(Ha,na)||h.error("Unrecognized scale or projection: "+na);return Ha[na].value},initialize:function(na,Ha){const fb=this;var Q=fb._renderType;const t=fb._eventConfig.bind;
var da=Ya.renderModule(Q);na=fb._el=na?v(fb,na,!0):null;Xb(fb);da||fb.error("Unrecognized renderer type: "+Q);Q=da.handler||Ya.CanvasHandler;da=na?da.renderer:da.headless;fb._renderer=da?l(fb,fb._renderer,na,da):null;fb._handler=K(fb,fb._handler,na,Q);fb._redraw=!0;na&&"none"!==t&&(Ha=Ha?fb._elBind=v(fb,Ha,!0):na.appendChild(Ia("form",{"class":"vega-bindings"})),fb._bind.forEach(za=>{za.param.element&&"container"!==t&&(za.element=v(fb,za.param.element,!!za.param.input))}),fb._bind.forEach(za=>{Pb(fb,
za.element||Ha,za)}));return fb},toImageURL:function(na,Ha){const fb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){na!==Ya.RenderType.Canvas&&na!==Ya.RenderType.SVG&&na!==Ya.RenderType.PNG&&h.error("Unrecognized image type: "+na);var Q=yield A(fb,na,Ha);na===Ya.RenderType.SVG?(Q=Q.svg(),Q=new Blob([Q],{type:"image/svg+xml"}),Q=window.URL.createObjectURL(Q)):Q=Q.canvas().toDataURL("image/png");return Q})},toCanvas:function(na,Ha){const fb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield A(fb,
Ya.RenderType.Canvas,na,Ha)).canvas()})},toSVG:function(na){const Ha=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield A(Ha,Ya.RenderType.SVG,na)).svg()})},getState:function(na){return this._runtime.getState(na||{data:F,signals:V,recurse:!0})},setState:function(na){this.runAsync(null,Ha=>{Ha._trigger=!1;Ha._runtime.setState(na)},Ha=>{Ha._trigger=!0});return this},_watchPixelRatio:function(){if("canvas"===this.renderer()&&this._renderer._canvas){let na=null;const Ha=
()=>{null!=na&&na();const fb=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);fb.addEventListener("change",Ha);na=()=>{fb.removeEventListener("change",Ha)};this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1;this._redraw=!0;this._resize=1;this.resize().runAsync()};Ha()}}});r.View=X})};
shadow$provide[52]=function(Db,mb,Cc,Va){(function(r,h){"object"===typeof Va&&"undefined"!==typeof Cc?h(Va):"function"===typeof define&&define.amd?define(["exports"],h):(r="undefined"!==typeof globalThis?globalThis:r||self,h(r.vega={}))})(this,function(r){function h(zb,Ub,kc,Ea,Za){const tb=zb.length;let rb=0,pb;for(;Ub<tb;++Ub)if(pb=zb[Ub],rb||pb!==kc)Za&&0<=Za.indexOf(pb)?--rb:Ea&&0<=Ea.indexOf(pb)&&++rb;else break;return Ub}function ka(zb){const Ub=[],kc=zb.length;let Ea=0,Za=0;for(;Za<kc;)Za=
h(zb,Za,",","[{","]}"),Ub.push(zb.substring(Ea,Za).trim()),Ea=++Za;if(0===Ub.length)throw"Empty event selector: "+zb;return Ub}function Ya(zb){if("["===zb[0]){var Ub=zb;var kc=Ub.length;zb=h(Ub,1,"]","[","]");if(zb===kc)throw"Empty between selector: "+Ub;kc=ka(Ub.substring(1,zb));if(2!==kc.length)throw"Between selector must have two elements: "+Ub;Ub=Ub.slice(zb+1).trim();if("\x3e"!==Ub[0])throw"Expected '\x3e' after between selector: "+Ub;kc=kc.map(Ya);Ub=Ya(Ub.slice(1).trim());Ub.between?Ub={between:kc,
stream:Ub}:Ub.between=kc}else{kc={source:Xb};const Ea=[];let Za=[0,0],tb=0,rb=0,pb=zb.length,vb=0,gb;if("}"===zb[pb-1]){vb=zb.lastIndexOf("{");if(0<=vb){try{Za=ub(zb.substring(vb+1,pb-1))}catch(ec){throw"Invalid throttle specification: "+zb;}zb=zb.slice(0,vb).trim();pb=zb.length}else throw"Unmatched right brace: "+zb;vb=0}if(!pb)throw zb;"@"===zb[0]&&(tb=++vb);gb=h(zb,vb,":");gb<pb&&(Ea.push(zb.substring(rb,gb).trim()),rb=vb=++gb);vb=h(zb,vb,"[");if(vb===pb)Ea.push(zb.substring(rb,pb).trim());else if(Ea.push(zb.substring(rb,
vb).trim()),Ub=[],rb=++vb,rb===pb)throw"Unmatched left bracket: "+zb;for(;vb<pb;){vb=h(zb,vb,"]");if(vb===pb)throw"Unmatched left bracket: "+zb;Ub.push(zb.substring(rb,vb).trim());if(vb<pb-1&&"["!==zb[++vb])throw"Expected left bracket: "+zb;rb=++vb}if(!(pb=Ea.length)||Yb.test(Ea[pb-1]))throw"Invalid event selector: "+zb;1<pb?(kc.type=Ea[1],tb?kc.markname=Ea[0].slice(1):oc[Ea[0]]?kc.marktype=Ea[0]:kc.source=Ea[0]):kc.type=Ea[0];"!"===kc.type.slice(-1)&&(kc.consume=!0,kc.type=kc.type.slice(0,-1));null!=
Ub&&(kc.filter=Ub);Za[0]&&(kc.throttle=Za[0]);Za[1]&&(kc.debounce=Za[1]);Ub=kc}return Ub}function ub(zb){const Ub=zb.split(",");if(!zb.length||2<Ub.length)throw zb;return Ub.map(kc=>{kc=+kc;if(kc!==kc)throw zb;return kc})}const Yb=/[[\]{}]/,bc={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Xb,oc;r.parseSelector=function(zb,Ub,kc){Xb=Ub||"view";oc=kc||bc;return ka(zb.trim()).map(Ya)}})};
shadow$provide[53]=function(Db,mb,Cc,Va){(function(r,h){"object"===typeof Va&&"undefined"!==typeof Cc?h(Va,mb(21),mb(49),mb(52),mb(33),mb(29)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),h):(r="undefined"!==typeof globalThis?globalThis:r||self,h(r.vega={},r.vega,r.vega,r.vega,r.vega,r.vega))})(this,function(r,h,ka,Ya,ub,Yb){function bc(y){return h.isObject(y)?y:{type:y||"pad"}}function Xb(y){h.isObject(y)?
y=y.signal?y:{top:+y.top||0,bottom:+y.bottom||0,left:+y.left||0,right:+y.right||0}:(y=+y||0,y={top:y,bottom:y,left:y,right:y});return y}function oc(y,M,p,P){return null!=p?(h.isObject(p)&&!h.isArray(p)||h.isArray(p)&&p.length&&h.isObject(p[0])?y.update[M]=p:y[P||"enter"][M]={value:p},1):0}function zb(y,M,p){for(const P in M)oc(y,P,M[P]);for(const P in p)oc(y,P,p[P],"update")}function Ub(y,M,p){for(const P in M)p&&h.hasOwnProperty(p,P)||(y[P]=h.extend(y[P]||{},M[P]));return y}function kc(y,M){return M&&
(M.enter&&M.enter[y]||M.update&&M.update[y])}function Ea(y,M,p,P,Y){const pa={},ua={};let Bb,Fb;Fb="lineBreak";"text"!==M||null==Y[Fb]||kc(Fb,y)||Za(pa,Fb,Y[Fb]);if("legend"==p||String(p).startsWith("axis"))p=null;p="frame"===p?Y.group:"mark"===p?h.extend({},Y.mark,Y[M]):null;for(Fb in p)(M=kc(Fb,y)||("fill"===Fb||"stroke"===Fb)&&(kc("fill",y)||kc("stroke",y)))||Za(pa,Fb,p[Fb]);h.array(P).forEach(Wb=>{Wb=Y.style&&Y.style[Wb];for(const ac in Wb)kc(ac,y)||Za(pa,ac,Wb[ac])});y=h.extend({},y);for(Fb in pa)p=
pa[Fb],p.signal?(Bb=Bb||{})[Fb]=p:ua[Fb]=p;y.enter=h.extend(ua,y.enter);Bb&&(y.update=h.extend(Bb,y.update));return y}function Za(y,M,p){y[M]=p&&p.signal?{signal:p.signal}:{value:p}}function tb(y){if(null!=y.gradient)return rb(y);if(y.signal)var M=`(${y.signal})`;else y.color?(M=y.color,M=M.c?md("hcl",M.h,M.c,M.l):M.h||M.s?md("hsl",M.h,M.s,M.l):M.l||M.a?md("lab",M.l,M.a,M.b):M.r||M.g||M.b?md("rgb",M.r,M.g,M.b):null):M=null!=y.field?vb(y.field):void 0!==y.value?h.stringValue(y.value):void 0;if(null!=
y.scale){const p=Xc(y.scale);null!=y.range?M=`lerp(_range(${p}), ${+y.range})`:(void 0!==M&&(M=`_scale(${p}, ${M})`),y.band&&(M=(M?M+"+":"")+`_bandwidth(${p})`+(1===+y.band?"":"*"+pb(y.band)),y.extra&&(M=`(datum.extra ? _scale(${p}, datum.extra.value) : ${M})`)),null==M&&(M="0"))}void 0===M&&(M=null);null!=y.exponent&&(M=`pow(${M},${pb(y.exponent)})`);null!=y.mult&&(M+=`*${pb(y.mult)}`);null!=y.offset&&(M+=`+${pb(y.offset)}`);y.round&&(M=`round(${M})`);return M}function rb(y){const M=[y.start,y.stop,
y.count].map(p=>null==p?null:h.stringValue(p));for(;M.length&&null==h.peek(M);)M.pop();M.unshift(Xc(y.gradient));return`gradient(${M.join(",")})`}function pb(y){return h.isObject(y)?"("+tb(y)+")":y}function vb(y){return gb(h.isObject(y)?y:{datum:y})}function gb(y){let M;if(y.signal){M="datum";var p=y.signal}else if(y.group||y.parent){p=Math.max(1,y.level||1);for(M="item";0<p--;)M+=".mark.group";y.parent?(p=y.parent,M+=".datum"):p=y.group}else y.datum?(M="datum",p=y.datum):h.error("Invalid field reference: "+
h.stringValue(y));y.signal||(p=h.isString(p)?h.splitAccessPath(p).map(h.stringValue).join("]["):gb(p));return M+"["+p+"]"}function ec(y){let M="";y.forEach(p=>{const P=tb(p);M+=p.test?`(${p.test})?${P}:`:P});":"===h.peek(M)&&(M+="null");return M}function sa(y,M,p,P,Y,pa){const ua={};pa=pa||{};pa.encoders={$encode:ua};y=Ea(y,M,p,P,Y.config);for(const mc in y){p=y[mc];P=M;var Bb=pa,Fb=Y;const zc={},xc={};for(const Jc in p)if(null!=p[Jc]){var Wb=ia;var ac=p[Jc];ac=h.isArray(ac)?ec(ac):tb(ac);zc[Jc]=
Wb(ac,Fb,Bb,xc)}p={$expr:{marktype:P,channels:zc},$fields:Object.keys(xc),$output:Object.keys(p)};ua[mc]=p}return pa}function ia(y,M,p,P){y=ka.parseExpression(y,M);y.$fields.forEach(Y=>P[Y]=1);h.extend(p,y.$params);return y.$expr}function Ba(y,M){h.error(y+' for "outer" push: '+h.stringValue(M))}function Ra(y,M){const p=y.name;if("outer"===y.push)M.signals[p]||Ba("No prior signal definition",p),sd.forEach(P=>{void 0!==y[P]&&Ba("Invalid property ",P)});else{const P=M.addSignal(p,y.value);!1===y.react&&
(P.react=!1);y.bind&&M.addBinding(p,y.bind)}}function Wa(y,M,p,P){this.id=-1;this.type=y;this.value=M;this.params=p;P&&(this.parent=P)}function Ia(y){const M={$ref:y.id};0>y.id&&(y.refs=y.refs||[]).push(M);return M}function hb(y,M){return M?{$field:y,$name:M}:{$field:y}}function ab(y,M){y={$key:y};M&&(y.$flat=!0);return y}function qb(y,M){return(y&&y.signal?"$"+y.signal:y||"")+(y&&M?"_":"")+(M&&M.signal?"$"+M.signal:M||"")}function Pb(y){return y&&y.signal}function db(y){if(Pb(y))return!0;if(h.isObject(y))for(const M in y)if(db(y[M]))return!0;
return!1}function U(y,M){return null!=y?y:M}function ba(y){return y&&y.signal||y}function ea(y,M){return(y.merge?ja:y.stream?La:y.type?oa:h.error("Invalid stream specification: "+h.stringValue(y)))(y,M)}function ja(y,M){const p=y.merge.map(P=>ea(P,M));y=qa({merge:p},y,M);return M.addStream(y).id}function La(y,M){const p=ea(y.stream,M);y=qa({stream:p},y,M);return M.addStream(y).id}function oa(y,M){if("timer"===y.type){var p=M.event("timer",y.throttle);y={between:y.between,filter:y.filter}}else p=y.source,
p=M.event.call(M,"scope"===p?"view":p||"view",y.type);y=qa({stream:p},y,M);return 1===Object.keys(y).length?p:M.addStream(y).id}function qa(y,M,p){let P=M.between;P&&(2!==P.length&&h.error('Stream "between" parameter must have 2 entries: '+h.stringValue(M)),y.between=[ea(P[0],p),ea(P[1],p)]);P=M.filter?[].concat(M.filter):[];if(M.marktype||M.markname||M.markrole){var Y=P,pa=M.marktype,ua=M.markname,Bb=M.markrole;Y.push.call(Y,"event.item"+(pa&&"*"!==pa?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+
pa+"'":"")+(Bb?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+Bb+"'":"")+(ua?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+ua+"'":""))}"scope"===M.source&&P.push("inScope(event.item)");P.length&&(y.filter=ka.parseExpression("("+P.join(")\x26\x26(")+")",p).$expr);null!=(P=M.throttle)&&(y.throttle=+P);null!=(P=M.debounce)&&(y.debounce=+P);M.consume&&(y.consume=!0);return y}function l(y,M,p){const P=y.encode,Y={target:p};p=y.events;let pa=y.update,ua=[];p||h.error("Signal update missing events specification.");
h.isString(p)&&(p=Ya.parseSelector(p,M.isSubscope()?"scope":"view"));p=h.array(p).filter(Bb=>Bb.signal||Bb.scale?(ua.push(Bb),0):1);1<ua.length&&(ua=[D(ua)]);p.length&&ua.push(1<p.length?{merge:p}:p[0]);null!=P&&(pa&&h.error("Signal encode and update are mutually exclusive."),pa="encode(item(),"+h.stringValue(P)+")");Y.update=h.isString(pa)?ka.parseExpression(pa,M):null!=pa.expr?ka.parseExpression(pa.expr,M):null!=pa.value?pa.value:null!=pa.signal?{$expr:pd,$params:{$value:M.signalRef(pa.signal)}}:
h.error("Invalid signal update specification.");y.force&&(Y.options={force:!0});ua.forEach(Bb=>{var Fb=M.addUpdate,Wb=h.extend;Bb={source:Bb.signal?M.signalRef(Bb.signal):Bb.scale?M.scaleRef(Bb.scale):ea(Bb,M)};return Fb.call(M,Wb.call(h,Bb,Y))})}function D(y){return{signal:"["+y.map(M=>M.scale?'scale("'+M.scale+'")':M.signal)+"]"}}function K(y,M){const p=M.getSignal(y.name);let P=y.update;y.init&&(P?h.error("Signals can not include both init and update expressions."):(P=y.init,p.initonly=!0));P&&
(P=ka.parseExpression(P,M),p.update=P.$expr,p.params=P.$params);y.on&&y.on.forEach(Y=>l(Y,M,p.id))}function v(y,M){return h.isObject(y)?y.signal?M.signalRef(y.signal):h.error("Unsupported object: "+h.stringValue(y)):y}function R(y,M){return y.signal?M.signalRef(y.signal):y.map(p=>v(p,M))}function A(y){h.error("Can not find data set: "+h.stringValue(y))}function W(y,M,p){if(y)return y.signal?p.signalRef(y.signal):(h.isArray(y)?G:y.fields?z:w)(y,M,p);null==M.domainMin&&null==M.domainMax||h.error("No scale domain defined for domainMin/domainMax to override.")}
function G(y,M,p){return y.map(P=>v(P,p))}function w(y,M,p){const P=p.getData(y.data);P||A(y.data);return ub.isDiscrete(M.type)?P.valuesRef(p,y.field,V(y.sort,!1)):ub.isQuantile(M.type)?P.domainRef(p,y.field):P.extentRef(p,y.field)}function z(y,M,p){const P=y.data,Y=y.fields.reduce((pa,ua)=>{if(h.isString(ua))ua={data:P,field:ua};else if(h.isArray(ua)||ua.signal){var Bb=ua;ua="_:vega:_"+Fc++;const Fb=Ke({});h.isArray(Bb)?Fb.value={$ingest:Bb}:Bb.signal&&(Bb="setdata("+h.stringValue(ua)+","+Bb.signal+
")",Fb.params.input=p.signalRef(Bb));p.addDataPipeline(ua,[Fb,dc({})]);ua={data:ua,field:"data"}}pa.push(ua);return pa},[]);return(ub.isDiscrete(M.type)?F:ub.isQuantile(M.type)?ta:N)(y,p,Y)}function F(y,M,p){const P=V(y.sort,!0);y=p.map(pa=>{const ua=M.getData(pa.data);ua||A(pa.data);return ua.countsRef(M,pa.field,P)});const Y={groupby:Bd,pulse:y};P&&(y=P.op||"count",p=P.field?qb(y,P.field):"count",Y.ops=[Tc[y]],Y.fields=[M.fieldRef(p)],Y.as=[p]);y=M.add(le(Y));y=M.add(Ke({pulse:Ia(y)}));p=M.add(Pc({field:Bd,
sort:M.sortRef(P),pulse:Ia(y)}));return Ia(p)}function V(y,M){y&&(y.field||y.op?y.field||"count"===y.op?M&&y.field&&y.op&&!Tc[y.op]&&h.error("Multiple domain scales can not be sorted using "+y.op):h.error("No field provided for sort aggregate op: "+y.op):h.isObject(y)?y.field="key":y={field:"key"});return y}function ta(y,M,p){y=p.map(P=>{const Y=M.getData(P.data);Y||A(P.data);return Y.domainRef(M,P.field)});return Ia(M.add(id({values:y})))}function N(y,M,p){y=p.map(P=>{const Y=M.getData(P.data);Y||
A(P.data);return Y.extentRef(M,P.field)});return Ia(M.add(qd({extents:y})))}function ma(y,M,p){const P=M.config.range;let Y=y.range;if(Y.signal)return M.signalRef(Y.signal);if(h.isString(Y)){if(P&&h.hasOwnProperty(P,Y))return y=h.extend({},y,{range:P[Y]}),ma(y,M,p);"width"===Y?Y=[0,{signal:"width"}]:"height"===Y?Y=ub.isDiscrete(y.type)?[0,{signal:"height"}]:[{signal:"height"},0]:h.error("Unrecognized scale range value: "+h.stringValue(Y))}else{if(Y.scheme){p.scheme=h.isArray(Y.scheme)?R(Y.scheme,
M):v(Y.scheme,M);Y.extent&&(p.schemeExtent=R(Y.extent,M));Y.count&&(p.schemeCount=v(Y.count,M));return}if(Y.step){p.rangeStep=v(Y.step,M);return}if(ub.isDiscrete(y.type)&&!h.isArray(Y))return W(Y,y,M);h.isArray(Y)||h.error("Unsupported range type: "+h.stringValue(Y))}return Y.map(pa=>(h.isArray(pa)?R:v)(pa,M))}function ya(y,M,p){return h.isArray(y)?y.map(P=>ya(P,M,p)):h.isObject(y)?y.signal?p.signalRef(y.signal):"fit"===M?y:h.error("Unsupported parameter object: "+h.stringValue(y)):y}function Ma(y){y.type=
"group";y.interactive=y.interactive||!1;return y}function Pa(y,M){const p=(P,Y)=>U(y[P],U(M[P],Y));p.isVertical=P=>"vertical"===U(y.direction,M.direction||(P?M.symbolDirection:M.gradientDirection));p.gradientLength=()=>U(y.gradientLength,M.gradientLength||M.gradientWidth);p.gradientThickness=()=>U(y.gradientThickness,M.gradientThickness||M.gradientHeight);p.entryColumns=()=>U(y.columns,U(M.columns,+p.isVertical(!0)));return p}function Xa(y,M){return(y=M&&(M.update&&M.update[y]||M.enter&&M.enter[y]))&&
y.signal?y:y?y.value:null}function sb(y,M,p){return`item.anchor === '${"start"}' ? ${y} : item.anchor === '${"end"}' ? ${M} : ${p}`}function ib(y,M){return M?y?h.isObject(y)?Object.assign({},y,{offset:ib(y.offset,M)}):{value:y,offset:M}:M:y}function Tb(y,M){M?(y.name=M.name,y.style=M.style||y.style,y.interactive=!!M.interactive,y.encode=Ub(y.encode,M,jd)):y.interactive=!1;return y}function X(y,M,p,P){y=Pa(y,p);p=y.isVertical();var Y=y.gradientThickness();const pa=y.gradientLength();let ua,Bb,Fb;p?
(p=[0,1],Bb=[0,0],Fb=Y,Y=pa):(p=[0,0],Bb=[1,0],Fb=pa);Y={enter:ua={opacity:nd,x:nd,y:nd,width:yc(Fb),height:yc(Y)},update:h.extend({},ua,{opacity:ne,fill:{gradient:M,start:p,stop:Bb}}),exit:{opacity:nd}};zb(Y,{stroke:y("gradientStrokeColor"),strokeWidth:y("gradientStrokeWidth")},{opacity:y("gradientOpacity")});return Tb({type:"rect",role:"legend-gradient",encode:Y},P)}function Fa(y,M,p,P,Y){y=Pa(y,p);const pa=y.isVertical();p=y.gradientThickness();const ua=y.gradientLength();var Bb;let Fb,Wb,ac,mc=
"";pa?(Bb="y",Wb="y2",Fb="x",ac="width",mc="1-"):(Bb="x",Wb="x2",Fb="y",ac="height");M={opacity:nd,fill:{scale:M,field:"value"}};M[Bb]={signal:mc+"datum.perc",mult:ua};M[Fb]=nd;M[Wb]={signal:mc+"datum.perc2",mult:ua};M[ac]=yc(p);Bb={enter:M,update:h.extend({},M,{opacity:ne}),exit:{opacity:nd}};zb(Bb,{stroke:y("gradientStrokeColor"),strokeWidth:y("gradientStrokeWidth")},{opacity:y("gradientOpacity")});return Tb({type:"rect",role:"legend-band",key:"value",from:Y,encode:Bb},P)}function Kb(y,M,p,P){const Y=
Pa(y,M);var pa=Y.isVertical();const ua=yc(Y.gradientThickness()),Bb=Y.gradientLength();let Fb=Y("labelOverlap"),Wb,ac,mc,zc="";const xc={enter:Wb={opacity:nd},update:ac={opacity:ne,text:{field:"label"}},exit:{opacity:nd}};zb(xc,{fill:Y("labelColor"),fillOpacity:Y("labelOpacity"),font:Y("labelFont"),fontSize:Y("labelFontSize"),fontStyle:Y("labelFontStyle"),fontWeight:Y("labelFontWeight"),limit:U(y.labelLimit,M.gradientLabelLimit)});pa?(Wb.align={value:"left"},Wb.baseline=ac.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},
pa="y",mc="x",zc="1-"):(Wb.align=ac.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},Wb.baseline={value:"top"},pa="x",mc="y");Wb[pa]=ac[pa]={signal:zc+"datum.perc",mult:Bb};Wb[mc]=ac[mc]=ua;ua.offset=U(y.labelOffset,M.gradientLabelOffset)||0;Fb=Fb?{separation:Y("labelSeparation"),method:Fb,order:"datum.index"}:void 0;return Tb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:P,encode:xc,overlap:Fb},p)}function qc(y,M,p,P,Y){var pa=Pa(y,M);const ua=
p.entries,Bb=!(!ua||!ua.interactive),Fb=ua?ua.name:void 0,Wb=pa("clipHeight"),ac=pa("symbolOffset"),mc={data:"value"},zc=`(${Y}) ? datum.${"offset"} : datum.${"size"}`,xc=Wb?yc(Wb):{field:"size"},Jc=`max(1, ${Y})`;let $c,ad;xc.mult=.5;var kd={enter:$c={opacity:nd,x:{signal:zc,mult:.5,offset:ac},y:xc},update:ad={opacity:ne,x:$c.x,y:$c.y},exit:{opacity:nd}};let Xd=null,Sc=null;y.fill||(Xd=M.symbolBaseFillColor,Sc=M.symbolBaseStrokeColor);zb(kd,{fill:pa("symbolFillColor",Xd),shape:pa("symbolType"),size:pa("symbolSize"),
stroke:pa("symbolStrokeColor",Sc),strokeDash:pa("symbolDash"),strokeDashOffset:pa("symbolDashOffset"),strokeWidth:pa("symbolStrokeWidth")},{opacity:pa("symbolOpacity")});Yc.forEach(Vd=>{y[Vd]&&(ad[Vd]=$c[Vd]={scale:y[Vd],field:"value"})});M=Tb({type:"symbol",role:"legend-symbol",key:"value",from:mc,clip:Wb?!0:void 0,encode:kd},p.symbols);kd=yc(ac);kd.offset=pa("labelOffset");kd={enter:$c={opacity:nd,x:{signal:zc,offset:kd},y:xc},update:ad={opacity:ne,text:{field:"label"},x:$c.x,y:$c.y},exit:{opacity:nd}};
zb(kd,{align:pa("labelAlign"),baseline:pa("labelBaseline"),fill:pa("labelColor"),fillOpacity:pa("labelOpacity"),font:pa("labelFont"),fontSize:pa("labelFontSize"),fontStyle:pa("labelFontStyle"),fontWeight:pa("labelFontWeight"),limit:pa("labelLimit")});p=Tb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:mc,encode:kd},p.labels);kd={enter:{noBound:{value:!Wb},width:nd,height:Wb?yc(Wb):nd,opacity:nd},exit:{opacity:nd},update:ad={opacity:ne,row:{signal:null},column:{signal:null}}};
pa.isVertical(!0)?(pa=`ceil(item.mark.items.length / ${Jc})`,ad.row.signal=`${"datum.index"}%${pa}`,ad.column.signal=`floor(${"datum.index"} / ${pa})`,pa={field:["row","datum.index"]}):(ad.row.signal=`floor(${"datum.index"} / ${Jc})`,ad.column.signal=`${"datum.index"} % ${Jc}`,pa={field:"datum.index"});ad.column.signal=`(${Y})?${ad.column.signal}:${"datum.index"}`;P={facet:{data:P,name:"value",groupby:"index"}};return Ma({role:"scope",from:P,encode:Ub(kd,ua,jd),marks:[M,p],name:Fb,interactive:Bb,
sort:pa})}function $b(y,M){y=Pa(y,M);return{align:y("gridAlign"),columns:y.entryColumns(),center:{row:!0,column:!1},padding:{row:y("rowPadding"),column:y("columnPadding")}}}function Mb(y,M,p,P){M=Pa(y,M);const Y={enter:{opacity:nd},update:{opacity:ne,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:nd}};zb(Y,{orient:M("titleOrient"),_anchor:M("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},
angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},align:{signal:qe},baseline:{signal:hf},text:y.title,fill:M("titleColor"),fillOpacity:M("titleOpacity"),font:M("titleFont"),fontSize:M("titleFontSize"),fontStyle:M("titleFontStyle"),fontWeight:M("titleFontWeight"),limit:M("titleLimit"),lineHeight:M("titleLineHeight")},{align:M("titleAlign"),baseline:M("titleBaseline")});return Tb({type:"text",
role:"legend-title",style:"guide-title",from:P,encode:Y},p)}function Qb(y,M){let p;h.isObject(y)&&(y.signal?p=y.signal:y.path?p="pathShape("+wc(y.path)+")":y.sphere&&(p="geoShape("+wc(y.sphere)+', {type: "Sphere"})'));return p?M.signalRef(p):!!y}function wc(y){return h.isObject(y)&&y.signal?y.signal:h.stringValue(y)}function fd(y){const M=y.role||"";return M.startsWith("axis")||M.startsWith("legend")||M.startsWith("title")?M:"group"===y.type?"scope":M||"mark"}function ra(y){return{marktype:y.type,
name:y.name||void 0,role:y.role||fd(y),zindex:+y.zindex||void 0,aria:y.aria,description:y.description}}function Ab(y,M){return y&&y.signal?M.signalRef(y.signal):!1===y?!1:!0}function Ta(y,M){const p=Yb.definition(y.type);p||h.error("Unrecognized transform type: "+h.stringValue(y.type));var P=p.type.toLowerCase();var Y=wb(p,y,M);P=new Wa(P,null,Y,void 0);y.signal&&M.addSignal(y.signal,M.proxy(P));P.metadata=p.metadata||{};return P}function wb(y,M,p){const P={},Y=y.params.length;for(let pa=0;pa<Y;++pa){const ua=
y.params[pa];P[ua.name]=Gb(ua,M,p)}return P}function Gb(y,M,p){const P=y.type,Y=M[y.name];if("index"===P)return Zb(y,M,p);if(void 0===Y)y.required&&h.error("Missing required "+h.stringValue(M.type)+" parameter: "+h.stringValue(y.name));else return"param"===P?jc(y,M,p):"projection"===P?p.projectionRef(M[y.name]):y.array&&!Pb(Y)?Y.map(pa=>Nb(y,pa,p)):Nb(y,Y,p)}function Nb(y,M,p){const P=y.type;return Pb(M)?"expr"===P?h.error("Expression references can not be signals."):"field"===P?p.fieldRef(M):"compare"===
P?p.compareRef(M):p.signalRef(M.signal):(y=y.expr||"field"===P)&&M&&M.expr?p.exprRef(M.expr,M.as):y&&M&&M.field?hb(M.field,M.as):"expr"===P?ka.parseExpression(M,p):"data"===P?Ia(p.getData(M).values):"field"===P?hb(M):"compare"===P?p.compareRef(M):M}function Zb(y,M,p){h.isString(M.from)||h.error('Lookup "from" parameter must be a string literal.');return p.getData(M.from).lookupRef(p,M.key)}function jc(y,M,p){M=M[y.name];return y.array?(h.isArray(M)||h.error("Expected an array of sub-parameters. Instead: "+
h.stringValue(M)),M.map(P=>Ac(y,P,p))):Ac(y,M,p)}function Ac(y,M,p){const P=y.params.length;let Y;for(let pa=0;pa<P;++pa){Y=y.params[pa];for(const ua in Y.key)if(Y.key[ua]!==M[ua]){Y=null;break}if(Y)break}Y||h.error("Unsupported parameter: "+h.stringValue(M));y=h.extend(wb(Y,M,p),Y.key);return Ia(p.add(Pd(y)))}function ld(y,M,p){let P,Y,pa,ua;if(!y)pa=Ia(p.add(Ke(null,[{}])));else if(P=y.facet)M||h.error("Only group marks can be faceted."),null!=P.field?pa=ua=Vc(P,p):(y.data?ua=Ia(p.getData(y.data).aggregate):
(M=Ta(h.extend({type:"aggregate",groupby:h.array(P.groupby)},P.aggregate),p),M.params.key=p.keyRef(P.groupby),M.params.pulse=Vc(P,p),pa=ua=Ia(p.add(M))),Y=p.keyRef(P.groupby,!0));pa||(pa=Vc(y,p));return{key:Y,pulse:pa,parent:ua}}function Vc(y,M){return y.$ref?y:y.data&&y.data.$ref?y.data:Ia(M.getData(y.data).output)}function na(y,M,p,P,Y){this.scope=y;this.input=M;this.output=p;this.values=P;this.aggregate=Y;this.index={}}function Ha(y){return h.isString(y)?y:null}function fb(y,M,p){const P=qb(p.op,
p.field);let Y;if(M.ops)for(let pa=0,ua=M.as.length;pa<ua;++pa){if(M.as[pa]===P)return}else M.ops=["count"],M.fields=[null],M.as=["count"];p.op&&(M.ops.push((Y=p.op.signal)?y.signalRef(Y):p.op),M.fields.push(y.fieldRef(p.field)),M.as.push(P))}function Q(y,M,p,P,Y,pa,ua){p=M[p]||(M[p]={});var Bb=h.isObject(pa)?("descending"===pa.order?"-":"+")+qb(pa.op,pa.field):"";let Fb=Ha(Y);if(null!=Fb){y=M.scope;Fb+=Bb?"|"+Bb:"";var Wb=p[Fb]}Wb||(Wb=pa?{field:Bd,pulse:M.countsRef(y,Y,pa)}:{field:y.fieldRef(Y),
pulse:Ia(M.output)},Bb&&(Wb.sort=y.sortRef(pa)),y=y.add(new Wa(P,void 0,Wb,void 0)),ua&&(M.index[Y]=y),Wb=Ia(y),null!=Fb&&(p[Fb]=Wb));return Wb}function t(y,M,p){var P=y.from.facet;const Y=P.name,pa=Vc(P,M);let ua;P.name||h.error("Facet must have a name: "+h.stringValue(P));P.data||h.error("Facet must reference a data set: "+h.stringValue(P));P.field?ua=M.add(Td({field:M.fieldRef(P.field),pulse:pa})):P.groupby?ua=M.add(Ga({key:M.keyRef(P.groupby),group:Ia(M.proxy(p.parent)),pulse:pa})):h.error("Facet must specify groupby or field: "+
h.stringValue(P));M=M.fork();p=M.add(Ke());P=M.add(dc({pulse:Ia(p)}));M.addData(Y,new na(M,p,p,P));M.addSignal("parent",null);ua.params.subflow={$subflow:M.parse(y).toRuntime()}}function da(y,M,p){p=M.add(Td({pulse:p.pulse}));M=M.fork();M.add(dc());M.addSignal("parent",null);p.params.subflow={$subflow:M.parse(y).toRuntime()}}function za(y,M,p){const P=y.remove,Y=y.insert,pa=y.toggle,ua=y.modify,Bb=y.values,Fb=M.add(new Wa("operator",void 0,void 0,void 0));y="if("+y.trigger+',modify("'+p+'",'+[Y,P,
pa,ua,Bb].map(Wb=>null==Wb?"null":Wb).join(",")+"),0)";M=ka.parseExpression(y,M);Fb.update=M.$expr;Fb.params=M.$params}function Da(y,M){var p=fd(y),P="group"===y.type,Y=y.from&&y.from.facet;const pa=y.overlap;let ua=y.layout||"scope"===p||"frame"===p,Bb,Fb,Wb,ac,mc,zc;const xc="mark"===p||ua||Y,Jc=ld(y.from,P,M);Fb=M.add(ef({key:Jc.key||(y.key?hb(y.key):void 0),pulse:Jc.pulse,clean:!P}));const $c=Ia(Fb);Fb=Wb=M.add(Ke({pulse:$c}));Fb=M.add(Mc({markdef:ra(y),interactive:Ab(y.interactive,M),clip:Qb(y.clip,
M),context:{$context:!0},groups:M.lookup(),parent:M.signals.parent?M.signalRef("parent"):null,index:M.markpath(),pulse:Ia(Fb)}));var ad=Ia(Fb);Fb=ac=M.add(E(sa(y.encode,y.type,p,y.style,M,{mod:!1,pulse:ad})));Fb.params.parent=M.encode();y.transform&&y.transform.forEach(Xd=>{Xd=Ta(Xd,M);const Sc=Xd.metadata;(Sc.generates||Sc.changes)&&h.error("Mark transforms should not generate new data.");Sc.nomod||(ac.params.mod=!0);Xd.params.pulse=Ia(Fb);M.add(Fb=Xd)});y.sort&&(Fb=M.add(hd({sort:M.compareRef(y.sort),
pulse:Ia(Fb)})));p=Ia(Fb);if(Y||ua)ua=M.add(sc({layout:M.objectProperty(y.layout),legends:M.legends,mark:ad,pulse:p})),zc=Ia(ua);const kd=M.add(Ge({mark:ad,pulse:zc||p}));ad=Ia(kd);P&&(xc&&(Bb=M.operators,Bb.pop(),ua&&Bb.pop()),M.pushState(p,zc||ad,$c),Y?t(y,M,Jc):xc?da(y,M,Jc):M.parse(y),M.popState(),xc&&(ua&&Bb.push(ua),Bb.push(kd)));pa&&(ad=Oa(pa,ad,M));P=M.add(Ca({pulse:ad}));Y=M.add(dc({pulse:Ia(P)},void 0,M.parent()));null!=y.name&&(mc=y.name,M.addData(mc,new na(M,Wb,P,Y)),y.on&&y.on.forEach(Xd=>
{(Xd.insert||Xd.remove||Xd.toggle)&&h.error("Marks only support modify triggers.");za(Xd,M,mc)}))}function Oa(y,M,p){const P=y.method,Y=y.bound,pa=y.separation;M={separation:Pb(pa)?p.signalRef(pa.signal):pa,method:Pb(P)?p.signalRef(P.signal):P,pulse:M};y.order&&(M.sort=p.compareRef({field:y.order}));Y&&(y=Y.tolerance,M.boundTolerance=Pb(y)?p.signalRef(y.signal):+y,M.boundScale=p.scaleRef(Y.scale),M.boundOrient=Y.orient);return Ia(p.add(Oc(M)))}function jb(y,M){const p=M.config.legend,P=y.encode||
{},Y=Pa(y,p),pa=P.legend||{},ua=pa.name||void 0,Bb=pa.interactive,Fb=pa.style,Wb={};let ac=0,mc,zc;Yc.forEach(kd=>y[kd]?(Wb[kd]=y[kd],ac=ac||y[kd]):0);ac||h.error("Missing valid scale for legend.");var xc=Rb(y,M.scaleType(ac));const Jc={title:null!=y.title,scales:Wb,type:xc,vgrad:"symbol"!==xc&&Y.isVertical()},$c=Ia(M.add(Ke(null,[Jc]))),ad=Ia(M.add(rc(zc={type:xc,scale:M.scaleRef(ac),count:M.objectProperty(Y("tickCount")),limit:M.property(Y("symbolLimit")),values:M.objectProperty(y.values),minstep:M.property(y.tickMinStep),
formatType:M.property(y.formatType),formatSpecifier:M.property(y.format)})));"gradient"===xc?(xc=[X(y,ac,p,P.gradient),Kb(y,p,P.labels,ad)],zc.count=zc.count||M.signalRef(`max(2,2*floor((${ba(Y.gradientLength())})/100))`)):"discrete"===xc?xc=[Fa(y,ac,p,P.gradient,ad),Kb(y,p,P.labels,ad)]:(mc=$b(y,p),xc=[qc(y,p,P,ad,ba(mc.columns))],zc.size=Bc(y,M,xc[0].marks));xc=[Ma({role:"legend-entry",from:$c,encode:{enter:{x:{value:0},y:{value:0}}},marks:xc,layout:mc,interactive:Bb})];Jc.title&&xc.push(Mb(y,p,
P.title,$c));return Da(Ma({role:"legend",from:$c,encode:Ub(Ib(Y,y,p),pa,jd),marks:xc,aria:Y("aria"),description:Y("description"),zindex:Y("zindex"),name:ua,interactive:Bb,style:Fb}),M)}function Rb(y,M){let p=y.type||"symbol";y.type||1!==Eb(y)||!y.fill&&!y.stroke||(p=ub.isContinuous(M)?"gradient":ub.isDiscretizing(M)?"discrete":"symbol");return"gradient"!==p?p:ub.isDiscretizing(M)?"discrete":"gradient"}function Eb(y){return Yc.reduce((M,p)=>M+(y[p]?1:0),0)}function Ib(y,M,p){const P={enter:{},update:{}};
zb(P,{orient:y("orient"),offset:y("offset"),padding:y("padding"),titlePadding:y("titlePadding"),cornerRadius:y("cornerRadius"),fill:y("fillColor"),stroke:y("strokeColor"),strokeWidth:p.strokeWidth,strokeDash:p.strokeDash,x:y("legendX"),y:y("legendY"),format:M.format,formatType:M.formatType});return P}function Bc(y,M,p){const P=ba(Dc("size",y,p));y=ba(Dc("strokeWidth",y,p));(p=Xa("fontSize",p[1].encode))||(p=(p=M.config.style["guide-label"])&&p.fontSize);p=ba(p);return ka.parseExpression(`max(ceil(sqrt(${P})+${y}),${p})`,
M)}function Dc(y,M,p){return M[y]?`scale("${M[y]}",datum)`:Xa(y,p[0].encode)}function Rc(y,M){y=h.isString(y)?{text:y}:y;const p=Pa(y,M.config.title);var P=y.encode||{},Y=P.group||{};const pa=Y.name||void 0,ua=Y.interactive,Bb=Y.style,Fb=[],Wb=Ia(M.add(Ke(null,[{}])));var ac=Fb.push,mc=y;var zc=(zc=y.encode)&&zc.title||h.extend({name:y.name,interactive:y.interactive,style:y.style},zc);var xc={value:0};xc={enter:{opacity:xc},update:{opacity:{value:1}},exit:{opacity:xc}};zb(xc,{text:mc.text,align:{signal:"item.mark.group.align"},
angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:p("dx"),dy:p("dy"),fill:p("color"),font:p("font"),fontSize:p("fontSize"),fontStyle:p("fontStyle"),fontWeight:p("fontWeight"),lineHeight:p("lineHeight")},{align:p("align"),angle:p("angle"),baseline:p("baseline")});mc=Tb({type:"text",role:"title-text",style:"group-title",from:Wb,encode:xc},zc);ac.call(Fb,mc);y.subtitle&&(ac=Fb.push,P=P.subtitle,mc={value:0},mc={enter:{opacity:mc},update:{opacity:{value:1}},
exit:{opacity:mc}},zb(mc,{text:y.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:p("dx"),dy:p("dy"),fill:p("subtitleColor"),font:p("subtitleFont"),fontSize:p("subtitleFontSize"),fontStyle:p("subtitleFontStyle"),fontWeight:p("subtitleFontWeight"),lineHeight:p("subtitleLineHeight")},{align:p("align"),angle:p("angle"),baseline:p("baseline")}),y=Tb({type:"text",role:"title-subtitle",style:"group-subtitle",
from:Wb,encode:mc},P),ac.call(Fb,y));y={enter:{},update:{}};zb(y,{orient:p("orient"),anchor:p("anchor"),align:{signal:Ue},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},limit:p("limit"),frame:p("frame"),offset:p("offset")||0,padding:p("subtitlePadding")});Y=Ub(y,Y,jd);return Da(Ma({role:"title",from:Wb,encode:Y,marks:Fb,aria:p("aria"),description:p("description"),zindex:p("zindex"),name:pa,interactive:ua,style:Bb}),M)}function yd(y,M){const p=[];y.transform&&
y.transform.forEach(P=>{p.push(Ta(P,M))});y.on&&y.on.forEach(P=>{za(P,M,y.name)});M.addDataPipeline(y.name,rd(y,M,p))}function rd(y,M,p){const P=[];let Y=null,pa=!1,ua=!1,Bb,Fb,Wb,ac;y.values?Pb(y.values)||db(y.format)?(P.push(Fd(M,y)),P.push(Y=gd())):P.push(Y=gd({$ingest:y.values,$format:y.format})):y.url?db(y.url)||db(y.format)?(P.push(Fd(M,y)),P.push(Y=gd())):P.push(Y=gd({$request:y.url,$format:y.format})):y.source&&(Y=Bb=h.array(y.source).map(mc=>Ia(M.getData(mc).output)),P.push(null));y=0;for(Fb=
p.length;y<Fb;++y)Wb=p[y],ac=Wb.metadata,Y||ac.source||P.push(Y=gd()),P.push(Wb),ac.generates&&(ua=!0),ac.modifies&&!ua&&(pa=!0),ac.source?Y=Wb:ac.changes&&(Y=null);Bb&&(Fb=Bb.length-1,P[0]=ae({derive:pa,pulse:Fb?Bb:Bb[0]}),(pa||Fb)&&P.splice(1,0,gd()));Y||P.push(gd());P.push(dc({}));return P}function gd(y){y=Ke({},y);y.metadata={source:!0};return y}function Fd(y,M){return Lb({url:M.url?y.property(M.url):void 0,async:M.async?y.property(M.async):void 0,values:M.values?y.property(M.values):void 0,format:y.objectProperty(M.format)})}
function Gd(y,M,p,P){let Y;if(M&&h.hasOwnProperty(M,y))return M[y];if(h.hasOwnProperty(p,y))return p[y];if(y.startsWith("title")){switch(y){case "titleColor":Y="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":Y=y[5].toLowerCase()+y.slice(6)}return P["guide-title"][Y]}if(y.startsWith("label")){switch(y){case "labelColor":Y="fill";break;case "labelFont":case "labelFontSize":Y=y[5].toLowerCase()+y.slice(6)}return P["guide-label"][Y]}return null}function ud(y){const M={};for(const p of y)if(p)for(const P in p)M[P]=
1;return Object.keys(M)}function we(y,M,p,P,Y){return{signal:'flush(range("'+y+'"), scale("'+y+'", datum.value), '+M+","+p+","+P+","+Y+")"}}function Ed(y,M,p,P){const Y=(ua,Bb)=>null!=ua?(p.update[Bb]=xe(yc(ua),p.update[Bb]),!1):kc(Bb,P)?!1:!0,pa=Y(y("titleX"),"x");y=Y(y("titleY"),"y");p.enter.auto=y===pa?yc(y):Le(M,yc(y),yc(pa))}function x(y,M,p){const P=h.array(y.signals),Y=h.array(y.scales);p||P.forEach(pa=>Ra(pa,M));h.array(y.projections).forEach(pa=>{const ua=M.config.projection||{},Bb={};for(const Fb in pa)"name"!==
Fb&&(Bb[Fb]=ya(pa[Fb],Fb,M));for(const Fb in ua)null==Bb[Fb]&&(Bb[Fb]=ya(ua[Fb],Fb,M));M.addProjection(pa.name,Bb)});Y.forEach(pa=>{const ua=pa.type||"linear";ub.isValidScaleType(ua)||h.error("Unrecognized scale type: "+h.stringValue(ua));M.addScale(pa.name,{type:ua,domain:void 0})});h.array(y.data).forEach(pa=>yd(pa,M));Y.forEach(pa=>{const ua=M.getScale(pa.name).params;let Bb;ua.domain=W(pa.domain,pa,M);null!=pa.range&&(ua.range=ma(pa,M,ua));if(null!=pa.interpolate){var Fb=pa.interpolate;ua.interpolate=
v(Fb.type||Fb);null!=Fb.gamma&&(ua.interpolateGamma=v(Fb.gamma))}null!=pa.nice&&(Fb=pa.nice,Fb=Fb.signal?M.signalRef(Fb.signal):h.isObject(Fb)?{interval:v(Fb.interval),step:v(Fb.step)}:v(Fb),ua.nice=Fb);null!=pa.bins&&(Fb=pa.bins,Fb=Fb.signal||h.isArray(Fb)?R(Fb,M):M.objectProperty(Fb),ua.bins=Fb);for(Bb in pa)h.hasOwnProperty(ua,Bb)||"name"===Bb||(ua[Bb]=v(pa[Bb],M))});(p||P).forEach(pa=>K(pa,M));h.array(y.axes).forEach(pa=>{var ua=M.config,Bb=ua.style,Fb=ua.axis,Wb="band"===M.scaleType(pa.scale)&&
ua.axisBand,ac=pa.orient,mc;if(Pb(ac)){const be=ud([ua.axisX,ua.axisY]),ie=ud([ua.axisTop,ua.axisBottom,ua.axisLeft,ua.axisRight]);var zc={};for(mc of be)zc[mc]=Le(ac,Gd(mc,ua.axisX,Fb,Bb),Gd(mc,ua.axisY,Fb,Bb));var xc={};for(mc of ie){var Jc=xc,$c=mc,ad=ac.signal,kd=Gd(mc,ua.axisTop,Fb,Bb),Xd=Gd(mc,ua.axisBottom,Fb,Bb),Sc=Gd(mc,ua.axisLeft,Fb,Bb),Vd=Gd(mc,ua.axisRight,Fb,Bb);var Be={signal:(null!=Sc?`${ad} === '${"left"}' ? (${Me(Sc)}) : `:"")+(null!=Xd?`${ad} === '${"bottom"}' ? (${Me(Xd)}) : `:
"")+(null!=Vd?`${ad} === '${"right"}' ? (${Me(Vd)}) : `:"")+(null!=kd?`${ad} === '${"top"}' ? (${Me(kd)}) : `:"")+"(null)"};Jc[$c]=Be}}else zc="top"===ac||"bottom"===ac?ua.axisX:ua.axisY,xc=ua["axis"+ac[0].toUpperCase()+ac.slice(1)];var Zc=zc||xc||Wb?h.extend({},Fb,zc,xc,Wb):Fb;const zd=pa.encode||{},Yd=zd.axis||{},Zd=Yd.name||void 0,Ce=Yd.interactive,Rd=Yd.style,Od=Pa(pa,Zc),te=Od("tickBand");let Ae=Od("tickOffset"),Oe,Df;te?te.signal?(Oe={signal:`(${te.signal}) === 'extent' ? 1 : 0.5`},Df={signal:`(${te.signal}) === 'extent'`},
h.isObject(Ae)||(Ae={signal:`(${te.signal}) === 'extent' ? 0 : ${Ae}`})):"extent"===te?(Oe=1,Df=!0,Ae=0):(Oe=.5,Df=!1):(Oe=Od("bandPosition"),Df=Od("tickExtra"));var td=Df;var Pe=Oe;var Te=Ae;const kf={scale:pa.scale,ticks:!!Od("ticks"),labels:!!Od("labels"),grid:!!Od("grid"),domain:!!Od("domain"),title:null!=pa.title},Xf=Ia(M.add(Ke({},[kf]))),rf=Ia(M.add(Re({scale:M.scaleRef(pa.scale),extra:M.property(td),count:M.objectProperty(pa.tickCount),values:M.objectProperty(pa.values),minstep:M.property(pa.tickMinStep),
formatType:M.property(pa.formatType),formatSpecifier:M.property(pa.format)}))),bf=[];let eg;if(kf.grid){var fg=bf.push,Of=zd.grid;const be=Pa(pa,Zc),ie=pa.orient,sf=pa.gridScale,Je=pf(ie,1,-1);a:{var Pf=pa.offset,nf=Je;if(1!==nf)if(h.isObject(Pf)){let Rf=Pf=h.extend({},Pf);for(;null!=Rf.mult;)if(h.isObject(Rf.mult))Rf=Rf.mult=h.extend({},Rf.mult);else{Rf.mult=Pb(nf)?{signal:`(${Rf.mult}) * (${nf.signal})`}:Rf.mult*nf;var lg=Pf;break a}Rf.mult=nf}else Pf=Pb(nf)?{signal:`(${nf.signal}) * (${Pf||0})`}:
nf*(Pf||0);lg=Pf}const lf=lg;let Ye,tf,Zf;const Qf={enter:Ye={opacity:nd},update:Zf={opacity:ne},exit:tf={opacity:nd}};zb(Qf,{stroke:be("gridColor"),strokeCap:be("gridCap"),strokeDash:be("gridDash"),strokeDashOffset:be("gridDashOffset"),strokeOpacity:be("gridOpacity"),strokeWidth:be("gridWidth")});const cf={scale:pa.scale,field:"value",band:Pe,extra:td,offset:Te,round:be("tickRound")},Wg=Le(ie,{signal:"height"},{signal:"width"}),zg=sf?{scale:sf,range:0,mult:Je,offset:lf}:{value:0,offset:lf},jh=sf?
{scale:sf,range:1,mult:Je,offset:lf}:h.extend(Wg,{mult:Je,offset:lf});Ye.x=Zf.x=Le(ie,cf,zg);Ye.y=Zf.y=We(ie,cf,zg);Ye.x2=Zf.x2=We(ie,jh);Ye.y2=Zf.y2=Le(ie,jh);tf.x=Le(ie,cf);tf.y=We(ie,cf);var Fg=Tb({type:"rule",role:"axis-grid",key:"value",from:rf,encode:Qf},Of);fg.call(bf,Fg)}if(kf.ticks){eg=Od("tickSize");var Ch=bf.push,Gg=zd.ticks,Ug=eg;const be=Pa(pa,Zc),ie=pa.orient,sf=pf(ie,-1,1);let Je,lf,Ye;const tf={enter:Je={opacity:nd},update:Ye={opacity:ne},exit:lf={opacity:nd}};zb(tf,{stroke:be("tickColor"),
strokeCap:be("tickCap"),strokeDash:be("tickDash"),strokeDashOffset:be("tickDashOffset"),strokeOpacity:be("tickOpacity"),strokeWidth:be("tickWidth")});const Zf=yc(Ug);Zf.mult=sf;const Qf={scale:pa.scale,field:"value",band:Pe,extra:td,offset:Te,round:be("tickRound")};Ye.y=Je.y=Le(ie,nd,Qf);Ye.y2=Je.y2=Le(ie,Zf);lf.x=Le(ie,Qf);Ye.x=Je.x=We(ie,nd,Qf);Ye.x2=Je.x2=We(ie,Zf);lf.y=We(ie,Qf);var ch=Tb({type:"rule",role:"axis-tick",key:"value",from:rf,encode:tf},Gg);Ch.call(bf,ch)}if(kf.labels){eg=kf.ticks?
eg:0;var T=bf.push,Ja=zd.labels,lb=eg;const be=Pa(pa,Zc),ie=pa.orient,sf=pa.scale,Je=pf(ie,-1,1),lf=ba(be("labelFlush")),Ye=ba(be("labelFlushOffset")),tf=be("labelAlign"),Zf=be("labelBaseline");let Qf=0===lf||!!lf,cf;const Wg=yc(lb);Wg.mult=Je;Wg.offset=yc(be("labelPadding")||0);Wg.offset.mult=Je;const zg={scale:sf,field:"value",band:.5,offset:ib(Te,be("labelOffset"))};var Gc=Qf?we(sf,lf,'"left"','"right"','"center"'):{value:"center"},Ec=ie;var Ld=Pb(Ec)?oe(`${Ec.signal} === '${"right"}'`,"left",
"right"):"right"===Ec?{value:"left"}:{value:"right"};const jh=Le(ie,Gc,Ld),Rf=Le(ie,af(ie,"bottom","top"),Qf?we(sf,lf,'"top"','"bottom"','"middle"'):{value:"middle"}),Rh=we(sf,lf,`-(${Ye})`,Ye,0);Qf=Qf&&Ye;const rg={opacity:nd,x:Le(ie,zg,Wg),y:We(ie,zg,Wg)},uh={enter:rg,update:cf={opacity:ne,text:{field:"label"},x:rg.x,y:rg.y,align:jh,baseline:Rf},exit:{opacity:nd,x:rg.x,y:rg.y}};zb(uh,{dx:!tf&&Qf?Le(ie,Rh):null,dy:!Zf&&Qf?We(ie,Rh):null});zb(uh,{angle:be("labelAngle"),fill:be("labelColor"),fillOpacity:be("labelOpacity"),
font:be("labelFont"),fontSize:be("labelFontSize"),fontWeight:be("labelFontWeight"),fontStyle:be("labelFontStyle"),limit:be("labelLimit"),lineHeight:be("labelLineHeight")},{align:tf,baseline:Zf});const mg=be("labelBound");let Sh=be("labelOverlap");Sh=Sh||mg?{separation:be("labelSeparation"),method:Sh,order:"datum.index",bound:mg?{scale:sf,orient:ie,tolerance:mg}:null}:void 0;cf.align!==jh&&(cf.align=xe(cf.align,jh));cf.baseline!==Rf&&(cf.baseline=xe(cf.baseline,Rf));var he=Tb({type:"text",role:"axis-label",
style:"guide-label",key:"value",from:rf,encode:uh,overlap:Sh},Ja);T.call(bf,he)}if(kf.domain){var Ie=bf.push,De=zd.domain;const be=Pa(pa,Zc),ie=pa.orient;let sf,Je;const lf={enter:sf={opacity:nd},update:Je={opacity:ne},exit:{opacity:nd}};zb(lf,{stroke:be("domainColor"),strokeCap:be("domainCap"),strokeDash:be("domainDash"),strokeDashOffset:be("domainDashOffset"),strokeWidth:be("domainWidth"),strokeOpacity:be("domainOpacity")});const Ye={scale:pa.scale,range:0},tf={scale:pa.scale,range:1};sf.x=Je.x=
Le(ie,Ye,nd);sf.x2=Je.x2=Le(ie,tf);sf.y=Je.y=We(ie,Ye,nd);sf.y2=Je.y2=We(ie,tf);var Jf=Tb({type:"rule",role:"axis-domain",from:Xf,encode:lf},De);Ie.call(bf,Jf)}if(kf.title){var Yf=bf.push,ih=zd.title;const be=Pa(pa,Zc),ie=pa.orient,sf=pf(ie,-1,1);let Je,lf;const Ye={enter:Je={opacity:nd,anchor:yc(be("titleAnchor",null)),align:{signal:Ue}},update:lf=h.extend({},Je,{opacity:ne,text:yc(pa.title)}),exit:{opacity:nd}},tf={signal:`lerp(range("${pa.scale}"), ${sb(0,1,.5)})`};lf.x=Le(ie,tf);lf.y=We(ie,tf);
var Tf=Je,Vg=sf;var gg=Pb(Vg)?{signal:`(${Vg.signal}) * ${90}`}:{value:90*Vg};Tf.angle=Le(ie,nd,gg);Je.baseline=Le(ie,af(ie,"bottom","top"),{value:"bottom"});lf.angle=Je.angle;lf.baseline=Je.baseline;zb(Ye,{fill:be("titleColor"),fillOpacity:be("titleOpacity"),font:be("titleFont"),fontSize:be("titleFontSize"),fontStyle:be("titleFontStyle"),fontWeight:be("titleFontWeight"),limit:be("titleLimit"),lineHeight:be("titleLineHeight")},{align:be("titleAlign"),angle:be("titleAngle"),baseline:be("titleBaseline")});
Ed(be,ie,Ye,ih);Ye.update.align=xe(Ye.update.align,Je.align);Ye.update.angle=xe(Ye.update.angle,Je.angle);Ye.update.baseline=xe(Ye.update.baseline,Je.baseline);var sh=Tb({type:"text",role:"axis-title",style:"guide-title",from:Xf,encode:Ye},ih);Yf.call(bf,sh)}const Dh={enter:{},update:{}};zb(Dh,{orient:Od("orient"),offset:Od("offset")||0,position:U(pa.position,0),titlePadding:Od("titlePadding"),minExtent:Od("minExtent"),maxExtent:Od("maxExtent"),range:{signal:`abs(span(range("${pa.scale}")))`},translate:Od("translate"),
format:pa.format,formatType:pa.formatType});return Da(Ma({role:"axis",from:Xf,encode:Ub(Dh,Yd,jd),marks:bf,aria:Od("aria"),description:Od("description"),zindex:Od("zindex"),name:Zd,interactive:Ce,style:Rd}),M)});h.array(y.marks).forEach(pa=>Da(pa,M));h.array(y.legends).forEach(pa=>jb(pa,M));y.title&&Rc(y.title,M);M.parseLambdas();return M}function J(y,M){var p=M.config;const P=Ia(M.root=M.add(new Wa("operator",void 0,void 0,void 0))),Y=Ka(y,p);Y.forEach(Bb=>Ra(Bb,M));M.description=y.description||
p.description;M.eventConfig=p.events;M.legends=M.objectProperty(p.legend&&p.legend.layout);M.locale=p.locale;p=M.add(Ke());const pa=M.add(E(sa(Ub({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},y.encode),"group","frame",y.style,M,{pulse:Ia(p)}))),ua=M.add(sc({layout:M.objectProperty(y.layout),legends:M.legends,autosize:M.signalRef("autosize"),mark:P,pulse:Ia(pa)}));M.operators.pop();M.pushState(Ia(pa),Ia(ua),null);x(y,M,Y);M.operators.push(ua);y=M.add(Ge({mark:P,
pulse:Ia(ua)}));y=M.add(Ca({pulse:Ia(y)}));y=M.add(dc({pulse:Ia(y)}));M.addData("root",new na(M,p,p,y));return M}function xa(y,M){return M&&M.signal?{name:y,update:M.signal}:{name:y,value:M}}function Ka(y,M){const p=ua=>U(y[ua],M[ua]),P=[xa("background",p("background")),xa("autosize",bc(p("autosize"))),xa("padding",Xb(p("padding"))),xa("width",p("width")||0),xa("height",p("height")||0)],Y=P.reduce((ua,Bb)=>(ua[Bb.name]=Bb,ua),{}),pa={};h.array(y.signals).forEach(ua=>{h.hasOwnProperty(Y,ua.name)?ua=
h.extend(Y[ua.name],ua):P.push(ua);pa[ua.name]=ua});h.array(M.signals).forEach(ua=>{h.hasOwnProperty(pa,ua.name)||h.hasOwnProperty(Y,ua.name)||P.push(ua)});return P}function kb(y,M){this.config=y||{};this.options=M||{};this.bindings=[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=
[]}function yb(y){this.config=y.config;this.options=y.options;this.legends=y.legends;this.field=Object.create(y.field);this.signals=Object.create(y.signals);this.lambdas=Object.create(y.lambdas);this.scales=Object.create(y.scales);this.events=Object.create(y.events);this.data=Object.create(y.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++y._nextsub[0];this._nextsub=y._nextsub;this._parent=y._parent.slice();this._encode=y._encode.slice();this._lookup=y._lookup.slice();
this._markpath=y._markpath}function cc(y){return(h.isArray(y)?Sb:pc)(y)}function Sb(y){const M=y.length;let p="[";for(let P=0;P<M;++P){const Y=y[P];p+=(0<P?",":"")+(h.isObject(Y)?Y.signal||cc(Y):h.stringValue(Y))}return p+"]"}function pc(y){let M="{",p=0,P,Y;for(P in y)Y=y[P],M+=(1<++p?",":"")+h.stringValue(P)+":"+(h.isObject(Y)?Y.signal||cc(Y):h.stringValue(Y));return M+"}"}function Ic(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},
group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",
fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,
labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,
symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}
const yc=y=>h.isObject(y)&&!h.isArray(y)?h.extend({},y):{value:y},Xc=y=>h.isString(y)?h.stringValue(y):y.signal?`(${y.signal})`:vb(y),md=(y,M,p,P)=>`(${y}(${[M,p,P].map(tb).join(",")})+'')`,sd=["value","update","init","react","bind"],Bd=hb("key"),pd={code:"_.$value",ast:{type:"Identifier",value:"value"}},Nd=y=>(M,p,P)=>new Wa(y,p,M||void 0,P),le=Nd("aggregate"),Re=Nd("axisticks"),Ge=Nd("bound"),Ke=Nd("collect"),of=Nd("compare"),ef=Nd("datajoin"),E=Nd("encode"),ca=Nd("expression"),Ga=Nd("facet"),eb=
Nd("field"),Cb=Nd("key"),rc=Nd("legendentries"),Lb=Nd("load"),Mc=Nd("mark"),qd=Nd("multiextent"),id=Nd("multivalues"),Oc=Nd("overlap"),Pd=Nd("params"),Td=Nd("prefacet"),Md=Nd("projection"),Kd=Nd("proxy"),ae=Nd("relay"),Ca=Nd("render"),Qa=Nd("scale"),dc=Nd("sieve"),hd=Nd("sortitems"),sc=Nd("viewlayout"),Pc=Nd("values");let Fc=0;const Tc={min:"min",max:"max",count:"sum"},Yc="size shape fill stroke strokeWidth strokeDash opacity".split(" "),jd={name:1,style:1,interactive:1},nd={value:0},ne={value:1},
Ue=sb(h.stringValue("left"),h.stringValue("right"),h.stringValue("center")),Fe=sb('"top"','"bottom"','"middle"'),qe=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${sb('"right"','"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${Ue}`,hf=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${Fe}) : "top"`;
na.fromEntries=function(y,M){const p=M.length,P=M[p-1],Y=M[p-2];let pa=M[0],ua=null,Bb=1;pa&&"load"===pa.type&&(pa=M[1]);for(y.add(M[0]);Bb<p;++Bb)M[Bb].params.pulse=Ia(M[Bb-1]),y.add(M[Bb]),"aggregate"===M[Bb].type&&(ua=M[Bb]);return new na(y,pa,Y,P,ua)};na.prototype={countsRef(y,M,p){const P=this.counts||(this.counts={}),Y=Ha(M);if(null!=Y){y=this.scope;var pa=P[Y]}pa?p&&p.field&&fb(y,pa.agg.params,p):(pa={groupby:y.fieldRef(M,"key"),pulse:Ia(this.output)},p&&p.field&&fb(y,pa,p),p=y.add(le(pa)),
pa=y.add(Ke({pulse:Ia(p)})),pa={agg:p,ref:Ia(pa)},null!=Y&&(P[Y]=pa));return pa.ref},tuplesRef(){return Ia(this.values)},extentRef(y,M){return Q(y,this,"extent","extent",M,!1)},domainRef(y,M){return Q(y,this,"domain","values",M,!1)},valuesRef(y,M,p){return Q(y,this,"vals","values",M,p||!0)},lookupRef(y,M){return Q(y,this,"lookup","tupleindex",M,!1)},indataRef(y,M){return Q(y,this,"indata","tupleindex",M,!0,!0)}};const pf=(y,M,p)=>{Pb(y)?(y=y.signal,M=oe(`${y} === '${"left"}' || ${y} === '${"top"}'`,
M,p)):M="left"===y||"top"===y?M:p;return M},Le=(y,M,p)=>{Pb(y)?(y=y.signal,M=se(`${y} === '${"top"}' || ${y} === '${"bottom"}'`,M,p)):M="bottom"===y||"top"===y?M:p;return M},We=(y,M,p)=>{Pb(y)?(y=y.signal,M=se(`${y} !== '${"top"}' && ${y} !== '${"bottom"}'`,M,p)):M="bottom"===y||"top"===y?p:M;return M},af=(y,M,p)=>Pb(y)?oe(`${y.signal} === '${"top"}'`,M,p):"top"===y?{value:M}:{value:p},se=(y,M,p)=>{M=null!=M?yc(M):M;p=null!=p?yc(p):p;if(null!=M&&1!==Object.keys(M).length||null!=p&&1!==Object.keys(p).length)return[h.extend({test:y},
M)].concat(p||[]);M=M?M.signal||h.stringValue(M.value):null;p=p?p.signal||h.stringValue(p.value):null;return{signal:`${y} ? (${M}) : (${p})`}},oe=(y,M,p)=>({signal:`${y} ? (${Me(M)}) : (${Me(p)})`}),Me=y=>Pb(y)?y.signal:null==y?null:h.stringValue(y),xe=(y,M)=>{const p=y.signal;return p&&p.endsWith("(null)")?{signal:p.slice(0,-6)+M.signal}:y};kb.prototype=yb.prototype={parse(y){return x(y,this)},fork(){return new yb(this)},isSubscope(){return 0<this._subid},toRuntime(){this.finish();return{description:this.description,
operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(y){this.operators.push(y);y.id=this.id();y.refs&&(y.refs.forEach(M=>{M.$ref=y.id}),y.refs=null);return y},proxy(y){y=y instanceof Wa?Ia(y):y;return this.add(Kd({value:y}))},addStream(y){this.streams.push(y);y.id=this.id();return y},addUpdate(y){this.updates.push(y);return y},finish(){function y(P,Y,pa){P&&
(P=P.data||(P.data={}),Y=P[Y]||(P[Y]=[]),Y.push(pa))}let M,p;this.root&&(this.root.root=!0);for(M in this.signals)this.signals[M].signal=M;for(M in this.scales)this.scales[M].scale=M;for(M in this.data){p=this.data[M];y(p.input,M,"input");y(p.output,M,"output");y(p.values,M,"values");for(const P in p.index)y(p.index[P],M,"index:"+P)}return this},pushState(y,M,p){this._encode.push(Ia(this.add(dc({pulse:y}))));this._parent.push(M);this._lookup.push(p?Ia(this.proxy(p)):null);this._markpath.push(-1)},
popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return h.peek(this._parent)},encode(){return h.peek(this._encode)},lookup(){return h.peek(this._lookup)},markpath(){const y=this._markpath;return++y[y.length-1]},fieldRef(y,M){if(h.isString(y))return hb(y,M);y.signal||h.error("Unsupported field reference: "+h.stringValue(y));y=y.signal;var p=this.field[y];p||(p={name:this.signalRef(y)},M&&(p.as=M),this.field[y]=p=Ia(this.add(eb(p))));return p},compareRef(y){let M=
!1;const p=Y=>Pb(Y)?(M=!0,this.signalRef(Y.signal)):Y&&Y.expr?(M=!0,this.exprRef(Y.expr)):Y,P=h.array(y.field).map(p);y=h.array(y.order).map(p);return M?Ia(this.add(of({fields:P,orders:y}))):{$compare:P,$order:y}},keyRef(y,M){let p=!1;const P=this.signals;y=h.array(y).map(Y=>Pb(Y)?(p=!0,Ia(P[Y.signal])):Y);return p?Ia(this.add(Cb({fields:y,flat:M}))):ab(y,M)},sortRef(y){if(!y)return y;const M=qb(y.op,y.field);y=y.order||"ascending";return y.signal?Ia(this.add(of({fields:M,orders:this.signalRef(y.signal)}))):
{$compare:M,$order:y}},event(y,M){const p=y+":"+M;if(!this.events[p]){const P=this.id();this.streams.push({id:P,source:y,type:M});this.events[p]=P}return this.events[p]},hasOwnSignal(y){return h.hasOwnProperty(this.signals,y)},addSignal(y,M){this.hasOwnSignal(y)&&h.error("Duplicate signal name: "+h.stringValue(y));M=M instanceof Wa?M:this.add(new Wa("operator",M,void 0,void 0));return this.signals[y]=M},getSignal(y){this.signals[y]||h.error("Unrecognized signal name: "+h.stringValue(y));return this.signals[y]},
signalRef(y){if(this.signals[y])return Ia(this.signals[y]);h.hasOwnProperty(this.lambdas,y)||(this.lambdas[y]=this.add(new Wa("operator",null,void 0,void 0)));return Ia(this.lambdas[y])},parseLambdas(){const y=Object.keys(this.lambdas);for(let p=0,P=y.length;p<P;++p){var M=y[p];const Y=ka.parseExpression(M,this);M=this.lambdas[M];M.params=Y.$params;M.update=Y.$expr}},property(y){return y&&y.signal?this.signalRef(y.signal):y},objectProperty(y){return y&&h.isObject(y)?this.signalRef(y.signal||cc(y)):
y},exprRef(y,M){y={expr:ka.parseExpression(y,this)};M&&(y.expr.$name=M);return Ia(this.add(ca(y)))},addBinding(y,M){this.bindings||h.error("Nested signals do not support binding: "+h.stringValue(y));this.bindings.push(h.extend({signal:y},M))},addScaleProj(y,M){h.hasOwnProperty(this.scales,y)&&h.error("Duplicate scale or projection name: "+h.stringValue(y));this.scales[y]=this.add(M)},addScale(y,M){this.addScaleProj(y,Qa(M))},addProjection(y,M){this.addScaleProj(y,Md(M))},getScale(y){this.scales[y]||
h.error("Unrecognized scale name: "+h.stringValue(y));return this.scales[y]},scaleRef(y){return Ia(this.getScale(y))},scaleType(y){return this.getScale(y).params.type},projectionRef(y){return this.scaleRef(y)},projectionType(y){return this.scaleType(y)},addData(y,M){h.hasOwnProperty(this.data,y)&&h.error("Duplicate data set name: "+h.stringValue(y));return this.data[y]=M},getData(y){this.data[y]||h.error("Undefined data set name: "+h.stringValue(y));return this.data[y]},addDataPipeline(y,M){h.hasOwnProperty(this.data,
y)&&h.error("Duplicate data set name: "+h.stringValue(y));return this.addData(y,na.fromEntries(this,M))}};r.AxisDomainRole="axis-domain";r.AxisGridRole="axis-grid";r.AxisLabelRole="axis-label";r.AxisRole="axis";r.AxisTickRole="axis-tick";r.AxisTitleRole="axis-title";r.DataScope=na;r.FrameRole="frame";r.LegendEntryRole="legend-entry";r.LegendLabelRole="legend-label";r.LegendRole="legend";r.LegendSymbolRole="legend-symbol";r.LegendTitleRole="legend-title";r.MarkRole="mark";r.Scope=kb;r.ScopeRole="scope";
r.config=Ic;r.parse=function(y,M,p){h.isObject(y)||h.error("Input Vega specification must be an object.");M=h.mergeConfig(Ic(),M,y.config);return J(y,new kb(M,p)).toRuntime()};r.signal=Ra;r.signalUpdates=K;r.stream=ea})};
shadow$provide[54]=function(Db,mb,Cc,Va){function r(Ia){var hb=Object.create(null);Ia&&Object.keys(Ia).forEach(function(ab){if("default"!==ab){var qb=Object.getOwnPropertyDescriptor(Ia,ab);Object.defineProperty(hb,ab,qb.get?qb:{enumerable:!0,get:function(){return Ia[ab]}})}});hb.default=Ia;return Object.freeze(hb)}var h=mb(21),ka=mb(29),Ya=mb(31),ub=mb(35),Yb=mb(36),bc=mb(38),Xb=mb(39),oc=mb(40),zb=mb(42),Ub=mb(43),kc=mb(44);Cc=mb(45);Db=mb(46);var Ea=mb(30),Za=mb(23),tb=mb(28),rb=mb(34),pb=mb(33),
vb=mb(37),gb=mb(51),ec=mb(24),sa=mb(49),ia=mb(53),Ba=mb(50),Ra=mb(47),Wa=mb(52);mb=r(Ya);ub=r(ub);Yb=r(Yb);bc=r(bc);Xb=r(Xb);oc=r(oc);zb=r(zb);Ub=r(Ub);kc=r(kc);Cc=r(Cc);Db=r(Db);h.extend(ka.transforms,mb,ub,Yb,bc,Xb,zb,oc,Ub,kc,Cc,Db);Object.defineProperty(Va,"Dataflow",{enumerable:!0,get:function(){return ka.Dataflow}});Object.defineProperty(Va,"EventStream",{enumerable:!0,get:function(){return ka.EventStream}});Object.defineProperty(Va,"MultiPulse",{enumerable:!0,get:function(){return ka.MultiPulse}});
Object.defineProperty(Va,"Operator",{enumerable:!0,get:function(){return ka.Operator}});Object.defineProperty(Va,"Parameters",{enumerable:!0,get:function(){return ka.Parameters}});Object.defineProperty(Va,"Pulse",{enumerable:!0,get:function(){return ka.Pulse}});Object.defineProperty(Va,"Transform",{enumerable:!0,get:function(){return ka.Transform}});Object.defineProperty(Va,"changeset",{enumerable:!0,get:function(){return ka.changeset}});Object.defineProperty(Va,"definition",{enumerable:!0,get:function(){return ka.definition}});
Object.defineProperty(Va,"ingest",{enumerable:!0,get:function(){return ka.ingest}});Object.defineProperty(Va,"isTuple",{enumerable:!0,get:function(){return ka.isTuple}});Object.defineProperty(Va,"transform",{enumerable:!0,get:function(){return ka.transform}});Object.defineProperty(Va,"transforms",{enumerable:!0,get:function(){return ka.transforms}});Object.defineProperty(Va,"tupleid",{enumerable:!0,get:function(){return ka.tupleid}});Object.defineProperty(Va,"interpolate",{enumerable:!0,get:function(){return pb.interpolate}});
Object.defineProperty(Va,"interpolateColors",{enumerable:!0,get:function(){return pb.interpolateColors}});Object.defineProperty(Va,"interpolateRange",{enumerable:!0,get:function(){return pb.interpolateRange}});Object.defineProperty(Va,"quantizeInterpolator",{enumerable:!0,get:function(){return pb.quantizeInterpolator}});Object.defineProperty(Va,"scale",{enumerable:!0,get:function(){return pb.scale}});Object.defineProperty(Va,"scheme",{enumerable:!0,get:function(){return pb.scheme}});Object.defineProperty(Va,
"projection",{enumerable:!0,get:function(){return vb.projection}});Object.defineProperty(Va,"View",{enumerable:!0,get:function(){return gb.View}});Object.defineProperty(Va,"defaultLocale",{enumerable:!0,get:function(){return ec.defaultLocale}});Object.defineProperty(Va,"formatLocale",{enumerable:!0,get:function(){return ec.numberFormatDefaultLocale}});Object.defineProperty(Va,"locale",{enumerable:!0,get:function(){return ec.locale}});Object.defineProperty(Va,"resetDefaultLocale",{enumerable:!0,get:function(){return ec.resetDefaultLocale}});
Object.defineProperty(Va,"timeFormatLocale",{enumerable:!0,get:function(){return ec.timeFormatDefaultLocale}});Object.defineProperty(Va,"expressionFunction",{enumerable:!0,get:function(){return sa.expressionFunction}});Object.defineProperty(Va,"parse",{enumerable:!0,get:function(){return ia.parse}});Object.defineProperty(Va,"runtimeContext",{enumerable:!0,get:function(){return Ba.context}});Object.defineProperty(Va,"codegenExpression",{enumerable:!0,get:function(){return Ra.codegenExpression}});Object.defineProperty(Va,
"parseExpression",{enumerable:!0,get:function(){return Ra.parseExpression}});Object.defineProperty(Va,"parseSelector",{enumerable:!0,get:function(){return Wa.parseSelector}});Va.version="5.29.0";Object.keys(h).forEach(function(Ia){"default"===Ia||Object.prototype.hasOwnProperty.call(Va,Ia)||Object.defineProperty(Va,Ia,{enumerable:!0,get:function(){return h[Ia]}})});Object.keys(Ea).forEach(function(Ia){"default"===Ia||Object.prototype.hasOwnProperty.call(Va,Ia)||Object.defineProperty(Va,Ia,{enumerable:!0,
get:function(){return Ea[Ia]}})});Object.keys(Za).forEach(function(Ia){"default"===Ia||Object.prototype.hasOwnProperty.call(Va,Ia)||Object.defineProperty(Va,Ia,{enumerable:!0,get:function(){return Za[Ia]}})});Object.keys(tb).forEach(function(Ia){"default"===Ia||Object.prototype.hasOwnProperty.call(Va,Ia)||Object.defineProperty(Va,Ia,{enumerable:!0,get:function(){return tb[Ia]}})});Object.keys(rb).forEach(function(Ia){"default"===Ia||Object.prototype.hasOwnProperty.call(Va,Ia)||Object.defineProperty(Va,
Ia,{enumerable:!0,get:function(){return rb[Ia]}})})};
shadow$provide[55]=function(Db,mb,Cc,Va){(function(r,h){"object"===typeof Va&&"undefined"!==typeof Cc?h(Va,mb(54)):"function"===typeof define&&define.amd?define(["exports","vega"],h):(r="undefined"!==typeof globalThis?globalThis:r||self,h(r.vegaLite={},r.vega))})(this,function(r,h){function ka(a,b){if(a.not)ka(a.not,b);else if(a.and)for(const e of a.and)ka(e,b);else if(a.or)for(const e of a.or)ka(e,b);else b(a)}function Ya(a,b){return a.not?{not:Ya(a.not,b)}:a.and?{and:a.and.map(e=>Ya(e,b))}:a.or?
{or:a.or.map(e=>Ya(e,b))}:b(a)}function ub(a){throw Error(a);}function Yb(a,b){const e={};for(const f of b)h.hasOwnProperty(a,f)&&(e[f]=a[f]);return e}function bc(a,b){a=Object.assign({},a);for(const e of b)delete a[e];return a}function Xb(a){if(h.isNumber(a))return a;a=h.isString(a)?a:l(a);if(250>a.length)return a;let b=0;for(let e=0;e<a.length;e++){const f=a.charCodeAt(e);b=(b<<5)-b+f;b&=b}return b}function oc(a){return!1===a||null===a}function zb(a,b){return a.includes(b)}function Ub(a,b){let e=
0;for(const f of a.entries()){const [g,n]=f;if(b(n,g,e++))return!0}return!1}function kc(a,b){let e=0;for(const f of a.entries()){const [g,n]=f;if(!b(n,g,e++))return!1}return!0}function Ea(a){for(var b=arguments.length,e=Array(1<b?b-1:0),f=1;f<b;f++)e[f-1]=arguments[f];for(const g of e){let n;b=a;e=null!=(n=g)?n:{};for(const B of vd(e))h.writeConfig(b,B,e[B],!0)}return a}function Za(a,b){const e=[],f={};for(const g of a)a=b(g),a in f||(f[a]=1,e.push(g));return e}function tb(a,b){if(a.size!==b.size)return!1;
for(const e of a)if(!b.has(e))return!1;return!0}function rb(a,b){for(const e of a)if(b.has(e))return!0;return!1}function pb(a){const b=new Set;for(const e of a){const f=h.splitAccessPath(e).map((g,n)=>0===n?g:`[${g}]`);a=f.map((g,n)=>f.slice(0,n+1).join(""));for(const g of a)b.add(g)}return b}function vb(a,b){return void 0===a||void 0===b?!0:rb(pb(a),pb(b))}function gb(a){return 0===vd(a).length}function ec(a){return!0===a||!1===a}function sa(a){const b=a.replace(/\W/g,"_");return(a.match(/^\d+/)?
"_":"")+b}function ia(a,b){return a.not?`!(${ia(a.not,b)})`:a.and?`(${a.and.map(e=>ia(e,b)).join(") \x26\x26 (")})`:a.or?`(${a.or.map(e=>ia(e,b)).join(") || (")})`:b(a)}function Ba(a,b){if(0===b.length)return!0;const e=b.shift();e in a&&Ba(a[e],b)&&delete a[e];return gb(a)}function Ra(a){return a.charAt(0).toUpperCase()+a.substr(1)}function Wa(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum";const e=h.splitAccessPath(a),f=[];for(let g=1;g<=e.length;g++){const n=`[${e.slice(0,
g).map(h.stringValue).join("][")}]`;f.push(`${b}${n}`)}return f.join(" \x26\x26 ")}function Ia(a){return`${1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum"}[${h.stringValue(h.splitAccessPath(a).join("."))}]`}function hb(a){return a.replace(/(\[|\]|\.|'|")/g,"\\$1")}function ab(a){return`${h.splitAccessPath(a).map(hb).join("\\.")}`}function qb(a,b,e){return a.replace(new RegExp(b.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"),"g"),e)}function Pb(a){return`${h.splitAccessPath(a).join(".")}`}
function db(a){return a?h.splitAccessPath(a).length:0}function U(){for(var a=arguments.length,b=Array(a),e=0;e<a;e++)b[e]=arguments[e];for(const f of b)if(void 0!==f)return f}function ba(a){const b=++Lk;return a?String(a)+b:b}function ea(a){return ja(a)?a:`__${a}`}function ja(a){return a.startsWith("__")}function La(a){if(void 0!==a)return(a%360+360)%360}function oa(a){return h.isNumber(a)?!0:!isNaN(a)&&!isNaN(parseFloat(a))}function qa(a,b){if(a===b)return!0;if(a&&b&&"object"==typeof a&&"object"==
typeof b){if(a.constructor.name!==b.constructor.name)return!1;let f;if(Array.isArray(a)){var e=a.length;if(e!=b.length)return!1;for(f=e;0!==f--;)if(!qa(a[f],b[f]))return!1;return!0}if(a instanceof Map&&b instanceof Map){if(a.size!==b.size)return!1;for(f of a.entries())if(!b.has(f[0]))return!1;for(f of a.entries())if(!qa(f[1],b.get(f[0])))return!1;return!0}if(a instanceof Set&&b instanceof Set){if(a.size!==b.size)return!1;for(f of a.entries())if(!b.has(f[0]))return!1;return!0}if(ArrayBuffer.isView(a)&&
ArrayBuffer.isView(b)){e=a.length;if(e!=b.length)return!1;for(f=e;0!==f--;)if(a[f]!==b[f])return!1;return!0}if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf&&a.valueOf!==Kk.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString&&a.toString!==Kk.toString)return a.toString()===b.toString();const g=Object.keys(a);e=g.length;if(e!==Object.keys(b).length)return!1;for(f=e;0!==f--;)if(!Object.prototype.hasOwnProperty.call(b,
g[f]))return!1;for(f=e;0!==f--;)if(e=g[f],!qa(a[e],b[e]))return!1;return!0}return a!==a&&b!==b}function l(a){const b=[];return function g(f){f&&f.toJSON&&"function"===typeof f.toJSON&&(f=f.toJSON());if(void 0!==f){if("number"==typeof f)return isFinite(f)?""+f:"null";if("object"!==typeof f)return JSON.stringify(f);var n;if(Array.isArray(f)){var B="[";for(n=0;n<f.length;n++)n&&(B+=","),B+=g(f[n])||"null";return B+"]"}if(null===f)return"null";if(b.includes(f))throw new TypeError("Converting circular structure to JSON");
var O=b.push(f)-1,Z=Object.keys(f).sort();B="";for(n=0;n<Z.length;n++){const wa=Z[n],bb=g(f[wa]);bb&&(B&&(B+=","),B+=JSON.stringify(wa)+":"+bb)}b.splice(O,1);return`{${B}}`}}(a)}function D(a){switch(a){case "latitude":return"y";case "latitude2":return"y2";case "longitude":return"x";case "longitude2":return"x2"}}function K(a){return"color"===a||"fill"===a||"stroke"===a}function v(a){return R(a)!==a}function R(a){switch(a){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";case "longitude2":return"longitude";
case "theta2":return"theta";case "radius2":return"radius"}return a}function A(a){if(a in fk)switch(a){case "theta":return"startAngle";case "theta2":return"endAngle";case "radius":return"outerRadius";case "radius2":return"innerRadius"}return a}function W(a){switch(a){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function G(a){switch(a){case "x":case "x2":return"width";case "y":case "y2":return"height"}}
function w(a){switch(a){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";case "radius":return"radiusOffset";case "theta2":return"theta2Offset";case "radius2":return"radius2Offset"}}function z(a){switch(a){case "x":return"xOffset";case "y":return"yOffset"}}function F(a){return a in gk}function V(a){return"width"===a?"x":"y"}function ta(a){switch(a){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return Dl;
case "x":case "y":case "xOffset":case "yOffset":case "latitude":case "longitude":return Ql;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",
point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function N(a){switch(a){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";
case "color":case "fill":case "stroke":return"flexible"}}function ma(a){return!!a&&!!a.argmin}function ya(a){return!!a&&!!a.argmax}function Ma(a){return h.isString(a)&&!!hk[a]}function Pa(a){return h.isString(a)&&Vl.has(a)}function Xa(a){h.isBoolean(a)&&(a=Oe(a,void 0));return"bin"+vd(a).map(b=>Tb(a[b])?sa(`_${b}_${Gi(a[b])}`):sa(`_${b}_${a[b]}`)).join("")}function sb(a){return!0===a||h.isObject(a)&&!a.binned}function ib(a){return"binned"===a||h.isObject(a)&&!0===a.binned}function Tb(a){return null==
a?void 0:a.param}function X(a){switch(a){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;case "strokeDash":return 4;default:return 10}}function Fa(a){return!(null==a||!a.expr)}function Kb(a){const b=vd(a||{}),e={};for(const f of b)e[f]=ra(a[f]);return e}function qc(a){var b=Object.assign({},a),e=a.anchor;const f=a.frame,g=a.offset,n=a.orient,B=a.angle,O=a.limit;var Z=a.color,
wa=a.subtitleColor;const bb=a.subtitleFont,nb=a.subtitleFontSize,hc=a.subtitleFontStyle,Nc=a.subtitleFontWeight,lc=a.subtitleLineHeight,Lc=a.subtitlePadding;b=(delete b.anchor,delete b.frame,delete b.offset,delete b.orient,delete b.angle,delete b.limit,delete b.color,delete b.subtitleColor,delete b.subtitleFont,delete b.subtitleFontSize,delete b.subtitleFontStyle,delete b.subtitleFontWeight,delete b.subtitleLineHeight,delete b.subtitlePadding,b);Z=Object.assign({},b,Z?{fill:Z}:{});e=Object.assign({},
e?{anchor:e}:{},f?{frame:f}:{},g?{offset:g}:{},n?{orient:n}:{},void 0!==B?{angle:B}:{},void 0!==O?{limit:O}:{});wa=Object.assign({},wa?{subtitleColor:wa}:{},bb?{subtitleFont:bb}:{},nb?{subtitleFontSize:nb}:{},hc?{subtitleFontStyle:hc}:{},Nc?{subtitleFontWeight:Nc}:{},lc?{subtitleLineHeight:lc}:{},Lc?{subtitlePadding:Lc}:{});a=Yb(a,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:Z,subtitleMarkConfig:a,nonMarkTitleProperties:e,subtitle:wa}}function $b(a){return h.isString(a)||h.isArray(a)&&
h.isString(a[0])}function Mb(a){return!(null==a||!a.signal)}function Qb(a){return!!a.step}function wc(a){return h.isArray(a)?!1:"field"in a&&"data"in a}function fd(a){const b=h.isArray(a.condition)?a.condition.map(Ab):Ab(a.condition);return Object.assign({},ra(a),{condition:b})}function ra(a){if(Fa(a)){var b=Object.assign({},a);a=a.expr;b=(delete b.expr,b);return Object.assign({},{signal:a},b)}return a}function Ab(a){if(Fa(a)){var b=Object.assign({},a);a=a.expr;b=(delete b.expr,b);return Object.assign({},
{signal:a},b)}return a}function Ta(a){if(Fa(a)){var b=Object.assign({},a);a=a.expr;b=(delete b.expr,b);return Object.assign({},{signal:a},b)}return Mb(a)?a:void 0!==a?{value:a}:void 0}function wb(a){return Mb(a)?a.signal:h.stringValue(a.value)}function Gb(a){return Mb(a)?a.signal:null==a?null:h.stringValue(a)}function Nb(a){let b;return[].concat(a.type,null!=(b=a.style)?b:[])}function Zb(a,b,e){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const {vgChannel:g,ignoreVgConfig:n}=f;
if(g&&void 0!==b[g])return b[g];if(void 0!==b[a])return b[a];if(!n||g&&g!==a)return jc(a,b,e,f)}function jc(a,b,e){let {vgChannel:f}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return U(f?Ac(a,b,e.style):void 0,Ac(a,b,e.style),f?e[b.type][f]:void 0,e[b.type][a],f?e.mark[f]:e.mark[a])}function Ac(a,b,e){return ld(a,Nb(b),e)}function ld(a,b,e){b=h.array(b);let f;for(const g of b)(b=e[g])&&void 0!==b[a]&&(f=b[a]);return f}function Vc(a,b){return h.array(a).reduce((e,f)=>{e.field.push(Sc(f,
b));let g;e.order.push(null!=(g=f.sort)?g:"ascending");return e},{field:[],order:[]})}function na(a,b){const e=[...a];b.forEach(f=>{for(const g of e)if(qa(g,f))return;e.push(f)});return e}function Ha(a,b){return qa(a,b)||!b?a:a?[...h.array(a),...h.array(b)].join(", "):b}function fb(a,b){const e=a.value;b=b.value;if(null==e||null===b)return{explicit:a.explicit,value:null};if(($b(e)||Mb(e))&&($b(b)||Mb(b)))return{explicit:a.explicit,value:Ha(e,b)};if($b(e)||Mb(e))return{explicit:a.explicit,value:e};
if($b(b)||Mb(b))return{explicit:a.explicit,value:b};if(!($b(e)||Mb(e)||$b(b)||Mb(b)))return{explicit:a.explicit,value:na(e,b)};throw Error("It should never reach here");}function Q(a,b,e){a:if("object"===typeof b&&null!==b){var f=b[Symbol.toPrimitive];if(void 0!==f){b=f.call(b,"string");if("object"!==typeof b)break a;throw new TypeError("@@toPrimitive must return a primitive value.");}b=String(b)}b="symbol"===typeof b?b:String(b);b in a?Object.defineProperty(a,b,{value:e,enumerable:!0,configurable:!0,
writable:!0}):a[b]=e;return a}function t(a,b,e){b=da(a,b,"set");if(b.set)b.set.call(a,e);else{if(!b.writable)throw new TypeError("attempted to set read only private field");b.value=e}return e}function da(a,b,e){if(!b.has(a))throw new TypeError("attempted to "+e+" private field on non-instance");return b.get(a)}function za(a){return`Invalid specification ${l(a)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}
function Da(a){return`${"width"==a?"Width":"Height"} "container" only works for single views and layered views.`}function Oa(a){return`${"width"==a?"Width":"Height"} "container" only works well with autosize "fit" or "fit-${"width"==a?"x":"y"}".`}function jb(a){return a?`Dropping "fit-${a}" because spec has discrete ${G(a)}.`:'Dropping "fit" because spec has discrete size.'}function Rb(a){return`Unknown field for ${a}. Cannot calculate view size.`}function Eb(a){return`Cannot project a selection on encoding channel "${a}", which has no field.`}
function Ib(a){return`Selection not supported for ${a} yet.`}function Bc(a){return`The "columns" property cannot be used when "${a}" has nested row/column.`}function Dc(a,b,e){return`An ancestor parsed field "${a}" as ${e} but a child wants to parse the field as ${b}.`}function Rc(a){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${a} are dropped.`}function yd(a,b){const {fill:e,stroke:f}=b;return`Dropping color ${a} as the plot also has ${e&&f?"fill and stroke":
e?"fill":"stroke"}.`}function rd(a,b){return`Dropping ${l(a)} from channel "${b}" since it does not contain any data field, datum, value, or signal.`}function gd(a,b,e){return`${a} dropped as it is incompatible with "${b}"${e?` when ${e}`:""}.`}function Fd(a,b){return`Using discrete channel "${a}" to encode "${b}" field can be misleading as it does not encode ${"ordinal"===b?"order":"magnitude"}.`}function Gd(a,b,e){return`${e}-scale's "${b}" is dropped as it does not work with ${a} scale.`}function ud(a){return`The step for "${a}" is dropped because the ${"width"===
a?"x":"y"} is continuous.`}function we(a,b){return`Invalid ${a}: ${l(b)}.`}function Ed(a){return`1D error band does not support ${a}.`}function x(a){return`Channel ${a} is required for "binned" bin.`}function J(){Ai.warn(...arguments)}function xa(){Ai.debug(...arguments)}function Ka(a){if(a&&h.isObject(a))for(const b of Zk)if(b in a)return!0;return!1}function kb(a){oa(a)&&(a=+a);if(h.isNumber(a))return a-1;var b=a.toLowerCase();const e=Qh.indexOf(b);if(-1!==e)return e;b=b.substr(0,3);b=Lj.indexOf(b);
if(-1!==b)return b;throw Error(we("month",a));}function yb(a){oa(a)&&(a=+a);if(h.isNumber(a))return a%7;var b=a.toLowerCase();const e=$h.indexOf(b);if(-1!==e)return e;b=b.substr(0,3);b=Ok.indexOf(b);if(-1!==b)return b;throw Error(we("day",a));}function cc(a,b){const e=[];b&&void 0!==a.day&&1<vd(a).length&&(J(`Dropping day from datetime ${l(a)} as day cannot be combined with other units.`),a=He(a),delete a.day);void 0!==a.year?e.push(a.year):e.push(2012);if(void 0!==a.month){var f=b?kb(a.month):a.month;
e.push(f)}else if(void 0!==a.quarter){if(b)if(f=a.quarter,oa(f)&&(f=+f),h.isNumber(f))4<f&&J(we("quarter",f)),--f;else throw Error(we("quarter",f));else f=a.quarter;e.push(h.isNumber(f)?3*f:`${f}*3`)}else e.push(0);void 0!==a.date?e.push(a.date):void 0!==a.day?(b=b?yb(a.day):a.day,e.push(h.isNumber(b)?b+1:`${b}+1`)):e.push(1);for(const g of["hours","minutes","seconds","milliseconds"])b=a[g],e.push("undefined"===typeof b?0:b);return e}function Sb(a){const b=cc(a,!0).join(", ");return a.utc?`utc(${b})`:
`datetime(${b})`}function pc(a){const b=cc(a,!0);return a.utc?+new Date(Date.UTC(...b)):+new Date(...b)}function Ic(a){return h.isObject(a)?a.binned:a&&a.startsWith("binned")}function yc(a){return Zk.filter(b=>md(a,b))}function Xc(a){a=yc(a);return a[a.length-1]}function md(a,b){const e=a.indexOf(b);return 0>e||0<e&&"seconds"===b&&"i"===a.charAt(e-1)||a.length>e+3&&"day"===b&&"o"===a.charAt(e+3)||0<e&&"year"===b&&"f"===a.charAt(e-1)?!1:!0}function sd(a,b){var {end:e}=2<arguments.length&&void 0!==
arguments[2]?arguments[2]:{end:!1};const f=Wa(b),g=a.startsWith("utc")?"utc":"";const n={};for(const O of Zk)if(md(a,O)){var B="quarter"===O?`(${g}quarter(${f})-1)`:`${g}${O}(${f})`;n[O]=B;B=O}e&&(n[B]+="+1");e=cc(n,!1).join(", ");return n.utc?`utc(${e})`:`datetime(${e})`}function Bd(a){if(a)return a=yc(a),`timeUnitSpecifier(${l(a)}, ${l(Uk)})`}function pd(a){if(a){var b;h.isString(a)?b=a&&a.startsWith("binned")?{unit:a.substring(6),binned:!0}:{unit:a}:h.isObject(a)&&(b=Object.assign({},a,a.unit?
{unit:a.unit}:{}));b.unit.startsWith("utc")&&(b.utc=!0,b.unit=b.unit.substring(3));return b}}function Nd(a){var b=pd(a);a=Object.assign({},b);b=b.utc;const e=(delete a.utc,a);return e.unit?(b?"utc":"")+vd(e).map(f=>sa(`${"unit"===f?"":`_${f}_`}${e[f]}`)).join(""):(b?"utc":"")+"timeunit"+vd(e).map(f=>sa(`_${f}_${e[f]}`)).join("")}function le(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:g=>g;var e=pd(a);const f=Xc(e.unit);if(f&&"day"!==f){const g={year:2001,month:1,date:1,hours:0,
minutes:0,seconds:0,milliseconds:0},{step:n,part:B}=Re(f,e.step);e=Object.assign({},g,{[B]:+g[B]+n});return`${b(Sb(e))} - ${b(Sb(g))}`}}function Re(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(pj[a])return{part:a,step:b};switch(a){case "day":case "dayofyear":return{part:"date",step:b};case "quarter":return{part:"month",step:3*b};case "week":return{part:"date",step:7*b}}}function Ge(a){return!(null==a||!a.field)&&void 0!==a.equal}function Ke(a){return!(null==a||!a.field)&&void 0!==
a.lt}function of(a){return!(null==a||!a.field)&&void 0!==a.lte}function ef(a){return!(null==a||!a.field)&&void 0!==a.gt}function E(a){return!(null==a||!a.field)&&void 0!==a.gte}function ca(a){if(null==a?0:a.field)if(h.isArray(a.range)&&2===a.range.length||Mb(a.range))return!0;return!1}function Ga(a){return!(null==a||!a.field)&&(h.isArray(a.oneOf)||h.isArray(a.in))}function eb(a){return Ga(a)||Ge(a)||ca(a)||Ke(a)||ef(a)||of(a)||E(a)}function Cb(a,b){return Pe(a,{timeUnit:b,wrapTime:!0})}function rc(a,
b){return a.map(e=>Cb(e,b))}function Lb(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,{field:e}=a,f=pd(a.timeUnit);const {unit:g,binned:n}=f||{};f=Sc(a,{expr:"datum"});e=g?`time(${n?f:sd(g,e)})`:f;if(Ge(a))return`${e}===${Cb(a.equal,g)}`;if(Ke(a))return`${e}<${Cb(a.lt,g)}`;if(ef(a))return`${e}>${Cb(a.gt,g)}`;if(of(a))return`${e}<=${Cb(a.lte,g)}`;if(E(a))return`${e}>=${Cb(a.gte,g)}`;if(Ga(a))return`indexof([${rc(a.oneOf,g).join(",")}], ${e}) !== -1`;if(null!=a&&a.field&&void 0!==
a.valid)return Mc(e,a.valid);if(ca(a)){var {range:B}=a;f=Mb(B)?{signal:`${B.signal}[0]`}:B[0];B=Mb(B)?{signal:`${B.signal}[1]`}:B[1];if(null!==f&&null!==B&&b)return"inrange("+e+", ["+Cb(f,g)+", "+Cb(B,g)+"])";b=[];null!==f&&b.push(`${e} >= ${Cb(f,g)}`);null!==B&&b.push(`${e} <= ${Cb(B,g)}`);return 0<b.length?b.join(" \x26\x26 "):"true"}throw Error(`Invalid field predicate: ${l(a)}`);}function Mc(a){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)?`isValid(${a}) && isFinite(+${a})`:
`!isValid(${a}) || !isFinite(+${a})`}function qd(a){return eb(a)&&a.timeUnit?Object.assign({},a,{timeUnit:pd(a.timeUnit)}):a}function id(a){return"quantitative"===a||"temporal"===a}function Oc(a){return"ordinal"===a||"nominal"===a}function Pd(a){if(a)switch(a=a.toLowerCase(),a){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";case "geojson":return"geojson"}}function Td(a){return qj.has(a)}
function Md(a){return Vk.has(a)}function Kd(a,b){switch(b){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!["point","band","identity"].includes(a);case "bins":return!["point","band","identity","ordinal"].includes(a);case "round":return og.has(a)||"band"===a||"point"===a;case "padding":case "rangeMin":case "rangeMax":return og.has(a)||["point","band"].includes(a);case "paddingOuter":case "align":return["point","band"].includes(a);case "paddingInner":return"band"===
a;case "domainMax":case "domainMid":case "domainMin":case "domainRaw":case "clamp":return og.has(a);case "nice":return og.has(a)||"quantize"===a||"threshold"===a;case "exponent":return"pow"===a;case "base":return"log"===a;case "constant":return"symlog"===a;case "zero":return Md(a)&&!zb(["log","time","utc","threshold","quantile"],a)}}function ae(a,b){switch(b){case "interpolate":case "scheme":case "domainMid":if(!K(a))return`Cannot use the scale property "${b}" with non-color channel.`}}function Ca(a,
b){let e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;if(!Mh[a])return!1;switch(a){case "x":case "y":case "xOffset":case "yOffset":case "theta":case "radius":return og.has(b)||"band"===b?!0:"point"===b?!e:!1;case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return og.has(b)||ai.has(b)||zb(["band","point","ordinal"],b);case "color":case "fill":case "stroke":return"band"!==b;case "strokeDash":case "shape":return"ordinal"===b||ai.has(b)}}
function Qa(a){return["line","area","trail"].includes(a)}function dc(a){return["rect","bar","image","arc"].includes(a)}function hd(a){return a.type}function sc(a){return a&&void 0!=a.band}function Pc(a){const {channel:b,channelDef:e,markDef:f,scale:g,config:n}=a;a=jd(a);if(ua(e)&&!Pa(e.aggregate)&&g&&og.has(g.get("type"))){{let {fieldDef:O,channel:Z,markDef:wa,ref:bb,config:nb}={fieldDef:e,channel:b,markDef:f,ref:a,config:n};if(Qa(wa.type))a=bb;else if(null===Zb("invalid",wa,nb)){var B=Z;a=Fc(O,!0);
B="y"===R(B)?{field:{group:"height"}}:{value:0};a=[Object.assign({},{test:a},B),bb]}else a=bb}return a}return a}function Fc(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;return Mc(h.isString(a)?a:Sc(a,{expr:"datum"}),!b)}function Tc(a,b,e,f){const g={};b&&(g.scale=b);Fb(a)?({datum:a}=a,Ka(a)?g.signal=Sb(a):Mb(a)?g.signal=a.signal:Fa(a)?g.signal=a.expr:g.value=a):g.field=Sc(a,e);if(f){const {offset:n,band:B}=f;n&&(g.offset=n);B&&(g.band=B)}return g}function Yc(a){let {scaleName:b,
fieldOrDatumDef:e,fieldOrDatumDef2:f,offset:g,startSuffix:n,endSuffix:B="end",bandPosition:O=.5}=a;var Z=!Mb(O)&&0<O&&1>O?"datum":void 0;a=Sc(e,{expr:Z,suffix:n});const wa=void 0!==f?Sc(f,{expr:Z}):Sc(e,{suffix:B,expr:Z});Z={};0===O||1===O?(Z.scale=b,Z.field=0===O?a:wa):(a=Mb(O)?`(1-${O.signal}) * ${a} + ${O.signal} * ${wa}`:`${1-O} * ${a} + ${O} * ${wa}`,Z.signal=`scale("${b}", ${a})`);g&&(Z.offset=g);return Z}function jd(a){let {channel:b,channelDef:e,channel2Def:f,markDef:g,config:n,scaleName:B,
scale:O,stack:Z,offset:wa,defaultRef:bb,bandPosition:nb}=a;if(e){if(zc(e)){a=null==O?void 0:O.get("type");if(xc(e)){null!=nb||(nb=y({fieldDef:e,fieldDef2:f,markDef:g,config:n}));const {bin:lc,timeUnit:Lc,type:bd}=e;if(sb(lc)||nb&&Lc&&"temporal"===bd)return(null==Z?0:Z.impute)?Tc(e,B,{binSuffix:"mid"},{offset:wa}):nb&&!Td(a)?Yc({scaleName:B,fieldOrDatumDef:e,bandPosition:nb,offset:wa}):Tc(e,B,kf(e,b)?{binSuffix:"range"}:{},{offset:wa});if(ib(lc)){if(ua(f))return Yc({scaleName:B,fieldOrDatumDef:e,fieldOrDatumDef2:f,
bandPosition:nb,offset:wa});J(x("x"===b?"x2":"y2"))}}var hc;let Nc;return Tc(e,B,Td(a)?{binSuffix:"range"}:{},{offset:wa,band:"band"===a?null!=(Nc=null!=(hc=nb)?hc:e.bandPosition)?Nc:.5:void 0})}if(Jc(e))return hc=wa?{offset:wa}:{},Object.assign({},nd(b,e.value),hc)}h.isFunction(bb)&&(bb=bb());return bb?Object.assign({},bb,wa?{offset:wa}:{}):bb}function nd(a,b){return zb(["x","x2"],a)&&"width"===b?{field:{group:"width"}}:zb(["y","y2"],a)&&"height"===b?{field:{group:"height"}}:Ta(b)}function ne(a){return a&&
"number"!==a&&"time"!==a}function Ue(a){let {fieldOrDatumDef:b,format:e,formatType:f,expr:g,normalizeStack:n,config:B}=a;if(ne(f))return qe({fieldOrDatumDef:b,format:e,formatType:f,expr:g,config:B});a=Fe(b,g,n);var O=Bb(b);if(void 0===e&&void 0===f&&B.customFormatTypes){if("quantitative"===O){if(n&&B.normalizedNumberFormatType)return qe({fieldOrDatumDef:b,format:B.normalizedNumberFormat,formatType:B.normalizedNumberFormatType,expr:g,config:B});if(B.numberFormatType)return qe({fieldOrDatumDef:b,format:B.numberFormat,
formatType:B.numberFormatType,expr:g,config:B})}if("temporal"===O&&B.timeFormatType&&ua(b)&&void 0===b.timeUnit)return qe({fieldOrDatumDef:b,format:B.timeFormat,formatType:B.timeFormatType,expr:g,config:B})}if(td(b)){var Z,wa;{a={field:a,timeUnit:ua(b)?null==(Z=pd(b.timeUnit))?void 0:Z.unit:void 0,format:e,formatType:B.timeFormatType,rawTimeFormat:B.timeFormat,isUTCScale:$c(b)&&(null==(wa=b.scale)?void 0:wa.type)===jg.UTC};let {field:bb,timeUnit:nb,format:hc,formatType:Nc,rawTimeFormat:lc,isUTCScale:Lc}=
a;!nb||hc?!nb&&Nc?Z=`${Nc}(${bb}, '${hc}')`:(hc=h.isString(hc)?hc:lc,Z=`${Lc?"utc":"time"}Format(${bb}, '${hc}')`):(Z=nb,wa=bb,a=Lc,Z?(O=Bd(Z),Z=`${a||Z.startsWith("utc")?"utc":"time"}Format(${wa}, ${O})`):Z=void 0)}return Z?{signal:Z}:void 0}e=Le({type:O,specifiedFormat:e,config:B,normalizeStack:n});return ua(b)&&sb(b.bin)?(Z=Sc(b,{expr:g,binSuffix:"end"}),{signal:af(a,Z,e,f,B)}):e||"quantitative"===Bb(b)?{signal:`${`format(${a}, "${e||""}")`}`}:{signal:`isValid(${a}) ? ${a} : ""+${a}`}}function Fe(a,
b,e){if(ua(a))return e?`${Sc(a,{expr:b,suffix:"end"})}-${Sc(a,{expr:b,suffix:"start"})}`:Sc(a,{expr:b});({datum:a}=a);a=Ka(a)?Sb(a):`${l(a)}`;return a}function qe(a){let {fieldOrDatumDef:b,format:e,formatType:f,expr:g,normalizeStack:n,config:B,field:O}=a;null!=O||(O=Fe(b,g,n));return"datum.value"!==O&&ua(b)&&sb(b.bin)?(a=Sc(b,{expr:g,binSuffix:"end"}),{signal:af(O,a,e,f,B)}):{signal:`${f}(${O}${e?`, ${l(e)}`:""})`}}function hf(a,b,e,f,g,n){if(!h.isString(f)||!ne(f))if(void 0!==e||void 0!==f||!g.customFormatTypes||
"quantitative"!==Bb(a)||!(g.normalizedNumberFormatType&&ad(a)&&"normalize"===a.stack||g.numberFormatType)){if(ad(a)&&"normalize"===a.stack&&g.normalizedNumberFormat)return Le({type:"quantitative",config:g,normalizeStack:!0});if(td(a)){let B;a=ua(a)?null==(B=pd(a.timeUnit))?void 0:B.unit:void 0;if(void 0===a&&g.customFormatTypes&&g.timeFormatType)return;{let {specifiedFormat:O,timeUnit:Z,config:wa,omitTimeFormatConfig:bb}={specifiedFormat:e,timeUnit:a,config:g,omitTimeFormatConfig:n};e=O?O:Z?{signal:Bd(Z)}:
bb?void 0:wa.timeFormat}return e}return Le({type:b,specifiedFormat:e,config:g})}}function pf(a,b,e){if(a&&(Mb(a)||"number"===a||"time"===a))return a;if(td(b)&&"time"!==e&&"utc"!==e){let f;return ua(b)&&(null==(f=pd(null==b?void 0:b.timeUnit))?0:f.utc)?"utc":"time"}}function Le(a){let {type:b,specifiedFormat:e,config:f,normalizeStack:g}=a;if(h.isString(e))return e;if("quantitative"===b)return g?f.normalizedNumberFormat:f.numberFormat}function We(a,b,e,f){if(ne(e))return`${e}(${a}${b?`, ${l(b)}`:""})`;
let g;b=null!=(g=h.isString(b)?b:void 0)?g:f.numberFormat;return`format(${a}, "${b||""}")`}function af(a,b,e,f,g){if(void 0===e&&void 0===f&&g.customFormatTypes&&g.numberFormatType)return af(a,b,g.numberFormat,g.numberFormatType,g);const n=We(a,e,f,g);b=We(b,e,f,g);return`${Mc(a,!1)} ? "null" : ${n} + "${"  "}" + ${b}`}function se(a){return a&&("count"===a.op||!!a.field)}function oe(a){return a&&h.isArray(a)}function Me(a){return"row"in a||"column"in a}function xe(a){const {field:b,timeUnit:e,bin:f,
aggregate:g}=a;return Object.assign({},e?{timeUnit:e}:{},f?{bin:f}:{},g?{aggregate:g}:{},{field:b})}function y(a){let {fieldDef:b,fieldDef2:e,markDef:f,config:g}=a;if(zc(b)&&void 0!==b.bandPosition)return b.bandPosition;if(ua(b)){const {timeUnit:n,bin:B}=b;if(n&&!e)return jc("timeUnitBandPosition",f,g);if(sb(B))return.5}}function M(a){let {channel:b,fieldDef:e,fieldDef2:f,markDef:g,config:n,scaleType:B,useVlSizeChannel:O}=a;a=G(b);a=Zb(O?"size":a,g,n,{vgChannel:a});if(void 0!==a)return a;if(ua(e)){const {timeUnit:Z,
bin:wa}=e;if(Z&&!f)return{band:jc("timeUnitBandSize",g,n)};if(sb(wa)&&!Td(B))return{band:1}}if(dc(g.type)){if(B){if(Td(B)){let bb;return(null==(bb=n[g.type])?void 0:bb.discreteBandSize)||{band:1}}let wa;return null==(wa=n[g.type])?void 0:wa.continuousBandSize}let Z;return null==(Z=n[g.type])?void 0:Z.discreteBandSize}}function p(a,b,e,f){return sb(a.bin)||a.timeUnit&&xc(a)&&"temporal"===a.type?void 0!==y({fieldDef:a,fieldDef2:b,markDef:e,config:f}):!1}function P(a){return a&&"condition"in a}function Y(a){a=
null==a?void 0:a.condition;return!!a&&!h.isArray(a)&&ua(a)}function pa(a){a=null==a?void 0:a.condition;return!!a&&!h.isArray(a)&&zc(a)}function ua(a){return a&&(!!a.field||"count"===a.aggregate)}function Bb(a){return null==a?void 0:a.type}function Fb(a){return a&&"datum"in a}function Wb(a){return xc(a)&&!Vd(a)||mc(a)}function ac(a){return xc(a)&&"quantitative"===a.type&&!a.bin||mc(a)}function mc(a){return Fb(a)&&h.isNumber(a.datum)}function zc(a){return ua(a)||Fb(a)}function xc(a){return a&&("field"in
a||"count"===a.aggregate)&&"type"in a}function Jc(a){return a&&"value"in a&&"value"in a}function $c(a){return a&&("scale"in a||"sort"in a)}function ad(a){return a&&("axis"in a||"stack"in a||"impute"in a)}function kd(a){return a&&("format"in a||"formatType"in a)}function Xd(a){return bc(a,["legend","axis","header","scale"])}function Sc(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=a.field;const f=b.prefix;let g=b.suffix,n="";if("count"===a.aggregate)e=ea("count");else{let B;
if(!b.nofn)if("op"in a)B=a.op;else{const {bin:O,aggregate:Z,timeUnit:wa}=a;if(sb(O)){B=Xa(O);let bb,nb;g=(null!=(bb=b.binSuffix)?bb:"")+(null!=(nb=b.suffix)?nb:"")}else if(Z)ya(Z)?(n=`["${e}"]`,e=`argmax_${Z.argmax}`):ma(Z)?(n=`["${e}"]`,e=`argmin_${Z.argmin}`):B=String(Z);else if(wa&&!Ic(wa)){B=Nd(wa);let bb;g=(!["range","mid"].includes(b.binSuffix)&&b.binSuffix||"")+(null!=(bb=b.suffix)?bb:"")}}B&&(e=e?`${B}_${e}`:B)}g&&(e=`${e}_${g}`);f&&(e=`${f}_${e}`);return b.forAs?Pb(e):b.expr?Ia(e,b.expr)+
n:ab(e)+n}function Vd(a){switch(a.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return ua(a)&&!!a.bin;case "temporal":return!1}throw Error(`Invalid field type "${a.type}".`);}function Be(a,b){const {field:e,bin:f,timeUnit:g,aggregate:n}=a;if("count"===n)return b.countTitle;if(sb(f))return`${e} (binned)`;if(g&&!Ic(g)){let B;if(a=null==(B=pd(g))?void 0:B.unit)return`${e} (${yc(a).join("-")})`}else if(n)return ya(n)?`${e} for max ${n.argmax}`:ma(n)?`${e} for min ${n.argmin}`:
`${Ra(n)} of ${e}`;return e}function Zc(a,b,e){let {allowDisabling:f,includeDefault:g=!0}=e,n;e=null==(n=zd(a))?void 0:n.title;if(!ua(a))return null!=e?e:a.title;b=g?Ef(a,b):void 0;if(f)return U(e,a.title,b);let B;return null!=(B=null!=e?e:a.title)?B:b}function zd(a){if(ad(a)&&a.axis)return a.axis;if(a&&"legend"in a&&a.legend)return a.legend;if(a&&"header"in a&&a.header)return a.header}function Yd(a){if(kd(a)){const {format:g,formatType:n}=a;return{format:g,formatType:n}}let b;a=null!=(b=zd(a))?b:
{};const {format:e,formatType:f}=a;return{format:e,formatType:f}}function Zd(a,b){switch(b){case "latitude":case "longitude":return"quantitative";case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";case "order":return"ordinal"}if("sort"in a&&h.isArray(a.sort))return"ordinal";const {aggregate:e,bin:f,timeUnit:g}=a;if(g)return"temporal";if(f||e&&!ya(e)&&!ma(e))return"quantitative";let n;if($c(a)&&(null==(n=a.scale)?0:n.type))switch(Dg[a.scale.type]){case "numeric":case "discretizing":return"quantitative";
case "time":return"temporal"}return"nominal"}function Ce(a){if(ua(a))return a;if(Y(a))return a.condition}function Rd(a){if(zc(a))return a;if(pa(a))return a.condition}function Od(a,b,e){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return h.isString(a)||h.isNumber(a)||h.isBoolean(a)?(f=h.isString(a)?"string":h.isNumber(a)?"number":"boolean",J(`Channel ${b} is a ${f}. Converted to {value: ${l(a)}}.`),{value:a}):zc(a)?te(a,b,e,f):pa(a)?Object.assign({},a,{condition:te(a.condition,b,
e,f)}):a}function te(a,b,e,f){if(kd(a)){var g=Object.assign({},a),n=a.formatType;g=(delete g.format,delete g.formatType,g);if(ne(n)&&!e.customFormatTypes)return J(Rc(b)),te(g,b,e,f)}else if((n=ad(a)?"axis":a&&"legend"in a?"legend":a&&"header"in a?"header":null)&&a[n]){var B=a[n];g=Object.assign({},B);B=B.formatType;g=(delete g.format,delete g.formatType,g);if(ne(B)&&!e.customFormatTypes)return J(Rc(b)),te(Object.assign({},a,{[n]:g}),b,e,f)}if(ua(a))return Ae(a,b,f);b=a.type;b||({datum:b}=a,b=h.isNumber(b)?
"quantitative":h.isString(b)?"nominal":Ka(b)?"temporal":void 0,a=Object.assign({},a,{type:b}));return a}function Ae(a,b){var {compositeMark:e=!1}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const {aggregate:f,timeUnit:g,bin:n,field:B}=a,O=Object.assign({},a);e||!f||Ma(f)||ya(f)||ma(f)||(J(`Invalid aggregation operator "${f}".`),delete O.aggregate);g&&(O.timeUnit=pd(g));B&&(O.field=`${B}`);sb(n)&&(O.bin=Oe(n,b));ib(n)&&!F(b)&&J(`Channel ${b} should not be used with "binned" bin.`);if(xc(O)){({type:e}=
O);var Z=Pd(e);e!==Z&&(O.type=Z);"quantitative"!==e&&Pa(f)&&(J(`Invalid field type "${e}" for aggregate: "${f}", using "quantitative" instead.`),O.type="quantitative")}else v(b)||(e=Zd(O,b),O.type=e);if(xc(O)){const {compatible:bb,warning:nb}=Df(O,b)||{};!1===bb&&J(nb)}if("sort"in O&&h.isString(O.sort)){({sort:e}=O);if(e in wj)return Object.assign({},O,{sort:{encoding:e}});Z=e.substr(1);if("-"===e.charAt(0)&&Z in wj)return Object.assign({},O,{sort:{encoding:Z,order:"descending"}})}if(O&&"header"in
O&&({header:e}=O,e)){var wa=e;Z=Object.assign({},wa);wa=wa.orient;Z=(delete Z.orient,Z);if(wa)return Object.assign({},O,{header:Object.assign({},Z,{labelOrient:e.labelOrient||wa,titleOrient:e.titleOrient||wa})})}return O}function Oe(a,b){return h.isBoolean(a)?{maxbins:X(b)}:"binned"===a?{binned:!0}:a.maxbins||a.step?a:Object.assign({},a,{maxbins:X(b)})}function Df(a,b){var e=a.type;if("geojson"===e&&"shape"!==b)return{compatible:!1,warning:`Channel ${b} should not be used with a geojson data.`};switch(b){case "row":case "column":case "facet":return Vd(a)?
Ii:{compatible:!1,warning:`${b} encoding should be discrete (ordinal / nominal / binned).`};case "x":case "y":case "xOffset":case "yOffset":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return Ii;case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==e?{compatible:!1,warning:`Channel ${b} should be used with a quantitative field only, not ${a.type} field.`}:
Ii;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==e||a.sort?Ii:{compatible:!1,warning:`Channel ${b} should not be used with an unsorted discrete field.`};case "shape":case "strokeDash":if(e=!Vd(a)){let f;e=!($c(a)&&ai.has(null==(f=a.scale)?void 0:f.type))}return e?{compatible:!1,warning:`${b} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}:
Ii;case "order":return"nominal"!==a.type||"sort"in a?Ii:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function td(a){var {formatType:b}=Yd(a),e;if(!(e="time"===b)){if(b=!b)b=a&&("temporal"===a.type||ua(a)&&!!a.timeUnit);e=b}return e}function Pe(a,b){let {timeUnit:e,type:f,wrapTime:g,undefinedIfExprNotRequired:n}=b;var B=(b=e&&(null==(B=pd(e))?void 0:B.unit))||"temporal"===f;let O;Fa(a)?O=a.expr:Mb(a)?O=a.signal:Ka(a)?(B=!0,O=Sb(a)):(h.isString(a)||
h.isNumber(a))&&B&&(O=`datetime(${l(a)})`,yl[b]&&(h.isNumber(a)&&1E4>a||h.isString(a)&&isNaN(Date.parse(a)))&&(O=Sb({[b]:a})));return O?g&&B?`time(${O})`:O:n?void 0:l(a)}function Te(a,b){const {type:e}=a;return b.map(f=>{var g=ua(a)&&!Ic(a.timeUnit)?a.timeUnit:void 0;g=Pe(f,{timeUnit:g,type:e,undefinedIfExprNotRequired:!0});return void 0!==g?{signal:g}:f})}function kf(a,b){return sb(a.bin)?!!Mh[b]&&["ordinal","nominal"].includes(a.type):(console.warn("Only call this method for binned field defs."),
!1)}function Xf(a){return null==a?void 0:a.condition}function rf(a){return"mark"in a}function bf(a,b){return(a=a&&a[b])?h.isArray(a)?Ub(a,e=>!!e.field):ua(a)||Y(a):!1}function eg(a,b){return(a=a&&a[b])?h.isArray(a)?Ub(a,e=>!!e.field):ua(a)||Fb(a)||pa(a):!1}function fg(a,b){if(F(b)){const e=a[b];if((ua(e)||Fb(e))&&(Oc(e.type)||ua(e)&&e.timeUnit))return b=z(b),eg(a,b)}return!1}function Of(a){return Ub(Cl,b=>bf(a,b)?(b=a[b],h.isArray(b)?Ub(b,e=>!!e.aggregate):(b=Ce(b))&&!!b.aggregate):!1)}function Pf(a,
b){const e=[],f=[],g=[],n=[],B={};Gg(a,(O,Z)=>{if(ua(O)){var wa=Object.assign({},O),bb=O.field;const hc=O.aggregate,Nc=O.bin,lc=O.timeUnit;wa=(delete wa.field,delete wa.aggregate,delete wa.bin,delete wa.timeUnit,wa);if(hc||lc||Nc){var nb;const Lc=null==(nb=zd(O))?void 0:nb.title;nb=Sc(O,{forAs:!0});wa=Object.assign({},Lc?[]:{title:Zc(O,b,{allowDisabling:!0})},wa,{field:nb});if(hc){let bd;ya(hc)?(bd="argmax",nb=Sc({op:"argmax",field:hc.argmax},{forAs:!0}),wa.field=`${nb}.${bb}`):ma(hc)?(bd="argmin",
nb=Sc({op:"argmin",field:hc.argmin},{forAs:!0}),wa.field=`${nb}.${bb}`):"boxplot"!==hc&&"errorbar"!==hc&&"errorband"!==hc&&(bd=hc);bd&&(O={op:bd,as:nb},bb&&(O.field=bb),n.push(O))}else e.push(nb),xc(O)&&sb(Nc)?(f.push({bin:Nc,field:bb,as:nb}),e.push(Sc(O,{binSuffix:"end"})),kf(O,Z)&&e.push(Sc(O,{binSuffix:"range"})),F(Z)&&(B[`${Z}2`]={field:`${nb}_end`}),wa.bin="binned",v(Z)||(wa.type="quantitative")):lc&&!Ic(lc)&&(g.push({timeUnit:lc,field:bb,as:nb}),(bb=xc(O)&&"temporal"!==O.type&&"time")&&("text"===
Z||"tooltip"===Z?wa.formatType=bb:Fi[Z]?wa.legend=Object.assign({},{formatType:bb},wa.legend):F(Z)&&(wa.axis=Object.assign({},{formatType:bb},wa.axis))));B[Z]=wa}else e.push(bb),B[Z]=a[Z]}else B[Z]=a[Z]});return{bins:f,timeUnits:g,aggregate:n,groupby:e,encoding:B}}function nf(a,b,e){e=ta(b)[e];return e&&("binned"!==e||(e=a["x2"===b?"x":"y"],ua(e)&&ua(a[b])&&ib(e.bin)))?!0:!1}function lg(a,b,e,f){const g={};for(var n of vd(a))Ej[n]||J(`${n}-encoding is dropped as ${n} is not a valid encoding channel.`);
for(let O of Kj)if(a[O]){n=a[O];if(O in Wi){a:{switch(O){case "xOffset":var B="x";break a;case "yOffset":B="y";break a}B=void 0}const Z=g[B];if(ua(Z)&&id(Z.type)&&ua(n)&&!Z.timeUnit){J(`${B}Offset dropped because ${B} is continuous`);continue}}"angle"!==O||"arc"!==b||a.theta||(J("Arc marks uses theta channel rather than angle, replacing angle with theta."),O="theta");if(nf(a,O,b)){if("size"===O&&"line"===b){let Z;if(null==(Z=Ce(a[O]))?0:Z.aggregate){J("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.");
continue}}if("color"===O&&(e?"fill"in a:"stroke"in a))J(yd("encoding",{fill:"fill"in a,stroke:"stroke"in a}));else if("detail"===O||"order"===O&&!h.isArray(n)&&!Jc(n)||"tooltip"===O&&h.isArray(n)){if(n){if("order"===O&&(B=a[O])&&B.sort&&!B.field){g[O]=B;continue}g[O]=h.array(n).reduce((Z,wa)=>{ua(wa)?Z.push(Ae(wa,O)):J(rd(wa,O));return Z},[])}}else{if("tooltip"===O&&null===n)g[O]=null;else if(!(ua(n)||Fb(n)||Jc(n)||P(n)||Mb(n))){J(rd(n,O));continue}g[O]=Od(n,O,f)}}else J(gd(O,b))}return g}function Fg(a,
b){const e={};for(const f of vd(a)){const g=Od(a[f],f,b,{compositeMark:!0});e[f]=g}return e}function Ch(a){const b=[];for(const e of vd(a))if(bf(a,e)){const f=h.array(a[e]);for(const g of f)ua(g)?b.push(g):Y(g)&&b.push(g.condition)}return b}function Gg(a,b,e){if(a)for(const f of vd(a)){const g=a[f];if(h.isArray(g))for(const n of g)b.call(e,n,f);else b.call(e,g,f)}}function Ug(a,b,e,f){return a?vd(a).reduce((g,n)=>{const B=a[n];return h.isArray(B)?B.reduce((O,Z)=>b.call(f,O,Z,n),g):b.call(f,g,B,n)},
e):e}function ch(a,b){return vd(b).reduce((e,f)=>{switch(f){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "xOffset":case "yOffset":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return e;case "order":if("line"===a||"trail"===a)return e;case "detail":case "key":f=b[f];if(h.isArray(f)||ua(f))for(var g of h.array(f))g.aggregate||e.push(Sc(g,
{}));return e;case "size":if("trail"===a)return e;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(g=Ce(b[f]))&&!g.aggregate&&e.push(Sc(g,{})),e}},[])}function T(a,b,e){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;if("tooltip"in e)return{tooltip:e.tooltip};const g=a.map(B=>{let {fieldPrefix:O,titlePrefix:Z}=B;B=f?` of ${Ja(b)}`:"";return{field:O+b.field,type:b.type,title:Mb(Z)?{signal:`${Z}"${escape(B)}"`}:
Z+B}}),n=Ch(e).map(Xd);return{tooltip:[...g,...Za(n,Xb)]}}function Ja(a){const {title:b,field:e}=a;return U(b,e)}function lb(a,b,e,f,g){const {scale:n,axis:B}=e;return O=>{let {partName:Z,mark:wa,positionPrefix:bb,endPositionPrefix:nb,extraEncoding:hc={}}=O;O=Ja(e);return Gc(a,Z,g,{mark:wa,encoding:Object.assign({},{[b]:Object.assign({},{field:`${bb}_${e.field}`,type:e.type},void 0!==O?{title:O}:{},void 0!==n?{scale:n}:{},void 0!==B?{axis:B}:{})},h.isString(nb)?{[`${b}2`]:{field:`${nb}_${e.field}`}}:
{},f,hc)})}}function Gc(a,b,e,f){const {clip:g,color:n,opacity:B}=a,O=a.type;return a[b]||void 0===a[b]&&e[b]?[Object.assign({},f,{mark:Object.assign({},e[b],g?{clip:g}:{},n?{color:n}:{},B?{opacity:B}:{},hd(f.mark)?f.mark:{type:f.mark},{style:`${O}-${String(b)}`},h.isBoolean(a[b])?{}:a[b])})]:[]}function Ec(a,b,e){({encoding:a}=a);b="vertical"===b?"y":"x";const f=a[`${b}2`],g=a[`${b}Error`],n=a[`${b}Error2`];return{continuousAxisChannelDef:Ld(a[b],e),continuousAxisChannelDef2:Ld(f,e),continuousAxisChannelDefError:Ld(g,
e),continuousAxisChannelDefError2:Ld(n,e),continuousAxis:b}}function Ld(a,b){if(null==a?0:a.aggregate){var e=Object.assign({},a);a=a.aggregate;e=(delete e.aggregate,e);a!==b&&J(`Continuous axis should not have customized aggregation function ${a}; ${b} already agregates the axis.`);return e}return a}function he(a,b){const {mark:e,encoding:f}=a,{x:g,y:n}=f;if(hd(e)&&e.orient)return e.orient;if(Wb(g)){if(Wb(n)){a=ua(g)&&g.aggregate;const B=ua(n)&&n.aggregate;if(!a&&B===b)return"vertical";if(B||a!==
b){if(a===b&&B===b)throw Error("Both x and y cannot have aggregate");return td(n)&&!td(g)?"horizontal":"vertical"}}return"horizontal"}if(Wb(n))return"vertical";throw Error(`Need a valid continuous axis for ${b}s`);}function Ie(a){return h.isNumber(a)?"tukey":a}function De(a,b){var {config:e}=b,f=a=Object.assign({},a,{encoding:Fg(a.encoding,e)});b=Object.assign({},f);var g=f.mark;f=f.params;b=(delete b.mark,delete b.encoding,delete b.params,delete b.projection,b);g=hd(g)?g:{type:g};f&&J(Ib("boxplot"));
var n;f=null!=(n=g.extent)?n:e.boxplot.extent;var B=Zb("size",g,e),O=g.invalid;n=Ie(f);var Z=a;a=he(Z,"boxplot");const {continuousAxisChannelDef:wa,continuousAxis:bb}=Ec(Z,a,"boxplot");var nb=wa.field,hc=Ie(f),Nc=[...Jf(nb),{op:"median",field:nb,as:`mid_box_${nb}`},{op:"min",field:nb,as:("min-max"===hc?"lower_whisker_":"min_")+nb},{op:"max",field:nb,as:("min-max"===hc?"upper_whisker_":"max_")+nb}];nb="min-max"===hc||"tukey"===hc?[]:[{calculate:`datum["upper_box_${nb}"] - datum["lower_box_${nb}"]`,
as:`iqr_${nb}`},{calculate:`min(datum["upper_box_${nb}"] + datum["iqr_${nb}"] * ${f}, datum["max_${nb}"])`,as:`upper_whisker_${nb}`},{calculate:`max(datum["lower_box_${nb}"] - datum["iqr_${nb}"] * ${f}, datum["min_${nb}"])`,as:`lower_whisker_${nb}`}];Z=Object.assign({},Z.encoding);var lc;hc=(delete Z[bb],Z);Z=Object.assign({},hc);hc=hc.tooltip;Z=(delete Z.tooltip,Z);if(hc){var Lc;if(h.isArray(hc)){for(var bd of hc)bd.aggregate?(lc||(lc=[]),lc.push(bd)):(Lc||(Lc=[]),Lc.push(bd));lc&&(Z.tooltip=lc)}else hc.aggregate?
Z.tooltip=hc:Lc=hc;h.isArray(Lc)&&1===Lc.length&&(Lc=Lc[0]);lc={customTooltipWithoutAggregatedField:Lc,filteredEncoding:Z}}else lc={filteredEncoding:Z};const {customTooltipWithoutAggregatedField:ed,filteredEncoding:ke}=lc,{bins:ce,timeUnits:Ee,aggregate:Qe,groupby:Lf,encoding:Uf}=Pf(ke,e);lc=[...ce,...Ee,{aggregate:[...Qe,...Nc],groupby:Lf},...nb];const {bins:Lg,timeUnits:Ze,transform:ag,continuousAxisChannelDef:$e,continuousAxis:zh,groupby:il,aggregate:Fm,encodingWithoutContinuousAxis:Dk,ticksOrient:xm,
boxOrient:Gm,customTooltipWithoutAggregatedField:ym}={bins:ce,timeUnits:Ee,transform:lc,groupby:Lf,aggregate:Qe,continuousAxisChannelDef:wa,continuousAxis:bb,encodingWithoutContinuousAxis:Uf,ticksOrient:"vertical"===a?"horizontal":"vertical",boxOrient:a,customTooltipWithoutAggregatedField:ed};Lc=Object.assign({},Dk);lc=Dk.color;Nc=Dk.size;Lc=(delete Lc.color,delete Lc.size,Lc);bd=lb(g,zh,$e,Lc,e.boxplot);a=lb(g,zh,$e,Dk,e.boxplot);Nc=lb(g,zh,$e,Object.assign({},Lc,Nc?{size:Nc}:{}),e.boxplot);nb=T([{fieldPrefix:"min-max"===
n?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===n?"lower_whisker_":"min_",titlePrefix:"Min"}],$e,Dk);Z={type:"tick",color:"black",opacity:1,orient:xm,invalid:O,aria:!1};hc="min-max"===n?nb:T([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],$e,Dk);bd=[...bd({partName:"rule",
mark:{type:"rule",invalid:O,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:hc}),...bd({partName:"rule",mark:{type:"rule",invalid:O,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:hc}),...bd({partName:"ticks",mark:Z,positionPrefix:"lower_whisker",extraEncoding:hc}),...bd({partName:"ticks",mark:Z,positionPrefix:"upper_whisker",extraEncoding:hc})];B=[...("tukey"!==n?bd:[]),...a({partName:"box",mark:Object.assign({},{type:"bar"},
B?{size:B}:{},{orient:Gm,invalid:O,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:nb}),...Nc({partName:"median",mark:Object.assign({},{type:"tick",invalid:O},h.isObject(e.boxplot.median)&&e.boxplot.median.color?{color:e.boxplot.median.color}:{},B?{size:B}:{},{orient:xm,aria:!1}),positionPrefix:"mid_box",extraEncoding:nb})];if("min-max"===n){var Gj;return Object.assign({},b,{transform:(null!=(Gj=b.transform)?Gj:[]).concat(ag),layer:B})}Gj=`datum["lower_box_${$e.field}"]`;
n=`datum["upper_box_${$e.field}"]`;O=`(${n} - ${Gj})`;Gj=`${Gj} - ${f} * ${O}`;O=`${n} + ${f} * ${O}`;a=`datum["${$e.field}"]`;f={joinaggregate:Jf($e.field),groupby:il};n={transform:[{filter:`(${Gj} <= ${a}) && (${a} <= ${O})`},{aggregate:[{op:"min",field:$e.field,as:`lower_whisker_${$e.field}`},{op:"max",field:$e.field,as:`upper_whisker_${$e.field}`},{op:"min",field:`lower_box_${$e.field}`,as:`lower_box_${$e.field}`},{op:"max",field:`upper_box_${$e.field}`,as:`upper_box_${$e.field}`},...Fm],groupby:il}],
layer:bd};Lc=Object.assign({},Lc);Lc=(delete Lc.tooltip,Lc);const {scale:zm,axis:Hm}=$e;bd=Ja($e);Nc=bc(Hm,["title"]);e=Gc(g,"outliers",e.boxplot,{transform:[{filter:`(${a} < ${Gj}) || (${a} > ${O})`}],mark:"point",encoding:Object.assign({},{[zh]:Object.assign({},{field:$e.field,type:$e.type},void 0!==bd?{title:bd}:{},void 0!==zm?{scale:zm}:{},gb(Nc)?{}:{axis:Nc})},Lc,lc?{color:lc}:{},ym?{tooltip:ym}:{})})[0];g=[...Lg,...Ze,f];e?e={transform:g,layer:[e,n]}:(e=n,e.transform.unshift(...g));return Object.assign({},
b,{layer:[e,{transform:ag,layer:B}]})}function Jf(a){return[{op:"q1",field:a,as:`lower_box_${a}`},{op:"q3",field:a,as:`upper_box_${a}`}]}function Yf(a,b){({config:b}=b);a=Object.assign({},a,{encoding:Fg(a.encoding,b)});const {transform:e,continuousAxisChannelDef:f,continuousAxis:g,encodingWithoutContinuousAxis:n,ticksOrient:B,markDef:O,outerSpec:Z,tooltipEncoding:wa}=Tf(a,"errorbar",b);delete n.size;a=lb(O,g,f,n,b.errorbar);b=O.thickness;var bb=O.size;bb=Object.assign({},{type:"tick",orient:B,aria:!1},
void 0!==b?{thickness:b}:{},void 0!==bb?{size:bb}:{});a=[...a({partName:"ticks",mark:bb,positionPrefix:"lower",extraEncoding:wa}),...a({partName:"ticks",mark:bb,positionPrefix:"upper",extraEncoding:wa}),...a({partName:"rule",mark:Object.assign({},{type:"rule",ariaRoleDescription:"errorbar"},void 0!==b?{size:b}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:wa})];return Object.assign({},Z,{transform:e},1<a.length?{layer:a}:Object.assign({},a[0]))}function ih(a,b){var {encoding:e}=
a;if(!(!zc(e.x)&&!zc(e.y)||zc(e.x2)||zc(e.y2)||zc(e.xError)||zc(e.xError2)||zc(e.yError)||zc(e.yError2)))return{orient:he(a,b),inputType:"raw"};var f=zc(e.x2)||zc(e.y2);var g=zc(e.xError)||zc(e.xError2)||zc(e.yError)||zc(e.yError2);a=e.x;const n=e.y;if(f){if(g)throw Error(`${b} cannot be both type aggregated-upper-lower and aggregated-error`);f=e.x2;e=e.y2;if(zc(f)&&zc(e))throw Error(`${b} cannot have both x2 and y2`);if(zc(f)){if(Wb(a))return{orient:"horizontal",inputType:"aggregated-upper-lower"};
throw Error(`Both x and x2 have to be quantitative in ${b}`);}if(zc(e)){if(Wb(n))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error(`Both y and y2 have to be quantitative in ${b}`);}}else{f=e.xError;g=e.yError;const B=e.yError2;if(zc(e.xError2)&&!zc(f))throw Error(`${b} cannot have xError2 without xError`);if(zc(B)&&!zc(g))throw Error(`${b} cannot have yError2 without yError`);if(zc(f)&&zc(g))throw Error(`${b} cannot have both xError and yError with both are quantiative`);if(zc(f)){if(Wb(a))return{orient:"horizontal",
inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(zc(g)){if(Wb(n))return{orient:"vertical",inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");}function Tf(a,b,e){var f=Object.assign({},a),g=a.mark,n=a.encoding,B=a.params;f=(delete f.mark,delete f.encoding,delete f.params,delete f.projection,f);g=hd(g)?g:{type:g};B&&J(Ib(b));const {orient:O,inputType:Z}=
ih(a,b),{continuousAxisChannelDef:wa,continuousAxisChannelDef2:bb,continuousAxisChannelDefError:nb,continuousAxisChannelDefError2:hc,continuousAxis:Nc}=Ec(a,O,b);a=[];B=[];var lc=wa.field,Lc=!1;if("raw"===Z){var bd=g.center?g.center:g.extent?"iqr"===g.extent?"median":"mean":e.errorbar.center;var ed=g.extent?g.extent:"mean"===bd?"stderr":"iqr";"median"===bd!==("iqr"===ed)&&J(`${bd} is not usually used with ${ed} for ${b}.`);"stderr"===ed||"stdev"===ed?(a=[{op:ed,field:lc,as:`extent_${lc}`},{op:bd,
field:lc,as:`center_${lc}`}],B=[{calculate:`datum["center_${lc}"] + datum["extent_${lc}"]`,as:`upper_${lc}`},{calculate:`datum["center_${lc}"] - datum["extent_${lc}"]`,as:`lower_${lc}`}],lc={fieldPrefix:"center_",titlePrefix:Ra(bd)},Lc=ed,Lc={fieldPrefix:"upper_",titlePrefix:`${Ra(bd)} ${"+"} ${Lc}`},b=ed,b=`${Ra(bd)} ${"-"} ${b}`,bd=[lc,Lc,{fieldPrefix:"lower_",titlePrefix:b}],Lc=!0):("ci"===ed?(b="mean",bd="ci0",ed="ci1"):(b="median",bd="q1",ed="q3"),a=[{op:bd,field:lc,as:`lower_${lc}`},{op:ed,
field:lc,as:`upper_${lc}`},{op:b,field:lc,as:`center_${lc}`}],bd=[{fieldPrefix:"upper_",titlePrefix:Zc({field:lc,aggregate:ed,type:"quantitative"},e,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Zc({field:lc,aggregate:bd,type:"quantitative"},e,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Zc({field:lc,aggregate:b,type:"quantitative"},e,{allowDisabling:!1})}])}else{if(g.center||g.extent){b=g.center;var ke=g.extent;J(`${ke?"extent ":""}${ke&&b?"and ":""}${b?"center ":""}${ke&&b?
"are ":"is "}not needed when data are aggregated.`)}"aggregated-upper-lower"===Z?(bd=[],B=[{calculate:`datum["${bb.field}"]`,as:`upper_${lc}`},{calculate:`datum["${lc}"]`,as:`lower_${lc}`}]):"aggregated-error"===Z&&(bd=[{fieldPrefix:"",titlePrefix:lc}],B=[{calculate:`datum["${lc}"] + datum["${nb.field}"]`,as:`upper_${lc}`}],hc?B.push({calculate:`datum["${lc}"] + datum["${hc.field}"]`,as:`lower_${lc}`}):B.push({calculate:`datum["${lc}"] - datum["${nb.field}"]`,as:`lower_${lc}`}));for(ed of B)bd.push({fieldPrefix:ed.as.substring(0,
6),titlePrefix:qb(qb(ed.calculate,'datum["',""),'"]',"")})}const {errorBarSpecificAggregate:ce,postAggregateCalculates:Ee,tooltipSummary:Qe,tooltipTitleWithFieldName:Lf}={postAggregateCalculates:B,errorBarSpecificAggregate:a,tooltipSummary:bd,tooltipTitleWithFieldName:Lc};n=Object.assign({},n);a="x"===Nc?"x2":"y2";B="x"===Nc?"xError":"yError";lc="x"===Nc?"xError2":"yError2";n=(delete n[Nc],delete n[a],delete n[B],delete n[lc],n);const {bins:Uf,timeUnits:Lg,aggregate:Ze,groupby:ag,encoding:$e}=Pf(n,
e);e=[...Ze,...ce];n="raw"!==Z?[]:ag;a=T(Qe,wa,$e,Lf);let zh;return{transform:[...(null!=(zh=f.transform)?zh:[]),...Uf,...Lg,...(0===e.length?[]:[{aggregate:e,groupby:n}]),...Ee],groupby:n,continuousAxisChannelDef:wa,continuousAxis:Nc,encodingWithoutContinuousAxis:$e,ticksOrient:"vertical"===O?"horizontal":"vertical",markDef:g,outerSpec:f,tooltipEncoding:a}}function Vg(a,b){({config:b}=b);a=Object.assign({},a,{encoding:Fg(a.encoding,b)});const {transform:e,continuousAxisChannelDef:f,continuousAxis:g,
encodingWithoutContinuousAxis:n,markDef:B,outerSpec:O,tooltipEncoding:Z}=Tf(a,"errorband",b);b=lb(B,g,f,n,b.errorband);a=void 0!==a.encoding.x&&void 0!==a.encoding.y;let wa={type:a?"area":"rect"},bb={type:a?"line":"rule"};const nb=Object.assign({},B.interpolate?{interpolate:B.interpolate}:{},B.tension&&B.interpolate?{tension:B.tension}:{});a?(wa=Object.assign({},wa,nb,{ariaRoleDescription:"errorband"}),bb=Object.assign({},bb,nb,{aria:!1})):B.interpolate?J(Ed("interpolate")):B.tension&&J(Ed("tension"));
return Object.assign({},O,{transform:e,layer:[...b({partName:"band",mark:wa,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:Z}),...b({partName:"borders",mark:bb,positionPrefix:"lower",extraEncoding:Z}),...b({partName:"borders",mark:bb,positionPrefix:"upper",extraEncoding:Z})]})}function gg(a,b,e){b=new $i(a,b);Qj[a]={normalizer:b,parts:e}}function sh(a){return"legend"===a||!(null==a||!a.legend)}function Dh(a){return sh(a)&&h.isObject(a)}function be(a){return!(null==a||!a.select)}function ie(a){const b=
[];for(const g of a||[])if(!be(g)){var e=g,f=Object.assign({},e);a=e.expr;e=e.bind;f=(delete f.expr,delete f.bind,f);e&&a?(a=Object.assign({},f,{bind:e,init:a}),b.push(a)):(a=Object.assign({},f,a?{update:a}:{},e?{bind:e}:{}),b.push(a))}return b}function sf(a){let {step:b,offsetIsDiscrete:e}=a;if(e){let f;return null!=(f=b.for)?f:"offset"}return"position"}function Je(a){return h.isObject(a)&&void 0!==a.step}function lf(a){return a.view||a.width||a.height}function Ye(a,b,e){const f={},{spacing:g,columns:n}=
e[b];void 0!==g&&(f.spacing=g);void 0!==n&&("facet"in a&&!Me(a.facet)||"concat"in a)&&(f.columns=n);"vconcat"in a&&(f.columns=1);for(const B of Wk)if(void 0!==a[B])if("spacing"===B){b=a[B];let O,Z;f[B]=h.isNumber(b)?b:{row:null!=(O=b.row)?O:g,column:null!=(Z=b.column)?Z:g}}else f[B]=a[B];return f}function tf(a,b){let e;return null!=(e=a[b])?e:a["width"===b?"continuousWidth":"continuousHeight"]}function Zf(a,b){a=Qf(a,b);return Je(a)?a.step:20}function Qf(a,b){let e;const f=null!=(e=a[b])?e:a["width"===
b?"discreteWidth":"discreteHeight"];return U(f,{step:a.step})}function cf(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:h.isObject(a)?Object.assign({},xl,a):xl}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},
cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function Wg(a){var b=vd(a||{});const e={};for(const f of b)b=a[f],e[f]=Xf(b)?fd(b):ra(b);return e}function zg(){var a=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=Object.assign({},a),e=a.color,f=a.font,g=a.fontSize;a=a.selection;b=(delete b.color,delete b.font,delete b.fontSize,delete b.selection,b);var n=h.mergeConfig,B=He(Zl);f=f?{text:{font:f},style:{"guide-label":{font:f},"guide-title":{font:f},"group-title":{font:f},"group-subtitle":{font:f}}}:{};e=e?cf(e):{};g=g?{signals:[{name:"fontSize",value:h.isObject(g)?Object.assign({},wl,g):wl}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},
"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{};g=n.call(h,{},B,f,e,g,b||{});a&&h.writeConfig(g,"selection",a,!0);a=bc(g,sk);for(var O of["background","lineBreak","padding"])g[O]&&(a[O]=ra(g[O]));for(var Z of uj)g[Z]&&(a[Z]=Kb(g[Z]));for(var wa of yg)g[wa]&&(a[wa]=Wg(g[wa]));for(const bb of vl)g[bb]&&(a[bb]=Kb(g[bb]));g.legend&&(a.legend=Kb(g.legend));g.scale&&(a.scale=
Kb(g.scale));if(g.style){O=g.style;Z=vd(O);wa={};for(const bb of Z)wa[bb]=Wg(O[bb]);a.style=wa}g.title&&(a.title=Kb(g.title));g.view&&(a.view=Kb(g.view));return a}function jh(a){a=He(a);for(var b of $l)delete a[b];if(a.axis)for(var e in a.axis)Xf(a.axis[e])&&delete a.axis[e];if(a.legend)for(var f of Xl)delete a.legend[f];if(a.mark){for(var g of ri)delete a.mark[g];a.mark.tooltip&&h.isObject(a.mark.tooltip)&&delete a.mark.tooltip}a.params&&(a.signals=(a.signals||[]).concat(ie(a.params)),delete a.params);
for(var n of Xg){for(const nb of ri)delete a[n][nb];if(b=de[n])for(const nb of b)delete a[n][nb];let bb=g=void 0;b=a;e=n;f=void 0;var B=b[e];"view"===e&&(f="cell");B=Object.assign({},B,b.style[null!=(bb=f)?bb:e]);gb(B)||(b.style[null!=(g=f)?g:e]=B);delete b[e]}for(const bb of vd(Qj))delete a[bb];n=a;const {titleMarkConfig:O,subtitleMarkConfig:Z,subtitle:wa}=qc(n.title);gb(O)||(n.style["group-title"]=Object.assign({},n.style["group-title"],O));gb(Z)||(n.style["group-subtitle"]=Object.assign({},n.style["group-subtitle"],
Z));gb(wa)?delete n.title:n.title=wa;for(const bb in a)h.isObject(a[bb])&&gb(a[bb])&&delete a[bb];return gb(a)?void 0:a}function Rf(a){return ua(a)&&"quantitative"===Bb(a)&&!a.bin}function Rh(a,b,e){let {orient:f,type:g}=e;e="x"===b?"y":"radius";const n="x"===b&&["bar","area"].includes(g);var B=a[b];a=a[e];if(ua(B)&&ua(a))if(Rf(B)&&Rf(a)){if(B.stack)return b;if(a.stack)return e;B=ua(B)&&!!B.aggregate;a=ua(a)&&!!a.aggregate;if(B!==a)return B?b:e;if(n){if("vertical"===f)return e;if("horizontal"===f)return b}}else{if(Rf(B))return b;
if(Rf(a))return e}else{if(Rf(B))return n&&"vertical"===f?void 0:b;if(Rf(a))return n&&"horizontal"===f?void 0:e}}function rg(a){switch(a){case "x":return"y";case "y":return"x";case "theta":return"radius";case "radius":return"theta"}}function uh(a,b){var e=hd(a)?a:{type:a};a=e.type;if(!Th.has(a))return null;e=Rh(b,"x",e)||Rh(b,"theta",e);if(!e)return null;const f=b[e];var g=ua(f)?Sc(f,{}):void 0,n=rg(e);const B=[],O=new Set;if(b[n]){var Z=b[n];(Z=ua(Z)?Sc(Z,{}):void 0)&&Z!==g&&(B.push(n),O.add(Z))}n=
"x"===n?"xOffset":"yOffset";Z=b[n];(Z=ua(Z)?Sc(Z,{}):void 0)&&Z!==g&&(B.push(n),O.add(Z));g=Nk.reduce((hc,Nc)=>{if("tooltip"!==Nc&&bf(b,Nc)){var lc=b[Nc];for(const Lc of h.array(lc)){lc=Ce(Lc);if(lc.aggregate)continue;const bd=Sc(lc,{});bd&&O.has(bd)||hc.push({channel:Nc,fieldDef:lc})}}return hc},[]);let wa;void 0!==f.stack?wa=h.isBoolean(f.stack)?f.stack?"zero":null:f.stack:am.has(a)&&(wa="zero");if(!(wa&&wa in Pg)||Of(b)&&0===g.length)return null;let bb,nb;if((null==f?0:null==(bb=f.scale)?0:bb.type)&&
(null==f?void 0:null==(nb=f.scale)?void 0:nb.type)!==jg.LINEAR)return(null==f?0:f.stack)&&J(`Cannot stack non-linear scale (${f.scale.type}).`),null;if(zc(b[W(e)]))return void 0!==f.stack&&J(`Cannot stack "${e}" if there is already "${e}2".`),null;ua(f)&&f.aggregate&&!Xk.has(f.aggregate)&&J(`Stacking is applied even though the aggregate function is non-summative ("${f.aggregate}").`);return{groupbyChannels:B,groupbyFields:O,fieldChannel:e,impute:null===f.impute?!1:Qa(a),stackBy:g,offset:wa}}function mg(a,
b,e){a=Kb(a);var f=Zb("orient",a,e);a.orient=aj(a.type,b,f);void 0!==f&&f!==a.orient&&J(`Specified orient "${a.orient}" overridden with "${f}".`);if("bar"===a.type&&a.orient&&(f=Zb("cornerRadiusEnd",a,e),void 0!==f)){const n="horizontal"===a.orient&&b.x2||"vertical"===a.orient&&b.y2?["cornerRadius"]:ci[a.orient];for(var g of n)a[g]=f;void 0!==a.cornerRadiusEnd&&delete a.cornerRadiusEnd}void 0===Zb("opacity",a,e)&&(g=zb([Tg,Ji,tj,Hi],a.type)&&!Of(b)?.7:void 0,a.opacity=g);void 0===Zb("cursor",a,e)&&
(b=b.href||a.href||Zb("href",a,e)?"pointer":a.cursor,a.cursor=b);return a}function Sh(a,b,e){({graticule:e}=e);if(e)return!1;b=jc("filled",a,b);a=a.type;return U(b,a!==Tg&&a!==Sg&&a!==hh)}function aj(a,b,e){switch(a){case Tg:case tj:case Hi:case zl:case Sf:case oi:return}const {x:f,y:g,x2:n,y2:B}=b;switch(a){case Bh:if(ua(f)&&(ib(f.bin)||ua(g)&&g.aggregate&&!f.aggregate))break;if(ua(g)&&(ib(g.bin)||ua(f)&&f.aggregate&&!g.aggregate))return"horizontal";if(B||n){if(e)return e;if(!n){if((ua(f)&&"quantitative"===
f.type&&!sb(f.bin)||mc(f))&&ua(g)&&ib(g.bin))return"horizontal";break}if(!B){if((ua(g)&&"quantitative"===g.type&&!sb(g.bin)||mc(g))&&ua(f)&&ib(f.bin))break;return"horizontal"}}case hh:if(!(!n||ua(f)&&ib(f.bin)||!B||ua(g)&&ib(g.bin)))return;case bi:if(B){if(ua(g)&&ib(g.bin))return"horizontal";break}else if(n)if(ua(f)&&ib(f.bin))break;else return"horizontal";else if(a===hh)if(f&&!g)break;else if(g&&!f)return"horizontal";case Sg:case Ji:b=ac(f);const O=ac(g);if(e)return e;if(b&&!O)return"tick"!==a?"horizontal":
"vertical";if(!b&&O)return"tick"!==a?"vertical":"horizontal";if(!b||!O)if(a=xc(f)&&"temporal"===f.type,e=xc(g)&&"temporal"===g.type,!a||e){if(!a&&e)return"horizontal";return}}return"vertical"}function Ig(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length?arguments[2]:void 0;if("transparent"===a.point)return{opacity:0};if(a.point)return h.isObject(a.point)?a.point:{};if(void 0!==a.point)return null;if(b.point||e.shape)return h.isObject(b.point)?b.point:{}}function ti(a){let b=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(a.line)return!0===a.line?{}:a.line;if(void 0!==a.line)return null;if(b.line)return!0===b.line?{}:b.line}function di(a,b){return b?Fh(a,b):a}function bj(a,b,e){const f=b[a];if(f&&!h.isString(f)&&"repeat"in f){if(f.repeat in e)return Object.assign({},b,{[a]:e[f.repeat]});J(`Unknown repeated value "${f.repeat}".`)}else return b}function ui(a,b){a=bj("field",a,b);if(void 0!==a){if(null===a)return null;"sort"in a&&se(a.sort)&&(b=bj("field",a.sort,
b),a=Object.assign({},a,b?{sort:b}:{}));return a}}function vh(a,b){if(ua(a))return ui(a,b);b=bj("datum",a,b);b===a||b.type||(b.type="nominal");return b}function Li(a,b){if(zc(a)){if(b=vh(a,b))return b;if(P(a))return{condition:a.condition}}else{if(pa(a)){if(b=vh(a.condition,b))return Object.assign({},a,{condition:b});a=Object.assign({},a);return delete a.condition,a}return a}}function Fh(a,b){const e={};for(const g in a)if(h.hasOwnProperty(a,g)){var f=a[g];h.isArray(f)?e[g]=f.map(n=>Li(n,b)).filter(n=>
n):(f=Li(f,b),void 0!==f&&(e[g]=f))}return e}function Hg(a){let {parentEncoding:b,encoding:e={},layer:f}=a;a={};if(b){var g=new Set([...vd(b),...vd(e)]);for(const n of g){g=e[n];const B=b[n];if(zc(g))g=Object.assign({},B,g),a[n]=g;else if(pa(g))a[n]=Object.assign({},g,{condition:Object.assign({},B,g.condition)});else if(g||null===g)a[n]=g;else if(f||Jc(B)||Mb(B)||zc(B)||h.isArray(B))a[n]=B}}else a=e;return!a||gb(a)?void 0:a}function Gh(a){const {parentProjection:b,projection:e}=a;if(b&&e){const {parentProjection:f,
projection:g}={parentProjection:b,projection:e};a=`Layer's shared projection ${l(f)} is overridden by a child projection ${l(g)}.`;J(a)}return null!=e?e:b}function Hh(a){return a.map(b=>"filter"in b?{filter:Ya(b.filter,qd)}:b)}function hg(a,b){var e=Object.assign({},a);const f=a.transform;e=(delete e.transform,e);return f?(a=f.map(g=>{if("filter"in g)return{filter:dh(g,b)};if("bin"in g&&h.isObject(g.bin))return Object.assign({},g,{bin:fi(g.bin)});if("lookup"in g){var n=g.from,B=Object.assign({},n);
n=n.selection;B=(delete B.selection,B);return n?Object.assign({},g,{from:Object.assign({},{param:n},B)}):g}return g}),Object.assign({},e,{transform:a})):a}function cj(a,b){a=He(a);ua(a)&&h.isObject(a.bin)&&(a.bin=fi(a.bin));var e,f;$c(a)&&(null==(e=a.scale)?0:null==(f=e.domain)?0:f.selection)&&(f=a.scale.domain,e=Object.assign({},f),f=f.selection,e=(delete e.selection,e),a.scale.domain=Object.assign({},e,f?{param:f}:{}));P(a)&&(h.isArray(a.condition)?a.condition=a.condition.map(g=>{var n=Object.assign({},
g);const B=g.param;n=(delete n.selection,delete n.param,delete n.test,n);return B?g:Object.assign({},n,{test:dh(g,b)})}):(f=cj(a.condition,b),e=Object.assign({},f),f=f.param,e=(delete e.selection,delete e.param,delete e.test,e),a.condition=f?a.condition:Object.assign({},e,{test:dh(a.condition,b)})));return a}function fi(a){var b=a.extent;if(null==b?0:b.selection){var e=Object.assign({},b);b=b.selection;e=(delete e.selection,e);return Object.assign({},a,{extent:Object.assign({},e,{param:b})})}return a}
function dh(a,b){const e=f=>Ya(f,g=>{var n;const B=null!=(n=b.emptySelections[g])?n:!0;n={param:g,empty:B};let O;null!=(O=b.selectionPredicates)[g]||(O[g]=[]);b.selectionPredicates[g].push(n);return n});return a.selection?e(a.selection):Ya(a.test||a.filter,f=>f.selection?e(f.selection):f)}function vi(a,b){void 0===b&&(b=zg(a.config));const e=Aj(a,b),{width:f,height:g}=a;{let {width:n,height:B}={width:f,height:g,autosize:a.autosize};a=rf(e)||"layer"in e;const O={};a?"container"==n&&"container"==B?
(O.type="fit",O.contains="padding"):"container"==n?(O.type="fit-x",O.contains="padding"):"container"==B&&(O.type="fit-y",O.contains="padding"):("container"==n&&(J(Da("width")),n=void 0),"container"==B&&(J(Da("height")),B=void 0));b=Object.assign({},{type:"pad"},O,b?eh(b.autosize):{},eh(e.autosize));"fit"!==b.type||a||(J('Autosize "fit" only works for single views and layered views.'),b.type="pad");"container"==n&&"fit"!=b.type&&"fit-x"!=b.type&&J(Oa("width"));"container"==B&&"fit"!=b.type&&"fit-y"!=
b.type&&J(Oa("height"));b=qa(b,{type:"pad"})?void 0:b}return Object.assign({},e,b?{autosize:b}:{})}function Aj(a){const b={config:1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}};return th.map(ug.map(Qg.map(a,b),b),b)}function eh(a){return h.isString(a)?{type:a}:null!=a?a:{}}function lh(a,b){const e={};for(const f of xj)a&&void 0!==a[f]&&(e[f]=ra(a[f]));b&&(e.params=a.params);return e}function Jg(a){return{explicit:!0,value:a}}function Ve(a){return{explicit:!1,value:a}}function Ih(a){return(b,
e,f,g)=>{const n=a(b.value,e.value);return 0<n?b:0>n?e:Ng(b,e,f,g)}}function Ng(a,b,e,f){if(a.explicit&&b.explicit){var g=a.value;b=b.value;e=`Conflicting ${f.toString()} property "${e.toString()}" (${l(g)} and ${l(b)}). Using ${l(g)}.`;J(e)}return a}function zf(a,b,e,f){let g=4<arguments.length&&void 0!==arguments[4]?arguments[4]:Ng;return void 0===a||void 0===a.value?b:a.explicit&&!b.explicit?a:b.explicit&&!a.explicit?b:qa(a.value,b.value)?a:g(a,b,e,f)}function Mi(a){return"name"in a&&!("url"in
a)&&!("values"in a)&&!sg(a)}function sg(a){return a&&("sequence"in a||"sphere"in a||"graticule"in a)}function Og(a){a=Object.assign({},a);a=(delete a.signals,delete a.hasLegend,delete a.index,a);a.field=ab(a.field);return a}function mh(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:h.identity;if(h.isArray(a)){const f=a.map(g=>mh(g,b,e));return b?`[${f.join(", ")}]`:f}return Ka(a)?b?e(Sb(a)):e(pc(a)):b?e(l(a)):a}function Yg(a,
b){a.component.selection&&vd(a.component.selection).length&&(a=h.stringValue(a.getName("cell")),b.unshift({name:"facet",value:{},on:[{events:h.parseSelector("pointermove","scope"),update:`isTuple(facet) ? facet : group(${a}).datum`}]}));return Aa(b)}function Jh(a,b){var e=!1,f;for(const g of ng(null!=(f=a.component.selection)?f:{})){const n=g.name;e=h.stringValue(n+"_store");0===b.filter(B=>B.name===n).length&&(f="point"===g.type?", true, true)":")",b.push({name:g.name,update:`${"vlSelectionResolve"}(${e}, ${h.stringValue("global"===
g.resolve?"union":g.resolve)}${f}`}));e=!0;for(const B of dj)B.defined(g)&&B.topLevelSignals&&(b=B.topLevelSignals(a,g,b))}e&&0===b.filter(g=>"unit"===g.name).length&&b.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]});return Aa(b)}function Zg(a,b){b=[...b];const e=dg(a,{escape:!1});let f;for(const g of ng(null!=(f=a.component.selection)?f:{})){a={name:g.name+"_store"};g.project.hasSelectionId&&(a.transform=[{type:"collect",sort:{field:"_vgsid_"}}]);
if(g.init){const n=g.project.items.map(Og);a.values=g.project.hasSelectionId?g.init.map(B=>({unit:e,_vgsid_:mh(B,!1)[0]})):g.init.map(B=>({unit:e,fields:n,values:mh(B,!1)}))}b.filter(n=>n.name===g.name+"_store").length||b.push(a)}return b}function C(a,b){let e;for(const f of ng(null!=(e=a.component.selection)?e:{}))for(const g of dj)g.defined(f)&&g.marks&&(b=g.marks(a,f,b));return b}function aa(a,b){for(const e of a.children)Nf(e)&&(b=C(e,b));return b}function Aa(a){return a.map(b=>{b.on&&!b.on.length&&
delete b.on;return b})}function Na(a){let {timeUnit:b,field:e,reverse:f}=a;const {unit:g,utc:n}=b;a=Xc(g);const {part:B,step:O}=Re(a,b.step);return`${n?"utcOffset":"timeOffset"}('${B}', datum['${e}'], ${f?-O:O})`}function Hb(a,b,e){let [f,g]=a;if(void 0!==b&&.5!==b){a=`datum['${f}']`;const n=`datum['${g}']`;return[{type:"formula",expr:xb([Na({timeUnit:e,field:f,reverse:!0}),a],b+.5),as:`${f}_${"offsetted_rect_start"}`},{type:"formula",expr:xb([a,n],b+.5),as:`${f}_${"offsetted_rect_end"}`}]}return[]}
function xb(a,b){let [e,f]=a;return`${1-b} * ${e} + ${b} * ${f}`}function fc(a,b){return`domain(${h.stringValue(a.scaleName(b))})`}function q(a){let b;return a.parent&&Ti(a.parent)&&(null!=(b=!a.parent.parent)?b:q(a.parent.parent))}function I(a,b,e,f){var g=!a.hasProjection,n=e.channel;const B=e.signals.visual,O=h.stringValue(g?a.scaleName(n):a.projectionName());var Z=hc=>`scale(${O}, ${hc})`;const wa=a.getSizeSignalRef("x"===n?"width":"height").signal,bb=`${n}(unit)`,nb=b.events.reduce((hc,Nc)=>
[...hc,{events:Nc.between[0],update:`[${bb}, ${bb}]`},{events:Nc,update:`[${B}[0], clamp(${bb}, 0, ${wa})]`}],[]);if(g)return e=e.signals.data,g=Uh.defined(b),a=(a=a.getScaleComponent(n))?a.get("type"):void 0,n=f?{init:mh(f,!0,Z)}:{value:[]},nb.push({events:{signal:b.name+"_scale_trigger"},update:Md(a)?`[${Z(`${e}[0]`)}, ${Z(`${e}[1]`)}]`:"[0, 0]"}),g?[{name:e,on:[]}]:[Object.assign({},{name:B},n,{on:nb}),Object.assign({},{name:e},f?{init:mh(f)}:{},{on:[{events:{signal:B},update:`${B}[0] === ${B}[1] ? null : invert(${O}, ${B})`}]})];
Z="x"===n?0:1;b=b.name+"_init";return[Object.assign({},{name:B},f?{init:`[${b}[0][${Z}], ${b}[1][${Z}]]`}:{value:[]},{on:nb})]}function ha(a,b,e,f){var g=P(b)&&b.condition;b=f(b);return g?(g=h.array(g).map(n=>{const B=f(n);if(n.param){const {param:O,empty:Z}=n;n=vk(a,{param:O,empty:Z});return Object.assign({},{test:n},B)}n=$f(a,n.test);return Object.assign({},{test:n},B)}),{[e]:[...g,...(void 0!==b?[b]:[])]}):void 0!==b?{[e]:b}:{}}function va(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
"text";return ha(a,a.encoding[b],b,e=>$a(e,a.config))}function $a(a,b){let e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"datum";if(a){if(Jc(a))return Ta(a.value);if(zc(a)){const {format:f,formatType:g}=Yd(a);return Ue({fieldOrDatumDef:a,format:f,formatType:g,expr:e,config:b})}}}function Ob(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const {encoding:e,markDef:f,config:g,stack:n}=a,B=e.tooltip;if(h.isArray(B))return{tooltip:Kc({tooltip:B},n,g,b)};const O=b.reactiveGeom?
"datum.datum":"datum";return ha(a,B,"tooltip",Z=>{const wa=$a(Z,g,O);if(wa)return wa;if(null!==Z){Z=Zb("tooltip",f,g);!0===Z&&(Z={content:"encoding"});if(h.isString(Z))return{value:Z};if(h.isObject(Z))return Mb(Z)?Z:"encoding"===Z.content?Kc(e,n,g,b):{signal:O}}})}function ic(a,b,e){function f(wa,bb){var nb=R(bb);wa=xc(wa)?wa:Object.assign({},wa,{type:a[nb].type});nb=wa.title||Ef(wa,n);nb=h.array(nb).join(", ").replaceAll(/"/g,'\\"');if(F(bb)){const lc="x"===bb?"x2":"y2";var hc=Ce(a[lc]);if(ib(wa.bin)&&
hc){var Nc=Sc(wa,{expr:O});hc=Sc(hc,{expr:O});const {format:Lc,formatType:bd}=Yd(wa);Nc=af(Nc,hc,Lc,bd,n);B[lc]=!0}}if((F(bb)||"theta"===bb||"radius"===bb)&&b&&b.fieldChannel===bb&&"normalize"===b.offset){const {format:lc,formatType:Lc}=Yd(wa);Nc=Ue({fieldOrDatumDef:wa,format:lc,formatType:Lc,expr:O,config:n,normalizeStack:!0}).signal}null!=Nc||(Nc=$a(wa,n,O).signal);Z.push({channel:bb,key:nb,value:Nc})}var {reactiveGeom:g}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const n=Object.assign({},
e,e.tooltipFormat),B={},O=g?"datum.datum":"datum",Z=[];Gg(a,(wa,bb)=>{ua(wa)?f(wa,bb):Y(wa)&&f(wa.condition,bb)});g={};for(const wa of Z){const {channel:bb,key:nb,value:hc}=wa;B[bb]||g[nb]||(g[nb]=hc)}return g}function Kc(a,b,e){var {reactiveGeom:f}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};f=ic(a,b,e,{reactiveGeom:f});f=Gi(f).map(g=>{let [n,B]=g;return`"${n}": ${B}`});return 0<f.length?{signal:`{${f.join(", ")}}`}:void 0}function gc(a){const {encoding:b,markDef:e,config:f,stack:g}=
a;var n=b.description;if(n)return ha(a,n,"description",B=>$a(B,a.config));n=Zb("description",e,f);if(null!=n)return{description:Ta(n)};if(!1===f.aria)return{};n=ic(b,g,f);if(!gb(n))return{description:{signal:Gi(n).map((B,O)=>{let [Z,wa]=B;return`"${0<O?"; ":""}${Z}: " + (${wa})`}).join(" + ")}}}function cd(a,b){let e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const {markDef:f,encoding:g,config:n}=b,{vgChannel:B}=e;let {defaultRef:O,defaultValue:Z}=e;void 0===O&&(null!=Z||(Z=Zb(a,f,
n,{vgChannel:B,ignoreVgConfig:!0})),void 0!==Z&&(O=Ta(Z)));return ha(b,g[a],null!=B?B:a,wa=>jd({channel:a,channelDef:wa,markDef:f,config:n,scaleName:b.scaleName(a),scale:b.getScaleComponent(a),stack:null,defaultRef:O}))}function Wc(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{filled:void 0};const {markDef:e,encoding:f,config:g}=a;var {type:n}=e,B;b=null!=(B=b.filled)?B:Zb("filled",e,g);B=zb(["bar","point","circle","square","geoshape"],n)?"transparent":void 0;var O,Z;n=null!=(Z=
null!=(O=Zb(!0===b?"color":void 0,e,g,{vgChannel:"fill"}))?O:g.mark[!0===b&&"color"])?Z:B;var wa;O=null!=(wa=Zb(!1===b?"color":void 0,e,g,{vgChannel:"stroke"}))?wa:g.mark[!1===b&&"color"];wa=b?"fill":"stroke";Z=Object.assign({},n?{fill:Ta(n)}:{},O?{stroke:Ta(O)}:{});e.color&&(b?e.fill:e.stroke)&&J(yd("property",{fill:"fill"in e,stroke:"stroke"in e}));return Object.assign({},Z,cd("color",a,{vgChannel:wa,defaultValue:b?n:O}),cd("fill",a,{defaultValue:f.fill?n:void 0}),cd("stroke",a,{defaultValue:f.stroke?
O:void 0}))}function Id(a){const {encoding:b,mark:e}=a,f=b.order;return!Qa(e)&&Jc(f)?ha(a,f,"zindex",g=>Ta(g.value)):{}}function je(a){let {channel:b,markDef:e,encoding:f={},model:g,bandPosition:n}=a;a=`${b}Offset`;const B=e[a],O=f[a];return"xOffset"!==a&&"yOffset"!==a||!O?(a=e[a])?{offsetType:"visual",offset:a}:{}:{offsetType:"encoding",offset:jd({channel:a,channelDef:O,markDef:e,config:null==g?void 0:g.config,scaleName:g.scaleName(a),scale:g.getScaleComponent(a),stack:null,defaultRef:Ta(B),bandPosition:n})}}
function ue(a,b,e){let {defaultPos:f,vgChannel:g}=e;const {encoding:n,markDef:B,config:O,stack:Z}=b;e=n[a];const wa=n[W(a)],bb=b.scaleName(a),nb=b.getScaleComponent(a),{offset:hc,offsetType:Nc}=je({channel:a,markDef:B,encoding:n,model:b,bandPosition:.5}),lc=Ne({model:b,defaultPos:f,channel:a,scaleName:bb,scale:nb});if(!e&&F(a)&&(n.latitude||n.longitude))b={field:b.getName(a)};else a:{b={channel:a,channelDef:e,channel2Def:wa,markDef:B,config:O,scaleName:bb,scale:nb,stack:Z,offset:hc,defaultRef:lc,
bandPosition:"encoding"===Nc?0:void 0};const {channel:Lc,channelDef:bd,scaleName:ed,stack:ke,offset:ce,markDef:Ee}=b;if(zc(bd)&&ke&&Lc===ke.fieldChannel){if(ua(bd)&&(b=bd.bandPosition,void 0!==b||"text"!==Ee.type||"radius"!==Lc&&"theta"!==Lc||(b=.5),void 0!==b)){b=Yc({scaleName:ed,fieldOrDatumDef:bd,startSuffix:"start",bandPosition:b,offset:ce});break a}b=Tc(bd,ed,{suffix:"end"},{offset:ce})}else b=Pc(b)}return b?{[g||a]:b}:void 0}function Ne(a){let {model:b,defaultPos:e,channel:f,scaleName:g,scale:n}=
a;const {markDef:B,config:O}=b;return()=>{var Z=R(f),wa=A(f);wa=Zb(f,B,O,{vgChannel:wa});if(void 0!==wa)return nd(f,wa);switch(e){case "zeroOrMin":case "zeroOrMax":if(g&&(wa=n.get("type"),!zb([jg.LOG,jg.TIME,jg.UTC],wa)&&n.domainDefinitelyIncludesZero()))return{scale:g,value:0};if("zeroOrMin"===e)return"y"===Z?{field:{group:"height"}}:{value:0};switch(Z){case "radius":return{signal:`min(${b.width.signal},${b.height.signal})/2`};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};
case "y":return{value:0}}break;case "mid":return Z=b[G(f)],Object.assign({},Z,{mult:.5})}}}function vf(a,b,e){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"middle";if("radius"===a||"theta"===a)return A(a);var g="x"===a?"align":"baseline";const n=Zb(g,b,e);Mb(n)?(J(`The ${g} for range marks cannot be an expression`),g=void 0):g=n;return"x"===a?zj[g||("top"===f?"left":"center")]:xi[g||f]}function gf(a,b,e){let {defaultPos:f,defaultPos2:g,range:n}=e;return n?$g(a,b,{defaultPos:f,defaultPos2:g}):
ue(a,b,{defaultPos:f})}function $g(a,b,e){let {defaultPos:f,defaultPos2:g}=e;const {markDef:n,config:B}=b;var O=W(a);e=G(a);{const {encoding:hc,mark:Nc,markDef:lc,stack:Lc,config:bd}=b;var Z=R(O),wa=G(O);const ed=A(O);var bb=hc[Z],nb=b.scaleName(Z);const ke=b.getScaleComponent(Z);({offset:Z}=O in hc||O in lc?je({channel:O,markDef:lc,encoding:hc,model:b}):je({channel:Z,markDef:lc,encoding:hc,model:b}));if(bb||"x2"!==O&&"y2"!==O||!hc.latitude&&!hc.longitude){let {channel:ce,channelDef:Ee,channel2Def:Qe,
markDef:Lf,config:Uf,scaleName:Lg,scale:Ze,stack:ag,offset:$e,defaultRef:zh}={channel:O,channelDef:bb,channel2Def:hc[O],markDef:lc,config:bd,scaleName:nb,scale:ke,stack:Lc,offset:Z,defaultRef:void 0};bb=zc(Ee)&&ag&&ce.charAt(0)===ag.fieldChannel.charAt(0)?Tc(Ee,Lg,{suffix:"start"},{offset:$e}):Pc({channel:ce,channelDef:Qe,scaleName:Lg,scale:Ze,stack:ag,markDef:Lf,config:Uf,offset:$e,defaultRef:zh});O=void 0!==bb?{[ed]:bb}:re(O,lc)||re(O,{[O]:Ac(O,lc,bd.style),[wa]:Ac(wa,lc,bd.style)})||re(O,bd[Nc])||
re(O,bd.mark)||{[ed]:Ne({model:b,defaultPos:g,channel:O,scaleName:nb,scale:ke})()}}else wa=G(O),nb=b.markDef[wa],O=null!=nb?{[wa]:{value:nb}}:{[ed]:{field:b.getName(O)}}}e=O[e]?vf(a,n,B):A(a);return Object.assign({},ue(a,b,{defaultPos:f,vgChannel:e}),O)}function re(a,b){const e=G(a),f=A(a);if(void 0!==b[f])return{[f]:nd(a,b[f])};if(void 0!==b[a])return{[f]:nd(a,b[a])};if(b[e])if(b=b[e],sc(b))J(`Position range does not support relative band size for ${e}.`);else return{[e]:nd(a,b)}}function Se(a,b){const {config:e,
encoding:f,markDef:g}=a;var n=g.type,B=W(b),O=G(b),Z=f[b];B=f[B];var wa=a.getScaleComponent(b);wa=wa?wa.get("type"):void 0;const bb=g.orient;var nb;let hc;const Nc=null!=(hc=null!=(nb=f[O])?nb:f.size)?hc:Zb("size",g,e,{vgChannel:O});O=w(b);n="bar"===n&&("x"===b?"vertical"===bb:"horizontal"===bb);if(!ua(Z)||!(sb(Z.bin)||ib(Z.bin)||Z.timeUnit&&!B)||Nc&&!sc(Nc)||f[O]||Td(wa)){if((zc(Z)&&Td(wa)||n)&&!B){var lc;{const {markDef:Qe,encoding:Lf,config:Uf,stack:Lg}=a;n=Qe.orient;var Lc=a.scaleName(b),bd=a.getScaleComponent(b),
ed=G(b),ke=W(b);B=w(b);B=a.scaleName(B);O=a.getScaleComponent(z(b));nb="horizontal"===n&&"y"===b||"vertical"===n&&"x"===b;if(Lf.size||Qe.size)nb?lc=cd("size",a,{vgChannel:ed,defaultRef:Ta(Qe.size)}):J(`Cannot apply size to non-oriented mark "${Qe.type}".`);wa=!!lc;var ce;n=M({channel:b,fieldDef:Z,markDef:Qe,config:Uf,scaleType:null==(ce=bd||O)?void 0:ce.get("type"),useVlSizeChannel:nb});lc=lc||{[ed]:nh(ed,B||Lc,O||bd,Uf,n,!!Z,Qe.type)};var Ee;ce="band"===(null==(Ee=bd||O)?void 0:Ee.get("type"))&&
sc(n)&&!wa?"top":"middle";Ee=vf(b,Qe,Uf,ce);ce="xc"===Ee||"yc"===Ee;const {offset:Ze,offsetType:ag}=je({channel:b,markDef:Qe,encoding:Lf,model:a,bandPosition:ce?.5:0});a=Pc({channel:b,channelDef:Z,markDef:Qe,config:Uf,scaleName:Lc,scale:bd,stack:Lg,offset:Ze,defaultRef:Ne({model:a,defaultPos:"mid",channel:b,scaleName:Lc,scale:bd}),bandPosition:ce?"encoding"===ag?0:.5:Mb(n)?{signal:`(1-${n})/2`}:sc(n)?(1-n.band)/2:0});ed?lc=Object.assign({},{[Ee]:a},lc):(b=A(ke),lc=lc[ed],lc=Ze?Object.assign({},lc,
{offset:Ze}):lc,lc={[Ee]:a,[b]:h.isArray(a)?[a[0],Object.assign({},a[1],{offset:lc})]:Object.assign({},a,{offset:lc})})}return lc}return $g(b,a,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}a:{let {fieldDef:Qe,fieldDef2:Lf,channel:Uf,model:Lg}={fieldDef:Z,fieldDef2:B,channel:b,model:a};const {config:Ze,markDef:ag,encoding:$e}=Lg;a=Lg.getScaleComponent(Uf);lc=Lg.scaleName(Uf);b=a?a.get("type"):void 0;a=a.get("reverse");b=M({channel:Uf,fieldDef:Qe,markDef:ag,config:Ze,scaleType:b});ce=null!=(bd=
null==(Lc=null==(ke=Lg.component.axes[Uf])?void 0:ke[0])?void 0:Lc.get("translate"))?bd:.5;Lc=F(Uf)?null!=(ed=Zb("binSpacing",ag,Ze))?ed:0:0;ed=W(Uf);Z=A(Uf);Ee=A(ed);bd=jc("minBandSize",ag,Ze);({offset:n}=je({channel:Uf,markDef:ag,encoding:$e,model:Lg,bandPosition:0}));({offset:B}=je({channel:ed,markDef:ag,encoding:$e,model:Lg,bandPosition:0}));let {scaleName:zh,fieldDef:il}={fieldDef:Qe,scaleName:lc};ke=Sc(il,{expr:"datum"});O=Sc(il,{expr:"datum",suffix:"end"});O=`abs(scale("${zh}", ${O}) - scale("${zh}", ${ke}))`;
ke=ph(Uf,Lc,a,ce,n,bd,O);a=ph(ed,Lc,a,ce,null!=B?B:n,bd,O);b=Mb(b)?{signal:`(1-${b.signal})/2`}:sc(b)?(1-b.band)/2:.5;ce=y({fieldDef:Qe,fieldDef2:Lf,markDef:ag,config:Ze});if(sb(Qe.bin)||Qe.timeUnit)ce=Qe.timeUnit&&.5!==ce,lc={[Ee]:yf({fieldDef:Qe,scaleName:lc,bandPosition:b,offset:a,useRectOffsetField:ce}),[Z]:yf({fieldDef:Qe,scaleName:lc,bandPosition:Mb(b)?{signal:`1-${b.signal}`}:1-b,offset:ke,useRectOffsetField:ce})};else{if(ib(Qe.bin)){a=Tc(Qe,lc,{},{offset:a});if(ua(Lf)){lc={[Ee]:a,[Z]:Tc(Lf,
lc,{},{offset:ke})};break a}if(h.isObject(Qe.bin)&&Qe.bin.step){lc={[Ee]:a,[Z]:{signal:`scale("${lc}", ${Sc(Qe,{expr:"datum"})} + ${Qe.bin.step})`,offset:ke}};break a}}J(x(ed));lc=void 0}}return lc}function nh(a,b,e,f,g,n,B){if(sc(g))if(e){const O=e.get("type");if("band"===O)return a=`bandwidth('${b}')`,1!==g.band&&(a=`${g.band} * ${a}`),f=jc("minBandSize",{type:B},f),{signal:f?`max(${Gb(f)}, ${a})`:a};1!==g.band&&J(`Cannot use the relative band size with ${O} scale.`)}else return{mult:g.band,field:{group:a}};
else{if(Mb(g))return g;if(g)return{value:g}}if(e&&(g=e.get("range"),Qb(g)&&h.isNumber(g.step)))return{value:g.step-2};if(!n){const {bandPaddingInner:O,barBandPaddingInner:Z,rectBandPaddingInner:wa}=f.scale;B=U(O,"bar"===B?Z:wa);if(Mb(B))return{signal:`(1 - (${B.signal})) * ${a}`};if(h.isNumber(B))return{signal:`${1-B} * ${a}`}}return{value:Zf(f.view,a)-2}}function ph(a,b,e,f,g,n,B){if(a in fk)return 0;b=(a="x"===a||"y2"===a)?-b/2:b/2;if(Mb(e)||Mb(g)||Mb(f)||n){e=Gb(e);g=Gb(g);f=Gb(f);const O=Gb(n);
n=n?`(${B} < ${O} ? ${a?"":"-"}0.5 * (${O} - (${B})) : ${b})`:b;return{signal:(f?`${f} + `:"")+(e?`(${e} ? -1 : 1) * `:"")+(g?`(${g} + ${n})`:n)}}g=g||0;return f+(e?-g-b:+g+b)}function yf(a){let {fieldDef:b,scaleName:e,bandPosition:f,offset:g,useRectOffsetField:n}=a;return Yc(Object.assign({},{scaleName:e,fieldOrDatumDef:b,bandPosition:f,offset:g},n?{startSuffix:"offsetted_rect_start",endSuffix:"offsetted_rect_end"}:{}))}function Bf(a,b){const {fill:e,stroke:f}="include"===b.color?Wc(a):{};var g=
Object,n=g.assign;b=kh(a.markDef,b);var B=Ag(a,"fill",e),O=Ag(a,"stroke",f),Z=cd("opacity",a),wa=cd("fillOpacity",a),bb=cd("strokeOpacity",a),nb=cd("strokeWidth",a),hc=cd("strokeDash",a),Nc=Id(a),lc=Ob(a),Lc=va(a,"href");{const {markDef:ce,config:Ee}=a,Qe=Zb("aria",ce,Ee);if(!1===Qe)a={};else{var bd=Object,ed=bd.assign;{const {mark:Lf,markDef:Uf,config:Lg}=a;if(!1===Lg.aria)var ke={};else ke=Zb("ariaRoleDescription",Uf,Lg),ke=null!=ke?{ariaRoleDescription:{value:ke}}:Lf in bm?{}:{ariaRoleDescription:{value:Lf}}}a=
ed.call(bd,{},Qe?{aria:Qe}:{},ke,gc(a))}}return n.call(g,{},b,B,O,Z,wa,bb,nb,hc,Nc,lc,Lc,a)}function Ag(a,b,e){const {config:f,mark:g,markDef:n}=a;return"hide"===Zb("invalid",n,f)&&e&&!Qa(g)&&(a=Ff(a,{invalid:!0,channels:Bk}))?{[b]:[{test:a,value:null},...h.array(e)]}:e?{[b]:e}:{}}function kh(a,b){return $k.reduce((e,f)=>{pk.has(f)||void 0===a[f]||"ignore"===b[f]||(e[f]=Ta(a[f]));return e},{})}function Ff(a,b){let {invalid:e=!1,channels:f}=b;b=f.reduce((g,n)=>{var B=a.getScaleComponent(n);B&&(B=B.get("type"),
(n=a.vgField(n,{expr:"datum"}))&&Md(B)&&(g[n]=!0));return g},{});b=vd(b);if(0<b.length){const g=e?"||":"\x26\x26";return b.map(n=>Fc(n,e)).join(` ${g} `)}}function uf(a){const {config:b,markDef:e}=a;return Zb("invalid",e,b)&&(a=Kg(a,{channels:Ph}))?{defined:{signal:a}}:{}}function Kg(a,b){let {invalid:e=!1,channels:f}=b;b=f.reduce((g,n)=>{var B=a.getScaleComponent(n);if(B){B=B.get("type");let O;(n=a.vgField(n,{expr:"datum",binSuffix:(null==(O=a.stack)?0:O.impute)?"mid":void 0}))&&Md(B)&&(g[n]=!0)}return g},
{});b=vd(b);if(0<b.length){const g=e?"||":"\x26\x26";return b.map(n=>Fc(n,e)).join(` ${g} `)}}function kg(a,b){if(void 0!==b)return{[a]:Ta(b)}}function Eh(a,b,e,f,g){var n=b.name,B=n+"_translate_anchor";n+="_translate_delta";var O=e.channel;const Z=Uh.defined(b);b=g.filter(Nc=>Nc.name===e.signals[Z?"data":"visual"])[0];f=a.getSizeSignalRef(f).signal;g=(a=a.getScaleComponent(O))&&a.get("type");var wa=a&&a.get("reverse");B=`${B}.extent_${O}`;O=`${Z?"x"===O?wa?"":"-":wa?"-":"":""}${n}.${O} / ${Z?`${f}`:
`span(${B})`}`;wa=Z&&a?"log"===g?"panLog":"symlog"===g?"panSymlog":"pow"===g?"panPow":"panLinear":"panLinear";var bb;let nb;const hc=Z?"pow"===g?`, ${null!=(bb=a.get("exponent"))?bb:1}`:"symlog"===g?`, ${null!=(nb=a.get("constant"))?nb:1}`:"":"";bb=`${wa}(${B}, ${O}${hc})`;b.on.push({events:{signal:n},update:Z?bb:`clampRange(${bb}, 0, ${f})`})}function gi(a,b,e,f,g){var n=b.name,B=e.channel;const O=Uh.defined(b);b=g.filter(Nc=>Nc.name===e.signals[O?"data":"visual"])[0];f=a.getSizeSignalRef(f).signal;
const Z=(g=a.getScaleComponent(B))&&g.get("type"),wa=O?fc(a,B):b.name;a=n+"_zoom_delta";n=`${n}${"_zoom_anchor"}.${B}`;B=O&&g?"log"===Z?"zoomLog":"symlog"===Z?"zoomSymlog":"pow"===Z?"zoomPow":"zoomLinear":"zoomLinear";var bb;let nb;const hc=O?"pow"===Z?`, ${null!=(bb=g.get("exponent"))?bb:1}`:"symlog"===Z?`, ${null!=(nb=g.get("constant"))?nb:1}`:"":"";bb=`${B}(${wa}, ${n}, ${a}${hc})`;b.on.push({events:{signal:a},update:O?bb:`clampRange(${bb}, 0, ${f})`})}function dg(a){var {escape:b}=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:{escape:!0};b=b?h.stringValue(a.name):a.name;var e;for(e=a.parent;e&&!gh(e);)e=e.parent;if(e){const {facet:f}=e;for(const g of qh)f[g]&&(b+=` + '__facet_${g}_' + (facet[${h.stringValue(e.vgField(g))}])`)}return b}function Cf(a){let b;return ng(null!=(b=a.component.selection)?b:{}).reduce((e,f)=>e||f.project.hasSelectionId,!1)}function Eg(a,b){!h.isString(b.select)&&b.select.on||delete a.events;!h.isString(b.select)&&b.select.clear||delete a.clear;!h.isString(b.select)&&
b.select.toggle||delete a.toggle}function Ki(a){const b=[];if("Identifier"===a.type)return[a.name];if("Literal"===a.type)return[a.value];"MemberExpression"===a.type&&(b.push(...Ki(a.object)),b.push(...Ki(a.property)));return b}function rj(a){return"MemberExpression"===a.object.type?rj(a.object):"datum"===a.object.name}function sj(a){a=h.parseExpression(a);const b=new Set;a.visit(e=>{"MemberExpression"===e.type&&rj(e)&&b.add(Ki(e).slice(1).join("."))});return b}function vk(a,b,e){var f=3<arguments.length&&
void 0!==arguments[3]?arguments[3]:"datum",g=h.isString(b)?b:b.param,n=sa(g),B=h.stringValue(n+"_store");try{var O=a.getSelectionComponent(n,g)}catch(Z){return`!!${n}`}O.project.timeUnit&&(g=null!=e?e:a.component.data.raw,n=O.project.timeUnit.clone(),g.parent?n.insertAsParentOf(g):g.parent=n);g=O.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(";O="global"===O.resolve?")":`, ${h.stringValue(O.resolve)})`;f=`${g}${B}, ${f}${O}`;B=`length(data(${B}))`;return!1===b.empty?`${B} && ${f}`:
`!${B} || ${f}`}function ej(a,b,e){const f=sa(b),g=e.encoding;let n=e.field,B;try{B=a.getSelectionComponent(f,b)}catch(O){return f}g||n?g&&!n&&(a=B.project.items.filter(O=>O.channel===g),!a.length||1<a.length?(n=B.project.items[0].field,J((a.length?"Multiple ":"No ")+`matching ${h.stringValue(g)} encoding found for selection ${h.stringValue(e.param)}. `+`Using "field": ${h.stringValue(n)}.`)):n=a[0].field):(n=B.project.items[0].field,1<B.project.items.length&&J('A "field" or "encoding" must be specified when using a selection as a scale domain. '+
`Using "field": ${h.stringValue(n)}.`));return`${B.name}[${h.stringValue(ab(n))}]`}function $f(a,b,e){return ia(b,f=>h.isString(f)?f:(null==f?0:f.param)?vk(a,f,e):Lb(f))}function wk(a,b){if(a)return h.isArray(a)&&!$b(a)?a.map(e=>Ef(e,b)).join(", "):a}function Cj(a,b,e,f){null!=a.encode||(a.encode={});let g;null!=(g=a.encode)[b]||(g[b]={});let n;null!=(n=a.encode[b]).update||(n.update={});a.encode[b].update[e]=f}function fh(a,b,e){var f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{header:!1},
g=a.combine(),n=Object.assign({},g),B=g.disable;const O=g.orient,Z=g.scale;var wa=g.labelExpr;const bb=g.title;g=g.zindex;n=(delete n.disable,delete n.orient,delete n.scale,delete n.labelExpr,delete n.title,delete n.zindex,n);if(!B){for(const hc in n){var nb=Zi[hc];B=n[hc];if(nb&&nb!==b&&"both"!==nb)delete n[hc];else if(Xf(B)){nb=B;B=Object.assign({},nb);nb=nb.condition;B=(delete B.condition,B);nb=h.array(nb);const Nc=Nj[hc];if(Nc){const {vgProp:lc,part:Lc}=Nc;B=[...nb.map(bd=>{var ed=Object.assign({},
bd);bd=bd.test;ed=(delete ed.test,ed);return Object.assign({},{test:$f(null,bd)},ed)}),B];Cj(n,Lc,lc,B);delete n[hc]}else null===Nc&&(B={signal:nb.map(lc=>{var Lc=Object.assign({},lc);lc=lc.test;Lc=(delete Lc.test,Lc);return`${$f(null,lc)} ? ${wb(Lc)} : `}).join("")+wb(B)},n[hc]=B)}else if(Mb(B)&&(nb=Nj[hc])){const {vgProp:Nc,part:lc}=nb;Cj(n,lc,Nc,B);delete n[hc]}zb(["labelAlign","labelBaseline"],hc)&&null===n[hc]&&delete n[hc]}if("grid"===b){if(n.grid)return n.encode&&({grid:wa}=n.encode,n.encode=
Object.assign({},wa?{grid:wa}:{}),gb(n.encode)&&delete n.encode),Object.assign({},{scale:Z,orient:O},n,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:U(g,0)})}else if(f.header||!a.mainExtracted){if(void 0!==wa){f=wa;let hc,Nc;(null==(hc=n.encode)?0:null==(Nc=hc.labels)?0:Nc.update)&&Mb(n.encode.labels.update.text)&&(f=qb(wa,"datum.label",n.encode.labels.update.text.signal));Cj(n,"labels","text",{signal:f})}null===n.labelAlign&&delete n.labelAlign;if(n.encode){for(const hc of nk)a.hasAxisPart(hc)||
delete n.encode[hc];gb(n.encode)&&delete n.encode}wa=wk(bb,e);return Object.assign({},{scale:Z,orient:O,grid:!1},wa?{title:wa}:{},n,!1===e.aria?{aria:!1}:{},{zindex:U(g,0)})}}}function Oi(a){const {axes:b}=a.component,e=[];for(const f of Ph)if(b[f])for(const g of b[f])if(!g.get("disable")&&!g.get("gridScale")){const n="x"===f?"height":"width",B=a.getSizeSignalRef(n).signal;n!==B&&e.push({name:n,update:B})}return e}function Uj(a,b){const {x:e=[],y:f=[]}=a;return[...e.map(g=>fh(g,"grid",b)),...f.map(g=>
fh(g,"grid",b)),...e.map(g=>fh(g,"main",b)),...f.map(g=>fh(g,"main",b))].filter(g=>g)}function Dj(a,b,e,f){return Object.assign.apply(null,[{},...a.map(g=>{if("axisOrient"===g){g="x"===e?"bottom":"left";const n=b["x"===e?"axisBottom":"axisLeft"]||{},B=b["x"===e?"axisTop":"axisRight"]||{},O=new Set([...vd(n),...vd(B)]),Z={};for(const wa of O.values())Z[wa]={signal:`${f.signal} === "${g}" ? ${Gb(n[wa])} : ${Gb(B[wa])}`};return Z}return b[g]})])}function cl(a,b,e,f){var g="band"===b?["axisDiscrete",
"axisBand"]:"point"===b?["axisDiscrete","axisPoint"]:ni.has(b)?["axisQuantitative"]:"time"===b||"utc"===b?["axisTemporal"]:[];const n="x"===a?"axisX":"axisY";b=Mb(e)?"axisOrient":`axis${Ra(e)}`;g=[...g,...g.map(B=>n+B.substr(4))];b=["axis",b,n];return{vlOnlyAxisConfig:Dj(g,f,a,e),vgAxisConfig:Dj(b,f,a,e),axisConfigStyle:Pi([...b,...g],f)}}function Pi(a,b){const e=[{}];for(const f of a){let g;if(a=null==(g=b[f])?void 0:g.style){a=h.array(a);for(const n of a)e.push(b.style[n])}}return Object.assign.apply(null,
e)}function zi(a,b,e){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const g=ld(a,e,b);if(void 0!==g)return{configFrom:"style",configValue:g};for(const n of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){let B;if(void 0!==(null==(B=f[n])?void 0:B[a]))return{configFrom:n,configValue:f[n][a]}}return{}}function Vj(a,b,e,f,g){const n=null==b?void 0:b.labelAngle;if(void 0!==n)return Mb(n)?n:La(n);({configValue:b}=zi("labelAngle",f,null==b?void 0:b.style,g));if(void 0!==b)return La(b);
if("x"===e&&zb(["nominal","ordinal"],a.type)&&(!ua(a)||!a.timeUnit))return 270}function Qi(a){return`(((${a.signal} % 360) + 360) % 360)`}function Wj(a,b,e,f){if(void 0!==a)return"x"===e?Mb(a)?(f=Qi(a),b=Mb(b)?`(${b.signal} === "top")`:"top"===b,{signal:`(45 < ${f} && ${f} < 135) || (225 < ${f} && ${f} < 315) ? "middle" :`+`(${f} <= 45 || 315 <= ${f}) === ${b} ? "bottom" : "top"`}):45<a&&135>a||225<a&&315>a?"middle":Mb(b)?{signal:`${b.signal} ${45>=a||315<=a?"\x3d\x3d\x3d":"!\x3d\x3d"} "top" ? "bottom" : "top"`}:
(45>=a||315<=a)===("top"===b)?"bottom":"top":Mb(a)?(a=Qi(a),b=Mb(b)?`(${b.signal} === "left")`:"left"===b,{signal:`${a} <= 45 || 315 <= ${a} || (135 <= ${a} && ${a} <= 225) ? ${f?'"middle"':"null"} : (45 <= ${a} && ${a} <= 135) === ${b} ? "top" : "bottom"`}):45>=a||315<=a||135<=a&&225>=a?f?"middle":null:Mb(b)?{signal:`${b.signal} ${45<=a&&135>=a?"\x3d\x3d\x3d":"!\x3d\x3d"} "left" ? "top" : "bottom"`}:(45<=a&&135>=a)===("left"===b)?"top":"bottom"}function xk(a,b,e){if(void 0!==a){var f=(e="x"===e)?
0:90,g=e?"bottom":"left";return Mb(a)?(a=Qi(a),b=Mb(b)?`(${b.signal} === "${g}")`:b===g,{signal:`(${f?`(${a} + 90)`:a} % 180 === 0) ? ${e?null:'"center"'} :`+`(${f} < ${a} && ${a} < ${180+f}) === ${b} ? "left" : "right"`}):0===(a+f)%180?e?null:"center":Mb(b)?{signal:`${`${b.signal} ${f<a&&a<180+f?"\x3d\x3d\x3d":"!\x3d\x3d"} "${g}"`} ? "left" : "right"`}:(f<a&&a<180+f)===(b===g)?"left":"right"}}function fj(a,b){var e="x"===b?"x2":"y2";b=a.fieldDef(b);a=a.fieldDef(e);e=b?b.title:void 0;a=a?a.title:
void 0;if(e&&a)return Ha(e,a);if(e)return e;if(a)return a;if(void 0!==e)return e;if(void 0!==a)return a}function Ri(a,b,e){return Sc(a,Object.assign({},{prefix:b,suffix:"sort_index"},null!=e?e:{}))}function Cg(a,b){return zb(["top","bottom"],b)?"column":zb(["left","right"],b)?"row":"row"===a?"row":"column"}function hi(a,b,e,f){return U((b||{})[a],("row"===f?e.headerRow:"column"===f?e.headerColumn:e.headerFacet)[a],e.header[a])}function Wh(a,b,e,f){const g={};for(const n of a)a=hi(n,b||{},e,f),void 0!==
a&&(g[n]=a);return g}function Lh(a,b){switch(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"middle"){case "start":return{align:"left"};case "end":return{align:"right"}}const e=xk(b,"row"===a?"left":"top","row"===a?"y":"x");return e?{align:e}:{}}function hj(a,b){return(a=Wj(a,"row"===b?"left":"top","row"===b?"y":"x",!0))?{baseline:a}:{}}function jj(a,b,e){const {format:f,formatType:g,labelAngle:n,labelAnchor:B,labelOrient:O,labelExpr:Z}=Wh("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),
a.header,e,b),wa=Ue({fieldOrDatumDef:a,format:f,formatType:g,expr:"parent",config:e}).signal,bb=Cg(b,O);return Object.assign({},{text:{signal:Z?qb(qb(Z,"datum.label",wa),"datum.value",Sc(a,{expr:"parent"})):wa}},"row"===b?{orient:"left"}:{},{style:"guide-label",frame:"group"},hj(n,bb),Lh(bb,n,B),Hj(e,a,b,Yl,tl))}function Hj(a,b,e,f,g){const n={};for(const B of f){if(!g[B])continue;let O;f=hi(B,null==(O=b)?void 0:O.header,a,e);void 0!==f&&(n[g[B]]=f)}return n}function ij(a){return[...bg(a,"width"),
...bg(a,"height"),...bg(a,"childWidth"),...bg(a,"childHeight")]}function bg(a,b){var e="width"===b?"x":"y",f=a.component.layoutSize.get(b);if(!f||"merged"===f)return[];b=a.getSizeSignalRef(b).signal;if("step"===f){if(f=a.getScaleComponent(e)){var g=f.get("type");const n=f.get("range");if(Td(g)&&Qb(n))return g=a.scaleName(e),gh(a.parent)&&"independent"===a.parent.component.resolve.scale[e]?[Si(g,n)]:[Si(g,n),{name:b,update:xh(g,f,`domain('${g}').length`)}]}throw Error("layout size is step although width/height is not step.");
}return"container"==f?(e=(f=b.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",a=tf(a.config.view,f?"width":"height"),a=`isFinite(${e}) ? ${e} : ${a}`,[{name:b,init:a,on:[{update:a,events:"window:resize"}]}]):[{name:b,value:f}]}function Si(a,b){a=`${a}_step`;return Mb(b.step)?{name:a,update:b.step.signal}:{name:a,value:b.step}}function xh(a,b,e){const f=b.get("type"),g=b.get("padding"),n=U(b.get("paddingOuter"),g);b=b.get("paddingInner");return`bandspace(${e}, ${Gb("band"===f?void 0!==
b?b:g:1)}, ${Gb(n)}) * ${a}_step`}function Xi(a){return"childWidth"===a?"width":"childHeight"===a?"height":a}function ji(a,b){return vd(a).reduce((e,f)=>Object.assign({},e,ha(b,a[f],f,g=>Ta(g.value))),{})}function ii(a,b){if(gh(b))return"theta"===a?"independent":"shared";if(Ti(b))return"shared";if(Tk(b))return F(a)||"theta"===a||"radius"===a?"independent":"shared";throw Error("invalid model type for resolve");}function m(a,b){const e=a.scale[b],f=F(b)?"axis":"legend";return"independent"===e?("shared"===
a[f][b]&&J(`Setting the scale to be independent for "${b}" means we also have to set the guide (axis or legend) to be independent.`),"independent"):a[f][b]||"shared"}function H(a){return la(a,(b,e)=>Math.max(b,e.value))}function L(a){return la(a,(b,e)=>U(b,e.value))}function la(a,b){const e=null==a?void 0:a.condition;if(e&&(h.isArray(e)||Jc(e)))return h.array(a.condition).reduce(b,a.value);if(Jc(a))return a.value}function Ua(a,b,e){a=b.get("selections");if(null!=a&&a.length){var f=h.stringValue(e.field);
return a.map(g=>`(!length(data(${h.stringValue(sa(g)+"_store")})) || (${g}[${f}] && indexof(${g}[${f}], datum.value) >= 0))`).join(" || ")}}function cb(a,b,e,f){return{signal:`clamp(${a.getSizeSignalRef(b).signal}, ${e}, ${f})`}}function ob(a){if(Nf(a)){var {encoding:b}=a,e={};for(bd of["color",...bh]){var f=Rd(b[bd]);if(f&&a.getScaleComponent(bd)&&("shape"!==bd||!ua(f)||"geojson"!==f.type)){a:{var g=void 0,n=void 0,B=void 0,O=void 0,Z=void 0,wa,bb=wa=void 0,nb=void 0;f=a;var hc=bd;let ed=f.legend(hc);
const {markDef:ke,encoding:ce,config:Ee}=f;var Nc=Ee.legend;b:{var lc=f;var Lc=hc;O=lc.scaleName(Lc);if("trail"===lc.mark){if("color"===Lc){lc={stroke:O};break b}if("size"===Lc){lc={strokeWidth:O};break b}}lc="color"===Lc?lc.markDef.filled?{fill:O}:{stroke:O}:{[Lc]:O}}lc=new Ml({},lc);Lc=null==(nb=f.fieldDef(hc))?void 0:nb.field;for(const Ze of ng(null!=(bb=f.component.selection)?bb:{})){let ag;if((bb=null!=(ag=Ze.project.hasField[Lc])?ag:Ze.project.hasChannel[hc])&&yi.defined(Ze)){let $e;nb=null!=
($e=lc.get("selections"))?$e:[];nb.push(Ze.name);lc.set("selections",nb,!1);bb.hasLegend=!0}}bb=void 0!==ed?!ed:Nc.disable;lc.set("disable",bb,void 0!==ed);if(bb){f=lc;break a}ed=ed||{};nb=f.getScaleComponent(hc).get("type");bb=Rd(ce[hc]);O=ua(bb)?null==(wa=pd(bb.timeUnit))?void 0:wa.unit:void 0;Lc=ed.orient||Ee.legend.orient||"right";wa={legend:ed,channel:hc,timeUnit:O,scaleType:nb};({legend:O}=wa);O=O.type;b:{let {channel:Ze,timeUnit:ag,scaleType:$e}=wa;if(K(Ze)){if(zb(["quarter","month","day"],
ag)){wa="symbol";break b}if(og.has($e)){wa="gradient";break b}}wa="symbol"}wa=U(O,wa);let {legendConfig:Qe,legendType:Lf,orient:Uf,legend:Lg}={legend:ed,legendType:wa,orient:Lc,legendConfig:Nc};if(null!=(O=null!=(Z=Lg.direction)?Z:Qe[Lf?"gradientDirection":"symbolDirection"]))Z=O;else b:{switch(Uf){case "top":case "bottom":Z="horizontal";break b;case "left":case "right":case "none":case void 0:break;default:Z="gradient"===Lf?"horizontal":void 0;break b}Z=void 0}Nc={legend:ed,channel:hc,model:f,markDef:ke,
encoding:ce,fieldOrDatumDef:bb,legendConfig:Nc,config:Ee,scaleType:nb,orient:Lc,legendType:wa,direction:Z};for(const Ze of Fk)if(!("gradient"===wa&&Ze.startsWith("symbol")||"symbol"===wa&&Ze.startsWith("gradient"))&&(Z=Ze in ll?ll[Ze](Nc):ed[Ze],void 0!==Z)){b:{nb=O=void 0;Lc=f.fieldDef(hc);switch(Ze){case "disable":Lc=void 0!==ed;break b;case "values":Lc=!(null==(nb=ed)||!nb.values);break b;case "title":if("title"===Ze&&Z===(null==(O=Lc)?void 0:O.title)){Lc=!0;break b}}Lc=Z===(ed||{})[Ze]}((nb=Lc)||
void 0===Ee.legend[Ze])&&lc.set(Ze,Z,nb)}Nc=null!=(n=null==(B=ed)?void 0:B.encoding)?n:{};n=lc.get("selections");B={};hc={fieldOrDatumDef:bb,model:f,channel:hc,legendCmpt:lc,legendType:wa};for(const Ze of"labels legend title symbols gradient entries".split(" ")){let ag;Z=ji(null!=(ag=Nc[Ze])?ag:{},f);Z=Ze in Fl?Fl[Ze](Z,hc):Z;if(void 0!==Z&&!gb(Z)){let $e,zh;B[Ze]=Object.assign({},(null==($e=n)?0:$e.length)&&ua(bb)?{name:`${sa(bb.field)}_legend_${Ze}`}:{},(null==(zh=n)?0:zh.length)?{interactive:!!n}:
{},{update:Z})}}gb(B)||lc.set("encode",B,!(null==(g=ed)||!g.encoding));f=lc}e[bd]=f}}var bd=e}else{const {legends:ed,resolve:ke}=a.component;for(b of a.children){ob(b);for(e of vd(b.component.legends))ke.legend[e]=m(a.component.resolve,e),"shared"===ke.legend[e]&&(ed[e]=Jb(ed[e],b.component.legends[e]),ed[e]||(ke.legend[e]="independent",delete ed[e]))}for(f of vd(ed))for(g of a.children)g.component.legends[f]&&"shared"===ke.legend[f]&&delete g.component.legends[f];bd=ed}return a.component.legends=
bd}function Jb(a,b){if(!a)return b.clone();var e=a.getWithExplicit("orient");const f=b.getWithExplicit("orient");if(!e.explicit||!f.explicit||e.value===f.value){var g=!1;for(const n of Fk)e=zf(a.getWithExplicit(n),b.getWithExplicit(n),n,"legend",(B,O)=>{switch(n){case "symbolType":return B="circle"===O.value?O:B,B;case "title":return fb(B,O);case "type":return g=!0,Ve("symbol")}return Ng(B,O,n,"legend")}),a.setWithExplicit(n,e);if(g){let n,B;(null==(n=a.implicit)?0:null==(B=n.encode)?0:B.gradient)&&
Ba(a.implicit,["encode","gradient"]);let O,Z;(null==(O=a.explicit)?0:null==(Z=O.encode)?0:Z.gradient)&&Ba(a.explicit,["encode","gradient"])}return a}}function uc(a){const b=a.component.legends,e={};for(const g of vd(b)){var f=a.getScaleComponent(g);f=l(f.get("domains"));if(e[f])for(const n of e[f])Jb(n,b[g])||e[f].push(b[g]);else e[f]=[b[g].clone()]}return ng(e).flat().map(g=>{{var n=a.config,B=g.combine();g=Object.assign({},B);const hc=B.disable;B=B.labelExpr;g=(delete g.disable,delete g.labelExpr,
delete g.selections,g);if(hc)var O=void 0;else{!1===n.aria&&void 0==g.aria&&(g.aria=!1);var Z;if(null==(Z=g.encode)?0:Z.symbols){n=g.encode.symbols.update;!n.fill||"transparent"===n.fill.value||n.stroke||g.stroke||(n.stroke={value:"transparent"});for(var wa of bh)g[wa]&&delete n[wa]}g.title||delete g.title;if(void 0!==B){wa=B;var bb,nb;(null==(bb=g.encode)?0:null==(nb=bb.labels)?0:nb.update)&&Mb(g.encode.labels.update.text)&&(wa=qb(B,"datum.label",g.encode.labels.update.text.signal));bb=g;nb={signal:wa};
null!=bb.encode||(bb.encode={});null!=(O=bb.encode).labels||(O.labels={});let Nc;null!=(Nc=bb.encode.labels).update||(Nc.update={});bb.encode.labels.update.text=nb}O=g}}return O}).filter(g=>void 0!==g)}function dd(a){return a.children.reduce((b,e)=>b.concat(e.assembleProjections()),od(a))}function od(a){var b=a.component.projection;if(!b||b.merged)return[];const e=b.combine(),{name:f}=e;if(b.data){const g={signal:`[${b.size.map(n=>n.signal).join(", ")}]`};b=b.data.reduce((n,B)=>{B=Mb(B)?B.signal:
`data('${a.lookupDataSource(B)}')`;n.includes(B)||n.push(B);return n},[]);if(0>=b.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:f,size:g,fit:{signal:1<b.length?`[${b.join(", ")}]`:b[0]}},e)]}return[Object.assign({},{name:f},{translate:{signal:"[width / 2, height / 2]"}},e)]}function tc(a){var b=a.component;if(Nf(a))if(a.hasProjection){var e=Kb(a.specifiedProjection);var f=!(e&&(null!=e.scale||null!=e.translate));const n=f?[a.getSizeSignalRef("width"),
a.getSizeSignalRef("height")]:void 0;if(f){f=[];const {encoding:O}=a;for(g of[["longitude","latitude"],["longitude2","latitude2"]])(Rd(O[g[0]])||Rd(O[g[1]]))&&f.push({signal:a.getName(`geojson_${f.length}`)});a.channelHasField("shape")&&"geojson"===a.typedFieldDef("shape").type&&f.push({signal:a.getName(`geojson_${f.length}`)});0===f.length&&f.push(a.requestDataName(qf.Main));var g=f}else g=void 0;let B;a=new Fj(a.projectionName(!0),Object.assign({},null!=(B=Kb(a.config.projection))?B:{},null!=e?
e:{}),n,g);a.get("type")||a.set("type","equalEarth",!1);e=a}else e=void 0;else e=$d(a);b.projection=e}function Dd(a,b){const e=kc(lm,f=>!h.hasOwnProperty(a.explicit,f)&&!h.hasOwnProperty(b.explicit,f)||h.hasOwnProperty(a.explicit,f)&&h.hasOwnProperty(b.explicit,f)&&qa(a.get(f),b.get(f))?!0:!1);if(qa(a.size,b.size)){if(e)return a;if(qa(a.explicit,{}))return b;if(qa(b.explicit,{}))return a}return null}function $d(a){if(0!==a.children.length){var b;for(var e of a.children)tc(e);e=kc(a.children,f=>{if(f=
f.component.projection){if(b)return(f=Dd(b,f))&&(b=f),!!f;b=f}return!0});if(b&&e){e=a.projectionName(!0);const f=new Fj(e,b.specifiedProjection,b.size,He(b.data));for(const g of a.children)if(a=g.component.projection)a.isFit&&f.data.push(...g.component.projection.data),g.renameProjection(a.get("name"),e),a.merged=!0;return f}}}function ye(a,b,e){let f;e=null!=(f=Oe(e,void 0))?f:{};b=`${Xa(e)}_${b}`;return a.getName(`${b}_bins`)}function Sd(a,b,e){let f;f="as"in a?h.isString(a.as)?[a.as,`${a.as}_end`]:
[a.as[0],a.as[1]]:[Sc(a,{forAs:!0}),Sc(a,{binSuffix:"end",forAs:!0})];b=Object.assign({},Oe(b,void 0));var g=a.field;g=`${Xa(b)}_${g}`;var n={signal:e.getName(`${g}_bins`),extentSignal:e.getName(`${g}_extent`)};const {signal:B,extentSignal:O}=n;if(Tb(b.extent)){var Z=b.extent;Z=ej(e,Z.param,Z);delete b.extent}a=Object.assign({},{bin:b,field:a.field,as:[f]},B?{signal:B}:{},O?{extentSignal:O}:{},Z?{span:Z}:{});return{key:g,binComponent:a}}function Xe(a){return a.startsWith("'")&&a.endsWith("'")||a.startsWith('"')&&
a.endsWith('"')?a.slice(1,-1):a}function Gf(a,b){a=Wa(a);if("number"===b)return`toNumber(${a})`;if("boolean"===b)return`toBoolean(${a})`;if("string"===b)return`toString(${a})`;if("date"===b)return`toDate(${a})`;if("flatten"===b)return a;if(b.startsWith("date:"))return b=Xe(b.slice(5,b.length)),`timeParse(${a},'${b}')`;if(b.startsWith("utc:"))return b=Xe(b.slice(4,b.length)),`utcParse(${a},'${b}')`;J(`Unrecognized parse "${b}".`);return null}function vg(a){const b={};ka(a.filter,e=>{if(eb(e)){let f=
null;if(Ge(e))f=ra(e.equal);else if(of(e))f=ra(e.lte);else if(Ke(e))f=ra(e.lt);else if(ef(e))f=ra(e.gt);else if(E(e))f=ra(e.gte);else if(ca(e))f=e.range[0];else if(Ga(e)){let g;f=(null!=(g=e.oneOf)?g:e["in"])[0]}f&&(Ka(f)?b[e.field]="date":h.isNumber(f)?b[e.field]="number":h.isString(f)&&(b[e.field]="string"));e.timeUnit&&(b[e.field]="date")}});return b}function wg(a){function b(f){if(td(f))e[f.field]="date";else{var g;if(g="quantitative"===f.type)g=f.aggregate,g=h.isString(g)&&zb(["min","max"],g);
g?e[f.field]="number":1<db(f.field)?f.field in e||(e[f.field]="flatten"):$c(f)&&se(f.sort)&&1<db(f.sort.field)&&(f.sort.field in e||(e[f.sort.field]="flatten"))}}const e={};(Nf(a)||gh(a))&&a.forEachFieldDef((f,g)=>{xc(f)?b(f):(g=R(g),g=a.fieldDef(g),b(Object.assign({},f,{type:g.type})))});if(Nf(a)){const {mark:f,markDef:g,encoding:n}=a;if(Qa(f)&&!a.encoding.order){const B=n["horizontal"===g.orient?"y":"x"];!ua(B)||"quantitative"!==B.type||B.field in e||(e[B.field]="number")}}return e}function Bg(a){return a instanceof
fa||a instanceof u||a instanceof S}function Mf(a){return a.stack.stackBy.reduce((b,e)=>{(e=Sc(e.fieldDef))&&b.push(e);return b},[])}function ze(a){return h.isArray(a)&&a.every(b=>h.isString(b))&&1<a.length}function Af(a){function b(e){if(!(e instanceof c)){const f=e.clone();if(f instanceof Rg){const g="scale_"+f.getSource();f.setSource(g);a.model.component.data.outputNodes[g]=f}else(f instanceof yh||f instanceof pe||f instanceof ve||f instanceof ee)&&f.addDimensions(a.fields);for(const g of e.children.flatMap(b))g.parent=
f;return[f]}return e.children.flatMap(b)}return b}function Xh(a){if(a instanceof c)if(1!==a.numChildren()||a.children[0]instanceof Rg){var b=a.model.component.data.main;Wd(b);const e=Af(a);a=a.children.map(e).flat();for(const f of a)f.parent=b}else b=a.children[0],(b instanceof yh||b instanceof pe||b instanceof ve||b instanceof ee)&&b.addDimensions(a.fields),b.swapWithParent(),Xh(a);else a.children.map(Xh)}function Wd(a){if(a instanceof Rg&&a.type===qf.Main&&1===a.numChildren()){const b=a.children[0];
b instanceof c||(b.swapWithParent(),Wd(a))}}function Ad(a){for(const b of a){for(const e of b.children)if(e.parent!==b)return!1;if(!Ad(b.children))return!1}return!0}function Qd(a,b){let e=!1;for(const f of b)e=a.optimize(f)||e;return e}function Hd(a,b,e){let f=a.sources,g=!1;g=Qd(new Ud,f)||g;g=Qd(new Cd(b),f)||g;f=f.filter(n=>0<n.numChildren());g=Qd(new cg,f)||g;f=f.filter(n=>0<n.numChildren());e||(g=Qd(new fe,f)||g,g=Qd(new Qc(b),f)||g,g=Qd(new wd,f)||g,g=Qd(new me,f)||g,g=Qd(new vc,f)||g,g=Qd(new Hc,
f)||g,g=Qd(new xd,f)||g,g=Qd(new Jd,f)||g);a.sources=f;return g}function df(a){const b=a.component.scales;for(const wa of vd(b)){var e=a,f=wa,g=e.getScaleComponent(f).get("type"),{encoding:n}=e;var B=e.scaleDomain(f);var O=e.typedFieldDef(f),Z=e.config.scale;if("unaggregated"===B){const {valid:bb,reason:nb}=ig(O,g);bb||(J(nb),B=void 0)}else void 0===B&&Z.useUnaggregatedDomain&&({valid:O}=ig(O,g),O&&(B="unaggregated"));B!==e.scaleDomain(f)&&(e.specifiedScales[f]=Object.assign({},e.specifiedScales[f],
{domain:B}));e="x"===f&&Rd(n.x2)?Rd(n.x)?zf(tg(g,B,e,"x"),tg(g,B,e,"x2"),"domain","scale",Gk):tg(g,B,e,"x2"):"y"===f&&Rd(n.y2)?Rd(n.y)?zf(tg(g,B,e,"y"),tg(g,B,e,"y2"),"domain","scale",Gk):tg(g,B,e,"y2"):tg(g,B,e,f);b[wa].setWithExplicit("domains",e);B=f=void 0;g=a.component.scales[wa];O=a.specifiedScales[wa].domain;n=null==(B=a.fieldDef(wa))?void 0:B.bin;B=(null==O?void 0:O.param)&&O;n=h.isObject(n)&&Tb(n.extent)&&n.extent;(B||n)&&g.set("selectionExtent",null!=(f=B)?f:n,!0);if(a.component.data.isFaceted){for(f=
a;!gh(f)&&f.parent;)f=f.parent;if("shared"===f.component.resolve.scale[wa])for(const bb of e.value)wc(bb)&&(bb.data="scale_"+bb.data.replace("scale_",""))}}}function Vf(a){for(var b of a.children){var e=b;Nf(e)?df(e):Vf(e)}e=a.component.scales;for(const g of vd(e)){let n;b=null;for(const B of a.children){var f=B.component.scales[g];f&&(n=void 0===n?f.getWithExplicit("domains"):zf(n,f.getWithExplicit("domains"),"domains","scale",Gk),f=f.get("selectionExtent"),b&&f&&b.param!==f.param&&J("The same selection must be used to override scale domains in a layered view."),
b=f)}e[g].setWithExplicit("domains",n);b&&e[g].set("selectionExtent",b,!0)}}function Hf(a,b,e){return a.map(f=>({signal:`{data: ${Pe(f,{timeUnit:e,type:b})}}`}))}function Wf(a,b,e){let f;e=null==(f=pd(e))?void 0:f.unit;return"temporal"===b||e?Hf(a,b,e):[a]}function tg(a,b,e,f){const {encoding:g,markDef:n,mark:B,config:O,stack:Z}=e;var wa=Rd(g[f]),{type:bb}=wa;const nb=wa.timeUnit;if(null==b?0:b.unionWith)return f=tg(a,void 0,e,f),wa=Wf(b.unionWith,bb,nb),Jg([...wa,...f.value]);if(Mb(b))return Jg([b]);
if(b&&"unaggregated"!==b&&(null==b||!b.param))return Jg(Wf(b,bb,nb));if(Z&&f===Z.fieldChannel){if("normalize"===Z.offset)return Ve([[0,1]]);wa=e.requestDataName(qf.Main);return Ve([{data:wa,field:e.vgField(f,{suffix:"start"})},{data:wa,field:e.vgField(f,{suffix:"end"})}])}const hc=Mh[f]&&ua(wa)?cm(e,f,a):void 0;if(Fb(wa))return f=Wf([wa.datum],bb,nb),Ve(f);if("unaggregated"===b)return f=e.requestDataName(qf.Main),{field:wa}=wa,Ve([{data:f,field:Sc({field:wa,aggregate:"min"})},{data:f,field:Sc({field:wa,
aggregate:"max"})}]);if(sb(wa.bin)){if(Td(a))return"bin-ordinal"===a?Ve([]):Ve([{data:ec(hc)?e.requestDataName(qf.Main):e.requestDataName(qf.Raw),field:e.vgField(f,kf(wa,f)?{binSuffix:"range"}:{}),sort:!0!==hc&&h.isObject(hc)?hc:{field:e.vgField(f,{}),op:"min"}}]);({bin:b}=wa);if(sb(b)){const Nc=ye(e,wa.field,b);return Ve([new ge(()=>{const lc=e.getSignalName(Nc);return`[${lc}.start, ${lc}.stop]`})])}return Ve([{data:e.requestDataName(qf.Main),field:e.vgField(f,{})}])}return wa.timeUnit&&zb(["time",
"utc"],a)&&(bb=g[W(f)],p(wa,bb,n,O))?(b=e.requestDataName(qf.Main),wa=y({fieldDef:wa,fieldDef2:bb,markDef:n,config:O}),wa=dc(B)&&.5!==wa&&F(f),Ve([{data:b,field:e.vgField(f,wa?{suffix:"offsetted_rect_start"}:{})},{data:b,field:e.vgField(f,{suffix:wa?"offsetted_rect_end":"end"})}])):hc?Ve([{data:ec(hc)?e.requestDataName(qf.Main):e.requestDataName(qf.Raw),field:e.vgField(f),sort:hc}]):Ve([{data:e.requestDataName(qf.Main),field:e.vgField(f)}])}function Vh(a,b){const {op:e,field:f,order:g}=a;return Object.assign({},
{op:null!=e?e:b?"sum":"min"},f?{field:ab(f)}:{},g?{order:g}:{})}function cm(a,b,e){if(Td(e)){var f=a.fieldDef(b);e=f.sort;if(oe(e))return{op:"min",field:Ri(f,b),order:"ascending"};({stack:f}=a);var g=f?new Set([...f.groupbyFields,...f.stackBy.map(n=>n.fieldDef.field)]):void 0;if(se(e))return a=f&&!g.has(e.field),Vh(e,a);if(null!=e&&e.encoding){const {encoding:n,order:B}=e;a=a.fieldDef(n);const {aggregate:O,field:Z}=a;b=f&&!g.has(Z);if(ma(O)||ya(O))return Vh({field:Sc(a),order:B},b);if(Ma(O)||!O)return Vh({op:O,
field:Z,order:B},b)}else{if("descending"===e)return{op:"min",field:a.vgField(b),order:"descending"};if(zb(["ascending",void 0],e))return!0}}}function ig(a,b){const {aggregate:e,type:f}=a;return e?h.isString(e)&&!Yk.has(e)?{valid:!1,reason:`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}:"quantitative"===f&&"log"===b?{valid:!1,reason:`Unaggregated domain is currently unsupported for log scale (${l(a)}).`}:{valid:!0}:{valid:!1,reason:`Using unaggregated domain with raw field has no effect (${l(a)}).`}}
function Gk(a,b,e,f){if(a.explicit&&b.explicit){var g=b.value;e=`Conflicting ${f.toString()} property "${e.toString()}" (${l(a.value)} and ${l(g)}). Using the union of the two domains.`;J(e)}return{explicit:a.explicit,value:[...a.value,...b.value]}}function Hk(a){var b=Za(a.map(g=>wc(g)?(g=Object.assign({},g),delete g.sort,g):g),Xb),e=Za(a.map(g=>{if(wc(g))return g=g.sort,void 0===g||ec(g)||("op"in g&&"count"===g.op&&delete g.field,"ascending"===g.order&&delete g.order),g}).filter(g=>void 0!==g),
Xb);if(0!==b.length){if(1===b.length){b=a[0];if(wc(b)&&0<e.length){var f=e[0];1<e.length?(J("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),f=e.filter(g=>h.isObject(g)&&"op"in g&&"min"!==g.op),f=e.every(g=>h.isObject(g)&&"op"in g)&&1===f.length?f[0]:!0):h.isObject(f)&&"field"in f&&b.field===f.field&&(f=f.order?{order:f.order}:!0);return Object.assign({},b,{sort:f})}return b}e=Za(e.map(g=>{if(ec(g)||!("op"in g)||h.isString(g.op)&&g.op in Ul)return g;J(`Dropping sort property ${l(g)} as unioned domains only support boolean or op "count", "min", and "max".`);
return!0}),Xb);1===e.length?f=e[0]:1<e.length&&(J("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),f=!0);e=Za(a.map(g=>wc(g)?g.data:null),g=>g);return 1===e.length&&null!==e[0]?Object.assign({},{data:e[0],fields:b.map(g=>g.field)},f?{sort:f}:{}):Object.assign({},{fields:b},f?{sort:f}:{})}}function dk(a){if(wc(a)&&h.isString(a.field))return a.field;var b=h.isArray(a)?!1:"fields"in a&&!("data"in a);if(b){let e;for(const f of a.fields)if(wc(f)&&h.isString(f.field))if(!e)e=
f.field;else if(e!==f.field)return J("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),e;J("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");return e}b=h.isArray(a)?!1:
"fields"in a&&"data"in a;if(b)return J("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),a=a.fields[0],h.isString(a)?a:void 0}function Ui(a,b){b=a.component.scales[b].get("domains").map(e=>{wc(e)&&(e.data=a.lookupDataSource(e.data));return e});return Hk(b)}function nl(a){return Ti(a)||Tk(a)?a.children.reduce((b,e)=>b.concat(nl(e)),Ik(a)):Ik(a)}function Ik(a){return vd(a.component.scales).reduce((b,
e)=>{var f=a.component.scales[e];if(f.merged)return b;var g=f.combine(),n=Object.assign({},g);const B=g.name,O=g.type;var Z=g.selectionExtent;const wa=g.reverse;n=(delete n.name,delete n.type,delete n.selectionExtent,delete n.domains,delete n.range,delete n.reverse,n);g=g.range;F(e)?Qb(g)&&(g={step:{signal:`${B}_step`}}):h.isObject(g)&&wc(g)&&(g=Object.assign({},g,{data:a.lookupDataSource(g.data)}));e=Ui(a,e);Z?(Z=ej(a,Z.param,Z),f={signal:Md(f.get("type"))&&h.isArray(e)&&e[0]>e[1]?`isValid(${Z}) && reverse(${Z})`:
Z}):f=null;b.push(Object.assign({},{name:B,type:O},e?{domain:e}:{},f?{domainRaw:f}:{},{range:g},void 0!==wa?{reverse:wa}:{},n));return b},[])}function Ij(a,b){var e=a.fieldDef(b);if(null==e?0:e.bin){const {bin:f,field:g}=e;e=G(b);const n=a.getName(e);if(h.isObject(f)&&f.binned&&void 0!==f.step)return new ge(()=>{var B=a.scaleName(b);B=`(domain("${B}")[1] - domain("${B}")[0]) / ${f.step}`;return`${a.getSignalName(n)} / (${B})`});if(sb(f)){const B=ye(a,g,f);return new ge(()=>{var O=a.getSignalName(B);
O=`(${O}.stop - ${O}.start) / ${O}.step`;return`${a.getSignalName(n)} / (${O})`})}}}function Yh(a,b){const e=b.specifiedScales[a];var {size:f}=b,g=b.getScaleComponent(a).get("type");for(var n of jf)if(void 0!==e[n]){const Z=Kd(g,n),wa=ae(a,n);if(Z)if(wa)J(wa);else switch(n){case "range":g=e.range;if(h.isArray(g)){if(F(a))return Jg(g.map(bb=>{if("width"===bb||"height"===bb){bb=b.getName(bb);const nb=b.getSignalName.bind(b);return ge.fromName(nb,bb)}return bb}))}else if(h.isObject(g))return Jg({data:b.requestDataName(qf.Main),
field:g.field,sort:{op:"min",field:b.vgField(a)}});return Jg(g);case "scheme":return Jg(Nh(e[n]))}else J(Gd(g,n,a))}n="x"===a||"xOffset"===a?"width":"height";f=f[n];if(Je(f))if(F(a))if(Td(g)){if(f=Jj(f,b,a))return Jg({step:f})}else J(ud(n));else if(a in Wi&&"band"===b.getScaleComponent("xOffset"===a?"x":"y").get("type")&&(f=Tj(f,g)))return Jg(f);const {rangeMin:B,rangeMax:O}=e;a=Ll(a,b);return(void 0!==B||void 0!==O)&&Kd(g,"rangeMin")&&h.isArray(a)&&2===a.length?Jg([null!=B?B:a[0],null!=O?O:a[1]]):
Ve(a)}function Nh(a){return!h.isString(a)&&a.name?Object.assign({},{scheme:a.name},bc(a,["name"])):{scheme:a}}function kl(a,b,e){let {center:f}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};var g=G(a);g=b.getName(g);const n=b.getSignalName.bind(b);return"y"===a&&Md(e)?f?[ge.fromName(B=>`${n(B)}/2`,g),ge.fromName(B=>`-${n(B)}/2`,g)]:[ge.fromName(n,g),0]:f?[ge.fromName(B=>`-${n(B)}/2`,g),ge.fromName(B=>`${n(B)}/2`,g)]:[0,ge.fromName(n,g)]}function Ll(a,b){const {size:e,config:f,mark:g,encoding:n}=
b;var {type:B}=Rd(n[a]);const O=b.getScaleComponent(a).get("type"),{domain:Z,domainMid:wa}=b.specifiedScales[a];switch(a){case "x":case "y":return zb(["point","band"],O)&&(B=Zj(a,e,f.view),Je(B))?{step:Jj(B,b,a)}:kl(a,b,O);case "xOffset":case "yOffset":return wf(a,b,O);case "size":B=b.component.scales[a].get("zero");B=ki(g,B,f);const bb=Di(g,e,b,f);return ai.has(O)?Ci(B,bb,ak(O,f,Z,a)):[B,bb];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,new ge(()=>{const nb=b.getSignalName("width"),
hc=b.getSignalName("height");return`min(${nb},${hc})/2`})];case "strokeWidth":return[f.scale.minStrokeWidth,f.scale.maxStrokeWidth];case "strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===O?"nominal"===B?"category":"ordinal":void 0!==wa?"diverging":"rect"===g||"geoshape"===g?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[f.scale.minOpacity,f.scale.maxOpacity]}}function Jj(a,b,e){var {encoding:f}=
b,g=b.getScaleComponent(e);e=z(e);const n=f[e];if("offset"===sf({step:a,offsetIsDiscrete:zc(n)&&Oc(n.type)})&&eg(f,e)){f=b.getScaleComponent(e);b=`domain('${b.scaleName(e)}').length`;if("band"===f.get("type")){var B;let wa;e=null!=(wa=null!=(B=f.get("paddingInner"))?B:f.get("padding"))?wa:0;var O;let bb;B=null!=(bb=null!=(O=f.get("paddingOuter"))?O:f.get("padding"))?bb:0;b=`bandspace(${b}, ${e}, ${B})`}var Z;O=null!=(Z=g.get("paddingInner"))?Z:g.get("padding");a=a.step;g=b;Z=O;Z=Mb(Z)?Z.signal:h.stringValue(Z);
return{signal:`${a} * ${g} / (1-${Z})`}}return a.step}function Tj(a,b){if("offset"===sf({step:a,offsetIsDiscrete:Td(b)}))return{step:a.step}}function wf(a,b,e){var f="xOffset"===a?"x":"y",g=b.getScaleComponent(f);if(!g)return kl(f,b,e,{center:!0});g=g.get("type");const n=b.scaleName(f),{markDef:B,config:O}=b;if("band"===g)return b=Zj(f,b.size,b.config.view),Je(b)&&(b=Tj(b,e))?b:[0,{signal:`bandwidth('${n}')`}];e=b.encoding[f];return ua(e)&&e.timeUnit?(a=le(e.timeUnit,Z=>`scale('${n}', ${Z})`),b=b.config.scale.bandWithNestedOffsetPaddingInner,
f=y({fieldDef:e,markDef:B,config:O})-.5,g=0!==f?` + ${f}`:"",b?(e=Mb(b)?`${b.signal}/2`+g:`${b/2+f}`,b=Mb(b)?`(1 - ${b.signal}/2)`+g:`${1-b/2+f}`,[{signal:`${e} * (${a})`},{signal:`${b} * (${a})`}]):[0,{signal:a}]):ub(`Cannot use ${a} scale if ${f} scale is not discrete.`)}function Zj(a,b,e){a="x"===a?"width":"height";return(b=b[a])?b:Qf(e,a)}function ak(a,b,e,f){switch(a){case "quantile":return b.scale.quantileCount;case "quantize":return b.scale.quantizeCount;case "threshold":if(void 0!==e&&h.isArray(e))return e.length+
1;J(`Domain for ${f} is required for threshold scale.`);return 3}}function Ci(a,b,e){const f=()=>{const g=Gb(b),n=Gb(a),B=`(${g} - ${n}) / (${e} - 1)`;return`sequence(${n}, ${g} + ${B}, ${B})`};return Mb(b)?new ge(f):{signal:f()}}function ki(a,b,e){if(b)return Mb(b)?{signal:`${b.signal} ? 0 : ${ki(a,!1,e)}`}:0;switch(a){case "bar":case "tick":return e.scale.minBandSize;case "line":case "trail":case "rule":return e.scale.minStrokeWidth;case "text":return e.scale.minFontSize;case "point":case "square":case "circle":return e.scale.minSize}throw Error(gd("size",
a));}function Di(a,b,e,f){e={x:Ij(e,"x"),y:Ij(e,"y")};switch(a){case "bar":case "tick":if(void 0!==f.scale.maxBandSize)return f.scale.maxBandSize;const g=kj(b,e,f.view);return h.isNumber(g)?g-1:new ge(()=>`${g.signal} - 1`);case "line":case "trail":case "rule":return f.scale.maxStrokeWidth;case "text":return f.scale.maxFontSize;case "point":case "square":case "circle":if(f.scale.maxSize)return f.scale.maxSize;const n=kj(b,e,f.view);return h.isNumber(n)?Math.pow(.95*n,2):new ge(()=>`pow(${.95} * ${n.signal}, 2)`)}throw Error(gd("size",
a));}function kj(a,b,e){const f=Je(a.width)?a.width.step:Zf(e,"width"),g=Je(a.height)?a.height.step:Zf(e,"height");return b.x||b.y?new ge(()=>`min(${[b.x?b.x.signal:f,b.y?b.y.signal:g].join(", ")})`):Math.min(f,g)}function lj(a,b){if(Nf(a)){const B=a.component.scales,{config:O,encoding:Z,markDef:wa,specifiedScales:bb}=a;for(const nb of vd(B)){var e=bb[nb];const hc=B[nb];var f=a.getScaleComponent(nb),g=Rd(Z[nb]),n=e[b];const Nc=f.get("type"),lc=f.get("padding");f=f.get("paddingInner");const Lc=Kd(Nc,
b),bd=ae(nb,b);void 0!==n&&(Lc?bd&&J(bd):J(Gd(Nc,b,nb)));if(Lc&&void 0===bd)if(void 0!==n)switch(n=g.timeUnit,g=g.type,b){case "domainMax":case "domainMin":Ka(e[b])||"temporal"===g||n?hc.set(b,{signal:Pe(e[b],{type:g,timeUnit:n})},!0):hc.set(b,e[b],!0);break;default:hc.copyKeyFromObject(b,e)}else e=b in pi?pi[b]({model:a,channel:nb,fieldOrDatumDef:g,scaleType:Nc,scalePadding:lc,scalePaddingInner:f,domain:e.domain,domainMin:e.domainMin,domainMax:e.domainMax,markDef:wa,config:O,hasNestedOffsetScale:fg(Z,
nb),hasSecondaryRangeChannel:!!Z[W(nb)]}):O.scale[b],void 0!==e&&hc.set(b,e,!1)}}else ml(a,b)}function li(a){if(Nf(a)){const b=a.component.scales;for(const e of Bk){const f=b[e];if(!f)continue;const g=Yh(e,a);f.setWithExplicit("range",g)}}else ml(a,"range")}function ml(a,b){const e=a.component.scales;for(var f of a.children)"range"===b?li(f):lj(f,b);for(const g of vd(e)){let n;for(const B of a.children)if(f=B.component.scales[g])f=f.getWithExplicit(b),n=zf(n,f,b,"scale",Ih((O,Z)=>{switch(b){case "range":if(O.step&&
Z.step)return O.step-Z.step}return 0}));e[g].setWithExplicit(b,n)}}function mj(a,b){const e=b.bin;if(sb(e)){const f=ye(a,b.field,e);return new ge(()=>a.getSignalName(f))}if(ib(e)&&h.isObject(e)&&void 0!==e.step)return{step:e.step}}function bk(a,b,e,f,g){let n=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===a){if(F(b)){const {bandPaddingInner:B,barBandPaddingInner:O,rectBandPaddingInner:Z,bandWithNestedOffsetPaddingInner:wa}=g;return n?wa:U(B,"bar"===e?O:Z)}if(b in Wi&&f===jg.BAND)return g.offsetBandPaddingInner}}
function ck(a,b,e,f,g){let n=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===a)if(F(b)){const {bandPaddingOuter:B,bandWithNestedOffsetPaddingOuter:O}=g;if(n)return O;if(e===jg.BAND)return U(B,Mb(f)?{signal:`${f.signal}/2`}:f/2)}else if(b in Wi){if(e===jg.POINT)return.5;if(e===jg.BAND)return g.offsetBandPaddingOuter}}function Ei(a,b,e,f){const g=Jk(b,e,f,4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1),{type:n}=a;if(!Mh[b])return null;if(void 0!==n){if(!Ca(b,n))return J(`Channel "${b}" does not work with "${n}" scale. We are using "${g}" scale instead.`),
g;var B;if(B=ua(e))B=e.type,B=!(zb(["ordinal","nominal"],B)?void 0===n||Td(n):"temporal"===B?zb([jg.TIME,jg.UTC,void 0],n):"quantitative"===B?ni.has(n)||ai.has(n)||void 0===n:1);return B?(J(`FieldDef does not work with "${n}" scale. We are using "${g}" scale instead.`),g):n}return g}function Jk(a,b,e,f){switch(b.type){case "nominal":case "ordinal":if(K(a)||"discrete"===N(a))return"shape"===a&&"ordinal"===b.type&&J(Fd(a,"ordinal")),"ordinal";if(F(a)||a in Wi){if(zb(["rect","bar","image","rule"],e.type)||
f)return"band"}else if("arc"===e.type&&a in ik)return"band";a=e[G(a)];if(sc(a))return"band";let g;return ad(b)&&(null==(g=b.axis)?0:g.tickBand)?"band":"point";case "temporal":if(!K(a)){if("discrete"===N(a))return J(Fd(a,"temporal")),"ordinal";if(ua(b)&&b.timeUnit&&pd(b.timeUnit).utc)return"utc"}return"time";case "quantitative":if(K(a)){if(ua(b)&&sb(b.bin))return"bin-ordinal"}else if("discrete"===N(a))return J(Fd(a,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error(`Invalid field type "${b.type}".`);
}function ek(a){let {ignoreRange:b}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};gj(a);Nf(a)?df(a):Vf(a);for(const e of lk)lj(a,e);b||li(a)}function gj(a){if(Nf(a)){var b=a.component;const {encoding:Z,mark:wa,markDef:bb}=a;var e={};for(var f of Bk){var g=Rd(Z[f]);if(!g||wa!==qi||"shape"!==f||"geojson"!==g.type){var n=g&&g.scale;if(g&&null!==n&&!1!==n){null!=n||(n={});var B=fg(Z,f);g=Ei(n,f,g,bb,B);e[f]=new xg(a.scaleName(`${f}`,!0),{value:g,explicit:n.type===g})}}}b.scales=e}else{f=a.component;
n=a.component.scales={};g={};const Z=a.component.resolve;for(B of a.children){gj(B);for(var O of vd(B.component.scales)){let wa,bb;null!=(wa=Z.scale)[bb=O]||(wa[bb]=ii(O,a));if("shared"===Z.scale[O]){const nb=g[O],hc=B.component.scales[O].getWithExplicit("type");if(nb){const Nc=Dg[nb.value],lc=Dg[hc.value];Nc===lc||"ordinal-position"===Nc&&"time"===lc||"ordinal-position"===lc&&"time"===Nc?g[O]=zf(nb,hc,"type","scale",Wl):(Z.scale[O]="independent",delete g[O])}else g[O]=hc}}}for(b of vd(g)){B=a.scaleName(b,
!0);n[b]=new xg(B,g[b]);for(e of a.children)if(O=e.component.scales[b])e.renameScale(O.get("name"),B),O.merged=!0}f.scales=n}}function Nf(a){return"unit"===(null==a?void 0:a.type)}function gh(a){return"facet"===(null==a?void 0:a.type)}function Tk(a){return"concat"===(null==a?void 0:a.type)}function Ti(a){return"layer"===(null==a?void 0:a.type)}function yk(a){function b(f,g){f instanceof fa&&!(f.isGenerator||"url"in f.data)&&(a.push(g),g={name:null,source:g.name,transform:[]});if(f instanceof d)if(f.parent instanceof
fa&&!g.source){var n;g.format=Object.assign({},null!=(n=g.format)?n:{},{parse:f.assembleFormatParse()});g.transform.push(...f.assembleTransforms(!0))}else g.transform.push(...f.assembleTransforms());if(f instanceof c)g.name||(g.name=`data_${e++}`),!g.source||0<g.transform.length?(a.push(g),f.data=g.name):f.data=g.source,a.push(...f.assemble());else switch((f instanceof u||f instanceof S||f instanceof Gl||f instanceof wi||f instanceof Ni||f instanceof Hl||f instanceof yh||f instanceof Il||f instanceof
ve||f instanceof ee||f instanceof mm||f instanceof nm||f instanceof om||f instanceof pm||f instanceof qm||f instanceof rm||f instanceof k||f instanceof sm||f instanceof tm||f instanceof um)&&g.transform.push(f.assemble()),(f instanceof Bi||f instanceof wh||f instanceof Ek||f instanceof pe||f instanceof jl)&&g.transform.push(...f.assemble()),f instanceof Rg&&(g.source&&0===g.transform.length?f.setSource(g.source):f.parent instanceof Rg?f.setSource(g.name):(g.name||(g.name=`data_${e++}`),f.setSource(g.name),
1===f.numChildren()&&(a.push(g),g={name:null,source:g.name,transform:[]}))),f.numChildren()){case 0:f instanceof Rg&&(!g.source||0<g.transform.length)&&a.push(g);break;case 1:b(f.children[0],g);break;default:g.name||(g.name=`data_${e++}`);n=g.name;!g.source||0<g.transform.length?a.push(g):n=g.source;for(const B of f.children)b(B,{name:null,source:n,transform:[]})}}let e=0;return b}function Xj(a){const b=[],e=yk(b);for(const f of a.children)e(f,{source:a.name,name:null,transform:[]});return b}function zk(a,
b){const e=[];var f=yk(e);let g=0;for(const n of a.sources){n.hasName()||(n.dataName=`source_${g++}`);const B=n.assemble();f(n,B)}for(const n of e)0===n.transform.length&&delete n.transform;f=0;for(const n of e.entries()){const [B,O]=n;let Z;0!==(null!=(Z=O.transform)?Z:[]).length||O.source||e.splice(f++,0,e.splice(B,1)[0])}for(const n of e){let B;for(const O of null!=(B=n.transform)?B:[])"lookup"===O.type&&(O.from=a.outputNodes[O.from].getSource())}for(const n of e)n.name in b&&(n.values=b[n.name]);
return e}function Qk(a,b,e){b="row"===b?"height":"width";return{labels:e,sizeSignal:a.child.component.layoutSize.get(b)?a.child.getSizeSignalRef(b):void 0,axes:[]}}function Bl(a,b){var {child:e}=a;if(e.component.axes[b]){const {layoutHeaders:f,resolve:g}=a.component;g.axis[b]=m(g,b);if("shared"===g.axis[b]){const n="x"===b?"column":"row",B=f[n];for(const O of e.component.axes[b]){b=O.get("orient");b="top"===b||"left"===b||Mb(b)?"header":"footer";let Z,wa;null!=(Z=B)[wa=b]||(Z[wa]=[Qk(a,n,!1)]);(e=
fh(O,"main",a.config,{header:!0}))&&B[b][0].axes.push(e);O.mainExtracted=!0}}}}function Rk(a){for(const b of a.children)b.parseLayoutSize()}function Ak(a,b){const e=Xi(b),f=V(e),g=a.component.resolve,n=a.component.layoutSize;let B;for(const O of a.children){const Z=O.component.layoutSize.getWithExplicit(e);let wa;const bb=null!=(wa=g.scale[f])?wa:ii(f,a);if("independent"===bb&&"step"===Z.value){B=void 0;break}if(B){if("independent"===bb&&B.value!==Z.value){B=void 0;break}B=zf(B,Z,e,"")}else B=Z}if(B){for(const O of a.children)a.renameSignal(O.getName(e),
a.getName(b)),O.component.layoutSize.set(e,"merged",!1);n.setWithExplicit(b,B)}else n.setWithExplicit(b,{explicit:!1,value:void 0})}function Pk(a,b){const e=a.config;var f=a.getScaleComponent("width"===b?"x":"y");if(f)return a=f.get("type"),f=f.get("range"),Td(a)?(b=Qf(e.view,b),Qb(f)||Je(b)?"step":b):tf(e.view,b);if(a.hasProjection||"arc"===a.mark)return tf(e.view,b);b=Qf(e.view,b);return Je(b)?b.step:b}function dl(a,b,e){return Sc(b,Object.assign({},{suffix:`by_${Sc(a)}`},null!=e?e:{}))}function pl(a,
b){for(const f of b){b=f.data;if(a.name&&f.hasName()&&a.name!==f.dataName)continue;let g;const n=null==(g=a.format)?void 0:g.mesh;let B;var e=null==(B=b.format)?void 0:B.feature;if(n&&e)continue;let O;const Z=null==(O=a.format)?void 0:O.feature;if((Z||e)&&Z!==e)continue;let wa;e=null==(wa=b.format)?void 0:wa.mesh;if(!n&&!e||n===e)if("values"in a&&"values"in b){if(qa(a.values,b.values))return f}else if("url"in a&&"url"in b){if(a.url===b.url)return f}else if(Mi(a)&&a.name===f.dataName)return f}return null}
function dm(a,b){if(a.data||!a.parent){if(null===a.data)return a=new fa({values:[]}),b.push(a),a;const e=pl(a.data,b);if(e)return sg(a.data)||(e.data.format=Ea({},a.data.format,e.data.format)),!e.hasName()&&a.data.name&&(e.dataName=a.data.name),e;a=new fa(a.data);b.push(a);return a}return a.parent.component.data.facetRoot?a.parent.component.data.facetRoot:a.parent.component.data.main}function jk(a){var b=dm(a,a.component.data.sources);const {outputNodes:e,outputNodeRefCounts:f}=a.component.data;var g=
a.data;const n=g&&(sg(g)||"url"in g||"values"in g)||!a.parent?new Rj:a.parent.component.data.ancestorParse.clone();if(sg(g))"sequence"in g?b=new S(b,g.sequence):"graticule"in g&&(b=new u(b,g.graticule)),n.parseNothing=!0;else{let ce;null===(null==g?void 0:null==(ce=g.format)?void 0:ce.parse)&&(n.parseNothing=!0)}var B;b=null!=(B=d.makeExplicit(b,a,n))?B:b;b=new k(b);g=a.parent&&Ti(a.parent);if((Nf(a)||gh(a))&&g){var O;b=null!=(O=Bi.makeFromEncoding(b,a))?O:b}if(0<a.transforms.length){O=0;for(var Z of a.transforms){var wa=
B=void 0;if("calculate"in Z)wa=b=new Ni(b,Z),B="derived";else if("filter"in Z){wa=vg(Z);var bb=void 0;wa=b=null!=(bb=d.makeWithAncestors(b,{},wa,n))?bb:b;b=new wi(b,a,Z.filter)}else if("bin"in Z)wa=b=Bi.makeFromTransform(b,Z,a),B="number";else if("timeUnit"in Z)B="date",void 0===n.getWithExplicit(Z.field).value&&(b=new d(b,{[Z.field]:B}),n.set(Z.field,B,!1)),wa=b=wh.makeFromTransform(b,Z);else if("aggregate"in Z)wa=b=yh.makeFromTransform(b,Z),B="number",Cf(a)&&(b=new k(b));else if("lookup"in Z)wa=
b=Il.make(b,a,Z,O++),B="derived";else if("window"in Z)wa=b=new ve(b,Z),B="number";else if("joinaggregate"in Z)wa=b=new ee(b,Z),B="number";else if("stack"in Z)wa=b=pe.makeFromTransform(b,Z),B="derived";else if("fold"in Z)wa=b=new mm(b,Z),B="derived";else if("extent"in Z&&!("density"in Z))wa=b=new um(b,Z),B="derived";else if("flatten"in Z)wa=b=new nm(b,Z),B="derived";else if("pivot"in Z)wa=b=new tm(b,Z),B="derived";else if("sample"in Z)b=new sm(b,Z);else if("impute"in Z)wa=b=Ek.makeFromTransform(b,
Z),B="derived";else if("density"in Z)wa=b=new om(b,Z),B="derived";else if("quantile"in Z)wa=b=new qm(b,Z),B="derived";else if("regression"in Z)wa=b=new rm(b,Z),B="derived";else if("loess"in Z)wa=b=new pm(b,Z),B="derived";else{J(`Ignoring an invalid transform: ${l(Z)}.`);continue}if(wa&&void 0!==B){let ce;for(const Ee of null!=(ce=wa.producedFields())?ce:[])n.set(Ee,B,!1)}}}Z={};if(Nf(a)&&a.component.selection)for(var nb of vd(a.component.selection)){bb=a.component.selection[nb];for(const ce of bb.project.items)!ce.channel&&
1<db(ce.field)&&(Z[ce.field]="flatten")}nb=wg(a);var hc;b=null!=(hc=d.makeWithAncestors(b,{},Object.assign({},Z,nb),n))?hc:b;Nf(a)&&(b=jl.parseAll(b,a),b=Hl.parseAll(b,a));if(Nf(a)||gh(a)){if(!g){let ce;b=null!=(ce=Bi.makeFromEncoding(b,a))?ce:b}var Nc;b=null!=(Nc=wh.makeFromEncoding(b,a))?Nc:b;b=Ni.parseAllForSortIndex(b,a)}Nc=a.getDataName(qf.Raw);hc=new Rg(b,Nc,qf.Raw,f);b=e[Nc]=hc;if(Nf(a)){if(Nc=yh.makeFromEncoding(b,a))b=Nc,Cf(a)&&(b=new k(b));var lc;b=null!=(lc=Ek.makeFromEncoding(b,a))?lc:
b;var Lc;b=null!=(Lc=pe.makeFromEncoding(b,a))?Lc:b}if(Nf(a)){let ce;b=null!=(ce=Gl.make(b,a))?ce:b}Lc=a.getDataName(qf.Main);lc=new Rg(b,Lc,qf.Main,f);b=e[Lc]=lc;if(Nf(a)){var bd;for(var ed of Gi(null!=(bd=a.component.selection)?bd:{})){const [ce,Ee]=ed;bd=a.getName(`lookup_${ce}`);a.component.data.outputNodes[bd]=Ee.materialized=new Rg(new wi(lc,a,{param:ce}),bd,qf.Lookup,a.component.data.outputNodeRefCounts)}}bd=null;if(gh(a)){ed=a.getName("facet");let ce;{bd=b;const {row:Ee,column:Qe}=a.facet;
if(Ee&&Qe){Lc=null;for(ke of[Ee,Qe])if(se(ke.sort)){const {field:Lf,op:Uf="min"}=ke.sort;bd=Lc=new ee(bd,{joinaggregate:[{op:Uf,field:Lf,as:dl(ke,ke.sort,{forAs:!0})}],groupby:[Sc(ke)]})}var ke=Lc}else ke=null}b=null!=(ce=ke)?ce:b;bd=new c(b,a,ed,lc.getSource());e[ed]=bd}return Object.assign({},a.component.data,{outputNodes:e,outputNodeRefCounts:f,raw:hc,main:lc,facetRoot:bd,ancestorParse:n})}function em(a,b,e){const {encoding:f,config:g}=a;let n;const B=null!=(n=Rd(f[b]))?n:Rd(f[W(b)]);a=a.axis(b)||
{};const {format:O,formatType:Z}=a;if(ne(Z))return Object.assign({},{text:qe({fieldOrDatumDef:B,field:"datum.value",format:O,formatType:Z,config:g})},e);if(void 0===O&&void 0===Z&&g.customFormatTypes){if("quantitative"===Bb(B)){if(ad(B)&&"normalize"===B.stack&&g.normalizedNumberFormatType)return Object.assign({},{text:qe({fieldOrDatumDef:B,field:"datum.value",format:g.normalizedNumberFormat,formatType:g.normalizedNumberFormatType,config:g})},e);if(g.numberFormatType)return Object.assign({},{text:qe({fieldOrDatumDef:B,
field:"datum.value",format:g.numberFormat,formatType:g.numberFormatType,config:g})},e)}if("temporal"===Bb(B)&&g.timeFormatType&&ua(B)&&!B.timeUnit)return Object.assign({},{text:qe({fieldOrDatumDef:B,field:"datum.value",format:g.timeFormat,formatType:g.timeFormatType,config:g})},e)}return e}function rl(a){return Ph.reduce((b,e)=>{a.component.scales[e]&&(b[e]=[hm(e,a)]);return b},{})}function fm(a,b){if(a){if(a.length!==b.length)return;const e=a.length;for(let f=0;f<e;f++){const g=a[f],n=b[f];if(!!g!==
!!n)return;if(g&&n){const B=g.getWithExplicit("orient"),O=n.getWithExplicit("orient");if(B.explicit&&O.explicit&&B.value!==O.value)return;a[f]=gm(g,n)}}}else return b.map(e=>e.clone());return a}function gm(a,b){for(const e of Am){const f=zf(a.getWithExplicit(e),b.getWithExplicit(e),e,"axis",(g,n)=>{switch(e){case "title":return fb(g,n);case "gridScale":return{explicit:g.explicit,value:U(g.value,n.value)}}return Ng(g,n,e,"axis")});a.setWithExplicit(e,f)}return a}function Ol(a,b,e,f,g){if("disable"===
b)return void 0!==e;e=e||{};switch(b){case "titleAngle":case "labelAngle":return a===(Mb(e.labelAngle)?e.labelAngle:La(e.labelAngle));case "values":return!!e.values;case "encode":return!!e.encoding||!!e.labelAngle;case "title":if(a===fj(f,g))return!0}return a===e[b]}function hm(a,b){let e=b.axis(a);const f=new Bm;var g=Rd(b.encoding[a]);const {mark:n,config:B}=b;var O,Z,wa,bb=(null==(O=e)?void 0:O.orient)||(null==(Z=B["x"===a?"axisX":"axisY"])?void 0:Z.orient)||(null==(wa=B.axis)?void 0:wa.orient)||
("x"===a?"bottom":"left");Z=b.getScaleComponent(a).get("type");O=cl(a,Z,bb,b.config);var nb;wa=void 0!==e?!e:zi("disable",B.style,null==(nb=e)?void 0:nb.style,O).configValue;f.set("disable",wa,void 0!==e);if(wa)return f;e=e||{};nb=Vj(g,e,a,B.style,O);wa=pf(e.formatType,g,Z);const hc=hf(g,g.type,e.format,e.formatType,B,!0);g={fieldOrDatumDef:g,axis:e,channel:a,model:b,scaleType:Z,orient:bb,labelAngle:nb,format:hc,formatType:wa,mark:n,config:B};for(const Lc of Am)if(bb=Lc in tk?tk[Lc](g):pg[Lc]?e[Lc]:
void 0,Z=void 0!==bb,nb=Ol(bb,Lc,e,b,a),Z&&nb)f.set(Lc,bb,nb);else{const {configValue:bd,configFrom:ed}=pg[Lc]&&"values"!==Lc?zi(Lc,B.style,e.style,O):{};wa=void 0!==bd;Z&&!wa?f.set(Lc,bb,nb):("vgAxisConfig"!==ed||Im.has(Lc)&&wa||Xf(bd)||Mb(bd))&&f.set(Lc,bd,!1)}var Nc;const lc=null!=(Nc=e.encoding)?Nc:{};Nc=nk.reduce((Lc,bd)=>{if(!f.hasAxisPart(bd))return Lc;var ed;const ke=ji(null!=(ed=lc[bd])?ed:{},b);ed="labels"===bd?em(b,a,ke):ke;void 0===ed||gb(ed)||(Lc[bd]={update:ed});return Lc},{});gb(Nc)||
f.set("encode",Nc,!!e.encoding||void 0!==e.labelAngle);return f}function Rl(a){let {encoding:b,size:e}=a;for(const f of Ph)a=G(f),Je(e[a])&&Wb(b[f])&&(delete e[a],J(ud(a)));return e}function el(a,b){var e=Object,f=e.assign,g=Bf(a,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),n=ue("x",a,{defaultPos:"mid"}),B=ue("y",a,{defaultPos:"mid"}),O=cd("size",a),Z=cd("angle",a);a=b?{shape:{value:b}}:cd("shape",a);return f.call(e,{},g,n,B,O,Z,a)}function ql(a){if(zb([Sg,
bi,ul],a.mark)){var b=ch(a.mark,a.encoding);if(0<b.length)return im(a,b)}else if(a.mark===Bh&&(b=Ck.some(e=>Zb(e,a.markDef,a.config)),a.stack&&!a.fieldDef("size")&&b))return Sl(a);return Sk(a)}function im(a,b){return[{name:a.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+a.requestDataName(qf.Main),data:a.requestDataName(qf.Main),groupby:b}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:Sk(a,{fromPrefix:"faceted_path_"})}]}function Sl(a){const [b]=
Sk(a,{fromPrefix:"stack_group_"}),e=a.scaleName(a.stack.fieldChannel),f=function(){return a.vgField(a.stack.fieldChannel,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})};var g=(wa,bb)=>{bb=[f({prefix:"min",suffix:"start",expr:bb}),f({prefix:"max",suffix:"start",expr:bb}),f({prefix:"min",suffix:"end",expr:bb}),f({prefix:"max",suffix:"end",expr:bb})];return`${wa}(${bb.map(nb=>`scale('${e}',${nb})`).join(",")})`};let n;"x"===a.stack.fieldChannel?(g=Object.assign({},Yb(b.encode.update,["y",
"yc","y2","height",...Ck]),{x:{signal:g("min","datum")},x2:{signal:g("max","datum")},clip:{value:!0}}),n={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},b.encode.update=Object.assign({},bc(b.encode.update,["y","yc","y2"]),{height:{field:{group:"height"}}})):(g=Object.assign({},Yb(b.encode.update,["x","xc","x2","width"]),{y:{signal:g("min","datum")},y2:{signal:g("max","datum")},clip:{value:!0}}),n={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},b.encode.update=Object.assign({},
bc(b.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}}));for(var B of Ck){var O=jc(B,a.markDef,a.config);b.encode.update[B]?(g[B]=b.encode.update[B],delete b.encode.update[B]):O&&(g[B]=Ta(O));O&&(b.encode.update[B]={value:0})}B=[];var Z;if(0<(null==(Z=a.stack.groupbyChannels)?void 0:Z.length))for(const wa of a.stack.groupbyChannels){Z=a.fieldDef(wa);(O=Sc(Z))&&B.push(O);let bb,nb;((null==(bb=Z)?0:bb.bin)||(null==(nb=Z)?0:nb.timeUnit))&&B.push(Sc(Z,{binSuffix:"end"}))}g="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((wa,
bb)=>{if(b.encode.update[bb])return Object.assign({},wa,{[bb]:b.encode.update[bb]});const nb=jc(bb,a.markDef,a.config);return void 0!==nb?Object.assign({},wa,{[bb]:Ta(nb)}):wa},g);g.stroke&&(g.strokeForeground={value:!0},g.strokeOffset={value:0});return[{type:"group",from:{facet:{data:a.requestDataName(qf.Main),name:"stack_group_"+a.requestDataName(qf.Main),groupby:B,aggregate:{fields:[f({suffix:"start"}),f({suffix:"start"}),f({suffix:"end"}),f({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:g},
marks:[{type:"group",encode:{update:n},marks:[b]}]}]}function jm(a){const {encoding:b,stack:e,mark:f,markDef:g,config:n}=a;var B=b.order;if(!(!h.isArray(B)&&Jc(B)&&oc(B.value)||!B&&oc(Zb("order",g,n)))){if((h.isArray(B)||ua(B))&&!e)return Vc(B,{expr:"datum"});if(Qa(f)){const O="horizontal"===g.orient?"y":"x",Z=b[O];if(ua(Z)){B=Z.sort;if(h.isArray(B))return{field:Sc(Z,{prefix:O,suffix:"sort_index",expr:"datum"})};if(se(B))return{field:Sc({aggregate:Of(a.encoding)?B.op:void 0,field:B.field},{expr:"datum"})};
if(null!=B&&B.encoding)return a=a.fieldDef(B.encoding),{field:Sc(a,{expr:"datum"}),order:B.order};if(null!==B){let wa;return{field:Sc(Z,{binSuffix:(null==(wa=a.stack)?0:wa.impute)?"mid":void 0,expr:"datum"})}}}}}}function Sk(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""};const {mark:e,markDef:f,encoding:g,config:n}=a;var B=f.clip;var O=a.getScaleComponent("x");var Z=a.getScaleComponent("y");O=(null==O?0:O.get("selectionExtent"))||(null==Z?0:Z.get("selectionExtent"))?
!0:void 0;Z=a.component.projection;B=U(B,O,Z&&!Z.isFit?!0:void 0);O=Nb(f);Z=g.key;const wa=jm(a);var bb;if(a.component.selection){for(var nb=bb=vd(a.component.selection).length,hc=a.parent;hc&&0===nb;)nb=vd(hc.component.selection).length,hc=hc.parent;bb=nb?{interactive:0<bb||"geoshape"===a.mark||!!a.encoding.tooltip}:null}else bb=null;nb=Zb("aria",f,n);hc=Jl[e].postEncodingTransform?Jl[e].postEncodingTransform(a):null;return[Object.assign({},{name:a.getName("marks"),type:Jl[e].vgMark},B?{clip:!0}:
{},O?{style:O}:{},Z?{key:Z.field}:{},wa?{sort:wa}:{},bb?bb:{},!1===nb?{aria:nb}:{},{from:{data:b.fromPrefix+a.requestDataName(qf.Main)},encode:{update:Jl[e].encodeEntry(a)}},hc?{transform:hc}:{})]}function fl(a,b,e,f,g){if("facet"in a)return new Kl(a,b,e,g);if("layer"in a)return new Cm(a,b,e,f,g);if(rf(a))return new Dm(a,b,e,f,g);if("vconcat"in a||"hconcat"in a||"concat"in a)return new Jm(a,b,e,g);throw Error(za(a));}function Tl(a,b){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};
let f=3<arguments.length?arguments[3]:void 0;const g=a.config?jh(a.config):void 0;e=[].concat(a.assembleSelectionData([]),zk(a.component.data,e));const n=a.assembleProjections(),B=a.assembleTitle(),O=a.assembleGroupStyle(),Z=a.assembleGroupEncodeEntry(!0);let wa=a.assembleLayoutSignals();wa=wa.filter(hc=>"width"!==hc.name&&"height"!==hc.name||void 0===hc.value?!0:(b[hc.name]=+hc.value,!1));var bb=Object.assign({},b);const nb=b.params;bb=(delete bb.params,bb);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},
a.description?{description:a.description}:{},bb,B?{title:B}:{},O?{style:O}:{},Z?{encode:{update:Z}}:{},{data:e},0<n.length?{projections:n}:{},a.assembleGroup([...wa,...a.assembleSelectionTopLevelSignals([]),...ie(nb)]),g?{config:g}:{},f?{usermeta:f}:{})}const He=structuredClone;Set.prototype.toJSON=function(){return`Set(${[...this].map(a=>l(a)).join(",")})`};const vd=Object.keys,ng=Object.values,Gi=Object.entries;let Lk=42;const Kk=Object.getPrototypeOf(structuredClone({})),fk={theta:1,theta2:1,radius:1,
radius2:1},mi={longitude:1,longitude2:1,latitude:1,latitude2:1},Pl=vd(mi),Vi=Object.assign({},{x:1,y:1,x2:1,y2:1},fk,mi,{xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),nj={row:1,column:1,facet:1},qh=vd(nj),Ej=Object.assign({},Vi,nj),Cl=vd(Ej);var Yj=Object.assign({},Ej),Oh=(delete Yj.order,delete Yj.detail,delete Yj.tooltip,Yj),kk=Object.assign({},
Oh);const oj=(delete kk.row,delete kk.column,delete kk.facet,kk),Mk="x2 y2 latitude2 longitude2 theta2 radius2".split(" "),Kj=vd(Vi);var Mg=Object.assign({},Vi);const Fi=(delete Mg.x,delete Mg.y,delete Mg.x2,delete Mg.y2,delete Mg.xOffset,delete Mg.yOffset,delete Mg.latitude,delete Mg.longitude,delete Mg.latitude2,delete Mg.longitude2,delete Mg.theta,delete Mg.theta2,delete Mg.radius,delete Mg.radius2,Mg),Nk=vd(Fi),gk={x:1,y:1},Ph=vd(gk),ik={theta:1,radius:1},ol=vd(ik),Wi={xOffset:1,yOffset:1};var Zh=
Object.assign({},Fi);const gl=(delete Zh.text,delete Zh.tooltip,delete Zh.href,delete Zh.url,delete Zh.description,delete Zh.detail,delete Zh.key,delete Zh.order,Zh),hl=vd(gl),Mh=Object.assign({},gk,ik,Wi,gl),Bk=vd(Mh),Dl={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"};var yj=Object.assign({},Dl);const Ql=(delete yj.geoshape,yj),hk={argmax:1,
argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Ul={count:1,min:1,max:1},Vl=new Set(["count","valid","missing","distinct"]),Xk=new Set(["count","sum","distinct","valid","missing"]),Yk=new Set("mean average median q1 q3 min max".split(" ")),$k=vd({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,
strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,
width:1,height:1,url:1,smooth:1}),bm={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},Ck=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],Al=h.logger(h.Warn);let Ai=Al;const Qh="january february march april may june july august september october november december".split(" "),Lj=Qh.map(a=>a.substr(0,3)),$h="sunday monday tuesday wednesday thursday friday saturday".split(" "),Ok=$h.map(a=>a.substr(0,
3)),yl={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Zk=vd(yl),Uk={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},pj={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},jg={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",
BAND:"band"},Dg={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},ah={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},ni=new Set(["linear",
"log","pow","sqrt","symlog"]),og=new Set([...ni,"time","utc"]),ai=new Set(["quantile","quantize","threshold"]),Vk=new Set([...og,...ai,"sequential","identity"]),qj=new Set(["ordinal","bin-ordinal","point","band"]);var Ah=Object.assign({},{type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1});const mk=(delete Ah.type,
delete Ah.domain,delete Ah.range,delete Ah.rangeMax,delete Ah.rangeMin,delete Ah.scheme,Ah),lk=vd(mk),If={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},rh=If.arc,bi=If.area,Bh=If.bar,oi=If.image,Sg=If.line,Tg=If.point,Sf=If.rect,hh=If.rule,zl=If.text,Ji=If.tick,ul=If.trail,tj=If.circle,Hi=If.square,qi=If.geoshape,Mj=new Set(vd(If)),Yi="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),
ri=vd({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),uj=vd({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),ci={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},wj={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},vj=(a,b)=>{switch(b.fieldTitle){case "plain":return a.field;
case "functional":{const {aggregate:e,bin:f,timeUnit:g,field:n}=a;ya(e)?a=`${n} for argmax(${e.argmax})`:ma(e)?a=`${n} for argmin(${e.argmin})`:(a=g&&!Ic(g)?pd(g):void 0,a=(a=e||(null==a?void 0:a.unit)||(null==a?void 0:a.maxbins)&&"timeunit"||sb(f)&&"bin")?`${a.toUpperCase()}(${n})`:n)}return a;default:return Be(a,b)}};let Ef=vj;const Ii={compatible:!0},Nj={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",
vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},
tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}},nk=["domain","grid","labels","ticks","title"],Zi={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",
domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",
minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",
titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},xf={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,
labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,
titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},pg=Object.assign({},xf,{style:1,labelExpr:1,encoding:1}),yg=vd({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1});class $i{constructor(a,
b){this.name=a;this.run=b}hasMatchingType(a){return rf(a)?(a=a.mark,(hd(a)?a.type:a)===this.name):!1}}const Oj=new $i("boxplot",De),Pj=new $i("errorbar",Yf),km=new $i("errorband",Vg),Qj={};gg("boxplot",De,["box","median","outliers","rule","ticks"]);gg("errorbar",Yf,["ticks","rule"]);gg("errorband",Vg,["band","borders"]);const Xl=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],sl={titleAlign:"align",titleAnchor:"anchor",
titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},tl={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",
labelOrient:"orient",labelPadding:"offset"},ok=vd(sl),Yl=vd(tl),vl=vd({header:1,headerRow:1,headerColumn:1,headerFacet:1}),bh="size shape fill stroke strokeDash strokeWidth opacity".split(" "),Wk=vd({align:1,bounds:1,center:1,columns:1,spacing:1}),Zl={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,
minBandSize:.25,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,minBandSize:.25,timeUnitBandPosition:.5},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,
bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{point:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",
resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] \x3e window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] \x3e window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20},normalizedNumberFormat:".0%"},ei="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),wl={text:11,guideLabel:10,
guideTitle:11,groupTitle:13,groupSubtitle:12},xl={blue:ei[0],orange:ei[1],red:ei[2],teal:ei[3],green:ei[4],yellow:ei[5],purple:ei[6],pink:ei[7],brown:ei[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},sk=[...uj,...yg,...vl,"background","padding","legend","lineBreak","scale","style","title","view"],Xg=new Set(["view",...Mj]),$l="color fontSize background padding facet concat numberFormat numberFormatType normalizedNumberFormat normalizedNumberFormatType timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),
de=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],line:["point"],tick:["bandSize","thickness"]});class rk{map(a,b){return"facet"in a?this.mapFacet(a,b):"repeat"in a?this.mapRepeat(a,b):"hconcat"in a?this.mapHConcat(a,b):"vconcat"in a?this.mapVConcat(a,b):"concat"in a?this.mapConcat(a,
b):this.mapLayerOrUnit(a,b)}mapLayerOrUnit(a,b){if("layer"in a)return this.mapLayer(a,b);if(rf(a))return this.mapUnit(a,b);throw Error(za(a));}mapLayer(a,b){return Object.assign({},a,{layer:a.layer.map(e=>this.mapLayerOrUnit(e,b))})}mapHConcat(a,b){return Object.assign({},a,{hconcat:a.hconcat.map(e=>this.map(e,b))})}mapVConcat(a,b){return Object.assign({},a,{vconcat:a.vconcat.map(e=>this.map(e,b))})}mapConcat(a,b){var e=Object.assign({},a);a=a.concat;e=(delete e.concat,e);return Object.assign({},
e,{concat:a.map(f=>this.map(f,b))})}mapFacet(a,b){return Object.assign({},a,{spec:this.map(a.spec,b)})}mapRepeat(a,b){return Object.assign({},a,{spec:this.map(a.spec,b)})}}const Pg={zero:1,center:1,normalize:1},Th=new Set([rh,Bh,bi,hh,Tg,tj,Hi,Sg,zl,Ji]),am=new Set([Bh,bi,rh]);class uk{constructor(){Q(this,"name","path-overlay")}hasMatchingType(a,b){if(rf(a)){const {mark:e,encoding:f}=a;a=hd(e)?e:{type:e};switch(a.type){case "line":case "rule":case "trail":return!!Ig(a,b[a.type],f);case "area":return!!Ig(a,
b[a.type],f)||!!ti(a,b[a.type])}}return!1}run(a,b,e){var {config:f}=b,g=Object.assign({},a),n=a.params,B=a.projection,O=a.mark,Z=a.name;a=a.encoding;g=(delete g.params,delete g.projection,delete g.mark,delete g.name,delete g.encoding,g);a=Fg(a,f);O=hd(O)?O:{type:O};const wa=Ig(O,f[O.type],a),bb="area"===O.type&&ti(O,f[O.type]);var nb=Object,hc=nb.assign;var Nc=Object.assign({},"area"===O.type&&void 0===O.opacity&&void 0===O.fillOpacity?{opacity:.7}:{},O);Nc=Object.assign({},Nc);Nc=(delete Nc.point,
delete Nc.line,Nc);Nc=1<vd(Nc).length?Nc:Nc.type;n=[hc.call(nb,{},{name:Z},n?{params:n}:{},{mark:Nc,encoding:bc(a,["shape"])})];Z=uh(mg(O,a,f),a);nb=a;if(Z){const {fieldChannel:lc,offset:Lc}=Z;nb=Object.assign({},a,{[lc]:Object.assign({},a[lc],Lc?{stack:Lc}:{})})}nb=bc(nb,["y2","x2"]);bb&&n.push(Object.assign({},B?{projection:B}:{},{mark:Object.assign({},{type:"line"},Yb(O,["clip","interpolate","tension","tooltip"]),bb),encoding:nb}));wa&&n.push(Object.assign({},B?{projection:B}:{},{mark:Object.assign({},
{type:"point",opacity:1,filled:!0},Yb(O,["clip","tooltip"]),wa),encoding:nb}));B=Object.assign({},g,{layer:n});g=Object;n=g.assign;for(const lc of["line","area","rule","trail"])f[lc]&&(f=Object.assign({},f,{[lc]:bc(f[lc],["point","line"])}));return e(B,n.call(g,{},b,{config:f}))}}class al{constructor(){Q(this,"name","RuleForRangedLine")}hasMatchingType(a){if(rf(a)){const {encoding:b,mark:e}=a;if("line"===e||hd(e)&&"line"===e.type)for(const f of Mk)if(a=R(f),a=b[a],b[f]&&(ua(a)&&!ib(a.bin)||Fb(a)))return!0}return!1}run(a,
b,e){const {encoding:f,mark:g}=a;var n=!!f.x2;J(`Line mark is for continuous lines and thus cannot be used with ${n&&f.y2?"x2 and y2":n?"x2":"y2"}. We will use the rule mark (line segments) instead.`);return e(Object.assign({},a,{mark:h.isObject(g)?Object.assign({},g,{type:"rule"}):"rule"}),b)}}class Kh extends rk{constructor(){super(...arguments);Q(this,"nonFacetUnitNormalizers",[Oj,Pj,km,new uk,new al])}map(a,b){if(rf(a)){const e=bf(a.encoding,"row"),f=bf(a.encoding,"column"),g=bf(a.encoding,"facet");
if(e||f||g)return this.mapFacetedUnit(a,b)}return super.map(a,b)}mapUnit(a,b){const {parentEncoding:e,parentProjection:f}=b;var g=di(a.encoding,b.repeater);a=Object.assign({},a,a.name?{name:[b.repeaterPrefix,a.name].filter(n=>n).join("_")}:{},g?{encoding:g}:{});if(e||f)return this.mapUnitWithParentEncodingOrProjection(a,b);g=this.mapLayerOrUnit.bind(this);for(const n of this.nonFacetUnitNormalizers)if(n.hasMatchingType(a,b.config))return n.run(a,b,g);return a}mapRepeat(a,b){return!h.isArray(a.repeat)&&
a.repeat.layer?this.mapLayerRepeat(a,b):this.mapNonLayerRepeat(a,b)}mapLayerRepeat(a,b){var e=Object.assign({},a);const f=a.repeat,g=a.spec;e=(delete e.repeat,delete e.spec,e);const {row:n,column:B,layer:O}=f,{repeater:Z={},repeaterPrefix:wa=""}=b;return n||B?this.mapRepeat(Object.assign({},a,{repeat:Object.assign({},n?{row:n}:{},B?{column:B}:{}),spec:{repeat:{layer:O},spec:g}}),b):Object.assign({},e,{layer:O.map(bb=>{var nb=Object.assign({},Z,{layer:bb});bb=`${(g.name?`${g.name}_`:"")+wa}child__layer_${sa(bb)}`;
nb=this.mapLayerOrUnit(g,Object.assign({},b,{repeater:nb,repeaterPrefix:bb}));nb.name=bb;return nb})})}mapNonLayerRepeat(a,b){var e=a,f=Object.assign({},e);const g=e.repeat,n=e.spec;e=e.data;f=(delete f.repeat,delete f.spec,delete f.data,f);!h.isArray(g)&&a.columns&&(a=bc(a,["columns"]),J(Bc("repeat")));const B=[],{repeater:O={},repeaterPrefix:Z=""}=b,wa=!h.isArray(g)&&g.row||[O?O.row:null],bb=!h.isArray(g)&&g.column||[O?O.column:null];var nb=h.isArray(g)&&g||[O?O.repeat:null];for(const lc of nb)for(const Lc of wa)for(const bd of bb){var hc=
{repeat:lc,row:Lc,column:bd,layer:O.layer};nb=(n.name?`${n.name}_`:"")+Z+"child__"+(h.isArray(g)?`${sa(lc)}`:(g.row?`row_${sa(Lc)}`:"")+(g.column?`column_${sa(bd)}`:""));hc=this.map(n,Object.assign({},b,{repeater:hc,repeaterPrefix:nb}));hc.name=nb;B.push(bc(hc,["data"]))}a=h.isArray(g)?a.columns:g.column?g.column.length:1;let Nc;return Object.assign({},{data:null!=(Nc=n.data)?Nc:e,align:"all"},f,{columns:a,concat:B})}mapFacet(a,b){const {facet:e}=a;Me(e)&&a.columns&&(a=bc(a,["columns"]),J(Bc("facet")));
return super.mapFacet(a,b)}mapUnitWithParentEncodingOrProjection(a,b){const {encoding:e,projection:f}=a,{parentEncoding:g,parentProjection:n,config:B}=b,O=Gh({parentProjection:n,projection:f});b=Hg({parentEncoding:g,encoding:di(e,b.repeater)});return this.mapUnit(Object.assign({},a,O?{projection:O}:{},b?{encoding:b}:{}),{config:B})}mapFacetedUnit(a,b){var e=a.encoding,f=Object.assign({},e),g=e.row;const n=e.column;e=e.facet;const B=(delete f.row,delete f.column,delete f.facet,f);var O=Object.assign({},
a);f=a.mark;const Z=a.width,wa=a.projection,bb=a.height,nb=a.view;a=a.params;O=(delete O.mark,delete O.width,delete O.projection,delete O.height,delete O.view,delete O.params,delete O.encoding,O);const {facetMapping:hc,layout:Nc}=this.getFacetMappingAndLayout({row:g,column:n,facet:e},b);g=di(B,b.repeater);return this.mapFacet(Object.assign({},O,Nc,{facet:hc,spec:Object.assign({},Z?{width:Z}:{},bb?{height:bb}:{},nb?{view:nb}:{},wa?{projection:wa}:{},{mark:f,encoding:g},a?{params:a}:{})}),b)}getFacetMappingAndLayout(a,
b){const {row:e,column:f,facet:g}=a;if(e||f){g&&(b=[...(e?["row"]:[]),...(f?["column"]:[])],b=`Facet encoding dropped as ${b.join(" and ")} ${1<b.length?"are":"is"} also specified.`,J(b));b={};const bb={};for(var n of["row","column"]){const nb=a[n];if(nb){var B=Object.assign({},nb);B=(delete B.align,delete B.center,delete B.spacing,delete B.columns,B);b[n]=B;for(var O of["align","center","spacing"])if(void 0!==nb[O]){var Z=void 0,wa=void 0;null!=(Z=bb)[wa=O]||(Z[wa]={});bb[O][n]=nb[O]}}}return{facetMapping:b,
layout:bb}}wa=Object.assign({},g);a=g.align;n=g.center;O=g.spacing;Z=g.columns;wa=(delete wa.align,delete wa.center,delete wa.spacing,delete wa.columns,wa);wa=(b=b.repeater)?Me(wa)?Fh(wa,b):ui(wa,b):wa;return{facetMapping:wa,layout:Object.assign({},a?{align:a}:{},n?{center:n}:{},O?{spacing:O}:{},Z?{columns:Z}:{})}}mapLayer(a,b){var e=Object.assign({},b),f=b.parentEncoding;b=b.parentProjection;e=(delete e.parentEncoding,delete e.parentProjection,e);var g=Object.assign({},a);const n=a.encoding,B=a.projection;
g=(delete g.encoding,delete g.projection,g);f=Object.assign({},e,{parentEncoding:Hg({parentEncoding:f,encoding:n,layer:!0}),parentProjection:Gh({parentProjection:b,projection:B})});return super.mapLayer(Object.assign({},g,a.name?{name:[f.repeaterPrefix,a.name].filter(O=>O).join("_")}:{}),f)}}class ff extends rk{map(a,b){null!=b.emptySelections||(b.emptySelections={});null!=b.selectionPredicates||(b.selectionPredicates={});a=hg(a,b);return super.map(a,b)}mapLayerOrUnit(a,b){a=hg(a,b);if(a.encoding){const e=
{};for(const f of Gi(a.encoding)){const [g,n]=f;e[g]=cj(n,b)}a=Object.assign({},a,{encoding:e})}return super.mapLayerOrUnit(a,b)}mapUnit(a,b){var e=Object.assign({},a);const f=a.selection;e=(delete e.selection,e);return f?Object.assign({},e,{params:Gi(f).map(g=>{let [n,B]=g;var O=Object.assign({},B);g=B.init;const Z=B.bind,wa=B.empty;O=(delete O.init,delete O.bind,delete O.empty,O);"single"===O.type?(O.type="point",O.toggle=!1):"multi"===O.type&&(O.type="point");b.emptySelections[n]="none"!==wa;let bb;
for(const nb of ng(null!=(bb=b.selectionPredicates[n])?bb:{}))nb.empty="none"!==wa;return{name:n,value:g,select:O,bind:Z}})}):a}}class qg extends rk{map(a,b){var e;const f=null!=(e=b.selections)?e:[];if(a.params&&!rf(a)){e=[];for(const g of a.params)be(g)?f.push(g):e.push(g);a.params=e}b.selections=f;return super.map(a,b)}mapUnit(a,b){const e=b.selections;if(!e||!e.length)return a;let f;const g=(null!=(f=b.path)?f:[]).concat(a.name);b=[];for(const n of e)if(n.views&&n.views.length)for(const B of n.views)(h.isString(B)&&
(B===a.name||g.includes(B))||h.isArray(B)&&B.map(O=>g.indexOf(O)).every((O,Z,wa)=>-1!==O&&(0===Z||O>wa[Z-1])))&&b.push(n);else b.push(n);b.length&&(a.params=b);return a}}for(const a of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const b=qg.prototype[a];qg.prototype[a]=function(e,f){var g=b,n=g.call;let B;var O=e.name?Object.assign({},f,{path:(null!=(B=f.path)?B:[]).concat(e.name)}):f;return n.call(g,this,e,O)}}const ug=new Kh,Qg=new ff,th=new qg,xj=["background","padding"];class Kf{constructor(){let a=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.explicit=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.implicit=a}clone(){return new Kf(He(this.explicit),He(this.implicit))}combine(){return Object.assign({},this.explicit,this.implicit)}get(a){return U(this.explicit[a],this.implicit[a])}getWithExplicit(a){return void 0!==this.explicit[a]?{explicit:!0,value:this.explicit[a]}:void 0!==this.implicit[a]?{explicit:!1,value:this.implicit[a]}:{explicit:!1,value:void 0}}setWithExplicit(a,
b){let {value:e,explicit:f}=b;void 0!==e&&this.set(a,e,f)}set(a,b,e){delete this[e?"implicit":"explicit"][a];this[e?"explicit":"implicit"][a]=b;return this}copyKeyFromSplit(a,b){let {explicit:e,implicit:f}=b;void 0!==e[a]?this.set(a,e[a],!0):void 0!==f[a]&&this.set(a,f[a],!1)}copyKeyFromObject(a,b){void 0!==b[a]&&this.set(a,b[a],!0)}copyAll(a){for(const b of vd(a.combine())){const e=a.getWithExplicit(b);this.setWithExplicit(b,e)}}}class Rj extends Kf{constructor(){let a=0<arguments.length&&void 0!==
arguments[0]?arguments[0]:{},b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super(a,b);this.explicit=a;this.implicit=b;this.parseNothing=e}clone(){const a=super.clone();a.parseNothing=this.parseNothing;return a}}let qf=function(a){a[a.Raw=0]="Raw";a[a.Main=1]="Main";a[a.Row=2]="Row";a[a.Column=3]="Column";a[a.Lookup=4]="Lookup";return a}({});class mf{constructor(a,b){this.debugName=b;Q(this,"_children",[]);Q(this,"_parent",null);
Q(this,"_hash",void 0);a&&(this.parent=a)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(a){(this._parent=a)&&a.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(a,b){this._children.includes(a)?J("Attempt to add the same child twice."):void 0!==b?this._children.splice(b,0,a):this._children.push(a)}removeChild(a){a=this._children.indexOf(a);this._children.splice(a,1);return a}remove(){let a=this._parent.removeChild(this);
for(const b of this._children)b._parent=this._parent,this._parent.addChild(b,a++)}insertAsParentOf(a){const b=a.parent;b.removeChild(this);this.parent=b;a.parent=this}swapWithParent(){const a=this._parent,b=a.parent;for(var e of this._children)e.parent=a;this._children=[];a.removeChild(this);e=a.parent.removeChild(a);this._parent=b;b.addChild(this,e);a.parent=this}}class Rg extends mf{clone(){const a=new this.constructor;a.debugName=`clone_${this.debugName}`;a._source=this._source;a._name=`clone_${this._name}`;
a.type=this.type;a.refCounts=this.refCounts;a.refCounts[a._name]=0;return a}constructor(a,b,e,f){super(a,b);this.type=e;this.refCounts=f;Q(this,"_source",void 0);Q(this,"_name",void 0);this._source=this._name=b;!this.refCounts||this._name in this.refCounts||(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===this._hash&&(this._hash=`Output ${ba()}`);return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(a){this._source=
a}}class wh extends mf{clone(){return new wh(null,He(this.timeUnits))}constructor(a,b){super(a);this.timeUnits=b}static makeFromEncoding(a,b){const e=b.reduceFieldDef((f,g,n)=>{const {field:B,timeUnit:O}=g;if(O){let Z;if(Ic(O)){if(Nf(b)){const {mark:wa,markDef:bb,config:nb}=b,hc=y({fieldDef:g,markDef:bb,config:nb});if(dc(wa)||hc)Z={timeUnit:pd(O),field:B}}}else Z={as:Sc(g,{forAs:!0}),field:B,timeUnit:O};if(Nf(b)){const {mark:wa,markDef:bb,config:nb}=b;g=y({fieldDef:g,markDef:bb,config:nb});dc(wa)&&
F(n)&&.5!==g&&(Z.rectBandPosition=g)}Z&&(f[Xb(Z)]=Z)}return f},{});return gb(e)?null:new wh(a,e)}static makeFromTransform(a,b){var e=Object.assign({},b);b=Object.assign({},e);e=e.timeUnit;b=(delete b.timeUnit,b);e=pd(e);b=Object.assign({},b,{timeUnit:e});return new wh(a,{[Xb(b)]:b})}merge(a){this.timeUnits=Object.assign({},this.timeUnits);for(const b in a.timeUnits)this.timeUnits[b]||(this.timeUnits[b]=a.timeUnits[b]);for(const b of a.children)a.removeChild(b),b.parent=this;a.remove()}removeFormulas(a){const b=
{};for(const e of Gi(this.timeUnits)){const [f,g]=e;a.has(void 0!==g.as?g.as:`${g.field}_end`)||(b[f]=g)}this.timeUnits=b}producedFields(){return new Set(ng(this.timeUnits).map(a=>void 0!==a.as?a.as:`${a.field}_end`))}dependentFields(){return new Set(ng(this.timeUnits).map(a=>a.field))}hash(){return`TimeUnit ${Xb(this.timeUnits)}`}assemble(){const a=[];for(const g of ng(this.timeUnits)){const {rectBandPosition:n}=g,B=pd(g.timeUnit);if(void 0!==g.as){const {field:O,as:Z}=g;var b=B,e=Object.assign({},
b),f=b.unit;b=b.utc;e=(delete e.unit,delete e.utc,e);const wa=[Z,`${Z}_end`];a.push(Object.assign({},{field:ab(O),type:"timeunit"},f?{units:yc(f)}:{},b?{timezone:"utc"}:{},e,{as:wa}));a.push(...Hb(wa,n,B))}else g&&({field:f}=g,f=f.replaceAll("\\.","."),b=Na({timeUnit:B,field:f}),e=`${f}_end`,a.push({type:"formula",expr:b,as:e}),a.push(...Hb([f,e],n,B)))}return a}}class oh{constructor(){Q(this,"hasChannel",void 0);Q(this,"hasField",void 0);Q(this,"hasSelectionId",void 0);Q(this,"timeUnit",void 0);
Q(this,"items",void 0);for(var a=arguments.length,b=Array(a),e=0;e<a;e++)b[e]=arguments[e];this.items=b;this.hasChannel={};this.hasField={};this.hasSelectionId=!1}}const Uh={defined:a=>"interval"===a.type&&"global"===a.resolve&&a.bind&&"scales"===a.bind,parse:(a,b)=>{const e=b.scales=[];for(const g of b.project.items){var f=g.channel;if(!Mh[f])continue;const n=(f=a.getScaleComponent(f))?f.get("type"):void 0;f&&Md(n)?(f.set("selectionExtent",{param:b.name,field:g.field},!0),e.push(g)):J("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},
topLevelSignals:(a,b,e)=>{const f=b.scales.filter(n=>0===e.filter(B=>B.name===n.signals.data).length);if(!a.parent||q(a)||0===f.length)return e;a=e.filter(n=>n.name===b.name)[0];let g=a.update;if(0<=g.indexOf("vlSelectionResolve"))a.update=`{${f.map(n=>`${h.stringValue(ab(n.field))}: ${n.signals.data}`).join(", ")}}`;else{for(const n of f){const B=`${h.stringValue(ab(n.field))}: ${n.signals.data}`;g.includes(B)||(g=`${g.substring(0,g.length-1)}, ${B}}`)}a.update=g}return e.concat(f.map(n=>({name:n.signals.data})))},
signals:(a,b,e)=>{if(a.parent&&!q(a))for(const f of b.scales)a=e.filter(g=>g.name===f.signals.data)[0],a.push="outer",delete a.value,delete a.update;return e}},zj={left:"x",center:"xc",right:"x2"},xi={top:"y",middle:"yc",bottom:"y2"},pk=new Set(["aria","width","height"]),qk={defined:a=>"point"===a.type&&a.nearest,parse:(a,b)=>{if(b.events)for(const e of b.events)e.markname=a.getName("voronoi")},marks:(a,b,e)=>{const {x:f,y:g}=b.project.hasChannel;b=a.mark;if(Qa(b))return J(`The "nearest" transform is not supported for ${b} marks.`),
e;b={name:a.getName("voronoi"),type:"path",interactive:!0,from:{data:a.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},Ob(a,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:f||!g?"datum.datum.x || 0":"0"},y:{expr:g||!f?"datum.datum.y || 0":"0"},size:[a.getSizeSignalRef("width"),a.getSizeSignalRef("height")]}]};let n=0,B=!1;e.forEach((O,Z)=>{let wa;O=null!=(wa=O.name)?wa:"";O===a.component.mark[0].name?
n=Z:0<=O.indexOf("voronoi")&&(B=!0)});B||e.splice(n+1,0,b);return e}},si={defined:a=>"point"===a.type&&"global"===a.resolve&&a.bind&&"scales"!==a.bind&&!sh(a.bind),parse:(a,b,e)=>Eg(b,e),topLevelSignals:(a,b,e)=>{const f=b.name;a=b.project;const g=b.bind,n=b.init&&b.init[0],B=qk.defined(b)?"(item().isVoronoi ? datum.datum : datum)":"datum";a.items.forEach((O,Z)=>{const wa=sa(`${f}_${O.field}`);if(!e.filter(bb=>bb.name===wa).length){let bb,nb;e.unshift(Object.assign({},{name:wa},n?{init:mh(n[Z])}:
{value:null},{on:b.events?[{events:b.events,update:`datum && item().mark.marktype !== 'group' ? ${B}[${h.stringValue(O.field)}] : null`}]:[],bind:null!=(nb=null!=(bb=g[O.field])?bb:g[O.channel])?nb:g}))}});return e},signals:(a,b,e)=>{const f=b.name;var g=b.project;a=e.filter(B=>B.name===f+"_tuple")[0];b=f+"_tuple_fields";g=g.items.map(B=>sa(`${f}_${B.field}`));const n=g.map(B=>`${B} !== null`).join(" \x26\x26 ");g.length&&(a.update=`${n} ? {fields: ${b}, values: [${g.join(", ")}]} : null`);delete a.value;
delete a.on;return e}},Sj={defined:a=>"point"===a.type&&!!a.toggle,signals:(a,b,e)=>e.concat({name:b.name+"_toggle",value:!1,on:[{events:b.events,update:b.toggle}]}),modifyExpr:(a,b)=>{const e=b.name+"_tuple",f=b.name+"_toggle";return`${f} ? null : ${e}, `+("global"===b.resolve?`${f} ? null : true, `:`${f} ? null : {unit: ${dg(a)}}, `)+`${f} ? ${e} : null`}},yi={defined:a=>{const b="global"===a.resolve&&a.bind&&sh(a.bind);a=1===a.project.items.length&&"_vgsid_"!==a.project.items[0].field;b&&!a&&J("Legend bindings are only supported for selections over an individual field or encoding channel.");
return b&&a},parse:(a,b,e)=>{a=He(e);a.select=h.isString(a.select)?{type:a.select,toggle:b.toggle}:Object.assign({},a.select,{toggle:b.toggle});Eg(b,a);if(h.isObject(e.select)&&(e.select.on||e.select.clear))for(const f of b.events){let g;f.filter=h.array(null!=(g=f.filter)?g:[]);f.filter.includes('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')||f.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}e=Dh(b.bind)?b.bind.legend:"click";e=h.isString(e)?
h.parseSelector(e,"view"):h.array(e);b.bind={legend:{merge:e}}},topLevelSignals:(a,b,e)=>{a=b.name;const f=Dh(b.bind)&&b.bind.legend,g=B=>O=>{O=He(O);O.markname=B;return O};for(const B of b.project.items){if(!B.hasLegend)continue;var n=`${sa(B.field)}_legend`;const O=`${a}_${n}`;0===e.filter(Z=>Z.name===O).length&&(n=f.merge.map(g(`${n}_symbols`)).concat(f.merge.map(g(`${n}_labels`))).concat(f.merge.map(g(`${n}_entries`))),e.unshift(Object.assign({},{name:O},b.init?{}:{value:null},{on:[{events:n,
update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:f.merge,update:`!event.item || !datum ? null : ${O}`,force:!0}]})))}return e},signals:(a,b,e)=>{const f=b.name;var g=b.project;a=e.find(B=>B.name===f+"_tuple");var n=f+"_tuple_fields";g=g.items.filter(B=>B.hasLegend).map(B=>sa(`${f}_${sa(B.field)}_legend`));n=`${g.map(B=>`${B} !== null`).join(" \x26\x26 ")} ? {fields: ${n}, values: [${g.join(", ")}]} : null`;b.events&&0<g.length?a.on.push({events:g.map(B=>
({signal:B})),update:n}):0<g.length&&(a.update=n,delete a.value,delete a.on);a=e.find(B=>B.name===f+"_toggle");n=Dh(b.bind)&&b.bind.legend;a&&(b.events?a.on.push(Object.assign({},a.on[0],{events:n})):a.on[0].events=n);return e}},dj=[{defined:a=>"point"===a.type,signals:(a,b,e)=>{const f=b.name,g=f+"_tuple_fields";var n=b.project,B,O=ng(null!=(B=a.component.selection)?B:{}).reduce((Z,wa)=>"interval"===wa.type?Z.concat(wa.name+"_brush"):Z,[]).map(Z=>`indexof(item().mark.name, '${Z}') < 0`).join(" \x26\x26 ");
B=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${O?` && ${O}`:""}`;O=`unit: ${dg(a)}, `;b.project.hasSelectionId?O+=`${"_vgsid_"}: ${"(item().isVoronoi ? datum.datum : datum)"}[${h.stringValue("_vgsid_")}]`:(n=n.items.map(Z=>{let wa;return(null==(wa=a.fieldDef(Z.channel))?0:wa.bin)?`[${"(item().isVoronoi ? datum.datum : datum)"}[${h.stringValue(a.vgField(Z.channel,{}))}], `+`${"(item().isVoronoi ? datum.datum : datum)"}[${h.stringValue(a.vgField(Z.channel,{binSuffix:"end"}))}]]`:
`${"(item().isVoronoi ? datum.datum : datum)"}[${h.stringValue(Z.field)}]`}).join(", "),O+=`fields: ${g}, values: [${n}]`);b=b.events;return e.concat([{name:f+"_tuple",on:b?[{events:b,update:`${B} ? {${O}} : null`,force:!0}]:[]}])}},{defined:a=>"interval"===a.type,parse:(a,b,e)=>{a.hasProjection&&(a=Object.assign({},h.isObject(e.select)?e.select:{}),a.fields=["_vgsid_"],a.encodings||(a.encodings=e.value?vd(e.value):["longitude","latitude"]),e.select=Object.assign({},{type:"interval"},a));if(b.translate&&
!Uh.defined(b)){e=`!event.item || event.item.mark.name !== ${h.stringValue(b.name+"_brush")}`;for(const f of b.events){if(!f.between){J(`${f} is not an ordered event stream for interval selections.`);continue}let g,n;b=h.array(null!=(n=(g=f.between[0]).filter)?n:g.filter=[]);0>b.indexOf(e)&&b.push(e)}}},signals:(a,b,e)=>{var f=b.name;const g=f+"_tuple";var n=ng(b.project.hasChannel).filter(bb=>"x"===bb.channel||"y"===bb.channel);const B=b.init?b.init[0]:null;e.push(...n.reduce((bb,nb)=>bb.concat(I(a,
b,nb,B&&B[nb.index])),[]));if(a.hasProjection){var O=h.stringValue(a.projectionName());const bb=a.projectionName()+"_center",{x:nb,y:hc}=b.project.hasChannel;var Z=nb&&nb.signals.visual;const Nc=hc&&hc.signals.visual;var wa=nb?B&&B[nb.index]:`${bb}[0]`;const lc=hc?B&&B[hc.index]:`${bb}[1]`;Z="["+`[${Z?Z+"[0]":"0"}, ${Nc?Nc+"[0]":"0"}],`+`[${Z?Z+"[1]":a.getSizeSignalRef("width").signal}, `+`${Nc?Nc+"[1]":a.getSizeSignalRef("height").signal}]`+"]";B&&(e.unshift({name:f+"_init",init:`[scale(${O}, [${nb?
wa[0]:wa}, ${hc?lc[0]:lc}]), `+`scale(${O}, [${nb?wa[1]:wa}, ${hc?lc[1]:lc}])]`}),nb&&hc||e.find(Lc=>Lc.name===bb)||e.unshift({name:bb,update:`invert(${O}, [${a.getSizeSignalRef("width").signal}/2, ${a.getSizeSignalRef("height").signal}/2])`}));f=`intersect(${Z}, {markname: ${h.stringValue(a.getName("marks"))}}, unit.mark)`;O=`{unit: ${dg(a)}}`;f=`vlSelectionTuples(${f}, ${O})`;n=n.map(Lc=>Lc.signals.visual);return e.concat({name:g,on:[{events:[...(n.length?[{signal:n.join(" || ")}]:[]),...(B?[{signal:"geo_interval_init_tick"}]:
[])],update:f}]})}Uh.defined(b)||(O=f+"_scale_trigger",wa=n.map(bb=>{var nb=bb.channel;const {data:hc,visual:Nc}=bb.signals;bb=h.stringValue(a.scaleName(nb));nb=a.getScaleComponent(nb).get("type");nb=Md(nb)?"+":"";return`(!isArray(${hc}) || `+`(${nb}invert(${bb}, ${Nc})[0] === ${nb}${hc}[0] && `+`${nb}invert(${bb}, ${Nc})[1] === ${nb}${hc}[1]))`}),wa.length&&e.push({name:O,value:{},on:[{events:n.map(bb=>({scale:a.scaleName(bb.channel)})),update:wa.join(" \x26\x26 ")+` ? ${O} : {}`}]}));n=n.map(bb=>
bb.signals.data);f=`unit: ${dg(a)}, fields: ${f+"_tuple_fields"}, values`;return e.concat(Object.assign({},{name:g},B?{init:`{${f}: ${mh(B)}}`}:{},n.length?{on:[{events:[{signal:n.join(" || ")}],update:`${n.join(" \x26\x26 ")} ? {${f}: [${n}]} : null`}]}:{}))},topLevelSignals:(a,b,e)=>{Nf(a)&&a.hasProjection&&b.init&&(e.filter(f=>"geo_interval_init_tick"===f.name).length||e.unshift({name:"geo_interval_init_tick",value:null,on:[{events:"timer{1}",update:"geo_interval_init_tick \x3d\x3d\x3d null ? {} : geo_interval_init_tick"}]}));
return e},marks:(a,b,e)=>{const f=b.name,{x:g,y:n}=b.project.hasChannel,B=null==g?void 0:g.signals.visual,O=null==n?void 0:n.signals.visual;var Z=`data(${h.stringValue(b.name+"_store")})`;if(Uh.defined(b)||!g&&!n)return e;const wa={x:void 0!==g?{signal:`${B}[0]`}:{value:0},y:void 0!==n?{signal:`${O}[0]`}:{value:0},x2:void 0!==g?{signal:`${B}[1]`}:{field:{group:"width"}},y2:void 0!==n?{signal:`${O}[1]`}:{field:{group:"height"}}};if("global"===b.resolve)for(var bb of vd(wa))wa[bb]=[Object.assign({},
{test:`${Z}.length && ${Z}[0].unit === ${dg(a)}`},wa[bb]),{value:0}];bb=b.mark;Z=Object.assign({},bb);a=bb.fill;b=bb.fillOpacity;bb=bb.cursor;const nb=(delete Z.fill,delete Z.fillOpacity,delete Z.cursor,Z);Z=vd(nb).reduce((hc,Nc)=>{hc[Nc]=[{test:[void 0!==g&&`${B}[0] !== ${B}[1]`,void 0!==n&&`${O}[0] !== ${O}[1]`].filter(lc=>lc).join(" \x26\x26 "),value:nb[Nc]},{value:null}];return hc},{});return[{name:`${f+"_brush"}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:a},fillOpacity:{value:b}},update:wa}},
...e,{name:f+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},bb?{cursor:{value:bb}}:{},{fill:{value:"transparent"}}),update:Object.assign({},wa,Z)}}]}},{defined:()=>!0,parse:(a,b,e)=>{const f=b.name;var g;const n=null!=(g=b.project)?g:b.project=new oh,B={};g={};const O=new Set,Z=(ed,ke)=>{ed="visual"===ke?ed.channel:ed.field;let ce=sa(`${f}_${ed}`);for(let Ee=1;O.has(ce);Ee++)ce=sa(`${f}_${ed}_${Ee}`);O.add(ce);return{[ke]:ce}},wa=b.type,bb=a.config.selection[wa],nb=void 0!==e.value?h.array(e.value):
null;let {fields:hc,encodings:Nc}=h.isObject(e.select)?e.select:{};if(!hc&&!Nc&&nb)for(var lc of nb)if(h.isObject(lc))for(const ed of vd(lc))if(oj[ed])(Nc||(Nc=[])).push(ed);else if("interval"===wa)J('Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.'),Nc=bb.encodings;else{let ke;(null!=(ke=hc)?ke:hc=[]).push(ed)}hc||Nc||(Nc=bb.encodings,"fields"in bb&&(hc=bb.fields));var Lc;for(const ed of null!=(Lc=Nc)?Lc:[])(Lc=a.fieldDef(ed))?(e=Lc.field,Lc.aggregate?J(`Cannot project a selection on encoding channel "${ed}" as it uses an aggregate function ("${Lc.aggregate}").`):
e?(Lc.timeUnit&&!Ic(Lc.timeUnit)&&(e=a.vgField(ed),lc={timeUnit:Lc.timeUnit,as:e,field:Lc.field},g[Xb(lc)]=lc),B[e]||(Lc="interval"===wa&&Mh[ed]&&Md(a.getScaleComponent(ed).get("type"))?"R":Lc.bin?"R-RE":"E",Lc={field:e,channel:ed,type:Lc,index:n.items.length},Lc.signals=Object.assign({},Z(Lc,"data"),Z(Lc,"visual")),n.items.push(B[e]=Lc),n.hasField[e]=B[e],n.hasSelectionId=n.hasSelectionId||"_vgsid_"===e,ed in mi?(Lc.geoChannel=ed,Lc.channel=D(ed),n.hasChannel[Lc.channel]=B[e]):n.hasChannel[ed]=B[e])):
J(Eb(ed))):J(Eb(ed));let bd;for(const ed of null!=(bd=hc)?bd:[])n.hasField[ed]||(a={type:"E",field:ed,index:n.items.length},a.signals=Object.assign({},Z(a,"data")),n.items.push(a),n.hasField[ed]=a,n.hasSelectionId=n.hasSelectionId||"_vgsid_"===ed);nb&&(b.init=nb.map(ed=>n.items.map(ke=>h.isObject(ed)?void 0!==ed[ke.geoChannel||ke.channel]?ed[ke.geoChannel||ke.channel]:ed[ke.field]:ed)));gb(g)||(n.timeUnit=new wh(null,g))},signals:(a,b,e)=>{const f=b.name+"_tuple_fields";return 0<e.filter(g=>g.name===
f).length||b.project.hasSelectionId?e:e.concat({name:f,value:b.project.items.map(Og)})}},Sj,si,Uh,yi,{defined:a=>void 0!==a.clear&&!1!==a.clear,parse:(a,b)=>{b.clear&&(b.clear=h.isString(b.clear)?h.parseSelector(b.clear,"view"):b.clear)},topLevelSignals:(a,b,e)=>{if(si.defined(b))for(const f of b.project.items)a=e.findIndex(g=>g.name===sa(`${b.name}_${f.field}`)),-1!==a&&e[a].on.push({events:b.clear,update:"null"});return e},signals:(a,b,e)=>{function f(g,n){-1!==g&&e[g].on&&e[g].on.push({events:b.clear,
update:n})}if("interval"===b.type)for(const g of b.project.items)a=e.findIndex(n=>n.name===g.signals.visual),f(a,"[0, 0]"),-1===a&&(a=e.findIndex(n=>n.name===g.signals.data),f(a,"null"));else a=e.findIndex(g=>g.name===b.name+"_tuple"),f(a,"null"),Sj.defined(b)&&(a=e.findIndex(g=>g.name===b.name+"_toggle"),f(a,"false"));return e}},{defined:a=>"interval"===a.type&&a.translate,signals:(a,b,e)=>{const f=b.name,g=Uh.defined(b),n=f+"_translate_anchor",{x:B,y:O}=b.project.hasChannel;let Z=h.parseSelector(b.translate,
"scope");g||(Z=Z.map(wa=>(wa.between[0].markname=f+"_brush",wa)));e.push({name:n,value:{},on:[{events:Z.map(wa=>wa.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==B?`, extent_x: ${g?fc(a,"x"):`slice(${B.signals.visual})`}`:"")+(void 0!==O?`, extent_y: ${g?fc(a,"y"):`slice(${O.signals.visual})`}`:"")+"}"}]},{name:f+"_translate_delta",value:{},on:[{events:Z,update:`{x: ${n}.x - x(unit), y: ${n}.y - y(unit)}`}]});void 0!==B&&Eh(a,b,B,"width",e);void 0!==O&&Eh(a,b,O,"height",e);return e}},{defined:a=>
"interval"===a.type&&a.zoom,signals:(a,b,e)=>{const f=b.name,g=Uh.defined(b),n=f+"_zoom_delta",{x:B,y:O}=b.project.hasChannel,Z=h.stringValue(a.scaleName("x")),wa=h.stringValue(a.scaleName("y"));let bb=h.parseSelector(b.zoom,"scope");g||(bb=bb.map(nb=>(nb.markname=f+"_brush",nb)));e.push({name:f+"_zoom_anchor",on:[{events:bb,update:g?"{"+[Z?`x: invert(${Z}, x(unit))`:"",wa?`y: invert(${wa}, y(unit))`:""].filter(nb=>nb).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:n,on:[{events:bb,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});
void 0!==B&&gi(a,b,B,"width",e);void 0!==O&&gi(a,b,O,"height",e);return e}},qk];class wi extends mf{clone(){return new wi(null,this.model,He(this.filter))}constructor(a,b,e){super(a);this.model=b;this.filter=e;Q(this,"expr",void 0);Q(this,"_dependentFields",void 0);this.expr=$f(this.model,this.filter,this);this._dependentFields=sj(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}
const tk={scale:a=>{let {model:b,channel:e}=a;return b.scaleName(e)},format:a=>{({format:a}=a);return a},formatType:a=>{({formatType:a}=a);return a},grid:a=>{let {fieldOrDatumDef:b,axis:e,scaleType:f}=a,g;return null!=(g=e.grid)?g:!Td(f)&&ua(b)&&!sb(null==b?void 0:b.bin)&&!ib(null==b?void 0:b.bin)},gridScale:a=>{let {model:b,channel:e}=a;a="x"===e?"y":"x";a=b.getScaleComponent(a)?b.scaleName(a):void 0;return a},labelAlign:a=>{let {axis:b,labelAngle:e,orient:f,channel:g}=a;return b.labelAlign||xk(e,
f,g)},labelAngle:a=>{({labelAngle:a}=a);return a},labelBaseline:a=>{let {axis:b,labelAngle:e,orient:f,channel:g}=a;return b.labelBaseline||Wj(e,f,g)},labelFlush:a=>{let {axis:b,fieldOrDatumDef:e,channel:f}=a;null==(a=b.labelFlush)&&(a="x"===f&&zb(["quantitative","temporal"],e.type)?!0:void 0);return a},labelOverlap:a=>{let {axis:b,fieldOrDatumDef:e,scaleType:f}=a;if(null==(a=b.labelOverlap)){a=e.type;var g=ua(e)&&!!e.timeUnit,n=ua(e)?e.sort:void 0;a=g&&!h.isObject(n)||"nominal"!==a&&"ordinal"!==a?
"log"===f||"symlog"===f?"greedy":!0:void 0}return a},orient:a=>{({orient:a}=a);return a},tickCount:a=>{let {channel:b,model:e,axis:f,fieldOrDatumDef:g,scaleType:n}=a;a=(a="x"===b?"width":"y"===b?"height":void 0)?e.getSizeSignalRef(a):void 0;let B;if(null!=(B=f.tickCount))var O=B;else a:{let {fieldOrDatumDef:Z,scaleType:wa,size:bb,values:nb}={fieldOrDatumDef:g,scaleType:n,size:a,values:f.values};if(nb||Td(wa)||"log"===wa)O=void 0;else{if(ua(Z)){if(sb(Z.bin)){O={signal:`ceil(${bb.signal}/10)`};break a}if(Z.timeUnit&&
zb(["month","hours","day","quarter"],null==(O=pd(Z.timeUnit))?void 0:O.unit)){O=void 0;break a}}O={signal:`ceil(${bb.signal}/40)`}}}return O},tickMinStep:function(a){let {format:b,fieldOrDatumDef:e}=a;if("d"===b)return 1;if(ua(e)&&({timeUnit:a}=e,a&&(a=le(a))))return{signal:a}},title:a=>{let {axis:b,model:e,channel:f}=a;if(void 0!==b.title)return b.title;a=fj(e,f);if(void 0!==a)return a;a=e.typedFieldDef(f);const g=e.fieldDef("x"===f?"x2":"y2");return na(a?[xe(a)]:[],ua(g)?[xe(g)]:[])},values:a=>
{let {axis:b,fieldOrDatumDef:e}=a;a=b.values;a=h.isArray(a)?Te(e,a):Mb(a)?a:void 0;return a},zindex:a=>{let {axis:b,fieldOrDatumDef:e,mark:f}=a;null==(a=b.zindex)&&(a="rect"===f&&Vd(e)?1:0);return a}};class Ni extends mf{clone(){return new Ni(null,He(this.transform))}constructor(a,b){super(a);this.transform=b;Q(this,"_dependentFields",void 0);this._dependentFields=sj(this.transform.calculate)}static parseAllForSortIndex(a,b){b.forEachFieldDef((e,f)=>{if($c(e)&&oe(e.sort)){const {field:n,timeUnit:B}=
e;var g=e.sort;g=g.map((O,Z)=>`${Lb({field:n,timeUnit:B,equal:O})} ? ${Z} : `).join("")+g.length;a=new Ni(a,{calculate:g,as:Ri(e,f,{forAs:!0})})}});return a}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${Xb(this.transform)}`}}const Bj=["row","column"],bl=["header","footer"],El={column:{start:0,end:1},row:{start:1,end:0}},Nl=Object.assign({},
{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,
symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,
strokeDash:1,encode:1}),Fk=vd(Nl);class Ml extends Kf{}const Fl={symbols:function(a,b){let {fieldOrDatumDef:e,model:f,channel:g,legendCmpt:n,legendType:B}=b;if("symbol"===B){var {markDef:O,encoding:Z,config:wa,mark:bb}=f;b=O.filled&&"trail"!==bb;var nb=Object,hc=nb.assign,Nc={};for(var lc of Yi){const Ee=jc(lc,f.markDef,f.config);void 0!==Ee&&(Nc[lc]=Ta(Ee))}lc=hc.call(nb,{},Nc,Wc(f,{filled:b}));var Lc;nb=null!=(Lc=n.get("symbolOpacity"))?Lc:wa.legend.symbolOpacity;var bd;Lc=null!=(bd=n.get("symbolFillColor"))?
bd:wa.legend.symbolFillColor;var ed;bd=null!=(ed=n.get("symbolStrokeColor"))?ed:wa.legend.symbolStrokeColor;var ke;ed=void 0===nb?null!=(ke=H(Z.opacity))?ke:O.opacity:void 0;if(lc.fill)if("fill"===g||b&&"color"===g)delete lc.fill;else if(lc.fill.field)if(Lc)delete lc.fill;else{let Ee;lc.fill=Ta(null!=(Ee=wa.legend.symbolBaseFillColor)?Ee:"black");lc.fillOpacity=Ta(null!=ed?ed:1)}else if(h.isArray(lc.fill)){var ce;let Ee,Qe;if(ke=null!=(Qe=null!=(Ee=L(null!=(ce=Z.fill)?ce:Z.color))?Ee:O.fill)?Qe:b&&
O.color)lc.fill=Ta(ke)}lc.stroke&&("stroke"===g||!b&&"color"===g?delete lc.stroke:lc.stroke.field||bd?delete lc.stroke:h.isArray(lc.stroke)&&(ce=U(L(Z.stroke||Z.color),O.stroke,b?O.color:void 0))&&(lc.stroke={value:ce}));"opacity"!==g&&((ce=ua(e)&&Ua(f,n,e))?lc.opacity=[Object.assign({},{test:ce},Ta(null!=ed?ed:1)),Ta(wa.legend.unselectedOpacity)]:ed&&(lc.opacity=Ta(ed)));lc=Object.assign({},lc,a);return gb(lc)?void 0:lc}},gradient:function(a,b){let {model:e,legendType:f,legendCmpt:g}=b;if("gradient"===
f){var {config:n,markDef:B,encoding:O}=e;b={};var Z,wa=void 0===(null!=(Z=g.get("gradientOpacity"))?Z:n.legend.gradientOpacity)?H(O.opacity)||B.opacity:void 0;wa&&(b.opacity=Ta(wa));b=Object.assign({},b,a);return gb(b)?void 0:b}},labels:function(a,b){let {fieldOrDatumDef:e,model:f,channel:g,legendCmpt:n}=b;var B=f.legend(g)||{};b=f.config;var O=ua(e)?Ua(f,n,e):void 0;O=O?[{test:O,value:1},{value:b.legend.unselectedOpacity}]:void 0;const {format:Z,formatType:wa}=B;B=void 0;ne(wa)?B=qe({fieldOrDatumDef:e,
field:"datum.value",format:Z,formatType:wa,config:b}):void 0===Z&&void 0===wa&&b.customFormatTypes&&("quantitative"===e.type&&b.numberFormatType?B=qe({fieldOrDatumDef:e,field:"datum.value",format:b.numberFormat,formatType:b.numberFormatType,config:b}):"temporal"===e.type&&b.timeFormatType&&ua(e)&&void 0===e.timeUnit&&(B=qe({fieldOrDatumDef:e,field:"datum.value",format:b.timeFormat,formatType:b.timeFormatType,config:b})));a=Object.assign({},O?{opacity:O}:{},B?{text:B}:{},a);return gb(a)?void 0:a},
entries:function(a,b){({legendCmpt:b}=b);let e;return(null==(e=b.get("selections"))?0:e.length)?Object.assign({},a,{fill:{value:"transparent"}}):a}},ll={direction:a=>{({direction:a}=a);return a},format:a=>{let {fieldOrDatumDef:b,legend:e,config:f}=a;const {format:g,formatType:n}=e;return hf(b,b.type,g,n,f,!1)},formatType:a=>{let {legend:b,fieldOrDatumDef:e,scaleType:f}=a;({formatType:a}=b);return pf(a,e,f)},gradientLength:a=>{const {legend:b,legendConfig:e}=a;let f,g;if(null!=(g=null!=(f=b.gradientLength)?
f:e.gradientLength))a=g;else{{let {legendConfig:n,model:B,direction:O,orient:Z,scaleType:wa}=a;const {gradientHorizontalMaxLength:bb,gradientHorizontalMinLength:nb,gradientVerticalMaxLength:hc,gradientVerticalMinLength:Nc}=n;a=og.has(wa)?"horizontal"===O?"top"===Z||"bottom"===Z?cb(B,"width",nb,bb):nb:cb(B,"height",Nc,hc):void 0}}return a},labelOverlap:a=>{let {legend:b,legendConfig:e,scaleType:f}=a;var g;g=null!=(a=null!=(g=b.labelOverlap)?g:e.labelOverlap)?a:zb(["quantile","threshold","log","symlog"],
f)?"greedy":void 0;return g},symbolType:a=>{let {legend:b,markDef:e,channel:f,encoding:g}=a;if(null!=(a=b.symbolType))var n=a;else a:{a=e.type;var B=e.shape;if("shape"!==f){const O=null!=(n=L(g.shape))?n:B;if(O){n=O;break a}}switch(a){case "bar":case "rect":case "image":case "square":n="square";break a;case "line":case "trail":case "rule":n="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":n="circle";break a}n=void 0}return n},title:a=>{let {fieldOrDatumDef:b,
config:e}=a;return Zc(b,e,{allowDisabling:!0})},type:a=>{let {legendType:b,scaleType:e,channel:f}=a;if(K(f)&&og.has(e)){if("gradient"===b)return}else if("symbol"===b)return;return b},values:a=>{let {fieldOrDatumDef:b,legend:e}=a;a=e.values;a=h.isArray(a)?Te(b,a):Mb(a)?a:void 0;return a}},lm="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");class Fj extends Kf{constructor(a,b,e,f){super(Object.assign({},
b),{name:a});this.specifiedProjection=b;this.size=e;this.data=f;Q(this,"merged",!1)}get isFit(){return!!this.data}}class Bi extends mf{clone(){return new Bi(null,He(this.bins))}constructor(a,b){super(a);this.bins=b}static makeFromEncoding(a,b){const e=b.reduceFieldDef((f,g,n)=>{if(xc(g)&&sb(g.bin)){const {key:nb,binComponent:hc}=Sd(g,g.bin,b);var B=Object,O=B.assign,Z=f[nb];var wa=b.config;if(kf(g,n)){var bb;let Nc;const lc=Nf(b)?null!=(Nc=null!=(bb=b.axis(n))?bb:b.legend(n))?Nc:{}:{};n=Sc(g,{expr:"datum"});
bb=Sc(g,{expr:"datum",binSuffix:"end"});g={formulaAs:Sc(g,{binSuffix:"range",forAs:!0}),formula:af(n,bb,lc.format,lc.formatType,wa)}}else g={};f[nb]=O.call(B,{},hc,Z,g)}return f},{});return gb(e)?null:new Bi(a,e)}static makeFromTransform(a,b,e){const {key:f,binComponent:g}=Sd(b,b.bin,e);return new Bi(a,{[f]:g})}merge(a,b){for(const e of vd(a.bins))e in this.bins?(b(a.bins[e].signal,this.bins[e].signal),this.bins[e].as=Za([...this.bins[e].as,...a.bins[e].as],Xb)):this.bins[e]=a.bins[e];for(const e of a.children)a.removeChild(e),
e.parent=this;a.remove()}producedFields(){return new Set(ng(this.bins).map(a=>a.as).flat(2))}dependentFields(){return new Set(ng(this.bins).map(a=>a.field))}hash(){return`Bin ${Xb(this.bins)}`}assemble(){return ng(this.bins).flatMap(a=>{const b=[],[e,...f]=a.as;var g=a.bin,n=Object.assign({},g);g=g.extent;n=(delete n.extent,n);n=Object.assign({},{type:"bin",field:ab(a.field),as:e,signal:a.signal},Tb(g)?{extent:null}:{extent:g},a.span?{span:{signal:`span(${a.span})`}}:{},n);!g&&a.extentSignal&&(b.push({type:"extent",
field:ab(a.field),signal:a.extentSignal}),n.extent={signal:a.extentSignal});b.push(n);for(const B of f)for(g=0;2>g;g++)b.push({type:"formula",expr:Sc({field:e[g]},{expr:"datum"}),as:B[g]});a.formula&&b.push({type:"formula",expr:a.formula,as:a.formulaAs});return b})}}class yh extends mf{clone(){return new yh(null,new Set(this.dimensions),He(this.measures))}constructor(a,b,e){super(a);this.dimensions=b;this.measures=e}get groupBy(){return this.dimensions}static makeFromEncoding(a,b){let e=!1;b.forEachFieldDef(n=>
{n.aggregate&&(e=!0)});const f={},g=new Set;if(!e)return null;b.forEachFieldDef((n,B)=>{const {aggregate:O,field:Z}=n;if(O)if("count"===O)null!=f["*"]||(f["*"]={}),f["*"].count=new Set([Sc(n,{forAs:!0})]);else{if(ma(O)||ya(O)){n=ma(O)?"argmin":"argmax";var wa=O[n];null!=f[wa]||(f[wa]={});f[wa][n]=new Set([Sc({op:n,field:wa},{forAs:!0})])}else null!=f[Z]||(f[Z]={}),f[Z][O]=new Set([Sc(n,{forAs:!0})]);Mh[B]&&"unaggregated"===b.scaleDomain(B)&&(null!=f[Z]||(f[Z]={}),f[Z].min=new Set([Sc({field:Z,aggregate:"min"},
{forAs:!0})]),f[Z].max=new Set([Sc({field:Z,aggregate:"max"},{forAs:!0})]))}else{var bb=Nf(b)?b.encoding[W(B)]:void 0;if(xc(n)&&Nf(b)&&p(n,bb,b.markDef,b.config)){g.add(Sc(n,{}));g.add(Sc(n,{suffix:"end"}));const {mark:nb,markDef:hc,config:Nc}=b;bb=y({fieldDef:n,markDef:hc,config:Nc});dc(nb)&&.5!==bb&&F(B)&&(g.add(Sc(n,{suffix:"offsetted_rect_start"})),g.add(Sc(n,{suffix:"offsetted_rect_end"})));n.bin&&kf(n,B)&&g.add(Sc(n,{binSuffix:"range"}))}else B in mi?(B=D(B),g.add(b.getName(B))):g.add(Sc(n));
if(B=$c(n))B=null==(wa=n.scale)?void 0:wa.range,B=h.isObject(B)&&"field"in B;B&&g.add(n.scale.range.field)}});return 0===g.size+vd(f).length?null:new yh(a,g,f)}static makeFromTransform(a,b){const e=new Set,f={};for(const n of b.aggregate){const {op:B,field:O,as:Z}=n;if(B)if("count"===B){let wa;null!=(wa=f)["*"]||(wa["*"]={});f["*"].count=new Set([Z?Z:Sc(n,{forAs:!0})])}else{let wa,bb;null!=(wa=f)[bb=O]||(wa[bb]={});f[O][B]=new Set([Z?Z:Sc(n,{forAs:!0})])}}let g;for(const n of null!=(g=b.groupby)?
g:[])e.add(n);return 0===e.size+vd(f).length?null:new yh(a,e,f)}merge(a){if(tb(this.dimensions,a.dimensions)){var b=this.measures;a=a.measures;for(const e of vd(a)){const f=a[e];for(const g of vd(f))if(e in b){let n;b[e][g]=new Set([...(null!=(n=b[e][g])?n:[]),...f[g]])}else b[e]={[g]:f[g]}}return!0}xa("different dimensions, cannot merge");return!1}addDimensions(a){a.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...vd(this.measures)])}producedFields(){const a=
new Set;for(const b of vd(this.measures))for(const e of vd(this.measures[b])){const f=this.measures[b][e];0===f.size?a.add(`${e}_${b}`):f.forEach(a.add,a)}return a}hash(){return`Aggregate ${Xb({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const a=[],b=[],e=[];for(const f of vd(this.measures))for(const g of vd(this.measures[f]))for(const n of this.measures[f][g])e.push(n),a.push(g),b.push("*"===f?null:ab(f));return{type:"aggregate",groupby:[...this.dimensions].map(ab),ops:a,fields:b,
as:e}}}class c extends mf{constructor(a,b,e,f){super(a);this.model=b;this.name=e;this.data=f;Q(this,"column",void 0);Q(this,"row",void 0);Q(this,"facet",void 0);Q(this,"childModel",void 0);for(const g of qh)if(a=b.facet[g]){const {bin:n,sort:B}=a;this[g]=Object.assign({},{name:b.getName(`${g}_domain`),fields:[Sc(a),...(sb(n)?[Sc(a,{binSuffix:"end"})]:[])]},se(B)?{sortField:B}:h.isArray(B)?{sortIndexField:Ri(a,g)}:{})}this.childModel=b.child}hash(){let a="Facet";for(const b of qh)this[b]&&(a+=` ${b.charAt(0)}:${Xb(this[b])}`);
return a}get fields(){const a=[];for(const b of qh){let e;(null==(e=this[b])?0:e.fields)&&a.push(...this[b].fields)}return a}dependentFields(){const a=new Set(this.fields);for(const b of qh)this[b]&&(this[b].sortField&&a.add(this[b].sortField.field),this[b].sortIndexField&&a.add(this[b].sortIndexField));return a}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const a={};for(const f of Ph){var b=this.childModel.component.scales[f];if(b&&!b.merged){var e=
b.get("type");b=b.get("range");Td(e)&&Qb(b)&&(e=Ui(this.childModel,f),(e=dk(e))?a[f]=e:J(Rb(f)))}}return a}assembleRowColumnHeaderData(a,b,e){const f={row:"y",column:"x",facet:void 0}[a],g=[],n=[],B=[];f&&e&&e[f]&&(b?(g.push(`distinct_${e[f]}`),n.push("max")):(g.push(e[f]),n.push("distinct")),B.push(`distinct_${e[f]}`));const {sortField:O,sortIndexField:Z}=this[a];if(O){const {op:wa="min",field:bb}=O;g.push(bb);n.push(wa);B.push(Sc(O,{forAs:!0}))}else Z&&(g.push(Z),n.push("max"),B.push(Z));return{name:this[a].name,
source:null!=b?b:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[a].fields},g.length?{fields:g,ops:n,as:B}:{})]}}assembleFacetHeaderData(a){const {columns:b}=this.model.layout,{layoutHeaders:e}=this.model.component,f=[],g={};for(const Z of Bj){for(const wa of bl){let bb;var n=null!=(bb=e[Z]&&e[Z][wa])?bb:[];for(const nb of n){let hc;if(0<(null==(hc=nb.axes)?void 0:hc.length)){g[Z]=!0;break}}}g[Z]&&(n=`length(data("${this.facet.name}"))`,f.push({name:`${this.facet.name}_${Z}`,
transform:[{type:"sequence",start:0,stop:"row"===Z?b?{signal:`ceil(${n} / ${b})`}:1:b?{signal:`min(${n}, ${b})`}:{signal:n}}]}))}const {row:B,column:O}=g;(B||O)&&f.unshift(this.assembleRowColumnHeaderData("facet",null,a));return f}assemble(){const a=[];var b=null;const e=this.getChildIndependentFieldsWithStep(),{column:f,row:g,facet:n}=this;if(f&&g&&(e.x||e.y)){b=`cross_${this.column.name}_${this.row.name}`;var B;let O;const Z=[].concat(null!=(B=e.x)?B:[],null!=(O=e.y)?O:[]);B=Z.map(()=>"distinct");
a.push({name:b,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:Z,ops:B}]})}for(const O of["column","row"])this[O]&&a.push(this.assembleRowColumnHeaderData(O,b,e));n&&(b=this.assembleFacetHeaderData(e))&&a.push(...b);return a}}class d extends mf{clone(){return new d(null,He(this._parse))}constructor(a,b){super(a);Q(this,"_parse",void 0);this._parse=b}hash(){return`Parse ${Xb(this._parse)}`}static makeExplicit(a,b,e){let f={};b=b.data;let g;!sg(b)&&(null==b?0:null==(g=b.format)?
0:g.parse)&&(f=b.format.parse);return this.makeWithAncestors(a,f,{},e)}static makeWithAncestors(a,b,e,f){for(var g of vd(e)){const B=f.getWithExplicit(g);void 0!==B.value&&(B.explicit||B.value===e[g]||"derived"===B.value||"flatten"===e[g]?delete e[g]:J(Dc(g,e[g],B.value)))}for(var n of vd(b))g=f.get(n),void 0!==g&&(g===b[n]?delete b[n]:J(Dc(n,b[n],g)));b=new Kf(b,e);f.copyAll(b);e={};for(const B of vd(b.combine()))n=b.get(B),null!==n&&(e[B]=n);return 0===vd(e).length||f.parseNothing?null:new d(a,
e)}get parse(){return this._parse}merge(a){this._parse=Object.assign({},this._parse,a.parse);a.remove()}assembleFormatParse(){const a={};for(const b of vd(this._parse)){const e=this._parse[b];1===db(b)&&(a[b]=e)}return a}producedFields(){return new Set(vd(this._parse))}dependentFields(){return new Set(vd(this._parse))}assembleTransforms(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;return vd(this._parse).filter(b=>a?1<db(b):!0).map(b=>{const e=Gf(b,this._parse[b]);return e?{type:"formula",
expr:e,as:Pb(b)}:null}).filter(b=>null!==b)}}class k extends mf{clone(){return new k(null)}constructor(a){super(a)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:"_vgsid_"}}}class u extends mf{clone(){return new u(null,this.params)}constructor(a,b){super(a);this.params=b}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${Xb(this.params)}`}assemble(){return Object.assign({},{type:"graticule"},
!0===this.params?{}:this.params)}}class S extends mf{clone(){return new S(null,this.params)}constructor(a,b){super(a);this.params=b}dependentFields(){return new Set}producedFields(){let a;return new Set([null!=(a=this.params.as)?a:"data"])}hash(){return`Hash ${Xb(this.params)}`}assemble(){return Object.assign({},{type:"sequence"},this.params)}}class fa extends mf{constructor(a){super(null);Q(this,"_data",void 0);Q(this,"_name",void 0);Q(this,"_generator",void 0);null!=a||(a={name:"source"});let b;
sg(a)||(b=a.format?Object.assign({},bc(a.format,["parse"])):{});if("values"in a)this._data={values:a.values};else if("url"in a){if(this._data={url:a.url},!b.type){let e=/(?:\.([^.]+))?$/.exec(a.url)[1];zb(["json","csv","tsv","dsv","topojson"],e)||(e="json");b.type=e}}else if("sphere"in a)this._data={values:[{type:"Sphere"}]};else if(Mi(a)||sg(a))this._data={};this._generator=sg(a);a.name&&(this._name=a.name);b&&!gb(b)&&(this._data.format=b)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(a){this._name=
a}set parent(a){throw Error("Source nodes have to be roots.");}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");}assemble(){return Object.assign({},{name:this._name},this._data,{transform:[]})}}var Sa=new WeakMap;class Vb{constructor(){if(Sa.has(this))throw new TypeError("Cannot initialize the same private elements twice on an object");Sa.set(this,{writable:!0,value:void 0});t(this,Sa,!1)}setModified(){t(this,Sa,!0)}get modifiedFlag(){var a=
da(this,Sa,"get");return a.get?a.get.call(this):a.value}}class nc extends Vb{getNodeDepths(a,b,e){e.set(a,b);for(const f of a.children)this.getNodeDepths(f,b+1,e);return e}optimize(a){a=[...this.getNodeDepths(a,0,new Map).entries()].sort((b,e)=>e[1]-b[1]);for(const b of a)this.run(b[0]);return this.modifiedFlag}}class Uc extends Vb{optimize(a){this.run(a);for(const b of a.children)this.optimize(b);return this.modifiedFlag}}class xd extends Uc{mergeNodes(a,b){const e=b.shift();for(const f of b)a.removeChild(f),
f.parent=e,f.remove()}run(a){const b=a.children.map(f=>f.hash()),e={};for(let f=0;f<b.length;f++)void 0===e[b[f]]?e[b[f]]=[a.children[f]]:e[b[f]].push(a.children[f]);for(const f of vd(e))1<e[f].length&&(this.setModified(),this.mergeNodes(a,e[f]))}}class Cd extends Uc{constructor(a){super();Q(this,"requiresSelectionId",void 0);this.requiresSelectionId=a&&Cf(a)}run(a){!(a instanceof k)||this.requiresSelectionId&&(Bg(a.parent)||a.parent instanceof yh||a.parent instanceof d)||(this.setModified(),a.remove())}}
class wd extends Vb{optimize(a){this.run(a,new Set);return this.modifiedFlag}run(a,b){let e=new Set;a instanceof wh&&(e=a.producedFields(),rb(e,b)&&(this.setModified(),a.removeFormulas(b),0===a.producedFields.length&&a.remove()));for(const f of a.children)this.run(f,new Set([...b,...e]))}}class Ud extends Uc{constructor(){super()}run(a){a instanceof Rg&&!a.isRequired()&&(this.setModified(),a.remove())}}class fe extends nc{run(a){if(!(Bg(a)||1<a.numChildren()))for(const b of a.children)b instanceof
d&&(a instanceof d?(this.setModified(),a.merge(b)):vb(a.producedFields(),b.dependentFields())||(this.setModified(),b.swapWithParent()))}}class me extends nc{run(a){const b=[...a.children];var e=a.children.filter(g=>g instanceof d);if(1<a.numChildren()&&1<=e.length){const g={};var f=new Set;for(const n of e){e=n.parse;for(const B of vd(e))B in g?g[B]!==e[B]&&f.add(B):g[B]=e[B]}for(const n of f)delete g[n];if(!gb(g)){this.setModified();f=new d(a,g);for(const n of b){if(n instanceof d)for(const B of vd(g))delete n.parse[B];
a.removeChild(n);n.parent=f;n instanceof d&&0===vd(n.parse).length&&n.remove()}}}}}class cg extends nc{run(a){a instanceof Rg||0<a.numChildren()||a instanceof c||a instanceof fa||(this.setModified(),a.remove())}}class Hc extends nc{run(a){a=a.children.filter(e=>e instanceof wh);const b=a.pop();for(const e of a)this.setModified(),b.merge(e)}}class vc extends nc{run(a){var b=a.children.filter(g=>g instanceof yh);const e={};for(var f of b)b=Xb(f.groupBy),b in e||(e[b]=[]),e[b].push(f);for(const g of vd(e))if(f=
e[g],1<f.length){b=f.pop();for(const n of f)b.merge(n)&&(a.removeChild(n),n.parent=b,n.remove(),this.setModified())}}}class Qc extends nc{constructor(a){super();this.model=a}run(a){var b=!(Bg(a)||a instanceof wi||a instanceof d||a instanceof k);const e=[],f=[];for(const g of a.children)g instanceof Bi&&(b&&!vb(a.producedFields(),g.dependentFields())?e.push(g):f.push(g));if(0<e.length){b=e.pop();for(const g of e)b.merge(g,this.model.renameSignal.bind(this.model));this.setModified();a instanceof Bi?
a.merge(b,this.model.renameSignal.bind(this.model)):b.swapWithParent()}if(1<f.length){a=f.pop();for(const g of f)a.merge(g,this.model.renameSignal.bind(this.model));this.setModified()}}}class Jd extends nc{run(a){var b=[...a.children];if(Ub(b,g=>g instanceof Rg)&&!(1>=a.numChildren())){var e=[];for(const g of b)if(g instanceof Rg){for(b=g;1===b.numChildren();){const [n]=b.children;if(n instanceof Rg)b=n;else break}e.push(...b.children);if(f)a.removeChild(g),g.parent=f.parent,f.parent.removeChild(f),
f.parent=b,this.setModified();else var f=b}else e.push(g);if(e.length){this.setModified();for(const g of e)g.parent.removeChild(g),g.parent=f}}}}class ee extends mf{clone(){return new ee(null,He(this.transform))}constructor(a,b){super(a);this.transform=b}addDimensions(a){this.transform.groupby=Za(this.transform.groupby.concat(a),b=>b)}dependentFields(){const a=new Set;this.transform.groupby&&this.transform.groupby.forEach(a.add,a);this.transform.joinaggregate.map(b=>b.field).filter(b=>void 0!==b).forEach(a.add,
a);return a}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(a){let b;return null!=(b=a.as)?b:Sc(a)}hash(){return`JoinAggregateTransform ${Xb(this.transform)}`}assemble(){const a=[],b=[],e=[];for(var f of this.transform.joinaggregate)b.push(f.op),e.push(this.getDefaultName(f)),a.push(void 0===f.field?null:f.field);f=this.transform.groupby;return Object.assign({},{type:"joinaggregate",as:e,ops:b,fields:a},void 0!==f?{groupby:f}:{})}}class pe extends mf{clone(){return new pe(null,
He(this._stack))}constructor(a,b){super(a);Q(this,"_stack",void 0);this._stack=b}static makeFromTransform(a,b){const {stack:e,groupby:f,as:g,offset:n="zero"}=b;var B=[];const O=[];if(void 0!==b.sort)for(const Z of b.sort)B.push(Z.field),O.push(U(Z.order,"ascending"));B={field:B,order:O};b=ze(g)?g:h.isString(g)?[g,`${g}_end`]:[`${b.stack}_start`,`${b.stack}_end`];return new pe(a,{dimensionFieldDefs:[],stackField:e,groupby:f,offset:n,sort:B,facetby:[],as:b})}static makeFromEncoding(a,b){var e=b.stack;
const {encoding:f}=b;if(!e)return null;const {groupbyChannels:g,fieldChannel:n,offset:B,impute:O}=e;e=g.map(bb=>Ce(f[bb])).filter(bb=>!!bb);const Z=Mf(b);var wa=b.encoding.order;if(h.isArray(wa)||ua(wa))wa=Vc(wa);else{const bb=wa&&wa.sort&&!wa.field?wa.sort:"y"===n?"descending":"ascending";wa=Z.reduce((nb,hc)=>{nb.field.push(hc);nb.order.push(bb);return nb},{field:[],order:[]})}return new pe(a,{dimensionFieldDefs:e,stackField:b.vgField(n),facetby:[],stackby:Z,sort:wa,offset:B,impute:O,as:[b.vgField(n,
{suffix:"start",forAs:!0}),b.vgField(n,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(a){this._stack.facetby.push(...a)}dependentFields(){const a=new Set;a.add(this._stack.stackField);this.getGroupbyFields().forEach(a.add,a);this._stack.facetby.forEach(a.add,a);this._stack.sort.field.forEach(a.add,a);return a}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${Xb(this._stack)}`}getGroupbyFields(){const {dimensionFieldDefs:a,impute:b,groupby:e}=this._stack;
return 0<a.length?a.map(f=>f.bin?b?[Sc(f,{binSuffix:"mid"})]:[Sc(f,{}),Sc(f,{binSuffix:"end"})]:[Sc(f)]).flat():null!=e?e:[]}assemble(){const a=[],{facetby:b,dimensionFieldDefs:e,stackField:f,stackby:g,sort:n,offset:B,impute:O,as:Z}=this._stack;if(O)for(const wa of e){const {bandPosition:bb=.5,bin:nb}=wa;if(nb){const hc=Sc(wa,{expr:"datum"}),Nc=Sc(wa,{expr:"datum",binSuffix:"end"});a.push({type:"formula",expr:`${bb}*${hc}+${1-bb}*${Nc}`,as:Sc(wa,{binSuffix:"mid",forAs:!0})})}a.push({type:"impute",
field:f,groupby:[...g,...b],key:Sc(wa,{binSuffix:"mid"}),method:"value",value:0})}a.push({type:"stack",groupby:[...this.getGroupbyFields(),...b],field:f,sort:n,as:Z,offset:B});return a}}class ve extends mf{clone(){return new ve(null,He(this.transform))}constructor(a,b){super(a);this.transform=b}addDimensions(a){this.transform.groupby=Za(this.transform.groupby.concat(a),b=>b)}dependentFields(){const a=new Set;let b;(null!=(b=this.transform.groupby)?b:[]).forEach(a.add,a);let e;(null!=(e=this.transform.sort)?
e:[]).forEach(f=>a.add(f.field));this.transform.window.map(f=>f.field).filter(f=>void 0!==f).forEach(a.add,a);return a}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(a){let b;return null!=(b=a.as)?b:Sc(a)}hash(){return`WindowTransform ${Xb(this.transform)}`}assemble(){const a=[],b=[],e=[],f=[];for(var g of this.transform.window)b.push(g.op),e.push(this.getDefaultName(g)),f.push(void 0===g.param?null:g.param),a.push(void 0===g.field?null:g.field);g=this.transform.frame;
const n=this.transform.groupby;if(g&&null===g[0]&&null===g[1]&&b.every(wa=>Ma(wa)))return Object.assign({},{type:"joinaggregate",as:e,ops:b,fields:a},void 0!==n?{groupby:n}:{});const B=[],O=[];if(void 0!==this.transform.sort)for(var Z of this.transform.sort){B.push(Z.field);let wa;O.push(null!=(wa=Z.order)?wa:"ascending")}Z=this.transform.ignorePeers;return Object.assign({},{type:"window",params:f,as:e,ops:b,fields:a,sort:{field:B,order:O}},void 0!==Z?{ignorePeers:Z}:{},void 0!==n?{groupby:n}:{},
void 0!==g?{frame:g}:{})}}class ge{constructor(a){Q(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:a})}static fromName(a,b){return new ge(()=>a(b))}}class xg extends Kf{constructor(a,b){super({},{name:a});Q(this,"merged",!1);this.setWithExplicit("type",b)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")?!0:Ub(this.get("domains"),a=>h.isArray(a)&&2===a.length&&h.isNumber(a[0])&&0>=a[0]&&h.isNumber(a[1])&&0<=a[1])}}const jf=["range","scheme"],pi={bins:a=>{let {model:b,
fieldOrDatumDef:e}=a;return ua(e)?mj(b,e):void 0},interpolate:a=>{let {channel:b,fieldOrDatumDef:e}=a;a=e.type;a=zb(["color","fill","stroke"],b)&&"nominal"!==a?"hcl":void 0;return a},nice:a=>{let {scaleType:b,channel:e,domain:f,domainMin:g,domainMax:n,fieldOrDatumDef:B}=a;{let O;a=(null==(O=Ce(B))?0:O.bin)||h.isArray(f)||null!=n||null!=g||zb([jg.TIME,jg.UTC],b)?void 0:F(e)?!0:void 0}return a},padding:a=>{let {channel:b,scaleType:e,fieldOrDatumDef:f,markDef:g,config:n}=a;a:{a=n.scale;var B=n.bar;if(F(b)){if(og.has(e)){if(void 0!==
a.continuousPadding){a=a.continuousPadding;break a}const {type:O,orient:Z}=g;if("bar"===O&&(!ua(f)||!f.bin&&!f.timeUnit)&&("vertical"===Z&&"x"===b||"horizontal"===Z&&"y"===b)){a=B.continuousBandSize;break a}}if(e===jg.POINT){a=a.pointPadding;break a}}a=void 0}return a},paddingInner:a=>{let {scalePadding:b,channel:e,markDef:f,scaleType:g,config:n,hasNestedOffsetScale:B}=a;return bk(b,e,f.type,g,n.scale,B)},paddingOuter:a=>{let {scalePadding:b,channel:e,scaleType:f,scalePaddingInner:g,config:n,hasNestedOffsetScale:B}=
a;return ck(b,e,f,g,n.scale,B)},reverse:a=>{let {fieldOrDatumDef:b,scaleType:e,channel:f,config:g}=a;a=ua(b)?b.sort:void 0;var n=g.scale;a="x"===f&&void 0!==n.xReverse?Md(e)&&"descending"===a?Mb(n.xReverse)?{signal:`!${n.xReverse.signal}`}:!n.xReverse:n.xReverse:Md(e)&&"descending"===a?!0:void 0;return a},zero:a=>{let {channel:b,fieldOrDatumDef:e,domain:f,markDef:g,scaleType:n,config:B,hasSecondaryRangeChannel:O}=a;a:if(a=B.scale,f&&"unaggregated"!==f&&Md(n)){if(h.isArray(f)){a=f[0];const Z=f[f.length-
1];if(h.isNumber(a)&&0>=a&&h.isNumber(Z)&&0<=Z){a=!0;break a}}a=!1}else if("size"!==b||"quantitative"!==e.type||ai.has(n))if(ua(e)&&e.bin||!zb([...Ph,...ol],b))a=!1;else{const {orient:Z,type:wa}=g;a=zb(["bar","area","line","trail"],wa)&&("horizontal"===Z&&"y"===b||"vertical"===Z&&"x"===b)?!1:zb(["bar","area"],wa)&&!O?!0:null==a?void 0:a.zero}else a=!0;return a}},Wl=Ih((a,b)=>ah[a]-ah[b]);class vm{constructor(){Q(this,"nameMap",void 0);this.nameMap={}}rename(a,b){this.nameMap[a]=b}has(a){return void 0!==
this.nameMap[a]}get(a){for(;this.nameMap[a]&&a!==this.nameMap[a];)a=this.nameMap[a];return a}}class wm{constructor(a,b,e,f,g,n,B){this.type=b;this.parent=e;this.config=g;Q(this,"name",void 0);Q(this,"size",void 0);Q(this,"title",void 0);Q(this,"description",void 0);Q(this,"data",void 0);Q(this,"transforms",void 0);Q(this,"layout",void 0);Q(this,"scaleNameMap",void 0);Q(this,"projectionNameMap",void 0);Q(this,"signalNameMap",void 0);Q(this,"component",void 0);Q(this,"view",void 0);Q(this,"children",
void 0);Q(this,"correctDataNames",wa=>{let bb;if(null==(bb=wa.from)?0:bb.data)wa.from.data=this.lookupDataSource(wa.from.data);let nb,hc;if(null==(nb=wa.from)?0:null==(hc=nb.facet)?0:hc.data)wa.from.facet.data=this.lookupDataSource(wa.from.facet.data);return wa});this.parent=e;this.config=g;this.view=Kb(B);let O;this.name=null!=(O=a.name)?O:f;this.title=$b(a.title)?{text:a.title}:a.title?Kb(a.title):void 0;this.scaleNameMap=e?e.scaleNameMap:new vm;this.projectionNameMap=e?e.projectionNameMap:new vm;
this.signalNameMap=e?e.signalNameMap:new vm;this.data=a.data;this.description=a.description;let Z;this.transforms=Hh(null!=(Z=a.transform)?Z:[]);this.layout="layer"===b||"unit"===b?{}:Ye(a,b,g);this.component={data:{sources:e?e.component.data.sources:[],outputNodes:e?e.component.data.outputNodes:{},outputNodeRefCounts:e?e.component.data.outputNodeRefCounts:{},isFaceted:"facet"in a||(null==e?void 0:e.component.data.isFaceted)&&void 0===a.data},layoutSize:new Kf,layoutHeaders:{row:{},column:{},facet:{}},
mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},n?He(n):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){ek(this)}parseProjection(){tc(this)}renameTopLevelLayoutSizeSignal(){"width"!==
this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){ob(this)}assembleEncodeFromView(a){a=Object.assign({},a);a=(delete a.style,a);const b={};for(const e of vd(a)){const f=a[e];void 0!==f&&(b[e]=Ta(f))}return b}assembleGroupEncodeEntry(a){let b={};this.view&&(b=this.assembleEncodeFromView(this.view));if(!a&&(this.description&&(b.description=Ta(this.description)),"unit"===this.type||
"layer"===this.type)){let e;return Object.assign({},{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!=(e=b)?e:{})}return gb(b)?void 0:b}assembleLayout(){if(this.layout){var a=this.layout,b=Object.assign({},a);a=a.spacing;b=(delete b.spacing,b);var {component:e,config:f}=this,g=e.layoutHeaders,n={};for(O of qh){var B=g[O];let Z;if(null==(Z=B)?0:Z.facetFieldDef){const {titleAnchor:wa,titleOrient:bb}=Wh(["titleAnchor","titleOrient"],B.facetFieldDef.header,f,O);B=Cg(O,
bb);const nb=El[B][wa];void 0!==nb&&(n[B]=nb)}}var O=gb(n)?void 0:n;return Object.assign({},{padding:a},this.assembleDefaultLayout(),b,O?{titleBand:O}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){var {layoutHeaders:a}=this.component,b=[];for(var e of qh)if(a[e].title){var f=b,g=f.push;var n=e;var B=this.component.layoutHeaders[n].title,O=this.config?this.config:void 0,Z=this.component.layoutHeaders[n].facetFieldDef?this.component.layoutHeaders[n].facetFieldDef:void 0;const {titleAnchor:Lc,
titleAngle:bd,titleOrient:ed}=Wh(["titleAnchor","titleAngle","titleOrient"],Z.header,O,n);var wa=Cg(n,ed),bb=La(bd);n={name:`${n}-title`,type:"group",role:`${wa}-title`,title:Object.assign({},{text:B},"row"===n?{orient:"left"}:{},{style:"guide-title"},hj(bb,wa),Lh(wa,bb,Lc),Hj(O,Z,n,ok,sl))};g.call(f,n)}for(const Lc of Bj){a=b;b=a.concat;f=Lc;g=this.component.layoutHeaders[f];e=[];for(const bd of bl)if(g[bd])for(const ed of g[bd]){a:{Z=void 0;n=f;var nb=bd,hc=g;if(B=ed){O=null;({facetFieldDef:lc}=
hc);wa=this.config?this.config:void 0;lc&&B.labels&&({labelOrient:bb}=Wh(["labelOrient"],lc.header,wa,n),"row"===n&&!zb(["top","bottom"],bb)||"column"===n&&!zb(["left","right"],bb))&&(O=jj(lc,n,wa));const ke=gh(this)&&!Me(this.facet),ce=B.axes,Ee=0<(null==ce?void 0:ce.length);if(O||Ee){const Qe="row"===n?"height":"width";wa=Object;bb=wa.assign;nb={name:this.getName(`${n}_${nb}`),type:"group",role:`${n}-${nb}`};if(hc.facetFieldDef){hc={data:this.getName(`${n}_domain`)};{var Nc=lc;const {sort:Lf}=Nc;
var lc=se(Lf)?{field:Sc(Lf,{expr:"datum"}),order:null!=(Z=Lf.order)?Z:"ascending"}:h.isArray(Lf)?{field:Ri(Nc,n,{expr:"datum"}),order:"ascending"}:{field:Sc(Nc,{expr:"datum"}),order:null!=Lf?Lf:"ascending"}}Z={from:hc,sort:lc}}else Z={};n=bb.call(wa,{},nb,Z,Ee&&ke?{from:{data:this.getName(`facet_domain_${n}`)}}:{},O?{title:O}:{},B.sizeSignal?{encode:{update:{[Qe]:B.sizeSignal}}}:{},Ee?{axes:ce}:{});break a}}n=null}null!=n&&e.push(n)}b=b.call(a,e)}return b}assembleAxes(){return Uj(this.component.axes,
this.config)}assembleLegends(){return uc(this)}assembleProjections(){var a=Ti(this)||Tk(this)?dd(this):od(this);return a}assembleTitle(){var a,b=null!=(a=this.title)?a:{};a=Object.assign({},b);b=b.encoding;a=(delete a.encoding,a);b=Object.assign({},qc(this.config.title).nonMarkTitleProperties,a,b?{encode:{update:b}}:{});if(b.text)return zb(["unit","layer"],this.type)?zb(["middle",void 0],b.anchor)&&(null!=b.frame||(b.frame="group")):null!=b.anchor||(b.anchor="start"),gb(b)?void 0:b}assembleGroup(){var a=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];const b={};a=a.concat(this.assembleSignals());0<a.length&&(b.signals=a);if(a=this.assembleLayout())b.layout=a;b.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());a=!this.parent||gh(this.parent)?nl(this):[];0<a.length&&(b.scales=a);a=this.assembleAxes();0<a.length&&(b.axes=a);a=this.assembleLegends();0<a.length&&(b.legends=a);return b}getName(a){return sa((this.name?`${this.name}_`:"")+a)}getDataName(a){return this.getName(qf[a].toLowerCase())}requestDataName(a){a=
this.getDataName(a);const b=this.component.data.outputNodeRefCounts;b[a]=(b[a]||0)+1;return a}getSizeSignalRef(a){if(gh(this.parent)){var b=Xi(a),e=V(b);if((b=this.component.scales[e])&&!b.merged){var f=b.get("type");const g=b.get("range");if(Td(f)&&Qb(g)){a=b.get("name");f=Ui(this,e);if(f=dk(f))return e=Sc({aggregate:"distinct",field:f},{expr:"datum"}),{signal:xh(a,b,e)};J(Rb(e));return null}}}return{signal:this.signalNameMap.get(this.getName(a))}}lookupDataSource(a){const b=this.component.data.outputNodes[a];
return b?b.getSource():a}getSignalName(a){return this.signalNameMap.get(a)}renameSignal(a,b){this.signalNameMap.rename(a,b)}renameScale(a,b){this.scaleNameMap.rename(a,b)}renameProjection(a,b){this.projectionNameMap.rename(a,b)}scaleName(a,b){if(b)return this.getName(a);if(Ej[a]&&Mh[a]&&this.component.scales[a]||this.scaleNameMap.has(this.getName(a)))return this.scaleNameMap.get(this.getName(a))}projectionName(a){if(a)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||
this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(a){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const b=this.component.scales[a];return b&&!b.merged?b:this.parent?this.parent.getScaleComponent(a):void 0}getSelectionComponent(a,b){let e=this.component.selection[a];!e&&this.parent&&(e=this.parent.getSelectionComponent(a,
b));if(!e)throw Error(`Cannot find a selection named "${b}".`);return e}hasAxisOrientSignalRef(){let a,b;return(null==(a=this.component.axes.x)?void 0:a.some(e=>e.hasOrientSignalRef()))||(null==(b=this.component.axes.y)?void 0:b.some(e=>e.hasOrientSignalRef()))}}class Em extends wm{vgField(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const e=this.fieldDef(a);if(e)return Sc(e,b)}reduceFieldDef(a,b){return Ug(this.getMapping(),(e,f,g)=>(f=Ce(f))?a(e,f,g):e,b)}forEachFieldDef(a,
b){Gg(this.getMapping(),(e,f)=>{(e=Ce(e))&&a(e,f)},b)}}class om extends mf{clone(){return new om(null,He(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=He(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let f,g;this.transform.as=[null!=(f=a[0])?f:"value",null!=(g=a[1])?g:"density"]}dependentFields(){let a;return new Set([this.transform.density,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${Xb(this.transform)}`}assemble(){var a=
this.transform,b=Object.assign({},a);a=a.density;b=(delete b.density,b);b=Object.assign({},{type:"kde",field:a},b);this.transform.groupby&&(b.resolve="shared");return b}}class um extends mf{clone(){return new um(null,He(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=He(b)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${Xb(this.transform)}`}assemble(){const {extent:a,param:b}=this.transform;return{type:"extent",
field:a,signal:b}}}class Gl extends mf{clone(){return new Gl(null,Object.assign({},this.filter))}constructor(a,b){super(a);this.filter=b}static make(a,b){const {config:e,mark:f,markDef:g}=b;if("filter"!==Zb("invalid",g,e))return null;const n=b.reduceFieldDef((B,O,Z)=>{if(Z=!!Mh[Z]&&b.getScaleComponent(Z))Z=Z.get("type"),Md(Z)&&"count"!==O.aggregate&&!Qa(f)&&(B[O.field]=O);return B},{});return vd(n).length?new Gl(a,n):null}dependentFields(){return new Set(vd(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${Xb(this.filter)}`}assemble(){const a=
vd(this.filter).reduce((b,e)=>{e=this.filter[e];const f=Sc(e,{expr:"datum"});null!==e&&("temporal"===e.type?b.push(`(isDate(${f}) || (isValid(${f}) && isFinite(+${f})))`):"quantitative"===e.type&&(b.push(`isValid(${f})`),b.push(`isFinite(+${f})`)));return b},[]);return 0<a.length?{type:"filter",expr:a.join(" \x26\x26 ")}:null}}class nm extends mf{clone(){return new nm(this.parent,He(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=He(b);const {flatten:e,as:f=[]}=this.transform;
this.transform.as=e.map((g,n)=>{let B;return null!=(B=f[n])?B:g})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${Xb(this.transform)}`}assemble(){const {flatten:a,as:b}=this.transform;return{type:"flatten",fields:a,as:b}}}class mm extends mf{clone(){return new mm(null,He(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=He(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let f,
g;this.transform.as=[null!=(f=a[0])?f:"key",null!=(g=a[1])?g:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${Xb(this.transform)}`}assemble(){const {fold:a,as:b}=this.transform;return{type:"fold",fields:a,as:b}}}class jl extends mf{clone(){return new jl(null,He(this.fields),this.geojson,this.signal)}static parseAll(a,b){if(b.component.projection&&!b.component.projection.isFit)return a;let e=0;for(var f of[["longitude",
"latitude"],["longitude2","latitude2"]]){const g=f.map(n=>{n=Rd(b.encoding[n]);return ua(n)?n.field:Fb(n)?{expr:`${n.datum}`}:Jc(n)?{expr:`${n.value}`}:void 0});if(g[0]||g[1])a=new jl(a,g,null,b.getName(`geojson_${e++}`))}b.channelHasField("shape")&&(f=b.typedFieldDef("shape"),"geojson"===f.type&&(a=new jl(a,null,f.field,b.getName(`geojson_${e++}`))));return a}constructor(a,b,e,f){super(a);this.fields=b;this.geojson=e;this.signal=f}dependentFields(){let a;const b=(null!=(a=this.fields)?a:[]).filter(h.isString);
return new Set([...(this.geojson?[this.geojson]:[]),...b])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${Xb(this.fields)}`}assemble(){return[...(this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[]),Object.assign({},{type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})]}}class Hl extends mf{clone(){return new Hl(null,this.projection,He(this.fields),He(this.as))}constructor(a,
b,e,f){super(a);this.projection=b;this.fields=e;this.as=f}static parseAll(a,b){if(!b.projectionName())return a;for(const e of[["longitude","latitude"],["longitude2","latitude2"]]){const f=e.map(n=>{n=Rd(b.encoding[n]);return ua(n)?n.field:Fb(n)?{expr:`${n.datum}`}:Jc(n)?{expr:`${n.value}`}:void 0}),g="longitude2"===e[0]?"2":"";if(f[0]||f[1])a=new Hl(a,b.projectionName(),f,[b.getName(`x${g}`),b.getName(`y${g}`)])}return a}dependentFields(){return new Set(this.fields.filter(h.isString))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${Xb(this.fields)} ${Xb(this.as)}`}assemble(){return{type:"geopoint",
projection:this.projection,fields:this.fields,as:this.as}}}class Ek extends mf{clone(){return new Ek(null,He(this.transform))}constructor(a,b){super(a);this.transform=b}dependentFields(){let a;return new Set([this.transform.impute,this.transform.key,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set([this.transform.impute])}processSequence(a){const {start:b=0,stop:e,step:f}=a;return{signal:`sequence(${[b,e,...(f?[f]:[])].join()})`}}static makeFromTransform(a,b){return new Ek(a,
b)}static makeFromEncoding(a,b){const e=b.encoding;var f=e.x;const g=e.y;if(ua(f)&&ua(g)){const n=f.impute?f:g.impute?g:void 0;if(void 0===n)return;f=f.impute?g:g.impute?f:void 0;const {method:B,value:O,frame:Z,keyvals:wa}=n.impute;b=ch(b.mark,e);return new Ek(a,Object.assign({},{impute:n.field,key:f.field},B?{method:B}:{},void 0!==O?{value:O}:{},Z?{frame:Z}:{},void 0!==wa?{keyvals:wa}:{},b.length?{groupby:b}:{}))}return null}hash(){return`Impute ${Xb(this.transform)}`}assemble(){const {impute:a,
key:b,keyvals:e,method:f,groupby:g,value:n,frame:B=[null,null]}=this.transform;var O=Object,Z=O.assign;var wa=e?{keyvals:void 0!==(null==e?void 0:e.stop)?this.processSequence(e):e}:{};O=Z.call(O,{},{type:"impute",field:a,key:b},wa,{method:"value"},g?{groupby:g}:{},{value:f&&"value"!==f?null:n});return f&&"value"!==f?(Z=Object.assign({},{type:"window",as:[`imputed_${a}_value`],ops:[f],fields:[a],frame:B,ignorePeers:!1},g?{groupby:g}:{}),[O,Z,{type:"formula",expr:`datum.${a} === null ? datum.imputed_${a}_value : datum.${a}`,
as:a}]):[O]}}class pm extends mf{clone(){return new pm(null,He(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=He(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let f,g;this.transform.as=[null!=(f=a[0])?f:b.on,null!=(g=a[1])?g:b.loess]}dependentFields(){let a;return new Set([this.transform.loess,this.transform.on,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${Xb(this.transform)}`}assemble(){var a=
this.transform,b=Object.assign({},a);const e=a.loess;a=a.on;b=(delete b.loess,delete b.on,b);return Object.assign({},{type:"loess",x:a,y:e},b)}}class Il extends mf{clone(){return new Il(null,He(this.transform),this.secondary)}constructor(a,b,e){super(a);this.transform=b;this.secondary=e}static make(a,b,e,f){const g=b.component.data.sources,{from:n}=e;var B=null;if("data"in n)B=pl(n.data,g),B||(B=new fa(n.data),g.push(B)),f=b.getName(`lookup_${f}`),B=new Rg(B,f,qf.Lookup,b.component.data.outputNodeRefCounts),
b.component.data.outputNodes[f]=B;else if("param"in n){f=n.param;e=Object.assign({},{as:f},e);let O;try{O=b.getSelectionComponent(sa(f),f)}catch(Z){throw Error(`Lookups can only be performed on selection parameters. "${f}" is a variable parameter.`);}B=O.materialized;if(!B)throw Error(`Cannot define and lookup the "${f}" selection in the same view. `+"Try moving the lookup into a second, layered view?");}return new Il(a,e,B.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?
h.array(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${Xb({transform:this.transform,secondary:this.secondary})}`}assemble(){if(this.transform.from.fields)var a=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:h.array(this.transform.as)}:{});else a=this.transform.as,h.isString(a)||(J('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),a="_lookup"),a={as:[a]};return Object.assign({},
{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},a,this.transform.default?{default:this.transform.default}:{})}}class qm extends mf{clone(){return new qm(null,He(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=He(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let f,g;this.transform.as=[null!=(f=a[0])?f:"prob",null!=(g=a[1])?g:"value"]}dependentFields(){let a;return new Set([this.transform.quantile,...(null!=(a=this.transform.groupby)?
a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${Xb(this.transform)}`}assemble(){var a=this.transform,b=Object.assign({},a);a=a.quantile;b=(delete b.quantile,b);return Object.assign({},{type:"quantile",field:a},b)}}class rm extends mf{clone(){return new rm(null,He(this.transform))}constructor(a,b){super(a);this.transform=b;this.transform=He(b);let e;a=null!=(e=this.transform.as)?e:[void 0,void 0];let f,g;this.transform.as=[null!=(f=a[0])?f:b.on,null!=(g=
a[1])?g:b.regression]}dependentFields(){let a;return new Set([this.transform.regression,this.transform.on,...(null!=(a=this.transform.groupby)?a:[])])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${Xb(this.transform)}`}assemble(){var a=this.transform,b=Object.assign({},a);const e=a.regression;a=a.on;b=(delete b.regression,delete b.on,b);return Object.assign({},{type:"regression",x:a,y:e},b)}}class tm extends mf{clone(){return new tm(null,He(this.transform))}constructor(a,
b){super(a);this.transform=b}addDimensions(a){let b;this.transform.groupby=Za((null!=(b=this.transform.groupby)?b:[]).concat(a),e=>e)}producedFields(){}dependentFields(){let a;return new Set([this.transform.pivot,this.transform.value,...(null!=(a=this.transform.groupby)?a:[])])}hash(){return`PivotTransform ${Xb(this.transform)}`}assemble(){const {pivot:a,value:b,groupby:e,limit:f,op:g}=this.transform;return Object.assign({},{type:"pivot",field:a,value:b},void 0!==f?{limit:f}:{},void 0!==g?{op:g}:
{},void 0!==e?{groupby:e}:{})}}class sm extends mf{clone(){return new sm(null,He(this.transform))}constructor(a,b){super(a);this.transform=b}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${Xb(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}class Kl extends Em{constructor(a,b,e,f){super(a,"facet",b,e,f,a.resolve);Q(this,"facet",void 0);Q(this,"child",void 0);Q(this,"children",void 0);this.child=fl(a.spec,this,this.getName("child"),
void 0,f);this.children=[this.child];this.facet=this.initFacet(a.facet)}initFacet(a){if(!Me(a))return{facet:this.initFacetFieldDef(a,"facet")};var b=vd(a);const e={};for(const f of b){if(!["row","column"].includes(f)){J(gd(f,"facet"));break}b=a[f];if(void 0===b.field){J(rd(b,f));break}e[f]=this.initFacetFieldDef(b,f)}return e}initFacetFieldDef(a,b){a=Ae(a,b);a.header?a.header=Kb(a.header):null===a.header&&(a.header=null);return a}channelHasField(a){return!!this.facet[a]}fieldDef(a){return this.facet[a]}parseData(){this.component.data=
jk(this);this.child.parseData()}parseLayoutSize(){Rk(this)}parseSelections(){this.child.parseSelections();this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();for(const f of qh){var a=void 0,b=f;const {facet:g,config:n,child:B,component:O}=this;if(this.channelHasField(b)){const Z=g[b];var e=hi("title",null,n,b);e=Zc(Z,n,{allowDisabling:!0,includeDefault:void 0===e||!!e});B.component.layoutHeaders[b].title&&
(e=h.isArray(e)?e.join(", "):e,e+=` / ${B.component.layoutHeaders[b].title}`,B.component.layoutHeaders[b].title=null);const wa=hi("labelOrient",Z.header,n,b),bb=null!==Z.header?U(null==(a=Z.header)?void 0:a.labels,n.header.labels,!0):!1;a=zb(["bottom","right"],wa)?"footer":"header";O.layoutHeaders[b]={title:null!==Z.header?e:null,facetFieldDef:Z,[a]:"facet"===b?[]:[Qk(this,b,bb)]}}}Bl(this,"x");Bl(this,"y")}assembleSelectionTopLevelSignals(a){return this.child.assembleSelectionTopLevelSignals(a)}assembleSignals(){this.child.assembleSignals();
return[]}assembleSelectionData(a){return this.child.assembleSelectionData(a)}getHeaderLayoutMixins(){const a={};for(const f of qh)for(const g of bl){const n=this.component.layoutHeaders[f];var b=n[g],{facetFieldDef:e}=n;if(e&&(e=hi("titleOrient",e.header,this.config,f),["right","bottom"].includes(e))){e=Cg(f,e);let O;null!=(O=a).titleAnchor||(O.titleAnchor={});a.titleAnchor[e]="end"}let B;if(null==(B=b)?0:B[0]){b="row"===f?"height":"width";e="header"===g?"headerBand":"footerBand";if("facet"!==f&&
!this.child.component.layoutSize.get(b)){let O,Z;null!=(O=a)[Z=e]||(O[Z]={});a[e][f]=.5}if(n.title){let O;null!=(O=a).offset||(O.offset={});a.offset["row"===f?"rowTitle":"columnTitle"]=10}}}return a}assembleDefaultLayout(){const {column:a,row:b}=this.facet,e=a?this.columnDistinctSignal():b?1:void 0;let f="all";b||"independent"!==this.component.resolve.scale.x?a||"independent"!==this.component.resolve.scale.y||(f="none"):f="none";return Object.assign({},this.getHeaderLayoutMixins(),e?{columns:e}:{},
{bounds:"full",align:f})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof Kl))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(a){return this.parent&&this.parent instanceof Kl?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:Sc(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(a)):super.assembleGroup(a)}getCardinalityAggregateForChild(){const a=
[],b=[],e=[];if(this.child instanceof Kl){if(this.child.channelHasField("column")){var f=Sc(this.child.facet.column);a.push(f);b.push("distinct");e.push(`distinct_${f}`)}}else for(f of Ph){var g=this.child.component.scales[f];if(g&&!g.merged){var n=g.get("type");g=g.get("range");Td(n)&&Qb(g)&&(n=Ui(this.child,f),(n=dk(n))?(a.push(n),b.push("distinct"),e.push(`distinct_${n}`)):J(Rb(f)))}}return{fields:a,ops:b,as:e}}assembleFacet(){const {name:a,data:b}=this.component.data.facetRoot,{row:e,column:f}=
this.facet,{fields:g,ops:n,as:B}=this.getCardinalityAggregateForChild(),O=[];for(var Z of qh){var wa=this.facet[Z];if(wa){O.push(Sc(wa));const {bin:bb,sort:nb}=wa;sb(bb)&&O.push(Sc(wa,{binSuffix:"end"}));if(se(nb)){const {field:hc,op:Nc="min"}=nb;wa=dl(wa,nb);e&&f?(g.push(wa),n.push("max")):(g.push(hc),n.push(Nc));B.push(wa)}else h.isArray(nb)&&(wa=Ri(wa,Z),g.push(wa),n.push("max"),B.push(wa))}}Z=!!e&&!!f;return Object.assign({},{name:a,data:b,groupby:O},Z||0<g.length?{aggregate:Object.assign({},
Z?{cross:Z}:{},g.length?{fields:g,ops:n,as:B}:{})}:{})}facetSortFields(a){var {facet:b}=this;return(b=b[a])?se(b.sort)?[dl(b,b.sort,{expr:"datum"})]:h.isArray(b.sort)?[Ri(b,a,{expr:"datum"})]:[Sc(b,{expr:"datum"})]:[]}facetSortOrder(a){const {facet:b}=this;return(a=b[a])?({sort:a}=a,[(se(a)?a.order:!h.isArray(a)&&a)||"ascending"]):[]}assembleLabelTitle(){const {facet:a,config:b}=this;if(a.facet)return jj(a.facet,"facet",b);const e={row:["top","bottom"],column:["left","right"]};for(const f of Bj)if(a[f]){let g;
const n=hi("labelOrient",null==(g=a[f])?void 0:g.header,b,f);if(e[f].includes(n))return jj(a[f],f,b)}}assembleMarks(){const {child:a}=this,b=Xj(this.component.data.facetRoot),e=a.assembleGroupEncodeEntry(!1),f=this.assembleLabelTitle()||a.assembleTitle(),g=a.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},f?{title:f}:{},g?{style:g}:{},{from:{facet:this.assembleFacet()},sort:{field:qh.map(n=>this.facetSortFields(n)).flat(),order:qh.map(n=>this.facetSortOrder(n)).flat()}},
0<b.length?{data:b}:{},e?{encode:{update:e}}:{},a.assembleGroup(Yg(this,[])))]}getMapping(){return this.facet}}class Jm extends wm{constructor(a,b,e,f){super(a,"concat",b,e,f,a.resolve);Q(this,"children",void 0);let g,n,B,O;"shared"!==(null==(g=a.resolve)?void 0:null==(n=g.axis)?void 0:n.x)&&"shared"!==(null==(B=a.resolve)?void 0:null==(O=B.axis)?void 0:O.y)||J("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");this.children=this.getChildren(a).map((Z,
wa)=>fl(Z,this,this.getName(`concat_${wa}`),void 0,f))}parseData(){this.component.data=jk(this);for(const a of this.children)a.parseData()}parseSelections(){this.component.selection={};for(const a of this.children){a.parseSelections();for(const b of vd(a.component.selection))this.component.selection[b]=a.component.selection[b]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){for(const a of this.children)a.parseAxesAndHeaders()}getChildren(a){return"vconcat"in
a?a.vconcat:"hconcat"in a?a.hconcat:a.concat}parseLayoutSize(){Rk(this);const a=void 0===this.layout.columns?"height":"childHeight";Ak(this,1===this.layout.columns?"width":"childWidth");Ak(this,a)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(a){return this.children.reduce((b,e)=>e.assembleSelectionTopLevelSignals(b),a)}assembleSignals(){this.children.forEach(a=>a.assembleSignals());return[]}assembleLayoutSignals(){const a=ij(this);for(const b of this.children)a.push(...b.assembleLayoutSignals());
return a}assembleSelectionData(a){return this.children.reduce((b,e)=>e.assembleSelectionData(b),a)}assembleMarks(){return this.children.map(a=>{const b=a.assembleTitle(),e=a.assembleGroupStyle(),f=a.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:a.getName("group")},b?{title:b}:{},e?{style:e}:{},f?{encode:{update:f}}:{},a.assembleGroup())})}assembleGroupStyle(){}assembleDefaultLayout(){const a=this.layout.columns;return Object.assign({},null!=a?{columns:a}:{},{bounds:"full",
align:"each"})}}const Km=Object.assign({},{disable:1,gridScale:1,scale:1},xf,{labelExpr:1,encode:1}),Am=vd(Km);class Bm extends Kf{constructor(){let a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super();this.explicit=a;this.implicit=b;this.mainExtracted=e}clone(){return new Bm(He(this.explicit),He(this.implicit),this.mainExtracted)}hasAxisPart(a){if("axis"===a)return!0;
if("grid"===a||"title"===a)return!!this.get(a);a=this.get(a);return!(!1===a||null===a)}hasOrientSignalRef(){return Mb(this.explicit.orient)}}const Lm={bottom:"top",top:"bottom",left:"right",right:"left"},Im=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),Jl={arc:{vgMark:"arc",encodeEntry:a=>Object.assign({},Bf(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),ue("x",a,{defaultPos:"mid"}),ue("y",
a,{defaultPos:"mid"}),Se(a,"radius"),Se(a,"theta"))},area:{vgMark:"area",encodeEntry:a=>Object.assign({},Bf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),gf("x",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===a.markDef.orient}),gf("y",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===a.markDef.orient}),uf(a))},bar:{vgMark:"rect",encodeEntry:a=>Object.assign({},Bf(a,{align:"ignore",baseline:"ignore",color:"include",
orient:"ignore",size:"ignore",theta:"ignore"}),Se(a,"x"),Se(a,"y"))},circle:{vgMark:"symbol",encodeEntry:a=>el(a,"circle")},geoshape:{vgMark:"shape",encodeEntry:a=>Object.assign({},Bf(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:a=>{var {encoding:b}=a;b=b.shape;return[Object.assign({},{type:"geoshape",projection:a.projectionName()},b&&ua(b)&&"geojson"===b.type?{field:Sc(b,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:a=>
Object.assign({},Bf(a,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),Se(a,"x"),Se(a,"y"),va(a,"url"))},line:{vgMark:"line",encodeEntry:a=>Object.assign({},Bf(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),ue("x",a,{defaultPos:"mid"}),ue("y",a,{defaultPos:"mid"}),cd("size",a,{vgChannel:"strokeWidth"}),uf(a))},point:{vgMark:"symbol",encodeEntry:a=>el(a)},rect:{vgMark:"rect",encodeEntry:a=>Object.assign({},
Bf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Se(a,"x"),Se(a,"y"))},rule:{vgMark:"rule",encodeEntry:a=>{var {markDef:b}=a;b=b.orient;return a.encoding.x||a.encoding.y||a.encoding.latitude||a.encoding.longitude?Object.assign({},Bf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),gf("x",a,{defaultPos:"horizontal"===b?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==b}),gf("y",a,{defaultPos:"vertical"===
b?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==b}),cd("size",a,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:a=>el(a,"square")},text:{vgMark:"text",encodeEntry:a=>{var {config:b}=a,e=Object,f=e.assign,g=Bf(a,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),n=ue("x",a,{defaultPos:"mid"}),B=ue("y",a,{defaultPos:"mid"}),O=va(a),Z=cd("size",a,{vgChannel:"fontSize"}),wa=cd("angle",a);var bb=void 0===Zb("align",
a.markDef,b)?"center":void 0;bb=kg("align",bb);b=void 0===Zb("baseline",a.markDef,b)?"middle":void 0;return f.call(e,{},g,n,B,O,Z,wa,bb,kg("baseline",b),ue("radius",a,{defaultPos:null}),ue("theta",a,{defaultPos:null}))}},tick:{vgMark:"rect",encodeEntry:a=>{const {config:b,markDef:e}=a;var f=e.orient;const g="horizontal"===f?"width":"height";f="horizontal"===f?"height":"width";var n=Object,B=n.assign,O=Bf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),
Z=ue("x",a,{defaultPos:"mid",vgChannel:"xc"}),wa=ue("y",a,{defaultPos:"mid",vgChannel:"yc"});{const {config:Nc,markDef:lc}=a;var {orient:bb}=lc;var nb="horizontal"===bb?"width":"height";bb=a.getScaleComponent("horizontal"===bb?"x":"y");var hc;const Lc=null!=(hc=Zb("size",lc,Nc,{vgChannel:nb}))?hc:Nc.tick.bandSize;nb=void 0!==Lc?Lc:(hc=bb?bb.get("range"):void 0)&&Qb(hc)&&h.isNumber(hc.step)?3*hc.step/4:3*Zf(Nc.view,nb)/4}return B.call(n,{},O,Z,wa,cd("size",a,{defaultValue:nb,vgChannel:g}),{[f]:Ta(Zb("thickness",
e,b))})}},trail:{vgMark:"trail",encodeEntry:a=>Object.assign({},Bf(a,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),ue("x",a,{defaultPos:"mid"}),ue("y",a,{defaultPos:"mid"}),cd("size",a),uf(a))}};class Dm extends Em{constructor(a,b,e){let f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},g=4<arguments.length?arguments[4]:void 0;super(a,"unit",b,e,g,void 0,lf(a)?a.view:void 0);Q(this,"markDef",void 0);Q(this,"encoding",void 0);Q(this,"specifiedScales",
{});Q(this,"stack",void 0);Q(this,"specifiedAxes",{});Q(this,"specifiedLegends",{});Q(this,"specifiedProjection",{});Q(this,"selection",[]);Q(this,"children",[]);const n=hd(a.mark)?Object.assign({},a.mark):{type:a.mark},B=n.type;void 0===n.filled&&(n.filled=Sh(n,g,{graticule:a.data&&"graticule"in a.data}));const O=this.encoding=lg(a.encoding||{},B,n.filled,g);this.markDef=mg(n,O,g);this.size=Rl({encoding:O,size:lf(a)?Object.assign({},f,a.width?{width:a.width}:{},a.height?{height:a.height}:{}):f});
this.stack=uh(this.markDef,O);this.specifiedScales=this.initScales(B,O);this.specifiedAxes=this.initAxes(O);this.specifiedLegends=this.initLegends(O);this.specifiedProjection=a.projection;let Z;this.selection=(null!=(Z=a.params)?Z:[]).filter(wa=>be(wa))}get hasProjection(){const {encoding:a}=this,b=this.mark===qi,e=a&&Pl.some(f=>zc(a[f]));return b||e}scaleDomain(a){return(a=this.specifiedScales[a])?a.domain:void 0}axis(a){return this.specifiedAxes[a]}legend(a){return this.specifiedLegends[a]}initScales(a,
b){return Bk.reduce((e,f)=>{const g=Rd(b[f]);if(g){let n;e[f]=this.initScale(null!=(n=g.scale)?n:{})}return e},{})}initScale(a){const {domain:b,range:e}=a;a=Kb(a);h.isArray(b)&&(a.domain=b.map(ra));h.isArray(e)&&(a.range=e.map(ra));return a}initAxes(a){return Ph.reduce((b,e)=>{var f=a[e];if(zc(f)||"x"===e&&zc(a.x2)||"y"===e&&zc(a.y2))f=zc(f)?f.axis:void 0,b[e]=f?this.initAxis(Object.assign({},f)):f;return b},{})}initAxis(a){var b=vd(a);const e={};for(const f of b)b=a[f],e[f]=Xf(b)?fd(b):ra(b);return e}initLegends(a){return hl.reduce((b,
e)=>{var f=Rd(a[e]),g;if(g=f)a:{switch(e){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":g=!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":g=!1;break a}g=void 0}g&&(f=f.legend,b[e]=f?Kb(f):f);return b},{})}parseData(){this.component.data=jk(this)}parseLayoutSize(){const {size:a,component:b}=this;for(const f of Ph){const g=G(f);if(a[g]){var e=a[g];b.layoutSize.set(g,Je(e)?"step":e,!0)}else e=Pk(this,g),b.layoutSize.set(g,
e,!1)}}parseSelections(){var a=this.component;{var b=this.selection;var e={};const n=this.config.selection;if(b&&b.length)for(const B of b){b=sa(B.name);var f=B.select,g=h.isString(f)?f:f.type;f=h.isObject(f)?He(f):{type:g};const O=n[g];for(const Z in O)if("fields"!==Z&&"encodings"!==Z&&("mark"===Z&&(f[Z]=Object.assign({},O[Z],f[Z])),void 0===f[Z]||!0===f[Z])){let wa;f[Z]=He(null!=(wa=O[Z])?wa:f[Z])}b=e[b]=Object.assign({},f,{name:b,type:g,init:B.value,bind:B.bind,events:h.isString(f.on)?h.parseSelector(f.on,
"scope"):h.array(He(f.on))});g=He(B);for(const Z of dj)Z.defined(b)&&Z.parse&&Z.parse(this,b,g)}}a.selection=e}parseMarkGroup(){this.component.mark=ql(this)}parseAxesAndHeaders(){this.component.axes=rl(this)}assembleSelectionTopLevelSignals(a){return Jh(this,a)}assembleSignals(){var a=[...Oi(this)];var b=[];var e;for(const f of ng(null!=(e=this.component.selection)?e:{})){e=f.name;let g=`${e}${"_tuple"}, ${"global"===f.resolve?"true":`{unit: ${dg(this)}}`}`;for(const n of dj)n.defined(f)&&(n.signals&&
(b=n.signals(this,f,b)),n.modifyExpr&&(g=n.modifyExpr(this,f,g)));b.push({name:e+"_modify",on:[{events:{signal:f.name+"_tuple"},update:`modify(${h.stringValue(f.name+"_store")}, ${g})`}]})}b=Aa(b);return[...a,...b]}assembleSelectionData(a){return Zg(this,a)}assembleLayout(){return null}assembleLayoutSignals(){return ij(this)}assembleMarks(){let a,b=null!=(a=this.component.mark)?a:[];this.parent&&Ti(this.parent)||(b=C(this,b));return b.map(this.correctDataNames)}assembleGroupStyle(){const {style:a}=
this.view||{};return void 0!==a?a:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(a){return bf(this.encoding,a)}fieldDef(a){return Ce(this.encoding[a])}typedFieldDef(a){a=this.fieldDef(a);return xc(a)?a:null}}class Cm extends wm{constructor(a,b,e,f,g){super(a,"layer",b,e,g,a.resolve,a.view);Q(this,"children",void 0);const n=Object.assign({},f,a.width?{width:a.width}:{},a.height?{height:a.height}:{});this.children=
a.layer.map((B,O)=>{if("layer"in B)return new Cm(B,this,this.getName(`layer_${O}`),n,g);if(rf(B))return new Dm(B,this,this.getName(`layer_${O}`),n,g);throw Error(za(B));})}parseData(){this.component.data=jk(this);for(const a of this.children)a.parseData()}parseLayoutSize(){Rk(this);Ak(this,"width");Ak(this,"height")}parseSelections(){this.component.selection={};for(const a of this.children){a.parseSelections();for(const b of vd(a.component.selection))this.component.selection[b]=a.component.selection[b]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){const {axes:a,
resolve:b}=this.component,e={top:0,bottom:0,right:0,left:0};for(var f of this.children){f.parseAxesAndHeaders();for(const g of vd(f.component.axes))b.axis[g]=m(this.component.resolve,g),"shared"===b.axis[g]&&(a[g]=fm(a[g],f.component.axes[g]),a[g]||(b.axis[g]="independent",delete a[g]))}for(const g of Ph){for(const n of this.children)if(n.component.axes[g]){if("independent"===b.axis[g]){let B;a[g]=(null!=(B=a[g])?B:[]).concat(n.component.axes[g]);for(const O of n.component.axes[g]){const {value:Z,
explicit:wa}=O.getWithExplicit("orient");Mb(Z)||(0<e[Z]&&!wa&&(f=Lm[Z],e[Z]>e[f]&&O.set("orient",f,!1)),e[Z]++)}}delete n.component.axes[g]}if("independent"===b.axis[g]&&a[g]&&1<a[g].length)for(const n of(a[g]||[]).entries()){const [B,O]=n;0<B&&O.get("grid")&&!O.explicit.grid&&(O.implicit.grid=!1)}}}assembleSelectionTopLevelSignals(a){return this.children.reduce((b,e)=>e.assembleSelectionTopLevelSignals(b),a)}assembleSignals(){return this.children.reduce((a,b)=>a.concat(b.assembleSignals()),Oi(this))}assembleLayoutSignals(){return this.children.reduce((a,
b)=>a.concat(b.assembleLayoutSignals()),ij(this))}assembleSelectionData(a){return this.children.reduce((b,e)=>e.assembleSelectionData(b),a)}assembleGroupStyle(){var a=new Set;for(const b of this.children)for(const e of h.array(b.assembleGroupStyle()))a.add(e);a=Array.from(a);return 1<a.length?a:1===a.length?a[0]:void 0}assembleTitle(){let a=super.assembleTitle();if(a)return a;for(const b of this.children)if(a=b.assembleTitle())return a}assembleLayout(){return null}assembleMarks(){return aa(this,this.children.flatMap(a=>
a.assembleMarks()))}assembleLegends(){return this.children.reduce((a,b)=>a.concat(b.assembleLegends()),uc(this))}}r.accessPathDepth=db;r.accessPathWithDatum=Wa;r.compile=function(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};b.logger&&(Ai=b.logger);b.fieldTitle&&(Ef=b.fieldTitle);try{const bb=zg(h.mergeConfig(b.config,a.config)),nb=vi(a,bb),hc=fl(nb,null,"",void 0,bb);hc.parse();var e=hc.component.data,f=hc;Ad(e.sources);let Nc=0,lc=0;for(var g=0;5>g&&Hd(e,f,!0);g++)Nc++;e.sources.map(Xh);
for(g=0;5>g&&Hd(e,f,!1);g++)lc++;Ad(e.sources);5===Math.max(Nc,lc)&&J("Maximum optimization runs(5) reached.");var n=nb.autosize;e=bb;f=hc;const Lc=f.component.layoutSize.get("width"),bd=f.component.layoutSize.get("height");void 0===n?(n={type:"pad"},f.hasAxisOrientSignalRef()&&(n.resize=!0)):h.isString(n)&&(n={type:n});var B;if(B=Lc&&bd){var O=n.type;B="fit"===O||"fit-x"===O||"fit-y"===O}if(B)if("step"===Lc&&"step"===bd)J(jb()),n.type="pad";else if("step"===Lc||"step"===bd){O="step"===Lc?"width":
"height";J(jb(V(O)));B=n;var Z=(O="width"===O?"height":"width",`fit-${V(O)}`);B.type=Z}var wa=Object.assign({},1===vd(n).length&&n.type?"pad"===n.type?{}:{autosize:n.type}:{autosize:n},lh(e,!1),lh(a,!0));return{spec:Tl(hc,wa,a.datasets,a.usermeta),normalized:nb}}finally{b.logger&&(Ai=Al),b.fieldTitle&&(Ef=vj)}};r.contains=zb;r.deepEqual=qa;r.deleteNestedProperty=Ba;r.duplicate=He;r.entries=Gi;r.every=kc;r.fieldIntersection=vb;r.flatAccessWithDatum=Ia;r.getFirstDefined=U;r.hasIntersection=rb;r.hash=
Xb;r.internalField=ea;r.isBoolean=ec;r.isEmpty=gb;r.isEqual=function(a,b){const e=vd(a),f=vd(b);if(e.length!==f.length)return!1;for(const g of e)if(a[g]!==b[g])return!1;return!0};r.isInternalField=ja;r.isNullOrFalse=oc;r.isNumeric=oa;r.keys=vd;r.logicalExpr=ia;r.mergeDeep=Ea;r.never=ub;r.normalize=vi;r.normalizeAngle=La;r.omit=bc;r.pick=Yb;r.prefixGenerator=pb;r.removePathFromField=Pb;r.replaceAll=qb;r.replacePathInField=ab;r.resetIdCounter=function(){Lk=42};r.setEqual=tb;r.some=Ub;r.stringify=l;
r.titleCase=Ra;r.unique=Za;r.uniqueId=ba;r.vals=ng;r.varName=sa;r.version="5.16.3"})};
shadow$provide[56]=function(Db,mb,Cc,Va){function r(){throw Error("setTimeout has not been defined");}function h(){throw Error("clearTimeout has not been defined");}function ka(tb){if(oc===setTimeout)return setTimeout(tb,0);if((oc===r||!oc)&&setTimeout)return oc=setTimeout,setTimeout(tb,0);try{return oc(tb,0)}catch(rb){try{return oc.call(null,tb,0)}catch(pb){return oc.call(this,tb,0)}}}function Ya(tb){if(zb===clearTimeout)return clearTimeout(tb);if((zb===h||!zb)&&clearTimeout)return zb=clearTimeout,
clearTimeout(tb);try{return zb(tb)}catch(rb){try{return zb.call(null,tb)}catch(pb){return zb.call(this,tb)}}}function ub(){kc&&Ea&&(kc=!1,Ea.length?Ub=Ea.concat(Ub):Za=-1,Ub.length&&Yb())}function Yb(){if(!kc){var tb=ka(ub);kc=!0;for(var rb=Ub.length;rb;){Ea=Ub;for(Ub=[];++Za<rb;)Ea&&Ea[Za].run();Za=-1;rb=Ub.length}Ea=null;kc=!1;Ya(tb)}}function bc(tb,rb){this.fun=tb;this.array=rb}function Xb(){}Db=Cc.exports={};try{var oc="function"===typeof setTimeout?setTimeout:r}catch(tb){oc=r}try{var zb="function"===
typeof clearTimeout?clearTimeout:h}catch(tb){zb=h}var Ub=[],kc=!1,Ea,Za=-1;Db.nextTick=function(tb){var rb=Array(arguments.length-1);if(1<arguments.length)for(var pb=1;pb<arguments.length;pb++)rb[pb-1]=arguments[pb];Ub.push(new bc(tb,rb));1!==Ub.length||kc||ka(Yb)};bc.prototype.run=function(){this.fun.apply(null,this.array)};Db.title="browser";Db.browser=!0;Db.env={};Db.argv=[];Db.version="";Db.versions={};Db.on=Xb;Db.addListener=Xb;Db.once=Xb;Db.off=Xb;Db.removeListener=Xb;Db.removeAllListeners=
Xb;Db.emit=Xb;Db.prependListener=Xb;Db.prependOnceListener=Xb;Db.listeners=function(tb){return[]};Db.binding=function(tb){throw Error("process.binding is not supported");};Db.cwd=function(){return"/"};Db.chdir=function(tb){throw Error("process.chdir is not supported");};Db.umask=function(){return 0}};
shadow$provide[57]=function(Db,mb,Cc,Va){var r=mb(56);(function(h,ka){"object"===typeof Va&&"undefined"!==typeof Cc?Cc.exports=ka(mb(54),mb(55)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],ka):(h="undefined"!==typeof globalThis?globalThis:h||self,h.vegaEmbed=ka(h.vega,h.vegaLite))})(this,function(h,ka){function Ya(E){if(E&&E.__esModule)return E;var ca=Object.create(null);E&&Object.keys(E).forEach(function(Ga){if("default"!==Ga){var eb=Object.getOwnPropertyDescriptor(E,Ga);Object.defineProperty(ca,
Ga,eb.get?eb:{enumerable:!0,get:function(){return E[Ga]}})}});ca["default"]=E;return Object.freeze(ca)}function ub(E){if(Array.isArray(E)){E=Array(E.length);for(var ca=0;ca<E.length;ca++)E[ca]=""+ca;return E}if(Object.keys)return Object.keys(E);ca=[];for(var Ga in E)A.call(E,Ga)&&ca.push(Ga);return ca}function Yb(E){switch(typeof E){case "object":return JSON.parse(JSON.stringify(E));case "undefined":return null;default:return E}}function bc(E){for(var ca=0,Ga=E.length,eb;ca<Ga;)if(eb=E.charCodeAt(ca),
48<=eb&&57>=eb)ca++;else return!1;return!0}function Xb(E){return-1===E.indexOf("/")&&-1===E.indexOf("~")?E:E.replace(/~/g,"~0").replace(/\//g,"~1")}function oc(E){return E.replace(/~1/g,"/").replace(/~0/g,"~")}function zb(E){if(void 0===E)return!0;if(E)if(Array.isArray(E))for(var ca=0,Ga=E.length;ca<Ga;ca++){if(zb(E[ca]))return!0}else if("object"===typeof E){ca=ub(E);Ga=ca.length;for(var eb=0;eb<Ga;eb++)if(zb(E[ca[eb]]))return!0}return!1}function Ub(E,ca){E=[E];for(var Ga in ca){var eb="object"===
typeof ca[Ga]?JSON.stringify(ca[Ga],null,2):ca[Ga];"undefined"!==typeof eb&&E.push(Ga+": "+eb)}return E.join("\n")}function kc(E,ca){if(""==ca)return E;ca={op:"_get",path:ca};Ea(E,ca);return ca.value}function Ea(E,ca,Ga,eb,Cb,rc){void 0===Ga&&(Ga=!1);void 0===eb&&(eb=!0);void 0===Cb&&(Cb=!0);void 0===rc&&(rc=0);Ga&&("function"==typeof Ga?Ga(ca,0,E,ca.path):tb(ca,0));if(""===ca.path){Cb={newDocument:E};if("add"===ca.op)return Cb.newDocument=ca.value,Cb;if("replace"===ca.op)return Cb.newDocument=ca.value,
Cb.removed=E,Cb;if("move"===ca.op||"copy"===ca.op)return Cb.newDocument=kc(E,ca.from),"move"===ca.op&&(Cb.removed=E),Cb;if("test"===ca.op){Cb.test=pb(E,ca.value);if(!1===Cb.test)throw new G("Test operation failed","TEST_OPERATION_FAILED",rc,ca,E);Cb.newDocument=E;return Cb}if("remove"===ca.op)return Cb.removed=E,Cb.newDocument=null,Cb;if("_get"===ca.op)return ca.value=E,Cb;if(Ga)throw new G("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",rc,ca,E);return Cb}eb||
(E=Yb(E));eb=(ca.path||"").split("/");var Lb=E,Mc=1,qd=eb.length,id=void 0,Oc,Pd;for(Pd="function"==typeof Ga?Ga:tb;;){(Oc=eb[Mc])&&-1!=Oc.indexOf("~")&&(Oc=oc(Oc));if(Cb&&("__proto__"==Oc||"prototype"==Oc&&0<Mc&&"constructor"==eb[Mc-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");Ga&&
void 0===id&&(void 0===Lb[Oc]?id=eb.slice(0,Mc).join("/"):Mc==qd-1&&(id=ca.path),void 0!==id&&Pd(ca,0,E,id));Mc++;if(Array.isArray(Lb)){if("-"===Oc)Oc=Lb.length;else{if(Ga&&!bc(Oc))throw new G("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",rc,ca,E);bc(Oc)&&(Oc=~~Oc)}if(Mc>=qd){if(Ga&&"add"===ca.op&&Oc>Lb.length)throw new G("The specified index MUST NOT be greater than the number of elements in the array",
"OPERATION_VALUE_OUT_OF_BOUNDS",rc,ca,E);Cb=z[ca.op].call(ca,Lb,Oc,E);if(!1===Cb.test)throw new G("Test operation failed","TEST_OPERATION_FAILED",rc,ca,E);return Cb}}else if(Mc>=qd){Cb=w[ca.op].call(ca,Lb,Oc,E);if(!1===Cb.test)throw new G("Test operation failed","TEST_OPERATION_FAILED",rc,ca,E);return Cb}Lb=Lb[Oc];if(Ga&&Mc<qd&&(!Lb||"object"!==typeof Lb))throw new G("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",rc,ca,E);}}function Za(E,ca,Ga,eb,Cb){void 0===eb&&(eb=
!0);void 0===Cb&&(Cb=!0);if(Ga&&!Array.isArray(ca))throw new G("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");eb||(E=Yb(E));eb=Array(ca.length);for(var rc=0,Lb=ca.length;rc<Lb;rc++)eb[rc]=Ea(E,ca[rc],Ga,!0,Cb,rc),E=eb[rc].newDocument;eb.newDocument=E;return eb}function tb(E,ca,Ga,eb){if("object"!==typeof E||null===E||Array.isArray(E))throw new G("Operation is not an object","OPERATION_NOT_AN_OBJECT",ca,E,Ga);if(w[E.op]){if("string"!==typeof E.path)throw new G("Operation `path` property is not a string",
"OPERATION_PATH_INVALID",ca,E,Ga);if(0!==E.path.indexOf("/")&&0<E.path.length)throw new G('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",ca,E,Ga);if("move"!==E.op&&"copy"!==E.op||"string"===typeof E.from)if("add"!==E.op&&"replace"!==E.op&&"test"!==E.op||void 0!==E.value){if(("add"===E.op||"replace"===E.op||"test"===E.op)&&zb(E.value))throw new G("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",
ca,E,Ga);if(Ga)if("add"==E.op){var Cb=E.path.split("/").length;eb=eb.split("/").length;if(Cb!==eb+1&&Cb!==eb)throw new G("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",ca,E,Ga);}else if("replace"===E.op||"remove"===E.op||"_get"===E.op){if(E.path!==eb)throw new G("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",ca,E,Ga);}else if(("move"===E.op||"copy"===E.op)&&(Cb=rb([{op:"_get",path:E.from,value:void 0}],Ga))&&"OPERATION_PATH_UNRESOLVABLE"===
Cb.name)throw new G("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",ca,E,Ga);}else throw new G("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",ca,E,Ga);else throw new G("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",ca,E,Ga);}else throw new G("Operation `op` property is not one of operations defined in RFC-6902",
"OPERATION_OP_INVALID",ca,E,Ga);}function rb(E,ca,Ga){try{if(!Array.isArray(E))throw new G("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(ca)Za(Yb(ca),Yb(E),Ga||!0);else{Ga=Ga||tb;for(var eb=0;eb<E.length;eb++)Ga(E[eb],eb,ca,void 0)}}catch(Cb){if(Cb instanceof G)return Cb;throw Cb;}}function pb(E,ca){if(E===ca)return!0;if(E&&ca&&"object"==typeof E&&"object"==typeof ca){var Ga=Array.isArray(E),eb=Array.isArray(ca);if(Ga&&eb){var Cb=E.length;if(Cb!=ca.length)return!1;for(Ga=Cb;0!==Ga--;)if(!pb(E[Ga],
ca[Ga]))return!1;return!0}if(Ga!=eb)return!1;eb=Object.keys(E);Cb=eb.length;if(Cb!==Object.keys(ca).length)return!1;for(Ga=Cb;0!==Ga--;)if(!ca.hasOwnProperty(eb[Ga]))return!1;for(Ga=Cb;0!==Ga--;)if(Cb=eb[Ga],!pb(E[Cb],ca[Cb]))return!1;return!0}return E!==E&&ca!==ca}function vb(E,ca){void 0===ca&&(ca=!1);var Ga=V.get(E.object);gb(Ga.value,E.object,E.patches,"",ca);E.patches.length&&Za(Ga.value,E.patches);ca=E.patches;0<ca.length&&(E.patches=[],E.callback&&E.callback(ca));return ca}function gb(E,ca,
Ga,eb,Cb){if(ca!==E){"function"===typeof ca.toJSON&&(ca=ca.toJSON());for(var rc=ub(ca),Lb=ub(E),Mc=!1,qd=Lb.length-1;0<=qd;qd--){var id=Lb[qd],Oc=E[id];if(!A.call(ca,id)||void 0===ca[id]&&void 0!==Oc&&!1===Array.isArray(ca))Array.isArray(E)===Array.isArray(ca)?(Cb&&Ga.push({op:"test",path:eb+"/"+Xb(id),value:Yb(Oc)}),Ga.push({op:"remove",path:eb+"/"+Xb(id)}),Mc=!0):(Cb&&Ga.push({op:"test",path:eb,value:E}),Ga.push({op:"replace",path:eb,value:ca}));else{var Pd=ca[id];"object"==typeof Oc&&null!=Oc&&
"object"==typeof Pd&&null!=Pd&&Array.isArray(Oc)===Array.isArray(Pd)?gb(Oc,Pd,Ga,eb+"/"+Xb(id),Cb):Oc!==Pd&&(Cb&&Ga.push({op:"test",path:eb+"/"+Xb(id),value:Yb(Oc)}),Ga.push({op:"replace",path:eb+"/"+Xb(id),value:Yb(Pd)}))}}if(Mc||rc.length!=Lb.length)for(qd=0;qd<rc.length;qd++)id=rc[qd],A.call(E,id)||void 0===ca[id]||Ga.push({op:"add",path:eb+"/"+Xb(id),value:Yb(ca[id])})}}function ec(E){var ca=this;ca instanceof ec||(ca=new ec);ca.tail=null;ca.head=null;ca.length=0;if(E&&"function"===typeof E.forEach)E.forEach(function(Cb){ca.push(Cb)});
else if(0<arguments.length)for(var Ga=0,eb=arguments.length;Ga<eb;Ga++)ca.push(arguments[Ga]);return ca}function sa(E,ca,Ga,eb){if(!(this instanceof sa))return new sa(E,ca,Ga,eb);this.list=eb;this.value=E;ca?(ca.next=this,this.prev=ca):this.prev=null;Ga?(Ga.prev=this,this.next=Ga):this.next=null}function ia(){if(Rc)return Dc;Rc=1;const E=Symbol("SemVer ANY");class ca{static get ANY(){return E}constructor(id,Oc){Oc=Ga(Oc);if(id instanceof ca){if(id.loose===!!Oc.loose)return id;id=id.value}Lb("comparator",
id,Oc);this.options=Oc;this.loose=!!Oc.loose;this.parse(id);this.value=this.semver===E?"":this.operator+this.semver.version;Lb("comp",this)}parse(id){const Oc=id.match(this.options.loose?eb[Cb.COMPARATORLOOSE]:eb[Cb.COMPARATOR]);if(!Oc)throw new TypeError("Invalid comparator: ".concat(id));this.operator=void 0!==Oc[1]?Oc[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=Oc[2]?new Mc(Oc[2],this.options.loose):E}toString(){return this.value}test(id){Lb("Comparator.test",id,this.options.loose);
if(this.semver===E||id===E)return!0;if("string"===typeof id)try{id=new Mc(id,this.options)}catch(Oc){return!1}return rc(id,this.operator,this.semver,this.options)}intersects(id,Oc){if(!(id instanceof ca))throw new TypeError("a Comparator is required");Oc&&"object"===typeof Oc||(Oc={loose:!!Oc,includePrerelease:!1});if(""===this.operator)return""===this.value?!0:(new qd(id.value,Oc)).test(this.value);if(""===id.operator)return""===id.value?!0:(new qd(this.value,Oc)).test(id.semver);const Pd=("\x3e\x3d"===
this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===id.operator||"\x3e"===id.operator),Td=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===id.operator||"\x3c"===id.operator),Md=this.semver.version===id.semver.version,Kd=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===id.operator||"\x3c\x3d"===id.operator),ae=rc(this.semver,"\x3c",id.semver,Oc)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===id.operator||"\x3c"===id.operator);id=rc(this.semver,
"\x3e",id.semver,Oc)&&("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3e\x3d"===id.operator||"\x3e"===id.operator);return Pd||Td||Md&&Kd||ae||id}}Dc=ca;const Ga=Zb,{re:eb,t:Cb}=jc.exports,rc=Bc,Lb=ld,Mc=Rb,qd=Ba();return Dc}function Ba(){if(rd)return yd;rd=1;class E{constructor(sc,Pc){Pc=Ga(Pc);if(sc instanceof E)return sc.loose===!!Pc.loose&&sc.includePrerelease===!!Pc.includePrerelease?sc:new E(sc.raw,Pc);if(sc instanceof eb)return this.raw=sc.value,this.set=[[sc]],this.format(),this;
this.options=Pc;this.loose=!!Pc.loose;this.includePrerelease=!!Pc.includePrerelease;this.raw=sc;this.set=sc.split("||").map(Fc=>this.parseRange(Fc.trim())).filter(Fc=>Fc.length);if(!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(sc));if(1<this.set.length)if(sc=this.set[0],this.set=this.set.filter(Fc=>"\x3c0.0.0-0"!==Fc[0].value),0===this.set.length)this.set=[sc];else if(1<this.set.length)for(const Fc of this.set)if(1===Fc.length&&""===Fc[0].value){this.set=[Fc];break}this.format()}format(){return this.range=
this.set.map(sc=>sc.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(sc){sc=sc.trim();var Pc=Object.keys(this.options).join(",");Pc="parseRange:".concat(Pc,":").concat(sc);var Fc=ca.get(Pc);if(Fc)return Fc;Fc=this.options.loose;sc=sc.replace(Fc?Lb[Mc.HYPHENRANGELOOSE]:Lb[Mc.HYPHENRANGE],hd(this.options.includePrerelease));Cb("hyphen replace",sc);sc=sc.replace(Lb[Mc.COMPARATORTRIM],qd);Cb("comparator trim",sc);sc=sc.replace(Lb[Mc.TILDETRIM],id);sc=sc.replace(Lb[Mc.CARETTRIM],
Oc);sc=sc.split(/\s+/).join(" ");sc=sc.split(" ").map(Yc=>{var jd=Yc;Yc=this.options;Cb("comp",jd,Yc);jd=ae(jd,Yc);Cb("caret",jd);jd=Md(jd,Yc);Cb("tildes",jd);jd=Qa(jd,Yc);Cb("xrange",jd);Cb("replaceStars",jd,Yc);jd=jd.trim().replace(Lb[Mc.STAR],"");Cb("stars",jd);return jd}).join(" ").split(/\s+/).map(Yc=>{var jd=this.options;Cb("replaceGTE0",Yc,jd);return Yc.trim().replace(Lb[jd.includePrerelease?Mc.GTE0PRE:Mc.GTE0],"")});Fc&&(sc=sc.filter(Yc=>{Cb("loose invalid filter",Yc,this.options);return!!Yc.match(Lb[Mc.COMPARATORLOOSE])}));
Cb("range list",sc);Fc=new Map;sc=sc.map(Yc=>new eb(Yc,this.options));for(var Tc of sc){if("\x3c0.0.0-0"===Tc.value)return[Tc];Fc.set(Tc.value,Tc)}1<Fc.size&&Fc.has("")&&Fc.delete("");Tc=[...Fc.values()];ca.set(Pc,Tc);return Tc}intersects(sc,Pc){if(!(sc instanceof E))throw new TypeError("a Range is required");return this.set.some(Fc=>Pd(Fc,Pc)&&sc.set.some(Tc=>Pd(Tc,Pc)&&Fc.every(Yc=>Tc.every(jd=>Yc.intersects(jd,Pc)))))}test(sc){if(!sc)return!1;if("string"===typeof sc)try{sc=new rc(sc,this.options)}catch(jd){return!1}for(let jd=
0;jd<this.set.length;jd++){a:{var Pc=this.set[jd];var Fc=sc,Tc=this.options;for(var Yc=0;Yc<Pc.length;Yc++)if(!Pc[Yc].test(Fc)){Pc=!1;break a}if(Fc.prerelease.length&&!Tc.includePrerelease){for(Tc=0;Tc<Pc.length;Tc++)if(Cb(Pc[Tc].semver),Pc[Tc].semver!==eb.ANY&&0<Pc[Tc].semver.prerelease.length&&(Yc=Pc[Tc].semver,Yc.major===Fc.major&&Yc.minor===Fc.minor&&Yc.patch===Fc.patch)){Pc=!0;break a}Pc=!1}else Pc=!0}if(Pc)return!0}return!1}}yd=E;const ca=new Gb({max:1E3}),Ga=Zb,eb=ia(),Cb=ld,rc=Rb,{re:Lb,t:Mc,
comparatorTrimReplace:qd,tildeTrimReplace:id,caretTrimReplace:Oc}=jc.exports,Pd=(sc,Pc)=>{let Fc=!0;sc=sc.slice();let Tc=sc.pop();for(;Fc&&sc.length;)Fc=sc.every(Yc=>Tc.intersects(Yc,Pc)),Tc=sc.pop();return Fc},Td=sc=>!sc||"x"===sc.toLowerCase()||"*"===sc,Md=(sc,Pc)=>sc.trim().split(/\s+/).map(Fc=>Kd(Fc,Pc)).join(" "),Kd=(sc,Pc)=>sc.replace(Pc.loose?Lb[Mc.TILDELOOSE]:Lb[Mc.TILDE],(Fc,Tc,Yc,jd,nd)=>{Cb("tilde",sc,Fc,Tc,Yc,jd,nd);Td(Tc)?Fc="":Td(Yc)?Fc="\x3e\x3d".concat(Tc,".0.0 \x3c").concat(+Tc+1,
".0.0-0"):Td(jd)?Fc="\x3e\x3d".concat(Tc,".").concat(Yc,".0 \x3c").concat(Tc,".").concat(+Yc+1,".0-0"):nd?(Cb("replaceTilde pr",nd),Fc="\x3e\x3d".concat(Tc,".").concat(Yc,".").concat(jd,"-").concat(nd," \x3c").concat(Tc,".").concat(+Yc+1,".0-0")):Fc="\x3e\x3d".concat(Tc,".").concat(Yc,".").concat(jd," \x3c").concat(Tc,".").concat(+Yc+1,".0-0");Cb("tilde return",Fc);return Fc}),ae=(sc,Pc)=>sc.trim().split(/\s+/).map(Fc=>Ca(Fc,Pc)).join(" "),Ca=(sc,Pc)=>{Cb("caret",sc,Pc);const Fc=Pc.includePrerelease?
"-0":"";return sc.replace(Pc.loose?Lb[Mc.CARETLOOSE]:Lb[Mc.CARET],(Tc,Yc,jd,nd,ne)=>{Cb("caret",sc,Tc,Yc,jd,nd,ne);Td(Yc)?Tc="":Td(jd)?Tc="\x3e\x3d".concat(Yc,".0.0").concat(Fc," \x3c").concat(+Yc+1,".0.0-0"):Td(nd)?Tc="0"===Yc?"\x3e\x3d".concat(Yc,".").concat(jd,".0").concat(Fc," \x3c").concat(Yc,".").concat(+jd+1,".0-0"):"\x3e\x3d".concat(Yc,".").concat(jd,".0").concat(Fc," \x3c").concat(+Yc+1,".0.0-0"):ne?(Cb("replaceCaret pr",ne),Tc="0"===Yc?"0"===jd?"\x3e\x3d".concat(Yc,".").concat(jd,".").concat(nd,
"-").concat(ne," \x3c").concat(Yc,".").concat(jd,".").concat(+nd+1,"-0"):"\x3e\x3d".concat(Yc,".").concat(jd,".").concat(nd,"-").concat(ne," \x3c").concat(Yc,".").concat(+jd+1,".0-0"):"\x3e\x3d".concat(Yc,".").concat(jd,".").concat(nd,"-").concat(ne," \x3c").concat(+Yc+1,".0.0-0")):(Cb("no pr"),Tc="0"===Yc?"0"===jd?"\x3e\x3d".concat(Yc,".").concat(jd,".").concat(nd).concat(Fc," \x3c").concat(Yc,".").concat(jd,".").concat(+nd+1,"-0"):"\x3e\x3d".concat(Yc,".").concat(jd,".").concat(nd).concat(Fc," \x3c").concat(Yc,
".").concat(+jd+1,".0-0"):"\x3e\x3d".concat(Yc,".").concat(jd,".").concat(nd," \x3c").concat(+Yc+1,".0.0-0"));Cb("caret return",Tc);return Tc})},Qa=(sc,Pc)=>{Cb("replaceXRanges",sc,Pc);return sc.split(/\s+/).map(Fc=>dc(Fc,Pc)).join(" ")},dc=(sc,Pc)=>{sc=sc.trim();return sc.replace(Pc.loose?Lb[Mc.XRANGELOOSE]:Lb[Mc.XRANGE],(Fc,Tc,Yc,jd,nd,ne)=>{Cb("xRange",sc,Fc,Tc,Yc,jd,nd,ne);const Ue=Td(Yc),Fe=Ue||Td(jd);nd=Fe||Td(nd);"\x3d"===Tc&&nd&&(Tc="");ne=Pc.includePrerelease?"-0":"";Ue?Fc="\x3e"===Tc||"\x3c"===
Tc?"\x3c0.0.0-0":"*":Tc&&nd?(Fe&&(jd=0),nd=0,"\x3e"===Tc?(Tc="\x3e\x3d",Fe?(Yc=+Yc+1,jd=0):jd=+jd+1,nd=0):"\x3c\x3d"===Tc&&(Tc="\x3c",Fe?Yc=+Yc+1:jd=+jd+1),"\x3c"===Tc&&(ne="-0"),Fc="".concat(Tc+Yc,".").concat(jd,".").concat(nd).concat(ne)):Fe?Fc="\x3e\x3d".concat(Yc,".0.0").concat(ne," \x3c").concat(+Yc+1,".0.0-0"):nd&&(Fc="\x3e\x3d".concat(Yc,".").concat(jd,".0").concat(ne," \x3c").concat(Yc,".").concat(+jd+1,".0-0"));Cb("xRange return",Fc);return Fc})},hd=sc=>(Pc,Fc,Tc,Yc,jd,nd,ne,Ue,Fe,qe,hf,
pf,Le)=>{Fc=Td(Tc)?"":Td(Yc)?"\x3e\x3d".concat(Tc,".0.0").concat(sc?"-0":""):Td(jd)?"\x3e\x3d".concat(Tc,".").concat(Yc,".0").concat(sc?"-0":""):nd?"\x3e\x3d".concat(Fc):"\x3e\x3d".concat(Fc).concat(sc?"-0":"");Ue=Td(Fe)?"":Td(qe)?"\x3c".concat(+Fe+1,".0.0-0"):Td(hf)?"\x3c".concat(Fe,".").concat(+qe+1,".0-0"):pf?"\x3c\x3d".concat(Fe,".").concat(qe,".").concat(hf,"-").concat(pf):sc?"\x3c".concat(Fe,".").concat(qe,".").concat(+hf+1,"-0"):"\x3c\x3d".concat(Ue);return"".concat(Fc," ").concat(Ue).trim()};
return yd}function Ra(E,ca,Ga,eb,Cb,rc){const Lb=Mc=>Ka[Mc.type](Lb,Mc);Lb.memberDepth=0;Lb.fn=Object.create(ca);Lb.params=Ga;Lb.datum=eb;Lb.event=Cb;Lb.item=rc;xa.forEach(Mc=>Lb.fn[Mc]=function(){return Cb.vega[Mc](...arguments)});return Lb(E)}function Wa(E){const [ca,Ga]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(E).slice(1,3);return{library:ca,version:Ga}}function Ia(E,ca,Ga){E.fields=ca||[];E.fname=Ga;return E}function hb(E){return 1===E.length?pc(E[0]):Ic(E)}function ab(E){function ca(){Ga.push(Lb+
E.substring(Mc,qd));Lb="";Mc=qd+1}const Ga=[],eb=E.length;let Cb=null,rc=0,Lb="",Mc,qd,id;E+="";for(Mc=qd=0;qd<eb;++qd)if(id=E[qd],"\\"===id)Lb+=E.substring(Mc,qd),Lb+=E.substring(++qd,++qd),Mc=qd;else if(id===Cb)ca(),Cb=null,rc=-1;else if(!Cb)if(Mc===rc&&'"'===id)Mc=qd+1,Cb=id;else if(Mc===rc&&"'"===id)Mc=qd+1,Cb=id;else if("."===id&&!rc)qd>Mc?ca():Mc=qd+1;else if("["===id)qd>Mc&&ca(),rc=Mc=qd+1;else if("]"===id){if(!rc)throw Error("Access path missing open bracket: "+E);0<rc&&ca();rc=0;Mc=qd+1}if(rc)throw Error("Access path missing closing bracket: "+
E);if(Cb)throw Error("Access path missing closing quote: "+E);qd>Mc&&(qd++,ca());return Ga}function qb(E,ca){var Ga={},eb;for(eb in E)Object.prototype.hasOwnProperty.call(E,eb)&&0>ca.indexOf(eb)&&(Ga[eb]=E[eb]);if(null!=E&&"function"===typeof Object.getOwnPropertySymbols){var Cb=0;for(eb=Object.getOwnPropertySymbols(E);Cb<eb.length;Cb++)0>ca.indexOf(eb[Cb])&&Object.prototype.propertyIsEnumerable.call(E,eb[Cb])&&(Ga[eb[Cb]]=E[eb[Cb]])}return Ga}function Pb(E){const ca=[];return function(Ga,eb){if("object"!==
typeof eb||null===eb)return eb;Ga=ca.indexOf(this)+1;ca.length=Ga;if(ca.length>E)return"[Object]";if(0<=ca.indexOf(eb))return"[Circular]";ca.push(eb);return eb}}function db(E,ca,Ga){function eb(qd){qd.source===rc&&(Mc=0,E.removeEventListener("message",eb,!1))}function Cb(){0>=Mc||(rc.postMessage(Ga,Lb),setTimeout(Cb,250),--Mc)}const rc=E.open(ca),{origin:Lb}=new URL(ca);let Mc=40;E.addEventListener("message",eb,!1);setTimeout(Cb,250)}function U(E){for(var ca=arguments.length,Ga=Array(1<ca?ca-1:0),
eb=1;eb<ca;eb++)Ga[eb-1]=arguments[eb];for(const Cb of Ga){ca=E;Ga=Cb;for(const rc of Object.keys(Ga))h.writeConfig(ca,rc,Ga[rc],!0)}return E}function ba(E,ca,Ga,eb){ca="\x3chtml\x3e\x3chead\x3e".concat(ca,'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e');Ga="\x3c/code\x3e\x3c/pre\x3e".concat(Ga,"\x3c/body\x3e\x3c/html\x3e");const Cb=window.open("");Cb.document.write(ca+E+Ga);Cb.document.title="".concat(Ge[eb]," JSON Source")}function ea(E,ca){if(E.$schema){E=Wa(E.$schema);if(ca&&
ca!==E.library){var Ga;console.warn("The given visualization spec is written in ".concat(Ge[E.library],", but mode argument sets ").concat(null!==(Ga=Ge[ca])&&void 0!==Ga?Ga:ca,"."))}ca=E.library;Fd(Ke[ca],"^".concat(E.version.slice(1)))||console.warn("The input spec uses ".concat(Ge[ca]," ").concat(E.version,", but the current version of ").concat(Ge[ca]," is v").concat(Ke[ca],"."));return ca}return"mark"in E||"encoding"in E||"layer"in E||"hconcat"in E||"vconcat"in E||"facet"in E||"repeat"in E?"vega-lite":
"marks"in E||"signals"in E||"scales"in E||"axes"in E?"vega":null!==ca&&void 0!==ca?ca:"vega"}function ja(E){return E&&"load"in E?E:Bd.loader(E)}function La(E,ca){const Ga=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var eb,Cb,rc=2<Ga.length&&void 0!==Ga[2]?Ga[2]:{};let Lb,Mc;h.isString(ca)?(Mc=ja(rc.loader),Lb=JSON.parse(yield Mc.load(ca))):Lb=ca;var qd,id,Oc=null!==(qd=null===(id=Lb.usermeta)||void 0===id?void 0:id.embedOptions)&&void 0!==qd?qd:{};h.isString(Oc.defaultStyle)&&
(Oc.defaultStyle=!1);qd=Oc.loader;if(!Mc||qd){var Pd;Mc=ja(null!==(Pd=rc.loader)&&void 0!==Pd?Pd:qd)}Oc=yield oa(Oc,Mc);rc=yield oa(rc,Mc);rc=Object.assign({},U(rc,Oc),{config:h.mergeConfig(null!==(eb=rc.config)&&void 0!==eb?eb:{},null!==(Cb=Oc.config)&&void 0!==Cb?Cb:{})});return yield l(E,Lb,rc,Mc)})}function oa(E,ca){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Ga;const eb=h.isString(E.config)?JSON.parse(yield ca.load(E.config)):null!==(Ga=E.config)&&void 0!==Ga?Ga:{};Ga=
h.isString(E.patch)?JSON.parse(yield ca.load(E.patch)):E.patch;return Object.assign({},E,Ga?{patch:Ga}:{},eb?{config:eb}:{})})}function qa(E){var ca;E=E.getRootNode?E.getRootNode():document;return E instanceof ShadowRoot?{root:E,rootContainer:E}:{root:document,rootContainer:null!==(ca=document.head)&&void 0!==ca?ca:document.body}}function l(E,ca){const Ga=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var eb,Cb,rc,Lb,Mc,qd,id;let Oc=2<Ga.length&&void 0!==Ga[2]?Ga[2]:{};
var Pd=3<Ga.length?Ga[3]:void 0;const Td=Oc.theme?h.mergeConfig(Sb[Oc.theme],null!==(eb=Oc.config)&&void 0!==eb?eb:{}):Oc.config;eb=h.isBoolean(Oc.actions)?Oc.actions:U({},le,null!==(Cb=Oc.actions)&&void 0!==Cb?Cb:{});Cb=Object.assign({},Re,Oc.i18n);const Md=null!==(rc=Oc.renderer)&&void 0!==rc?rc:"canvas";rc=null!==(Lb=Oc.logLevel)&&void 0!==Lb?Lb:Bd.Warn;Lb=null!==(Mc=Oc.downloadFileName)&&void 0!==Mc?Mc:"visualization";Mc="string"===typeof E?document.querySelector(E):E;if(!Mc)throw Error("".concat(E,
" does not exist"));if(!1!==Oc.defaultStyle){const {root:Fc,rootContainer:Tc}=qa(Mc);if(!Fc.getElementById("vega-embed-style")){var Kd=document.createElement("style");Kd.id="vega-embed-style";Kd.innerHTML=void 0===Oc.defaultStyle||!0===Oc.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n}\n.vega-embed.has-actions {\n  padding-right: 38px;\n}\n.vega-embed details:not([open]) \x3e :not(summary) {\n  display: none !important;\n}\n.vega-embed summary {\n  list-style: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 6px;\n  z-index: 1000;\n  background: white;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n  color: #1b1e23;\n  border: 1px solid #aaa;\n  border-radius: 999px;\n  opacity: 0.2;\n  transition: opacity 0.4s ease-in;\n  cursor: pointer;\n  line-height: 0px;\n}\n.vega-embed summary::-webkit-details-marker {\n  display: none;\n}\n.vega-embed summary:active {\n  box-shadow: #aaa 0px 0px 0px 1px inset;\n}\n.vega-embed summary svg {\n  width: 14px;\n  height: 14px;\n}\n.vega-embed details[open] summary {\n  opacity: 0.7;\n}\n.vega-embed:hover summary, .vega-embed:focus-within summary {\n  opacity: 1 !important;\n  transition: opacity 0.2s ease;\n}\n.vega-embed .vega-actions {\n  position: absolute;\n  z-index: 1001;\n  top: 35px;\n  right: -9px;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #d9d9d9;\n  background: white;\n  animation-duration: 0.15s;\n  animation-name: scale-in;\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n  text-align: left;\n}\n.vega-embed .vega-actions a {\n  padding: 8px 16px;\n  font-family: sans-serif;\n  font-size: 14px;\n  font-weight: 600;\n  white-space: nowrap;\n  color: #434a56;\n  text-decoration: none;\n}\n.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {\n  background-color: #f7f7f9;\n  color: black;\n}\n.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n  content: "";\n  display: inline-block;\n  position: absolute;\n}\n.vega-embed .vega-actions::before {\n  left: auto;\n  right: 14px;\n  top: -16px;\n  border: 8px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #d9d9d9;\n}\n.vega-embed .vega-actions::after {\n  left: auto;\n  right: 15px;\n  top: -14px;\n  border: 7px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #fff;\n}\n.vega-embed .chart-wrapper.fit-x {\n  width: 100%;\n}\n.vega-embed .chart-wrapper.fit-y {\n  height: 100%;\n}\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px;\n}\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n'.toString():
Oc.defaultStyle;Tc.appendChild(Kd)}}const ae=ea(ca,Oc.mode);let Ca=of[ae](ca,Td);"vega-lite"===ae&&Ca.$schema&&(Kd=Wa(Ca.$schema),Fd(Ke.vega,"^".concat(Kd.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(Kd.version,", but current version is v").concat(Ke.vega,".")));Mc.classList.add("vega-embed");eb&&Mc.classList.add("has-actions");Mc.innerHTML="";let Qa=Mc;eb&&(Kd=document.createElement("div"),Kd.classList.add("chart-wrapper"),Mc.appendChild(Kd),Qa=Kd);(Kd=Oc.patch)&&(Ca=Kd instanceof
Function?Kd(Ca):Za(Ca,Kd,!0,!1).newDocument);Oc.formatLocale&&Bd.formatLocale(Oc.formatLocale);Oc.timeFormatLocale&&Bd.timeFormatLocale(Oc.timeFormatLocale);if(Oc.expressionFunctions)for(var dc in Oc.expressionFunctions)Kd=Oc.expressionFunctions[dc],"fn"in Kd?Bd.expressionFunction(dc,Kd.fn,Kd.visitor):Kd instanceof Function&&Bd.expressionFunction(dc,Kd);({ast:dc}=Oc);Kd=Bd.parse(Ca,"vega-lite"===ae?{}:Td,{ast:dc});const hd=new (Oc.viewClass||Bd.View)(Kd,Object.assign({},{loader:Pd,logLevel:rc,renderer:Md},
dc?{expr:null!==(qd=null!==(id=Bd.expressionInterpreter)&&void 0!==id?id:Oc.expr)&&void 0!==qd?qd:kb}:{}));hd.addSignalListener("autosize",(Fc,Tc)=>{({type:Fc}=Tc);"fit-x"==Fc?(Qa.classList.add("fit-x"),Qa.classList.remove("fit-y")):"fit-y"==Fc?(Qa.classList.remove("fit-x"),Qa.classList.add("fit-y")):"fit"==Fc?Qa.classList.add("fit-x","fit-y"):Qa.classList.remove("fit-x","fit-y")});!1!==Oc.tooltip&&(qd="function"===typeof Oc.tooltip?Oc.tooltip:(new md(!0===Oc.tooltip?{}:Oc.tooltip)).call,hd.tooltip(qd));
({hover:qd}=Oc);void 0===qd&&(qd="vega"===ae);if(qd){const {hoverSet:Fc,updateSet:Tc}="boolean"===typeof qd?{}:qd;hd.hover(Fc,Tc)}Oc&&(null!=Oc.width&&hd.width(Oc.width),null!=Oc.height&&hd.height(Oc.height),null!=Oc.padding&&hd.padding(Oc.padding));yield hd.initialize(Qa,Oc.bind).runAsync();let sc;if(!1!==eb){id=Mc;if(!1!==Oc.defaultStyle){const Fc=document.createElement("details");Fc.title=Cb.CLICK_TO_VIEW_ACTIONS;Mc.append(Fc);id=Fc;qd=document.createElement("summary");qd.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e';
Fc.append(qd);sc=Tc=>{Fc.contains(Tc.target)||Fc.removeAttribute("open")};document.addEventListener("click",sc)}qd=document.createElement("div");id.append(qd);qd.classList.add("vega-actions");if(!0===eb||!1!==eb.export)for(const Fc of["svg","png"])if(!0===eb||!0===eb.export||eb.export[Fc])id=Cb["".concat(Fc.toUpperCase(),"_ACTION")],Pd=document.createElement("a"),Pd.text=id,Pd.href="#",Pd.target="_blank",Pd.download="".concat(Lb,".").concat(Fc),Pd.addEventListener("mousedown",function(Tc){const Yc=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){Tc.preventDefault();const jd=yield hd.toImageURL(Fc,Oc.scaleFactor);Yc.href=jd})}),qd.append(Pd);if(!0===eb||!1!==eb.source)Lb=document.createElement("a"),Lb.text=Cb.SOURCE_ACTION,Lb.href="#",Lb.addEventListener("click",function(Fc){var Tc,Yc;ba(Ma(ca),null!==(Tc=Oc.sourceHeader)&&void 0!==Tc?Tc:"",null!==(Yc=Oc.sourceFooter)&&void 0!==Yc?Yc:"",ae);Fc.preventDefault()}),qd.append(Lb);"vega-lite"!==ae||!0!==eb&&!1===eb.compiled||
(Lb=document.createElement("a"),Lb.text=Cb.COMPILED_ACTION,Lb.href="#",Lb.addEventListener("click",function(Fc){var Tc,Yc;ba(Ma(Ca),null!==(Tc=Oc.sourceHeader)&&void 0!==Tc?Tc:"",null!==(Yc=Oc.sourceFooter)&&void 0!==Yc?Yc:"","vega");Fc.preventDefault()}),qd.append(Lb));if(!0===eb||!1!==eb.editor){var Pc;const Fc=null!==(Pc=Oc.editorUrl)&&void 0!==Pc?Pc:"https://vega.github.io/editor/";Pc=document.createElement("a");Pc.text=Cb.EDITOR_ACTION;Pc.href="#";Pc.addEventListener("click",function(Tc){db(window,
Fc,{config:Td,mode:ae,renderer:Md,spec:Ma(ca)});Tc.preventDefault()});qd.append(Pc)}}return{view:hd,spec:ca,vgSpec:Ca,finalize:function(){sc&&document.removeEventListener("click",sc);hd.finalize()},embedOptions:Oc}})}function D(E){const ca=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Ga;let eb=1<ca.length&&void 0!==ca[1]?ca[1]:{};const Cb=document.createElement("div");Cb.classList.add("vega-embed-wrapper");const rc=document.createElement("div");Cb.appendChild(rc);
const Lb=!0===eb.actions||!1===eb.actions?eb.actions:Object.assign({},{export:!0,source:!1,compiled:!0,editor:!0},null!==(Ga=eb.actions)&&void 0!==Ga?Ga:{});Ga=yield La(rc,E,Object.assign({},{actions:Lb},null!==eb&&void 0!==eb?eb:{}));Cb.value=Ga.view;return Cb})}var K=Ya(h),v=Ya(ka),R=function(){var E=function(ca,Ga){E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(eb,Cb){eb.__proto__=Cb}||function(eb,Cb){for(var rc in Cb)Cb.hasOwnProperty(rc)&&(eb[rc]=Cb[rc])};return E(ca,Ga)};
return function(ca,Ga){function eb(){this.constructor=ca}E(ca,Ga);ca.prototype=null===Ga?Object.create(Ga):(eb.prototype=Ga.prototype,new eb)}}(),A=Object.prototype.hasOwnProperty,W=function(E){function ca(Ga,eb,Cb,rc,Lb){var Mc=this.constructor,qd=E.call(this,Ub(Ga,{name:eb,index:Cb,operation:rc,tree:Lb}))||this;qd.name=eb;qd.index=Cb;qd.operation=rc;qd.tree=Lb;Object.setPrototypeOf(qd,Mc.prototype);qd.message=Ub(Ga,{name:eb,index:Cb,operation:rc,tree:Lb});return qd}R(ca,E);return ca}(Error),G=W,
w={add:function(E,ca,Ga){E[ca]=this.value;return{newDocument:Ga}},remove:function(E,ca,Ga){var eb=E[ca];delete E[ca];return{newDocument:Ga,removed:eb}},replace:function(E,ca,Ga){var eb=E[ca];E[ca]=this.value;return{newDocument:Ga,removed:eb}},move:function(E,ca,Ga){(E=kc(Ga,this.path))&&(E=Yb(E));ca=Ea(Ga,{op:"remove",path:this.from}).removed;Ea(Ga,{op:"add",path:this.path,value:ca});return{newDocument:Ga,removed:E}},copy:function(E,ca,Ga){E=kc(Ga,this.from);Ea(Ga,{op:"add",path:this.path,value:Yb(E)});
return{newDocument:Ga}},test:function(E,ca,Ga){return{newDocument:Ga,test:pb(E[ca],this.value)}},_get:function(E,ca,Ga){this.value=E[ca];return{newDocument:Ga}}},z={add:function(E,ca,Ga){bc(ca)?E.splice(ca,0,this.value):E[ca]=this.value;return{newDocument:Ga,index:ca}},remove:function(E,ca,Ga){E=E.splice(ca,1);return{newDocument:Ga,removed:E[0]}},replace:function(E,ca,Ga){var eb=E[ca];E[ca]=this.value;return{newDocument:Ga,removed:eb}},move:w.move,copy:w.copy,test:w.test,_get:w._get},F=Object.freeze({__proto__:null,
JsonPatchError:G,deepClone:Yb,getValueByPointer:kc,applyOperation:Ea,applyPatch:Za,applyReducer:function(E,ca,Ga){var eb=Ea(E,ca);if(!1===eb.test)throw new G("Test operation failed","TEST_OPERATION_FAILED",Ga,ca,E);return eb.newDocument},validator:tb,validate:rb,_areEquals:pb}),V=new WeakMap,ta=function(){return function(E){this.observers=new Map;this.obj=E}}(),N=function(){return function(E,ca){this.callback=E;this.observer=ca}}(),ma=Object.freeze({__proto__:null,unobserve:function(E,ca){ca.unobserve()},
observe:function(E,ca){var Ga=V.get(E);if(Ga){var eb=Ga.observers.get(ca);var Cb=eb&&eb.observer}else Ga=new ta(E),V.set(E,Ga);if(Cb)return Cb;Cb={};Ga.value=Yb(E);if(ca){Cb.callback=ca;Cb.next=null;var rc=function(){vb(Cb)},Lb=function(){clearTimeout(Cb.next);Cb.next=setTimeout(rc)};"undefined"!==typeof window&&(window.addEventListener("mouseup",Lb),window.addEventListener("keyup",Lb),window.addEventListener("mousedown",Lb),window.addEventListener("keydown",Lb),window.addEventListener("change",Lb))}Cb.patches=
[];Cb.object=E;Cb.unobserve=function(){vb(Cb);clearTimeout(Cb.next);Ga.observers.delete(Cb.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",Lb),window.removeEventListener("keyup",Lb),window.removeEventListener("mousedown",Lb),window.removeEventListener("keydown",Lb),window.removeEventListener("change",Lb))};Ga.observers.set(ca,new N(ca,Cb));return Cb},generate:vb,compare:function(E,ca,Ga){void 0===Ga&&(Ga=!1);var eb=[];gb(E,ca,eb,"",Ga);return eb}});Object.assign({},F,
ma,{JsonPatchError:W,deepClone:Yb,escapePathComponent:Xb,unescapePathComponent:oc});var ya=/("(?:[^\\"]|\\.)*")|[:,]/g,Ma=function(E,ca){ca=ca||{};var Ga=JSON.stringify([1],void 0,void 0===ca.indent?2:ca.indent).slice(2,-3);var eb=""===Ga?Infinity:void 0===ca.maxLength?80:ca.maxLength;var Cb=ca.replacer;return function id(Lb,Mc,qd){Lb&&"function"===typeof Lb.toJSON&&(Lb=Lb.toJSON());var Oc=JSON.stringify(Lb,Cb);if(void 0===Oc)return Oc;qd=eb-Mc.length-qd;if(Oc.length<=qd){var Pd=Oc.replace(ya,function(hd,
sc){return sc||hd+" "});if(Pd.length<=qd)return Pd}null!=Cb&&(Lb=JSON.parse(Oc),Cb=void 0);if("object"===typeof Lb&&null!==Lb){var Td=Mc+Ga;var Md=[];var Kd=0;if(Array.isArray(Lb)){var ae="[";Pd="]";for(qd=Lb.length;Kd<qd;Kd++)Md.push(id(Lb[Kd],Td,Kd===qd-1?0:1)||"null")}else{ae="{";Pd="}";var Ca=Object.keys(Lb);for(qd=Ca.length;Kd<qd;Kd++){var Qa=Ca[Kd];var dc=JSON.stringify(Qa)+": ";Qa=id(Lb[Qa],Td,dc.length+(Kd===qd-1?0:1));void 0!==Qa&&Md.push(dc+Qa)}}if(0<Md.length)return[ae,Ga+Md.join(",\n"+
Td),Pd].join("\n"+Mc)}return Oc}(E,"",0)};ec.Node=sa;ec.create=ec;ec.prototype.removeNode=function(E){if(E.list!==this)throw Error("removing node which does not belong to this list");var ca=E.next,Ga=E.prev;ca&&(ca.prev=Ga);Ga&&(Ga.next=ca);E===this.head&&(this.head=ca);E===this.tail&&(this.tail=Ga);E.list.length--;E.next=null;E.prev=null;E.list=null;return ca};ec.prototype.unshiftNode=function(E){if(E!==this.head){E.list&&E.list.removeNode(E);var ca=this.head;E.list=this;if(E.next=ca)ca.prev=E;this.head=
E;this.tail||(this.tail=E);this.length++}};ec.prototype.pushNode=function(E){if(E!==this.tail){E.list&&E.list.removeNode(E);var ca=this.tail;E.list=this;if(E.prev=ca)ca.next=E;this.tail=E;this.head||(this.head=E);this.length++}};ec.prototype.push=function(){for(var E=0,ca=arguments.length;E<ca;E++)this.tail=new sa(arguments[E],this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length};ec.prototype.unshift=function(){for(var E=0,ca=arguments.length;E<ca;E++)this.head=new sa(arguments[E],
null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length};ec.prototype.pop=function(){if(this.tail){var E=this.tail.value;(this.tail=this.tail.prev)?this.tail.next=null:this.head=null;this.length--;return E}};ec.prototype.shift=function(){if(this.head){var E=this.head.value;(this.head=this.head.next)?this.head.prev=null:this.tail=null;this.length--;return E}};ec.prototype.forEach=function(E,ca){ca=ca||this;for(var Ga=this.head,eb=0;null!==Ga;eb++)E.call(ca,Ga.value,eb,
this),Ga=Ga.next};ec.prototype.forEachReverse=function(E,ca){ca=ca||this;for(var Ga=this.tail,eb=this.length-1;null!==Ga;eb--)E.call(ca,Ga.value,eb,this),Ga=Ga.prev};ec.prototype.get=function(E){for(var ca=0,Ga=this.head;null!==Ga&&ca<E;ca++)Ga=Ga.next;if(ca===E&&null!==Ga)return Ga.value};ec.prototype.getReverse=function(E){for(var ca=0,Ga=this.tail;null!==Ga&&ca<E;ca++)Ga=Ga.prev;if(ca===E&&null!==Ga)return Ga.value};ec.prototype.map=function(E,ca){ca=ca||this;for(var Ga=new ec,eb=this.head;null!==
eb;)Ga.push(E.call(ca,eb.value,this)),eb=eb.next;return Ga};ec.prototype.mapReverse=function(E,ca){ca=ca||this;for(var Ga=new ec,eb=this.tail;null!==eb;)Ga.push(E.call(ca,eb.value,this)),eb=eb.prev;return Ga};ec.prototype.reduce=function(E,ca){var Ga=this.head;if(1<arguments.length)var eb=ca;else if(this.head)Ga=this.head.next,eb=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var Cb=0;null!==Ga;Cb++)eb=E(eb,Ga.value,Cb),Ga=Ga.next;return eb};ec.prototype.reduceReverse=
function(E,ca){var Ga=this.tail;if(1<arguments.length)var eb=ca;else if(this.tail)Ga=this.tail.prev,eb=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var Cb=this.length-1;null!==Ga;Cb--)eb=E(eb,Ga.value,Cb),Ga=Ga.prev;return eb};ec.prototype.toArray=function(){for(var E=Array(this.length),ca=0,Ga=this.head;null!==Ga;ca++)E[ca]=Ga.value,Ga=Ga.next;return E};ec.prototype.toArrayReverse=function(){for(var E=Array(this.length),ca=0,Ga=this.tail;null!==Ga;ca++)E[ca]=
Ga.value,Ga=Ga.prev;return E};ec.prototype.slice=function(E,ca){ca=ca||this.length;0>ca&&(ca+=this.length);E=E||0;0>E&&(E+=this.length);var Ga=new ec;if(ca<E||0>ca)return Ga;0>E&&(E=0);ca>this.length&&(ca=this.length);for(var eb=0,Cb=this.head;null!==Cb&&eb<E;eb++)Cb=Cb.next;for(;null!==Cb&&eb<ca;eb++,Cb=Cb.next)Ga.push(Cb.value);return Ga};ec.prototype.sliceReverse=function(E,ca){ca=ca||this.length;0>ca&&(ca+=this.length);E=E||0;0>E&&(E+=this.length);var Ga=new ec;if(ca<E||0>ca)return Ga;0>E&&(E=
0);ca>this.length&&(ca=this.length);for(var eb=this.length,Cb=this.tail;null!==Cb&&eb>ca;eb--)Cb=Cb.prev;for(;null!==Cb&&eb>E;eb--,Cb=Cb.prev)Ga.push(Cb.value);return Ga};ec.prototype.splice=function(E,ca){E>this.length&&(E=this.length-1);0>E&&(E=this.length+E);for(var Ga=0,eb=this.head;null!==eb&&Ga<E;Ga++)eb=eb.next;var Cb=[];for(Ga=0;eb&&Ga<ca;Ga++)Cb.push(eb.value),eb=this.removeNode(eb);null===eb&&(eb=this.tail);eb!==this.head&&eb!==this.tail&&(eb=eb.prev);for(Ga=0;Ga<(2>=arguments.length?0:
arguments.length-2);Ga++){var rc=2>Ga+2||arguments.length<=Ga+2?void 0:arguments[Ga+2];eb=eb===this.head?new sa(rc,null,eb,this):new sa(rc,eb,eb.next,this);null===eb.next&&(this.tail=eb);null===eb.prev&&(this.head=eb);this.length++}return Cb};ec.prototype.reverse=function(){for(var E=this.head,ca=this.tail,Ga=E;null!==Ga;Ga=Ga.prev){var eb=Ga.prev;Ga.prev=Ga.next;Ga.next=eb}this.head=ca;this.tail=E;return this};try{ec.prototype[Symbol.iterator]=function*(){for(let E=this.head;E;E=E.next)yield E.value}}catch(E){}const Pa=
Symbol("max"),Xa=Symbol("length"),sb=Symbol("lengthCalculator"),ib=Symbol("allowStale"),Tb=Symbol("maxAge"),X=Symbol("dispose"),Fa=Symbol("noDisposeOnSet"),Kb=Symbol("lruList"),qc=Symbol("cache"),$b=Symbol("updateAgeOnGet"),Mb=()=>1;class Qb{constructor(E){"number"===typeof E&&(E={max:E});E||(E={});if(E.max&&("number"!==typeof E.max||0>E.max))throw new TypeError("max must be a non-negative number");this[Pa]=E.max||Infinity;const ca=E.length||Mb;this[sb]="function"!==typeof ca?Mb:ca;this[ib]=E.stale||
!1;if(E.maxAge&&"number"!==typeof E.maxAge)throw new TypeError("maxAge must be a number");this[Tb]=E.maxAge||0;this[X]=E.dispose;this[Fa]=E.noDisposeOnSet||!1;this[$b]=E.updateAgeOnGet||!1;this.reset()}set max(E){if("number"!==typeof E||0>E)throw new TypeError("max must be a non-negative number");this[Pa]=E||Infinity;ra(this)}get max(){return this[Pa]}set allowStale(E){this[ib]=!!E}get allowStale(){return this[ib]}set maxAge(E){if("number"!==typeof E)throw new TypeError("maxAge must be a non-negative number");
this[Tb]=E;ra(this)}get maxAge(){return this[Tb]}set lengthCalculator(E){"function"!==typeof E&&(E=Mb);E!==this[sb]&&(this[sb]=E,this[Xa]=0,this[Kb].forEach(ca=>{ca.length=this[sb](ca.value,ca.key);this[Xa]+=ca.length}));ra(this)}get lengthCalculator(){return this[sb]}get length(){return this[Xa]}get itemCount(){return this[Kb].length}rforEach(E,ca){ca=ca||this;for(let Ga=this[Kb].tail;null!==Ga;){const eb=Ga.prev;wb(this,E,Ga,ca);Ga=eb}}forEach(E,ca){ca=ca||this;for(let Ga=this[Kb].head;null!==Ga;){const eb=
Ga.next;wb(this,E,Ga,ca);Ga=eb}}keys(){return this[Kb].toArray().map(E=>E.key)}values(){return this[Kb].toArray().map(E=>E.value)}reset(){this[X]&&this[Kb]&&this[Kb].length&&this[Kb].forEach(E=>this[X](E.key,E.value));this[qc]=new Map;this[Kb]=new ec;this[Xa]=0}dump(){return this[Kb].map(E=>fd(this,E)?!1:{k:E.key,v:E.value,e:E.now+(E.maxAge||0)}).toArray().filter(E=>E)}dumpLru(){return this[Kb]}set(E,ca,Ga){if((Ga=Ga||this[Tb])&&"number"!==typeof Ga)throw new TypeError("maxAge must be a number");
const eb=Ga?Date.now():0,Cb=this[sb](ca,E);if(this[qc].has(E)){if(Cb>this[Pa])return Ab(this,this[qc].get(E)),!1;const rc=this[qc].get(E).value;if(this[X]&&!this[Fa])this[X](E,rc.value);rc.now=eb;rc.maxAge=Ga;rc.value=ca;this[Xa]+=Cb-rc.length;rc.length=Cb;this.get(E);ra(this);return!0}Ga=new Ta(E,ca,Cb,eb,Ga);if(Ga.length>this[Pa]){if(this[X])this[X](E,ca);return!1}this[Xa]+=Ga.length;this[Kb].unshift(Ga);this[qc].set(E,this[Kb].head);ra(this);return!0}has(E){if(!this[qc].has(E))return!1;E=this[qc].get(E).value;
return!fd(this,E)}get(E){return wc(this,E,!0)}peek(E){return wc(this,E,!1)}pop(){const E=this[Kb].tail;if(!E)return null;Ab(this,E);return E.value}del(E){Ab(this,this[qc].get(E))}load(E){this.reset();const ca=Date.now();for(let eb=E.length-1;0<=eb;eb--){const Cb=E[eb];var Ga=Cb.e||0;0===Ga?this.set(Cb.k,Cb.v):(Ga-=ca,0<Ga&&this.set(Cb.k,Cb.v,Ga))}}prune(){this[qc].forEach((E,ca)=>wc(this,ca,!1))}}const wc=(E,ca,Ga)=>{if(ca=E[qc].get(ca)){const eb=ca.value;if(fd(E,eb)){if(Ab(E,ca),!E[ib])return}else Ga&&
(E[$b]&&(ca.value.now=Date.now()),E[Kb].unshiftNode(ca));return eb.value}},fd=(E,ca)=>{if(!ca||!ca.maxAge&&!E[Tb])return!1;const Ga=Date.now()-ca.now;return ca.maxAge?Ga>ca.maxAge:E[Tb]&&Ga>E[Tb]},ra=E=>{if(E[Xa]>E[Pa])for(let ca=E[Kb].tail;E[Xa]>E[Pa]&&null!==ca;){const Ga=ca.prev;Ab(E,ca);ca=Ga}},Ab=(E,ca)=>{if(ca){const Ga=ca.value;if(E[X])E[X](Ga.key,Ga.value);E[Xa]-=Ga.length;E[qc].delete(Ga.key);E[Kb].removeNode(ca)}};class Ta{constructor(E,ca,Ga,eb,Cb){this.key=E;this.value=ca;this.length=
Ga;this.now=eb;this.maxAge=Cb||0}}const wb=(E,ca,Ga,eb)=>{let Cb=Ga.value;fd(E,Cb)&&(Ab(E,Ga),E[ib]||(Cb=void 0));Cb&&ca.call(eb,Cb.value,Cb.key,E)};var Gb=Qb;const Nb=["includePrerelease","loose","rtl"];var Zb=E=>E?"object"!==typeof E?{loose:!0}:Nb.filter(ca=>E[ca]).reduce((ca,Ga)=>{ca[Ga]=!0;return ca},{}):{},jc={exports:{}},Ac={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},ld="object"===typeof r&&r.env&&r.env.NODE_DEBUG&&
/\bsemver\b/i.test(r.env.NODE_DEBUG)?function(){for(var E=arguments.length,ca=Array(E),Ga=0;Ga<E;Ga++)ca[Ga]=arguments[Ga];return console.error("SEMVER",...ca)}:()=>{};(function(E,ca){const {MAX_SAFE_COMPONENT_LENGTH:Ga}=Ac,eb=ld;ca=E.exports={};const Cb=ca.re=[],rc=ca.src=[],Lb=ca.t={};let Mc=0;E=(qd,id,Oc)=>{const Pd=Mc++;eb(qd,Pd,id);Lb[qd]=Pd;rc[Pd]=id;Cb[Pd]=new RegExp(id,Oc?"g":void 0)};E("NUMERICIDENTIFIER","0|[1-9]\\d*");E("NUMERICIDENTIFIERLOOSE","[0-9]+");E("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");
E("MAINVERSION","(".concat(rc[Lb.NUMERICIDENTIFIER],")\\.")+"(".concat(rc[Lb.NUMERICIDENTIFIER],")\\.")+"(".concat(rc[Lb.NUMERICIDENTIFIER],")"));E("MAINVERSIONLOOSE","(".concat(rc[Lb.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(rc[Lb.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(rc[Lb.NUMERICIDENTIFIERLOOSE],")"));E("PRERELEASEIDENTIFIER","(?:".concat(rc[Lb.NUMERICIDENTIFIER],"|").concat(rc[Lb.NONNUMERICIDENTIFIER],")"));E("PRERELEASEIDENTIFIERLOOSE","(?:".concat(rc[Lb.NUMERICIDENTIFIERLOOSE],"|").concat(rc[Lb.NONNUMERICIDENTIFIER],
")"));E("PRERELEASE","(?:-(".concat(rc[Lb.PRERELEASEIDENTIFIER],"(?:\\.").concat(rc[Lb.PRERELEASEIDENTIFIER],")*))"));E("PRERELEASELOOSE","(?:-?(".concat(rc[Lb.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(rc[Lb.PRERELEASEIDENTIFIERLOOSE],")*))"));E("BUILDIDENTIFIER","[0-9A-Za-z-]+");E("BUILD","(?:\\+(".concat(rc[Lb.BUILDIDENTIFIER],"(?:\\.").concat(rc[Lb.BUILDIDENTIFIER],")*))"));E("FULLPLAIN","v?".concat(rc[Lb.MAINVERSION]).concat(rc[Lb.PRERELEASE],"?").concat(rc[Lb.BUILD],"?"));E("FULL","^".concat(rc[Lb.FULLPLAIN],
"$"));E("LOOSEPLAIN","[v\x3d\\s]*".concat(rc[Lb.MAINVERSIONLOOSE]).concat(rc[Lb.PRERELEASELOOSE],"?").concat(rc[Lb.BUILD],"?"));E("LOOSE","^".concat(rc[Lb.LOOSEPLAIN],"$"));E("GTLT","((?:\x3c|\x3e)?\x3d?)");E("XRANGEIDENTIFIERLOOSE","".concat(rc[Lb.NUMERICIDENTIFIERLOOSE],"|x|X|\\*"));E("XRANGEIDENTIFIER","".concat(rc[Lb.NUMERICIDENTIFIER],"|x|X|\\*"));E("XRANGEPLAIN","[v\x3d\\s]*(".concat(rc[Lb.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(rc[Lb.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(rc[Lb.XRANGEIDENTIFIER],
")")+"(?:".concat(rc[Lb.PRERELEASE],")?").concat(rc[Lb.BUILD],"?")+")?)?");E("XRANGEPLAINLOOSE","[v\x3d\\s]*(".concat(rc[Lb.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(rc[Lb.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(rc[Lb.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(rc[Lb.PRERELEASELOOSE],")?").concat(rc[Lb.BUILD],"?")+")?)?");E("XRANGE","^".concat(rc[Lb.GTLT],"\\s*").concat(rc[Lb.XRANGEPLAIN],"$"));E("XRANGELOOSE","^".concat(rc[Lb.GTLT],"\\s*").concat(rc[Lb.XRANGEPLAINLOOSE],"$"));E("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(Ga,
"})")+"(?:\\.(\\d{1,".concat(Ga,"}))?")+"(?:\\.(\\d{1,".concat(Ga,"}))?")+"(?:$|[^\\d])");E("COERCERTL",rc[Lb.COERCE],!0);E("LONETILDE","(?:~\x3e?)");E("TILDETRIM","(\\s*)".concat(rc[Lb.LONETILDE],"\\s+"),!0);ca.tildeTrimReplace="$1~";E("TILDE","^".concat(rc[Lb.LONETILDE]).concat(rc[Lb.XRANGEPLAIN],"$"));E("TILDELOOSE","^".concat(rc[Lb.LONETILDE]).concat(rc[Lb.XRANGEPLAINLOOSE],"$"));E("LONECARET","(?:\\^)");E("CARETTRIM","(\\s*)".concat(rc[Lb.LONECARET],"\\s+"),!0);ca.caretTrimReplace="$1^";E("CARET",
"^".concat(rc[Lb.LONECARET]).concat(rc[Lb.XRANGEPLAIN],"$"));E("CARETLOOSE","^".concat(rc[Lb.LONECARET]).concat(rc[Lb.XRANGEPLAINLOOSE],"$"));E("COMPARATORLOOSE","^".concat(rc[Lb.GTLT],"\\s*(").concat(rc[Lb.LOOSEPLAIN],")$|^$"));E("COMPARATOR","^".concat(rc[Lb.GTLT],"\\s*(").concat(rc[Lb.FULLPLAIN],")$|^$"));E("COMPARATORTRIM","(\\s*)".concat(rc[Lb.GTLT],"\\s*(").concat(rc[Lb.LOOSEPLAIN],"|").concat(rc[Lb.XRANGEPLAIN],")"),!0);ca.comparatorTrimReplace="$1$2$3";E("HYPHENRANGE","^\\s*(".concat(rc[Lb.XRANGEPLAIN],
")")+"\\s+-\\s+"+"(".concat(rc[Lb.XRANGEPLAIN],")")+"\\s*$");E("HYPHENRANGELOOSE","^\\s*(".concat(rc[Lb.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(rc[Lb.XRANGEPLAINLOOSE],")")+"\\s*$");E("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");E("GTE0","^\\s*\x3e\x3d\\s*0\\.0\\.0\\s*$");E("GTE0PRE","^\\s*\x3e\x3d\\s*0\\.0\\.0-0\\s*$")})(jc,jc.exports);const Vc=/^[0-9]+$/,na=(E,ca)=>{const Ga=Vc.test(E),eb=Vc.test(ca);Ga&&eb&&(E=+E,ca=+ca);return E===ca?0:Ga&&!eb?-1:eb&&!Ga?1:E<ca?-1:1};var Ha={compareIdentifiers:na,
rcompareIdentifiers:(E,ca)=>na(ca,E)};const fb=ld,{MAX_LENGTH:Q,MAX_SAFE_INTEGER:t}=Ac,{re:da,t:za}=jc.exports,Da=Zb,{compareIdentifiers:Oa}=Ha;class jb{constructor(E,ca){ca=Da(ca);if(E instanceof jb){if(E.loose===!!ca.loose&&E.includePrerelease===!!ca.includePrerelease)return E;E=E.version}else if("string"!==typeof E)throw new TypeError("Invalid Version: ".concat(E));if(E.length>Q)throw new TypeError("version is longer than ".concat(Q," characters"));fb("SemVer",E,ca);this.options=ca;this.loose=
!!ca.loose;this.includePrerelease=!!ca.includePrerelease;ca=E.trim().match(ca.loose?da[za.LOOSE]:da[za.FULL]);if(!ca)throw new TypeError("Invalid Version: ".concat(E));this.raw=E;this.major=+ca[1];this.minor=+ca[2];this.patch=+ca[3];if(this.major>t||0>this.major)throw new TypeError("Invalid major version");if(this.minor>t||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>t||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=ca[4]?ca[4].split(".").map(Ga=>
{if(/^[0-9]+$/.test(Ga)){const eb=+Ga;if(0<=eb&&eb<t)return eb}return Ga}):[];this.build=ca[5]?ca[5].split("."):[];this.format()}format(){this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch);this.prerelease.length&&(this.version+="-".concat(this.prerelease.join(".")));return this.version}toString(){return this.version}compare(E){fb("SemVer.compare",this.version,this.options,E);if(!(E instanceof jb)){if("string"===typeof E&&E===this.version)return 0;E=new jb(E,this.options)}return E.version===
this.version?0:this.compareMain(E)||this.comparePre(E)}compareMain(E){E instanceof jb||(E=new jb(E,this.options));return Oa(this.major,E.major)||Oa(this.minor,E.minor)||Oa(this.patch,E.patch)}comparePre(E){E instanceof jb||(E=new jb(E,this.options));if(this.prerelease.length&&!E.prerelease.length)return-1;if(!this.prerelease.length&&E.prerelease.length)return 1;if(!this.prerelease.length&&!E.prerelease.length)return 0;let ca=0;do{const Ga=this.prerelease[ca],eb=E.prerelease[ca];fb("prerelease compare",
ca,Ga,eb);if(void 0===Ga&&void 0===eb)return 0;if(void 0===eb)return 1;if(void 0===Ga)return-1;if(Ga!==eb)return Oa(Ga,eb)}while(++ca)}compareBuild(E){E instanceof jb||(E=new jb(E,this.options));let ca=0;do{const Ga=this.build[ca],eb=E.build[ca];fb("prerelease compare",ca,Ga,eb);if(void 0===Ga&&void 0===eb)return 0;if(void 0===eb)return 1;if(void 0===Ga)return-1;if(Ga!==eb)return Oa(Ga,eb)}while(++ca)}inc(E,ca){switch(E){case "premajor":this.minor=this.patch=this.prerelease.length=0;this.major++;
this.inc("pre",ca);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",ca);break;case "prepatch":this.prerelease.length=0;this.inc("patch",ca);this.inc("pre",ca);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",ca);this.inc("pre",ca);break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&0!==this.prerelease.length||this.minor++;this.patch=
0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(E=this.prerelease.length;0<=--E;)"number"===typeof this.prerelease[E]&&(this.prerelease[E]++,E=-2);-1===E&&this.prerelease.push(0)}ca&&(0===Oa(this.prerelease[0],ca)?isNaN(this.prerelease[1])&&(this.prerelease=[ca,0]):this.prerelease=[ca,0]);break;default:throw Error("invalid increment argument: ".concat(E));}this.format();
this.raw=this.version;return this}}var Rb=jb;const Eb=Rb;var Ib=(E,ca,Ga)=>(new Eb(E,Ga)).compare(new Eb(ca,Ga)),Bc=(E,ca,Ga,eb)=>{switch(ca){case "\x3d\x3d\x3d":return"object"===typeof E&&(E=E.version),"object"===typeof Ga&&(Ga=Ga.version),E===Ga;case "!\x3d\x3d":return"object"===typeof E&&(E=E.version),"object"===typeof Ga&&(Ga=Ga.version),E!==Ga;case "":case "\x3d":case "\x3d\x3d":return 0===Ib(E,Ga,eb);case "!\x3d":return 0!==Ib(E,Ga,eb);case "\x3e":return 0<Ib(E,Ga,eb);case "\x3e\x3d":return 0<=
Ib(E,Ga,eb);case "\x3c":return 0>Ib(E,Ga,eb);case "\x3c\x3d":return 0>=Ib(E,Ga,eb);default:throw new TypeError("Invalid operator: ".concat(ca));}},Dc,Rc,yd,rd;const gd=Ba();var Fd=(E,ca,Ga)=>{try{ca=new gd(ca,Ga)}catch(eb){return!1}return ca.test(E)},Gd={NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},ud={"*":(E,ca)=>E*ca,"+":(E,ca)=>E+ca,"-":(E,ca)=>E-ca,"/":(E,ca)=>
E/ca,"%":(E,ca)=>E%ca,"\x3e":(E,ca)=>E>ca,"\x3c":(E,ca)=>E<ca,"\x3c\x3d":(E,ca)=>E<=ca,"\x3e\x3d":(E,ca)=>E>=ca,"\x3d\x3d":(E,ca)=>E==ca,"!\x3d":(E,ca)=>E!=ca,"\x3d\x3d\x3d":(E,ca)=>E===ca,"!\x3d\x3d":(E,ca)=>E!==ca,"\x26":(E,ca)=>E&ca,"|":(E,ca)=>E|ca,"^":(E,ca)=>E^ca,"\x3c\x3c":(E,ca)=>E<<ca,"\x3e\x3e":(E,ca)=>E>>ca,"\x3e\x3e\x3e":(E,ca)=>E>>>ca},we={"+":E=>+E,"-":E=>-E,"~":E=>~E,"!":E=>!E};const Ed=Array.prototype.slice,x=(E,ca,Ga)=>{Ga=Ga?Ga(ca[0]):ca[0];return Ga[E].apply(Ga,Ed.call(ca,1))};
var J={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(E,ca,Ga)=>Math.max(ca,Math.min(Ga,E)),now:Date.now,utc:Date.UTC,datetime:(E,ca,Ga,eb,Cb,rc,Lb)=>new Date(E,ca||0,null!=Ga?Ga:1,eb||0,Cb||0,rc||0,Lb||0),date:E=>(new Date(E)).getDate(),
day:E=>(new Date(E)).getDay(),year:E=>(new Date(E)).getFullYear(),month:E=>(new Date(E)).getMonth(),hours:E=>(new Date(E)).getHours(),minutes:E=>(new Date(E)).getMinutes(),seconds:E=>(new Date(E)).getSeconds(),milliseconds:E=>(new Date(E)).getMilliseconds(),time:E=>(new Date(E)).getTime(),timezoneoffset:E=>(new Date(E)).getTimezoneOffset(),utcdate:E=>(new Date(E)).getUTCDate(),utcday:E=>(new Date(E)).getUTCDay(),utcyear:E=>(new Date(E)).getUTCFullYear(),utcmonth:E=>(new Date(E)).getUTCMonth(),utchours:E=>
(new Date(E)).getUTCHours(),utcminutes:E=>(new Date(E)).getUTCMinutes(),utcseconds:E=>(new Date(E)).getUTCSeconds(),utcmilliseconds:E=>(new Date(E)).getUTCMilliseconds(),length:E=>E.length,join:function(){return x("join",arguments)},indexof:function(){return x("indexOf",arguments)},lastindexof:function(){return x("lastIndexOf",arguments)},slice:function(){return x("slice",arguments)},reverse:E=>E.slice().reverse(),parseFloat,parseInt,upper:E=>String(E).toUpperCase(),lower:E=>String(E).toLowerCase(),
substring:function(){return x("substring",arguments,String)},split:function(){return x("split",arguments,String)},replace:function(){return x("replace",arguments,String)},trim:E=>String(E).trim(),regexp:RegExp,test:(E,ca)=>RegExp(E).test(ca)};const xa="view item group xy x y".split(" "),Ka={Literal:(E,ca)=>ca.value,Identifier:(E,ca)=>{ca=ca.name;return 0<E.memberDepth?ca:"datum"===ca?E.datum:"event"===ca?E.event:"item"===ca?E.item:Gd[ca]||E.params["$"+ca]},MemberExpression:(E,ca)=>{const Ga=!ca.computed,
eb=E(ca.object);Ga&&(E.memberDepth+=1);ca=E(ca.property);Ga&&--E.memberDepth;return eb[ca]},CallExpression:(E,ca)=>{const Ga=ca.arguments;ca=ca.callee.name;ca.startsWith("_")&&(ca=ca.slice(1));return"if"===ca?E(Ga[0])?E(Ga[1]):E(Ga[2]):(E.fn[ca]||J[ca]).apply(E.fn,Ga.map(E))},ArrayExpression:(E,ca)=>ca.elements.map(E),BinaryExpression:(E,ca)=>ud[ca.operator](E(ca.left),E(ca.right)),UnaryExpression:(E,ca)=>we[ca.operator](E(ca.argument)),ConditionalExpression:(E,ca)=>E(ca.test)?E(ca.consequent):E(ca.alternate),
LogicalExpression:(E,ca)=>"\x26\x26"===ca.operator?E(ca.left)&&E(ca.right):E(ca.left)||E(ca.right),ObjectExpression:(E,ca)=>ca.properties.reduce((Ga,eb)=>{E.memberDepth+=1;const Cb=E(eb.key);--E.memberDepth;Ga[Cb]=E(eb.value);return Ga},{})};var kb={operator(E,ca){const Ga=ca.ast,eb=E.functions;return Cb=>Ra(Ga,eb,Cb)},parameter(E,ca){const Ga=ca.ast,eb=E.functions;return(Cb,rc)=>Ra(Ga,eb,rc,Cb)},event(E,ca){const Ga=ca.ast,eb=E.functions;return Cb=>Ra(Ga,eb,void 0,void 0,Cb)},handler(E,ca){const Ga=
ca.ast,eb=E.functions;return(Cb,rc)=>Ra(Ga,eb,Cb,rc.item&&rc.item.datum,rc)},encode(E,ca){const {marktype:Ga,channels:eb}=ca,Cb=E.functions,rc="group"===Ga||"image"===Ga||"rect"===Ga;return(Lb,Mc)=>{const qd=Lb.datum;let id=0,Oc;for(const Pd in eb)Oc=Ra(eb[Pd].ast,Cb,Mc,qd,void 0,Lb),Lb[Pd]!==Oc&&(Lb[Pd]=Oc,id=1);"rule"!==Ga&&(eb.x2&&(eb.x?(rc&&Lb.x>Lb.x2&&(Mc=Lb.x,Lb.x=Lb.x2,Lb.x2=Mc),Lb.width=Lb.x2-Lb.x):Lb.x=Lb.x2-(Lb.width||0)),eb.xc&&(Lb.x=Lb.xc-(Lb.width||0)/2),eb.y2&&(eb.y?(rc&&Lb.y>Lb.y2&&
(Mc=Lb.y,Lb.y=Lb.y2,Lb.y2=Mc),Lb.height=Lb.y2-Lb.y):Lb.y=Lb.y2-(Lb.height||0)),eb.yc&&(Lb.y=Lb.yc-(Lb.height||0)/2));return id}}};const yb={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},cc={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),
"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),
"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11",
"#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),
"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};var Sb=Object.freeze({__proto__:null,dark:{background:"#333",title:{color:"#fff",subtitleColor:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},
symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",
gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),
diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,
gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",
padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6",
"#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},
axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:yb["category-6"],diverging:yb["fireandice-6"],heatmap:yb["fire-7"],ordinal:yb["fire-7"],ramp:yb["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},
area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},
urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,
labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:cc["six-groups-cat-1"],diverging:cc["diverging-colors"],heatmap:cc["diverging-colors"],ordinal:cc["six-groups-seq"],ramp:cc["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},
text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},version:"2.10.0",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},
axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}});const pc=E=>function(ca){return ca[E]},Ic=E=>{const ca=E.length;return function(Ga){for(let eb=0;eb<ca;++eb)Ga=Ga[E[eb]];return Ga}};(function(E,ca,Ga){const eb=ab(E);E=1===eb.length?eb[0]:E;return Ia((Ga&&Ga.get||hb)(eb),[E],ca||E)})("id");Ia(E=>E,[],"identity");Ia(()=>0,[],
"zero");Ia(()=>1,[],"one");Ia(()=>!0,[],"true");Ia(()=>!1,[],"false");var yc=Array.isArray;const Xc={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(E){return String(E).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2,formatTooltip:function(E,ca,Ga){if(yc(E))return"[".concat(E.map(Cb=>ca("string"===typeof Cb?Cb:JSON.stringify(Cb,Pb(Ga)))).join(", "),"]");if(E===Object(E)){let Cb="";const {title:rc,image:Lb}=
E;E=qb(E,["title","image"]);rc&&(Cb+="\x3ch2\x3e".concat(ca(rc),"\x3c/h2\x3e"));Lb&&(Cb+='\x3cimg src\x3d"'.concat(ca(Lb),'"\x3e'));var eb=Object.keys(E);if(0<eb.length){Cb+="\x3ctable\x3e";for(const Mc of eb)eb=E[Mc],void 0!==eb&&(eb===Object(eb)&&(eb=JSON.stringify(eb,Pb(Ga))),Cb+='\x3ctr\x3e\x3ctd class\x3d"key"\x3e'.concat(ca(Mc),':\x3c/td\x3e\x3ctd class\x3d"value"\x3e').concat(ca(eb),"\x3c/td\x3e\x3c/tr\x3e"));Cb+="\x3c/table\x3e"}return Cb||"{}"}return ca(E)}};class md{constructor(E){this.options=
Object.assign(Object.assign({},Xc),E);var ca=this.options.id;this.el=null;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){E=document.createElement("style");E.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(ca))throw Error("Invalid HTML ID");ca="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black;\n}\n#vg-tooltip-element.visible {\n  visibility: visible;\n}\n#vg-tooltip-element h2 {\n  margin-top: 0;\n  margin-bottom: 10px;\n  font-size: 13px;\n}\n#vg-tooltip-element img {\n  max-width: 200px;\n  max-height: 200px;\n}\n#vg-tooltip-element table {\n  border-spacing: 0;\n}\n#vg-tooltip-element table tr {\n  border: none;\n}\n#vg-tooltip-element table tr td {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n#vg-tooltip-element table tr td.key {\n  color: #808080;\n  max-width: 150px;\n  text-align: right;\n  padding-right: 4px;\n}\n#vg-tooltip-element table tr td.value {\n  display: block;\n  max-width: 300px;\n  max-height: 7em;\n  text-align: left;\n}\n#vg-tooltip-element.dark-theme {\n  background-color: rgba(32, 32, 32, 0.9);\n  border: 1px solid #f5f5f5;\n  color: white;\n}\n#vg-tooltip-element.dark-theme td.key {\n  color: #bfbfbf;\n}\n".toString().replace("vg-tooltip-element",
ca);E.innerHTML=ca;ca=document.head;0<ca.childNodes.length?ca.insertBefore(E,ca.childNodes[0]):ca.appendChild(E)}}tooltipHandler(E,ca,Ga,eb){var Cb;this.el=document.getElementById(this.options.id);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(null!==(Cb=document.fullscreenElement)&&void 0!==Cb?Cb:document.body).appendChild(this.el));if(null==eb||""===eb)this.el.classList.remove("visible","".concat(this.options.theme,
"-theme"));else{this.el.innerHTML=this.options.formatTooltip(eb,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible","".concat(this.options.theme,"-theme"));E=this.el.getBoundingClientRect();Cb=this.options.offsetX;Ga=this.options.offsetY;eb=ca.clientX+Cb;eb+E.width>window.innerWidth&&(eb=+ca.clientX-Cb-E.width);Cb=ca.clientY+Ga;Cb+E.height>window.innerHeight&&(Cb=+ca.clientY-Ga-E.height);var {x:rc,y:Lb}={x:eb,y:Cb};this.el.setAttribute("style","top: ".concat(Lb,"px; left: ").concat(rc,
"px"))}}}String.prototype.startsWith||(String.prototype.startsWith=function(E,ca){return this.substr(!ca||0>ca?0:+ca,E.length)===E});var sd;const Bd=K;let pd=v;const Nd="undefined"!==typeof window?window:void 0;void 0===pd&&null!==Nd&&void 0!==Nd&&null!==(sd=Nd.vl)&&void 0!==sd&&sd.compile&&(pd=Nd.vl);const le={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},Re={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",
SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},Ge={vega:"Vega","vega-lite":"Vega-Lite"},Ke={vega:Bd.version,"vega-lite":pd?pd.version:"not available"},of={vega:E=>E,"vega-lite":(E,ca)=>pd.compile(E,{config:ca}).spec},ef=function(){var E;if(E=1<arguments.length){if(E=h.isString(0>=arguments.length?void 0:arguments[0]))E=0>=arguments.length?void 0:arguments[0],E=!(E.startsWith("http://")||E.startsWith("https://")||E.startsWith("//"));E=E||(0>=arguments.length?void 0:arguments[0])instanceof HTMLElement||
3===arguments.length}return E?La(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1],2>=arguments.length?void 0:arguments[2]):D(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1])};ef.vegaLite=pd;ef.vl=pd;ef.container=D;ef.embed=La;ef.vega=Bd;ef.default=La;ef.version="6.21.0";return ef})};
shadow$provide[58]=function(Db,mb,Cc,Va){Va.__esModule=!0;Va.default=function(r){const h={};return!!r&&"[object Function]"===h.toString.call(r)}};
shadow$provide[59]=function(Db,mb,Cc,Va){Va.__esModule=!0;Va.default=function(ka,Ya,ub){ub&&((0,h.default)(ub)?ub(ka.data(Ya)):ka.change(Ya,r.vega.changeset().remove(()=>!0).insert(ub)))};var r=mb(57),h=function(ka){return ka&&ka.__esModule?ka:{default:ka}}(mb(58))};
shadow$provide[60]=function(Db,mb,Cc,Va){Va.__esModule=!0;Va.default=function(h,ka){Object.keys(ka).forEach(Ya=>{(0,r.default)(h,Ya,ka[Ya])})};var r=function(h){return h&&h.__esModule?h:{default:h}}(mb(59))};
shadow$provide[61]=function(Db,mb,Cc,Va){Va.__esModule=!0;Va.default=function(r){const h=new Set;r.forEach(ka=>{Object.keys(ka).forEach(Ya=>{h.add(Ya)})});return h}};
shadow$provide[62]=function(Db,mb,Cc,Va){Va.__esModule=!0;Va.NOOP=void 0;Va.NOOP=()=>{}};
shadow$provide[63]=function(Db,mb,Cc,Va){Va.__esModule=!0;Va.default=function(r,h){const ka=Object.keys(h);ka.forEach(Ya=>{try{r.addSignalListener(Ya,h[Ya])}catch(ub){console.warn("Cannot add invalid signal listener.",ub)}});return 0<ka.length}};
shadow$provide[64]=function(Db,mb,Cc,Va){Cc.exports=function Ya(h,ka){if(h===ka)return!0;if(h&&ka&&"object"==typeof h&&"object"==typeof ka){if(h.constructor!==ka.constructor)return!1;var ub;if(Array.isArray(h)){var Yb=h.length;if(Yb!=ka.length)return!1;for(ub=Yb;0!==ub--;)if(!Ya(h[ub],ka[ub]))return!1;return!0}if(h.constructor===RegExp)return h.source===ka.source&&h.flags===ka.flags;if(h.valueOf!==Object.prototype.valueOf)return h.valueOf()===ka.valueOf();if(h.toString!==Object.prototype.toString)return h.toString()===
ka.toString();var bc=Object.keys(h);Yb=bc.length;if(Yb!==Object.keys(ka).length)return!1;for(ub=Yb;0!==ub--;)if(!Object.prototype.hasOwnProperty.call(ka,bc[ub]))return!1;for(ub=Yb;0!==ub--;)if(Yb=bc[ub],!Ya(h[Yb],ka[Yb]))return!1;return!0}return h!==h&&ka!==ka}};
shadow$provide[65]=function(Db,mb,Cc,Va){function r(Ya){return Ya&&Ya.__esModule?Ya:{default:Ya}}Va.__esModule=!0;Va.default=function(Ya,ub){if(Ya===ub)return!1;const Yb={width:!1,height:!1,isExpensive:!1},bc=(0,ka.default)([Ya,ub]);!bc.has("width")||"width"in Ya&&"width"in ub&&Ya.width===ub.width||("width"in Ya&&"number"===typeof Ya.width?Yb.width=Ya.width:Yb.isExpensive=!0);!bc.has("height")||"height"in Ya&&"height"in ub&&Ya.height===ub.height||("height"in Ya&&"number"===typeof Ya.height?Yb.height=
Ya.height:Yb.isExpensive=!0);bc.delete("width");bc.delete("height");[...bc].some(Xb=>!(Xb in Ya)||!(Xb in ub)||!(0,h.default)(Ya[Xb],ub[Xb]))&&(Yb.isExpensive=!0);return!1!==Yb.width||!1!==Yb.height||Yb.isExpensive?Yb:!1};var h=r(mb(64)),ka=r(mb(61))};
shadow$provide[66]=function(Db,mb,Cc,Va){Va.__esModule=!0;Va.default=function(r,h){const ka=Object.keys(h);ka.forEach(Ya=>{try{r.removeSignalListener(Ya,h[Ya])}catch(ub){console.warn("Cannot remove invalid signal listener.",ub)}});return 0<ka.length}};
shadow$provide[67]=function(Db,mb,Cc,Va){Va.__esModule=!0;Va.default=function(r){const {spec:h,width:ka,height:Ya}=r;return"undefined"!==typeof ka&&"undefined"!==typeof Ya?Object.assign({},h,{width:ka,height:Ya}):"undefined"!==typeof ka?Object.assign({},h,{width:ka}):"undefined"!==typeof Ya?Object.assign({},h,{height:Ya}):h}};
shadow$provide[68]=function(Db,mb,Cc,Va){function r(Ea){return Ea&&Ea.__esModule?Ea:{default:Ea}}function h(Ea,Za,tb){Za in Ea?Object.defineProperty(Ea,Za,{value:tb,enumerable:!0,configurable:!0,writable:!0}):Ea[Za]=tb;return Ea}Va.__esModule=!0;Va.default=void 0;Db=r(mb(19));var ka=r(mb(2)),Ya=r(mb(57)),ub=r(mb(20)),Yb=r(mb(61)),bc=mb(62),Xb=r(mb(63)),oc=r(mb(65)),zb=r(mb(66)),Ub=r(mb(67));class kc extends ka.default.PureComponent{constructor(){super(...arguments);h(this,"containerRef",ka.default.createRef());
h(this,"resultPromise",void 0);h(this,"handleError",Ea=>{const {onError:Za=bc.NOOP}=this.props;Za(Ea,this.containerRef.current);console.warn(Ea)});h(this,"modifyView",Ea=>{this.resultPromise&&this.resultPromise.then(Za=>{Za&&Ea(Za.view);return!0}).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(Ea){const Za=(0,Yb.default)([this.props,Ea]);Za.delete("className");Za.delete("signalListeners");Za.delete("spec");Za.delete("style");Za.delete("width");Za.delete("height");
if(Array.from(Za).some(tb=>this.props[tb]!==Ea[tb]))this.clearView(),this.createView();else{const tb=(0,oc.default)((0,Ub.default)(this.props),(0,Ub.default)(Ea)),{signalListeners:rb}=this.props,{signalListeners:pb}=Ea;if(tb)if(tb.isExpensive)this.clearView(),this.createView();else{const vb=!(0,ub.default)(rb,pb);this.modifyView(gb=>{!1!==tb.width&&gb.width(tb.width);!1!==tb.height&&gb.height(tb.height);vb&&(pb&&(0,zb.default)(gb,pb),rb&&(0,Xb.default)(gb,rb));gb.run()})}else(0,ub.default)(rb,pb)||
this.modifyView(vb=>{pb&&(0,zb.default)(vb,pb);rb&&(0,Xb.default)(vb,rb);vb.run()})}}componentWillUnmount(){this.clearView()}createView(){var Ea=this.props,Za=Object.assign({},Ea);const tb=Ea.onNewView,rb=void 0===Ea.signalListeners?{}:Ea.signalListeners;Ea=(delete Za.spec,delete Za.onNewView,delete Za.signalListeners,delete Za.width,delete Za.height,Za);this.containerRef.current&&(Za=(0,Ub.default)(this.props),this.resultPromise=(0,Ya.default)(this.containerRef.current,Za,Ea).then(pb=>{if(pb){const {view:vb}=
pb;(0,Xb.default)(vb,rb)&&vb.run()}return pb}).catch(this.handleError),tb&&this.modifyView(tb))}clearView(){this.resultPromise&&this.resultPromise.then(Ea=>{Ea&&Ea.finalize()}).catch(this.handleError);this.resultPromise=void 0;return this}render(){const {className:Ea,style:Za}=this.props;return ka.default.createElement("div",{ref:this.containerRef,className:Ea,style:Za})}}Va.default=kc;h(kc,"propTypes",{className:Db.default.string,onError:Db.default.func})};
shadow$provide[69]=function(Db,mb,Cc,Va){function r(zb){return zb&&zb.__esModule?zb:{default:zb}}function h(){h=Object.assign||function(zb){for(var Ub=1;Ub<arguments.length;Ub++){var kc=arguments[Ub],Ea;for(Ea in kc)Object.prototype.hasOwnProperty.call(kc,Ea)&&(zb[Ea]=kc[Ea])}return zb};return h.apply(this,arguments)}function ka(zb,Ub,kc){Ub in zb?Object.defineProperty(zb,Ub,{value:kc,enumerable:!0,configurable:!0,writable:!0}):zb[Ub]=kc;return zb}Va.__esModule=!0;Va.default=void 0;r(mb(19));var Ya=
r(mb(2)),ub=r(mb(20)),Yb=r(mb(60)),bc=r(mb(68)),Xb=mb(62);class oc extends Ya.default.PureComponent{constructor(){super(...arguments);ka(this,"vegaEmbed",Ya.default.createRef());ka(this,"handleNewView",zb=>{this.update();const {onNewView:Ub=Xb.NOOP}=this.props;Ub(zb)})}componentDidMount(){this.update()}componentDidUpdate(zb){(0,ub.default)(this.props.data,zb.data)||this.update()}update(){const {data:zb}=this.props;this.vegaEmbed.current&&zb&&0<Object.keys(zb).length&&this.vegaEmbed.current.modifyView(Ub=>
{(0,Yb.default)(Ub,zb);Ub.resize().run()})}render(){var zb=Object.assign({},this.props);zb=(delete zb.data,zb);return Ya.default.createElement(bc.default,h({ref:this.vegaEmbed},zb,{onNewView:this.handleNewView}))}}Va.default=oc;ka(oc,"defaultProps",{data:{}})};
shadow$provide[70]=function(Db,mb,Cc,Va){function r(ub){return ub&&ub.__esModule?ub:{default:ub}}function h(){h=Object.assign||function(ub){for(var Yb=1;Yb<arguments.length;Yb++){var bc=arguments[Yb],Xb;for(Xb in bc)Object.prototype.hasOwnProperty.call(bc,Xb)&&(ub[Xb]=bc[Xb])}return ub};return h.apply(this,arguments)}Va.__esModule=!0;Va.default=function(ub){return ka.default.createElement(Ya.default,h({},ub,{mode:"vega-lite"}))};var ka=r(mb(2)),Ya=r(mb(69))};
shadow$provide[71]=function(Db,mb,Cc,Va){function r(Yb){return Yb&&Yb.__esModule?Yb:{default:Yb}}function h(){h=Object.assign||function(Yb){for(var bc=1;bc<arguments.length;bc++){var Xb=arguments[bc],oc;for(oc in Xb)Object.prototype.hasOwnProperty.call(Xb,oc)&&(Yb[oc]=Xb[oc])}return Yb};return h.apply(this,arguments)}function ka(Yb,bc,Xb){bc in Yb?Object.defineProperty(Yb,bc,{value:Xb,enumerable:!0,configurable:!0,writable:!0}):Yb[bc]=Xb;return Yb}Va.__esModule=!0;Va.default=function(Yb){let {mode:bc,
spec:Xb}=Yb;class oc extends Ya.default.PureComponent{render(){return Ya.default.createElement(ub.default,h({mode:bc,spec:Xb},this.props))}}ka(oc,"getSpec",function(){return Xb});return oc};var Ya=r(mb(2)),ub=r(mb(69))};
shadow$provide[72]=function(Db,mb,Cc,Va){Va.__esModule=!0};
shadow$provide[73]=function(Db,mb,Cc,Va){Va.__esModule=!0;var r=mb(72);Object.keys(r).forEach(function(h){"default"!==h&&"__esModule"!==h&&(h in Va&&Va[h]===r[h]||(Va[h]=r[h]))})};
shadow$provide[74]=function(Db,mb,Cc,Va){function r(Ya){return Ya&&Ya.__esModule?Ya:{default:Ya}}Va.__esModule=!0;var h={Vega:!0,VegaLite:!0,createClassFromSpec:!0};Va.createClassFromSpec=Va.VegaLite=Va.Vega=void 0;Db=r(mb(69));Va.Vega=Db.default;Db=r(mb(70));Va.VegaLite=Db.default;Db=r(mb(71));Va.createClassFromSpec=Db.default;var ka=mb(73);Object.keys(ka).forEach(function(Ya){"default"!==Ya&&"__esModule"!==Ya&&(Object.prototype.hasOwnProperty.call(h,Ya)||Ya in Va&&Va[Ya]===ka[Ya]||(Va[Ya]=ka[Ya]))})};
/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var g,aa=this||self;function t(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}function ba(a){return Object.prototype.hasOwnProperty.call(a,ca)&&a[ca]||(a[ca]=++ea)}var ca="closure_uid_"+(1E9*Math.random()>>>0),ea=0;
function fa(a,b){function c(){}c.prototype=b.prototype;a.Dd=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[e].apply(d,h)}};function ha(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function ia(a,b){return null!==a&&b in a?a[b]:void 0}const ja="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ka(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<ja.length;f++)c=ja[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function la(a){if(!Array.isArray(a))for(let b=a.length-1;0<=b;b--)delete a[b];a.length=0};var ma;a:{const a=aa.navigator;if(a){const b=a.userAgent;if(b){ma=b;break a}}ma=""}let na=ma;function oa(a){return-1!=na.indexOf(a)};function pa(a,b){null!=a&&this.append.apply(this,arguments)}g=pa.prototype;g.kb="";g.set=function(a){this.kb=""+a};g.append=function(a,b,c){this.kb+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.kb+=arguments[d];return this};g.clear=function(){this.kb=""};g.toString=function(){return this.kb};var ra={},sa={},ta,u={},ua=null;function va(){return new v(null,5,[wa,!0,xa,!0,ya,!1,za,!1,Aa,null],null)}function x(a){return null!=a&&!1!==a}function Ba(a){return a instanceof Array}function y(a,b){return a[t(null==b?null:b)]?!0:a._?!0:!1}function A(a,b){var c=null==b?null:b.constructor;c=x(x(c)?c.Ib:c)?c.nb:t(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Ca(a){var b=a.nb;return x(b)?b:B.j(a)}
var Da="undefined"!==typeof Symbol&&"function"===t(Symbol)?Symbol.iterator:"@@iterator";function Ea(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Fa(a){function b(d,e){d.push(e);return d}var c=[];return Ga?Ga(b,c,a):Ha.call(null,b,c,a)}function Ia(a){return"symbol"===t(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Ja(){}function Ka(){}function La(){}
function Ma(a){if(null!=a&&null!=a.la)a=a.la(a);else{var b=Ma[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ma._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ICounted.-count",a);}return a}function Na(){}function Oa(a){if(null!=a&&null!=a.ma)a=a.ma(a);else{var b=Oa[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Oa._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEmptyableCollection.-empty",a);}return a}function Pa(){}
function Qa(a,b){if(null!=a&&null!=a.oa)a=a.oa(a,b);else{var c=Qa[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qa._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ICollection.-conj",a);}return a}function Ra(){}
var Ta=function(){function a(d,e,f){var h=Sa[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=Sa._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("IIndexed.-nth",d);}function b(d,e){var f=Sa[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Sa._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),Sa=function Sa(a){switch(arguments.length){case 2:return Sa.B(arguments[0],arguments[1]);case 3:return Sa.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Sa.B=function(a,b){return null!=a&&null!=a.ea?a.ea(a,b):Ta(a,b)};Sa.D=function(a,b,c){return null!=a&&null!=a.Aa?a.Aa(a,b,c):Ta(a,b,c)};Sa.$=3;function Ua(){}
function D(a){if(null!=a&&null!=a.wa)a=a.wa(a);else{var b=D[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=D._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeq.-first",a);}return a}function Va(a){if(null!=a&&null!=a.xa)a=a.xa(a);else{var b=Va[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Va._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeq.-rest",a);}return a}function Wa(){}function Xa(){}
var Za=function(){function a(d,e,f){var h=Ya[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=Ya._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("ILookup.-lookup",d);}function b(d,e){var f=Ya[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Ya._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),Ya=function Ya(a){switch(arguments.length){case 2:return Ya.B(arguments[0],arguments[1]);case 3:return Ya.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Ya.B=function(a,b){return null!=a&&null!=a.ya?a.ya(a,b):Za(a,b)};Ya.D=function(a,b,c){return null!=a&&null!=a.ca?a.ca(a,b,c):Za(a,b,c)};Ya.$=3;function $a(){}
function ab(a,b){if(null!=a&&null!=a.lb)a=a.lb(a,b);else{var c=ab[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ab._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IAssociative.-contains-key?",a);}return a}function bb(a,b,c){if(null!=a&&null!=a.ab)a=a.ab(a,b,c);else{var d=bb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=bb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IAssociative.-assoc",a);}return a}
function cb(a,b){if(null!=a&&null!=a.tb)a=a.tb(a,b);else{var c=cb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=cb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IFind.-find",a);}return a}function db(){}function eb(a,b){if(null!=a&&null!=a.jc)a=a.jc(a,b);else{var c=eb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=eb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IMap.-dissoc",a);}return a}
function fb(a){if(null!=a&&null!=a.Xc)a=a.key;else{var b=fb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=fb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMapEntry.-key",a);}return a}function gb(a){if(null!=a&&null!=a.Yc)a=a.R;else{var b=gb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=gb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMapEntry.-val",a);}return a}function hb(){}
function ib(a,b){if(null!=a&&null!=a.zc)a=a.zc(a,b);else{var c=ib[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ib._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ISet.-disjoin",a);}return a}function jb(a){if(null!=a&&null!=a.vb)a=a.vb(a);else{var b=jb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=jb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IStack.-peek",a);}return a}
function kb(a){if(null!=a&&null!=a.wb)a=a.wb(a);else{var b=kb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=kb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IStack.-pop",a);}return a}function lb(){}function mb(a,b,c){if(null!=a&&null!=a.mb)a=a.mb(a,b,c);else{var d=mb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=mb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IVector.-assoc-n",a);}return a}
function F(a){if(null!=a&&null!=a.fb)a=a.fb(a);else{var b=F[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=F._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IDeref.-deref",a);}return a}function nb(){}function ob(a){if(null!=a&&null!=a.ha)a=a.ha(a);else{var b=ob[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=ob._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IMeta.-meta",a);}return a}
function pb(a,b){if(null!=a&&null!=a.ka)a=a.ka(a,b);else{var c=pb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=pb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IWithMeta.-with-meta",a);}return a}function qb(){}
var sb=function(){function a(d,e,f){var h=rb[t(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=rb._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw A("IReduce.-reduce",d);}function b(d,e){var f=rb[t(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=rb._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw A("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),rb=function rb(a){switch(arguments.length){case 2:return rb.B(arguments[0],arguments[1]);case 3:return rb.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};rb.B=function(a,b){return null!=a&&null!=a.qa?a.qa(a,b):sb(a,b)};rb.D=function(a,b,c){return null!=a&&null!=a.ra?a.ra(a,b,c):sb(a,b,c)};rb.$=3;function tb(){}
function ub(a,b,c){if(null!=a&&null!=a.Db)a=a.Db(a,b,c);else{var d=ub[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=ub._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IKVReduce.-kv-reduce",a);}return a}function vb(a,b){if(null!=a&&null!=a.fa)a=a.fa(a,b);else{var c=vb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=vb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IEquiv.-equiv",a);}return a}
function wb(a){if(null!=a&&null!=a.ga)a=a.ga(a);else{var b=wb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=wb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IHash.-hash",a);}return a}function xb(){}function yb(a){if(null!=a&&null!=a.ja)a=a.ja(a);else{var b=yb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=yb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ISeqable.-seq",a);}return a}function zb(){}function Ab(){}function Bb(){}
function G(a,b){if(null!=a&&null!=a.Ac)a=a.Ac(a,b);else{var c=G[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=G._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IWriter.-write",a);}return a}function Cb(){}function Db(a,b,c){if(null!=a&&null!=a.ia)a=a.ia(a,b,c);else{var d=Db[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Db._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IPrintWithWriter.-pr-writer",a);}return a}
function Eb(a,b){var c=Fb;if(null!=a&&null!=a.Sb)a.Sb(a,b,c);else{var d=Eb[t(null==a?null:a)];if(null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Eb._,null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("IWatchable.-add-watch",a);}}function Gb(a,b){if(null!=a&&null!=a.Tb)a.Tb(a,b);else{var c=Gb[t(null==a?null:a)];if(null!=c)c.B?c.B(a,b):c.call(null,a,b);else if(c=Gb._,null!=c)c.B?c.B(a,b):c.call(null,a,b);else throw A("IWatchable.-remove-watch",a);}}
function Hb(a){if(null!=a&&null!=a.sb)a=a.sb(a);else{var b=Hb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Hb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEditableCollection.-as-transient",a);}return a}function Ib(a,b){if(null!=a&&null!=a.yb)a=a.yb(a,b);else{var c=Ib[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Ib._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("ITransientCollection.-conj!",a);}return a}
function Jb(a){if(null!=a&&null!=a.Hb)a=a.Hb(a);else{var b=Jb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Jb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("ITransientCollection.-persistent!",a);}return a}function Kb(a,b,c){if(null!=a&&null!=a.xb)a=a.xb(a,b,c);else{var d=Kb[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Kb._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("ITransientAssociative.-assoc!",a);}return a}
function Lb(a){if(null!=a&&null!=a.uc)a=a.uc(a);else{var b=Lb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Lb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunk.-drop-first",a);}return a}function Mb(a){if(null!=a&&null!=a.hc)a=a.hc(a);else{var b=Mb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Mb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunkedSeq.-chunked-first",a);}return a}
function Nb(a){if(null!=a&&null!=a.Rb)a=a.Rb(a);else{var b=Nb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Nb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IChunkedSeq.-chunked-rest",a);}return a}function Ob(a){if(null!=a&&null!=a.Eb)a=a.Eb(a);else{var b=Ob[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ob._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("INamed.-name",a);}return a}
function Pb(a){if(null!=a&&null!=a.Fb)a=a.Fb(a);else{var b=Pb[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Pb._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("INamed.-namespace",a);}return a}function Qb(a,b){if(null!=a&&null!=a.Sa)a=a.Sa(a,b);else{var c=Qb[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qb._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("IReset.-reset!",a);}return a}
var Sb=function(){function a(f,h,k,l,m){var n=Rb[t(null==f?null:f)];if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);n=Rb._;if(null!=n)return n.aa?n.aa(f,h,k,l,m):n.call(null,f,h,k,l,m);throw A("ISwap.-swap!",f);}function b(f,h,k,l){var m=Rb[t(null==f?null:f)];if(null!=m)return m.T?m.T(f,h,k,l):m.call(null,f,h,k,l);m=Rb._;if(null!=m)return m.T?m.T(f,h,k,l):m.call(null,f,h,k,l);throw A("ISwap.-swap!",f);}function c(f,h,k){var l=Rb[t(null==f?null:f)];if(null!=l)return l.D?l.D(f,h,k):l.call(null,
f,h,k);l=Rb._;if(null!=l)return l.D?l.D(f,h,k):l.call(null,f,h,k);throw A("ISwap.-swap!",f);}function d(f,h){var k=Rb[t(null==f?null:f)];if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);k=Rb._;if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);throw A("ISwap.-swap!",f);}var e=null;e=function(f,h,k,l,m){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,l);case 5:return a.call(this,f,h,k,l,m)}throw Error("Invalid arity: "+arguments.length);
};e.B=d;e.D=c;e.T=b;e.aa=a;return e}(),Rb=function Rb(a){switch(arguments.length){case 2:return Rb.B(arguments[0],arguments[1]);case 3:return Rb.D(arguments[0],arguments[1],arguments[2]);case 4:return Rb.T(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Rb.aa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Rb.B=function(a,b){return null!=a&&null!=a.kc?a.kc(a,b):Sb(a,b)};
Rb.D=function(a,b,c){return null!=a&&null!=a.lc?a.lc(a,b,c):Sb(a,b,c)};Rb.T=function(a,b,c,d){return null!=a&&null!=a.mc?a.mc(a,b,c,d):Sb(a,b,c,d)};Rb.aa=function(a,b,c,d,e){return null!=a&&null!=a.nc?a.nc(a,b,c,d,e):Sb(a,b,c,d,e)};Rb.$=5;function Tb(){}function Ub(a){if(null!=a&&null!=a.Qa)a=a.Qa(a);else{var b=Ub[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ub._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IIterable.-iterator",a);}return a}
function Vb(a){this.pd=a;this.F=1073741824;this.P=0}Vb.prototype.Ac=function(a,b){return this.pd.append(b)};function Wb(a){var b=new pa;a.ia(null,new Vb(b),va());return B.j(b)}var Xb="undefined"!==typeof Math&&"undefined"!==typeof Math.imul?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function Yb(a){a=Xb(a|0,-862048943);return Xb(a<<15|a>>>-15,461845907)}
function Zb(a,b){a=(a|0)^(b|0);return Xb(a<<13|a>>>-13,5)+-430675100|0}function $b(a,b){a=(a|0)^b;a=Xb(a^a>>>16,-2048144789);a=Xb(a^a>>>13,-1028477387);return a^a>>>16}function ac(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=Zb(c,Yb(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return $b(1===(a.length&1)?b^Yb(a.charCodeAt(a.length-1)):b,Xb(2,a.length))}var bc={},cc=0;
function dc(a){255<cc&&(bc={},cc=0);if(null==a)return 0;var b=bc[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=Xb(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;bc[a]=b;cc+=1;a=b}return a}
function ec(a){if(null!=a&&(a.F&4194304||u===a.td))return a.ga(null)^0;if("number"===typeof a){if(isFinite(a))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=dc(a),a=0===a?a:$b(Zb(0,Yb(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:wb(a)^0,a}function fc(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function gc(a,b,c,d,e){this.Bb=a;this.name=b;this.jb=c;this._hash=d;this.Ya=e;this.F=2154168321;this.P=4096}g=gc.prototype;g.toString=function(){return this.jb};g.fa=function(a,b){return b instanceof gc?this.jb===b.jb:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};
g.j=function(a){return H.B?H.B(a,this):H.call(null,a,this)};g.B=function(a,b){return H.D?H.D(a,this,b):H.call(null,a,this,b)};g.ha=function(){return this.Ya};g.ka=function(a,b){return new gc(this.Bb,this.name,this.jb,this._hash,b)};g.ga=function(){var a=this._hash;return null!=a?a:this._hash=a=fc(ac(this.name),dc(this.Bb))};g.Eb=function(){return this.name};g.Fb=function(){return this.Bb};g.ia=function(a,b){return G(b,this.jb)};
var hc=function hc(a){switch(arguments.length){case 1:return hc.j(arguments[0]);case 2:return hc.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};hc.j=function(a){for(;;){if(a instanceof gc)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?hc.B(null,a):hc.B(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof I)a=a.Ra;else throw Error("no conversion to symbol");}};
hc.B=function(a,b){var c=null!=a?[B.j(a),"/",B.j(b)].join(""):b;return new gc(a,b,c,null,null)};hc.$=2;function ic(a){return null!=a?a.P&131072||u===a.ud?!0:a.P?!1:y(Tb,a):y(Tb,a)}function J(a){if(null==a)return null;if(null!=a&&(a.F&8388608||u===a.ad))return a.ja(null);if(Ba(a)||"string"===typeof a)return 0===a.length?null:new K(a,0,null);if(null!=a&&null!=a[Da])return a=ia(a,Da).call(a),jc.j?jc.j(a):jc.call(null,a);if(y(xb,a))return yb(a);throw Error([B.j(a)," is not ISeqable"].join(""));}
function N(a){if(null==a)return null;if(null!=a&&(a.F&64||u===a.ub))return a.wa(null);a=J(a);return null==a?null:D(a)}function kc(a){return null!=a?null!=a&&(a.F&64||u===a.ub)?a.xa(null):(a=J(a))?a.xa(null):lc:lc}function O(a){return null==a?null:null!=a&&(a.F&128||u===a.Gb)?a.va():J(kc(a))}
var P=function P(a){switch(arguments.length){case 1:return P.j(arguments[0]);case 2:return P.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return P.K(arguments[0],arguments[1],c)}};P.j=function(){return!0};P.B=function(a,b){return null==a?null==b:a===b||vb(a,b)};P.K=function(a,b,c){for(;;)if(P.B(a,b))if(O(c))a=b,b=N(c),c=O(c);else return P.B(b,N(c));else return!1};
P.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};P.$=2;function mc(a){this.s=a}mc.prototype.next=function(){if(null!=this.s){var a=N(this.s);this.s=O(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function nc(a){return new mc(J(a))}function oc(a,b){this.value=a;this.Ab=b;this.bc=null;this.F=8388672;this.P=0}oc.prototype.ja=function(){return this};oc.prototype.wa=function(){return this.value};
oc.prototype.xa=function(){null==this.bc&&(this.bc=jc.j?jc.j(this.Ab):jc.call(null,this.Ab));return this.bc};function jc(a){var b=a.next();return x(b.done)?null:new oc(b.value,a)}function pc(a){var b=0,c=1;for(a=J(a);;)if(null!=a)b+=1,c=Xb(31,c)+ec(N(a))|0,a=O(a);else return $b(Zb(0,Yb(c)),b)}var qc=$b(Zb(0,Yb(1)),0);function rc(a){var b=0,c=0;for(a=J(a);;)if(null!=a)b+=1,c=c+ec(N(a))|0,a=O(a);else return $b(Zb(0,Yb(c)),b)}var sc=$b(Zb(0,Yb(0)),0);La["null"]=!0;Ma["null"]=function(){return 0};
Date.prototype.fa=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};vb.number=function(a,b){return a===b};Ja["function"]=!0;nb["function"]=!0;ob["function"]=function(){return null};wb._=function(a){return ba(a)};function tc(a){return a+1}function uc(){this.R=!1;this.F=32768;this.P=0}uc.prototype.fb=function(){return this.R};function vc(a){return a instanceof uc}function wc(a){return F(a)}
function xc(a,b){var c=a.la(null);if(0===c)return b.O?b.O():b.call(null);for(var d=a.ea(null,0),e=1;;)if(e<c){var f=a.ea(null,e);d=b.B?b.B(d,f):b.call(null,d,f);if(vc(d))return F(d);e+=1}else return d}function yc(a,b,c){var d=a.la(null),e=c;for(c=0;;)if(c<d){var f=a.ea(null,c);e=b.B?b.B(e,f):b.call(null,e,f);if(vc(e))return F(e);c+=1}else return e}
function zc(a,b){var c=a.length;if(0===a.length)return b.O?b.O():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.B?b.B(d,f):b.call(null,d,f);if(vc(d))return F(d);e+=1}else return d}function Ac(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.B?b.B(e,f):b.call(null,e,f);if(vc(e))return F(e);c+=1}else return e}function Bc(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.B?b.B(c,f):b.call(null,c,f);if(vc(c))return F(c);d+=1}else return c}
function Cc(a){return null!=a?a.F&2||u===a.Qc?!0:a.F?!1:y(La,a):y(La,a)}function Dc(a){return null!=a?a.F&16||u===a.wc?!0:a.F?!1:y(Ra,a):y(Ra,a)}function Q(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(P.B(Ec?Ec(a,c):Fc.call(null,a,c),b))return c;c+=1}else return-1}
function S(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(P.B(Ec?Ec(a,c):Fc.call(null,a,c),b))return c;--c}else return-1}function Gc(a,b){this.C=a;this.i=b}Gc.prototype.pa=function(){return this.i<this.C.length};Gc.prototype.next=function(){var a=this.C[this.i];this.i+=1;return a};function K(a,b,c){this.C=a;this.i=b;this.meta=c;this.F=166592766;this.P=139264}g=K.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R.j?R.j(this):R.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ea=function(a,b){a=b+this.i;if(0<=a&&a<this.C.length)return this.C[a];throw Error("Index out of bounds");};g.Aa=function(a,b,c){a=b+this.i;return 0<=a&&a<this.C.length?this.C[a]:c};
g.Qa=function(){return new Gc(this.C,this.i)};g.ha=function(){return this.meta};g.va=function(){return this.i+1<this.C.length?new K(this.C,this.i+1,null):null};g.la=function(){var a=this.C.length-this.i;return 0>a?0:a};g.ga=function(){return pc(this)};g.fa=function(a,b){return Hc.B?Hc.B(this,b):Hc.call(null,this,b)};g.ma=function(){return lc};g.qa=function(a,b){return Bc(this.C,b,this.C[this.i],this.i+1)};g.ra=function(a,b,c){return Bc(this.C,b,c,this.i)};g.wa=function(){return this.C[this.i]};
g.xa=function(){return this.i+1<this.C.length?new K(this.C,this.i+1,null):lc};g.ja=function(){return this.i<this.C.length?this:null};g.ka=function(a,b){return b===this.meta?this:new K(this.C,this.i,b)};g.oa=function(a,b){return U.B?U.B(b,this):U.call(null,b,this)};K.prototype[Da]=function(){return nc(this)};function Ic(a){return 0<a.length?new K(a,0,null):null}vb._=function(a,b){return a===b};
var Jc=function Jc(a){switch(arguments.length){case 0:return Jc.O();case 1:return Jc.j(arguments[0]);case 2:return Jc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Jc.K(arguments[0],arguments[1],c)}};Jc.O=function(){return Kc};Jc.j=function(a){return a};Jc.B=function(a,b){return null!=a?Qa(a,b):new Lc(null,b,null,1,null)};
Jc.K=function(a,b,c){for(;;)if(x(c))a=Jc.B(a,b),b=N(c),c=O(c);else return Jc.B(a,b)};Jc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Jc.$=2;function R(a){if(null!=a)if(null!=a&&(a.F&2||u===a.Qc))a=a.la(null);else if(Ba(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.F&8388608||u===a.ad))a:{a=J(a);for(var b=0;;){if(Cc(a)){a=b+Ma(a);break a}a=O(a);b+=1}}else a=Ma(a);else a=0;return a}
function Mc(a,b,c){for(;;){if(null==a)return c;if(0===b)return J(a)?N(a):c;if(Dc(a))return Sa(a,b,c);if(J(a))a=O(a),--b;else return c}}function Fc(a){switch(arguments.length){case 2:return Ec(arguments[0],arguments[1]);case 3:return V(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}
function Ec(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.F&16||u===a.wc))return a.ea(null,b);if(Ba(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.F&64||u===a.ub)||null!=a&&(a.F&16777216||u===a.yc)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(J(a)){a=N(a);break a}throw Error("Index out of bounds");}if(Dc(a)){a=Sa(a,b);break a}if(J(a))a=O(a),--b;else throw Error("Index out of bounds");}return a}if(y(Ra,a))return Sa(a,b);throw Error(["nth not supported on this type ",B.j(Ca(null==a?null:a.constructor))].join(""));}
function V(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.F&16||u===a.wc))return a.Aa(null,b,c);if(Ba(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.F&64||u===a.ub)||null!=a&&(a.F&16777216||u===a.yc))return 0>b?c:Mc(a,b,c);if(y(Ra,a))return Sa(a,b,c);throw Error(["nth not supported on this type ",B.j(Ca(null==a?null:a.constructor))].join(""));}
var H=function H(a){switch(arguments.length){case 2:return H.B(arguments[0],arguments[1]);case 3:return H.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};H.B=function(a,b){return null==a?null:null!=a&&(a.F&256||u===a.Wc)?a.ya(null,b):Ba(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:y(Xa,a)?Ya(a,b):null};
H.D=function(a,b,c){return null!=a?null!=a&&(a.F&256||u===a.Wc)?a.ca(null,b,c):Ba(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:y(Xa,a)?Ya(a,b,c):c:c};H.$=3;var W=function W(a){switch(arguments.length){case 3:return W.D(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(3),0,null);return W.K(arguments[0],arguments[1],arguments[2],c)}};
W.D=function(a,b,c){return null!=a&&(a.F&512||u===a.Pc)?a.ab(null,b,c):null!=a?bb(a,b,c):Nc([b,c])};W.K=function(a,b,c,d){for(;;)if(a=W.D(a,b,c),x(d))b=N(d),c=N(O(d)),d=O(O(d));else return a};W.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);d=O(d);return this.K(b,a,c,d)};W.$=3;
var Oc=function Oc(a){switch(arguments.length){case 1:return Oc.j(arguments[0]);case 2:return Oc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Oc.K(arguments[0],arguments[1],c)}};Oc.j=function(a){return a};Oc.B=function(a,b){return null==a?null:eb(a,b)};Oc.K=function(a,b,c){for(;;){if(null==a)return null;a=Oc.B(a,b);if(x(c))b=N(c),c=O(c);else return a}};
Oc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Oc.$=2;function Pc(a){var b="function"===typeof a;return b?b:null!=a?u===a.Oc?!0:a.Bc?!1:y(Ja,a):y(Ja,a)}function Qc(a,b){this.I=a;this.meta=b;this.F=393217;this.P=0}g=Qc.prototype;g.ha=function(){return this.meta};g.ka=function(a,b){return new Qc(this.I,b)};g.Oc=u;
g.call=function(a){switch(arguments.length-1){case 0:return this.O();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.T(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Oa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ia(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ka(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.ic(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.O=function(){return this.I.O?this.I.O():this.I.call(null)};g.j=function(a){return this.I.j?this.I.j(a):this.I.call(null,a)};g.B=function(a,b){return this.I.B?this.I.B(a,b):this.I.call(null,a,b)};g.D=function(a,b,c){return this.I.D?this.I.D(a,b,c):this.I.call(null,a,b,c)};
g.T=function(a,b,c,d){return this.I.T?this.I.T(a,b,c,d):this.I.call(null,a,b,c,d)};g.aa=function(a,b,c,d,e){return this.I.aa?this.I.aa(a,b,c,d,e):this.I.call(null,a,b,c,d,e)};g.Na=function(a,b,c,d,e,f){return this.I.Na?this.I.Na(a,b,c,d,e,f):this.I.call(null,a,b,c,d,e,f)};g.Oa=function(a,b,c,d,e,f,h){return this.I.Oa?this.I.Oa(a,b,c,d,e,f,h):this.I.call(null,a,b,c,d,e,f,h)};g.za=function(a,b,c,d,e,f,h,k){return this.I.za?this.I.za(a,b,c,d,e,f,h,k):this.I.call(null,a,b,c,d,e,f,h,k)};
g.Pa=function(a,b,c,d,e,f,h,k,l){return this.I.Pa?this.I.Pa(a,b,c,d,e,f,h,k,l):this.I.call(null,a,b,c,d,e,f,h,k,l)};g.Ca=function(a,b,c,d,e,f,h,k,l,m){return this.I.Ca?this.I.Ca(a,b,c,d,e,f,h,k,l,m):this.I.call(null,a,b,c,d,e,f,h,k,l,m)};g.Da=function(a,b,c,d,e,f,h,k,l,m,n){return this.I.Da?this.I.Da(a,b,c,d,e,f,h,k,l,m,n):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Ea=function(a,b,c,d,e,f,h,k,l,m,n,p){return this.I.Ea?this.I.Ea(a,b,c,d,e,f,h,k,l,m,n,p):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.Fa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){return this.I.Fa?this.I.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};g.Ga=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){return this.I.Ga?this.I.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};g.Ha=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w){return this.I.Ha?this.I.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w)};
g.Ia=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z){return this.I.Ia?this.I.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z)};g.Ja=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C){return this.I.Ja?this.I.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C)};g.Ka=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E){return this.I.Ka?this.I.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E)};
g.La=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M){return this.I.La?this.I.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M)};g.Ma=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T){return this.I.Ma?this.I.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T)};
g.ic=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da){return Rc.Vc?Rc.Vc(this.I,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da):Rc.call(null,this.I,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da)};function Sc(a,b){return"function"===typeof a?new Qc(a,b):null==a?null:pb(a,b)}function Tc(a){var b=null!=a;return(b?null!=a?a.F&131072||u===a.Zc||(a.F?0:y(nb,a)):y(nb,a):b)?ob(a):null}
var Uc=function Uc(a){switch(arguments.length){case 1:return Uc.j(arguments[0]);case 2:return Uc.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Uc.K(arguments[0],arguments[1],c)}};Uc.j=function(a){return a};Uc.B=function(a,b){return null==a?null:ib(a,b)};Uc.K=function(a,b,c){for(;;){if(null==a)return null;a=Uc.B(a,b);if(x(c))b=N(c),c=O(c);else return a}};
Uc.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Uc.$=2;function Vc(a){var b;(b=null==a)||(a=J(a),b=null==a?!0:!1===a?!0:!1);return b}function Wc(a){return null==a?!1:null!=a?a.F&8||u===a.rd?!0:a.F?!1:y(Pa,a):y(Pa,a)}function Xc(a){return null==a?!1:null!=a?a.F&4096||u===a.Ad?!0:a.F?!1:y(hb,a):y(hb,a)}function Yc(a){return null!=a?a.F&16777216||u===a.yc?!0:a.F?!1:y(zb,a):y(zb,a)}function $c(a){return null==a?!1:null!=a?a.F&1024||u===a.xd?!0:a.F?!1:y(db,a):y(db,a)}
function ad(a){return null!=a?a.F&67108864||u===a.zd?!0:a.F?!1:y(Bb,a):y(Bb,a)}function bd(a){return null!=a?a.F&16384||u===a.Bd?!0:a.F?!1:y(lb,a):y(lb,a)}function cd(a){return null!=a?a.P&512||u===a.qd?!0:!1:!1}function dd(a,b,c,d,e){for(;;){if(0===e)return c;c[d]=a[b];d+=1;--e;b+=1}}var ed={};function fd(a){return null==a?!1:!1===a?!1:!0}function gd(a){var b=Pc(a);return b?b:null!=a?a.F&1||u===a.sd?!0:a.F?!1:y(Ka,a):y(Ka,a)}
function hd(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function id(a,b){return null!=a&&(a.F&512||u===a.Pc)?a.lb(null,b):y($a,a)?ab(a,b):H.D(a,b,ed)===ed?!1:!0}function jd(a,b){var c=J(b);return c?(b=N(c),c=O(c),Ga?Ga(a,b,c):Ha.call(null,a,b,c)):a.O?a.O():a.call(null)}function kd(a,b,c){for(c=J(c);;)if(c){var d=N(c);b=a.B?a.B(b,d):a.call(null,b,d);if(vc(b))return F(b);c=O(c)}else return b}
function ld(a,b){a=Ub(a);if(x(a.pa()))for(var c=a.next();;)if(a.pa()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(vc(c))return F(c)}else return c;else return b.O?b.O():b.call(null)}function md(a,b,c){for(a=Ub(a);;)if(a.pa()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(vc(c))return F(c)}else return c}
function Ha(a){switch(arguments.length){case 2:return nd(arguments[0],arguments[1]);case 3:return Ga(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function nd(a,b){return null!=b&&(b.F&524288||u===b.$c)?b.qa(null,a):Ba(b)?zc(b,a):"string"===typeof b?zc(b,a):y(qb,b)?rb(b,a):ic(b)?ld(b,a):jd(a,b)}
function Ga(a,b,c){return null!=c&&(c.F&524288||u===c.$c)?c.ra(null,a,b):Ba(c)?Ac(c,a,b):"string"===typeof c?Ac(c,a,b):y(qb,c)?rb(c,a,b):ic(c)?md(c,a,b):kd(a,b,c)}function od(a,b,c){return null!=c?ub(c,a,b):b}function pd(a){return a}function qd(a,b,c,d){a=a.j?a.j(b):a.call(null,b);c=Ga(a,c,d);return a.j?a.j(c):a.call(null,c)}
var rd=function rd(a){switch(arguments.length){case 0:return rd.O();case 1:return rd.j(arguments[0]);case 2:return rd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return rd.K(arguments[0],arguments[1],c)}};rd.O=function(){return 0};rd.j=function(a){return a};rd.B=function(a,b){return a+b};rd.K=function(a,b,c){return Ga(rd,a+b,c)};
rd.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};rd.$=2;var sd=function sd(a){switch(arguments.length){case 1:return sd.j(arguments[0]);case 2:return sd.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return sd.K(arguments[0],arguments[1],c)}};sd.j=function(a){return-a};sd.B=function(a,b){return a-b};sd.K=function(a,b,c){return Ga(sd,a-b,c)};
sd.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};sd.$=2;function td(a){a=(a-a%2)/2;return 0<=a?Math.floor(a):Math.ceil(a)}function ud(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var B=function B(a){switch(arguments.length){case 0:return B.O();case 1:return B.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(1),0,null);return B.K(arguments[0],c)}};B.O=function(){return""};
B.j=function(a){return null==a?"":[a].join("")};B.K=function(a,b){for(a=new pa(B.j(a));;)if(x(b))a=a.append(B.j(N(b))),b=O(b);else return a.toString()};B.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};B.$=1;function Hc(a,b){if(Yc(b))if(Cc(a)&&Cc(b)&&R(a)!==R(b))a=!1;else a:for(a=J(a),b=J(b);;){if(null==a){a=null==b;break a}if(null!=b&&P.B(N(a),N(b)))a=O(a),b=O(b);else{a=!1;break a}}else a=null;return fd(a)}
function Lc(a,b,c,d,e){this.meta=a;this.first=b;this.eb=c;this.count=d;this.N=e;this.F=65937646;this.P=8192}g=Lc.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return 1===this.count?null:this.eb};g.la=function(){return this.count};g.vb=function(){return this.first};g.wb=function(){return this.xa(null)};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return pb(lc,this.meta)};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.first};g.xa=function(){return 1===this.count?lc:this.eb};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Lc(b,this.first,this.eb,this.count,this.N)};g.oa=function(a,b){return new Lc(this.meta,b,this,this.count+1,null)};
Lc.prototype[Da]=function(){return nc(this)};function vd(a){this.meta=a;this.F=65937614;this.P=8192}g=vd.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null};g.la=function(){return 0};g.vb=function(){return null};g.wb=function(){throw Error("Can't pop empty list");};g.ga=function(){return qc};
g.fa=function(a,b){return(null!=b?b.F&33554432||u===b.wd||(b.F?0:y(Ab,b)):y(Ab,b))||Yc(b)?null==J(b):!1};g.ma=function(){return this};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return null};g.xa=function(){return lc};g.ja=function(){return null};g.ka=function(a,b){return b===this.meta?this:new vd(b)};g.oa=function(a,b){return new Lc(this.meta,b,null,1,null)};var lc=new vd(null);vd.prototype[Da]=function(){return nc(this)};
function wd(a,b,c,d){this.meta=a;this.first=b;this.eb=c;this.N=d;this.F=65929452;this.P=8192}g=wd.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null==this.eb?null:J(this.eb)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};
g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.first};g.xa=function(){return null==this.eb?lc:this.eb};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new wd(b,this.first,this.eb,this.N)};g.oa=function(a,b){return new wd(null,b,this,null)};wd.prototype[Da]=function(){return nc(this)};
function U(a,b){return null==b?new Lc(null,a,null,1,null):null!=b&&(b.F&64||u===b.ub)?new wd(null,a,b,null):new wd(null,a,J(b),null)}function I(a,b,c,d){this.Bb=a;this.name=b;this.Ra=c;this._hash=d;this.F=2153775105;this.P=4096}g=I.prototype;g.toString=function(){return[":",B.j(this.Ra)].join("")};g.fa=function(a,b){return b instanceof I?this.Ra===b.Ra:!1};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return H.B(a,this)};g.B=function(a,b){return H.D(a,this,b)};g.ga=function(){var a=this._hash;return null!=a?a:this._hash=a=fc(ac(this.name),dc(this.Bb))+2654435769|0};g.Eb=function(){return this.name};
g.Fb=function(){return this.Bb};g.ia=function(a,b){return G(b,[":",B.j(this.Ra)].join(""))};function xd(a){if(null!=a&&(a.P&4096||u===a.xc))return a.Fb(null);throw Error(["Doesn't support namespace: ",B.j(a)].join(""));}var yd=function yd(a){switch(arguments.length){case 1:return yd.j(arguments[0]);case 2:return yd.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};
yd.j=function(a){if(a instanceof I)return a;if(a instanceof gc)return new I(xd(a),X.j?X.j(a):X.call(null,a),a.jb,null);if(P.B("/",a))return new I(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new I(b[0],b[1],a,null):new I(null,b[0],a,null)}return null};
yd.B=function(a,b){a=a instanceof I?X.j?X.j(a):X.call(null,a):a instanceof gc?X.j?X.j(a):X.call(null,a):a;b=b instanceof I?X.j?X.j(b):X.call(null,b):b instanceof gc?X.j?X.j(b):X.call(null,b):b;return new I(a,b,[x(a)?[B.j(a),"/"].join(""):null,B.j(b)].join(""),null)};yd.$=2;function zd(a,b,c){this.meta=a;this.fn=b;this.s=null;this.N=c;this.F=32374988;this.P=1}g=zd.prototype;g.toString=function(){return Wb(this)};
function Ad(a){null!=a.fn&&(a.s=a.fn.O?a.fn.O():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){this.ja(null);return null==this.s?null:O(this.s)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};
g.ma=function(){return pb(lc,this.meta)};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){this.ja(null);return null==this.s?null:N(this.s)};g.xa=function(){this.ja(null);return null!=this.s?kc(this.s):lc};g.ja=function(){Ad(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof zd)a=Ad(a);else return this.s=a,J(this.s)};g.ka=function(a,b){var c=this;return b===this.meta?c:new zd(b,function(){return c.ja(null)},this.N)};
g.oa=function(a,b){return U(b,this)};zd.prototype[Da]=function(){return nc(this)};function Bd(a){this.cc=a;this.end=0;this.F=2;this.P=0}Bd.prototype.add=function(a){this.cc[this.end]=a;return this.end+=1};Bd.prototype.$a=function(){var a=new Cd(this.cc,0,this.end);this.cc=null;return a};Bd.prototype.la=function(){return this.end};function Cd(a,b,c){this.C=a;this.off=b;this.end=c;this.F=524306;this.P=0}g=Cd.prototype;g.la=function(){return this.end-this.off};
g.ea=function(a,b){return this.C[this.off+b]};g.Aa=function(a,b,c){return 0<=b&&b<this.end-this.off?this.C[this.off+b]:c};g.uc=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Cd(this.C,this.off+1,this.end)};g.qa=function(a,b){return Bc(this.C,b,this.C[this.off],this.off+1)};g.ra=function(a,b,c){return Bc(this.C,b,c,this.off)};function Dd(a,b,c,d){this.$a=a;this.Va=b;this.meta=c;this.N=d;this.F=31850732;this.P=1536}g=Dd.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return 1<Ma(this.$a)?new Dd(Lb(this.$a),this.Va,null,null):null==this.Va?null:yb(this.Va)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.wa=function(){return Sa(this.$a,0)};g.xa=function(){return 1<Ma(this.$a)?new Dd(Lb(this.$a),this.Va,null,null):null==this.Va?lc:this.Va};g.ja=function(){return this};g.hc=function(){return this.$a};g.Rb=function(){return null==this.Va?lc:this.Va};g.ka=function(a,b){return b===this.meta?this:new Dd(this.$a,this.Va,b,this.N)};g.oa=function(a,b){return U(b,this)};g.vc=function(){return null==this.Va?null:this.Va};Dd.prototype[Da]=function(){return nc(this)};
function Ed(a,b){return 0===Ma(a)?b:new Dd(a,b,null,null)}function Fd(a,b){a.add(b)}function Gd(a,b){if(Cc(b))return R(b);var c=0;for(b=J(b);;)if(null!=b&&c<a)c+=1,b=O(b);else return c}var Hd=function Hd(a){if(null==a)return null;var c=O(a);return null==c?J(N(a)):U(N(a),Hd.j?Hd.j(c):Hd.call(null,c))};
function Id(a,b,c){var d=J(c);if(0===b)return a.O?a.O():a.call(null);c=D(d);var e=Va(d);if(1===b)return a.j?a.j(c):a.call(null,c);d=D(e);var f=Va(e);if(2===b)return a.B?a.B(c,d):a.call(null,c,d);e=D(f);var h=Va(f);if(3===b)return a.D?a.D(c,d,e):a.call(null,c,d,e);f=D(h);var k=Va(h);if(4===b)return a.T?a.T(c,d,e,f):a.call(null,c,d,e,f);h=D(k);var l=Va(k);if(5===b)return a.aa?a.aa(c,d,e,f,h):a.call(null,c,d,e,f,h);k=D(l);var m=Va(l);if(6===b)return a.Na?a.Na(c,d,e,f,h,k):a.call(null,c,d,e,f,h,k);l=
D(m);var n=Va(m);if(7===b)return a.Oa?a.Oa(c,d,e,f,h,k,l):a.call(null,c,d,e,f,h,k,l);m=D(n);var p=Va(n);if(8===b)return a.za?a.za(c,d,e,f,h,k,l,m):a.call(null,c,d,e,f,h,k,l,m);n=D(p);var q=Va(p);if(9===b)return a.Pa?a.Pa(c,d,e,f,h,k,l,m,n):a.call(null,c,d,e,f,h,k,l,m,n);p=D(q);var r=Va(q);if(10===b)return a.Ca?a.Ca(c,d,e,f,h,k,l,m,n,p):a.call(null,c,d,e,f,h,k,l,m,n,p);q=D(r);var w=Va(r);if(11===b)return a.Da?a.Da(c,d,e,f,h,k,l,m,n,p,q):a.call(null,c,d,e,f,h,k,l,m,n,p,q);r=D(w);var z=Va(w);if(12===
b)return a.Ea?a.Ea(c,d,e,f,h,k,l,m,n,p,q,r):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r);w=D(z);var C=Va(z);if(13===b)return a.Fa?a.Fa(c,d,e,f,h,k,l,m,n,p,q,r,w):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w);z=D(C);var E=Va(C);if(14===b)return a.Ga?a.Ga(c,d,e,f,h,k,l,m,n,p,q,r,w,z):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z);C=D(E);var M=Va(E);if(15===b)return a.Ha?a.Ha(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C);E=D(M);var T=Va(M);if(16===b)return a.Ia?a.Ia(c,d,e,f,h,k,l,m,n,p,q,r,w,
z,C,E):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E);M=D(T);var da=Va(T);if(17===b)return a.Ja?a.Ja(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M);T=D(da);var qa=Va(da);if(18===b)return a.Ka?a.Ka(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T);da=D(qa);qa=Va(qa);if(19===b)return a.La?a.La(c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da);var Zc=D(qa);Va(qa);if(20===b)return a.Ma?a.Ma(c,
d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da,Zc):a.call(null,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da,Zc);throw Error("Only up to 20 arguments supported on functions");}function Jd(a){return null!=a&&(a.F&128||u===a.Gb)?a.va():J(kc(a))}function Kd(a,b,c){return null==c?a.j?a.j(b):a.call(a,b):Ld(a,b,D(c),Jd(c))}function Ld(a,b,c,d){return null==d?a.B?a.B(b,c):a.call(a,b,c):Md(a,b,c,D(d),Jd(d))}function Md(a,b,c,d,e){return null==e?a.D?a.D(b,c,d):a.call(a,b,c,d):Nd(a,b,c,d,D(e),Jd(e))}
function Nd(a,b,c,d,e,f){if(null==f)return a.T?a.T(b,c,d,e):a.call(a,b,c,d,e);var h=D(f),k=O(f);if(null==k)return a.aa?a.aa(b,c,d,e,h):a.call(a,b,c,d,e,h);f=D(k);var l=O(k);if(null==l)return a.Na?a.Na(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=D(l);var m=O(l);if(null==m)return a.Oa?a.Oa(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);l=D(m);var n=O(m);if(null==n)return a.za?a.za(b,c,d,e,h,f,k,l):a.call(a,b,c,d,e,h,f,k,l);m=D(n);var p=O(n);if(null==p)return a.Pa?a.Pa(b,c,d,e,h,f,k,l,m):a.call(a,b,c,d,e,h,f,k,l,m);
n=D(p);var q=O(p);if(null==q)return a.Ca?a.Ca(b,c,d,e,h,f,k,l,m,n):a.call(a,b,c,d,e,h,f,k,l,m,n);p=D(q);var r=O(q);if(null==r)return a.Da?a.Da(b,c,d,e,h,f,k,l,m,n,p):a.call(a,b,c,d,e,h,f,k,l,m,n,p);q=D(r);var w=O(r);if(null==w)return a.Ea?a.Ea(b,c,d,e,h,f,k,l,m,n,p,q):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q);r=D(w);var z=O(w);if(null==z)return a.Fa?a.Fa(b,c,d,e,h,f,k,l,m,n,p,q,r):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r);w=D(z);var C=O(z);if(null==C)return a.Ga?a.Ga(b,c,d,e,h,f,k,l,m,n,p,q,r,w):a.call(a,b,c,d,
e,h,f,k,l,m,n,p,q,r,w);z=D(C);var E=O(C);if(null==E)return a.Ha?a.Ha(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z);C=D(E);var M=O(E);if(null==M)return a.Ia?a.Ia(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C);E=D(M);var T=O(M);if(null==T)return a.Ja?a.Ja(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E);M=D(T);var da=O(T);if(null==da)return a.Ka?a.Ka(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M):a.call(a,b,c,d,e,h,f,k,l,m,n,p,
q,r,w,z,C,E,M);T=D(da);var qa=O(da);if(null==qa)return a.La?a.La(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T);da=D(qa);qa=O(qa);if(null==qa)return a.Ma?a.Ma(b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da);b=[b,c,d,e,h,f,k,l,m,n,p,q,r,w,z,C,E,M,T,da];for(c=qa;;)if(c)b.push(D(c)),c=O(c);else break;return a.apply(a,b)}
function Rc(a){switch(arguments.length){case 2:return Od(arguments[0],arguments[1]);case 3:return Pd(arguments[0],arguments[1],arguments[2]);case 4:var b=arguments[0];var c=arguments[1],d=arguments[2],e=arguments[3];b.ba?(c=U(c,U(d,e)),d=b.$,e=2+Gd(d-1,e),b=e<=d?Id(b,e,c):b.ba(c)):b=Ld(b,c,d,J(e));return b;case 5:return Qd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:b=[];e=arguments.length;for(c=0;;)if(c<e)b.push(arguments[c]),c+=1;else break;b=new K(b.slice(5),0,null);
return Rd(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}function Od(a,b){if(a.ba){var c=a.$,d=Gd(c+1,b);return d<=c?Id(a,d,b):a.ba(b)}b=J(b);return null==b?a.O?a.O():a.call(a):Kd(a,D(b),Jd(b))}function Pd(a,b,c){if(a.ba){b=U(b,c);var d=a.$;c=Gd(d,c)+1;return c<=d?Id(a,c,b):a.ba(b)}return Kd(a,b,J(c))}function Qd(a,b,c,d,e){return a.ba?(b=U(b,U(c,U(d,e))),c=a.$,e=3+Gd(c-2,e),e<=c?Id(a,e,b):a.ba(b)):Md(a,b,c,d,J(e))}
function Rd(a,b,c,d,e,f){return a.ba?(f=Hd(f),b=U(b,U(c,U(d,U(e,f)))),c=a.$,f=4+Gd(c-3,f),f<=c?Id(a,f,b):a.ba(b)):Nd(a,b,c,d,e,Hd(f))}function Sd(a){if(null!=a&&(a.F&64||u===a.ub))if(O(a)){a:{var b=[];for(a=J(a);;)if(null!=a)b.push(N(a)),a=O(a);else break a}b=Nc(b)}else b=J(a)?N(a):Td;else b=a;return b}
function Ud(){if("undefined"===typeof ra||"undefined"===typeof sa||"undefined"===typeof ta)ta=function(a){this.gd=a;this.F=393216;this.P=0},ta.prototype.ka=function(a,b){return new ta(b)},ta.prototype.ha=function(){return this.gd},ta.prototype.pa=function(){return!1},ta.prototype.next=function(){return Error("No such element")},ta.prototype.remove=function(){return Error("Unsupported operation")},ta.Ib=!0,ta.nb="cljs.core/t_cljs$core20121",ta.Ub=function(a){return G(a,"cljs.core/t_cljs$core20121")};
return new ta(Td)}var Vd={},Wd={};function Xd(a){this.Cb=Vd;this._next=a}Xd.prototype.pa=function(){this.Cb===Vd?(this.Cb=Wd,this._next=J(this._next)):this.Cb===this._next&&(this._next=O(this.Cb));return null!=this._next};Xd.prototype.next=function(){if(this.pa())return this.Cb=this._next,N(this._next);throw Error("No such element");};Xd.prototype.remove=function(){return Error("Unsupported operation")};
function Yd(a,b){for(;;){if(null==J(b))return!0;var c=N(b);c=a.j?a.j(c):a.call(null,c);if(x(c))b=O(b);else return!1}}function Zd(a){for(var b=pd;;)if(a=J(a)){var c=N(a);c=b.j?b.j(c):b.call(null,c);if(x(c))return c;a=O(a)}else return null}
function $d(a,b){return new zd(null,function(){var c=J(b);if(c){if(cd(c)){for(var d=Mb(c),e=R(d),f=new Bd(Array(e)),h=0;;)if(h<e){var k=function(){var l=Sa(d,h);return a.j?a.j(l):a.call(null,l)}();null!=k&&f.add(k);h+=1}else break;return Ed(f.$a(),$d(a,Nb(c)))}e=function(){var l=N(c);return a.j?a.j(l):a.call(null,l)}();return null==e?$d(a,kc(c)):U(e,$d(a,kc(c)))}return null},null)}function ae(a){this.state=a;this.ua=this.validator=this.meta=null;this.P=16386;this.F=6455296}g=ae.prototype;
g.fa=function(a,b){return this===b};g.fb=function(){return this.state};g.ha=function(){return this.meta};g.oc=function(a,b){for(var c=J(this.ua),d=null,e=0,f=0;;)if(f<e){var h=d.ea(null,f),k=V(h,0,null);h=V(h,1,null);h.T?h.T(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=J(c))cd(c)?(d=Mb(c),c=Nb(c),k=d,e=R(d),d=k):(d=N(c),k=V(d,0,null),h=V(d,1,null),h.T?h.T(k,this,a,b):h.call(null,k,this,a,b),c=O(c),d=null,e=0),f=0;else break};g.Sb=function(a,b,c){this.ua=W.D(this.ua,b,c);return this};
g.Tb=function(a,b){return this.ua=Oc.B(this.ua,b)};g.ga=function(){return ba(this)};function be(a,b){if(a instanceof ae){var c=a.validator;if(null!=c&&!x(c.j?c.j(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.ua&&a.oc(c,b);return b}return Qb(a,b)}
var ce=function ce(a){switch(arguments.length){case 2:return ce.B(arguments[0],arguments[1]);case 3:return ce.D(arguments[0],arguments[1],arguments[2]);case 4:return ce.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return ce.K(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
ce.B=function(a,b){if(a instanceof ae){var c=a.state;b=b.j?b.j(c):b.call(null,c);a=be(a,b)}else a=Rb(a,b);return a};ce.D=function(a,b,c){if(a instanceof ae){var d=a.state;b=b.B?b.B(d,c):b.call(null,d,c);a=be(a,b)}else a=Rb(a,b,c);return a};ce.T=function(a,b,c,d){if(a instanceof ae){var e=a.state;b=b.D?b.D(e,c,d):b.call(null,e,c,d);a=be(a,b)}else a=Rb(a,b,c,d);return a};ce.K=function(a,b,c,d,e){return a instanceof ae?be(a,Qd(b,a.state,c,d,e)):Rb(a,b,c,d,e)};
ce.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);var e=O(d);d=N(e);e=O(e);return this.K(b,a,c,d,e)};ce.$=4;
var de=function de(a){switch(arguments.length){case 1:return de.j(arguments[0]);case 2:return de.B(arguments[0],arguments[1]);case 3:return de.D(arguments[0],arguments[1],arguments[2]);case 4:return de.T(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(4),0,null);return de.K(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
de.j=function(a){return function(b){return function(){function c(k,l){l=a.j?a.j(l):a.call(null,l);return b.B?b.B(k,l):b.call(null,k,l)}function d(k){return b.j?b.j(k):b.call(null,k)}function e(){return b.O?b.O():b.call(null)}var f=null,h=function(){function k(m,n,p){var q=null;if(2<arguments.length){q=0;for(var r=Array(arguments.length-2);q<r.length;)r[q]=arguments[q+2],++q;q=new K(r,0,null)}return l.call(this,m,n,q)}function l(m,n,p){n=Pd(a,n,p);return b.B?b.B(m,n):b.call(null,m,n)}k.$=2;k.ba=function(m){var n=
N(m);m=O(m);var p=N(m);m=kc(m);return l(n,p,m)};k.K=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new K(p,0,null)}return h.K(k,l,n)}throw Error("Invalid arity: "+arguments.length);};f.$=2;f.ba=h.ba;f.O=e;f.j=d;f.B=c;f.K=h.K;return f}()}};
de.B=function(a,b){return new zd(null,function(){var c=J(b);if(c){if(cd(c)){for(var d=Mb(c),e=R(d),f=new Bd(Array(e)),h=0;;)if(h<e)Fd(f,function(){var k=Sa(d,h);return a.j?a.j(k):a.call(null,k)}()),h+=1;else break;return Ed(f.$a(),de.B(a,Nb(c)))}return U(function(){var k=N(c);return a.j?a.j(k):a.call(null,k)}(),de.B(a,kc(c)))}return null},null)};
de.D=function(a,b,c){return new zd(null,function(){var d=J(b),e=J(c);if(d&&e){var f=N(d);var h=N(e);f=a.B?a.B(f,h):a.call(null,f,h);d=U(f,de.D(a,kc(d),kc(e)))}else d=null;return d},null)};de.T=function(a,b,c,d){return new zd(null,function(){var e=J(b),f=J(c),h=J(d);if(e&&f&&h){var k=N(e);var l=N(f),m=N(h);k=a.D?a.D(k,l,m):a.call(null,k,l,m);e=U(k,de.T(a,kc(e),kc(f),kc(h)))}else e=null;return e},null)};
de.K=function(a,b,c,d,e){return de.B(function(f){return Od(a,f)},function k(h){return new zd(null,function(){var l=de.B(J,h);return Yd(pd,l)?U(de.B(N,l),k(de.B(kc,l))):null},null)}(Jc.K(e,d,Ic([c,b]))))};de.ba=function(a){var b=N(a),c=O(a);a=N(c);var d=O(c);c=N(d);var e=O(d);d=N(e);e=O(e);return this.K(b,a,c,d,e)};de.$=4;function ee(a,b){return new zd(null,function(){if(0<a){var c=J(b);return c?U(N(c),ee(a-1,kc(c))):null}return null},null)}
function fe(a,b){return new zd(null,function(){a:for(var c=a,d=b;;)if(d=J(d),0<c&&d)--c,d=kc(d);else break a;return d},null)}function ge(a){return de.D(function(b){return b},a,fe(2,a))}function he(a,b,c,d){this.meta=a;this.count=b;this.R=c;this.next=d;this.N=null;this.F=32374988;this.P=1}g=he.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){return null==this.next?1<this.count?this.next=new he(null,this.count-1,this.R,null):-1===this.count?this:null:this.next};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){if(-1===this.count)for(var c=b.B?b.B(this.R,this.R):b.call(null,this.R,this.R);;){if(vc(c))return F(c);c=b.B?b.B(c,this.R):b.call(null,c,this.R)}else for(a=1,c=this.R;;)if(a<this.count){c=b.B?b.B(c,this.R):b.call(null,c,this.R);if(vc(c))return F(c);a+=1}else return c};
g.ra=function(a,b,c){if(-1===this.count)for(c=b.B?b.B(c,this.R):b.call(null,c,this.R);;){if(vc(c))return F(c);c=b.B?b.B(c,this.R):b.call(null,c,this.R)}else for(a=0;;)if(a<this.count){c=b.B?b.B(c,this.R):b.call(null,c,this.R);if(vc(c))return F(c);a+=1}else return c};g.wa=function(){return this.R};g.xa=function(){return null==this.next?1<this.count?this.next=new he(null,this.count-1,this.R,null):-1===this.count?this:lc:this.next};g.ja=function(){return this};
g.ka=function(a,b){return b===this.meta?this:new he(b,this.count,this.R,this.next)};g.oa=function(a,b){return U(b,this)};var ie=function ie(a){switch(arguments.length){case 0:return ie.O();case 1:return ie.j(arguments[0]);case 2:return ie.B(arguments[0],arguments[1]);case 3:return ie.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};ie.O=function(){return Kc};ie.j=function(a){return a};
ie.B=function(a,b){return null!=a?null!=a&&(a.P&4||u===a.Rc)?pb(Jb(Ga(Ib,Hb(a),b)),Tc(a)):Ga(Qa,a,b):Ga(Jc,a,b)};ie.D=function(a,b,c){if(null!=a&&(a.P&4||u===a.Rc)){var d=Tc(a);return qd(b,function(){function e(h){return pb(Jb(h),d)}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return Ib(h,k)}throw Error("Invalid arity: "+arguments.length);};f.j=e;f.B=function(h,k){return Ib(h,k)};return f}(),Hb(a),c)}return qd(b,Jc,a,c)};ie.$=3;
function je(a,b,c){var d=W.D,e=H.B(a,b);c=c.j?c.j(e):c.call(null,e);return d.call(W,a,b,c)}function ke(a,b,c,d){var e=W.D,f=H.B(a,b);c=c.B?c.B(f,d):c.call(null,f,d);return e.call(W,a,b,c)}function le(a,b){this.da=a;this.C=b}function me(a){return new le(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function ne(a){return new le(a.da,Ea(a.C))}
function oe(a){a=a.G;return 32>a?0:a-1>>>5<<5}function pe(a,b,c){for(;;){if(0===b)return c;var d=me(a);d.C[0]=c;c=d;b-=5}}var qe=function qe(a,b,c,d){var f=ne(c),h=a.G-1>>>b&31;5===b?f.C[h]=d:(c=c.C[h],null!=c?(b-=5,a=qe.T?qe.T(a,b,c,d):qe.call(null,a,b,c,d)):a=pe(null,b-5,d),f.C[h]=a);return f};function re(a,b){throw Error(["No item ",B.j(a)," in vector of length ",B.j(b)].join(""));}
function se(a,b){if(b>=oe(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.C[b>>>a&31];a=d}else return c.C}function te(a,b){return 0<=b&&b<a.G?se(a,b):re(b,a.G)}
var ue=function ue(a,b,c,d,e){var h=ne(c);if(0===b)h.C[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.C[k];a=ue.aa?ue.aa(a,b,c,d,e):ue.call(null,a,b,c,d,e);h.C[k]=a}return h},ve=function ve(a,b,c){var e=a.G-2>>>b&31;if(5<b){b-=5;var f=c.C[e];a=ve.D?ve.D(a,b,f):ve.call(null,a,b,f);if(null==a&&0===e)return null;c=ne(c);c.C[e]=a;return c}if(0===e)return null;c=ne(c);c.C[e]=null;return c};function we(a,b,c,d,e,f){this.i=a;this.base=b;this.C=c;this.v=d;this.start=e;this.end=f}
we.prototype.pa=function(){return this.i<this.end};we.prototype.next=function(){32===this.i-this.base&&(this.C=se(this.v,this.i),this.base+=32);var a=this.C[this.i&31];this.i+=1;return a};function xe(a,b,c){return new we(b,b-b%32,b<R(a)?se(a,b):null,a,b,c)}function ye(a,b,c,d){return c<d?ze(a,b,Ec(a,c),c+1,d):b.O?b.O():b.call(null)}
function ze(a,b,c,d,e){var f=c;c=d;for(d=se(a,d);;)if(c<e){var h=c&31;d=0===h?se(a,c):d;h=d[h];f=b.B?b.B(f,h):b.call(null,f,h);if(vc(f))return F(f);c+=1}else return f}function Y(a,b,c,d,e,f){this.meta=a;this.G=b;this.shift=c;this.root=d;this.tail=e;this.N=f;this.F=167666463;this.P=139268}g=Y.prototype;g.tb=function(a,b){return 0<=b&&b<this.G?new Ae(b,se(this,b)[b&31]):null};g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
g.Db=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=se(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.D?b.D(d,h,k):b.call(null,d,h,k);if(vc(d)){e=d;break a}f+=1}else{e=d;break a}if(vc(e))return F(e);a+=c;d=e}else return d};g.fc=u;g.ea=function(a,b){return te(this,b)[b&31]};g.Aa=function(a,b,c){return 0<=b&&b<this.G?se(this,b)[b&31]:c};
g.mb=function(a,b,c){if(0<=b&&b<this.G)return oe(this)<=b?(a=Ea(this.tail),a[b&31]=c,new Y(this.meta,this.G,this.shift,this.root,a,null)):new Y(this.meta,this.G,this.shift,ue(this,this.shift,this.root,b,c),this.tail,null);if(b===this.G)return this.oa(null,c);throw Error(["Index ",B.j(b)," out of bounds  [0,",B.j(this.G),"]"].join(""));};g.Qa=function(){return xe(this,0,this.G)};g.ha=function(){return this.meta};g.la=function(){return this.G};
g.vb=function(){return 0<this.G?this.ea(null,this.G-1):null};g.wb=function(){if(0===this.G)throw Error("Can't pop empty vector");if(1===this.G)return pb(Kc,this.meta);if(1<this.G-oe(this))return new Y(this.meta,this.G-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=se(this,this.G-2),b=ve(this,this.shift,this.root);b=null==b?Z:b;var c=this.G-1;return 5<this.shift&&null==b.C[1]?new Y(this.meta,c,this.shift-5,b.C[0],a,null):new Y(this.meta,c,this.shift,b,a,null)};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){if(b instanceof Y)if(this.G===R(b))for(a=this.Qa(null),b=b.Qa(null);;)if(a.pa()){var c=a.next(),d=b.next();if(!P.B(c,d))return!1}else return!0;else return!1;else return Hc(this,b)};g.sb=function(){return new Be(this.G,this.shift,Ce.j?Ce.j(this.root):Ce.call(null,this.root),De.j?De.j(this.tail):De.call(null,this.tail))};g.ma=function(){return pb(Kc,this.meta)};g.qa=function(a,b){return ye(this,b,0,this.G)};
g.ra=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=se(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.B?b.B(d,h):b.call(null,d,h);if(vc(d)){e=d;break a}f+=1}else{e=d;break a}if(vc(e))return F(e);a+=c;d=e}else return d};g.ab=function(a,b,c){if("number"===typeof b)return this.mb(null,b,c);throw Error("Vector's key for assoc must be a number.");};g.lb=function(a,b){return hd(b)?0<=b&&b<this.G:!1};
g.ja=function(){if(0===this.G)return null;if(32>=this.G)return new K(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.C[0];else{a=a.C;break a}}return Ee?Ee(this,a,0,0):Fe.call(null,this,a,0,0)};g.ka=function(a,b){return b===this.meta?this:new Y(b,this.G,this.shift,this.root,this.tail,this.N)};
g.oa=function(a,b){if(32>this.G-oe(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new Y(this.meta,this.G+1,this.shift,this.root,c,null)}a=(c=this.G>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=me(null),c.C[0]=this.root,d=pe(null,this.shift,new le(null,this.tail)),c.C[1]=d):c=qe(this,this.shift,this.root,new le(null,this.tail));return new Y(this.meta,this.G+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){if("number"===typeof a)return this.ea(null,a);throw Error("Key must be integer");};
var Z=new le(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Kc=new Y(null,0,5,Z,[],qc);function Ge(a,b){var c=a.length;a=b?a:Ea(a);if(32>c)return new Y(null,c,5,Z,a,null);var d=a.slice(0,32);b=32;for(var e=(new Y(null,32,5,Z,d,null)).sb(null);;)if(b<c)d=b+1,e=Ib(e,a[b]),b=d;else return Jb(e)}Y.prototype[Da]=function(){return nc(this)};
function He(a){return x(Ie.j?Ie.j(a):Ie.call(null,a))?new Y(null,2,5,Z,[Je.j?Je.j(a):Je.call(null,a),Ke.j?Ke.j(a):Ke.call(null,a)],null):bd(a)?Sc(a,null):Ba(a)?Ge(a,!0):Jb(Ga(Ib,Hb(Kc),a))}var Le=function Le(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return Le.K(c)};Le.K=function(a){return a instanceof K&&0===a.i?Ge(a.C,!Ba(a.C)):He(a)};Le.$=0;Le.ba=function(a){return this.K(J(a))};
function Me(a,b,c,d,e){this.Ba=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.N=null;this.F=32375020;this.P=1536}g=Me.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){if(this.off+1<this.node.length){var a=this.Ba;var b=this.node,c=this.i,d=this.off+1;a=Ee?Ee(a,b,c,d):Fe.call(null,a,b,c,d);return null==a?null:a}return this.vc()};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return ye(this.Ba,b,this.i+this.off,R(this.Ba))};g.ra=function(a,b,c){return ze(this.Ba,b,c,this.i+this.off,R(this.Ba))};g.wa=function(){return this.node[this.off]};g.xa=function(){if(this.off+1<this.node.length){var a=this.Ba;var b=this.node,c=this.i,d=this.off+1;a=Ee?Ee(a,b,c,d):Fe.call(null,a,b,c,d);return null==a?lc:a}return this.Rb(null)};g.ja=function(){return this};
g.hc=function(){var a=this.node;return new Cd(a,this.off,a.length)};g.Rb=function(){var a=this.i+this.node.length;if(a<Ma(this.Ba)){var b=this.Ba,c=se(this.Ba,a);return Ee?Ee(b,c,a,0):Fe.call(null,b,c,a,0)}return lc};g.ka=function(a,b){return b===this.meta?this:Ne?Ne(this.Ba,this.node,this.i,this.off,b):Fe.call(null,this.Ba,this.node,this.i,this.off,b)};g.oa=function(a,b){return U(b,this)};
g.vc=function(){var a=this.i+this.node.length;if(a<Ma(this.Ba)){var b=this.Ba,c=se(this.Ba,a);return Ee?Ee(b,c,a,0):Fe.call(null,b,c,a,0)}return null};Me.prototype[Da]=function(){return nc(this)};
function Fe(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Me(b,te(b,c),c,d,null);case 4:return Ee(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ne(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function Ee(a,b,c,d){return new Me(a,b,c,d,null)}function Ne(a,b,c,d,e){return new Me(a,b,c,d,e)}
function Oe(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.N=e;this.F=167666463;this.P=139264}g=Oe.prototype;g.tb=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new Ae(b,Ya(this.v,a)):null};g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
g.Db=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=Sa(this.v,a);c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(vc(c))return F(c);d+=1;a+=1}else return c};g.ea=function(a,b){return 0>b||this.end<=this.start+b?re(b,this.end-this.start):Sa(this.v,this.start+b)};g.Aa=function(a,b,c){return 0>b||this.end<=this.start+b?c:Sa(this.v,this.start+b,c)};
g.mb=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",B.j(b)," out of bounds [0,",B.j(this.la(null)),"]"].join(""));b=this.meta;c=W.D(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return Pe.aa?Pe.aa(b,c,d,a,null):Pe.call(null,b,c,d,a,null)};g.Qa=function(){return null!=this.v&&u===this.v.fc?xe(this.v,this.start,this.end):new Xd(this)};g.ha=function(){return this.meta};g.la=function(){return this.end-this.start};
g.vb=function(){return this.start===this.end?null:Sa(this.v,this.end-1)};g.wb=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return Pe.aa?Pe.aa(a,b,c,d,null):Pe.call(null,a,b,c,d,null)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return pb(Kc,this.meta)};
g.qa=function(a,b){return null!=this.v&&u===this.v.fc?ye(this.v,b,this.start,this.end):xc(this,b)};g.ra=function(a,b,c){return null!=this.v&&u===this.v.fc?ze(this.v,b,c,this.start,this.end):yc(this,b,c)};g.ab=function(a,b,c){if("number"===typeof b)return this.mb(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.lb=function(a,b){return hd(b)?0<=b&&b<this.end-this.start:!1};
g.ja=function(){var a=this;return function d(c){return c===a.end?null:U(Sa(a.v,c),new zd(null,function(){return d(c+1)},null))}(a.start)};g.ka=function(a,b){return b===this.meta?this:Pe.aa?Pe.aa(b,this.v,this.start,this.end,this.N):Pe.call(null,b,this.v,this.start,this.end,this.N)};g.oa=function(a,b){a=this.meta;b=mb(this.v,this.end,b);var c=this.start,d=this.end+1;return Pe.aa?Pe.aa(a,b,c,d,null):Pe.call(null,a,b,c,d,null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ea(null,a)};g.B=function(a,b){return this.Aa(null,a,b)};Oe.prototype[Da]=function(){return nc(this)};
function Pe(a,b,c,d,e){for(;;)if(b instanceof Oe)c=b.start+c,d=b.start+d,b=b.v;else{if(!bd(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>R(b))throw Error("Index out of bounds");return new Oe(a,b,c,d,e)}}function Qe(a,b){return a===b.da?b:new le(a,Ea(b.C))}function Ce(a){return new le({},Ea(a.C))}
function De(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];dd(a,0,b,0,a.length);return b}var Re=function Re(a,b,c,d){c=Qe(a.root.da,c);var f=a.G-1>>>b&31;if(5===b)a=d;else{var h=c.C[f];null!=h?(b-=5,a=Re.T?Re.T(a,b,h,d):Re.call(null,a,b,h,d)):a=pe(a.root.da,b-5,d)}c.C[f]=a;return c};function Be(a,b,c,d){this.G=a;this.shift=b;this.root=c;this.tail=d;this.P=88;this.F=275}g=Be.prototype;
g.yb=function(a,b){if(this.root.da){if(32>this.G-oe(this))this.tail[this.G&31]=b;else{a=new le(this.root.da,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.G>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=pe(this.root.da,this.shift,a),this.root=new le(this.root.da,b),this.shift=c):this.root=Re(this,this.shift,this.root,a)}this.G+=1;return this}throw Error("conj! after persistent!");};g.Hb=function(){if(this.root.da){this.root.da=null;var a=this.G-oe(this),b=Array(a);dd(this.tail,0,b,0,a);return new Y(null,this.G,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.xb=function(a,b,c){if("number"===typeof b)return Se(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Se(a,b,c){if(a.root.da){if(0<=b&&b<a.G){if(oe(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=Qe(a.root.da,h);if(0===f)h.C[b&31]=c;else{var l=b>>>f&31;f=k(f-5,h.C[l]);h.C[l]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.G)return a.yb(null,c);throw Error(["Index ",B.j(b)," out of bounds for TransientVector of length",B.j(a.G)].join(""));}throw Error("assoc! after persistent!");}g.la=function(){if(this.root.da)return this.G;throw Error("count after persistent!");};
g.ea=function(a,b){if(this.root.da)return te(this,b)[b&31];throw Error("nth after persistent!");};g.Aa=function(a,b,c){return 0<=b&&b<this.G?this.ea(null,b):c};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){if(this.root.da)return"number"===typeof b?this.Aa(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};function Te(){this.F=2097152;this.P=0}Te.prototype.fa=function(){return!1};var Ue=new Te;
function Ve(a,b){return fd($c(b)&&!ad(b)?R(a)===R(b)?(null!=a?a.F&1048576||u===a.vd||(a.F?0:y(tb,a)):y(tb,a))?od(function(c,d,e){return P.B(H.D(b,d,Ue),e)?!0:new uc},!0,a):Yd(function(c){return P.B(H.D(b,N(c),Ue),N(O(c)))},a):null:null)}function We(a){this.s=a}We.prototype.next=function(){if(null!=this.s){var a=N(this.s),b=V(a,0,null);a=V(a,1,null);this.s=O(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Xe(a){this.s=a}
Xe.prototype.next=function(){if(null!=this.s){var a=N(this.s);this.s=O(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Ye(a,b){if(b instanceof I)a:{var c=a.length;b=b.Ra;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof I&&b===a[d].Ra){a=d;break a}d+=2}}else if("string"===typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof gc)a:for(c=a.length,b=b.jb,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof gc&&b===a[d].jb){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(P.B(b,a[d])){a=d;break a}d+=2}return a}function Ae(a,b){this.key=a;this.R=b;this.N=null;this.F=166619935;this.P=0}g=Ae.prototype;g.tb=function(a,b){switch(b){case 0:return new Ae(0,this.key);case 1:return new Ae(1,this.R);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ya=function(a,b){return this.Aa(null,b,null)};g.ca=function(a,b,c){return this.Aa(null,b,c)};g.ea=function(a,b){if(0===b)return this.key;if(1===b)return this.R;throw Error("Index out of bounds");};
g.Aa=function(a,b,c){return 0===b?this.key:1===b?this.R:c};g.mb=function(a,b,c){return(new Y(null,2,5,Z,[this.key,this.R],null)).mb(null,b,c)};g.ha=function(){return null};g.la=function(){return 2};g.Xc=function(){return this.key};g.Yc=function(){return this.R};g.vb=function(){return this.R};g.wb=function(){return new Y(null,1,5,Z,[this.key],null)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return null};
g.qa=function(a,b){return xc(this,b)};g.ra=function(a,b,c){return yc(this,b,c)};g.ab=function(a,b,c){return W.D(new Y(null,2,5,Z,[this.key,this.R],null),b,c)};g.lb=function(a,b){return 0===b||1===b};g.ja=function(){return new K([this.key,this.R],0,null)};g.ka=function(a,b){return Sc(new Y(null,2,5,Z,[this.key,this.R],null),b)};g.oa=function(a,b){return new Y(null,3,5,Z,[this.key,this.R,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ea(null,a)};g.B=function(a,b){return this.Aa(null,a,b)};function Ie(a){return null!=a?a.F&2048||u===a.yd?!0:!1:!1}function Ze(a,b,c){this.C=a;this.i=b;this.Ya=c;this.F=32374990;this.P=0}g=Ze.prototype;
g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){return this.i<this.C.length-2?new Ze(this.C,this.i+2,null):null};g.la=function(){return(this.C.length-this.i)/2};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return new Ae(this.C[this.i],this.C[this.i+1])};g.xa=function(){return this.i<this.C.length-2?new Ze(this.C,this.i+2,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Ze(this.C,this.i,b)};g.oa=function(a,b){return U(b,this)};Ze.prototype[Da]=function(){return nc(this)};
function $e(a,b){this.C=a;this.i=0;this.G=b}$e.prototype.pa=function(){return this.i<this.G};$e.prototype.next=function(){var a=new Ae(this.C[this.i],this.C[this.i+1]);this.i+=2;return a};function v(a,b,c,d){this.meta=a;this.G=b;this.C=c;this.N=d;this.F=16647951;this.P=139268}g=v.prototype;g.tb=function(a,b){a=Ye(this.C,b);return-1===a?null:new Ae(this.C[a],this.C[a+1])};g.toString=function(){return Wb(this)};g.keys=function(){return nc(af.j?af.j(this):af.call(null,this))};g.entries=function(){return new We(J(J(this)))};
g.values=function(){return nc(bf.j?bf.j(this):bf.call(null,this))};g.has=function(a){return id(this,a)};g.get=function(a,b){return this.ca(null,a,b)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};
g.ca=function(a,b,c){a=Ye(this.C,b);return-1===a?c:this.C[a+1]};g.Db=function(a,b,c){a=this.C.length;for(var d=0;;)if(d<a){var e=this.C[d],f=this.C[d+1];c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(vc(c))return F(c);d+=2}else return c};g.Qa=function(){return new $e(this.C,2*this.G)};g.ha=function(){return this.meta};g.la=function(){return this.G};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=rc(this)};
g.fa=function(a,b){if($c(b)&&!ad(b))if(a=this.C.length,this.G===b.la(null))for(var c=0;;)if(c<a){var d=b.ca(null,this.C[c],ed);if(d!==ed)if(P.B(this.C[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.sb=function(){return new cf(this.C.length,Ea(this.C))};g.ma=function(){return pb(Td,this.meta)};g.qa=function(a,b){return ld(this,b)};g.ra=function(a,b,c){return md(this,b,c)};
g.jc=function(a,b){if(0<=Ye(this.C,b)){a=this.C.length;var c=a-2;if(0===c)return this.ma(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new v(this.meta,this.G-1,c,null);P.B(b,this.C[d])?d+=2:(c[e]=this.C[d],c[e+1]=this.C[d+1],e+=2,d+=2)}}else return this};
g.ab=function(a,b,c){a=Ye(this.C,b);if(-1===a){if(this.G<df){a=this.C;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new v(this.meta,this.G+1,e,null)}return pb(bb(ie.B(ef,this),b,c),this.meta)}if(c===this.C[a+1])return this;b=Ea(this.C);b[a+1]=c;return new v(this.meta,this.G,b,null)};g.lb=function(a,b){return-1!==Ye(this.C,b)};g.ja=function(){var a=this.C;return 0<=a.length-2?new Ze(a,0,null):null};
g.ka=function(a,b){return b===this.meta?this:new v(b,this.G,this.C,this.N)};g.oa=function(a,b){if(bd(b))return this.ab(null,Sa(b,0),Sa(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=N(b);if(bd(c))a=bb(a,Sa(c,0),Sa(c,1)),b=O(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};var Td=new v(null,0,[],sc),df=8;function ff(a,b){return a===b?!0:a===b||a instanceof I&&b instanceof I&&a.Ra===b.Ra?!0:P.B(a,b)}
function gf(a){for(var b=0,c=0;;)if(b<a.length){var d;a:for(d=0;;)if(d<b){var e=ff(a[b],a[d]);if(e){d=e;break a}d=2+d}else{d=!1;break a}c=d?c:c+2;b=2+b}else return c}function hf(a,b){var c=a.length-1,d=J(b);b=Array(c+2*R(d));a=dd(a,0,b,0,c);for(b=c;;)if(d){var e=N(d);a[b]=fb(e);a[b+1]=gb(e);b=2+c;d=O(d)}else return a}
function Nc(a){var b=a.length,c=1===(b&1),d;if(!(d=c))a:for(d=0;;)if(d<a.length){var e;b:for(e=0;;)if(e<d){var f=ff(a[d],a[e]);if(f){e=f;break b}e=2+e}else{e=!1;break b}if(e){d=e;break a}d=2+d}else{d=!1;break a}return d?jf(a,c):new v(null,b/2,a,null)}
function jf(a,b){var c=b?hf(a,ie.B(Td,a[a.length-1])):a;a=gf(c);var d=c.length;if(a<d){a=Array(a);for(var e=0,f=0;;)if(e<d)(function(){for(var h=0;;)if(h<f){var k=ff(c[e],c[h]);if(k)return k;h=2+h}else return!1})()?(b=f,e=2+e,f=b):(b=function(){for(var h=d-2;;)if(h>=e){if(ff(c[e],c[h]))return h;h-=2}else return h}(),a[f]=c[e],a[f+1]=c[b+1],b=2+f,e=2+e,f=b);else break;return new v(null,a.length/2,a,null)}return new v(null,c.length/2,c,null)}v.prototype[Da]=function(){return nc(this)};
function cf(a,b){this.zb={};this.pb=a;this.C=b;this.F=259;this.P=56}g=cf.prototype;g.la=function(){if(this.zb)return td(this.pb);throw Error("count after persistent!");};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){if(this.zb)return a=Ye(this.C,b),-1===a?c:this.C[a+1];throw Error("lookup after persistent!");};
g.yb=function(a,b){if(this.zb){if(Ie(b))return this.xb(null,Je.j?Je.j(b):Je.call(null,b),Ke.j?Ke.j(b):Ke.call(null,b));if(bd(b))return this.xb(null,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));a=J(b);for(b=this;;){var c=N(a);if(x(c))a=O(a),b=Kb(b,Je.j?Je.j(c):Je.call(null,c),Ke.j?Ke.j(c):Ke.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.Hb=function(){if(this.zb)return this.zb=!1,new v(null,td(this.pb),this.C,null);throw Error("persistent! called twice");};
g.xb=function(a,b,c){if(this.zb){a=Ye(this.C,b);if(-1===a){if(this.pb+2<=2*df)return this.pb+=2,this.C.push(b),this.C.push(c),this;a=kf.B?kf.B(this.pb,this.C):kf.call(null,this.pb,this.C);return Kb(a,b,c)}c!==this.C[a+1]&&(this.C[a+1]=c);return this}throw Error("assoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ca(null,a,null)};g.B=function(a,b){return this.ca(null,a,b)};function kf(a,b){for(var c=Hb(ef),d=0;;)if(d<a)c=Kb(c,b[d],b[d+1]),d+=2;else return c}function lf(){this.R=!1}function mf(a,b,c){a=Ea(a);a[b]=c;return a}function nf(a,b){var c=Array(a.length-2);dd(a,0,c,0,2*b);dd(a,2*(b+1),c,2*b,c.length-2*b);return c}function of(a,b,c,d){a=a.ob(b);a.C[c]=d;return a}
function pf(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.D?b.D(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Mb(b,f):f;if(vc(c))return c;e+=2;f=c}else return f}function qf(a){this.C=a;this.i=0;this.Wa=this.Nb=null}qf.prototype.advance=function(){for(var a=this.C.length;;)if(this.i<a){var b=this.C[this.i],c=this.C[this.i+1];null!=b?b=this.Nb=new Ae(b,c):null!=c?(b=Ub(c),b=b.pa()?this.Wa=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
qf.prototype.pa=function(){var a=null!=this.Nb;return a?a:(a=null!=this.Wa)?a:this.advance()};qf.prototype.next=function(){if(null!=this.Nb){var a=this.Nb;this.Nb=null;return a}if(null!=this.Wa)return a=this.Wa.next(),this.Wa.pa()||(this.Wa=null),a;if(this.advance())return this.next();throw Error("No such element");};qf.prototype.remove=function(){return Error("Unsupported operation")};function rf(a,b,c){this.da=a;this.bitmap=b;this.C=c;this.P=131072;this.F=0}g=rf.prototype;
g.ob=function(a){if(a===this.da)return this;var b=ud(this.bitmap),c=Array(0>b?4:2*(b+1));dd(this.C,0,c,0,2*b);return new rf(a,this.bitmap,c)};g.Kb=function(){return sf?sf(this.C):tf.call(null,this.C)};g.Mb=function(a,b){return pf(this.C,a,b)};g.hb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ud(this.bitmap&e-1);e=this.C[2*f];f=this.C[2*f+1];return null==e?f.hb(a+5,b,c,d):ff(c,e)?f:d};
g.Ua=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=ud(this.bitmap&h-1);if(0===(this.bitmap&h)){var l=ud(this.bitmap);if(2*l<this.C.length){a=this.ob(a);b=a.C;f.R=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=uf.Ua(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0===
(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.C[e]?uf.Ua(a,b+5,ec(this.C[e]),this.C[e],this.C[e+1],f):this.C[e+1],e+=2,d+=1);else break;return new vf(a,l+1,k)}b=Array(2*(l+4));dd(this.C,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;dd(this.C,2*k,b,2*(k+1),2*(l-k));f.R=!0;a=this.ob(a);a.C=b;a.bitmap|=h;return a}l=this.C[2*k];h=this.C[2*k+1];if(null==l)return l=h.Ua(a,b+5,c,d,e,f),l===h?this:of(this,a,2*k+1,l);if(ff(d,l))return e===h?this:of(this,a,2*k+1,e);f.R=!0;f=b+5;d=wf?wf(a,f,l,h,c,d,e):xf.call(null,a,f,l,h,c,d,
e);e=2*k;k=2*k+1;a=this.ob(a);a.C[e]=null;a.C[k]=d;return a};
g.Ta=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=ud(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=ud(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=uf.Ta(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.C[d]?uf.Ta(a+5,ec(this.C[d]),this.C[d],this.C[d+1],e):this.C[d+1],d+=2,c+=1);else break;return new vf(null,k+1,h)}a=Array(2*
(k+1));dd(this.C,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;dd(this.C,2*h,a,2*(h+1),2*(k-h));e.R=!0;return new rf(null,this.bitmap|f,a)}var l=this.C[2*h];f=this.C[2*h+1];if(null==l)return k=f.Ta(a+5,b,c,d,e),k===f?this:new rf(null,this.bitmap,mf(this.C,2*h+1,k));if(ff(c,l))return d===f?this:new rf(null,this.bitmap,mf(this.C,2*h+1,d));e.R=!0;e=this.bitmap;k=this.C;a+=5;a=yf?yf(a,l,f,b,c,d):xf.call(null,a,l,f,b,c,d);c=2*h;h=2*h+1;d=Ea(k);d[c]=null;d[h]=a;return new rf(null,e,d)};
g.Jb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ud(this.bitmap&e-1);e=this.C[2*f];f=this.C[2*f+1];return null==e?f.Jb(a+5,b,c,d):ff(c,e)?new Ae(e,f):d};
g.Lb=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=ud(this.bitmap&d-1),f=this.C[2*e],h=this.C[2*e+1];return null==f?(a=h.Lb(a+5,b,c),a===h?this:null!=a?new rf(null,this.bitmap,mf(this.C,2*e+1,a)):this.bitmap===d?null:new rf(null,this.bitmap^d,nf(this.C,e))):ff(c,f)?this.bitmap===d?null:new rf(null,this.bitmap^d,nf(this.C,e)):this};g.Qa=function(){return new qf(this.C)};var uf=new rf(null,0,[]);function zf(a){this.C=a;this.i=0;this.Wa=null}
zf.prototype.pa=function(){for(var a=this.C.length;;){if(null!=this.Wa&&this.Wa.pa())return!0;if(this.i<a){var b=this.C[this.i];this.i+=1;null!=b&&(this.Wa=Ub(b))}else return!1}};zf.prototype.next=function(){if(this.pa())return this.Wa.next();throw Error("No such element");};zf.prototype.remove=function(){return Error("Unsupported operation")};function vf(a,b,c){this.da=a;this.G=b;this.C=c;this.P=131072;this.F=0}g=vf.prototype;g.ob=function(a){return a===this.da?this:new vf(a,this.G,Ea(this.C))};
g.Kb=function(){return Af?Af(this.C):Bf.call(null,this.C)};g.Mb=function(a,b){for(var c=this.C.length,d=0;;)if(d<c){var e=this.C[d];if(null!=e){b=e.Mb(a,b);if(vc(b))return b;d+=1}else d+=1}else return b};g.hb=function(a,b,c,d){var e=this.C[b>>>a&31];return null!=e?e.hb(a+5,b,c,d):d};g.Ua=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.C[h];if(null==k)return a=of(this,a,h,uf.Ua(a,b+5,c,d,e,f)),a.G+=1,a;b=k.Ua(a,b+5,c,d,e,f);return b===k?this:of(this,a,h,b)};
g.Ta=function(a,b,c,d,e){var f=b>>>a&31,h=this.C[f];if(null==h)return new vf(null,this.G+1,mf(this.C,f,uf.Ta(a+5,b,c,d,e)));a=h.Ta(a+5,b,c,d,e);return a===h?this:new vf(null,this.G,mf(this.C,f,a))};g.Jb=function(a,b,c,d){var e=this.C[b>>>a&31];return null!=e?e.Jb(a+5,b,c,d):d};
g.Lb=function(a,b,c){var d=b>>>a&31,e=this.C[d];if(null!=e){a=e.Lb(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.G)a:{e=this.C;a=e.length;b=Array(2*(this.G-1));c=0;for(var f=1,h=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,h|=1<<c,c+=1):c+=1;else{d=new rf(null,h,b);break a}}else d=new vf(null,this.G-1,mf(this.C,d,a));else d=new vf(null,this.G,mf(this.C,d,a));return d}return this};g.Qa=function(){return new zf(this.C)};
function Cf(a,b,c){b*=2;for(var d=0;;)if(d<b){if(ff(c,a[d]))return d;d+=2}else return-1}function Df(a,b,c,d){this.da=a;this.bb=b;this.G=c;this.C=d;this.P=131072;this.F=0}g=Df.prototype;g.ob=function(a){if(a===this.da)return this;var b=Array(2*(this.G+1));dd(this.C,0,b,0,2*this.G);return new Df(a,this.bb,this.G,b)};g.Kb=function(){return sf?sf(this.C):tf.call(null,this.C)};g.Mb=function(a,b){return pf(this.C,a,b)};
g.hb=function(a,b,c,d){a=Cf(this.C,this.G,c);return 0>a?d:ff(c,this.C[a])?this.C[a+1]:d};
g.Ua=function(a,b,c,d,e,f){if(c===this.bb){b=Cf(this.C,this.G,d);if(-1===b){if(this.C.length>2*this.G)return b=2*this.G,c=2*this.G+1,a=this.ob(a),a.C[b]=d,a.C[c]=e,f.R=!0,a.G+=1,a;c=this.C.length;b=Array(c+2);dd(this.C,0,b,0,c);b[c]=d;b[c+1]=e;f.R=!0;d=this.G+1;a===this.da?(this.C=b,this.G=d,a=this):a=new Df(this.da,this.bb,d,b);return a}return this.C[b+1]===e?this:of(this,a,b+1,e)}return(new rf(a,1<<(this.bb>>>b&31),[null,this,null,null])).Ua(a,b,c,d,e,f)};
g.Ta=function(a,b,c,d,e){return b===this.bb?(a=Cf(this.C,this.G,c),-1===a?(a=2*this.G,b=Array(a+2),dd(this.C,0,b,0,a),b[a]=c,b[a+1]=d,e.R=!0,new Df(null,this.bb,this.G+1,b)):P.B(this.C[a+1],d)?this:new Df(null,this.bb,this.G,mf(this.C,a+1,d))):(new rf(null,1<<(this.bb>>>a&31),[null,this])).Ta(a,b,c,d,e)};g.Jb=function(a,b,c,d){a=Cf(this.C,this.G,c);return 0>a?d:ff(c,this.C[a])?new Ae(this.C[a],this.C[a+1]):d};
g.Lb=function(a,b,c){a=Cf(this.C,this.G,c);return-1===a?this:1===this.G?null:new Df(null,this.bb,this.G-1,nf(this.C,td(a)))};g.Qa=function(){return new qf(this.C)};function xf(a){switch(arguments.length){case 6:return yf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return wf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}
function yf(a,b,c,d,e,f){var h=ec(b);if(h===d)return new Df(null,h,2,[b,c,e,f]);var k=new lf;return uf.Ta(a,h,b,c,k).Ta(a,d,e,f,k)}function wf(a,b,c,d,e,f,h){var k=ec(c);if(k===e)return new Df(null,k,2,[c,d,f,h]);var l=new lf;return uf.Ua(a,b,k,c,d,l).Ua(a,b,e,f,h,l)}function Ef(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.N=e;this.F=32374988;this.P=0}g=Ef.prototype;g.toString=function(){return Wb(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return Ff?Ff(a,b,null):tf.call(null,a,b,null)}a=this.nodes;b=this.i;var c=O(this.s);return Ff?Ff(a,b,c):tf.call(null,a,b,c)};
g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return null==this.s?new Ae(this.nodes[this.i],this.nodes[this.i+1]):N(this.s)};
g.xa=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return Ff?Ff(c,d,null):tf.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=O(a.s);return Ff?Ff(c,d,e):tf.call(null,c,d,e)}();return null!=b?b:lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Ef(b,this.nodes,this.i,this.s,this.N)};g.oa=function(a,b){return U(b,this)};Ef.prototype[Da]=function(){return nc(this)};
function tf(a){switch(arguments.length){case 1:return sf(arguments[0]);case 3:return Ff(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function sf(a){return Ff(a,0,null)}function Ff(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Ef(null,a,b,null,null);var d=a[b+1];if(x(d)&&(d=d.Kb(),x(d)))return new Ef(null,a,b+2,d,null);b+=2}else return null;else return new Ef(null,a,b,c,null)}
function Gf(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.N=e;this.F=32374988;this.P=0}g=Gf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.meta};g.va=function(){var a=this.nodes,b=this.i,c=O(this.s);return Hf?Hf(a,b,c):Bf.call(null,a,b,c)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return N(this.s)};g.xa=function(){var a=this.nodes;var b=this.i,c=O(this.s);a=Hf?Hf(a,b,c):Bf.call(null,a,b,c);return null!=a?a:lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Gf(b,this.nodes,this.i,this.s,this.N)};g.oa=function(a,b){return U(b,this)};Gf.prototype[Da]=function(){return nc(this)};
function Bf(a){switch(arguments.length){case 1:return Af(arguments[0]);case 3:return Hf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function Af(a){return Hf(a,0,null)}function Hf(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(x(d)&&(d=d.Kb(),x(d)))return new Gf(null,a,b+1,d,null);b+=1}else return null;else return new Gf(null,a,b,c,null)}function If(a,b){this.ta=a;this.Lc=b;this.seen=!1}
If.prototype.pa=function(){return!this.seen||this.Lc.pa()};If.prototype.next=function(){if(this.seen)return this.Lc.next();this.seen=!0;return new Ae(null,this.ta)};If.prototype.remove=function(){return Error("Unsupported operation")};function Jf(a,b,c,d,e,f){this.meta=a;this.G=b;this.root=c;this.sa=d;this.ta=e;this.N=f;this.F=16123663;this.P=139268}g=Jf.prototype;g.tb=function(a,b){return null==b?this.sa?new Ae(null,this.ta):null:null==this.root?null:this.root.Jb(0,ec(b),b,null)};g.toString=function(){return Wb(this)};
g.keys=function(){return nc(af.j?af.j(this):af.call(null,this))};g.entries=function(){return new We(J(J(this)))};g.values=function(){return nc(bf.j?bf.j(this):bf.call(null,this))};g.has=function(a){return id(this,a)};g.get=function(a,b){return this.ca(null,a,b)};
g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return null==b?this.sa?this.ta:c:null==this.root?c:this.root.hb(0,ec(b),b,c)};
g.Db=function(a,b,c){a=this.sa?b.D?b.D(c,null,this.ta):b.call(null,c,null,this.ta):c;vc(a)?b=F(a):null!=this.root?(b=this.root.Mb(b,a),b=vc(b)?wc.j?wc.j(b):wc.call(null,b):b):b=a;return b};g.Qa=function(){var a=this.root?Ub(this.root):Ud();return this.sa?new If(this.ta,a):a};g.ha=function(){return this.meta};g.la=function(){return this.G};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=rc(this)};g.fa=function(a,b){return Ve(this,b)};g.sb=function(){return new Kf(this.root,this.G,this.sa,this.ta)};
g.ma=function(){return pb(ef,this.meta)};g.jc=function(a,b){if(null==b)return this.sa?new Jf(this.meta,this.G-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Lb(0,ec(b),b);return a===this.root?this:new Jf(this.meta,this.G-1,a,this.sa,this.ta,null)};
g.ab=function(a,b,c){if(null==b)return this.sa&&c===this.ta?this:new Jf(this.meta,this.sa?this.G:this.G+1,this.root,!0,c,null);a=new lf;b=(null==this.root?uf:this.root).Ta(0,ec(b),b,c,a);return b===this.root?this:new Jf(this.meta,a.R?this.G+1:this.G,b,this.sa,this.ta,null)};g.lb=function(a,b){return null==b?this.sa:null==this.root?!1:this.root.hb(0,ec(b),b,ed)!==ed};g.ja=function(){if(0<this.G){var a=null!=this.root?this.root.Kb():null;return this.sa?U(new Ae(null,this.ta),a):a}return null};
g.ka=function(a,b){return b===this.meta?this:new Jf(b,this.G,this.root,this.sa,this.ta,this.N)};g.oa=function(a,b){if(bd(b))return this.ab(null,Sa(b,0),Sa(b,1));a=this;for(b=J(b);;){if(null==b)return a;var c=N(b);if(bd(c))a=bb(a,Sa(c,0),Sa(c,1)),b=O(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};var ef=new Jf(null,0,null,!1,null,sc);Jf.prototype[Da]=function(){return nc(this)};
function Kf(a,b,c,d){this.da={};this.root=a;this.count=b;this.sa=c;this.ta=d;this.F=259;this.P=56}function Lf(a,b,c){if(a.da){if(null==b)a.ta!==c&&(a.ta=c),a.sa||(a.count+=1,a.sa=!0);else{var d=new lf;b=(null==a.root?uf:a.root).Ua(a.da,0,ec(b),b,c,d);b!==a.root&&(a.root=b);d.R&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=Kf.prototype;g.la=function(){if(this.da)return this.count;throw Error("count after persistent!");};
g.ya=function(a,b){return null==b?this.sa?this.ta:null:null==this.root?null:this.root.hb(0,ec(b),b)};g.ca=function(a,b,c){return null==b?this.sa?this.ta:c:null==this.root?c:this.root.hb(0,ec(b),b,c)};
g.yb=function(a,b){a:if(this.da)if(Ie(b))a=Lf(this,Je.j?Je.j(b):Je.call(null,b),Ke.j?Ke.j(b):Ke.call(null,b));else if(bd(b))a=Lf(this,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));else for(a=J(b),b=this;;){var c=N(a);if(x(c))a=O(a),b=Lf(b,Je.j?Je.j(c):Je.call(null,c),Ke.j?Ke.j(c):Ke.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.Hb=function(){if(this.da){this.da=null;var a=new Jf(null,this.count,this.root,this.sa,this.ta,null)}else throw Error("persistent! called twice");return a};g.xb=function(a,b,c){return Lf(this,b,c)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};
g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};function Mf(a,b){this.Y=a;this.Ya=b;this.F=32374988;this.P=0}g=Mf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null==a?null:new Mf(a,null)};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.Y.wa(null).key};g.xa=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null!=a?new Mf(a,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Mf(this.Y,b)};g.oa=function(a,b){return U(b,this)};Mf.prototype[Da]=function(){return nc(this)};
function af(a){return(a=J(a))?new Mf(a,null):null}function Je(a){return fb(a)}function Nf(a,b){this.Y=a;this.Ya=b;this.F=32374988;this.P=0}g=Nf.prototype;g.toString=function(){return Wb(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Q(this,b,0)};a.B=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return S(this,c,d)};return b}();g.ha=function(){return this.Ya};g.va=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null==a?null:new Nf(a,null)};g.ga=function(){return pc(this)};
g.fa=function(a,b){return Hc(this,b)};g.ma=function(){return lc};g.qa=function(a,b){return jd(b,this)};g.ra=function(a,b,c){return kd(b,c,this)};g.wa=function(){return this.Y.wa(null).R};g.xa=function(){var a=(null!=this.Y?this.Y.F&128||u===this.Y.Gb||(this.Y.F?0:y(Wa,this.Y)):y(Wa,this.Y))?this.Y.va():O(this.Y);return null!=a?new Nf(a,null):lc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ya?this:new Nf(this.Y,b)};g.oa=function(a,b){return U(b,this)};Nf.prototype[Da]=function(){return nc(this)};
function bf(a){return(a=J(a))?new Nf(a,null):null}function Ke(a){return gb(a)}var Of=function Of(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new K(c.slice(0),0,null):null;return Of.K(c)};Of.K=function(a){return x(Zd(a))?nd(function(b,c){return Jc.B(x(b)?b:Td,c)},a):null};Of.$=0;Of.ba=function(a){return this.K(J(a))};function Pf(a){for(var b=Td,c=J(Qf);;)if(c){var d=N(c),e=H.D(a,d,Rf);b=P.B(e,Rf)?b:W.D(b,d,e);c=O(c)}else return pb(b,Tc(a))}
function Sf(a){this.Ab=a}Sf.prototype.pa=function(){return this.Ab.pa()};Sf.prototype.next=function(){if(this.Ab.pa())return this.Ab.next().key;throw Error("No such element");};Sf.prototype.remove=function(){return Error("Unsupported operation")};function Tf(a,b,c){this.meta=a;this.cb=b;this.N=c;this.F=15077647;this.P=139268}g=Tf.prototype;g.toString=function(){return Wb(this)};g.keys=function(){return nc(J(this))};g.entries=function(){return new Xe(J(J(this)))};g.values=function(){return nc(J(this))};
g.has=function(a){return id(this,a)};g.forEach=function(a){for(var b=J(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=J(b))cd(b)?(c=Mb(b),b=Nb(b),h=c,d=R(c),c=h):(c=N(b),h=V(c,0,null),f=V(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=O(b),c=null,d=0),e=0;else return null};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){a=cb(this.cb,b);return x(a)?fb(a):c};g.Qa=function(){return new Sf(Ub(this.cb))};g.ha=function(){return this.meta};
g.la=function(){return Ma(this.cb)};g.ga=function(){var a=this.N;return null!=a?a:this.N=a=rc(this)};g.fa=function(a,b){if(a=Xc(b))if(a=R(this)===R(b))try{return od(function(c,d){return(c=id(b,d))?c:new uc},!0,this.cb)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};g.sb=function(){return new Uf(Hb(this.cb))};g.ma=function(){return pb(Vf,this.meta)};g.zc=function(a,b){return new Tf(this.meta,eb(this.cb,b),null)};g.ja=function(){return af(this.cb)};
g.ka=function(a,b){return b===this.meta?this:new Tf(b,this.cb,this.N)};g.oa=function(a,b){return new Tf(this.meta,W.D(this.cb,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return this.ya(null,a)};g.B=function(a,b){return this.ca(null,a,b)};
var Vf=new Tf(null,Td,sc);Tf.prototype[Da]=function(){return nc(this)};function Uf(a){this.qb=a;this.P=136;this.F=259}g=Uf.prototype;g.yb=function(a,b){this.qb=Kb(this.qb,b,null);return this};g.Hb=function(){return new Tf(null,Jb(this.qb),null)};g.la=function(){return R(this.qb)};g.ya=function(a,b){return this.ca(null,b,null)};g.ca=function(a,b,c){return Ya(this.qb,b,ed)===ed?c:b};
g.call=function(a){switch(arguments.length-1){case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.j=function(a){return Ya(this.qb,a,ed)===ed?null:a};g.B=function(a,b){return Ya(this.qb,a,ed)===ed?b:a};
function Wf(a){if(Xc(a))return Sc(a,null);a=J(a);if(null==a)return Vf;if(a instanceof K&&0===a.i){a=a.C;for(var b=a.length,c=Hb(Vf),d=0;;)if(d<b)Ib(c,a[d]),d+=1;else break;return Jb(c)}for(c=Hb(Vf);;)if(null!=a)b=O(a),c=Ib(c,D(a)),a=b;else return Jb(c)}function X(a){if(null!=a&&(a.P&4096||u===a.xc))return a.Eb(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",B.j(a)].join(""));}
function Xf(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&P.B(a[0],b)?1===a.length?a[0]:He(a):null;throw new TypeError("re-matches must match against a string.");}
function Yf(a,b,c,d,e,f,h){var k=ua;ua=null==ua?null:ua-1;try{if(null!=ua&&0>ua)return G(a,"#");G(a,c);if(0===Aa.j(f))J(h)&&G(a,function(){var r=Zf.j(f);return x(r)?r:"..."}());else{if(J(h)){var l=N(h);b.D?b.D(l,a,f):b.call(null,l,a,f)}for(var m=O(h),n=Aa.j(f)-1;;)if(!m||null!=n&&0===n){J(m)&&0===n&&(G(a,d),G(a,function(){var r=Zf.j(f);return x(r)?r:"..."}()));break}else{G(a,d);var p=N(m);c=a;h=f;b.D?b.D(p,c,h):b.call(null,p,c,h);var q=O(m);c=n-1;m=q;n=c}}return G(a,e)}finally{ua=k}}
function $f(a,b){b=J(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e);G(a,f);e+=1}else if(b=J(b))c=b,cd(c)?(b=Mb(c),d=Nb(c),c=b,f=R(b),b=d,d=f):(f=N(c),G(a,f),b=O(c),c=null,d=0),e=0;else return null}var ag={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function bg(a){return['"',B.j(a.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(b){return ag[b]})),'"'].join("")}
function cg(a,b){return(a=fd(H.B(a,ya)))?(a=null!=b?b.F&131072||u===b.Zc?!0:!1:!1)?null!=Tc(b):a:a}
function dg(a,b,c){if(null==a)return G(b,"nil");if(cg(c,a)){G(b,"^");var d=Tc(a);eg.D?eg.D(d,b,c):eg.call(null,d,b,c);G(b," ")}if(a.Ib)return a.Ub(b);if(null!=a?a.F&2147483648||u===a.na||(a.F?0:y(Cb,a)):y(Cb,a))return Db(a,b,c);if(!0===a||!1===a)return G(b,B.j(a));if("number"===typeof a)return G(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":B.j(a));if(null!=a&&a.constructor===Object)return G(b,"#js "),d=de.B(function(f){return new Ae(null!=Xf(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?yd.j(f):f,a[f])},ha(a)),fg.T?fg.T(d,eg,b,c):fg.call(null,d,eg,b,c);if(Ba(a))return Yf(b,eg,"#js ["," ","]",c,a);if("string"===typeof a)return x(xa.j(c))?G(b,bg(a)):G(b,a);if("function"===typeof a){var e=a.name;c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Function":e;return $f(b,Ic(["#object[",c,x(!1)?[' "',B.j(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=B.j(f);;)if(f.length<h)f=["0",f].join("");else return f},$f(b,Ic(['#inst "',c(a.getUTCFullYear(),
4),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return $f(b,Ic(['#"',a.source,'"']));if(Ia(a))return $f(b,Ic(["#object[",a.toString(),"]"]));if(x(function(){var f=null==a?null:a.constructor;return null==f?null:f.nb}()))return $f(b,Ic(["#object[",a.constructor.nb.replace(RegExp("/","g"),"."),"]"]));e=function(){var f=null==a?null:a.constructor;
return null==f?null:f.name}();c=x(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Object":e;return null==a.constructor?$f(b,Ic(["#object[",c,"]"])):$f(b,Ic(["#object[",c," ",B.j(a),"]"]))}function eg(a,b,c){var d=gg.j(c);return x(d)?(c=W.D(c,hg,dg),d.D?d.D(a,b,c):d.call(null,a,b,c)):dg(a,b,c)}
function ig(a){var b=va();if(Vc(a))b="";else{var c=B,d=c.j,e=new pa,f=new Vb(e);eg(N(a),f,b);a=J(O(a));for(var h=null,k=0,l=0;;)if(l<k){var m=h.ea(null,l);G(f," ");eg(m,f,b);l+=1}else if(a=J(a))h=a,cd(h)?(a=Mb(h),k=Nb(h),h=a,m=R(a),a=k,k=m):(m=N(h),G(f," "),eg(m,f,b),a=O(h),h=null,k=0),l=0;else break;b=d.call(c,e)}return b}function jg(a){return a instanceof gc?hc.B(null,X(a)):yd.B(null,X(a))}
function kg(a){if(x(!1)){var b=J(a),c=J(b),d=N(c);O(c);V(d,0,null);V(d,1,null);c=null==a?null:null!=a&&(a.F&4||u===a.Sc)?a.ma(null):(null!=a?a.F&4||u===a.Sc||(a.F?0:y(Na,a)):y(Na,a))?Oa(a):null;for(a=null;;){d=a;b=J(b);a=N(b);var e=O(b),f=a;a=V(f,0,null);b=V(f,1,null);if(x(f))if(a instanceof I||a instanceof gc)if(x(d))if(P.B(d,xd(a)))c=W.D(c,jg(a),b),a=d,b=e;else return null;else if(d=xd(a),x(d))c=W.D(c,jg(a),b),a=d,b=e;else return null;else return null;else return new Y(null,2,5,Z,[d,c],null)}}else return null}
function lg(a,b,c,d,e){return Yf(d,function(f,h,k){var l=fb(f);c.D?c.D(l,h,k):c.call(null,l,h,k);G(h," ");f=gb(f);return c.D?c.D(f,h,k):c.call(null,f,h,k)},[B.j(a),"{"].join(""),", ","}",e,J(b))}function fg(a,b,c,d){var e=$c(a)?kg(a):null,f=V(e,0,null);e=V(e,1,null);return x(f)?lg(["#:",B.j(f)].join(""),e,b,c,d):lg(null,a,b,c,d)}K.prototype.na=u;K.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};zd.prototype.na=u;zd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};
Ae.prototype.na=u;Ae.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};Ef.prototype.na=u;Ef.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Ze.prototype.na=u;Ze.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};oc.prototype.na=u;oc.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Me.prototype.na=u;Me.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};wd.prototype.na=u;
wd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Jf.prototype.na=u;Jf.prototype.ia=function(a,b,c){return fg(this,eg,b,c)};Gf.prototype.na=u;Gf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Oe.prototype.na=u;Oe.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};Tf.prototype.na=u;Tf.prototype.ia=function(a,b,c){return Yf(b,eg,"#{"," ","}",c,this)};Dd.prototype.na=u;Dd.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};
ae.prototype.na=u;ae.prototype.ia=function(a,b,c){G(b,"#object[cljs.core.Atom ");eg(new v(null,1,[mg,this.state],null),b,c);return G(b,"]")};Nf.prototype.na=u;Nf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};he.prototype.na=u;he.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Y.prototype.na=u;Y.prototype.ia=function(a,b,c){return Yf(b,eg,"["," ","]",c,this)};vd.prototype.na=u;vd.prototype.ia=function(a,b){return G(b,"()")};v.prototype.na=u;
v.prototype.ia=function(a,b,c){return fg(this,eg,b,c)};Mf.prototype.na=u;Mf.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};Lc.prototype.na=u;Lc.prototype.ia=function(a,b,c){return Yf(b,eg,"("," ",")",c,this)};var ng=null;function og(a){null==ng&&(ng=new ae(0));return hc.j([B.j(a),B.j(ce.B(ng,tc))].join(""))}function pg(){}
function qg(a){if(null!=a&&null!=a.Uc)a=a.Uc(a);else{var b=qg[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=qg._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IEncodeJS.-clj-\x3ejs",a);}return a}function rg(a,b){return(null!=a?u===a.Tc||(a.Bc?0:y(pg,a)):y(pg,a))?qg(a):"string"===typeof a||"number"===typeof a||a instanceof I||a instanceof gc?b.j?b.j(a):b.call(null,a):ig(Ic([a]))}
var sg=function sg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new K(c.slice(1),0,null):null;return sg.K(arguments[0],c)};
sg.K=function(a,b){b=Sd(b);var c=H.D(b,tg,X),d=function h(f){if(null==f)return null;if(null!=f?u===f.Tc||(f.Bc?0:y(pg,f)):y(pg,f))return qg(f);if(f instanceof I)return c.j?c.j(f):c.call(null,f);if(f instanceof gc)return B.j(f);if($c(f)){var k={};f=J(f);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ea(null,n),q=V(p,0,null);p=V(p,1,null);q=rg(q,d);p=h(p);k[q]=p;n+=1}else if(f=J(f))cd(f)?(m=Mb(f),f=Nb(f),l=m,m=R(m)):(m=N(f),l=V(m,0,null),m=V(m,1,null),l=rg(l,d),m=h(m),k[l]=m,f=O(f),l=null,m=0),n=0;else break;
return k}if(Wc(f)){k=[];f=J(de.B(h,f));l=null;for(n=m=0;;)if(n<m)q=l.ea(null,n),k.push(q),n+=1;else if(f=J(f))l=f,cd(l)?(f=Mb(l),n=Nb(l),l=f,m=R(f),f=n):(f=N(l),k.push(f),f=O(l),l=null,m=0),n=0;else break;return k}return f};return d(a)};sg.$=1;sg.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};var ug=null;function vg(){null==ug&&(ug=new ae(new v(null,3,[wg,Td,xg,Td,yg,Td],null)));return ug}
function zg(a,b,c){var d=P.B(b,c);if(d)return d;d=yg.j(a);d=d.j?d.j(b):d.call(null,b);if(!(d=id(d,c))&&(d=bd(c)))if(d=bd(b))if(d=R(c)===R(b)){d=!0;for(var e=0;;)if(d&&e!==R(c))d=zg(a,b.j?b.j(e):b.call(null,e),c.j?c.j(e):c.call(null,e)),e+=1;else return d}else return d;else return d;else return d}function Ag(a){var b=F(vg());a=H.B(wg.j(b),a);return J(a)?a:null}function Bg(a,b,c,d){ce.B(a,function(){return F(b)});ce.B(c,function(){return F(d)})}
var Cg=function Cg(a,b,c){var e=function(){var f=F(c);return f.j?f.j(a):f.call(null,a)}();e=x(x(e)?e.j?e.j(b):e.call(null,b):e)?!0:null;if(x(e))return e;e=function(){for(var f=Ag(b);;)if(0<R(f)){var h=N(f);Cg.D?Cg.D(a,h,c):Cg.call(null,a,h,c);f=kc(f)}else return null}();if(x(e))return e;e=function(){for(var f=Ag(a);;)if(0<R(f)){var h=N(f);Cg.D?Cg.D(h,b,c):Cg.call(null,h,b,c);f=kc(f)}else return null}();return x(e)?e:!1};function Dg(a,b,c,d){c=Cg(a,b,c);return x(c)?c:zg(d,a,b)}
var Eg=function Eg(a,b,c,d,e,f,h,k){var m=Ga(function(p,q){var r=V(q,0,null);V(q,1,null);if(zg(F(c),b,r)){p=null==p||Dg(r,N(p),e,F(c))?q:p;if(!Dg(N(p),r,e,F(c)))throw Error(["Multiple methods in multimethod '",B.j(a),"' match dispatch value: ",B.j(b)," -\x3e ",B.j(r)," and ",B.j(N(p)),", and neither is preferred"].join(""));return p}return p},null,F(d)),n=function(){var p;if(p=null==m)p=F(d),p=p.j?p.j(k):p.call(null,k);return x(p)?new Y(null,2,5,Z,[k,p],null):m}();if(x(n)){if(P.B(F(h),F(c)))return ce.T(f,
W,b,N(O(n))),N(O(n));Bg(f,d,h,c);return Eg.za?Eg.za(a,b,c,d,e,f,h,k):Eg.call(null,a,b,c,d,e,f,h,k)}return null};function Fg(a,b){throw Error(["No method in multimethod '",B.j(a),"' for dispatch value: ",B.j(b)].join(""));}function Gg(a,b,c,d,e,f,h){var k=Hg;this.name=a;this.J=b;this.fd=k;this.Xb=c;this.Zb=d;this.md=e;this.Yb=f;this.Qb=h;this.F=4194305;this.P=4352}g=Gg.prototype;
g.call=function(a){switch(arguments.length-1){case 0:return this.O();case 1:return this.j(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.T(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.aa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Oa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ca(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Da(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ia(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Ka(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.ic(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",B.j(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Ea(b)))};g.O=function(){var a=this.J.O?this.J.O():this.J.call(null),b=Ig(this,a);x(b)||Fg(this.name,a);return b.O?b.O():b.call(null)};g.j=function(a){var b=this.J.j?this.J.j(a):this.J.call(null,a),c=Ig(this,b);x(c)||Fg(this.name,b);return c.j?c.j(a):c.call(null,a)};
g.B=function(a,b){var c=this.J.B?this.J.B(a,b):this.J.call(null,a,b),d=Ig(this,c);x(d)||Fg(this.name,c);return d.B?d.B(a,b):d.call(null,a,b)};g.D=function(a,b,c){var d=this.J.D?this.J.D(a,b,c):this.J.call(null,a,b,c),e=Ig(this,d);x(e)||Fg(this.name,d);return e.D?e.D(a,b,c):e.call(null,a,b,c)};g.T=function(a,b,c,d){var e=this.J.T?this.J.T(a,b,c,d):this.J.call(null,a,b,c,d),f=Ig(this,e);x(f)||Fg(this.name,e);return f.T?f.T(a,b,c,d):f.call(null,a,b,c,d)};
g.aa=function(a,b,c,d,e){var f=this.J.aa?this.J.aa(a,b,c,d,e):this.J.call(null,a,b,c,d,e),h=Ig(this,f);x(h)||Fg(this.name,f);return h.aa?h.aa(a,b,c,d,e):h.call(null,a,b,c,d,e)};g.Na=function(a,b,c,d,e,f){var h=this.J.Na?this.J.Na(a,b,c,d,e,f):this.J.call(null,a,b,c,d,e,f),k=Ig(this,h);x(k)||Fg(this.name,h);return k.Na?k.Na(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
g.Oa=function(a,b,c,d,e,f,h){var k=this.J.Oa?this.J.Oa(a,b,c,d,e,f,h):this.J.call(null,a,b,c,d,e,f,h),l=Ig(this,k);x(l)||Fg(this.name,k);return l.Oa?l.Oa(a,b,c,d,e,f,h):l.call(null,a,b,c,d,e,f,h)};g.za=function(a,b,c,d,e,f,h,k){var l=this.J.za?this.J.za(a,b,c,d,e,f,h,k):this.J.call(null,a,b,c,d,e,f,h,k),m=Ig(this,l);x(m)||Fg(this.name,l);return m.za?m.za(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};
g.Pa=function(a,b,c,d,e,f,h,k,l){var m=this.J.Pa?this.J.Pa(a,b,c,d,e,f,h,k,l):this.J.call(null,a,b,c,d,e,f,h,k,l),n=Ig(this,m);x(n)||Fg(this.name,m);return n.Pa?n.Pa(a,b,c,d,e,f,h,k,l):n.call(null,a,b,c,d,e,f,h,k,l)};g.Ca=function(a,b,c,d,e,f,h,k,l,m){var n=this.J.Ca?this.J.Ca(a,b,c,d,e,f,h,k,l,m):this.J.call(null,a,b,c,d,e,f,h,k,l,m),p=Ig(this,n);x(p)||Fg(this.name,n);return p.Ca?p.Ca(a,b,c,d,e,f,h,k,l,m):p.call(null,a,b,c,d,e,f,h,k,l,m)};
g.Da=function(a,b,c,d,e,f,h,k,l,m,n){var p=this.J.Da?this.J.Da(a,b,c,d,e,f,h,k,l,m,n):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n),q=Ig(this,p);x(q)||Fg(this.name,p);return q.Da?q.Da(a,b,c,d,e,f,h,k,l,m,n):q.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Ea=function(a,b,c,d,e,f,h,k,l,m,n,p){var q=this.J.Ea?this.J.Ea(a,b,c,d,e,f,h,k,l,m,n,p):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p),r=Ig(this,q);x(r)||Fg(this.name,q);return r.Ea?r.Ea(a,b,c,d,e,f,h,k,l,m,n,p):r.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};
g.Fa=function(a,b,c,d,e,f,h,k,l,m,n,p,q){var r=this.J.Fa?this.J.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q),w=Ig(this,r);x(w)||Fg(this.name,r);return w.Fa?w.Fa(a,b,c,d,e,f,h,k,l,m,n,p,q):w.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};
g.Ga=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r){var w=this.J.Ga?this.J.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r),z=Ig(this,w);x(z)||Fg(this.name,w);return z.Ga?z.Ga(a,b,c,d,e,f,h,k,l,m,n,p,q,r):z.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r)};
g.Ha=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w){var z=this.J.Ha?this.J.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w),C=Ig(this,z);x(C)||Fg(this.name,z);return C.Ha?C.Ha(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w):C.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w)};
g.Ia=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z){var C=this.J.Ia?this.J.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z),E=Ig(this,C);x(E)||Fg(this.name,C);return E.Ia?E.Ia(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z):E.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z)};
g.Ja=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C){var E=this.J.Ja?this.J.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C),M=Ig(this,E);x(M)||Fg(this.name,E);return M.Ja?M.Ja(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C):M.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C)};
g.Ka=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E){var M=this.J.Ka?this.J.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E),T=Ig(this,M);x(T)||Fg(this.name,M);return T.Ka?T.Ka(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E):T.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E)};
g.La=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M){var T=this.J.La?this.J.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M),da=Ig(this,T);x(da)||Fg(this.name,T);return da.La?da.La(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M):da.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M)};
g.Ma=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T){var da=this.J.Ma?this.J.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):this.J.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T),qa=Ig(this,da);x(qa)||Fg(this.name,da);return qa.Ma?qa.Ma(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T):qa.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T)};
g.ic=function(a,b,c,d,e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da){var qa=Rd(this.J,a,b,c,d,Ic([e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da])),Zc=Ig(this,qa);x(Zc)||Fg(this.name,qa);return Rd(Zc,a,b,c,d,Ic([e,f,h,k,l,m,n,p,q,r,w,z,C,E,M,T,da]))};function Jg(a,b){var c=Kg;ce.T(c.Zb,W,a,b);Bg(c.Yb,c.Zb,c.Qb,c.Xb)}function Ig(a,b){P.B(F(a.Qb),F(a.Xb))||Bg(a.Yb,a.Zb,a.Qb,a.Xb);var c=F(a.Yb);c=c.j?c.j(b):c.call(null,b);return x(c)?c:Eg(a.name,b,a.Xb,a.Zb,a.md,a.Yb,a.Qb,a.fd)}g.Eb=function(){return Ob(this.name)};g.Fb=function(){return Pb(this.name)};
g.ga=function(){return ba(this)};var Lg=new I(null,"button.button.is-primary","button.button.is-primary",-883309392),Mg=new I("skier","leaves-lift","skier/leaves-lift",-1306134627),Ng=new I(null,"div.buttons.is-centered","div.buttons.is-centered",1442792514),mg=new I(null,"val","val",128701612),Og=new I(null,"render","render",-1408033454),Pg=new I(null,"mu","mu",1146469241),Qg=new I(null,"fold","fold",-887461332),Rg=new I(null,"auto-run","auto-run",1958400437),ya=new I(null,"meta","meta",1499536964),Sg=new I(null,"displayName","displayName",
-809144601),Tg=new I(null,"on-dispose","on-dispose",2105306360),Ug=new I(null,"data","data",-232669377),Vg=new I(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),Wg=new I(null,"sigma","sigma",-63715703),Xg=new I(null,"spec","spec",347520401),Yg=new I(null,"constructor","constructor",-1953928811),Zg=new I(null,"div.column","div.column",-1380853326),$g=new I(null,"actions","actions",-812656882),ah=new I(null,"childContextTypes","childContextTypes",578717991),bh=new I(null,"transform",
"transform",1381301764),ch=new I(null,"field","field",-1302436500),dh=new I(null,"\x3e","\x3e",-555517146),xg=new I(null,"descendants","descendants",1824886031),eh=new I(null,"running","running",1554969103),fh=new I(null,"class","class",-2030961996),gh=new I(null,"description","description",-1428560544),hh=new I(null,"title","title",636505583),ih=new I(null,"on-click","on-click",1632826543),jh=new I(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),kh=new I(null,"color","color",1011675173),
lh=new I(null,"stack","stack",-793405930),mh=new I(null,"as","as",1148689641),nh=new I(null,"reagentRender","reagentRender",-358306383),oh=new I(null,"name","name",1843675177),ph=new I(null,"getInitialState","getInitialState",1541760916),gg=new I(null,"alt-impl","alt-impl",670969595),qh=new I(null,"on-set","on-set",-140953470),Rf=new I("cljs.core","not-found","cljs.core/not-found",-1572889185),Hg=new I(null,"default","default",-1987822328),rh=new I("skier","joins-queue","skier/joins-queue",-1286647213),
sh=new I(null,"no-cache","no-cache",1588056370),th=new I(null,"\x3c\x3e","\x3c\x3e",1280186386),uh=new I(null,"div.columns","div.columns",-437221213),za=new I(null,"dup","dup",556298533),Aa=new I(null,"print-length","print-length",1931866356),wa=new I(null,"flush-on-newline","flush-on-newline",-151457939),vh=new I("lift","leaves","lift/leaves",-2138482165),wh=new I(null,"component-did-update","component-did-update",-1468549173),xh=new I("sim","end-time","sim/end-time",-1849965709),yh=new I(null,"reagent-render",
"reagent-render",-985383853),zh=new I(null,"encoding","encoding",1728578272),Ah=new I(null,"function-components","function-components",1492814963),Bh=new I(null,"hierarchy","hierarchy",-1053470341),Ch=new I(null,"on-write","on-write",31519475),Dh=new I("skiers","skiing","skiers/skiing",-957605270),Eh=new I(null,"key","key",-1516042587),Fh=new I(null,"zero","zero",-858964576),Gh=new I("lift","ride-time","lift/ride-time",78775400),Hh=new I(null,"y","y",-1757859776),Ih=new I(null,"x","x",2099068185),
Jh=new I(null,"t","t",-1397832519),Kh=new I(null,"componentWillUnmount","componentWillUnmount",1573788814),Lh=new I(null,"scale","scale",-230427353),Mh=new I(null,"contextType","contextType",1033066077),Nh=new I("skiers","waiting","skiers/waiting",1070582748),Oh=new I(null,"mark","mark",-373816345),Ph=new I(null,"event","event",301435442),wg=new I(null,"parents","parents",-2027538891),Qh=new I(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),Rh=new I(null,"validator","validator",
-1966190681),hg=new I(null,"fallback-impl","fallback-impl",-1501286995),Sh=new I(null,"display-name","display-name",694513143),Th=new I(null,"button.button.is-danger","button.button.is-danger",-948547713),Uh=new I("slope","length","slope/length",1017254753),Vh=new I(null,"section.section","section.section",-416807119),xa=new I(null,"readably","readably",1129599760),Wh=new I(null,"contextTypes","contextTypes",-2023853910),tg=new I(null,"keyword-fn","keyword-fn",-64566675),Xh=new I(null,"shouldComponentUpdate",
"shouldComponentUpdate",1795750960),Yh=new I(null,"unit","unit",375175175),Zh=new I(null,"id","id",-1388402092),$h=new I(null,"$schema","$schema",1635092088),ai=new I(null,"component-will-unmount","component-will-unmount",-2058314698),bi=new I("lift","chair-width","lift/chair-width",1126373462),ci=new I(null,"results","results",-1134170113),di=new I(null,"className","className",-1983287057),ei=new I(null,"h1.title","h1.title",-2139952071),fi=new I("lift","chair-period","lift/chair-period",169813739),
gi=new I(null,"events","events",1792552201),hi=new I("skiers","riding-lift","skiers/riding-lift",1574761189),ii=new I(null,"parse-tag","parse-tag",1427313738),ji=new I(null,"type","type",1174270348),ki=new I("skiers","speed","skiers/speed",88597428),yg=new I(null,"ancestors","ancestors",-776045424),Zf=new I(null,"more-marker","more-marker",-14717935);var li={},mi;function ni(){return oa("iPhone")&&!oa("iPod")&&!oa("iPad")};oa("Opera");oa("Trident")||oa("MSIE");oa("Edge");!oa("Gecko")||-1!=na.toLowerCase().indexOf("webkit")&&!oa("Edge")||oa("Trident")||oa("MSIE")||oa("Edge");-1!=na.toLowerCase().indexOf("webkit")&&!oa("Edge")&&oa("Mobile");oa("Macintosh");oa("Windows");oa("Linux")||oa("CrOS");var oi=aa.navigator||null;oi&&(oi.appVersion||"").indexOf("X11");oa("Android");ni();oa("iPad");oa("iPod");ni()||oa("iPad")||oa("iPod");na.toLowerCase().indexOf("kaios");(function(a){if("undefined"===typeof ra||"undefined"===typeof sa||"undefined"===typeof li||"undefined"===typeof mi)mi=function(b,c,d){this.f=b;this.Nc=c;this.hd=d;this.F=393216;this.P=0},mi.prototype.ka=function(b,c){return new mi(this.f,this.Nc,c)},mi.prototype.ha=function(){return this.hd},mi.Ib=!0,mi.nb="cljs.core.async/t_cljs$core$async22990",mi.Ub=function(b){return G(b,"cljs.core.async/t_cljs$core$async22990")};return new mi(a,!0,Td)})(function(){return null});var pi={},qi={},ri=[];function si(a,b){var c=qi[a];if(void 0!==c)return c;try{ri.push(a);var d=pi[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};pi[a]=d}if(e){delete shadow$provide[a];try{e.call(d,aa,si,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{ri.pop()}return d.exports}si.cache={};si.resolve=function(a){return a};var ti=si(2,{});function ui(a,b,c){var d=RegExp,e=b.source,f=x(b.ignoreCase)?"gi":"g";f=x(b.multiline)?[f,"m"].join(""):f;b=x(b.unicode)?[f,"u"].join(""):f;return a.replace(new d(e,b),c)}
function vi(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){d=ge(d);if(P.B(R(d),1))return d=N(d),a.j?a.j(d):a.call(null,d);d=He(d);return a.j?a.j(d):a.call(null,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}()}
function wi(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?ui(a,b,c):ui(a,b,vi(c));throw["Invalid match arg: ",B.j(b)].join("");}function xi(a){var b=new pa;for(a=J(a);;)if(null!=a)b.append(B.j(N(a))),a=O(a),null!=a&&b.append(" ");else return b.toString()}
function yi(a){var b=/-/;a="/(?:)/"===B.j(b)?Jc.B(He(U("",de.B(B,J(a)))),""):He(B.j(a).split(b));if(1<R(a))a:for(;;)if(""===(null==a?null:jb(a)))a=null==a?null:kb(a);else break a;return a};var zi={};var Ai={},Bi="undefined"!==typeof window&&null!=window.document,Ci=new Tf(null,new v(null,2,["aria",null,"data",null],null),null);function Di(a){return 2>R(a)?a.toUpperCase():[a.substring(0,1).toUpperCase(),a.substring(1)].join("")}function Ei(a){if("string"===typeof a)return a;a=X(a);var b=yi(a),c=J(b);b=N(c);c=O(c);return x(Ci.j?Ci.j(b):Ci.call(null,b))?a:Pd(B,b,de.B(Di,c))}
function Fi(a){var b=function(){var c=function(){var d=Pc(a);if(d){d=a.displayName;if(x(d))return d;d=a.name;return"string"===typeof d&&J(d)?d:null}return d}();if(x(c))return c;c=function(){var d=null!=a?a.P&4096||u===a.xc?!0:!1:!1;return d?X(a):d}();if(x(c))return c;c=Tc(a);return $c(c)?oh.j(c):null}();return x(b)?wi(B.j(b),"$","."):null}function Gi(a){return a instanceof I||a instanceof gc}
var Hi=function Hi(a){switch(arguments.length){case 0:return Hi.O();case 1:return Hi.j(arguments[0]);case 2:return Hi.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Hi.K(arguments[0],arguments[1],c)}};Hi.O=function(){return null};Hi.j=function(a){return Wc(a)?(a=$d(function(b){return x(b)?Gi(b)?X(b):b:null},a),J(a)?xi(a):null):Gi(a)?X(a):a};
Hi.B=function(a,b){return x(a)?x(b)?[B.j(Hi.j(a))," ",B.j(Hi.j(b))].join(""):Hi.j(a):Hi.j(b)};Hi.K=function(a,b,c){return Ga(Hi,Hi.B(a,b),c)};Hi.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Hi.$=2;var Ii=!1;function Ji(a){if($c(a))try{var b=H.B(a,Eh)}catch(c){b=null}else b=null;return b}
function Ki(a){var b=Eh.j(Tc(a));if(null!=b)return b;b=V(a,0,null);switch(b instanceof I?b.Ra:null){case "\x3e":case "f\x3e":return Ji(V(a,2,null));case "r\x3e":return a=V(a,2,null),null==a?null:a.key;default:return Ji(V(a,1,null))}};var Li=0;function Mi(a){return setTimeout(a,16)}var Ni=Bi?function(){var a=window;return function(){var b=a.requestAnimationFrame;if(x(b))return b;b=a.webkitRequestAnimationFrame;if(x(b))return b;b=a.mozRequestAnimationFrame;if(x(b))return b;b=a.msRequestAnimationFrame;return x(b)?b:Mi}().bind(a)}():Mi;function Oi(a,b){return a.qc-b.qc}function Pi(){return null}function Qi(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.O?d.O():d.call(null);c+=1}else return null}
function Ri(a,b,c){b.push(c);return a.schedule()}function Si(){this.ac=!1}g=Si.prototype;g.flush_after_render=function(){var a=this.Ob;if(null==a)return null;this.Ob=null;return Qi(a)};g.queue_render=function(a){null==this.Wb&&(this.Wb=[]);return Ri(this,this.Wb,a)};g.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.ac)return null;this.ac=!0;return Ni.j?Ni.j(a):Ni.call(null,a)};g.flush_before_flush=function(){var a=this.Pb;if(null==a)return null;this.Pb=null;return Qi(a)};
g.flush_queues=function(){this.flush_before_flush();Pi();this.flush_render();return this.flush_after_render()};g.run_queues=function(){this.ac=!1;return this.flush_queues()};g.add_before_flush=function(a){null==this.Pb&&(this.Pb=[]);return Ri(this,this.Pb,a)};g.add_after_render=function(a){null==this.Ob&&(this.Ob=[]);return Ri(this,this.Ob,a)};
g.flush_render=function(){var a=this.Wb;if(null==a)return null;this.Wb=null;a:{a.sort(Oi);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var Ti=new Si;function Ui(a){if(x(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return Ti.queue_render(a)};function Vi(a){if(null!=a&&null!=a.nd)a=a.id;else{var b=Vi[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Vi._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("Compiler.get-id",a);}return a}function Wi(a,b,c){if(null!=a&&null!=a.Jc)a=a.Jc(a,b,c);else{var d=Wi[t(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Wi._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw A("Compiler.parse-tag",a);}return a}
function Xi(a,b){if(null!=a&&null!=a.Hc)a=a.Hc(a,b);else{var c=Xi[t(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Xi._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw A("Compiler.as-element",a);}return a}
function Yi(a,b,c,d,e){if(null!=a&&null!=a.Ic)a=a.Ic(a,b,c,d,e);else{var f=Yi[t(null==a?null:a)];if(null!=f)a=f.aa?f.aa(a,b,c,d,e):f.call(null,a,b,c,d,e);else if(f=Yi._,null!=f)a=f.aa?f.aa(a,b,c,d,e):f.call(null,a,b,c,d,e);else throw A("Compiler.make-element",a);}return a};var Zi=function Zi(a){switch(arguments.length){case 1:return Zi.j(arguments[0]);case 2:return Zi.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(2),0,null);return Zi.K(arguments[0],arguments[1],c)}};Zi.j=function(a){return a};Zi.B=function(a,b){return R(a)<R(b)?Ga(function(c,d){return id(b,d)?Uc.B(c,d):c},a,a):Ga(Uc,a,b)};Zi.K=function(a,b,c){return Ga(Zi,a,Jc.B(c,b))};
Zi.ba=function(a){var b=N(a),c=O(a);a=N(c);c=O(c);return this.K(b,a,c)};Zi.$=2;var $i;function aj(a,b){b.dc=null;a:{var c=$i;$i=b;try{var d=a.O?a.O():a.call(null);break a}finally{$i=c}d=void 0}a=b.dc;b.gb=!1;a:{c=b.rb;var e=null==a?0:a.length,f=e===(null==c?0:c.length);if(f)for(f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=f}c||b._update_watching(a);return d}function bj(a){var b=$i;if(null!=b){var c=b.dc;null==c?b.dc=[a]:c.push(a)}}function cj(a,b,c){a.ua=W.D(a.ua,b,c);return a.tc=null}
function dj(a,b){a.ua=Oc.B(a.ua,b);return a.tc=null}function ej(a,b,c){var d=a.tc;d=null==d?a.tc=od(function(l,m,n){l.push(m);l.push(n);return l},[],a.ua):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.T?k.T(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function fj(a,b,c,d){G(a,["#object[reagent.ratom.",B.j(c)," "].join(""));a:{c=$i;$i=null;try{var e=d;break a}finally{$i=c}e=void 0}eg(e,a,b);return G(a,"]")}var gj=null;
function hj(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.ua=d;this.F=2154201088;this.P=114690}g=hj.prototype;g.ia=function(a,b,c){return fj(b,c,"RAtom",new v(null,1,[mg,this.fb(null)],null))};g.ha=function(){return this.meta};g.ga=function(){return ba(this)};g.fa=function(a,b){return this===b};g.Sa=function(a,b){a=this.state;this.state=b;null!=this.ua&&ej(this,a,b);return b};g.kc=function(a,b){return this.Sa(null,b.j?b.j(this.state):b.call(null,this.state))};
g.lc=function(a,b,c){return this.Sa(null,b.B?b.B(this.state,c):b.call(null,this.state,c))};g.mc=function(a,b,c,d){return this.Sa(null,b.D?b.D(this.state,c,d):b.call(null,this.state,c,d))};g.nc=function(a,b,c,d,e){return this.Sa(null,Qd(b,this.state,c,d,e))};g.oc=function(a,b){ej(this,a,b)};g.Sb=function(a,b,c){return cj(this,b,c)};g.Tb=function(a,b){return dj(this,b)};g.ka=function(a,b){return new hj(this.state,b,this.validator,this.ua)};g.fb=function(){bj(this);return this.state};
var ij=function ij(a){switch(arguments.length){case 1:return ij.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new K(c.slice(1),0,null);return ij.K(arguments[0],c)}};ij.j=function(a){return new hj(a,null,null,null)};ij.K=function(a,b){var c=Sd(b);b=H.B(c,ya);c=H.B(c,Rh);return new hj(a,b,c,null)};ij.ba=function(a){var b=N(a);a=O(a);return this.K(b,a)};ij.$=1;
function jj(a){if(null!=a&&null!=a.sc)a=a.sc(a);else{var b=jj[t(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=jj._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw A("IDisposable.dispose!",a);}return a}function Fb(a,b,c,d){return a._handle_change(b,c,d)}function kj(a){this.f=a;this.state=null;this.gb=!0;this.Fc=!1;this.ec=this.Za=this.ua=this.rb=null;this.F=2153807872;this.P=114690}g=kj.prototype;g._peek_at=function(){var a=$i;$i=null;try{return this.fb(null)}finally{$i=a}};
g._handle_change=function(a,b,c){return b===c||this.gb?null:null==this.Za?(this.gb=!0,null==gj&&(gj=[],!1===Ti.ac&&Ti.schedule()),gj.push(this)):!0===this.Za?this._run(!1):this.Za.j?this.Za.j(this):this.Za.call(null,this)};
g._update_watching=function(a){var b=Wf(a),c=Wf(this.rb);this.rb=a;a=J(Zi.B(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.ea(null,f);Eb(h,this);f+=1}else if(a=J(a))d=a,cd(d)?(a=Mb(d),f=Nb(d),d=a,e=R(a),a=f):(a=N(d),Eb(a,this),a=O(d),d=null,e=0),f=0;else break;b=J(Zi.B(c,b));c=null;for(e=d=0;;)if(e<d)a=c.ea(null,e),Gb(a,this),e+=1;else if(b=J(b))c=b,cd(c)?(b=Mb(c),d=Nb(c),c=b,a=R(b),b=d,d=a):(a=N(c),Gb(a,this),b=O(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.gb&&null!=this.rb?this._run(!0):null};g._try_capture=function(a){try{return this.ec=null,aj(a,this)}catch(b){return this.ec=this.state=a=b,this.gb=!1}};g._run=function(a){var b=this.state;a=x(a)?this._try_capture(this.f):aj(this.f,this);this.Fc||(this.state=a,null==this.ua||P.B(b,a)||ej(this,b,a));return a};
g._set_opts=function(a){var b=Sd(a);a=H.B(b,Rg);var c=H.B(b,qh),d=H.B(b,Tg);b=H.B(b,sh);null!=a&&(this.Za=a);null!=c&&(this.kd=c);null!=d&&(this.Gc=d);return null!=b?this.Fc=b:null};g.ia=function(a,b,c){return fj(b,c,"Reaction",new v(null,1,[mg,this.fb(null)],null))};g.ga=function(){return ba(this)};g.fa=function(a,b){return this===b};
g.sc=function(){var a=this.state,b=this.rb;this.Za=this.state=this.rb=null;this.gb=!0;b=J(Wf(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e);Gb(f,this);e+=1}else if(b=J(b))c=b,cd(c)?(b=Mb(c),e=Nb(c),c=b,d=R(b),b=e):(b=N(c),Gb(b,this),b=O(c),c=null,d=0),e=0;else break;null!=this.Gc&&this.Gc(a);a=this.Cd;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.j?d.j(this):d.call(null,this),c+=1;else return null};g.Sa=function(a,b){a=this.state;this.state=b;this.kd(a,b);ej(this,a,b);return b};
g.kc=function(a,b){a=this.Sa;var c=this._peek_at();b=b.j?b.j(c):b.call(null,c);return a.call(this,null,b)};g.lc=function(a,b,c){a=this.Sa;var d=this._peek_at();b=b.B?b.B(d,c):b.call(null,d,c);return a.call(this,null,b)};g.mc=function(a,b,c,d){a=this.Sa;var e=this._peek_at();b=b.D?b.D(e,c,d):b.call(null,e,c,d);return a.call(this,null,b)};g.nc=function(a,b,c,d,e){return this.Sa(null,Qd(b,this._peek_at(),c,d,e))};g.oc=function(a,b){ej(this,a,b)};g.Sb=function(a,b,c){return cj(this,b,c)};
g.Tb=function(a,b){a=Vc(this.ua);dj(this,b);return!a&&Vc(this.ua)&&null==this.Za?this.sc(null):null};g.fb=function(){var a=this.ec;if(null!=a)throw a;(a=null==$i)&&(lj.O?lj.O():lj.call(null));a&&null==this.Za?this.gb&&(a=this.state,this.state=this.f.O?this.f.O():this.f.call(null),null==this.ua||P.B(a,this.state)||ej(this,a,this.state)):(bj(this),this.gb&&this._run(!1));return this.state};
function lj(){for(;;){var a=gj;if(null==a)return null;gj=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}Pi=lj;function mj(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new K(b.slice(1),0,null):null;b=arguments[0];var e=Sd(c);c=H.B(e,Rg);d=H.B(e,qh);e=H.B(e,Tg);b=new kj(b);b._set_opts(new v(null,3,[Rg,c,qh,d,Tg,e],null));return b}var nj=mj(null);
function oj(a,b){var c=pj,d=nj,e=aj(a,d);null!=d.rb&&(nj=mj(null),d._set_opts(c),d.f=a,d.Za=function(){return Ui.j?Ui.j(b):Ui.call(null,b)},b.cljsRatom=d);return e};var qj;function rj(a,b){var c=b.argv;if(null==c){c=Z;a=a.constructor;a:for(var d=ha(b),e=d.length,f=Td,h=0;;)if(h<e){var k=d[h];f=W.D(f,yd.j(k),ia(b,k));h+=1}else break a;b=new Y(null,2,5,c,[a,f],null)}else b=c;return b}function sj(a){var b;if(b=Pc(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.ib);return b}
function tj(a,b){for(;;){var c=a.ib,d=!0===a.bd?c.call(a,a):function(){var e=rj(a,a.props);switch(R(e)){case 1:return c.call(a);case 2:return c.call(a,Ec(e,1));case 3:return c.call(a,Ec(e,1),Ec(e,2));case 4:return c.call(a,Ec(e,1),Ec(e,2),Ec(e,3));case 5:return c.call(a,Ec(e,1),Ec(e,2),Ec(e,3),Ec(e,4));default:return c.apply(a,Fa(e).slice(1))}}();if(bd(d))return Xi(b,d);if(gd(d))d=sj(d)?function(e,f,h,k,l){return function(){function m(p){var q=null;if(0<arguments.length){q=0;for(var r=Array(arguments.length-
0);q<r.length;)r[q]=arguments[q+0],++q;q=new K(r,0,null)}return n.call(this,q)}function n(p){return Xi(f,Pd(Le,l,p))}m.$=0;m.ba=function(p){p=J(p);return n(p)};m.K=n;return m}()}(a,b,c,null,d):d,a.ib=d;else return d}}var pj=new v(null,1,[sh,!0],null);
function uj(a,b){switch(a instanceof I?a.Ra:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){var e=b.call,f=c.argv;null!=f&&(c=V(f,1,null),c=$c(c)?c:null);return e.call(b,null,c,d)};case "getInitialState":return function(c){var d=c.dd;d=null!=d?d:c.dd=ij.j(null);return be(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,rj(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,rj(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,rj(this,c))};case "shouldComponentUpdate":return function(c){var d=Ii;if(x(d))return d;d=this.props.argv;var e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return!P.B(d,e)}catch(h){return!1}}else return f?b.call(this,this,rj(this,this.props),rj(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,rj(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,rj(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,rj(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=ia(this,"cljsRatom");null!=c&&jj(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}var vj=new v(null,2,[Xh,null,Kh,null],null),wj=function(a){var b=new ae(Td);return function(c){var d=H.B(F(b),c);if(null!=d)return d;d=a.j?a.j(c):a.call(null,c);ce.T(b,W,c,d);return d}}(function(a){if("string"===typeof a)return a;a=X(a);a=wi(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=yi(a);var b=J(a);a=N(b);b=O(b);return Pd(B,a,de.B(Di,b))});function xj(a){return od(function(b,c,d){return W.D(b,yd.j(wj(c)),d)},Td,a)}
function yj(a,b){var c=function(){var h=nh.j(a);return x(h)?h:Og.j(a)}(),d=null==nh.j(a),e=function(){var h=Sg.j(a);if(x(h))return h;h=Fi(c);return x(h)?h:B.j(og("reagent"))}(),f=od(function(h,k,l){var m=W.D,n=uj(k,l);return m.call(W,h,k,x(n)?n:l)},Td,a);return W.K(f,Sg,e,Ic([jh,d,nh,c,Og,function(){var h=this,k=ia(h,"cljsRatom");h.cljsIsDirty=!1;return null==k?oj(function(){a:{var l=qj;qj=h;try{var m=tj(h,b);break a}finally{qj=l}m=void 0}return m},h):k._run(!1)}]))}
function zj(a){return od(function(b,c,d){c=X(c);b[c]=d;return b},{},a)}function Aj(a,b){return yj(Of.K(Ic([vj,xj(a)])),b)}var Qf=new Y(null,5,5,Z,[ah,Wh,Mh,Qh,Vg],null);
function Bj(a,b){function c(k,l,m){ti.Component.call(this,k,l,m);x(h)&&(h.B?h.B(this,k):h.call(null,this,k));x(f)&&(this.state=f.j?f.j(this):f.call(null,this));this.qc=Li+=1;return this}a=Aj(a,b);b=zj(Rd(Oc,a,Sg,ph,Yg,Ic([Og,nh,Qf])));var d=zj(Pf(a)),e=Sg.j(a),f=ph.j(a),h=Yg.j(a);ka(c.prototype,ti.Component.prototype,b);x(Og.j(a))&&(c.prototype.render=Og.j(a));x(nh.j(a))&&(c.prototype.ib=nh.j(a));x(jh.j(a))&&(c.prototype.bd=jh.j(a));ka(c,ti.Component,d);x(e)&&(c.displayName=e,c.nb=e,c.Ub=function(k){return G(k,
e)},Object.defineProperty(c,"name",{value:e,writable:!1}));c.Ib=!0;return c.prototype.constructor=c}function Cj(a,b,c){a=Vi(a);return b[a]=c}
function Dj(a,b){for(;;){var c=b.ib,d=b.argv,e=Od(c,d);if(bd(e))return Xi(a,e);if(gd(e))c=sj(e)?function(f,h,k,l,m,n){return function(){function p(r){var w=null;if(0<arguments.length){w=0;for(var z=Array(arguments.length-0);w<z.length;)z[w]=arguments[w+0],++w;w=new K(z,0,null)}return q.call(this,w)}function q(r){return Xi(f,Pd(Le,n,r))}p.$=0;p.ba=function(r){r=J(r);return q(r)};p.K=q;return p}()}(a,b,c,null,d,e):e,b.ib=c;else return e}}
function Ej(a,b){var c=b.argv,d=b.ib;b=ti.useState(0);V(b,0,null);var e=V(b,1,null),f=ti.useRef();x(f.current)||function(){var k={forceUpdate:function(){return e.j?e.j(tc):e.call(null,tc)}};k.qc=Li+=1;k.constructor=d;k.ib=d;return f.current=k}();var h=f.current;b=ia(h,"cljsRatom");ti.useEffect(function(){return function(){var k=ia(h,"cljsRatom");return null==k?null:jj(k)}},[]);h.argv=c;h.cljsIsDirty=!1;return null==b?oj(function(){a:{var k=qj;qj=h;try{var l=Dj(a,h);break a}finally{qj=k}l=void 0}return l},
h):b._run(!1)}function Fj(a,b){a=a.argv;b=b.argv;var c=!1===Ii;if(c)try{return P.B(a,b)}catch(d){return!1}else return c}function Gj(a,b){function c(e){return Ej(a,e)}var d=ia(b,Vi(a));if(x(d))return d;d=Fi(b);c.displayName=d;Object.defineProperty(c,"name",{value:d,writable:!1});d=ti.memo(c,Fj);Cj(a,b,d);return d};var Hj=new Tf(null,new v(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null),Ij=!1;
function Jj(a,b,c,d){var e=Sd(Td);e=H.B(e,Ch);if(x(function(){var h=!(a===document.activeElement&&id(Hj,a.type)&&"string"===typeof b&&"string"===typeof c);return h?h:Ij}()))return d.Vb=b,a.value=b,Pc(e)?e.j?e.j(b):e.call(null,b):null;var f=a.value;if(!P.B(f,c))return Ti.add_after_render(function(){var h=Ij;Ij=!0;try{return Kj.j?Kj.j(d):Kj.call(null,d)}finally{Ij=h}});f=R(f)-a.selectionStart;f=R(b)-f;d.Vb=b;a.value=b;Pc(e)&&(e.j?e.j(b):e.call(null,b));a.selectionStart=f;return a.selectionEnd=f}
function Kj(a){if(x(a.pc)){a.Cc=!1;var b=a.cd,c=a.Vb,d=a.rc;return P.B(b,c)?null:Jj(d,b,c,a)}return null}function Lj(a,b,c){a.Vb=c.target.value;x(a.Cc)||(a.Cc=!0,Ti.add_after_render(function(){return Kj(a)}));return b.j?b.j(c):b.call(null,c)}
function Mj(a){var b=qj;if(x(function(){var f=null!=a;return f?(f=a.hasOwnProperty("onChange"),x(f)?a.hasOwnProperty("value"):f):f}())){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;x(b.pc)||(b.pc=!0,b.Vb=c);x(b.Kc)||(b.Kc=Pc(e)?function(f){b.rc=f;return e.j?e.j(f):e.call(null,f)}:x(x(e)?e.hasOwnProperty("current"):e)?function(f){b.rc=f;return e.current=f}:function(f){return b.rc=f});b.cd=c;delete a.value;a.defaultValue=c;a.onChange=function(f){return Lj(b,d,f)};a.ref=b.Kc}}
var Nj=new v(null,4,[Sh,"ReagentInput",wh,Kj,ai,function(a){return a.pc=null},yh,function(a,b,c,d,e){Mj(c);return Yi(e,a,b,c,d)}],null);var Oj={},Pj,Qj=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,Rj={"class":"className","for":"htmlFor",charset:"charSet"};function Sj(a,b){return a.hasOwnProperty(b)?ia(a,b):null}function Tj(a,b,c){if(Gi(b)){var d=Sj(Rj,X(b));null==d?(d=Ei(b),b=X(b),b=Rj[b]=d):b=d}c=Uj.j?Uj.j(c):Uj.call(null,c);a[b]=c;return a}
function Uj(a){return"object"!==t(a)?a:Gi(a)?X(a):$c(a)?od(Tj,{},a):Wc(a)?sg(a):gd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return Od(a,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}():sg(a)}var Vj={};function Wj(a,b,c){if(Gi(b)){var d=Sj(Vj,X(b));null==d?(d=Ei(b),b=X(b),b=Vj[b]=d):b=d}c=Uj(c);a[b]=c;return a}
function Xj(a){return"object"!==t(a)?a:Gi(a)?X(a):$c(a)?od(Wj,{},a):Wc(a)?sg(a):gd(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new K(f,0,null)}return c.call(this,e)}function c(d){return Od(a,d)}b.$=0;b.ba=function(d){d=J(d);return c(d)};b.K=c;return b}():sg(a)}
function Yj(a,b,c,d,e){switch(R(b)-e){case 0:return ti.createElement(c,d);case 1:return ti.createElement(c,d,Xi(a,V(b,e,null)));default:return ti.createElement.apply(null,od(function(f,h,k){h>=e&&f.push(Xi(a,k));return f},[c,d],b))}}function Zj(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.ed=d}function ak(a,b,c){var d=ia(a,Vi(c));null==d?sj(a)?a=Cj(c,a,a):(d=Tc(a),d=W.D(d,yh,a),d=Bj(d,c),a=Cj(c,a,d)):a=d;c={};c.argv=b;b=Ki(b);null!=b&&(c.key=b);return ti.createElement(a,c)}
function bk(a,b,c,d){var e={};e.ib=a;var f=R(b);c=Pe(null,b,c|0,f|0,null);e.argv=c;b=Ki(b);null!=b&&(e.key=b);return ti.createElement(Gj(d,a),e)}function ck(a,b,c){var d;if(d=Pc(a))d=null==a?null:a.prototype,d=null!=(null==d?null:d.render);return d?ak(a,b,c):bk(a,b,1,c)}var dk={};function ek(a,b){a=Sj(dk,b);if(null==a){var c=O(Xf(Qj,X(b)));a=V(c,0,null);var d=V(c,1,null);c=V(c,2,null);c=null==c?null:wi(c,/\./," ");var e=a.indexOf("-");e=!P.B(-1,e);a=new Zj(a,d,c,e);return dk[b]=a}return a}
function fk(a,b,c,d){var e=a.tag,f=V(b,c,null),h=null==f||$c(f),k=function(){var n=h?f:null;var p=fh.j(n);p=x(p)?W.D(n,fh,Hi.j(p)):n;var q=a.id;n=a.className;q=null!=q&&null==Zh.j(p)?W.D(p,Zh,q):p;if(x(n)){var r=W.D,w=Hi.B,z=fh.j(p);p=x(z)?z:di.j(p);n=r.call(W,q,fh,w.call(Hi,n,p))}else n=q;n=x(a.ed)?Xj(n):Uj(n);return x(n)?n:{}}();c+=h?1:0;a:switch(e){case "input":case "textarea":var l=!0;break a;default:l=!1}if(l){l=Ji(f);var m=function(){var n=d.od;if(x(n))return n;n=Bj(Nj,d);return d.od=n}();return Xi(d,
Sc(new Y(null,6,5,Z,[m,b,e,k,c,d],null),Of.K(Ic([x(l)?new v(null,1,[Eh,l],null):null,Tc(b)]))))}l=Ji(Tc(b));null!=l&&(k.key=l);return Yi(d,b,e,k,c)}function gk(a,b){return Fa(de.B(function(c){return Xi(b,c)},a))}
function hk(a,b,c){null==b&&console.error("vec-to-elem",ig(Ic([a])));var d=V(a,0,null);switch(d instanceof I?d.Ra:null){case "\x3e":return c=V(a,1,null),fk(new Zj(c,null,null,null),a,2,b);case "r\x3e":c=V(a,1,null);d=V(a,2,null);d=x(d)?d:{};var e=Ji(Tc(a));null!=e&&(d.key=e);return Yi(b,a,c,d,3);case "f\x3e":return bk(V(a,1,null),a,2,b);case "\x3c\x3e":return d=V(a,1,null),c=null==d||$c(d),d=Uj(c?d:null),d=x(d)?d:{},c=1+(c?1:0),e=Ki(a),null!=e&&(d.key=e),Yi(b,a,ti.Fragment,d,c);default:if(Gi(d)||
"string"===typeof d)a:for(;;)switch(c=V(a,0,null),d=X(c),e=d.indexOf("\x3e"),e){case -1:b=fk(Wi(b,d,c),a,1,b);break a;case 0:b=null;break a;default:a=Sc(new Y(null,2,5,Z,[d.substring(0,e),W.D(Sc(a,null),0,d.substring(e+1))],null),Tc(a))}else b=c.D?c.D(d,a,b):c.call(null,d,a,b);return b}}
var ik=function(a){var b=og("reagent-compiler"),c=x(Ah.j(a))?ck:ak,d=H.D(a,ii,ek);if("undefined"===typeof zi||"undefined"===typeof Ai||"undefined"===typeof Oj||"undefined"===typeof Pj)Pj=function(e,f,h,k,l){this.ld=e;this.id=f;this.Dc=h;this.$b=k;this.jd=l;this.F=393216;this.P=0},Pj.prototype.ka=function(e,f){return new Pj(this.ld,this.id,this.Dc,this.$b,f)},Pj.prototype.ha=function(){return this.jd},Pj.prototype.nd=function(){return this.id},Pj.prototype.Jc=function(e,f,h){return this.$b.D?this.$b.D(this,
f,h):this.$b.call(null,this,f,h)},Pj.prototype.Hc=function(e,f){e=this.Dc;return"object"!==t(f)?f:bd(f)?hk(f,this,e):(null==f?0:null!=f?f.F&64||u===f.ub||(f.F?0:y(Ua,f)):y(Ua,f))?gk(f,this):Gi(f)?X(f):(null!=f?f.F&2147483648||u===f.na||(f.F?0:y(Cb,f)):y(Cb,f))?ig(Ic([f])):f},Pj.prototype.Ic=function(e,f,h,k,l){return Yj(this,f,h,k,l)},Pj.Ib=!0,Pj.nb="reagent.impl.template/t_reagent$impl$template25888",Pj.Ub=function(e){return G(e,"reagent.impl.template/t_reagent$impl$template25888")};return new Pj(a,
b,c,d,Td)}(Td);var jk=si(9,{});function kk(a){a=ia(a,"comp");ti.useEffect(function(){var c=Ii;Ii=!1;try{Ti.flush_after_render()}finally{Ii=c}});var b=Ii;Ii=!0;try{return a.O?a.O():a.call(null)}finally{Ii=b}}function lk(){var a=new Y(null,1,5,Z,[mk],null);nk.render(ti.createElement(kk,{comp:function(){return Xi(ik,a)}}))};var ok=si(74,{});function pk(a,b){this.Ec=a;this.Mc=b}pk.prototype.getKey=function(){return this.Ec};pk.prototype.getValue=function(){return this.Mc};pk.prototype.clone=function(){return new pk(this.Ec,this.Mc)};function qk(a){this.Xa=[];if(a)a:{if(a instanceof qk){var b=a.Xa;for(var c=[],d=b.length,e=0;e<d;e++)c.push(b[e].getKey());b=c;a=a.Xa;c=[];d=a.length;for(e=0;e<d;e++)c.push(a[e].getValue());a=c;if(0>=this.Xa.length){c=this.Xa;for(d=0;d<b.length;d++)c.push(new pk(b[d],a[d]));break a}}else{b=ha(a);c=[];d=0;for(e in a)c[d++]=a[e];a=c}for(d=0;d<b.length;d++)this.insert(b[d],a[d])}}g=qk.prototype;
g.insert=function(a,b){var c=this.Xa;c.push(new pk(a,b));a=c.length-1;b=this.Xa;for(c=b[a];0<a;){var d=a-1>>1;if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};g.remove=function(){var a=this.Xa,b=a.length,c=a[0];if(!(0>=b)){if(1==b)la(a);else{a[0]=a.pop();a=0;b=this.Xa;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};g.peek=function(){var a=this.Xa;if(0!=a.length)return a[0].getValue()};
g.clone=function(){return new qk(this)};g.isEmpty=function(){return 0===this.Xa.length};g.clear=function(){la(this.Xa)};function rk(){qk.call(this)}fa(rk,qk);rk.prototype.enqueue=function(a,b){this.insert(a,b)};rk.prototype.dequeue=function(){return this.remove()};function sk(a){--a;return 0<a?a:0}function tk(a){a=Sd(a);var b=H.B(a,Pg);return H.B(a,Wg)*Math.sqrt(-2*Math.log(1-Math.random()))*Math.cos(2*Math.PI*Math.random())+b}var Kg=function(){var a=new ae(Td),b=new ae(Td),c=new ae(Td),d=new ae(Td),e=H.D(Td,Bh,vg.O?vg.O():vg.call(null));return new Gg(hc.B("net.thewagner.skiers.core","handle-event"),function(f,h){return Ph.j(h)},e,a,b,c,d)}();Jg(Hg,function(a){return a});Jg(rh,function(a){return je(je(a,Dh,sk),Nh,tc)});
Jg(Mg,function(a,b){a=Sd(a);var c=H.B(a,ki),d=H.B(a,Uh);b=Sd(b);b=H.B(b,Jh);c=d/tk(c);return ke(je(je(a,hi,sk),Dh,tc),gi,Jc,new v(null,2,[Ph,rh,Jh,b+c],null))});Jg(vh,function(a,b){var c=Sd(a),d=H.B(c,Gh),e=H.B(c,bi);a=H.B(c,fi);b=Sd(b);b=H.B(b,Jh);var f=Nh.j(c);e=0>f?0:0<=f&&f<=e?f:e<f?e:null;c=ke(ke(c,Nh,sd,e),hi,rd,e);d=new v(null,2,[Ph,Mg,Jh,b+tk(d)],null);return ke(ke(c,gi,ie,ee(e,new he(null,-1,d,null))),gi,Jc,new v(null,2,[Ph,vh,Jh,b+a],null))});var uk;
a:for(var vk=[Uh,hi,Gh,gi,Dh,fi,xh,ki,bi,Jh,Nh],wk=[3E3,0,new v(null,2,[Pg,300,Wg,30],null),new Y(null,1,5,Z,[new v(null,2,[Ph,vh,Jh,0],null)],null),0,7,1E4,new v(null,3,[Pg,5,Wg,1,Yh,"m/s"],null),4,0,25],xk=vk.length,yk=0,zk=Hb(ef);;)if(yk<xk){if(wk.length<=yk)throw Error(["No value supplied for key: ",B.j(vk[yk])].join(""));var Ak=yk+1,Bk=Kb(zk,vk[yk],wk[yk]);yk=Ak;zk=Bk}else{uk=Jb(zk);break a};var Ck=new v(null,6,[$h,"https://vega.github.io/schema/vega-lite/v5.json",gh,"A simple bar chart with embedded data.",Ug,new v(null,1,[oh,ci],null),bh,new Y(null,1,5,Z,[new v(null,2,[Qg,new Y(null,3,5,Z,[Dh,Nh,hi],null),mh,new Y(null,2,5,Z,["state","number-of-skiers"],null)],null)],null),Oh,"line",zh,new v(null,3,[Ih,new v(null,4,[ch,Jh,ji,"quantitative",hh,"time",Lh,new v(null,1,[Fh,!1],null)],null),Hh,new v(null,3,[ch,"number-of-skiers",ji,"quantitative",hh,"Number of skiers"],null),kh,new v(null,
1,[ch,"state"],null)],null)],null),Dk=new v(null,6,[$h,"https://vega.github.io/schema/vega-lite/v5.json",gh,"A simple bar chart with embedded data.",Ug,new v(null,1,[oh,ci],null),bh,new Y(null,1,5,Z,[new v(null,2,[Qg,new Y(null,3,5,Z,[Dh,Nh,hi],null),mh,new Y(null,2,5,Z,["state","number-of-skiers"],null)],null)],null),Oh,"bar",zh,new v(null,3,[Ih,new v(null,4,[ch,Jh,ji,"quantitative",hh,"time",Lh,new v(null,1,[Fh,!1],null)],null),Hh,new v(null,4,[ch,"number-of-skiers",ji,"quantitative",lh,"normalize",
hh,"Percentage of skiers"],null),kh,new v(null,1,[ch,"state"],null)],null)],null),Ek=ij.j(new v(null,1,[ci,new Y(null,1,5,Z,[uk],null)],null)),Fk=ij.j(new v(null,1,[eh,!0],null));
function Gk(){return ce.B(Ek,function(a){var b=W.D,c=Jc.B,d=ci.j(a),e;a:for(e=ci.j(a);;){var f=O(e);if(null!=f)e=f;else{e=N(e);break a}}a:{f=e;e=Kg;var h=gi.j(f),k=new rk;h=J(h);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ea(null,n);k.enqueue(Jh.j(p),p);n+=1}else if(h=J(h))l=h,cd(l)?(h=Mb(l),n=Nb(l),l=h,m=R(h),h=n):(h=N(l),k.enqueue(Jh.j(h),h),h=O(l),l=null,m=0),n=0;else break;h=k.dequeue();if(x(h)){m=l=W.D;b:for(n=Kc;;){if(x(k.isEmpty()))break b;p=k.dequeue();n=Jc.B(n,p)}f=m.call(W,f,gi,n);e=e.B?e.B(f,
h):e.call(null,f,h);e=l.call(W,e,Jh,h.j?h.j(Jh):h.call(null,Jh))}else e=f;d=c.call(Jc,d,e);c=J(d);for(d=J(fe(200,d));;)if(d)c=O(c),d=O(d);else break a}return b.call(W,a,ci,He(c))})}function Hk(){return x(eh.j(F(Fk)))?new Y(null,3,5,Z,[Lg,new v(null,1,[ih,function(){return ce.T(Fk,W,eh,!1)}],null),"Pause"],null):new Y(null,3,5,Z,[Lg,new v(null,1,[ih,function(){return ce.T(Fk,W,eh,!0)}],null),"Resume"],null)}
function Ik(){return new Y(null,3,5,Z,[Th,new v(null,2,[ji,"reset",ih,function(){be(Ek,new v(null,1,[ci,new Y(null,1,5,Z,[uk],null)],null));return be(Fk,new v(null,1,[eh,!0],null))}],null),"Restart"],null)}
function mk(){x(eh.j(F(Fk)))&&setTimeout(function(){return Gk()},100);return new Y(null,4,5,Z,[th,new Y(null,2,5,Z,[Vh,new Y(null,2,5,Z,[ei,"Skiers simulation"],null)],null),new Y(null,2,5,Z,[Vh,new Y(null,3,5,Z,[Ng,new Y(null,1,5,Z,[Hk],null),new Y(null,1,5,Z,[Ik],null)],null)],null),new Y(null,2,5,Z,[Vh,new Y(null,3,5,Z,[uh,new Y(null,2,5,Z,[Zg,new Y(null,3,5,Z,[dh,ok.VegaLite,new v(null,3,[Xg,Ck,Ug,F(Ek),$g,!1],null)],null)],null),new Y(null,2,5,Z,[Zg,new Y(null,3,5,Z,[dh,ok.VegaLite,new v(null,
3,[Xg,Dk,Ug,F(Ek),$g,!1],null)],null)],null)],null)],null)],null)}var Jk=jk.createRoot,Kk;Kk=document.getElementById("app");var nk=Jk.call(jk,Kk);try{lk()}catch(a){throw console.error("An error occurred when calling (net.thewagner.skiers.web/init)"),a;};
}).call(this);